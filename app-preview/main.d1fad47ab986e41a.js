(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{1716:(Ce,Me,C)=>{"use strict";let d=null,X=1;function F(e){const t=d;return d=e,t}function R(e){if((!Re(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==X)){if(!e.producerMustRecompute(e)&&!P(e))return e.dirty=!1,void(e.lastCleanEpoch=X);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=X}}function P(e){Fe(e);for(let t=0;t<e.producerNode.length;t++){const r=e.producerNode[t],n=e.producerLastReadVersion[t];if(n!==r.version||(R(r),n!==r.version))return!0}return!1}function le(e,t){if(function O(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Fe(e),1===e.liveConsumerNode.length)for(let n=0;n<e.producerNode.length;n++)le(e.producerNode[n],e.producerIndexOfThis[n]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const n=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];Fe(o),o.producerIndexOfThis[n]=t}}function Re(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Fe(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let me=null;function xe(e){return"function"==typeof e}function be(e){const r=e(n=>{Error.call(n),n.stack=(new Error).stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}const ke=be(e=>function(r){e(this),this.message=r?`${r.length} errors occurred during unsubscription:\n${r.map((n,o)=>`${o+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=r});function nt(e,t){if(e){const r=e.indexOf(t);0<=r&&e.splice(r,1)}}class at{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(const i of r)i.remove(this);else r.remove(this);const{initialTeardown:n}=this;if(xe(n))try{n()}catch(i){t=i instanceof ke?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{$t(i)}catch(s){t=t??[],s instanceof ke?t=[...t,...s.errors]:t.push(s)}}if(t)throw new ke(t)}}add(t){var r;if(t&&t!==this)if(this.closed)$t(t);else{if(t instanceof at){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}}_hasParent(t){const{_parentage:r}=this;return r===t||Array.isArray(r)&&r.includes(t)}_addParent(t){const{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t}_removeParent(t){const{_parentage:r}=this;r===t?this._parentage=null:Array.isArray(r)&&nt(r,t)}remove(t){const{_finalizers:r}=this;r&&nt(r,t),t instanceof at&&t._removeParent(this)}}at.EMPTY=(()=>{const e=new at;return e.closed=!0,e})();const zt=at.EMPTY;function on(e){return e instanceof at||e&&"closed"in e&&xe(e.remove)&&xe(e.add)&&xe(e.unsubscribe)}function $t(e){xe(e)?e():e.unsubscribe()}const sn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Sn={setTimeout(e,t,...r){const{delegate:n}=Sn;return n?.setTimeout?n.setTimeout(e,t,...r):setTimeout(e,t,...r)},clearTimeout(e){const{delegate:t}=Sn;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function gr(e){Sn.setTimeout(()=>{const{onUnhandledError:t}=sn;if(!t)throw e;t(e)})}function Pn(){}const Ko=Pr("C",void 0,void 0);function Pr(e,t,r){return{kind:e,value:t,error:r}}let Or=null;function Kn(e){if(sn.useDeprecatedSynchronousErrorHandling){const t=!Or;if(t&&(Or={errorThrown:!1,error:null}),e(),t){const{errorThrown:r,error:n}=Or;if(Or=null,r)throw n}}else e()}class lo extends at{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,on(t)&&t.add(this)):this.destination=Xt}static create(t,r,n){return new Te(t,r,n)}next(t){this.isStopped?yn(function vo(e){return Pr("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?yn(function Vr(e){return Pr("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?yn(Ko,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const yo=Function.prototype.bind;function jr(e,t){return yo.call(e,t)}class he{constructor(t){this.partialObserver=t}next(t){const{partialObserver:r}=this;if(r.next)try{r.next(t)}catch(n){Qt(n)}}error(t){const{partialObserver:r}=this;if(r.error)try{r.error(t)}catch(n){Qt(n)}else Qt(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(r){Qt(r)}}}class Te extends lo{constructor(t,r,n){let o;if(super(),xe(t)||!t)o={next:t??void 0,error:r??void 0,complete:n??void 0};else{let i;this&&sn.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&jr(t.next,i),error:t.error&&jr(t.error,i),complete:t.complete&&jr(t.complete,i)}):o=t}this.destination=new he(o)}}function Qt(e){sn.useDeprecatedSynchronousErrorHandling?function Mo(e){sn.useDeprecatedSynchronousErrorHandling&&Or&&(Or.errorThrown=!0,Or.error=e)}(e):gr(e)}function yn(e,t){const{onStoppedNotification:r}=sn;r&&Sn.setTimeout(()=>r(e,t))}const Xt={closed:!0,next:Pn,error:function Wt(e){throw e},complete:Pn},Dr="function"==typeof Symbol&&Symbol.observable||"@@observable";function zn(e){return e}function bo(e){return 0===e.length?zn:1===e.length?e[0]:function(r){return e.reduce((n,o)=>o(n),r)}}let In=(()=>{class e{constructor(r){r&&(this._subscribe=r)}lift(r){const n=new e;return n.source=this,n.operator=r,n}subscribe(r,n,o){const i=function Oi(e){return e&&e instanceof lo||function uo(e){return e&&xe(e.next)&&xe(e.error)&&xe(e.complete)}(e)&&on(e)}(r)?r:new Te(r,n,o);return Kn(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(r){try{return this._subscribe(r)}catch(n){r.error(n)}}forEach(r,n){return new(n=co(n))((o,i)=>{const s=new Te({next:a=>{try{r(a)}catch(l){i(l),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(r){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(r)}[Dr](){return this}pipe(...r){return bo(r)(this)}toPromise(r){return new(r=co(r))((n,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>n(i))})}}return e.create=t=>new e(t),e})();function co(e){var t;return null!==(t=e??sn.Promise)&&void 0!==t?t:Promise}const Vo=be(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let On=(()=>{class e extends In{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){const n=new _r(this,this);return n.operator=r,n}_throwIfClosed(){if(this.closed)throw new Vo}next(r){Kn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(r)}})}error(r){Kn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;const{observers:n}=this;for(;n.length;)n.shift().error(r)}})}complete(){Kn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return(null===(r=this.observers)||void 0===r?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){const{hasError:n,isStopped:o,observers:i}=this;return n||o?zt:(this.currentObservers=null,i.push(r),new at(()=>{this.currentObservers=null,nt(i,r)}))}_checkFinalizedStatuses(r){const{hasError:n,thrownError:o,isStopped:i}=this;n?r.error(o):i&&r.complete()}asObservable(){const r=new In;return r.source=this,r}}return e.create=(t,r)=>new _r(t,r),e})();class _r extends On{constructor(t,r){super(),this.destination=t,this.source=r}next(t){var r,n;null===(n=null===(r=this.destination)||void 0===r?void 0:r.next)||void 0===n||n.call(r,t)}error(t){var r,n;null===(n=null===(r=this.destination)||void 0===r?void 0:r.error)||void 0===n||n.call(r,t)}complete(){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===r||r.call(t)}_subscribe(t){var r,n;return null!==(n=null===(r=this.source)||void 0===r?void 0:r.subscribe(t))&&void 0!==n?n:zt}}function vr(e){return xe(e?.lift)}function xn(e){return t=>{if(vr(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ln(e,t,r,n,o){return new Xo(e,t,r,n,o)}class Xo extends lo{constructor(t,r,n,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=r?function(a){try{r(a)}catch(l){t.error(l)}}:super._next,this._error=o?function(a){try{o(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:r}=this;super.unsubscribe(),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function an(e,t){return xn((r,n)=>{let o=0;r.subscribe(Ln(n,i=>{n.next(e.call(t,i,o++))}))})}function oe(e,t,r,n){var s,o=arguments.length,i=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,r,i):s(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i}function Ao(e){return this instanceof Ao?(this.v=e,this):new Ao(e)}function Tn(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Li(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(s){return new Promise(function(a,l){!function o(i,s,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},s)}(a,l,(s=e[i](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const os=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function g(e){return xe(e?.then)}function w(e){return xe(e[Dr])}function D(e){return Symbol.asyncIterator&&xe(e?.[Symbol.asyncIterator])}function ae(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const de=function Oe(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function et(e){return xe(e?.[de])}function Qe(e){return function Jo(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,n=r.apply(e,t||[]),i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(m){n[m]&&(o[m]=function(b){return new Promise(function(Z,te){i.push([m,b,Z,te])>1||a(m,b)})})}function a(m,b){try{!function l(m){m.value instanceof Ao?Promise.resolve(m.value.v).then(c,f):h(i[0][2],m)}(n[m](b))}catch(Z){h(i[0][3],Z)}}function c(m){a("next",m)}function f(m){a("throw",m)}function h(m,b){m(b),i.shift(),i.length&&a(i[0][0],i[0][1])}}(this,arguments,function*(){const r=e.getReader();try{for(;;){const{value:n,done:o}=yield Ao(r.read());if(o)return yield Ao(void 0);yield yield Ao(n)}}finally{r.releaseLock()}})}function it(e){return xe(e?.getReader)}function Ue(e){if(e instanceof In)return e;if(null!=e){if(w(e))return function ht(e){return new In(t=>{const r=e[Dr]();if(xe(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(os(e))return function It(e){return new In(t=>{for(let r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}(e);if(g(e))return function U(e){return new In(t=>{e.then(r=>{t.closed||(t.next(r),t.complete())},r=>t.error(r)).then(null,gr)})}(e);if(D(e))return ur(e);if(et(e))return function An(e){return new In(t=>{for(const r of e)if(t.next(r),t.closed)return;t.complete()})}(e);if(it(e))return function Fr(e){return ur(Qe(e))}(e)}throw ae(e)}function ur(e){return new In(t=>{(function Gr(e,t){var r,n,o,i;return function xi(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(f){try{c(n.next(f))}catch(h){s(h)}}function l(f){try{c(n.throw(f))}catch(h){s(h)}}function c(f){f.done?i(f.value):function o(i){return i instanceof r?i:new r(function(s){s(i)})}(f.value).then(a,l)}c((n=n.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(r=Tn(e);!(n=yield r.next()).done;)if(t.next(n.value),t.closed)return}catch(s){o={error:s}}finally{try{n&&!n.done&&(i=r.return)&&(yield i.call(r))}finally{if(o)throw o.error}}t.complete()})})(e,t).catch(r=>t.error(r))})}function Xn(e,t,r,n=0,o=!1){const i=t.schedule(function(){r(),o?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(i),!o)return i}function Vn(e,t,r=1/0){return xe(t)?Vn((n,o)=>an((i,s)=>t(n,i,o,s))(Ue(e(n,o))),r):("number"==typeof t&&(r=t),xn((n,o)=>function Ms(e,t,r,n,o,i,s,a){const l=[];let c=0,f=0,h=!1;const m=()=>{h&&!l.length&&!c&&t.complete()},b=te=>c<n?Z(te):l.push(te),Z=te=>{i&&t.next(te),c++;let _e=!1;Ue(r(te,f++)).subscribe(Ln(t,Ie=>{o?.(Ie),i?b(Ie):t.next(Ie)},()=>{_e=!0},void 0,()=>{if(_e)try{for(c--;l.length&&c<n;){const Ie=l.shift();s?Xn(t,s,()=>Z(Ie)):Z(Ie)}m()}catch(Ie){t.error(Ie)}}))};return e.subscribe(Ln(t,b,()=>{h=!0,m()})),()=>{a?.()}}(n,o,e,r)))}function jo(e=1/0){return Vn(zn,e)}const ko=new In(e=>e.complete());function ma(e){return e&&xe(e.schedule)}function Ks(e){return e[e.length-1]}function ga(e){return xe(Ks(e))?e.pop():void 0}function ss(e){return ma(Ks(e))?e.pop():void 0}function _a(e,t=0){return xn((r,n)=>{r.subscribe(Ln(n,o=>Xn(n,e,()=>n.next(o),t),()=>Xn(n,e,()=>n.complete(),t),o=>Xn(n,e,()=>n.error(o),t)))})}function va(e,t=0){return xn((r,n)=>{n.add(e.schedule(()=>r.subscribe(n),t))})}function ya(e,t){if(!e)throw new Error("Iterable cannot be null");return new In(r=>{Xn(r,t,()=>{const n=e[Symbol.asyncIterator]();Xn(r,t,()=>{n.next().then(o=>{o.done?r.complete():r.next(o.value)})},0,!0)})})}function br(e,t){return t?function Qa(e,t){if(null!=e){if(w(e))return function Za(e,t){return Ue(e).pipe(va(t),_a(t))}(e,t);if(os(e))return function Ya(e,t){return new In(r=>{let n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})})}(e,t);if(g(e))return function qa(e,t){return Ue(e).pipe(va(t),_a(t))}(e,t);if(D(e))return ya(e,t);if(et(e))return function Ka(e,t){return new In(r=>{let n;return Xn(r,t,()=>{n=e[de](),Xn(r,t,()=>{let o,i;try{({value:o,done:i}=n.next())}catch(s){return void r.error(s)}i?r.complete():r.next(o)},0,!0)}),()=>xe(n?.return)&&n.return()})}(e,t);if(it(e))return function Xa(e,t){return ya(Qe(e),t)}(e,t)}throw ae(e)}(e,t):Ue(e)}function ba(...e){const t=ss(e),r=function Wa(e,t){return"number"==typeof Ks(e)?e.pop():t}(e,1/0),n=e;return n.length?1===n.length?Ue(n[0]):jo(r)(br(n,t)):ko}class fo extends On{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const r=super._subscribe(t);return!r.closed&&t.next(this._value),r}getValue(){const{hasError:t,thrownError:r,_value:n}=this;if(t)throw r;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}}function Vt(...e){return br(e,ss(e))}function Ca(e={}){const{connector:t=(()=>new On),resetOnError:r=!0,resetOnComplete:n=!0,resetOnRefCountZero:o=!0}=e;return i=>{let s,a,l,c=0,f=!1,h=!1;const m=()=>{a?.unsubscribe(),a=void 0},b=()=>{m(),s=l=void 0,f=h=!1},Z=()=>{const te=s;b(),te?.unsubscribe()};return xn((te,_e)=>{c++,!h&&!f&&m();const Ie=l=l??t();_e.add(()=>{c--,0===c&&!h&&!f&&(a=Xs(Z,o))}),Ie.subscribe(_e),!s&&c>0&&(s=new Te({next:Ae=>Ie.next(Ae),error:Ae=>{h=!0,m(),a=Xs(b,r,Ae),Ie.error(Ae)},complete:()=>{f=!0,m(),a=Xs(b,n),Ie.complete()}}),Ue(te).subscribe(s))})(i)}}function Xs(e,t,...r){if(!0===t)return void e();if(!1===t)return;const n=new Te({next:()=>{n.unsubscribe(),e()}});return Ue(t(...r)).subscribe(n)}function Qr(e,t){return xn((r,n)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&n.complete();r.subscribe(Ln(n,l=>{o?.unsubscribe();let c=0;const f=i++;Ue(e(l,f)).subscribe(o=Ln(n,h=>n.next(t?t(l,h,f,c++):h),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Qs(e,t=zn){return e=e??Ja,xn((r,n)=>{let o,i=!0;r.subscribe(Ln(n,s=>{const a=t(s);(i||!e(o,a))&&(i=!1,o=a,n.next(s))}))})}function Ja(e,t){return e===t}function jn(e){for(let t in e)if(e[t]===jn)return t;throw Error("Could not find renamed property on target object.")}function As(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Cr(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Cr).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function Js(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const el=jn({__forward_ref__:jn});function Un(e){return e.__forward_ref__=Un,e.toString=function(){return Cr(this())},e}function jt(e){return ks(e)?e():e}function ks(e){return"function"==typeof e&&e.hasOwnProperty(el)&&e.__forward_ref__===Un}function ea(e){return e&&!!e.\u0275providers}const Sa="https://g.co/ng/security#xss";class Je extends Error{constructor(t,r){super(function $i(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,r)),this.code=t}}const as=jn({\u0275cmp:jn}),ta=jn({\u0275dir:jn}),wa=jn({\u0275pipe:jn}),tl=jn({\u0275mod:jn}),ei=jn({\u0275fac:jn}),ls=jn({__NG_ELEMENT_ID__:jn}),nl=jn({__NG_ENV_ID__:jn});function Yt(e){return"string"==typeof e?e:null==e?"":String(e)}function Ir(e,t){throw new Je(-201,!1)}function bn(e,t){null==e&&function yt(e,t,r,n){throw new Error(`ASSERTION ERROR: ${e}`+(null==n?"":` [Expected=> ${r} ${n} ${t} <=Actual]`))}(t,e,null,"!=")}function k(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ot(e){return{providers:e.providers||[],imports:e.imports||[]}}function nn(e){return ln(e,rr)||ln(e,Cn)}function ln(e,t){return e.hasOwnProperty(t)?e[t]:null}function Lt(e){return e&&(e.hasOwnProperty(fr)||e.hasOwnProperty(Rt))?e[fr]:null}const rr=jn({\u0275prov:jn}),fr=jn({\u0275inj:jn}),Cn=jn({ngInjectableDef:jn}),Rt=jn({ngInjectorDef:jn});var Nt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Nt||{});let Bn;function Tr(){return Bn}function mn(e){const t=Bn;return Bn=e,t}function Ke(e,t,r){const n=nn(e);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:r&Nt.Optional?null:void 0!==t?t:void Ir(Cr(e))}const x=globalThis;class Pe{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=k({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ia={},il="__NG_DI_FLAG__",dt="ngTempTokenPath",Ci=/\n/gm,sl="__source";let xa;function Ta(e){const t=xa;return xa=e,t}function Wh(e,t=Nt.Default){if(void 0===xa)throw new Je(-203,!1);return null===xa?Ke(e,void 0,t):xa.get(e,t&Nt.Optional?null:void 0,t)}function ue(e,t=Nt.Default){return(Tr()||Wh)(jt(e),t)}function lt(e,t=Nt.Default){return ue(e,lu(t))}function lu(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Xu(e){const t=[];for(let r=0;r<e.length;r++){const n=jt(e[r]);if(Array.isArray(n)){if(0===n.length)throw new Je(900,!1);let o,i=Nt.Default;for(let s=0;s<n.length;s++){const a=n[s],l=Zh(a);"number"==typeof l?-1===l?o=a.token:i|=l:o=a}t.push(ue(o,i))}else t.push(ue(n))}return t}function vc(e,t){return e[il]=t,e.prototype[il]=t,e}function Zh(e){return e[il]}function na(e){return{toString:e}.toString()}var cu=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(cu||{}),cs=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(cs||{});const Ps={},Zn=[];function Rf(e,t,r){let n=e.length;for(;;){const o=e.indexOf(t,r);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const i=t.length;if(o+i===n||e.charCodeAt(o+i)<=32)return o}r=o+1}}function Qu(e,t,r){let n=0;for(;n<r.length;){const o=r[n];if("number"==typeof o){if(0!==o)break;n++;const i=r[n++],s=r[n++],a=r[n++];e.setAttribute(t,s,a,i)}else{const i=o,s=r[++n];Of(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),n++}}return n}function Pf(e){return 3===e||4===e||6===e}function Of(e){return 64===e.charCodeAt(0)}function yc(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let n=0;n<t.length;n++){const o=t[n];"number"==typeof o?r=o:0===r||Ff(e,r,o,null,-1===r||2===r?t[++n]:null)}}return e}function Ff(e,t,r,n,o){let i=0,s=e.length;if(-1===t)s=-1;else for(;i<e.length;){const a=e[i++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=i-1;break}}}for(;i<e.length;){const a=e[i];if("number"==typeof a)break;if(a===r){if(null===n)return void(null!==o&&(e[i+1]=o));if(n===e[i+1])return void(e[i+2]=o)}i++,null!==n&&i++,null!==o&&i++}-1!==s&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,r),null!==n&&e.splice(i++,0,n),null!==o&&e.splice(i++,0,o)}const Nf="ng-template";function Kh(e,t,r){let n=0,o=!0;for(;n<e.length;){let i=e[n++];if("string"==typeof i&&o){const s=e[n++];if(r&&"class"===i&&-1!==Rf(s.toLowerCase(),t,0))return!0}else{if(1===i){for(;n<e.length&&"string"==typeof(i=e[n++]);)if(i.toLowerCase()===t)return!0;return!1}"number"==typeof i&&(o=!1)}}return!1}function Lf(e){return 4===e.type&&e.value!==Nf}function Xh(e,t,r){return t===(4!==e.type||r?e.value:Nf)}function Qh(e,t,r){let n=4;const o=e.attrs||[],i=function tm(e){for(let t=0;t<e.length;t++)if(Pf(e[t]))return t;return e.length}(o);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&n){if(n=2|1&n,""!==l&&!Xh(e,l,r)||""===l&&1===t.length){if(us(n))return!1;s=!0}}else{const c=8&n?l:t[++a];if(8&n&&null!==e.attrs){if(!Kh(e.attrs,c,r)){if(us(n))return!1;s=!0}continue}const h=Jh(8&n?"class":l,o,Lf(e),r);if(-1===h){if(us(n))return!1;s=!0;continue}if(""!==c){let m;m=h>i?"":o[h+1].toLowerCase();const b=8&n?m:null;if(b&&-1!==Rf(b,c,0)||2&n&&c!==m){if(us(n))return!1;s=!0}}}}else{if(!s&&!us(n)&&!us(l))return!1;if(s&&us(l))continue;s=!1,n=l|1&n}}return us(n)||s}function us(e){return 0==(1&e)}function Jh(e,t,r,n){if(null===t)return-1;let o=0;if(n||!r){let i=!1;for(;o<t.length;){const s=t[o];if(s===e)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=t[++o];for(;"string"==typeof a;)a=t[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function nm(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const n=e[r];if("number"==typeof n)return-1;if(n===t)return r;r++}return-1}(t,e)}function $f(e,t,r=!1){for(let n=0;n<t.length;n++)if(Qh(e,t[n],r))return!0;return!1}function rm(e,t){e:for(let r=0;r<t.length;r++){const n=t[r];if(e.length===n.length){for(let o=0;o<e.length;o++)if(e[o]!==n[o])continue e;return!0}}return!1}function Bf(e,t){return e?":not("+t.trim()+")":t}function om(e){let t=e[0],r=1,n=2,o="",i=!1;for(;r<e.length;){let s=e[r];if("string"==typeof s)if(2&n){const a=e[++r];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&n?o+="."+s:4&n&&(o+=" "+s);else""!==o&&!us(s)&&(t+=Bf(i,o),o=""),n=s,i=i||!us(n);r++}return""!==o&&(t+=Bf(i,o)),t}function Ye(e){return na(()=>{const t=jf(e),r={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===cu.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||cs.Emulated,styles:e.styles||Zn,_:null,schemas:e.schemas||null,tView:null,id:""};Gf(r);const n=e.dependencies;return r.directiveDefs=uu(n,!1),r.pipeDefs=uu(n,!0),r.id=function um(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of r)t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(r),r})}function am(e){return kn(e)||Eo(e)}function lm(e){return null!==e}function Jr(e){return na(()=>({type:e.type,bootstrap:e.bootstrap||Zn,declarations:e.declarations||Zn,imports:e.imports||Zn,exports:e.exports||Zn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Vf(e,t){if(null==e)return Ps;const r={};for(const n in e)if(e.hasOwnProperty(n)){let o=e[n],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),r[o]=n,t&&(t[o]=i)}return r}function Pt(e){return na(()=>{const t=jf(e);return Gf(t),t})}function Oo(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function kn(e){return e[as]||null}function Eo(e){return e[ta]||null}function Go(e){return e[wa]||null}function ni(e,t){const r=e[tl]||null;if(!r&&!0===t)throw new Error(`Type ${Cr(e)} does not have '\u0275mod' property.`);return r}function jf(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Ps,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Zn,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Vf(e.inputs,t),outputs:Vf(e.outputs),debugInfo:null}}function Gf(e){e.features?.forEach(t=>t(e))}function uu(e,t){if(!e)return null;const r=t?Go:am;return()=>("function"==typeof e?e():e).map(n=>r(n)).filter(lm)}const eo=0,pt=1,Gt=2,Lr=3,ds=4,ri=5,fs=6,jl=7,wr=8,hi=9,Gl=10,un=11,bc=12,dm=13,Cc=14,$r=15,Sc=16,wc=17,ra=18,du=19,_v=20,Ul=21,Hl=22,zl=23,fn=25,Ju=1,Hn=7,_n=9,ho=10;var Dc=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e[e.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",e}(Dc||{});function oi(e){return Array.isArray(e)&&"object"==typeof e[Ju]}function Uo(e){return Array.isArray(e)&&!0===e[Ju]}function Uf(e){return 0!=(4&e.flags)}function en(e){return e.componentOffset>-1}function mo(e){return 1==(1&e.flags)}function Rn(e){return!!e.template}function Ve(e){return 0!=(512&e[Gt])}function hs(e,t){return e.hasOwnProperty(ei)?e[ei]:null}class Ic{constructor(t,r,n){this.previousValue=t,this.currentValue=r,this.firstChange=n}isFirstChange(){return this.firstChange}}function tr(){return xc}function xc(e){return e.type.prototype.ngOnChanges&&(e.setInput=fu),ed}function ed(){const e=td(this),t=e?.current;if(t){const r=e.previous;if(r===Ps)e.previous=t;else for(let n in t)r[n]=t[n];e.current=null,this.ngOnChanges(t)}}function fu(e,t,r,n){const o=this.declaredInputs[r],i=td(e)||function mt(e,t){return e[Hf]=t}(e,{previous:Ps,current:null}),s=i.current||(i.current={}),a=i.previous,l=a[o];s[o]=new Ic(l&&l.currentValue,t,a===Ps),e[n]=t}tr.ngInherit=!0;const Hf="__ngSimpleChanges__";function td(e){return e[Hf]||null}const no=function(e,t,r){};function Hr(e){for(;Array.isArray(e);)e=e[eo];return e}function zf(e,t){return Hr(t[e])}function ji(e,t){return Hr(t[e.index])}function Wf(e,t){return e.data[t]}function nd(e,t){return e[t]}function Os(e,t){const r=t[e];return oi(r)?r:r[eo]}function yv(e){return 128==(128&e[Gt])}function al(e,t){return null==t?null:e[t]}function $S(e){e[wc]=0}function ZP(e){1024&e[Gt]||(e[Gt]|=1024,yv(e)&&pm(e))}function VS(e){return 9216&e[Gt]||e[zl]?.dirty}function jS(e){VS(e)&&pm(e)}function pm(e){let t=e[Lr];for(;null!==t&&!(Uo(t)&&t[Gt]&Dc.HasChildViewsToRefresh||oi(t)&&8192&t[Gt]);){if(Uo(t))t[Gt]|=Dc.HasChildViewsToRefresh;else if(t[Gt]|=8192,!yv(t))break;t=t[Lr]}}function hm(e,t){if(256==(256&e[Gt]))throw new Je(911,!1);null===e[Ul]&&(e[Ul]=[]),e[Ul].push(t)}const dn={lFrame:XS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function US(){return dn.bindingsEnabled}function rd(){return null!==dn.skipHydrationRootTNode}function qe(){return dn.lFrame.lView}function qn(){return dn.lFrame.tView}function Mt(e){return dn.lFrame.contextLView=e,e[wr]}function At(e){return dn.lFrame.contextLView=null,e}function Ar(){let e=HS();for(;null!==e&&64===e.type;)e=e.parent;return e}function HS(){return dn.lFrame.currentTNode}function ll(e,t){const r=dn.lFrame;r.currentTNode=e,r.isParent=t}function Cv(){return dn.lFrame.isParent}function Sv(){dn.lFrame.isParent=!1}function Gi(){const e=dn.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Wl(){return dn.lFrame.bindingIndex}function cl(){return dn.lFrame.bindingIndex++}function Zl(e){const t=dn.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function oO(e,t){const r=dn.lFrame;r.bindingIndex=r.bindingRootIndex=e,wv(t)}function wv(e){dn.lFrame.currentDirectiveIndex=e}function qS(){return dn.lFrame.currentQueryIndex}function Dv(e){dn.lFrame.currentQueryIndex=e}function sO(e){const t=e[pt];return 2===t.type?t.declTNode:1===t.type?e[ri]:null}function YS(e,t,r){if(r&Nt.SkipSelf){let o=t,i=e;for(;!(o=o.parent,null!==o||r&Nt.Host||(o=sO(i),null===o||(i=i[Cc],10&o.type))););if(null===o)return!1;t=o,e=i}const n=dn.lFrame=KS();return n.currentTNode=t,n.lView=e,!0}function Iv(e){const t=KS(),r=e[pt];dn.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function KS(){const e=dn.lFrame,t=null===e?null:e.child;return null===t?XS(e):t}function XS(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function QS(){const e=dn.lFrame;return dn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const JS=QS;function xv(){const e=QS();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ai(){return dn.lFrame.selectedIndex}function hu(e){dn.lFrame.selectedIndex=e}function ro(){const e=dn.lFrame;return Wf(e.tView,e.selectedIndex)}let tw=!0;function mm(){return tw}function Tc(e){tw=e}function gm(e,t){for(let r=t.directiveStart,n=t.directiveEnd;r<n;r++){const i=e.data[r].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:f}=i;s&&(e.contentHooks??=[]).push(-r,s),a&&((e.contentHooks??=[]).push(r,a),(e.contentCheckHooks??=[]).push(r,a)),l&&(e.viewHooks??=[]).push(-r,l),c&&((e.viewHooks??=[]).push(r,c),(e.viewCheckHooks??=[]).push(r,c)),null!=f&&(e.destroyHooks??=[]).push(r,f)}}function _m(e,t,r){nw(e,t,3,r)}function vm(e,t,r,n){(3&e[Gt])===r&&nw(e,t,r,n)}function Tv(e,t){let r=e[Gt];(3&r)===t&&(r&=16383,r+=1,e[Gt]=r)}function nw(e,t,r,n){const i=n??-1,s=t.length-1;let a=0;for(let l=void 0!==n?65535&e[wc]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=n&&a>=n)break}else t[l]<0&&(e[wc]+=65536),(a<i||-1==i)&&(pO(e,r,t,l),e[wc]=(4294901760&e[wc])+l+2),l++}function rw(e,t){no(4,e,t);const r=F(null);try{t.call(e)}finally{F(r),no(5,e,t)}}function pO(e,t,r,n){const o=r[n]<0,i=r[n+1],a=e[o?-r[n]:r[n]];o?e[Gt]>>14<e[wc]>>16&&(3&e[Gt])===t&&(e[Gt]+=16384,rw(a,i)):rw(a,i)}const od=-1;class qf{constructor(t,r,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=n}}function Av(e){return e!==od}function Yf(e){return 32767&e}function Kf(e,t){let r=function vO(e){return e>>16}(e),n=t;for(;r>0;)n=n[Cc],r--;return n}let kv=!0;function ym(e){const t=kv;return kv=e,t}const ow=255,iw=5;let yO=0;const ul={};function bm(e,t){const r=sw(e,t);if(-1!==r)return r;const n=t[pt];n.firstCreatePass&&(e.injectorIndex=t.length,Rv(n.data,e),Rv(t,null),Rv(n.blueprint,null));const o=Cm(e,t),i=e.injectorIndex;if(Av(o)){const s=Yf(o),a=Kf(o,t),l=a[pt].data;for(let c=0;c<8;c++)t[i+c]=a[s+c]|l[s+c]}return t[i+8]=o,i}function Rv(e,t){e.push(0,0,0,0,0,0,0,0,t)}function sw(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Cm(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,n=null,o=t;for(;null!==o;){if(n=pw(o),null===n)return od;if(r++,o=o[Cc],-1!==n.injectorIndex)return n.injectorIndex|r<<16}return od}function Pv(e,t,r){!function bO(e,t,r){let n;"string"==typeof r?n=r.charCodeAt(0)||0:r.hasOwnProperty(ls)&&(n=r[ls]),null==n&&(n=r[ls]=yO++);const o=n&ow;t.data[e+(o>>iw)]|=1<<o}(e,t,r)}function aw(e,t,r){if(r&Nt.Optional||void 0!==e)return e;Ir()}function lw(e,t,r,n){if(r&Nt.Optional&&void 0===n&&(n=null),!(r&(Nt.Self|Nt.Host))){const o=e[hi],i=mn(void 0);try{return o?o.get(t,n,r&Nt.Optional):Ke(t,n,r&Nt.Optional)}finally{mn(i)}}return aw(n,0,r)}function cw(e,t,r,n=Nt.Default,o){if(null!==e){if(2048&t[Gt]&&!(n&Nt.Self)){const s=function DO(e,t,r,n,o){let i=e,s=t;for(;null!==i&&null!==s&&2048&s[Gt]&&!(512&s[Gt]);){const a=uw(i,s,r,n|Nt.Self,ul);if(a!==ul)return a;let l=i.parent;if(!l){const c=s[_v];if(c){const f=c.get(r,ul,n);if(f!==ul)return f}l=pw(s),s=s[Cc]}i=l}return o}(e,t,r,n,ul);if(s!==ul)return s}const i=uw(e,t,r,n,ul);if(i!==ul)return i}return lw(t,r,n,o)}function uw(e,t,r,n,o){const i=function wO(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(ls)?e[ls]:void 0;return"number"==typeof t?t>=0?t&ow:EO:t}(r);if("function"==typeof i){if(!YS(t,e,n))return n&Nt.Host?aw(o,0,n):lw(t,r,n,o);try{let s;if(s=i(n),null!=s||n&Nt.Optional)return s;Ir()}finally{JS()}}else if("number"==typeof i){let s=null,a=sw(e,t),l=od,c=n&Nt.Host?t[$r][ri]:null;for((-1===a||n&Nt.SkipSelf)&&(l=-1===a?Cm(e,t):t[a+8],l!==od&&fw(n,!1)?(s=t[pt],a=Yf(l),t=Kf(l,t)):a=-1);-1!==a;){const f=t[pt];if(dw(i,a,f.data)){const h=SO(a,t,r,s,n,c);if(h!==ul)return h}l=t[a+8],l!==od&&fw(n,t[pt].data[a+8]===c)&&dw(i,a,t)?(s=f,a=Yf(l),t=Kf(l,t)):a=-1}}return o}function SO(e,t,r,n,o,i){const s=t[pt],a=s.data[e+8],f=Sm(a,s,r,null==n?en(a)&&kv:n!=s&&0!=(3&a.type),o&Nt.Host&&i===a);return null!==f?mu(t,s,f,a):ul}function Sm(e,t,r,n,o){const i=e.providerIndexes,s=t.data,a=1048575&i,l=e.directiveStart,f=i>>20,m=o?a+f:e.directiveEnd;for(let b=n?a:a+f;b<m;b++){const Z=s[b];if(b<l&&r===Z||b>=l&&Z.type===r)return b}if(o){const b=s[l];if(b&&Rn(b)&&b.type===r)return l}return null}function mu(e,t,r,n){let o=e[r];const i=t.data;if(function hO(e){return e instanceof qf}(o)){const s=o;s.resolving&&function Nl(e,t){const r=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Je(-200,`Circular dependency in DI detected for ${e}${r}`)}(function $n(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Yt(e)}(i[r]));const a=ym(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?mn(s.injectImpl):null;YS(e,n,Nt.Default);try{o=e[r]=s.factory(void 0,i,e,n),t.firstCreatePass&&r>=n.directiveStart&&function fO(e,t,r){const{ngOnChanges:n,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(n){const s=xc(t);(r.preOrderHooks??=[]).push(e,s),(r.preOrderCheckHooks??=[]).push(e,s)}o&&(r.preOrderHooks??=[]).push(0-e,o),i&&((r.preOrderHooks??=[]).push(e,i),(r.preOrderCheckHooks??=[]).push(e,i))}(r,i[r],t)}finally{null!==c&&mn(c),ym(a),s.resolving=!1,JS()}}return o}function dw(e,t,r){return!!(r[t+(e>>iw)]&1<<e)}function fw(e,t){return!(e&Nt.Self||e&Nt.Host&&t)}class ai{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,n){return cw(this._tNode,this._lView,t,lu(n),r)}}function EO(){return new ai(Ar(),qe())}function zr(e){return na(()=>{const t=e.prototype.constructor,r=t[ei]||Ov(t),n=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==n;){const i=o[ei]||Ov(o);if(i&&i!==r)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Ov(e){return ks(e)?()=>{const t=Ov(jt(e));return t&&t()}:hs(e)}function pw(e){const t=e[pt],r=t.type;return 2===r?t.declTNode:1===r?e[ri]:null}function Mc(e){return function CO(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const n=r.length;let o=0;for(;o<n;){const i=r[o];if(Pf(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<n&&"string"==typeof r[o];)o++;else{if(i===t)return r[o+1];o+=2}}}return null}(Ar(),e)}const ld="__parameters__";function ud(e,t,r){return na(()=>{const n=function Fv(e){return function(...r){if(e){const n=e(...r);for(const o in n)this[o]=n[o]}}}(t);function o(...i){if(this instanceof o)return n.apply(this,i),this;const s=new o(...i);return a.annotation=s,a;function a(l,c,f){const h=l.hasOwnProperty(ld)?l[ld]:Object.defineProperty(l,ld,{value:[]})[ld];for(;h.length<=f;)h.push(null);return(h[f]=h[f]||[]).push(s),l}}return r&&(o.prototype=Object.create(r.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function fd(e,t){e.forEach(r=>Array.isArray(r)?fd(r,t):t(r))}function mw(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function wm(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Qf(e,t){const r=[];for(let n=0;n<e;n++)r.push(t);return r}function Fs(e,t,r){let n=pd(e,t);return n>=0?e[1|n]=r:(n=~n,function gw(e,t,r,n){let o=e.length;if(o==t)e.push(r,n);else if(1===o)e.push(n,e[0]),e[0]=r;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=r,e[t+1]=n}}(e,n,t,r)),n}function Lv(e,t){const r=pd(e,t);if(r>=0)return e[1|r]}function pd(e,t){return function _w(e,t,r){let n=0,o=e.length>>r;for(;o!==n;){const i=n+(o-n>>1),s=e[i<<r];if(t===s)return i<<r;s>t?o=i:n=i+1}return~(o<<r)}(e,t,1)}const Dm=vc(ud("Optional"),8),Im=vc(ud("SkipSelf"),4),md=new Pe("ENVIRONMENT_INITIALIZER"),Cw=new Pe("INJECTOR",-1),Vv=new Pe("INJECTOR_DEF_TYPES");class Tm{get(t,r=Ia){if(r===Ia){const n=new Error(`NullInjectorError: No provider for ${Cr(t)}!`);throw n.name="NullInjectorError",n}return r}}function ZO(...e){return{\u0275providers:Sw(0,e),\u0275fromNgModule:!0}}function Sw(e,...t){const r=[],n=new Set;let o;const i=s=>{r.push(s)};return fd(t,s=>{const a=s;Mm(a,i,[],n)&&(o||=[],o.push(a))}),void 0!==o&&ww(o,i),r}function ww(e,t){for(let r=0;r<e.length;r++){const{ngModule:n,providers:o}=e[r];Gv(o,i=>{t(i,n)})}}function Mm(e,t,r,n){if(!(e=jt(e)))return!1;let o=null,i=Lt(e);const s=!i&&kn(e);if(i||s){if(s&&!s.standalone)return!1;o=e}else{const l=e.ngModule;if(i=Lt(l),!i)return!1;o=l}const a=n.has(o);if(s){if(a)return!1;if(n.add(o),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)Mm(c,t,r,n)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let c;n.add(o);try{fd(i.imports,f=>{Mm(f,t,r,n)&&(c||=[],c.push(f))})}finally{}void 0!==c&&ww(c,t)}if(!a){const c=hs(o)||(()=>new o);t({provide:o,useFactory:c,deps:Zn},o),t({provide:Vv,useValue:o,multi:!0},o),t({provide:md,useValue:()=>ue(o),multi:!0},o)}const l=i.providers;if(null!=l&&!a){const c=e;Gv(l,f=>{t(f,c)})}}}return o!==e&&void 0!==e.providers}function Gv(e,t){for(let r of e)ea(r)&&(r=r.\u0275providers),Array.isArray(r)?Gv(r,t):t(r)}const qO=jn({provide:String,useValue:jn});function Uv(e){return null!==e&&"object"==typeof e&&qO in e}function gu(e){return"function"==typeof e}const Hv=new Pe("Set Injector scope."),Am={},KO={};let zv;function km(){return void 0===zv&&(zv=new Tm),zv}class gi{}class gd extends gi{get destroyed(){return this._destroyed}constructor(t,r,n,o){super(),this.parent=r,this.source=n,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Zv(t,s=>this.processProvider(s)),this.records.set(Cw,_d(void 0,this)),o.has("environment")&&this.records.set(gi,_d(void 0,this));const i=this.records.get(Hv);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Vv,Zn,Nt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const r=Ta(this),n=mn(void 0);try{return t()}finally{Ta(r),mn(n)}}get(t,r=Ia,n=Nt.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(nl))return t[nl](this);n=lu(n);const i=Ta(this),s=mn(void 0);try{if(!(n&Nt.SkipSelf)){let l=this.records.get(t);if(void 0===l){const c=function t2(e){return"function"==typeof e||"object"==typeof e&&e instanceof Pe}(t)&&nn(t);l=c&&this.injectableDefInScope(c)?_d(Wv(t),Am):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(n&Nt.Self?km():this.parent).get(t,r=n&Nt.Optional&&r===Ia?null:r)}catch(a){if("NullInjectorError"===a.name){if((a[dt]=a[dt]||[]).unshift(Cr(t)),i)throw a;return function qh(e,t,r,n){const o=e[dt];throw t[sl]&&o.unshift(t[sl]),e.message=function Yh(e,t,r,n=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=Cr(t);if(Array.isArray(t))o=t.map(Cr).join(" -> ");else if("object"==typeof t){let i=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):Cr(a)))}o=`{${i.join(", ")}}`}return`${r}${n?"("+n+")":""}[${o}]: ${e.replace(Ci,"\n  ")}`}("\n"+e.message,o,r,n),e.ngTokenPath=o,e[dt]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{mn(s),Ta(i)}}resolveInjectorInitializers(){const t=Ta(this),r=mn(void 0);try{const o=this.get(md,Zn,Nt.Self);for(const i of o)i()}finally{Ta(t),mn(r)}}toString(){const t=[],r=this.records;for(const n of r.keys())t.push(Cr(n));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Je(205,!1)}processProvider(t){let r=gu(t=jt(t))?t:jt(t&&t.provide);const n=function QO(e){return Uv(e)?_d(void 0,e.useValue):_d(Iw(e),Am)}(t);if(gu(t)||!0!==t.multi)this.records.get(r);else{let o=this.records.get(r);o||(o=_d(void 0,Am,!0),o.factory=()=>Xu(o.multi),this.records.set(r,o)),r=t,o.multi.push(t)}this.records.set(r,n)}hydrate(t,r){return r.value===Am&&(r.value=KO,r.value=r.factory()),"object"==typeof r.value&&r.value&&function e2(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}injectableDefInScope(t){if(!t.providedIn)return!1;const r=jt(t.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){const r=this._onDestroyHooks.indexOf(t);-1!==r&&this._onDestroyHooks.splice(r,1)}}function Wv(e){const t=nn(e),r=null!==t?t.factory:hs(e);if(null!==r)return r;if(e instanceof Pe)throw new Je(204,!1);if(e instanceof Function)return function XO(e){const t=e.length;if(t>0)throw Qf(t,"?"),new Je(204,!1);const r=function Jn(e){return e&&(e[rr]||e[Cn])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new Je(204,!1)}function Iw(e,t,r){let n;if(gu(e)){const o=jt(e);return hs(o)||Wv(o)}if(Uv(e))n=()=>jt(e.useValue);else if(function Dw(e){return!(!e||!e.useFactory)}(e))n=()=>e.useFactory(...Xu(e.deps||[]));else if(function Ew(e){return!(!e||!e.useExisting)}(e))n=()=>ue(jt(e.useExisting));else{const o=jt(e&&(e.useClass||e.provide));if(!function JO(e){return!!e.deps}(e))return hs(o)||Wv(o);n=()=>new o(...Xu(e.deps))}return n}function _d(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function Zv(e,t){for(const r of e)Array.isArray(r)?Zv(r,t):r&&ea(r)?Zv(r.\u0275providers,t):t(r)}function Ac(e,t){e instanceof gd&&e.assertNotDestroyed();const n=Ta(e),o=mn(void 0);try{return t()}finally{Ta(n),mn(o)}}function Aw(e,t=null,r=null,n){const o=kw(e,t,r,n);return o.resolveInjectorInitializers(),o}function kw(e,t=null,r=null,n,o=new Set){const i=[r||Zn,ZO(e)];return n=n||("object"==typeof e?void 0:Cr(e)),new gd(i,t||km(),n||null,o)}let Kv,Wr=(()=>{var e;class t{static create(n,o){if(Array.isArray(n))return Aw({name:""},o,n,"");{const i=n.name??"";return Aw({name:i},n.parent,n.providers,i)}}}return(e=t).THROW_IF_NOT_FOUND=Ia,e.NULL=new Tm,e.\u0275prov=k({token:e,providedIn:"any",factory:()=>ue(Cw)}),e.__NG_ELEMENT_ID__=-1,t})();const Pm=new Pe("AppId",{providedIn:"root",factory:()=>u2}),u2="ng",Pw=new Pe("Platform Initializer"),Pc=new Pe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ow=new Pe("CSP nonce",{providedIn:"root",factory:()=>function Rc(){if(void 0!==Kv)return Kv;if(typeof document<"u")return document;throw new Je(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Ns(e){return e instanceof Function?e():e}function Lm(e){return 128==(128&e.flags)}var Nc=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Nc||{});const b2=/^>|^->|<!--|-->|--!>|<!-$/g,C2=/(<|>)/g,S2="\u200b$1\u200b";const ty=new Map;let w2=0;const ry="__ngContext__";function ki(e,t){oi(t)?(e[ry]=t[du],function D2(e){ty.set(e[du],e)}(t)):e[ry]=t}let oy;function iy(e,t){return oy(e,t)}function op(e){const t=e[Lr];return Uo(t)?t[Lr]:t}function Qw(e){return eE(e[bc])}function Jw(e){return eE(e[ds])}function eE(e){for(;null!==e&&!Uo(e);)e=e[ds];return e}function yd(e,t,r,n,o){if(null!=n){let i,s=!1;Uo(n)?i=n:oi(n)&&(s=!0,n=n[eo]);const a=Hr(n);0===e&&null!==r?null==o?oE(t,r,a):_u(t,r,a,o||null,!0):1===e&&null!==r?_u(t,r,a,o||null,!0):2===e?function Hm(e,t,r){const n=Gm(e,t);n&&function H2(e,t,r,n){e.removeChild(t,r,n)}(e,n,t,r)}(t,a,s):3===e&&t.destroyNode(a),null!=i&&function Z2(e,t,r,n,o){const i=r[Hn];i!==Hr(r)&&yd(t,e,n,i,o);for(let a=ho;a<r.length;a++){const l=r[a];ap(l[pt],l,e,t,n,i)}}(t,e,i,r,o)}}function sy(e,t){return e.createComment(function Hw(e){return e.replace(b2,t=>t.replace(C2,S2))}(t))}function Vm(e,t,r){return e.createElement(t,r)}function nE(e,t){const r=e[_n],n=r.indexOf(t);r.splice(n,1)}function ip(e,t){if(e.length<=ho)return;const r=ho+t,n=e[r];if(n){const o=n[Sc];null!==o&&o!==e&&nE(o,n),t>0&&(e[r-1][ds]=n[ds]);const i=wm(e,ho+t);!function N2(e,t){ap(e,t,t[un],2,null,null),t[eo]=null,t[ri]=null}(n[pt],n);const s=i[ra];null!==s&&s.detachView(i[pt]),n[Lr]=null,n[ds]=null,n[Gt]&=-129}return n}function jm(e,t){if(!(256&t[Gt])){const r=t[un];r.destroyNode&&ap(e,t,r,3,null,null),function B2(e){let t=e[bc];if(!t)return ay(e[pt],e);for(;t;){let r=null;if(oi(t))r=t[bc];else{const n=t[ho];n&&(r=n)}if(!r){for(;t&&!t[ds]&&t!==e;)oi(t)&&ay(t[pt],t),t=t[Lr];null===t&&(t=e),oi(t)&&ay(t[pt],t),r=t&&t[ds]}t=r}}(t)}}function ay(e,t){if(!(256&t[Gt])){t[Gt]&=-129,t[Gt]|=256,t[zl]&&function ne(e){if(Fe(e),Re(e))for(let t=0;t<e.producerNode.length;t++)le(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}(t[zl]),function U2(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let n=0;n<r.length;n+=2){const o=t[r[n]];if(!(o instanceof qf)){const i=r[n+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],l=i[s+1];no(4,a,l);try{l.call(a)}finally{no(5,a,l)}}else{no(4,o,i);try{i.call(o)}finally{no(5,o,i)}}}}}(e,t),function G2(e,t){const r=e.cleanup,n=t[jl];if(null!==r)for(let i=0;i<r.length-1;i+=2)if("string"==typeof r[i]){const s=r[i+3];s>=0?n[s]():n[-s].unsubscribe(),i+=2}else r[i].call(n[r[i+1]]);null!==n&&(t[jl]=null);const o=t[Ul];if(null!==o){t[Ul]=null;for(let i=0;i<o.length;i++)(0,o[i])()}}(e,t),1===t[pt].type&&t[un].destroy();const r=t[Sc];if(null!==r&&Uo(t[Lr])){r!==t[Lr]&&nE(r,t);const n=t[ra];null!==n&&n.detachView(e)}!function I2(e){ty.delete(e[du])}(t)}}function ly(e,t,r){return function rE(e,t,r){let n=t;for(;null!==n&&40&n.type;)n=(t=n).parent;if(null===n)return r[eo];{const{componentOffset:o}=n;if(o>-1){const{encapsulation:i}=e.data[n.directiveStart+o];if(i===cs.None||i===cs.Emulated)return null}return ji(n,r)}}(e,t.parent,r)}function _u(e,t,r,n,o){e.insertBefore(t,r,n,o)}function oE(e,t,r){e.appendChild(t,r)}function iE(e,t,r,n,o){null!==n?_u(e,t,r,n,o):oE(e,t,r)}function Gm(e,t){return e.parentNode(t)}function sE(e,t,r){return lE(e,t,r)}let cy,zm,lE=function aE(e,t,r){return 40&e.type?ji(e,r):null};function Um(e,t,r,n){const o=ly(e,n,t),i=t[un],a=sE(n.parent||t[ri],n,t);if(null!=o)if(Array.isArray(r))for(let l=0;l<r.length;l++)iE(i,o,r[l],a,!1);else iE(i,o,r,a,!1);void 0!==cy&&cy(i,n,t,r,o)}function sp(e,t){if(null!==t){const r=t.type;if(3&r)return ji(t,e);if(4&r)return uy(-1,e[t.index]);if(8&r){const n=t.child;if(null!==n)return sp(e,n);{const o=e[t.index];return Uo(o)?uy(-1,o):Hr(o)}}if(32&r)return iy(t,e)()||Hr(e[t.index]);{const n=uE(e,t);return null!==n?Array.isArray(n)?n[0]:sp(op(e[$r]),n):sp(e,t.next)}}return null}function uE(e,t){return null!==t?e[$r][ri].projection[t.projection]:null}function uy(e,t){const r=ho+e+1;if(r<t.length){const n=t[r],o=n[pt].firstChild;if(null!==o)return sp(n,o)}return t[Hn]}function dy(e,t,r,n,o,i,s){for(;null!=r;){const a=n[r.index],l=r.type;if(s&&0===t&&(a&&ki(Hr(a),n),r.flags|=2),32!=(32&r.flags))if(8&l)dy(e,t,r.child,n,o,i,!1),yd(t,e,o,a,i);else if(32&l){const c=iy(r,n);let f;for(;f=c();)yd(t,e,o,f,i);yd(t,e,o,a,i)}else 16&l?fE(e,t,n,r,o,i):yd(t,e,o,a,i);r=s?r.projectionNext:r.next}}function ap(e,t,r,n,o,i){dy(r,n,e.firstChild,t,o,i,!1)}function fE(e,t,r,n,o,i){const s=r[$r],l=s[ri].projection[n.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)yd(t,e,o,l[c],i);else{let c=l;const f=s[Lr];Lm(n)&&(c.flags|=128),dy(e,t,c,f,o,i,!0)}}function pE(e,t,r){""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}function hE(e,t,r){const{mergedAttrs:n,classes:o,styles:i}=r;null!==n&&Qu(e,t,n),null!==o&&pE(e,t,o),null!==i&&function Y2(e,t,r){e.setAttribute(t,"style",r)}(e,t,i)}function bd(e){return function fy(){if(void 0===zm&&(zm=null,x.trustedTypes))try{zm=x.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return zm}()?.createHTML(e)||e}class vu{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Sa})`}}class J2 extends vu{getTypeName(){return"HTML"}}class eF extends vu{getTypeName(){return"Style"}}class tF extends vu{getTypeName(){return"Script"}}class nF extends vu{getTypeName(){return"URL"}}class rF extends vu{getTypeName(){return"ResourceURL"}}function Ls(e){return e instanceof vu?e.changingThisBreaksApplicationSecurity:e}function dl(e,t){const r=function oF(e){return e instanceof vu&&e.getTypeName()||null}(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see ${Sa})`)}return r===t}class uF{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const r=(new window.DOMParser).parseFromString(bd(t),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(t):(r.removeChild(r.firstChild),r)}catch{return null}}}class dF{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const r=this.inertDocument.createElement("template");return r.innerHTML=bd(t),r}}const pF=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Zm(e){return(e=String(e)).match(pF)?e:"unsafe:"+e}function ql(e){const t={};for(const r of e.split(","))t[r]=!0;return t}function lp(...e){const t={};for(const r of e)for(const n in r)r.hasOwnProperty(n)&&(t[n]=!0);return t}const yE=ql("area,br,col,hr,img,wbr"),bE=ql("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),CE=ql("rp,rt"),hy=lp(yE,lp(bE,ql("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),lp(CE,ql("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),lp(CE,bE)),my=ql("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),SE=lp(my,ql("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ql("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),hF=ql("script,style,template");class mF{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let r=t.firstChild,n=!0;for(;r;)if(r.nodeType===Node.ELEMENT_NODE?n=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,n&&r.firstChild)r=r.firstChild;else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let o=this.checkClobberedElement(r,r.nextSibling);if(o){r=o;break}r=this.checkClobberedElement(r,r.parentNode)}return this.buf.join("")}startElement(t){const r=t.nodeName.toLowerCase();if(!hy.hasOwnProperty(r))return this.sanitizedSomething=!0,!hF.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const n=t.attributes;for(let o=0;o<n.length;o++){const i=n.item(o),s=i.name,a=s.toLowerCase();if(!SE.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=i.value;my[a]&&(l=Zm(l)),this.buf.push(" ",s,'="',wE(l),'"')}return this.buf.push(">"),!0}endElement(t){const r=t.nodeName.toLowerCase();hy.hasOwnProperty(r)&&!yE.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(t){this.buf.push(wE(t))}checkClobberedElement(t,r){if(r&&(t.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return r}}const gF=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_F=/([^\#-~ |!])/g;function wE(e){return e.replace(/&/g,"&amp;").replace(gF,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(_F,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let qm;function EE(e,t){let r=null;try{qm=qm||function vE(e){const t=new dF(e);return function fF(){try{return!!(new window.DOMParser).parseFromString(bd(""),"text/html")}catch{return!1}}()?new uF(t):t}(e);let n=t?String(t):"";r=qm.getInertBodyElement(n);let o=5,i=n;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,n=i,i=r.innerHTML,r=qm.getInertBodyElement(n)}while(n!==i);return bd((new mF).sanitizeChildren(gy(r)||r))}finally{if(r){const n=gy(r)||r;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function gy(e){return"content"in e&&function vF(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var $s=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}($s||{});let TE=(e,t,r)=>null;function Ey(e,t,r=!1){return TE(e,t,r)}class PF{}class kE{}class FF{resolveComponentFactory(t){throw function OF(e){const t=Error(`No component factory found for ${Cr(e)}.`);return t.ngComponent=e,t}(t)}}let eg=(()=>{class t{}return t.NULL=new FF,t})();function NF(){return wd(Ar(),qe())}function wd(e,t){return new st(ji(e,t))}let st=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=NF,t})();function LF(e){return e instanceof st?e.nativeElement:e}class PE{}let Yl=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function $F(){const e=qe(),r=Os(Ar().index,e);return(oi(r)?r:e)[un]}(),t})(),BF=(()=>{var e;class t{}return(e=t).\u0275prov=k({token:e,providedIn:"root",factory:()=>null}),t})();class fp{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const VF=new fp("17.0.7"),xy={};function OE(e){const t=F(null);try{return e()}finally{F(t)}}function tg(e){return!!function Ty(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}class FE{constructor(){}supports(t){return tg(t)}create(t){return new zF(t)}}const HF=(e,t)=>t;class zF{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||HF}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,n=this._removalsHead,o=0,i=null;for(;r||n;){const s=!n||r&&r.currentIndex<LE(n,o,i)?r:n,a=LE(s,o,i),l=s.currentIndex;if(s===n)o--,n=n._nextRemoved;else if(r=r._next,null==s.previousIndex)o++;else{i||(i=[]);const c=a-o,f=l-o;if(c!=f){for(let m=0;m<c;m++){const b=m<i.length?i[m]:i[m]=0,Z=b+m;f<=Z&&Z<c&&(i[m]=b+1)}i[s.previousIndex]=f-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!tg(t))throw new Je(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,i,s,r=this._itHead,n=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)i=t[a],s=this._trackByFn(a,i),null!==r&&Object.is(r.trackById,s)?(n&&(r=this._verifyReinsertion(r,i,s,a)),Object.is(r.item,i)||this._addIdentityChange(r,i)):(r=this._mismatch(r,i,s,a),n=!0),r=r._next}else o=0,function UF(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Symbol.iterator]();let n;for(;!(n=r.next()).done;)t(n.value)}}(t,a=>{s=this._trackByFn(o,a),null!==r&&Object.is(r.trackById,s)?(n&&(r=this._verifyReinsertion(r,a,s,o)),Object.is(r.item,a)||this._addIdentityChange(r,a)):(r=this._mismatch(r,a,s,o),n=!0),r=r._next,o++}),this.length=o;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,n,o){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,i,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,o))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,i,o)):t=this._addAfter(new WF(r,n),i,o),t}_verifyReinsertion(t,r,n,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,i=t._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,r,n),this._addToMoves(t,n),t}_moveAfter(t,r,n){return this._unlink(t),this._insertAfter(t,r,n),this._addToMoves(t,n),t}_addAfter(t,r,n){return this._insertAfter(t,r,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,n){const o=null===r?this._itHead:r._next;return t._next=o,t._prev=r,null===o?this._itTail=t:o._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new NE),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,n=t._next;return null===r?this._itHead=n:r._next=n,null===n?this._itTail=r:n._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new NE),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class WF{constructor(t,r){this.item=t,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ZF{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===r||r<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const r=t._prevDup,n=t._nextDup;return null===r?this._head=n:r._nextDup=n,null===n?this._tail=r:n._prevDup=r,null===this._head}}class NE{constructor(){this.map=new Map}put(t){const r=t.trackById;let n=this.map.get(r);n||(n=new ZF,this.map.set(r,n)),n.add(t)}get(t,r){const o=this.map.get(t);return o?o.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function LE(e,t,r){const n=e.previousIndex;if(null===n)return n;let o=0;return r&&n<r.length&&(o=r[n]),n+t+o}function BE(){return new ng([new FE])}let ng=(()=>{var e;class t{constructor(n){this.factories=n}static create(n,o){if(null!=o){const i=o.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:o=>t.create(n,o||BE()),deps:[[t,new Im,new Dm]]}}find(n){const o=this.factories.find(i=>i.supports(n));if(null!=o)return o;throw new Je(901,!1)}}return(e=t).\u0275prov=k({token:e,providedIn:"root",factory:BE}),t})();function hp(e,t,r,n,o=!1){for(;null!==r;){const i=t[r.index];null!==i&&n.push(Hr(i)),Uo(i)&&jE(i,n);const s=r.type;if(8&s)hp(e,t,r.child,n);else if(32&s){const a=iy(r,t);let l;for(;l=a();)n.push(l)}else if(16&s){const a=uE(t,r);if(Array.isArray(a))n.push(...a);else{const l=op(t[$r]);hp(l[pt],l,a,n,!0)}}r=o?r.projectionNext:r.next}return n}function jE(e,t){for(let r=ho;r<e.length;r++){const n=e[r],o=n[pt].firstChild;null!==o&&hp(n[pt],n,o,t)}e[Hn]!==e[eo]&&t.push(e[Hn])}let GE=[];const eN={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{pm(e.lView)},consumerOnSignalRead(){this.lView[zl]=this}};function My(e){return e.ngOriginalError}class Kl{constructor(){this._console=console}handleError(t){const r=this._findOriginalError(t);this._console.error("ERROR",t),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(t){let r=t&&My(t);for(;r&&My(r);)r=My(r);return r||null}}const HE=new Pe("",{providedIn:"root",factory:()=>lt(Kl).handleError.bind(void 0)}),WE=new Pe("",{providedIn:"root",factory:()=>!1}),En={};function ge(e){KE(qn(),qe(),Ai()+e,!1)}function KE(e,t,r,n){if(!n)if(3==(3&t[Gt])){const i=e.preOrderCheckHooks;null!==i&&_m(t,i,r)}else{const i=e.preOrderHooks;null!==i&&vm(t,i,0,r)}hu(r)}function v(e,t=Nt.Default){const r=qe();return null===r?ue(e,t):cw(Ar(),r,jt(e),t)}function og(e,t,r,n,o,i,s,a,l,c,f){const h=t.blueprint.slice();return h[eo]=o,h[Gt]=140|n,(null!==c||e&&2048&e[Gt])&&(h[Gt]|=2048),$S(h),h[Lr]=h[Cc]=e,h[wr]=r,h[Gl]=s||e&&e[Gl],h[un]=a||e&&e[un],h[hi]=l||e&&e[hi]||null,h[ri]=i,h[du]=function E2(){return w2++}(),h[fs]=f,h[_v]=c,h[$r]=2==t.type?e[$r]:h,h}function Ed(e,t,r,n,o){let i=e.data[t];if(null===i)i=function Ay(e,t,r,n,o){const i=HS(),s=Cv(),l=e.data[t]=function pN(e,t,r,n,o,i){let s=t?t.injectorIndex:-1,a=0;return rd()&&(a|=128),{type:r,index:n,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,r,t,n,o);return null===e.firstChild&&(e.firstChild=l),null!==i&&(s?null==i.child&&null!==l.parent&&(i.child=l):null===i.next&&(i.next=l,l.prev=i)),l}(e,t,r,n,o),function rO(){return dn.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=r,i.value=n,i.attrs=o;const s=function Zf(){const e=dn.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return ll(i,!0),i}function mp(e,t,r,n){if(0===r)return-1;const o=t.length;for(let i=0;i<r;i++)t.push(n),e.blueprint.push(n),e.data.push(null);return o}function QE(e,t,r,n,o){const i=Ai(),s=2&n;try{hu(-1),s&&t.length>fn&&KE(e,t,fn,!1),no(s?2:0,o),r(n,o)}finally{hu(i),no(s?3:1,o)}}function ky(e,t,r){if(Uf(t)){const n=F(null);try{const i=t.directiveEnd;for(let s=t.directiveStart;s<i;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,r[s],s)}}finally{F(n)}}}function Ry(e,t,r){US()&&(function bN(e,t,r,n){const o=r.directiveStart,i=r.directiveEnd;en(r)&&function xN(e,t,r){const n=ji(t,e),o=JE(r);let s=16;r.signals?s=4096:r.onPush&&(s=64);const a=ig(e,og(e,o,null,s,n,t,null,e[Gl].rendererFactory.createRenderer(n,r),null,null,null));e[t.index]=a}(t,r,e.data[o+r.componentOffset]),e.firstCreatePass||bm(r,t),ki(n,t);const s=r.initialInputs;for(let a=o;a<i;a++){const l=e.data[a],c=mu(t,e,a,r);ki(c,t),null!==s&&TN(0,a-o,c,l,0,s),Rn(l)&&(Os(r.index,t)[wr]=mu(t,e,a,r))}}(e,t,r,ji(r,t)),64==(64&r.flags)&&oD(e,t,r))}function Py(e,t,r=ji){const n=t.localNames;if(null!==n){let o=t.index+1;for(let i=0;i<n.length;i+=2){const s=n[i+1],a=-1===s?r(t,e):e[s];e[o++]=a}}}function JE(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Oy(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Oy(e,t,r,n,o,i,s,a,l,c,f){const h=fn+n,m=h+o,b=function aN(e,t){const r=[];for(let n=0;n<t;n++)r.push(n<e?null:En);return r}(h,m),Z="function"==typeof c?c():c;return b[pt]={type:e,blueprint:b,template:r,queries:null,viewQuery:a,declTNode:t,data:b.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:Z,incompleteFirstPass:!1,ssrId:f}}let eD=e=>null;function tD(e,t,r,n){for(let o in e)if(e.hasOwnProperty(o)){r=null===r?{}:r;const i=e[o];null===n?nD(r,t,o,i):n.hasOwnProperty(o)&&nD(r,t,n[o],i)}return r}function nD(e,t,r,n){e.hasOwnProperty(r)?e[r].push(t,n):e[r]=[t,n]}function Bs(e,t,r,n,o,i,s,a){const l=ji(t,r);let f,c=t.inputs;!a&&null!=c&&(f=c[n])?(By(e,r,f,n,o),en(t)&&function gN(e,t){const r=Os(t,e);16&r[Gt]||(r[Gt]|=64)}(r,t.index)):3&t.type&&(n=function mN(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n),o=null!=s?s(o,t.value||"",n):o,i.setProperty(l,n,o))}function Fy(e,t,r,n){if(US()){const o=null===n?null:{"":-1},i=function SN(e,t){const r=e.directiveRegistry;let n=null,o=null;if(r)for(let i=0;i<r.length;i++){const s=r[i];if($f(t,s.selectors,!1))if(n||(n=[]),Rn(s))if(null!==s.findHostDirectiveDefs){const a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),n.unshift(...a,s),Ny(e,t,a.length)}else n.unshift(s),Ny(e,t,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,n,o),n.push(s)}return null===n?null:[n,o]}(e,r);let s,a;null===i?s=a=null:[s,a]=i,null!==s&&rD(e,t,r,s,o,a),o&&function wN(e,t,r){if(t){const n=e.localNames=[];for(let o=0;o<t.length;o+=2){const i=r[t[o+1]];if(null==i)throw new Je(-301,!1);n.push(t[o],i)}}}(r,n,o)}r.mergedAttrs=yc(r.mergedAttrs,r.attrs)}function rD(e,t,r,n,o,i){for(let c=0;c<n.length;c++)Pv(bm(r,t),e,n[c].type);!function DN(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}(r,e.data.length,n.length);for(let c=0;c<n.length;c++){const f=n[c];f.providersResolver&&f.providersResolver(f)}let s=!1,a=!1,l=mp(e,t,n.length,null);for(let c=0;c<n.length;c++){const f=n[c];r.mergedAttrs=yc(r.mergedAttrs,f.hostAttrs),IN(e,r,t,l,f),EN(l,f,o),null!==f.contentQueries&&(r.flags|=4),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(r.flags|=64);const h=f.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),a=!0),l++}!function hN(e,t,r){const o=t.directiveEnd,i=e.data,s=t.attrs,a=[];let l=null,c=null;for(let f=t.directiveStart;f<o;f++){const h=i[f],m=r?r.get(h):null,Z=m?m.outputs:null;l=tD(h.inputs,f,l,m?m.inputs:null),c=tD(h.outputs,f,c,Z);const te=null===l||null===s||Lf(t)?null:MN(l,f,s);a.push(te)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(e,r,i)}function oD(e,t,r){const n=r.directiveStart,o=r.directiveEnd,i=r.index,s=function iO(){return dn.lFrame.currentDirectiveIndex}();try{hu(i);for(let a=n;a<o;a++){const l=e.data[a],c=t[a];wv(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&CN(l,c)}}finally{hu(-1),wv(s)}}function CN(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Ny(e,t,r){t.componentOffset=r,(e.components??=[]).push(t.index)}function EN(e,t,r){if(r){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)r[t.exportAs[n]]=e;Rn(t)&&(r[""]=e)}}function IN(e,t,r,n,o){e.data[n]=o;const i=o.factory||(o.factory=hs(o.type)),s=new qf(i,Rn(o),v);e.blueprint[n]=s,r[n]=s,function vN(e,t,r,n,o){const i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function yN(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(s)!=a&&s.push(a),s.push(r,n,i)}}(e,t,n,mp(e,r,o.hostVars,En),o)}function fl(e,t,r,n,o,i){const s=ji(e,t);!function Ly(e,t,r,n,o,i,s){if(null==i)e.removeAttribute(t,o,r);else{const a=null==s?Yt(i):s(i,n||"",o);e.setAttribute(t,o,a,r)}}(t[un],s,i,e.value,r,n,o)}function TN(e,t,r,n,o,i){const s=i[t];if(null!==s)for(let a=0;a<s.length;)iD(n,r,s[a++],s[a++],s[a++])}function iD(e,t,r,n,o){const i=F(null);try{const s=e.inputTransforms;null!==s&&s.hasOwnProperty(n)&&(o=s[n].call(t,o)),null!==e.setInput?e.setInput(t,o,r,n):t[n]=o}finally{F(i)}}function MN(e,t,r){let n=null,o=0;for(;o<r.length;){const i=r[o];if(0!==i)if(5!==i){if("number"==typeof i)break;if(e.hasOwnProperty(i)){null===n&&(n=[]);const s=e[i];for(let a=0;a<s.length;a+=2)if(s[a]===t){n.push(i,s[a+1],r[o+1]);break}}o+=2}else o+=2;else o+=4}return n}function sD(e,t,r,n){return[e,!0,0,t,null,n,null,r,null,null]}function aD(e,t){const r=e.contentQueries;if(null!==r){const n=F(null);try{for(let o=0;o<r.length;o+=2){const s=r[o+1];if(-1!==s){const a=e.data[s];Dv(r[o]),a.contentQueries(2,t[s],s)}}}finally{F(n)}}}function ig(e,t){return e[bc]?e[dm][ds]=t:e[bc]=t,e[dm]=t,t}function $y(e,t,r){Dv(0);const n=F(null);try{t(e,r)}finally{F(n)}}function lD(e){return e[jl]||(e[jl]=[])}function cD(e){return e.cleanup||(e.cleanup=[])}function sg(e,t){const r=e[hi],n=r?r.get(Kl,null):null;n&&n.handleError(t)}function By(e,t,r,n,o){for(let i=0;i<r.length;){const s=r[i++],a=r[i++];iD(e.data[s],t[s],n,a,o)}}function Xl(e,t,r){const n=zf(t,e);!function tE(e,t,r){e.setValue(t,r)}(e[un],n,r)}function RN(e,t,r,n){const o=t[Gt];if(256==(256&o))return;t[Gl].inlineEffectRunner?.flush(),Iv(t);let s=null,a=null;(function PN(e){return 2!==e.type})(e)&&(a=function XF(e){return e[zl]??function QF(e){const t=GE.pop()??Object.create(eN);return t.lView=e,t}(e)}(t),s=function ie(e){return e&&(e.nextProducerIndex=0),F(e)}(a));try{$S(t),function WS(e){return dn.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&QE(e,t,r,2,n);const l=3==(3&o);if(l){const h=e.preOrderCheckHooks;null!==h&&_m(t,h,null)}else{const h=e.preOrderHooks;null!==h&&vm(t,h,0,null),Tv(t,0)}if(function ON(e){for(let t=Qw(e);null!==t;t=Jw(t)){if(!(t[Gt]&Dc.HasTransplantedViews))continue;const r=t[_n];for(let n=0;n<r.length;n++){ZP(r[n])}}}(t),dD(t,0),null!==e.contentQueries&&aD(e,t),l){const h=e.contentCheckHooks;null!==h&&_m(t,h)}else{const h=e.contentHooks;null!==h&&vm(t,h,1),Tv(t,1)}!function sN(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let n=0;n<r.length;n++){const o=r[n];if(o<0)hu(~o);else{const i=o,s=r[++n],a=r[++n];oO(s,i),a(2,t[i])}}}finally{hu(-1)}}(e,t);const c=e.components;null!==c&&pD(t,c,0);const f=e.viewQuery;if(null!==f&&$y(2,f,n),l){const h=e.viewCheckHooks;null!==h&&_m(t,h)}else{const h=e.viewHooks;null!==h&&vm(t,h,2),Tv(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Hl]){for(const h of t[Hl])h();t[Hl]=null}t[Gt]&=-73}catch(l){throw pm(t),l}finally{null!==a&&(function W(e,t){if(F(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Re(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)le(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(a,s),function JF(e){e.lView[zl]!==e&&(e.lView=null,GE.push(e))}(a)),xv()}}function dD(e,t){for(let r=Qw(e);null!==r;r=Jw(r)){r[Gt]&=~Dc.HasChildViewsToRefresh;for(let n=ho;n<r.length;n++)fD(r[n],t)}}function FN(e,t,r){fD(Os(t,e),r)}function fD(e,t){yv(e)&&jy(e,t)}function jy(e,t){const n=e[pt],o=e[Gt],i=e[zl];let s=!!(0===t&&16&o);if(s||=!!(64&o&&0===t),s||=!!(1024&o),s||=!(!i?.dirty||!P(i)),i&&(i.dirty=!1),e[Gt]&=-9217,s)RN(n,e,n.template,e[wr]);else if(8192&o){dD(e,1);const a=n.components;null!==a&&pD(e,a,1)}}function pD(e,t,r){for(let n=0;n<t.length;n++)FN(e,t[n],r)}function gp(e){for(;e;){e[Gt]|=64;const t=op(e);if(Ve(e)&&!t)return e;e=t}return null}class _p{get rootNodes(){const t=this._lView,r=t[pt];return hp(r,t,r.firstChild,[])}constructor(t,r,n=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[wr]}set context(t){this._lView[wr]=t}get destroyed(){return 256==(256&this._lView[Gt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Lr];if(Uo(t)){const r=t[8],n=r?r.indexOf(this):-1;n>-1&&(ip(t,n),wm(r,n))}this._attachedToViewContainer=!1}jm(this._lView[pt],this._lView)}onDestroy(t){hm(this._lView,t)}markForCheck(){gp(this._cdRefInjectingView||this._lView)}detach(){this._lView[Gt]&=-129}reattach(){jS(this._lView),this._lView[Gt]|=128}detectChanges(){this._lView[Gt]|=1024,function Vy(e,t=!0){const r=e[Gl],n=r.rendererFactory,o=r.afterRenderEventManager;n.begin?.(),o?.begin();try{!function kN(e){jy(e,0);let t=0;for(;VS(e);){if(100===t)throw new Je(103,!1);t++,jy(e,1)}}(e)}catch(s){throw t&&sg(e,s),s}finally{n.end?.(),r.inlineEffectRunner?.flush(),o?.end()}}(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Je(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function $2(e,t){ap(e,t,t[un],2,null,null)}(this._lView[pt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Je(902,!1);this._appRef=t}}let ft=(()=>{class t{}return t.__NG_ELEMENT_ID__=NN,t})();function NN(e){return function LN(e,t,r){if(en(e)&&!r){const n=Os(e.index,t);return new _p(n,n)}return 47&e.type?new _p(t[$r],t):null}(Ar(),qe(),16==(16&e))}let ag=(()=>{var e;class t{}return(e=t).__NG_ELEMENT_ID__=jN,e.__NG_ENV_ID__=r=>r,t})();class VN extends ag{constructor(t){super(),this._lView=t}onDestroy(t){return hm(this._lView,t),()=>function bv(e,t){if(null===e[Ul])return;const r=e[Ul].indexOf(t);-1!==r&&e[Ul].splice(r,1)}(this._lView,t)}}function jN(){return new VN(qe())}const hD=new Set;function yu(e){hD.has(e)||(hD.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function Gy(e){return t=>{setTimeout(e,void 0,t)}}const tn=class qN extends On{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,r,n){let o=t,i=r||(()=>null),s=n;if(t&&"object"==typeof t){const l=t;o=l.next?.bind(l),i=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(i=Gy(i),o&&(o=Gy(o)),s&&(s=Gy(s)));const a=super.subscribe({next:o,error:i,complete:s});return t instanceof at&&t.add(a),a}};function mD(...e){}class Ze{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new tn(!1),this.onMicrotaskEmpty=new tn(!1),this.onStable=new tn(!1),this.onError=new tn(!1),typeof Zone>"u")throw new Je(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!n&&r,o.shouldCoalesceRunChangeDetection=n,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function YN(){const e="function"==typeof x.requestAnimationFrame;let t=x[e?"requestAnimationFrame":"setTimeout"],r=x[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&r){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function QN(e){const t=()=>{!function XN(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(x,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Hy(e),e.isCheckStableRunning=!0,Uy(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Hy(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,n,o,i,s,a)=>{if(function eL(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return r.invokeTask(o,i,s,a);try{return gD(e),r.invokeTask(o,i,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||e.shouldCoalesceRunChangeDetection)&&t(),_D(e)}},onInvoke:(r,n,o,i,s,a,l)=>{try{return gD(e),r.invoke(o,i,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),_D(e)}},onHasTask:(r,n,o,i)=>{r.hasTask(o,i),n===o&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,Hy(e),Uy(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(r,n,o,i)=>(r.handleError(o,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ze.isInAngularZone())throw new Je(909,!1)}static assertNotInAngularZone(){if(Ze.isInAngularZone())throw new Je(909,!1)}run(t,r,n){return this._inner.run(t,r,n)}runTask(t,r,n,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,KN,mD,mD);try{return i.runTask(s,r,n)}finally{i.cancelTask(s)}}runGuarded(t,r,n){return this._inner.runGuarded(t,r,n)}runOutsideAngular(t){return this._outer.run(t)}}const KN={};function Uy(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Hy(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function gD(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function _D(e){e._nesting--,Uy(e)}class JN{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new tn,this.onMicrotaskEmpty=new tn,this.onStable=new tn,this.onError=new tn}run(t,r,n){return t.apply(r,n)}runGuarded(t,r,n){return t.apply(r,n)}runOutsideAngular(t){return t()}runTask(t,r,n,o){return t.apply(r,n)}}const vD=new Pe("",{providedIn:"root",factory:yD});function yD(){const e=lt(Ze);let t=!0;return ba(new In(o=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{o.next(t),o.complete()})}),new In(o=>{let i;e.runOutsideAngular(()=>{i=e.onStable.subscribe(()=>{Ze.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,o.next(!0))})})});const s=e.onUnstable.subscribe(()=>{Ze.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{o.next(!1)}))});return()=>{i.unsubscribe(),s.unsubscribe()}}).pipe(Ca()))}var bu=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(bu||{});const bD={destroy(){}};function SD(e,t){!t&&function qv(e){if(!Tr()&&!function zh(){return xa}())throw new Je(-203,!1)}();const r=t?.injector??lt(Wr);if(!function Oc(e){return"browser"===(e??lt(Wr)).get(Pc)}(r))return bD;yu("NgAfterNextRender");const n=r.get(lg),o=n.handler??=new ED,i=t?.phase??bu.MixedReadWrite,s=()=>{o.unregister(l),a()},a=r.get(ag).onDestroy(s),l=new wD(r,i,()=>{s(),e()});return o.register(l),{destroy:s}}class wD{constructor(t,r,n){this.phase=r,this.callbackFn=n,this.zone=t.get(Ze),this.errorHandler=t.get(Kl,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(t){this.errorHandler?.handleError(t)}}}class ED{constructor(){this.executingCallbacks=!1,this.buckets={[bu.EarlyRead]:new Set,[bu.Write]:new Set,[bu.MixedReadWrite]:new Set,[bu.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new Je(102,!1)}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(const t of Object.values(this.buckets))for(const r of t)r.invoke();this.executingCallbacks=!1;for(const t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(const t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}}let lg=(()=>{var e;class t{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth){for(const n of this.internalCallbacks)n();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(e=t).\u0275prov=k({token:e,providedIn:"root",factory:()=>new e}),t})();function rL(e,t){const r=Os(t,e),n=r[pt];!function oL(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}(n,r);const o=r[eo];null!==o&&null===r[fs]&&(r[fs]=Ey(o,r[hi])),zy(n,r,r[wr])}function zy(e,t,r){Iv(t);try{const n=e.viewQuery;null!==n&&$y(1,n,r);const o=e.template;null!==o&&QE(e,t,o,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&aD(e,t),e.staticViewQueries&&$y(2,e.viewQuery,r);const i=e.components;null!==i&&function iL(e,t){for(let r=0;r<t.length;r++)rL(e,t[r])}(t,i)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),n}finally{t[Gt]&=-5,xv()}}function cg(e,t,r){let n=r?e.styles:null,o=r?e.classes:null,i=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?i=a:1==i?o=Js(o,a):2==i&&(n=Js(n,a+": "+t[++s]+";"))}r?e.styles=n:e.stylesWithoutHost=n,r?e.classes=o:e.classesWithoutHost=o}class DD extends eg{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=kn(t);return new vp(r,this.ngModule)}}function ID(e){const t=[];for(let r in e)e.hasOwnProperty(r)&&t.push({propName:e[r],templateName:r});return t}class aL{constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,n){n=lu(n);const o=this.injector.get(t,xy,n);return o!==xy||r===xy?o:this.parentInjector.get(t,r,n)}}class vp extends kE{get inputs(){const t=this.componentDef,r=t.inputTransforms,n=ID(t.inputs);if(null!==r)for(const o of n)r.hasOwnProperty(o.propName)&&(o.transform=r[o.propName]);return n}get outputs(){return ID(this.componentDef.outputs)}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function im(e){return e.map(om).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}create(t,r,n,o){let i=(o=o||this.ngModule)instanceof gi?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const s=i?new aL(t,i):t,a=s.get(PE,null);if(null===a)throw new Je(407,!1);const f={rendererFactory:a,sanitizer:s.get(BF,null),inlineEffectRunner:null,afterRenderEventManager:s.get(lg,null)},h=a.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",b=n?function lN(e,t,r,n){const i=n.get(WE,!1)||r===cs.ShadowDom,s=e.selectRootElement(t,i);return function cN(e){eD(e)}(s),s}(h,n,this.componentDef.encapsulation,s):Vm(h,m,function sL(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(m)),_e=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Ie=null;null!==b&&(Ie=Ey(b,s,!0));const Ae=Oy(0,null,null,1,0,null,null,null,null,null,null),bt=og(null,Ae,null,_e,null,null,f,h,s,null,Ie);let vt,Ht;Iv(bt);try{const xt=this.componentDef;let ir,Bo=null;xt.findHostDirectiveDefs?(ir=[],Bo=new Map,xt.findHostDirectiveDefs(xt,ir,Bo),ir.push(xt)):ir=[xt];const Ha=function cL(e,t){const r=e[pt],n=fn;return e[n]=t,Ed(r,n,2,"#host",null)}(bt,b),kl=function uL(e,t,r,n,o,i,s){const a=o[pt];!function dL(e,t,r,n){for(const o of e)t.mergedAttrs=yc(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(cg(t,t.mergedAttrs,!0),null!==r&&hE(n,r,t))}(n,e,t,s);let l=null;null!==t&&(l=Ey(t,o[hi]));const c=i.rendererFactory.createRenderer(t,r);let f=16;r.signals?f=4096:r.onPush&&(f=64);const h=og(o,JE(r),null,f,o[e.index],e,i,c,null,null,l);return a.firstCreatePass&&Ny(a,e,n.length-1),ig(o,h),o[e.index]=h}(Ha,b,xt,ir,bt,f,h);Ht=Wf(Ae,fn),b&&function pL(e,t,r,n){if(n)Qu(e,r,["ng-version",VF.full]);else{const{attrs:o,classes:i}=function sm(e){const t=[],r=[];let n=1,o=2;for(;n<e.length;){let i=e[n];if("string"==typeof i)2===o?""!==i&&t.push(i,e[++n]):8===o&&r.push(i);else{if(!us(o))break;o=i}n++}return{attrs:t,classes:r}}(t.selectors[0]);o&&Qu(e,r,o),i&&i.length>0&&pE(e,r,i.join(" "))}}(h,xt,b,n),void 0!==r&&function hL(e,t,r){const n=e.projection=[];for(let o=0;o<t.length;o++){const i=r[o];n.push(null!=i?Array.from(i):null)}}(Ht,this.ngContentSelectors,r),vt=function fL(e,t,r,n,o,i){const s=Ar(),a=o[pt],l=ji(s,o);rD(a,o,s,r,null,n);for(let f=0;f<r.length;f++)ki(mu(o,a,s.directiveStart+f,s),o);oD(a,o,s),l&&ki(l,o);const c=mu(o,a,s.directiveStart+s.componentOffset,s);if(e[wr]=o[wr]=c,null!==i)for(const f of i)f(c,t);return ky(a,s,e),c}(kl,xt,ir,Bo,bt,[mL]),zy(Ae,bt,null)}finally{xv()}return new lL(this.componentType,vt,wd(Ht,bt),bt,Ht)}}class lL extends PF{constructor(t,r,n,o,i){super(),this.location=n,this._rootLView=o,this._tNode=i,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new _p(o,void 0,!1),this.componentType=t}setInput(t,r){const n=this._tNode.inputs;let o;if(null!==n&&(o=n[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;const i=this._rootLView;By(i[pt],i,o,t,r),this.previousInputValues.set(t,r),gp(Os(this._tNode.index,i))}}get injector(){return new ai(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function mL(){const e=Ar();gm(qe()[pt],e)}function Dn(e){let t=function xD(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const n=[e];for(;t;){let o;if(Rn(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Je(903,!1);o=t.\u0275dir}if(o){if(r){n.push(o);const s=e;s.inputs=ug(e.inputs),s.inputTransforms=ug(e.inputTransforms),s.declaredInputs=ug(e.declaredInputs),s.outputs=ug(e.outputs);const a=o.hostBindings;a&&yL(e,a);const l=o.viewQuery,c=o.contentQueries;if(l&&_L(e,l),c&&vL(e,c),As(e.inputs,o.inputs),As(e.declaredInputs,o.declaredInputs),As(e.outputs,o.outputs),null!==o.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),As(s.inputTransforms,o.inputTransforms)),Rn(o)&&o.data.animation){const f=e.data;f.animation=(f.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(e),a===Dn&&(r=!1)}}t=Object.getPrototypeOf(t)}!function gL(e){let t=0,r=null;for(let n=e.length-1;n>=0;n--){const o=e[n];o.hostVars=t+=o.hostVars,o.hostAttrs=yc(o.hostAttrs,r=yc(r,o.hostAttrs))}}(n)}function ug(e){return e===Ps?{}:e===Zn?[]:e}function _L(e,t){const r=e.viewQuery;e.viewQuery=r?(n,o)=>{t(n,o),r(n,o)}:t}function vL(e,t){const r=e.contentQueries;e.contentQueries=r?(n,o,i)=>{t(n,o,i),r(n,o,i)}:t}function yL(e,t){const r=e.hostBindings;e.hostBindings=r?(n,o)=>{t(n,o),r(n,o)}:t}function pl(e,t,r){return e[t]=r}function Ho(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function Cu(e,t,r,n){const o=Ho(e,t,r);return Ho(e,t+1,n)||o}function Vs(e,t,r,n){const o=qe();return Ho(o,cl(),t)&&(qn(),fl(ro(),o,e,t,r,n)),Vs}function Id(e,t,r,n){return Ho(e,cl(),r)?t+Yt(r)+n:En}function Td(e,t,r,n,o,i,s,a){const c=function dg(e,t,r,n,o){const i=Cu(e,t,r,n);return Ho(e,t+2,o)||i}(e,Wl(),r,o,s);return Zl(3),c?t+Yt(r)+n+Yt(o)+i+Yt(s)+a:En}function fg(e,t){return e<<17|t<<2}function Lc(e){return e>>17&32767}function Wy(e){return 2|e}function Su(e){return(131068&e)>>2}function Zy(e,t){return-131069&e|t<<2}function qy(e){return 1|e}function jD(e,t,r,n,o){const i=e[r+1],s=null===t;let a=n?Lc(i):Su(i),l=!1;for(;0!==a&&(!1===l||s);){const f=e[a+1];AL(e[a],t)&&(l=!0,e[a+1]=n?qy(f):Wy(f)),a=n?Lc(f):Su(f)}l&&(e[r+1]=n?Wy(i):qy(i))}function AL(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&pd(e,t)>=0}function Ee(e,t,r){const n=qe();return Ho(n,cl(),t)&&Bs(qn(),ro(),n,e,t,n[un],r,!1),Ee}function Yy(e,t,r,n,o){const s=o?"class":"style";By(e,r,t.inputs[s],s,n)}function wu(e,t,r){return Aa(e,t,r,!1),wu}function ia(e,t){return Aa(e,t,null,!0),ia}function Aa(e,t,r,n){const o=qe(),i=qn(),s=Zl(2);i.firstUpdatePass&&function YD(e,t,r,n){const o=e.data;if(null===o[r+1]){const i=o[Ai()],s=function qD(e,t){return t>=e.expandoStartIndex}(e,r);(function JD(e,t){return 0!=(e.flags&(t?8:16))})(i,n)&&null===t&&!s&&(t=!1),t=function BL(e,t,r,n){const o=function Ev(e){const t=dn.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let i=n?t.residualClasses:t.residualStyles;if(null===o)0===(n?t.classBindings:t.styleBindings)&&(r=bp(r=Ky(null,e,t,r,n),t.attrs,n),i=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==o)if(r=Ky(o,e,t,r,n),null===i){let l=function VL(e,t,r){const n=r?t.classBindings:t.styleBindings;if(0!==Su(n))return e[Lc(n)]}(e,t,n);void 0!==l&&Array.isArray(l)&&(l=Ky(null,e,t,l[1],n),l=bp(l,t.attrs,n),function jL(e,t,r,n){e[Lc(r?t.classBindings:t.styleBindings)]=n}(e,t,n,l))}else i=function GL(e,t,r){let n;const o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++)n=bp(n,e[i].hostAttrs,r);return bp(n,t.attrs,r)}(e,t,n)}return void 0!==i&&(n?t.residualClasses=i:t.residualStyles=i),r}(o,i,t,n),function TL(e,t,r,n,o,i){let s=i?t.classBindings:t.styleBindings,a=Lc(s),l=Su(s);e[n]=r;let f,c=!1;if(Array.isArray(r)?(f=r[1],(null===f||pd(r,f)>0)&&(c=!0)):f=r,o)if(0!==l){const m=Lc(e[a+1]);e[n+1]=fg(m,a),0!==m&&(e[m+1]=Zy(e[m+1],n)),e[a+1]=function IL(e,t){return 131071&e|t<<17}(e[a+1],n)}else e[n+1]=fg(a,0),0!==a&&(e[a+1]=Zy(e[a+1],n)),a=n;else e[n+1]=fg(l,0),0===a?a=n:e[l+1]=Zy(e[l+1],n),l=n;c&&(e[n+1]=Wy(e[n+1])),jD(e,f,n,!0),jD(e,f,n,!1),function ML(e,t,r,n,o){const i=o?e.residualClasses:e.residualStyles;null!=i&&"string"==typeof t&&pd(i,t)>=0&&(r[n+1]=qy(r[n+1]))}(t,f,e,n,i),s=fg(a,l),i?t.classBindings=s:t.styleBindings=s}(o,i,t,r,s,n)}}(i,e,s,n),t!==En&&Ho(o,s,t)&&function XD(e,t,r,n,o,i,s,a){if(!(3&t.type))return;const l=e.data,c=l[a+1],f=function xL(e){return 1==(1&e)}(c)?QD(l,t,r,o,Su(c),s):void 0;pg(f)||(pg(i)||function DL(e){return 2==(2&e)}(c)&&(i=QD(l,null,r,o,a,s)),function q2(e,t,r,n,o){if(t)o?e.addClass(r,n):e.removeClass(r,n);else{let i=-1===n.indexOf("-")?void 0:Nc.DashCase;null==o?e.removeStyle(r,n,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Nc.Important),e.setStyle(r,n,o,i))}}(n,s,zf(Ai(),r),o,i))}(i,i.data[Ai()],o,o[un],e,o[s+1]=function WL(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Cr(Ls(e)))),e}(t,r),n,s)}function Ky(e,t,r,n,o){let i=null;const s=r.directiveEnd;let a=r.directiveStylingLast;for(-1===a?a=r.directiveStart:a++;a<s&&(i=t[a],n=bp(n,i.hostAttrs,o),i!==e);)a++;return null!==e&&(r.directiveStylingLast=a),n}function bp(e,t,r){const n=r?1:2;let o=-1;if(null!==t)for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?o=s:o===n&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Fs(e,s,!!r||t[++i]))}return void 0===e?null:e}function QD(e,t,r,n,o,i){const s=null===t;let a;for(;o>0;){const l=e[o],c=Array.isArray(l),f=c?l[1]:l,h=null===f;let m=r[o+1];m===En&&(m=h?Zn:void 0);let b=h?Lv(m,n):f===n?m:void 0;if(c&&!pg(b)&&(b=Lv(l,n)),pg(b)&&(a=b,s))return a;const Z=e[o+1];o=s?Lc(Z):Su(Z)}if(null!==t){let l=i?t.residualClasses:t.residualStyles;null!=l&&(a=Lv(l,n))}return a}function pg(e){return void 0!==e}function Nd(e,t){return!t||null===t.firstChild||Lm(e)}function Ip(e,t,r,n=!0){const o=t[pt];if(function V2(e,t,r,n){const o=ho+n,i=r.length;n>0&&(r[o-1][ds]=t),n<i-ho?(t[ds]=r[o],mw(r,ho+n,t)):(r.push(t),t[ds]=null),t[Lr]=r;const s=t[Sc];null!==s&&r!==s&&function j2(e,t){const r=e[_n];t[$r]!==t[Lr][Lr][$r]&&(e[Gt]|=Dc.HasTransplantedViews),null===r?e[_n]=[t]:r.push(t)}(s,t);const a=t[ra];null!==a&&a.insertView(e),jS(t),t[Gt]|=128}(o,t,e,r),n){const s=uy(r,e),a=t[un],l=Gm(a,e[Hn]);null!==l&&function L2(e,t,r,n,o,i){n[eo]=o,n[ri]=t,ap(e,n,r,1,o,i)}(o,e[ri],a,t,l,s)}const i=t[fs];null!==i&&null!==i.firstChild&&(i.firstChild=null)}let vs=(()=>{class t{}return t.__NG_ELEMENT_ID__=I3,t})();function I3(){return f1(Ar(),qe())}const x3=vs,u1=class extends x3{constructor(t,r,n){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=n}get element(){return wd(this._hostTNode,this._hostLView)}get injector(){return new ai(this._hostTNode,this._hostLView)}get parentInjector(){const t=Cm(this._hostTNode,this._hostLView);if(Av(t)){const r=Kf(t,this._hostLView),n=Yf(t);return new ai(r[pt].data[n+8],r)}return new ai(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=d1(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-ho}createEmbeddedView(t,r,n){let o,i;"number"==typeof n?o=n:null!=n&&(o=n.index,i=n.injector);const a=t.createEmbeddedViewImpl(r||{},i,null);return this.insertImpl(a,o,Nd(this._hostTNode,null)),a}createComponent(t,r,n,o,i){const s=t&&!function Xf(e){return"function"==typeof e}(t);let a;if(s)a=r;else{const Z=r||{};a=Z.index,n=Z.injector,o=Z.projectableNodes,i=Z.environmentInjector||Z.ngModuleRef}const l=s?t:new vp(kn(t)),c=n||this.parentInjector;if(!i&&null==l.ngModule){const te=(s?c:this.parentInjector).get(gi,null);te&&(i=te)}kn(l.componentType??{});const b=l.create(c,o,null,i);return this.insertImpl(b.hostView,a,Nd(this._hostTNode,null)),b}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,n){const o=t._lView;if(function WP(e){return Uo(e[Lr])}(o)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const l=o[Lr],c=new u1(l,l[ri],l[Lr]);c.detach(c.indexOf(t))}}const i=this._adjustIndex(r),s=this._lContainer;return Ip(s,o,i,n),t.attachToViewContainerRef(),mw(ib(s),i,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=d1(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),n=ip(this._lContainer,r);n&&(wm(ib(this._lContainer),r),jm(n[pt],n))}detach(t){const r=this._adjustIndex(t,-1),n=ip(this._lContainer,r);return n&&null!=wm(ib(this._lContainer),r)?new _p(n):null}_adjustIndex(t,r=0){return t??this.length+r}};function d1(e){return e[8]}function ib(e){return e[8]||(e[8]=[])}function f1(e,t){let r;const n=t[e.index];return Uo(n)?r=n:(r=sD(n,t,null,e),t[e.index]=r,ig(t,r)),p1(r,t,e,n),new u1(r,e,t)}let p1=function m1(e,t,r,n){if(e[Hn])return;let o;o=8&r.type?Hr(n):function T3(e,t){const r=e[un],n=r.createComment(""),o=ji(t,e);return _u(r,Gm(r,o),n,function z2(e,t){return e.nextSibling(t)}(r,o),!1),n}(t,r),e[Hn]=o},sb=(e,t,r)=>!1;function Ut(e,t,r,n,o,i,s,a){const l=qe(),c=qn(),f=e+fn,h=c.firstCreatePass?function R3(e,t,r,n,o,i,s,a,l){const c=t.consts,f=Ed(t,e,4,s||null,al(c,a));Fy(t,r,f,al(c,l)),gm(t,f);const h=f.tView=Oy(2,f,n,o,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,f),h.queries=t.queries.embeddedTView(f)),f}(f,c,l,t,r,n,o,i,s):c.data[f];ll(h,!1);const m=g1(c,l,h,e);mm()&&Um(c,l,m,h),ki(m,l);const b=sD(m,l,m,h);return l[f]=b,ig(l,b),function h1(e,t,r){return sb(e,t,r)}(b,h,l),mo(h)&&Ry(c,l,h),null!=s&&Py(l,h,a),Ut}let g1=function _1(e,t,r,n){return Tc(!0),t[un].createComment("")};function z(e,t,r,n){const o=qe(),i=qn(),s=fn+e,a=o[un],l=i.firstCreatePass?function C$(e,t,r,n,o,i){const s=t.consts,l=Ed(t,e,2,n,al(s,o));return Fy(t,r,l,al(s,i)),null!==l.attrs&&cg(l,l.attrs,!1),null!==l.mergedAttrs&&cg(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,i,o,t,r,n):i.data[s],c=V1(i,o,l,a,t,e);o[s]=c;const f=mo(l);return ll(l,!0),hE(a,c,l),32!=(32&l.flags)&&mm()&&Um(i,o,c,l),0===function qP(){return dn.lFrame.elementDepthCount}()&&ki(c,o),function YP(){dn.lFrame.elementDepthCount++}(),f&&(Ry(i,o,l),ky(i,l,o)),null!==n&&Py(o,l),z}function B(){let e=Ar();Cv()?Sv():(e=e.parent,ll(e,!1));const t=e;(function XP(e){return dn.skipHydrationRootTNode===e})(t)&&function tO(){dn.skipHydrationRootTNode=null}(),function KP(){dn.lFrame.elementDepthCount--}();const r=qn();return r.firstCreatePass&&(gm(r,e),Uf(e)&&r.queries.elementEnd(e)),null!=t.classesWithoutHost&&function gO(e){return 0!=(8&e.flags)}(t)&&Yy(r,t,qe(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function _O(e){return 0!=(16&e.flags)}(t)&&Yy(r,t,qe(),t.stylesWithoutHost,!1),B}function He(e,t,r,n){return z(e,t,r,n),B(),He}let V1=(e,t,r,n,o,i)=>(Tc(!0),Vm(n,o,function ew(){return dn.lFrame.currentNamespace}()));function Du(e,t,r){const n=qe(),o=qn(),i=e+fn,s=o.firstCreatePass?function E$(e,t,r,n,o){const i=t.consts,s=al(i,n),a=Ed(t,e,8,"ng-container",s);return null!==s&&cg(a,s,!0),Fy(t,r,a,al(i,o)),null!==t.queries&&t.queries.elementStart(t,a),a}(i,o,n,t,r):o.data[i];ll(s,!0);const a=j1(o,n,s,e);return n[i]=a,mm()&&Um(o,n,a,s),ki(a,n),mo(s)&&(Ry(o,n,s),ky(o,s,n)),null!=r&&Py(n,s),Du}function Iu(){let e=Ar();const t=qn();return Cv()?Sv():(e=e.parent,ll(e,!1)),t.firstCreatePass&&(gm(t,e),Uf(e)&&t.queries.elementEnd(e)),Iu}let j1=(e,t,r,n)=>(Tc(!0),sy(t[un],""));function Nn(){return qe()}const Hd="en-US";let W1=Hd;function Fp(e){return!!e&&"function"==typeof e.then}function _I(e){return!!e&&"function"==typeof e.subscribe}function Be(e,t,r,n){const o=qe(),i=qn(),s=Ar();return function yI(e,t,r,n,o,i,s){const a=mo(n),c=e.firstCreatePass&&cD(e),f=t[wr],h=lD(t);let m=!0;if(3&n.type||s){const te=ji(n,t),_e=s?s(te):te,Ie=h.length,Ae=s?vt=>s(Hr(vt[n.index])):n.index;let bt=null;if(!s&&a&&(bt=function wB(e,t,r,n){const o=e.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===r&&o[i+1]===n){const a=t[jl],l=o[i+2];return a.length>l?a[l]:null}"string"==typeof s&&(i+=2)}return null}(e,t,o,n.index)),null!==bt)(bt.__ngLastListenerFn__||bt).__ngNextListenerFn__=i,bt.__ngLastListenerFn__=i,m=!1;else{i=CI(n,t,f,i,!1);const vt=r.listen(_e,o,i);h.push(i,vt),c&&c.push(o,Ae,Ie,Ie+1)}}else i=CI(n,t,f,i,!1);const b=n.outputs;let Z;if(m&&null!==b&&(Z=b[o])){const te=Z.length;if(te)for(let _e=0;_e<te;_e+=2){const Ht=t[Z[_e]][Z[_e+1]].subscribe(i),xt=h.length;h.push(i,Ht),c&&c.push(o,n.index,xt,-(xt+1))}}}(i,o,o[un],s,e,t,n),Be}function bI(e,t,r,n){try{return no(6,t,r),!1!==r(n)}catch(o){return sg(e,o),!1}finally{no(7,t,r)}}function CI(e,t,r,n,o){return function i(s){if(s===Function)return n;gp(e.componentOffset>-1?Os(e.index,t):t);let l=bI(t,r,n,s),c=i.__ngNextListenerFn__;for(;c;)l=bI(t,r,c,s)&&l,c=c.__ngNextListenerFn__;return o&&!1===l&&s.preventDefault(),l}}function ut(e=1){return function aO(e){return(dn.lFrame.contextLView=function BS(e,t){for(;e>0;)t=t[Cc],e--;return t}(e,dn.lFrame.contextLView))[wr]}(e)}function EB(e,t){let r=null;const n=function em(e){const t=e.attrs;if(null!=t){const r=t.indexOf(5);if(!(1&r))return t[r+1]}return null}(e);for(let o=0;o<t.length;o++){const i=t[o];if("*"!==i){if(null===n?$f(e,i,!0):rm(n,i))return o}else r=o}return r}function _t(e){const t=qe()[$r][ri];if(!t.projection){const n=t.projection=Qf(e?e.length:1,null),o=n.slice();let i=t.child;for(;null!==i;){const s=e?EB(i,e):0;null!==s&&(o[s]?o[s].projectionNext=i:n[s]=i,o[s]=i),i=i.next}}}function gt(e,t=0,r){const n=qe(),o=qn(),i=Ed(o,fn+e,16,null,r||null);null===i.projection&&(i.projection=t),Sv(),(!n[fs]||rd())&&32!=(32&i.flags)&&function W2(e,t,r){fE(t[un],0,t,r,ly(e,r,t),sE(r.parent||t[ri],r,t))}(o,n,i)}function Tg(e,t,r,n,o){const i=qe(),s=Id(i,t,r,n);return s!==En&&Bs(qn(),ro(),i,e,s,i[un],o,!1),Tg}function js(e){return nd(function nO(){return dn.lFrame.contextLView}(),fn+e)}function De(e,t=""){const r=qe(),n=qn(),o=e+fn,i=n.firstCreatePass?Ed(n,o,1,t,null):n.data[o],s=VI(n,r,i,t,e);r[o]=s,mm()&&Um(n,r,s,i),ll(i,!1)}let VI=(e,t,r,n,o)=>(Tc(!0),function Bm(e,t){return e.createText(t)}(t[un],n));function Hi(e){return wi("",e,""),Hi}function wi(e,t,r){const n=qe(),o=Id(n,e,t,r);return o!==En&&Xl(n,Ai(),o),wi}function Np(e,t,r,n,o){const i=qe(),s=function xd(e,t,r,n,o,i){const a=Cu(e,Wl(),r,o);return Zl(2),a?t+Yt(r)+n+Yt(o)+i:En}(i,e,t,r,n,o);return s!==En&&Xl(i,Ai(),s),Np}function yb(e,t,r,n,o,i,s){const a=qe(),l=Td(a,e,t,r,n,o,i,s);return l!==En&&Xl(a,Ai(),l),yb}function bb(e,t,r,n,o){if(e=jt(e),Array.isArray(e))for(let i=0;i<e.length;i++)bb(e[i],t,r,n,o);else{const i=qn(),s=qe(),a=Ar();let l=gu(e)?e:jt(e.provide);const c=Iw(e),f=1048575&a.providerIndexes,h=a.directiveStart,m=a.providerIndexes>>20;if(gu(e)||!e.multi){const b=new qf(c,o,v),Z=Sb(l,t,o?f:f+m,h);-1===Z?(Pv(bm(a,s),i,l),Cb(i,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),r.push(b),s.push(b)):(r[Z]=b,s[Z]=b)}else{const b=Sb(l,t,f+m,h),Z=Sb(l,t,f,f+m),_e=Z>=0&&r[Z];if(o&&!_e||!o&&!(b>=0&&r[b])){Pv(bm(a,s),i,l);const Ie=function VB(e,t,r,n,o){const i=new qf(e,r,v);return i.multi=[],i.index=t,i.componentProviders=0,ZI(i,o,n&&!r),i}(o?BB:$B,r.length,o,n,c);!o&&_e&&(r[Z].providerFactory=Ie),Cb(i,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),r.push(Ie),s.push(Ie)}else Cb(i,e,b>-1?b:Z,ZI(r[o?Z:b],c,!o&&n));!o&&n&&_e&&r[Z].componentProviders++}}}function Cb(e,t,r,n){const o=gu(t),i=function YO(e){return!!e.useClass}(t);if(o||i){const l=(i?jt(t.useClass):t).prototype.ngOnDestroy;if(l){const c=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const f=c.indexOf(r);-1===f?c.push(r,[n,l]):c[f+1].push(n,l)}else c.push(r,l)}}}function ZI(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function Sb(e,t,r,n){for(let o=r;o<n;o++)if(t[o]===e)return o;return-1}function $B(e,t,r,n){return wb(this.multi,[])}function BB(e,t,r,n){const o=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=mu(r,r[pt],this.providerFactory.index,n);i=a.slice(0,s),wb(o,i);for(let l=s;l<a.length;l++)i.push(a[l])}else i=[],wb(o,i);return i}function wb(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function sr(e,t=[]){return r=>{r.providersResolver=(n,o)=>function LB(e,t,r){const n=qn();if(n.firstCreatePass){const o=Rn(e);bb(r,n.data,n.blueprint,o,!0),bb(t,n.data,n.blueprint,o,!1)}}(n,o?o(e):e,t)}}class Tu{}class qI{}class Eb extends Tu{constructor(t,r,n){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new DD(this);const o=ni(t);this._bootstrapComponents=Ns(o.bootstrap),this._r3Injector=kw(t,r,[{provide:Tu,useValue:this},{provide:eg,useValue:this.componentFactoryResolver},...n],Cr(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Db extends qI{constructor(t){super(),this.moduleType=t}create(t){return new Eb(this.moduleType,t,[])}}class YI extends Tu{constructor(t){super(),this.componentFactoryResolver=new DD(this),this.instance=null;const r=new gd([...t.providers,{provide:Tu,useValue:this},{provide:eg,useValue:this.componentFactoryResolver}],t.parent||km(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Ib(e,t,r=null){return new YI({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}let UB=(()=>{var e;class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const o=Sw(0,n.type),i=o.length>0?Ib([o],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return(e=t).\u0275prov=k({token:e,providedIn:"environment",factory:()=>new e(ue(gi))}),t})();function Mg(e){yu("NgStandalone"),e.getStandaloneInjector=t=>t.get(UB).getOrCreateStandaloneInjector(e)}function ix(e,t,r,n,o,i){const s=t+r;return Ho(e,s,o)?pl(e,s+1,i?n.call(i,o):n(o)):function Lp(e,t){const r=e[t];return r===En?void 0:r}(e,s+1)}function gl(e,t){const r=qn();let n;const o=e+fn;r.firstCreatePass?(n=function l4(e,t){if(t)for(let r=t.length-1;r>=0;r--){const n=t[r];if(e===n.name)return n}}(t,r.pipeRegistry),r.data[o]=n,n.onDestroy&&(r.destroyHooks??=[]).push(o,n.onDestroy)):n=r.data[o];const i=n.factory||(n.factory=hs(n.type)),a=mn(v);try{const l=ym(!1),c=i();return ym(l),function DB(e,t,r,n){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=n}(r,qe(),o,c),c}finally{mn(a)}}function _l(e,t,r){const n=e+fn,o=qe(),i=nd(o,n);return function $p(e,t){return e[pt].data[t].pure}(o,n)?ix(o,Gi(),t,i.transform,r,i):i.transform(r)}function p4(){return this._results[Symbol.iterator]()}class Tb{get changes(){return this._changes??=new tn}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=Tb.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=p4)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){this.dirty=!1;const n=function gs(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function AO(e,t,r){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++){let o=e[n],i=t[n];if(r&&(o=r(o),i=r(i)),i!==o)return!1}return!0}(this._results,n,r))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}let Ra=(()=>{class t{}return t.__NG_ELEMENT_ID__=g4,t})();const h4=Ra,m4=class extends h4{constructor(t,r,n){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,n){const o=function Dp(e,t,r,n){const o=t.tView,a=og(e,o,r,4096&e[Gt]?4096:16,null,t,null,null,null,n?.injector??null,n?.dehydratedView??null);a[Sc]=e[t.index];const c=e[ra];return null!==c&&(a[ra]=c.createEmbeddedView(o)),zy(o,a,r),a}(this._declarationLView,this._declarationTContainer,t,{injector:r,dehydratedView:n});return new _p(o)}};function g4(){return Rg(Ar(),qe())}function Rg(e,t){return 4&e.type?new m4(t,e,wd(e,t)):null}class Mb{constructor(t){this.queryList=t,this.matches=null}clone(){return new Mb(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ab{constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const n=null!==t.contentQueries?t.contentQueries[0]:r.length,o=[];for(let i=0;i<n;i++){const s=r.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new Ab(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==hx(t,r).matches&&this.queries[r].setDirty()}}class ux{constructor(t,r,n=null){this.predicate=t,this.flags=r,this.read=n}}class kb{constructor(t=[]){this.queries=t}elementStart(t,r){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let n=0;n<this.length;n++){const o=null!==r?r.length:0,i=this.getByIndex(n).embeddedTView(t,o);i&&(i.indexInDeclarationView=n,null!==r?r.push(i):r=[i])}return null!==r?new kb(r):null}template(t,r){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Rb{constructor(t,r=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new Rb(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const r=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==r;)n=n.parent;return r===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const n=this.metadata.predicate;if(Array.isArray(n))for(let o=0;o<n.length;o++){const i=n[o];this.matchTNodeWithReadOption(t,r,_4(r,i)),this.matchTNodeWithReadOption(t,r,Sm(r,t,i,!1,!1))}else n===Ra?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,Sm(r,t,n,!1,!1))}matchTNodeWithReadOption(t,r,n){if(null!==n){const o=this.metadata.read;if(null!==o)if(o===st||o===vs||o===Ra&&4&r.type)this.addMatch(r.index,-2);else{const i=Sm(r,t,o,!1,!1);null!==i&&this.addMatch(r.index,i)}else this.addMatch(r.index,n)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function _4(e,t){const r=e.localNames;if(null!==r)for(let n=0;n<r.length;n+=2)if(r[n]===t)return r[n+1];return null}function y4(e,t,r,n){return-1===r?function v4(e,t){return 11&e.type?wd(e,t):4&e.type?Rg(e,t):null}(t,e):-2===r?function b4(e,t,r){return r===st?wd(t,e):r===Ra?Rg(t,e):r===vs?f1(t,e):void 0}(e,t,n):mu(e,e[pt],r,t)}function dx(e,t,r,n){const o=t[ra].queries[n];if(null===o.matches){const i=e.data,s=r.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:y4(t,i[c],s[l+1],r.metadata.read))}o.matches=a}return o.matches}function Pb(e,t,r,n){const o=e.queries.getByIndex(r),i=o.matches;if(null!==i){const s=dx(e,t,o,r);for(let a=0;a<i.length;a+=2){const l=i[a];if(l>0)n.push(s[a/2]);else{const c=i[a+1],f=t[-l];for(let h=ho;h<f.length;h++){const m=f[h];m[Sc]===m[Lr]&&Pb(m[pt],m,c,n)}if(null!==f[_n]){const h=f[_n];for(let m=0;m<h.length;m++){const b=h[m];Pb(b[pt],b,c,n)}}}}}return n}function Gs(e){const t=qe(),r=qn(),n=qS();Dv(n+1);const o=hx(r,n);if(e.dirty&&function zP(e){return 4==(4&e[Gt])}(t)===(2==(2&o.metadata.flags))){if(null===o.matches)e.reset([]);else{const i=o.crossesNgTemplate?Pb(r,t,n,[]):dx(r,t,o,n);e.reset(i,LF),e.notifyOnChanges()}return!0}return!1}function Bc(e,t,r){const n=qn();n.firstCreatePass&&(px(n,new ux(e,t,r),-1),2==(2&t)&&(n.staticViewQueries=!0)),fx(n,qe(),t)}function zd(e,t,r,n){const o=qn();if(o.firstCreatePass){const i=Ar();px(o,new ux(t,r,n),i.index),function S4(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(o,e),2==(2&r)&&(o.staticContentQueries=!0)}fx(o,qe(),r)}function Us(){return function C4(e,t){return e[ra].queries[t].queryList}(qe(),qS())}function fx(e,t,r){const n=new Tb(4==(4&r));(function fN(e,t,r,n){const o=lD(t);o.push(r),e.firstCreatePass&&cD(e).push(n,o.length-1)})(e,t,n,n.destroy),null===t[ra]&&(t[ra]=new Ab),t[ra].queries.push(new Mb(n))}function px(e,t,r){null===e.queries&&(e.queries=new kb),e.queries.track(new Rb(t,r))}function hx(e,t){return e.queries.getByIndex(t)}let Ax=(()=>{var e;class t{log(n){console.log(n)}warn(n){console.warn(n)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),Og=(()=>{var e;class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new fo(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class z4{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}let kx=(()=>{var e;class t{compileModuleSync(n){return new Db(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const o=this.compileModuleSync(n),s=Ns(ni(n).declarations).reduce((a,l)=>{const c=kn(l);return c&&a.push(new vp(c)),a},[]);return new z4(o,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const Nx=new Pe(""),Ng=new Pe("");let jb,Bb=(()=>{var e;class t{constructor(n,o,i){this._ngZone=n,this.registry=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,jb||(function gV(e){jb=e}(i),i.addToWindow(o)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ze.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(n)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,o,i){let s=-1;o&&o>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),n(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,o,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,o,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,o,i){return[]}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Ze),ue(Vb),ue(Ng))},e.\u0275prov=k({token:e,factory:e.\u0275fac}),t})(),Vb=(()=>{var e;class t{constructor(){this._applications=new Map}registerApplication(n,o){this._applications.set(n,o)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,o=!0){return jb?.findTestabilityInTree(this,n,o)??null}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();const jp=new Pe("Application Initializer");let Gb=(()=>{var e;class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,o)=>{this.resolve=n,this.reject=o}),this.appInits=lt(jp,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(Fp(s))n.push(s);else if(_I(s)){const a=new Promise((l,c)=>{s.subscribe({complete:l,error:c})});n.push(a)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{o()}).catch(i=>{this.reject(i)}),0===n.length&&o(),this.initialized=!0}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const Ub=new Pe("appBootstrapListener");function Bx(e,t){return Array.isArray(t)?t.reduce(Bx,e):{...e,...t}}let Pa=(()=>{var e;class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=lt(HE),this.zoneIsStable=lt(vD),this.componentTypes=[],this.components=[],this.isStable=lt(Og).hasPendingTasks.pipe(Qr(n=>n?Vt(!1):this.zoneIsStable),Qs()),this._injector=lt(gi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,o){const i=n instanceof kE;if(!this._injector.get(Gb).done)throw!i&&function Ma(e){const t=kn(e)||Eo(e)||Go(e);return null!==t&&t.standalone}(n),new Je(405,!1);let a;a=i?n:this._injector.get(eg).resolveComponentFactory(n),this.componentTypes.push(a.componentType);const l=function vV(e){return e.isBoundToModule}(a)?void 0:this._injector.get(Tu),f=a.create(Wr.NULL,[],o||a.selector,l),h=f.location.nativeElement,m=f.injector.get(Nx,null);return m?.registerApplication(h),f.onDestroy(()=>{this.detachView(f.hostView),Lg(this.components,f),m?.unregisterApplication(h)}),this._loadComponent(f),f}tick(){if(this._runningTick)throw new Je(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const o=n;this._views.push(o),o.attachToAppRef(this)}detachView(n){const o=n;Lg(this._views,o),o.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const o=this._injector.get(Ub,[]);[...this._bootstrapListeners,...o].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Lg(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Je(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function Lg(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}let bV=(()=>{var e;class t{constructor(){this.zone=lt(Ze),this.applicationRef=lt(Pa)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function CV(){const e=lt(Ze),t=lt(Kl);return r=>e.runOutsideAngular(()=>t.handleError(r))}const Ql=new Pe("LocaleId",{providedIn:"root",factory:()=>lt(Ql,Nt.Optional|Nt.SkipSelf)||function wV(){return typeof $localize<"u"&&$localize.locale||Hd}()}),Hb=new Pe("PlatformDestroyListeners");let Ux=(()=>{var e;class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,o){const i=function tL(e="zone.js",t){return"noop"===e?new JN:"zone.js"===e?new Ze(t):e}(o?.ngZone,function Gx(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}));return i.run(()=>{const s=function GB(e,t,r){return new Eb(e,t,r)}(n.moduleType,this.injector,function jx(e){return[{provide:Ze,useFactory:e},{provide:md,multi:!0,useFactory:()=>{const t=lt(bV,{optional:!0});return()=>t.initialize()}},{provide:HE,useFactory:CV},{provide:vD,useFactory:yD}]}(()=>i)),a=s.injector.get(Kl,null);return i.runOutsideAngular(()=>{const l=i.onError.subscribe({next:c=>{a.handleError(c)}});s.onDestroy(()=>{Lg(this._modules,s),l.unsubscribe()})}),function $x(e,t,r){try{const n=r();return Fp(n)?n.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):n}catch(n){throw t.runOutsideAngular(()=>e.handleError(n)),n}}(a,i,()=>{const l=s.injector.get(Gb);return l.runInitializers(),l.donePromise.then(()=>(function Z1(e){bn(e,"Expected localeId to be defined"),"string"==typeof e&&(W1=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Ql,Hd)||Hd),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,o=[]){const i=Bx({},o);return function _V(e,t,r){const n=new Db(r);return Promise.resolve(n)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const o=n.injector.get(Pa);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>o.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Je(-403,!1);n.instance.ngDoBootstrap(o)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Je(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const n=this._injector.get(Hb,null);n&&(n.forEach(o=>o()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Wr))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),Vc=null;const Hx=new Pe("AllowMultipleToken");function zx(e,t,r=[]){const n=`Platform: ${t}`,o=new Pe(n);return(i=[])=>{let s=zb();if(!s||s.injector.get(Hx,!1)){const a=[...r,...i,{provide:o,useValue:!0}];e?e(a):function IV(e){if(Vc&&!Vc.get(Hx,!1))throw new Je(400,!1);(function Lx(){!function Xe(e){me=e}(()=>{throw new Je(600,!1)})})(),Vc=e;const t=e.get(Ux);(function Zx(e){e.get(Pw,null)?.forEach(r=>r())})(e)}(function Wx(e=[],t){return Wr.create({name:t,providers:[{provide:Hv,useValue:"platform"},{provide:Hb,useValue:new Set([()=>Vc=null])},...e]})}(a,n))}return function xV(e){const t=zb();if(!t)throw new Je(401,!1);return t}()}}function zb(){return Vc?.get(Ux)??null}const PV=zx(null,"core",[]);let OV=(()=>{var e;class t{constructor(n){}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Pa))},e.\u0275mod=Jr({type:e}),e.\u0275inj=ot({}),t})();function gT(e){const t=kn(e);if(!t)return null;const r=new vp(t);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}let eC=null;function jc(){return eC}class lj{}const _i=new Pe("DocumentToken");let tC=(()=>{var e;class t{historyGo(n){throw new Error("Not implemented")}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=k({token:e,factory:()=>lt(uj),providedIn:"platform"}),t})();const cj=new Pe("Location Initialized");let uj=(()=>{var e;class t extends tC{constructor(){super(),this._doc=lt(_i),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return jc().getBaseHref(this._doc)}onPopState(n){const o=jc().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",n,!1),()=>o.removeEventListener("popstate",n)}onHashChange(n){const o=jc().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",n,!1),()=>o.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,o,i){this._history.pushState(n,o,i)}replaceState(n,o,i){this._history.replaceState(n,o,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=k({token:e,factory:()=>new e,providedIn:"platform"}),t})();function nC(e,t){if(0==e.length)return t;if(0==t.length)return e;let r=0;return e.endsWith("/")&&r++,t.startsWith("/")&&r++,2==r?e+t.substring(1):1==r?e+t:e+"/"+t}function _T(e){const t=e.match(/#|\?|$/),r=t&&t.index||e.length;return e.slice(0,r-("/"===e[r-1]?1:0))+e.slice(r)}function Jl(e){return e&&"?"!==e[0]?"?"+e:e}let vl=(()=>{var e;class t{historyGo(n){throw new Error("Not implemented")}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=k({token:e,factory:()=>lt(yT),providedIn:"root"}),t})();const vT=new Pe("appBaseHref");let yT=(()=>{var e;class t extends vl{constructor(n,o){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??lt(_i).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return nC(this._baseHref,n)}path(n=!1){const o=this._platformLocation.pathname+Jl(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${o}${i}`:o}pushState(n,o,i,s){const a=this.prepareExternalUrl(i+Jl(s));this._platformLocation.pushState(n,o,a)}replaceState(n,o,i,s){const a=this.prepareExternalUrl(i+Jl(s));this._platformLocation.replaceState(n,o,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(tC),ue(vT,8))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),bT=(()=>{var e;class t extends vl{constructor(n,o){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(n){const o=nC(this._baseHref,n);return o.length>0?"#"+o:o}pushState(n,o,i,s){let a=this.prepareExternalUrl(i+Jl(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(n,o,a)}replaceState(n,o,i,s){let a=this.prepareExternalUrl(i+Jl(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(n,o,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(tC),ue(vT,8))},e.\u0275prov=k({token:e,factory:e.\u0275fac}),t})(),Gc=(()=>{var e;class t{constructor(n){this._subject=new tn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const o=this._locationStrategy.getBaseHref();this._basePath=function pj(e){if(new RegExp("^(https?:)?//").test(e)){const[,r]=e.split(/\/\/[^\/]+/);return r}return e}(_T(CT(o))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,o=""){return this.path()==this.normalize(n+Jl(o))}normalize(n){return t.stripTrailingSlash(function fj(e,t){if(!e||!t.startsWith(e))return t;const r=t.substring(e.length);return""===r||["/",";","?","#"].includes(r[0])?r:t}(this._basePath,CT(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,o="",i=null){this._locationStrategy.pushState(i,"",n,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Jl(o)),i)}replaceState(n,o="",i=null){this._locationStrategy.replaceState(i,"",n,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Jl(o)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{const o=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(o,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",o){this._urlChangeListeners.forEach(i=>i(n,o))}subscribe(n,o,i){return this._subject.subscribe({next:n,error:o,complete:i})}}return(e=t).normalizeQueryParams=Jl,e.joinWithSlash=nC,e.stripTrailingSlash=_T,e.\u0275fac=function(n){return new(n||e)(ue(vl))},e.\u0275prov=k({token:e,factory:()=>function dj(){return new Gc(ue(vl))}(),providedIn:"root"}),t})();function CT(e){return e.replace(/\/index.html$/,"")}function AT(e,t){t=encodeURIComponent(t);for(const r of e.split(";")){const n=r.indexOf("="),[o,i]=-1==n?[r,""]:[r.slice(0,n),r.slice(n+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}class Jj{constructor(t,r,n,o){this.$implicit=t,this.ngForOf=r,this.index=n,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Uc=(()=>{var e;class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,o,i){this._viewContainer=n,this._template=o,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const o=this._viewContainer;n.forEachOperation((i,s,a)=>{if(null==i.previousIndex)o.createEmbeddedView(this._template,new Jj(i.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)o.remove(null===s?void 0:s);else if(null!==s){const l=o.get(s);o.move(l,a),PT(l,i)}});for(let i=0,s=o.length;i<s;i++){const l=o.get(i).context;l.index=i,l.count=s,l.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{PT(o.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,o){return!0}}return(e=t).\u0275fac=function(n){return new(n||e)(v(vs),v(Ra),v(ng))},e.\u0275dir=Pt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function PT(e,t){e.context.$implicit=t.item}let Lo=(()=>{var e;class t{constructor(n,o){this._viewContainer=n,this._context=new eG,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){OT("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){OT("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,o){return!0}}return(e=t).\u0275fac=function(n){return new(n||e)(v(vs),v(Ra))},e.\u0275dir=Pt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class eG{constructor(){this.$implicit=null,this.ngIf=null}}function OT(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Cr(t)}'.`)}class pC{constructor(t,r){this._viewContainerRef=t,this._templateRef=r,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let n_=(()=>{var e;class t{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){const o=n===this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||o,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),o}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(const o of this._defaultViews)o.enforceState(n)}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=Pt({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),t})(),FT=(()=>{var e;class t{constructor(n,o,i){this.ngSwitch=i,i._addCase(),this._view=new pC(n,o)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return(e=t).\u0275fac=function(n){return new(n||e)(v(vs),v(Ra),v(n_,9))},e.\u0275dir=Pt({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),t})(),NT=(()=>{var e;class t{constructor(n,o,i){i._addDefault(new pC(n,o))}}return(e=t).\u0275fac=function(n){return new(n||e)(v(vs),v(Ra),v(n_,9))},e.\u0275dir=Pt({type:e,selectors:[["","ngSwitchDefault",""]],standalone:!0}),t})();class oG{createSubscription(t,r){return OE(()=>t.subscribe({next:r,error:n=>{throw n}}))}dispose(t){OE(()=>t.unsubscribe())}}class iG{createSubscription(t,r){return t.then(r,n=>{throw n})}dispose(t){}}const sG=new iG,aG=new oG;let $T=(()=>{var e;class t{constructor(n){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,o=>this._updateLatestValue(n,o))}_selectStrategy(n){if(Fp(n))return sG;if(_I(n))return aG;throw function Fa(e,t){return new Je(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,o){n===this._obj&&(this._latestValue=o,this._ref.markForCheck())}}return(e=t).\u0275fac=function(n){return new(n||e)(v(ft,16))},e.\u0275pipe=Oo({name:"async",type:e,pure:!1,standalone:!0}),t})(),yl=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Jr({type:e}),e.\u0275inj=ot({}),t})();const VT="browser";function Xd(e){return e===VT}function jT(e){return"server"===e}let TG=(()=>{var e;class t{}return(e=t).\u0275prov=k({token:e,providedIn:"root",factory:()=>new MG(ue(_i),window)}),t})();class MG{constructor(t,r){this.document=t,this.window=r,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const r=function AG(e,t){const r=e.getElementById(t)||e.getElementsByName(t)[0];if(r)return r;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let o=n.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(t)||i.querySelector(`[name="${t}"]`);if(s)return s}o=n.nextNode()}}return null}(this.document,t);r&&(this.scrollToElement(r),r.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const r=t.getBoundingClientRect(),n=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],o-i[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class GT{}class JG extends lj{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class yC extends JG{static makeCurrent(){!function aj(e){eC||(eC=e)}(new yC)}onAndCancel(t,r,n){return t.addEventListener(r,n),()=>{t.removeEventListener(r,n)}}dispatchEvent(t,r){t.dispatchEvent(r)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,r){return(r=r||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,r){return"window"===r?window:"document"===r?t:"body"===r?t.body:null}getBaseHref(t){const r=function eU(){return Zp=Zp||document.querySelector("base"),Zp?Zp.getAttribute("href"):null}();return null==r?null:function tU(e){return new URL(e,document.baseURI).pathname}(r)}resetBaseElement(){Zp=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return AT(document.cookie,t)}}let Zp=null,rU=(()=>{var e;class t{build(){return new XMLHttpRequest}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac}),t})();const bC=new Pe("EventManagerPlugins");let WT=(()=>{var e;class t{constructor(n,o){this._zone=o,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,o,i){return this._findPluginFor(o).addEventListener(n,o,i)}getZone(){return this._zone}_findPluginFor(n){let o=this._eventNameToPlugin.get(n);if(o)return o;if(o=this._plugins.find(s=>s.supports(n)),!o)throw new Je(5101,!1);return this._eventNameToPlugin.set(n,o),o}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(bC),ue(Ze))},e.\u0275prov=k({token:e,factory:e.\u0275fac}),t})();class ZT{constructor(t){this._doc=t}}const CC="ng-app-id";let qT=(()=>{var e;class t{constructor(n,o,i,s={}){this.doc=n,this.appId=o,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=jT(s),this.resetHostNodes()}addStyles(n){for(const o of n)1===this.changeUsageCount(o,1)&&this.onStyleAdded(o)}removeStyles(n){for(const o of n)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(o=>o.remove()),n.clear());for(const o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const o of this.getAllStyles())this.addStyleToHost(n,o)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const o of this.hostNodes)this.addStyleToHost(o,n)}onStyleRemoved(n){const o=this.styleRef;o.get(n)?.elements?.forEach(i=>i.remove()),o.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${CC}="${this.appId}"]`);if(n?.length){const o=new Map;return n.forEach(i=>{null!=i.textContent&&o.set(i.textContent,i)}),o}return null}changeUsageCount(n,o){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=o,s.usage}return i.set(n,{usage:o,elements:[]}),o}getStyleElement(n,o){const i=this.styleNodesInDOM,s=i?.get(o);if(s?.parentNode===n)return i.delete(o),s.removeAttribute(CC),s;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=o,this.platformIsServer&&a.setAttribute(CC,this.appId),n.appendChild(a),a}}addStyleToHost(n,o){const i=this.getStyleElement(n,o),s=this.styleRef,a=s.get(o)?.elements;a?a.push(i):s.set(o,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(_i),ue(Pm),ue(Ow,8),ue(Pc))},e.\u0275prov=k({token:e,factory:e.\u0275fac}),t})();const SC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},wC=/%COMP%/g,aU=new Pe("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function KT(e,t){return t.map(r=>r.replace(wC,e))}let XT=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f=null){this.eventManager=n,this.sharedStylesHost=o,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=jT(l),this.defaultRenderer=new EC(n,a,c,this.platformIsServer)}createRenderer(n,o){if(!n||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===cs.ShadowDom&&(o={...o,encapsulation:cs.Emulated});const i=this.getOrCreateRenderer(n,o);return i instanceof JT?i.applyToHost(n):i instanceof DC&&i.applyStyles(),i}getOrCreateRenderer(n,o){const i=this.rendererByCompId;let s=i.get(o.id);if(!s){const a=this.doc,l=this.ngZone,c=this.eventManager,f=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(o.encapsulation){case cs.Emulated:s=new JT(c,f,o,this.appId,h,a,l,m);break;case cs.ShadowDom:return new dU(c,f,n,o,a,l,this.nonce,m);default:s=new DC(c,f,o,h,a,l,m)}i.set(o.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(WT),ue(qT),ue(Pm),ue(aU),ue(_i),ue(Pc),ue(Ze),ue(Ow))},e.\u0275prov=k({token:e,factory:e.\u0275fac}),t})();class EC{constructor(t,r,n,o){this.eventManager=t,this.doc=r,this.ngZone=n,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,r){return r?this.doc.createElementNS(SC[r]||r,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,r){(QT(t)?t.content:t).appendChild(r)}insertBefore(t,r,n){t&&(QT(t)?t.content:t).insertBefore(r,n)}removeChild(t,r){t&&t.removeChild(r)}selectRootElement(t,r){let n="string"==typeof t?this.doc.querySelector(t):t;if(!n)throw new Je(-5104,!1);return r||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,r,n,o){if(o){r=o+":"+r;const i=SC[o];i?t.setAttributeNS(i,r,n):t.setAttribute(r,n)}else t.setAttribute(r,n)}removeAttribute(t,r,n){if(n){const o=SC[n];o?t.removeAttributeNS(o,r):t.removeAttribute(`${n}:${r}`)}else t.removeAttribute(r)}addClass(t,r){t.classList.add(r)}removeClass(t,r){t.classList.remove(r)}setStyle(t,r,n,o){o&(Nc.DashCase|Nc.Important)?t.style.setProperty(r,n,o&Nc.Important?"important":""):t.style[r]=n}removeStyle(t,r,n){n&Nc.DashCase?t.style.removeProperty(r):t.style[r]=""}setProperty(t,r,n){null!=t&&(t[r]=n)}setValue(t,r){t.nodeValue=r}listen(t,r,n){if("string"==typeof t&&!(t=jc().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${r}`);return this.eventManager.addEventListener(t,r,this.decoratePreventDefault(n))}decoratePreventDefault(t){return r=>{if("__ngUnwrap__"===r)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(r)):t(r))&&r.preventDefault()}}}function QT(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class dU extends EC{constructor(t,r,n,o,i,s,a,l){super(t,i,s,l),this.sharedStylesHost=r,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=KT(o.id,o.styles);for(const f of c){const h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,r){return super.appendChild(this.nodeOrShadowRoot(t),r)}insertBefore(t,r,n){return super.insertBefore(this.nodeOrShadowRoot(t),r,n)}removeChild(t,r){return super.removeChild(this.nodeOrShadowRoot(t),r)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class DC extends EC{constructor(t,r,n,o,i,s,a,l){super(t,i,s,a),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=o,this.styles=l?KT(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class JT extends DC{constructor(t,r,n,o,i,s,a,l){const c=o+"-"+n.id;super(t,r,n,i,s,a,l,c),this.contentAttr=function lU(e){return"_ngcontent-%COMP%".replace(wC,e)}(c),this.hostAttr=function cU(e){return"_nghost-%COMP%".replace(wC,e)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,r){const n=super.createElement(t,r);return super.setAttribute(n,this.contentAttr,""),n}}let fU=(()=>{var e;class t extends ZT{constructor(n){super(n)}supports(n){return!0}addEventListener(n,o,i){return n.addEventListener(o,i,!1),()=>this.removeEventListener(n,o,i)}removeEventListener(n,o,i){return n.removeEventListener(o,i)}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(_i))},e.\u0275prov=k({token:e,factory:e.\u0275fac}),t})();const eM=["alt","control","meta","shift"],pU={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hU={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let mU=(()=>{var e;class t extends ZT{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,o,i){const s=t.parseEventName(o),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>jc().onAndCancel(n,s.domEventName,a))}static parseEventName(n){const o=n.toLowerCase().split("."),i=o.shift();if(0===o.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(o.pop());let a="",l=o.indexOf("code");if(l>-1&&(o.splice(l,1),a="code."),eM.forEach(f=>{const h=o.indexOf(f);h>-1&&(o.splice(h,1),a+=f+".")}),a+=s,0!=o.length||0===s.length)return null;const c={};return c.domEventName=i,c.fullKey=a,c}static matchEventFullKeyCode(n,o){let i=pU[n.key]||n.key,s="";return o.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),eM.forEach(a=>{a!==i&&(0,hU[a])(n)&&(s+=a+".")}),s+=i,s===o)}static eventCallback(n,o,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>o(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(_i))},e.\u0275prov=k({token:e,factory:e.\u0275fac}),t})();const yU=zx(PV,"browser",[{provide:Pc,useValue:VT},{provide:Pw,useValue:function gU(){yC.makeCurrent()},multi:!0},{provide:_i,useFactory:function vU(){return function c2(e){Kv=e}(document),document},deps:[]}]),bU=new Pe(""),rM=[{provide:Ng,useClass:class nU{addToWindow(t){x.getAngularTestability=(n,o=!0)=>{const i=t.findTestabilityInTree(n,o);if(null==i)throw new Je(5103,!1);return i},x.getAllAngularTestabilities=()=>t.getAllTestabilities(),x.getAllAngularRootElements=()=>t.getAllRootElements(),x.frameworkStabilizers||(x.frameworkStabilizers=[]),x.frameworkStabilizers.push(n=>{const o=x.getAllAngularTestabilities();let i=o.length,s=!1;const a=function(l){s=s||l,i--,0==i&&n(s)};o.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,r,n){return null==r?null:t.getTestability(r)??(n?jc().isShadowRoot(r)?this.findTestabilityInTree(t,r.host,!0):this.findTestabilityInTree(t,r.parentElement,!0):null)}},deps:[]},{provide:Nx,useClass:Bb,deps:[Ze,Vb,Ng]},{provide:Bb,useClass:Bb,deps:[Ze,Vb,Ng]}],oM=[{provide:Hv,useValue:"root"},{provide:Kl,useFactory:function _U(){return new Kl},deps:[]},{provide:bC,useClass:fU,multi:!0,deps:[_i,Ze,Pc]},{provide:bC,useClass:mU,multi:!0,deps:[_i]},XT,qT,WT,{provide:PE,useExisting:XT},{provide:GT,useClass:rU,deps:[]},[]];let CU=(()=>{var e;class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Pm,useValue:n.appId}]}}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(bU,12))},e.\u0275mod=Jr({type:e}),e.\u0275inj=ot({providers:[...oM,...rM],imports:[yl,OV]}),t})(),iM=(()=>{var e;class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(_i))},e.\u0275prov=k({token:e,factory:function(n){let o=null;return o=n?new n:function wU(){return new iM(ue(_i))}(),o},providedIn:"root"}),t})();const Hc=typeof window<"u"&&window||{};class EU{constructor(t,r){this.msPerTick=t,this.numTicks=r}}class DU{constructor(t){this.appRef=t.injector.get(Pa)}timeChangeDetection(t){const r=t&&t.record,n="Change Detection",o=null!=Hc.console.profile;r&&o&&Hc.console.profile(n);const i=IC();let s=0;for(;s<5||IC()-i<500;)this.appRef.tick(),s++;const a=IC();r&&o&&Hc.console.profileEnd(n);const l=(a-i)/s;return Hc.console.log(`ran ${s} change detection cycles`),Hc.console.log(`${l.toFixed(2)} ms per check`),new EU(l,s)}}function IC(){return Hc.performance&&Hc.performance.now?Hc.performance.now():(new Date).getTime()}let xC=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=k({token:e,factory:function(n){let o=null;return o=n?new(n||e):ue(lM),o},providedIn:"root"}),t})(),lM=(()=>{var e;class t extends xC{constructor(n){super(),this._doc=n}sanitize(n,o){if(null==o)return null;switch(n){case $s.NONE:return o;case $s.HTML:return dl(o,"HTML")?Ls(o):EE(this._doc,String(o)).toString();case $s.STYLE:return dl(o,"Style")?Ls(o):o;case $s.SCRIPT:if(dl(o,"Script"))return Ls(o);throw new Je(5200,!1);case $s.URL:return dl(o,"URL")?Ls(o):Zm(String(o));case $s.RESOURCE_URL:if(dl(o,"ResourceURL"))return Ls(o);throw new Je(5201,!1);default:throw new Je(5202,!1)}}bypassSecurityTrustHtml(n){return function iF(e){return new J2(e)}(n)}bypassSecurityTrustStyle(n){return function sF(e){return new eF(e)}(n)}bypassSecurityTrustScript(n){return function aF(e){return new tF(e)}(n)}bypassSecurityTrustUrl(n){return function lF(e){return new nF(e)}(n)}bypassSecurityTrustResourceUrl(n){return function cF(e){return new rF(e)}(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(_i))},e.\u0275prov=k({token:e,factory:function(n){let o=null;return o=n?new n:function TU(e){return new lM(e.get(_i))}(ue(Wr)),o},providedIn:"root"}),t})();var so=C(5861),MU=C(6299),Qd=C.n(MU);let i_,s_;function uM(e){if(!window.location.hash.startsWith(e))return;const t=window.location.hash.split("?")[1];if(!t)return;const r=t.split("&").map(n=>n.split("="));for(const[n,o]of r)if("url"===n&&o)try{return decodeURIComponent(o)}catch{continue}}function dM(){return void 0!==s_}class fM{constructor(){this.requestEvent=new so.j}dispatchRequest(t){if(t){try{t=new(Qd())(t).toString()}catch{return void console.error(`invalid URL: ${t}`)}this.url=t,this.requestEvent.dispatch()}}hasPendingRequest(){return void 0!==this.url}receivePendingUrl(){const t=this.url;return this.url=void 0,t}}let TC=(()=>{var e;class t{constructor(){this.installation=new fM,this.import=new fM,i_&&this.installation.dispatchRequest(i_),s_&&this.import.dispatchRequest(s_)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var j=C(3918);function Jd(e,t){return xe(t)?Vn(e,t,1):Vn(e,1)}function Na(e,t){return xn((r,n)=>{let o=0;r.subscribe(Ln(n,i=>e.call(t,i,o++)&&n.next(i)))})}function qp(e){return xn((t,r)=>{try{t.subscribe(r)}finally{r.add(e)}})}class a_{}class l_{}class ca{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(r=>{const n=r.indexOf(":");if(n>0){const o=r.slice(0,n),i=o.toLowerCase(),s=r.slice(n+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((r,n)=>{this.setHeaderEntries(n,r)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([r,n])=>{this.setHeaderEntries(r,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const r=this.headers.get(t.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,r){return this.clone({name:t,value:r,op:"a"})}set(t,r){return this.clone({name:t,value:r,op:"s"})}delete(t,r){return this.clone({name:t,value:r,op:"d"})}maybeSetNormalizedName(t,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,t)}init(){this.lazyInit&&(this.lazyInit instanceof ca?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(r=>{this.headers.set(r,t.headers.get(r)),this.normalizedNames.set(r,t.normalizedNames.get(r))})}clone(t){const r=new ca;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof ca?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([t]),r}applyUpdate(t){const r=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,r);const o=("a"===t.op?this.headers.get(r):void 0)||[];o.push(...n),this.headers.set(r,o);break;case"d":const i=t.value;if(i){let s=this.headers.get(r);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,s)}else this.headers.delete(r),this.normalizedNames.delete(r)}}setHeaderEntries(t,r){const n=(Array.isArray(r)?r:[r]).map(i=>i.toString()),o=t.toLowerCase();this.headers.set(o,n),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>t(this.normalizedNames.get(r),this.headers.get(r)))}}class RU{encodeKey(t){return pM(t)}encodeValue(t){return pM(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const OU=/%(\d[a-f0-9])/gi,FU={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function pM(e){return encodeURIComponent(e).replace(OU,(t,r)=>FU[r]??t)}function c_(e){return`${e}`}class zc{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new RU,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function PU(e,t){const r=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,i)),t.decodeValue(o.slice(i+1))],l=r.get(s)||[];l.push(a),r.set(s,l)}),r}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(r=>{const n=t.fromObject[r],o=Array.isArray(n)?n.map(c_):[c_(n)];this.map.set(r,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const r=this.map.get(t);return r?r[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,r){return this.clone({param:t,value:r,op:"a"})}appendAll(t){const r=[];return Object.keys(t).forEach(n=>{const o=t[n];Array.isArray(o)?o.forEach(i=>{r.push({param:n,value:i,op:"a"})}):r.push({param:n,value:o,op:"a"})}),this.clone(r)}set(t,r){return this.clone({param:t,value:r,op:"s"})}delete(t,r){return this.clone({param:t,value:r,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const r=this.encoder.encodeKey(t);return this.map.get(t).map(n=>r+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const r=new zc({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(t),r}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const r=("a"===t.op?this.map.get(t.param):void 0)||[];r.push(c_(t.value)),this.map.set(t.param,r);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let n=this.map.get(t.param)||[];const o=n.indexOf(c_(t.value));-1!==o&&n.splice(o,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class NU{constructor(){this.map=new Map}set(t,r){return this.map.set(t,r),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function hM(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function mM(e){return typeof Blob<"u"&&e instanceof Blob}function gM(e){return typeof FormData<"u"&&e instanceof FormData}class Yp{constructor(t,r,n,o){let i;if(this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function LU(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==n?n:null,i=o):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),this.transferCache=i.transferCache),this.headers||(this.headers=new ca),this.context||(this.context=new NU),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=r;else{const a=r.indexOf("?");this.urlWithParams=r+(-1===a?"?":a<r.length-1?"&":"")+s}}else this.params=new zc,this.urlWithParams=r}serializeBody(){return null===this.body?null:hM(this.body)||mM(this.body)||gM(this.body)||function $U(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof zc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||gM(this.body)?null:mM(this.body)?this.body.type||null:hM(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof zc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const r=t.method||this.method,n=t.url||this.url,o=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const f=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((h,m)=>h.set(m,t.setHeaders[m]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((h,m)=>h.set(m,t.setParams[m]),c)),new Yp(r,n,i,{params:c,headers:l,context:f,reportProgress:a,responseType:o,withCredentials:s})}}var Wc=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Wc||{});class MC{constructor(t,r=200,n="OK"){this.headers=t.headers||new ca,this.status=void 0!==t.status?t.status:r,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class u_ extends MC{constructor(t={}){super(t),this.type=Wc.ResponseHeader}clone(t={}){return new u_({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Au extends MC{constructor(t={}){super(t),this.type=Wc.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Au({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ef extends MC{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function AC(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}let kC=(()=>{var e;class t{constructor(n){this.handler=n}request(n,o,i={}){let s;if(n instanceof Yp)s=n;else{let c,f;c=i.headers instanceof ca?i.headers:new ca(i.headers),i.params&&(f=i.params instanceof zc?i.params:new zc({fromObject:i.params})),s=new Yp(n,o,void 0!==i.body?i.body:null,{headers:c,context:i.context,params:f,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}const a=Vt(s).pipe(Jd(c=>this.handler.handle(c)));if(n instanceof Yp||"events"===i.observe)return a;const l=a.pipe(Na(c=>c instanceof Au));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(an(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(an(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(an(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return l.pipe(an(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,o={}){return this.request("DELETE",n,o)}get(n,o={}){return this.request("GET",n,o)}head(n,o={}){return this.request("HEAD",n,o)}jsonp(n,o){return this.request("JSONP",n,{params:(new zc).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,o={}){return this.request("OPTIONS",n,o)}patch(n,o,i={}){return this.request("PATCH",n,AC(i,o))}post(n,o,i={}){return this.request("POST",n,AC(i,o))}put(n,o,i={}){return this.request("PUT",n,AC(i,o))}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(a_))},e.\u0275prov=k({token:e,factory:e.\u0275fac}),t})();function vM(e,t){return t(e)}function UU(e,t){return(r,n)=>t.intercept(r,{handle:o=>e(o,n)})}const zU=new Pe(""),Kp=new Pe(""),yM=new Pe(""),bM=new Pe("");function WU(){let e=null;return(t,r)=>{null===e&&(e=(lt(zU,{optional:!0})??[]).reduceRight(UU,vM));const n=lt(Og),o=n.add();return e(t,r).pipe(qp(()=>n.remove(o)))}}let CM=(()=>{var e;class t extends a_{constructor(n,o){super(),this.backend=n,this.injector=o,this.chain=null,this.pendingTasks=lt(Og);const i=lt(bM,{optional:!0});this.backend=i??n}handle(n){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Kp),...this.injector.get(yM,[])]));this.chain=i.reduceRight((s,a)=>function HU(e,t,r){return(n,o)=>Ac(r,()=>t(n,i=>e(i,o)))}(s,a,this.injector),vM)}const o=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(qp(()=>this.pendingTasks.remove(o)))}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(l_),ue(gi))},e.\u0275prov=k({token:e,factory:e.\u0275fac}),t})();const XU=/^\)\]\}',?\n/;let wM=(()=>{var e;class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Je(-2800,!1);const o=this.xhrFactory;return(o.\u0275loadImpl?br(o.\u0275loadImpl()):Vt(null)).pipe(Qr(()=>new In(s=>{const a=o.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((_e,Ie)=>a.setRequestHeader(_e,Ie.join(","))),n.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const _e=n.detectContentTypeHeader();null!==_e&&a.setRequestHeader("Content-Type",_e)}if(n.responseType){const _e=n.responseType.toLowerCase();a.responseType="json"!==_e?_e:"text"}const l=n.serializeBody();let c=null;const f=()=>{if(null!==c)return c;const _e=a.statusText||"OK",Ie=new ca(a.getAllResponseHeaders()),Ae=function QU(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(a)||n.url;return c=new u_({headers:Ie,status:a.status,statusText:_e,url:Ae}),c},h=()=>{let{headers:_e,status:Ie,statusText:Ae,url:bt}=f(),vt=null;204!==Ie&&(vt=typeof a.response>"u"?a.responseText:a.response),0===Ie&&(Ie=vt?200:0);let Ht=Ie>=200&&Ie<300;if("json"===n.responseType&&"string"==typeof vt){const xt=vt;vt=vt.replace(XU,"");try{vt=""!==vt?JSON.parse(vt):null}catch(ir){vt=xt,Ht&&(Ht=!1,vt={error:ir,text:vt})}}Ht?(s.next(new Au({body:vt,headers:_e,status:Ie,statusText:Ae,url:bt||void 0})),s.complete()):s.error(new ef({error:vt,headers:_e,status:Ie,statusText:Ae,url:bt||void 0}))},m=_e=>{const{url:Ie}=f(),Ae=new ef({error:_e,status:a.status||0,statusText:a.statusText||"Unknown Error",url:Ie||void 0});s.error(Ae)};let b=!1;const Z=_e=>{b||(s.next(f()),b=!0);let Ie={type:Wc.DownloadProgress,loaded:_e.loaded};_e.lengthComputable&&(Ie.total=_e.total),"text"===n.responseType&&a.responseText&&(Ie.partialText=a.responseText),s.next(Ie)},te=_e=>{let Ie={type:Wc.UploadProgress,loaded:_e.loaded};_e.lengthComputable&&(Ie.total=_e.total),s.next(Ie)};return a.addEventListener("load",h),a.addEventListener("error",m),a.addEventListener("timeout",m),a.addEventListener("abort",m),n.reportProgress&&(a.addEventListener("progress",Z),null!==l&&a.upload&&a.upload.addEventListener("progress",te)),a.send(l),s.next({type:Wc.Sent}),()=>{a.removeEventListener("error",m),a.removeEventListener("abort",m),a.removeEventListener("load",h),a.removeEventListener("timeout",m),n.reportProgress&&(a.removeEventListener("progress",Z),null!==l&&a.upload&&a.upload.removeEventListener("progress",te)),a.readyState!==a.DONE&&a.abort()}})))}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(GT))},e.\u0275prov=k({token:e,factory:e.\u0275fac}),t})();const OC=new Pe("XSRF_ENABLED"),EM=new Pe("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),DM=new Pe("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class IM{}let tH=(()=>{var e;class t{constructor(n,o,i){this.doc=n,this.platform=o,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=AT(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(_i),ue(Pc),ue(EM))},e.\u0275prov=k({token:e,factory:e.\u0275fac}),t})();function nH(e,t){const r=e.url.toLowerCase();if(!lt(OC)||"GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return t(e);const n=lt(IM).getToken(),o=lt(DM);return null!=n&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,n)})),t(e)}var Zc=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(Zc||{});function ku(e,t){return{\u0275kind:e,\u0275providers:t}}function rH(...e){const t=[kC,wM,CM,{provide:a_,useExisting:CM},{provide:l_,useExisting:wM},{provide:Kp,useValue:nH,multi:!0},{provide:OC,useValue:!0},{provide:IM,useClass:tH}];for(const r of e)t.push(...r.\u0275providers);return function jv(e){return{\u0275providers:e}}(t)}const xM=new Pe("LEGACY_INTERCEPTOR_FN");let iH=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Jr({type:e}),e.\u0275inj=ot({providers:[rH(ku(Zc.LegacyInterceptors,[{provide:xM,useFactory:WU},{provide:Kp,useExisting:xM,multi:!0}]))]}),t})();const{isArray:fH}=Array,{getPrototypeOf:pH,prototype:hH,keys:mH}=Object;function OM(e){if(1===e.length){const t=e[0];if(fH(t))return{args:t,keys:null};if(function gH(e){return e&&"object"==typeof e&&pH(e)===hH}(t)){const r=mH(t);return{args:r.map(n=>t[n]),keys:r}}}return{args:e,keys:null}}const{isArray:_H}=Array;function FC(e){return an(t=>function vH(e,t){return _H(t)?e(...t):e(t)}(e,t))}function FM(e,t){return e.reduce((r,n,o)=>(r[n]=t[o],r),{})}function f_(...e){const t=ss(e),r=ga(e),{args:n,keys:o}=OM(e);if(0===n.length)return br([],t);const i=new In(function yH(e,t,r=zn){return n=>{NM(t,()=>{const{length:o}=e,i=new Array(o);let s=o,a=o;for(let l=0;l<o;l++)NM(t,()=>{const c=br(e[l],t);let f=!1;c.subscribe(Ln(n,h=>{i[l]=h,f||(f=!0,a--),a||n.next(r(i.slice()))},()=>{--s||n.complete()}))},n)},n)}}(n,t,o?s=>FM(o,s):zn));return r?i.pipe(FC(r)):i}function NM(e,t,r){e?Xn(r,e,t):t()}const p_=be(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function NC(...e){return function bH(){return jo(1)}()(br(e,ss(e)))}function LM(e){return new In(t=>{Ue(e()).subscribe(t)})}function h_(e,t){const r=xe(e)?e:()=>e,n=o=>o.error(r());return new In(t?o=>t.schedule(n,0,o):n)}function LC(){return xn((e,t)=>{let r=null;e._refCount++;const n=Ln(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(r=null);const o=e._connection,i=r;r=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(n),n.closed||(r=e.connect())})}class $M extends In{constructor(t,r){super(),this.source=t,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,vr(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new at;const r=this.getSubject();t.add(this.source.subscribe(Ln(r,void 0,()=>{this._teardown(),r.complete()},n=>{this._teardown(),r.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=at.EMPTY)}return t}refCount(){return LC()(this)}}function tf(e){return e<=0?()=>ko:xn((t,r)=>{let n=0;t.subscribe(Ln(r,o=>{++n<=e&&(r.next(o),e<=n&&r.complete())}))})}function BM(...e){const t=ss(e);return xn((r,n)=>{(t?NC(e,r,t):NC(e,r)).subscribe(n)})}function m_(e){return xn((t,r)=>{let n=!1;t.subscribe(Ln(r,o=>{n=!0,r.next(o)},()=>{n||r.next(e),r.complete()}))})}function VM(e=CH){return xn((t,r)=>{let n=!1;t.subscribe(Ln(r,o=>{n=!0,r.next(o)},()=>n?r.complete():r.error(e())))})}function CH(){return new p_}function qc(e,t){const r=arguments.length>=2;return n=>n.pipe(e?Na((o,i)=>e(o,i,n)):zn,tf(1),r?m_(t):VM(()=>new p_))}function Ri(e,t,r){const n=xe(e)||t||r?{next:e,error:t,complete:r}:e;return n?xn((o,i)=>{var s;null===(s=n.subscribe)||void 0===s||s.call(n);let a=!0;o.subscribe(Ln(i,l=>{var c;null===(c=n.next)||void 0===c||c.call(n,l),i.next(l)},()=>{var l;a=!1,null===(l=n.complete)||void 0===l||l.call(n),i.complete()},l=>{var c;a=!1,null===(c=n.error)||void 0===c||c.call(n,l),i.error(l)},()=>{var l,c;a&&(null===(l=n.unsubscribe)||void 0===l||l.call(n)),null===(c=n.finalize)||void 0===c||c.call(n)}))}):zn}function Ru(e){return xn((t,r)=>{let i,n=null,o=!1;n=t.subscribe(Ln(r,void 0,void 0,s=>{i=Ue(e(s,Ru(e)(t))),n?(n.unsubscribe(),n=null,i.subscribe(r)):o=!0})),o&&(n.unsubscribe(),n=null,i.subscribe(r))})}function $C(e){return e<=0?()=>ko:xn((t,r)=>{let n=[];t.subscribe(Ln(r,o=>{n.push(o),e<n.length&&n.shift()},()=>{for(const o of n)r.next(o);r.complete()},void 0,()=>{n=null}))})}function jM(e){return an(()=>e)}function GM(e){return xn((t,r)=>{Ue(e).subscribe(Ln(r,()=>r.complete(),Pn)),!r.closed&&t.subscribe(r)})}const Mn="primary",Xp=Symbol("RouteTitle");class DH{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const r=this.params[t];return Array.isArray(r)?r[0]:r}return null}getAll(t){if(this.has(t)){const r=this.params[t];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function nf(e){return new DH(e)}function IH(e,t,r){const n=r.path.split("/");if(n.length>e.length||"full"===r.pathMatch&&(t.hasChildren()||n.length<e.length))return null;const o={};for(let i=0;i<n.length;i++){const s=n[i],a=e[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,n.length),posParams:o}}function bl(e,t){const r=e?BC(e):void 0,n=t?BC(t):void 0;if(!r||!n||r.length!=n.length)return!1;let o;for(let i=0;i<r.length;i++)if(o=r[i],!UM(e[o],t[o]))return!1;return!0}function BC(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function UM(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const r=[...e].sort(),n=[...t].sort();return r.every((o,i)=>n[i]===o)}return e===t}function HM(e){return e.length>0?e[e.length-1]:null}function Yc(e){return function dH(e){return!!e&&(e instanceof In||xe(e.lift)&&xe(e.subscribe))}(e)?e:Fp(e)?br(Promise.resolve(e)):Vt(e)}const TH={exact:function ZM(e,t,r){if(!Pu(e.segments,t.segments)||!g_(e.segments,t.segments,r)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const n in t.children)if(!e.children[n]||!ZM(e.children[n],t.children[n],r))return!1;return!0},subset:qM},zM={exact:function MH(e,t){return bl(e,t)},subset:function AH(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(r=>UM(e[r],t[r]))},ignored:()=>!0};function WM(e,t,r){return TH[r.paths](e.root,t.root,r.matrixParams)&&zM[r.queryParams](e.queryParams,t.queryParams)&&!("exact"===r.fragment&&e.fragment!==t.fragment)}function qM(e,t,r){return YM(e,t,t.segments,r)}function YM(e,t,r,n){if(e.segments.length>r.length){const o=e.segments.slice(0,r.length);return!(!Pu(o,r)||t.hasChildren()||!g_(o,r,n))}if(e.segments.length===r.length){if(!Pu(e.segments,r)||!g_(e.segments,r,n))return!1;for(const o in t.children)if(!e.children[o]||!qM(e.children[o],t.children[o],n))return!1;return!0}{const o=r.slice(0,e.segments.length),i=r.slice(e.segments.length);return!!(Pu(e.segments,o)&&g_(e.segments,o,n)&&e.children[Mn])&&YM(e.children[Mn],t,i,n)}}function g_(e,t,r){return t.every((n,o)=>zM[r](e[o].parameters,n.parameters))}class rf{constructor(t=new kr([],{}),r={},n=null){this.root=t,this.queryParams=r,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nf(this.queryParams)),this._queryParamMap}toString(){return PH.serialize(this)}}class kr{constructor(t,r){this.segments=t,this.children=r,this.parent=null,Object.values(r).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return __(this)}}class Qp{constructor(t,r){this.path=t,this.parameters=r}get parameterMap(){return this._parameterMap||(this._parameterMap=nf(this.parameters)),this._parameterMap}toString(){return QM(this)}}function Pu(e,t){return e.length===t.length&&e.every((r,n)=>r.path===t[n].path)}let Ou=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=k({token:e,factory:()=>new VC,providedIn:"root"}),t})();class VC{parse(t){const r=new HH(t);return new rf(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(t){const r=`/${Jp(t.root,!0)}`,n=function NH(e){const t=Object.keys(e).map(r=>{const n=e[r];return Array.isArray(n)?n.map(o=>`${v_(r)}=${v_(o)}`).join("&"):`${v_(r)}=${v_(n)}`}).filter(r=>!!r);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${r}${n}${"string"==typeof t.fragment?`#${function OH(e){return encodeURI(e)}(t.fragment)}`:""}`}}const PH=new VC;function __(e){return e.segments.map(t=>QM(t)).join("/")}function Jp(e,t){if(!e.hasChildren())return __(e);if(t){const r=e.children[Mn]?Jp(e.children[Mn],!1):"",n=[];return Object.entries(e.children).forEach(([o,i])=>{o!==Mn&&n.push(`${o}:${Jp(i,!1)}`)}),n.length>0?`${r}(${n.join("//")})`:r}{const r=function RH(e,t){let r=[];return Object.entries(e.children).forEach(([n,o])=>{n===Mn&&(r=r.concat(t(o,n)))}),Object.entries(e.children).forEach(([n,o])=>{n!==Mn&&(r=r.concat(t(o,n)))}),r}(e,(n,o)=>o===Mn?[Jp(e.children[Mn],!1)]:[`${o}:${Jp(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Mn]?`${__(e)}/${r[0]}`:`${__(e)}/(${r.join("//")})`}}function KM(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function v_(e){return KM(e).replace(/%3B/gi,";")}function jC(e){return KM(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function y_(e){return decodeURIComponent(e)}function XM(e){return y_(e.replace(/\+/g,"%20"))}function QM(e){return`${jC(e.path)}${function FH(e){return Object.keys(e).map(t=>`;${jC(t)}=${jC(e[t])}`).join("")}(e.parameters)}`}const LH=/^[^\/()?;#]+/;function GC(e){const t=e.match(LH);return t?t[0]:""}const $H=/^[^\/()?;=#]+/,VH=/^[^=?&#]+/,GH=/^[^&#]+/;class HH{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new kr([],{}):new kr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(r).length>0)&&(n[Mn]=new kr(t,r)),n}parseSegment(){const t=GC(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Je(4009,!1);return this.capture(t),new Qp(y_(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const r=function BH(e){const t=e.match($H);return t?t[0]:""}(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){const o=GC(this.remaining);o&&(n=o,this.capture(n))}t[y_(r)]=y_(n)}parseQueryParam(t){const r=function jH(e){const t=e.match(VH);return t?t[0]:""}(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){const s=function UH(e){const t=e.match(GH);return t?t[0]:""}(this.remaining);s&&(n=s,this.capture(n))}const o=XM(r),i=XM(n);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=GC(this.remaining),o=this.remaining[n.length];if("/"!==o&&")"!==o&&";"!==o)throw new Je(4010,!1);let i;n.indexOf(":")>-1?(i=n.slice(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Mn);const s=this.parseChildren();r[i]=1===Object.keys(s).length?s[Mn]:new kr([],s),this.consumeOptional("//")}return r}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Je(4011,!1)}}function JM(e){return e.segments.length>0?new kr([],{[Mn]:e}):e}function eA(e){const t={};for(const n of Object.keys(e.children)){const i=eA(e.children[n]);if(n===Mn&&0===i.segments.length&&i.hasChildren())for(const[s,a]of Object.entries(i.children))t[s]=a;else(i.segments.length>0||i.hasChildren())&&(t[n]=i)}return function zH(e){if(1===e.numberOfChildren&&e.children[Mn]){const t=e.children[Mn];return new kr(e.segments.concat(t.segments),t.children)}return e}(new kr(e.segments,t))}function Fu(e){return e instanceof rf}function tA(e){let t;const o=JM(function r(i){const s={};for(const l of i.children){const c=r(l);s[l.outlet]=c}const a=new kr(i.url,s);return i===e&&(t=a),a}(e.root));return t??o}function nA(e,t,r,n){let o=e;for(;o.parent;)o=o.parent;if(0===t.length)return UC(o,o,o,r,n);const i=function ZH(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new oA(!0,0,e);let t=0,r=!1;const n=e.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return Object.entries(i.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?r=!0:".."===a?t++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new oA(r,t,n)}(t);if(i.toRoot())return UC(o,o,new kr([],{}),r,n);const s=function qH(e,t,r){if(e.isAbsolute)return new C_(t,!0,0);if(!r)return new C_(t,!1,NaN);if(null===r.parent)return new C_(r,!0,0);const n=b_(e.commands[0])?0:1;return function YH(e,t,r){let n=e,o=t,i=r;for(;i>o;){if(i-=o,n=n.parent,!n)throw new Je(4005,!1);o=n.segments.length}return new C_(n,!1,o-i)}(r,r.segments.length-1+n,e.numberOfDoubleDots)}(i,o,e),a=s.processChildren?th(s.segmentGroup,s.index,i.commands):iA(s.segmentGroup,s.index,i.commands);return UC(o,s.segmentGroup,a,r,n)}function b_(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function eh(e){return"object"==typeof e&&null!=e&&e.outlets}function UC(e,t,r,n,o){let s,i={};n&&Object.entries(n).forEach(([l,c])=>{i[l]=Array.isArray(c)?c.map(f=>`${f}`):`${c}`}),s=e===t?r:rA(e,t,r);const a=JM(eA(s));return new rf(a,i,o)}function rA(e,t,r){const n={};return Object.entries(e.children).forEach(([o,i])=>{n[o]=i===t?r:rA(i,t,r)}),new kr(e.segments,n)}class oA{constructor(t,r,n){if(this.isAbsolute=t,this.numberOfDoubleDots=r,this.commands=n,t&&n.length>0&&b_(n[0]))throw new Je(4003,!1);const o=n.find(eh);if(o&&o!==HM(n))throw new Je(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class C_{constructor(t,r,n){this.segmentGroup=t,this.processChildren=r,this.index=n}}function iA(e,t,r){if(e||(e=new kr([],{})),0===e.segments.length&&e.hasChildren())return th(e,t,r);const n=function XH(e,t,r){let n=0,o=t;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(n>=r.length)return i;const s=e.segments[o],a=r[n];if(eh(a))break;const l=`${a}`,c=n<r.length-1?r[n+1]:null;if(o>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!aA(l,c,s))return i;n+=2}else{if(!aA(l,{},s))return i;n++}o++}return{match:!0,pathIndex:o,commandIndex:n}}(e,t,r),o=r.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){const i=new kr(e.segments.slice(0,n.pathIndex),{});return i.children[Mn]=new kr(e.segments.slice(n.pathIndex),e.children),th(i,0,o)}return n.match&&0===o.length?new kr(e.segments,{}):n.match&&!e.hasChildren()?HC(e,t,r):n.match?th(e,0,o):HC(e,t,r)}function th(e,t,r){if(0===r.length)return new kr(e.segments,{});{const n=function KH(e){return eh(e[0])?e[0].outlets:{[Mn]:e}}(r),o={};if(Object.keys(n).some(i=>i!==Mn)&&e.children[Mn]&&1===e.numberOfChildren&&0===e.children[Mn].segments.length){const i=th(e.children[Mn],t,r);return new kr(e.segments,i.children)}return Object.entries(n).forEach(([i,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(o[i]=iA(e.children[i],t,s))}),Object.entries(e.children).forEach(([i,s])=>{void 0===n[i]&&(o[i]=s)}),new kr(e.segments,o)}}function HC(e,t,r){const n=e.segments.slice(0,t);let o=0;for(;o<r.length;){const i=r[o];if(eh(i)){const l=QH(i.outlets);return new kr(n,l)}if(0===o&&b_(r[0])){n.push(new Qp(e.segments[t].path,sA(r[0]))),o++;continue}const s=eh(i)?i.outlets[Mn]:`${i}`,a=o<r.length-1?r[o+1]:null;s&&a&&b_(a)?(n.push(new Qp(s,sA(a))),o+=2):(n.push(new Qp(s,{})),o++)}return new kr(n,{})}function QH(e){const t={};return Object.entries(e).forEach(([r,n])=>{"string"==typeof n&&(n=[n]),null!==n&&(t[r]=HC(new kr([],{}),0,n))}),t}function sA(e){const t={};return Object.entries(e).forEach(([r,n])=>t[r]=`${n}`),t}function aA(e,t,r){return e==r.path&&bl(t,r.parameters)}const nh="imperative";class Cl{constructor(t,r){this.id=t,this.url=r}}class rh extends Cl{constructor(t,r,n="imperative",o=null){super(t,r),this.type=0,this.navigationTrigger=n,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class nc extends Cl{constructor(t,r,n){super(t,r),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class sf extends Cl{constructor(t,r,n,o){super(t,r),this.reason=n,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class af extends Cl{constructor(t,r,n,o){super(t,r),this.reason=n,this.code=o,this.type=16}}class S_ extends Cl{constructor(t,r,n,o){super(t,r),this.error=n,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class lA extends Cl{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class JH extends Cl{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class e6 extends Cl{constructor(t,r,n,o,i){super(t,r),this.urlAfterRedirects=n,this.state=o,this.shouldActivate=i,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class t6 extends Cl{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class n6 extends Cl{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class r6{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class o6{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class i6{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class s6{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class a6{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class l6{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cA{constructor(t,r,n){this.routerEvent=t,this.position=r,this.anchor=n,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class zC{}class WC{constructor(t){this.url=t}}class c6{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Nu,this.attachRef=null}}let Nu=(()=>{var e;class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,o){const i=this.getOrCreateContext(n);i.outlet=o,this.contexts.set(n,i)}onChildOutletDestroyed(n){const o=this.getContext(n);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let o=this.getContext(n);return o||(o=new c6,this.contexts.set(n,o)),o}getContext(n){return this.contexts.get(n)||null}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class uA{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const r=this.pathFromRoot(t);return r.length>1?r[r.length-2]:null}children(t){const r=ZC(t,this._root);return r?r.children.map(n=>n.value):[]}firstChild(t){const r=ZC(t,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(t){const r=qC(t,this._root);return r.length<2?[]:r[r.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return qC(t,this._root).map(r=>r.value)}}function ZC(e,t){if(e===t.value)return t;for(const r of t.children){const n=ZC(e,r);if(n)return n}return null}function qC(e,t){if(e===t.value)return[t];for(const r of t.children){const n=qC(e,r);if(n.length)return n.unshift(t),n}return[]}class La{constructor(t,r){this.value=t,this.children=r}toString(){return`TreeNode(${this.value})`}}function lf(e){const t={};return e&&e.children.forEach(r=>t[r.value.outlet]=r),t}class dA extends uA{constructor(t,r){super(t),this.snapshot=r,XC(this,t)}toString(){return this.snapshot.toString()}}function fA(e,t){const r=function u6(e,t){const s=new KC([],{},{},"",{},Mn,t,null,{});return new pA("",new La(s,[]))}(0,t),n=new fo([new Qp("",{})]),o=new fo({}),i=new fo({}),s=new fo({}),a=new fo(""),l=new Sl(n,o,s,a,i,Mn,t,r.root);return l.snapshot=r.root,new dA(new La(l,[]),r)}class Sl{constructor(t,r,n,o,i,s,a,l){this.urlSubject=t,this.paramsSubject=r,this.queryParamsSubject=n,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(an(c=>c[Xp]))??Vt(void 0),this.url=t,this.params=r,this.queryParams=n,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(an(t=>nf(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(an(t=>nf(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function YC(e,t,r="emptyOnly"){let n;const{routeConfig:o}=e;return n=null===t||"always"!==r&&""!==o?.path&&(t.component||t.routeConfig?.loadComponent)?{params:e.params,data:e.data,resolve:{...e.data,...e._resolvedData??{}}}:{params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.data,...o?.data,...e._resolvedData}},o&&mA(o)&&(n.resolve[Xp]=o.title),n}class KC{get title(){return this.data?.[Xp]}constructor(t,r,n,o,i,s,a,l,c){this.url=t,this.params=r,this.queryParams=n,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=nf(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nf(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class pA extends uA{constructor(t,r){super(r),this.url=t,XC(this,r)}toString(){return hA(this._root)}}function XC(e,t){t.value._routerState=e,t.children.forEach(r=>XC(e,r))}function hA(e){const t=e.children.length>0?` { ${e.children.map(hA).join(", ")} } `:"";return`${e.value}${t}`}function QC(e){if(e.snapshot){const t=e.snapshot,r=e._futureSnapshot;e.snapshot=r,bl(t.queryParams,r.queryParams)||e.queryParamsSubject.next(r.queryParams),t.fragment!==r.fragment&&e.fragmentSubject.next(r.fragment),bl(t.params,r.params)||e.paramsSubject.next(r.params),function xH(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!bl(e[r],t[r]))return!1;return!0}(t.url,r.url)||e.urlSubject.next(r.url),bl(t.data,r.data)||e.dataSubject.next(r.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function JC(e,t){const r=bl(e.params,t.params)&&function kH(e,t){return Pu(e,t)&&e.every((r,n)=>bl(r.parameters,t[n].parameters))}(e.url,t.url);return r&&!(!e.parent!=!t.parent)&&(!e.parent||JC(e.parent,t.parent))}function mA(e){return"string"==typeof e.title||null===e.title}let gA=(()=>{var e;class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Mn,this.activateEvents=new tn,this.deactivateEvents=new tn,this.attachEvents=new tn,this.detachEvents=new tn,this.parentContexts=lt(Nu),this.location=lt(vs),this.changeDetector=lt(ft),this.environmentInjector=lt(gi),this.inputBinder=lt(w_,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:o,previousValue:i}=n.name;if(o)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Je(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Je(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Je(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,o){this.activated=n,this._activatedRoute=o,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,o){if(this.isActivated)throw new Je(4013,!1);this._activatedRoute=n;const i=this.location,a=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new d6(n,l,i.injector);this.activated=i.createComponent(a,{index:i.length,injector:c,environmentInjector:o??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=Pt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[tr]}),t})();class d6{constructor(t,r,n){this.route=t,this.childContexts=r,this.parent=n}get(t,r){return t===Sl?this.route:t===Nu?this.childContexts:this.parent.get(t,r)}}const w_=new Pe("");let _A=(()=>{var e;class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:o}=n,i=f_([o.queryParams,o.params,o.data]).pipe(Qr(([s,a,l],c)=>(l={...s,...a,...l},0===c?Vt(l):Promise.resolve(l)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==o||null===o.component)return void this.unsubscribeFromRouteData(n);const a=gT(o.component);if(a)for(const{templateName:l}of a.inputs)n.activatedComponentRef.setInput(l,s[l]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac}),t})();function oh(e,t,r){if(r&&e.shouldReuseRoute(t.value,r.value.snapshot)){const n=r.value;n._futureSnapshot=t.value;const o=function p6(e,t,r){return t.children.map(n=>{for(const o of r.children)if(e.shouldReuseRoute(n.value,o.value.snapshot))return oh(e,n,o);return oh(e,n)})}(e,t,r);return new La(n,o)}{if(e.shouldAttach(t.value)){const i=e.retrieve(t.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>oh(e,a)),s}}const n=function h6(e){return new Sl(new fo(e.url),new fo(e.params),new fo(e.queryParams),new fo(e.fragment),new fo(e.data),e.outlet,e.component,e)}(t.value),o=t.children.map(i=>oh(e,i));return new La(n,o)}}const e0="ngNavigationCancelingError";function vA(e,t){const{redirectTo:r,navigationBehaviorOptions:n}=Fu(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=yA(!1,0,t);return o.url=r,o.navigationBehaviorOptions=n,o}function yA(e,t,r){const n=new Error("NavigationCancelingError: "+(e||""));return n[e0]=!0,n.cancellationCode=t,r&&(n.url=r),n}function bA(e){return e&&e[e0]}let CA=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ye({type:e,selectors:[["ng-component"]],standalone:!0,features:[Mg],decls:1,vars:0,template:function(n,o){1&n&&He(0,"router-outlet")},dependencies:[gA],encapsulation:2}),t})();function t0(e){const t=e.children&&e.children.map(t0),r=t?{...e,children:t}:{...e};return!r.component&&!r.loadComponent&&(t||r.loadChildren)&&r.outlet&&r.outlet!==Mn&&(r.component=CA),r}function wl(e){return e.outlet||Mn}function ih(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const r=t.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}class S6{constructor(t,r,n,o,i){this.routeReuseStrategy=t,this.futureState=r,this.currState=n,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){const r=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,n,t),QC(this.futureState.root),this.activateChildRoutes(r,n,t)}deactivateChildRoutes(t,r,n){const o=lf(r);t.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],n),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,n)})}deactivateRoutes(t,r,n){const o=t.value,i=r?r.value:null;if(o===i)if(o.component){const s=n.getContext(o.outlet);s&&this.deactivateChildRoutes(t,r,s.children)}else this.deactivateChildRoutes(t,r,n);else i&&this.deactivateRouteAndItsChildren(r,n)}deactivateRouteAndItsChildren(t,r){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,r):this.deactivateRouteAndOutlet(t,r)}detachAndStoreRouteSubtree(t,r){const n=r.getContext(t.value.outlet),o=n&&t.value.component?n.children:r,i=lf(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);if(n&&n.outlet){const s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,r){const n=r.getContext(t.value.outlet),o=n&&t.value.component?n.children:r,i=lf(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,r,n){const o=lf(r);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],n),this.forwardEvent(new l6(i.value.snapshot))}),t.children.length&&this.forwardEvent(new s6(t.value.snapshot))}activateRoutes(t,r,n){const o=t.value,i=r?r.value:null;if(QC(o),o===i)if(o.component){const s=n.getOrCreateContext(o.outlet);this.activateChildRoutes(t,r,s.children)}else this.activateChildRoutes(t,r,n);else if(o.component){const s=n.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),QC(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=ih(o.snapshot);s.attachRef=null,s.route=o,s.injector=a,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,n)}}class SA{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class E_{constructor(t,r){this.component=t,this.route=r}}function w6(e,t,r){const n=e._root;return sh(n,t?t._root:null,r,[n.value])}function cf(e,t){const r=Symbol(),n=t.get(e,r);return n===r?"function"!=typeof e||function Kt(e){return null!==nn(e)}(e)?t.get(e):e:n}function sh(e,t,r,n,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=lf(t);return e.children.forEach(s=>{(function D6(e,t,r,n,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=e.value,s=t?t.value:null,a=r?r.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const l=function I6(e,t,r){if("function"==typeof r)return r(e,t);switch(r){case"pathParamsChange":return!Pu(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Pu(e.url,t.url)||!bl(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!JC(e,t)||!bl(e.queryParams,t.queryParams);default:return!JC(e,t)}}(s,i,i.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new SA(n)):(i.data=s.data,i._resolvedData=s._resolvedData),sh(e,t,i.component?a?a.children:null:r,n,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new E_(a.outlet.component,s))}else s&&ah(t,a,o),o.canActivateChecks.push(new SA(n)),sh(e,null,i.component?a?a.children:null:r,n,o)})(s,i[s.value.outlet],r,n.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>ah(a,r.getContext(s),o)),o}function ah(e,t,r){const n=lf(e),o=e.value;Object.entries(n).forEach(([i,s])=>{ah(s,o.component?t?t.children.getContext(i):null:t,r)}),r.canDeactivateChecks.push(new E_(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function lh(e){return"function"==typeof e}function wA(e){return e instanceof p_||"EmptyError"===e?.name}const D_=Symbol("INITIAL_VALUE");function uf(){return Qr(e=>f_(e.map(t=>t.pipe(tf(1),BM(D_)))).pipe(an(t=>{for(const r of t)if(!0!==r){if(r===D_)return D_;if(!1===r||r instanceof rf)return r}return!0}),Na(t=>t!==D_),tf(1)))}function EA(e){return function Yr(...e){return bo(e)}(Ri(t=>{if(Fu(t))throw vA(0,t)}),an(t=>!0===t))}class n0{constructor(t){this.segmentGroup=t||null}}class r0 extends Error{constructor(t){super(),this.urlTree=t}}function df(e){return h_(new n0(e))}class W6{constructor(t,r){this.urlSerializer=t,this.urlTree=r}lineralizeSegments(t,r){let n=[],o=r.root;for(;;){if(n=n.concat(o.segments),0===o.numberOfChildren)return Vt(n);if(o.numberOfChildren>1||!o.children[Mn])return h_(new Je(4e3,!1));o=o.children[Mn]}}applyRedirectCommands(t,r,n){const o=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),t,n);if(r.startsWith("/"))throw new r0(o);return o}applyRedirectCreateUrlTree(t,r,n,o){const i=this.createSegmentGroup(t,r.root,n,o);return new rf(i,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(t,r){const n={};return Object.entries(t).forEach(([o,i])=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);n[o]=r[a]}else n[o]=i}),n}createSegmentGroup(t,r,n,o){const i=this.createSegments(t,r.segments,n,o);let s={};return Object.entries(r.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,n,o)}),new kr(i,s)}createSegments(t,r,n,o){return r.map(i=>i.path.startsWith(":")?this.findPosParam(t,i,o):this.findOrReturn(i,n))}findPosParam(t,r,n){const o=n[r.path.substring(1)];if(!o)throw new Je(4001,!1);return o}findOrReturn(t,r){let n=0;for(const o of r){if(o.path===t.path)return r.splice(n),o;n++}return t}}const o0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Z6(e,t,r,n,o){const i=s0(e,t,r);return i.matched?(n=function g6(e,t){return e.providers&&!e._injector&&(e._injector=Ib(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,n),function U6(e,t,r,n){const o=t.canMatch;return o&&0!==o.length?Vt(o.map(s=>{const a=cf(s,e);return Yc(function R6(e){return e&&lh(e.canMatch)}(a)?a.canMatch(t,r):Ac(e,()=>a(t,r)))})).pipe(uf(),EA()):Vt(!0)}(n,t,r).pipe(an(s=>!0===s?i:{...o0}))):Vt(i)}function s0(e,t,r){if("**"===t.path)return function q6(e){return{matched:!0,parameters:e.length>0?HM(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(r);if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||r.length>0)?{...o0}:{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};const o=(t.matcher||IH)(r,e,t);if(!o)return{...o0};const i={};Object.entries(o.posParams??{}).forEach(([a,l])=>{i[a]=l.path});const s=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:r.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function DA(e,t,r,n){return r.length>0&&function X6(e,t,r){return r.some(n=>I_(e,t,n)&&wl(n)!==Mn)}(e,r,n)?{segmentGroup:new kr(t,K6(n,new kr(r,e.children))),slicedSegments:[]}:0===r.length&&function Q6(e,t,r){return r.some(n=>I_(e,t,n))}(e,r,n)?{segmentGroup:new kr(e.segments,Y6(e,0,r,n,e.children)),slicedSegments:r}:{segmentGroup:new kr(e.segments,e.children),slicedSegments:r}}function Y6(e,t,r,n,o){const i={};for(const s of n)if(I_(e,r,s)&&!o[wl(s)]){const a=new kr([],{});i[wl(s)]=a}return{...o,...i}}function K6(e,t){const r={};r[Mn]=t;for(const n of e)if(""===n.path&&wl(n)!==Mn){const o=new kr([],{});r[wl(n)]=o}return r}function I_(e,t,r){return(!(e.hasChildren()||t.length>0)||"full"!==r.pathMatch)&&""===r.path}class tz{}class oz{constructor(t,r,n,o,i,s,a){this.injector=t,this.configLoader=r,this.rootComponentType=n,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new W6(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new Je(4002,`'${t.segmentGroup}'`)}recognize(){const t=DA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(an(r=>{const n=new KC([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Mn,this.rootComponentType,null,{}),o=new La(n,r),i=new pA("",o),s=function WH(e,t,r=null,n=null){return nA(tA(e),t,r,n)}(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(i._root,null),{state:i,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,Mn).pipe(Ru(n=>{if(n instanceof r0)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof n0?this.noMatchError(n):n}))}inheritParamsAndData(t,r){const n=t.value,o=YC(n,r,this.paramsInheritanceStrategy);n.params=Object.freeze(o.params),n.data=Object.freeze(o.data),t.children.forEach(i=>this.inheritParamsAndData(i,n))}processSegmentGroup(t,r,n,o){return 0===n.segments.length&&n.hasChildren()?this.processChildren(t,r,n):this.processSegment(t,r,n,n.segments,o,!0).pipe(an(i=>i instanceof La?[i]:[]))}processChildren(t,r,n){const o=[];for(const i of Object.keys(n.children))"primary"===i?o.unshift(i):o.push(i);return br(o).pipe(Jd(i=>{const s=n.children[i],a=function b6(e,t){const r=e.filter(n=>wl(n)===t);return r.push(...e.filter(n=>wl(n)!==t)),r}(r,i);return this.processSegmentGroup(t,a,s,i)}),function wH(e,t){return xn(function SH(e,t,r,n,o){return(i,s)=>{let a=r,l=t,c=0;i.subscribe(Ln(s,f=>{const h=c++;l=a?e(l,f,h):(a=!0,f),n&&s.next(l)},o&&(()=>{a&&s.next(l),s.complete()})))}}(e,t,arguments.length>=2,!0))}((i,s)=>(i.push(...s),i)),m_(null),function EH(e,t){const r=arguments.length>=2;return n=>n.pipe(e?Na((o,i)=>e(o,i,n)):zn,$C(1),r?m_(t):VM(()=>new p_))}(),Vn(i=>{if(null===i)return df(n);const s=IA(i);return function iz(e){e.sort((t,r)=>t.value.outlet===Mn?-1:r.value.outlet===Mn?1:t.value.outlet.localeCompare(r.value.outlet))}(s),Vt(s)}))}processSegment(t,r,n,o,i,s){return br(r).pipe(Jd(a=>this.processSegmentAgainstRoute(a._injector??t,r,a,n,o,i,s).pipe(Ru(l=>{if(l instanceof n0)return Vt(null);throw l}))),qc(a=>!!a),Ru(a=>{if(wA(a))return function ez(e,t,r){return 0===t.length&&!e.children[r]}(n,o,i)?Vt(new tz):df(n);throw a}))}processSegmentAgainstRoute(t,r,n,o,i,s,a){return function J6(e,t,r,n){return!!(wl(e)===n||n!==Mn&&I_(t,r,e))&&s0(t,e,r).matched}(n,o,i,s)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(t,o,n,i,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,r,n,i,s):df(o):df(o)}expandSegmentAgainstRouteUsingRedirect(t,r,n,o,i,s){const{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:f}=s0(r,o,i);if(!a)return df(r);o.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const h=this.applyRedirects.applyRedirectCommands(l,o.redirectTo,c);return this.applyRedirects.lineralizeSegments(o,h).pipe(Vn(m=>this.processSegment(t,n,r,m.concat(f),s,!1)))}matchSegmentAgainstRoute(t,r,n,o,i){const s=Z6(r,n,o,t);return"**"===n.path&&(r.children={}),s.pipe(Qr(a=>a.matched?this.getChildConfig(t=n._injector??t,n,o).pipe(Qr(({routes:l})=>{const c=n._loadedInjector??t,{consumedSegments:f,remainingSegments:h,parameters:m}=a,b=new KC(f,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function az(e){return e.data||{}}(n),wl(n),n.component??n._loadedComponent??null,n,function lz(e){return e.resolve||{}}(n)),{segmentGroup:Z,slicedSegments:te}=DA(r,f,h,l);if(0===te.length&&Z.hasChildren())return this.processChildren(c,l,Z).pipe(an(Ie=>null===Ie?null:new La(b,Ie)));if(0===l.length&&0===te.length)return Vt(new La(b,[]));const _e=wl(n)===i;return this.processSegment(c,l,Z,te,_e?Mn:i,!0).pipe(an(Ie=>new La(b,Ie instanceof La?[Ie]:[])))})):df(r)))}getChildConfig(t,r,n){return r.children?Vt({routes:r.children,injector:t}):r.loadChildren?void 0!==r._loadedRoutes?Vt({routes:r._loadedRoutes,injector:r._loadedInjector}):function G6(e,t,r,n){const o=t.canLoad;return void 0===o||0===o.length?Vt(!0):Vt(o.map(s=>{const a=cf(s,e);return Yc(function T6(e){return e&&lh(e.canLoad)}(a)?a.canLoad(t,r):Ac(e,()=>a(t,r)))})).pipe(uf(),EA())}(t,r,n).pipe(Vn(o=>o?this.configLoader.loadChildren(t,r).pipe(Ri(i=>{r._loadedRoutes=i.routes,r._loadedInjector=i.injector})):function z6(e){return h_(yA(!1,3))}())):Vt({routes:[],injector:t})}}function sz(e){const t=e.value.routeConfig;return t&&""===t.path}function IA(e){const t=[],r=new Set;for(const n of e){if(!sz(n)){t.push(n);continue}const o=t.find(i=>n.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...n.children),r.add(o)):t.push(n)}for(const n of r){const o=IA(n.children);t.push(new La(n.value,o))}return t.filter(n=>!r.has(n))}function xA(e){const t=e.children.map(r=>xA(r)).flat();return[e,...t]}function a0(e){return Qr(t=>{const r=e(t);return r?br(r).pipe(an(()=>t)):Vt(t)})}let TA=(()=>{var e;class t{buildTitle(n){let o,i=n.root;for(;void 0!==i;)o=this.getResolvedTitleForRoute(i)??o,i=i.children.find(s=>s.outlet===Mn);return o}getResolvedTitleForRoute(n){return n.data[Xp]}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=k({token:e,factory:()=>lt(hz),providedIn:"root"}),t})(),hz=(()=>{var e;class t extends TA{constructor(n){super(),this.title=n}updateTitle(n){const o=this.buildTitle(n);void 0!==o&&this.title.setTitle(o)}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(iM))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const ff=new Pe("",{providedIn:"root",factory:()=>({})}),pf=new Pe("ROUTES");let l0=(()=>{var e;class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=lt(kx)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Vt(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const o=Yc(n.loadComponent()).pipe(an(MA),Ri(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),qp(()=>{this.componentLoaders.delete(n)})),i=new $M(o,()=>new On).pipe(LC());return this.componentLoaders.set(n,i),i}loadChildren(n,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return Vt({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);const s=function mz(e,t,r,n){return Yc(e.loadChildren()).pipe(an(MA),Vn(o=>o instanceof qI||Array.isArray(o)?Vt(o):br(t.compileModuleAsync(o))),an(o=>{n&&n(e);let i,s,a=!1;return Array.isArray(o)?(s=o,!0):(i=o.create(r).injector,s=i.get(pf,[],{optional:!0,self:!0}).flat()),{routes:s.map(t0),injector:i}}))}(o,this.compiler,n,this.onLoadEndListener).pipe(qp(()=>{this.childrenLoaders.delete(o)})),a=new $M(s,()=>new On).pipe(LC());return this.childrenLoaders.set(o,a),a}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function MA(e){return function gz(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let c0=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=k({token:e,factory:()=>lt(_z),providedIn:"root"}),t})(),_z=(()=>{var e;class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,o){return n}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const AA=new Pe(""),kA=new Pe("");function vz(e,t,r){const n=e.get(kA),o=e.get(_i);return e.get(Ze).runOutsideAngular(()=>{if(!o.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,Promise.resolve();let i;const s=new Promise(c=>{i=c}),a=o.startViewTransition(()=>(i(),function yz(e){return new Promise(t=>{SD(t,{injector:e})})}(e))),{onViewTransitionCreated:l}=n;return l&&Ac(e,()=>l({transition:a,from:t,to:r})),s})}let x_=(()=>{var e;class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new On,this.transitionAbortSubject=new On,this.configLoader=lt(l0),this.environmentInjector=lt(gi),this.urlSerializer=lt(Ou),this.rootContexts=lt(Nu),this.location=lt(Gc),this.inputBindingEnabled=null!==lt(w_,{optional:!0}),this.titleStrategy=lt(TA),this.options=lt(ff,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=lt(c0),this.createViewTransition=lt(AA,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Vt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new o6(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new r6(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const o=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:o})}setupNavigations(n,o,i){return this.transitions=new fo({id:0,currentUrlTree:o,currentRawUrl:o,extractedUrl:this.urlHandlingStrategy.extract(o),urlAfterRedirects:this.urlHandlingStrategy.extract(o),rawUrl:o,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:nh,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Na(s=>0!==s.id),an(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Qr(s=>{this.currentTransition=s;let a=!1,l=!1;return Vt(s).pipe(Ri(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Qr(c=>{const f=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!f&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const m="";return this.events.next(new af(c.id,this.urlSerializer.serialize(c.rawUrl),m,0)),c.resolve(null),ko}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Vt(c).pipe(Qr(m=>{const b=this.transitions?.getValue();return this.events.next(new rh(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),b!==this.transitions?.getValue()?ko:Promise.resolve(m)}),function cz(e,t,r,n,o,i){return Vn(s=>function nz(e,t,r,n,o,i,s="emptyOnly"){return new oz(e,t,r,n,o,s,i).recognize()}(e,t,r,n,s.extractedUrl,o,i).pipe(an(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ri(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects};const b=new lA(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(b)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:m,extractedUrl:b,source:Z,restoredState:te,extras:_e}=c,Ie=new rh(m,this.urlSerializer.serialize(b),Z,te);this.events.next(Ie);const Ae=fA(0,this.rootComponentType).snapshot;return this.currentTransition=s={...c,targetSnapshot:Ae,urlAfterRedirects:b,extras:{..._e,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=b,Vt(s)}{const m="";return this.events.next(new af(c.id,this.urlSerializer.serialize(c.extractedUrl),m,1)),c.resolve(null),ko}}),Ri(c=>{const f=new JH(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(f)}),an(c=>(this.currentTransition=s={...c,guards:w6(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},s)),function O6(e,t){return Vn(r=>{const{targetSnapshot:n,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=r;return 0===s.length&&0===i.length?Vt({...r,guardsResult:!0}):function F6(e,t,r,n){return br(e).pipe(Vn(o=>function j6(e,t,r,n,o){const i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return i&&0!==i.length?Vt(i.map(a=>{const l=ih(t)??o,c=cf(a,l);return Yc(function k6(e){return e&&lh(e.canDeactivate)}(c)?c.canDeactivate(e,t,r,n):Ac(l,()=>c(e,t,r,n))).pipe(qc())})).pipe(uf()):Vt(!0)}(o.component,o.route,r,t,n)),qc(o=>!0!==o,!0))}(s,n,o,e).pipe(Vn(a=>a&&function x6(e){return"boolean"==typeof e}(a)?function N6(e,t,r,n){return br(t).pipe(Jd(o=>NC(function $6(e,t){return null!==e&&t&&t(new i6(e)),Vt(!0)}(o.route.parent,n),function L6(e,t){return null!==e&&t&&t(new a6(e)),Vt(!0)}(o.route,n),function V6(e,t,r){const n=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(s=>function E6(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>LM(()=>Vt(s.guards.map(l=>{const c=ih(s.node)??r,f=cf(l,c);return Yc(function A6(e){return e&&lh(e.canActivateChild)}(f)?f.canActivateChild(n,e):Ac(c,()=>f(n,e))).pipe(qc())})).pipe(uf())));return Vt(i).pipe(uf())}(e,o.path,r),function B6(e,t,r){const n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||0===n.length)return Vt(!0);const o=n.map(i=>LM(()=>{const s=ih(t)??r,a=cf(i,s);return Yc(function M6(e){return e&&lh(e.canActivate)}(a)?a.canActivate(t,e):Ac(s,()=>a(t,e))).pipe(qc())}));return Vt(o).pipe(uf())}(e,o.route,r))),qc(o=>!0!==o,!0))}(n,i,e,t):Vt(a)),an(a=>({...r,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),Ri(c=>{if(s.guardsResult=c.guardsResult,Fu(c.guardsResult))throw vA(0,c.guardsResult);const f=new e6(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(f)}),Na(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),a0(c=>{if(c.guards.canActivateChecks.length)return Vt(c).pipe(Ri(f=>{const h=new t6(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}),Qr(f=>{let h=!1;return Vt(f).pipe(function uz(e,t){return Vn(r=>{const{targetSnapshot:n,guards:{canActivateChecks:o}}=r;if(!o.length)return Vt(r);const i=new Set(o.map(l=>l.route)),s=new Set;for(const l of i)if(!s.has(l))for(const c of xA(l))s.add(c);let a=0;return br(s).pipe(Jd(l=>i.has(l)?function dz(e,t,r,n){const o=e.routeConfig,i=e._resolve;return void 0!==o?.title&&!mA(o)&&(i[Xp]=o.title),function fz(e,t,r,n){const o=BC(e);if(0===o.length)return Vt({});const i={};return br(o).pipe(Vn(s=>function pz(e,t,r,n){const o=ih(t)??n,i=cf(e,o);return Yc(i.resolve?i.resolve(t,r):Ac(o,()=>i(t,r)))}(e[s],t,r,n).pipe(qc(),Ri(a=>{i[s]=a}))),$C(1),jM(i),Ru(s=>wA(s)?ko:h_(s)))}(i,e,t,n).pipe(an(s=>(e._resolvedData=s,e.data=YC(e,e.parent,r).resolve,null)))}(l,n,e,t):(l.data=YC(l,l.parent,e).resolve,Vt(void 0))),Ri(()=>a++),$C(1),Vn(l=>a===s.size?Vt(r):ko))})}(this.paramsInheritanceStrategy,this.environmentInjector),Ri({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(f,"",2)}}))}),Ri(f=>{const h=new n6(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}))}),a0(c=>{const f=h=>{const m=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(h.routeConfig).pipe(Ri(b=>{h.component=b}),an(()=>{})));for(const b of h.children)m.push(...f(b));return m};return f_(f(c.targetSnapshot.root)).pipe(m_(),tf(1))}),a0(()=>this.afterPreactivation()),Qr(()=>{const{currentSnapshot:c,targetSnapshot:f}=s,h=this.createViewTransition?.(this.environmentInjector,c.root,f.root);return h?br(h).pipe(an(()=>s)):Vt(s)}),an(c=>{const f=function f6(e,t,r){const n=oh(e,t._root,r?r._root:void 0);return new dA(n,t)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s={...c,targetRouterState:f},this.currentNavigation.targetRouterState=f,s}),Ri(()=>{this.events.next(new zC)}),((e,t,r,n)=>an(o=>(new S6(t,o.targetRouterState,o.currentRouterState,r,n).activate(e),o)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),tf(1),Ri({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new nc(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),GM(this.transitionAbortSubject.pipe(Ri(c=>{throw c}))),qp(()=>{a||l||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Ru(c=>{if(l=!0,bA(c))this.events.next(new sf(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),function m6(e){return bA(e)&&Fu(e.url)}(c)?this.events.next(new WC(c.url)):s.resolve(!1);else{this.events.next(new S_(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(c))}catch(f){s.reject(f)}}return ko}))}))}cancelNavigationTransition(n,o,i){const s=new sf(n.id,this.urlSerializer.serialize(n.extractedUrl),o,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function bz(e){return e!==nh}let RA=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=k({token:e,factory:()=>lt(Sz),providedIn:"root"}),t})();class Cz{shouldDetach(t){return!1}store(t,r){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,r){return t.routeConfig===r.routeConfig}}let Sz=(()=>{var e;class t extends Cz{}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=zr(e)))(o||e)}})(),e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),PA=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=k({token:e,factory:()=>lt(wz),providedIn:"root"}),t})(),wz=(()=>{var e;class t extends PA{constructor(){super(...arguments),this.location=lt(Gc),this.urlSerializer=lt(Ou),this.options=lt(ff,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=lt(c0),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new rf,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=fA(0,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(o=>{"popstate"===o.type&&n(o.url,o.state)})}handleRouterEvent(n,o){if(n instanceof rh)this.stateMemento=this.createStateMemento();else if(n instanceof af)this.rawUrlTree=o.initialUrl;else if(n instanceof lA){if("eager"===this.urlUpdateStrategy&&!o.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl);this.setBrowserUrl(i,o)}}else n instanceof zC?(this.currentUrlTree=o.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o))):n instanceof sf&&(3===n.code||2===n.code)?this.restoreHistory(o):n instanceof S_?this.restoreHistory(o,!0):n instanceof nc&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,o){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||o.extras.replaceUrl){const a={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId)};this.location.replaceState(i,"",a)}else{const s={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,o=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&0===s&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,o){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:o}:{navigationId:n}}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=zr(e)))(o||e)}})(),e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var ch=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(ch||{});function OA(e,t){e.events.pipe(Na(r=>r instanceof nc||r instanceof sf||r instanceof S_||r instanceof af),an(r=>r instanceof nc||r instanceof af?ch.COMPLETE:r instanceof sf&&(0===r.code||1===r.code)?ch.REDIRECTING:ch.FAILED),Na(r=>r!==ch.REDIRECTING),tf(1)).subscribe(()=>{t()})}function Ez(e){throw e}const Dz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Iz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Zo=(()=>{var e;class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=lt(Ax),this.stateManager=lt(PA),this.options=lt(ff,{optional:!0})||{},this.pendingTasks=lt(Og),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=lt(x_),this.urlSerializer=lt(Ou),this.location=lt(Gc),this.urlHandlingStrategy=lt(c0),this._events=new On,this.errorHandler=this.options.errorHandler||Ez,this.navigated=!1,this.routeReuseStrategy=lt(RA),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=lt(pf,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!lt(w_,{optional:!0}),this.eventsSubscription=new at,this.isNgZoneEnabled=lt(Ze)instanceof Ze&&Ze.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(o=>{try{const i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==i&&null!==s)if(this.stateManager.handleRouterEvent(o,s),o instanceof sf&&0!==o.code&&1!==o.code)this.navigated=!0;else if(o instanceof nc)this.navigated=!0;else if(o instanceof WC){const a=this.urlHandlingStrategy.merge(o.url,i.currentRawUrl),l={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||bz(i.source)};this.scheduleNavigation(a,nh,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function Tz(e){return!(e instanceof zC||e instanceof WC)})(o)&&this._events.next(o)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),nh,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,o)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",o)},0)}))}navigateToSyncWithBrowser(n,o,i){const s={replaceUrl:!0},a=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const l=this.parseUrl(n);this.scheduleNavigation(l,o,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(t0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,o={}){const{relativeTo:i,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:c}=o,f=c?this.currentUrlTree.fragment:a;let m,h=null;switch(l){case"merge":h={...this.currentUrlTree.queryParams,...s};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}null!==h&&(h=this.removeEmptyProps(h));try{m=tA(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),m=this.currentUrlTree.root}return nA(m,n,h,f??null)}navigateByUrl(n,o={skipLocationChange:!1}){const i=Fu(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,nh,null,o)}navigate(n,o={skipLocationChange:!1}){return function xz(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new Je(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,o),o)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,o){let i;if(i=!0===o?{...Dz}:!1===o?{...Iz}:o,Fu(n))return WM(this.currentUrlTree,n,i);const s=this.parseUrl(n);return WM(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((o,i)=>{const s=n[i];return null!=s&&(o[i]=s),o},{})}scheduleNavigation(n,o,i,s,a){if(this.disposed)return Promise.resolve(!1);let l,c,f;a?(l=a.resolve,c=a.reject,f=a.promise):f=new Promise((m,b)=>{l=m,c=b});const h=this.pendingTasks.add();return OA(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:l,reject:c,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(m=>Promise.reject(m))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class FA{}let kz=(()=>{var e;class t{preload(n,o){return o().pipe(Ru(()=>Vt(null)))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),Rz=(()=>{var e;class t{constructor(n,o,i,s,a){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Na(n=>n instanceof nc),Jd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,o){const i=[];for(const s of o){s.providers&&!s._injector&&(s._injector=Ib(s.providers,n,`Route: ${s.path}`));const a=s._injector??n,l=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(l,s.children??s._loadedRoutes))}return br(i).pipe(jo())}preloadConfig(n,o){return this.preloadingStrategy.preload(o,()=>{let i;i=o.loadChildren&&void 0===o.canLoad?this.loader.loadChildren(n,o):Vt(null);const s=i.pipe(Vn(a=>null===a?Vt(void 0):(o._loadedRoutes=a.routes,o._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));return o.loadComponent&&!o._loadedComponent?br([s,this.loader.loadComponent(o)]).pipe(jo()):s})}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Zo),ue(kx),ue(gi),ue(FA),ue(l0))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const u0=new Pe("");let NA=(()=>{var e;class t{constructor(n,o,i,s,a={}){this.urlSerializer=n,this.transitions=o,this.viewportScroller=i,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof rh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof nc?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof af&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof cA&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,o){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new cA(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(e=t).\u0275fac=function(n){!function XE(){throw new Error("invalid")}()},e.\u0275prov=k({token:e,factory:e.\u0275fac}),t})();function El(e,t){return{\u0275kind:e,\u0275providers:t}}function $A(){const e=lt(Wr);return t=>{const r=e.get(Pa);if(t!==r.components[0])return;const n=e.get(Zo),o=e.get(BA);1===e.get(d0)&&n.initialNavigation(),e.get(VA,null,Nt.Optional)?.setUpPreloading(),e.get(u0,null,Nt.Optional)?.init(),n.resetRootComponentType(r.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const BA=new Pe("",{factory:()=>new On}),d0=new Pe("",{providedIn:"root",factory:()=>1}),VA=new Pe("");function Nz(e){return El(0,[{provide:VA,useExisting:Rz},{provide:FA,useExisting:e}])}function $z(e){return El(9,[{provide:AA,useValue:vz},{provide:kA,useValue:{skipNextTransition:!!e?.skipInitialTransition,...e}}])}const jA=new Pe("ROUTER_FORROOT_GUARD"),Bz=[Gc,{provide:Ou,useClass:VC},Zo,Nu,{provide:Sl,useFactory:function LA(e){return e.routerState.root},deps:[Zo]},l0,[]];let T_=(()=>{var e;class t{constructor(n){}static forRoot(n,o){return{ngModule:t,providers:[Bz,[],{provide:pf,multi:!0,useValue:n},{provide:jA,useFactory:Uz,deps:[[Zo,new Dm,new Im]]},{provide:ff,useValue:o||{}},o?.useHash?{provide:vl,useClass:bT}:{provide:vl,useClass:yT},{provide:u0,useFactory:()=>{const e=lt(TG),t=lt(Ze),r=lt(ff),n=lt(x_),o=lt(Ou);return r.scrollOffset&&e.setOffset(r.scrollOffset),new NA(o,n,e,t,r)}},o?.preloadingStrategy?Nz(o.preloadingStrategy).\u0275providers:[],o?.initialNavigation?Hz(o):[],o?.bindToComponentInputs?El(8,[_A,{provide:w_,useExisting:_A}]).\u0275providers:[],o?.enableViewTransitions?$z().\u0275providers:[],[{provide:GA,useFactory:$A},{provide:Ub,multi:!0,useExisting:GA}]]}}static forChild(n){return{ngModule:t,providers:[{provide:pf,multi:!0,useValue:n}]}}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(jA,8))},e.\u0275mod=Jr({type:e}),e.\u0275inj=ot({}),t})();function Uz(e){return"guarded"}function Hz(e){return["disabled"===e.initialNavigation?El(3,[{provide:jp,multi:!0,useFactory:()=>{const t=lt(Zo);return()=>{t.setUpLocationChangeListener()}}},{provide:d0,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?El(2,[{provide:d0,useValue:0},{provide:jp,multi:!0,deps:[Wr],useFactory:t=>{const r=t.get(cj,Promise.resolve());return()=>r.then(()=>new Promise(n=>{const o=t.get(Zo),i=t.get(BA);OA(o,()=>{n(!0)}),t.get(x_).afterPreactivation=()=>(n(!0),i.closed?Vt(void 0):i),o.initialNavigation()}))}}]).\u0275providers:[]]}const GA=new Pe("");class Wz{constructor(){this.m=new Map}reset(t){this.m=new Map(Object.entries(t))}get(t,r){const n=this.m.get(t);return void 0!==n?n:r}getBoolean(t,r=!1){const n=this.m.get(t);return void 0===n?r:"string"==typeof n?"true"===n:!!n}getNumber(t,r){const n=parseFloat(this.m.get(t));return isNaN(n)?void 0!==r?r:NaN:n}set(t,r){this.m.set(t,r)}}const Kc=new Wz,zA=e=>ZA(e),ZA=(e=window)=>{if(typeof e>"u")return[];e.Ionic=e.Ionic||{};let t=e.Ionic.platforms;return null==t&&(t=e.Ionic.platforms=Xz(e),t.forEach(r=>e.document.documentElement.classList.add(`plt-${r}`))),t},Xz=e=>{const t=Kc.get("platform");return Object.keys(QA).filter(r=>{const n=t?.[r];return"function"==typeof n?n(e):QA[r](e)})},f0=e=>!!(Lu(e,/iPad/i)||Lu(e,/Macintosh/i)&&M_(e)),qA=e=>Lu(e,/android|sink/i),M_=e=>a5(e,"(any-pointer:coarse)"),YA=e=>KA(e)||XA(e),KA=e=>!!(e.cordova||e.phonegap||e.PhoneGap),XA=e=>{const t=e.Capacitor;return!!t?.isNative},Lu=(e,t)=>t.test(e.navigator.userAgent),a5=(e,t)=>{var r;return null===(r=e.matchMedia)||void 0===r?void 0:r.call(e,t).matches},QA={ipad:f0,iphone:e=>Lu(e,/iPhone/i),ios:e=>Lu(e,/iPhone|iPod/i)||f0(e),android:qA,phablet:e=>{const t=e.innerWidth,r=e.innerHeight,n=Math.min(t,r),o=Math.max(t,r);return n>390&&n<520&&o>620&&o<800},tablet:e=>{const t=e.innerWidth,r=e.innerHeight,n=Math.min(t,r),o=Math.max(t,r);return f0(e)||(e=>qA(e)&&!Lu(e,/mobile/i))(e)||n>460&&n<820&&o>780&&o<1400},cordova:KA,capacitor:XA,electron:e=>Lu(e,/electron/i),pwa:e=>{var t;return!!(null!==(t=e.matchMedia)&&void 0!==t&&t.call(e,"(display-mode: standalone)").matches||e.navigator.standalone)},mobile:M_,mobileweb:e=>M_(e)&&!YA(e),desktop:e=>!M_(e),hybrid:YA};var dh=C(7687),l5=C(276);const c5=["addListener","removeListener"],u5=["addEventListener","removeEventListener"],d5=["on","off"];function A_(e,t,r,n){if(xe(r)&&(n=r,r=void 0),n)return A_(e,t,r).pipe(FC(n));const[o,i]=function h5(e){return xe(e.addEventListener)&&xe(e.removeEventListener)}(e)?u5.map(s=>a=>e[s](t,a,r)):function f5(e){return xe(e.addListener)&&xe(e.removeListener)}(e)?c5.map(JA(e,t)):function p5(e){return xe(e.on)&&xe(e.off)}(e)?d5.map(JA(e,t)):[];if(!o&&os(e))return Vn(s=>A_(s,t,r))(Ue(e));if(!o)throw new TypeError("Invalid event target");return new In(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return o(a),()=>i(a)})}function JA(e,t){return r=>n=>e[r](t,n)}let ek=(()=>{var e;class t{constructor(n,o){this._renderer=n,this._elementRef=o,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,o){this._renderer.setProperty(this._elementRef.nativeElement,n,o)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Yl),v(st))},e.\u0275dir=Pt({type:e}),t})(),$u=(()=>{var e;class t extends ek{}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=zr(e)))(o||e)}})(),e.\u0275dir=Pt({type:e,features:[Dn]}),t})();const qi=new Pe("NgValueAccessor"),_5={provide:qi,useExisting:Un(()=>p0),multi:!0},y5=new Pe("CompositionEventMode");let p0=(()=>{var e;class t extends ek{constructor(n,o,i){super(n,o),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function v5(){const e=jc()?jc().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Yl),v(st),v(y5,8))},e.\u0275dir=Pt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,o){1&n&&Be("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},features:[sr([_5]),Dn]}),t})();function Xc(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function nk(e){return null!=e&&"number"==typeof e.length}const vi=new Pe("NgValidators"),Qc=new Pe("NgAsyncValidators"),b5=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class fh{static min(t){return rk(t)}static max(t){return ok(t)}static required(t){return function ik(e){return Xc(e.value)?{required:!0}:null}(t)}static requiredTrue(t){return function sk(e){return!0===e.value?null:{required:!0}}(t)}static email(t){return function ak(e){return Xc(e.value)||b5.test(e.value)?null:{email:!0}}(t)}static minLength(t){return function lk(e){return t=>Xc(t.value)||!nk(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static maxLength(t){return ck(t)}static pattern(t){return function uk(e){if(!e)return k_;let t,r;return"string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),t=new RegExp(r)):(r=e.toString(),t=e),n=>{if(Xc(n.value))return null;const o=n.value;return t.test(o)?null:{pattern:{requiredPattern:r,actualValue:o}}}}(t)}static nullValidator(t){return null}static compose(t){return gk(t)}static composeAsync(t){return _k(t)}}function rk(e){return t=>{if(Xc(t.value)||Xc(e))return null;const r=parseFloat(t.value);return!isNaN(r)&&r<e?{min:{min:e,actual:t.value}}:null}}function ok(e){return t=>{if(Xc(t.value)||Xc(e))return null;const r=parseFloat(t.value);return!isNaN(r)&&r>e?{max:{max:e,actual:t.value}}:null}}function ck(e){return t=>nk(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}function k_(e){return null}function dk(e){return null!=e}function fk(e){return Fp(e)?br(e):e}function pk(e){let t={};return e.forEach(r=>{t=null!=r?{...t,...r}:t}),0===Object.keys(t).length?null:t}function hk(e,t){return t.map(r=>r(e))}function mk(e){return e.map(t=>function C5(e){return!e.validate}(t)?t:r=>t.validate(r))}function gk(e){if(!e)return null;const t=e.filter(dk);return 0==t.length?null:function(r){return pk(hk(r,t))}}function h0(e){return null!=e?gk(mk(e)):null}function _k(e){if(!e)return null;const t=e.filter(dk);return 0==t.length?null:function(r){return function m5(...e){const t=ga(e),{args:r,keys:n}=OM(e),o=new In(i=>{const{length:s}=r;if(!s)return void i.complete();const a=new Array(s);let l=s,c=s;for(let f=0;f<s;f++){let h=!1;Ue(r[f]).subscribe(Ln(i,m=>{h||(h=!0,c--),a[f]=m},()=>l--,void 0,()=>{(!l||!h)&&(c||i.next(n?FM(n,a):a),i.complete())}))}});return t?o.pipe(FC(t)):o}(hk(r,t).map(fk)).pipe(an(pk))}}function m0(e){return null!=e?_k(mk(e)):null}function vk(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function yk(e){return e._rawValidators}function bk(e){return e._rawAsyncValidators}function g0(e){return e?Array.isArray(e)?e:[e]:[]}function R_(e,t){return Array.isArray(e)?e.includes(t):e===t}function Ck(e,t){const r=g0(t);return g0(e).forEach(o=>{R_(r,o)||r.push(o)}),r}function Sk(e,t){return g0(t).filter(r=>!R_(e,r))}class wk{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=h0(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=m0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,r){return!!this.control&&this.control.hasError(t,r)}getError(t,r){return this.control?this.control.getError(t,r):null}}class Yi extends wk{get formDirective(){return null}get path(){return null}}class rc extends wk{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ek{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let oc=(()=>{var e;class t extends Ek{constructor(n){super(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(v(rc,2))},e.\u0275dir=Pt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,o){2&n&&ia("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Dn]}),t})(),ic=(()=>{var e;class t extends Ek{constructor(n){super(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Yi,10))},e.\u0275dir=Pt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,o){2&n&&ia("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Dn]}),t})();const ph="VALID",O_="INVALID",mf="PENDING",hh="DISABLED";function y0(e){return(F_(e)?e.validators:e)||null}function b0(e,t){return(F_(t)?t.asyncValidators:e)||null}function F_(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class Tk{constructor(t,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===ph}get invalid(){return this.status===O_}get pending(){return this.status==mf}get disabled(){return this.status===hh}get enabled(){return this.status!==hh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Ck(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Ck(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Sk(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Sk(t,this._rawAsyncValidators))}hasValidator(t){return R_(this._rawValidators,t)}hasAsyncValidator(t){return R_(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=mf,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const r=this._parentMarkedDirty(t.onlySelf);this.status=hh,this.errors=null,this._forEachChild(n=>{n.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:r}),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){const r=this._parentMarkedDirty(t.onlySelf);this.status=ph,this._forEachChild(n=>{n.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:r}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ph||this.status===mf)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?hh:ph}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=mf,this._hasOwnPendingAsyncValidator=!0;const r=fk(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,r={}){this.errors=t,this._updateControlsErrors(!1!==r.emitEvent)}get(t){let r=t;return null==r||(Array.isArray(r)||(r=r.split(".")),0===r.length)?null:r.reduce((n,o)=>n&&n._find(o),this)}getError(t,r){const n=r?this.get(r):this;return n&&n.errors?n.errors[t]:null}hasError(t,r){return!!this.getError(t,r)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new tn,this.statusChanges=new tn}_calculateStatus(){return this._allControlsDisabled()?hh:this.errors?O_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mf)?mf:this._anyControlsHaveStatus(O_)?O_:ph}_anyControlsHaveStatus(t){return this._anyControls(r=>r.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){F_(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function D5(e){return Array.isArray(e)?h0(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function I5(e){return Array.isArray(e)?m0(e):e||null}(this._rawAsyncValidators)}}class Jc extends Tk{constructor(t,r,n){super(y0(r),b0(n,r)),this.controls=t,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,r){return this.controls[t]?this.controls[t]:(this.controls[t]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(t,r,n={}){this.registerControl(t,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(t,r,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],r&&this.registerControl(t,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,r={}){(function xk(e,t,r){e._forEachChild((n,o)=>{if(void 0===r[o])throw new Je(1002,"")})})(this,0,t),Object.keys(t).forEach(n=>{(function Ik(e,t,r){const n=e.controls;if(!(t?Object.keys(n):n).length)throw new Je(1e3,"");if(!n[r])throw new Je(1001,"")})(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(t,r={}){null!=t&&(Object.keys(t).forEach(n=>{const o=this.controls[n];o&&o.patchValue(t[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(t={},r={}){this._forEachChild((n,o)=>{n.reset(t?t[o]:null,{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(t,r,n)=>(t[n]=r.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(r,n)=>!!n._syncPendingControls()||r);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(r=>{const n=this.controls[r];n&&t(n,r)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[r,n]of Object.entries(this.controls))if(this.contains(r)&&t(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(r,n,o)=>((n.enabled||this.disabled)&&(r[o]=n.value),r))}_reduceChildren(t,r){let n=t;return this._forEachChild((o,i)=>{n=r(n,o,i)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const N_=Jc,Bu=new Pe("CallSetDisabledState",{providedIn:"root",factory:()=>mh}),mh="always";function gh(e,t,r=mh){C0(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===r)&&t.valueAccessor.setDisabledState?.(e.disabled),function M5(e,t){t.valueAccessor.registerOnChange(r=>{e._pendingValue=r,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Mk(e,t)})}(e,t),function k5(e,t){const r=(n,o)=>{t.valueAccessor.writeValue(n),o&&t.viewToModelUpdate(n)};e.registerOnChange(r),t._registerOnDestroy(()=>{e._unregisterOnChange(r)})}(e,t),function A5(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Mk(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function T5(e,t){if(t.valueAccessor.setDisabledState){const r=n=>{t.valueAccessor.setDisabledState(n)};e.registerOnDisabledChange(r),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(r)})}}(e,t)}function $_(e,t,r=!0){const n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),V_(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function B_(e,t){e.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(t)})}function C0(e,t){const r=yk(e);null!==t.validator?e.setValidators(vk(r,t.validator)):"function"==typeof r&&e.setValidators([r]);const n=bk(e);null!==t.asyncValidator?e.setAsyncValidators(vk(n,t.asyncValidator)):"function"==typeof n&&e.setAsyncValidators([n]);const o=()=>e.updateValueAndValidity();B_(t._rawValidators,o),B_(t._rawAsyncValidators,o)}function V_(e,t){let r=!1;if(null!==e){if(null!==t.validator){const o=yk(e);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==t.validator);i.length!==o.length&&(r=!0,e.setValidators(i))}}if(null!==t.asyncValidator){const o=bk(e);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==t.asyncValidator);i.length!==o.length&&(r=!0,e.setAsyncValidators(i))}}}const n=()=>{};return B_(t._rawValidators,n),B_(t._rawAsyncValidators,n),r}function Mk(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Rk(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}function Pk(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const bs=class extends Tk{constructor(t=null,r,n){super(y0(r),b0(n,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),F_(r)&&(r.nonNullable||r.initialValueIsDefault)&&(this.defaultValue=Pk(t)?t.value:t)}setValue(t,r={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==r.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==r.emitViewToModelChange)),this.updateValueAndValidity(r)}patchValue(t,r={}){this.setValue(t,r)}reset(t=this.defaultValue,r={}){this._applyFormState(t),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Rk(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Rk(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Pk(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},$o=bs;let sc=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=Pt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),Bk=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Jr({type:e}),e.\u0275inj=ot({}),t})();const I0=new Pe("NgModelWithFormControlWarning"),z5={provide:Yi,useExisting:Un(()=>$a)};let $a=(()=>{var e;class t extends Yi{constructor(n,o,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new tn,this._setValidators(n),this._setAsyncValidators(o)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(V_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const o=this.form.get(n.path);return gh(o,n,this.callSetDisabledState),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),o}getControl(n){return this.form.get(n.path)}removeControl(n){$_(n.control||null,n,!1),function F5(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,o){this.form.get(n.path).setValue(o)}onSubmit(n){return this.submitted=!0,function kk(e,t){e._syncPendingControls(),t.forEach(r=>{const n=r.control;"submit"===n.updateOn&&n._pendingChange&&(r.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const o=n.control,i=this.form.get(n.path);o!==i&&($_(o||null,n),(e=>e instanceof bs)(i)&&(gh(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const o=this.form.get(n.path);(function Ak(e,t){C0(e,t)})(o,n),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const o=this.form.get(n.path);o&&function R5(e,t){return V_(e,t)}(o,n)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){C0(this.form,this),this._oldForm&&V_(this._oldForm,this)}_checkFormPresent(){}}return(e=t).\u0275fac=function(n){return new(n||e)(v(vi,10),v(Qc,10),v(Bu,8))},e.\u0275dir=Pt({type:e,selectors:[["","formGroup",""]],hostBindings:function(n,o){1&n&&Be("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[sr([z5]),Dn,tr]}),t})();const q5={provide:rc,useExisting:Un(()=>Dl)};let Dl=(()=>{var e;class t extends rc{set isDisabled(n){}constructor(n,o,i,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new tn,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(o),this._setAsyncValidators(i),this.valueAccessor=function E0(e,t){if(!t)return null;let r,n,o;return Array.isArray(t),t.forEach(i=>{i.constructor===p0?r=i:function O5(e){return Object.getPrototypeOf(e.constructor)===$u}(i)?n=i:o=i}),o||n||r||null}(0,s)}ngOnChanges(n){this._added||this._setUpControl(),function w0(e,t){if(!e.hasOwnProperty("model"))return!1;const r=e.model;return!!r.isFirstChange()||!Object.is(t,r.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function L_(e,t){return[...t.path,e]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(e=t)._ngModelWarningSentOnce=!1,e.\u0275fac=function(n){return new(n||e)(v(Yi,13),v(vi,10),v(Qc,10),v(qi,10),v(I0,8))},e.\u0275dir=Pt({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[sr([q5]),Dn,tr]}),t})();function Zk(e){return"number"==typeof e?e:parseFloat(e)}let Vu=(()=>{var e;class t{constructor(){this._validator=k_}ngOnChanges(n){if(this.inputName in n){const o=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(o),this._validator=this._enabled?this.createValidator(o):k_,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=Pt({type:e,features:[tr]}),t})();const t8={provide:vi,useExisting:Un(()=>k0),multi:!0};let k0=(()=>{var e;class t extends Vu{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=n=>Zk(n),this.createValidator=n=>ok(n)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=zr(e)))(o||e)}})(),e.\u0275dir=Pt({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(n,o){2&n&&Vs("max",o._enabled?o.max:null)},inputs:{max:"max"},features:[sr([t8]),Dn]}),t})();const n8={provide:vi,useExisting:Un(()=>R0),multi:!0};let R0=(()=>{var e;class t extends Vu{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>Zk(n),this.createValidator=n=>rk(n)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=zr(e)))(o||e)}})(),e.\u0275dir=Pt({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(n,o){2&n&&Vs("min",o._enabled?o.min:null)},inputs:{min:"min"},features:[sr([n8]),Dn]}),t})();const a8={provide:vi,useExisting:Un(()=>O0),multi:!0};let O0=(()=>{var e;class t extends Vu{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=n=>function Wk(e){return"number"==typeof e?e:parseInt(e,10)}(n),this.createValidator=n=>ck(n)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=zr(e)))(o||e)}})(),e.\u0275dir=Pt({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(n,o){2&n&&Vs("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},features:[sr([a8]),Dn]}),t})(),Qk=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Jr({type:e}),e.\u0275inj=ot({imports:[Bk]}),t})(),ju=(()=>{var e;class t{static withConfig(n){return{ngModule:t,providers:[{provide:Bu,useValue:n.callSetDisabledState??mh}]}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Jr({type:e}),e.\u0275inj=ot({imports:[Qk]}),t})(),j_=(()=>{var e;class t{static withConfig(n){return{ngModule:t,providers:[{provide:I0,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Bu,useValue:n.callSetDisabledState??mh}]}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Jr({type:e}),e.\u0275inj=ot({imports:[Qk]}),t})();const u8=["tabsInner"];let d8=(()=>{class e{constructor(r,n){this.doc=r,this.backButton=new On,this.keyboardDidShow=new On,this.keyboardDidHide=new On,this.pause=new On,this.resume=new On,this.resize=new On,n.run(()=>{let o;this.win=r.defaultView,this.backButton.subscribeWithPriority=function(i,s){return this.subscribe(a=>a.register(i,l=>n.run(()=>s(l))))},gf(this.pause,r,"pause",n),gf(this.resume,r,"resume",n),gf(this.backButton,r,"ionBackButton",n),gf(this.resize,this.win,"resize",n),gf(this.keyboardDidShow,this.win,"ionKeyboardDidShow",n),gf(this.keyboardDidHide,this.win,"ionKeyboardDidHide",n),this._readyPromise=new Promise(i=>{o=i}),this.win?.cordova?r.addEventListener("deviceready",()=>{o("cordova")},{once:!0}):o("dom")})}is(r){return((e,t)=>("string"==typeof e&&(t=e,e=void 0),zA(e).includes(t)))(this.win,r)}platforms(){return zA(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(r){return f8(this.win.location.href,r)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia?.("(orientation: portrait)").matches}testUserAgent(r){const n=this.win.navigator;return!!(n?.userAgent&&n.userAgent.indexOf(r)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return e.\u0275fac=function(r){return new(r||e)(ue(_i),ue(Ze))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const f8=(e,t)=>{t=t.replace(/[[\]\\]/g,"\\$&");const n=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return n?decodeURIComponent(n[1].replace(/\+/g," ")):null},gf=(e,t,r,n)=>{t&&t.addEventListener(r,o=>{n.run(()=>{const i=o?.detail;e.next(i)})})};let _f=(()=>{class e{constructor(r,n,o,i){this.location=n,this.serializer=o,this.router=i,this.direction=Jk,this.animated=eR,this.guessDirection="forward",this.lastNavId=-1,i&&i.events.subscribe(s=>{if(s instanceof rh){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=a<this.lastNavId?"back":"forward",this.guessAnimation=s.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?s.id:a}}),r.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(r,n={}){return this.setDirection("forward",n.animated,n.animationDirection,n.animation),this.navigate(r,n)}navigateBack(r,n={}){return this.setDirection("back",n.animated,n.animationDirection,n.animation),this.navigate(r,n)}navigateRoot(r,n={}){return this.setDirection("root",n.animated,n.animationDirection,n.animation),this.navigate(r,n)}back(r={animated:!0,animationDirection:"back"}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.location.back()}pop(){var r=this;return(0,j.Z)(function*(){let n=r.topOutlet;for(;n;){if(yield n.pop())return!0;n=n.parentOutlet}return!1})()}setDirection(r,n,o,i){this.direction=r,this.animated=p8(r,n,o),this.animationBuilder=i}setTopOutlet(r){this.topOutlet=r}consumeTransition(){let n,r="root";const o=this.animationBuilder;return"auto"===this.direction?(r=this.guessDirection,n=this.guessAnimation):(n=this.animated,r=this.direction),this.direction=Jk,this.animated=eR,this.animationBuilder=void 0,{direction:r,animation:n,animationBuilder:o}}navigate(r,n){if(Array.isArray(r))return this.router.navigate(r,n);{const o=this.serializer.parse(r.toString());return void 0!==n.queryParams&&(o.queryParams={...n.queryParams}),void 0!==n.fragment&&(o.fragment=n.fragment),this.router.navigateByUrl(o,n)}}}return e.\u0275fac=function(r){return new(r||e)(ue(d8),ue(Gc),ue(Ou),ue(Zo,8))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const p8=(e,t,r)=>{if(!1!==t){if(void 0!==r)return r;if("forward"===e||"back"===e)return e;if("root"===e&&!0===t)return"forward"}},Jk="auto",eR=void 0;let vh=(()=>{class e{get(r,n){const o=F0();return o?o.get(r,n):null}getBoolean(r,n){const o=F0();return!!o&&o.getBoolean(r,n)}getNumber(r,n){const o=F0();return o?o.getNumber(r,n):0}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const tR=new Pe("USERCONFIG"),F0=()=>{if(typeof window<"u"){const e=window.Ionic;if(e?.config)return e.config}return null};class nR{constructor(t={}){this.data=t}get(t){return this.data[t]}}let yh=(()=>{class e{constructor(){this.zone=lt(Ze),this.applicationRef=lt(Pa)}create(r,n,o){return new h8(r,n,this.applicationRef,this.zone,o)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac}),e})();class h8{constructor(t,r,n,o,i){this.environmentInjector=t,this.injector=r,this.applicationRef=n,this.zone=o,this.elementReferenceKey=i,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(t,r,n,o){return this.zone.run(()=>new Promise(i=>{const s={...n};void 0!==this.elementReferenceKey&&(s[this.elementReferenceKey]=t),i(m8(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,t,r,s,o,this.elementReferenceKey))}))}removeViewFromDom(t,r){return this.zone.run(()=>new Promise(n=>{const o=this.elRefMap.get(r);if(o){o.destroy(),this.elRefMap.delete(r);const i=this.elEventsMap.get(r);i&&(i(),this.elEventsMap.delete(r))}n()}))}}const m8=(e,t,r,n,o,i,s,a,l,c,f)=>{const m=function sj(e,t){const r=kn(e),n=t.elementInjector||km();return new vp(r).create(n,t.projectableNodes,t.hostElement,t.environmentInjector)}(a,{environmentInjector:t,elementInjector:Wr.create({providers:_8(l),parent:r})}),b=m.instance,Z=m.location.nativeElement;if(l&&(f&&void 0!==b[f]&&console.error(`[Ionic Error]: ${f} is a reserved property when using ${s.tagName.toLowerCase()}. Rename or remove the "${f}" property from ${a.name}.`),Object.assign(b,l)),c)for(const _e of c)Z.classList.add(_e);const te=rR(e,b,Z);return s.appendChild(Z),n.attachView(m.hostView),o.set(Z,m),i.set(Z,te),Z},g8=[dh.L,dh.a,dh.b,dh.c,dh.d],rR=(e,t,r)=>e.run(()=>{const n=g8.filter(o=>"function"==typeof t[o]).map(o=>{const i=s=>t[o](s.detail);return r.addEventListener(o,i),()=>r.removeEventListener(o,i)});return()=>n.forEach(o=>o())}),oR=new Pe("NavParamsToken"),_8=e=>[{provide:oR,useValue:e},{provide:nR,useFactory:v8,deps:[oR]}],v8=e=>new nR(e),y8=(e,t)=>{const r=e.prototype;t.forEach(n=>{Object.defineProperty(r,n,{get(){return this.el[n]},set(o){this.z.runOutsideAngular(()=>this.el[n]=o)}})})},b8=(e,t)=>{const r=e.prototype;t.forEach(n=>{r[n]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[n].apply(this.el,o))}})};function G_(e){return function(r){const{defineCustomElementFn:n,inputs:o,methods:i}=e;return void 0!==n&&n(),o&&y8(r,o),i&&b8(r,i),r}}const iR=(e,t)=>((e=e.filter(r=>r.stackId!==t.stackId)).push(t),e),L0=(e,t)=>{const r=e.createUrlTree(["."],{relativeTo:t});return e.serializeUrl(r)},sR=(e,t)=>!t||e.stackId!==t.stackId,A8=(e,t)=>{if(!e)return;const r=aR(t);for(let n=0;n<r.length;n++){if(n>=e.length)return r[n];if(r[n]!==e[n])return}},aR=e=>e.split("/").map(t=>t.trim()).filter(t=>""!==t),lR=e=>{e&&(e.ref.destroy(),e.unlistenEvents())};class k8{constructor(t,r,n,o,i,s){this.containerEl=r,this.router=n,this.navCtrl=o,this.zone=i,this.location=s,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==t?aR(t):void 0}createView(t,r){const n=L0(this.router,r),o=t?.location?.nativeElement,i=rR(this.zone,t.instance,o);return{id:this.nextId++,stackId:A8(this.tabsPrefix,n),unlistenEvents:i,element:o,ref:t,url:n}}getExistingView(t){const r=L0(this.router,t),n=this.views.find(o=>o.url===r);return n&&n.ref.changeDetectorRef.reattach(),n}setActive(t){const r=this.navCtrl.consumeTransition();let{direction:n,animation:o,animationBuilder:i}=r;const s=this.activeView,a=sR(t,s);a&&(n="back",o=void 0);const l=this.views.slice();let c;const f=this.router;f.getCurrentNavigation?c=f.getCurrentNavigation():f.navigations?.value&&(c=f.navigations.value),c?.extras?.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const h=this.views.includes(t),m=this.insertView(t,n);h||t.ref.changeDetectorRef.detectChanges();const b=t.animationBuilder;return void 0===i&&"back"===n&&!a&&void 0!==b&&(i=b),s&&(s.animationBuilder=i),this.zone.runOutsideAngular(()=>this.wait(()=>(s&&s.ref.changeDetectorRef.detach(),t.ref.changeDetectorRef.reattach(),this.transition(t,s,o,this.canGoBack(1),!1,i).then(()=>R8(t,m,l,this.location,this.zone)).then(()=>({enteringView:t,direction:n,animation:o,tabSwitch:a})))))}canGoBack(t,r=this.getActiveStackId()){return this.getStack(r).length>t}pop(t,r=this.getActiveStackId()){return this.zone.run(()=>{const n=this.getStack(r);if(n.length<=t)return Promise.resolve(!1);const o=n[n.length-t-1];let i=o.url;const s=o.savedData;if(s){const l=s.get("primary");l?.route?._routerState?.snapshot.url&&(i=l.route._routerState.snapshot.url)}const{animationBuilder:a}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(i,{...o.savedExtras,animation:a}).then(()=>!0)})}startBackTransition(){const t=this.activeView;if(t){const r=this.getStack(t.stackId),n=r[r.length-2],o=n.animationBuilder;return this.wait(()=>this.transition(n,t,"back",this.canGoBack(2),!0,o))}return Promise.resolve()}endBackTransition(t){t?(this.skipTransition=!0,this.pop(1)):this.activeView&&cR(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(t){const r=this.getStack(t);return r.length>0?r[r.length-1]:void 0}getRootUrl(t){const r=this.getStack(t);return r.length>0?r[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(lR),this.activeView=void 0,this.views=[]}getStack(t){return this.views.filter(r=>r.stackId===t)}insertView(t,r){return this.activeView=t,this.views=((e,t,r)=>"root"===r?iR(e,t):"forward"===r?((e,t)=>(e.indexOf(t)>=0?e=e.filter(n=>n.stackId!==t.stackId||n.id<=t.id):e.push(t),e))(e,t):((e,t)=>e.indexOf(t)>=0?e.filter(n=>n.stackId!==t.stackId||n.id<=t.id):iR(e,t))(e,t))(this.views,t,r),this.views.slice()}transition(t,r,n,o,i,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(r===t)return Promise.resolve(!1);const a=t?t.element:void 0,l=r?r.element:void 0,c=this.containerEl;return a&&a!==l&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),a.parentElement!==c&&c.appendChild(a),c.commit)?c.commit(a,l,{duration:void 0===n?0:void 0,direction:n,showGoBack:o,progressAnimation:i,animationBuilder:s}):Promise.resolve(!1)}wait(t){var r=this;return(0,j.Z)(function*(){void 0!==r.runningTask&&(yield r.runningTask,r.runningTask=void 0);const n=r.runningTask=t();return n.finally(()=>r.runningTask=void 0),n})()}}const R8=(e,t,r,n,o)=>"function"==typeof requestAnimationFrame?new Promise(i=>{requestAnimationFrame(()=>{cR(e,t,r,n,o),i()})}):Promise.resolve(),cR=(e,t,r,n,o)=>{o.run(()=>r.filter(i=>!t.includes(i)).forEach(lR)),t.forEach(i=>{const a=n.path().split("?")[0].split("#")[0];if(i!==e&&i.url!==a){const l=i.element;l.setAttribute("aria-hidden","true"),l.classList.add("ion-page-hidden"),i.ref.changeDetectorRef.detach()}})};let uR=(()=>{class e{constructor(r,n,o,i,s,a,l,c){this.parentOutlet=c,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new fo(null),this.activated=null,this._activatedRoute=null,this.name=Mn,this.stackWillChange=new tn,this.stackDidChange=new tn,this.activateEvents=new tn,this.deactivateEvents=new tn,this.parentContexts=lt(Nu),this.location=lt(vs),this.environmentInjector=lt(gi),this.inputBinder=lt(dR,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=lt(vh),this.navCtrl=lt(_f),this.nativeEl=i.nativeElement,this.name=r||Mn,this.tabsPrefix="true"===n?L0(s,l):void 0,this.stackCtrl=new k8(this.tabsPrefix,this.nativeEl,s,this.navCtrl,a,o),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(r){this.nativeEl.animation=r}set animated(r){this.nativeEl.animated=r}set swipeGesture(r){this._swipeGesture=r,this.nativeEl.swipeHandler=r?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:n=>this.stackCtrl.endBackTransition(n)}:void 0}ngOnDestroy(){this.stackCtrl.destroy(),this.inputBinder?.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const r=this.getContext();r?.route&&this.activateWith(r.route,r.injector)}new Promise(r=>(0,l5.c)(this.nativeEl,r)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(r,n){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const n=this.getContext();this.activatedView.savedData=new Map(n.children.contexts);const o=this.activatedView.savedData.get("primary");if(o&&n.route&&(o.route={...n.route}),this.activatedView.savedExtras={},n.route){const i=n.route.snapshot;this.activatedView.savedExtras.queryParams=i.queryParams,this.activatedView.savedExtras.fragment=i.fragment}}const r=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,n){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=r;let o,i=this.stackCtrl.getExistingView(r);if(i){o=this.activated=i.ref;const a=i.savedData;a&&(this.getContext().children.contexts=a),this.updateActivatedRouteProxy(o.instance,r)}else{const a=r._futureSnapshot,l=this.parentContexts.getOrCreateContext(this.name).children,c=new fo(null),f=this.createActivatedRouteProxy(c,r),h=new P8(f,l,this.location.injector);o=this.activated=this.location.createComponent(a.routeConfig.component??a.component,{index:this.location.length,injector:h,environmentInjector:n??this.environmentInjector}),c.next(o.instance),i=this.stackCtrl.createView(this.activated,r),this.proxyMap.set(o.instance,f),this.currentActivatedRoute$.next({component:o.instance,activatedRoute:r})}this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activatedView=i,this.navCtrl.setTopOutlet(this);const s=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:i,tabSwitch:sR(i,s)}),this.stackCtrl.setActive(i).then(a=>{this.activateEvents.emit(o.instance),this.stackDidChange.emit(a)})}canGoBack(r=1,n){return this.stackCtrl.canGoBack(r,n)}pop(r=1,n){return this.stackCtrl.pop(r,n)}getLastUrl(r){const n=this.stackCtrl.getLastUrl(r);return n?n.url:void 0}getLastRouteView(r){return this.stackCtrl.getLastUrl(r)}getRootView(r){return this.stackCtrl.getRootUrl(r)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(r,n){const o=new Sl;return o._futureSnapshot=n._futureSnapshot,o._routerState=n._routerState,o.snapshot=n.snapshot,o.outlet=n.outlet,o.component=n.component,o._paramMap=this.proxyObservable(r,"paramMap"),o._queryParamMap=this.proxyObservable(r,"queryParamMap"),o.url=this.proxyObservable(r,"url"),o.params=this.proxyObservable(r,"params"),o.queryParams=this.proxyObservable(r,"queryParams"),o.fragment=this.proxyObservable(r,"fragment"),o.data=this.proxyObservable(r,"data"),o}proxyObservable(r,n){return r.pipe(Na(o=>!!o),Qr(o=>this.currentActivatedRoute$.pipe(Na(i=>null!==i&&i.component===o),Qr(i=>i&&i.activatedRoute[n]),Qs())))}updateActivatedRouteProxy(r,n){const o=this.proxyMap.get(r);if(!o)throw new Error("Could not find activated route proxy for view");o._futureSnapshot=n._futureSnapshot,o._routerState=n._routerState,o.snapshot=n.snapshot,o.outlet=n.outlet,o.component=n.component,this.currentActivatedRoute$.next({component:r,activatedRoute:n})}}return e.\u0275fac=function(r){return new(r||e)(Mc("name"),Mc("tabs"),v(Gc),v(st),v(Zo),v(Ze),v(Sl),v(e,12))},e.\u0275dir=Pt({type:e,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class P8{constructor(t,r,n){this.route=t,this.childContexts=r,this.parent=n}get(t,r){return t===Sl?this.route:t===Nu?this.childContexts:this.parent.get(t,r)}}const dR=new Pe("");let O8=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:n}=r,o=f_([n.queryParams,n.params,n.data]).pipe(Qr(([i,s,a],l)=>(a={...i,...s,...a},0===l?Vt(a):Promise.resolve(a)))).subscribe(i=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==n||null===n.component)return void this.unsubscribeFromRouteData(r);const s=gT(n.component);if(s)for(const{templateName:a}of s.inputs)r.activatedComponentRef.setInput(a,i[a]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,o)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac}),e})();function N8(e){return e?.componentInputBindingEnabled?new O8:null}const L8=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let $8=(()=>{let e=class{constructor(r,n,o,i,s,a){this.routerOutlet=r,this.navCtrl=n,this.config=o,this.r=i,this.z=s,a.detach(),this.el=this.r.nativeElement}onClick(r){const n=this.defaultHref||this.config.get("backButtonDefaultHref");this.routerOutlet?.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),r.preventDefault()):null!=n&&(this.navCtrl.navigateBack(n,{animation:this.routerAnimation}),r.preventDefault())}};return e.\u0275fac=function(r){return new(r||e)(v(uR,8),v(_f),v(vh),v(st),v(Ze),v(ft))},e.\u0275dir=Pt({type:e,hostBindings:function(r,n){1&r&&Be("click",function(i){return n.onClick(i)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}}),e=oe([G_({inputs:L8})],e),e})();const j8=["animated","animation","root","rootParams","swipeGesture"],G8=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let U8=(()=>{let e=class{constructor(r,n,o,i,s,a){this.z=s,a.detach(),this.el=r.nativeElement,r.nativeElement.delegate=i.create(n,o),((e,t,r)=>{r.forEach(n=>e[n]=A_(t,n))})(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return e.\u0275fac=function(r){return new(r||e)(v(st),v(gi),v(Wr),v(yh),v(Ze),v(ft))},e.\u0275dir=Pt({type:e,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}}),e=oe([G_({inputs:j8,methods:G8})],e),e})(),H8=(()=>{class e{constructor(r){this.navCtrl=r,this.ionTabsWillChange=new tn,this.ionTabsDidChange=new tn,this.tabBarSlot="bottom"}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:r,tabSwitch:n}){const o=r.stackId;n&&void 0!==o&&this.ionTabsWillChange.emit({tab:o})}onStackDidChange({enteringView:r,tabSwitch:n}){const o=r.stackId;n&&void 0!==o&&(this.tabBar&&(this.tabBar.selectedTab=o),this.ionTabsDidChange.emit({tab:o}))}select(r){const n="string"==typeof r,o=n?r:r.detail.tab,i=this.outlet.getActiveStackId()===o,s=`${this.outlet.tabsPrefix}/${o}`;if(n||r.stopPropagation(),i){const a=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(a)?.url===s)return;const c=this.outlet.getRootView(o);return this.navCtrl.navigateRoot(s,{...c&&s===c.url&&c.savedExtras,animated:!0,animationDirection:"back"})}{const a=this.outlet.getLastRouteView(o),l=a?.url||s,c=a?.savedExtras;return this.navCtrl.navigateRoot(l,{...c,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(r=>{const n=r.el.getAttribute("slot");n!==this.tabBarSlot&&(this.tabBarSlot=n,this.relocateTabBar())})}relocateTabBar(){const r=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(r):this.tabsInner.nativeElement.after(r)}}return e.\u0275fac=function(r){return new(r||e)(v(_f))},e.\u0275dir=Pt({type:e,selectors:[["ion-tabs"]],viewQuery:function(r,n){if(1&r&&Bc(u8,7,st),2&r){let o;Gs(o=Us())&&(n.tabsInner=o.first)}},hostBindings:function(r,n){1&r&&Be("ionTabButtonClick",function(i){return n.select(i)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}}),e})();const fR=e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e);let bh=(()=>{class e{constructor(r,n){this.injector=r,this.elementRef=n,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(r){this.elementRef.nativeElement.value=this.lastValue=r,vf(this.elementRef)}handleValueChange(r,n){r===this.elementRef.nativeElement&&(n!==this.lastValue&&(this.lastValue=n,this.onChange(n)),vf(this.elementRef))}_handleBlurEvent(r){r===this.elementRef.nativeElement&&(this.onTouched(),vf(this.elementRef))}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouched=r}setDisabledState(r){this.elementRef.nativeElement.disabled=r}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let r;try{r=this.injector.get(rc)}catch{}if(!r)return;r.statusChanges&&(this.statusChanges=r.statusChanges.subscribe(()=>vf(this.elementRef)));const n=r.control;n&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(i=>{if(typeof n[i]<"u"){const s=n[i].bind(n);n[i]=(...a)=>{s(...a),vf(this.elementRef)}}})}}return e.\u0275fac=function(r){return new(r||e)(v(Wr),v(st))},e.\u0275dir=Pt({type:e,hostBindings:function(r,n){1&r&&Be("ionBlur",function(i){return n._handleBlurEvent(i.target)})}}),e})();const vf=e=>{fR(()=>{const t=e.nativeElement,r=null!=t.value&&t.value.toString().length>0,n=z8(t);$0(t,n);const o=t.closest("ion-item");o&&$0(o,r?[...n,"item-has-value"]:n)})},z8=e=>{const t=e.classList,r=[];for(let n=0;n<t.length;n++){const o=t.item(n);null!==o&&W8(o,"ng-")&&r.push(`ion-${o.substring(3)}`)}return r},$0=(e,t)=>{const r=e.classList;r.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),r.add(...t)},W8=(e,t)=>e.substring(0,t.length)===t;class Z8{shouldDetach(t){return!1}shouldAttach(t){return!1}store(t,r){}retrieve(t){return null}shouldReuseRoute(t,r){if(t.routeConfig!==r.routeConfig)return!1;const n=t.params,o=r.params,i=Object.keys(n),s=Object.keys(o);if(i.length!==s.length)return!1;for(const a of i)if(o[a]!==n[a])return!1;return!0}}class Ch{constructor(t){this.ctrl=t}create(t){return this.ctrl.create(t||{})}dismiss(t,r,n){return this.ctrl.dismiss(t,r,n)}getTop(){return this.ctrl.getTop()}}var B0=C(2723),q8=(C(8044),C(5444),C(5922),C(4923),C(5194)),pR=C(2984),Sh=(C(4656),C(7261)),Y8=(C(6940),C(3426));C(4967);const X8=q8.i,Ct=["*"],J8=["outlet"],e9=[[["","slot","top"]],"*"],t9=["[slot=top]","*"];let yf=(()=>{class e extends bh{constructor(r,n){super(r,n)}writeValue(r){this.elementRef.nativeElement.checked=this.lastValue=r,vf(this.elementRef)}_handleIonChange(r){this.handleValueChange(r,r.checked)}}return e.\u0275fac=function(r){return new(r||e)(v(Wr),v(st))},e.\u0275dir=Pt({type:e,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(r,n){1&r&&Be("ionChange",function(i){return n._handleIonChange(i.target)})},features:[sr([{provide:qi,useExisting:e,multi:!0}]),Dn]}),e})(),wh=(()=>{class e extends bh{constructor(r,n){super(r,n)}_handleChangeEvent(r){this.handleValueChange(r,r.value)}}return e.\u0275fac=function(r){return new(r||e)(v(Wr),v(st))},e.\u0275dir=Pt({type:e,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(r,n){1&r&&Be("ionChange",function(i){return n._handleChangeEvent(i.target)})},features:[sr([{provide:qi,useExisting:e,multi:!0}]),Dn]}),e})(),ac=(()=>{class e extends bh{constructor(r,n){super(r,n)}_handleInputEvent(r){this.handleValueChange(r,r.value)}}return e.\u0275fac=function(r){return new(r||e)(v(Wr),v(st))},e.\u0275dir=Pt({type:e,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"],["ion-range"]],hostBindings:function(r,n){1&r&&Be("ionInput",function(i){return n._handleInputEvent(i.target)})},features:[sr([{provide:qi,useExisting:e,multi:!0}]),Dn]}),e})();const s9=(e,t)=>{const r=e.prototype;t.forEach(n=>{Object.defineProperty(r,n,{get(){return this.el[n]},set(o){this.z.runOutsideAngular(()=>this.el[n]=o)},configurable:!0})})},a9=(e,t)=>{const r=e.prototype;t.forEach(n=>{r[n]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[n].apply(this.el,o))}})},cr=(e,t,r)=>{r.forEach(n=>e[n]=A_(t,n))};function wt(e){return function(r){const{defineCustomElementFn:n,inputs:o,methods:i}=e;return void 0!==n&&n(),o&&s9(r,o),i&&a9(r,i),r}}let hR=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ft),v(st),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-app"]],ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([wt({})],e),e})(),Ki=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,cr(this,this.el,["ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(v(ft),v(st),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([wt({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],e),e})(),Xi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ft),v(st),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([wt({inputs:["collapse"]})],e),e})(),mR=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,cr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(v(ft),v(st),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-checkbox"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([wt({inputs:["alignment","checked","color","disabled","indeterminate","justify","labelPlacement","legacy","mode","name","value"]})],e),e})(),Qi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,cr(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return e.\u0275fac=function(r){return new(r||e)(v(ft),v(st),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([wt({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],e),e})(),Ji=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ft),v(st),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([wt({inputs:["collapse","mode","translucent"]})],e),e})(),qo=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ft),v(st),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([wt({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],e),e})(),lc=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,cr(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return e.\u0275fac=function(r){return new(r||e)(v(ft),v(st),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([wt({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],e),e})(),Io=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ft),v(st),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([wt({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],e),e})(),U_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ft),v(st),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([wt({inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],e),e})(),H_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,cr(this,this.el,["ionSwipe"])}};return e.\u0275fac=function(r){return new(r||e)(v(ft),v(st),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([wt({inputs:["side"]})],e),e})(),z_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,cr(this,this.el,["ionDrag"])}};return e.\u0275fac=function(r){return new(r||e)(v(ft),v(st),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([wt({inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],e),e})(),es=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ft),v(st),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([wt({inputs:["color","mode","position"]})],e),e})(),zs=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ft),v(st),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([wt({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],e),e})(),V0=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,cr(this,this.el,["ionChange","ionInput","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}};return e.\u0275fac=function(r){return new(r||e)(v(ft),v(st),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([wt({inputs:["activeBarStart","color","debounce","disabled","dualKnobs","label","labelPlacement","legacy","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],e),e})(),Eh=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,cr(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(v(ft),v(st),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([wt({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","legacy","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],e),e})(),Dh=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ft),v(st),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([wt({inputs:["disabled","value"]})],e),e})(),Ih=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ft),v(st),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([wt({inputs:["color","duration","name","paused"]})],e),e})(),W_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ft),v(st),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([wt({inputs:["color","mode","selectedTab","translucent"]})],e),e})(),gR=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ft),v(st),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([wt({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],e),e})(),ts=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ft),v(st),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([wt({inputs:["color","size"]})],e),e})(),xh=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,cr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(v(ft),v(st),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-toggle"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([wt({inputs:["alignment","checked","color","disabled","enableOnOffLabels","justify","labelPlacement","legacy","mode","name","value"]})],e),e})(),ns=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ft),v(st),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([wt({inputs:["color","mode"]})],e),e})(),Th=(()=>{class e extends uR{constructor(r,n,o,i,s,a,l,c){super(r,n,o,i,s,a,l,c),this.parentOutlet=c}}return e.\u0275fac=function(r){return new(r||e)(Mc("name"),Mc("tabs"),v(Gc),v(st),v(Zo),v(Ze),v(Sl),v(e,12))},e.\u0275dir=Pt({type:e,selectors:[["ion-router-outlet"]],features:[Dn]}),e})(),_R=(()=>{class e extends H8{}return e.\u0275fac=(()=>{let t;return function(n){return(t||(t=zr(e)))(n||e)}})(),e.\u0275cmp=Ye({type:e,selectors:[["ion-tabs"]],contentQueries:function(r,n,o){if(1&r&&(zd(o,W_,5),zd(o,W_,4)),2&r){let i;Gs(i=Us())&&(n.tabBar=i.first),Gs(i=Us())&&(n.tabBars=i)}},viewQuery:function(r,n){if(1&r&&Bc(J8,5,Th),2&r){let o;Gs(o=Us())&&(n.outlet=o.first)}},features:[Dn],ngContentSelectors:t9,decls:6,vars:0,consts:[[1,"tabs-inner"],["tabsInner",""],["tabs","true",3,"stackWillChange","stackDidChange"],["outlet",""]],template:function(r,n){1&r&&(_t(e9),gt(0),z(1,"div",0,1)(3,"ion-router-outlet",2,3),Be("stackWillChange",function(i){return n.onStackWillChange(i)})("stackDidChange",function(i){return n.onStackDidChange(i)}),B()(),gt(5,1))},dependencies:[Th],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]}),e})(),vR=(()=>{class e extends $8{constructor(r,n,o,i,s,a){super(r,n,o,i,s,a)}}return e.\u0275fac=function(r){return new(r||e)(v(Th,8),v(_f),v(vh),v(st),v(Ze),v(ft))},e.\u0275cmp=Ye({type:e,selectors:[["ion-back-button"]],features:[Dn],ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e})(),j0=(()=>{class e extends U8{constructor(r,n,o,i,s,a){super(r,n,o,i,s,a)}}return e.\u0275fac=function(r){return new(r||e)(v(st),v(gi),v(Wr),v(yh),v(Ze),v(ft))},e.\u0275cmp=Ye({type:e,selectors:[["ion-nav"]],features:[Dn],ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e})();const fW={provide:vi,useExisting:Un(()=>yR),multi:!0};let yR=(()=>{class e extends k0{}return e.\u0275fac=(()=>{let t;return function(n){return(t||(t=zr(e)))(n||e)}})(),e.\u0275dir=Pt({type:e,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,n){2&r&&Vs("max",n._enabled?n.max:null)},features:[sr([fW]),Dn]}),e})();const pW={provide:vi,useExisting:Un(()=>bR),multi:!0};let bR=(()=>{class e extends R0{}return e.\u0275fac=(()=>{let t;return function(n){return(t||(t=zr(e)))(n||e)}})(),e.\u0275dir=Pt({type:e,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,n){2&r&&Vs("min",n._enabled?n.min:null)},features:[sr([pW]),Dn]}),e})(),G0=(()=>{class e extends Ch{constructor(){super(Sh.a)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Mh=(()=>{class e extends Ch{constructor(){super(Sh.b)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ua=(()=>{class e extends Ch{constructor(){super(Sh.l)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Cs=(()=>{class e extends Ch{constructor(){super(Sh.m),this.angularDelegate=lt(yh),this.injector=lt(Wr),this.environmentInjector=lt(gi)}create(r){return super.create({...r,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac}),e})();class cc extends Ch{constructor(){super(Sh.c),this.angularDelegate=lt(yh),this.injector=lt(Wr),this.environmentInjector=lt(gi)}create(t){return super.create({...t,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const hW=(e,t,r)=>()=>{if(t.defaultView&&typeof window<"u"){(0,pR.s)({...e,_zoneGate:i=>r.run(i)});const o="__zone_symbol__addEventListener"in t.body?"__zone_symbol__addEventListener":"addEventListener";return function K8(){var e=[];if(typeof window<"u"){var t=window;(!t.customElements||t.Element&&(!t.Element.prototype.closest||!t.Element.prototype.matches||!t.Element.prototype.remove||!t.Element.prototype.getRootNode))&&e.push(C.e(6748).then(C.t.bind(C,4061,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||t.NodeList&&!t.NodeList.prototype.forEach||!t.fetch||!function(){try{var n=new URL("b","http://a");return n.pathname="c%20d","http://a/c%20d"===n.href&&n.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&e.push(C.e(2214).then(C.t.bind(C,7386,23)))}return Promise.all(e)}().then(()=>((e,t)=>{if(!(typeof window>"u"))return X8(),(0,Y8.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"placeholder":["placeholderChanged"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"counterFormatter":["counterFormatterChanged"]}],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"],"checked":["styleChanged"],"color":["styleChanged"],"disabled":["styleChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"disabled":[4],"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]},null,{"value":["valueChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]},null,{"checked":["styleChanged"],"disabled":["styleChanged"]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),t)})(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:fR,jmp:i=>r.runOutsideAngular(i),ael(i,s,a,l){i[o](s,a,l)},rel(i,s,a,l){i.removeEventListener(s,a,l)}}))}};let eu=(()=>{class e{static forRoot(r){return{ngModule:e,providers:[{provide:tR,useValue:r},{provide:jp,useFactory:hW,multi:!0,deps:[tR,_i,Ze]},{provide:dR,useFactory:N8,deps:[Zo]}]}}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Jr({type:e}),e.\u0275inj=ot({providers:[yh,Cs,cc],imports:[yl]}),e})();function CR(e,t){(function mW(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function U0(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function Ah(e){return(Ah="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ao(e,t,r){return(t=function _W(e){var t=function gW(e,t){if("object"!==Ah(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Ah(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ah(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let Gu={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function SR(e){Gu=e}const wR=/[&<>"']/,vW=new RegExp(wR.source,"g"),ER=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,yW=new RegExp(ER.source,"g"),bW={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},DR=e=>bW[e];function Ws(e,t){if(t){if(wR.test(e))return e.replace(vW,DR)}else if(ER.test(e))return e.replace(yW,DR);return e}const CW=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,wW=/(^|[^\[])\^/g;function hr(e,t){e="string"==typeof e?e:e.source,t=t||"";const r={replace:(n,o)=>(o=(o="object"==typeof o&&"source"in o?o.source:o).replace(wW,"$1"),e=e.replace(n,o),r),getRegex:()=>new RegExp(e,t)};return r}function IR(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}const Z_={exec:()=>null};function xR(e,t){const n=e.replace(/\|/g,(i,s,a)=>{let l=!1,c=s;for(;--c>=0&&"\\"===a[c];)l=!l;return l?"|":" |"}).split(/ \|/);let o=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;o<n.length;o++)n[o]=n[o].trim().replace(/\\\|/g,"|");return n}function q_(e,t,r){const n=e.length;if(0===n)return"";let o=0;for(;o<n;){const i=e.charAt(n-o-1);if(i!==t||r){if(i===t||!r)break;o++}else o++}return e.slice(0,n-o)}function TR(e,t,r,n){const o=t.href,i=t.title?Ws(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){n.state.inLink=!0;const a={type:"link",raw:r,href:o,title:i,text:s,tokens:n.inlineTokens(s)};return n.state.inLink=!1,a}return{type:"image",raw:r,href:o,title:i,text:Ws(s)}}class Y_{constructor(t){ao(this,"options",void 0),ao(this,"rules",void 0),ao(this,"lexer",void 0),this.options=t||Gu}space(t){const r=this.rules.block.newline.exec(t);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(t){const r=this.rules.block.code.exec(t);if(r){const n=r[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:q_(n,"\n")}}}fences(t){const r=this.rules.block.fences.exec(t);if(r){const n=r[0],o=function DW(e,t){const r=e.match(/^(\s+)(?:```)/);if(null===r)return t;const n=r[1];return t.split("\n").map(o=>{const i=o.match(/^\s+/);if(null===i)return o;const[s]=i;return s.length>=n.length?o.slice(n.length):o}).join("\n")}(n,r[3]||"");return{type:"code",raw:n,lang:r[2]?r[2].trim().replace(this.rules.inline._escapes,"$1"):r[2],text:o}}}heading(t){const r=this.rules.block.heading.exec(t);if(r){let n=r[2].trim();if(/#$/.test(n)){const o=q_(n,"#");(this.options.pedantic||!o||/ $/.test(o))&&(n=o.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){const r=this.rules.block.hr.exec(t);if(r)return{type:"hr",raw:r[0]}}blockquote(t){const r=this.rules.block.blockquote.exec(t);if(r){const n=q_(r[0].replace(/^ *>[ \t]?/gm,""),"\n"),o=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(n);return this.lexer.state.top=o,{type:"blockquote",raw:r[0],tokens:i,text:n}}}list(t){let r=this.rules.block.list.exec(t);if(r){let n=r[1].trim();const o=n.length>1,i={type:"list",raw:"",ordered:o,start:o?+n.slice(0,-1):"",loose:!1,items:[]};n=o?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=o?n:"[*+-]");const s=new RegExp(`^( {0,3}${n})((?:[\t ][^\\n]*)?(?:\\n|$))`);let a="",l="",c=!1;for(;t;){let f=!1;if(!(r=s.exec(t))||this.rules.block.hr.test(t))break;a=r[0],t=t.substring(a.length);let h=r[2].split("\n",1)[0].replace(/^\t+/,Ie=>" ".repeat(3*Ie.length)),m=t.split("\n",1)[0],b=0;this.options.pedantic?(b=2,l=h.trimStart()):(b=r[2].search(/[^ ]/),b=b>4?1:b,l=h.slice(b),b+=r[1].length);let Z=!1;if(!h&&/^ *$/.test(m)&&(a+=m+"\n",t=t.substring(m.length+1),f=!0),!f){const Ie=new RegExp(`^ {0,${Math.min(3,b-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),Ae=new RegExp(`^ {0,${Math.min(3,b-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),bt=new RegExp(`^ {0,${Math.min(3,b-1)}}(?:\`\`\`|~~~)`),vt=new RegExp(`^ {0,${Math.min(3,b-1)}}#`);for(;t;){const Ht=t.split("\n",1)[0];if(m=Ht,this.options.pedantic&&(m=m.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),bt.test(m)||vt.test(m)||Ie.test(m)||Ae.test(t))break;if(m.search(/[^ ]/)>=b||!m.trim())l+="\n"+m.slice(b);else{if(Z||h.search(/[^ ]/)>=4||bt.test(h)||vt.test(h)||Ae.test(h))break;l+="\n"+m}!Z&&!m.trim()&&(Z=!0),a+=Ht+"\n",t=t.substring(Ht.length+1),h=m.slice(b)}}i.loose||(c?i.loose=!0:/\n *\n *$/.test(a)&&(c=!0));let _e,te=null;this.options.gfm&&(te=/^\[[ xX]\] /.exec(l),te&&(_e="[ ] "!==te[0],l=l.replace(/^\[[ xX]\] +/,""))),i.items.push({type:"list_item",raw:a,task:!!te,checked:_e,loose:!1,text:l,tokens:[]}),i.raw+=a}i.items[i.items.length-1].raw=a.trimEnd(),i.items[i.items.length-1].text=l.trimEnd(),i.raw=i.raw.trimEnd();for(let f=0;f<i.items.length;f++)if(this.lexer.state.top=!1,i.items[f].tokens=this.lexer.blockTokens(i.items[f].text,[]),!i.loose){const h=i.items[f].tokens.filter(b=>"space"===b.type),m=h.length>0&&h.some(b=>/\n.*\n/.test(b.raw));i.loose=m}if(i.loose)for(let f=0;f<i.items.length;f++)i.items[f].loose=!0;return i}}html(t){const r=this.rules.block.html.exec(t);if(r)return{type:"html",block:!0,raw:r[0],pre:"pre"===r[1]||"script"===r[1]||"style"===r[1],text:r[0]}}def(t){const r=this.rules.block.def.exec(t);if(r){const n=r[1].toLowerCase().replace(/\s+/g," "),o=r[2]?r[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline._escapes,"$1"):r[3];return{type:"def",tag:n,raw:r[0],href:o,title:i}}}table(t){const r=this.rules.block.table.exec(t);if(r){if(!/[:|]/.test(r[2]))return;const n={type:"table",raw:r[0],header:xR(r[1]).map(o=>({text:o,tokens:[]})),align:r[2].replace(/^\||\| *$/g,"").split("|"),rows:r[3]&&r[3].trim()?r[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(n.header.length===n.align.length){let i,s,a,l,o=n.align.length;for(i=0;i<o;i++){const c=n.align[i];c&&(n.align[i]=/^ *-+: *$/.test(c)?"right":/^ *:-+: *$/.test(c)?"center":/^ *:-+ *$/.test(c)?"left":null)}for(o=n.rows.length,i=0;i<o;i++)n.rows[i]=xR(n.rows[i],n.header.length).map(c=>({text:c,tokens:[]}));for(o=n.header.length,s=0;s<o;s++)n.header[s].tokens=this.lexer.inline(n.header[s].text);for(o=n.rows.length,s=0;s<o;s++)for(l=n.rows[s],a=0;a<l.length;a++)l[a].tokens=this.lexer.inline(l[a].text);return n}}}lheading(t){const r=this.rules.block.lheading.exec(t);if(r)return{type:"heading",raw:r[0],depth:"="===r[2].charAt(0)?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(t){const r=this.rules.block.paragraph.exec(t);if(r){const n="\n"===r[1].charAt(r[1].length-1)?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(t){const r=this.rules.block.text.exec(t);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(t){const r=this.rules.inline.escape.exec(t);if(r)return{type:"escape",raw:r[0],text:Ws(r[1])}}tag(t){const r=this.rules.inline.tag.exec(t);if(r)return!this.lexer.state.inLink&&/^<a /i.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(t){const r=this.rules.inline.link.exec(t);if(r){const n=r[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const s=q_(n.slice(0,-1),"\\");if((n.length-s.length)%2==0)return}else{const s=function EW(e,t){if(-1===e.indexOf(t[1]))return-1;let r=0;for(let n=0;n<e.length;n++)if("\\"===e[n])n++;else if(e[n]===t[0])r++;else if(e[n]===t[1]&&(r--,r<0))return n;return-1}(r[2],"()");if(s>-1){const l=(0===r[0].indexOf("!")?5:4)+r[1].length+s;r[2]=r[2].substring(0,s),r[0]=r[0].substring(0,l).trim(),r[3]=""}}let o=r[2],i="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);s&&(o=s[1],i=s[3])}else i=r[3]?r[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(n)?o.slice(1):o.slice(1,-1)),TR(r,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},r[0],this.lexer)}}reflink(t,r){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let o=(n[2]||n[1]).replace(/\s+/g," ");if(o=r[o.toLowerCase()],!o){const i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return TR(n,o,n[0],this.lexer)}}emStrong(t,r,n=""){let o=this.rules.inline.emStrong.lDelim.exec(t);if(!(!o||o[3]&&n.match(/[\p{L}\p{N}]/u))&&(!o[1]&&!o[2]||!n||this.rules.inline.punctuation.exec(n))){const s=[...o[0]].length-1;let a,l,c=s,f=0;const h="*"===o[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(h.lastIndex=0,r=r.slice(-1*t.length+s);null!=(o=h.exec(r));){if(a=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!a)continue;if(l=[...a].length,o[3]||o[4]){c+=l;continue}if((o[5]||o[6])&&s%3&&!((s+l)%3)){f+=l;continue}if(c-=l,c>0)continue;l=Math.min(l,l+c+f);const m=[...o[0]][0].length,b=t.slice(0,s+o.index+m+l);if(Math.min(s,l)%2){const te=b.slice(1,-1);return{type:"em",raw:b,text:te,tokens:this.lexer.inlineTokens(te)}}const Z=b.slice(2,-2);return{type:"strong",raw:b,text:Z,tokens:this.lexer.inlineTokens(Z)}}}}codespan(t){const r=this.rules.inline.code.exec(t);if(r){let n=r[2].replace(/\n/g," ");const o=/[^ ]/.test(n),i=/^ /.test(n)&&/ $/.test(n);return o&&i&&(n=n.substring(1,n.length-1)),n=Ws(n,!0),{type:"codespan",raw:r[0],text:n}}}br(t){const r=this.rules.inline.br.exec(t);if(r)return{type:"br",raw:r[0]}}del(t){const r=this.rules.inline.del.exec(t);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(t){const r=this.rules.inline.autolink.exec(t);if(r){let n,o;return"@"===r[2]?(n=Ws(r[1]),o="mailto:"+n):(n=Ws(r[1]),o=n),{type:"link",raw:r[0],text:n,href:o,tokens:[{type:"text",raw:n,text:n}]}}}url(t){let r;if(r=this.rules.inline.url.exec(t)){let n,o;if("@"===r[2])n=Ws(r[0]),o="mailto:"+n;else{let i;do{i=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(i!==r[0]);n=Ws(r[0]),o="www."===r[1]?"http://"+r[0]:r[0]}return{type:"link",raw:r[0],text:n,href:o,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(t){const r=this.rules.inline.text.exec(t);if(r){let n;return n=this.lexer.state.inRawBlock?r[0]:Ws(r[0]),{type:"text",raw:r[0],text:n}}}}const Zt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Z_,lheading:/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Zt.def=hr(Zt.def).replace("label",Zt._label).replace("title",Zt._title).getRegex(),Zt.bullet=/(?:[*+-]|\d{1,9}[.)])/,Zt.listItemStart=hr(/^( *)(bull) */).replace("bull",Zt.bullet).getRegex(),Zt.list=hr(Zt.list).replace(/bull/g,Zt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Zt.def.source+")").getRegex(),Zt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Zt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Zt.html=hr(Zt.html,"i").replace("comment",Zt._comment).replace("tag",Zt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Zt.lheading=hr(Zt.lheading).replace(/bull/g,Zt.bullet).getRegex(),Zt.paragraph=hr(Zt._paragraph).replace("hr",Zt.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Zt._tag).getRegex(),Zt.blockquote=hr(Zt.blockquote).replace("paragraph",Zt.paragraph).getRegex(),Zt.normal={...Zt},Zt.gfm={...Zt.normal,table:"^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},Zt.gfm.table=hr(Zt.gfm.table).replace("hr",Zt.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Zt._tag).getRegex(),Zt.gfm.paragraph=hr(Zt._paragraph).replace("hr",Zt.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Zt.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Zt._tag).getRegex(),Zt.pedantic={...Zt.normal,html:hr("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Zt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Z_,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:hr(Zt.normal._paragraph).replace("hr",Zt.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Zt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const kt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Z_,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Z_,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/,_punctuation:"\\p{P}$+<=>`^|~"};kt.punctuation=hr(kt.punctuation,"u").replace(/punctuation/g,kt._punctuation).getRegex(),kt.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,kt.anyPunctuation=/\\[punct]/g,kt._escapes=/\\([punct])/g,kt._comment=hr(Zt._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),kt.emStrong.lDelim=hr(kt.emStrong.lDelim,"u").replace(/punct/g,kt._punctuation).getRegex(),kt.emStrong.rDelimAst=hr(kt.emStrong.rDelimAst,"gu").replace(/punct/g,kt._punctuation).getRegex(),kt.emStrong.rDelimUnd=hr(kt.emStrong.rDelimUnd,"gu").replace(/punct/g,kt._punctuation).getRegex(),kt.anyPunctuation=hr(kt.anyPunctuation,"gu").replace(/punct/g,kt._punctuation).getRegex(),kt._escapes=hr(kt._escapes,"gu").replace(/punct/g,kt._punctuation).getRegex(),kt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,kt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,kt.autolink=hr(kt.autolink).replace("scheme",kt._scheme).replace("email",kt._email).getRegex(),kt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,kt.tag=hr(kt.tag).replace("comment",kt._comment).replace("attribute",kt._attribute).getRegex(),kt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,kt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,kt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,kt.link=hr(kt.link).replace("label",kt._label).replace("href",kt._href).replace("title",kt._title).getRegex(),kt.reflink=hr(kt.reflink).replace("label",kt._label).replace("ref",Zt._label).getRegex(),kt.nolink=hr(kt.nolink).replace("ref",Zt._label).getRegex(),kt.reflinkSearch=hr(kt.reflinkSearch,"g").replace("reflink",kt.reflink).replace("nolink",kt.nolink).getRegex(),kt.normal={...kt},kt.pedantic={...kt.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:hr(/^!?\[(label)\]\((.*?)\)/).replace("label",kt._label).getRegex(),reflink:hr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",kt._label).getRegex()},kt.gfm={...kt.normal,escape:hr(kt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},kt.gfm.url=hr(kt.gfm.url,"i").replace("email",kt.gfm._extended_email).getRegex(),kt.breaks={...kt.gfm,br:hr(kt.br).replace("{2,}","*").getRegex(),text:hr(kt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class Il{constructor(t){ao(this,"tokens",void 0),ao(this,"options",void 0),ao(this,"state",void 0),ao(this,"tokenizer",void 0),ao(this,"inlineQueue",void 0),this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Gu,this.options.tokenizer=this.options.tokenizer||new Y_,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const r={block:Zt.normal,inline:kt.normal};this.options.pedantic?(r.block=Zt.pedantic,r.inline=kt.pedantic):this.options.gfm&&(r.block=Zt.gfm,r.inline=this.options.breaks?kt.breaks:kt.gfm),this.tokenizer.rules=r}static get rules(){return{block:Zt,inline:kt}}static lex(t,r){return new Il(r).lex(t)}static lexInline(t,r){return new Il(r).inlineTokens(t)}lex(t){let r;for(t=t.replace(/\r\n|\r/g,"\n"),this.blockTokens(t,this.tokens);r=this.inlineQueue.shift();)this.inlineTokens(r.src,r.tokens);return this.tokens}blockTokens(t,r=[]){let n,o,i,s;for(t=this.options.pedantic?t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t.replace(/^( *)(\t+)/gm,(a,l,c)=>l+"    ".repeat(c.length));t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(n=a.call({lexer:this},t,r))&&(t=t.substring(n.raw.length),r.push(n),!0)))){if(n=this.tokenizer.space(t)){t=t.substring(n.raw.length),1===n.raw.length&&r.length>0?r[r.length-1].raw+="\n":r.push(n);continue}if(n=this.tokenizer.code(t)){t=t.substring(n.raw.length),o=r[r.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?r.push(n):(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(n=this.tokenizer.fences(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.heading(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.hr(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.blockquote(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.list(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.html(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.def(t)){t=t.substring(n.raw.length),o=r[r.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(o.raw+="\n"+n.raw,o.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(n=this.tokenizer.table(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.lheading(t)){t=t.substring(n.raw.length),r.push(n);continue}if(i=t,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const l=t.slice(1);let c;this.options.extensions.startBlock.forEach(f=>{c=f.call({lexer:this},l),"number"==typeof c&&c>=0&&(a=Math.min(a,c))}),a<1/0&&a>=0&&(i=t.substring(0,a+1))}if(this.state.top&&(n=this.tokenizer.paragraph(i))){o=r[r.length-1],s&&"paragraph"===o.type?(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):r.push(n),s=i.length!==t.length,t=t.substring(n.raw.length);continue}if(n=this.tokenizer.text(t)){t=t.substring(n.raw.length),o=r[r.length-1],o&&"text"===o.type?(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):r.push(n);continue}if(t){const a="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){let n,o,i,a,l,c,s=t;if(this.tokens.links){const f=Object.keys(this.tokens.links);if(f.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(s));)f.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.anyPunctuation.exec(s));)s=s.slice(0,a.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;t;)if(l||(c=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(f=>!!(n=f.call({lexer:this},t,r))&&(t=t.substring(n.raw.length),r.push(n),!0)))){if(n=this.tokenizer.escape(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.tag(t)){t=t.substring(n.raw.length),o=r[r.length-1],o&&"text"===n.type&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):r.push(n);continue}if(n=this.tokenizer.link(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(n.raw.length),o=r[r.length-1],o&&"text"===n.type&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):r.push(n);continue}if(n=this.tokenizer.emStrong(t,s,c)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.codespan(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.br(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.del(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.autolink(t)){t=t.substring(n.raw.length),r.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(t))){t=t.substring(n.raw.length),r.push(n);continue}if(i=t,this.options.extensions&&this.options.extensions.startInline){let f=1/0;const h=t.slice(1);let m;this.options.extensions.startInline.forEach(b=>{m=b.call({lexer:this},h),"number"==typeof m&&m>=0&&(f=Math.min(f,m))}),f<1/0&&f>=0&&(i=t.substring(0,f+1))}if(n=this.tokenizer.inlineText(i)){t=t.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(c=n.raw.slice(-1)),l=!0,o=r[r.length-1],o&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):r.push(n);continue}if(t){const f="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(f);break}throw new Error(f)}}return r}}class Uu{constructor(t){ao(this,"options",void 0),this.options=t||Gu}code(t,r,n){const o=(r||"").match(/^\S*/)?.[0];return t=t.replace(/\n$/,"")+"\n",o?'<pre><code class="language-'+Ws(o)+'">'+(n?t:Ws(t,!0))+"</code></pre>\n":"<pre><code>"+(n?t:Ws(t,!0))+"</code></pre>\n"}blockquote(t){return`<blockquote>\n${t}</blockquote>\n`}html(t,r){return t}heading(t,r,n){return`<h${r}>${t}</h${r}>\n`}hr(){return"<hr>\n"}list(t,r,n){const o=r?"ol":"ul";return"<"+o+(r&&1!==n?' start="'+n+'"':"")+">\n"+t+"</"+o+">\n"}listitem(t,r,n){return`<li>${t}</li>\n`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(t){return`<p>${t}</p>\n`}table(t,r){return r&&(r=`<tbody>${r}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+r+"</table>\n"}tablerow(t){return`<tr>\n${t}</tr>\n`}tablecell(t,r){const n=r.header?"th":"td";return(r.align?`<${n} align="${r.align}">`:`<${n}>`)+t+`</${n}>\n`}strong(t){return`<strong>${t}</strong>`}em(t){return`<em>${t}</em>`}codespan(t){return`<code>${t}</code>`}br(){return"<br>"}del(t){return`<del>${t}</del>`}link(t,r,n){const o=IR(t);if(null===o)return n;let i='<a href="'+(t=o)+'"';return r&&(i+=' title="'+r+'"'),i+=">"+n+"</a>",i}image(t,r,n){const o=IR(t);if(null===o)return n;let i=`<img src="${t=o}" alt="${n}"`;return r&&(i+=` title="${r}"`),i+=">",i}text(t){return t}}class z0{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,r,n){return""+n}image(t,r,n){return""+n}br(){return""}}class xl{constructor(t){ao(this,"options",void 0),ao(this,"renderer",void 0),ao(this,"textRenderer",void 0),this.options=t||Gu,this.options.renderer=this.options.renderer||new Uu,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new z0}static parse(t,r){return new xl(r).parse(t)}static parseInline(t,r){return new xl(r).parseInline(t)}parse(t,r=!0){let n="";for(let o=0;o<t.length;o++){const i=t[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const s=i,a=this.options.extensions.renderers[s.type].call({parser:this},s);if(!1!==a||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(s.type)){n+=a||"";continue}}switch(i.type){case"space":continue;case"hr":n+=this.renderer.hr();continue;case"heading":{const s=i;n+=this.renderer.heading(this.parseInline(s.tokens),s.depth,this.parseInline(s.tokens,this.textRenderer).replace(CW,(t,r)=>"colon"===(r=r.toLowerCase())?":":"#"===r.charAt(0)?"x"===r.charAt(1)?String.fromCharCode(parseInt(r.substring(2),16)):String.fromCharCode(+r.substring(1)):""));continue}case"code":n+=this.renderer.code(i.text,i.lang,!!i.escaped);continue;case"table":{const s=i;let a="",l="";for(let f=0;f<s.header.length;f++)l+=this.renderer.tablecell(this.parseInline(s.header[f].tokens),{header:!0,align:s.align[f]});a+=this.renderer.tablerow(l);let c="";for(let f=0;f<s.rows.length;f++){const h=s.rows[f];l="";for(let m=0;m<h.length;m++)l+=this.renderer.tablecell(this.parseInline(h[m].tokens),{header:!1,align:s.align[m]});c+=this.renderer.tablerow(l)}n+=this.renderer.table(a,c);continue}case"blockquote":{const a=this.parse(i.tokens);n+=this.renderer.blockquote(a);continue}case"list":{const s=i,a=s.ordered,l=s.start,c=s.loose;let f="";for(let h=0;h<s.items.length;h++){const m=s.items[h],b=m.checked,Z=m.task;let te="";if(m.task){const _e=this.renderer.checkbox(!!b);c?m.tokens.length>0&&"paragraph"===m.tokens[0].type?(m.tokens[0].text=_e+" "+m.tokens[0].text,m.tokens[0].tokens&&m.tokens[0].tokens.length>0&&"text"===m.tokens[0].tokens[0].type&&(m.tokens[0].tokens[0].text=_e+" "+m.tokens[0].tokens[0].text)):m.tokens.unshift({type:"text",text:_e+" "}):te+=_e+" "}te+=this.parse(m.tokens,c),f+=this.renderer.listitem(te,Z,!!b)}n+=this.renderer.list(f,a,l);continue}case"html":n+=this.renderer.html(i.text,i.block);continue;case"paragraph":n+=this.renderer.paragraph(this.parseInline(i.tokens));continue;case"text":{let s=i,a=s.tokens?this.parseInline(s.tokens):s.text;for(;o+1<t.length&&"text"===t[o+1].type;)s=t[++o],a+="\n"+(s.tokens?this.parseInline(s.tokens):s.text);n+=r?this.renderer.paragraph(a):a;continue}default:{const s='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return n}parseInline(t,r){r=r||this.renderer;let n="";for(let o=0;o<t.length;o++){const i=t[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const s=this.options.extensions.renderers[i.type].call({parser:this},i);if(!1!==s||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){n+=s||"";continue}}switch(i.type){case"escape":case"text":n+=r.text(i.text);break;case"html":n+=r.html(i.text);break;case"link":n+=r.link(i.href,i.title,this.parseInline(i.tokens,r));break;case"image":n+=r.image(i.href,i.title,i.text);break;case"strong":n+=r.strong(this.parseInline(i.tokens,r));break;case"em":n+=r.em(this.parseInline(i.tokens,r));break;case"codespan":n+=r.codespan(i.text);break;case"br":n+=r.br();break;case"del":n+=r.del(this.parseInline(i.tokens,r));break;default:{const s='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return n}}class kh{constructor(t){ao(this,"options",void 0),this.options=t||Gu}preprocess(t){return t}postprocess(t){return t}}ao(kh,"passThroughHooks",new Set(["preprocess","postprocess"]));var W0=new WeakSet,MR=new WeakSet;function AR(e,t){return(r,n)=>{const o={...n},i={...this.defaults,...o};!0===this.defaults.async&&!1===o.async&&(i.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),i.async=!0);const s=U0(this,MR,xW).call(this,!!i.silent,!!i.async);if(typeof r>"u"||null===r)return s(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof r)return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(i.hooks&&(i.hooks.options=i),i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(r):r).then(a=>e(a,i)).then(a=>i.walkTokens?Promise.all(this.walkTokens(a,i.walkTokens)).then(()=>a):a).then(a=>t(a,i)).then(a=>i.hooks?i.hooks.postprocess(a):a).catch(s);try{i.hooks&&(r=i.hooks.preprocess(r));const a=e(r,i);i.walkTokens&&this.walkTokens(a,i.walkTokens);let l=t(a,i);return i.hooks&&(l=i.hooks.postprocess(l)),l}catch(a){return s(a)}}}function xW(e,t){return r=>{if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const n="<p>An error occurred:</p><pre>"+Ws(r.message+"",!0)+"</pre>";return t?Promise.resolve(n):n}if(t)return Promise.reject(r);throw r}}const Hu=new class IW{constructor(...t){CR(this,MR),CR(this,W0),ao(this,"defaults",{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}),ao(this,"options",this.setOptions),ao(this,"parse",U0(this,W0,AR).call(this,Il.lex,xl.parse)),ao(this,"parseInline",U0(this,W0,AR).call(this,Il.lexInline,xl.parseInline)),ao(this,"Parser",xl),ao(this,"Renderer",Uu),ao(this,"TextRenderer",z0),ao(this,"Lexer",Il),ao(this,"Tokenizer",Y_),ao(this,"Hooks",kh),this.use(...t)}walkTokens(t,r){let n=[];for(const o of t)switch(n=n.concat(r.call(this,o)),o.type){case"table":{const i=o;for(const s of i.header)n=n.concat(this.walkTokens(s.tokens,r));for(const s of i.rows)for(const a of s)n=n.concat(this.walkTokens(a.tokens,r));break}case"list":n=n.concat(this.walkTokens(o.items,r));break;default:{const i=o;this.defaults.extensions?.childTokens?.[i.type]?this.defaults.extensions.childTokens[i.type].forEach(s=>{n=n.concat(this.walkTokens(i[s],r))}):i.tokens&&(n=n.concat(this.walkTokens(i.tokens,r)))}}return n}use(...t){const r=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{const o={...n};if(o.async=this.defaults.async||o.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){const s=r.renderers[i.name];r.renderers[i.name]=s?function(...a){let l=i.renderer.apply(this,a);return!1===l&&(l=s.apply(this,a)),l}:i.renderer}if("tokenizer"in i){if(!i.level||"block"!==i.level&&"inline"!==i.level)throw new Error("extension level must be 'block' or 'inline'");const s=r[i.level];s?s.unshift(i.tokenizer):r[i.level]=[i.tokenizer],i.start&&("block"===i.level?r.startBlock?r.startBlock.push(i.start):r.startBlock=[i.start]:"inline"===i.level&&(r.startInline?r.startInline.push(i.start):r.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(r.childTokens[i.name]=i.childTokens)}),o.extensions=r),n.renderer){const i=this.defaults.renderer||new Uu(this.defaults);for(const s in n.renderer){const a=n.renderer[s],c=i[s];i[s]=(...f)=>{let h=a.apply(i,f);return!1===h&&(h=c.apply(i,f)),h||""}}o.renderer=i}if(n.tokenizer){const i=this.defaults.tokenizer||new Y_(this.defaults);for(const s in n.tokenizer){const a=n.tokenizer[s],c=i[s];i[s]=(...f)=>{let h=a.apply(i,f);return!1===h&&(h=c.apply(i,f)),h}}o.tokenizer=i}if(n.hooks){const i=this.defaults.hooks||new kh;for(const s in n.hooks){const a=n.hooks[s],c=i[s];i[s]=kh.passThroughHooks.has(s)?f=>{if(this.defaults.async)return Promise.resolve(a.call(i,f)).then(m=>c.call(i,m));const h=a.call(i,f);return c.call(i,h)}:(...f)=>{let h=a.apply(i,f);return!1===h&&(h=c.apply(i,f)),h}}o.hooks=i}if(n.walkTokens){const i=this.defaults.walkTokens,s=n.walkTokens;o.walkTokens=function(a){let l=[];return l.push(s.call(this,a)),i&&(l=l.concat(i.call(this,a))),l}}this.defaults={...this.defaults,...o}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,r){return Il.lex(t,r??this.defaults)}parser(t,r){return xl.parse(t,r??this.defaults)}};function or(e,t){return Hu.parse(e,t)}or.options=or.setOptions=function(e){return Hu.setOptions(e),SR(or.defaults=Hu.defaults),or},or.getDefaults=function H0(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},or.defaults=Gu,or.use=function(...e){return Hu.use(...e),SR(or.defaults=Hu.defaults),or},or.walkTokens=function(e,t){return Hu.walkTokens(e,t)},or.parseInline=Hu.parseInline,or.Parser=xl,or.parser=xl.parse,or.Renderer=Uu,or.TextRenderer=z0,or.Lexer=Il,or.lexer=Il.lex,or.Tokenizer=Y_,or.Hooks=kh,or.parse=or;class TW extends at{constructor(t,r){super()}schedule(t,r=0){return this}}const K_={setInterval(e,t,...r){const{delegate:n}=K_;return n?.setInterval?n.setInterval(e,t,...r):setInterval(e,t,...r)},clearInterval(e){const{delegate:t}=K_;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},Z0={now:()=>(Z0.delegate||Date).now(),delegate:void 0};class Rh{constructor(t,r=Rh.now){this.schedulerActionCtor=t,this.now=r}schedule(t,r=0,n){return new this.schedulerActionCtor(this,t).schedule(n,r)}}Rh.now=Z0.now;const kW=new class AW extends Rh{constructor(t,r=Rh.now){super(t,r),this.actions=[],this._active=!1}flush(t){const{actions:r}=this;if(this._active)return void r.push(t);let n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=r.shift());if(this._active=!1,n){for(;t=r.shift();)t.unsubscribe();throw n}}}(class MW extends TW{constructor(t,r){super(t,r),this.scheduler=t,this.work=r,this.pending=!1}schedule(t,r=0){var n;if(this.closed)return this;this.state=t;const o=this.id,i=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(i,o,r)),this.pending=!0,this.delay=r,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(i,this.id,r),this}requestAsyncId(t,r,n=0){return K_.setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,r,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return r;null!=r&&K_.clearInterval(r)}execute(t,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,r);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,r){let o,n=!1;try{this.work(t)}catch(i){n=!0,o=i||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:t,scheduler:r}=this,{actions:n}=r;this.work=this.state=this.scheduler=null,this.pending=!1,nt(n,this),null!=t&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null,super.unsubscribe()}}});class OW extends On{constructor(t=1/0,r=1/0,n=Z0){super(),this._bufferSize=t,this._windowTime=r,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,r)}next(t){const{isStopped:r,_buffer:n,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;r||(n.push(t),!o&&n.push(i.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const r=this._innerSubscribe(t),{_infiniteTimeWindow:n,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!t.closed;s+=n?1:2)t.next(i[s]);return this._checkFinalizedStatuses(t),r}_trimBuffer(){const{_bufferSize:t,_timestampProvider:r,_buffer:n,_infiniteTimeWindow:o}=this,i=(o?1:2)*t;if(t<1/0&&i<n.length&&n.splice(0,n.length-i),!o){const s=r.now();let a=0;for(let l=1;l<n.length&&n[l]<=s;l+=2)a=l;a&&n.splice(0,a+1)}}}const NW=["*"];let kR=(()=>{var e;class t{constructor(){this._buttonClick$=new On,this.copied$=this._buttonClick$.pipe(Qr(()=>ba(Vt(!0),function PW(e=0,t,r=kW){let n=-1;return null!=t&&(ma(t)?r=t:n=t),new In(o=>{let i=function RW(e){return e instanceof Date&&!isNaN(e)}(e)?+e-r.now():e;i<0&&(i=0);let s=0;return r.schedule(function(){o.closed||(o.next(s++),0<=n?this.schedule(void 0,n):o.complete())},i)})}(3e3).pipe(jM(!1)))),Qs(),function FW(e,t,r){let n,o=!1;return e&&"object"==typeof e?({bufferSize:n=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:r}=e):n=e??1/0,Ca({connector:()=>new OW(n,t,r),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(1)),this.copiedText$=this.copied$.pipe(BM(!1),an(n=>n?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ye({type:e,selectors:[["markdown-clipboard"]],standalone:!0,features:[Mg],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(n,o){1&n&&(z(0,"button",0),Be("click",function(){return o.onCopyToClipboardClick()}),gl(1,"async"),De(2),gl(3,"async"),B()),2&n&&(ia("copied",_l(1,3,o.copied$)),ge(2),Hi(_l(3,5,o.copiedText$)))},dependencies:[$T],encapsulation:2,changeDetection:0}),t})();const BW=new Pe("CLIPBOARD_OPTIONS");var q0=function(e){return e.CommandLine="command-line",e.LineHighlight="line-highlight",e.LineNumbers="line-numbers",e}(q0||{});const RR=new Pe("MARKED_EXTENSIONS"),PR=new Pe("MARKED_OPTIONS"),OR=new Pe("SECURITY_CONTEXT");let Y0=(()=>{var e;class t{get options(){return this._options}set options(n){this._options={...this.DEFAULT_MARKED_OPTIONS,...n}}get renderer(){return this.options.renderer}set renderer(n){this.options.renderer=n}constructor(n,o,i,s,a,l,c){this.clipboardOptions=n,this.extensions=o,this.platform=s,this.securityContext=a,this.http=l,this.sanitizer=c,this.DEFAULT_MARKED_OPTIONS={renderer:new Uu},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new On,this.reload$=this._reload$.asObservable(),this.options=i}parse(n,o=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:i,inline:s,emoji:a,mermaid:l,disableSanitizer:c}=o,f={...this.options,...o.markedOptions},h=f.renderer||this.renderer||new Uu;this.extensions&&(this.renderer=this.extendsRendererForExtensions(h)),l&&(this.renderer=this.extendsRendererForMermaid(h));const m=this.trimIndentation(n),b=i?this.decodeHtml(m):m,Z=a?this.parseEmoji(b):b,te=this.parseMarked(Z,f,s);return(c?te:this.sanitizer.sanitize(this.securityContext,te))||""}render(n,o=this.DEFAULT_RENDER_OPTIONS,i){const{clipboard:s,clipboardOptions:a,katex:l,katexOptions:c,mermaid:f,mermaidOptions:h}=o;s&&this.renderClipboard(n,i,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...a}),l&&this.renderKatex(n,{...this.DEFAULT_KATEX_OPTIONS,...c}),f&&this.renderMermaid(n,{...this.DEFAULT_MERMAID_OPTIONS,...h}),this.highlight(n)}reload(){this._reload$.next()}getSource(n){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(n,{responseType:"text"}).pipe(an(o=>this.handleExtension(n,o)))}highlight(n){if(!Xd(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;n||(n=document);const o=n.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(o,i=>i.classList.add("language-none")),Prism.highlightAllUnder(n)}decodeHtml(n){if(!Xd(this.platform))return n;const o=document.createElement("textarea");return o.innerHTML=n,o.value}extendsRendererForExtensions(n){const o=n;return!0===o.\u0275NgxMarkdownRendererExtendedForExtensions||(this.extensions?.length>0&&or.use(...this.extensions),o.\u0275NgxMarkdownRendererExtendedForExtensions=!0),n}extendsRendererForMermaid(n){const o=n;if(!0===o.\u0275NgxMarkdownRendererExtendedForMermaid)return n;const i=n.code;return n.code=function(s,a,l){return"mermaid"===a?`<div class="mermaid">${s}</div>`:i.call(this,s,a,l)},o.\u0275NgxMarkdownRendererExtendedForMermaid=!0,n}handleExtension(n,o){const i=n.lastIndexOf("://"),s=i>-1?n.substring(i+4):n,a=s.lastIndexOf("/"),l=a>-1?s.substring(a+1).split("?")[0]:"",c=l.lastIndexOf("."),f=c>-1?l.substring(c+1):"";return f&&"md"!==f?"```"+f+"\n"+o+"\n```":o}parseMarked(n,o,i=!1){return o.renderer&&(or.use({renderer:o.renderer}),delete o.renderer),i?or.parseInline(n,o):or.parse(n,o)}parseEmoji(n){if(!Xd(this.platform))return n;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(n)}renderKatex(n,o){if(Xd(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(n,o)}}renderClipboard(n,o,i){if(!Xd(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!o)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:s,buttonTemplate:a}=i,l=n.querySelectorAll("pre");for(let c=0;c<l.length;c++){const f=l.item(c),h=document.createElement("div");h.style.position="relative",f.parentNode.insertBefore(h,f),h.appendChild(f);const m=document.createElement("div");let b,Z;m.style.position="absolute",m.style.top=".5em",m.style.right=".5em",m.style.opacity="0",m.style.transition="opacity 250ms ease-out",h.insertAdjacentElement("beforeend",m),f.onmouseover=()=>m.style.opacity="1",f.onmouseout=()=>m.style.opacity="0",b=s?o.createComponent(s).hostView:a?o.createEmbeddedView(a):o.createComponent(kR).hostView,b.rootNodes.forEach(te=>{te.onmouseover=()=>m.style.opacity="1",m.appendChild(te),Z=new ClipboardJS(te,{text:()=>f.innerText})}),b.onDestroy(()=>Z.destroy())}}renderMermaid(n,o=this.DEFAULT_MERMAID_OPTIONS){if(!Xd(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.initialize>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const i=n.querySelectorAll(".mermaid");0!==i.length&&(mermaid.initialize(o),mermaid.run({nodes:i}))}trimIndentation(n){if(!n)return"";let o;return n.split("\n").map(i=>{let s=o;return i.length>0&&(s=isNaN(s)?i.search(/\S|$/):Math.min(i.search(/\S|$/),s)),isNaN(o)&&(o=s),s?i.substring(s):i}).join("\n")}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(BW,8),ue(RR,8),ue(PR,8),ue(Pc),ue(OR),ue(kC,8),ue(xC))},e.\u0275prov=k({token:e,factory:e.\u0275fac}),t})(),K0=(()=>{var e;class t{get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(n){this._disableSanitizer=this.coerceBooleanProperty(n)}get inline(){return this._inline}set inline(n){this._inline=this.coerceBooleanProperty(n)}get clipboard(){return this._clipboard}set clipboard(n){this._clipboard=this.coerceBooleanProperty(n)}get emoji(){return this._emoji}set emoji(n){this._emoji=this.coerceBooleanProperty(n)}get katex(){return this._katex}set katex(n){this._katex=this.coerceBooleanProperty(n)}get mermaid(){return this._mermaid}set mermaid(n){this._mermaid=this.coerceBooleanProperty(n)}get lineHighlight(){return this._lineHighlight}set lineHighlight(n){this._lineHighlight=this.coerceBooleanProperty(n)}get lineNumbers(){return this._lineNumbers}set lineNumbers(n){this._lineNumbers=this.coerceBooleanProperty(n)}get commandLine(){return this._commandLine}set commandLine(n){this._commandLine=this.coerceBooleanProperty(n)}constructor(n,o,i){this.element=n,this.markdownService=o,this.viewContainerRef=i,this.error=new tn,this.load=new tn,this.ready=new tn,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new On}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(GM(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(n,o=!1){var i=this;return(0,j.Z)(function*(){const s={decodeHtml:o,inline:i.inline,emoji:i.emoji,mermaid:i.mermaid,disableSanitizer:i.disableSanitizer},a={clipboard:i.clipboard,clipboardOptions:{buttonComponent:i.clipboardButtonComponent,buttonTemplate:i.clipboardButtonTemplate},katex:i.katex,katexOptions:i.katexOptions,mermaid:i.mermaid,mermaidOptions:i.mermaidOptions},l=yield i.markdownService.parse(n,s);i.element.nativeElement.innerHTML=l,i.handlePlugins(),i.markdownService.render(i.element.nativeElement,a,i.viewContainerRef),i.ready.emit()})()}coerceBooleanProperty(n){return null!=n&&"false"!=`${String(n)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:n=>{this.render(n).then(()=>{this.load.emit(n)})},error:n=>this.error.emit(n)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,q0.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,q0.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(n,o){const i=n.querySelectorAll("pre");for(let s=0;s<i.length;s++){const a=o instanceof Array?o:[o];i.item(s).classList.add(...a)}}setPluginOptions(n,o){const i=n.querySelectorAll("pre");for(let s=0;s<i.length;s++)Object.keys(o).forEach(a=>{const l=o[a];if(l){const c=this.toLispCase(a);i.item(s).setAttribute(c,l.toString())}})}toLispCase(n){const o=n.match(/([A-Z])/g);if(!o)return n;let i=n.toString();for(let s=0,a=o.length;s<a;s++)i=i.replace(new RegExp(o[s]),"-"+o[s].toLowerCase());return"-"===i.slice(0,1)&&(i=i.slice(1)),i}}return(e=t).\u0275fac=function(n){return new(n||e)(v(st),v(Y0),v(vs))},e.\u0275cmp=Ye({type:e,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},standalone:!0,features:[tr,Mg],ngContentSelectors:NW,decls:1,vars:0,template:function(n,o){1&n&&(_t(),gt(0))},encapsulation:2}),t})();function qW(e){return[Y0,e?.loader??[],e?.clipboardOptions??[],e?.markedOptions??[],{provide:RR,useValue:e?.markedExtensions??[]},{provide:OR,useValue:e?.sanitize??$s.HTML}]}let X0=(()=>{var e;class t{static forRoot(n){return{ngModule:t,providers:[qW(n)]}}static forChild(){return{ngModule:t}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Jr({type:e}),e.\u0275inj=ot({imports:[yl]}),t})();var FR;!function(e){let t;var o;let r,n;(o=t=e.SecurityLevel||(e.SecurityLevel={})).Strict="strict",o.Loose="loose",o.Antiscript="antiscript",o.Sandbox="sandbox",function(o){o.Base="base",o.Forest="forest",o.Dark="dark",o.Default="default",o.Neutral="neutral"}(r=e.Theme||(e.Theme={})),function(o){o[o.Debug=1]="Debug",o[o.Info=2]="Info",o[o.Warn=3]="Warn",o[o.Error=4]="Error",o[o.Fatal=5]="Fatal"}(n=e.LogLevel||(e.LogLevel={}))}(FR||(FR={}));const Ph="safari"in window,xo=!!navigator.platform.match(/iPhone|iPad|iPod/)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,X_=xo&&!navigator.userAgent.match(/(crios)|(fxios)/i),bf=!!navigator.userAgent.match(/ pwashell$/i),Q0=!!navigator.userAgent.match(/android/i),YW=navigator.userAgent.toLowerCase().indexOf("firefox")>=0;var uc=function(e){return e.web="web",e.pwa="pwa",e.twa="twa",e}(uc||{});new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked");const QW=new Error("request for lock canceled");class e7{constructor(t,r=QW){this._value=t,this._cancelError=r,this._weightedQueues=[],this._weightedWaiters=[]}acquire(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise((r,n)=>{this._weightedQueues[t-1]||(this._weightedQueues[t-1]=[]),this._weightedQueues[t-1].push({resolve:r,reject:n}),this._dispatch()})}runExclusive(t,r=1){return function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(f){try{c(n.next(f))}catch(h){s(h)}}function l(f){try{c(n.throw(f))}catch(h){s(h)}}function c(f){f.done?i(f.value):function o(i){return i instanceof r?i:new r(function(s){s(i)})}(f.value).then(a,l)}c((n=n.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){const[n,o]=yield this.acquire(r);try{return yield t(n)}finally{o()}})}waitForUnlock(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise(r=>{this._weightedWaiters[t-1]||(this._weightedWaiters[t-1]=[]),this._weightedWaiters[t-1].push(r),this._dispatch()})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(t){this._value=t,this._dispatch()}release(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);this._value+=t,this._dispatch()}cancel(){this._weightedQueues.forEach(t=>t.forEach(r=>r.reject(this._cancelError))),this._weightedQueues=[]}_dispatch(){var t;for(let r=this._value;r>0;r--){const n=null===(t=this._weightedQueues[r-1])||void 0===t?void 0:t.shift();if(!n)continue;const o=this._value,i=r;this._value-=r,r=this._value+1,n.resolve([o,this._newReleaser(i)])}this._drainUnlockWaiters()}_newReleaser(t){let r=!1;return()=>{r||(r=!0,this.release(t))}}_drainUnlockWaiters(){for(let t=this._value;t>0;t--)this._weightedWaiters[t-1]&&(this._weightedWaiters[t-1].forEach(r=>r()),this._weightedWaiters[t-1]=[])}}class Ba{constructor(t){this._semaphore=new e7(1,t)}acquire(){return e=this,t=void 0,n=function*(){const[,t]=yield this._semaphore.acquire();return t},new((r=void 0)||(r=Promise))(function(i,s){function a(f){try{c(n.next(f))}catch(h){s(h)}}function l(f){try{c(n.throw(f))}catch(h){s(h)}}function c(f){f.done?i(f.value):function o(i){return i instanceof r?i:new r(function(s){s(i)})}(f.value).then(a,l)}c((n=n.apply(e,t||[])).next())});var e,t,r,n}runExclusive(t){return this._semaphore.runExclusive(()=>t())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const da={production:!0,dbName:"cloudpilot-preview",releaseExtra:"preview",localStorageSuffix:"preview",debug:!0};function Q_(e){return e+(da.localStorageSuffix?`-${da.localStorageSuffix}`:"")}function LR(e){return localStorage.getItem(Q_(e))}function $R(e){return localStorage.getItem(Q_(e))??localStorage.getItem(e)}function J0(e,t){localStorage.setItem(Q_(e),t)}const J_="cloudpilot-session";function BR(){!function r7(e){localStorage.removeItem(Q_(e))}(J_)}function Gn(){return(e,t,r)=>{const n=r.value;let o=!1;return r.value=(0,j.Z)(function*(...i){if(!o){o=!0;try{return yield n.apply(this,i)}finally{o=!1}}}),r}}let dc=(()=>{var e;class t{constructor(){}getCurrentSession(){return this.currentSession}setCurrentSession(n){this.currentSession=n}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var Cf;class oo{constructor(t,r){this.alertController=t,this.emulationState=r,this.emergencySaveEvent=new so.j,this.sanitizeDiv=document.createElement("div")}errorMessage(t,r="Close"){var n=this;return(0,j.Z)(function*(){const o=yield n.alertController.create({header:"Error",backdropDismiss:!1,message:n.sanitizeMessage(t),buttons:[{text:r,role:"cancel"}],cssClass:"alert-error"});yield o.present(),yield o.onDidDismiss()})()}message(t,r,n={},o="Close"){var i=this;return(0,j.Z)(function*(){const s=yield i.alertController.create({header:t,message:i.sanitizeMessage(r),backdropDismiss:!1,buttons:[{text:o,role:"cancel"},...Object.keys(n).map(a=>({text:a,handler:()=>{n[a](),s.dismiss()}}))],cssClass:"alert-message"});yield s.present(),yield s.onDidDismiss()})()}messageWithChoice(t,r,n,o,i={},s="Close"){var a=this;return(0,j.Z)(function*(){const l=yield a.alertController.create({header:t,message:a.sanitizeMessage(r),backdropDismiss:!1,buttons:[{text:s,role:"cancel"},...Object.keys(i).map(c=>({text:c,handler:()=>{i[c](),l.dismiss()}}))],inputs:[{type:"checkbox",label:n,checked:!1,handler:c=>o=!0===c.checked,cssClass:"alert-checkbox"}],cssClass:"alert-checkbox-no-border alert-message"});return yield l.present(),yield l.onDidDismiss(),o})()}updateAvailable(t){var r=this;return(0,j.Z)(function*(){const n=yield r.alertController.create({header:"Update available",message:'An update is ready for installation. Select "install" to install it and restart the app now.',backdropDismiss:!1,buttons:[{text:"Install",handler:t},{text:"Close",role:"cancel"}]});yield n.present(),yield n.onDidDismiss()})()}fatalError(t,r=!0){var n=this;return(0,j.Z)(function*(){const o=!!n.emulationState.getCurrentSession(),i=yield n.alertController.create({header:"Error",message:n.sanitizeMessage(`\n                ${t}\n                <br/><br/>\n                Please close or reload this window.\n                ${o&&r?" You may save an image of your current session before reloading.":""}\n            `),backdropDismiss:!1,buttons:[...o&&r?[{text:"Save image",handler:()=>(n.emergencySaveEvent.dispatch(),!1)}]:[],{text:"Reload",handler:()=>window.location.reload()}],cssClass:"alert-error"});yield i.present(),yield i.onDidDismiss()})()}errorInNativeCode(t){var r=this;return(0,j.Z)(function*(){const n=yield r.alertController.create({header:"Error",message:r.sanitizeMessage(`\n                You encountered a bug in CloudpilotEmu:\n                <br/><br/>\n                ${t}.\n                <br/><br/>\n                Please close or reload this window.\n            `),backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()}]});yield n.present(),yield n.onDidDismiss()})()}proxyVersionMismatchError(){return this.errorMessage("\n            Server version does not match CloudpilotEmu. Please make sure that you are using the latest\n            versions of CloudpilotEmu and of the server.\n        ")}cardHasNoValidFileSystem(){return this.message("No filesystem","This card does not contain a valid filesystem.",{},"Continue")}cardHasUncorrectableErrors(){return this.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors.",{},"Continue")}cardIsClean(){return this.message("Card clean","No filesystem errors were found.",{},"Continue")}sanitizeMessage(t){return new pR.I(t.replace(/<br\s*\/?>/g,"<br/>").replace(/\n/gm," ").split("<br/>").map(r=>(this.sanitizeDiv.textContent=r,this.sanitizeDiv.innerHTML)).join("<br/>"))}}(Cf=oo).\u0275fac=function(t){return new(t||Cf)(ue(G0),ue(dc))},Cf.\u0275prov=k({token:Cf,factory:Cf.\u0275fac,providedIn:"root"}),oe([Gn()],oo.prototype,"updateAvailable",null),oe([Gn()],oo.prototype,"fatalError",null),oe([Gn()],oo.prototype,"errorInNativeCode",null);let zu=(()=>{var e;class t{constructor(n,o){this.alertService=n,this.ngZone=o,this.fatalPageLockLost=()=>this.fatalWithMessage("CloudpilotEmu was opened in another tab or window.",!1),this.fatalIDBDead=()=>this.fatalWithMessage("IndexedDB access failed. This is most likely a browser bug.",!1),this.fatalVersionMismatch=()=>this.fatalWithMessage("\n        Database was written by a newer version of CloudpilotEmu. Please wait for a few seconds before reloading\n        while the latest version downloads in the background.\n    ",!1),this.fatalBug=i=>this.fatalWithMessage(`You encountered a bug in CloudpilotEmu:<br/><br/>${i}.`),this.fatalInNativeCode=i=>this.fatalWithMessage(i.message,!0,!1),this.fatalWithMessage=(i,s=!0,a=!0)=>this.ngZone.run(()=>{this.fatalErrorTriggered||(this.fatalErrorTriggered=!0,s&&BR(),this.fatalErrorEvent.dispatch(),this.alertService.fatalError(i,a))}),this.fatalErrorEvent=new so.j,this.fatalErrorTriggered=!1}hasFatalError(){return this.fatalErrorTriggered}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(oo),ue(Ze))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var Er=function(e){return e.cloudpilot="cloudpilot",e.fstools="fstools",e.vfs="vfs",e.none="none",e}(Er||{});let Oh=(()=>{var e;class t{constructor(n){this.errorService=n,this.ownershipMmap=new Map}getOwner(n){return this.ownershipMmap.get(n)??Er.none}claim(n,o){this.assertOwnership(n,Er.none),this.ownershipMmap.set(n,o)}release(n,o){this.assertOwnership(n,o),this.ownershipMmap.delete(n)}assertOwnership(n,o){if(this.getOwner(n)===o)return;const i=o===Er.none?`Card alread claimed for ${this.getOwner(n)}.`:`Expected card ownership to be ${o}, but is ${this.getOwner(n)}.`;throw this.errorService.fatalBug(i),new Error(i)}transferOwnership(n,o,i){this.assertOwnership(n,o),this.ownershipMmap.set(n,i)}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(zu))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const tu="session",Sf="rom",nu="memory",fc="state",ev="kvs",ru="memory-meta",Tl="storage",Zs="storage-card",Fh="lock";class Wu extends Error{constructor(t){super(t)}}function Yn(e){return new Promise((t,r)=>{!function l7(e){return!!e.abort}(e)?e.onsuccess=()=>t(e.result):e.oncomplete=()=>t(void 0),e.onerror=()=>r(new Wu(e.error?.message))})}function jR(e){let t=255&e[0];t|=t<<8,t|=t<<16;for(let r=0;r<256;r++)if(e[r]!==t)return e;return 255&e[0]}function c7(e){const t=e[0];for(let r=1;r<2048;r++)if(e[r]!==t)return e;return t}const tv="session",tS="memory",UR="storage-meta",HR="storage-card";function nS(){return(nS=(0,j.Z)(function*(e,t){function r(i){switch(i){case"PalmIIIc":case"PalmM505":case"PalmM515":return 81920;case"PalmI710":case"PalmM130":return 262144;default:return 0}}if(!t)throw new Error("no version change transaction!");const o=t.objectStore(tv).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const l=a.value,c={...l,totalMemory:1024*l.ram*1024+r(l.device)};a.update(c),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function rS(){return(rS=(0,j.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");const r=t.objectStore("kvs"),n=yield new Promise((o,i)=>{const s=r.get("proxyCredentials");s.onsuccess=()=>o(s.result),s.onerror=()=>i(new Error(s.error?.message))});n&&(r.put(n,"credentials"),r.delete("proxyCredentials"))})).apply(this,arguments)}function oS(){return(oS=(0,j.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");const r=e.createObjectStore("memory-meta",{keyPath:"sessionId"});e.createObjectStore("storage"),e.createObjectStore(UR,{keyPath:"id",autoIncrement:!0});const o=t.objectStore(tv).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const l=a.value;void 0!==l.totalMemory&&(r.put({sessionId:l.id,totalSize:l.totalMemory}),delete l.totalMemory,a.update(l)),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function iS(){return(iS=(0,j.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");t.objectStore(UR).name=HR})).apply(this,arguments)}function sS(){return(sS=(0,j.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");t.objectStore(HR).createIndex("storageId","storageId")})).apply(this,arguments)}function aS(){return(aS=(0,j.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");e.createObjectStore("lock")})).apply(this,arguments)}const w7=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function zR(e){let t=-1;for(let r=0;r<e.length;r++)t=w7[255&(t^e[r])]^t>>>8;return~t}var E7=C(3219),D7=C.n(E7);const WR={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let nv;const I7=new Uint8Array(16);function x7(){if(!nv&&(nv=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!nv))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return nv(I7)}const Ei=[];for(let e=0;e<256;++e)Ei.push((e+256).toString(16).slice(1));const lS=function T7(e,t,r){if(WR.randomUUID&&!t&&!e)return WR.randomUUID();const n=(e=e||{}).random||(e.rng||x7)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return function ZR(e,t=0){return Ei[e[t+0]]+Ei[e[t+1]]+Ei[e[t+2]]+Ei[e[t+3]]+"-"+Ei[e[t+4]]+Ei[e[t+5]]+"-"+Ei[e[t+6]]+Ei[e[t+7]]+"-"+Ei[e[t+8]]+Ei[e[t+9]]+"-"+Ei[e[t+10]]+Ei[e[t+11]]+Ei[e[t+12]]+Ei[e[t+13]]+Ei[e[t+14]]+Ei[e[t+15]]}(n)};var wf;const cS=new Error("page lock lost"),qR=new Error("version mismatch"),YR=lS();function To(){return(e,t,r)=>{const n=r.value;return r.value=(0,j.Z)(function*(...o){const i=this.errorService;try{return yield n.apply(this,o)}catch(s){throw console.error(s),s instanceof Wu?i.fatalIDBDead():s===qR?i.fatalVersionMismatch():s===cS?i.fatalPageLockLost():s instanceof Error?i.fatalBug(s?.message):i.fatalBug("unknown reason"),s}}),r}}class nr{constructor(t,r,n){this.ngZone=t,this.errorService=r,this.storageCardContext=n,this.saveMemory=(o,i,s)=>this.ngZone.runOutsideAngular(()=>{const a=o.objectStore(nu),l=o.objectStore(ru),c=new Uint32Array(256),f=new Uint8Array(c.buffer);a.delete(IDBKeyRange.bound([i,0],[i+1,0],!1,!0)),l.put({sessionId:i,totalSize:s.length});const m=s.length>>>10;for(let b=0;b<m;b++){f.set(s.subarray(1024*b,1024*(b+1)));const Z=jR(c);if("number"==typeof Z)a.put(Z,[i,b]);else{const te=new Uint32Array(256);te.set(Z),a.put(te,[i,b])}}}),this.loadMemory=(o,i,s)=>this.ngZone.runOutsideAngular((0,j.Z)(function*(){const a=o.objectStore(ru),l=yield Yn(a.get(i));if(!l)return;const c=yield new Promise(function(){var f=(0,j.Z)(function*(h,m){const b=o.objectStore(nu),Z=new Uint32Array(l.totalSize>>>2),te=b.openCursor(IDBKeyRange.bound([i,0],[i+1,0],!1,!0));te.onsuccess=()=>{const _e=te.result;if(!_e)return h(new Uint8Array(Z.buffer));const Ie=_e.value,[,Ae]=_e.key;"number"==typeof Ie?Z.subarray(256*Ae,256*(Ae+1)).fill(Ie|Ie<<8|Ie<<16|Ie<<24):Z.subarray(256*Ae,256*(Ae+1)).set(1024===Ie.length?new Uint32Array(Ie.buffer):Ie),_e.continue()},te.onerror=()=>m(new Wu(te.error?.message))});return function(h,m){return f.apply(this,arguments)}}());if(void 0!==l.crc32&&s&&da.debug&&l.crc32!==zR(c))throw new Error("snapshot CRC mismatch");return c})),this.sessionChangeEvent=new so.j,this.storageCardChangeEvent=new so.j,this.sessionUpdateMutex=new Ba,this.db=this.requestPersistentStorage().then(()=>t.runOutsideAngular(()=>this.setupDb()))}getDb(){return this.db}addSession(t,r,n,o){var i=this;return(0,j.Z)(function*(){const s=D7()(r),a=yield i.newTransaction(tu,Sf,fc,nu,ru),l=a.objectStore(tu),c=a.objectStore(Sf);(yield Yn(c.get(s)))||c.put(r,s);const{id:h,...m}=t,b=yield Yn(l.add({...m,rom:s})),Z=yield Yn(l.get(b));return n&&i.saveMemory(a,Z.id,n),o&&i.saveState(a,Z.id,o),yield Yn(a),Z})()}getAllSessions(){var t=this;return(0,j.Z)(function*(){const[r]=yield t.prepareObjectStore(tu);return yield Yn(r.getAll())})()}getSession(t){var r=this;return(0,j.Z)(function*(){const[n]=yield r.prepareObjectStore(tu);return yield Yn(n.get(t))})()}deleteSession(t){var r=this;return(0,j.Z)(function*(){const n=yield r.newTransaction(tu,Sf,fc,nu,ru),o=n.objectStore(tu),i=n.objectStore(Sf);(t=yield Yn(o.get(t.id)))&&(o.delete(t.id),0===(yield Yn(o.index("rom").getAll(t.rom))).length&&i.delete(t.rom),r.deleteMemory(n,t.id),r.deleteState(n,t.id),yield Yn(n),r.sessionChangeEvent.dispatch([t.id,void 0]))})()}updateSessionPartial(t,r){var n=this;return this.sessionUpdateMutex.runExclusive((0,j.Z)(function*(){const{id:o,rom:i,ram:s,device:a,...l}=r,[c,f]=yield n.prepareObjectStore(tu),h=yield Yn(c.get(t));if(!h)throw new Error(`no session with id ${t}`);const m={...h,...l};c.put(m),yield Yn(f),n.sessionChangeEvent.dispatch([h.id,m])}))}updateSession(t){var r=this;return this.sessionUpdateMutex.runExclusive((0,j.Z)(function*(){const[n,o]=yield r.prepareObjectStore(tu),i=yield Yn(n.get(t.id));if(!i)throw new Error(`no session with id ${t.id}`);if(i.rom!==t.rom)throw new Error("attempt to change ROM reference");if(i.ram!==t.ram)throw new Error("attempt to change RAM size");if(i.device!==t.device)throw new Error("attempt to change device type");n.put(t),yield Yn(o),r.sessionChangeEvent.dispatch([t.id,t])}))}loadSession(t,r){var n=this;return(0,j.Z)(function*(){const o=yield n.newTransaction(Sf,fc,nu,ru),i=o.objectStore(Sf);return[yield Yn(i.get(t.rom)),yield n.loadMemory(o,t.id,r),yield n.loadState(o,t.id)]})()}deleteStateForSession(t){var r=this;return(0,j.Z)(function*(){const[n,o]=yield r.prepareObjectStore(fc);n.delete(t.id),yield Yn(o)})()}addEmptyStorageCard(t){var r=this;return(0,j.Z)(function*(){const[n]=yield r.prepareObjectStore(Zs),o=yield Yn(n.add(t)),i=yield Yn(n.get(o));return r.storageCardChangeEvent.dispatch(i.id),i})()}importStorageCard(t,r){var n=this;return(0,j.Z)(function*(){return n.ngZone.runOutsideAngular((0,j.Z)(function*(){const o=yield n.newTransaction(Zs,Tl),i=o.objectStore(Zs),s=o.objectStore(Tl),a=yield Yn(i.add(t)),l=(t.size>>>13)+(r.length%8192==0?0:1),c=new Uint32Array(2048);for(let h=0;h<l;h++){const m=r.subarray(2048*h,2048*(h+1));h===l-1&&c.set(m);const b=c7(h===l-1?c:m);0!==b&&s.put("number"==typeof b?b:b?.slice(),[a,h])}const f=yield Yn(i.get(a));return yield Yn(o),n.storageCardChangeEvent.dispatch(f.id),f}))})()}getAllStorageCards(){var t=this;return(0,j.Z)(function*(){const[r]=yield t.prepareObjectStore(Zs);return Yn(r.getAll())})()}getCard(t){var r=this;return(0,j.Z)(function*(){const[n]=yield r.prepareObjectStore(Zs);return Yn(n.get(t))})()}updateStorageCardPartial(t,r){var n=this;return(0,j.Z)(function*(){const{storageId:o,size:i,id:s,...a}=r,[l,c]=yield n.prepareObjectStore(Zs),f=yield Yn(l.get(t));if(!f)throw new Error(`no card with id ${t}`);const h={...f,...a};l.put(h),yield Yn(c),n.storageCardChangeEvent.dispatch(t)})()}deleteStorageCard(t){var r=this;return(0,j.Z)(function*(){const n=yield r.newTransaction(Zs,Tl);r.storageCardContext.assertOwnership(t,Er.none);const o=n.objectStore(Zs),i=n.objectStore(Tl);o.delete(t),i.delete(IDBKeyRange.bound([t,0],[t+1,0],!1,!0)),yield Yn(n),r.storageCardChangeEvent.dispatch(t)})()}loadCardData(t,r,n){var o=this;return this.ngZone.runOutsideAngular((0,j.Z)(function*(){r.fill(0);const i=yield o.newTransaction(Zs,Tl);o.storageCardContext.assertOwnership(t,n);const s=i.objectStore(Tl);yield new Promise(function(){var a=(0,j.Z)(function*(l,c){const f=s.openCursor(IDBKeyRange.bound([t,0],[t+1,0],!1,!0));f.onsuccess=()=>{const h=f.result;if(!h)return l();let m=h.value;const[,b]=h.key;"number"==typeof m?r.subarray(2048*b,2048*(b+1)).fill(m):(2048*(b+1)>r.length&&(m=m.subarray(0,2048-2048*(b+1)+r.length)),r.subarray(2048*b,2048*(b+1)).set(m)),h.continue()},f.onerror=()=>c(new Wu(f.error?.message))});return function(l,c){return a.apply(this,arguments)}}())}))}updateCardData(t,r,n,o){var i=this;return this.ngZone.runOutsideAngular((0,j.Z)(function*(){const s=yield i.newTransaction(Zs,Tl);i.storageCardContext.assertOwnership(t,o);const a=s.objectStore(Zs),l=s.objectStore(Tl),c=yield Yn(a.get(t));if(!c)throw new Error(`no card with ID ${t}`);if(r.length!==c.size>>>2)throw new Error("data size mismatch");const f=(c.size>>>13)+(c.size%8192>0?1:0);if((f>>>3)+(f%8>0?1:0)!==n.length)throw new Error("dirty pages size mismatch");let h=0;for(let m=0;m<n.length;m++)for(let b=1;b<256&&!(h>=f);b<<=1)n[m]&b&&l.put(r.subarray(2048*h,2048*(h+1)).slice(),[c.id,h]),h++;yield Yn(s)}))}kvsGet(t){var r=this;return(0,j.Z)(function*(){const[n]=yield r.prepareObjectStore(ev);return Yn(n.get(t))})()}kvsSet(t){var r=this;return(0,j.Z)(function*(){const[n,o]=yield r.prepareObjectStore(ev);for(const i of Object.keys(t))n.put(t[i],i);yield Yn(o)})()}kvsLoad(){var t=this;return(0,j.Z)(function*(){const[r]=yield t.prepareObjectStore(ev);return new Promise((n,o)=>{const i={},s=r.openCursor();s.onsuccess=()=>{const a=s.result;if(!a)return n(i);i[a.key]=a.value,a.continue()},s.onerror=()=>o(new Wu(s.error?.message))})})()}kvsDelete(t){var r=this;return(0,j.Z)(function*(){const[n,o]=yield r.prepareObjectStore(ev);n.delete(t),yield Yn(o)})()}acquireLock(t){var r=this;return(0,j.Z)(function*(){if(r.errorService.hasFatalError())throw new Error("fatal error detected --- refusing DB access");if((yield Yn(t.objectStore(Fh).get(0)))!==YR)throw t.abort(),t.db.close(),cS})()}newTransaction(...t){var r=this;return(0,j.Z)(function*(){const n=(yield r.db).transaction([Fh,...t],"readwrite",{durability:"relaxed"});return yield r.acquireLock(n),n})()}prepareObjectStore(t){var r=this;return(0,j.Z)(function*(){const n=yield r.newTransaction(t);return[n.objectStore(t),n]})()}saveState(t,r,n){const o=t.objectStore(fc);n?o.put(n,r):o.delete(r)}deleteState(t,r){t.objectStore(fc).delete(r)}loadState(t,r){return Yn(t.objectStore(fc).get(r))}deleteMemory(t,r){const n=t.objectStore(nu),o=t.objectStore(ru);n.delete(IDBKeyRange.bound([r,0],[r+1,0],!1,!0)),o.delete(r)}initializeLock(t){return(0,j.Z)(function*(){const r=t.transaction(Fh,"readwrite");yield Yn(r.objectStore(Fh).put(YR,0))})()}setupDb(){var t=this;return(0,j.Z)(function*(){const r=setTimeout(()=>xo&&window.location.reload(),500);try{if(indexedDB.databases){const o=(yield indexedDB.databases()).find(i=>i.name===da.dbName);if(clearTimeout(r),o&&void 0!==o.version&&o.version>9)throw qR}const n=yield new Promise((o,i)=>{const s=indexedDB.open(da.dbName,9);s.onerror=()=>{i(new Wu("failed to open DB"))},s.onsuccess=()=>{o(s.result)},s.onblocked=()=>{i(new Wu("failed to open DB: required upgrade blocked by an open instance of CloudPilotEmu"))},s.onupgradeneeded=function(){var a=(0,j.Z)(function*(l){clearTimeout(r),l.oldVersion<1&&function m7(e){e.createObjectStore(tv,{keyPath:"id",autoIncrement:!0}).createIndex("rom","rom"),e.createObjectStore("state")}(s.result),l.oldVersion<2&&function g7(e,t){if(!t)throw new Error("no version change transaction!");e.objectStoreNames.contains("rom")&&e.deleteObjectStore("rom"),e.objectStoreNames.contains(tS)&&e.deleteObjectStore(tS),t.objectStore(tv).clear(),e.createObjectStore("rom"),e.createObjectStore(tS),e.createObjectStore("kvs")}(s.result,s.transaction),l.oldVersion<4&&(yield function _7(e,t){return nS.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<5&&(yield function v7(e,t){return rS.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<6&&(yield function y7(e,t){return oS.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<7&&(yield function b7(e,t){return iS.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<8&&(yield function C7(e,t){return sS.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<9&&(yield function S7(e,t){return aS.apply(this,arguments)}(s.result,s.transaction))});return function(l){return a.apply(this,arguments)}}()});return yield t.initializeLock(n),n}finally{clearTimeout(r)}})()}requestPersistentStorage(){return(0,j.Z)(function*(){(!navigator.storage?.persist||!navigator.storage?.persisted)&&console.log("storage manager not supported; unable to request persistent storage");try{(yield navigator.storage.persisted())||(yield navigator.storage.persist())?console.log("persistent storage enabled"):console.log("request for persistent storage denied by browser")}catch(t){console.warn(t),console.log("failed to request persistent storage")}})()}}(wf=nr).\u0275fac=function(t){return new(t||wf)(ue(Ze),ue(zu),ue(Oh))},wf.\u0275prov=k({token:wf,factory:wf.\u0275fac,providedIn:"root"}),oe([To()],nr.prototype,"addSession",null),oe([To()],nr.prototype,"getAllSessions",null),oe([To()],nr.prototype,"getSession",null),oe([To()],nr.prototype,"deleteSession",null),oe([To()],nr.prototype,"updateSessionPartial",null),oe([To()],nr.prototype,"updateSession",null),oe([To()],nr.prototype,"loadSession",null),oe([To()],nr.prototype,"deleteStateForSession",null),oe([To()],nr.prototype,"addEmptyStorageCard",null),oe([To()],nr.prototype,"importStorageCard",null),oe([To()],nr.prototype,"getAllStorageCards",null),oe([To()],nr.prototype,"getCard",null),oe([To()],nr.prototype,"updateStorageCardPartial",null),oe([To()],nr.prototype,"deleteStorageCard",null),oe([To()],nr.prototype,"loadCardData",null),oe([To()],nr.prototype,"kvsGet",null),oe([To()],nr.prototype,"kvsSet",null),oe([To()],nr.prototype,"kvsDelete",null),oe([To()],nr.prototype,"newTransaction",null),oe([To()],nr.prototype,"prepareObjectStore",null),oe([To()],nr.prototype,"initializeLock",null),oe([To()],nr.prototype,"setupDb",null);const KR={volume:.5,showStatistics:!1,clipboardIntegration:!1,networkRedirection:!1,proxyServer:"",credentials:{},runHidden:!1,autoLockUI:!1,enableRemoteInstall:!1,enableAudioOnFirstInteraction:!1,snapshotIntegrityCheck:!1};let Pi=(()=>{var e;class t{constructor(n){var o=this;this.storageService=n,this.set=i=>this.storageMutex.runExclusive((0,j.Z)(function*(){yield o.storageService.kvsSet(i);for(const s of Object.keys(i))o.rawKvs[s]=i[s];o.updateEvent.dispatch()})),this.updateEvent=new so.j,this.mutex=new Ba,this.storageMutex=new Ba,this.initializationPromise=this.startInitialiation()}initialize(){var n=this;return(0,j.Z)(function*(){return n.initializationPromise})()}get kvs(){return this.kvsProxy}startInitialiation(){var n=this;return(0,j.Z)(function*(){const o=n;try{const i={...KR,...yield n.storageService.kvsLoad()};n.rawKvs=i,n.kvsProxy=new Proxy(i,{set:(s,a,l)=>(s[a]=l,o.storageMutex.runExclusive((0,j.Z)(function*(){yield o.storageService.kvsSet({[a]:l})})),o.updateEvent.dispatch(),!0),deleteProperty:(s,a)=>(delete s[a],o.storageMutex.runExclusive(()=>o.storageService.kvsDelete(a)),o.updateEvent.dispatch(),!0)})}catch(i){console.error("failed to load KVS"),console.error(i),n.kvsProxy={...KR}}})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(nr))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),rv=(()=>{var e;class t{constructor(n,o){var i=this;this.kvsService=n,this.alertService=o,this.serviceWorkerKeepalive=(0,j.Z)(function*(){if(navigator.serviceWorker)try{const s=yield navigator.serviceWorker.getRegistration();s?.active?.postMessage&&s.active.postMessage({})}catch{}setTimeout(i.serviceWorkerKeepalive,9e5)}),this.installationMode=this.determineInstallationMode(),this.serviceWorkerKeepalive()}promptForInstall(){return(xo||Q0)&&this.installationMode===uc.web}getInstallationMode(){return this.installationMode}install(){this.alertService.message("Install app",this.getInstallMessage())}invite(){(xo||Q0||Ph)&&this.installationMode===uc.web&&(this.kvsService.kvs.didShowInvitation||(this.kvsService.kvs.didShowInvitation=!0,window.hasOwnProperty("onbeforeinstallprompt")||this.alertService.message("App available",this.getInviteMessage())))}getInstallMessage(){return X_?'\n    Tap the "Share" icon in the browser toolbar\n    and select "Add to Home Screen" in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':xo?'\n    Open CloudpilotEmu in Safari, tap the "Share" icon in the browser toolbar\n    and select "Add to Home Screen" in order to install\n    CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Open your browser\'s menu and tap "Add to Home screen" or "Install App"\n    in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}getInviteMessage(){return X_?'\n    Howdy! It seems that you are using an iPhone or iPad. You can\n    install CloudpilotEmu as an app by tapping the "Share" icon\n    in the browser toolbar and selecting\n    "Add to Home Screen".\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':xo?'\n    Howdy! It seems that you are using an iPhone or iPad. You can\n    install CloudpilotEmu as an app by opening it in Safari,\n    tapping the "Share" icon in the browser toolbar\n    and selecting "Add to Home Screen"\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':Ph?'\n    Howdy! It seems that you are running CloudpilotEmu on a Mac. Safari will delete all\n    data after seven days of inactivity. However, you can click the "Share"\n    icon in the browser toolbar and select "Add to dock" to install\n    CloudpilotEmu as an app.\n    <br><br>\n    This will keep Safari from deleting your\n    data.\n':'\n    Howdy! It seems that you are using an Android device. You can\n    install CloudpilotEmu as an app by opening your browser\'s menu\n    and tapping "Add to Home screen".\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}determineInstallationMode(){return window.navigator.standalone?uc.pwa:document.referrer.startsWith("android-app://")?uc.twa:window.matchMedia("(display-mode: standalone)").matches?uc.pwa:uc.web}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Pi),ue(oo))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function L7(e,t){1&e&&(z(0,"div",5),He(1,"ion-spinner"),B())}let Zu=(()=>{var e;class t{constructor(n){this.modalController=n,this.title="Help",this.loading=!0}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Cs))},e.\u0275cmp=Ye({type:e,selectors:[["app-help"]],inputs:{url:"url",title:"title"},decls:10,vars:3,consts:[["slot","primary"],[3,"click"],["fullscreen",""],["class","loader",4,"ngIf"],[3,"src","load"],[1,"loader"]],template:function(n,o){1&n&&(z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),De(3),B(),z(4,"ion-buttons",0)(5,"ion-button",1),Be("click",function(){return o.modalController.dismiss()}),De(6,"Close"),B()()()(),z(7,"ion-content",2),Ut(8,L7,2,0,"div",3),z(9,"markdown",4),Be("load",function(){return o.loading=!1}),B()()),2&n&&(ge(3),Hi(o.title),ge(5),Ee("ngIf",o.loading),ge(1),Ee("src",o.url))},dependencies:[Lo,K0,Ki,Xi,Qi,Ji,Ih,ts,ns],styles:["markdown[_ngcontent-%COMP%]{display:block;padding-left:1em;padding-right:1em}.loader[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}"]}),t})();const qu=da.releaseExtra?`1.10.2-51803b4 (${da.releaseExtra})`:"1.10.2",QR=C.p+"assets/doc/CHANGELOG-488d2a90c9ba724c.md";var ov=C(1633);const iv=((e,t)=>{let r=null;return()=>{if(null!==r)return r;const n=new Blob(['(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error(\'The given type "\'.concat(i,\'" is not supported\'));(e=>{const r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error(\'The given method "\'.concat(s.method,\'" is not supported\'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error(\'The given type "\'.concat(d,\'" is not supported\'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();'],{type:"application/javascript; charset=utf-8"}),o=URL.createObjectURL(n);return r=(e=>{const t=new Map([[0,()=>{}]]),r=new Map([[0,()=>{}]]),n=new Map,o=new Worker(e);return o.addEventListener("message",({data:c})=>{if((e=>void 0!==e.method&&"call"===e.method)(c)){const{params:{timerId:f,timerType:h}}=c;if("interval"===h){const m=t.get(f);if("number"==typeof m){const b=n.get(m);if(void 0===b||b.timerId!==f||b.timerType!==h)throw new Error("The timer is in an undefined state.")}else{if(!(typeof m<"u"))throw new Error("The timer is in an undefined state.");m()}}else if("timeout"===h){const m=r.get(f);if("number"==typeof m){const b=n.get(m);if(void 0===b||b.timerId!==f||b.timerType!==h)throw new Error("The timer is in an undefined state.")}else{if(!(typeof m<"u"))throw new Error("The timer is in an undefined state.");m(),r.delete(f)}}}else{if(!(e=>null===e.error&&"number"==typeof e.id)(c)){const{error:{message:f}}=c;throw new Error(f)}{const{id:f}=c,h=n.get(f);if(void 0===h)throw new Error("The timer is in an undefined state.");const{timerId:m,timerType:b}=h;n.delete(f),"interval"===b?t.delete(m):r.delete(m)}}}),{clearInterval:c=>{const f=(0,ov.generateUniqueNumber)(n);n.set(f,{timerId:c,timerType:"interval"}),t.set(c,f),o.postMessage({id:f,method:"clear",params:{timerId:c,timerType:"interval"}})},clearTimeout:c=>{const f=(0,ov.generateUniqueNumber)(n);n.set(f,{timerId:c,timerType:"timeout"}),r.set(c,f),o.postMessage({id:f,method:"clear",params:{timerId:c,timerType:"timeout"}})},setInterval:(c,f)=>{const h=(0,ov.generateUniqueNumber)(t);return t.set(h,()=>{c(),"function"==typeof t.get(h)&&o.postMessage({id:null,method:"set",params:{delay:f,now:performance.now(),timerId:h,timerType:"interval"}})}),o.postMessage({id:null,method:"set",params:{delay:f,now:performance.now(),timerId:h,timerType:"interval"}}),h},setTimeout:(c,f)=>{const h=(0,ov.generateUniqueNumber)(r);return r.set(h,c),o.postMessage({id:null,method:"set",params:{delay:f,now:performance.now(),timerId:h,timerType:"timeout"}}),h}}})(o),setTimeout(()=>URL.revokeObjectURL(o)),r}})();var Ef=function(e){return e[e.animationFrame=0]="animationFrame",e[e.timeout=1]="timeout",e}(Ef||{});class JR{constructor(t){this.callback=t}schedule(){void 0===this.handle&&(this.handle=requestAnimationFrame(t=>{this.handle=void 0,this.callback(t)}))}cancel(){void 0!==this.handle&&(cancelAnimationFrame(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return Ef.animationFrame}}class U7{constructor(t,r=60){this.callback=t,this.fps=r}schedule(){if(void 0!==this.handle)return;const t=performance.now(),r=1e3*Math.ceil(t/1e3*this.fps)/this.fps;this.handle=((e,t)=>iv().setTimeout(e,t))(()=>{this.handle=void 0,this.callback(performance.now())},Math.max(r-t,0))}cancel(){var e;void 0!==this.handle&&(e=this.handle,iv().clearTimeout(e),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return Ef.timeout}}const H7=[135,135,105],z7=[0,0,0],ou=new Array(16).fill(0).map((e,t)=>z7.map((r,n)=>Math.floor((t*r+(15-t)*H7[n])/15))).map(([e,t,r])=>4278190080|r<<16|t<<8|e),uS=ou.map(e=>"#"+(16777215&e).toString(16).padStart(6,"0").match(/(..?)/g)?.reverse().join(""));var ee=function(e){return e.palmPilot="PalmPilot",e.pilot="Pilot",e.iii="PalmIII",e.palmVx="PalmVx",e.palmV="PalmV",e.palmVII="PalmVII",e.palmVIIEZ="PalmVIIEZ",e.palmVIIx="PalmVIIx",e.iiic="PalmIIIc",e.iiix="PalmIIIx",e.iiixe="PalmIIIxe",e.iiie="PalmIIIe",e.m500="PalmM500",e.m505="PalmM505",e.m515="PalmM515",e.m520="PalmM520",e.m100="PalmM100",e.m105="PalmM105",e.m125="PalmM125",e.m130="PalmM130",e.i705="Palmi705",e.i710="PalmI710",e.handera330="HandEra330",e.handera330c="HandEra330c",e.pegS300="PEG-S300",e.pegS320="PEG-S320",e.pegS500c="PEG-S500C",e.pegT400="PEG-T400",e.pegN600c="PEG-N600C/N610C",e.pegT600c="PEG-T600",e.pegN700c="PEG-N700C/N710C",e.pegT650c="YSX1230",e.pegNR70="NR70",e.acerS11="Acer-S11",e.lp168="Legend-P168",e}(ee||{}),Df=function(e){return e.sdcard="sdcard",e.memorystick="memorystick",e.none="none",e}(Df||{});function Nh(e){switch(e){case ee.i710:case ee.m520:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case ee.handera330:case ee.handera330c:case ee.lp168:return{screenSize:2,width:240,height:320,silkscreenHeight:0};case ee.pegS300:case ee.pegS320:case ee.pegS500c:return{screenSize:0,width:160,height:160,silkscreenHeight:76};case ee.pegT600c:case ee.pegT400:case ee.pegT650c:return{screenSize:1,width:320,height:320,silkscreenHeight:140,silkscreenOvershoot:10};case ee.pegN600c:case ee.pegN700c:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case ee.pegNR70:return{screenSize:3,width:320,height:480,silkscreenHeight:0};case ee.acerS11:return{screenSize:0,width:160,height:160,silkscreenHeight:60,siklscreenShift:8};default:return{screenSize:0,width:160,height:160,silkscreenHeight:60}}}function dS(e){switch(e){case ee.pilot:case ee.palmPilot:case ee.iii:case ee.palmV:case ee.palmVx:case ee.iiix:case ee.iiixe:case ee.iiie:case ee.m100:case ee.m105:case ee.m125:case ee.m500:case ee.palmVII:case ee.palmVIIEZ:case ee.palmVIIx:case ee.i705:case ee.handera330:case ee.pegS300:case ee.pegS320:case ee.pegT400:case ee.acerS11:return!1;default:return!0}}function eP(e){switch(e){case ee.pilot:return"Pilot";case ee.palmPilot:return"Palm Pilot";case ee.iii:return"Palm III";case ee.m500:return"Palm m500";case ee.m505:return"Palm m505";case ee.m515:return"Palm m515";case ee.m520:return"Palm m520";case ee.palmVx:return"Palm Vx";case ee.iiix:return"Palm IIIx";case ee.iiixe:return"Palm IIIxe";case ee.iiie:return"Palm IIIe";case ee.palmV:return"Palm V";case ee.palmVII:return"Palm VII";case ee.palmVIIEZ:return"Palm VII EZ";case ee.palmVIIx:return"Palm VIIx";case ee.iiic:return"Palm IIIc";case ee.m100:return"Palm m100";case ee.m105:return"Palm m105";case ee.m125:return"Palm m125";case ee.m130:return"Palm m130";case ee.i705:return"Palm i705";case ee.i710:return"Tungsten W";case ee.handera330:return"Handera 330";case ee.handera330c:return"Handera 330c";case ee.pegS300:return"Sony PEG-S300";case ee.pegS320:return"Sony PEG-S320";case ee.pegT400:return"Sony PEG-T400 series";case ee.pegN600c:return"Sony PEG-N600C series";case ee.pegT600c:return"Sony PEG-T600C series";case ee.pegN700c:return"Sony PEG-N700C series";case ee.pegT650c:return"Sony PEG-T650C series";case ee.pegNR70:return"Sony PEG-NR70 series";case ee.pegS500c:return"Sony PEG-S500C series";case ee.acerS11:return"Acer S1x series";case ee.lp168:return"Legend P168";default:throw new Error("bad device ID")}}function tP(e){switch(e){case ee.m500:case ee.m505:case ee.m515:case ee.m520:case ee.m125:case ee.m130:case ee.i705:case ee.i710:case ee.handera330:case ee.handera330c:return Df.sdcard;case ee.pegS300:case ee.pegS500c:case ee.pegS320:case ee.pegT400:case ee.pegN600c:case ee.pegT600c:case ee.pegN700c:case ee.pegT650c:case ee.pegNR70:case ee.acerS11:return Df.memorystick;default:return Df.none}}class nP{constructor(t,r){this.queue=new Array(t).fill(0),this.reset(r)}reset(t=0){this.next=1,this.size=1,this.queue[0]=t}push(t){return this.queue[this.next]=t,this.next=(this.next+1)%this.queue.length,this.size<this.queue.length&&this.size++,this}calculateAverage(){let t=0;for(let r=0;r<this.size;r++)t+=this.queue[r];return t/this.size}}class q7{constructor(t){this.start=0,this.size=0,this.buffer=new Array(t)}push(t){return this.size<this.buffer.length?this.buffer[(this.start+this.size++)%this.buffer.length]=t:(this.start=(this.start+1)%this.buffer.length,this.buffer[(this.start+this.size-1)%this.buffer.length]=t),this}pop(){if(0===this.size)return;const t=this.buffer[this.start];return this.start=(this.start+1)%this.buffer.length,this.size--,t}peekLast(){if(0!==this.size)return this.buffer[(this.start+this.size-1)%this.buffer.length]}replaceLast(t){return this.size>0&&(this.buffer[(this.start+this.size-1)%this.buffer.length]=t),this}count(){return this.size}flush(){return this.start=0,this.size=0,this}}class oP{constructor(){this.onFrameComplete=()=>{this.transport&&this.receiveEvent.dispatch({data:this.transport.Receive(),isFrameComplete:this.transport.IsFrameComplete()})},this.receiveEvent=new so.j,this.dispatchEvent=new so.j,this.isSync=!1}bind(t){this.transport!==t&&(this.transport&&this.transport.frameCompleteEvent.removeHandler(this.onFrameComplete),t.frameCompleteEvent.addHandler(this.onFrameComplete),t.SetModeSync(this.isSync),this.transport=t)}send(t,r){if(this.transport){if(!this.transport.IsOpen()&&this.transport.GetModeSync())return void this.receiveEvent.dispatch({data:void 0,isFrameComplete:!0});this.transport.Send(t,r),setTimeout(()=>this.dispatchEvent.dispatch(),0)}}setModeSync(t){this.isSync=t,this.transport?.SetModeSync(t)}getModeSync(){return this.transport?.GetModeSync?.()??!1}dispatch(){if(!this.transport)return;const t=this.transport.RxBytesPending();0!==t&&(this.transport.GetModeSync()&&t<1024||this.receiveEvent.dispatch({data:this.transport.Receive(),isFrameComplete:this.transport.IsFrameComplete()}))}}class rZ{constructor(){this.onPwmUpdate=t=>{this.pendingPwmUpdates.count()>0&&this.pendingPwmUpdates.peekLast().frequency<0?this.pendingPwmUpdates.replaceLast(t):this.pendingPwmUpdates.push(t)},this.advanceEmulation=t=>{if(this.isDirty=!1,!this.isRunning||!this.cloudpilotInstance||this.hasFatalError()||t<this.clockEmulator)return;this.cloudpilotInstance.isSuspended()&&5===this.cloudpilotInstance.getSuspendKind()&&t-this.serialSyncStartedAt>250&&(console.log("serial sync timeout, waking emulator"),this.cloudpilotInstance.getSuspendContextSerialSync().Cancel());const r=this.cloudpilotInstance.isSuspended();let n=!1;this.cloudpilotInstance.setClockFactor(this.emulationSpeed*this.getConfiguredSpeed()),t-this.clockEmulator>1e3/30&&(this.clockEmulator=t-1e3/30);const o=(t-this.clockEmulator)/1e3*this.cloudpilotInstance.cyclesPerSecond(),i=performance.now();let s=0;for(;s<o;)if(s+=this.cloudpilotInstance.runEmulation(Math.ceil(o-s)),this.cloudpilotInstance.isSuspended()){n=!0;break}const a=s/this.cloudpilotInstance.cyclesPerSecond()*1e3,l=performance.now()-i;this.clockEmulator+=Math.max(a,l),this.speedAverage.push(a/(l>0?l:a/1e3)*this.emulationSpeed),this.updateEmulationSpeed(this.speedAverage.calculateAverage()),n&&!r&&(5===this.cloudpilotInstance.getSuspendKind()?this.serialSyncStartedAt=performance.now():this.handleSuspend());const c=this.cloudpilotInstance.isPowerOff(),f=this.cloudpilotInstance.isUiInitialized();if(c!==this.powerOff||f!==this.uiInitialized){const h=this.powerOff;this.powerOff=c,this.uiInitialized=f,h!==this.powerOff&&this.powerOffChangeEvent.dispatch(this.powerOff),this.isDirty=!0}f&&!c&&this.manageHotsyncName()&&!n&&this.checkAndUpdateHotsyncName(),this.serialPortIR.dispatch(),this.serialPortSerial.dispatch(),this.onAfterAdvanceEmulation(t,s)},this.newFrameEvent=new so.j,this.pwmUpdateEvent=new so.j,this.emulationStateChangeEvent=new so.j,this.powerOffChangeEvent=new so.j,this.deviceId=ee.m515,this.clockEmulator=0,this.scheduler=new JR(t=>this.onSchedule(t)),this.canvas=document.createElement("canvas"),this.canvasTmp=document.createElement("canvas"),this.lastPenUpdate=0,this.penDown=!1,this.running=!1,this.powerOff=!1,this.uiInitialized=!1,this.pendingPwmUpdates=new q7(10),this.lastPwmUpdateEvent=0,this.emulationSpeed=1,this.speedAverage=new nP(20),this.timePerFrameAverage=new nP(60),this.timestampLastFrame=0,this.frameCounter=0,this.isDirty=!1,this.serialPortIR=new oP,this.serialPortSerial=new oP,this.serialSyncStartedAt=0,this.serialPortIR.dispatchEvent.addHandler(()=>this.advanceEmulation(performance.now())),this.serialPortSerial.dispatchEvent.addHandler(()=>this.advanceEmulation(performance.now()))}handlePointerMove(t,r,n){if(!this.handleInput())return;const o=performance.now();if(this.penDown=!0,!(o-this.lastPenUpdate<25)&&this.cloudpilotInstance){if(n){const i=Nh(this.deviceId);t=this.transformSilkscreenX(t,i),r=this.transformSilkscreenY(r,i)}this.cloudpilotInstance.queuePenMove(Math.floor(t),Math.floor(r)),this.lastPenUpdate=o}}handlePointerUp(){this.handleInput()&&(this.cloudpilotInstance&&this.penDown&&this.cloudpilotInstance.queuePenUp(),this.lastPenUpdate=0,this.penDown=!1)}handleButtonDown(t){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonDown(t)}handleButtonUp(t){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonUp(t)}handleKeyDown(t,r=!1){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueKeyboardEvent(t,r)}reset(){this.cloudpilotInstance&&this.cloudpilotInstance.reset()}resetNoExtensions(){this.cloudpilotInstance&&this.cloudpilotInstance.resetNoExtensions()}resetHard(){this.cloudpilotInstance&&this.cloudpilotInstance.resetHard()}isRunning(){return this.running}isPowerOff(){return this.powerOff}isUiInitialized(){return this.uiInitialized}getCanvas(){return this.canvas}getStatistics(){return{hostSpeed:this.speedAverage.calculateAverage(),emulationSpeed:this.emulationSpeed,averageFps:this.calculateFPS()}}getEmulationSpeed(){return this.emulationSpeed}isSuspended(){return!!this.cloudpilotInstance&&this.cloudpilotInstance.isSuspended()}getSerialPortSerial(){if(!this.serialPortSerial)throw new Error("emulator not initialized");return this.serialPortSerial}getSerialPortIR(){if(!this.serialPortIR)throw new Error("emulator not initialized");return this.serialPortIR}onAfterAdvanceEmulation(t,r){}handleSuspend(){}callScheduler(){this.scheduler.schedule()}handleInput(){return!0}openSession(t,r,n,o,i){let s=!1;return!!t.initializeSession(r,n)&&(o&&(o.length%4!=0?console.warn("memory size is not a multiple of 4; ignoring image"):(s=t.loadMemory(new Uint32Array(o.buffer,o.byteOffset,o.length>>>2)),s||console.warn("failed to load memory"))),s&&i&&t.loadState(i),t.remountCards(),this.cloudpilotInstance&&this.cloudpilotInstance.pwmUpdateEvent.removeHandler(this.onPwmUpdate),t.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.cloudpilotInstance!==t&&(this.serialPortIR.bind(t.getTransportIR()),this.serialPortSerial.bind(t.getTransportSerial())),this.cloudpilotInstance=t,this.deviceId=n,this.resetCanvas(),this.pendingPwmUpdates.flush(),this.lastPwmUpdateEvent=0,this.deviceHotsyncName=void 0,this.emulationSpeed=1,this.frameCounter=0,this.speedAverage.reset(1),this.powerOff=t.isPowerOff(),this.uiInitialized=t.isUiInitialized(),this.frameCounter=0,!0)}resetCanvas(){const t=Nh(this.deviceId);this.canvas.width=this.canvasTmp.width=t.width,this.canvas.height=this.canvasTmp.height=t.height;const r=this.canvas.getContext("2d");if(!r)throw new Error("get a new browser");this.context=r;const n=this.canvasTmp.getContext("2d");if(!n)throw new Error("get a new browser");this.contextTmp=n,this.clearCanvas(),this.imageData=void 0}doResume(){this.cloudpilotInstance&&(this.clockEmulator=performance.now(),this.schedule(),this.setRunning(!0),this.resetFPS())}doPause(){this.stopLoop()}doStop(){this.stopLoop()}stopLoop(){this.running&&(this.scheduler.cancel(),void 0!==this.advanceEmulationHandle&&(window.clearTimeout(this.advanceEmulationHandle),this.advanceEmulationHandle=void 0),this.setRunning(!1))}resetFPS(){this.timePerFrameAverage.reset(),this.timestampLastFrame=performance.now()}calculateFPS(){const t=this.timePerFrameAverage.calculateAverage();return t&&1e3/t}transformSilkscreenX(t,r){return void 0===r.silkscreenOvershoot?t:(t-r.width/2)/(r.width/(r.width+2*r.silkscreenOvershoot))+r.width/2}transformSilkscreenY(t,r){return void 0===r.siklscreenShift?t:t+r.siklscreenShift}setRunning(t){t!==this.running&&(this.running=t,this.emulationStateChangeEvent.dispatch(t))}updateEmulationSpeed(t){if(t>=1&&this.emulationSpeed>=1)return;const r=Math.min(Math.max(Math.floor(10*t)/10,.1),1);this.emulationSpeed=r<=this.emulationSpeed||t-r>=.05?r:this.emulationSpeed}performScreenUpdate(){this.cloudpilotInstance?.isScreenDirty()&&(this.updateScreen(),this.cloudpilotInstance.markScreenClean(),this.frameCounter++)}onSchedule(t){this.hasFatalError()||(this.skipEmulationUpdate()||(this.performScreenUpdate(),this.pendingPwmUpdates.count()>0&&t-this.lastPwmUpdateEvent>10&&(this.pwmUpdateEvent.dispatch(this.pendingPwmUpdates.pop()),this.lastPwmUpdateEvent=t),void 0===this.advanceEmulationHandle&&(this.advanceEmulationHandle=window.setTimeout(()=>{this.advanceEmulationHandle=void 0,this.advanceEmulation(t)},0)),this.timePerFrameAverage.push(Math.max(0,t-this.timestampLastFrame)),this.timestampLastFrame=t),this.schedule())}schedule(){this.scheduler.cancel(),this.getConfiguredSchdedulerKind()!==this.scheduler.getKind()&&(this.scheduler=this.getConfiguredSchdedulerKind()===Ef.animationFrame?new JR(t=>this.onSchedule(t)):new U7(t=>this.onSchedule(t))),this.callScheduler()}checkAndUpdateHotsyncName(){if(!this.cloudpilotInstance)return;void 0===this.deviceHotsyncName&&(this.deviceHotsyncName=this.cloudpilotInstance.getHotsyncName());const t=this.getConfiguredHotsyncName();void 0===t?this.updateConfiguredHotsyncName(this.deviceHotsyncName):t!==this.deviceHotsyncName&&t.length<=40&&this.cloudpilotInstance.isSetupComplete()&&(this.cloudpilotInstance.setHotsyncName(t),this.deviceHotsyncName=t)}clearCanvas(){const t=this.deviceId,r=Nh(t);this.context.beginPath(),this.context.rect(0,0,r.width,r.height),this.context.fillStyle=dS(t)?"white":uS[0],this.context.fill()}updateScreen(){if(!this.cloudpilotInstance)return;const t=this.cloudpilotInstance.getFrame();if(this.cloudpilotInstance.isPowerOff())return this.clearCanvas(),void this.newFrameEvent.dispatch(this.canvas);if(!t.hasChanges)return;if(t.lines*t.scaleY===this.canvas.height&&t.lineWidth*t.scaleX===this.canvas.width){(!this.imageData||this.imageData.width!==t.lineWidth||this.imageData.height!==t.lines)&&(this.imageData=new ImageData(t.lineWidth,t.lines));const n=new Uint32Array(this.imageData.data.buffer);switch(t.bpp){case 1:{const o=ou[15],i=ou[0];let s=0;for(let a=t.firstDirtyLine;a<=t.lastDirtyLine;a++){const l=a*t.bytesPerLine;for(let c=t.margin;c<t.lineWidth+t.margin;c++)n[s++]=t.buffer[l+(c>>>3)]&128>>>(7&c)?o:i}break}case 2:{const o=this.cloudpilotInstance.getPalette2bitMapping(),i=[ou[15&o],ou[o>>>4&15],ou[o>>>8&15],ou[o>>>12&15]];let s=0;for(let a=t.firstDirtyLine;a<=t.lastDirtyLine;a++){const l=a*t.bytesPerLine;for(let c=t.margin;c<t.lineWidth+t.margin;c++)n[s++]=i[t.buffer[l+(c>>>2)]>>6-2*(3&c)&3]}break}case 4:{let o=0;for(let i=t.firstDirtyLine;i<=t.lastDirtyLine;i++){const s=i*t.bytesPerLine;for(let a=t.margin;a<t.lineWidth+t.margin;a++)n[o++]=ou[t.buffer[s+(a>>>1)]>>>4-4*(1&a)&15]}break}case 24:{const o=new Uint32Array(t.buffer.buffer,t.buffer.byteOffset,t.buffer.byteLength>>>2);if(0===t.margin)n.subarray(0,t.lineWidth*(t.lastDirtyLine-t.firstDirtyLine+1)).set(o.subarray(t.firstDirtyLine*t.lineWidth,t.lineWidth*(t.lastDirtyLine+1)));else{let i=0;for(let s=t.firstDirtyLine;s<=t.lastDirtyLine;s++){let a=s*(t.bytesPerLine>>>2)+t.margin;for(let l=0;l<t.lineWidth;l++)n[i++]=o[a++]}}}}}if(!this.imageData)return;const r=1!==t.scaleX||1!==t.scaleY;(r?this.contextTmp:this.context).putImageData(this.imageData,0,t.firstDirtyLine,0,0,t.lineWidth,t.lastDirtyLine-t.firstDirtyLine+1),r&&(this.context.imageSmoothingEnabled=!1,this.context.drawImage(this.canvasTmp,0,t.firstDirtyLine,t.lineWidth,t.lastDirtyLine-t.firstDirtyLine+1,0,t.firstDirtyLine*t.scaleY,t.lineWidth*t.scaleX,(t.lastDirtyLine-t.firstDirtyLine+1)*t.scaleY)),this.newFrameEvent.dispatch(this.canvas)}}class oZ{constructor(t,r){this.timeoutRemaining=t,this.cb=r,this.onTimeout=()=>{const n=performance.now();if(this.timeoutRemaining-=n-this.timeoutTimestamp,this.timeoutRemaining>0)return this.timeoutTimestamp=performance.now(),void(this.handle=window.setTimeout(this.onTimeout,this.timeoutTimestamp));this.cb()},this.timeoutTimestamp=performance.now(),this.handle=window.setTimeout(this.onTimeout,t)}increase(t){this.timeoutRemaining+=t}cancel(){clearTimeout(this.handle)}}const aZ=new Error("transaction timeout"),sP=new Error("session does not match emulation");let Lh=(()=>{var e;class t{constructor(n,o,i,s,a,l){var c=this;this.storageService=n,this.emulationState=o,this.errorService=i,this.storageCardContext=s,this.kvsService=a,this.ngZone=l,this.triggerSnapshot=()=>this.ngZone.runOutsideAngular(()=>this.sessionId<0||this.cloudpilot.isSuspended()?Promise.resolve():this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():(this.snapshotInProgress=!0,this.pendingSnapshotPromise=(0,j.Z)(function*(){try{yield c.triggerSnapshotUnguarded()}finally{c.snapshotInProgress=!1}})(),this.pendingSnapshotPromise)),this.snapshotEvent=new so.j,this.sessionId=-1,this.consecutiveErrorCount=0,this.snapshotInProgress=!1,this.pendingSnapshotPromise=Promise.resolve(void 0),this.cardPagePool=[]}initialize(n,o){var i=this;return(0,j.Z)(function*(){i.errorService.hasFatalError()||(yield i.waitForPendingSnapshot(),i.sessionId=n.id,i.dirtyPages=void 0,i.pages=void 0,i.state=void 0,i.db=yield i.storageService.getDb(),i.cloudpilot=o,i.resetCard())})()}resetCard(){this.cardPagePool=[],this.cardDirtyPages=void 0}waitForPendingSnapshot(){return this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():Promise.resolve()}triggerSnapshotUnguarded(){var n=this;return(0,j.Z)(function*(){for(;;)try{return yield n.triggerSnapshotOnce(),void(n.consecutiveErrorCount=0)}catch(o){if(console.error("snapshot error",o),o===sP)throw n.errorService.fatalBug("attempting to snapshot a session that is not currently running"),o;if(o===cS)throw n.errorService.fatalPageLockLost(),o;if(++n.consecutiveErrorCount>3)throw n.errorService.fatalIDBDead(),o}})()}triggerSnapshotOnce(){var n=this;return(0,j.Z)(function*(){const o=n.db.transaction([nu,ru,fc,Tl,Zs,Fh],"readwrite",{durability:"relaxed"});let i;yield n.storageService.acquireLock(o);const s=n.cloudpilot.getMountedKey();if(s&&(i=yield Yn(o.objectStore(Zs).index("storageId").get(s))),n.cloudpilot.isSuspended())return;n.assertSessionMatches();const a=yield new Promise((l,c)=>{let f=!1;const h=performance.now();let m=0,b=0,Z=0;const te=new oZ(500,()=>{f=!0;try{o.abort()}catch{}c(aZ)});o.oncomplete=()=>{te.cancel(),n.dirtyPages?.fill(0),n.cardDirtyPages?.fill(0),l({timestamp:Date.now(),pages:Z,timeBlocking:b-m,timeTotal:performance.now()-h})},o.onerror=()=>{te.cancel(),c(new Error(o.error?.message))};try{n.assertSessionMatches(),m=performance.now(),Z=n.saveDirtyMemory(o,te),i&&(Z+=n.saveDirtyStorage(i,o,te)),n.saveSession(o),b=performance.now()}catch(_e){throw f||(te.cancel(),o.abort()),_e}});n.snapshotEvent.dispatch(a)})()}saveDirtyMemory(n,o){let i=0;const s=n.objectStore(nu),a=n.objectStore(ru),l=this.cloudpilot.getDirtyPages(),c=this.cloudpilot.getMemory32();let f=0;if(!this.dirtyPages||!this.pages){const m=c.length>>>8;this.dirtyPages=new Uint8Array(l.length),this.pages=new Array(m);for(let b=0;b<m;b++)this.pages[b]=new Uint32Array(256)}const h={sessionId:this.sessionId,totalSize:c.length<<2};this.kvsService.kvs.snapshotIntegrityCheck&&da.debug&&(h.crc32=zR(new Uint8Array(c.buffer,c.byteOffset,c.byteLength))),a.put(h);for(let m=0;m<l.length;m++)if(this.dirtyPages[m]|=l[m],l[m]=0,0!==this.dirtyPages[m])for(let b=1;b<256&&!(i>=this.pages.length);b<<=1){if(this.dirtyPages[m]&b){const Z=jR(c.subarray(256*i,256*(i+1)));"number"==typeof Z?s.put(Z,[this.sessionId,i]):(this.pages[i].set(Z),s.put(this.pages[i],[this.sessionId,i])),o.increase(.5),f++}i++}else i+=8;return f}saveDirtyStorage(n,o,i){const s=this.cloudpilot.getCardDirtyPages(n.storageId),a=this.cloudpilot.getCardData(n.storageId);if(!a)return console.log(`seems ${n.name} was unmounted`),0;if(this.storageCardContext.assertOwnership(n.id,Er.cloudpilot),!s)throw new Error(`failed to retrieve dirty pages for card ${n.name}`);if(a.length!==n.size>>>2)throw new Error("card size mismatch");if(this.cardDirtyPages||(this.cardDirtyPages=new Uint8Array(s.length)),this.cardDirtyPages.length!==s.length)throw new Error("card size has changed without notification");let l=0,c=0,f=0;const h=o.objectStore(Tl),m=(a.length>>11)+(a.length%2048>0?1:0);for(let b=0;b<s.length;b++)if(this.cardDirtyPages[b]|=s[b],s[b]=0,0!==this.cardDirtyPages[b])for(let Z=1;Z<256&&!(l>=m);Z<<=1){if(this.cardDirtyPages[b]&Z){c>=this.cardPagePool.length&&this.cardPagePool.push(new Uint32Array(2048));const te=this.cardPagePool[c++];te.set(a.subarray(2048*l,2048*(l+1))),h.put(te,[n.id,l]),i.increase(4),f++}l++}else l+=8;return 8*f}saveSession(n){const o=n.objectStore(fc);if(this.cloudpilot.saveState()){const i=this.cloudpilot.getSavestate();this.state||(this.state=new Uint8Array(i.length)),this.state.set(i),o.put(this.state,this.sessionId)}else console.log("save state failed"),o.delete(this.sessionId)}assertSessionMatches(){if(this.emulationState.getCurrentSession()?.id!==this.sessionId)throw sP}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(nr),ue(dc),ue(zu),ue(Oh),ue(Pi),ue(Ze))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),fS=(()=>{var e;class t{constructor(n){this.zone=n,this.modalVisibilityChangeEvent=new so.j,this.modalActive=!1,this.update(),this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}isModalActive(){return this.modalActive}update(){const n=document.querySelectorAll("ion-alert, ion-modal").length>0;n!==this.modalActive&&this.zone.run(()=>{this.modalActive=n,this.modalVisibilityChangeEvent.dispatch(n)})}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Ze))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var lZ=C(2227),cZ=C.n(lZ);function pS(e){const t=(e>>>13)+(e%8192>0?1:0);return(t>>>3)+(t%8>0?1:0)}function aP(e,t){return Object.setPrototypeOf({GetCurrentEntryContent:()=>{const r=t.getPointer(e.GetCurrentEntryContent()),n=e.GetCurrentEntrySize();return r>0&&n>0?t.HEAPU8.subarray(r,r+n):void 0}},e)}let uZ=0;const lP=[ee.palmPilot,ee.pilot,ee.iii,ee.palmVx,ee.palmV,ee.palmVII,ee.palmVIIEZ,ee.palmVIIx,ee.iiixe,ee.iiix,ee.iiie,ee.m500,ee.m505,ee.m515,ee.m520,ee.iiic,ee.m100,ee.m105,ee.m125,ee.m130,ee.i705,ee.i710,ee.handera330,ee.handera330c,ee.pegS300,ee.pegS320,ee.pegS500c,ee.pegT400,ee.pegN600c,ee.pegT600c,ee.pegN700c,ee.pegT650c,ee.pegNR70,ee.acerS11,ee.lp168];function Ft(){return(e,t,r)=>{const n=r.value;return r.value=function(o,i){return this.guard(()=>n.call(this,o,i))},r}}class Ot{constructor(t){this.module=t,this.fatalErrorEvent=new so.j,this.pwmUpdateEvent=new so.j,this.proxyDisconnectEvent=new so.j,this.amIdead=!1,this.cloudpilot=new t.Cloudpilot,this.cloudpilot.RegisterPwmHandler(t.addFunction((r,n)=>this.pwmUpdateEvent.dispatch({frequency:r,dutyCycle:n}),"vdd")),this.cloudpilot.RegisterProxyDisconnectHandler(t.addFunction(r=>this.proxyDisconnectEvent.dispatch(t.UTF8ToString(r)),"vi")),this.transportIR=this.wrapTransport(this.cloudpilot.GetTransportIR()),this.transportSerial=this.wrapTransport(this.cloudpilot.GetTransportSerial())}static create(t){return(0,j.Z)(function*(){const r=uZ++;return new Ot(yield cZ()({print:n=>console.log(`${r}: ${n}`),printErr:n=>console.error(`${r}: ${n}`),..."string"==typeof t?{locateFile:()=>t}:{},..."function"==typeof t?{instantiateWasm:t}:{}}))})()}destroy(){this.module.destroy(this.cloudpilot)}hasFatalError(){return this.amIdead}getRomInfo(t){const r=this.copyIn(t),n=new this.module.RomInfo(r,t.length);let o;return n.IsValid()&&(o={cardVersion:n.CardVersion(),cardName:n.CardName(),romVersion:n.RomVersion(),romVersionString:n.RomVersionString(),supportedDevices:lP.filter(n.Supports.bind(n))}),this.cloudpilot.Free(r),this.module.destroy(n),o}initializeSession(t,r){const n=this.copyIn(t),o=this.cloudpilot.InitializeSession(n,t.length,r);return this.cloudpilot.Free(n),o}cyclesPerSecond(){return this.cloudpilot.GetCyclesPerSecond()}runEmulation(t){return this.cloudpilot.RunEmulation(t)}getFrame(){const t=this.cloudpilot.CopyFrame(),r=this.module.getPointer(t.GetBuffer());return{bpp:t.GetBpp(),bytesPerLine:t.GetBytesPerLine(),lines:t.GetLines(),lineWidth:t.GetLineWidth(),margin:t.GetMargin(),firstDirtyLine:t.GetFirstDirtyLine(),lastDirtyLine:t.GetLastDirtyLine(),hasChanges:t.GetHasChanges(),scaleX:t.GetScaleX(),scaleY:t.GetScaleY(),buffer:this.module.HEAPU8.subarray(r,r+t.GetBufferSize())}}isScreenDirty(){return this.cloudpilot.IsScreenDirty()}markScreenClean(){this.cloudpilot.MarkScreenClean()}minRamForDevice(t){return 1024*this.cloudpilot.MinMemoryForDevice(t)}framebufferSizeForDevice(t){return 1024*this.cloudpilot.FramebufferSizeForDevice(t)}totalMemorySizeForDevice(t){return 1024*this.cloudpilot.TotalMemoryForDevice(t)}queuePenMove(t,r){this.cloudpilot.QueuePenMove(t,r)}queuePenUp(){this.cloudpilot.QueuePenUp()}queueButtonDown(t){this.cloudpilot.QueueButtonDown(t)}queueButtonUp(t){this.cloudpilot.QueueButtonUp(t)}queueKeyboardEvent(t,r){this.cloudpilot.QueueKeyboardEvent(t,r)}isPowerOff(){return!!this.cloudpilot.IsPowerOff()}isUiInitialized(){return!!this.cloudpilot.IsUIInitialized()}isSetupComplete(){return!!this.cloudpilot.IsSetupComplete()}getOSVersion(){return this.cloudpilot.GetOSVersion()}reset(){this.cloudpilot.Reset()}resetNoExtensions(){this.cloudpilot.ResetNoExtensions()}resetHard(){this.cloudpilot.ResetHard()}installDb(t){const r=this.copyIn(t),n=this.cloudpilot.InstallDb(r,t.length);return this.cloudpilot.Free(r),n}getPalette2bitMapping(){return this.cloudpilot.GetPalette2bitMapping()}getMemory(){const t=this.module.getPointer(this.cloudpilot.GetMemoryPtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetMemorySize())}getMemory32(){let t=this.module.getPointer(this.cloudpilot.GetMemoryPtr());if(3&t)throw new Error("unaligned pointer");return t>>>=2,this.module.HEAPU32.subarray(t,t+(this.cloudpilot.GetMemorySize()>>>2))}getDirtyPages(){const t=this.module.getPointer(this.cloudpilot.GetDirtyPagesPtr()),r=this.cloudpilot.GetMemorySize();return this.module.HEAPU8.subarray(t,t+((r>>>13)+(r%8192==0?0:1)))}loadMemory(t){const r=this.getMemory32();if((()=>{if(t.length!==r.length||t.length<256)return!1;for(let o=256;o>0;o--){if(t[t.length-o]!==r[r.length-o])return!1;if(4294967295===r[r.length-o])break}return!0})())return r.set(t),!0;{const o=this.copyIn32(t),i=this.cloudpilot.ImportMemoryImage(o,t.length<<2);return this.cloudpilot.Free(o),i}}getRomImage(){const t=this.module.getPointer(this.cloudpilot.GetRomPtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetRomSize())}getSavestate(){const t=this.module.getPointer(this.cloudpilot.GetSavestatePtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetSavestateSize())}saveState(){return!!this.cloudpilot.SaveState()}loadState(t){const r=this.copyIn(t),n=this.cloudpilot.LoadState(r,t.length);return this.cloudpilot.Free(r),n}getHotsyncName(){return this.cloudpilot.GetHotsyncName()}setClockFactor(t){this.cloudpilot.SetClockFactor(t)}setHotsyncName(t){this.cloudpilot.SetHotsyncName(t)}backup(t){var r=this;return(0,j.Z)(function*(){const n=r.guard(()=>r.cloudpilot.StartBackup());try{return yield t(r.wrap(n))}finally{r.module.destroy(n)}})()}getArchive(t){const r=t.GetArchiveSize();return this.copyOut(t.GetArchivePtr(),r)}setClipboardIntegration(t){this.cloudpilot.SetClipboardIntegration(t)}getClipboardIntegration(){return this.cloudpilot.GetClipboardIntegration()}isSuspended(){return this.cloudpilot.IsSuspended()}getSuspendKind(){return this.cloudpilot.GetSuspendContext().GetKind()}cancelSuspend(){this.cloudpilot.GetSuspendContext().Cancel()}getSuspendContextClipboardCopy(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardCopy())}getSuspendContextClipboardPaste(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardPaste())}setNetworkRedirection(t){this.cloudpilot.SetNetworkRedirection(t)}getNetworkRedirection(){return this.cloudpilot.GetNetworkRedirection()}getSuspendContextNetworkConnect(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkConnect())}getSuspendContextNetworkRpc(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkRpc())}getSuspendContextSerialSync(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextSerialSync())}copyBuffer(t){return this.copyIn(t)}freeBuffer(t){this.cloudpilot.Free(t)}setHotsyncNameManagement(t){this.cloudpilot.SetHotsyncNameManagement(t)}resolveBuffer(t,r){const n=this.module.getPointer(t);return this.module.HEAPU8.subarray(n,n+r)}withZipfileWalker(t,r){var n=this;return(0,j.Z)(function*(){const o=n.guard(()=>{const i=n.copyIn(t),s=new n.module.ZipfileWalker(t.length,i);return n.cloudpilot.Free(i),s});try{return yield r(aP(n.wrap(o),n.module))}finally{n.module.destroy(o)}})()}withZipfileWalkerSync(t,r){const n=this.guard(()=>{const o=this.copyIn(t),i=new this.module.ZipfileWalker(t.length,o);return this.cloudpilot.Free(o),i});try{return r(this.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>this.copyOut(n.GetCurrentEntryContent(),n.GetCurrentEntrySize())},n)))}finally{this.module.destroy(n)}}serializeSessionImage(t){const r=new this.module.SessionImage,n=this.cloudpilot.Nullptr(),o=this.copyIn(t.rom),i=t.memory?this.copyIn(t.memory):n,s=void 0!==t.savestate?this.copyIn(t.savestate):n;let a=n,l=0;if(void 0!==t.metadata){const f=(new TextEncoder).encode(JSON.stringify(t.metadata));l=f.length,a=this.copyIn(f)}r.SetRomImage(o,t.rom.length),r.SetMemoryImage(i,t.memory?.length||0),r.SetDeviceId(t.deviceId),r.SetSavestate(s,t.savestate?.length||0),r.SetMetadata(a,l);const c=r.Serialize()?this.copyOut(r.GetSerializedImage(),r.GetSerializedImageSize()):void 0;return this.module.destroy(r),[o,i,s,a].forEach(f=>this.cloudpilot.Free(f)),c}deserializeSessionImage(t){if(!t)return;const r=new this.module.SessionImage,n=this.copyIn(t),o=(()=>{if(!r.Deserialize(n,t.length))return;const i=this.copyOut(r.GetRomImage(),r.GetRomImageSize()),s=this.copyOut(r.GetMemoryImage(),r.GetMemoryImageSize()),a=this.copyOut(r.GetSavestate(),r.GetSavestateSize()),l=r.GetDeviceId();if(!lP.includes(l))return void console.warn(`unsupported device ${l}`);let c;const f=this.copyOut(r.GetMetadata(),r.GetMetadataSize());if(f)try{c=JSON.parse((new TextDecoder).decode(f))}catch(h){console.warn("invalid metadata",h)}return{deviceId:l,rom:i,memory:s,savestate:a,metadata:c,version:r.GetVersion()}})();return this.module.destroy(r),this.cloudpilot.Free(n),o}launchAppByName(t){return this.cloudpilot.LaunchAppByName(t)}launchAppByDbHeader(t){if(t.length<32)return!1;const r=this.copyIn(t.subarray(0,32)),n=this.cloudpilot.LaunchAppByDbHeader(r,32);return this.cloudpilot.Free(r),n}deviceSupportsCardSize(t){return this.cloudpilot.DeviceSupportsCardSize(t)}clearExternalStorage(){this.cloudpilot.ClearExternalStorage()}allocateCard(t,r){return this.cloudpilot.AllocateCard(t,r>>>9)}decompressCard(t,r){const n=this.copyIn(r);let o;try{for(o=new this.module.GunzipContext(n,r.length,524288);0===o.GetState();)o.Continue();return-1===o.GetState()?(console.error(`gunzip failed: ${o.GetError()}`),!1):o.GetUncompressedSize()%512!=0?(console.error("failed to allocate card: invalid size of decompressed image"),!1):this.cloudpilot.AdoptCard(t,o.ReleaseUncompressedData(),o.GetUncompressedSize()>>>9)}finally{this.cloudpilot.Free(n),o&&this.module.destroy(o)}}getCardData(t){const r=this.module.getPointer(this.cloudpilot.GetCardData(t));if(0!==r)return this.module.HEAPU32.subarray(r>>>2,r+this.cloudpilot.GetCardSize(t)>>2)}getCardDirtyPages(t){const r=this.module.getPointer(this.cloudpilot.GetCardDirtyPages(t));if(0===r)return;const n=pS(this.cloudpilot.GetCardSize(t));return this.module.HEAPU8.subarray(r,r+n)}getMountedKey(){return this.cloudpilot.GetMountedKey()}mountCard(t){return this.cloudpilot.MountCard(t)}removeCard(t){return this.cloudpilot.RemoveCard(t)}remountCards(){this.cloudpilot.RemountCards()}getCardSupportLevel(t){return this.cloudpilot.GetSupportLevel(t)}loadSkin(t){const r=new this.module.SkinLoader(t);try{const n=this.module.getPointer(r.GetData());return 0===n?void 0:(new TextDecoder).decode(this.module.HEAPU8.subarray(n,n+r.GetSize()))}finally{this.module.destroy(r)}}getTransportIR(){return this.transportIR}getTransportSerial(){return this.transportSerial}guard(t){if(this.amIdead)throw new Error("cloudpilot instance is dead");try{return t()}catch(r){throw this.amIdead=!0,this.cloudpilot=void 0,this.fatalErrorEvent.dispatch(r instanceof Error?r:new Error("unknown error")),r}}copyIn(t){const r=this.cloudpilot.Malloc(t.length),n=this.module.getPointer(r);return this.module.HEAPU8.subarray(n,n+t.length).set(t),r}copyIn32(t){const r=this.cloudpilot.Malloc(t.length<<2),n=this.module.getPointer(r);return this.module.HEAPU32.subarray(n>>>2,(n>>>2)+t.length).set(t),r}copyOut(t,r){const n=this.module.getPointer(t);return n>0&&r>0?this.module.HEAPU8.subarray(n,n+r).slice():void 0}wrap(t){return new Proxy(t,{get:(r,n)=>{const o=r[n];return"function"!=typeof o?o:(...i)=>this.guard(()=>o.apply(r,i))}})}wrapTransport(t){const r=new so.j;return t.SetRequestTransferCallback(this.module.addFunction(()=>r.dispatch(),"v")),this.wrap(Object.setPrototypeOf({Receive:()=>{const n=t.RxBytesPending();return this.copyOut(t.Receive(),n)},Send:(n,o)=>{const i=n&&this.copyIn(n);t.Send(n?.length??0,i??this.cloudpilot.Nullptr(),o),i&&this.cloudpilot.Free(i)},frameCompleteEvent:r},t))}}oe([Ft()],Ot.prototype,"getRomInfo",null),oe([Ft()],Ot.prototype,"initializeSession",null),oe([Ft()],Ot.prototype,"cyclesPerSecond",null),oe([Ft()],Ot.prototype,"runEmulation",null),oe([Ft()],Ot.prototype,"getFrame",null),oe([Ft()],Ot.prototype,"isScreenDirty",null),oe([Ft()],Ot.prototype,"markScreenClean",null),oe([Ft()],Ot.prototype,"minRamForDevice",null),oe([Ft()],Ot.prototype,"framebufferSizeForDevice",null),oe([Ft()],Ot.prototype,"totalMemorySizeForDevice",null),oe([Ft()],Ot.prototype,"queuePenMove",null),oe([Ft()],Ot.prototype,"queuePenUp",null),oe([Ft()],Ot.prototype,"queueButtonDown",null),oe([Ft()],Ot.prototype,"queueButtonUp",null),oe([Ft()],Ot.prototype,"queueKeyboardEvent",null),oe([Ft()],Ot.prototype,"isPowerOff",null),oe([Ft()],Ot.prototype,"isUiInitialized",null),oe([Ft()],Ot.prototype,"isSetupComplete",null),oe([Ft()],Ot.prototype,"getOSVersion",null),oe([Ft()],Ot.prototype,"reset",null),oe([Ft()],Ot.prototype,"resetNoExtensions",null),oe([Ft()],Ot.prototype,"resetHard",null),oe([Ft()],Ot.prototype,"installDb",null),oe([Ft()],Ot.prototype,"getPalette2bitMapping",null),oe([Ft()],Ot.prototype,"getMemory",null),oe([Ft()],Ot.prototype,"getMemory32",null),oe([Ft()],Ot.prototype,"getDirtyPages",null),oe([Ft()],Ot.prototype,"loadMemory",null),oe([Ft()],Ot.prototype,"getRomImage",null),oe([Ft()],Ot.prototype,"getSavestate",null),oe([Ft()],Ot.prototype,"saveState",null),oe([Ft()],Ot.prototype,"loadState",null),oe([Ft()],Ot.prototype,"getHotsyncName",null),oe([Ft()],Ot.prototype,"setClockFactor",null),oe([Ft()],Ot.prototype,"setHotsyncName",null),oe([Ft()],Ot.prototype,"setClipboardIntegration",null),oe([Ft()],Ot.prototype,"getClipboardIntegration",null),oe([Ft()],Ot.prototype,"isSuspended",null),oe([Ft()],Ot.prototype,"getSuspendKind",null),oe([Ft()],Ot.prototype,"cancelSuspend",null),oe([Ft()],Ot.prototype,"getSuspendContextClipboardCopy",null),oe([Ft()],Ot.prototype,"getSuspendContextClipboardPaste",null),oe([Ft()],Ot.prototype,"setNetworkRedirection",null),oe([Ft()],Ot.prototype,"getNetworkRedirection",null),oe([Ft()],Ot.prototype,"getSuspendContextNetworkConnect",null),oe([Ft()],Ot.prototype,"getSuspendContextNetworkRpc",null),oe([Ft()],Ot.prototype,"getSuspendContextSerialSync",null),oe([Ft()],Ot.prototype,"copyBuffer",null),oe([Ft()],Ot.prototype,"freeBuffer",null),oe([Ft()],Ot.prototype,"setHotsyncNameManagement",null),oe([Ft()],Ot.prototype,"resolveBuffer",null),oe([Ft()],Ot.prototype,"serializeSessionImage",null),oe([Ft()],Ot.prototype,"deserializeSessionImage",null),oe([Ft()],Ot.prototype,"launchAppByName",null),oe([Ft()],Ot.prototype,"launchAppByDbHeader",null),oe([Ft()],Ot.prototype,"deviceSupportsCardSize",null),oe([Ft()],Ot.prototype,"clearExternalStorage",null),oe([Ft()],Ot.prototype,"allocateCard",null),oe([Ft()],Ot.prototype,"decompressCard",null),oe([Ft()],Ot.prototype,"getCardData",null),oe([Ft()],Ot.prototype,"getCardDirtyPages",null),oe([Ft()],Ot.prototype,"getMountedKey",null),oe([Ft()],Ot.prototype,"mountCard",null),oe([Ft()],Ot.prototype,"removeCard",null),oe([Ft()],Ot.prototype,"remountCards",null),oe([Ft()],Ot.prototype,"getCardSupportLevel",null),oe([Ft()],Ot.prototype,"loadSkin",null);const sv=new Error("permission denied");let hS=(()=>{var e;class t{constructor(n,o){this.alertController=n,this.alertService=o,this.clipboardContent="",this.lastClipboardReadAt=performance.now()}isSupported(){return!!navigator.clipboard?.readText&&!!navigator.clipboard?.writeText}handleSuspend(n){if(n.isSuspended())switch(n.getSuspendKind()){case 1:this.handleCopy(n);break;case 2:this.handlePaste(n)}}handleCopy(n){var o=this;return(0,j.Z)(function*(){const i=n.getSuspendContextClipboardCopy(),s=i.GetClipboardContent();try{return yield o.tryCopyDirect(s),void i.Resume()}catch(a){if(a===sv)return i.Cancel(),o.msgPermissionDenied()}try{yield o.tryCopyWithInteraction(s),i.Resume()}catch{yield o.msgCopyFailed(),i.Cancel()}})()}tryCopyDirect(n){var o=this;return(0,j.Z)(function*(){try{yield navigator.clipboard.writeText(n)}catch(i){throw(yield o.isPermissionDenied("clipboard-write"))?sv:i}})()}tryCopyWithInteraction(n){var o=this;return new Promise(function(){var i=(0,j.Z)(function*(s,a){try{const l=yield o.alertController.create({header:"Confirm Copy",message:"Please confirm that you want to copy to the host clipboard",backdropDismiss:!1,buttons:[{text:"Cancel",handler:()=>{l.dismiss(),s(!1)}},{text:"Copy",handler:(c=(0,j.Z)(function*(){l.dismiss();try{yield navigator.clipboard.writeText(n),s(!0)}catch(f){a(f)}}),function(){return c.apply(this,arguments)})}]});l.present()}catch(l){a(l)}var c});return function(s,a){return i.apply(this,arguments)}}())}handlePaste(n){var o=this;return(0,j.Z)(function*(){const i=yield o.tryPaste();n.getSuspendContextClipboardPaste().Resume(i??""),void 0!==i&&(o.clipboardContent=i,o.lastClipboardReadAt=performance.now())})()}tryPaste(){var n=this;return(0,j.Z)(function*(){if(performance.now()-n.lastClipboardReadAt<3e3)return n.clipboardContent;try{return yield n.tryPasteDirect()}catch(o){if(o===sv)return void(yield n.msgPermissionDenied())}try{return yield n.tryPasteWithInteraction()}catch{return void(yield n.msgPasteFailed())}})()}tryPasteDirect(){var n=this;return(0,j.Z)(function*(){try{return yield navigator.clipboard.readText()}catch(o){throw(yield n.isPermissionDenied("clipboard-read"))?sv:o}})()}tryPasteWithInteraction(){var n=this;return new Promise(function(){var o=(0,j.Z)(function*(i,s){try{const a=yield n.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard",backdropDismiss:!1,buttons:[{text:"Cancel",handler:()=>{a.dismiss(),i(void 0)}},{text:"Paste",handler:(l=(0,j.Z)(function*(){a.dismiss();try{i(yield navigator.clipboard.readText())}catch(c){s(c)}}),function(){return l.apply(this,arguments)})}]});a.present()}catch(a){s(a)}var l});return function(i,s){return o.apply(this,arguments)}}())}handlePasteSafari(n){var o=this;return(0,j.Z)(function*(){const i=yield o.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard.",backdropDismiss:!1,buttons:[{text:"Cancel",handler:()=>{i.dismiss(),n.Resume("")}},{text:"Paste",handler:(s=(0,j.Z)(function*(){try{o.clipboardContent=yield navigator.clipboard.readText(),o.lastClipboardReadAt=performance.now(),i.dismiss(),n.Resume(o.clipboardContent)}catch{i.dismiss(),yield o.alertService.errorMessage("Paste from host clipboard failed."),n.Resume("")}}),function(){return s.apply(this,arguments)})}]});var s;yield i.present()})()}isPermissionDenied(n){return(0,j.Z)(function*(){if(navigator.permissions)try{return"denied"===(yield navigator.permissions.query({name:n}))?.state}catch{return!1}return!1})()}msgPermissionDenied(){return this.alertService.errorMessage(`\n        CloudpilotEmu has no permission to access the clipboard. Please check your browser's settings\n        and grant the necessary permission to ${location.origin} .\n    `)}msgCopyFailed(){return this.alertService.errorMessage("Failed to copy to the host clipboard.")}msgPasteFailed(){return this.alertService.errorMessage("Failed to paste from the host clipboard.")}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(G0),ue(oo))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const fZ="https:"===window.location.protocol?8667:8666,pZ=/^[\da-z\-\.]+$/i,hZ=/^[\da-z\-\.]+:\d+$/i;function mS(e){if(!e)return;const t=window.location.protocol;if(e.match(pZ))return`${t}//${e}:${fZ}`;if(e.match(hZ))return`${t}//${e}`;try{const r=new URL(e);if("https:"===r.protocol||"http:"===r.protocol)return r.toString().replace(/\/+$/,"")}catch{}}function mZ(e){return void 0!==mS(e.value)?null:{proxyAddress:"invalid"}}let gZ=(()=>{var e;class t{constructor(n){this.kvs=n,this.onContinue=()=>{},this.onCancel=()=>{},this.origin=""}ngOnInit(){this.createFormGroup()}formKeyDown(n){"Enter"===n.key&&this.saveAndContinue()}saveAndContinue(){this.kvs.kvs.credentials={...this.kvs.kvs.credentials,[this.origin]:{username:this.formGroup.get("username")?.value??"",password:this.formGroup.get("password")?.value??""}},this.onContinue()}createFormGroup(){const n=this.kvs.kvs.credentials[this.origin];this.formGroup=new N_({username:new $o(n?.username??""),password:new $o(n?.password??"")})}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Pi))},e.\u0275cmp=Ye({type:e,selectors:[["app-credentials-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel",origin:"origin"},decls:22,vars:1,consts:[["slot","primary"],[3,"click"],["slot","secondary"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter username","formControlName","username"],["placeholder","Enter password","formControlName","password","type","password"]],template:function(n,o){1&n&&(z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),De(3,"Authenticate"),B(),z(4,"ion-buttons",0)(5,"ion-button",1),Be("click",function(){return o.saveAndContinue()}),De(6,"OK"),B()(),z(7,"ion-buttons",2)(8,"ion-button",1),Be("click",function(){return o.onCancel()}),De(9,"Cancel"),B()()()(),z(10,"ion-content",3)(11,"form",4),Be("keydown",function(s){return o.formKeyDown(s)}),z(12,"p"),De(13," The server requires authentication. "),B(),z(14,"ion-item",5)(15,"ion-label",6),De(16,"Username"),B(),He(17,"ion-input",7),B(),z(18,"ion-item",5)(19,"ion-label",6),De(20,"Password"),B(),He(21,"ion-input",8),B()()()),2&n&&(ge(11),Ee("formGroup",o.formGroup))},dependencies:[Ki,Xi,Qi,Ji,lc,Io,es,ts,ns,ac,sc,oc,ic,$a,Dl],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}"]}),t})(),cP=(()=>{var e;class t{constructor(n,o,i){this.loadingController=n,this.kvsService=o,this.modalController=i}fetch(n,o){var i=this;return(0,j.Z)(function*(){let s=o?.loaderDelay;const a=void 0===o?.timeout?5e3:o?.timeout,l=new(Qd())("string"==typeof n?n:n.url);let c,f,h=!1;for(;;)try{c||(c=yield i.loadingController.create({message:"Loading..."})),void 0!==s&&s>0&&void 0===f?f=window.setTimeout(()=>c?.present(),s):c.present();const m=i.kvsService.kvs.credentials[l.origin],b=new AbortController,Z=window.setTimeout(()=>b.abort(),a),te=yield fetch(n,{...i.requestInit(o),signal:b.signal,headers:{...o?.headers||{},...h&&m?{Authorization:"Basic "+btoa(`${m.username}:${m.password}`)}:{}}});if(clearTimeout(Z),401===te.status){if(!h&&m){h=!0;continue}if(c?.dismiss(),clearTimeout(f),s=0,c=void 0,s=void 0,h=!0,yield i.authenticate(l.origin))continue}return te}finally{c&&(yield c.dismiss()),clearTimeout(f)}})()}requestInit(n){if(!n)return;const{timeout:o,loaderDelay:i,...s}=n;return s}authenticate(n){var o=this;return(0,j.Z)(function*(){const i=yield new Promise(s=>o.modalController.create({component:gZ,backdropDismiss:!1,componentProps:{origin:n,onContinue:()=>s(!0),onCancel:()=>s(!1)}}).then(a=>a.present()));return o.modalController.dismiss(),i})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(ua),ue(Pi),ue(Cs))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),gS=(()=>{var e;class t{constructor(n,o,i,s){var a=this;this.kvsService=n,this.alertService=o,this.ngZone=i,this.fetchService=s,this.handleConnect=()=>this.mutex.runExclusive((0,j.Z)(function*(){a.socket&&a.disconnect(a.socket);const l=mS(a.kvsService.kvs.proxyServer);if(!l)return yield a.alertService.errorMessage(`Invalid proxy address: ${a.kvsService.kvs.proxyServer}`),void a.cloudpilot.getSuspendContextNetworkConnect().Cancel();const c=yield a.handshake(void 0,500);switch(c.status){case"failed":return void a.onSocketError(void 0);case"version_mismatch":return yield a.alertService.proxyVersionMismatchError(),void a.cancelSuspend();case"success":break;default:throw new Error("unreachable")}a.socket=new WebSocket(`${l.replace(/^http/,"ws")}/network-proxy/connect?token=${encodeURIComponent(c.token)}`),a.socket.binaryType="arraybuffer",a.bindListeners(a.socket),a.ngZone.run(()=>a.connectTimeoutHandle=setTimeout(a.onSocketError,5e3))})),this.onSocketOpen=()=>{if(this.cancelConnectTimeout(),!this.cloudpilot.isSuspended()||4!==this.cloudpilot.getSuspendKind())return console.error("ERROR: socket connected, but emulation is not waiting for connect"),void this.disconnect(this.socket);this.sessionId=lS(),this.cloudpilot.getSuspendContextNetworkConnect().Resume(this.sessionId),this.resumeEvent.dispatch()},this.onSocketMessage=l=>{if(!this.cloudpilot.isSuspended()||3!==this.cloudpilot.getSuspendKind())return void console.error("ERROR: socket received message, but emulation is not waiting for rpc");if(!(l.data instanceof ArrayBuffer))return console.error("ERROR: socket received a text frame"),this.disconnect(this.socket),this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),void this.cancelSuspend();const c=this.cloudpilot.copyBuffer(new Uint8Array(l.data));this.cloudpilot.getSuspendContextNetworkRpc().ReceiveResponse(c,l.data.byteLength),this.cloudpilot.freeBuffer(c),this.resumeEvent.dispatch()},this.onSocketError=l=>{this.cancelConnectTimeout(),this.cloudpilot.isSuspended()&&4===this.cloudpilot.getSuspendKind()?this.alertService.errorMessage("Failed to connect to proxy."):this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(this.socket),this.cancelSuspend(),console.error("ERROR: socket error",l)},this.onSocketClose=()=>{this.cancelConnectTimeout(),this.alertService.errorMessage("Connection to proxy closed unexpectedly"),this.unbindListeners(this.socket),this.cancelSuspend(),this.sessionId="",this.socket=void 0},this.onProxyDisconnect=l=>{l!==this.sessionId||!this.socket||this.ngZone.run(()=>this.disconnect(this.socket))},this.resumeEvent=new so.j,this.mutex=new Ba,this.sessionId=""}initialize(n){this.cloudpilot=n,n.proxyDisconnectEvent.addHandler(this.onProxyDisconnect)}reset(){this.socket&&this.disconnect(this.socket)}handleSuspend(){if(this.cloudpilot&&this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:this.handleConnect();break;case 3:this.handleRpc()}}isConnected(){return!!this.socket}handshake(n=this.kvsService.kvs.proxyServer,o=-1){var i=this;return(0,j.Z)(function*(){const s=mS(n);if(!s)return{status:"failed"};try{const a=yield i.fetchService.fetch(`${s}/network-proxy/handshake`,{method:"POST",loaderDelay:o});if(!a.ok)return{status:"failed"};const l=yield a.json();return l.version<3||l.compatVersion>3?{status:"version_mismatch"}:{status:"success",token:l.token}}catch{return{status:"failed"}}})()}handleRpc(){const n=this.cloudpilot.getSuspendContextNetworkRpc();this.socket?this.socket.send(this.cloudpilot.resolveBuffer(n.GetRequestData(),n.GetRequestSize())):n.Cancel()}disconnect(n){n&&(this.unbindListeners(n),n.close()),this.sessionId="",this.socket=void 0}bindListeners(n){this.ngZone.run(()=>{n.addEventListener("open",this.onSocketOpen),n.addEventListener("error",this.onSocketError),n.addEventListener("close",this.onSocketClose)}),this.ngZone.runOutsideAngular(()=>n.addEventListener("message",this.onSocketMessage))}unbindListeners(n){n&&(n.removeEventListener("message",this.onSocketMessage),n.removeEventListener("open",this.onSocketOpen),n.removeEventListener("error",this.onSocketError),n.removeEventListener("close",this.onSocketClose))}cancelSuspend(){if(this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:case 3:this.cloudpilot.cancelSuspend()}}cancelConnectTimeout(){void 0!==this.connectTimeoutHandle&&clearTimeout(this.connectTimeoutHandle),this.connectTimeoutHandle=void 0}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Pi),ue(oo),ue(Ze),ue(cP))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),dP=(()=>{var e;class t{constructor(){this.buttons=new Map}reset(n){this.cloudpilot=n,this.buttons.clear(),[6,7].forEach(o=>n.queueButtonUp(o))}engage(n){this.cloudpilot&&(this.buttons.has(n)?this.buttons.get(n).timer=0:(this.buttons.set(n,{button:n,timer:0}),this.cloudpilot?.queueButtonDown(n)))}tick(n){if(this.cloudpilot)for(const[o,i]of this.buttons)i.timer+=1e3*n,i.timer>250&&(this.cloudpilot.queueButtonUp(o),this.buttons.delete(o))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),fP=(()=>{var e;class t{constructor(){this.hasRenderedPromise=new Promise(n=>this.hasRenderedResolve=n)}notifyHasRendered(){this.hasRenderedResolve()}hasRendered(){return this.hasRenderedPromise}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const CZ=C.p+"wasm/cloudpilot_web-cde399495aaa6b1e.wasm";let Va=(()=>{var e;class t{constructor(){this.cloudpilot=Ot.create(CZ)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var SZ=C(3097),If=C.n(SZ);const _S=524288;class vS{constructor(t,r){if(this.module=t,this.nativeContext=new t.CreateZipContext,!this.nativeContext.Initialize(r))throw new Error(`failed to initialize context: ${this.nativeContext.GetLastError()}`);const n=new t.FSTools;this.chunkBufferPtr=n.Malloc(_S),t.destroy(n)}static create(t,r){return(0,j.Z)(function*(){return new vS(yield If()({print:n=>console.log(n),printErr:n=>console.error(n),instantiateWasm:r}),t)})()}addEntry(t,r){var n=this;return(0,j.Z)(function*(){if(!n.nativeContext.AddEntry(t))throw new Error(`failed to add entry: ${n.nativeContext.GetLastError()}`);const o=n.module.getPointer(n.chunkBufferPtr);for(let i=0;i<r.length;i+=_S){i>0&&(yield new Promise(l=>setTimeout(l,0)));const s=Math.min(r.length-i,_S);if(n.module.HEAPU8.subarray(o,o+s).set(r.subarray(i,i+s)),!n.nativeContext.WriteData(n.chunkBufferPtr,s))throw new Error(`failed to add ${s} bytes to zip: ${n.nativeContext.GetLastError()}`)}})()}getContent(){const t=this.module.getPointer(this.nativeContext.GetZipData());if(!t)throw new Error(`unable to obtain zip data: ${this.nativeContext.GetLastError()}`);return this.module.HEAPU8.subarray(t,t+this.nativeContext.GetZipDataSize())}}class yS{constructor(t){this.module=t,this.nativeContext=new t.MkfsContext}static create(t){return(0,j.Z)(function*(){return new yS(yield If()({print:r=>console.log(r),printErr:r=>console.error(r),instantiateWasm:t}))})()}mkfs(t){return this.nativeContext.Mkfs(t,"card")}getImage(){const t=this.nativeContext.GetImageSize(),r=this.module.getPointer(this.nativeContext.GetImage());if(0!==t&&0!==r)return this.module.HEAPU32.subarray(r>>>2,r+t>>>2)}}class bS{constructor(t,r){this.module=t,this.result=0,this.nativeContext=new t.FsckContext(r>>>9)}static create(t,r){return(0,j.Z)(function*(){const n=yield If()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:r});return new bS(n,t)})()}getImageData(){const t=this.nativeContext.GetImageSize(),r=this.module.getPointer(this.nativeContext.GetImage());return this.module.HEAPU32.subarray(r>>>2,r+t>>2)}getDirtyPages(){const t=this.module.getPointer(this.nativeContext.GetDirtyPages()),r=pS(this.nativeContext.GetImageSize());return this.module.HEAPU8.subarray(t,t+r)}fsck(){if(0!==this.result)return this.result;try{return this.result=this.nativeContext.Fsck(),this.result}catch(t){return console.warn("fsck failed",t),this.result=4,this.result}}getResult(){return this.result}}class av{constructor(t,r){this.module=t,r&&this.initialize(r)}static create(t,r){return(0,j.Z)(function*(){const n=yield If()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:t});return new av(n,r)})()}initialize(t){this.nativeContext&&this.module.destroy(this.nativeContext);const r=new this.module.FSTools;this.bufferPtr&&r.Free(this.bufferPtr),this.bufferPtr=r.Malloc(t.length);const n=this.module.getPointer(this.bufferPtr);this.module.HEAPU8.subarray(n,n+t.length).set(t),this.module.destroy(r),this.nativeContext=new this.module.GunzipContext(this.bufferPtr,t.length,524288)}gunzip(){var t=this;return(0,j.Z)(function*(){const r=t.getNativeContext();for(;0===r.Continue();)yield new Promise(n=>setTimeout(n,0));return-1!==r.GetState()||(console.error(`gunzip failed: ${r.GetError()}`),!1)})()}getDecompressedData(){const t=this.getNativeContext(),r=t.GetUncompressedSize(),n=t.GetUncompressedData(),o=this.module.getPointer(n);return this.module.HEAPU8.subarray(o,o+r)}getNativeContext(){if(!this.nativeContext)throw new Error("gunzip context not initialized");return this.nativeContext}}class CS{constructor(t,r){this.module=t,void 0!==r&&this.initialize(r)}static create(t,r){return(0,j.Z)(function*(){const n=yield If()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:t});return new CS(n,r)})()}initialize(t){this.nativeContext&&this.module.destroy(this.nativeContext);const r=new this.module.FSTools;this.bufferPtr&&r.Free(this.bufferPtr),this.bufferPtr=r.Malloc(t),this.uncompressedDataSize=t,this.module.destroy(r),this.nativeContext=new this.module.GzipContext(this.bufferPtr,t,524288)}getBuffer(){if(!this.bufferPtr||void 0===this.uncompressedDataSize)throw new Error("gzip context not initialized");const t=this.module.getPointer(this.bufferPtr);return this.module.HEAPU8.subarray(t,t+this.uncompressedDataSize)}setFilename(t){return this.getNativeContext().SetFilename(t),this}setMtime(t){return this.getNativeContext().SetMtime(t),this}gzip(){var t=this;return(0,j.Z)(function*(){const r=t.getNativeContext();for(r.Continue();1===r.Continue();)yield new Promise(n=>setTimeout(n,0));return-1!==r.GetState()||(console.error(`gzip failed: ${r.GetError()}`),!1)})()}getGzipData(){const t=this.getNativeContext(),r=t.GetGzipSize(),n=t.GetGzipData(),o=this.module.getPointer(n);return this.module.HEAPU8.subarray(o,o+r)}getNativeContext(){if(!this.nativeContext)throw new Error("gzip context not initialized");return this.nativeContext}}const pP=new Map;class xZ{constructor(t="fstools_web.wasm"){let r=pP.get(t);r||(r=function wZ(e){const t=WebAssembly.compileStreaming?WebAssembly.compileStreaming(fetch(e)):fetch(e).then(r=>r.arrayBuffer()).then(r=>WebAssembly.compile(r));return function(){var r=(0,j.Z)(function*(n,o){return o(yield WebAssembly.instantiate(yield t,n))});return function(n,o){return r.apply(this,arguments)}}()}(t),pP.set(t,r)),this.instantiante=r}mkfs(t){var r=this;return(0,j.Z)(function*(){const n=yield yS.create(r.instantiante);if(n.mkfs(t))return n.getImage()})()}gunzip(t){var r=this;return(0,j.Z)(function*(){const n=yield av.create(r.instantiante,t);if(yield n.gunzip())return n.getDecompressedData()})()}createGunzipContext(t){return av.create(this.instantiante,t)}createGzipContext(t){return CS.create(this.instantiante,t)}createFsckContext(t){return bS.create(t,this.instantiante)}createZipContext(t){return vS.create(t,this.instantiante)}createZipfileWalker(t){var r=this;return(0,j.Z)(function*(){const n=yield If()({print:a=>console.log(a),printErr:a=>console.error(a),instantiateWasm:r.instantiante}),o=new n.FSTools,i=o.Malloc(t.length),s=n.getPointer(i);return n.HEAPU8.subarray(s,s+t.length).set(t),n.destroy(o),aP(new n.ZipfileWalker(t.length,i),n)})()}}var mr=function(e){return e.dirty="dirty",e.clean="clean",e.unformatted="unformatted",e.unfixable="unfixable",e}(mr||{});function xf(e,t){let r=e,n=1;for(;t(r);)r=`${e} (${n++})`;return r}function Tf(e){const t=new Date;return`${e}_${t.getFullYear()}${(t.getMonth()+1).toString().padStart(2,"0")}${t.getDate().toString().padStart(2,"0")}-${t.getHours().toString().padStart(2,"0")}${t.getMinutes().toString().padStart(2,"0")}${t.getSeconds().toString().padStart(2,"0")}`}function SS(e){return`${Tf(e.name)}.img`}function hP(e,t){return`backup_${Tf(e.name)}${t?"_with_rom":""}.zip`}function wS(e,t=3){return 0===e.length?"":1===e.length?e[0]:`${e.slice(0,e.length>t?t:e.length-1).join(", ")} and ${e.length>t?e.length-t+" more files":e[e.length-1]}`}var Rr=function(e){return e.portrait="portrait",e.landscape90="landscape90",e.landscape270="landscape270",e.portrait180="portrait180",e}(Rr||{});function lv(e){const{name:t,hotsyncName:r,osVersion:n,dontManageHotsyncName:o,speed:i,deviceOrientation:s}=e;return{name:t,hotsyncName:r,osVersion:n,dontManageHotsyncName:o,speed:i,deviceOrientation:s}}const kZ=C.p+"wasm/fstools_web-9237f90a406faac8.wasm";let cv=(()=>{var e;class t extends xZ{constructor(){super(kZ)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function RZ(e,t){1&e&&(z(0,"p",10),De(1," ERROR: URL must be served via HTTPS. "),B())}function PZ(e){if(!e.value)return{url:"URL empty"};let t;try{t=new(Qd())(e.value)}catch{return{url:"URL invalid"}}return"https:"===location.protocol&&"https:"!==t.protocol?{url:"mixed content"}:null}let OZ=(()=>{var e;class t{constructor(){this.onContinue=()=>{},this.onCancel=()=>{}}ngOnInit(){this.createFormGroup()}formKeyDown(n){"Enter"===n.key&&this.continue()}continue(){this.onContinue(new(Qd())(this.formGroup.get("url")?.value).toString())}get isMixedContent(){const n=this.formGroup.get("url")?.value;if(!n)return!1;try{const o=new(Qd())(n);return"https:"===location.protocol&&"https:"!==o.protocol}catch{}return!1}createFormGroup(){this.formGroup=new N_({url:new $o("",PZ)})}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ye({type:e,selectors:[["app-remote-url-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel"},decls:21,vars:3,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter URL","formControlName","url"],["class","error",4,"ngIf"],[1,"error"]],template:function(n,o){1&n&&(z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),De(3,"Enter download URL"),B(),z(4,"ion-buttons",0)(5,"ion-button",1),Be("click",function(){return o.continue()}),De(6,"OK"),B()(),z(7,"ion-buttons",2)(8,"ion-button",3),Be("click",function(){return o.onCancel()}),De(9,"Cancel"),B()()()(),z(10,"ion-content",4)(11,"form",5),Be("keydown",function(s){return o.formKeyDown(s)}),z(12,"p"),De(13," Please enter the URL from which to download: "),B(),z(14,"ion-item",6)(15,"ion-label",7),De(16,"URL"),B(),He(17,"ion-input",8),B(),Ut(18,RZ,2,0,"p",9),z(19,"p"),De(20," Note that the remote server needs to support the CORS protocol. "),B()()()),2&n&&(ge(5),Ee("disabled",o.formGroup.invalid),ge(6),Ee("formGroup",o.formGroup),ge(7),Ee("ngIf",o.isMixedContent))},dependencies:[Lo,Ki,Xi,Qi,Ji,lc,Io,es,ts,ns,ac,sc,oc,ic,$a,Dl],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}.error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]}),t})(),iu=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f){this.storageService=n,this.loadingController=o,this.actionSheetController=i,this.kvsService=s,this.modalController=a,this.alertService=l,this.fetchService=c,this.cloudpilotService=f}openFile(n){this.openFilesImpl(!1,o=>{o.length>0&&n(o[0])})}openFiles(n){this.openFilesImpl(!0,n)}openFromDrop(n,o){"drop"!==n.type||!n.dataTransfer?.files||o(Array.from(n.dataTransfer.files).map(this.readFile.bind(this)))}emergencySaveSession(n){var o=this;return(0,j.Z)(function*(){const i=yield o.cloudpilotService.cloudpilot,s=yield o.loadingController.create({message:"Exporting..."});s.style.zIndex="10000000",yield s.present();try{const a=i.getRomImage().slice(),l=i.getMemory().slice(),c=i.saveState()?i.getSavestate().slice():void 0;if(i.framebufferSizeForDevice(n.device)<0)throw new Error(`invalid device ID ${n.device}`);const h={deviceId:n.device,metadata:lv(n),rom:a,memory:l,savestate:c},m=(yield o.cloudpilotService.cloudpilot).serializeSessionImage(h);m&&o.saveFile(SS(n),m)}finally{s.dismiss()}})()}saveFile(n,o,i="application/octet-stream"){const s=new Blob([o],{type:i}),a=URL.createObjectURL(s),l=document.createElement("a");l.href=a,l.download=n,l.click()}openUrl(n,o){var i=this;return(0,j.Z)(function*(){let s;try{s=new(Qd())(n)}catch{return void(yield i.alertService.errorMessage(`Invalid URL: ${n}`))}try{const a=yield i.fetchService.fetch(n);if(!a.ok)throw new Error("request failed");const l=yield i.loadingController.create({message:"Loading..."});l.present();const c=a.arrayBuffer().then(f=>new Uint8Array(f));return c.finally(()=>l.dismiss()),void o({name:s.pathname.replace(/.*\//,""),getContent:()=>c})}catch{yield i.alertService.errorMessage(`Download from ${n} failed.`)}})()}serializeSession(n){var o=this;return(0,j.Z)(function*(){const[i,s,a]=yield o.storageService.loadSession(n,!1);if(!i)throw new Error(`invalid ROM ${n.rom}`);const l={deviceId:n.device,metadata:lv(n),rom:i,memory:s,savestate:a};return(yield o.cloudpilotService.cloudpilot).serializeSessionImage(l)})()}openFilesImpl(n,o){var i=this;return(0,j.Z)(function*(){i.kvsService.kvs.enableRemoteInstall?(yield i.actionSheetController.create({header:"What source do you want to open?",buttons:[{text:"Local files",handler:()=>i.openFilesLocal(n,o)},{text:"File on remote server",handler:()=>i.queryAndOpenFileRemote(o)},{text:"Cancel"}]})).present():i.openFilesLocal(n,o)})()}queryAndOpenFileRemote(n){var o=this;return(0,j.Z)(function*(){let i;try{i=yield new Promise((s,a)=>o.modalController.create({component:OZ,backdropDismiss:!1,componentProps:{onContinue:s,onCancel:a}}).then(l=>l.present()))}catch{return}finally{o.modalController.dismiss()}yield o.openUrl(i,s=>n([s]))})()}openFilesLocal(n,o){var i=this;const s=Ph||X_;s&&this.input&&document.body.removeChild(this.input),this.input=document.createElement("input"),this.input.multiple=n,this.input.type="file",xo&&(this.input.accept="application/octet-stream"),this.input.addEventListener("change",function(){var a=(0,j.Z)(function*(l){const c=l.target;c?.files&&o(Array.from(c.files).map(i.readFile.bind(i)))});return function(l){return a.apply(this,arguments)}}()),s&&(this.input.style.display="none",document.body.appendChild(this.input)),this.input.click()}readFile(n){let o;const i=function(){var s=(0,j.Z)(function*(){return o||(o=new Promise((a,l)=>{const c=new FileReader;c.onload=()=>a(new Uint8Array(c.result)),c.onerror=()=>{console.warn(c.error),l(c.error)},c.readAsArrayBuffer(n)}),o)});return function(){return s.apply(this,arguments)}}();return{name:n.name,getContent:i}}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(nr),ue(ua),ue(Mh),ue(Pi),ue(Cs),ue(oo),ue(cP),ue(Va))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class mP extends Error{constructor(t){super(t)}}let pc=(()=>{var e;class t{constructor(n,o,i,s,a,l){this.cloudpilotService=n,this.storageService=o,this.loadingController=i,this.fsTools=s,this.alertService=a,this.fileService=l,this.sessions=[],this.loading=!0,this.updateMutex=new Ba,this.updateSessionsFromStorage().then(()=>this.loading=!1),this.storageService.sessionChangeEvent.addHandler(this.updateSessionsFromStorage.bind(this))}isLoading(){return this.loading}addSessionFromImage(n,o,i={}){var s=this;return(0,j.Z)(function*(){const a=yield s.loadingController.create({message:"Importing..."});yield a.present();try{return s.doAddSessionFromImage(n,o,i)}finally{yield a.dismiss()}})()}addSessionsFromArchive(n){var o=this;return(0,j.Z)(function*(){const i=yield o.loadingController.create({message:"Importing..."});yield i.present();try{const s=yield o.cloudpilotService.cloudpilot,a=yield o.fsTools.createZipfileWalker(n);if(-1===a.GetState())return void(yield o.alertService.errorMessage("Import failed: unable to read zip file."));const l=a.GetTotalEntries(),c=new Set(o.sessions.map(b=>b.name));let f=1,h=!1;const m=[];for(;0===a.GetState();)try{i.message=`Importing ${f++}/${l}...`;const b=/\.(bin|img)$/i.test(a.GetCurrentEntryName())?s.deserializeSessionImage(a.GetCurrentEntryContent()):void 0;if(!b)throw new mP(`${a.GetCurrentEntryName()} is not a valid session.`);const Z=xf(b.metadata?.name??a.GetCurrentEntryName(),te=>c.has(te));yield o.doAddSessionFromImage(b,Z,b.metadata)}catch(b){if(!(b instanceof mP))throw b;m.push(a.GetCurrentEntryName()),h||(h=yield o.alertService.messageWithChoice("Error",b.message,"Skip further errors",h,{},"Continue"))}finally{a.Next()}m.length<=3&&m.length>0?yield o.alertService.errorMessage(`The following files could not be imported: <br><br>${m.join("<br>")}`):m.length>3&&(yield o.alertService.errorMessage(`\n                        The following files could not be imported: <br><br>${m.slice(0,3).join("<br>")}\n                        <br><br>\n                        and ${m.length-3} more files.\n                    `))}catch(s){yield i.dismiss(),yield o.alertService.errorMessage(`Failed to import sessions: ${s?.message??"unknown error"}.`)}finally{i.dismiss()}})()}addSessionFromRom(n,o,i,s={}){var a=this;return(0,j.Z)(function*(){const l={hotsyncName:"",dontManageHotsyncName:!1,speed:1,deviceOrientation:Rr.portrait,...s,id:-1,name:o,device:i,ram:(yield a.cloudpilotService.cloudpilot).minRamForDevice(i)/1024/1024,rom:""},c=yield a.loadingController.create({message:"Importing..."});yield c.present();const f=yield a.storageService.addSession(l,n);return yield a.updateSessionsFromStorage(),yield c.dismiss(),f})()}getSessions(){return this.sessions}deleteSession(n){var o=this;return(0,j.Z)(function*(){yield o.storageService.deleteSession(n)})()}updateSession(n){var o=this;return(0,j.Z)(function*(){yield o.storageService.updateSession(n)})()}saveSession(n){var o=this;return(0,j.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."});yield i.present();try{const s=yield o.serializeSession(n);s?o.fileService.saveFile(SS(n),s):(yield i.dismiss(),o.alertService.errorMessage("Failed to save session."))}finally{i.dismiss()}})()}saveSessions(n){var o=this;return(0,j.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."});yield i.present();const s=yield o.fsTools.createZipContext(0),a=new Set;try{let l=1;for(const c of n){i.message=`Exporting ${l++}/${n.length}...`;const f=yield o.serializeSession(c);if(f){const h=xf(c.name.replace(/[\/\\]/,"_").substring(0,200),m=>a.has(m));a.add(h),yield s.addEntry(h+".img",f)}else yield o.alertService.errorMessage(`Failed  to export session '${c.name}'.`,"Continue")}o.fileService.saveFile(function TZ(){return`${Tf("sessions")}.zip`}(),s.getContent())}catch(l){o.alertService.errorMessage(`Failed to export sessions: ${l.message??"unknown error"}`)}finally{i.dismiss()}})()}emergencySaveSession(n){var o=this;return(0,j.Z)(function*(){const i=yield o.cloudpilotService.cloudpilot,s=yield o.loadingController.create({message:"Exporting..."});s.style.zIndex="10000000",yield s.present();try{const a=i.getRomImage().slice(),l=i.getMemory().slice(),c=i.saveState()?i.getSavestate().slice():void 0;if(i.framebufferSizeForDevice(n.device)<0)throw new Error(`invalid device ID ${n.device}`);const h={deviceId:n.device,metadata:lv(n),rom:a,memory:l,savestate:c},m=(yield o.cloudpilotService.cloudpilot).serializeSessionImage(h);m&&o.fileService.saveFile(SS(n),m)}finally{s.dismiss()}})()}serializeSession(n){var o=this;return(0,j.Z)(function*(){const[i,s,a]=yield o.storageService.loadSession(n,!1);if(!i)throw new Error(`invalid ROM ${n.rom}`);const l={deviceId:n.device,metadata:lv(n),rom:i,memory:s,savestate:a};return(yield o.cloudpilotService.cloudpilot).serializeSessionImage(l)})()}updateSessionsFromStorage(){var n=this;return(0,j.Z)(function*(){n.sessions=yield n.updateMutex.runExclusive((0,j.Z)(function*(){return(yield n.storageService.getAllSessions()).sort((o,i)=>o.name.localeCompare(i.name))}))})()}doAddSessionFromImage(n,o,i={}){var s=this;return(0,j.Z)(function*(){const a={hotsyncName:n.metadata?.hotsyncName,dontManageHotsyncName:!1,speed:1,deviceOrientation:Rr.portrait,...i,id:-1,name:o,device:n.deviceId,ram:(yield s.cloudpilotService.cloudpilot).minRamForDevice(n.deviceId)/1024/1024,rom:"",osVersion:n?.metadata?.osVersion},l=yield s.storageService.addSession(a,n.rom,n.memory,n.savestate);return yield s.updateSessionsFromStorage(),l})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Va),ue(nr),ue(ua),ue(cv),ue(oo),ue(iu))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var FZ=C(8886),NZ=C.n(FZ),Ml=function(e){return e[e.success=0]="success",e[e.zipfileError=1]="zipfileError",e[e.ioError=2]="ioError",e[e.cardFull=3]="cardFull",e}(Ml||{}),Yu=function(e){return e[e.success=0]="success",e[e.ioError=1]="ioError",e[e.cardFull=2]="cardFull",e}(Yu||{});function LZ(e){return{readonly:0!=(1&e),hidden:0!=(2&e),system:0!=(4&e)}}function gP(e,t){const r=e.GetName(),n=e.GetModifiedTS();return{path:t,name:r,size:e.GetSize(),lastModifiedTS:n,lastModifiedLocalDate:new Date(1e3*n).toLocaleDateString(),isDirectory:e.IsDirectory(),attributes:LZ(e.GetAttributes())}}class ES{constructor(t){this.module=t,this.vfsNative=new t.Vfs}static create(t){return(0,j.Z)(function*(){return new ES(yield NZ()({print:r=>console.log(r),printErr:r=>console.error(r),...void 0===t?{}:{locateFile:()=>t}}))})()}allocateImage(t){this.vfsNative.AllocateImage(t>>>9)}mountImage(t){return this.vfsNative.MountImage(t)}unmountImage(t){this.vfsNative.UnmountImage(t)}getPendingImage(){const t=this.module.getPointer(this.vfsNative.GetPendingImage()),r=this.vfsNative.GetPendingImageSize();if(0!==t&&0!==r)return this.module.HEAPU32.subarray(t>>>2,t+r>>>2)}getImageInSlot(t){const r=this.module.getPointer(this.vfsNative.GetImage(t)),n=this.vfsNative.GetSize(t);if(0!==r&&0!==n)return this.module.HEAPU32.subarray(r>>>2,r+n>>>2)}getDirtyPagesForSlot(t){const r=this.module.getPointer(this.vfsNative.GetDirtyPages(t));if(0===r)return;const n=pS(this.vfsNative.GetSize(t));return this.module.HEAPU8.subarray(r,r+n)}readdir(t){const r=new this.module.ReaddirContext(t);try{const n=[];for(;0===r.GetStatus();){const o=r.GetEntry();n.push(gP(o,`${t.replace(/\/*$/,"")}/${o.GetName()}`)),r.Next()}if(2===r.GetStatus()){console.warn(`readdir failed: ${r.GetErrorDescription()}`);const o=r.GetError();return{error:0===o?2:o,reason:r.GetErrorDescription()}}return{error:0,entries:n}}finally{this.module.destroy(r)}}rename(t,r){return this.vfsNative.RenameFile(t,r)}chmod(t,r){let n=0,o=0;const i=(s,a)=>{void 0!==s&&(o|=a,s&&(n|=a))};return i(r.hidden,2),i(r.readonly,1),i(r.system,4),this.vfsNative.ChmodFile(t,n,o)}stat(t){const r=this.vfsNative.StatFile(t);return 0!==r?{result:r,entry:void 0}:{entry:gP(this.vfsNative.GetEntry(),t),result:r}}bytesFree(t){return this.vfsNative.BytesFree(t)}bytesTotal(t){return this.vfsNative.BytesTotal(t)}readFile(t){if(!this.vfsNative.ReadFile(t))return;const r=this.module.getPointer(this.vfsNative.GetCurrentFileContent()),n=this.vfsNative.GetCurrentFileSize(),o=this.module.HEAPU8.subarray(r,r+n).slice();return this.vfsNative.ReleaseCurrentFile(),o}unlinkFile(t){return this.vfsNative.UnlinkFile(t)}mkdir(t){return this.vfsNative.Mkdir(t)}switchSlot(t){this.vfsNative.SwitchSlot(t)}createZipArchive({files:t,directories:r,prefix:n}){var o=this;return(0,j.Z)(function*(){const i=new o.module.ExportZipContext(n,25),s=[];try{for(t&&t.forEach(f=>i.AddFile(f)),r&&r.forEach(f=>i.AddDirectory(f));2!==i.GetState();){switch(i.Continue()){case-2:case-1:s.push(i.GetErrorItem())}2!==i.GetState()&&(yield new Promise(f=>setTimeout(f,0)))}let a;const l=o.module.getPointer(i.GetZipContent()),c=i.GetZipSize();return 0!==l&&0!==c&&(a=o.module.HEAPU8.subarray(l,l+c).slice()),{archive:a,failedItems:s}}finally{o.module.destroy(i)}})()}deleteRecursive(t){var r=this;return(0,j.Z)(function*(){const n=new r.module.DeleteRecursiveContext(25);try{for(t.forEach(o=>n.AddFile(o));1===n.Continue();)yield new Promise(o=>setTimeout(o,0));return 2===n.GetState()?{success:!0}:{success:!1,failingItem:n.GetFailingPath()}}finally{r.module.destroy(n)}})()}writeFile(t,r){const n=this.copyIn(r);try{return this.vfsNative.WriteFile(t,r.length,n)}finally{this.vfsNative.Free(n)}}unzipArchive(t,r,n){var o=this;return(0,j.Z)(function*(){const i=o.copyIn(r),s=new o.module.UnzipContext(25,t,i,r.length),a=l=>({result:l,entriesTotal:s.GetEntriesTotal(),entriesSuccess:s.GetEntriesSuccess()});try{for(;;)switch(yield new Promise(c=>setTimeout(c,0)),s.GetState()){case 1:return a(Ml.success);case-3:return a(Ml.cardFull);case-1:return a(Ml.ioError);case-2:return a(Ml.zipfileError);case 2:(yield n.onFileCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;case 4:(yield n.onDirectoryCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;default:s.Continue()}}finally{o.module.destroy(s),o.vfsNative.Free(i)}})()}paste(t,r,n,o,i){var s=this;return(0,j.Z)(function*(){const a=new s.module.PasteContext(25,t,r);n.forEach(l=>a.AddFile(l)),a.SetDeleteAfterCopy("cut"===o);try{for(;;)switch(yield new Promise(c=>setTimeout(c,0)),a.GetState()){case 1:return Yu.success;case-2:return Yu.cardFull;case-1:return Yu.ioError;case 2:(yield i.onFileCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;case 4:(yield i.onDirectoryCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;default:a.Continue()}}finally{s.module.destroy(a)}})()}copyIn(t){const r=this.vfsNative.Malloc(t.length),n=this.module.getPointer(r);return this.module.HEAPU8.subarray(n,n+t.length).set(t),r}}var $Z=C(307),_P=C.n($Z);function vP(e){return 0===e.length?e:e[0].toUpperCase()+e.substring(1)}const BZ=C.p+"wasm/vfs_web-65d4c4c58f79c339.wasm";let Ku=(()=>{var e;class t{constructor(n,o,i,s,a){this.storageService=n,this.storageCardContext=o,this.fileService=i,this.loadingController=s,this.alertService=a,this.onReleaseCard=new so.j,this.mountedCards=new Array(2),this.primarySlot=0,this.vfs=ES.create(BZ),this.directoryCache=new Map,this.bytesFree=0,this.bytesTotal=0,this.clipboard=void 0,this.clipboardSet=new Set,this.vfs.then(l=>this.vfsInstance=l)}setStorageCardService(n){this.storageCardService=n,n.mountCardEvent.addHandler(this.invalidateClipboardForCard.bind(this)),n.deleteCardEvent.addHandler(this.invalidateClipboardForCard.bind(this))}normalizePath(n){return("/"+n).replace(/\/{2,}/g,"/").replace(/\/*$/,"")}splitPath(n){return this.normalizePath(n).replace(/^\/+/,"").split("/")}dirname(n){return this.normalizePath(n).replace(/\/[^\/]*$/,"")}isFilenameValid(n){return void 0===n||!/[\/\\]/.test(n)}isEntryInClipboard(n){if(this.clipboard&&this.clipboard.storageId===this.primaryCard?.storageId)return this.clipboardSet.has(n.path)?this.clipboard.operation:void 0}activateCard(n){var o=this;return(0,j.Z)(function*(){if(o.primaryCard?.id!==n){if(o.secondaryCard?.id===n)return o.primarySlot=o.secondarySlot,void(yield o.activatePrimaryCard());throw new Error(`card ${n} not mounted in VFS`)}})()}mountCardUnchecked(n,o,i){var s=this;return(0,j.Z)(function*(){const a=yield s.storageService.getCard(n);if(!a)throw new Error(`no card with id ${n}`);if(s.primaryCard?.id===n||s.secondaryCard?.id===n)throw new Error(`card ${n} already mounted in VFS`);s.storageCardContext.claim(n,Er.vfs),s.primaryCard&&s.primaryCard.storageId===s.clipboard?.storageId&&(s.primarySlot=s.secondarySlot),s.primaryCard&&(yield s.releaseCard(s.primaryCard.id));const l=yield s.vfs;l.allocateImage(a.size);const c=l.getPendingImage();if(!c)throw new Error("failed to allocate image");return i?c.set(i):yield s.storageService.loadCardData(n,c,Er.vfs),l.mountImage(s.primarySlot)?(s.primaryCard=a,yield s.activatePrimaryCard(),!0):(s.storageCardContext.release(n,Er.vfs),!1)})()}releaseCard(n){var o=this;return(0,j.Z)(function*(){let i;if(o.primaryCard?.id===n)i=o.primarySlot;else{if(o.secondaryCard?.id!==n)return;i=o.secondarySlot}(yield o.vfs).unmountImage(i),o.mountedCards[i]=void 0,o.storageCardContext.release(n,Er.vfs),o.onReleaseCard.dispatch(n)})()}readdir(n){if(!this.vfsInstance)return[];const o=this.normalizePath(n);if(!this.directoryCache.has(o)){const i=this.vfsInstance.readdir(n);this.directoryCache.set(o,0===i.error?i.entries:[])}return this.directoryCache.get(o)||[]}updateFileEntry(n,o){var i=this;return(0,j.Z)(function*(){const s=yield i.vfs;if(n=i.normalizePath(n),!i.isFilenameValid(o.name))return void(yield i.error("The provided file name is invalid."));const{result:a,entry:l}=s.stat(n);if(0===a)if(void 0===o.attributes||_P()(o.attributes,l.attributes)||0===(i.directoryCache.delete(i.dirname(n)),s.chmod(n,o.attributes))){if(void 0!==o.name&&o.name!==l.name)switch(i.directoryCache.delete(i.dirname(n)),s.rename(n,`${i.dirname(n)}/${o.name}`)){case 0:break;case 6:return void(yield i.error("The provided file name is invalid."));default:return void(yield i.fatalError("Unable to write the updated file attributes."))}yield i.sync()}else yield i.fatalError("Unable to write the updated file attributes.");else yield i.error(`The path ${n} is invalid. This is a bug in Cloudpilot.`)})()}saveFile(n){var o=this;return(0,j.Z)(function*(){const i=yield o.loadingController.create({message:"Preparing file..."});yield i.present();try{const a=(yield o.vfs).readFile(n.path);if(!a)return void(yield o.alertService.errorMessage(`Could not read file '${n.name}'.`));o.fileService.saveFile(n.name,a)}finally{yield i.dismiss()}})()}archiveFiles(n,o){var i=this;return(0,j.Z)(function*(){if(0===n.length||!i.primaryCard)return;const s=yield i.loadingController.create({message:"Creating archive..."});yield s.present();try{const a=yield i.vfs,l=n.filter(b=>b.isDirectory).map(b=>i.normalizePath(b.path)),c=n.filter(b=>!b.isDirectory).map(b=>i.normalizePath(b.path)),f=1===n.length?`${n[0].name}.zip`:function AZ(e){return`files_${Tf(e.name)}.zip`}(i.primaryCard),{archive:h,failedItems:m}=yield a.createZipArchive({directories:l,files:c,prefix:o});yield s.dismiss(),m.length>0&&(m.length<=3?yield i.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${m.join("<br>")}`):yield i.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${m.slice(0,3).join("<br>")}<br><br> and ${m.length-3} other file`)),h&&i.fileService.saveFile(f,h)}finally{yield s.dismiss()}})()}unlinkEntry(n){var o=this;return(0,j.Z)(function*(){if(n.isDirectory)return;const s=(yield o.vfs).unlinkFile(n.path);if(0!==s)return console.error(`failed to unlink ${n.path}: ${s}`),void(yield o.error(`Failed to delete: ${n.path}`));yield o.updateBytesFree(),yield o.sync(),o.directoryCache.delete(o.dirname(n.path))})()}deleteRecursive(n){var o=this;return(0,j.Z)(function*(){const i=n.map(a=>o.normalizePath(a.path)),s=yield o.loadingController.create({message:"Deleting..."});yield s.present();try{const l=yield(yield o.vfs).deleteRecursive(i);if(!l.success)return yield s.dismiss(),void(yield o.fatalError(`Failed to delete ${l.failingItem}`));yield o.updateBytesFree(),yield o.sync(),o.directoryCache.clear()}finally{yield s.dismiss()}})()}mkdir(n){var o=this;return(0,j.Z)(function*(){switch((yield o.vfs).mkdir(n)){case 6:return void(yield o.alertService.errorMessage("Invalid name."));case 7:return void(yield o.alertService.errorMessage("No space left on card."));case 8:return void(yield o.alertService.errorMessage("Name already taken."));case 0:break;default:return void(yield o.error(`Failed to create ${n}.`))}yield o.updateBytesFree(),yield o.sync(),o.directoryCache.delete(o.dirname(n))})()}getBytesFree(){return this.bytesFree}getBytesTotal(){return this.bytesTotal}isClipboardPopulated(){if(!this.clipboard||!this.storageCardService)return!1;const n=this.storageCardService.getAllCards().find(o=>o.storageId===this.clipboard?.storageId);return!!n&&(n.status===mr.clean||n.status===mr.dirty&&!!n.dontFsckAutomatically)}invalidateClipboardForCard(n){this.clipboard?.storageId===n.storageId&&(this.clipboard=void 0,this.clipboardSet.clear())}copyToClipboard(n,o,i){this.primaryCard&&(this.clipboard&&this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)),this.clipboard={operation:i,prefix:this.normalizePath(n),storageId:this.primaryCard.storageId,items:o.map(s=>({name:s,path:this.normalizePath(`${n}/${s}`)}))},this.clipboardSet.clear(),this.clipboard.items.map(s=>s.path).forEach(s=>this.clipboardSet.add(s)),this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)))}unpackArchive(n,o){var i=this;return(0,j.Z)(function*(){const s=yield i.loadingController.create({message:"Extracting..."});yield s.present();try{const{entriesTotal:a,entriesSuccess:l,result:c}=yield i.unpackArchiveUnchecked(n,o);let f,h;switch(yield s.dismiss(),c){case Ml.success:f="The archive was extracted successfully, but some entries were skipped.",h="Skipped entries";break;case Ml.ioError:return void(yield i.fatalError("There was an error writing to the card."));case Ml.cardFull:f="No space left on card.",h="No space left";break;case Ml.zipfileError:f="There was an error reading from the archive.",h="Error reading archive";break;default:throw new Error("unreachable")}const m=a-l,b=Z=>Z>1?`${Z} entries`:"one entry";a>0&&m===a&&(yield i.alertService.message(h,`\n                    ${f}\n                    <br><br>\n                    The archive contains ${b(a)}, but none could be unpacked.\n                `)),m>0&&l>0&&(yield i.alertService.message(h,`\n                    ${f}\n                    <br><br>\n                    ${vP(b(l))} unpacked succesfully, but ${b(m)} could not be unpacked.\n                `))}finally{s.dismiss()}})()}paste(n){var o=this;return(0,j.Z)(function*(){if(!o.isClipboardPopulated())return;const i=yield o.loadingController.create({message:"Pasting files..."});yield i.present();try{const s=yield o.pasteUnchecked(n);switch(yield i.dismiss(),s){case Yu.cardFull:yield o.alertService.message("No space left","No space left on card.");break;case Yu.ioError:return void(yield o.fatalError("There was an error copying files to the card."))}}catch(s){yield o.alertService.errorMessage(s instanceof Error?s.message:"Unknown error.")}finally{i.dismiss()}})()}addFiles(n,o){var i=this;return(0,j.Z)(function*(){if(0===n.length)return;const s=yield i.loadingController.create({message:" Adding files"});yield s.present();try{const a=yield i.addFilesUnchecked(n,o);yield s.dismiss();const l=c=>c>1?`${c} entries`:"one file";a.length===n.length?yield i.alertService.message("Skipped files","No files were added to the card."):0!==a.length&&(yield i.alertService.message("Skipped files",`Successfully added ${l(n.length-a.length)} to card. ${vP(l(a.length))} could not be added.\n                `))}finally{s.dismiss()}})()}addFilesUnchecked(n,o){var i=this;return(0,j.Z)(function*(){const s=i.readdir(o),a=[],l=yield i.vfs;let c=!1,f=!1,h=!1,m=!1;e:for(let b=0;b<n.length;b++){const Z=n[b],te=s.find(Ie=>Ie.name===Z.name);if(te&&te.isDirectory){if(!h){const{overwrite:Ae,rememberChoice:bt}=yield i.overwriteFileDialog(Z.name,"directory");m=Ae,h=bt}let Ie=!0;if(m&&(Ie=!(yield l.deleteRecursive([i.normalizePath(`${o}/${Z.name}`)])).success),Ie){a.push(Z.name);continue}}if(te&&!te.isDirectory){if(!c){const{overwrite:Ie,rememberChoice:Ae}=yield i.overwriteFileDialog(Z.name,"file");f=Ie,c=Ae}if(!f){a.push(Z.name);continue}}let _e;try{_e=yield Z.getContent()}catch(Ie){console.warn(Ie),a.push(Z.name),yield i.alertService.errorMessage(`Unable to open ${Z.name}`);continue}switch(l.writeFile(i.normalizePath(`${o}/${Z.name}`),_e)){case 3:yield i.alertService.errorMessage("Card full."),a.push(...n.slice(b).map(Ie=>Ie.name));break e;case 4:throw yield i.fatalError("Unable to write file."),new Error;case 0:break;default:a.push(Z.name)}}return yield i.updateBytesFree(),yield i.sync(),i.directoryCache.delete(i.normalizePath(o)),a})()}collisionHandlers(){var n=this;let o=!1,i=!1,s=!1,a=!1;return{onFileCollision:(l=(0,j.Z)(function*(c){if(i)return o;const{overwrite:f,rememberChoice:h}=yield n.overwriteFileDialog(c.replace(/^\d:/,""),"file");return o=f,i=h,o}),function(f){return l.apply(this,arguments)}),onDirectoryCollision:function(){var l=(0,j.Z)(function*(c){if(a)return s;const{overwrite:f,rememberChoice:h}=yield n.overwriteFileDialog(c.replace(/^\d:/,""),"directory");return s=f,a=h,s});return function(f){return l.apply(this,arguments)}}()};var l}unpackArchiveUnchecked(n,o){var i=this;return(0,j.Z)(function*(){const a=yield(yield i.vfs).unzipArchive(i.normalizePath(o),n,{...i.collisionHandlers(),onInvalidEntry:(l=(0,j.Z)(function*(c){yield i.alertService.message("Invalid entry",`Could not extract ${c}`,{},"Continue")}),function(f){return l.apply(this,arguments)})});var l;return a.result!==Ml.ioError&&(yield i.updateBytesFree(),yield i.sync(),i.directoryCache.clear()),a})()}pasteUnchecked(n){var o=this;return(0,j.Z)(function*(){if(!o.clipboard||!o.primaryCard)throw new Error("invalid state for paste");const i=yield o.mountClipboard(),a=yield(yield o.vfs).paste(`${o.primarySlot}:${o.normalizePath(n)}`,`${i}:${o.normalizePath(o.clipboard.prefix)}`,o.clipboard.items.map(l=>l.name),o.clipboard.operation,o.collisionHandlers());return a===Yu.ioError||(yield o.updateBytesFree(),yield o.sync(o.primarySlot),i!==o.primarySlot&&(yield o.sync(i)),o.directoryCache.clear(),"cut"===o.clipboard.operation&&(o.clipboard=void 0,o.clipboardSet.clear())),a})()}mountClipboard(){var n=this;return(0,j.Z)(function*(){if(!n.clipboard||!n.primaryCard||!n.storageCardService)throw new Error("invalid state for paste");if(n.clipboard.storageId===n.primaryCard.storageId)return n.primarySlot;if(n.secondaryCard&&n.clipboard.storageId===n.secondaryCard.storageId)return n.secondarySlot;n.secondaryCard&&(yield n.releaseCard(n.secondaryCard.id));const o=n.storageCardService.getAllCards().find(a=>a.storageId===n.clipboard?.storageId);if(!o)throw new Error("invalid storage card in clipboard");const i=yield n.vfs;i.allocateImage(o.size);const s=i.getPendingImage();if(!s)throw new Error("failed to allocate image");if(n.storageCardContext.claim(o.id,Er.vfs),yield n.storageService.loadCardData(o.id,s,Er.vfs),!i.mountImage(n.secondarySlot))throw n.storageCardContext.release(o.id,Er.vfs),new Error("unable to mount card");return n.secondaryCard=o,n.secondarySlot})()}overwriteFileDialog(n,o){var i=this;return(0,j.Z)(function*(){let s=!1;const a=yield i.alertService.messageWithChoice("File collision","file"===o?`Do you want to overwrite the existing file ${n}?`:`\n                     Do you want to overwrite the existing directory ${n}?\n                     <br><br>\n                     WARNING: All files in this directory will be lost.\n                `,"Remember choice",!1,{Yes:()=>s=!0},"No");return{overwrite:s,rememberChoice:a}})()}error(n){var o=this;return(0,j.Z)(function*(){yield o.alertService.errorMessage(n)})()}fatalError(n){var o=this;return(0,j.Z)(function*(){o.primaryCard&&(yield o.storageService.updateStorageCardPartial(o.primaryCard.id,{status:mr.dirty}),yield o.releaseCard(o.primaryCard.id),o.alertService.errorMessage(`${n}\n        <br><br>\n        No changes have been written, and the card has been unmounted to prevent damage to the file system.\n        `))})()}sync(n=this.primarySlot){var o=this;return(0,j.Z)(function*(){const i=o.mountedCards[n];if(!i)return;const s=yield o.vfs,a=s.getImageInSlot(n),l=s.getDirtyPagesForSlot(n);!a||!l||(yield o.storageService.updateCardData(i.id,a,l,Er.vfs),l.fill(0))})()}activatePrimaryCard(){var n=this;return(0,j.Z)(function*(){const o=yield n.vfs;o.switchSlot(n.primarySlot),n.bytesFree=o.bytesFree(n.primarySlot),n.bytesTotal=o.bytesTotal(n.primarySlot),n.directoryCache.clear()})()}updateBytesFree(){var n=this;return(0,j.Z)(function*(){n.bytesFree=(yield n.vfs).bytesFree(n.primarySlot)})()}get secondarySlot(){return 1-this.primarySlot}get primaryCard(){return this.mountedCards[this.primarySlot]}set primaryCard(n){this.mountedCards[this.primarySlot]=n}get secondaryCard(){return this.mountedCards[this.secondarySlot]}set secondaryCard(n){this.mountedCards[this.secondarySlot]=n}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(nr),ue(Oh),ue(iu),ue(ua),ue(oo))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var Yo=function(e){return e[e.mb4=0]="mb4",e[e.mb8=1]="mb8",e[e.mb16=2]="mb16",e[e.mb32=3]="mb32",e[e.mb64=4]="mb64",e[e.mb128=5]="mb128",e}(Yo||{});class dv extends Error{constructor(t){super(t)}}function yP(){return lS().replace(/-/g,"")}let Mf=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f,h,m,b,Z){this.sessionService=n,this.storageService=o,this.emulationStateService=i,this.cloudpilotService=s,this.loadingController=a,this.snapshotService=l,this.alertService=c,this.errorService=f,this.fileService=h,this.vfsService=m,this.storageCardContext=b,this.fstools=Z,this.mountCardEvent=new so.j,this.deleteCardEvent=new so.j,this.loading=!0,this.cards=[],this.updateMutex=new Ba,this.vfsService.setStorageCardService(this),this.updateCardsFromDB().then(()=>this.loading=!1),o.storageCardChangeEvent.addHandler(()=>this.updateCardsFromDB())}getAllCards(){return this.cards}createEmptyCard(n,o,i){var s=this;return(0,j.Z)(function*(){const a=yield s.loadingController.create({message:"Formatting..."});try{yield a.present();const l=yield s.fstools.mkfs(function VZ(e){switch(e){case Yo.mb4:return 4;case Yo.mb8:return 8;case Yo.mb16:return 16;case Yo.mb32:return 32;case Yo.mb64:return 64;case Yo.mb128:return 128;default:throw new Error(`bad card size ${e}`)}}(o));if(!l)throw new Error("failed to create image");const c={storageId:yP(),name:n,size:4*l.length,status:mr.clean,dontFsckAutomatically:i};return yield s.storageService.importStorageCard(c,l)}finally{a.dismiss()}})()}createCardFromImage(n,o,i){var s=this;return(0,j.Z)(function*(){const a=yield s.loadingController.create({message:"Importing..."});try{yield a.present(),yield s.doCreateCardFromImage(n,o,i)}finally{a.dismiss()}})()}onEmulatorStop(){const n=this.emulationStateService.getCurrentSession()?.mountedCard;void 0!==n&&this.storageCardContext.release(n,Er.cloudpilot)}loadCardInEmulator(n,o){var i=this;return(0,j.Z)(function*(){const s=yield i.storageService.getCard(n);if(!s)throw new Error(`no card with id ${n}`);yield i.vfsService.releaseCard(n);const a=yield i.cloudpilotService.cloudpilot;if(a.getMountedKey())throw new Error("attempt to mount a card while another card is mounted");if(!a.allocateCard(s.storageId,s.size))throw new Error("failed to allocate card");const l=a.getCardData(s.storageId);if(!l)throw new Error("failed to access card data");return i.storageCardContext.claim(n,Er.cloudpilot),o?l.set(o):yield i.storageService.loadCardData(s.id,l,Er.cloudpilot),s})()}ejectCurrentCard(){var n=this;return(0,j.Z)(function*(){const o=n.emulationStateService.getCurrentSession();if(!o)throw new Error("no running session");const i=o?.mountedCard;if(void 0===i)throw new Error("no mounted card");const s=yield n.storageService.getCard(i);if(!s)throw new Error(`no card with id ${i}`);yield n.storageService.updateStorageCardPartial(i,{status:mr.dirty}),yield n.snapshotService.waitForPendingSnapshot(),yield n.snapshotService.triggerSnapshot(),yield n.storageService.updateSessionPartial(o.id,{mountedCard:void 0}),(yield n.cloudpilotService.cloudpilot).removeCard(s.storageId),n.snapshotService.resetCard(),n.storageCardContext.release(i,Er.cloudpilot)})()}checkCard(n){var o=this;return(0,j.Z)(function*(){const i=o.mountedInSession(n.id);if(i){let a=!1;if(yield o.alertService.message("Card is attached",`This card needs to be ejected from session '${i.name}' before it can be checked.`,{"Eject now":()=>a=!0},"Cancel"),!a)return;yield o.ejectCard(n.id)}const s=yield o.executeFsckAndUpdateCard(n.id);switch(s.getResult()){case 1:return void o.alertService.cardIsClean();case 3:return void o.alertService.cardHasNoValidFileSystem();case 4:o.alertService.cardHasUncorrectableErrors();break;case 2:{let a=!1;return yield o.alertService.message("Filesystem errors",`The filesystem on this card contains errors${n.dontFsckAutomatically?"":"  that need to be fixed before it can be used"}. Do you want to fix them now?`,{"Fix now":()=>a=!0},"Cancel"),void(a?yield o.applyFsckResult(n.id,s):o.storageCardContext.release(n.id,Er.fstools))}}})()}insertCard(n){return this.checkAndClaimCard(n,"insert")}browseCard(n){var o=this;return(0,j.Z)(function*(){if(o.storageCardContext.getOwner(n.id)===Er.vfs)return yield o.vfsService.activateCard(n.id),!0;const i=o.mountedInSession(n.id);if(i){let s=!1;if(yield o.alertService.message("Card is attached",`This card needs to be ejected from session '${i.name}' before it can be browsed.`,{"Eject now":()=>s=!0},"Cancel"),!s)return!1;yield o.ejectCard(n.id)}return o.checkAndClaimCard(n.id,"vfs")})()}updateCard(n,o){var i=this;return(0,j.Z)(function*(){const s=yield i.storageService.getCard(n);if(!s)throw new Error(`no card with id ${n}`);return!o.dontFsckAutomatically&&s.dontFsckAutomatically&&(o.status=mr.dirty),i.storageService.updateStorageCardPartial(n,o)})()}deleteCard(n){var o=this;return(0,j.Z)(function*(){const i=yield o.loadingController.create({message:"Deleting..."});yield i.present();try{const s=o.cards.find(a=>a.id===n);yield o.vfsService.releaseCard(n),yield o.ejectCard(n),yield o.storageService.deleteStorageCard(n),s&&o.deleteCardEvent.dispatch(s)}finally{i.dismiss()}})()}saveCard(n,o,i){var s=this;return(0,j.Z)(function*(){const a=yield s.getCard(n);if(!a)throw new Error(`no card with id ${n}`);const l=yield s.loadingController.create({message:"Exporting..."});let c;try{yield l.present(),c=yield s.getCardData(a,i?o:void 0)}finally{l.dismiss()}c&&s.fileService.saveFile(i?`${o}.gz`:o,c)})()}saveCards(n){var o=this;return(0,j.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."}),s=yield o.fstools.createZipContext(0);try{yield i.present();const a=new Set,l=yield o.fstools.createGzipContext();let c=0;for(const f of n){c++;const h=yield o.getCard(f);if(!h)continue;i.message=`Exporting ${c}/${n.length}...`;const m=xf(h.name,Z=>a.has(Z));a.add(m);const b=yield o.getCardData(h,m,l);b&&(yield s.addEntry(`${m}.img.gz`,b))}}catch(a){yield i.dismiss(),yield o.alertService.errorMessage(`Failed to export card images: ${a?.message??"unknown error"}`)}finally{i.dismiss()}o.fileService.saveFile(function MZ(){return`${Tf("cards")}.zip`}(),s.getContent())})()}getCard(n){var o=this;return(0,j.Z)(function*(){return o.storageService.getCard(n)})()}mountedInSession(n){return this.sessionService.getSessions().find(o=>o.mountedCard===n)}isLoading(){return this.loading}addAllCardsFromArchive(n){var o=this;return(0,j.Z)(function*(){const i=/\.(bin|img)(|\.gz)$/i,s=xo?"\n                This can be caused by either a corrupted image or zip file,\n                or by a Safari browser bug triggered by a low memory condition.\n                <br><br>\n                Please force close and reopen the app after a few seconds and try again. If the import\n                keeps failing, please unpack the archive and import the cards manually.\n            ":"",a=yield o.loadingController.create({message:"Importing..."});try{yield a.present();const l=yield o.cloudpilotService.cloudpilot,c=yield o.fstools.createZipfileWalker(n);if(-1===c.GetState())return void(yield o.alertService.errorMessage("Import failed: unable to read zip file."));const f=c.GetTotalEntries(),h=new Set((yield o.getAllCards()).map(_e=>_e.name)),m=yield o.fstools.createGunzipContext();let b=1,Z=!1;const te=[];for(;0===c.GetState();){a.message=`Importing ${b++}/${f}...`;let _e=c.GetCurrentEntryName();try{if(!i.test(_e))throw new dv(`${_e} has the wrong suffix to be considered as a card image.`);let Ie=c.GetCurrentEntryContent();if(_e.endsWith(".gz")&&Ie&&(m.initialize(Ie),Ie=(yield m.gunzip())?m.getDecompressedData():void 0,_e=_e.substring(0,_e.length-3)),void 0===Ie)throw new dv(`Failed to extract ${_e}. ${s}`);if(0===l.getCardSupportLevel(Ie.length))throw new dv(`${_e} is not a valid card image.`);const Ae=xf(_e.replace(i,""),bt=>h.has(bt));yield o.doCreateCardFromImage(Ae,Ie,!1,!0)}catch(Ie){if(!(Ie instanceof dv))throw Ie;te.push(_e),Z||(Z=yield o.alertService.messageWithChoice("Error",Ie.message,"Skip further errors",Z,{},"Continue"))}finally{c.Next()}}te.length<=3&&te.length>0?yield o.alertService.errorMessage(`The following files could not be imported: <br><br>${te.join("<br>")}`):te.length>3&&(yield o.alertService.errorMessage(`\n                        The following files could not be imported: <br><br>${te.slice(0,3).join("<br>")}\n                        <br><br>\n                        and ${te.length-3} more files.\n                    `))}catch(l){yield a.dismiss(),yield o.alertService.errorMessage(`Failed to import card images: ${l?.message??"unknown error"}<br><br>${s}`)}finally{a.dismiss()}})()}doCreateCardFromImage(n,o,i,s=!1){var a=this;return(0,j.Z)(function*(){const l={storageId:yP(),name:n,size:o.length,status:s?mr.dirty:mr.clean,dontFsckAutomatically:i},c=new Uint32Array(o.buffer,o.byteOffset,o.byteLength>>>2);if(s||i)yield a.storageService.importStorageCard(l,c);else{const[f,h]=yield a.fsckNewCard(c,l);yield a.storageService.importStorageCard(h,f)}})()}getCardData(n,o,i){var s=this;return(0,j.Z)(function*(){let a;if(void 0!==o&&(i=i??(yield s.fstools.createGzipContext())).initialize(n.size),i){const f=i.getBuffer();a=new Uint32Array(f.buffer,f.byteOffset,f.byteLength>>2)}const l=s.mountedInSession(n.id);let c;return l&&l.id===s.emulationStateService.getCurrentSession()?.id&&(yield s.snapshotService.waitForPendingSnapshot(),yield s.snapshotService.triggerSnapshot(),c=(yield s.cloudpilotService.cloudpilot).getCardData(n.storageId),c&&(a?a.set(c):a=c)),c||(a||(a=new Uint32Array(n.size>>>2)),yield s.storageService.loadCardData(n.id,a,s.storageCardContext.getOwner(n.id))),i&&o?(i.setFilename(o).setMtime(Math.floor(Date.now()/1e3)),(yield i.gzip())?i.getGzipData():void(yield s.alertService.errorMessage("Failed to compress card image."))):new Uint8Array(a.buffer,a.byteOffset,a.byteLength)})()}updateCardsFromDB(){var n=this;return(0,j.Z)(function*(){n.cards=yield n.updateMutex.runExclusive((0,j.Z)(function*(){return(yield n.storageService.getAllStorageCards()).sort((o,i)=>o.name.localeCompare(i.name))}))})()}cardIsMounted(n){var o=this;return(0,j.Z)(function*(){return(yield o.storageService.getAllSessions()).some(s=>s.mountedCard===n)})()}checkAndClaimCard(n,o){var i=this;return(0,j.Z)(function*(){if(yield i.cardIsMounted(n))throw new Error("card already mounted");let s=yield i.getCard(n);if(!s)throw new Error(`no card with id ${n}`);let a,l=!0,c=!1;if(!s.dontFsckAutomatically){if(s.status===mr.dirty){if(a=yield i.executeFsckAndUpdateCard(n),2===a.getResult()){if(l=!1,yield i.alertService.message("Filesystem errors",`The filesystem on this card contains errors that have to fixed before it can be ${"insert"===o?"inserted":"browsed"}. Do you want to fix them now?`,{"Fix now":()=>l=!0},"Cancel"),!l)return i.storageCardContext.release(n,Er.fstools),!1;yield i.applyFsckResult(s.id,a)}if(s=yield i.getCard(n),!s)throw new Error(`no card with id ${n}`)}switch(s.status){case mr.clean:break;case mr.unformatted:if("vfs"===o)return yield i.alertService.message("Card unformatted","This card is unformatted and cannot be browsed. Insert it into a device and format it."),!1;case mr.dirty:return yield i.alertService.message("Card requires check",`This card needs to be checked before it can be ${"insert"===o?"inserted":"browsed"}.`),!1;case mr.unfixable:if(l=!1,c=!0,yield i.alertService.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors. Writing could cause further damage. Do you want to insert it nevertheless?",{"Insert card":()=>l=!0},"Cancel"),!l)return!1;break;default:throw new Error("unreachable: bad card status")}}try{"insert"===o?(yield i.vfsService.releaseCard(n),yield i.mountCardInEmulator(n,a?.getImageData())):(yield i.mountCardForBrowsing(n,c,a?.getImageData()))||(yield i.alertService.message("Failed to mount card","The card could not be mounted for browsing."))}catch(f){return i.errorService.fatalBug(f instanceof Error?f.message:"mount failed"),!1}return!0})()}executeFsckAndUpdateCard(n){var o=this;return(0,j.Z)(function*(){const i=yield o.loadingController.create({message:"Checking card..."});try{if(yield i.present(),yield o.cardIsMounted(n))throw new Error("attempt to fsck a mounted card");const s=yield o.storageService.getCard(n);if(!s)throw new Error(`no card with id ${n}`);yield o.vfsService.releaseCard(n),o.storageCardContext.claim(n,Er.fstools);const a=yield o.fstools.createFsckContext(s.size);switch(yield o.storageService.loadCardData(s.id,a.getImageData(),Er.fstools),a.fsck()){case 1:yield o.storageService.updateStorageCardPartial(n,{status:mr.clean}),o.storageCardContext.release(n,Er.fstools);break;case 3:yield o.storageService.updateStorageCardPartial(n,{status:mr.unformatted}),o.storageCardContext.release(n,Er.fstools);break;case 2:yield o.storageService.updateStorageCardPartial(n,{status:mr.dirty});break;case 4:yield o.storageService.updateStorageCardPartial(n,{status:mr.unfixable}),o.storageCardContext.release(n,Er.fstools);break;default:throw new Error("unrachable: invalid fsck result")}return a}finally{i.dismiss()}})()}applyFsckResult(n,o){var i=this;return(0,j.Z)(function*(){if(2!==o.getResult())return;const s=yield i.loadingController.create({message:"Fixing errors..."});try{yield s.present(),yield i.storageService.updateCardData(n,o.getImageData(),o.getDirtyPages(),Er.fstools),yield i.storageService.updateStorageCardPartial(n,{status:mr.clean}),i.storageCardContext.release(n,Er.fstools)}finally{s.dismiss()}})()}fsckNewCard(n,o){var i=this;return(0,j.Z)(function*(){const s=yield i.loadingController.create({message:"Checking card..."});let a,l;try{yield s.present(),a=yield i.fstools.createFsckContext(o.size),a.getImageData().set(n),l=a.fsck()}finally{s.dismiss()}switch(l){case 1:return[n,{...o,status:mr.clean}];case 2:{let c=!1;return yield i.alertService.message("Filesystem errors","The filesystem on this card contains errors that must be fixed before the card can be used. Do you want to fix them now?",{"Fix now":()=>c=!0},"Skip"),c?[a.getImageData(),{...o,status:mr.clean}]:[n,{...o,status:mr.dirty}]}case 3:return yield i.alertService.cardHasNoValidFileSystem(),[n,{...o,status:mr.unformatted}];case 4:return yield i.alertService.cardHasUncorrectableErrors(),[n,{...o,status:mr.unfixable}];default:throw new Error("unreachable: bad fsck result")}})()}ejectCard(n){var o=this;return(0,j.Z)(function*(){const i=o.mountedInSession(n),s=yield o.storageService.getCard(n);!i||!s||(i.id===o.emulationStateService.getCurrentSession()?.id?yield o.ejectCurrentCard():(yield o.storageService.updateSessionPartial(i.id,{mountedCard:void 0}),yield o.storageService.updateStorageCardPartial(n,{status:mr.dirty})))})()}mountCardInEmulator(n,o){var i=this;return(0,j.Z)(function*(){if(yield i.cardIsMounted(n))throw new Error("card already mounted");const s=yield i.loadingController.create({message:"Inserting..."});try{yield s.present(),yield i.vfsService.releaseCard(n);const a=i.emulationStateService.getCurrentSession();if(!a)throw new Error("no current session");if(void 0!==a.mountedCard)throw new Error("session already has a mounted card");const l=yield i.loadCardInEmulator(n,o),c=yield i.cloudpilotService.cloudpilot;if(yield i.storageService.updateStorageCardPartial(n,{status:mr.dirty}),yield i.storageService.updateSessionPartial(a.id,{mountedCard:n}),!c.mountCard(l.storageId))throw c.removeCard(l.storageId),new Error("failed to mount card");return i.mountCardEvent.dispatch(l),l}finally{s.dismiss()}})()}mountCardForBrowsing(n,o,i){var s=this;return(0,j.Z)(function*(){const a=yield s.loadingController.create({message:"Mounting..."});try{return yield a.present(),yield s.vfsService.mountCardUnchecked(n,o,i)}finally{a.dismiss()}})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(pc),ue(nr),ue(dc),ue(Va),ue(ua),ue(Lh),ue(oo),ue(zu),ue(iu),ue(Ku),ue(Oh),ue(cv))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const bP="cp-indicator-fix-portrait",CP="cp-indicator-fix-landscape",SP="cloudpilot-indicator-fix-mode";let fv;function wP(){return $R(SP)??"none"}function DS(){return X_&&!navigator?.standalone}function EP(e){if(!DS())return;fv||(fv=document.createElement("style"),fv.textContent=`\n           @media (orientation: portrait) and (min-height: ${window.screen.height-110}px) {\n                html.${bP} {\n                    --ion-safe-area-bottom: max(env(safe-area-inset-bottom, 0), 20px);\n                }\n            }\n\n            @media (orientation: landscape) {\n                html.${CP} {\n                    --ion-safe-area-bottom: max(env(safe-area-inset-bottom, 0), 20px);\n                }\n            }\n        `,document.head.appendChild(fv)),void 0!==e?J0(SP,e):e=wP();const t=document.documentElement.classList;t.toggle(bP,"all"===e||"portrait"===e),t.toggle(CP,"all"===e||"landscape"===e)}let IS=(()=>{var e;class t{constructor(n,o){this.pwaService=n,this.clipboardService=o,this.injectStyles()}get runHidden(){return this.pwaService.getInstallationMode()!==uc.pwa}featureStyle(n,o){return(o?"":`.feature-${n} { display: none }\n`)+(o?`.no-feature-${n} { display: none }`:"")}injectStyles(){const n=document.createElement("style");n.textContent=`\n            ${this.featureStyle("run-hidden",this.runHidden)}\n            ${this.featureStyle("indicator-fix",DS())}\n            ${this.featureStyle("clipboard-integration",this.clipboardService.isSupported())}\n            ${this.featureStyle("native-app",bf)}\n            ${this.featureStyle("ios-not-native",xo&&!bf)}\n            ${this.featureStyle("ios-or-safari",xo||Ph)}\n            ${this.featureStyle("ios",xo)}\n        `,document.head.appendChild(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(rv),ue(hS))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),ja=(()=>{var e;class t extends rZ{constructor(n,o,i,s,a,l,c,f,h,m,b,Z,te,_e,Ie,Ae,bt,vt,Ht){var xt;super(),xt=this,this.storageService=n,this.ngZone=o,this.loadingController=i,this.emulationState=s,this.snapshotService=a,this.errorService=l,this.alertService=c,this.modalWatcher=f,this.clipboardService=h,this.kvsService=m,this.proxyService=b,this.buttonService=Z,this.bootstrapService=te,this.cloudpilotService=_e,this.storageCardService=Ie,this.storageCardContext=Ae,this.sessionsService=bt,this.featureService=vt,this.app=Ht,this.switchSession=(Bo,Ha={})=>this.mutex.runExclusive((0,j.Z)(function*(){if(Bo===xt.emulationState.getCurrentSession()?.id)return!0;let kl;yield xt.stopUnchecked(),yield xt.bootstrapService.hasRendered(),(Ha.showLoader??1)&&(kl=yield xt.loadingController.create({message:"Loading..."}),yield kl.present());try{const gv=yield xt.storageService.getSession(Bo);if(!gv)throw new Error(`invalid session ${Bo}`);xt.emulationState.setCurrentSession(void 0);const DX=yield xt.cloudpilotService.cloudpilot;if(!(yield xt.restoreSession(gv,DX)))return xt.alertService.errorMessage("Failed to launch session. This may be the result of a bad ROM file."),!1;xt.emulationState.setCurrentSession(gv),yield xt.sessionsService.updateSession({...gv,lastLaunch:Date.now()}),function s7(e){J0(J_,e+"")}(Bo)}finally{kl&&(yield kl.dismiss())}return!0})),this.resume=()=>this.mutex.runExclusive((0,j.Z)(function*(){!xt.emulationState.getCurrentSession()||xt.running||xt.errorService.hasFatalError()||!xt.cloudpilotInstance||(yield xt.kvsService.mutex.runExclusive(()=>xt.updateFeatures()),xt.doResume(),xt.lastSnapshotAt=performance.now())})),this.pause=()=>this.mutex.runExclusive((0,j.Z)(function*(){xt.doPause(),!xt.errorService.hasFatalError()&&xt.emulationState.getCurrentSession()&&(yield xt.snapshotService.waitForPendingSnapshot(),yield xt.snapshotService.triggerSnapshot())})),this.stop=()=>this.mutex.runExclusive(()=>this.stopUnchecked()),this.onSessionChange=([Bo,Ha])=>this.mutex.runExclusive((0,j.Z)(function*(){const kl=xt.emulationState.getCurrentSession();Bo===kl?.id&&(void 0!==kl.mountedCard&&void 0===Ha&&xt.storageCardContext.release(kl.mountedCard,Er.cloudpilot),xt.emulationState.setCurrentSession(Ha),xt.emulationState.getCurrentSession()||(BR(),xt.stopLoop()))})),this.onEmergencySave=()=>this.mutex.runExclusive((0,j.Z)(function*(){const Bo=xt.emulationState.getCurrentSession();Bo&&xt.sessionsService.emergencySaveSession(Bo)})),this.mutex=new Ba,this.lastSnapshotAt=0,n.sessionChangeEvent.addHandler(this.onSessionChange),l.fatalErrorEvent.addHandler(this.pause),this.alertService.emergencySaveEvent.addHandler(this.onEmergencySave),this.cloudpilotService.cloudpilot.then(Bo=>{Bo.fatalErrorEvent.addHandler(this.errorService.fatalInNativeCode),this.proxyService.initialize(Bo),this.proxyService.resumeEvent.addHandler(()=>this.running&&this.advanceEmulation(performance.now()))});const ir=function i7(){const e=LR(J_);return e?parseInt(e,10):void 0}();this.bootstrapCompletePromise=Promise.resolve(),void 0!==ir&&!dM()&&(this.bootstrapCompletePromise=this.recoverStoredSession(ir))}bootstrapComplete(){return this.bootstrapCompletePromise}getConfiguredSpeed(){return this.emulationState.getCurrentSession()?.speed||1}manageHotsyncName(){return!this.emulationState.getCurrentSession()?.dontManageHotsyncName}getConfiguredHotsyncName(){return this.emulationState.getCurrentSession()?.hotsyncName}updateConfiguredHotsyncName(n){const o=this.emulationState.getCurrentSession();o&&this.storageService.updateSessionPartial(o.id,{hotsyncName:n})}getConfiguredSchdedulerKind(){return this.kvsService.kvs.runHidden&&this.featureService.runHidden?Ef.timeout:Ef.animationFrame}hasFatalError(){return this.errorService.hasFatalError()}skipEmulationUpdate(){return this.modalWatcher.isModalActive()&&0!==this.frameCounter}onAfterAdvanceEmulation(n,o){if(!this.cloudpilotInstance)return;const i=this.emulationState.getCurrentSession();this.uiInitialized&&i&&void 0===i.osVersion&&this.storageService.updateSessionPartial(i.id,{osVersion:this.cloudpilotInstance.getOSVersion()}),this.buttonService.tick(o/this.cloudpilotInstance.cyclesPerSecond()),n-this.lastSnapshotAt>1e3&&!this.cloudpilotInstance.isSuspended()&&(this.snapshotService.triggerSnapshot(),this.lastSnapshotAt=n),this.isDirty&&this.app.tick()}handleSuspend(){this.cloudpilotInstance&&(this.clipboardService.handleSuspend(this.cloudpilotInstance),this.proxyService.handleSuspend())}callScheduler(){this.ngZone.runOutsideAngular(()=>this.scheduler.schedule())}stopUnchecked(){var n=this;return(0,j.Z)(function*(){n.emulationState.getCurrentSession()&&(n.doStop(),yield n.snapshotService.waitForPendingSnapshot(),yield n.snapshotService.triggerSnapshot(),n.storageCardService.onEmulatorStop(),n.emulationState.setCurrentSession(void 0))})()}updateFeatures(){if(!this.cloudpilotInstance)return;const n=this.kvsService.kvs.clipboardIntegration&&this.clipboardService.isSupported();this.cloudpilotInstance.getClipboardIntegration()!==n&&this.cloudpilotInstance.setClipboardIntegration(n),this.cloudpilotInstance.getNetworkRedirection()!==this.kvsService.kvs.networkRedirection&&(this.cloudpilotInstance.setNetworkRedirection(this.kvsService.kvs.networkRedirection),this.proxyService.reset()),this.cloudpilotInstance.setHotsyncNameManagement(!this.emulationState.getCurrentSession()?.dontManageHotsyncName)}recoverStoredSession(n){var o=this;return(0,j.Z)(function*(){let i;const s=setTimeout(()=>{i=o.loadingController.create({message:"Loading..."}).then(function(){var a=(0,j.Z)(function*(l){return yield l.present(),l});return function(l){return a.apply(this,arguments)}}())},100);try{yield o.switchSession(n,{showLoader:!1})}catch{xo&&o.alertService.message("Possible iOS bug","It seems that you hit an iOS bug that ocassionally\ncauses the database to come up empty when the app starts. If this happens to you, please force close\nthe app in the app switcher and reopen it; your data will be back on the second attempt.\n<br/><br/>\nSorry for the inconvenience.")}finally{i&&i.then(a=>a.dismiss()),clearTimeout(s)}})()}restoreSession(n,o){var i=this;return(0,j.Z)(function*(){const[s,a,l]=yield i.storageService.loadSession(n,i.kvsService.kvs.snapshotIntegrityCheck);if(!s)throw new Error(`invalid ROM ${n.rom}`);return o.clearExternalStorage(),void 0!==n.mountedCard&&(yield i.storageCardService.loadCardInEmulator(n.mountedCard)),!!i.openSession(o,s,n.device,a,l)&&(i.proxyService.reset(),i.buttonService.reset(o),yield i.snapshotService.initialize(n,yield i.cloudpilotService.cloudpilot),!0)})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(nr),ue(Ze),ue(ua),ue(dc),ue(Lh),ue(zu),ue(oo),ue(fS),ue(hS),ue(Pi),ue(gS),ue(dP),ue(fP),ue(Va),ue(Mf),ue(Oh),ue(pc),ue(IS),ue(Pa))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),xS=(()=>{var e;class t{constructor(n,o){var i=this;this.loadingController=n,this.alertService=o,this.register=()=>this.registerMutex.runExclusive((0,j.Z)(function*(){if(i.isEnabled()&&navigator.serviceWorker){navigator.serviceWorker.addEventListener("controllerchange",()=>i.reloadOnControllerChange&&window.location.reload()),yield new Promise(s=>setTimeout(s,3e3));try{i.setupRegistration(yield i.doRegister())}catch(s){console.error(s)}}})),this.reloadOnControllerChange=!1,this.registerMutex=new Ba,this.updateAvailableEvent=new so.j,this.register()}isEnabled(){return da.production&&!!navigator.serviceWorker}isRegistered(){return!!navigator.serviceWorker?.controller}reset(){var n=this;return(0,j.Z)(function*(){if(!n.registration)return;const o=yield n.loadingController.create();yield o.present();try{if(!(yield n.registration.unregister()))throw new Error("failed to unregister worker")}catch{return void(yield n.alertService.errorMessage("Failed to unregister service worker."))}finally{yield o.dismiss()}yield n.alertService.message("Service worker unregistered","\n            The current service worker has been unregistered. Please reload the app\n            in order to register a new worker for offline usage.\n        ",{},"Reload"),window.location.reload()})()}update(){var n=this;return(0,j.Z)(function*(){n.registration&&n.registration.update()})()}activateUpdate(){var n=this;return(0,j.Z)(function*(){n.registration?.waiting&&(yield(yield n.loadingController.create({message:"Updating..."})).present(),n.registration.waiting.postMessage({type:"SKIP_WAITING"}))})()}doRegister(){return(0,j.Z)(function*(){return navigator.serviceWorker.register("ngsw-worker.js",{scope:"./",updateViaCache:"none"})})()}setupRegistration(n){this.registration=n,n.waiting&&this.dispatchUpdate(),n.installing&&this.handleInstallingWorker(n.installing),n.addEventListener("updatefound",()=>n.installing&&this.handleInstallingWorker(n.installing))}handleInstallingWorker(n){let o=!1;n.addEventListener("statechange",()=>{"installed"!==n.state||o||(o=!0,this.dispatchUpdate())})}dispatchUpdate(){navigator.serviceWorker.controller&&this.registration?.waiting&&(this.reloadOnControllerChange=!0,this.updateAvailableEvent.dispatch(void 0))}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(ua),ue(oo))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),DP=(()=>{var e;class t{constructor(n,o,i,s,a){var l=this;this.kvsService=n,this.emulationService=o,this.alertService=i,this.modalController=s,this.serviceWorkerService=a,this.checkForUpgrade=()=>this.mutex.runExclusive((0,j.Z)(function*(){const c=l.kvsService.kvs.version;void 0!==c?c!==qu&&(yield l.kvsService.set({version:qu,previousVersion:c,latestVersion:qu}),yield l.emulationService.bootstrapComplete(),yield l.alertService.message("Update complete",`CloudpilotEmu was updated to version ${qu}.`,{Changes:()=>l.showChangelog()})):l.kvsService.kvs.version=qu})),this.mutex=new Ba,this.mutex.runExclusive(this.checkForDowngrade.bind(this))}start(){this.checkForUpgrade(),this.startUpdateCheck(),this.registerForUpdates()}startUpdateCheck(){this.scheduleUpdateCheck()}registerForUpdates(){var n=this;this.serviceWorkerService.updateAvailableEvent.addHandler((0,j.Z)(function*(){yield n.emulationService.bootstrapComplete(),n.alertService.updateAvailable(()=>n.serviceWorkerService.activateUpdate())}))}checkForDowngrade(){var n=this;return(0,j.Z)(function*(){if(yield n.kvsService.initialize(),n.kvsService.kvs.previousVersion===qu){const o=yield window.navigator.serviceWorker.getRegistration();console.log("downgrade detected"),o&&(yield o.unregister())&&(yield n.kvsService.set({previousVersion:void 0}),console.log("worker derigstered, reloading..."),window.location.reload())}})()}showChangelog(){var n=this;return(0,j.Z)(function*(){yield(yield n.modalController.create({component:Zu,componentProps:{url:QR,title:"Changelog"}})).present()})()}scheduleUpdateCheck(){var n=this;setTimeout((0,j.Z)(function*(){yield n.serviceWorkerService.update(),n.scheduleUpdateCheck()}),9e5)}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Pi),ue(ja),ue(oo),ue(Cs),ue(xS))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),WZ=(()=>{var e;class t{constructor(n,o,i,s){this.kvsService=n,this.alertService=o,this.emulationService=i,this.pwaService=s}start(){var n=this;return(0,j.Z)(function*(){const o=n.kvsService.kvs.infoId??0;n.kvsService.kvs.infoId=yield n.showInfo(o),n.pwaService.getInstallationMode()===uc.pwa&&xo&&!bf&&(n.kvsService.kvs.ios174UpdateWarningId=yield n.showIOS174UpdateWarning(n.kvsService.kvs.ios174UpdateWarningId))})()}showInfo(n){var o=this;return(0,j.Z)(function*(){return 2===n&&xo&&(yield o.emulationService.bootstrapComplete(),yield o.alertService.message("iOS 17 bug resolved","\n                The browser bug that impacted startup and offline use on iOS 17\n                has been fully resolved by switching to another service worker\n                implementation that does not trigger it.\n                <br><br>\n                CloudpilotEmu now is fully functional on iOS 17 again.\n            ")),3})()}showIOS174UpdateWarning(n){var o=this;return(0,j.Z)(function*(){return(n??0)>0&&(yield o.emulationService.bootstrapComplete(),yield o.alertService.message("Update to iOS 17.4","\n                    Apple has backpedaled and will not disable homescreen apps in the European\n                    Union. The update to 17.4 is expected to be safe, and CloudpilotEmu will\n                    continue to work as before.\n                ")),0})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Pi),ue(oo),ue(ja),ue(rv))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),ZZ=(()=>{var e;class t{constructor(n,o,i,s){this.pwaService=n,this.updateService=o,this.bootstrapService=i,this.infoService=s}ngAfterViewInit(){var n=this;return(0,j.Z)(function*(){n.bootstrapService.notifyHasRendered(),yield n.infoService.start(),n.pwaService.invite(),n.updateService.start()})()}}return(e=t).\u0275fac=function(n){return new(n||e)(v(rv),v(DP),v(fP),v(WZ))},e.\u0275cmp=Ye({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(n,o){1&n&&(z(0,"ion-app"),He(1,"ion-router-outlet"),B())},dependencies:[hR,Th]}),t})(),IP=(()=>{var e;class t{constructor(){}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ye({type:e,selectors:[["app-dummy"]],decls:2,vars:0,template:function(n,o){1&n&&(z(0,"div"),De(1,"Dummy"),B())},encapsulation:2}),t})(),xP=(()=>{var e;class t{constructor(n,o){this.linkApi=n,this.router=o}canActivate(n){return n.url[0]?.path?.startsWith("install")?(this.linkApi.installation.dispatchRequest(n.queryParams.url),this.router.navigateByUrl("/tab/emulation"),!1):!n.url[0]?.path?.startsWith("import")||(this.linkApi.import.dispatchRequest(n.queryParams.url),this.router.navigateByUrl("/tab/sessions"),!1)}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(TC),ue(Zo))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const TS=ee.m515,qZ=uS[2],YZ=uS[0],Af="rgba(0,0,0,0.2)";function TP(e){const t=Nh(e),r=(0===t.screenSize?3:2)*devicePixelRatio,n={frameDevice:1,frameCanvas:r},o=l=>({frameDevice:l,frameCanvas:l*r}),i=l=>({frameDevice:l,frameCanvas:n.frameCanvas+l*r}),s=o(t.silkscreenHeight>0?1:0),a=o(function JZ(e){switch(e){case 3:case 1:return 60;case 2:return 45;default:return 30}}(t.screenSize));return{scale:r,borderWidth:n,height:o(2*n.frameDevice+t.height+s.frameDevice+t.silkscreenHeight+a.frameDevice),width:o(2*n.frameDevice+t.width),screenHeight:o(t.height),screenWidth:o(t.width),screenLeft:i(0),screenTop:i(0),screenBottom:i(t.height),separatorHeight:s,silkscreenHeight:o(t.silkscreenHeight),silkscreenTop:i(t.height+s.frameDevice),silkscreenBottom:i(t.height+s.frameDevice+t.silkscreenHeight),softSilkscreenHeight:o(t.silkscreenHeight>0?0:t.height-t.width),buttonHeight:a,buttonWidth:a,buttonTop:i(t.height+s.frameDevice+t.silkscreenHeight),buttonBottom:i(t.height+s.frameDevice+t.silkscreenHeight+a.frameDevice)}}class eq{constructor(t){this.skinLoader=t,this.layout=TP(TS),this.onResize=new so.j}get width(){switch(this.getOrientation()){case Rr.portrait:case Rr.portrait180:case void 0:return this.layout.width.frameCanvas;default:return this.layout.height.frameCanvas}}get height(){switch(this.getOrientation()){case Rr.portrait:case Rr.portrait180:case void 0:return this.layout.height.frameCanvas;default:return this.layout.width.frameCanvas}}updateEmulationCanvas(t){this.drawEmulationCanvas(t),this.onAfterUpdateCanvas()}eventToPalmCoordinates(t,r=!1){if(!this.ctx)return;const n=this.ctx.canvas.getBoundingClientRect();let o,i,s,a;n.width/n.height>this.width/this.height?(a=n.height,s=this.width/this.height*n.height,i=n.top,o=n.left+(n.width-s)/2):(s=n.width,a=this.height/this.width*n.width,o=n.left,i=n.top+(n.height-a)/2);let l=(t.clientX-o)/s*this.width/this.layout.scale,c=(t.clientY-i)/a*this.height/this.layout.scale;switch(this.getOrientation()){case Rr.landscape90:{const h=c;c=this.layout.height.frameDevice-l,l=h;break}case Rr.landscape270:{const h=c;c=l,l=this.layout.width.frameDevice-h;break}case Rr.portrait180:l=this.layout.width.frameDevice-l,c=this.layout.height.frameDevice-c}l-=this.layout.borderWidth.frameDevice,c-=this.layout.borderWidth.frameDevice,c>=this.layout.screenHeight.frameDevice&&(c<=this.layout.screenHeight.frameDevice+this.layout.separatorHeight.frameDevice?c=this.layout.screenHeight.frameDevice:c-=this.layout.separatorHeight.frameDevice);const f=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice;if(r)l<0&&(l=0),l>=this.layout.screenWidth.frameDevice&&(l=this.layout.screenWidth.frameDevice-1),c<0&&(c=0),c>=f&&(c=f-1);else if(l<0||l>=this.layout.screenWidth.frameDevice||c<0||c>=f)return;return[l,c]}isSilkscreen(t){const[,r]=t;return!this.isButtons(t)&&r>=this.layout.screenHeight.frameDevice}isButtons([,t]){return t>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice}determineButton([t,r]){return t>=this.layout.screenWidth.frameDevice-this.layout.buttonWidth.frameDevice?3:t>=this.layout.screenWidth.frameDevice-2*this.layout.buttonWidth.frameDevice?2:t>=2*this.layout.buttonWidth.frameDevice?r>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice/2?5:4:t>=this.layout.buttonWidth.frameDevice?1:0}initWithCanvas(t=this.ctx?.canvas){var r=this;return(0,j.Z)(function*(){if(!t)return;r.layout=TP(r.getDeviceId()),r.onResize.dispatch(),t.width=r.width,t.height=r.height;const n=t.getContext("2d");if(!n)throw new Error("canvas not supported - get a new browser");r.ctx=n,r.setupTransformation(),r.fillCanvasRect(0,0,r.layout.width.frameCanvas,r.layout.height.frameCanvas,r.frameColor()),r.fillRect(0,0,r.layout.screenWidth.frameDevice,r.layout.screenHeight.frameDevice+r.layout.silkscreenHeight.frameDevice+r.layout.separatorHeight.frameDevice+r.layout.buttonHeight.frameDevice,r.backgroundColor()),r.drawEmulationCanvas(),yield Promise.all([r.drawSilkscreen(),r.drawButtons()])})()}drawButtons(t=[]){var r=this;return(0,j.Z)(function*(){r.ctx&&(r.setupTransformation(),r.ctx.imageSmoothingEnabled=!0,r.ctx.imageSmoothingQuality="high",r.ctx.drawImage(yield r.buttonsImage()(r.layout.screenWidth.frameCanvas,r.layout.buttonHeight.frameCanvas),r.layout.screenLeft.frameCanvas,r.layout.buttonTop.frameCanvas,r.layout.screenWidth.frameCanvas,r.layout.buttonHeight.frameCanvas),t.includes(0)&&r.fillRect(0,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,Af),t.includes(1)&&r.fillRect(r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,Af),t.includes(2)&&r.fillRect(r.layout.screenWidth.frameDevice-2*r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,Af),t.includes(3)&&r.fillRect(r.layout.screenWidth.frameDevice-r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,Af),t.includes(4)&&r.fillRect(2*r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.screenWidth.frameDevice-4*r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice/2,Af),t.includes(5)&&r.fillRect(2*r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice+r.layout.buttonHeight.frameDevice/2,r.layout.screenWidth.frameDevice-4*r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice/2,Af))})()}onAfterUpdateCanvas(){}setupTransformation(){if(this.ctx)switch(this.ctx?.resetTransform(),this.getOrientation()){case Rr.portrait:case void 0:break;case Rr.landscape90:this.ctx.translate(this.layout.height.frameCanvas,0),this.ctx.rotate(Math.PI/2);break;case Rr.landscape270:this.ctx.translate(0,this.layout.width.frameCanvas),this.ctx.rotate(3*Math.PI/2);break;case Rr.portrait180:this.ctx.translate(this.layout.width.frameCanvas,this.layout.height.frameCanvas),this.ctx.rotate(Math.PI)}}drawSilkscreen(){var t=this;return(0,j.Z)(function*(){0===t.layout.silkscreenHeight.frameCanvas||!t.ctx||(t.setupTransformation(),t.fillRect(t.layout.screenLeft.frameDevice,t.layout.silkscreenTop.frameDevice,t.layout.screenWidth.frameDevice,t.layout.silkscreenHeight.frameDevice,qZ),t.ctx.imageSmoothingEnabled=!0,t.ctx.imageSmoothingQuality="high",t.ctx.drawImage(yield t.silkscreenImage()(t.layout.screenWidth.frameCanvas,t.layout.silkscreenHeight.frameCanvas),t.layout.borderWidth.frameCanvas,t.layout.silkscreenTop.frameCanvas,t.layout.screenWidth.frameCanvas,t.layout.silkscreenHeight.frameCanvas))})()}drawEmulationCanvas(t=this.lastEmulationCanvas){!t||!this.ctx||(this.lastEmulationCanvas=t,this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(t,this.layout.screenLeft.frameCanvas,this.layout.screenTop.frameCanvas,this.layout.screenWidth.frameCanvas,this.layout.screenHeight.frameCanvas))}fillRect(t,r,n,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(this.layout.borderWidth.frameCanvas+this.layout.scale*t,this.layout.borderWidth.frameCanvas+this.layout.scale*r,this.layout.scale*n,this.layout.scale*o),this.ctx.fillStyle=i,this.ctx.fill())}fillCanvasRect(t,r,n,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(t,r,n,o),this.ctx.fillStyle=i,this.ctx.fill())}silkscreenImage(){return this.skinLoader.loadSkinElement(this.silkscreenSkinElement())}silkscreenSkinElement(){switch(this.getDeviceId()){case ee.pegT600c:case ee.pegT650c:return"silkscreen/clie-t600.svg";case ee.pegN700c:case ee.pegN600c:return"silkscreen/clie-n610.svg";case ee.pegS320:case ee.pegS300:return"silkscreen/clie-s300.svg";case ee.pegS500c:return"silkscreen/clie-s500.svg";case ee.pegT400:return"silkscreen/clie-t415.svg";case ee.acerS11:return"silkscreen/acer-s10.svg";case ee.palmPilot:case ee.pilot:case ee.iii:case ee.palmVII:return"silkscreen/pilot.svg";case ee.m500:return"silkscreen/m500.svg";case ee.m505:case ee.m515:case ee.m520:return"silkscreen/m515.svg";case ee.iiic:return"silkscreen/iiic.svg";case ee.m100:case ee.m105:case ee.m125:return"silkscreen/m100.svg";case ee.m130:return"silkscreen/m130.svg";case ee.i710:return"silkscreen/tungstenw.svg";case ee.i705:return"silkscreen/i705.svg";default:return"silkscreen/v.svg"}}buttonsImage(){return this.skinLoader.loadSkinElement(this.buttonsSkinElement())}buttonsSkinElement(){switch(this.getDeviceId()){case ee.acerS11:return"hard-buttons/acer-s10.svg";case ee.pegNR70:return"hard-buttons/clie-nr70.svg";case ee.pegN700c:return"hard-buttons/clie-n700.svg";case ee.pegN600c:return"hard-buttons/clie-n610.svg";case ee.pegS300:return"hard-buttons/clie-s300.svg";case ee.pegS500c:return"hard-buttons/clie-s500.svg";case ee.pegS320:return"hard-buttons/clie-s320.svg";case ee.pegT400:case ee.pegT600c:case ee.pegT650c:return"hard-buttons/clie-t415.svg";case ee.pilot:case ee.palmPilot:return"hard-buttons/pilot.svg";case ee.m500:return"hard-buttons/m500.svg";case ee.m505:case ee.m515:case ee.m520:return"hard-buttons/m515.svg";case ee.iiic:return"hard-buttons/iiic.svg";case ee.m100:case ee.m105:return"hard-buttons/m100.svg";case ee.m125:return"hard-buttons/m125.svg";case ee.m130:return"hard-buttons/m130.svg";case ee.i710:return"hard-buttons/tungstenw.svg";case ee.iii:case ee.iiix:case ee.iiixe:case ee.palmVII:case ee.palmVIIEZ:case ee.palmVIIx:return"hard-buttons/iiix.svg";case ee.iiie:return"hard-buttons/iiie.svg";case ee.i705:return"hard-buttons/i705.svg";case ee.handera330:return"hard-buttons/handera330.svg";case ee.handera330c:return"hard-buttons/handera330c.svg";case ee.lp168:return"hard-buttons/lp168.svg";default:return"hard-buttons/v.svg"}}backgroundColor(){return dS(this.getDeviceId())?"white":YZ}frameColor(){return dS(this.getDeviceId())?"white":"#ccc"}}function nq(e){return new Promise((t,r)=>{const n=new Image;n.onload=()=>t(n),n.onerror=()=>r(),n.src=e})}class oq{constructor(t){this.cloudpilot=t,this.images=new Map}loadSkinElement(t){if(this.images.has(t))return this.images.get(t);const r=this.cloudpilot.then(o=>o.loadSkin(t)).then(o=>{return o?Promise.all([o,nq((e=o,`data:image/svg+xml;base64,${btoa(e)}`))]):Promise.reject(new Error(`failed to load skin ${t}`));var e}),n=function tq(e,t){let r,n;const o=document.createElement("canvas");return function(){var i=(0,j.Z)(function*(s,a){if(r===s&&n===a)return o;o.width=s,o.height=a;const l=o.getContext("2d");if(!l)throw new Error("get a new browser");return l.drawImage(yield e,0,0,o.width,o.height),(Ph||xo)&&(yield t).indexOf("data:image")>=0&&(yield new Promise(c=>setTimeout(c,0)),l.drawImage(yield e,0,0,o.width,o.height)),r=s,n=a,o});return function(s,a){return i.apply(this,arguments)}}()}(r.then(([,o])=>o),r.then(([o])=>o));return this.images.set(t,n),n}}let pv=(()=>{var e;class t extends eq{constructor(n){super(new oq(n.cloudpilot)),this.cloudpilotService=n,this.statisticsVisible=!1}initialize(n,o=this.session){var i=this;return(0,j.Z)(function*(){i.session=o,yield i.initWithCanvas(n)})()}clearStatistics(){var n=this;return(0,j.Z)(function*(){n.statisticsVisible=!1,n.layout.silkscreenHeight.frameCanvas>0?yield n.drawSilkscreen():yield n.drawEmulationCanvas()})()}updateStatistics(n,o){var i=this;return(0,j.Z)(function*(){yield i.clearStatistics(),i.drawStatistics(n,o),i.lastEmulationStatistics=o,i.lastSnapshotStatistics=n,i.statisticsVisible=!0})()}getDeviceId(){return this.session?.device??TS}getOrientation(){return this.session?.deviceOrientation??Rr.portrait}onAfterUpdateCanvas(){this.statisticsVisible&&0===this.layout.silkscreenHeight.frameCanvas&&this.drawStatistics(this.lastSnapshotStatistics,this.lastEmulationStatistics)}drawStatistics(n,o){if(!this.ctx)return;this.setupTransformation();const i=this.layout.silkscreenHeight.frameDevice>0?this.layout.silkscreenHeight:this.layout.softSilkscreenHeight,s=this.layout.silkscreenHeight.frameCanvas>0?this.layout.silkscreenTop:{frameCanvas:this.layout.screenBottom.frameCanvas-i.frameCanvas,frameDevice:this.layout.screenBottom.frameDevice-i.frameDevice};this.ctx.beginPath(),this.fillRect(this.layout.screenLeft.frameDevice,s.frameDevice,this.layout.screenWidth.frameDevice,i.frameDevice,"rgba(255,255,255,0.6)");const l=function iq(e){switch(e){case 1:case 3:return 2;case 2:return 1.5;default:return 1}}(Nh(this.session?.device??TS).screenSize);this.ctx.font=6*this.layout.scale*l+"px monospace",this.ctx.fillStyle="black",[...n||o?[]:["collecting statistics..."],...n?[`last snapshot          : ${new Date(n.timestamp).toLocaleTimeString()}`,`snapshot pages         : ${n.pages}`,`snapshot time total    : ${n.timeTotal.toFixed(2)} msec`,`snapshot time blocking : ${n.timeBlocking.toFixed(2)} msec`]:[],...o?[`host speed             : ${o.hostSpeed.toFixed(2)}x`,`emulation speed        : ${o.emulationSpeed.toFixed(2)}x`,`average FPS            : ${o.averageFps.toFixed(2)}`]:[]].forEach((c,f)=>this.ctx.fillText(c,this.layout.screenLeft.frameCanvas+l*this.layout.scale,s.frameCanvas+l*this.layout.scale*(8+6*f)))}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Va))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),MS=(()=>{var e;class t{constructor(n,o,i){this.router=n,this.canvasDisplayService=o,this.emulationStateService=i,this.updateUseSmallUI=()=>{const s=!!document.querySelector("html.md"),a=s?56:44;this.useSmallUI=this.canvasArea(window.innerHeight-a-(s?57:51)-6,window.innerWidth-6)<this.canvasArea(window.innerHeight-a-25-6,window.innerWidth-6)},this.useSmallUI=!1,this.isLockedFlag=!1,window.addEventListener("resize",this.updateUseSmallUI),window.addEventListener("orientationchange",this.updateUseSmallUI),o.onResize.addHandler(()=>this.updateUseSmallUI()),this.updateUseSmallUI()}get smallUI(){return"/tab/emulation"===this.router.url&&this.useSmallUI&&void 0!==this.emulationStateService.getCurrentSession()}lock(){this.isLockedFlag=!0}unlock(){this.isLockedFlag=!1}isLocked(){return this.isLockedFlag}canvasArea(n,o){let i,s;return n=Math.min(n,this.canvasDisplayService.height/devicePixelRatio),(o=Math.min(o,this.canvasDisplayService.width/devicePixelRatio))/n>this.canvasDisplayService.width/this.canvasDisplayService.height?(s=n,i=n/this.canvasDisplayService.height*this.canvasDisplayService.width):(i=o,s=o/this.canvasDisplayService.width*this.canvasDisplayService.height),i*s}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Zo),v(pv),v(dc))},e.\u0275cmp=Ye({type:e,selectors:[["app-tabs"]],decls:23,vars:4,consts:[[1,"overflow-wrapper"],["slot","bottom"],["tab","emulation"],["name","phone-portrait-outline"],["tab","sessions"],["name","albums-outline"],["tab","storage"],["name","folder-outline"],["tab","settings"],["name","cog-outline"],["tab","about"],["name","help-outline"]],template:function(n,o){1&n&&(z(0,"ion-tabs")(1,"div",0)(2,"ion-tab-bar",1)(3,"ion-tab-button",2),He(4,"ion-icon",3),z(5,"ion-label"),De(6,"Emulator"),B()(),z(7,"ion-tab-button",4),He(8,"ion-icon",5),z(9,"ion-label"),De(10,"Sessions"),B()(),z(11,"ion-tab-button",6),He(12,"ion-icon",7),z(13,"ion-label"),De(14,"Cards"),B()(),z(15,"ion-tab-button",8),He(16,"ion-icon",9),z(17,"ion-label"),De(18,"Settings"),B()(),z(19,"ion-tab-button",10),He(20,"ion-icon",11),z(21,"ion-label"),De(22,"About"),B()()()()()),2&n&&(ge(2),ia("small-ui",o.smallUI)("disabled",o.isLocked()))},dependencies:[qo,es,W_,gR,_R],styles:["ion-tab-bar[_ngcontent-%COMP%]{min-width:280px}ion-tab-bar.small-ui[_ngcontent-%COMP%]{height:25px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:21px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon.md[_ngcontent-%COMP%]{margin-top:3px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:none}ion-tab-bar.disabled[_ngcontent-%COMP%]{display:none}.overflow-wrapper[_ngcontent-%COMP%]{overflow-x:auto}ion-icon[_ngcontent-%COMP%]{font-size:25px}"]}),t})(),$h=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Jr({type:e}),e.\u0275inj=ot({imports:[yl,X0.forChild(),eu,ju,j_]}),t})(),sq=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Jr({type:e}),e.\u0275inj=ot({imports:[yl,ju,eu,$h,X0.forChild()]}),t})(),aq=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Jr({type:e}),e.\u0275inj=ot({imports:[yl,ju,eu,$h]}),t})(),lq=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Jr({type:e}),e.\u0275inj=ot({imports:[yl,ju,eu,j_,$h]}),t})(),cq=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Jr({type:e}),e.\u0275inj=ot({imports:[yl,ju,eu,$h,j_]}),t})(),uq=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Jr({type:e}),e.\u0275inj=ot({imports:[yl,eu,ju,j_,$h]}),t})();const dq=C.p+"assets/doc/about-e51cd4ee04cefa82.md";function fq(e,t){if(1&e){const r=Nn();z(0,"ion-button",1),Be("click",function(){return Mt(r),At(ut().onClick())}),He(1,"ion-icon",2),B()}if(2&e){const r=ut();ge(1),Ee("name",r.iconName)}}let hv=(()=>{var e;class t{constructor(n){this.pwaService=n}onClick(){this.pwaService.install()}get iconName(){return xo?"logo-apple-appstore":Q0?"logo-google-playstore":"apps-outline"}get show(){return this.pwaService.promptForInstall()}}return(e=t).\u0275fac=function(n){return new(n||e)(v(rv))},e.\u0275cmp=Ye({type:e,selectors:[["app-pwa-prompt"]],decls:1,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"],[3,"name"]],template:function(n,o){1&n&&Ut(0,fq,2,1,"ion-button",0),2&n&&Ee("ngIf",o.show)},dependencies:[Lo,Ki,qo]}),t})();var Bh;function pq(e,t){1&e&&(z(0,"div",10),He(1,"ion-spinner"),B())}function hq(e,t){1&e&&(z(0,"div"),De(1,"app cached for offline use"),B())}class AS{constructor(t,r){this.modalController=t,this.serviceWorkerService=r,this.loading=!0}get version(){return qu}get url(){return dq}showChangelog(){var t=this;return(0,j.Z)(function*(){yield(yield t.modalController.create({component:Zu,componentProps:{url:QR,title:"Changelog"}})).present()})()}get serviceWorkerAvailable(){return this.serviceWorkerService.isRegistered()}resetWorker(){var t=this;return(0,j.Z)(function*(){yield t.serviceWorkerService.reset()})()}}function mq(e,t){if(1&e&&(z(0,"ion-select-option",16),De(1),B()),2&e){const r=t.$implicit;Ee("value",r[0]),ge(1),wi("",r[1]," ")}}function gq(e,t){if(1&e&&(z(0,"ion-select-option",16),De(1),B()),2&e){const r=t.$implicit;Ee("value",r[0]),ge(1),wi("",r[1]," ")}}function _q(e,t){if(1&e&&(z(0,"ion-item",6)(1,"ion-label",7),De(2,"Hotsync name"),B(),He(3,"ion-input",17),B()),2&e){const r=ut();ge(3),Ee("placeholder",r.placeholder)}}(Bh=AS).\u0275fac=function(t){return new(t||Bh)(v(Cs),v(xS))},Bh.\u0275cmp=Ye({type:Bh,selectors:[["app-about"]],decls:23,vars:5,consts:[["slot","secondary"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],[1,"markdown-container"],[3,"src","disableSanitizer","load"],[1,"version"],["href","javascript:",3,"click"],[4,"ngIf"],["src","assets/logo.svg",1,"logo"],[1,"loader"]],template:function(t,r){1&t&&(z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),De(3,"About"),B(),z(4,"ion-buttons",0),He(5,"app-pwa-prompt"),B()()(),z(6,"ion-content")(7,"ion-header",1)(8,"ion-toolbar")(9,"ion-title",2),De(10,"About"),B()()(),Ut(11,pq,2,0,"div",3),z(12,"div",4)(13,"markdown",5),Be("load",function(){return r.loading=!1}),B()(),z(14,"div",6),De(15),He(16,"br"),z(17,"a",7),Be("click",function(){return r.showChangelog()}),De(18,"Changelog"),B(),Ut(19,hq,2,0,"div",8),z(20,"a",7),Be("click",function(){return r.resetWorker()}),De(21,"reset worker"),B()(),He(22,"img",9),B()),2&t&&(ge(11),Ee("ngIf",r.loading),ge(2),Ee("src",r.url)("disableSanitizer",!0),ge(2),wi(" CloudpilotEmu version ",r.version," "),ge(4),Ee("ngIf",r.serviceWorkerAvailable))},dependencies:[Lo,Xi,Qi,Ji,Ih,ts,ns,hv,K0],styles:[".version[_ngcontent-%COMP%]{width:100%;bottom:1em;text-align:center;font-size:.75em;margin-top:3em;margin-bottom:1em}.markdown-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:center}markdown[_ngcontent-%COMP%]{display:block;margin-left:.5em;margin-right:.5em;max-width:var(--cp-page-width)}.loader[_ngcontent-%COMP%]{width:100%;height:10em;display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{width:10em;height:10em;margin:1em auto;display:block}@media (prefers-color-scheme: dark){.logo[_ngcontent-%COMP%]{filter:invert(100%)}}"]}),oe([Gn()],AS.prototype,"resetWorker",null);let MP=(()=>{var e;class t{constructor(n,o){this.sessionService=n,this.alertService=o,this.validateNameUnique=i=>i.value!==this.session.name&&this.sessionService.getSessions().some(s=>s.name===i.value)?{name:"already taken"}:null,this.onSave=()=>{},this.onCancel=()=>{},this.orientations=[[Rr.portrait,"Portrait"],[Rr.landscape90,"Landscape 90\xb0"],[Rr.landscape270,"Landscape 270\xb0"],[Rr.portrait180,"Upside down"]]}get formControlName(){return this.formGroup.get("name")}get formControlHotsyncName(){return this.formGroup.get("hotsyncName")}get formControlDevice(){return this.formGroup.get("device")}get formControlManageHotsyncName(){return this.formGroup.get("manageHotsyncName")}get formControlSpeed(){return this.formGroup.get("speed")}get formControlOrientation(){return this.formGroup.get("orientation")}get showHotsyncNameInput(){return this.formControlManageHotsyncName.value}get placeholder(){return this.formControlHotsyncName.value?this.formControlName.value:void 0!==this.session.hotsyncName||this.session.dontManageHotsyncName?"Enter hotsync name":"use setting from device"}get deviceList(){return this.availableDevices.map(n=>[n,eP(n)])}ngOnInit(){this.createFormGroup()}save(){this.formGroup.invalid||(this.session.name=this.formControlName.value,this.formControlManageHotsyncName.value?this.session.dontManageHotsyncName?(this.session.dontManageHotsyncName=!1,this.session.hotsyncName=this.formControlHotsyncName.value||"",this.alertService.message("Reset required","Please reset the virtual device in order to make sure that the hotsync name is synced properly again.")):this.session.hotsyncName=this.formControlHotsyncName.value||(void 0===this.session.hotsyncName?void 0:""):this.session.dontManageHotsyncName=!0,this.session.device=this.formControlDevice.value,this.session.speed=this.speedValue,this.session.deviceOrientation=this.formControlOrientation.value,this.onSave())}onEnter(){this.save()}get speedValue(){const n=this.speedTransient??this.formControlSpeed.value??0;return n>=0?1+n:1/(1-n)}get speedLabel(){return"Clock: "+(0===(this.speedTransient??this.formControlSpeed.value)?"default":`${Math.round(this.speedValue*function W7(e){switch(e){case ee.palmPilot:case ee.pilot:case ee.iii:case ee.palmVII:case ee.palmVx:case ee.palmV:case ee.palmVIIEZ:case ee.palmVIIx:case ee.iiic:case ee.iiix:case ee.iiixe:case ee.iiie:case ee.m100:case ee.m105:case ee.pegS300:case ee.pegS500c:return 16;case ee.m500:case ee.m505:case ee.m515:case ee.m520:case ee.m125:case ee.m130:case ee.i705:case ee.i710:case ee.handera330:case ee.handera330c:case ee.pegS320:case ee.pegT400:case ee.pegN600c:case ee.pegT600c:case ee.pegN700c:case ee.acerS11:return 33;case ee.pegT650c:case ee.pegNR70:case ee.lp168:return 66}}(this.formControlDevice.value))}MHz`)}onSpeedDrag(n){this.speedTransient=n.detail?.value}createFormGroup(){this.formGroup=new N_({name:new $o(this.session.name,{validators:[fh.required,this.validateNameUnique]}),manageHotsyncName:new $o(!this.session.dontManageHotsyncName),hotsyncName:new $o(this.session.hotsyncName||""),device:new $o({value:this.session.device,disabled:1===this.availableDevices.length}),speed:new $o((this.session.speed||1)>=1?(this.session.speed||1)-1:1-1/this.session.speed),orientation:new $o(this.session.deviceOrientation||Rr.portrait)})}}return(e=t).\u0275fac=function(n){return new(n||e)(v(pc),v(oo))},e.\u0275cmp=Ye({type:e,selectors:[["app-session-settings"]],inputs:{onSave:"onSave",onCancel:"onCancel",session:"session",availableDevices:"availableDevices"},decls:41,vars:6,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter session name","formControlName","name"],["formControlName","device"],[3,"value",4,"ngFor","ngForOf"],["formControlName","orientation"],[1,"label-speed"],["min","-4","max","4","step","0.25","snaps","true","ticks","false","formControlName","speed",3,"ionInput","ionKnobMoveEnd"],["formControlName","manageHotsyncName"],["lines","none",4,"ngIf"],[3,"value"],["formControlName","hotsyncName","maxlength","40",3,"placeholder"]],template:function(n,o){1&n&&(z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),De(3,"Session settings"),B(),z(4,"ion-buttons",0)(5,"ion-button",1),Be("click",function(){return o.save()}),De(6,"Save"),B()(),z(7,"ion-buttons",2)(8,"ion-button",3),Be("click",function(){return o.onCancel()}),De(9,"Cancel"),B()()()(),z(10,"ion-content",4)(11,"form",5),Be("keydown.enter",function(){return o.onEnter()}),z(12,"h1"),De(13,"Session"),B(),z(14,"ion-item",6)(15,"ion-label",7),De(16,"Session name"),B(),He(17,"ion-input",8),B(),z(18,"h1"),De(19,"Device"),B(),z(20,"ion-item",6)(21,"ion-label",7),De(22,"Device type"),B(),z(23,"ion-select",9),Ut(24,mq,2,2,"ion-select-option",10),B()(),z(25,"ion-item",6)(26,"ion-label",7),De(27,"Orientation"),B(),z(28,"ion-select",11),Ut(29,gq,2,2,"ion-select-option",10),B()(),z(30,"ion-item",6)(31,"ion-label",12),De(32),B(),z(33,"ion-range",13),Be("ionInput",function(s){return o.onSpeedDrag(s)})("ionKnobMoveEnd",function(){return o.speedTransient=void 0}),B()(),z(34,"h1"),De(35,"Hotsync"),B(),z(36,"ion-item",6)(37,"ion-label"),De(38,"Manage hotsync name"),B(),He(39,"ion-toggle",14),B(),Ut(40,_q,4,1,"ion-item",15),B()()),2&n&&(ge(5),Ee("disabled",o.formGroup.invalid),ge(6),Ee("formGroup",o.formGroup),ge(13),Ee("ngForOf",o.deviceList),ge(5),Ee("ngForOf",o.orientations),ge(3),Hi(o.speedLabel),ge(8),Ee("ngIf",o.showHotsyncNameInput))},dependencies:[Uc,Lo,Ki,Xi,Qi,Ji,lc,Io,es,V0,Eh,Dh,ts,xh,ns,yf,wh,ac,sc,oc,ic,O0,$a,Dl],styles:["ion-item[_ngcontent-%COMP%]{--highlight-color-valid: var(--highlight-color-focused);--background: none}.label-speed[_ngcontent-%COMP%]{min-width:7.5rem}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}"]}),t})(),vq=(()=>{var e;class t{constructor(n,o,i,s,a,l,c){this.emulationService=n,this.loadingController=o,this.snapshotService=i,this.fileService=s,this.emulationStateService=a,this.alertService=l,this.cloudpilotService=c}saveBackup(n){var o=this;return(0,j.Z)(function*(){const i=o.emulationStateService.getCurrentSession();if(!i)return;const s=yield o.loadingController.create({message:"Backing up..."});yield s.present();const a=[];let l;yield o.emulationService.pause(),yield o.snapshotService.waitForPendingSnapshot();try{const c=yield o.cloudpilotService.cloudpilot;yield c.backup(function(){var f=(0,j.Z)(function*(h){for(h.Init(n);h.IsInProgress();){const m=h.GetCurrentDatabase();h.Save()||a.push(m),yield new Promise(b=>setTimeout(b,0))}l=c.getArchive(h)});return function(h){return f.apply(this,arguments)}}())}finally{yield s.dismiss(),yield o.emulationService.resume()}l?a.length>0?yield o.alertService.message("Backup complete",`\n                    ${wS(a)} failed  to backup.\n                    <br/><br/>\n                    Open databases cannot be backuped. Please run backup from the launcher\n                    in order to backup all databases.\n                `,{"Save Backup":()=>o.fileService.saveFile(hP(i,n),l)},"Cancel"):o.fileService.saveFile(hP(i,n),l):yield o.alertService.errorMessage("Backup failed.")})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(ja),ue(ua),ue(Lh),ue(iu),ue(dc),ue(oo),ue(Va))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const yq=window.AudioContext||window.webkitAudioContext;function kS(e,t=100){return new Promise((r,n)=>{setTimeout(()=>n(new Error("timeout")),t),e.then(r,n)})}class bq{constructor(t){var r=this;this.emulationService=t,this.initialize=()=>this.mutex.runExclusive((0,j.Z)(function*(){for(let n=0;n<3;n++)if(yield r.initializeAudioUnguarded())return!1;return!0})),this.updateState=(n=!1)=>this.mutex.runExclusive((0,j.Z)(function*(){if(!r.context||r.isRunning()===r.shouldRun())return;!n&&!r.isRunning()&&r.shouldRun()&&r.applyPwmUpdate();const o=r.context.state;if(r.shouldRun())try{r.updateGain(),yield kS(r.context.resume()),console.log("resume audio context")}catch{console.error(`failed to resume audio from state ${o}`)}else try{yield kS(r.context.suspend()),console.log("suspend audio context")}catch{console.error(`failed to suspend audio from state ${o}`)}console.log(`audio context state change ${o} -> ${r.context.state}`)})),this.onPwmUpdate=function(){var n=(0,j.Z)(function*(o){r.pendingPwmUpdate=o,r.initialized&&(r.shouldRun()!==r.isRunning()&&r.updateState(!0),r.shouldRun()&&r.applyPwmUpdate())});return function(o){return n.apply(this,arguments)}}(),this.mutex=new Ba,this.initialized=!1,this.muted=!1,this.emulationService.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.emulationService.emulationStateChangeEvent.addHandler(()=>this.updateState()),this.emulationService.powerOffChangeEvent.addHandler(()=>this.updateState()),xo||document.addEventListener("visibilitychange",()=>this.updateState())}isInitialized(){return this.initialized}mute(t){this.muted=t,this.updateState()}isMuted(){return this.muted}shouldRun(){return this.emulationService.isRunning()&&!this.emulationService.isPowerOff()&&!this.muted&&this.gain()>0&&("hidden"!==document.visibilityState||xo||this.runHidden())}updateGain(){this.gainNode&&(this.gainNode.gain.value=this.gain())}initializeAudioUnguarded(){var t=this;return(0,j.Z)(function*(){if(t.initialized)return!0;try{t.context=new yq}catch(r){return console.error(r),console.error("web audio not available"),!1}try{t.context.destination.channelCount=1}catch{console.warn("audio driver: failed to set channel count")}try{yield t.start()}catch(r){return console.error(r),console.error("failed to initialize audio context"),!1}return t.context.addEventListener("statechange",()=>{"interrupted"===t.context?.state&&t.updateState()}),t.gainNode=t.context.createGain(),t.gainNode.channelCount=1,t.gainNode.channelInterpretation="speakers",t.gainNode.gain.value=t.gain(),t.gainNode.connect(t.context.destination),t.applyPwmUpdate(),t.initialized=!0,!0})()}start(){var t=this;return(0,j.Z)(function*(){t.context&&(yield kS(t.context.resume()),t.updateState(),console.log("audio context initialized"))})()}isRunning(){return"running"===this.context?.state}applyPwmUpdate(){if(!this.context||!this.pendingPwmUpdate)return;const{frequency:t,dutyCycle:r}=this.pendingPwmUpdate,n=this.context.sampleRate;if(this.pendingPwmUpdate=void 0,t<=0||r<=0||t>=n)return void this.disconnectSource();const o=this.context.createBuffer(1,Math.round(n/t),n),i=o.getChannelData(0);for(let a=0;a<i.length;a++)i[a]=a/i.length<r?1:0;const s=this.context.createBufferSource();s.channelCount=1,s.channelInterpretation="speakers",s.loop=!0,s.buffer=o,this.disconnectSource(),s.connect(this.gainNode),s.start(),this.bufferSourceNode=s,this.pendingPwmUpdate=void 0}disconnectSource(){this.bufferSourceNode&&(this.bufferSourceNode.stop(),this.bufferSourceNode.disconnect(),this.bufferSourceNode=void 0)}gain(){return this.getVolume()/2}}let RS=(()=>{var e;class t extends bq{constructor(n,o,i,s){super(n),this.kvs=o,this.modalWatcher=i,this.featureService=s,this.modalWatcher.modalVisibilityChangeEvent.addHandler(()=>this.updateState())}getVolume(){return this.kvs.kvs.volume}runHidden(){return this.kvs.kvs.runHidden&&this.featureService.runHidden}shouldRun(){return!this.modalWatcher.isModalActive()&&super.shouldRun()}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(ja),ue(Pi),ue(fS),ue(IS))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),kP=(()=>{var e;class t{constructor(n,o){this.emulationService=n,this.ngZone=o,this.onInterval=()=>{this.emulationService.getEmulationSpeed()<1?(this.level<3&&this.level++,3===this.level&&this.ngZone.run(()=>this.slowdownDetected=!0)):(this.level>0&&this.level--,0===this.level&&this.ngZone.run(()=>this.slowdownDetected=!1))},this.onEmulationStateChanged=i=>{this.reset(),i&&void 0===this.intervalHandle&&(this.onInterval(),this.ngZone.runOutsideAngular(()=>this.intervalHandle=window.setInterval(this.onInterval,1e3))),!i&&void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)},this.slowdownDetected=!1,this.level=0,this.onEmulationStateChanged(this.emulationService.isRunning()),this.emulationService.emulationStateChangeEvent.addHandler(this.onEmulationStateChanged)}isSlowdownDetected(){return this.slowdownDetected}reset(){this.slowdownDetected=!1,this.level=0}ngOnDestroy(){this.emulationService.emulationStateChangeEvent.removeHandler(this.onEmulationStateChanged),void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(ja),ue(Ze))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function Sq(e,t){if(1&e){const r=Nn();z(0,"ion-item",4),Be("click",function(){return Mt(r),At(ut().power())}),z(1,"ion-label"),De(2,"Power"),B(),He(3,"ion-icon",5),B()}if(2&e){const r=ut();Ee("detail",!1)("disabled",!r.emulationService.isRunning())}}function wq(e,t){if(1&e){const r=Nn();z(0,"ion-item",4),Be("click",function(){return Mt(r),At(ut().hotsync())}),z(1,"ion-label"),De(2,"Hotsync"),B(),He(3,"ion-icon",6),B()}if(2&e){const r=ut();Ee("detail",!1)("disabled",!r.emulationService.isRunning())}}function Eq(e,t){if(1&e){const r=Nn();z(0,"ion-item",4),Be("click",function(){return Mt(r),At(ut().reset())}),z(1,"ion-label"),De(2,"Reset"),B(),He(3,"ion-icon",7),B()}if(2&e){const r=ut();Ee("detail",!1)("disabled",!r.emulationService.isRunning())}}function Dq(e,t){if(1&e){const r=Nn();z(0,"ion-item",8),Be("click",function(){return Mt(r),At(ut().insertCard())}),z(1,"ion-label"),De(2),B(),He(3,"ion-icon",9),B()}if(2&e){const r=ut();Ee("detail",!1),ge(2),wi("Insert ",r.hasMemorystick?"stick":"SD card","")}}function Iq(e,t){if(1&e){const r=Nn();z(0,"ion-item",8),Be("click",function(){return Mt(r),At(ut().ejectCard())}),z(1,"ion-label"),De(2),B(),He(3,"ion-icon",10),B()}if(2&e){const r=ut();Ee("detail",!1),ge(2),wi("Eject ",r.hasMemorystick?"stick":"SD card","")}}function xq(e,t){if(1&e){const r=Nn();z(0,"ion-item",8),Be("click",function(){return Mt(r),At(ut().mute(!1))}),z(1,"ion-label"),De(2,"Enable audio"),B(),He(3,"ion-icon",11),B()}2&e&&Ee("detail",!1)}function Tq(e,t){if(1&e){const r=Nn();z(0,"ion-item",8),Be("click",function(){return Mt(r),At(ut().mute(!0))}),z(1,"ion-label"),De(2,"Disable audio"),B(),He(3,"ion-icon",12),B()}2&e&&Ee("detail",!1)}function Mq(e,t){if(1&e){const r=Nn();z(0,"ion-item",4),Be("click",function(){return Mt(r),At(ut().backup())}),z(1,"ion-label"),De(2,"Save backup"),B(),He(3,"ion-icon",13),B()}if(2&e){const r=ut();Ee("detail",!1)("disabled",r.backupDisabled)}}function Aq(e,t){if(1&e){const r=Nn();z(0,"ion-item",8),Be("click",function(){return Mt(r),At(ut().rotate())}),z(1,"ion-label"),De(2,"Rotate"),B(),He(3,"ion-icon",14),B()}2&e&&Ee("detail",!1)}function kq(e,t){if(1&e){const r=Nn();z(0,"ion-item",8),Be("click",function(){return Mt(r),At(ut().editSettings())}),z(1,"ion-label"),De(2,"Settings"),B(),He(3,"ion-icon",15),B()}2&e&&Ee("detail",!1)}function Rq(e){switch(e){case Rr.portrait:case void 0:return Rr.landscape90;case Rr.landscape90:return Rr.portrait180;case Rr.portrait180:return Rr.landscape270;case Rr.landscape270:return Rr.portrait;default:throw new Error("cannot happen")}}let Pq=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f,h,m,b,Z,te,_e,Ie,Ae,bt,vt){this.emulationService=n,this.emulationStateService=o,this.backupService=i,this.buttonService=s,this.actionSheetController=a,this.popoverController=l,this.audioService=c,this.kvsService=f,this.modalController=h,this.sessionService=m,this.performanceWatchdogService=b,this.canvasDisplayService=Z,this.cloudpilotService=te,this.storageCardService=_e,this.alertService=Ie,this.alertController=Ae,this.storageService=bt,this.errorService=vt,this.showHelp=()=>{}}reset(){var n=this;return(0,j.Z)(function*(){n.popoverController.dismiss(),(yield n.actionSheetController.create({header:"How do you want to reset?",buttons:[{text:"Normal boot",handler:()=>n.emulationService.reset()},{text:"No extensions",handler:()=>n.emulationService.resetNoExtensions()},{text:"Hard reset",handler:()=>n.emulationService.resetHard()},{text:"Cancel",role:"cancel"}]})).present()})()}power(){this.buttonService.engage(6),this.popoverController.dismiss()}hotsync(){this.buttonService.engage(7),this.popoverController.dismiss()}help(){this.showHelp(),this.popoverController.dismiss()}backup(){var n=this;return(0,j.Z)(function*(){n.popoverController.dismiss(),(yield n.actionSheetController.create({header:"What do you want to backup?",buttons:[{text:"Only RAM (default)",handler:()=>n.backupService.saveBackup(!1)},{text:"Include ROM",handler:()=>n.backupService.saveBackup(!0)},{text:"Cancel",role:"cancel"}]})).present()})()}get isMuted(){return!this.audioService.isInitialized()||this.audioService.isMuted()}get isAudioOff(){return this.kvsService.kvs.volume<=0}mute(n){n?this.audioService.mute(!0):this.audioService.isInitialized()?this.audioService.mute(!1):this.audioService.initialize()}get backupDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get powerDisabled(){const n=this.emulationStateService.getCurrentSession();return!!n&&function Z7(e){switch(e){case ee.i705:case ee.i710:case ee.pegNR70:case ee.pegT650c:case ee.lp168:return!0;default:return!1}}(n.device)}get hasActiveSession(){return!!this.emulationStateService.getCurrentSession()}get supportsStorageCard(){const n=this.emulationStateService.getCurrentSession();return!!n&&tP(n.device)!==Df.none}get hasMemorystick(){const n=this.emulationStateService.getCurrentSession();return!!n&&tP(n.device)===Df.memorystick}get hasMountedCard(){return void 0!==this.emulationStateService.getCurrentSession()?.mountedCard}editSettings(){var n=this;return(0,j.Z)(function*(){const o=n.emulationStateService.getCurrentSession();if(!o)return;const i=o.speed,s=o.deviceOrientation,a=yield n.modalController.create({component:MP,backdropDismiss:!1,componentProps:{session:o,availableDevices:[o.device],onSave:(l=(0,j.Z)(function*(){i!==o.speed&&n.performanceWatchdogService.reset(),s!==o.deviceOrientation&&(n.canvasDisplayService.initialize(void 0,o),n.canvasDisplayService.updateEmulationCanvas()),yield n.sessionService.updateSession(o),a.dismiss()}),function(){return l.apply(this,arguments)}),onCancel:()=>a.dismiss()}});var l;yield n.popoverController.dismiss(),yield a.present()})()}rotate(){var n=this;return(0,j.Z)(function*(){const o=n.emulationStateService.getCurrentSession();if(!o)return;yield n.storageService.updateSessionPartial(o.id,{deviceOrientation:Rq(o.deviceOrientation)});const i=n.emulationStateService.getCurrentSession();yield n.canvasDisplayService.initialize(void 0,i),n.canvasDisplayService.updateEmulationCanvas()})()}insertCard(){var n=this;return(0,j.Z)(function*(){if(n.popoverController.dismiss(),void 0===n.emulationStateService.getCurrentSession()?.device)return;const i=yield n.cloudpilotService.cloudpilot,s=n.storageCardService.getAllCards().filter(l=>i.deviceSupportsCardSize(l.size)&&!n.storageCardService.mountedInSession(l.id));0!==s.length?yield(yield n.alertController.create({header:"Choose image for insertion",buttons:[{text:"Cancel",role:"cancel"},{text:"Insert",handler:l=>n.storageCardService.insertCard(l)}],inputs:s.map((l,c)=>({label:l.name,type:"radio",value:l.id,checked:0===c})),backdropDismiss:!1})).present():n.alertService.message("No image available",`There is no ${n.hasMemorystick?"memory stick":"SD card"} image available. Please go to the "Storage" tab in order to create new one.`)})()}ejectCard(){var n=this;return(0,j.Z)(function*(){try{yield n.storageCardService.ejectCurrentCard()}catch(o){n.errorService.fatalBug(o instanceof Error?o.message:"eject failed")}n.popoverController.dismiss()})()}}return(e=t).\u0275fac=function(n){return new(n||e)(v(ja),v(dc),v(vq),v(dP),v(Mh),v(cc),v(RS),v(Pi),v(Cs),v(pc),v(kP),v(pv),v(Va),v(Mf),v(oo),v(G0),v(nr),v(zu))},e.\u0275cmp=Ye({type:e,selectors:[["app-emulation-context-menu"]],inputs:{showHelp:"showHelp"},decls:15,vars:11,consts:[["lines","full","button","",3,"detail","disabled","click",4,"ngIf"],["lines","full","button","",3,"detail","click",4,"ngIf"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"],["lines","full","button","",3,"detail","disabled","click"],["name","power-outline","slot","end"],["name","sync-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","log-in-outline","slot","end"],["name","log-out-outline","slot","end"],["name","volume-high-outline","slot","end"],["name","volume-mute-outline","slot","end"],["name","share-outline","slot","end"],["name","reload-outline","slot","end"],["name","cog-outline","slot","end"]],template:function(n,o){1&n&&(z(0,"ion-list"),Ut(1,Sq,4,2,"ion-item",0)(2,wq,4,2,"ion-item",0)(3,Eq,4,2,"ion-item",0)(4,Dq,4,2,"ion-item",1)(5,Iq,4,2,"ion-item",1)(6,xq,4,1,"ion-item",1)(7,Tq,4,1,"ion-item",1)(8,Mq,4,2,"ion-item",0)(9,Aq,4,1,"ion-item",1)(10,kq,4,1,"ion-item",1),z(11,"ion-item",2),Be("click",function(){return o.help()}),z(12,"ion-label"),De(13,"Help"),B(),He(14,"ion-icon",3),B()()),2&n&&(ge(1),Ee("ngIf",o.hasActiveSession&&!o.powerDisabled),ge(1),Ee("ngIf",o.hasActiveSession),ge(1),Ee("ngIf",o.hasActiveSession),ge(1),Ee("ngIf",o.supportsStorageCard&&!o.hasMountedCard),ge(1),Ee("ngIf",o.supportsStorageCard&&o.hasMountedCard),ge(1),Ee("ngIf",o.isMuted&&!o.isAudioOff),ge(1),Ee("ngIf",!o.isMuted&&!o.isAudioOff),ge(1),Ee("ngIf",o.hasActiveSession),ge(1),Ee("ngIf",o.hasActiveSession),ge(1),Ee("ngIf",o.hasActiveSession),ge(1),Ee("detail",!1))},dependencies:[Lo,qo,Io,es,zs]}),t})();const Oq=C.p+"assets/doc/emulation-43714ce6b9b92f30.md";function Fq(e,t){if(1&e){const r=Nn();z(0,"ion-item",2),Be("click",function(){const i=Mt(r).$implicit;return At(ut(2).onSelect(i))}),z(1,"div",3),De(2),B()()}if(2&e){const r=t.$implicit,n=t.index,o=ut(2);Ee("detail",!1)("lines",n===o.sessions.length-1?"none":"full"),ge(2),Hi(r.name)}}function Nq(e,t){if(1&e&&(z(0,"ion-list"),Ut(1,Fq,3,3,"ion-item",1),B()),2&e){const r=ut();ge(1),Ee("ngForOf",r.sessions)}}let Lq=(()=>{var e;class t{constructor(){this.onSelect=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ye({type:e,selectors:[["app-emulation-breadcrumb-menu"]],inputs:{sessions:"sessions",onSelect:"onSelect"},decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"detail","lines","click"],[1,"text-wrapper"]],template:function(n,o){1&n&&Ut(0,Nq,2,1,"ion-list",0),2&n&&Ee("ngIf",o.sessions)},dependencies:[Uc,Lo,Io,zs],styles:["ion-item[_ngcontent-%COMP%]{overflow-x:hidden;text-overflow:ellipsis}.text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:calc(var(--cp-breadcrum-menu-width) - 16px)}.ios[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{max-width:calc(var(--cp-breadcrumb-menu-width) - 32px)}"]}),t})();class $q{constructor(t,r){this.emulationService=t,this.canvasDisplayService=r,this.handleMouseDown=n=>{if(0!==n.button)return;const o=this.canvasDisplayService.eventToPalmCoordinates(n);if(!o)return;const i=this.determineArea(o);if(2===i){const s=this.canvasDisplayService.determineButton(o);this.interactionMouse={area:i,buttonPrimary:s},this.handleButtonDown(s)}else this.interactionMouse={area:i},this.emulationService.handlePointerMove(...o,1===i)},this.handleMouseMove=n=>{if(!(1&n.buttons&&this.interactionMouse&&2!==this.interactionMouse?.area))return;const o=this.canvasDisplayService.eventToPalmCoordinates(n,!0);o&&this.emulationService.handlePointerMove(...o,1===this.interactionMouse?.area)},this.handeMouseUp=n=>{if(0!==n.button)return;const o=this.interactionMouse;switch(this.interactionMouse=void 0,o?.area){case 2:this.handleButtonUp(o.buttonPrimary);break;case 0:case 1:this.emulationService.handlePointerUp()}},this.handleTouchStart=n=>{let o=!1;for(let i=0;i<n.changedTouches.length;i++){const s=n.changedTouches.item(i);if(!s)continue;const a=this.canvasDisplayService.eventToPalmCoordinates(s);if(!a)continue;o=!0;const l=this.determineArea(a);if(2===l){const c=this.canvasDisplayService.determineButton(a);this.interactionsTouch.set(s.identifier,{area:l,buttonPrimary:c}),this.handleButtonDown(c)}else this.interactionsTouch.set(s.identifier,{area:l}),this.emulationService.handlePointerMove(...a,1===l)}o&&!1!==n.cancelable&&n.preventDefault()},this.handleTouchMove=n=>{let o=!1;for(let i=0;i<n.changedTouches.length;i++){const s=n.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);if(!a)continue;o=!0;const l=a.area;switch(l){case 2:{const c=this.canvasDisplayService.eventToPalmCoordinates(s);if(!c||2!==this.determineArea(c)){this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0;break}const f=this.canvasDisplayService.determineButton(c);f===a.buttonPrimary?(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0):f!==a.buttonSecondary&&(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=f,this.handleButtonDown(f));break}case 0:case 1:{const c=this.canvasDisplayService.eventToPalmCoordinates(s,!0);if(!c)continue;this.emulationService.handlePointerMove(...c,1===l);break}default:continue}}o&&!1!==n.cancelable&&n.preventDefault()},this.handleTouchEnd=n=>{let o=!1;for(let i=0;i<n.changedTouches.length;i++){const s=n.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);switch(a&&(o=!0),this.interactionsTouch.delete(s.identifier),a?.area){case 2:this.handleButtonUp(a.buttonPrimary),this.handleButtonUp(a.buttonSecondary);break;case 0:case 1:this.emulationService.handlePointerUp()}}o&&!1!==n.cancelable&&n.preventDefault()},this.handleKeyDown=n=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;if(this.isToggleGameMode(n))return n.preventDefault(),this.gameMode=!this.gameMode,void this.onToggleGameMode();const o=this.buttonFromEvent(n);if(void 0!==o)return this.handleButtonDown(o),void n.preventDefault();const i=this.keyCodeFromEvent(n);void 0!==i&&(this.emulationService.handleKeyDown(i),n.preventDefault())},this.handleKeyUp=n=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;const o=this.buttonFromEvent(n);if(void 0!==o)return this.handleButtonUp(o),void n.preventDefault();if("Control"===n.key){for(const i of this.activeButtons)this.emulationService.handleButtonUp(i);this.activeButtons.clear(),this.canvasDisplayService.drawButtons([])}},this.keyEventTarget=window,this.interactionsTouch=new Map,this.activeButtons=new Set,this.gameMode=!1,this.enableGamemodeHotkey=!0}bind(t,r=window){this.pointerEventTarget&&this.release(),this.pointerEventTarget=t,this.keyEventTarget=r||window,this.addEventListener(t,"mousedown",this.handleMouseDown),this.addEventListener(window,"mouseup",this.handeMouseUp),this.addEventListener(window,"mousemove",this.handleMouseMove),this.addEventListener(t,"touchstart",this.handleTouchStart),this.addEventListener(t,"touchmove",this.handleTouchMove),this.addEventListener(t,"touchend",this.handleTouchEnd),this.addEventListener(t,"touchcancel",this.handleTouchEnd),this.addEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.addEventListener(this.keyEventTarget,"keyup",this.handleKeyUp)}release(){if(this.pointerEventTarget){this.removeEventListener(this.pointerEventTarget,"mousedown",this.handleMouseDown),this.removeEventListener(window,"mouseup",this.handeMouseUp),this.removeEventListener(window,"mousemove",this.handleMouseMove),this.removeEventListener(this.pointerEventTarget,"touchstart",this.handleTouchStart),this.removeEventListener(this.pointerEventTarget,"touchmove",this.handleTouchMove),this.removeEventListener(this.pointerEventTarget,"touchend",this.handleTouchEnd),this.removeEventListener(this.pointerEventTarget,"touchcancel",this.handleTouchEnd),this.removeEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.removeEventListener(this.keyEventTarget,"keyup",this.handleKeyUp);for(const t of this.activeButtons)this.handleButtonUp(t);this.activeButtons.clear(),this.interactionsTouch.clear(),this.interactionMouse=void 0,this.pointerEventTarget=void 0}}isGameMode(){return this.gameMode}setGameMode(t){this.gameMode=t,this.onToggleGameMode()}setGameModeHotkeyEnabled(t){this.enableGamemodeHotkey=t}isGameModeHotkeyEnabled(){return this.enableGamemodeHotkey}enableKeyboardEvents(){return!0}onToggleGameMode(){}addEventListener(t,r,n,o){t.addEventListener(r,n,o)}removeEventListener(t,r,n,o){t.removeEventListener(r,n,o)}determineArea(t){return this.canvasDisplayService.isButtons(t)?2:this.canvasDisplayService.isSilkscreen(t)?1:0}handleButtonDown(t){this.activeButtons.has(t)||(this.activeButtons.add(t),this.emulationService.handleButtonDown(t),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}handleButtonUp(t){void 0===t||!this.activeButtons.has(t)||(this.activeButtons.delete(t),this.emulationService.handleButtonUp(t),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}isToggleGameMode(t){return this.isGameModeHotkeyEnabled()&&("Shift"===t.key&&t.ctrlKey||"Control"===t.key&&t.shiftKey)}isGameModeActive(t){return!this.gameMode&&t.ctrlKey||this.gameMode&&!t.ctrlKey}buttonFromEvent(t){switch(t.key){case"PageUp":return 4;case"PageDown":return 5}if(this.isGameModeActive(t))switch(t.key){case"w":case"i":case"ArrowUp":return 4;case"s":case"k":case"ArrowDown":return 5;case"a":case"j":case"y":case"z":case"ArrowLeft":return 0;case"q":case"u":case"x":return 1;case"e":case"o":case"c":return 2;case"d":case"l":case"v":case"ArrowRight":return 3}}keyCodeFromEvent(t){if(!this.isGameModeActive(t)){if(1===t.key.length&&t.key.charCodeAt(0)<=255)return t.key.charCodeAt(0);switch(t.key){case"ArrowLeft":return 28;case"ArrowRight":return 29;case"ArrowUp":return 30;case"ArrowDown":return 31;case"Backspace":return 8;case"Tab":return 9;case"Enter":return 10;default:return}}}}let Bq=(()=>{var e;class t extends $q{constructor(n,o,i,s,a){super(n,o),this.modalWatcher=i,this.ngZone=s,this.app=a}enableKeyboardEvents(){return!this.modalWatcher.isModalActive()}onToggleGameMode(){this.app.tick()}addEventListener(n,o,i,s){this.ngZone.runOutsideAngular(()=>n.addEventListener(o,i,s))}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(ja),ue(pv),ue(fS),ue(Ze),ue(Pa))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function RP(e){return/\.(prc|pdb|pqa)$/i.test(e)}class Hq{constructor(t,r,n,o,i){this.cloudpilotService=t,this.fstools=r,this.alertService=n,this.snapshotService=o,this.files=i,this.filesSuccess=[],this.filesFail=[],this.filesRequireReset=[],this.sizeInstalledSinceLastsnapshot=0,this.skipErrors=!1,this.installedDatabases=new Map}run(){var t=this;return(0,j.Z)(function*(){for(const r of t.files){let n;try{n=yield r.getContent()}catch(o){console.warn(o),t.filesFail.push(r.name);continue}if(/\.zip/i.test(r.name)&&n.length<33554432)try{yield t.installZip(r)}catch{t.filesFail.push(r.name)}else RP(r.name)?yield t.installOne(r.name,n):t.filesFail.push(r.name)}return[t.filesSuccess,t.filesRequireReset,t.filesFail]})()}installOne(t,r){var n=this;return(0,j.Z)(function*(){const i=yield(yield n.cloudpilotService.cloudpilot).installDb(r);switch(i){case 2:n.filesRequireReset.push(t),n.filesSuccess.push(t),n.sizeInstalledSinceLastsnapshot+=r.length;break;case 1:n.filesSuccess.push(t),n.sizeInstalledSinceLastsnapshot+=r.length;break;default:n.filesFail.push(t),yield n.reportError(t,i)}if(2===i||1===i)try{const s=function Uq(e){if(e.length<32)throw new Error("not a database");let t;for(t=0;t<32&&0!==e[t];t++);if(t>31)throw new Error("not a database");return new TextDecoder("latin1",{fatal:!1}).decode(e.subarray(0,t))}(r);n.installedDatabases.has(s)&&(yield n.errorDialog("Duplicate item",`${t} overwrites previously installed database ${n.installedDatabases.get(s)}`)),n.installedDatabases.set(s,t)}catch{}n.sizeInstalledSinceLastsnapshot>4194304&&(yield n.snapshotService.triggerSnapshot(),n.sizeInstalledSinceLastsnapshot=0),yield new Promise(s=>setTimeout(s,0))})()}installZip(t){var r=this;return(0,j.Z)(function*(){const n=yield r.fstools.createZipfileWalker(yield t.getContent());let o=0;for(;0===n.GetState();){const i=n.GetCurrentEntryName().replace(/^.*\//,"");if(!RP(n.GetCurrentEntryName())){n.Next();continue}const s=n.GetCurrentEntryContent();s?(yield r.installOne(i,s),o++):r.filesFail.push(i),n.Next()}if(0===o)throw new Error("no installable files in archive")})()}reportError(t,r){return this.errorDialog("Item failed to install",`Could not install ${t}: ${function Gq(e){switch(e){case-6:return"database exists on device and could not be overwritten";case-4:return"database file is corrupt";case-3:return"database is open on device";case-5:return"internal PalmOS error";case-2:return"not enough memory on device";default:return"unknown reason"}}(r)}.`)}errorDialog(t,r){return this.skipErrors?Promise.resolve():this.alertService.messageWithChoice(t,r,"Skip any remaining errors",!1,{},"Continue").then(n=>{this.skipErrors=n})}}let zq=(()=>{var e;class t{constructor(n,o,i,s,a,l){this.cloudpilotService=n,this.emulationService=o,this.loadingController=i,this.snapshotService=s,this.alertService=a,this.fstools=l}installFiles(n){var o=this;return(0,j.Z)(function*(){const i=yield o.loadingController.create({message:"Installing..."});yield i.present(),yield o.emulationService.pause(),yield o.snapshotService.waitForPendingSnapshot();let s=[],a=[],l=[];try{[s,l,a]=yield new Hq(o.cloudpilotService,o.fstools,o.alertService,o.snapshotService,n).run()}finally{i.dismiss(),o.emulationService.resume()}const c=[o.messageSuccess(s),o.messageFailed(a),o.messageRequireReset(l)].filter(h=>!!h).join("<br/><br/>");let f;f=0===a.length?"Installation successful":0===s.length?"Installation failed":"Installation errors",o.alertService.message(f,c,l.length>0?{"Reset now":()=>o.emulationService.reset()}:void 0)})()}messageSuccess(n){switch(n.length){case 0:return;case 1:return`Installation of ${n[0]} successful.`;default:return`Installation of ${n.length} items successful.`}}messageFailed(n){return n.length>0?`Installation of  ${wS(n)} failed.`:void 0}messageRequireReset(n){return n.length>0?`${wS(n)} require a device reset.`:void 0}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Va),ue(ja),ue(ua),ue(Lh),ue(oo),ue(cv))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),PS=(()=>{var e;class t{constructor(){this.onDragOver=n=>{n.preventDefault(),n.dataTransfer&&(n.dataTransfer.dropEffect=this.currentClient?"copy":"none")},this.onDrop=n=>{n.preventDefault(),this.currentClient&&this.currentClient.handleDragDropEvent(n)},document.addEventListener("drop",this.onDrop),document.addEventListener("dragover",this.onDragOver)}registerClient(n){this.currentClient=n}unregisterClient(n){n===this.currentClient&&(this.currentClient=void 0)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function Wq(e,t){1&e&&He(0,"div",2)}const Zq=["*"];let qq=0,PP=(()=>{var e;class t{constructor(){this.disabled=!1,this.trigger=new tn,this.triggerId="breadcrumb-trigger-"+qq++}handleClick(n){this.disabled||(n.preventDefault(),this.trigger.emit(this.triggerId))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ye({type:e,selectors:[["app-breadcrumb"]],hostVars:3,hostBindings:function(n,o){1&n&&Be("click",function(s){return o.handleClick(s)}),2&n&&(Vs("id",o.triggerId),ia("disabled",o.disabled))},inputs:{disabled:"disabled"},outputs:{trigger:"trigger"},ngContentSelectors:Zq,decls:3,vars:1,consts:[[1,"breadcrumb-current"],["class","select-arrow",4,"ngIf"],[1,"select-arrow"]],template:function(n,o){1&n&&(_t(),z(0,"div",0),gt(1),B(),Ut(2,Wq,1,0,"div",1)),2&n&&(ge(2),Ee("ngIf",!o.disabled))},dependencies:[Lo],styles:["[_nghost-%COMP%]{cursor:pointer;display:inline-flex;flex-direction:row;align-items:center;overflow:hidden;max-width:100%}.ios   [_nghost-%COMP%]{justify-content:center}.disabled[_nghost-%COMP%]{cursor:auto}.breadcrumb-current[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis}.select-arrow[_ngcontent-%COMP%]{border-top:5px solid;border-left:5px solid transparent;border-right:5px solid transparent;display:inline-block;opacity:.33;margin-left:.5em;vertical-align:middle}.md[_ngcontent-%COMP%]   .select-arrow[_ngcontent-%COMP%]{opacity:.55}"]}),t})();var Vh;const Yq=["canvas"];function Kq(e,t){1&e&&He(0,"div",11),2&e&&wu("width",ut().iosPlaceholderWidth)}function Xq(e,t){if(1&e){const r=Nn();z(0,"ion-button",12),Be("click",function(){return Mt(r),At(ut().navigation.lock())}),He(1,"ion-icon",13),B()}}function Qq(e,t){if(1&e){const r=Nn();z(0,"ion-button",12),Be("click",function(){return Mt(r),At(ut().navigation.unlock())}),He(1,"ion-icon",14),B()}}function Jq(e,t){if(1&e){const r=Nn();z(0,"ion-button",12),Be("click",function(o){return Mt(r),At(ut().openContextMenu(o))}),He(1,"ion-icon",15),B()}}function eY(e,t){if(1&e){const r=Nn();z(0,"ion-button",12),Be("click",function(){return Mt(r),At(ut().showGameModeHint())}),He(1,"ion-icon",16),B()}}function tY(e,t){if(1&e){const r=Nn();z(0,"ion-button",12),Be("click",function(){return Mt(r),At(ut().showProxyConnectedHint())}),He(1,"ion-icon",17),B()}}function nY(e,t){if(1&e){const r=Nn();z(0,"ion-button",12),Be("click",function(){return Mt(r),At(ut().showSlowdowndHint())}),He(1,"ion-icon",18),B()}}function rY(e,t){if(1&e){const r=Nn();z(0,"ion-button",12),Be("click",function(o){return Mt(r),At(ut().openContextMenu(o))}),He(1,"ion-icon",15),B()}}function oY(e,t){if(1&e){const r=Nn();z(0,"div",19),De(1," The device was reset forcefully. How do you want to boot? "),z(2,"ion-button",20),Be("click",function(){return Mt(r),At(ut().bootAfterForcefulReset())}),De(3,"Normal boot"),B(),z(4,"ion-button",20),Be("click",function(){return Mt(r),At(ut().bootAfterForcefulResetNoExtensions())}),De(5,"No extensions"),B(),z(6,"ion-button",20),Be("click",function(){return Mt(r),At(ut().bootAfterForcefulResetHardReset())}),De(7,"Hard reset"),B()()}}function iY(e,t){1&e&&(z(0,"div",19)(1,"div"),De(2,"No session selected"),B()())}class Ga{constructor(t,r,n,o,i,s,a,l,c,f,h,m,b,Z,te,_e,Ie,Ae,bt,vt,Ht){var xt=this;this.emulationService=t,this.emulationState=r,this.storageService=n,this.eventHandlingService=o,this.canvasDisplayService=i,this.kvsService=s,this.popoverController=a,this.modalController=l,this.alertService=c,this.fileService=f,this.snapshotService=h,this.installlationService=m,this.proxyService=b,this.navigation=Z,this.linkApi=te,this.performanceWatchdogService=_e,this.cloudpilotService=Ie,this.dragDropService=Ae,this.sessionService=bt,this.loadingController=vt,this.config=Ht,this.ionViewDidEnter=()=>this.mutex.runExclusive((0,j.Z)(function*(){yield xt.emulationService.bootstrapComplete(),xt.bootstrapComplete=!0;const ir=xt.emulationState.getCurrentSession();ir&&!ir.wasResetForcefully&&(yield xt.launchEmulator()),xt.linkApi.installation.requestEvent.addHandler(xt.handleLinkApiInstallationRequest),xt.handleLinkApiInstallationRequest(),xt.dragDropService.registerClient(xt)})),this.ionViewWillLeave=()=>this.mutex.runExclusive(()=>{this.dragDropService.unregisterClient(this),this.linkApi.installation.requestEvent.removeHandler(this.handleLinkApiInstallationRequest),this.emulationService.isRunning()&&(this.autoLockUI=!1),this.emulationService.pause(),this.emulationService.newFrameEvent.removeHandler(this.onNewFrame),this.snapshotService.snapshotEvent.removeHandler(this.onSnapshot),this.kvsService.updateEvent.removeHandler(this.onKvsUpdate),this.eventHandlingService.release(),this.navigation.unlock()}),this.onKvsUpdate=()=>{this.kvsService.kvs.showStatistics?this.canvasDisplayService.updateStatistics():this.canvasDisplayService.clearStatistics()},this.onSnapshot=ir=>{this.kvsService.kvs.showStatistics&&this.canvasDisplayService.updateStatistics(ir,this.emulationService.getStatistics())},this.onNewFrame=ir=>{this.canvasDisplayService.updateEmulationCanvas(ir)},this.handleLinkApiInstallationRequest=()=>{if(!this.linkApi.installation.hasPendingRequest())return;const ir=this.linkApi.installation.receivePendingUrl();ir&&(this.installFileDisabled?this.alertService.message("Unable to install","Installation is currently not possible.",{},"Cancel"):this.emulationState.getCurrentSession()&&this.emulationService.isRunning()?this.alertService.message("Installation request",`Do you want to install<br>${ir} ?`,{OK:()=>this.fileService.openUrl(ir,Ha=>this.installlationService.installFiles([Ha]))},"Cancel"):this.alertService.message("Unable to install",`Please start a session in order to install ${ir} .`,{},"Cancel"))},this.bootstrapComplete=!1,this.switching=!1,this.lastTitle="",this.autoLockUI=!0,this.mutex=new Ba}get cssWidth(){return this.canvasDisplayService.width/devicePixelRatio+"px"}get cssHeight(){return this.canvasDisplayService.height/devicePixelRatio+"px"}ionViewWillEnter(){this.switching=!1}openContextMenu(t,r="trigger"){var n=this;return(0,j.Z)(function*(){(yield n.popoverController.create({component:Pq,event:t,componentProps:{showHelp:()=>n.showHelp()},arrow:!1,translucent:!0,reference:r})).present()})()}onContextMenu(t){t.preventDefault(),this.openContextMenu(t,"event")}handleDragDropEvent(t){this.installFileDisabled||this.fileService.openFromDrop(t,this.installlationService.installFiles.bind(this.installlationService))}installFiles(){this.fileService.openFiles(this.installlationService.installFiles.bind(this.installlationService))}showHelp(){var t=this;return(0,j.Z)(function*(){yield(yield t.modalController.create({component:Zu,componentProps:{url:Oq}})).present()})()}showGameModeHint(){var t=this;return(0,j.Z)(function*(){yield t.alertService.message("Game mode","\n                The keyboard is in game mode and controls the hardware buttons.\n                Press ctrl-shift in order to exit game mode.\n                <br/><br/>\n                Check the help page for a description of the different keyboard mappings.\n            ",{Help:()=>t.showHelp()})})()}showProxyConnectedHint(){var t=this;return(0,j.Z)(function*(){yield t.alertService.message("Proxy connected","Network proxy connected.")})()}showSlowdowndHint(){var t=this;return(0,j.Z)(function*(){yield t.alertService.message("Speed throttled","\n                Your host is too slow to run your virtual device at full speed, and the clock\n                has been throttled in order to compensate. You can avoid this by reducing the speed of your\n                virtual device in the session settings.\n        ")})()}get installFileDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}bootAfterForcefulReset(){var t=this;return(0,j.Z)(function*(){yield t.clearForcefulReset(),yield t.launchEmulator()})()}bootAfterForcefulResetNoExtensions(){var t=this;return(0,j.Z)(function*(){yield t.clearForcefulReset(),(yield t.cloudpilotService.cloudpilot).resetNoExtensions(),yield t.launchEmulator()})()}bootAfterForcefulResetHardReset(){var t=this;return(0,j.Z)(function*(){yield t.clearForcefulReset(),(yield t.cloudpilotService.cloudpilot).resetHard(),yield t.launchEmulator()})()}get iosPlaceholderWidth(){let t=0;return this.eventHandlingService.isGameMode()&&t++,this.proxyService.isConnected()&&t++,this.performanceWatchdogService.isSlowdownDetected()&&t++,t>1?35*(t-1)+"px":"0"}cancelIfEmulationActive(t){this.emulationState.getCurrentSession()&&!this.emulationState.getCurrentSession()?.wasResetForcefully&&t.cancelable&&t.preventDefault()}onBreadcrumbTrigger(t){var r=this;return(0,j.Z)(function*(){(yield r.popoverController.create({component:Lq,componentProps:{sessions:r.sessionService.getSessions().filter(o=>o.id!==r.emulationState.getCurrentSession()?.id),onSelect:o=>r.switchSession(o)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===r.config.get("mode")?"center":"start",trigger:t,cssClass:"cp-breadcrumb-menu"})).present()})()}get sessions(){return this.sessionService.getSessions()}get currentSession(){return this.emulationState.getCurrentSession()}clearForcefulReset(){var t=this;return(0,j.Z)(function*(){const r=t.emulationState.getCurrentSession();r&&(yield t.storageService.updateSessionPartial(r.id,{wasResetForcefully:!1}))})()}get title(){return this.bootstrapComplete?this.switching?this.lastTitle:this.emulationState.getCurrentSession()?.name??"No session":""}launchEmulator(){var t=this;return(0,j.Z)(function*(){const r=t.emulationState.getCurrentSession();r&&(yield t.kvsService.mutex.runExclusive(()=>t.kvsService.kvs.autoLockUI&&t.autoLockUI&&t.navigation.lock()),t.canvasDisplayService.initialize(t.canvasRef.nativeElement,r).then(()=>{t.onKvsUpdate(),t.kvsService.updateEvent.addHandler(t.onKvsUpdate)}),t.onNewFrame(t.emulationService.getCanvas()),t.emulationService.newFrameEvent.addHandler(t.onNewFrame),t.snapshotService.snapshotEvent.addHandler(t.onSnapshot),yield t.emulationService.resume(),t.eventHandlingService.bind(t.canvasRef.nativeElement))})()}switchSession(t){var r=this;return(0,j.Z)(function*(){const n=yield r.loadingController.create();yield n.present();try{if(r.lastTitle=r.title,r.switching=!0,yield r.emulationService.pause(),!(yield r.emulationService.switchSession(t.id,{showLoader:!1})))return void(yield r.alertService.errorMessage("Failed to launch session"));t.wasResetForcefully||(yield r.launchEmulator())}finally{n.dismiss(),r.switching=!1}})()}}(Vh=Ga).\u0275fac=function(t){return new(t||Vh)(v(ja),v(dc),v(nr),v(Bq),v(pv),v(Pi),v(cc),v(Cs),v(oo),v(iu),v(Lh),v(zq),v(gS),v(MS),v(TC),v(kP),v(Va),v(PS),v(pc),v(ua),v(vh))},Vh.\u0275cmp=Ye({type:Vh,selectors:[["app-emulation"]],viewQuery:function(t,r){if(1&t&&Bc(Yq,5),2&t){let n;Gs(n=Us())&&(r.canvasRef=n.first)}},decls:23,vars:23,consts:[[3,"disabled","trigger"],["class","ios-title-placeholder",3,"width",4,"ngIf"],["slot","primary"],[3,"disabled","click"],["name","download-outline"],[3,"click",4,"ngIf"],["slot","secondary"],[3,"contextmenu"],[1,"container","running-session",3,"touchstart","touchmove"],["canvas",""],["class","container no-session",4,"ngIf"],[1,"ios-title-placeholder"],[3,"click"],["name","lock-open-outline"],["name","lock-closed-outline"],["name","ellipsis-vertical-outline"],["name","game-controller-outline"],["name","swap-vertical-outline"],["name","speedometer-outline"],[1,"container","no-session"],["type","button","color","light",3,"click"]],template:function(t,r){if(1&t&&(z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title")(3,"app-breadcrumb",0),Be("trigger",function(o){return r.onBreadcrumbTrigger(o)}),Ut(4,Kq,1,2,"div",1),De(5),B()(),z(6,"ion-buttons",2)(7,"ion-button",3),Be("click",function(){return r.installFiles()}),He(8,"ion-icon",4),B(),Ut(9,Xq,2,0,"ion-button",5)(10,Qq,2,0,"ion-button",5),B(),z(11,"ion-buttons",6),Ut(12,Jq,2,0,"ion-button",5)(13,eY,2,0,"ion-button",5)(14,tY,2,0,"ion-button",5)(15,nY,2,0,"ion-button",5)(16,rY,2,0,"ion-button",5),B()()(),z(17,"ion-content",7),Be("contextmenu",function(o){return r.onContextMenu(o)}),z(18,"div",8),Be("touchstart",function(o){return r.cancelIfEmulationActive(o)})("touchmove",function(o){return r.cancelIfEmulationActive(o)}),He(19,"canvas",null,9),B(),Ut(21,oY,8,0,"div",10)(22,iY,3,0,"div",10),B()),2&t){let n,o;ge(3),Ee("disabled",!r.bootstrapComplete||1===r.sessions.length&&!!r.currentSession||0===r.sessions.length),ge(1),Ee("ngIf","ios"===r.config.get("mode")),ge(1),wi(" ",r.title,""),ge(2),Ee("disabled",r.installFileDisabled),ge(2),Ee("ngIf",!r.navigation.isLocked()),ge(1),Ee("ngIf",r.navigation.isLocked()),ge(2),Ee("ngIf","ios"===r.config.get("mode")),ge(1),Ee("ngIf",r.eventHandlingService.isGameMode()),ge(1),Ee("ngIf",r.proxyService.isConnected()),ge(1),Ee("ngIf",r.performanceWatchdogService.isSlowdownDetected()),ge(1),Ee("ngIf","ios"!==r.config.get("mode")),ge(1),ia("locked",r.navigation.isLocked()),ge(1),wu("display",!r.emulationState.getCurrentSession()||null!=(n=r.emulationState.getCurrentSession())&&n.wasResetForcefully?"none":void 0),ge(1),wu("width",r.cssWidth)("height",r.cssHeight)("display",r.emulationState.getCurrentSession()?"block":"none"),ge(2),Ee("ngIf",null!=(o=r.emulationState.getCurrentSession())&&o.wasResetForcefully?"none":void 0),ge(1),Ee("ngIf",!r.emulationState.getCurrentSession()&&r.bootstrapComplete&&!r.switching)}},dependencies:[Lo,Ki,Xi,Qi,Ji,qo,ts,ns,PP],styles:[".ios-title-placeholder[_ngcontent-%COMP%]{display:inline-block}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:3px}.container.no-session[_ngcontent-%COMP%]{text-align:center;padding:1em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:1em;width:100%;max-width:20em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-of-type{margin-top:3em}ion-content.locked[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-bottom:var(--ion-safe-area-bottom, 0)}.container.running-session[_ngcontent-%COMP%]{background:radial-gradient(circle,#ccc 0%,#eee 100%)}@media (prefers-color-scheme: dark){.container.running-session[_ngcontent-%COMP%]{background:none}}canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}"]}),oe([Gn()],Ga.prototype,"openContextMenu",null),oe([Gn()],Ga.prototype,"showHelp",null),oe([Gn()],Ga.prototype,"showGameModeHint",null),oe([Gn()],Ga.prototype,"showProxyConnectedHint",null),oe([Gn()],Ga.prototype,"showSlowdowndHint",null),oe([Gn()],Ga.prototype,"bootAfterForcefulReset",null),oe([Gn()],Ga.prototype,"bootAfterForcefulResetNoExtensions",null),oe([Gn()],Ga.prototype,"bootAfterForcefulResetHardReset",null),oe([Gn()],Ga.prototype,"onBreadcrumbTrigger",null);const OP="reduced-animations",sY=e=>(e.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)",e.querySelector(".action-sheet-wrapper").style.transform="translateY(0%)",(0,B0.c)()),aY=e=>{e.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)";const t=e.querySelector(".loading-wrapper");return t.style.transform="scale(1)",t.style.opacity="1",(0,B0.c)()},lY=e=>{e.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)";const t=e.querySelector(".alert-wrapper");return t.style.transform="scale(1)",t.style.opacity="1",(0,B0.c)()};function FP(e){J0(OP,e?"1":"0")}function NP(){return"1"===($R(OP)??"0")}const uY=C.p+"assets/doc/settings-2a27b0ba9938d4bf.md";function dY(e,t){1&e&&(z(0,"ion-item",7)(1,"ion-label"),De(2,"Run when hidden"),B(),He(3,"ion-toggle",17),B())}function fY(e,t){1&e&&(z(0,"ion-item",7)(1,"ion-label"),De(2,"Clipboard integration"),B(),He(3,"ion-toggle",18),B())}function pY(e,t){if(1&e){const r=Nn();z(0,"ion-item",7)(1,"ion-label",19),De(2,"Proxy server"),B(),z(3,"div",20),He(4,"ion-input",21),z(5,"ion-button",22),Be("click",function(o){Mt(r);const i=ut();return o.preventDefault(),o.stopPropagation(),At(i.testProxyConnection())})("touchstart",function(o){Mt(r);const i=ut();return o.preventDefault(),o.stopPropagation(),At(i.testProxyConnection())}),De(6," Test "),B()()()}if(2&e){const r=ut();ge(5),Ee("disabled",!r.proxyServerValid)}}function hY(e,t){if(1&e&&(z(0,"ion-item",7)(1,"ion-select",23)(2,"ion-select-option",24),De(3,"Off"),B(),z(4,"ion-select-option",24),De(5,"Portrait"),B(),z(6,"ion-select-option",24),De(7,"Landscape"),B(),z(8,"ion-select-option",24),De(9,"Always"),B()()()),2&e){const r=ut();ge(2),Ee("value",r.indicatorFixNone),ge(2),Ee("value",r.indicatorFixPortrait),ge(2),Ee("value",r.indicatorFixLandscape),ge(2),Ee("value",r.indicatorFixAll)}}function mY(e,t){1&e&&(Du(0),z(1,"h1"),De(2,"Debug"),B(),z(3,"ion-item",7)(4,"ion-label"),De(5,"Snapshot validation (slow)"),B(),He(6,"ion-toggle",25),B(),Iu())}let gY=(()=>{var e;class t{constructor(n,o,i,s,a,l){this.modalController=n,this.kvsService=o,this.clipboardService=i,this.alertService=s,this.proxyService=a,this.featureService=l,this.onAudioOnStartChange=c=>{this.kvsService.kvs.enableAudioOnFirstInteraction=c,xo&&bf?this.alertService.message("Enable audio on start","\n                    This option will take effect the next time the app restarts.\n                "):c&&this.alertService.message("Enable audio on start","\n                Audio will automatically turn on after the first interaction with the application\n                (i.e. touch, click or keyboard event).\n                <br><br>\n                This option will take effect the next time CloudpilotEmu reloads.\n            ")},this.onReducedAnimationsChange=c=>{FP(c),this.alertService.message("Reduce animations",c?"\n                Animations will be slightly reduced in order to provide a snappier UI. This\n                reduces UI lag on older iOS devices with large screens.\n                <br><br>\n                This option will take effect the next time\n                CloudpilotEmu reloads.\n            ":"\n                This option will only take effect the next time CloudpilotEmu reloads.\n            ")},this.onIndicatorFixModeChange=c=>EP(c),this.indicatorFixNone="none",this.indicatorFixPortrait="portrait",this.indicatorFixLandscape="landscape",this.indicatorFixAll="all",this.connectionTestInProgress=!1}ngOnInit(){this.createFormGroup()}showHelp(){var n=this;return(0,j.Z)(function*(){yield(yield n.modalController.create({component:Zu,componentProps:{url:uY}})).present()})()}ionViewWillEnter(){this.mutexReleasePromise=this.kvsService.mutex.acquire()}ionViewWillLeave(){var n=this;return(0,j.Z)(function*(){n.formGroup.get("networkRedirection")?.value&&!n.formGroup.get("proxyServer")?.valid&&(n.alertService.message("Invalid proxy server","The proxy server you specified is invalid. Network redirection will be disabled."),n.formGroup.get("networkRedirection").setValue(!1)),n.formGroup.get("networkRedirection")?.value||n.formGroup.get("proxyServer")?.setValue(n.kvsService.kvs.proxyServer),yield n.kvsService.set({volume:n.formGroup.get("volume").value,showStatistics:n.formGroup.get("showStatistics").value,clipboardIntegration:n.formGroup.get("clipboardIntegration")?.value,networkRedirection:n.formGroup.get("networkRedirection")?.value,proxyServer:n.formGroup.get("proxyServer")?.value,runHidden:n.formGroup.get("runHidden")?.value,autoLockUI:n.formGroup.get("autoLockUI")?.value,enableRemoteInstall:n.formGroup.get("enableRemoteInstall")?.value,enableAudioOnFirstInteraction:n.formGroup.get("audioOnStart")?.value,snapshotIntegrityCheck:n.formGroup.get("snapshotIntegrityCheck")?.value}),FP(n.formGroup.get("reducedAnimations")?.value),n.mutexReleasePromise&&(yield n.mutexReleasePromise)()})()}testProxyConnection(){var n=this;return(0,j.Z)(function*(){if(!n.connectionTestInProgress){n.connectionTestInProgress=!0;try{switch((yield n.proxyService.handshake(n.formGroup.get("proxyServer")?.value,0)).status){case"failed":n.alertService.errorMessage("Unable to connect to proxy");break;case"version_mismatch":n.alertService.proxyVersionMismatchError();break;default:n.alertService.message("Success","Connection to proxy successful.")}}finally{n.connectionTestInProgress=!1}}})()}get showProxyServer(){return this.formGroup.get("networkRedirection")?.value}get proxyServerValid(){const n=this.formGroup.get("proxyServer");return!(!n?.value||!n?.valid)}get showDebugOptions(){return da.debug}get isIndicatorFixApplicable(){return DS()}get featureRunHidden(){return this.featureService.runHidden}createFormGroup(){this.formGroup=new N_({volume:new $o(this.kvsService.kvs.volume),showStatistics:new $o(this.kvsService.kvs.showStatistics),runHidden:new $o(this.kvsService.kvs.runHidden),clipboardIntegration:new $o(this.kvsService.kvs.clipboardIntegration),networkRedirection:new $o(this.kvsService.kvs.networkRedirection),proxyServer:new $o(this.kvsService.kvs.proxyServer,{validators:[mZ]}),autoLockUI:new $o(this.kvsService.kvs.autoLockUI),enableRemoteInstall:new $o(this.kvsService.kvs.enableRemoteInstall),audioOnStart:new $o(this.kvsService.kvs.enableAudioOnFirstInteraction),snapshotIntegrityCheck:new $o(this.kvsService.kvs.snapshotIntegrityCheck),reducedAnimations:new $o(NP()),indicatorFixMode:new $o(wP())}),this.formGroup.get("audioOnStart")?.valueChanges.subscribe(this.onAudioOnStartChange),this.formGroup.get("reducedAnimations")?.valueChanges.subscribe(this.onReducedAnimationsChange),this.formGroup.get("indicatorFixMode")?.valueChanges.subscribe(this.onIndicatorFixModeChange)}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Cs),v(Pi),v(hS),v(oo),v(gS),v(IS))},e.\u0275cmp=Ye({type:e,selectors:[["app-settings"]],decls:54,vars:6,consts:[["slot","secondary"],[3,"click"],["name","help-outline"],["collapse","condense"],["size","large"],[1,"settings-container"],[1,"settings-form",3,"formGroup"],["lines","none"],["min","0","max","1","step","0.1","formControlName","volume"],["formControlName","audioOnStart"],["lines","none",4,"ngIf"],["formControlName","networkRedirection"],["formControlName","autoLockUI"],["formControlName","reducedAnimations"],["formControlName","showStatistics"],["formControlName","enableRemoteInstall"],[4,"ngIf"],["formControlName","runHidden"],["formControlName","clipboardIntegration"],["position","stacked"],[1,"server-container"],["placeholder","Proxy server host or URL","formControlName","proxyServer"],[3,"disabled","click","touchstart"],["label","Fix iOS home indicator","formControlName","indicatorFixMode"],[3,"value"],["formControlName","snapshotIntegrityCheck"]],template:function(n,o){1&n&&(z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),De(3,"Settings"),B(),z(4,"ion-buttons",0)(5,"ion-button",1),Be("click",function(){return o.showHelp()}),He(6,"ion-icon",2),B(),He(7,"app-pwa-prompt"),B()()(),z(8,"ion-content")(9,"ion-header",3)(10,"ion-toolbar")(11,"ion-title",4),De(12,"Settings"),B()()(),z(13,"div",5)(14,"form",6)(15,"h1"),De(16,"Emulation"),B(),z(17,"ion-item",7)(18,"ion-label"),De(19,"Volume"),B(),He(20,"ion-range",8),B(),z(21,"ion-item",7)(22,"ion-label"),De(23,"Enable audio on start"),B(),He(24,"ion-toggle",9),B(),Ut(25,dY,4,0,"ion-item",10),z(26,"h1"),De(27,"Host integration"),B(),Ut(28,fY,4,0,"ion-item",10),z(29,"ion-item",7)(30,"ion-label"),De(31,"Network redirection"),B(),He(32,"ion-toggle",11),B(),Ut(33,pY,7,1,"ion-item",10),z(34,"h1"),De(35,"User interface"),B(),z(36,"ion-item",7)(37,"ion-label"),De(38,"Auto-lock UI"),B(),He(39,"ion-toggle",12),B(),z(40,"ion-item",7)(41,"ion-label"),De(42,"Reduce animations"),B(),He(43,"ion-toggle",13),B(),z(44,"ion-item",7)(45,"ion-label"),De(46,"Show statistics"),B(),He(47,"ion-toggle",14),B(),z(48,"ion-item",7)(49,"ion-label"),De(50,"Open from remote sources"),B(),He(51,"ion-toggle",15),B(),Ut(52,hY,10,4,"ion-item",10)(53,mY,7,0,"ng-container",16),B()()()),2&n&&(ge(14),Ee("formGroup",o.formGroup),ge(11),Ee("ngIf",o.featureRunHidden),ge(3),Ee("ngIf",o.clipboardService.isSupported()),ge(5),Ee("ngIf",o.showProxyServer),ge(19),Ee("ngIf",o.isIndicatorFixApplicable),ge(1),Ee("ngIf",o.showDebugOptions))},dependencies:[Lo,sc,oc,ic,Ki,Xi,Qi,Ji,qo,lc,Io,es,V0,Eh,Dh,ts,xh,ns,yf,wh,ac,hv,$a,Dl],styles:[".server-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.server-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex-grow:1}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.settings-form[_ngcontent-%COMP%]{max-width:40em;flex-basis:100%}ion-item[_ngcontent-%COMP%]{--background: none}ion-select[_ngcontent-%COMP%]{margin-right:.5em}"]}),t})(),OS=(()=>{var e;class t{transform(n){return void 0!==n?`${Math.round(n/1024/1024)} MB`:""}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275pipe=Oo({name:"cardSize",type:e,pure:!0}),t})();function _Y(e,t){1&e&&(z(0,"div",13)(1,"b"),De(2,"WARNING:"),B(),De(3," This image cannot be used as a memory stick image."),B())}let LP=(()=>{var e;class t{constructor(n){this.storageCardService=n,this.validateNameUnique=o=>this.storageCardService.getAllCards().some(i=>i.name===o.value&&i.name!==this.card?.name)?{name:"already taken"}:null,this.formGroup=new Jc({name:new bs("",{nonNullable:!0,validators:[fh.required,this.validateNameUnique]}),size:new bs({value:"dummy",disabled:!0}),checkAutomatically:new bs(!0,{nonNullable:!0})}),this.newCard=!1,this.cardSupportLevel=2,this.onCancel=()=>{},this.onSave=()=>{}}ngOnInit(){this.card&&(this.formGroup.controls.name.setValue(this.card.name),this.formGroup.controls.checkAutomatically.setValue(!this.card.dontFsckAutomatically))}save(){!this.formGroup.valid||!this.formGroup.value.name||!this.card||this.onSave({name:this.formGroup.value.name,dontFsckAutomatically:!this.formGroup.value.checkAutomatically})}onEnter(){this.save()}get memoryStickSupported(){return 2===this.cardSupportLevel}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Mf))},e.\u0275cmp=Ye({type:e,selectors:[["app-edit-card-dialog"]],inputs:{card:"card",newCard:"newCard",cardSupportLevel:"cardSupportLevel",onCancel:"onCancel",onSave:"onSave"},decls:28,vars:7,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],["value","dummy"],["formControlName","checkAutomatically"],["class","sd-only-warning",4,"ngIf"],[1,"sd-only-warning"]],template:function(n,o){1&n&&(z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),De(3),B(),z(4,"ion-buttons",0)(5,"ion-button",1),Be("click",function(){return o.save()}),De(6,"Save"),B()(),z(7,"ion-buttons",2)(8,"ion-button",3),Be("click",function(){return o.onCancel()}),De(9,"Cancel"),B()()()(),z(10,"ion-content",4)(11,"form",5),Be("keydown.enter",function(){return o.onEnter()}),z(12,"ion-item",6)(13,"ion-label",7),De(14,"Card name"),B(),He(15,"ion-input",8),B(),z(16,"ion-item",6)(17,"ion-label",7),De(18,"Card size"),B(),z(19,"ion-select",9)(20,"ion-select-option",10),De(21),gl(22,"cardSize"),B()()(),z(23,"ion-item",6)(24,"ion-label"),De(25,"Check for errors automatically"),B(),He(26,"ion-toggle",11),B()(),Ut(27,_Y,4,0,"div",12),B()),2&n&&(ge(3),Hi(o.newCard?"New memory card":"Edit memory card"),ge(2),Ee("disabled",o.formGroup.invalid),ge(6),Ee("formGroup",o.formGroup),ge(10),wi("",_l(22,5,null==o.card?null:o.card.size)," "),ge(6),Ee("ngIf",!o.memoryStickSupported))},dependencies:[Lo,Ki,Xi,Qi,Ji,lc,Io,es,Eh,Dh,ts,xh,ns,yf,wh,ac,sc,oc,ic,$a,Dl,OS],styles:[".sd-only-warning[_ngcontent-%COMP%]{padding:2em 1em}"]}),t})();function vY(e,t){if(1&e&&(z(0,"ion-select-option",12),De(1),gl(2,"cardSize"),B()),2&e){const r=t.$implicit,n=ut();Ee("value",r),ge(1),wi("",_l(2,2,n.sizeBytes(r))," ")}}const yY=[Yo.mb4,Yo.mb8,Yo.mb16,Yo.mb32,Yo.mb64,Yo.mb128];let bY=(()=>{var e;class t{constructor(n){this.storageCardService=n,this.validateNameUnique=o=>this.storageCardService.getAllCards().some(i=>i.name===o.value)?{name:"already taken"}:null,this.onCreate=()=>{},this.onCancel=()=>{},this.formGroup=new Jc({name:new bs("",{nonNullable:!0,validators:[fh.required,this.validateNameUnique]}),size:new bs(Yo.mb32,{nonNullable:!0}),checkAutomatically:new bs(!0,{nonNullable:!0})})}get sizes(){return yY}sizeBytes(n){return function jZ(e){switch(e){case Yo.mb4:return 4046848;case Yo.mb8:return 8110080;case Yo.mb16:return 16220160;case Yo.mb32:return 32473088;case Yo.mb64:return 64978944;case Yo.mb128:return 129990656;default:throw new Error(`bad card size ${e}`)}}(n)}create(){!this.formGroup.valid||void 0===this.formGroup.value.name||void 0===this.formGroup.value.size||this.onCreate(this.formGroup.value.name,this.formGroup.value.size,!this.formGroup.value.checkAutomatically)}onEnter(){this.create()}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Mf))},e.\u0275cmp=Ye({type:e,selectors:[["app-new-card-dialog"]],inputs:{onCreate:"onCreate",onCancel:"onCancel"},decls:25,vars:3,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],[3,"value",4,"ngFor","ngForOf"],["formControlName","checkAutomatically"],[3,"value"]],template:function(n,o){1&n&&(z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),De(3,"New memory card"),B(),z(4,"ion-buttons",0)(5,"ion-button",1),Be("click",function(){return o.create()}),De(6,"Create"),B()(),z(7,"ion-buttons",2)(8,"ion-button",3),Be("click",function(){return o.onCancel()}),De(9,"Cancel"),B()()()(),z(10,"ion-content",4)(11,"form",5),Be("keydown.enter",function(){return o.onEnter()}),z(12,"ion-item",6)(13,"ion-label",7),De(14,"Card name"),B(),He(15,"ion-input",8),B(),z(16,"ion-item",6)(17,"ion-label",7),De(18,"Card size"),B(),z(19,"ion-select",9),Ut(20,vY,3,4,"ion-select-option",10),B()(),z(21,"ion-item",6)(22,"ion-label"),De(23,"Check for errors automatically"),B(),He(24,"ion-toggle",11),B()()()),2&n&&(ge(5),Ee("disabled",o.formGroup.invalid),ge(6),Ee("formGroup",o.formGroup),ge(9),Ee("ngForOf",o.sizes))},dependencies:[Uc,Ki,Xi,Qi,Ji,lc,Io,es,Eh,Dh,ts,xh,ns,yf,wh,ac,sc,oc,ic,$a,Dl,OS]}),t})();function su(e,t,r){return()=>{const n=r();n!==t&&(e.markForCheck(),t=n)}}const CY=C.p+"assets/doc/cards-75195154c07dfe52.md";let SY=(()=>{var e;class t{constructor(){this.cardCount=0}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ye({type:e,selectors:[["app-storage-action-menu-cards"]],inputs:{cardCount:"cardCount",onExport:"onExport",onDelete:"onDelete",onHelp:"onHelp"},decls:10,vars:5,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","share-outline","slot","end"],["name","trash-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(n,o){1&n&&(z(0,"ion-list")(1,"ion-item",0),Be("click",function(){return null==o.onExport?null:o.onExport()}),He(2,"ion-icon",1),De(3," Export "),B(),z(4,"ion-item",0),Be("click",function(){return null==o.onDelete?null:o.onDelete()}),He(5,"ion-icon",2),De(6," Delete "),B(),z(7,"ion-item",3),Be("click",function(){return null==o.onHelp?null:o.onHelp()}),He(8,"ion-icon",4),De(9," Help "),B()()),2&n&&(ge(1),Ee("detail",!1)("disabled",0===o.cardCount),ge(3),Ee("detail",!1)("disabled",0===o.cardCount),ge(3),Ee("detail",!1))},dependencies:[qo,Io,zs]}),t})(),wY=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCheck=()=>{},this.onDelete=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ye({type:e,selectors:[["app-storage-context-menu-card"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCheck:"onCheck",onDelete:"onDelete"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","medkit-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(n,o){1&n&&(z(0,"ion-list")(1,"ion-item",0),Be("click",function(){return o.onEdit()}),He(2,"ion-icon",1),De(3," Edit "),B(),z(4,"ion-item",0),Be("click",function(){return o.onSave()}),He(5,"ion-icon",2),De(6," Export "),B(),z(7,"ion-item",0),Be("click",function(){return o.onCheck()}),He(8,"ion-icon",3),De(9," Check "),B(),z(10,"ion-item",4),Be("click",function(){return o.onDelete()}),He(11,"ion-icon",5),De(12," Delete "),B()()),2&n&&(ge(1),Ee("detail",!1),ge(3),Ee("detail",!1),ge(3),Ee("detail",!1),ge(3),Ee("detail",!1))},dependencies:[qo,Io,zs]}),t})();function EY(e,t){1&e&&He(0,"ion-icon",15)}function DY(e,t){1&e&&He(0,"ion-icon",16)}let IY=(()=>{var e;class t{constructor(n,o,i,s){this.storageCardService=n,this.popoverController=o,this.cd=s,this.touched=!1,this.interaction=new tn,this.selecting=!1,this.selectedForExport=!1,this.selectCard=new tn,this.edit=new tn,this.check=new tn,this.delete=new tn,this.save=new tn,this.checkSessions=su(s,[],()=>i.getSessions())}ngDoCheck(){this.checkSessions()}onContextmenu(n){var o=this;return(0,j.Z)(function*(){n.stopPropagation(),n.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:wY,event:n,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.edit.emit(o.card),onSave:()=>o.save.emit(o.card),onCheck:()=>o.check.emit(),onDelete:()=>o.delete.emit()},reference:"event"})).present()})()}get color(){if(this.touched)return"light"}get status(){if(!this.card)return"";const n=this.storageCardService.mountedInSession(this.card?.id);if(n)return`attached to '${n.name}'`;if(this.card.dontFsckAutomatically)return"not checked automatically";switch(this.card.status){case mr.dirty:return"needs check";case mr.clean:return"no errors";case mr.unformatted:return"no filesystem";case mr.unfixable:return"uncorrectable errors";default:throw new Error("unreachable")}}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Mf),v(cc),v(pc),v(ft))},e.\u0275cmp=Ye({type:e,selectors:[["app-storage-card"]],inputs:{card:"card",touched:"touched",selecting:"selecting",selectedForExport:"selectedForExport"},outputs:{interaction:"interaction",selectCard:"selectCard",edit:"edit",check:"check",delete:"delete",save:"save"},decls:21,vars:10,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","medkit-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(n,o){if(1&n){const i=Nn();z(0,"ion-item-sliding",0,1),Be("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit(o.card)}),z(2,"ion-item-options",2)(3,"ion-item-option",3),Be("click",function(){return Mt(i),js(1).close(),At(o.edit.emit(o.card))}),He(4,"ion-icon",4),B(),z(5,"ion-item-option",5),Be("click",function(){return Mt(i),js(1).close(),At(o.save.emit(o.card))}),He(6,"ion-icon",6),B()(),z(7,"ion-item-options",7)(8,"ion-item-option",8),Be("click",function(){return Mt(i),js(1).close(),At(o.check.emit(o.card))}),He(9,"ion-icon",9),B(),z(10,"ion-item-option",10),Be("click",function(){return Mt(i),js(1).close(),At(o.delete.emit(o.card))}),He(11,"ion-icon",11),B()(),z(12,"ion-item",12),Be("click",function(){return o.selectCard.emit(),o.interaction.emit()}),z(13,"ion-label")(14,"h2"),De(15),B(),z(16,"p"),De(17),gl(18,"cardSize"),B()(),Ut(19,EY,1,0,"ion-icon",13)(20,DY,1,0,"ion-icon",14),B()()}2&n&&(ge(12),Ee("color",o.color),ge(1),ia("selecting",o.selecting),ge(2),Hi(null==o.card?null:o.card.name),ge(2),Np("",_l(18,8,null==o.card?null:o.card.size),", ",o.status,""),ge(2),Ee("ngIf",o.selecting&&!o.selectedForExport),ge(1),Ee("ngIf",o.selecting&&o.selectedForExport))},dependencies:[Lo,qo,Io,U_,H_,z_,es,OS],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 4.5em)}"],changeDetection:0}),t})();var jh;function xY(e,t){if(1&e){const r=Nn();z(0,"ion-toolbar")(1,"ion-title"),De(2,"Memory cards"),B(),z(3,"ion-buttons",6)(4,"ion-button",7),Be("click",function(){return Mt(r),At(ut().addCardImage())}),He(5,"ion-icon",8),B()(),z(6,"ion-buttons",9)(7,"ion-button",7),Be("click",function(o){return Mt(r),At(ut().openActionMenu(o))}),He(8,"ion-icon",10),B(),He(9,"app-pwa-prompt"),B()()}}function TY(e,t){1&e&&(z(0,"ion-title"),De(1,"Export"),B())}function MY(e,t){1&e&&(z(0,"ion-title"),De(1,"Delete"),B())}function AY(e,t){if(1&e){const r=Nn();z(0,"ion-buttons",9)(1,"ion-button",7),Be("click",function(){return Mt(r),At(ut(2).onSelectAll())}),De(2,"Select all"),B()()}}function kY(e,t){if(1&e){const r=Nn();z(0,"ion-buttons",9)(1,"ion-button",7),Be("click",function(){return Mt(r),At(ut(2).selection.clear())}),De(2,"Clear"),B()()}}function RY(e,t){if(1&e){const r=Nn();z(0,"ion-toolbar"),Ut(1,TY,2,0,"ion-title",0)(2,MY,2,0,"ion-title",0),z(3,"ion-buttons",6)(4,"ion-button",7),Be("click",function(){return Mt(r),At(ut().onSelectionDone())}),De(5),B()(),Ut(6,AY,3,0,"ion-buttons",11)(7,kY,3,0,"ion-buttons",11),B()}if(2&e){const r=ut();ge(1),Ee("ngIf","select-for-export"===r.mode),ge(1),Ee("ngIf","select-for-delete"===r.mode),ge(3),Hi(0===r.selection.size?"Cancel":"select-for-export"===r.mode?"Export":"Delete"),ge(1),Ee("ngIf",r.selection.size!==r.cards.length),ge(1),Ee("ngIf",r.selection.size===r.cards.length)}}function PY(e,t){1&e&&(z(0,"ion-title",12),De(1,"Memory cards"),B())}function OY(e,t){1&e&&(z(0,"ion-title",12),De(1,"Select for export"),B())}function FY(e,t){1&e&&(z(0,"ion-title",12),De(1,"Select for delete"),B())}function NY(e,t){1&e&&(z(0,"div",13),He(1,"ion-spinner"),B())}function LY(e,t){1&e&&(z(0,"div",14)(1,"div",15),De(2," No memory cards. Select the \u201e+\u201c icon in the upper right corner in order to create a new card. "),B()())}function $Y(e,t){if(1&e){const r=Nn();z(0,"app-storage-card",17),Be("delete",function(){const i=Mt(r).$implicit;return At(ut(2).deleteCard(i))})("selectCard",function(){const i=Mt(r).$implicit,s=ut(2);return At("manage"===s.mode?s.browseCard(i):s.toggleSelection(i))})("edit",function(){const i=Mt(r).$implicit;return At(ut(2).editCard(i))})("check",function(){const i=Mt(r).$implicit;return At(ut(2).checkCard(i))})("interaction",function(){const i=Mt(r).$implicit;return At(ut(2).lastCardTouched=i.id)})("save",function(){const i=Mt(r).$implicit;return At(ut(2).saveCard(i))}),B()}if(2&e){const r=t.$implicit,n=ut(2);Ee("card",r)("touched",r.id===n.lastCardTouched)("selecting","manage"!==n.mode)("selectedForExport",n.selection.has(r.id))}}function BY(e,t){if(1&e&&(z(0,"ion-list"),Ut(1,$Y,1,4,"app-storage-card",16),B()),2&e){const r=ut();ge(1),Ee("ngForOf",r.cards)("ngForTrackBy",r.trackCardBy)}}class Al{constructor(t,r,n,o,i,s,a,l,c,f,h,m){var b=this;this.actionSheetController=t,this.storageCardService=r,this.modalController=n,this.cloudpilotService=o,this.alertService=i,this.errorService=s,this.fileService=a,this.loadingController=l,this.fstools=c,this.popoverController=f,this.cd=m,this.handleCardImport=function(){var Z=(0,j.Z)(function*(te){if(!/\.((bin|img)(|\.gz)|zip)$/i.test(te.name))return void b.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .bin.gz, .img, .img.gz and .zip");if(te.name.endsWith(".zip")){let vt=!1;return yield b.alertService.message("Mass import","\n                    CloudpilotEmu will attempt to import all card images in the selected zip archive.\n                    Importing large archives (several 100MB) requires a lot of memory and may crash the browser\n                    or cause spurious errors if memory is exhausted.\n                    Are you sure you want to continue?\n                ",{Continue:()=>vt=!0},"Cancel"),void(vt&&(yield b.storageCardService.addAllCardsFromArchive(yield te.getContent())))}const _e=yield b.cloudpilotService.cloudpilot;let Ie;try{Ie=yield te.getContent()}catch(vt){return console.warn(vt),void(yield b.alertService.errorMessage(`Unable to open ${te.name}".`))}if(/\.gz$/.test(te.name)){const vt=yield b.loadingController.create({message:"Unpacking..."});yield vt.present();try{Ie=yield b.fstools.gunzip(Ie)}finally{yield vt.dismiss()}}const Ae=Ie?_e.getCardSupportLevel(Ie.length):0;if(void 0===Ie||0===Ae)return void b.alertService.errorMessage("This is not a supported card image.");const bt=yield new Promise(function(){var vt=(0,j.Z)(function*(Ht){const xt=yield b.modalController.create({component:LP,backdropDismiss:!1,componentProps:{card:{name:b.disambiguateName(te.name.replace(/\.gz$/,"")),size:Ie.length},cardSupportLevel:Ae,newCard:!0,onCancel:()=>{xt.dismiss(),Ht(void 0)},onSave:ir=>{Ht(ir),xt.dismiss()}}});yield xt.present()});return function(Ht){return vt.apply(this,arguments)}}());bt&&(yield b.storageCardService.createCardFromImage(bt.name,Ie,!!bt.dontFsckAutomatically))});return function(te){return Z.apply(this,arguments)}}(),this.lastCardTouched=void 0,this.onMountForBrowse=()=>{},this.mode="manage",this.selection=new Set,this.checkCards=su(m,[],()=>this.storageCardService.getAllCards()),this.checkSessions=su(m,void 0,()=>h.getSessions())}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkCards(),this.checkSessions()}ionViewDidLeave(){this.mode="manage",this.cd.markForCheck()}get cards(){return this.storageCardService.getAllCards()}handleDragDropEvent(t){this.fileService.openFromDrop(t,this.handleFilesFromDrop.bind(this))}addCardImage(){var t=this;return(0,j.Z)(function*(){(yield t.actionSheetController.create({header:"What type of image do you want to create?",buttons:[{text:"Empty image",handler:()=>t.createNewCardImage()},{text:"Import an existing image",handler:()=>t.importCardImage()},{text:"Cancel"}]})).present()})()}showHelp(){var t=this;return(0,j.Z)(function*(){yield(yield t.modalController.create({component:Zu,componentProps:{url:CY}})).present()})()}browseCard(t){var r=this;return(0,j.Z)(function*(){(yield r.storageCardService.browseCard(t))&&r.onMountForBrowse(t)})()}editCard(t){var r=this;return(0,j.Z)(function*(){const n=yield r.cloudpilotService.cloudpilot,o=yield r.modalController.create({component:LP,backdropDismiss:!1,componentProps:{card:t,cardSupportLevel:n.getCardSupportLevel(t.size),onCancel:()=>o.dismiss(),onSave:(i=(0,j.Z)(function*(s){yield r.storageCardService.updateCard(t.id,s),yield o.dismiss()}),function(a){return i.apply(this,arguments)})}});var i;yield o.present()})()}saveCard(t){var r=this;return(0,j.Z)(function*(){const n=`${Tf(t.name.replace(/\.img$/,""))}.img`;yield(yield r.actionSheetController.create({header:"How do you want to export the image?",buttons:[{text:"Export gzip compressed image",handler:()=>r.storageCardService.saveCard(t.id,n,!0)},{text:"Export uncompressed image",handler:()=>r.storageCardService.saveCard(t.id,n,!1)},{text:"Cancel"}]})).present()})()}checkCard(t){return this.storageCardService.checkCard(t)}deleteCard(t){var r=this;return(0,j.Z)(function*(){let n=!0;if(yield r.alertService.message("Warning",`Deleting the card '${t.name}' cannot be undone. Are you sure you want to continue?`,{Delete:()=>n=!1},"Cancel"),n)return;const o=yield r.loadingController.create({message:"Deleting..."});yield o.present();try{yield r.storageCardService.deleteCard(t.id)}catch(i){r.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}finally{o.dismiss()}})()}trackCardBy(t,r){return r.id}startMassExport(){this.selection.clear(),this.mode="select-for-export"}startMassDelete(){this.selection.clear(),this.mode="select-for-delete"}onSelectionDone(){var t=this;return(0,j.Z)(function*(){const r=t.mode;switch(t.mode="manage",r){case"select-for-export":yield t.executeMassExport(Array.from(t.selection));break;case"select-for-delete":yield t.executeMassDelete(Array.from(t.selection))}})()}onSelectAll(){this.cards.forEach(t=>this.selection.add(t.id))}toggleSelection(t){this.selection.has(t.id)?this.selection.delete(t.id):this.selection.add(t.id)}openActionMenu(t,r="trigger"){var n=this;return(0,j.Z)(function*(){const o=yield n.popoverController.create({component:SY,event:t,componentProps:{cardCount:n.cards.length,onExport:()=>{o.dismiss(),n.startMassExport(),n.cd.markForCheck()},onDelete:()=>{o.dismiss(),n.startMassDelete(),n.cd.markForCheck()},onHelp:()=>{o.dismiss(),n.showHelp()}},arrow:!1,translucent:!0,reference:r});o.present()})()}onContextMenu(t){"manage"===this.mode&&(t.preventDefault(),this.openActionMenu(t,"event"))}executeMassExport(t){var r=this;return(0,j.Z)(function*(){switch(t.length){case 0:break;case 1:{const n=yield r.storageCardService.getCard(t[0]);n&&(yield r.saveCard(n));break}default:yield r.exportSelection(t)}})()}executeMassDelete(t){var r=this;return(0,j.Z)(function*(){switch(t.length){case 0:break;case 1:{const n=yield r.storageCardService.getCard(t[0]);n&&(yield r.deleteCard(n));break}default:{let n=!0;if(yield r.alertService.message("Warning",`You are about to delete ${t.length} cards. This cannot be undone. Are you sure you want to continue?`,{Delete:()=>n=!1},"Cancel"),n)return;const o=yield r.loadingController.create({message:"Deleting..."});yield o.present();try{for(const i of t)yield r.storageCardService.deleteCard(i)}catch(i){r.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}finally{o.dismiss()}}}})()}exportSelection(t){var r=this;return(0,j.Z)(function*(){const n=new Map(yield r.storageCardService.getAllCards().map(i=>[i.id,i]));if(t.map(i=>n.get(i)?.size).reduce((i,s)=>i+(s??0),0)>268435456){let i=!0;if(yield r.alertService.message("Warning","\n                    You are about to export a large amount of data. This may consume a lot of memory and can crash the browser.\n                    Are you sure you want to continue?\n                ",{Continue:()=>i=!1},"Cancel"),i)return}yield r.storageCardService.saveCards(t)})()}handleFilesFromDrop(t){if(0!==t.length){if(t.length>1)return void this.alertService.errorMessage("Drop a single file system image in order to import it as a new memory card.");this.handleCardImport(t[0])}}importCardImage(){this.fileService.openFile(this.handleCardImport)}createNewCardImage(){var t=this;return(0,j.Z)(function*(){const r=yield t.modalController.create({component:bY,backdropDismiss:!1,componentProps:{onCancel:()=>r.dismiss(),onCreate:(n=(0,j.Z)(function*(o,i,s){yield t.storageCardService.createEmptyCard(o,i,s),yield r.dismiss()}),function(i,s,a){return n.apply(this,arguments)})}});var n;yield r.present()})()}disambiguateName(t){const r=this.storageCardService.getAllCards();return xf(t,n=>r.some(o=>o.name===n))}}function VY(e,t){1&e&&He(0,"ion-icon",8)}function jY(e,t){1&e&&He(0,"ion-icon",9)}function GY(e,t){1&e&&He(0,"ion-icon",10)}function UY(e,t){if(1&e){const r=Nn();z(0,"ion-item",2),Be("click",function(){const i=Mt(r).index;return At(ut(2).onSelect(i))}),Du(1,3),Ut(2,VY,1,0,"ion-icon",4)(3,jY,1,0,"ion-icon",5)(4,GY,1,0,"ion-icon",6),Iu(),z(5,"div",7),De(6),B()()}if(2&e){const r=t.$implicit,n=t.index,o=ut(2);Ee("detail",!1)("lines",n===o.entries.length-1?"none":"full"),ge(1),Ee("ngSwitch",o.entries.length),ge(1),Ee("ngSwitchCase",n+1),ge(1),Ee("ngSwitchCase",n+2),ge(3),Hi(r)}}function HY(e,t){if(1&e&&(z(0,"ion-list"),Ut(1,UY,7,6,"ion-item",1),B()),2&e){const r=ut();ge(1),Ee("ngForOf",r.entries)}}(jh=Al).\u0275fac=function(t){return new(t||jh)(v(Mh),v(Mf),v(Cs),v(Va),v(oo),v(zu),v(iu),v(ua),v(cv),v(cc),v(pc),v(ft))},jh.\u0275cmp=Ye({type:jh,selectors:[["app-subpage-cards"]],inputs:{onMountForBrowse:"onMountForBrowse",selfReference:"selfReference"},decls:12,vars:8,consts:[[4,"ngIf"],[3,"contextmenu"],["collapse","condense"],["size","large",4,"ngIf"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["size","large"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],[3,"card","touched","selecting","selectedForExport","delete","selectCard","edit","check","interaction","save",4,"ngFor","ngForOf","ngForTrackBy"],[3,"card","touched","selecting","selectedForExport","delete","selectCard","edit","check","interaction","save"]],template:function(t,r){1&t&&(z(0,"ion-header"),Ut(1,xY,10,0,"ion-toolbar",0)(2,RY,8,5,"ion-toolbar",0),B(),z(3,"ion-content",1),Be("contextmenu",function(o){return r.onContextMenu(o)}),z(4,"ion-header",2)(5,"ion-toolbar"),Ut(6,PY,2,0,"ion-title",3)(7,OY,2,0,"ion-title",3)(8,FY,2,0,"ion-title",3),B()(),Ut(9,NY,2,0,"div",4)(10,LY,3,0,"div",5)(11,BY,2,2,"ion-list",0),B()),2&t&&(ge(1),Ee("ngIf","manage"===r.mode),ge(1),Ee("ngIf","manage"!==r.mode),ge(4),Ee("ngIf","manage"===r.mode),ge(1),Ee("ngIf","select-for-export"===r.mode),ge(1),Ee("ngIf","select-for-delete"===r.mode),ge(1),Ee("ngIf",r.storageCardService.isLoading()),ge(1),Ee("ngIf",!r.storageCardService.isLoading()&&0===r.cards.length),ge(1),Ee("ngIf",!r.storageCardService.isLoading()&&r.cards.length>0))},dependencies:[Uc,Lo,Ki,Xi,Qi,Ji,qo,zs,Ih,ts,ns,hv,IY],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}),oe([Gn()],Al.prototype,"addCardImage",null),oe([Gn()],Al.prototype,"browseCard",null),oe([Gn()],Al.prototype,"editCard",null),oe([Gn()],Al.prototype,"saveCard",null),oe([Gn()],Al.prototype,"checkCard",null),oe([Gn()],Al.prototype,"deleteCard",null),oe([Gn()],Al.prototype,"onSelectionDone",null),oe([Gn()],Al.prototype,"openActionMenu",null);let zY=(()=>{var e;class t{constructor(){this.onSelect=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ye({type:e,selectors:[["app-context-menu-breadcrumb"]],inputs:{entries:"entries"},decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"detail","lines","click"],[3,"ngSwitch"],["name","list-outline","slot","end",4,"ngSwitchCase"],["name","file-tray-outline","slot","end",4,"ngSwitchCase"],["name","folder-outline","slot","end",4,"ngSwitchDefault"],[1,"text-wrapper"],["name","list-outline","slot","end"],["name","file-tray-outline","slot","end"],["name","folder-outline","slot","end"]],template:function(n,o){1&n&&Ut(0,HY,2,1,"ion-list",0),2&n&&Ee("ngIf",o.entries)},dependencies:[Uc,Lo,n_,FT,NT,qo,Io,zs],styles:[".text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:calc(var(--cp-breadcrumb-menu-width) - 30px)}.ios[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{max-width:calc(var(--cp-breadcrumb-menu-width) - 70px)}"]}),t})(),WY=(()=>{var e;class t{constructor(n){this.vfsService=n,this.onStartSelection=()=>{},this.onAddFiles=()=>{},this.onCreateDirectry=()=>{},this.onExtractZipfile=()=>{},this.onPaste=()=>{},this.onHelp=()=>{},this.emptyDirectory=!1}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Ku))},e.\u0275cmp=Ye({type:e,selectors:[["app-context-menu-directory"]],inputs:{onStartSelection:"onStartSelection",onAddFiles:"onAddFiles",onCreateDirectry:"onCreateDirectry",onExtractZipfile:"onExtractZipfile",onPaste:"onPaste",onHelp:"onHelp",emptyDirectory:"emptyDirectory"},decls:19,vars:8,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","checkmark-circle-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","document-outline","slot","end"],["name","folder-outline","slot","end"],["name","download-outline","slot","end"],["name","clipboard-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(n,o){1&n&&(z(0,"ion-list")(1,"ion-item",0),Be("click",function(){return o.onStartSelection()}),He(2,"ion-icon",1),De(3," Start selection "),B(),z(4,"ion-item",2),Be("click",function(){return o.onAddFiles()}),He(5,"ion-icon",3),De(6," Add files "),B(),z(7,"ion-item",2),Be("click",function(){return o.onCreateDirectry()}),He(8,"ion-icon",4),De(9," Add directory "),B(),z(10,"ion-item",2),Be("click",function(){return o.onExtractZipfile()}),He(11,"ion-icon",5),De(12," Extract zip "),B(),z(13,"ion-item",0),Be("click",function(){return o.onPaste()}),He(14,"ion-icon",6),De(15," Paste "),B(),z(16,"ion-item",7),Be("click",function(){return o.onHelp()}),He(17,"ion-icon",8),De(18," Help "),B()()),2&n&&(ge(1),Ee("detail",!1)("disabled",o.emptyDirectory),ge(3),Ee("detail",!1),ge(3),Ee("detail",!1),ge(3),Ee("detail",!1),ge(3),Ee("detail",!1)("disabled",!o.vfsService.isClipboardPopulated()),ge(3),Ee("detail",!1))},dependencies:[qo,Io,zs]}),t})();var Gh;class mv{constructor(t,r){this.modalController=t,this.vfsService=r,this.validateNameUnique=n=>this.entry&&this.vfsService.readdir(this.vfsService.dirname(this.entry.path)).some(o=>o.name.toLocaleLowerCase()===n.value.toLocaleLowerCase()&&o.name.toLocaleLowerCase()!==this.entry?.name?.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=n=>this.vfsService.isFilenameValid(n.value)?null:{name:"invalid file name"},this.onSave=()=>{},this.formGroup=new Jc({name:new bs("",{nonNullable:!0,validators:[fh.required,this.validateNameUnique,this.validateNameValid]}),attrReadonly:new bs(!1,{nonNullable:!0}),attrHidden:new bs(!1,{nonNullable:!0}),attrSystem:new bs(!1,{nonNullable:!0})})}ngOnInit(){this.entry&&(this.formGroup.controls.name.setValue(this.entry.name),this.formGroup.controls.attrHidden.setValue(this.entry.attributes.hidden),this.formGroup.controls.attrReadonly.setValue(this.entry.attributes.readonly),this.formGroup.controls.attrSystem.setValue(this.entry.attributes.system))}get subjectName(){return this.entry?.isDirectory?"Directory":"File"}onSaveClick(){var t=this;return(0,j.Z)(function*(){yield t.save()})()}onCancelClick(){this.modalController.dismiss()}onEnter(){var t=this;return(0,j.Z)(function*(){yield t.save()})()}save(){var t=this;return(0,j.Z)(function*(){t.entry&&t.formGroup.valid&&(yield t.vfsService.updateFileEntry(t.entry.path,{name:t.formGroup.controls.name.value??"",attributes:{hidden:!!t.formGroup.controls.attrHidden.value,readonly:!!t.formGroup.controls.attrReadonly.value,system:!!t.formGroup.controls.attrSystem.value}}),t.onSave(),t.modalController.dismiss())})()}}(Gh=mv).\u0275fac=function(t){return new(t||Gh)(v(Cs),v(Ku))},Gh.\u0275cmp=Ye({type:Gh,selectors:[["app-edit-file-dialog"]],inputs:{entry:"entry"},decls:34,vars:5,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["formControlName","name",3,"placeholder"],["name","lock-closed-outline","size","small"],["formControlName","attrReadonly"],["name","eye-off-outline","size","small"],["formControlName","attrHidden"],["name","cog-outline","size","small"],["formControlName","attrSystem"]],template:function(t,r){1&t&&(z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),De(3),B(),z(4,"ion-buttons",0)(5,"ion-button",1),Be("click",function(){return r.onSaveClick()}),De(6,"Save"),B()(),z(7,"ion-buttons",2)(8,"ion-button",3),Be("click",function(){return r.onCancelClick()}),De(9,"Cancel"),B()()()(),z(10,"ion-content",4)(11,"form",5),Be("keydown.enter",function(){return r.onEnter()}),z(12,"ion-item",6)(13,"ion-label",7),De(14),B(),He(15,"ion-input",8),B(),z(16,"ion-item",6)(17,"h2"),De(18,"Attributes"),B()(),z(19,"ion-item",6)(20,"ion-label"),He(21,"ion-icon",9),De(22,"Readonly"),B(),He(23,"ion-checkbox",10),B(),z(24,"ion-item",6)(25,"ion-label"),He(26,"ion-icon",11),De(27,"Hidden"),B(),He(28,"ion-checkbox",12),B(),z(29,"ion-item",6)(30,"ion-label"),He(31,"ion-icon",13),De(32,"System"),B(),He(33,"ion-checkbox",14),B()()()),2&t&&(ge(3),wi("Edit ",r.subjectName.toLowerCase(),""),ge(2),Ee("disabled",r.formGroup.invalid),ge(6),Ee("formGroup",r.formGroup),ge(3),wi("",r.subjectName," name"),ge(1),Tg("placeholder","Enter ",r.subjectName.toLowerCase()," name"))},dependencies:[Ki,Xi,mR,Qi,Ji,qo,lc,Io,es,ts,ns,yf,ac,sc,oc,ic,$a,Dl],styles:["ion-icon[_ngcontent-%COMP%]{margin-right:1em;position:relative;top:2px}"]}),oe([Gn()],mv.prototype,"onSaveClick",null),oe([Gn()],mv.prototype,"onEnter",null);let ZY=(()=>{var e;class t{constructor(n,o){this.el=n,this.zone=o;const i=n.nativeElement.querySelector("input");i?i.focus():this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}ngOnDestroy(){this.observer?.disconnect()}update(){const n=this.el.nativeElement.querySelector("input");n&&(setTimeout(()=>n.focus(),100),this.observer?.disconnect())}}return(e=t).\u0275fac=function(n){return new(n||e)(v(st),v(Ze))},e.\u0275dir=Pt({type:e,selectors:[["","appAutofocus",""]]}),t})(),qY=(()=>{var e;class t{constructor(n,o){this.vfsService=n,this.modalController=o,this.validateNameUnique=i=>this.parentPath&&this.vfsService.readdir(this.parentPath).some(s=>s.name.toLocaleLowerCase()===i.value.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=i=>this.vfsService.isFilenameValid(i.value)?null:{name:"invalid file name"},this.onCreate=()=>{},this.formGroup=new Jc({name:new bs("",{nonNullable:!0,validators:[fh.required,this.validateNameUnique,this.validateNameValid]})})}onCreateClick(){this.createDir()}onEnter(){this.createDir()}onCancelClick(){this.modalController.dismiss()}createDir(){this.formGroup.controls.name.valid&&(this.onCreate(this.formGroup.controls.name.value),this.modalController.dismiss())}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Ku),v(Cs))},e.\u0275cmp=Ye({type:e,selectors:[["app-new-directory-dialog"]],inputs:{parentPath:"parentPath",onCreate:"onCreate"},decls:16,vars:2,consts:[["slot","primary"],["tabindex","-1",3,"disabled","click"],["slot","secondary"],["tabindex","-1",3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter directory name","formControlName","name","appAutofocus","","tabindex","1"]],template:function(n,o){1&n&&(z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),De(3,"Create directory"),B(),z(4,"ion-buttons",0)(5,"ion-button",1),Be("click",function(){return o.onCreateClick()}),De(6,"Create"),B()(),z(7,"ion-buttons",2)(8,"ion-button",3),Be("click",function(){return o.onCancelClick()}),De(9,"Cancel"),B()()()(),z(10,"ion-content",4)(11,"form",5),Be("keydown.enter",function(){return o.onEnter()}),z(12,"ion-item",6)(13,"ion-label",7),De(14,"Directory name"),B(),He(15,"ion-input",8),B()()()),2&n&&(ge(5),Ee("disabled",o.formGroup.invalid),ge(6),Ee("formGroup",o.formGroup))},dependencies:[Ki,Xi,Qi,Ji,lc,Io,es,ts,ns,ac,sc,oc,ic,$a,Dl,ZY]}),t})();function $P(e){let t,r,n=!1;return o=>((!n||o!==t)&&(t=o,n=!0,r=e(o)),r)}const YY=C.p+"assets/doc/card-browser-5a0261814255810d.md";let KY=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCopy=()=>{},this.onCut=()=>{},this.onDelete=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ye({type:e,selectors:[["app-context-menu-file-entry"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCopy:"onCopy",onCut:"onCut",onDelete:"onDelete"},decls:16,vars:5,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","copy-outline","slot","end"],["name","cut-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(n,o){1&n&&(z(0,"ion-list")(1,"ion-item",0),Be("click",function(){return o.onEdit()}),He(2,"ion-icon",1),De(3," Edit "),B(),z(4,"ion-item",0),Be("click",function(){return o.onSave()}),He(5,"ion-icon",2),De(6," Save "),B(),z(7,"ion-item",0),Be("click",function(){return o.onCopy()}),He(8,"ion-icon",3),De(9," Copy "),B(),z(10,"ion-item",0),Be("click",function(){return o.onCut()}),He(11,"ion-icon",4),De(12," Cut "),B(),z(13,"ion-item",5),Be("click",function(){return o.onDelete()}),He(14,"ion-icon",6),De(15," Delete "),B()()),2&n&&(ge(1),Ee("detail",!1),ge(3),Ee("detail",!1),ge(3),Ee("detail",!1),ge(3),Ee("detail",!1),ge(3),Ee("detail",!1))},dependencies:[qo,Io,zs]}),t})(),BP=(()=>{var e;class t{transform(n){return void 0===n?"":n<1024?`${n} bytes`:n<1048576?`${(n/1024).toFixed(1)} kB`:`${(n/1024/1024).toFixed(1)} MB`}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275pipe=Oo({name:"fileSize",type:e,pure:!0}),t})();const XY=["slidingItem"];function QY(e,t){1&e&&He(0,"ion-icon",24)}function JY(e,t){1&e&&He(0,"ion-icon",25)}function eK(e,t){1&e&&He(0,"ion-icon",26)}function tK(e,t){1&e&&He(0,"ion-icon",27)}function nK(e,t){1&e&&He(0,"ion-icon",28)}function rK(e,t){1&e&&He(0,"ion-icon",29)}function oK(e,t){1&e&&He(0,"ion-icon",30)}function iK(e,t){1&e&&He(0,"ion-icon",31)}function sK(e,t){1&e&&He(0,"ion-icon",32)}function aK(e,t){if(1&e&&(Du(0),De(1),gl(2,"fileSize"),Iu()),2&e){const r=ut();ge(1),wi(" - ",_l(2,1,null==r.entry?null:r.entry.size)," ")}}let lK=(()=>{var e;class t{constructor(n,o,i){this.actionSheetController=n,this.popoverController=o,this.vfsService=i,this.touched=!1,this.selecting=!1,this.selected=!1,this.interaction=new tn,this.selectEntry=new tn,this.editEntry=new tn,this.copyEntry=new tn,this.cutEntry=new tn,this.deleteEntry=new tn,this.saveEntry=new tn,this.isIOS=!!document.querySelector("html.ios")}ngOnChanges(n){n.selecting&&n.selecting.currentValue&&!n.selecting.previousValue&&this.slidingItem?.close()}onContextmenu(n){var o=this;return(0,j.Z)(function*(){o.selecting||(n.stopPropagation(),n.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:KY,event:n,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.editEntry.emit(o.entry),onSave:()=>o.saveEntry.emit(o.entry),onCopy:()=>o.copyEntry.emit(o.entry),onCut:()=>o.cutEntry.emit(o.entry),onDelete:()=>o.deleteEntry.emit(o.entry)},reference:"event"})).present())})()}get color(){if(!this.selecting&&this.touched||this.selecting&&this.selected)return"light"}get markedForCut(){return!!this.entry&&"cut"===this.vfsService.isEntryInClipboard(this.entry)}get markedForCopy(){return!!this.entry&&"copy"===this.vfsService.isEntryInClipboard(this.entry)}cutOrCopyEntry(){var n=this;return(0,j.Z)(function*(){const o=n.entry?.isDirectory?"directory":"file";(yield n.actionSheetController.create({header:"Do you want to cut or copy?",buttons:[{text:`Copy ${o}`,handler:()=>n.copyEntry.emit(n.entry)},{text:`Cut ${o}`,handler:()=>n.cutEntry.emit(n.entry)},{text:"Cancel"}]})).present()})()}get safetyMargin(){let n=0;return this.entry?.attributes.readonly&&(n+=1.7),this.entry?.attributes.hidden&&(n+=1.7),this.entry?.attributes.system&&(n+=1.7),(this.markedForCopy||this.markedForCut)&&(n+=1.7),0===n?"0":(n+=this.selecting?this.isIOS?1.25:1:this.entry?.isDirectory?2:3.5,n+"em")}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Mh),v(cc),v(Ku))},e.\u0275cmp=Ye({type:e,selectors:[["app-file-entry"]],viewQuery:function(n,o){if(1&n&&Bc(XY,5),2&n){let i;Gs(i=Us())&&(o.slidingItem=i.first)}},inputs:{entry:"entry",touched:"touched",selecting:"selecting",selected:"selected"},outputs:{interaction:"interaction",selectEntry:"selectEntry",editEntry:"editEntry",copyEntry:"copyEntry",cutEntry:"cutEntry",deleteEntry:"deleteEntry",saveEntry:"saveEntry"},features:[tr],decls:29,vars:23,consts:[[3,"disabled","contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","copy-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","detail","click"],["name","folder-outline","slot","start",4,"ngIf"],["name","document-outline","slot","start",4,"ngIf"],["slot","end",1,"attribute-icon-container"],["class","attribute-icon","name","lock-closed-outline","size","small",4,"ngIf"],["class","attribute-icon","name","eye-off-outline","size","small",4,"ngIf"],["class","attribute-icon","name","cog-outline","size","small",4,"ngIf"],["class","attribute-icon","name","clipboard-outline","size","small",4,"ngIf"],["class","attribute-icon","name","cut-outline","size","small",4,"ngIf"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],[4,"ngIf"],["name","folder-outline","slot","start"],["name","document-outline","slot","start"],["name","lock-closed-outline","size","small",1,"attribute-icon"],["name","eye-off-outline","size","small",1,"attribute-icon"],["name","cog-outline","size","small",1,"attribute-icon"],["name","clipboard-outline","size","small",1,"attribute-icon"],["name","cut-outline","size","small",1,"attribute-icon"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(n,o){if(1&n){const i=Nn();z(0,"ion-item-sliding",0,1),Be("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit(o.entry)}),z(2,"ion-item-options",2)(3,"ion-item-option",3),Be("click",function(){return Mt(i),js(1).close(),At(o.editEntry.emit(o.entry))}),He(4,"ion-icon",4),B(),z(5,"ion-item-option",5),Be("click",function(){return Mt(i),js(1).close(),At(o.saveEntry.emit(o.entry))}),He(6,"ion-icon",6),B()(),z(7,"ion-item-options",7)(8,"ion-item-option",8),Be("click",function(){return Mt(i),js(1).close(),At(o.cutOrCopyEntry())}),He(9,"ion-icon",9),B(),z(10,"ion-item-option",10),Be("click",function(){return Mt(i),js(1).close(),At(o.deleteEntry.emit(o.entry))}),He(11,"ion-icon",11),B()(),z(12,"ion-item",12),Be("click",function(){return o.selectEntry.emit(),o.interaction.emit()}),Ut(13,QY,1,0,"ion-icon",13)(14,JY,1,0,"ion-icon",14),z(15,"div",15),Ut(16,eK,1,0,"ion-icon",16)(17,tK,1,0,"ion-icon",17)(18,nK,1,0,"ion-icon",18)(19,rK,1,0,"ion-icon",19)(20,oK,1,0,"ion-icon",20),B(),Ut(21,iK,1,0,"ion-icon",21)(22,sK,1,0,"ion-icon",22),z(23,"ion-label")(24,"h2"),De(25),B(),z(26,"p"),De(27),Ut(28,aK,3,3,"ng-container",23),B()()()()}2&n&&(Ee("disabled",o.selecting),ge(12),wu("opacity",o.touched?1:.99999),ia("is-directory",null==o.entry?null:o.entry.isDirectory),Ee("color",o.color)("detail",(null==o.entry?null:o.entry.isDirectory)&&!o.selecting),ge(1),Ee("ngIf",null==o.entry?null:o.entry.isDirectory),ge(1),Ee("ngIf",!(null!=o.entry&&o.entry.isDirectory)),ge(2),Ee("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.readonly),ge(1),Ee("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.hidden),ge(1),Ee("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.system),ge(1),Ee("ngIf",o.markedForCopy),ge(1),Ee("ngIf",o.markedForCut),ge(1),Ee("ngIf",o.selecting&&!o.selected),ge(1),Ee("ngIf",o.selecting&&o.selected),ge(1),wu("padding-right",o.safetyMargin),ia("selecting",o.selecting),ge(2),Hi(null==o.entry?null:o.entry.name),ge(2),wi(" ",null==o.entry?null:o.entry.lastModifiedLocalDate," "),ge(1),Ee("ngIf",!(null!=o.entry&&o.entry.isDirectory)))},dependencies:[Lo,qo,Io,U_,H_,z_,es,BP],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white);position:relative}ion-icon.item-detail-icon[_ngcontent-%COMP%]{min-width:1em}ion-label[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 7em)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 8em)}.ios[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 6.5em)}.ios[_ngcontent-%COMP%]   ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 7.5em)}.attribute-icon-container[_ngcontent-%COMP%]{position:absolute;top:0;right:3.25em;display:flex;flex-direction:row;align-items:center;height:100%}.ios[_ngcontent-%COMP%]   .attribute-icon-container[_ngcontent-%COMP%]{right:3.5em}ion-icon.attribute-icon[_ngcontent-%COMP%]{color:var(--ion-color-step-600);margin-left:.7em!important}ion-icon.attribute-icon[name=lock-closed-outline][_ngcontent-%COMP%]{position:relative;top:-2px}.ios[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]{color:rgba(var(--ion-text-color-rgb, 0, 0, 0),.4);margin-left:0}.ios[_ngcontent-%COMP%]   .selection-icon[_ngcontent-%COMP%]{margin-left:.5em}"],changeDetection:0}),t})();var Uh;function cK(e,t){if(1&e){const r=Nn();z(0,"ion-toolbar")(1,"ion-title")(2,"app-breadcrumb",6),Be("trigger",function(o){return Mt(r),At(ut().openBreadcrumbMenu(o))}),De(3),B()(),z(4,"ion-buttons",7),He(5,"ion-back-button"),B(),z(6,"ion-buttons",8)(7,"ion-button",9),Be("click",function(o){return Mt(r),At(ut().openContextMenu(o,"trigger"))}),He(8,"ion-icon",10),B()()()}if(2&e){const r=ut();ge(3),Hi(r.title)}}function uK(e,t){if(1&e){const r=Nn();z(0,"ion-buttons",12)(1,"ion-button",9),Be("click",function(){return Mt(r),At(ut(2).onSelectAll())}),De(2,"Select all"),B()()}}function dK(e,t){if(1&e){const r=Nn();z(0,"ion-buttons",12)(1,"ion-button",9),Be("click",function(){return Mt(r),At(ut(2).selection.clear())}),De(2,"Clear"),B()()}}function fK(e,t){if(1&e){const r=Nn();z(0,"ion-toolbar")(1,"ion-title"),De(2,"Selection"),B(),z(3,"ion-buttons",8)(4,"ion-button",9),Be("click",function(){return Mt(r),At(ut().onSelectionDone())}),De(5),B()(),Ut(6,uK,3,0,"ion-buttons",11)(7,dK,3,0,"ion-buttons",11),B()}if(2&e){const r=ut();ge(5),Hi(0===r.selection.size?"Cancel":"Done"),ge(1),Ee("ngIf",r.selection.size!==(null==r.entries?null:r.entries.length)),ge(1),Ee("ngIf",r.selection.size===(null==r.entries?null:r.entries.length))}}function pK(e,t){if(1&e&&(z(0,"div",13)(1,"div",14),De(2),B()()),2&e){const r=ut();ge(2),wi("empty ",r.isRoot?"card":"directory","")}}function hK(e,t){if(1&e){const r=Nn();z(0,"app-file-entry",15),Be("selectEntry",function(){const i=Mt(r).$implicit;return At(ut().onSelect(i))})("editEntry",function(){const i=Mt(r).$implicit;return At(ut().onEditEntry(i))})("saveEntry",function(){const i=Mt(r).$implicit;return At(ut().onSaveEntry(i))})("copyEntry",function(){const i=Mt(r).$implicit;return At(ut().onCopyEntry(i))})("cutEntry",function(){const i=Mt(r).$implicit;return At(ut().onCutEntry(i))})("deleteEntry",function(){const i=Mt(r).$implicit;return At(ut().onDeleteEntry(i))})("interaction",function(){const i=Mt(r).$implicit;return At(ut().lastEntryTouched=i.name)}),B()}if(2&e){const r=t.$implicit,n=ut();Ee("entry",r)("selecting","select"===n.mode)("selected",n.selection.has(r.name))("touched",r.name===n.lastEntryTouched)}}function mK(e,t){if(1&e&&(z(0,"p"),De(1),gl(2,"fileSize"),gl(3,"fileSize"),B()),2&e){const r=ut(2);ge(1),Np("",_l(2,2,r.bytesFree)," free, ",_l(3,4,r.bytesTotal)," total")}}function gK(e,t){if(1&e&&(z(0,"p"),De(1),gl(2,"fileSize"),B()),2&e){const r=ut(2);ge(1),yb(" ",_l(2,3,r.bytesInFiles)," in ",r.fileCount," ",1===r.fileCount?"file":"files"," ")}}function _K(e,t){if(1&e&&(z(0,"ion-item",16)(1,"ion-label"),Ut(2,mK,4,6,"p",0)(3,gK,3,5,"p",0),B()()),2&e){const r=ut();ge(2),Ee("ngIf",r.isRoot),ge(1),Ee("ngIf",r.fileCount>0)}}function vK(e,t){return e.isDirectory&&!t.isDirectory?-1:!e.isDirectory&&t.isDirectory?1:e.name.localeCompare(t.name)}class Ua{constructor(t,r,n,o,i,s,a,l){this.vfsService=t,this.popoverController=r,this.config=n,this.alertService=o,this.actionSheetController=i,this.modalController=s,this.fileService=a,this.cd=l,this.bytesInFilesMemoized=$P(c=>c?.reduce((f,h)=>f+(h.isDirectory?0:h.size),0)??0),this.fileCountMemoized=$P(c=>c?.filter(f=>!f.isDirectory)?.length??0),this.onNavigate=()=>{},this.onNavigateBreadcrumb=()=>{},this.lastEntryTouched=void 0,this.mode="browse",this.selection=new Set,this.checkEntries=su(l,void 0,()=>void 0!==this.path?t.readdir(this.path):void 0),this.checkBytesFree=su(l,void 0,()=>this.vfsService.getBytesFree())}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkEntries(),this.checkBytesFree()}handleDragDropEvent(t){this.fileService.openFromDrop(t,r=>this.vfsService.addFiles(r,this.path||""))}get title(){switch(this.path){case"/":return this.card?.name??"";case void 0:return"";default:{const t=this.vfsService.splitPath(this.path);return t[t.length-1]??""}}}get bytesFree(){return this.vfsService.getBytesFree()}get bytesTotal(){return this.vfsService.getBytesTotal()}get bytesInFiles(){return this.bytesInFilesMemoized(this.entries)}get isRoot(){return"/"===this.path}get fileCount(){return this.fileCountMemoized(this.entries)}get entries(){return void 0!==this.path?[...this.vfsService.readdir(this.path)].sort(vK):[]}trackEntryBy(t,r){return r.name}onSelect(t){"browse"===this.mode?t.isDirectory&&this.onNavigate(t.path):this.selection?.has(t.name)?this.selection.delete(t.name):this.selection.add(t.name)}onEditEntry(t){var r=this;return(0,j.Z)(function*(){yield(yield r.modalController.create({component:mv,backdropDismiss:!1,componentProps:{entry:t}})).present()})()}onSaveEntry(t){var r=this;return(0,j.Z)(function*(){r.path&&(t.isDirectory?yield r.vfsService.archiveFiles([t],r.path):yield r.vfsService.saveFile(t))})()}onCopyEntry(t){this.path&&this.vfsService.copyToClipboard(this.path,[t.name],"copy")}onCutEntry(t){this.path&&this.vfsService.copyToClipboard(this.path,[t.name],"cut")}onDeleteEntry(t){var r=this;return(0,j.Z)(function*(){t.isDirectory?yield r.vfsService.deleteRecursive([t]):yield r.vfsService.unlinkEntry(t)})()}onAddFiles(){this.fileService.openFiles(t=>this.vfsService.addFiles(t,this.path||"/"))}onCreateDirectory(){var t=this;return(0,j.Z)(function*(){yield(yield t.modalController.create({component:qY,backdropDismiss:!1,componentProps:{parentPath:t.path,onCreate:n=>t.vfsService.mkdir(`${t.path}/${n}`)}})).present()})()}onExtractZipfile(){this.fileService.openFile(this.extractZipArchive.bind(this))}onPaste(){var t=this;return(0,j.Z)(function*(){t.path&&(yield t.vfsService.paste(t.path))})()}onHelp(){var t=this;return(0,j.Z)(function*(){yield(yield t.modalController.create({component:Zu,componentProps:{url:YY}})).present()})()}onStartSelection(){0!==this.entries?.length&&(this.selection.clear(),this.mode="select",this.cd.markForCheck())}onSelectionDone(){var t=this;return(0,j.Z)(function*(){if(!t.entries)return;const r=Array.from(t.selection),n=new Map(t.entries.map(a=>[a.name,a])),o=r.every(a=>!n.get(a)?.isDirectory),i=r.every(a=>n.get(a)?.isDirectory);let s=`${t.selection.size} items`;if(o&&(s=1===t.selection.size?"file":`${t.selection.size} files`),i&&(s=1===t.selection.size?"directory":`${t.selection.size} directories`),0!==t.selection.size){const a=yield t.actionSheetController.create({header:"What do you want to do?",buttons:[{text:`Copy ${s}`,handler:t.onCopySelection.bind(t)},{text:`Cut ${s}`,handler:t.onCutSelection.bind(t)},{text:`Save ${s} as zip`,handler:t.onSaveZip.bind(t)},{text:`Delete ${s}`,handler:t.onDeleteSelection.bind(t)},{text:"Cancel"}]});yield a.present(),yield a.onWillDismiss()}t.mode="browse",t.cd.markForCheck()})()}onSelectAll(){this.entries?.forEach(t=>this.selection.add(t.name))}onCopySelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"copy")}onCutSelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"cut")}onSaveZip(){var t=this;return(0,j.Z)(function*(){const r=t.materializeSelection();!r||!t.path||(yield t.vfsService.archiveFiles(r,t.path))})()}onDeleteSelection(){var t=this;return(0,j.Z)(function*(){const r=t.materializeSelection();!r||!t.path||(yield t.vfsService.deleteRecursive(r))})()}openBreadcrumbMenu(t){var r=this;return(0,j.Z)(function*(){if(!r.card||!r.path)return;const n=[..."/"===r.path?[]:[...r.vfsService.splitPath(r.path).reverse().slice(1),r.card.name],"Memory cards"];(yield r.popoverController.create({component:zY,componentProps:{entries:n,onSelect:i=>r.onNavigateBreadcrumb(n.length-1-i)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===r.config.get("mode")?"center":"start",trigger:t,cssClass:"cp-breadcrumb-menu"})).present()})()}openContextMenu(t,r){var n=this;return(0,j.Z)(function*(){(yield n.popoverController.create({component:WY,componentProps:{emptyDirectory:0===n.entries?.length,onStartSelection:n.onStartSelection.bind(n),onAddFiles:n.onAddFiles.bind(n),onCreateDirectry:n.onCreateDirectory.bind(n),onExtractZipfile:n.onExtractZipfile.bind(n),onPaste:n.onPaste.bind(n),onHelp:n.onHelp.bind(n)},event:t,dismissOnSelect:!0,arrow:!1,reference:r})).present()})()}onContextMenu(t){"select"!==this.mode&&(t.preventDefault(),this.openContextMenu(t,"event"))}ionViewDidLeave(){this.mode="browse",this.cd.markForCheck()}materializeSelection(){if(!this.path)return;const t=new Map(this.vfsService.readdir(this.path).map(r=>[r.name,r]));return Array.from(this.selection).map(r=>t.get(r)).filter(r=>!!r)}extractZipArchive(t){var r=this;return(0,j.Z)(function*(){/\.zip$/.test(t.name)?r.vfsService.unpackArchive(yield t.getContent(),r.path||"/"):yield r.alertService.errorMessage("File does not have the correct extension. Only .zip files are supported")})()}}(Uh=Ua).\u0275fac=function(t){return new(t||Uh)(v(Ku),v(cc),v(vh),v(oo),v(Mh),v(Cs),v(iu),v(ft))},Uh.\u0275cmp=Ye({type:Uh,selectors:[["app-subpage-directory"]],inputs:{card:"card",path:"path",selfReference:"selfReference",onNavigate:"onNavigate",onNavigateBreadcrumb:"onNavigateBreadcrumb"},decls:9,vars:6,consts:[[4,"ngIf"],[3,"contextmenu"],[1,"container"],["class","placeholder-wrapper",4,"ngIf"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction",4,"ngFor","ngForOf","ngForTrackBy"],["class","metadata","lines","none",4,"ngIf"],[3,"trigger"],["slot","start"],["slot","primary"],[3,"click"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["slot","secondary"],[1,"placeholder-wrapper"],[1,"placeholder"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction"],["lines","none",1,"metadata"]],template:function(t,r){1&t&&(z(0,"ion-header"),Ut(1,cK,9,1,"ion-toolbar",0)(2,fK,8,3,"ion-toolbar",0),B(),z(3,"ion-content",1),Be("contextmenu",function(o){return r.onContextMenu(o)}),z(4,"div",2),Ut(5,pK,3,1,"div",3),z(6,"ion-list"),Ut(7,hK,1,4,"app-file-entry",4)(8,_K,4,2,"ion-item",5),B()()()),2&t&&(ge(1),Ee("ngIf","browse"===r.mode),ge(1),Ee("ngIf","select"===r.mode),ge(3),Ee("ngIf",0===(null==r.entries?null:r.entries.length)),ge(2),Ee("ngForOf",r.entries)("ngForTrackBy",r.trackEntryBy),ge(1),Ee("ngIf",r.isRoot||r.fileCount>0))},dependencies:[Uc,Lo,Ki,Xi,Qi,Ji,qo,Io,es,zs,ts,ns,vR,PP,lK,BP],styles:[".container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}.placeholder-wrapper[_ngcontent-%COMP%]{flex:1;width:100%;display:flex;align-items:center;justify-content:center}.placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}ion-list[_ngcontent-%COMP%]{background:none;flex:0}ion-item.metadata[_ngcontent-%COMP%]{text-align:center}"],changeDetection:0}),oe([Gn()],Ua.prototype,"onSaveEntry",null),oe([Gn()],Ua.prototype,"onDeleteEntry",null),oe([Gn()],Ua.prototype,"onCreateDirectory",null),oe([Gn()],Ua.prototype,"onPaste",null),oe([Gn()],Ua.prototype,"onHelp",null),oe([Gn()],Ua.prototype,"onSelectionDone",null),oe([Gn()],Ua.prototype,"onSaveZip",null),oe([Gn()],Ua.prototype,"onDeleteSelection",null);const yK=["nav"];let bK=(()=>{var e;class t{constructor(n,o){this.vfsService=n,this.dragDropService=o,this.navRootProps={onMountForBrowse:i=>this.browseCard(i),selfReference:{}},this.onNavigate=i=>{this.currentlyBrowsingCard&&this.nav?.push(Ua,{card:this.currentlyBrowsingCard,path:i,onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})},this.onNavigateBreadcrumb=i=>{this.currentlyBrowsingCard&&this.nav?.popTo(i,{animated:this.animateNav})},this.navRoot=Al,this.isVisible=!1}ngOnInit(){this.vfsService.onReleaseCard.addHandler(this.onReleaseCard.bind(this))}ionViewDidLeave(){var n=this;return(0,j.Z)(function*(){(yield n.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidLeave?.()})()}ionViewDidEnter(){this.isVisible=!0,this.dragDropService.registerClient(this)}ionViewWillLeave(){this.isVisible=!1,this.dragDropService.unregisterClient(this)}handleDragDropEvent(n){var o=this;return(0,j.Z)(function*(){yield(yield o.nav?.getActive())?.params?.selfReference?.ref?.handleDragDropEvent?.(n)})()}get animateNav(){return!YW}browseCard(n){this.currentlyBrowsingCard=n,this.nav?.push(Ua,{card:n,path:"/",onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})}onReleaseCard(n){n!==this.currentlyBrowsingCard?.id||!this.nav||(this.isVisible||(this.nav.animated=!1),this.nav.popToRoot(void 0,()=>this.nav&&(this.nav.animated=this.animateNav)))}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Ku),v(PS))},e.\u0275cmp=Ye({type:e,selectors:[["app-storage"]],viewQuery:function(n,o){if(1&n&&Bc(yK,5),2&n){let i;Gs(i=Us())&&(o.nav=i.first)}},decls:2,vars:3,consts:[[3,"animated","root","rootParams"],["nav",""]],template:function(n,o){1&n&&He(0,"ion-nav",0,1),2&n&&Ee("animated",o.animateNav)("root",o.navRoot)("rootParams",o.navRootProps)},dependencies:[j0]}),t})();const CK=C.p+"assets/doc/sessions-868d7e6c0550348b.md";let SK=(()=>{var e;class t{constructor(){this.sessionCount=0}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ye({type:e,selectors:[["app-sessions-action-menu"]],inputs:{sessionCount:"sessionCount",onExport:"onExport",onDelete:"onDelete",onHelp:"onHelp"},decls:10,vars:5,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","share-outline","slot","end"],["name","trash-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(n,o){1&n&&(z(0,"ion-list")(1,"ion-item",0),Be("click",function(){return null==o.onExport?null:o.onExport()}),He(2,"ion-icon",1),De(3," Export "),B(),z(4,"ion-item",0),Be("click",function(){return null==o.onDelete?null:o.onDelete()}),He(5,"ion-icon",2),De(6," Delete "),B(),z(7,"ion-item",3),Be("click",function(){return null==o.onHelp?null:o.onHelp()}),He(8,"ion-icon",4),De(9," Help "),B()()),2&n&&(ge(1),Ee("detail",!1)("disabled",0===o.sessionCount),ge(3),Ee("detail",!1)("disabled",0===o.sessionCount),ge(3),Ee("detail",!1))},dependencies:[qo,Io,zs]}),t})(),wK=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onDelete=()=>{},this.onReset=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ye({type:e,selectors:[["app-session-context-menu"]],inputs:{onEdit:"onEdit",onSave:"onSave",onDelete:"onDelete",onReset:"onReset"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(n,o){1&n&&(z(0,"ion-list")(1,"ion-item",0),Be("click",function(){return o.onEdit()}),He(2,"ion-icon",1),De(3," Edit "),B(),z(4,"ion-item",0),Be("click",function(){return o.onSave()}),He(5,"ion-icon",2),De(6," Export "),B(),z(7,"ion-item",0),Be("click",function(){return o.onReset()}),He(8,"ion-icon",3),De(9," Reset "),B(),z(10,"ion-item",4),Be("click",function(){return o.onDelete()}),He(11,"ion-icon",5),De(12," Delete "),B()()),2&n&&(ge(1),Ee("detail",!1),ge(3),Ee("detail",!1),ge(3),Ee("detail",!1),ge(3),Ee("detail",!1))},dependencies:[qo,Io,zs]}),t})();const DK=["slidingItem"];function IK(e,t){if(1&e&&(z(0,"span"),De(1),B()),2&e){const r=ut();ge(1),wi(", OS ",r.decodeVersion(null==r.session?null:r.session.osVersion),"")}}function xK(e,t){1&e&&He(0,"ion-icon",16)}function TK(e,t){1&e&&He(0,"ion-icon",17)}let MK=(()=>{var e;class t{constructor(n){this.popoverController=n,this.selected=!1,this.touched=!1,this.selecting=!1,this.selectedForExport=!1,this.delete=new tn,this.resetSession=new tn,this.edit=new tn,this.save=new tn,this.selectItem=new tn,this.interaction=new tn}get device(){return this.session?eP(this.session.device):""}onContextmenu(n){var o=this;return(0,j.Z)(function*(){n.stopPropagation(),n.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:wK,event:n,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.edit.emit(),onSave:()=>o.save.emit(),onDelete:()=>o.delete.emit(),onReset:()=>o.resetSession.emit()},reference:"event"})).present()})()}decodeVersion(n){if(void 0===n)return"";const o=function EK(e){return{major:e>>>24&255,minor:e>>>20&15,fix:e>>>16&15,stage:e>>>12&15,build:4095&e}}(n);return`${o.major}.${o.minor}`}get color(){return this.selected?"primary":this.touched?"light":void 0}}return(e=t).\u0275fac=function(n){return new(n||e)(v(cc))},e.\u0275cmp=Ye({type:e,selectors:[["app-session-item"]],viewQuery:function(n,o){if(1&n&&Bc(DK,5),2&n){let i;Gs(i=Us())&&(o.slidingItem=i.first)}},inputs:{session:"session",selected:"selected",touched:"touched",selecting:"selecting",selectedForExport:"selectedForExport"},outputs:{delete:"delete",resetSession:"resetSession",edit:"edit",save:"save",selectItem:"selectItem",interaction:"interaction"},decls:21,vars:12,consts:[[3,"disabled","contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","refresh-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],[4,"ngIf"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(n,o){if(1&n){const i=Nn();z(0,"ion-item-sliding",0,1),Be("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit()}),z(2,"ion-item-options",2)(3,"ion-item-option",3),Be("click",function(){return Mt(i),js(1).close(),At(o.edit.emit(o.session))}),He(4,"ion-icon",4),B(),z(5,"ion-item-option",5),Be("click",function(){return Mt(i),js(1).close(),At(o.save.emit(o.session))}),He(6,"ion-icon",6),B()(),z(7,"ion-item-options",7)(8,"ion-item-option",8),Be("click",function(){return Mt(i),js(1).close(),At(o.resetSession.emit(o.session))}),He(9,"ion-icon",9),B(),z(10,"ion-item-option",10),Be("click",function(){return Mt(i),js(1).close(),At(o.delete.emit(o.session))}),He(11,"ion-icon",11),B()(),z(12,"ion-item",12),Be("click",function(){return o.selectItem.emit()}),z(13,"ion-label")(14,"h2"),De(15),B(),z(16,"p"),De(17),Ut(18,IK,2,1,"span",13),B()(),Ut(19,xK,1,0,"ion-icon",14)(20,TK,1,0,"ion-icon",15),B()()}2&n&&(Ee("disabled",o.selecting),ge(12),Ee("color",o.color),ge(1),ia("in-item-color",o.selected)("selecting",o.selecting),ge(2),Hi(null==o.session?null:o.session.name),ge(2),Np("",o.device,", ",null==o.session?null:o.session.ram,"MB RAM"),ge(1),Ee("ngIf",null==o.session?null:o.session.osVersion),ge(1),Ee("ngIf",o.selecting&&!o.selectedForExport),ge(1),Ee("ngIf",o.selecting&&o.selectedForExport))},dependencies:[Lo,qo,Io,U_,H_,z_,es],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 4.5em)}"],changeDetection:0}),t})();var Hh;function AK(e,t){if(1&e){const r=Nn();z(0,"ion-toolbar")(1,"ion-title"),De(2,"Sessions"),B(),z(3,"ion-buttons",6)(4,"ion-button",7),Be("click",function(){return Mt(r),At(ut().importSession())}),He(5,"ion-icon",8),B()(),z(6,"ion-buttons",9)(7,"ion-button",7),Be("click",function(o){return Mt(r),At(ut().openActionMenu(o))}),He(8,"ion-icon",10),B(),He(9,"app-pwa-prompt"),B()()}}function kK(e,t){1&e&&(z(0,"ion-title"),De(1,"Export"),B())}function RK(e,t){1&e&&(z(0,"ion-title"),De(1,"Delete"),B())}function PK(e,t){if(1&e){const r=Nn();z(0,"ion-buttons",9)(1,"ion-button",7),Be("click",function(){return Mt(r),At(ut(2).onSelectAll())}),De(2,"Select all"),B()()}}function OK(e,t){if(1&e){const r=Nn();z(0,"ion-buttons",9)(1,"ion-button",7),Be("click",function(){return Mt(r),At(ut(2).selection.clear())}),De(2,"Clear"),B()()}}function FK(e,t){if(1&e){const r=Nn();z(0,"ion-toolbar"),Ut(1,kK,2,0,"ion-title",0)(2,RK,2,0,"ion-title",0),z(3,"ion-buttons",6)(4,"ion-button",7),Be("click",function(){return Mt(r),At(ut().onSelectionDone())}),De(5),B()(),Ut(6,PK,3,0,"ion-buttons",11)(7,OK,3,0,"ion-buttons",11),B()}if(2&e){const r=ut();ge(1),Ee("ngIf","select-for-export"===r.mode),ge(1),Ee("ngIf","select-for-delete"===r.mode),ge(3),Hi(0===r.selection.size?"Cancel":"select-for-export"===r.mode?"Export":"Delete"),ge(1),Ee("ngIf",r.selection.size!==r.sessionCount),ge(1),Ee("ngIf",r.selection.size===r.sessionCount)}}function NK(e,t){1&e&&(z(0,"ion-title",12),De(1,"Sessions"),B())}function LK(e,t){1&e&&(z(0,"ion-title",12),De(1,"Select for export"),B())}function $K(e,t){1&e&&(z(0,"ion-title",12),De(1,"Select for delete"),B())}function BK(e,t){1&e&&(z(0,"div",13),He(1,"ion-spinner"),B())}function VK(e,t){1&e&&(Du(0),He(1,"br")(2,"br"),De(3," You can find a collection of compatible ROMs on "),z(4,"a",16),De(5,"PalmDB"),B(),De(6,". "),Iu())}function jK(e,t){if(1&e&&(z(0,"div",14)(1,"div",15),De(2," No sessions. Select the \u201e+\u201c icon in the upper right corner in order to import a ROM file or a session image. "),Ut(3,VK,7,0,"ng-container",0),B()()),2&e){const r=ut();ge(3),Ee("ngIf",r.showPalmdbLink)}}function GK(e,t){if(1&e){const r=Nn();z(0,"app-session-item",18),Be("delete",function(){const i=Mt(r).$implicit;return At(ut(2).deleteSession(i))})("selectItem",function(){const i=Mt(r).$implicit,s=ut(2);return At("manage"===s.mode?s.launchSession(i):s.toggleSelection(i))})("edit",function(){const i=Mt(r).$implicit;return At(ut(2).editSession(i))})("save",function(){const i=Mt(r).$implicit;return At(ut(2).saveSession(i))})("resetSession",function(){const i=Mt(r).$implicit;return At(ut(2).resetSession(i))})("interaction",function(){const i=Mt(r).$implicit;return At(ut(2).lastSessionTouched=i.id)}),B()}if(2&e){const r=t.$implicit,n=ut(2);Ee("session",r)("selected",n.currentSessionId===r.id)("touched",r.id===n.lastSessionTouched)("selecting","manage"!==n.mode)("selectedForExport",n.selection.has(r.id))}}function UK(e,t){if(1&e&&(z(0,"ion-list"),Ut(1,GK,1,5,"app-session-item",17),B()),2&e){const r=ut();ge(1),Ee("ngForOf",r.sessions)("ngForTrackBy",r.trackSessionBy)}}class hc{constructor(t,r,n,o,i,s,a,l,c,f,h,m,b,Z){this.sessionService=t,this.fileService=r,this.alertService=n,this.emulationService=o,this.emulationState=i,this.storageService=s,this.modalController=a,this.linkApi=l,this.router=c,this.cloudpilotService=f,this.dragDropService=h,this.popoverController=m,this.loadingController=b,this.cd=Z,this.handleLinkApiImportRequest=()=>{if(!this.linkApi.import.hasPendingRequest())return;const te=this.linkApi.import.receivePendingUrl();te&&this.alertService.message("Import request",`Do you want to import<br>${te} ?`,{OK:()=>this.fileService.openUrl(te,this.processFile.bind(this))},"Cancel")},this.lastSessionTouched=-1,this.mode="manage",this.selection=new Set,this.checkSessions=su(Z,[],()=>this.sessionService.getSessions()),this.checkCurrentSessionId=su(Z,void 0,()=>this.emulationState.getCurrentSession()?.id),this.checkLoading=su(Z,!0,()=>this.sessionService.isLoading())}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkSessions(),this.checkCurrentSessionId(),this.checkLoading()}ionViewDidEnter_(){this.linkApi.import.requestEvent.addHandler(this.handleLinkApiImportRequest),this.handleLinkApiImportRequest(),this.dragDropService.registerClient(this)}ionViewWillLeave(){this.dragDropService.unregisterClient(this),this.linkApi.import.requestEvent.removeHandler(this.handleLinkApiImportRequest)}ionViewDidLeave(){this.mode="manage",this.cd.detectChanges()}get sessions(){return this.sessionService.getSessions().sort((t,r)=>t.name.localeCompare(r.name))}get sessionCount(){return this.sessionService.getSessions().length}deleteSession(t){var r=this;return(0,j.Z)(function*(){let n=!0;if(yield r.alertService.message("Warning",`Deleting the session '${t.name}' will remove all associated data. This cannot be undone. Are you sure you want to continue?`,{Delete:()=>n=!1},"Cancel"),n)return;const o=yield r.loadingController.create({message:"Deleting..."});yield o.present();try{yield r.sessionService.deleteSession(t)}finally{o.dismiss()}})()}editSession(t){var r=this;return(0,j.Z)(function*(){const n={...t};(yield r.editSettings(t))&&!_P()(t,n)&&(yield r.sessionService.updateSession(t))})()}importSession(){this.fileService.openFile(this.processFile.bind(this))}saveSession(t){return this.sessionService.saveSession(t)}trackSessionBy(t,r){return r.id}launchSession(t){var r=this;return(0,j.Z)(function*(){r.lastSessionTouched=t.id,r.currentSessionOverride=t.id,r.cd.markForCheck();const n=yield r.emulationService.switchSession(t.id);r.currentSessionOverride=void 0,r.cd.markForCheck(),n&&r.router.navigateByUrl("/tab/emulation")})()}resetSession(t){var r=this;return(0,j.Z)(function*(){const n=t.id===r.emulationState.getCurrentSession()?.id;n&&(yield r.emulationService.stop()),yield r.storageService.deleteStateForSession(t),yield r.storageService.updateSessionPartial(t.id,{wasResetForcefully:!0}),n&&(yield r.emulationService.switchSession(t.id)),yield r.alertService.message("Done",`Session ${t.name} has been reset.`)})()}get currentSessionId(){return this.currentSessionOverride??this.emulationState.getCurrentSession()?.id}showHelp(){var t=this;return(0,j.Z)(function*(){yield(yield t.modalController.create({component:Zu,componentProps:{url:CK}})).present()})()}handleDragDropEvent(t){this.fileService.openFromDrop(t,this.handleDropFiles.bind(this))}startMassExport(){this.selection.clear(),this.mode="select-for-export"}startMassDelete(){this.selection.clear(),this.mode="select-for-delete"}onSelectionDone(){var t=this;return(0,j.Z)(function*(){const r=new Map(t.sessionService.getSessions().map(i=>[i.id,i])),n=Array.from(t.selection).map(i=>r.get(i)).filter(i=>void 0!==i),o=t.mode;switch(t.mode="manage",o){case"select-for-delete":yield t.executeMassDelete(n);break;case"select-for-export":yield t.executeMassExport(n)}})()}onSelectAll(){this.sessionService.getSessions().forEach(t=>this.selection.add(t.id))}toggleSelection(t){this.selection.has(t.id)?this.selection.delete(t.id):this.selection.add(t.id)}openActionMenu(t,r="trigger"){var n=this;return(0,j.Z)(function*(){const o=yield n.popoverController.create({component:SK,event:t,componentProps:{sessionCount:n.sessionCount,onExport:()=>{o.dismiss(),n.startMassExport(),n.cd.markForCheck()},onDelete:()=>{o.dismiss(),n.startMassDelete(),n.cd.markForCheck()},onHelp:()=>{o.dismiss(),n.showHelp()}},arrow:!1,translucent:!0,reference:r});o.present()})()}onContextMenu(t){"manage"===this.mode&&(t.preventDefault(),this.openActionMenu(t,"event"))}get showPalmdbLink(){return!(xo&&bf)}executeMassExport(t){var r=this;return(0,j.Z)(function*(){1===t.length&&(yield r.sessionService.saveSession(t[0])),t.length>1&&(yield r.sessionService.saveSessions(t))})()}executeMassDelete(t){var r=this;return(0,j.Z)(function*(){if(1===t.length&&(yield r.deleteSession(t[0])),t.length>1){let n=!0;if(yield r.alertService.message("Warning",`\n                    You are about to delete ${t.length} sessions, which will destroy all data associated with these sessions.\n                    This cannot be undone. Are you sure you want to continue?`,{Delete:()=>n=!1},"Cancel"),n)return;const o=yield r.loadingController.create({message:"Deleting..."});yield o.present();try{for(const i of t)yield r.sessionService.deleteSession(i)}finally{o.dismiss()}}})()}handleDropFiles(t){if(0!==t.length){if(t.length>1)return void this.alertService.errorMessage("Drop a single ROM or session image in order to create a new session, or drop a zip archive with sessions to import.");this.processFile(t[0])}}processFile(t){var r=this;return(0,j.Z)(function*(){if(!/\.(img|rom|bin|zip)$/i.test(t.name))return void r.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .img, .rom. and .zip");let n;try{n=yield t.getContent()}catch(i){return console.warn(i),void(yield r.alertService.errorMessage(`Unable to open ${t.name}.`))}if(t.name.endsWith(".zip")){let i=!1;return yield r.alertService.message("Mass import","\n                    CloudpilotEmu will attempt to import all sessions in the selected zip archive.\n                    Importing large archives (several 100MB) requires a lot of memory and may crash the browser if the archive is too large.\n                    Are you sure you want to continue?\n                ",{Continue:()=>i=!0},"Cancel"),void(i&&(yield r.sessionService.addSessionsFromArchive(n)))}const o=(yield r.cloudpilotService.cloudpilot).deserializeSessionImage(n);if(o){const i={name:r.disambiguateSessionName(o.metadata?.name??t.name),hotsyncName:o.metadata?.hotsyncName,device:o.deviceId,dontManageHotsyncName:o.metadata?.dontManageHotsyncName,speed:o.metadata?.speed,deviceOrientation:o.metadata?.deviceOrientation};if(yield r.editSettings(i)){const s=yield r.sessionService.addSessionFromImage(o,i.name,i);r.lastSessionTouched=s.id}}else{const i=(yield r.cloudpilotService.cloudpilot).getRomInfo(n);if(!i)return void r.alertService.errorMessage("Not a valid session file or ROM image.");if(0===i.supportedDevices.length)return void r.alertService.errorMessage("No supported device for this ROM.");const s={name:r.disambiguateSessionName(t.name),hotsyncName:"",device:i.supportedDevices[0]};if(yield r.editSettings(s,i.supportedDevices)){const a=yield r.sessionService.addSessionFromRom(n,s.name,s.device,s);r.lastSessionTouched=a.id}}})()}editSettings(t,r=[t.device]){return new Promise(n=>{let o;this.modalController.create({component:MP,backdropDismiss:!1,componentProps:{session:t,availableDevices:r,onSave:()=>{o.dismiss(),n(!0)},onCancel:()=>{o.dismiss(),n(!1)}}}).then(i=>{o=i,o.present()})})}disambiguateSessionName(t){const r=this.sessionService.getSessions();return xf(t,n=>r.some(o=>o.name===n))}}(Hh=hc).\u0275fac=function(t){return new(t||Hh)(v(pc),v(iu),v(oo),v(ja),v(dc),v(nr),v(Cs),v(TC),v(Zo),v(Va),v(PS),v(cc),v(ua),v(ft))},Hh.\u0275cmp=Ye({type:Hh,selectors:[["app-sessions"]],inputs:{selfReference:"selfReference"},decls:12,vars:8,consts:[[4,"ngIf"],[3,"contextmenu"],["collapse","condense"],["size","large",4,"ngIf"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["size","large"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],["href","https://palmdb.net/app/palm-roms-complete","target","_blank","rel","external"],[3,"session","selected","touched","selecting","selectedForExport","delete","selectItem","edit","save","resetSession","interaction",4,"ngFor","ngForOf","ngForTrackBy"],[3,"session","selected","touched","selecting","selectedForExport","delete","selectItem","edit","save","resetSession","interaction"]],template:function(t,r){1&t&&(z(0,"ion-header"),Ut(1,AK,10,0,"ion-toolbar",0)(2,FK,8,5,"ion-toolbar",0),B(),z(3,"ion-content",1),Be("contextmenu",function(o){return r.onContextMenu(o)}),z(4,"ion-header",2)(5,"ion-toolbar"),Ut(6,NK,2,0,"ion-title",3)(7,LK,2,0,"ion-title",3)(8,$K,2,0,"ion-title",3),B()(),Ut(9,BK,2,0,"div",4)(10,jK,4,1,"div",5)(11,UK,2,2,"ion-list",0),B()),2&t&&(ge(1),Ee("ngIf","manage"===r.mode),ge(1),Ee("ngIf","manage"!==r.mode),ge(4),Ee("ngIf","manage"===r.mode),ge(1),Ee("ngIf","select-for-export"===r.mode),ge(1),Ee("ngIf","select-for-delete"===r.mode),ge(1),Ee("ngIf",r.sessionService.isLoading()),ge(1),Ee("ngIf",!r.sessionService.isLoading()&&0===r.sessionCount),ge(1),Ee("ngIf",!r.sessionService.isLoading()&&r.sessionCount>0))},dependencies:[Uc,Lo,Ki,Xi,Qi,Ji,qo,zs,Ih,ts,ns,hv,MK],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}),oe([Gn()],hc.prototype,"deleteSession",null),oe([Gn()],hc.prototype,"editSession",null),oe([Gn()],hc.prototype,"saveSession",null),oe([Gn()],hc.prototype,"launchSession",null),oe([Gn()],hc.prototype,"resetSession",null),oe([Gn()],hc.prototype,"onSelectionDone",null),oe([Gn()],hc.prototype,"openActionMenu",null);const HK=["nav"],zK=()=>({}),WK=e=>({selfReference:e}),ZK=[{path:"tab",component:MS,children:[{path:"emulation",component:Ga},{path:"sessions",component:(()=>{var e;class t{constructor(){this.navRoot=hc}ionViewDidLeave(){var n=this;return(0,j.Z)(function*(){(yield n.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidLeave?.()})()}ionViewWillLeave(){var n=this;return(0,j.Z)(function*(){(yield n.nav?.getActive())?.params?.selfReference?.ref?.ionViewWillLeave?.()})()}ionViewDidEnter(){var n=this;return(0,j.Z)(function*(){(yield n.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidEnter_?.()})()}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ye({type:e,selectors:[["app-sessions-wrapper"]],viewQuery:function(n,o){if(1&n&&Bc(HK,5),2&n){let i;Gs(i=Us())&&(o.nav=i.first)}},decls:2,vars:6,consts:[[3,"animated","root","rootParams"],["nav",""]],template:function(n,o){1&n&&He(0,"ion-nav",0,1),2&n&&Ee("animated",!1)("root",o.navRoot)("rootParams",function ox(e,t,r,n){return ix(qe(),Gi(),e,t,r,n)}(4,WK,function rx(e,t,r){const n=Gi()+e,o=qe();return o[n]===En?pl(o,n,r?t.call(r):t()):function yp(e,t){return e[t]}(o,n)}(3,zK)))},dependencies:[j0],encapsulation:2}),t})()},{path:"storage",component:bK},{path:"settings",component:gY},{path:"about",component:AS},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}]},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}];let qK=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Jr({type:e}),e.\u0275inj=ot({imports:[T_.forChild(ZK),T_]}),t})(),YK=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Jr({type:e}),e.\u0275inj=ot({imports:[eu,yl,ju,qK,aq,lq,cq,uq,sq]}),t})(),KK=(()=>{var e;class t extends bT{pushState(n,o,i,s){this.replaceState(n,o,i,s)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=zr(e)))(o||e)}})(),e.\u0275prov=k({token:e,factory:e.\u0275fac}),t})();const XK=[{path:"install",component:IP,canActivate:[xP]},{path:"import",component:IP,canActivate:[xP]},{path:"",component:MS}];let QK=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Jr({type:e}),e.\u0275inj=ot({providers:[{provide:vl,useClass:KK}],imports:[T_.forRoot(XK,{preloadingStrategy:kz,useHash:!0}),YK,T_]}),t})();var FS=C(588);function eX(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"&&self;var NS={exports:{}};!function(t,r,n){function o(l){var c=this,f=function a(){var l=4022871197;return function(f){f=String(f);for(var h=0;h<f.length;h++){var m=.02519603282416938*(l+=f.charCodeAt(h));m-=l=m>>>0,l=(m*=l)>>>0,l+=4294967296*(m-=l)}return 2.3283064365386963e-10*(l>>>0)}}();c.next=function(){var h=2091639*c.s0+2.3283064365386963e-10*c.c;return c.s0=c.s1,c.s1=c.s2,c.s2=h-(c.c=0|h)},c.c=1,c.s0=f(" "),c.s1=f(" "),c.s2=f(" "),c.s0-=f(l),c.s0<0&&(c.s0+=1),c.s1-=f(l),c.s1<0&&(c.s1+=1),c.s2-=f(l),c.s2<0&&(c.s2+=1),f=null}function i(l,c){return c.c=l.c,c.s0=l.s0,c.s1=l.s1,c.s2=l.s2,c}function s(l,c){var f=new o(l),h=c&&c.state,m=f.next;return m.int32=function(){return 4294967296*f.next()|0},m.double=function(){return m()+11102230246251565e-32*(2097152*m()|0)},m.quick=m,h&&("object"==typeof h&&i(h,f),m.state=function(){return i(f,{})}),m}r&&r.exports?r.exports=s:this.alea=s}(0,NS);const nX=eX(NS.exports),VP=FS.compile({WhiteSpace:{match:/[\t\v\f\ufeff\p{Zs}]+/u,lineBreaks:!0},Lines:{match:/\r?\n|[\r\u2028\u2029]/u,lineBreaks:!0},ObjectKey:/\[?(?:\x23)?(?=[$_\p{ID_Start}\\])(?:[$_\u200C\u200D\p{ID_Continue}]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+\]?(?=:)/u,Punctuator:/--|\+\+|=>|\.{3}|\??\.(?!\d)|(?:&&|\|\||\?\?|[+\-%&|^]|\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2}|\/(?![\/*]))=?|[?~,:;[\](){}]/u,BooleanLiteral:/true|false/u,NumericLiteral:/(?:0[xX][\da-fA-F](?:_?[\da-fA-F])*|0[oO][0-7](?:_?[0-7])*|0[bB][01](?:_?[01])*)n?|0n|[1-9](?:_?\d)*n|(?:(?:0(?!\d)|0\d*[89]\d*|[1-9](?:_?\d)*)(?:\.(?:\d(?:_?\d)*)?)?|\.\d(?:_?\d)*)(?:[eE][+-]?\d(?:_?\d)*)?|0[0-7]+/u,StringLiteral:{match:/(?:'(?:(?!')[^\\\n\r]|\\(?:\r\n|[^]))*')|(?:"(?:(?!")[^\\\n\r]|\\(?:\r\n|[^]))*")/u,value:e=>`"${e.slice(1,-1)}"`},Identifier:/(?:\x23)?(?=[$_\p{ID_Start}\\])(?:[$_\u200C\u200D\p{ID_Continue}]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+/u}),lX=new RegExp("(?<==)(?:true|false)"),cX=new RegExp("(?<==)-?(?:(?:0[xX][\\da-fA-F](?:_?[\\da-fA-F])*|0[oO][0-7](?:_?[0-7])*|0[bB][01](?:_?[01])*)n?|-?0n|-?[1-9](?:_?\\d)*n|(?:(?:0(?!\\d)|0\\d*[89]\\d*|[1-9](?:_?\\d)*)(?:\\.(?:\\d(?:_?\\d)*)?)?|\\.\\d(?:_?\\d)*)(?:[eE][+-]?\\d(?:_?\\d)*)?|-?0[0-7]+)"),uX=new RegExp("(?<==)'(?!.*&[0-9a-zA-Z]+;)[^'\\\\]*(?:\\\\.|\\\\n[^\"\\\\]*|&[^0-9a-zA-Z;]*)*'"),dX=new RegExp('(?<==)"(?!.*&[0-9a-zA-Z]+;)[^"\\\\]*(?:\\\\.|\\\\n[^"\\\\]*|&[^0-9a-zA-Z;]*)*"'),fX=new RegExp("(?<==)[^\"\\s'`=<>\\x00]+");function LS(e){const t="string"==typeof e&&/^(['"]).*?\1$/.test(e)?e.slice(1,-1):e;return t.startsWith("[")&&t.endsWith("]")||t.startsWith("{")&&t.endsWith("}")?JSON.parse(function rX(e,t={}){const r=e.trim().replace(/[\,]+$/,"");if(""===r)return"{}";if(!function oX(e){return e.startsWith("{")&&e.endsWith("}")||e.startsWith("[")&&e.endsWith("]")}(r))throw new TypeError("Unexpected input format");let n="";VP.reset(r);for(const o of VP)if("WhiteSpace"!==o.type&&"Lines"!==o.type){switch(o.type){case"Identifier":o.value=`"${t[o.value]||o.value}"`;break;case"ObjectKey":o.value="["===o.value.slice(0,1)&&"]"===o.value.slice(-1)?`"${t[o.value.slice(1,-1)]||o.value.slice(1,-1)}"`:`"${o.value}"`}n+=o.value}return n.replace(/\,([\}\]])/g,"$1")}(t)):t}const jP=FS.states({main:{WhiteSpace:/[ \t\v\f\ufeff]+/,AttributeShorthand:/[\.#](?:(?!-?\d)(?:[a-zA-Z0-9\xA0-\uFFFF_-])+)/,BooleanLiteral:{match:lX,value:e=>"true"===e},NumericLiteral:{match:cX,value(e){const t=Number(e);return Number.isNaN(t)?Number(e.replace(/_|n$/g,"")):Number(e)}},SingleQuotedValue:{match:uX,value:LS,type:()=>"StringLiteral"},DoubleQuotedLiteral:{match:dX,value:LS,type:()=>"StringLiteral"},UnquotedLiteral:{match:fX,value:LS,type:()=>"StringLiteral"},AttributeName:/(?:(?![\s\x00\x22\x27\x3E\x2F\x3D\x00-\x1F\x7F-\x9F])[^\s\x00-\x1F\x7F-\x9F\x22\x27\x3E\x2F\x3D])+/,Separator:"="}});const mX=FS.compile({spaces:/[\t\v\f\ufeff ]+/,name:/[a-zA-Z][\w-]*/,attrs:{match:/\{.*\}/,value:e=>function hX(e){let t=null;const r=jP.reset(e),n={};Object.defineProperties(n,{toString:{writable:!1,enumerable:!1,configurable:!1,value:()=>function pX(e){let t="";for(const r in e){const n=e[r];switch(typeof n){case"object":t+=` ${r}='${JSON.stringify(n)}'`;break;case"string":t+=` ${r}="${n}"`;break;case"number":case"boolean":t+=` ${r}=${n}`}}return t.slice(1)}(n)},getTokens:{writable:!1,enumerable:!1,configurable:!1,value:()=>Array.from(jP.reset(e))}});const o=[];for(const{type:i,value:s}of r)switch(i){case"AttributeName":t=s,n[t]=t;break;case"AttributeShorthand":const a=s[0];"."===a?o.push(s.slice(1)):"#"===a&&(n.id=s.slice(1));break;case"BooleanLiteral":case"NumericLiteral":case"StringLiteral":t&&("class"===t&&o.push(s),n[t]=s,t=null)}return o.length&&(n.class=o.join(" ")),n}(e.slice(1,-1))},text:{match:/\[.*\]/,value:e=>e.slice(1,-1)},blockText:{match:/[\s\S]+/,lineBreaks:!0}});function gX(e){const{type:t,level:r,raw:n,content:o,marker:i,tag:s}=e,a=mX.reset(o);let l,c,f="",h=[];for(const{type:m,value:b}of a)switch(m){case"name":l=b;break;case"attrs":c=b;break;case"text":case"blockText":f=b,h="container"===r?this.lexer.blockTokens(b):this.lexer.inlineTokens(b)}return{type:t,raw:n,meta:{level:r,marker:i,tag:s,name:l},attrs:c,text:f,tokens:h}}function GP(e){return["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"].includes(e)}function yX(e){const{meta:t,attrs:r,tokens:n=[]}=e,o=t.name||t.tag;let i=`<${o}`;return i+=r?" "+r.toString():"",i+=GP(o)?" />":">",i+="container"===t.level?"\n":"",GP(o)||(i+="container"===t.level?this.parser.parse(n):this.parser.parseInline(n),i+=`</${o}>`),i+="inline"===t.level?"":"\n",i}const bX=[{level:"container",marker:":::"},{level:"block",marker:"::"},{level:"inline",marker:":"}];function CX(e=bX){return{extensions:e.map(({level:t,marker:r,tag:n,renderer:o})=>{const i=nX(r).int32(),s=`directive${function vX(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()}(t)}${i}`;return{name:s,level:"inline"===t?"inline":"block",start:a=>{var l;return null==(l=a.match(new RegExp(r)))?void 0:l.index},tokenizer(a){const l=function _X(e,t){switch(e){case"container":return`^${t}([\\s\\S]*?)\\n${t}`;case"block":return`^${t}((?:[a-zA-Z][\\w-]*|[\\{\\[].*?[\\}\\]])+)`;case"inline":return`^${t}((?:[a-zA-Z][\\w-]*|[\\{].*?[\\}]+|[\\[].*?[\\]])+)`}}(t,r),c=a.match(new RegExp(l));if(c){const[f,h=""]=c;return gX.call(this,{type:s,level:t,raw:f,content:h,marker:r,tag:n||("inline"===t?"span":"div")})}},renderer:o||yX}})}}const UP=["touchstart","click","keydown"];let SX=(()=>{var e;class t{constructor(n,o){this.kvsService=n,this.audioService=o,this.initialize()}initialize(){var n=this;return(0,j.Z)(function*(){if(yield n.kvsService.initialize(),!n.kvsService.kvs.enableAudioOnFirstInteraction)return;xo&&bf&&n.audioService.initialize();const o=()=>{UP.forEach(i=>window.removeEventListener(i,o,!0)),n.audioService.initialize()};UP.forEach(i=>window.addEventListener(i,o,!0))})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Pi),ue(RS))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const wX=()=>{const e=new Uu;return e.link=(t,r,n)=>`<a href="${t}" target="_blank" rel="external">${n||t}</a>`,{renderer:e,gfm:!0,breaks:!1,pedantic:!1}};let EX=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f){}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(nr),ue(ja),ue(RS),ue(pc),ue(Pi),ue(DP),ue(SX),ue(xS))},e.\u0275mod=Jr({type:e,bootstrap:[ZZ]}),e.\u0275inj=ot({providers:[{provide:RA,useClass:Z8},{provide:jp,multi:!0,useFactory:r=>r.initialize.bind(r),deps:[Pi]}],imports:[CU,eu.forRoot({...NP()?{actionSheetEnter:sY,loadingEnter:aY,alertEnter:lY}:{},innerHTMLTemplatesEnabled:!0}),QK,X0.forRoot({loader:kC,markedOptions:{provide:PR,useFactory:wX},markedExtensions:[CX()]}),iH]}),t})();window.global=window,document.body.addEventListener("dblclick",e=>e.preventDefault()),function AU(){i_=uM("#/install?"),s_=uM("#/import?")}(),function o7(){return!!LR(J_)}()&&!dM()||function kU(){return void 0!==i_}()?location.replace(`${location.origin}${location.pathname}#/tab/emulation`):location.replace(`${location.origin}${location.pathname}#/tab/sessions`),xo&&(CSS.supports("height","100dvh")?document.body.style.height="100dvh":window.addEventListener("orientationchange",()=>[100,300,500].forEach(e=>setTimeout(()=>{document.body.style.height=window.innerHeight+"px"},e))),EP()),window.addEventListener("scroll",()=>window.scrollTo(0,0)),document.body.addEventListener("contextmenu",e=>e.preventDefault()),yU().bootstrapModule(EX).then(e=>da.production||function IU(e){return function sM(e,t){(typeof COMPILED>"u"||!COMPILED)&&((x.ng=x.ng||{})[e]=t)}("profiler",new DU(e)),e}(e.injector.get(Pa).components[0])).catch(e=>console.log(e))},2227:Ce=>{var C,Me=(C=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(S={}){var K,X,d=S;d.ready=new Promise((u,y)=>{K=u,X=y});var Se,H=Object.assign({},d),M="./this.program",A=(u,y)=>{throw y},J="object"==typeof window,V="function"==typeof importScripts,L=("object"==typeof process&&"object"==typeof process.versions&&process,"");(J||V)&&(V?L=self.location.href:typeof document<"u"&&document.currentScript&&(L=document.currentScript.src),C&&(L=C),L=0!==L.indexOf("blob:")?L.substr(0,L.replace(/[?#].*/,"").lastIndexOf("/")+1):"",V&&(Se=u=>{var y=new XMLHttpRequest;return y.open("GET",u,!1),y.responseType="arraybuffer",y.send(null),new Uint8Array(y.response)}));var P,ie=d.print||console.log.bind(console),W=d.printErr||console.error.bind(console);Object.assign(d,H),H=null,d.thisProgram&&(M=d.thisProgram),d.quit&&(A=d.quit),d.wasmBinary&&(P=d.wasmBinary),"object"!=typeof WebAssembly&&at("no native wasm support detected");var ne,le,Fe,O,I,E,Q,ce=!1;function Re(u,y){u||at(y)}function me(){var u=ne.buffer;d.HEAP8=Fe=new Int8Array(u),d.HEAP16=new Int16Array(u),d.HEAPU8=O=new Uint8Array(u),d.HEAPU16=new Uint16Array(u),d.HEAP32=I=new Int32Array(u),d.HEAPU32=E=new Uint32Array(u),d.HEAPF32=new Float32Array(u),d.HEAPF64=Q=new Float64Array(u)}function Xe(){if(!ce){var u=$r();0==u&&(u+=4);var y=E[u>>2],Y=E[u+4>>2];(34821223!=y||2310721022!=Y)&&at(`Stack overflow! Stack cookie has been overwritten at ${lo(u)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${lo(Y)} ${lo(y)}`),1668509029!=E[0]&&at("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var ye=[],Le=[],ve=[],we=[],Et=0,xe=null,be=null;function at(u){d.onAbort&&d.onAbort(u),W(u="Aborted("+u+")"),ce=!0,le=1,u+=". Build with -sASSERTIONS for more info.";var y=new WebAssembly.RuntimeError(u);throw X(y),y}var $t,on=u=>u.startsWith("data:application/octet-stream;base64,");function sn(u){if(u==$t&&P)return new Uint8Array(P);if(Se)return Se(u);throw"both async and sync fetching of the wasm failed"}function gr(u,y,Y){return function Sn(u){return P||!J&&!V||"function"!=typeof fetch?Promise.resolve().then(()=>sn(u)):fetch(u,{credentials:"same-origin"}).then(y=>{if(!y.ok)throw"failed to load wasm binary file at '"+u+"'";return y.arrayBuffer()}).catch(()=>sn(u))}(u).then(Ne=>WebAssembly.instantiate(Ne,y)).then(Ne=>Ne).then(Y,Ne=>{W(`failed to asynchronously prepare wasm: ${Ne}`),at(Ne)})}on($t="cloudpilot_web.wasm")||($t=function R(u){return d.locateFile?d.locateFile(u,L):L+u}($t));var Vr,vo={425368:u=>{D.grow(65536);for(let y=0;y<=65535;y++)D.set(D.length-65535-1+y,D.get(E[(u>>>2)+y]));return D.length-65535-1}};function Or(u){this.name="ExitStatus",this.message=`Program terminated with exit(${u})`,this.status=u}var Kn=u=>{for(;u.length>0;)u.shift()(d)},Mo=d.noExitRuntime||!0,lo=u=>"0x"+(u>>>=0).toString(16).padStart(8,"0"),yo=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,jr=(u,y,Y)=>{for(var Ne=y+Y,St=y;u[St]&&!(St>=Ne);)++St;if(St-y>16&&u.buffer&&yo)return yo.decode(u.subarray(y,St));for(var rn="";y<St;){var pn=u[y++];if(128&pn){var Fn=63&u[y++];if(192!=(224&pn)){var Mr=63&u[y++];if((pn=224==(240&pn)?(15&pn)<<12|Fn<<6|Mr:(7&pn)<<18|Fn<<12|Mr<<6|63&u[y++])<65536)rn+=String.fromCharCode(pn);else{var Si=pn-65536;rn+=String.fromCharCode(55296|Si>>10,56320|1023&Si)}}else rn+=String.fromCharCode((31&pn)<<6|Fn)}else rn+=String.fromCharCode(pn)}return rn},he=(u,y)=>u?jr(O,u,y):"",Wt=(u,y)=>y+2097152>>>0<4194305-!!u?(u>>>0)+4294967296*y:NaN,zn=u=>u%4==0&&(u%100!=0||u%400==0),Yr=[0,31,60,91,121,152,182,213,244,274,305,335],bo=[0,31,59,90,120,151,181,212,243,273,304,334],In=u=>(zn(u.getFullYear())?Yr:bo)[u.getMonth()]+u.getDate()-1,Vo=u=>{for(var y=0,Y=0;Y<u.length;++Y){var Ne=u.charCodeAt(Y);Ne<=127?y++:Ne<=2047?y+=2:Ne>=55296&&Ne<=57343?(y+=4,++Y):y+=3}return y},On=(u,y,Y,Ne)=>{if(!(Ne>0))return 0;for(var St=Y,rn=Y+Ne-1,pn=0;pn<u.length;++pn){var Fn=u.charCodeAt(pn);if(Fn>=55296&&Fn<=57343&&(Fn=65536+((1023&Fn)<<10)|1023&u.charCodeAt(++pn)),Fn<=127){if(Y>=rn)break;y[Y++]=Fn}else if(Fn<=2047){if(Y+1>=rn)break;y[Y++]=192|Fn>>6,y[Y++]=128|63&Fn}else if(Fn<=65535){if(Y+2>=rn)break;y[Y++]=224|Fn>>12,y[Y++]=128|Fn>>6&63,y[Y++]=128|63&Fn}else{if(Y+3>=rn)break;y[Y++]=240|Fn>>18,y[Y++]=128|Fn>>12&63,y[Y++]=128|Fn>>6&63,y[Y++]=128|63&Fn}}return y[Y]=0,Y-St},vr=u=>{var y=Vo(u)+1,Y=ur(y);return Y&&((u,y,Y)=>{On(u,O,y,Y)})(u,Y,y),Y},Xo=[],Ni=u=>{var Y=(u-ne.buffer.byteLength+65535)/65536;try{return ne.grow(Y),me(),1}catch{}},yi={},bi=()=>{if(!bi.strings){var y={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:M||"./this.program"};for(var Y in yi)void 0===yi[Y]?delete y[Y]:y[Y]=yi[Y];var Ne=[];for(var Y in y)Ne.push(`${Y}=${y[Y]}`);bi.strings=Ne}return bi.strings},ws=[null,[],[]],qs=(u,y)=>{var Y=ws[u];0===y||10===y?((1===u?ie:W)(jr(Y,0)),Y.length=0):Y.push(y)},Jo=[31,29,31,30,31,30,31,31,30,31,30,31],yr=[31,28,31,30,31,30,31,31,30,31,30,31];function Ys(u,y,Y){var Ne=Y>0?Y:Vo(u)+1,St=new Array(Ne),rn=On(u,St,0,St.length);return y&&(St.length=rn),St}var D,de,Hl,Ts=(u,y)=>{le=u,(u=>{le=u,Mo||(d.onExit&&d.onExit(u),ce=!0),A(u,new Or(u))})(u)},rt=(u,y)=>{u<128?y.push(u):y.push(u%128|128,u>>7)},w=[],ae=u=>{var y=w[u];return y||(u>=w.length&&(w.length=u+1),w[u]=y=D.get(u)),y},Qe=[],Ue=(u,y)=>{D.set(u,y),w[u]=D.get(u)},It={b:(u,y,Y,Ne)=>{at(`Assertion failed: ${he(u)}, at: `+[y?he(y):"unknown filename",Y,Ne?he(Ne):"unknown function"])},i:function Pr(u){const y=new Error(he(u));throw y.isAssert=!0,y},m:function yn(u,y,Y){Wt(y,Y)},h:()=>1,j:function co(u,y,Y){var Ne=Wt(u,y),St=new Date(1e3*Ne);I[Y>>2]=St.getSeconds(),I[Y+4>>2]=St.getMinutes(),I[Y+8>>2]=St.getHours(),I[Y+12>>2]=St.getDate(),I[Y+16>>2]=St.getMonth(),I[Y+20>>2]=St.getFullYear()-1900,I[Y+24>>2]=St.getDay();var rn=0|In(St);I[Y+28>>2]=rn,I[Y+36>>2]=-60*St.getTimezoneOffset();var pn=new Date(St.getFullYear(),0,1),Fn=new Date(St.getFullYear(),6,1).getTimezoneOffset(),Mr=pn.getTimezoneOffset(),Si=0|(Fn!=Mr&&St.getTimezoneOffset()==Math.min(Mr,Fn));I[Y+32>>2]=Si},k:function(u){var y=(()=>{var Y=new Date(I[u+20>>2]+1900,I[u+16>>2],I[u+12>>2],I[u+8>>2],I[u+4>>2],I[u>>2],0),Ne=I[u+32>>2],St=Y.getTimezoneOffset(),rn=new Date(Y.getFullYear(),0,1),pn=new Date(Y.getFullYear(),6,1).getTimezoneOffset(),Fn=rn.getTimezoneOffset(),Mr=Math.min(Fn,pn);if(Ne<0)I[u+32>>2]=+(pn!=Fn&&Mr==St);else if(Ne>0!=(Mr==St)){var Si=Math.max(Fn,pn),hs=Ne>0?Mr:Si;Y.setTime(Y.getTime()+6e4*(hs-St))}I[u+24>>2]=Y.getDay();var Ic=0|In(Y);I[u+28>>2]=Ic,I[u>>2]=Y.getSeconds(),I[u+4>>2]=Y.getMinutes(),I[u+8>>2]=Y.getHours(),I[u+12>>2]=Y.getDate(),I[u+16>>2]=Y.getMonth(),I[u+20>>2]=Y.getYear();var tr=Y.getTime();return isNaN(tr)?(I[Gl()>>2]=61,-1):tr/1e3})();return un((Vr=y,+Math.abs(Vr)>=1?Vr>0?+Math.floor(Vr/4294967296)>>>0:~~+Math.ceil((Vr-+(~~Vr>>>0))/4294967296)>>>0:0)),y>>>0},r:(u,y,Y)=>{var Ne=(new Date).getFullYear(),St=new Date(Ne,0,1),rn=new Date(Ne,6,1),pn=St.getTimezoneOffset(),Fn=rn.getTimezoneOffset(),Mr=Math.max(pn,Fn);function Si(ed){var fu=ed.toTimeString().match(/\(([A-Za-z ]+)\)$/);return fu?fu[1]:"GMT"}E[u>>2]=60*Mr,I[y>>2]=+(pn!=Fn);var hs=Si(St),Ic=Si(rn),tr=vr(hs),xc=vr(Ic);Fn<pn?(E[Y>>2]=tr,E[Y+4>>2]=xc):(E[Y>>2]=xc,E[Y+4>>2]=tr)},a:()=>{at("")},s:(u,y,Y)=>((u,y,Y)=>{var Ne=((u,y)=>{Xo.length=0;for(var Y;Y=O[u++];){var Ne=105!=Y;y+=(Ne&=112!=Y)&&y%8?4:0,Xo.push(112==Y?E[y>>2]:105==Y?I[y>>2]:Q[y>>3]),y+=Ne?8:4}return Xo})(y,Y);return vo[u].apply(null,Ne)})(u,y,Y),c:()=>Date.now(),d:(u,y,Y)=>O.copyWithin(u,y,y+Y),q:u=>{var Mr,y=O.length,Y=2147483648;if((u>>>=0)>Y)return!1;for(var St=1;St<=4;St*=2){var rn=y*(1+.2/St);rn=Math.min(rn,u+100663296);var pn=Math.min(Y,(Mr=Math.max(u,rn))+(65536-Mr%65536)%65536);if(Ni(pn))return!0}return!1},o:(u,y)=>{var Y=0;return bi().forEach((Ne,St)=>{var rn=y+Y;E[u+4*St>>2]=rn,((u,y)=>{for(var Y=0;Y<u.length;++Y)Fe[y++>>0]=u.charCodeAt(Y);Fe[y>>0]=0})(Ne,rn),Y+=Ne.length+1}),0},p:(u,y)=>{var Y=bi();E[u>>2]=Y.length;var Ne=0;return Y.forEach(St=>Ne+=St.length+1),E[y>>2]=Ne,0},e:u=>52,g:(u,y,Y,Ne)=>52,l:function Co(u,y,Y,Ne,St){return Wt(y,Y),70},f:(u,y,Y,Ne)=>{for(var St=0,rn=0;rn<Y;rn++){var pn=E[y>>2],Fn=E[y+4>>2];y+=8;for(var Mr=0;Mr<Fn;Mr++)qs(u,O[pn+Mr]);St+=Fn}return E[Ne>>2]=St,0},n:(u,y,Y,Ne,St)=>((u,y,Y,Ne)=>{var St=E[Ne+40>>2],rn={tm_sec:I[Ne>>2],tm_min:I[Ne+4>>2],tm_hour:I[Ne+8>>2],tm_mday:I[Ne+12>>2],tm_mon:I[Ne+16>>2],tm_year:I[Ne+20>>2],tm_wday:I[Ne+24>>2],tm_yday:I[Ne+28>>2],tm_isdst:I[Ne+32>>2],tm_gmtoff:I[Ne+36>>2],tm_zone:St?he(St):""},pn=he(Y),Fn={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Mr in Fn)pn=pn.replace(new RegExp(Mr,"g"),Fn[Mr]);var Si=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],hs=["January","February","March","April","May","June","July","August","September","October","November","December"];function Ic(mt,hn,ms){for(var no="number"==typeof mt?mt.toString():mt||"";no.length<hn;)no=ms[0]+no;return no}function tr(mt,hn){return Ic(mt,hn,"0")}function xc(mt,hn){function ms(pu){return pu<0?-1:pu>0?1:0}var no;return 0===(no=ms(mt.getFullYear()-hn.getFullYear()))&&0===(no=ms(mt.getMonth()-hn.getMonth()))&&(no=ms(mt.getDate()-hn.getDate())),no}function ed(mt){switch(mt.getDay()){case 0:return new Date(mt.getFullYear()-1,11,29);case 1:return mt;case 2:return new Date(mt.getFullYear(),0,3);case 3:return new Date(mt.getFullYear(),0,2);case 4:return new Date(mt.getFullYear(),0,1);case 5:return new Date(mt.getFullYear()-1,11,31);case 6:return new Date(mt.getFullYear()-1,11,30)}}function fu(mt){var hn=((u,y)=>{for(var Y=new Date(u.getTime());y>0;){var Ne=zn(Y.getFullYear()),St=Y.getMonth(),rn=(Ne?Jo:yr)[St];if(!(y>rn-Y.getDate()))return Y.setDate(Y.getDate()+y),Y;y-=rn-Y.getDate()+1,Y.setDate(1),St<11?Y.setMonth(St+1):(Y.setMonth(0),Y.setFullYear(Y.getFullYear()+1))}return Y})(new Date(mt.tm_year+1900,0,1),mt.tm_yday),ms=new Date(hn.getFullYear(),0,4),no=new Date(hn.getFullYear()+1,0,4),pu=ed(ms),fm=ed(no);return xc(pu,hn)<=0?xc(fm,hn)<=0?hn.getFullYear()+1:hn.getFullYear():hn.getFullYear()-1}var Hf={"%a":mt=>Si[mt.tm_wday].substring(0,3),"%A":mt=>Si[mt.tm_wday],"%b":mt=>hs[mt.tm_mon].substring(0,3),"%B":mt=>hs[mt.tm_mon],"%C":mt=>tr((mt.tm_year+1900)/100|0,2),"%d":mt=>tr(mt.tm_mday,2),"%e":mt=>Ic(mt.tm_mday,2," "),"%g":mt=>fu(mt).toString().substring(2),"%G":mt=>fu(mt),"%H":mt=>tr(mt.tm_hour,2),"%I":mt=>{var hn=mt.tm_hour;return 0==hn?hn=12:hn>12&&(hn-=12),tr(hn,2)},"%j":mt=>tr(mt.tm_mday+((u,y)=>{for(var Y=0,Ne=0;Ne<=y;Y+=u[Ne++]);return Y})(zn(mt.tm_year+1900)?Jo:yr,mt.tm_mon-1),3),"%m":mt=>tr(mt.tm_mon+1,2),"%M":mt=>tr(mt.tm_min,2),"%n":()=>"\n","%p":mt=>mt.tm_hour>=0&&mt.tm_hour<12?"AM":"PM","%S":mt=>tr(mt.tm_sec,2),"%t":()=>"\t","%u":mt=>mt.tm_wday||7,"%U":mt=>tr(Math.floor((mt.tm_yday+7-mt.tm_wday)/7),2),"%V":mt=>{var hn=Math.floor((mt.tm_yday+7-(mt.tm_wday+6)%7)/7);if((mt.tm_wday+371-mt.tm_yday-2)%7<=2&&hn++,hn){if(53==hn){var no=(mt.tm_wday+371-mt.tm_yday)%7;4!=no&&(3!=no||!zn(mt.tm_year))&&(hn=1)}}else{hn=52;var ms=(mt.tm_wday+7-mt.tm_yday-1)%7;(4==ms||5==ms&&zn(mt.tm_year%400-1))&&hn++}return tr(hn,2)},"%w":mt=>mt.tm_wday,"%W":mt=>tr(Math.floor((mt.tm_yday+7-(mt.tm_wday+6)%7)/7),2),"%y":mt=>(mt.tm_year+1900).toString().substring(2),"%Y":mt=>mt.tm_year+1900,"%z":mt=>{var hn=mt.tm_gmtoff;return(hn>=0?"+":"-")+("0000"+(hn=(hn=Math.abs(hn)/60)/60*100+hn%60)).slice(-4)},"%Z":mt=>mt.tm_zone,"%%":()=>"%"};for(var Mr in pn=pn.replace(/%%/g,"\0\0"),Hf)pn.includes(Mr)&&(pn=pn.replace(new RegExp(Mr,"g"),Hf[Mr](rn)));var td=Ys(pn=pn.replace(/\0\0/g,"%"),!1);return td.length>y?0:(((u,y)=>{Fe.set(u,y)})(td,u),td.length-1)})(u,y,Y,Ne)},U=function Ko(){var u={a:It};function y(Ne,St){return ne=(U=Ne.exports).t,me(),D=U.Wc,function Tt(u){Le.unshift(u)}(U.u),function nt(u){if(Et--,d.monitorRunDependencies&&d.monitorRunDependencies(Et),0==Et&&(null!==xe&&(clearInterval(xe),xe=null),be)){var y=be;be=null,y()}}(),U}if(function ke(u){Et++,d.monitorRunDependencies&&d.monitorRunDependencies(Et)}(),d.instantiateWasm)try{return d.instantiateWasm(u,y)}catch(Ne){W(`Module.instantiateWasm callback failed with error: ${Ne}`),X(Ne)}return function Pn(u,y,Y,Ne){return u||"function"!=typeof WebAssembly.instantiateStreaming||on(y)||"function"!=typeof fetch?gr(y,Y,Ne):fetch(y,{credentials:"same-origin"}).then(St=>WebAssembly.instantiateStreaming(St,Y).then(Ne,function(pn){return W(`wasm streaming compile failed: ${pn}`),W("falling back to ArrayBuffer instantiation"),gr(y,Y,Ne)}))}(P,$t,u,function Y(Ne){y(Ne.instance)}).catch(X),{}}(),ur=d._malloc=u=>(ur=d._malloc=U.v)(u),Gr=(d._free=u=>(d._free=U.w)(u),d._main=(u,y)=>(Gr=d._main=U.x)(u,y)),Vn=(d._webidl_free=u=>(d._webidl_free=U.y)(u),d._webidl_malloc=u=>(d._webidl_malloc=U.z)(u),d._emscripten_bind_VoidPtr___destroy___0=u=>(Vn=d._emscripten_bind_VoidPtr___destroy___0=U.A)(u)),jo=d._emscripten_bind_Cloudpilot_Cloudpilot_0=()=>(jo=d._emscripten_bind_Cloudpilot_Cloudpilot_0=U.B)(),ko=d._emscripten_bind_Cloudpilot_Malloc_1=(u,y)=>(ko=d._emscripten_bind_Cloudpilot_Malloc_1=U.C)(u,y),is=d._emscripten_bind_Cloudpilot_Free_1=(u,y)=>(is=d._emscripten_bind_Cloudpilot_Free_1=U.D)(u,y),za=d._emscripten_bind_Cloudpilot_Nullptr_0=u=>(za=d._emscripten_bind_Cloudpilot_Nullptr_0=U.E)(u),ma=d._emscripten_bind_Cloudpilot_InitializeSession_3=(u,y,Y,Ne)=>(ma=d._emscripten_bind_Cloudpilot_InitializeSession_3=U.F)(u,y,Y,Ne),Ks=d._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=u=>(Ks=d._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=U.G)(u),ga=d._emscripten_bind_Cloudpilot_RunEmulation_1=(u,y)=>(ga=d._emscripten_bind_Cloudpilot_RunEmulation_1=U.H)(u,y),ss=d._emscripten_bind_Cloudpilot_SetClockFactor_1=(u,y)=>(ss=d._emscripten_bind_Cloudpilot_SetClockFactor_1=U.I)(u,y),Wa=d._emscripten_bind_Cloudpilot_CopyFrame_0=u=>(Wa=d._emscripten_bind_Cloudpilot_CopyFrame_0=U.J)(u),_a=d._emscripten_bind_Cloudpilot_IsScreenDirty_0=u=>(_a=d._emscripten_bind_Cloudpilot_IsScreenDirty_0=U.K)(u),va=d._emscripten_bind_Cloudpilot_MarkScreenClean_0=u=>(va=d._emscripten_bind_Cloudpilot_MarkScreenClean_0=U.L)(u),Za=d._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=(u,y)=>(Za=d._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=U.M)(u,y),qa=d._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=(u,y)=>(qa=d._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=U.N)(u,y),Ya=d._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=(u,y)=>(Ya=d._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=U.O)(u,y),Ka=d._emscripten_bind_Cloudpilot_QueuePenMove_2=(u,y,Y)=>(Ka=d._emscripten_bind_Cloudpilot_QueuePenMove_2=U.P)(u,y,Y),ya=d._emscripten_bind_Cloudpilot_QueuePenUp_0=u=>(ya=d._emscripten_bind_Cloudpilot_QueuePenUp_0=U.Q)(u),Xa=d._emscripten_bind_Cloudpilot_QueueButtonDown_1=(u,y)=>(Xa=d._emscripten_bind_Cloudpilot_QueueButtonDown_1=U.R)(u,y),Qa=d._emscripten_bind_Cloudpilot_QueueButtonUp_1=(u,y)=>(Qa=d._emscripten_bind_Cloudpilot_QueueButtonUp_1=U.S)(u,y),br=d._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=(u,y,Y)=>(br=d._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=U.T)(u,y,Y),ba=d._emscripten_bind_Cloudpilot_IsPowerOff_0=u=>(ba=d._emscripten_bind_Cloudpilot_IsPowerOff_0=U.U)(u),fo=d._emscripten_bind_Cloudpilot_IsUIInitialized_0=u=>(fo=d._emscripten_bind_Cloudpilot_IsUIInitialized_0=U.V)(u),Vt=d._emscripten_bind_Cloudpilot_GetOSVersion_0=u=>(Vt=d._emscripten_bind_Cloudpilot_GetOSVersion_0=U.W)(u),Ca=d._emscripten_bind_Cloudpilot_IsSetupComplete_0=u=>(Ca=d._emscripten_bind_Cloudpilot_IsSetupComplete_0=U.X)(u),Xs=d._emscripten_bind_Cloudpilot_Reset_0=u=>(Xs=d._emscripten_bind_Cloudpilot_Reset_0=U.Y)(u),Qr=d._emscripten_bind_Cloudpilot_ResetNoExtensions_0=u=>(Qr=d._emscripten_bind_Cloudpilot_ResetNoExtensions_0=U.Z)(u),Qs=d._emscripten_bind_Cloudpilot_ResetHard_0=u=>(Qs=d._emscripten_bind_Cloudpilot_ResetHard_0=U._)(u),Ja=d._emscripten_bind_Cloudpilot_InstallDb_2=(u,y,Y)=>(Ja=d._emscripten_bind_Cloudpilot_InstallDb_2=U.$)(u,y,Y),jn=d._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=u=>(jn=d._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=U.aa)(u),As=d._emscripten_bind_Cloudpilot_GetMemoryPtr_0=u=>(As=d._emscripten_bind_Cloudpilot_GetMemoryPtr_0=U.ba)(u),Cr=d._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=u=>(Cr=d._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=U.ca)(u),Js=d._emscripten_bind_Cloudpilot_GetMemorySize_0=u=>(Js=d._emscripten_bind_Cloudpilot_GetMemorySize_0=U.da)(u),Pl=d._emscripten_bind_Cloudpilot_ImportMemoryImage_2=(u,y,Y)=>(Pl=d._emscripten_bind_Cloudpilot_ImportMemoryImage_2=U.ea)(u,y,Y),el=d._emscripten_bind_Cloudpilot_GetRomPtr_0=u=>(el=d._emscripten_bind_Cloudpilot_GetRomPtr_0=U.fa)(u),Un=d._emscripten_bind_Cloudpilot_GetRomSize_0=u=>(Un=d._emscripten_bind_Cloudpilot_GetRomSize_0=U.ga)(u),jt=d._emscripten_bind_Cloudpilot_GetSavestatePtr_0=u=>(jt=d._emscripten_bind_Cloudpilot_GetSavestatePtr_0=U.ha)(u),ks=d._emscripten_bind_Cloudpilot_GetSavestateSize_0=u=>(ks=d._emscripten_bind_Cloudpilot_GetSavestateSize_0=U.ia)(u),ea=d._emscripten_bind_Cloudpilot_SaveState_0=u=>(ea=d._emscripten_bind_Cloudpilot_SaveState_0=U.ja)(u),Ol=d._emscripten_bind_Cloudpilot_LoadState_2=(u,y,Y)=>(Ol=d._emscripten_bind_Cloudpilot_LoadState_2=U.ka)(u,y,Y),Sa=d._emscripten_bind_Cloudpilot_GetHotsyncName_0=u=>(Sa=d._emscripten_bind_Cloudpilot_GetHotsyncName_0=U.la)(u),Je=d._emscripten_bind_Cloudpilot_SetHotsyncName_1=(u,y)=>(Je=d._emscripten_bind_Cloudpilot_SetHotsyncName_1=U.ma)(u,y),$i=d._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=(u,y)=>($i=d._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=U.na)(u,y),as=d._emscripten_bind_Cloudpilot_StartBackup_0=u=>(as=d._emscripten_bind_Cloudpilot_StartBackup_0=U.oa)(u),ta=d._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=(u,y)=>(ta=d._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=U.pa)(u,y),wa=d._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=u=>(wa=d._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=U.qa)(u),tl=d._emscripten_bind_Cloudpilot_IsSuspended_0=u=>(tl=d._emscripten_bind_Cloudpilot_IsSuspended_0=U.ra)(u),ei=d._emscripten_bind_Cloudpilot_GetSuspendContext_0=u=>(ei=d._emscripten_bind_Cloudpilot_GetSuspendContext_0=U.sa)(u),ls=d._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=(u,y)=>(ls=d._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=U.ta)(u,y),nl=d._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=u=>(nl=d._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=U.ua)(u),Yt=d._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=(u,y)=>(Yt=d._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=U.va)(u,y),$n=d._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=(u,y)=>($n=d._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=U.wa)(u,y),Ea=d._emscripten_bind_Cloudpilot_LaunchAppByName_1=(u,y)=>(Ea=d._emscripten_bind_Cloudpilot_LaunchAppByName_1=U.xa)(u,y),Fl=d._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=(u,y,Y)=>(Fl=d._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=U.ya)(u,y,Y),Nl=d._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=(u,y)=>(Nl=d._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=U.za)(u,y),Ll=d._emscripten_bind_Cloudpilot_ClearExternalStorage_0=u=>(Ll=d._emscripten_bind_Cloudpilot_ClearExternalStorage_0=U.Aa)(u),rl=d._emscripten_bind_Cloudpilot_AllocateCard_2=(u,y,Y)=>(rl=d._emscripten_bind_Cloudpilot_AllocateCard_2=U.Ba)(u,y,Y),Ir=d._emscripten_bind_Cloudpilot_AdoptCard_3=(u,y,Y,Ne)=>(Ir=d._emscripten_bind_Cloudpilot_AdoptCard_3=U.Ca)(u,y,Y,Ne),dr=d._emscripten_bind_Cloudpilot_MountCard_1=(u,y)=>(dr=d._emscripten_bind_Cloudpilot_MountCard_1=U.Da)(u,y),So=d._emscripten_bind_Cloudpilot_RemoveCard_1=(u,y)=>(So=d._emscripten_bind_Cloudpilot_RemoveCard_1=U.Ea)(u,y),$l=d._emscripten_bind_Cloudpilot_GetCardData_1=(u,y)=>($l=d._emscripten_bind_Cloudpilot_GetCardData_1=U.Fa)(u,y),mc=d._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=(u,y)=>(mc=d._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=U.Ga)(u,y),Ti=d._emscripten_bind_Cloudpilot_GetCardSize_1=(u,y)=>(Ti=d._emscripten_bind_Cloudpilot_GetCardSize_1=U.Ha)(u,y),gc=d._emscripten_bind_Cloudpilot_RemountCards_0=u=>(gc=d._emscripten_bind_Cloudpilot_RemountCards_0=U.Ia)(u),au=d._emscripten_bind_Cloudpilot_GetSupportLevel_1=(u,y)=>(au=d._emscripten_bind_Cloudpilot_GetSupportLevel_1=U.Ja)(u,y),Qn=d._emscripten_bind_Cloudpilot_GetMountedKey_0=u=>(Qn=d._emscripten_bind_Cloudpilot_GetMountedKey_0=U.Ka)(u),Da=d._emscripten_bind_Cloudpilot_GetTransportIR_0=u=>(Da=d._emscripten_bind_Cloudpilot_GetTransportIR_0=U.La)(u),Nr=d._emscripten_bind_Cloudpilot_GetTransportSerial_0=u=>(Nr=d._emscripten_bind_Cloudpilot_GetTransportSerial_0=U.Ma)(u),wo=d._emscripten_bind_Cloudpilot___destroy___0=u=>(wo=d._emscripten_bind_Cloudpilot___destroy___0=U.Na)(u),po=d._emscripten_bind_RomInfo_RomInfo_2=(u,y)=>(po=d._emscripten_bind_RomInfo_RomInfo_2=U.Oa)(u,y),Ur=d._emscripten_bind_RomInfo_IsValid_0=u=>(Ur=d._emscripten_bind_RomInfo_IsValid_0=U.Pa)(u),bn=d._emscripten_bind_RomInfo_CardVersion_0=u=>(bn=d._emscripten_bind_RomInfo_CardVersion_0=U.Qa)(u),yt=d._emscripten_bind_RomInfo_CardName_0=u=>(yt=d._emscripten_bind_RomInfo_CardName_0=U.Ra)(u),xr=d._emscripten_bind_RomInfo_RomVersion_0=u=>(xr=d._emscripten_bind_RomInfo_RomVersion_0=U.Sa)(u),Sr=d._emscripten_bind_RomInfo_RomVersionString_0=u=>(Sr=d._emscripten_bind_RomInfo_RomVersionString_0=U.Ta)(u),_=d._emscripten_bind_RomInfo_Supports_1=(u,y)=>(_=d._emscripten_bind_RomInfo_Supports_1=U.Ua)(u,y),q=d._emscripten_bind_RomInfo___destroy___0=u=>(q=d._emscripten_bind_RomInfo___destroy___0=U.Va)(u),k=d._emscripten_bind_Frame_GetLineWidth_0=u=>(k=d._emscripten_bind_Frame_GetLineWidth_0=U.Wa)(u),$e=d._emscripten_bind_Frame_GetBpp_0=u=>($e=d._emscripten_bind_Frame_GetBpp_0=U.Xa)(u),ot=d._emscripten_bind_Frame_GetLines_0=u=>(ot=d._emscripten_bind_Frame_GetLines_0=U.Ya)(u),nn=d._emscripten_bind_Frame_GetMargin_0=u=>(nn=d._emscripten_bind_Frame_GetMargin_0=U.Za)(u),Kt=d._emscripten_bind_Frame_GetBytesPerLine_0=u=>(Kt=d._emscripten_bind_Frame_GetBytesPerLine_0=U._a)(u),ln=d._emscripten_bind_Frame_GetFirstDirtyLine_0=u=>(ln=d._emscripten_bind_Frame_GetFirstDirtyLine_0=U.$a)(u),Jn=d._emscripten_bind_Frame_GetLastDirtyLine_0=u=>(Jn=d._emscripten_bind_Frame_GetLastDirtyLine_0=U.ab)(u),Lt=d._emscripten_bind_Frame_GetHasChanges_0=u=>(Lt=d._emscripten_bind_Frame_GetHasChanges_0=U.bb)(u),rr=d._emscripten_bind_Frame_GetBuffer_0=u=>(rr=d._emscripten_bind_Frame_GetBuffer_0=U.cb)(u),fr=d._emscripten_bind_Frame_GetBufferSize_0=u=>(fr=d._emscripten_bind_Frame_GetBufferSize_0=U.db)(u),Cn=d._emscripten_bind_Frame_GetScaleX_0=u=>(Cn=d._emscripten_bind_Frame_GetScaleX_0=U.eb)(u),Rt=d._emscripten_bind_Frame_GetScaleY_0=u=>(Rt=d._emscripten_bind_Frame_GetScaleY_0=U.fb)(u),Nt=d._emscripten_bind_Frame___destroy___0=u=>(Nt=d._emscripten_bind_Frame___destroy___0=U.gb)(u),Bn=d._emscripten_bind_DbBackup_Init_1=(u,y)=>(Bn=d._emscripten_bind_DbBackup_Init_1=U.hb)(u,y),Tr=d._emscripten_bind_DbBackup_IsInProgress_0=u=>(Tr=d._emscripten_bind_DbBackup_IsInProgress_0=U.ib)(u),mn=d._emscripten_bind_DbBackup_IsDone_0=u=>(mn=d._emscripten_bind_DbBackup_IsDone_0=U.jb)(u),Ke=d._emscripten_bind_DbBackup_GetCurrentDatabase_0=u=>(Ke=d._emscripten_bind_DbBackup_GetCurrentDatabase_0=U.kb)(u),p=d._emscripten_bind_DbBackup_Save_0=u=>(p=d._emscripten_bind_DbBackup_Save_0=U.lb)(u),x=d._emscripten_bind_DbBackup_Skip_0=u=>(x=d._emscripten_bind_DbBackup_Skip_0=U.mb)(u),se=d._emscripten_bind_DbBackup_GetArchivePtr_0=u=>(se=d._emscripten_bind_DbBackup_GetArchivePtr_0=U.nb)(u),je=d._emscripten_bind_DbBackup_GetArchiveSize_0=u=>(je=d._emscripten_bind_DbBackup_GetArchiveSize_0=U.ob)(u),Pe=d._emscripten_bind_DbBackup___destroy___0=u=>(Pe=d._emscripten_bind_DbBackup___destroy___0=U.pb)(u),wn=d._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=u=>(wn=d._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=U.qb)(u),Jt=d._emscripten_bind_SuspendContextClipboardCopy_Resume_0=u=>(Jt=d._emscripten_bind_SuspendContextClipboardCopy_Resume_0=U.rb)(u),gn=d._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=u=>(gn=d._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=U.sb)(u),er=d._emscripten_bind_SuspendContextClipboardCopy___destroy___0=u=>(er=d._emscripten_bind_SuspendContextClipboardCopy___destroy___0=U.tb)(u),Ro=d._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=u=>(Ro=d._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=U.ub)(u),Rs=d._emscripten_bind_SuspendContextClipboardPaste_Resume_1=(u,y)=>(Rs=d._emscripten_bind_SuspendContextClipboardPaste_Resume_1=U.vb)(u,y),ol=d._emscripten_bind_SuspendContextClipboardPaste___destroy___0=u=>(ol=d._emscripten_bind_SuspendContextClipboardPaste___destroy___0=U.wb)(u),Po=d._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=u=>(Po=d._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=U.xb)(u),Bl=d._emscripten_bind_SuspendContextNetworkConnect_Resume_1=(u,y)=>(Bl=d._emscripten_bind_SuspendContextNetworkConnect_Resume_1=U.yb)(u,y),_c=d._emscripten_bind_SuspendContextNetworkConnect___destroy___0=u=>(_c=d._emscripten_bind_SuspendContextNetworkConnect___destroy___0=U.zb)(u),Vl=d._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=u=>(Vl=d._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=U.Ab)(u),Ia=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=u=>(Ia=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=U.Bb)(u),il=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=u=>(il=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=U.Cb)(u),dt=d._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=(u,y,Y)=>(dt=d._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=U.Db)(u,y,Y),cn=d._emscripten_bind_SuspendContextNetworkRpc___destroy___0=u=>(cn=d._emscripten_bind_SuspendContextNetworkRpc___destroy___0=U.Eb)(u),Ci=d._emscripten_bind_SuspendContextSerialSync_Cancel_0=u=>(Ci=d._emscripten_bind_SuspendContextSerialSync_Cancel_0=U.Fb)(u),ti=d._emscripten_bind_SuspendContextSerialSync_Resume_0=u=>(ti=d._emscripten_bind_SuspendContextSerialSync_Resume_0=U.Gb)(u),sl=d._emscripten_bind_SuspendContextSerialSync___destroy___0=u=>(sl=d._emscripten_bind_SuspendContextSerialSync___destroy___0=U.Hb)(u),xa=d._emscripten_bind_SuspendContext_GetKind_0=u=>(xa=d._emscripten_bind_SuspendContext_GetKind_0=U.Ib)(u),zh=d._emscripten_bind_SuspendContext_Cancel_0=u=>(zh=d._emscripten_bind_SuspendContext_Cancel_0=U.Jb)(u),Ta=d._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=u=>(Ta=d._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=U.Kb)(u),Wh=d._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=u=>(Wh=d._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=U.Lb)(u),ue=d._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=u=>(ue=d._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=U.Mb)(u),kf=d._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=u=>(kf=d._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=U.Nb)(u),lt=d._emscripten_bind_SuspendContext_AsContextSerialSync_0=u=>(lt=d._emscripten_bind_SuspendContext_AsContextSerialSync_0=U.Ob)(u),lu=d._emscripten_bind_SuspendContext___destroy___0=u=>(lu=d._emscripten_bind_SuspendContext___destroy___0=U.Pb)(u),Xu=d._emscripten_bind_SessionImage_SessionImage_0=()=>(Xu=d._emscripten_bind_SessionImage_SessionImage_0=U.Qb)(),vc=d._emscripten_bind_SessionImage_GetDeviceId_0=u=>(vc=d._emscripten_bind_SessionImage_GetDeviceId_0=U.Rb)(u),Zh=d._emscripten_bind_SessionImage_SetDeviceId_1=(u,y)=>(Zh=d._emscripten_bind_SessionImage_SetDeviceId_1=U.Sb)(u,y),qh=d._emscripten_bind_SessionImage_GetRomImage_0=u=>(qh=d._emscripten_bind_SessionImage_GetRomImage_0=U.Tb)(u),Yh=d._emscripten_bind_SessionImage_GetRomImageSize_0=u=>(Yh=d._emscripten_bind_SessionImage_GetRomImageSize_0=U.Ub)(u),na=d._emscripten_bind_SessionImage_SetRomImage_2=(u,y,Y)=>(na=d._emscripten_bind_SessionImage_SetRomImage_2=U.Vb)(u,y,Y),cu=d._emscripten_bind_SessionImage_GetMemoryImage_0=u=>(cu=d._emscripten_bind_SessionImage_GetMemoryImage_0=U.Wb)(u),cs=d._emscripten_bind_SessionImage_GetMemoryImageSize_0=u=>(cs=d._emscripten_bind_SessionImage_GetMemoryImageSize_0=U.Xb)(u),Ps=d._emscripten_bind_SessionImage_SetMemoryImage_2=(u,y,Y)=>(Ps=d._emscripten_bind_SessionImage_SetMemoryImage_2=U.Yb)(u,y,Y),Zn=d._emscripten_bind_SessionImage_GetMetadata_0=u=>(Zn=d._emscripten_bind_SessionImage_GetMetadata_0=U.Zb)(u),Rf=d._emscripten_bind_SessionImage_GetMetadataSize_0=u=>(Rf=d._emscripten_bind_SessionImage_GetMetadataSize_0=U._b)(u),Qu=d._emscripten_bind_SessionImage_SetMetadata_2=(u,y,Y)=>(Qu=d._emscripten_bind_SessionImage_SetMetadata_2=U.$b)(u,y,Y),Pf=d._emscripten_bind_SessionImage_GetSavestate_0=u=>(Pf=d._emscripten_bind_SessionImage_GetSavestate_0=U.ac)(u),Of=d._emscripten_bind_SessionImage_GetSavestateSize_0=u=>(Of=d._emscripten_bind_SessionImage_GetSavestateSize_0=U.bc)(u),yc=d._emscripten_bind_SessionImage_SetSavestate_2=(u,y,Y)=>(yc=d._emscripten_bind_SessionImage_SetSavestate_2=U.cc)(u,y,Y),Ff=d._emscripten_bind_SessionImage_GetVersion_0=u=>(Ff=d._emscripten_bind_SessionImage_GetVersion_0=U.dc)(u),Nf=d._emscripten_bind_SessionImage_Serialize_0=u=>(Nf=d._emscripten_bind_SessionImage_Serialize_0=U.ec)(u),Kh=d._emscripten_bind_SessionImage_GetSerializedImage_0=u=>(Kh=d._emscripten_bind_SessionImage_GetSerializedImage_0=U.fc)(u),Lf=d._emscripten_bind_SessionImage_GetSerializedImageSize_0=u=>(Lf=d._emscripten_bind_SessionImage_GetSerializedImageSize_0=U.gc)(u),Xh=d._emscripten_bind_SessionImage_Deserialize_2=(u,y,Y)=>(Xh=d._emscripten_bind_SessionImage_Deserialize_2=U.hc)(u,y,Y),Qh=d._emscripten_bind_SessionImage___destroy___0=u=>(Qh=d._emscripten_bind_SessionImage___destroy___0=U.ic)(u),us=d._emscripten_bind_SkinLoader_SkinLoader_1=u=>(us=d._emscripten_bind_SkinLoader_SkinLoader_1=U.jc)(u),Jh=d._emscripten_bind_SkinLoader_GetData_0=u=>(Jh=d._emscripten_bind_SkinLoader_GetData_0=U.kc)(u),$f=d._emscripten_bind_SkinLoader_GetSize_0=u=>($f=d._emscripten_bind_SkinLoader_GetSize_0=U.lc)(u),em=d._emscripten_bind_SkinLoader___destroy___0=u=>(em=d._emscripten_bind_SkinLoader___destroy___0=U.mc)(u),tm=d._emscripten_bind_EmTransportSerialBuffer_RxBytesPending_0=u=>(tm=d._emscripten_bind_EmTransportSerialBuffer_RxBytesPending_0=U.nc)(u),nm=d._emscripten_bind_EmTransportSerialBuffer_Receive_0=u=>(nm=d._emscripten_bind_EmTransportSerialBuffer_Receive_0=U.oc)(u),rm=d._emscripten_bind_EmTransportSerialBuffer_Send_3=(u,y,Y,Ne)=>(rm=d._emscripten_bind_EmTransportSerialBuffer_Send_3=U.pc)(u,y,Y,Ne),Bf=d._emscripten_bind_EmTransportSerialBuffer_IsOpen_0=u=>(Bf=d._emscripten_bind_EmTransportSerialBuffer_IsOpen_0=U.qc)(u),om=d._emscripten_bind_EmTransportSerialBuffer_Rts_0=u=>(om=d._emscripten_bind_EmTransportSerialBuffer_Rts_0=U.rc)(u),im=d._emscripten_bind_EmTransportSerialBuffer_Dtr_0=u=>(im=d._emscripten_bind_EmTransportSerialBuffer_Dtr_0=U.sc)(u),sm=d._emscripten_bind_EmTransportSerialBuffer_IsBreak_0=u=>(sm=d._emscripten_bind_EmTransportSerialBuffer_IsBreak_0=U.tc)(u),Ye=d._emscripten_bind_EmTransportSerialBuffer_BufferSize_0=u=>(Ye=d._emscripten_bind_EmTransportSerialBuffer_BufferSize_0=U.uc)(u),am=d._emscripten_bind_EmTransportSerialBuffer_GetBaud_0=u=>(am=d._emscripten_bind_EmTransportSerialBuffer_GetBaud_0=U.vc)(u),lm=d._emscripten_bind_EmTransportSerialBuffer_GetParity_0=u=>(lm=d._emscripten_bind_EmTransportSerialBuffer_GetParity_0=U.wc)(u),Jr=d._emscripten_bind_EmTransportSerialBuffer_GetStopBits_0=u=>(Jr=d._emscripten_bind_EmTransportSerialBuffer_GetStopBits_0=U.xc)(u),Vf=d._emscripten_bind_EmTransportSerialBuffer_GetDataBits_0=u=>(Vf=d._emscripten_bind_EmTransportSerialBuffer_GetDataBits_0=U.yc)(u),Pt=d._emscripten_bind_EmTransportSerialBuffer_GetHwrHandshake_0=u=>(Pt=d._emscripten_bind_EmTransportSerialBuffer_GetHwrHandshake_0=U.zc)(u),Oo=d._emscripten_bind_EmTransportSerialBuffer_GetModeSync_0=u=>(Oo=d._emscripten_bind_EmTransportSerialBuffer_GetModeSync_0=U.Ac)(u),kn=d._emscripten_bind_EmTransportSerialBuffer_SetModeSync_1=(u,y)=>(kn=d._emscripten_bind_EmTransportSerialBuffer_SetModeSync_1=U.Bc)(u,y),Eo=d._emscripten_bind_EmTransportSerialBuffer_IsFrameComplete_0=u=>(Eo=d._emscripten_bind_EmTransportSerialBuffer_IsFrameComplete_0=U.Cc)(u),Go=d._emscripten_bind_EmTransportSerialBuffer_SetRequestTransferCallback_1=(u,y)=>(Go=d._emscripten_bind_EmTransportSerialBuffer_SetRequestTransferCallback_1=U.Dc)(u,y),Ma=d._emscripten_bind_EmTransportSerialBuffer___destroy___0=u=>(Ma=d._emscripten_bind_EmTransportSerialBuffer___destroy___0=U.Ec)(u),ni=d._emscripten_bind_GunzipContext_GunzipContext_3=(u,y,Y)=>(ni=d._emscripten_bind_GunzipContext_GunzipContext_3=U.Fc)(u,y,Y),jf=d._emscripten_bind_GunzipContext_GetState_0=u=>(jf=d._emscripten_bind_GunzipContext_GetState_0=U.Gc)(u),Gf=d._emscripten_bind_GunzipContext_Continue_0=u=>(Gf=d._emscripten_bind_GunzipContext_Continue_0=U.Hc)(u),uu=d._emscripten_bind_GunzipContext_GetUncompressedData_0=u=>(uu=d._emscripten_bind_GunzipContext_GetUncompressedData_0=U.Ic)(u),cm=d._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=u=>(cm=d._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=U.Jc)(u),um=d._emscripten_bind_GunzipContext_GetUncompressedSize_0=u=>(um=d._emscripten_bind_GunzipContext_GetUncompressedSize_0=U.Kc)(u),eo=d._emscripten_bind_GunzipContext_GetError_0=u=>(eo=d._emscripten_bind_GunzipContext_GetError_0=U.Lc)(u),pt=d._emscripten_bind_GunzipContext___destroy___0=u=>(pt=d._emscripten_bind_GunzipContext___destroy___0=U.Mc)(u),Gt=d._emscripten_bind_ZipfileWalker_ZipfileWalker_2=(u,y)=>(Gt=d._emscripten_bind_ZipfileWalker_ZipfileWalker_2=U.Nc)(u,y),Lr=d._emscripten_bind_ZipfileWalker_GetState_0=u=>(Lr=d._emscripten_bind_ZipfileWalker_GetState_0=U.Oc)(u),ds=d._emscripten_bind_ZipfileWalker_Next_0=u=>(ds=d._emscripten_bind_ZipfileWalker_Next_0=U.Pc)(u),ri=d._emscripten_bind_ZipfileWalker_GetTotalEntries_0=u=>(ri=d._emscripten_bind_ZipfileWalker_GetTotalEntries_0=U.Qc)(u),fs=d._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=u=>(fs=d._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=U.Rc)(u),jl=d._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=u=>(jl=d._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=U.Sc)(u),wr=d._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=u=>(wr=d._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=U.Tc)(u),hi=d._emscripten_bind_ZipfileWalker___destroy___0=u=>(hi=d._emscripten_bind_ZipfileWalker___destroy___0=U.Uc)(u),Gl=()=>(Gl=U.Vc)(),un=u=>(un=U.Xc)(u),bc=()=>(bc=U.Yc)(),$r=()=>($r=U.Zc)(),Sc=()=>(Sc=U._c)();function Ju(){function u(){Hl||(Hl=!0,d.calledRun=!0,!ce&&(function fe(){Xe(),Kn(Le)}(),function Ge(){Xe(),Kn(ve)}(),K(d),d.onRuntimeInitialized&&d.onRuntimeInitialized(),Ec&&function zl(){var u=Gr;try{var Ne=u(0,0);return Ts(Ne),Ne}catch(St){return(u=>{if(u instanceof Or||"unwind"==u)return le;Xe(),u instanceof WebAssembly.RuntimeError&&Sc()<=0&&W("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 1048576)"),A(1,u)})(St)}}(),function ct(){if(Xe(),d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)u=d.postRun.shift(),we.unshift(u);var u;Kn(we)}()))}Et>0||(function fn(){bc(),function We(){var u=$r();0==u&&(u+=4),E[u>>2]=34821223,E[u+4>>2]=2310721022,E[0]=1668509029}()}(),function Dt(){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)u=d.preRun.shift(),ye.unshift(u);var u;Kn(ye)}(),Et>0)||(d.setStatus?(d.setStatus("Running..."),setTimeout(function(){setTimeout(function(){d.setStatus("")},1),u()},1)):u(),Xe())}if(d.___original_main=()=>(d.___original_main=U.$c)(),d.___start_em_js=425559,d.___stop_em_js=425658,d.addFunction=(u,y)=>{var Y=(u=>(de||(de=new WeakMap,((u,y)=>{if(de)for(var Y=0;Y<0+y;Y++){var Ne=ae(Y);Ne&&de.set(Ne,Y)}})(0,D.length)),de.get(u)||0))(u);if(Y)return Y;var Ne=(()=>{if(Qe.length)return Qe.pop();try{D.grow(1)}catch(u){throw u instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":u}return D.length-1})();try{Ue(Ne,u)}catch(rn){if(!(rn instanceof TypeError))throw rn;var St=((u,y)=>{if("function"==typeof WebAssembly.Function)return new WebAssembly.Function((u=>{for(var y={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},Y={parameters:[],results:"v"==u[0]?[]:[y[u[0]]]},Ne=1;Ne<u.length;++Ne)Y.parameters.push(y[u[Ne]]);return Y})(y),u);var Y=[1];((u,y)=>{var Y=u.slice(0,1),Ne=u.slice(1),St={i:127,p:127,j:126,f:125,d:124,e:111};y.push(96),rt(Ne.length,y);for(var rn=0;rn<Ne.length;++rn)y.push(St[Ne[rn]]);"v"==Y?y.push(0):y.push(1,St[Y])})(y,Y);var Ne=[0,97,115,109,1,0,0,0,1];rt(Y.length,Ne),Ne.push.apply(Ne,Y),Ne.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var St=new WebAssembly.Module(new Uint8Array(Ne));return new WebAssembly.Instance(St,{e:{f:u}}).exports.f})(u,y);Ue(Ne,St)}return de.set(u,Ne),Ne},d.UTF8ToString=he,be=function u(){Hl||Ju(),Hl||(be=u)},d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();var Ec=!0;function Hn(){}function ps(u){return(u||Hn).__cache__}function _n(u,y){var Y=ps(y),Ne=Y[u];return Ne||((Ne=Object.create((y||Hn).prototype)).ptr=u,Y[u]=Ne)}d.noInitialRun&&(Ec=!1),Ju(),(Hn.prototype=Object.create(Hn.prototype)).constructor=Hn,Hn.prototype.__class__=Hn,Hn.__cache__={},d.WrapperObject=Hn,d.getCache=ps,d.wrapPointer=_n,d.castObject=function ho(u,y){return _n(u.ptr,y)},d.NULL=_n(0),d.destroy=function Dc(u){if(!u.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";u.__destroy__(),delete ps(u.__class__)[u.ptr]},d.compare=function oi(u,y){return u.ptr===y.ptr},d.getPointer=function Uo(u){return u.ptr},d.getClass=function Uf(u){return u.__class__};var en={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(en.needed){for(var u=0;u<en.temps.length;u++)d._webidl_free(en.temps[u]);en.temps.length=0,d._webidl_free(en.buffer),en.buffer=0,en.size+=en.needed,en.needed=0}en.buffer||(en.size+=128,en.buffer=d._webidl_malloc(en.size),Re(en.buffer)),en.pos=0},alloc(u,y){Re(en.buffer);var St,Ne=u.length*y.BYTES_PER_ELEMENT;return en.pos+(Ne=Ne+7&-8)>=en.size?(Re(Ne>0),en.needed+=Ne,St=d._webidl_malloc(Ne),en.temps.push(St)):(St=en.buffer+en.pos,en.pos+=Ne),St},copy(u,y,Y){switch(Y>>>=0,y.BYTES_PER_ELEMENT){case 2:Y>>>=1;break;case 4:Y>>>=2;break;case 8:Y>>>=3}for(var St=0;St<u.length;St++)y[Y+St]=u[St]}};function mo(u){if("string"==typeof u){var y=Ys(u),Y=en.alloc(y,Fe);return en.copy(y,Fe,Y),Y}return u}function Rn(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Ve(){this.ptr=jo(),ps(Ve)[this.ptr]=this}function io(u,y){u&&"object"==typeof u&&(u=u.ptr),y&&"object"==typeof y&&(y=y.ptr),this.ptr=po(u,y),ps(io)[this.ptr]=this}function Wn(){throw"cannot construct a Frame, no constructor in IDL"}function pr(){throw"cannot construct a DbBackup, no constructor in IDL"}function ii(){throw"cannot construct a SuspendContextClipboardCopy, no constructor in IDL"}function Mi(){throw"cannot construct a SuspendContextClipboardPaste, no constructor in IDL"}function mi(){throw"cannot construct a SuspendContextNetworkConnect, no constructor in IDL"}function si(){throw"cannot construct a SuspendContextNetworkRpc, no constructor in IDL"}function Bi(){throw"cannot construct a SuspendContextSerialSync, no constructor in IDL"}function to(){throw"cannot construct a SuspendContext, no constructor in IDL"}function qt(){this.ptr=Xu(),ps(qt)[this.ptr]=this}function Vi(u){en.prepare(),u=u&&"object"==typeof u?u.ptr:mo(u),this.ptr=us(u),ps(Vi)[this.ptr]=this}function vn(){throw"cannot construct a EmTransportSerialBuffer, no constructor in IDL"}function go(u,y,Y){u&&"object"==typeof u&&(u=u.ptr),y&&"object"==typeof y&&(y=y.ptr),Y&&"object"==typeof Y&&(Y=Y.ptr),this.ptr=ni(u,y,Y),ps(go)[this.ptr]=this}function _o(u,y){u&&"object"==typeof u&&(u=u.ptr),y&&"object"==typeof y&&(y=y.ptr),this.ptr=Gt(u,y),ps(_o)[this.ptr]=this}return(Rn.prototype=Object.create(Hn.prototype)).constructor=Rn,Rn.prototype.__class__=Rn,Rn.__cache__={},d.VoidPtr=Rn,Rn.prototype.__destroy__=Rn.prototype.__destroy__=function(){Vn(this.ptr)},(Ve.prototype=Object.create(Hn.prototype)).constructor=Ve,Ve.prototype.__class__=Ve,Ve.__cache__={},d.Cloudpilot=Ve,Ve.prototype.Malloc=Ve.prototype.Malloc=function(u){return u&&"object"==typeof u&&(u=u.ptr),_n(ko(this.ptr,u),Rn)},Ve.prototype.Free=Ve.prototype.Free=function(u){u&&"object"==typeof u&&(u=u.ptr),is(this.ptr,u)},Ve.prototype.Nullptr=Ve.prototype.Nullptr=function(){return _n(za(this.ptr),Rn)},Ve.prototype.InitializeSession=Ve.prototype.InitializeSession=function(u,y,Y){var Ne=this.ptr;return en.prepare(),u&&"object"==typeof u&&(u=u.ptr),y&&"object"==typeof y&&(y=y.ptr),Y=Y&&"object"==typeof Y?Y.ptr:mo(Y),!!ma(Ne,u,y,Y)},Ve.prototype.GetCyclesPerSecond=Ve.prototype.GetCyclesPerSecond=function(){return Ks(this.ptr)},Ve.prototype.RunEmulation=Ve.prototype.RunEmulation=function(u){return u&&"object"==typeof u&&(u=u.ptr),ga(this.ptr,u)},Ve.prototype.SetClockFactor=Ve.prototype.SetClockFactor=function(u){u&&"object"==typeof u&&(u=u.ptr),ss(this.ptr,u)},Ve.prototype.CopyFrame=Ve.prototype.CopyFrame=function(){return _n(Wa(this.ptr),Wn)},Ve.prototype.IsScreenDirty=Ve.prototype.IsScreenDirty=function(){return!!_a(this.ptr)},Ve.prototype.MarkScreenClean=Ve.prototype.MarkScreenClean=function(){va(this.ptr)},Ve.prototype.MinMemoryForDevice=Ve.prototype.MinMemoryForDevice=function(u){var y=this.ptr;return en.prepare(),u=u&&"object"==typeof u?u.ptr:mo(u),Za(y,u)},Ve.prototype.FramebufferSizeForDevice=Ve.prototype.FramebufferSizeForDevice=function(u){var y=this.ptr;return en.prepare(),u=u&&"object"==typeof u?u.ptr:mo(u),qa(y,u)},Ve.prototype.TotalMemoryForDevice=Ve.prototype.TotalMemoryForDevice=function(u){var y=this.ptr;return en.prepare(),u=u&&"object"==typeof u?u.ptr:mo(u),Ya(y,u)},Ve.prototype.QueuePenMove=Ve.prototype.QueuePenMove=function(u,y){u&&"object"==typeof u&&(u=u.ptr),y&&"object"==typeof y&&(y=y.ptr),Ka(this.ptr,u,y)},Ve.prototype.QueuePenUp=Ve.prototype.QueuePenUp=function(){ya(this.ptr)},Ve.prototype.QueueButtonDown=Ve.prototype.QueueButtonDown=function(u){u&&"object"==typeof u&&(u=u.ptr),Xa(this.ptr,u)},Ve.prototype.QueueButtonUp=Ve.prototype.QueueButtonUp=function(u){u&&"object"==typeof u&&(u=u.ptr),Qa(this.ptr,u)},Ve.prototype.QueueKeyboardEvent=Ve.prototype.QueueKeyboardEvent=function(u,y){u&&"object"==typeof u&&(u=u.ptr),y&&"object"==typeof y&&(y=y.ptr),br(this.ptr,u,y)},Ve.prototype.IsPowerOff=Ve.prototype.IsPowerOff=function(){return!!ba(this.ptr)},Ve.prototype.IsUIInitialized=Ve.prototype.IsUIInitialized=function(){return!!fo(this.ptr)},Ve.prototype.GetOSVersion=Ve.prototype.GetOSVersion=function(){return Vt(this.ptr)},Ve.prototype.IsSetupComplete=Ve.prototype.IsSetupComplete=function(){return!!Ca(this.ptr)},Ve.prototype.Reset=Ve.prototype.Reset=function(){Xs(this.ptr)},Ve.prototype.ResetNoExtensions=Ve.prototype.ResetNoExtensions=function(){Qr(this.ptr)},Ve.prototype.ResetHard=Ve.prototype.ResetHard=function(){Qs(this.ptr)},Ve.prototype.InstallDb=Ve.prototype.InstallDb=function(u,y){return u&&"object"==typeof u&&(u=u.ptr),y&&"object"==typeof y&&(y=y.ptr),Ja(this.ptr,u,y)},Ve.prototype.GetPalette2bitMapping=Ve.prototype.GetPalette2bitMapping=function(){return jn(this.ptr)},Ve.prototype.GetMemoryPtr=Ve.prototype.GetMemoryPtr=function(){return _n(As(this.ptr),Rn)},Ve.prototype.GetDirtyPagesPtr=Ve.prototype.GetDirtyPagesPtr=function(){return _n(Cr(this.ptr),Rn)},Ve.prototype.GetMemorySize=Ve.prototype.GetMemorySize=function(){return Js(this.ptr)},Ve.prototype.ImportMemoryImage=Ve.prototype.ImportMemoryImage=function(u,y){return u&&"object"==typeof u&&(u=u.ptr),y&&"object"==typeof y&&(y=y.ptr),!!Pl(this.ptr,u,y)},Ve.prototype.GetRomPtr=Ve.prototype.GetRomPtr=function(){return _n(el(this.ptr),Rn)},Ve.prototype.GetRomSize=Ve.prototype.GetRomSize=function(){return Un(this.ptr)},Ve.prototype.GetSavestatePtr=Ve.prototype.GetSavestatePtr=function(){return _n(jt(this.ptr),Rn)},Ve.prototype.GetSavestateSize=Ve.prototype.GetSavestateSize=function(){return ks(this.ptr)},Ve.prototype.SaveState=Ve.prototype.SaveState=function(){return!!ea(this.ptr)},Ve.prototype.LoadState=Ve.prototype.LoadState=function(u,y){return u&&"object"==typeof u&&(u=u.ptr),y&&"object"==typeof y&&(y=y.ptr),!!Ol(this.ptr,u,y)},Ve.prototype.GetHotsyncName=Ve.prototype.GetHotsyncName=function(){return he(Sa(this.ptr))},Ve.prototype.SetHotsyncName=Ve.prototype.SetHotsyncName=function(u){var y=this.ptr;en.prepare(),u=u&&"object"==typeof u?u.ptr:mo(u),Je(y,u)},Ve.prototype.RegisterPwmHandler=Ve.prototype.RegisterPwmHandler=function(u){u&&"object"==typeof u&&(u=u.ptr),$i(this.ptr,u)},Ve.prototype.StartBackup=Ve.prototype.StartBackup=function(){return _n(as(this.ptr),pr)},Ve.prototype.SetClipboardIntegration=Ve.prototype.SetClipboardIntegration=function(u){u&&"object"==typeof u&&(u=u.ptr),ta(this.ptr,u)},Ve.prototype.GetClipboardIntegration=Ve.prototype.GetClipboardIntegration=function(){return!!wa(this.ptr)},Ve.prototype.IsSuspended=Ve.prototype.IsSuspended=function(){return!!tl(this.ptr)},Ve.prototype.GetSuspendContext=Ve.prototype.GetSuspendContext=function(){return _n(ei(this.ptr),to)},Ve.prototype.SetNetworkRedirection=Ve.prototype.SetNetworkRedirection=function(u){u&&"object"==typeof u&&(u=u.ptr),ls(this.ptr,u)},Ve.prototype.GetNetworkRedirection=Ve.prototype.GetNetworkRedirection=function(){return!!nl(this.ptr)},Ve.prototype.RegisterProxyDisconnectHandler=Ve.prototype.RegisterProxyDisconnectHandler=function(u){u&&"object"==typeof u&&(u=u.ptr),Yt(this.ptr,u)},Ve.prototype.SetHotsyncNameManagement=Ve.prototype.SetHotsyncNameManagement=function(u){u&&"object"==typeof u&&(u=u.ptr),$n(this.ptr,u)},Ve.prototype.LaunchAppByName=Ve.prototype.LaunchAppByName=function(u){var y=this.ptr;return en.prepare(),u=u&&"object"==typeof u?u.ptr:mo(u),!!Ea(y,u)},Ve.prototype.LaunchAppByDbHeader=Ve.prototype.LaunchAppByDbHeader=function(u,y){return u&&"object"==typeof u&&(u=u.ptr),y&&"object"==typeof y&&(y=y.ptr),!!Fl(this.ptr,u,y)},Ve.prototype.DeviceSupportsCardSize=Ve.prototype.DeviceSupportsCardSize=function(u){return u&&"object"==typeof u&&(u=u.ptr),!!Nl(this.ptr,u)},Ve.prototype.ClearExternalStorage=Ve.prototype.ClearExternalStorage=function(){Ll(this.ptr)},Ve.prototype.AllocateCard=Ve.prototype.AllocateCard=function(u,y){var Y=this.ptr;return en.prepare(),u=u&&"object"==typeof u?u.ptr:mo(u),y&&"object"==typeof y&&(y=y.ptr),!!rl(Y,u,y)},Ve.prototype.AdoptCard=Ve.prototype.AdoptCard=function(u,y,Y){var Ne=this.ptr;return en.prepare(),u=u&&"object"==typeof u?u.ptr:mo(u),y&&"object"==typeof y&&(y=y.ptr),Y&&"object"==typeof Y&&(Y=Y.ptr),!!Ir(Ne,u,y,Y)},Ve.prototype.MountCard=Ve.prototype.MountCard=function(u){var y=this.ptr;return en.prepare(),u=u&&"object"==typeof u?u.ptr:mo(u),!!dr(y,u)},Ve.prototype.RemoveCard=Ve.prototype.RemoveCard=function(u){var y=this.ptr;return en.prepare(),u=u&&"object"==typeof u?u.ptr:mo(u),!!So(y,u)},Ve.prototype.GetCardData=Ve.prototype.GetCardData=function(u){var y=this.ptr;return en.prepare(),u=u&&"object"==typeof u?u.ptr:mo(u),_n($l(y,u),Rn)},Ve.prototype.GetCardDirtyPages=Ve.prototype.GetCardDirtyPages=function(u){var y=this.ptr;return en.prepare(),u=u&&"object"==typeof u?u.ptr:mo(u),_n(mc(y,u),Rn)},Ve.prototype.GetCardSize=Ve.prototype.GetCardSize=function(u){var y=this.ptr;return en.prepare(),u=u&&"object"==typeof u?u.ptr:mo(u),Ti(y,u)},Ve.prototype.RemountCards=Ve.prototype.RemountCards=function(){gc(this.ptr)},Ve.prototype.GetSupportLevel=Ve.prototype.GetSupportLevel=function(u){return u&&"object"==typeof u&&(u=u.ptr),au(this.ptr,u)},Ve.prototype.GetMountedKey=Ve.prototype.GetMountedKey=function(){return he(Qn(this.ptr))},Ve.prototype.GetTransportIR=Ve.prototype.GetTransportIR=function(){return _n(Da(this.ptr),vn)},Ve.prototype.GetTransportSerial=Ve.prototype.GetTransportSerial=function(){return _n(Nr(this.ptr),vn)},Ve.prototype.__destroy__=Ve.prototype.__destroy__=function(){wo(this.ptr)},(io.prototype=Object.create(Hn.prototype)).constructor=io,io.prototype.__class__=io,io.__cache__={},d.RomInfo=io,io.prototype.IsValid=io.prototype.IsValid=function(){return!!Ur(this.ptr)},io.prototype.CardVersion=io.prototype.CardVersion=function(){return bn(this.ptr)},io.prototype.CardName=io.prototype.CardName=function(){return he(yt(this.ptr))},io.prototype.RomVersion=io.prototype.RomVersion=function(){return xr(this.ptr)},io.prototype.RomVersionString=io.prototype.RomVersionString=function(){return he(Sr(this.ptr))},io.prototype.Supports=io.prototype.Supports=function(u){var y=this.ptr;return en.prepare(),u=u&&"object"==typeof u?u.ptr:mo(u),!!_(y,u)},io.prototype.__destroy__=io.prototype.__destroy__=function(){q(this.ptr)},(Wn.prototype=Object.create(Hn.prototype)).constructor=Wn,Wn.prototype.__class__=Wn,Wn.__cache__={},d.Frame=Wn,Wn.prototype.GetLineWidth=Wn.prototype.GetLineWidth=function(){return k(this.ptr)},Wn.prototype.GetBpp=Wn.prototype.GetBpp=function(){return $e(this.ptr)},Wn.prototype.GetLines=Wn.prototype.GetLines=function(){return ot(this.ptr)},Wn.prototype.GetMargin=Wn.prototype.GetMargin=function(){return nn(this.ptr)},Wn.prototype.GetBytesPerLine=Wn.prototype.GetBytesPerLine=function(){return Kt(this.ptr)},Wn.prototype.GetFirstDirtyLine=Wn.prototype.GetFirstDirtyLine=function(){return ln(this.ptr)},Wn.prototype.GetLastDirtyLine=Wn.prototype.GetLastDirtyLine=function(){return Jn(this.ptr)},Wn.prototype.GetHasChanges=Wn.prototype.GetHasChanges=function(){return!!Lt(this.ptr)},Wn.prototype.GetBuffer=Wn.prototype.GetBuffer=function(){return _n(rr(this.ptr),Rn)},Wn.prototype.GetBufferSize=Wn.prototype.GetBufferSize=function(){return fr(this.ptr)},Wn.prototype.GetScaleX=Wn.prototype.GetScaleX=function(){return Cn(this.ptr)},Wn.prototype.GetScaleY=Wn.prototype.GetScaleY=function(){return Rt(this.ptr)},Wn.prototype.__destroy__=Wn.prototype.__destroy__=function(){Nt(this.ptr)},(pr.prototype=Object.create(Hn.prototype)).constructor=pr,pr.prototype.__class__=pr,pr.__cache__={},d.DbBackup=pr,pr.prototype.Init=pr.prototype.Init=function(u){return u&&"object"==typeof u&&(u=u.ptr),!!Bn(this.ptr,u)},pr.prototype.IsInProgress=pr.prototype.IsInProgress=function(){return!!Tr(this.ptr)},pr.prototype.IsDone=pr.prototype.IsDone=function(){return!!mn(this.ptr)},pr.prototype.GetCurrentDatabase=pr.prototype.GetCurrentDatabase=function(){return he(Ke(this.ptr))},pr.prototype.Save=pr.prototype.Save=function(){return!!p(this.ptr)},pr.prototype.Skip=pr.prototype.Skip=function(){x(this.ptr)},pr.prototype.GetArchivePtr=pr.prototype.GetArchivePtr=function(){return _n(se(this.ptr),Rn)},pr.prototype.GetArchiveSize=pr.prototype.GetArchiveSize=function(){return je(this.ptr)},pr.prototype.__destroy__=pr.prototype.__destroy__=function(){Pe(this.ptr)},(ii.prototype=Object.create(Hn.prototype)).constructor=ii,ii.prototype.__class__=ii,ii.__cache__={},d.SuspendContextClipboardCopy=ii,ii.prototype.Cancel=ii.prototype.Cancel=function(){wn(this.ptr)},ii.prototype.Resume=ii.prototype.Resume=function(){Jt(this.ptr)},ii.prototype.GetClipboardContent=ii.prototype.GetClipboardContent=function(){return he(gn(this.ptr))},ii.prototype.__destroy__=ii.prototype.__destroy__=function(){er(this.ptr)},(Mi.prototype=Object.create(Hn.prototype)).constructor=Mi,Mi.prototype.__class__=Mi,Mi.__cache__={},d.SuspendContextClipboardPaste=Mi,Mi.prototype.Cancel=Mi.prototype.Cancel=function(){Ro(this.ptr)},Mi.prototype.Resume=Mi.prototype.Resume=function(u){var y=this.ptr;en.prepare(),u=u&&"object"==typeof u?u.ptr:mo(u),Rs(y,u)},Mi.prototype.__destroy__=Mi.prototype.__destroy__=function(){ol(this.ptr)},(mi.prototype=Object.create(Hn.prototype)).constructor=mi,mi.prototype.__class__=mi,mi.__cache__={},d.SuspendContextNetworkConnect=mi,mi.prototype.Cancel=mi.prototype.Cancel=function(){Po(this.ptr)},mi.prototype.Resume=mi.prototype.Resume=function(u){var y=this.ptr;en.prepare(),u=u&&"object"==typeof u?u.ptr:mo(u),Bl(y,u)},mi.prototype.__destroy__=mi.prototype.__destroy__=function(){_c(this.ptr)},(si.prototype=Object.create(Hn.prototype)).constructor=si,si.prototype.__class__=si,si.__cache__={},d.SuspendContextNetworkRpc=si,si.prototype.Cancel=si.prototype.Cancel=function(){Vl(this.ptr)},si.prototype.GetRequestSize=si.prototype.GetRequestSize=function(){return Ia(this.ptr)},si.prototype.GetRequestData=si.prototype.GetRequestData=function(){return _n(il(this.ptr),Rn)},si.prototype.ReceiveResponse=si.prototype.ReceiveResponse=function(u,y){u&&"object"==typeof u&&(u=u.ptr),y&&"object"==typeof y&&(y=y.ptr),dt(this.ptr,u,y)},si.prototype.__destroy__=si.prototype.__destroy__=function(){cn(this.ptr)},(Bi.prototype=Object.create(Hn.prototype)).constructor=Bi,Bi.prototype.__class__=Bi,Bi.__cache__={},d.SuspendContextSerialSync=Bi,Bi.prototype.Cancel=Bi.prototype.Cancel=function(){Ci(this.ptr)},Bi.prototype.Resume=Bi.prototype.Resume=function(){ti(this.ptr)},Bi.prototype.__destroy__=Bi.prototype.__destroy__=function(){sl(this.ptr)},(to.prototype=Object.create(Hn.prototype)).constructor=to,to.prototype.__class__=to,to.__cache__={},d.SuspendContext=to,to.prototype.GetKind=to.prototype.GetKind=function(){return xa(this.ptr)},to.prototype.Cancel=to.prototype.Cancel=function(){zh(this.ptr)},to.prototype.AsContextClipboardCopy=to.prototype.AsContextClipboardCopy=function(){return _n(Ta(this.ptr),ii)},to.prototype.AsContextClipboardPaste=to.prototype.AsContextClipboardPaste=function(){return _n(Wh(this.ptr),Mi)},to.prototype.AsContextNetworkConnect=to.prototype.AsContextNetworkConnect=function(){return _n(ue(this.ptr),mi)},to.prototype.AsContextNetworkRpc=to.prototype.AsContextNetworkRpc=function(){return _n(kf(this.ptr),si)},to.prototype.AsContextSerialSync=to.prototype.AsContextSerialSync=function(){return _n(lt(this.ptr),Bi)},to.prototype.__destroy__=to.prototype.__destroy__=function(){lu(this.ptr)},(qt.prototype=Object.create(Hn.prototype)).constructor=qt,qt.prototype.__class__=qt,qt.__cache__={},d.SessionImage=qt,qt.prototype.GetDeviceId=qt.prototype.GetDeviceId=function(){return he(vc(this.ptr))},qt.prototype.SetDeviceId=qt.prototype.SetDeviceId=function(u){var y=this.ptr;return en.prepare(),u=u&&"object"==typeof u?u.ptr:mo(u),_n(Zh(y,u),qt)},qt.prototype.GetRomImage=qt.prototype.GetRomImage=function(){return _n(qh(this.ptr),Rn)},qt.prototype.GetRomImageSize=qt.prototype.GetRomImageSize=function(){return Yh(this.ptr)},qt.prototype.SetRomImage=qt.prototype.SetRomImage=function(u,y){return u&&"object"==typeof u&&(u=u.ptr),y&&"object"==typeof y&&(y=y.ptr),_n(na(this.ptr,u,y),qt)},qt.prototype.GetMemoryImage=qt.prototype.GetMemoryImage=function(){return _n(cu(this.ptr),Rn)},qt.prototype.GetMemoryImageSize=qt.prototype.GetMemoryImageSize=function(){return cs(this.ptr)},qt.prototype.SetMemoryImage=qt.prototype.SetMemoryImage=function(u,y){return u&&"object"==typeof u&&(u=u.ptr),y&&"object"==typeof y&&(y=y.ptr),_n(Ps(this.ptr,u,y),qt)},qt.prototype.GetMetadata=qt.prototype.GetMetadata=function(){return _n(Zn(this.ptr),Rn)},qt.prototype.GetMetadataSize=qt.prototype.GetMetadataSize=function(){return Rf(this.ptr)},qt.prototype.SetMetadata=qt.prototype.SetMetadata=function(u,y){return u&&"object"==typeof u&&(u=u.ptr),y&&"object"==typeof y&&(y=y.ptr),_n(Qu(this.ptr,u,y),qt)},qt.prototype.GetSavestate=qt.prototype.GetSavestate=function(){return _n(Pf(this.ptr),Rn)},qt.prototype.GetSavestateSize=qt.prototype.GetSavestateSize=function(){return Of(this.ptr)},qt.prototype.SetSavestate=qt.prototype.SetSavestate=function(u,y){return u&&"object"==typeof u&&(u=u.ptr),y&&"object"==typeof y&&(y=y.ptr),_n(yc(this.ptr,u,y),qt)},qt.prototype.GetVersion=qt.prototype.GetVersion=function(){return Ff(this.ptr)},qt.prototype.Serialize=qt.prototype.Serialize=function(){return!!Nf(this.ptr)},qt.prototype.GetSerializedImage=qt.prototype.GetSerializedImage=function(){return _n(Kh(this.ptr),Rn)},qt.prototype.GetSerializedImageSize=qt.prototype.GetSerializedImageSize=function(){return Lf(this.ptr)},qt.prototype.Deserialize=qt.prototype.Deserialize=function(u,y){return u&&"object"==typeof u&&(u=u.ptr),y&&"object"==typeof y&&(y=y.ptr),!!Xh(this.ptr,u,y)},qt.prototype.__destroy__=qt.prototype.__destroy__=function(){Qh(this.ptr)},(Vi.prototype=Object.create(Hn.prototype)).constructor=Vi,Vi.prototype.__class__=Vi,Vi.__cache__={},d.SkinLoader=Vi,Vi.prototype.GetData=Vi.prototype.GetData=function(){return _n(Jh(this.ptr),Rn)},Vi.prototype.GetSize=Vi.prototype.GetSize=function(){return $f(this.ptr)},Vi.prototype.__destroy__=Vi.prototype.__destroy__=function(){em(this.ptr)},(vn.prototype=Object.create(Hn.prototype)).constructor=vn,vn.prototype.__class__=vn,vn.__cache__={},d.EmTransportSerialBuffer=vn,vn.prototype.RxBytesPending=vn.prototype.RxBytesPending=function(){return tm(this.ptr)},vn.prototype.Receive=vn.prototype.Receive=function(){return _n(nm(this.ptr),Rn)},vn.prototype.Send=vn.prototype.Send=function(u,y,Y){return u&&"object"==typeof u&&(u=u.ptr),y&&"object"==typeof y&&(y=y.ptr),Y&&"object"==typeof Y&&(Y=Y.ptr),rm(this.ptr,u,y,Y)},vn.prototype.IsOpen=vn.prototype.IsOpen=function(){return!!Bf(this.ptr)},vn.prototype.Rts=vn.prototype.Rts=function(){return om(this.ptr)},vn.prototype.Dtr=vn.prototype.Dtr=function(){return!!im(this.ptr)},vn.prototype.IsBreak=vn.prototype.IsBreak=function(){return!!sm(this.ptr)},vn.prototype.BufferSize=vn.prototype.BufferSize=function(){return Ye(this.ptr)},vn.prototype.GetBaud=vn.prototype.GetBaud=function(){return am(this.ptr)},vn.prototype.GetParity=vn.prototype.GetParity=function(){return lm(this.ptr)},vn.prototype.GetStopBits=vn.prototype.GetStopBits=function(){return Jr(this.ptr)},vn.prototype.GetDataBits=vn.prototype.GetDataBits=function(){return Vf(this.ptr)},vn.prototype.GetHwrHandshake=vn.prototype.GetHwrHandshake=function(){return Pt(this.ptr)},vn.prototype.GetModeSync=vn.prototype.GetModeSync=function(){return!!Oo(this.ptr)},vn.prototype.SetModeSync=vn.prototype.SetModeSync=function(u){u&&"object"==typeof u&&(u=u.ptr),kn(this.ptr,u)},vn.prototype.IsFrameComplete=vn.prototype.IsFrameComplete=function(){return!!Eo(this.ptr)},vn.prototype.SetRequestTransferCallback=vn.prototype.SetRequestTransferCallback=function(u){u&&"object"==typeof u&&(u=u.ptr),Go(this.ptr,u)},vn.prototype.__destroy__=vn.prototype.__destroy__=function(){Ma(this.ptr)},(go.prototype=Object.create(Hn.prototype)).constructor=go,go.prototype.__class__=go,go.__cache__={},d.GunzipContext=go,go.prototype.GetState=go.prototype.GetState=function(){return jf(this.ptr)},go.prototype.Continue=go.prototype.Continue=function(){return Gf(this.ptr)},go.prototype.GetUncompressedData=go.prototype.GetUncompressedData=function(){return _n(uu(this.ptr),Rn)},go.prototype.ReleaseUncompressedData=go.prototype.ReleaseUncompressedData=function(){return _n(cm(this.ptr),Rn)},go.prototype.GetUncompressedSize=go.prototype.GetUncompressedSize=function(){return um(this.ptr)},go.prototype.GetError=go.prototype.GetError=function(){return he(eo(this.ptr))},go.prototype.__destroy__=go.prototype.__destroy__=function(){pt(this.ptr)},(_o.prototype=Object.create(Hn.prototype)).constructor=_o,_o.prototype.__class__=_o,_o.__cache__={},d.ZipfileWalker=_o,_o.prototype.GetState=_o.prototype.GetState=function(){return Lr(this.ptr)},_o.prototype.Next=_o.prototype.Next=function(){return ds(this.ptr)},_o.prototype.GetTotalEntries=_o.prototype.GetTotalEntries=function(){return ri(this.ptr)},_o.prototype.GetCurrentEntrySize=_o.prototype.GetCurrentEntrySize=function(){return fs(this.ptr)},_o.prototype.GetCurrentEntryName=_o.prototype.GetCurrentEntryName=function(){return he(jl(this.ptr))},_o.prototype.GetCurrentEntryContent=_o.prototype.GetCurrentEntryContent=function(){return _n(wr(this.ptr),Rn)},_o.prototype.__destroy__=_o.prototype.__destroy__=function(){hi(this.ptr)},S.ready});Ce.exports=Me},3097:Ce=>{var C,Me=(C=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(S={}){var K,X,d=S;d.ready=new Promise((_,q)=>{K=_,X=q});var Se,H=Object.assign({},d),M="./this.program",A=(_,q)=>{throw q},J="object"==typeof window,V="function"==typeof importScripts,L=("object"==typeof process&&"object"==typeof process.versions&&process,"");(J||V)&&(V?L=self.location.href:typeof document<"u"&&document.currentScript&&(L=document.currentScript.src),C&&(L=C),L=0!==L.indexOf("blob:")?L.substr(0,L.replace(/[?#].*/,"").lastIndexOf("/")+1):"",V&&(Se=_=>{var q=new XMLHttpRequest;return q.open("GET",_,!1),q.responseType="arraybuffer",q.send(null),new Uint8Array(q.response)}));var P,ie=d.print||console.log.bind(console),W=d.printErr||console.error.bind(console);Object.assign(d,H),H=null,d.thisProgram&&(M=d.thisProgram),d.quit&&(A=d.quit),d.wasmBinary&&(P=d.wasmBinary),"object"!=typeof WebAssembly&&at("no native wasm support detected");var ne,le,Fe,O,I,E,Q,ce=!1;function Re(_,q){_||at(q)}function me(){var _=ne.buffer;d.HEAP8=Fe=new Int8Array(_),d.HEAP16=new Int16Array(_),d.HEAPU8=O=new Uint8Array(_),d.HEAPU16=new Uint16Array(_),d.HEAP32=I=new Int32Array(_),d.HEAPU32=E=new Uint32Array(_),d.HEAPF32=new Float32Array(_),d.HEAPF64=Q=new Float64Array(_)}function Xe(){if(!ce){var _=ei();0==_&&(_+=4);var q=E[_>>2],k=E[_+4>>2];(34821223!=q||2310721022!=k)&&at(`Stack overflow! Stack cookie has been overwritten at ${he(_)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${he(k)} ${he(q)}`),1668509029!=E[0]&&at("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var ye=[],Le=[],ve=[],we=[],Et=0,xe=null,be=null;function at(_){d.onAbort&&d.onAbort(_),W(_="Aborted("+_+")"),ce=!0,le=1,_+=". Build with -sASSERTIONS for more info.";var q=new WebAssembly.RuntimeError(_);throw X(q),q}var Pn,on=_=>_.startsWith("data:application/octet-stream;base64,"),$t=0;function sn(_){return function(){if(ce)throw"program has already aborted!";$t+=1;try{return _.apply(null,arguments)}catch(q){if(ce||$t>1||q===1/0||"unwind"===q)throw q;at("unhandled exception: "+[q,q.stack])}finally{$t-=1}}}function Ko(_){if(_==Pn&&P)return new Uint8Array(P);if(Se)return Se(_);throw"both async and sync fetching of the wasm failed"}function vo(_,q,k){return function Vr(_){return P||!J&&!V||"function"!=typeof fetch?Promise.resolve().then(()=>Ko(_)):fetch(_,{credentials:"same-origin"}).then(q=>{if(!q.ok)throw"failed to load wasm binary file at '"+_+"'";return q.arrayBuffer()}).catch(()=>Ko(_))}(_).then($e=>WebAssembly.instantiate($e,q)).then($e=>$e).then(k,$e=>{W(`failed to asynchronously prepare wasm: ${$e}`),at($e)})}on(Pn="fstools_web.wasm")||(Pn=function R(_){return d.locateFile?d.locateFile(_,L):L+_}(Pn));var Kn,Mo={45550:()=>{throw new Error("terminated")}};function lo(_){this.name="ExitStatus",this.message=`Program terminated with exit(${_})`,this.status=_}var Te,yo=_=>{for(;_.length>0;)_.shift()(d)},jr=d.noExitRuntime||!0,he=_=>"0x"+(_>>>=0).toString(16).padStart(8,"0"),Qt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Wt=(_,q,k)=>{for(var $e=q+k,ot=q;_[ot]&&!(ot>=$e);)++ot;if(ot-q>16&&_.buffer&&Qt)return Qt.decode(_.subarray(q,ot));for(var nn="";q<ot;){var Kt=_[q++];if(128&Kt){var ln=63&_[q++];if(192!=(224&Kt)){var Jn=63&_[q++];if((Kt=224==(240&Kt)?(15&Kt)<<12|ln<<6|Jn:(7&Kt)<<18|ln<<12|Jn<<6|63&_[q++])<65536)nn+=String.fromCharCode(Kt);else{var Lt=Kt-65536;nn+=String.fromCharCode(55296|Lt>>10,56320|1023&Lt)}}else nn+=String.fromCharCode((31&Kt)<<6|ln)}else nn+=String.fromCharCode(Kt)}return nn},yn=(_,q)=>_?Wt(O,_,q):"",Dr={varargs:void 0,get(){var _=I[+Dr.varargs>>2];return Dr.varargs+=4,_},getp:()=>Dr.get(),getStr:_=>yn(_)},zn=(_,q)=>q+2097152>>>0<4194305-!!_?(_>>>0)+4294967296*q:NaN,co=_=>_%4==0&&(_%100!=0||_%400==0),uo=[0,31,60,91,121,152,182,213,244,274,305,335],Oi=[0,31,59,90,120,151,181,212,243,273,304,334],Vo=_=>(co(_.getFullYear())?uo:Oi)[_.getMonth()]+_.getDate()-1,xn=_=>{for(var q=0,k=0;k<_.length;++k){var $e=_.charCodeAt(k);$e<=127?q++:$e<=2047?q+=2:$e>=55296&&$e<=57343?(q+=4,++k):q+=3}return q},Ln=(_,q,k,$e)=>{if(!($e>0))return 0;for(var ot=k,nn=k+$e-1,Kt=0;Kt<_.length;++Kt){var ln=_.charCodeAt(Kt);if(ln>=55296&&ln<=57343&&(ln=65536+((1023&ln)<<10)|1023&_.charCodeAt(++Kt)),ln<=127){if(k>=nn)break;q[k++]=ln}else if(ln<=2047){if(k+1>=nn)break;q[k++]=192|ln>>6,q[k++]=128|63&ln}else if(ln<=65535){if(k+2>=nn)break;q[k++]=224|ln>>12,q[k++]=128|ln>>6&63,q[k++]=128|63&ln}else{if(k+3>=nn)break;q[k++]=240|ln>>18,q[k++]=128|ln>>12&63,q[k++]=128|ln>>6&63,q[k++]=128|63&ln}}return q[k]=0,k-ot},an=_=>{var q=xn(_)+1,k=et(q);return k&&((_,q,k)=>{Ln(_,O,q,k)})(_,k,q),k},fi=[],Ii=_=>{var k=(_-ne.buffer.byteLength+65535)/65536;try{return ne.grow(k),me(),1}catch{}},xi={},pi=()=>{if(!pi.strings){var q={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:M||"./this.program"};for(var k in xi)void 0===xi[k]?delete q[k]:q[k]=xi[k];var $e=[];for(var k in q)$e.push(`${k}=${q[k]}`);pi.strings=$e}return pi.strings},Ao=(_,q)=>{le=_,(_=>{le=_,jr||(d.onExit&&d.onExit(_),ce=!0),A(_,new lo(_))})(_)},pa=[null,[],[]],Es=(_,q)=>{var k=pa[_];0===q||10===q?((1===_?ie:W)(Wt(k,0)),k.length=0):k.push(q)},Is=[31,29,31,30,31,30,31,31,30,31,30,31],xs=[31,28,31,30,31,30,31,31,30,31,30,31];function rs(_,q,k){var $e=k>0?k:xn(_)+1,ot=new Array($e),nn=Ln(_,ot,0,ot.length);return q&&(ot.length=nn),ot}var Ea,w={b:(_,q,k,$e)=>{at(`Assertion failed: ${yn(_)}, at: `+[q?yn(q):"unknown filename",k,$e?yn($e):"unknown function"])},n:function Yr(_,q,k){zn(q,k)},i:function bo(_,q,k,$e){Dr.varargs=$e},j:function In(_,q,k){var $e=zn(_,q),ot=new Date(1e3*$e);I[k>>2]=ot.getUTCSeconds(),I[k+4>>2]=ot.getUTCMinutes(),I[k+8>>2]=ot.getUTCHours(),I[k+12>>2]=ot.getUTCDate(),I[k+16>>2]=ot.getUTCMonth(),I[k+20>>2]=ot.getUTCFullYear()-1900,I[k+24>>2]=ot.getUTCDay();var nn=Date.UTC(ot.getUTCFullYear(),0,1,0,0,0,0),Kt=(ot.getTime()-nn)/864e5|0;I[k+28>>2]=Kt},k:function On(_,q,k){var $e=zn(_,q),ot=new Date(1e3*$e);I[k>>2]=ot.getSeconds(),I[k+4>>2]=ot.getMinutes(),I[k+8>>2]=ot.getHours(),I[k+12>>2]=ot.getDate(),I[k+16>>2]=ot.getMonth(),I[k+20>>2]=ot.getFullYear()-1900,I[k+24>>2]=ot.getDay();var nn=0|Vo(ot);I[k+28>>2]=nn,I[k+36>>2]=-60*ot.getTimezoneOffset();var Kt=new Date(ot.getFullYear(),0,1),ln=new Date(ot.getFullYear(),6,1).getTimezoneOffset(),Jn=Kt.getTimezoneOffset(),Lt=0|(ln!=Jn&&ot.getTimezoneOffset()==Math.min(Jn,ln));I[k+32>>2]=Lt},l:function(_){var q=(()=>{var k=new Date(I[_+20>>2]+1900,I[_+16>>2],I[_+12>>2],I[_+8>>2],I[_+4>>2],I[_>>2],0),$e=I[_+32>>2],ot=k.getTimezoneOffset(),nn=new Date(k.getFullYear(),0,1),Kt=new Date(k.getFullYear(),6,1).getTimezoneOffset(),ln=nn.getTimezoneOffset(),Jn=Math.min(ln,Kt);if($e<0)I[_+32>>2]=+(Kt!=ln&&Jn==ot);else if($e>0!=(Jn==ot)){var Lt=Math.max(ln,Kt),rr=$e>0?Jn:Lt;k.setTime(k.getTime()+6e4*(rr-ot))}I[_+24>>2]=k.getDay();var fr=0|Vo(k);I[_+28>>2]=fr,I[_>>2]=k.getSeconds(),I[_+4>>2]=k.getMinutes(),I[_+8>>2]=k.getHours(),I[_+12>>2]=k.getDate(),I[_+16>>2]=k.getMonth(),I[_+20>>2]=k.getYear();var Cn=k.getTime();return isNaN(Cn)?(I[Oe()>>2]=61,-1):Cn/1e3})();return as((Kn=q,+Math.abs(Kn)>=1?Kn>0?+Math.floor(Kn/4294967296)>>>0:~~+Math.ceil((Kn-+(~~Kn>>>0))/4294967296)>>>0:0)),q>>>0},q:(_,q,k)=>{var $e=(new Date).getFullYear(),ot=new Date($e,0,1),nn=new Date($e,6,1),Kt=ot.getTimezoneOffset(),ln=nn.getTimezoneOffset(),Jn=Math.max(Kt,ln);function Lt(Nt){var Bn=Nt.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Bn?Bn[1]:"GMT"}E[_>>2]=60*Jn,I[q>>2]=+(Kt!=ln);var rr=Lt(ot),fr=Lt(nn),Cn=an(rr),Rt=an(fr);ln<Kt?(E[k>>2]=Cn,E[k+4>>2]=Rt):(E[k>>2]=Rt,E[k+4>>2]=Cn)},c:()=>{at("")},a:(_,q,k)=>((_,q,k)=>{var $e=((_,q)=>{fi.length=0;for(var k;k=O[_++];){var $e=105!=k;q+=($e&=112!=k)&&q%8?4:0,fi.push(112==k?E[q>>2]:105==k?I[q>>2]:Q[q>>3]),q+=$e?8:4}return fi})(q,k);return Mo[_].apply(null,$e)})(_,q,k),e:()=>Date.now(),g:(_,q,k)=>O.copyWithin(_,q,q+k),p:_=>{var Jn,q=O.length,k=2147483648;if((_>>>=0)>k)return!1;for(var ot=1;ot<=4;ot*=2){var nn=q*(1+.2/ot);nn=Math.min(nn,_+100663296);var Kt=Math.min(k,(Jn=Math.max(_,nn))+(65536-Jn%65536)%65536);if(Ii(Kt))return!0}return!1},r:(_,q)=>{var k=0;return pi().forEach(($e,ot)=>{var nn=q+k;E[_+4*ot>>2]=nn,((_,q)=>{for(var k=0;k<_.length;++k)Fe[q++>>0]=_.charCodeAt(k);Fe[q>>0]=0})($e,nn),k+=$e.length+1}),0},s:(_,q)=>{var k=pi();E[_>>2]=k.length;var $e=0;return k.forEach(ot=>$e+=ot.length+1),E[q>>2]=$e,0},t:Ao,f:_=>52,d:(_,q,k,$e)=>52,m:function Ys(_,q,k,$e,ot){return zn(q,k),70},h:(_,q,k,$e)=>{for(var ot=0,nn=0;nn<k;nn++){var Kt=E[q>>2],ln=E[q+4>>2];q+=8;for(var Jn=0;Jn<ln;Jn++)Es(_,O[Kt+Jn]);ot+=ln}return E[$e>>2]=ot,0},o:(_,q,k,$e,ot)=>((_,q,k,$e)=>{var ot=E[$e+40>>2],nn={tm_sec:I[$e>>2],tm_min:I[$e+4>>2],tm_hour:I[$e+8>>2],tm_mday:I[$e+12>>2],tm_mon:I[$e+16>>2],tm_year:I[$e+20>>2],tm_wday:I[$e+24>>2],tm_yday:I[$e+28>>2],tm_isdst:I[$e+32>>2],tm_gmtoff:I[$e+36>>2],tm_zone:ot?yn(ot):""},Kt=yn(k),ln={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Jn in ln)Kt=Kt.replace(new RegExp(Jn,"g"),ln[Jn]);var Lt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],rr=["January","February","March","April","May","June","July","August","September","October","November","December"];function fr(Ke,p,x){for(var se="number"==typeof Ke?Ke.toString():Ke||"";se.length<p;)se=x[0]+se;return se}function Cn(Ke,p){return fr(Ke,p,"0")}function Rt(Ke,p){function x(je){return je<0?-1:je>0?1:0}var se;return 0===(se=x(Ke.getFullYear()-p.getFullYear()))&&0===(se=x(Ke.getMonth()-p.getMonth()))&&(se=x(Ke.getDate()-p.getDate())),se}function Nt(Ke){switch(Ke.getDay()){case 0:return new Date(Ke.getFullYear()-1,11,29);case 1:return Ke;case 2:return new Date(Ke.getFullYear(),0,3);case 3:return new Date(Ke.getFullYear(),0,2);case 4:return new Date(Ke.getFullYear(),0,1);case 5:return new Date(Ke.getFullYear()-1,11,31);case 6:return new Date(Ke.getFullYear()-1,11,30)}}function Bn(Ke){var p=((_,q)=>{for(var k=new Date(_.getTime());q>0;){var $e=co(k.getFullYear()),ot=k.getMonth(),nn=($e?Is:xs)[ot];if(!(q>nn-k.getDate()))return k.setDate(k.getDate()+q),k;q-=nn-k.getDate()+1,k.setDate(1),ot<11?k.setMonth(ot+1):(k.setMonth(0),k.setFullYear(k.getFullYear()+1))}return k})(new Date(Ke.tm_year+1900,0,1),Ke.tm_yday),x=new Date(p.getFullYear(),0,4),se=new Date(p.getFullYear()+1,0,4),je=Nt(x),Pe=Nt(se);return Rt(je,p)<=0?Rt(Pe,p)<=0?p.getFullYear()+1:p.getFullYear():p.getFullYear()-1}var Tr={"%a":Ke=>Lt[Ke.tm_wday].substring(0,3),"%A":Ke=>Lt[Ke.tm_wday],"%b":Ke=>rr[Ke.tm_mon].substring(0,3),"%B":Ke=>rr[Ke.tm_mon],"%C":Ke=>Cn((Ke.tm_year+1900)/100|0,2),"%d":Ke=>Cn(Ke.tm_mday,2),"%e":Ke=>fr(Ke.tm_mday,2," "),"%g":Ke=>Bn(Ke).toString().substring(2),"%G":Ke=>Bn(Ke),"%H":Ke=>Cn(Ke.tm_hour,2),"%I":Ke=>{var p=Ke.tm_hour;return 0==p?p=12:p>12&&(p-=12),Cn(p,2)},"%j":Ke=>Cn(Ke.tm_mday+((_,q)=>{for(var k=0,$e=0;$e<=q;k+=_[$e++]);return k})(co(Ke.tm_year+1900)?Is:xs,Ke.tm_mon-1),3),"%m":Ke=>Cn(Ke.tm_mon+1,2),"%M":Ke=>Cn(Ke.tm_min,2),"%n":()=>"\n","%p":Ke=>Ke.tm_hour>=0&&Ke.tm_hour<12?"AM":"PM","%S":Ke=>Cn(Ke.tm_sec,2),"%t":()=>"\t","%u":Ke=>Ke.tm_wday||7,"%U":Ke=>Cn(Math.floor((Ke.tm_yday+7-Ke.tm_wday)/7),2),"%V":Ke=>{var p=Math.floor((Ke.tm_yday+7-(Ke.tm_wday+6)%7)/7);if((Ke.tm_wday+371-Ke.tm_yday-2)%7<=2&&p++,p){if(53==p){var se=(Ke.tm_wday+371-Ke.tm_yday)%7;4!=se&&(3!=se||!co(Ke.tm_year))&&(p=1)}}else{p=52;var x=(Ke.tm_wday+7-Ke.tm_yday-1)%7;(4==x||5==x&&co(Ke.tm_year%400-1))&&p++}return Cn(p,2)},"%w":Ke=>Ke.tm_wday,"%W":Ke=>Cn(Math.floor((Ke.tm_yday+7-(Ke.tm_wday+6)%7)/7),2),"%y":Ke=>(Ke.tm_year+1900).toString().substring(2),"%Y":Ke=>Ke.tm_year+1900,"%z":Ke=>{var p=Ke.tm_gmtoff;return(p>=0?"+":"-")+("0000"+(p=(p=Math.abs(p)/60)/60*100+p%60)).slice(-4)},"%Z":Ke=>Ke.tm_zone,"%%":()=>"%"};for(var Jn in Kt=Kt.replace(/%%/g,"\0\0"),Tr)Kt.includes(Jn)&&(Kt=Kt.replace(new RegExp(Jn,"g"),Tr[Jn](nn)));var mn=rs(Kt=Kt.replace(/\0\0/g,"%"),!1);return mn.length>q?0:(((_,q)=>{Fe.set(_,q)})(mn,_),mn.length-1)})(_,q,k,$e)},D=function Or(){var _={a:w};function q($e,ot){return D=function Sn(_){var q={};for(var k in _){var $e=_[k];q[k]="function"==typeof $e?sn($e):$e}return q}(D=$e.exports),ne=D.u,me(),Te=D.za,function Tt(_){Le.unshift(_)}(D.v),function gr(){var _=Te.get,q={};Te.get=k=>{var $e=_.call(Te,k),ot=q[k];return(!ot||ot.func!==$e)&&(ot=q[k]={func:$e,wrapper:sn($e)}),ot.wrapper}}(),function nt(_){if(Et--,d.monitorRunDependencies&&d.monitorRunDependencies(Et),0==Et&&(null!==xe&&(clearInterval(xe),xe=null),be)){var q=be;be=null,q()}}(),D}if(function ke(_){Et++,d.monitorRunDependencies&&d.monitorRunDependencies(Et)}(),d.instantiateWasm)try{return d.instantiateWasm(_,q)}catch($e){W(`Module.instantiateWasm callback failed with error: ${$e}`),X($e)}return function Pr(_,q,k,$e){return _||"function"!=typeof WebAssembly.instantiateStreaming||on(q)||"function"!=typeof fetch?vo(q,k,$e):fetch(q,{credentials:"same-origin"}).then(ot=>WebAssembly.instantiateStreaming(ot,k).then($e,function(Kt){return W(`wasm streaming compile failed: ${Kt}`),W("falling back to ArrayBuffer instantiation"),vo(q,k,$e)}))}(P,Pn,_,function k($e){q($e.instance)}).catch(X),{}}(),Oe=()=>(Oe=D.w)(),et=(d._free=_=>(d._free=D.x)(_),d._malloc=_=>(et=d._malloc=D.y)(_)),Ue=(d._webidl_free=_=>(d._webidl_free=D.z)(_),d._webidl_malloc=_=>(d._webidl_malloc=D.A)(_),d._emscripten_bind_VoidPtr___destroy___0=_=>(Ue=d._emscripten_bind_VoidPtr___destroy___0=D.B)(_)),ht=d._emscripten_bind_FSTools_FSTools_0=()=>(ht=d._emscripten_bind_FSTools_FSTools_0=D.C)(),It=d._emscripten_bind_FSTools_Malloc_1=(_,q)=>(It=d._emscripten_bind_FSTools_Malloc_1=D.D)(_,q),U=d._emscripten_bind_FSTools_Free_1=(_,q)=>(U=d._emscripten_bind_FSTools_Free_1=D.E)(_,q),An=d._emscripten_bind_FSTools_Nullptr_0=_=>(An=d._emscripten_bind_FSTools_Nullptr_0=D.F)(_),ur=d._emscripten_bind_FSTools___destroy___0=_=>(ur=d._emscripten_bind_FSTools___destroy___0=D.G)(_),Fr=d._emscripten_bind_MkfsContext_MkfsContext_0=()=>(Fr=d._emscripten_bind_MkfsContext_MkfsContext_0=D.H)(),Gr=d._emscripten_bind_MkfsContext_Mkfs_2=(_,q,k)=>(Gr=d._emscripten_bind_MkfsContext_Mkfs_2=D.I)(_,q,k),Xn=d._emscripten_bind_MkfsContext_GetImage_0=_=>(Xn=d._emscripten_bind_MkfsContext_GetImage_0=D.J)(_),Ms=d._emscripten_bind_MkfsContext_GetImageSize_0=_=>(Ms=d._emscripten_bind_MkfsContext_GetImageSize_0=D.K)(_),Vn=d._emscripten_bind_MkfsContext___destroy___0=_=>(Vn=d._emscripten_bind_MkfsContext___destroy___0=D.L)(_),jo=d._emscripten_bind_FsckContext_FsckContext_1=_=>(jo=d._emscripten_bind_FsckContext_FsckContext_1=D.M)(_),ko=d._emscripten_bind_FsckContext_GetImage_0=_=>(ko=d._emscripten_bind_FsckContext_GetImage_0=D.N)(_),is=d._emscripten_bind_FsckContext_GetDirtyPages_0=_=>(is=d._emscripten_bind_FsckContext_GetDirtyPages_0=D.O)(_),za=d._emscripten_bind_FsckContext_GetImageSize_0=_=>(za=d._emscripten_bind_FsckContext_GetImageSize_0=D.P)(_),ma=d._emscripten_bind_FsckContext_Fsck_0=_=>(ma=d._emscripten_bind_FsckContext_Fsck_0=D.Q)(_),Ks=d._emscripten_bind_FsckContext_GetResult_0=_=>(Ks=d._emscripten_bind_FsckContext_GetResult_0=D.R)(_),ga=d._emscripten_bind_FsckContext___destroy___0=_=>(ga=d._emscripten_bind_FsckContext___destroy___0=D.S)(_),ss=d._emscripten_bind_GunzipContext_GunzipContext_3=(_,q,k)=>(ss=d._emscripten_bind_GunzipContext_GunzipContext_3=D.T)(_,q,k),Wa=d._emscripten_bind_GunzipContext_GetState_0=_=>(Wa=d._emscripten_bind_GunzipContext_GetState_0=D.U)(_),_a=d._emscripten_bind_GunzipContext_Continue_0=_=>(_a=d._emscripten_bind_GunzipContext_Continue_0=D.V)(_),va=d._emscripten_bind_GunzipContext_GetUncompressedData_0=_=>(va=d._emscripten_bind_GunzipContext_GetUncompressedData_0=D.W)(_),Za=d._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=_=>(Za=d._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=D.X)(_),qa=d._emscripten_bind_GunzipContext_GetUncompressedSize_0=_=>(qa=d._emscripten_bind_GunzipContext_GetUncompressedSize_0=D.Y)(_),Ya=d._emscripten_bind_GunzipContext_GetError_0=_=>(Ya=d._emscripten_bind_GunzipContext_GetError_0=D.Z)(_),Ka=d._emscripten_bind_GunzipContext___destroy___0=_=>(Ka=d._emscripten_bind_GunzipContext___destroy___0=D._)(_),ya=d._emscripten_bind_GzipContext_GzipContext_3=(_,q,k)=>(ya=d._emscripten_bind_GzipContext_GzipContext_3=D.$)(_,q,k),Xa=d._emscripten_bind_GzipContext_SetFilename_1=(_,q)=>(Xa=d._emscripten_bind_GzipContext_SetFilename_1=D.aa)(_,q),Qa=d._emscripten_bind_GzipContext_SetMtime_1=(_,q)=>(Qa=d._emscripten_bind_GzipContext_SetMtime_1=D.ba)(_,q),br=d._emscripten_bind_GzipContext_Continue_0=_=>(br=d._emscripten_bind_GzipContext_Continue_0=D.ca)(_),ba=d._emscripten_bind_GzipContext_GetState_0=_=>(ba=d._emscripten_bind_GzipContext_GetState_0=D.da)(_),fo=d._emscripten_bind_GzipContext_GetGzipData_0=_=>(fo=d._emscripten_bind_GzipContext_GetGzipData_0=D.ea)(_),Vt=d._emscripten_bind_GzipContext_GetGzipSize_0=_=>(Vt=d._emscripten_bind_GzipContext_GetGzipSize_0=D.fa)(_),Ca=d._emscripten_bind_GzipContext_GetError_0=_=>(Ca=d._emscripten_bind_GzipContext_GetError_0=D.ga)(_),Xs=d._emscripten_bind_GzipContext___destroy___0=_=>(Xs=d._emscripten_bind_GzipContext___destroy___0=D.ha)(_),Qr=d._emscripten_bind_CreateZipContext_CreateZipContext_0=()=>(Qr=d._emscripten_bind_CreateZipContext_CreateZipContext_0=D.ia)(),Qs=d._emscripten_bind_CreateZipContext_Initialize_1=(_,q)=>(Qs=d._emscripten_bind_CreateZipContext_Initialize_1=D.ja)(_,q),Ja=d._emscripten_bind_CreateZipContext_AddEntry_1=(_,q)=>(Ja=d._emscripten_bind_CreateZipContext_AddEntry_1=D.ka)(_,q),jn=d._emscripten_bind_CreateZipContext_WriteData_2=(_,q,k)=>(jn=d._emscripten_bind_CreateZipContext_WriteData_2=D.la)(_,q,k),As=d._emscripten_bind_CreateZipContext_GetZipData_0=_=>(As=d._emscripten_bind_CreateZipContext_GetZipData_0=D.ma)(_),Cr=d._emscripten_bind_CreateZipContext_GetZipDataSize_0=_=>(Cr=d._emscripten_bind_CreateZipContext_GetZipDataSize_0=D.na)(_),Js=d._emscripten_bind_CreateZipContext_GetLastError_0=_=>(Js=d._emscripten_bind_CreateZipContext_GetLastError_0=D.oa)(_),Pl=d._emscripten_bind_CreateZipContext___destroy___0=_=>(Pl=d._emscripten_bind_CreateZipContext___destroy___0=D.pa)(_),el=d._emscripten_bind_ZipfileWalker_ZipfileWalker_2=(_,q)=>(el=d._emscripten_bind_ZipfileWalker_ZipfileWalker_2=D.qa)(_,q),Un=d._emscripten_bind_ZipfileWalker_GetState_0=_=>(Un=d._emscripten_bind_ZipfileWalker_GetState_0=D.ra)(_),jt=d._emscripten_bind_ZipfileWalker_Next_0=_=>(jt=d._emscripten_bind_ZipfileWalker_Next_0=D.sa)(_),ks=d._emscripten_bind_ZipfileWalker_GetTotalEntries_0=_=>(ks=d._emscripten_bind_ZipfileWalker_GetTotalEntries_0=D.ta)(_),ea=d._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=_=>(ea=d._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=D.ua)(_),Ol=d._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=_=>(Ol=d._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=D.va)(_),Sa=d._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=_=>(Sa=d._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=D.wa)(_),Je=d._emscripten_bind_ZipfileWalker___destroy___0=_=>(Je=d._emscripten_bind_ZipfileWalker___destroy___0=D.xa)(_),$i=d._main=(_,q)=>($i=d._main=D.ya)(_,q),as=_=>(as=D.Aa)(_),ta=()=>(ta=D.Ba)(),ei=()=>(ei=D.Ca)(),ls=()=>(ls=D.Da)();function Ll(){function _(){Ea||(Ea=!0,d.calledRun=!0,!ce&&(function fe(){Xe(),yo(Le)}(),function Ge(){Xe(),yo(ve)}(),K(d),d.onRuntimeInitialized&&d.onRuntimeInitialized(),rl&&function Fl(){var _=$i;try{$t+=1;var $e=_(0,0);return Ao($e),$e}catch(ot){return(_=>{if(_ instanceof lo||"unwind"==_)return le;Xe(),_ instanceof WebAssembly.RuntimeError&&ls()<=0&&W("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 1048576)"),A(1,_)})(ot)}finally{$t-=1}}(),function ct(){if(Xe(),d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)_=d.postRun.shift(),we.unshift(_);var _;yo(we)}()))}Et>0||(function Nl(){ta(),function We(){var _=ei();0==_&&(_+=4),E[_>>2]=34821223,E[_+4>>2]=2310721022,E[0]=1668509029}()}(),function Dt(){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)_=d.preRun.shift(),ye.unshift(_);var _;yo(ye)}(),Et>0)||(d.setStatus?(d.setStatus("Running..."),setTimeout(function(){setTimeout(function(){d.setStatus("")},1),_()},1)):_(),Xe())}if(d.___original_main=()=>(d.___original_main=D.Ea)(),be=function _(){Ea||Ll(),Ea||(be=_)},d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();var rl=!0;function Ir(){}function dr(_){return(_||Ir).__cache__}function So(_,q){var k=dr(q),$e=k[_];return $e||(($e=Object.create((q||Ir).prototype)).ptr=_,k[_]=$e)}d.noInitialRun&&(rl=!1),Ll(),(Ir.prototype=Object.create(Ir.prototype)).constructor=Ir,Ir.prototype.__class__=Ir,Ir.__cache__={},d.WrapperObject=Ir,d.getCache=dr,d.wrapPointer=So,d.castObject=function $l(_,q){return So(_.ptr,q)},d.NULL=So(0),d.destroy=function mc(_){if(!_.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";_.__destroy__(),delete dr(_.__class__)[_.ptr]},d.compare=function Ti(_,q){return _.ptr===q.ptr},d.getPointer=function gc(_){return _.ptr},d.getClass=function au(_){return _.__class__};var Qn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(Qn.needed){for(var _=0;_<Qn.temps.length;_++)d._webidl_free(Qn.temps[_]);Qn.temps.length=0,d._webidl_free(Qn.buffer),Qn.buffer=0,Qn.size+=Qn.needed,Qn.needed=0}Qn.buffer||(Qn.size+=128,Qn.buffer=d._webidl_malloc(Qn.size),Re(Qn.buffer)),Qn.pos=0},alloc(_,q){Re(Qn.buffer);var ot,$e=_.length*q.BYTES_PER_ELEMENT;return Qn.pos+($e=$e+7&-8)>=Qn.size?(Re($e>0),Qn.needed+=$e,ot=d._webidl_malloc($e),Qn.temps.push(ot)):(ot=Qn.buffer+Qn.pos,Qn.pos+=$e),ot},copy(_,q,k){switch(k>>>=0,q.BYTES_PER_ELEMENT){case 2:k>>>=1;break;case 4:k>>>=2;break;case 8:k>>>=3}for(var ot=0;ot<_.length;ot++)q[k+ot]=_[ot]}};function Da(_){if("string"==typeof _){var q=rs(_),k=Qn.alloc(q,Fe);return Qn.copy(q,Fe,k),k}return _}function Nr(){throw"cannot construct a VoidPtr, no constructor in IDL"}function wo(){this.ptr=ht(),dr(wo)[this.ptr]=this}function po(){this.ptr=Fr(),dr(po)[this.ptr]=this}function Ur(_){_&&"object"==typeof _&&(_=_.ptr),this.ptr=jo(_),dr(Ur)[this.ptr]=this}function bn(_,q,k){_&&"object"==typeof _&&(_=_.ptr),q&&"object"==typeof q&&(q=q.ptr),k&&"object"==typeof k&&(k=k.ptr),this.ptr=ss(_,q,k),dr(bn)[this.ptr]=this}function yt(_,q,k){_&&"object"==typeof _&&(_=_.ptr),q&&"object"==typeof q&&(q=q.ptr),k&&"object"==typeof k&&(k=k.ptr),this.ptr=ya(_,q,k),dr(yt)[this.ptr]=this}function xr(){this.ptr=Qr(),dr(xr)[this.ptr]=this}function Sr(_,q){_&&"object"==typeof _&&(_=_.ptr),q&&"object"==typeof q&&(q=q.ptr),this.ptr=el(_,q),dr(Sr)[this.ptr]=this}return(Nr.prototype=Object.create(Ir.prototype)).constructor=Nr,Nr.prototype.__class__=Nr,Nr.__cache__={},d.VoidPtr=Nr,Nr.prototype.__destroy__=Nr.prototype.__destroy__=function(){Ue(this.ptr)},(wo.prototype=Object.create(Ir.prototype)).constructor=wo,wo.prototype.__class__=wo,wo.__cache__={},d.FSTools=wo,wo.prototype.Malloc=wo.prototype.Malloc=function(_){return _&&"object"==typeof _&&(_=_.ptr),So(It(this.ptr,_),Nr)},wo.prototype.Free=wo.prototype.Free=function(_){_&&"object"==typeof _&&(_=_.ptr),U(this.ptr,_)},wo.prototype.Nullptr=wo.prototype.Nullptr=function(){return So(An(this.ptr),Nr)},wo.prototype.__destroy__=wo.prototype.__destroy__=function(){ur(this.ptr)},(po.prototype=Object.create(Ir.prototype)).constructor=po,po.prototype.__class__=po,po.__cache__={},d.MkfsContext=po,po.prototype.Mkfs=po.prototype.Mkfs=function(_,q){var k=this.ptr;return Qn.prepare(),_&&"object"==typeof _&&(_=_.ptr),q=q&&"object"==typeof q?q.ptr:Da(q),!!Gr(k,_,q)},po.prototype.GetImage=po.prototype.GetImage=function(){return So(Xn(this.ptr),Nr)},po.prototype.GetImageSize=po.prototype.GetImageSize=function(){return Ms(this.ptr)},po.prototype.__destroy__=po.prototype.__destroy__=function(){Vn(this.ptr)},(Ur.prototype=Object.create(Ir.prototype)).constructor=Ur,Ur.prototype.__class__=Ur,Ur.__cache__={},d.FsckContext=Ur,Ur.prototype.GetImage=Ur.prototype.GetImage=function(){return So(ko(this.ptr),Nr)},Ur.prototype.GetDirtyPages=Ur.prototype.GetDirtyPages=function(){return So(is(this.ptr),Nr)},Ur.prototype.GetImageSize=Ur.prototype.GetImageSize=function(){return za(this.ptr)},Ur.prototype.Fsck=Ur.prototype.Fsck=function(){return ma(this.ptr)},Ur.prototype.GetResult=Ur.prototype.GetResult=function(){return Ks(this.ptr)},Ur.prototype.__destroy__=Ur.prototype.__destroy__=function(){ga(this.ptr)},(bn.prototype=Object.create(Ir.prototype)).constructor=bn,bn.prototype.__class__=bn,bn.__cache__={},d.GunzipContext=bn,bn.prototype.GetState=bn.prototype.GetState=function(){return Wa(this.ptr)},bn.prototype.Continue=bn.prototype.Continue=function(){return _a(this.ptr)},bn.prototype.GetUncompressedData=bn.prototype.GetUncompressedData=function(){return So(va(this.ptr),Nr)},bn.prototype.ReleaseUncompressedData=bn.prototype.ReleaseUncompressedData=function(){return So(Za(this.ptr),Nr)},bn.prototype.GetUncompressedSize=bn.prototype.GetUncompressedSize=function(){return qa(this.ptr)},bn.prototype.GetError=bn.prototype.GetError=function(){return yn(Ya(this.ptr))},bn.prototype.__destroy__=bn.prototype.__destroy__=function(){Ka(this.ptr)},(yt.prototype=Object.create(Ir.prototype)).constructor=yt,yt.prototype.__class__=yt,yt.__cache__={},d.GzipContext=yt,yt.prototype.SetFilename=yt.prototype.SetFilename=function(_){var q=this.ptr;return Qn.prepare(),_=_&&"object"==typeof _?_.ptr:Da(_),So(Xa(q,_),yt)},yt.prototype.SetMtime=yt.prototype.SetMtime=function(_){return _&&"object"==typeof _&&(_=_.ptr),So(Qa(this.ptr,_),yt)},yt.prototype.Continue=yt.prototype.Continue=function(){return br(this.ptr)},yt.prototype.GetState=yt.prototype.GetState=function(){return ba(this.ptr)},yt.prototype.GetGzipData=yt.prototype.GetGzipData=function(){return So(fo(this.ptr),Nr)},yt.prototype.GetGzipSize=yt.prototype.GetGzipSize=function(){return Vt(this.ptr)},yt.prototype.GetError=yt.prototype.GetError=function(){return yn(Ca(this.ptr))},yt.prototype.__destroy__=yt.prototype.__destroy__=function(){Xs(this.ptr)},(xr.prototype=Object.create(Ir.prototype)).constructor=xr,xr.prototype.__class__=xr,xr.__cache__={},d.CreateZipContext=xr,xr.prototype.Initialize=xr.prototype.Initialize=function(_){return _&&"object"==typeof _&&(_=_.ptr),!!Qs(this.ptr,_)},xr.prototype.AddEntry=xr.prototype.AddEntry=function(_){var q=this.ptr;return Qn.prepare(),_=_&&"object"==typeof _?_.ptr:Da(_),!!Ja(q,_)},xr.prototype.WriteData=xr.prototype.WriteData=function(_,q){return _&&"object"==typeof _&&(_=_.ptr),q&&"object"==typeof q&&(q=q.ptr),!!jn(this.ptr,_,q)},xr.prototype.GetZipData=xr.prototype.GetZipData=function(){return So(As(this.ptr),Nr)},xr.prototype.GetZipDataSize=xr.prototype.GetZipDataSize=function(){return Cr(this.ptr)},xr.prototype.GetLastError=xr.prototype.GetLastError=function(){return yn(Js(this.ptr))},xr.prototype.__destroy__=xr.prototype.__destroy__=function(){Pl(this.ptr)},(Sr.prototype=Object.create(Ir.prototype)).constructor=Sr,Sr.prototype.__class__=Sr,Sr.__cache__={},d.ZipfileWalker=Sr,Sr.prototype.GetState=Sr.prototype.GetState=function(){return Un(this.ptr)},Sr.prototype.Next=Sr.prototype.Next=function(){return jt(this.ptr)},Sr.prototype.GetTotalEntries=Sr.prototype.GetTotalEntries=function(){return ks(this.ptr)},Sr.prototype.GetCurrentEntrySize=Sr.prototype.GetCurrentEntrySize=function(){return ea(this.ptr)},Sr.prototype.GetCurrentEntryName=Sr.prototype.GetCurrentEntryName=function(){return yn(Ol(this.ptr))},Sr.prototype.GetCurrentEntryContent=Sr.prototype.GetCurrentEntryContent=function(){return So(Sa(this.ptr),Nr)},Sr.prototype.__destroy__=Sr.prototype.__destroy__=function(){Je(this.ptr)},S.ready});Ce.exports=Me},8886:Ce=>{var C,Me=(C=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(S={}){var K,X,d=S;d.ready=new Promise((p,x)=>{K=p,X=x});var Se,H=Object.assign({},d),M="./this.program",A=(p,x)=>{throw x},J="object"==typeof window,V="function"==typeof importScripts,L=("object"==typeof process&&"object"==typeof process.versions&&process,"");(J||V)&&(V?L=self.location.href:typeof document<"u"&&document.currentScript&&(L=document.currentScript.src),C&&(L=C),L=0!==L.indexOf("blob:")?L.substr(0,L.replace(/[?#].*/,"").lastIndexOf("/")+1):"",V&&(Se=p=>{var x=new XMLHttpRequest;return x.open("GET",p,!1),x.responseType="arraybuffer",x.send(null),new Uint8Array(x.response)}));var P,ie=d.print||console.log.bind(console),W=d.printErr||console.error.bind(console);Object.assign(d,H),H=null,d.thisProgram&&(M=d.thisProgram),d.quit&&(A=d.quit),d.wasmBinary&&(P=d.wasmBinary),"object"!=typeof WebAssembly&&at("no native wasm support detected");var ne,le,Fe,O,I,E,ce=!1;function Re(p,x){p||at(x)}function me(){var p=ne.buffer;d.HEAP8=Fe=new Int8Array(p),d.HEAP16=new Int16Array(p),d.HEAPU8=O=new Uint8Array(p),d.HEAPU16=new Uint16Array(p),d.HEAP32=I=new Int32Array(p),d.HEAPU32=E=new Uint32Array(p),d.HEAPF32=new Float32Array(p),d.HEAPF64=new Float64Array(p)}function Xe(){if(!ce){var p=Da();0==p&&(p+=4);var x=E[p>>2],se=E[p+4>>2];(34821223!=x||2310721022!=se)&&at(`Stack overflow! Stack cookie has been overwritten at ${jr(p)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${jr(se)} ${jr(x)}`),1668509029!=E[0]&&at("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var ye=[],Le=[],ve=[],we=[],Et=0,xe=null,be=null;function at(p){d.onAbort&&d.onAbort(p),W(p="Aborted("+p+")"),ce=!0,le=1,p+=". Build with -sASSERTIONS for more info.";var x=new WebAssembly.RuntimeError(p);throw X(x),x}var Pn,Kn,on=p=>p.startsWith("data:application/octet-stream;base64,"),$t=0;function sn(p){return function(){if(ce)throw"program has already aborted!";$t+=1;try{return p.apply(null,arguments)}catch(x){if(ce||$t>1||x===1/0||"unwind"===x)throw x;at("unhandled exception: "+[x,x.stack])}finally{$t-=1}}}function Ko(p){if(p==Pn&&P)return new Uint8Array(P);if(Se)return Se(p);throw"both async and sync fetching of the wasm failed"}function vo(p,x,se){return function Vr(p){return P||!J&&!V||"function"!=typeof fetch?Promise.resolve().then(()=>Ko(p)):fetch(p,{credentials:"same-origin"}).then(x=>{if(!x.ok)throw"failed to load wasm binary file at '"+p+"'";return x.arrayBuffer()}).catch(()=>Ko(p))}(p).then(je=>WebAssembly.instantiate(je,x)).then(je=>je).then(se,je=>{W(`failed to asynchronously prepare wasm: ${je}`),at(je)})}function Mo(p){this.name="ExitStatus",this.message=`Program terminated with exit(${p})`,this.status=p}on(Pn="vfs_web.wasm")||(Pn=function R(p){return d.locateFile?d.locateFile(p,L):L+p}(Pn));var he,lo=p=>{for(;p.length>0;)p.shift()(d)},yo=d.noExitRuntime||!0,jr=p=>"0x"+(p>>>=0).toString(16).padStart(8,"0"),Te=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Qt=(p,x,se)=>{for(var je=x+se,Pe=x;p[Pe]&&!(Pe>=je);)++Pe;if(Pe-x>16&&p.buffer&&Te)return Te.decode(p.subarray(x,Pe));for(var wn="";x<Pe;){var Jt=p[x++];if(128&Jt){var gn=63&p[x++];if(192!=(224&Jt)){var er=63&p[x++];if((Jt=224==(240&Jt)?(15&Jt)<<12|gn<<6|er:(7&Jt)<<18|gn<<12|er<<6|63&p[x++])<65536)wn+=String.fromCharCode(Jt);else{var Ro=Jt-65536;wn+=String.fromCharCode(55296|Ro>>10,56320|1023&Ro)}}else wn+=String.fromCharCode((31&Jt)<<6|gn)}else wn+=String.fromCharCode(Jt)}return wn},Wt=(p,x)=>p?Qt(O,p,x):"",Dr=(p,x)=>x+2097152>>>0<4194305-!!p?(p>>>0)+4294967296*x:NaN,In=p=>p%4==0&&(p%100!=0||p%400==0),co=[0,31,60,91,121,152,182,213,244,274,305,335],uo=[0,31,59,90,120,151,181,212,243,273,304,334],Oi=p=>(In(p.getFullYear())?co:uo)[p.getMonth()]+p.getDate()-1,vr=p=>{for(var x=0,se=0;se<p.length;++se){var je=p.charCodeAt(se);je<=127?x++:je<=2047?x+=2:je>=55296&&je<=57343?(x+=4,++se):x+=3}return x},xn=(p,x,se,je)=>{if(!(je>0))return 0;for(var Pe=se,wn=se+je-1,Jt=0;Jt<p.length;++Jt){var gn=p.charCodeAt(Jt);if(gn>=55296&&gn<=57343&&(gn=65536+((1023&gn)<<10)|1023&p.charCodeAt(++Jt)),gn<=127){if(se>=wn)break;x[se++]=gn}else if(gn<=2047){if(se+1>=wn)break;x[se++]=192|gn>>6,x[se++]=128|63&gn}else if(gn<=65535){if(se+2>=wn)break;x[se++]=224|gn>>12,x[se++]=128|gn>>6&63,x[se++]=128|63&gn}else{if(se+3>=wn)break;x[se++]=240|gn>>18,x[se++]=128|gn>>12&63,x[se++]=128|gn>>6&63,x[se++]=128|63&gn}}return x[se]=0,se-Pe},Xo=p=>{var x=vr(p)+1,se=os(x);return se&&((p,x,se)=>{xn(p,O,x,se)})(p,se,x),se},Ss=p=>{var se=(p-ne.buffer.byteLength+65535)/65536;try{return ne.grow(se),me(),1}catch{}},Qo={},Ii=()=>{if(!Ii.strings){var x={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:M||"./this.program"};for(var se in Qo)void 0===Qo[se]?delete x[se]:x[se]=Qo[se];var je=[];for(var se in x)je.push(`${se}=${x[se]}`);Ii.strings=je}return Ii.strings},Co=[null,[],[]],ws=(p,x)=>{var se=Co[p];0===x||10===x?((1===p?ie:W)(Qt(se,0)),se.length=0):se.push(x)},Ao=[31,29,31,30,31,30,31,31,30,31,30,31],Jo=[31,28,31,30,31,30,31,31,30,31,30,31];function Tn(p,x,se){var je=se>0?se:vr(p)+1,Pe=new Array(je),wn=xn(p,Pe,0,Pe.length);return x&&(Pe.length=wn),Pe}var bn,xs=(p,x)=>{le=p,(p=>{le=p,yo||(d.onExit&&d.onExit(p),ce=!0),A(p,new Mo(p))})(p)},rs={a:(p,x,se,je)=>{at(`Assertion failed: ${Wt(p)}, at: `+[x?Wt(x):"unknown filename",se,je?Wt(je):"unknown function"])},n:function zn(p,x,se){Dr(x,se)},j:()=>1,k:function Vo(p,x,se){var je=Dr(p,x),Pe=new Date(1e3*je);I[se>>2]=Pe.getSeconds(),I[se+4>>2]=Pe.getMinutes(),I[se+8>>2]=Pe.getHours(),I[se+12>>2]=Pe.getDate(),I[se+16>>2]=Pe.getMonth(),I[se+20>>2]=Pe.getFullYear()-1900,I[se+24>>2]=Pe.getDay();var wn=0|Oi(Pe);I[se+28>>2]=wn,I[se+36>>2]=-60*Pe.getTimezoneOffset();var Jt=new Date(Pe.getFullYear(),0,1),gn=new Date(Pe.getFullYear(),6,1).getTimezoneOffset(),er=Jt.getTimezoneOffset(),Ro=0|(gn!=er&&Pe.getTimezoneOffset()==Math.min(er,gn));I[se+32>>2]=Ro},l:function(p){var x=(()=>{var se=new Date(I[p+20>>2]+1900,I[p+16>>2],I[p+12>>2],I[p+8>>2],I[p+4>>2],I[p>>2],0),je=I[p+32>>2],Pe=se.getTimezoneOffset(),wn=new Date(se.getFullYear(),0,1),Jt=new Date(se.getFullYear(),6,1).getTimezoneOffset(),gn=wn.getTimezoneOffset(),er=Math.min(gn,Jt);if(je<0)I[p+32>>2]=+(Jt!=gn&&er==Pe);else if(je>0!=(er==Pe)){var Ro=Math.max(gn,Jt),Rs=je>0?er:Ro;se.setTime(se.getTime()+6e4*(Rs-Pe))}I[p+24>>2]=se.getDay();var ol=0|Oi(se);I[p+28>>2]=ol,I[p>>2]=se.getSeconds(),I[p+4>>2]=se.getMinutes(),I[p+8>>2]=se.getHours(),I[p+12>>2]=se.getDate(),I[p+16>>2]=se.getMonth(),I[p+20>>2]=se.getYear();var Po=se.getTime();return isNaN(Po)?(I[mc()>>2]=61,-1):Po/1e3})();return Ti((Kn=x,+Math.abs(Kn)>=1?Kn>0?+Math.floor(Kn/4294967296)>>>0:~~+Math.ceil((Kn-+(~~Kn>>>0))/4294967296)>>>0:0)),x>>>0},e:(p,x,se)=>{var je=(new Date).getFullYear(),Pe=new Date(je,0,1),wn=new Date(je,6,1),Jt=Pe.getTimezoneOffset(),gn=wn.getTimezoneOffset(),er=Math.max(Jt,gn);function Ro(_c){var Vl=_c.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Vl?Vl[1]:"GMT"}E[p>>2]=60*er,I[x>>2]=+(Jt!=gn);var Rs=Ro(Pe),ol=Ro(wn),Po=Xo(Rs),Bl=Xo(ol);gn<Jt?(E[se>>2]=Po,E[se+4>>2]=Bl):(E[se>>2]=Bl,E[se+4>>2]=Po)},b:()=>{at("")},c:()=>Date.now(),f:(p,x,se)=>O.copyWithin(p,x,x+se),d:p=>{var er,x=O.length,se=2147483648;if((p>>>=0)>se)return!1;for(var Pe=1;Pe<=4;Pe*=2){var wn=x*(1+.2/Pe);wn=Math.min(wn,p+100663296);var Jt=Math.min(se,(er=Math.max(p,wn))+(65536-er%65536)%65536);if(Ss(Jt))return!0}return!1},p:(p,x)=>{var se=0;return Ii().forEach((je,Pe)=>{var wn=x+se;E[p+4*Pe>>2]=wn,((p,x)=>{for(var se=0;se<p.length;++se)Fe[x++>>0]=p.charCodeAt(se);Fe[x>>0]=0})(je,wn),se+=je.length+1}),0},q:(p,x)=>{var se=Ii();E[p>>2]=se.length;var je=0;return se.forEach(Pe=>je+=Pe.length+1),E[x>>2]=je,0},g:p=>52,i:(p,x,se,je)=>52,m:function Li(p,x,se,je,Pe){return Dr(x,se),70},h:(p,x,se,je)=>{for(var Pe=0,wn=0;wn<se;wn++){var Jt=E[x>>2],gn=E[x+4>>2];x+=8;for(var er=0;er<gn;er++)ws(p,O[Jt+er]);Pe+=gn}return E[je>>2]=Pe,0},o:(p,x,se,je,Pe)=>((p,x,se,je)=>{var Pe=E[je+40>>2],wn={tm_sec:I[je>>2],tm_min:I[je+4>>2],tm_hour:I[je+8>>2],tm_mday:I[je+12>>2],tm_mon:I[je+16>>2],tm_year:I[je+20>>2],tm_wday:I[je+24>>2],tm_yday:I[je+28>>2],tm_isdst:I[je+32>>2],tm_gmtoff:I[je+36>>2],tm_zone:Pe?Wt(Pe):""},Jt=Wt(se),gn={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var er in gn)Jt=Jt.replace(new RegExp(er,"g"),gn[er]);var Ro=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Rs=["January","February","March","April","May","June","July","August","September","October","November","December"];function ol(dt,cn,Ci){for(var ti="number"==typeof dt?dt.toString():dt||"";ti.length<cn;)ti=Ci[0]+ti;return ti}function Po(dt,cn){return ol(dt,cn,"0")}function Bl(dt,cn){function Ci(sl){return sl<0?-1:sl>0?1:0}var ti;return 0===(ti=Ci(dt.getFullYear()-cn.getFullYear()))&&0===(ti=Ci(dt.getMonth()-cn.getMonth()))&&(ti=Ci(dt.getDate()-cn.getDate())),ti}function _c(dt){switch(dt.getDay()){case 0:return new Date(dt.getFullYear()-1,11,29);case 1:return dt;case 2:return new Date(dt.getFullYear(),0,3);case 3:return new Date(dt.getFullYear(),0,2);case 4:return new Date(dt.getFullYear(),0,1);case 5:return new Date(dt.getFullYear()-1,11,31);case 6:return new Date(dt.getFullYear()-1,11,30)}}function Vl(dt){var cn=((p,x)=>{for(var se=new Date(p.getTime());x>0;){var je=In(se.getFullYear()),Pe=se.getMonth(),wn=(je?Ao:Jo)[Pe];if(!(x>wn-se.getDate()))return se.setDate(se.getDate()+x),se;x-=wn-se.getDate()+1,se.setDate(1),Pe<11?se.setMonth(Pe+1):(se.setMonth(0),se.setFullYear(se.getFullYear()+1))}return se})(new Date(dt.tm_year+1900,0,1),dt.tm_yday),Ci=new Date(cn.getFullYear(),0,4),ti=new Date(cn.getFullYear()+1,0,4),sl=_c(Ci),xa=_c(ti);return Bl(sl,cn)<=0?Bl(xa,cn)<=0?cn.getFullYear()+1:cn.getFullYear():cn.getFullYear()-1}var Ia={"%a":dt=>Ro[dt.tm_wday].substring(0,3),"%A":dt=>Ro[dt.tm_wday],"%b":dt=>Rs[dt.tm_mon].substring(0,3),"%B":dt=>Rs[dt.tm_mon],"%C":dt=>Po((dt.tm_year+1900)/100|0,2),"%d":dt=>Po(dt.tm_mday,2),"%e":dt=>ol(dt.tm_mday,2," "),"%g":dt=>Vl(dt).toString().substring(2),"%G":dt=>Vl(dt),"%H":dt=>Po(dt.tm_hour,2),"%I":dt=>{var cn=dt.tm_hour;return 0==cn?cn=12:cn>12&&(cn-=12),Po(cn,2)},"%j":dt=>Po(dt.tm_mday+((p,x)=>{for(var se=0,je=0;je<=x;se+=p[je++]);return se})(In(dt.tm_year+1900)?Ao:Jo,dt.tm_mon-1),3),"%m":dt=>Po(dt.tm_mon+1,2),"%M":dt=>Po(dt.tm_min,2),"%n":()=>"\n","%p":dt=>dt.tm_hour>=0&&dt.tm_hour<12?"AM":"PM","%S":dt=>Po(dt.tm_sec,2),"%t":()=>"\t","%u":dt=>dt.tm_wday||7,"%U":dt=>Po(Math.floor((dt.tm_yday+7-dt.tm_wday)/7),2),"%V":dt=>{var cn=Math.floor((dt.tm_yday+7-(dt.tm_wday+6)%7)/7);if((dt.tm_wday+371-dt.tm_yday-2)%7<=2&&cn++,cn){if(53==cn){var ti=(dt.tm_wday+371-dt.tm_yday)%7;4!=ti&&(3!=ti||!In(dt.tm_year))&&(cn=1)}}else{cn=52;var Ci=(dt.tm_wday+7-dt.tm_yday-1)%7;(4==Ci||5==Ci&&In(dt.tm_year%400-1))&&cn++}return Po(cn,2)},"%w":dt=>dt.tm_wday,"%W":dt=>Po(Math.floor((dt.tm_yday+7-(dt.tm_wday+6)%7)/7),2),"%y":dt=>(dt.tm_year+1900).toString().substring(2),"%Y":dt=>dt.tm_year+1900,"%z":dt=>{var cn=dt.tm_gmtoff;return(cn>=0?"+":"-")+("0000"+(cn=(cn=Math.abs(cn)/60)/60*100+cn%60)).slice(-4)},"%Z":dt=>dt.tm_zone,"%%":()=>"%"};for(var er in Jt=Jt.replace(/%%/g,"\0\0"),Ia)Jt.includes(er)&&(Jt=Jt.replace(new RegExp(er,"g"),Ia[er](wn)));var il=Tn(Jt=Jt.replace(/\0\0/g,"%"),!1);return il.length>x?0:(((p,x)=>{Fe.set(p,x)})(il,p),il.length-1)})(p,x,se,je)},rt=function Or(){var p={a:rs};function x(je,Pe){return rt=function Sn(p){var x={};for(var se in p){var je=p[se];x[se]="function"==typeof je?sn(je):je}return x}(rt=je.exports),ne=rt.r,me(),he=rt.Ua,function Tt(p){Le.unshift(p)}(rt.s),function gr(){var p=he.get,x={};he.get=se=>{var je=p.call(he,se),Pe=x[se];return(!Pe||Pe.func!==je)&&(Pe=x[se]={func:je,wrapper:sn(je)}),Pe.wrapper}}(),function nt(p){if(Et--,d.monitorRunDependencies&&d.monitorRunDependencies(Et),0==Et&&(null!==xe&&(clearInterval(xe),xe=null),be)){var x=be;be=null,x()}}(),rt}if(function ke(p){Et++,d.monitorRunDependencies&&d.monitorRunDependencies(Et)}(),d.instantiateWasm)try{return d.instantiateWasm(p,x)}catch(je){W(`Module.instantiateWasm callback failed with error: ${je}`),X(je)}return function Pr(p,x,se,je){return p||"function"!=typeof WebAssembly.instantiateStreaming||on(x)||"function"!=typeof fetch?vo(x,se,je):fetch(x,{credentials:"same-origin"}).then(Pe=>WebAssembly.instantiateStreaming(Pe,se).then(je,function(Jt){return W(`wasm streaming compile failed: ${Jt}`),W("falling back to ArrayBuffer instantiation"),vo(x,se,je)}))}(P,Pn,p,function se(je){x(je.instance)}).catch(X),{}}(),os=d._malloc=p=>(os=d._malloc=rt.t)(p),ae=(d._free=p=>(d._free=rt.u)(p),d._webidl_free=p=>(d._webidl_free=rt.v)(p),d._webidl_malloc=p=>(d._webidl_malloc=rt.w)(p),d._emscripten_bind_VoidPtr___destroy___0=p=>(ae=d._emscripten_bind_VoidPtr___destroy___0=rt.x)(p)),Oe=d._emscripten_bind_FileEntry_GetName_0=p=>(Oe=d._emscripten_bind_FileEntry_GetName_0=rt.y)(p),de=d._emscripten_bind_FileEntry_IsDirectory_0=p=>(de=d._emscripten_bind_FileEntry_IsDirectory_0=rt.z)(p),et=d._emscripten_bind_FileEntry_GetSize_0=p=>(et=d._emscripten_bind_FileEntry_GetSize_0=rt.A)(p),Qe=d._emscripten_bind_FileEntry_GetModifiedTS_0=p=>(Qe=d._emscripten_bind_FileEntry_GetModifiedTS_0=rt.B)(p),it=d._emscripten_bind_FileEntry_GetAttributes_0=p=>(it=d._emscripten_bind_FileEntry_GetAttributes_0=rt.C)(p),Ue=d._emscripten_bind_FileEntry___destroy___0=p=>(Ue=d._emscripten_bind_FileEntry___destroy___0=rt.D)(p),ht=d._emscripten_bind_Vfs_Vfs_0=()=>(ht=d._emscripten_bind_Vfs_Vfs_0=rt.E)(),It=d._emscripten_bind_Vfs_Malloc_1=(p,x)=>(It=d._emscripten_bind_Vfs_Malloc_1=rt.F)(p,x),U=d._emscripten_bind_Vfs_Free_1=(p,x)=>(U=d._emscripten_bind_Vfs_Free_1=rt.G)(p,x),An=d._emscripten_bind_Vfs_Nullptr_0=p=>(An=d._emscripten_bind_Vfs_Nullptr_0=rt.H)(p),ur=d._emscripten_bind_Vfs_AllocateImage_1=(p,x)=>(ur=d._emscripten_bind_Vfs_AllocateImage_1=rt.I)(p,x),Fr=d._emscripten_bind_Vfs_MountImage_1=(p,x)=>(Fr=d._emscripten_bind_Vfs_MountImage_1=rt.J)(p,x),Gr=d._emscripten_bind_Vfs_UnmountImage_1=(p,x)=>(Gr=d._emscripten_bind_Vfs_UnmountImage_1=rt.K)(p,x),Xn=d._emscripten_bind_Vfs_SwitchSlot_1=(p,x)=>(Xn=d._emscripten_bind_Vfs_SwitchSlot_1=rt.L)(p,x),Ms=d._emscripten_bind_Vfs_GetPendingImageSize_0=p=>(Ms=d._emscripten_bind_Vfs_GetPendingImageSize_0=rt.M)(p),Vn=d._emscripten_bind_Vfs_GetSize_1=(p,x)=>(Vn=d._emscripten_bind_Vfs_GetSize_1=rt.N)(p,x),jo=d._emscripten_bind_Vfs_GetPendingImage_0=p=>(jo=d._emscripten_bind_Vfs_GetPendingImage_0=rt.O)(p),ko=d._emscripten_bind_Vfs_GetImage_1=(p,x)=>(ko=d._emscripten_bind_Vfs_GetImage_1=rt.P)(p,x),is=d._emscripten_bind_Vfs_GetDirtyPages_1=(p,x)=>(is=d._emscripten_bind_Vfs_GetDirtyPages_1=rt.Q)(p,x),za=d._emscripten_bind_Vfs_RenameFile_2=(p,x,se)=>(za=d._emscripten_bind_Vfs_RenameFile_2=rt.R)(p,x,se),ma=d._emscripten_bind_Vfs_ChmodFile_3=(p,x,se,je)=>(ma=d._emscripten_bind_Vfs_ChmodFile_3=rt.S)(p,x,se,je),Ks=d._emscripten_bind_Vfs_StatFile_1=(p,x)=>(Ks=d._emscripten_bind_Vfs_StatFile_1=rt.T)(p,x),ga=d._emscripten_bind_Vfs_UnlinkFile_1=(p,x)=>(ga=d._emscripten_bind_Vfs_UnlinkFile_1=rt.U)(p,x),ss=d._emscripten_bind_Vfs_Mkdir_1=(p,x)=>(ss=d._emscripten_bind_Vfs_Mkdir_1=rt.V)(p,x),Wa=d._emscripten_bind_Vfs_GetEntry_0=p=>(Wa=d._emscripten_bind_Vfs_GetEntry_0=rt.W)(p),_a=d._emscripten_bind_Vfs_BytesFree_1=(p,x)=>(_a=d._emscripten_bind_Vfs_BytesFree_1=rt.X)(p,x),va=d._emscripten_bind_Vfs_BytesTotal_1=(p,x)=>(va=d._emscripten_bind_Vfs_BytesTotal_1=rt.Y)(p,x),Za=d._emscripten_bind_Vfs_ReadFile_1=(p,x)=>(Za=d._emscripten_bind_Vfs_ReadFile_1=rt.Z)(p,x),qa=d._emscripten_bind_Vfs_GetCurrentFileSize_0=p=>(qa=d._emscripten_bind_Vfs_GetCurrentFileSize_0=rt._)(p),Ya=d._emscripten_bind_Vfs_GetCurrentFileContent_0=p=>(Ya=d._emscripten_bind_Vfs_GetCurrentFileContent_0=rt.$)(p),Ka=d._emscripten_bind_Vfs_ReleaseCurrentFile_0=p=>(Ka=d._emscripten_bind_Vfs_ReleaseCurrentFile_0=rt.aa)(p),ya=d._emscripten_bind_Vfs_WriteFile_3=(p,x,se,je)=>(ya=d._emscripten_bind_Vfs_WriteFile_3=rt.ba)(p,x,se,je),Xa=d._emscripten_bind_Vfs___destroy___0=p=>(Xa=d._emscripten_bind_Vfs___destroy___0=rt.ca)(p),Qa=d._emscripten_bind_ReaddirContext_ReaddirContext_1=p=>(Qa=d._emscripten_bind_ReaddirContext_ReaddirContext_1=rt.da)(p),br=d._emscripten_bind_ReaddirContext_Next_0=p=>(br=d._emscripten_bind_ReaddirContext_Next_0=rt.ea)(p),ba=d._emscripten_bind_ReaddirContext_GetEntry_0=p=>(ba=d._emscripten_bind_ReaddirContext_GetEntry_0=rt.fa)(p),fo=d._emscripten_bind_ReaddirContext_GetStatus_0=p=>(fo=d._emscripten_bind_ReaddirContext_GetStatus_0=rt.ga)(p),Vt=d._emscripten_bind_ReaddirContext_GetError_0=p=>(Vt=d._emscripten_bind_ReaddirContext_GetError_0=rt.ha)(p),Ca=d._emscripten_bind_ReaddirContext_GetErrorDescription_0=p=>(Ca=d._emscripten_bind_ReaddirContext_GetErrorDescription_0=rt.ia)(p),Xs=d._emscripten_bind_ReaddirContext___destroy___0=p=>(Xs=d._emscripten_bind_ReaddirContext___destroy___0=rt.ja)(p),Qr=d._emscripten_bind_ExportZipContext_ExportZipContext_2=(p,x)=>(Qr=d._emscripten_bind_ExportZipContext_ExportZipContext_2=rt.ka)(p,x),Qs=d._emscripten_bind_ExportZipContext_AddFile_1=(p,x)=>(Qs=d._emscripten_bind_ExportZipContext_AddFile_1=rt.la)(p,x),Ja=d._emscripten_bind_ExportZipContext_AddDirectory_1=(p,x)=>(Ja=d._emscripten_bind_ExportZipContext_AddDirectory_1=rt.ma)(p,x),jn=d._emscripten_bind_ExportZipContext_Continue_0=p=>(jn=d._emscripten_bind_ExportZipContext_Continue_0=rt.na)(p),As=d._emscripten_bind_ExportZipContext_GetState_0=p=>(As=d._emscripten_bind_ExportZipContext_GetState_0=rt.oa)(p),Cr=d._emscripten_bind_ExportZipContext_GetZipContent_0=p=>(Cr=d._emscripten_bind_ExportZipContext_GetZipContent_0=rt.pa)(p),Js=d._emscripten_bind_ExportZipContext_GetZipSize_0=p=>(Js=d._emscripten_bind_ExportZipContext_GetZipSize_0=rt.qa)(p),Pl=d._emscripten_bind_ExportZipContext_GetErrorItem_0=p=>(Pl=d._emscripten_bind_ExportZipContext_GetErrorItem_0=rt.ra)(p),el=d._emscripten_bind_ExportZipContext___destroy___0=p=>(el=d._emscripten_bind_ExportZipContext___destroy___0=rt.sa)(p),Un=d._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=p=>(Un=d._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=rt.ta)(p),jt=d._emscripten_bind_DeleteRecursiveContext_AddFile_1=(p,x)=>(jt=d._emscripten_bind_DeleteRecursiveContext_AddFile_1=rt.ua)(p,x),ks=d._emscripten_bind_DeleteRecursiveContext_Continue_0=p=>(ks=d._emscripten_bind_DeleteRecursiveContext_Continue_0=rt.va)(p),ea=d._emscripten_bind_DeleteRecursiveContext_GetState_0=p=>(ea=d._emscripten_bind_DeleteRecursiveContext_GetState_0=rt.wa)(p),Ol=d._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=p=>(Ol=d._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=rt.xa)(p),Sa=d._emscripten_bind_DeleteRecursiveContext___destroy___0=p=>(Sa=d._emscripten_bind_DeleteRecursiveContext___destroy___0=rt.ya)(p),Je=d._emscripten_bind_UnzipContext_UnzipContext_4=(p,x,se,je)=>(Je=d._emscripten_bind_UnzipContext_UnzipContext_4=rt.za)(p,x,se,je),$i=d._emscripten_bind_UnzipContext_GetState_0=p=>($i=d._emscripten_bind_UnzipContext_GetState_0=rt.Aa)(p),as=d._emscripten_bind_UnzipContext_Continue_0=p=>(as=d._emscripten_bind_UnzipContext_Continue_0=rt.Ba)(p),ta=d._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=p=>(ta=d._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=rt.Ca)(p),wa=d._emscripten_bind_UnzipContext_GetCurrentEntry_0=p=>(wa=d._emscripten_bind_UnzipContext_GetCurrentEntry_0=rt.Da)(p),tl=d._emscripten_bind_UnzipContext_GetCollisionPath_0=p=>(tl=d._emscripten_bind_UnzipContext_GetCollisionPath_0=rt.Ea)(p),ei=d._emscripten_bind_UnzipContext_GetEntriesTotal_0=p=>(ei=d._emscripten_bind_UnzipContext_GetEntriesTotal_0=rt.Fa)(p),ls=d._emscripten_bind_UnzipContext_GetEntriesSuccess_0=p=>(ls=d._emscripten_bind_UnzipContext_GetEntriesSuccess_0=rt.Ga)(p),nl=d._emscripten_bind_UnzipContext___destroy___0=p=>(nl=d._emscripten_bind_UnzipContext___destroy___0=rt.Ha)(p),Yt=d._emscripten_bind_PasteContext_PasteContext_3=(p,x,se)=>(Yt=d._emscripten_bind_PasteContext_PasteContext_3=rt.Ia)(p,x,se),$n=d._emscripten_bind_PasteContext_AddFile_1=(p,x)=>($n=d._emscripten_bind_PasteContext_AddFile_1=rt.Ja)(p,x),Ea=d._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=(p,x)=>(Ea=d._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=rt.Ka)(p,x),Fl=d._emscripten_bind_PasteContext_GetState_0=p=>(Fl=d._emscripten_bind_PasteContext_GetState_0=rt.La)(p),Nl=d._emscripten_bind_PasteContext_Continue_0=p=>(Nl=d._emscripten_bind_PasteContext_Continue_0=rt.Ma)(p),Ll=d._emscripten_bind_PasteContext_ContinueWithOverwrite_0=p=>(Ll=d._emscripten_bind_PasteContext_ContinueWithOverwrite_0=rt.Na)(p),rl=d._emscripten_bind_PasteContext_GetCurrentEntry_0=p=>(rl=d._emscripten_bind_PasteContext_GetCurrentEntry_0=rt.Oa)(p),Ir=d._emscripten_bind_PasteContext_GetCollisionPath_0=p=>(Ir=d._emscripten_bind_PasteContext_GetCollisionPath_0=rt.Pa)(p),dr=d._emscripten_bind_PasteContext_GetEntriesSuccess_0=p=>(dr=d._emscripten_bind_PasteContext_GetEntriesSuccess_0=rt.Qa)(p),So=d._emscripten_bind_PasteContext___destroy___0=p=>(So=d._emscripten_bind_PasteContext___destroy___0=rt.Ra)(p),$l=d._main=(p,x)=>($l=d._main=rt.Sa)(p,x),mc=()=>(mc=rt.Ta)(),Ti=p=>(Ti=rt.Va)(p),gc=()=>(gc=rt.Wa)(),Da=()=>(Da=rt.Xa)(),Nr=()=>(Nr=rt.Ya)();function Sr(){function p(){bn||(bn=!0,d.calledRun=!0,!ce&&(function fe(){Xe(),lo(Le)}(),function Ge(){Xe(),lo(ve)}(),K(d),d.onRuntimeInitialized&&d.onRuntimeInitialized(),_&&function yt(){var p=$l;try{$t+=1;var je=p(0,0);return xs(je),je}catch(Pe){return(p=>{if(p instanceof Mo||"unwind"==p)return le;Xe(),p instanceof WebAssembly.RuntimeError&&Nr()<=0&&W("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 1048576)"),A(1,p)})(Pe)}finally{$t-=1}}(),function ct(){if(Xe(),d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)p=d.postRun.shift(),we.unshift(p);var p;lo(we)}()))}Et>0||(function xr(){gc(),function We(){var p=Da();0==p&&(p+=4),E[p>>2]=34821223,E[p+4>>2]=2310721022,E[0]=1668509029}()}(),function Dt(){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)p=d.preRun.shift(),ye.unshift(p);var p;lo(ye)}(),Et>0)||(d.setStatus?(d.setStatus("Running..."),setTimeout(function(){setTimeout(function(){d.setStatus("")},1),p()},1)):p(),Xe())}if(d.___original_main=()=>(d.___original_main=rt.Za)(),be=function p(){bn||Sr(),bn||(be=p)},d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();var _=!0;function q(){}function k(p){return(p||q).__cache__}function $e(p,x){var se=k(x),je=se[p];return je||((je=Object.create((x||q).prototype)).ptr=p,se[p]=je)}d.noInitialRun&&(_=!1),Sr(),(q.prototype=Object.create(q.prototype)).constructor=q,q.prototype.__class__=q,q.__cache__={},d.WrapperObject=q,d.getCache=k,d.wrapPointer=$e,d.castObject=function ot(p,x){return $e(p.ptr,x)},d.NULL=$e(0),d.destroy=function nn(p){if(!p.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";p.__destroy__(),delete k(p.__class__)[p.ptr]},d.compare=function Kt(p,x){return p.ptr===x.ptr},d.getPointer=function ln(p){return p.ptr},d.getClass=function Jn(p){return p.__class__};var Lt={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(Lt.needed){for(var p=0;p<Lt.temps.length;p++)d._webidl_free(Lt.temps[p]);Lt.temps.length=0,d._webidl_free(Lt.buffer),Lt.buffer=0,Lt.size+=Lt.needed,Lt.needed=0}Lt.buffer||(Lt.size+=128,Lt.buffer=d._webidl_malloc(Lt.size),Re(Lt.buffer)),Lt.pos=0},alloc(p,x){Re(Lt.buffer);var Pe,je=p.length*x.BYTES_PER_ELEMENT;return Lt.pos+(je=je+7&-8)>=Lt.size?(Re(je>0),Lt.needed+=je,Pe=d._webidl_malloc(je),Lt.temps.push(Pe)):(Pe=Lt.buffer+Lt.pos,Lt.pos+=je),Pe},copy(p,x,se){switch(se>>>=0,x.BYTES_PER_ELEMENT){case 2:se>>>=1;break;case 4:se>>>=2;break;case 8:se>>>=3}for(var Pe=0;Pe<p.length;Pe++)x[se+Pe]=p[Pe]}};function rr(p){if("string"==typeof p){var x=Tn(p),se=Lt.alloc(x,Fe);return Lt.copy(x,Fe,se),se}return p}function fr(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Cn(){throw"cannot construct a FileEntry, no constructor in IDL"}function Rt(){this.ptr=ht(),k(Rt)[this.ptr]=this}function Nt(p){Lt.prepare(),p=p&&"object"==typeof p?p.ptr:rr(p),this.ptr=Qa(p),k(Nt)[this.ptr]=this}function Bn(p,x){Lt.prepare(),p=p&&"object"==typeof p?p.ptr:rr(p),x&&"object"==typeof x&&(x=x.ptr),this.ptr=Qr(p,x),k(Bn)[this.ptr]=this}function Tr(p){p&&"object"==typeof p&&(p=p.ptr),this.ptr=Un(p),k(Tr)[this.ptr]=this}function mn(p,x,se,je){Lt.prepare(),p&&"object"==typeof p&&(p=p.ptr),x=x&&"object"==typeof x?x.ptr:rr(x),se&&"object"==typeof se&&(se=se.ptr),je&&"object"==typeof je&&(je=je.ptr),this.ptr=Je(p,x,se,je),k(mn)[this.ptr]=this}function Ke(p,x,se){Lt.prepare(),p&&"object"==typeof p&&(p=p.ptr),x=x&&"object"==typeof x?x.ptr:rr(x),se=se&&"object"==typeof se?se.ptr:rr(se),this.ptr=Yt(p,x,se),k(Ke)[this.ptr]=this}return(fr.prototype=Object.create(q.prototype)).constructor=fr,fr.prototype.__class__=fr,fr.__cache__={},d.VoidPtr=fr,fr.prototype.__destroy__=fr.prototype.__destroy__=function(){ae(this.ptr)},(Cn.prototype=Object.create(q.prototype)).constructor=Cn,Cn.prototype.__class__=Cn,Cn.__cache__={},d.FileEntry=Cn,Cn.prototype.GetName=Cn.prototype.GetName=function(){return Wt(Oe(this.ptr))},Cn.prototype.IsDirectory=Cn.prototype.IsDirectory=function(){return!!de(this.ptr)},Cn.prototype.GetSize=Cn.prototype.GetSize=function(){return et(this.ptr)},Cn.prototype.GetModifiedTS=Cn.prototype.GetModifiedTS=function(){return Qe(this.ptr)},Cn.prototype.GetAttributes=Cn.prototype.GetAttributes=function(){return it(this.ptr)},Cn.prototype.__destroy__=Cn.prototype.__destroy__=function(){Ue(this.ptr)},(Rt.prototype=Object.create(q.prototype)).constructor=Rt,Rt.prototype.__class__=Rt,Rt.__cache__={},d.Vfs=Rt,Rt.prototype.Malloc=Rt.prototype.Malloc=function(p){return p&&"object"==typeof p&&(p=p.ptr),$e(It(this.ptr,p),fr)},Rt.prototype.Free=Rt.prototype.Free=function(p){p&&"object"==typeof p&&(p=p.ptr),U(this.ptr,p)},Rt.prototype.Nullptr=Rt.prototype.Nullptr=function(){return $e(An(this.ptr),fr)},Rt.prototype.AllocateImage=Rt.prototype.AllocateImage=function(p){p&&"object"==typeof p&&(p=p.ptr),ur(this.ptr,p)},Rt.prototype.MountImage=Rt.prototype.MountImage=function(p){return p&&"object"==typeof p&&(p=p.ptr),!!Fr(this.ptr,p)},Rt.prototype.UnmountImage=Rt.prototype.UnmountImage=function(p){p&&"object"==typeof p&&(p=p.ptr),Gr(this.ptr,p)},Rt.prototype.SwitchSlot=Rt.prototype.SwitchSlot=function(p){p&&"object"==typeof p&&(p=p.ptr),Xn(this.ptr,p)},Rt.prototype.GetPendingImageSize=Rt.prototype.GetPendingImageSize=function(){return Ms(this.ptr)},Rt.prototype.GetSize=Rt.prototype.GetSize=function(p){return p&&"object"==typeof p&&(p=p.ptr),Vn(this.ptr,p)},Rt.prototype.GetPendingImage=Rt.prototype.GetPendingImage=function(){return $e(jo(this.ptr),fr)},Rt.prototype.GetImage=Rt.prototype.GetImage=function(p){return p&&"object"==typeof p&&(p=p.ptr),$e(ko(this.ptr,p),fr)},Rt.prototype.GetDirtyPages=Rt.prototype.GetDirtyPages=function(p){return p&&"object"==typeof p&&(p=p.ptr),$e(is(this.ptr,p),fr)},Rt.prototype.RenameFile=Rt.prototype.RenameFile=function(p,x){var se=this.ptr;return Lt.prepare(),p=p&&"object"==typeof p?p.ptr:rr(p),x=x&&"object"==typeof x?x.ptr:rr(x),za(se,p,x)},Rt.prototype.ChmodFile=Rt.prototype.ChmodFile=function(p,x,se){var je=this.ptr;return Lt.prepare(),p=p&&"object"==typeof p?p.ptr:rr(p),x&&"object"==typeof x&&(x=x.ptr),se&&"object"==typeof se&&(se=se.ptr),ma(je,p,x,se)},Rt.prototype.StatFile=Rt.prototype.StatFile=function(p){var x=this.ptr;return Lt.prepare(),p=p&&"object"==typeof p?p.ptr:rr(p),Ks(x,p)},Rt.prototype.UnlinkFile=Rt.prototype.UnlinkFile=function(p){var x=this.ptr;return Lt.prepare(),p=p&&"object"==typeof p?p.ptr:rr(p),ga(x,p)},Rt.prototype.Mkdir=Rt.prototype.Mkdir=function(p){var x=this.ptr;return Lt.prepare(),p=p&&"object"==typeof p?p.ptr:rr(p),ss(x,p)},Rt.prototype.GetEntry=Rt.prototype.GetEntry=function(){return $e(Wa(this.ptr),Cn)},Rt.prototype.BytesFree=Rt.prototype.BytesFree=function(p){return p&&"object"==typeof p&&(p=p.ptr),_a(this.ptr,p)},Rt.prototype.BytesTotal=Rt.prototype.BytesTotal=function(p){return p&&"object"==typeof p&&(p=p.ptr),va(this.ptr,p)},Rt.prototype.ReadFile=Rt.prototype.ReadFile=function(p){var x=this.ptr;return Lt.prepare(),p=p&&"object"==typeof p?p.ptr:rr(p),!!Za(x,p)},Rt.prototype.GetCurrentFileSize=Rt.prototype.GetCurrentFileSize=function(){return qa(this.ptr)},Rt.prototype.GetCurrentFileContent=Rt.prototype.GetCurrentFileContent=function(){return $e(Ya(this.ptr),fr)},Rt.prototype.ReleaseCurrentFile=Rt.prototype.ReleaseCurrentFile=function(){Ka(this.ptr)},Rt.prototype.WriteFile=Rt.prototype.WriteFile=function(p,x,se){var je=this.ptr;return Lt.prepare(),p=p&&"object"==typeof p?p.ptr:rr(p),x&&"object"==typeof x&&(x=x.ptr),se&&"object"==typeof se&&(se=se.ptr),ya(je,p,x,se)},Rt.prototype.__destroy__=Rt.prototype.__destroy__=function(){Xa(this.ptr)},(Nt.prototype=Object.create(q.prototype)).constructor=Nt,Nt.prototype.__class__=Nt,Nt.__cache__={},d.ReaddirContext=Nt,Nt.prototype.Next=Nt.prototype.Next=function(){return br(this.ptr)},Nt.prototype.GetEntry=Nt.prototype.GetEntry=function(){return $e(ba(this.ptr),Cn)},Nt.prototype.GetStatus=Nt.prototype.GetStatus=function(){return fo(this.ptr)},Nt.prototype.GetError=Nt.prototype.GetError=function(){return Vt(this.ptr)},Nt.prototype.GetErrorDescription=Nt.prototype.GetErrorDescription=function(){return Wt(Ca(this.ptr))},Nt.prototype.__destroy__=Nt.prototype.__destroy__=function(){Xs(this.ptr)},(Bn.prototype=Object.create(q.prototype)).constructor=Bn,Bn.prototype.__class__=Bn,Bn.__cache__={},d.ExportZipContext=Bn,Bn.prototype.AddFile=Bn.prototype.AddFile=function(p){var x=this.ptr;return Lt.prepare(),p=p&&"object"==typeof p?p.ptr:rr(p),$e(Qs(x,p),Bn)},Bn.prototype.AddDirectory=Bn.prototype.AddDirectory=function(p){var x=this.ptr;return Lt.prepare(),p=p&&"object"==typeof p?p.ptr:rr(p),$e(Ja(x,p),Bn)},Bn.prototype.Continue=Bn.prototype.Continue=function(){return jn(this.ptr)},Bn.prototype.GetState=Bn.prototype.GetState=function(){return As(this.ptr)},Bn.prototype.GetZipContent=Bn.prototype.GetZipContent=function(){return $e(Cr(this.ptr),fr)},Bn.prototype.GetZipSize=Bn.prototype.GetZipSize=function(){return Js(this.ptr)},Bn.prototype.GetErrorItem=Bn.prototype.GetErrorItem=function(){return Wt(Pl(this.ptr))},Bn.prototype.__destroy__=Bn.prototype.__destroy__=function(){el(this.ptr)},(Tr.prototype=Object.create(q.prototype)).constructor=Tr,Tr.prototype.__class__=Tr,Tr.__cache__={},d.DeleteRecursiveContext=Tr,Tr.prototype.AddFile=Tr.prototype.AddFile=function(p){var x=this.ptr;return Lt.prepare(),p=p&&"object"==typeof p?p.ptr:rr(p),$e(jt(x,p),Tr)},Tr.prototype.Continue=Tr.prototype.Continue=function(){return ks(this.ptr)},Tr.prototype.GetState=Tr.prototype.GetState=function(){return ea(this.ptr)},Tr.prototype.GetFailingPath=Tr.prototype.GetFailingPath=function(){return Wt(Ol(this.ptr))},Tr.prototype.__destroy__=Tr.prototype.__destroy__=function(){Sa(this.ptr)},(mn.prototype=Object.create(q.prototype)).constructor=mn,mn.prototype.__class__=mn,mn.__cache__={},d.UnzipContext=mn,mn.prototype.GetState=mn.prototype.GetState=function(){return $i(this.ptr)},mn.prototype.Continue=mn.prototype.Continue=function(){return as(this.ptr)},mn.prototype.ContinueWithOverwrite=mn.prototype.ContinueWithOverwrite=function(){return ta(this.ptr)},mn.prototype.GetCurrentEntry=mn.prototype.GetCurrentEntry=function(){return Wt(wa(this.ptr))},mn.prototype.GetCollisionPath=mn.prototype.GetCollisionPath=function(){return Wt(tl(this.ptr))},mn.prototype.GetEntriesTotal=mn.prototype.GetEntriesTotal=function(){return ei(this.ptr)},mn.prototype.GetEntriesSuccess=mn.prototype.GetEntriesSuccess=function(){return ls(this.ptr)},mn.prototype.__destroy__=mn.prototype.__destroy__=function(){nl(this.ptr)},(Ke.prototype=Object.create(q.prototype)).constructor=Ke,Ke.prototype.__class__=Ke,Ke.__cache__={},d.PasteContext=Ke,Ke.prototype.AddFile=Ke.prototype.AddFile=function(p){var x=this.ptr;return Lt.prepare(),p=p&&"object"==typeof p?p.ptr:rr(p),$e($n(x,p),Ke)},Ke.prototype.SetDeleteAfterCopy=Ke.prototype.SetDeleteAfterCopy=function(p){return p&&"object"==typeof p&&(p=p.ptr),$e(Ea(this.ptr,p),Ke)},Ke.prototype.GetState=Ke.prototype.GetState=function(){return Fl(this.ptr)},Ke.prototype.Continue=Ke.prototype.Continue=function(){return Nl(this.ptr)},Ke.prototype.ContinueWithOverwrite=Ke.prototype.ContinueWithOverwrite=function(){return Ll(this.ptr)},Ke.prototype.GetCurrentEntry=Ke.prototype.GetCurrentEntry=function(){return Wt(rl(this.ptr))},Ke.prototype.GetCollisionPath=Ke.prototype.GetCollisionPath=function(){return Wt(Ir(this.ptr))},Ke.prototype.GetEntriesSuccess=Ke.prototype.GetEntriesSuccess=function(){return dr(this.ptr)},Ke.prototype.__destroy__=Ke.prototype.__destroy__=function(){So(this.ptr)},S.ready});Ce.exports=Me},276:(Ce,Me,C)=>{"use strict";C.d(Me,{c:()=>K,r:()=>N});const K=(O,$)=>{O.componentOnReady?O.componentOnReady().then(re=>$(re)):N(()=>$(O))},N=O=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(O):"function"==typeof requestAnimationFrame?requestAnimationFrame(O):setTimeout(O)},7687:(Ce,Me,C)=>{"use strict";C.d(Me,{L:()=>S,a:()=>d,b:()=>K,c:()=>X,d:()=>H,g:()=>O});const S="ionViewWillEnter",d="ionViewDidEnter",K="ionViewWillLeave",X="ionViewDidLeave",H="ionViewWillUnload",O=$=>$.classList.contains("ion-page")?$:$.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||$},2723:(Ce,Me,C)=>{"use strict";C.d(Me,{c:()=>Se});var S=C(6940),d=C(4675);let K;const H=ie=>ie.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),F=ie=>(void 0===K&&(K=void 0===ie.style.animationName&&void 0!==ie.style.webkitAnimationName?"-webkit-":""),K),M=(ie,W,P)=>{const ne=W.startsWith("animation")?F(ie):"";ie.style.setProperty(ne+W,P)},A=(ie,W)=>{const P=W.startsWith("animation")?F(ie):"";ie.style.removeProperty(P+W)},N=[],pe=(ie=[],W)=>{if(void 0!==W){const P=Array.isArray(W)?W:[W];return[...ie,...P]}return ie},Se=ie=>{let W,P,ne,ce,le,Re,I,Le,ve,we,tt,ct,ze,Fe=[],O=[],$=[],re=!1,E={},T=[],Q=[],me={},We=0,Xe=!1,ye=!1,Dt=!0,fe=!1,Ge=!0,Tt=!1;const Bt=ie,Et=[],xe=[],be=[],ke=[],nt=[],at=[],zt=[],on=[],$t=[],sn=[],Sn=[],gr="function"==typeof AnimationEffect||void 0!==S.w&&"function"==typeof S.w.AnimationEffect,Pn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&gr,Vr=()=>Sn,Mo=(g,w)=>{const D=w.findIndex(ae=>ae.c===g);D>-1&&w.splice(D,1)},yo=(g,w)=>((w?.oneTimeCallback?xe:Et).push({c:g,o:w}),ze),he=()=>{if(Pn)Sn.forEach(g=>{g.cancel()}),Sn.length=0;else{const g=ke.slice();(0,d.r)(()=>{g.forEach(w=>{A(w,"animation-name"),A(w,"animation-duration"),A(w,"animation-timing-function"),A(w,"animation-iteration-count"),A(w,"animation-delay"),A(w,"animation-play-state"),A(w,"animation-fill-mode"),A(w,"animation-direction")})})}},Te=()=>{at.forEach(g=>{g?.parentNode&&g.parentNode.removeChild(g)}),at.length=0},Vo=()=>void 0!==le?le:I?I.getFill():"both",On=()=>void 0!==ve?ve:void 0!==Re?Re:I?I.getDirection():"normal",_r=()=>Xe?"linear":void 0!==ne?ne:I?I.getEasing():"linear",vr=()=>ye?0:void 0!==we?we:void 0!==P?P:I?I.getDuration():0,xn=()=>void 0!==ce?ce:I?I.getIterations():1,Ln=()=>void 0!==tt?tt:void 0!==W?W:I?I.getDelay():0,Kr=()=>{0!==We&&(We--,0===We&&((()=>{Es(),$t.forEach(Oe=>Oe()),sn.forEach(Oe=>Oe());const g=Dt?1:0,w=T,D=Q,ae=me;ke.forEach(Oe=>{const de=Oe.classList;w.forEach(et=>de.add(et)),D.forEach(et=>de.remove(et));for(const et in ae)ae.hasOwnProperty(et)&&M(Oe,et,ae[et])}),we=void 0,ve=void 0,tt=void 0,Et.forEach(Oe=>Oe.c(g,ze)),xe.forEach(Oe=>Oe.c(g,ze)),xe.length=0,Ge=!0,Dt&&(fe=!0),Dt=!0})(),I&&I.animationFinish()))},pi=(g=!0)=>{Te();const w=(ie=>(ie.forEach(W=>{for(const P in W)if(W.hasOwnProperty(P)){const ne=W[P];if("easing"===P)W["animation-timing-function"]=ne,delete W[P];else{const ce=H(P);ce!==P&&(W[ce]=ne,delete W[P])}}}),ie))(Fe);ke.forEach(D=>{if(w.length>0){const ae=((ie=[])=>ie.map(W=>{const P=W.offset,ne=[];for(const ce in W)W.hasOwnProperty(ce)&&"offset"!==ce&&ne.push(`${ce}: ${W[ce]};`);return`${100*P}% { ${ne.join(" ")} }`}).join(" "))(w);ct=void 0!==ie?ie:(ie=>{let W=N.indexOf(ie);return W<0&&(W=N.push(ie)-1),`ion-animation-${W}`})(ae);const Oe=((ie,W,P)=>{var ne;const ce=(ie=>{const W=void 0!==ie.getRootNode?ie.getRootNode():ie;return W.head||W})(P),le=F(P),Re=ce.querySelector("#"+ie);if(Re)return Re;const Fe=(null!==(ne=P.ownerDocument)&&void 0!==ne?ne:document).createElement("style");return Fe.id=ie,Fe.textContent=`@${le}keyframes ${ie} { ${W} } @${le}keyframes ${ie}-alt { ${W} }`,ce.appendChild(Fe),Fe})(ct,ae,D);at.push(Oe),M(D,"animation-duration",`${vr()}ms`),M(D,"animation-timing-function",_r()),M(D,"animation-delay",`${Ln()}ms`),M(D,"animation-fill-mode",Vo()),M(D,"animation-direction",On());const de=xn()===1/0?"infinite":xn().toString();M(D,"animation-iteration-count",de),M(D,"animation-play-state","paused"),g&&M(D,"animation-name",`${Oe.id}-alt`),(0,d.r)(()=>{M(D,"animation-name",Oe.id||null)})}})},Li=(g=!0)=>{(()=>{zt.forEach(ae=>ae()),on.forEach(ae=>ae());const g=O,w=$,D=E;ke.forEach(ae=>{const Oe=ae.classList;g.forEach(de=>Oe.add(de)),w.forEach(de=>Oe.remove(de));for(const de in D)D.hasOwnProperty(de)&&M(ae,de,D[de])})})(),Fe.length>0&&(Pn?(ke.forEach(g=>{const w=g.animate(Fe,{id:Bt,delay:Ln(),duration:vr(),easing:_r(),iterations:xn(),fill:Vo(),direction:On()});w.pause(),Sn.push(w)}),Sn.length>0&&(Sn[0].onfinish=()=>{Kr()})):pi(g)),re=!0},Co=g=>{if(g=Math.min(Math.max(g,0),.9999),Pn)Sn.forEach(w=>{w.currentTime=w.effect.getComputedTiming().delay+vr()*g,w.pause()});else{const w=`-${vr()*g}ms`;ke.forEach(D=>{Fe.length>0&&(M(D,"animation-delay",w),M(D,"animation-play-state","paused"))})}},ws=g=>{Sn.forEach(w=>{w.effect.updateTiming({delay:Ln(),duration:vr(),easing:_r(),iterations:xn(),fill:Vo(),direction:On()})}),void 0!==g&&Co(g)},qs=(g=!0,w)=>{(0,d.r)(()=>{ke.forEach(D=>{M(D,"animation-name",ct||null),M(D,"animation-duration",`${vr()}ms`),M(D,"animation-timing-function",_r()),M(D,"animation-delay",void 0!==w?`-${w*vr()}ms`:`${Ln()}ms`),M(D,"animation-fill-mode",Vo()||null),M(D,"animation-direction",On()||null);const ae=xn()===1/0?"infinite":xn().toString();M(D,"animation-iteration-count",ae),g&&M(D,"animation-name",`${ct}-alt`),(0,d.r)(()=>{M(D,"animation-name",ct||null)})})})},Xr=(g=!1,w=!0,D)=>(g&&nt.forEach(ae=>{ae.update(g,w,D)}),Pn?ws(D):qs(w,D),ze),Tn=()=>{re&&(Pn?Sn.forEach(g=>{g.pause()}):ke.forEach(g=>{M(g,"animation-play-state","paused")}),Tt=!0)},pa=()=>{Le=void 0,Kr()},Es=()=>{Le&&clearTimeout(Le)},Ts=g=>new Promise(w=>{g?.sync&&(ye=!0,yo(()=>ye=!1,{oneTimeCallback:!0})),re||Li(),fe&&(Pn?(Co(0),ws()):qs(),fe=!1),Ge&&(We=nt.length+1,Ge=!1);const D=()=>{Mo(ae,xe),w()},ae=()=>{Mo(D,be),w()};yo(ae,{oneTimeCallback:!0}),((g,w)=>{be.push({c:g,o:{oneTimeCallback:!0}})})(D),nt.forEach(Oe=>{Oe.play()}),Pn?(Sn.forEach(g=>{g.play()}),(0===Fe.length||0===ke.length)&&Kr()):(()=>{if(Es(),(0,d.r)(()=>{ke.forEach(g=>{Fe.length>0&&M(g,"animation-play-state","running")})}),0===Fe.length||0===ke.length)Kr();else{const g=Ln()||0,w=vr()||0,D=xn()||1;isFinite(D)&&(Le=setTimeout(pa,g+w*D+100)),((ie,W)=>{let P;const ne={passive:!0},le=Re=>{ie===Re.target&&(P&&P(),Es(),(0,d.r)(()=>{ke.forEach(g=>{A(g,"animation-duration"),A(g,"animation-delay"),A(g,"animation-play-state")}),(0,d.r)(Kr)}))};ie&&(ie.addEventListener("webkitAnimationEnd",le,ne),ie.addEventListener("animationend",le,ne),P=()=>{ie.removeEventListener("webkitAnimationEnd",le,ne),ie.removeEventListener("animationend",le,ne)})})(ke[0])}})(),Tt=!1}),rt=(g,w)=>{const D=Fe[0];return void 0===D||void 0!==D.offset&&0!==D.offset?Fe=[{offset:0,[g]:w},...Fe]:D[g]=w,ze};return ze={parentAnimation:I,elements:ke,childAnimations:nt,id:Bt,animationFinish:Kr,from:rt,to:(g,w)=>{const D=Fe[Fe.length-1];return void 0===D||void 0!==D.offset&&1!==D.offset?Fe=[...Fe,{offset:1,[g]:w}]:D[g]=w,ze},fromTo:(g,w,D)=>rt(g,w).to(g,D),parent:g=>(I=g,ze),play:Ts,pause:()=>(nt.forEach(g=>{g.pause()}),Tn(),ze),stop:()=>{nt.forEach(g=>{g.stop()}),re&&(he(),re=!1),Xe=!1,ye=!1,Ge=!0,ve=void 0,we=void 0,tt=void 0,We=0,fe=!1,Dt=!0,Tt=!1,be.forEach(g=>g.c(0,ze)),be.length=0},destroy:g=>(nt.forEach(w=>{w.destroy(g)}),(g=>{he(),g&&Te()})(g),ke.length=0,nt.length=0,Fe.length=0,Et.length=0,xe.length=0,re=!1,Ge=!0,ze),keyframes:g=>{const w=Fe!==g;return Fe=g,w&&(g=>{Pn?Vr().forEach(w=>{const D=w.effect;if(D.setKeyframes)D.setKeyframes(g);else{const ae=new KeyframeEffect(D.target,g,D.getTiming());w.effect=ae}}):pi()})(Fe),ze},addAnimation:g=>{if(null!=g)if(Array.isArray(g))for(const w of g)w.parent(ze),nt.push(w);else g.parent(ze),nt.push(g);return ze},addElement:g=>{if(null!=g)if(1===g.nodeType)ke.push(g);else if(g.length>=0)for(let w=0;w<g.length;w++)ke.push(g[w]);else console.error("Invalid addElement value");return ze},update:Xr,fill:g=>(le=g,Xr(!0),ze),direction:g=>(Re=g,Xr(!0),ze),iterations:g=>(ce=g,Xr(!0),ze),duration:g=>(!Pn&&0===g&&(g=1),P=g,Xr(!0),ze),easing:g=>(ne=g,Xr(!0),ze),delay:g=>(W=g,Xr(!0),ze),getWebAnimations:Vr,getKeyframes:()=>Fe,getFill:Vo,getDirection:On,getDelay:Ln,getIterations:xn,getEasing:_r,getDuration:vr,afterAddRead:g=>($t.push(g),ze),afterAddWrite:g=>(sn.push(g),ze),afterClearStyles:(g=[])=>{for(const w of g)me[w]="";return ze},afterStyles:(g={})=>(me=g,ze),afterRemoveClass:g=>(Q=pe(Q,g),ze),afterAddClass:g=>(T=pe(T,g),ze),beforeAddRead:g=>(zt.push(g),ze),beforeAddWrite:g=>(on.push(g),ze),beforeClearStyles:(g=[])=>{for(const w of g)E[w]="";return ze},beforeStyles:(g={})=>(E=g,ze),beforeRemoveClass:g=>($=pe($,g),ze),beforeAddClass:g=>(O=pe(O,g),ze),onFinish:yo,isRunning:()=>0!==We&&!Tt,progressStart:(g=!1,w)=>(nt.forEach(D=>{D.progressStart(g,w)}),Tn(),Xe=g,re||Li(),Xr(!1,!0,w),ze),progressStep:g=>(nt.forEach(w=>{w.progressStep(g)}),Co(g),ze),progressEnd:(g,w,D)=>(Xe=!1,nt.forEach(ae=>{ae.progressEnd(g,w,D)}),void 0!==D&&(we=D),fe=!1,Dt=!0,0===g?(ve="reverse"===On()?"normal":"reverse","reverse"===ve&&(Dt=!1),Pn?(Xr(),Co(1-w)):(tt=(1-w)*vr()*-1,Xr(!1,!1))):1===g&&(Pn?(Xr(),Co(w)):(tt=w*vr()*-1,Xr(!1,!1))),void 0!==g&&!I&&Ts(),ze)}}},2984:(Ce,Me,C)=>{"use strict";C.d(Me,{E:()=>V,I:()=>M,a:()=>S,s:()=>A});const S=N=>{try{if(N instanceof M)return N.value;if(!X()||"string"!=typeof N||""===N)return N;if(N.includes("onload="))return"";const L=document.createDocumentFragment(),R=document.createElement("div");L.appendChild(R),R.innerHTML=N,F.forEach(ie=>{const W=L.querySelectorAll(ie);for(let P=W.length-1;P>=0;P--){const ne=W[P];ne.parentNode?ne.parentNode.removeChild(ne):L.removeChild(ne);const ce=K(ne);for(let le=0;le<ce.length;le++)d(ce[le])}});const G=K(L);for(let ie=0;ie<G.length;ie++)d(G[ie]);const pe=document.createElement("div");pe.appendChild(L);const Se=pe.querySelector("div");return null!==Se?Se.innerHTML:pe.innerHTML}catch(L){return console.error(L),""}},d=N=>{if(N.nodeType&&1!==N.nodeType)return;if(typeof NamedNodeMap<"u"&&!(N.attributes instanceof NamedNodeMap))return void N.remove();for(let R=N.attributes.length-1;R>=0;R--){const G=N.attributes.item(R),pe=G.name;if(!H.includes(pe.toLowerCase())){N.removeAttribute(pe);continue}const Se=G.value,ie=N[pe];(null!=Se&&Se.toLowerCase().includes("javascript:")||null!=ie&&ie.toLowerCase().includes("javascript:"))&&N.removeAttribute(pe)}const L=K(N);for(let R=0;R<L.length;R++)d(L[R])},K=N=>null!=N.children?N.children:N.childNodes,X=()=>{var N;const L=window,R=null===(N=L?.Ionic)||void 0===N?void 0:N.config;return!R||(R.get?R.get("sanitizerEnabled",!0):!0===R.sanitizerEnabled||void 0===R.sanitizerEnabled)},H=["class","id","href","src","name","slot"],F=["script","style","iframe","meta","link","object","embed"];class M{constructor(L){this.value=L}}const A=N=>{const L=window,R=L.Ionic;if(!R||!R.config||"Object"===R.config.constructor.name)return L.Ionic=L.Ionic||{},L.Ionic.config=Object.assign(Object.assign({},L.Ionic.config),N),L.Ionic.config},V=!1},8573:(Ce,Me,C)=>{"use strict";C.d(Me,{C:()=>H,a:()=>K,d:()=>X});var S=C(3918),d=C(4675);const K=function(){var F=(0,S.Z)(function*(M,A,J,V,N,L){var R;if(M)return M.attachViewToDom(A,J,N,V);if(!(L||"string"==typeof J||J instanceof HTMLElement))throw new Error("framework delegate is missing");const G="string"==typeof J?null===(R=A.ownerDocument)||void 0===R?void 0:R.createElement(J):J;return V&&V.forEach(pe=>G.classList.add(pe)),N&&Object.assign(G,N),A.appendChild(G),yield new Promise(pe=>(0,d.c)(G,pe)),G});return function(A,J,V,N,L,R){return F.apply(this,arguments)}}(),X=(F,M)=>{if(M){if(F)return F.removeViewFromDom(M.parentElement,M);M.remove()}return Promise.resolve()},H=()=>{let F,M;return{attachViewToDom:function(){var V=(0,S.Z)(function*(N,L,R={},G=[]){var pe,Se;let ie;if(F=N,L){const P="string"==typeof L?null===(pe=F.ownerDocument)||void 0===pe?void 0:pe.createElement(L):L;G.forEach(ne=>P.classList.add(ne)),Object.assign(P,R),F.appendChild(P),ie=P,yield new Promise(ne=>(0,d.c)(P,ne))}else if(F.children.length>0&&("ION-MODAL"===F.tagName||"ION-POPOVER"===F.tagName)&&!(ie=F.children[0]).classList.contains("ion-delegate-host")){const ne=null===(Se=F.ownerDocument)||void 0===Se?void 0:Se.createElement("div");ne.classList.add("ion-delegate-host"),G.forEach(ce=>ne.classList.add(ce)),ne.append(...F.children),F.appendChild(ne),ie=ne}const W=document.querySelector("ion-app")||document.body;return M=document.createComment("ionic teleport"),F.parentNode.insertBefore(M,F),W.appendChild(F),ie??F});return function(L,R){return V.apply(this,arguments)}}(),removeViewFromDom:()=>(F&&M&&(M.parentNode.insertBefore(F,M),M.remove()),Promise.resolve())}}},4967:(Ce,Me,C)=>{"use strict";C.d(Me,{G:()=>H});class d{constructor(M,A,J,V,N){this.id=A,this.name=J,this.disableScroll=N,this.priority=1e6*V+A,this.ctrl=M}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const M=this.ctrl.capture(this.name,this.id,this.priority);return M&&this.disableScroll&&this.ctrl.disableScroll(this.id),M}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class K{constructor(M,A,J,V){this.id=A,this.disable=J,this.disableScroll=V,this.ctrl=M}block(){if(this.ctrl){if(this.disable)for(const M of this.disable)this.ctrl.disableGesture(M,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const M of this.disable)this.ctrl.enableGesture(M,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const X="backdrop-no-scroll",H=new class S{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(M){var A;return new d(this,this.newID(),M.name,null!==(A=M.priority)&&void 0!==A?A:0,!!M.disableScroll)}createBlocker(M={}){return new K(this,this.newID(),M.disable,!!M.disableScroll)}start(M,A,J){return this.canStart(M)?(this.requestedStart.set(A,J),!0):(this.requestedStart.delete(A),!1)}capture(M,A,J){if(!this.start(M,A,J))return!1;const V=this.requestedStart;let N=-1e4;if(V.forEach(L=>{N=Math.max(N,L)}),N===J){this.capturedId=A,V.clear();const L=new CustomEvent("ionGestureCaptured",{detail:{gestureName:M}});return document.dispatchEvent(L),!0}return V.delete(A),!1}release(M){this.requestedStart.delete(M),this.capturedId===M&&(this.capturedId=void 0)}disableGesture(M,A){let J=this.disabledGestures.get(M);void 0===J&&(J=new Set,this.disabledGestures.set(M,J)),J.add(A)}enableGesture(M,A){const J=this.disabledGestures.get(M);void 0!==J&&J.delete(A)}disableScroll(M){this.disabledScroll.add(M),1===this.disabledScroll.size&&document.body.classList.add(X)}enableScroll(M){this.disabledScroll.delete(M),0===this.disabledScroll.size&&document.body.classList.remove(X)}canStart(M){return!(void 0!==this.capturedId||this.isDisabled(M))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(M){const A=this.disabledGestures.get(M);return!!(A&&A.size>0)}newID(){return this.gestureId++,this.gestureId}}},1940:(Ce,Me,C)=>{"use strict";C.r(Me),C.d(Me,{MENU_BACK_BUTTON_PRIORITY:()=>H,OVERLAY_BACK_BUTTON_PRIORITY:()=>X,blockHardwareBackButton:()=>d,startHardwareBackButton:()=>K});var S=C(3918);const d=()=>{document.addEventListener("backbutton",()=>{})},K=()=>{const F=document;let M=!1;F.addEventListener("backbutton",()=>{if(M)return;let A=0,J=[];const V=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(R,G){J.push({priority:R,handler:G,id:A++})}}});F.dispatchEvent(V);const N=function(){var R=(0,S.Z)(function*(G){try{if(G?.handler){const pe=G.handler(L);null!=pe&&(yield pe)}}catch(pe){console.error(pe)}});return function(pe){return R.apply(this,arguments)}}(),L=()=>{if(J.length>0){let R={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};J.forEach(G=>{G.priority>=R.priority&&(R=G)}),M=!0,J=J.filter(G=>G.id!==R.id),N(R).then(()=>M=!1)}};L()})},X=100,H=99},4675:(Ce,Me,C)=>{"use strict";C.d(Me,{a:()=>A,b:()=>J,c:()=>K,d:()=>Se,e:()=>pe,f:()=>G,g:()=>V,h:()=>R,i:()=>M,j:()=>le,k:()=>H,l:()=>ie,m:()=>X,n:()=>L,o:()=>W,p:()=>ce,q:()=>Re,r:()=>N,s:()=>Fe,t:()=>S,u:()=>P,v:()=>ne});const S=(O,$=0)=>new Promise(re=>{d(O,$,re)}),d=(O,$=0,re)=>{let I,E;const T={passive:!0},me=()=>{I&&I()},We=Xe=>{(void 0===Xe||O===Xe.target)&&(me(),re(Xe))};return O&&(O.addEventListener("webkitTransitionEnd",We,T),O.addEventListener("transitionend",We,T),E=setTimeout(We,$+500),I=()=>{E&&(clearTimeout(E),E=void 0),O.removeEventListener("webkitTransitionEnd",We,T),O.removeEventListener("transitionend",We,T)}),me},K=(O,$)=>{O.componentOnReady?O.componentOnReady().then(re=>$(re)):N(()=>$(O))},X=O=>void 0!==O.componentOnReady,H=(O,$=[])=>{const re={};return $.forEach(I=>{O.hasAttribute(I)&&(null!==O.getAttribute(I)&&(re[I]=O.getAttribute(I)),O.removeAttribute(I))}),re},F=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],M=(O,$)=>{let re=F;return $&&$.length>0&&(re=re.filter(I=>!$.includes(I))),H(O,re)},A=(O,$,re,I)=>{var E;if(typeof window<"u"){const T=window,Q=null===(E=T?.Ionic)||void 0===E?void 0:E.config;if(Q){const me=Q.get("_ael");if(me)return me(O,$,re,I);if(Q._ael)return Q._ael(O,$,re,I)}}return O.addEventListener($,re,I)},J=(O,$,re,I)=>{var E;if(typeof window<"u"){const T=window,Q=null===(E=T?.Ionic)||void 0===E?void 0:E.config;if(Q){const me=Q.get("_rel");if(me)return me(O,$,re,I);if(Q._rel)return Q._rel(O,$,re,I)}}return O.removeEventListener($,re,I)},V=(O,$=O)=>O.shadowRoot||$,N=O=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(O):"function"==typeof requestAnimationFrame?requestAnimationFrame(O):setTimeout(O),L=O=>!!O.shadowRoot&&!!O.attachShadow,R=O=>{const $=O.closest("ion-item");return $?$.querySelector("ion-label"):null},G=O=>{if(O.focus(),O.classList.contains("ion-focusable")){const $=O.closest("ion-app");$&&$.setFocus([O])}},pe=(O,$)=>{let re;const I=O.getAttribute("aria-labelledby"),E=O.id;let T=null!==I&&""!==I.trim()?I:$+"-lbl",Q=null!==I&&""!==I.trim()?document.getElementById(I):R(O);return Q?(null===I&&(Q.id=T),re=Q.textContent,Q.setAttribute("aria-hidden","true")):""!==E.trim()&&(Q=document.querySelector(`label[for="${E}"]`),Q&&(""!==Q.id?T=Q.id:Q.id=T=`${E}-lbl`,re=Q.textContent)),{label:Q,labelId:T,labelText:re}},Se=(O,$,re,I,E)=>{if(O||L($)){let T=$.querySelector("input.aux-input");T||(T=$.ownerDocument.createElement("input"),T.type="hidden",T.classList.add("aux-input"),$.appendChild(T)),T.disabled=E,T.name=re,T.value=I||""}},ie=(O,$,re)=>Math.max(O,Math.min($,re)),W=(O,$)=>{if(!O){const re="ASSERT: "+$;throw console.error(re),new Error(re)}},P=O=>O.timeStamp||Date.now(),ne=O=>{if(O){const $=O.changedTouches;if($&&$.length>0){const re=$[0];return{x:re.clientX,y:re.clientY}}if(void 0!==O.pageX)return{x:O.pageX,y:O.pageY}}return{x:0,y:0}},ce=O=>{const $="rtl"===document.dir;switch(O){case"start":return $;case"end":return!$;default:throw new Error(`"${O}" is not a valid value for [side]. Use "start" or "end" instead.`)}},le=(O,$)=>{const re=O._original||O;return{_original:O,emit:Re(re.emit.bind(re),$)}},Re=(O,$=0)=>{let re;return(...I)=>{clearTimeout(re),re=setTimeout(O,$,...I)}},Fe=(O,$)=>{if(O??(O={}),$??($={}),O===$)return!0;const re=Object.keys(O);if(re.length!==Object.keys($).length)return!1;for(const I of re)if(!(I in $)||O[I]!==$[I])return!1;return!0}},4656:(Ce,Me,C)=>{"use strict";C.d(Me,{m:()=>R});var S=C(3918),d=C(6940),K=C(1940),X=C(6240),H=C(4675),F=C(5194),M=C(2723);const A=G=>(0,M.c)().duration(G?400:300),J=G=>{let pe,Se;const ie=G.width+8,W=(0,M.c)(),P=(0,M.c)();G.isEndSide?(pe=ie+"px",Se="0px"):(pe=-ie+"px",Se="0px"),W.addElement(G.menuInnerEl).fromTo("transform",`translateX(${pe})`,`translateX(${Se})`);const ce="ios"===(0,F.b)(G),le=ce?.2:.25;return P.addElement(G.backdropEl).fromTo("opacity",.01,le),A(ce).addAnimation([W,P])},V=G=>{let pe,Se;const ie=(0,F.b)(G),W=G.width;G.isEndSide?(pe=-W+"px",Se=W+"px"):(pe=W+"px",Se=-W+"px");const P=(0,M.c)().addElement(G.menuInnerEl).fromTo("transform",`translateX(${Se})`,"translateX(0px)"),ne=(0,M.c)().addElement(G.contentEl).fromTo("transform","translateX(0px)",`translateX(${pe})`),ce=(0,M.c)().addElement(G.backdropEl).fromTo("opacity",.01,.32);return A("ios"===ie).addAnimation([P,ne,ce])},N=G=>{const pe=(0,F.b)(G),Se=G.width*(G.isEndSide?-1:1)+"px",ie=(0,M.c)().addElement(G.contentEl).fromTo("transform","translateX(0px)",`translateX(${Se})`);return A("ios"===pe).addAnimation(ie)},R=(()=>{const G=new Map,pe=[],Se=function(){var ve=(0,S.Z)(function*(we){const tt=yield Re(we,!0);return!!tt&&tt.open()});return function(tt){return ve.apply(this,arguments)}}(),ie=function(){var ve=(0,S.Z)(function*(we){const tt=yield void 0!==we?Re(we,!0):Fe();return void 0!==tt&&tt.close()});return function(tt){return ve.apply(this,arguments)}}(),W=function(){var ve=(0,S.Z)(function*(we){const tt=yield Re(we,!0);return!!tt&&tt.toggle()});return function(tt){return ve.apply(this,arguments)}}(),P=function(){var ve=(0,S.Z)(function*(we,tt){const Dt=yield Re(tt);return Dt&&(Dt.disabled=!we),Dt});return function(tt,Dt){return ve.apply(this,arguments)}}(),ne=function(){var ve=(0,S.Z)(function*(we,tt){const Dt=yield Re(tt);return Dt&&(Dt.swipeGesture=we),Dt});return function(tt,Dt){return ve.apply(this,arguments)}}(),ce=function(){var ve=(0,S.Z)(function*(we){if(null!=we){const tt=yield Re(we);return void 0!==tt&&tt.isOpen()}return void 0!==(yield Fe())});return function(tt){return ve.apply(this,arguments)}}(),le=function(){var ve=(0,S.Z)(function*(we){const tt=yield Re(we);return!!tt&&!tt.disabled});return function(tt){return ve.apply(this,arguments)}}(),Re=function(){var ve=(0,S.Z)(function*(we,tt=!1){if(yield Le(),"start"===we||"end"===we){const fe=pe.filter(ct=>ct.side===we&&!ct.disabled);if(fe.length>=1)return fe.length>1&&tt&&(0,X.p)(`menuController queried for a menu on the "${we}" side, but ${fe.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,fe.map(ct=>ct.el)),fe[0].el;const Ge=pe.filter(ct=>ct.side===we);if(Ge.length>=1)return Ge.length>1&&tt&&(0,X.p)(`menuController queried for a menu on the "${we}" side, but ${Ge.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Ge.map(ct=>ct.el)),Ge[0].el}else if(null!=we)return ye(fe=>fe.menuId===we);return ye(fe=>!fe.disabled)||(pe.length>0?pe[0].el:void 0)});return function(tt){return ve.apply(this,arguments)}}(),Fe=function(){var ve=(0,S.Z)(function*(){return yield Le(),me()});return function(){return ve.apply(this,arguments)}}(),O=function(){var ve=(0,S.Z)(function*(){return yield Le(),We()});return function(){return ve.apply(this,arguments)}}(),$=function(){var ve=(0,S.Z)(function*(){return yield Le(),Xe()});return function(){return ve.apply(this,arguments)}}(),re=(ve,we)=>{G.set(ve,we)},T=function(){var ve=(0,S.Z)(function*(we,tt,Dt){if(Xe())return!1;if(tt){const fe=yield Fe();fe&&we.el!==fe&&(yield fe.setOpen(!1,!1))}return we._setOpen(tt,Dt)});return function(tt,Dt,fe){return ve.apply(this,arguments)}}(),me=()=>ye(ve=>ve._isOpen),We=()=>pe.map(ve=>ve.el),Xe=()=>pe.some(ve=>ve.isAnimating),ye=ve=>{const we=pe.find(ve);if(void 0!==we)return we.el},Le=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(ve=>new Promise(we=>(0,H.c)(ve,we))));return re("reveal",N),re("push",V),re("overlay",J),null==d.d||d.d.addEventListener("ionBackButton",ve=>{const we=me();we&&ve.detail.register(K.MENU_BACK_BUTTON_PRIORITY,()=>we.close())}),{registerAnimation:re,get:Re,getMenus:O,getOpen:Fe,isEnabled:le,swipeGesture:ne,isAnimating:$,isOpen:ce,enable:P,toggle:W,close:ie,open:Se,_getOpenSync:me,_createAnimation:(ve,we)=>{const tt=G.get(ve);if(!tt)throw new Error("animation not registered");return tt(we)},_register:ve=>{pe.indexOf(ve)<0&&pe.push(ve)},_unregister:ve=>{const we=pe.indexOf(ve);we>-1&&pe.splice(we,1)},_setOpen:T}})()},4923:(Ce,Me,C)=>{"use strict";C.r(Me),C.d(Me,{GESTURE_CONTROLLER:()=>S.G,createGesture:()=>J});var S=C(4967);const d=(R,G,pe,Se)=>{const ie=K(R)?{capture:!!Se.capture,passive:!!Se.passive}:!!Se.capture;let W,P;return R.__zone_symbol__addEventListener?(W="__zone_symbol__addEventListener",P="__zone_symbol__removeEventListener"):(W="addEventListener",P="removeEventListener"),R[W](G,pe,ie),()=>{R[P](G,pe,ie)}},K=R=>{if(void 0===X)try{const G=Object.defineProperty({},"passive",{get:()=>{X=!0}});R.addEventListener("optsTest",()=>{},G)}catch{X=!1}return!!X};let X;const M=R=>R instanceof Document?R:R.ownerDocument,J=R=>{let G=!1,pe=!1,Se=!0,ie=!1;const W=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},R),P=W.canStart,ne=W.onWillStart,ce=W.onStart,le=W.onEnd,Re=W.notCaptured,Fe=W.onMove,O=W.threshold,$=W.passive,re=W.blurOnStart,I={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},E=((R,G,pe)=>{const Se=pe*(Math.PI/180),ie="x"===R,W=Math.cos(Se),P=G*G;let ne=0,ce=0,le=!1,Re=0;return{start(Fe,O){ne=Fe,ce=O,Re=0,le=!0},detect(Fe,O){if(!le)return!1;const $=Fe-ne,re=O-ce,I=$*$+re*re;if(I<P)return!1;const E=Math.sqrt(I),T=(ie?$:re)/E;return Re=T>W?1:T<-W?-1:0,le=!1,!0},isGesture:()=>0!==Re,getDirection:()=>Re}})(W.direction,W.threshold,W.maxAngle),T=S.G.createGesture({name:R.gestureName,priority:R.gesturePriority,disableScroll:R.disableScroll}),We=()=>{G&&(ie=!1,Fe&&Fe(I))},Xe=()=>!!T.capture()&&(G=!0,Se=!1,I.startX=I.currentX,I.startY=I.currentY,I.startTime=I.currentTime,ne?ne(I).then(Le):Le(),!0),Le=()=>{re&&(()=>{if(typeof document<"u"){const fe=document.activeElement;fe?.blur&&fe.blur()}})(),ce&&ce(I),Se=!0},ve=()=>{G=!1,pe=!1,ie=!1,Se=!0,T.release()},we=fe=>{const Ge=G,ct=Se;if(ve(),ct){if(V(I,fe),Ge)return void(le&&le(I));Re&&Re(I)}},tt=((R,G,pe,Se,ie)=>{let W,P,ne,ce,le,Re,Fe,O=0;const $=ye=>{O=Date.now()+2e3,G(ye)&&(!P&&pe&&(P=d(R,"touchmove",pe,ie)),ne||(ne=d(ye.target,"touchend",I,ie)),ce||(ce=d(ye.target,"touchcancel",I,ie)))},re=ye=>{O>Date.now()||G(ye)&&(!Re&&pe&&(Re=d(M(R),"mousemove",pe,ie)),Fe||(Fe=d(M(R),"mouseup",E,ie)))},I=ye=>{T(),Se&&Se(ye)},E=ye=>{Q(),Se&&Se(ye)},T=()=>{P&&P(),ne&&ne(),ce&&ce(),P=ne=ce=void 0},Q=()=>{Re&&Re(),Fe&&Fe(),Re=Fe=void 0},me=()=>{T(),Q()},We=(ye=!0)=>{ye?(W||(W=d(R,"touchstart",$,ie)),le||(le=d(R,"mousedown",re,ie))):(W&&W(),le&&le(),W=le=void 0,me())};return{enable:We,stop:me,destroy:()=>{We(!1),Se=pe=G=void 0}}})(W.el,fe=>{const Ge=L(fe);return!(pe||!Se||(N(fe,I),I.startX=I.currentX,I.startY=I.currentY,I.startTime=I.currentTime=Ge,I.velocityX=I.velocityY=I.deltaX=I.deltaY=0,I.event=fe,P&&!1===P(I))||(T.release(),!T.start()))&&(pe=!0,0===O?Xe():(E.start(I.startX,I.startY),!0))},fe=>{G?!ie&&Se&&(ie=!0,V(I,fe),requestAnimationFrame(We)):(V(I,fe),E.detect(I.currentX,I.currentY)&&(!E.isGesture()||!Xe())&&Dt())},we,{capture:!1,passive:$}),Dt=()=>{ve(),tt.stop(),Re&&Re(I)};return{enable(fe=!0){fe||(G&&we(void 0),ve()),tt.enable(fe)},destroy(){T.destroy(),tt.destroy()}}},V=(R,G)=>{if(!G)return;const pe=R.currentX,Se=R.currentY,ie=R.currentTime;N(G,R);const W=R.currentX,P=R.currentY,ce=(R.currentTime=L(G))-ie;if(ce>0&&ce<100){const Re=(P-Se)/ce;R.velocityX=(W-pe)/ce*.7+.3*R.velocityX,R.velocityY=.7*Re+.3*R.velocityY}R.deltaX=W-R.startX,R.deltaY=P-R.startY,R.event=G},N=(R,G)=>{let pe=0,Se=0;if(R){const ie=R.changedTouches;if(ie&&ie.length>0){const W=ie[0];pe=W.clientX,Se=W.clientY}else void 0!==R.pageX&&(pe=R.pageX,Se=R.pageY)}G.currentX=pe,G.currentY=Se},L=R=>R.timeStamp||Date.now()},8044:(Ce,Me,C)=>{"use strict";C.d(Me,{b:()=>F,c:()=>M,d:()=>A,e:()=>O,g:()=>I,l:()=>Re,s:()=>$,t:()=>N,w:()=>Fe});var S=C(3918),d=C(3426),K=C(4675);const F="ionViewWillLeave",M="ionViewDidLeave",A="ionViewWillUnload",N=E=>new Promise((T,Q)=>{(0,d.w)(()=>{L(E),R(E).then(me=>{me.animation&&me.animation.destroy(),G(E),T(me)},me=>{G(E),Q(me)})})}),L=E=>{const T=E.enteringEl,Q=E.leavingEl;re(T,Q,E.direction),E.showGoBack?T.classList.add("can-go-back"):T.classList.remove("can-go-back"),$(T,!1),T.style.setProperty("pointer-events","none"),Q&&($(Q,!1),Q.style.setProperty("pointer-events","none"))},R=function(){var E=(0,S.Z)(function*(T){const Q=yield pe(T);return Q&&d.B.isBrowser?Se(Q,T):ie(T)});return function(Q){return E.apply(this,arguments)}}(),G=E=>{const T=E.enteringEl,Q=E.leavingEl;T.classList.remove("ion-page-invisible"),T.style.removeProperty("pointer-events"),void 0!==Q&&(Q.classList.remove("ion-page-invisible"),Q.style.removeProperty("pointer-events"))},pe=function(){var E=(0,S.Z)(function*(T){return T.leavingEl&&T.animated&&0!==T.duration?T.animationBuilder?T.animationBuilder:"ios"===T.mode?(yield Promise.resolve().then(C.bind(C,5444))).iosTransitionAnimation:(yield Promise.resolve().then(C.bind(C,5922))).mdTransitionAnimation:void 0});return function(Q){return E.apply(this,arguments)}}(),Se=function(){var E=(0,S.Z)(function*(T,Q){yield W(Q,!0);const me=T(Q.baseEl,Q);ce(Q.enteringEl,Q.leavingEl);const We=yield ne(me,Q);return Q.progressCallback&&Q.progressCallback(void 0),We&&le(Q.enteringEl,Q.leavingEl),{hasCompleted:We,animation:me}});return function(Q,me){return E.apply(this,arguments)}}(),ie=function(){var E=(0,S.Z)(function*(T){const Q=T.enteringEl,me=T.leavingEl;return yield W(T,!1),ce(Q,me),le(Q,me),{hasCompleted:!0}});return function(Q){return E.apply(this,arguments)}}(),W=function(){var E=(0,S.Z)(function*(T,Q){(void 0!==T.deepWait?T.deepWait:Q)&&(yield Promise.all([O(T.enteringEl),O(T.leavingEl)])),yield P(T.viewIsReady,T.enteringEl)});return function(Q,me){return E.apply(this,arguments)}}(),P=function(){var E=(0,S.Z)(function*(T,Q){T&&(yield T(Q))});return function(Q,me){return E.apply(this,arguments)}}(),ne=(E,T)=>{const Q=T.progressCallback,me=new Promise(We=>{E.onFinish(Xe=>We(1===Xe))});return Q?(E.progressStart(!0),Q(E)):E.play(),me},ce=(E,T)=>{Re(T,F),Re(E,"ionViewWillEnter")},le=(E,T)=>{Re(E,"ionViewDidEnter"),Re(T,M)},Re=(E,T)=>{if(E){const Q=new CustomEvent(T,{bubbles:!1,cancelable:!1});E.dispatchEvent(Q)}},Fe=()=>new Promise(E=>(0,K.r)(()=>(0,K.r)(()=>E()))),O=function(){var E=(0,S.Z)(function*(T){const Q=T;if(Q){if(null!=Q.componentOnReady){if(null!=(yield Q.componentOnReady()))return}else if(null!=Q.__registerHost)return void(yield new Promise(We=>(0,K.r)(We)));yield Promise.all(Array.from(Q.children).map(O))}});return function(Q){return E.apply(this,arguments)}}(),$=(E,T)=>{T?(E.setAttribute("aria-hidden","true"),E.classList.add("ion-page-hidden")):(E.hidden=!1,E.removeAttribute("aria-hidden"),E.classList.remove("ion-page-hidden"))},re=(E,T,Q)=>{void 0!==E&&(E.style.zIndex="back"===Q?"99":"101"),void 0!==T&&(T.style.zIndex="100")},I=E=>E.classList.contains("ion-page")?E:E.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||E},6240:(Ce,Me,C)=>{"use strict";C.d(Me,{a:()=>d,b:()=>K,p:()=>S});const S=(X,...H)=>console.warn(`[Ionic Warning]: ${X}`,...H),d=(X,...H)=>console.error(`[Ionic Error]: ${X}`,...H),K=(X,...H)=>console.error(`<${X.tagName.toLowerCase()}> must be used inside ${H.join(" or ")}.`)},6940:(Ce,Me,C)=>{"use strict";C.d(Me,{d:()=>d,w:()=>S});const S=typeof window<"u"?window:void 0,d=typeof document<"u"?document:void 0},3426:(Ce,Me,C)=>{"use strict";C.d(Me,{B:()=>L,H:()=>Xe,a:()=>Ys,b:()=>Ss,c:()=>ct,d:()=>Et,e:()=>Rl,f:()=>Bt,g:()=>ze,h:()=>me,i:()=>Vo,j:()=>R,r:()=>pi,w:()=>os});var S=C(3918);let X,H,F,M=!1,A=!1,J=!1,V=!1,N=!1;const L={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},R=g=>{const w=new URL(g,Tn.$resourcesUrl$);return w.origin!==Jo.location.origin?w.href:w.pathname},ne="s-id",ce="sty-id",Fe="slot-fb{display:contents}slot-fb[hidden]{display:none}",O="http://www.w3.org/1999/xlink",$={},T=g=>"object"==(g=typeof g)||"function"===g;function Q(g){var w,D,ae;return null!==(ae=null===(D=null===(w=g.head)||void 0===w?void 0:w.querySelector('meta[name="csp-nonce"]'))||void 0===D?void 0:D.getAttribute("content"))&&void 0!==ae?ae:void 0}const me=(g,w,...D)=>{let ae=null,Oe=null,de=null,et=!1,Qe=!1;const it=[],Ue=It=>{for(let U=0;U<It.length;U++)ae=It[U],Array.isArray(ae)?Ue(ae):null!=ae&&"boolean"!=typeof ae&&((et="function"!=typeof g&&!T(ae))&&(ae=String(ae)),et&&Qe?it[it.length-1].$text$+=ae:it.push(et?We(null,ae):ae),Qe=et)};if(Ue(D),w){w.key&&(Oe=w.key),w.name&&(de=w.name);{const It=w.className||w.class;It&&(w.class="object"!=typeof It?It:Object.keys(It).filter(U=>It[U]).join(" "))}}if("function"==typeof g)return g(null===w?{}:w,it,Le);const ht=We(g,null);return ht.$attrs$=w,it.length>0&&(ht.$children$=it),ht.$key$=Oe,ht.$name$=de,ht},We=(g,w)=>({$flags$:0,$tag$:g,$text$:w,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Xe={},Le={forEach:(g,w)=>g.map(ve).forEach(w),map:(g,w)=>g.map(ve).map(w).map(we)},ve=g=>({vattrs:g.$attrs$,vchildren:g.$children$,vkey:g.$key$,vname:g.$name$,vtag:g.$tag$,vtext:g.$text$}),we=g=>{if("function"==typeof g.vtag){const D=Object.assign({},g.vattrs);return g.vkey&&(D.key=g.vkey),g.vname&&(D.name=g.vname),me(g.vtag,D,...g.vchildren||[])}const w=We(g.vtag,g.vtext);return w.$attrs$=g.vattrs,w.$children$=g.vchildren,w.$key$=g.vkey,w.$name$=g.vname,w},Dt=(g,w,D,ae,Oe,de,et)=>{let Qe,it,Ue,ht;if(1===de.nodeType){for(Qe=de.getAttribute("c-id"),Qe&&(it=Qe.split("."),(it[0]===et||"0"===it[0])&&(Ue={$flags$:0,$hostId$:it[0],$nodeId$:it[1],$depth$:it[2],$index$:it[3],$tag$:de.tagName.toLowerCase(),$elm$:de,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},w.push(Ue),de.removeAttribute("c-id"),g.$children$||(g.$children$=[]),g.$children$[Ue.$index$]=Ue,g=Ue,ae&&"0"===Ue.$depth$&&(ae[Ue.$index$]=Ue.$elm$))),ht=de.childNodes.length-1;ht>=0;ht--)Dt(g,w,D,ae,Oe,de.childNodes[ht],et);if(de.shadowRoot)for(ht=de.shadowRoot.childNodes.length-1;ht>=0;ht--)Dt(g,w,D,ae,Oe,de.shadowRoot.childNodes[ht],et)}else if(8===de.nodeType)it=de.nodeValue.split("."),(it[1]===et||"0"===it[1])&&(Qe=it[0],Ue={$flags$:0,$hostId$:it[1],$nodeId$:it[2],$depth$:it[3],$index$:it[4],$elm$:de,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Qe?(Ue.$elm$=de.nextSibling,Ue.$elm$&&3===Ue.$elm$.nodeType&&(Ue.$text$=Ue.$elm$.textContent,w.push(Ue),de.remove(),g.$children$||(g.$children$=[]),g.$children$[Ue.$index$]=Ue,ae&&"0"===Ue.$depth$&&(ae[Ue.$index$]=Ue.$elm$))):Ue.$hostId$===et&&("s"===Qe?(Ue.$tag$="slot",de["s-sn"]=it[5]?Ue.$name$=it[5]:"",de["s-sr"]=!0,ae&&(Ue.$elm$=yr.createElement(Ue.$tag$),Ue.$name$&&Ue.$elm$.setAttribute("name",Ue.$name$),de.parentNode.insertBefore(Ue.$elm$,de),de.remove(),"0"===Ue.$depth$&&(ae[Ue.$index$]=Ue.$elm$)),D.push(Ue),g.$children$||(g.$children$=[]),g.$children$[Ue.$index$]=Ue):"r"===Qe&&(ae?de.remove():(Oe["s-cr"]=de,de["s-cn"]=!0))));else if(g&&"style"===g.$tag$){const It=We(null,de.textContent);It.$elm$=de,It.$index$="0",g.$children$=[It]}},fe=(g,w)=>{if(1===g.nodeType){let D=0;for(;D<g.childNodes.length;D++)fe(g.childNodes[D],w);if(g.shadowRoot)for(D=0;D<g.shadowRoot.childNodes.length;D++)fe(g.shadowRoot.childNodes[D],w)}else if(8===g.nodeType){const D=g.nodeValue.split(".");"o"===D[0]&&(w.set(D[1]+"."+D[2],g),g.nodeValue="",g["s-en"]=D[3])}},ct=g=>Ao.push(g),ze=g=>Kr(g).$modeName$,Bt=g=>Kr(g).$hostElement$,Et=(g,w,D)=>{const ae=Bt(g);return{emit:Oe=>xe(ae,w,{bubbles:!!(4&D),composed:!!(2&D),cancelable:!!(1&D),detail:Oe})}},xe=(g,w,D)=>{const ae=Tn.ce(w,D);return g.dispatchEvent(ae),ae},be=new WeakMap,ke=(g,w,D)=>{let ae=Xr.get(g);ha&&D?(ae=ae||new CSSStyleSheet,"string"==typeof ae?ae=w:ae.replaceSync(w)):ae=w,Xr.set(g,ae)},nt=(g,w,D)=>{var ae;const Oe=zt(w,D),de=Xr.get(Oe);if(g=11===g.nodeType?g:yr,de)if("string"==typeof de){let Qe,et=be.get(g=g.head||g);if(et||be.set(g,et=new Set),!et.has(Oe)){if(g.host&&(Qe=g.querySelector(`[${ce}="${Oe}"]`)))Qe.innerHTML=de;else{Qe=yr.createElement("style"),Qe.innerHTML=de;const it=null!==(ae=Tn.$nonce$)&&void 0!==ae?ae:Q(yr);null!=it&&Qe.setAttribute("nonce",it),g.insertBefore(Qe,g.querySelector("link"))}4&w.$flags$&&(Qe.innerHTML+=Fe),et&&et.add(Oe)}}else g.adoptedStyleSheets.includes(de)||(g.adoptedStyleSheets=[...g.adoptedStyleSheets,de]);return Oe},zt=(g,w)=>"sc-"+(w&&32&g.$flags$?g.$tagName$+"-"+w:g.$tagName$),on=g=>g.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),$t=(g,w,D,ae,Oe,de)=>{if(D!==ae){let et=Li(g,w),Qe=w.toLowerCase();if("class"===w){const it=g.classList,Ue=Sn(D),ht=Sn(ae);it.remove(...Ue.filter(It=>It&&!ht.includes(It))),it.add(...ht.filter(It=>It&&!Ue.includes(It)))}else if("style"===w){for(const it in D)(!ae||null==ae[it])&&(it.includes("-")?g.style.removeProperty(it):g.style[it]="");for(const it in ae)(!D||ae[it]!==D[it])&&(it.includes("-")?g.style.setProperty(it,ae[it]):g.style[it]=ae[it])}else if("key"!==w)if("ref"===w)ae&&ae(g);else if(et||"o"!==w[0]||"n"!==w[1]){const it=T(ae);if((et||it&&null!==ae)&&!Oe)try{if(g.tagName.includes("-"))g[w]=ae;else{const ht=ae??"";"list"===w?et=!1:(null==D||g[w]!=ht)&&(g[w]=ht)}}catch{}let Ue=!1;Qe!==(Qe=Qe.replace(/^xlink\:?/,""))&&(w=Qe,Ue=!0),null==ae||!1===ae?(!1!==ae||""===g.getAttribute(w))&&(Ue?g.removeAttributeNS(O,w):g.removeAttribute(w)):(!et||4&de||Oe)&&!it&&(ae=!0===ae?"":ae,Ue?g.setAttributeNS(O,w,ae):g.setAttribute(w,ae))}else if(w="-"===w[2]?w.slice(3):Li(Jo,Qe)?Qe.slice(2):Qe[2]+w.slice(3),D||ae){const it=w.endsWith(gr);w=w.replace(Pn,""),D&&Tn.rel(g,w,D,it),ae&&Tn.ael(g,w,ae,it)}}},sn=/\s/,Sn=g=>g?g.split(sn):[],gr="Capture",Pn=new RegExp(gr+"$"),Ko=(g,w,D,ae)=>{const Oe=11===w.$elm$.nodeType&&w.$elm$.host?w.$elm$.host:w.$elm$,de=g&&g.$attrs$||$,et=w.$attrs$||$;for(ae in de)ae in et||$t(Oe,ae,de[ae],void 0,D,w.$flags$);for(ae in et)$t(Oe,ae,de[ae],et[ae],D,w.$flags$)},Vr=(g,w,D,ae)=>{var Oe;const de=w.$children$[D];let Qe,it,Ue,et=0;if(M||(J=!0,"slot"===de.$tag$&&(X&&ae.classList.add(X+"-s"),de.$flags$|=de.$children$?2:1)),null!==de.$text$)Qe=de.$elm$=yr.createTextNode(de.$text$);else if(1&de.$flags$)Qe=de.$elm$=yr.createTextNode("");else{if(V||(V="svg"===de.$tag$),Qe=de.$elm$=yr.createElementNS(V?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&de.$flags$?"slot-fb":de.$tag$),V&&"foreignObject"===de.$tag$&&(V=!1),Ko(null,de,V),(g=>null!=g)(X)&&Qe["s-si"]!==X&&Qe.classList.add(Qe["s-si"]=X),de.$children$)for(et=0;et<de.$children$.length;++et)it=Vr(g,de,et,Qe),it&&Qe.appendChild(it);"svg"===de.$tag$?V=!1:"foreignObject"===Qe.tagName&&(V=!0)}return Qe["s-hn"]=F,3&de.$flags$&&(Qe["s-sr"]=!0,Qe["s-fs"]=null===(Oe=de.$attrs$)||void 0===Oe?void 0:Oe.slot,Qe["s-cr"]=H,Qe["s-sn"]=de.$name$||"",Ue=g&&g.$children$&&g.$children$[D],Ue&&Ue.$tag$===de.$tag$&&g.$elm$&&vo(g.$elm$,!1)),Qe},vo=(g,w)=>{var D;Tn.$flags$|=1;const ae=g.childNodes;for(let Oe=ae.length-1;Oe>=0;Oe--){const de=ae[Oe];de["s-hn"]!==F&&de["s-ol"]&&(yo(de).insertBefore(de,lo(de)),de["s-ol"].remove(),de["s-ol"]=void 0,de["s-sh"]=void 0,1===de.nodeType&&de.setAttribute("slot",null!==(D=de["s-sn"])&&void 0!==D?D:""),J=!0),w&&vo(de,w)}Tn.$flags$&=-2},Pr=(g,w,D,ae,Oe,de)=>{let Qe,et=g["s-cr"]&&g["s-cr"].parentNode||g;for(et.shadowRoot&&et.tagName===F&&(et=et.shadowRoot);Oe<=de;++Oe)ae[Oe]&&(Qe=Vr(null,D,Oe,g),Qe&&(ae[Oe].$elm$=Qe,et.insertBefore(Qe,lo(w))))},Or=(g,w,D)=>{for(let ae=w;ae<=D;++ae){const Oe=g[ae];if(Oe){const de=Oe.$elm$;yn(Oe),de&&(A=!0,de["s-ol"]?de["s-ol"].remove():vo(de,!0),de.remove())}}},Mo=(g,w)=>g.$tag$===w.$tag$&&("slot"===g.$tag$?g.$name$===w.$name$:g.$key$===w.$key$),lo=g=>g&&g["s-ol"]||g,yo=g=>(g["s-ol"]?g["s-ol"]:g).parentNode,jr=(g,w)=>{const D=w.$elm$=g.$elm$,ae=g.$children$,Oe=w.$children$,de=w.$tag$,et=w.$text$;let Qe;null===et?(V="svg"===de||"foreignObject"!==de&&V,"slot"===de||Ko(g,w,V),null!==ae&&null!==Oe?((g,w,D,ae)=>{let ur,Fr,Oe=0,de=0,et=0,Qe=0,it=w.length-1,Ue=w[0],ht=w[it],It=ae.length-1,U=ae[0],An=ae[It];for(;Oe<=it&&de<=It;)if(null==Ue)Ue=w[++Oe];else if(null==ht)ht=w[--it];else if(null==U)U=ae[++de];else if(null==An)An=ae[--It];else if(Mo(Ue,U))jr(Ue,U),Ue=w[++Oe],U=ae[++de];else if(Mo(ht,An))jr(ht,An),ht=w[--it],An=ae[--It];else if(Mo(Ue,An))("slot"===Ue.$tag$||"slot"===An.$tag$)&&vo(Ue.$elm$.parentNode,!1),jr(Ue,An),g.insertBefore(Ue.$elm$,ht.$elm$.nextSibling),Ue=w[++Oe],An=ae[--It];else if(Mo(ht,U))("slot"===Ue.$tag$||"slot"===An.$tag$)&&vo(ht.$elm$.parentNode,!1),jr(ht,U),g.insertBefore(ht.$elm$,Ue.$elm$),ht=w[--it],U=ae[++de];else{for(et=-1,Qe=Oe;Qe<=it;++Qe)if(w[Qe]&&null!==w[Qe].$key$&&w[Qe].$key$===U.$key$){et=Qe;break}et>=0?(Fr=w[et],Fr.$tag$!==U.$tag$?ur=Vr(w&&w[de],D,et,g):(jr(Fr,U),w[et]=void 0,ur=Fr.$elm$),U=ae[++de]):(ur=Vr(w&&w[de],D,de,g),U=ae[++de]),ur&&yo(Ue.$elm$).insertBefore(ur,lo(Ue.$elm$))}Oe>it?Pr(g,null==ae[It+1]?null:ae[It+1].$elm$,D,ae,de,It):de>It&&Or(w,Oe,it)})(D,ae,w,Oe):null!==Oe?(null!==g.$text$&&(D.textContent=""),Pr(D,null,w,Oe,0,Oe.length-1)):null!==ae&&Or(ae,0,ae.length-1),V&&"svg"===de&&(V=!1)):(Qe=D["s-cr"])?Qe.parentNode.textContent=et:g.$text$!==et&&(D.data=et)},he=g=>{const w=g.childNodes;for(const D of w)if(1===D.nodeType){if(D["s-sr"]){const ae=D["s-sn"];D.hidden=!1;for(const Oe of w)if(Oe!==D)if(Oe["s-hn"]!==D["s-hn"]||""!==ae){if(1===Oe.nodeType&&(ae===Oe.getAttribute("slot")||ae===Oe["s-sn"])){D.hidden=!0;break}}else if(1===Oe.nodeType||3===Oe.nodeType&&""!==Oe.textContent.trim()){D.hidden=!0;break}}he(D)}},Te=[],Qt=g=>{let w,D,ae;for(const Oe of g.childNodes){if(Oe["s-sr"]&&(w=Oe["s-cr"])&&w.parentNode){D=w.parentNode.childNodes;const de=Oe["s-sn"];for(ae=D.length-1;ae>=0;ae--)if(w=D[ae],!w["s-cn"]&&!w["s-nr"]&&w["s-hn"]!==Oe["s-hn"])if(Wt(w,de)){let et=Te.find(Qe=>Qe.$nodeToRelocate$===w);A=!0,w["s-sn"]=w["s-sn"]||de,et?(et.$nodeToRelocate$["s-sh"]=Oe["s-hn"],et.$slotRefNode$=Oe):(w["s-sh"]=Oe["s-hn"],Te.push({$slotRefNode$:Oe,$nodeToRelocate$:w})),w["s-sr"]&&Te.map(Qe=>{Wt(Qe.$nodeToRelocate$,w["s-sn"])&&(et=Te.find(it=>it.$nodeToRelocate$===w),et&&!Qe.$slotRefNode$&&(Qe.$slotRefNode$=et.$slotRefNode$))})}else Te.some(et=>et.$nodeToRelocate$===w)||Te.push({$nodeToRelocate$:w})}1===Oe.nodeType&&Qt(Oe)}},Wt=(g,w)=>1===g.nodeType?null===g.getAttribute("slot")&&""===w||g.getAttribute("slot")===w:g["s-sn"]===w||""===w,yn=g=>{g.$attrs$&&g.$attrs$.ref&&g.$attrs$.ref(null),g.$children$&&g.$children$.map(yn)},Dr=(g,w)=>{w&&!g.$onRenderResolve$&&w["s-p"]&&w["s-p"].push(new Promise(D=>g.$onRenderResolve$=D))},zn=(g,w)=>{if(g.$flags$|=16,!(4&g.$flags$))return Dr(g,g.$ancestorComponent$),os(()=>Yr(g,w));g.$flags$|=512},Yr=(g,w)=>{const ae=g.$lazyInstance$;let Oe;return w&&(g.$flags$|=256,g.$queuedListeners$&&(g.$queuedListeners$.map(([de,et])=>_r(ae,de,et)),g.$queuedListeners$=void 0),Oe=_r(ae,"componentWillLoad")),Oe=bo(Oe,()=>_r(ae,"componentWillRender")),bo(Oe,()=>co(g,ae,w))},bo=(g,w)=>In(g)?g.then(w):w(),In=g=>g instanceof Promise||g&&g.then&&"function"==typeof g.then,co=function(){var g=(0,S.Z)(function*(w,D,ae){var Oe;const de=w.$hostElement$,Qe=de["s-rc"];ae&&(g=>{const w=g.$cmpMeta$,D=g.$hostElement$,ae=w.$flags$,de=nt(D.shadowRoot?D.shadowRoot:D.getRootNode(),w,g.$modeName$);10&ae&&(D["s-sc"]=de,D.classList.add(de+"-h"),2&ae&&D.classList.add(de+"-s"))})(w);uo(w,D,de,ae),Qe&&(Qe.map(Ue=>Ue()),de["s-rc"]=void 0);{const Ue=null!==(Oe=de["s-p"])&&void 0!==Oe?Oe:[],ht=()=>Oi(w);0===Ue.length?ht():(Promise.all(Ue).then(ht),w.$flags$|=4,Ue.length=0)}});return function(D,ae,Oe){return g.apply(this,arguments)}}(),uo=(g,w,D,ae)=>{try{w=w.render&&w.render(),g.$flags$&=-17,g.$flags$|=2,((g,w,D=!1)=>{var ae,Oe,de,et;const Qe=g.$hostElement$,it=g.$cmpMeta$,Ue=g.$vnode$||We(null,null),ht=(g=>g&&g.$tag$===Xe)(w)?w:me(null,null,w);if(F=Qe.tagName,it.$attrsToReflect$&&(ht.$attrs$=ht.$attrs$||{},it.$attrsToReflect$.map(([It,U])=>ht.$attrs$[U]=Qe[It])),D&&ht.$attrs$)for(const It of Object.keys(ht.$attrs$))Qe.hasAttribute(It)&&!["key","ref","style","class"].includes(It)&&(ht.$attrs$[It]=Qe[It]);if(ht.$tag$=null,ht.$flags$|=4,g.$vnode$=ht,ht.$elm$=Ue.$elm$=Qe.shadowRoot||Qe,X=Qe["s-sc"],H=Qe["s-cr"],M=0!=(1&it.$flags$),A=!1,jr(Ue,ht),Tn.$flags$|=1,J){Qt(ht.$elm$);for(const It of Te){const U=It.$nodeToRelocate$;if(!U["s-ol"]){const An=yr.createTextNode("");An["s-nr"]=U,U.parentNode.insertBefore(U["s-ol"]=An,U)}}for(const It of Te){const U=It.$nodeToRelocate$,An=It.$slotRefNode$;if(An){const ur=An.parentNode;let Fr=An.nextSibling;{let Gr=null===(ae=U["s-ol"])||void 0===ae?void 0:ae.previousSibling;for(;Gr;){let Xn=null!==(Oe=Gr["s-nr"])&&void 0!==Oe?Oe:null;if(Xn&&Xn["s-sn"]===U["s-sn"]&&ur===Xn.parentNode&&(Xn=Xn.nextSibling,!Xn||!Xn["s-nr"])){Fr=Xn;break}Gr=Gr.previousSibling}}(!Fr&&ur!==U.parentNode||U.nextSibling!==Fr)&&U!==Fr&&(!U["s-hn"]&&U["s-ol"]&&(U["s-hn"]=U["s-ol"].parentNode.nodeName),ur.insertBefore(U,Fr),1===U.nodeType&&(U.hidden=null!==(de=U["s-ih"])&&void 0!==de&&de))}else 1===U.nodeType&&(D&&(U["s-ih"]=null!==(et=U.hidden)&&void 0!==et&&et),U.hidden=!0)}}A&&he(ht.$elm$),Tn.$flags$&=-2,Te.length=0})(g,w,ae)}catch(Oe){Co(Oe,g.$hostElement$)}return null},Oi=g=>{const D=g.$hostElement$,Oe=g.$lazyInstance$,de=g.$ancestorComponent$;_r(Oe,"componentDidRender"),64&g.$flags$?_r(Oe,"componentDidUpdate"):(g.$flags$|=64,vr(D),_r(Oe,"componentDidLoad"),g.$onReadyResolve$(D),de||On()),g.$onInstanceResolve$(D),g.$onRenderResolve$&&(g.$onRenderResolve$(),g.$onRenderResolve$=void 0),512&g.$flags$&&rt(()=>zn(g,!1)),g.$flags$&=-517},Vo=g=>{{const w=Kr(g),D=w.$hostElement$.isConnected;return D&&2==(18&w.$flags$)&&zn(w,!1),D}},On=g=>{vr(yr.documentElement),rt(()=>xe(Jo,"appload",{detail:{namespace:"ionic"}}))},_r=(g,w,D)=>{if(g&&g[w])try{return g[w](D)}catch(ae){Co(ae)}},vr=g=>g.classList.add("hydrated"),Xo=(g,w,D)=>{var ae;const Oe=g.prototype;if(w.$members$){g.watchers&&(w.$watchers$=g.watchers);const de=Object.entries(w.$members$);if(de.map(([et,[Qe]])=>{31&Qe||2&D&&32&Qe?Object.defineProperty(Oe,et,{get(){return((g,w)=>Kr(this).$instanceValues$.get(w))(0,et)},set(it){((g,w,D,ae)=>{const Oe=Kr(g),de=Oe.$hostElement$,et=Oe.$instanceValues$.get(w),Qe=Oe.$flags$,it=Oe.$lazyInstance$;D=((g,w)=>null==g||T(g)?g:4&w?"false"!==g&&(""===g||!!g):2&w?parseFloat(g):1&w?String(g):g)(D,ae.$members$[w][0]);const Ue=Number.isNaN(et)&&Number.isNaN(D);if((!(8&Qe)||void 0===et)&&D!==et&&!Ue&&(Oe.$instanceValues$.set(w,D),it)){if(ae.$watchers$&&128&Qe){const It=ae.$watchers$[w];It&&It.map(U=>{try{it[U](D,et,w)}catch(An){Co(An,de)}})}2==(18&Qe)&&zn(Oe,!1)}})(this,et,it,w)},configurable:!0,enumerable:!0}):1&D&&64&Qe&&Object.defineProperty(Oe,et,{value(...it){var Ue;const ht=Kr(this);return null===(Ue=ht?.$onInstancePromise$)||void 0===Ue?void 0:Ue.then(()=>{var It;return null===(It=ht.$lazyInstance$)||void 0===It?void 0:It[et](...it)})}})}),1&D){const et=new Map;Oe.attributeChangedCallback=function(Qe,it,Ue){Tn.jmp(()=>{var ht;const It=et.get(Qe);if(this.hasOwnProperty(It))Ue=this[It],delete this[It];else{if(Oe.hasOwnProperty(It)&&"number"==typeof this[It]&&this[It]==Ue)return;if(null==It){const U=Kr(this),An=U?.$flags$;if(An&&!(8&An)&&128&An&&Ue!==it){const ur=U.$lazyInstance$,Fr=null===(ht=w.$watchers$)||void 0===ht?void 0:ht[Qe];Fr?.forEach(Gr=>{null!=ur[Gr]&&ur[Gr].call(ur,Ue,it,Qe)})}return}}this[It]=(null!==Ue||"boolean"!=typeof this[It])&&Ue})},g.observedAttributes=Array.from(new Set([...Object.keys(null!==(ae=w.$watchers$)&&void 0!==ae?ae:{}),...de.filter(([Qe,it])=>15&it[0]).map(([Qe,it])=>{var Ue;const ht=it[1]||Qe;return et.set(ht,Qe),512&it[0]&&(null===(Ue=w.$attrsToReflect$)||void 0===Ue||Ue.push([Qe,ht])),ht})]))}}return g},an=function(){var g=(0,S.Z)(function*(w,D,ae,Oe){let de;if(!(32&D.$flags$)){D.$flags$|=32;{if(de=qs(ae),de.then){const Ue=()=>{};de=yield de,Ue()}de.isProxied||(ae.$watchers$=de.watchers,Xo(de,ae,2),de.isProxied=!0);const it=()=>{};D.$flags$|=8;try{new de(D)}catch(Ue){Co(Ue)}D.$flags$&=-9,D.$flags$|=128,it(),di(D.$lazyInstance$)}if(de.style){let it=de.style;"string"!=typeof it&&(it=it[D.$modeName$=(g=>Ao.map(w=>w(g)).find(w=>!!w))(w)]);const Ue=zt(ae,D.$modeName$);if(!Xr.has(Ue)){const ht=()=>{};ke(Ue,it,!!(1&ae.$flags$)),ht()}}}const et=D.$ancestorComponent$,Qe=()=>zn(D,!0);et&&et["s-rc"]?et["s-rc"].push(Qe):Qe()});return function(D,ae,Oe,de){return g.apply(this,arguments)}}(),di=g=>{_r(g,"connectedCallback")},fi=g=>{const w=g["s-cr"]=yr.createComment("");w["s-cn"]=!0,g.insertBefore(w,g.firstChild)},Di=g=>{_r(g,"disconnectedCallback")},oe=function(){var g=(0,S.Z)(function*(w){if(!(1&Tn.$flags$)){const D=Kr(w);D.$rmListeners$&&(D.$rmListeners$.map(ae=>ae()),D.$rmListeners$=void 0),D?.$lazyInstance$?Di(D.$lazyInstance$):D?.$onReadyPromise$&&D.$onReadyPromise$.then(()=>Di(D.$lazyInstance$))}});return function(D){return g.apply(this,arguments)}}(),Ss=(g,w={})=>{var D;const Oe=[],de=w.exclude||[],et=Jo.customElements,Qe=yr.head,it=Qe.querySelector("meta[charset]"),Ue=yr.createElement("style"),ht=[],It=yr.querySelectorAll(`[${ce}]`);let U,An=!0,ur=0;for(Object.assign(Tn,w),Tn.$resourcesUrl$=new URL(w.resourcesUrl||"./",yr.baseURI).href,Tn.$flags$|=2;ur<It.length;ur++)ke(It[ur].getAttribute(ce),on(It[ur].innerHTML),!0);let Fr=!1;if(g.map(Gr=>{Gr[1].map(Xn=>{var Ms;const Vn={$flags$:Xn[0],$tagName$:Xn[1],$members$:Xn[2],$listeners$:Xn[3]};4&Vn.$flags$&&(Fr=!0),Vn.$members$=Xn[2],Vn.$listeners$=Xn[3],Vn.$attrsToReflect$=[],Vn.$watchers$=null!==(Ms=Xn[4])&&void 0!==Ms?Ms:{};const jo=Vn.$tagName$,ko=class extends HTMLElement{constructor(is){super(is),fa(is=this,Vn),1&Vn.$flags$&&is.attachShadow({mode:"open",delegatesFocus:!!(16&Vn.$flags$)})}connectedCallback(){U&&(clearTimeout(U),U=null),An?ht.push(this):Tn.jmp(()=>(g=>{if(!(1&Tn.$flags$)){const w=Kr(g),D=w.$cmpMeta$,ae=()=>{};if(1&w.$flags$)Ni(g,w,D.$listeners$),w?.$lazyInstance$?di(w.$lazyInstance$):w?.$onReadyPromise$&&w.$onReadyPromise$.then(()=>di(w.$lazyInstance$));else{let Oe;if(w.$flags$|=1,Oe=g.getAttribute(ne),Oe){if(1&D.$flags$){const de=nt(g.shadowRoot,D,g.getAttribute("s-mode"));g.classList.remove(de+"-h",de+"-s")}((g,w,D,ae)=>{const de=g.shadowRoot,et=[],it=de?[]:null,Ue=ae.$vnode$=We(w,null);Tn.$orgLocNodes$||fe(yr.body,Tn.$orgLocNodes$=new Map),g[ne]=D,g.removeAttribute(ne),Dt(Ue,et,[],it,g,g,D),et.map(ht=>{const It=ht.$hostId$+"."+ht.$nodeId$,U=Tn.$orgLocNodes$.get(It),An=ht.$elm$;U&&pa&&""===U["s-en"]&&U.parentNode.insertBefore(An,U.nextSibling),de||(An["s-hn"]=w,U&&(An["s-ol"]=U,An["s-ol"]["s-nr"]=An)),Tn.$orgLocNodes$.delete(It)}),de&&it.map(ht=>{ht&&de.appendChild(ht)})})(g,D.$tagName$,Oe,w)}Oe||12&D.$flags$&&fi(g);{let de=g;for(;de=de.parentNode||de.host;)if(1===de.nodeType&&de.hasAttribute("s-id")&&de["s-p"]||de["s-p"]){Dr(w,w.$ancestorComponent$=de);break}}D.$members$&&Object.entries(D.$members$).map(([de,[et]])=>{if(31&et&&g.hasOwnProperty(de)){const Qe=g[de];delete g[de],g[de]=Qe}}),an(g,w,D)}ae()}})(this))}disconnectedCallback(){Tn.jmp(()=>oe(this))}componentOnReady(){return Kr(this).$onReadyPromise$}};Vn.$lazyBundleId$=Gr[0],!de.includes(jo)&&!et.get(jo)&&(Oe.push(jo),et.define(jo,Xo(ko,Vn,1)))})}),Fr&&(Ue.innerHTML+=Fe),Ue.innerHTML+=Oe+"{visibility:hidden}.hydrated{visibility:inherit}",Ue.innerHTML.length){Ue.setAttribute("data-styles","");const Gr=null!==(D=Tn.$nonce$)&&void 0!==D?D:Q(yr);null!=Gr&&Ue.setAttribute("nonce",Gr),Qe.insertBefore(Ue,it?it.nextSibling:Qe.firstChild)}An=!1,ht.length?ht.map(Gr=>Gr.connectedCallback()):Tn.jmp(()=>U=setTimeout(On,30))},Ni=(g,w,D,ae)=>{D&&D.map(([Oe,de,et])=>{const Qe=yi(g,Oe),it=Qo(w,et),Ue=Ii(Oe);Tn.ael(Qe,de,it,Ue),(w.$rmListeners$=w.$rmListeners$||[]).push(()=>Tn.rel(Qe,de,it,Ue))})},Qo=(g,w)=>D=>{try{256&g.$flags$?g.$lazyInstance$[w](D):(g.$queuedListeners$=g.$queuedListeners$||[]).push([w,D])}catch(ae){Co(ae)}},yi=(g,w)=>4&w?yr:8&w?Jo:16&w?yr.body:g,Ii=g=>0!=(2&g),xi=new WeakMap,Kr=g=>xi.get(g),pi=(g,w)=>xi.set(w.$lazyInstance$=g,w),fa=(g,w)=>{const D={$flags$:0,$hostElement$:g,$cmpMeta$:w,$instanceValues$:new Map};return D.$onInstancePromise$=new Promise(ae=>D.$onInstanceResolve$=ae),D.$onReadyPromise$=new Promise(ae=>D.$onReadyResolve$=ae),g["s-p"]=[],g["s-rc"]=[],Ni(g,D,w.$listeners$),xi.set(g,D)},Li=(g,w)=>w in g,Co=(g,w)=>(0,console.error)(g,w),ws=new Map,qs=(g,w,D)=>{const ae=g.$tagName$.replace(/-/g,"_"),Oe=g.$lazyBundleId$,de=ws.get(Oe);return de?de[ae]:C(863)(`./${Oe}.entry.js`).then(et=>(ws.set(Oe,et),et[ae]),Co)},Xr=new Map,Ao=[],Jo=typeof window<"u"?window:{},yr=Jo.document||{head:{}},Tn={$flags$:0,$resourcesUrl$:"",jmp:g=>g(),raf:g=>requestAnimationFrame(g),ael:(g,w,D,ae)=>g.addEventListener(w,D,ae),rel:(g,w,D,ae)=>g.removeEventListener(w,D,ae),ce:(g,w)=>new CustomEvent(g,w)},Ys=g=>{Object.assign(Tn,g)},pa=!0,ha=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Ds=[],Is=[],xs=(g,w)=>D=>{g.push(D),N||(N=!0,w&&4&Tn.$flags$?rt(rs):Tn.raf(rs))},Ts=g=>{for(let w=0;w<g.length;w++)try{g[w](performance.now())}catch(D){Co(D)}g.length=0},rs=()=>{Ts(Ds),Ts(Is),(N=Ds.length>0)&&Tn.raf(rs)},rt=g=>Promise.resolve(void 0).then(g),Rl=xs(Ds,!1),os=xs(Is,!0)},5194:(Ce,Me,C)=>{"use strict";C.d(Me,{a:()=>N,b:()=>We,c:()=>K,i:()=>Xe});var S=C(3426);class d{constructor(){this.m=new Map}reset(Le){this.m=new Map(Object.entries(Le))}get(Le,ve){const we=this.m.get(Le);return void 0!==we?we:ve}getBoolean(Le,ve=!1){const we=this.m.get(Le);return void 0===we?ve:"string"==typeof we?"true"===we:!!we}getNumber(Le,ve){const we=parseFloat(this.m.get(Le));return isNaN(we)?void 0!==ve?ve:NaN:we}set(Le,ve){this.m.set(Le,ve)}}const K=new d,A="ionic:",J="ionic-persist-config",N=(ye,Le)=>("string"==typeof ye&&(Le=ye,ye=void 0),(ye=>L(ye))(ye).includes(Le)),L=(ye=window)=>{if(typeof ye>"u")return[];ye.Ionic=ye.Ionic||{};let Le=ye.Ionic.platforms;return null==Le&&(Le=ye.Ionic.platforms=R(ye),Le.forEach(ve=>ye.document.documentElement.classList.add(`plt-${ve}`))),Le},R=ye=>{const Le=K.get("platform");return Object.keys(Q).filter(ve=>{const we=Le?.[ve];return"function"==typeof we?we(ye):Q[ve](ye)})},pe=ye=>!!(E(ye,/iPad/i)||E(ye,/Macintosh/i)&&le(ye)),W=ye=>E(ye,/android|sink/i),le=ye=>T(ye,"(any-pointer:coarse)"),Fe=ye=>O(ye)||$(ye),O=ye=>!!(ye.cordova||ye.phonegap||ye.PhoneGap),$=ye=>{const Le=ye.Capacitor;return!!Le?.isNative},E=(ye,Le)=>Le.test(ye.navigator.userAgent),T=(ye,Le)=>{var ve;return null===(ve=ye.matchMedia)||void 0===ve?void 0:ve.call(ye,Le).matches},Q={ipad:pe,iphone:ye=>E(ye,/iPhone/i),ios:ye=>E(ye,/iPhone|iPod/i)||pe(ye),android:W,phablet:ye=>{const Le=ye.innerWidth,ve=ye.innerHeight,we=Math.min(Le,ve),tt=Math.max(Le,ve);return we>390&&we<520&&tt>620&&tt<800},tablet:ye=>{const Le=ye.innerWidth,ve=ye.innerHeight,we=Math.min(Le,ve),tt=Math.max(Le,ve);return pe(ye)||(ye=>W(ye)&&!E(ye,/mobile/i))(ye)||we>460&&we<820&&tt>780&&tt<1400},cordova:O,capacitor:$,electron:ye=>E(ye,/electron/i),pwa:ye=>{var Le;return!!(null!==(Le=ye.matchMedia)&&void 0!==Le&&Le.call(ye,"(display-mode: standalone)").matches||ye.navigator.standalone)},mobile:le,mobileweb:ye=>le(ye)&&!Fe(ye),desktop:ye=>!le(ye),hybrid:Fe};let me;const We=ye=>ye&&(0,S.g)(ye)||me,Xe=(ye={})=>{if(typeof window>"u")return;const Le=window.document,ve=window,we=ve.Ionic=ve.Ionic||{},tt={};ye._ael&&(tt.ael=ye._ael),ye._rel&&(tt.rel=ye._rel),ye._ce&&(tt.ce=ye._ce),(0,S.a)(tt);const Dt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(ye=>{try{const Le=ye.sessionStorage.getItem(J);return null!==Le?JSON.parse(Le):{}}catch{return{}}})(ve)),{persistConfig:!1}),we.config),(ye=>{const Le={};return ye.location.search.slice(1).split("&").map(ve=>ve.split("=")).map(([ve,we])=>[decodeURIComponent(ve),decodeURIComponent(we)]).filter(([ve])=>((ye,Le)=>ye.substr(0,Le.length)===Le)(ve,A)).map(([ve,we])=>[ve.slice(6),we]).forEach(([ve,we])=>{Le[ve]=we}),Le})(ve)),ye);K.reset(Dt),K.getBoolean("persistConfig")&&((ye,Le)=>{try{ye.sessionStorage.setItem(J,JSON.stringify(Le))}catch{return}})(ve,Dt),L(ve),we.config=K,we.mode=me=K.get("mode",Le.documentElement.getAttribute("mode")||(N(ve,"ios")?"ios":"md")),K.set("mode",me),Le.documentElement.setAttribute("mode",me),Le.documentElement.classList.add(me),K.getBoolean("_testing")&&K.set("animated",!1);const fe=ct=>{var ze;return null===(ze=ct.tagName)||void 0===ze?void 0:ze.startsWith("ION-")},Ge=ct=>["ios","md"].includes(ct);(0,S.c)(ct=>{for(;ct;){const ze=ct.mode||ct.getAttribute("mode");if(ze){if(Ge(ze))return ze;fe(ct)&&console.warn('Invalid ionic mode: "'+ze+'", expected: "ios" or "md"')}ct=ct.parentElement}return me})}},5444:(Ce,Me,C)=>{"use strict";C.r(Me),C.d(Me,{iosTransitionAnimation:()=>R,shadow:()=>M});var S=C(2723),d=C(8044);C(6940),C(3426);const F=pe=>document.querySelector(`${pe}.ion-cloned-element`),M=pe=>pe.shadowRoot||pe,A=pe=>{const Se="ION-TABS"===pe.tagName?pe:pe.querySelector("ion-tabs"),ie="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Se){const W=Se.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=W?W.querySelector(ie):null}return pe.querySelector(ie)},J=(pe,Se)=>{const ie="ION-TABS"===pe.tagName?pe:pe.querySelector("ion-tabs");let W=[];if(null!=ie){const P=ie.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=P&&(W=P.querySelectorAll("ion-buttons"))}else W=pe.querySelectorAll("ion-buttons");for(const P of W){const ne=P.closest("ion-header"),ce=ne&&!ne.classList.contains("header-collapse-condense-inactive"),le=P.querySelector("ion-back-button"),Re=P.classList.contains("buttons-collapse");if(null!==le&&("start"===P.slot||""===P.slot)&&(Re&&ce&&Se||!Re))return le}return null},N=(pe,Se,ie,W,P,ne,ce,le,Re)=>{var Fe,O;const $=Se?`calc(100% - ${P.right+4}px)`:P.left-4+"px",re=Se?"right":"left",I=Se?"left":"right",E=Se?"right":"left",T=(null===(Fe=ne.textContent)||void 0===Fe?void 0:Fe.trim())===(null===(O=le.textContent)||void 0===O?void 0:O.trim()),me=(Re.height-G)/ce.height,We=T?`scale(${Re.width/ce.width}, ${me})`:`scale(${me})`,Xe="scale(1)",Le=M(W).querySelector("ion-icon").getBoundingClientRect(),ve=Se?Le.width/2-(Le.right-P.right)+"px":P.left-Le.width/2+"px",we=Se?`-${window.innerWidth-P.right}px`:`${P.left}px`,tt=`${Re.top}px`,Dt=`${P.top}px`,ct=ie?[{offset:0,transform:`translate3d(${we}, ${Dt}, 0)`},{offset:1,transform:`translate3d(${ve}, ${tt}, 0)`}]:[{offset:0,transform:`translate3d(${ve}, ${tt}, 0)`},{offset:1,transform:`translate3d(${we}, ${Dt}, 0)`}],Bt=ie?[{offset:0,opacity:1,transform:Xe},{offset:1,opacity:0,transform:We}]:[{offset:0,opacity:0,transform:We},{offset:1,opacity:1,transform:Xe}],be=ie?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],ke=(0,S.c)(),nt=(0,S.c)(),at=(0,S.c)(),zt=F("ion-back-button"),on=M(zt).querySelector(".button-text"),$t=M(zt).querySelector("ion-icon");zt.text=W.text,zt.mode=W.mode,zt.icon=W.icon,zt.color=W.color,zt.disabled=W.disabled,zt.style.setProperty("display","block"),zt.style.setProperty("position","fixed"),nt.addElement($t),ke.addElement(on),at.addElement(zt),at.beforeStyles({position:"absolute",top:"0px",[E]:"0px"}).keyframes(ct),ke.beforeStyles({"transform-origin":`${re} top`}).beforeAddWrite(()=>{W.style.setProperty("display","none"),zt.style.setProperty(re,$)}).afterAddWrite(()=>{W.style.setProperty("display",""),zt.style.setProperty("display","none"),zt.style.removeProperty(re)}).keyframes(Bt),nt.beforeStyles({"transform-origin":`${I} center`}).keyframes(be),pe.addAnimation([ke,nt,at])},L=(pe,Se,ie,W,P,ne,ce,le)=>{var Re,Fe;const O=Se?"right":"left",$=Se?`calc(100% - ${P.right}px)`:`${P.left}px`,I=`${P.top}px`,T=Se?`-${window.innerWidth-le.right-8}px`:le.x-8+"px",me=le.y-2+"px",We=(null===(Re=ce.textContent)||void 0===Re?void 0:Re.trim())===(null===(Fe=W.textContent)||void 0===Fe?void 0:Fe.trim()),ye=le.height/(ne.height-G),Le="scale(1)",ve=We?`scale(${le.width/ne.width}, ${ye})`:`scale(${ye})`,Dt=ie?[{offset:0,opacity:0,transform:`translate3d(${T}, ${me}, 0) ${ve}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${I}, 0) ${Le}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${I}, 0) ${Le}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${T}, ${me}, 0) ${ve}`}],fe=F("ion-title"),Ge=(0,S.c)();fe.innerText=W.innerText,fe.size=W.size,fe.color=W.color,Ge.addElement(fe),Ge.beforeStyles({"transform-origin":`${O} top`,height:`${P.height}px`,display:"",position:"relative",[O]:$}).beforeAddWrite(()=>{W.style.setProperty("opacity","0")}).afterAddWrite(()=>{W.style.setProperty("opacity",""),fe.style.setProperty("display","none")}).keyframes(Dt),pe.addAnimation(Ge)},R=(pe,Se)=>{var ie;try{const W="cubic-bezier(0.32,0.72,0,1)",P="opacity",ne="transform",ce="0%",Re="rtl"===pe.ownerDocument.dir,Fe=Re?"-99.5%":"99.5%",O=Re?"33%":"-33%",$=Se.enteringEl,re=Se.leavingEl,I="back"===Se.direction,E=$.querySelector(":scope > ion-content"),T=$.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Q=$.querySelectorAll(":scope > ion-header > ion-toolbar"),me=(0,S.c)(),We=(0,S.c)();if(me.addElement($).duration((null!==(ie=Se.duration)&&void 0!==ie?ie:0)||540).easing(Se.easing||W).fill("both").beforeRemoveClass("ion-page-invisible"),re&&null!=pe){const ve=(0,S.c)();ve.addElement(pe),me.addAnimation(ve)}if(E||0!==Q.length||0!==T.length?(We.addElement(E),We.addElement(T)):We.addElement($.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),me.addAnimation(We),I?We.beforeClearStyles([P]).fromTo("transform",`translateX(${O})`,`translateX(${ce})`).fromTo(P,.8,1):We.beforeClearStyles([P]).fromTo("transform",`translateX(${Fe})`,`translateX(${ce})`),E){const ve=M(E).querySelector(".transition-effect");if(ve){const we=ve.querySelector(".transition-cover"),tt=ve.querySelector(".transition-shadow"),Dt=(0,S.c)(),fe=(0,S.c)(),Ge=(0,S.c)();Dt.addElement(ve).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),fe.addElement(we).beforeClearStyles([P]).fromTo(P,0,.1),Ge.addElement(tt).beforeClearStyles([P]).fromTo(P,.03,.7),Dt.addAnimation([fe,Ge]),We.addAnimation([Dt])}}const Xe=$.querySelector("ion-header.header-collapse-condense"),{forward:ye,backward:Le}=((pe,Se,ie,W,P)=>{const ne=J(W,ie),ce=A(P),le=A(W),Re=J(P,ie),Fe=null!==ne&&null!==ce&&!ie,O=null!==le&&null!==Re&&ie;if(Fe){const $=ce.getBoundingClientRect(),re=ne.getBoundingClientRect(),I=M(ne).querySelector(".button-text"),E=I.getBoundingClientRect(),Q=M(ce).querySelector(".toolbar-title").getBoundingClientRect();L(pe,Se,ie,ce,$,Q,I,E),N(pe,Se,ie,ne,re,I,E,ce,Q)}else if(O){const $=le.getBoundingClientRect(),re=Re.getBoundingClientRect(),I=M(Re).querySelector(".button-text"),E=I.getBoundingClientRect(),Q=M(le).querySelector(".toolbar-title").getBoundingClientRect();L(pe,Se,ie,le,$,Q,I,E),N(pe,Se,ie,Re,re,I,E,le,Q)}return{forward:Fe,backward:O}})(me,Re,I,$,re);if(Q.forEach(ve=>{const we=(0,S.c)();we.addElement(ve),me.addAnimation(we);const tt=(0,S.c)();tt.addElement(ve.querySelector("ion-title"));const Dt=(0,S.c)(),fe=Array.from(ve.querySelectorAll("ion-buttons,[menuToggle]")),Ge=ve.closest("ion-header"),ct=Ge?.classList.contains("header-collapse-condense-inactive");let ze;ze=fe.filter(I?be=>{const ke=be.classList.contains("buttons-collapse");return ke&&!ct||!ke}:be=>!be.classList.contains("buttons-collapse")),Dt.addElement(ze);const Tt=(0,S.c)();Tt.addElement(ve.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Bt=(0,S.c)();Bt.addElement(M(ve).querySelector(".toolbar-background"));const Et=(0,S.c)(),xe=ve.querySelector("ion-back-button");if(xe&&Et.addElement(xe),we.addAnimation([tt,Dt,Tt,Bt,Et]),Dt.fromTo(P,.01,1),Tt.fromTo(P,.01,1),I)ct||tt.fromTo("transform",`translateX(${O})`,`translateX(${ce})`).fromTo(P,.01,1),Tt.fromTo("transform",`translateX(${O})`,`translateX(${ce})`),Et.fromTo(P,.01,1);else if(Xe||tt.fromTo("transform",`translateX(${Fe})`,`translateX(${ce})`).fromTo(P,.01,1),Tt.fromTo("transform",`translateX(${Fe})`,`translateX(${ce})`),Bt.beforeClearStyles([P,"transform"]),Ge?.translucent?Bt.fromTo("transform",Re?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Bt.fromTo(P,.01,"var(--opacity)"),ye||Et.fromTo(P,.01,1),xe&&!ye){const ke=(0,S.c)();ke.addElement(M(xe).querySelector(".button-text")).fromTo("transform",Re?"translateX(-100px)":"translateX(100px)","translateX(0px)"),we.addAnimation(ke)}}),re){const ve=(0,S.c)(),we=re.querySelector(":scope > ion-content"),tt=re.querySelectorAll(":scope > ion-header > ion-toolbar"),Dt=re.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(we||0!==tt.length||0!==Dt.length?(ve.addElement(we),ve.addElement(Dt)):ve.addElement(re.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),me.addAnimation(ve),I){ve.beforeClearStyles([P]).fromTo("transform",`translateX(${ce})`,Re?"translateX(-100%)":"translateX(100%)");const fe=(0,d.g)(re);me.afterAddWrite(()=>{"normal"===me.getDirection()&&fe.style.setProperty("display","none")})}else ve.fromTo("transform",`translateX(${ce})`,`translateX(${O})`).fromTo(P,1,.8);if(we){const fe=M(we).querySelector(".transition-effect");if(fe){const Ge=fe.querySelector(".transition-cover"),ct=fe.querySelector(".transition-shadow"),ze=(0,S.c)(),Tt=(0,S.c)(),Bt=(0,S.c)();ze.addElement(fe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Tt.addElement(Ge).beforeClearStyles([P]).fromTo(P,.1,0),Bt.addElement(ct).beforeClearStyles([P]).fromTo(P,.7,.03),ze.addAnimation([Tt,Bt]),ve.addAnimation([ze])}}tt.forEach(fe=>{const Ge=(0,S.c)();Ge.addElement(fe);const ct=(0,S.c)();ct.addElement(fe.querySelector("ion-title"));const ze=(0,S.c)(),Tt=fe.querySelectorAll("ion-buttons,[menuToggle]"),Bt=fe.closest("ion-header"),Et=Bt?.classList.contains("header-collapse-condense-inactive"),xe=Array.from(Tt).filter(on=>{const $t=on.classList.contains("buttons-collapse");return $t&&!Et||!$t});ze.addElement(xe);const be=(0,S.c)(),ke=fe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");ke.length>0&&be.addElement(ke);const nt=(0,S.c)();nt.addElement(M(fe).querySelector(".toolbar-background"));const at=(0,S.c)(),zt=fe.querySelector("ion-back-button");if(zt&&at.addElement(zt),Ge.addAnimation([ct,ze,be,at,nt]),me.addAnimation(Ge),at.fromTo(P,.99,0),ze.fromTo(P,.99,0),be.fromTo(P,.99,0),I){if(Et||ct.fromTo("transform",`translateX(${ce})`,Re?"translateX(-100%)":"translateX(100%)").fromTo(P,.99,0),be.fromTo("transform",`translateX(${ce})`,Re?"translateX(-100%)":"translateX(100%)"),nt.beforeClearStyles([P,"transform"]),Bt?.translucent?nt.fromTo("transform","translateX(0px)",Re?"translateX(-100%)":"translateX(100%)"):nt.fromTo(P,"var(--opacity)",0),zt&&!Le){const $t=(0,S.c)();$t.addElement(M(zt).querySelector(".button-text")).fromTo("transform",`translateX(${ce})`,`translateX(${(Re?-124:124)+"px"})`),Ge.addAnimation($t)}}else Et||ct.fromTo("transform",`translateX(${ce})`,`translateX(${O})`).fromTo(P,.99,0).afterClearStyles([ne,P]),be.fromTo("transform",`translateX(${ce})`,`translateX(${O})`).afterClearStyles([ne,P]),at.afterClearStyles([P]),ct.afterClearStyles([P]),ze.afterClearStyles([P])})}return me}catch(W){throw W}},G=10},5922:(Ce,Me,C)=>{"use strict";C.r(Me),C.d(Me,{mdTransitionAnimation:()=>H});var S=C(2723),d=C(8044);C(6940),C(3426);const H=(F,M)=>{var A,J,V;const N="40px",R="back"===M.direction,pe=M.leavingEl,Se=(0,d.g)(M.enteringEl),ie=Se.querySelector("ion-toolbar"),W=(0,S.c)();if(W.addElement(Se).fill("both").beforeRemoveClass("ion-page-invisible"),R?W.duration((null!==(A=M.duration)&&void 0!==A?A:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):W.duration((null!==(J=M.duration)&&void 0!==J?J:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${N})`,"translateY(0px)").fromTo("opacity",.01,1),ie){const P=(0,S.c)();P.addElement(ie),W.addAnimation(P)}if(pe&&R){W.duration((null!==(V=M.duration)&&void 0!==V?V:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const P=(0,S.c)();P.addElement((0,d.g)(pe)).onFinish(ne=>{1===ne&&P.elements.length>0&&P.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${N})`).fromTo("opacity",1,0),W.addAnimation(P)}return W}},7261:(Ce,Me,C)=>{"use strict";C.d(Me,{B:()=>ct,G:()=>ze,O:()=>Tt,a:()=>L,b:()=>R,c:()=>ie,d:()=>Bt,e:()=>Et,f:()=>We,g:()=>ye,h:()=>we,i:()=>Dt,j:()=>P,k:()=>ne,l:()=>G,m:()=>pe,n:()=>V,o:()=>Re,q:()=>Q,s:()=>Ge});var S=C(3918),d=C(6940),K=C(5194),X=C(8573),H=C(1940),F=C(4675),M=C(6240);let A=0,J=0;const V=new WeakMap,N=xe=>({create:be=>ce(xe,be),dismiss:(be,ke,nt)=>I(document,be,ke,xe,nt),getTop:()=>(0,S.Z)(function*(){return Q(document,xe)})()}),L=N("ion-alert"),R=N("ion-action-sheet"),G=N("ion-loading"),pe=N("ion-modal"),ie=N("ion-popover"),P=xe=>{typeof document<"u"&&re(document);const be=A++;xe.overlayIndex=be},ne=xe=>(xe.hasAttribute("id")||(xe.id="ion-overlay-"+ ++J),xe.id),ce=(xe,be)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(xe).then(()=>{const ke=document.createElement(xe);return ke.classList.add("overlay-hidden"),Object.assign(ke,Object.assign(Object.assign({},be),{hasController:!0})),Le(document).appendChild(ke),new Promise(nt=>(0,F.c)(ke,nt))}):Promise.resolve(),le='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Re=(xe,be)=>{let ke=xe.querySelector(le);const nt=ke?.shadowRoot;nt&&(ke=nt.querySelector(le)||ke),ke?(0,F.f)(ke):be.focus()},O=(xe,be)=>{const ke=Array.from(xe.querySelectorAll(le));let nt=ke.length>0?ke[ke.length-1]:null;const at=nt?.shadowRoot;at&&(nt=at.querySelector(le)||nt),nt?nt.focus():be.focus()},re=xe=>{0===A&&(A=1,xe.addEventListener("focus",be=>{((xe,be)=>{const ke=Q(be,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),nt=xe.target;ke&&nt&&!ke.classList.contains("ion-disable-focus-trap")&&(ke.shadowRoot?(()=>{if(ke.contains(nt))ke.lastFocus=nt;else{const on=ke.lastFocus;Re(ke,ke),on===be.activeElement&&O(ke,ke),ke.lastFocus=be.activeElement}})():(()=>{if(ke===nt)ke.lastFocus=void 0;else{const on=(0,F.g)(ke);if(!on.contains(nt))return;const $t=on.querySelector(".ion-overlay-wrapper");if(!$t)return;if($t.contains(nt)||nt===on.querySelector("ion-backdrop"))ke.lastFocus=nt;else{const sn=ke.lastFocus;Re($t,ke),sn===be.activeElement&&O($t,ke),ke.lastFocus=be.activeElement}}})())})(be,xe)},!0),xe.addEventListener("ionBackButton",be=>{const ke=Q(xe);ke?.backdropDismiss&&be.detail.register(H.OVERLAY_BACK_BUTTON_PRIORITY,()=>ke.dismiss(void 0,ct))}),xe.addEventListener("keydown",be=>{if("Escape"===be.key){const ke=Q(xe);ke?.backdropDismiss&&ke.dismiss(void 0,ct)}}))},I=(xe,be,ke,nt,at)=>{const zt=Q(xe,nt,at);return zt?zt.dismiss(be,ke):Promise.reject("overlay does not exist")},T=(xe,be)=>((xe,be)=>(void 0===be&&(be="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(xe.querySelectorAll(be)).filter(ke=>ke.overlayIndex>0)))(xe,be).filter(ke=>!(xe=>xe.classList.contains("overlay-hidden"))(ke)),Q=(xe,be,ke)=>{const nt=T(xe,be);return void 0===ke?nt[nt.length-1]:nt.find(at=>at.id===ke)},me=(xe=!1)=>{const ke=Le(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");ke&&(xe?ke.setAttribute("aria-hidden","true"):ke.removeAttribute("aria-hidden"))},We=function(){var xe=(0,S.Z)(function*(be,ke,nt,at,zt){var on,$t;if(be.presented)return;me(!0),be.presented=!0,be.willPresent.emit(),null===(on=be.willPresentShorthand)||void 0===on||on.emit();const sn=(0,K.b)(be),Sn=be.enterAnimation?be.enterAnimation:K.c.get(ke,"ios"===sn?nt:at);(yield ve(be,Sn,be.el,zt))&&(be.didPresent.emit(),null===($t=be.didPresentShorthand)||void 0===$t||$t.emit()),"ION-TOAST"!==be.el.tagName&&Xe(be.el),be.keyboardClose&&(null===document.activeElement||!be.el.contains(document.activeElement))&&be.el.focus()});return function(ke,nt,at,zt,on){return xe.apply(this,arguments)}}(),Xe=function(){var xe=(0,S.Z)(function*(be){let ke=document.activeElement;if(!ke)return;const nt=ke?.shadowRoot;nt&&(ke=nt.querySelector(le)||ke),yield be.onDidDismiss(),ke.focus()});return function(ke){return xe.apply(this,arguments)}}(),ye=function(){var xe=(0,S.Z)(function*(be,ke,nt,at,zt,on,$t){var sn,Sn;if(!be.presented)return!1;void 0!==d.d&&1===T(d.d).length&&me(!1),be.presented=!1;try{be.el.style.setProperty("pointer-events","none"),be.willDismiss.emit({data:ke,role:nt}),null===(sn=be.willDismissShorthand)||void 0===sn||sn.emit({data:ke,role:nt});const gr=(0,K.b)(be),Pn=be.leaveAnimation?be.leaveAnimation:K.c.get(at,"ios"===gr?zt:on);nt!==ze&&(yield ve(be,Pn,be.el,$t)),be.didDismiss.emit({data:ke,role:nt}),null===(Sn=be.didDismissShorthand)||void 0===Sn||Sn.emit({data:ke,role:nt}),V.delete(be),be.el.classList.add("overlay-hidden"),be.el.style.removeProperty("pointer-events"),void 0!==be.el.lastFocus&&(be.el.lastFocus=void 0)}catch(gr){console.error(gr)}return be.el.remove(),!0});return function(ke,nt,at,zt,on,$t,sn){return xe.apply(this,arguments)}}(),Le=xe=>xe.querySelector("ion-app")||xe.body,ve=function(){var xe=(0,S.Z)(function*(be,ke,nt,at){nt.classList.remove("overlay-hidden");const on=ke(be.el,at);(!be.animated||!K.c.getBoolean("animated",!0))&&on.duration(0),be.keyboardClose&&on.beforeAddWrite(()=>{const sn=nt.ownerDocument.activeElement;sn?.matches("input,ion-input, ion-textarea")&&sn.blur()});const $t=V.get(be)||[];return V.set(be,[...$t,on]),yield on.play(),!0});return function(ke,nt,at,zt){return xe.apply(this,arguments)}}(),we=(xe,be)=>{let ke;const nt=new Promise(at=>ke=at);return tt(xe,be,at=>{ke(at.detail)}),nt},tt=(xe,be,ke)=>{const nt=at=>{(0,F.b)(xe,be,nt),ke(at)};(0,F.a)(xe,be,nt)},Dt=xe=>"cancel"===xe||xe===ct,fe=xe=>xe(),Ge=(xe,be)=>{if("function"==typeof xe)return K.c.get("_zoneGate",fe)(()=>{try{return xe(be)}catch(nt){throw nt}})},ct="backdrop",ze="gesture",Tt=39,Bt=xe=>{let ke,be=!1;const nt=(0,X.C)(),at=($t=!1)=>{if(ke&&!$t)return{delegate:ke,inline:be};const{el:sn,hasController:Sn,delegate:gr}=xe;return be=null!==sn.parentNode&&!Sn,ke=be?gr||nt:gr,{inline:be,delegate:ke}};return{attachViewToDom:function(){var $t=(0,S.Z)(function*(sn){const{delegate:Sn}=at(!0);if(Sn)return yield Sn.attachViewToDom(xe.el,sn);const{hasController:gr}=xe;if(gr&&void 0!==sn)throw new Error("framework delegate is missing");return null});return function(Sn){return $t.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:$t}=at();$t&&void 0!==xe.el&&$t.removeViewFromDom(xe.el.parentElement,xe.el)}}},Et=()=>{let xe;const be=()=>{xe&&(xe(),xe=void 0)};return{addClickListener:(nt,at)=>{be();const zt=void 0!==at?document.getElementById(at):null;zt?xe=(($t,sn)=>{const Sn=()=>{sn.present()};return $t.addEventListener("click",Sn),()=>{$t.removeEventListener("click",Sn)}})(zt,nt):(0,M.p)(`A trigger element with the ID "${at}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,nt)},removeClickListener:be}}},2410:(Ce,Me,C)=>{"use strict";var d=C(1491)("ArrayBuffer.prototype.byteLength",!0),K=C(9850);Ce.exports=function(H){return K(H)?d?d(H):H.byteLength:NaN}},1491:(Ce,Me,C)=>{"use strict";var S=C(3485),d=C(1773),K=d(S("String.prototype.indexOf"));Ce.exports=function(H,F){var M=S(H,!!F);return"function"==typeof M&&K(H,".prototype.")>-1?d(M):M}},1773:(Ce,Me,C)=>{"use strict";var S=C(8956),d=C(3485),K=C(3931),X=d("%TypeError%"),H=d("%Function.prototype.apply%"),F=d("%Function.prototype.call%"),M=d("%Reflect.apply%",!0)||S.call(F,H),A=d("%Object.defineProperty%",!0),J=d("%Math.max%");if(A)try{A({},"a",{value:1})}catch{A=null}Ce.exports=function(L){if("function"!=typeof L)throw new X("a function is required");var R=M(S,F,arguments);return K(R,1+J(0,L.length-(arguments.length-1)),!0)};var V=function(){return M(S,H,arguments)};A?A(Ce.exports,"apply",{value:V}):Ce.exports.apply=V},7303:Ce=>{var Me={utf8:{stringToBytes:function(C){return Me.bin.stringToBytes(unescape(encodeURIComponent(C)))},bytesToString:function(C){return decodeURIComponent(escape(Me.bin.bytesToString(C)))}},bin:{stringToBytes:function(C){for(var S=[],d=0;d<C.length;d++)S.push(255&C.charCodeAt(d));return S},bytesToString:function(C){for(var S=[],d=0;d<C.length;d++)S.push(String.fromCharCode(C[d]));return S.join("")}}};Ce.exports=Me},3754:Ce=>{var Me,C;Me="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ce.exports=C={rotl:function(S,d){return S<<d|S>>>32-d},rotr:function(S,d){return S<<32-d|S>>>d},endian:function(S){if(S.constructor==Number)return 16711935&C.rotl(S,8)|4278255360&C.rotl(S,24);for(var d=0;d<S.length;d++)S[d]=C.endian(S[d]);return S},randomBytes:function(S){for(var d=[];S>0;S--)d.push(Math.floor(256*Math.random()));return d},bytesToWords:function(S){for(var d=[],K=0,X=0;K<S.length;K++,X+=8)d[X>>>5]|=S[K]<<24-X%32;return d},wordsToBytes:function(S){for(var d=[],K=0;K<32*S.length;K+=8)d.push(S[K>>>5]>>>24-K%32&255);return d},bytesToHex:function(S){for(var d=[],K=0;K<S.length;K++)d.push((S[K]>>>4).toString(16)),d.push((15&S[K]).toString(16));return d.join("")},hexToBytes:function(S){for(var d=[],K=0;K<S.length;K+=2)d.push(parseInt(S.substr(K,2),16));return d},bytesToBase64:function(S){for(var d=[],K=0;K<S.length;K+=3)for(var X=S[K]<<16|S[K+1]<<8|S[K+2],H=0;H<4;H++)d.push(8*K+6*H<=8*S.length?Me.charAt(X>>>6*(3-H)&63):"=");return d.join("")},base64ToBytes:function(S){S=S.replace(/[^A-Z0-9+\/]/gi,"");for(var d=[],K=0,X=0;K<S.length;X=++K%4)0!=X&&d.push((Me.indexOf(S.charAt(K-1))&Math.pow(2,-2*X+8)-1)<<2*X|Me.indexOf(S.charAt(K))>>>6-2*X);return d}}},307:(Ce,Me,C)=>{"use strict";var S=C(5747),d=C(1491),K=C(4300),X=C(3485),H=C(1324),F=C(4355),M=C(500),A=C(1568),J=C(9604),V=C(9850),N=C(6994),L=C(9649),R=C(5327),G=C(5692),pe=C(8460),Se=C(9148),ie=C(927),W=C(2410),P=d("SharedArrayBuffer.prototype.byteLength",!0),ne=d("Date.prototype.getTime"),ce=Object.getPrototypeOf,le=d("Object.prototype.toString"),Re=X("%Set%",!0),Fe=d("Map.prototype.has",!0),O=d("Map.prototype.get",!0),$=d("Map.prototype.size",!0),re=d("Set.prototype.add",!0),I=d("Set.prototype.delete",!0),E=d("Set.prototype.has",!0),T=d("Set.prototype.size",!0);function Q(fe,Ge,ct,ze){for(var Bt,Tt=H(fe);(Bt=Tt.next())&&!Bt.done;)if(Le(Ge,Bt.value,ct,ze))return I(fe,Bt.value),!0;return!1}function me(fe){return typeof fe>"u"?null:"object"!=typeof fe?"symbol"!=typeof fe&&("string"!=typeof fe&&"number"!=typeof fe||+fe==+fe):void 0}function We(fe,Ge,ct,ze,Tt,Bt){var Et=me(ct);if(null!=Et)return Et;var xe=O(Ge,Et),be=S({},Tt,{strict:!1});return!(typeof xe>"u"&&!Fe(Ge,Et)||!Le(ze,xe,be,Bt))&&!Fe(fe,Et)&&Le(ze,xe,be,Bt)}function Xe(fe,Ge,ct){var ze=me(ct);return ze??(E(Ge,ze)&&!E(fe,ze))}function ye(fe,Ge,ct,ze,Tt,Bt){for(var xe,be,Et=H(fe);(xe=Et.next())&&!xe.done;)if(Le(ct,be=xe.value,Tt,Bt)&&Le(ze,O(Ge,be),Tt,Bt))return I(fe,be),!0;return!1}function Le(fe,Ge,ct,ze){var Tt=ct||{};if(Tt.strict?M(fe,Ge):fe===Ge)return!0;if(pe(fe)!==pe(Ge))return!1;if(!fe||!Ge||"object"!=typeof fe&&"object"!=typeof Ge)return Tt.strict?M(fe,Ge):fe==Ge;var ke,xe=ze.has(fe),be=ze.has(Ge);if(xe&&be){if(ze.get(fe)===ze.get(Ge))return!0}else ke={};return xe||ze.set(fe,ke),be||ze.set(Ge,ke),function Dt(fe,Ge,ct,ze){var Tt,Bt;if(typeof fe!=typeof Ge||null==fe||null==Ge||le(fe)!==le(Ge)||A(fe)!==A(Ge))return!1;if(J(fe)!==J(Ge))return!1;var be=fe instanceof Error,ke=Ge instanceof Error;if(be!==ke||(be||ke)&&(fe.name!==Ge.name||fe.message!==Ge.message))return!1;var nt=L(fe),at=L(Ge);if(nt!==at||(nt||at)&&(fe.source!==Ge.source||K(fe)!==K(Ge)))return!1;var zt=N(fe),on=N(Ge);if(zt!==on||(zt||on)&&ne(fe)!==ne(Ge)||ct.strict&&ce&&ce(fe)!==ce(Ge))return!1;var $t=ie(fe),sn=ie(Ge);if($t!==sn)return!1;if($t||sn){if(fe.length!==Ge.length)return!1;for(Tt=0;Tt<fe.length;Tt++)if(fe[Tt]!==Ge[Tt])return!1;return!0}var Sn=ve(fe),gr=ve(Ge);if(Sn!==gr)return!1;if(Sn||gr){if(fe.length!==Ge.length)return!1;for(Tt=0;Tt<fe.length;Tt++)if(fe[Tt]!==Ge[Tt])return!1;return!0}var Pn=V(fe),Ko=V(Ge);if(Pn!==Ko)return!1;if(Pn||Ko)return W(fe)===W(Ge)&&"function"==typeof Uint8Array&&Le(new Uint8Array(fe),new Uint8Array(Ge),ct,ze);var Vr=R(fe),vo=R(Ge);if(Vr!==vo)return!1;if(Vr||vo)return P(fe)===P(Ge)&&"function"==typeof Uint8Array&&Le(new Uint8Array(fe),new Uint8Array(Ge),ct,ze);if(typeof fe!=typeof Ge)return!1;var Pr=G(fe),Or=G(Ge);if(Pr.length!==Or.length)return!1;for(Pr.sort(),Or.sort(),Tt=Pr.length-1;Tt>=0;Tt--)if(Pr[Tt]!=Or[Tt])return!1;for(Tt=Pr.length-1;Tt>=0;Tt--)if(!Le(fe[Bt=Pr[Tt]],Ge[Bt],ct,ze))return!1;var Kn=Se(fe),Mo=Se(Ge);return Kn===Mo&&("Set"===Kn||"Set"===Mo?function we(fe,Ge,ct,ze){if(T(fe)!==T(Ge))return!1;for(var Et,xe,be,Tt=H(fe),Bt=H(Ge);(Et=Tt.next())&&!Et.done;)if(Et.value&&"object"==typeof Et.value)be||(be=new Re),re(be,Et.value);else if(!E(Ge,Et.value)){if(ct.strict||!Xe(fe,Ge,Et.value))return!1;be||(be=new Re),re(be,Et.value)}if(be){for(;(xe=Bt.next())&&!xe.done;)if(xe.value&&"object"==typeof xe.value){if(!Q(be,xe.value,ct.strict,ze))return!1}else if(!ct.strict&&!E(fe,xe.value)&&!Q(be,xe.value,ct.strict,ze))return!1;return 0===T(be)}return!0}(fe,Ge,ct,ze):"Map"!==Kn||function tt(fe,Ge,ct,ze){if($(fe)!==$(Ge))return!1;for(var Et,xe,be,ke,nt,at,Tt=H(fe),Bt=H(Ge);(Et=Tt.next())&&!Et.done;)if(nt=Et.value[1],(ke=Et.value[0])&&"object"==typeof ke)be||(be=new Re),re(be,ke);else if(typeof(at=O(Ge,ke))>"u"&&!Fe(Ge,ke)||!Le(nt,at,ct,ze)){if(ct.strict||!We(fe,Ge,ke,nt,ct,ze))return!1;be||(be=new Re),re(be,ke)}if(be){for(;(xe=Bt.next())&&!xe.done;)if(at=xe.value[1],(ke=xe.value[0])&&"object"==typeof ke){if(!ye(be,fe,ke,at,ct,ze))return!1}else if(!(ct.strict||fe.has(ke)&&Le(O(fe,ke),at,ct,ze)||ye(be,fe,ke,at,S({},ct,{strict:!1}),ze)))return!1;return 0===T(be)}return!0}(fe,Ge,ct,ze))}(fe,Ge,Tt,ze)}function ve(fe){return!(!fe||"object"!=typeof fe||"number"!=typeof fe.length||"function"!=typeof fe.copy||"function"!=typeof fe.slice||fe.length>0&&"number"!=typeof fe[0]||!(fe.constructor&&fe.constructor.isBuffer&&fe.constructor.isBuffer(fe)))}Ce.exports=function(Ge,ct,ze){return Le(Ge,ct,ze,F())}},4467:(Ce,Me,C)=>{"use strict";var S=C(7811)(),d=C(3485),K=S&&d("%Object.defineProperty%",!0);if(K)try{K({},"a",{value:1})}catch{K=!1}var X=d("%SyntaxError%"),H=d("%TypeError%"),F=C(6078);Ce.exports=function(A,J,V){if(!A||"object"!=typeof A&&"function"!=typeof A)throw new H("`obj` must be an object or a function`");if("string"!=typeof J&&"symbol"!=typeof J)throw new H("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new H("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new H("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new H("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new H("`loose`, if provided, must be a boolean");var N=arguments.length>3?arguments[3]:null,L=arguments.length>4?arguments[4]:null,R=arguments.length>5?arguments[5]:null,G=arguments.length>6&&arguments[6],pe=!!F&&F(A,J);if(K)K(A,J,{configurable:null===R&&pe?pe.configurable:!R,enumerable:null===N&&pe?pe.enumerable:!N,value:V,writable:null===L&&pe?pe.writable:!L});else{if(!G&&(N||L||R))throw new X("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");A[J]=V}}},9567:(Ce,Me,C)=>{"use strict";var S=C(5692),d="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),K=Object.prototype.toString,X=Array.prototype.concat,H=C(4467),M=C(7811)(),A=function(V,N,L,R){if(N in V)if(!0===R){if(V[N]===L)return}else if(!function(V){return"function"==typeof V&&"[object Function]"===K.call(V)}(R)||!R())return;M?H(V,N,L,!0):H(V,N,L)},J=function(V,N){var L=arguments.length>2?arguments[2]:{},R=S(N);d&&(R=X.call(R,Object.getOwnPropertySymbols(N)));for(var G=0;G<R.length;G+=1)A(V,R[G],N[R[G]],L[R[G]])};J.supportsDescriptors=!!M,Ce.exports=J},1633:function(Ce,Me){!function(C){"use strict";var L,K=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,X=536870912,H=2*X,M=new WeakMap,J=function(L,R){return function(G){var pe=R.get(G),Se=void 0===pe?G.size:pe<H?pe+1:0;if(!G.has(Se))return L(G,Se);if(G.size<X){for(;G.has(Se);)Se=Math.floor(Math.random()*H);return L(G,Se)}if(G.size>K)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;G.has(Se);)Se=Math.floor(Math.random()*K);return L(G,Se)}}((L=M,function(R,G){return L.set(R,G),G}),M),V=function(L){return function(R){var G=L(R);return R.add(G),G}}(J);C.addUniqueNumber=V,C.generateUniqueNumber=J}(Me)},2418:(Ce,Me,C)=>{"use strict";var S=C(5487),d=Object.prototype.toString,K=Object.prototype.hasOwnProperty;Ce.exports=function(J,V,N){if(!S(V))throw new TypeError("iterator must be a function");var L;arguments.length>=3&&(L=N),"[object Array]"===d.call(J)?function(J,V,N){for(var L=0,R=J.length;L<R;L++)K.call(J,L)&&(null==N?V(J[L],L,J):V.call(N,J[L],L,J))}(J,V,L):"string"==typeof J?function(J,V,N){for(var L=0,R=J.length;L<R;L++)null==N?V(J.charAt(L),L,J):V.call(N,J.charAt(L),L,J)}(J,V,L):function(J,V,N){for(var L in J)K.call(J,L)&&(null==N?V(J[L],L,J):V.call(N,J[L],L,J))}(J,V,L)}},8026:Ce=>{"use strict";var C=Object.prototype.toString,S=Math.max,K=function(M,A){for(var J=[],V=0;V<M.length;V+=1)J[V]=M[V];for(var N=0;N<A.length;N+=1)J[N+M.length]=A[N];return J};Ce.exports=function(M){var A=this;if("function"!=typeof A||"[object Function]"!==C.apply(A))throw new TypeError("Function.prototype.bind called on incompatible "+A);for(var V,J=function(M,A){for(var J=[],V=1,N=0;V<M.length;V+=1,N+=1)J[N]=M[V];return J}(arguments),L=S(0,A.length-J.length),R=[],G=0;G<L;G++)R[G]="$"+G;if(V=Function("binder","return function ("+function(F,M){for(var A="",J=0;J<F.length;J+=1)A+=F[J],J+1<F.length&&(A+=",");return A}(R)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof V){var Se=A.apply(this,K(J,arguments));return Object(Se)===Se?Se:this}return A.apply(M,K(J,arguments))}),A.prototype){var pe=function(){};pe.prototype=A.prototype,V.prototype=new pe,pe.prototype=null}return V}},8956:(Ce,Me,C)=>{"use strict";var S=C(8026);Ce.exports=Function.prototype.bind||S},7688:Ce=>{"use strict";var Me=function(){return"string"==typeof function(){}.name},C=Object.getOwnPropertyDescriptor;if(C)try{C([],"length")}catch{C=null}Me.functionsHaveConfigurableNames=function(){if(!Me()||!C)return!1;var K=C(function(){},"name");return!!K&&!!K.configurable};var S=Function.prototype.bind;Me.boundFunctionsHaveNames=function(){return Me()&&"function"==typeof S&&""!==function(){}.bind().name},Ce.exports=Me},3485:(Ce,Me,C)=>{"use strict";var S,d=SyntaxError,K=Function,X=TypeError,H=function(E){try{return K('"use strict"; return ('+E+").constructor;")()}catch{}},F=Object.getOwnPropertyDescriptor;if(F)try{F({},"")}catch{F=null}var M=function(){throw new X},A=F?function(){try{return M}catch{try{return F(arguments,"callee").get}catch{return M}}}():M,J=C(2337)(),V=C(1441)(),N=Object.getPrototypeOf||(V?function(E){return E.__proto__}:null),L={},R=typeof Uint8Array>"u"||!N?S:N(Uint8Array),G={"%AggregateError%":typeof AggregateError>"u"?S:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?S:ArrayBuffer,"%ArrayIteratorPrototype%":J&&N?N([][Symbol.iterator]()):S,"%AsyncFromSyncIteratorPrototype%":S,"%AsyncFunction%":L,"%AsyncGenerator%":L,"%AsyncGeneratorFunction%":L,"%AsyncIteratorPrototype%":L,"%Atomics%":typeof Atomics>"u"?S:Atomics,"%BigInt%":typeof BigInt>"u"?S:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?S:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?S:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?S:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?S:Float32Array,"%Float64Array%":typeof Float64Array>"u"?S:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?S:FinalizationRegistry,"%Function%":K,"%GeneratorFunction%":L,"%Int8Array%":typeof Int8Array>"u"?S:Int8Array,"%Int16Array%":typeof Int16Array>"u"?S:Int16Array,"%Int32Array%":typeof Int32Array>"u"?S:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":J&&N?N(N([][Symbol.iterator]())):S,"%JSON%":"object"==typeof JSON?JSON:S,"%Map%":typeof Map>"u"?S:Map,"%MapIteratorPrototype%":typeof Map>"u"||!J||!N?S:N((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?S:Promise,"%Proxy%":typeof Proxy>"u"?S:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?S:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?S:Set,"%SetIteratorPrototype%":typeof Set>"u"||!J||!N?S:N((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?S:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":J&&N?N(""[Symbol.iterator]()):S,"%Symbol%":J?Symbol:S,"%SyntaxError%":d,"%ThrowTypeError%":A,"%TypedArray%":R,"%TypeError%":X,"%Uint8Array%":typeof Uint8Array>"u"?S:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?S:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?S:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?S:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?S:WeakMap,"%WeakRef%":typeof WeakRef>"u"?S:WeakRef,"%WeakSet%":typeof WeakSet>"u"?S:WeakSet};if(N)try{null.error}catch(E){var pe=N(N(E));G["%Error.prototype%"]=pe}var Se=function E(T){var Q;if("%AsyncFunction%"===T)Q=H("async function () {}");else if("%GeneratorFunction%"===T)Q=H("function* () {}");else if("%AsyncGeneratorFunction%"===T)Q=H("async function* () {}");else if("%AsyncGenerator%"===T){var me=E("%AsyncGeneratorFunction%");me&&(Q=me.prototype)}else if("%AsyncIteratorPrototype%"===T){var We=E("%AsyncGenerator%");We&&N&&(Q=N(We.prototype))}return G[T]=Q,Q},ie={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},W=C(8956),P=C(7528),ne=W.call(Function.call,Array.prototype.concat),ce=W.call(Function.apply,Array.prototype.splice),le=W.call(Function.call,String.prototype.replace),Re=W.call(Function.call,String.prototype.slice),Fe=W.call(Function.call,RegExp.prototype.exec),O=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,$=/\\(\\)?/g,I=function(T,Q){var We,me=T;if(P(ie,me)&&(me="%"+(We=ie[me])[0]+"%"),P(G,me)){var Xe=G[me];if(Xe===L&&(Xe=Se(me)),typeof Xe>"u"&&!Q)throw new X("intrinsic "+T+" exists, but is not available. Please file an issue!");return{alias:We,name:me,value:Xe}}throw new d("intrinsic "+T+" does not exist!")};Ce.exports=function(T,Q){if("string"!=typeof T||0===T.length)throw new X("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof Q)throw new X('"allowMissing" argument must be a boolean');if(null===Fe(/^%?[^%]*%?$/,T))throw new d("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var me=function(T){var Q=Re(T,0,1),me=Re(T,-1);if("%"===Q&&"%"!==me)throw new d("invalid intrinsic syntax, expected closing `%`");if("%"===me&&"%"!==Q)throw new d("invalid intrinsic syntax, expected opening `%`");var We=[];return le(T,O,function(Xe,ye,Le,ve){We[We.length]=Le?le(ve,$,"$1"):ye||Xe}),We}(T),We=me.length>0?me[0]:"",Xe=I("%"+We+"%",Q),ye=Xe.name,Le=Xe.value,ve=!1,we=Xe.alias;we&&(We=we[0],ce(me,ne([0,1],we)));for(var tt=1,Dt=!0;tt<me.length;tt+=1){var fe=me[tt],Ge=Re(fe,0,1),ct=Re(fe,-1);if(('"'===Ge||"'"===Ge||"`"===Ge||'"'===ct||"'"===ct||"`"===ct)&&Ge!==ct)throw new d("property names with quotes must have matching quotes");if(("constructor"===fe||!Dt)&&(ve=!0),P(G,ye="%"+(We+="."+fe)+"%"))Le=G[ye];else if(null!=Le){if(!(fe in Le)){if(!Q)throw new X("base intrinsic for "+T+" exists, but the property is not available.");return}if(F&&tt+1>=me.length){var ze=F(Le,fe);Le=(Dt=!!ze)&&"get"in ze&&!("originalValue"in ze.get)?ze.get:Le[fe]}else Dt=P(Le,fe),Le=Le[fe];Dt&&!ve&&(G[ye]=Le)}}return Le}},6078:(Ce,Me,C)=>{"use strict";var d=C(3485)("%Object.getOwnPropertyDescriptor%",!0);if(d)try{d([],"length")}catch{d=null}Ce.exports=d},5112:Ce=>{"use strict";var Me=typeof BigInt<"u"&&BigInt;Ce.exports=function(){return"function"==typeof Me&&"function"==typeof BigInt&&"bigint"==typeof Me(42)&&"bigint"==typeof BigInt(42)}},7811:(Ce,Me,C)=>{"use strict";var d=C(3485)("%Object.defineProperty%",!0),K=function(){if(d)try{return d({},"a",{value:1}),!0}catch{return!1}return!1};K.hasArrayLengthDefineBug=function(){if(!K())return null;try{return 1!==d([],"length",{value:1}).length}catch{return!0}},Ce.exports=K},1441:Ce=>{"use strict";var Me={foo:{}},C=Object;Ce.exports=function(){return{__proto__:Me}.foo===Me.foo&&!({__proto__:null}instanceof C)}},2337:(Ce,Me,C)=>{"use strict";var S=typeof Symbol<"u"&&Symbol,d=C(2759);Ce.exports=function(){return"function"==typeof S&&"function"==typeof Symbol&&"symbol"==typeof S("foo")&&"symbol"==typeof Symbol("bar")&&d()}},2759:Ce=>{"use strict";Ce.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var C={},S=Symbol("test"),d=Object(S);if("string"==typeof S||"[object Symbol]"!==Object.prototype.toString.call(S)||"[object Symbol]"!==Object.prototype.toString.call(d))return!1;for(S in C[S]=42,C)return!1;if("function"==typeof Object.keys&&0!==Object.keys(C).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(C).length)return!1;var X=Object.getOwnPropertySymbols(C);if(1!==X.length||X[0]!==S||!Object.prototype.propertyIsEnumerable.call(C,S))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var H=Object.getOwnPropertyDescriptor(C,S);if(42!==H.value||!0!==H.enumerable)return!1}return!0}},6518:(Ce,Me,C)=>{"use strict";var S=C(2759);Ce.exports=function(){return S()&&!!Symbol.toStringTag}},7528:(Ce,Me,C)=>{"use strict";var S=Function.prototype.call,d=Object.prototype.hasOwnProperty,K=C(8956);Ce.exports=K.call(S,d)},2605:(Ce,Me,C)=>{"use strict";var S=C(3485),d=C(7528),K=C(4355)(),X=S("%TypeError%"),H={assert:function(F,M){if(!F||"object"!=typeof F&&"function"!=typeof F)throw new X("`O` is not an object");if("string"!=typeof M)throw new X("`slot` must be a string");if(K.assert(F),!H.has(F,M))throw new X("`"+M+"` is not present on `O`")},get:function(F,M){if(!F||"object"!=typeof F&&"function"!=typeof F)throw new X("`O` is not an object");if("string"!=typeof M)throw new X("`slot` must be a string");var A=K.get(F);return A&&A["$"+M]},has:function(F,M){if(!F||"object"!=typeof F&&"function"!=typeof F)throw new X("`O` is not an object");if("string"!=typeof M)throw new X("`slot` must be a string");var A=K.get(F);return!!A&&d(A,"$"+M)},set:function(F,M,A){if(!F||"object"!=typeof F&&"function"!=typeof F)throw new X("`O` is not an object");if("string"!=typeof M)throw new X("`slot` must be a string");var J=K.get(F);J||K.set(F,J={}),J["$"+M]=A}};Object.freeze&&Object.freeze(H),Ce.exports=H},1568:(Ce,Me,C)=>{"use strict";var S=C(6518)(),K=C(1491)("Object.prototype.toString"),X=function(A){return!(S&&A&&"object"==typeof A&&Symbol.toStringTag in A)&&"[object Arguments]"===K(A)},H=function(A){return!!X(A)||null!==A&&"object"==typeof A&&"number"==typeof A.length&&A.length>=0&&"[object Array]"!==K(A)&&"[object Function]"===K(A.callee)},F=function(){return X(arguments)}();X.isLegacyArguments=H,Ce.exports=F?X:H},9850:(Ce,Me,C)=>{"use strict";var S=C(1773),d=C(1491),K=C(3485),X=C(3631),H=K("ArrayBuffer",!0),F=K("Float32Array",!0),M=d("ArrayBuffer.prototype.byteLength",!0),A=H&&!M&&(new H).slice,J=A&&S(A);Ce.exports=M||J?function(N){if(!N||"object"!=typeof N)return!1;try{return M?M(N):J(N,0),!0}catch{return!1}}:F?function(N){try{return new F(N).buffer===N&&!X(N)}catch(L){return"object"==typeof N&&"RangeError"===L.name}}:function(N){return!1}},7050:(Ce,Me,C)=>{"use strict";if(C(5112)()){var d=BigInt.prototype.valueOf;Ce.exports=function(H){return!(null===H||typeof H>"u"||"boolean"==typeof H||"string"==typeof H||"number"==typeof H||"symbol"==typeof H||"function"==typeof H)&&("bigint"==typeof H||function(H){try{return d.call(H),!0}catch{}return!1}(H))}}else Ce.exports=function(H){return!1}},2856:(Ce,Me,C)=>{"use strict";var S=C(1491),d=S("Boolean.prototype.toString"),K=S("Object.prototype.toString"),F=C(6518)();Ce.exports=function(A){return"boolean"==typeof A||null!==A&&"object"==typeof A&&(F&&Symbol.toStringTag in A?function(A){try{return d(A),!0}catch{return!1}}(A):"[object Boolean]"===K(A))}},7617:Ce=>{function Me(S){return!!S.constructor&&"function"==typeof S.constructor.isBuffer&&S.constructor.isBuffer(S)}Ce.exports=function(S){return null!=S&&(Me(S)||function C(S){return"function"==typeof S.readFloatLE&&"function"==typeof S.slice&&Me(S.slice(0,0))}(S)||!!S._isBuffer)}},5487:Ce=>{"use strict";var S,d,Me=Function.prototype.toString,C="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof C&&"function"==typeof Object.defineProperty)try{S=Object.defineProperty({},"length",{get:function(){throw d}}),d={},C(function(){throw 42},null,S)}catch(ie){ie!==d&&(C=null)}else C=null;var K=/^\s*class\b/,X=function(W){try{var P=Me.call(W);return K.test(P)}catch{return!1}},H=function(W){try{return!X(W)&&(Me.call(W),!0)}catch{return!1}},F=Object.prototype.toString,R="function"==typeof Symbol&&!!Symbol.toStringTag,G=!(0 in[,]),pe=function(){return!1};if("object"==typeof document){var Se=document.all;F.call(Se)===F.call(document.all)&&(pe=function(W){if((G||!W)&&(typeof W>"u"||"object"==typeof W))try{var P=F.call(W);return("[object HTMLAllCollection]"===P||"[object HTML document.all class]"===P||"[object HTMLCollection]"===P||"[object Object]"===P)&&null==W("")}catch{}return!1})}Ce.exports=C?function(W){if(pe(W))return!0;if(!W||"function"!=typeof W&&"object"!=typeof W)return!1;try{C(W,null,S)}catch(P){if(P!==d)return!1}return!X(W)&&H(W)}:function(W){if(pe(W))return!0;if(!W||"function"!=typeof W&&"object"!=typeof W)return!1;if(R)return H(W);if(X(W))return!1;var P=F.call(W);return!("[object Function]"!==P&&"[object GeneratorFunction]"!==P&&!/^\[object HTML/.test(P))&&H(W)}},6994:(Ce,Me,C)=>{"use strict";var S=Date.prototype.getDay,K=Object.prototype.toString,H=C(6518)();Ce.exports=function(M){return"object"==typeof M&&null!==M&&(H?function(M){try{return S.call(M),!0}catch{return!1}}(M):"[object Date]"===K.call(M))}},6128:Ce=>{"use strict";var S,Me="function"==typeof Map&&Map.prototype?Map:null,C="function"==typeof Set&&Set.prototype?Set:null;Me||(S=function(H){return!1});var d=Me?Map.prototype.has:null,K=C?Set.prototype.has:null;!S&&!d&&(S=function(H){return!1}),Ce.exports=S||function(H){if(!H||"object"!=typeof H)return!1;try{if(d.call(H),K)try{K.call(H)}catch{return!0}return H instanceof Me}catch{}return!1}},9065:(Ce,Me,C)=>{"use strict";var S=Number.prototype.toString,K=Object.prototype.toString,H=C(6518)();Ce.exports=function(M){return"number"==typeof M||"object"==typeof M&&(H?function(M){try{return S.call(M),!0}catch{return!1}}(M):"[object Number]"===K.call(M))}},9649:(Ce,Me,C)=>{"use strict";var K,X,H,F,S=C(1491),d=C(6518)();if(d){K=S("Object.prototype.hasOwnProperty"),X=S("RegExp.prototype.exec"),H={};var M=function(){throw H};F={toString:M,valueOf:M},"symbol"==typeof Symbol.toPrimitive&&(F[Symbol.toPrimitive]=M)}var A=S("Object.prototype.toString"),J=Object.getOwnPropertyDescriptor;Ce.exports=d?function(L){if(!L||"object"!=typeof L)return!1;var R=J(L,"lastIndex");if(!R||!K(R,"value"))return!1;try{X(L,F)}catch(pe){return pe===H}}:function(L){return!(!L||"object"!=typeof L&&"function"!=typeof L)&&"[object RegExp]"===A(L)}},5918:Ce=>{"use strict";var S,Me="function"==typeof Map&&Map.prototype?Map:null,C="function"==typeof Set&&Set.prototype?Set:null;C||(S=function(H){return!1});var d=Me?Map.prototype.has:null,K=C?Set.prototype.has:null;!S&&!K&&(S=function(H){return!1}),Ce.exports=S||function(H){if(!H||"object"!=typeof H)return!1;try{if(K.call(H),d)try{d.call(H)}catch{return!0}return H instanceof C}catch{}return!1}},5327:(Ce,Me,C)=>{"use strict";var d=C(1491)("SharedArrayBuffer.prototype.byteLength",!0);Ce.exports=d?function(X){if(!X||"object"!=typeof X)return!1;try{return d(X),!0}catch{return!1}}:function(X){return!1}},2706:(Ce,Me,C)=>{"use strict";var S=String.prototype.valueOf,K=Object.prototype.toString,H=C(6518)();Ce.exports=function(M){return"string"==typeof M||"object"==typeof M&&(H?function(M){try{return S.call(M),!0}catch{return!1}}(M):"[object String]"===K.call(M))}},2630:(Ce,Me,C)=>{"use strict";var S=Object.prototype.toString;if(C(2337)()){var K=Symbol.prototype.toString,X=/^Symbol\(.*\)$/;Ce.exports=function(M){if("symbol"==typeof M)return!0;if("[object Symbol]"!==S.call(M))return!1;try{return function(M){return"symbol"==typeof M.valueOf()&&X.test(K.call(M))}(M)}catch{return!1}}}else Ce.exports=function(M){return!1}},3631:(Ce,Me,C)=>{"use strict";var S=C(927);Ce.exports=function(K){return!!S(K)}},1545:Ce=>{"use strict";var S,Me="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,C="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;Me||(S=function(H){return!1});var d=Me?Me.prototype.has:null,K=C?C.prototype.has:null;!S&&!d&&(S=function(H){return!1}),Ce.exports=S||function(H){if(!H||"object"!=typeof H)return!1;try{if(d.call(H,d),K)try{K.call(H,K)}catch{return!0}return H instanceof Me}catch{}return!1}},9043:(Ce,Me,C)=>{"use strict";var S=C(3485),d=C(1491),K=S("%WeakSet%",!0),X=d("WeakSet.prototype.has",!0);if(X){var H=d("WeakMap.prototype.has",!0);Ce.exports=function(M){if(!M||"object"!=typeof M)return!1;try{if(X(M,X),H)try{H(M,H)}catch{return!0}return M instanceof K}catch{}return!1}}else Ce.exports=function(M){return!1}},9604:Ce=>{var Me={}.toString;Ce.exports=Array.isArray||function(C){return"[object Array]"==Me.call(C)}},3219:(Ce,Me,C)=>{var S,d,K,X,H;S=C(3754),d=C(7303).utf8,K=C(7617),X=C(7303).bin,(H=function(F,M){F.constructor==String?F=M&&"binary"===M.encoding?X.stringToBytes(F):d.stringToBytes(F):K(F)?F=Array.prototype.slice.call(F,0):!Array.isArray(F)&&F.constructor!==Uint8Array&&(F=F.toString());for(var A=S.bytesToWords(F),J=8*F.length,V=1732584193,N=-271733879,L=-1732584194,R=271733878,G=0;G<A.length;G++)A[G]=16711935&(A[G]<<8|A[G]>>>24)|4278255360&(A[G]<<24|A[G]>>>8);A[J>>>5]|=128<<J%32,A[14+(J+64>>>9<<4)]=J;var pe=H._ff,Se=H._gg,ie=H._hh,W=H._ii;for(G=0;G<A.length;G+=16){var P=V,ne=N,ce=L,le=R;V=pe(V,N,L,R,A[G+0],7,-680876936),R=pe(R,V,N,L,A[G+1],12,-389564586),L=pe(L,R,V,N,A[G+2],17,606105819),N=pe(N,L,R,V,A[G+3],22,-1044525330),V=pe(V,N,L,R,A[G+4],7,-176418897),R=pe(R,V,N,L,A[G+5],12,1200080426),L=pe(L,R,V,N,A[G+6],17,-1473231341),N=pe(N,L,R,V,A[G+7],22,-45705983),V=pe(V,N,L,R,A[G+8],7,1770035416),R=pe(R,V,N,L,A[G+9],12,-1958414417),L=pe(L,R,V,N,A[G+10],17,-42063),N=pe(N,L,R,V,A[G+11],22,-1990404162),V=pe(V,N,L,R,A[G+12],7,1804603682),R=pe(R,V,N,L,A[G+13],12,-40341101),L=pe(L,R,V,N,A[G+14],17,-1502002290),V=Se(V,N=pe(N,L,R,V,A[G+15],22,1236535329),L,R,A[G+1],5,-165796510),R=Se(R,V,N,L,A[G+6],9,-1069501632),L=Se(L,R,V,N,A[G+11],14,643717713),N=Se(N,L,R,V,A[G+0],20,-373897302),V=Se(V,N,L,R,A[G+5],5,-701558691),R=Se(R,V,N,L,A[G+10],9,38016083),L=Se(L,R,V,N,A[G+15],14,-660478335),N=Se(N,L,R,V,A[G+4],20,-405537848),V=Se(V,N,L,R,A[G+9],5,568446438),R=Se(R,V,N,L,A[G+14],9,-1019803690),L=Se(L,R,V,N,A[G+3],14,-187363961),N=Se(N,L,R,V,A[G+8],20,1163531501),V=Se(V,N,L,R,A[G+13],5,-1444681467),R=Se(R,V,N,L,A[G+2],9,-51403784),L=Se(L,R,V,N,A[G+7],14,1735328473),V=ie(V,N=Se(N,L,R,V,A[G+12],20,-1926607734),L,R,A[G+5],4,-378558),R=ie(R,V,N,L,A[G+8],11,-2022574463),L=ie(L,R,V,N,A[G+11],16,1839030562),N=ie(N,L,R,V,A[G+14],23,-35309556),V=ie(V,N,L,R,A[G+1],4,-1530992060),R=ie(R,V,N,L,A[G+4],11,1272893353),L=ie(L,R,V,N,A[G+7],16,-155497632),N=ie(N,L,R,V,A[G+10],23,-1094730640),V=ie(V,N,L,R,A[G+13],4,681279174),R=ie(R,V,N,L,A[G+0],11,-358537222),L=ie(L,R,V,N,A[G+3],16,-722521979),N=ie(N,L,R,V,A[G+6],23,76029189),V=ie(V,N,L,R,A[G+9],4,-640364487),R=ie(R,V,N,L,A[G+12],11,-421815835),L=ie(L,R,V,N,A[G+15],16,530742520),V=W(V,N=ie(N,L,R,V,A[G+2],23,-995338651),L,R,A[G+0],6,-198630844),R=W(R,V,N,L,A[G+7],10,1126891415),L=W(L,R,V,N,A[G+14],15,-1416354905),N=W(N,L,R,V,A[G+5],21,-57434055),V=W(V,N,L,R,A[G+12],6,1700485571),R=W(R,V,N,L,A[G+3],10,-1894986606),L=W(L,R,V,N,A[G+10],15,-1051523),N=W(N,L,R,V,A[G+1],21,-2054922799),V=W(V,N,L,R,A[G+8],6,1873313359),R=W(R,V,N,L,A[G+15],10,-30611744),L=W(L,R,V,N,A[G+6],15,-1560198380),N=W(N,L,R,V,A[G+13],21,1309151649),V=W(V,N,L,R,A[G+4],6,-145523070),R=W(R,V,N,L,A[G+11],10,-1120210379),L=W(L,R,V,N,A[G+2],15,718787259),N=W(N,L,R,V,A[G+9],21,-343485551),V=V+P>>>0,N=N+ne>>>0,L=L+ce>>>0,R=R+le>>>0}return S.endian([V,N,L,R])})._ff=function(F,M,A,J,V,N,L){var R=F+(M&A|~M&J)+(V>>>0)+L;return(R<<N|R>>>32-N)+M},H._gg=function(F,M,A,J,V,N,L){var R=F+(M&J|A&~J)+(V>>>0)+L;return(R<<N|R>>>32-N)+M},H._hh=function(F,M,A,J,V,N,L){var R=F+(M^A^J)+(V>>>0)+L;return(R<<N|R>>>32-N)+M},H._ii=function(F,M,A,J,V,N,L){var R=F+(A^(M|~J))+(V>>>0)+L;return(R<<N|R>>>32-N)+M},H._blocksize=16,H._digestsize=16,Ce.exports=function(F,M){if(null==F)throw new Error("Illegal argument "+F);var A=S.wordsToBytes(H(F,M));return M&&M.asBytes?A:M&&M.asString?X.bytesToString(A):S.bytesToHex(A)}},5580:(Ce,Me)=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});var C=[];C[0]=function(){return function(){}},C[1]=function(X,H){return typeof H>"u"?X:function(M){X(M,H)}};var K=function(){function X(){this.hasHandlers=!1,this._handlers=[],this._contexts=[],this._createDispatcher()}return X.prototype.addHandler=function(H,F){return this.isHandlerAttached(H,F)||(this._handlers.push(H),this._contexts.push(F),this._createDispatcher(),this._updateHasHandlers()),this},X.prototype.removeHandler=function(H,F){var M=this._getHandlerIndex(H,F);return typeof M<"u"&&(this._handlers.splice(M,1),this._contexts.splice(M,1),this._createDispatcher(),this._updateHasHandlers()),this},X.prototype.isHandlerAttached=function(H,F){return typeof this._getHandlerIndex(H,F)<"u"},X.prototype._updateHasHandlers=function(){this.hasHandlers=!!this._handlers.length},X.prototype._getHandlerIndex=function(H,F){var A,M=this._handlers.length;for(A=0;A<M&&(this._handlers[A]!==H||this._contexts[A]!==F);A++);return A<M?A:void 0},X.prototype._createDispatcher=function(){this.dispatch=function S(X){return C[X]||(C[X]=function d(X){for(var H="return function dispatcher"+X+"(payload) {\n",F=[],M=[],A=0;A<X;A++)F.push("cb"+A),M.push("ctx"+A),H+="    cb"+A+"(payload, ctx"+A+");\n";return H+="};",new(Function.bind.apply(Function,[void 0].concat(F.concat(M),[H])))}(X)),C[X]}(this._handlers.length).apply(this,this._handlers.concat(this._contexts))},X}();Me.default=K},5861:(Ce,Me,C)=>{"use strict";var d=C(5580);Me.j=d.default},588:function(Ce,Me){var C,d;void 0!==(d="function"==typeof(C=function(){"use strict";var K=Object.prototype.hasOwnProperty,X=Object.prototype.toString,H="boolean"==typeof(new RegExp).sticky;function F(E){return E&&"[object RegExp]"===X.call(E)}function M(E){return E&&"object"==typeof E&&!F(E)&&!Array.isArray(E)}function J(E){return new RegExp("|"+E).exec("").length-1}function V(E){return"("+E+")"}function N(E){return E.length?"(?:"+E.map(function(Q){return"(?:"+Q+")"}).join("|")+")":"(?!)"}function L(E){if("string"==typeof E)return"(?:"+function A(E){return E.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}(E)+")";if(F(E)){if(E.ignoreCase)throw new Error("RegExp /i flag not allowed");if(E.global)throw new Error("RegExp /g flag is implied");if(E.sticky)throw new Error("RegExp /y flag is implied");if(E.multiline)throw new Error("RegExp /m flag is implied");return E.source}throw new Error("Not a pattern: "+E)}function R(E,T){return E.length>T?E:Array(T-E.length+1).join(" ")+E}function ie(E,T){if(M(T)||(T={match:T}),T.include)throw new Error("Matching rules cannot also include states");var Q={defaultType:E,lineBreaks:!!T.error||!!T.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var me in T)K.call(T,me)&&(Q[me]=T[me]);if("string"==typeof Q.type&&E!==Q.type)throw new Error("Type transform cannot be a string (type '"+Q.type+"' for token '"+E+"')");var We=Q.match;return Q.match=Array.isArray(We)?We:We?[We]:[],Q.match.sort(function(Xe,ye){return F(Xe)&&F(ye)?0:F(ye)?-1:F(Xe)?1:ye.length-Xe.length}),Q}function W(E){return Array.isArray(E)?function Se(E){for(var T=[],Q=0;Q<E.length;Q++){var me=E[Q];if(me.include)for(var We=[].concat(me.include),Xe=0;Xe<We.length;Xe++)T.push({include:We[Xe]});else{if(!me.type)throw new Error("Rule has no type: "+JSON.stringify(me));T.push(ie(me.type,me))}}return T}(E):function pe(E){for(var T=Object.getOwnPropertyNames(E),Q=[],me=0;me<T.length;me++){var We=T[me],ye=[].concat(E[We]);if("include"!==We){var ve=[];ye.forEach(function(we){M(we)?(ve.length&&Q.push(ie(We,ve)),Q.push(ie(We,we)),ve=[]):ve.push(we)}),ve.length&&Q.push(ie(We,ve))}else for(var Le=0;Le<ye.length;Le++)Q.push({include:ye[Le]})}return Q}(E)}var P=ie("error",{lineBreaks:!0,shouldThrow:!0});function ne(E,T){for(var Q=null,me=Object.create(null),We=!0,Xe=null,ye=[],Le=[],ve=0;ve<E.length;ve++)E[ve].fallback&&(We=!1);for(ve=0;ve<E.length;ve++){var we=E[ve];if(we.include)throw new Error("Inheritance is not allowed in stateless lexers");if(we.error||we.fallback){if(Q)throw!we.fallback==!Q.fallback?new Error("Multiple "+(we.fallback?"fallback":"error")+" rules not allowed (for token '"+we.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+we.defaultType+"')");Q=we}var tt=we.match.slice();if(We)for(;tt.length&&"string"==typeof tt[0]&&1===tt[0].length;)me[tt.shift().charCodeAt(0)]=we;if(we.pop||we.push||we.next){if(!T)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+we.defaultType+"')");if(we.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+we.defaultType+"')")}if(0!==tt.length){We=!1,ye.push(we);for(var fe=0;fe<tt.length;fe++){var Ge=tt[fe];if(F(Ge))if(null===Xe)Xe=Ge.unicode;else if(Xe!==Ge.unicode&&!1===we.fallback)throw new Error("If one rule is /u then all must be")}var ct=N(tt.map(L)),ze=new RegExp(ct);if(ze.test(""))throw new Error("RegExp matches empty string: "+ze);if(J(ct)>0)throw new Error("RegExp has capture groups: "+ze+"\nUse (?: \u2026 ) instead");if(!we.lineBreaks&&ze.test("\n"))throw new Error("Rule should declare lineBreaks: "+ze);Le.push(V(ct))}}var Bt=Q&&Q.fallback,Et=H&&!Bt?"ym":"gm",xe=H||Bt?"":"|";return!0===Xe&&(Et+="u"),{regexp:new RegExp(N(Le)+xe,Et),groups:ye,fast:me,error:Q||P}}function le(E,T,Q){var me=E&&(E.push||E.next);if(me&&!Q[me])throw new Error("Missing state '"+me+"' (in token '"+E.defaultType+"' of state '"+T+"')");if(E&&E.pop&&1!=+E.pop)throw new Error("pop must be 1 (in token '"+E.defaultType+"' of state '"+T+"')")}var O=function(E,T){this.startState=T,this.states=E,this.buffer="",this.stack=[],this.reset()};O.prototype.reset=function(E,T){return this.buffer=E||"",this.index=0,this.line=T?T.line:1,this.col=T?T.col:1,this.queuedToken=T?T.queuedToken:null,this.queuedText=T?T.queuedText:"",this.queuedThrow=T?T.queuedThrow:null,this.setState(T?T.state:this.startState),this.stack=T&&T.stack?T.stack.slice():[],this},O.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedText:this.queuedText,queuedThrow:this.queuedThrow}},O.prototype.setState=function(E){if(E&&this.state!==E){this.state=E;var T=this.states[E];this.groups=T.groups,this.error=T.error,this.re=T.regexp,this.fast=T.fast}},O.prototype.popState=function(){this.setState(this.stack.pop())},O.prototype.pushState=function(E){this.stack.push(this.state),this.setState(E)};var $=H?function(E,T){return E.exec(T)}:function(E,T){var Q=E.exec(T);return 0===Q[0].length?null:Q};function re(){return this.value}if(O.prototype._getGroup=function(E){for(var T=this.groups.length,Q=0;Q<T;Q++)if(void 0!==E[Q+1])return this.groups[Q];throw new Error("Cannot find token type for matched text")},O.prototype.next=function(){var E=this.index;if(this.queuedGroup){var T=this._token(this.queuedGroup,this.queuedText,E);return this.queuedGroup=null,this.queuedText="",T}var Q=this.buffer;if(E!==Q.length){if(ye=this.fast[Q.charCodeAt(E)])return this._token(ye,Q.charAt(E),E);var me=this.re;me.lastIndex=E;var We=$(me,Q),Xe=this.error;if(null==We)return this._token(Xe,Q.slice(E,Q.length),E);var ye=this._getGroup(We),Le=We[0];return Xe.fallback&&We.index!==E?(this.queuedGroup=ye,this.queuedText=Le,this._token(Xe,Q.slice(E,We.index),E)):this._token(ye,Le,E)}},O.prototype._token=function(E,T,Q){var me=0;if(E.lineBreaks){var We=/\n/g,Xe=1;if("\n"===T)me=1;else for(;We.exec(T);)me++,Xe=We.lastIndex}var ye={type:"function"==typeof E.type&&E.type(T)||E.defaultType,value:"function"==typeof E.value?E.value(T):T,text:T,toString:re,offset:Q,lineBreaks:me,line:this.line,col:this.col},Le=T.length;if(this.index+=Le,this.line+=me,0!==me?this.col=Le-Xe+1:this.col+=Le,E.shouldThrow)throw new Error(this.formatError(ye,"invalid syntax"));return E.pop?this.popState():E.push?this.pushState(E.push):E.next&&this.setState(E.next),ye},typeof Symbol<"u"&&Symbol.iterator){var I=function(E){this.lexer=E};I.prototype.next=function(){var E=this.lexer.next();return{value:E,done:!E}},I.prototype[Symbol.iterator]=function(){return this},O.prototype[Symbol.iterator]=function(){return new I(this)}}return O.prototype.formatError=function(E,T){if(null==E){var Q=this.buffer.slice(this.index);E={text:Q,offset:this.index,lineBreaks:-1===Q.indexOf("\n")?0:1,line:this.line,col:this.col}}var We=Math.max(E.line-2,1),ye=String(E.line+2).length,Le=function G(E,T){for(var Q=E.length,me=0;;){var We=E.lastIndexOf("\n",Q-1);if(-1===We||(Q=We,++me===T)||0===Q)break}return E.substring(me<T?0:Q+1).split("\n")}(this.buffer,this.line-E.line+2+1).slice(0,5),ve=[];ve.push(T+" at line "+E.line+" col "+E.col+":"),ve.push("");for(var we=0;we<Le.length;we++){var tt=Le[we],Dt=We+we;ve.push(R(String(Dt),ye)+"  "+tt),Dt===E.line&&ve.push(R("",ye+E.col+1)+"^")}return ve.join("\n")},O.prototype.clone=function(){return new O(this.states,this.state)},O.prototype.has=function(E){return!0},{compile:function ce(E){var T=ne(W(E));return new O({start:T},"start")},states:function Re(E,T){var Q=E.$all?W(E.$all):[];delete E.$all;var me=Object.getOwnPropertyNames(E);T||(T=me[0]);for(var We=Object.create(null),Xe=0;Xe<me.length;Xe++)We[ye=me[Xe]]=W(E[ye]).concat(Q);for(Xe=0;Xe<me.length;Xe++)for(var Le=We[ye=me[Xe]],ve=Object.create(null),we=0;we<Le.length;we++){var tt=Le[we];if(tt.include){var Dt=[we,1];if(tt.include!==ye&&!ve[tt.include]){ve[tt.include]=!0;var fe=We[tt.include];if(!fe)throw new Error("Cannot include nonexistent state '"+tt.include+"' (in state '"+ye+"')");for(var Ge=0;Ge<fe.length;Ge++){var ct=fe[Ge];-1===Le.indexOf(ct)&&Dt.push(ct)}}Le.splice.apply(Le,Dt),we--}}var ze=Object.create(null);for(Xe=0;Xe<me.length;Xe++){var ye;ze[ye=me[Xe]]=ne(We[ye],!0)}for(Xe=0;Xe<me.length;Xe++){var Tt=me[Xe],Bt=ze[Tt],Et=Bt.groups;for(we=0;we<Et.length;we++)le(Et[we],Tt,ze);var xe=Object.getOwnPropertyNames(Bt.fast);for(we=0;we<xe.length;we++)le(Bt.fast[xe[we]],Tt,ze)}return new O(ze,T)},error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:function Fe(E){for(var T=typeof Map<"u",Q=T?new Map:Object.create(null),me=Object.getOwnPropertyNames(E),We=0;We<me.length;We++){var Xe=me[We],ye=E[Xe];(Array.isArray(ye)?ye:[ye]).forEach(function(ve){if("string"!=typeof ve)throw new Error("keyword must be string (in keyword '"+Xe+"')");T?Q.set(ve,Xe):Q[ve]=Xe})}return function(ve){return T?Q.get(ve):Q[ve]}}}})?C.apply(Me,[]):C)&&(Ce.exports=d)},2720:(Ce,Me,C)=>{var S="function"==typeof Map&&Map.prototype,d=Object.getOwnPropertyDescriptor&&S?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,K=S&&d&&"function"==typeof d.get?d.get:null,X=S&&Map.prototype.forEach,H="function"==typeof Set&&Set.prototype,F=Object.getOwnPropertyDescriptor&&H?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,M=H&&F&&"function"==typeof F.get?F.get:null,A=H&&Set.prototype.forEach,V="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,L="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,G="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,pe=Boolean.prototype.valueOf,Se=Object.prototype.toString,ie=Function.prototype.toString,W=String.prototype.match,P=String.prototype.slice,ne=String.prototype.replace,ce=String.prototype.toUpperCase,le=String.prototype.toLowerCase,Re=RegExp.prototype.test,Fe=Array.prototype.concat,O=Array.prototype.join,$=Array.prototype.slice,re=Math.floor,I="function"==typeof BigInt?BigInt.prototype.valueOf:null,E=Object.getOwnPropertySymbols,T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,Q="function"==typeof Symbol&&"object"==typeof Symbol.iterator,me="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,We=Object.prototype.propertyIsEnumerable,Xe=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(he){return he.__proto__}:null);function ye(he,Te){if(he===1/0||he===-1/0||he!=he||he&&he>-1e3&&he<1e3||Re.call(/e/,Te))return Te;var Qt=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof he){var Wt=he<0?-re(-he):re(he);if(Wt!==he){var yn=String(Wt),Xt=P.call(Te,yn.length+1);return ne.call(yn,Qt,"$&_")+"."+ne.call(ne.call(Xt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return ne.call(Te,Qt,"$&_")}var Le=C(4654),ve=Le.custom,we=xe(ve)?ve:null;function tt(he,Te,Qt){var Wt="double"===(Qt.quoteStyle||Te)?'"':"'";return Wt+he+Wt}function Dt(he){return ne.call(String(he),/"/g,"&quot;")}function fe(he){return!("[object Array]"!==at(he)||me&&"object"==typeof he&&me in he)}function ct(he){return!("[object RegExp]"!==at(he)||me&&"object"==typeof he&&me in he)}function xe(he){if(Q)return he&&"object"==typeof he&&he instanceof Symbol;if("symbol"==typeof he)return!0;if(!he||"object"!=typeof he||!T)return!1;try{return T.call(he),!0}catch{}return!1}Ce.exports=function he(Te,Qt,Wt,yn){var Xt=Qt||{};if(nt(Xt,"quoteStyle")&&"single"!==Xt.quoteStyle&&"double"!==Xt.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(nt(Xt,"maxStringLength")&&("number"==typeof Xt.maxStringLength?Xt.maxStringLength<0&&Xt.maxStringLength!==1/0:null!==Xt.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Dr=!nt(Xt,"customInspect")||Xt.customInspect;if("boolean"!=typeof Dr&&"symbol"!==Dr)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(nt(Xt,"indent")&&null!==Xt.indent&&"\t"!==Xt.indent&&!(parseInt(Xt.indent,10)===Xt.indent&&Xt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(nt(Xt,"numericSeparator")&&"boolean"!=typeof Xt.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var zn=Xt.numericSeparator;if(typeof Te>"u")return"undefined";if(null===Te)return"null";if("boolean"==typeof Te)return Te?"true":"false";if("string"==typeof Te)return Vr(Te,Xt);if("number"==typeof Te){if(0===Te)return 1/0/Te>0?"0":"-0";var Yr=String(Te);return zn?ye(Te,Yr):Yr}if("bigint"==typeof Te){var bo=String(Te)+"n";return zn?ye(Te,bo):bo}var In=typeof Xt.depth>"u"?5:Xt.depth;if(typeof Wt>"u"&&(Wt=0),Wt>=In&&In>0&&"object"==typeof Te)return fe(Te)?"[Array]":"[Object]";var co=function lo(he,Te){var Qt;if("\t"===he.indent)Qt="\t";else{if(!("number"==typeof he.indent&&he.indent>0))return null;Qt=O.call(Array(he.indent+1)," ")}return{base:Qt,prev:O.call(Array(Te+1),Qt)}}(Xt,Wt);if(typeof yn>"u")yn=[];else if(on(yn,Te)>=0)return"[Circular]";function uo(Qo,yi,Ii){if(yi&&(yn=$.call(yn)).push(yi),Ii){var bi={depth:Xt.depth};return nt(Xt,"quoteStyle")&&(bi.quoteStyle=Xt.quoteStyle),he(Qo,bi,Wt+1,yn)}return he(Qo,Xt,Wt+1,yn)}if("function"==typeof Te&&!ct(Te)){var Oi=function zt(he){if(he.name)return he.name;var Te=W.call(ie.call(he),/^function\s*([\w$]+)/);return Te?Te[1]:null}(Te),Vo=jr(Te,uo);return"[Function"+(Oi?": "+Oi:" (anonymous)")+"]"+(Vo.length>0?" { "+O.call(Vo,", ")+" }":"")}if(xe(Te)){var On=Q?ne.call(String(Te),/^(Symbol\(.*\))_[^)]*$/,"$1"):T.call(Te);return"object"!=typeof Te||Q?On:Pr(On)}if(function Ko(he){return!(!he||"object"!=typeof he)&&(typeof HTMLElement<"u"&&he instanceof HTMLElement||"string"==typeof he.nodeName&&"function"==typeof he.getAttribute)}(Te)){for(var _r="<"+le.call(String(Te.nodeName)),vr=Te.attributes||[],xn=0;xn<vr.length;xn++)_r+=" "+vr[xn].name+"="+tt(Dt(vr[xn].value),"double",Xt);return _r+=">",Te.childNodes&&Te.childNodes.length&&(_r+="..."),_r+"</"+le.call(String(Te.nodeName))+">"}if(fe(Te)){if(0===Te.length)return"[]";var Ln=jr(Te,uo);return co&&!function Mo(he){for(var Te=0;Te<he.length;Te++)if(on(he[Te],"\n")>=0)return!1;return!0}(Ln)?"["+yo(Ln,co)+"]":"[ "+O.call(Ln,", ")+" ]"}if(function ze(he){return!("[object Error]"!==at(he)||me&&"object"==typeof he&&me in he)}(Te)){var Xo=jr(Te,uo);return"cause"in Error.prototype||!("cause"in Te)||We.call(Te,"cause")?0===Xo.length?"["+String(Te)+"]":"{ ["+String(Te)+"] "+O.call(Xo,", ")+" }":"{ ["+String(Te)+"] "+O.call(Fe.call("[cause]: "+uo(Te.cause),Xo),", ")+" }"}if("object"==typeof Te&&Dr){if(we&&"function"==typeof Te[we]&&Le)return Le(Te,{depth:In-Wt});if("symbol"!==Dr&&"function"==typeof Te.inspect)return Te.inspect()}if(function $t(he){if(!K||!he||"object"!=typeof he)return!1;try{K.call(he);try{M.call(he)}catch{return!0}return he instanceof Map}catch{}return!1}(Te)){var an=[];return X&&X.call(Te,function(Qo,yi){an.push(uo(yi,Te,!0)+" => "+uo(Qo,Te))}),Kn("Map",K.call(Te),an,co)}if(function gr(he){if(!M||!he||"object"!=typeof he)return!1;try{M.call(he);try{K.call(he)}catch{return!0}return he instanceof Set}catch{}return!1}(Te)){var di=[];return A&&A.call(Te,function(Qo){di.push(uo(Qo,Te))}),Kn("Set",M.call(Te),di,co)}if(function sn(he){if(!V||!he||"object"!=typeof he)return!1;try{V.call(he,V);try{L.call(he,L)}catch{return!0}return he instanceof WeakMap}catch{}return!1}(Te))return Or("WeakMap");if(function Pn(he){if(!L||!he||"object"!=typeof he)return!1;try{L.call(he,L);try{V.call(he,V)}catch{return!0}return he instanceof WeakSet}catch{}return!1}(Te))return Or("WeakSet");if(function Sn(he){if(!G||!he||"object"!=typeof he)return!1;try{return G.call(he),!0}catch{}return!1}(Te))return Or("WeakRef");if(function Bt(he){return!("[object Number]"!==at(he)||me&&"object"==typeof he&&me in he)}(Te))return Pr(uo(Number(Te)));if(function be(he){if(!he||"object"!=typeof he||!I)return!1;try{return I.call(he),!0}catch{}return!1}(Te))return Pr(uo(I.call(Te)));if(function Et(he){return!("[object Boolean]"!==at(he)||me&&"object"==typeof he&&me in he)}(Te))return Pr(pe.call(Te));if(function Tt(he){return!("[object String]"!==at(he)||me&&"object"==typeof he&&me in he)}(Te))return Pr(uo(String(Te)));if(typeof window<"u"&&Te===window)return"{ [object Window] }";if(Te===global)return"{ [object globalThis] }";if(!function Ge(he){return!("[object Date]"!==at(he)||me&&"object"==typeof he&&me in he)}(Te)&&!ct(Te)){var Fi=jr(Te,uo),fi=Xe?Xe(Te)===Object.prototype:Te instanceof Object||Te.constructor===Object,Di=Te instanceof Object?"":"null prototype",oe=!fi&&me&&Object(Te)===Te&&me in Te?P.call(at(Te),8,-1):Di?"Object":"",Ni=(fi||"function"!=typeof Te.constructor?"":Te.constructor.name?Te.constructor.name+" ":"")+(oe||Di?"["+O.call(Fe.call([],oe||[],Di||[]),": ")+"] ":"");return 0===Fi.length?Ni+"{}":co?Ni+"{"+yo(Fi,co)+"}":Ni+"{ "+O.call(Fi,", ")+" }"}return String(Te)};var ke=Object.prototype.hasOwnProperty||function(he){return he in this};function nt(he,Te){return ke.call(he,Te)}function at(he){return Se.call(he)}function on(he,Te){if(he.indexOf)return he.indexOf(Te);for(var Qt=0,Wt=he.length;Qt<Wt;Qt++)if(he[Qt]===Te)return Qt;return-1}function Vr(he,Te){if(he.length>Te.maxStringLength){var Qt=he.length-Te.maxStringLength,Wt="... "+Qt+" more character"+(Qt>1?"s":"");return Vr(P.call(he,0,Te.maxStringLength),Te)+Wt}return tt(ne.call(ne.call(he,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,vo),"single",Te)}function vo(he){var Te=he.charCodeAt(0),Qt={8:"b",9:"t",10:"n",12:"f",13:"r"}[Te];return Qt?"\\"+Qt:"\\x"+(Te<16?"0":"")+ce.call(Te.toString(16))}function Pr(he){return"Object("+he+")"}function Or(he){return he+" { ? }"}function Kn(he,Te,Qt,Wt){return he+" ("+Te+") {"+(Wt?yo(Qt,Wt):O.call(Qt,", "))+"}"}function yo(he,Te){if(0===he.length)return"";var Qt="\n"+Te.prev+Te.base;return Qt+O.call(he,","+Qt)+"\n"+Te.prev}function jr(he,Te){var Qt=fe(he),Wt=[];if(Qt){Wt.length=he.length;for(var yn=0;yn<he.length;yn++)Wt[yn]=nt(he,yn)?Te(he[yn],he):""}var Dr,Xt="function"==typeof E?E(he):[];if(Q){Dr={};for(var zn=0;zn<Xt.length;zn++)Dr["$"+Xt[zn]]=Xt[zn]}for(var Yr in he)nt(he,Yr)&&(Qt&&String(Number(Yr))===Yr&&Yr<he.length||Q&&Dr["$"+Yr]instanceof Symbol||(Re.call(/[^\w$]/,Yr)?Wt.push(Te(Yr,he)+": "+Te(he[Yr],he)):Wt.push(Yr+": "+Te(he[Yr],he))));if("function"==typeof E)for(var bo=0;bo<Xt.length;bo++)We.call(he,Xt[bo])&&Wt.push("["+Te(Xt[bo])+"]: "+Te(he[Xt[bo]],he));return Wt}},5376:Ce=>{"use strict";var Me=function(C){return C!=C};Ce.exports=function(S,d){return 0===S&&0===d?1/S==1/d:!!(S===d||Me(S)&&Me(d))}},500:(Ce,Me,C)=>{"use strict";var S=C(9567),d=C(1773),K=C(5376),X=C(8204),H=C(2688),F=d(X(),Object);S(F,{getPolyfill:X,implementation:K,shim:H}),Ce.exports=F},8204:(Ce,Me,C)=>{"use strict";var S=C(5376);Ce.exports=function(){return"function"==typeof Object.is?Object.is:S}},2688:(Ce,Me,C)=>{"use strict";var S=C(8204),d=C(9567);Ce.exports=function(){var X=S();return d(Object,{is:X},{is:function(){return Object.is!==X}}),X}},1601:(Ce,Me,C)=>{"use strict";var S;if(!Object.keys){var d=Object.prototype.hasOwnProperty,K=Object.prototype.toString,X=C(6755),H=Object.prototype.propertyIsEnumerable,F=!H.call({toString:null},"toString"),M=H.call(function(){},"prototype"),A=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],J=function(R){var G=R.constructor;return G&&G.prototype===R},V={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},N=function(){if(typeof window>"u")return!1;for(var R in window)try{if(!V["$"+R]&&d.call(window,R)&&null!==window[R]&&"object"==typeof window[R])try{J(window[R])}catch{return!0}}catch{return!0}return!1}();S=function(G){var pe=null!==G&&"object"==typeof G,Se="[object Function]"===K.call(G),ie=X(G),W=pe&&"[object String]"===K.call(G),P=[];if(!pe&&!Se&&!ie)throw new TypeError("Object.keys called on a non-object");var ne=M&&Se;if(W&&G.length>0&&!d.call(G,0))for(var ce=0;ce<G.length;++ce)P.push(String(ce));if(ie&&G.length>0)for(var le=0;le<G.length;++le)P.push(String(le));else for(var Re in G)(!ne||"prototype"!==Re)&&d.call(G,Re)&&P.push(String(Re));if(F)for(var Fe=function(R){if(typeof window>"u"||!N)return J(R);try{return J(R)}catch{return!1}}(G),O=0;O<A.length;++O)(!Fe||"constructor"!==A[O])&&d.call(G,A[O])&&P.push(A[O]);return P}}Ce.exports=S},5692:(Ce,Me,C)=>{"use strict";var S=Array.prototype.slice,d=C(6755),K=Object.keys,X=K?function(M){return K(M)}:C(1601),H=Object.keys;X.shim=function(){if(Object.keys){var M=function(){var A=Object.keys(arguments);return A&&A.length===arguments.length}(1,2);M||(Object.keys=function(J){return d(J)?H(S.call(J)):H(J)})}else Object.keys=X;return Object.keys||X},Ce.exports=X},6755:Ce=>{"use strict";var Me=Object.prototype.toString;Ce.exports=function(S){var d=Me.call(S),K="[object Arguments]"===d;return K||(K="[object Array]"!==d&&null!==S&&"object"==typeof S&&"number"==typeof S.length&&S.length>=0&&"[object Function]"===Me.call(S.callee)),K}},8032:(Ce,Me,C)=>{"use strict";var S=C(5692),d=C(2759)(),K=C(1491),X=Object,H=K("Array.prototype.push"),F=K("Object.prototype.propertyIsEnumerable"),M=d?Object.getOwnPropertySymbols:null;Ce.exports=function(J,V){if(null==J)throw new TypeError("target must be an object");var N=X(J);if(1===arguments.length)return N;for(var L=1;L<arguments.length;++L){var R=X(arguments[L]),G=S(R),pe=d&&(Object.getOwnPropertySymbols||M);if(pe)for(var Se=pe(R),ie=0;ie<Se.length;++ie){var W=Se[ie];F(R,W)&&H(G,W)}for(var P=0;P<G.length;++P){var ne=G[P];F(R,ne)&&(N[ne]=R[ne])}}return N}},5747:(Ce,Me,C)=>{"use strict";var S=C(9567),d=C(1773),K=C(8032),X=C(9530),H=C(4096),F=d.apply(X()),M=function(J,V){return F(Object,arguments)};S(M,{getPolyfill:X,implementation:K,shim:H}),Ce.exports=M},9530:(Ce,Me,C)=>{"use strict";var S=C(8032);Ce.exports=function(){return!Object.assign||function(){if(!Object.assign)return!1;for(var X="abcdefghijklmnopqrst",H=X.split(""),F={},M=0;M<H.length;++M)F[H[M]]=H[M];var A=Object.assign({},F),J="";for(var V in A)J+=V;return X!==J}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var X=Object.preventExtensions({1:2});try{Object.assign(X,"xy")}catch{return"y"===X[1]}return!1}()?S:Object.assign}},4096:(Ce,Me,C)=>{"use strict";var S=C(9567),d=C(9530);Ce.exports=function(){var X=d();return S(Object,{assign:X},{assign:function(){return Object.assign!==X}}),X}},6716:(Ce,Me)=>{"use strict";var C=Object.prototype.hasOwnProperty;function d(F){try{return decodeURIComponent(F.replace(/\+/g," "))}catch{return null}}function K(F){try{return encodeURIComponent(F)}catch{return null}}Me.stringify=function H(F,M){M=M||"";var J,V,A=[];for(V in"string"!=typeof M&&(M="?"),F)if(C.call(F,V)){if(!(J=F[V])&&(null==J||isNaN(J))&&(J=""),V=K(V),J=K(J),null===V||null===J)continue;A.push(V+"="+J)}return A.length?M+A.join("&"):""},Me.parse=function X(F){for(var J,M=/([^=?#&]+)=?([^&]*)/g,A={};J=M.exec(F);){var V=d(J[1]),N=d(J[2]);null===V||null===N||V in A||(A[V]=N)}return A}},7732:(Ce,Me,C)=>{"use strict";var S=C(2562),d=Object,K=TypeError;Ce.exports=S(function(){if(null!=this&&this!==d(this))throw new K("RegExp.prototype.flags getter called on non-object");var H="";return this.hasIndices&&(H+="d"),this.global&&(H+="g"),this.ignoreCase&&(H+="i"),this.multiline&&(H+="m"),this.dotAll&&(H+="s"),this.unicode&&(H+="u"),this.unicodeSets&&(H+="v"),this.sticky&&(H+="y"),H},"get flags",!0)},4300:(Ce,Me,C)=>{"use strict";var S=C(9567),d=C(1773),K=C(7732),X=C(5848),H=C(6472),F=d(X());S(F,{getPolyfill:X,implementation:K,shim:H}),Ce.exports=F},5848:(Ce,Me,C)=>{"use strict";var S=C(7732),d=C(9567).supportsDescriptors,K=Object.getOwnPropertyDescriptor;Ce.exports=function(){if(d&&"gim"===/a/gim.flags){var H=K(RegExp.prototype,"flags");if(H&&"function"==typeof H.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var F="",M={};if(Object.defineProperty(M,"hasIndices",{get:function(){F+="d"}}),Object.defineProperty(M,"sticky",{get:function(){F+="y"}}),"dy"===F)return H.get}}return S}},6472:(Ce,Me,C)=>{"use strict";var S=C(9567).supportsDescriptors,d=C(5848),K=Object.getOwnPropertyDescriptor,X=Object.defineProperty,H=TypeError,F=Object.getPrototypeOf,M=/a/;Ce.exports=function(){if(!S||!F)throw new H("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var J=d(),V=F(M),N=K(V,"flags");return(!N||N.get!==J)&&X(V,"flags",{configurable:!0,enumerable:!1,get:J}),J}},716:Ce=>{"use strict";Ce.exports=function(C,S){if(S=S.split(":")[0],!(C=+C))return!1;switch(S){case"http":case"ws":return 80!==C;case"https":case"wss":return 443!==C;case"ftp":return 21!==C;case"gopher":return 70!==C;case"file":return!1}return 0!==C}},3931:(Ce,Me,C)=>{"use strict";var S=C(3485),d=C(4467),K=C(7811)(),X=C(6078),H=S("%TypeError%"),F=S("%Math.floor%");Ce.exports=function(A,J){if("function"!=typeof A)throw new H("`fn` is not a function");if("number"!=typeof J||J<0||J>4294967295||F(J)!==J)throw new H("`length` must be a positive 32-bit integer");var V=arguments.length>2&&!!arguments[2],N=!0,L=!0;if("length"in A&&X){var R=X(A,"length");R&&!R.configurable&&(N=!1),R&&!R.writable&&(L=!1)}return(N||L||!V)&&(K?d(A,"length",J,!0,!0):d(A,"length",J)),A}},2562:(Ce,Me,C)=>{"use strict";var S=C(4467),d=C(7811)(),K=C(7688).functionsHaveConfigurableNames(),X=TypeError;Ce.exports=function(F,M){if("function"!=typeof F)throw new X("`fn` is not a function");return(!(arguments.length>2&&arguments[2])||K)&&(d?S(F,"name",M,!0,!0):S(F,"name",M)),F}},4355:(Ce,Me,C)=>{"use strict";var S=C(3485),d=C(1491),K=C(2720),X=S("%TypeError%"),H=S("%WeakMap%",!0),F=S("%Map%",!0),M=d("WeakMap.prototype.get",!0),A=d("WeakMap.prototype.set",!0),J=d("WeakMap.prototype.has",!0),V=d("Map.prototype.get",!0),N=d("Map.prototype.set",!0),L=d("Map.prototype.has",!0),R=function(ie,W){for(var ne,P=ie;null!==(ne=P.next);P=ne)if(ne.key===W)return P.next=ne.next,ne.next=ie.next,ie.next=ne,ne};Ce.exports=function(){var W,P,ne,ce={assert:function(le){if(!ce.has(le))throw new X("Side channel does not contain "+K(le))},get:function(le){if(H&&le&&("object"==typeof le||"function"==typeof le)){if(W)return M(W,le)}else if(F){if(P)return V(P,le)}else if(ne)return function(ie,W){var P=R(ie,W);return P&&P.value}(ne,le)},has:function(le){if(H&&le&&("object"==typeof le||"function"==typeof le)){if(W)return J(W,le)}else if(F){if(P)return L(P,le)}else if(ne)return function(ie,W){return!!R(ie,W)}(ne,le);return!1},set:function(le,Re){H&&le&&("object"==typeof le||"function"==typeof le)?(W||(W=new H),A(W,le,Re)):F?(P||(P=new F),N(P,le,Re)):(ne||(ne={key:{},next:null}),function(ie,W,P){var ne=R(ie,W);ne?ne.value=P:ie.next={key:W,next:ie.next,value:P}}(ne,le,Re))}};return ce}},118:(Ce,Me,C)=>{"use strict";var S=C(2605),d=SyntaxError,K="object"==typeof StopIteration?StopIteration:null;Ce.exports=function(H){if(!K)throw new d("this environment lacks StopIteration");S.set(H,"[[Done]]",!1);var F={next:function(){var A=S.get(this,"[[Iterator]]"),J=S.get(A,"[[Done]]");try{return{done:J,value:J?void 0:A.next()}}catch(V){if(S.set(A,"[[Done]]",!0),V!==K)throw V;return{done:!0,value:void 0}}}};return S.set(F,"[[Iterator]]",H),F}},6299:(Ce,Me,C)=>{"use strict";var S=C(716),d=C(6716),K=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,X=/[\n\r\t]/g,H=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,F=/:\d+$/,M=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,A=/^[a-zA-Z]:/;function J(P){return(P||"").toString().replace(K,"")}var V=[["#","hash"],["?","query"],function(ne,ce){return R(ce.protocol)?ne.replace(/\\/g,"/"):ne},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],N={hash:1,query:1};function L(P){var ne;ne=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Fe,le={},Re=typeof(P=P||ne.location||{});if("blob:"===P.protocol)le=new Se(unescape(P.pathname),{});else if("string"===Re)for(Fe in le=new Se(P,{}),N)delete le[Fe];else if("object"===Re){for(Fe in P)Fe in N||(le[Fe]=P[Fe]);void 0===le.slashes&&(le.slashes=H.test(P.href))}return le}function R(P){return"file:"===P||"ftp:"===P||"http:"===P||"https:"===P||"ws:"===P||"wss:"===P}function G(P,ne){P=(P=J(P)).replace(X,""),ne=ne||{};var $,ce=M.exec(P),le=ce[1]?ce[1].toLowerCase():"",Re=!!ce[2],Fe=!!ce[3],O=0;return Re?Fe?($=ce[2]+ce[3]+ce[4],O=ce[2].length+ce[3].length):($=ce[2]+ce[4],O=ce[2].length):Fe?($=ce[3]+ce[4],O=ce[3].length):$=ce[4],"file:"===le?O>=2&&($=$.slice(2)):R(le)?$=ce[4]:le?Re&&($=$.slice(2)):O>=2&&R(ne.protocol)&&($=ce[4]),{protocol:le,slashes:Re||R(le),slashesCount:O,rest:$}}function Se(P,ne,ce){if(P=(P=J(P)).replace(X,""),!(this instanceof Se))return new Se(P,ne,ce);var le,Re,Fe,O,$,re,I=V.slice(),E=typeof ne,T=this,Q=0;for("object"!==E&&"string"!==E&&(ce=ne,ne=null),ce&&"function"!=typeof ce&&(ce=d.parse),le=!(Re=G(P||"",ne=L(ne))).protocol&&!Re.slashes,T.slashes=Re.slashes||le&&ne.slashes,T.protocol=Re.protocol||ne.protocol||"",P=Re.rest,("file:"===Re.protocol&&(2!==Re.slashesCount||A.test(P))||!Re.slashes&&(Re.protocol||Re.slashesCount<2||!R(T.protocol)))&&(I[3]=[/(.*)/,"pathname"]);Q<I.length;Q++)"function"!=typeof(O=I[Q])?(re=O[1],(Fe=O[0])!=Fe?T[re]=P:"string"==typeof Fe?~($="@"===Fe?P.lastIndexOf(Fe):P.indexOf(Fe))&&("number"==typeof O[2]?(T[re]=P.slice(0,$),P=P.slice($+O[2])):(T[re]=P.slice($),P=P.slice(0,$))):($=Fe.exec(P))&&(T[re]=$[1],P=P.slice(0,$.index)),T[re]=T[re]||le&&O[3]&&ne[re]||"",O[4]&&(T[re]=T[re].toLowerCase())):P=O(P,T);ce&&(T.query=ce(T.query)),le&&ne.slashes&&"/"!==T.pathname.charAt(0)&&(""!==T.pathname||""!==ne.pathname)&&(T.pathname=function pe(P,ne){if(""===P)return ne;for(var ce=(ne||"/").split("/").slice(0,-1).concat(P.split("/")),le=ce.length,Re=ce[le-1],Fe=!1,O=0;le--;)"."===ce[le]?ce.splice(le,1):".."===ce[le]?(ce.splice(le,1),O++):O&&(0===le&&(Fe=!0),ce.splice(le,1),O--);return Fe&&ce.unshift(""),("."===Re||".."===Re)&&ce.push(""),ce.join("/")}(T.pathname,ne.pathname)),"/"!==T.pathname.charAt(0)&&R(T.protocol)&&(T.pathname="/"+T.pathname),S(T.port,T.protocol)||(T.host=T.hostname,T.port=""),T.username=T.password="",T.auth&&(~($=T.auth.indexOf(":"))?(T.username=T.auth.slice(0,$),T.username=encodeURIComponent(decodeURIComponent(T.username)),T.password=T.auth.slice($+1),T.password=encodeURIComponent(decodeURIComponent(T.password))):T.username=encodeURIComponent(decodeURIComponent(T.auth)),T.auth=T.password?T.username+":"+T.password:T.username),T.origin="file:"!==T.protocol&&R(T.protocol)&&T.host?T.protocol+"//"+T.host:"null",T.href=T.toString()}Se.prototype={set:function ie(P,ne,ce){var le=this;switch(P){case"query":"string"==typeof ne&&ne.length&&(ne=(ce||d.parse)(ne)),le[P]=ne;break;case"port":le[P]=ne,S(ne,le.protocol)?ne&&(le.host=le.hostname+":"+ne):(le.host=le.hostname,le[P]="");break;case"hostname":le[P]=ne,le.port&&(ne+=":"+le.port),le.host=ne;break;case"host":le[P]=ne,F.test(ne)?(ne=ne.split(":"),le.port=ne.pop(),le.hostname=ne.join(":")):(le.hostname=ne,le.port="");break;case"protocol":le.protocol=ne.toLowerCase(),le.slashes=!ce;break;case"pathname":case"hash":if(ne){var Re="pathname"===P?"/":"#";le[P]=ne.charAt(0)!==Re?Re+ne:ne}else le[P]=ne;break;case"username":case"password":le[P]=encodeURIComponent(ne);break;case"auth":var Fe=ne.indexOf(":");~Fe?(le.username=ne.slice(0,Fe),le.username=encodeURIComponent(decodeURIComponent(le.username)),le.password=ne.slice(Fe+1),le.password=encodeURIComponent(decodeURIComponent(le.password))):le.username=encodeURIComponent(decodeURIComponent(ne))}for(var O=0;O<V.length;O++){var $=V[O];$[4]&&(le[$[1]]=le[$[1]].toLowerCase())}return le.auth=le.password?le.username+":"+le.password:le.username,le.origin="file:"!==le.protocol&&R(le.protocol)&&le.host?le.protocol+"//"+le.host:"null",le.href=le.toString(),le},toString:function W(P){(!P||"function"!=typeof P)&&(P=d.stringify);var ne,ce=this,le=ce.host,Re=ce.protocol;Re&&":"!==Re.charAt(Re.length-1)&&(Re+=":");var Fe=Re+(ce.protocol&&ce.slashes||R(ce.protocol)?"//":"");return ce.username?(Fe+=ce.username,ce.password&&(Fe+=":"+ce.password),Fe+="@"):ce.password?(Fe+=":"+ce.password,Fe+="@"):"file:"!==ce.protocol&&R(ce.protocol)&&!le&&"/"!==ce.pathname&&(Fe+="@"),(":"===le[le.length-1]||F.test(ce.hostname)&&!ce.port)&&(le+=":"),Fe+=le+ce.pathname,(ne="object"==typeof ce.query?P(ce.query):ce.query)&&(Fe+="?"!==ne.charAt(0)?"?"+ne:ne),ce.hash&&(Fe+=ce.hash),Fe}},Se.extractProtocol=G,Se.location=L,Se.trimLeft=J,Se.qs=d,Ce.exports=Se},8460:(Ce,Me,C)=>{"use strict";var S=C(2706),d=C(9065),K=C(2856),X=C(2630),H=C(7050);Ce.exports=function(M){return null==M||"object"!=typeof M&&"function"!=typeof M?null:S(M)?"String":d(M)?"Number":K(M)?"Boolean":X(M)?"Symbol":H(M)?"BigInt":void 0}},927:(Ce,Me,C)=>{"use strict";var S=C(2418),d=C(1001),K=C(1773),X=C(1491),H=C(6078),F=X("Object.prototype.toString"),M=C(6518)(),A=typeof globalThis>"u"?global:globalThis,J=d(),V=X("String.prototype.slice"),N=Object.getPrototypeOf,L=X("Array.prototype.indexOf",!0)||function(ie,W){for(var P=0;P<ie.length;P+=1)if(ie[P]===W)return P;return-1},R={__proto__:null};S(J,M&&H&&N?function(Se){var ie=new A[Se];if(Symbol.toStringTag in ie){var W=N(ie),P=H(W,Symbol.toStringTag);if(!P){var ne=N(W);P=H(ne,Symbol.toStringTag)}R["$"+Se]=K(P.get)}}:function(Se){var ie=new A[Se],W=ie.slice||ie.set;W&&(R["$"+Se]=K(W))}),Ce.exports=function(ie){if(!ie||"object"!=typeof ie)return!1;if(!M){var W=V(F(ie),8,-1);return L(J,W)>-1?W:"Object"===W&&function(ie){var W=!1;return S(R,function(P,ne){if(!W)try{P(ie),W=V(ne,1)}catch{}}),W}(ie)}return H?function(ie){var W=!1;return S(R,function(P,ne){if(!W)try{"$"+P(ie)===ne&&(W=V(ne,1))}catch{}}),W}(ie):null}},863:(Ce,Me,C)=>{var S={"./ion-accordion_2.entry.js":[7512,8592,7512],"./ion-action-sheet.entry.js":[6470,8592,6470],"./ion-alert.entry.js":[5690,8592,5690],"./ion-app_8.entry.js":[8508,8592,8508],"./ion-avatar_3.entry.js":[3438,3438],"./ion-back-button.entry.js":[9119,8592,9119],"./ion-backdrop.entry.js":[2319,2319],"./ion-breadcrumb_2.entry.js":[4848,8592,4848],"./ion-button_2.entry.js":[4752,4752],"./ion-card_5.entry.js":[9870,8162],"./ion-checkbox.entry.js":[5892,8592,5892],"./ion-chip.entry.js":[9118,9118],"./ion-col_3.entry.js":[9538,9538],"./ion-datetime-button.entry.js":[4969,5869,4969],"./ion-datetime_3.entry.js":[1835,5869,8592,1835],"./ion-fab_3.entry.js":[6719,8592,6719],"./ion-img.entry.js":[3121,3121],"./ion-infinite-scroll_2.entry.js":[3025,8592,3025],"./ion-input.entry.js":[3914,8592,3914],"./ion-item-option_3.entry.js":[3761,8592,3761],"./ion-item_8.entry.js":[6138,8592,6138],"./ion-loading.entry.js":[2063,8592,2063],"./ion-menu_3.entry.js":[4950,8592,4950],"./ion-modal.entry.js":[9707,8592,9707],"./ion-nav_2.entry.js":[234,8592,234],"./ion-picker-column-internal.entry.js":[7209,8592,7209],"./ion-picker-internal.entry.js":[3068,3068],"./ion-popover.entry.js":[9215,8592,9215],"./ion-progress-bar.entry.js":[5635,5635],"./ion-radio_2.entry.js":[1497,8592,1497],"./ion-range.entry.js":[9964,8592,5922],"./ion-refresher_2.entry.js":[6199,8592,6199],"./ion-reorder_2.entry.js":[3549,8592,3549],"./ion-ripple-effect.entry.js":[5966,5966],"./ion-route_4.entry.js":[3187,3187],"./ion-searchbar.entry.js":[9092,8592,9092],"./ion-segment_2.entry.js":[7600,8592,7600],"./ion-select_3.entry.js":[1449,8592,9870],"./ion-spinner.entry.js":[1657,8592,1657],"./ion-split-pane.entry.js":[8394,8394],"./ion-tab-bar_2.entry.js":[4574,8592,4574],"./ion-tab_2.entry.js":[3514,3514],"./ion-text.entry.js":[7502,7502],"./ion-textarea.entry.js":[7832,8592,7832],"./ion-toast.entry.js":[9805,8592,9805],"./ion-toggle.entry.js":[7393,8592,7393]};function d(K){if(!C.o(S,K))return Promise.resolve().then(()=>{var F=new Error("Cannot find module '"+K+"'");throw F.code="MODULE_NOT_FOUND",F});var X=S[K],H=X[0];return Promise.all(X.slice(1).map(C.e)).then(()=>C(H))}d.keys=()=>Object.keys(S),d.id=863,Ce.exports=d},4654:()=>{},1001:Ce=>{"use strict";var Me=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],C=typeof globalThis>"u"?global:globalThis;Ce.exports=function(){for(var d=[],K=0;K<Me.length;K++)"function"==typeof C[Me[K]]&&(d[d.length]=Me[K]);return d}},1324:(Ce,Me,C)=>{"use strict";var S=C(1568),d=C(118);if(C(2337)()||C(2759)()){var K=Symbol.iterator;Ce.exports=function($){return null!=$&&typeof $[K]<"u"?$[K]():S($)?Array.prototype[K].call($):void 0}}else{var X=C(9604),H=C(2706),F=C(3485),M=F("%Map%",!0),A=F("%Set%",!0),J=C(1491),V=J("Array.prototype.push"),N=J("String.prototype.charCodeAt"),L=J("String.prototype.slice"),G=function($){var re=0;return{next:function(){var T,E=re>=$.length;return E||(T=$[re],re+=1),{done:E,value:T}}}},pe=function($,re){if(X($)||S($))return G($);if(H($)){var I=0;return{next:function(){var T=function($,re){if(re+1>=$.length)return re+1;var E=N($,re);if(E<55296||E>56319)return re+1;var T=N($,re+1);return T<56320||T>57343?re+1:re+2}($,I),Q=L($,I,T);return I=T,{done:T>$.length,value:Q}}}}return re&&typeof $["_es6-shim iterator_"]<"u"?$["_es6-shim iterator_"]():void 0};if(M||A){var Se=C(6128),ie=C(5918),W=J("Map.prototype.forEach",!0),P=J("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var ne=J("Map.prototype.iterator",!0),ce=J("Set.prototype.iterator",!0);var le=J("Map.prototype.@@iterator",!0)||J("Map.prototype._es6-shim iterator_",!0),Re=J("Set.prototype.@@iterator",!0)||J("Set.prototype._es6-shim iterator_",!0);Ce.exports=function($){return function($){if(Se($)){if(ne)return d(ne($));if(le)return le($);if(W){var re=[];return W($,function(E,T){V(re,[T,E])}),G(re)}}if(ie($)){if(ce)return d(ce($));if(Re)return Re($);if(P){var I=[];return P($,function(E){V(I,E)}),G(I)}}}($)||pe($)}}else Ce.exports=function($){if(null!=$)return pe($,!0)}}},9148:(Ce,Me,C)=>{"use strict";var S=C(6128),d=C(5918),K=C(1545),X=C(9043);Ce.exports=function(F){if(F&&"object"==typeof F){if(S(F))return"Map";if(d(F))return"Set";if(K(F))return"WeakMap";if(X(F))return"WeakSet"}return!1}},3918:(Ce,Me,C)=>{"use strict";function S(K,X,H,F,M,A,J){try{var V=K[A](J),N=V.value}catch(L){return void H(L)}V.done?X(N):Promise.resolve(N).then(F,M)}function d(K){return function(){var X=this,H=arguments;return new Promise(function(F,M){var A=K.apply(X,H);function J(N){S(A,F,M,J,V,"next",N)}function V(N){S(A,F,M,J,V,"throw",N)}J(void 0)})}}C.d(Me,{Z:()=>d})}},Ce=>{Ce(Ce.s=1716)}]);
//# sourceMappingURL=main.d1fad47ab986e41a.js.map