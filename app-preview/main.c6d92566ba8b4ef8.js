(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{1159:(Be,Ge,x)=>{"use strict";function I(n){return"function"==typeof n}function c(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const re=c(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function J(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class G{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const i of t)i.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(I(r))try{r()}catch(i){e=i instanceof re?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{U(i)}catch(s){e=e??[],s instanceof re?e=[...e,...s.errors]:e.push(s)}}if(e)throw new re(e)}}add(e){var t;if(e&&e!==this)if(this.closed)U(e);else{if(e instanceof G){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&J(t,e)}remove(e){const{_finalizers:t}=this;t&&J(t,e),e instanceof G&&e._removeParent(this)}}G.EMPTY=(()=>{const n=new G;return n.closed=!0,n})();const X=G.EMPTY;function L(n){return n instanceof G||n&&"closed"in n&&I(n.remove)&&I(n.add)&&I(n.unsubscribe)}function U(n){I(n)?n():n.unsubscribe()}const ce={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Y={setTimeout(n,e,...t){const{delegate:r}=Y;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Y;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function oe(n){Y.setTimeout(()=>{const{onUnhandledError:e}=ce;if(!e)throw n;e(n)})}function B(){}const $=Le("C",void 0,void 0);function Le(n,e,t){return{kind:n,value:e,error:t}}let he=null;function W(n){if(ce.useDeprecatedSynchronousErrorHandling){const e=!he;if(e&&(he={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=he;if(he=null,t)throw r}}else n()}class fe extends G{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,L(e)&&e.add(this)):this.destination=$e}static create(e,t,r){return new le(e,t,r)}next(e){this.isStopped?Ye(function Pe(n){return Le("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Ye(function H(n){return Le("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ye($,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fe=Function.prototype.bind;function de(n,e){return Fe.call(n,e)}class it{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){we(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){we(r)}else we(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){we(t)}}}class le extends fe{constructor(e,t,r){let o;if(super(),I(e)||!e)o={next:e??void 0,error:t??void 0,complete:r??void 0};else{let i;this&&ce.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&de(e.next,i),error:e.error&&de(e.error,i),complete:e.complete&&de(e.complete,i)}):o=e}this.destination=new it(o)}}function we(n){ce.useDeprecatedSynchronousErrorHandling?function K(n){ce.useDeprecatedSynchronousErrorHandling&&he&&(he.errorThrown=!0,he.error=n)}(n):oe(n)}function Ye(n,e){const{onStoppedNotification:t}=ce;t&&Y.setTimeout(()=>t(n,e))}const $e={closed:!0,next:B,error:function Ie(n){throw n},complete:B},Me="function"==typeof Symbol&&Symbol.observable||"@@observable";function ne(n){return n}function Xe(n){return 0===n.length?ne:1===n.length?n[0]:function(t){return n.reduce((r,o)=>o(r),t)}}let yt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,o){const i=function O(n){return n&&n instanceof fe||function We(n){return n&&I(n.next)&&I(n.error)&&I(n.complete)}(n)&&L(n)}(t)?t:new le(t,r,o);return W(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=cn(r))((o,i)=>{const s=new le({next:a=>{try{t(a)}catch(u){i(u),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Me](){return this}pipe(...t){return Xe(t)(this)}toPromise(t){return new(t=cn(t))((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return n.create=e=>new n(e),n})();function cn(n){var e;return null!==(e=n??ce.Promise)&&void 0!==e?e:Promise}const ye=c(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let tt=(()=>{class n extends yt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new nt(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new ye}next(t){W(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){W(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){W(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:o,observers:i}=this;return r||o?X:(this.currentObservers=null,i.push(t),new G(()=>{this.currentObservers=null,J(i,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:o,isStopped:i}=this;r?t.error(o):i&&t.complete()}asObservable(){const t=new yt;return t.source=this,t}}return n.create=(e,t)=>new nt(e,t),n})();class nt extends tt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:X}}function Ve(n){return I(n?.lift)}function q(n){return e=>{if(Ve(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function _e(n,e,t,r,o){return new ft(n,e,t,r,o)}class ft extends fe{constructor(e,t,r,o,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=o?function(a){try{o(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Re(n,e){return q((t,r)=>{let o=0;t.subscribe(_e(r,i=>{r.next(n.call(e,i,o++))}))})}function Z(n,e,t,r){var s,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i}function Fn(n,e,t,r){return new(t||(t=Promise))(function(i,s){function a(m){try{f(r.next(m))}catch(_){s(_)}}function u(m){try{f(r.throw(m))}catch(_){s(_)}}function f(m){m.done?i(m.value):function o(i){return i instanceof t?i:new t(function(s){s(i)})}(m.value).then(a,u)}f((r=r.apply(n,e||[])).next())})}function mn(n){return this instanceof mn?(this.v=n,this):new mn(n)}function Kr(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=t.apply(n,e||[]),i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(k){r[k]&&(o[k]=function(M){return new Promise(function(Q,Ae){i.push([k,M,Q,Ae])>1||a(k,M)})})}function a(k,M){try{!function u(k){k.value instanceof mn?Promise.resolve(k.value.v).then(f,m):_(i[0][2],k)}(r[k](M))}catch(Q){_(i[0][3],Q)}}function f(k){a("next",k)}function m(k){a("throw",k)}function _(k,M){k(M),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Vr(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Gr(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(i){t[i]=n[i]&&function(s){return new Promise(function(a,u){!function o(i,s,a,u){Promise.resolve(u).then(function(f){i({value:f,done:a})},s)}(a,u,(s=n[i](s)).done,s.value)})}}}const gr=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Jt(n){return I(n?.then)}function er(n){return I(n[Me])}function tr(n){return Symbol.asyncIterator&&I(n?.[Symbol.asyncIterator])}function ln(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const E=function jt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function S(n){return I(n?.[E])}function Kn(n){return Kr(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:o}=yield mn(t.read());if(o)return yield mn(void 0);yield yield mn(r)}}finally{t.releaseLock()}})}function D(n){return I(n?.getReader)}function Nn(n){if(n instanceof yt)return n;if(null!=n){if(er(n))return function No(n){return new yt(e=>{const t=n[Me]();if(I(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(gr(n))return function qo(n){return new yt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Jt(n))return function _o(n){return new yt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,oe)})}(n);if(tr(n))return Lo(n);if(S(n))return function xi(n){return new yt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(D(n))return function _i(n){return Lo(Kn(n))}(n)}throw ln(n)}function Lo(n){return new yt(e=>{(function vi(n,e){var t,r,o,i;return Fn(this,void 0,void 0,function*(){try{for(t=Vr(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=t.return)&&(yield i.call(t))}finally{if(o)throw o.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function to(n,e,t,r=0,o=!1){const i=e.schedule(function(){t(),o?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(i),!o)return i}function yr(n,e,t=1/0){return I(e)?yr((r,o)=>Re((i,s)=>e(r,i,o,s))(Nn(n(r,o))),t):("number"==typeof e&&(t=e),q((r,o)=>function $o(n,e,t,r,o,i,s,a){const u=[];let f=0,m=0,_=!1;const k=()=>{_&&!u.length&&!f&&e.complete()},M=Ae=>f<r?Q(Ae):u.push(Ae),Q=Ae=>{i&&e.next(Ae),f++;let Ze=!1;Nn(t(Ae,m++)).subscribe(_e(e,Ke=>{o?.(Ke),i?M(Ke):e.next(Ke)},()=>{Ze=!0},void 0,()=>{if(Ze)try{for(f--;u.length&&f<r;){const Ke=u.shift();s?to(e,s,()=>Q(Ke)):Q(Ke)}k()}catch(Ke){e.error(Ke)}}))};return n.subscribe(_e(e,M,()=>{_=!0,k()})),()=>{a?.()}}(r,o,n,t)))}function Bo(n=1/0){return yr(ne,n)}const Yr=new yt(n=>n.complete());function vo(n){return n&&I(n.schedule)}function Wr(n){return n[n.length-1]}function zi(n){return I(Wr(n))?n.pop():void 0}function Yo(n){return vo(Wr(n))?n.pop():void 0}function no(n,e=0){return q((t,r)=>{t.subscribe(_e(r,o=>to(r,n,()=>r.next(o),e),()=>to(r,n,()=>r.complete(),e),o=>to(r,n,()=>r.error(o),e)))})}function Gi(n,e=0){return q((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Wi(n,e){if(!n)throw new Error("Iterable cannot be null");return new yt(t=>{to(t,e,()=>{const r=n[Symbol.asyncIterator]();to(t,e,()=>{r.next().then(o=>{o.done?t.complete():t.next(o.value)})},0,!0)})})}function dr(n,e){return e?function As(n,e){if(null!=n){if(er(n))return function uo(n,e){return Nn(n).pipe(Gi(e),no(e))}(n,e);if(gr(n))return function ps(n,e){return new yt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(Jt(n))return function bi(n,e){return Nn(n).pipe(Gi(e),no(e))}(n,e);if(tr(n))return Wi(n,e);if(S(n))return function ai(n,e){return new yt(t=>{let r;return to(t,e,()=>{r=n[E](),to(t,e,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){return void t.error(s)}i?t.complete():t.next(o)},0,!0)}),()=>I(r?.return)&&r.return()})}(n,e);if(D(n))return function Ms(n,e){return Wi(Kn(n),e)}(n,e)}throw ln(n)}(n,e):Nn(n)}function li(...n){const e=Yo(n),t=function Eo(n,e){return"number"==typeof Wr(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Nn(r[0]):Bo(t)(dr(r,e)):Yr}function hs(n={}){const{connector:e=(()=>new tt),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=n;return i=>{let s,a,u,f=0,m=!1,_=!1;const k=()=>{a?.unsubscribe(),a=void 0},M=()=>{k(),s=u=void 0,m=_=!1},Q=()=>{const Ae=s;M(),Ae?.unsubscribe()};return q((Ae,Ze)=>{f++,!_&&!m&&k();const Ke=u=u??e();Ze.add(()=>{f--,0===f&&!_&&!m&&(a=Ri(Q,o))}),Ke.subscribe(Ze),!s&&f>0&&(s=new le({next:bt=>Ke.next(bt),error:bt=>{_=!0,k(),a=Ri(M,t,bt),Ke.error(bt)},complete:()=>{m=!0,k(),a=Ri(M,r),Ke.complete()}}),Nn(Ae).subscribe(s))})(i)}}function Ri(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new le({next:()=>{r.unsubscribe(),n()}});return Nn(e(...t)).subscribe(r)}function nr(n){for(let e in n)if(n[e]===nr)return e;throw Error("Could not find renamed property on target object.")}function A(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function N(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(N).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function ge(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Se=nr({__forward_ref__:nr});function Oe(n){return n.__forward_ref__=Oe,n.toString=function(){return N(this())},n}function P(n){return pe(n)?n():n}function pe(n){return"function"==typeof n&&n.hasOwnProperty(Se)&&n.__forward_ref__===Oe}function ke(n){return n&&!!n.\u0275providers}const rt="https://g.co/ng/security#xss";class xe extends Error{constructor(e,t){super(function Ht(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function Ct(n){return"string"==typeof n?n:null==n?"":String(n)}function ci(n,e){throw new xe(-201,!1)}function ko(n,e){null==n&&function qn(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function ht(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function _r(n){return{providers:n.providers||[],imports:n.imports||[]}}function ms(n){return ro(n,xs)||ro(n,oa)}function ro(n,e){return n.hasOwnProperty(e)?n[e]:null}function ra(n){return n&&(n.hasOwnProperty(js)||n.hasOwnProperty(Oa))?n[js]:null}const xs=nr({\u0275prov:nr}),js=nr({\u0275inj:nr}),oa=nr({ngInjectableDef:nr}),Oa=nr({ngInjectorDef:nr});var kt=(()=>((kt=kt||{})[kt.Default=0]="Default",kt[kt.Host=1]="Host",kt[kt.Self=2]="Self",kt[kt.SkipSelf=4]="SkipSelf",kt[kt.Optional=8]="Optional",kt))();let Hs;function ar(n){const e=Hs;return Hs=n,e}function Zr(n,e,t){const r=ms(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&kt.Optional?null:void 0!==e?e:void ci(N(n))}const p=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),z={},ve="__NG_DI_FLAG__",Ee="ngTempTokenPath",St=/\n/gm,xn="__source";let Rn;function zt(n){const e=Rn;return Rn=n,e}function en(n,e=kt.Default){if(void 0===Rn)throw new xe(-203,!1);return null===Rn?Zr(n,void 0,e):Rn.get(n,e&kt.Optional?null:void 0,e)}function ee(n,e=kt.Default){return(function fo(){return Hs}()||en)(P(n),e)}function bn(n,e=kt.Default){return ee(n,kr(e))}function kr(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function mt(n){const e=[];for(let t=0;t<n.length;t++){const r=P(n[t]);if(Array.isArray(r)){if(0===r.length)throw new xe(900,!1);let o,i=kt.Default;for(let s=0;s<r.length;s++){const a=r[s],u=Ur(a);"number"==typeof u?-1===u?o=a.token:i|=u:o=a}e.push(ee(o,i))}else e.push(ee(r))}return e}function Gt(n,e){return n[ve]=e,n.prototype[ve]=e,n}function Ur(n){return n[ve]}function An(n){return{toString:n}.toString()}var Si=(()=>((Si=Si||{})[Si.OnPush=0]="OnPush",Si[Si.Default=1]="Default",Si))(),Pi=(()=>{return(n=Pi||(Pi={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Pi;var n})();const Ki={},Vt=[],To=nr({\u0275cmp:nr}),oo=nr({\u0275dir:nr}),Tr=nr({\u0275pipe:nr}),fn=nr({\u0275mod:nr}),mr=nr({\u0275fac:nr}),lr=nr({__NG_ELEMENT_ID__:nr});let Pr=0;function d(n){return An(()=>{const t=!0===n.standalone,r={},o={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Si.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Vt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Pi.Emulated,id:"c"+Pr++,styles:n.styles||Vt,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},i=n.dependencies,s=n.features;return o.inputs=De(n.inputs,r),o.outputs=De(n.outputs),s&&s.forEach(a=>a(o)),o.directiveDefs=i?()=>("function"==typeof i?i():i).map(w).filter(R):null,o.pipeDefs=i?()=>("function"==typeof i?i():i).map(wn).filter(R):null,o})}function w(n){return Et(n)||pn(n)}function R(n){return null!==n}function V(n){return An(()=>({type:n.type,bootstrap:n.bootstrap||Vt,declarations:n.declarations||Vt,imports:n.imports||Vt,exports:n.exports||Vt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function De(n,e){if(null==n)return Ki;const t={};for(const r in n)if(n.hasOwnProperty(r)){let o=n[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),t[o]=r,e&&(e[o]=i)}return t}const ue=d;function pt(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Et(n){return n[To]||null}function pn(n){return n[oo]||null}function wn(n){return n[Tr]||null}function Lt(n,e){const t=n[fn]||null;if(!t&&!0===e)throw new Error(`Type ${N(n)} does not have '\u0275mod' property.`);return t}function Ei(n){return Array.isArray(n)&&"object"==typeof n[1]}function Yi(n){return Array.isArray(n)&&!0===n[1]}function jc(n){return 0!=(4&n.flags)}function yl(n){return n.componentOffset>-1}function tc(n){return 1==(1&n.flags)}function Xi(n){return null!==n.template}function gp(n){return 0!=(256&n[2])}function ia(n,e){return n.hasOwnProperty(mr)?n[mr]:null}class vp{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Mo(){return bd}function bd(n){return n.type.prototype.ngOnChanges&&(n.setInput=wp),bp}function bp(){const n=Cd(this),e=n?.current;if(e){const t=n.previous;if(t===Ki)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function wp(n,e,t,r){const o=this.declaredInputs[t],i=Cd(n)||function Cp(n,e){return n[wd]=e}(n,{previous:Ki,current:null}),s=i.current||(i.current={}),a=i.previous,u=a[o];s[o]=new vp(u&&u.currentValue,e,a===Ki),n[r]=e}Mo.ngInherit=!0;const wd="__ngSimpleChanges__";function Cd(n){return n[wd]||null}function Qo(n){for(;Array.isArray(n);)n=n[0];return n}function Ba(n,e){return Qo(e[n])}function Oi(n,e){return Qo(e[n.index])}function Ed(n,e){return n.data[e]}function Sr(n,e){return n[e]}function bo(n,e){const t=e[n];return Ei(t)?t:t[0]}function zc(n){return 64==(64&n[2])}function sa(n,e){return null==e?null:n[e]}function Ip(n){n[18]=0}function Dd(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const Dt={lFrame:D0(null),bindingsEnabled:!0};function Er(){return Dt.bindingsEnabled}function st(){return Dt.lFrame.lView}function Cn(){return Dt.lFrame.tView}function Mt(n){return Dt.lFrame.contextLView=n,n[8]}function Rt(n){return Dt.lFrame.contextLView=null,n}function Ut(){let n=l();for(;null!==n&&64===n.type;)n=n.parent;return n}function l(){return Dt.lFrame.currentTNode}function v(n,e){const t=Dt.lFrame;t.currentTNode=n,t.isParent=e}function T(){return Dt.lFrame.isParent}function j(){Dt.lFrame.isParent=!1}function nn(){return Dt.lFrame.bindingIndex}function Hn(){return Dt.lFrame.bindingIndex++}function Yt(n){const e=Dt.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function po(n,e){const t=Dt.lFrame;t.bindingIndex=t.bindingRootIndex=n,jo(e)}function jo(n){Dt.lFrame.currentDirectiveIndex=n}function gn(){return Dt.lFrame.currentQueryIndex}function ho(n){Dt.lFrame.currentQueryIndex=n}function Nr(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function Ji(n,e,t){if(t&kt.SkipSelf){let o=e,i=n;for(;!(o=o.parent,null!==o||t&kt.Host||(o=Nr(i),null===o||(i=i[15],10&o.type))););if(null===o)return!1;e=o,n=i}const r=Dt.lFrame=E0();return r.currentTNode=e,r.lView=n,!0}function io(n){const e=E0(),t=n[1];Dt.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function E0(){const n=Dt.lFrame,e=null===n?null:n.child;return null===e?D0(n):e}function D0(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function I0(){const n=Dt.lFrame;return Dt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const k0=I0;function ug(){const n=I0();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ni(){return Dt.lFrame.selectedIndex}function nc(n){Dt.lFrame.selectedIndex=n}function so(){const n=Dt.lFrame;return Ed(n.tView,n.selectedIndex)}function kp(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const i=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:f,ngOnDestroy:m}=i;s&&(n.contentHooks||(n.contentHooks=[])).push(-t,s),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-t,u),f&&((n.viewHooks||(n.viewHooks=[])).push(t,f),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,f)),null!=m&&(n.destroyHooks||(n.destroyHooks=[])).push(t,m)}}function Tp(n,e,t){T0(n,e,3,t)}function Mp(n,e,t,r){(3&n[2])===t&&T0(n,e,t,r)}function dg(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function T0(n,e,t,r){const i=r??-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&n[18]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[18]+=65536),(a<i||-1==i)&&(qT(n,t,e,u),n[18]=(4294901760&n[18])+u+2),u++}function qT(n,e,t,r){const o=t[r]<0,i=t[r+1],a=n[o?-t[r]:t[r]];if(o){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{i.call(a)}finally{}}}else try{i.call(a)}finally{}}class Id{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function pg(n,e,t){let r=0;for(;r<t.length;){const o=t[r];if("number"==typeof o){if(0!==o)break;r++;const i=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,i)}else{const i=o,s=t[++r];A0(i)?n.setProperty(e,i,s):n.setAttribute(e,i,s),r++}}return r}function M0(n){return 3===n||4===n||6===n}function A0(n){return 64===n.charCodeAt(0)}function kd(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const o=e[r];"number"==typeof o?t=o:0===t||x0(n,t,o,null,-1===t||2===t?e[++r]:null)}}return n}function x0(n,e,t,r,o){let i=0,s=n.length;if(-1===e)s=-1;else for(;i<n.length;){const a=n[i++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=i-1;break}}}for(;i<n.length;){const a=n[i];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==o&&(n[i+1]=o));if(r===n[i+1])return void(n[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==s&&(n.splice(s,0,e),i=s+1),n.splice(i++,0,t),null!==r&&n.splice(i++,0,r),null!==o&&n.splice(i++,0,o)}function R0(n){return-1!==n}function Ap(n){return 32767&n}function xp(n,e){let t=function QT(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let hg=!0;function Rp(n){const e=hg;return hg=n,e}let JT=0;const aa={};function Pp(n,e){const t=O0(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,mg(r.data,n),mg(e,null),mg(r.blueprint,null));const o=gg(n,e),i=n.injectorIndex;if(R0(o)){const s=Ap(o),a=xp(o,e),u=a[1].data;for(let f=0;f<8;f++)e[i+f]=a[s+f]|u[s+f]}return e[i+8]=o,i}function mg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function O0(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function gg(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,o=e;for(;null!==o;){if(r=j0(o),null===r)return-1;if(t++,o=o[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function yg(n,e,t){!function eM(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(lr)&&(r=t[lr]),null==r&&(r=t[lr]=JT++);const o=255&r;e.data[n+(o>>5)]|=1<<o}(n,e,t)}function N0(n,e,t){if(t&kt.Optional||void 0!==n)return n;ci()}function L0(n,e,t,r){if(t&kt.Optional&&void 0===r&&(r=null),!(t&(kt.Self|kt.Host))){const o=n[9],i=ar(void 0);try{return o?o.get(e,r,t&kt.Optional):Zr(e,r,t&kt.Optional)}finally{ar(i)}}return N0(r,0,t)}function $0(n,e,t,r=kt.Default,o){if(null!==n){if(1024&e[2]){const s=function iM(n,e,t,r,o){let i=n,s=e;for(;null!==i&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=B0(i,s,t,r|kt.Self,aa);if(a!==aa)return a;let u=i.parent;if(!u){const f=s[21];if(f){const m=f.get(t,aa,r);if(m!==aa)return m}u=j0(s),s=s[15]}i=u}return o}(n,e,t,r,aa);if(s!==aa)return s}const i=B0(n,e,t,r,aa);if(i!==aa)return i}return L0(e,t,r,o)}function B0(n,e,t,r,o){const i=function rM(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(lr)?n[lr]:void 0;return"number"==typeof e?e>=0?255&e:oM:e}(t);if("function"==typeof i){if(!Ji(e,n,r))return r&kt.Host?N0(o,0,r):L0(e,t,r,o);try{const s=i(r);if(null!=s||r&kt.Optional)return s;ci()}finally{k0()}}else if("number"==typeof i){let s=null,a=O0(n,e),u=-1,f=r&kt.Host?e[16][6]:null;for((-1===a||r&kt.SkipSelf)&&(u=-1===a?gg(n,e):e[a+8],-1!==u&&U0(r,!1)?(s=e[1],a=Ap(u),e=xp(u,e)):a=-1);-1!==a;){const m=e[1];if(V0(i,a,m.data)){const _=nM(a,e,t,s,r,f);if(_!==aa)return _}u=e[a+8],-1!==u&&U0(r,e[1].data[a+8]===f)&&V0(i,a,e)?(s=m,a=Ap(u),e=xp(u,e)):a=-1}}return o}function nM(n,e,t,r,o,i){const s=e[1],a=s.data[n+8],m=Fp(a,s,t,null==r?yl(a)&&hg:r!=s&&0!=(3&a.type),o&kt.Host&&i===a);return null!==m?rc(e,s,m,a):aa}function Fp(n,e,t,r,o){const i=n.providerIndexes,s=e.data,a=1048575&i,u=n.directiveStart,m=i>>20,k=o?a+m:n.directiveEnd;for(let M=r?a:a+m;M<k;M++){const Q=s[M];if(M<u&&t===Q||M>=u&&Q.type===t)return M}if(o){const M=s[u];if(M&&Xi(M)&&M.type===t)return u}return null}function rc(n,e,t,r){let o=n[t];const i=e.data;if(function KT(n){return n instanceof Id}(o)){const s=o;s.resolving&&function Do(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new xe(-200,`Circular dependency in DI detected for ${n}${t}`)}(function un(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ct(n)}(i[t]));const a=Rp(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?ar(s.injectImpl):null;Ji(n,r,kt.Default);try{o=n[t]=s.factory(void 0,i,n,r),e.firstCreatePass&&t>=r.directiveStart&&function ZT(n,e,t){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=e.type.prototype;if(r){const s=bd(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s)}o&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,o),i&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,i),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,i))}(t,i[t],e)}finally{null!==u&&ar(u),Rp(a),s.resolving=!1,k0()}}return o}function V0(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function U0(n,e){return!(n&kt.Self||n&kt.Host&&e)}class Wc{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return $0(this._tNode,this._lView,e,kr(r),t)}}function oM(){return new Wc(Ut(),st())}function ei(n){return An(()=>{const e=n.prototype.constructor,t=e[mr]||_g(e),r=Object.prototype;let o=Object.getPrototypeOf(n.prototype).constructor;for(;o&&o!==r;){const i=o[mr]||_g(o);if(i&&i!==t)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function _g(n){return pe(n)?()=>{const e=_g(P(n));return e&&e()}:ia(n)}function j0(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}function Zc(n){return function tM(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let o=0;for(;o<r;){const i=t[o];if(M0(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<r&&"string"==typeof t[o];)o++;else{if(i===e)return t[o+1];o+=2}}}return null}(Ut(),n)}const Kc="__parameters__";function Xc(n,e,t){return An(()=>{const r=function vg(n){return function(...t){if(n){const r=n(...t);for(const o in r)this[o]=r[o]}}}(e);function o(...i){if(this instanceof o)return r.apply(this,i),this;const s=new o(...i);return a.annotation=s,a;function a(u,f,m){const _=u.hasOwnProperty(Kc)?u[Kc]:Object.defineProperty(u,Kc,{value:[]})[Kc];for(;_.length<=m;)_.push(null);return(_[m]=_[m]||[]).push(s),u}}return t&&(o.prototype=Object.create(t.prototype)),o.prototype.ngMetadataName=n,o.annotationCls=o,o})}class rn{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ht({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function oc(n,e){n.forEach(t=>Array.isArray(t)?oc(t,e):e(t))}function z0(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Op(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Ad(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function ys(n,e,t){let r=Qc(n,e);return r>=0?n[1|r]=t:(r=~r,function cM(n,e,t,r){let o=n.length;if(o==e)n.push(t,r);else if(1===o)n.push(r,n[0]),n[0]=t;else{for(o--,n.push(n[o-1],n[o]);o>e;)n[o]=n[o-2],o--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function wg(n,e){const t=Qc(n,e);if(t>=0)return n[1|t]}function Qc(n,e){return function G0(n,e,t){let r=0,o=n.length>>t;for(;o!==r;){const i=r+(o-r>>1),s=n[i<<t];if(e===s)return i<<t;s>e?o=i:r=i+1}return~(o<<t)}(n,e,1)}const xd=Gt(Xc("Optional"),8),Rd=Gt(Xc("SkipSelf"),4);var es=(()=>((es=es||{})[es.Important=1]="Important",es[es.DashCase=2]="DashCase",es))();const kg=new Map;let xM=0;const Mg="__ngContext__";function Ii(n,e){Ei(e)?(n[Mg]=e[20],function PM(n){kg.set(n[20],n)}(e)):n[Mg]=e}function xg(n,e){return undefined(n,e)}function Nd(n){const e=n[3];return Yi(e)?e[3]:e}function Rg(n){return db(n[13])}function Pg(n){return db(n[4])}function db(n){for(;null!==n&&!Yi(n);)n=n[4];return n}function eu(n,e,t,r,o){if(null!=r){let i,s=!1;Yi(r)?i=r:Ei(r)&&(s=!0,r=r[0]);const a=Qo(r);0===n&&null!==t?null==o?yb(e,t,a):ic(e,t,a,o||null,!0):1===n&&null!==t?ic(e,t,a,o||null,!0):2===n?function Vg(n,e,t){const r=Bp(n,e);r&&function JM(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=i&&function nA(n,e,t,r,o){const i=t[7];i!==Qo(t)&&eu(e,n,r,i,o);for(let a=10;a<t.length;a++){const u=t[a];Ld(u[1],u,n,e,r,i)}}(e,n,i,t,o)}}function Og(n,e,t){return n.createElement(e,t)}function pb(n,e){const t=n[9],r=t.indexOf(e),o=e[3];512&e[2]&&(e[2]&=-513,Dd(o,-1)),t.splice(r,1)}function Ng(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const o=r[17];null!==o&&o!==n&&pb(o,r),e>0&&(n[t-1][4]=r[4]);const i=Op(n,10+e);!function GM(n,e){Ld(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const s=i[19];null!==s&&s.detachView(i[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function hb(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&Ld(n,e,t,3,null,null),function qM(n){let e=n[13];if(!e)return Lg(n[1],n);for(;e;){let t=null;if(Ei(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Ei(e)&&Lg(e[1],e),e=e[3];null===e&&(e=n),Ei(e)&&Lg(e[1],e),t=e&&e[4]}e=t}}(e)}}function Lg(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function QM(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const o=e[t[r]];if(!(o instanceof Id)){const i=t[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],u=i[s+1];try{u.call(a)}finally{}}else try{i.call(o)}finally{}}}}(n,e),function XM(n,e){const t=n.cleanup,r=e[7];let o=-1;if(null!==t)for(let i=0;i<t.length-1;i+=2)if("string"==typeof t[i]){const s=t[i+3];s>=0?r[o=s]():r[o=-s].unsubscribe(),i+=2}else{const s=r[o=t[i+1]];t[i].call(s)}if(null!==r){for(let i=o+1;i<r.length;i++)(0,r[i])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&Yi(e[3])){t!==e[3]&&pb(t,e);const r=e[19];null!==r&&r.detachView(n)}!function FM(n){kg.delete(n[20])}(e)}}function mb(n,e,t){return function gb(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:i}=n.data[r.directiveStart+o];if(i===Pi.None||i===Pi.Emulated)return null}return Oi(r,t)}}(n,e.parent,t)}function ic(n,e,t,r,o){n.insertBefore(e,t,r,o)}function yb(n,e,t){n.appendChild(e,t)}function _b(n,e,t,r,o){null!==r?ic(n,e,t,r,o):yb(n,e,t)}function Bp(n,e){return n.parentNode(e)}function vb(n,e,t){return wb(n,e,t)}let jp,Hg,wb=function bb(n,e,t){return 40&n.type?Oi(n,t):null};function Vp(n,e,t,r){const o=mb(n,r,e),i=e[11],a=vb(r.parent||e[6],r,e);if(null!=o)if(Array.isArray(t))for(let u=0;u<t.length;u++)_b(i,o,t[u],a,!1);else _b(i,o,t,a,!1)}function Up(n,e){if(null!==e){const t=e.type;if(3&t)return Oi(e,n);if(4&t)return Bg(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Up(n,r);{const o=n[e.index];return Yi(o)?Bg(-1,o):Qo(o)}}if(32&t)return xg(e,n)()||Qo(n[e.index]);{const r=Sb(n,e);return null!==r?Array.isArray(r)?r[0]:Up(Nd(n[16]),r):Up(n,e.next)}}return null}function Sb(n,e){return null!==e?n[16][6].projection[e.projection]:null}function Bg(n,e){const t=10+n+1;if(t<e.length){const r=e[t],o=r[1].firstChild;if(null!==o)return Up(r,o)}return e[7]}function Ug(n,e,t,r,o,i,s){for(;null!=t;){const a=r[t.index],u=t.type;if(s&&0===e&&(a&&Ii(Qo(a),r),t.flags|=2),32!=(32&t.flags))if(8&u)Ug(n,e,t.child,r,o,i,!1),eu(e,n,o,a,i);else if(32&u){const f=xg(t,r);let m;for(;m=f();)eu(e,n,o,m,i);eu(e,n,o,a,i)}else 16&u?Eb(n,e,r,t,o,i):eu(e,n,o,a,i);t=s?t.projectionNext:t.next}}function Ld(n,e,t,r,o,i){Ug(t,r,n.firstChild,e,o,i,!1)}function Eb(n,e,t,r,o,i){const s=t[16],u=s[6].projection[r.projection];if(Array.isArray(u))for(let f=0;f<u.length;f++)eu(e,n,o,u[f],i);else Ug(n,e,u,s[3],o,i,!0)}function Db(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Ib(n,e,t){const{mergedAttrs:r,classes:o,styles:i}=t;null!==r&&pg(n,e,r),null!==o&&Db(n,e,o),null!==i&&function oA(n,e,t){n.setAttribute(e,"style",t)}(n,e,i)}function sc(n){return function jg(){if(void 0===jp&&(jp=null,p.trustedTypes))try{jp=p.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return jp}()?.createHTML(n)||n}class ac{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${rt})`}}class cA extends ac{getTypeName(){return"HTML"}}class uA extends ac{getTypeName(){return"Style"}}class dA extends ac{getTypeName(){return"Script"}}class fA extends ac{getTypeName(){return"URL"}}class pA extends ac{getTypeName(){return"ResourceURL"}}function _s(n){return n instanceof ac?n.changingThisBreaksApplicationSecurity:n}function la(n,e){const t=function hA(n){return n instanceof ac&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${rt})`)}return t===e}class bA{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(sc(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class wA{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=sc(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=sc(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let o=t.length-1;0<o;o--){const s=t.item(o).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&e.removeAttribute(s)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const SA=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function zp(n){return(n=String(n)).match(SA)?n:"unsafe:"+n}function Va(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function $d(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const Rb=Va("area,br,col,hr,img,wbr"),Pb=Va("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Fb=Va("rp,rt"),Gg=$d(Rb,$d(Pb,Va("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$d(Fb,Va("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$d(Fb,Pb)),Wg=Va("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ob=$d(Wg,Va("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Va("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),EA=Va("script,style,template");class DA{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=this.checkClobberedElement(t,t.nextSibling);if(o){t=o;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Gg.hasOwnProperty(t))return this.sanitizedSomething=!0,!EA.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let o=0;o<r.length;o++){const i=r.item(o),s=i.name,a=s.toLowerCase();if(!Ob.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=i.value;Wg[a]&&(u=zp(u)),this.buf.push(" ",s,'="',Nb(u),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Gg.hasOwnProperty(t)&&!Rb.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Nb(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const IA=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,kA=/([^\#-~ |!])/g;function Nb(n){return n.replace(/&/g,"&amp;").replace(IA,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(kA,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Gp;function Lb(n,e){let t=null;try{Gp=Gp||function xb(n){const e=new wA(n);return function CA(){try{return!!(new window.DOMParser).parseFromString(sc(""),"text/html")}catch{return!1}}()?new bA(e):e}(n);let r=e?String(e):"";t=Gp.getInertBodyElement(r);let o=5,i=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=t.innerHTML,t=Gp.getInertBodyElement(r)}while(r!==i);return sc((new DA).sanitizeChildren(Zg(t)||t))}finally{if(t){const r=Zg(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Zg(n){return"content"in n&&function TA(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Lr=(()=>((Lr=Lr||{})[Lr.NONE=0]="NONE",Lr[Lr.HTML=1]="HTML",Lr[Lr.STYLE=2]="STYLE",Lr[Lr.SCRIPT=3]="SCRIPT",Lr[Lr.URL=4]="URL",Lr[Lr.RESOURCE_URL=5]="RESOURCE_URL",Lr))();const Wp=new rn("ENVIRONMENT_INITIALIZER"),Ub=new rn("INJECTOR",-1),jb=new rn("INJECTOR_DEF_TYPES");class Hb{get(e,t=z){if(t===z){const r=new Error(`NullInjectorError: No provider for ${N(e)}!`);throw r.name="NullInjectorError",r}return t}}function NA(...n){return{\u0275providers:zb(0,n),\u0275fromNgModule:!0}}function zb(n,...e){const t=[],r=new Set;let o;return oc(e,i=>{const s=i;qg(s,t,[],r)&&(o||(o=[]),o.push(s))}),void 0!==o&&Gb(o,t),t}function Gb(n,e){for(let t=0;t<n.length;t++){const{providers:o}=n[t];Kg(o,i=>{e.push(i)})}}function qg(n,e,t,r){if(!(n=P(n)))return!1;let o=null,i=ra(n);const s=!i&&Et(n);if(i||s){if(s&&!s.standalone)return!1;o=n}else{const u=n.ngModule;if(i=ra(u),!i)return!1;o=u}const a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const f of u)qg(f,e,t,r)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let f;r.add(o);try{oc(i.imports,m=>{qg(m,e,t,r)&&(f||(f=[]),f.push(m))})}finally{}void 0!==f&&Gb(f,e)}if(!a){const f=ia(o)||(()=>new o);e.push({provide:o,useFactory:f,deps:Vt},{provide:jb,useValue:o,multi:!0},{provide:Wp,useValue:()=>ee(o),multi:!0})}const u=i.providers;null==u||a||Kg(u,m=>{e.push(m)})}}return o!==n&&void 0!==n.providers}function Kg(n,e){for(let t of n)ke(t)&&(t=t.\u0275providers),Array.isArray(t)?Kg(t,e):e(t)}const LA=nr({provide:String,useValue:nr});function Yg(n){return null!==n&&"object"==typeof n&&LA in n}function lc(n){return"function"==typeof n}const Xg=new rn("Set Injector scope."),Zp={},BA={};let Qg;function qp(){return void 0===Qg&&(Qg=new Hb),Qg}class ca{}class qb extends ca{get destroyed(){return this._destroyed}constructor(e,t,r,o){super(),this.parent=t,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ey(e,s=>this.processProvider(s)),this.records.set(Ub,tu(void 0,this)),o.has("environment")&&this.records.set(ca,tu(void 0,this));const i=this.records.get(Xg);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(jb.multi,Vt,kt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=zt(this),r=ar(void 0);try{return e()}finally{zt(t),ar(r)}}get(e,t=z,r=kt.Default){this.assertNotDestroyed(),r=kr(r);const o=zt(this),i=ar(void 0);try{if(!(r&kt.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function zA(n){return"function"==typeof n||"object"==typeof n&&n instanceof rn}(e)&&ms(e);a=u&&this.injectableDefInScope(u)?tu(Jg(e),Zp):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&kt.Self?qp():this.parent).get(e,t=r&kt.Optional&&t===z?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[Ee]=s[Ee]||[]).unshift(N(e)),o)throw s;return function Pn(n,e,t,r){const o=n[Ee];throw e[xn]&&o.unshift(e[xn]),n.message=function Qr(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let o=N(e);if(Array.isArray(e))o=e.map(N).join(" -> ");else if("object"==typeof e){let i=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):N(a)))}o=`{${i.join(", ")}}`}return`${t}${r?"("+r+")":""}[${o}]: ${n.replace(St,"\n  ")}`}("\n"+n.message,o,t,r),n.ngTokenPath=o,n[Ee]=null,n}(s,e,"R3InjectorError",this.source)}throw s}finally{ar(i),zt(o)}}resolveInjectorInitializers(){const e=zt(this),t=ar(void 0);try{const r=this.get(Wp.multi,Vt,kt.Self);for(const o of r)o()}finally{zt(e),ar(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(N(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processProvider(e){let t=lc(e=P(e))?e:P(e&&e.provide);const r=function UA(n){return Yg(n)?tu(void 0,n.useValue):tu(Kb(n),Zp)}(e);if(lc(e)||!0!==e.multi)this.records.get(t);else{let o=this.records.get(t);o||(o=tu(void 0,Zp,!0),o.factory=()=>mt(o.multi),this.records.set(t,o)),t=e,o.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Zp&&(t.value=BA,t.value=t.factory()),"object"==typeof t.value&&t.value&&function HA(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=P(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function Jg(n){const e=ms(n),t=null!==e?e.factory:ia(n);if(null!==t)return t;if(n instanceof rn)throw new xe(204,!1);if(n instanceof Function)return function VA(n){const e=n.length;if(e>0)throw Ad(e,"?"),new xe(204,!1);const t=function qi(n){const e=n&&(n[xs]||n[oa]);if(e){const t=function Ci(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new xe(204,!1)}function Kb(n,e,t){let r;if(lc(n)){const o=P(n);return ia(o)||Jg(o)}if(Yg(n))r=()=>P(n.useValue);else if(function Zb(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...mt(n.deps||[]));else if(function Wb(n){return!(!n||!n.useExisting)}(n))r=()=>ee(P(n.useExisting));else{const o=P(n&&(n.useClass||n.provide));if(!function jA(n){return!!n.deps}(n))return ia(o)||Jg(o);r=()=>new o(...mt(n.deps))}return r}function tu(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function ey(n,e){for(const t of n)Array.isArray(t)?ey(t,e):t&&ke(t)?ey(t.\u0275providers,e):e(t)}class GA{}class Yb{}class ZA{resolveComponentFactory(e){throw function WA(n){const e=Error(`No component factory found for ${N(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Ua=(()=>{class n{}return n.NULL=new ZA,n})();function qA(){return nu(Ut(),st())}function nu(n,e){return new gt(Oi(n,e))}let gt=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=qA,n})();function KA(n){return n instanceof gt?n.nativeElement:n}class Qb{}let ja=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function YA(){const n=st(),t=bo(Ut().index,n);return(Ei(t)?t:n)[11]}(),n})(),XA=(()=>{class n{}return n.\u0275prov=ht({token:n,providedIn:"root",factory:()=>null}),n})();class Vd{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const QA=new Vd("15.1.3"),ty={};function ry(n){return n.ngOriginalError}class ru{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&ry(e);for(;t&&ry(t);)t=ry(t);return t||null}}function Ha(n){return n instanceof Function?n():n}function ew(n,e,t){let r=n.length;for(;;){const o=n.indexOf(e,t);if(-1===o)return o;if(0===o||n.charCodeAt(o-1)<=32){const i=e.length;if(o+i===r||n.charCodeAt(o+i)<=32)return o}t=o+1}}const tw="ng-template";function cx(n,e,t){let r=0;for(;r<n.length;){let o=n[r++];if(t&&"class"===o){if(o=n[r],-1!==ew(o.toLowerCase(),e,0))return!0}else if(1===o){for(;r<n.length&&"string"==typeof(o=n[r++]);)if(o.toLowerCase()===e)return!0;return!1}}return!1}function nw(n){return 4===n.type&&n.value!==tw}function ux(n,e,t){return e===(4!==n.type||t?n.value:tw)}function dx(n,e,t){let r=4;const o=n.attrs||[],i=function hx(n){for(let e=0;e<n.length;e++)if(M0(n[e]))return e;return n.length}(o);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!ux(n,u,t)||""===u&&1===e.length){if(zs(r))return!1;s=!0}}else{const f=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!cx(n.attrs,f,t)){if(zs(r))return!1;s=!0}continue}const _=fx(8&r?"class":u,o,nw(n),t);if(-1===_){if(zs(r))return!1;s=!0;continue}if(""!==f){let k;k=_>i?"":o[_+1].toLowerCase();const M=8&r?k:null;if(M&&-1!==ew(M,f,0)||2&r&&f!==k){if(zs(r))return!1;s=!0}}}}else{if(!s&&!zs(r)&&!zs(u))return!1;if(s&&zs(u))continue;s=!1,r=u|1&r}}return zs(r)||s}function zs(n){return 0==(1&n)}function fx(n,e,t,r){if(null===e)return-1;let o=0;if(r||!t){let i=!1;for(;o<e.length;){const s=e[o];if(s===n)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=e[++o];for(;"string"==typeof a;)a=e[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function mx(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function rw(n,e,t=!1){for(let r=0;r<e.length;r++)if(dx(n,e[r],t))return!0;return!1}function gx(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let o=0;o<n.length;o++)if(n[o]!==r[o])continue e;return!0}}return!1}function ow(n,e){return n?":not("+e.trim()+")":e}function yx(n){let e=n[0],t=1,r=2,o="",i=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""!==o&&!zs(s)&&(e+=ow(i,o),o=""),r=s,i=i||!zs(r);t++}return""!==o&&(e+=ow(i,o)),e}const Ln={};function et(n){iw(Cn(),st(),Ni()+n,!1)}function iw(n,e,t,r){if(!r)if(3==(3&e[2])){const i=n.preOrderCheckHooks;null!==i&&Tp(e,i,t)}else{const i=n.preOrderHooks;null!==i&&Mp(e,i,0,t)}nc(t)}function cw(n,e=null,t=null,r){const o=uw(n,e,t,r);return o.resolveInjectorInitializers(),o}function uw(n,e=null,t=null,r,o=new Set){const i=[t||Vt,NA(n)];return r=r||("object"==typeof n?void 0:N(n)),new qb(i,e||qp(),r||null,o)}let ao=(()=>{class n{static create(t,r){if(Array.isArray(t))return cw({name:""},r,t,"");{const o=t.name??"";return cw({name:o},t.parent,t.providers,o)}}}return n.THROW_IF_NOT_FOUND=z,n.NULL=new Hb,n.\u0275prov=ht({token:n,providedIn:"any",factory:()=>ee(Ub)}),n.__NG_ELEMENT_ID__=-1,n})();function C(n,e=kt.Default){const t=st();return null===t?ee(n,e):$0(Ut(),t,P(n),e)}function _w(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r+1];if(-1!==i){const s=n.data[i];ho(t[r]),s.contentQueries(2,e[i],i)}}}function Yp(n,e,t,r,o,i,s,a,u,f,m){const _=e.blueprint.slice();return _[0]=o,_[2]=76|r,(null!==m||n&&1024&n[2])&&(_[2]|=1024),Ip(_),_[3]=_[15]=n,_[8]=t,_[10]=s||n&&n[10],_[11]=a||n&&n[11],_[12]=u||n&&n[12]||null,_[9]=f||n&&n[9]||null,_[6]=i,_[20]=function RM(){return xM++}(),_[21]=m,_[16]=2==e.type?n[16]:_,_}function su(n,e,t,r,o){let i=n.data[e];if(null===i)i=function ly(n,e,t,r,o){const i=l(),s=T(),u=n.data[e]=function Hx(n,e,t,r,o,i){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,t,e,r,o);return null===n.firstChild&&(n.firstChild=u),null!==i&&(s?null==i.child&&null!==u.parent&&(i.child=u):null===i.next&&(i.next=u)),u}(n,e,t,r,o),function hn(){return Dt.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=t,i.value=r,i.attrs=o;const s=function h(){const n=Dt.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return v(i,!0),i}function Ud(n,e,t,r){if(0===t)return-1;const o=e.length;for(let i=0;i<t;i++)e.push(r),n.blueprint.push(r),n.data.push(null);return o}function cy(n,e,t){io(e);try{const r=n.viewQuery;null!==r&&vy(1,r,t);const o=n.template;null!==o&&vw(n,e,o,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&_w(n,e),n.staticViewQueries&&vy(2,n.viewQuery,t);const i=n.components;null!==i&&function Vx(n,e){for(let t=0;t<e.length;t++)lR(n,e[t])}(e,i)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,ug()}}function Xp(n,e,t,r){const o=e[2];if(128!=(128&o)){io(e);try{Ip(e),function Un(n){return Dt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&vw(n,e,t,2,r);const s=3==(3&o);if(s){const f=n.preOrderCheckHooks;null!==f&&Tp(e,f,null)}else{const f=n.preOrderHooks;null!==f&&Mp(e,f,0,null),dg(e,0)}if(function sR(n){for(let e=Rg(n);null!==e;e=Pg(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const o=t[r];512&o[2]||Dd(o[3],1),o[2]|=512}}}(e),function iR(n){for(let e=Rg(n);null!==e;e=Pg(e))for(let t=10;t<e.length;t++){const r=e[t],o=r[1];zc(r)&&Xp(o,r,o.template,r[8])}}(e),null!==n.contentQueries&&_w(n,e),s){const f=n.contentCheckHooks;null!==f&&Tp(e,f)}else{const f=n.contentHooks;null!==f&&Mp(e,f,1),dg(e,1)}!function $x(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const o=t[r];if(o<0)nc(~o);else{const i=o,s=t[++r],a=t[++r];po(s,i),a(2,e[i])}}}finally{nc(-1)}}(n,e);const a=n.components;null!==a&&function Bx(n,e){for(let t=0;t<e.length;t++)aR(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&vy(2,u,r),s){const f=n.viewCheckHooks;null!==f&&Tp(e,f)}else{const f=n.viewHooks;null!==f&&Mp(e,f,2),dg(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Dd(e[3],-1))}finally{ug()}}}function vw(n,e,t,r,o){const i=Ni(),s=2&r;try{nc(-1),s&&e.length>22&&iw(n,e,22,!1),t(r,o)}finally{nc(i)}}function uy(n,e,t){if(jc(e)){const o=e.directiveEnd;for(let i=e.directiveStart;i<o;i++){const s=n.data[i];s.contentQueries&&s.contentQueries(1,t[i],i)}}}function dy(n,e,t){Er()&&(function Kx(n,e,t,r){const o=t.directiveStart,i=t.directiveEnd;yl(t)&&function nR(n,e,t){const r=Oi(e,n),o=bw(t),i=n[10],s=Qp(n,Yp(n,o,null,t.onPush?32:16,r,e,i,i.createRenderer(r,t),null,null,null));n[e.index]=s}(e,t,n.data[o+t.componentOffset]),n.firstCreatePass||Pp(t,e),Ii(r,e);const s=t.initialInputs;for(let a=o;a<i;a++){const u=n.data[a],f=rc(e,n,a,t);Ii(f,e),null!==s&&rR(0,a-o,f,u,0,s),Xi(u)&&(bo(t.index,e)[8]=rc(e,n,a,t))}}(n,e,t,Oi(t,e)),64==(64&t.flags)&&Iw(n,e,t))}function fy(n,e,t=Oi){const r=e.localNames;if(null!==r){let o=e.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],a=-1===s?t(e,n):n[s];n[o++]=a}}}function bw(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=py(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function py(n,e,t,r,o,i,s,a,u,f){const m=22+r,_=m+o,k=function Ux(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Ln);return t}(m,_),M="function"==typeof f?f():f;return k[1]={type:n,blueprint:k,template:t,queries:null,viewQuery:a,declTNode:e,data:k.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:M,incompleteFirstPass:!1}}function ww(n,e,t,r){const o=Tw(e);null===t?o.push(r):(o.push(t),n.firstCreatePass&&Mw(n).push(r,o.length-1))}function Cw(n,e,t,r){for(let o in n)if(n.hasOwnProperty(o)){t=null===t?{}:t;const i=n[o];null===r?Sw(t,e,o,i):r.hasOwnProperty(o)&&Sw(t,e,r[o],i)}return t}function Sw(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function vs(n,e,t,r,o,i,s,a){const u=Oi(e,t);let m,f=e.inputs;!a&&null!=f&&(m=f[r])?(by(n,t,m,r,o),yl(e)&&Ew(t,e.index)):3&e.type&&(r=function Gx(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),o=null!=s?s(o,e.value||"",r):o,i.setProperty(u,r,o))}function Ew(n,e){const t=bo(e,n);16&t[2]||(t[2]|=32)}function hy(n,e,t,r){let o=!1;if(Er()){const i=null===r?null:{"":-1},s=function Xx(n,e){const t=n.directiveRegistry;let r=null,o=null;if(t)for(let i=0;i<t.length;i++){const s=t[i];if(rw(e,s.selectors,!1))if(r||(r=[]),Xi(s))if(null!==s.findHostDirectiveDefs){const a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),r.unshift(...a,s),my(n,e,a.length)}else r.unshift(s),my(n,e,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,r,o),r.push(s)}return null===r?null:[r,o]}(n,t);let a,u;null===s?a=u=null:[a,u]=s,null!==a&&(o=!0,Dw(n,e,t,a,i,u)),i&&function Qx(n,e,t){if(e){const r=n.localNames=[];for(let o=0;o<e.length;o+=2){const i=t[e[o+1]];if(null==i)throw new xe(-301,!1);r.push(e[o],i)}}}(t,r,i)}return t.mergedAttrs=kd(t.mergedAttrs,t.attrs),o}function Dw(n,e,t,r,o,i){for(let f=0;f<r.length;f++)yg(Pp(t,e),n,r[f].type);!function eR(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let f=0;f<r.length;f++){const m=r[f];m.providersResolver&&m.providersResolver(m)}let s=!1,a=!1,u=Ud(n,e,r.length,null);for(let f=0;f<r.length;f++){const m=r[f];t.mergedAttrs=kd(t.mergedAttrs,m.hostAttrs),tR(n,t,e,u,m),Jx(u,m,o),null!==m.contentQueries&&(t.flags|=4),(null!==m.hostBindings||null!==m.hostAttrs||0!==m.hostVars)&&(t.flags|=64);const _=m.type.prototype;!s&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),s=!0),!a&&(_.ngOnChanges||_.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),a=!0),u++}!function zx(n,e,t){const o=e.directiveEnd,i=n.data,s=e.attrs,a=[];let u=null,f=null;for(let m=e.directiveStart;m<o;m++){const _=i[m],k=t?t.get(_):null,Q=k?k.outputs:null;u=Cw(_.inputs,m,u,k?k.inputs:null),f=Cw(_.outputs,m,f,Q);const Ae=null===u||null===s||nw(e)?null:oR(u,m,s);a.push(Ae)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=f}(n,t,i)}function Iw(n,e,t){const r=t.directiveStart,o=t.directiveEnd,i=t.index,s=function Qi(){return Dt.lFrame.currentDirectiveIndex}();try{nc(i);for(let a=r;a<o;a++){const u=n.data[a],f=e[a];jo(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&Yx(u,f)}}finally{nc(-1),jo(s)}}function Yx(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function my(n,e,t){e.componentOffset=t,(n.components||(n.components=[])).push(e.index)}function Jx(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Xi(e)&&(t[""]=n)}}function tR(n,e,t,r,o){n.data[r]=o;const i=o.factory||(o.factory=ia(o.type)),s=new Id(i,Xi(o),C);n.blueprint[r]=s,t[r]=s,function Zx(n,e,t,r,o){const i=o.hostBindings;if(i){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function qx(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,i)}}(n,e,r,Ud(n,t,o.hostVars,Ln),o)}function ua(n,e,t,r,o,i){const s=Oi(n,e);!function gy(n,e,t,r,o,i,s){if(null==i)n.removeAttribute(e,o,t);else{const a=null==s?Ct(i):s(i,r||"",o);n.setAttribute(e,o,a,t)}}(e[11],s,i,n.value,t,r,o)}function rR(n,e,t,r,o,i){const s=i[e];if(null!==s){const a=r.setInput;for(let u=0;u<s.length;){const f=s[u++],m=s[u++],_=s[u++];null!==a?r.setInput(t,_,f,m):t[m]=_}}}function oR(n,e,t){let r=null,o=0;for(;o<t.length;){const i=t[o];if(0!==i)if(5!==i){if("number"==typeof i)break;if(n.hasOwnProperty(i)){null===r&&(r=[]);const s=n[i];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(i,s[a+1],t[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function kw(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function aR(n,e){const t=bo(e,n);if(zc(t)){const r=t[1];48&t[2]?Xp(r,t,r.template,t[8]):t[5]>0&&yy(t)}}function yy(n){for(let r=Rg(n);null!==r;r=Pg(r))for(let o=10;o<r.length;o++){const i=r[o];if(zc(i))if(512&i[2]){const s=i[1];Xp(s,i,s.template,i[8])}else i[5]>0&&yy(i)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const o=bo(t[r],n);zc(o)&&o[5]>0&&yy(o)}}function lR(n,e){const t=bo(e,n),r=t[1];(function cR(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),cy(r,t,t[8])}function Qp(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function _y(n){for(;n;){n[2]|=32;const e=Nd(n);if(gp(n)&&!e)return n;n=e}return null}function Jp(n,e,t,r=!0){const o=e[10];o.begin&&o.begin();try{Xp(n,e,n.template,t)}catch(s){throw r&&xw(e,s),s}finally{o.end&&o.end()}}function vy(n,e,t){ho(0),e(n,t)}function Tw(n){return n[7]||(n[7]=[])}function Mw(n){return n.cleanup||(n.cleanup=[])}function xw(n,e){const t=n[9],r=t?t.get(ru,null):null;r&&r.handleError(e)}function by(n,e,t,r,o){for(let i=0;i<t.length;){const s=t[i++],a=t[i++],u=e[s],f=n.data[s];null!==f.setInput?f.setInput(u,o,r,a):u[a]=o}}function za(n,e,t){const r=Ba(e,n);!function fb(n,e,t){n.setValue(e,t)}(n[11],r,t)}function eh(n,e,t){let r=t?n.styles:null,o=t?n.classes:null,i=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?i=a:1==i?o=ge(o,a):2==i&&(r=ge(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=o:n.classesWithoutHost=o}function th(n,e,t,r,o=!1){for(;null!==t;){const i=e[t.index];if(null!==i&&r.push(Qo(i)),Yi(i))for(let a=10;a<i.length;a++){const u=i[a],f=u[1].firstChild;null!==f&&th(u[1],u,f,r)}const s=t.type;if(8&s)th(n,e,t.child,r);else if(32&s){const a=xg(t,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=Sb(e,t);if(Array.isArray(a))r.push(...a);else{const u=Nd(e[16]);th(u[1],u,a,r,!0)}}t=o?t.projectionNext:t.next}return r}class jd{get rootNodes(){const e=this._lView,t=e[1];return th(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Yi(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Ng(e,r),Op(t,r))}this._attachedToViewContainer=!1}hb(this._lView[1],this._lView)}onDestroy(e){ww(this._lView[1],this._lView,null,e)}markForCheck(){_y(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Jp(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ZM(n,e){Ld(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new xe(902,!1);this._appRef=e}}class uR extends jd{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Jp(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class Rw extends Ua{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Et(e);return new Hd(t,this.ngModule)}}function Pw(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class fR{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=kr(r);const o=this.injector.get(e,ty,r);return o!==ty||t===ty?o:this.parentInjector.get(e,t,r)}}class Hd extends Yb{get inputs(){return Pw(this.componentDef.inputs)}get outputs(){return Pw(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function _x(n){return n.map(yx).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,o){let i=(o=o||this.ngModule)instanceof ca?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const s=i?new fR(e,i):e,a=s.get(Qb,null);if(null===a)throw new xe(407,!1);const u=s.get(XA,null),f=a.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",_=r?function jx(n,e,t){return n.selectRootElement(e,t===Pi.ShadowDom)}(f,r,this.componentDef.encapsulation):Og(f,m,function dR(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(m)),k=this.componentDef.onPush?288:272,M=py(0,null,null,1,0,null,null,null,null,null),Q=Yp(null,M,null,k,null,null,a,f,u,s,null);let Ae,Ze;io(Q);try{const Ke=this.componentDef;let bt,Ne=null;Ke.findHostDirectiveDefs?(bt=[],Ne=new Map,Ke.findHostDirectiveDefs(Ke,bt,Ne),bt.push(Ke)):bt=[Ke];const Ot=function hR(n,e){const t=n[1];return n[22]=e,su(t,22,2,"#host",null)}(Q,_),En=function mR(n,e,t,r,o,i,s,a){const u=o[1];!function gR(n,e,t,r){for(const o of n)e.mergedAttrs=kd(e.mergedAttrs,o.hostAttrs);null!==e.mergedAttrs&&(eh(e,e.mergedAttrs,!0),null!==t&&Ib(r,t,e))}(r,n,e,s);const f=i.createRenderer(e,t),m=Yp(o,bw(t),null,t.onPush?32:16,o[n.index],n,i,f,a||null,null,null);return u.firstCreatePass&&my(u,n,r.length-1),Qp(o,m),o[n.index]=m}(Ot,_,Ke,bt,Q,a,f);Ze=Ed(M,22),_&&function _R(n,e,t,r){if(r)pg(n,t,["ng-version",QA.full]);else{const{attrs:o,classes:i}=function vx(n){const e=[],t=[];let r=1,o=2;for(;r<n.length;){let i=n[r];if("string"==typeof i)2===o?""!==i&&e.push(i,n[++r]):8===o&&t.push(i);else{if(!zs(o))break;o=i}r++}return{attrs:e,classes:t}}(e.selectors[0]);o&&pg(n,t,o),i&&i.length>0&&Db(n,t,i.join(" "))}}(f,Ke,_,r),void 0!==t&&function vR(n,e,t){const r=n.projection=[];for(let o=0;o<e.length;o++){const i=t[o];r.push(null!=i?Array.from(i):null)}}(Ze,this.ngContentSelectors,t),Ae=function yR(n,e,t,r,o,i){const s=Ut(),a=o[1],u=Oi(s,o);Dw(a,o,s,t,null,r);for(let m=0;m<t.length;m++)Ii(rc(o,a,s.directiveStart+m,s),o);Iw(a,o,s),u&&Ii(u,o);const f=rc(o,a,s.directiveStart+s.componentOffset,s);if(n[8]=o[8]=f,null!==i)for(const m of i)m(f,e);return uy(a,s,n),f}(En,Ke,bt,Ne,Q,[bR]),cy(M,Q,null)}finally{ug()}return new pR(this.componentType,Ae,nu(Ze,Q),Q,Ze)}}class pR extends GA{constructor(e,t,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.instance=t,this.hostView=this.changeDetectorRef=new uR(o),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[e])){const i=this._rootLView;by(i[1],i,o,e,t),Ew(i,this._tNode.index)}}get injector(){return new Wc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function bR(){const n=Ut();kp(st()[1],n)}function pr(n){let e=function Fw(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let o;if(Xi(n))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new xe(903,!1);o=e.\u0275dir}if(o){if(t){r.push(o);const s=n;s.inputs=wy(n.inputs),s.declaredInputs=wy(n.declaredInputs),s.outputs=wy(n.outputs);const a=o.hostBindings;a&&ER(n,a);const u=o.viewQuery,f=o.contentQueries;if(u&&CR(n,u),f&&SR(n,f),A(n.inputs,o.inputs),A(n.declaredInputs,o.declaredInputs),A(n.outputs,o.outputs),Xi(o)&&o.data.animation){const m=n.data;m.animation=(m.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(n),a===pr&&(t=!1)}}e=Object.getPrototypeOf(e)}!function wR(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const o=n[r];o.hostVars=e+=o.hostVars,o.hostAttrs=kd(o.hostAttrs,t=kd(t,o.hostAttrs))}}(r)}function wy(n){return n===Ki?{}:n===Vt?[]:n}function CR(n,e){const t=n.viewQuery;n.viewQuery=t?(r,o)=>{e(r,o),t(r,o)}:e}function SR(n,e){const t=n.contentQueries;n.contentQueries=t?(r,o,i)=>{e(r,o,i),t(r,o,i)}:e}function ER(n,e){const t=n.hostBindings;n.hostBindings=t?(r,o)=>{e(r,o),t(r,o)}:e}let nh=null;function cc(){if(!nh){const n=p.Symbol;if(n&&n.iterator)nh=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(nh=r)}}}return nh}function rh(n){return!!function Cy(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&cc()in n)}function ki(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function uc(n,e,t,r){const o=ki(n,e,t);return ki(n,e+1,r)||o}function fa(n,e,t,r){const o=st();return ki(o,Hn(),e)&&(Cn(),ua(so(),o,n,e,t,r)),fa}function lu(n,e,t,r){return ki(n,Hn(),t)?e+Ct(t)+r:Ln}function uu(n,e,t,r,o,i,s,a){const f=function oh(n,e,t,r,o){const i=uc(n,e,t,r);return ki(n,e+2,o)||i}(n,nn(),t,o,s);return Yt(3),f?e+Ct(t)+r+Ct(o)+i+Ct(s)+a:Ln}function sn(n,e,t,r,o,i,s,a){const u=st(),f=Cn(),m=n+22,_=f.firstCreatePass?function FR(n,e,t,r,o,i,s,a,u){const f=e.consts,m=su(e,n,4,s||null,sa(f,a));hy(e,t,m,sa(f,u)),kp(e,m);const _=m.tViews=py(2,m,r,o,i,e.directiveRegistry,e.pipeRegistry,null,e.schemas,f);return null!==e.queries&&(e.queries.template(e,m),_.queries=e.queries.embeddedTView(m)),m}(m,f,u,e,t,r,o,i,s):f.data[m];v(_,!1);const k=u[11].createComment("");Vp(f,u,k,_),Ii(k,u),Qp(u,u[m]=kw(k,u,k,_)),tc(_)&&dy(f,u,_),null!=s&&fy(u,_,a)}function bs(n){return Sr(function be(){return Dt.lFrame.contextLView}(),22+n)}function ot(n,e,t){const r=st();return ki(r,Hn(),e)&&vs(Cn(),so(),r,n,e,r[11],t,!1),ot}function Sy(n,e,t,r,o){const s=o?"class":"style";by(n,t,e.inputs[s],s,r)}function se(n,e,t,r){const o=st(),i=Cn(),s=22+n,a=o[11],u=o[s]=Og(a,e,function WT(){return Dt.lFrame.currentNamespace}()),f=i.firstCreatePass?function NR(n,e,t,r,o,i,s){const a=e.consts,f=su(e,n,2,o,sa(a,i));return hy(e,t,f,sa(a,s)),null!==f.attrs&&eh(f,f.attrs,!1),null!==f.mergedAttrs&&eh(f,f.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,f),f}(s,i,o,0,e,t,r):i.data[s];return v(f,!0),Ib(a,u,f),32!=(32&f.flags)&&Vp(i,o,u,f),0===function Je(){return Dt.lFrame.elementDepthCount}()&&Ii(u,o),function Jr(){Dt.lFrame.elementDepthCount++}(),tc(f)&&(dy(i,o,f),uy(i,f,o)),null!==r&&fy(o,f),se}function te(){let n=Ut();T()?j():(n=n.parent,v(n,!1));const e=n;!function ir(){Dt.lFrame.elementDepthCount--}();const t=Cn();return t.firstCreatePass&&(kp(t,n),jc(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function YT(n){return 0!=(8&n.flags)}(e)&&Sy(t,e,st(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function XT(n){return 0!=(16&n.flags)}(e)&&Sy(t,e,st(),e.stylesWithoutHost,!1),te}function ct(n,e,t,r){return se(n,e,t,r),te(),ct}function Gd(n,e,t){const r=st(),o=Cn(),i=n+22,s=o.firstCreatePass?function LR(n,e,t,r,o){const i=e.consts,s=sa(i,r),a=su(e,n,8,"ng-container",s);return null!==s&&eh(a,s,!0),hy(e,t,a,sa(i,o)),null!==e.queries&&e.queries.elementStart(e,a),a}(i,o,r,e,t):o.data[i];v(s,!0);const a=r[i]=r[11].createComment("");return Vp(o,r,a,s),Ii(a,r),tc(s)&&(dy(o,r,s),uy(o,s,r)),null!=t&&fy(r,s),Gd}function Wd(){let n=Ut();const e=Cn();return T()?j():(n=n.parent,v(n,!1)),e.firstCreatePass&&(kp(e,n),jc(n)&&e.queries.elementEnd(n)),Wd}function br(){return st()}function Zd(n){return!!n&&"function"==typeof n.then}function Zw(n){return!!n&&"function"==typeof n.subscribe}const Ey=Zw;function lt(n,e,t,r){const o=st(),i=Cn(),s=Ut();return function Kw(n,e,t,r,o,i,s){const a=tc(r),f=n.firstCreatePass&&Mw(n),m=e[8],_=Tw(e);let k=!0;if(3&r.type||s){const Ae=Oi(r,e),Ze=s?s(Ae):Ae,Ke=_.length,bt=s?Ot=>s(Qo(Ot[r.index])):r.index;let Ne=null;if(!s&&a&&(Ne=function $R(n,e,t,r){const o=n.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===t&&o[i+1]===r){const a=e[7],u=o[i+2];return a.length>u?a[u]:null}"string"==typeof s&&(i+=2)}return null}(n,e,o,r.index)),null!==Ne)(Ne.__ngLastListenerFn__||Ne).__ngNextListenerFn__=i,Ne.__ngLastListenerFn__=i,k=!1;else{i=Xw(r,e,m,i,!1);const Ot=t.listen(Ze,o,i);_.push(i,Ot),f&&f.push(o,bt,Ke,Ke+1)}}else i=Xw(r,e,m,i,!1);const M=r.outputs;let Q;if(k&&null!==M&&(Q=M[o])){const Ae=Q.length;if(Ae)for(let Ze=0;Ze<Ae;Ze+=2){const En=e[Q[Ze]][Q[Ze+1]].subscribe(i),Zn=_.length;_.push(i,En),f&&f.push(o,r.index,Zn,-(Zn+1))}}}(i,o,o[11],s,n,e,r),lt}function Yw(n,e,t,r){try{return!1!==t(r)}catch(o){return xw(n,o),!1}}function Xw(n,e,t,r,o){return function i(s){if(s===Function)return r;_y(n.componentOffset>-1?bo(n.index,e):e);let u=Yw(e,0,r,s),f=i.__ngNextListenerFn__;for(;f;)u=Yw(e,0,f,s)&&u,f=f.__ngNextListenerFn__;return o&&!1===u&&(s.preventDefault(),s.returnValue=!1),u}}function $t(n=1){return function VT(n){return(Dt.lFrame.contextLView=function UT(n,e){for(;n>0;)e=e[15],n--;return e}(n,Dt.lFrame.contextLView))[8]}(n)}function BR(n,e){let t=null;const r=function px(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let o=0;o<e.length;o++){const i=e[o];if("*"!==i){if(null===r?rw(n,i,!0):gx(r,i))return o}else t=o}return t}function Pt(n){const e=st()[16][6];if(!e.projection){const r=e.projection=Ad(n?n.length:1,null),o=r.slice();let i=e.child;for(;null!==i;){const s=n?BR(i,n):0;null!==s&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i),i=i.next}}}function At(n,e=0,t){const r=st(),o=Cn(),i=su(o,22+n,16,null,t||null);null===i.projection&&(i.projection=e),j(),32!=(32&i.flags)&&function tA(n,e,t){Eb(e[11],0,e,t,mb(n,t,e),vb(t.parent||e[6],t,e))}(o,r,i)}function sh(n,e,t,r,o){const i=st(),s=lu(i,e,t,r);return s!==Ln&&vs(Cn(),so(),i,n,s,i[11],o,!1),sh}function ah(n,e){return n<<17|e<<2}function _l(n){return n>>17&32767}function Dy(n){return 2|n}function dc(n){return(131068&n)>>2}function Iy(n,e){return-131069&n|e<<2}function ky(n){return 1|n}function aC(n,e,t,r,o){const i=n[t+1],s=null===e;let a=r?_l(i):dc(i),u=!1;for(;0!==a&&(!1===u||s);){const m=n[a+1];GR(n[a],e)&&(u=!0,n[a+1]=r?ky(m):Dy(m)),a=r?_l(m):dc(m)}u&&(n[t+1]=r?Dy(i):ky(i))}function GR(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Qc(n,e)>=0}function qd(n,e,t){return Gs(n,e,t,!1),qd}function Ga(n,e){return Gs(n,e,null,!0),Ga}function Gs(n,e,t,r){const o=st(),i=Cn(),s=Yt(2);i.firstUpdatePass&&function mC(n,e,t,r){const o=n.data;if(null===o[t+1]){const i=o[Ni()],s=function hC(n,e){return e>=n.expandoStartIndex}(n,t);(function vC(n,e){return 0!=(n.flags&(e?8:16))})(i,r)&&null===e&&!s&&(e=!1),e=function eP(n,e,t,r){const o=function vt(n){const e=Dt.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let i=r?e.residualClasses:e.residualStyles;if(null===o)0===(r?e.classBindings:e.styleBindings)&&(t=Kd(t=Ty(null,n,e,t,r),e.attrs,r),i=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==o)if(t=Ty(o,n,e,t,r),null===i){let u=function tP(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==dc(r))return n[_l(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=Ty(null,n,e,u[1],r),u=Kd(u,e.attrs,r),function nP(n,e,t,r){n[_l(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else i=function rP(n,e,t){let r;const o=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<o;i++)r=Kd(r,n[i].hostAttrs,t);return Kd(r,e.attrs,t)}(n,e,r)}return void 0!==i&&(r?e.residualClasses=i:e.residualStyles=i),t}(o,i,e,r),function HR(n,e,t,r,o,i){let s=i?e.classBindings:e.styleBindings,a=_l(s),u=dc(s);n[r]=t;let m,f=!1;if(Array.isArray(t)?(m=t[1],(null===m||Qc(t,m)>0)&&(f=!0)):m=t,o)if(0!==u){const k=_l(n[a+1]);n[r+1]=ah(k,a),0!==k&&(n[k+1]=Iy(n[k+1],r)),n[a+1]=function UR(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=ah(a,0),0!==a&&(n[a+1]=Iy(n[a+1],r)),a=r;else n[r+1]=ah(u,0),0===a?a=r:n[u+1]=Iy(n[u+1],r),u=r;f&&(n[r+1]=Dy(n[r+1])),aC(n,m,r,!0),aC(n,m,r,!1),function zR(n,e,t,r,o){const i=o?n.residualClasses:n.residualStyles;null!=i&&"string"==typeof e&&Qc(i,e)>=0&&(t[r+1]=ky(t[r+1]))}(e,m,n,r,i),s=ah(a,u),i?e.classBindings=s:e.styleBindings=s}(o,i,e,t,s,r)}}(i,n,s,r),e!==Ln&&ki(o,s,e)&&function yC(n,e,t,r,o,i,s,a){if(!(3&e.type))return;const u=n.data,f=u[a+1],m=function jR(n){return 1==(1&n)}(f)?_C(u,e,t,o,dc(f),s):void 0;lh(m)||(lh(i)||function VR(n){return 2==(2&n)}(f)&&(i=_C(u,null,t,o,a,s)),function rA(n,e,t,r,o){if(e)o?n.addClass(t,r):n.removeClass(t,r);else{let i=-1===r.indexOf("-")?void 0:es.DashCase;null==o?n.removeStyle(t,r,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=es.Important),n.setStyle(t,r,o,i))}}(r,s,Ba(Ni(),t),o,i))}(i,i.data[Ni()],o,o[11],n,o[s+1]=function sP(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=N(_s(n)))),n}(e,t),r,s)}function Ty(n,e,t,r,o){let i=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(i=e[a],r=Kd(r,i.hostAttrs,o),i!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Kd(n,e,t){const r=t?1:2;let o=-1;if(null!==e)for(let i=0;i<e.length;i++){const s=e[i];"number"==typeof s?o=s:o===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ys(n,s,!!t||e[++i]))}return void 0===n?null:n}function _C(n,e,t,r,o,i){const s=null===e;let a;for(;o>0;){const u=n[o],f=Array.isArray(u),m=f?u[1]:u,_=null===m;let k=t[o+1];k===Ln&&(k=_?Vt:void 0);let M=_?wg(k,r):m===r?k:void 0;if(f&&!lh(M)&&(M=wg(u,r)),lh(M)&&(a=M,s))return a;const Q=n[o+1];o=s?_l(Q):dc(Q)}if(null!==e){let u=i?e.residualClasses:e.residualStyles;null!=u&&(a=wg(u,r))}return a}function lh(n){return void 0!==n}function qe(n,e=""){const t=st(),r=Cn(),o=n+22,i=r.firstCreatePass?su(r,o,1,e,null):r.data[o],s=t[o]=function Fg(n,e){return n.createText(e)}(t[11],e);Vp(r,t,s,i),v(i,!1)}function ws(n){return Ti("",n,""),ws}function Ti(n,e,t){const r=st(),o=lu(r,n,e,t);return o!==Ln&&za(r,Ni(),o),Ti}function Yd(n,e,t,r,o){const i=st(),s=function cu(n,e,t,r,o,i){const a=uc(n,nn(),t,o);return Yt(2),a?e+Ct(t)+r+Ct(o)+i:Ln}(i,n,e,t,r,o);return s!==Ln&&za(i,Ni(),s),Yd}function My(n,e,t,r,o,i,s){const a=st(),u=uu(a,n,e,t,r,o,i,s);return u!==Ln&&za(a,Ni(),u),My}const _u="en-US";let BC=_u;function Ry(n,e,t,r,o){if(n=P(n),Array.isArray(n))for(let i=0;i<n.length;i++)Ry(n[i],e,t,r,o);else{const i=Cn(),s=st();let a=lc(n)?n:P(n.provide),u=Kb(n);const f=Ut(),m=1048575&f.providerIndexes,_=f.directiveStart,k=f.providerIndexes>>20;if(lc(n)||!n.multi){const M=new Id(u,o,C),Q=Fy(a,e,o?m:m+k,_);-1===Q?(yg(Pp(f,s),i,a),Py(i,n,e.length),e.push(a),f.directiveStart++,f.directiveEnd++,o&&(f.providerIndexes+=1048576),t.push(M),s.push(M)):(t[Q]=M,s[Q]=M)}else{const M=Fy(a,e,m+k,_),Q=Fy(a,e,m,m+k),Ze=Q>=0&&t[Q];if(o&&!Ze||!o&&!(M>=0&&t[M])){yg(Pp(f,s),i,a);const Ke=function EF(n,e,t,r,o){const i=new Id(n,t,C);return i.multi=[],i.index=e,i.componentProviders=0,uS(i,o,r&&!t),i}(o?SF:CF,t.length,o,r,u);!o&&Ze&&(t[Q].providerFactory=Ke),Py(i,n,e.length,0),e.push(a),f.directiveStart++,f.directiveEnd++,o&&(f.providerIndexes+=1048576),t.push(Ke),s.push(Ke)}else Py(i,n,M>-1?M:Q,uS(t[o?Q:M],u,!o&&r));!o&&r&&Ze&&t[Q].componentProviders++}}}function Py(n,e,t,r){const o=lc(e),i=function $A(n){return!!n.useClass}(e);if(o||i){const u=(i?P(e.useClass):e).prototype.ngOnDestroy;if(u){const f=n.destroyHooks||(n.destroyHooks=[]);if(!o&&e.multi){const m=f.indexOf(t);-1===m?f.push(t,[r,u]):f[m+1].push(r,u)}else f.push(t,u)}}}function uS(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Fy(n,e,t,r){for(let o=t;o<r;o++)if(e[o]===n)return o;return-1}function CF(n,e,t,r){return Oy(this.multi,[])}function SF(n,e,t,r){const o=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=rc(t,t[1],this.providerFactory.index,r);i=a.slice(0,s),Oy(o,i);for(let u=s;u<a.length;u++)i.push(a[u])}else i=[],Oy(o,i);return i}function Oy(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Dr(n,e=[]){return t=>{t.providersResolver=(r,o)=>function wF(n,e,t){const r=Cn();if(r.firstCreatePass){const o=Xi(n);Ry(t,r.data,r.blueprint,o,!0),Ry(e,r.data,r.blueprint,o,!1)}}(r,o?o(n):n,e)}}class vu{}class dS{}class fS extends vu{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Rw(this);const r=Lt(e);this._bootstrapComponents=Ha(r.bootstrap),this._r3Injector=uw(e,t,[{provide:vu,useValue:this},{provide:Ua,useValue:this.componentFactoryResolver}],N(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Ny extends dS{constructor(e){super(),this.moduleType=e}create(e){return new fS(this.moduleType,e)}}class IF extends vu{constructor(e,t,r){super(),this.componentFactoryResolver=new Rw(this),this.instance=null;const o=new qb([...e,{provide:vu,useValue:this},{provide:Ua,useValue:this.componentFactoryResolver}],t||qp(),r,new Set(["environment"]));this.injector=o,o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function ph(n,e,t=null){return new IF(n,e,t).injector}let kF=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=zb(0,t.type),o=r.length>0?ph([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,o)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=ht({token:n,providedIn:"environment",factory:()=>new n(ee(ca))}),n})();function pS(n){n.getStandaloneInjector=e=>e.get(kF).getOrCreateStandaloneInjector(n)}function bS(n,e,t,r,o,i){const s=e+t;return ki(n,s,o)?function da(n,e,t){return n[e]=t}(n,s+1,i?r.call(i,o):r(o)):function nf(n,e){const t=n[e];return t===Ln?void 0:t}(n,s+1)}function ma(n,e){const t=Cn();let r;const o=n+22;t.firstCreatePass?(r=function WF(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[o]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(o,r.onDestroy)):r=t.data[o];const i=r.factory||(r.factory=ia(r.type)),s=ar(C);try{const a=Rp(!1),u=i();return Rp(a),function OR(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,st(),o,u),u}finally{ar(s)}}function ga(n,e,t){const r=n+22,o=st(),i=Sr(o,r);return function rf(n,e){return n[1].data[e].pure}(o,r)?bS(o,function _t(){const n=Dt.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),e,i.transform,t,i):i.transform(t)}function $y(n){return e=>{setTimeout(n,void 0,e)}}const Tn=class XF extends tt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let o=e,i=t||(()=>null),s=r;if(e&&"object"==typeof e){const u=e;o=u.next?.bind(u),i=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(i=$y(i),o&&(o=$y(o)),s&&(s=$y(s)));const a=super.subscribe({next:o,error:i,complete:s});return e instanceof G&&e.add(a),a}};function QF(){return this._results[cc()]()}class By{get changes(){return this._changes||(this._changes=new Tn)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=cc(),r=By.prototype;r[t]||(r[t]=QF)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const o=function Rs(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function aM(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let o=n[r],i=e[r];if(t&&(o=t(o),i=t(i)),i!==o)return!1}return!0}(r._results,o,t))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ns=(()=>{class n{}return n.__NG_ELEMENT_ID__=t2,n})();const JF=ns,e2=class extends JF{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,o=Yp(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);o[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(o[19]=s.createEmbeddedView(r)),cy(r,o,e),new jd(o)}};function t2(){return hh(Ut(),st())}function hh(n,e){return 4&n.type?new e2(e,n,nu(n,e)):null}let Mi=(()=>{class n{}return n.__NG_ELEMENT_ID__=n2,n})();function n2(){return kS(Ut(),st())}const r2=Mi,DS=class extends r2{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return nu(this._hostTNode,this._hostLView)}get injector(){return new Wc(this._hostTNode,this._hostLView)}get parentInjector(){const e=gg(this._hostTNode,this._hostLView);if(R0(e)){const t=xp(e,this._hostLView),r=Ap(e);return new Wc(t[1].data[r+8],t)}return new Wc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=IS(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const s=e.createEmbeddedView(t||{},i);return this.insert(s,o),s}createComponent(e,t,r,o,i){const s=e&&!function Md(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const _=t||{};a=_.index,r=_.injector,o=_.projectableNodes,i=_.environmentInjector||_.ngModuleRef}const u=s?e:new Hd(Et(e)),f=r||this.parentInjector;if(!i&&null==u.ngModule){const k=(s?f:this.parentInjector).get(ca,null);k&&(i=k)}const m=u.create(f,o,void 0,i);return this.insert(m.hostView,a),m}insert(e,t){const r=e._lView,o=r[1];if(function cg(n){return Yi(n[3])}(r)){const m=this.indexOf(e);if(-1!==m)this.detach(m);else{const _=r[3],k=new DS(_,_[6],_[3]);k.detach(k.indexOf(e))}}const i=this._adjustIndex(t),s=this._lContainer;!function KM(n,e,t,r){const o=10+r,i=t.length;r>0&&(t[o-1][4]=e),r<i-10?(e[4]=t[o],z0(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const s=e[17];null!==s&&t!==s&&function YM(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(o,r,s,i);const a=Bg(i,s),u=r[11],f=Bp(u,s[7]);return null!==f&&function WM(n,e,t,r,o,i){r[0]=o,r[6]=e,Ld(n,r,t,1,o,i)}(o,s[6],u,r,f,a),e.attachToViewContainerRef(),z0(Vy(s),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=IS(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Ng(this._lContainer,t);r&&(Op(Vy(this._lContainer),t),hb(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=Ng(this._lContainer,t);return r&&null!=Op(Vy(this._lContainer),t)?new jd(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function IS(n){return n[8]}function Vy(n){return n[8]||(n[8]=[])}function kS(n,e){let t;const r=e[n.index];if(Yi(r))t=r;else{let o;if(8&n.type)o=Qo(r);else{const i=e[11];o=i.createComment("");const s=Oi(n,e);ic(i,Bp(i,s),o,function eA(n,e){return n.nextSibling(e)}(i,s),!1)}e[n.index]=t=kw(r,e,o,n),Qp(e,t)}return new DS(t,n,e)}class Uy{constructor(e){this.queryList=e,this.matches=null}clone(){return new Uy(this.queryList)}setDirty(){this.queryList.setDirty()}}class jy{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,o=[];for(let i=0;i<r;i++){const s=t.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new jy(o)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==RS(e,t).matches&&this.queries[t].setDirty()}}class TS{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class Hy{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const o=null!==t?t.length:0,i=this.getByIndex(r).embeddedTView(e,o);i&&(i.indexInDeclarationView=r,null!==t?t.push(i):t=[i])}return null!==t?new Hy(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class zy{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new zy(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const i=r[o];this.matchTNodeWithReadOption(e,t,o2(t,i)),this.matchTNodeWithReadOption(e,t,Fp(t,e,i,!1,!1))}else r===ns?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Fp(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===gt||o===Mi||o===ns&&4&t.type)this.addMatch(t.index,-2);else{const i=Fp(t,e,o,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function o2(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function s2(n,e,t,r){return-1===t?function i2(n,e){return 11&n.type?nu(n,e):4&n.type?hh(n,e):null}(e,n):-2===t?function a2(n,e,t){return t===gt?nu(e,n):t===ns?hh(e,n):t===Mi?kS(e,n):void 0}(n,e,r):rc(n,n[1],t,e)}function MS(n,e,t,r){const o=e[19].queries[r];if(null===o.matches){const i=n.data,s=t.matches,a=[];for(let u=0;u<s.length;u+=2){const f=s[u];a.push(f<0?null:s2(e,i[f],s[u+1],t.metadata.read))}o.matches=a}return o.matches}function Gy(n,e,t,r){const o=n.queries.getByIndex(t),i=o.matches;if(null!==i){const s=MS(n,e,o,t);for(let a=0;a<i.length;a+=2){const u=i[a];if(u>0)r.push(s[a/2]);else{const f=i[a+1],m=e[-u];for(let _=10;_<m.length;_++){const k=m[_];k[17]===k[3]&&Gy(k[1],k,f,r)}if(null!==m[9]){const _=m[9];for(let k=0;k<_.length;k++){const M=_[k];Gy(M[1],M,f,r)}}}}}return r}function Cs(n){const e=st(),t=Cn(),r=gn();ho(r+1);const o=RS(t,r);if(n.dirty&&function fr(n){return 4==(4&n[2])}(e)===(2==(2&o.metadata.flags))){if(null===o.matches)n.reset([]);else{const i=o.crossesNgTemplate?Gy(t,e,r,[]):MS(t,e,o,r);n.reset(i,KA),n.notifyOnChanges()}return!0}return!1}function bu(n,e,t){const r=Cn();r.firstCreatePass&&(xS(r,new TS(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),AS(r,st(),e)}function Ss(){return function l2(n,e){return n[19].queries[e].queryList}(st(),gn())}function AS(n,e,t){const r=new By(4==(4&t));ww(n,e,r,r.destroy),null===e[19]&&(e[19]=new jy),e[19].queries.push(new Uy(r))}function xS(n,e,t){null===n.queries&&(n.queries=new Hy),n.queries.track(new zy(e,t))}function RS(n,e){return n.queries.getByIndex(e)}function gh(...n){}const pc=new rn("Application Initializer");let yh=(()=>{class n{constructor(t){this.appInits=t,this.resolve=gh,this.reject=gh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let o=0;o<this.appInits.length;o++){const i=this.appInits[o]();if(Zd(i))t.push(i);else if(Ey(i)){const s=new Promise((a,u)=>{i.subscribe({complete:a,error:u})});t.push(s)}}Promise.all(t).then(()=>{r()}).catch(o=>{this.reject(o)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(ee(pc,8))},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const af=new rn("AppId",{providedIn:"root",factory:function XS(){return`${Yy()}${Yy()}${Yy()}`}});function Yy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const QS=new rn("Platform Initializer"),Su=new rn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),JS=new rn("appBootstrapListener");let A2=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Wa=new rn("LocaleId",{providedIn:"root",factory:()=>bn(Wa,kt.Optional|kt.SkipSelf)||function x2(){return typeof $localize<"u"&&$localize.locale||_u}()});class P2{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let eE=(()=>{class n{compileModuleSync(t){return new Ny(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),i=Ha(Lt(t).declarations).reduce((s,a)=>{const u=Et(a);return u&&s.push(new Hd(u)),s},[]);return new P2(r,i)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const N2=(()=>Promise.resolve(0))();function Xy(n){typeof Zone>"u"?N2.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class ut{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Tn(!1),this.onMicrotaskEmpty=new Tn(!1),this.onStable=new Tn(!1),this.onError=new Tn(!1),typeof Zone>"u")throw new xe(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&t,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function L2(){let n=p.requestAnimationFrame,e=p.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function V2(n){const e=()=>{!function B2(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(p,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Jy(n),n.isCheckStableRunning=!0,Qy(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Jy(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,o,i,s,a)=>{try{return rE(n),t.invokeTask(o,i,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||n.shouldCoalesceRunChangeDetection)&&e(),oE(n)}},onInvoke:(t,r,o,i,s,a,u)=>{try{return rE(n),t.invoke(o,i,s,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),oE(n)}},onHasTask:(t,r,o,i)=>{t.hasTask(o,i),r===o&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,Jy(n),Qy(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,r,o,i)=>(t.handleError(o,i),n.runOutsideAngular(()=>n.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ut.isInAngularZone())throw new xe(909,!1)}static assertNotInAngularZone(){if(ut.isInAngularZone())throw new xe(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,e,$2,gh,gh);try{return i.runTask(s,t,r)}finally{i.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const $2={};function Qy(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Jy(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function rE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function oE(n){n._nesting--,Qy(n)}class U2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Tn,this.onMicrotaskEmpty=new Tn,this.onStable=new Tn,this.onError=new Tn}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,o){return e.apply(t,r)}}const iE=new rn(""),_h=new rn("");let n_,e_=(()=>{class n{constructor(t,r,o){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,n_||(function j2(n){n_=n}(o),o.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ut.assertNotInAngularZone(),Xy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Xy(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==i),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:o})}whenStable(t,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,o){return[]}}return n.\u0275fac=function(t){return new(t||n)(ee(ut),ee(t_),ee(_h))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})(),t_=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return n_?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),bl=null;const sE=new rn("AllowMultipleToken"),r_=new rn("PlatformDestroyListeners");class aE{constructor(e,t){this.name=e,this.token=t}}function cE(n,e,t=[]){const r=`Platform: ${e}`,o=new rn(r);return(i=[])=>{let s=o_();if(!s||s.injector.get(sE,!1)){const a=[...t,...i,{provide:o,useValue:!0}];n?n(a):function G2(n){if(bl&&!bl.get(sE,!1))throw new xe(400,!1);bl=n;const e=n.get(dE);(function lE(n){const e=n.get(QS,null);e&&e.forEach(t=>t())})(n)}(function uE(n=[],e){return ao.create({name:e,providers:[{provide:Xg,useValue:"platform"},{provide:r_,useValue:new Set([()=>bl=null])},...n]})}(a,r))}return function Z2(n){const e=o_();if(!e)throw new xe(401,!1);return e}()}}function o_(){return bl?.get(dE)??null}let dE=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const o=function pE(n,e){let t;return t="noop"===n?new U2:("zone.js"===n?void 0:n)||new ut(e),t}(r?.ngZone,function fE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),i=[{provide:ut,useValue:o}];return o.run(()=>{const s=ao.create({providers:i,parent:this.injector,name:t.moduleType.name}),a=t.create(s),u=a.injector.get(ru,null);if(!u)throw new xe(402,!1);return o.runOutsideAngular(()=>{const f=o.onError.subscribe({next:m=>{u.handleError(m)}});a.onDestroy(()=>{vh(this._modules,a),f.unsubscribe()})}),function hE(n,e,t){try{const r=t();return Zd(r)?r.catch(o=>{throw e.runOutsideAngular(()=>n.handleError(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,o,()=>{const f=a.injector.get(yh);return f.runInitializers(),f.donePromise.then(()=>(function VC(n){ko(n,"Expected localeId to be defined"),"string"==typeof n&&(BC=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Wa,_u)||_u),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const o=mE({},r);return function H2(n,e,t){const r=new Ny(t);return Promise.resolve(r)}(0,0,t).then(i=>this.bootstrapModuleFactory(i,o))}_moduleDoBootstrap(t){const r=t.injector.get(wl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!t.instance.ngDoBootstrap)throw new xe(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(r_,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(ee(ao))},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function mE(n,e){return Array.isArray(e)?e.reduce(mE,n):{...n,...e}}let wl=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,o){this._zone=t,this._injector=r,this._exceptionHandler=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const i=new yt(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new yt(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{ut.assertNotInAngularZone(),Xy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const f=this._zone.onUnstable.subscribe(()=>{ut.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),f.unsubscribe()}});this.isStable=li(i,s.pipe(hs()))}bootstrap(t,r){const o=t instanceof Yb;if(!this._injector.get(yh).done)throw!o&&function qt(n){const e=Et(n)||pn(n)||wn(n);return null!==e&&e.standalone}(t),new xe(405,false);let s;s=o?t:this._injector.get(Ua).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function z2(n){return n.isBoundToModule}(s)?void 0:this._injector.get(vu),f=s.create(ao.NULL,[],r||s.selector,a),m=f.location.nativeElement,_=f.injector.get(iE,null);return _?.registerApplication(m),f.onDestroy(()=>{this.detachView(f.hostView),vh(this.components,f),_?.unregisterApplication(m)}),this._loadComponent(f),f}tick(){if(this._runningTick)throw new xe(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;vh(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(JS,[]);r.push(...this._bootstrapListeners),r.forEach(o=>o(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>vh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new xe(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(ee(ut),ee(ca),ee(ru))},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vh(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let It=(()=>{class n{}return n.__NG_ELEMENT_ID__=K2,n})();function K2(n){return function Y2(n,e,t){if(yl(n)&&!t){const r=bo(n.index,e);return new jd(r,r)}return 47&n.type?new jd(e[16],e):null}(Ut(),st(),16==(16&n))}class bE{constructor(){}supports(e){return rh(e)}create(e){return new nO(e)}}const tO=(n,e)=>e;class nO{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||tO}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,o=0,i=null;for(;t||r;){const s=!r||t&&t.currentIndex<CE(r,o,i)?t:r,a=CE(s,o,i),u=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)o++;else{i||(i=[]);const f=a-o,m=u-o;if(f!=m){for(let k=0;k<f;k++){const M=k<i.length?i[k]:i[k]=0,Q=M+k;m<=Q&&Q<f&&(i[k]=M+1)}i[s.previousIndex]=m-f}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!rh(e))throw new xe(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let o,i,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)i=e[a],s=this._trackByFn(a,i),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,i,s,a)),Object.is(t.item,i)||this._addIdentityChange(t,i)):(t=this._mismatch(t,i,s,a),r=!0),t=t._next}else o=0,function xR(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[cc()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(o,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,o)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,o),r=!0),t=t._next,o++}),this.length=o;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,o){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,o)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,o)):e=this._addAfter(new rO(t,r),i,o),e}_verifyReinsertion(e,t,r,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?e=this._reinsertAfter(i,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const o=e._prevRemoved,i=e._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const o=null===t?this._itHead:t._next;return e._next=o,e._prev=t,null===o?this._itTail=e:o._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new wE),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new wE),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class rO{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class oO{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class wE{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new oO,this.map.set(t,r)),r.add(e)}get(e,t){const o=this.map.get(e);return o?o.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function CE(n,e,t){const r=n.previousIndex;if(null===r)return r;let o=0;return t&&r<t.length&&(o=t[r]),r+e+o}function EE(){return new lf([new bE])}let lf=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const o=r.factories.slice();t=t.concat(o)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||EE()),deps:[[n,new Rd,new xd]]}}find(t){const r=this.factories.find(o=>o.supports(t));if(null!=r)return r;throw new xe(901,!1)}}return n.\u0275prov=ht({token:n,providedIn:"root",factory:EE}),n})();const cO=cE(null,"core",[]);let uO=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(ee(wl))},n.\u0275mod=V({type:n}),n.\u0275inj=_r({}),n})(),c_=null;function ya(){return c_}class pO{}const Go=new rn("DocumentToken");let u_=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:function(){return function hO(){return ee(IE)}()},providedIn:"platform"}),n})();const mO=new rn("Location Initialized");let IE=(()=>{class n extends u_{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ya().getBaseHref(this._doc)}onPopState(t){const r=ya().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=ya().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){kE()?this._history.pushState(t,r,o):this._location.hash=o}replaceState(t,r,o){kE()?this._history.replaceState(t,r,o):this._location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(ee(Go))},n.\u0275prov=ht({token:n,factory:function(){return function gO(){return new IE(ee(Go))}()},providedIn:"platform"}),n})();function kE(){return!!window.history.pushState}function d_(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function TE(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function qa(n){return n&&"?"!==n[0]?"?"+n:n}let _a=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:function(){return bn(AE)},providedIn:"root"}),n})();const ME=new rn("appBaseHref");let AE=(()=>{class n extends _a{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??bn(Go).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return d_(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+qa(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,i){const s=this.prepareExternalUrl(o+qa(i));this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){const s=this.prepareExternalUrl(o+qa(i));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(ee(u_),ee(ME,8))},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xE=(()=>{class n extends _a{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=d_(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,i){let s=this.prepareExternalUrl(o+qa(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){let s=this.prepareExternalUrl(o+qa(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(ee(u_),ee(ME,8))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})(),uf=(()=>{class n{constructor(t){this._subject=new Tn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function vO(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(TE(RE(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+qa(r))}normalize(t){return n.stripTrailingSlash(function _O(n,e){return n&&new RegExp(`^${n}([/;?#]|$)`).test(e)?e.substring(n.length):e}(this._basePath,RE(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qa(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qa(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=qa,n.joinWithSlash=d_,n.stripTrailingSlash=TE,n.\u0275fac=function(t){return new(t||n)(ee(_a))},n.\u0275prov=ht({token:n,factory:function(){return function yO(){return new uf(ee(_a))}()},providedIn:"root"}),n})();function RE(n){return n.replace(/\/index.html$/,"")}function UE(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,i]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(i)}return null}class oN{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let mc=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,i,s)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new oN(o.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===i?void 0:i);else if(null!==i){const a=r.get(i);r.move(a,s),GE(a,o)}});for(let o=0,i=r.length;o<i;o++){const a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{GE(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(C(Mi),C(ns),C(lf))},n.\u0275dir=ue({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function GE(n,e){n.context.$implicit=e.item}let ti=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new sN,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){WE("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){WE("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(C(Mi),C(ns))},n.\u0275dir=ue({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class sN{constructor(){this.$implicit=null,this.ngIf=null}}function WE(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${N(e)}'.`)}class C_{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let xh=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const r of this._defaultViews)r.enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ue({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),ZE=(()=>{class n{constructor(t,r,o){this.ngSwitch=o,o._addCase(),this._view=new C_(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(C(Mi),C(ns),C(xh,9))},n.\u0275dir=ue({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),qE=(()=>{class n{constructor(t,r,o){o._addDefault(new C_(t,r))}}return n.\u0275fac=function(t){return new(t||n)(C(Mi),C(ns),C(xh,9))},n.\u0275dir=ue({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})();class cN{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class uN{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const dN=new uN,fN=new cN;let YE=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(Zd(t))return dN;if(Zw(t))return fN;throw function Ks(n,e){return new xe(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(C(It,16))},n.\u0275pipe=pt({name:"async",type:n,pure:!1,standalone:!0}),n})(),va=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=V({type:n}),n.\u0275inj=_r({}),n})();const QE="browser";function Cl(n){return n===QE}let PN=(()=>{class n{}return n.\u0275prov=ht({token:n,providedIn:"root",factory:()=>new FN(ee(Go),window)}),n})();class FN{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ON(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(e)||i.querySelector(`[name="${e}"]`);if(s)return s}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=JE(this.window.history)||JE(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function JE(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class eD{}class lL extends pO{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class M_ extends lL{static makeCurrent(){!function fO(n){c_||(c_=n)}(new M_)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function cL(){return hf=hf||document.querySelector("base"),hf?hf.getAttribute("href"):null}();return null==t?null:function uL(n){Ph=Ph||document.createElement("a"),Ph.setAttribute("href",n);const e=Ph.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){hf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return UE(document.cookie,e)}}let Ph,hf=null;const iD=new rn("TRANSITION_ID"),fL=[{provide:pc,useFactory:function dL(n,e,t){return()=>{t.get(yh).donePromise.then(()=>{const r=ya(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let i=0;i<o.length;i++)r.remove(o[i])})}},deps:[iD,Go,ao],multi:!0}];let hL=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();const Fh=new rn("EventManagerPlugins");let Oh=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let i=0;i<o.length;i++){const s=o[i];if(s.supports(t))return this._eventNameToPlugin.set(t,s),s}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(ee(Fh),ee(ut))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();class sD{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=ya().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let aD=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})(),mf=(()=>{class n extends aD{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(i=>{const s=this._doc.createElement("style");s.textContent=i,o.push(r.appendChild(s))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(lD),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(lD))}}return n.\u0275fac=function(t){return new(t||n)(ee(Go))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();function lD(n){ya().remove(n)}const A_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},x_=/%COMP%/g;function R_(n,e){return e.flat(100).map(t=>t.replace(x_,n))}function dD(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let P_=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new F_(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Pi.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new bL(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case Pi.ShadowDom:return new wL(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=R_(r.id,r.styles);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(ee(Oh),ee(mf),ee(af))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();class F_{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(A_[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(pD(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(pD(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const i=A_[o];i?e.setAttributeNS(i,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=A_[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(es.DashCase|es.Important)?e.style.setProperty(t,r,o&es.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&es.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,dD(r)):this.eventManager.addEventListener(e,t,dD(r))}}function pD(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class bL extends F_{constructor(e,t,r,o){super(e),this.component=r;const i=R_(o+"-"+r.id,r.styles);t.addStyles(i),this.contentAttr=function yL(n){return"_ngcontent-%COMP%".replace(x_,n)}(o+"-"+r.id),this.hostAttr=function _L(n){return"_nghost-%COMP%".replace(x_,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class wL extends F_{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=R_(o.id,o.styles);for(let s=0;s<i.length;s++){const a=document.createElement("style");a.textContent=i[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let CL=(()=>{class n extends sD{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(ee(Go))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();const hD=["alt","control","meta","shift"],SL={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},EL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let DL=(()=>{class n extends sD{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const i=n.parseEventName(r),s=n.eventCallback(i.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ya().onAndCancel(t,i.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const i=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),hD.forEach(f=>{const m=r.indexOf(f);m>-1&&(r.splice(m,1),s+=f+".")}),s+=i,0!=r.length||0===i.length)return null;const u={};return u.domEventName=o,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let o=SL[t.key]||t.key,i="";return r.indexOf("code.")>-1&&(o=t.code,i="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),hD.forEach(s=>{s!==o&&(0,EL[s])(t)&&(i+=s+".")}),i+=o,i===r)}static eventCallback(t,r,o){return i=>{n.matchEventFullKeyCode(i,t)&&o.runGuarded(()=>r(i))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(ee(Go))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();const ML=cE(cO,"browser",[{provide:Su,useValue:QE},{provide:QS,useValue:function IL(){M_.makeCurrent()},multi:!0},{provide:Go,useFactory:function TL(){return function lA(n){Hg=n}(document),document},deps:[]}]),yD=new rn(""),_D=[{provide:_h,useClass:class pL{addToWindow(e){p.getAngularTestability=(r,o=!0)=>{const i=e.findTestabilityInTree(r,o);if(null==i)throw new Error("Could not find testability for element.");return i},p.getAllAngularTestabilities=()=>e.getAllTestabilities(),p.getAllAngularRootElements=()=>e.getAllRootElements(),p.frameworkStabilizers||(p.frameworkStabilizers=[]),p.frameworkStabilizers.push(r=>{const o=p.getAllAngularTestabilities();let i=o.length,s=!1;const a=function(u){s=s||u,i--,0==i&&r(s)};o.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?ya().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:iE,useClass:e_,deps:[ut,t_,_h]},{provide:e_,useClass:e_,deps:[ut,t_,_h]}],vD=[{provide:Xg,useValue:"root"},{provide:ru,useFactory:function kL(){return new ru},deps:[]},{provide:Fh,useClass:CL,multi:!0,deps:[Go,ut,Su]},{provide:Fh,useClass:DL,multi:!0,deps:[Go]},{provide:P_,useClass:P_,deps:[Oh,mf,af]},{provide:Qb,useExisting:P_},{provide:aD,useExisting:mf},{provide:mf,useClass:mf,deps:[Go]},{provide:Oh,useClass:Oh,deps:[Fh,ut]},{provide:eD,useClass:hL,deps:[]},[]];let AL=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:af,useValue:t.appId},{provide:iD,useExisting:af},fL]}}}return n.\u0275fac=function(t){return new(t||n)(ee(yD,12))},n.\u0275mod=V({type:n}),n.\u0275inj=_r({providers:[...vD,..._D],imports:[va,uO]}),n})(),bD=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(ee(Go))},n.\u0275prov=ht({token:n,factory:function(t){let r=null;return r=t?new t:function RL(){return new bD(ee(Go))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let L_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:function(t){let r=null;return r=t?new(t||n):ee(SD),r},providedIn:"root"}),n})(),SD=(()=>{class n extends L_{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case Lr.NONE:return r;case Lr.HTML:return la(r,"HTML")?_s(r):Lb(this._doc,String(r)).toString();case Lr.STYLE:return la(r,"Style")?_s(r):r;case Lr.SCRIPT:if(la(r,"Script"))return _s(r);throw new Error("unsafe value used in a script context");case Lr.URL:return la(r,"URL")?_s(r):zp(String(r));case Lr.RESOURCE_URL:if(la(r,"ResourceURL"))return _s(r);throw new Error(`unsafe value used in a resource URL context (see ${rt})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${rt})`)}}bypassSecurityTrustHtml(t){return function mA(n){return new cA(n)}(t)}bypassSecurityTrustStyle(t){return function gA(n){return new uA(n)}(t)}bypassSecurityTrustScript(t){return function yA(n){return new dA(n)}(t)}bypassSecurityTrustUrl(t){return function _A(n){return new fA(n)}(t)}bypassSecurityTrustResourceUrl(t){return function vA(n){return new pA(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(ee(Go))},n.\u0275prov=ht({token:n,factory:function(t){let r=null;return r=t?new t:function BL(n){return new SD(n.get(Go))}(ee(ao)),r},providedIn:"root"}),n})();var ni=x(1158),VL=x(9233),Du=x.n(VL);let Nh,Lh;function ED(n){if(!window.location.hash.startsWith(n))return;const e=window.location.hash.split("?")[1];if(!e)return;const t=e.split("&").map(r=>r.split("="));for(const[r,o]of t)if("url"===r&&o)try{return decodeURIComponent(o)}catch{continue}}function DD(){return void 0!==Lh}class ID{constructor(){this.requestEvent=new ni.j}dispatchRequest(e){if(e){try{e=new(Du())(e).toString()}catch{return void console.error(`invalid URL: ${e}`)}this.url=e,this.requestEvent.dispatch()}}hasPendingRequest(){return void 0!==this.url}receivePendingUrl(){const e=this.url;return this.url=void 0,e}}class El{constructor(){this.installation=new ID,this.import=new ID,Nh&&this.installation.dispatchRequest(Nh),Lh&&this.import.dispatchRequest(Lh)}}function _n(...n){return dr(n,Yo(n))}function Dl(n,e){return I(e)?yr(n,e,1):yr(n,1)}function ui(n,e){return q((t,r)=>{let o=0;t.subscribe(_e(r,i=>n.call(e,i,o++)&&r.next(i)))})}El.\u0275fac=function(e){return new(e||El)},El.\u0275prov=ht({token:El,factory:El.\u0275fac,providedIn:"root"});class $h{}class $_{}class Ya{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const o=t.slice(0,r),i=o.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const o=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(t,o))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ya?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ya;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ya?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":const i=e.value;if(i){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class HL{encodeKey(e){return kD(e)}encodeValue(e){return kD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const GL=/%(\d[a-f0-9])/gi,WL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function kD(n){return encodeURIComponent(n).replace(GL,(e,t)=>WL[t]??e)}function Bh(n){return`${n}`}class Il{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new HL,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function zL(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,i)),e.decodeValue(o.slice(i+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],o=Array.isArray(r)?r.map(Bh):[Bh(r)];this.map.set(t,o)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(i=>{t.push({param:r,value:i,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Il({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Bh(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const o=r.indexOf(Bh(e.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class ZL{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function TD(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function MD(n){return typeof Blob<"u"&&n instanceof Blob}function AD(n){return typeof FormData<"u"&&n instanceof FormData}class gf{constructor(e,t,r,o){let i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function qL(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,i=o):i=r,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new Ya),this.context||(this.context=new ZL),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Il,this.urlWithParams=t}serializeBody(){return null===this.body?null:TD(this.body)||MD(this.body)||AD(this.body)||function KL(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Il?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||AD(this.body)?null:MD(this.body)?this.body.type||null:TD(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Il?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,o=e.responseType||this.responseType,i=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,f=e.params||this.params;const m=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((_,k)=>_.set(k,e.setHeaders[k]),u)),e.setParams&&(f=Object.keys(e.setParams).reduce((_,k)=>_.set(k,e.setParams[k]),f)),new gf(t,r,i,{params:f,headers:u,context:m,reportProgress:a,responseType:o,withCredentials:s})}}var Po=(()=>((Po=Po||{})[Po.Sent=0]="Sent",Po[Po.UploadProgress=1]="UploadProgress",Po[Po.ResponseHeader=2]="ResponseHeader",Po[Po.DownloadProgress=3]="DownloadProgress",Po[Po.Response=4]="Response",Po[Po.User=5]="User",Po))();class B_{constructor(e,t=200,r="OK"){this.headers=e.headers||new Ya,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class V_ extends B_{constructor(e={}){super(e),this.type=Po.ResponseHeader}clone(e={}){return new V_({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Vh extends B_{constructor(e={}){super(e),this.type=Po.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Vh({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class xD extends B_{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function U_(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let j_=(()=>{class n{constructor(t){this.handler=t}request(t,r,o={}){let i;if(t instanceof gf)i=t;else{let u,f;u=o.headers instanceof Ya?o.headers:new Ya(o.headers),o.params&&(f=o.params instanceof Il?o.params:new Il({fromObject:o.params})),i=new gf(t,r,void 0!==o.body?o.body:null,{headers:u,context:o.context,params:f,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const s=_n(i).pipe(Dl(u=>this.handler.handle(u)));if(t instanceof gf||"events"===o.observe)return s;const a=s.pipe(ui(u=>u instanceof Vh));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(Re(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(Re(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(Re(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(Re(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Il).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,U_(o,r))}post(t,r,o={}){return this.request("POST",t,U_(o,r))}put(t,r,o={}){return this.request("PUT",t,U_(o,r))}}return n.\u0275fac=function(t){return new(t||n)(ee($h))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();function RD(n,e){return e(n)}function YL(n,e){return(t,r)=>e.intercept(t,{handle:o=>n(o,r)})}const QL=new rn("HTTP_INTERCEPTORS"),yf=new rn("HTTP_INTERCEPTOR_FNS");function JL(){let n=null;return(e,t)=>(null===n&&(n=(bn(QL,{optional:!0})??[]).reduceRight(YL,RD)),n(e,t))}let PD=(()=>{class n extends $h{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(yf)));this.chain=r.reduceRight((o,i)=>function XL(n,e,t){return(r,o)=>t.runInContext(()=>e(r,i=>n(i,o)))}(o,i,this.injector),RD)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(ee($_),ee(ca))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();const r3=/^\)\]\}',?\n/;let OD=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new yt(r=>{const o=this.xhrFactory.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((M,Q)=>o.setRequestHeader(M,Q.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const M=t.detectContentTypeHeader();null!==M&&o.setRequestHeader("Content-Type",M)}if(t.responseType){const M=t.responseType.toLowerCase();o.responseType="json"!==M?M:"text"}const i=t.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const M=o.statusText||"OK",Q=new Ya(o.getAllResponseHeaders()),Ae=function o3(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return s=new V_({headers:Q,status:o.status,statusText:M,url:Ae}),s},u=()=>{let{headers:M,status:Q,statusText:Ae,url:Ze}=a(),Ke=null;204!==Q&&(Ke=typeof o.response>"u"?o.responseText:o.response),0===Q&&(Q=Ke?200:0);let bt=Q>=200&&Q<300;if("json"===t.responseType&&"string"==typeof Ke){const Ne=Ke;Ke=Ke.replace(r3,"");try{Ke=""!==Ke?JSON.parse(Ke):null}catch(Ot){Ke=Ne,bt&&(bt=!1,Ke={error:Ot,text:Ke})}}bt?(r.next(new Vh({body:Ke,headers:M,status:Q,statusText:Ae,url:Ze||void 0})),r.complete()):r.error(new xD({error:Ke,headers:M,status:Q,statusText:Ae,url:Ze||void 0}))},f=M=>{const{url:Q}=a(),Ae=new xD({error:M,status:o.status||0,statusText:o.statusText||"Unknown Error",url:Q||void 0});r.error(Ae)};let m=!1;const _=M=>{m||(r.next(a()),m=!0);let Q={type:Po.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(Q.total=M.total),"text"===t.responseType&&o.responseText&&(Q.partialText=o.responseText),r.next(Q)},k=M=>{let Q={type:Po.UploadProgress,loaded:M.loaded};M.lengthComputable&&(Q.total=M.total),r.next(Q)};return o.addEventListener("load",u),o.addEventListener("error",f),o.addEventListener("timeout",f),o.addEventListener("abort",f),t.reportProgress&&(o.addEventListener("progress",_),null!==i&&o.upload&&o.upload.addEventListener("progress",k)),o.send(i),r.next({type:Po.Sent}),()=>{o.removeEventListener("error",f),o.removeEventListener("abort",f),o.removeEventListener("load",u),o.removeEventListener("timeout",f),t.reportProgress&&(o.removeEventListener("progress",_),null!==i&&o.upload&&o.upload.removeEventListener("progress",k)),o.readyState!==o.DONE&&o.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(ee(eD))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();const H_=new rn("XSRF_ENABLED"),ND="XSRF-TOKEN",LD=new rn("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>ND}),$D="X-XSRF-TOKEN",BD=new rn("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>$D});class VD{}let i3=(()=>{class n{constructor(t,r,o){this.doc=t,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=UE(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(ee(Go),ee(Su),ee(LD))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();function s3(n,e){const t=n.url.toLowerCase();if(!bn(H_)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=bn(VD).getToken(),o=bn(BD);return null!=r&&!n.headers.has(o)&&(n=n.clone({headers:n.headers.set(o,r)})),e(n)}var Co=(()=>((Co=Co||{})[Co.Interceptors=0]="Interceptors",Co[Co.LegacyInterceptors=1]="LegacyInterceptors",Co[Co.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Co[Co.NoXsrfProtection=3]="NoXsrfProtection",Co[Co.JsonpSupport=4]="JsonpSupport",Co[Co.RequestsMadeViaParent=5]="RequestsMadeViaParent",Co))();function Iu(n,e){return{\u0275kind:n,\u0275providers:e}}function a3(...n){const e=[j_,OD,PD,{provide:$h,useExisting:PD},{provide:$_,useExisting:OD},{provide:yf,useValue:s3,multi:!0},{provide:H_,useValue:!0},{provide:VD,useClass:i3}];for(const t of n)e.push(...t.\u0275providers);return function OA(n){return{\u0275providers:n}}(e)}const UD=new rn("LEGACY_INTERCEPTOR_FN");function c3({cookieName:n,headerName:e}){const t=[];return void 0!==n&&t.push({provide:LD,useValue:n}),void 0!==e&&t.push({provide:BD,useValue:e}),Iu(Co.CustomXsrfConfiguration,t)}let u3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=V({type:n}),n.\u0275inj=_r({providers:[a3(Iu(Co.LegacyInterceptors,[{provide:UD,useFactory:JL},{provide:yf,useExisting:UD,multi:!0}]),c3({cookieName:ND,headerName:$D}))]}),n})();const{isArray:d3}=Array,{getPrototypeOf:f3,prototype:p3,keys:h3}=Object;function jD(n){if(1===n.length){const e=n[0];if(d3(e))return{args:e,keys:null};if(function m3(n){return n&&"object"==typeof n&&f3(n)===p3}(e)){const t=h3(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:g3}=Array;function z_(n){return Re(e=>function y3(n,e){return g3(e)?n(...e):n(e)}(n,e))}function HD(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}let zD=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(C(ja),C(gt))},n.\u0275dir=ue({type:n}),n})(),gc=(()=>{class n extends zD{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ei(n)))(r||n)}}(),n.\u0275dir=ue({type:n,features:[pr]}),n})();const Bi=new rn("NgValueAccessor"),b3={provide:Bi,useExisting:Oe(()=>G_),multi:!0},C3=new rn("CompositionEventMode");let G_=(()=>{class n extends zD{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function w3(){const n=ya()?ya().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(C(ja),C(gt),C(C3,8))},n.\u0275dir=ue({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&lt("input",function(i){return r._handleInput(i.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(i){return r._compositionEnd(i.target.value)})},features:[Dr([b3]),pr]}),n})();function kl(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function WD(n){return null!=n&&"number"==typeof n.length}const Ai=new rn("NgValidators"),Tl=new rn("NgAsyncValidators"),E3=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Uh{static min(e){return function ZD(n){return e=>{if(kl(e.value)||kl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function qD(n){return e=>{if(kl(e.value)||kl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function KD(n){return kl(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function YD(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function XD(n){return kl(n.value)||E3.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function QD(n){return e=>kl(e.value)||!WD(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return JD(e)}static pattern(e){return function e1(n){if(!n)return jh;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(kl(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(e)}static nullValidator(e){return null}static compose(e){return s1(e)}static composeAsync(e){return a1(e)}}function JD(n){return e=>WD(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function jh(n){return null}function t1(n){return null!=n}function n1(n){return Zd(n)?dr(n):n}function r1(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function o1(n,e){return e.map(t=>t(n))}function i1(n){return n.map(e=>function D3(n){return!n.validate}(e)?e:t=>e.validate(t))}function s1(n){if(!n)return null;const e=n.filter(t1);return 0==e.length?null:function(t){return r1(o1(t,e))}}function W_(n){return null!=n?s1(i1(n)):null}function a1(n){if(!n)return null;const e=n.filter(t1);return 0==e.length?null:function(t){return function _3(...n){const e=zi(n),{args:t,keys:r}=jD(n),o=new yt(i=>{const{length:s}=t;if(!s)return void i.complete();const a=new Array(s);let u=s,f=s;for(let m=0;m<s;m++){let _=!1;Nn(t[m]).subscribe(_e(i,k=>{_||(_=!0,f--),a[m]=k},()=>u--,void 0,()=>{(!u||!_)&&(f||i.next(r?HD(r,a):a),i.complete())}))}});return e?o.pipe(z_(e)):o}(o1(t,e).map(n1)).pipe(Re(r1))}}function Z_(n){return null!=n?a1(i1(n)):null}function l1(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function c1(n){return n._rawValidators}function u1(n){return n._rawAsyncValidators}function q_(n){return n?Array.isArray(n)?n:[n]:[]}function Hh(n,e){return Array.isArray(n)?n.includes(e):n===e}function d1(n,e){const t=q_(e);return q_(n).forEach(o=>{Hh(t,o)||t.push(o)}),t}function f1(n,e){return q_(e).filter(t=>!Hh(n,t))}class p1{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=W_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Z_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Vi extends p1{get formDirective(){return null}get path(){return null}}class Xa extends p1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class h1{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ml=(()=>{class n extends h1{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(C(Xa,2))},n.\u0275dir=ue({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Ga("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[pr]}),n})(),Al=(()=>{class n extends h1{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(C(Vi,10))},n.\u0275dir=ue({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&Ga("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[pr]}),n})();const _f="VALID",Gh="INVALID",ku="PENDING",vf="DISABLED";function Q_(n){return(Wh(n)?n.validators:n)||null}function J_(n,e){return(Wh(e)?e.asyncValidators:n)||null}function Wh(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class _1{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===_f}get invalid(){return this.status===Gh}get pending(){return this.status==ku}get disabled(){return this.status===vf}get enabled(){return this.status!==vf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(d1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(d1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(f1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(f1(e,this._rawAsyncValidators))}hasValidator(e){return Hh(this._rawValidators,e)}hasAsyncValidator(e){return Hh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ku,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=vf,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=_f,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_f||this.status===ku)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vf:_f}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ku,this._hasOwnPendingAsyncValidator=!0;const t=n1(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Tn,this.statusChanges=new Tn}_calculateStatus(){return this._allControlsDisabled()?vf:this.errors?Gh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ku)?ku:this._anyControlsHaveStatus(Gh)?Gh:_f}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Wh(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function R3(n){return Array.isArray(n)?W_(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function P3(n){return Array.isArray(n)?Z_(n):n||null}(this._rawAsyncValidators)}}class yc extends _1{constructor(e,t,r){super(Q_(t),J_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function y1(n,e,t){n._forEachChild((r,o)=>{if(void 0===t[o])throw new xe(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function g1(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new xe(1e3,"");if(!r[t])throw new xe(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,i)=>{r=t(r,o,i)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Zh=yc,Tu=new rn("CallSetDisabledState",{providedIn:"root",factory:()=>qh}),qh="always";function bf(n,e,t=qh){ev(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function N3(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&v1(n,e)})}(n,e),function $3(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function L3(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&v1(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function O3(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Yh(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Qh(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Xh(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ev(n,e){const t=c1(n);null!==e.validator?n.setValidators(l1(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=u1(n);null!==e.asyncValidator?n.setAsyncValidators(l1(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();Xh(e._rawValidators,o),Xh(e._rawAsyncValidators,o)}function Qh(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=c1(n);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==e.validator);i.length!==o.length&&(t=!0,n.setValidators(i))}}if(null!==e.asyncValidator){const o=u1(n);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==e.asyncValidator);i.length!==o.length&&(t=!0,n.setAsyncValidators(i))}}}const r=()=>{};return Xh(e._rawValidators,r),Xh(e._rawAsyncValidators,r),t}function v1(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function C1(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function S1(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Es=class extends _1{constructor(e=null,t,r){super(Q_(t),J_(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Wh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=S1(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){C1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){C1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){S1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},ri=Es;let xl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ue({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),M1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=V({type:n}),n.\u0275inj=_r({}),n})();const iv=new rn("NgModelWithFormControlWarning"),Q3={provide:Vi,useExisting:Oe(()=>ba)};let ba=(()=>{class n extends Vi{constructor(t,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Tn,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Qh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return bf(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Yh(t.control||null,t,!1),function j3(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function w1(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(Yh(r||null,t),(n=>n instanceof Es)(o)&&(bf(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function b1(n,e){ev(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function B3(n,e){return Qh(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ev(this.form,this),this._oldForm&&Qh(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(C(Ai,10),C(Tl,10),C(Tu,8))},n.\u0275dir=ue({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&lt("submit",function(i){return r.onSubmit(i)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Dr([Q3]),pr,Mo]}),n})();const t$={provide:Xa,useExisting:Oe(()=>Qa)};let Qa=(()=>{class n extends Xa{set isDisabled(t){}constructor(t,r,o,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new Tn,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function rv(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(i=>{i.constructor===G_?t=i:function U3(n){return Object.getPrototypeOf(n.constructor)===gc}(i)?r=i:o=i}),o||r||t||null}(0,i)}ngOnChanges(t){this._added||this._setUpControl(),function nv(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Kh(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(C(Vi,13),C(Ai,10),C(Tl,10),C(Bi,10),C(iv,8))},n.\u0275dir=ue({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Dr([t$]),pr,Mo]}),n})();let _c=(()=>{class n{constructor(){this._validator=jh}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):jh,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ue({type:n,features:[Mo]}),n})();const h$={provide:Ai,useExisting:Oe(()=>dv),multi:!0};let dv=(()=>{class n extends _c{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function N1(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>JD(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ei(n)))(r||n)}}(),n.\u0275dir=ue({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&fa("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Dr([h$]),pr]}),n})(),z1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=V({type:n}),n.\u0275inj=_r({imports:[M1]}),n})(),vc=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Tu,useValue:t.callSetDisabledState??qh}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=V({type:n}),n.\u0275inj=_r({imports:[z1]}),n})(),Jh=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:iv,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Tu,useValue:t.callSetDisabledState??qh}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=V({type:n}),n.\u0275inj=_r({imports:[z1]}),n})();const y$=["addListener","removeListener"],_$=["addEventListener","removeEventListener"],v$=["on","off"];function Cf(n,e,t,r){if(I(t)&&(r=t,t=void 0),r)return Cf(n,e,t).pipe(z_(r));const[o,i]=function C$(n){return I(n.addEventListener)&&I(n.removeEventListener)}(n)?_$.map(s=>a=>n[s](e,a,t)):function b$(n){return I(n.addListener)&&I(n.removeListener)}(n)?y$.map(G1(n,e)):function w$(n){return I(n.on)&&I(n.off)}(n)?v$.map(G1(n,e)):[];if(!o&&gr(n))return yr(s=>Cf(s,e,t))(Nn(n));if(!o)throw new TypeError("Invalid event target");return new yt(s=>{const a=(...u)=>s.next(1<u.length?u:u[0]);return o(a),()=>i(a)})}function G1(n,e){return t=>r=>n[t](e,r)}class Ds extends tt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const em=c(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function W1(...n){const e=Yo(n),t=zi(n),{args:r,keys:o}=jD(n);if(0===r.length)return dr([],e);const i=new yt(function S$(n,e,t=ne){return r=>{Z1(e,()=>{const{length:o}=n,i=new Array(o);let s=o,a=o;for(let u=0;u<o;u++)Z1(e,()=>{const f=dr(n[u],e);let m=!1;f.subscribe(_e(r,_=>{i[u]=_,m||(m=!0,a--),a||r.next(t(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,o?s=>HD(o,s):ne));return t?i.pipe(z_(t)):i}function Z1(n,e,t){n?to(t,n,e):e()}function Sf(...n){return function E$(){return Bo(1)}()(dr(n,Yo(n)))}function tm(n){return new yt(e=>{Nn(n()).subscribe(e)})}function Mu(n,e){const t=I(n)?n:()=>n,r=o=>o.error(t());return new yt(e?o=>e.schedule(r,0,o):r)}function fv(){return q((n,e)=>{let t=null;n._refCount++;const r=_e(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,i=t;t=null,o&&(!i||o===i)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class pv extends yt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Ve(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new G;const t=this.getSubject();e.add(this.source.subscribe(_e(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=G.EMPTY)}return e}refCount(){return fv()(this)}}function di(n,e){return q((t,r)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&r.complete();t.subscribe(_e(r,u=>{o?.unsubscribe();let f=0;const m=i++;Nn(n(u,m)).subscribe(o=_e(r,_=>r.next(e?e(u,_,m,f++):_),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Is(n){return n<=0?()=>Yr:q((e,t)=>{let r=0;e.subscribe(_e(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function q1(...n){const e=Yo(n);return q((t,r)=>{(e?Sf(n,t,e):Sf(n,t)).subscribe(r)})}function nm(n){return q((e,t)=>{let r=!1;e.subscribe(_e(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function K1(n=D$){return q((e,t)=>{let r=!1;e.subscribe(_e(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function D$(){return new em}function Ja(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ui((o,i)=>n(o,i,r)):ne,Is(1),t?nm(e):K1(()=>new em))}function fi(n,e,t){const r=I(n)||e||t?{next:n,error:e,complete:t}:n;return r?q((o,i)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;o.subscribe(_e(i,u=>{var f;null===(f=r.next)||void 0===f||f.call(r,u),i.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),i.complete()},u=>{var f;a=!1,null===(f=r.error)||void 0===f||f.call(r,u),i.error(u)},()=>{var u,f;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(f=r.finalize)||void 0===f||f.call(r)}))}):ne}function el(n){return q((e,t)=>{let i,r=null,o=!1;r=e.subscribe(_e(t,void 0,void 0,s=>{i=Nn(n(s,el(n)(e))),r?(r.unsubscribe(),r=null,i.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(t))})}function I$(n,e,t,r,o){return(i,s)=>{let a=t,u=e,f=0;i.subscribe(_e(s,m=>{const _=f++;u=a?n(u,m,_):(a=!0,m),r&&s.next(u)},o&&(()=>{a&&s.next(u),s.complete()})))}}function Y1(n,e){return q(I$(n,e,arguments.length>=2,!0))}function hv(n){return n<=0?()=>Yr:q((e,t)=>{let r=[];e.subscribe(_e(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function X1(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ui((o,i)=>n(o,i,r)):ne,hv(1),t?nm(e):K1(()=>new em))}function mv(n){return Re(()=>n)}function gv(n){return q((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const $n="primary",Ef=Symbol("RouteTitle");class T${constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Au(n){return new T$(n)}function M$(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let i=0;i<r.length;i++){const s=r[i],a=n[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function wa(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let i=0;i<t.length;i++)if(o=t[i],!Q1(n[o],e[o]))return!1;return!0}function Q1(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,i)=>r[i]===o)}return n===e}function J1(n){return Array.prototype.concat.apply([],n)}function eI(n){return n.length>0?n[n.length-1]:null}function pi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Rl(n){return Ey(n)?n:Zd(n)?dr(Promise.resolve(n)):_n(n)}const rm=!1,x$={exact:function rI(n,e,t){if(!wc(n.segments,e.segments)||!om(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!rI(n.children[r],e.children[r],t))return!1;return!0},subset:oI},tI={exact:function R$(n,e){return wa(n,e)},subset:function P$(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Q1(n[t],e[t]))},ignored:()=>!0};function nI(n,e,t){return x$[t.paths](n.root,e.root,t.matrixParams)&&tI[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function oI(n,e,t){return iI(n,e,e.segments,t)}function iI(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!wc(o,t)||e.hasChildren()||!om(o,t,r))}if(n.segments.length===t.length){if(!wc(n.segments,t)||!om(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!oI(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),i=t.slice(n.segments.length);return!!(wc(n.segments,o)&&om(n.segments,o,r)&&n.children[$n])&&iI(n.children[$n],e,i,r)}}function om(n,e,t){return e.every((r,o)=>tI[t](n[o].parameters,r.parameters))}class bc{constructor(e=new Xn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Au(this.queryParams)),this._queryParamMap}toString(){return N$.serialize(this)}}class Xn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,pi(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return im(this)}}class Df{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Au(this.parameters)),this._parameterMap}toString(){return lI(this)}}function wc(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let xu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:function(){return new yv},providedIn:"root"}),n})();class yv{parse(e){const t=new G$(e);return new bc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${If(e.root,!0)}`,r=function B$(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${sm(t)}=${sm(o)}`).join("&"):`${sm(t)}=${sm(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function L$(n){return encodeURI(n)}(e.fragment)}`:""}`}}const N$=new yv;function im(n){return n.segments.map(e=>lI(e)).join("/")}function If(n,e){if(!n.hasChildren())return im(n);if(e){const t=n.children[$n]?If(n.children[$n],!1):"",r=[];return pi(n.children,(o,i)=>{i!==$n&&r.push(`${i}:${If(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function O$(n,e){let t=[];return pi(n.children,(r,o)=>{o===$n&&(t=t.concat(e(r,o)))}),pi(n.children,(r,o)=>{o!==$n&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===$n?[If(n.children[$n],!1)]:[`${o}:${If(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[$n]?`${im(n)}/${t[0]}`:`${im(n)}/(${t.join("//")})`}}function sI(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sm(n){return sI(n).replace(/%3B/gi,";")}function _v(n){return sI(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function am(n){return decodeURIComponent(n)}function aI(n){return am(n.replace(/\+/g,"%20"))}function lI(n){return`${_v(n.path)}${function $$(n){return Object.keys(n).map(e=>`;${_v(e)}=${_v(n[e])}`).join("")}(n.parameters)}`}const V$=/^[^\/()?;=#]+/;function lm(n){const e=n.match(V$);return e?e[0]:""}const U$=/^[^=?&#]+/,H$=/^[^&#]+/;class G${constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xn([],{}):new Xn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[$n]=new Xn(e,t)),r}parseSegment(){const e=lm(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new xe(4009,rm);return this.capture(e),new Df(am(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=lm(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=lm(this.remaining);o&&(r=o,this.capture(r))}e[am(t)]=am(r)}parseQueryParam(e){const t=function j$(n){const e=n.match(U$);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function z$(n){const e=n.match(H$);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const o=aI(t),i=aI(r);if(e.hasOwnProperty(o)){let s=e[o];Array.isArray(s)||(s=[s],e[o]=s),s.push(i)}else e[o]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=lm(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new xe(4010,rm);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=$n);const s=this.parseChildren();t[i]=1===Object.keys(s).length?s[$n]:new Xn([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new xe(4011,rm)}}function vv(n){return n.segments.length>0?new Xn([],{[$n]:n}):n}function cm(n){const e={};for(const r of Object.keys(n.children)){const i=cm(n.children[r]);(i.segments.length>0||i.hasChildren())&&(e[r]=i)}return function W$(n){if(1===n.numberOfChildren&&n.children[$n]){const e=n.children[$n];return new Xn(n.segments.concat(e.segments),e.children)}return n}(new Xn(n.segments,e))}function Cc(n){return n instanceof bc}function K$(n,e,t,r,o){if(0===t.length)return Ru(e.root,e.root,e.root,r,o);const i=function dI(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new uI(!0,0,n);let e=0,t=!1;const r=n.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return pi(i.outlets,(u,f)=>{a[f]="string"==typeof u?u.split("/"):u}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new uI(t,e,r)}(t);return i.toRoot()?Ru(e.root,e.root,new Xn([],{}),r,o):function s(u){const f=function X$(n,e,t,r){if(n.isAbsolute)return new Pu(e.root,!0,0);if(-1===r)return new Pu(t,t===e.root,0);return function fI(n,e,t){let r=n,o=e,i=t;for(;i>o;){if(i-=o,r=r.parent,!r)throw new xe(4005,!1);o=r.segments.length}return new Pu(r,!1,o-i)}(t,r+(kf(n.commands[0])?0:1),n.numberOfDoubleDots)}(i,e,n.snapshot?._urlSegment,u),m=f.processChildren?Fu(f.segmentGroup,f.index,i.commands):wv(f.segmentGroup,f.index,i.commands);return Ru(e.root,f.segmentGroup,m,r,o)}(n.snapshot?._lastPathIndex)}function kf(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Tf(n){return"object"==typeof n&&null!=n&&n.outlets}function Ru(n,e,t,r,o){let s,i={};r&&pi(r,(u,f)=>{i[f]=Array.isArray(u)?u.map(m=>`${m}`):`${u}`}),s=n===e?t:cI(n,e,t);const a=vv(cm(s));return new bc(a,i,o)}function cI(n,e,t){const r={};return pi(n.children,(o,i)=>{r[i]=o===e?t:cI(o,e,t)}),new Xn(n.segments,r)}class uI{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&kf(r[0]))throw new xe(4003,!1);const o=r.find(Tf);if(o&&o!==eI(r))throw new xe(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Pu{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function wv(n,e,t){if(n||(n=new Xn([],{})),0===n.segments.length&&n.hasChildren())return Fu(n,e,t);const r=function J$(n,e,t){let r=0,o=e;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return i;const s=n.segments[o],a=t[r];if(Tf(a))break;const u=`${a}`,f=r<t.length-1?t[r+1]:null;if(o>0&&void 0===u)break;if(u&&f&&"object"==typeof f&&void 0===f.outlets){if(!hI(u,f,s))return i;r+=2}else{if(!hI(u,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const i=new Xn(n.segments.slice(0,r.pathIndex),{});return i.children[$n]=new Xn(n.segments.slice(r.pathIndex),n.children),Fu(i,0,o)}return r.match&&0===o.length?new Xn(n.segments,{}):r.match&&!n.hasChildren()?Cv(n,e,t):r.match?Fu(n,0,o):Cv(n,e,t)}function Fu(n,e,t){if(0===t.length)return new Xn(n.segments,{});{const r=function Q$(n){return Tf(n[0])?n[0].outlets:{[$n]:n}}(t),o={};return!r[$n]&&n.children[$n]&&1===n.numberOfChildren&&0===n.children[$n].segments.length?Fu(n.children[$n],e,t):(pi(r,(i,s)=>{"string"==typeof i&&(i=[i]),null!==i&&(o[s]=wv(n.children[s],e,i))}),pi(n.children,(i,s)=>{void 0===r[s]&&(o[s]=i)}),new Xn(n.segments,o))}}function Cv(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const i=t[o];if(Tf(i)){const u=e4(i.outlets);return new Xn(r,u)}if(0===o&&kf(t[0])){r.push(new Df(n.segments[e].path,pI(t[0]))),o++;continue}const s=Tf(i)?i.outlets[$n]:`${i}`,a=o<t.length-1?t[o+1]:null;s&&a&&kf(a)?(r.push(new Df(s,pI(a))),o+=2):(r.push(new Df(s,{})),o++)}return new Xn(r,{})}function e4(n){const e={};return pi(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Cv(new Xn([],{}),0,t))}),e}function pI(n){const e={};return pi(n,(t,r)=>e[r]=`${t}`),e}function hI(n,e,t){return n==t.path&&wa(e,t.parameters)}const Mf="imperative";class Ca{constructor(e,t){this.id=e,this.url=t}}class um extends Ca{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Sc extends Ca{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class dm extends Ca{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class mI extends Ca{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=16}}class gI extends Ca{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class t4 extends Ca{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class n4 extends Ca{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class r4 extends Ca{constructor(e,t,r,o,i){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class o4 extends Ca{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class i4 extends Ca{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class s4{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class a4{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class l4{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class c4{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class u4{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class d4{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yI{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let p4=(()=>{class n{createUrlTree(t,r,o,i,s,a){return K$(t||r.root,o,i,s,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})(),h4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:function(e){return p4.\u0275fac(e)},providedIn:"root"}),n})();class _I{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Sv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Sv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Ev(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Ev(e,this._root).map(t=>t.value)}}function Sv(n,e){if(n===e.value)return e;for(const t of e.children){const r=Sv(n,t);if(r)return r}return null}function Ev(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Ev(n,t);if(r.length)return r.unshift(e),r}return[]}class tl{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ou(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class vI extends _I{constructor(e,t){super(e),this.snapshot=t,Dv(this,e)}toString(){return this.snapshot.toString()}}function bI(n,e){const t=function m4(n,e){const s=new fm([],{},{},"",{},$n,e,null,n.root,-1,{});return new CI("",new tl(s,[]))}(n,e),r=new Ds([new Df("",{})]),o=new Ds({}),i=new Ds({}),s=new Ds({}),a=new Ds(""),u=new nl(r,o,s,a,i,$n,e,t.root);return u.snapshot=t.root,new vI(new tl(u,[]),t)}class nl{constructor(e,t,r,o,i,s,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.title=this.data?.pipe(Re(f=>f[Ef]))??_n(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Re(e=>Au(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Re(e=>Au(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wI(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],i=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(i.component)break;r--}}return function g4(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class fm{get title(){return this.data?.[Ef]}constructor(e,t,r,o,i,s,a,u,f,m,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=u,this._urlSegment=f,this._lastPathIndex=m,this._resolve=_}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Au(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Au(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class CI extends _I{constructor(e,t){super(t),this.url=e,Dv(this,t)}toString(){return SI(this._root)}}function Dv(n,e){e.value._routerState=n,e.children.forEach(t=>Dv(n,t))}function SI(n){const e=n.children.length>0?` { ${n.children.map(SI).join(", ")} } `:"";return`${n.value}${e}`}function Iv(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,wa(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),wa(e.params,t.params)||n.params.next(t.params),function A$(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!wa(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),wa(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function kv(n,e){const t=wa(n.params,e.params)&&function F$(n,e){return wc(n,e)&&n.every((t,r)=>wa(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||kv(n.parent,e.parent))}function Af(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function _4(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Af(n,r,o);return Af(n,r)})}(n,e,t);return new tl(r,o)}{if(n.shouldAttach(e.value)){const i=n.retrieve(e.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Af(n,a)),s}}const r=function v4(n){return new nl(new Ds(n.url),new Ds(n.params),new Ds(n.queryParams),new Ds(n.fragment),new Ds(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(i=>Af(n,i));return new tl(r,o)}}const Tv="ngNavigationCancelingError";function EI(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Cc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=DI(!1,0,e);return o.url=t,o.navigationBehaviorOptions=r,o}function DI(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Tv]=!0,r.cancellationCode=e,t&&(r.url=t),r}function II(n){return kI(n)&&Cc(n.url)}function kI(n){return n&&n[Tv]}class b4{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ec,this.attachRef=null}}let Ec=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new b4,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pm=!1;let TI=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=$n,this.activateEvents=new Tn,this.deactivateEvents=new Tn,this.attachEvents=new Tn,this.detachEvents=new Tn,this.parentContexts=bn(Ec),this.location=bn(Mi),this.changeDetector=bn(It),this.environmentInjector=bn(ca)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new xe(4012,pm);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new xe(4012,pm);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new xe(4012,pm);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new xe(4013,pm);this._activatedRoute=t;const o=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new w4(t,a,o.injector);if(r&&function C4(n){return!!n.resolveComponentFactory}(r)){const f=r.resolveComponentFactory(s);this.activated=o.createComponent(f,o.length,u)}else this.activated=o.createComponent(s,{index:o.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ue({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Mo]}),n})();class w4{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===nl?this.route:e===Ec?this.childContexts:this.parent.get(e,t)}}let Mv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d({type:n,selectors:[["ng-component"]],standalone:!0,features:[pS],decls:1,vars:0,template:function(t,r){1&t&&ct(0,"router-outlet")},dependencies:[TI],encapsulation:2}),n})();function MI(n,e){return n.providers&&!n._injector&&(n._injector=ph(n.providers,e,`Route: ${n.path}`)),n._injector??e}function xv(n){const e=n.children&&n.children.map(xv),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==$n&&(t.component=Mv),t}function Ns(n){return n.outlet||$n}function AI(n,e){const t=n.filter(r=>Ns(r)===e);return t.push(...n.filter(r=>Ns(r)!==e)),t}function xf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class k4{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Iv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Ou(t);e.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),pi(o,(i,s)=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(e,t,r){const o=e.value,i=t?t.value:null;if(o===i)if(o.component){const s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else i&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,i=Ou(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,i=Ou(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Ou(t);e.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new d4(i.value.snapshot))}),e.children.length&&this.forwardEvent(new c4(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,i=t?t.value:null;if(Iv(o),o===i)if(o.component){const s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Iv(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=xf(o.snapshot),u=a?.get(Ua)??null;s.attachRef=null,s.route=o,s.resolver=u,s.injector=a,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class xI{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class hm{constructor(e,t){this.component=e,this.route=t}}function T4(n,e,t){const r=n._root;return Rf(r,e?e._root:null,t,[r.value])}function Nu(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function na(n){return null!==ms(n)}(n)?e.get(n):n:r}function Rf(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=Ou(e);return n.children.forEach(s=>{(function A4(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const u=function x4(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!wc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!wc(n.url,e.url)||!wa(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kv(n,e)||!wa(n.queryParams,e.queryParams);default:return!kv(n,e)}}(s,i,i.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new xI(r)):(i.data=s.data,i._resolvedData=s._resolvedData),Rf(n,e,i.component?a?a.children:null:t,r,o),u&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new hm(a.outlet.component,s))}else s&&Pf(e,a,o),o.canActivateChecks.push(new xI(r)),Rf(n,null,i.component?a?a.children:null:t,r,o)})(s,i[s.value.outlet],t,r.concat([s.value]),o),delete i[s.value.outlet]}),pi(i,(s,a)=>Pf(s,t.getContext(a),o)),o}function Pf(n,e,t){const r=Ou(n),o=n.value;pi(r,(i,s)=>{Pf(i,o.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new hm(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function Ff(n){return"function"==typeof n}function Rv(n){return n instanceof em||"EmptyError"===n?.name}const mm=Symbol("INITIAL_VALUE");function Lu(){return di(n=>W1(n.map(e=>e.pipe(Is(1),q1(mm)))).pipe(Re(e=>{for(const t of e)if(!0!==t){if(t===mm)return mm;if(!1===t||t instanceof bc)return t}return!0}),ui(e=>e!==mm),Is(1)))}function RI(n){return function Ue(...n){return Xe(n)}(fi(e=>{if(Cc(e))throw EI(0,e)}),Re(e=>!0===e))}const Pv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function PI(n,e,t,r,o){const i=Fv(n,e,t);return i.matched?function q4(n,e,t,r){const o=e.canMatch;return o&&0!==o.length?_n(o.map(s=>{const a=Nu(s,n);return Rl(function L4(n){return n&&Ff(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Lu(),RI()):_n(!0)}(r=MI(e,r),e,t).pipe(Re(s=>!0===s?i:{...Pv})):_n(i)}function Fv(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Pv}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||M$)(t,n,e);if(!o)return{...Pv};const i={};pi(o.posParams,(a,u)=>{i[u]=a.path});const s=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function gm(n,e,t,r){if(t.length>0&&function X4(n,e,t){return t.some(r=>ym(n,e,r)&&Ns(r)!==$n)}(n,t,r)){const i=new Xn(e,function Y4(n,e,t,r){const o={};o[$n]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const i of t)if(""===i.path&&Ns(i)!==$n){const s=new Xn([],{});s._sourceSegment=n,s._segmentIndexShift=e.length,o[Ns(i)]=s}return o}(n,e,r,new Xn(t,n.children)));return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===t.length&&function Q4(n,e,t){return t.some(r=>ym(n,e,r))}(n,t,r)){const i=new Xn(n.segments,function K4(n,e,t,r,o){const i={};for(const s of r)if(ym(n,t,s)&&!o[Ns(s)]){const a=new Xn([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,i[Ns(s)]=a}return{...o,...i}}(n,e,t,r,n.children));return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}const o=new Xn(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function ym(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function FI(n,e,t,r){return!!(Ns(n)===r||r!==$n&&ym(e,t,n))&&("**"===n.path||Fv(e,n,t).matched)}function OI(n,e,t){return 0===e.length&&!n.children[t]}const _m=!1;class vm{constructor(e){this.segmentGroup=e||null}}class NI{constructor(e){this.urlTree=e}}function Of(n){return Mu(new vm(n))}function LI(n){return Mu(new NI(n))}class nB{constructor(e,t,r,o,i){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=i,this.allowRedirects=!0}apply(){const e=gm(this.urlTree.root,[],[],this.config).segmentGroup,t=new Xn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,$n).pipe(Re(i=>this.createUrlTree(cm(i),this.urlTree.queryParams,this.urlTree.fragment))).pipe(el(i=>{if(i instanceof NI)return this.allowRedirects=!1,this.match(i.urlTree);throw i instanceof vm?this.noMatchError(i):i}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,$n).pipe(Re(o=>this.createUrlTree(cm(o),e.queryParams,e.fragment))).pipe(el(o=>{throw o instanceof vm?this.noMatchError(o):o}))}noMatchError(e){return new xe(4002,_m)}createUrlTree(e,t,r){const o=vv(e);return new bc(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(Re(i=>new Xn([],i))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const i of Object.keys(r.children))"primary"===i?o.unshift(i):o.push(i);return dr(o).pipe(Dl(i=>{const s=r.children[i],a=AI(t,i);return this.expandSegmentGroup(e,a,s,i).pipe(Re(u=>({segment:u,outlet:i})))}),Y1((i,s)=>(i[s.outlet]=s.segment,i),{}),X1())}expandSegment(e,t,r,o,i,s){return dr(r).pipe(Dl(a=>this.expandSegmentAgainstRoute(e,t,r,a,o,i,s).pipe(el(f=>{if(f instanceof vm)return _n(null);throw f}))),Ja(a=>!!a),el((a,u)=>{if(Rv(a))return OI(t,o,i)?_n(new Xn([],{})):Of(t);throw a}))}expandSegmentAgainstRoute(e,t,r,o,i,s,a){return FI(o,t,i,s)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,i,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s):Of(t):Of(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const i=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?LI(i):this.lineralizeSegments(r,i).pipe(yr(s=>{const a=new Xn(s,{});return this.expandSegment(e,a,t,s,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s){const{matched:a,consumedSegments:u,remainingSegments:f,positionalParamSegments:m}=Fv(t,o,i);if(!a)return Of(t);const _=this.applyRedirectCommands(u,o.redirectTo,m);return o.redirectTo.startsWith("/")?LI(_):this.lineralizeSegments(o,_).pipe(yr(k=>this.expandSegment(e,t,r,k.concat(f),s,!1)))}matchSegmentAgainstRoute(e,t,r,o,i){return"**"===r.path?(e=MI(r,e),r.loadChildren?(r._loadedRoutes?_n({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(Re(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new Xn(o,{})))):_n(new Xn(o,{}))):PI(t,r,o,e).pipe(di(({matched:s,consumedSegments:a,remainingSegments:u})=>s?this.getChildConfig(e=r._injector??e,r,o).pipe(yr(m=>{const _=m.injector??e,k=m.routes,{segmentGroup:M,slicedSegments:Q}=gm(t,a,u,k),Ae=new Xn(M.segments,M.children);if(0===Q.length&&Ae.hasChildren())return this.expandChildren(_,k,Ae).pipe(Re(Ne=>new Xn(a,Ne)));if(0===k.length&&0===Q.length)return _n(new Xn(a,{}));const Ze=Ns(r)===i;return this.expandSegment(_,Ae,k,Q,Ze?$n:i,!0).pipe(Re(bt=>new Xn(a.concat(bt.segments),bt.children)))})):Of(t)))}getChildConfig(e,t,r){return t.children?_n({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?_n({routes:t._loadedRoutes,injector:t._loadedInjector}):function Z4(n,e,t,r){const o=e.canLoad;return void 0===o||0===o.length?_n(!0):_n(o.map(s=>{const a=Nu(s,n);return Rl(function P4(n){return n&&Ff(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Lu(),RI())}(e,t,r).pipe(yr(o=>o?this.configLoader.loadChildren(e,t).pipe(fi(i=>{t._loadedRoutes=i.routes,t._loadedInjector=i.injector})):function eB(n){return Mu(DI(_m,3))}())):_n({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return _n(r);if(o.numberOfChildren>1||!o.children[$n])return Mu(new xe(4e3,_m));o=o.children[$n]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,o){const i=this.createSegmentGroup(e,t.root,r,o);return new bc(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return pi(e,(o,i)=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,o){const i=this.createSegments(e,t.segments,r,o);let s={};return pi(t.children,(a,u)=>{s[u]=this.createSegmentGroup(e,a,r,o)}),new Xn(i,s)}createSegments(e,t,r,o){return t.map(i=>i.path.startsWith(":")?this.findPosParam(e,i,o):this.findOrReturn(i,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new xe(4001,_m);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}class oB{}class aB{constructor(e,t,r,o,i,s,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=o,this.url=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a}recognize(){const e=gm(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,$n).pipe(Re(t=>{if(null===t)return null;const r=new fm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},$n,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new tl(r,t),i=new CI(this.url,o);return this.inheritParamsAndData(i._root),i}))}inheritParamsAndData(e){const t=e.value,r=wI(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,o)}processChildren(e,t,r){return dr(Object.keys(r.children)).pipe(Dl(o=>{const i=r.children[o],s=AI(t,o);return this.processSegmentGroup(e,s,i,o)}),Y1((o,i)=>o&&i?(o.push(...i),o):null),function k$(n,e=!1){return q((t,r)=>{let o=0;t.subscribe(_e(r,i=>{const s=n(i,o++);(s||e)&&r.next(i),!s&&r.complete()}))})}(o=>null!==o),nm(null),X1(),Re(o=>{if(null===o)return null;const i=BI(o);return function lB(n){n.sort((e,t)=>e.value.outlet===$n?-1:t.value.outlet===$n?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}))}processSegment(e,t,r,o,i){return dr(t).pipe(Dl(s=>this.processSegmentAgainstRoute(s._injector??e,s,r,o,i)),Ja(s=>!!s),el(s=>{if(Rv(s))return OI(r,o,i)?_n([]):_n(null);throw s}))}processSegmentAgainstRoute(e,t,r,o,i){if(t.redirectTo||!FI(t,r,o,i))return _n(null);let s;if("**"===t.path){const a=o.length>0?eI(o).parameters:{},u=UI(r)+o.length;s=_n({snapshot:new fm(o,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jI(t),Ns(t),t.component??t._loadedComponent??null,t,VI(r),u,HI(t)),consumedSegments:[],remainingSegments:[]})}else s=PI(r,t,o,e).pipe(Re(({matched:a,consumedSegments:u,remainingSegments:f,parameters:m})=>{if(!a)return null;const _=UI(r)+u.length;return{snapshot:new fm(u,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jI(t),Ns(t),t.component??t._loadedComponent??null,t,VI(r),_,HI(t)),consumedSegments:u,remainingSegments:f}}));return s.pipe(di(a=>{if(null===a)return _n(null);const{snapshot:u,consumedSegments:f,remainingSegments:m}=a;e=t._injector??e;const _=t._loadedInjector??e,k=function cB(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:M,slicedSegments:Q}=gm(r,f,m,k.filter(Ze=>void 0===Ze.redirectTo));if(0===Q.length&&M.hasChildren())return this.processChildren(_,k,M).pipe(Re(Ze=>null===Ze?null:[new tl(u,Ze)]));if(0===k.length&&0===Q.length)return _n([new tl(u,[])]);const Ae=Ns(t)===i;return this.processSegment(_,k,M,Q,Ae?$n:i).pipe(Re(Ze=>null===Ze?null:[new tl(u,Ze)]))}))}}function uB(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function BI(n){const e=[],t=new Set;for(const r of n){if(!uB(r)){e.push(r);continue}const o=e.find(i=>r.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=BI(r.children);e.push(new tl(r.value,o))}return e.filter(r=>!t.has(r))}function VI(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function UI(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function jI(n){return n.data||{}}function HI(n){return n.resolve||{}}function zI(n){return"string"==typeof n.title||null===n.title}function Ov(n){return di(e=>{const t=n(e);return t?dr(t).pipe(Re(()=>e)):_n(e)})}const $u=new rn("ROUTES");let Nv=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return _n(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Rl(t.loadComponent()).pipe(Re(WI),fi(i=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=i}),gv(()=>{this.componentLoaders.delete(t)})),o=new pv(r,()=>new tt).pipe(fv());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return _n({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const i=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Re(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,f,m=!1;Array.isArray(a)?f=a:(u=a.create(t).injector,f=J1(u.get($u,[],kt.Self|kt.Optional)));return{routes:f.map(xv),injector:u}}),gv(()=>{this.childrenLoaders.delete(r)})),s=new pv(i,()=>new tt).pipe(fv());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(t){return Rl(t()).pipe(Re(WI),yr(o=>o instanceof dS||Array.isArray(o)?_n(o):dr(this.compiler.compileModuleAsync(o))))}}return n.\u0275fac=function(t){return new(t||n)(ee(ao),ee(eE))},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function WI(n){return function vB(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let wm=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new tt,this.configLoader=bn(Nv),this.environmentInjector=bn(ca),this.urlSerializer=bn(xu),this.rootContexts=bn(Ec),this.navigationId=0,this.afterPreactivation=()=>_n(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new a4(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new s4(o))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Ds({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Mf,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ui(r=>0!==r.id),Re(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),di(r=>{let o=!1,i=!1;return _n(r).pipe(fi(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),di(s=>{const a=t.browserUrlTree.toString(),u=!t.navigated||s.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!u&&"reload"!==(s.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const m="";return this.events.next(new mI(s.id,t.serializeUrl(r.rawUrl),m,0)),t.rawUrlTree=s.rawUrl,s.resolve(null),Yr}if(t.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return ZI(s.source)&&(t.browserUrlTree=s.extractedUrl),_n(s).pipe(di(m=>{const _=this.transitions?.getValue();return this.events.next(new um(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),_!==this.transitions?.getValue()?Yr:Promise.resolve(m)}),function rB(n,e,t,r){return di(o=>function tB(n,e,t,r,o){return new nB(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe(Re(i=>({...o,urlAfterRedirects:i}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),fi(m=>{this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects},r.urlAfterRedirects=m.urlAfterRedirects}),function fB(n,e,t,r,o){return yr(i=>function sB(n,e,t,r,o,i,s="emptyOnly"){return new aB(n,e,t,r,o,s,i).recognize().pipe(di(a=>null===a?function iB(n){return new yt(e=>e.error(n))}(new oB):_n(a)))}(n,e,t,i.urlAfterRedirects,r.serialize(i.urlAfterRedirects),r,o).pipe(Re(s=>({...i,targetSnapshot:s}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),fi(m=>{if(r.targetSnapshot=m.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!m.extras.skipLocationChange){const k=t.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl);t.setBrowserUrl(k,m)}t.browserUrlTree=m.urlAfterRedirects}const _=new t4(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}));if(u&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:m,extractedUrl:_,source:k,restoredState:M,extras:Q}=s,Ae=new um(m,this.urlSerializer.serialize(_),k,M);this.events.next(Ae);const Ze=bI(_,this.rootComponentType).snapshot;return _n(r={...s,targetSnapshot:Ze,urlAfterRedirects:_,extras:{...Q,skipLocationChange:!1,replaceUrl:!1}})}{const m="";return this.events.next(new mI(s.id,t.serializeUrl(r.extractedUrl),m,1)),t.rawUrlTree=s.rawUrl,s.resolve(null),Yr}}),fi(s=>{const a=new n4(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Re(s=>r={...s,guards:T4(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function B4(n,e){return yr(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=t;return 0===s.length&&0===i.length?_n({...t,guardsResult:!0}):function V4(n,e,t,r){return dr(n).pipe(yr(o=>function W4(n,e,t,r,o){const i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return i&&0!==i.length?_n(i.map(a=>{const u=xf(e)??o,f=Nu(a,u);return Rl(function N4(n){return n&&Ff(n.canDeactivate)}(f)?f.canDeactivate(n,e,t,r):u.runInContext(()=>f(n,e,t,r))).pipe(Ja())})).pipe(Lu()):_n(!0)}(o.component,o.route,t,e,r)),Ja(o=>!0!==o,!0))}(s,r,o,n).pipe(yr(a=>a&&function R4(n){return"boolean"==typeof n}(a)?function U4(n,e,t,r){return dr(e).pipe(Dl(o=>Sf(function H4(n,e){return null!==n&&e&&e(new l4(n)),_n(!0)}(o.route.parent,r),function j4(n,e){return null!==n&&e&&e(new u4(n)),_n(!0)}(o.route,r),function G4(n,e,t){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(s=>function M4(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>tm(()=>_n(s.guards.map(u=>{const f=xf(s.node)??t,m=Nu(u,f);return Rl(function O4(n){return n&&Ff(n.canActivateChild)}(m)?m.canActivateChild(r,n):f.runInContext(()=>m(r,n))).pipe(Ja())})).pipe(Lu())));return _n(i).pipe(Lu())}(n,o.path,t),function z4(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return _n(!0);const o=r.map(i=>tm(()=>{const s=xf(e)??t,a=Nu(i,s);return Rl(function F4(n){return n&&Ff(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(Ja())}));return _n(o).pipe(Lu())}(n,o.route,t))),Ja(o=>!0!==o,!0))}(r,i,n,e):_n(a)),Re(a=>({...t,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),fi(s=>{if(r.guardsResult=s.guardsResult,Cc(s.guardsResult))throw EI(0,s.guardsResult);const a=new r4(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),ui(s=>!!s.guardsResult||(t.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),Ov(s=>{if(s.guards.canActivateChecks.length)return _n(s).pipe(fi(a=>{const u=new o4(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),di(a=>{let u=!1;return _n(a).pipe(function pB(n,e){return yr(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return _n(t);let i=0;return dr(o).pipe(Dl(s=>function hB(n,e,t,r){const o=n.routeConfig,i=n._resolve;return void 0!==o?.title&&!zI(o)&&(i[Ef]=o.title),function mB(n,e,t,r){const o=function gB(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return _n({});const i={};return dr(o).pipe(yr(s=>function yB(n,e,t,r){const o=xf(e)??r,i=Nu(n,o);return Rl(i.resolve?i.resolve(e,t):o.runInContext(()=>i(e,t)))}(n[s],e,t,r).pipe(Ja(),fi(a=>{i[s]=a}))),hv(1),mv(i),el(s=>Rv(s)?Yr:Mu(s)))}(i,n,e,r).pipe(Re(s=>(n._resolvedData=s,n.data=wI(n,t).resolve,o&&zI(o)&&(n.data[Ef]=o.title),null)))}(s.route,r,n,e)),fi(()=>i++),hv(1),yr(s=>i===o.length?_n(t):Yr))})}(t.paramsInheritanceStrategy,this.environmentInjector),fi({next:()=>u=!0,complete:()=>{u||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),fi(a=>{const u=new i4(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Ov(s=>{const a=u=>{const f=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(u.routeConfig).pipe(fi(m=>{u.component=m}),Re(()=>{})));for(const m of u.children)f.push(...a(m));return f};return W1(a(s.targetSnapshot.root)).pipe(nm(),Is(1))}),Ov(()=>this.afterPreactivation()),Re(s=>{const a=function y4(n,e,t){const r=Af(n,e._root,t?t._root:void 0);return new vI(r,e)}(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return r={...s,targetRouterState:a}}),fi(s=>{t.currentUrlTree=s.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),t.routerState=s.targetRouterState,"deferred"===t.urlUpdateStrategy&&(s.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,s),t.browserUrlTree=s.urlAfterRedirects)}),((n,e,t)=>Re(r=>(new k4(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s)),fi({next:s=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Sc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{o=!0}}),gv(()=>{o||i||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),el(s=>{if(i=!0,kI(s)){II(s)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new dm(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode);if(this.events.next(a),II(s)){const u=t.urlHandlingStrategy.merge(s.url,t.rawUrlTree),f={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||ZI(r.source)};t.scheduleNavigation(u,Mf,null,f,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new gI(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(s))}catch(u){r.reject(u)}}return Yr}))}))}cancelNavigationTransition(t,r,o){const i=new dm(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(i),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ZI(n){return n!==Mf}let qI=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===$n);return r}getResolvedTitleForRoute(t){return t.data[Ef]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:function(){return bn(bB)},providedIn:"root"}),n})(),bB=(()=>{class n extends qI{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(ee(bD))},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:function(){return bn(CB)},providedIn:"root"}),n})();class wB{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let CB=(()=>{class n extends wB{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ei(n)))(r||n)}}(),n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Cm=new rn("",{providedIn:"root",factory:()=>({})});let EB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:function(){return bn(DB)},providedIn:"root"}),n})(),DB=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function IB(n){throw n}function kB(n,e,t){return e.parse("/")}const TB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},MB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Fo=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=bn(A2),this.isNgZoneEnabled=!1,this.options=bn(Cm,{optional:!0})||{},this.errorHandler=this.options.errorHandler||IB,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||kB,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=bn(EB),this.routeReuseStrategy=bn(KI),this.urlCreationStrategy=bn(h4),this.titleStrategy=bn(qI),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=J1(bn($u,{optional:!0})??[]),this.navigationTransitions=bn(wm),this.urlSerializer=bn(xu),this.location=bn(uf),this.isNgZoneEnabled=bn(ut)instanceof ut&&ut.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new bc,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=bI(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Mf,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,o){const i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){const u={...o};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(i.state=u)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(xv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,f=u?this.currentUrlTree.fragment:s;let m=null;switch(a){case"merge":m={...this.currentUrlTree.queryParams,...i};break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=i||null}return null!==m&&(m=this.removeEmptyProps(m)),this.urlCreationStrategy.createUrlTree(o,this.routerState,this.currentUrlTree,t,m,f??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Cc(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,Mf,null,r)}navigate(t,r={skipLocationChange:!1}){return function AB(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new xe(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...TB}:!1===r?{...MB}:r,Cc(t))return nI(this.currentUrlTree,t,o);const i=this.parseUrl(t);return nI(this.currentUrlTree,i,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const i=t[o];return null!=i&&(r[o]=i),r},{})}scheduleNavigation(t,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,u,f,m;return s?(a=s.resolve,u=s.reject,f=s.promise):f=new Promise((_,k)=>{a=_,u=k}),m="computed"===this.canceledNavigationResolution?o&&o.\u0275routerPageId?o.\u0275routerPageId:i.replaceUrl||i.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:m,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:i,resolve:a,reject:u,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(_=>Promise.reject(_))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),i={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",i):this.location.go(o,"",i)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===o?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class XI{}let PB=(()=>{class n{preload(t,r){return r().pipe(el(()=>_n(null)))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),FB=(()=>{class n{constructor(t,r,o,i,s){this.router=t,this.injector=o,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(ui(t=>t instanceof Sc),Dl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const i of r){i.providers&&!i._injector&&(i._injector=ph(i.providers,t,`Route: ${i.path}`));const s=i._injector??t,a=i._loadedInjector??s;i.loadChildren&&!i._loadedRoutes&&void 0===i.canLoad||i.loadComponent&&!i._loadedComponent?o.push(this.preloadConfig(s,i)):(i.children||i._loadedRoutes)&&o.push(this.processRoutes(a,i.children??i._loadedRoutes))}return dr(o).pipe(Bo())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):_n(null);const i=o.pipe(yr(s=>null===s?_n(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?dr([i,this.loader.loadComponent(r)]).pipe(Bo()):i})}}return n.\u0275fac=function(t){return new(t||n)(ee(Fo),ee(eE),ee(ca),ee(XI),ee(Nv))},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Lv=new rn("");let QI=(()=>{class n{constructor(t,r,o,i,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof um?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Sc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof yI&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new yI(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function yw(){throw new Error("invalid")}()},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();function Dc(n,e){return{\u0275kind:n,\u0275providers:e}}function ek(){const n=bn(ao);return e=>{const t=n.get(wl);if(e!==t.components[0])return;const r=n.get(Fo),o=n.get(tk);1===n.get(Bv)&&r.initialNavigation(),n.get(nk,null,kt.Optional)?.setUpPreloading(),n.get(Lv,null,kt.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.unsubscribe())}}const tk=new rn("",{factory:()=>new tt}),Bv=new rn("",{providedIn:"root",factory:()=>1});const nk=new rn("");function BB(n){return Dc(0,[{provide:nk,useExisting:FB},{provide:XI,useExisting:n}])}const rk=new rn("ROUTER_FORROOT_GUARD"),VB=[uf,{provide:xu,useClass:yv},Fo,Ec,{provide:nl,useFactory:function JI(n){return n.routerState.root},deps:[Fo]},Nv,[]];function UB(){return new aE("Router",Fo)}let Sm=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[VB,[],{provide:$u,multi:!0,useValue:t},{provide:rk,useFactory:GB,deps:[[Fo,new xd,new Rd]]},{provide:Cm,useValue:r||{}},r?.useHash?{provide:_a,useClass:xE}:{provide:_a,useClass:AE},{provide:Lv,useFactory:()=>{const n=bn(PN),e=bn(ut),t=bn(Cm),r=bn(wm),o=bn(xu);return t.scrollOffset&&n.setOffset(t.scrollOffset),new QI(o,r,n,e,t)}},r?.preloadingStrategy?BB(r.preloadingStrategy).\u0275providers:[],{provide:aE,multi:!0,useFactory:UB},r?.initialNavigation?WB(r):[],[{provide:ok,useFactory:ek},{provide:JS,multi:!0,useExisting:ok}]]}}static forChild(t){return{ngModule:n,providers:[{provide:$u,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(ee(rk,8))},n.\u0275mod=V({type:n}),n.\u0275inj=_r({imports:[Mv]}),n})();function GB(n){return"guarded"}function WB(n){return["disabled"===n.initialNavigation?Dc(3,[{provide:pc,multi:!0,useFactory:()=>{const e=bn(Fo);return()=>{e.setUpLocationChangeListener()}}},{provide:Bv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Dc(2,[{provide:Bv,useValue:0},{provide:pc,multi:!0,deps:[ao],useFactory:e=>{const t=e.get(mO,Promise.resolve());return()=>t.then(()=>new Promise(o=>{const i=e.get(Fo),s=e.get(tk);(function r(o){e.get(Fo).events.pipe(ui(s=>s instanceof Sc||s instanceof dm||s instanceof gI),Re(s=>s instanceof Sc||s instanceof dm&&(0===s.code||1===s.code)&&null),ui(s=>null!==s),Is(1)).subscribe(()=>{o()})})(()=>{o(!0)}),e.get(wm).afterPreactivation=()=>(o(!0),s.closed?_n(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const ok=new rn("");x(5933),x(9078),x(4199),x(8759);var Vv=x(5823),Vu=x(9259),$f=x(919),Bf=(x(7351),x(7580)),ik=(x(2286),x(6379),x(1559));function ak(n,e=ne){return n=n??KB,q((t,r)=>{let o,i=!0;t.subscribe(_e(r,s=>{const a=e(s);(i||!n(o,a))&&(i=!1,o=a,r.next(s))}))})}function KB(n,e){return n===e}const XB=Vv.i,Nt=["*"],eV=["outlet"],tV=[[["","slot","top"]],"*"],nV=["[slot=top]","*"],lk=n=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(n):"function"==typeof requestAnimationFrame?requestAnimationFrame(n):setTimeout(n),ck=n=>!!n.resolveComponentFactory;let Vf=(()=>{class n{constructor(t,r){this.injector=t,this.el=r,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(t){this.el.nativeElement.value=this.lastValue=t??"",Uu(this.el)}handleChangeEvent(t,r){t===this.el.nativeElement&&(r!==this.lastValue&&(this.lastValue=r,this.onChange(r)),Uu(this.el))}_handleBlurEvent(t){t===this.el.nativeElement&&(this.onTouched(),Uu(this.el))}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.el.nativeElement.disabled=t}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let t;try{t=this.injector.get(Xa)}catch{}if(!t)return;t.statusChanges&&(this.statusChanges=t.statusChanges.subscribe(()=>Uu(this.el)));const r=t.control;r&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(i=>{if(typeof r[i]<"u"){const s=r[i].bind(r);r[i]=(...a)=>{s(...a),Uu(this.el)}}})}}return n.\u0275fac=function(t){return new(t||n)(C(ao),C(gt))},n.\u0275dir=ue({type:n,hostBindings:function(t,r){1&t&&lt("ionBlur",function(i){return r._handleBlurEvent(i.target)})}}),n})();const Uu=n=>{lk(()=>{const e=n.nativeElement,t=null!=e.value&&e.value.toString().length>0,r=iV(e);Uv(e,r);const o=e.closest("ion-item");o&&Uv(o,t?[...r,"item-has-value"]:r)})},iV=n=>{const e=n.classList,t=[];for(let r=0;r<e.length;r++){const o=e.item(r);null!==o&&sV(o,"ng-")&&t.push(`ion-${o.substring(3)}`)}return t},Uv=(n,e)=>{const t=n.classList;t.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),t.add(...e)},sV=(n,e)=>n.substring(0,e.length)===e;let ju=(()=>{class n extends Vf{constructor(t,r){super(t,r)}writeValue(t){this.el.nativeElement.checked=this.lastValue=t??!1,Uu(this.el)}_handleIonChange(t){this.handleChangeEvent(t,t.checked)}}return n.\u0275fac=function(t){return new(t||n)(C(ao),C(gt))},n.\u0275dir=ue({type:n,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(t,r){1&t&&lt("ionChange",function(i){return r._handleIonChange(i.target)})},features:[Dr([{provide:Bi,useExisting:n,multi:!0}]),pr]}),n})(),Uf=(()=>{class n extends Vf{constructor(t,r){super(t,r)}_handleChangeEvent(t){this.handleChangeEvent(t,t.value)}}return n.\u0275fac=function(t){return new(t||n)(C(ao),C(gt))},n.\u0275dir=ue({type:n,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(t,r){1&t&&lt("ionChange",function(i){return r._handleChangeEvent(i.target)})},features:[Dr([{provide:Bi,useExisting:n,multi:!0}]),pr]}),n})(),Pl=(()=>{class n extends Vf{constructor(t,r){super(t,r)}_handleInputEvent(t){this.handleChangeEvent(t,t.value)}}return n.\u0275fac=function(t){return new(t||n)(C(ao),C(gt))},n.\u0275dir=ue({type:n,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(t,r){1&t&&lt("ionChange",function(i){return r._handleInputEvent(i.target)})},features:[Dr([{provide:Bi,useExisting:n,multi:!0}]),pr]}),n})();const cV=(n,e)=>{const t=n.prototype;e.forEach(r=>{Object.defineProperty(t,r,{get(){return this.el[r]},set(o){this.z.runOutsideAngular(()=>this.el[r]=o)}})})},uV=(n,e)=>{const t=n.prototype;e.forEach(r=>{t[r]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,o))}})},vr=(n,e,t)=>{t.forEach(r=>n[r]=Cf(e,r))};function Ft(n){return function(t){const{defineCustomElementFn:r,inputs:o,methods:i}=n;return void 0!==r&&r(),o&&cV(t,o),i&&uV(t,i),t}}let uk=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ut))},n.\u0275cmp=d({type:n,selectors:[["ion-app"]],ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0})],n),n})(),dk=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ut))},n.\u0275cmp=d({type:n,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],n),n})(),os=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,vr(this,this.el,["ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ut))},n.\u0275cmp=d({type:n,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],n),n})(),is=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ut))},n.\u0275cmp=d({type:n,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["collapse"]})],n),n})(),fk=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,vr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ut))},n.\u0275cmp=d({type:n,selectors:[["ion-checkbox"]],inputs:{checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",mode:"mode",name:"name",value:"value"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["checked","color","disabled","indeterminate","mode","name","value"]})],n),n})(),ss=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,vr(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ut))},n.\u0275cmp=d({type:n,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],n),n})(),as=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ut))},n.\u0275cmp=d({type:n,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],n),n})(),oi=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ut))},n.\u0275cmp=d({type:n,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],n),n})(),Fl=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,vr(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ut))},n.\u0275cmp=d({type:n,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],n),n})(),ii=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ut))},n.\u0275cmp=d({type:n,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],n),n})(),Em=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ut))},n.\u0275cmp=d({type:n,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],n),n})(),Dm=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,vr(this,this.el,["ionSwipe"])}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ut))},n.\u0275cmp=d({type:n,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["side"]})],n),n})(),Im=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,vr(this,this.el,["ionDrag"])}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ut))},n.\u0275cmp=d({type:n,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],n),n})(),ls=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ut))},n.\u0275cmp=d({type:n,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],n),n})(),Sa=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ut))},n.\u0275cmp=d({type:n,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],n),n})(),pk=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,vr(this,this.el,["ionNavWillChange","ionNavDidChange"])}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ut))},n.\u0275cmp=d({type:n,selectors:[["ion-nav"]],inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],n),n})(),jv=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,vr(this,this.el,["ionChange","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ut))},n.\u0275cmp=d({type:n,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["activeBarStart","color","debounce","disabled","dualKnobs","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],n),n})(),km=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,vr(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ut))},n.\u0275cmp=d({type:n,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],n),n})(),Tm=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ut))},n.\u0275cmp=d({type:n,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["disabled","value"]})],n),n})(),jf=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ut))},n.\u0275cmp=d({type:n,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["color","duration","name","paused"]})],n),n})(),Hv=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ut))},n.\u0275cmp=d({type:n,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["color","mode","selectedTab","translucent"]})],n),n})(),hk=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ut))},n.\u0275cmp=d({type:n,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],n),n})(),cs=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ut))},n.\u0275cmp=d({type:n,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["color","size"]})],n),n})(),Hf=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,vr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ut))},n.\u0275cmp=d({type:n,selectors:[["ion-toggle"]],inputs:{checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",mode:"mode",name:"name",value:"value"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["checked","color","disabled","enableOnOffLabels","mode","name","value"]})],n),n})(),us=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(gt),C(ut))},n.\u0275cmp=d({type:n,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2,changeDetection:0}),n=Z([Ft({defineCustomElementFn:void 0,inputs:["color","mode"]})],n),n})();class mk{constructor(e={}){this.data=e}get(e){return this.data[e]}}let Mm=(()=>{class n{constructor(t,r){this.zone=t,this.appRef=r}create(t,r,o,i){return new lU(t,r,o,this.appRef,this.zone,i)}}return n.\u0275fac=function(t){return new(t||n)(ee(ut),ee(wl))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();class lU{constructor(e,t,r,o,i,s){this.resolverOrInjector=e,this.injector=t,this.location=r,this.appRef=o,this.zone=i,this.elementReferenceKey=s,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(e,t,r,o){return this.zone.run(()=>new Promise(i=>{const s=Object.assign({},r);void 0!==this.elementReferenceKey&&(s[this.elementReferenceKey]=e),i(cU(this.zone,this.resolverOrInjector,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,e,t,s,o))}))}removeViewFromDom(e,t){return this.zone.run(()=>new Promise(r=>{const o=this.elRefMap.get(t);if(o){o.destroy(),this.elRefMap.delete(t);const i=this.elEventsMap.get(t);i&&(i(),this.elEventsMap.delete(t))}r()}))}}const cU=(n,e,t,r,o,i,s,a,u,f,m)=>{let _;const k=ao.create({providers:dU(f),parent:t});if(e&&ck(e)){const Ze=e.resolveComponentFactory(u);_=r?r.createComponent(Ze,r.length,k):Ze.create(k)}else{if(!r)return null;_=r.createComponent(u,{index:r.indexOf,injector:k,environmentInjector:e})}const M=_.instance,Q=_.location.nativeElement;if(f&&Object.assign(M,f),m)for(const Ze of m)Q.classList.add(Ze);const Ae=gk(n,M,Q);return a.appendChild(Q),r||o.attachView(_.hostView),_.changeDetectorRef.reattach(),i.set(Q,_),s.set(Q,Ae),Q},uU=[$f.L,$f.a,$f.b,$f.c,$f.d],gk=(n,e,t)=>n.run(()=>{const r=uU.filter(o=>"function"==typeof e[o]).map(o=>{const i=s=>e[o](s.detail);return t.addEventListener(o,i),()=>t.removeEventListener(o,i)});return()=>r.forEach(o=>o())}),yk=new rn("NavParamsToken"),dU=n=>[{provide:yk,useValue:n},{provide:mk,useFactory:fU,deps:[yk]}],fU=n=>new mk(n),_k=(n,e)=>((n=n.filter(t=>t.stackId!==e.stackId)).push(e),n),zv=(n,e)=>{const t=n.createUrlTree(["."],{relativeTo:e});return n.serializeUrl(t)},yU=(n,e)=>{if(!n)return;const t=vk(e);for(let r=0;r<t.length;r++){if(r>=n.length)return t[r];if(t[r]!==n[r])return}},vk=n=>n.split("/").map(e=>e.trim()).filter(e=>""!==e),bk=n=>{n&&(n.ref.destroy(),n.unlistenEvents())};class _U{constructor(e,t,r,o,i,s){this.containerEl=t,this.router=r,this.navCtrl=o,this.zone=i,this.location=s,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==e?vk(e):void 0}createView(e,t){var r;const o=zv(this.router,t),i=null===(r=e?.location)||void 0===r?void 0:r.nativeElement,s=gk(this.zone,e.instance,i);return{id:this.nextId++,stackId:yU(this.tabsPrefix,o),unlistenEvents:s,element:i,ref:e,url:o}}getExistingView(e){const t=zv(this.router,e),r=this.views.find(o=>o.url===t);return r&&r.ref.changeDetectorRef.reattach(),r}setActive(e){var t,r;const o=this.navCtrl.consumeTransition();let{direction:i,animation:s,animationBuilder:a}=o;const u=this.activeView,f=((n,e)=>!e||n.stackId!==e.stackId)(e,u);f&&(i="back",s=void 0);const m=this.views.slice();let _;const k=this.router;k.getCurrentNavigation?_=k.getCurrentNavigation():!(null===(t=k.navigations)||void 0===t)&&t.value&&(_=k.navigations.value),null!==(r=_?.extras)&&void 0!==r&&r.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const M=this.views.includes(e),Q=this.insertView(e,i);M||e.ref.changeDetectorRef.detectChanges();const Ae=e.animationBuilder;return void 0===a&&"back"===i&&!f&&void 0!==Ae&&(a=Ae),u&&(u.animationBuilder=a),this.zone.runOutsideAngular(()=>this.wait(()=>(u&&u.ref.changeDetectorRef.detach(),e.ref.changeDetectorRef.reattach(),this.transition(e,u,s,this.canGoBack(1),!1,a).then(()=>vU(e,Q,m,this.location,this.zone)).then(()=>({enteringView:e,direction:i,animation:s,tabSwitch:f})))))}canGoBack(e,t=this.getActiveStackId()){return this.getStack(t).length>e}pop(e,t=this.getActiveStackId()){return this.zone.run(()=>{var r,o;const i=this.getStack(t);if(i.length<=e)return Promise.resolve(!1);const s=i[i.length-e-1];let a=s.url;const u=s.savedData;if(u){const m=u.get("primary");null!==(o=null===(r=m?.route)||void 0===r?void 0:r._routerState)&&void 0!==o&&o.snapshot.url&&(a=m.route._routerState.snapshot.url)}const{animationBuilder:f}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(a,Object.assign(Object.assign({},s.savedExtras),{animation:f})).then(()=>!0)})}startBackTransition(){const e=this.activeView;if(e){const t=this.getStack(e.stackId),r=t[t.length-2],o=r.animationBuilder;return this.wait(()=>this.transition(r,e,"back",this.canGoBack(2),!0,o))}return Promise.resolve()}endBackTransition(e){e?(this.skipTransition=!0,this.pop(1)):this.activeView&&wk(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(e){const t=this.getStack(e);return t.length>0?t[t.length-1]:void 0}getRootUrl(e){const t=this.getStack(e);return t.length>0?t[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(bk),this.activeView=void 0,this.views=[]}getStack(e){return this.views.filter(t=>t.stackId===e)}insertView(e,t){return this.activeView=e,this.views=((n,e,t)=>"root"===t?_k(n,e):"forward"===t?((n,e)=>(n.indexOf(e)>=0?n=n.filter(r=>r.stackId!==e.stackId||r.id<=e.id):n.push(e),n))(n,e):((n,e)=>n.indexOf(e)>=0?n.filter(r=>r.stackId!==e.stackId||r.id<=e.id):_k(n,e))(n,e))(this.views,e,t),this.views.slice()}transition(e,t,r,o,i,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(t===e)return Promise.resolve(!1);const a=e?e.element:void 0,u=t?t.element:void 0,f=this.containerEl;return a&&a!==u&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),a.parentElement!==f&&f.appendChild(a),f.commit)?f.commit(a,u,{deepWait:!0,duration:void 0===r?0:void 0,direction:r,showGoBack:o,progressAnimation:i,animationBuilder:s}):Promise.resolve(!1)}wait(e){return Fn(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const t=this.runningTask=e();return t.finally(()=>this.runningTask=void 0),t})}}const vU=(n,e,t,r,o)=>"function"==typeof requestAnimationFrame?new Promise(i=>{requestAnimationFrame(()=>{wk(n,e,t,r,o),i()})}):Promise.resolve(),wk=(n,e,t,r,o)=>{o.run(()=>t.filter(i=>!e.includes(i)).forEach(bk)),e.forEach(i=>{const a=r.path().split("?")[0].split("#")[0];if(i!==n&&i.url!==a){const u=i.element;u.setAttribute("aria-hidden","true"),u.classList.add("ion-page-hidden"),i.ref.changeDetectorRef.detach()}})};let Gv=(()=>{class n{get(t,r){const o=Wv();return o?o.get(t,r):null}getBoolean(t,r){const o=Wv();return!!o&&o.getBoolean(t,r)}getNumber(t,r){const o=Wv();return o?o.getNumber(t,r):0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ck=new rn("USERCONFIG"),Wv=()=>{if(typeof window<"u"){const n=window.Ionic;if(n?.config)return n.config}return null};let bU=(()=>{class n{constructor(t,r){this.doc=t,this.backButton=new tt,this.keyboardDidShow=new tt,this.keyboardDidHide=new tt,this.pause=new tt,this.resume=new tt,this.resize=new tt,r.run(()=>{var o;let i;this.win=t.defaultView,this.backButton.subscribeWithPriority=function(s,a){return this.subscribe(u=>u.register(s,f=>r.run(()=>a(f))))},Hu(this.pause,t,"pause"),Hu(this.resume,t,"resume"),Hu(this.backButton,t,"ionBackButton"),Hu(this.resize,this.win,"resize"),Hu(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Hu(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(s=>{i=s}),null!==(o=this.win)&&void 0!==o&&o.cordova?t.addEventListener("deviceready",()=>{i("cordova")},{once:!0}):i("dom")})}is(t){return(0,Vv.a)(this.win,t)}platforms(){return(0,Vv.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(t){return wU(this.win.location.href,t)}isLandscape(){return!this.isPortrait()}isPortrait(){var t,r;return null===(r=(t=this.win).matchMedia)||void 0===r?void 0:r.call(t,"(orientation: portrait)").matches}testUserAgent(t){const r=this.win.navigator;return!!(r?.userAgent&&r.userAgent.indexOf(t)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return n.\u0275fac=function(t){return new(t||n)(ee(Go),ee(ut))},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wU=(n,e)=>{e=e.replace(/[[\]\\]/g,"\\$&");const r=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(n);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null},Hu=(n,e,t)=>{e&&e.addEventListener(t,r=>{n.next(r?.detail)})};let zf=(()=>{class n{constructor(t,r,o,i){this.location=r,this.serializer=o,this.router=i,this.direction=Sk,this.animated=Ek,this.guessDirection="forward",this.lastNavId=-1,i&&i.events.subscribe(s=>{if(s instanceof um){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=a<this.lastNavId?"back":"forward",this.guessAnimation=s.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?s.id:a}}),t.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(t,r={}){return this.setDirection("forward",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}navigateBack(t,r={}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}navigateRoot(t,r={}){return this.setDirection("root",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}back(t={animated:!0,animationDirection:"back"}){return this.setDirection("back",t.animated,t.animationDirection,t.animation),this.location.back()}pop(){return Fn(this,void 0,void 0,function*(){let t=this.topOutlet;for(;t&&!(yield t.pop());)t=t.parentOutlet})}setDirection(t,r,o,i){this.direction=t,this.animated=CU(t,r,o),this.animationBuilder=i}setTopOutlet(t){this.topOutlet=t}consumeTransition(){let r,t="root";const o=this.animationBuilder;return"auto"===this.direction?(t=this.guessDirection,r=this.guessAnimation):(r=this.animated,t=this.direction),this.direction=Sk,this.animated=Ek,this.animationBuilder=void 0,{direction:t,animation:r,animationBuilder:o}}navigate(t,r){if(Array.isArray(t))return this.router.navigate(t,r);{const o=this.serializer.parse(t.toString());return void 0!==r.queryParams&&(o.queryParams=Object.assign({},r.queryParams)),void 0!==r.fragment&&(o.fragment=r.fragment),this.router.navigateByUrl(o,r)}}}return n.\u0275fac=function(t){return new(t||n)(ee(bU),ee(uf),ee(xu),ee(Fo,8))},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const CU=(n,e,t)=>{if(!1!==e){if(void 0!==t)return t;if("forward"===n||"back"===n)return n;if("root"===n&&!0===e)return"forward"}},Sk="auto",Ek=void 0;let Gf=(()=>{class n{constructor(t,r,o,i,s,a,u,f,m,_,k,M,Q){this.parentContexts=t,this.location=r,this.config=s,this.navCtrl=a,this.componentFactoryResolver=u,this.parentOutlet=Q,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new Ds(null),this.stackEvents=new Tn,this.activateEvents=new Tn,this.deactivateEvents=new Tn,this.nativeEl=m.nativeElement,this.name=o||$n,this.tabsPrefix="true"===i?zv(_,M):void 0,this.stackCtrl=new _U(this.tabsPrefix,this.nativeEl,_,a,k,f),t.onChildOutletCreated(this.name,this)}set animation(t){this.nativeEl.animation=t}set animated(t){this.nativeEl.animated=t}set swipeGesture(t){this._swipeGesture=t,this.nativeEl.swipeHandler=t?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:r=>this.stackCtrl.endBackTransition(r)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const t=this.getContext();t?.route&&this.activateWith(t.route,t.resolver||null)}new Promise(t=>(0,Vu.c)(this.nativeEl,t)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(t,r){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const r=this.getContext();this.activatedView.savedData=new Map(r.children.contexts);const o=this.activatedView.savedData.get("primary");if(o&&r.route&&(o.route=Object.assign({},r.route)),this.activatedView.savedExtras={},r.route){const i=r.route.snapshot;this.activatedView.savedExtras.queryParams=i.queryParams,this.activatedView.savedExtras.fragment=i.fragment}}const t=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){var o;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;let i,s=this.stackCtrl.getExistingView(t);if(s){i=this.activated=s.ref;const a=s.savedData;a&&(this.getContext().children.contexts=a),this.updateActivatedRouteProxy(i.instance,t)}else{const a=t._futureSnapshot;if(null==a.routeConfig.component&&null==this.environmentInjector)return void console.warn('[Ionic Warning]: You must supply an environmentInjector to use standalone components with routing:\n\nIn your component class, add:\n\n   import { EnvironmentInjector } from \'@angular/core\';\n   constructor(public environmentInjector: EnvironmentInjector) {}\n\nIn your router outlet template, add:\n\n   <ion-router-outlet [environmentInjector]="environmentInjector"></ion-router-outlet>\n\nAlternatively, if you are routing within ion-tabs:\n\n   <ion-tabs [environmentInjector]="environmentInjector"></ion-tabs>');const u=this.parentContexts.getOrCreateContext(this.name).children,f=new Ds(null),m=this.createActivatedRouteProxy(f,t),_=new SU(m,u,this.location.injector),k=null!==(o=a.routeConfig.component)&&void 0!==o?o:a.component;if((r=r||this.componentFactoryResolver)&&ck(r)){const M=r.resolveComponentFactory(k);i=this.activated=this.location.createComponent(M,this.location.length,_)}else i=this.activated=this.location.createComponent(k,{index:this.location.length,injector:_,environmentInjector:r??this.environmentInjector});f.next(i.instance),s=this.stackCtrl.createView(this.activated,t),this.proxyMap.set(i.instance,m),this.currentActivatedRoute$.next({component:i.instance,activatedRoute:t})}this.activatedView=s,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(s).then(a=>{this.activateEvents.emit(i.instance),this.stackEvents.emit(a)})}canGoBack(t=1,r){return this.stackCtrl.canGoBack(t,r)}pop(t=1,r){return this.stackCtrl.pop(t,r)}getLastUrl(t){const r=this.stackCtrl.getLastUrl(t);return r?r.url:void 0}getLastRouteView(t){return this.stackCtrl.getLastUrl(t)}getRootView(t){return this.stackCtrl.getRootUrl(t)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(t,r){const o=new nl;return o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,o._paramMap=this.proxyObservable(t,"paramMap"),o._queryParamMap=this.proxyObservable(t,"queryParamMap"),o.url=this.proxyObservable(t,"url"),o.params=this.proxyObservable(t,"params"),o.queryParams=this.proxyObservable(t,"queryParams"),o.fragment=this.proxyObservable(t,"fragment"),o.data=this.proxyObservable(t,"data"),o}proxyObservable(t,r){return t.pipe(ui(o=>!!o),di(o=>this.currentActivatedRoute$.pipe(ui(i=>null!==i&&i.component===o),di(i=>i&&i.activatedRoute[r]),ak())))}updateActivatedRouteProxy(t,r){const o=this.proxyMap.get(t);if(!o)throw new Error("Could not find activated route proxy for view");o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,this.currentActivatedRoute$.next({component:t,activatedRoute:r})}}return n.\u0275fac=function(t){return new(t||n)(C(Ec),C(Mi),Zc("name"),Zc("tabs"),C(Gv),C(zf),C(Ua,8),C(uf),C(gt),C(Fo),C(ut),C(nl),C(n,12))},n.\u0275dir=ue({type:n,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",environmentInjector:"environmentInjector"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class SU{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===nl?this.route:e===Ec?this.childContexts:this.parent.get(e,t)}}let Dk=(()=>{class n{constructor(t){this.navCtrl=t,this.ionTabsWillChange=new Tn,this.ionTabsDidChange=new Tn}onPageSelected(t){const r=t.enteringView.stackId;t.tabSwitch&&void 0!==r&&(this.ionTabsWillChange.emit({tab:r}),this.tabBar&&(this.tabBar.selectedTab=r),this.ionTabsDidChange.emit({tab:r}))}select(t){const r="string"==typeof t,o=r?t:t.detail.tab,i=this.outlet.getActiveStackId()===o,s=`${this.outlet.tabsPrefix}/${o}`;if(r||t.stopPropagation(),i){const a=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(a)?.url===s)return;const f=this.outlet.getRootView(o);return this.navCtrl.navigateRoot(s,Object.assign(Object.assign({},f&&s===f.url&&f.savedExtras),{animated:!0,animationDirection:"back"}))}{const a=this.outlet.getLastRouteView(o),f=a?.savedExtras;return this.navCtrl.navigateRoot(a?.url||s,Object.assign(Object.assign({},f),{animated:!0,animationDirection:"back"}))}}getSelected(){return this.outlet.getActiveStackId()}}return n.\u0275fac=function(t){return new(t||n)(C(zf))},n.\u0275cmp=d({type:n,selectors:[["ion-tabs"]],contentQueries:function(t,r,o){if(1&t&&function vl(n,e,t,r){const o=Cn();if(o.firstCreatePass){const i=Ut();xS(o,new TS(e,t,r),i.index),function c2(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(o,n),2==(2&t)&&(o.staticContentQueries=!0)}AS(o,st(),t)}(o,Hv,5),2&t){let i;Cs(i=Ss())&&(r.tabBar=i.first)}},viewQuery:function(t,r){if(1&t&&bu(eV,5,Gf),2&t){let o;Cs(o=Ss())&&(r.outlet=o.first)}},hostBindings:function(t,r){1&t&&lt("ionTabButtonClick",function(i){return r.select(i)})},inputs:{environmentInjector:"environmentInjector"},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:nV,decls:5,vars:1,consts:[[1,"tabs-inner"],["tabs","true",3,"environmentInjector","stackEvents"],["outlet",""]],template:function(t,r){1&t&&(Pt(tV),At(0),se(1,"div",0)(2,"ion-router-outlet",1,2),lt("stackEvents",function(i){return r.onPageSelected(i)}),te()(),At(4,1)),2&t&&(et(2),ot("environmentInjector",r.environmentInjector))},dependencies:[Gf],styles:["[_nghost-%COMP%] {\n        display: flex;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n\n        flex-direction: column;\n\n        width: 100%;\n        height: 100%;\n\n        contain: layout size style;\n        z-index: $z-index-page-container;\n      }\n      .tabs-inner[_ngcontent-%COMP%] {\n        position: relative;\n\n        flex: 1;\n\n        contain: layout size style;\n      }"]}),n})(),Ik=(()=>{class n{constructor(t,r,o){this.routerOutlet=t,this.navCtrl=r,this.config=o}onClick(t){var r;const o=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(r=this.routerOutlet)&&void 0!==r&&r.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),t.preventDefault()):null!=o&&(this.navCtrl.navigateBack(o,{animation:this.routerAnimation}),t.preventDefault())}}return n.\u0275fac=function(t){return new(t||n)(C(Gf,8),C(zf),C(Gv))},n.\u0275dir=ue({type:n,selectors:[["ion-back-button"]],hostBindings:function(t,r){1&t&&lt("click",function(i){return r.onClick(i)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),n})(),kk=(()=>{let n=class{constructor(t,r,o,i,s){this.el=t.nativeElement,t.nativeElement.delegate=i.create(r,o,s),vr(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return n.\u0275fac=function(t){return new(t||n)(C(gt),C(Ua),C(ao),C(Mm),C(Mi))},n.\u0275dir=ue({type:n,selectors:[["ion-nav"]]}),n=Z([Ft({inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],n),n})();class Wf{constructor(e){this.ctrl=e}create(e){return this.ctrl.create(e||{})}dismiss(e,t,r){return this.ctrl.dismiss(e,t,r)}getTop(){return this.ctrl.getTop()}}let Zf=(()=>{class n extends Wf{constructor(){super(Bf.b)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zu=(()=>{class n extends Wf{constructor(){super(Bf.a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ol=(()=>{class n extends Wf{constructor(){super(Bf.l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class xk{}let ks=(()=>{class n extends Wf{constructor(t,r,o,i){super(Bf.m),this.angularDelegate=t,this.resolver=r,this.injector=o,this.environmentInjector=i}create(t){var r;return super.create(Object.assign(Object.assign({},t),{delegate:this.angularDelegate.create(null!==(r=this.resolver)&&void 0!==r?r:this.environmentInjector,this.injector,void 0,"modal")}))}}return n.\u0275fac=function(t){return new(t||n)(ee(Mm),ee(Ua),ee(ao),ee(xk,8))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})(),Ic=(()=>{class n extends Wf{constructor(t,r,o,i){super(Bf.c),this.angularDelegate=t,this.resolver=r,this.injector=o,this.environmentInjector=i}create(t){var r;return super.create(Object.assign(Object.assign({},t),{delegate:this.angularDelegate.create(null!==(r=this.resolver)&&void 0!==r?r:this.environmentInjector,this.injector,void 0,"popover")}))}}return n.\u0275fac=function(t){return new(t||n)(ee(Mm),ee(Ua),ee(ao),ee(xk,8))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();const xU=(n,e,t)=>()=>{if(e.defaultView&&typeof window<"u"){(n=>{const e=window,t=e.Ionic;t&&t.config&&"Object"!==t.config.constructor.name||(e.Ionic=e.Ionic||{},e.Ionic.config=Object.assign(Object.assign({},e.Ionic.config),n))})(Object.assign(Object.assign({},n),{_zoneGate:i=>t.run(i)}));const o="__zone_symbol__addEventListener"in e.body?"__zone_symbol__addEventListener":"addEventListener";return function YB(){var n=[];if(typeof window<"u"){var e=window;(!e.customElements||e.Element&&(!e.Element.prototype.closest||!e.Element.prototype.matches||!e.Element.prototype.remove||!e.Element.prototype.getRootNode))&&n.push(x.e(6748).then(x.t.bind(x,3314,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||e.NodeList&&!e.NodeList.prototype.forEach||!e.fetch||!function(){try{var r=new URL("b","http://a");return r.pathname="c%20d","http://a/c%20d"===r.href&&r.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&n.push(x.e(2214).then(x.t.bind(x,7320,23)))}return Promise.all(n)}().then(()=>((n,e)=>typeof window>"u"?Promise.resolve():(0,ik.p)().then(()=>(XB(),(0,ik.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"activated":[32]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),e))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:lk,jmp:i=>t.runOutsideAngular(i),ael(i,s,a,u){i[o](s,a,u)},rel(i,s,a,u){i.removeEventListener(s,a,u)}}))}};let Nl=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:Ck,useValue:t},{provide:pc,useFactory:xU,multi:!0,deps:[Ck,Go,ut]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=V({type:n}),n.\u0275inj=_r({providers:[Mm,ks,Ic],imports:[[va]]}),n})();let Gu={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const Pk=/[&<>"']/,PU=new RegExp(Pk.source,"g"),Fk=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,FU=new RegExp(Fk.source,"g"),OU={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ok=n=>OU[n];function hi(n,e){if(e){if(Pk.test(n))return n.replace(PU,Ok)}else if(Fk.test(n))return n.replace(FU,Ok);return n}const NU=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function Nk(n){return n.replace(NU,(e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")}const LU=/(^|[^\[])\^/g;function $r(n,e){n="string"==typeof n?n:n.source,e=e||"";const t={replace:(r,o)=>(o=(o=o.source||o).replace(LU,"$1"),n=n.replace(r,o),t),getRegex:()=>new RegExp(n,e)};return t}const $U=/[^\w:]/g,BU=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Lk(n,e,t){if(n){let r;try{r=decodeURIComponent(Nk(t)).replace($U,"").toLowerCase()}catch{return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}e&&!BU.test(t)&&(t=function HU(n,e){Am[" "+n]||(Am[" "+n]=VU.test(n)?n+"/":Rm(n,"/",!0));const t=-1===(n=Am[" "+n]).indexOf(":");return"//"===e.substring(0,2)?t?e:n.replace(UU,"$1")+e:"/"===e.charAt(0)?t?e:n.replace(jU,"$1")+e:n+e}(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const Am={},VU=/^[^:]+:\/*[^/]*$/,UU=/^([^:]+:)[\s\S]*$/,jU=/^([^:]+:\/*[^/]*)[\s\S]*$/,xm={exec:function(){}};function Ys(n){let t,r,e=1;for(;e<arguments.length;e++)for(r in t=arguments[e],t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function $k(n,e){const r=n.replace(/\|/g,(i,s,a)=>{let u=!1,f=s;for(;--f>=0&&"\\"===a[f];)u=!u;return u?"|":" |"}).split(/ \|/);let o=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;o<r.length;o++)r[o]=r[o].trim().replace(/\\\|/g,"|");return r}function Rm(n,e,t){const r=n.length;if(0===r)return"";let o=0;for(;o<r;){const i=n.charAt(r-o-1);if(i!==e||t){if(i===e||!t)break;o++}else o++}return n.slice(0,r-o)}function Bk(n){n&&n.sanitize&&!n.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Vk(n,e){if(e<1)return"";let t="";for(;e>1;)1&e&&(t+=n),e>>=1,n+=n;return t+n}function Uk(n,e,t,r){const o=e.href,i=e.title?hi(e.title):null,s=n[1].replace(/\\([\[\]])/g,"$1");if("!"!==n[0].charAt(0)){r.state.inLink=!0;const a={type:"link",raw:t,href:o,title:i,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,a}return{type:"image",raw:t,href:o,title:i,text:hi(s)}}class Zv{constructor(e){this.options=e||Gu}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const r=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Rm(r,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const r=t[0],o=function GU(n,e){const t=n.match(/^(\s+)(?:```)/);if(null===t)return e;const r=t[1];return e.split("\n").map(o=>{const i=o.match(/^\s+/);if(null===i)return o;const[s]=i;return s.length>=r.length?o.slice(r.length):o}).join("\n")}(r,t[3]||"");return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:o}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(/#$/.test(r)){const o=Rm(r,"#");(this.options.pedantic||!o||/ $/.test(o))&&(r=o.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const r=t[0].replace(/^ *>[ \t]?/gm,""),o=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(r);return this.lexer.state.top=o,{type:"blockquote",raw:t[0],tokens:i,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r,o,i,s,a,u,f,m,_,k,M,Q,Ae=t[1].trim();const Ze=Ae.length>1,Ke={type:"list",raw:"",ordered:Ze,start:Ze?+Ae.slice(0,-1):"",loose:!1,items:[]};Ae=Ze?`\\d{1,9}\\${Ae.slice(-1)}`:`\\${Ae}`,this.options.pedantic&&(Ae=Ze?Ae:"[*+-]");const bt=new RegExp(`^( {0,3}${Ae})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;e&&(Q=!1,(t=bt.exec(e))&&!this.rules.block.hr.test(e));){if(r=t[0],e=e.substring(r.length),m=t[2].split("\n",1)[0].replace(/^\t+/,Ot=>" ".repeat(3*Ot.length)),_=e.split("\n",1)[0],this.options.pedantic?(s=2,M=m.trimLeft()):(s=t[2].search(/[^ ]/),s=s>4?1:s,M=m.slice(s),s+=t[1].length),u=!1,!m&&/^ *$/.test(_)&&(r+=_+"\n",e=e.substring(_.length+1),Q=!0),!Q){const Ot=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),En=new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Zn=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),fs=new RegExp(`^ {0,${Math.min(3,s-1)}}#`);for(;e&&(k=e.split("\n",1)[0],_=k,this.options.pedantic&&(_=_.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Zn.test(_)||fs.test(_)||Ot.test(_)||En.test(e)));){if(_.search(/[^ ]/)>=s||!_.trim())M+="\n"+_.slice(s);else{if(u||m.search(/[^ ]/)>=4||Zn.test(m)||fs.test(m)||En.test(m))break;M+="\n"+_}!u&&!_.trim()&&(u=!0),r+=k+"\n",e=e.substring(k.length+1),m=_.slice(s)}}Ke.loose||(f?Ke.loose=!0:/\n *\n *$/.test(r)&&(f=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(M),o&&(i="[ ] "!==o[0],M=M.replace(/^\[[ xX]\] +/,""))),Ke.items.push({type:"list_item",raw:r,task:!!o,checked:i,loose:!1,text:M}),Ke.raw+=r}Ke.items[Ke.items.length-1].raw=r.trimRight(),Ke.items[Ke.items.length-1].text=M.trimRight(),Ke.raw=Ke.raw.trimRight();const Ne=Ke.items.length;for(a=0;a<Ne;a++)if(this.lexer.state.top=!1,Ke.items[a].tokens=this.lexer.blockTokens(Ke.items[a].text,[]),!Ke.loose){const Ot=Ke.items[a].tokens.filter(Zn=>"space"===Zn.type),En=Ot.length>0&&Ot.some(Zn=>/\n.*\n/.test(Zn.raw));Ke.loose=En}if(Ke.loose)for(a=0;a<Ne;a++)Ke.items[a].loose=!0;return Ke}}html(e){const t=this.rules.block.html.exec(e);if(t){const r={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){const o=this.options.sanitizer?this.options.sanitizer(t[0]):hi(t[0]);r.type="paragraph",r.text=o,r.tokens=this.lexer.inline(o)}return r}}def(e){const t=this.rules.block.def.exec(e);if(t){const r=t[1].toLowerCase().replace(/\s+/g," "),o=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:o,title:i}}}table(e){const t=this.rules.block.table.exec(e);if(t){const r={type:"table",header:$k(t[1]).map(o=>({text:o})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(r.header.length===r.align.length){r.raw=t[0];let i,s,a,u,o=r.align.length;for(i=0;i<o;i++)r.align[i]=/^ *-+: *$/.test(r.align[i])?"right":/^ *:-+: *$/.test(r.align[i])?"center":/^ *:-+ *$/.test(r.align[i])?"left":null;for(o=r.rows.length,i=0;i<o;i++)r.rows[i]=$k(r.rows[i],r.header.length).map(f=>({text:f}));for(o=r.header.length,s=0;s<o;s++)r.header[s].tokens=this.lexer.inline(r.header[s].text);for(o=r.rows.length,s=0;s<o;s++)for(u=r.rows[s],a=0;a<u.length;a++)u[a].tokens=this.lexer.inline(u[a].text);return r}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const r="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:hi(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):hi(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const r=t[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const s=Rm(r.slice(0,-1),"\\");if((r.length-s.length)%2==0)return}else{const s=function zU(n,e){if(-1===n.indexOf(e[1]))return-1;const t=n.length;let r=0,o=0;for(;o<t;o++)if("\\"===n[o])o++;else if(n[o]===e[0])r++;else if(n[o]===e[1]&&(r--,r<0))return o;return-1}(t[2],"()");if(s>-1){const u=(0===t[0].indexOf("!")?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,u).trim(),t[3]=""}}let o=t[2],i="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);s&&(o=s[1],i=s[3])}else i=t[3]?t[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(r)?o.slice(1):o.slice(1,-1)),Uk(t,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let o=(r[2]||r[1]).replace(/\s+/g," ");if(o=t[o.toLowerCase()],!o){const i=r[0].charAt(0);return{type:"text",raw:i,text:i}}return Uk(r,o,r[0],this.lexer)}}emStrong(e,t,r=""){let o=this.rules.inline.emStrong.lDelim.exec(e);if(!o||o[3]&&r.match(/[\p{L}\p{N}]/u))return;const i=o[1]||o[2]||"";if(!i||i&&(""===r||this.rules.inline.punctuation.exec(r))){const s=o[0].length-1;let a,u,f=s,m=0;const _="*"===o[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(_.lastIndex=0,t=t.slice(-1*e.length+s);null!=(o=_.exec(t));){if(a=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!a)continue;if(u=a.length,o[3]||o[4]){f+=u;continue}if((o[5]||o[6])&&s%3&&!((s+u)%3)){m+=u;continue}if(f-=u,f>0)continue;u=Math.min(u,u+f+m);const k=e.slice(0,s+o.index+(o[0].length-a.length)+u);if(Math.min(s,u)%2){const Q=k.slice(1,-1);return{type:"em",raw:k,text:Q,tokens:this.lexer.inlineTokens(Q)}}const M=k.slice(2,-2);return{type:"strong",raw:k,text:M,tokens:this.lexer.inlineTokens(M)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(/\n/g," ");const o=/[^ ]/.test(r),i=/^ /.test(r)&&/ $/.test(r);return o&&i&&(r=r.substring(1,r.length-1)),r=hi(r,!0),{type:"codespan",raw:t[0],text:r}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const r=this.rules.inline.autolink.exec(e);if(r){let o,i;return"@"===r[2]?(o=hi(this.options.mangle?t(r[1]):r[1]),i="mailto:"+o):(o=hi(r[1]),i=o),{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}url(e,t){let r;if(r=this.rules.inline.url.exec(e)){let o,i;if("@"===r[2])o=hi(this.options.mangle?t(r[0]):r[0]),i="mailto:"+o;else{let s;do{s=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(s!==r[0]);o=hi(r[0]),i="www."===r[1]?"http://"+r[0]:r[0]}return{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(e,t){const r=this.rules.inline.text.exec(e);if(r){let o;return o=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):hi(r[0]):r[0]:hi(this.options.smartypants?t(r[0]):r[0]),{type:"text",raw:r[0],text:o}}}}const Sn={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:xm,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Sn.def=$r(Sn.def).replace("label",Sn._label).replace("title",Sn._title).getRegex(),Sn.bullet=/(?:[*+-]|\d{1,9}[.)])/,Sn.listItemStart=$r(/^( *)(bull) */).replace("bull",Sn.bullet).getRegex(),Sn.list=$r(Sn.list).replace(/bull/g,Sn.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Sn.def.source+")").getRegex(),Sn._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Sn._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Sn.html=$r(Sn.html,"i").replace("comment",Sn._comment).replace("tag",Sn._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Sn.paragraph=$r(Sn._paragraph).replace("hr",Sn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Sn._tag).getRegex(),Sn.blockquote=$r(Sn.blockquote).replace("paragraph",Sn.paragraph).getRegex(),Sn.normal=Ys({},Sn),Sn.gfm=Ys({},Sn.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Sn.gfm.table=$r(Sn.gfm.table).replace("hr",Sn.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Sn._tag).getRegex(),Sn.gfm.paragraph=$r(Sn._paragraph).replace("hr",Sn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Sn.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Sn._tag).getRegex(),Sn.pedantic=Ys({},Sn.normal,{html:$r("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Sn._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:xm,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:$r(Sn.normal._paragraph).replace("hr",Sn.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Sn.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const Xt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:xm,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:xm,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function WU(n){return n.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function jk(n){let t,r,e="";const o=n.length;for(t=0;t<o;t++)r=n.charCodeAt(t),Math.random()>.5&&(r="x"+r.toString(16)),e+="&#"+r+";";return e}Xt._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Xt.punctuation=$r(Xt.punctuation).replace(/punctuation/g,Xt._punctuation).getRegex(),Xt.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Xt.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,Xt._comment=$r(Sn._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Xt.emStrong.lDelim=$r(Xt.emStrong.lDelim).replace(/punct/g,Xt._punctuation).getRegex(),Xt.emStrong.rDelimAst=$r(Xt.emStrong.rDelimAst,"g").replace(/punct/g,Xt._punctuation).getRegex(),Xt.emStrong.rDelimUnd=$r(Xt.emStrong.rDelimUnd,"g").replace(/punct/g,Xt._punctuation).getRegex(),Xt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Xt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Xt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Xt.autolink=$r(Xt.autolink).replace("scheme",Xt._scheme).replace("email",Xt._email).getRegex(),Xt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Xt.tag=$r(Xt.tag).replace("comment",Xt._comment).replace("attribute",Xt._attribute).getRegex(),Xt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Xt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Xt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Xt.link=$r(Xt.link).replace("label",Xt._label).replace("href",Xt._href).replace("title",Xt._title).getRegex(),Xt.reflink=$r(Xt.reflink).replace("label",Xt._label).replace("ref",Sn._label).getRegex(),Xt.nolink=$r(Xt.nolink).replace("ref",Sn._label).getRegex(),Xt.reflinkSearch=$r(Xt.reflinkSearch,"g").replace("reflink",Xt.reflink).replace("nolink",Xt.nolink).getRegex(),Xt.normal=Ys({},Xt),Xt.pedantic=Ys({},Xt.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:$r(/^!?\[(label)\]\((.*?)\)/).replace("label",Xt._label).getRegex(),reflink:$r(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Xt._label).getRegex()}),Xt.gfm=Ys({},Xt.normal,{escape:$r(Xt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Xt.gfm.url=$r(Xt.gfm.url,"i").replace("email",Xt.gfm._extended_email).getRegex(),Xt.breaks=Ys({},Xt.gfm,{br:$r(Xt.br).replace("{2,}","*").getRegex(),text:$r(Xt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class rl{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Gu,this.options.tokenizer=this.options.tokenizer||new Zv,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:Sn.normal,inline:Xt.normal};this.options.pedantic?(t.block=Sn.pedantic,t.inline=Xt.pedantic):this.options.gfm&&(t.block=Sn.gfm,t.inline=this.options.breaks?Xt.breaks:Xt.gfm),this.tokenizer.rules=t}static get rules(){return{block:Sn,inline:Xt}}static lex(e,t){return new rl(t).lex(e)}static lexInline(e,t){return new rl(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let r,o,i,s;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(a,u,f)=>u+"    ".repeat(f.length));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(r=a.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),1===r.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),o=t[t.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?t.push(r):(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),o=t[t.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title}):(o.raw+="\n"+r.raw,o.text+="\n"+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(i=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const u=e.slice(1);let f;this.options.extensions.startBlock.forEach(function(m){f=m.call({lexer:this},u),"number"==typeof f&&f>=0&&(a=Math.min(a,f))}),a<1/0&&a>=0&&(i=e.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){o=t[t.length-1],s&&"paragraph"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(r),s=i.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),o=t[t.length-1],o&&"text"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(r);continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let r,o,i,a,u,f,s=e;if(this.tokens.links){const m=Object.keys(this.tokens.links);if(m.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(s));)m.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+Vk("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,a.index)+"["+Vk("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.escapedEmSt.exec(s));)s=s.slice(0,a.index+a[0].length-2)+"++"+s.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(u||(f=""),u=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(m=>!!(r=m.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),o=t[t.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):t.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),o=t[t.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):t.push(r);continue}if(r=this.tokenizer.emStrong(e,s,f)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.autolink(e,jk)){e=e.substring(r.raw.length),t.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e,jk))){e=e.substring(r.raw.length),t.push(r);continue}if(i=e,this.options.extensions&&this.options.extensions.startInline){let m=1/0;const _=e.slice(1);let k;this.options.extensions.startInline.forEach(function(M){k=M.call({lexer:this},_),"number"==typeof k&&k>=0&&(m=Math.min(m,k))}),m<1/0&&m>=0&&(i=e.substring(0,m+1))}if(r=this.tokenizer.inlineText(i,WU)){e=e.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(f=r.raw.slice(-1)),u=!0,o=t[t.length-1],o&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):t.push(r);continue}if(e){const m="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(m);break}throw new Error(m)}}return t}}class Wu{constructor(e){this.options=e||Gu}code(e,t,r){const o=(t||"").match(/\S*/)[0];if(this.options.highlight){const i=this.options.highlight(e,o);null!=i&&i!==e&&(r=!0,e=i)}return e=e.replace(/\n$/,"")+"\n",o?'<pre><code class="'+this.options.langPrefix+hi(o)+'">'+(r?e:hi(e,!0))+"</code></pre>\n":"<pre><code>"+(r?e:hi(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e){return e}heading(e,t,r,o){return this.options.headerIds?`<h${t} id="${this.options.headerPrefix+o.slug(r)}">${e}</h${t}>\n`:`<h${t}>${e}</h${t}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,r){const o=t?"ol":"ul";return"<"+o+(t&&1!==r?' start="'+r+'"':"")+">\n"+e+"</"+o+">\n"}listitem(e){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,r){if(null===(e=Lk(this.options.sanitize,this.options.baseUrl,e)))return r;let o='<a href="'+e+'"';return t&&(o+=' title="'+t+'"'),o+=">"+r+"</a>",o}image(e,t,r){if(null===(e=Lk(this.options.sanitize,this.options.baseUrl,e)))return r;let o=`<img src="${e}" alt="${r}"`;return t&&(o+=` title="${t}"`),o+=this.options.xhtml?"/>":">",o}text(e){return e}}class Hk{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,r){return""+r}image(e,t,r){return""+r}br(){return""}}class zk{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let r=e,o=0;if(this.seen.hasOwnProperty(r)){o=this.seen[e];do{o++,r=e+"-"+o}while(this.seen.hasOwnProperty(r))}return t||(this.seen[e]=o,this.seen[r]=0),r}slug(e,t={}){const r=this.serialize(e);return this.getNextSafeSlug(r,t.dryrun)}}class Ea{constructor(e){this.options=e||Gu,this.options.renderer=this.options.renderer||new Wu,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Hk,this.slugger=new zk}static parse(e,t){return new Ea(t).parse(e)}static parseInline(e,t){return new Ea(t).parseInline(e)}parse(e,t=!0){let o,i,s,a,u,f,m,_,k,M,Q,Ae,Ze,Ke,bt,Ne,Ot,En,Zn,r="";const fs=e.length;for(o=0;o<fs;o++)if(M=e[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[M.type]&&(Zn=this.options.extensions.renderers[M.type].call({parser:this},M),!1!==Zn||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(M.type)))r+=Zn||"";else switch(M.type){case"space":continue;case"hr":r+=this.renderer.hr();continue;case"heading":r+=this.renderer.heading(this.parseInline(M.tokens),M.depth,Nk(this.parseInline(M.tokens,this.textRenderer)),this.slugger);continue;case"code":r+=this.renderer.code(M.text,M.lang,M.escaped);continue;case"table":for(_="",m="",a=M.header.length,i=0;i<a;i++)m+=this.renderer.tablecell(this.parseInline(M.header[i].tokens),{header:!0,align:M.align[i]});for(_+=this.renderer.tablerow(m),k="",a=M.rows.length,i=0;i<a;i++){for(f=M.rows[i],m="",u=f.length,s=0;s<u;s++)m+=this.renderer.tablecell(this.parseInline(f[s].tokens),{header:!1,align:M.align[s]});k+=this.renderer.tablerow(m)}r+=this.renderer.table(_,k);continue;case"blockquote":k=this.parse(M.tokens),r+=this.renderer.blockquote(k);continue;case"list":for(Q=M.ordered,Ae=M.start,Ze=M.loose,a=M.items.length,k="",i=0;i<a;i++)bt=M.items[i],Ne=bt.checked,Ot=bt.task,Ke="",bt.task&&(En=this.renderer.checkbox(Ne),Ze?bt.tokens.length>0&&"paragraph"===bt.tokens[0].type?(bt.tokens[0].text=En+" "+bt.tokens[0].text,bt.tokens[0].tokens&&bt.tokens[0].tokens.length>0&&"text"===bt.tokens[0].tokens[0].type&&(bt.tokens[0].tokens[0].text=En+" "+bt.tokens[0].tokens[0].text)):bt.tokens.unshift({type:"text",text:En}):Ke+=En),Ke+=this.parse(bt.tokens,Ze),k+=this.renderer.listitem(Ke,Ot,Ne);r+=this.renderer.list(k,Q,Ae);continue;case"html":r+=this.renderer.html(M.text);continue;case"paragraph":r+=this.renderer.paragraph(this.parseInline(M.tokens));continue;case"text":for(k=M.tokens?this.parseInline(M.tokens):M.text;o+1<fs&&"text"===e[o+1].type;)M=e[++o],k+="\n"+(M.tokens?this.parseInline(M.tokens):M.text);r+=t?this.renderer.paragraph(k):k;continue;default:{const zm='Token with "'+M.type+'" type was not found.';if(this.options.silent)return void console.error(zm);throw new Error(zm)}}return r}parseInline(e,t){t=t||this.renderer;let o,i,s,r="";const a=e.length;for(o=0;o<a;o++)if(i=e[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]&&(s=this.options.extensions.renderers[i.type].call({parser:this},i),!1!==s||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)))r+=s||"";else switch(i.type){case"escape":case"text":r+=t.text(i.text);break;case"html":r+=t.html(i.text);break;case"link":r+=t.link(i.href,i.title,this.parseInline(i.tokens,t));break;case"image":r+=t.image(i.href,i.title,i.text);break;case"strong":r+=t.strong(this.parseInline(i.tokens,t));break;case"em":r+=t.em(this.parseInline(i.tokens,t));break;case"codespan":r+=t.codespan(i.text);break;case"br":r+=t.br();break;case"del":r+=t.del(this.parseInline(i.tokens,t));break;default:{const u='Token with "'+i.type+'" type was not found.';if(this.options.silent)return void console.error(u);throw new Error(u)}}return r}}function kn(n,e,t){if(typeof n>"u"||null===n)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof n)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");if("function"==typeof e&&(t=e,e=null),Bk(e=Ys({},kn.defaults,e||{})),t){const o=e.highlight;let i;try{i=rl.lex(n,e)}catch(u){return t(u)}const s=function(u){let f;if(!u)try{e.walkTokens&&kn.walkTokens(i,e.walkTokens),f=Ea.parse(i,e)}catch(m){u=m}return e.highlight=o,u?t(u):t(null,f)};if(!o||o.length<3||(delete e.highlight,!i.length))return s();let a=0;return kn.walkTokens(i,function(u){"code"===u.type&&(a++,setTimeout(()=>{o(u.text,u.lang,function(f,m){if(f)return s(f);null!=m&&m!==u.text&&(u.text=m,u.escaped=!0),a--,0===a&&s()})},0))}),void(0===a&&s())}function r(o){if(o.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+hi(o.message+"",!0)+"</pre>";throw o}try{const o=rl.lex(n,e);if(e.walkTokens){if(e.async)return Promise.all(kn.walkTokens(o,e.walkTokens)).then(()=>Ea.parse(o,e)).catch(r);kn.walkTokens(o,e.walkTokens)}return Ea.parse(o,e)}catch(o){r(o)}}kn.options=kn.setOptions=function(n){return Ys(kn.defaults,n),function RU(n){Gu=n}(kn.defaults),kn},kn.getDefaults=function Rk(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},kn.defaults=Gu,kn.use=function(...n){const e=kn.defaults.extensions||{renderers:{},childTokens:{}};n.forEach(t=>{const r=Ys({},t);if(r.async=kn.defaults.async||r.async,t.extensions&&(t.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if(o.renderer){const i=e.renderers[o.name];e.renderers[o.name]=i?function(...s){let a=o.renderer.apply(this,s);return!1===a&&(a=i.apply(this,s)),a}:o.renderer}if(o.tokenizer){if(!o.level||"block"!==o.level&&"inline"!==o.level)throw new Error("extension level must be 'block' or 'inline'");e[o.level]?e[o.level].unshift(o.tokenizer):e[o.level]=[o.tokenizer],o.start&&("block"===o.level?e.startBlock?e.startBlock.push(o.start):e.startBlock=[o.start]:"inline"===o.level&&(e.startInline?e.startInline.push(o.start):e.startInline=[o.start]))}o.childTokens&&(e.childTokens[o.name]=o.childTokens)}),r.extensions=e),t.renderer){const o=kn.defaults.renderer||new Wu;for(const i in t.renderer){const s=o[i];o[i]=(...a)=>{let u=t.renderer[i].apply(o,a);return!1===u&&(u=s.apply(o,a)),u}}r.renderer=o}if(t.tokenizer){const o=kn.defaults.tokenizer||new Zv;for(const i in t.tokenizer){const s=o[i];o[i]=(...a)=>{let u=t.tokenizer[i].apply(o,a);return!1===u&&(u=s.apply(o,a)),u}}r.tokenizer=o}if(t.walkTokens){const o=kn.defaults.walkTokens;r.walkTokens=function(i){let s=[];return s.push(t.walkTokens.call(this,i)),o&&(s=s.concat(o.call(this,i))),s}}kn.setOptions(r)})},kn.walkTokens=function(n,e){let t=[];for(const r of n)switch(t=t.concat(e.call(kn,r)),r.type){case"table":for(const o of r.header)t=t.concat(kn.walkTokens(o.tokens,e));for(const o of r.rows)for(const i of o)t=t.concat(kn.walkTokens(i.tokens,e));break;case"list":t=t.concat(kn.walkTokens(r.items,e));break;default:kn.defaults.extensions&&kn.defaults.extensions.childTokens&&kn.defaults.extensions.childTokens[r.type]?kn.defaults.extensions.childTokens[r.type].forEach(function(o){t=t.concat(kn.walkTokens(r[o],e))}):r.tokens&&(t=t.concat(kn.walkTokens(r.tokens,e)))}return t},kn.parseInline=function(n,e){if(typeof n>"u"||null===n)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof n)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");Bk(e=Ys({},kn.defaults,e||{}));try{const t=rl.lexInline(n,e);return e.walkTokens&&kn.walkTokens(t,e.walkTokens),Ea.parseInline(t,e)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+hi(t.message+"",!0)+"</pre>";throw t}},kn.Parser=Ea,kn.parser=Ea.parse,kn.Renderer=Wu,kn.TextRenderer=Hk,kn.Lexer=rl,kn.lexer=rl.lex,kn.Tokenizer=Zv,kn.Slugger=zk,kn.parse=kn;class ZU extends G{constructor(e,t){super()}schedule(e,t=0){return this}}const Pm={setInterval(n,e,...t){const{delegate:r}=Pm;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Pm;return(e?.clearInterval||clearInterval)(n)},delegate:void 0},qv={now:()=>(qv.delegate||Date).now(),delegate:void 0};class qf{constructor(e,t=qf.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}qf.now=qv.now;const Gk=new class KU extends qf{constructor(e,t=qf.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}(class qU extends ZU{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const o=this.id,i=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(i,o,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return Pm.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Pm.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let o,r=!1;try{this.work(e)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,J(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}),YU=Gk;function Wk(n=0,e,t=YU){let r=-1;return null!=e&&(vo(e)?t=e:r=e),new yt(o=>{let i=function XU(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;i<0&&(i=0);let s=0;return t.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}class QU extends tt{constructor(e=1/0,t=1/0,r=qv){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;t||(r.push(e),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!e.closed;s+=r?1:2)e.next(i[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*e;if(e<1/0&&i<r.length&&r.splice(0,r.length-i),!o){const s=t.now();let a=0;for(let u=1;u<r.length&&r[u]<=s;u+=2)a=u;a&&r.splice(0,a+1)}}}const tj=["*"];let Kv=(()=>{class n{constructor(){this._buttonClick$=new tt,this.copied$=this._buttonClick$.pipe(di(()=>li(_n(!0),Wk(3e3).pipe(mv(!1)))),ak(),function JU(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,hs({connector:()=>new QU(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(1)),this.copiedText$=this.copied$.pipe(q1(!1),Re(t=>t?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d({type:n,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(t,r){1&t&&(se(0,"button",0),lt("click",function(){return r.onCopyToClipboardClick()}),ma(1,"async"),qe(2),ma(3,"async"),te()),2&t&&(Ga("copied",ga(1,3,r.copied$)),et(2),ws(ga(3,5,r.copiedText$)))},dependencies:[YE],encapsulation:2,changeDetection:0}),n})();class oj{}var Kf=(()=>{return(n=Kf||(Kf={})).CommandLine="command-line",n.LineHighlight="line-highlight",n.LineNumbers="line-numbers",Kf;var n})();class Zk{}const qk=new rn("SECURITY_CONTEXT");let Yv=(()=>{class n{constructor(t,r,o,i,s,a){this.platform=t,this.securityContext=r,this.http=o,this.clipboardOptions=i,this.sanitizer=a,this.DEFAULT_MARKED_OPTIONS={renderer:new Wu},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:this.DEFAULT_MARKED_OPTIONS,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new tt,this.reload$=this._reload$.asObservable(),this.options=s}get options(){return this._options}set options(t){this._options={...this.DEFAULT_MARKED_OPTIONS,...t}}get renderer(){return this.options.renderer}set renderer(t){this.options.renderer=t}parse(t,r=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:o,inline:i,emoji:s,mermaid:a,disableSanitizer:u}=r,f={...this.options,...r.markedOptions};a&&(this.renderer=this.extendRenderer(f.renderer||new Wu));const m=this.trimIndentation(t),_=o?this.decodeHtml(m):m,k=s?this.parseEmoji(_):_,M=this.parseMarked(k,f,i);return(u?M:this.sanitizer.sanitize(this.securityContext,M))||""}render(t,r=this.DEFAULT_RENDER_OPTIONS,o){const{clipboard:i,clipboardOptions:s,katex:a,katexOptions:u,mermaid:f,mermaidOptions:m}=r;i&&this.renderClipboard(t,o,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...s}),a&&this.renderKatex(t,{...this.DEFAULT_KATEX_OPTIONS,...u}),f&&this.renderMermaid(t,{...this.DEFAULT_MERMAID_OPTIONS,...m}),this.highlight(t)}reload(){this._reload$.next()}getSource(t){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(t,{responseType:"text"}).pipe(Re(r=>this.handleExtension(t,r)))}highlight(t){if(!Cl(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;t||(t=document);const r=t.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(r,o=>o.classList.add("language-none")),Prism.highlightAllUnder(t)}decodeHtml(t){if(!Cl(this.platform))return t;const r=document.createElement("textarea");return r.innerHTML=t,r.value}extendRenderer(t){const r=t;if(!0===r.\u0275NgxMarkdownRendererExtended)return t;const o=t.code;return t.code=function(i,s,a){return"mermaid"===s?`<div class="mermaid">${i}</div>`:o.call(this,i,s,a)},r.\u0275NgxMarkdownRendererExtended=!0,t}handleExtension(t,r){const o=t.lastIndexOf("://"),i=o>-1?t.substring(o+4):t,s=i.lastIndexOf("/"),a=s>-1?i.substring(s+1).split("?")[0]:"",u=a.lastIndexOf("."),f=u>-1?a.substring(u+1):"";return f&&"md"!==f?"```"+f+"\n"+r+"\n```":r}parseMarked(t,r,o=!1){return o?kn.parseInline(t,r):kn.parse(t,r)}parseEmoji(t){if(!Cl(this.platform))return t;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(t)}renderKatex(t,r){if(Cl(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(t,r)}}renderClipboard(t,r,o){if(!Cl(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!r)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:i,buttonTemplate:s}=o,a=t.querySelectorAll("pre");for(let u=0;u<a.length;u++){const f=a.item(u),m=document.createElement("div");m.style.position="relative",f.parentNode.insertBefore(m,f),m.appendChild(f);const _=document.createElement("div");let k,M;_.style.position="absolute",_.style.top=".5em",_.style.right=".5em",_.style.opacity="0",_.style.transition="opacity 250ms ease-out",m.insertAdjacentElement("beforeend",_),f.onmouseover=()=>_.style.opacity="1",f.onmouseout=()=>_.style.opacity="0",k=i?r.createComponent(i).hostView:s?r.createEmbeddedView(s):r.createComponent(Kv).hostView,k.rootNodes.forEach(Q=>{Q.onmouseover=()=>_.style.opacity="1",_.appendChild(Q),M=new ClipboardJS(Q,{text:()=>f.innerText})}),k.onDestroy(()=>M.destroy())}}renderMermaid(t,r=this.DEFAULT_MERMAID_OPTIONS){if(!Cl(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.init>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const o=t.querySelectorAll(".mermaid");0!==o.length&&(mermaid.initialize(r),mermaid.init(o))}trimIndentation(t){if(!t)return"";let r;return t.split("\n").map(o=>{let i=r;return o.length>0&&(i=isNaN(i)?o.search(/\S|$/):Math.min(o.search(/\S|$/),i)),isNaN(r)&&(r=i),i?o.substring(i):o}).join("\n")}}return n.\u0275fac=function(t){return new(t||n)(ee(Su),ee(qk),ee(j_,8),ee(oj,8),ee(Zk,8),ee(L_))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})(),Xv=(()=>{class n{constructor(t,r,o){this.element=t,this.markdownService=r,this.viewContainerRef=o,this.error=new Tn,this.load=new Tn,this.ready=new Tn,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this._srcRelativeLink=!1,this.destroyed$=new tt}get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(t){this._disableSanitizer=this.coerceBooleanProperty(t)}get inline(){return this._inline}set inline(t){this._inline=this.coerceBooleanProperty(t)}get srcRelativeLink(){return this._srcRelativeLink}set srcRelativeLink(t){this._srcRelativeLink=this.coerceBooleanProperty(t)}get clipboard(){return this._clipboard}set clipboard(t){this._clipboard=this.coerceBooleanProperty(t)}get emoji(){return this._emoji}set emoji(t){this._emoji=this.coerceBooleanProperty(t)}get katex(){return this._katex}set katex(t){this._katex=this.coerceBooleanProperty(t)}get mermaid(){return this._mermaid}set mermaid(t){this._mermaid=this.coerceBooleanProperty(t)}get lineHighlight(){return this._lineHighlight}set lineHighlight(t){this._lineHighlight=this.coerceBooleanProperty(t)}get lineNumbers(){return this._lineNumbers}set lineNumbers(t){this._lineNumbers=this.coerceBooleanProperty(t)}get commandLine(){return this._commandLine}set commandLine(t){this._commandLine=this.coerceBooleanProperty(t)}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(function ej(n){return q((e,t)=>{Nn(n).subscribe(_e(t,()=>t.complete(),B)),!t.closed&&e.subscribe(t)})}(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(t,r=!1){let o;this.src&&this.srcRelativeLink&&(o={baseUrl:new URL(this.src,location.origin).pathname});const s={clipboard:this.clipboard,clipboardOptions:{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate},katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},a=this.markdownService.parse(t,{decodeHtml:r,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid,markedOptions:o,disableSanitizer:this.disableSanitizer});this.element.nativeElement.innerHTML=a,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,s,this.viewContainerRef),this.ready.emit()}coerceBooleanProperty(t){return null!=t&&"false"!=`${String(t)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:t=>{this.render(t),this.load.emit(t)},error:t=>this.error.emit(t)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,Kf.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,Kf.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(t,r){const o=t.querySelectorAll("pre");for(let i=0;i<o.length;i++){const s=r instanceof Array?r:[r];o.item(i).classList.add(...s)}}setPluginOptions(t,r){const o=t.querySelectorAll("pre");for(let i=0;i<o.length;i++)Object.keys(r).forEach(s=>{const a=r[s];if(a){const u=this.toLispCase(s);o.item(i).setAttribute(u,a.toString())}})}toLispCase(t){const r=t.match(/([A-Z])/g);if(!r)return t;let o=t.toString();for(let i=0,s=r.length;i<s;i++)o=o.replace(new RegExp(r[i]),"-"+r[i].toLowerCase());return"-"===o.slice(0,1)&&(o=o.slice(1)),o}}return n.\u0275fac=function(t){return new(t||n)(C(gt),C(Yv),C(Mi))},n.\u0275cmp=d({type:n,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",srcRelativeLink:"srcRelativeLink",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[Mo],ngContentSelectors:tj,decls:1,vars:0,template:function(t,r){1&t&&(Pt(),At(0))},encapsulation:2}),n})(),Qv=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[Yv,t&&t.loader||[],t&&t.clipboardOptions||[],t&&t.markedOptions||[],{provide:qk,useValue:t&&null!=t.sanitize?t.sanitize:Lr.HTML}]}}static forChild(){return{ngModule:n}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=V({type:n}),n.\u0275inj=_r({imports:[va]}),n})();var Kk;!function(n){let e;var o;let t,r;(o=e=n.SecurityLevel||(n.SecurityLevel={})).Strict="strict",o.Loose="loose",o.Antiscript="antiscript",o.Sandbox="sandbox",function(o){o.Base="base",o.Forest="forest",o.Dark="dark",o.Default="default",o.Neutral="neutral"}(t=n.Theme||(n.Theme={})),function(o){o[o.Debug=1]="Debug",o[o.Info=2]="Info",o[o.Warn=3]="Warn",o[o.Error=4]="Error",o[o.Fatal=5]="Fatal"}(r=n.LogLevel||(n.LogLevel={}))}(Kk||(Kk={}));var me=x(3918);const fj="safari"in window,Yk=!navigator.userAgent.match(/(crios)|(fxios)/i),Xs=!!navigator.platform.match(/iPhone|iPad|iPod/)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,Xk=!!navigator.userAgent.match(/android/i),pj=navigator.userAgent.toLowerCase().indexOf("firefox")>=0;var Ll=(()=>{return(n=Ll||(Ll={})).web="web",n.pwa="pwa",n.twa="twa",Ll;var n})();new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked");const gj=new Error("request for lock canceled");class _j{constructor(e,t=gj){this._value=e,this._cancelError=t,this._weightedQueues=[],this._weightedWaiters=[]}acquire(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise((t,r)=>{this._weightedQueues[e-1]||(this._weightedQueues[e-1]=[]),this._weightedQueues[e-1].push({resolve:t,reject:r}),this._dispatch()})}runExclusive(e,t=1){return function(n,e,t,r){return new(t||(t=Promise))(function(i,s){function a(m){try{f(r.next(m))}catch(_){s(_)}}function u(m){try{f(r.throw(m))}catch(_){s(_)}}function f(m){m.done?i(m.value):function o(i){return i instanceof t?i:new t(function(s){s(i)})}(m.value).then(a,u)}f((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){const[r,o]=yield this.acquire(t);try{return yield e(r)}finally{o()}})}waitForUnlock(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise(t=>{this._weightedWaiters[e-1]||(this._weightedWaiters[e-1]=[]),this._weightedWaiters[e-1].push(t),this._dispatch()})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(e){this._value=e,this._dispatch()}release(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);this._value+=e,this._dispatch()}cancel(){this._weightedQueues.forEach(e=>e.forEach(t=>t.reject(this._cancelError))),this._weightedQueues=[]}_dispatch(){var e;for(let t=this._value;t>0;t--){const r=null===(e=this._weightedQueues[t-1])||void 0===e?void 0:e.shift();if(!r)continue;const o=this._value,i=t;this._value-=t,t=this._value+1,r.resolve([o,this._newReleaser(i)])}this._drainUnlockWaiters()}_newReleaser(e){let t=!1;return()=>{t||(t=!0,this.release(e))}}_drainUnlockWaiters(){for(let e=this._value;e>0;e--)this._weightedWaiters[e-1]&&(this._weightedWaiters[e-1].forEach(t=>t()),this._weightedWaiters[e-1]=[])}}class Da{constructor(e){this._semaphore=new _j(1,e)}acquire(){return n=this,e=void 0,r=function*(){const[,e]=yield this._semaphore.acquire();return e},new((t=void 0)||(t=Promise))(function(i,s){function a(m){try{f(r.next(m))}catch(_){s(_)}}function u(m){try{f(r.throw(m))}catch(_){s(_)}}function f(m){m.done?i(m.value):function o(i){return i instanceof t?i:new t(function(s){s(i)})}(m.value).then(a,u)}f((r=r.apply(n,e||[])).next())});var n,e,t,r}runExclusive(e){return this._semaphore.runExclusive(()=>e())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const Fm="cloudpilot-session-preview";function Jk(){localStorage.removeItem(Fm)}function So(){return(n,e,t)=>{const r=t.value;let o=!1;return t.value=(0,me.Z)(function*(){if(!o){o=!0;try{return yield r.apply(this,arguments)}finally{o=!1}}}),t}}class ds{constructor(){}getCurrentSession(){return this.currentSession}setCurrentSession(e){this.currentSession=e}}ds.\u0275fac=function(e){return new(e||ds)},ds.\u0275prov=ht({token:ds,factory:ds.\u0275fac,providedIn:"root"});class Hr{constructor(e,t){this.alertController=e,this.emulationState=t,this.emergencySaveEvent=new ni.j}errorMessage(e){var t=this;return(0,me.Z)(function*(){yield(yield t.alertController.create({header:"Error",backdropDismiss:!1,message:e,buttons:[{text:"Close",role:"cancel"}]})).present()})()}message(e,t,r={},o="Close"){var i=this;return(0,me.Z)(function*(){const s=yield i.alertController.create({header:e,message:t,backdropDismiss:!1,buttons:[...Object.keys(r).map(a=>({text:a,handler:()=>{r[a](),s.dismiss()}})),{text:o,role:"cancel"}]});yield s.present(),yield s.onDidDismiss()})()}updateAvailable(){var e=this;return(0,me.Z)(function*(){const t=yield e.alertController.create({header:"Update available",message:"An update is available. Please close CloudpilotEmu and reload in order to update.",backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()},{text:"Close",role:"cancel"}]});yield t.present(),yield t.onDidDismiss()})()}fatalError(e,t=!0){var r=this;return(0,me.Z)(function*(){const o=!!r.emulationState.getCurrentSession(),i=yield r.alertController.create({header:"Error",message:`\n                ${e}\n                <br/><br/>\n                Please close or reload this window.\n                ${o&&t?" You may save an image of your current session before reloading.":""}\n            `,backdropDismiss:!1,buttons:[...o&&t?[{text:"Save image",handler:()=>(r.emergencySaveEvent.dispatch(),!1)}]:[],{text:"Reload",handler:()=>window.location.reload()}],cssClass:"fatal-error"});yield i.present(),yield i.onDidDismiss()})()}errorInNativeCode(e){var t=this;return(0,me.Z)(function*(){const r=yield t.alertController.create({header:"Error",message:`\n                You encountered a bug in CloudpilotEmu:\n                <br/><br/>\n                ${e}.\n                <br/><br/>\n                Please close or reload this window.\n            `,backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()}]});yield r.present(),yield r.onDidDismiss()})()}proxyVersionMismatchError(){return this.errorMessage("\n            Server version does not match CloudpilotEmu. Please make sure that you are using the latest\n            versions of CloudpilotEmu and of the server.\n        ")}cardHasNoValidFileSystem(){return this.message("No filesystem","This card does not contain a valid filesystem.",{},"Continue")}cardHasUncorrectableErrors(){return this.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors.",{},"Continue")}cardIsClean(){return this.message("Card clean","No filesystem errors were found.",{},"Continue")}}Hr.\u0275fac=function(e){return new(e||Hr)(ee(zu),ee(ds))},Hr.\u0275prov=ht({token:Hr,factory:Hr.\u0275fac,providedIn:"root"}),Z([So()],Hr.prototype,"updateAvailable",null),Z([So()],Hr.prototype,"fatalError",null),Z([So()],Hr.prototype,"errorInNativeCode",null);class Ls{constructor(e,t){this.alertService=e,this.ngZone=t,this.fatalPageLockLost=()=>this.fatalWithMessage("CloudpilotEmu was opened in another tab or window.",!1),this.fatalIDBDead=()=>this.fatalWithMessage("IndexedDB access failed. This is most likely a browser bug.",!1),this.fatalVersionMismatch=()=>this.fatalWithMessage("\n        Database was written by a newer version of CloudpilotEmu. Please wait for a few seconds before reloading\n        while the latest version downloads in the background.\n    ",!1),this.fatalBug=r=>this.fatalWithMessage(`You encountered a bug in CloudpilotEmu:<br/><br/>${r}.`),this.fatalInNativeCode=r=>this.fatalWithMessage(r.message,!0,!1),this.fatalWithMessage=(r,o=!0,i=!0)=>this.ngZone.run(()=>{this.fatalErrorTriggered||(this.fatalErrorTriggered=!0,o&&Jk(),this.fatalErrorEvent.dispatch(),this.alertService.fatalError(r,i))}),this.fatalErrorEvent=new ni.j,this.fatalErrorTriggered=!1}hasFatalError(){return this.fatalErrorTriggered}}Ls.\u0275fac=function(e){return new(e||Ls)(ee(Hr),ee(ut))},Ls.\u0275prov=ht({token:Ls,factory:Ls.\u0275fac,providedIn:"root"});var zr=(()=>{return(n=zr||(zr={})).cloudpilot="cloudpilot",n.fstools="fstools",n.vfs="vfs",n.none="none",zr;var n})();class Ia{constructor(e){this.errorService=e,this.ownershipMmap=new Map}getOwner(e){return this.ownershipMmap.get(e)??zr.none}claim(e,t){this.assertOwnership(e,zr.none),this.ownershipMmap.set(e,t)}release(e,t){this.assertOwnership(e,t),this.ownershipMmap.delete(e)}assertOwnership(e,t){if(this.getOwner(e)===t)return;const r=t===zr.none?`Card alread claimed for ${this.getOwner(e)}.`:`Expected card ownership to be ${t}, but is ${this.getOwner(e)}.`;throw this.errorService.fatalBug(r),new Error(r)}transferOwnership(e,t,r){this.assertOwnership(e,t),this.ownershipMmap.set(e,r)}}Ia.\u0275fac=function(e){return new(e||Ia)(ee(Ls))},Ia.\u0275prov=ht({token:Ia,factory:Ia.\u0275fac,providedIn:"root"});const Bl="session",Zu="rom",Vl="memory",ol="state",Om="kvs",Ul="memory-meta",ka="storage",Ts="storage-card",Yf="lock";class qu extends Error{constructor(e){super(e)}}function ur(n){return new Promise((e,t)=>{!function Dj(n){return!!n.abort}(n)?n.onsuccess=()=>e(n.result):n.oncomplete=()=>e(void 0),n.onerror=()=>t(new qu(n.error?.message))})}function tT(n){let e=255&n[0];e|=e<<8,e|=e<<16;for(let t=1;t<256;t++)if(n[t]!==e)return n;return 255&n[0]}function Ij(n){const e=n[0];for(let t=1;t<2048;t++)if(n[t]!==e)return n;return e}const Nm="session",e0="memory",Tj="memory-meta",Mj="storage",rT="storage-meta",oT="storage-card",xj="storageId";function t0(){return(t0=(0,me.Z)(function*(n,e){function t(i){switch(i){case"PalmIIIc":case"PalmM505":case"PalmM515":return 81920;case"PalmI710":case"PalmM130":return 262144;default:return 0}}if(!e)throw new Error("no version change transaction!");const o=e.objectStore(Nm).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const u=a.value,f={...u,totalMemory:1024*u.ram*1024+t(u.device)};a.update(f),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function n0(){return(n0=(0,me.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");const t=e.objectStore("kvs"),r=yield new Promise((o,i)=>{const s=t.get("proxyCredentials");s.onsuccess=()=>o(s.result),s.onerror=()=>i(new Error(s.error?.message))});r&&(t.put(r,"credentials"),t.delete("proxyCredentials"))})).apply(this,arguments)}function r0(){return(r0=(0,me.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");const t=n.createObjectStore(Tj,{keyPath:"sessionId"});n.createObjectStore(Mj),n.createObjectStore(rT,{keyPath:"id",autoIncrement:!0});const o=e.objectStore(Nm).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const u=a.value;void 0!==u.totalMemory&&(t.put({sessionId:u.id,totalSize:u.totalMemory}),delete u.totalMemory,a.update(u)),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function o0(){return(o0=(0,me.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");e.objectStore(rT).name=oT})).apply(this,arguments)}function s0(){return(s0=(0,me.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");e.objectStore(oT).createIndex(xj,"storageId")})).apply(this,arguments)}function a0(){return(a0=(0,me.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");n.createObjectStore("lock")})).apply(this,arguments)}var Vj=x(5023),Uj=x.n(Vj);const iT={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Lm;const jj=new Uint8Array(16);function Hj(){if(!Lm&&(Lm=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Lm))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Lm(jj)}const mi=[];for(let n=0;n<256;++n)mi.push((n+256).toString(16).slice(1));const l0=function zj(n,e,t){if(iT.randomUUID&&!e&&!n)return iT.randomUUID();const r=(n=n||{}).random||(n.rng||Hj)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){t=t||0;for(let o=0;o<16;++o)e[t+o]=r[o];return e}return function sT(n,e=0){return(mi[n[e+0]]+mi[n[e+1]]+mi[n[e+2]]+mi[n[e+3]]+"-"+mi[n[e+4]]+mi[n[e+5]]+"-"+mi[n[e+6]]+mi[n[e+7]]+"-"+mi[n[e+8]]+mi[n[e+9]]+"-"+mi[n[e+10]]+mi[n[e+11]]+mi[n[e+12]]+mi[n[e+13]]+mi[n[e+14]]+mi[n[e+15]]).toLowerCase()}(r)},c0=new Error("page lock lost"),aT=new Error("version mismatch"),lT=l0();function go(){return(n,e,t)=>{const r=t.value;return t.value=(0,me.Z)(function*(){const o=this.errorService;try{return yield r.apply(this,arguments)}catch(i){throw i instanceof qu?o.fatalIDBDead():i===aT?o.fatalVersionMismatch():i===c0?o.fatalPageLockLost():o.fatalBug(i?.message),i}}),t}}class Qn{constructor(e,t,r){this.ngZone=e,this.errorService=t,this.storageCardContext=r,this.saveMemory=(o,i,s)=>this.ngZone.runOutsideAngular(()=>{const a=o.objectStore(Vl),u=o.objectStore(Ul),f=new Uint32Array(256),m=new Uint8Array(f.buffer);a.delete(IDBKeyRange.bound([i,0],[i+1,0],!1,!0)),u.put({sessionId:i,totalSize:s.length});const k=s.length>>>10;for(let M=0;M<k;M++){m.set(s.subarray(1024*M,1024*(M+1)));const Q=tT(f);if("number"==typeof Q)a.put(Q,[i,M]);else{const Ae=new Uint32Array(256);Ae.set(Q),a.put(Ae,[i,M])}}}),this.loadMemory=(o,i)=>this.ngZone.runOutsideAngular((0,me.Z)(function*(){const s=o.objectStore(Ul),a=yield ur(s.get(i));if(a)return new Promise(function(){var u=(0,me.Z)(function*(f,m){const _=o.objectStore(Vl),k=new Uint32Array(a.totalSize>>>2),M=_.openCursor(IDBKeyRange.bound([i,0],[i+1,0],!1,!0));M.onsuccess=()=>{const Q=M.result;if(!Q)return f(new Uint8Array(k.buffer));const Ae=Q.value,[,Ze]=Q.key;"number"==typeof Ae?k.subarray(256*Ze,256*(Ze+1)).fill(Ae|Ae<<8|Ae<<16|Ae<<24):k.subarray(256*Ze,256*(Ze+1)).set(1024===Ae.length?new Uint32Array(Ae.buffer):Ae),Q.continue()},M.onerror=()=>m(new qu(M.error?.message))});return function(f,m){return u.apply(this,arguments)}}())})),this.sessionChangeEvent=new ni.j,this.storageCardChangeEvent=new ni.j,this.sessionUpdateMutex=new Da,this.db=this.requestPersistentStorage().then(()=>e.runOutsideAngular(()=>this.setupDb()))}getDb(){return this.db}addSession(e,t,r,o){var i=this;return(0,me.Z)(function*(){const s=Uj()(t),a=yield i.newTransaction(Bl,Zu,ol,Vl,Ul),u=a.objectStore(Bl),f=a.objectStore(Zu);(yield ur(f.get(s)))||f.put(t,s);const{id:_,...k}=e,M=yield ur(u.add({...k,rom:s})),Q=yield ur(u.get(M));return r&&i.saveMemory(a,Q.id,r),o&&i.saveState(a,Q.id,o),yield ur(a),Q})()}getAllSessions(){var e=this;return(0,me.Z)(function*(){const[t]=yield e.prepareObjectStore(Bl);return yield ur(t.getAll())})()}getSession(e){var t=this;return(0,me.Z)(function*(){const[r]=yield t.prepareObjectStore(Bl);return yield ur(r.get(e))})()}deleteSession(e){var t=this;return(0,me.Z)(function*(){const r=yield t.newTransaction(Bl,Zu,ol,Vl,Ul),o=r.objectStore(Bl),i=r.objectStore(Zu);(e=yield ur(o.get(e.id)))&&(o.delete(e.id),0===(yield ur(o.index("rom").getAll(e.rom))).length&&i.delete(e.rom),t.deleteMemory(r,e.id),t.deleteState(r,e.id),yield ur(r),t.sessionChangeEvent.dispatch([e.id,void 0]))})()}updateSessionPartial(e,t){var r=this;return this.sessionUpdateMutex.runExclusive((0,me.Z)(function*(){const{id:o,rom:i,ram:s,device:a,...u}=t,[f,m]=yield r.prepareObjectStore(Bl),_=yield ur(f.get(e));if(!_)throw new Error(`no session with id ${e}`);const k={..._,...u};f.put(k),yield ur(m),r.sessionChangeEvent.dispatch([_.id,k])}))}updateSession(e){var t=this;return this.sessionUpdateMutex.runExclusive((0,me.Z)(function*(){const[r,o]=yield t.prepareObjectStore(Bl),i=yield ur(r.get(e.id));if(!i)throw new Error(`no session with id ${e.id}`);if(i.rom!==e.rom)throw new Error("attempt to change ROM reference");if(i.ram!==e.ram)throw new Error("attempt to change RAM size");if(i.device!==e.device)throw new Error("attempt to change device type");r.put(e),yield ur(o),t.sessionChangeEvent.dispatch([e.id,e])}))}loadSession(e){var t=this;return(0,me.Z)(function*(){const r=yield t.newTransaction(Zu,ol,Vl,Ul),o=r.objectStore(Zu);return[yield ur(o.get(e.rom)),yield t.loadMemory(r,e.id),yield t.loadState(r,e.id)]})()}deleteStateForSession(e){var t=this;return(0,me.Z)(function*(){const[r,o]=yield t.prepareObjectStore(ol);r.delete(e.id),yield ur(o)})()}addEmptyStorageCard(e){var t=this;return(0,me.Z)(function*(){const[r]=yield t.prepareObjectStore(Ts),o=yield ur(r.add(e)),i=yield ur(r.get(o));return t.storageCardChangeEvent.dispatch(i.id),i})()}importStorageCard(e,t){var r=this;return(0,me.Z)(function*(){return r.ngZone.runOutsideAngular((0,me.Z)(function*(){const o=yield r.newTransaction(Ts,ka),i=o.objectStore(Ts),s=o.objectStore(ka),a=yield ur(i.add(e)),u=(e.size>>>13)+(t.length%8192==0?0:1),f=new Uint32Array(2048);for(let _=0;_<u;_++){const k=t.subarray(2048*_,2048*(_+1));_===u-1&&f.set(k);const M=Ij(_===u-1?f:k);0!==M&&s.put("number"==typeof M?M:M?.slice(),[a,_])}const m=yield ur(i.get(a));return yield ur(o),r.storageCardChangeEvent.dispatch(m.id),m}))})()}getAllStorageCards(){var e=this;return(0,me.Z)(function*(){const[t]=yield e.prepareObjectStore(Ts);return ur(t.getAll())})()}getCard(e){var t=this;return(0,me.Z)(function*(){const[r]=yield t.prepareObjectStore(Ts);return ur(r.get(e))})()}updateStorageCardPartial(e,t){var r=this;return(0,me.Z)(function*(){const{storageId:o,size:i,id:s,...a}=t,[u,f]=yield r.prepareObjectStore(Ts),m=yield ur(u.get(e));if(!m)throw new Error(`no card with id ${e}`);const _={...m,...a};u.put(_),yield ur(f),r.storageCardChangeEvent.dispatch(e)})()}deleteStorageCard(e){var t=this;return(0,me.Z)(function*(){const r=yield t.newTransaction(Ts,ka);t.storageCardContext.assertOwnership(e,zr.none);const o=r.objectStore(Ts),i=r.objectStore(ka);o.delete(e),i.delete(IDBKeyRange.bound([e,0],[e+1,0],!1,!0)),yield ur(r),t.storageCardChangeEvent.dispatch(e)})()}loadCardData(e,t,r){var o=this;return this.ngZone.runOutsideAngular((0,me.Z)(function*(){const i=yield o.newTransaction(Ts,ka);o.storageCardContext.assertOwnership(e,r);const s=i.objectStore(ka);yield new Promise(function(){var a=(0,me.Z)(function*(u,f){const m=s.openCursor(IDBKeyRange.bound([e,0],[e+1,0],!1,!0));m.onsuccess=()=>{const _=m.result;if(!_)return u();let k=_.value;const[,M]=_.key;"number"==typeof k?t.subarray(2048*M,2048*(M+1)).fill(k):(2048*(M+1)>t.length&&(k=k.subarray(0,2048-2048*(M+1)+t.length)),t.subarray(2048*M,2048*(M+1)).set(k)),_.continue()},m.onerror=()=>f(new qu(m.error?.message))});return function(u,f){return a.apply(this,arguments)}}())}))}updateCardData(e,t,r,o){var i=this;return this.ngZone.runOutsideAngular((0,me.Z)(function*(){const s=yield i.newTransaction(Ts,ka);i.storageCardContext.assertOwnership(e,o);const a=s.objectStore(Ts),u=s.objectStore(ka),f=yield ur(a.get(e));if(!f)throw new Error(`no card with ID ${e}`);if(t.length!==f.size>>>2)throw new Error("data size mismatch");const m=(f.size>>>13)+(f.size%8192>0?1:0);if((m>>>3)+(m%8>0?1:0)!==r.length)throw new Error("dirty pages size mismatch");let _=0;for(let k=0;k<r.length;k++)for(let M=1;M<256&&!(_>=m);M<<=1)r[k]&M&&u.put(t.subarray(2048*_,2048*(_+1)).slice(),[f.id,_]),_++;yield ur(s)}))}kvsGet(e){var t=this;return(0,me.Z)(function*(){const[r]=yield t.prepareObjectStore(Om);return ur(r.get(e))})()}kvsSet(e){var t=this;return(0,me.Z)(function*(){const[r,o]=yield t.prepareObjectStore(Om);for(const i of Object.keys(e))r.put(e[i],i);yield ur(o)})()}kvsLoad(){var e=this;return(0,me.Z)(function*(){const[t]=yield e.prepareObjectStore(Om);return new Promise((r,o)=>{const i={},s=t.openCursor();s.onsuccess=()=>{const a=s.result;if(!a)return r(i);i[a.key]=a.value,a.continue()},s.onerror=()=>o(new qu(s.error?.message))})})()}kvsDelete(e){var t=this;return(0,me.Z)(function*(){const[r,o]=yield t.prepareObjectStore(Om);r.delete(e),yield ur(o)})()}acquireLock(e){var t=this;return(0,me.Z)(function*(){if(t.errorService.hasFatalError())throw new Error("fatal error detected --- refusing DB access");if((yield ur(e.objectStore(Yf).get(0)))!==lT)throw e.abort(),e.db.close(),c0})()}newTransaction(...e){var t=this;return(0,me.Z)(function*(){const r=(yield t.db).transaction([Yf,...e],"readwrite");return yield t.acquireLock(r),r})()}prepareObjectStore(e){var t=this;return(0,me.Z)(function*(){const r=yield t.newTransaction(e);return[r.objectStore(e),r]})()}saveState(e,t,r){const o=e.objectStore(ol);r?o.put(r,t):o.delete(t)}deleteState(e,t){e.objectStore(ol).delete(t)}loadState(e,t){return ur(e.objectStore(ol).get(t))}deleteMemory(e,t){const r=e.objectStore(Vl),o=e.objectStore(Ul);r.delete(IDBKeyRange.bound([t,0],[t+1,0],!1,!0)),o.delete(t)}initializeLock(e){return(0,me.Z)(function*(){const t=e.transaction(Yf,"readwrite");yield ur(t.objectStore(Yf).put(lT,0))})()}setupDb(){var e=this;return(0,me.Z)(function*(){const t=setTimeout(()=>Xs&&window.location.reload(),500);try{if(indexedDB.databases){const o=(yield indexedDB.databases()).find(i=>"cloudpilot-preview"===i.name);if(clearTimeout(t),o&&void 0!==o.version&&o.version>9)throw aT}const r=yield new Promise((o,i)=>{const s=indexedDB.open("cloudpilot-preview",9);s.onerror=()=>{i(new qu("failed to open DB"))},s.onsuccess=()=>{o(s.result)},s.onupgradeneeded=function(){var a=(0,me.Z)(function*(u){clearTimeout(t),u.oldVersion<1&&function Rj(n){n.createObjectStore(Nm,{keyPath:"id",autoIncrement:!0}).createIndex("rom","rom"),n.createObjectStore("state")}(s.result),u.oldVersion<2&&function Pj(n,e){if(!e)throw new Error("no version change transaction!");n.objectStoreNames.contains("rom")&&n.deleteObjectStore("rom"),n.objectStoreNames.contains(e0)&&n.deleteObjectStore(e0),e.objectStore(Nm).clear(),n.createObjectStore("rom"),n.createObjectStore(e0),n.createObjectStore("kvs")}(s.result,s.transaction),u.oldVersion<4&&(yield function Fj(n,e){return t0.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<5&&(yield function Oj(n,e){return n0.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<6&&(yield function Nj(n,e){return r0.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<7&&(yield function Lj(n,e){return o0.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<8&&(yield function $j(n,e){return s0.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<9&&(yield function Bj(n,e){return a0.apply(this,arguments)}(s.result,s.transaction))});return function(u){return a.apply(this,arguments)}}()});return yield e.initializeLock(r),r}finally{clearTimeout(t)}})()}requestPersistentStorage(){return(0,me.Z)(function*(){(!navigator.storage?.persist||!navigator.storage?.persisted)&&console.log("storage manager not supported; unable to request persistent storage");try{(yield navigator.storage.persisted())||(yield navigator.storage.persist())?console.log("persistent storage enabled"):console.log("request for persistent storage denied by browser")}catch(e){console.warn(e),console.log("failed to request persistent storage")}})()}}Qn.\u0275fac=function(e){return new(e||Qn)(ee(ut),ee(Ls),ee(Ia))},Qn.\u0275prov=ht({token:Qn,factory:Qn.\u0275fac,providedIn:"root"}),Z([go()],Qn.prototype,"addSession",null),Z([go()],Qn.prototype,"getAllSessions",null),Z([go()],Qn.prototype,"getSession",null),Z([go()],Qn.prototype,"deleteSession",null),Z([go()],Qn.prototype,"updateSessionPartial",null),Z([go()],Qn.prototype,"updateSession",null),Z([go()],Qn.prototype,"loadSession",null),Z([go()],Qn.prototype,"deleteStateForSession",null),Z([go()],Qn.prototype,"addEmptyStorageCard",null),Z([go()],Qn.prototype,"importStorageCard",null),Z([go()],Qn.prototype,"getAllStorageCards",null),Z([go()],Qn.prototype,"getCard",null),Z([go()],Qn.prototype,"updateStorageCardPartial",null),Z([go()],Qn.prototype,"deleteStorageCard",null),Z([go()],Qn.prototype,"loadCardData",null),Z([go()],Qn.prototype,"kvsGet",null),Z([go()],Qn.prototype,"kvsSet",null),Z([go()],Qn.prototype,"kvsDelete",null),Z([go()],Qn.prototype,"newTransaction",null),Z([go()],Qn.prototype,"prepareObjectStore",null),Z([go()],Qn.prototype,"initializeLock",null),Z([go()],Qn.prototype,"setupDb",null);const cT={volume:.5,showStatistics:!1,clipboardIntegration:!1,networkRedirection:!1,proxyServer:"",credentials:{},runHidden:!1,autoLockUI:!1,enableRemoteInstall:!1,enableAudioOnFirstInteraction:!1};class Zo{constructor(e){var t=this;this.storageService=e,this.set=r=>this.storageMutex.runExclusive((0,me.Z)(function*(){yield t.storageService.kvsSet(r);for(const o of Object.keys(r))t.rawKvs[o]=r[o];t.updateEvent.dispatch()})),this.updateEvent=new ni.j,this.mutex=new Da,this.storageMutex=new Da,this.initializationPromise=this.startInitialiation()}initialize(){var e=this;return(0,me.Z)(function*(){return e.initializationPromise})()}get kvs(){return this.kvsProxy}startInitialiation(){var e=this;return(0,me.Z)(function*(){const t=e;try{const r={...cT,...yield e.storageService.kvsLoad()};e.rawKvs=r,e.kvsProxy=new Proxy(r,{set:(o,i,s)=>(o[i]=s,t.storageMutex.runExclusive(()=>t.storageService.kvsSet({[i]:s})),t.updateEvent.dispatch(),!0),deleteProperty:(o,i)=>(delete o[i],t.storageMutex.runExclusive(()=>t.storageService.kvsDelete(i)),t.updateEvent.dispatch(),!0)})}catch(r){console.error("failed to load KVS"),console.error(r),e.kvsProxy={...cT}}})()}}Zo.\u0275fac=function(e){return new(e||Zo)(ee(Qn))},Zo.\u0275prov=ht({token:Zo,factory:Zo.\u0275fac,providedIn:"root"});class kc{constructor(e,t){var r=this;this.kvsService=e,this.alertService=t,this.serviceWorkerKeepalive=(0,me.Z)(function*(){if(navigator.serviceWorker)try{const o=yield navigator.serviceWorker.getRegistration();o?.active?.postMessage&&o.active.postMessage({})}catch{}setTimeout(r.serviceWorkerKeepalive,9e5)}),this.installationMode=this.determineInstallationMode(),this.serviceWorkerKeepalive()}promptForInstall(){return(Xs||Xk)&&this.installationMode===Ll.web}getInstallationMode(){return this.installationMode}install(){this.alertService.message("Install app",this.getInstallMessage())}invite(){this.promptForInstall()&&(this.kvsService.kvs.didShowInvitation||(this.kvsService.kvs.didShowInvitation=!0,window.hasOwnProperty("onbeforeinstallprompt")||this.alertService.message("App available",this.getInviteMessage())))}getInstallMessage(){return Xs&&Yk?'\n    Tap the "Share" icon on the bottom of the screen (the little box with the arrow)\n    and select "Add to Home Screen" in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':Xs?'\n    Open CloudpilotEmu in Safari, tap the "Share" icon on the bottom of the screen\n    (the little box with the arrow) and select "Add to Home Screen" in order to install\n    CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Open your browser\'s menu and tap "Add to Home screen" or "Install App"\n    in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}getInviteMessage(){return Xs&&Yk?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by tapping the "Share" icon\n    at the bottom of the screen (the little box with the arrow) and selecting\n    "Add to Home Screen".\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':Xs?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by opening it in Safari,\n    tapping the "Share" icon at the bottom of the screen (the little box with the arrow)\n    and selecting "Add to Home Screen"\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Howdy! It seems that you are using CloudpilotEmu on an Android device. You can\n    install CloudpilotEmu as an app by opening your browser\'s menu\n    and tapping "Add to Home screen".\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}determineInstallationMode(){return window.navigator.standalone?Ll.pwa:document.referrer.startsWith("android-app://")?Ll.twa:window.matchMedia("(display-mode: standalone)").matches?Ll.pwa:Ll.web}}function Qj(n,e){1&n&&(se(0,"div",6),ct(1,"ion-spinner"),te())}kc.\u0275fac=function(e){return new(e||kc)(ee(Zo),ee(Hr))},kc.\u0275prov=ht({token:kc,factory:kc.\u0275fac,providedIn:"root"});class il{constructor(e){this.modalController=e,this.title="Help",this.loading=!0}}il.\u0275fac=function(e){return new(e||il)(C(ks))},il.\u0275cmp=d({type:il,selectors:[["app-help"]],inputs:{url:"url",title:"title"},decls:10,vars:3,consts:[["translucent",""],["slot","primary"],[3,"click"],["fullscreen",""],["class","loader",4,"ngIf"],[3,"src","load"],[1,"loader"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3),te(),se(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return t.modalController.dismiss()}),qe(6,"Close"),te()()()(),se(7,"ion-content",3),sn(8,Qj,2,0,"div",4),se(9,"markdown",5),lt("load",function(){return t.loading=!1}),te()()),2&e&&(et(3),ws(t.title),et(5),ot("ngIf",t.loading),et(1),ot("src",t.url))},dependencies:[ti,Xv,os,is,ss,as,jf,cs,us],styles:["markdown[_ngcontent-%COMP%]{display:block;padding-left:1em;padding-right:1em}.loader[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}"]});const Tc="1.7.11-c47e413 (preview)";var $m=x(9897);const Bm=((n,e)=>{let t=null;return()=>{if(null!==t)return t;const r=new Blob(['(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error(\'The given type "\'.concat(i,\'" is not supported\'));(e=>{const r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error(\'The given method "\'.concat(s.method,\'" is not supported\'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error(\'The given type "\'.concat(d,\'" is not supported\'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();'],{type:"application/javascript; charset=utf-8"}),o=URL.createObjectURL(r);return t=(n=>{const e=new Map([[0,()=>{}]]),t=new Map([[0,()=>{}]]),r=new Map,o=new Worker(n);return o.addEventListener("message",({data:f})=>{if((n=>void 0!==n.method&&"call"===n.method)(f)){const{params:{timerId:m,timerType:_}}=f;if("interval"===_){const k=e.get(m);if("number"==typeof k){const M=r.get(k);if(void 0===M||M.timerId!==m||M.timerType!==_)throw new Error("The timer is in an undefined state.")}else{if(!(typeof k<"u"))throw new Error("The timer is in an undefined state.");k()}}else if("timeout"===_){const k=t.get(m);if("number"==typeof k){const M=r.get(k);if(void 0===M||M.timerId!==m||M.timerType!==_)throw new Error("The timer is in an undefined state.")}else{if(!(typeof k<"u"))throw new Error("The timer is in an undefined state.");k(),t.delete(m)}}}else{if(!(n=>null===n.error&&"number"==typeof n.id)(f)){const{error:{message:m}}=f;throw new Error(m)}{const{id:m}=f,_=r.get(m);if(void 0===_)throw new Error("The timer is in an undefined state.");const{timerId:k,timerType:M}=_;r.delete(m),"interval"===M?e.delete(k):t.delete(k)}}}),{clearInterval:f=>{const m=(0,$m.generateUniqueNumber)(r);r.set(m,{timerId:f,timerType:"interval"}),e.set(f,m),o.postMessage({id:m,method:"clear",params:{timerId:f,timerType:"interval"}})},clearTimeout:f=>{const m=(0,$m.generateUniqueNumber)(r);r.set(m,{timerId:f,timerType:"timeout"}),t.set(f,m),o.postMessage({id:m,method:"clear",params:{timerId:f,timerType:"timeout"}})},setInterval:(f,m)=>{const _=(0,$m.generateUniqueNumber)(e);return e.set(_,()=>{f(),"function"==typeof e.get(_)&&o.postMessage({id:null,method:"set",params:{delay:m,now:performance.now(),timerId:_,timerType:"interval"}})}),o.postMessage({id:null,method:"set",params:{delay:m,now:performance.now(),timerId:_,timerType:"interval"}}),_},setTimeout:(f,m)=>{const _=(0,$m.generateUniqueNumber)(t);return t.set(_,f),o.postMessage({id:null,method:"set",params:{delay:m,now:performance.now(),timerId:_,timerType:"timeout"}}),_}}})(o),setTimeout(()=>URL.revokeObjectURL(o)),t}})();var jl=(()=>{return(n=jl||(jl={}))[n.animationFrame=0]="animationFrame",n[n.timeout=1]="timeout",jl;var n})();class dT{constructor(e){this.callback=e}schedule(){void 0===this.handle&&(this.handle=requestAnimationFrame(e=>{this.handle=void 0,this.callback(e)}))}cancel(){void 0!==this.handle&&(cancelAnimationFrame(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return jl.animationFrame}}class oH{constructor(e,t=60){this.callback=e,this.fps=t}schedule(){if(void 0!==this.handle)return;const e=performance.now(),t=1e3*Math.ceil(e/1e3*this.fps)/this.fps;this.handle=((n,e)=>Bm().setTimeout(n,e))(()=>{this.handle=void 0,this.callback(performance.now())},Math.max(t-e,0))}cancel(){var n;void 0!==this.handle&&(n=this.handle,Bm().clearTimeout(n),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return jl.timeout}}const iH=[135,135,105],sH=[0,0,0],Hl=new Array(16).fill(0).map((n,e)=>sH.map((t,r)=>Math.floor((e*t+(15-e)*iH[r])/15))).map(([n,e,t])=>4278190080|t<<16|e<<8|n),u0=Hl.map(n=>"#"+(16777215&n).toString(16).padStart(6,"0").match(/(..?)/g)?.reverse().join(""));var ie=(()=>{return(n=ie||(ie={})).palmPilot="PalmPilot",n.pilot="Pilot",n.iii="PalmIII",n.palmVx="PalmVx",n.palmV="PalmV",n.palmVII="PalmVII",n.palmVIIEZ="PalmVIIEZ",n.palmVIIx="PalmVIIx",n.iiic="PalmIIIc",n.iiix="PalmIIIx",n.iiixe="PalmIIIxe",n.iiie="PalmIIIe",n.m500="PalmM500",n.m505="PalmM505",n.m515="PalmM515",n.m520="PalmM520",n.m100="PalmM100",n.m105="PalmM105",n.m125="PalmM125",n.m130="PalmM130",n.i705="Palmi705",n.i710="PalmI710",n.handera330="HandEra330",n.handera330c="HandEra330c",n.pegS300="PEG-S300",n.pegS320="PEG-S320",n.pegS500c="PEG-S500C",n.pegT400="PEG-T400",n.pegN600c="PEG-N600C/N610C",n.pegT600c="PEG-T600",n.pegN700c="PEG-N700C/N710C",n.pegT650c="YSX1230",n.pegNR70="NR70",n.acerS11="Acer-S11",ie;var n})(),zl=(()=>{return(n=zl||(zl={})).sdcard="sdcard",n.memorystick="memorystick",n.none="none",zl;var n})();function Xf(n){switch(n){case ie.i710:case ie.m520:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case ie.handera330:case ie.handera330c:return{screenSize:2,width:240,height:320,silkscreenHeight:0};case ie.pegS300:case ie.pegS320:case ie.pegS500c:return{screenSize:0,width:160,height:160,silkscreenHeight:76};case ie.pegT600c:case ie.pegT400:case ie.pegT650c:return{screenSize:1,width:320,height:320,silkscreenHeight:140,silkscreenOvershoot:10};case ie.pegN600c:case ie.pegN700c:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case ie.pegNR70:return{screenSize:3,width:320,height:480,silkscreenHeight:0};case ie.acerS11:return{screenSize:0,width:160,height:160,silkscreenHeight:60,siklscreenShift:8};default:return{screenSize:0,width:160,height:160,silkscreenHeight:60}}}function d0(n){switch(n){case ie.pilot:case ie.palmPilot:case ie.iii:case ie.palmV:case ie.palmVx:case ie.iiix:case ie.iiixe:case ie.iiie:case ie.m100:case ie.m105:case ie.m125:case ie.m500:case ie.palmVII:case ie.palmVIIEZ:case ie.palmVIIx:case ie.i705:case ie.handera330:case ie.pegS300:case ie.pegS320:case ie.pegT400:case ie.acerS11:return!1;default:return!0}}function fT(n){switch(n){case ie.pilot:return"Pilot";case ie.palmPilot:return"Palm Pilot";case ie.iii:return"Palm III";case ie.m500:return"Palm m500";case ie.m505:return"Palm m505";case ie.m515:return"Palm m515";case ie.m520:return"Palm m520";case ie.palmVx:return"Palm Vx";case ie.iiix:return"Palm IIIx";case ie.iiixe:return"Palm IIIxe";case ie.iiie:return"Palm IIIe";case ie.palmV:return"Palm V";case ie.palmVII:return"Palm VII";case ie.palmVIIEZ:return"Palm VII EZ";case ie.palmVIIx:return"Palm VIIx";case ie.iiic:return"Palm IIIc";case ie.m100:return"Palm m100";case ie.m105:return"Palm m105";case ie.m125:return"Palm m125";case ie.m130:return"Palm m130";case ie.i705:return"Palm i705";case ie.i710:return"Tungsten W";case ie.handera330:return"Handera 330";case ie.handera330c:return"Handera 330c";case ie.pegS300:return"Sony PEG-S300";case ie.pegS320:return"Sony PEG-S320";case ie.pegT400:return"Sony PEG-T400 series";case ie.pegN600c:return"Sony PEG-N600C series";case ie.pegT600c:return"Sony PEG-T600C series";case ie.pegN700c:return"Sony PEG-N700C series";case ie.pegT650c:return"Sony PEG-T650C series";case ie.pegNR70:return"Sony PEG-NR70 series";case ie.pegS500c:return"Sony PEG-S500C series";case ie.acerS11:return"Acer S1x series";default:throw new Error("bad device ID")}}function pT(n){switch(n){case ie.m500:case ie.m505:case ie.m515:case ie.m520:case ie.m125:case ie.m130:case ie.i705:case ie.i710:case ie.handera330:case ie.handera330c:return zl.sdcard;case ie.pegS300:case ie.pegS500c:case ie.pegS320:case ie.pegT400:case ie.pegN600c:case ie.pegT600c:case ie.pegN700c:case ie.pegT650c:case ie.pegNR70:case ie.acerS11:return zl.memorystick;default:return zl.none}}class hT{constructor(e,t){this.queue=new Array(e).fill(0),this.reset(t)}reset(e=0){this.next=1,this.size=1,this.queue[0]=e}push(e){return this.queue[this.next]=e,this.next=(this.next+1)%this.queue.length,this.size<this.queue.length&&this.size++,this}calculateAverage(){let e=0;for(let t=0;t<this.size;t++)e+=this.queue[t];return e/this.size}}class cH{constructor(e){this.start=0,this.size=0,this.buffer=new Array(e)}push(e){return this.size<this.buffer.length?this.buffer[(this.start+this.size++)%this.buffer.length]=e:(this.start=(this.start+1)%this.buffer.length,this.buffer[(this.start+this.size-1)%this.buffer.length]=e),this}pop(){if(0===this.size)return;const e=this.buffer[this.start];return this.start=(this.start+1)%this.buffer.length,this.size--,e}peekLast(){if(0!==this.size)return this.buffer[(this.start+this.size-1)%this.buffer.length]}replaceLast(e){return this.size>0&&(this.buffer[(this.start+this.size-1)%this.buffer.length]=e),this}count(){return this.size}flush(){return this.start=0,this.size=0,this}}class gH{constructor(){this.onPwmUpdate=e=>{this.pendingPwmUpdates.count()>0&&this.pendingPwmUpdates.peekLast().frequency<0?this.pendingPwmUpdates.replaceLast(e):this.pendingPwmUpdates.push(e)},this.advanceEmulation=e=>{if(this.isDirty=!1,!this.cloudpilotInstance||this.hasFatalError()||e<this.clockEmulator)return;const t=this.cloudpilotInstance.isSuspended();let r=!1;this.cloudpilotInstance.setClockFactor(this.emulationSpeed*this.getConfiguredSpeed()),e-this.clockEmulator>1e3/30&&(this.clockEmulator=e-1e3/30);const o=(e-this.clockEmulator)/1e3*this.cloudpilotInstance.cyclesPerSecond(),i=performance.now();let s=0;for(;s<o;)if(s+=this.cloudpilotInstance.runEmulation(Math.ceil(o-s)),this.cloudpilotInstance.isSuspended()){r=!0;break}const a=s/this.cloudpilotInstance.cyclesPerSecond()*1e3,u=performance.now()-i;if(this.clockEmulator+=Math.max(a,u),this.speedAverage.push(a/(u>0?u:a/1e3)*this.emulationSpeed),this.updateEmulationSpeed(this.speedAverage.calculateAverage()),r&&!t)return void this.handleSuspend();const f=this.cloudpilotInstance.isPowerOff(),m=this.cloudpilotInstance.isUiInitialized();if(f!==this.powerOff||m!==this.uiInitialized){const _=this.powerOff;this.powerOff=f,this.uiInitialized=m,_!==this.powerOff&&this.powerOffChangeEvent.dispatch(this.powerOff),this.isDirty=!0}m&&!f&&this.manageHotsyncName()&&this.checkAndUpdateHotsyncName(),this.onAfterAdvanceEmulation(e,s)},this.newFrameEvent=new ni.j,this.pwmUpdateEvent=new ni.j,this.emulationStateChangeEvent=new ni.j,this.powerOffChangeEvent=new ni.j,this.deviceId=ie.m515,this.clockEmulator=0,this.scheduler=new dT(e=>this.onSchedule(e)),this.canvas=document.createElement("canvas"),this.canvasTmp=document.createElement("canvas"),this.lastPenUpdate=0,this.penDown=!1,this.running=!1,this.powerOff=!1,this.uiInitialized=!1,this.pendingPwmUpdates=new cH(10),this.lastPwmUpdateEvent=0,this.emulationSpeed=1,this.speedAverage=new hT(20),this.timePerFrameAverage=new hT(60),this.timestampLastFrame=0,this.frameCounter=0,this.isDirty=!1}handlePointerMove(e,t,r){if(!this.handleInput())return;const o=performance.now();if(this.penDown=!0,!(o-this.lastPenUpdate<25)&&this.cloudpilotInstance){if(r){const i=Xf(this.deviceId);e=this.transformSilkscreenX(e,i),t=this.transformSilkscreenY(t,i)}this.cloudpilotInstance.queuePenMove(Math.floor(e),Math.floor(t)),this.lastPenUpdate=o}}handlePointerUp(){this.handleInput()&&(this.cloudpilotInstance&&this.penDown&&this.cloudpilotInstance.queuePenUp(),this.lastPenUpdate=0,this.penDown=!1)}handleButtonDown(e){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonDown(e)}handleButtonUp(e){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonUp(e)}handleKeyDown(e,t=!1){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueKeyboardEvent(e,t)}reset(){this.cloudpilotInstance&&this.cloudpilotInstance.reset()}resetNoExtensions(){this.cloudpilotInstance&&this.cloudpilotInstance.resetNoExtensions()}resetHard(){this.cloudpilotInstance&&this.cloudpilotInstance.resetHard()}isRunning(){return this.running}isPowerOff(){return this.powerOff}isUiInitialized(){return this.uiInitialized}getCanvas(){return this.canvas}getStatistics(){return{hostSpeed:this.speedAverage.calculateAverage(),emulationSpeed:this.emulationSpeed,averageFps:this.calculateFPS()}}getEmulationSpeed(){return this.emulationSpeed}isSuspended(){return!!this.cloudpilotInstance&&this.cloudpilotInstance.isSuspended()}onAfterAdvanceEmulation(e,t){}handleSuspend(){}callScheduler(){this.scheduler.schedule()}handleInput(){return!0}openSession(e,t,r,o,i){let s=!1;return!!e.initializeSession(t,r)&&(o&&(o.length%4!=0?console.warn("memory size is not a multiple of 4; ignoring image"):(s=e.loadMemory(new Uint32Array(o.buffer,o.byteOffset,o.length>>>2)),s||console.warn("failed to load memory"))),s&&i&&e.loadState(i),e.remountCards(),this.cloudpilotInstance&&this.cloudpilotInstance.pwmUpdateEvent.removeHandler(this.onPwmUpdate),e.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.cloudpilotInstance=e,this.deviceId=r,this.resetCanvas(),this.pendingPwmUpdates.flush(),this.lastPwmUpdateEvent=0,this.deviceHotsyncName=void 0,this.emulationSpeed=1,this.frameCounter=0,this.speedAverage.reset(1),this.powerOff=e.isPowerOff(),this.uiInitialized=e.isUiInitialized(),this.frameCounter=0,!0)}resetCanvas(){const e=Xf(this.deviceId);this.canvas.width=this.canvasTmp.width=e.width,this.canvas.height=this.canvasTmp.height=e.height;const t=this.canvas.getContext("2d");if(!t)throw new Error("get a new browser");this.context=t;const r=this.canvasTmp.getContext("2d");if(!r)throw new Error("get a new browser");this.contextTmp=r,this.clearCanvas(),this.imageData=void 0}doResume(){this.cloudpilotInstance&&(this.clockEmulator=performance.now(),this.schedule(),this.setRunning(!0),this.resetFPS())}doPause(){this.stopLoop()}doStop(){this.stopLoop()}stopLoop(){this.running&&(this.scheduler.cancel(),void 0!==this.advanceEmulationHandle&&(window.clearTimeout(this.advanceEmulationHandle),this.advanceEmulationHandle=void 0),this.setRunning(!1))}resetFPS(){this.timePerFrameAverage.reset(),this.timestampLastFrame=performance.now()}calculateFPS(){const e=this.timePerFrameAverage.calculateAverage();return e&&1e3/e}transformSilkscreenX(e,t){return void 0===t.silkscreenOvershoot?e:(e-t.width/2)/(t.width/(t.width+2*t.silkscreenOvershoot))+t.width/2}transformSilkscreenY(e,t){return void 0===t.siklscreenShift?e:e+t.siklscreenShift}setRunning(e){e!==this.running&&(this.running=e,this.emulationStateChangeEvent.dispatch(e))}updateEmulationSpeed(e){if(e>=1&&this.emulationSpeed>=1)return;const t=Math.min(Math.max(Math.floor(10*e)/10,.1),1);this.emulationSpeed=t<=this.emulationSpeed||e-t>=.05?t:this.emulationSpeed}performScreenUpdate(){this.cloudpilotInstance?.isScreenDirty()&&(this.updateScreen(),this.cloudpilotInstance.markScreenClean(),this.frameCounter++)}onSchedule(e){this.hasFatalError()||(this.skipEmulationUpdate()||(this.performScreenUpdate(),this.pendingPwmUpdates.count()>0&&e-this.lastPwmUpdateEvent>10&&(this.pwmUpdateEvent.dispatch(this.pendingPwmUpdates.pop()),this.lastPwmUpdateEvent=e),void 0===this.advanceEmulationHandle&&(this.advanceEmulationHandle=window.setTimeout(()=>{this.advanceEmulationHandle=void 0,this.advanceEmulation(e)},0)),this.timePerFrameAverage.push(Math.max(0,e-this.timestampLastFrame)),this.timestampLastFrame=e),this.schedule())}schedule(){this.scheduler.cancel(),this.getConfiguredSchdedulerKind()!==this.scheduler.getKind()&&(this.scheduler=this.getConfiguredSchdedulerKind()===jl.animationFrame?new dT(e=>this.onSchedule(e)):new oH(e=>this.onSchedule(e))),this.callScheduler()}checkAndUpdateHotsyncName(){if(!this.cloudpilotInstance)return;void 0===this.deviceHotsyncName&&(this.deviceHotsyncName=this.cloudpilotInstance.getHotsyncName());const e=this.getConfiguredHotsyncName();void 0===e?this.updateConfiguredHotsyncName(this.deviceHotsyncName):e!==this.deviceHotsyncName&&e.length<=40&&this.cloudpilotInstance.isSetupComplete()&&(this.cloudpilotInstance.setHotsyncName(e),this.deviceHotsyncName=e)}clearCanvas(){const e=this.deviceId,t=Xf(e);this.context.beginPath(),this.context.rect(0,0,t.width,t.height),this.context.fillStyle=d0(e)?"white":u0[0],this.context.fill()}updateScreen(){if(!this.cloudpilotInstance)return;const e=this.cloudpilotInstance.getFrame();if(this.cloudpilotInstance.isPowerOff())return this.clearCanvas(),void this.newFrameEvent.dispatch(this.canvas);if(!e.hasChanges)return;if(e.lines*e.scaleY===this.canvas.height&&e.lineWidth*e.scaleX===this.canvas.width){(!this.imageData||this.imageData.width!==e.lineWidth||this.imageData.height!==e.lines)&&(this.imageData=new ImageData(e.lineWidth,e.lines));const r=new Uint32Array(this.imageData.data.buffer);switch(e.bpp){case 1:{const o=Hl[15],i=Hl[0];let s=0;for(let a=e.firstDirtyLine;a<=e.lastDirtyLine;a++){const u=a*e.bytesPerLine;for(let f=e.margin;f<e.lineWidth+e.margin;f++)r[s++]=e.buffer[u+(f>>>3)]&128>>>(7&f)?o:i}break}case 2:{const o=this.cloudpilotInstance.getPalette2bitMapping(),i=[Hl[15&o],Hl[o>>>4&15],Hl[o>>>8&15],Hl[o>>>12&15]];let s=0;for(let a=e.firstDirtyLine;a<=e.lastDirtyLine;a++){const u=a*e.bytesPerLine;for(let f=e.margin;f<e.lineWidth+e.margin;f++)r[s++]=i[e.buffer[u+(f>>>2)]>>6-2*(3&f)&3]}break}case 4:{let o=0;for(let i=e.firstDirtyLine;i<=e.lastDirtyLine;i++){const s=i*e.bytesPerLine;for(let a=e.margin;a<e.lineWidth+e.margin;a++)r[o++]=Hl[e.buffer[s+(a>>>1)]>>>4-4*(1&a)&15]}break}case 24:{const o=new Uint32Array(e.buffer.buffer,e.buffer.byteOffset,e.buffer.byteLength>>>2);if(0===e.margin)r.subarray(0,e.lineWidth*(e.lastDirtyLine-e.firstDirtyLine+1)).set(o.subarray(e.firstDirtyLine*e.lineWidth,e.lineWidth*(e.lastDirtyLine+1)));else{let i=0;for(let s=e.firstDirtyLine;s<=e.lastDirtyLine;s++){let a=s*(e.bytesPerLine>>>2)+e.margin;for(let u=0;u<e.lineWidth;u++)r[i++]=o[a++]}}}}}if(!this.imageData)return;const t=1!==e.scaleX||1!==e.scaleY;(t?this.contextTmp:this.context).putImageData(this.imageData,0,e.firstDirtyLine,0,0,e.lineWidth,e.lastDirtyLine-e.firstDirtyLine+1),t&&(this.context.imageSmoothingEnabled=!1,this.context.drawImage(this.canvasTmp,0,e.firstDirtyLine,e.lineWidth,e.lastDirtyLine-e.firstDirtyLine+1,0,e.firstDirtyLine*e.scaleY,e.lineWidth*e.scaleX,(e.lastDirtyLine-e.firstDirtyLine+1)*e.scaleY)),this.newFrameEvent.dispatch(this.canvas)}}class yH{constructor(e,t){this.timeoutRemaining=e,this.cb=t,this.onTimeout=()=>{const r=performance.now();if(this.timeoutRemaining-=r-this.timeoutTimestamp,this.timeoutRemaining>0)return this.timeoutTimestamp=performance.now(),void(this.handle=window.setTimeout(this.onTimeout,this.timeoutTimestamp));this.cb()},this.timeoutTimestamp=performance.now(),this.handle=window.setTimeout(this.onTimeout,e)}increase(e){this.timeoutRemaining+=e}cancel(){clearTimeout(this.handle)}}const bH=new Error("transaction timeout"),yT=new Error("session does not match emulation");class Ta{constructor(e,t,r,o,i){var s=this;this.storageService=e,this.emulationState=t,this.errorService=r,this.storageCardContext=o,this.ngZone=i,this.triggerSnapshot=()=>this.ngZone.runOutsideAngular(()=>this.sessionId<0||this.cloudpilot.isSuspended()?Promise.resolve():this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():(this.snapshotInProgress=!0,this.pendingSnapshotPromise=(0,me.Z)(function*(){try{yield s.triggerSnapshotUnguarded()}finally{s.snapshotInProgress=!1}})(),this.pendingSnapshotPromise)),this.snapshotEvent=new ni.j,this.sessionId=-1,this.consecutiveErrorCount=0,this.snapshotInProgress=!1,this.pendingSnapshotPromise=Promise.resolve(void 0),this.cardPagePool=[]}initialize(e,t){var r=this;return(0,me.Z)(function*(){r.errorService.hasFatalError()||(r.sessionId=e.id,r.dirtyPages=void 0,r.pages=void 0,r.state=void 0,r.db=yield r.storageService.getDb(),r.cloudpilot=t,r.resetCard())})()}resetCard(){this.cardPagePool=[],this.cardDirtyPages=void 0}waitForPendingSnapshot(){return this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():Promise.resolve()}triggerSnapshotUnguarded(){var e=this;return(0,me.Z)(function*(){for(;;)try{return yield e.triggerSnapshotOnce(),void(e.consecutiveErrorCount=0)}catch(t){if(console.error("snapshot error",t),t===yT)throw e.errorService.fatalBug("attempting to snapshot a session that is not currently running"),t;if(t===c0)throw e.errorService.fatalPageLockLost(),t;if(++e.consecutiveErrorCount>3)throw e.errorService.fatalIDBDead(),t}})()}triggerSnapshotOnce(){var e=this;return(0,me.Z)(function*(){const t=e.db.transaction([Vl,Ul,ol,ka,Ts,Yf],"readwrite",{durability:"relaxed"});if(yield e.storageService.acquireLock(t),e.cloudpilot.isSuspended())return;if(e.emulationState.getCurrentSession()?.id!==e.sessionId)throw yT;let r;const o=e.cloudpilot.getMountedKey();o&&(r=yield ur(t.objectStore(Ts).index("storageId").get(o)));const i=yield new Promise((s,a)=>{let u=!1;const f=performance.now();let m=0,_=0,k=0,M=new yH(500,()=>{u=!0;try{t.abort()}catch{}a(bH)});t.oncomplete=(0,me.Z)(function*(){M.cancel(),e.dirtyPages?.fill(0),e.cardDirtyPages?.fill(0),s({timestamp:Date.now(),pages:k,timeBlocking:_-m,timeTotal:performance.now()-f})}),t.onerror=()=>{M.cancel(),a(new Error(t.error?.message))};try{m=performance.now(),k=e.saveDirtyMemory(t,M),r&&(k+=e.saveDirtyStorage(r,t,M)),e.saveSession(t),_=performance.now()}catch(Q){throw u||(M.cancel(),t.abort()),Q}});e.snapshotEvent.dispatch(i)})()}saveDirtyMemory(e,t){let r=0;const o=e.objectStore(Vl),i=e.objectStore(Ul),s=this.cloudpilot.getDirtyPages(),a=this.cloudpilot.getMemory32();let u=0;if(!this.dirtyPages||!this.pages){const m=a.length>>>8;this.dirtyPages=new Uint8Array(s.length),this.pages=new Array(m);for(let _=0;_<m;_++)this.pages[_]=new Uint32Array(256)}i.put({sessionId:this.sessionId,totalSize:a.length<<2});for(let m=0;m<s.length;m++)if(this.dirtyPages[m]|=s[m],s[m]=0,0!==this.dirtyPages[m])for(let _=1;_<256&&!(r>=this.pages.length);_<<=1){if(this.dirtyPages[m]&_){const k=tT(a.subarray(256*r,256*(r+1)));"number"==typeof k?o.put(k,[this.sessionId,r]):(this.pages[r].set(k),o.put(this.pages[r],[this.sessionId,r])),t.increase(.5),u++}r++}else r+=8;return u}saveDirtyStorage(e,t,r){const o=this.cloudpilot.getCardDirtyPages(e.storageId),i=this.cloudpilot.getCardData(e.storageId);if(!i)return console.log(`seems ${e.name} was unmounted`),0;if(this.storageCardContext.assertOwnership(e.id,zr.cloudpilot),!o)throw new Error(`failed to retrieve dirty pages for card ${e.name}`);if(i.length!==e.size>>>2)throw new Error("card size mismatch");if(this.cardDirtyPages||(this.cardDirtyPages=new Uint8Array(o.length)),this.cardDirtyPages.length!==o.length)throw new Error("card size has changed without notification");let s=0,a=0,u=0;const f=t.objectStore(ka),m=(i.length>>11)+(i.length%2048>0?1:0);for(let _=0;_<o.length;_++)if(this.cardDirtyPages[_]|=o[_],o[_]=0,0!==this.cardDirtyPages[_])for(let k=1;k<256&&!(s>=m);k<<=1){if(this.cardDirtyPages[_]&k){a>=this.cardPagePool.length&&this.cardPagePool.push(new Uint32Array(2048));const M=this.cardPagePool[a++];M.set(i.subarray(2048*s,2048*(s+1))),f.put(M,[e.id,s]),r.increase(4),u++}s++}else s+=8;return 8*u}saveSession(e){const t=e.objectStore(ol);if(this.cloudpilot.saveState()){const r=this.cloudpilot.getSavestate();this.state||(this.state=new Uint8Array(r.length)),this.state.set(r),t.put(this.state,this.sessionId)}else console.log("save state failed"),t.delete(this.sessionId)}}function wH(n,e){1&n&&(se(0,"p",11),qe(1," ERROR: URL must be served via HTTPS. "),te())}function CH(n){if(!n.value)return{url:"URL empty"};let e;try{e=new(Du())(n.value)}catch{return{url:"URL invalid"}}return"https:"===location.protocol&&"https:"!==e.protocol?{url:"mixed content"}:null}Ta.\u0275fac=function(e){return new(e||Ta)(ee(Qn),ee(ds),ee(Ls),ee(Ia),ee(ut))},Ta.\u0275prov=ht({token:Ta,factory:Ta.\u0275fac,providedIn:"root"});class Qf{constructor(){this.onContinue=()=>{},this.onCancel=()=>{}}ngOnInit(){this.createFormGroup()}formKeyDown(e){"Enter"===e.key&&this.continue()}continue(){this.onContinue(new(Du())(this.formGroup.get("url")?.value).toString())}get isMixedContent(){const e=this.formGroup.get("url")?.value;if(!e)return!1;try{const t=new(Du())(e);return"https:"===location.protocol&&"https:"!==t.protocol}catch{}return!1}createFormGroup(){this.formGroup=new Zh({url:new ri("",CH)})}}function Vm(n){const e=new Date;return`${n}_${e.getFullYear()}${(e.getMonth()+1).toString().padStart(2,"0")}${e.getDate().toString().padStart(2,"0")}-${e.getHours().toString().padStart(2,"0")}${e.getMinutes().toString().padStart(2,"0")}${e.getSeconds().toString().padStart(2,"0")}`}function _T(n){return`${Vm(n.name)}.bin`}function vT(n,e){return`backup_${Vm(n.name)}${e?"_with_rom":""}.zip`}function f0(n,e=3){return 0===n.length?"":1===n.length?n[0]:`${n.slice(0,n.length>e?e:n.length-1).join(", ")} and ${n.length>e?n.length-e+" more files":n[n.length-1]}`}function bT(n){const{name:e,hotsyncName:t,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}=n;return{name:e,hotsyncName:t,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}}Qf.\u0275fac=function(e){return new(e||Qf)},Qf.\u0275cmp=d({type:Qf,selectors:[["app-remote-url-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel"},decls:21,vars:3,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter URL","formControlName","url"],["class","error",4,"ngIf"],[1,"error"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"Enter download URL"),te(),se(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return t.continue()}),qe(6,"OK"),te()(),se(7,"ion-buttons",3)(8,"ion-button",4),lt("click",function(){return t.onCancel()}),qe(9,"Cancel"),te()()()(),se(10,"ion-content",5)(11,"form",6),lt("keydown",function(o){return t.formKeyDown(o)}),se(12,"p"),qe(13," Please enter the URL from which to download: "),te(),se(14,"ion-item",7)(15,"ion-label",8),qe(16,"URL"),te(),ct(17,"ion-input",9),te(),sn(18,wH,2,0,"p",10),se(19,"p"),qe(20," Note that the remote server needs to support the CORS protocol. "),te()()()),2&e&&(et(5),ot("disabled",t.formGroup.invalid),et(6),ot("formGroup",t.formGroup),et(7),ot("ngIf",t.isMixedContent))},dependencies:[ti,os,is,ss,as,Fl,ii,ls,cs,us,Pl,xl,Ml,Al,ba,Qa],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}.error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]});class Jf{constructor(e){this.kvs=e,this.onContinue=()=>{},this.onCancel=()=>{},this.origin=""}ngOnInit(){this.createFormGroup()}formKeyDown(e){"Enter"===e.key&&this.saveAndContinue()}saveAndContinue(){this.kvs.kvs.credentials={...this.kvs.kvs.credentials,[this.origin]:{username:this.formGroup.get("username")?.value??"",password:this.formGroup.get("password")?.value??""}},this.onContinue()}createFormGroup(){const e=this.kvs.kvs.credentials[this.origin];this.formGroup=new Zh({username:new ri(e?.username??""),password:new ri(e?.password??"")})}}Jf.\u0275fac=function(e){return new(e||Jf)(C(Zo))},Jf.\u0275cmp=d({type:Jf,selectors:[["app-credentials-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel",origin:"origin"},decls:22,vars:1,consts:[["translucent",""],["slot","primary"],[3,"click"],["slot","secondary"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter username","formControlName","username"],["placeholder","Enter password","formControlName","password","type","password"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"Authenticate"),te(),se(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return t.saveAndContinue()}),qe(6,"OK"),te()(),se(7,"ion-buttons",3)(8,"ion-button",2),lt("click",function(){return t.onCancel()}),qe(9,"Cancel"),te()()()(),se(10,"ion-content",4)(11,"form",5),lt("keydown",function(o){return t.formKeyDown(o)}),se(12,"p"),qe(13," The server requires authentication. "),te(),se(14,"ion-item",6)(15,"ion-label",7),qe(16,"Username"),te(),ct(17,"ion-input",8),te(),se(18,"ion-item",6)(19,"ion-label",7),qe(20,"Password"),te(),ct(21,"ion-input",9),te()()()),2&e&&(et(11),ot("formGroup",t.formGroup))},dependencies:[os,is,ss,as,Fl,ii,ls,cs,us,Pl,xl,Ml,Al,ba,Qa],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}"]});class Mc{constructor(e,t,r){this.loadingController=e,this.kvsService=t,this.modalController=r}fetch(e,t){var r=this;return(0,me.Z)(function*(){let o=t?.loaderDelay;const i=void 0===t?.timeout?5e3:t?.timeout,s=new(Du())("string"==typeof e?e:e.url);let a,u,f=!1;for(;;)try{void 0!==o&&o>=0&&!a&&(a=yield r.loadingController.create({message:"Loading..."}),u=window.setTimeout(()=>a.present(),o));const m=r.kvsService.kvs.credentials[s.origin],_=new AbortController,k=window.setTimeout(()=>_.abort(),i),M=yield fetch(e,{...r.requestInit(t),signal:_.signal,headers:{...t?.headers||{},...f&&m?{Authorization:"Basic "+btoa(`${m.username}:${m.password}`)}:{}}});if(clearTimeout(k),401===M.status){if(!f&&m){f=!0;continue}if(a&&(a.dismiss(),clearTimeout(u),o=0,a=void 0),f=!0,yield r.authenticate(s.origin))continue}return M}finally{a&&(yield a.dismiss()),clearTimeout(u)}})()}requestInit(e){if(!e)return;const{timeout:t,loaderDelay:r,...o}=e;return o}authenticate(e){var t=this;return(0,me.Z)(function*(){const r=yield new Promise(o=>t.modalController.create({component:Jf,backdropDismiss:!1,componentProps:{origin:e,onContinue:()=>o(!0),onCancel:()=>o(!1)}}).then(i=>i.present()));return t.modalController.dismiss(),r})()}}Mc.\u0275fac=function(e){return new(e||Mc)(ee(Ol),ee(Zo),ee(ks))},Mc.\u0275prov=ht({token:Mc,factory:Mc.\u0275fac,providedIn:"root"});var DH=x(3272),IH=x.n(DH);function p0(n){const e=(n>>>13)+(n%8192>0?1:0);return(e>>>3)+(e%8>0?1:0)}const wT=[ie.palmPilot,ie.pilot,ie.iii,ie.palmVx,ie.palmV,ie.palmVII,ie.palmVIIEZ,ie.palmVIIx,ie.iiixe,ie.iiix,ie.iiie,ie.m500,ie.m505,ie.m515,ie.m520,ie.iiic,ie.m100,ie.m105,ie.m125,ie.m130,ie.i705,ie.i710,ie.handera330,ie.handera330c,ie.pegS300,ie.pegS320,ie.pegS500c,ie.pegT400,ie.pegN600c,ie.pegT600c,ie.pegN700c,ie.pegT650c,ie.pegNR70,ie.acerS11];function on(){return(n,e,t)=>{const r=t.value;return t.value=function(o,i){return this.guard(()=>r.call(this,o,i))},t}}class Wt{constructor(e){this.module=e,this.fatalErrorEvent=new ni.j,this.pwmUpdateEvent=new ni.j,this.proxyDisconnectEvent=new ni.j,this.amIdead=!1,this.cloudpilot=new e.Cloudpilot,this.cloudpilot.RegisterPwmHandler(e.addFunction((t,r)=>this.pwmUpdateEvent.dispatch({frequency:t,dutyCycle:r}),"vdd")),this.cloudpilot.RegisterProxyDisconnectHandler(e.addFunction(t=>this.proxyDisconnectEvent.dispatch(e.UTF8ToString(t)),"vi"))}static create(e){return(0,me.Z)(function*(){return new Wt(yield IH()({print:t=>console.log(t),printErr:t=>console.error(t),...void 0!==e?{locateFile:()=>e}:{}}))})()}destroy(){this.module.destroy(this.cloudpilot)}hasFatalError(){return this.amIdead}getRomInfo(e){const t=this.copyIn(e),r=new this.module.RomInfo(t,e.length);let o;return r.IsValid()&&(o={cardVersion:r.CardVersion(),cardName:r.CardName(),romVersion:r.RomVersion(),romVersionString:r.RomVersionString(),supportedDevices:wT.filter(r.Supports.bind(r))}),this.cloudpilot.Free(t),this.module.destroy(r),o}initializeSession(e,t){const r=this.copyIn(e),o=this.cloudpilot.InitializeSession(r,e.length,t);return this.cloudpilot.Free(r),o}cyclesPerSecond(){return this.cloudpilot.GetCyclesPerSecond()}runEmulation(e){return this.cloudpilot.RunEmulation(e)}getFrame(){const e=this.cloudpilot.CopyFrame(),t=this.module.getPointer(e.GetBuffer());return{bpp:e.GetBpp(),bytesPerLine:e.GetBytesPerLine(),lines:e.GetLines(),lineWidth:e.GetLineWidth(),margin:e.GetMargin(),firstDirtyLine:e.GetFirstDirtyLine(),lastDirtyLine:e.GetLastDirtyLine(),hasChanges:e.GetHasChanges(),scaleX:e.GetScaleX(),scaleY:e.GetScaleY(),buffer:this.module.HEAPU8.subarray(t,t+e.GetBufferSize())}}isScreenDirty(){return this.cloudpilot.IsScreenDirty()}markScreenClean(){this.cloudpilot.MarkScreenClean()}minRamForDevice(e){return 1024*this.cloudpilot.MinMemoryForDevice(e)}framebufferSizeForDevice(e){return 1024*this.cloudpilot.FramebufferSizeForDevice(e)}totalMemorySizeForDevice(e){return 1024*this.cloudpilot.TotalMemoryForDevice(e)}queuePenMove(e,t){this.cloudpilot.QueuePenMove(e,t)}queuePenUp(){this.cloudpilot.QueuePenUp()}queueButtonDown(e){this.cloudpilot.QueueButtonDown(e)}queueButtonUp(e){this.cloudpilot.QueueButtonUp(e)}queueKeyboardEvent(e,t){this.cloudpilot.QueueKeyboardEvent(e,t)}isPowerOff(){return!!this.cloudpilot.IsPowerOff()}isUiInitialized(){return!!this.cloudpilot.IsUIInitialized()}isSetupComplete(){return!!this.cloudpilot.IsSetupComplete()}getOSVersion(){return this.cloudpilot.GetOSVersion()}reset(){this.cloudpilot.Reset()}resetNoExtensions(){this.cloudpilot.ResetNoExtensions()}resetHard(){this.cloudpilot.ResetHard()}installDb(e){const t=this.copyIn(e),r=this.cloudpilot.InstallDb(t,e.length);return this.cloudpilot.Free(t),r}getPalette2bitMapping(){return this.cloudpilot.GetPalette2bitMapping()}getMemory(){const e=this.module.getPointer(this.cloudpilot.GetMemoryPtr());return this.module.HEAPU8.subarray(e,e+this.cloudpilot.GetMemorySize())}getMemory32(){let e=this.module.getPointer(this.cloudpilot.GetMemoryPtr());if(3&e)throw new Error("unaligned pointer");return e>>>=2,this.module.HEAPU32.subarray(e,e+(this.cloudpilot.GetMemorySize()>>>2))}getDirtyPages(){const e=this.module.getPointer(this.cloudpilot.GetDirtyPagesPtr()),t=this.cloudpilot.GetMemorySize();return this.module.HEAPU8.subarray(e,e+((t>>>13)+(t%8192==0?0:1)))}loadMemory(e){const t=this.getMemory32();if((()=>{if(e.length!==t.length||e.length<256)return!1;for(let o=256;o>0;o--){if(e[e.length-o]!==t[t.length-o])return!1;if(4294967295===t[t.length-o])break}return!0})())return t.set(e),!0;{const o=this.copyIn32(e),i=this.cloudpilot.ImportMemoryImage(o,e.length<<2);return this.cloudpilot.Free(o),i}}getRomImage(){const e=this.module.getPointer(this.cloudpilot.GetRomPtr());return this.module.HEAPU8.subarray(e,e+this.cloudpilot.GetRomSize())}getSavestate(){const e=this.module.getPointer(this.cloudpilot.GetSavestatePtr());return this.module.HEAPU8.subarray(e,e+this.cloudpilot.GetSavestateSize())}saveState(){return!!this.cloudpilot.SaveState()}loadState(e){const t=this.copyIn(e),r=this.cloudpilot.LoadState(t,e.length);return this.cloudpilot.Free(t),r}getHotsyncName(){return this.cloudpilot.GetHotsyncName()}setClockFactor(e){this.cloudpilot.SetClockFactor(e)}setHotsyncName(e){this.cloudpilot.SetHotsyncName(e)}backup(e){var t=this;return(0,me.Z)(function*(){const r=t.guard(()=>t.cloudpilot.StartBackup());try{return yield e(t.wrap(r))}finally{t.module.destroy(r)}})()}getArchive(e){const t=e.GetArchiveSize();return this.copyOut(e.GetArchivePtr(),t)}setClipboardIntegration(e){this.cloudpilot.SetClipboardIntegration(e)}getClipboardIntegration(){return this.cloudpilot.GetClipboardIntegration()}isSuspended(){return this.cloudpilot.IsSuspended()}getSuspendKind(){return this.cloudpilot.GetSuspendContext().GetKind()}cancelSuspend(){this.cloudpilot.GetSuspendContext().Cancel()}getSuspendContextClipboardCopy(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardCopy())}getSuspendContextClipboardPaste(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardPaste())}setNetworkRedirection(e){this.cloudpilot.SetNetworkRedirection(e)}getNetworkRedirection(){return this.cloudpilot.GetNetworkRedirection()}getSuspendContextNetworkConnect(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkConnect())}getSuspendContextNetworkRpc(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkRpc())}copyBuffer(e){return this.copyIn(e)}freeBuffer(e){this.cloudpilot.Free(e)}setHotsyncNameManagement(e){this.cloudpilot.SetHotsyncNameManagement(e)}resolveBuffer(e,t){const r=this.module.getPointer(e);return this.module.HEAPU8.subarray(r,r+t)}withZipfileWalker(e,t){var r=this;return(0,me.Z)(function*(){const o=r.guard(()=>{const i=r.copyIn(e),s=new r.module.ZipfileWalker(e.length,i);return r.cloudpilot.Free(i),s});try{return yield t(r.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>r.copyOut(o.GetCurrentEntryContent(),o.GetCurrentEntrySize())},o)))}finally{r.module.destroy(o)}})()}withZipfileWalkerSync(e,t){const r=this.guard(()=>{const o=this.copyIn(e),i=new this.module.ZipfileWalker(e.length,o);return this.cloudpilot.Free(o),i});try{return t(this.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>this.copyOut(r.GetCurrentEntryContent(),r.GetCurrentEntrySize())},r)))}finally{this.module.destroy(r)}}serializeSessionImage(e){const t=new this.module.SessionImage,r=this.cloudpilot.Nullptr(),o=this.copyIn(e.rom),i=e.memory?this.copyIn(e.memory):r,s=void 0!==e.savestate?this.copyIn(e.savestate):r;let a=r,u=0;if(void 0!==e.metadata){const m=(new TextEncoder).encode(JSON.stringify(e.metadata));u=m.length,a=this.copyIn(m)}t.SetRomImage(o,e.rom.length),t.SetMemoryImage(i,e.memory?.length||0),t.SetDeviceId(e.deviceId),t.SetSavestate(s,e.savestate?.length||0),t.SetMetadata(a,u);const f=t.Serialize()?this.copyOut(t.GetSerializedImage(),t.GetSerializedImageSize()):void 0;return this.module.destroy(t),[o,i,s,a].forEach(m=>this.cloudpilot.Free(m)),f}deserializeSessionImage(e){const t=new this.module.SessionImage,r=this.copyIn(e),o=(()=>{if(!t.Deserialize(r,e.length))return;const i=this.copyOut(t.GetRomImage(),t.GetRomImageSize()),s=this.copyOut(t.GetMemoryImage(),t.GetMemoryImageSize()),a=this.copyOut(t.GetSavestate(),t.GetSavestateSize()),u=t.GetDeviceId();if(!wT.includes(u))return void console.warn(`unsupported device ${u}`);let f;const m=this.copyOut(t.GetMetadata(),t.GetMetadataSize());if(m)try{f=JSON.parse((new TextDecoder).decode(m))}catch(_){console.warn("invalid metadata",_)}return{deviceId:u,rom:i,memory:s,savestate:a,metadata:f,version:t.GetVersion()}})();return this.module.destroy(t),this.cloudpilot.Free(r),o}launchAppByName(e){return this.cloudpilot.LaunchAppByName(e)}launchAppByDbHeader(e){if(e.length<32)return!1;const t=this.copyIn(e.subarray(0,32)),r=this.cloudpilot.LaunchAppByDbHeader(t,32);return this.cloudpilot.Free(t),r}deviceSupportsCardSize(e){return this.cloudpilot.DeviceSupportsCardSize(e)}clearExternalStorage(){this.cloudpilot.ClearExternalStorage()}allocateCard(e,t){return this.cloudpilot.AllocateCard(e,t>>>9)}getCardData(e){const t=this.module.getPointer(this.cloudpilot.GetCardData(e));if(0!==t)return this.module.HEAPU32.subarray(t>>>2,t+this.cloudpilot.GetCardSize(e)>>2)}getCardDirtyPages(e){const t=this.module.getPointer(this.cloudpilot.GetCardDirtyPages(e));if(0===t)return;const r=p0(this.cloudpilot.GetCardSize(e));return this.module.HEAPU8.subarray(t,t+r)}getMountedKey(){return this.cloudpilot.GetMountedKey()}mountCard(e){return this.cloudpilot.MountCard(e)}removeCard(e){return this.cloudpilot.RemoveCard(e)}remountCards(){this.cloudpilot.RemountCards()}getCardSupportLevel(e){return this.cloudpilot.GetSupportLevel(e)}copyIn(e){const t=this.cloudpilot.Malloc(e.length),r=this.module.getPointer(t);return this.module.HEAP8.subarray(r,r+e.length).set(e),t}copyIn32(e){const t=this.cloudpilot.Malloc(e.length<<2),r=this.module.getPointer(t);return this.module.HEAP32.subarray(r>>>2,(r>>>2)+e.length).set(e),t}copyOut(e,t){const r=this.module.getPointer(e);return r>0&&t>0?this.module.HEAPU8.subarray(r,r+t).slice():void 0}wrap(e){return new Proxy(e,{get:(t,r)=>{const o=t[r];return"function"!=typeof o?o:(...i)=>this.guard(()=>o.apply(t,i))}})}guard(e){if(this.amIdead)throw new Error("cloudpilot instance is dead");try{return e()}catch(t){throw this.amIdead=!0,this.cloudpilot=void 0,this.fatalErrorEvent.dispatch(t instanceof Error?t:new Error("unknown error")),t}}}Z([on()],Wt.prototype,"getRomInfo",null),Z([on()],Wt.prototype,"initializeSession",null),Z([on()],Wt.prototype,"cyclesPerSecond",null),Z([on()],Wt.prototype,"runEmulation",null),Z([on()],Wt.prototype,"getFrame",null),Z([on()],Wt.prototype,"isScreenDirty",null),Z([on()],Wt.prototype,"markScreenClean",null),Z([on()],Wt.prototype,"minRamForDevice",null),Z([on()],Wt.prototype,"framebufferSizeForDevice",null),Z([on()],Wt.prototype,"totalMemorySizeForDevice",null),Z([on()],Wt.prototype,"queuePenMove",null),Z([on()],Wt.prototype,"queuePenUp",null),Z([on()],Wt.prototype,"queueButtonDown",null),Z([on()],Wt.prototype,"queueButtonUp",null),Z([on()],Wt.prototype,"queueKeyboardEvent",null),Z([on()],Wt.prototype,"isPowerOff",null),Z([on()],Wt.prototype,"isUiInitialized",null),Z([on()],Wt.prototype,"isSetupComplete",null),Z([on()],Wt.prototype,"getOSVersion",null),Z([on()],Wt.prototype,"reset",null),Z([on()],Wt.prototype,"resetNoExtensions",null),Z([on()],Wt.prototype,"resetHard",null),Z([on()],Wt.prototype,"installDb",null),Z([on()],Wt.prototype,"getPalette2bitMapping",null),Z([on()],Wt.prototype,"getMemory",null),Z([on()],Wt.prototype,"getMemory32",null),Z([on()],Wt.prototype,"getDirtyPages",null),Z([on()],Wt.prototype,"loadMemory",null),Z([on()],Wt.prototype,"getRomImage",null),Z([on()],Wt.prototype,"getSavestate",null),Z([on()],Wt.prototype,"saveState",null),Z([on()],Wt.prototype,"loadState",null),Z([on()],Wt.prototype,"getHotsyncName",null),Z([on()],Wt.prototype,"setClockFactor",null),Z([on()],Wt.prototype,"setHotsyncName",null),Z([on()],Wt.prototype,"setClipboardIntegration",null),Z([on()],Wt.prototype,"getClipboardIntegration",null),Z([on()],Wt.prototype,"isSuspended",null),Z([on()],Wt.prototype,"getSuspendKind",null),Z([on()],Wt.prototype,"cancelSuspend",null),Z([on()],Wt.prototype,"getSuspendContextClipboardCopy",null),Z([on()],Wt.prototype,"getSuspendContextClipboardPaste",null),Z([on()],Wt.prototype,"setNetworkRedirection",null),Z([on()],Wt.prototype,"getNetworkRedirection",null),Z([on()],Wt.prototype,"getSuspendContextNetworkConnect",null),Z([on()],Wt.prototype,"getSuspendContextNetworkRpc",null),Z([on()],Wt.prototype,"copyBuffer",null),Z([on()],Wt.prototype,"freeBuffer",null),Z([on()],Wt.prototype,"setHotsyncNameManagement",null),Z([on()],Wt.prototype,"resolveBuffer",null),Z([on()],Wt.prototype,"serializeSessionImage",null),Z([on()],Wt.prototype,"deserializeSessionImage",null),Z([on()],Wt.prototype,"launchAppByName",null),Z([on()],Wt.prototype,"launchAppByDbHeader",null),Z([on()],Wt.prototype,"deviceSupportsCardSize",null),Z([on()],Wt.prototype,"clearExternalStorage",null),Z([on()],Wt.prototype,"allocateCard",null),Z([on()],Wt.prototype,"getCardData",null),Z([on()],Wt.prototype,"getCardDirtyPages",null),Z([on()],Wt.prototype,"getMountedKey",null),Z([on()],Wt.prototype,"mountCard",null),Z([on()],Wt.prototype,"removeCard",null),Z([on()],Wt.prototype,"remountCards",null),Z([on()],Wt.prototype,"getCardSupportLevel",null);class Ui{constructor(){this.cloudpilot=Wt.create()}}Ui.\u0275fac=function(e){return new(e||Ui)},Ui.\u0275prov=ht({token:Ui,factory:Ui.\u0275fac,providedIn:"root"});class $s{constructor(e,t,r,o,i,s,a,u){this.storageService=e,this.loadingController=t,this.actionSheetController=r,this.kvsService=o,this.modalController=i,this.alertService=s,this.fetchService=a,this.cloudpilotService=u}openFile(e){this.openFilesImpl(!1,t=>{t.length>0&&e(t[0])})}openFiles(e){this.openFilesImpl(!0,e)}openFromDrop(e,t){if("drop"!==e.type||!e.dataTransfer?.files)return;const r=Array.from(e.dataTransfer.files).map(this.readFile.bind(this));Promise.all(r).then(o=>o.filter(i=>!!i)).then(o=>o.length>0&&t(o))}saveSession(e){var t=this;return(0,me.Z)(function*(){const r=yield t.loadingController.create({message:"Exporting..."});yield r.present();try{const[o,i,s]=yield t.storageService.loadSession(e);if(!o)throw new Error(`invalid ROM ${e.rom}`);const a={deviceId:e.device,metadata:bT(e),rom:o,memory:i,savestate:s},u=(yield t.cloudpilotService.cloudpilot).serializeSessionImage(a);u?t.saveFile(_T(e),u):(yield r.dismiss(),t.alertService.errorMessage("Failed to save session."))}finally{r.dismiss()}})()}emergencySaveSession(e,t){var r=this;return(0,me.Z)(function*(){const o=yield r.loadingController.create({message:"Exporting..."});o.style.zIndex="10000000",yield o.present();try{const i=t.getRomImage().slice(),s=t.getMemory().slice(),a=t.saveState()?t.getSavestate().slice():void 0;if(t.framebufferSizeForDevice(e.device)<0)throw new Error(`invalid device ID ${e.device}`);const f={deviceId:e.device,metadata:bT(e),rom:i,memory:s,savestate:a},m=(yield r.cloudpilotService.cloudpilot).serializeSessionImage(f);m&&r.saveFile(_T(e),m)}finally{o.dismiss()}})()}saveFile(e,t){const r=new Blob([t],{type:"application/octet-stream"}),o=URL.createObjectURL(r),i=document.createElement("a");i.href=o,i.download=e,i.click()}openUrl(e,t){var r=this;return(0,me.Z)(function*(){let o;try{o=new(Du())(e)}catch{return void(yield r.alertService.errorMessage(`Invalid URL: ${e}`))}try{const i=yield r.fetchService.fetch(e);if(!i.ok)throw new Error("request failed");return void t({name:o.pathname.replace(/.*\//,""),content:new Uint8Array(yield i.arrayBuffer())})}catch{yield r.alertService.errorMessage(`Download from ${e} failed.`)}})()}openFilesImpl(e,t){var r=this;return(0,me.Z)(function*(){r.kvsService.kvs.enableRemoteInstall?(yield r.actionSheetController.create({header:"What source do you want to open?",buttons:[{text:"Local files",handler:()=>r.openFilesLocal(e,t)},{text:"File on remote server",handler:()=>r.queryAndOpenFileRemote(t)},{text:"Cancel"}]})).present():r.openFilesLocal(e,t)})()}queryAndOpenFileRemote(e){var t=this;return(0,me.Z)(function*(){let r;try{r=yield new Promise((o,i)=>t.modalController.create({component:Qf,backdropDismiss:!1,componentProps:{onContinue:o,onCancel:i}}).then(s=>s.present()))}catch{return}finally{t.modalController.dismiss()}yield t.openUrl(r,o=>e([o]))})()}openFilesLocal(e,t){var r=this;this.input&&document.body.removeChild(this.input),this.input=document.createElement("input"),this.input.style.display="none",this.input.multiple=e,this.input.type="file",this.input.addEventListener("change",function(){var o=(0,me.Z)(function*(i){const s=i.target;if(!s?.files)return;const a=Array.from(s.files).map(r.readFile.bind(r));Promise.all(a).then(u=>u.filter(f=>!!f)).then(u=>u.length>0&&t(u))});return function(i){return o.apply(this,arguments)}}()),document.body.appendChild(this.input),this.input.click()}readFile(e){return new Promise(t=>{const r=new FileReader;r.onload=()=>t({content:new Uint8Array(r.result),name:e.name}),r.onerror=()=>{console.warn(r.error),t(void 0)},r.readAsArrayBuffer(e)})}}$s.\u0275fac=function(e){return new(e||$s)(ee(Qn),ee(Ol),ee(Zf),ee(Zo),ee(ks),ee(Hr),ee(Mc),ee(Ui))},$s.\u0275prov=ht({token:$s,factory:$s.\u0275fac,providedIn:"root"});class Gl{constructor(e){this.zone=e,this.modalVisibilityChangeEvent=new ni.j,this.modalActive=!1,this.update(),this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}isModalActive(){return this.modalActive}update(){const e=document.querySelectorAll("ion-alert, ion-modal").length>0;e!==this.modalActive&&this.zone.run(()=>{this.modalActive=e,this.modalVisibilityChangeEvent.dispatch(e)})}}Gl.\u0275fac=function(e){return new(e||Gl)(ee(ut))},Gl.\u0275prov=ht({token:Gl,factory:Gl.\u0275fac,providedIn:"root"});const Um=new Error("permission denied");class Ac{constructor(e,t){this.alertController=e,this.alertService=t,this.clipboardContent="",this.lastClipboardReadAt=performance.now()}isSupported(){return!!navigator.clipboard?.readText&&!!navigator.clipboard?.writeText}handleSuspend(e){if(e.isSuspended())switch(e.getSuspendKind()){case 1:this.handleCopy(e);break;case 2:this.handlePaste(e)}}handleCopy(e){var t=this;return(0,me.Z)(function*(){const r=e.getSuspendContextClipboardCopy(),o=r.GetClipboardContent();try{return yield t.tryCopyDirect(o),void r.Resume()}catch(i){if(i===Um)return r.Cancel(),t.msgPermissionDenied()}try{yield t.tryCopyWithInteraction(o),r.Resume()}catch{yield t.msgCopyFailed(),r.Cancel()}})()}tryCopyDirect(e){var t=this;return(0,me.Z)(function*(){try{yield navigator.clipboard.writeText(e)}catch(r){throw(yield t.isPermissionDenied("clipboard-write"))?Um:r}})()}tryCopyWithInteraction(e){var t=this;return new Promise(function(){var r=(0,me.Z)(function*(o,i){try{const s=yield t.alertController.create({header:"Confirm Copy",message:"Please confirm that you want to copy to the host clipboard",backdropDismiss:!1,buttons:[{text:"Copy",handler:(a=(0,me.Z)(function*(){s.dismiss();try{yield navigator.clipboard.writeText(e),o(!0)}catch(u){i(u)}}),function(){return a.apply(this,arguments)})},{text:"Cancel",handler:()=>{s.dismiss(),o(!1)}}]});s.present()}catch(s){i(s)}var a});return function(o,i){return r.apply(this,arguments)}}())}handlePaste(e){var t=this;return(0,me.Z)(function*(){const r=yield t.tryPaste();e.getSuspendContextClipboardPaste().Resume(r??""),void 0!==r&&(t.clipboardContent=r,t.lastClipboardReadAt=performance.now())})()}tryPaste(){var e=this;return(0,me.Z)(function*(){if(performance.now()-e.lastClipboardReadAt<3e3)return e.clipboardContent;try{return yield e.tryPasteDirect()}catch(t){if(t===Um)return void(yield e.msgPermissionDenied())}try{return yield e.tryPasteWithInteraction()}catch{return void(yield e.msgPasteFailed())}})()}tryPasteDirect(){var e=this;return(0,me.Z)(function*(){try{return yield navigator.clipboard.readText()}catch(t){throw(yield e.isPermissionDenied("clipboard-read"))?Um:t}})()}tryPasteWithInteraction(){var e=this;return new Promise(function(){var t=(0,me.Z)(function*(r,o){try{const i=yield e.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard",backdropDismiss:!1,buttons:[{text:"Paste",handler:(s=(0,me.Z)(function*(){i.dismiss();try{r(yield navigator.clipboard.readText())}catch(a){o(a)}}),function(){return s.apply(this,arguments)})},{text:"Cancel",handler:()=>{i.dismiss(),r(void 0)}}]});i.present()}catch(i){o(i)}var s});return function(r,o){return t.apply(this,arguments)}}())}handlePasteSafari(e){var t=this;return(0,me.Z)(function*(){const r=yield t.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard.",backdropDismiss:!1,buttons:[{text:"Paste",handler:(o=(0,me.Z)(function*(){try{t.clipboardContent=yield navigator.clipboard.readText(),t.lastClipboardReadAt=performance.now(),r.dismiss(),e.Resume(t.clipboardContent)}catch{r.dismiss(),yield t.alertService.errorMessage("Paste from host clipboard failed."),e.Resume("")}}),function(){return o.apply(this,arguments)})},{text:"Cancel",handler:()=>{r.dismiss(),e.Resume("")}}]});var o;yield r.present()})()}isPermissionDenied(e){return(0,me.Z)(function*(){if(navigator.permissions)try{return"denied"===(yield navigator.permissions.query({name:e}))?.state}catch{return!1}return!1})()}msgPermissionDenied(){return this.alertService.errorMessage(`\n        CloudpilotEmu has no permission to access the clipboard. Please check your browser's settings\n        and grant the necessary permission to ${location.origin} .\n    `)}msgCopyFailed(){return this.alertService.errorMessage("Failed to copy to the host clipboard.")}msgPasteFailed(){return this.alertService.errorMessage("Failed to paste from the host clipboard.")}}Ac.\u0275fac=function(e){return new(e||Ac)(ee(zu),ee(Hr))},Ac.\u0275prov=ht({token:Ac,factory:Ac.\u0275fac,providedIn:"root"});const TH="https:"===window.location.protocol?8667:8666,MH=/^[\da-z\-\.]+$/i,AH=/^[\da-z\-\.]+:\d+$/i;function h0(n){if(!n)return;const e=window.location.protocol;if(n.match(MH))return`${e}//${n}:${TH}`;if(n.match(AH))return`${e}//${n}`;try{const t=new URL(n);if("https:"===t.protocol||"http:"===t.protocol)return t.toString().replace(/\/+$/,"")}catch{}}function xH(n){return void 0!==h0(n.value)?null:{proxyAddress:"invalid"}}class Wl{constructor(e,t,r,o){var i=this;this.kvsService=e,this.alertService=t,this.ngZone=r,this.fetchService=o,this.handleConnect=()=>this.mutex.runExclusive((0,me.Z)(function*(){i.socket&&i.disconnect(i.socket);const s=h0(i.kvsService.kvs.proxyServer);if(!s)return yield i.alertService.errorMessage(`Invalid proxy address: ${i.kvsService.kvs.proxyServer}`),void i.cloudpilot.getSuspendContextNetworkConnect().Cancel();const a=yield i.handshake(void 0,500);switch(a.status){case"failed":return void i.onSocketError(void 0);case"version_mismatch":return yield i.alertService.proxyVersionMismatchError(),void i.cancelSuspend();case"success":break;default:throw new Error("unreachable")}i.socket=new WebSocket(`${s.replace(/^http/,"ws")}/network-proxy/connect?token=${encodeURIComponent(a.token)}`),i.socket.binaryType="arraybuffer",i.bindListeners(i.socket),i.ngZone.run(()=>i.connectTimeoutHandle=setTimeout(i.onSocketError,5e3))})),this.onSocketOpen=()=>{if(this.cancelConnectTimeout(),!this.cloudpilot.isSuspended()||4!==this.cloudpilot.getSuspendKind())return console.error("ERROR: socket connected, but emulation is not waiting for connect"),void this.disconnect(this.socket);this.sessionId=l0(),this.cloudpilot.getSuspendContextNetworkConnect().Resume(this.sessionId),this.resumeEvent.dispatch()},this.onSocketMessage=s=>{if(!this.cloudpilot.isSuspended()||3!==this.cloudpilot.getSuspendKind())return void console.error("ERROR: socket received message, but emulation is not waiting for rpc");if(!(s.data instanceof ArrayBuffer))return console.error("ERROR: socket received a text frame"),this.disconnect(this.socket),this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),void this.cancelSuspend();const a=this.cloudpilot.copyBuffer(new Uint8Array(s.data));this.cloudpilot.getSuspendContextNetworkRpc().ReceiveResponse(a,s.data.byteLength),this.cloudpilot.freeBuffer(a),this.resumeEvent.dispatch()},this.onSocketError=s=>{this.cancelConnectTimeout(),this.cloudpilot.isSuspended()&&4===this.cloudpilot.getSuspendKind()?this.alertService.errorMessage("Failed to connect to proxy."):this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(this.socket),this.cancelSuspend(),console.error("ERROR: socket error",s)},this.onSocketClose=()=>{this.cancelConnectTimeout(),this.alertService.errorMessage("Connection to proxy closed unexpectedly"),this.unbindListeners(this.socket),this.cancelSuspend(),this.sessionId="",this.socket=void 0},this.onProxyDisconnect=s=>{s!==this.sessionId||!this.socket||this.ngZone.run(()=>this.disconnect(this.socket))},this.resumeEvent=new ni.j,this.mutex=new Da,this.sessionId=""}initialize(e){this.cloudpilot=e,e.proxyDisconnectEvent.addHandler(this.onProxyDisconnect)}reset(){this.socket&&this.disconnect(this.socket)}handleSuspend(){if(this.cloudpilot&&this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:this.handleConnect();break;case 3:this.handleRpc()}}isConnected(){return!!this.socket}handshake(e=this.kvsService.kvs.proxyServer,t=-1){var r=this;return(0,me.Z)(function*(){const o=h0(e);if(!o)return{status:"failed"};try{const i=yield r.fetchService.fetch(`${o}/network-proxy/handshake`,{method:"POST",loaderDelay:t});if(!i.ok)return{status:"failed"};const s=yield i.json();return s.version<3||s.compatVersion>3?{status:"version_mismatch"}:{status:"success",token:s.token}}catch{return{status:"failed"}}})()}handleRpc(){const e=this.cloudpilot.getSuspendContextNetworkRpc();this.socket?this.socket.send(this.cloudpilot.resolveBuffer(e.GetRequestData(),e.GetRequestSize())):e.Cancel()}disconnect(e){e&&(this.unbindListeners(e),e.close()),this.sessionId="",this.socket=void 0}bindListeners(e){this.ngZone.run(()=>{e.addEventListener("open",this.onSocketOpen),e.addEventListener("error",this.onSocketError),e.addEventListener("close",this.onSocketClose)}),this.ngZone.runOutsideAngular(()=>e.addEventListener("message",this.onSocketMessage))}unbindListeners(e){e&&(e.removeEventListener("message",this.onSocketMessage),e.removeEventListener("open",this.onSocketOpen),e.removeEventListener("error",this.onSocketError),e.removeEventListener("close",this.onSocketClose))}cancelSuspend(){if(this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:case 3:this.cloudpilot.cancelSuspend()}}cancelConnectTimeout(){void 0!==this.connectTimeoutHandle&&clearTimeout(this.connectTimeoutHandle),this.connectTimeoutHandle=void 0}}Wl.\u0275fac=function(e){return new(e||Wl)(ee(Zo),ee(Hr),ee(ut),ee(Mc))},Wl.\u0275prov=ht({token:Wl,factory:Wl.\u0275fac,providedIn:"root"});class xc{constructor(){this.buttons=new Map}reset(e){this.cloudpilot=e,this.buttons.clear(),[6,7].forEach(t=>e.queueButtonUp(t))}engage(e){this.cloudpilot&&(this.buttons.has(e)?this.buttons.get(e).timer=0:(this.buttons.set(e,{button:e,timer:0}),this.cloudpilot?.queueButtonDown(e)))}tick(e){if(this.cloudpilot)for(const[t,r]of this.buttons)r.timer+=1e3*e,r.timer>250&&(this.cloudpilot.queueButtonUp(t),this.buttons.delete(t))}}xc.\u0275fac=function(e){return new(e||xc)},xc.\u0275prov=ht({token:xc,factory:xc.\u0275fac,providedIn:"root"});class Rc{constructor(){this.hasRenderedPromise=new Promise(e=>this.hasRenderedResolve=e)}notifyHasRendered(){this.hasRenderedResolve()}hasRendered(){return this.hasRenderedPromise}}Rc.\u0275fac=function(e){return new(e||Rc)},Rc.\u0275prov=ht({token:Rc,factory:Rc.\u0275fac,providedIn:"root"});var OH=x(9084),ST=x.n(OH);function m0(){return(m0=(0,me.Z)(function*(n){const e=yield g0.create();if(e.mkfs(n))return e.getImage()})).apply(this,arguments)}const ET="fstools_web.wasm",DT=WebAssembly.compileStreaming?WebAssembly.compileStreaming(fetch(ET)):fetch(ET).then(n=>n.arrayBuffer()).then(n=>WebAssembly.compile(n));class g0{constructor(e){this.module=e,this.nativeContext=new e.MkfsContext}static create(){return(0,me.Z)(function*(){return new g0(yield ST()({print:e=>console.log(e),printErr:e=>console.error(e),instantiateWasm:(e=(0,me.Z)(function*(t,r){return r(yield WebAssembly.instantiate(yield DT,t))}),function(r,o){return e.apply(this,arguments)})}));var e})()}mkfs(e){return this.nativeContext.Mkfs(e,"card")}getImage(){const e=this.nativeContext.GetImageSize(),t=this.module.getPointer(this.nativeContext.GetImage());if(0!==e&&0!==t)return this.module.HEAPU32.subarray(t>>>2,t+e>>>2)}}class jm{constructor(e,t){this.module=e,this.result=0,this.nativeContext=new e.FsckContext(t>>>9)}static create(e){return(0,me.Z)(function*(){const t=yield ST()({print:r=>console.log(r),printErr:r=>console.error(r),instantiateWasm:(r=(0,me.Z)(function*(o,i){return i(yield WebAssembly.instantiate(yield DT,o))}),function(i,s){return r.apply(this,arguments)})});var r;return new jm(t,e)})()}getImageData(){const e=this.nativeContext.GetImageSize(),t=this.module.getPointer(this.nativeContext.GetImage());return this.module.HEAPU32.subarray(t>>>2,t+e>>2)}getDirtyPages(){const e=this.module.getPointer(this.nativeContext.GetDirtyPages()),t=p0(this.nativeContext.GetImageSize());return this.module.HEAPU8.subarray(e,e+t)}fsck(){if(0!==this.result)return this.result;try{return this.result=this.nativeContext.Fsck(),this.result}catch(e){return console.warn("fsck failed",e),this.result=4,this.result}}getResult(){return this.result}}var Ir=(()=>{return(n=Ir||(Ir={})).dirty="dirty",n.clean="clean",n.unformatted="unformatted",n.unfixable="unfixable",Ir;var n})(),wr=(()=>{return(n=wr||(wr={})).portrait="portrait",n.landscape90="landscape90",n.landscape270="landscape270",n.portrait180="portrait180",wr;var n})();class Ma{constructor(e,t,r){this.cloudpilotService=e,this.storageService=t,this.loadingController=r,this.sessions=[],this.loading=!0,this.updateMutex=new Da,this.updateSessionsFromStorage().then(()=>this.loading=!1),this.storageService.sessionChangeEvent.addHandler(this.updateSessionsFromStorage.bind(this))}isLoading(){return this.loading}addSessionFromImage(e,t,r={}){var o=this;return(0,me.Z)(function*(){const i={hotsyncName:e.metadata?.hotsyncName,dontManageHotsyncName:!1,speed:1,deviceOrientation:wr.portrait,...r,id:-1,name:t,device:e.deviceId,ram:(yield o.cloudpilotService.cloudpilot).minRamForDevice(e.deviceId)/1024/1024,rom:"",osVersion:e?.metadata?.osVersion},s=yield o.loadingController.create({message:"Importing..."});yield s.present();const a=yield o.storageService.addSession(i,e.rom,e.memory,e.savestate);return yield o.updateSessionsFromStorage(),yield s.dismiss(),a})()}addSessionFromRom(e,t,r,o={}){var i=this;return(0,me.Z)(function*(){const s={hotsyncName:"",dontManageHotsyncName:!1,speed:1,deviceOrientation:wr.portrait,...o,id:-1,name:t,device:r,ram:(yield i.cloudpilotService.cloudpilot).minRamForDevice(r)/1024/1024,rom:""},a=yield i.loadingController.create({message:"Importing..."});yield a.present();const u=yield i.storageService.addSession(s,e);return yield i.updateSessionsFromStorage(),yield a.dismiss(),u})()}getSessions(){return this.sessions}deleteSession(e){var t=this;return(0,me.Z)(function*(){yield t.storageService.deleteSession(e)})()}updateSession(e){var t=this;return(0,me.Z)(function*(){yield t.storageService.updateSession(e)})()}updateSessionsFromStorage(){var e=this;return(0,me.Z)(function*(){e.sessions=yield e.updateMutex.runExclusive((0,me.Z)(function*(){return(yield e.storageService.getAllSessions()).sort((t,r)=>t.name.localeCompare(r.name))}))})()}}Ma.\u0275fac=function(e){return new(e||Ma)(ee(Ui),ee(Qn),ee(Ol))},Ma.\u0275prov=ht({token:Ma,factory:Ma.\u0275fac,providedIn:"root"});var LH=x(7971),$H=x.n(LH);function BH(n){return{readonly:0!=(1&n),hidden:0!=(2&n),system:0!=(4&n)}}function IT(n,e){const t=n.GetName(),r=n.GetModifiedTS();return{path:e,name:t,size:n.GetSize(),lastModifiedTS:r,lastModifiedLocalDate:new Date(1e3*r).toLocaleDateString(),isDirectory:n.IsDirectory(),attributes:BH(n.GetAttributes())}}class y0{constructor(e){this.module=e,this.vfsNative=new e.Vfs}static create(){return(0,me.Z)(function*(){return new y0(yield $H()({print:e=>console.log(e),printErr:e=>console.error(e)}))})()}allocateImage(e){this.vfsNative.AllocateImage(e>>>9)}mountImage(e){return this.vfsNative.MountImage(e)}unmountImage(e){this.vfsNative.UnmountImage(e)}getPendingImage(){const e=this.module.getPointer(this.vfsNative.GetPendingImage()),t=this.vfsNative.GetPendingImageSize();if(0!==e&&0!==t)return this.module.HEAPU32.subarray(e>>>2,e+t>>>2)}getImageInSlot(e){const t=this.module.getPointer(this.vfsNative.GetImage(e)),r=this.vfsNative.GetSize(e);if(0!==t&&0!==r)return this.module.HEAPU32.subarray(t>>>2,t+r>>>2)}getDirtyPagesForSlot(e){const t=this.module.getPointer(this.vfsNative.GetDirtyPages(e));if(0===t)return;const r=p0(this.vfsNative.GetSize(e));return this.module.HEAPU8.subarray(t,t+r)}readdir(e){const t=new this.module.ReaddirContext(e);try{const r=[];for(;0===t.GetStatus();){const o=t.GetEntry();r.push(IT(o,`${e.replace(/\/*$/,"")}/${o.GetName()}`)),t.Next()}if(2===t.GetStatus()){console.warn(`readdir failed: ${t.GetErrorDescription()}`);const o=t.GetError();return{error:0===o?2:o,reason:t.GetErrorDescription()}}return{error:0,entries:r}}finally{this.module.destroy(t)}}rename(e,t){return this.vfsNative.RenameFile(e,t)}chmod(e,t){let r=0,o=0,i=(s,a)=>{void 0!==s&&(o|=a,s&&(r|=a))};return i(t.hidden,2),i(t.readonly,1),i(t.system,4),this.vfsNative.ChmodFile(e,r,o)}stat(e){const t=this.vfsNative.StatFile(e);return 0!==t?{result:t,entry:void 0}:{entry:IT(this.vfsNative.GetEntry(),e),result:t}}bytesFree(e){return this.vfsNative.BytesFree(e)}bytesTotal(e){return this.vfsNative.BytesTotal(e)}readFile(e){if(!this.vfsNative.ReadFile(e))return;const t=this.module.getPointer(this.vfsNative.GetCurrentFileContent()),r=this.vfsNative.GetCurrentFileSize(),o=this.module.HEAPU8.subarray(t,t+r).slice();return this.vfsNative.ReleaseCurrentFile(),o}createZipArchive({files:e,directories:t,prefix:r}){var o=this;return(0,me.Z)(function*(){const i=new o.module.CreateZipContext(r,25),s=[];try{for(e&&e.forEach(m=>i.AddFile(m)),t&&t.forEach(m=>i.AddDirectory(m));2!==i.GetState();){switch(i.Continue()){case-2:case-1:s.push(i.GetErrorItem())}2!==i.GetState()&&(yield new Promise(m=>setTimeout(m,0)))}let a;const u=o.module.getPointer(i.GetZipContent()),f=i.GetZipSize();return 0!==u&&0!==f&&(a=o.module.HEAPU8.subarray(u,u+f).slice()),{archive:a,failedItems:s}}finally{o.module.destroy(i)}})()}unlinkFile(e){return this.vfsNative.UnlinkFile(e)}deleteRecursive({files:e,directories:t}){var r=this;return(0,me.Z)(function*(){const o=new r.module.DeleteRecursiveContext(25);try{for(e&&e.forEach(i=>o.AddFile(i)),t&&t.forEach(i=>o.AddDirectory(i));1===o.Continue();)yield new Promise(i=>setTimeout(i,0));return 2===o.GetState()?{success:!0}:{success:!1,failingItem:o.GetFailingPath()}}finally{r.module.destroy(o)}})()}}var VH=x(5541),kT=x.n(VH);class sl{constructor(e,t,r,o,i){this.storageService=e,this.storageCardContext=t,this.alertService=r,this.fileService=o,this.loadingController=i,this.onReleaseCard=new ni.j,this.vfs=y0.create(),this.directoryCache=new Map,this.bytesFree=0,this.bytesTotal=0,this.vfs.then(s=>this.vfsInstance=s)}normalizePath(e){return("/"+e).replace(/\/{2,}/g,"/").replace(/\/*$/,"")}splitPath(e){return this.normalizePath(e).replace(/^\/+/,"").split("/")}dirname(e){return this.normalizePath(e).replace(/\/[^\/]*$/,"")}isFilenameValid(e){return void 0===e||!/[\/\\]/.test(e)}mountCardUnchecked(e,t,r){var o=this;return(0,me.Z)(function*(){const i=yield o.storageService.getCard(e);if(!i)throw new Error(`no card with id ${e}`);if(o.storageCardContext.claim(e,zr.vfs),o.directoryCache.clear(),o.mountedCard?.id===e)return!0;o.mountedCard&&(yield o.releaseCard(o.mountedCard.id));const s=yield o.vfs;s.allocateImage(i.size);const a=s.getPendingImage();if(!a)throw new Error("failed to allocate image");return r?a.set(r):yield o.storageService.loadCardData(e,a,zr.vfs),!!s.mountImage(0)&&(o.mountedCard=i,o.bytesFree=s.bytesFree(0),o.bytesTotal=s.bytesTotal(0),!0)})()}releaseCard(e=this.mountedCard?.id){var t=this;return(0,me.Z)(function*(){void 0===e||e!==t.mountedCard?.id||((yield t.vfs).unmountImage(0),t.mountedCard=void 0,t.storageCardContext.release(e,zr.vfs),t.onReleaseCard.dispatch(e))})()}readdir(e){if(!this.vfsInstance)return[];const t=this.normalizePath(e);if(!this.directoryCache.has(t)){const r=this.vfsInstance.readdir(e);this.directoryCache.set(t,0===r.error?r.entries:[])}return this.directoryCache.get(t)||[]}updateFileEntry(e,t){var r=this;return(0,me.Z)(function*(){const o=yield r.vfs;if(e=r.normalizePath(e),!r.isFilenameValid(t.name))return void(yield r.error("The provided file name is invalid."));const{result:i,entry:s}=o.stat(e);if(0===i)if(void 0===t.attributes||kT()(t.attributes,s.attributes)||0===(r.directoryCache.delete(r.dirname(e)),o.chmod(e,t.attributes))){if(void 0!==t.name&&t.name!==s.name)switch(r.directoryCache.delete(r.dirname(e)),o.rename(e,`${r.dirname(e)}/${t.name}`)){case 0:break;case 6:return void(yield r.error("The provided file name is invalid."));default:return void(yield r.fatalError("Unable to write the updated file attributes."))}yield r.sync()}else yield r.fatalError("Unable to write the updated file attributes.");else yield r.error(`The path ${e} is invalid. This is a bug in Cloudpilot.`)})()}saveFile(e){var t=this;return(0,me.Z)(function*(){const r=yield t.loadingController.create();yield r.present();try{const i=(yield t.vfs).readFile(e.path);if(!i)return void(yield t.alertService.errorMessage(`Could not read file '${e.name}'.`));t.fileService.saveFile(e.name,i)}finally{yield r.dismiss()}})()}archiveFiles(e,t){var r=this;return(0,me.Z)(function*(){if(0===e.length||!r.mountedCard)return;const o=yield r.loadingController.create({message:"Creating archive..."});yield o.present();try{const i=yield r.vfs,s=e.filter(_=>_.isDirectory).map(_=>r.normalizePath(_.path)),a=e.filter(_=>!_.isDirectory).map(_=>r.normalizePath(_.path)),u=1===e.length?`${e[0].name}.zip`:function SH(n){return`files_${Vm(n.name)}.zip`}(r.mountedCard),{archive:f,failedItems:m}=yield i.createZipArchive({directories:s,files:a,prefix:t});yield o.dismiss(),m.length>0&&(m.length<=3?yield r.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${m.join("<br>")}`):yield r.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${m.slice(0,3).join("<br>")}<br><br> and ${m.length-3} other file`)),f&&r.fileService.saveFile(u,f)}finally{yield o.dismiss()}})()}unlinkEntry(e){var t=this;return(0,me.Z)(function*(){if(e.isDirectory)return;const o=(yield t.vfs).unlinkFile(e.path);if(0!==o)return console.error(`failed to unlink ${e.path}: ${o}`),void(yield t.error(`Failed to delete: ${e.path}`));t.directoryCache.delete(t.dirname(e.path)),yield t.sync()})()}deleteRecursive(e){var t=this;return(0,me.Z)(function*(){const r=e.filter(s=>!s.isDirectory).map(s=>t.normalizePath(s.path)),o=e.filter(s=>s.isDirectory).map(s=>t.normalizePath(s.path)),i=yield t.loadingController.create({message:"Deleting..."});yield i.present();try{const a=yield(yield t.vfs).deleteRecursive({files:r,directories:o});if(!a.success)return yield i.dismiss(),void(yield t.fatalError(`Failed to delete ${a.failingItem}`));e.map(u=>u.path).forEach(u=>t.directoryCache.delete(t.dirname(u))),yield t.sync()}finally{yield i.dismiss()}})()}currentCard(){return this.mountedCard}getBytesFree(){return this.bytesFree}getBytesTotal(){return this.bytesTotal}error(e){var t=this;return(0,me.Z)(function*(){yield t.alertService.errorMessage(e)})()}fatalError(e){var t=this;return(0,me.Z)(function*(){t.mountedCard&&(yield t.storageService.updateStorageCardPartial(t.mountedCard.id,{status:Ir.dirty}),yield t.releaseCard(),t.alertService.errorMessage(`${e}\n        <br><br>\n        No changes have been written, and the card has been unmounted to prevent damage to the file system.\n        `))})()}sync(){var e=this;return(0,me.Z)(function*(){if(!e.mountedCard)return;const t=yield e.vfs,r=t.getImageInSlot(0),o=t.getDirtyPagesForSlot(0);!r||!o||(yield e.storageService.updateCardData(e.mountedCard.id,r,o,zr.vfs))})()}}sl.\u0275fac=function(e){return new(e||sl)(ee(Qn),ee(Ia),ee(Hr),ee($s),ee(Ol))},sl.\u0275prov=ht({token:sl,factory:sl.\u0275fac,providedIn:"root"});var yo=(()=>{return(n=yo||(yo={}))[n.mb4=0]="mb4",n[n.mb8=1]="mb8",n[n.mb16=2]="mb16",n[n.mb32=3]="mb32",n[n.mb64=4]="mb64",n[n.mb128=5]="mb128",yo;var n})();function TT(){return l0().replace(/-/g,"")}class Qs{constructor(e,t,r,o,i,s,a,u,f,m,_){this.sessionService=e,this.storageService=t,this.emulationStateService=r,this.cloudpilotService=o,this.loadingController=i,this.snapshotService=s,this.alertService=a,this.errorService=u,this.fileService=f,this.vfsService=m,this.storageCardContext=_,this.loading=!0,this.cards=[],this.updateMutex=new Da,this.updateCardsFromDB().then(()=>this.loading=!1),t.storageCardChangeEvent.addHandler(()=>this.updateCardsFromDB())}getAllCards(){return this.cards}createEmptyCard(e,t,r){var o=this;return(0,me.Z)(function*(){const i=yield o.loadingController.create({message:"Formatting..."});try{yield i.present();const s=yield function NH(n){return m0.apply(this,arguments)}(function UH(n){switch(n){case yo.mb4:return 4;case yo.mb8:return 8;case yo.mb16:return 16;case yo.mb32:return 32;case yo.mb64:return 64;case yo.mb128:return 128;default:throw new Error(`bad card size ${n}`)}}(t));if(!s)throw new Error("failed to create image");const a={storageId:TT(),name:e,size:4*s.length,status:Ir.clean,dontFsckAutomatically:r};return yield o.storageService.importStorageCard(a,s)}finally{i.dismiss()}})()}createCardFromFile(e,t,r){var o=this;return(0,me.Z)(function*(){const i={storageId:TT(),name:e,size:t.content.length,status:Ir.clean,dontFsckAutomatically:r},s=new Uint32Array(t.content.buffer,t.content.byteOffset,t.content.byteLength>>>2),a=yield o.loadingController.create({message:"Importing..."});try{if(r)yield a.present(),yield o.storageService.importStorageCard(i,s);else{const[u,f]=yield o.fsckNewCard(s,i);yield a.present(),yield o.storageService.importStorageCard(f,u)}}finally{a.dismiss()}})()}onEmulatorStop(){const e=this.emulationStateService.getCurrentSession()?.mountedCard;void 0!==e&&this.storageCardContext.release(e,zr.cloudpilot)}loadCardInEmulator(e,t){var r=this;return(0,me.Z)(function*(){const o=yield r.storageService.getCard(e);if(!o)throw new Error(`no card with id ${e}`);yield r.vfsService.releaseCard(e);const i=yield r.cloudpilotService.cloudpilot;if(i.getMountedKey())throw new Error("attempt to mount a card while another card is mounted");if(!i.allocateCard(o.storageId,o.size))throw new Error("failed to allocate card");const s=i.getCardData(o.storageId);if(!s)throw new Error("failed to access card data");return r.storageCardContext.claim(e,zr.cloudpilot),t?s.set(t):yield r.storageService.loadCardData(o.id,s,zr.cloudpilot),o})()}ejectCurrentCard(){var e=this;return(0,me.Z)(function*(){const t=e.emulationStateService.getCurrentSession();if(!t)throw new Error("no running session");const r=t?.mountedCard;if(void 0===r)throw new Error("no mounted card");const o=yield e.storageService.getCard(r);if(!o)throw new Error(`no card with id ${r}`);yield e.storageService.updateStorageCardPartial(r,{status:Ir.dirty}),yield e.snapshotService.waitForPendingSnapshot(),yield e.snapshotService.triggerSnapshot(),yield e.storageService.updateSessionPartial(t.id,{mountedCard:void 0}),(yield e.cloudpilotService.cloudpilot).removeCard(o.storageId),e.snapshotService.resetCard(),e.storageCardContext.release(r,zr.cloudpilot)})()}checkCard(e){var t=this;return(0,me.Z)(function*(){const r=t.mountedInSession(e.id);if(r){let i=!1;if(yield t.alertService.message("Card is attached",`This card needs to be ejected from session '${r.name}' before it can be checked.`,{"Eject now":()=>i=!0},"Cancel"),!i)return;yield t.ejectCard(e.id)}const o=yield t.executeFsckAndUpdateCard(e.id);switch(o.getResult()){case 1:return void t.alertService.cardIsClean();case 3:return void t.alertService.cardHasNoValidFileSystem();case 4:t.alertService.cardHasUncorrectableErrors();break;case 2:{let i=!1;return yield t.alertService.message("Filesystem errors",`The filesystem on this card contains errors${e.dontFsckAutomatically?"":"  that need to be fixed before it can be used"}. Do you want to fix them now?`,{"Fix now":()=>i=!0},"Cancel"),void(i?yield t.applyFsckResult(e.id,o):t.storageCardContext.release(e.id,zr.fstools))}}})()}insertCard(e){return this.checkAndClaimCard(e,"insert")}browseCard(e){var t=this;return(0,me.Z)(function*(){const r=t.mountedInSession(e.id);if(r){let o=!1;if(yield t.alertService.message("Card is attached",`This card needs to be ejected from session '${r.name}' before it can be browsed.`,{"Eject now":()=>o=!0},"Cancel"),!o)return!1;yield t.ejectCard(e.id)}return t.checkAndClaimCard(e.id,"vfs")})()}updateCard(e,t){var r=this;return(0,me.Z)(function*(){const o=yield r.storageService.getCard(e);if(!o)throw new Error(`no card with id ${e}`);return!t.dontFsckAutomatically&&o.dontFsckAutomatically&&(t.status=Ir.dirty),r.storageService.updateStorageCardPartial(e,t)})()}deleteCard(e){var t=this;return(0,me.Z)(function*(){yield t.vfsService.releaseCard(e),yield t.ejectCard(e),yield t.storageService.deleteStorageCard(e)})()}saveCard(e,t){var r=this;return(0,me.Z)(function*(){const o=yield r.getCard(e);if(!o)throw new Error(`no card with id ${e}`);const i=yield r.loadingController.create({message:"Exporting..."});let s;try{yield i.present();const a=r.mountedInSession(e);a&&a.id===r.emulationStateService.getCurrentSession()?.id&&(yield r.snapshotService.waitForPendingSnapshot(),yield r.snapshotService.triggerSnapshot(),s=(yield r.cloudpilotService.cloudpilot).getCardData(o.storageId)),s||(s=new Uint32Array(o.size>>>2),yield r.storageService.loadCardData(o.id,s,r.storageCardContext.getOwner(e)))}finally{i.dismiss()}r.fileService.saveFile(t,new Uint8Array(s.buffer,s.byteOffset,s.length<<2))})()}getCard(e){var t=this;return(0,me.Z)(function*(){return t.storageService.getCard(e)})()}mountedInSession(e){return this.sessionService.getSessions().find(t=>t.mountedCard===e)}isLoading(){return this.loading}updateCardsFromDB(){var e=this;return(0,me.Z)(function*(){e.cards=yield e.updateMutex.runExclusive((0,me.Z)(function*(){return(yield e.storageService.getAllStorageCards()).sort((t,r)=>t.name.localeCompare(r.name))}))})()}cardIsMounted(e){var t=this;return(0,me.Z)(function*(){return(yield t.storageService.getAllSessions()).some(o=>o.mountedCard===e)})()}checkAndClaimCard(e,t){var r=this;return(0,me.Z)(function*(){if(yield r.cardIsMounted(e))throw new Error("card already mounted");let o=yield r.getCard(e);if(!o)throw new Error(`no card with id ${e}`);let i,s=!0,a=!1;if(!o.dontFsckAutomatically){if(o.status===Ir.dirty){if(i=yield r.executeFsckAndUpdateCard(e),2===i.getResult()){if(s=!1,yield r.alertService.message("Filesystem errors",`The filesystem on this card contains errors that have to fixed before it can be ${"insert"===t?"inserted":"browsed"}. Do you want to fix them now?`,{"Fix now":()=>s=!0},"Cancel"),!s)return r.storageCardContext.release(e,zr.fstools),!1;yield r.applyFsckResult(o.id,i)}if(o=yield r.getCard(e),!o)throw new Error(`no card with id ${e}`)}switch(o.status){case Ir.clean:break;case Ir.unformatted:if("vfs"===t)return yield r.alertService.message("Card unformatted","This card is unformatted and cannot be browsed. Insert it into a device and format it."),!1;case Ir.dirty:return yield r.alertService.message("Card requires check",`This card needs to be checked before it can be ${"insert"===t?"inserted":"browsed"}.`),!1;case Ir.unfixable:if(s=!1,a=!0,yield r.alertService.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors. "+("insert"===t?"Writing could cause further damage. Do you want to insert it nevertheless?":"The card will be mounted read-only in order to prevent further damage."),{"Insert card":()=>s=!0},"Cancel"),!s)return!1;break;default:throw new Error("unreachable: bad card status")}}try{"insert"===t?(yield r.vfsService.releaseCard(e),yield r.mountCardInEmulator(e,i?.getImageData())):(yield r.mountCardForBrowsing(e,a,i?.getImageData()))||(yield r.alertService.message("Failed to mount card","The card could not be mounted for browsing."))}catch(u){return r.errorService.fatalBug(u instanceof Error?u.message:"mount failed"),!1}return!0})()}executeFsckAndUpdateCard(e){var t=this;return(0,me.Z)(function*(){const r=yield t.loadingController.create({message:"Checking card..."});try{if(yield r.present(),yield t.cardIsMounted(e))throw new Error("attempt to fsck a mounted card");const o=yield t.storageService.getCard(e);if(!o)throw new Error(`no card with id ${e}`);yield t.vfsService.releaseCard(e),t.storageCardContext.claim(e,zr.fstools);const i=yield jm.create(o.size);switch(yield t.storageService.loadCardData(o.id,i.getImageData(),zr.fstools),i.fsck()){case 1:yield t.storageService.updateStorageCardPartial(e,{status:Ir.clean}),t.storageCardContext.release(e,zr.fstools);break;case 3:yield t.storageService.updateStorageCardPartial(e,{status:Ir.unformatted}),t.storageCardContext.release(e,zr.fstools);break;case 2:yield t.storageService.updateStorageCardPartial(e,{status:Ir.dirty});break;case 4:yield t.storageService.updateStorageCardPartial(e,{status:Ir.unfixable}),t.storageCardContext.release(e,zr.fstools);break;default:throw new Error("unrachable: invalid fsck result")}return i}finally{r.dismiss()}})()}applyFsckResult(e,t){var r=this;return(0,me.Z)(function*(){if(2!==t.getResult())return;const o=yield r.loadingController.create({message:"Fixing errors..."});try{yield o.present(),yield r.storageService.updateCardData(e,t.getImageData(),t.getDirtyPages(),zr.fstools),yield r.storageService.updateStorageCardPartial(e,{status:Ir.clean}),r.storageCardContext.release(e,zr.fstools)}finally{o.dismiss()}})()}fsckNewCard(e,t){var r=this;return(0,me.Z)(function*(){const o=yield r.loadingController.create({message:"Checking card..."});let i,s;try{yield o.present(),i=yield jm.create(t.size),i.getImageData().set(e),s=i.fsck()}finally{o.dismiss()}switch(s){case 1:return[e,{...t,status:Ir.clean}];case 2:{let a=!1;return yield r.alertService.message("Filesystem errors","The filesystem on this card contains errors that must be fixed before the card can be used. Do you want to fix them now?",{"Fix now":()=>a=!0},"Skip"),a?[i.getImageData(),{...t,status:Ir.clean}]:[e,{...t,status:Ir.dirty}]}case 3:return yield r.alertService.cardHasNoValidFileSystem(),[e,{...t,status:Ir.unformatted}];case 4:return yield r.alertService.cardHasUncorrectableErrors(),[e,{...t,status:Ir.unfixable}];default:throw new Error("unreachable: bad fsck result")}})()}ejectCard(e){var t=this;return(0,me.Z)(function*(){const r=t.mountedInSession(e),o=yield t.storageService.getCard(e);!r||!o||(r.id===t.emulationStateService.getCurrentSession()?.id?yield t.ejectCurrentCard():(yield t.storageService.updateSessionPartial(r.id,{mountedCard:void 0}),yield t.storageService.updateStorageCardPartial(e,{status:Ir.dirty})))})()}mountCardInEmulator(e,t){var r=this;return(0,me.Z)(function*(){if(yield r.cardIsMounted(e))throw new Error("card already mounted");const o=yield r.loadingController.create({message:"Inserting..."});try{yield o.present(),yield r.vfsService.releaseCard(e);const i=r.emulationStateService.getCurrentSession();if(!i)throw new Error("no current session");if(void 0!==i.mountedCard)throw new Error("session already has a mounted card");const s=yield r.loadCardInEmulator(e,t),a=yield r.cloudpilotService.cloudpilot;if(yield r.storageService.updateStorageCardPartial(e,{status:Ir.dirty}),yield r.storageService.updateSessionPartial(i.id,{mountedCard:e}),!a.mountCard(s.storageId))throw a.removeCard(s.storageId),new Error("failed to mount card");return s}finally{o.dismiss()}})()}mountCardForBrowsing(e,t,r){var o=this;return(0,me.Z)(function*(){if(o.vfsService.currentCard()?.id===e)return!0;const i=yield o.loadingController.create({message:"Mounting..."});try{return yield i.present(),yield o.vfsService.mountCardUnchecked(e,t,r)}finally{i.dismiss()}})()}}Qs.\u0275fac=function(e){return new(e||Qs)(ee(Ma),ee(Qn),ee(ds),ee(Ui),ee(Ol),ee(Ta),ee(Hr),ee(Ls),ee($s),ee(sl),ee(Ia))},Qs.\u0275prov=ht({token:Qs,factory:Qs.\u0275fac,providedIn:"root"});class ji extends gH{constructor(e,t,r,o,i,s,a,u,f,m,_,k,M,Q,Ae,Ze,Ke,bt){var Ne;super(),Ne=this,this.storageService=e,this.ngZone=t,this.loadingController=r,this.emulationState=o,this.snapshotService=i,this.errorService=s,this.fileService=a,this.alertService=u,this.modalWatcher=f,this.clipboardService=m,this.kvsService=_,this.proxyService=k,this.buttonService=M,this.bootstrapService=Q,this.cloudpilotService=Ae,this.storageCardService=Ze,this.storageCardContext=Ke,this.app=bt,this.switchSession=En=>this.mutex.runExclusive((0,me.Z)(function*(){if(En===Ne.emulationState.getCurrentSession()?.id)return!0;yield Ne.stopUnchecked(),yield Ne.bootstrapService.hasRendered();const Zn=yield Ne.loadingController.create({message:"Loading..."});yield Zn.present();try{const fs=yield Ne.storageService.getSession(En);if(!fs)throw new Error(`invalid session ${En}`);Ne.emulationState.setCurrentSession(void 0);const zm=yield Ne.cloudpilotService.cloudpilot;if(!(yield Ne.restoreSession(fs,zm)))return Ne.alertService.errorMessage("Failed to launch session. This may be the result of a bad ROM file."),!1;Ne.emulationState.setCurrentSession(fs),function Sj(n){localStorage.setItem(Fm,n+"")}(En)}finally{yield Zn.dismiss()}return!0})),this.resume=()=>this.mutex.runExclusive((0,me.Z)(function*(){!Ne.emulationState.getCurrentSession()||Ne.running||Ne.errorService.hasFatalError()||!Ne.cloudpilotInstance||(yield Ne.kvsService.mutex.runExclusive(()=>Ne.updateFeatures()),Ne.doResume(),Ne.lastSnapshotAt=performance.now())})),this.pause=()=>this.mutex.runExclusive((0,me.Z)(function*(){Ne.doPause(),!Ne.errorService.hasFatalError()&&Ne.emulationState.getCurrentSession()&&(yield Ne.snapshotService.waitForPendingSnapshot(),yield Ne.snapshotService.triggerSnapshot())})),this.stop=()=>this.mutex.runExclusive(()=>this.stopUnchecked()),this.onSessionChange=([En,Zn])=>this.mutex.runExclusive((0,me.Z)(function*(){const fs=Ne.emulationState.getCurrentSession();En===fs?.id&&(void 0!==fs.mountedCard&&void 0===Zn&&Ne.storageCardContext.release(fs.mountedCard,zr.cloudpilot),Ne.emulationState.setCurrentSession(Zn),Ne.emulationState.getCurrentSession()||(Jk(),Ne.stopLoop()))})),this.onEmergencySave=()=>this.mutex.runExclusive((0,me.Z)(function*(){const En=Ne.emulationState.getCurrentSession();En&&Ne.fileService.emergencySaveSession(En,yield Ne.cloudpilotService.cloudpilot)})),this.mutex=new Da,this.lastSnapshotAt=0,e.sessionChangeEvent.addHandler(this.onSessionChange),s.fatalErrorEvent.addHandler(this.pause),this.alertService.emergencySaveEvent.addHandler(this.onEmergencySave),this.cloudpilotService.cloudpilot.then(En=>{En.fatalErrorEvent.addHandler(this.errorService.fatalInNativeCode),this.proxyService.initialize(En),this.proxyService.resumeEvent.addHandler(()=>this.running&&this.advanceEmulation(performance.now()))});const Ot=function Cj(){const n=localStorage.getItem(Fm);return n?parseInt(n,10):void 0}();this.bootstrapCompletePromise=Promise.resolve(),void 0!==Ot&&!DD()&&(this.bootstrapCompletePromise=this.recoverStoredSession(Ot))}bootstrapComplete(){return this.bootstrapCompletePromise}getConfiguredSpeed(){return this.emulationState.getCurrentSession()?.speed||1}manageHotsyncName(){return!this.emulationState.getCurrentSession()?.dontManageHotsyncName}getConfiguredHotsyncName(){return this.emulationState.getCurrentSession()?.hotsyncName}updateConfiguredHotsyncName(e){const t=this.emulationState.getCurrentSession();t&&this.storageService.updateSessionPartial(t.id,{hotsyncName:e})}getConfiguredSchdedulerKind(){return this.kvsService.kvs.runHidden?jl.timeout:jl.animationFrame}hasFatalError(){return this.errorService.hasFatalError()}skipEmulationUpdate(){return this.modalWatcher.isModalActive()&&0!==this.frameCounter}onAfterAdvanceEmulation(e,t){if(!this.cloudpilotInstance)return;const r=this.emulationState.getCurrentSession();this.uiInitialized&&r&&void 0===r.osVersion&&this.storageService.updateSessionPartial(r.id,{osVersion:this.cloudpilotInstance.getOSVersion()}),this.buttonService.tick(t/this.cloudpilotInstance.cyclesPerSecond()),e-this.lastSnapshotAt>1e3&&!this.cloudpilotInstance.isSuspended()&&(this.snapshotService.triggerSnapshot(),this.lastSnapshotAt=e),this.isDirty&&this.app.tick()}handleSuspend(){this.cloudpilotInstance&&(this.clipboardService.handleSuspend(this.cloudpilotInstance),this.proxyService.handleSuspend())}callScheduler(){this.ngZone.runOutsideAngular(()=>this.scheduler.schedule())}stopUnchecked(){var e=this;return(0,me.Z)(function*(){e.emulationState.getCurrentSession()&&(e.doStop(),yield e.snapshotService.waitForPendingSnapshot(),e.storageCardService.onEmulatorStop(),e.emulationState.setCurrentSession(void 0))})()}updateFeatures(){if(!this.cloudpilotInstance)return;const e=this.kvsService.kvs.clipboardIntegration&&this.clipboardService.isSupported();this.cloudpilotInstance.getClipboardIntegration()!==e&&this.cloudpilotInstance.setClipboardIntegration(e),this.cloudpilotInstance.getNetworkRedirection()!==this.kvsService.kvs.networkRedirection&&(this.cloudpilotInstance.setNetworkRedirection(this.kvsService.kvs.networkRedirection),this.proxyService.reset()),this.cloudpilotInstance.setHotsyncNameManagement(!this.emulationState.getCurrentSession()?.dontManageHotsyncName)}recoverStoredSession(e){var t=this;return(0,me.Z)(function*(){try{yield t.switchSession(e)}catch{Xs&&t.alertService.message("Possible iOS bug","It seems that you hit an iOS bug that ocassionally\ncauses the database to come up empty when the app starts. If this happens to you, please force close\nthe app in the app switcher and reopen it; your data will be back on the second attempt.\n<br/><br/>\nSorry for the inconvenience.")}})()}restoreSession(e,t){var r=this;return(0,me.Z)(function*(){const[o,i,s]=yield r.storageService.loadSession(e);if(!o)throw new Error(`invalid ROM ${e.rom}`);return t.clearExternalStorage(),void 0!==e.mountedCard&&(yield r.storageCardService.loadCardInEmulator(e.mountedCard)),!!r.openSession(t,o,e.device,i,s)&&(r.proxyService.reset(),r.buttonService.reset(t),yield r.snapshotService.initialize(e,yield r.cloudpilotService.cloudpilot),!0)})()}}ji.\u0275fac=function(e){return new(e||ji)(ee(Qn),ee(ut),ee(Ol),ee(ds),ee(Ta),ee(Ls),ee($s),ee(Hr),ee(Gl),ee(Ac),ee(Zo),ee(Wl),ee(xc),ee(Rc),ee(Ui),ee(Qs),ee(Ia),ee(wl))},ji.\u0275prov=ht({token:ji,factory:ji.\u0275fac,providedIn:"root"});const Zl=new yt(B),GH={connector:()=>new tt};function MT(n,e=GH){const{connector:t}=e;return q((r,o)=>{const i=t();Nn(n(function zH(n){return new yt(e=>n.subscribe(e))}(i))).subscribe(o),o.add(r.subscribe(i))})}function AT(n,e){return e?t=>Sf(e.pipe(Is(1),function qH(){return q((n,e)=>{n.subscribe(_e(e,B))})}()),t.pipe(AT(n))):yr((t,r)=>Nn(n(t,r)).pipe(Is(1),mv(t)))}const ep="Service workers are disabled or not supported by this browser";class Hm{constructor(e){if(this.serviceWorker=e,e){const r=Cf(e,"controllerchange").pipe(Re(()=>e.controller)),i=Sf(tm(()=>_n(e.controller)),r);this.worker=i.pipe(ui(m=>!!m)),this.registration=this.worker.pipe(di(()=>e.getRegistration()));const f=Cf(e,"message").pipe(Re(m=>m.data)).pipe(ui(m=>m&&m.type)).pipe(function ZH(n){return n?e=>MT(n)(e):e=>function WH(n,e){const t=I(n)?n:()=>n;return I(e)?MT(e,{connector:t}):r=>new pv(r,t)}(new tt)(e)}());f.connect(),this.events=f}else this.worker=this.events=this.registration=function YH(n){return tm(()=>Mu(new Error(n)))}(ep)}postMessage(e,t){return this.worker.pipe(Is(1),fi(r=>{r.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){const o=this.waitForOperationCompleted(r),i=this.postMessage(e,t);return Promise.all([i,o]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(ui(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(Is(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(ui(t=>t.nonce===e),Is(1),Re(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let XH=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new tt,!t.isEnabled)return this.messages=Zl,this.notificationClicks=Zl,void(this.subscription=Zl);this.messages=this.sw.eventsOfType("PUSH").pipe(Re(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Re(o=>o.data)),this.pushManager=this.sw.registration.pipe(Re(o=>o.pushManager));const r=this.pushManager.pipe(di(o=>o.getSubscription()));this.subscription=li(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(ep));const r={userVisibleOnly:!0};let o=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),i=new Uint8Array(new ArrayBuffer(o.length));for(let s=0;s<o.length;s++)i[s]=o.charCodeAt(s);return r.applicationServerKey=i,this.pushManager.pipe(di(s=>s.subscribe(r)),Is(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Is(1),di(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(ep))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(ee(Hm))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})(),_0=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=Zl,this.available=Zl,this.activated=Zl,void(this.unrecoverable=Zl);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(ui(r=>"VERSION_READY"===r.type),Re(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ep));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ep));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(ee(Hm))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();class v0{}const xT=new rn("NGSW_REGISTER_SCRIPT");function QH(n,e,t,r){return()=>{if(!Cl(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let o;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)o=t.registrationStrategy();else{const[s,...a]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":o=_n(null);break;case"registerWithDelay":o=RT(+a[0]||0);break;case"registerWhenStable":o=a[0]?li(PT(n),RT(+a[0])):PT(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(ut).runOutsideAngular(()=>o.pipe(Is(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function RT(n){return _n(null).pipe(function KH(n,e=Gk){const t=Wk(n,e);return AT(()=>t)}(n))}function PT(n){return n.get(wl).isStable.pipe(ui(t=>t))}function JH(n,e){return new Hm(Cl(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let e6=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[{provide:xT,useValue:t},{provide:v0,useValue:r},{provide:Hm,useFactory:JH,deps:[v0,Su]},{provide:pc,useFactory:QH,deps:[ao,xT,v0,Su],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=V({type:n}),n.\u0275inj=_r({providers:[XH,_0]}),n})();class Pc{constructor(e,t,r,o,i){var s=this;this.kvsService=e,this.emulationService=t,this.alertService=r,this.modalController=o,this.updates=i,this.checkForUpgrade=()=>this.mutex.runExclusive((0,me.Z)(function*(){const a=s.kvsService.kvs.version;void 0!==a?a!==Tc&&(yield s.kvsService.set({version:Tc,previousVersion:a,latestVersion:Tc}),yield s.emulationService.bootstrapComplete(),s.alertService.message("Update complete",`CloudpilotEmu was updated to version ${Tc}.`,{Changes:()=>s.showChangelog()})):s.kvsService.kvs.version=Tc})),this.mutex=new Da,this.mutex.runExclusive(this.checkForDowngrade.bind(this))}start(){this.checkForUpgrade(),this.startUpdateCheck(),this.registerForUpdates()}startUpdateCheck(){this.scheduleUpdateCheck()}registerForUpdates(){var e=this;this.updates.available.subscribe((0,me.Z)(function*(){yield e.emulationService.bootstrapComplete(),e.alertService.updateAvailable()}))}checkForDowngrade(){var e=this;return(0,me.Z)(function*(){if(yield e.kvsService.initialize(),e.kvsService.kvs.previousVersion===Tc){const t=yield window.navigator.serviceWorker.getRegistration();console.log("downgrade detected"),t&&(yield t.unregister())&&(yield e.kvsService.set({previousVersion:void 0}),console.log("worker derigstered, reloading..."),window.location.reload())}})()}showChangelog(){var e=this;return(0,me.Z)(function*(){yield(yield e.modalController.create({component:il,componentProps:{url:"assets/doc/CHANGELOG.md",title:"Changelog"}})).present()})()}scheduleUpdateCheck(){setTimeout(()=>{this.updates.checkForUpdate(),this.scheduleUpdateCheck()},9e5)}}Pc.\u0275fac=function(e){return new(e||Pc)(ee(Zo),ee(ji),ee(Hr),ee(ks),ee(_0))},Pc.\u0275prov=ht({token:Pc,factory:Pc.\u0275fac,providedIn:"root"});class tp{constructor(e,t,r){this.pwaService=e,this.updateService=t,this.bootstrapService=r}ngAfterViewInit(){this.bootstrapService.notifyHasRendered(),this.pwaService.invite(),this.updateService.start()}}tp.\u0275fac=function(e){return new(e||tp)(C(kc),C(Pc),C(Rc))},tp.\u0275cmp=d({type:tp,selectors:[["app-root"]],decls:2,vars:0,template:function(e,t){1&e&&(se(0,"ion-app"),ct(1,"ion-router-outlet"),te())},dependencies:[uk,Gf]});class Ku{constructor(){}}Ku.\u0275fac=function(e){return new(e||Ku)},Ku.\u0275cmp=d({type:Ku,selectors:[["app-dummy"]],decls:2,vars:0,template:function(e,t){1&e&&(se(0,"div"),qe(1,"Dummy"),te())},encapsulation:2});class Fc{constructor(e,t){this.linkApi=e,this.router=t}canActivate(e){return e.url[0]?.path?.startsWith("install")?(this.linkApi.installation.dispatchRequest(e.queryParams.url),this.router.navigateByUrl("/tab/emulation"),!1):!e.url[0]?.path?.startsWith("import")||(this.linkApi.import.dispatchRequest(e.queryParams.url),this.router.navigateByUrl("/tab/sessions"),!1)}}Fc.\u0275fac=function(e){return new(e||Fc)(ee(El),ee(Fo))},Fc.\u0275prov=ht({token:Fc,factory:Fc.\u0275fac,providedIn:"root"});const b0=ie.m515,n6=u0[2],r6=u0[0],Yu="rgba(0,0,0,0.2)";function FT(n){const e=Xf(n),t=(0===e.screenSize?3:2)*devicePixelRatio,r={frameDevice:1,frameCanvas:t},o=u=>({frameDevice:u,frameCanvas:u*t}),i=u=>({frameDevice:u,frameCanvas:r.frameCanvas+u*t}),s=o(e.silkscreenHeight>0?1:0),a=o(function a6(n){switch(n){case 3:case 1:return 60;case 2:return 45;default:return 30}}(e.screenSize));return{scale:t,borderWidth:r,height:o(2*r.frameDevice+e.height+s.frameDevice+e.silkscreenHeight+a.frameDevice),width:o(2*r.frameDevice+e.width),screenHeight:o(e.height),screenWidth:o(e.width),screenLeft:i(0),screenTop:i(0),screenBottom:i(e.height),separatorHeight:s,silkscreenHeight:o(e.silkscreenHeight),silkscreenTop:i(e.height+s.frameDevice),silkscreenBottom:i(e.height+s.frameDevice+e.silkscreenHeight),softSilkscreenHeight:o(e.silkscreenHeight>0?0:e.height-e.width),buttonHeight:a,buttonWidth:a,buttonTop:i(e.height+s.frameDevice+e.silkscreenHeight),buttonBottom:i(e.height+s.frameDevice+e.silkscreenHeight+a.frameDevice)}}class l6{constructor(e){this.skin=e,this.layout=FT(b0),this.onResize=new ni.j}get width(){switch(this.getOrientation()){case wr.portrait:case wr.portrait180:case void 0:return this.layout.width.frameCanvas;default:return this.layout.height.frameCanvas}}get height(){switch(this.getOrientation()){case wr.portrait:case wr.portrait180:case void 0:return this.layout.height.frameCanvas;default:return this.layout.width.frameCanvas}}updateEmulationCanvas(e){this.drawEmulationCanvas(e),this.onAfterUpdateCanvas()}eventToPalmCoordinates(e,t=!1){if(!this.ctx)return;const r=this.ctx.canvas.getBoundingClientRect();let o,i,s,a;r.width/r.height>this.width/this.height?(a=r.height,s=this.width/this.height*r.height,i=r.top,o=r.left+(r.width-s)/2):(s=r.width,a=this.height/this.width*r.width,o=r.left,i=r.top+(r.height-a)/2);let u=(e.clientX-o)/s*this.width/this.layout.scale,f=(e.clientY-i)/a*this.height/this.layout.scale;switch(this.getOrientation()){case wr.landscape90:{const _=f;f=this.layout.height.frameDevice-u,u=_;break}case wr.landscape270:{const _=f;f=u,u=this.layout.width.frameDevice-_;break}case wr.portrait180:u=this.layout.width.frameDevice-u,f=this.layout.height.frameDevice-f}u-=this.layout.borderWidth.frameDevice,f-=this.layout.borderWidth.frameDevice,f>=this.layout.screenHeight.frameDevice&&(f<=this.layout.screenHeight.frameDevice+this.layout.separatorHeight.frameDevice?f=this.layout.screenHeight.frameDevice:f-=this.layout.separatorHeight.frameDevice);const m=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice;if(t)u<0&&(u=0),u>=this.layout.screenWidth.frameDevice&&(u=this.layout.screenWidth.frameDevice-1),f<0&&(f=0),f>=m&&(f=m-1);else if(u<0||u>=this.layout.screenWidth.frameDevice||f<0||f>=m)return;return[u,f]}isSilkscreen(e){const[,t]=e;return!this.isButtons(e)&&t>=this.layout.screenHeight.frameDevice}isButtons([,e]){return e>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice}determineButton([e,t]){return e>=this.layout.screenWidth.frameDevice-this.layout.buttonWidth.frameDevice?3:e>=this.layout.screenWidth.frameDevice-2*this.layout.buttonWidth.frameDevice?2:e>=2*this.layout.buttonWidth.frameDevice?t>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice/2?5:4:e>=this.layout.buttonWidth.frameDevice?1:0}initWithCanvas(e=this.ctx?.canvas){var t=this;return(0,me.Z)(function*(){if(!e)return;t.layout=FT(t.getDeviceId()),t.onResize.dispatch(),e.width=t.width,e.height=t.height;const r=e.getContext("2d");if(!r)throw new Error("canvas not supported - get a new browser");t.ctx=r,t.setupTransformation(),t.fillCanvasRect(0,0,t.layout.width.frameCanvas,t.layout.height.frameCanvas,t.frameColor()),t.fillRect(0,0,t.layout.screenWidth.frameDevice,t.layout.screenHeight.frameDevice+t.layout.silkscreenHeight.frameDevice+t.layout.separatorHeight.frameDevice+t.layout.buttonHeight.frameDevice,t.backgroundColor()),t.drawEmulationCanvas(),yield Promise.all([t.drawSilkscreen(),t.drawButtons()])})()}drawButtons(e=[]){var t=this;return(0,me.Z)(function*(){t.ctx&&(t.setupTransformation(),t.ctx.imageSmoothingEnabled=!0,t.ctx.imageSmoothingQuality="high",t.ctx.drawImage(yield t.buttonsImage()(t.layout.screenWidth.frameCanvas,t.layout.buttonHeight.frameCanvas),t.layout.screenLeft.frameCanvas,t.layout.buttonTop.frameCanvas,t.layout.screenWidth.frameCanvas,t.layout.buttonHeight.frameCanvas),e.includes(0)&&t.fillRect(0,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,Yu),e.includes(1)&&t.fillRect(t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,Yu),e.includes(2)&&t.fillRect(t.layout.screenWidth.frameDevice-2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,Yu),e.includes(3)&&t.fillRect(t.layout.screenWidth.frameDevice-t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,Yu),e.includes(4)&&t.fillRect(2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.screenWidth.frameDevice-4*t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice/2,Yu),e.includes(5)&&t.fillRect(2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice+t.layout.buttonHeight.frameDevice/2,t.layout.screenWidth.frameDevice-4*t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice/2,Yu))})()}onAfterUpdateCanvas(){}setupTransformation(){if(this.ctx)switch(this.ctx?.resetTransform(),this.getOrientation()){case wr.portrait:case void 0:break;case wr.landscape90:this.ctx.translate(this.layout.height.frameCanvas,0),this.ctx.rotate(Math.PI/2);break;case wr.landscape270:this.ctx.translate(0,this.layout.width.frameCanvas),this.ctx.rotate(3*Math.PI/2);break;case wr.portrait180:this.ctx.translate(this.layout.width.frameCanvas,this.layout.height.frameCanvas),this.ctx.rotate(Math.PI)}}drawSilkscreen(){var e=this;return(0,me.Z)(function*(){0===e.layout.silkscreenHeight.frameCanvas||!e.ctx||(e.setupTransformation(),e.fillRect(e.layout.screenLeft.frameDevice,e.layout.silkscreenTop.frameDevice,e.layout.screenWidth.frameDevice,e.layout.silkscreenHeight.frameDevice,n6),e.ctx.imageSmoothingEnabled=!0,e.ctx.imageSmoothingQuality="high",e.ctx.drawImage(yield e.silkscreenImage()(e.layout.screenWidth.frameCanvas,e.layout.silkscreenHeight.frameCanvas),e.layout.borderWidth.frameCanvas,e.layout.silkscreenTop.frameCanvas,e.layout.screenWidth.frameCanvas,e.layout.silkscreenHeight.frameCanvas))})()}drawEmulationCanvas(e=this.lastEmulationCanvas){!e||!this.ctx||(this.lastEmulationCanvas=e,this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(e,this.layout.screenLeft.frameCanvas,this.layout.screenTop.frameCanvas,this.layout.screenWidth.frameCanvas,this.layout.screenHeight.frameCanvas))}fillRect(e,t,r,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(this.layout.borderWidth.frameCanvas+this.layout.scale*e,this.layout.borderWidth.frameCanvas+this.layout.scale*t,this.layout.scale*r,this.layout.scale*o),this.ctx.fillStyle=i,this.ctx.fill())}fillCanvasRect(e,t,r,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(e,t,r,o),this.ctx.fillStyle=i,this.ctx.fill())}silkscreenImage(){switch(this.getDeviceId()){case ie.pegT600c:case ie.pegT650c:return this.skin.SILKSCREEN_PEG_T600;case ie.pegN700c:case ie.pegN600c:return this.skin.SILKSCREEN_PEG_N610;case ie.pegS320:case ie.pegS300:return this.skin.SILKSCREEN_PEG_S300;case ie.pegS500c:return this.skin.SILKSCREEN_PEG_S500;case ie.pegT400:return this.skin.SILKSCREEN_PEG_T415;case ie.palmPilot:case ie.pilot:case ie.iii:case ie.palmVII:return this.skin.SILKSCREEN_PILOT;case ie.m500:return this.skin.SILKSCREEN_M500;case ie.m505:case ie.m515:case ie.m520:return this.skin.SILKSCREEN_M515;case ie.iiic:return this.skin.SILKSCREEN_IIIC;case ie.m100:case ie.m105:case ie.m125:return this.skin.SILKSCREEN_M100;case ie.m130:return this.skin.SILKSCREEN_M130;case ie.i710:return this.skin.SILKSCREEN_TUNGSTEN_W;case ie.i705:return this.skin.SILKSCREEN_I705;default:return this.skin.SILKSCREEN_V}}buttonsImage(){switch(this.getDeviceId()){case ie.acerS11:return this.skin.HARD_BUTTONS_ACER_S10;case ie.pegNR70:return this.skin.HARD_BUTTONS_PEG_NR70;case ie.pegN700c:return this.skin.HARD_BUTTONS_PEG_N700;case ie.pegN600c:return this.skin.HARD_BUTTONS_PEG_N610;case ie.pegS300:return this.skin.HARD_BUTTONS_PEG_S300;case ie.pegS500c:return this.skin.HARD_BUTTONS_PEG_S500;case ie.pegS320:return this.skin.HARD_BUTTONS_PEG_S320;case ie.pegT400:case ie.pegT600c:case ie.pegT650c:return this.skin.HARD_BUTTONS_PEG_T415;case ie.pilot:case ie.palmPilot:return this.skin.HARD_BUTTONS_PILOT;case ie.m500:return this.skin.HARD_BUTTONS_M500;case ie.m505:case ie.m515:case ie.m520:return this.skin.HARD_BUTTONS_M515;case ie.iiic:return this.skin.HARD_BUTTONS_IIIC;case ie.m100:case ie.m105:return this.skin.HARD_BUTTONS_M100;case ie.m125:return this.skin.HARD_BUTTONS_M125;case ie.m130:return this.skin.HARD_BUTTONS_M130;case ie.i710:return this.skin.HARD_BUTTONS_TUNGSTEN_W;case ie.iii:case ie.iiix:case ie.iiixe:case ie.palmVII:case ie.palmVIIEZ:case ie.palmVIIx:return this.skin.HARD_BUTTONS_IIIX;case ie.iiie:return this.skin.HARD_BUTTONS_IIIE;case ie.i705:return this.skin.HARD_BUTTONS_I705;case ie.handera330c:case ie.handera330:return this.skin.HARD_BUTTONS_HANDERA330;default:return this.skin.HARD_BUTTONS_PALM_V}}backgroundColor(){return d0(this.getDeviceId())?"white":r6}frameColor(){return d0(this.getDeviceId())?"white":"#ccc"}}const f6=["SILKSCREEN_V","SILKSCREEN_M500","SILKSCREEN_M515","SILKSCREEN_IIIC","SILKSCREEN_M100","SILKSCREEN_M130","SILKSCREEN_TUNGSTEN_W","SILKSCREEN_PILOT","SILKSCREEN_I705","SILKSCREEN_PEG_S300","SILKSCREEN_PEG_S500","SILKSCREEN_PEG_T415","SILKSCREEN_PEG_N610","SILKSCREEN_PEG_T600","HARD_BUTTONS_PALM_V","HARD_BUTTONS_M515","HARD_BUTTONS_M500","HARD_BUTTONS_IIIC","HARD_BUTTONS_IIIX","HARD_BUTTONS_IIIE","HARD_BUTTONS_M100","HARD_BUTTONS_M125","HARD_BUTTONS_M130","HARD_BUTTONS_TUNGSTEN_W","HARD_BUTTONS_PILOT","HARD_BUTTONS_I705","HARD_BUTTONS_HANDERA330","HARD_BUTTONS_PEG_S300","HARD_BUTTONS_PEG_S500","HARD_BUTTONS_PEG_S320","HARD_BUTTONS_PEG_T415","HARD_BUTTONS_PEG_N610","HARD_BUTTONS_PEG_N700","HARD_BUTTONS_PEG_NR70","HARD_BUTTONS_ACER_S10"];function p6(n){const t=o=>function c6(n,e){let t,r;const o=document.createElement("canvas");return function(){var i=(0,me.Z)(function*(s,a){if(t===s&&r===a)return o;o.width=s,o.height=a;const u=o.getContext("2d");if(!u)throw new Error("get a new browser");return u.drawImage(yield n(),0,0,o.width,o.height),(fj||Xs)&&(yield e).indexOf("data:image")>=0&&(yield new Promise(f=>setTimeout(f,0)),u.drawImage(yield n(),0,0,o.width,o.height)),t=s,r=a,o});return function(s,a){return i.apply(this,arguments)}}()}(function e(o){let i;return(0,me.Z)(function*(){if(!i){const s=(yield n)[o];i=function u6(n){return()=>new Promise((e,t)=>{const r=new Image;r.onload=()=>e(r),r.onerror=()=>t(),r.src=n})}((n=>`data:image/svg+xml;base64,${btoa(n)}`)(s))()}return i})}(o),n.then(i=>i[o])),r={};for(const o of f6)r[o]=t(o);return r}class al extends l6{constructor(){super(p6(x.e(4363).then(x.bind(x,4363)))),this.statisticsVisible=!1}initialize(e,t=this.session){var r=this;return(0,me.Z)(function*(){r.session=t,yield r.initWithCanvas(e)})()}clearStatistics(){var e=this;return(0,me.Z)(function*(){e.statisticsVisible=!1,e.layout.silkscreenHeight.frameCanvas>0?yield e.drawSilkscreen():yield e.drawEmulationCanvas()})()}updateStatistics(e,t){var r=this;return(0,me.Z)(function*(){yield r.clearStatistics(),r.drawStatistics(e,t),r.lastEmulationStatistics=t,r.lastSnapshotStatistics=e,r.statisticsVisible=!0})()}getDeviceId(){return this.session?.device??b0}getOrientation(){return this.session?.deviceOrientation??wr.portrait}onAfterUpdateCanvas(){this.statisticsVisible&&0===this.layout.silkscreenHeight.frameCanvas&&this.drawStatistics(this.lastSnapshotStatistics,this.lastEmulationStatistics)}drawStatistics(e,t){if(!this.ctx)return;this.setupTransformation();const r=this.layout.silkscreenHeight.frameDevice>0?this.layout.silkscreenHeight:this.layout.softSilkscreenHeight,o=this.layout.silkscreenHeight.frameCanvas>0?this.layout.silkscreenTop:{frameCanvas:this.layout.screenBottom.frameCanvas-r.frameCanvas,frameDevice:this.layout.screenBottom.frameDevice-r.frameDevice};this.ctx.beginPath(),this.fillRect(this.layout.screenLeft.frameDevice,o.frameDevice,this.layout.screenWidth.frameDevice,r.frameDevice,"rgba(255,255,255,0.6)");const s=function h6(n){switch(n){case 1:case 3:return 2;case 2:return 1.5;default:return 1}}(Xf(this.session?.device??b0).screenSize);this.ctx.font=6*this.layout.scale*s+"px monospace",this.ctx.fillStyle="black",[...e||t?[]:["collecting statistics..."],...e?[`last snapshot          : ${new Date(e.timestamp).toLocaleTimeString()}`,`snapshot pages         : ${e.pages}`,`snapshot time total    : ${e.timeTotal.toFixed(2)} msec`,`snapshot time blocking : ${e.timeBlocking.toFixed(2)} msec`]:[],...t?[`host speed             : ${t.hostSpeed.toFixed(2)}x`,`emulation speed        : ${t.emulationSpeed.toFixed(2)}x`,`average FPS            : ${t.averageFps.toFixed(2)}`]:[]].forEach((a,u)=>this.ctx.fillText(a,this.layout.screenLeft.frameCanvas+s*this.layout.scale,o.frameCanvas+s*this.layout.scale*(8+6*u)))}}al.\u0275fac=function(e){return new(e||al)},al.\u0275prov=ht({token:al,factory:al.\u0275fac,providedIn:"root"});class Oc{constructor(e,t,r){this.router=e,this.canvasDisplayService=t,this.emulationStateService=r,this.updateUseSmallUI=()=>{const o=!!document.querySelector("html.md"),i=o?56:44;this.useSmallUI=this.canvasArea(window.innerHeight-i-(o?57:51)-6,window.innerWidth-6)<this.canvasArea(window.innerHeight-i-25-6,window.innerWidth-6)},this.useSmallUI=!1,this.isLockedFlag=!1,window.addEventListener("resize",this.updateUseSmallUI),window.addEventListener("orientationchange",this.updateUseSmallUI),t.onResize.addHandler(()=>this.updateUseSmallUI()),this.updateUseSmallUI()}get smallUI(){return"/tab/emulation"===this.router.url&&this.useSmallUI&&void 0!==this.emulationStateService.getCurrentSession()}lock(){this.isLockedFlag=!0}unlock(){this.isLockedFlag=!1}isLocked(){return this.isLockedFlag}canvasArea(e,t){let r,o;return e=Math.min(e,this.canvasDisplayService.height/devicePixelRatio),(t=Math.min(t,this.canvasDisplayService.width/devicePixelRatio))/e>this.canvasDisplayService.width/this.canvasDisplayService.height?(o=e,r=e/this.canvasDisplayService.height*this.canvasDisplayService.width):(r=t,o=t/this.canvasDisplayService.width*this.canvasDisplayService.height),r*o}}Oc.\u0275fac=function(e){return new(e||Oc)(C(Fo),C(al),C(ds))},Oc.\u0275cmp=d({type:Oc,selectors:[["app-tabs"]],decls:23,vars:4,consts:[[1,"overflow-wrapper"],["slot","bottom"],["tab","emulation"],["name","phone-portrait-outline"],["tab","sessions"],["name","albums-outline"],["tab","storage"],["name","folder-outline"],["tab","settings"],["name","cog-outline"],["tab","about"],["name","help-outline"]],template:function(e,t){1&e&&(se(0,"ion-tabs")(1,"div",0)(2,"ion-tab-bar",1)(3,"ion-tab-button",2),ct(4,"ion-icon",3),se(5,"ion-label"),qe(6,"Emulator"),te()(),se(7,"ion-tab-button",4),ct(8,"ion-icon",5),se(9,"ion-label"),qe(10,"Sessions"),te()(),se(11,"ion-tab-button",6),ct(12,"ion-icon",7),se(13,"ion-label"),qe(14,"Cards"),te()(),se(15,"ion-tab-button",8),ct(16,"ion-icon",9),se(17,"ion-label"),qe(18,"Settings"),te()(),se(19,"ion-tab-button",10),ct(20,"ion-icon",11),se(21,"ion-label"),qe(22,"About"),te()()()()()),2&e&&(et(2),Ga("small-ui",t.smallUI)("disabled",t.isLocked()))},dependencies:[oi,ls,Hv,hk,Dk],styles:["ion-tab-bar[_ngcontent-%COMP%]{min-width:280px}ion-tab-bar.small-ui[_ngcontent-%COMP%]{height:25px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:21px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon.md[_ngcontent-%COMP%]{margin-top:3px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:none}ion-tab-bar.disabled[_ngcontent-%COMP%]{display:none}.overflow-wrapper[_ngcontent-%COMP%]{overflow-x:auto}ion-icon[_ngcontent-%COMP%]{font-size:25px}"]});class Aa{}Aa.\u0275fac=function(e){return new(e||Aa)},Aa.\u0275mod=V({type:Aa}),Aa.\u0275inj=_r({imports:[va,Qv.forChild(),Nl,vc,Jh]});class Xu{}Xu.\u0275fac=function(e){return new(e||Xu)},Xu.\u0275mod=V({type:Xu}),Xu.\u0275inj=_r({imports:[va,vc,Nl,Aa,Qv.forChild()]});class Qu{}Qu.\u0275fac=function(e){return new(e||Qu)},Qu.\u0275mod=V({type:Qu}),Qu.\u0275inj=_r({imports:[va,vc,Nl,Aa]});class Ju{}Ju.\u0275fac=function(e){return new(e||Ju)},Ju.\u0275mod=V({type:Ju}),Ju.\u0275inj=_r({imports:[va,vc,Nl,Jh,Aa]});class ed{}ed.\u0275fac=function(e){return new(e||ed)},ed.\u0275mod=V({type:ed}),ed.\u0275inj=_r({imports:[va,vc,Nl,Aa,Jh]});class td{}function m6(n,e){if(1&n){const t=br();se(0,"ion-button",1),lt("click",function(){return Mt(t),Rt($t().onClick())}),ct(1,"ion-icon",2),te()}if(2&n){const t=$t();et(1),ot("name",t.iconName)}}td.\u0275fac=function(e){return new(e||td)},td.\u0275mod=V({type:td}),td.\u0275inj=_r({imports:[va,Nl,vc,Jh,Aa]});class ql{constructor(e){this.pwaService=e}onClick(){this.pwaService.install()}get iconName(){return Xs?"logo-apple-appstore":Xk?"logo-google-playstore":"apps-outline"}get show(){return this.pwaService.promptForInstall()}}function g6(n,e){1&n&&(se(0,"div",11),ct(1,"ion-spinner"),te())}function y6(n,e){1&n&&(se(0,"div"),qe(1,"app cached for offline use"),te())}ql.\u0275fac=function(e){return new(e||ql)(C(kc))},ql.\u0275cmp=d({type:ql,selectors:[["app-pwa-prompt"]],decls:1,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"],[3,"name"]],template:function(e,t){1&e&&sn(0,m6,2,1,"ion-button",0),2&e&&ot("ngIf",t.show)},dependencies:[ti,os,oi]});class np{constructor(e,t){this.modalController=e,this.updates=t,this.loading=!0}get version(){return Tc}showChangelog(){var e=this;return(0,me.Z)(function*(){yield(yield e.modalController.create({component:il,componentProps:{url:"assets/doc/CHANGELOG.md",title:"Changelog"}})).present()})()}get serviceWorkerAvailable(){return this.updates.isEnabled}}function _6(n,e){if(1&n&&(se(0,"ion-select-option",17),qe(1),te()),2&n){const t=e.$implicit;ot("value",t[0]),et(1),Ti("",t[1]," ")}}function v6(n,e){if(1&n&&(se(0,"ion-select-option",17),qe(1),te()),2&n){const t=e.$implicit;ot("value",t[0]),et(1),Ti("",t[1]," ")}}function b6(n,e){if(1&n&&(se(0,"ion-item",7)(1,"ion-label",8),qe(2,"Hotsync name"),te(),ct(3,"ion-input",18),te()),2&n){const t=$t();et(3),ot("placeholder",t.placeholder)}}np.\u0275fac=function(e){return new(e||np)(C(ks),C(_0))},np.\u0275cmp=d({type:np,selectors:[["app-about"]],decls:21,vars:4,consts:[[3,"translucent"],["slot","secondary"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],[1,"markdown-container"],["src","assets/doc/about.md",3,"load"],[1,"version"],["href","javascript:",3,"click"],[4,"ngIf"],["src","assets/logo.svg",1,"logo"],[1,"loader"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"About"),te(),se(4,"ion-buttons",1),ct(5,"app-pwa-prompt"),te()()(),se(6,"ion-content")(7,"ion-header",2)(8,"ion-toolbar")(9,"ion-title",3),qe(10,"About"),te()()(),sn(11,g6,2,0,"div",4),se(12,"div",5)(13,"markdown",6),lt("load",function(){return t.loading=!1}),te()(),se(14,"div",7),qe(15),ct(16,"br"),se(17,"a",8),lt("click",function(){return t.showChangelog()}),qe(18,"Changelog"),te(),sn(19,y6,2,0,"div",9),te(),ct(20,"img",10),te()),2&e&&(ot("translucent",!0),et(11),ot("ngIf",t.loading),et(4),Ti(" CloudpilotEmu version ",t.version," "),et(4),ot("ngIf",t.serviceWorkerAvailable))},dependencies:[ti,is,ss,as,jf,cs,us,ql,Xv],styles:[".version[_ngcontent-%COMP%]{width:100%;bottom:1em;text-align:center;font-size:.75em;margin-top:3em;margin-bottom:1em}.markdown-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:center}markdown[_ngcontent-%COMP%]{display:block;margin-left:.5em;margin-right:.5em;max-width:40em}.loader[_ngcontent-%COMP%]{width:100%;height:10em;display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{width:10em;height:10em;margin:1em auto;display:block}@media (prefers-color-scheme: dark){.logo[_ngcontent-%COMP%]{filter:invert(100%)}}"]});class nd{constructor(e,t){this.sessionService=e,this.alertService=t,this.validateNameUnique=r=>r.value!==this.session.name&&this.sessionService.getSessions().some(o=>o.name===r.value)?{name:"already taken"}:null,this.onSave=()=>{},this.onCancel=()=>{},this.orientations=[[wr.portrait,"Portrait"],[wr.landscape90,"Landscape 90\xb0"],[wr.landscape270,"Landscape 270\xb0"],[wr.portrait180,"Upside down"]]}get formControlName(){return this.formGroup.get("name")}get formControlHotsyncName(){return this.formGroup.get("hotsyncName")}get formControlDevice(){return this.formGroup.get("device")}get formControlManageHotsyncName(){return this.formGroup.get("manageHotsyncName")}get formControlSpeed(){return this.formGroup.get("speed")}get formControlOrientation(){return this.formGroup.get("orientation")}get showHotsyncNameInput(){return this.formControlManageHotsyncName.value}get placeholder(){return this.formControlHotsyncName.value?this.formControlName.value:void 0!==this.session.hotsyncName||this.session.dontManageHotsyncName?"Enter hotsync name":"use setting from device"}get deviceList(){return this.availableDevices.map(e=>[e,fT(e)])}ngOnInit(){this.createFormGroup()}save(){this.formGroup.invalid||(this.session.name=this.formControlName.value,this.formControlManageHotsyncName.value?this.session.dontManageHotsyncName?(this.session.dontManageHotsyncName=!1,this.session.hotsyncName=this.formControlHotsyncName.value||"",this.alertService.message("Reset required","Please reset the virtual device in order to make sure that the hotsync name is synced properly again.")):this.session.hotsyncName=this.formControlHotsyncName.value||(void 0===this.session.hotsyncName?void 0:""):this.session.dontManageHotsyncName=!0,this.session.device=this.formControlDevice.value,this.session.speed=this.speedValue,this.session.deviceOrientation=this.formControlOrientation.value,this.onSave())}onEnter(){this.save()}get speedValue(){const e=this.formControlSpeed.value||0;return e>=0?1+e:1/(1-e)}get speedLabel(){return"Clock: "+(0===this.formControlSpeed.value?"default":`${Math.round(this.speedValue*function aH(n){switch(n){case ie.palmPilot:case ie.pilot:case ie.iii:case ie.palmVII:case ie.palmVx:case ie.palmV:case ie.palmVIIEZ:case ie.palmVIIx:case ie.iiic:case ie.iiix:case ie.iiixe:case ie.iiie:case ie.m100:case ie.m105:case ie.pegS300:case ie.pegS500c:return 16;case ie.m500:case ie.m505:case ie.m515:case ie.m520:case ie.m125:case ie.m130:case ie.i705:case ie.i710:case ie.handera330:case ie.handera330c:case ie.pegS320:case ie.pegT400:case ie.pegN600c:case ie.pegT600c:case ie.pegN700c:case ie.acerS11:return 33;case ie.pegT650c:case ie.pegNR70:return 66}}(this.formControlDevice.value))}MHz`)}createFormGroup(){this.formGroup=new Zh({name:new ri(this.session.name,{validators:[Uh.required,this.validateNameUnique]}),manageHotsyncName:new ri(!this.session.dontManageHotsyncName),hotsyncName:new ri(this.session.hotsyncName||""),device:new ri({value:this.session.device,disabled:1===this.availableDevices.length}),speed:new ri((this.session.speed||1)>=1?(this.session.speed||1)-1:1-1/this.session.speed),orientation:new ri(this.session.deviceOrientation||wr.portrait)})}}nd.\u0275fac=function(e){return new(e||nd)(C(Ma),C(Hr))},nd.\u0275cmp=d({type:nd,selectors:[["app-session-settings"]],inputs:{onSave:"onSave",onCancel:"onCancel",session:"session",availableDevices:"availableDevices"},decls:41,vars:6,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter session name","formControlName","name"],["formControlName","device"],[3,"value",4,"ngFor","ngForOf"],["formControlName","orientation"],[1,"label-speed"],["min","-4","max","4","step","0.25","snaps","true","ticks","false","formControlName","speed"],["formControlName","manageHotsyncName"],["lines","none",4,"ngIf"],[3,"value"],["formControlName","hotsyncName","maxlength","40",3,"placeholder"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"Session settings"),te(),se(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return t.save()}),qe(6,"Save"),te()(),se(7,"ion-buttons",3)(8,"ion-button",4),lt("click",function(){return t.onCancel()}),qe(9,"Cancel"),te()()()(),se(10,"ion-content",5)(11,"form",6),lt("keydown.enter",function(){return t.onEnter()}),se(12,"h1"),qe(13,"Session"),te(),se(14,"ion-item",7)(15,"ion-label",8),qe(16,"Session name"),te(),ct(17,"ion-input",9),te(),se(18,"h1"),qe(19,"Device"),te(),se(20,"ion-item",7)(21,"ion-label",8),qe(22,"Device type"),te(),se(23,"ion-select",10),sn(24,_6,2,2,"ion-select-option",11),te()(),se(25,"ion-item",7)(26,"ion-label",8),qe(27,"Orientation"),te(),se(28,"ion-select",12),sn(29,v6,2,2,"ion-select-option",11),te()(),se(30,"ion-item",7)(31,"ion-label",13),qe(32),te(),ct(33,"ion-range",14),te(),se(34,"h1"),qe(35,"Hotsync"),te(),se(36,"ion-item",7)(37,"ion-label"),qe(38,"Manage hotsync name"),te(),ct(39,"ion-toggle",15),te(),sn(40,b6,4,1,"ion-item",16),te()()),2&e&&(et(5),ot("disabled",t.formGroup.invalid),et(6),ot("formGroup",t.formGroup),et(13),ot("ngForOf",t.deviceList),et(5),ot("ngForOf",t.orientations),et(3),ws(t.speedLabel),et(8),ot("ngIf",t.showHotsyncNameInput))},dependencies:[mc,ti,os,is,ss,as,Fl,ii,ls,jv,km,Tm,cs,Hf,us,ju,Uf,Pl,xl,Ml,Al,dv,ba,Qa],styles:["ion-item[_ngcontent-%COMP%]{--highlight-color-valid: var(--highlight-color-focused);--background: none}.label-speed[_ngcontent-%COMP%]{min-width:7.5rem}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}"]});class rd{constructor(e,t,r,o,i,s,a){this.emulationService=e,this.loadingController=t,this.snapshotService=r,this.fileService=o,this.emulationStateService=i,this.alertService=s,this.cloudpilotService=a}saveBackup(e){var t=this;return(0,me.Z)(function*(){const r=t.emulationStateService.getCurrentSession();if(!r)return;const o=yield t.loadingController.create({message:"Backing up..."});yield o.present();let s,i=[];yield t.emulationService.pause(),yield t.snapshotService.waitForPendingSnapshot();try{const a=yield t.cloudpilotService.cloudpilot;yield a.backup(function(){var u=(0,me.Z)(function*(f){for(f.Init(e);f.IsInProgress();){const m=f.GetCurrentDatabase();f.Save()||i.push(m),yield new Promise(_=>setTimeout(_,0))}s=a.getArchive(f)});return function(f){return u.apply(this,arguments)}}())}finally{yield o.dismiss(),yield t.emulationService.resume()}s?i.length>0?yield t.alertService.message("Backup complete",`\n                    ${f0(i)} failed  to backup.\n                    <br/><br/>\n                    Open databases cannot be backuped. Please run backup from the launcher\n                    in order to backup all databases.\n                `,{"Save Backup":()=>t.fileService.saveFile(vT(r,e),s)},"Cancel"):t.fileService.saveFile(vT(r,e),s):yield t.alertService.errorMessage("Backup failed.")})()}}rd.\u0275fac=function(e){return new(e||rd)(ee(ji),ee(Ol),ee(Ta),ee($s),ee(ds),ee(Hr),ee(Ui))},rd.\u0275prov=ht({token:rd,factory:rd.\u0275fac,providedIn:"root"});const w6=window.AudioContext||window.webkitAudioContext;function w0(n,e=100){return new Promise((t,r)=>{setTimeout(()=>r(new Error("timeout")),e),n.then(t,r)})}class C6{constructor(e){var t=this;this.emulationService=e,this.initialize=()=>this.mutex.runExclusive((0,me.Z)(function*(){if(!t.initialized){try{t.context=new w6}catch(r){return console.error(r),void console.error("web audio not available")}try{t.context.destination.channelCount=1}catch{console.warn("audio driver: failed to set channel count")}try{yield t.start()}catch(r){return console.error(r),void console.error("failed to initialize audio context")}t.context.addEventListener("statechange",()=>{"interrupted"===t.context?.state&&t.updateState()}),t.gainNode=t.context.createGain(),t.gainNode.channelCount=1,t.gainNode.channelInterpretation="speakers",t.gainNode.gain.value=t.gain(),t.gainNode.connect(t.context.destination),t.applyPwmUpdate(),t.initialized=!0}})),this.updateState=(r=!1)=>this.mutex.runExclusive((0,me.Z)(function*(){if(!t.context||t.isRunning()===t.shouldRun())return;!r&&!t.isRunning()&&t.shouldRun()&&t.applyPwmUpdate();const o=t.context.state;if(t.shouldRun())try{t.updateGain(),yield w0(t.context.resume()),console.log("resume audio context")}catch{console.error(`failed to resume audio from state ${o}`)}else try{yield w0(t.context.suspend()),console.log("suspend audio context")}catch{console.error(`failed to suspend audio from state ${o}`)}console.log(`audio context state change ${o} -> ${t.context.state}`)})),this.onPwmUpdate=function(){var r=(0,me.Z)(function*(o){t.pendingPwmUpdate=o,t.initialized&&(t.shouldRun()!==t.isRunning()&&t.updateState(!0),t.shouldRun()&&t.applyPwmUpdate())});return function(o){return r.apply(this,arguments)}}(),this.mutex=new Da,this.initialized=!1,this.muted=!1,this.emulationService.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.emulationService.emulationStateChangeEvent.addHandler(()=>this.updateState()),this.emulationService.powerOffChangeEvent.addHandler(()=>this.updateState()),Xs||document.addEventListener("visibilitychange",()=>this.updateState())}isInitialized(){return this.initialized}mute(e){this.muted=e,this.updateState()}isMuted(){return this.muted}shouldRun(){return this.emulationService.isRunning()&&!this.emulationService.isPowerOff()&&!this.muted&&this.gain()>0&&("hidden"!==document.visibilityState||Xs||this.runHidden())}updateGain(){this.gainNode&&(this.gainNode.gain.value=this.gain())}start(){var e=this;return(0,me.Z)(function*(){e.context&&(yield w0(e.context.resume()),e.updateState(),console.log("audio context initialized"))})()}isRunning(){return"running"===this.context?.state}applyPwmUpdate(){if(!this.context||!this.pendingPwmUpdate)return;const{frequency:e,dutyCycle:t}=this.pendingPwmUpdate,r=this.context.sampleRate;if(this.pendingPwmUpdate=void 0,e<=0||t<=0||e>=r)return void this.disconnectSource();const o=this.context.createBuffer(1,Math.round(r/e),r),i=o.getChannelData(0);for(let a=0;a<i.length;a++)i[a]=a/i.length<t?1:0;const s=this.context.createBufferSource();s.channelCount=1,s.channelInterpretation="speakers",s.loop=!0,s.buffer=o,this.disconnectSource(),s.connect(this.gainNode),s.start(),this.bufferSourceNode=s,this.pendingPwmUpdate=void 0}disconnectSource(){this.bufferSourceNode&&(this.bufferSourceNode.stop(),this.bufferSourceNode.disconnect(),this.bufferSourceNode=void 0)}gain(){return this.getVolume()/2}}class Kl extends C6{constructor(e,t,r){super(e),this.kvs=t,this.modalWatcher=r,this.modalWatcher.modalVisibilityChangeEvent.addHandler(()=>this.updateState())}getVolume(){return this.kvs.kvs.volume}runHidden(){return this.kvs.kvs.runHidden}shouldRun(){return!this.modalWatcher.isModalActive()&&super.shouldRun()}}Kl.\u0275fac=function(e){return new(e||Kl)(ee(ji),ee(Zo),ee(Gl))},Kl.\u0275prov=ht({token:Kl,factory:Kl.\u0275fac,providedIn:"root"});class Nc{constructor(e,t){this.emulationService=e,this.ngZone=t,this.onInterval=()=>{this.emulationService.getEmulationSpeed()<1?(this.level<3&&this.level++,3===this.level&&this.ngZone.run(()=>this.slowdownDetected=!0)):(this.level>0&&this.level--,0===this.level&&this.ngZone.run(()=>this.slowdownDetected=!1))},this.onEmulationStateChanged=r=>{this.reset(),r&&void 0===this.intervalHandle&&(this.onInterval(),this.ngZone.runOutsideAngular(()=>this.intervalHandle=window.setInterval(this.onInterval,1e3))),!r&&void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)},this.slowdownDetected=!1,this.level=0,this.onEmulationStateChanged(this.emulationService.isRunning()),this.emulationService.emulationStateChangeEvent.addHandler(this.onEmulationStateChanged)}isSlowdownDetected(){return this.slowdownDetected}reset(){this.slowdownDetected=!1,this.level=0}ngOnDestroy(){this.emulationService.emulationStateChangeEvent.removeHandler(this.onEmulationStateChanged),void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)}}function E6(n,e){if(1&n){const t=br();se(0,"ion-item",4),lt("click",function(){return Mt(t),Rt($t().power())}),se(1,"ion-label"),qe(2,"Power"),te(),ct(3,"ion-icon",5),te()}if(2&n){const t=$t();ot("detail",!1)("disabled",!t.emulationService.isRunning())}}function D6(n,e){if(1&n){const t=br();se(0,"ion-item",4),lt("click",function(){return Mt(t),Rt($t().hotsync())}),se(1,"ion-label"),qe(2,"Hotsync"),te(),ct(3,"ion-icon",6),te()}if(2&n){const t=$t();ot("detail",!1)("disabled",!t.emulationService.isRunning())}}function I6(n,e){if(1&n){const t=br();se(0,"ion-item",4),lt("click",function(){return Mt(t),Rt($t().reset())}),se(1,"ion-label"),qe(2,"Reset"),te(),ct(3,"ion-icon",7),te()}if(2&n){const t=$t();ot("detail",!1)("disabled",!t.emulationService.isRunning())}}function k6(n,e){if(1&n){const t=br();se(0,"ion-item",8),lt("click",function(){return Mt(t),Rt($t().insertCard())}),se(1,"ion-label"),qe(2),te(),ct(3,"ion-icon",9),te()}if(2&n){const t=$t();ot("detail",!1),et(2),Ti("Insert ",t.hasMemorystick?"stick":"SD card","")}}function T6(n,e){if(1&n){const t=br();se(0,"ion-item",8),lt("click",function(){return Mt(t),Rt($t().ejectCard())}),se(1,"ion-label"),qe(2),te(),ct(3,"ion-icon",10),te()}if(2&n){const t=$t();ot("detail",!1),et(2),Ti("Eject ",t.hasMemorystick?"stick":"SD card","")}}function M6(n,e){if(1&n){const t=br();se(0,"ion-item",8),lt("click",function(){return Mt(t),Rt($t().mute(!1))}),se(1,"ion-label"),qe(2,"Enable audio"),te(),ct(3,"ion-icon",11),te()}2&n&&ot("detail",!1)}function A6(n,e){if(1&n){const t=br();se(0,"ion-item",8),lt("click",function(){return Mt(t),Rt($t().mute(!0))}),se(1,"ion-label"),qe(2,"Disable audio"),te(),ct(3,"ion-icon",12),te()}2&n&&ot("detail",!1)}function x6(n,e){if(1&n){const t=br();se(0,"ion-item",4),lt("click",function(){return Mt(t),Rt($t().backup())}),se(1,"ion-label"),qe(2,"Save backup"),te(),ct(3,"ion-icon",13),te()}if(2&n){const t=$t();ot("detail",!1)("disabled",t.backupDisabled)}}function R6(n,e){if(1&n){const t=br();se(0,"ion-item",8),lt("click",function(){return Mt(t),Rt($t().rotate())}),se(1,"ion-label"),qe(2,"Rotate"),te(),ct(3,"ion-icon",14),te()}2&n&&ot("detail",!1)}function P6(n,e){if(1&n){const t=br();se(0,"ion-item",8),lt("click",function(){return Mt(t),Rt($t().editSettings())}),se(1,"ion-label"),qe(2,"Settings"),te(),ct(3,"ion-icon",15),te()}2&n&&ot("detail",!1)}function F6(n){switch(n){case wr.portrait:case void 0:return wr.landscape90;case wr.landscape90:return wr.portrait180;case wr.portrait180:return wr.landscape270;case wr.landscape270:return wr.portrait;default:throw new Error("cannot happen")}}Nc.\u0275fac=function(e){return new(e||Nc)(ee(ji),ee(ut))},Nc.\u0275prov=ht({token:Nc,factory:Nc.\u0275fac,providedIn:"root"});class rp{constructor(e,t,r,o,i,s,a,u,f,m,_,k,M,Q,Ae,Ze,Ke,bt){this.emulationService=e,this.emulationStateService=t,this.backupService=r,this.buttonService=o,this.actionSheetController=i,this.popoverController=s,this.audioService=a,this.kvsService=u,this.modalController=f,this.sessionService=m,this.performanceWatchdogService=_,this.canvasDisplayService=k,this.cloudpilotService=M,this.storageCardService=Q,this.alertService=Ae,this.alertController=Ze,this.storageService=Ke,this.errorService=bt,this.showHelp=()=>{}}reset(){var e=this;return(0,me.Z)(function*(){e.popoverController.dismiss(),(yield e.actionSheetController.create({header:"How do you want to reset?",buttons:[{text:"Normal boot",handler:()=>e.emulationService.reset()},{text:"No extensions",handler:()=>e.emulationService.resetNoExtensions()},{text:"Hard reset",handler:()=>e.emulationService.resetHard()},{text:"Cancel",role:"cancel"}]})).present()})()}power(){this.buttonService.engage(6),this.popoverController.dismiss()}hotsync(){this.buttonService.engage(7),this.popoverController.dismiss()}help(){this.showHelp(),this.popoverController.dismiss()}backup(){var e=this;return(0,me.Z)(function*(){e.popoverController.dismiss(),(yield e.actionSheetController.create({header:"What do you want to backup?",buttons:[{text:"Only RAM (default)",handler:()=>e.backupService.saveBackup(!1)},{text:"Include ROM",handler:()=>e.backupService.saveBackup(!0)},{text:"Cancel",role:"cancel"}]})).present()})()}get isMuted(){return!this.audioService.isInitialized()||this.audioService.isMuted()}get isAudioOff(){return this.kvsService.kvs.volume<=0}mute(e){e?this.audioService.mute(!0):this.audioService.isInitialized()?this.audioService.mute(!1):this.audioService.initialize()}get backupDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get powerDisabled(){const e=this.emulationStateService.getCurrentSession();return!!e&&function lH(n){return[ie.i705,ie.i710,ie.pegNR70,ie.pegT650c].includes(n)}(e.device)}get hasActiveSession(){return!!this.emulationStateService.getCurrentSession()}get supportsStorageCard(){const e=this.emulationStateService.getCurrentSession();return!!e&&pT(e.device)!==zl.none}get hasMemorystick(){const e=this.emulationStateService.getCurrentSession();return!!e&&pT(e.device)===zl.memorystick}get hasMountedCard(){return void 0!==this.emulationStateService.getCurrentSession()?.mountedCard}editSettings(){var e=this;return(0,me.Z)(function*(){const t=e.emulationStateService.getCurrentSession();if(!t)return;const r=t.speed,o=t.deviceOrientation,i=yield e.modalController.create({component:nd,backdropDismiss:!1,componentProps:{session:t,availableDevices:[t.device],onSave:(s=(0,me.Z)(function*(){r!==t.speed&&e.performanceWatchdogService.reset(),o!==t.deviceOrientation&&(e.canvasDisplayService.initialize(void 0,t),e.canvasDisplayService.updateEmulationCanvas()),yield e.sessionService.updateSession(t),i.dismiss()}),function(){return s.apply(this,arguments)}),onCancel:()=>i.dismiss()}});var s;yield e.popoverController.dismiss(),yield i.present()})()}rotate(){var e=this;return(0,me.Z)(function*(){const t=e.emulationStateService.getCurrentSession();if(!t)return;yield e.storageService.updateSessionPartial(t.id,{deviceOrientation:F6(t.deviceOrientation)});const r=e.emulationStateService.getCurrentSession();yield e.canvasDisplayService.initialize(void 0,r),e.canvasDisplayService.updateEmulationCanvas()})()}insertCard(){var e=this;return(0,me.Z)(function*(){if(e.popoverController.dismiss(),void 0===e.emulationStateService.getCurrentSession()?.device)return;const r=yield e.cloudpilotService.cloudpilot,o=e.storageCardService.getAllCards().filter(s=>r.deviceSupportsCardSize(s.size)&&!e.storageCardService.mountedInSession(s.id));0!==o.length?yield(yield e.alertController.create({header:"Choose image for insertion",buttons:[{text:"Cancel",role:"cancel"},{text:"Insert",handler:s=>e.storageCardService.insertCard(s)}],inputs:o.map((s,a)=>({label:s.name,type:"radio",value:s.id,checked:0===a})),backdropDismiss:!1})).present():e.alertService.message("No image available",`There is no ${e.hasMemorystick?"memory stick":"SD card"} image available. Please go to the "Storage" tab in order to create new one.`)})()}ejectCard(){var e=this;return(0,me.Z)(function*(){try{yield e.storageCardService.ejectCurrentCard()}catch(t){e.errorService.fatalBug(t instanceof Error?t.message:"eject failed")}e.popoverController.dismiss()})()}}rp.\u0275fac=function(e){return new(e||rp)(C(ji),C(ds),C(rd),C(xc),C(Zf),C(Ic),C(Kl),C(Zo),C(ks),C(Ma),C(Nc),C(al),C(Ui),C(Qs),C(Hr),C(zu),C(Qn),C(Ls))},rp.\u0275cmp=d({type:rp,selectors:[["app-emulation-context-menu"]],inputs:{showHelp:"showHelp"},decls:15,vars:11,consts:[["lines","full","button","",3,"detail","disabled","click",4,"ngIf"],["lines","full","button","",3,"detail","click",4,"ngIf"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"],["lines","full","button","",3,"detail","disabled","click"],["name","power-outline","slot","end"],["name","sync-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","log-in-outline","slot","end"],["name","log-out-outline","slot","end"],["name","volume-high-outline","slot","end"],["name","volume-mute-outline","slot","end"],["name","share-outline","slot","end"],["name","reload-outline","slot","end"],["name","cog-outline","slot","end"]],template:function(e,t){1&e&&(se(0,"ion-list"),sn(1,E6,4,2,"ion-item",0),sn(2,D6,4,2,"ion-item",0),sn(3,I6,4,2,"ion-item",0),sn(4,k6,4,2,"ion-item",1),sn(5,T6,4,2,"ion-item",1),sn(6,M6,4,1,"ion-item",1),sn(7,A6,4,1,"ion-item",1),sn(8,x6,4,2,"ion-item",0),sn(9,R6,4,1,"ion-item",1),sn(10,P6,4,1,"ion-item",1),se(11,"ion-item",2),lt("click",function(){return t.help()}),se(12,"ion-label"),qe(13,"Help"),te(),ct(14,"ion-icon",3),te()()),2&e&&(et(1),ot("ngIf",t.hasActiveSession&&!t.powerDisabled),et(1),ot("ngIf",t.hasActiveSession),et(1),ot("ngIf",t.hasActiveSession),et(1),ot("ngIf",t.supportsStorageCard&&!t.hasMountedCard),et(1),ot("ngIf",t.supportsStorageCard&&t.hasMountedCard),et(1),ot("ngIf",t.isMuted&&!t.isAudioOff),et(1),ot("ngIf",!t.isMuted&&!t.isAudioOff),et(1),ot("ngIf",t.hasActiveSession),et(1),ot("ngIf",t.hasActiveSession),et(1),ot("ngIf",t.hasActiveSession),et(1),ot("detail",!1))},dependencies:[ti,oi,ii,ls,Sa]});class O6{constructor(e,t){this.emulationService=e,this.canvasDisplayService=t,this.handleMouseDown=r=>{if(0!==r.button)return;const o=this.canvasDisplayService.eventToPalmCoordinates(r);if(!o)return;const i=this.determineArea(o);if(2===i){const s=this.canvasDisplayService.determineButton(o);this.interactionMouse={area:i,buttonPrimary:s},this.handleButtonDown(s)}else this.interactionMouse={area:i},this.emulationService.handlePointerMove(...o,1===i)},this.handleMouseMove=r=>{if(!(1&r.buttons&&this.interactionMouse&&2!==this.interactionMouse?.area))return;const o=this.canvasDisplayService.eventToPalmCoordinates(r,!0);o&&this.emulationService.handlePointerMove(...o,1===this.interactionMouse?.area)},this.handeMouseUp=r=>{if(0!==r.button)return;const o=this.interactionMouse;switch(this.interactionMouse=void 0,o?.area){case 2:this.handleButtonUp(o.buttonPrimary);break;case 0:case 1:this.emulationService.handlePointerUp()}},this.handleTouchStart=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.canvasDisplayService.eventToPalmCoordinates(s);if(!a)continue;o=!0;const u=this.determineArea(a);if(2===u){const f=this.canvasDisplayService.determineButton(a);this.interactionsTouch.set(s.identifier,{area:u,buttonPrimary:f}),this.handleButtonDown(f)}else this.interactionsTouch.set(s.identifier,{area:u}),this.emulationService.handlePointerMove(...a,1===u)}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchMove=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);if(!a)continue;o=!0;const u=a.area;switch(u){case 2:{const f=this.canvasDisplayService.eventToPalmCoordinates(s);if(!f||2!==this.determineArea(f)){this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0;break}const m=this.canvasDisplayService.determineButton(f);m===a.buttonPrimary?(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0):m!==a.buttonSecondary&&(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=m,this.handleButtonDown(m));break}case 0:case 1:{const f=this.canvasDisplayService.eventToPalmCoordinates(s,!0);if(!f)continue;this.emulationService.handlePointerMove(...f,1===u);break}default:continue}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchEnd=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);switch(a&&(o=!0),this.interactionsTouch.delete(s.identifier),a?.area){case 2:this.handleButtonUp(a.buttonPrimary),this.handleButtonUp(a.buttonSecondary);break;case 0:case 1:this.emulationService.handlePointerUp()}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleKeyDown=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;if(this.isToggleGameMode(r))return r.preventDefault(),this.gameMode=!this.gameMode,void this.onToggleGameMode();const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonDown(o),void r.preventDefault();const i=this.keyCodeFromEvent(r);void 0!==i&&(this.emulationService.handleKeyDown(i),r.preventDefault())},this.handleKeyUp=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonUp(o),void r.preventDefault();if("Control"===r.key){for(const i of this.activeButtons)this.emulationService.handleButtonUp(i);this.activeButtons.clear(),this.canvasDisplayService.drawButtons([])}},this.keyEventTarget=window,this.interactionsTouch=new Map,this.activeButtons=new Set,this.gameMode=!1,this.enableGamemodeHotkey=!0}bind(e,t=window){this.pointerEventTarget&&this.release(),this.pointerEventTarget=e,this.keyEventTarget=t||window,this.addEventListener(e,"mousedown",this.handleMouseDown),this.addEventListener(window,"mouseup",this.handeMouseUp),this.addEventListener(window,"mousemove",this.handleMouseMove),this.addEventListener(e,"touchstart",this.handleTouchStart),this.addEventListener(e,"touchmove",this.handleTouchMove),this.addEventListener(e,"touchend",this.handleTouchEnd),this.addEventListener(e,"touchcancel",this.handleTouchEnd),this.addEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.addEventListener(this.keyEventTarget,"keyup",this.handleKeyUp)}release(){if(this.pointerEventTarget){this.removeEventListener(this.pointerEventTarget,"mousedown",this.handleMouseDown),this.removeEventListener(window,"mouseup",this.handeMouseUp),this.removeEventListener(window,"mousemove",this.handleMouseMove),this.removeEventListener(this.pointerEventTarget,"touchstart",this.handleTouchStart),this.removeEventListener(this.pointerEventTarget,"touchmove",this.handleTouchMove),this.removeEventListener(this.pointerEventTarget,"touchend",this.handleTouchEnd),this.removeEventListener(this.pointerEventTarget,"touchcancel",this.handleTouchEnd),this.removeEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.removeEventListener(this.keyEventTarget,"keyup",this.handleKeyUp);for(const e of this.activeButtons)this.handleButtonUp(e);this.activeButtons.clear(),this.interactionsTouch.clear(),this.interactionMouse=void 0,this.pointerEventTarget=void 0}}isGameMode(){return this.gameMode}setGameMode(e){this.gameMode=e,this.onToggleGameMode()}setGameModeHotkeyEnabled(e){this.enableGamemodeHotkey=e}isGameModeHotkeyEnabled(){return this.enableGamemodeHotkey}enableKeyboardEvents(){return!0}onToggleGameMode(){}addEventListener(e,t,r,o){e.addEventListener(t,r,o)}removeEventListener(e,t,r,o){e.removeEventListener(t,r,o)}determineArea(e){return this.canvasDisplayService.isButtons(e)?2:this.canvasDisplayService.isSilkscreen(e)?1:0}handleButtonDown(e){this.activeButtons.has(e)||(this.activeButtons.add(e),this.emulationService.handleButtonDown(e),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}handleButtonUp(e){void 0===e||!this.activeButtons.has(e)||(this.activeButtons.delete(e),this.emulationService.handleButtonUp(e),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}isToggleGameMode(e){return this.isGameModeHotkeyEnabled()&&("Shift"===e.key&&e.ctrlKey||"Control"===e.key&&e.shiftKey)}isGameModeActive(e){return!this.gameMode&&e.ctrlKey||this.gameMode&&!e.ctrlKey}buttonFromEvent(e){switch(e.key){case"PageUp":return 4;case"PageDown":return 5}if(this.isGameModeActive(e))switch(e.key){case"w":case"i":case"ArrowUp":return 4;case"s":case"k":case"ArrowDown":return 5;case"a":case"j":case"y":case"z":case"ArrowLeft":return 0;case"q":case"u":case"x":return 1;case"e":case"o":case"c":return 2;case"d":case"l":case"v":case"ArrowRight":return 3}}keyCodeFromEvent(e){if(!this.isGameModeActive(e)){if(1===e.key.length&&e.key.charCodeAt(0)<=255)return e.key.charCodeAt(0);switch(e.key){case"ArrowLeft":return 28;case"ArrowRight":return 29;case"ArrowUp":return 30;case"ArrowDown":return 31;case"Backspace":return 8;case"Tab":return 9;case"Enter":return 10;default:return}}}}class od extends O6{constructor(e,t,r,o,i){super(e,t),this.modalWatcher=r,this.ngZone=o,this.app=i}enableKeyboardEvents(){return!this.modalWatcher.isModalActive()}onToggleGameMode(){this.app.tick()}addEventListener(e,t,r,o){this.ngZone.runOutsideAngular(()=>e.addEventListener(t,r,o))}}function NT(n){return/\.(prc|pdb|pqa)$/i.test(n)}od.\u0275fac=function(e){return new(e||od)(ee(ji),ee(al),ee(Gl),ee(ut),ee(wl))},od.\u0275prov=ht({token:od,factory:od.\u0275fac,providedIn:"root"});class V6{constructor(e,t,r,o){this.cloudpilotService=e,this.alertController=t,this.snapshotService=r,this.files=o,this.filesSuccess=[],this.filesFail=[],this.filesRequireReset=[],this.sizeInstalledSinceLastsnapshot=0,this.skipErrors=!1,this.errors=0,this.installedDatabases=new Map}run(){var e=this;return(0,me.Z)(function*(){for(const t of e.files)if(/\.zip/i.test(t.name)&&t.content.length<33554432)try{yield e.installZip(t)}catch{e.filesFail.push(t.name)}else NT(t.name)?yield e.installOne(t.name,t.content):e.filesFail.push(t.name);return[e.filesSuccess,e.filesRequireReset,e.filesFail]})()}installOne(e,t){var r=this;return(0,me.Z)(function*(){const i=yield(yield r.cloudpilotService.cloudpilot).installDb(t);switch(i){case 2:r.filesRequireReset.push(e),r.filesSuccess.push(e),r.sizeInstalledSinceLastsnapshot+=t.length;break;case 1:r.filesSuccess.push(e),r.sizeInstalledSinceLastsnapshot+=t.length;break;default:r.filesFail.push(e),yield r.reportError(e,i)}if(2===i||1===i)try{const s=function B6(n){if(n.length<32)throw new Error("not a database");let e;for(e=0;e<32&&0!==n[e];e++);if(e>31)throw new Error("not a database");return new TextDecoder("latin1",{fatal:!1}).decode(n.subarray(0,e))}(t);r.installedDatabases.has(s)&&(yield r.errorDialog("Duplicate item",`${e} overwrites previously installed database ${r.installedDatabases.get(s)}`)),r.installedDatabases.set(s,e)}catch{}r.sizeInstalledSinceLastsnapshot>4194304&&(yield r.snapshotService.triggerSnapshot(),r.sizeInstalledSinceLastsnapshot=0),yield new Promise(s=>setTimeout(s,0))})()}installZip(e){var t=this;return(0,me.Z)(function*(){yield(yield t.cloudpilotService.cloudpilot).withZipfileWalker(e.content,function(){var o=(0,me.Z)(function*(i){let s=0;for(;0===i.GetState();){const a=i.GetCurrentEntryName().replace(/^.*\//,"");if(!NT(i.GetCurrentEntryName())){i.Next();continue}const u=i.GetCurrentEntryContent();u?(yield t.installOne(a,u),s++):t.filesFail.push(a),i.Next()}if(0===s)throw new Error("no installable files in archive")});return function(i){return o.apply(this,arguments)}}())})()}reportError(e,t){return this.errorDialog("Item failed to install",`Could not install ${e}: ${function $6(n){switch(n){case-6:return"database exists on device and could not be overwritten";case-4:return"database file is corrupt";case-3:return"database is open on device";case-5:return"internal PalmOS error";case-2:return"not enough memory on device";default:return"unknown reason"}}(t)}.`)}errorDialog(e,t){return this.skipErrors?Promise.resolve():new Promise(r=>{this.alertController.create({header:e,backdropDismiss:!1,cssClass:"alert-checkbox-no-border installation-error",message:t,buttons:[{text:"Continue",role:"cancel",handler:()=>{this.alertController.dismiss(),r()}}],inputs:++this.errors>=3?[{type:"checkbox",label:"Skip any remaining errors",checked:!1,handler:i=>this.skipErrors=!0===i.checked}]:[]}).then(i=>i.present())})}}class id{constructor(e,t,r,o,i,s){this.cloudpilotService=e,this.emulationService=t,this.loadingController=r,this.snapshotService=o,this.alertService=i,this.alertController=s}installFiles(e){var t=this;return(0,me.Z)(function*(){const r=yield t.loadingController.create({message:"Installing..."});yield r.present(),yield t.emulationService.pause(),yield t.snapshotService.waitForPendingSnapshot();let o=[],i=[],s=[];try{[o,s,i]=yield new V6(t.cloudpilotService,t.alertController,t.snapshotService,e).run()}finally{r.dismiss(),t.emulationService.resume()}const a=[t.messageSucces(o),t.messageFailed(i),t.messageRequireReset(s)].filter(f=>!!f).join("<br/><br/>");let u;u=0===i.length?"Installation successful":0===o.length?"Installation failed":"Installation errors",t.alertService.message(u,a,s.length>0?{"Reset now":()=>t.emulationService.reset()}:void 0)})()}messageSucces(e){switch(e.length){case 0:return;case 1:return`Installation of ${e[0]} successful.`;default:return`Installation of ${e.length} items successful.`}}messageFailed(e){return e.length>0?`Installation of  ${f0(e)} failed.`:void 0}messageRequireReset(e){return e.length>0?`${f0(e)} require a device reset.`:void 0}}id.\u0275fac=function(e){return new(e||id)(ee(Ui),ee(ji),ee(Ol),ee(Ta),ee(Hr),ee(zu))},id.\u0275prov=ht({token:id,factory:id.\u0275fac,providedIn:"root"});class Yl{constructor(){this.onDragOver=e=>{e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.currentClient?"copy":"none")},this.onDrop=e=>{e.preventDefault(),this.currentClient&&this.currentClient.handleDragDropEvent(e)},document.addEventListener("drop",this.onDrop),document.addEventListener("dragover",this.onDragOver)}registerClient(e){this.currentClient=e}unregisterClient(e){e===this.currentClient&&(this.currentClient=void 0)}}Yl.\u0275fac=function(e){return new(e||Yl)},Yl.\u0275prov=ht({token:Yl,factory:Yl.\u0275fac,providedIn:"root"});const U6=["canvas"];function j6(n,e){if(1&n){const t=br();se(0,"ion-button",5),lt("click",function(){return Mt(t),Rt($t().navigation.lock())}),ct(1,"ion-icon",10),te()}}function H6(n,e){if(1&n){const t=br();se(0,"ion-button",5),lt("click",function(){return Mt(t),Rt($t().navigation.unlock())}),ct(1,"ion-icon",11),te()}}function z6(n,e){if(1&n){const t=br();se(0,"ion-button",5),lt("click",function(){return Mt(t),Rt($t().showGameModeHint())}),ct(1,"ion-icon",12),te()}}function G6(n,e){if(1&n){const t=br();se(0,"ion-button",5),lt("click",function(){return Mt(t),Rt($t().showProxyConnectedHint())}),ct(1,"ion-icon",13),te()}}function W6(n,e){if(1&n){const t=br();se(0,"ion-button",5),lt("click",function(){return Mt(t),Rt($t().showSlowdowndHint())}),ct(1,"ion-icon",14),te()}}function Z6(n,e){if(1&n){const t=br();se(0,"div",15),qe(1," The device was reset forcefully. How do you want to boot? "),se(2,"ion-button",16),lt("click",function(){return Mt(t),Rt($t().bootAfterForcefulReset())}),qe(3,"Normal boot"),te(),se(4,"ion-button",16),lt("click",function(){return Mt(t),Rt($t().bootAfterForcefulResetNoExtensions())}),qe(5,"No extensions"),te(),se(6,"ion-button",16),lt("click",function(){return Mt(t),Rt($t().bootAfterForcefulResetHardReset())}),qe(7,"Hard reset"),te()()}}function q6(n,e){1&n&&(se(0,"div",15)(1,"div"),qe(2,"No session selected"),te()())}class op{constructor(e,t,r,o,i,s,a,u,f,m,_,k,M,Q,Ae,Ze,Ke,bt){var Ne=this;this.emulationService=e,this.emulationState=t,this.storageService=r,this.eventHandlingService=o,this.canvasDisplayService=i,this.kvsService=s,this.popoverController=a,this.modalController=u,this.alertService=f,this.fileService=m,this.snapshotService=_,this.installlationService=k,this.proxyService=M,this.navigation=Q,this.linkApi=Ae,this.performanceWatchdogService=Ze,this.cloudpilotService=Ke,this.dragDropService=bt,this.ionViewDidEnter=()=>this.mutex.runExclusive((0,me.Z)(function*(){yield Ne.emulationService.bootstrapComplete(),Ne.boostrapComplete=!0;const Ot=Ne.emulationState.getCurrentSession();Ot&&!Ot.wasResetForcefully&&(yield Ne.launchEmulator()),Ne.linkApi.installation.requestEvent.addHandler(Ne.handleLinkApiInstallationRequest),Ne.handleLinkApiInstallationRequest(),Ne.dragDropService.registerClient(Ne)})),this.ionViewWillLeave=()=>this.mutex.runExclusive(()=>{this.dragDropService.unregisterClient(this),this.linkApi.installation.requestEvent.removeHandler(this.handleLinkApiInstallationRequest),this.emulationService.isRunning()&&(this.autoLockUI=!1),this.emulationService.pause(),this.emulationService.newFrameEvent.removeHandler(this.onNewFrame),this.snapshotService.snapshotEvent.removeHandler(this.onSnapshot),this.kvsService.updateEvent.removeHandler(this.onKvsUpdate),this.eventHandlingService.release(),this.navigation.unlock()}),this.onKvsUpdate=()=>{this.kvsService.kvs.showStatistics?this.canvasDisplayService.updateStatistics():this.canvasDisplayService.clearStatistics()},this.onSnapshot=Ot=>{this.kvsService.kvs.showStatistics&&this.canvasDisplayService.updateStatistics(Ot,this.emulationService.getStatistics())},this.onNewFrame=Ot=>{this.canvasDisplayService.updateEmulationCanvas(Ot)},this.handleLinkApiInstallationRequest=()=>{if(!this.linkApi.installation.hasPendingRequest())return;const Ot=this.linkApi.installation.receivePendingUrl();Ot&&(this.installFileDisabled?this.alertService.message("Unable to install","Installation is currently not possible.",{},"Cancel"):this.emulationState.getCurrentSession()&&this.emulationService.isRunning()?this.alertService.message("Installation request",`Do you want to install<br>${Ot} ?`,{OK:()=>this.fileService.openUrl(Ot,Zn=>this.installlationService.installFiles([Zn]))},"Cancel"):this.alertService.message("Unable to install",`Please start a session in order to install ${Ot} .`,{},"Cancel"))},this.boostrapComplete=!1,this.autoLockUI=!0,this.mutex=new Da}get cssWidth(){return this.canvasDisplayService.width/devicePixelRatio+"px"}get cssHeight(){return this.canvasDisplayService.height/devicePixelRatio+"px"}openContextMenu(e){var t=this;return(0,me.Z)(function*(){(yield t.popoverController.create({component:rp,event:e,componentProps:{showHelp:()=>t.showHelp()},arrow:!1})).present()})()}handleDragDropEvent(e){this.installFileDisabled||this.fileService.openFromDrop(e,this.installlationService.installFiles.bind(this.installlationService))}installFiles(){this.fileService.openFiles(this.installlationService.installFiles.bind(this.installlationService))}showHelp(){var e=this;return(0,me.Z)(function*(){yield(yield e.modalController.create({component:il,componentProps:{url:"assets/doc/emulation.md"}})).present()})()}showGameModeHint(){var e=this;return(0,me.Z)(function*(){yield e.alertService.message("Game mode","\n                The keyboard is in game mode and controls the hardware buttons.\n                Press ctrl-shift in order to exit game mode.\n                <br/><br/>\n                Check the help page for a description of the different keyboard mappings.\n            ",{Help:()=>e.showHelp()})})()}showProxyConnectedHint(){var e=this;return(0,me.Z)(function*(){yield e.alertService.message("Proxy connected","Network proxy connected.")})()}showSlowdowndHint(){var e=this;return(0,me.Z)(function*(){yield e.alertService.message("Speed throttled","\n                Your host is too slow to run your virtual device at full speed, and the clock\n                has been throttled in order to compensate. You can avoid this by reducing the speed of your\n                virtual device in the session settings.\n        ")})()}get installFileDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get title(){return this.emulationState.getCurrentSession()?.name||""}bootAfterForcefulReset(){var e=this;return(0,me.Z)(function*(){yield e.clearForcefulReset(),yield e.launchEmulator()})()}bootAfterForcefulResetNoExtensions(){var e=this;return(0,me.Z)(function*(){yield e.clearForcefulReset(),(yield e.cloudpilotService.cloudpilot).resetNoExtensions(),yield e.launchEmulator()})()}bootAfterForcefulResetHardReset(){var e=this;return(0,me.Z)(function*(){yield e.clearForcefulReset(),(yield e.cloudpilotService.cloudpilot).resetHard(),yield e.launchEmulator()})()}cancelIfEmulationActive(e){this.emulationState.getCurrentSession()&&!this.emulationState.getCurrentSession()?.wasResetForcefully&&e.cancelable&&e.preventDefault()}clearForcefulReset(){var e=this;return(0,me.Z)(function*(){const t=e.emulationState.getCurrentSession();t&&(yield e.storageService.updateSessionPartial(t.id,{wasResetForcefully:!1}))})()}launchEmulator(){var e=this;return(0,me.Z)(function*(){const t=e.emulationState.getCurrentSession();t&&(yield e.kvsService.mutex.runExclusive(()=>e.kvsService.kvs.autoLockUI&&e.autoLockUI&&e.navigation.lock()),e.canvasDisplayService.initialize(e.canvasRef.nativeElement,t).then(()=>{e.onKvsUpdate(),e.kvsService.updateEvent.addHandler(e.onKvsUpdate)}),e.onNewFrame(e.emulationService.getCanvas()),e.emulationService.newFrameEvent.addHandler(e.onNewFrame),e.snapshotService.snapshotEvent.addHandler(e.onSnapshot),yield e.emulationService.resume(),e.eventHandlingService.bind(e.canvasRef.nativeElement))})()}}function C0(n,e,t){return()=>{const r=t();r!==e&&(n.markForCheck(),e=r)}}function LT(n,e){let t=n,r=1;for(;e(t);)t=`${n} (${r++})`;return t}op.\u0275fac=function(e){return new(e||op)(C(ji),C(ds),C(Qn),C(od),C(al),C(Zo),C(Ic),C(ks),C(Hr),C($s),C(Ta),C(id),C(Wl),C(Oc),C(El),C(Nc),C(Ui),C(Yl))},op.\u0275cmp=d({type:op,selectors:[["app-emulation"]],viewQuery:function(e,t){if(1&e&&bu(U6,5),2&e){let r;Cs(r=Ss())&&(t.canvasRef=r.first)}},decls:21,vars:19,consts:[["slot","end"],[3,"disabled","click"],["name","download-outline"],[3,"click",4,"ngIf"],["slot","start"],[3,"click"],["name","ellipsis-vertical-outline"],[1,"container","running-session",3,"touchstart","touchmove"],["canvas",""],["class","container no-session",4,"ngIf"],["name","lock-open-outline"],["name","lock-closed-outline"],["name","game-controller-outline"],["name","swap-vertical-outline"],["name","speedometer-outline"],[1,"container","no-session"],["type","button","color","light",3,"click"]],template:function(e,t){if(1&e&&(se(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),qe(3),te(),se(4,"ion-buttons",0)(5,"ion-button",1),lt("click",function(){return t.installFiles()}),ct(6,"ion-icon",2),te(),sn(7,j6,2,0,"ion-button",3),sn(8,H6,2,0,"ion-button",3),te(),se(9,"ion-buttons",4)(10,"ion-button",5),lt("click",function(o){return t.openContextMenu(o)}),ct(11,"ion-icon",6),te(),sn(12,z6,2,0,"ion-button",3),sn(13,G6,2,0,"ion-button",3),sn(14,W6,2,0,"ion-button",3),te()()(),se(15,"ion-content")(16,"div",7),lt("touchstart",function(o){return t.cancelIfEmulationActive(o)})("touchmove",function(o){return t.cancelIfEmulationActive(o)}),ct(17,"canvas",null,8),te(),sn(19,Z6,8,0,"div",9),sn(20,q6,3,0,"div",9),te()),2&e){let r,o;et(3),ws(t.title),et(2),ot("disabled",t.installFileDisabled),et(2),ot("ngIf",!t.navigation.isLocked()),et(1),ot("ngIf",t.navigation.isLocked()),et(4),ot("ngIf",t.eventHandlingService.isGameMode()),et(1),ot("ngIf",t.proxyService.isConnected()),et(1),ot("ngIf",t.performanceWatchdogService.isSlowdownDetected()),et(1),Ga("locked",t.navigation.isLocked()),et(1),qd("display",!t.emulationState.getCurrentSession()||null!=(r=t.emulationState.getCurrentSession())&&r.wasResetForcefully?"none":void 0),et(1),qd("width",t.cssWidth)("height",t.cssHeight)("display",t.emulationState.getCurrentSession()?"block":"none"),et(2),ot("ngIf",null!=(o=t.emulationState.getCurrentSession())&&o.wasResetForcefully?"none":void 0),et(1),ot("ngIf",!t.emulationState.getCurrentSession()&&t.boostrapComplete)}},dependencies:[ti,os,is,ss,as,oi,cs,us],styles:["ion-title[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:3px}.container.no-session[_ngcontent-%COMP%]{text-align:center;padding:1em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:1em;width:100%;max-width:20em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-of-type{margin-top:3em}ion-content.locked[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-bottom:var(--ion-safe-area-bottom, 0)}.container.running-session[_ngcontent-%COMP%]{background:radial-gradient(circle,#ccc 0%,#eee 100%)}@media (prefers-color-scheme: dark){.container.running-session[_ngcontent-%COMP%]{background:none}}canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}"]});class ip{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onDelete=()=>{},this.onReset=()=>{}}}ip.\u0275fac=function(e){return new(e||ip)},ip.\u0275cmp=d({type:ip,selectors:[["app-session-context-menu"]],inputs:{onEdit:"onEdit",onSave:"onSave",onDelete:"onDelete",onReset:"onReset"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,t){1&e&&(se(0,"ion-list")(1,"ion-item",0),lt("click",function(){return t.onEdit()}),ct(2,"ion-icon",1),qe(3," Edit "),te(),se(4,"ion-item",0),lt("click",function(){return t.onSave()}),ct(5,"ion-icon",2),qe(6," Save "),te(),se(7,"ion-item",0),lt("click",function(){return t.onReset()}),ct(8,"ion-icon",3),qe(9," Reset "),te(),se(10,"ion-item",4),lt("click",function(){return t.onDelete()}),ct(11,"ion-icon",5),qe(12," Delete "),te()()),2&e&&(et(1),ot("detail",!1),et(3),ot("detail",!1),et(3),ot("detail",!1),et(3),ot("detail",!1))},dependencies:[oi,ii,Sa]});const Y6=["slidingItem"];function X6(n,e){if(1&n&&(se(0,"span"),qe(1),te()),2&n){const t=$t();et(1),Ti(", OS ",t.decodeVersion(null==t.session?null:t.session.osVersion),"")}}class sp{constructor(e){this.popoverController=e,this.selected=!1,this.touched=!1,this.delete=new Tn,this.resetSession=new Tn,this.edit=new Tn,this.save=new Tn,this.selectItem=new Tn,this.interaction=new Tn}get device(){return this.session?fT(this.session.device):""}onContextmenu(e){var t=this;return(0,me.Z)(function*(){e.stopPropagation(),e.preventDefault(),t.interaction.emit(),(yield t.popoverController.create({component:ip,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>t.edit.emit(),onSave:()=>t.save.emit(),onDelete:()=>t.delete.emit(),onReset:()=>t.resetSession.emit()}})).present()})()}decodeVersion(e){if(void 0===e)return"";const t=function K6(n){return{major:n>>>24&255,minor:n>>>20&15,fix:n>>>16&15,stage:n>>>12&15,build:4095&n}}(e);return`${t.major}.${t.minor}`}get color(){return this.selected?"primary":this.touched?"light":void 0}}function Q6(n,e){1&n&&(se(0,"div",10),ct(1,"ion-spinner"),te())}function J6(n,e){1&n&&(se(0,"div",11)(1,"div",12),qe(2," No sessions. Select the \u201e+\u201c icon in the upper right corner in order to import a ROM file or a session image. "),ct(3,"br")(4,"br"),qe(5," You can find a collection of compatible ROMs on "),se(6,"a",13),qe(7,"PalmDB"),te(),qe(8,". "),te()())}function e5(n,e){if(1&n){const t=br();se(0,"app-session-item",15),lt("delete",function(){const i=Mt(t).$implicit;return Rt($t(2).deleteSession(i))})("selectItem",function(){const i=Mt(t).$implicit;return Rt($t(2).launchSession(i))})("edit",function(){const i=Mt(t).$implicit;return Rt($t(2).editSession(i))})("save",function(){const i=Mt(t).$implicit;return Rt($t(2).saveSession(i))})("resetSession",function(){const i=Mt(t).$implicit;return Rt($t(2).resetSession(i))})("interaction",function(){const i=Mt(t).$implicit;return Rt($t(2).lastSessionTouched=i.id)}),te()}if(2&n){const t=e.$implicit,r=$t(2);ot("session",t)("selected",r.currentSessionId===t.id)("touched",t.id===r.lastSessionTouched)}}function t5(n,e){if(1&n&&(se(0,"ion-list"),sn(1,e5,1,3,"app-session-item",14),te()),2&n){const t=$t();et(1),ot("ngForOf",t.sessions)("ngForTrackBy",t.trackSessionBy)}}sp.\u0275fac=function(e){return new(e||sp)(C(Ic))},sp.\u0275cmp=d({type:sp,selectors:[["app-session-item"]],viewQuery:function(e,t){if(1&e&&bu(Y6,5),2&e){let r;Cs(r=Ss())&&(t.slidingItem=r.first)}},inputs:{session:"session",selected:"selected",touched:"touched"},outputs:{delete:"delete",resetSession:"resetSession",edit:"edit",save:"save",selectItem:"selectItem",interaction:"interaction"},decls:19,vars:7,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","refresh-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],[4,"ngIf"]],template:function(e,t){if(1&e){const r=br();se(0,"ion-item-sliding",0,1),lt("contextmenu",function(i){return t.onContextmenu(i)})("ionDrag",function(){return t.interaction.emit()}),se(2,"ion-item-options",2)(3,"ion-item-option",3),lt("click",function(){return Mt(r),bs(1).close(),Rt(t.edit.emit(t.session))}),ct(4,"ion-icon",4),te(),se(5,"ion-item-option",5),lt("click",function(){return Mt(r),bs(1).close(),Rt(t.save.emit(t.session))}),ct(6,"ion-icon",6),te()(),se(7,"ion-item-options",7)(8,"ion-item-option",8),lt("click",function(){return Mt(r),bs(1).close(),Rt(t.resetSession.emit(t.session))}),ct(9,"ion-icon",9),te(),se(10,"ion-item-option",10),lt("click",function(){return Mt(r),bs(1).close(),Rt(t.delete.emit(t.session))}),ct(11,"ion-icon",11),te()(),se(12,"ion-item",12),lt("click",function(){return t.selectItem.emit()}),se(13,"ion-label")(14,"h2"),qe(15),te(),se(16,"p"),qe(17),sn(18,X6,2,1,"span",13),te()()()()}2&e&&(et(12),ot("color",t.color),et(1),Ga("in-item-color",t.selected),et(2),ws(null==t.session?null:t.session.name),et(2),Yd("",t.device,", ",null==t.session?null:t.session.ram,"MB RAM"),et(1),ot("ngIf",null==t.session?null:t.session.osVersion))},dependencies:[ti,oi,ii,Em,Dm,Im,ls],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}"],changeDetection:0});class xa{constructor(e,t,r,o,i,s,a,u,f,m,_,k,M){this.sessionService=e,this.fileService=t,this.alertController=r,this.alertService=o,this.emulationService=i,this.emulationState=s,this.storageService=a,this.modalController=u,this.linkApi=f,this.router=m,this.cloudpilotService=_,this.dragDropService=k,this.cd=M,this.handleLinkApiImportRequest=()=>{if(!this.linkApi.import.hasPendingRequest())return;const Q=this.linkApi.import.receivePendingUrl();Q&&this.alertService.message("Import request",`Do you want to import<br>${Q} ?`,{OK:()=>this.fileService.openUrl(Q,this.processFile.bind(this))},"Cancel")},this.lastSessionTouched=-1,this.checkSessions=C0(M,[],()=>this.sessionService.getSessions())}ngDoCheck(){this.checkSessions()}ionViewDidEnter(){this.linkApi.import.requestEvent.addHandler(this.handleLinkApiImportRequest),this.handleLinkApiImportRequest(),this.dragDropService.registerClient(this)}ionViewWillLeave(){this.dragDropService.unregisterClient(this),this.linkApi.import.requestEvent.removeHandler(this.handleLinkApiImportRequest)}get sessions(){return this.sessionService.getSessions().sort((e,t)=>e.name.localeCompare(t.name))}deleteSession(e){var t=this;return(0,me.Z)(function*(){yield(yield t.alertController.create({header:"Warning",message:`Deleting the session '${e.name}' will remove all associated data. This cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:()=>t.sessionService.deleteSession(e)}],backdropDismiss:!1})).present()})()}editSession(e){var t=this;return(0,me.Z)(function*(){const r={...e};(yield t.editSettings(e))&&!kT()(e,r)&&(yield t.sessionService.updateSession(e))})()}importSession(){this.fileService.openFile(this.processFile.bind(this))}saveSession(e){return this.fileService.saveSession(e)}trackSessionBy(e,t){return t.id}launchSession(e){var t=this;return(0,me.Z)(function*(){t.lastSessionTouched=e.id,t.currentSessionOverride=e.id,t.cd.markForCheck();const r=yield t.emulationService.switchSession(e.id);t.currentSessionOverride=void 0,t.cd.markForCheck(),r&&t.router.navigateByUrl("/tab/emulation")})()}resetSession(e){var t=this;return(0,me.Z)(function*(){const r=e.id===t.emulationState.getCurrentSession()?.id;r&&(yield t.emulationService.stop()),yield t.storageService.deleteStateForSession(e),yield t.storageService.updateSessionPartial(e.id,{wasResetForcefully:!0}),r&&(yield t.emulationService.switchSession(e.id)),yield(yield t.alertController.create({header:"Done",message:`Session ${e.name} has been reset.`,buttons:[{text:"Close",role:"cancel"}],backdropDismiss:!1})).present()})()}get currentSessionId(){return this.currentSessionOverride??this.emulationState.getCurrentSession()?.id}showHelp(){var e=this;return(0,me.Z)(function*(){yield(yield e.modalController.create({component:il,componentProps:{url:"assets/doc/sessions.md"}})).present()})()}handleDragDropEvent(e){this.fileService.openFromDrop(e,this.handleDropFiles.bind(this))}handleDropFiles(e){if(0!==e.length){if(e.length>1)return void this.alertService.errorMessage("Drop a single ROM or session image in order to create a new session.");this.processFile(e[0])}}processFile(e){var t=this;return(0,me.Z)(function*(){if(!/\.(img|rom|bin)$/i.test(e.name))return void t.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .img and .rom.");const r=(yield t.cloudpilotService.cloudpilot).deserializeSessionImage(e.content);if(r){const o={name:t.disambiguateSessionName(r.metadata?.name??e.name),hotsyncName:r.metadata?.hotsyncName,device:r.deviceId,dontManageHotsyncName:r.metadata?.dontManageHotsyncName,speed:r.metadata?.speed,deviceOrientation:r.metadata?.deviceOrientation};if(yield t.editSettings(o)){const i=yield t.sessionService.addSessionFromImage(r,o.name,o);t.lastSessionTouched=i.id}}else{const o=(yield t.cloudpilotService.cloudpilot).getRomInfo(e.content);if(!o)return void t.alertService.errorMessage("Not a valid session file or ROM image.");if(0===o.supportedDevices.length)return void t.alertService.errorMessage("No supported device for this ROM.");const i={name:t.disambiguateSessionName(e.name),hotsyncName:"",device:o.supportedDevices[0]};if(yield t.editSettings(i,o.supportedDevices)){const s=yield t.sessionService.addSessionFromRom(e.content,i.name,i.device,i);t.lastSessionTouched=s.id}}})()}editSettings(e,t=[e.device]){return new Promise(r=>{let o;this.modalController.create({component:nd,backdropDismiss:!1,componentProps:{session:e,availableDevices:t,onSave:()=>{o.dismiss(),r(!0)},onCancel:()=>{o.dismiss(),r(!1)}}}).then(i=>{o=i,o.present()})})}disambiguateSessionName(e){const t=this.sessionService.getSessions();return LT(e,r=>t.some(o=>o.name===r))}}function n5(n,e){1&n&&(se(0,"ion-item",8)(1,"ion-label"),qe(2,"Clipboard integration"),te(),ct(3,"ion-toggle",17),te())}function r5(n,e){if(1&n){const t=br();se(0,"ion-item",8)(1,"ion-label",18),qe(2,"Proxy server"),te(),se(3,"div",19),ct(4,"ion-input",20),se(5,"ion-button",21),lt("click",function(o){Mt(t);const i=$t();return o.preventDefault(),o.stopPropagation(),Rt(i.testProxyConnection())})("touchstart",function(o){Mt(t);const i=$t();return o.preventDefault(),o.stopPropagation(),Rt(i.testProxyConnection())}),qe(6," Test "),te()()()}if(2&n){const t=$t();et(5),ot("disabled",!t.proxyServerValid)}}xa.\u0275fac=function(e){return new(e||xa)(C(Ma),C($s),C(zu),C(Hr),C(ji),C(ds),C(Qn),C(ks),C(El),C(Fo),C(Ui),C(Yl),C(It))},xa.\u0275cmp=d({type:xa,selectors:[["app-sessions"]],decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],["href","https://palmdb.net/app/palm-roms-complete","target","_blank","rel","external"],[3,"session","selected","touched","delete","selectItem","edit","save","resetSession","interaction",4,"ngFor","ngForOf","ngForTrackBy"],[3,"session","selected","touched","delete","selectItem","edit","save","resetSession","interaction"]],template:function(e,t){1&e&&(se(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),qe(3,"Sessions"),te(),se(4,"ion-buttons",0)(5,"ion-button",1),lt("click",function(){return t.importSession()}),ct(6,"ion-icon",2),te()(),se(7,"ion-buttons",3)(8,"ion-button",1),lt("click",function(){return t.showHelp()}),ct(9,"ion-icon",4),te(),ct(10,"app-pwa-prompt"),te()()(),se(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),qe(15,"Sessions"),te()()(),sn(16,Q6,2,0,"div",7),sn(17,J6,9,0,"div",8),sn(18,t5,2,2,"ion-list",9),te()),2&e&&(et(16),ot("ngIf",t.sessionService.isLoading()),et(1),ot("ngIf",!t.sessionService.isLoading()&&0===t.sessions.length),et(1),ot("ngIf",!t.sessionService.isLoading()&&t.sessions.length>0))},dependencies:[mc,ti,os,is,ss,as,oi,Sa,jf,cs,us,ql,sp],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"]}),Z([So()],xa.prototype,"deleteSession",null),Z([So()],xa.prototype,"editSession",null),Z([So()],xa.prototype,"saveSession",null),Z([So()],xa.prototype,"launchSession",null),Z([So()],xa.prototype,"resetSession",null);class ap{constructor(e,t,r,o,i){this.modalController=e,this.kvsService=t,this.clipboardService=r,this.alertService=o,this.proxyService=i,this.onAudioOnStartChange=s=>{this.kvsService.kvs.enableAudioOnFirstInteraction=s,s&&this.alertService.message("Enable audio on start","\n            Audio will automatically turn on after the first interaction with the application\n            (i.e. touch, click or keyboard event). This option will only take effect the next time\n            Coudpilot is restarts.\n        ")},this.connectionTestInProgress=!1}ngOnInit(){this.createFormGroup()}showHelp(){var e=this;return(0,me.Z)(function*(){yield(yield e.modalController.create({component:il,componentProps:{url:"assets/doc/settings.md"}})).present()})()}ionViewWillEnter(){this.mutexReleasePromise=this.kvsService.mutex.acquire()}ionViewWillLeave(){var e=this;return(0,me.Z)(function*(){e.formGroup.get("networkRedirection")?.value&&!e.formGroup.get("proxyServer")?.valid&&(e.alertService.message("Invalid proxy server","The proxy server you specified is invalid. Network redirection will be disabled."),e.formGroup.get("networkRedirection").setValue(!1)),e.formGroup.get("networkRedirection")?.value||e.formGroup.get("proxyServer")?.setValue(e.kvsService.kvs.proxyServer),yield e.kvsService.set({volume:e.formGroup.get("volume").value,showStatistics:e.formGroup.get("showStatistics").value,clipboardIntegration:e.formGroup.get("clipboardIntegration")?.value,networkRedirection:e.formGroup.get("networkRedirection")?.value,proxyServer:e.formGroup.get("proxyServer")?.value,runHidden:e.formGroup.get("runHidden")?.value,autoLockUI:e.formGroup.get("autoLockUI")?.value,enableRemoteInstall:e.formGroup.get("enableRemoteInstall")?.value,enableAudioOnFirstInteraction:e.formGroup.get("audioOnStart")?.value}),e.mutexReleasePromise&&(yield e.mutexReleasePromise)()})()}testProxyConnection(){var e=this;return(0,me.Z)(function*(){if(!e.connectionTestInProgress){e.connectionTestInProgress=!0;try{switch((yield e.proxyService.handshake(e.formGroup.get("proxyServer")?.value,0)).status){case"failed":e.alertService.errorMessage("Unable to connect to proxy");break;case"version_mismatch":e.alertService.proxyVersionMismatchError();break;default:e.alertService.message("Success","Connection to proxy successful.")}}finally{e.connectionTestInProgress=!1}}})()}get showProxyServer(){return this.formGroup.get("networkRedirection")?.value}get proxyServerValid(){const e=this.formGroup.get("proxyServer");return!(!e?.value||!e?.valid)}createFormGroup(){this.formGroup=new Zh({volume:new ri(this.kvsService.kvs.volume),showStatistics:new ri(this.kvsService.kvs.showStatistics),runHidden:new ri(this.kvsService.kvs.runHidden),clipboardIntegration:new ri(this.kvsService.kvs.clipboardIntegration),networkRedirection:new ri(this.kvsService.kvs.networkRedirection),proxyServer:new ri(this.kvsService.kvs.proxyServer,{validators:[xH]}),autoLockUI:new ri(this.kvsService.kvs.autoLockUI),enableRemoteInstall:new ri(this.kvsService.kvs.enableRemoteInstall),audioOnStart:new ri(this.kvsService.kvs.enableAudioOnFirstInteraction)}),this.formGroup.get("audioOnStart")?.valueChanges.subscribe(this.onAudioOnStartChange)}}ap.\u0275fac=function(e){return new(e||ap)(C(ks),C(Zo),C(Ac),C(Hr),C(Wl))},ap.\u0275cmp=d({type:ap,selectors:[["app-settings"]],decls:51,vars:4,consts:[[3,"translucent"],["slot","secondary"],[3,"click"],["name","help-outline"],["collapse","condense"],["size","large"],[1,"settings-container"],[1,"settings-form",3,"formGroup"],["lines","none"],["min","0","max","1","step","0.1","formControlName","volume"],["formControlName","audioOnStart"],["formControlName","runHidden"],["lines","none",4,"ngIf"],["formControlName","networkRedirection"],["formControlName","autoLockUI"],["formControlName","showStatistics"],["formControlName","enableRemoteInstall"],["formControlName","clipboardIntegration"],["position","stacked"],[1,"server-container"],["placeholder","Proxy server host or URL","formControlName","proxyServer"],[3,"disabled","click","touchstart"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"Settings"),te(),se(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return t.showHelp()}),ct(6,"ion-icon",3),te(),ct(7,"app-pwa-prompt"),te()()(),se(8,"ion-content")(9,"ion-header",4)(10,"ion-toolbar")(11,"ion-title",5),qe(12,"Settings"),te()()(),se(13,"div",6)(14,"form",7)(15,"h1"),qe(16,"Emulation"),te(),se(17,"ion-item",8)(18,"ion-label"),qe(19,"Volume"),te(),ct(20,"ion-range",9),te(),se(21,"ion-item",8)(22,"ion-label"),qe(23,"Enable audio on start"),te(),ct(24,"ion-toggle",10),te(),se(25,"ion-item",8)(26,"ion-label"),qe(27,"Run when hidden"),te(),ct(28,"ion-toggle",11),te(),se(29,"h1"),qe(30,"Host integration"),te(),sn(31,n5,4,0,"ion-item",12),se(32,"ion-item",8)(33,"ion-label"),qe(34,"Network redirection"),te(),ct(35,"ion-toggle",13),te(),sn(36,r5,7,1,"ion-item",12),se(37,"h1"),qe(38,"UI"),te(),se(39,"ion-item",8)(40,"ion-label"),qe(41,"Auto-lock UI"),te(),ct(42,"ion-toggle",14),te(),se(43,"ion-item",8)(44,"ion-label"),qe(45,"Show statistics"),te(),ct(46,"ion-toggle",15),te(),se(47,"ion-item",8)(48,"ion-label"),qe(49,"Open from remote sources"),te(),ct(50,"ion-toggle",16),te()()()()),2&e&&(ot("translucent",!0),et(14),ot("formGroup",t.formGroup),et(17),ot("ngIf",t.clipboardService.isSupported()),et(5),ot("ngIf",t.showProxyServer))},dependencies:[ti,xl,Ml,Al,os,is,ss,as,oi,Fl,ii,ls,jv,cs,Hf,us,ju,Uf,Pl,ql,ba,Qa],styles:[".server-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.server-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex-grow:1}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.settings-form[_ngcontent-%COMP%]{max-width:40em;flex-basis:100%}ion-item[_ngcontent-%COMP%]{--background: none}"]});class Lc{transform(e){return void 0!==e?`${Math.round(e/1024/1024)} MB`:""}}function o5(n,e){1&n&&(se(0,"div",14)(1,"b"),qe(2,"WARNING:"),te(),qe(3," This image cannot be used as a memory stick image."),te())}Lc.\u0275fac=function(e){return new(e||Lc)},Lc.\u0275pipe=pt({name:"cardSize",type:Lc,pure:!0});class sd{constructor(e){this.storageCardService=e,this.validateNameUnique=t=>this.storageCardService.getAllCards().some(r=>r.name===t.value&&r.name!==this.card?.name)?{name:"already taken"}:null,this.formGroup=new yc({name:new Es("",{nonNullable:!0,validators:[Uh.required,this.validateNameUnique]}),size:new Es({value:"dummy",disabled:!0}),checkAutomatically:new Es(!0,{nonNullable:!0})}),this.newCard=!1,this.cardSupportLevel=2,this.onCancel=()=>{},this.onSave=()=>{}}ngOnInit(){this.card&&(this.formGroup.controls.name.setValue(this.card.name),this.formGroup.controls.checkAutomatically.setValue(!this.card.dontFsckAutomatically))}save(){!this.formGroup.valid||!this.formGroup.value.name||!this.card||this.onSave({name:this.formGroup.value.name,dontFsckAutomatically:!this.formGroup.value.checkAutomatically})}onEnter(){this.save()}get memoryStickSupported(){return 2===this.cardSupportLevel}}function i5(n,e){if(1&n&&(se(0,"ion-select-option",13),qe(1),ma(2,"cardSize"),te()),2&n){const t=e.$implicit,r=$t();ot("value",t),et(1),Ti("",ga(2,2,r.sizeBytes(t))," ")}}sd.\u0275fac=function(e){return new(e||sd)(C(Qs))},sd.\u0275cmp=d({type:sd,selectors:[["app-edit-card-dialog"]],inputs:{card:"card",newCard:"newCard",cardSupportLevel:"cardSupportLevel",onCancel:"onCancel",onSave:"onSave"},decls:28,vars:7,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],["value","dummy"],["formControlName","checkAutomatically"],["class","sd-only-warning",4,"ngIf"],[1,"sd-only-warning"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3),te(),se(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return t.save()}),qe(6,"Save"),te()(),se(7,"ion-buttons",3)(8,"ion-button",4),lt("click",function(){return t.onCancel()}),qe(9,"Cancel"),te()()()(),se(10,"ion-content",5)(11,"form",6),lt("keydown.enter",function(){return t.onEnter()}),se(12,"ion-item",7)(13,"ion-label",8),qe(14,"Card name"),te(),ct(15,"ion-input",9),te(),se(16,"ion-item",7)(17,"ion-label",8),qe(18,"Card size"),te(),se(19,"ion-select",10)(20,"ion-select-option",11),qe(21),ma(22,"cardSize"),te()()(),se(23,"ion-item",7)(24,"ion-label"),qe(25,"Check for errors automatically"),te(),ct(26,"ion-toggle",12),te()(),sn(27,o5,4,0,"div",13),te()),2&e&&(et(3),ws(t.newCard?"New memory card":"Edit memory card"),et(2),ot("disabled",t.formGroup.invalid),et(6),ot("formGroup",t.formGroup),et(10),Ti("",ga(22,5,null==t.card?null:t.card.size)," "),et(6),ot("ngIf",!t.memoryStickSupported))},dependencies:[ti,os,is,ss,as,Fl,ii,ls,km,Tm,cs,Hf,us,ju,Uf,Pl,xl,Ml,Al,ba,Qa,Lc],styles:[".sd-only-warning[_ngcontent-%COMP%]{padding:2em 1em}"]});const s5=[yo.mb4,yo.mb8,yo.mb16,yo.mb32,yo.mb64,yo.mb128];class lp{constructor(e){this.storageCardService=e,this.validateNameUnique=t=>this.storageCardService.getAllCards().some(r=>r.name===t.value)?{name:"already taken"}:null,this.onCreate=()=>{},this.onCancel=()=>{},this.formGroup=new yc({name:new Es("",{nonNullable:!0,validators:[Uh.required,this.validateNameUnique]}),size:new Es(yo.mb32,{nonNullable:!0}),checkAutomatically:new Es(!0,{nonNullable:!0})})}get sizes(){return s5}sizeBytes(e){return function jH(n){switch(n){case yo.mb4:return 4046848;case yo.mb8:return 8110080;case yo.mb16:return 16220160;case yo.mb32:return 32473088;case yo.mb64:return 64978944;case yo.mb128:return 129990656;default:throw new Error(`bad card size ${n}`)}}(e)}create(){!this.formGroup.valid||void 0===this.formGroup.value.name||void 0===this.formGroup.value.size||this.onCreate(this.formGroup.value.name,this.formGroup.value.size,!this.formGroup.value.checkAutomatically)}onEnter(){this.create()}}lp.\u0275fac=function(e){return new(e||lp)(C(Qs))},lp.\u0275cmp=d({type:lp,selectors:[["app-new-card-dialog"]],inputs:{onCreate:"onCreate",onCancel:"onCancel"},decls:25,vars:3,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],[3,"value",4,"ngFor","ngForOf"],["formControlName","checkAutomatically"],[3,"value"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"New memory card"),te(),se(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return t.create()}),qe(6,"Create"),te()(),se(7,"ion-buttons",3)(8,"ion-button",4),lt("click",function(){return t.onCancel()}),qe(9,"Cancel"),te()()()(),se(10,"ion-content",5)(11,"form",6),lt("keydown.enter",function(){return t.onEnter()}),se(12,"ion-item",7)(13,"ion-label",8),qe(14,"Card name"),te(),ct(15,"ion-input",9),te(),se(16,"ion-item",7)(17,"ion-label",8),qe(18,"Card size"),te(),se(19,"ion-select",10),sn(20,i5,3,4,"ion-select-option",11),te()(),se(21,"ion-item",7)(22,"ion-label"),qe(23,"Check for errors automatically"),te(),ct(24,"ion-toggle",12),te()()()),2&e&&(et(5),ot("disabled",t.formGroup.invalid),et(6),ot("formGroup",t.formGroup),et(9),ot("ngForOf",t.sizes))},dependencies:[mc,os,is,ss,as,Fl,ii,ls,km,Tm,cs,Hf,us,ju,Uf,Pl,xl,Ml,Al,ba,Qa,Lc]});class cp{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCheck=()=>{},this.onDelete=()=>{}}}cp.\u0275fac=function(e){return new(e||cp)},cp.\u0275cmp=d({type:cp,selectors:[["app-storage-context-menu-card"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCheck:"onCheck",onDelete:"onDelete"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","medkit-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,t){1&e&&(se(0,"ion-list")(1,"ion-item",0),lt("click",function(){return t.onEdit()}),ct(2,"ion-icon",1),qe(3," Edit "),te(),se(4,"ion-item",0),lt("click",function(){return t.onSave()}),ct(5,"ion-icon",2),qe(6," Save "),te(),se(7,"ion-item",0),lt("click",function(){return t.onCheck()}),ct(8,"ion-icon",3),qe(9," Check "),te(),se(10,"ion-item",4),lt("click",function(){return t.onDelete()}),ct(11,"ion-icon",5),qe(12," Delete "),te()()),2&e&&(et(1),ot("detail",!1),et(3),ot("detail",!1),et(3),ot("detail",!1),et(3),ot("detail",!1))},dependencies:[oi,ii,Sa]});class up{constructor(e,t){this.storageCardService=e,this.popoverController=t,this.touched=!1,this.interaction=new Tn,this.selectCard=new Tn,this.edit=new Tn,this.check=new Tn,this.delete=new Tn,this.save=new Tn}onContextmenu(e){var t=this;return(0,me.Z)(function*(){e.stopPropagation(),e.preventDefault(),t.interaction.emit(),(yield t.popoverController.create({component:cp,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>t.edit.emit(t.card),onSave:()=>t.save.emit(t.card),onCheck:()=>t.check.emit(),onDelete:()=>t.delete.emit()}})).present()})()}get color(){if(this.touched)return"light"}get status(){if(!this.card)return"";const e=this.storageCardService.mountedInSession(this.card?.id);if(e)return`attached to '${e.name}'`;if(this.card.dontFsckAutomatically)return"not checked automatically";switch(this.card.status){case Ir.dirty:return"needs check";case Ir.clean:return"no errors";case Ir.unformatted:return"no filesystem";case Ir.unfixable:return"uncorrectable errors";default:throw new Error("unreachable")}}}function a5(n,e){1&n&&(se(0,"div",10),ct(1,"ion-spinner"),te())}function l5(n,e){1&n&&(se(0,"div",11)(1,"div",12),qe(2," No memory cards. Select the \u201e+\u201c icon in the upper right corner in order to create a new card. "),te()())}function c5(n,e){if(1&n){const t=br();se(0,"app-storage-card",14),lt("delete",function(){const i=Mt(t).$implicit;return Rt($t(2).deleteCard(i))})("selectCard",function(){const i=Mt(t).$implicit;return Rt($t(2).selectCard(i))})("edit",function(){const i=Mt(t).$implicit;return Rt($t(2).editCard(i))})("check",function(){const i=Mt(t).$implicit;return Rt($t(2).checkCard(i))})("interaction",function(){const i=Mt(t).$implicit;return Rt($t(2).lastCardTouched=i.id)})("save",function(){const i=Mt(t).$implicit;return Rt($t(2).saveCard(i))}),te()}if(2&n){const t=e.$implicit,r=$t(2);ot("card",t)("touched",t.id===r.lastCardTouched)}}function u5(n,e){if(1&n&&(se(0,"ion-list"),sn(1,c5,1,2,"app-storage-card",13),te()),2&n){const t=$t();et(1),ot("ngForOf",t.cards)("ngForTrackBy",t.trackCardBy)}}up.\u0275fac=function(e){return new(e||up)(C(Qs),C(Ic))},up.\u0275cmp=d({type:up,selectors:[["app-storage-card"]],inputs:{card:"card",touched:"touched"},outputs:{interaction:"interaction",selectCard:"selectCard",edit:"edit",check:"check",delete:"delete",save:"save"},decls:19,vars:6,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","medkit-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"]],template:function(e,t){if(1&e){const r=br();se(0,"ion-item-sliding",0,1),lt("contextmenu",function(i){return t.onContextmenu(i)})("ionDrag",function(){return t.interaction.emit(t.card)}),se(2,"ion-item-options",2)(3,"ion-item-option",3),lt("click",function(){return Mt(r),bs(1).close(),Rt(t.edit.emit(t.card))}),ct(4,"ion-icon",4),te(),se(5,"ion-item-option",5),lt("click",function(){return Mt(r),bs(1).close(),Rt(t.save.emit(t.card))}),ct(6,"ion-icon",6),te()(),se(7,"ion-item-options",7)(8,"ion-item-option",8),lt("click",function(){return Mt(r),bs(1).close(),Rt(t.check.emit(t.card))}),ct(9,"ion-icon",9),te(),se(10,"ion-item-option",10),lt("click",function(){return Mt(r),bs(1).close(),Rt(t.delete.emit(t.card))}),ct(11,"ion-icon",11),te()(),se(12,"ion-item",12),lt("click",function(){return t.selectCard.emit(),t.interaction.emit()}),se(13,"ion-label")(14,"h2"),qe(15),te(),se(16,"p"),qe(17),ma(18,"cardSize"),te()()()()}2&e&&(et(12),ot("color",t.color),et(3),ws(null==t.card?null:t.card.name),et(2),Yd("",ga(18,4,null==t.card?null:t.card.size),", ",t.status,""))},dependencies:[oi,ii,Em,Dm,Im,ls,Lc],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}"],changeDetection:0});class Js{constructor(e,t,r,o,i,s,a,u,f,m){var _=this;this.actionSheetController=e,this.storageCardService=t,this.modalController=r,this.alertController=o,this.cloudpilotService=i,this.alertService=s,this.errorService=a,this.fileService=u,this.dragDropService=f,this.handleCardImport=function(){var k=(0,me.Z)(function*(M){const Ae=(yield _.cloudpilotService.cloudpilot).getCardSupportLevel(M.content.length);if(0===Ae)return void _.alertService.errorMessage("This is not a supported card image.");const Ze=yield new Promise(function(){var Ke=(0,me.Z)(function*(bt){const Ne=yield _.modalController.create({component:sd,backdropDismiss:!1,componentProps:{card:{name:_.disambiguateName(M.name),size:M.content.length},cardSupportLevel:Ae,newCard:!0,onCancel:()=>{Ne.dismiss(),bt(void 0)},onSave:Ot=>{bt(Ot),Ne.dismiss()}}});yield Ne.present()});return function(bt){return Ke.apply(this,arguments)}}());Ze&&(yield _.storageCardService.createCardFromFile(Ze.name,M,!!Ze.dontFsckAutomatically))});return function(M){return k.apply(this,arguments)}}(),this.lastCardTouched=void 0,this.onMountForBrowse=()=>{},this.checkCards=C0(m,[],()=>this.storageCardService.getAllCards())}ngDoCheck(){this.checkCards()}ionViewDidEnter(){this.dragDropService.registerClient(this)}ionViewWillLeave(){this.dragDropService.unregisterClient(this)}get cards(){return this.storageCardService.getAllCards()}handleDragDropEvent(e){this.fileService.openFromDrop(e,this.handleFilesFromDrop.bind(this))}addCardImage(){var e=this;return(0,me.Z)(function*(){(yield e.actionSheetController.create({header:"What type of image do you want to create?",buttons:[{text:"Empty image",handler:()=>e.createNewCardImage()},{text:"Import an existing image",handler:()=>e.importCardImage()},{text:"Cancel"}]})).present()})()}showHelp(){}selectCard(e){var t=this;return(0,me.Z)(function*(){(yield t.storageCardService.browseCard(e))&&t.onMountForBrowse(e)})()}editCard(e){var t=this;return(0,me.Z)(function*(){const r=yield t.cloudpilotService.cloudpilot,o=yield t.modalController.create({component:sd,backdropDismiss:!1,componentProps:{card:e,cardSupportLevel:r.getCardSupportLevel(e.size),onCancel:()=>o.dismiss(),onSave:(i=(0,me.Z)(function*(s){yield t.storageCardService.updateCard(e.id,s),yield o.dismiss()}),function(a){return i.apply(this,arguments)})}});var i;yield o.present()})()}saveCard(e){return this.storageCardService.saveCard(e.id,`${Vm(e.name.replace(/\.img$/,""))}.img`)}checkCard(e){return this.storageCardService.checkCard(e)}deleteCard(e){var t=this;return(0,me.Z)(function*(){var o;yield(yield t.alertController.create({header:"Warning",backdropDismiss:!1,message:`Deleting the card '${e.name}' cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:(o=(0,me.Z)(function*(){try{yield t.storageCardService.deleteCard(e.id)}catch(i){t.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}}),function(){return o.apply(this,arguments)})}]})).present()})()}trackCardBy(e,t){return t.id}handleFilesFromDrop(e){if(0!==e.length){if(e.length>1)return void this.alertService.errorMessage("Drop a single file system image in order to import it as a new memory card.");this.handleCardImport(e[0])}}importCardImage(){this.fileService.openFile(this.handleCardImport)}createNewCardImage(){var e=this;return(0,me.Z)(function*(){const t=yield e.modalController.create({component:lp,backdropDismiss:!1,componentProps:{onCancel:()=>t.dismiss(),onCreate:(r=(0,me.Z)(function*(o,i,s){yield e.storageCardService.createEmptyCard(o,i,s),yield t.dismiss()}),function(i,s,a){return r.apply(this,arguments)})}});var r;yield t.present()})()}disambiguateName(e){const t=this.storageCardService.getAllCards();return LT(e,r=>t.some(o=>o.name===r))}}function d5(n,e){1&n&&ct(0,"ion-icon",8)}function f5(n,e){1&n&&ct(0,"ion-icon",9)}function p5(n,e){1&n&&ct(0,"ion-icon",10)}function h5(n,e){if(1&n){const t=br();se(0,"ion-item",2),lt("click",function(){const i=Mt(t).index;return Rt($t(2).onSelect(i))}),Gd(1,3),sn(2,d5,1,0,"ion-icon",4),sn(3,f5,1,0,"ion-icon",5),sn(4,p5,1,0,"ion-icon",6),Wd(),se(5,"div",7),qe(6),te()()}if(2&n){const t=e.$implicit,r=e.index,o=$t(2);ot("detail",!1)("lines",r===o.entries.length-1?"none":"full"),et(1),ot("ngSwitch",o.entries.length),et(1),ot("ngSwitchCase",r+1),et(1),ot("ngSwitchCase",r+2),et(3),ws(t)}}function m5(n,e){if(1&n&&(se(0,"ion-list"),sn(1,h5,7,6,"ion-item",1),te()),2&n){const t=$t();et(1),ot("ngForOf",t.entries)}}Js.\u0275fac=function(e){return new(e||Js)(C(Zf),C(Qs),C(ks),C(zu),C(Ui),C(Hr),C(Ls),C($s),C(Yl),C(It))},Js.\u0275cmp=d({type:Js,selectors:[["app-subpage-cards"]],inputs:{onMountForBrowse:"onMountForBrowse"},decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],[3,"card","touched","delete","selectCard","edit","check","interaction","save",4,"ngFor","ngForOf","ngForTrackBy"],[3,"card","touched","delete","selectCard","edit","check","interaction","save"]],template:function(e,t){1&e&&(se(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),qe(3,"Memory cards"),te(),se(4,"ion-buttons",0)(5,"ion-button",1),lt("click",function(){return t.addCardImage()}),ct(6,"ion-icon",2),te()(),se(7,"ion-buttons",3)(8,"ion-button",1),lt("click",function(){return t.showHelp()}),ct(9,"ion-icon",4),te(),ct(10,"app-pwa-prompt"),te()()(),se(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),qe(15,"Memory cards"),te()()(),sn(16,a5,2,0,"div",7),sn(17,l5,3,0,"div",8),sn(18,u5,2,2,"ion-list",9),te()),2&e&&(et(16),ot("ngIf",t.storageCardService.isLoading()),et(1),ot("ngIf",!t.storageCardService.isLoading()&&0===t.cards.length),et(1),ot("ngIf",!t.storageCardService.isLoading()&&t.cards.length>0))},dependencies:[mc,ti,os,is,ss,as,oi,Sa,jf,cs,us,ql,up],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}),Z([So()],Js.prototype,"addCardImage",null),Z([So()],Js.prototype,"selectCard",null),Z([So()],Js.prototype,"editCard",null),Z([So()],Js.prototype,"saveCard",null),Z([So()],Js.prototype,"checkCard",null),Z([So()],Js.prototype,"deleteCard",null);class dp{constructor(){this.onSelect=()=>{}}}dp.\u0275fac=function(e){return new(e||dp)},dp.\u0275cmp=d({type:dp,selectors:[["app-context-menu-breadcrumb"]],inputs:{entries:"entries"},decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"detail","lines","click"],[3,"ngSwitch"],["name","list-outline","slot","end",4,"ngSwitchCase"],["name","file-tray-outline","slot","end",4,"ngSwitchCase"],["name","folder-outline","slot","end",4,"ngSwitchDefault"],[1,"text-wrapper"],["name","list-outline","slot","end"],["name","file-tray-outline","slot","end"],["name","folder-outline","slot","end"]],template:function(e,t){1&e&&sn(0,m5,2,1,"ion-list",0),2&e&&ot("ngIf",t.entries)},dependencies:[mc,ti,xh,ZE,qE,oi,ii,Sa],styles:[".text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]});class fp{constructor(){this.onStartSelection=()=>{},this.onAddFiles=()=>{},this.onCreateDirectry=()=>{},this.onExtractZipfile=()=>{},this.onPaste=()=>{},this.onHelp=()=>{},this.emptyDirectory=!1}}fp.\u0275fac=function(e){return new(e||fp)},fp.\u0275cmp=d({type:fp,selectors:[["app-context-menu-directory"]],inputs:{onStartSelection:"onStartSelection",onAddFiles:"onAddFiles",onCreateDirectry:"onCreateDirectry",onExtractZipfile:"onExtractZipfile",onPaste:"onPaste",onHelp:"onHelp",emptyDirectory:"emptyDirectory"},decls:19,vars:8,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","checkmark-circle-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","document-outline","slot","end"],["name","folder-outline","slot","end"],["name","download-outline","slot","end"],["name","clipboard-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(e,t){1&e&&(se(0,"ion-list")(1,"ion-item",0),lt("click",function(){return t.onStartSelection()}),ct(2,"ion-icon",1),qe(3," Start selection "),te(),se(4,"ion-item",2),lt("click",function(){return t.onAddFiles()}),ct(5,"ion-icon",3),qe(6," Add files "),te(),se(7,"ion-item",2),lt("click",function(){return t.onCreateDirectry()}),ct(8,"ion-icon",4),qe(9," Add directory "),te(),se(10,"ion-item",2),lt("click",function(){return t.onExtractZipfile()}),ct(11,"ion-icon",5),qe(12," Extract zip "),te(),se(13,"ion-item",0),lt("click",function(){return t.onPaste()}),ct(14,"ion-icon",6),qe(15," Paste "),te(),se(16,"ion-item",7),lt("click",function(){return t.onHelp()}),ct(17,"ion-icon",8),qe(18," Help "),te()()),2&e&&(et(1),ot("detail",!1)("disabled",t.emptyDirectory),et(3),ot("detail",!1),et(3),ot("detail",!1),et(3),ot("detail",!1),et(3),ot("detail",!1)("disabled",!0),et(3),ot("detail",!1))},dependencies:[oi,ii,Sa]});class $c{constructor(e,t){this.modalController=e,this.vfsService=t,this.validateNameUnique=r=>this.entry&&this.vfsService.readdir(this.vfsService.dirname(this.entry.path)).some(o=>o.name.toLocaleLowerCase()===r.value.toLocaleLowerCase()&&o.name.toLocaleLowerCase()!==this.entry?.name?.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=r=>this.vfsService.isFilenameValid(r.value)?null:{name:"invalid file name"},this.onSave=()=>{},this.formGroup=new yc({name:new Es("",{nonNullable:!0,validators:[Uh.required,this.validateNameUnique,this.validateNameValid]}),attrReadonly:new Es(!1,{nonNullable:!0}),attrHidden:new Es(!1,{nonNullable:!0}),attrSystem:new Es(!1,{nonNullable:!0})})}ngOnInit(){this.entry&&(this.formGroup.controls.name.setValue(this.entry.name),this.formGroup.controls.attrHidden.setValue(this.entry.attributes.hidden),this.formGroup.controls.attrReadonly.setValue(this.entry.attributes.readonly),this.formGroup.controls.attrSystem.setValue(this.entry.attributes.system))}get subjectName(){return this.entry?.isDirectory?"Directory":"File"}onSaveClick(){var e=this;return(0,me.Z)(function*(){yield e.save()})()}onCancelClick(){this.modalController.dismiss()}onEnter(){var e=this;return(0,me.Z)(function*(){yield e.save()})()}save(){var e=this;return(0,me.Z)(function*(){e.entry&&e.formGroup.valid&&(yield e.vfsService.updateFileEntry(e.entry.path,{name:e.formGroup.controls.name.value??"",attributes:{hidden:!!e.formGroup.controls.attrHidden.value,readonly:!!e.formGroup.controls.attrReadonly.value,system:!!e.formGroup.controls.attrSystem.value}}),e.onSave(),e.modalController.dismiss())})()}}function $T(n){let e,t,r=!1;return o=>((!r||o!==e)&&(e=o,r=!0,t=n(o)),t)}$c.\u0275fac=function(e){return new(e||$c)(C(ks),C(sl))},$c.\u0275cmp=d({type:$c,selectors:[["app-edit-file-dialog"]],inputs:{entry:"entry"},decls:34,vars:5,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["formControlName","name",3,"placeholder"],["name","lock-closed-outline","size","small"],["formControlName","attrReadonly"],["name","eye-off-outline","size","small"],["formControlName","attrHidden"],["name","cog-outline","size","small"],["formControlName","attrSystem"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3),te(),se(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return t.onSaveClick()}),qe(6,"Save"),te()(),se(7,"ion-buttons",3)(8,"ion-button",4),lt("click",function(){return t.onCancelClick()}),qe(9,"Cancel"),te()()()(),se(10,"ion-content",5)(11,"form",6),lt("keydown.enter",function(){return t.onEnter()}),se(12,"ion-item",7)(13,"ion-label",8),qe(14),te(),ct(15,"ion-input",9),te(),se(16,"ion-item",7)(17,"h2"),qe(18,"Attributes"),te()(),se(19,"ion-item",7)(20,"ion-label"),ct(21,"ion-icon",10),qe(22,"Readonly"),te(),ct(23,"ion-checkbox",11),te(),se(24,"ion-item",7)(25,"ion-label"),ct(26,"ion-icon",12),qe(27,"Hidden"),te(),ct(28,"ion-checkbox",13),te(),se(29,"ion-item",7)(30,"ion-label"),ct(31,"ion-icon",14),qe(32,"System"),te(),ct(33,"ion-checkbox",15),te()()()),2&e&&(et(3),Ti("Edit ",t.subjectName.toLowerCase(),""),et(2),ot("disabled",t.formGroup.invalid),et(6),ot("formGroup",t.formGroup),et(3),Ti("",t.subjectName," name"),et(1),sh("placeholder","Enter ",t.subjectName.toLowerCase()," name"))},dependencies:[os,is,fk,ss,as,oi,Fl,ii,ls,cs,us,ju,Pl,xl,Ml,Al,ba,Qa],styles:["ion-icon[_ngcontent-%COMP%]{margin-right:1em;position:relative;top:2px}"]}),Z([So()],$c.prototype,"onSaveClick",null),Z([So()],$c.prototype,"onEnter",null);class pp{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCopy=()=>{},this.onCut=()=>{},this.onDelete=()=>{}}}pp.\u0275fac=function(e){return new(e||pp)},pp.\u0275cmp=d({type:pp,selectors:[["app-context-menu-file-entry"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCopy:"onCopy",onCut:"onCut",onDelete:"onDelete"},decls:16,vars:5,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","copy-outline","slot","end"],["name","cut-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,t){1&e&&(se(0,"ion-list")(1,"ion-item",0),lt("click",function(){return t.onEdit()}),ct(2,"ion-icon",1),qe(3," Edit "),te(),se(4,"ion-item",0),lt("click",function(){return t.onSave()}),ct(5,"ion-icon",2),qe(6," Save "),te(),se(7,"ion-item",0),lt("click",function(){return t.onCopy()}),ct(8,"ion-icon",3),qe(9," Copy "),te(),se(10,"ion-item",0),lt("click",function(){return t.onCut()}),ct(11,"ion-icon",4),qe(12," Cut "),te(),se(13,"ion-item",5),lt("click",function(){return t.onDelete()}),ct(14,"ion-icon",6),qe(15," Delete "),te()()),2&e&&(et(1),ot("detail",!1),et(3),ot("detail",!1),et(3),ot("detail",!1),et(3),ot("detail",!1),et(3),ot("detail",!1))},dependencies:[oi,ii,Sa]});class ad{transform(e){return void 0===e?"":e<1024?`${e} bytes`:e<1048576?`${(e/1024).toFixed(1)} kB`:`${(e/1024/1024).toFixed(1)} MB`}}ad.\u0275fac=function(e){return new(e||ad)},ad.\u0275pipe=pt({name:"fileSize",type:ad,pure:!0});const g5=["slidingItem"];function y5(n,e){1&n&&ct(0,"ion-icon",21)}function _5(n,e){1&n&&ct(0,"ion-icon",22)}function v5(n,e){1&n&&ct(0,"ion-icon",23)}function b5(n,e){1&n&&ct(0,"ion-icon",24)}function w5(n,e){1&n&&ct(0,"ion-icon",25)}function C5(n,e){1&n&&ct(0,"ion-icon",26)}function S5(n,e){1&n&&ct(0,"ion-icon",27)}function E5(n,e){if(1&n&&(Gd(0),qe(1),ma(2,"fileSize"),Wd()),2&n){const t=$t();et(1),Ti(" - ",ga(2,1,null==t.entry?null:t.entry.size)," ")}}class hp{constructor(e,t){this.actionSheetController=e,this.popoverController=t,this.touched=!1,this.selecting=!1,this.selected=!1,this.interaction=new Tn,this.selectEntry=new Tn,this.editEntry=new Tn,this.copyEntry=new Tn,this.cutEntry=new Tn,this.deleteEntry=new Tn,this.saveEntry=new Tn}ngOnChanges(e){e.selecting&&e.selecting.currentValue&&!e.selecting.previousValue&&this.slidingItem?.close()}onContextmenu(e){var t=this;return(0,me.Z)(function*(){e.stopPropagation(),e.preventDefault(),t.interaction.emit(),(yield t.popoverController.create({component:pp,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>t.editEntry.emit(t.entry),onSave:()=>t.saveEntry.emit(t.entry),onCopy:()=>t.copyEntry.emit(t.entry),onCut:()=>t.cutEntry.emit(t.entry),onDelete:()=>t.deleteEntry.emit(t.entry)}})).present()})()}get color(){if(!this.selecting&&this.touched||this.selecting&&this.selected)return"light"}cutOrCopyEntry(){var e=this;return(0,me.Z)(function*(){const t=e.entry?.isDirectory?"directory":"file";(yield e.actionSheetController.create({header:"Do you want to cut or copy?",buttons:[{text:`Copy ${t}`,handler:()=>e.copyEntry.emit(e.entry)},{text:`Cut ${t}`,handler:()=>e.cutEntry.emit(e.entry)},{text:"Cancel"}]})).present()})()}}function D5(n,e){if(1&n){const t=br();se(0,"ion-toolbar")(1,"ion-title",5),lt("click",function(o){return Mt(t),Rt($t().openBreadcrumbMenu(o))}),se(2,"div",6)(3,"div",7),qe(4),te(),ct(5,"div",8),te()(),se(6,"ion-buttons",9),ct(7,"ion-back-button"),te(),se(8,"ion-buttons",10)(9,"ion-button",11),lt("click",function(o){return Mt(t),Rt($t().openContextMenu(o))}),ct(10,"ion-icon",12),te()()()}if(2&n){const t=$t();et(1),ot("id",t.breadcrumbTriggerId),et(3),ws(t.title)}}function I5(n,e){if(1&n){const t=br();se(0,"ion-buttons",14)(1,"ion-button",11),lt("click",function(){return Mt(t),Rt($t(2).onSelectAll())}),qe(2,"Select all"),te()()}}function k5(n,e){if(1&n){const t=br();se(0,"ion-buttons",14)(1,"ion-button",11),lt("click",function(){return Mt(t),Rt($t(2).selection.clear())}),qe(2,"Clear"),te()()}}function T5(n,e){if(1&n){const t=br();se(0,"ion-toolbar")(1,"ion-title"),qe(2,"Selection"),te(),se(3,"ion-buttons",10)(4,"ion-button",11),lt("click",function(){return Mt(t),Rt($t().onSelectionDone())}),qe(5),te()(),sn(6,I5,3,0,"ion-buttons",13),sn(7,k5,3,0,"ion-buttons",13),te()}if(2&n){const t=$t();et(5),ws(0===t.selection.size?"Cancel":"Done"),et(1),ot("ngIf",t.selection.size!==(null==t.entries?null:t.entries.length)),et(1),ot("ngIf",t.selection.size===(null==t.entries?null:t.entries.length))}}function M5(n,e){if(1&n&&(se(0,"div",15)(1,"div",16),qe(2),te()()),2&n){const t=$t();et(2),Ti(" empty ",t.isRoot?"card":"directory"," ")}}function A5(n,e){if(1&n){const t=br();se(0,"app-file-entry",17),lt("selectEntry",function(){const i=Mt(t).$implicit;return Rt($t().onSelect(i))})("editEntry",function(){const i=Mt(t).$implicit;return Rt($t().onEditEntry(i))})("saveEntry",function(){const i=Mt(t).$implicit;return Rt($t().onSaveEntry(i))})("copyEntry",function(){const i=Mt(t).$implicit;return Rt($t().onCopyEntry(i))})("cutEntry",function(){const i=Mt(t).$implicit;return Rt($t().onCutEntry(i))})("deleteEntry",function(){const i=Mt(t).$implicit;return Rt($t().onDeleteEntry(i))})("interaction",function(){const i=Mt(t).$implicit;return Rt($t().lastEntryTouched=i.name)}),te()}if(2&n){const t=e.$implicit,r=$t();ot("entry",t)("selecting","select"===r.mode)("selected",r.selection.has(t.name))("touched",t.name===r.lastEntryTouched)}}function x5(n,e){if(1&n&&(se(0,"p"),qe(1),ma(2,"fileSize"),ma(3,"fileSize"),te()),2&n){const t=$t(2);et(1),Yd(" ",ga(2,2,t.bytesFree)," free, ",ga(3,4,t.bytesTotal)," total ")}}function R5(n,e){if(1&n&&(se(0,"p"),qe(1),ma(2,"fileSize"),te()),2&n){const t=$t(2);et(1),My(" ",ga(2,3,t.bytesInFiles)," in ",t.fileCount," ",1===t.fileCount?"file":"files"," ")}}function P5(n,e){if(1&n&&(se(0,"ion-item",18)(1,"ion-label"),sn(2,x5,4,6,"p",0),sn(3,R5,3,5,"p",0),te()()),2&n){const t=$t();et(2),ot("ngIf",t.isRoot),et(1),ot("ngIf",t.fileCount>0)}}function F5(n,e){return n.isDirectory&&!e.isDirectory?-1:!n.isDirectory&&e.isDirectory?1:n.name.localeCompare(e.name)}hp.\u0275fac=function(e){return new(e||hp)(C(Zf),C(Ic))},hp.\u0275cmp=d({type:hp,selectors:[["app-file-entry"]],viewQuery:function(e,t){if(1&e&&bu(g5,5),2&e){let r;Cs(r=Ss())&&(t.slidingItem=r.first)}},inputs:{entry:"entry",touched:"touched",selecting:"selecting",selected:"selected"},outputs:{interaction:"interaction",selectEntry:"selectEntry",editEntry:"editEntry",copyEntry:"copyEntry",cutEntry:"cutEntry",deleteEntry:"deleteEntry",saveEntry:"saveEntry"},features:[Mo],decls:26,vars:17,consts:[[3,"disabled","contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","copy-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","detail","click"],["name","folder-outline","slot","start",4,"ngIf"],["name","document-outline","slot","start",4,"ngIf"],["class","attribute-icon","name","lock-closed-outline","size","small","slot","end",4,"ngIf"],["class","attribute-icon","name","eye-off-outline","size","small","slot","end",4,"ngIf"],["class","attribute-icon","name","cog-outline","size","small","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",4,"ngIf"],["name","radio-button-on-outline","slot","end",4,"ngIf"],[4,"ngIf"],["name","folder-outline","slot","start"],["name","document-outline","slot","start"],["name","lock-closed-outline","size","small","slot","end",1,"attribute-icon"],["name","eye-off-outline","size","small","slot","end",1,"attribute-icon"],["name","cog-outline","size","small","slot","end",1,"attribute-icon"],["name","radio-button-off-outline","slot","end"],["name","radio-button-on-outline","slot","end"]],template:function(e,t){if(1&e){const r=br();se(0,"ion-item-sliding",0,1),lt("contextmenu",function(i){return t.onContextmenu(i)})("ionDrag",function(){return t.interaction.emit(t.entry)}),se(2,"ion-item-options",2)(3,"ion-item-option",3),lt("click",function(){return Mt(r),bs(1).close(),Rt(t.editEntry.emit(t.entry))}),ct(4,"ion-icon",4),te(),se(5,"ion-item-option",5),lt("click",function(){return Mt(r),bs(1).close(),Rt(t.saveEntry.emit(t.entry))}),ct(6,"ion-icon",6),te()(),se(7,"ion-item-options",7)(8,"ion-item-option",8),lt("click",function(){return Mt(r),bs(1).close(),Rt(t.cutOrCopyEntry())}),ct(9,"ion-icon",9),te(),se(10,"ion-item-option",10),lt("click",function(){return Mt(r),bs(1).close(),Rt(t.deleteEntry.emit(t.entry))}),ct(11,"ion-icon",11),te()(),se(12,"ion-item",12),lt("click",function(){return t.selectEntry.emit(),t.interaction.emit()}),sn(13,y5,1,0,"ion-icon",13),sn(14,_5,1,0,"ion-icon",14),sn(15,v5,1,0,"ion-icon",15),sn(16,b5,1,0,"ion-icon",16),sn(17,w5,1,0,"ion-icon",17),sn(18,C5,1,0,"ion-icon",18),sn(19,S5,1,0,"ion-icon",19),se(20,"ion-label")(21,"h2"),qe(22),te(),se(23,"p"),qe(24),sn(25,E5,3,3,"ng-container",20),te()()()()}2&e&&(ot("disabled",t.selecting),et(12),qd("opacity",t.touched?1:.99999),Ga("is-directory",null==t.entry?null:t.entry.isDirectory),ot("color",t.color)("detail",(null==t.entry?null:t.entry.isDirectory)&&!t.selecting),et(1),ot("ngIf",null==t.entry?null:t.entry.isDirectory),et(1),ot("ngIf",!(null!=t.entry&&t.entry.isDirectory)),et(1),ot("ngIf",null==t.entry||null==t.entry.attributes?null:t.entry.attributes.readonly),et(1),ot("ngIf",null==t.entry||null==t.entry.attributes?null:t.entry.attributes.hidden),et(1),ot("ngIf",null==t.entry||null==t.entry.attributes?null:t.entry.attributes.system),et(1),ot("ngIf",t.selecting&&!t.selected),et(1),ot("ngIf",t.selecting&&t.selected),et(3),ws(null==t.entry?null:t.entry.name),et(2),Ti(" ",null==t.entry?null:t.entry.lastModifiedLocalDate," "),et(1),ot("ngIf",!(null!=t.entry&&t.entry.isDirectory)))},dependencies:[ti,oi,ii,Em,Dm,Im,ls,ad],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-icon.attribute-icon[_ngcontent-%COMP%]{color:var(--ion-color-step-600);margin-left:.7em}ion-icon.attribute-icon[name=lock-closed-outline][_ngcontent-%COMP%]{position:relative;top:-2px}.ios[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]{color:rgba(var(--ion-text-color-rgb, 0, 0, 0),.4);margin-left:0}ion-icon.attribute-icon[_ngcontent-%COMP%]:last-of-type{margin-right:1.75em}.is-directory[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]:last-of-type{margin-right:.75em}"],changeDetection:0});let O5=0;class ea{constructor(e,t,r,o,i,s,a){this.vfsService=e,this.popoverController=t,this.config=r,this.alertService=o,this.actionSheetController=i,this.modalController=s,this.cd=a,this.bytesInFilesMemoized=$T(u=>u?.reduce((f,m)=>f+(m.isDirectory?0:m.size),0)??0),this.fileCountMemoized=$T(u=>u?.filter(f=>!f.isDirectory)?.length??0),this.onNavigate=()=>{},this.onNavigateBreadcrumb=()=>{},this.lastEntryTouched=void 0,this.mode="browse",this.selection=new Set,this.breadcrumbTriggerId="breadcrumb-trigger-"+O5++,this.checkEntries=C0(a,void 0,()=>void 0!==this.path?e.readdir(this.path):void 0)}ngDoCheck(){this.checkEntries()}get title(){switch(this.path){case"/":return this.card?.name??"";case void 0:return"";default:{const e=this.vfsService.splitPath(this.path);return e[e.length-1]??""}}}get bytesFree(){return this.vfsService.getBytesFree()}get bytesTotal(){return this.vfsService.getBytesTotal()}get bytesInFiles(){return this.bytesInFilesMemoized(this.entries)}get isRoot(){return"/"===this.path}get fileCount(){return this.fileCountMemoized(this.entries)}get entries(){return void 0!==this.path?[...this.vfsService.readdir(this.path)].sort(F5):[]}trackEntryBy(e,t){return t.name}onSelect(e){"browse"===this.mode?e.isDirectory&&this.onNavigate(e.path):this.selection?.has(e.name)?this.selection.delete(e.name):this.selection.add(e.name)}onEditEntry(e){var t=this;return(0,me.Z)(function*(){yield(yield t.modalController.create({component:$c,backdropDismiss:!1,componentProps:{entry:e}})).present()})()}onSaveEntry(e){var t=this;return(0,me.Z)(function*(){t.path&&(e.isDirectory?yield t.vfsService.archiveFiles([e],t.path):yield t.vfsService.saveFile(e))})()}onCopyEntry(e){this.alertService.message("Not implemented",`Copy ${e.name}: not implemented.`)}onCutEntry(e){this.alertService.message("Not implemented",`Cut ${e.name}: not implemented.`)}onDeleteEntry(e){var t=this;return(0,me.Z)(function*(){e.isDirectory?yield t.vfsService.deleteRecursive([e]):yield t.vfsService.unlinkEntry(e)})()}onAddFiles(){this.alertService.message("Not implemented","Add files: not implemented.")}onCreateDirectory(){this.alertService.message("Not implemented","Create directory: not implemented.")}onExtractZipfile(){this.alertService.message("Not implemented","Extract zipfile: not implemented.")}onPaste(){this.alertService.message("Not implemented","Paste: not implemented.")}onHelp(){this.alertService.message("Not implemented","Help: not implemented.")}onStartSelection(){0!==this.entries?.length&&(this.selection.clear(),this.mode="select",this.cd.markForCheck())}onSelectionDone(){var e=this;return(0,me.Z)(function*(){if(!e.entries)return;const t=Array.from(e.selection),r=new Map(e.entries.map(a=>[a.name,a])),o=t.every(a=>!r.get(a)?.isDirectory),i=t.every(a=>r.get(a)?.isDirectory);let s=`${e.selection.size} items`;if(o&&(s=1===e.selection.size?"file":`${e.selection.size} files`),i&&(s=1===e.selection.size?"directory":`${e.selection.size} directories`),0!==e.selection.size){const a=yield e.actionSheetController.create({header:"What do you want to do?",buttons:[{text:`Copy ${s}`,handler:e.onCopySelection.bind(e)},{text:`Cut ${s}`,handler:e.onCutSelection.bind(e)},{text:`Save ${s} as zip`,handler:e.onSaveZip.bind(e)},{text:`Delete ${s}`,handler:e.onDeleteSelection.bind(e)},{text:"Cancel"}]});yield a.present(),yield a.onWillDismiss()}e.mode="browse",e.cd.markForCheck()})()}onSelectAll(){this.entries?.forEach(e=>this.selection.add(e.name))}onCopySelection(){this.alertService.message("Not implemented","Copy selection: not implemented.")}onCutSelection(){this.alertService.message("Not implemented","Cut selection: not implemented.")}onSaveZip(){var e=this;return(0,me.Z)(function*(){const t=e.materializeSelection();!t||!e.path||(yield e.vfsService.archiveFiles(t,e.path))})()}onDeleteSelection(){var e=this;return(0,me.Z)(function*(){const t=e.materializeSelection();!t||!e.path||(yield e.vfsService.deleteRecursive(t))})()}openBreadcrumbMenu(e){var t=this;return(0,me.Z)(function*(){if(!t.card||!t.path)return;const r=[..."/"===t.path?[]:[...t.vfsService.splitPath(t.path).reverse().slice(1),t.card.name],"Memory cards"];(yield t.popoverController.create({component:dp,event:e,componentProps:{entries:r,onSelect:i=>t.onNavigateBreadcrumb(r.length-1-i)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===t.config.get("mode")?"center":"start",trigger:t.breadcrumbTriggerId})).present()})()}openContextMenu(e){var t=this;return(0,me.Z)(function*(){(yield t.popoverController.create({component:fp,componentProps:{emptyDirectory:0===t.entries?.length,onStartSelection:t.onStartSelection.bind(t),onAddFiles:t.onAddFiles.bind(t),onCreateDirectry:t.onCreateDirectory.bind(t),onExtractZipfile:t.onExtractZipfile.bind(t),onPaste:t.onPaste.bind(t),onHelp:t.onHelp.bind(t)},event:e,dismissOnSelect:!0,arrow:!1})).present()})()}materializeSelection(){if(!this.path)return;const e=new Map(this.vfsService.readdir(this.path).map(t=>[t.name,t]));return Array.from(this.selection).map(t=>e.get(t)).filter(t=>!!t)}}ea.\u0275fac=function(e){return new(e||ea)(C(sl),C(Ic),C(Gv),C(Hr),C(Zf),C(ks),C(It))},ea.\u0275cmp=d({type:ea,selectors:[["app-subpage-directory"]],inputs:{card:"card",path:"path",onNavigate:"onNavigate",onNavigateBreadcrumb:"onNavigateBreadcrumb"},decls:9,vars:6,consts:[[4,"ngIf"],[1,"container"],["class","placeholder-wrapper",4,"ngIf"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction",4,"ngFor","ngForOf","ngForTrackBy"],["class","metadata","lines","none",4,"ngIf"],[1,"breadcrumb",3,"id","click"],[1,"breadcrumb-container"],[1,"breadcrumb-current"],[1,"select-arrow"],["slot","start"],["slot","primary"],[3,"click"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["slot","secondary"],[1,"placeholder-wrapper"],[1,"placeholder"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction"],["lines","none",1,"metadata"]],template:function(e,t){1&e&&(se(0,"ion-header"),sn(1,D5,11,2,"ion-toolbar",0),sn(2,T5,8,3,"ion-toolbar",0),te(),se(3,"ion-content")(4,"div",1),sn(5,M5,3,1,"div",2),se(6,"ion-list"),sn(7,A5,1,4,"app-file-entry",3),sn(8,P5,4,2,"ion-item",4),te()()()),2&e&&(et(1),ot("ngIf","browse"===t.mode),et(1),ot("ngIf","select"===t.mode),et(3),ot("ngIf",0===(null==t.entries?null:t.entries.length)),et(2),ot("ngForOf",t.entries)("ngForTrackBy",t.trackEntryBy),et(1),ot("ngIf",t.isRoot||t.fileCount>0))},dependencies:[mc,ti,dk,os,is,ss,as,oi,ii,ls,Sa,cs,us,Ik,hp,ad],styles:[".breadcrumb[_ngcontent-%COMP%]{cursor:pointer}.breadcrumb-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.ios[_ngcontent-%COMP%]   .breadcrumb-container[_ngcontent-%COMP%]{justify-content:center}.breadcrumb-current[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis}.container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}.placeholder-wrapper[_ngcontent-%COMP%]{flex:1;width:100%;display:flex;align-items:center;justify-content:center}.placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}ion-list[_ngcontent-%COMP%]{background:none;flex:0}.select-arrow[_ngcontent-%COMP%]{border-top:5px solid;border-left:5px solid transparent;border-right:5px solid transparent;display:inline-block;opacity:.33;margin-left:.5em;vertical-align:middle}.md[_ngcontent-%COMP%]   .select-arrow[_ngcontent-%COMP%]{opacity:.55}ion-item.metadata[_ngcontent-%COMP%]{text-align:center}"],changeDetection:0}),Z([So()],ea.prototype,"onSaveEntry",null),Z([So()],ea.prototype,"onDeleteEntry",null),Z([So()],ea.prototype,"onSelectionDone",null),Z([So()],ea.prototype,"onSaveZip",null),Z([So()],ea.prototype,"onDeleteSelection",null);const N5=["nav"];class mp{constructor(e){this.vfsService=e,this.navRootProps={onMountForBrowse:t=>this.browseCard(t)},this.onNavigate=t=>{this.currentlyBrowsingCard&&this.nav?.push(ea,{card:this.currentlyBrowsingCard,path:t,onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb},{animated:this.animateNav})},this.onNavigateBreadcrumb=t=>{this.currentlyBrowsingCard&&this.nav?.popTo(t,{animated:this.animateNav})},this.navRoot=Js,this.isVisible=!1}ngOnInit(){this.vfsService.onReleaseCard.addHandler(this.onReleaseCard.bind(this))}ionViewDidEnter(){this.isVisible=!0}ionViewWillLeave(){this.isVisible=!1}get animateNav(){return!pj}browseCard(e){this.currentlyBrowsingCard=e,this.nav?.push(ea,{card:e,path:"/",onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb},{animated:this.animateNav})}onReleaseCard(e){e!==this.currentlyBrowsingCard?.id||!this.nav||(this.isVisible||(this.nav.animated=!1),this.nav.popToRoot(void 0,()=>this.nav&&(this.nav.animated=this.animateNav)))}}mp.\u0275fac=function(e){return new(e||mp)(C(sl))},mp.\u0275cmp=d({type:mp,selectors:[["app-storage"]],viewQuery:function(e,t){if(1&e&&bu(N5,5),2&e){let r;Cs(r=Ss())&&(t.nav=r.first)}},decls:2,vars:3,consts:[[3,"animated","root","rootParams"],["nav",""]],template:function(e,t){1&e&&ct(0,"ion-nav",0,1),2&e&&ot("animated",t.animateNav)("root",t.navRoot)("rootParams",t.navRootProps)},dependencies:[pk,kk]});const L5=[{path:"tab",component:Oc,children:[{path:"emulation",component:op},{path:"sessions",component:xa},{path:"storage",component:mp},{path:"settings",component:ap},{path:"about",component:np},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}]},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}];class ld{}ld.\u0275fac=function(e){return new(e||ld)},ld.\u0275mod=V({type:ld}),ld.\u0275inj=_r({imports:[Sm.forChild(L5),Sm]});class cd{}cd.\u0275fac=function(e){return new(e||cd)},cd.\u0275mod=V({type:cd}),cd.\u0275inj=_r({imports:[Nl,va,vc,ld,Qu,Ju,ed,td,Xu]});class Bc extends xE{pushState(e,t,r,o){this.replaceState(e,t,r,o)}}Bc.\u0275fac=function(){let n;return function(t){return(n||(n=ei(Bc)))(t||Bc)}}(),Bc.\u0275prov=ht({token:Bc,factory:Bc.\u0275fac});const $5=[{path:"install",component:Ku,canActivate:[Fc]},{path:"import",component:Ku,canActivate:[Fc]},{path:"",component:Oc}];class ud{}ud.\u0275fac=function(e){return new(e||ud)},ud.\u0275mod=V({type:ud}),ud.\u0275inj=_r({providers:[{provide:_a,useClass:Bc}],imports:[Sm.forRoot($5,{preloadingStrategy:PB,useHash:!0}),cd,Sm]});const BT=["touch","click","keydown"];class dd{constructor(e,t){this.kvsService=e,this.audioService=t,this.initialize()}initialize(){var e=this;return(0,me.Z)(function*(){if(yield e.kvsService.initialize(),!e.kvsService.kvs.enableAudioOnFirstInteraction)return;const t=()=>{BT.forEach(r=>window.removeEventListener(r,t,!0)),e.audioService.initialize()};BT.forEach(r=>window.addEventListener(r,t,!0))})()}}dd.\u0275fac=function(e){return new(e||dd)(ee(Zo),ee(Kl))},dd.\u0275prov=ht({token:dd,factory:dd.\u0275fac,providedIn:"root"});class fd{constructor(e,t,r,o,i,s,a){}}fd.\u0275fac=function(e){return new(e||fd)(ee(Qn),ee(ji),ee(Kl),ee(Ma),ee(Zo),ee(Pc),ee(dd))},fd.\u0275mod=V({type:fd,bootstrap:[tp]}),fd.\u0275inj=_r({providers:[{provide:KI,useClass:class AU{shouldDetach(e){return!1}shouldAttach(e){return!1}store(e,t){}retrieve(e){return null}shouldReuseRoute(e,t){if(e.routeConfig!==t.routeConfig)return!1;const r=e.params,o=t.params,i=Object.keys(r),s=Object.keys(o);if(i.length!==s.length)return!1;for(const a of i)if(o[a]!==r[a])return!1;return!0}}},{provide:pc,multi:!0,useFactory:n=>n.initialize.bind(n),deps:[Zo]}],imports:[AL,Nl.forRoot(),ud,e6.register("ngsw-worker.js",{enabled:!0}),Qv.forRoot({loader:j_,markedOptions:{provide:Zk,useFactory:()=>{const n=new Wu;return n.link=(e,t,r)=>`<a href="${e}" target="_blank" rel="external">${r||e}</a>`,{renderer:n,gfm:!0,breaks:!1,pedantic:!1,smartLists:!0,smartypants:!1}}}}),u3]}),window.global=window,function UL(){Nh=ED("#/install?"),Lh=ED("#/import?")}(),function wj(){return!!localStorage.getItem(Fm)}()&&!DD()||function jL(){return void 0!==Nh}()?location.replace(`${location.origin}${location.pathname}#/tab/emulation`):location.replace(`${location.origin}${location.pathname}#/tab/sessions`),window.addEventListener("orientationchange",()=>setTimeout(()=>{document.body.style.height=window.innerHeight+"px"},100)),window.addEventListener("scroll",()=>window.scrollTo(0,0)),ML().bootstrapModule(fd).catch(n=>console.log(n))},3272:Be=>{var x,Ge=(x=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(I){var re,J,c=typeof(I=I||{})<"u"?I:{};c.ready=new Promise(function(l,h){re=l,J=h});var H,Pe,Le,G=Object.assign({},c),X=[],L="./this.program",U=(l,h)=>{throw h},ce="object"==typeof window,Y="function"==typeof importScripts,B=("object"==typeof process&&"object"==typeof process.versions&&process,"");(ce||Y)&&(Y?B=self.location.href:typeof document<"u"&&document.currentScript&&(B=document.currentScript.src),x&&(B=x),B=0!==B.indexOf("blob:")?B.substr(0,B.replace(/[?#].*/,"").lastIndexOf("/")+1):"",H=l=>{var h=new XMLHttpRequest;return h.open("GET",l,!1),h.send(null),h.responseText},Y&&(Le=l=>{var h=new XMLHttpRequest;return h.open("GET",l,!1),h.responseType="arraybuffer",h.send(null),new Uint8Array(h.response)}),Pe=(l,h,v)=>{var T=new XMLHttpRequest;T.open("GET",l,!0),T.responseType="arraybuffer",T.onload=()=>{200==T.status||0==T.status&&T.response?h(T.response):v()},T.onerror=v,T.send(null)});var fe,W=c.print||console.log.bind(console),K=c.printErr||console.warn.bind(console);Object.assign(c,G),G=null,c.arguments&&(X=c.arguments),c.thisProgram&&(L=c.thisProgram),c.quit&&(U=c.quit),c.wasmBinary&&(fe=c.wasmBinary);var Fe=c.noExitRuntime||!0;"object"!=typeof WebAssembly&&sr("no native wasm support detected");var de,le,it=!1;function we(l,h){l||sr(h)}var Ue,Xe,yt,O,ye,nt,Ie=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Ye(l,h,v){for(var T=h+v,j=h;l[j]&&!(j>=T);)++j;if(j-h>16&&l.buffer&&Ie)return Ie.decode(l.subarray(h,j));for(var be="";h<j;){var Te=l[h++];if(128&Te){var He=63&l[h++];if(192!=(224&Te)){var _t=63&l[h++];if((Te=224==(240&Te)?(15&Te)<<12|He<<6|_t:(7&Te)<<18|He<<12|_t<<6|63&l[h++])<65536)be+=String.fromCharCode(Te);else{var nn=Te-65536;be+=String.fromCharCode(55296|nn>>10,56320|1023&nn)}}else be+=String.fromCharCode((31&Te)<<6|He)}else be+=String.fromCharCode(Te)}return be}function $e(l,h){return l?Ye(yt,l,h):""}function Me(l,h,v,T){if(!(T>0))return 0;for(var j=v,be=v+T-1,Te=0;Te<l.length;++Te){var He=l.charCodeAt(Te);if(He>=55296&&He<=57343&&(He=65536+((1023&He)<<10)|1023&l.charCodeAt(++Te)),He<=127){if(v>=be)break;h[v++]=He}else if(He<=2047){if(v+1>=be)break;h[v++]=192|He>>6,h[v++]=128|63&He}else if(He<=65535){if(v+2>=be)break;h[v++]=224|He>>12,h[v++]=128|He>>6&63,h[v++]=128|63&He}else{if(v+3>=be)break;h[v++]=240|He>>18,h[v++]=128|He>>12&63,h[v++]=128|He>>6&63,h[v++]=128|63&He}}return h[v]=0,v-j}function ne(l){for(var h=0,v=0;v<l.length;++v){var T=l.charCodeAt(v);T<=127?h++:T<=2047?h+=2:T>=55296&&T<=57343?(h+=4,++v):h+=3}return h}function Ve(l){Ue=l,c.HEAP8=Xe=new Int8Array(l),c.HEAP16=new Int16Array(l),c.HEAP32=O=new Int32Array(l),c.HEAPU8=yt=new Uint8Array(l),c.HEAPU16=new Uint16Array(l),c.HEAPU32=ye=new Uint32Array(l),c.HEAPF32=new Float32Array(l),c.HEAPF64=nt=new Float64Array(l)}var _e,mn,ft=[],Re=[],Tt=[],an=[],Fn=0,co=null,jn=null;function Gr(l){Fn++,c.monitorRunDependencies&&c.monitorRunDependencies(Fn)}function Ar(l){if(Fn--,c.monitorRunDependencies&&c.monitorRunDependencies(Fn),0==Fn&&(null!==co&&(clearInterval(co),co=null),jn)){var h=jn;jn=null,h()}}function sr(l){c.onAbort&&c.onAbort(l),K(l="Aborted("+l+")"),it=!0,le=1,l+=". Build with -sASSERTIONS for more info.";var h=new WebAssembly.RuntimeError(l);throw J(h),h}function eo(l){return l.startsWith("data:application/octet-stream;base64,")}function Kr(l){try{if(l==mn&&fe)return new Uint8Array(fe);if(Le)return Le(l);throw"both async and sync fetching of the wasm failed"}catch(h){sr(h)}}eo(mn="cloudpilot_web.wasm")||(mn=function $(l){return c.locateFile?c.locateFile(l,B):B+l}(mn));var at,ae,ze={243812:l=>{_e.grow(65536);for(let h=0;h<=65535;h++)_e.set(_e.length-65535-1+h,_e.get(ye[(l>>>2)+h]));return _e.length-65535-1}};function Bn(l){this.name="ExitStatus",this.message="Program terminated with exit("+l+")",this.status=l}function Zt(l){for(;l.length>0;)l.shift()(c)}function gr(l,h){return h+2097152>>>0<4194305-!!l?(l>>>0)+4294967296*h:NaN}var Jt={isAbs:l=>"/"===l.charAt(0),splitPath:l=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(l).slice(1),normalizeArray:(l,h)=>{for(var v=0,T=l.length-1;T>=0;T--){var j=l[T];"."===j?l.splice(T,1):".."===j?(l.splice(T,1),v++):v&&(l.splice(T,1),v--)}if(h)for(;v;v--)l.unshift("..");return l},normalize:l=>{var h=Jt.isAbs(l),v="/"===l.substr(-1);return!(l=Jt.normalizeArray(l.split("/").filter(T=>!!T),!h).join("/"))&&!h&&(l="."),l&&v&&(l+="/"),(h?"/":"")+l},dirname:l=>{var h=Jt.splitPath(l),v=h[0],T=h[1];return v||T?(T&&(T=T.substr(0,T.length-1)),v+T):"."},basename:l=>{if("/"===l)return"/";var h=(l=(l=Jt.normalize(l)).replace(/\/$/,"")).lastIndexOf("/");return-1===h?l:l.substr(h+1)},join:function(){var l=Array.prototype.slice.call(arguments);return Jt.normalize(l.join("/"))},join2:(l,h)=>Jt.normalize(l+"/"+h)},tr={resolve:function(){for(var l="",h=!1,v=arguments.length-1;v>=-1&&!h;v--){var T=v>=0?arguments[v]:D.cwd();if("string"!=typeof T)throw new TypeError("Arguments to path.resolve must be strings");if(!T)return"";l=T+"/"+l,h=Jt.isAbs(T)}return(h?"/":"")+(l=Jt.normalizeArray(l.split("/").filter(j=>!!j),!h).join("/"))||"."},relative:(l,h)=>{function v(nn){for(var Un=0;Un<nn.length&&""===nn[Un];Un++);for(var Hn=nn.length-1;Hn>=0&&""===nn[Hn];Hn--);return Un>Hn?[]:nn.slice(Un,Hn-Un+1)}l=tr.resolve(l).substr(1),h=tr.resolve(h).substr(1);for(var T=v(l.split("/")),j=v(h.split("/")),be=Math.min(T.length,j.length),Te=be,He=0;He<be;He++)if(T[He]!==j[He]){Te=He;break}var _t=[];for(He=Te;He<T.length;He++)_t.push("..");return(_t=_t.concat(j.slice(Te))).join("/")}};function ln(l,h,v){var T=v>0?v:ne(l)+1,j=new Array(T),be=Me(l,j,0,j.length);return h&&(j.length=be),j}var jt={ttys:[],init:function(){},shutdown:function(){},register:function(l,h){jt.ttys[l]={input:[],output:[],ops:h},D.registerDevice(l,jt.stream_ops)},stream_ops:{open:function(l){var h=jt.ttys[l.node.rdev];if(!h)throw new D.ErrnoError(43);l.tty=h,l.seekable=!1},close:function(l){l.tty.ops.fsync(l.tty)},fsync:function(l){l.tty.ops.fsync(l.tty)},read:function(l,h,v,T,j){if(!l.tty||!l.tty.ops.get_char)throw new D.ErrnoError(60);for(var be=0,Te=0;Te<T;Te++){var He;try{He=l.tty.ops.get_char(l.tty)}catch{throw new D.ErrnoError(29)}if(void 0===He&&0===be)throw new D.ErrnoError(6);if(null==He)break;be++,h[v+Te]=He}return be&&(l.node.timestamp=Date.now()),be},write:function(l,h,v,T,j){if(!l.tty||!l.tty.ops.put_char)throw new D.ErrnoError(60);try{for(var be=0;be<T;be++)l.tty.ops.put_char(l.tty,h[v+be])}catch{throw new D.ErrnoError(29)}return T&&(l.node.timestamp=Date.now()),be}},default_tty_ops:{get_char:function(l){if(!l.input.length){var h=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(h=window.prompt("Input: "))&&(h+="\n"):"function"==typeof readline&&null!==(h=readline())&&(h+="\n"),!h)return null;l.input=ln(h,!0)}return l.input.shift()},put_char:function(l,h){null===h||10===h?(W(Ye(l.output,0)),l.output=[]):0!=h&&l.output.push(h)},fsync:function(l){l.output&&l.output.length>0&&(W(Ye(l.output,0)),l.output=[])}},default_tty1_ops:{put_char:function(l,h){null===h||10===h?(K(Ye(l.output,0)),l.output=[]):0!=h&&l.output.push(h)},fsync:function(l){l.output&&l.output.length>0&&(K(Ye(l.output,0)),l.output=[])}}};function E(l){sr()}var S={ops_table:null,mount:function(l){return S.createNode(null,"/",16895,0)},createNode:function(l,h,v,T){if(D.isBlkdev(v)||D.isFIFO(v))throw new D.ErrnoError(63);S.ops_table||(S.ops_table={dir:{node:{getattr:S.node_ops.getattr,setattr:S.node_ops.setattr,lookup:S.node_ops.lookup,mknod:S.node_ops.mknod,rename:S.node_ops.rename,unlink:S.node_ops.unlink,rmdir:S.node_ops.rmdir,readdir:S.node_ops.readdir,symlink:S.node_ops.symlink},stream:{llseek:S.stream_ops.llseek}},file:{node:{getattr:S.node_ops.getattr,setattr:S.node_ops.setattr},stream:{llseek:S.stream_ops.llseek,read:S.stream_ops.read,write:S.stream_ops.write,allocate:S.stream_ops.allocate,mmap:S.stream_ops.mmap,msync:S.stream_ops.msync}},link:{node:{getattr:S.node_ops.getattr,setattr:S.node_ops.setattr,readlink:S.node_ops.readlink},stream:{}},chrdev:{node:{getattr:S.node_ops.getattr,setattr:S.node_ops.setattr},stream:D.chrdev_stream_ops}});var j=D.createNode(l,h,v,T);return D.isDir(j.mode)?(j.node_ops=S.ops_table.dir.node,j.stream_ops=S.ops_table.dir.stream,j.contents={}):D.isFile(j.mode)?(j.node_ops=S.ops_table.file.node,j.stream_ops=S.ops_table.file.stream,j.usedBytes=0,j.contents=null):D.isLink(j.mode)?(j.node_ops=S.ops_table.link.node,j.stream_ops=S.ops_table.link.stream):D.isChrdev(j.mode)&&(j.node_ops=S.ops_table.chrdev.node,j.stream_ops=S.ops_table.chrdev.stream),j.timestamp=Date.now(),l&&(l.contents[h]=j,l.timestamp=j.timestamp),j},getFileDataAsTypedArray:function(l){return l.contents?l.contents.subarray?l.contents.subarray(0,l.usedBytes):new Uint8Array(l.contents):new Uint8Array(0)},expandFileStorage:function(l,h){var v=l.contents?l.contents.length:0;if(!(v>=h)){h=Math.max(h,v*(v<1048576?2:1.125)>>>0),0!=v&&(h=Math.max(h,256));var j=l.contents;l.contents=new Uint8Array(h),l.usedBytes>0&&l.contents.set(j.subarray(0,l.usedBytes),0)}},resizeFileStorage:function(l,h){if(l.usedBytes!=h)if(0==h)l.contents=null,l.usedBytes=0;else{var v=l.contents;l.contents=new Uint8Array(h),v&&l.contents.set(v.subarray(0,Math.min(h,l.usedBytes))),l.usedBytes=h}},node_ops:{getattr:function(l){var h={};return h.dev=D.isChrdev(l.mode)?l.id:1,h.ino=l.id,h.mode=l.mode,h.nlink=1,h.uid=0,h.gid=0,h.rdev=l.rdev,h.size=D.isDir(l.mode)?4096:D.isFile(l.mode)?l.usedBytes:D.isLink(l.mode)?l.link.length:0,h.atime=new Date(l.timestamp),h.mtime=new Date(l.timestamp),h.ctime=new Date(l.timestamp),h.blksize=4096,h.blocks=Math.ceil(h.size/h.blksize),h},setattr:function(l,h){void 0!==h.mode&&(l.mode=h.mode),void 0!==h.timestamp&&(l.timestamp=h.timestamp),void 0!==h.size&&S.resizeFileStorage(l,h.size)},lookup:function(l,h){throw D.genericErrors[44]},mknod:function(l,h,v,T){return S.createNode(l,h,v,T)},rename:function(l,h,v){if(D.isDir(l.mode)){var T;try{T=D.lookupNode(h,v)}catch{}if(T)for(var j in T.contents)throw new D.ErrnoError(55)}delete l.parent.contents[l.name],l.parent.timestamp=Date.now(),l.name=v,h.contents[v]=l,h.timestamp=l.parent.timestamp,l.parent=h},unlink:function(l,h){delete l.contents[h],l.timestamp=Date.now()},rmdir:function(l,h){var v=D.lookupNode(l,h);for(var T in v.contents)throw new D.ErrnoError(55);delete l.contents[h],l.timestamp=Date.now()},readdir:function(l){var h=[".",".."];for(var v in l.contents)l.contents.hasOwnProperty(v)&&h.push(v);return h},symlink:function(l,h,v){var T=S.createNode(l,h,41471,0);return T.link=v,T},readlink:function(l){if(!D.isLink(l.mode))throw new D.ErrnoError(28);return l.link}},stream_ops:{read:function(l,h,v,T,j){var be=l.node.contents;if(j>=l.node.usedBytes)return 0;var Te=Math.min(l.node.usedBytes-j,T);if(Te>8&&be.subarray)h.set(be.subarray(j,j+Te),v);else for(var He=0;He<Te;He++)h[v+He]=be[j+He];return Te},write:function(l,h,v,T,j,be){if(h.buffer===Xe.buffer&&(be=!1),!T)return 0;var Te=l.node;if(Te.timestamp=Date.now(),h.subarray&&(!Te.contents||Te.contents.subarray)){if(be)return Te.contents=h.subarray(v,v+T),Te.usedBytes=T,T;if(0===Te.usedBytes&&0===j)return Te.contents=h.slice(v,v+T),Te.usedBytes=T,T;if(j+T<=Te.usedBytes)return Te.contents.set(h.subarray(v,v+T),j),T}if(S.expandFileStorage(Te,j+T),Te.contents.subarray&&h.subarray)Te.contents.set(h.subarray(v,v+T),j);else for(var He=0;He<T;He++)Te.contents[j+He]=h[v+He];return Te.usedBytes=Math.max(Te.usedBytes,j+T),T},llseek:function(l,h,v){var T=h;if(1===v?T+=l.position:2===v&&D.isFile(l.node.mode)&&(T+=l.node.usedBytes),T<0)throw new D.ErrnoError(28);return T},allocate:function(l,h,v){S.expandFileStorage(l.node,h+v),l.node.usedBytes=Math.max(l.node.usedBytes,h+v)},mmap:function(l,h,v,T,j){if(!D.isFile(l.node.mode))throw new D.ErrnoError(43);var be,Te,He=l.node.contents;if(2&j||He.buffer!==Ue){if((v>0||v+h<He.length)&&(He=He.subarray?He.subarray(v,v+h):Array.prototype.slice.call(He,v,v+h)),Te=!0,!(be=E()))throw new D.ErrnoError(48);Xe.set(He,be)}else Te=!1,be=He.byteOffset;return{ptr:be,allocated:Te}},msync:function(l,h,v,T,j){return S.stream_ops.write(l,h,0,T,v,!1),0}}},D={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(l,h={})=>{if(!(l=tr.resolve(l)))return{path:"",node:null};if((h=Object.assign({follow_mount:!0,recurse_count:0},h)).recurse_count>8)throw new D.ErrnoError(32);for(var T=l.split("/").filter(Hn=>!!Hn),j=D.root,be="/",Te=0;Te<T.length;Te++){var He=Te===T.length-1;if(He&&h.parent)break;if(j=D.lookupNode(j,T[Te]),be=Jt.join2(be,T[Te]),D.isMountpoint(j)&&(!He||He&&h.follow_mount)&&(j=j.mounted.root),!He||h.follow)for(var _t=0;D.isLink(j.mode);){var nn=D.readlink(be);if(be=tr.resolve(Jt.dirname(be),nn),j=D.lookupPath(be,{recurse_count:h.recurse_count+1}).node,_t++>40)throw new D.ErrnoError(32)}}return{path:be,node:j}},getPath:l=>{for(var h;;){if(D.isRoot(l)){var v=l.mount.mountpoint;return h?"/"!==v[v.length-1]?v+"/"+h:v+h:v}h=h?l.name+"/"+h:l.name,l=l.parent}},hashName:(l,h)=>{for(var v=0,T=0;T<h.length;T++)v=(v<<5)-v+h.charCodeAt(T)|0;return(l+v>>>0)%D.nameTable.length},hashAddNode:l=>{var h=D.hashName(l.parent.id,l.name);l.name_next=D.nameTable[h],D.nameTable[h]=l},hashRemoveNode:l=>{var h=D.hashName(l.parent.id,l.name);if(D.nameTable[h]===l)D.nameTable[h]=l.name_next;else for(var v=D.nameTable[h];v;){if(v.name_next===l){v.name_next=l.name_next;break}v=v.name_next}},lookupNode:(l,h)=>{var v=D.mayLookup(l);if(v)throw new D.ErrnoError(v,l);for(var T=D.hashName(l.id,h),j=D.nameTable[T];j;j=j.name_next)if(j.parent.id===l.id&&j.name===h)return j;return D.lookup(l,h)},createNode:(l,h,v,T)=>{var j=new D.FSNode(l,h,v,T);return D.hashAddNode(j),j},destroyNode:l=>{D.hashRemoveNode(l)},isRoot:l=>l===l.parent,isMountpoint:l=>!!l.mounted,isFile:l=>32768==(61440&l),isDir:l=>16384==(61440&l),isLink:l=>40960==(61440&l),isChrdev:l=>8192==(61440&l),isBlkdev:l=>24576==(61440&l),isFIFO:l=>4096==(61440&l),isSocket:l=>49152==(49152&l),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:l=>{var h=D.flagModes[l];if(typeof h>"u")throw new Error("Unknown file open mode: "+l);return h},flagsToPermissionString:l=>{var h=["r","w","rw"][3&l];return 512&l&&(h+="w"),h},nodePermissions:(l,h)=>D.ignorePermissions?0:h.includes("r")&&!(292&l.mode)||h.includes("w")&&!(146&l.mode)||h.includes("x")&&!(73&l.mode)?2:0,mayLookup:l=>D.nodePermissions(l,"x")||(l.node_ops.lookup?0:2),mayCreate:(l,h)=>{try{return D.lookupNode(l,h),20}catch{}return D.nodePermissions(l,"wx")},mayDelete:(l,h,v)=>{var T;try{T=D.lookupNode(l,h)}catch(be){return be.errno}var j=D.nodePermissions(l,"wx");if(j)return j;if(v){if(!D.isDir(T.mode))return 54;if(D.isRoot(T)||D.getPath(T)===D.cwd())return 10}else if(D.isDir(T.mode))return 31;return 0},mayOpen:(l,h)=>l?D.isLink(l.mode)?32:D.isDir(l.mode)&&("r"!==D.flagsToPermissionString(h)||512&h)?31:D.nodePermissions(l,D.flagsToPermissionString(h)):44,MAX_OPEN_FDS:4096,nextfd:(l=0,h=D.MAX_OPEN_FDS)=>{for(var v=l;v<=h;v++)if(!D.streams[v])return v;throw new D.ErrnoError(33)},getStream:l=>D.streams[l],createStream:(l,h,v)=>{D.FSStream||(D.FSStream=function(){this.shared={}},D.FSStream.prototype={},Object.defineProperties(D.FSStream.prototype,{object:{get:function(){return this.node},set:function(j){this.node=j}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(j){this.shared.flags=j}},position:{get:function(){return this.shared.position},set:function(j){this.shared.position=j}}})),l=Object.assign(new D.FSStream,l);var T=D.nextfd(h,v);return l.fd=T,D.streams[T]=l,l},closeStream:l=>{D.streams[l]=null},chrdev_stream_ops:{open:l=>{var h=D.getDevice(l.node.rdev);l.stream_ops=h.stream_ops,l.stream_ops.open&&l.stream_ops.open(l)},llseek:()=>{throw new D.ErrnoError(70)}},major:l=>l>>8,minor:l=>255&l,makedev:(l,h)=>l<<8|h,registerDevice:(l,h)=>{D.devices[l]={stream_ops:h}},getDevice:l=>D.devices[l],getMounts:l=>{for(var h=[],v=[l];v.length;){var T=v.pop();h.push(T),v.push.apply(v,T.mounts)}return h},syncfs:(l,h)=>{"function"==typeof l&&(h=l,l=!1),D.syncFSRequests++,D.syncFSRequests>1&&K("warning: "+D.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var v=D.getMounts(D.root.mount),T=0;function j(Te){return D.syncFSRequests--,h(Te)}function be(Te){if(Te)return be.errored?void 0:(be.errored=!0,j(Te));++T>=v.length&&j(null)}v.forEach(Te=>{if(!Te.type.syncfs)return be(null);Te.type.syncfs(Te,l,be)})},mount:(l,h,v)=>{var be,T="/"===v,j=!v;if(T&&D.root)throw new D.ErrnoError(10);if(!T&&!j){var Te=D.lookupPath(v,{follow_mount:!1});if(v=Te.path,D.isMountpoint(be=Te.node))throw new D.ErrnoError(10);if(!D.isDir(be.mode))throw new D.ErrnoError(54)}var He={type:l,opts:h,mountpoint:v,mounts:[]},_t=l.mount(He);return _t.mount=He,He.root=_t,T?D.root=_t:be&&(be.mounted=He,be.mount&&be.mount.mounts.push(He)),_t},unmount:l=>{var h=D.lookupPath(l,{follow_mount:!1});if(!D.isMountpoint(h.node))throw new D.ErrnoError(28);var v=h.node,T=v.mounted,j=D.getMounts(T);Object.keys(D.nameTable).forEach(Te=>{for(var He=D.nameTable[Te];He;){var _t=He.name_next;j.includes(He.mount)&&D.destroyNode(He),He=_t}}),v.mounted=null;var be=v.mount.mounts.indexOf(T);v.mount.mounts.splice(be,1)},lookup:(l,h)=>l.node_ops.lookup(l,h),mknod:(l,h,v)=>{var j=D.lookupPath(l,{parent:!0}).node,be=Jt.basename(l);if(!be||"."===be||".."===be)throw new D.ErrnoError(28);var Te=D.mayCreate(j,be);if(Te)throw new D.ErrnoError(Te);if(!j.node_ops.mknod)throw new D.ErrnoError(63);return j.node_ops.mknod(j,be,h,v)},create:(l,h)=>(h=void 0!==h?h:438,h&=4095,D.mknod(l,h|=32768,0)),mkdir:(l,h)=>(h=void 0!==h?h:511,h&=1023,D.mknod(l,h|=16384,0)),mkdirTree:(l,h)=>{for(var v=l.split("/"),T="",j=0;j<v.length;++j)if(v[j]){T+="/"+v[j];try{D.mkdir(T,h)}catch(be){if(20!=be.errno)throw be}}},mkdev:(l,h,v)=>(typeof v>"u"&&(v=h,h=438),D.mknod(l,h|=8192,v)),symlink:(l,h)=>{if(!tr.resolve(l))throw new D.ErrnoError(44);var T=D.lookupPath(h,{parent:!0}).node;if(!T)throw new D.ErrnoError(44);var j=Jt.basename(h),be=D.mayCreate(T,j);if(be)throw new D.ErrnoError(be);if(!T.node_ops.symlink)throw new D.ErrnoError(63);return T.node_ops.symlink(T,j,l)},rename:(l,h)=>{var He,_t,v=Jt.dirname(l),T=Jt.dirname(h),j=Jt.basename(l),be=Jt.basename(h);if(He=D.lookupPath(l,{parent:!0}).node,_t=D.lookupPath(h,{parent:!0}).node,!He||!_t)throw new D.ErrnoError(44);if(He.mount!==_t.mount)throw new D.ErrnoError(75);var Hn,nn=D.lookupNode(He,j),Un=tr.relative(l,T);if("."!==Un.charAt(0))throw new D.ErrnoError(28);if("."!==(Un=tr.relative(h,v)).charAt(0))throw new D.ErrnoError(55);try{Hn=D.lookupNode(_t,be)}catch{}if(nn!==Hn){var Yt=D.isDir(nn.mode),hn=D.mayDelete(He,j,Yt);if(hn)throw new D.ErrnoError(hn);if(hn=Hn?D.mayDelete(_t,be,Yt):D.mayCreate(_t,be))throw new D.ErrnoError(hn);if(!He.node_ops.rename)throw new D.ErrnoError(63);if(D.isMountpoint(nn)||Hn&&D.isMountpoint(Hn))throw new D.ErrnoError(10);if(_t!==He&&(hn=D.nodePermissions(He,"w")))throw new D.ErrnoError(hn);D.hashRemoveNode(nn);try{He.node_ops.rename(nn,_t,be)}catch(Wn){throw Wn}finally{D.hashAddNode(nn)}}},rmdir:l=>{var v=D.lookupPath(l,{parent:!0}).node,T=Jt.basename(l),j=D.lookupNode(v,T),be=D.mayDelete(v,T,!0);if(be)throw new D.ErrnoError(be);if(!v.node_ops.rmdir)throw new D.ErrnoError(63);if(D.isMountpoint(j))throw new D.ErrnoError(10);v.node_ops.rmdir(v,T),D.destroyNode(j)},readdir:l=>{var v=D.lookupPath(l,{follow:!0}).node;if(!v.node_ops.readdir)throw new D.ErrnoError(54);return v.node_ops.readdir(v)},unlink:l=>{var v=D.lookupPath(l,{parent:!0}).node;if(!v)throw new D.ErrnoError(44);var T=Jt.basename(l),j=D.lookupNode(v,T),be=D.mayDelete(v,T,!1);if(be)throw new D.ErrnoError(be);if(!v.node_ops.unlink)throw new D.ErrnoError(63);if(D.isMountpoint(j))throw new D.ErrnoError(10);v.node_ops.unlink(v,T),D.destroyNode(j)},readlink:l=>{var v=D.lookupPath(l).node;if(!v)throw new D.ErrnoError(44);if(!v.node_ops.readlink)throw new D.ErrnoError(28);return tr.resolve(D.getPath(v.parent),v.node_ops.readlink(v))},stat:(l,h)=>{var T=D.lookupPath(l,{follow:!h}).node;if(!T)throw new D.ErrnoError(44);if(!T.node_ops.getattr)throw new D.ErrnoError(63);return T.node_ops.getattr(T)},lstat:l=>D.stat(l,!0),chmod:(l,h,v)=>{var T;if(!(T="string"==typeof l?D.lookupPath(l,{follow:!v}).node:l).node_ops.setattr)throw new D.ErrnoError(63);T.node_ops.setattr(T,{mode:4095&h|-4096&T.mode,timestamp:Date.now()})},lchmod:(l,h)=>{D.chmod(l,h,!0)},fchmod:(l,h)=>{var v=D.getStream(l);if(!v)throw new D.ErrnoError(8);D.chmod(v.node,h)},chown:(l,h,v,T)=>{var j;if(!(j="string"==typeof l?D.lookupPath(l,{follow:!T}).node:l).node_ops.setattr)throw new D.ErrnoError(63);j.node_ops.setattr(j,{timestamp:Date.now()})},lchown:(l,h,v)=>{D.chown(l,h,v,!0)},fchown:(l,h,v)=>{var T=D.getStream(l);if(!T)throw new D.ErrnoError(8);D.chown(T.node,h,v)},truncate:(l,h)=>{if(h<0)throw new D.ErrnoError(28);var v;if(!(v="string"==typeof l?D.lookupPath(l,{follow:!0}).node:l).node_ops.setattr)throw new D.ErrnoError(63);if(D.isDir(v.mode))throw new D.ErrnoError(31);if(!D.isFile(v.mode))throw new D.ErrnoError(28);var j=D.nodePermissions(v,"w");if(j)throw new D.ErrnoError(j);v.node_ops.setattr(v,{size:h,timestamp:Date.now()})},ftruncate:(l,h)=>{var v=D.getStream(l);if(!v)throw new D.ErrnoError(8);if(!(2097155&v.flags))throw new D.ErrnoError(28);D.truncate(v.node,h)},utime:(l,h,v)=>{var j=D.lookupPath(l,{follow:!0}).node;j.node_ops.setattr(j,{timestamp:Math.max(h,v)})},open:(l,h,v)=>{if(""===l)throw new D.ErrnoError(44);var T;if(v=typeof v>"u"?438:v,v=64&(h="string"==typeof h?D.modeStringToFlags(h):h)?4095&v|32768:0,"object"==typeof l)T=l;else{l=Jt.normalize(l);try{T=D.lookupPath(l,{follow:!(131072&h)}).node}catch{}}var be=!1;if(64&h)if(T){if(128&h)throw new D.ErrnoError(20)}else T=D.mknod(l,v,0),be=!0;if(!T)throw new D.ErrnoError(44);if(D.isChrdev(T.mode)&&(h&=-513),65536&h&&!D.isDir(T.mode))throw new D.ErrnoError(54);if(!be){var Te=D.mayOpen(T,h);if(Te)throw new D.ErrnoError(Te)}512&h&&!be&&D.truncate(T,0),h&=-131713;var He=D.createStream({node:T,path:D.getPath(T),flags:h,seekable:!0,position:0,stream_ops:T.stream_ops,ungotten:[],error:!1});return He.stream_ops.open&&He.stream_ops.open(He),c.logReadFiles&&!(1&h)&&(D.readFiles||(D.readFiles={}),l in D.readFiles||(D.readFiles[l]=1)),He},close:l=>{if(D.isClosed(l))throw new D.ErrnoError(8);l.getdents&&(l.getdents=null);try{l.stream_ops.close&&l.stream_ops.close(l)}catch(h){throw h}finally{D.closeStream(l.fd)}l.fd=null},isClosed:l=>null===l.fd,llseek:(l,h,v)=>{if(D.isClosed(l))throw new D.ErrnoError(8);if(!l.seekable||!l.stream_ops.llseek)throw new D.ErrnoError(70);if(0!=v&&1!=v&&2!=v)throw new D.ErrnoError(28);return l.position=l.stream_ops.llseek(l,h,v),l.ungotten=[],l.position},read:(l,h,v,T,j)=>{if(T<0||j<0)throw new D.ErrnoError(28);if(D.isClosed(l))throw new D.ErrnoError(8);if(1==(2097155&l.flags))throw new D.ErrnoError(8);if(D.isDir(l.node.mode))throw new D.ErrnoError(31);if(!l.stream_ops.read)throw new D.ErrnoError(28);var be=typeof j<"u";if(be){if(!l.seekable)throw new D.ErrnoError(70)}else j=l.position;var Te=l.stream_ops.read(l,h,v,T,j);return be||(l.position+=Te),Te},write:(l,h,v,T,j,be)=>{if(T<0||j<0)throw new D.ErrnoError(28);if(D.isClosed(l))throw new D.ErrnoError(8);if(!(2097155&l.flags))throw new D.ErrnoError(8);if(D.isDir(l.node.mode))throw new D.ErrnoError(31);if(!l.stream_ops.write)throw new D.ErrnoError(28);l.seekable&&1024&l.flags&&D.llseek(l,0,2);var Te=typeof j<"u";if(Te){if(!l.seekable)throw new D.ErrnoError(70)}else j=l.position;var He=l.stream_ops.write(l,h,v,T,j,be);return Te||(l.position+=He),He},allocate:(l,h,v)=>{if(D.isClosed(l))throw new D.ErrnoError(8);if(h<0||v<=0)throw new D.ErrnoError(28);if(!(2097155&l.flags))throw new D.ErrnoError(8);if(!D.isFile(l.node.mode)&&!D.isDir(l.node.mode))throw new D.ErrnoError(43);if(!l.stream_ops.allocate)throw new D.ErrnoError(138);l.stream_ops.allocate(l,h,v)},mmap:(l,h,v,T,j)=>{if(2&T&&!(2&j)&&2!=(2097155&l.flags))throw new D.ErrnoError(2);if(1==(2097155&l.flags))throw new D.ErrnoError(2);if(!l.stream_ops.mmap)throw new D.ErrnoError(43);return l.stream_ops.mmap(l,h,v,T,j)},msync:(l,h,v,T,j)=>l.stream_ops.msync?l.stream_ops.msync(l,h,v,T,j):0,munmap:l=>0,ioctl:(l,h,v)=>{if(!l.stream_ops.ioctl)throw new D.ErrnoError(59);return l.stream_ops.ioctl(l,h,v)},readFile:(l,h={})=>{if(h.flags=h.flags||0,h.encoding=h.encoding||"binary","utf8"!==h.encoding&&"binary"!==h.encoding)throw new Error('Invalid encoding type "'+h.encoding+'"');var v,T=D.open(l,h.flags),be=D.stat(l).size,Te=new Uint8Array(be);return D.read(T,Te,0,be,0),"utf8"===h.encoding?v=Ye(Te,0):"binary"===h.encoding&&(v=Te),D.close(T),v},writeFile:(l,h,v={})=>{v.flags=v.flags||577;var T=D.open(l,v.flags,v.mode);if("string"==typeof h){var j=new Uint8Array(ne(h)+1),be=Me(h,j,0,j.length);D.write(T,j,0,be,void 0,v.canOwn)}else{if(!ArrayBuffer.isView(h))throw new Error("Unsupported data type");D.write(T,h,0,h.byteLength,void 0,v.canOwn)}D.close(T)},cwd:()=>D.currentPath,chdir:l=>{var h=D.lookupPath(l,{follow:!0});if(null===h.node)throw new D.ErrnoError(44);if(!D.isDir(h.node.mode))throw new D.ErrnoError(54);var v=D.nodePermissions(h.node,"x");if(v)throw new D.ErrnoError(v);D.currentPath=h.path},createDefaultDirectories:()=>{D.mkdir("/tmp"),D.mkdir("/home"),D.mkdir("/home/web_user")},createDefaultDevices:()=>{D.mkdir("/dev"),D.registerDevice(D.makedev(1,3),{read:()=>0,write:(h,v,T,j,be)=>j}),D.mkdev("/dev/null",D.makedev(1,3)),jt.register(D.makedev(5,0),jt.default_tty_ops),jt.register(D.makedev(6,0),jt.default_tty1_ops),D.mkdev("/dev/tty",D.makedev(5,0)),D.mkdev("/dev/tty1",D.makedev(6,0));var l=function er(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var l=new Uint8Array(1);return()=>(crypto.getRandomValues(l),l[0])}return()=>sr("randomDevice")}();D.createDevice("/dev","random",l),D.createDevice("/dev","urandom",l),D.mkdir("/dev/shm"),D.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{D.mkdir("/proc");var l=D.mkdir("/proc/self");D.mkdir("/proc/self/fd"),D.mount({mount:()=>{var h=D.createNode(l,"fd",16895,73);return h.node_ops={lookup:(v,T)=>{var be=D.getStream(+T);if(!be)throw new D.ErrnoError(8);var Te={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>be.path}};return Te.parent=Te,Te}},h}},{},"/proc/self/fd")},createStandardStreams:()=>{c.stdin?D.createDevice("/dev","stdin",c.stdin):D.symlink("/dev/tty","/dev/stdin"),c.stdout?D.createDevice("/dev","stdout",null,c.stdout):D.symlink("/dev/tty","/dev/stdout"),c.stderr?D.createDevice("/dev","stderr",null,c.stderr):D.symlink("/dev/tty1","/dev/stderr"),D.open("/dev/stdin",0),D.open("/dev/stdout",1),D.open("/dev/stderr",1)},ensureErrnoError:()=>{D.ErrnoError||(D.ErrnoError=function(h,v){this.node=v,this.setErrno=function(T){this.errno=T},this.setErrno(h),this.message="FS error"},D.ErrnoError.prototype=new Error,D.ErrnoError.prototype.constructor=D.ErrnoError,[44].forEach(l=>{D.genericErrors[l]=new D.ErrnoError(l),D.genericErrors[l].stack="<generic error, no stack>"}))},staticInit:()=>{D.ensureErrnoError(),D.nameTable=new Array(4096),D.mount(S,{},"/"),D.createDefaultDirectories(),D.createDefaultDevices(),D.createSpecialDirectories(),D.filesystems={MEMFS:S}},init:(l,h,v)=>{D.init.initialized=!0,D.ensureErrnoError(),c.stdin=l||c.stdin,c.stdout=h||c.stdout,c.stderr=v||c.stderr,D.createStandardStreams()},quit:()=>{D.init.initialized=!1;for(var l=0;l<D.streams.length;l++){var h=D.streams[l];h&&D.close(h)}},getMode:(l,h)=>{var v=0;return l&&(v|=365),h&&(v|=146),v},findObject:(l,h)=>{var v=D.analyzePath(l,h);return v.exists?v.object:null},analyzePath:(l,h)=>{try{l=(v=D.lookupPath(l,{follow:!h})).path}catch{}var T={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var v=D.lookupPath(l,{parent:!0});T.parentExists=!0,T.parentPath=v.path,T.parentObject=v.node,T.name=Jt.basename(l),v=D.lookupPath(l,{follow:!h}),T.exists=!0,T.path=v.path,T.object=v.node,T.name=v.node.name,T.isRoot="/"===v.path}catch(j){T.error=j.errno}return T},createPath:(l,h,v,T)=>{l="string"==typeof l?l:D.getPath(l);for(var j=h.split("/").reverse();j.length;){var be=j.pop();if(be){var Te=Jt.join2(l,be);try{D.mkdir(Te)}catch{}l=Te}}return Te},createFile:(l,h,v,T,j)=>{var be=Jt.join2("string"==typeof l?l:D.getPath(l),h),Te=D.getMode(T,j);return D.create(be,Te)},createDataFile:(l,h,v,T,j,be)=>{var Te=h;l&&(l="string"==typeof l?l:D.getPath(l),Te=h?Jt.join2(l,h):l);var He=D.getMode(T,j),_t=D.create(Te,He);if(v){if("string"==typeof v){for(var nn=new Array(v.length),Un=0,Hn=v.length;Un<Hn;++Un)nn[Un]=v.charCodeAt(Un);v=nn}D.chmod(_t,146|He);var Yt=D.open(_t,577);D.write(Yt,v,0,v.length,0,be),D.close(Yt),D.chmod(_t,He)}return _t},createDevice:(l,h,v,T)=>{var j=Jt.join2("string"==typeof l?l:D.getPath(l),h),be=D.getMode(!!v,!!T);D.createDevice.major||(D.createDevice.major=64);var Te=D.makedev(D.createDevice.major++,0);return D.registerDevice(Te,{open:He=>{He.seekable=!1},close:He=>{T&&T.buffer&&T.buffer.length&&T(10)},read:(He,_t,nn,Un,Hn)=>{for(var Yt=0,hn=0;hn<Un;hn++){var Wn;try{Wn=v()}catch{throw new D.ErrnoError(29)}if(void 0===Wn&&0===Yt)throw new D.ErrnoError(6);if(null==Wn)break;Yt++,_t[nn+hn]=Wn}return Yt&&(He.node.timestamp=Date.now()),Yt},write:(He,_t,nn,Un,Hn)=>{for(var Yt=0;Yt<Un;Yt++)try{T(_t[nn+Yt])}catch{throw new D.ErrnoError(29)}return Un&&(He.node.timestamp=Date.now()),Yt}}),D.mkdev(j,be,Te)},forceLoadFile:l=>{if(l.isDevice||l.isFolder||l.link||l.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!H)throw new Error("Cannot load without read() or XMLHttpRequest.");try{l.contents=ln(H(l.url),!0),l.usedBytes=l.contents.length}catch{throw new D.ErrnoError(29)}},createLazyFile:(l,h,v,T,j)=>{function be(){this.lengthKnown=!1,this.chunks=[]}if(be.prototype.get=function(hn){if(!(hn>this.length-1||hn<0)){var Wn=hn%this.chunkSize;return this.getter(hn/this.chunkSize|0)[Wn]}},be.prototype.setDataGetter=function(hn){this.getter=hn},be.prototype.cacheLength=function(){var hn=new XMLHttpRequest;if(hn.open("HEAD",v,!1),hn.send(null),!(hn.status>=200&&hn.status<300||304===hn.status))throw new Error("Couldn't load "+v+". Status: "+hn.status);var po,Wn=Number(hn.getResponseHeader("Content-length")),Qi=(po=hn.getResponseHeader("Accept-Ranges"))&&"bytes"===po,jo=(po=hn.getResponseHeader("Content-Encoding"))&&"gzip"===po,vt=1048576;Qi||(vt=Wn);var ho=this;ho.setDataGetter(Nr=>{var Ji=Nr*vt,io=(Nr+1)*vt-1;if(io=Math.min(io,Wn-1),typeof ho.chunks[Nr]>"u"&&(ho.chunks[Nr]=((Nr,Ji)=>{if(Nr>Ji)throw new Error("invalid range ("+Nr+", "+Ji+") or no bytes requested!");if(Ji>Wn-1)throw new Error("only "+Wn+" bytes available! programmer error!");var io=new XMLHttpRequest;if(io.open("GET",v,!1),Wn!==vt&&io.setRequestHeader("Range","bytes="+Nr+"-"+Ji),io.responseType="arraybuffer",io.overrideMimeType&&io.overrideMimeType("text/plain; charset=x-user-defined"),io.send(null),!(io.status>=200&&io.status<300||304===io.status))throw new Error("Couldn't load "+v+". Status: "+io.status);return void 0!==io.response?new Uint8Array(io.response||[]):ln(io.responseText||"",!0)})(Ji,io)),typeof ho.chunks[Nr]>"u")throw new Error("doXHR failed!");return ho.chunks[Nr]}),(jo||!Wn)&&(vt=Wn=1,Wn=this.getter(0).length,vt=Wn,W("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Wn,this._chunkSize=vt,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!Y)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var Te=new be;Object.defineProperties(Te,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var He={isDevice:!1,contents:Te}}else He={isDevice:!1,url:v};var _t=D.createFile(l,h,He,T,j);He.contents?_t.contents=He.contents:He.url&&(_t.contents=null,_t.url=He.url),Object.defineProperties(_t,{usedBytes:{get:function(){return this.contents.length}}});var nn={};function Hn(Yt,hn,Wn,po,Qi){var jo=Yt.node.contents;if(Qi>=jo.length)return 0;var vt=Math.min(jo.length-Qi,po);if(jo.slice)for(var gn=0;gn<vt;gn++)hn[Wn+gn]=jo[Qi+gn];else for(gn=0;gn<vt;gn++)hn[Wn+gn]=jo.get(Qi+gn);return vt}return Object.keys(_t.stream_ops).forEach(Yt=>{var hn=_t.stream_ops[Yt];nn[Yt]=function(){return D.forceLoadFile(_t),hn.apply(null,arguments)}}),nn.read=(Yt,hn,Wn,po,Qi)=>(D.forceLoadFile(_t),Hn(Yt,hn,Wn,po,Qi)),nn.mmap=(Yt,hn,Wn,po,Qi)=>{D.forceLoadFile(_t);var jo=E();if(!jo)throw new D.ErrnoError(48);return Hn(Yt,Xe,jo,hn,Wn),{ptr:jo,allocated:!0}},_t.stream_ops=nn,_t},createPreloadedFile:(l,h,v,T,j,be,Te,He,_t,nn)=>{var Un=h?tr.resolve(Jt.join2(l,h)):l;function Yt(hn){function Wn(po){nn&&nn(),He||D.createDataFile(l,h,po,T,j,_t),be&&be(),Ar()}Browser.handledByPreloadPlugin(hn,Un,Wn,()=>{Te&&Te(),Ar()})||Wn(hn)}Gr(),"string"==typeof v?function Kn(l,h,v,T){var j=T?"":"al "+l;Pe(l,be=>{we(be,'Loading data file "'+l+'" failed (no arrayBuffer).'),h(new Uint8Array(be)),j&&Ar()},be=>{if(!v)throw'Loading data file "'+l+'" failed.';v()}),j&&Gr()}(v,hn=>Yt(hn),Te):Yt(v)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(l,h,v)=>{h=h||(()=>{}),v=v||(()=>{});var T=D.indexedDB();try{var j=T.open(D.DB_NAME(),D.DB_VERSION)}catch(be){return v(be)}j.onupgradeneeded=()=>{W("creating db"),j.result.createObjectStore(D.DB_STORE_NAME)},j.onsuccess=()=>{var Te=j.result.transaction([D.DB_STORE_NAME],"readwrite"),He=Te.objectStore(D.DB_STORE_NAME),_t=0,nn=0,Un=l.length;function Hn(){0==nn?h():v()}l.forEach(Yt=>{var hn=He.put(D.analyzePath(Yt).object.contents,Yt);hn.onsuccess=()=>{++_t+nn==Un&&Hn()},hn.onerror=()=>{nn++,_t+nn==Un&&Hn()}}),Te.onerror=v},j.onerror=v},loadFilesFromDB:(l,h,v)=>{h=h||(()=>{}),v=v||(()=>{});var T=D.indexedDB();try{var j=T.open(D.DB_NAME(),D.DB_VERSION)}catch(be){return v(be)}j.onupgradeneeded=v,j.onsuccess=()=>{var be=j.result;try{var Te=be.transaction([D.DB_STORE_NAME],"readonly")}catch(Yt){return void v(Yt)}var He=Te.objectStore(D.DB_STORE_NAME),_t=0,nn=0,Un=l.length;function Hn(){0==nn?h():v()}l.forEach(Yt=>{var hn=He.get(Yt);hn.onsuccess=()=>{D.analyzePath(Yt).exists&&D.unlink(Yt),D.createDataFile(Jt.dirname(Yt),Jt.basename(Yt),hn.result,!0,!0,!0),++_t+nn==Un&&Hn()},hn.onerror=()=>{nn++,_t+nn==Un&&Hn()}}),Te.onerror=v},j.onerror=v}},Nn={DEFAULT_POLLMASK:5,calculateAt:function(l,h,v){if(Jt.isAbs(h))return h;var T;if(T=-100===l?D.cwd():Nn.getStreamFromFD(l).path,0==h.length){if(!v)throw new D.ErrnoError(44);return T}return Jt.join2(T,h)},doStat:function(l,h,v){try{var T=l(h)}catch(j){if(j&&j.node&&Jt.normalize(h)!==Jt.normalize(D.getPath(j.node)))return-54;throw j}return O[v>>2]=T.dev,O[v+8>>2]=T.ino,O[v+12>>2]=T.mode,ye[v+16>>2]=T.nlink,O[v+20>>2]=T.uid,O[v+24>>2]=T.gid,O[v+28>>2]=T.rdev,ae=[T.size>>>0,(at=T.size,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[v+40>>2]=ae[0],O[v+44>>2]=ae[1],O[v+48>>2]=4096,O[v+52>>2]=T.blocks,ae=[Math.floor(T.atime.getTime()/1e3)>>>0,(at=Math.floor(T.atime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[v+56>>2]=ae[0],O[v+60>>2]=ae[1],ye[v+64>>2]=0,ae=[Math.floor(T.mtime.getTime()/1e3)>>>0,(at=Math.floor(T.mtime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[v+72>>2]=ae[0],O[v+76>>2]=ae[1],ye[v+80>>2]=0,ae=[Math.floor(T.ctime.getTime()/1e3)>>>0,(at=Math.floor(T.ctime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[v+88>>2]=ae[0],O[v+92>>2]=ae[1],ye[v+96>>2]=0,ae=[T.ino>>>0,(at=T.ino,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[v+104>>2]=ae[0],O[v+108>>2]=ae[1],0},doMsync:function(l,h,v,T,j){if(!D.isFile(h.node.mode))throw new D.ErrnoError(43);if(2&T)return 0;var be=yt.slice(l,l+v);D.msync(h,be,j,v,T)},varargs:void 0,get:function(){return Nn.varargs+=4,O[Nn.varargs-4>>2]},getStr:function(l){return $e(l)},getStreamFromFD:function(l){var h=D.getStream(l);if(!h)throw new D.ErrnoError(8);return h}};function Lo(l){return l%4==0&&(l%100!=0||l%400==0)}var _i=[0,31,60,91,121,152,182,213,244,274,305,335],vi=[0,31,59,90,120,151,181,212,243,273,304,334];function to(l){return(Lo(l.getFullYear())?_i:vi)[l.getMonth()]+l.getDate()-1}function Bo(l){var h=ne(l)+1,v=ta(h);return v&&Me(l,Xe,v,h),v}var Ko=[];function Gi(l){try{return de.grow(l-Ue.byteLength+65535>>>16),Ve(de.buffer),1}catch{}}var bi={};function ai(){if(!ai.strings){var h={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:L||"./this.program"};for(var v in bi)void 0===bi[v]?delete h[v]:h[v]=bi[v];var T=[];for(var v in h)T.push(v+"="+h[v]);ai.strings=T}return ai.strings}var ge=[31,29,31,30,31,30,31,31,30,31,30,31],Se=[31,28,31,30,31,30,31,31,30,31,30,31];function Ht(l,h){l<128?h.push(l):h.push(l%128|128,l>>7)}var Xr=[];function Io(l){var h=Xr[l];return h||(l>=Xr.length&&(Xr.length=l+1),Xr[l]=h=_e.get(l)),h}var Cr=void 0,Zi=[];function Pa(l,h){_e.set(l,h),Xr[l]=_e.get(l)}var Fa=function(l,h,v,T){l||(l=this),this.parent=l,this.mount=l.mount,this.mounted=null,this.id=D.nextInode++,this.name=h,this.mode=v,this.node_ops={},this.stream_ops={},this.rdev=T};Object.defineProperties(Fa.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(l){l?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(l){l?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return D.isDir(this.mode)}},isDevice:{get:function(){return D.isChrdev(this.mode)}}}),D.FSNode=Fa,D.staticInit();var Ba,ll={b:function xt(l,h,v,T){sr("Assertion failed: "+$e(l)+", at: "+[h?$e(h):"unknown filename",v,T?$e(T):"unknown function"])},i:function On(l){const h=new Error($e(l));throw h.isAssert=!0,h},k:function No(l,h,v){try{var T=gr(h,v);return isNaN(T)?-61:(D.ftruncate(l,T),0)}catch(j){if(typeof D>"u"||!(j instanceof D.ErrnoError))throw j;return-j.errno}},e:function _o(){return!0},f:function $o(l,h){var v=new Date(1e3*function xi(l){return ye[l>>2]+4294967296*O[l+4>>2]}(l));O[h>>2]=v.getSeconds(),O[h+4>>2]=v.getMinutes(),O[h+8>>2]=v.getHours(),O[h+12>>2]=v.getDate(),O[h+16>>2]=v.getMonth(),O[h+20>>2]=v.getFullYear()-1900,O[h+24>>2]=v.getDay();var T=0|to(v);O[h+28>>2]=T,O[h+36>>2]=-60*v.getTimezoneOffset();var j=new Date(v.getFullYear(),0,1),be=new Date(v.getFullYear(),6,1).getTimezoneOffset(),Te=j.getTimezoneOffset(),He=0|(be!=Te&&v.getTimezoneOffset()==Math.min(Te,be));O[h+32>>2]=He},g:function yr(l){var h=new Date(O[l+20>>2]+1900,O[l+16>>2],O[l+12>>2],O[l+8>>2],O[l+4>>2],O[l>>2],0),v=O[l+32>>2],T=h.getTimezoneOffset(),j=new Date(h.getFullYear(),0,1),be=new Date(h.getFullYear(),6,1).getTimezoneOffset(),Te=j.getTimezoneOffset(),He=Math.min(Te,be);if(v<0)O[l+32>>2]=Number(be!=Te&&He==T);else if(v>0!=(He==T)){var _t=Math.max(Te,be),nn=v>0?He:_t;h.setTime(h.getTime()+6e4*(nn-T))}O[l+24>>2]=h.getDay();var Un=0|to(h);return O[l+28>>2]=Un,O[l>>2]=h.getSeconds(),O[l+4>>2]=h.getMinutes(),O[l+8>>2]=h.getHours(),O[l+12>>2]=h.getDate(),O[l+16>>2]=h.getMonth(),O[l+20>>2]=h.getYear(),h.getTime()/1e3|0},h:function Yr(l,h,v){var T=(new Date).getFullYear(),j=new Date(T,0,1),be=new Date(T,6,1),Te=j.getTimezoneOffset(),He=be.getTimezoneOffset(),_t=Math.max(Te,He);function nn(Wn){var po=Wn.toTimeString().match(/\(([A-Za-z ]+)\)$/);return po?po[1]:"GMT"}ye[l>>2]=60*_t,O[h>>2]=Number(Te!=He);var Un=nn(j),Hn=nn(be),Yt=Bo(Un),hn=Bo(Hn);He<Te?(ye[v>>2]=Yt,ye[v+4>>2]=hn):(ye[v>>2]=hn,ye[v+4>>2]=Yt)},a:function si(){sr("")},s:function Wr(l,h,v){var T=function vo(l,h){var v;for(Ko.length=0,h>>=2;v=yt[l++];)h+=105!=v&h,Ko.push(105==v?O[h]:nt[h++>>1]),++h;return Ko}(h,v);return ze[l].apply(null,T)},c:function zi(){return Date.now()},p:function Eo(l,h,v){yt.copyWithin(l,h,h+v)},o:function uo(l){var _t,h=yt.length,v=2147483648;if((l>>>=0)>v)return!1;for(var j=1;j<=4;j*=2){var be=h*(1+.2/j);if(be=Math.min(be,l+100663296),Gi(Math.min(v,(_t=Math.max(l,be))+(65536-_t%65536)%65536)))return!0}return!1},m:function Ms(l,h){var v=0;return ai().forEach(function(T,j){var be=h+v;ye[l+4*j>>2]=be,function Wi(l,h,v){for(var T=0;T<l.length;++T)Xe[h++>>0]=l.charCodeAt(T);v||(Xe[h>>0]=0)}(T,be),v+=T.length+1}),0},n:function As(l,h){var v=ai();ye[l>>2]=v.length;var T=0;return v.forEach(function(j){T+=j.length+1}),ye[h>>2]=T,0},q:function dr(l){try{var h=Nn.getStreamFromFD(l);return D.close(h),0}catch(v){if(typeof D>"u"||!(v instanceof D.ErrnoError))throw v;return v.errno}},d:function hs(l,h,v,T){try{var be=function li(l,h,v,T){for(var j=0,be=0;be<v;be++){var Te=ye[h>>2],He=ye[h+4>>2];h+=8;var _t=D.read(l,Xe,Te,He,T);if(_t<0)return-1;if(j+=_t,_t<He)break}return j}(Nn.getStreamFromFD(l),h,v);return ye[T>>2]=be,0}catch(Te){if(typeof D>"u"||!(Te instanceof D.ErrnoError))throw Te;return Te.errno}},j:function Ri(l,h,v,T,j){try{var be=gr(h,v);if(isNaN(be))return 61;var Te=Nn.getStreamFromFD(l);return D.llseek(Te,be,T),ae=[Te.position>>>0,(at=Te.position,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[j>>2]=ae[0],O[j+4>>2]=ae[1],Te.getdents&&0===be&&0===T&&(Te.getdents=null),0}catch(He){if(typeof D>"u"||!(He instanceof D.ErrnoError))throw He;return He.errno}},r:function A(l,h,v,T){try{var be=function nr(l,h,v,T){for(var j=0,be=0;be<v;be++){var Te=ye[h>>2],He=ye[h+4>>2];h+=8;var _t=D.write(l,Xe,Te,He,T);if(_t<0)return-1;j+=_t}return j}(Nn.getStreamFromFD(l),h,v);return ye[T>>2]=be,0}catch(Te){if(typeof D>"u"||!(Te instanceof D.ErrnoError))throw Te;return Te.errno}},l:function ke(l,h,v,T,j){return function pe(l,h,v,T){var j=O[T+40>>2],be={tm_sec:O[T>>2],tm_min:O[T+4>>2],tm_hour:O[T+8>>2],tm_mday:O[T+12>>2],tm_mon:O[T+16>>2],tm_year:O[T+20>>2],tm_wday:O[T+24>>2],tm_yday:O[T+28>>2],tm_isdst:O[T+32>>2],tm_gmtoff:O[T+36>>2],tm_zone:j?$e(j):""},Te=$e(v),He={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var _t in He)Te=Te.replace(new RegExp(_t,"g"),He[_t]);var nn=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Un=["January","February","March","April","May","June","July","August","September","October","November","December"];function Hn(vt,gn,ho){for(var Nr="number"==typeof vt?vt.toString():vt||"";Nr.length<gn;)Nr=ho[0]+Nr;return Nr}function Yt(vt,gn){return Hn(vt,gn,"0")}function hn(vt,gn){function ho(Ji){return Ji<0?-1:Ji>0?1:0}var Nr;return 0===(Nr=ho(vt.getFullYear()-gn.getFullYear()))&&0===(Nr=ho(vt.getMonth()-gn.getMonth()))&&(Nr=ho(vt.getDate()-gn.getDate())),Nr}function Wn(vt){switch(vt.getDay()){case 0:return new Date(vt.getFullYear()-1,11,29);case 1:return vt;case 2:return new Date(vt.getFullYear(),0,3);case 3:return new Date(vt.getFullYear(),0,2);case 4:return new Date(vt.getFullYear(),0,1);case 5:return new Date(vt.getFullYear()-1,11,31);case 6:return new Date(vt.getFullYear()-1,11,30)}}function po(vt){var gn=function Oe(l,h){for(var v=new Date(l.getTime());h>0;){var T=Lo(v.getFullYear()),j=v.getMonth(),be=(T?ge:Se)[j];if(!(h>be-v.getDate()))return v.setDate(v.getDate()+h),v;h-=be-v.getDate()+1,v.setDate(1),j<11?v.setMonth(j+1):(v.setMonth(0),v.setFullYear(v.getFullYear()+1))}return v}(new Date(vt.tm_year+1900,0,1),vt.tm_yday),ho=new Date(gn.getFullYear(),0,4),Nr=new Date(gn.getFullYear()+1,0,4),Ji=Wn(ho),io=Wn(Nr);return hn(Ji,gn)<=0?hn(io,gn)<=0?gn.getFullYear()+1:gn.getFullYear():gn.getFullYear()-1}var Qi={"%a":function(vt){return nn[vt.tm_wday].substring(0,3)},"%A":function(vt){return nn[vt.tm_wday]},"%b":function(vt){return Un[vt.tm_mon].substring(0,3)},"%B":function(vt){return Un[vt.tm_mon]},"%C":function(vt){return Yt((vt.tm_year+1900)/100|0,2)},"%d":function(vt){return Yt(vt.tm_mday,2)},"%e":function(vt){return Hn(vt.tm_mday,2," ")},"%g":function(vt){return po(vt).toString().substring(2)},"%G":function(vt){return po(vt)},"%H":function(vt){return Yt(vt.tm_hour,2)},"%I":function(vt){var gn=vt.tm_hour;return 0==gn?gn=12:gn>12&&(gn-=12),Yt(gn,2)},"%j":function(vt){return Yt(vt.tm_mday+function N(l,h){for(var v=0,T=0;T<=h;v+=l[T++]);return v}(Lo(vt.tm_year+1900)?ge:Se,vt.tm_mon-1),3)},"%m":function(vt){return Yt(vt.tm_mon+1,2)},"%M":function(vt){return Yt(vt.tm_min,2)},"%n":function(){return"\n"},"%p":function(vt){return vt.tm_hour>=0&&vt.tm_hour<12?"AM":"PM"},"%S":function(vt){return Yt(vt.tm_sec,2)},"%t":function(){return"\t"},"%u":function(vt){return vt.tm_wday||7},"%U":function(vt){return Yt(Math.floor((vt.tm_yday+7-vt.tm_wday)/7),2)},"%V":function(vt){var gn=Math.floor((vt.tm_yday+7-(vt.tm_wday+6)%7)/7);if((vt.tm_wday+371-vt.tm_yday-2)%7<=2&&gn++,gn){if(53==gn){var Nr=(vt.tm_wday+371-vt.tm_yday)%7;4!=Nr&&(3!=Nr||!Lo(vt.tm_year))&&(gn=1)}}else{gn=52;var ho=(vt.tm_wday+7-vt.tm_yday-1)%7;(4==ho||5==ho&&Lo(vt.tm_year%400-1))&&gn++}return Yt(gn,2)},"%w":function(vt){return vt.tm_wday},"%W":function(vt){return Yt(Math.floor((vt.tm_yday+7-(vt.tm_wday+6)%7)/7),2)},"%y":function(vt){return(vt.tm_year+1900).toString().substring(2)},"%Y":function(vt){return vt.tm_year+1900},"%z":function(vt){var gn=vt.tm_gmtoff,ho=gn>=0;return gn=(gn=Math.abs(gn)/60)/60*100+gn%60,(ho?"+":"-")+String("0000"+gn).slice(-4)},"%Z":function(vt){return vt.tm_zone},"%%":function(){return"%"}};for(var _t in Te=Te.replace(/%%/g,"\0\0"),Qi)Te.includes(_t)&&(Te=Te.replace(new RegExp(_t,"g"),Qi[_t](be)));var jo=ln(Te=Te.replace(/\0\0/g,"%"),!1);return jo.length>h?0:(function P(l,h){Xe.set(l,h)}(jo,l),jo.length-1)}(l,h,v,T)}},ta=(function Vr(){var l={a:ll};function h(Te,He){c.asm=Te.exports,Ve((de=c.asm.t).buffer),_e=c.asm.hc,function qr(l){Re.unshift(l)}(c.asm.u),Ar()}function v(Te){h(Te.instance)}function T(Te){return function Hi(){return fe||!ce&&!Y||"function"!=typeof fetch?Promise.resolve().then(function(){return Kr(mn)}):fetch(mn,{credentials:"same-origin"}).then(function(l){if(!l.ok)throw"failed to load wasm binary file at '"+mn+"'";return l.arrayBuffer()}).catch(function(){return Kr(mn)})}().then(function(He){return WebAssembly.instantiate(He,l)}).then(function(He){return He}).then(Te,function(He){K("failed to asynchronously prepare wasm: "+He),sr(He)})}if(Gr(),c.instantiateWasm)try{return c.instantiateWasm(l,h)}catch(Te){K("Module.instantiateWasm callback failed with error: "+Te),J(Te)}(function j(){return fe||"function"!=typeof WebAssembly.instantiateStreaming||eo(mn)||"function"!=typeof fetch?T(v):fetch(mn,{credentials:"same-origin"}).then(function(Te){return WebAssembly.instantiateStreaming(Te,l).then(v,function(_t){return K("wasm streaming compile failed: "+_t),K("falling back to ArrayBuffer instantiation"),T(v)})})})().catch(J)}(),c.___wasm_call_ctors=function(){return(c.___wasm_call_ctors=c.asm.u).apply(null,arguments)},c._malloc=function(){return(ta=c._malloc=c.asm.v).apply(null,arguments)}),qn=(c._free=function(){return(c._free=c.asm.w).apply(null,arguments)},c._main=function(){return(c._main=c.asm.x).apply(null,arguments)},c._emscripten_bind_VoidPtr___destroy___0=function(){return(qn=c._emscripten_bind_VoidPtr___destroy___0=c.asm.y).apply(null,arguments)}),fl=c._emscripten_bind_Cloudpilot_Cloudpilot_0=function(){return(fl=c._emscripten_bind_Cloudpilot_Cloudpilot_0=c.asm.z).apply(null,arguments)},pl=c._emscripten_bind_Cloudpilot_Malloc_1=function(){return(pl=c._emscripten_bind_Cloudpilot_Malloc_1=c.asm.A).apply(null,arguments)},Xl=c._emscripten_bind_Cloudpilot_Free_1=function(){return(Xl=c._emscripten_bind_Cloudpilot_Free_1=c.asm.B).apply(null,arguments)},ht=c._emscripten_bind_Cloudpilot_Nullptr_0=function(){return(ht=c._emscripten_bind_Cloudpilot_Nullptr_0=c.asm.C).apply(null,arguments)},Us=c._emscripten_bind_Cloudpilot_InitializeSession_3=function(){return(Us=c._emscripten_bind_Cloudpilot_InitializeSession_3=c.asm.D).apply(null,arguments)},_r=c._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=function(){return(_r=c._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=c.asm.E).apply(null,arguments)},ms=c._emscripten_bind_Cloudpilot_RunEmulation_1=function(){return(ms=c._emscripten_bind_Cloudpilot_RunEmulation_1=c.asm.F).apply(null,arguments)},na=c._emscripten_bind_Cloudpilot_SetClockFactor_1=function(){return(na=c._emscripten_bind_Cloudpilot_SetClockFactor_1=c.asm.G).apply(null,arguments)},ro=c._emscripten_bind_Cloudpilot_CopyFrame_0=function(){return(ro=c._emscripten_bind_Cloudpilot_CopyFrame_0=c.asm.H).apply(null,arguments)},qi=c._emscripten_bind_Cloudpilot_IsScreenDirty_0=function(){return(qi=c._emscripten_bind_Cloudpilot_IsScreenDirty_0=c.asm.I).apply(null,arguments)},Ci=c._emscripten_bind_Cloudpilot_MarkScreenClean_0=function(){return(Ci=c._emscripten_bind_Cloudpilot_MarkScreenClean_0=c.asm.J).apply(null,arguments)},ra=c._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=function(){return(ra=c._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=c.asm.K).apply(null,arguments)},xs=c._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=function(){return(xs=c._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=c.asm.L).apply(null,arguments)},js=c._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=function(){return(js=c._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=c.asm.M).apply(null,arguments)},oa=c._emscripten_bind_Cloudpilot_QueuePenMove_2=function(){return(oa=c._emscripten_bind_Cloudpilot_QueuePenMove_2=c.asm.N).apply(null,arguments)},Oa=c._emscripten_bind_Cloudpilot_QueuePenUp_0=function(){return(Oa=c._emscripten_bind_Cloudpilot_QueuePenUp_0=c.asm.O).apply(null,arguments)},kt=c._emscripten_bind_Cloudpilot_QueueButtonDown_1=function(){return(kt=c._emscripten_bind_Cloudpilot_QueueButtonDown_1=c.asm.P).apply(null,arguments)},Hs=c._emscripten_bind_Cloudpilot_QueueButtonUp_1=function(){return(Hs=c._emscripten_bind_Cloudpilot_QueueButtonUp_1=c.asm.Q).apply(null,arguments)},fo=c._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=function(){return(fo=c._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=c.asm.R).apply(null,arguments)},ar=c._emscripten_bind_Cloudpilot_IsPowerOff_0=function(){return(ar=c._emscripten_bind_Cloudpilot_IsPowerOff_0=c.asm.S).apply(null,arguments)},Zr=c._emscripten_bind_Cloudpilot_IsUIInitialized_0=function(){return(Zr=c._emscripten_bind_Cloudpilot_IsUIInitialized_0=c.asm.T).apply(null,arguments)},xr=c._emscripten_bind_Cloudpilot_GetOSVersion_0=function(){return(xr=c._emscripten_bind_Cloudpilot_GetOSVersion_0=c.asm.U).apply(null,arguments)},p=c._emscripten_bind_Cloudpilot_IsSetupComplete_0=function(){return(p=c._emscripten_bind_Cloudpilot_IsSetupComplete_0=c.asm.V).apply(null,arguments)},y=c._emscripten_bind_Cloudpilot_Reset_0=function(){return(y=c._emscripten_bind_Cloudpilot_Reset_0=c.asm.W).apply(null,arguments)},b=c._emscripten_bind_Cloudpilot_ResetNoExtensions_0=function(){return(b=c._emscripten_bind_Cloudpilot_ResetNoExtensions_0=c.asm.X).apply(null,arguments)},F=c._emscripten_bind_Cloudpilot_ResetHard_0=function(){return(F=c._emscripten_bind_Cloudpilot_ResetHard_0=c.asm.Y).apply(null,arguments)},z=c._emscripten_bind_Cloudpilot_InstallDb_2=function(){return(z=c._emscripten_bind_Cloudpilot_InstallDb_2=c.asm.Z).apply(null,arguments)},ve=c._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=function(){return(ve=c._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=c.asm._).apply(null,arguments)},Ee=c._emscripten_bind_Cloudpilot_GetMemoryPtr_0=function(){return(Ee=c._emscripten_bind_Cloudpilot_GetMemoryPtr_0=c.asm.$).apply(null,arguments)},je=c._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=function(){return(je=c._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=c.asm.aa).apply(null,arguments)},St=c._emscripten_bind_Cloudpilot_GetMemorySize_0=function(){return(St=c._emscripten_bind_Cloudpilot_GetMemorySize_0=c.asm.ba).apply(null,arguments)},dn=c._emscripten_bind_Cloudpilot_ImportMemoryImage_2=function(){return(dn=c._emscripten_bind_Cloudpilot_ImportMemoryImage_2=c.asm.ca).apply(null,arguments)},xn=c._emscripten_bind_Cloudpilot_GetRomPtr_0=function(){return(xn=c._emscripten_bind_Cloudpilot_GetRomPtr_0=c.asm.da).apply(null,arguments)},Rn=c._emscripten_bind_Cloudpilot_GetRomSize_0=function(){return(Rn=c._emscripten_bind_Cloudpilot_GetRomSize_0=c.asm.ea).apply(null,arguments)},zt=c._emscripten_bind_Cloudpilot_GetSavestatePtr_0=function(){return(zt=c._emscripten_bind_Cloudpilot_GetSavestatePtr_0=c.asm.fa).apply(null,arguments)},en=c._emscripten_bind_Cloudpilot_GetSavestateSize_0=function(){return(en=c._emscripten_bind_Cloudpilot_GetSavestateSize_0=c.asm.ga).apply(null,arguments)},ee=c._emscripten_bind_Cloudpilot_SaveState_0=function(){return(ee=c._emscripten_bind_Cloudpilot_SaveState_0=c.asm.ha).apply(null,arguments)},Rr=c._emscripten_bind_Cloudpilot_LoadState_2=function(){return(Rr=c._emscripten_bind_Cloudpilot_LoadState_2=c.asm.ia).apply(null,arguments)},bn=c._emscripten_bind_Cloudpilot_GetHotsyncName_0=function(){return(bn=c._emscripten_bind_Cloudpilot_GetHotsyncName_0=c.asm.ja).apply(null,arguments)},kr=c._emscripten_bind_Cloudpilot_SetHotsyncName_1=function(){return(kr=c._emscripten_bind_Cloudpilot_SetHotsyncName_1=c.asm.ka).apply(null,arguments)},mt=c._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=function(){return(mt=c._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=c.asm.la).apply(null,arguments)},Gt=c._emscripten_bind_Cloudpilot_StartBackup_0=function(){return(Gt=c._emscripten_bind_Cloudpilot_StartBackup_0=c.asm.ma).apply(null,arguments)},Ur=c._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=function(){return(Ur=c._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=c.asm.na).apply(null,arguments)},Pn=c._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=function(){return(Pn=c._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=c.asm.oa).apply(null,arguments)},Qr=c._emscripten_bind_Cloudpilot_IsSuspended_0=function(){return(Qr=c._emscripten_bind_Cloudpilot_IsSuspended_0=c.asm.pa).apply(null,arguments)},An=c._emscripten_bind_Cloudpilot_GetSuspendContext_0=function(){return(An=c._emscripten_bind_Cloudpilot_GetSuspendContext_0=c.asm.qa).apply(null,arguments)},Si=c._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=function(){return(Si=c._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=c.asm.ra).apply(null,arguments)},pd=c._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=function(){return(pd=c._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=c.asm.sa).apply(null,arguments)},hd=c._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=function(){return(hd=c._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=c.asm.ta).apply(null,arguments)},Pi=c._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=function(){return(Pi=c._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=c.asm.ua).apply(null,arguments)},Ki=c._emscripten_bind_Cloudpilot_LaunchAppByName_1=function(){return(Ki=c._emscripten_bind_Cloudpilot_LaunchAppByName_1=c.asm.va).apply(null,arguments)},Vt=c._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=function(){return(Vt=c._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=c.asm.wa).apply(null,arguments)},To=c._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=function(){return(To=c._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=c.asm.xa).apply(null,arguments)},oo=c._emscripten_bind_Cloudpilot_ClearExternalStorage_0=function(){return(oo=c._emscripten_bind_Cloudpilot_ClearExternalStorage_0=c.asm.ya).apply(null,arguments)},Tr=c._emscripten_bind_Cloudpilot_AllocateCard_2=function(){return(Tr=c._emscripten_bind_Cloudpilot_AllocateCard_2=c.asm.za).apply(null,arguments)},fn=c._emscripten_bind_Cloudpilot_MountCard_1=function(){return(fn=c._emscripten_bind_Cloudpilot_MountCard_1=c.asm.Aa).apply(null,arguments)},mr=c._emscripten_bind_Cloudpilot_RemoveCard_1=function(){return(mr=c._emscripten_bind_Cloudpilot_RemoveCard_1=c.asm.Ba).apply(null,arguments)},lr=c._emscripten_bind_Cloudpilot_GetCardData_1=function(){return(lr=c._emscripten_bind_Cloudpilot_GetCardData_1=c.asm.Ca).apply(null,arguments)},Pr=c._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=function(){return(Pr=c._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=c.asm.Da).apply(null,arguments)},d=c._emscripten_bind_Cloudpilot_GetCardSize_1=function(){return(d=c._emscripten_bind_Cloudpilot_GetCardSize_1=c.asm.Ea).apply(null,arguments)},g=c._emscripten_bind_Cloudpilot_RemountCards_0=function(){return(g=c._emscripten_bind_Cloudpilot_RemountCards_0=c.asm.Fa).apply(null,arguments)},w=c._emscripten_bind_Cloudpilot_GetSupportLevel_1=function(){return(w=c._emscripten_bind_Cloudpilot_GetSupportLevel_1=c.asm.Ga).apply(null,arguments)},R=c._emscripten_bind_Cloudpilot_GetMountedKey_0=function(){return(R=c._emscripten_bind_Cloudpilot_GetMountedKey_0=c.asm.Ha).apply(null,arguments)},V=c._emscripten_bind_Cloudpilot___destroy___0=function(){return(V=c._emscripten_bind_Cloudpilot___destroy___0=c.asm.Ia).apply(null,arguments)},Ce=c._emscripten_bind_RomInfo_RomInfo_2=function(){return(Ce=c._emscripten_bind_RomInfo_RomInfo_2=c.asm.Ja).apply(null,arguments)},De=c._emscripten_bind_RomInfo_IsValid_0=function(){return(De=c._emscripten_bind_RomInfo_IsValid_0=c.asm.Ka).apply(null,arguments)},ue=c._emscripten_bind_RomInfo_CardVersion_0=function(){return(ue=c._emscripten_bind_RomInfo_CardVersion_0=c.asm.La).apply(null,arguments)},pt=c._emscripten_bind_RomInfo_CardName_0=function(){return(pt=c._emscripten_bind_RomInfo_CardName_0=c.asm.Ma).apply(null,arguments)},Et=c._emscripten_bind_RomInfo_RomVersion_0=function(){return(Et=c._emscripten_bind_RomInfo_RomVersion_0=c.asm.Na).apply(null,arguments)},pn=c._emscripten_bind_RomInfo_RomVersionString_0=function(){return(pn=c._emscripten_bind_RomInfo_RomVersionString_0=c.asm.Oa).apply(null,arguments)},wn=c._emscripten_bind_RomInfo_Supports_1=function(){return(wn=c._emscripten_bind_RomInfo_Supports_1=c.asm.Pa).apply(null,arguments)},qt=c._emscripten_bind_RomInfo___destroy___0=function(){return(qt=c._emscripten_bind_RomInfo___destroy___0=c.asm.Qa).apply(null,arguments)},Lt=c._emscripten_bind_Frame_GetLineWidth_0=function(){return(Lt=c._emscripten_bind_Frame_GetLineWidth_0=c.asm.Ra).apply(null,arguments)},In=c._emscripten_bind_Frame_GetBpp_0=function(){return(In=c._emscripten_bind_Frame_GetBpp_0=c.asm.Sa).apply(null,arguments)},wt=c._emscripten_bind_Frame_GetLines_0=function(){return(wt=c._emscripten_bind_Frame_GetLines_0=c.asm.Ta).apply(null,arguments)},yn=c._emscripten_bind_Frame_GetMargin_0=function(){return(yn=c._emscripten_bind_Frame_GetMargin_0=c.asm.Ua).apply(null,arguments)},zn=c._emscripten_bind_Frame_GetBytesPerLine_0=function(){return(zn=c._emscripten_bind_Frame_GetBytesPerLine_0=c.asm.Va).apply(null,arguments)},dt=c._emscripten_bind_Frame_GetFirstDirtyLine_0=function(){return(dt=c._emscripten_bind_Frame_GetFirstDirtyLine_0=c.asm.Wa).apply(null,arguments)},Kt=c._emscripten_bind_Frame_GetLastDirtyLine_0=function(){return(Kt=c._emscripten_bind_Frame_GetLastDirtyLine_0=c.asm.Xa).apply(null,arguments)},Yn=c._emscripten_bind_Frame_GetHasChanges_0=function(){return(Yn=c._emscripten_bind_Frame_GetHasChanges_0=c.asm.Ya).apply(null,arguments)},cr=c._emscripten_bind_Frame_GetBuffer_0=function(){return(cr=c._emscripten_bind_Frame_GetBuffer_0=c.asm.Za).apply(null,arguments)},or=c._emscripten_bind_Frame_GetBufferSize_0=function(){return(or=c._emscripten_bind_Frame_GetBufferSize_0=c.asm._a).apply(null,arguments)},Fr=c._emscripten_bind_Frame_GetScaleX_0=function(){return(Fr=c._emscripten_bind_Frame_GetScaleX_0=c.asm.$a).apply(null,arguments)},Ql=c._emscripten_bind_Frame_GetScaleY_0=function(){return(Ql=c._emscripten_bind_Frame_GetScaleY_0=c.asm.ab).apply(null,arguments)},Vn=c._emscripten_bind_Frame___destroy___0=function(){return(Vn=c._emscripten_bind_Frame___destroy___0=c.asm.bb).apply(null,arguments)},Vc=c._emscripten_bind_DbBackup_Init_1=function(){return(Vc=c._emscripten_bind_DbBackup_Init_1=c.asm.cb).apply(null,arguments)},hl=c._emscripten_bind_DbBackup_IsInProgress_0=function(){return(hl=c._emscripten_bind_DbBackup_IsInProgress_0=c.asm.db).apply(null,arguments)},md=c._emscripten_bind_DbBackup_IsDone_0=function(){return(md=c._emscripten_bind_DbBackup_IsDone_0=c.asm.eb).apply(null,arguments)},Na=c._emscripten_bind_DbBackup_GetCurrentDatabase_0=function(){return(Na=c._emscripten_bind_DbBackup_GetCurrentDatabase_0=c.asm.fb).apply(null,arguments)},Vo=c._emscripten_bind_DbBackup_Save_0=function(){return(Vo=c._emscripten_bind_DbBackup_Save_0=c.asm.gb).apply(null,arguments)},ml=c._emscripten_bind_DbBackup_Skip_0=function(){return(ml=c._emscripten_bind_DbBackup_Skip_0=c.asm.hb).apply(null,arguments)},La=c._emscripten_bind_DbBackup_GetArchivePtr_0=function(){return(La=c._emscripten_bind_DbBackup_GetArchivePtr_0=c.asm.ib).apply(null,arguments)},gs=c._emscripten_bind_DbBackup_GetArchiveSize_0=function(){return(gs=c._emscripten_bind_DbBackup_GetArchiveSize_0=c.asm.jb).apply(null,arguments)},gl=c._emscripten_bind_DbBackup___destroy___0=function(){return(gl=c._emscripten_bind_DbBackup___destroy___0=c.asm.kb).apply(null,arguments)},gd=c._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=function(){return(gd=c._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=c.asm.lb).apply(null,arguments)},Mr=c._emscripten_bind_SuspendContextClipboardCopy_Resume_0=function(){return(Mr=c._emscripten_bind_SuspendContextClipboardCopy_Resume_0=c.asm.mb).apply(null,arguments)},Gm=c._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=function(){return(Gm=c._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=c.asm.nb).apply(null,arguments)},Uc=c._emscripten_bind_SuspendContextClipboardCopy___destroy___0=function(){return(Uc=c._emscripten_bind_SuspendContextClipboardCopy___destroy___0=c.asm.ob).apply(null,arguments)},yd=c._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=function(){return(yd=c._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=c.asm.pb).apply(null,arguments)},Jl=c._emscripten_bind_SuspendContextClipboardPaste_Resume_1=function(){return(Jl=c._emscripten_bind_SuspendContextClipboardPaste_Resume_1=c.asm.qb).apply(null,arguments)},ec=c._emscripten_bind_SuspendContextClipboardPaste___destroy___0=function(){return(ec=c._emscripten_bind_SuspendContextClipboardPaste___destroy___0=c.asm.rb).apply(null,arguments)},$a=c._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=function(){return($a=c._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=c.asm.sb).apply(null,arguments)},Xo=c._emscripten_bind_SuspendContextNetworkConnect_Resume_1=function(){return(Xo=c._emscripten_bind_SuspendContextNetworkConnect_Resume_1=c.asm.tb).apply(null,arguments)},Wm=c._emscripten_bind_SuspendContextNetworkConnect___destroy___0=function(){return(Wm=c._emscripten_bind_SuspendContextNetworkConnect___destroy___0=c.asm.ub).apply(null,arguments)},Ei=c._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=function(){return(Ei=c._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=c.asm.vb).apply(null,arguments)},Yi=c._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=function(){return(Yi=c._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=c.asm.wb).apply(null,arguments)},jc=c._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=function(){return(jc=c._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=c.asm.xb).apply(null,arguments)},yl=c._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=function(){return(yl=c._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=c.asm.yb).apply(null,arguments)},tc=c._emscripten_bind_SuspendContextNetworkRpc___destroy___0=function(){return(tc=c._emscripten_bind_SuspendContextNetworkRpc___destroy___0=c.asm.zb).apply(null,arguments)},Xi=c._emscripten_bind_SuspendContext_GetKind_0=function(){return(Xi=c._emscripten_bind_SuspendContext_GetKind_0=c.asm.Ab).apply(null,arguments)},gp=c._emscripten_bind_SuspendContext_Cancel_0=function(){return(gp=c._emscripten_bind_SuspendContext_Cancel_0=c.asm.Bb).apply(null,arguments)},Zm=c._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=function(){return(Zm=c._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=c.asm.Cb).apply(null,arguments)},yp=c._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=function(){return(yp=c._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=c.asm.Db).apply(null,arguments)},_p=c._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=function(){return(_p=c._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=c.asm.Eb).apply(null,arguments)},qm=c._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=function(){return(qm=c._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=c.asm.Fb).apply(null,arguments)},Km=c._emscripten_bind_SuspendContext___destroy___0=function(){return(Km=c._emscripten_bind_SuspendContext___destroy___0=c.asm.Gb).apply(null,arguments)},Ym=c._emscripten_bind_ZipfileWalker_ZipfileWalker_2=function(){return(Ym=c._emscripten_bind_ZipfileWalker_ZipfileWalker_2=c.asm.Hb).apply(null,arguments)},Xm=c._emscripten_bind_ZipfileWalker_GetState_0=function(){return(Xm=c._emscripten_bind_ZipfileWalker_GetState_0=c.asm.Ib).apply(null,arguments)},Qm=c._emscripten_bind_ZipfileWalker_Next_0=function(){return(Qm=c._emscripten_bind_ZipfileWalker_Next_0=c.asm.Jb).apply(null,arguments)},Jm=c._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=function(){return(Jm=c._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=c.asm.Kb).apply(null,arguments)},eg=c._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=function(){return(eg=c._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=c.asm.Lb).apply(null,arguments)},tg=c._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=function(){return(tg=c._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=c.asm.Mb).apply(null,arguments)},ng=c._emscripten_bind_ZipfileWalker___destroy___0=function(){return(ng=c._emscripten_bind_ZipfileWalker___destroy___0=c.asm.Nb).apply(null,arguments)},rg=c._emscripten_bind_SessionImage_SessionImage_0=function(){return(rg=c._emscripten_bind_SessionImage_SessionImage_0=c.asm.Ob).apply(null,arguments)},og=c._emscripten_bind_SessionImage_GetDeviceId_0=function(){return(og=c._emscripten_bind_SessionImage_GetDeviceId_0=c.asm.Pb).apply(null,arguments)},ig=c._emscripten_bind_SessionImage_SetDeviceId_1=function(){return(ig=c._emscripten_bind_SessionImage_SetDeviceId_1=c.asm.Qb).apply(null,arguments)},_d=c._emscripten_bind_SessionImage_GetRomImage_0=function(){return(_d=c._emscripten_bind_SessionImage_GetRomImage_0=c.asm.Rb).apply(null,arguments)},vd=c._emscripten_bind_SessionImage_GetRomImageSize_0=function(){return(vd=c._emscripten_bind_SessionImage_GetRomImageSize_0=c.asm.Sb).apply(null,arguments)},sg=c._emscripten_bind_SessionImage_SetRomImage_2=function(){return(sg=c._emscripten_bind_SessionImage_SetRomImage_2=c.asm.Tb).apply(null,arguments)},ag=c._emscripten_bind_SessionImage_GetMemoryImage_0=function(){return(ag=c._emscripten_bind_SessionImage_GetMemoryImage_0=c.asm.Ub).apply(null,arguments)},lg=c._emscripten_bind_SessionImage_GetMemoryImageSize_0=function(){return(lg=c._emscripten_bind_SessionImage_GetMemoryImageSize_0=c.asm.Vb).apply(null,arguments)},ia=c._emscripten_bind_SessionImage_SetMemoryImage_2=function(){return(ia=c._emscripten_bind_SessionImage_SetMemoryImage_2=c.asm.Wb).apply(null,arguments)},vp=c._emscripten_bind_SessionImage_GetMetadata_0=function(){return(vp=c._emscripten_bind_SessionImage_GetMetadata_0=c.asm.Xb).apply(null,arguments)},Mo=c._emscripten_bind_SessionImage_GetMetadataSize_0=function(){return(Mo=c._emscripten_bind_SessionImage_GetMetadataSize_0=c.asm.Yb).apply(null,arguments)},bd=c._emscripten_bind_SessionImage_SetMetadata_2=function(){return(bd=c._emscripten_bind_SessionImage_SetMetadata_2=c.asm.Zb).apply(null,arguments)},bp=c._emscripten_bind_SessionImage_GetSavestate_0=function(){return(bp=c._emscripten_bind_SessionImage_GetSavestate_0=c.asm._b).apply(null,arguments)},wp=c._emscripten_bind_SessionImage_GetSavestateSize_0=function(){return(wp=c._emscripten_bind_SessionImage_GetSavestateSize_0=c.asm.$b).apply(null,arguments)},wd=c._emscripten_bind_SessionImage_SetSavestate_2=function(){return(wd=c._emscripten_bind_SessionImage_SetSavestate_2=c.asm.ac).apply(null,arguments)},Cd=c._emscripten_bind_SessionImage_GetVersion_0=function(){return(Cd=c._emscripten_bind_SessionImage_GetVersion_0=c.asm.bc).apply(null,arguments)},Cp=c._emscripten_bind_SessionImage_Serialize_0=function(){return(Cp=c._emscripten_bind_SessionImage_Serialize_0=c.asm.cc).apply(null,arguments)},Hc=c._emscripten_bind_SessionImage_GetSerializedImage_0=function(){return(Hc=c._emscripten_bind_SessionImage_GetSerializedImage_0=c.asm.dc).apply(null,arguments)},Sp=c._emscripten_bind_SessionImage_GetSerializedImageSize_0=function(){return(Sp=c._emscripten_bind_SessionImage_GetSerializedImageSize_0=c.asm.ec).apply(null,arguments)},Fi=c._emscripten_bind_SessionImage_Deserialize_2=function(){return(Fi=c._emscripten_bind_SessionImage_Deserialize_2=c.asm.fc).apply(null,arguments)},Sd=c._emscripten_bind_SessionImage___destroy___0=function(){return(Sd=c._emscripten_bind_SessionImage___destroy___0=c.asm.gc).apply(null,arguments)};function Oi(l){var h=c._main;try{var j=h(0,0);return function rt(l,h){le=l,function Qe(l){le=l,function tn(){return Fe}()||(c.onExit&&c.onExit(l),it=!0),U(l,new Bn(l))}(l)}(j),j}catch(be){return function xe(l){if(l instanceof Bn||"unwind"==l)return le;U(1,l)}(be)}}function Dp(l){function h(){Ba||(Ba=!0,c.calledRun=!0,!it&&(function vn(){!c.noFSInit&&!D.init.initialized&&D.init(),D.ignorePermissions=!1,jt.init(),Zt(Re)}(),function hr(){Zt(Tt)}(),re(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),Ed&&Oi(),function Jn(){if(c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;)l=c.postRun.shift(),an.unshift(l);var l;Zt(an)}()))}l=l||X,Fn>0||(function Z(){if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)l=c.preRun.shift(),ft.unshift(l);var l;Zt(ft)}(),Fn>0)||(c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),h()},1)):h())}if(c.___original_main=function(){return(c.___original_main=c.asm.ic).apply(null,arguments)},c.___start_em_js=244003,c.___stop_em_js=244200,c.UTF8ToString=$e,c.addFunction=function wi(l,h){if(Cr||(Cr=new WeakMap,function ci(l,h){if(Cr)for(var v=l;v<l+h;v++){var T=Io(v);T&&Cr.set(T,v)}}(0,_e.length)),Cr.has(l))return Cr.get(l);var v=function Ra(){if(Zi.length)return Zi.pop();try{_e.grow(1)}catch(l){throw l instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":l}return _e.length-1}();try{Pa(v,l)}catch(j){if(!(j instanceof TypeError))throw j;Pa(v,function Do(l,h){if("function"==typeof WebAssembly.Function)return new WebAssembly.Function(function Ct(l){for(var h={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},v={parameters:[],results:"v"==l[0]?[]:[h[l[0]]]},T=1;T<l.length;++T)v.parameters.push(h[l[T]]),"j"===l[T]&&v.parameters.push("i32");return v}(h),l);var v=[1];!function un(l,h){var v=l.slice(0,1),T=l.slice(1),j={i:127,p:127,j:126,f:125,d:124};h.push(96),Ht(T.length,h);for(var be=0;be<T.length;++be)h.push(j[T[be]]);"v"==v?h.push(0):h.push(1,j[v])}(h,v);var T=[0,97,115,109,1,0,0,0,1];Ht(v.length,T),T.push.apply(T,v),T.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var j=new WebAssembly.Module(new Uint8Array(T));return new WebAssembly.Instance(j,{e:{f:l}}).exports.f}(l,h))}return Cr.set(l,v),v},jn=function l(){Ba||Dp(),Ba||(jn=l)},c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);c.preInit.length>0;)c.preInit.pop()();var Ed=!0;function Sr(){}function bo(l){return(l||Sr).__cache__}function fr(l,h){var v=bo(h),T=v[l];return T||((T=Object.create((h||Sr).prototype)).ptr=l,v[l]=T)}c.noInitialRun&&(Ed=!1),Dp(),(Sr.prototype=Object.create(Sr.prototype)).constructor=Sr,Sr.prototype.__class__=Sr,Sr.__cache__={},c.WrapperObject=Sr,c.getCache=bo,c.wrapPointer=fr,c.castObject=function zc(l,h){return fr(l.ptr,h)},c.NULL=fr(0),c.destroy=function cg(l){if(!l.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";l.__destroy__(),delete bo(l.__class__)[l.ptr]},c.compare=function sa(l,h){return l.ptr===h.ptr},c.getPointer=function Ip(l){return l.ptr},c.getClass=function Dd(l){return l.__class__};var Dt={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(Dt.needed){for(var l=0;l<Dt.temps.length;l++)c._free(Dt.temps[l]);Dt.temps.length=0,c._free(Dt.buffer),Dt.buffer=0,Dt.size+=Dt.needed,Dt.needed=0}Dt.buffer||(Dt.size+=128,Dt.buffer=c._malloc(Dt.size),we(Dt.buffer)),Dt.pos=0},alloc:function(l,h){we(Dt.buffer);var j,T=l.length*h.BYTES_PER_ELEMENT;return Dt.pos+(T=T+7&-8)>=Dt.size?(we(T>0),Dt.needed+=T,j=c._malloc(T),Dt.temps.push(j)):(j=Dt.buffer+Dt.pos,Dt.pos+=T),j},copy:function(l,h,v){switch(v>>>=0,h.BYTES_PER_ELEMENT){case 2:v>>>=1;break;case 4:v>>>=2;break;case 8:v>>>=3}for(var j=0;j<l.length;j++)h[v+j]=l[j]}};function Uo(l){if("string"==typeof l){var h=ln(l),v=Dt.alloc(h,Xe);return Dt.copy(h,Xe,v),v}return l}function Or(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Je(){this.ptr=fl(),bo(Je)[this.ptr]=this}function Jr(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),this.ptr=Ce(l,h),bo(Jr)[this.ptr]=this}function ir(){throw"cannot construct a Frame, no constructor in IDL"}function Er(){throw"cannot construct a DbBackup, no constructor in IDL"}function Jo(){throw"cannot construct a SuspendContextClipboardCopy, no constructor in IDL"}function Di(){throw"cannot construct a SuspendContextClipboardPaste, no constructor in IDL"}function st(){throw"cannot construct a SuspendContextNetworkConnect, no constructor in IDL"}function Cn(){throw"cannot construct a SuspendContextNetworkRpc, no constructor in IDL"}function Mt(){throw"cannot construct a SuspendContext, no constructor in IDL"}function Rt(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),this.ptr=Ym(l,h),bo(Rt)[this.ptr]=this}function Ut(){this.ptr=rg(),bo(Ut)[this.ptr]=this}return(Or.prototype=Object.create(Sr.prototype)).constructor=Or,Or.prototype.__class__=Or,Or.__cache__={},c.VoidPtr=Or,Or.prototype.__destroy__=Or.prototype.__destroy__=function(){qn(this.ptr)},(Je.prototype=Object.create(Sr.prototype)).constructor=Je,Je.prototype.__class__=Je,Je.__cache__={},c.Cloudpilot=Je,Je.prototype.Malloc=Je.prototype.Malloc=function(l){return l&&"object"==typeof l&&(l=l.ptr),fr(pl(this.ptr,l),Or)},Je.prototype.Free=Je.prototype.Free=function(l){l&&"object"==typeof l&&(l=l.ptr),Xl(this.ptr,l)},Je.prototype.Nullptr=Je.prototype.Nullptr=function(){return fr(ht(this.ptr),Or)},Je.prototype.InitializeSession=Je.prototype.InitializeSession=function(l,h,v){var T=this.ptr;return Dt.prepare(),l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),v=v&&"object"==typeof v?v.ptr:Uo(v),!!Us(T,l,h,v)},Je.prototype.GetCyclesPerSecond=Je.prototype.GetCyclesPerSecond=function(){return _r(this.ptr)},Je.prototype.RunEmulation=Je.prototype.RunEmulation=function(l){return l&&"object"==typeof l&&(l=l.ptr),ms(this.ptr,l)},Je.prototype.SetClockFactor=Je.prototype.SetClockFactor=function(l){l&&"object"==typeof l&&(l=l.ptr),na(this.ptr,l)},Je.prototype.CopyFrame=Je.prototype.CopyFrame=function(){return fr(ro(this.ptr),ir)},Je.prototype.IsScreenDirty=Je.prototype.IsScreenDirty=function(){return!!qi(this.ptr)},Je.prototype.MarkScreenClean=Je.prototype.MarkScreenClean=function(){Ci(this.ptr)},Je.prototype.MinMemoryForDevice=Je.prototype.MinMemoryForDevice=function(l){var h=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Uo(l),ra(h,l)},Je.prototype.FramebufferSizeForDevice=Je.prototype.FramebufferSizeForDevice=function(l){var h=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Uo(l),xs(h,l)},Je.prototype.TotalMemoryForDevice=Je.prototype.TotalMemoryForDevice=function(l){var h=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Uo(l),js(h,l)},Je.prototype.QueuePenMove=Je.prototype.QueuePenMove=function(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),oa(this.ptr,l,h)},Je.prototype.QueuePenUp=Je.prototype.QueuePenUp=function(){Oa(this.ptr)},Je.prototype.QueueButtonDown=Je.prototype.QueueButtonDown=function(l){l&&"object"==typeof l&&(l=l.ptr),kt(this.ptr,l)},Je.prototype.QueueButtonUp=Je.prototype.QueueButtonUp=function(l){l&&"object"==typeof l&&(l=l.ptr),Hs(this.ptr,l)},Je.prototype.QueueKeyboardEvent=Je.prototype.QueueKeyboardEvent=function(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),fo(this.ptr,l,h)},Je.prototype.IsPowerOff=Je.prototype.IsPowerOff=function(){return!!ar(this.ptr)},Je.prototype.IsUIInitialized=Je.prototype.IsUIInitialized=function(){return!!Zr(this.ptr)},Je.prototype.GetOSVersion=Je.prototype.GetOSVersion=function(){return xr(this.ptr)},Je.prototype.IsSetupComplete=Je.prototype.IsSetupComplete=function(){return!!p(this.ptr)},Je.prototype.Reset=Je.prototype.Reset=function(){y(this.ptr)},Je.prototype.ResetNoExtensions=Je.prototype.ResetNoExtensions=function(){b(this.ptr)},Je.prototype.ResetHard=Je.prototype.ResetHard=function(){F(this.ptr)},Je.prototype.InstallDb=Je.prototype.InstallDb=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),z(this.ptr,l,h)},Je.prototype.GetPalette2bitMapping=Je.prototype.GetPalette2bitMapping=function(){return ve(this.ptr)},Je.prototype.GetMemoryPtr=Je.prototype.GetMemoryPtr=function(){return fr(Ee(this.ptr),Or)},Je.prototype.GetDirtyPagesPtr=Je.prototype.GetDirtyPagesPtr=function(){return fr(je(this.ptr),Or)},Je.prototype.GetMemorySize=Je.prototype.GetMemorySize=function(){return St(this.ptr)},Je.prototype.ImportMemoryImage=Je.prototype.ImportMemoryImage=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!dn(this.ptr,l,h)},Je.prototype.GetRomPtr=Je.prototype.GetRomPtr=function(){return fr(xn(this.ptr),Or)},Je.prototype.GetRomSize=Je.prototype.GetRomSize=function(){return Rn(this.ptr)},Je.prototype.GetSavestatePtr=Je.prototype.GetSavestatePtr=function(){return fr(zt(this.ptr),Or)},Je.prototype.GetSavestateSize=Je.prototype.GetSavestateSize=function(){return en(this.ptr)},Je.prototype.SaveState=Je.prototype.SaveState=function(){return!!ee(this.ptr)},Je.prototype.LoadState=Je.prototype.LoadState=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!Rr(this.ptr,l,h)},Je.prototype.GetHotsyncName=Je.prototype.GetHotsyncName=function(){return $e(bn(this.ptr))},Je.prototype.SetHotsyncName=Je.prototype.SetHotsyncName=function(l){var h=this.ptr;Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Uo(l),kr(h,l)},Je.prototype.RegisterPwmHandler=Je.prototype.RegisterPwmHandler=function(l){l&&"object"==typeof l&&(l=l.ptr),mt(this.ptr,l)},Je.prototype.StartBackup=Je.prototype.StartBackup=function(){return fr(Gt(this.ptr),Er)},Je.prototype.SetClipboardIntegration=Je.prototype.SetClipboardIntegration=function(l){l&&"object"==typeof l&&(l=l.ptr),Ur(this.ptr,l)},Je.prototype.GetClipboardIntegration=Je.prototype.GetClipboardIntegration=function(){return!!Pn(this.ptr)},Je.prototype.IsSuspended=Je.prototype.IsSuspended=function(){return!!Qr(this.ptr)},Je.prototype.GetSuspendContext=Je.prototype.GetSuspendContext=function(){return fr(An(this.ptr),Mt)},Je.prototype.SetNetworkRedirection=Je.prototype.SetNetworkRedirection=function(l){l&&"object"==typeof l&&(l=l.ptr),Si(this.ptr,l)},Je.prototype.GetNetworkRedirection=Je.prototype.GetNetworkRedirection=function(){return!!pd(this.ptr)},Je.prototype.RegisterProxyDisconnectHandler=Je.prototype.RegisterProxyDisconnectHandler=function(l){l&&"object"==typeof l&&(l=l.ptr),hd(this.ptr,l)},Je.prototype.SetHotsyncNameManagement=Je.prototype.SetHotsyncNameManagement=function(l){l&&"object"==typeof l&&(l=l.ptr),Pi(this.ptr,l)},Je.prototype.LaunchAppByName=Je.prototype.LaunchAppByName=function(l){var h=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Uo(l),!!Ki(h,l)},Je.prototype.LaunchAppByDbHeader=Je.prototype.LaunchAppByDbHeader=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!Vt(this.ptr,l,h)},Je.prototype.DeviceSupportsCardSize=Je.prototype.DeviceSupportsCardSize=function(l){return l&&"object"==typeof l&&(l=l.ptr),!!To(this.ptr,l)},Je.prototype.ClearExternalStorage=Je.prototype.ClearExternalStorage=function(){oo(this.ptr)},Je.prototype.AllocateCard=Je.prototype.AllocateCard=function(l,h){var v=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Uo(l),h&&"object"==typeof h&&(h=h.ptr),!!Tr(v,l,h)},Je.prototype.MountCard=Je.prototype.MountCard=function(l){var h=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Uo(l),!!fn(h,l)},Je.prototype.RemoveCard=Je.prototype.RemoveCard=function(l){var h=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Uo(l),!!mr(h,l)},Je.prototype.GetCardData=Je.prototype.GetCardData=function(l){var h=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Uo(l),fr(lr(h,l),Or)},Je.prototype.GetCardDirtyPages=Je.prototype.GetCardDirtyPages=function(l){var h=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Uo(l),fr(Pr(h,l),Or)},Je.prototype.GetCardSize=Je.prototype.GetCardSize=function(l){var h=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Uo(l),d(h,l)},Je.prototype.RemountCards=Je.prototype.RemountCards=function(){g(this.ptr)},Je.prototype.GetSupportLevel=Je.prototype.GetSupportLevel=function(l){return l&&"object"==typeof l&&(l=l.ptr),w(this.ptr,l)},Je.prototype.GetMountedKey=Je.prototype.GetMountedKey=function(){return $e(R(this.ptr))},Je.prototype.__destroy__=Je.prototype.__destroy__=function(){V(this.ptr)},(Jr.prototype=Object.create(Sr.prototype)).constructor=Jr,Jr.prototype.__class__=Jr,Jr.__cache__={},c.RomInfo=Jr,Jr.prototype.IsValid=Jr.prototype.IsValid=function(){return!!De(this.ptr)},Jr.prototype.CardVersion=Jr.prototype.CardVersion=function(){return ue(this.ptr)},Jr.prototype.CardName=Jr.prototype.CardName=function(){return $e(pt(this.ptr))},Jr.prototype.RomVersion=Jr.prototype.RomVersion=function(){return Et(this.ptr)},Jr.prototype.RomVersionString=Jr.prototype.RomVersionString=function(){return $e(pn(this.ptr))},Jr.prototype.Supports=Jr.prototype.Supports=function(l){var h=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Uo(l),!!wn(h,l)},Jr.prototype.__destroy__=Jr.prototype.__destroy__=function(){qt(this.ptr)},(ir.prototype=Object.create(Sr.prototype)).constructor=ir,ir.prototype.__class__=ir,ir.__cache__={},c.Frame=ir,ir.prototype.GetLineWidth=ir.prototype.GetLineWidth=function(){return Lt(this.ptr)},ir.prototype.GetBpp=ir.prototype.GetBpp=function(){return In(this.ptr)},ir.prototype.GetLines=ir.prototype.GetLines=function(){return wt(this.ptr)},ir.prototype.GetMargin=ir.prototype.GetMargin=function(){return yn(this.ptr)},ir.prototype.GetBytesPerLine=ir.prototype.GetBytesPerLine=function(){return zn(this.ptr)},ir.prototype.GetFirstDirtyLine=ir.prototype.GetFirstDirtyLine=function(){return dt(this.ptr)},ir.prototype.GetLastDirtyLine=ir.prototype.GetLastDirtyLine=function(){return Kt(this.ptr)},ir.prototype.GetHasChanges=ir.prototype.GetHasChanges=function(){return!!Yn(this.ptr)},ir.prototype.GetBuffer=ir.prototype.GetBuffer=function(){return fr(cr(this.ptr),Or)},ir.prototype.GetBufferSize=ir.prototype.GetBufferSize=function(){return or(this.ptr)},ir.prototype.GetScaleX=ir.prototype.GetScaleX=function(){return Fr(this.ptr)},ir.prototype.GetScaleY=ir.prototype.GetScaleY=function(){return Ql(this.ptr)},ir.prototype.__destroy__=ir.prototype.__destroy__=function(){Vn(this.ptr)},(Er.prototype=Object.create(Sr.prototype)).constructor=Er,Er.prototype.__class__=Er,Er.__cache__={},c.DbBackup=Er,Er.prototype.Init=Er.prototype.Init=function(l){return l&&"object"==typeof l&&(l=l.ptr),!!Vc(this.ptr,l)},Er.prototype.IsInProgress=Er.prototype.IsInProgress=function(){return!!hl(this.ptr)},Er.prototype.IsDone=Er.prototype.IsDone=function(){return!!md(this.ptr)},Er.prototype.GetCurrentDatabase=Er.prototype.GetCurrentDatabase=function(){return $e(Na(this.ptr))},Er.prototype.Save=Er.prototype.Save=function(){return!!Vo(this.ptr)},Er.prototype.Skip=Er.prototype.Skip=function(){ml(this.ptr)},Er.prototype.GetArchivePtr=Er.prototype.GetArchivePtr=function(){return fr(La(this.ptr),Or)},Er.prototype.GetArchiveSize=Er.prototype.GetArchiveSize=function(){return gs(this.ptr)},Er.prototype.__destroy__=Er.prototype.__destroy__=function(){gl(this.ptr)},(Jo.prototype=Object.create(Sr.prototype)).constructor=Jo,Jo.prototype.__class__=Jo,Jo.__cache__={},c.SuspendContextClipboardCopy=Jo,Jo.prototype.Cancel=Jo.prototype.Cancel=function(){gd(this.ptr)},Jo.prototype.Resume=Jo.prototype.Resume=function(){Mr(this.ptr)},Jo.prototype.GetClipboardContent=Jo.prototype.GetClipboardContent=function(){return $e(Gm(this.ptr))},Jo.prototype.__destroy__=Jo.prototype.__destroy__=function(){Uc(this.ptr)},(Di.prototype=Object.create(Sr.prototype)).constructor=Di,Di.prototype.__class__=Di,Di.__cache__={},c.SuspendContextClipboardPaste=Di,Di.prototype.Cancel=Di.prototype.Cancel=function(){yd(this.ptr)},Di.prototype.Resume=Di.prototype.Resume=function(l){var h=this.ptr;Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Uo(l),Jl(h,l)},Di.prototype.__destroy__=Di.prototype.__destroy__=function(){ec(this.ptr)},(st.prototype=Object.create(Sr.prototype)).constructor=st,st.prototype.__class__=st,st.__cache__={},c.SuspendContextNetworkConnect=st,st.prototype.Cancel=st.prototype.Cancel=function(){$a(this.ptr)},st.prototype.Resume=st.prototype.Resume=function(l){var h=this.ptr;Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Uo(l),Xo(h,l)},st.prototype.__destroy__=st.prototype.__destroy__=function(){Wm(this.ptr)},(Cn.prototype=Object.create(Sr.prototype)).constructor=Cn,Cn.prototype.__class__=Cn,Cn.__cache__={},c.SuspendContextNetworkRpc=Cn,Cn.prototype.Cancel=Cn.prototype.Cancel=function(){Ei(this.ptr)},Cn.prototype.GetRequestSize=Cn.prototype.GetRequestSize=function(){return Yi(this.ptr)},Cn.prototype.GetRequestData=Cn.prototype.GetRequestData=function(){return fr(jc(this.ptr),Or)},Cn.prototype.ReceiveResponse=Cn.prototype.ReceiveResponse=function(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),yl(this.ptr,l,h)},Cn.prototype.__destroy__=Cn.prototype.__destroy__=function(){tc(this.ptr)},(Mt.prototype=Object.create(Sr.prototype)).constructor=Mt,Mt.prototype.__class__=Mt,Mt.__cache__={},c.SuspendContext=Mt,Mt.prototype.GetKind=Mt.prototype.GetKind=function(){return Xi(this.ptr)},Mt.prototype.Cancel=Mt.prototype.Cancel=function(){gp(this.ptr)},Mt.prototype.AsContextClipboardCopy=Mt.prototype.AsContextClipboardCopy=function(){return fr(Zm(this.ptr),Jo)},Mt.prototype.AsContextClipboardPaste=Mt.prototype.AsContextClipboardPaste=function(){return fr(yp(this.ptr),Di)},Mt.prototype.AsContextNetworkConnect=Mt.prototype.AsContextNetworkConnect=function(){return fr(_p(this.ptr),st)},Mt.prototype.AsContextNetworkRpc=Mt.prototype.AsContextNetworkRpc=function(){return fr(qm(this.ptr),Cn)},Mt.prototype.__destroy__=Mt.prototype.__destroy__=function(){Km(this.ptr)},(Rt.prototype=Object.create(Sr.prototype)).constructor=Rt,Rt.prototype.__class__=Rt,Rt.__cache__={},c.ZipfileWalker=Rt,Rt.prototype.GetState=Rt.prototype.GetState=function(){return Xm(this.ptr)},Rt.prototype.Next=Rt.prototype.Next=function(){return Qm(this.ptr)},Rt.prototype.GetCurrentEntrySize=Rt.prototype.GetCurrentEntrySize=function(){return Jm(this.ptr)},Rt.prototype.GetCurrentEntryName=Rt.prototype.GetCurrentEntryName=function(){return $e(eg(this.ptr))},Rt.prototype.GetCurrentEntryContent=Rt.prototype.GetCurrentEntryContent=function(){return fr(tg(this.ptr),Or)},Rt.prototype.__destroy__=Rt.prototype.__destroy__=function(){ng(this.ptr)},(Ut.prototype=Object.create(Sr.prototype)).constructor=Ut,Ut.prototype.__class__=Ut,Ut.__cache__={},c.SessionImage=Ut,Ut.prototype.GetDeviceId=Ut.prototype.GetDeviceId=function(){return $e(og(this.ptr))},Ut.prototype.SetDeviceId=Ut.prototype.SetDeviceId=function(l){var h=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Uo(l),fr(ig(h,l),Ut)},Ut.prototype.GetRomImage=Ut.prototype.GetRomImage=function(){return fr(_d(this.ptr),Or)},Ut.prototype.GetRomImageSize=Ut.prototype.GetRomImageSize=function(){return vd(this.ptr)},Ut.prototype.SetRomImage=Ut.prototype.SetRomImage=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),fr(sg(this.ptr,l,h),Ut)},Ut.prototype.GetMemoryImage=Ut.prototype.GetMemoryImage=function(){return fr(ag(this.ptr),Or)},Ut.prototype.GetMemoryImageSize=Ut.prototype.GetMemoryImageSize=function(){return lg(this.ptr)},Ut.prototype.SetMemoryImage=Ut.prototype.SetMemoryImage=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),fr(ia(this.ptr,l,h),Ut)},Ut.prototype.GetMetadata=Ut.prototype.GetMetadata=function(){return fr(vp(this.ptr),Or)},Ut.prototype.GetMetadataSize=Ut.prototype.GetMetadataSize=function(){return Mo(this.ptr)},Ut.prototype.SetMetadata=Ut.prototype.SetMetadata=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),fr(bd(this.ptr,l,h),Ut)},Ut.prototype.GetSavestate=Ut.prototype.GetSavestate=function(){return fr(bp(this.ptr),Or)},Ut.prototype.GetSavestateSize=Ut.prototype.GetSavestateSize=function(){return wp(this.ptr)},Ut.prototype.SetSavestate=Ut.prototype.SetSavestate=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),fr(wd(this.ptr,l,h),Ut)},Ut.prototype.GetVersion=Ut.prototype.GetVersion=function(){return Cd(this.ptr)},Ut.prototype.Serialize=Ut.prototype.Serialize=function(){return!!Cp(this.ptr)},Ut.prototype.GetSerializedImage=Ut.prototype.GetSerializedImage=function(){return fr(Hc(this.ptr),Or)},Ut.prototype.GetSerializedImageSize=Ut.prototype.GetSerializedImageSize=function(){return Sp(this.ptr)},Ut.prototype.Deserialize=Ut.prototype.Deserialize=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!Fi(this.ptr,l,h)},Ut.prototype.__destroy__=Ut.prototype.__destroy__=function(){Sd(this.ptr)},I.ready});Be.exports=Ge},9084:Be=>{var x,Ge=(x=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(I){var re,J,c=typeof(I=I||{})<"u"?I:{};c.ready=new Promise(function(p,y){re=p,J=y});var H,Pe,Le,G=Object.assign({},c),X=[],L="./this.program",U=(p,y)=>{throw y},ce="object"==typeof window,Y="function"==typeof importScripts,B=("object"==typeof process&&"object"==typeof process.versions&&process,"");(ce||Y)&&(Y?B=self.location.href:typeof document<"u"&&document.currentScript&&(B=document.currentScript.src),x&&(B=x),B=0!==B.indexOf("blob:")?B.substr(0,B.replace(/[?#].*/,"").lastIndexOf("/")+1):"",H=p=>{var y=new XMLHttpRequest;return y.open("GET",p,!1),y.send(null),y.responseText},Y&&(Le=p=>{var y=new XMLHttpRequest;return y.open("GET",p,!1),y.responseType="arraybuffer",y.send(null),new Uint8Array(y.response)}),Pe=(p,y,b)=>{var F=new XMLHttpRequest;F.open("GET",p,!0),F.responseType="arraybuffer",F.onload=()=>{200==F.status||0==F.status&&F.response?y(F.response):b()},F.onerror=b,F.send(null)});var fe,W=c.print||console.log.bind(console),K=c.printErr||console.warn.bind(console);Object.assign(c,G),G=null,c.arguments&&(X=c.arguments),c.thisProgram&&(L=c.thisProgram),c.quit&&(U=c.quit),c.wasmBinary&&(fe=c.wasmBinary);var Fe=c.noExitRuntime||!0;"object"!=typeof WebAssembly&&sr("no native wasm support detected");var de,le,it=!1;function we(p,y){p||sr(y)}var Ue,Xe,yt,O,ye,nt,Ie=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Ye(p,y,b){for(var F=y+b,z=y;p[z]&&!(z>=F);)++z;if(z-y>16&&p.buffer&&Ie)return Ie.decode(p.subarray(y,z));for(var ve="";y<z;){var Ee=p[y++];if(128&Ee){var je=63&p[y++];if(192!=(224&Ee)){var St=63&p[y++];if((Ee=224==(240&Ee)?(15&Ee)<<12|je<<6|St:(7&Ee)<<18|je<<12|St<<6|63&p[y++])<65536)ve+=String.fromCharCode(Ee);else{var dn=Ee-65536;ve+=String.fromCharCode(55296|dn>>10,56320|1023&dn)}}else ve+=String.fromCharCode((31&Ee)<<6|je)}else ve+=String.fromCharCode(Ee)}return ve}function $e(p,y){return p?Ye(yt,p,y):""}function Me(p,y,b,F){if(!(F>0))return 0;for(var z=b,ve=b+F-1,Ee=0;Ee<p.length;++Ee){var je=p.charCodeAt(Ee);if(je>=55296&&je<=57343&&(je=65536+((1023&je)<<10)|1023&p.charCodeAt(++Ee)),je<=127){if(b>=ve)break;y[b++]=je}else if(je<=2047){if(b+1>=ve)break;y[b++]=192|je>>6,y[b++]=128|63&je}else if(je<=65535){if(b+2>=ve)break;y[b++]=224|je>>12,y[b++]=128|je>>6&63,y[b++]=128|63&je}else{if(b+3>=ve)break;y[b++]=240|je>>18,y[b++]=128|je>>12&63,y[b++]=128|je>>6&63,y[b++]=128|63&je}}return y[b]=0,b-z}function ne(p){for(var y=0,b=0;b<p.length;++b){var F=p.charCodeAt(b);F<=127?y++:F<=2047?y+=2:F>=55296&&F<=57343?(y+=4,++b):y+=3}return y}function Ve(p){Ue=p,c.HEAP8=Xe=new Int8Array(p),c.HEAP16=new Int16Array(p),c.HEAP32=O=new Int32Array(p),c.HEAPU8=yt=new Uint8Array(p),c.HEAPU16=new Uint16Array(p),c.HEAPU32=ye=new Uint32Array(p),c.HEAPF32=new Float32Array(p),c.HEAPF64=nt=new Float64Array(p)}var mn,ft=[],Re=[],Tt=[],an=[],Fn=0,co=null,jn=null;function Gr(p){Fn++,c.monitorRunDependencies&&c.monitorRunDependencies(Fn)}function Ar(p){if(Fn--,c.monitorRunDependencies&&c.monitorRunDependencies(Fn),0==Fn&&(null!==co&&(clearInterval(co),co=null),jn)){var y=jn;jn=null,y()}}function sr(p){c.onAbort&&c.onAbort(p),K(p="Aborted("+p+")"),it=!0,le=1,p+=". Build with -sASSERTIONS for more info.";var y=new WebAssembly.RuntimeError(p);throw J(y),y}function eo(p){return p.startsWith("data:application/octet-stream;base64,")}function Kr(p){try{if(p==mn&&fe)return new Uint8Array(fe);if(Le)return Le(p);throw"both async and sync fetching of the wasm failed"}catch(y){sr(y)}}eo(mn="fstools_web.wasm")||(mn=function $(p){return c.locateFile?c.locateFile(p,B):B+p}(mn));var at,ae,ze={40318:()=>{throw new Error("terminated")}};function On(p){this.name="ExitStatus",this.message="Program terminated with exit("+p+")",this.status=p}function Bn(p){for(;p.length>0;)p.shift()(c)}var Zt={isAbs:p=>"/"===p.charAt(0),splitPath:p=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(p).slice(1),normalizeArray:(p,y)=>{for(var b=0,F=p.length-1;F>=0;F--){var z=p[F];"."===z?p.splice(F,1):".."===z?(p.splice(F,1),b++):b&&(p.splice(F,1),b--)}if(y)for(;b;b--)p.unshift("..");return p},normalize:p=>{var y=Zt.isAbs(p),b="/"===p.substr(-1);return!(p=Zt.normalizeArray(p.split("/").filter(F=>!!F),!y).join("/"))&&!y&&(p="."),p&&b&&(p+="/"),(y?"/":"")+p},dirname:p=>{var y=Zt.splitPath(p),b=y[0],F=y[1];return b||F?(F&&(F=F.substr(0,F.length-1)),b+F):"."},basename:p=>{if("/"===p)return"/";var y=(p=(p=Zt.normalize(p)).replace(/\/$/,"")).lastIndexOf("/");return-1===y?p:p.substr(y+1)},join:function(){var p=Array.prototype.slice.call(arguments);return Zt.normalize(p.join("/"))},join2:(p,y)=>Zt.normalize(p+"/"+y)},gr={resolve:function(){for(var p="",y=!1,b=arguments.length-1;b>=-1&&!y;b--){var F=b>=0?arguments[b]:E.cwd();if("string"!=typeof F)throw new TypeError("Arguments to path.resolve must be strings");if(!F)return"";p=F+"/"+p,y=Zt.isAbs(F)}return(y?"/":"")+(p=Zt.normalizeArray(p.split("/").filter(z=>!!z),!y).join("/"))||"."},relative:(p,y)=>{function b(dn){for(var xn=0;xn<dn.length&&""===dn[xn];xn++);for(var Rn=dn.length-1;Rn>=0&&""===dn[Rn];Rn--);return xn>Rn?[]:dn.slice(xn,Rn-xn+1)}p=gr.resolve(p).substr(1),y=gr.resolve(y).substr(1);for(var F=b(p.split("/")),z=b(y.split("/")),ve=Math.min(F.length,z.length),Ee=ve,je=0;je<ve;je++)if(F[je]!==z[je]){Ee=je;break}var St=[];for(je=Ee;je<F.length;je++)St.push("..");return(St=St.concat(z.slice(Ee))).join("/")}};function Jt(p,y,b){var F=b>0?b:ne(p)+1,z=new Array(F),ve=Me(p,z,0,z.length);return y&&(z.length=ve),z}var er={ttys:[],init:function(){},shutdown:function(){},register:function(p,y){er.ttys[p]={input:[],output:[],ops:y},E.registerDevice(p,er.stream_ops)},stream_ops:{open:function(p){var y=er.ttys[p.node.rdev];if(!y)throw new E.ErrnoError(43);p.tty=y,p.seekable=!1},close:function(p){p.tty.ops.fsync(p.tty)},fsync:function(p){p.tty.ops.fsync(p.tty)},read:function(p,y,b,F,z){if(!p.tty||!p.tty.ops.get_char)throw new E.ErrnoError(60);for(var ve=0,Ee=0;Ee<F;Ee++){var je;try{je=p.tty.ops.get_char(p.tty)}catch{throw new E.ErrnoError(29)}if(void 0===je&&0===ve)throw new E.ErrnoError(6);if(null==je)break;ve++,y[b+Ee]=je}return ve&&(p.node.timestamp=Date.now()),ve},write:function(p,y,b,F,z){if(!p.tty||!p.tty.ops.put_char)throw new E.ErrnoError(60);try{for(var ve=0;ve<F;ve++)p.tty.ops.put_char(p.tty,y[b+ve])}catch{throw new E.ErrnoError(29)}return F&&(p.node.timestamp=Date.now()),ve}},default_tty_ops:{get_char:function(p){if(!p.input.length){var y=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(y=window.prompt("Input: "))&&(y+="\n"):"function"==typeof readline&&null!==(y=readline())&&(y+="\n"),!y)return null;p.input=Jt(y,!0)}return p.input.shift()},put_char:function(p,y){null===y||10===y?(W(Ye(p.output,0)),p.output=[]):0!=y&&p.output.push(y)},fsync:function(p){p.output&&p.output.length>0&&(W(Ye(p.output,0)),p.output=[])}},default_tty1_ops:{put_char:function(p,y){null===y||10===y?(K(Ye(p.output,0)),p.output=[]):0!=y&&p.output.push(y)},fsync:function(p){p.output&&p.output.length>0&&(K(Ye(p.output,0)),p.output=[])}}};function tr(p){sr()}var ln={ops_table:null,mount:function(p){return ln.createNode(null,"/",16895,0)},createNode:function(p,y,b,F){if(E.isBlkdev(b)||E.isFIFO(b))throw new E.ErrnoError(63);ln.ops_table||(ln.ops_table={dir:{node:{getattr:ln.node_ops.getattr,setattr:ln.node_ops.setattr,lookup:ln.node_ops.lookup,mknod:ln.node_ops.mknod,rename:ln.node_ops.rename,unlink:ln.node_ops.unlink,rmdir:ln.node_ops.rmdir,readdir:ln.node_ops.readdir,symlink:ln.node_ops.symlink},stream:{llseek:ln.stream_ops.llseek}},file:{node:{getattr:ln.node_ops.getattr,setattr:ln.node_ops.setattr},stream:{llseek:ln.stream_ops.llseek,read:ln.stream_ops.read,write:ln.stream_ops.write,allocate:ln.stream_ops.allocate,mmap:ln.stream_ops.mmap,msync:ln.stream_ops.msync}},link:{node:{getattr:ln.node_ops.getattr,setattr:ln.node_ops.setattr,readlink:ln.node_ops.readlink},stream:{}},chrdev:{node:{getattr:ln.node_ops.getattr,setattr:ln.node_ops.setattr},stream:E.chrdev_stream_ops}});var z=E.createNode(p,y,b,F);return E.isDir(z.mode)?(z.node_ops=ln.ops_table.dir.node,z.stream_ops=ln.ops_table.dir.stream,z.contents={}):E.isFile(z.mode)?(z.node_ops=ln.ops_table.file.node,z.stream_ops=ln.ops_table.file.stream,z.usedBytes=0,z.contents=null):E.isLink(z.mode)?(z.node_ops=ln.ops_table.link.node,z.stream_ops=ln.ops_table.link.stream):E.isChrdev(z.mode)&&(z.node_ops=ln.ops_table.chrdev.node,z.stream_ops=ln.ops_table.chrdev.stream),z.timestamp=Date.now(),p&&(p.contents[y]=z,p.timestamp=z.timestamp),z},getFileDataAsTypedArray:function(p){return p.contents?p.contents.subarray?p.contents.subarray(0,p.usedBytes):new Uint8Array(p.contents):new Uint8Array(0)},expandFileStorage:function(p,y){var b=p.contents?p.contents.length:0;if(!(b>=y)){y=Math.max(y,b*(b<1048576?2:1.125)>>>0),0!=b&&(y=Math.max(y,256));var z=p.contents;p.contents=new Uint8Array(y),p.usedBytes>0&&p.contents.set(z.subarray(0,p.usedBytes),0)}},resizeFileStorage:function(p,y){if(p.usedBytes!=y)if(0==y)p.contents=null,p.usedBytes=0;else{var b=p.contents;p.contents=new Uint8Array(y),b&&p.contents.set(b.subarray(0,Math.min(y,p.usedBytes))),p.usedBytes=y}},node_ops:{getattr:function(p){var y={};return y.dev=E.isChrdev(p.mode)?p.id:1,y.ino=p.id,y.mode=p.mode,y.nlink=1,y.uid=0,y.gid=0,y.rdev=p.rdev,y.size=E.isDir(p.mode)?4096:E.isFile(p.mode)?p.usedBytes:E.isLink(p.mode)?p.link.length:0,y.atime=new Date(p.timestamp),y.mtime=new Date(p.timestamp),y.ctime=new Date(p.timestamp),y.blksize=4096,y.blocks=Math.ceil(y.size/y.blksize),y},setattr:function(p,y){void 0!==y.mode&&(p.mode=y.mode),void 0!==y.timestamp&&(p.timestamp=y.timestamp),void 0!==y.size&&ln.resizeFileStorage(p,y.size)},lookup:function(p,y){throw E.genericErrors[44]},mknod:function(p,y,b,F){return ln.createNode(p,y,b,F)},rename:function(p,y,b){if(E.isDir(p.mode)){var F;try{F=E.lookupNode(y,b)}catch{}if(F)for(var z in F.contents)throw new E.ErrnoError(55)}delete p.parent.contents[p.name],p.parent.timestamp=Date.now(),p.name=b,y.contents[b]=p,y.timestamp=p.parent.timestamp,p.parent=y},unlink:function(p,y){delete p.contents[y],p.timestamp=Date.now()},rmdir:function(p,y){var b=E.lookupNode(p,y);for(var F in b.contents)throw new E.ErrnoError(55);delete p.contents[y],p.timestamp=Date.now()},readdir:function(p){var y=[".",".."];for(var b in p.contents)p.contents.hasOwnProperty(b)&&y.push(b);return y},symlink:function(p,y,b){var F=ln.createNode(p,y,41471,0);return F.link=b,F},readlink:function(p){if(!E.isLink(p.mode))throw new E.ErrnoError(28);return p.link}},stream_ops:{read:function(p,y,b,F,z){var ve=p.node.contents;if(z>=p.node.usedBytes)return 0;var Ee=Math.min(p.node.usedBytes-z,F);if(Ee>8&&ve.subarray)y.set(ve.subarray(z,z+Ee),b);else for(var je=0;je<Ee;je++)y[b+je]=ve[z+je];return Ee},write:function(p,y,b,F,z,ve){if(y.buffer===Xe.buffer&&(ve=!1),!F)return 0;var Ee=p.node;if(Ee.timestamp=Date.now(),y.subarray&&(!Ee.contents||Ee.contents.subarray)){if(ve)return Ee.contents=y.subarray(b,b+F),Ee.usedBytes=F,F;if(0===Ee.usedBytes&&0===z)return Ee.contents=y.slice(b,b+F),Ee.usedBytes=F,F;if(z+F<=Ee.usedBytes)return Ee.contents.set(y.subarray(b,b+F),z),F}if(ln.expandFileStorage(Ee,z+F),Ee.contents.subarray&&y.subarray)Ee.contents.set(y.subarray(b,b+F),z);else for(var je=0;je<F;je++)Ee.contents[z+je]=y[b+je];return Ee.usedBytes=Math.max(Ee.usedBytes,z+F),F},llseek:function(p,y,b){var F=y;if(1===b?F+=p.position:2===b&&E.isFile(p.node.mode)&&(F+=p.node.usedBytes),F<0)throw new E.ErrnoError(28);return F},allocate:function(p,y,b){ln.expandFileStorage(p.node,y+b),p.node.usedBytes=Math.max(p.node.usedBytes,y+b)},mmap:function(p,y,b,F,z){if(!E.isFile(p.node.mode))throw new E.ErrnoError(43);var ve,Ee,je=p.node.contents;if(2&z||je.buffer!==Ue){if((b>0||b+y<je.length)&&(je=je.subarray?je.subarray(b,b+y):Array.prototype.slice.call(je,b,b+y)),Ee=!0,!(ve=tr()))throw new E.ErrnoError(48);Xe.set(je,ve)}else Ee=!1,ve=je.byteOffset;return{ptr:ve,allocated:Ee}},msync:function(p,y,b,F,z){return ln.stream_ops.write(p,y,0,F,b,!1),0}}},E={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(p,y={})=>{if(!(p=gr.resolve(p)))return{path:"",node:null};if((y=Object.assign({follow_mount:!0,recurse_count:0},y)).recurse_count>8)throw new E.ErrnoError(32);for(var F=p.split("/").filter(Rn=>!!Rn),z=E.root,ve="/",Ee=0;Ee<F.length;Ee++){var je=Ee===F.length-1;if(je&&y.parent)break;if(z=E.lookupNode(z,F[Ee]),ve=Zt.join2(ve,F[Ee]),E.isMountpoint(z)&&(!je||je&&y.follow_mount)&&(z=z.mounted.root),!je||y.follow)for(var St=0;E.isLink(z.mode);){var dn=E.readlink(ve);if(ve=gr.resolve(Zt.dirname(ve),dn),z=E.lookupPath(ve,{recurse_count:y.recurse_count+1}).node,St++>40)throw new E.ErrnoError(32)}}return{path:ve,node:z}},getPath:p=>{for(var y;;){if(E.isRoot(p)){var b=p.mount.mountpoint;return y?"/"!==b[b.length-1]?b+"/"+y:b+y:b}y=y?p.name+"/"+y:p.name,p=p.parent}},hashName:(p,y)=>{for(var b=0,F=0;F<y.length;F++)b=(b<<5)-b+y.charCodeAt(F)|0;return(p+b>>>0)%E.nameTable.length},hashAddNode:p=>{var y=E.hashName(p.parent.id,p.name);p.name_next=E.nameTable[y],E.nameTable[y]=p},hashRemoveNode:p=>{var y=E.hashName(p.parent.id,p.name);if(E.nameTable[y]===p)E.nameTable[y]=p.name_next;else for(var b=E.nameTable[y];b;){if(b.name_next===p){b.name_next=p.name_next;break}b=b.name_next}},lookupNode:(p,y)=>{var b=E.mayLookup(p);if(b)throw new E.ErrnoError(b,p);for(var F=E.hashName(p.id,y),z=E.nameTable[F];z;z=z.name_next)if(z.parent.id===p.id&&z.name===y)return z;return E.lookup(p,y)},createNode:(p,y,b,F)=>{var z=new E.FSNode(p,y,b,F);return E.hashAddNode(z),z},destroyNode:p=>{E.hashRemoveNode(p)},isRoot:p=>p===p.parent,isMountpoint:p=>!!p.mounted,isFile:p=>32768==(61440&p),isDir:p=>16384==(61440&p),isLink:p=>40960==(61440&p),isChrdev:p=>8192==(61440&p),isBlkdev:p=>24576==(61440&p),isFIFO:p=>4096==(61440&p),isSocket:p=>49152==(49152&p),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:p=>{var y=E.flagModes[p];if(typeof y>"u")throw new Error("Unknown file open mode: "+p);return y},flagsToPermissionString:p=>{var y=["r","w","rw"][3&p];return 512&p&&(y+="w"),y},nodePermissions:(p,y)=>E.ignorePermissions?0:y.includes("r")&&!(292&p.mode)||y.includes("w")&&!(146&p.mode)||y.includes("x")&&!(73&p.mode)?2:0,mayLookup:p=>E.nodePermissions(p,"x")||(p.node_ops.lookup?0:2),mayCreate:(p,y)=>{try{return E.lookupNode(p,y),20}catch{}return E.nodePermissions(p,"wx")},mayDelete:(p,y,b)=>{var F;try{F=E.lookupNode(p,y)}catch(ve){return ve.errno}var z=E.nodePermissions(p,"wx");if(z)return z;if(b){if(!E.isDir(F.mode))return 54;if(E.isRoot(F)||E.getPath(F)===E.cwd())return 10}else if(E.isDir(F.mode))return 31;return 0},mayOpen:(p,y)=>p?E.isLink(p.mode)?32:E.isDir(p.mode)&&("r"!==E.flagsToPermissionString(y)||512&y)?31:E.nodePermissions(p,E.flagsToPermissionString(y)):44,MAX_OPEN_FDS:4096,nextfd:(p=0,y=E.MAX_OPEN_FDS)=>{for(var b=p;b<=y;b++)if(!E.streams[b])return b;throw new E.ErrnoError(33)},getStream:p=>E.streams[p],createStream:(p,y,b)=>{E.FSStream||(E.FSStream=function(){this.shared={}},E.FSStream.prototype={},Object.defineProperties(E.FSStream.prototype,{object:{get:function(){return this.node},set:function(z){this.node=z}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(z){this.shared.flags=z}},position:{get:function(){return this.shared.position},set:function(z){this.shared.position=z}}})),p=Object.assign(new E.FSStream,p);var F=E.nextfd(y,b);return p.fd=F,E.streams[F]=p,p},closeStream:p=>{E.streams[p]=null},chrdev_stream_ops:{open:p=>{var y=E.getDevice(p.node.rdev);p.stream_ops=y.stream_ops,p.stream_ops.open&&p.stream_ops.open(p)},llseek:()=>{throw new E.ErrnoError(70)}},major:p=>p>>8,minor:p=>255&p,makedev:(p,y)=>p<<8|y,registerDevice:(p,y)=>{E.devices[p]={stream_ops:y}},getDevice:p=>E.devices[p],getMounts:p=>{for(var y=[],b=[p];b.length;){var F=b.pop();y.push(F),b.push.apply(b,F.mounts)}return y},syncfs:(p,y)=>{"function"==typeof p&&(y=p,p=!1),E.syncFSRequests++,E.syncFSRequests>1&&K("warning: "+E.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var b=E.getMounts(E.root.mount),F=0;function z(Ee){return E.syncFSRequests--,y(Ee)}function ve(Ee){if(Ee)return ve.errored?void 0:(ve.errored=!0,z(Ee));++F>=b.length&&z(null)}b.forEach(Ee=>{if(!Ee.type.syncfs)return ve(null);Ee.type.syncfs(Ee,p,ve)})},mount:(p,y,b)=>{var ve,F="/"===b,z=!b;if(F&&E.root)throw new E.ErrnoError(10);if(!F&&!z){var Ee=E.lookupPath(b,{follow_mount:!1});if(b=Ee.path,E.isMountpoint(ve=Ee.node))throw new E.ErrnoError(10);if(!E.isDir(ve.mode))throw new E.ErrnoError(54)}var je={type:p,opts:y,mountpoint:b,mounts:[]},St=p.mount(je);return St.mount=je,je.root=St,F?E.root=St:ve&&(ve.mounted=je,ve.mount&&ve.mount.mounts.push(je)),St},unmount:p=>{var y=E.lookupPath(p,{follow_mount:!1});if(!E.isMountpoint(y.node))throw new E.ErrnoError(28);var b=y.node,F=b.mounted,z=E.getMounts(F);Object.keys(E.nameTable).forEach(Ee=>{for(var je=E.nameTable[Ee];je;){var St=je.name_next;z.includes(je.mount)&&E.destroyNode(je),je=St}}),b.mounted=null;var ve=b.mount.mounts.indexOf(F);b.mount.mounts.splice(ve,1)},lookup:(p,y)=>p.node_ops.lookup(p,y),mknod:(p,y,b)=>{var z=E.lookupPath(p,{parent:!0}).node,ve=Zt.basename(p);if(!ve||"."===ve||".."===ve)throw new E.ErrnoError(28);var Ee=E.mayCreate(z,ve);if(Ee)throw new E.ErrnoError(Ee);if(!z.node_ops.mknod)throw new E.ErrnoError(63);return z.node_ops.mknod(z,ve,y,b)},create:(p,y)=>(y=void 0!==y?y:438,y&=4095,E.mknod(p,y|=32768,0)),mkdir:(p,y)=>(y=void 0!==y?y:511,y&=1023,E.mknod(p,y|=16384,0)),mkdirTree:(p,y)=>{for(var b=p.split("/"),F="",z=0;z<b.length;++z)if(b[z]){F+="/"+b[z];try{E.mkdir(F,y)}catch(ve){if(20!=ve.errno)throw ve}}},mkdev:(p,y,b)=>(typeof b>"u"&&(b=y,y=438),E.mknod(p,y|=8192,b)),symlink:(p,y)=>{if(!gr.resolve(p))throw new E.ErrnoError(44);var F=E.lookupPath(y,{parent:!0}).node;if(!F)throw new E.ErrnoError(44);var z=Zt.basename(y),ve=E.mayCreate(F,z);if(ve)throw new E.ErrnoError(ve);if(!F.node_ops.symlink)throw new E.ErrnoError(63);return F.node_ops.symlink(F,z,p)},rename:(p,y)=>{var je,St,b=Zt.dirname(p),F=Zt.dirname(y),z=Zt.basename(p),ve=Zt.basename(y);if(je=E.lookupPath(p,{parent:!0}).node,St=E.lookupPath(y,{parent:!0}).node,!je||!St)throw new E.ErrnoError(44);if(je.mount!==St.mount)throw new E.ErrnoError(75);var Rn,dn=E.lookupNode(je,z),xn=gr.relative(p,F);if("."!==xn.charAt(0))throw new E.ErrnoError(28);if("."!==(xn=gr.relative(y,b)).charAt(0))throw new E.ErrnoError(55);try{Rn=E.lookupNode(St,ve)}catch{}if(dn!==Rn){var zt=E.isDir(dn.mode),en=E.mayDelete(je,z,zt);if(en)throw new E.ErrnoError(en);if(en=Rn?E.mayDelete(St,ve,zt):E.mayCreate(St,ve))throw new E.ErrnoError(en);if(!je.node_ops.rename)throw new E.ErrnoError(63);if(E.isMountpoint(dn)||Rn&&E.isMountpoint(Rn))throw new E.ErrnoError(10);if(St!==je&&(en=E.nodePermissions(je,"w")))throw new E.ErrnoError(en);E.hashRemoveNode(dn);try{je.node_ops.rename(dn,St,ve)}catch(ee){throw ee}finally{E.hashAddNode(dn)}}},rmdir:p=>{var b=E.lookupPath(p,{parent:!0}).node,F=Zt.basename(p),z=E.lookupNode(b,F),ve=E.mayDelete(b,F,!0);if(ve)throw new E.ErrnoError(ve);if(!b.node_ops.rmdir)throw new E.ErrnoError(63);if(E.isMountpoint(z))throw new E.ErrnoError(10);b.node_ops.rmdir(b,F),E.destroyNode(z)},readdir:p=>{var b=E.lookupPath(p,{follow:!0}).node;if(!b.node_ops.readdir)throw new E.ErrnoError(54);return b.node_ops.readdir(b)},unlink:p=>{var b=E.lookupPath(p,{parent:!0}).node;if(!b)throw new E.ErrnoError(44);var F=Zt.basename(p),z=E.lookupNode(b,F),ve=E.mayDelete(b,F,!1);if(ve)throw new E.ErrnoError(ve);if(!b.node_ops.unlink)throw new E.ErrnoError(63);if(E.isMountpoint(z))throw new E.ErrnoError(10);b.node_ops.unlink(b,F),E.destroyNode(z)},readlink:p=>{var b=E.lookupPath(p).node;if(!b)throw new E.ErrnoError(44);if(!b.node_ops.readlink)throw new E.ErrnoError(28);return gr.resolve(E.getPath(b.parent),b.node_ops.readlink(b))},stat:(p,y)=>{var F=E.lookupPath(p,{follow:!y}).node;if(!F)throw new E.ErrnoError(44);if(!F.node_ops.getattr)throw new E.ErrnoError(63);return F.node_ops.getattr(F)},lstat:p=>E.stat(p,!0),chmod:(p,y,b)=>{var F;if(!(F="string"==typeof p?E.lookupPath(p,{follow:!b}).node:p).node_ops.setattr)throw new E.ErrnoError(63);F.node_ops.setattr(F,{mode:4095&y|-4096&F.mode,timestamp:Date.now()})},lchmod:(p,y)=>{E.chmod(p,y,!0)},fchmod:(p,y)=>{var b=E.getStream(p);if(!b)throw new E.ErrnoError(8);E.chmod(b.node,y)},chown:(p,y,b,F)=>{var z;if(!(z="string"==typeof p?E.lookupPath(p,{follow:!F}).node:p).node_ops.setattr)throw new E.ErrnoError(63);z.node_ops.setattr(z,{timestamp:Date.now()})},lchown:(p,y,b)=>{E.chown(p,y,b,!0)},fchown:(p,y,b)=>{var F=E.getStream(p);if(!F)throw new E.ErrnoError(8);E.chown(F.node,y,b)},truncate:(p,y)=>{if(y<0)throw new E.ErrnoError(28);var b;if(!(b="string"==typeof p?E.lookupPath(p,{follow:!0}).node:p).node_ops.setattr)throw new E.ErrnoError(63);if(E.isDir(b.mode))throw new E.ErrnoError(31);if(!E.isFile(b.mode))throw new E.ErrnoError(28);var z=E.nodePermissions(b,"w");if(z)throw new E.ErrnoError(z);b.node_ops.setattr(b,{size:y,timestamp:Date.now()})},ftruncate:(p,y)=>{var b=E.getStream(p);if(!b)throw new E.ErrnoError(8);if(!(2097155&b.flags))throw new E.ErrnoError(28);E.truncate(b.node,y)},utime:(p,y,b)=>{var z=E.lookupPath(p,{follow:!0}).node;z.node_ops.setattr(z,{timestamp:Math.max(y,b)})},open:(p,y,b)=>{if(""===p)throw new E.ErrnoError(44);var F;if(b=typeof b>"u"?438:b,b=64&(y="string"==typeof y?E.modeStringToFlags(y):y)?4095&b|32768:0,"object"==typeof p)F=p;else{p=Zt.normalize(p);try{F=E.lookupPath(p,{follow:!(131072&y)}).node}catch{}}var ve=!1;if(64&y)if(F){if(128&y)throw new E.ErrnoError(20)}else F=E.mknod(p,b,0),ve=!0;if(!F)throw new E.ErrnoError(44);if(E.isChrdev(F.mode)&&(y&=-513),65536&y&&!E.isDir(F.mode))throw new E.ErrnoError(54);if(!ve){var Ee=E.mayOpen(F,y);if(Ee)throw new E.ErrnoError(Ee)}512&y&&!ve&&E.truncate(F,0),y&=-131713;var je=E.createStream({node:F,path:E.getPath(F),flags:y,seekable:!0,position:0,stream_ops:F.stream_ops,ungotten:[],error:!1});return je.stream_ops.open&&je.stream_ops.open(je),c.logReadFiles&&!(1&y)&&(E.readFiles||(E.readFiles={}),p in E.readFiles||(E.readFiles[p]=1)),je},close:p=>{if(E.isClosed(p))throw new E.ErrnoError(8);p.getdents&&(p.getdents=null);try{p.stream_ops.close&&p.stream_ops.close(p)}catch(y){throw y}finally{E.closeStream(p.fd)}p.fd=null},isClosed:p=>null===p.fd,llseek:(p,y,b)=>{if(E.isClosed(p))throw new E.ErrnoError(8);if(!p.seekable||!p.stream_ops.llseek)throw new E.ErrnoError(70);if(0!=b&&1!=b&&2!=b)throw new E.ErrnoError(28);return p.position=p.stream_ops.llseek(p,y,b),p.ungotten=[],p.position},read:(p,y,b,F,z)=>{if(F<0||z<0)throw new E.ErrnoError(28);if(E.isClosed(p))throw new E.ErrnoError(8);if(1==(2097155&p.flags))throw new E.ErrnoError(8);if(E.isDir(p.node.mode))throw new E.ErrnoError(31);if(!p.stream_ops.read)throw new E.ErrnoError(28);var ve=typeof z<"u";if(ve){if(!p.seekable)throw new E.ErrnoError(70)}else z=p.position;var Ee=p.stream_ops.read(p,y,b,F,z);return ve||(p.position+=Ee),Ee},write:(p,y,b,F,z,ve)=>{if(F<0||z<0)throw new E.ErrnoError(28);if(E.isClosed(p))throw new E.ErrnoError(8);if(!(2097155&p.flags))throw new E.ErrnoError(8);if(E.isDir(p.node.mode))throw new E.ErrnoError(31);if(!p.stream_ops.write)throw new E.ErrnoError(28);p.seekable&&1024&p.flags&&E.llseek(p,0,2);var Ee=typeof z<"u";if(Ee){if(!p.seekable)throw new E.ErrnoError(70)}else z=p.position;var je=p.stream_ops.write(p,y,b,F,z,ve);return Ee||(p.position+=je),je},allocate:(p,y,b)=>{if(E.isClosed(p))throw new E.ErrnoError(8);if(y<0||b<=0)throw new E.ErrnoError(28);if(!(2097155&p.flags))throw new E.ErrnoError(8);if(!E.isFile(p.node.mode)&&!E.isDir(p.node.mode))throw new E.ErrnoError(43);if(!p.stream_ops.allocate)throw new E.ErrnoError(138);p.stream_ops.allocate(p,y,b)},mmap:(p,y,b,F,z)=>{if(2&F&&!(2&z)&&2!=(2097155&p.flags))throw new E.ErrnoError(2);if(1==(2097155&p.flags))throw new E.ErrnoError(2);if(!p.stream_ops.mmap)throw new E.ErrnoError(43);return p.stream_ops.mmap(p,y,b,F,z)},msync:(p,y,b,F,z)=>p.stream_ops.msync?p.stream_ops.msync(p,y,b,F,z):0,munmap:p=>0,ioctl:(p,y,b)=>{if(!p.stream_ops.ioctl)throw new E.ErrnoError(59);return p.stream_ops.ioctl(p,y,b)},readFile:(p,y={})=>{if(y.flags=y.flags||0,y.encoding=y.encoding||"binary","utf8"!==y.encoding&&"binary"!==y.encoding)throw new Error('Invalid encoding type "'+y.encoding+'"');var b,F=E.open(p,y.flags),ve=E.stat(p).size,Ee=new Uint8Array(ve);return E.read(F,Ee,0,ve,0),"utf8"===y.encoding?b=Ye(Ee,0):"binary"===y.encoding&&(b=Ee),E.close(F),b},writeFile:(p,y,b={})=>{b.flags=b.flags||577;var F=E.open(p,b.flags,b.mode);if("string"==typeof y){var z=new Uint8Array(ne(y)+1),ve=Me(y,z,0,z.length);E.write(F,z,0,ve,void 0,b.canOwn)}else{if(!ArrayBuffer.isView(y))throw new Error("Unsupported data type");E.write(F,y,0,y.byteLength,void 0,b.canOwn)}E.close(F)},cwd:()=>E.currentPath,chdir:p=>{var y=E.lookupPath(p,{follow:!0});if(null===y.node)throw new E.ErrnoError(44);if(!E.isDir(y.node.mode))throw new E.ErrnoError(54);var b=E.nodePermissions(y.node,"x");if(b)throw new E.ErrnoError(b);E.currentPath=y.path},createDefaultDirectories:()=>{E.mkdir("/tmp"),E.mkdir("/home"),E.mkdir("/home/web_user")},createDefaultDevices:()=>{E.mkdir("/dev"),E.registerDevice(E.makedev(1,3),{read:()=>0,write:(y,b,F,z,ve)=>z}),E.mkdev("/dev/null",E.makedev(1,3)),er.register(E.makedev(5,0),er.default_tty_ops),er.register(E.makedev(6,0),er.default_tty1_ops),E.mkdev("/dev/tty",E.makedev(5,0)),E.mkdev("/dev/tty1",E.makedev(6,0));var p=function xt(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var p=new Uint8Array(1);return()=>(crypto.getRandomValues(p),p[0])}return()=>sr("randomDevice")}();E.createDevice("/dev","random",p),E.createDevice("/dev","urandom",p),E.mkdir("/dev/shm"),E.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{E.mkdir("/proc");var p=E.mkdir("/proc/self");E.mkdir("/proc/self/fd"),E.mount({mount:()=>{var y=E.createNode(p,"fd",16895,73);return y.node_ops={lookup:(b,F)=>{var ve=E.getStream(+F);if(!ve)throw new E.ErrnoError(8);var Ee={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>ve.path}};return Ee.parent=Ee,Ee}},y}},{},"/proc/self/fd")},createStandardStreams:()=>{c.stdin?E.createDevice("/dev","stdin",c.stdin):E.symlink("/dev/tty","/dev/stdin"),c.stdout?E.createDevice("/dev","stdout",null,c.stdout):E.symlink("/dev/tty","/dev/stdout"),c.stderr?E.createDevice("/dev","stderr",null,c.stderr):E.symlink("/dev/tty1","/dev/stderr"),E.open("/dev/stdin",0),E.open("/dev/stdout",1),E.open("/dev/stderr",1)},ensureErrnoError:()=>{E.ErrnoError||(E.ErrnoError=function(y,b){this.node=b,this.setErrno=function(F){this.errno=F},this.setErrno(y),this.message="FS error"},E.ErrnoError.prototype=new Error,E.ErrnoError.prototype.constructor=E.ErrnoError,[44].forEach(p=>{E.genericErrors[p]=new E.ErrnoError(p),E.genericErrors[p].stack="<generic error, no stack>"}))},staticInit:()=>{E.ensureErrnoError(),E.nameTable=new Array(4096),E.mount(ln,{},"/"),E.createDefaultDirectories(),E.createDefaultDevices(),E.createSpecialDirectories(),E.filesystems={MEMFS:ln}},init:(p,y,b)=>{E.init.initialized=!0,E.ensureErrnoError(),c.stdin=p||c.stdin,c.stdout=y||c.stdout,c.stderr=b||c.stderr,E.createStandardStreams()},quit:()=>{E.init.initialized=!1;for(var p=0;p<E.streams.length;p++){var y=E.streams[p];y&&E.close(y)}},getMode:(p,y)=>{var b=0;return p&&(b|=365),y&&(b|=146),b},findObject:(p,y)=>{var b=E.analyzePath(p,y);return b.exists?b.object:null},analyzePath:(p,y)=>{try{p=(b=E.lookupPath(p,{follow:!y})).path}catch{}var F={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var b=E.lookupPath(p,{parent:!0});F.parentExists=!0,F.parentPath=b.path,F.parentObject=b.node,F.name=Zt.basename(p),b=E.lookupPath(p,{follow:!y}),F.exists=!0,F.path=b.path,F.object=b.node,F.name=b.node.name,F.isRoot="/"===b.path}catch(z){F.error=z.errno}return F},createPath:(p,y,b,F)=>{p="string"==typeof p?p:E.getPath(p);for(var z=y.split("/").reverse();z.length;){var ve=z.pop();if(ve){var Ee=Zt.join2(p,ve);try{E.mkdir(Ee)}catch{}p=Ee}}return Ee},createFile:(p,y,b,F,z)=>{var ve=Zt.join2("string"==typeof p?p:E.getPath(p),y),Ee=E.getMode(F,z);return E.create(ve,Ee)},createDataFile:(p,y,b,F,z,ve)=>{var Ee=y;p&&(p="string"==typeof p?p:E.getPath(p),Ee=y?Zt.join2(p,y):p);var je=E.getMode(F,z),St=E.create(Ee,je);if(b){if("string"==typeof b){for(var dn=new Array(b.length),xn=0,Rn=b.length;xn<Rn;++xn)dn[xn]=b.charCodeAt(xn);b=dn}E.chmod(St,146|je);var zt=E.open(St,577);E.write(zt,b,0,b.length,0,ve),E.close(zt),E.chmod(St,je)}return St},createDevice:(p,y,b,F)=>{var z=Zt.join2("string"==typeof p?p:E.getPath(p),y),ve=E.getMode(!!b,!!F);E.createDevice.major||(E.createDevice.major=64);var Ee=E.makedev(E.createDevice.major++,0);return E.registerDevice(Ee,{open:je=>{je.seekable=!1},close:je=>{F&&F.buffer&&F.buffer.length&&F(10)},read:(je,St,dn,xn,Rn)=>{for(var zt=0,en=0;en<xn;en++){var ee;try{ee=b()}catch{throw new E.ErrnoError(29)}if(void 0===ee&&0===zt)throw new E.ErrnoError(6);if(null==ee)break;zt++,St[dn+en]=ee}return zt&&(je.node.timestamp=Date.now()),zt},write:(je,St,dn,xn,Rn)=>{for(var zt=0;zt<xn;zt++)try{F(St[dn+zt])}catch{throw new E.ErrnoError(29)}return xn&&(je.node.timestamp=Date.now()),zt}}),E.mkdev(z,ve,Ee)},forceLoadFile:p=>{if(p.isDevice||p.isFolder||p.link||p.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!H)throw new Error("Cannot load without read() or XMLHttpRequest.");try{p.contents=Jt(H(p.url),!0),p.usedBytes=p.contents.length}catch{throw new E.ErrnoError(29)}},createLazyFile:(p,y,b,F,z)=>{function ve(){this.lengthKnown=!1,this.chunks=[]}if(ve.prototype.get=function(en){if(!(en>this.length-1||en<0)){var ee=en%this.chunkSize;return this.getter(en/this.chunkSize|0)[ee]}},ve.prototype.setDataGetter=function(en){this.getter=en},ve.prototype.cacheLength=function(){var en=new XMLHttpRequest;if(en.open("HEAD",b,!1),en.send(null),!(en.status>=200&&en.status<300||304===en.status))throw new Error("Couldn't load "+b+". Status: "+en.status);var Rr,ee=Number(en.getResponseHeader("Content-length")),bn=(Rr=en.getResponseHeader("Accept-Ranges"))&&"bytes"===Rr,kr=(Rr=en.getResponseHeader("Content-Encoding"))&&"gzip"===Rr,mt=1048576;bn||(mt=ee);var Ur=this;Ur.setDataGetter(Pn=>{var Qr=Pn*mt,An=(Pn+1)*mt-1;if(An=Math.min(An,ee-1),typeof Ur.chunks[Pn]>"u"&&(Ur.chunks[Pn]=((Pn,Qr)=>{if(Pn>Qr)throw new Error("invalid range ("+Pn+", "+Qr+") or no bytes requested!");if(Qr>ee-1)throw new Error("only "+ee+" bytes available! programmer error!");var An=new XMLHttpRequest;if(An.open("GET",b,!1),ee!==mt&&An.setRequestHeader("Range","bytes="+Pn+"-"+Qr),An.responseType="arraybuffer",An.overrideMimeType&&An.overrideMimeType("text/plain; charset=x-user-defined"),An.send(null),!(An.status>=200&&An.status<300||304===An.status))throw new Error("Couldn't load "+b+". Status: "+An.status);return void 0!==An.response?new Uint8Array(An.response||[]):Jt(An.responseText||"",!0)})(Qr,An)),typeof Ur.chunks[Pn]>"u")throw new Error("doXHR failed!");return Ur.chunks[Pn]}),(kr||!ee)&&(mt=ee=1,ee=this.getter(0).length,mt=ee,W("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=ee,this._chunkSize=mt,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!Y)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var Ee=new ve;Object.defineProperties(Ee,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var je={isDevice:!1,contents:Ee}}else je={isDevice:!1,url:b};var St=E.createFile(p,y,je,F,z);je.contents?St.contents=je.contents:je.url&&(St.contents=null,St.url=je.url),Object.defineProperties(St,{usedBytes:{get:function(){return this.contents.length}}});var dn={};function Rn(zt,en,ee,Rr,bn){var kr=zt.node.contents;if(bn>=kr.length)return 0;var mt=Math.min(kr.length-bn,Rr);if(kr.slice)for(var Gt=0;Gt<mt;Gt++)en[ee+Gt]=kr[bn+Gt];else for(Gt=0;Gt<mt;Gt++)en[ee+Gt]=kr.get(bn+Gt);return mt}return Object.keys(St.stream_ops).forEach(zt=>{var en=St.stream_ops[zt];dn[zt]=function(){return E.forceLoadFile(St),en.apply(null,arguments)}}),dn.read=(zt,en,ee,Rr,bn)=>(E.forceLoadFile(St),Rn(zt,en,ee,Rr,bn)),dn.mmap=(zt,en,ee,Rr,bn)=>{E.forceLoadFile(St);var kr=tr();if(!kr)throw new E.ErrnoError(48);return Rn(zt,Xe,kr,en,ee),{ptr:kr,allocated:!0}},St.stream_ops=dn,St},createPreloadedFile:(p,y,b,F,z,ve,Ee,je,St,dn)=>{var xn=y?gr.resolve(Zt.join2(p,y)):p;function zt(en){function ee(Rr){dn&&dn(),je||E.createDataFile(p,y,Rr,F,z,St),ve&&ve(),Ar()}Browser.handledByPreloadPlugin(en,xn,ee,()=>{Ee&&Ee(),Ar()})||ee(en)}Gr(),"string"==typeof b?function jt(p,y,b,F){var z=F?"":"al "+p;Pe(p,ve=>{we(ve,'Loading data file "'+p+'" failed (no arrayBuffer).'),y(new Uint8Array(ve)),z&&Ar()},ve=>{if(!b)throw'Loading data file "'+p+'" failed.';b()}),z&&Gr()}(b,en=>zt(en),Ee):zt(b)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(p,y,b)=>{y=y||(()=>{}),b=b||(()=>{});var F=E.indexedDB();try{var z=F.open(E.DB_NAME(),E.DB_VERSION)}catch(ve){return b(ve)}z.onupgradeneeded=()=>{W("creating db"),z.result.createObjectStore(E.DB_STORE_NAME)},z.onsuccess=()=>{var Ee=z.result.transaction([E.DB_STORE_NAME],"readwrite"),je=Ee.objectStore(E.DB_STORE_NAME),St=0,dn=0,xn=p.length;function Rn(){0==dn?y():b()}p.forEach(zt=>{var en=je.put(E.analyzePath(zt).object.contents,zt);en.onsuccess=()=>{++St+dn==xn&&Rn()},en.onerror=()=>{dn++,St+dn==xn&&Rn()}}),Ee.onerror=b},z.onerror=b},loadFilesFromDB:(p,y,b)=>{y=y||(()=>{}),b=b||(()=>{});var F=E.indexedDB();try{var z=F.open(E.DB_NAME(),E.DB_VERSION)}catch(ve){return b(ve)}z.onupgradeneeded=b,z.onsuccess=()=>{var ve=z.result;try{var Ee=ve.transaction([E.DB_STORE_NAME],"readonly")}catch(zt){return void b(zt)}var je=Ee.objectStore(E.DB_STORE_NAME),St=0,dn=0,xn=p.length;function Rn(){0==dn?y():b()}p.forEach(zt=>{var en=je.get(zt);en.onsuccess=()=>{E.analyzePath(zt).exists&&E.unlink(zt),E.createDataFile(Zt.dirname(zt),Zt.basename(zt),en.result,!0,!0,!0),++St+dn==xn&&Rn()},en.onerror=()=>{dn++,St+dn==xn&&Rn()}}),Ee.onerror=b},z.onerror=b}},S={DEFAULT_POLLMASK:5,calculateAt:function(p,y,b){if(Zt.isAbs(y))return y;var F;if(F=-100===p?E.cwd():S.getStreamFromFD(p).path,0==y.length){if(!b)throw new E.ErrnoError(44);return F}return Zt.join2(F,y)},doStat:function(p,y,b){try{var F=p(y)}catch(z){if(z&&z.node&&Zt.normalize(y)!==Zt.normalize(E.getPath(z.node)))return-54;throw z}return O[b>>2]=F.dev,O[b+8>>2]=F.ino,O[b+12>>2]=F.mode,ye[b+16>>2]=F.nlink,O[b+20>>2]=F.uid,O[b+24>>2]=F.gid,O[b+28>>2]=F.rdev,ae=[F.size>>>0,(at=F.size,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[b+40>>2]=ae[0],O[b+44>>2]=ae[1],O[b+48>>2]=4096,O[b+52>>2]=F.blocks,ae=[Math.floor(F.atime.getTime()/1e3)>>>0,(at=Math.floor(F.atime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[b+56>>2]=ae[0],O[b+60>>2]=ae[1],ye[b+64>>2]=0,ae=[Math.floor(F.mtime.getTime()/1e3)>>>0,(at=Math.floor(F.mtime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[b+72>>2]=ae[0],O[b+76>>2]=ae[1],ye[b+80>>2]=0,ae=[Math.floor(F.ctime.getTime()/1e3)>>>0,(at=Math.floor(F.ctime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[b+88>>2]=ae[0],O[b+92>>2]=ae[1],ye[b+96>>2]=0,ae=[F.ino>>>0,(at=F.ino,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[b+104>>2]=ae[0],O[b+108>>2]=ae[1],0},doMsync:function(p,y,b,F,z){if(!E.isFile(y.node.mode))throw new E.ErrnoError(43);if(2&F)return 0;var ve=yt.slice(p,p+b);E.msync(y,ve,z,b,F)},varargs:void 0,get:function(){return S.varargs+=4,O[S.varargs-4>>2]},getStr:function(p){return $e(p)},getStreamFromFD:function(p){var y=E.getStream(p);if(!y)throw new E.ErrnoError(8);return y}};function D(p){return ye[p>>2]+4294967296*O[p+4>>2]}function No(p){return p%4==0&&(p%100!=0||p%400==0)}var qo=[0,31,60,91,121,152,182,213,244,274,305,335],_o=[0,31,59,90,120,151,181,212,243,273,304,334];function _i(p){var y=ne(p)+1,b=Do(y);return b&&Me(p,Xe,b,y),b}var $o=[];function vo(p){try{return de.grow(p-Ue.byteLength+65535>>>16),Ve(de.buffer),1}catch{}}var zi={};function Eo(){if(!Eo.strings){var y={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:L||"./this.program"};for(var b in zi)void 0===zi[b]?delete y[b]:y[b]=zi[b];var F=[];for(var b in y)F.push(b+"="+y[b]);Eo.strings=F}return Eo.strings}function ps(p,y){le=p,function bi(p){le=p,function tn(){return Fe}()||(c.onExit&&c.onExit(p),it=!0),U(p,new On(p))}(p)}var ai=ps,A=[31,29,31,30,31,30,31,31,30,31,30,31],N=[31,28,31,30,31,30,31,31,30,31,30,31];var ke=function(p,y,b,F){p||(p=this),this.parent=p,this.mount=p.mount,this.mounted=null,this.id=E.nextInode++,this.name=y,this.mode=b,this.node_ops={},this.stream_ops={},this.rdev=F};Object.defineProperties(ke.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(p){p?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(p){p?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return E.isDir(this.mode)}},isDevice:{get:function(){return E.isChrdev(this.mode)}}}),E.FSNode=ke,E.staticInit();var Us,xe={o:function Kn(p,y,b,F){S.varargs=F;try{y=S.getStr(y),y=S.calculateAt(p,y);var z=F?S.get():0;return E.open(y,b,z).fd}catch(ve){if(typeof E>"u"||!(ve instanceof E.ErrnoError))throw ve;return-ve.errno}},h:function Nn(p,y){var b=new Date(1e3*D(p));O[y>>2]=b.getUTCSeconds(),O[y+4>>2]=b.getUTCMinutes(),O[y+8>>2]=b.getUTCHours(),O[y+12>>2]=b.getUTCDate(),O[y+16>>2]=b.getUTCMonth(),O[y+20>>2]=b.getUTCFullYear()-1900,O[y+24>>2]=b.getUTCDay();var F=Date.UTC(b.getUTCFullYear(),0,1,0,0,0,0),z=(b.getTime()-F)/864e5|0;O[y+28>>2]=z},i:function Lo(p,y){var b=new Date(1e3*D(p));O[y>>2]=b.getSeconds(),O[y+4>>2]=b.getMinutes(),O[y+8>>2]=b.getHours(),O[y+12>>2]=b.getDate(),O[y+16>>2]=b.getMonth(),O[y+20>>2]=b.getFullYear()-1900,O[y+24>>2]=b.getDay();var F=0|function xi(p){return(No(p.getFullYear())?qo:_o)[p.getMonth()]+p.getDate()-1}(b);O[y+28>>2]=F,O[y+36>>2]=-60*b.getTimezoneOffset();var z=new Date(b.getFullYear(),0,1),ve=new Date(b.getFullYear(),6,1).getTimezoneOffset(),Ee=z.getTimezoneOffset(),je=0|(ve!=Ee&&b.getTimezoneOffset()==Math.min(Ee,ve));O[y+32>>2]=je},j:function vi(p,y,b){var F=(new Date).getFullYear(),z=new Date(F,0,1),ve=new Date(F,6,1),Ee=z.getTimezoneOffset(),je=ve.getTimezoneOffset(),St=Math.max(Ee,je);function dn(ee){var Rr=ee.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Rr?Rr[1]:"GMT"}ye[p>>2]=60*St,O[y>>2]=Number(Ee!=je);var xn=dn(z),Rn=dn(ve),zt=_i(xn),en=_i(Rn);je<Ee?(ye[b>>2]=zt,ye[b+4>>2]=en):(ye[b>>2]=en,ye[b+4>>2]=zt)},b:function to(){sr("")},a:function Bo(p,y,b){var F=function yr(p,y){var b;for($o.length=0,y>>=2;b=yt[p++];)y+=105!=b&y,$o.push(105==b?O[y]:nt[y++>>1]),++y;return $o}(y,b);return ze[p].apply(null,F)},c:function Yr(){return Date.now()},g:function si(p,y,b){yt.copyWithin(p,y,y+b)},m:function Wr(p){var St,y=yt.length,b=2147483648;if((p>>>=0)>b)return!1;for(var z=1;z<=4;z*=2){var ve=y*(1+.2/z);if(ve=Math.min(ve,p+100663296),vo(Math.min(b,(St=Math.max(p,ve))+(65536-St%65536)%65536)))return!0}return!1},p:function Gi(p,y){var b=0;return Eo().forEach(function(F,z){var ve=y+b;ye[p+4*z>>2]=ve,function no(p,y,b){for(var F=0;F<p.length;++F)Xe[y++>>0]=p.charCodeAt(F);b||(Xe[y>>0]=0)}(F,ve),b+=F.length+1}),0},f:function uo(p,y){var b=Eo();ye[p>>2]=b.length;var F=0;return b.forEach(function(z){F+=z.length+1}),ye[y>>2]=F,0},q:ai,d:function Wi(p){try{var y=S.getStreamFromFD(p);return E.close(y),0}catch(b){if(typeof E>"u"||!(b instanceof E.ErrnoError))throw b;return b.errno}},e:function As(p,y,b,F){try{var ve=function Ms(p,y,b,F){for(var z=0,ve=0;ve<b;ve++){var Ee=ye[y>>2],je=ye[y+4>>2];y+=8;var St=E.read(p,Xe,Ee,je,F);if(St<0)return-1;if(z+=St,St<je)break}return z}(S.getStreamFromFD(p),y,b);return ye[F>>2]=ve,0}catch(Ee){if(typeof E>"u"||!(Ee instanceof E.ErrnoError))throw Ee;return Ee.errno}},k:function li(p,y,b,F,z){try{var ve=function dr(p,y){return y+2097152>>>0<4194305-!!p?(p>>>0)+4294967296*y:NaN}(y,b);if(isNaN(ve))return 61;var Ee=S.getStreamFromFD(p);return E.llseek(Ee,ve,F),ae=[Ee.position>>>0,(at=Ee.position,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[z>>2]=ae[0],O[z+4>>2]=ae[1],Ee.getdents&&0===ve&&0===F&&(Ee.getdents=null),0}catch(je){if(typeof E>"u"||!(je instanceof E.ErrnoError))throw je;return je.errno}},n:function Ri(p,y,b,F){try{var ve=function hs(p,y,b,F){for(var z=0,ve=0;ve<b;ve++){var Ee=ye[y>>2],je=ye[y+4>>2];y+=8;var St=E.write(p,Xe,Ee,je,F);if(St<0)return-1;z+=St}return z}(S.getStreamFromFD(p),y,b);return ye[F>>2]=ve,0}catch(Ee){if(typeof E>"u"||!(Ee instanceof E.ErrnoError))throw Ee;return Ee.errno}},l:function P(p,y,b,F,z){return function Oe(p,y,b,F){var z=O[F+40>>2],ve={tm_sec:O[F>>2],tm_min:O[F+4>>2],tm_hour:O[F+8>>2],tm_mday:O[F+12>>2],tm_mon:O[F+16>>2],tm_year:O[F+20>>2],tm_wday:O[F+24>>2],tm_yday:O[F+28>>2],tm_isdst:O[F+32>>2],tm_gmtoff:O[F+36>>2],tm_zone:z?$e(z):""},Ee=$e(b),je={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var St in je)Ee=Ee.replace(new RegExp(St,"g"),je[St]);var dn=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],xn=["January","February","March","April","May","June","July","August","September","October","November","December"];function Rn(mt,Gt,Ur){for(var Pn="number"==typeof mt?mt.toString():mt||"";Pn.length<Gt;)Pn=Ur[0]+Pn;return Pn}function zt(mt,Gt){return Rn(mt,Gt,"0")}function en(mt,Gt){function Ur(Qr){return Qr<0?-1:Qr>0?1:0}var Pn;return 0===(Pn=Ur(mt.getFullYear()-Gt.getFullYear()))&&0===(Pn=Ur(mt.getMonth()-Gt.getMonth()))&&(Pn=Ur(mt.getDate()-Gt.getDate())),Pn}function ee(mt){switch(mt.getDay()){case 0:return new Date(mt.getFullYear()-1,11,29);case 1:return mt;case 2:return new Date(mt.getFullYear(),0,3);case 3:return new Date(mt.getFullYear(),0,2);case 4:return new Date(mt.getFullYear(),0,1);case 5:return new Date(mt.getFullYear()-1,11,31);case 6:return new Date(mt.getFullYear()-1,11,30)}}function Rr(mt){var Gt=function ge(p,y){for(var b=new Date(p.getTime());y>0;){var F=No(b.getFullYear()),z=b.getMonth(),ve=(F?A:N)[z];if(!(y>ve-b.getDate()))return b.setDate(b.getDate()+y),b;y-=ve-b.getDate()+1,b.setDate(1),z<11?b.setMonth(z+1):(b.setMonth(0),b.setFullYear(b.getFullYear()+1))}return b}(new Date(mt.tm_year+1900,0,1),mt.tm_yday),Ur=new Date(Gt.getFullYear(),0,4),Pn=new Date(Gt.getFullYear()+1,0,4),Qr=ee(Ur),An=ee(Pn);return en(Qr,Gt)<=0?en(An,Gt)<=0?Gt.getFullYear()+1:Gt.getFullYear():Gt.getFullYear()-1}var bn={"%a":function(mt){return dn[mt.tm_wday].substring(0,3)},"%A":function(mt){return dn[mt.tm_wday]},"%b":function(mt){return xn[mt.tm_mon].substring(0,3)},"%B":function(mt){return xn[mt.tm_mon]},"%C":function(mt){return zt((mt.tm_year+1900)/100|0,2)},"%d":function(mt){return zt(mt.tm_mday,2)},"%e":function(mt){return Rn(mt.tm_mday,2," ")},"%g":function(mt){return Rr(mt).toString().substring(2)},"%G":function(mt){return Rr(mt)},"%H":function(mt){return zt(mt.tm_hour,2)},"%I":function(mt){var Gt=mt.tm_hour;return 0==Gt?Gt=12:Gt>12&&(Gt-=12),zt(Gt,2)},"%j":function(mt){return zt(mt.tm_mday+function nr(p,y){for(var b=0,F=0;F<=y;b+=p[F++]);return b}(No(mt.tm_year+1900)?A:N,mt.tm_mon-1),3)},"%m":function(mt){return zt(mt.tm_mon+1,2)},"%M":function(mt){return zt(mt.tm_min,2)},"%n":function(){return"\n"},"%p":function(mt){return mt.tm_hour>=0&&mt.tm_hour<12?"AM":"PM"},"%S":function(mt){return zt(mt.tm_sec,2)},"%t":function(){return"\t"},"%u":function(mt){return mt.tm_wday||7},"%U":function(mt){return zt(Math.floor((mt.tm_yday+7-mt.tm_wday)/7),2)},"%V":function(mt){var Gt=Math.floor((mt.tm_yday+7-(mt.tm_wday+6)%7)/7);if((mt.tm_wday+371-mt.tm_yday-2)%7<=2&&Gt++,Gt){if(53==Gt){var Pn=(mt.tm_wday+371-mt.tm_yday)%7;4!=Pn&&(3!=Pn||!No(mt.tm_year))&&(Gt=1)}}else{Gt=52;var Ur=(mt.tm_wday+7-mt.tm_yday-1)%7;(4==Ur||5==Ur&&No(mt.tm_year%400-1))&&Gt++}return zt(Gt,2)},"%w":function(mt){return mt.tm_wday},"%W":function(mt){return zt(Math.floor((mt.tm_yday+7-(mt.tm_wday+6)%7)/7),2)},"%y":function(mt){return(mt.tm_year+1900).toString().substring(2)},"%Y":function(mt){return mt.tm_year+1900},"%z":function(mt){var Gt=mt.tm_gmtoff,Ur=Gt>=0;return Gt=(Gt=Math.abs(Gt)/60)/60*100+Gt%60,(Ur?"+":"-")+String("0000"+Gt).slice(-4)},"%Z":function(mt){return mt.tm_zone},"%%":function(){return"%"}};for(var St in Ee=Ee.replace(/%%/g,"\0\0"),bn)Ee.includes(St)&&(Ee=Ee.replace(new RegExp(St,"g"),bn[St](ve)));var kr=Jt(Ee=Ee.replace(/\0\0/g,"%"),!1);return kr.length>y?0:(function Se(p,y){Xe.set(p,y)}(kr,p),kr.length-1)}(p,y,b,F)}},Do=(function Vr(){var p={a:xe};function y(Ee,je){c.asm=Ee.exports,Ve((de=c.asm.r).buffer),function qr(p){Re.unshift(p)}(c.asm.s),Ar()}function b(Ee){y(Ee.instance)}function F(Ee){return function Hi(){return fe||!ce&&!Y||"function"!=typeof fetch?Promise.resolve().then(function(){return Kr(mn)}):fetch(mn,{credentials:"same-origin"}).then(function(p){if(!p.ok)throw"failed to load wasm binary file at '"+mn+"'";return p.arrayBuffer()}).catch(function(){return Kr(mn)})}().then(function(je){return WebAssembly.instantiate(je,p)}).then(function(je){return je}).then(Ee,function(je){K("failed to asynchronously prepare wasm: "+je),sr(je)})}if(Gr(),c.instantiateWasm)try{return c.instantiateWasm(p,y)}catch(Ee){K("Module.instantiateWasm callback failed with error: "+Ee),J(Ee)}(function z(){return fe||"function"!=typeof WebAssembly.instantiateStreaming||eo(mn)||"function"!=typeof fetch?F(b):fetch(mn,{credentials:"same-origin"}).then(function(Ee){return WebAssembly.instantiateStreaming(Ee,p).then(b,function(St){return K("wasm streaming compile failed: "+St),K("falling back to ArrayBuffer instantiation"),F(b)})})})().catch(J)}(),c.___wasm_call_ctors=function(){return(c.___wasm_call_ctors=c.asm.s).apply(null,arguments)},c._free=function(){return(c._free=c.asm.t).apply(null,arguments)},c._malloc=function(){return(Do=c._malloc=c.asm.u).apply(null,arguments)}),Xr=c._emscripten_bind_VoidPtr___destroy___0=function(){return(Xr=c._emscripten_bind_VoidPtr___destroy___0=c.asm.v).apply(null,arguments)},Io=c._emscripten_bind_FSTools_FSTools_0=function(){return(Io=c._emscripten_bind_FSTools_FSTools_0=c.asm.w).apply(null,arguments)},ci=c._emscripten_bind_FSTools_Malloc_1=function(){return(ci=c._emscripten_bind_FSTools_Malloc_1=c.asm.x).apply(null,arguments)},Cr=c._emscripten_bind_FSTools_Free_1=function(){return(Cr=c._emscripten_bind_FSTools_Free_1=c.asm.y).apply(null,arguments)},Zi=c._emscripten_bind_FSTools_Nullptr_0=function(){return(Zi=c._emscripten_bind_FSTools_Nullptr_0=c.asm.z).apply(null,arguments)},Ra=c._emscripten_bind_FSTools___destroy___0=function(){return(Ra=c._emscripten_bind_FSTools___destroy___0=c.asm.A).apply(null,arguments)},Pa=c._emscripten_bind_MkfsContext_MkfsContext_0=function(){return(Pa=c._emscripten_bind_MkfsContext_MkfsContext_0=c.asm.B).apply(null,arguments)},wi=c._emscripten_bind_MkfsContext_Mkfs_2=function(){return(wi=c._emscripten_bind_MkfsContext_Mkfs_2=c.asm.C).apply(null,arguments)},Fa=c._emscripten_bind_MkfsContext_GetImage_0=function(){return(Fa=c._emscripten_bind_MkfsContext_GetImage_0=c.asm.D).apply(null,arguments)},Bs=c._emscripten_bind_MkfsContext_GetImageSize_0=function(){return(Bs=c._emscripten_bind_MkfsContext_GetImageSize_0=c.asm.E).apply(null,arguments)},Vs=c._emscripten_bind_MkfsContext___destroy___0=function(){return(Vs=c._emscripten_bind_MkfsContext___destroy___0=c.asm.F).apply(null,arguments)},ll=c._emscripten_bind_FsckContext_FsckContext_1=function(){return(ll=c._emscripten_bind_FsckContext_FsckContext_1=c.asm.G).apply(null,arguments)},cl=c._emscripten_bind_FsckContext_GetImage_0=function(){return(cl=c._emscripten_bind_FsckContext_GetImage_0=c.asm.H).apply(null,arguments)},ul=c._emscripten_bind_FsckContext_GetDirtyPages_0=function(){return(ul=c._emscripten_bind_FsckContext_GetDirtyPages_0=c.asm.I).apply(null,arguments)},ta=c._emscripten_bind_FsckContext_GetImageSize_0=function(){return(ta=c._emscripten_bind_FsckContext_GetImageSize_0=c.asm.J).apply(null,arguments)},dl=c._emscripten_bind_FsckContext_Fsck_0=function(){return(dl=c._emscripten_bind_FsckContext_Fsck_0=c.asm.K).apply(null,arguments)},ko=c._emscripten_bind_FsckContext_GetResult_0=function(){return(ko=c._emscripten_bind_FsckContext_GetResult_0=c.asm.L).apply(null,arguments)},qn=c._emscripten_bind_FsckContext___destroy___0=function(){return(qn=c._emscripten_bind_FsckContext___destroy___0=c.asm.M).apply(null,arguments)};function ms(p){function y(){Us||(Us=!0,c.calledRun=!0,!it&&(function vn(){!c.noFSInit&&!E.init.initialized&&E.init(),E.ignorePermissions=!1,er.init(),Bn(Re)}(),function hr(){Bn(Tt)}(),re(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),na&&function _r(p){var y=c._main;try{var z=y(0,0);return ps(z),z}catch(ve){return function pe(p){if(p instanceof On||"unwind"==p)return le;U(1,p)}(ve)}}(),function Jn(){if(c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;)p=c.postRun.shift(),an.unshift(p);var p;Bn(an)}()))}p=p||X,Fn>0||(function Z(){if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)p=c.preRun.shift(),ft.unshift(p);var p;Bn(ft)}(),Fn>0)||(c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),y()},1)):y())}if(c._main=function(){return(c._main=c.asm.N).apply(null,arguments)},c.___original_main=function(){return(c.___original_main=c.asm.P).apply(null,arguments)},c.___start_em_js=40220,c.___stop_em_js=40318,jn=function p(){Us||ms(),Us||(jn=p)},c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);c.preInit.length>0;)c.preInit.pop()();var na=!0;function ro(){}function qi(p){return(p||ro).__cache__}function Ci(p,y){var b=qi(y),F=b[p];return F||((F=Object.create((y||ro).prototype)).ptr=p,b[p]=F)}c.noInitialRun&&(na=!1),ms(),(ro.prototype=Object.create(ro.prototype)).constructor=ro,ro.prototype.__class__=ro,ro.__cache__={},c.WrapperObject=ro,c.getCache=qi,c.wrapPointer=Ci,c.castObject=function ra(p,y){return Ci(p.ptr,y)},c.NULL=Ci(0),c.destroy=function xs(p){if(!p.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";p.__destroy__(),delete qi(p.__class__)[p.ptr]},c.compare=function js(p,y){return p.ptr===y.ptr},c.getPointer=function oa(p){return p.ptr},c.getClass=function Oa(p){return p.__class__};var kt={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(kt.needed){for(var p=0;p<kt.temps.length;p++)c._free(kt.temps[p]);kt.temps.length=0,c._free(kt.buffer),kt.buffer=0,kt.size+=kt.needed,kt.needed=0}kt.buffer||(kt.size+=128,kt.buffer=c._malloc(kt.size),we(kt.buffer)),kt.pos=0},alloc:function(p,y){we(kt.buffer);var z,F=p.length*y.BYTES_PER_ELEMENT;return kt.pos+(F=F+7&-8)>=kt.size?(we(F>0),kt.needed+=F,z=c._malloc(F),kt.temps.push(z)):(z=kt.buffer+kt.pos,kt.pos+=F),z},copy:function(p,y,b){switch(b>>>=0,y.BYTES_PER_ELEMENT){case 2:b>>>=1;break;case 4:b>>>=2;break;case 8:b>>>=3}for(var z=0;z<p.length;z++)y[b+z]=p[z]}};function fo(){throw"cannot construct a VoidPtr, no constructor in IDL"}function ar(){this.ptr=Io(),qi(ar)[this.ptr]=this}function Zr(){this.ptr=Pa(),qi(Zr)[this.ptr]=this}function xr(p){p&&"object"==typeof p&&(p=p.ptr),this.ptr=ll(p),qi(xr)[this.ptr]=this}return(fo.prototype=Object.create(ro.prototype)).constructor=fo,fo.prototype.__class__=fo,fo.__cache__={},c.VoidPtr=fo,fo.prototype.__destroy__=fo.prototype.__destroy__=function(){Xr(this.ptr)},(ar.prototype=Object.create(ro.prototype)).constructor=ar,ar.prototype.__class__=ar,ar.__cache__={},c.FSTools=ar,ar.prototype.Malloc=ar.prototype.Malloc=function(p){return p&&"object"==typeof p&&(p=p.ptr),Ci(ci(this.ptr,p),fo)},ar.prototype.Free=ar.prototype.Free=function(p){p&&"object"==typeof p&&(p=p.ptr),Cr(this.ptr,p)},ar.prototype.Nullptr=ar.prototype.Nullptr=function(){return Ci(Zi(this.ptr),fo)},ar.prototype.__destroy__=ar.prototype.__destroy__=function(){Ra(this.ptr)},(Zr.prototype=Object.create(ro.prototype)).constructor=Zr,Zr.prototype.__class__=Zr,Zr.__cache__={},c.MkfsContext=Zr,Zr.prototype.Mkfs=Zr.prototype.Mkfs=function(p,y){var b=this.ptr;return kt.prepare(),p&&"object"==typeof p&&(p=p.ptr),y=y&&"object"==typeof y?y.ptr:function Hs(p){if("string"==typeof p){var y=Jt(p),b=kt.alloc(y,Xe);return kt.copy(y,Xe,b),b}return p}(y),!!wi(b,p,y)},Zr.prototype.GetImage=Zr.prototype.GetImage=function(){return Ci(Fa(this.ptr),fo)},Zr.prototype.GetImageSize=Zr.prototype.GetImageSize=function(){return Bs(this.ptr)},Zr.prototype.__destroy__=Zr.prototype.__destroy__=function(){Vs(this.ptr)},(xr.prototype=Object.create(ro.prototype)).constructor=xr,xr.prototype.__class__=xr,xr.__cache__={},c.FsckContext=xr,xr.prototype.GetImage=xr.prototype.GetImage=function(){return Ci(cl(this.ptr),fo)},xr.prototype.GetDirtyPages=xr.prototype.GetDirtyPages=function(){return Ci(ul(this.ptr),fo)},xr.prototype.GetImageSize=xr.prototype.GetImageSize=function(){return ta(this.ptr)},xr.prototype.Fsck=xr.prototype.Fsck=function(){return dl(this.ptr)},xr.prototype.GetResult=xr.prototype.GetResult=function(){return ko(this.ptr)},xr.prototype.__destroy__=xr.prototype.__destroy__=function(){qn(this.ptr)},I.ready});Be.exports=Ge},7971:Be=>{var x,Ge=(x=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(I){var re,J,c=typeof(I=I||{})<"u"?I:{};c.ready=new Promise(function(d,g){re=d,J=g});var H,Pe,Le,G=Object.assign({},c),X=[],L="./this.program",U=(d,g)=>{throw g},ce="object"==typeof window,Y="function"==typeof importScripts,B=("object"==typeof process&&"object"==typeof process.versions&&process,"");(ce||Y)&&(Y?B=self.location.href:typeof document<"u"&&document.currentScript&&(B=document.currentScript.src),x&&(B=x),B=0!==B.indexOf("blob:")?B.substr(0,B.replace(/[?#].*/,"").lastIndexOf("/")+1):"",H=d=>{var g=new XMLHttpRequest;return g.open("GET",d,!1),g.send(null),g.responseText},Y&&(Le=d=>{var g=new XMLHttpRequest;return g.open("GET",d,!1),g.responseType="arraybuffer",g.send(null),new Uint8Array(g.response)}),Pe=(d,g,w)=>{var R=new XMLHttpRequest;R.open("GET",d,!0),R.responseType="arraybuffer",R.onload=()=>{200==R.status||0==R.status&&R.response?g(R.response):w()},R.onerror=w,R.send(null)});var fe,W=c.print||console.log.bind(console),K=c.printErr||console.warn.bind(console);Object.assign(c,G),G=null,c.arguments&&(X=c.arguments),c.thisProgram&&(L=c.thisProgram),c.quit&&(U=c.quit),c.wasmBinary&&(fe=c.wasmBinary);var Fe=c.noExitRuntime||!0;"object"!=typeof WebAssembly&&sr("no native wasm support detected");var de,le,it=!1;function we(d,g){d||sr(g)}var Ue,Xe,yt,O,ye,Ie=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Ye(d,g,w){for(var R=g+w,V=g;d[V]&&!(V>=R);)++V;if(V-g>16&&d.buffer&&Ie)return Ie.decode(d.subarray(g,V));for(var Ce="";g<V;){var De=d[g++];if(128&De){var ue=63&d[g++];if(192!=(224&De)){var pt=63&d[g++];if((De=224==(240&De)?(15&De)<<12|ue<<6|pt:(7&De)<<18|ue<<12|pt<<6|63&d[g++])<65536)Ce+=String.fromCharCode(De);else{var Et=De-65536;Ce+=String.fromCharCode(55296|Et>>10,56320|1023&Et)}}else Ce+=String.fromCharCode((31&De)<<6|ue)}else Ce+=String.fromCharCode(De)}return Ce}function $e(d,g){return d?Ye(yt,d,g):""}function Me(d,g,w,R){if(!(R>0))return 0;for(var V=w,Ce=w+R-1,De=0;De<d.length;++De){var ue=d.charCodeAt(De);if(ue>=55296&&ue<=57343&&(ue=65536+((1023&ue)<<10)|1023&d.charCodeAt(++De)),ue<=127){if(w>=Ce)break;g[w++]=ue}else if(ue<=2047){if(w+1>=Ce)break;g[w++]=192|ue>>6,g[w++]=128|63&ue}else if(ue<=65535){if(w+2>=Ce)break;g[w++]=224|ue>>12,g[w++]=128|ue>>6&63,g[w++]=128|63&ue}else{if(w+3>=Ce)break;g[w++]=240|ue>>18,g[w++]=128|ue>>12&63,g[w++]=128|ue>>6&63,g[w++]=128|63&ue}}return g[w]=0,w-V}function ne(d){for(var g=0,w=0;w<d.length;++w){var R=d.charCodeAt(w);R<=127?g++:R<=2047?g+=2:R>=55296&&R<=57343?(g+=4,++w):g+=3}return g}function Ve(d){Ue=d,c.HEAP8=Xe=new Int8Array(d),c.HEAP16=new Int16Array(d),c.HEAP32=O=new Int32Array(d),c.HEAPU8=yt=new Uint8Array(d),c.HEAPU16=new Uint16Array(d),c.HEAPU32=ye=new Uint32Array(d),c.HEAPF32=new Float32Array(d),c.HEAPF64=new Float64Array(d)}var mn,at,ae,ft=[],Re=[],Tt=[],an=[],Fn=0,co=null,jn=null;function Gr(d){Fn++,c.monitorRunDependencies&&c.monitorRunDependencies(Fn)}function Ar(d){if(Fn--,c.monitorRunDependencies&&c.monitorRunDependencies(Fn),0==Fn&&(null!==co&&(clearInterval(co),co=null),jn)){var g=jn;jn=null,g()}}function sr(d){c.onAbort&&c.onAbort(d),K(d="Aborted("+d+")"),it=!0,le=1,d+=". Build with -sASSERTIONS for more info.";var g=new WebAssembly.RuntimeError(d);throw J(g),g}function eo(d){return d.startsWith("data:application/octet-stream;base64,")}function Kr(d){try{if(d==mn&&fe)return new Uint8Array(fe);if(Le)return Le(d);throw"both async and sync fetching of the wasm failed"}catch(g){sr(g)}}function ze(d){this.name="ExitStatus",this.message="Program terminated with exit("+d+")",this.status=d}function On(d){for(;d.length>0;)d.shift()(c)}function Zt(d,g){return g+2097152>>>0<4194305-!!d?(d>>>0)+4294967296*g:NaN}eo(mn="vfs_web.wasm")||(mn=function $(d){return c.locateFile?c.locateFile(d,B):B+d}(mn));var xt={isAbs:d=>"/"===d.charAt(0),splitPath:d=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(d).slice(1),normalizeArray:(d,g)=>{for(var w=0,R=d.length-1;R>=0;R--){var V=d[R];"."===V?d.splice(R,1):".."===V?(d.splice(R,1),w++):w&&(d.splice(R,1),w--)}if(g)for(;w;w--)d.unshift("..");return d},normalize:d=>{var g=xt.isAbs(d),w="/"===d.substr(-1);return!(d=xt.normalizeArray(d.split("/").filter(R=>!!R),!g).join("/"))&&!g&&(d="."),d&&w&&(d+="/"),(g?"/":"")+d},dirname:d=>{var g=xt.splitPath(d),w=g[0],R=g[1];return w||R?(R&&(R=R.substr(0,R.length-1)),w+R):"."},basename:d=>{if("/"===d)return"/";var g=(d=(d=xt.normalize(d)).replace(/\/$/,"")).lastIndexOf("/");return-1===g?d:d.substr(g+1)},join:function(){var d=Array.prototype.slice.call(arguments);return xt.normalize(d.join("/"))},join2:(d,g)=>xt.normalize(d+"/"+g)},Jt={resolve:function(){for(var d="",g=!1,w=arguments.length-1;w>=-1&&!g;w--){var R=w>=0?arguments[w]:S.cwd();if("string"!=typeof R)throw new TypeError("Arguments to path.resolve must be strings");if(!R)return"";d=R+"/"+d,g=xt.isAbs(R)}return(g?"/":"")+(d=xt.normalizeArray(d.split("/").filter(V=>!!V),!g).join("/"))||"."},relative:(d,g)=>{function w(Et){for(var pn=0;pn<Et.length&&""===Et[pn];pn++);for(var wn=Et.length-1;wn>=0&&""===Et[wn];wn--);return pn>wn?[]:Et.slice(pn,wn-pn+1)}d=Jt.resolve(d).substr(1),g=Jt.resolve(g).substr(1);for(var R=w(d.split("/")),V=w(g.split("/")),Ce=Math.min(R.length,V.length),De=Ce,ue=0;ue<Ce;ue++)if(R[ue]!==V[ue]){De=ue;break}var pt=[];for(ue=De;ue<R.length;ue++)pt.push("..");return(pt=pt.concat(V.slice(De))).join("/")}};function er(d,g,w){var R=w>0?w:ne(d)+1,V=new Array(R),Ce=Me(d,V,0,V.length);return g&&(V.length=Ce),V}var tr={ttys:[],init:function(){},shutdown:function(){},register:function(d,g){tr.ttys[d]={input:[],output:[],ops:g},S.registerDevice(d,tr.stream_ops)},stream_ops:{open:function(d){var g=tr.ttys[d.node.rdev];if(!g)throw new S.ErrnoError(43);d.tty=g,d.seekable=!1},close:function(d){d.tty.ops.fsync(d.tty)},fsync:function(d){d.tty.ops.fsync(d.tty)},read:function(d,g,w,R,V){if(!d.tty||!d.tty.ops.get_char)throw new S.ErrnoError(60);for(var Ce=0,De=0;De<R;De++){var ue;try{ue=d.tty.ops.get_char(d.tty)}catch{throw new S.ErrnoError(29)}if(void 0===ue&&0===Ce)throw new S.ErrnoError(6);if(null==ue)break;Ce++,g[w+De]=ue}return Ce&&(d.node.timestamp=Date.now()),Ce},write:function(d,g,w,R,V){if(!d.tty||!d.tty.ops.put_char)throw new S.ErrnoError(60);try{for(var Ce=0;Ce<R;Ce++)d.tty.ops.put_char(d.tty,g[w+Ce])}catch{throw new S.ErrnoError(29)}return R&&(d.node.timestamp=Date.now()),Ce}},default_tty_ops:{get_char:function(d){if(!d.input.length){var g=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(g=window.prompt("Input: "))&&(g+="\n"):"function"==typeof readline&&null!==(g=readline())&&(g+="\n"),!g)return null;d.input=er(g,!0)}return d.input.shift()},put_char:function(d,g){null===g||10===g?(W(Ye(d.output,0)),d.output=[]):0!=g&&d.output.push(g)},fsync:function(d){d.output&&d.output.length>0&&(W(Ye(d.output,0)),d.output=[])}},default_tty1_ops:{put_char:function(d,g){null===g||10===g?(K(Ye(d.output,0)),d.output=[]):0!=g&&d.output.push(g)},fsync:function(d){d.output&&d.output.length>0&&(K(Ye(d.output,0)),d.output=[])}}};function ln(d){sr()}var jt={ops_table:null,mount:function(d){return jt.createNode(null,"/",16895,0)},createNode:function(d,g,w,R){if(S.isBlkdev(w)||S.isFIFO(w))throw new S.ErrnoError(63);jt.ops_table||(jt.ops_table={dir:{node:{getattr:jt.node_ops.getattr,setattr:jt.node_ops.setattr,lookup:jt.node_ops.lookup,mknod:jt.node_ops.mknod,rename:jt.node_ops.rename,unlink:jt.node_ops.unlink,rmdir:jt.node_ops.rmdir,readdir:jt.node_ops.readdir,symlink:jt.node_ops.symlink},stream:{llseek:jt.stream_ops.llseek}},file:{node:{getattr:jt.node_ops.getattr,setattr:jt.node_ops.setattr},stream:{llseek:jt.stream_ops.llseek,read:jt.stream_ops.read,write:jt.stream_ops.write,allocate:jt.stream_ops.allocate,mmap:jt.stream_ops.mmap,msync:jt.stream_ops.msync}},link:{node:{getattr:jt.node_ops.getattr,setattr:jt.node_ops.setattr,readlink:jt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:jt.node_ops.getattr,setattr:jt.node_ops.setattr},stream:S.chrdev_stream_ops}});var V=S.createNode(d,g,w,R);return S.isDir(V.mode)?(V.node_ops=jt.ops_table.dir.node,V.stream_ops=jt.ops_table.dir.stream,V.contents={}):S.isFile(V.mode)?(V.node_ops=jt.ops_table.file.node,V.stream_ops=jt.ops_table.file.stream,V.usedBytes=0,V.contents=null):S.isLink(V.mode)?(V.node_ops=jt.ops_table.link.node,V.stream_ops=jt.ops_table.link.stream):S.isChrdev(V.mode)&&(V.node_ops=jt.ops_table.chrdev.node,V.stream_ops=jt.ops_table.chrdev.stream),V.timestamp=Date.now(),d&&(d.contents[g]=V,d.timestamp=V.timestamp),V},getFileDataAsTypedArray:function(d){return d.contents?d.contents.subarray?d.contents.subarray(0,d.usedBytes):new Uint8Array(d.contents):new Uint8Array(0)},expandFileStorage:function(d,g){var w=d.contents?d.contents.length:0;if(!(w>=g)){g=Math.max(g,w*(w<1048576?2:1.125)>>>0),0!=w&&(g=Math.max(g,256));var V=d.contents;d.contents=new Uint8Array(g),d.usedBytes>0&&d.contents.set(V.subarray(0,d.usedBytes),0)}},resizeFileStorage:function(d,g){if(d.usedBytes!=g)if(0==g)d.contents=null,d.usedBytes=0;else{var w=d.contents;d.contents=new Uint8Array(g),w&&d.contents.set(w.subarray(0,Math.min(g,d.usedBytes))),d.usedBytes=g}},node_ops:{getattr:function(d){var g={};return g.dev=S.isChrdev(d.mode)?d.id:1,g.ino=d.id,g.mode=d.mode,g.nlink=1,g.uid=0,g.gid=0,g.rdev=d.rdev,g.size=S.isDir(d.mode)?4096:S.isFile(d.mode)?d.usedBytes:S.isLink(d.mode)?d.link.length:0,g.atime=new Date(d.timestamp),g.mtime=new Date(d.timestamp),g.ctime=new Date(d.timestamp),g.blksize=4096,g.blocks=Math.ceil(g.size/g.blksize),g},setattr:function(d,g){void 0!==g.mode&&(d.mode=g.mode),void 0!==g.timestamp&&(d.timestamp=g.timestamp),void 0!==g.size&&jt.resizeFileStorage(d,g.size)},lookup:function(d,g){throw S.genericErrors[44]},mknod:function(d,g,w,R){return jt.createNode(d,g,w,R)},rename:function(d,g,w){if(S.isDir(d.mode)){var R;try{R=S.lookupNode(g,w)}catch{}if(R)for(var V in R.contents)throw new S.ErrnoError(55)}delete d.parent.contents[d.name],d.parent.timestamp=Date.now(),d.name=w,g.contents[w]=d,g.timestamp=d.parent.timestamp,d.parent=g},unlink:function(d,g){delete d.contents[g],d.timestamp=Date.now()},rmdir:function(d,g){var w=S.lookupNode(d,g);for(var R in w.contents)throw new S.ErrnoError(55);delete d.contents[g],d.timestamp=Date.now()},readdir:function(d){var g=[".",".."];for(var w in d.contents)d.contents.hasOwnProperty(w)&&g.push(w);return g},symlink:function(d,g,w){var R=jt.createNode(d,g,41471,0);return R.link=w,R},readlink:function(d){if(!S.isLink(d.mode))throw new S.ErrnoError(28);return d.link}},stream_ops:{read:function(d,g,w,R,V){var Ce=d.node.contents;if(V>=d.node.usedBytes)return 0;var De=Math.min(d.node.usedBytes-V,R);if(De>8&&Ce.subarray)g.set(Ce.subarray(V,V+De),w);else for(var ue=0;ue<De;ue++)g[w+ue]=Ce[V+ue];return De},write:function(d,g,w,R,V,Ce){if(g.buffer===Xe.buffer&&(Ce=!1),!R)return 0;var De=d.node;if(De.timestamp=Date.now(),g.subarray&&(!De.contents||De.contents.subarray)){if(Ce)return De.contents=g.subarray(w,w+R),De.usedBytes=R,R;if(0===De.usedBytes&&0===V)return De.contents=g.slice(w,w+R),De.usedBytes=R,R;if(V+R<=De.usedBytes)return De.contents.set(g.subarray(w,w+R),V),R}if(jt.expandFileStorage(De,V+R),De.contents.subarray&&g.subarray)De.contents.set(g.subarray(w,w+R),V);else for(var ue=0;ue<R;ue++)De.contents[V+ue]=g[w+ue];return De.usedBytes=Math.max(De.usedBytes,V+R),R},llseek:function(d,g,w){var R=g;if(1===w?R+=d.position:2===w&&S.isFile(d.node.mode)&&(R+=d.node.usedBytes),R<0)throw new S.ErrnoError(28);return R},allocate:function(d,g,w){jt.expandFileStorage(d.node,g+w),d.node.usedBytes=Math.max(d.node.usedBytes,g+w)},mmap:function(d,g,w,R,V){if(!S.isFile(d.node.mode))throw new S.ErrnoError(43);var Ce,De,ue=d.node.contents;if(2&V||ue.buffer!==Ue){if((w>0||w+g<ue.length)&&(ue=ue.subarray?ue.subarray(w,w+g):Array.prototype.slice.call(ue,w,w+g)),De=!0,!(Ce=ln()))throw new S.ErrnoError(48);Xe.set(ue,Ce)}else De=!1,Ce=ue.byteOffset;return{ptr:Ce,allocated:De}},msync:function(d,g,w,R,V){return jt.stream_ops.write(d,g,0,R,w,!1),0}}},S={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(d,g={})=>{if(!(d=Jt.resolve(d)))return{path:"",node:null};if((g=Object.assign({follow_mount:!0,recurse_count:0},g)).recurse_count>8)throw new S.ErrnoError(32);for(var R=d.split("/").filter(wn=>!!wn),V=S.root,Ce="/",De=0;De<R.length;De++){var ue=De===R.length-1;if(ue&&g.parent)break;if(V=S.lookupNode(V,R[De]),Ce=xt.join2(Ce,R[De]),S.isMountpoint(V)&&(!ue||ue&&g.follow_mount)&&(V=V.mounted.root),!ue||g.follow)for(var pt=0;S.isLink(V.mode);){var Et=S.readlink(Ce);if(Ce=Jt.resolve(xt.dirname(Ce),Et),V=S.lookupPath(Ce,{recurse_count:g.recurse_count+1}).node,pt++>40)throw new S.ErrnoError(32)}}return{path:Ce,node:V}},getPath:d=>{for(var g;;){if(S.isRoot(d)){var w=d.mount.mountpoint;return g?"/"!==w[w.length-1]?w+"/"+g:w+g:w}g=g?d.name+"/"+g:d.name,d=d.parent}},hashName:(d,g)=>{for(var w=0,R=0;R<g.length;R++)w=(w<<5)-w+g.charCodeAt(R)|0;return(d+w>>>0)%S.nameTable.length},hashAddNode:d=>{var g=S.hashName(d.parent.id,d.name);d.name_next=S.nameTable[g],S.nameTable[g]=d},hashRemoveNode:d=>{var g=S.hashName(d.parent.id,d.name);if(S.nameTable[g]===d)S.nameTable[g]=d.name_next;else for(var w=S.nameTable[g];w;){if(w.name_next===d){w.name_next=d.name_next;break}w=w.name_next}},lookupNode:(d,g)=>{var w=S.mayLookup(d);if(w)throw new S.ErrnoError(w,d);for(var R=S.hashName(d.id,g),V=S.nameTable[R];V;V=V.name_next)if(V.parent.id===d.id&&V.name===g)return V;return S.lookup(d,g)},createNode:(d,g,w,R)=>{var V=new S.FSNode(d,g,w,R);return S.hashAddNode(V),V},destroyNode:d=>{S.hashRemoveNode(d)},isRoot:d=>d===d.parent,isMountpoint:d=>!!d.mounted,isFile:d=>32768==(61440&d),isDir:d=>16384==(61440&d),isLink:d=>40960==(61440&d),isChrdev:d=>8192==(61440&d),isBlkdev:d=>24576==(61440&d),isFIFO:d=>4096==(61440&d),isSocket:d=>49152==(49152&d),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:d=>{var g=S.flagModes[d];if(typeof g>"u")throw new Error("Unknown file open mode: "+d);return g},flagsToPermissionString:d=>{var g=["r","w","rw"][3&d];return 512&d&&(g+="w"),g},nodePermissions:(d,g)=>S.ignorePermissions?0:g.includes("r")&&!(292&d.mode)||g.includes("w")&&!(146&d.mode)||g.includes("x")&&!(73&d.mode)?2:0,mayLookup:d=>S.nodePermissions(d,"x")||(d.node_ops.lookup?0:2),mayCreate:(d,g)=>{try{return S.lookupNode(d,g),20}catch{}return S.nodePermissions(d,"wx")},mayDelete:(d,g,w)=>{var R;try{R=S.lookupNode(d,g)}catch(Ce){return Ce.errno}var V=S.nodePermissions(d,"wx");if(V)return V;if(w){if(!S.isDir(R.mode))return 54;if(S.isRoot(R)||S.getPath(R)===S.cwd())return 10}else if(S.isDir(R.mode))return 31;return 0},mayOpen:(d,g)=>d?S.isLink(d.mode)?32:S.isDir(d.mode)&&("r"!==S.flagsToPermissionString(g)||512&g)?31:S.nodePermissions(d,S.flagsToPermissionString(g)):44,MAX_OPEN_FDS:4096,nextfd:(d=0,g=S.MAX_OPEN_FDS)=>{for(var w=d;w<=g;w++)if(!S.streams[w])return w;throw new S.ErrnoError(33)},getStream:d=>S.streams[d],createStream:(d,g,w)=>{S.FSStream||(S.FSStream=function(){this.shared={}},S.FSStream.prototype={},Object.defineProperties(S.FSStream.prototype,{object:{get:function(){return this.node},set:function(V){this.node=V}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(V){this.shared.flags=V}},position:{get:function(){return this.shared.position},set:function(V){this.shared.position=V}}})),d=Object.assign(new S.FSStream,d);var R=S.nextfd(g,w);return d.fd=R,S.streams[R]=d,d},closeStream:d=>{S.streams[d]=null},chrdev_stream_ops:{open:d=>{var g=S.getDevice(d.node.rdev);d.stream_ops=g.stream_ops,d.stream_ops.open&&d.stream_ops.open(d)},llseek:()=>{throw new S.ErrnoError(70)}},major:d=>d>>8,minor:d=>255&d,makedev:(d,g)=>d<<8|g,registerDevice:(d,g)=>{S.devices[d]={stream_ops:g}},getDevice:d=>S.devices[d],getMounts:d=>{for(var g=[],w=[d];w.length;){var R=w.pop();g.push(R),w.push.apply(w,R.mounts)}return g},syncfs:(d,g)=>{"function"==typeof d&&(g=d,d=!1),S.syncFSRequests++,S.syncFSRequests>1&&K("warning: "+S.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var w=S.getMounts(S.root.mount),R=0;function V(De){return S.syncFSRequests--,g(De)}function Ce(De){if(De)return Ce.errored?void 0:(Ce.errored=!0,V(De));++R>=w.length&&V(null)}w.forEach(De=>{if(!De.type.syncfs)return Ce(null);De.type.syncfs(De,d,Ce)})},mount:(d,g,w)=>{var Ce,R="/"===w,V=!w;if(R&&S.root)throw new S.ErrnoError(10);if(!R&&!V){var De=S.lookupPath(w,{follow_mount:!1});if(w=De.path,S.isMountpoint(Ce=De.node))throw new S.ErrnoError(10);if(!S.isDir(Ce.mode))throw new S.ErrnoError(54)}var ue={type:d,opts:g,mountpoint:w,mounts:[]},pt=d.mount(ue);return pt.mount=ue,ue.root=pt,R?S.root=pt:Ce&&(Ce.mounted=ue,Ce.mount&&Ce.mount.mounts.push(ue)),pt},unmount:d=>{var g=S.lookupPath(d,{follow_mount:!1});if(!S.isMountpoint(g.node))throw new S.ErrnoError(28);var w=g.node,R=w.mounted,V=S.getMounts(R);Object.keys(S.nameTable).forEach(De=>{for(var ue=S.nameTable[De];ue;){var pt=ue.name_next;V.includes(ue.mount)&&S.destroyNode(ue),ue=pt}}),w.mounted=null;var Ce=w.mount.mounts.indexOf(R);w.mount.mounts.splice(Ce,1)},lookup:(d,g)=>d.node_ops.lookup(d,g),mknod:(d,g,w)=>{var V=S.lookupPath(d,{parent:!0}).node,Ce=xt.basename(d);if(!Ce||"."===Ce||".."===Ce)throw new S.ErrnoError(28);var De=S.mayCreate(V,Ce);if(De)throw new S.ErrnoError(De);if(!V.node_ops.mknod)throw new S.ErrnoError(63);return V.node_ops.mknod(V,Ce,g,w)},create:(d,g)=>(g=void 0!==g?g:438,g&=4095,S.mknod(d,g|=32768,0)),mkdir:(d,g)=>(g=void 0!==g?g:511,g&=1023,S.mknod(d,g|=16384,0)),mkdirTree:(d,g)=>{for(var w=d.split("/"),R="",V=0;V<w.length;++V)if(w[V]){R+="/"+w[V];try{S.mkdir(R,g)}catch(Ce){if(20!=Ce.errno)throw Ce}}},mkdev:(d,g,w)=>(typeof w>"u"&&(w=g,g=438),S.mknod(d,g|=8192,w)),symlink:(d,g)=>{if(!Jt.resolve(d))throw new S.ErrnoError(44);var R=S.lookupPath(g,{parent:!0}).node;if(!R)throw new S.ErrnoError(44);var V=xt.basename(g),Ce=S.mayCreate(R,V);if(Ce)throw new S.ErrnoError(Ce);if(!R.node_ops.symlink)throw new S.ErrnoError(63);return R.node_ops.symlink(R,V,d)},rename:(d,g)=>{var ue,pt,w=xt.dirname(d),R=xt.dirname(g),V=xt.basename(d),Ce=xt.basename(g);if(ue=S.lookupPath(d,{parent:!0}).node,pt=S.lookupPath(g,{parent:!0}).node,!ue||!pt)throw new S.ErrnoError(44);if(ue.mount!==pt.mount)throw new S.ErrnoError(75);var wn,Et=S.lookupNode(ue,V),pn=Jt.relative(d,R);if("."!==pn.charAt(0))throw new S.ErrnoError(28);if("."!==(pn=Jt.relative(g,w)).charAt(0))throw new S.ErrnoError(55);try{wn=S.lookupNode(pt,Ce)}catch{}if(Et!==wn){var qt=S.isDir(Et.mode),Lt=S.mayDelete(ue,V,qt);if(Lt)throw new S.ErrnoError(Lt);if(Lt=wn?S.mayDelete(pt,Ce,qt):S.mayCreate(pt,Ce))throw new S.ErrnoError(Lt);if(!ue.node_ops.rename)throw new S.ErrnoError(63);if(S.isMountpoint(Et)||wn&&S.isMountpoint(wn))throw new S.ErrnoError(10);if(pt!==ue&&(Lt=S.nodePermissions(ue,"w")))throw new S.ErrnoError(Lt);S.hashRemoveNode(Et);try{ue.node_ops.rename(Et,pt,Ce)}catch(In){throw In}finally{S.hashAddNode(Et)}}},rmdir:d=>{var w=S.lookupPath(d,{parent:!0}).node,R=xt.basename(d),V=S.lookupNode(w,R),Ce=S.mayDelete(w,R,!0);if(Ce)throw new S.ErrnoError(Ce);if(!w.node_ops.rmdir)throw new S.ErrnoError(63);if(S.isMountpoint(V))throw new S.ErrnoError(10);w.node_ops.rmdir(w,R),S.destroyNode(V)},readdir:d=>{var w=S.lookupPath(d,{follow:!0}).node;if(!w.node_ops.readdir)throw new S.ErrnoError(54);return w.node_ops.readdir(w)},unlink:d=>{var w=S.lookupPath(d,{parent:!0}).node;if(!w)throw new S.ErrnoError(44);var R=xt.basename(d),V=S.lookupNode(w,R),Ce=S.mayDelete(w,R,!1);if(Ce)throw new S.ErrnoError(Ce);if(!w.node_ops.unlink)throw new S.ErrnoError(63);if(S.isMountpoint(V))throw new S.ErrnoError(10);w.node_ops.unlink(w,R),S.destroyNode(V)},readlink:d=>{var w=S.lookupPath(d).node;if(!w)throw new S.ErrnoError(44);if(!w.node_ops.readlink)throw new S.ErrnoError(28);return Jt.resolve(S.getPath(w.parent),w.node_ops.readlink(w))},stat:(d,g)=>{var R=S.lookupPath(d,{follow:!g}).node;if(!R)throw new S.ErrnoError(44);if(!R.node_ops.getattr)throw new S.ErrnoError(63);return R.node_ops.getattr(R)},lstat:d=>S.stat(d,!0),chmod:(d,g,w)=>{var R;if(!(R="string"==typeof d?S.lookupPath(d,{follow:!w}).node:d).node_ops.setattr)throw new S.ErrnoError(63);R.node_ops.setattr(R,{mode:4095&g|-4096&R.mode,timestamp:Date.now()})},lchmod:(d,g)=>{S.chmod(d,g,!0)},fchmod:(d,g)=>{var w=S.getStream(d);if(!w)throw new S.ErrnoError(8);S.chmod(w.node,g)},chown:(d,g,w,R)=>{var V;if(!(V="string"==typeof d?S.lookupPath(d,{follow:!R}).node:d).node_ops.setattr)throw new S.ErrnoError(63);V.node_ops.setattr(V,{timestamp:Date.now()})},lchown:(d,g,w)=>{S.chown(d,g,w,!0)},fchown:(d,g,w)=>{var R=S.getStream(d);if(!R)throw new S.ErrnoError(8);S.chown(R.node,g,w)},truncate:(d,g)=>{if(g<0)throw new S.ErrnoError(28);var w;if(!(w="string"==typeof d?S.lookupPath(d,{follow:!0}).node:d).node_ops.setattr)throw new S.ErrnoError(63);if(S.isDir(w.mode))throw new S.ErrnoError(31);if(!S.isFile(w.mode))throw new S.ErrnoError(28);var V=S.nodePermissions(w,"w");if(V)throw new S.ErrnoError(V);w.node_ops.setattr(w,{size:g,timestamp:Date.now()})},ftruncate:(d,g)=>{var w=S.getStream(d);if(!w)throw new S.ErrnoError(8);if(!(2097155&w.flags))throw new S.ErrnoError(28);S.truncate(w.node,g)},utime:(d,g,w)=>{var V=S.lookupPath(d,{follow:!0}).node;V.node_ops.setattr(V,{timestamp:Math.max(g,w)})},open:(d,g,w)=>{if(""===d)throw new S.ErrnoError(44);var R;if(w=typeof w>"u"?438:w,w=64&(g="string"==typeof g?S.modeStringToFlags(g):g)?4095&w|32768:0,"object"==typeof d)R=d;else{d=xt.normalize(d);try{R=S.lookupPath(d,{follow:!(131072&g)}).node}catch{}}var Ce=!1;if(64&g)if(R){if(128&g)throw new S.ErrnoError(20)}else R=S.mknod(d,w,0),Ce=!0;if(!R)throw new S.ErrnoError(44);if(S.isChrdev(R.mode)&&(g&=-513),65536&g&&!S.isDir(R.mode))throw new S.ErrnoError(54);if(!Ce){var De=S.mayOpen(R,g);if(De)throw new S.ErrnoError(De)}512&g&&!Ce&&S.truncate(R,0),g&=-131713;var ue=S.createStream({node:R,path:S.getPath(R),flags:g,seekable:!0,position:0,stream_ops:R.stream_ops,ungotten:[],error:!1});return ue.stream_ops.open&&ue.stream_ops.open(ue),c.logReadFiles&&!(1&g)&&(S.readFiles||(S.readFiles={}),d in S.readFiles||(S.readFiles[d]=1)),ue},close:d=>{if(S.isClosed(d))throw new S.ErrnoError(8);d.getdents&&(d.getdents=null);try{d.stream_ops.close&&d.stream_ops.close(d)}catch(g){throw g}finally{S.closeStream(d.fd)}d.fd=null},isClosed:d=>null===d.fd,llseek:(d,g,w)=>{if(S.isClosed(d))throw new S.ErrnoError(8);if(!d.seekable||!d.stream_ops.llseek)throw new S.ErrnoError(70);if(0!=w&&1!=w&&2!=w)throw new S.ErrnoError(28);return d.position=d.stream_ops.llseek(d,g,w),d.ungotten=[],d.position},read:(d,g,w,R,V)=>{if(R<0||V<0)throw new S.ErrnoError(28);if(S.isClosed(d))throw new S.ErrnoError(8);if(1==(2097155&d.flags))throw new S.ErrnoError(8);if(S.isDir(d.node.mode))throw new S.ErrnoError(31);if(!d.stream_ops.read)throw new S.ErrnoError(28);var Ce=typeof V<"u";if(Ce){if(!d.seekable)throw new S.ErrnoError(70)}else V=d.position;var De=d.stream_ops.read(d,g,w,R,V);return Ce||(d.position+=De),De},write:(d,g,w,R,V,Ce)=>{if(R<0||V<0)throw new S.ErrnoError(28);if(S.isClosed(d))throw new S.ErrnoError(8);if(!(2097155&d.flags))throw new S.ErrnoError(8);if(S.isDir(d.node.mode))throw new S.ErrnoError(31);if(!d.stream_ops.write)throw new S.ErrnoError(28);d.seekable&&1024&d.flags&&S.llseek(d,0,2);var De=typeof V<"u";if(De){if(!d.seekable)throw new S.ErrnoError(70)}else V=d.position;var ue=d.stream_ops.write(d,g,w,R,V,Ce);return De||(d.position+=ue),ue},allocate:(d,g,w)=>{if(S.isClosed(d))throw new S.ErrnoError(8);if(g<0||w<=0)throw new S.ErrnoError(28);if(!(2097155&d.flags))throw new S.ErrnoError(8);if(!S.isFile(d.node.mode)&&!S.isDir(d.node.mode))throw new S.ErrnoError(43);if(!d.stream_ops.allocate)throw new S.ErrnoError(138);d.stream_ops.allocate(d,g,w)},mmap:(d,g,w,R,V)=>{if(2&R&&!(2&V)&&2!=(2097155&d.flags))throw new S.ErrnoError(2);if(1==(2097155&d.flags))throw new S.ErrnoError(2);if(!d.stream_ops.mmap)throw new S.ErrnoError(43);return d.stream_ops.mmap(d,g,w,R,V)},msync:(d,g,w,R,V)=>d.stream_ops.msync?d.stream_ops.msync(d,g,w,R,V):0,munmap:d=>0,ioctl:(d,g,w)=>{if(!d.stream_ops.ioctl)throw new S.ErrnoError(59);return d.stream_ops.ioctl(d,g,w)},readFile:(d,g={})=>{if(g.flags=g.flags||0,g.encoding=g.encoding||"binary","utf8"!==g.encoding&&"binary"!==g.encoding)throw new Error('Invalid encoding type "'+g.encoding+'"');var w,R=S.open(d,g.flags),Ce=S.stat(d).size,De=new Uint8Array(Ce);return S.read(R,De,0,Ce,0),"utf8"===g.encoding?w=Ye(De,0):"binary"===g.encoding&&(w=De),S.close(R),w},writeFile:(d,g,w={})=>{w.flags=w.flags||577;var R=S.open(d,w.flags,w.mode);if("string"==typeof g){var V=new Uint8Array(ne(g)+1),Ce=Me(g,V,0,V.length);S.write(R,V,0,Ce,void 0,w.canOwn)}else{if(!ArrayBuffer.isView(g))throw new Error("Unsupported data type");S.write(R,g,0,g.byteLength,void 0,w.canOwn)}S.close(R)},cwd:()=>S.currentPath,chdir:d=>{var g=S.lookupPath(d,{follow:!0});if(null===g.node)throw new S.ErrnoError(44);if(!S.isDir(g.node.mode))throw new S.ErrnoError(54);var w=S.nodePermissions(g.node,"x");if(w)throw new S.ErrnoError(w);S.currentPath=g.path},createDefaultDirectories:()=>{S.mkdir("/tmp"),S.mkdir("/home"),S.mkdir("/home/web_user")},createDefaultDevices:()=>{S.mkdir("/dev"),S.registerDevice(S.makedev(1,3),{read:()=>0,write:(g,w,R,V,Ce)=>V}),S.mkdev("/dev/null",S.makedev(1,3)),tr.register(S.makedev(5,0),tr.default_tty_ops),tr.register(S.makedev(6,0),tr.default_tty1_ops),S.mkdev("/dev/tty",S.makedev(5,0)),S.mkdev("/dev/tty1",S.makedev(6,0));var d=function gr(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var d=new Uint8Array(1);return()=>(crypto.getRandomValues(d),d[0])}return()=>sr("randomDevice")}();S.createDevice("/dev","random",d),S.createDevice("/dev","urandom",d),S.mkdir("/dev/shm"),S.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{S.mkdir("/proc");var d=S.mkdir("/proc/self");S.mkdir("/proc/self/fd"),S.mount({mount:()=>{var g=S.createNode(d,"fd",16895,73);return g.node_ops={lookup:(w,R)=>{var Ce=S.getStream(+R);if(!Ce)throw new S.ErrnoError(8);var De={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>Ce.path}};return De.parent=De,De}},g}},{},"/proc/self/fd")},createStandardStreams:()=>{c.stdin?S.createDevice("/dev","stdin",c.stdin):S.symlink("/dev/tty","/dev/stdin"),c.stdout?S.createDevice("/dev","stdout",null,c.stdout):S.symlink("/dev/tty","/dev/stdout"),c.stderr?S.createDevice("/dev","stderr",null,c.stderr):S.symlink("/dev/tty1","/dev/stderr"),S.open("/dev/stdin",0),S.open("/dev/stdout",1),S.open("/dev/stderr",1)},ensureErrnoError:()=>{S.ErrnoError||(S.ErrnoError=function(g,w){this.node=w,this.setErrno=function(R){this.errno=R},this.setErrno(g),this.message="FS error"},S.ErrnoError.prototype=new Error,S.ErrnoError.prototype.constructor=S.ErrnoError,[44].forEach(d=>{S.genericErrors[d]=new S.ErrnoError(d),S.genericErrors[d].stack="<generic error, no stack>"}))},staticInit:()=>{S.ensureErrnoError(),S.nameTable=new Array(4096),S.mount(jt,{},"/"),S.createDefaultDirectories(),S.createDefaultDevices(),S.createSpecialDirectories(),S.filesystems={MEMFS:jt}},init:(d,g,w)=>{S.init.initialized=!0,S.ensureErrnoError(),c.stdin=d||c.stdin,c.stdout=g||c.stdout,c.stderr=w||c.stderr,S.createStandardStreams()},quit:()=>{S.init.initialized=!1;for(var d=0;d<S.streams.length;d++){var g=S.streams[d];g&&S.close(g)}},getMode:(d,g)=>{var w=0;return d&&(w|=365),g&&(w|=146),w},findObject:(d,g)=>{var w=S.analyzePath(d,g);return w.exists?w.object:null},analyzePath:(d,g)=>{try{d=(w=S.lookupPath(d,{follow:!g})).path}catch{}var R={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var w=S.lookupPath(d,{parent:!0});R.parentExists=!0,R.parentPath=w.path,R.parentObject=w.node,R.name=xt.basename(d),w=S.lookupPath(d,{follow:!g}),R.exists=!0,R.path=w.path,R.object=w.node,R.name=w.node.name,R.isRoot="/"===w.path}catch(V){R.error=V.errno}return R},createPath:(d,g,w,R)=>{d="string"==typeof d?d:S.getPath(d);for(var V=g.split("/").reverse();V.length;){var Ce=V.pop();if(Ce){var De=xt.join2(d,Ce);try{S.mkdir(De)}catch{}d=De}}return De},createFile:(d,g,w,R,V)=>{var Ce=xt.join2("string"==typeof d?d:S.getPath(d),g),De=S.getMode(R,V);return S.create(Ce,De)},createDataFile:(d,g,w,R,V,Ce)=>{var De=g;d&&(d="string"==typeof d?d:S.getPath(d),De=g?xt.join2(d,g):d);var ue=S.getMode(R,V),pt=S.create(De,ue);if(w){if("string"==typeof w){for(var Et=new Array(w.length),pn=0,wn=w.length;pn<wn;++pn)Et[pn]=w.charCodeAt(pn);w=Et}S.chmod(pt,146|ue);var qt=S.open(pt,577);S.write(qt,w,0,w.length,0,Ce),S.close(qt),S.chmod(pt,ue)}return pt},createDevice:(d,g,w,R)=>{var V=xt.join2("string"==typeof d?d:S.getPath(d),g),Ce=S.getMode(!!w,!!R);S.createDevice.major||(S.createDevice.major=64);var De=S.makedev(S.createDevice.major++,0);return S.registerDevice(De,{open:ue=>{ue.seekable=!1},close:ue=>{R&&R.buffer&&R.buffer.length&&R(10)},read:(ue,pt,Et,pn,wn)=>{for(var qt=0,Lt=0;Lt<pn;Lt++){var In;try{In=w()}catch{throw new S.ErrnoError(29)}if(void 0===In&&0===qt)throw new S.ErrnoError(6);if(null==In)break;qt++,pt[Et+Lt]=In}return qt&&(ue.node.timestamp=Date.now()),qt},write:(ue,pt,Et,pn,wn)=>{for(var qt=0;qt<pn;qt++)try{R(pt[Et+qt])}catch{throw new S.ErrnoError(29)}return pn&&(ue.node.timestamp=Date.now()),qt}}),S.mkdev(V,Ce,De)},forceLoadFile:d=>{if(d.isDevice||d.isFolder||d.link||d.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!H)throw new Error("Cannot load without read() or XMLHttpRequest.");try{d.contents=er(H(d.url),!0),d.usedBytes=d.contents.length}catch{throw new S.ErrnoError(29)}},createLazyFile:(d,g,w,R,V)=>{function Ce(){this.lengthKnown=!1,this.chunks=[]}if(Ce.prototype.get=function(Lt){if(!(Lt>this.length-1||Lt<0)){var In=Lt%this.chunkSize;return this.getter(Lt/this.chunkSize|0)[In]}},Ce.prototype.setDataGetter=function(Lt){this.getter=Lt},Ce.prototype.cacheLength=function(){var Lt=new XMLHttpRequest;if(Lt.open("HEAD",w,!1),Lt.send(null),!(Lt.status>=200&&Lt.status<300||304===Lt.status))throw new Error("Couldn't load "+w+". Status: "+Lt.status);var wt,In=Number(Lt.getResponseHeader("Content-length")),yn=(wt=Lt.getResponseHeader("Accept-Ranges"))&&"bytes"===wt,zn=(wt=Lt.getResponseHeader("Content-Encoding"))&&"gzip"===wt,dt=1048576;yn||(dt=In);var Yn=this;Yn.setDataGetter(cr=>{var or=cr*dt,Fr=(cr+1)*dt-1;if(Fr=Math.min(Fr,In-1),typeof Yn.chunks[cr]>"u"&&(Yn.chunks[cr]=((cr,or)=>{if(cr>or)throw new Error("invalid range ("+cr+", "+or+") or no bytes requested!");if(or>In-1)throw new Error("only "+In+" bytes available! programmer error!");var Fr=new XMLHttpRequest;if(Fr.open("GET",w,!1),In!==dt&&Fr.setRequestHeader("Range","bytes="+cr+"-"+or),Fr.responseType="arraybuffer",Fr.overrideMimeType&&Fr.overrideMimeType("text/plain; charset=x-user-defined"),Fr.send(null),!(Fr.status>=200&&Fr.status<300||304===Fr.status))throw new Error("Couldn't load "+w+". Status: "+Fr.status);return void 0!==Fr.response?new Uint8Array(Fr.response||[]):er(Fr.responseText||"",!0)})(or,Fr)),typeof Yn.chunks[cr]>"u")throw new Error("doXHR failed!");return Yn.chunks[cr]}),(zn||!In)&&(dt=In=1,In=this.getter(0).length,dt=In,W("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=In,this._chunkSize=dt,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!Y)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var De=new Ce;Object.defineProperties(De,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var ue={isDevice:!1,contents:De}}else ue={isDevice:!1,url:w};var pt=S.createFile(d,g,ue,R,V);ue.contents?pt.contents=ue.contents:ue.url&&(pt.contents=null,pt.url=ue.url),Object.defineProperties(pt,{usedBytes:{get:function(){return this.contents.length}}});var Et={};function wn(qt,Lt,In,wt,yn){var zn=qt.node.contents;if(yn>=zn.length)return 0;var dt=Math.min(zn.length-yn,wt);if(zn.slice)for(var Kt=0;Kt<dt;Kt++)Lt[In+Kt]=zn[yn+Kt];else for(Kt=0;Kt<dt;Kt++)Lt[In+Kt]=zn.get(yn+Kt);return dt}return Object.keys(pt.stream_ops).forEach(qt=>{var Lt=pt.stream_ops[qt];Et[qt]=function(){return S.forceLoadFile(pt),Lt.apply(null,arguments)}}),Et.read=(qt,Lt,In,wt,yn)=>(S.forceLoadFile(pt),wn(qt,Lt,In,wt,yn)),Et.mmap=(qt,Lt,In,wt,yn)=>{S.forceLoadFile(pt);var zn=ln();if(!zn)throw new S.ErrnoError(48);return wn(qt,Xe,zn,Lt,In),{ptr:zn,allocated:!0}},pt.stream_ops=Et,pt},createPreloadedFile:(d,g,w,R,V,Ce,De,ue,pt,Et)=>{var pn=g?Jt.resolve(xt.join2(d,g)):d;function qt(Lt){function In(wt){Et&&Et(),ue||S.createDataFile(d,g,wt,R,V,pt),Ce&&Ce(),Ar()}Browser.handledByPreloadPlugin(Lt,pn,In,()=>{De&&De(),Ar()})||In(Lt)}Gr(),"string"==typeof w?function E(d,g,w,R){var V=R?"":"al "+d;Pe(d,Ce=>{we(Ce,'Loading data file "'+d+'" failed (no arrayBuffer).'),g(new Uint8Array(Ce)),V&&Ar()},Ce=>{if(!w)throw'Loading data file "'+d+'" failed.';w()}),V&&Gr()}(w,Lt=>qt(Lt),De):qt(w)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(d,g,w)=>{g=g||(()=>{}),w=w||(()=>{});var R=S.indexedDB();try{var V=R.open(S.DB_NAME(),S.DB_VERSION)}catch(Ce){return w(Ce)}V.onupgradeneeded=()=>{W("creating db"),V.result.createObjectStore(S.DB_STORE_NAME)},V.onsuccess=()=>{var De=V.result.transaction([S.DB_STORE_NAME],"readwrite"),ue=De.objectStore(S.DB_STORE_NAME),pt=0,Et=0,pn=d.length;function wn(){0==Et?g():w()}d.forEach(qt=>{var Lt=ue.put(S.analyzePath(qt).object.contents,qt);Lt.onsuccess=()=>{++pt+Et==pn&&wn()},Lt.onerror=()=>{Et++,pt+Et==pn&&wn()}}),De.onerror=w},V.onerror=w},loadFilesFromDB:(d,g,w)=>{g=g||(()=>{}),w=w||(()=>{});var R=S.indexedDB();try{var V=R.open(S.DB_NAME(),S.DB_VERSION)}catch(Ce){return w(Ce)}V.onupgradeneeded=w,V.onsuccess=()=>{var Ce=V.result;try{var De=Ce.transaction([S.DB_STORE_NAME],"readonly")}catch(qt){return void w(qt)}var ue=De.objectStore(S.DB_STORE_NAME),pt=0,Et=0,pn=d.length;function wn(){0==Et?g():w()}d.forEach(qt=>{var Lt=ue.get(qt);Lt.onsuccess=()=>{S.analyzePath(qt).exists&&S.unlink(qt),S.createDataFile(xt.dirname(qt),xt.basename(qt),Lt.result,!0,!0,!0),++pt+Et==pn&&wn()},Lt.onerror=()=>{Et++,pt+Et==pn&&wn()}}),De.onerror=w},V.onerror=w}},Kn={DEFAULT_POLLMASK:5,calculateAt:function(d,g,w){if(xt.isAbs(g))return g;var R;if(R=-100===d?S.cwd():Kn.getStreamFromFD(d).path,0==g.length){if(!w)throw new S.ErrnoError(44);return R}return xt.join2(R,g)},doStat:function(d,g,w){try{var R=d(g)}catch(V){if(V&&V.node&&xt.normalize(g)!==xt.normalize(S.getPath(V.node)))return-54;throw V}return O[w>>2]=R.dev,O[w+8>>2]=R.ino,O[w+12>>2]=R.mode,ye[w+16>>2]=R.nlink,O[w+20>>2]=R.uid,O[w+24>>2]=R.gid,O[w+28>>2]=R.rdev,ae=[R.size>>>0,(at=R.size,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[w+40>>2]=ae[0],O[w+44>>2]=ae[1],O[w+48>>2]=4096,O[w+52>>2]=R.blocks,ae=[Math.floor(R.atime.getTime()/1e3)>>>0,(at=Math.floor(R.atime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[w+56>>2]=ae[0],O[w+60>>2]=ae[1],ye[w+64>>2]=0,ae=[Math.floor(R.mtime.getTime()/1e3)>>>0,(at=Math.floor(R.mtime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[w+72>>2]=ae[0],O[w+76>>2]=ae[1],ye[w+80>>2]=0,ae=[Math.floor(R.ctime.getTime()/1e3)>>>0,(at=Math.floor(R.ctime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[w+88>>2]=ae[0],O[w+92>>2]=ae[1],ye[w+96>>2]=0,ae=[R.ino>>>0,(at=R.ino,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[w+104>>2]=ae[0],O[w+108>>2]=ae[1],0},doMsync:function(d,g,w,R,V){if(!S.isFile(g.node.mode))throw new S.ErrnoError(43);if(2&R)return 0;var Ce=yt.slice(d,d+w);S.msync(g,Ce,V,w,R)},varargs:void 0,get:function(){return Kn.varargs+=4,O[Kn.varargs-4>>2]},getStr:function(d){return $e(d)},getStreamFromFD:function(d){var g=S.getStream(d);if(!g)throw new S.ErrnoError(8);return g}};function _o(d){return d%4==0&&(d%100!=0||d%400==0)}var xi=[0,31,60,91,121,152,182,213,244,274,305,335],Lo=[0,31,59,90,120,151,181,212,243,273,304,334];function _i(d){return(_o(d.getFullYear())?xi:Lo)[d.getMonth()]+d.getDate()-1}function $o(d){var g=ne(d)+1,w=Ct(g);return w&&Me(d,Xe,w,g),w}function Wr(d){try{return de.grow(d-Ue.byteLength+65535>>>16),Ve(de.buffer),1}catch{}}var Yo={};function no(){if(!no.strings){var g={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:L||"./this.program"};for(var w in Yo)void 0===Yo[w]?delete g[w]:g[w]=Yo[w];var R=[];for(var w in g)R.push(w+"="+g[w]);no.strings=R}return no.strings}var hs=[31,29,31,30,31,30,31,31,30,31,30,31],Ri=[31,28,31,30,31,30,31,31,30,31,30,31];var pe=function(d,g,w,R){d||(d=this),this.parent=d,this.mount=d.mount,this.mounted=null,this.id=S.nextInode++,this.name=g,this.mode=w,this.node_ops={},this.stream_ops={},this.rdev=R};Object.defineProperties(pe.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(d){d?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(d){d?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return S.isDir(this.mode)}},isDevice:{get:function(){return S.isChrdev(this.mode)}}}),S.FSNode=pe,S.staticInit();var kr,rt={a:function Bn(d,g,w,R){sr("Assertion failed: "+$e(d)+", at: "+[g?$e(g):"unknown filename",w,R?$e(R):"unknown function"])},l:function D(d,g,w){try{var R=Zt(g,w);return isNaN(R)?-61:(S.ftruncate(d,R),0)}catch(V){if(typeof S>"u"||!(V instanceof S.ErrnoError))throw V;return-V.errno}},g:function No(){return!0},h:function vi(d,g){var w=new Date(1e3*function qo(d){return ye[d>>2]+4294967296*O[d+4>>2]}(d));O[g>>2]=w.getSeconds(),O[g+4>>2]=w.getMinutes(),O[g+8>>2]=w.getHours(),O[g+12>>2]=w.getDate(),O[g+16>>2]=w.getMonth(),O[g+20>>2]=w.getFullYear()-1900,O[g+24>>2]=w.getDay();var R=0|_i(w);O[g+28>>2]=R,O[g+36>>2]=-60*w.getTimezoneOffset();var V=new Date(w.getFullYear(),0,1),Ce=new Date(w.getFullYear(),6,1).getTimezoneOffset(),De=V.getTimezoneOffset(),ue=0|(Ce!=De&&w.getTimezoneOffset()==Math.min(De,Ce));O[g+32>>2]=ue},i:function to(d){var g=new Date(O[d+20>>2]+1900,O[d+16>>2],O[d+12>>2],O[d+8>>2],O[d+4>>2],O[d>>2],0),w=O[d+32>>2],R=g.getTimezoneOffset(),V=new Date(g.getFullYear(),0,1),Ce=new Date(g.getFullYear(),6,1).getTimezoneOffset(),De=V.getTimezoneOffset(),ue=Math.min(De,Ce);if(w<0)O[d+32>>2]=Number(Ce!=De&&ue==R);else if(w>0!=(ue==R)){var pt=Math.max(De,Ce),Et=w>0?ue:pt;g.setTime(g.getTime()+6e4*(Et-R))}O[d+24>>2]=g.getDay();var pn=0|_i(g);return O[d+28>>2]=pn,O[d>>2]=g.getSeconds(),O[d+4>>2]=g.getMinutes(),O[d+8>>2]=g.getHours(),O[d+12>>2]=g.getDate(),O[d+16>>2]=g.getMonth(),O[d+20>>2]=g.getYear(),g.getTime()/1e3|0},j:function yr(d,g,w){var R=(new Date).getFullYear(),V=new Date(R,0,1),Ce=new Date(R,6,1),De=V.getTimezoneOffset(),ue=Ce.getTimezoneOffset(),pt=Math.max(De,ue);function Et(In){var wt=In.toTimeString().match(/\(([A-Za-z ]+)\)$/);return wt?wt[1]:"GMT"}ye[d>>2]=60*pt,O[g>>2]=Number(De!=ue);var pn=Et(V),wn=Et(Ce),qt=$o(pn),Lt=$o(wn);ue<De?(ye[w>>2]=qt,ye[w+4>>2]=Lt):(ye[w>>2]=Lt,ye[w+4>>2]=qt)},b:function Bo(){sr("")},c:function Yr(){return Date.now()},q:function Ko(d,g,w){yt.copyWithin(d,g,g+w)},p:function zi(d){var pt,g=yt.length,w=2147483648;if((d>>>=0)>w)return!1;for(var V=1;V<=4;V*=2){var Ce=g*(1+.2/V);if(Ce=Math.min(Ce,d+100663296),Wr(Math.min(w,(pt=Math.max(d,Ce))+(65536-pt%65536)%65536)))return!0}return!1},n:function uo(d,g){var w=0;return no().forEach(function(R,V){var Ce=g+w;ye[d+4*V>>2]=Ce,function Gi(d,g,w){for(var R=0;R<d.length;++R)Xe[g++>>0]=d.charCodeAt(R);w||(Xe[g>>0]=0)}(R,Ce),w+=R.length+1}),0},o:function bi(d,g){var w=no();ye[d>>2]=w.length;var R=0;return w.forEach(function(V){R+=V.length+1}),ye[g>>2]=R,0},d:function ps(d){try{var g=Kn.getStreamFromFD(d);return S.close(g),0}catch(w){if(typeof S>"u"||!(w instanceof S.ErrnoError))throw w;return w.errno}},f:function Wi(d,g,w,R){try{var Ce=function ai(d,g,w,R){for(var V=0,Ce=0;Ce<w;Ce++){var De=ye[g>>2],ue=ye[g+4>>2];g+=8;var pt=S.read(d,Xe,De,ue,R);if(pt<0)return-1;if(V+=pt,pt<ue)break}return V}(Kn.getStreamFromFD(d),g,w);return ye[R>>2]=Ce,0}catch(De){if(typeof S>"u"||!(De instanceof S.ErrnoError))throw De;return De.errno}},k:function Ms(d,g,w,R,V){try{var Ce=Zt(g,w);if(isNaN(Ce))return 61;var De=Kn.getStreamFromFD(d);return S.llseek(De,Ce,R),ae=[De.position>>>0,(at=De.position,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],O[V>>2]=ae[0],O[V+4>>2]=ae[1],De.getdents&&0===Ce&&0===R&&(De.getdents=null),0}catch(ue){if(typeof S>"u"||!(ue instanceof S.ErrnoError))throw ue;return ue.errno}},e:function dr(d,g,w,R){try{var Ce=function As(d,g,w,R){for(var V=0,Ce=0;Ce<w;Ce++){var De=ye[g>>2],ue=ye[g+4>>2];g+=8;var pt=S.write(d,Xe,De,ue,R);if(pt<0)return-1;V+=pt}return V}(Kn.getStreamFromFD(d),g,w);return ye[R>>2]=Ce,0}catch(De){if(typeof S>"u"||!(De instanceof S.ErrnoError))throw De;return De.errno}},m:function ge(d,g,w,R,V){return function N(d,g,w,R){var V=O[R+40>>2],Ce={tm_sec:O[R>>2],tm_min:O[R+4>>2],tm_hour:O[R+8>>2],tm_mday:O[R+12>>2],tm_mon:O[R+16>>2],tm_year:O[R+20>>2],tm_wday:O[R+24>>2],tm_yday:O[R+28>>2],tm_isdst:O[R+32>>2],tm_gmtoff:O[R+36>>2],tm_zone:V?$e(V):""},De=$e(w),ue={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var pt in ue)De=De.replace(new RegExp(pt,"g"),ue[pt]);var Et=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],pn=["January","February","March","April","May","June","July","August","September","October","November","December"];function wn(dt,Kt,Yn){for(var cr="number"==typeof dt?dt.toString():dt||"";cr.length<Kt;)cr=Yn[0]+cr;return cr}function qt(dt,Kt){return wn(dt,Kt,"0")}function Lt(dt,Kt){function Yn(or){return or<0?-1:or>0?1:0}var cr;return 0===(cr=Yn(dt.getFullYear()-Kt.getFullYear()))&&0===(cr=Yn(dt.getMonth()-Kt.getMonth()))&&(cr=Yn(dt.getDate()-Kt.getDate())),cr}function In(dt){switch(dt.getDay()){case 0:return new Date(dt.getFullYear()-1,11,29);case 1:return dt;case 2:return new Date(dt.getFullYear(),0,3);case 3:return new Date(dt.getFullYear(),0,2);case 4:return new Date(dt.getFullYear(),0,1);case 5:return new Date(dt.getFullYear()-1,11,31);case 6:return new Date(dt.getFullYear()-1,11,30)}}function wt(dt){var Kt=function nr(d,g){for(var w=new Date(d.getTime());g>0;){var R=_o(w.getFullYear()),V=w.getMonth(),Ce=(R?hs:Ri)[V];if(!(g>Ce-w.getDate()))return w.setDate(w.getDate()+g),w;g-=Ce-w.getDate()+1,w.setDate(1),V<11?w.setMonth(V+1):(w.setMonth(0),w.setFullYear(w.getFullYear()+1))}return w}(new Date(dt.tm_year+1900,0,1),dt.tm_yday),Yn=new Date(Kt.getFullYear(),0,4),cr=new Date(Kt.getFullYear()+1,0,4),or=In(Yn),Fr=In(cr);return Lt(or,Kt)<=0?Lt(Fr,Kt)<=0?Kt.getFullYear()+1:Kt.getFullYear():Kt.getFullYear()-1}var yn={"%a":function(dt){return Et[dt.tm_wday].substring(0,3)},"%A":function(dt){return Et[dt.tm_wday]},"%b":function(dt){return pn[dt.tm_mon].substring(0,3)},"%B":function(dt){return pn[dt.tm_mon]},"%C":function(dt){return qt((dt.tm_year+1900)/100|0,2)},"%d":function(dt){return qt(dt.tm_mday,2)},"%e":function(dt){return wn(dt.tm_mday,2," ")},"%g":function(dt){return wt(dt).toString().substring(2)},"%G":function(dt){return wt(dt)},"%H":function(dt){return qt(dt.tm_hour,2)},"%I":function(dt){var Kt=dt.tm_hour;return 0==Kt?Kt=12:Kt>12&&(Kt-=12),qt(Kt,2)},"%j":function(dt){return qt(dt.tm_mday+function li(d,g){for(var w=0,R=0;R<=g;w+=d[R++]);return w}(_o(dt.tm_year+1900)?hs:Ri,dt.tm_mon-1),3)},"%m":function(dt){return qt(dt.tm_mon+1,2)},"%M":function(dt){return qt(dt.tm_min,2)},"%n":function(){return"\n"},"%p":function(dt){return dt.tm_hour>=0&&dt.tm_hour<12?"AM":"PM"},"%S":function(dt){return qt(dt.tm_sec,2)},"%t":function(){return"\t"},"%u":function(dt){return dt.tm_wday||7},"%U":function(dt){return qt(Math.floor((dt.tm_yday+7-dt.tm_wday)/7),2)},"%V":function(dt){var Kt=Math.floor((dt.tm_yday+7-(dt.tm_wday+6)%7)/7);if((dt.tm_wday+371-dt.tm_yday-2)%7<=2&&Kt++,Kt){if(53==Kt){var cr=(dt.tm_wday+371-dt.tm_yday)%7;4!=cr&&(3!=cr||!_o(dt.tm_year))&&(Kt=1)}}else{Kt=52;var Yn=(dt.tm_wday+7-dt.tm_yday-1)%7;(4==Yn||5==Yn&&_o(dt.tm_year%400-1))&&Kt++}return qt(Kt,2)},"%w":function(dt){return dt.tm_wday},"%W":function(dt){return qt(Math.floor((dt.tm_yday+7-(dt.tm_wday+6)%7)/7),2)},"%y":function(dt){return(dt.tm_year+1900).toString().substring(2)},"%Y":function(dt){return dt.tm_year+1900},"%z":function(dt){var Kt=dt.tm_gmtoff,Yn=Kt>=0;return Kt=(Kt=Math.abs(Kt)/60)/60*100+Kt%60,(Yn?"+":"-")+String("0000"+Kt).slice(-4)},"%Z":function(dt){return dt.tm_zone},"%%":function(){return"%"}};for(var pt in De=De.replace(/%%/g,"\0\0"),yn)De.includes(pt)&&(De=De.replace(new RegExp(pt,"g"),yn[pt](Ce)));var zn=er(De=De.replace(/\0\0/g,"%"),!1);return zn.length>g?0:(function A(d,g){Xe.set(d,g)}(zn,d),zn.length-1)}(d,g,w,R)}},Ct=(function Vr(){var d={a:rt};function g(De,ue){c.asm=De.exports,Ve((de=c.asm.r).buffer),function qr(d){Re.unshift(d)}(c.asm.s),Ar()}function w(De){g(De.instance)}function R(De){return function Hi(){return fe||!ce&&!Y||"function"!=typeof fetch?Promise.resolve().then(function(){return Kr(mn)}):fetch(mn,{credentials:"same-origin"}).then(function(d){if(!d.ok)throw"failed to load wasm binary file at '"+mn+"'";return d.arrayBuffer()}).catch(function(){return Kr(mn)})}().then(function(ue){return WebAssembly.instantiate(ue,d)}).then(function(ue){return ue}).then(De,function(ue){K("failed to asynchronously prepare wasm: "+ue),sr(ue)})}if(Gr(),c.instantiateWasm)try{return c.instantiateWasm(d,g)}catch(De){K("Module.instantiateWasm callback failed with error: "+De),J(De)}(function V(){return fe||"function"!=typeof WebAssembly.instantiateStreaming||eo(mn)||"function"!=typeof fetch?R(w):fetch(mn,{credentials:"same-origin"}).then(function(De){return WebAssembly.instantiateStreaming(De,d).then(w,function(pt){return K("wasm streaming compile failed: "+pt),K("falling back to ArrayBuffer instantiation"),R(w)})})})().catch(J)}(),c.___wasm_call_ctors=function(){return(c.___wasm_call_ctors=c.asm.s).apply(null,arguments)},c._malloc=function(){return(Ct=c._malloc=c.asm.t).apply(null,arguments)}),Do=(c._free=function(){return(c._free=c.asm.u).apply(null,arguments)},c._emscripten_bind_VoidPtr___destroy___0=function(){return(Do=c._emscripten_bind_VoidPtr___destroy___0=c.asm.v).apply(null,arguments)}),Xr=c._emscripten_bind_FileEntry_GetName_0=function(){return(Xr=c._emscripten_bind_FileEntry_GetName_0=c.asm.w).apply(null,arguments)},Io=c._emscripten_bind_FileEntry_IsDirectory_0=function(){return(Io=c._emscripten_bind_FileEntry_IsDirectory_0=c.asm.x).apply(null,arguments)},ci=c._emscripten_bind_FileEntry_GetSize_0=function(){return(ci=c._emscripten_bind_FileEntry_GetSize_0=c.asm.y).apply(null,arguments)},Cr=c._emscripten_bind_FileEntry_GetModifiedTS_0=function(){return(Cr=c._emscripten_bind_FileEntry_GetModifiedTS_0=c.asm.z).apply(null,arguments)},Zi=c._emscripten_bind_FileEntry_GetAttributes_0=function(){return(Zi=c._emscripten_bind_FileEntry_GetAttributes_0=c.asm.A).apply(null,arguments)},Ra=c._emscripten_bind_FileEntry___destroy___0=function(){return(Ra=c._emscripten_bind_FileEntry___destroy___0=c.asm.B).apply(null,arguments)},Pa=c._emscripten_bind_Vfs_Vfs_0=function(){return(Pa=c._emscripten_bind_Vfs_Vfs_0=c.asm.C).apply(null,arguments)},wi=c._emscripten_bind_Vfs_Malloc_1=function(){return(wi=c._emscripten_bind_Vfs_Malloc_1=c.asm.D).apply(null,arguments)},Fa=c._emscripten_bind_Vfs_Free_1=function(){return(Fa=c._emscripten_bind_Vfs_Free_1=c.asm.E).apply(null,arguments)},Bs=c._emscripten_bind_Vfs_Nullptr_0=function(){return(Bs=c._emscripten_bind_Vfs_Nullptr_0=c.asm.F).apply(null,arguments)},Vs=c._emscripten_bind_Vfs_AllocateImage_1=function(){return(Vs=c._emscripten_bind_Vfs_AllocateImage_1=c.asm.G).apply(null,arguments)},ll=c._emscripten_bind_Vfs_MountImage_1=function(){return(ll=c._emscripten_bind_Vfs_MountImage_1=c.asm.H).apply(null,arguments)},cl=c._emscripten_bind_Vfs_UnmountImage_1=function(){return(cl=c._emscripten_bind_Vfs_UnmountImage_1=c.asm.I).apply(null,arguments)},ul=c._emscripten_bind_Vfs_GetPendingImageSize_0=function(){return(ul=c._emscripten_bind_Vfs_GetPendingImageSize_0=c.asm.J).apply(null,arguments)},ta=c._emscripten_bind_Vfs_GetSize_1=function(){return(ta=c._emscripten_bind_Vfs_GetSize_1=c.asm.K).apply(null,arguments)},dl=c._emscripten_bind_Vfs_GetPendingImage_0=function(){return(dl=c._emscripten_bind_Vfs_GetPendingImage_0=c.asm.L).apply(null,arguments)},ko=c._emscripten_bind_Vfs_GetImage_1=function(){return(ko=c._emscripten_bind_Vfs_GetImage_1=c.asm.M).apply(null,arguments)},qn=c._emscripten_bind_Vfs_GetDirtyPages_1=function(){return(qn=c._emscripten_bind_Vfs_GetDirtyPages_1=c.asm.N).apply(null,arguments)},fl=c._emscripten_bind_Vfs_RenameFile_2=function(){return(fl=c._emscripten_bind_Vfs_RenameFile_2=c.asm.O).apply(null,arguments)},pl=c._emscripten_bind_Vfs_ChmodFile_3=function(){return(pl=c._emscripten_bind_Vfs_ChmodFile_3=c.asm.P).apply(null,arguments)},Xl=c._emscripten_bind_Vfs_StatFile_1=function(){return(Xl=c._emscripten_bind_Vfs_StatFile_1=c.asm.Q).apply(null,arguments)},ht=c._emscripten_bind_Vfs_UnlinkFile_1=function(){return(ht=c._emscripten_bind_Vfs_UnlinkFile_1=c.asm.R).apply(null,arguments)},Us=c._emscripten_bind_Vfs_GetEntry_0=function(){return(Us=c._emscripten_bind_Vfs_GetEntry_0=c.asm.S).apply(null,arguments)},_r=c._emscripten_bind_Vfs_BytesFree_1=function(){return(_r=c._emscripten_bind_Vfs_BytesFree_1=c.asm.T).apply(null,arguments)},ms=c._emscripten_bind_Vfs_BytesTotal_1=function(){return(ms=c._emscripten_bind_Vfs_BytesTotal_1=c.asm.U).apply(null,arguments)},na=c._emscripten_bind_Vfs_ReadFile_1=function(){return(na=c._emscripten_bind_Vfs_ReadFile_1=c.asm.V).apply(null,arguments)},ro=c._emscripten_bind_Vfs_GetCurrentFileSize_0=function(){return(ro=c._emscripten_bind_Vfs_GetCurrentFileSize_0=c.asm.W).apply(null,arguments)},qi=c._emscripten_bind_Vfs_GetCurrentFileContent_0=function(){return(qi=c._emscripten_bind_Vfs_GetCurrentFileContent_0=c.asm.X).apply(null,arguments)},Ci=c._emscripten_bind_Vfs_ReleaseCurrentFile_0=function(){return(Ci=c._emscripten_bind_Vfs_ReleaseCurrentFile_0=c.asm.Y).apply(null,arguments)},ra=c._emscripten_bind_Vfs___destroy___0=function(){return(ra=c._emscripten_bind_Vfs___destroy___0=c.asm.Z).apply(null,arguments)},xs=c._emscripten_bind_ReaddirContext_ReaddirContext_1=function(){return(xs=c._emscripten_bind_ReaddirContext_ReaddirContext_1=c.asm._).apply(null,arguments)},js=c._emscripten_bind_ReaddirContext_Next_0=function(){return(js=c._emscripten_bind_ReaddirContext_Next_0=c.asm.$).apply(null,arguments)},oa=c._emscripten_bind_ReaddirContext_GetEntry_0=function(){return(oa=c._emscripten_bind_ReaddirContext_GetEntry_0=c.asm.aa).apply(null,arguments)},Oa=c._emscripten_bind_ReaddirContext_GetStatus_0=function(){return(Oa=c._emscripten_bind_ReaddirContext_GetStatus_0=c.asm.ba).apply(null,arguments)},kt=c._emscripten_bind_ReaddirContext_GetError_0=function(){return(kt=c._emscripten_bind_ReaddirContext_GetError_0=c.asm.ca).apply(null,arguments)},Hs=c._emscripten_bind_ReaddirContext_GetErrorDescription_0=function(){return(Hs=c._emscripten_bind_ReaddirContext_GetErrorDescription_0=c.asm.da).apply(null,arguments)},fo=c._emscripten_bind_ReaddirContext___destroy___0=function(){return(fo=c._emscripten_bind_ReaddirContext___destroy___0=c.asm.ea).apply(null,arguments)},ar=c._emscripten_bind_CreateZipContext_CreateZipContext_2=function(){return(ar=c._emscripten_bind_CreateZipContext_CreateZipContext_2=c.asm.fa).apply(null,arguments)},Zr=c._emscripten_bind_CreateZipContext_AddFile_1=function(){return(Zr=c._emscripten_bind_CreateZipContext_AddFile_1=c.asm.ga).apply(null,arguments)},xr=c._emscripten_bind_CreateZipContext_AddDirectory_1=function(){return(xr=c._emscripten_bind_CreateZipContext_AddDirectory_1=c.asm.ha).apply(null,arguments)},p=c._emscripten_bind_CreateZipContext_Continue_0=function(){return(p=c._emscripten_bind_CreateZipContext_Continue_0=c.asm.ia).apply(null,arguments)},y=c._emscripten_bind_CreateZipContext_GetState_0=function(){return(y=c._emscripten_bind_CreateZipContext_GetState_0=c.asm.ja).apply(null,arguments)},b=c._emscripten_bind_CreateZipContext_GetZipContent_0=function(){return(b=c._emscripten_bind_CreateZipContext_GetZipContent_0=c.asm.ka).apply(null,arguments)},F=c._emscripten_bind_CreateZipContext_GetZipSize_0=function(){return(F=c._emscripten_bind_CreateZipContext_GetZipSize_0=c.asm.la).apply(null,arguments)},z=c._emscripten_bind_CreateZipContext_GetErrorItem_0=function(){return(z=c._emscripten_bind_CreateZipContext_GetErrorItem_0=c.asm.ma).apply(null,arguments)},ve=c._emscripten_bind_CreateZipContext___destroy___0=function(){return(ve=c._emscripten_bind_CreateZipContext___destroy___0=c.asm.na).apply(null,arguments)},Ee=c._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=function(){return(Ee=c._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=c.asm.oa).apply(null,arguments)},je=c._emscripten_bind_DeleteRecursiveContext_AddFile_1=function(){return(je=c._emscripten_bind_DeleteRecursiveContext_AddFile_1=c.asm.pa).apply(null,arguments)},St=c._emscripten_bind_DeleteRecursiveContext_AddDirectory_1=function(){return(St=c._emscripten_bind_DeleteRecursiveContext_AddDirectory_1=c.asm.qa).apply(null,arguments)},dn=c._emscripten_bind_DeleteRecursiveContext_Continue_0=function(){return(dn=c._emscripten_bind_DeleteRecursiveContext_Continue_0=c.asm.ra).apply(null,arguments)},xn=c._emscripten_bind_DeleteRecursiveContext_GetState_0=function(){return(xn=c._emscripten_bind_DeleteRecursiveContext_GetState_0=c.asm.sa).apply(null,arguments)},Rn=c._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=function(){return(Rn=c._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=c.asm.ta).apply(null,arguments)},zt=c._emscripten_bind_DeleteRecursiveContext___destroy___0=function(){return(zt=c._emscripten_bind_DeleteRecursiveContext___destroy___0=c.asm.ua).apply(null,arguments)};function mt(d){var g=c._main;try{var V=g(0,0);return function Oe(d,g){le=d,function Se(d){le=d,function tn(){return Fe}()||(c.onExit&&c.onExit(d),it=!0),U(d,new ze(d))}(d)}(V),V}catch(Ce){return function P(d){if(d instanceof ze||"unwind"==d)return le;U(1,d)}(Ce)}}function Gt(d){function g(){kr||(kr=!0,c.calledRun=!0,!it&&(function vn(){!c.noFSInit&&!S.init.initialized&&S.init(),S.ignorePermissions=!1,tr.init(),On(Re)}(),function hr(){On(Tt)}(),re(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),Ur&&mt(),function Jn(){if(c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;)d=c.postRun.shift(),an.unshift(d);var d;On(an)}()))}d=d||X,Fn>0||(function Z(){if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)d=c.preRun.shift(),ft.unshift(d);var d;On(ft)}(),Fn>0)||(c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),g()},1)):g())}if(c._main=function(){return(c._main=c.asm.va).apply(null,arguments)},c.___original_main=function(){return(c.___original_main=c.asm.xa).apply(null,arguments)},c.___start_em_js=19112,c.___stop_em_js=19210,jn=function d(){kr||Gt(),kr||(jn=d)},c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);c.preInit.length>0;)c.preInit.pop()();var Ur=!0;function Pn(){}function Qr(d){return(d||Pn).__cache__}function An(d,g){var w=Qr(g),R=w[d];return R||((R=Object.create((g||Pn).prototype)).ptr=d,w[d]=R)}c.noInitialRun&&(Ur=!1),Gt(),(Pn.prototype=Object.create(Pn.prototype)).constructor=Pn,Pn.prototype.__class__=Pn,Pn.__cache__={},c.WrapperObject=Pn,c.getCache=Qr,c.wrapPointer=An,c.castObject=function Si(d,g){return An(d.ptr,g)},c.NULL=An(0),c.destroy=function pd(d){if(!d.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";d.__destroy__(),delete Qr(d.__class__)[d.ptr]},c.compare=function hd(d,g){return d.ptr===g.ptr},c.getPointer=function Pi(d){return d.ptr},c.getClass=function Ki(d){return d.__class__};var Vt={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(Vt.needed){for(var d=0;d<Vt.temps.length;d++)c._free(Vt.temps[d]);Vt.temps.length=0,c._free(Vt.buffer),Vt.buffer=0,Vt.size+=Vt.needed,Vt.needed=0}Vt.buffer||(Vt.size+=128,Vt.buffer=c._malloc(Vt.size),we(Vt.buffer)),Vt.pos=0},alloc:function(d,g){we(Vt.buffer);var V,R=d.length*g.BYTES_PER_ELEMENT;return Vt.pos+(R=R+7&-8)>=Vt.size?(we(R>0),Vt.needed+=R,V=c._malloc(R),Vt.temps.push(V)):(V=Vt.buffer+Vt.pos,Vt.pos+=R),V},copy:function(d,g,w){switch(w>>>=0,g.BYTES_PER_ELEMENT){case 2:w>>>=1;break;case 4:w>>>=2;break;case 8:w>>>=3}for(var V=0;V<d.length;V++)g[w+V]=d[V]}};function To(d){if("string"==typeof d){var g=er(d),w=Vt.alloc(g,Xe);return Vt.copy(g,Xe,w),w}return d}function oo(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Tr(){throw"cannot construct a FileEntry, no constructor in IDL"}function fn(){this.ptr=Pa(),Qr(fn)[this.ptr]=this}function mr(d){Vt.prepare(),d=d&&"object"==typeof d?d.ptr:To(d),this.ptr=xs(d),Qr(mr)[this.ptr]=this}function lr(d,g){Vt.prepare(),d=d&&"object"==typeof d?d.ptr:To(d),g&&"object"==typeof g&&(g=g.ptr),this.ptr=ar(d,g),Qr(lr)[this.ptr]=this}function Pr(d){d&&"object"==typeof d&&(d=d.ptr),this.ptr=Ee(d),Qr(Pr)[this.ptr]=this}return(oo.prototype=Object.create(Pn.prototype)).constructor=oo,oo.prototype.__class__=oo,oo.__cache__={},c.VoidPtr=oo,oo.prototype.__destroy__=oo.prototype.__destroy__=function(){Do(this.ptr)},(Tr.prototype=Object.create(Pn.prototype)).constructor=Tr,Tr.prototype.__class__=Tr,Tr.__cache__={},c.FileEntry=Tr,Tr.prototype.GetName=Tr.prototype.GetName=function(){return $e(Xr(this.ptr))},Tr.prototype.IsDirectory=Tr.prototype.IsDirectory=function(){return!!Io(this.ptr)},Tr.prototype.GetSize=Tr.prototype.GetSize=function(){return ci(this.ptr)},Tr.prototype.GetModifiedTS=Tr.prototype.GetModifiedTS=function(){return Cr(this.ptr)},Tr.prototype.GetAttributes=Tr.prototype.GetAttributes=function(){return Zi(this.ptr)},Tr.prototype.__destroy__=Tr.prototype.__destroy__=function(){Ra(this.ptr)},(fn.prototype=Object.create(Pn.prototype)).constructor=fn,fn.prototype.__class__=fn,fn.__cache__={},c.Vfs=fn,fn.prototype.Malloc=fn.prototype.Malloc=function(d){return d&&"object"==typeof d&&(d=d.ptr),An(wi(this.ptr,d),oo)},fn.prototype.Free=fn.prototype.Free=function(d){d&&"object"==typeof d&&(d=d.ptr),Fa(this.ptr,d)},fn.prototype.Nullptr=fn.prototype.Nullptr=function(){return An(Bs(this.ptr),oo)},fn.prototype.AllocateImage=fn.prototype.AllocateImage=function(d){d&&"object"==typeof d&&(d=d.ptr),Vs(this.ptr,d)},fn.prototype.MountImage=fn.prototype.MountImage=function(d){return d&&"object"==typeof d&&(d=d.ptr),!!ll(this.ptr,d)},fn.prototype.UnmountImage=fn.prototype.UnmountImage=function(d){d&&"object"==typeof d&&(d=d.ptr),cl(this.ptr,d)},fn.prototype.GetPendingImageSize=fn.prototype.GetPendingImageSize=function(){return ul(this.ptr)},fn.prototype.GetSize=fn.prototype.GetSize=function(d){return d&&"object"==typeof d&&(d=d.ptr),ta(this.ptr,d)},fn.prototype.GetPendingImage=fn.prototype.GetPendingImage=function(){return An(dl(this.ptr),oo)},fn.prototype.GetImage=fn.prototype.GetImage=function(d){return d&&"object"==typeof d&&(d=d.ptr),An(ko(this.ptr,d),oo)},fn.prototype.GetDirtyPages=fn.prototype.GetDirtyPages=function(d){return d&&"object"==typeof d&&(d=d.ptr),An(qn(this.ptr,d),oo)},fn.prototype.RenameFile=fn.prototype.RenameFile=function(d,g){var w=this.ptr;return Vt.prepare(),d=d&&"object"==typeof d?d.ptr:To(d),g=g&&"object"==typeof g?g.ptr:To(g),fl(w,d,g)},fn.prototype.ChmodFile=fn.prototype.ChmodFile=function(d,g,w){var R=this.ptr;return Vt.prepare(),d=d&&"object"==typeof d?d.ptr:To(d),g&&"object"==typeof g&&(g=g.ptr),w&&"object"==typeof w&&(w=w.ptr),pl(R,d,g,w)},fn.prototype.StatFile=fn.prototype.StatFile=function(d){var g=this.ptr;return Vt.prepare(),d=d&&"object"==typeof d?d.ptr:To(d),Xl(g,d)},fn.prototype.UnlinkFile=fn.prototype.UnlinkFile=function(d){var g=this.ptr;return Vt.prepare(),d=d&&"object"==typeof d?d.ptr:To(d),ht(g,d)},fn.prototype.GetEntry=fn.prototype.GetEntry=function(){return An(Us(this.ptr),Tr)},fn.prototype.BytesFree=fn.prototype.BytesFree=function(d){return d&&"object"==typeof d&&(d=d.ptr),_r(this.ptr,d)},fn.prototype.BytesTotal=fn.prototype.BytesTotal=function(d){return d&&"object"==typeof d&&(d=d.ptr),ms(this.ptr,d)},fn.prototype.ReadFile=fn.prototype.ReadFile=function(d){var g=this.ptr;return Vt.prepare(),d=d&&"object"==typeof d?d.ptr:To(d),!!na(g,d)},fn.prototype.GetCurrentFileSize=fn.prototype.GetCurrentFileSize=function(){return ro(this.ptr)},fn.prototype.GetCurrentFileContent=fn.prototype.GetCurrentFileContent=function(){return An(qi(this.ptr),oo)},fn.prototype.ReleaseCurrentFile=fn.prototype.ReleaseCurrentFile=function(){Ci(this.ptr)},fn.prototype.__destroy__=fn.prototype.__destroy__=function(){ra(this.ptr)},(mr.prototype=Object.create(Pn.prototype)).constructor=mr,mr.prototype.__class__=mr,mr.__cache__={},c.ReaddirContext=mr,mr.prototype.Next=mr.prototype.Next=function(){return js(this.ptr)},mr.prototype.GetEntry=mr.prototype.GetEntry=function(){return An(oa(this.ptr),Tr)},mr.prototype.GetStatus=mr.prototype.GetStatus=function(){return Oa(this.ptr)},mr.prototype.GetError=mr.prototype.GetError=function(){return kt(this.ptr)},mr.prototype.GetErrorDescription=mr.prototype.GetErrorDescription=function(){return $e(Hs(this.ptr))},mr.prototype.__destroy__=mr.prototype.__destroy__=function(){fo(this.ptr)},(lr.prototype=Object.create(Pn.prototype)).constructor=lr,lr.prototype.__class__=lr,lr.__cache__={},c.CreateZipContext=lr,lr.prototype.AddFile=lr.prototype.AddFile=function(d){var g=this.ptr;return Vt.prepare(),d=d&&"object"==typeof d?d.ptr:To(d),An(Zr(g,d),lr)},lr.prototype.AddDirectory=lr.prototype.AddDirectory=function(d){var g=this.ptr;return Vt.prepare(),d=d&&"object"==typeof d?d.ptr:To(d),An(xr(g,d),lr)},lr.prototype.Continue=lr.prototype.Continue=function(){return p(this.ptr)},lr.prototype.GetState=lr.prototype.GetState=function(){return y(this.ptr)},lr.prototype.GetZipContent=lr.prototype.GetZipContent=function(){return An(b(this.ptr),oo)},lr.prototype.GetZipSize=lr.prototype.GetZipSize=function(){return F(this.ptr)},lr.prototype.GetErrorItem=lr.prototype.GetErrorItem=function(){return $e(z(this.ptr))},lr.prototype.__destroy__=lr.prototype.__destroy__=function(){ve(this.ptr)},(Pr.prototype=Object.create(Pn.prototype)).constructor=Pr,Pr.prototype.__class__=Pr,Pr.__cache__={},c.DeleteRecursiveContext=Pr,Pr.prototype.AddFile=Pr.prototype.AddFile=function(d){var g=this.ptr;return Vt.prepare(),d=d&&"object"==typeof d?d.ptr:To(d),An(je(g,d),Pr)},Pr.prototype.AddDirectory=Pr.prototype.AddDirectory=function(d){var g=this.ptr;return Vt.prepare(),d=d&&"object"==typeof d?d.ptr:To(d),An(St(g,d),Pr)},Pr.prototype.Continue=Pr.prototype.Continue=function(){return dn(this.ptr)},Pr.prototype.GetState=Pr.prototype.GetState=function(){return xn(this.ptr)},Pr.prototype.GetFailingPath=Pr.prototype.GetFailingPath=function(){return $e(Rn(this.ptr))},Pr.prototype.__destroy__=Pr.prototype.__destroy__=function(){zt(this.ptr)},I.ready});Be.exports=Ge},5933:(Be,Ge,x)=>{"use strict";x.d(Ge,{c:()=>Le});var I=x(9259),c=x(2286);let re;const G=he=>he.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),X=he=>(void 0===re&&(re=void 0===he.style.animationName&&void 0!==he.style.webkitAnimationName?"-webkit-":""),re),L=(he,W,K)=>{const fe=W.startsWith("animation")?X(he):"";he.style.setProperty(fe+W,K)},U=(he,W)=>{const K=W.startsWith("animation")?X(he):"";he.style.removeProperty(K+W)},oe=[],Pe=(he=[],W)=>{if(void 0!==W){const K=Array.isArray(W)?W:[W];return[...he,...K]}return he},Le=he=>{let W,K,fe,Fe,de,it,$e,O,ye,tt,nt,ft,Re,le=[],we=[],Ie=[],Ye=!1,Me={},ne=[],Ue=[],Xe={},yt=0,cn=!1,We=!1,Ve=!0,q=!1,_e=!0,Tt=!1;const an=he,Qt=[],tn=[],Z=[],vn=[],hr=[],Jn=[],Oo=[],qr=[],gi=[],Fn=[],co="function"==typeof AnimationEffect||void 0!==c.w&&"function"==typeof c.w.AnimationEffect,jn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&co,Gr=()=>Fn,mn=(P,pe)=>((pe?.oneTimeCallback?tn:Qt).push({c:P,o:pe}),Re),Hi=()=>{if(jn)Fn.forEach(P=>{P.cancel()}),Fn.length=0;else{const P=Z.slice();(0,I.r)(()=>{P.forEach(pe=>{U(pe,"animation-name"),U(pe,"animation-duration"),U(pe,"animation-timing-function"),U(pe,"animation-iteration-count"),U(pe,"animation-delay"),U(pe,"animation-play-state"),U(pe,"animation-fill-mode"),U(pe,"animation-direction")})})}},Vr=()=>{hr.forEach(P=>{P?.parentNode&&P.parentNode.removeChild(P)}),hr.length=0},jt=()=>void 0!==de?de:$e?$e.getFill():"both",E=()=>void 0!==ye?ye:void 0!==it?it:$e?$e.getDirection():"normal",S=()=>cn?"linear":void 0!==fe?fe:$e?$e.getEasing():"linear",Kn=()=>We?0:void 0!==tt?tt:void 0!==K?K:$e?$e.getDuration():0,D=()=>void 0!==Fe?Fe:$e?$e.getIterations():1,Nn=()=>void 0!==nt?nt:void 0!==W?W:$e?$e.getDelay():0,vo=()=>{0!==yt&&(yt--,0===yt&&((()=>{dr(),qr.forEach(rt=>rt()),gi.forEach(rt=>rt());const P=Ve?1:0,pe=ne,ke=Ue,Qe=Xe;Z.forEach(rt=>{const xe=rt.classList;pe.forEach(Ht=>xe.add(Ht)),ke.forEach(Ht=>xe.remove(Ht));for(const Ht in Qe)Qe.hasOwnProperty(Ht)&&L(rt,Ht,Qe[Ht])}),Qt.forEach(rt=>rt.c(P,Re)),tn.forEach(rt=>rt.c(P,Re)),tn.length=0,_e=!0,Ve&&(q=!0),Ve=!0})(),$e&&$e.animationFinish()))},Wr=(P=!0)=>{Vr();const pe=(he=>(he.forEach(W=>{for(const K in W)if(W.hasOwnProperty(K)){const fe=W[K];if("easing"===K)W["animation-timing-function"]=fe,delete W[K];else{const Fe=G(K);Fe!==K&&(W[Fe]=fe,delete W[K])}}}),he))(le);Z.forEach(ke=>{if(pe.length>0){const Qe=((he=[])=>he.map(W=>{const K=W.offset,fe=[];for(const Fe in W)W.hasOwnProperty(Fe)&&"offset"!==Fe&&fe.push(`${Fe}: ${W[Fe]};`);return`${100*K}% { ${fe.join(" ")} }`}).join(" "))(pe);ft=void 0!==he?he:(he=>{let W=oe.indexOf(he);return W<0&&(W=oe.push(he)-1),`ion-animation-${W}`})(Qe);const rt=((he,W,K)=>{var fe;const Fe=(he=>{const W=void 0!==he.getRootNode?he.getRootNode():he;return W.head||W})(K),de=X(K),it=Fe.querySelector("#"+he);if(it)return it;const le=(null!==(fe=K.ownerDocument)&&void 0!==fe?fe:document).createElement("style");return le.id=he,le.textContent=`@${de}keyframes ${he} { ${W} } @${de}keyframes ${he}-alt { ${W} }`,Fe.appendChild(le),le})(ft,Qe,ke);hr.push(rt),L(ke,"animation-duration",`${Kn()}ms`),L(ke,"animation-timing-function",S()),L(ke,"animation-delay",`${Nn()}ms`),L(ke,"animation-fill-mode",jt()),L(ke,"animation-direction",E());const xe=D()===1/0?"infinite":D().toString();L(ke,"animation-iteration-count",xe),L(ke,"animation-play-state","paused"),P&&L(ke,"animation-name",`${rt.id}-alt`),(0,I.r)(()=>{L(ke,"animation-name",rt.id||null)})}})},Yo=(P=!0)=>{(()=>{Jn.forEach(Qe=>Qe()),Oo.forEach(Qe=>Qe());const P=we,pe=Ie,ke=Me;Z.forEach(Qe=>{const rt=Qe.classList;P.forEach(xe=>rt.add(xe)),pe.forEach(xe=>rt.remove(xe));for(const xe in ke)ke.hasOwnProperty(xe)&&L(Qe,xe,ke[xe])})})(),le.length>0&&(jn?(Z.forEach(P=>{const pe=P.animate(le,{id:an,delay:Nn(),duration:Kn(),easing:S(),iterations:D(),fill:jt(),direction:E()});pe.pause(),Fn.push(pe)}),Fn.length>0&&(Fn[0].onfinish=()=>{vo()})):Wr(P)),Ye=!0},Eo=P=>{if(P=Math.min(Math.max(P,0),.9999),jn)Fn.forEach(pe=>{pe.currentTime=pe.effect.getComputedTiming().delay+Kn()*P,pe.pause()});else{const pe=`-${Kn()*P}ms`;Z.forEach(ke=>{le.length>0&&(L(ke,"animation-delay",pe),L(ke,"animation-play-state","paused"))})}},no=P=>{Fn.forEach(pe=>{pe.effect.updateTiming({delay:Nn(),duration:Kn(),easing:S(),iterations:D(),fill:jt(),direction:E()})}),void 0!==P&&Eo(P)},Gi=(P=!0,pe)=>{(0,I.r)(()=>{Z.forEach(ke=>{L(ke,"animation-name",ft||null),L(ke,"animation-duration",`${Kn()}ms`),L(ke,"animation-timing-function",S()),L(ke,"animation-delay",void 0!==pe?`-${pe*Kn()}ms`:`${Nn()}ms`),L(ke,"animation-fill-mode",jt()||null),L(ke,"animation-direction",E()||null);const Qe=D()===1/0?"infinite":D().toString();L(ke,"animation-iteration-count",Qe),P&&L(ke,"animation-name",`${ft}-alt`),(0,I.r)(()=>{L(ke,"animation-name",ft||null)})})})},uo=(P=!1,pe=!0,ke)=>(P&&vn.forEach(Qe=>{Qe.update(P,pe,ke)}),jn?no(ke):Gi(pe,ke),Re),Wi=()=>{Ye&&(jn?Fn.forEach(P=>{P.pause()}):Z.forEach(P=>{L(P,"animation-play-state","paused")}),Tt=!0)},As=()=>{O=void 0,vo()},dr=()=>{O&&clearTimeout(O)},A=P=>new Promise(pe=>{P?.sync&&(We=!0,mn(()=>We=!1,{oneTimeCallback:!0})),Ye||Yo(),q&&(jn?(Eo(0),no()):Gi(),q=!1),_e&&(yt=vn.length+1,_e=!1),mn(()=>pe(),{oneTimeCallback:!0}),vn.forEach(ke=>{ke.play()}),jn?(Fn.forEach(P=>{P.play()}),(0===le.length||0===Z.length)&&vo()):(()=>{if(dr(),(0,I.r)(()=>{Z.forEach(P=>{le.length>0&&L(P,"animation-play-state","running")})}),0===le.length||0===Z.length)vo();else{const P=Nn()||0,pe=Kn()||0,ke=D()||1;isFinite(ke)&&(O=setTimeout(As,P+pe*ke+100)),((he,W)=>{let K;const fe={passive:!0},de=it=>{he===it.target&&(K&&K(),dr(),(0,I.r)(()=>{Z.forEach(P=>{U(P,"animation-duration"),U(P,"animation-delay"),U(P,"animation-play-state")}),(0,I.r)(vo)}))};he&&(he.addEventListener("webkitAnimationEnd",de,fe),he.addEventListener("animationend",de,fe),K=()=>{he.removeEventListener("webkitAnimationEnd",de,fe),he.removeEventListener("animationend",de,fe)})})(Z[0])}})(),Tt=!1}),ge=(P,pe)=>{const ke=le[0];return void 0===ke||void 0!==ke.offset&&0!==ke.offset?le=[{offset:0,[P]:pe},...le]:ke[P]=pe,Re};return Re={parentAnimation:$e,elements:Z,childAnimations:vn,id:an,animationFinish:vo,from:ge,to:(P,pe)=>{const ke=le[le.length-1];return void 0===ke||void 0!==ke.offset&&1!==ke.offset?le=[...le,{offset:1,[P]:pe}]:ke[P]=pe,Re},fromTo:(P,pe,ke)=>ge(P,pe).to(P,ke),parent:P=>($e=P,Re),play:A,pause:()=>(vn.forEach(P=>{P.pause()}),Wi(),Re),stop:()=>{vn.forEach(P=>{P.stop()}),Ye&&(Hi(),Ye=!1),cn=!1,We=!1,_e=!0,ye=void 0,tt=void 0,nt=void 0,yt=0,q=!1,Ve=!0,Tt=!1},destroy:P=>(vn.forEach(pe=>{pe.destroy(P)}),(P=>{Hi(),P&&Vr()})(P),Z.length=0,vn.length=0,le.length=0,Qt.length=0,tn.length=0,Ye=!1,_e=!0,Re),keyframes:P=>{const pe=le!==P;return le=P,pe&&(P=>{jn?Gr().forEach(pe=>{if(pe.effect.setKeyframes)pe.effect.setKeyframes(P);else{const ke=new KeyframeEffect(pe.effect.target,P,pe.effect.getTiming());pe.effect=ke}}):Wr()})(le),Re},addAnimation:P=>{if(null!=P)if(Array.isArray(P))for(const pe of P)pe.parent(Re),vn.push(pe);else P.parent(Re),vn.push(P);return Re},addElement:P=>{if(null!=P)if(1===P.nodeType)Z.push(P);else if(P.length>=0)for(let pe=0;pe<P.length;pe++)Z.push(P[pe]);else console.error("Invalid addElement value");return Re},update:uo,fill:P=>(de=P,uo(!0),Re),direction:P=>(it=P,uo(!0),Re),iterations:P=>(Fe=P,uo(!0),Re),duration:P=>(!jn&&0===P&&(P=1),K=P,uo(!0),Re),easing:P=>(fe=P,uo(!0),Re),delay:P=>(W=P,uo(!0),Re),getWebAnimations:Gr,getKeyframes:()=>le,getFill:jt,getDirection:E,getDelay:Nn,getIterations:D,getEasing:S,getDuration:Kn,afterAddRead:P=>(qr.push(P),Re),afterAddWrite:P=>(gi.push(P),Re),afterClearStyles:(P=[])=>{for(const pe of P)Xe[pe]="";return Re},afterStyles:(P={})=>(Xe=P,Re),afterRemoveClass:P=>(Ue=Pe(Ue,P),Re),afterAddClass:P=>(ne=Pe(ne,P),Re),beforeAddRead:P=>(Jn.push(P),Re),beforeAddWrite:P=>(Oo.push(P),Re),beforeClearStyles:(P=[])=>{for(const pe of P)Me[pe]="";return Re},beforeStyles:(P={})=>(Me=P,Re),beforeRemoveClass:P=>(Ie=Pe(Ie,P),Re),beforeAddClass:P=>(we=Pe(we,P),Re),onFinish:mn,isRunning:()=>0!==yt&&!Tt,progressStart:(P=!1,pe)=>(vn.forEach(ke=>{ke.progressStart(P,pe)}),Wi(),cn=P,Ye||Yo(),uo(!1,!0,pe),Re),progressStep:P=>(vn.forEach(pe=>{pe.progressStep(P)}),Eo(P),Re),progressEnd:(P,pe,ke)=>(cn=!1,vn.forEach(Qe=>{Qe.progressEnd(P,pe,ke)}),void 0!==ke&&(tt=ke),q=!1,Ve=!0,0===P?(ye="reverse"===E()?"normal":"reverse","reverse"===ye&&(Ve=!1),jn?(uo(),Eo(1-pe)):(nt=(1-pe)*Kn()*-1,uo(!1,!1))):1===P&&(jn?(uo(),Eo(pe)):(nt=pe*Kn()*-1,uo(!1,!1))),void 0!==P&&(mn(()=>{tt=void 0,ye=void 0,nt=void 0},{oneTimeCallback:!0}),$e||A()),Re)}}},6379:(Be,Ge,x)=>{"use strict";x.d(Ge,{G:()=>G});class c{constructor(L,U,ce,Y,oe){this.id=U,this.name=ce,this.disableScroll=oe,this.priority=1e6*Y+U,this.ctrl=L}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const L=this.ctrl.capture(this.name,this.id,this.priority);return L&&this.disableScroll&&this.ctrl.disableScroll(this.id),L}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class re{constructor(L,U,ce,Y){this.id=U,this.disable=ce,this.disableScroll=Y,this.ctrl=L}block(){if(this.ctrl){if(this.disable)for(const L of this.disable)this.ctrl.disableGesture(L,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const L of this.disable)this.ctrl.enableGesture(L,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const J="backdrop-no-scroll",G=new class I{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(L){var U;return new c(this,this.newID(),L.name,null!==(U=L.priority)&&void 0!==U?U:0,!!L.disableScroll)}createBlocker(L={}){return new re(this,this.newID(),L.disable,!!L.disableScroll)}start(L,U,ce){return this.canStart(L)?(this.requestedStart.set(U,ce),!0):(this.requestedStart.delete(U),!1)}capture(L,U,ce){if(!this.start(L,U,ce))return!1;const Y=this.requestedStart;let oe=-1e4;if(Y.forEach(B=>{oe=Math.max(oe,B)}),oe===ce){this.capturedId=U,Y.clear();const B=new CustomEvent("ionGestureCaptured",{detail:{gestureName:L}});return document.dispatchEvent(B),!0}return Y.delete(U),!1}release(L){this.requestedStart.delete(L),this.capturedId===L&&(this.capturedId=void 0)}disableGesture(L,U){let ce=this.disabledGestures.get(L);void 0===ce&&(ce=new Set,this.disabledGestures.set(L,ce)),ce.add(U)}enableGesture(L,U){const ce=this.disabledGestures.get(L);void 0!==ce&&ce.delete(U)}disableScroll(L){this.disabledScroll.add(L),1===this.disabledScroll.size&&document.body.classList.add(J)}enableScroll(L){this.disabledScroll.delete(L),0===this.disabledScroll.size&&document.body.classList.remove(J)}canStart(L){return!(void 0!==this.capturedId||this.isDisabled(L))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(L){const U=this.disabledGestures.get(L);return!!(U&&U.size>0)}newID(){return this.gestureId++,this.gestureId}}},159:(Be,Ge,x)=>{"use strict";x.r(Ge),x.d(Ge,{MENU_BACK_BUTTON_PRIORITY:()=>G,OVERLAY_BACK_BUTTON_PRIORITY:()=>J,blockHardwareBackButton:()=>c,startHardwareBackButton:()=>re});var I=x(3918);const c=()=>{document.addEventListener("backbutton",()=>{})},re=()=>{const X=document;let L=!1;X.addEventListener("backbutton",()=>{if(L)return;let U=0,ce=[];const Y=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register($,H){ce.push({priority:$,handler:H,id:U++})}}});X.dispatchEvent(Y);const oe=function(){var $=(0,I.Z)(function*(H){try{if(H?.handler){const Pe=H.handler(B);null!=Pe&&(yield Pe)}}catch(Pe){console.error(Pe)}});return function(Pe){return $.apply(this,arguments)}}(),B=()=>{if(ce.length>0){let $={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};ce.forEach(H=>{H.priority>=$.priority&&($=H)}),L=!0,ce=ce.filter(H=>H.id!==$.id),oe($).then(()=>L=!1)}};B()})},J=100,G=99},9259:(Be,Ge,x)=>{"use strict";x.d(Ge,{a:()=>L,b:()=>U,c:()=>re,d:()=>H,e:()=>Pe,f:()=>$,g:()=>ce,h:()=>Fe,i:()=>X,j:()=>J,k:()=>B,l:()=>Le,m:()=>oe,n:()=>he,o:()=>fe,p:()=>K,q:()=>de,r:()=>Y,s:()=>it,t:()=>I,u:()=>W});const I=(le,we=0)=>new Promise(Ie=>{c(le,we,Ie)}),c=(le,we=0,Ie)=>{let Ye,$e;const Me={passive:!0},Ue=()=>{Ye&&Ye()},Xe=yt=>{(void 0===yt||le===yt.target)&&(Ue(),Ie(yt))};return le&&(le.addEventListener("webkitTransitionEnd",Xe,Me),le.addEventListener("transitionend",Xe,Me),$e=setTimeout(Xe,we+500),Ye=()=>{$e&&(clearTimeout($e),$e=void 0),le.removeEventListener("webkitTransitionEnd",Xe,Me),le.removeEventListener("transitionend",Xe,Me)}),Ue},re=(le,we)=>{le.componentOnReady?le.componentOnReady().then(Ie=>we(Ie)):Y(()=>we(le))},J=(le,we=[])=>{const Ie={};return we.forEach(Ye=>{le.hasAttribute(Ye)&&(null!==le.getAttribute(Ye)&&(Ie[Ye]=le.getAttribute(Ye)),le.removeAttribute(Ye))}),Ie},G=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],X=(le,we)=>{let Ie=G;return we&&we.length>0&&(Ie=Ie.filter(Ye=>!we.includes(Ye))),J(le,Ie)},L=(le,we,Ie,Ye)=>{var $e;if(typeof window<"u"){const ne=null===($e=window?.Ionic)||void 0===$e?void 0:$e.config;if(ne){const Ue=ne.get("_ael");if(Ue)return Ue(le,we,Ie,Ye);if(ne._ael)return ne._ael(le,we,Ie,Ye)}}return le.addEventListener(we,Ie,Ye)},U=(le,we,Ie,Ye)=>{var $e;if(typeof window<"u"){const ne=null===($e=window?.Ionic)||void 0===$e?void 0:$e.config;if(ne){const Ue=ne.get("_rel");if(Ue)return Ue(le,we,Ie,Ye);if(ne._rel)return ne._rel(le,we,Ie,Ye)}}return le.removeEventListener(we,Ie,Ye)},ce=(le,we=le)=>le.shadowRoot||we,Y=le=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(le):"function"==typeof requestAnimationFrame?requestAnimationFrame(le):setTimeout(le),oe=le=>!!le.shadowRoot&&!!le.attachShadow,B=le=>{const we=le.closest("ion-item");return we?we.querySelector("ion-label"):null},$=le=>{if(le.focus(),le.classList.contains("ion-focusable")){const we=le.closest("ion-app");we&&we.setFocus([le])}},H=(le,we)=>{let Ie;const Ye=le.getAttribute("aria-labelledby"),$e=le.id;let Me=null!==Ye&&""!==Ye.trim()?Ye:we+"-lbl",ne=null!==Ye&&""!==Ye.trim()?document.getElementById(Ye):B(le);return ne?(null===Ye&&(ne.id=Me),Ie=ne.textContent,ne.setAttribute("aria-hidden","true")):""!==$e.trim()&&(ne=document.querySelector(`label[for="${$e}"]`),ne&&(""!==ne.id?Me=ne.id:ne.id=Me=`${$e}-lbl`,Ie=ne.textContent)),{label:ne,labelId:Me,labelText:Ie}},Pe=(le,we,Ie,Ye,$e)=>{if(le||oe(we)){let Me=we.querySelector("input.aux-input");Me||(Me=we.ownerDocument.createElement("input"),Me.type="hidden",Me.classList.add("aux-input"),we.appendChild(Me)),Me.disabled=$e,Me.name=Ie,Me.value=Ye||""}},Le=(le,we,Ie)=>Math.max(le,Math.min(we,Ie)),he=(le,we)=>{if(!le){const Ie="ASSERT: "+we;throw console.error(Ie),new Error(Ie)}},W=le=>le.timeStamp||Date.now(),K=le=>{if(le){const we=le.changedTouches;if(we&&we.length>0){const Ie=we[0];return{x:Ie.clientX,y:Ie.clientY}}if(void 0!==le.pageX)return{x:le.pageX,y:le.pageY}}return{x:0,y:0}},fe=le=>{const we="rtl"===document.dir;switch(le){case"start":return we;case"end":return!we;default:throw new Error(`"${le}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Fe=(le,we)=>{const Ie=le._original||le;return{_original:le,emit:de(Ie.emit.bind(Ie),we)}},de=(le,we=0)=>{let Ie;return(...Ye)=>{clearTimeout(Ie),Ie=setTimeout(le,we,...Ye)}},it=(le,we)=>{if(le??(le={}),we??(we={}),le===we)return!0;const Ie=Object.keys(le);if(Ie.length!==Object.keys(we).length)return!1;for(const Ye of Ie)if(!(Ye in we)||le[Ye]!==we[Ye])return!1;return!0}},919:(Be,Ge,x)=>{"use strict";x.d(Ge,{L:()=>J,a:()=>G,b:()=>X,c:()=>L,d:()=>U,e:()=>we,g:()=>$e,l:()=>it,s:()=>Ie,t:()=>oe});var I=x(3918),c=x(1559),re=x(9259);const J="ionViewWillEnter",G="ionViewDidEnter",X="ionViewWillLeave",L="ionViewDidLeave",U="ionViewWillUnload",oe=Me=>new Promise((ne,Ue)=>{(0,c.c)(()=>{B(Me),$(Me).then(Xe=>{Xe.animation&&Xe.animation.destroy(),H(Me),ne(Xe)},Xe=>{H(Me),Ue(Xe)})})}),B=Me=>{const ne=Me.enteringEl,Ue=Me.leavingEl;Ye(ne,Ue,Me.direction),Me.showGoBack?ne.classList.add("can-go-back"):ne.classList.remove("can-go-back"),Ie(ne,!1),ne.style.setProperty("pointer-events","none"),Ue&&(Ie(Ue,!1),Ue.style.setProperty("pointer-events","none"))},$=function(){var Me=(0,I.Z)(function*(ne){const Ue=yield Pe(ne);return Ue&&c.B.isBrowser?Le(Ue,ne):he(ne)});return function(Ue){return Me.apply(this,arguments)}}(),H=Me=>{const ne=Me.enteringEl,Ue=Me.leavingEl;ne.classList.remove("ion-page-invisible"),ne.style.removeProperty("pointer-events"),void 0!==Ue&&(Ue.classList.remove("ion-page-invisible"),Ue.style.removeProperty("pointer-events"))},Pe=function(){var Me=(0,I.Z)(function*(ne){return ne.leavingEl&&ne.animated&&0!==ne.duration?ne.animationBuilder?ne.animationBuilder:"ios"===ne.mode?(yield Promise.resolve().then(x.bind(x,9078))).iosTransitionAnimation:(yield Promise.resolve().then(x.bind(x,4199))).mdTransitionAnimation:void 0});return function(Ue){return Me.apply(this,arguments)}}(),Le=function(){var Me=(0,I.Z)(function*(ne,Ue){yield W(Ue,!0);const Xe=ne(Ue.baseEl,Ue);Fe(Ue.enteringEl,Ue.leavingEl);const yt=yield fe(Xe,Ue);return Ue.progressCallback&&Ue.progressCallback(void 0),yt&&de(Ue.enteringEl,Ue.leavingEl),{hasCompleted:yt,animation:Xe}});return function(Ue,Xe){return Me.apply(this,arguments)}}(),he=function(){var Me=(0,I.Z)(function*(ne){const Ue=ne.enteringEl,Xe=ne.leavingEl;return yield W(ne,!1),Fe(Ue,Xe),de(Ue,Xe),{hasCompleted:!0}});return function(Ue){return Me.apply(this,arguments)}}(),W=function(){var Me=(0,I.Z)(function*(ne,Ue){const yt=(void 0!==ne.deepWait?ne.deepWait:Ue)?[we(ne.enteringEl),we(ne.leavingEl)]:[le(ne.enteringEl),le(ne.leavingEl)];yield Promise.all(yt),yield K(ne.viewIsReady,ne.enteringEl)});return function(Ue,Xe){return Me.apply(this,arguments)}}(),K=function(){var Me=(0,I.Z)(function*(ne,Ue){ne&&(yield ne(Ue))});return function(Ue,Xe){return Me.apply(this,arguments)}}(),fe=(Me,ne)=>{const Ue=ne.progressCallback,Xe=new Promise(yt=>{Me.onFinish(cn=>yt(1===cn))});return Ue?(Me.progressStart(!0),Ue(Me)):Me.play(),Xe},Fe=(Me,ne)=>{it(ne,X),it(Me,J)},de=(Me,ne)=>{it(Me,G),it(ne,L)},it=(Me,ne)=>{if(Me){const Ue=new CustomEvent(ne,{bubbles:!1,cancelable:!1});Me.dispatchEvent(Ue)}},le=Me=>Me?new Promise(ne=>(0,re.c)(Me,ne)):Promise.resolve(),we=function(){var Me=(0,I.Z)(function*(ne){const Ue=ne;if(Ue){if(null!=Ue.componentOnReady){if(null!=(yield Ue.componentOnReady()))return}else if(null!=Ue.__registerHost)return void(yield new Promise(yt=>(0,re.r)(yt)));yield Promise.all(Array.from(Ue.children).map(we))}});return function(Ue){return Me.apply(this,arguments)}}(),Ie=(Me,ne)=>{ne?(Me.setAttribute("aria-hidden","true"),Me.classList.add("ion-page-hidden")):(Me.hidden=!1,Me.removeAttribute("aria-hidden"),Me.classList.remove("ion-page-hidden"))},Ye=(Me,ne,Ue)=>{void 0!==Me&&(Me.style.zIndex="back"===Ue?"99":"101"),void 0!==ne&&(ne.style.zIndex="100")},$e=Me=>Me.classList.contains("ion-page")?Me:Me.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Me},7351:(Be,Ge,x)=>{"use strict";x.d(Ge,{m:()=>oe});var I=x(3918),c=x(159),re=x(9259),J=x(5823),G=x(5933);const X=B=>(0,G.c)().duration(B?400:300),L=B=>{let $,H;const Pe=B.width+8,Le=(0,G.c)(),he=(0,G.c)();B.isEndSide?($=Pe+"px",H="0px"):($=-Pe+"px",H="0px"),Le.addElement(B.menuInnerEl).fromTo("transform",`translateX(${$})`,`translateX(${H})`);const K="ios"===(0,J.b)(B),fe=K?.2:.25;return he.addElement(B.backdropEl).fromTo("opacity",.01,fe),X(K).addAnimation([Le,he])},U=B=>{let $,H;const Pe=(0,J.b)(B),Le=B.width;B.isEndSide?($=-Le+"px",H=Le+"px"):($=Le+"px",H=-Le+"px");const he=(0,G.c)().addElement(B.menuInnerEl).fromTo("transform",`translateX(${H})`,"translateX(0px)"),W=(0,G.c)().addElement(B.contentEl).fromTo("transform","translateX(0px)",`translateX(${$})`),K=(0,G.c)().addElement(B.backdropEl).fromTo("opacity",.01,.32);return X("ios"===Pe).addAnimation([he,W,K])},ce=B=>{const $=(0,J.b)(B),H=B.width*(B.isEndSide?-1:1)+"px",Pe=(0,G.c)().addElement(B.contentEl).fromTo("transform","translateX(0px)",`translateX(${H})`);return X("ios"===$).addAnimation(Pe)},oe=(()=>{const B=new Map,$=[],H=function(){var O=(0,I.Z)(function*(ye){const tt=yield Fe(ye);return!!tt&&tt.open()});return function(tt){return O.apply(this,arguments)}}(),Pe=function(){var O=(0,I.Z)(function*(ye){const tt=yield void 0!==ye?Fe(ye):de();return void 0!==tt&&tt.close()});return function(tt){return O.apply(this,arguments)}}(),Le=function(){var O=(0,I.Z)(function*(ye){const tt=yield Fe(ye);return!!tt&&tt.toggle()});return function(tt){return O.apply(this,arguments)}}(),he=function(){var O=(0,I.Z)(function*(ye,tt){const nt=yield Fe(tt);return nt&&(nt.disabled=!ye),nt});return function(tt,nt){return O.apply(this,arguments)}}(),W=function(){var O=(0,I.Z)(function*(ye,tt){const nt=yield Fe(tt);return nt&&(nt.swipeGesture=ye),nt});return function(tt,nt){return O.apply(this,arguments)}}(),K=function(){var O=(0,I.Z)(function*(ye){if(null!=ye){const tt=yield Fe(ye);return void 0!==tt&&tt.isOpen()}return void 0!==(yield de())});return function(tt){return O.apply(this,arguments)}}(),fe=function(){var O=(0,I.Z)(function*(ye){const tt=yield Fe(ye);return!!tt&&!tt.disabled});return function(tt){return O.apply(this,arguments)}}(),Fe=function(){var O=(0,I.Z)(function*(ye){return yield We(),"start"===ye||"end"===ye?cn(Ve=>Ve.side===ye&&!Ve.disabled)||cn(Ve=>Ve.side===ye):null!=ye?cn(nt=>nt.menuId===ye):cn(nt=>!nt.disabled)||($.length>0?$[0].el:void 0)});return function(tt){return O.apply(this,arguments)}}(),de=function(){var O=(0,I.Z)(function*(){return yield We(),Ue()});return function(){return O.apply(this,arguments)}}(),it=function(){var O=(0,I.Z)(function*(){return yield We(),Xe()});return function(){return O.apply(this,arguments)}}(),le=function(){var O=(0,I.Z)(function*(){return yield We(),yt()});return function(){return O.apply(this,arguments)}}(),we=(O,ye)=>{B.set(O,ye)},$e=O=>{const ye=O.side;$.filter(tt=>tt.side===ye&&tt!==O).forEach(tt=>tt.disabled=!0)},Me=function(){var O=(0,I.Z)(function*(ye,tt,nt){if(yt())return!1;if(tt){const Ve=yield de();Ve&&ye.el!==Ve&&(yield Ve.setOpen(!1,!1))}return ye._setOpen(tt,nt)});return function(tt,nt,Ve){return O.apply(this,arguments)}}(),Ue=()=>cn(O=>O._isOpen),Xe=()=>$.map(O=>O.el),yt=()=>$.some(O=>O.isAnimating),cn=O=>{const ye=$.find(O);if(void 0!==ye)return ye.el},We=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(O=>new Promise(ye=>(0,re.c)(O,ye))));return we("reveal",ce),we("push",U),we("overlay",L),typeof document<"u"&&document.addEventListener("ionBackButton",O=>{const ye=Ue();ye&&O.detail.register(c.MENU_BACK_BUTTON_PRIORITY,()=>ye.close())}),{registerAnimation:we,get:Fe,getMenus:it,getOpen:de,isEnabled:fe,swipeGesture:W,isAnimating:le,isOpen:K,enable:he,toggle:Le,close:Pe,open:H,_getOpenSync:Ue,_createAnimation:(O,ye)=>{const tt=B.get(O);if(!tt)throw new Error("animation not registered");return tt(ye)},_register:O=>{$.indexOf(O)<0&&(O.disabled||$e(O),$.push(O))},_unregister:O=>{const ye=$.indexOf(O);ye>-1&&$.splice(ye,1)},_setOpen:Me,_setActiveMenu:$e}})()},2286:(Be,Ge,x)=>{"use strict";x.d(Ge,{w:()=>I});const I=typeof window<"u"?window:void 0},8759:(Be,Ge,x)=>{"use strict";x.r(Ge),x.d(Ge,{GESTURE_CONTROLLER:()=>I.G,createGesture:()=>ce});var I=x(6379);const c=($,H,Pe,Le)=>{const he=re($)?{capture:!!Le.capture,passive:!!Le.passive}:!!Le.capture;let W,K;return $.__zone_symbol__addEventListener?(W="__zone_symbol__addEventListener",K="__zone_symbol__removeEventListener"):(W="addEventListener",K="removeEventListener"),$[W](H,Pe,he),()=>{$[K](H,Pe,he)}},re=$=>{if(void 0===J)try{const H=Object.defineProperty({},"passive",{get:()=>{J=!0}});$.addEventListener("optsTest",()=>{},H)}catch{J=!1}return!!J};let J;const L=$=>$ instanceof Document?$:$.ownerDocument,ce=$=>{let H=!1,Pe=!1,Le=!0,he=!1;const W=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},$),K=W.canStart,fe=W.onWillStart,Fe=W.onStart,de=W.onEnd,it=W.notCaptured,le=W.onMove,we=W.threshold,Ie=W.passive,Ye=W.blurOnStart,$e={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Me=(($,H,Pe)=>{const Le=Pe*(Math.PI/180),he="x"===$,W=Math.cos(Le),K=H*H;let fe=0,Fe=0,de=!1,it=0;return{start(le,we){fe=le,Fe=we,it=0,de=!0},detect(le,we){if(!de)return!1;const Ie=le-fe,Ye=we-Fe,$e=Ie*Ie+Ye*Ye;if($e<K)return!1;const Me=Math.sqrt($e),ne=(he?Ie:Ye)/Me;return it=ne>W?1:ne<-W?-1:0,de=!1,!0},isGesture:()=>0!==it,getDirection:()=>it}})(W.direction,W.threshold,W.maxAngle),ne=I.G.createGesture({name:$.gestureName,priority:$.gesturePriority,disableScroll:$.disableScroll}),yt=()=>{H&&(he=!1,le&&le($e))},cn=()=>!!ne.capture()&&(H=!0,Le=!1,$e.startX=$e.currentX,$e.startY=$e.currentY,$e.startTime=$e.currentTime,fe?fe($e).then(O):O(),!0),O=()=>{Ye&&(()=>{if(typeof document<"u"){const q=document.activeElement;q?.blur&&q.blur()}})(),Fe&&Fe($e),Le=!0},ye=()=>{H=!1,Pe=!1,he=!1,Le=!0,ne.release()},tt=q=>{const _e=H,ft=Le;if(ye(),ft){if(Y($e,q),_e)return void(de&&de($e));it&&it($e)}},nt=(($,H,Pe,Le,he)=>{let W,K,fe,Fe,de,it,le,we=0;const Ie=We=>{we=Date.now()+2e3,H(We)&&(!K&&Pe&&(K=c($,"touchmove",Pe,he)),fe||(fe=c(We.target,"touchend",$e,he)),Fe||(Fe=c(We.target,"touchcancel",$e,he)))},Ye=We=>{we>Date.now()||H(We)&&(!it&&Pe&&(it=c(L($),"mousemove",Pe,he)),le||(le=c(L($),"mouseup",Me,he)))},$e=We=>{ne(),Le&&Le(We)},Me=We=>{Ue(),Le&&Le(We)},ne=()=>{K&&K(),fe&&fe(),Fe&&Fe(),K=fe=Fe=void 0},Ue=()=>{it&&it(),le&&le(),it=le=void 0},Xe=()=>{ne(),Ue()},yt=(We=!0)=>{We?(W||(W=c($,"touchstart",Ie,he)),de||(de=c($,"mousedown",Ye,he))):(W&&W(),de&&de(),W=de=void 0,Xe())};return{enable:yt,stop:Xe,destroy:()=>{yt(!1),Le=Pe=H=void 0}}})(W.el,q=>{const _e=B(q);return!(Pe||!Le||(oe(q,$e),$e.startX=$e.currentX,$e.startY=$e.currentY,$e.startTime=$e.currentTime=_e,$e.velocityX=$e.velocityY=$e.deltaX=$e.deltaY=0,$e.event=q,K&&!1===K($e))||(ne.release(),!ne.start()))&&(Pe=!0,0===we?cn():(Me.start($e.startX,$e.startY),!0))},q=>{H?!he&&Le&&(he=!0,Y($e,q),requestAnimationFrame(yt)):(Y($e,q),Me.detect($e.currentX,$e.currentY)&&(!Me.isGesture()||!cn())&&Ve())},tt,{capture:!1,passive:Ie}),Ve=()=>{ye(),nt.stop(),it&&it($e)};return{enable(q=!0){q||(H&&tt(void 0),ye()),nt.enable(q)},destroy(){ne.destroy(),nt.destroy()}}},Y=($,H)=>{if(!H)return;const Pe=$.currentX,Le=$.currentY,he=$.currentTime;oe(H,$);const W=$.currentX,K=$.currentY,Fe=($.currentTime=B(H))-he;if(Fe>0&&Fe<100){const it=(K-Le)/Fe;$.velocityX=(W-Pe)/Fe*.7+.3*$.velocityX,$.velocityY=.7*it+.3*$.velocityY}$.deltaX=W-$.startX,$.deltaY=K-$.startY,$.event=H},oe=($,H)=>{let Pe=0,Le=0;if($){const he=$.changedTouches;if(he&&he.length>0){const W=he[0];Pe=W.clientX,Le=W.clientY}else void 0!==$.pageX&&(Pe=$.pageX,Le=$.pageY)}H.currentX=Pe,H.currentY=Le},B=$=>$.timeStamp||Date.now()},1559:(Be,Ge,x)=>{"use strict";x.d(Ge,{B:()=>nr,H:()=>Z,a:()=>Ve,b:()=>si,c:()=>Ri,e:()=>Zt,f:()=>hs,g:()=>q,h:()=>Qt,i:()=>Bn,j:()=>E,k:()=>Ko,p:()=>Le,r:()=>zi,s:()=>H});var I=x(3918);let re,J,G,X=!1,L=!1,U=!1,ce=!1,Y=!1;const oe=typeof window<"u"?window:{},B=oe.document||{head:{}},$={$flags$:0,$resourcesUrl$:"",jmp:A=>A(),raf:A=>requestAnimationFrame(A),ael:(A,N,ge,Se)=>A.addEventListener(N,ge,Se),rel:(A,N,ge,Se)=>A.removeEventListener(N,ge,Se),ce:(A,N)=>new CustomEvent(A,N)},H=A=>{Object.assign($,A)},Le=A=>Promise.resolve(A),he=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),W=(A,N,ge,Se)=>{ge&&ge.map(([Oe,P,pe])=>{const ke=fe(A,Oe),Qe=K(N,pe),rt=Fe(Oe);$.ael(ke,P,Qe,rt),(N.$rmListeners$=N.$rmListeners$||[]).push(()=>$.rel(ke,P,Qe,rt))})},K=(A,N)=>ge=>{try{256&A.$flags$?A.$lazyInstance$[N](ge):(A.$queuedListeners$=A.$queuedListeners$||[]).push([N,ge])}catch(Se){no(Se)}},fe=(A,N)=>4&N?B:8&N?oe:16&N?B.body:A,Fe=A=>0!=(2&A),Ie="s-id",Ye="sty-id",ne="http://www.w3.org/1999/xlink",yt=new WeakMap,cn=(A,N,ge)=>{let Se=bi.get(A);he&&ge?(Se=Se||new CSSStyleSheet,"string"==typeof Se?Se=N:Se.replaceSync(N)):Se=N,bi.set(A,Se)},We=(A,N,ge,Se)=>{let Oe=ye(N,ge);const P=bi.get(Oe);if(A=11===A.nodeType?A:B,P)if("string"==typeof P){let ke,pe=yt.get(A=A.head||A);pe||yt.set(A,pe=new Set),pe.has(Oe)||(A.host&&(ke=A.querySelector(`[${Ye}="${Oe}"]`))?ke.innerHTML=P:(ke=B.createElement("style"),ke.innerHTML=P,A.insertBefore(ke,A.querySelector("link"))),pe&&pe.add(Oe))}else A.adoptedStyleSheets.includes(P)||(A.adoptedStyleSheets=[...A.adoptedStyleSheets,P]);return Oe},ye=(A,N)=>"sc-"+(N&&32&A.$flags$?A.$tagName$+"-"+N:A.$tagName$),tt=A=>A.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Ve=A=>ps.push(A),q=A=>Wr(A).$modeName$,_e={},an=A=>"object"==(A=typeof A)||"function"===A,Qt=(A,N,...ge)=>{let Se=null,Oe=null,P=null,pe=!1,ke=!1;const Qe=[],rt=Ht=>{for(let Ct=0;Ct<Ht.length;Ct++)Se=Ht[Ct],Array.isArray(Se)?rt(Se):null!=Se&&"boolean"!=typeof Se&&((pe="function"!=typeof A&&!an(Se))&&(Se=String(Se)),pe&&ke?Qe[Qe.length-1].$text$+=Se:Qe.push(pe?tn(null,Se):Se),ke=pe)};if(rt(ge),N){N.key&&(Oe=N.key),N.name&&(P=N.name);{const Ht=N.className||N.class;Ht&&(N.class="object"!=typeof Ht?Ht:Object.keys(Ht).filter(Ct=>Ht[Ct]).join(" "))}}if("function"==typeof A)return A(null===N?{}:N,Qe,hr);const xe=tn(A,null);return xe.$attrs$=N,Qe.length>0&&(xe.$children$=Qe),xe.$key$=Oe,xe.$name$=P,xe},tn=(A,N)=>({$flags$:0,$tag$:A,$text$:N,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Z={},hr={forEach:(A,N)=>A.map(Jn).forEach(N),map:(A,N)=>A.map(Jn).map(N).map(Oo)},Jn=A=>({vattrs:A.$attrs$,vchildren:A.$children$,vkey:A.$key$,vname:A.$name$,vtag:A.$tag$,vtext:A.$text$}),Oo=A=>{if("function"==typeof A.vtag){const ge=Object.assign({},A.vattrs);return A.vkey&&(ge.key=A.vkey),A.vname&&(ge.name=A.vname),Qt(A.vtag,ge,...A.vchildren||[])}const N=tn(A.vtag,A.vtext);return N.$attrs$=A.vattrs,N.$children$=A.vchildren,N.$key$=A.vkey,N.$name$=A.vname,N},qr=(A,N,ge,Se,Oe,P)=>{if(ge!==Se){let pe=Eo(A,N),ke=N.toLowerCase();if("class"===N){const Qe=A.classList,rt=Fn(ge),xe=Fn(Se);Qe.remove(...rt.filter(Ht=>Ht&&!xe.includes(Ht))),Qe.add(...xe.filter(Ht=>Ht&&!rt.includes(Ht)))}else if("style"===N){for(const Qe in ge)(!Se||null==Se[Qe])&&(Qe.includes("-")?A.style.removeProperty(Qe):A.style[Qe]="");for(const Qe in Se)(!ge||Se[Qe]!==ge[Qe])&&(Qe.includes("-")?A.style.setProperty(Qe,Se[Qe]):A.style[Qe]=Se[Qe])}else if("key"!==N)if("ref"===N)Se&&Se(A);else if(pe||"o"!==N[0]||"n"!==N[1]){const Qe=an(Se);if((pe||Qe&&null!==Se)&&!Oe)try{if(A.tagName.includes("-"))A[N]=Se;else{const xe=Se??"";"list"===N?pe=!1:(null==ge||A[N]!=xe)&&(A[N]=xe)}}catch{}let rt=!1;ke!==(ke=ke.replace(/^xlink\:?/,""))&&(N=ke,rt=!0),null==Se||!1===Se?(!1!==Se||""===A.getAttribute(N))&&(rt?A.removeAttributeNS(ne,N):A.removeAttribute(N)):(!pe||4&P||Oe)&&!Qe&&(Se=!0===Se?"":Se,rt?A.setAttributeNS(ne,N,Se):A.setAttribute(N,Se))}else N="-"===N[2]?N.slice(3):Eo(oe,ke)?ke.slice(2):ke[2]+N.slice(3),ge&&$.rel(A,N,ge,!1),Se&&$.ael(A,N,Se,!1)}},gi=/\s/,Fn=A=>A?A.split(gi):[],co=(A,N,ge,Se)=>{const Oe=11===N.$elm$.nodeType&&N.$elm$.host?N.$elm$.host:N.$elm$,P=A&&A.$attrs$||_e,pe=N.$attrs$||_e;for(Se in P)Se in pe||qr(Oe,Se,P[Se],void 0,ge,N.$flags$);for(Se in pe)qr(Oe,Se,P[Se],pe[Se],ge,N.$flags$)},jn=(A,N,ge,Se)=>{const Oe=N.$children$[ge];let pe,ke,Qe,P=0;if(X||(U=!0,"slot"===Oe.$tag$&&(re&&Se.classList.add(re+"-s"),Oe.$flags$|=Oe.$children$?2:1)),null!==Oe.$text$)pe=Oe.$elm$=B.createTextNode(Oe.$text$);else if(1&Oe.$flags$)pe=Oe.$elm$=B.createTextNode("");else{if(ce||(ce="svg"===Oe.$tag$),pe=Oe.$elm$=B.createElementNS(ce?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Oe.$flags$?"slot-fb":Oe.$tag$),ce&&"foreignObject"===Oe.$tag$&&(ce=!1),co(null,Oe,ce),(A=>null!=A)(re)&&pe["s-si"]!==re&&pe.classList.add(pe["s-si"]=re),Oe.$children$)for(P=0;P<Oe.$children$.length;++P)ke=jn(A,Oe,P,pe),ke&&pe.appendChild(ke);"svg"===Oe.$tag$?ce=!1:"foreignObject"===pe.tagName&&(ce=!0)}return pe["s-hn"]=G,3&Oe.$flags$&&(pe["s-sr"]=!0,pe["s-cr"]=J,pe["s-sn"]=Oe.$name$||"",Qe=A&&A.$children$&&A.$children$[ge],Qe&&Qe.$tag$===Oe.$tag$&&A.$elm$&&yi(A.$elm$,!1)),pe},yi=(A,N)=>{$.$flags$|=1;const ge=A.childNodes;for(let Se=ge.length-1;Se>=0;Se--){const Oe=ge[Se];Oe["s-hn"]!==G&&Oe["s-ol"]&&(mn(Oe).insertBefore(Oe,eo(Oe)),Oe["s-ol"].remove(),Oe["s-ol"]=void 0,U=!0),N&&yi(Oe,N)}$.$flags$&=-2},Gr=(A,N,ge,Se,Oe,P)=>{let ke,pe=A["s-cr"]&&A["s-cr"].parentNode||A;for(pe.shadowRoot&&pe.tagName===G&&(pe=pe.shadowRoot);Oe<=P;++Oe)Se[Oe]&&(ke=jn(null,ge,Oe,A),ke&&(Se[Oe].$elm$=ke,pe.insertBefore(ke,eo(N))))},Ar=(A,N,ge,Se,Oe)=>{for(;N<=ge;++N)(Se=A[N])&&(Oe=Se.$elm$,ze(Se),L=!0,Oe["s-ol"]?Oe["s-ol"].remove():yi(Oe,!0),Oe.remove())},Br=(A,N)=>A.$tag$===N.$tag$&&("slot"===A.$tag$?A.$name$===N.$name$:A.$key$===N.$key$),eo=A=>A&&A["s-ol"]||A,mn=A=>(A["s-ol"]?A["s-ol"]:A).parentNode,Kr=(A,N)=>{const ge=N.$elm$=A.$elm$,Se=A.$children$,Oe=N.$children$,P=N.$tag$,pe=N.$text$;let ke;null===pe?(ce="svg"===P||"foreignObject"!==P&&ce,"slot"===P||co(A,N,ce),null!==Se&&null!==Oe?((A,N,ge,Se)=>{let Do,Xr,Oe=0,P=0,pe=0,ke=0,Qe=N.length-1,rt=N[0],xe=N[Qe],Ht=Se.length-1,Ct=Se[0],un=Se[Ht];for(;Oe<=Qe&&P<=Ht;)if(null==rt)rt=N[++Oe];else if(null==xe)xe=N[--Qe];else if(null==Ct)Ct=Se[++P];else if(null==un)un=Se[--Ht];else if(Br(rt,Ct))Kr(rt,Ct),rt=N[++Oe],Ct=Se[++P];else if(Br(xe,un))Kr(xe,un),xe=N[--Qe],un=Se[--Ht];else if(Br(rt,un))("slot"===rt.$tag$||"slot"===un.$tag$)&&yi(rt.$elm$.parentNode,!1),Kr(rt,un),A.insertBefore(rt.$elm$,xe.$elm$.nextSibling),rt=N[++Oe],un=Se[--Ht];else if(Br(xe,Ct))("slot"===rt.$tag$||"slot"===un.$tag$)&&yi(xe.$elm$.parentNode,!1),Kr(xe,Ct),A.insertBefore(xe.$elm$,rt.$elm$),xe=N[--Qe],Ct=Se[++P];else{for(pe=-1,ke=Oe;ke<=Qe;++ke)if(N[ke]&&null!==N[ke].$key$&&N[ke].$key$===Ct.$key$){pe=ke;break}pe>=0?(Xr=N[pe],Xr.$tag$!==Ct.$tag$?Do=jn(N&&N[P],ge,pe,A):(Kr(Xr,Ct),N[pe]=void 0,Do=Xr.$elm$),Ct=Se[++P]):(Do=jn(N&&N[P],ge,P,A),Ct=Se[++P]),Do&&mn(rt.$elm$).insertBefore(Do,eo(rt.$elm$))}Oe>Qe?Gr(A,null==Se[Ht+1]?null:Se[Ht+1].$elm$,ge,Se,P,Ht):P>Ht&&Ar(N,Oe,Qe)})(ge,Se,N,Oe):null!==Oe?(null!==A.$text$&&(ge.textContent=""),Gr(ge,null,N,Oe,0,Oe.length-1)):null!==Se&&Ar(Se,0,Se.length-1),ce&&"svg"===P&&(ce=!1)):(ke=ge["s-cr"])?ke.parentNode.textContent=pe:A.$text$!==pe&&(ge.data=pe)},Hi=A=>{const N=A.childNodes;let ge,Se,Oe,P,pe,ke;for(Se=0,Oe=N.length;Se<Oe;Se++)if(ge=N[Se],1===ge.nodeType){if(ge["s-sr"])for(pe=ge["s-sn"],ge.hidden=!1,P=0;P<Oe;P++)if(ke=N[P].nodeType,N[P]["s-hn"]!==ge["s-hn"]||""!==pe){if(1===ke&&pe===N[P].getAttribute("slot")){ge.hidden=!0;break}}else if(1===ke||3===ke&&""!==N[P].textContent.trim()){ge.hidden=!0;break}Hi(ge)}},Vr=[],at=A=>{let N,ge,Se,Oe,P,pe,ke=0;const Qe=A.childNodes,rt=Qe.length;for(;ke<rt;ke++){if(N=Qe[ke],N["s-sr"]&&(ge=N["s-cr"])&&ge.parentNode)for(Se=ge.parentNode.childNodes,Oe=N["s-sn"],pe=Se.length-1;pe>=0;pe--)ge=Se[pe],!ge["s-cn"]&&!ge["s-nr"]&&ge["s-hn"]!==N["s-hn"]&&(ae(ge,Oe)?(P=Vr.find(xe=>xe.$nodeToRelocate$===ge),L=!0,ge["s-sn"]=ge["s-sn"]||Oe,P?P.$slotRefNode$=N:Vr.push({$slotRefNode$:N,$nodeToRelocate$:ge}),ge["s-sr"]&&Vr.map(xe=>{ae(xe.$nodeToRelocate$,ge["s-sn"])&&(P=Vr.find(Ht=>Ht.$nodeToRelocate$===ge),P&&!xe.$slotRefNode$&&(xe.$slotRefNode$=P.$slotRefNode$))})):Vr.some(xe=>xe.$nodeToRelocate$===ge)||Vr.push({$nodeToRelocate$:ge}));1===N.nodeType&&at(N)}},ae=(A,N)=>1===A.nodeType?null===A.getAttribute("slot")&&""===N||A.getAttribute("slot")===N:A["s-sn"]===N||""===N,ze=A=>{A.$attrs$&&A.$attrs$.ref&&A.$attrs$.ref(null),A.$children$&&A.$children$.map(ze)},Bn=A=>Wr(A).$hostElement$,Zt=(A,N,ge)=>{const Se=Bn(A);return{emit:Oe=>xt(Se,N,{bubbles:!!(4&ge),composed:!!(2&ge),cancelable:!!(1&ge),detail:Oe})}},xt=(A,N,ge)=>{const Se=$.ce(N,ge);return A.dispatchEvent(Se),Se},gr=(A,N)=>{N&&!A.$onRenderResolve$&&N["s-p"]&&N["s-p"].push(new Promise(ge=>A.$onRenderResolve$=ge))},Jt=(A,N)=>{if(A.$flags$|=16,!(4&A.$flags$))return gr(A,A.$ancestorComponent$),Ri(()=>er(A,N));A.$flags$|=512},er=(A,N)=>{const Se=A.$lazyInstance$;let Oe;return N&&(A.$flags$|=256,A.$queuedListeners$&&(A.$queuedListeners$.map(([P,pe])=>Kn(Se,P,pe)),A.$queuedListeners$=null),Oe=Kn(Se,"componentWillLoad")),Oe=D(Oe,()=>Kn(Se,"componentWillRender")),D(Oe,()=>tr(A,Se,N))},tr=function(){var A=(0,I.Z)(function*(N,ge,Se){const Oe=N.$hostElement$,pe=Oe["s-rc"];Se&&(A=>{const N=A.$cmpMeta$,ge=A.$hostElement$,Se=N.$flags$,P=We(ge.shadowRoot?ge.shadowRoot:ge.getRootNode(),N,A.$modeName$);10&Se&&(ge["s-sc"]=P,ge.classList.add(P+"-h"),2&Se&&ge.classList.add(P+"-s"))})(N);ln(N,ge),pe&&(pe.map(Qe=>Qe()),Oe["s-rc"]=void 0);{const Qe=Oe["s-p"],rt=()=>jt(N);0===Qe.length?rt():(Promise.all(Qe).then(rt),N.$flags$|=4,Qe.length=0)}});return function(ge,Se,Oe){return A.apply(this,arguments)}}(),ln=(A,N,ge)=>{try{N=N.render&&N.render(),A.$flags$&=-17,A.$flags$|=2,((A,N)=>{const ge=A.$hostElement$,Se=A.$cmpMeta$,Oe=A.$vnode$||tn(null,null),P=(A=>A&&A.$tag$===Z)(N)?N:Qt(null,null,N);if(G=ge.tagName,Se.$attrsToReflect$&&(P.$attrs$=P.$attrs$||{},Se.$attrsToReflect$.map(([pe,ke])=>P.$attrs$[ke]=ge[pe])),P.$tag$=null,P.$flags$|=4,A.$vnode$=P,P.$elm$=Oe.$elm$=ge.shadowRoot||ge,re=ge["s-sc"],J=ge["s-cr"],X=0!=(1&Se.$flags$),L=!1,Kr(Oe,P),$.$flags$|=1,U){at(P.$elm$);let pe,ke,Qe,rt,xe,Ht,Ct=0;for(;Ct<Vr.length;Ct++)pe=Vr[Ct],ke=pe.$nodeToRelocate$,ke["s-ol"]||(Qe=B.createTextNode(""),Qe["s-nr"]=ke,ke.parentNode.insertBefore(ke["s-ol"]=Qe,ke));for(Ct=0;Ct<Vr.length;Ct++)if(pe=Vr[Ct],ke=pe.$nodeToRelocate$,pe.$slotRefNode$){for(rt=pe.$slotRefNode$.parentNode,xe=pe.$slotRefNode$.nextSibling,Qe=ke["s-ol"];Qe=Qe.previousSibling;)if(Ht=Qe["s-nr"],Ht&&Ht["s-sn"]===ke["s-sn"]&&rt===Ht.parentNode&&(Ht=Ht.nextSibling,!Ht||!Ht["s-nr"])){xe=Ht;break}(!xe&&rt!==ke.parentNode||ke.nextSibling!==xe)&&ke!==xe&&(!ke["s-hn"]&&ke["s-ol"]&&(ke["s-hn"]=ke["s-ol"].parentNode.nodeName),rt.insertBefore(ke,xe))}else 1===ke.nodeType&&(ke.hidden=!0)}L&&Hi(P.$elm$),$.$flags$&=-2,Vr.length=0})(A,N)}catch(Se){no(Se,A.$hostElement$)}return null},jt=A=>{const ge=A.$hostElement$,Oe=A.$lazyInstance$,P=A.$ancestorComponent$;Kn(Oe,"componentDidRender"),64&A.$flags$?Kn(Oe,"componentDidUpdate"):(A.$flags$|=64,Nn(ge),Kn(Oe,"componentDidLoad"),A.$onReadyResolve$(ge),P||S()),A.$onInstanceResolve$(ge),A.$onRenderResolve$&&(A.$onRenderResolve$(),A.$onRenderResolve$=void 0),512&A.$flags$&&li(()=>Jt(A,!1)),A.$flags$&=-517},E=A=>{{const N=Wr(A),ge=N.$hostElement$.isConnected;return ge&&2==(18&N.$flags$)&&Jt(N,!1),ge}},S=A=>{Nn(B.documentElement),li(()=>xt(oe,"appload",{detail:{namespace:"ionic"}}))},Kn=(A,N,ge)=>{if(A&&A[N])try{return A[N](ge)}catch(Se){no(Se)}},D=(A,N)=>A&&A.then?A.then(N):N(),Nn=A=>A.classList.add("hydrated"),qo=(A,N,ge,Se,Oe,P,pe)=>{let ke,Qe,rt,xe;if(1===P.nodeType){for(ke=P.getAttribute("c-id"),ke&&(Qe=ke.split("."),(Qe[0]===pe||"0"===Qe[0])&&(rt={$flags$:0,$hostId$:Qe[0],$nodeId$:Qe[1],$depth$:Qe[2],$index$:Qe[3],$tag$:P.tagName.toLowerCase(),$elm$:P,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},N.push(rt),P.removeAttribute("c-id"),A.$children$||(A.$children$=[]),A.$children$[rt.$index$]=rt,A=rt,Se&&"0"===rt.$depth$&&(Se[rt.$index$]=rt.$elm$))),xe=P.childNodes.length-1;xe>=0;xe--)qo(A,N,ge,Se,Oe,P.childNodes[xe],pe);if(P.shadowRoot)for(xe=P.shadowRoot.childNodes.length-1;xe>=0;xe--)qo(A,N,ge,Se,Oe,P.shadowRoot.childNodes[xe],pe)}else if(8===P.nodeType)Qe=P.nodeValue.split("."),(Qe[1]===pe||"0"===Qe[1])&&(ke=Qe[0],rt={$flags$:0,$hostId$:Qe[1],$nodeId$:Qe[2],$depth$:Qe[3],$index$:Qe[4],$elm$:P,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===ke?(rt.$elm$=P.nextSibling,rt.$elm$&&3===rt.$elm$.nodeType&&(rt.$text$=rt.$elm$.textContent,N.push(rt),P.remove(),A.$children$||(A.$children$=[]),A.$children$[rt.$index$]=rt,Se&&"0"===rt.$depth$&&(Se[rt.$index$]=rt.$elm$))):rt.$hostId$===pe&&("s"===ke?(rt.$tag$="slot",P["s-sn"]=Qe[5]?rt.$name$=Qe[5]:"",P["s-sr"]=!0,Se&&(rt.$elm$=B.createElement(rt.$tag$),rt.$name$&&rt.$elm$.setAttribute("name",rt.$name$),P.parentNode.insertBefore(rt.$elm$,P),P.remove(),"0"===rt.$depth$&&(Se[rt.$index$]=rt.$elm$)),ge.push(rt),A.$children$||(A.$children$=[]),A.$children$[rt.$index$]=rt):"r"===ke&&(Se?P.remove():(Oe["s-cr"]=P,P["s-cn"]=!0))));else if(A&&"style"===A.$tag$){const Ht=tn(null,P.textContent);Ht.$elm$=P,Ht.$index$="0",A.$children$=[Ht]}},_o=(A,N)=>{if(1===A.nodeType){let ge=0;for(;ge<A.childNodes.length;ge++)_o(A.childNodes[ge],N);if(A.shadowRoot)for(ge=0;ge<A.shadowRoot.childNodes.length;ge++)_o(A.shadowRoot.childNodes[ge],N)}else if(8===A.nodeType){const ge=A.nodeValue.split(".");"o"===ge[0]&&(N.set(ge[1]+"."+ge[2],A),A.nodeValue="",A["s-en"]=ge[3])}},vi=(A,N,ge)=>{if(N.$members$){A.watchers&&(N.$watchers$=A.watchers);const Se=Object.entries(N.$members$),Oe=A.prototype;if(Se.map(([P,[pe]])=>{31&pe||2&ge&&32&pe?Object.defineProperty(Oe,P,{get(){return((A,N)=>Wr(this).$instanceValues$.get(N))(0,P)},set(ke){((A,N,ge,Se)=>{const Oe=Wr(A),P=Oe.$hostElement$,pe=Oe.$instanceValues$.get(N),ke=Oe.$flags$,Qe=Oe.$lazyInstance$;ge=((A,N)=>null==A||an(A)?A:4&N?"false"!==A&&(""===A||!!A):2&N?parseFloat(A):1&N?String(A):A)(ge,Se.$members$[N][0]);const rt=Number.isNaN(pe)&&Number.isNaN(ge);if((!(8&ke)||void 0===pe)&&ge!==pe&&!rt&&(Oe.$instanceValues$.set(N,ge),Qe)){if(Se.$watchers$&&128&ke){const Ht=Se.$watchers$[N];Ht&&Ht.map(Ct=>{try{Qe[Ct](ge,pe,N)}catch(un){no(un,P)}})}2==(18&ke)&&Jt(Oe,!1)}})(this,P,ke,N)},configurable:!0,enumerable:!0}):1&ge&&64&pe&&Object.defineProperty(Oe,P,{value(...ke){const Qe=Wr(this);return Qe.$onInstancePromise$.then(()=>Qe.$lazyInstance$[P](...ke))}})}),1&ge){const P=new Map;Oe.attributeChangedCallback=function(pe,ke,Qe){$.jmp(()=>{const rt=P.get(pe);if(this.hasOwnProperty(rt))Qe=this[rt],delete this[rt];else if(Oe.hasOwnProperty(rt)&&"number"==typeof this[rt]&&this[rt]==Qe)return;this[rt]=(null!==Qe||"boolean"!=typeof this[rt])&&Qe})},A.observedAttributes=Se.filter(([pe,ke])=>15&ke[0]).map(([pe,ke])=>{const Qe=ke[1]||pe;return P.set(Qe,pe),512&ke[0]&&N.$attrsToReflect$.push([pe,Qe]),Qe})}}return A},to=function(){var A=(0,I.Z)(function*(N,ge,Se,Oe,P){if(!(32&ge.$flags$)){{if(ge.$flags$|=32,(P=uo(Se)).then){const rt=()=>{};P=yield P,rt()}P.isProxied||(Se.$watchers$=P.watchers,vi(P,Se,2),P.isProxied=!0);const Qe=()=>{};ge.$flags$|=8;try{new P(ge)}catch(rt){no(rt)}ge.$flags$&=-9,ge.$flags$|=128,Qe(),$o(ge.$lazyInstance$)}if(P.style){let Qe=P.style;"string"!=typeof Qe&&(Qe=Qe[ge.$modeName$=(A=>ps.map(N=>N(A)).find(N=>!!N))(N)]);const rt=ye(Se,ge.$modeName$);if(!bi.has(rt)){const xe=()=>{};cn(rt,Qe,!!(1&Se.$flags$)),xe()}}}const pe=ge.$ancestorComponent$,ke=()=>Jt(ge,!0);pe&&pe["s-rc"]?pe["s-rc"].push(ke):ke()});return function(ge,Se,Oe,P,pe){return A.apply(this,arguments)}}(),$o=A=>{Kn(A,"connectedCallback")},Bo=A=>{const N=A["s-cr"]=B.createComment("");N["s-cn"]=!0,A.insertBefore(N,A.firstChild)},si=(A,N={})=>{const Se=[],Oe=N.exclude||[],P=oe.customElements,pe=B.head,ke=pe.querySelector("meta[charset]"),Qe=B.createElement("style"),rt=[],xe=B.querySelectorAll(`[${Ye}]`);let Ht,Ct=!0,un=0;for(Object.assign($,N),$.$resourcesUrl$=new URL(N.resourcesUrl||"./",B.baseURI).href,$.$flags$|=2;un<xe.length;un++)cn(xe[un].getAttribute(Ye),tt(xe[un].innerHTML),!0);A.map(Do=>{Do[1].map(Xr=>{const Io={$flags$:Xr[0],$tagName$:Xr[1],$members$:Xr[2],$listeners$:Xr[3]};Io.$members$=Xr[2],Io.$listeners$=Xr[3],Io.$attrsToReflect$=[],Io.$watchers$={};const ci=Io.$tagName$,Cr=class extends HTMLElement{constructor(Zi){super(Zi),Yo(Zi=this,Io),1&Io.$flags$&&Zi.attachShadow({mode:"open",delegatesFocus:!!(16&Io.$flags$)})}connectedCallback(){Ht&&(clearTimeout(Ht),Ht=null),Ct?rt.push(this):$.jmp(()=>(A=>{if(!(1&$.$flags$)){const N=Wr(A),ge=N.$cmpMeta$,Se=()=>{};if(1&N.$flags$)W(A,N,ge.$listeners$),$o(N.$lazyInstance$);else{let Oe;if(N.$flags$|=1,Oe=A.getAttribute(Ie),Oe){if(1&ge.$flags$){const P=We(A.shadowRoot,ge,A.getAttribute("s-mode"));A.classList.remove(P+"-h",P+"-s")}((A,N,ge,Se)=>{const P=A.shadowRoot,pe=[],Qe=P?[]:null,rt=Se.$vnode$=tn(N,null);$.$orgLocNodes$||_o(B.body,$.$orgLocNodes$=new Map),A[Ie]=ge,A.removeAttribute(Ie),qo(rt,pe,[],Qe,A,A,ge),pe.map(xe=>{const Ht=xe.$hostId$+"."+xe.$nodeId$,Ct=$.$orgLocNodes$.get(Ht),un=xe.$elm$;Ct&&""===Ct["s-en"]&&Ct.parentNode.insertBefore(un,Ct.nextSibling),P||(un["s-hn"]=N,Ct&&(un["s-ol"]=Ct,un["s-ol"]["s-nr"]=un)),$.$orgLocNodes$.delete(Ht)}),P&&Qe.map(xe=>{xe&&P.appendChild(xe)})})(A,ge.$tagName$,Oe,N)}Oe||12&ge.$flags$&&Bo(A);{let P=A;for(;P=P.parentNode||P.host;)if(1===P.nodeType&&P.hasAttribute("s-id")&&P["s-p"]||P["s-p"]){gr(N,N.$ancestorComponent$=P);break}}ge.$members$&&Object.entries(ge.$members$).map(([P,[pe]])=>{if(31&pe&&A.hasOwnProperty(P)){const ke=A[P];delete A[P],A[P]=ke}}),li(()=>to(A,N,ge))}Se()}})(this))}disconnectedCallback(){$.jmp(()=>(A=>{if(!(1&$.$flags$)){const N=Wr(this),ge=N.$lazyInstance$;N.$rmListeners$&&(N.$rmListeners$.map(Se=>Se()),N.$rmListeners$=void 0),Kn(ge,"disconnectedCallback")}})())}componentOnReady(){return Wr(this).$onReadyPromise$}};Io.$lazyBundleId$=Do[0],!Oe.includes(ci)&&!P.get(ci)&&(Se.push(ci),P.define(ci,vi(Cr,Io,1)))})}),Qe.innerHTML=Se+"{visibility:hidden}.hydrated{visibility:inherit}",Qe.setAttribute("data-styles",""),pe.insertBefore(Qe,ke?ke.nextSibling:pe.firstChild),Ct=!1,rt.length?rt.map(Do=>Do.connectedCallback()):$.jmp(()=>Ht=setTimeout(S,30))},Ko=A=>{const N=new URL(A,$.$resourcesUrl$);return N.origin!==oe.location.origin?N.href:N.pathname},vo=new WeakMap,Wr=A=>vo.get(A),zi=(A,N)=>vo.set(N.$lazyInstance$=A,N),Yo=(A,N)=>{const ge={$flags$:0,$hostElement$:A,$cmpMeta$:N,$instanceValues$:new Map};return ge.$onInstancePromise$=new Promise(Se=>ge.$onInstanceResolve$=Se),ge.$onReadyPromise$=new Promise(Se=>ge.$onReadyResolve$=Se),A["s-p"]=[],A["s-rc"]=[],W(A,ge,N.$listeners$),vo.set(A,ge)},Eo=(A,N)=>N in A,no=(A,N)=>(0,console.error)(A,N),Gi=new Map,uo=(A,N,ge)=>{const Se=A.$tagName$.replace(/-/g,"_"),Oe=A.$lazyBundleId$,P=Gi.get(Oe);return P?P[Se]:x(863)(`./${Oe}.entry.js`).then(pe=>(Gi.set(Oe,pe),pe[Se]),no)},bi=new Map,ps=[],ai=[],Wi=[],Ms=(A,N)=>ge=>{A.push(ge),Y||(Y=!0,N&&4&$.$flags$?li(dr):$.raf(dr))},As=A=>{for(let N=0;N<A.length;N++)try{A[N](performance.now())}catch(ge){no(ge)}A.length=0},dr=()=>{As(ai),As(Wi),(Y=ai.length>0)&&$.raf(dr)},li=A=>Le().then(A),hs=Ms(ai,!1),Ri=Ms(Wi,!0),nr={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},5823:(Be,Ge,x)=>{"use strict";x.d(Ge,{a:()=>oe,b:()=>yt,c:()=>re,g:()=>Y,i:()=>cn});var I=x(1559);class c{constructor(){this.m=new Map}reset(O){this.m=new Map(Object.entries(O))}get(O,ye){const tt=this.m.get(O);return void 0!==tt?tt:ye}getBoolean(O,ye=!1){const tt=this.m.get(O);return void 0===tt?ye:"string"==typeof tt?"true"===tt:!!tt}getNumber(O,ye){const tt=parseFloat(this.m.get(O));return isNaN(tt)?void 0!==ye?ye:NaN:tt}set(O,ye){this.m.set(O,ye)}}const re=new c,U="ionic:",ce="ionic-persist-config",Y=We=>B(We),oe=(We,O)=>("string"==typeof We&&(O=We,We=void 0),Y(We).includes(O)),B=(We=window)=>{if(typeof We>"u")return[];We.Ionic=We.Ionic||{};let O=We.Ionic.platforms;return null==O&&(O=We.Ionic.platforms=$(We),O.forEach(ye=>We.document.documentElement.classList.add(`plt-${ye}`))),O},$=We=>{const O=re.get("platform");return Object.keys(Ue).filter(ye=>{const tt=O?.[ye];return"function"==typeof tt?tt(We):Ue[ye](We)})},Pe=We=>!!(Me(We,/iPad/i)||Me(We,/Macintosh/i)&&de(We)),W=We=>Me(We,/android|sink/i),de=We=>ne(We,"(any-pointer:coarse)"),le=We=>we(We)||Ie(We),we=We=>!!(We.cordova||We.phonegap||We.PhoneGap),Ie=We=>!!We.Capacitor?.isNative,Me=(We,O)=>O.test(We.navigator.userAgent),ne=(We,O)=>{var ye;return null===(ye=We.matchMedia)||void 0===ye?void 0:ye.call(We,O).matches},Ue={ipad:Pe,iphone:We=>Me(We,/iPhone/i),ios:We=>Me(We,/iPhone|iPod/i)||Pe(We),android:W,phablet:We=>{const O=We.innerWidth,ye=We.innerHeight,tt=Math.min(O,ye),nt=Math.max(O,ye);return tt>390&&tt<520&&nt>620&&nt<800},tablet:We=>{const O=We.innerWidth,ye=We.innerHeight,tt=Math.min(O,ye),nt=Math.max(O,ye);return Pe(We)||(We=>W(We)&&!Me(We,/mobile/i))(We)||tt>460&&tt<820&&nt>780&&nt<1400},cordova:we,capacitor:Ie,electron:We=>Me(We,/electron/i),pwa:We=>{var O;return!!(null!==(O=We.matchMedia)&&void 0!==O&&O.call(We,"(display-mode: standalone)").matches||We.navigator.standalone)},mobile:de,mobileweb:We=>de(We)&&!le(We),desktop:We=>!de(We),hybrid:le};let Xe;const yt=We=>We&&(0,I.g)(We)||Xe,cn=(We={})=>{if(typeof window>"u")return;const O=window.document,ye=window,tt=ye.Ionic=ye.Ionic||{},nt={};We._ael&&(nt.ael=We._ael),We._rel&&(nt.rel=We._rel),We._ce&&(nt.ce=We._ce),(0,I.s)(nt);const Ve=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(We=>{try{const O=We.sessionStorage.getItem(ce);return null!==O?JSON.parse(O):{}}catch{return{}}})(ye)),{persistConfig:!1}),tt.config),(We=>{const O={};return We.location.search.slice(1).split("&").map(ye=>ye.split("=")).map(([ye,tt])=>[decodeURIComponent(ye),decodeURIComponent(tt)]).filter(([ye])=>((We,O)=>We.substr(0,O.length)===O)(ye,U)).map(([ye,tt])=>[ye.slice(U.length),tt]).forEach(([ye,tt])=>{O[ye]=tt}),O})(ye)),We);re.reset(Ve),re.getBoolean("persistConfig")&&((We,O)=>{try{We.sessionStorage.setItem(ce,JSON.stringify(O))}catch{return}})(ye,Ve),B(ye),tt.config=re,tt.mode=Xe=re.get("mode",O.documentElement.getAttribute("mode")||(oe(ye,"ios")?"ios":"md")),re.set("mode",Xe),O.documentElement.setAttribute("mode",Xe),O.documentElement.classList.add(Xe),re.getBoolean("_testing")&&re.set("animated",!1);const q=ft=>{var Re;return null===(Re=ft.tagName)||void 0===Re?void 0:Re.startsWith("ION-")},_e=ft=>["ios","md"].includes(ft);(0,I.a)(ft=>{for(;ft;){const Re=ft.mode||ft.getAttribute("mode");if(Re){if(_e(Re))return Re;q(ft)&&console.warn('Invalid ionic mode: "'+Re+'", expected: "ios" or "md"')}ft=ft.parentElement}return Xe})}},9078:(Be,Ge,x)=>{"use strict";x.r(Ge),x.d(Ge,{iosTransitionAnimation:()=>$,shadow:()=>L});var I=x(5933),c=x(919);x(2286),x(1559);const X=H=>document.querySelector(`${H}.ion-cloned-element`),L=H=>H.shadowRoot||H,U=H=>{const Pe="ION-TABS"===H.tagName?H:H.querySelector("ion-tabs"),Le="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Pe){const he=Pe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=he?he.querySelector(Le):null}return H.querySelector(Le)},ce=(H,Pe)=>{const Le="ION-TABS"===H.tagName?H:H.querySelector("ion-tabs");let he=[];if(null!=Le){const W=Le.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=W&&(he=W.querySelectorAll("ion-buttons"))}else he=H.querySelectorAll("ion-buttons");for(const W of he){const K=W.closest("ion-header"),fe=K&&!K.classList.contains("header-collapse-condense-inactive"),Fe=W.querySelector("ion-back-button"),de=W.classList.contains("buttons-collapse");if(null!==Fe&&("start"===W.slot||""===W.slot)&&(de&&fe&&Pe||!de))return Fe}return null},oe=(H,Pe,Le,he,W,K)=>{const fe=Pe?`calc(100% - ${K.right+4}px)`:K.left-4+"px",Fe=Pe?"7px":"-7px",de=Pe?"-4px":"4px",it=Pe?"-4px":"4px",le=Pe?"right":"left",we=Pe?"left":"right",$e=Le?[{offset:0,opacity:1,transform:`translate3d(${de}, ${K.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Fe}, ${W.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${Fe}, ${W.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${de}, ${K.top-46}px, 0) scale(1)`}],Ue=Le?[{offset:0,opacity:1,transform:`translate3d(${it}, ${K.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${it}, ${K.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${it}, ${K.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${it}, ${K.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${it}, ${K.top-46}px, 0) scale(1)`}],Xe=(0,I.c)(),yt=(0,I.c)(),cn=X("ion-back-button"),We=L(cn).querySelector(".button-text"),O=L(cn).querySelector("ion-icon");cn.text=he.text,cn.mode=he.mode,cn.icon=he.icon,cn.color=he.color,cn.disabled=he.disabled,cn.style.setProperty("display","block"),cn.style.setProperty("position","fixed"),yt.addElement(O),Xe.addElement(We),Xe.beforeStyles({"transform-origin":`${le} center`}).beforeAddWrite(()=>{he.style.setProperty("display","none"),cn.style.setProperty(le,fe)}).afterAddWrite(()=>{he.style.setProperty("display",""),cn.style.setProperty("display","none"),cn.style.removeProperty(le)}).keyframes($e),yt.beforeStyles({"transform-origin":`${we} center`}).keyframes(Ue),H.addAnimation([Xe,yt])},B=(H,Pe,Le,he,W,K)=>{const fe=Pe?`calc(100% - ${W.right}px)`:`${W.left}px`,Fe=Pe?"-18px":"18px",de=Pe?"right":"left",we=Le?[{offset:0,opacity:0,transform:`translate3d(${Fe}, ${K.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${W.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${W.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Fe}, ${K.top-4}px, 0) scale(0.5)`}],Ie=X("ion-title"),Ye=(0,I.c)();Ie.innerText=he.innerText,Ie.size=he.size,Ie.color=he.color,Ye.addElement(Ie),Ye.beforeStyles({"transform-origin":`${de} center`,height:"46px",display:"",position:"relative",[de]:fe}).beforeAddWrite(()=>{he.style.setProperty("display","none")}).afterAddWrite(()=>{he.style.setProperty("display",""),Ie.style.setProperty("display","none")}).keyframes(we),H.addAnimation(Ye)},$=(H,Pe)=>{var Le;try{const he="cubic-bezier(0.32,0.72,0,1)",W="opacity",K="transform",fe="0%",de="rtl"===H.ownerDocument.dir,it=de?"-99.5%":"99.5%",le=de?"33%":"-33%",we=Pe.enteringEl,Ie=Pe.leavingEl,Ye="back"===Pe.direction,$e=we.querySelector(":scope > ion-content"),Me=we.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),ne=we.querySelectorAll(":scope > ion-header > ion-toolbar"),Ue=(0,I.c)(),Xe=(0,I.c)();if(Ue.addElement(we).duration((null!==(Le=Pe.duration)&&void 0!==Le?Le:0)||540).easing(Pe.easing||he).fill("both").beforeRemoveClass("ion-page-invisible"),Ie&&null!=H){const O=(0,I.c)();O.addElement(H),Ue.addAnimation(O)}if($e||0!==ne.length||0!==Me.length?(Xe.addElement($e),Xe.addElement(Me)):Xe.addElement(we.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Ue.addAnimation(Xe),Ye?Xe.beforeClearStyles([W]).fromTo("transform",`translateX(${le})`,`translateX(${fe})`).fromTo(W,.8,1):Xe.beforeClearStyles([W]).fromTo("transform",`translateX(${it})`,`translateX(${fe})`),$e){const O=L($e).querySelector(".transition-effect");if(O){const ye=O.querySelector(".transition-cover"),tt=O.querySelector(".transition-shadow"),nt=(0,I.c)(),Ve=(0,I.c)(),q=(0,I.c)();nt.addElement(O).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ve.addElement(ye).beforeClearStyles([W]).fromTo(W,0,.1),q.addElement(tt).beforeClearStyles([W]).fromTo(W,.03,.7),nt.addAnimation([Ve,q]),Xe.addAnimation([nt])}}const yt=we.querySelector("ion-header.header-collapse-condense"),{forward:cn,backward:We}=((H,Pe,Le,he,W)=>{const K=ce(he,Le),fe=U(W),Fe=U(he),de=ce(W,Le),it=null!==K&&null!==fe&&!Le,le=null!==Fe&&null!==de&&Le;if(it){const we=fe.getBoundingClientRect(),Ie=K.getBoundingClientRect();B(H,Pe,Le,fe,we,Ie),oe(H,Pe,Le,K,we,Ie)}else if(le){const we=Fe.getBoundingClientRect(),Ie=de.getBoundingClientRect();B(H,Pe,Le,Fe,we,Ie),oe(H,Pe,Le,de,we,Ie)}return{forward:it,backward:le}})(Ue,de,Ye,we,Ie);if(ne.forEach(O=>{const ye=(0,I.c)();ye.addElement(O),Ue.addAnimation(ye);const tt=(0,I.c)();tt.addElement(O.querySelector("ion-title"));const nt=(0,I.c)(),Ve=Array.from(O.querySelectorAll("ion-buttons,[menuToggle]")),q=O.closest("ion-header"),_e=q?.classList.contains("header-collapse-condense-inactive");let ft;ft=Ve.filter(Ye?tn=>{const Z=tn.classList.contains("buttons-collapse");return Z&&!_e||!Z}:tn=>!tn.classList.contains("buttons-collapse")),nt.addElement(ft);const Re=(0,I.c)();Re.addElement(O.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Tt=(0,I.c)();Tt.addElement(L(O).querySelector(".toolbar-background"));const an=(0,I.c)(),Qt=O.querySelector("ion-back-button");if(Qt&&an.addElement(Qt),ye.addAnimation([tt,nt,Re,Tt,an]),nt.fromTo(W,.01,1),Re.fromTo(W,.01,1),Ye)_e||tt.fromTo("transform",`translateX(${le})`,`translateX(${fe})`).fromTo(W,.01,1),Re.fromTo("transform",`translateX(${le})`,`translateX(${fe})`),an.fromTo(W,.01,1);else if(yt||tt.fromTo("transform",`translateX(${it})`,`translateX(${fe})`).fromTo(W,.01,1),Re.fromTo("transform",`translateX(${it})`,`translateX(${fe})`),Tt.beforeClearStyles([W,"transform"]),q?.translucent?Tt.fromTo("transform",de?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Tt.fromTo(W,.01,"var(--opacity)"),cn||an.fromTo(W,.01,1),Qt&&!cn){const Z=(0,I.c)();Z.addElement(L(Qt).querySelector(".button-text")).fromTo("transform",de?"translateX(-100px)":"translateX(100px)","translateX(0px)"),ye.addAnimation(Z)}}),Ie){const O=(0,I.c)(),ye=Ie.querySelector(":scope > ion-content"),tt=Ie.querySelectorAll(":scope > ion-header > ion-toolbar"),nt=Ie.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(ye||0!==tt.length||0!==nt.length?(O.addElement(ye),O.addElement(nt)):O.addElement(Ie.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Ue.addAnimation(O),Ye){O.beforeClearStyles([W]).fromTo("transform",`translateX(${fe})`,de?"translateX(-100%)":"translateX(100%)");const Ve=(0,c.g)(Ie);Ue.afterAddWrite(()=>{"normal"===Ue.getDirection()&&Ve.style.setProperty("display","none")})}else O.fromTo("transform",`translateX(${fe})`,`translateX(${le})`).fromTo(W,1,.8);if(ye){const Ve=L(ye).querySelector(".transition-effect");if(Ve){const q=Ve.querySelector(".transition-cover"),_e=Ve.querySelector(".transition-shadow"),ft=(0,I.c)(),Re=(0,I.c)(),Tt=(0,I.c)();ft.addElement(Ve).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Re.addElement(q).beforeClearStyles([W]).fromTo(W,.1,0),Tt.addElement(_e).beforeClearStyles([W]).fromTo(W,.7,.03),ft.addAnimation([Re,Tt]),O.addAnimation([ft])}}tt.forEach(Ve=>{const q=(0,I.c)();q.addElement(Ve);const _e=(0,I.c)();_e.addElement(Ve.querySelector("ion-title"));const ft=(0,I.c)(),Re=Ve.querySelectorAll("ion-buttons,[menuToggle]"),Tt=Ve.closest("ion-header"),an=Tt?.classList.contains("header-collapse-condense-inactive"),Qt=Array.from(Re).filter(Oo=>{const qr=Oo.classList.contains("buttons-collapse");return qr&&!an||!qr});ft.addElement(Qt);const tn=(0,I.c)(),Z=Ve.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Z.length>0&&tn.addElement(Z);const vn=(0,I.c)();vn.addElement(L(Ve).querySelector(".toolbar-background"));const hr=(0,I.c)(),Jn=Ve.querySelector("ion-back-button");if(Jn&&hr.addElement(Jn),q.addAnimation([_e,ft,tn,hr,vn]),Ue.addAnimation(q),hr.fromTo(W,.99,0),ft.fromTo(W,.99,0),tn.fromTo(W,.99,0),Ye){if(an||_e.fromTo("transform",`translateX(${fe})`,de?"translateX(-100%)":"translateX(100%)").fromTo(W,.99,0),tn.fromTo("transform",`translateX(${fe})`,de?"translateX(-100%)":"translateX(100%)"),vn.beforeClearStyles([W,"transform"]),Tt?.translucent?vn.fromTo("transform","translateX(0px)",de?"translateX(-100%)":"translateX(100%)"):vn.fromTo(W,"var(--opacity)",0),Jn&&!We){const qr=(0,I.c)();qr.addElement(L(Jn).querySelector(".button-text")).fromTo("transform",`translateX(${fe})`,`translateX(${(de?-124:124)+"px"})`),q.addAnimation(qr)}}else an||_e.fromTo("transform",`translateX(${fe})`,`translateX(${le})`).fromTo(W,.99,0).afterClearStyles([K,W]),tn.fromTo("transform",`translateX(${fe})`,`translateX(${le})`).afterClearStyles([K,W]),hr.afterClearStyles([W]),_e.afterClearStyles([W]),ft.afterClearStyles([W])})}return Ue}catch(he){throw he}}},4199:(Be,Ge,x)=>{"use strict";x.r(Ge),x.d(Ge,{mdTransitionAnimation:()=>G});var I=x(5933),c=x(919);x(2286),x(1559);const G=(X,L)=>{var U,ce,Y;const $="back"===L.direction,Pe=L.leavingEl,Le=(0,c.g)(L.enteringEl),he=Le.querySelector("ion-toolbar"),W=(0,I.c)();if(W.addElement(Le).fill("both").beforeRemoveClass("ion-page-invisible"),$?W.duration((null!==(U=L.duration)&&void 0!==U?U:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):W.duration((null!==(ce=L.duration)&&void 0!==ce?ce:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),he){const K=(0,I.c)();K.addElement(he),W.addAnimation(K)}if(Pe&&$){W.duration((null!==(Y=L.duration)&&void 0!==Y?Y:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const K=(0,I.c)();K.addElement((0,c.g)(Pe)).onFinish(fe=>{1===fe&&K.elements.length>0&&K.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),W.addAnimation(K)}return W}},7580:(Be,Ge,x)=>{"use strict";x.d(Ge,{B:()=>ye,G:()=>tt,a:()=>U,b:()=>ce,c:()=>$,d:()=>Ye,e:()=>Pe,f:()=>Me,g:()=>Xe,h:()=>X,i:()=>cn,j:()=>W,k:()=>we,l:()=>Y,m:()=>oe,s:()=>O});var I=x(3918),c=x(5823),re=x(159),J=x(9259);let G=0;const X=new WeakMap,L=nt=>({create:Ve=>Le(nt,Ve),dismiss:(Ve,q,_e)=>it(document,Ve,q,nt,_e),getTop:()=>(0,I.Z)(function*(){return we(document,nt)})()}),U=L("ion-alert"),ce=L("ion-action-sheet"),Y=L("ion-loading"),oe=L("ion-modal"),$=L("ion-popover"),Pe=nt=>{typeof document<"u"&&de(document);const Ve=G++;nt.overlayIndex=Ve,nt.hasAttribute("id")||(nt.id=`ion-overlay-${Ve}`)},Le=(nt,Ve)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(nt).then(()=>{const q=document.createElement(nt);return q.classList.add("overlay-hidden"),Object.assign(q,Object.assign(Object.assign({},Ve),{hasController:!0})),ne(document).appendChild(q),new Promise(_e=>(0,J.c)(q,_e))}):Promise.resolve(),he='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',W=(nt,Ve)=>{let q=nt.querySelector(he);const _e=q?.shadowRoot;_e&&(q=_e.querySelector(he)||q),q?(0,J.f)(q):Ve.focus()},fe=(nt,Ve)=>{const q=Array.from(nt.querySelectorAll(he));let _e=q.length>0?q[q.length-1]:null;const ft=_e?.shadowRoot;ft&&(_e=ft.querySelector(he)||_e),_e?_e.focus():Ve.focus()},de=nt=>{0===G&&(G=1,nt.addEventListener("focus",Ve=>{((nt,Ve)=>{const q=we(Ve,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),_e=nt.target;q&&_e&&!q.classList.contains("ion-disable-focus-trap")&&(q.shadowRoot?(()=>{if(q.contains(_e))q.lastFocus=_e;else{const Tt=q.lastFocus;W(q,q),Tt===Ve.activeElement&&fe(q,q),q.lastFocus=Ve.activeElement}})():(()=>{if(q===_e)q.lastFocus=void 0;else{const Tt=(0,J.g)(q);if(!Tt.contains(_e))return;const an=Tt.querySelector(".ion-overlay-wrapper");if(!an)return;if(an.contains(_e))q.lastFocus=_e;else{const Qt=q.lastFocus;W(an,q),Qt===Ve.activeElement&&fe(an,q),q.lastFocus=Ve.activeElement}}})())})(Ve,nt)},!0),nt.addEventListener("ionBackButton",Ve=>{const q=we(nt);q?.backdropDismiss&&Ve.detail.register(re.OVERLAY_BACK_BUTTON_PRIORITY,()=>q.dismiss(void 0,ye))}),nt.addEventListener("keyup",Ve=>{if("Escape"===Ve.key){const q=we(nt);q?.backdropDismiss&&q.dismiss(void 0,ye)}}))},it=(nt,Ve,q,_e,ft)=>{const Re=we(nt,_e,ft);return Re?Re.dismiss(Ve,q):Promise.reject("overlay does not exist")},we=(nt,Ve,q)=>{const _e=((nt,Ve)=>(void 0===Ve&&(Ve="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(nt.querySelectorAll(Ve)).filter(q=>q.overlayIndex>0)))(nt,Ve).filter(ft=>!(nt=>nt.classList.contains("overlay-hidden"))(ft));return void 0===q?_e[_e.length-1]:_e.find(ft=>ft.id===q)},Ie=(nt=!1)=>{const q=ne(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");q&&(nt?q.setAttribute("aria-hidden","true"):q.removeAttribute("aria-hidden"))},Ye=function(){var nt=(0,I.Z)(function*(Ve,q,_e,ft,Re){var Tt,an;if(Ve.presented)return;Ie(!0),Ve.presented=!0,Ve.willPresent.emit(),null===(Tt=Ve.willPresentShorthand)||void 0===Tt||Tt.emit();const Qt=(0,c.b)(Ve),tn=Ve.enterAnimation?Ve.enterAnimation:c.c.get(q,"ios"===Qt?_e:ft);(yield Ue(Ve,tn,Ve.el,Re))&&(Ve.didPresent.emit(),null===(an=Ve.didPresentShorthand)||void 0===an||an.emit()),"ION-TOAST"!==Ve.el.tagName&&$e(Ve.el),Ve.keyboardClose&&(null===document.activeElement||!Ve.el.contains(document.activeElement))&&Ve.el.focus()});return function(q,_e,ft,Re,Tt){return nt.apply(this,arguments)}}(),$e=function(){var nt=(0,I.Z)(function*(Ve){let q=document.activeElement;if(!q)return;const _e=q?.shadowRoot;_e&&(q=_e.querySelector(he)||q),yield Ve.onDidDismiss(),q.focus()});return function(q){return nt.apply(this,arguments)}}(),Me=function(){var nt=(0,I.Z)(function*(Ve,q,_e,ft,Re,Tt,an){var Qt,tn;if(!Ve.presented)return!1;Ie(!1),Ve.presented=!1;try{Ve.el.style.setProperty("pointer-events","none"),Ve.willDismiss.emit({data:q,role:_e}),null===(Qt=Ve.willDismissShorthand)||void 0===Qt||Qt.emit({data:q,role:_e});const Z=(0,c.b)(Ve),vn=Ve.leaveAnimation?Ve.leaveAnimation:c.c.get(ft,"ios"===Z?Re:Tt);_e!==tt&&(yield Ue(Ve,vn,Ve.el,an)),Ve.didDismiss.emit({data:q,role:_e}),null===(tn=Ve.didDismissShorthand)||void 0===tn||tn.emit({data:q,role:_e}),X.delete(Ve),Ve.el.classList.add("overlay-hidden"),Ve.el.style.removeProperty("pointer-events")}catch(Z){console.error(Z)}return Ve.el.remove(),!0});return function(q,_e,ft,Re,Tt,an,Qt){return nt.apply(this,arguments)}}(),ne=nt=>nt.querySelector("ion-app")||nt.body,Ue=function(){var nt=(0,I.Z)(function*(Ve,q,_e,ft){_e.classList.remove("overlay-hidden");const Tt=q(Ve.el,ft);(!Ve.animated||!c.c.getBoolean("animated",!0))&&Tt.duration(0),Ve.keyboardClose&&Tt.beforeAddWrite(()=>{const Qt=_e.ownerDocument.activeElement;Qt?.matches("input,ion-input, ion-textarea")&&Qt.blur()});const an=X.get(Ve)||[];return X.set(Ve,[...an,Tt]),yield Tt.play(),!0});return function(q,_e,ft,Re){return nt.apply(this,arguments)}}(),Xe=(nt,Ve)=>{let q;const _e=new Promise(ft=>q=ft);return yt(nt,Ve,ft=>{q(ft.detail)}),_e},yt=(nt,Ve,q)=>{const _e=ft=>{(0,J.b)(nt,Ve,_e),q(ft)};(0,J.a)(nt,Ve,_e)},cn=nt=>"cancel"===nt||nt===ye,We=nt=>nt(),O=(nt,Ve)=>{if("function"==typeof nt)return c.c.get("_zoneGate",We)(()=>{try{return nt(Ve)}catch(_e){throw _e}})},ye="backdrop",tt="gesture"},4263:(Be,Ge,x)=>{"use strict";var I=x(9903),c=x(3855),re=c(I("String.prototype.indexOf"));Be.exports=function(G,X){var L=I(G,!!X);return"function"==typeof L&&re(G,".prototype.")>-1?c(L):L}},3855:(Be,Ge,x)=>{"use strict";var I=x(224),c=x(9903),re=c("%Function.prototype.apply%"),J=c("%Function.prototype.call%"),G=c("%Reflect.apply%",!0)||I.call(J,re),X=c("%Object.getOwnPropertyDescriptor%",!0),L=c("%Object.defineProperty%",!0),U=c("%Math.max%");if(L)try{L({},"a",{value:1})}catch{L=null}Be.exports=function(oe){var B=G(I,J,arguments);if(X&&L){var $=X(B,"length");$.configurable&&L(B,"length",{value:1+U(0,oe.length-(arguments.length-1))})}return B};var ce=function(){return G(I,re,arguments)};L?L(Be.exports,"apply",{value:ce}):Be.exports.apply=ce},5107:Be=>{var Ge={utf8:{stringToBytes:function(x){return Ge.bin.stringToBytes(unescape(encodeURIComponent(x)))},bytesToString:function(x){return decodeURIComponent(escape(Ge.bin.bytesToString(x)))}},bin:{stringToBytes:function(x){for(var I=[],c=0;c<x.length;c++)I.push(255&x.charCodeAt(c));return I},bytesToString:function(x){for(var I=[],c=0;c<x.length;c++)I.push(String.fromCharCode(x[c]));return I.join("")}}};Be.exports=Ge},7175:Be=>{var Ge,x;Ge="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Be.exports=x={rotl:function(I,c){return I<<c|I>>>32-c},rotr:function(I,c){return I<<32-c|I>>>c},endian:function(I){if(I.constructor==Number)return 16711935&x.rotl(I,8)|4278255360&x.rotl(I,24);for(var c=0;c<I.length;c++)I[c]=x.endian(I[c]);return I},randomBytes:function(I){for(var c=[];I>0;I--)c.push(Math.floor(256*Math.random()));return c},bytesToWords:function(I){for(var c=[],re=0,J=0;re<I.length;re++,J+=8)c[J>>>5]|=I[re]<<24-J%32;return c},wordsToBytes:function(I){for(var c=[],re=0;re<32*I.length;re+=8)c.push(I[re>>>5]>>>24-re%32&255);return c},bytesToHex:function(I){for(var c=[],re=0;re<I.length;re++)c.push((I[re]>>>4).toString(16)),c.push((15&I[re]).toString(16));return c.join("")},hexToBytes:function(I){for(var c=[],re=0;re<I.length;re+=2)c.push(parseInt(I.substr(re,2),16));return c},bytesToBase64:function(I){for(var c=[],re=0;re<I.length;re+=3)for(var J=I[re]<<16|I[re+1]<<8|I[re+2],G=0;G<4;G++)c.push(8*re+6*G<=8*I.length?Ge.charAt(J>>>6*(3-G)&63):"=");return c.join("")},base64ToBytes:function(I){I=I.replace(/[^A-Z0-9+\/]/gi,"");for(var c=[],re=0,J=0;re<I.length;J=++re%4)0!=J&&c.push((Ge.indexOf(I.charAt(re-1))&Math.pow(2,-2*J+8)-1)<<2*J|Ge.indexOf(I.charAt(re))>>>6-2*J);return c}}},5541:(Be,Ge,x)=>{"use strict";var I=x(6189),c=x(4263),re=x(8704),J=x(9903),G=x(2069),X=x(8432),L=x(5734),U=x(9102),ce=x(8266),Y=x(2805),oe=x(4666),B=x(6687),$=x(3163),H=x(2093),Pe=x(2086),Le=x(2107),he=x(5709),W=c("ArrayBuffer.prototype.byteLength",!0)||function(_e){return _e.byteLength},K=c("SharedArrayBuffer.prototype.byteLength",!0),fe=c("Date.prototype.getTime"),Fe=Object.getPrototypeOf,de=c("Object.prototype.toString"),it=J("%Set%",!0),le=c("Map.prototype.has",!0),we=c("Map.prototype.get",!0),Ie=c("Map.prototype.size",!0),Ye=c("Set.prototype.add",!0),$e=c("Set.prototype.delete",!0),Me=c("Set.prototype.has",!0),ne=c("Set.prototype.size",!0);function Ue(q,_e,ft,Re){for(var an,Tt=G(q);(an=Tt.next())&&!an.done;)if(O(_e,an.value,ft,Re))return $e(q,an.value),!0;return!1}function Xe(q){return typeof q>"u"?null:"object"!=typeof q?"symbol"!=typeof q&&("string"!=typeof q&&"number"!=typeof q||+q==+q):void 0}function yt(q,_e,ft,Re,Tt,an){var Qt=Xe(ft);if(null!=Qt)return Qt;var tn=we(_e,Qt),Z=I({},Tt,{strict:!1});return!(typeof tn>"u"&&!le(_e,Qt)||!O(Re,tn,Z,an))&&!le(q,Qt)&&O(Re,tn,Z,an)}function cn(q,_e,ft){var Re=Xe(ft);return Re??(Me(_e,Re)&&!Me(q,Re))}function We(q,_e,ft,Re,Tt,an){for(var tn,Z,Qt=G(q);(tn=Qt.next())&&!tn.done;)if(O(ft,Z=tn.value,Tt,an)&&O(Re,we(_e,Z),Tt,an))return $e(q,Z),!0;return!1}function O(q,_e,ft,Re){var Tt=ft||{};if(Tt.strict?L(q,_e):q===_e)return!0;if(Pe(q)!==Pe(_e))return!1;if(!q||!_e||"object"!=typeof q&&"object"!=typeof _e)return Tt.strict?L(q,_e):q==_e;var vn,tn=Re.has(q),Z=Re.has(_e);if(tn&&Z){if(Re.get(q)===Re.get(_e))return!0}else vn={};return tn||Re.set(q,vn),Z||Re.set(_e,vn),function Ve(q,_e,ft,Re){var Tt,an;if(typeof q!=typeof _e||null==q||null==_e||de(q)!==de(_e)||U(q)!==U(_e))return!1;if(ce(q)!==ce(_e))return!1;var Z=q instanceof Error,vn=_e instanceof Error;if(Z!==vn||(Z||vn)&&(q.name!==_e.name||q.message!==_e.message))return!1;var hr=B(q),Jn=B(_e);if(hr!==Jn||(hr||Jn)&&(q.source!==_e.source||re(q)!==re(_e)))return!1;var Oo=oe(q),qr=oe(_e);if(Oo!==qr||(Oo||qr)&&fe(q)!==fe(_e)||ft.strict&&Fe&&Fe(q)!==Fe(_e))return!1;var gi=he(q),Fn=he(_e);if((gi||Fn)&&gi!==Fn)return!1;var co=ye(q),jn=ye(_e);if(co!==jn)return!1;if(co||jn){if(q.length!==_e.length)return!1;for(Tt=0;Tt<q.length;Tt++)if(q[Tt]!==_e[Tt])return!1;return!0}var yi=Y(q),Gr=Y(_e);if(yi!==Gr)return!1;if(yi||Gr)return W(q)===W(_e)&&"function"==typeof Uint8Array&&O(new Uint8Array(q),new Uint8Array(_e),ft,Re);var Ar=$(q),sr=$(_e);if(Ar!==sr)return!1;if(Ar||sr)return K(q)===K(_e)&&"function"==typeof Uint8Array&&O(new Uint8Array(q),new Uint8Array(_e),ft,Re);if(typeof q!=typeof _e)return!1;var Br=H(q),eo=H(_e);if(Br.length!==eo.length)return!1;for(Br.sort(),eo.sort(),Tt=Br.length-1;Tt>=0;Tt--)if(Br[Tt]!=eo[Tt])return!1;for(Tt=Br.length-1;Tt>=0;Tt--)if(!O(q[an=Br[Tt]],_e[an],ft,Re))return!1;var mn=Le(q),Kr=Le(_e);return mn===Kr&&("Set"===mn||"Set"===Kr?function tt(q,_e,ft,Re){if(ne(q)!==ne(_e))return!1;for(var Qt,tn,Z,Tt=G(q),an=G(_e);(Qt=Tt.next())&&!Qt.done;)if(Qt.value&&"object"==typeof Qt.value)Z||(Z=new it),Ye(Z,Qt.value);else if(!Me(_e,Qt.value)){if(ft.strict||!cn(q,_e,Qt.value))return!1;Z||(Z=new it),Ye(Z,Qt.value)}if(Z){for(;(tn=an.next())&&!tn.done;)if(tn.value&&"object"==typeof tn.value){if(!Ue(Z,tn.value,ft.strict,Re))return!1}else if(!ft.strict&&!Me(q,tn.value)&&!Ue(Z,tn.value,ft.strict,Re))return!1;return 0===ne(Z)}return!0}(q,_e,ft,Re):"Map"!==mn||function nt(q,_e,ft,Re){if(Ie(q)!==Ie(_e))return!1;for(var Qt,tn,Z,vn,hr,Jn,Tt=G(q),an=G(_e);(Qt=Tt.next())&&!Qt.done;)if(hr=Qt.value[1],(vn=Qt.value[0])&&"object"==typeof vn)Z||(Z=new it),Ye(Z,vn);else if(typeof(Jn=we(_e,vn))>"u"&&!le(_e,vn)||!O(hr,Jn,ft,Re)){if(ft.strict||!yt(q,_e,vn,hr,ft,Re))return!1;Z||(Z=new it),Ye(Z,vn)}if(Z){for(;(tn=an.next())&&!tn.done;)if(Jn=tn.value[1],(vn=tn.value[0])&&"object"==typeof vn){if(!We(Z,q,vn,Jn,ft,Re))return!1}else if(!(ft.strict||q.has(vn)&&O(we(q,vn),Jn,ft,Re)||We(Z,q,vn,Jn,I({},ft,{strict:!1}),Re)))return!1;return 0===ne(Z)}return!0}(q,_e,ft,Re))}(q,_e,Tt,Re)}function ye(q){return!(!q||"object"!=typeof q||"number"!=typeof q.length||"function"!=typeof q.copy||"function"!=typeof q.slice||q.length>0&&"number"!=typeof q[0]||!(q.constructor&&q.constructor.isBuffer&&q.constructor.isBuffer(q)))}Be.exports=function(_e,ft,Re){return O(_e,ft,Re,X())}},1790:(Be,Ge,x)=>{"use strict";var I=x(2093),c="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),re=Object.prototype.toString,J=Array.prototype.concat,G=Object.defineProperty,L=x(9006)(),U=G&&L,ce=function(oe,B,$,H){B in oe&&(!function(oe){return"function"==typeof oe&&"[object Function]"===re.call(oe)}(H)||!H())||(U?G(oe,B,{configurable:!0,enumerable:!1,value:$,writable:!0}):oe[B]=$)},Y=function(oe,B){var $=arguments.length>2?arguments[2]:{},H=I(B);c&&(H=J.call(H,Object.getOwnPropertySymbols(B)));for(var Pe=0;Pe<H.length;Pe+=1)ce(oe,H[Pe],B[H[Pe]],$[H[Pe]])};Y.supportsDescriptors=!!U,Be.exports=Y},9897:function(Be,Ge){!function(x){"use strict";var B,re=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,J=536870912,G=2*J,L=new WeakMap,ce=function(B,$){return function(H){var Pe=$.get(H),Le=void 0===Pe?H.size:Pe<G?Pe+1:0;if(!H.has(Le))return B(H,Le);if(H.size<J){for(;H.has(Le);)Le=Math.floor(Math.random()*G);return B(H,Le)}if(H.size>re)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;H.has(Le);)Le=Math.floor(Math.random()*re);return B(H,Le)}}((B=L,function($,H){return B.set($,H),H}),L),Y=function(B){return function($){var H=B($);return $.add(H),H}}(ce);x.addUniqueNumber=Y,x.generateUniqueNumber=ce}(Ge)},3037:(Be,Ge,x)=>{"use strict";var I=x(8642),c=Object.prototype.toString,re=Object.prototype.hasOwnProperty,J=function(ce,Y,oe){for(var B=0,$=ce.length;B<$;B++)re.call(ce,B)&&(null==oe?Y(ce[B],B,ce):Y.call(oe,ce[B],B,ce))},G=function(ce,Y,oe){for(var B=0,$=ce.length;B<$;B++)null==oe?Y(ce.charAt(B),B,ce):Y.call(oe,ce.charAt(B),B,ce)},X=function(ce,Y,oe){for(var B in ce)re.call(ce,B)&&(null==oe?Y(ce[B],B,ce):Y.call(oe,ce[B],B,ce))};Be.exports=function(ce,Y,oe){if(!I(Y))throw new TypeError("iterator must be a function");var B;arguments.length>=3&&(B=oe),"[object Array]"===c.call(ce)?J(ce,Y,B):"string"==typeof ce?G(ce,Y,B):X(ce,Y,B)}},2199:Be=>{"use strict";var Ge="Function.prototype.bind called on incompatible ",x=Array.prototype.slice,I=Object.prototype.toString,c="[object Function]";Be.exports=function(J){var G=this;if("function"!=typeof G||I.call(G)!==c)throw new TypeError(Ge+G);for(var L,X=x.call(arguments,1),U=function(){if(this instanceof L){var $=G.apply(this,X.concat(x.call(arguments)));return Object($)===$?$:this}return G.apply(J,X.concat(x.call(arguments)))},ce=Math.max(0,G.length-X.length),Y=[],oe=0;oe<ce;oe++)Y.push("$"+oe);if(L=Function("binder","return function ("+Y.join(",")+"){ return binder.apply(this,arguments); }")(U),G.prototype){var B=function(){};B.prototype=G.prototype,L.prototype=new B,B.prototype=null}return L}},224:(Be,Ge,x)=>{"use strict";var I=x(2199);Be.exports=Function.prototype.bind||I},3677:Be=>{"use strict";var Ge=function(){return"string"==typeof function(){}.name},x=Object.getOwnPropertyDescriptor;if(x)try{x([],"length")}catch{x=null}Ge.functionsHaveConfigurableNames=function(){if(!Ge()||!x)return!1;var re=x(function(){},"name");return!!re&&!!re.configurable};var I=Function.prototype.bind;Ge.boundFunctionsHaveNames=function(){return Ge()&&"function"==typeof I&&""!==function(){}.bind().name},Be.exports=Ge},9903:(Be,Ge,x)=>{"use strict";var I,c=SyntaxError,re=Function,J=TypeError,G=function($e){try{return re('"use strict"; return ('+$e+").constructor;")()}catch{}},X=Object.getOwnPropertyDescriptor;if(X)try{X({},"")}catch{X=null}var L=function(){throw new J},U=X?function(){try{return L}catch{try{return X(arguments,"callee").get}catch{return L}}}():L,ce=x(524)(),Y=Object.getPrototypeOf||function($e){return $e.__proto__},oe={},B=typeof Uint8Array>"u"?I:Y(Uint8Array),$={"%AggregateError%":typeof AggregateError>"u"?I:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?I:ArrayBuffer,"%ArrayIteratorPrototype%":ce?Y([][Symbol.iterator]()):I,"%AsyncFromSyncIteratorPrototype%":I,"%AsyncFunction%":oe,"%AsyncGenerator%":oe,"%AsyncGeneratorFunction%":oe,"%AsyncIteratorPrototype%":oe,"%Atomics%":typeof Atomics>"u"?I:Atomics,"%BigInt%":typeof BigInt>"u"?I:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?I:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?I:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?I:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?I:Float32Array,"%Float64Array%":typeof Float64Array>"u"?I:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?I:FinalizationRegistry,"%Function%":re,"%GeneratorFunction%":oe,"%Int8Array%":typeof Int8Array>"u"?I:Int8Array,"%Int16Array%":typeof Int16Array>"u"?I:Int16Array,"%Int32Array%":typeof Int32Array>"u"?I:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ce?Y(Y([][Symbol.iterator]())):I,"%JSON%":"object"==typeof JSON?JSON:I,"%Map%":typeof Map>"u"?I:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ce?I:Y((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?I:Promise,"%Proxy%":typeof Proxy>"u"?I:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?I:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?I:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ce?I:Y((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?I:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ce?Y(""[Symbol.iterator]()):I,"%Symbol%":ce?Symbol:I,"%SyntaxError%":c,"%ThrowTypeError%":U,"%TypedArray%":B,"%TypeError%":J,"%Uint8Array%":typeof Uint8Array>"u"?I:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?I:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?I:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?I:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?I:WeakMap,"%WeakRef%":typeof WeakRef>"u"?I:WeakRef,"%WeakSet%":typeof WeakSet>"u"?I:WeakSet};try{null.error}catch($e){var H=Y(Y($e));$["%Error.prototype%"]=H}var Pe=function $e(Me){var ne;if("%AsyncFunction%"===Me)ne=G("async function () {}");else if("%GeneratorFunction%"===Me)ne=G("function* () {}");else if("%AsyncGeneratorFunction%"===Me)ne=G("async function* () {}");else if("%AsyncGenerator%"===Me){var Ue=$e("%AsyncGeneratorFunction%");Ue&&(ne=Ue.prototype)}else if("%AsyncIteratorPrototype%"===Me){var Xe=$e("%AsyncGenerator%");Xe&&(ne=Y(Xe.prototype))}return $[Me]=ne,ne},Le={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},he=x(224),W=x(4031),K=he.call(Function.call,Array.prototype.concat),fe=he.call(Function.apply,Array.prototype.splice),Fe=he.call(Function.call,String.prototype.replace),de=he.call(Function.call,String.prototype.slice),it=he.call(Function.call,RegExp.prototype.exec),le=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,we=/\\(\\)?/g,Ie=function(Me){var ne=de(Me,0,1),Ue=de(Me,-1);if("%"===ne&&"%"!==Ue)throw new c("invalid intrinsic syntax, expected closing `%`");if("%"===Ue&&"%"!==ne)throw new c("invalid intrinsic syntax, expected opening `%`");var Xe=[];return Fe(Me,le,function(yt,cn,We,O){Xe[Xe.length]=We?Fe(O,we,"$1"):cn||yt}),Xe},Ye=function(Me,ne){var Xe,Ue=Me;if(W(Le,Ue)&&(Ue="%"+(Xe=Le[Ue])[0]+"%"),W($,Ue)){var yt=$[Ue];if(yt===oe&&(yt=Pe(Ue)),typeof yt>"u"&&!ne)throw new J("intrinsic "+Me+" exists, but is not available. Please file an issue!");return{alias:Xe,name:Ue,value:yt}}throw new c("intrinsic "+Me+" does not exist!")};Be.exports=function(Me,ne){if("string"!=typeof Me||0===Me.length)throw new J("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof ne)throw new J('"allowMissing" argument must be a boolean');if(null===it(/^%?[^%]*%?$/,Me))throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Ue=Ie(Me),Xe=Ue.length>0?Ue[0]:"",yt=Ye("%"+Xe+"%",ne),cn=yt.name,We=yt.value,O=!1,ye=yt.alias;ye&&(Xe=ye[0],fe(Ue,K([0,1],ye)));for(var tt=1,nt=!0;tt<Ue.length;tt+=1){var Ve=Ue[tt],q=de(Ve,0,1),_e=de(Ve,-1);if(('"'===q||"'"===q||"`"===q||'"'===_e||"'"===_e||"`"===_e)&&q!==_e)throw new c("property names with quotes must have matching quotes");if(("constructor"===Ve||!nt)&&(O=!0),W($,cn="%"+(Xe+="."+Ve)+"%"))We=$[cn];else if(null!=We){if(!(Ve in We)){if(!ne)throw new J("base intrinsic for "+Me+" exists, but the property is not available.");return}if(X&&tt+1>=Ue.length){var ft=X(We,Ve);We=(nt=!!ft)&&"get"in ft&&!("originalValue"in ft.get)?ft.get:We[Ve]}else nt=W(We,Ve),We=We[Ve];nt&&!O&&($[cn]=We)}}return We}},253:(Be,Ge,x)=>{"use strict";var c=x(9903)("%Object.getOwnPropertyDescriptor%",!0);if(c)try{c([],"length")}catch{c=null}Be.exports=c},5861:Be=>{"use strict";var Ge=typeof BigInt<"u"&&BigInt;Be.exports=function(){return"function"==typeof Ge&&"function"==typeof BigInt&&"bigint"==typeof Ge(42)&&"bigint"==typeof BigInt(42)}},9006:(Be,Ge,x)=>{"use strict";var c=x(9903)("%Object.defineProperty%",!0),re=function(){if(c)try{return c({},"a",{value:1}),!0}catch{return!1}return!1};re.hasArrayLengthDefineBug=function(){if(!re())return null;try{return 1!==c([],"length",{value:1}).length}catch{return!0}},Be.exports=re},524:(Be,Ge,x)=>{"use strict";var I=typeof Symbol<"u"&&Symbol,c=x(6858);Be.exports=function(){return"function"==typeof I&&"function"==typeof Symbol&&"symbol"==typeof I("foo")&&"symbol"==typeof Symbol("bar")&&c()}},6858:Be=>{"use strict";Be.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var x={},I=Symbol("test"),c=Object(I);if("string"==typeof I||"[object Symbol]"!==Object.prototype.toString.call(I)||"[object Symbol]"!==Object.prototype.toString.call(c))return!1;for(I in x[I]=42,x)return!1;if("function"==typeof Object.keys&&0!==Object.keys(x).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(x).length)return!1;var J=Object.getOwnPropertySymbols(x);if(1!==J.length||J[0]!==I||!Object.prototype.propertyIsEnumerable.call(x,I))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var G=Object.getOwnPropertyDescriptor(x,I);if(42!==G.value||!0!==G.enumerable)return!1}return!0}},3261:(Be,Ge,x)=>{"use strict";var I=x(6858);Be.exports=function(){return I()&&!!Symbol.toStringTag}},4031:(Be,Ge,x)=>{"use strict";var I=x(224);Be.exports=I.call(Function.call,Object.prototype.hasOwnProperty)},5847:(Be,Ge,x)=>{"use strict";var I=x(9903),c=x(4031),re=x(8432)(),J=I("%TypeError%"),G={assert:function(X,L){if(!X||"object"!=typeof X&&"function"!=typeof X)throw new J("`O` is not an object");if("string"!=typeof L)throw new J("`slot` must be a string");if(re.assert(X),!G.has(X,L))throw new J("`slot` is not present on `O`")},get:function(X,L){if(!X||"object"!=typeof X&&"function"!=typeof X)throw new J("`O` is not an object");if("string"!=typeof L)throw new J("`slot` must be a string");var U=re.get(X);return U&&U["$"+L]},has:function(X,L){if(!X||"object"!=typeof X&&"function"!=typeof X)throw new J("`O` is not an object");if("string"!=typeof L)throw new J("`slot` must be a string");var U=re.get(X);return!!U&&c(U,"$"+L)},set:function(X,L,U){if(!X||"object"!=typeof X&&"function"!=typeof X)throw new J("`O` is not an object");if("string"!=typeof L)throw new J("`slot` must be a string");var ce=re.get(X);ce||re.set(X,ce={}),ce["$"+L]=U}};Object.freeze&&Object.freeze(G),Be.exports=G},9102:(Be,Ge,x)=>{"use strict";var I=x(3261)(),re=x(4263)("Object.prototype.toString"),J=function(U){return!(I&&U&&"object"==typeof U&&Symbol.toStringTag in U)&&"[object Arguments]"===re(U)},G=function(U){return!!J(U)||null!==U&&"object"==typeof U&&"number"==typeof U.length&&U.length>=0&&"[object Array]"!==re(U)&&"[object Function]"===re(U.callee)},X=function(){return J(arguments)}();J.isLegacyArguments=G,Be.exports=X?J:G},2805:(Be,Ge,x)=>{"use strict";var I=x(3855),c=x(4263),re=x(9903),J=x(7673),G=re("ArrayBuffer",!0),X=re("Float32Array",!0),L=c("ArrayBuffer.prototype.byteLength",!0),U=G&&!L&&(new G).slice,ce=U&&I(U);Be.exports=L||ce?function(oe){if(!oe||"object"!=typeof oe)return!1;try{return L?L(oe):ce(oe,0),!0}catch{return!1}}:X?function(oe){try{return new X(oe).buffer===oe&&!J(oe)}catch{return!1}}:function(oe){return!1}},3:(Be,Ge,x)=>{"use strict";if(x(5861)()){var c=BigInt.prototype.valueOf;Be.exports=function(G){return!(null===G||typeof G>"u"||"boolean"==typeof G||"string"==typeof G||"number"==typeof G||"symbol"==typeof G||"function"==typeof G)&&("bigint"==typeof G||function(G){try{return c.call(G),!0}catch{}return!1}(G))}}else Be.exports=function(G){return!1}},6180:(Be,Ge,x)=>{"use strict";var I=x(4263),c=I("Boolean.prototype.toString"),re=I("Object.prototype.toString"),X=x(3261)();Be.exports=function(U){return"boolean"==typeof U||null!==U&&"object"==typeof U&&(X&&Symbol.toStringTag in U?function(U){try{return c(U),!0}catch{return!1}}(U):"[object Boolean]"===re(U))}},5057:Be=>{function Ge(I){return!!I.constructor&&"function"==typeof I.constructor.isBuffer&&I.constructor.isBuffer(I)}Be.exports=function(I){return null!=I&&(Ge(I)||function x(I){return"function"==typeof I.readFloatLE&&"function"==typeof I.slice&&Ge(I.slice(0,0))}(I)||!!I._isBuffer)}},8642:Be=>{"use strict";var I,c,Ge=Function.prototype.toString,x="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof x&&"function"==typeof Object.defineProperty)try{I=Object.defineProperty({},"length",{get:function(){throw c}}),c={},x(function(){throw 42},null,I)}catch(he){he!==c&&(x=null)}else x=null;var re=/^\s*class\b/,J=function(W){try{var K=Ge.call(W);return re.test(K)}catch{return!1}},G=function(W){try{return!J(W)&&(Ge.call(W),!0)}catch{return!1}},X=Object.prototype.toString,$="function"==typeof Symbol&&!!Symbol.toStringTag,H=!(0 in[,]),Pe=function(){return!1};if("object"==typeof document){var Le=document.all;X.call(Le)===X.call(document.all)&&(Pe=function(W){if((H||!W)&&(typeof W>"u"||"object"==typeof W))try{var K=X.call(W);return("[object HTMLAllCollection]"===K||"[object HTML document.all class]"===K||"[object HTMLCollection]"===K||"[object Object]"===K)&&null==W("")}catch{}return!1})}Be.exports=x?function(W){if(Pe(W))return!0;if(!W||"function"!=typeof W&&"object"!=typeof W)return!1;try{x(W,null,I)}catch(K){if(K!==c)return!1}return!J(W)&&G(W)}:function(W){if(Pe(W))return!0;if(!W||"function"!=typeof W&&"object"!=typeof W)return!1;if($)return G(W);if(J(W))return!1;var K=X.call(W);return!("[object Function]"!==K&&"[object GeneratorFunction]"!==K&&!/^\[object HTML/.test(K))&&G(W)}},4666:(Be,Ge,x)=>{"use strict";var I=Date.prototype.getDay,re=Object.prototype.toString,G=x(3261)();Be.exports=function(L){return"object"==typeof L&&null!==L&&(G?function(L){try{return I.call(L),!0}catch{return!1}}(L):"[object Date]"===re.call(L))}},9898:Be=>{"use strict";var I,Ge="function"==typeof Map&&Map.prototype?Map:null,x="function"==typeof Set&&Set.prototype?Set:null;Ge||(I=function(G){return!1});var c=Ge?Map.prototype.has:null,re=x?Set.prototype.has:null;!I&&!c&&(I=function(G){return!1}),Be.exports=I||function(G){if(!G||"object"!=typeof G)return!1;try{if(c.call(G),re)try{re.call(G)}catch{return!0}return G instanceof Ge}catch{}return!1}},1046:(Be,Ge,x)=>{"use strict";var I=Number.prototype.toString,re=Object.prototype.toString,G=x(3261)();Be.exports=function(L){return"number"==typeof L||"object"==typeof L&&(G?function(L){try{return I.call(L),!0}catch{return!1}}(L):"[object Number]"===re.call(L))}},6687:(Be,Ge,x)=>{"use strict";var re,J,G,X,I=x(4263),c=x(3261)();if(c){re=I("Object.prototype.hasOwnProperty"),J=I("RegExp.prototype.exec"),G={};var L=function(){throw G};X={toString:L,valueOf:L},"symbol"==typeof Symbol.toPrimitive&&(X[Symbol.toPrimitive]=L)}var U=I("Object.prototype.toString"),ce=Object.getOwnPropertyDescriptor;Be.exports=c?function(B){if(!B||"object"!=typeof B)return!1;var $=ce(B,"lastIndex");if(!$||!re($,"value"))return!1;try{J(B,X)}catch(Pe){return Pe===G}}:function(B){return!(!B||"object"!=typeof B&&"function"!=typeof B)&&"[object RegExp]"===U(B)}},3870:Be=>{"use strict";var I,Ge="function"==typeof Map&&Map.prototype?Map:null,x="function"==typeof Set&&Set.prototype?Set:null;x||(I=function(G){return!1});var c=Ge?Map.prototype.has:null,re=x?Set.prototype.has:null;!I&&!re&&(I=function(G){return!1}),Be.exports=I||function(G){if(!G||"object"!=typeof G)return!1;try{if(re.call(G),c)try{c.call(G)}catch{return!0}return G instanceof x}catch{}return!1}},3163:(Be,Ge,x)=>{"use strict";var c=x(4263)("SharedArrayBuffer.prototype.byteLength",!0);Be.exports=c?function(J){if(!J||"object"!=typeof J)return!1;try{return c(J),!0}catch{return!1}}:function(J){return!1}},4764:(Be,Ge,x)=>{"use strict";var I=String.prototype.valueOf,re=Object.prototype.toString,G=x(3261)();Be.exports=function(L){return"string"==typeof L||"object"==typeof L&&(G?function(L){try{return I.call(L),!0}catch{return!1}}(L):"[object String]"===re.call(L))}},6434:(Be,Ge,x)=>{"use strict";var I=Object.prototype.toString;if(x(524)()){var re=Symbol.prototype.toString,J=/^Symbol\(.*\)$/;Be.exports=function(L){if("symbol"==typeof L)return!0;if("[object Symbol]"!==I.call(L))return!1;try{return function(L){return"symbol"==typeof L.valueOf()&&J.test(re.call(L))}(L)}catch{return!1}}}else Be.exports=function(L){return!1}},7673:(Be,Ge,x)=>{"use strict";var I=x(3037),c=x(5271),re=x(4263),J=re("Object.prototype.toString"),G=x(3261)(),X=x(253),L=typeof globalThis>"u"?global:globalThis,U=c(),ce=re("Array.prototype.indexOf",!0)||function(Pe,Le){for(var he=0;he<Pe.length;he+=1)if(Pe[he]===Le)return he;return-1},Y=re("String.prototype.slice"),oe={},B=Object.getPrototypeOf;G&&X&&B&&I(U,function(H){var Pe=new L[H];if(Symbol.toStringTag in Pe){var Le=B(Pe),he=X(Le,Symbol.toStringTag);if(!he){var W=B(Le);he=X(W,Symbol.toStringTag)}oe[H]=he.get}}),Be.exports=function(Pe){if(!Pe||"object"!=typeof Pe)return!1;if(!G||!(Symbol.toStringTag in Pe)){var Le=Y(J(Pe),8,-1);return ce(U,Le)>-1}return!!X&&function(Pe){var Le=!1;return I(oe,function(he,W){if(!Le)try{Le=he.call(Pe)===W}catch{}}),Le}(Pe)}},5585:Be=>{"use strict";var I,Ge="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,x="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;Ge||(I=function(G){return!1});var c=Ge?Ge.prototype.has:null,re=x?x.prototype.has:null;!I&&!c&&(I=function(G){return!1}),Be.exports=I||function(G){if(!G||"object"!=typeof G)return!1;try{if(c.call(G,c),re)try{re.call(G,re)}catch{return!0}return G instanceof Ge}catch{}return!1}},1902:(Be,Ge,x)=>{"use strict";var I=x(9903),c=x(4263),re=I("%WeakSet%",!0),J=c("WeakSet.prototype.has",!0);if(J){var G=c("WeakMap.prototype.has",!0);Be.exports=function(L){if(!L||"object"!=typeof L)return!1;try{if(J(L,J),G)try{G(L,G)}catch{return!0}return L instanceof re}catch{}return!1}}else Be.exports=function(L){return!1}},8266:Be=>{var Ge={}.toString;Be.exports=Array.isArray||function(x){return"[object Array]"==Ge.call(x)}},5023:(Be,Ge,x)=>{var I,c,re,J,G;I=x(7175),c=x(5107).utf8,re=x(5057),J=x(5107).bin,(G=function(X,L){X.constructor==String?X=L&&"binary"===L.encoding?J.stringToBytes(X):c.stringToBytes(X):re(X)?X=Array.prototype.slice.call(X,0):!Array.isArray(X)&&X.constructor!==Uint8Array&&(X=X.toString());for(var U=I.bytesToWords(X),ce=8*X.length,Y=1732584193,oe=-271733879,B=-1732584194,$=271733878,H=0;H<U.length;H++)U[H]=16711935&(U[H]<<8|U[H]>>>24)|4278255360&(U[H]<<24|U[H]>>>8);U[ce>>>5]|=128<<ce%32,U[14+(ce+64>>>9<<4)]=ce;var Pe=G._ff,Le=G._gg,he=G._hh,W=G._ii;for(H=0;H<U.length;H+=16){var K=Y,fe=oe,Fe=B,de=$;Y=Pe(Y,oe,B,$,U[H+0],7,-680876936),$=Pe($,Y,oe,B,U[H+1],12,-389564586),B=Pe(B,$,Y,oe,U[H+2],17,606105819),oe=Pe(oe,B,$,Y,U[H+3],22,-1044525330),Y=Pe(Y,oe,B,$,U[H+4],7,-176418897),$=Pe($,Y,oe,B,U[H+5],12,1200080426),B=Pe(B,$,Y,oe,U[H+6],17,-1473231341),oe=Pe(oe,B,$,Y,U[H+7],22,-45705983),Y=Pe(Y,oe,B,$,U[H+8],7,1770035416),$=Pe($,Y,oe,B,U[H+9],12,-1958414417),B=Pe(B,$,Y,oe,U[H+10],17,-42063),oe=Pe(oe,B,$,Y,U[H+11],22,-1990404162),Y=Pe(Y,oe,B,$,U[H+12],7,1804603682),$=Pe($,Y,oe,B,U[H+13],12,-40341101),B=Pe(B,$,Y,oe,U[H+14],17,-1502002290),Y=Le(Y,oe=Pe(oe,B,$,Y,U[H+15],22,1236535329),B,$,U[H+1],5,-165796510),$=Le($,Y,oe,B,U[H+6],9,-1069501632),B=Le(B,$,Y,oe,U[H+11],14,643717713),oe=Le(oe,B,$,Y,U[H+0],20,-373897302),Y=Le(Y,oe,B,$,U[H+5],5,-701558691),$=Le($,Y,oe,B,U[H+10],9,38016083),B=Le(B,$,Y,oe,U[H+15],14,-660478335),oe=Le(oe,B,$,Y,U[H+4],20,-405537848),Y=Le(Y,oe,B,$,U[H+9],5,568446438),$=Le($,Y,oe,B,U[H+14],9,-1019803690),B=Le(B,$,Y,oe,U[H+3],14,-187363961),oe=Le(oe,B,$,Y,U[H+8],20,1163531501),Y=Le(Y,oe,B,$,U[H+13],5,-1444681467),$=Le($,Y,oe,B,U[H+2],9,-51403784),B=Le(B,$,Y,oe,U[H+7],14,1735328473),Y=he(Y,oe=Le(oe,B,$,Y,U[H+12],20,-1926607734),B,$,U[H+5],4,-378558),$=he($,Y,oe,B,U[H+8],11,-2022574463),B=he(B,$,Y,oe,U[H+11],16,1839030562),oe=he(oe,B,$,Y,U[H+14],23,-35309556),Y=he(Y,oe,B,$,U[H+1],4,-1530992060),$=he($,Y,oe,B,U[H+4],11,1272893353),B=he(B,$,Y,oe,U[H+7],16,-155497632),oe=he(oe,B,$,Y,U[H+10],23,-1094730640),Y=he(Y,oe,B,$,U[H+13],4,681279174),$=he($,Y,oe,B,U[H+0],11,-358537222),B=he(B,$,Y,oe,U[H+3],16,-722521979),oe=he(oe,B,$,Y,U[H+6],23,76029189),Y=he(Y,oe,B,$,U[H+9],4,-640364487),$=he($,Y,oe,B,U[H+12],11,-421815835),B=he(B,$,Y,oe,U[H+15],16,530742520),Y=W(Y,oe=he(oe,B,$,Y,U[H+2],23,-995338651),B,$,U[H+0],6,-198630844),$=W($,Y,oe,B,U[H+7],10,1126891415),B=W(B,$,Y,oe,U[H+14],15,-1416354905),oe=W(oe,B,$,Y,U[H+5],21,-57434055),Y=W(Y,oe,B,$,U[H+12],6,1700485571),$=W($,Y,oe,B,U[H+3],10,-1894986606),B=W(B,$,Y,oe,U[H+10],15,-1051523),oe=W(oe,B,$,Y,U[H+1],21,-2054922799),Y=W(Y,oe,B,$,U[H+8],6,1873313359),$=W($,Y,oe,B,U[H+15],10,-30611744),B=W(B,$,Y,oe,U[H+6],15,-1560198380),oe=W(oe,B,$,Y,U[H+13],21,1309151649),Y=W(Y,oe,B,$,U[H+4],6,-145523070),$=W($,Y,oe,B,U[H+11],10,-1120210379),B=W(B,$,Y,oe,U[H+2],15,718787259),oe=W(oe,B,$,Y,U[H+9],21,-343485551),Y=Y+K>>>0,oe=oe+fe>>>0,B=B+Fe>>>0,$=$+de>>>0}return I.endian([Y,oe,B,$])})._ff=function(X,L,U,ce,Y,oe,B){var $=X+(L&U|~L&ce)+(Y>>>0)+B;return($<<oe|$>>>32-oe)+L},G._gg=function(X,L,U,ce,Y,oe,B){var $=X+(L&ce|U&~ce)+(Y>>>0)+B;return($<<oe|$>>>32-oe)+L},G._hh=function(X,L,U,ce,Y,oe,B){var $=X+(L^U^ce)+(Y>>>0)+B;return($<<oe|$>>>32-oe)+L},G._ii=function(X,L,U,ce,Y,oe,B){var $=X+(U^(L|~ce))+(Y>>>0)+B;return($<<oe|$>>>32-oe)+L},G._blocksize=16,G._digestsize=16,Be.exports=function(X,L){if(null==X)throw new Error("Illegal argument "+X);var U=I.wordsToBytes(G(X,L));return L&&L.asBytes?U:L&&L.asString?J.bytesToString(U):I.bytesToHex(U)}},9052:(Be,Ge)=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});var x=[];x[0]=function(){return function(){}},x[1]=function(J,G){return typeof G>"u"?J:function(L){J(L,G)}};var re=function(){function J(){this.hasHandlers=!1,this._handlers=[],this._contexts=[],this._createDispatcher()}return J.prototype.addHandler=function(G,X){return this.isHandlerAttached(G,X)||(this._handlers.push(G),this._contexts.push(X),this._createDispatcher(),this._updateHasHandlers()),this},J.prototype.removeHandler=function(G,X){var L=this._getHandlerIndex(G,X);return typeof L<"u"&&(this._handlers.splice(L,1),this._contexts.splice(L,1),this._createDispatcher(),this._updateHasHandlers()),this},J.prototype.isHandlerAttached=function(G,X){return typeof this._getHandlerIndex(G,X)<"u"},J.prototype._updateHasHandlers=function(){this.hasHandlers=!!this._handlers.length},J.prototype._getHandlerIndex=function(G,X){var U,L=this._handlers.length;for(U=0;U<L&&(this._handlers[U]!==G||this._contexts[U]!==X);U++);return U<L?U:void 0},J.prototype._createDispatcher=function(){this.dispatch=function I(J){return x[J]||(x[J]=function c(J){for(var G="return function dispatcher"+J+"(payload) {\n",X=[],L=[],U=0;U<J;U++)X.push("cb"+U),L.push("ctx"+U),G+="    cb"+U+"(payload, ctx"+U+");\n";return G+="};",new(Function.bind.apply(Function,[void 0].concat(X.concat(L),[G])))}(J)),x[J]}(this._handlers.length).apply(this,this._handlers.concat(this._contexts))},J}();Ge.default=re},1158:(Be,Ge,x)=>{"use strict";var c=x(9052);Ge.j=c.default},8597:(Be,Ge,x)=>{var I="function"==typeof Map&&Map.prototype,c=Object.getOwnPropertyDescriptor&&I?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,re=I&&c&&"function"==typeof c.get?c.get:null,J=I&&Map.prototype.forEach,G="function"==typeof Set&&Set.prototype,X=Object.getOwnPropertyDescriptor&&G?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,L=G&&X&&"function"==typeof X.get?X.get:null,U=G&&Set.prototype.forEach,Y="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,B="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,H="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,Pe=Boolean.prototype.valueOf,Le=Object.prototype.toString,he=Function.prototype.toString,W=String.prototype.match,K=String.prototype.slice,fe=String.prototype.replace,Fe=String.prototype.toUpperCase,de=String.prototype.toLowerCase,it=RegExp.prototype.test,le=Array.prototype.concat,we=Array.prototype.join,Ie=Array.prototype.slice,Ye=Math.floor,$e="function"==typeof BigInt?BigInt.prototype.valueOf:null,Me=Object.getOwnPropertySymbols,ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,Ue="function"==typeof Symbol&&"object"==typeof Symbol.iterator,Xe="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,yt=Object.prototype.propertyIsEnumerable,cn=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(ae){return ae.__proto__}:null);function We(ae,ze){if(ae===1/0||ae===-1/0||ae!=ae||ae&&ae>-1e3&&ae<1e3||it.call(/e/,ze))return ze;var On=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof ae){var Bn=ae<0?-Ye(-ae):Ye(ae);if(Bn!==ae){var Zt=String(Bn),xt=K.call(ze,Zt.length+1);return fe.call(Zt,On,"$&_")+"."+fe.call(fe.call(xt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return fe.call(ze,On,"$&_")}var O=x(4654),ye=O.custom,tt=tn(ye)?ye:null;function nt(ae,ze,On){var Bn="double"===(On.quoteStyle||ze)?'"':"'";return Bn+ae+Bn}function Ve(ae){return fe.call(String(ae),/"/g,"&quot;")}function q(ae){return!("[object Array]"!==Jn(ae)||Xe&&"object"==typeof ae&&Xe in ae)}function ft(ae){return!("[object RegExp]"!==Jn(ae)||Xe&&"object"==typeof ae&&Xe in ae)}function tn(ae){if(Ue)return ae&&"object"==typeof ae&&ae instanceof Symbol;if("symbol"==typeof ae)return!0;if(!ae||"object"!=typeof ae||!ne)return!1;try{return ne.call(ae),!0}catch{}return!1}Be.exports=function ae(ze,On,Bn,Zt){var xt=On||{};if(hr(xt,"quoteStyle")&&"single"!==xt.quoteStyle&&"double"!==xt.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(hr(xt,"maxStringLength")&&("number"==typeof xt.maxStringLength?xt.maxStringLength<0&&xt.maxStringLength!==1/0:null!==xt.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var gr=!hr(xt,"customInspect")||xt.customInspect;if("boolean"!=typeof gr&&"symbol"!==gr)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(hr(xt,"indent")&&null!==xt.indent&&"\t"!==xt.indent&&!(parseInt(xt.indent,10)===xt.indent&&xt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(hr(xt,"numericSeparator")&&"boolean"!=typeof xt.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Jt=xt.numericSeparator;if(typeof ze>"u")return"undefined";if(null===ze)return"null";if("boolean"==typeof ze)return ze?"true":"false";if("string"==typeof ze)return Ar(ze,xt);if("number"==typeof ze){if(0===ze)return 1/0/ze>0?"0":"-0";var er=String(ze);return Jt?We(ze,er):er}if("bigint"==typeof ze){var tr=String(ze)+"n";return Jt?We(ze,tr):tr}var ln=typeof xt.depth>"u"?5:xt.depth;if(typeof Bn>"u"&&(Bn=0),Bn>=ln&&ln>0&&"object"==typeof ze)return q(ze)?"[Array]":"[Object]";var jt=function Hi(ae,ze){var On;if("\t"===ae.indent)On="\t";else{if(!("number"==typeof ae.indent&&ae.indent>0))return null;On=we.call(Array(ae.indent+1)," ")}return{base:On,prev:we.call(Array(ze+1),On)}}(xt,Bn);if(typeof Zt>"u")Zt=[];else if(qr(Zt,ze)>=0)return"[Circular]";function E(si,Ko,vo){if(Ko&&(Zt=Ie.call(Zt)).push(Ko),vo){var Wr={depth:xt.depth};return hr(xt,"quoteStyle")&&(Wr.quoteStyle=xt.quoteStyle),ae(si,Wr,Bn+1,Zt)}return ae(si,xt,Bn+1,Zt)}if("function"==typeof ze&&!ft(ze)){var S=function Oo(ae){if(ae.name)return ae.name;var ze=W.call(he.call(ae),/^function\s*([\w$]+)/);return ze?ze[1]:null}(ze),Kn=at(ze,E);return"[Function"+(S?": "+S:" (anonymous)")+"]"+(Kn.length>0?" { "+we.call(Kn,", ")+" }":"")}if(tn(ze)){var D=Ue?fe.call(String(ze),/^(Symbol\(.*\))_[^)]*$/,"$1"):ne.call(ze);return"object"!=typeof ze||Ue?D:Br(D)}if(function Gr(ae){return!(!ae||"object"!=typeof ae)&&(typeof HTMLElement<"u"&&ae instanceof HTMLElement||"string"==typeof ae.nodeName&&"function"==typeof ae.getAttribute)}(ze)){for(var Nn="<"+de.call(String(ze.nodeName)),No=ze.attributes||[],qo=0;qo<No.length;qo++)Nn+=" "+No[qo].name+"="+nt(Ve(No[qo].value),"double",xt);return Nn+=">",ze.childNodes&&ze.childNodes.length&&(Nn+="..."),Nn+"</"+de.call(String(ze.nodeName))+">"}if(q(ze)){if(0===ze.length)return"[]";var _o=at(ze,E);return jt&&!function Kr(ae){for(var ze=0;ze<ae.length;ze++)if(qr(ae[ze],"\n")>=0)return!1;return!0}(_o)?"["+Vr(_o,jt)+"]":"[ "+we.call(_o,", ")+" ]"}if(function Re(ae){return!("[object Error]"!==Jn(ae)||Xe&&"object"==typeof ae&&Xe in ae)}(ze)){var xi=at(ze,E);return"cause"in Error.prototype||!("cause"in ze)||yt.call(ze,"cause")?0===xi.length?"["+String(ze)+"]":"{ ["+String(ze)+"] "+we.call(xi,", ")+" }":"{ ["+String(ze)+"] "+we.call(le.call("[cause]: "+E(ze.cause),xi),", ")+" }"}if("object"==typeof ze&&gr){if(tt&&"function"==typeof ze[tt]&&O)return O(ze,{depth:ln-Bn});if("symbol"!==gr&&"function"==typeof ze.inspect)return ze.inspect()}if(function gi(ae){if(!re||!ae||"object"!=typeof ae)return!1;try{re.call(ae);try{L.call(ae)}catch{return!0}return ae instanceof Map}catch{}return!1}(ze)){var Lo=[];return J&&J.call(ze,function(si,Ko){Lo.push(E(Ko,ze,!0)+" => "+E(si,ze))}),mn("Map",re.call(ze),Lo,jt)}if(function jn(ae){if(!L||!ae||"object"!=typeof ae)return!1;try{L.call(ae);try{re.call(ae)}catch{return!0}return ae instanceof Set}catch{}return!1}(ze)){var _i=[];return U&&U.call(ze,function(si){_i.push(E(si,ze))}),mn("Set",L.call(ze),_i,jt)}if(function Fn(ae){if(!Y||!ae||"object"!=typeof ae)return!1;try{Y.call(ae,Y);try{B.call(ae,B)}catch{return!0}return ae instanceof WeakMap}catch{}return!1}(ze))return eo("WeakMap");if(function yi(ae){if(!B||!ae||"object"!=typeof ae)return!1;try{B.call(ae,B);try{Y.call(ae,Y)}catch{return!0}return ae instanceof WeakSet}catch{}return!1}(ze))return eo("WeakSet");if(function co(ae){if(!H||!ae||"object"!=typeof ae)return!1;try{return H.call(ae),!0}catch{}return!1}(ze))return eo("WeakRef");if(function an(ae){return!("[object Number]"!==Jn(ae)||Xe&&"object"==typeof ae&&Xe in ae)}(ze))return Br(E(Number(ze)));if(function Z(ae){if(!ae||"object"!=typeof ae||!$e)return!1;try{return $e.call(ae),!0}catch{}return!1}(ze))return Br(E($e.call(ze)));if(function Qt(ae){return!("[object Boolean]"!==Jn(ae)||Xe&&"object"==typeof ae&&Xe in ae)}(ze))return Br(Pe.call(ze));if(function Tt(ae){return!("[object String]"!==Jn(ae)||Xe&&"object"==typeof ae&&Xe in ae)}(ze))return Br(E(String(ze)));if(!function _e(ae){return!("[object Date]"!==Jn(ae)||Xe&&"object"==typeof ae&&Xe in ae)}(ze)&&!ft(ze)){var vi=at(ze,E),to=cn?cn(ze)===Object.prototype:ze instanceof Object||ze.constructor===Object,$o=ze instanceof Object?"":"null prototype",yr=!to&&Xe&&Object(ze)===ze&&Xe in ze?K.call(Jn(ze),8,-1):$o?"Object":"",Yr=(to||"function"!=typeof ze.constructor?"":ze.constructor.name?ze.constructor.name+" ":"")+(yr||$o?"["+we.call(le.call([],yr||[],$o||[]),": ")+"] ":"");return 0===vi.length?Yr+"{}":jt?Yr+"{"+Vr(vi,jt)+"}":Yr+"{ "+we.call(vi,", ")+" }"}return String(ze)};var vn=Object.prototype.hasOwnProperty||function(ae){return ae in this};function hr(ae,ze){return vn.call(ae,ze)}function Jn(ae){return Le.call(ae)}function qr(ae,ze){if(ae.indexOf)return ae.indexOf(ze);for(var On=0,Bn=ae.length;On<Bn;On++)if(ae[On]===ze)return On;return-1}function Ar(ae,ze){if(ae.length>ze.maxStringLength){var On=ae.length-ze.maxStringLength,Bn="... "+On+" more character"+(On>1?"s":"");return Ar(K.call(ae,0,ze.maxStringLength),ze)+Bn}return nt(fe.call(fe.call(ae,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,sr),"single",ze)}function sr(ae){var ze=ae.charCodeAt(0),On={8:"b",9:"t",10:"n",12:"f",13:"r"}[ze];return On?"\\"+On:"\\x"+(ze<16?"0":"")+Fe.call(ze.toString(16))}function Br(ae){return"Object("+ae+")"}function eo(ae){return ae+" { ? }"}function mn(ae,ze,On,Bn){return ae+" ("+ze+") {"+(Bn?Vr(On,Bn):we.call(On,", "))+"}"}function Vr(ae,ze){if(0===ae.length)return"";var On="\n"+ze.prev+ze.base;return On+we.call(ae,","+On)+"\n"+ze.prev}function at(ae,ze){var On=q(ae),Bn=[];if(On){Bn.length=ae.length;for(var Zt=0;Zt<ae.length;Zt++)Bn[Zt]=hr(ae,Zt)?ze(ae[Zt],ae):""}var gr,xt="function"==typeof Me?Me(ae):[];if(Ue){gr={};for(var Jt=0;Jt<xt.length;Jt++)gr["$"+xt[Jt]]=xt[Jt]}for(var er in ae)hr(ae,er)&&(On&&String(Number(er))===er&&er<ae.length||Ue&&gr["$"+er]instanceof Symbol||(it.call(/[^\w$]/,er)?Bn.push(ze(er,ae)+": "+ze(ae[er],ae)):Bn.push(er+": "+ze(ae[er],ae))));if("function"==typeof Me)for(var tr=0;tr<xt.length;tr++)yt.call(ae,xt[tr])&&Bn.push("["+ze(xt[tr])+"]: "+ze(ae[xt[tr]],ae));return Bn}},6872:Be=>{"use strict";var Ge=function(x){return x!=x};Be.exports=function(I,c){return 0===I&&0===c?1/I==1/c:!!(I===c||Ge(I)&&Ge(c))}},5734:(Be,Ge,x)=>{"use strict";var I=x(1790),c=x(3855),re=x(6872),J=x(3306),G=x(7715),X=c(J(),Object);I(X,{getPolyfill:J,implementation:re,shim:G}),Be.exports=X},3306:(Be,Ge,x)=>{"use strict";var I=x(6872);Be.exports=function(){return"function"==typeof Object.is?Object.is:I}},7715:(Be,Ge,x)=>{"use strict";var I=x(3306),c=x(1790);Be.exports=function(){var J=I();return c(Object,{is:J},{is:function(){return Object.is!==J}}),J}},7010:(Be,Ge,x)=>{"use strict";var I;if(!Object.keys){var c=Object.prototype.hasOwnProperty,re=Object.prototype.toString,J=x(5185),G=Object.prototype.propertyIsEnumerable,X=!G.call({toString:null},"toString"),L=G.call(function(){},"prototype"),U=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],ce=function($){var H=$.constructor;return H&&H.prototype===$},Y={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},oe=function(){if(typeof window>"u")return!1;for(var $ in window)try{if(!Y["$"+$]&&c.call(window,$)&&null!==window[$]&&"object"==typeof window[$])try{ce(window[$])}catch{return!0}}catch{return!0}return!1}();I=function(H){var Pe=null!==H&&"object"==typeof H,Le="[object Function]"===re.call(H),he=J(H),W=Pe&&"[object String]"===re.call(H),K=[];if(!Pe&&!Le&&!he)throw new TypeError("Object.keys called on a non-object");var fe=L&&Le;if(W&&H.length>0&&!c.call(H,0))for(var Fe=0;Fe<H.length;++Fe)K.push(String(Fe));if(he&&H.length>0)for(var de=0;de<H.length;++de)K.push(String(de));else for(var it in H)(!fe||"prototype"!==it)&&c.call(H,it)&&K.push(String(it));if(X)for(var le=function($){if(typeof window>"u"||!oe)return ce($);try{return ce($)}catch{return!1}}(H),we=0;we<U.length;++we)(!le||"constructor"!==U[we])&&c.call(H,U[we])&&K.push(U[we]);return K}}Be.exports=I},2093:(Be,Ge,x)=>{"use strict";var I=Array.prototype.slice,c=x(5185),re=Object.keys,J=re?function(L){return re(L)}:x(7010),G=Object.keys;J.shim=function(){if(Object.keys){var L=function(){var U=Object.keys(arguments);return U&&U.length===arguments.length}(1,2);L||(Object.keys=function(ce){return c(ce)?G(I.call(ce)):G(ce)})}else Object.keys=J;return Object.keys||J},Be.exports=J},5185:Be=>{"use strict";var Ge=Object.prototype.toString;Be.exports=function(I){var c=Ge.call(I),re="[object Arguments]"===c;return re||(re="[object Array]"!==c&&null!==I&&"object"==typeof I&&"number"==typeof I.length&&I.length>=0&&"[object Function]"===Ge.call(I.callee)),re}},2461:(Be,Ge,x)=>{"use strict";var I=x(2093),c=x(6858)(),re=x(4263),J=Object,G=re("Array.prototype.push"),X=re("Object.prototype.propertyIsEnumerable"),L=c?Object.getOwnPropertySymbols:null;Be.exports=function(ce,Y){if(null==ce)throw new TypeError("target must be an object");var oe=J(ce);if(1===arguments.length)return oe;for(var B=1;B<arguments.length;++B){var $=J(arguments[B]),H=I($),Pe=c&&(Object.getOwnPropertySymbols||L);if(Pe)for(var Le=Pe($),he=0;he<Le.length;++he){var W=Le[he];X($,W)&&G(H,W)}for(var K=0;K<H.length;++K){var fe=H[K];if(X($,fe)){var Fe=$[fe];oe[fe]=Fe}}}return oe}},6189:(Be,Ge,x)=>{"use strict";var I=x(1790),c=x(3855),re=x(2461),J=x(6255),G=x(152),X=c.apply(J()),L=function(ce,Y){return X(Object,arguments)};I(L,{getPolyfill:J,implementation:re,shim:G}),Be.exports=L},6255:(Be,Ge,x)=>{"use strict";var I=x(2461);Be.exports=function(){return!Object.assign||function(){if(!Object.assign)return!1;for(var J="abcdefghijklmnopqrst",G=J.split(""),X={},L=0;L<G.length;++L)X[G[L]]=G[L];var U=Object.assign({},X),ce="";for(var Y in U)ce+=Y;return J!==ce}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var J=Object.preventExtensions({1:2});try{Object.assign(J,"xy")}catch{return"y"===J[1]}return!1}()?I:Object.assign}},152:(Be,Ge,x)=>{"use strict";var I=x(1790),c=x(6255);Be.exports=function(){var J=c();return I(Object,{assign:J},{assign:function(){return Object.assign!==J}}),J}},151:(Be,Ge)=>{"use strict";var x=Object.prototype.hasOwnProperty;function c(X){try{return decodeURIComponent(X.replace(/\+/g," "))}catch{return null}}function re(X){try{return encodeURIComponent(X)}catch{return null}}Ge.stringify=function G(X,L){L=L||"";var ce,Y,U=[];for(Y in"string"!=typeof L&&(L="?"),X)if(x.call(X,Y)){if(!(ce=X[Y])&&(null==ce||isNaN(ce))&&(ce=""),Y=re(Y),ce=re(ce),null===Y||null===ce)continue;U.push(Y+"="+ce)}return U.length?L+U.join("&"):""},Ge.parse=function J(X){for(var ce,L=/([^=?#&]+)=?([^&]*)/g,U={};ce=L.exec(X);){var Y=c(ce[1]),oe=c(ce[2]);null===Y||null===oe||Y in U||(U[Y]=oe)}return U}},4040:(Be,Ge,x)=>{"use strict";var I=x(3677).functionsHaveConfigurableNames(),c=Object,re=TypeError;Be.exports=function(){if(null!=this&&this!==c(this))throw new re("RegExp.prototype.flags getter called on non-object");var G="";return this.hasIndices&&(G+="d"),this.global&&(G+="g"),this.ignoreCase&&(G+="i"),this.multiline&&(G+="m"),this.dotAll&&(G+="s"),this.unicode&&(G+="u"),this.sticky&&(G+="y"),G},I&&Object.defineProperty&&Object.defineProperty(Be.exports,"name",{value:"get flags"})},8704:(Be,Ge,x)=>{"use strict";var I=x(1790),c=x(3855),re=x(4040),J=x(9783),G=x(9369),X=c(J());I(X,{getPolyfill:J,implementation:re,shim:G}),Be.exports=X},9783:(Be,Ge,x)=>{"use strict";var I=x(4040),c=x(1790).supportsDescriptors,re=Object.getOwnPropertyDescriptor;Be.exports=function(){if(c&&"gim"===/a/gim.flags){var G=re(RegExp.prototype,"flags");if(G&&"function"==typeof G.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var X="",L={};if(Object.defineProperty(L,"hasIndices",{get:function(){X+="d"}}),Object.defineProperty(L,"sticky",{get:function(){X+="y"}}),"dy"===X)return G.get}}return I}},9369:(Be,Ge,x)=>{"use strict";var I=x(1790).supportsDescriptors,c=x(9783),re=Object.getOwnPropertyDescriptor,J=Object.defineProperty,G=TypeError,X=Object.getPrototypeOf,L=/a/;Be.exports=function(){if(!I||!X)throw new G("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var ce=c(),Y=X(L),oe=re(Y,"flags");return(!oe||oe.get!==ce)&&J(Y,"flags",{configurable:!0,enumerable:!1,get:ce}),ce}},47:Be=>{"use strict";Be.exports=function(x,I){if(I=I.split(":")[0],!(x=+x))return!1;switch(I){case"http":case"ws":return 80!==x;case"https":case"wss":return 443!==x;case"ftp":return 21!==x;case"gopher":return 70!==x;case"file":return!1}return 0!==x}},8432:(Be,Ge,x)=>{"use strict";var I=x(9903),c=x(4263),re=x(8597),J=I("%TypeError%"),G=I("%WeakMap%",!0),X=I("%Map%",!0),L=c("WeakMap.prototype.get",!0),U=c("WeakMap.prototype.set",!0),ce=c("WeakMap.prototype.has",!0),Y=c("Map.prototype.get",!0),oe=c("Map.prototype.set",!0),B=c("Map.prototype.has",!0),$=function(he,W){for(var fe,K=he;null!==(fe=K.next);K=fe)if(fe.key===W)return K.next=fe.next,fe.next=he.next,he.next=fe,fe};Be.exports=function(){var W,K,fe,Fe={assert:function(de){if(!Fe.has(de))throw new J("Side channel does not contain "+re(de))},get:function(de){if(G&&de&&("object"==typeof de||"function"==typeof de)){if(W)return L(W,de)}else if(X){if(K)return Y(K,de)}else if(fe)return function(he,W){var K=$(he,W);return K&&K.value}(fe,de)},has:function(de){if(G&&de&&("object"==typeof de||"function"==typeof de)){if(W)return ce(W,de)}else if(X){if(K)return B(K,de)}else if(fe)return function(he,W){return!!$(he,W)}(fe,de);return!1},set:function(de,it){G&&de&&("object"==typeof de||"function"==typeof de)?(W||(W=new G),U(W,de,it)):X?(K||(K=new X),oe(K,de,it)):(fe||(fe={key:{},next:null}),function(he,W,K){var fe=$(he,W);fe?fe.value=K:he.next={key:W,next:he.next,value:K}}(fe,de,it))}};return Fe}},8519:(Be,Ge,x)=>{"use strict";var I=x(5847),c=SyntaxError,re="object"==typeof StopIteration?StopIteration:null;Be.exports=function(G){if(!re)throw new c("this environment lacks StopIteration");I.set(G,"[[Done]]",!1);var X={next:function(){var U=I.get(this,"[[Iterator]]"),ce=I.get(U,"[[Done]]");try{return{done:ce,value:ce?void 0:U.next()}}catch(Y){if(I.set(U,"[[Done]]",!0),Y!==re)throw Y;return{done:!0,value:void 0}}}};return I.set(X,"[[Iterator]]",G),X}},9233:(Be,Ge,x)=>{"use strict";var I=x(47),c=x(151),re=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,J=/[\n\r\t]/g,G=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,X=/:\d+$/,L=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,U=/^[a-zA-Z]:/;function ce(K){return(K||"").toString().replace(re,"")}var Y=[["#","hash"],["?","query"],function(fe,Fe){return $(Fe.protocol)?fe.replace(/\\/g,"/"):fe},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],oe={hash:1,query:1};function B(K){var fe;fe=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var le,de={},it=typeof(K=K||fe.location||{});if("blob:"===K.protocol)de=new Le(unescape(K.pathname),{});else if("string"===it)for(le in de=new Le(K,{}),oe)delete de[le];else if("object"===it){for(le in K)le in oe||(de[le]=K[le]);void 0===de.slashes&&(de.slashes=G.test(K.href))}return de}function $(K){return"file:"===K||"ftp:"===K||"http:"===K||"https:"===K||"ws:"===K||"wss:"===K}function H(K,fe){K=(K=ce(K)).replace(J,""),fe=fe||{};var Ie,Fe=L.exec(K),de=Fe[1]?Fe[1].toLowerCase():"",it=!!Fe[2],le=!!Fe[3],we=0;return it?le?(Ie=Fe[2]+Fe[3]+Fe[4],we=Fe[2].length+Fe[3].length):(Ie=Fe[2]+Fe[4],we=Fe[2].length):le?(Ie=Fe[3]+Fe[4],we=Fe[3].length):Ie=Fe[4],"file:"===de?we>=2&&(Ie=Ie.slice(2)):$(de)?Ie=Fe[4]:de?it&&(Ie=Ie.slice(2)):we>=2&&$(fe.protocol)&&(Ie=Fe[4]),{protocol:de,slashes:it||$(de),slashesCount:we,rest:Ie}}function Le(K,fe,Fe){if(K=(K=ce(K)).replace(J,""),!(this instanceof Le))return new Le(K,fe,Fe);var de,it,le,we,Ie,Ye,$e=Y.slice(),Me=typeof fe,ne=this,Ue=0;for("object"!==Me&&"string"!==Me&&(Fe=fe,fe=null),Fe&&"function"!=typeof Fe&&(Fe=c.parse),de=!(it=H(K||"",fe=B(fe))).protocol&&!it.slashes,ne.slashes=it.slashes||de&&fe.slashes,ne.protocol=it.protocol||fe.protocol||"",K=it.rest,("file:"===it.protocol&&(2!==it.slashesCount||U.test(K))||!it.slashes&&(it.protocol||it.slashesCount<2||!$(ne.protocol)))&&($e[3]=[/(.*)/,"pathname"]);Ue<$e.length;Ue++)"function"!=typeof(we=$e[Ue])?(Ye=we[1],(le=we[0])!=le?ne[Ye]=K:"string"==typeof le?~(Ie="@"===le?K.lastIndexOf(le):K.indexOf(le))&&("number"==typeof we[2]?(ne[Ye]=K.slice(0,Ie),K=K.slice(Ie+we[2])):(ne[Ye]=K.slice(Ie),K=K.slice(0,Ie))):(Ie=le.exec(K))&&(ne[Ye]=Ie[1],K=K.slice(0,Ie.index)),ne[Ye]=ne[Ye]||de&&we[3]&&fe[Ye]||"",we[4]&&(ne[Ye]=ne[Ye].toLowerCase())):K=we(K,ne);Fe&&(ne.query=Fe(ne.query)),de&&fe.slashes&&"/"!==ne.pathname.charAt(0)&&(""!==ne.pathname||""!==fe.pathname)&&(ne.pathname=function Pe(K,fe){if(""===K)return fe;for(var Fe=(fe||"/").split("/").slice(0,-1).concat(K.split("/")),de=Fe.length,it=Fe[de-1],le=!1,we=0;de--;)"."===Fe[de]?Fe.splice(de,1):".."===Fe[de]?(Fe.splice(de,1),we++):we&&(0===de&&(le=!0),Fe.splice(de,1),we--);return le&&Fe.unshift(""),("."===it||".."===it)&&Fe.push(""),Fe.join("/")}(ne.pathname,fe.pathname)),"/"!==ne.pathname.charAt(0)&&$(ne.protocol)&&(ne.pathname="/"+ne.pathname),I(ne.port,ne.protocol)||(ne.host=ne.hostname,ne.port=""),ne.username=ne.password="",ne.auth&&(~(Ie=ne.auth.indexOf(":"))?(ne.username=ne.auth.slice(0,Ie),ne.username=encodeURIComponent(decodeURIComponent(ne.username)),ne.password=ne.auth.slice(Ie+1),ne.password=encodeURIComponent(decodeURIComponent(ne.password))):ne.username=encodeURIComponent(decodeURIComponent(ne.auth)),ne.auth=ne.password?ne.username+":"+ne.password:ne.username),ne.origin="file:"!==ne.protocol&&$(ne.protocol)&&ne.host?ne.protocol+"//"+ne.host:"null",ne.href=ne.toString()}Le.prototype={set:function he(K,fe,Fe){var de=this;switch(K){case"query":"string"==typeof fe&&fe.length&&(fe=(Fe||c.parse)(fe)),de[K]=fe;break;case"port":de[K]=fe,I(fe,de.protocol)?fe&&(de.host=de.hostname+":"+fe):(de.host=de.hostname,de[K]="");break;case"hostname":de[K]=fe,de.port&&(fe+=":"+de.port),de.host=fe;break;case"host":de[K]=fe,X.test(fe)?(fe=fe.split(":"),de.port=fe.pop(),de.hostname=fe.join(":")):(de.hostname=fe,de.port="");break;case"protocol":de.protocol=fe.toLowerCase(),de.slashes=!Fe;break;case"pathname":case"hash":if(fe){var it="pathname"===K?"/":"#";de[K]=fe.charAt(0)!==it?it+fe:fe}else de[K]=fe;break;case"username":case"password":de[K]=encodeURIComponent(fe);break;case"auth":var le=fe.indexOf(":");~le?(de.username=fe.slice(0,le),de.username=encodeURIComponent(decodeURIComponent(de.username)),de.password=fe.slice(le+1),de.password=encodeURIComponent(decodeURIComponent(de.password))):de.username=encodeURIComponent(decodeURIComponent(fe))}for(var we=0;we<Y.length;we++){var Ie=Y[we];Ie[4]&&(de[Ie[1]]=de[Ie[1]].toLowerCase())}return de.auth=de.password?de.username+":"+de.password:de.username,de.origin="file:"!==de.protocol&&$(de.protocol)&&de.host?de.protocol+"//"+de.host:"null",de.href=de.toString(),de},toString:function W(K){(!K||"function"!=typeof K)&&(K=c.stringify);var fe,Fe=this,de=Fe.host,it=Fe.protocol;it&&":"!==it.charAt(it.length-1)&&(it+=":");var le=it+(Fe.protocol&&Fe.slashes||$(Fe.protocol)?"//":"");return Fe.username?(le+=Fe.username,Fe.password&&(le+=":"+Fe.password),le+="@"):Fe.password?(le+=":"+Fe.password,le+="@"):"file:"!==Fe.protocol&&$(Fe.protocol)&&!de&&"/"!==Fe.pathname&&(le+="@"),(":"===de[de.length-1]||X.test(Fe.hostname)&&!Fe.port)&&(de+=":"),le+=de+Fe.pathname,(fe="object"==typeof Fe.query?K(Fe.query):Fe.query)&&(le+="?"!==fe.charAt(0)?"?"+fe:fe),Fe.hash&&(le+=Fe.hash),le}},Le.extractProtocol=H,Le.location=B,Le.trimLeft=ce,Le.qs=c,Be.exports=Le},2086:(Be,Ge,x)=>{"use strict";var I=x(4764),c=x(1046),re=x(6180),J=x(6434),G=x(3);Be.exports=function(L){return null==L||"object"!=typeof L&&"function"!=typeof L?null:I(L)?"String":c(L)?"Number":re(L)?"Boolean":J(L)?"Symbol":G(L)?"BigInt":void 0}},5709:(Be,Ge,x)=>{"use strict";var I=x(3037),c=x(5271),re=x(4263),J=x(253),G=re("Object.prototype.toString"),X=x(3261)(),L=typeof globalThis>"u"?global:globalThis,U=c(),ce=re("String.prototype.slice"),Y={},oe=Object.getPrototypeOf;X&&J&&oe&&I(U,function(H){if("function"==typeof L[H]){var Pe=new L[H];if(Symbol.toStringTag in Pe){var Le=oe(Pe),he=J(Le,Symbol.toStringTag);if(!he){var W=oe(Le);he=J(W,Symbol.toStringTag)}Y[H]=he.get}}});var $=x(7673);Be.exports=function(Pe){return!!$(Pe)&&(X&&Symbol.toStringTag in Pe?function(Pe){var Le=!1;return I(Y,function(he,W){if(!Le)try{var K=he.call(Pe);K===W&&(Le=K)}catch{}}),Le}(Pe):ce(G(Pe),8,-1))}},863:(Be,Ge,x)=>{var I={"./ion-accordion_2.entry.js":[79,8592,79],"./ion-action-sheet.entry.js":[5593,8592,5593],"./ion-alert.entry.js":[3225,8592,3225],"./ion-app_8.entry.js":[4812,8592,4017],"./ion-avatar_3.entry.js":[6655,6655],"./ion-back-button.entry.js":[4856,8592,4856],"./ion-backdrop.entry.js":[3059,3059],"./ion-breadcrumb_2.entry.js":[8648,8592,8648],"./ion-button_2.entry.js":[8308,8308],"./ion-card_5.entry.js":[4690,4690],"./ion-checkbox.entry.js":[4090,4090],"./ion-chip.entry.js":[6214,6214],"./ion-col_3.entry.js":[9447,9447],"./ion-datetime-button.entry.js":[7950,5523,7950],"./ion-datetime_3.entry.js":[9689,5523,8592,9689],"./ion-fab_3.entry.js":[8840,8592,8840],"./ion-img.entry.js":[749,749],"./ion-infinite-scroll_2.entry.js":[9667,8592,9544],"./ion-input.entry.js":[3288,8592,3288],"./ion-item-option_3.entry.js":[5473,8592,6108],"./ion-item_8.entry.js":[3634,8592,3634],"./ion-loading.entry.js":[2855,8592,2855],"./ion-menu_3.entry.js":[495,8592,495],"./ion-modal.entry.js":[8737,8592,8737],"./ion-nav_2.entry.js":[9632,8592,9632],"./ion-picker-column-internal.entry.js":[4446,8592,4446],"./ion-picker-internal.entry.js":[2275,2275],"./ion-popover.entry.js":[8050,8592,8050],"./ion-progress-bar.entry.js":[8994,8994],"./ion-radio_2.entry.js":[3592,3592],"./ion-range.entry.js":[5454,8592,5454],"./ion-refresher_2.entry.js":[290,8592,4210],"./ion-reorder_2.entry.js":[2666,8592,8718],"./ion-ripple-effect.entry.js":[4816,4816],"./ion-route_4.entry.js":[5534,5534],"./ion-searchbar.entry.js":[4902,8592,4902],"./ion-segment_2.entry.js":[1938,8592,1938],"./ion-select_3.entry.js":[8179,8179],"./ion-slide_2.entry.js":[668,668],"./ion-spinner.entry.js":[1624,8592,1624],"./ion-split-pane.entry.js":[9989,9989],"./ion-tab-bar_2.entry.js":[8902,8592,8902],"./ion-tab_2.entry.js":[199,8592,199],"./ion-text.entry.js":[8395,8395],"./ion-textarea.entry.js":[6357,6357],"./ion-toast.entry.js":[8268,8592,8268],"./ion-toggle.entry.js":[5269,8592,5269],"./ion-virtual-scroll.entry.js":[2875,2875]};function c(re){if(!x.o(I,re))return Promise.resolve().then(()=>{var X=new Error("Cannot find module '"+re+"'");throw X.code="MODULE_NOT_FOUND",X});var J=I[re],G=J[0];return Promise.all(J.slice(1).map(x.e)).then(()=>x(G))}c.keys=()=>Object.keys(I),c.id=863,Be.exports=c},4654:()=>{},5271:Be=>{"use strict";var Ge=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],x=typeof globalThis>"u"?global:globalThis;Be.exports=function(){for(var c=[],re=0;re<Ge.length;re++)"function"==typeof x[Ge[re]]&&(c[c.length]=Ge[re]);return c}},2069:(Be,Ge,x)=>{"use strict";var I=x(9102),c=x(8519);if(x(524)()||x(6858)()){var re=Symbol.iterator;Be.exports=function(Ie){return null!=Ie&&typeof Ie[re]<"u"?Ie[re]():I(Ie)?Array.prototype[re].call(Ie):void 0}}else{var J=x(8266),G=x(4764),X=x(9903),L=X("%Map%",!0),U=X("%Set%",!0),ce=x(4263),Y=ce("Array.prototype.push"),oe=ce("String.prototype.charCodeAt"),B=ce("String.prototype.slice"),H=function(Ie){var Ye=0;return{next:function(){var ne,Me=Ye>=Ie.length;return Me||(ne=Ie[Ye],Ye+=1),{done:Me,value:ne}}}},Pe=function(Ie,Ye){if(J(Ie)||I(Ie))return H(Ie);if(G(Ie)){var $e=0;return{next:function(){var ne=function(Ie,Ye){if(Ye+1>=Ie.length)return Ye+1;var Me=oe(Ie,Ye);if(Me<55296||Me>56319)return Ye+1;var ne=oe(Ie,Ye+1);return ne<56320||ne>57343?Ye+1:Ye+2}(Ie,$e),Ue=B(Ie,$e,ne);return $e=ne,{done:ne>Ie.length,value:Ue}}}}return Ye&&typeof Ie["_es6-shim iterator_"]<"u"?Ie["_es6-shim iterator_"]():void 0};if(L||U){var Le=x(9898),he=x(3870),W=ce("Map.prototype.forEach",!0),K=ce("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var fe=ce("Map.prototype.iterator",!0),Fe=ce("Set.prototype.iterator",!0);var de=ce("Map.prototype.@@iterator",!0)||ce("Map.prototype._es6-shim iterator_",!0),it=ce("Set.prototype.@@iterator",!0)||ce("Set.prototype._es6-shim iterator_",!0);Be.exports=function(Ie){return function(Ie){if(Le(Ie)){if(fe)return c(fe(Ie));if(de)return de(Ie);if(W){var Ye=[];return W(Ie,function(Me,ne){Y(Ye,[ne,Me])}),H(Ye)}}if(he(Ie)){if(Fe)return c(Fe(Ie));if(it)return it(Ie);if(K){var $e=[];return K(Ie,function(Me){Y($e,Me)}),H($e)}}}(Ie)||Pe(Ie)}}else Be.exports=function(Ie){if(null!=Ie)return Pe(Ie,!0)}}},2107:(Be,Ge,x)=>{"use strict";var I=x(9898),c=x(3870),re=x(5585),J=x(1902);Be.exports=function(X){if(X&&"object"==typeof X){if(I(X))return"Map";if(c(X))return"Set";if(re(X))return"WeakMap";if(J(X))return"WeakSet"}return!1}},3918:(Be,Ge,x)=>{"use strict";function I(re,J,G,X,L,U,ce){try{var Y=re[U](ce),oe=Y.value}catch(B){return void G(B)}Y.done?J(oe):Promise.resolve(oe).then(X,L)}function c(re){return function(){var J=this,G=arguments;return new Promise(function(X,L){var U=re.apply(J,G);function ce(oe){I(U,X,L,ce,Y,"next",oe)}function Y(oe){I(U,X,L,ce,Y,"throw",oe)}ce(void 0)})}}x.d(Ge,{Z:()=>c})}},Be=>{Be(Be.s=1159)}]);
//# sourceMappingURL=main.c6d92566ba8b4ef8.js.map