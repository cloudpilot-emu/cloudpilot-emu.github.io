(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{8448:(ge,De,C)=>{"use strict";let u=null,Y=1;function R(e){const t=u;return u=e,t}function T(e){if((!xe(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Y)){if(!e.producerMustRecompute(e)&&!M(e))return e.dirty=!1,void(e.lastCleanEpoch=Y);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Y}}function M(e){Re(e);for(let t=0;t<e.producerNode.length;t++){const r=e.producerNode[t],n=e.producerLastReadVersion[t];if(n!==r.version||(T(r),n!==r.version))return!0}return!1}function ae(e,t){if(function O(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Re(e),1===e.liveConsumerNode.length)for(let n=0;n<e.producerNode.length;n++)ae(e.producerNode[n],e.producerIndexOfThis[n]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const n=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];Re(o),o.producerIndexOfThis[n]=t}}function xe(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Re(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let Be=null;function Te(e){return"function"==typeof e}function we(e){const r=e(n=>{Error.call(n),n.stack=(new Error).stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}const _e=we(e=>function(r){e(this),this.message=r?`${r.length} errors occurred during unsubscription:\n${r.map((n,o)=>`${o+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=r});function Je(e,t){if(e){const r=e.indexOf(t);0<=r&&e.splice(r,1)}}class vt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(const i of r)i.remove(this);else r.remove(this);const{initialTeardown:n}=this;if(Te(n))try{n()}catch(i){t=i instanceof _e?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{rn(i)}catch(s){t=t??[],s instanceof _e?t=[...t,...s.errors]:t.push(s)}}if(t)throw new _e(t)}}add(t){var r;if(t&&t!==this)if(this.closed)rn(t);else{if(t instanceof vt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}}_hasParent(t){const{_parentage:r}=this;return r===t||Array.isArray(r)&&r.includes(t)}_addParent(t){const{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t}_removeParent(t){const{_parentage:r}=this;r===t?this._parentage=null:Array.isArray(r)&&Je(r,t)}remove(t){const{_finalizers:r}=this;r&&Je(r,t),t instanceof vt&&t._removeParent(this)}}vt.EMPTY=(()=>{const e=new vt;return e.closed=!0,e})();const Nt=vt.EMPTY;function dn(e){return e instanceof vt||e&&"closed"in e&&Te(e.remove)&&Te(e.add)&&Te(e.unsubscribe)}function rn(e){Te(e)?e():e.unsubscribe()}const pn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},en={setTimeout(e,t,...r){const{delegate:n}=en;return n?.setTimeout?n.setTimeout(e,t,...r):setTimeout(e,t,...r)},clearTimeout(e){const{delegate:t}=en;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function vr(e){en.setTimeout(()=>{const{onUnhandledError:t}=pn;if(!t)throw e;t(e)})}function Yn(){}const Zo=Nn("C",void 0,void 0);function Nn(e,t,r){return{kind:e,value:t,error:r}}let Br=null;function Hr(e){if(pn.useDeprecatedSynchronousErrorHandling){const t=!Br;if(t&&(Br={errorThrown:!1,error:null}),e(),t){const{errorThrown:r,error:n}=Br;if(Br=null,r)throw n}}else e()}class Kn extends vt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,dn(t)&&t.add(this)):this.destination=sn}static create(t,r,n){return new be(t,r,n)}next(t){this.isStopped?Cn(function Do(e){return Nn("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Cn(function wo(e){return Nn("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Cn(Zo,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const go=Function.prototype.bind;function Vr(e,t){return go.call(e,t)}class pe{constructor(t){this.partialObserver=t}next(t){const{partialObserver:r}=this;if(r.next)try{r.next(t)}catch(n){cn(n)}}error(t){const{partialObserver:r}=this;if(r.error)try{r.error(t)}catch(n){cn(n)}else cn(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(r){cn(r)}}}class be extends Kn{constructor(t,r,n){let o;if(super(),Te(t)||!t)o={next:t??void 0,error:r??void 0,complete:n??void 0};else{let i;this&&pn.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&Vr(t.next,i),error:t.error&&Vr(t.error,i),complete:t.complete&&Vr(t.complete,i)}):o=t}this.destination=new pe(o)}}function cn(e){pn.useDeprecatedSynchronousErrorHandling?function ro(e){pn.useDeprecatedSynchronousErrorHandling&&Br&&(Br.errorThrown=!0,Br.error=e)}(e):vr(e)}function Cn(e,t){const{onStoppedNotification:r}=pn;r&&en.setTimeout(()=>r(e,t))}const sn={closed:!0,next:Yn,error:function mn(e){throw e},complete:Yn},fo="function"==typeof Symbol&&Symbol.observable||"@@observable";function or(e){return e}function _o(e){return 0===e.length?or:1===e.length?e[0]:function(r){return e.reduce((n,o)=>o(n),r)}}let Fn=(()=>{class e{constructor(r){r&&(this._subscribe=r)}lift(r){const n=new e;return n.source=this,n.operator=r,n}subscribe(r,n,o){const i=function Hi(e){return e&&e instanceof Kn||function oo(e){return e&&Te(e.next)&&Te(e.error)&&Te(e.complete)}(e)&&dn(e)}(r)?r:new be(r,n,o);return Hr(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(r){try{return this._subscribe(r)}catch(n){r.error(n)}}forEach(r,n){return new(n=Eo(n))((o,i)=>{const s=new be({next:a=>{try{r(a)}catch(l){i(l),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(r){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(r)}[fo](){return this}pipe(...r){return _o(r)(this)}toPromise(r){return new(r=Eo(r))((n,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>n(i))})}}return e.create=t=>new e(t),e})();function Eo(e){var t;return null!==(t=e??pn.Promise)&&void 0!==t?t:Promise}const No=we(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let xn=(()=>{class e extends Fn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){const n=new yr(this,this);return n.operator=r,n}_throwIfClosed(){if(this.closed)throw new No}next(r){Hr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(r)}})}error(r){Hr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;const{observers:n}=this;for(;n.length;)n.shift().error(r)}})}complete(){Hr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return(null===(r=this.observers)||void 0===r?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){const{hasError:n,isStopped:o,observers:i}=this;return n||o?Nt:(this.currentObservers=null,i.push(r),new vt(()=>{this.currentObservers=null,Je(i,r)}))}_checkFinalizedStatuses(r){const{hasError:n,thrownError:o,isStopped:i}=this;n?r.error(o):i&&r.complete()}asObservable(){const r=new Fn;return r.source=this,r}}return e.create=(t,r)=>new yr(t,r),e})();class yr extends xn{constructor(t,r){super(),this.destination=t,this.source=r}next(t){var r,n;null===(n=null===(r=this.destination)||void 0===r?void 0:r.next)||void 0===n||n.call(r,t)}error(t){var r,n;null===(n=null===(r=this.destination)||void 0===r?void 0:r.error)||void 0===n||n.call(r,t)}complete(){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===r||r.call(t)}_subscribe(t){var r,n;return null!==(n=null===(r=this.source)||void 0===r?void 0:r.subscribe(t))&&void 0!==n?n:Nt}}function br(e){return Te(e?.lift)}function Tn(e){return t=>{if(br(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ln(e,t,r,n,o){return new fi(e,t,r,n,o)}class fi extends Kn{constructor(t,r,n,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=r?function(a){try{r(a)}catch(l){t.error(l)}}:super._next,this._error=o?function(a){try{o(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:r}=this;super.unsubscribe(),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function un(e,t){return Tn((r,n)=>{let o=0;r.subscribe(Ln(n,i=>{n.next(e.call(t,i,o++))}))})}function ne(e,t,r,n){var s,o=arguments.length,i=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,r,i):s(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i}function Fo(e){return this instanceof Fo?(this.v=e,this):new Fo(e)}function Mn(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Ei(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(s){return new Promise(function(a,l){!function o(i,s,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},s)}(a,l,(s=e[i](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const ct=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function m(e){return Te(e?.then)}function w(e){return Te(e[fo])}function $(e){return Symbol.asyncIterator&&Te(e?.[Symbol.asyncIterator])}function re(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ue=function Me(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ke(e){return Te(e?.[ue])}function Ye(e){return function ni(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,n=r.apply(e,t||[]),i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(g){n[g]&&(o[g]=function(b){return new Promise(function(j,ee){i.push([g,b,j,ee])>1||a(g,b)})})}function a(g,b){try{!function l(g){g.value instanceof Fo?Promise.resolve(g.value.v).then(c,f):h(i[0][2],g)}(n[g](b))}catch(j){h(i[0][3],j)}}function c(g){a("next",g)}function f(g){a("throw",g)}function h(g,b){g(b),i.shift(),i.length&&a(i[0][0],i[0][1])}}(this,arguments,function*(){const r=e.getReader();try{for(;;){const{value:n,done:o}=yield Fo(r.read());if(o)return yield Fo(void 0);yield yield Fo(n)}}finally{r.releaseLock()}})}function et(e){return Te(e?.getReader)}function A(e){if(e instanceof Fn)return e;if(null!=e){if(w(e))return function bt(e){return new Fn(t=>{const r=e[fo]();if(Te(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(ct(e))return function At(e){return new Fn(t=>{for(let r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}(e);if(m(e))return function kt(e){return new Fn(t=>{e.then(r=>{t.closed||(t.next(r),t.complete())},r=>t.error(r)).then(null,vr)})}(e);if($(e))return Er(e);if(Ke(e))return function Sn(e){return new Fn(t=>{for(const r of e)if(t.next(r),t.closed)return;t.complete()})}(e);if(et(e))return function jr(e){return Er(Ye(e))}(e)}throw re(e)}function Er(e){return new Fn(t=>{(function Wr(e,t){var r,n,o,i;return function zi(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(f){try{c(n.next(f))}catch(h){s(h)}}function l(f){try{c(n.throw(f))}catch(h){s(h)}}function c(f){f.done?i(f.value):function o(i){return i instanceof r?i:new r(function(s){s(i)})}(f.value).then(a,l)}c((n=n.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(r=Mn(e);!(n=yield r.next()).done;)if(t.next(n.value),t.closed)return}catch(s){o={error:s}}finally{try{n&&!n.done&&(i=r.return)&&(yield i.call(r))}finally{if(o)throw o.error}}t.complete()})})(e,t).catch(r=>t.error(r))})}function Jn(e,t,r,n=0,o=!1){const i=t.schedule(function(){r(),o?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(i),!o)return i}function jn(e,t,r=1/0){return Te(t)?jn((n,o)=>un((i,s)=>t(n,i,o,s))(A(e(n,o))),r):("number"==typeof t&&(r=t),Tn((n,o)=>function Xi(e,t,r,n,o,i,s,a){const l=[];let c=0,f=0,h=!1;const g=()=>{h&&!l.length&&!c&&t.complete()},b=ee=>c<n?j(ee):l.push(ee),j=ee=>{i&&t.next(ee),c++;let ye=!1;A(r(ee,f++)).subscribe(Ln(t,Ee=>{o?.(Ee),i?b(Ee):t.next(Ee)},()=>{ye=!0},void 0,()=>{if(ye)try{for(c--;l.length&&c<n;){const Ee=l.shift();s?Jn(t,s,()=>j(Ee)):j(Ee)}g()}catch(Ee){t.error(Ee)}}))};return e.subscribe(Ln(t,b,()=>{h=!0,g()})),()=>{a?.()}}(n,o,e,r)))}function Lo(e=1/0){return jn(or,e)}const xo=new Fn(e=>e.complete());function oa(e){return e&&Te(e.schedule)}function $s(e){return e[e.length-1]}function ia(e){return Te($s(e))?e.pop():void 0}function Ji(e){return oa($s(e))?e.pop():void 0}function sa(e,t=0){return Tn((r,n)=>{r.subscribe(Ln(n,o=>Jn(n,e,()=>n.next(o),t),()=>Jn(n,e,()=>n.complete(),t),o=>Jn(n,e,()=>n.error(o),t)))})}function aa(e,t=0){return Tn((r,n)=>{n.add(e.schedule(()=>r.subscribe(n),t))})}function la(e,t){if(!e)throw new Error("Iterable cannot be null");return new Fn(r=>{Jn(r,t,()=>{const n=e[Symbol.asyncIterator]();Jn(r,t,()=>{n.next().then(o=>{o.done?r.complete():r.next(o.value)})},0,!0)})})}function Ir(e,t){return t?function Ba(e,t){if(null!=e){if(w(e))return function Oa(e,t){return A(e).pipe(aa(t),sa(t))}(e,t);if(ct(e))return function Fa(e,t){return new Fn(r=>{let n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})})}(e,t);if(m(e))return function Na(e,t){return A(e).pipe(aa(t),sa(t))}(e,t);if($(e))return la(e,t);if(Ke(e))return function La(e,t){return new Fn(r=>{let n;return Jn(r,t,()=>{n=e[ue](),Jn(r,t,()=>{let o,i;try{({value:o,done:i}=n.next())}catch(s){return void r.error(s)}i?r.complete():r.next(o)},0,!0)}),()=>Te(n?.return)&&n.return()})}(e,t);if(et(e))return function $a(e,t){return la(Ye(e),t)}(e,t)}throw re(e)}(e,t):A(e)}function ca(...e){const t=Ji(e),r=function Pa(e,t){return"number"==typeof $s(e)?e.pop():t}(e,1/0),n=e;return n.length?1===n.length?A(n[0]):Lo(r)(Ir(n,t)):xo}class po extends xn{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const r=super._subscribe(t);return!r.closed&&t.next(this._value),r}getValue(){const{hasError:t,thrownError:r,_value:n}=this;if(t)throw r;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}}function Ht(...e){return Ir(e,Ji(e))}function ua(e={}){const{connector:t=(()=>new xn),resetOnError:r=!0,resetOnComplete:n=!0,resetOnRefCountZero:o=!0}=e;return i=>{let s,a,l,c=0,f=!1,h=!1;const g=()=>{a?.unsubscribe(),a=void 0},b=()=>{g(),s=l=void 0,f=h=!1},j=()=>{const ee=s;b(),ee?.unsubscribe()};return Tn((ee,ye)=>{c++,!h&&!f&&g();const Ee=l=l??t();ye.add(()=>{c--,0===c&&!h&&!f&&(a=Bs(j,o))}),Ee.subscribe(ye),!s&&c>0&&(s=new be({next:Ie=>Ee.next(Ie),error:Ie=>{h=!0,g(),a=Bs(b,r,Ie),Ee.error(Ie)},complete:()=>{f=!0,g(),a=Bs(b,n),Ee.complete()}}),A(ee).subscribe(s))})(i)}}function Bs(e,t,...r){if(!0===t)return void e();if(!1===t)return;const n=new be({next:()=>{n.unsubscribe(),e()}});return A(t(...r)).subscribe(n)}function eo(e,t){return Tn((r,n)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&n.complete();r.subscribe(Ln(n,l=>{o?.unsubscribe();let c=0;const f=i++;A(e(l,f)).subscribe(o=Ln(n,h=>n.next(t?t(l,h,f,c++):h),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Vs(e,t=or){return e=e??Va,Tn((r,n)=>{let o,i=!0;r.subscribe(Ln(n,s=>{const a=t(s);(i||!e(o,a))&&(i=!1,o=a,n.next(s))}))})}function Va(e,t){return e===t}function Gn(e){for(let t in e)if(e[t]===Gn)return t;throw Error("Could not find renamed property on target object.")}function hs(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function xr(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(xr).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function js(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const ja=Gn({__forward_ref__:Gn});function Wn(e){return e.__forward_ref__=Wn,e.toString=function(){return xr(this())},e}function Yt(e){return ms(e)?e():e}function ms(e){return"function"==typeof e&&e.hasOwnProperty(ja)&&e.__forward_ref__===Wn}function Gs(e){return e&&!!e.\u0275providers}const da="https://g.co/ng/security#xss";class Xe extends Error{constructor(t,r){super(function es(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,r)),this.code=t}}const gs=Gn({\u0275cmp:Gn}),ts=Gn({\u0275dir:Gn}),fa=Gn({\u0275pipe:Gn}),pa=Gn({\u0275mod:Gn}),ri=Gn({\u0275fac:Gn}),Cr=Gn({__NG_ELEMENT_ID__:Gn}),Yo=Gn({__NG_ENV_ID__:Gn});function Bt(e){return"string"==typeof e?e:null==e?"":String(e)}function _s(e,t){throw new Xe(-201,!1)}function qt(e,t){null==e&&function ot(e,t,r,n){throw new Error(`ASSERTION ERROR: ${e}`+(null==n?"":` [Expected=> ${r} ${n} ${t} <=Actual]`))}(t,e,null,"!=")}function $e(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function lt(e){return{providers:e.providers||[],imports:e.imports||[]}}function lr(e){return Or(e,p)||Or(e,oe)}function Or(e,t){return e.hasOwnProperty(t)?e[t]:null}function We(e){return e&&(e.hasOwnProperty(x)||e.hasOwnProperty(Le))?e[x]:null}const p=Gn({\u0275prov:Gn}),x=Gn({\u0275inj:Gn}),oe=Gn({ngInjectableDef:Gn}),Le=Gn({ngInjectorDef:Gn});var Qe=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Qe||{});let gn;function an(){return gn}function Kt(e){const t=gn;return gn=e,t}function ur(e,t,r){const n=lr(e);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:r&Qe.Optional?null:void 0!==t?t:void _s(xr(e))}const Un=globalThis;class pt{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=$e({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Zl={},hu="__NG_DI_FLAG__",Mc="ngTempTokenPath",sh=/\n/gm,Kd="__source";let bl;function ma(e){const t=bl;return bl=e,t}function ch(e,t=Qe.Default){if(void 0===bl)throw new Xe(-203,!1);return null===bl?ur(e,void 0,t):bl.get(e,t&Qe.Optional?null:void 0,t)}function ce(e,t=Qe.Default){return(an()||ch)(Yt(e),t)}function rt(e,t=Qe.Default){return ce(e,Ac(t))}function Ac(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function mu(e){const t=[];for(let r=0;r<e.length;r++){const n=Yt(e[r]);if(Array.isArray(n)){if(0===n.length)throw new Xe(900,!1);let o,i=Qe.Default;for(let s=0;s<n.length;s++){const a=n[s],l=uh(a);"number"==typeof l?-1===l?o=a.token:i|=l:o=a}t.push(ce(o,i))}else t.push(ce(n))}return t}function ql(e,t){return e[hu]=t,e.prototype[hu]=t,e}function uh(e){return e[hu]}function Hs(e){return{toString:e}.toString()}var kc=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(kc||{}),ns=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(ns||{});const vs={},tr=[];function Qd(e,t,r){let n=e.length;for(;;){const o=e.indexOf(t,r);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const i=t.length;if(o+i===n||e.charCodeAt(o+i)<=32)return o}r=o+1}}function gu(e,t,r){let n=0;for(;n<r.length;){const o=r[n];if("number"==typeof o){if(0!==o)break;n++;const i=r[n++],s=r[n++],a=r[n++];e.setAttribute(t,s,a,i)}else{const i=o,s=r[++n];ef(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),n++}}return n}function Jd(e){return 3===e||4===e||6===e}function ef(e){return 64===e.charCodeAt(0)}function Yl(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let n=0;n<t.length;n++){const o=t[n];"number"==typeof o?r=o:0===r||tf(e,r,o,null,-1===r||2===r?t[++n]:null)}}return e}function tf(e,t,r,n,o){let i=0,s=e.length;if(-1===t)s=-1;else for(;i<e.length;){const a=e[i++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=i-1;break}}}for(;i<e.length;){const a=e[i];if("number"==typeof a)break;if(a===r){if(null===n)return void(null!==o&&(e[i+1]=o));if(n===e[i+1])return void(e[i+2]=o)}i++,null!==n&&i++,null!==o&&i++}-1!==s&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,r),null!==n&&e.splice(i++,0,n),null!==o&&e.splice(i++,0,o)}const nf="ng-template";function ph(e,t,r){let n=0,o=!0;for(;n<e.length;){let i=e[n++];if("string"==typeof i&&o){const s=e[n++];if(r&&"class"===i&&-1!==Qd(s.toLowerCase(),t,0))return!0}else{if(1===i){for(;n<e.length&&"string"==typeof(i=e[n++]);)if(i.toLowerCase()===t)return!0;return!1}"number"==typeof i&&(o=!1)}}return!1}function rf(e){return 4===e.type&&e.value!==nf}function hh(e,t,r){return t===(4!==e.type||r?e.value:nf)}function mh(e,t,r){let n=4;const o=e.attrs||[],i=function vh(e){for(let t=0;t<e.length;t++)if(Jd(e[t]))return t;return e.length}(o);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&n){if(n=2|1&n,""!==l&&!hh(e,l,r)||""===l&&1===t.length){if(rs(n))return!1;s=!0}}else{const c=8&n?l:t[++a];if(8&n&&null!==e.attrs){if(!ph(e.attrs,c,r)){if(rs(n))return!1;s=!0}continue}const h=gh(8&n?"class":l,o,rf(e),r);if(-1===h){if(rs(n))return!1;s=!0;continue}if(""!==c){let g;g=h>i?"":o[h+1].toLowerCase();const b=8&n?g:null;if(b&&-1!==Qd(b,c,0)||2&n&&c!==g){if(rs(n))return!1;s=!0}}}}else{if(!s&&!rs(n)&&!rs(l))return!1;if(s&&rs(l))continue;s=!1,n=l|1&n}}return rs(n)||s}function rs(e){return 0==(1&e)}function gh(e,t,r,n){if(null===t)return-1;let o=0;if(n||!r){let i=!1;for(;o<t.length;){const s=t[o];if(s===e)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=t[++o];for(;"string"==typeof a;)a=t[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function yh(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const n=e[r];if("number"==typeof n)return-1;if(n===t)return r;r++}return-1}(t,e)}function sf(e,t,r=!1){for(let n=0;n<t.length;n++)if(mh(e,t[n],r))return!0;return!1}function bh(e,t){e:for(let r=0;r<t.length;r++){const n=t[r];if(e.length===n.length){for(let o=0;o<e.length;o++)if(e[o]!==n[o])continue e;return!0}}return!1}function af(e,t){return e?":not("+t.trim()+")":t}function Ch(e){let t=e[0],r=1,n=2,o="",i=!1;for(;r<e.length;){let s=e[r];if("string"==typeof s)if(2&n){const a=e[++r];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&n?o+="."+s:4&n&&(o+=" "+s);else""!==o&&!rs(s)&&(t+=af(i,o),o=""),n=s,i=i||!rs(n);r++}return""!==o&&(t+=af(i,o)),t}function Ze(e){return Hs(()=>{const t=zs(e),r={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===kc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||ns.Emulated,styles:e.styles||tr,_:null,schemas:e.schemas||null,tView:null,id:""};Hn(r);const n=e.dependencies;return r.directiveDefs=_u(n,!1),r.pipeDefs=_u(n,!0),r.id=function k_(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of r)t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(r),r})}function Dh(e){return _n(e)||Mo(e)}function M_(e){return null!==e}function io(e){return Hs(()=>({type:e.type,bootstrap:e.bootstrap||tr,declarations:e.declarations||tr,imports:e.imports||tr,exports:e.exports||tr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Eh(e,t){if(null==e)return vs;const r={};for(const n in e)if(e.hasOwnProperty(n)){let o=e[n],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),r[o]=n,t&&(t[o]=i)}return r}function Lt(e){return Hs(()=>{const t=zs(e);return Hn(t),t})}function Ko(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function _n(e){return e[gs]||null}function Mo(e){return e[ts]||null}function Bo(e){return e[fa]||null}function kn(e,t){const r=e[pa]||null;if(!r&&!0===t)throw new Error(`Type ${xr(e)} does not have '\u0275mod' property.`);return r}function zs(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||vs,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||tr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Eh(e.inputs,t),outputs:Eh(e.outputs),debugInfo:null}}function Hn(e){e.features?.forEach(t=>t(e))}function _u(e,t){if(!e)return null;const r=t?Bo:Dh;return()=>("function"==typeof e?e():e).map(n=>r(n)).filter(M_)}const so=0,gt=1,it=2,Dn=3,Rn=4,Ae=5,ir=6,Pn=7,nn=8,fr=9,Ao=10,Wt=11,ao=12,to=13,Zt=14,zn=15,Nr=16,Mr=17,d=18,y=19,q=20,ke=21,It=22,tn=23,ut=25,vn=1,Gr=7,ys=9,Vn=10;var Ws=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e[e.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",e}(Ws||{});function yo(e){return Array.isArray(e)&&"object"==typeof e[vn]}function lo(e){return Array.isArray(e)&&!0===e[vn]}function vu(e){return 0!=(4&e.flags)}function va(e){return e.componentOffset>-1}function _t(e){return 1==(1&e.flags)}function Xt(e){return!!e.template}function gi(e){return 0!=(512&e[it])}function Rc(e,t){return e.hasOwnProperty(ri)?e[ri]:null}class JR{constructor(t,r,n){this.previousValue=t,this.currentValue=r,this.firstChange=n}isFirstChange(){return this.firstChange}}function vi(){return q0}function q0(e){return e.type.prototype.ngOnChanges&&(e.setInput=tP),eP}function eP(){const e=K0(this),t=e?.current;if(t){const r=e.previous;if(r===vs)e.previous=t;else for(let n in t)r[n]=t[n];e.current=null,this.ngOnChanges(t)}}function tP(e,t,r,n){const o=this.declaredInputs[r],i=K0(e)||function nP(e,t){return e[Y0]=t}(e,{previous:vs,current:null}),s=i.current||(i.current={}),a=i.previous,l=a[o];s[o]=new JR(l&&l.currentValue,t,a===vs),e[n]=t}vi.ngInherit=!0;const Y0="__ngSimpleChanges__";function K0(e){return e[Y0]||null}const Ha=function(e,t,r){};function qr(e){for(;Array.isArray(e);)e=e[so];return e}function cf(e,t){return qr(t[e])}function xi(e,t){return qr(t[e.index])}function uf(e,t){return e.data[t]}function bu(e,t){return e[t]}function bs(e,t){const r=t[e];return yo(r)?r:r[so]}function N_(e){return 128==(128&e[it])}function za(e,t){return null==t?null:e[t]}function J0(e){e[Mr]=0}function aP(e){1024&e[it]||(e[it]|=1024,N_(e)&&Ih(e))}function tS(e){return 9216&e[it]||e[tn]?.dirty}function nS(e){tS(e)&&Ih(e)}function Ih(e){let t=e[Dn];for(;null!==t&&!(lo(t)&&t[it]&Ws.HasChildViewsToRefresh||yo(t)&&8192&t[it]);){if(lo(t))t[it]|=Ws.HasChildViewsToRefresh;else if(t[it]|=8192,!N_(t))break;t=t[Dn]}}function xh(e,t){if(256==(256&e[it]))throw new Xe(911,!1);null===e[ke]&&(e[ke]=[]),e[ke].push(t)}const fn={lFrame:fS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function oS(){return fn.bindingsEnabled}function Cu(){return null!==fn.skipHydrationRootTNode}function He(){return fn.lFrame.lView}function nr(){return fn.lFrame.tView}function Rt(e){return fn.lFrame.contextLView=e,e[nn]}function Pt(e){return fn.lFrame.contextLView=null,e}function Fr(){let e=iS();for(;null!==e&&64===e.type;)e=e.parent;return e}function iS(){return fn.lFrame.currentTNode}function Wa(e,t){const r=fn.lFrame;r.currentTNode=e,r.isParent=t}function L_(){return fn.lFrame.isParent}function $_(){fn.lFrame.isParent=!1}function Ti(){const e=fn.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Cl(){return fn.lFrame.bindingIndex}function Za(){return fn.lFrame.bindingIndex++}function Sl(e){const t=fn.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function vP(e,t){const r=fn.lFrame;r.bindingIndex=r.bindingRootIndex=e,B_(t)}function B_(e){fn.lFrame.currentDirectiveIndex=e}function cS(){return fn.lFrame.currentQueryIndex}function j_(e){fn.lFrame.currentQueryIndex=e}function bP(e){const t=e[gt];return 2===t.type?t.declTNode:1===t.type?e[Ae]:null}function uS(e,t,r){if(r&Qe.SkipSelf){let o=t,i=e;for(;!(o=o.parent,null!==o||r&Qe.Host||(o=bP(i),null===o||(i=i[Zt],10&o.type))););if(null===o)return!1;t=o,e=i}const n=fn.lFrame=dS();return n.currentTNode=t,n.lView=e,!0}function G_(e){const t=dS(),r=e[gt];fn.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function dS(){const e=fn.lFrame,t=null===e?null:e.child;return null===t?fS(e):t}function fS(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function pS(){const e=fn.lFrame;return fn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const hS=pS;function U_(){const e=pS();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function yi(){return fn.lFrame.selectedIndex}function Pc(e){fn.lFrame.selectedIndex=e}function no(){const e=fn.lFrame;return uf(e.tView,e.selectedIndex)}let gS=!0;function Th(){return gS}function Kl(e){gS=e}function Mh(e,t){for(let r=t.directiveStart,n=t.directiveEnd;r<n;r++){const i=e.data[r].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:f}=i;s&&(e.contentHooks??=[]).push(-r,s),a&&((e.contentHooks??=[]).push(r,a),(e.contentCheckHooks??=[]).push(r,a)),l&&(e.viewHooks??=[]).push(-r,l),c&&((e.viewHooks??=[]).push(r,c),(e.viewCheckHooks??=[]).push(r,c)),null!=f&&(e.destroyHooks??=[]).push(r,f)}}function Ah(e,t,r){_S(e,t,3,r)}function kh(e,t,r,n){(3&e[it])===r&&_S(e,t,r,n)}function H_(e,t){let r=e[it];(3&r)===t&&(r&=16383,r+=1,e[it]=r)}function _S(e,t,r,n){const i=n??-1,s=t.length-1;let a=0;for(let l=void 0!==n?65535&e[Mr]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=n&&a>=n)break}else t[l]<0&&(e[Mr]+=65536),(a<i||-1==i)&&(xP(e,r,t,l),e[Mr]=(4294901760&e[Mr])+l+2),l++}function vS(e,t){Ha(4,e,t);const r=R(null);try{t.call(e)}finally{R(r),Ha(5,e,t)}}function xP(e,t,r,n){const o=r[n]<0,i=r[n+1],a=e[o?-r[n]:r[n]];o?e[it]>>14<e[Mr]>>16&&(3&e[it])===t&&(e[it]+=16384,vS(a,i)):vS(a,i)}const Su=-1;class ff{constructor(t,r,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=n}}function W_(e){return e!==Su}function pf(e){return 32767&e}function hf(e,t){let r=function RP(e){return e>>16}(e),n=t;for(;r>0;)n=n[Zt],r--;return n}let Z_=!0;function Rh(e){const t=Z_;return Z_=e,t}const yS=255,bS=5;let PP=0;const qa={};function Ph(e,t){const r=CS(e,t);if(-1!==r)return r;const n=t[gt];n.firstCreatePass&&(e.injectorIndex=t.length,q_(n.data,e),q_(t,null),q_(n.blueprint,null));const o=Oh(e,t),i=e.injectorIndex;if(W_(o)){const s=pf(o),a=hf(o,t),l=a[gt].data;for(let c=0;c<8;c++)t[i+c]=a[s+c]|l[s+c]}return t[i+8]=o,i}function q_(e,t){e.push(0,0,0,0,0,0,0,0,t)}function CS(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Oh(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,n=null,o=t;for(;null!==o;){if(n=TS(o),null===n)return Su;if(r++,o=o[Zt],-1!==n.injectorIndex)return n.injectorIndex|r<<16}return Su}function Y_(e,t,r){!function OP(e,t,r){let n;"string"==typeof r?n=r.charCodeAt(0)||0:r.hasOwnProperty(Cr)&&(n=r[Cr]),null==n&&(n=r[Cr]=PP++);const o=n&yS;t.data[e+(o>>bS)]|=1<<o}(e,t,r)}function SS(e,t,r){if(r&Qe.Optional||void 0!==e)return e;_s()}function wS(e,t,r,n){if(r&Qe.Optional&&void 0===n&&(n=null),!(r&(Qe.Self|Qe.Host))){const o=e[fr],i=Kt(void 0);try{return o?o.get(t,n,r&Qe.Optional):ur(t,n,r&Qe.Optional)}finally{Kt(i)}}return SS(n,0,r)}function DS(e,t,r,n=Qe.Default,o){if(null!==e){if(2048&t[it]&&!(n&Qe.Self)){const s=function BP(e,t,r,n,o){let i=e,s=t;for(;null!==i&&null!==s&&2048&s[it]&&!(512&s[it]);){const a=ES(i,s,r,n|Qe.Self,qa);if(a!==qa)return a;let l=i.parent;if(!l){const c=s[q];if(c){const f=c.get(r,qa,n);if(f!==qa)return f}l=TS(s),s=s[Zt]}i=l}return o}(e,t,r,n,qa);if(s!==qa)return s}const i=ES(e,t,r,n,qa);if(i!==qa)return i}return wS(t,r,n,o)}function ES(e,t,r,n,o){const i=function LP(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Cr)?e[Cr]:void 0;return"number"==typeof t?t>=0?t&yS:$P:t}(r);if("function"==typeof i){if(!uS(t,e,n))return n&Qe.Host?SS(o,0,n):wS(t,r,n,o);try{let s;if(s=i(n),null!=s||n&Qe.Optional)return s;_s()}finally{hS()}}else if("number"==typeof i){let s=null,a=CS(e,t),l=Su,c=n&Qe.Host?t[zn][Ae]:null;for((-1===a||n&Qe.SkipSelf)&&(l=-1===a?Oh(e,t):t[a+8],l!==Su&&xS(n,!1)?(s=t[gt],a=pf(l),t=hf(l,t)):a=-1);-1!==a;){const f=t[gt];if(IS(i,a,f.data)){const h=FP(a,t,r,s,n,c);if(h!==qa)return h}l=t[a+8],l!==Su&&xS(n,t[gt].data[a+8]===c)&&IS(i,a,t)?(s=f,a=pf(l),t=hf(l,t)):a=-1}}return o}function FP(e,t,r,n,o,i){const s=t[gt],a=s.data[e+8],f=Nh(a,s,r,null==n?va(a)&&Z_:n!=s&&0!=(3&a.type),o&Qe.Host&&i===a);return null!==f?Oc(t,s,f,a):qa}function Nh(e,t,r,n,o){const i=e.providerIndexes,s=t.data,a=1048575&i,l=e.directiveStart,f=i>>20,g=o?a+f:e.directiveEnd;for(let b=n?a:a+f;b<g;b++){const j=s[b];if(b<l&&r===j||b>=l&&j.type===r)return b}if(o){const b=s[l];if(b&&Xt(b)&&b.type===r)return l}return null}function Oc(e,t,r,n){let o=e[r];const i=t.data;if(function TP(e){return e instanceof ff}(o)){const s=o;s.resolving&&function yl(e,t){const r=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Xe(-200,`Circular dependency in DI detected for ${e}${r}`)}(function $n(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Bt(e)}(i[r]));const a=Rh(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?Kt(s.injectImpl):null;uS(e,n,Qe.Default);try{o=e[r]=s.factory(void 0,i,e,n),t.firstCreatePass&&r>=n.directiveStart&&function IP(e,t,r){const{ngOnChanges:n,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(n){const s=q0(t);(r.preOrderHooks??=[]).push(e,s),(r.preOrderCheckHooks??=[]).push(e,s)}o&&(r.preOrderHooks??=[]).push(0-e,o),i&&((r.preOrderHooks??=[]).push(e,i),(r.preOrderCheckHooks??=[]).push(e,i))}(r,i[r],t)}finally{null!==c&&Kt(c),Rh(a),s.resolving=!1,hS()}}return o}function IS(e,t,r){return!!(r[t+(e>>bS)]&1<<e)}function xS(e,t){return!(e&Qe.Self||e&Qe.Host&&t)}class Xo{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,n){return DS(this._tNode,this._lView,t,Ac(n),r)}}function $P(){return new Xo(Fr(),He())}function Yr(e){return Hs(()=>{const t=e.prototype.constructor,r=t[ri]||K_(t),n=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==n;){const i=o[ri]||K_(o);if(i&&i!==r)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function K_(e){return ms(e)?()=>{const t=K_(Yt(e));return t&&t()}:Rc(e)}function TS(e){const t=e[gt],r=t.type;return 2===r?t.declTNode:1===r?e[Ae]:null}function Xl(e){return function NP(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const n=r.length;let o=0;for(;o<n;){const i=r[o];if(Jd(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<n&&"string"==typeof r[o];)o++;else{if(i===t)return r[o+1];o+=2}}}return null}(Fr(),e)}const Iu="__parameters__";function Tu(e,t,r){return Hs(()=>{const n=function X_(e){return function(...r){if(e){const n=e(...r);for(const o in n)this[o]=n[o]}}}(t);function o(...i){if(this instanceof o)return n.apply(this,i),this;const s=new o(...i);return a.annotation=s,a;function a(l,c,f){const h=l.hasOwnProperty(Iu)?l[Iu]:Object.defineProperty(l,Iu,{value:[]})[Iu];for(;h.length<=f;)h.push(null);return(h[f]=h[f]||[]).push(s),l}}return r&&(o.prototype=Object.create(r.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function Au(e,t){e.forEach(r=>Array.isArray(r)?Au(r,t):t(r))}function AS(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function Fh(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function gf(e,t){const r=[];for(let n=0;n<e;n++)r.push(t);return r}function Cs(e,t,r){let n=ku(e,t);return n>=0?e[1|n]=r:(n=~n,function kS(e,t,r,n){let o=e.length;if(o==t)e.push(r,n);else if(1===o)e.push(n,e[0]),e[0]=r;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=r,e[t+1]=n}}(e,n,t,r)),n}function J_(e,t){const r=ku(e,t);if(r>=0)return e[1|r]}function ku(e,t){return function RS(e,t,r){let n=0,o=e.length>>r;for(;o!==n;){const i=n+(o-n>>1),s=e[i<<r];if(t===s)return i<<r;s>t?o=i:n=i+1}return~(o<<r)}(e,t,1)}const $h=ql(Tu("Optional"),8),Bh=ql(Tu("SkipSelf"),4),Pu=new pt("ENVIRONMENT_INITIALIZER"),FS=new pt("INJECTOR",-1),nv=new pt("INJECTOR_DEF_TYPES");class jh{get(t,r=Zl){if(r===Zl){const n=new Error(`NullInjectorError: No provider for ${xr(t)}!`);throw n.name="NullInjectorError",n}return r}}function aO(...e){return{\u0275providers:LS(0,e),\u0275fromNgModule:!0}}function LS(e,...t){const r=[],n=new Set;let o;const i=s=>{r.push(s)};return Au(t,s=>{const a=s;Gh(a,i,[],n)&&(o||=[],o.push(a))}),void 0!==o&&$S(o,i),r}function $S(e,t){for(let r=0;r<e.length;r++){const{ngModule:n,providers:o}=e[r];ov(o,i=>{t(i,n)})}}function Gh(e,t,r,n){if(!(e=Yt(e)))return!1;let o=null,i=We(e);const s=!i&&_n(e);if(i||s){if(s&&!s.standalone)return!1;o=e}else{const l=e.ngModule;if(i=We(l),!i)return!1;o=l}const a=n.has(o);if(s){if(a)return!1;if(n.add(o),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)Gh(c,t,r,n)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let c;n.add(o);try{Au(i.imports,f=>{Gh(f,t,r,n)&&(c||=[],c.push(f))})}finally{}void 0!==c&&$S(c,t)}if(!a){const c=Rc(o)||(()=>new o);t({provide:o,useFactory:c,deps:tr},o),t({provide:nv,useValue:o,multi:!0},o),t({provide:Pu,useValue:()=>ce(o),multi:!0},o)}const l=i.providers;if(null!=l&&!a){const c=e;ov(l,f=>{t(f,c)})}}}return o!==e&&void 0!==e.providers}function ov(e,t){for(let r of e)Gs(r)&&(r=r.\u0275providers),Array.isArray(r)?ov(r,t):t(r)}const lO=Gn({provide:String,useValue:Gn});function iv(e){return null!==e&&"object"==typeof e&&lO in e}function Nc(e){return"function"==typeof e}const sv=new pt("Set Injector scope."),Uh={},uO={};let av;function Hh(){return void 0===av&&(av=new jh),av}class ii{}class Ou extends ii{get destroyed(){return this._destroyed}constructor(t,r,n,o){super(),this.parent=r,this.source=n,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,cv(t,s=>this.processProvider(s)),this.records.set(FS,Nu(void 0,this)),o.has("environment")&&this.records.set(ii,Nu(void 0,this));const i=this.records.get(sv);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(nv,tr,Qe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const r=ma(this),n=Kt(void 0);try{return t()}finally{ma(r),Kt(n)}}get(t,r=Zl,n=Qe.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Yo))return t[Yo](this);n=Ac(n);const i=ma(this),s=Kt(void 0);try{if(!(n&Qe.SkipSelf)){let l=this.records.get(t);if(void 0===l){const c=function mO(e){return"function"==typeof e||"object"==typeof e&&e instanceof pt}(t)&&lr(t);l=c&&this.injectableDefInScope(c)?Nu(lv(t),Uh):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(n&Qe.Self?Hh():this.parent).get(t,r=n&Qe.Optional&&r===Zl?null:r)}catch(a){if("NullInjectorError"===a.name){if((a[Mc]=a[Mc]||[]).unshift(xr(t)),i)throw a;return function dh(e,t,r,n){const o=e[Mc];throw t[Kd]&&o.unshift(t[Kd]),e.message=function fh(e,t,r,n=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=xr(t);if(Array.isArray(t))o=t.map(xr).join(" -> ");else if("object"==typeof t){let i=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):xr(a)))}o=`{${i.join(", ")}}`}return`${r}${n?"("+n+")":""}[${o}]: ${e.replace(sh,"\n  ")}`}("\n"+e.message,o,r,n),e.ngTokenPath=o,e[Mc]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{Kt(s),ma(i)}}resolveInjectorInitializers(){const t=ma(this),r=Kt(void 0);try{const o=this.get(Pu,tr,Qe.Self);for(const i of o)i()}finally{ma(t),Kt(r)}}toString(){const t=[],r=this.records;for(const n of r.keys())t.push(xr(n));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Xe(205,!1)}processProvider(t){let r=Nc(t=Yt(t))?t:Yt(t&&t.provide);const n=function fO(e){return iv(e)?Nu(void 0,e.useValue):Nu(jS(e),Uh)}(t);if(Nc(t)||!0!==t.multi)this.records.get(r);else{let o=this.records.get(r);o||(o=Nu(void 0,Uh,!0),o.factory=()=>mu(o.multi),this.records.set(r,o)),r=t,o.multi.push(t)}this.records.set(r,n)}hydrate(t,r){return r.value===Uh&&(r.value=uO,r.value=r.factory()),"object"==typeof r.value&&r.value&&function hO(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}injectableDefInScope(t){if(!t.providedIn)return!1;const r=Yt(t.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){const r=this._onDestroyHooks.indexOf(t);-1!==r&&this._onDestroyHooks.splice(r,1)}}function lv(e){const t=lr(e),r=null!==t?t.factory:Rc(e);if(null!==r)return r;if(e instanceof pt)throw new Xe(204,!1);if(e instanceof Function)return function dO(e){const t=e.length;if(t>0)throw gf(t,"?"),new Xe(204,!1);const r=function cr(e){return e&&(e[p]||e[oe])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new Xe(204,!1)}function jS(e,t,r){let n;if(Nc(e)){const o=Yt(e);return Rc(o)||lv(o)}if(iv(e))n=()=>Yt(e.useValue);else if(function VS(e){return!(!e||!e.useFactory)}(e))n=()=>e.useFactory(...mu(e.deps||[]));else if(function BS(e){return!(!e||!e.useExisting)}(e))n=()=>ce(Yt(e.useExisting));else{const o=Yt(e&&(e.useClass||e.provide));if(!function pO(e){return!!e.deps}(e))return Rc(o)||lv(o);n=()=>new o(...mu(e.deps))}return n}function Nu(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function cv(e,t){for(const r of e)Array.isArray(r)?cv(r,t):r&&Gs(r)?cv(r.\u0275providers,t):t(r)}function Ql(e,t){e instanceof Ou&&e.assertNotDestroyed();const n=ma(e),o=Kt(void 0);try{return t()}finally{ma(n),Kt(o)}}function zS(e,t=null,r=null,n){const o=WS(e,t,r,n);return o.resolveInjectorInitializers(),o}function WS(e,t=null,r=null,n,o=new Set){const i=[r||tr,aO(e)];return n=n||("object"==typeof e?void 0:xr(e)),new Ou(i,t||Hh(),n||null,o)}let fv,Kr=(()=>{var e;class t{static create(n,o){if(Array.isArray(n))return zS({name:""},o,n,"");{const i=n.name??"";return zS({name:i},n.parent,n.providers,i)}}}return(e=t).THROW_IF_NOT_FOUND=Zl,e.NULL=new jh,e.\u0275prov=$e({token:e,providedIn:"any",factory:()=>ce(FS)}),e.__NG_ELEMENT_ID__=-1,t})();const Wh=new pt("AppId",{providedIn:"root",factory:()=>DO}),DO="ng",qS=new pt("Platform Initializer"),tc=new pt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),YS=new pt("CSP nonce",{providedIn:"root",factory:()=>function ec(){if(void 0!==fv)return fv;if(typeof document<"u")return document;throw new Xe(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Ss(e){return e instanceof Function?e():e}function Kh(e){return 128==(128&e.flags)}var oc=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(oc||{});const OO=/^>|^->|<!--|-->|--!>|<!-$/g,NO=/(<|>)/g,FO="\u200b$1\u200b";const _v=new Map;let LO=0;const yv="__ngContext__";function bi(e,t){yo(t)?(e[yv]=t[y],function BO(e){_v.set(e[y],e)}(t)):e[yv]=t}let bv;function Cv(e,t){return bv(e,t)}function Sf(e){const t=e[Dn];return lo(t)?t[Dn]:t}function pw(e){return mw(e[ao])}function hw(e){return mw(e[Rn])}function mw(e){for(;null!==e&&!lo(e);)e=e[Rn];return e}function Lu(e,t,r,n,o){if(null!=n){let i,s=!1;lo(n)?i=n:yo(n)&&(s=!0,n=n[so]);const a=qr(n);0===e&&null!==r?null==o?yw(t,r,a):Fc(t,r,a,o||null,!0):1===e&&null!==r?Fc(t,r,a,o||null,!0):2===e?function rm(e,t,r){const n=tm(e,t);n&&function o2(e,t,r,n){e.removeChild(t,r,n)}(e,n,t,r)}(t,a,s):3===e&&t.destroyNode(a),null!=i&&function a2(e,t,r,n,o){const i=r[Gr];i!==qr(r)&&Lu(t,e,n,i,o);for(let a=Vn;a<r.length;a++){const l=r[a];Ef(l[gt],l,e,t,n,i)}}(t,e,i,r,o)}}function Sv(e,t){return e.createComment(function iw(e){return e.replace(OO,t=>t.replace(NO,FO))}(t))}function Jh(e,t,r){return e.createElement(t,r)}function _w(e,t){const r=e[ys],n=r.indexOf(t);r.splice(n,1)}function wf(e,t){if(e.length<=Vn)return;const r=Vn+t,n=e[r];if(n){const o=n[Nr];null!==o&&o!==e&&_w(o,n),t>0&&(e[r-1][Rn]=n[Rn]);const i=Fh(e,Vn+t);!function KO(e,t){Ef(e,t,t[Wt],2,null,null),t[so]=null,t[Ae]=null}(n[gt],n);const s=i[d];null!==s&&s.detachView(i[gt]),n[Dn]=null,n[Rn]=null,n[it]&=-129}return n}function em(e,t){if(!(256&t[it])){const r=t[Wt];r.destroyNode&&Ef(e,t,r,3,null,null),function JO(e){let t=e[ao];if(!t)return wv(e[gt],e);for(;t;){let r=null;if(yo(t))r=t[ao];else{const n=t[Vn];n&&(r=n)}if(!r){for(;t&&!t[Rn]&&t!==e;)yo(t)&&wv(t[gt],t),t=t[Dn];null===t&&(t=e),yo(t)&&wv(t[gt],t),r=t&&t[Rn]}t=r}}(t)}}function wv(e,t){if(!(256&t[it])){t[it]&=-129,t[it]|=256,t[tn]&&function J(e){if(Re(e),xe(e))for(let t=0;t<e.producerNode.length;t++)ae(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}(t[tn]),function r2(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let n=0;n<r.length;n+=2){const o=t[r[n]];if(!(o instanceof ff)){const i=r[n+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],l=i[s+1];Ha(4,a,l);try{l.call(a)}finally{Ha(5,a,l)}}else{Ha(4,o,i);try{i.call(o)}finally{Ha(5,o,i)}}}}}(e,t),function n2(e,t){const r=e.cleanup,n=t[Pn];if(null!==r)for(let i=0;i<r.length-1;i+=2)if("string"==typeof r[i]){const s=r[i+3];s>=0?n[s]():n[-s].unsubscribe(),i+=2}else r[i].call(n[r[i+1]]);null!==n&&(t[Pn]=null);const o=t[ke];if(null!==o){t[ke]=null;for(let i=0;i<o.length;i++)(0,o[i])()}}(e,t),1===t[gt].type&&t[Wt].destroy();const r=t[Nr];if(null!==r&&lo(t[Dn])){r!==t[Dn]&&_w(r,t);const n=t[d];null!==n&&n.detachView(e)}!function VO(e){_v.delete(e[y])}(t)}}function Dv(e,t,r){return function vw(e,t,r){let n=t;for(;null!==n&&40&n.type;)n=(t=n).parent;if(null===n)return r[so];{const{componentOffset:o}=n;if(o>-1){const{encapsulation:i}=e.data[n.directiveStart+o];if(i===ns.None||i===ns.Emulated)return null}return xi(n,r)}}(e,t.parent,r)}function Fc(e,t,r,n,o){e.insertBefore(t,r,n,o)}function yw(e,t,r){e.appendChild(t,r)}function bw(e,t,r,n,o){null!==n?Fc(e,t,r,n,o):yw(e,t,r)}function tm(e,t){return e.parentNode(t)}function Cw(e,t,r){return ww(e,t,r)}let Ev,om,ww=function Sw(e,t,r){return 40&e.type?xi(e,r):null};function nm(e,t,r,n){const o=Dv(e,n,t),i=t[Wt],a=Cw(n.parent||t[Ae],n,t);if(null!=o)if(Array.isArray(r))for(let l=0;l<r.length;l++)bw(i,o,r[l],a,!1);else bw(i,o,r,a,!1);void 0!==Ev&&Ev(i,n,t,r,o)}function Df(e,t){if(null!==t){const r=t.type;if(3&r)return xi(t,e);if(4&r)return Iv(-1,e[t.index]);if(8&r){const n=t.child;if(null!==n)return Df(e,n);{const o=e[t.index];return lo(o)?Iv(-1,o):qr(o)}}if(32&r)return Cv(t,e)()||qr(e[t.index]);{const n=Ew(e,t);return null!==n?Array.isArray(n)?n[0]:Df(Sf(e[zn]),n):Df(e,t.next)}}return null}function Ew(e,t){return null!==t?e[zn][Ae].projection[t.projection]:null}function Iv(e,t){const r=Vn+e+1;if(r<t.length){const n=t[r],o=n[gt].firstChild;if(null!==o)return Df(n,o)}return t[Gr]}function xv(e,t,r,n,o,i,s){for(;null!=r;){const a=n[r.index],l=r.type;if(s&&0===t&&(a&&bi(qr(a),n),r.flags|=2),32!=(32&r.flags))if(8&l)xv(e,t,r.child,n,o,i,!1),Lu(t,e,o,a,i);else if(32&l){const c=Cv(r,n);let f;for(;f=c();)Lu(t,e,o,f,i);Lu(t,e,o,a,i)}else 16&l?xw(e,t,n,r,o,i):Lu(t,e,o,a,i);r=s?r.projectionNext:r.next}}function Ef(e,t,r,n,o,i){xv(r,n,e.firstChild,t,o,i,!1)}function xw(e,t,r,n,o,i){const s=r[zn],l=s[Ae].projection[n.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Lu(t,e,o,l[c],i);else{let c=l;const f=s[Dn];Kh(n)&&(c.flags|=128),xv(e,t,c,f,o,i,!0)}}function Tw(e,t,r){""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}function Mw(e,t,r){const{mergedAttrs:n,classes:o,styles:i}=r;null!==n&&gu(e,t,n),null!==o&&Tw(e,t,o),null!==i&&function c2(e,t,r){e.setAttribute(t,"style",r)}(e,t,i)}function $u(e){return function Tv(){if(void 0===om&&(om=null,Un.trustedTypes))try{om=Un.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return om}()?.createHTML(e)||e}class Lc{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${da})`}}class p2 extends Lc{getTypeName(){return"HTML"}}class h2 extends Lc{getTypeName(){return"Style"}}class m2 extends Lc{getTypeName(){return"Script"}}class g2 extends Lc{getTypeName(){return"URL"}}class _2 extends Lc{getTypeName(){return"ResourceURL"}}function ws(e){return e instanceof Lc?e.changingThisBreaksApplicationSecurity:e}function Ya(e,t){const r=function v2(e){return e instanceof Lc&&e.getTypeName()||null}(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see ${da})`)}return r===t}class D2{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const r=(new window.DOMParser).parseFromString($u(t),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(t):(r.removeChild(r.firstChild),r)}catch{return null}}}class E2{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const r=this.inertDocument.createElement("template");return r.innerHTML=$u(t),r}}const x2=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function sm(e){return(e=String(e)).match(x2)?e:"unsafe:"+e}function wl(e){const t={};for(const r of e.split(","))t[r]=!0;return t}function If(...e){const t={};for(const r of e)for(const n in r)r.hasOwnProperty(n)&&(t[n]=!0);return t}const Ow=wl("area,br,col,hr,img,wbr"),Nw=wl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Fw=wl("rp,rt"),Av=If(Ow,If(Nw,wl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),If(Fw,wl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),If(Fw,Nw)),kv=wl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Lw=If(kv,wl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),wl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),T2=wl("script,style,template");class M2{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let r=t.firstChild,n=!0;for(;r;)if(r.nodeType===Node.ELEMENT_NODE?n=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,n&&r.firstChild)r=r.firstChild;else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let o=this.checkClobberedElement(r,r.nextSibling);if(o){r=o;break}r=this.checkClobberedElement(r,r.parentNode)}return this.buf.join("")}startElement(t){const r=t.nodeName.toLowerCase();if(!Av.hasOwnProperty(r))return this.sanitizedSomething=!0,!T2.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const n=t.attributes;for(let o=0;o<n.length;o++){const i=n.item(o),s=i.name,a=s.toLowerCase();if(!Lw.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=i.value;kv[a]&&(l=sm(l)),this.buf.push(" ",s,'="',$w(l),'"')}return this.buf.push(">"),!0}endElement(t){const r=t.nodeName.toLowerCase();Av.hasOwnProperty(r)&&!Ow.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(t){this.buf.push($w(t))}checkClobberedElement(t,r){if(r&&(t.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return r}}const A2=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,k2=/([^\#-~ |!])/g;function $w(e){return e.replace(/&/g,"&amp;").replace(A2,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(k2,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let am;function Bw(e,t){let r=null;try{am=am||function Pw(e){const t=new E2(e);return function I2(){try{return!!(new window.DOMParser).parseFromString($u(""),"text/html")}catch{return!1}}()?new D2(t):t}(e);let n=t?String(t):"";r=am.getInertBodyElement(n);let o=5,i=n;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,n=i,i=r.innerHTML,r=am.getInertBodyElement(n)}while(n!==i);return $u((new M2).sanitizeChildren(Rv(r)||r))}finally{if(r){const n=Rv(r)||r;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function Rv(e){return"content"in e&&function R2(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Ds=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Ds||{});let Uw=(e,t,r)=>null;function Vv(e,t,r=!1){return Uw(e,t,r)}class Z2{}class Ww{}class Y2{resolveComponentFactory(t){throw function q2(e){const t=Error(`No component factory found for ${xr(e)}.`);return t.ngComponent=e,t}(t)}}let pm=(()=>{class t{}return t.NULL=new Y2,t})();function K2(){return ju(Fr(),He())}function ju(e,t){return new tt(xi(e,t))}let tt=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=K2,t})();function X2(e){return e instanceof tt?e.nativeElement:e}class qw{}let Dl=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function Q2(){const e=He(),r=bs(Fr().index,e);return(yo(r)?r:e)[Wt]}(),t})(),J2=(()=>{var e;class t{}return(e=t).\u0275prov=$e({token:e,providedIn:"root",factory:()=>null}),t})();class Af{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const eN=new Af("17.0.7"),Uv={};function Yw(e){const t=R(null);try{return e()}finally{R(t)}}function hm(e){return!!function Hv(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}class Kw{constructor(){}supports(t){return hm(t)}create(t){return new iN(t)}}const oN=(e,t)=>t;class iN{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||oN}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,n=this._removalsHead,o=0,i=null;for(;r||n;){const s=!n||r&&r.currentIndex<Qw(n,o,i)?r:n,a=Qw(s,o,i),l=s.currentIndex;if(s===n)o--,n=n._nextRemoved;else if(r=r._next,null==s.previousIndex)o++;else{i||(i=[]);const c=a-o,f=l-o;if(c!=f){for(let g=0;g<c;g++){const b=g<i.length?i[g]:i[g]=0,j=b+g;f<=j&&j<c&&(i[g]=b+1)}i[s.previousIndex]=f-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!hm(t))throw new Xe(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,i,s,r=this._itHead,n=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)i=t[a],s=this._trackByFn(a,i),null!==r&&Object.is(r.trackById,s)?(n&&(r=this._verifyReinsertion(r,i,s,a)),Object.is(r.item,i)||this._addIdentityChange(r,i)):(r=this._mismatch(r,i,s,a),n=!0),r=r._next}else o=0,function rN(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Symbol.iterator]();let n;for(;!(n=r.next()).done;)t(n.value)}}(t,a=>{s=this._trackByFn(o,a),null!==r&&Object.is(r.trackById,s)?(n&&(r=this._verifyReinsertion(r,a,s,o)),Object.is(r.item,a)||this._addIdentityChange(r,a)):(r=this._mismatch(r,a,s,o),n=!0),r=r._next,o++}),this.length=o;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,n,o){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,i,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,o))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,i,o)):t=this._addAfter(new sN(r,n),i,o),t}_verifyReinsertion(t,r,n,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,i=t._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,r,n),this._addToMoves(t,n),t}_moveAfter(t,r,n){return this._unlink(t),this._insertAfter(t,r,n),this._addToMoves(t,n),t}_addAfter(t,r,n){return this._insertAfter(t,r,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,n){const o=null===r?this._itHead:r._next;return t._next=o,t._prev=r,null===o?this._itTail=t:o._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new Xw),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,n=t._next;return null===r?this._itHead=n:r._next=n,null===n?this._itTail=r:n._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Xw),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class sN{constructor(t,r){this.item=t,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class aN{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===r||r<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const r=t._prevDup,n=t._nextDup;return null===r?this._head=n:r._nextDup=n,null===n?this._tail=r:n._prevDup=r,null===this._head}}class Xw{constructor(){this.map=new Map}put(t){const r=t.trackById;let n=this.map.get(r);n||(n=new aN,this.map.set(r,n)),n.add(t)}get(t,r){const o=this.map.get(t);return o?o.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Qw(e,t,r){const n=e.previousIndex;if(null===n)return n;let o=0;return r&&n<r.length&&(o=r[n]),n+t+o}function eD(){return new mm([new Kw])}let mm=(()=>{var e;class t{constructor(n){this.factories=n}static create(n,o){if(null!=o){const i=o.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:o=>t.create(n,o||eD()),deps:[[t,new Bh,new $h]]}}find(n){const o=this.factories.find(i=>i.supports(n));if(null!=o)return o;throw new Xe(901,!1)}}return(e=t).\u0275prov=$e({token:e,providedIn:"root",factory:eD}),t})();function Rf(e,t,r,n,o=!1){for(;null!==r;){const i=t[r.index];null!==i&&n.push(qr(i)),lo(i)&&nD(i,n);const s=r.type;if(8&s)Rf(e,t,r.child,n);else if(32&s){const a=Cv(r,t);let l;for(;l=a();)n.push(l)}else if(16&s){const a=Ew(t,r);if(Array.isArray(a))n.push(...a);else{const l=Sf(t[zn]);Rf(l[gt],l,a,n,!0)}}r=o?r.projectionNext:r.next}return n}function nD(e,t){for(let r=Vn;r<e.length;r++){const n=e[r],o=n[gt].firstChild;null!==o&&Rf(n[gt],n,o,t)}e[Gr]!==e[so]&&t.push(e[Gr])}let rD=[];const hN={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Ih(e.lView)},consumerOnSignalRead(){this.lView[tn]=this}};function zv(e){return e.ngOriginalError}class El{constructor(){this._console=console}handleError(t){const r=this._findOriginalError(t);this._console.error("ERROR",t),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(t){let r=t&&zv(t);for(;r&&zv(r);)r=zv(r);return r||null}}const iD=new pt("",{providedIn:"root",factory:()=>rt(El).handleError.bind(void 0)}),aD=new pt("",{providedIn:"root",factory:()=>!1}),yn={};function me(e){dD(nr(),He(),yi()+e,!1)}function dD(e,t,r,n){if(!n)if(3==(3&t[it])){const i=e.preOrderCheckHooks;null!==i&&Ah(t,i,r)}else{const i=e.preOrderHooks;null!==i&&kh(t,i,0,r)}Pc(r)}function _(e,t=Qe.Default){const r=He();return null===r?ce(e,t):DS(Fr(),r,Yt(e),t)}function _m(e,t,r,n,o,i,s,a,l,c,f){const h=t.blueprint.slice();return h[so]=o,h[it]=140|n,(null!==c||e&&2048&e[it])&&(h[it]|=2048),J0(h),h[Dn]=h[Zt]=e,h[nn]=r,h[Ao]=s||e&&e[Ao],h[Wt]=a||e&&e[Wt],h[fr]=l||e&&e[fr]||null,h[Ae]=i,h[y]=function $O(){return LO++}(),h[ir]=f,h[q]=c,h[zn]=2==t.type?e[zn]:h,h}function Gu(e,t,r,n,o){let i=e.data[t];if(null===i)i=function Wv(e,t,r,n,o){const i=iS(),s=L_(),l=e.data[t]=function xN(e,t,r,n,o,i){let s=t?t.injectorIndex:-1,a=0;return Cu()&&(a|=128),{type:r,index:n,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,r,t,n,o);return null===e.firstChild&&(e.firstChild=l),null!==i&&(s?null==i.child&&null!==l.parent&&(i.child=l):null===i.next&&(i.next=l,l.prev=i)),l}(e,t,r,n,o),function _P(){return fn.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=r,i.value=n,i.attrs=o;const s=function df(){const e=fn.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return Wa(i,!0),i}function Pf(e,t,r,n){if(0===r)return-1;const o=t.length;for(let i=0;i<r;i++)t.push(n),e.blueprint.push(n),e.data.push(null);return o}function pD(e,t,r,n,o){const i=yi(),s=2&n;try{Pc(-1),s&&t.length>ut&&dD(e,t,ut,!1),Ha(s?2:0,o),r(n,o)}finally{Pc(i),Ha(s?3:1,o)}}function Zv(e,t,r){if(vu(t)){const n=R(null);try{const i=t.directiveEnd;for(let s=t.directiveStart;s<i;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,r[s],s)}}finally{R(n)}}}function qv(e,t,r){oS()&&(function ON(e,t,r,n){const o=r.directiveStart,i=r.directiveEnd;va(r)&&function jN(e,t,r){const n=xi(t,e),o=hD(r);let s=16;r.signals?s=4096:r.onPush&&(s=64);const a=vm(e,_m(e,o,null,s,n,t,null,e[Ao].rendererFactory.createRenderer(n,r),null,null,null));e[t.index]=a}(t,r,e.data[o+r.componentOffset]),e.firstCreatePass||Ph(r,t),bi(n,t);const s=r.initialInputs;for(let a=o;a<i;a++){const l=e.data[a],c=Oc(t,e,a,r);bi(c,t),null!==s&&GN(0,a-o,c,l,0,s),Xt(l)&&(bs(r.index,t)[nn]=Oc(t,e,a,r))}}(e,t,r,xi(r,t)),64==(64&r.flags)&&yD(e,t,r))}function Yv(e,t,r=xi){const n=t.localNames;if(null!==n){let o=t.index+1;for(let i=0;i<n.length;i+=2){const s=n[i+1],a=-1===s?r(t,e):e[s];e[o++]=a}}}function hD(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Kv(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Kv(e,t,r,n,o,i,s,a,l,c,f){const h=ut+n,g=h+o,b=function CN(e,t){const r=[];for(let n=0;n<t;n++)r.push(n<e?null:yn);return r}(h,g),j="function"==typeof c?c():c;return b[gt]={type:e,blueprint:b,template:r,queries:null,viewQuery:a,declTNode:t,data:b.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:j,incompleteFirstPass:!1,ssrId:f}}let mD=e=>null;function gD(e,t,r,n){for(let o in e)if(e.hasOwnProperty(o)){r=null===r?{}:r;const i=e[o];null===n?_D(r,t,o,i):n.hasOwnProperty(o)&&_D(r,t,n[o],i)}return r}function _D(e,t,r,n){e.hasOwnProperty(r)?e[r].push(t,n):e[r]=[t,n]}function Es(e,t,r,n,o,i,s,a){const l=xi(t,r);let f,c=t.inputs;!a&&null!=c&&(f=c[n])?(ty(e,r,f,n,o),va(t)&&function AN(e,t){const r=bs(t,e);16&r[it]||(r[it]|=64)}(r,t.index)):3&t.type&&(n=function MN(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n),o=null!=s?s(o,t.value||"",n):o,i.setProperty(l,n,o))}function Xv(e,t,r,n){if(oS()){const o=null===n?null:{"":-1},i=function FN(e,t){const r=e.directiveRegistry;let n=null,o=null;if(r)for(let i=0;i<r.length;i++){const s=r[i];if(sf(t,s.selectors,!1))if(n||(n=[]),Xt(s))if(null!==s.findHostDirectiveDefs){const a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),n.unshift(...a,s),Qv(e,t,a.length)}else n.unshift(s),Qv(e,t,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,n,o),n.push(s)}return null===n?null:[n,o]}(e,r);let s,a;null===i?s=a=null:[s,a]=i,null!==s&&vD(e,t,r,s,o,a),o&&function LN(e,t,r){if(t){const n=e.localNames=[];for(let o=0;o<t.length;o+=2){const i=r[t[o+1]];if(null==i)throw new Xe(-301,!1);n.push(t[o],i)}}}(r,n,o)}r.mergedAttrs=Yl(r.mergedAttrs,r.attrs)}function vD(e,t,r,n,o,i){for(let c=0;c<n.length;c++)Y_(Ph(r,t),e,n[c].type);!function BN(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}(r,e.data.length,n.length);for(let c=0;c<n.length;c++){const f=n[c];f.providersResolver&&f.providersResolver(f)}let s=!1,a=!1,l=Pf(e,t,n.length,null);for(let c=0;c<n.length;c++){const f=n[c];r.mergedAttrs=Yl(r.mergedAttrs,f.hostAttrs),VN(e,r,t,l,f),$N(l,f,o),null!==f.contentQueries&&(r.flags|=4),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(r.flags|=64);const h=f.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),a=!0),l++}!function TN(e,t,r){const o=t.directiveEnd,i=e.data,s=t.attrs,a=[];let l=null,c=null;for(let f=t.directiveStart;f<o;f++){const h=i[f],g=r?r.get(h):null,j=g?g.outputs:null;l=gD(h.inputs,f,l,g?g.inputs:null),c=gD(h.outputs,f,c,j);const ee=null===l||null===s||rf(t)?null:UN(l,f,s);a.push(ee)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(e,r,i)}function yD(e,t,r){const n=r.directiveStart,o=r.directiveEnd,i=r.index,s=function yP(){return fn.lFrame.currentDirectiveIndex}();try{Pc(i);for(let a=n;a<o;a++){const l=e.data[a],c=t[a];B_(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&NN(l,c)}}finally{Pc(-1),B_(s)}}function NN(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Qv(e,t,r){t.componentOffset=r,(e.components??=[]).push(t.index)}function $N(e,t,r){if(r){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)r[t.exportAs[n]]=e;Xt(t)&&(r[""]=e)}}function VN(e,t,r,n,o){e.data[n]=o;const i=o.factory||(o.factory=Rc(o.type)),s=new ff(i,Xt(o),_);e.blueprint[n]=s,r[n]=s,function RN(e,t,r,n,o){const i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function PN(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(s)!=a&&s.push(a),s.push(r,n,i)}}(e,t,n,Pf(e,r,o.hostVars,yn),o)}function Ka(e,t,r,n,o,i){const s=xi(e,t);!function Jv(e,t,r,n,o,i,s){if(null==i)e.removeAttribute(t,o,r);else{const a=null==s?Bt(i):s(i,n||"",o);e.setAttribute(t,o,a,r)}}(t[Wt],s,i,e.value,r,n,o)}function GN(e,t,r,n,o,i){const s=i[t];if(null!==s)for(let a=0;a<s.length;)bD(n,r,s[a++],s[a++],s[a++])}function bD(e,t,r,n,o){const i=R(null);try{const s=e.inputTransforms;null!==s&&s.hasOwnProperty(n)&&(o=s[n].call(t,o)),null!==e.setInput?e.setInput(t,o,r,n):t[n]=o}finally{R(i)}}function UN(e,t,r){let n=null,o=0;for(;o<r.length;){const i=r[o];if(0!==i)if(5!==i){if("number"==typeof i)break;if(e.hasOwnProperty(i)){null===n&&(n=[]);const s=e[i];for(let a=0;a<s.length;a+=2)if(s[a]===t){n.push(i,s[a+1],r[o+1]);break}}o+=2}else o+=2;else o+=4}return n}function CD(e,t,r,n){return[e,!0,0,t,null,n,null,r,null,null]}function SD(e,t){const r=e.contentQueries;if(null!==r){const n=R(null);try{for(let o=0;o<r.length;o+=2){const s=r[o+1];if(-1!==s){const a=e.data[s];j_(r[o]),a.contentQueries(2,t[s],s)}}}finally{R(n)}}}function vm(e,t){return e[ao]?e[to][Rn]=t:e[ao]=t,e[to]=t,t}function ey(e,t,r){j_(0);const n=R(null);try{t(e,r)}finally{R(n)}}function wD(e){return e[Pn]||(e[Pn]=[])}function DD(e){return e.cleanup||(e.cleanup=[])}function ym(e,t){const r=e[fr],n=r?r.get(El,null):null;n&&n.handleError(t)}function ty(e,t,r,n,o){for(let i=0;i<r.length;){const s=r[i++],a=r[i++];bD(e.data[s],t[s],n,a,o)}}function Il(e,t,r){const n=cf(t,e);!function gw(e,t,r){e.setValue(t,r)}(e[Wt],n,r)}function WN(e,t,r,n){const o=t[it];if(256==(256&o))return;t[Ao].inlineEffectRunner?.flush(),G_(t);let s=null,a=null;(function ZN(e){return 2!==e.type})(e)&&(a=function dN(e){return e[tn]??function fN(e){const t=rD.pop()??Object.create(hN);return t.lView=e,t}(e)}(t),s=function se(e){return e&&(e.nextProducerIndex=0),R(e)}(a));try{J0(t),function aS(e){return fn.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&pD(e,t,r,2,n);const l=3==(3&o);if(l){const h=e.preOrderCheckHooks;null!==h&&Ah(t,h,null)}else{const h=e.preOrderHooks;null!==h&&kh(t,h,0,null),H_(t,0)}if(function qN(e){for(let t=pw(e);null!==t;t=hw(t)){if(!(t[it]&Ws.HasTransplantedViews))continue;const r=t[ys];for(let n=0;n<r.length;n++){aP(r[n])}}}(t),ID(t,0),null!==e.contentQueries&&SD(e,t),l){const h=e.contentCheckHooks;null!==h&&Ah(t,h)}else{const h=e.contentHooks;null!==h&&kh(t,h,1),H_(t,1)}!function bN(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let n=0;n<r.length;n++){const o=r[n];if(o<0)Pc(~o);else{const i=o,s=r[++n],a=r[++n];vP(s,i),a(2,t[i])}}}finally{Pc(-1)}}(e,t);const c=e.components;null!==c&&TD(t,c,0);const f=e.viewQuery;if(null!==f&&ey(2,f,n),l){const h=e.viewCheckHooks;null!==h&&Ah(t,h)}else{const h=e.viewHooks;null!==h&&kh(t,h,2),H_(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[It]){for(const h of t[It])h();t[It]=null}t[it]&=-73}catch(l){throw Ih(t),l}finally{null!==a&&(function z(e,t){if(R(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(xe(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)ae(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(a,s),function pN(e){e.lView[tn]!==e&&(e.lView=null,rD.push(e))}(a)),U_()}}function ID(e,t){for(let r=pw(e);null!==r;r=hw(r)){r[it]&=~Ws.HasChildViewsToRefresh;for(let n=Vn;n<r.length;n++)xD(r[n],t)}}function YN(e,t,r){xD(bs(t,e),r)}function xD(e,t){N_(e)&&ry(e,t)}function ry(e,t){const n=e[gt],o=e[it],i=e[tn];let s=!!(0===t&&16&o);if(s||=!!(64&o&&0===t),s||=!!(1024&o),s||=!(!i?.dirty||!M(i)),i&&(i.dirty=!1),e[it]&=-9217,s)WN(n,e,n.template,e[nn]);else if(8192&o){ID(e,1);const a=n.components;null!==a&&TD(e,a,1)}}function TD(e,t,r){for(let n=0;n<t.length;n++)YN(e,t[n],r)}function Of(e){for(;e;){e[it]|=64;const t=Sf(e);if(gi(e)&&!t)return e;e=t}return null}class Nf{get rootNodes(){const t=this._lView,r=t[gt];return Rf(r,t,r.firstChild,[])}constructor(t,r,n=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[nn]}set context(t){this._lView[nn]=t}get destroyed(){return 256==(256&this._lView[it])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Dn];if(lo(t)){const r=t[8],n=r?r.indexOf(this):-1;n>-1&&(wf(t,n),Fh(r,n))}this._attachedToViewContainer=!1}em(this._lView[gt],this._lView)}onDestroy(t){xh(this._lView,t)}markForCheck(){Of(this._cdRefInjectingView||this._lView)}detach(){this._lView[it]&=-129}reattach(){nS(this._lView),this._lView[it]|=128}detectChanges(){this._lView[it]|=1024,function ny(e,t=!0){const r=e[Ao],n=r.rendererFactory,o=r.afterRenderEventManager;n.begin?.(),o?.begin();try{!function zN(e){ry(e,0);let t=0;for(;tS(e);){if(100===t)throw new Xe(103,!1);t++,ry(e,1)}}(e)}catch(s){throw t&&ym(e,s),s}finally{n.end?.(),r.inlineEffectRunner?.flush(),o?.end()}}(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function QO(e,t){Ef(e,t,t[Wt],2,null,null)}(this._lView[gt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Xe(902,!1);this._appRef=t}}let dt=(()=>{class t{}return t.__NG_ELEMENT_ID__=KN,t})();function KN(e){return function XN(e,t,r){if(va(e)&&!r){const n=bs(e.index,t);return new Nf(n,n)}return 47&e.type?new Nf(t[zn],t):null}(Fr(),He(),16==(16&e))}let bm=(()=>{var e;class t{}return(e=t).__NG_ELEMENT_ID__=tF,e.__NG_ENV_ID__=r=>r,t})();class eF extends bm{constructor(t){super(),this._lView=t}onDestroy(t){return xh(this._lView,t),()=>function F_(e,t){if(null===e[ke])return;const r=e[ke].indexOf(t);-1!==r&&e[ke].splice(r,1)}(this._lView,t)}}function tF(){return new eF(He())}const MD=new Set;function $c(e){MD.has(e)||(MD.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function oy(e){return t=>{setTimeout(e,void 0,t)}}const on=class lF extends xn{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,r,n){let o=t,i=r||(()=>null),s=n;if(t&&"object"==typeof t){const l=t;o=l.next?.bind(l),i=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(i=oy(i),o&&(o=oy(o)),s&&(s=oy(s)));const a=super.subscribe({next:o,error:i,complete:s});return t instanceof vt&&t.add(a),a}};function AD(...e){}class Ge{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new on(!1),this.onMicrotaskEmpty=new on(!1),this.onStable=new on(!1),this.onError=new on(!1),typeof Zone>"u")throw new Xe(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!n&&r,o.shouldCoalesceRunChangeDetection=n,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function cF(){const e="function"==typeof Un.requestAnimationFrame;let t=Un[e?"requestAnimationFrame":"setTimeout"],r=Un[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&r){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function fF(e){const t=()=>{!function dF(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Un,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,sy(e),e.isCheckStableRunning=!0,iy(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),sy(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,n,o,i,s,a)=>{if(function hF(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return r.invokeTask(o,i,s,a);try{return kD(e),r.invokeTask(o,i,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||e.shouldCoalesceRunChangeDetection)&&t(),RD(e)}},onInvoke:(r,n,o,i,s,a,l)=>{try{return kD(e),r.invoke(o,i,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),RD(e)}},onHasTask:(r,n,o,i)=>{r.hasTask(o,i),n===o&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,sy(e),iy(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(r,n,o,i)=>(r.handleError(o,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ge.isInAngularZone())throw new Xe(909,!1)}static assertNotInAngularZone(){if(Ge.isInAngularZone())throw new Xe(909,!1)}run(t,r,n){return this._inner.run(t,r,n)}runTask(t,r,n,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,uF,AD,AD);try{return i.runTask(s,r,n)}finally{i.cancelTask(s)}}runGuarded(t,r,n){return this._inner.runGuarded(t,r,n)}runOutsideAngular(t){return this._outer.run(t)}}const uF={};function iy(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function sy(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function kD(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function RD(e){e._nesting--,iy(e)}class pF{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new on,this.onMicrotaskEmpty=new on,this.onStable=new on,this.onError=new on}run(t,r,n){return t.apply(r,n)}runGuarded(t,r,n){return t.apply(r,n)}runOutsideAngular(t){return t()}runTask(t,r,n,o){return t.apply(r,n)}}const PD=new pt("",{providedIn:"root",factory:OD});function OD(){const e=rt(Ge);let t=!0;return ca(new Fn(o=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{o.next(t),o.complete()})}),new Fn(o=>{let i;e.runOutsideAngular(()=>{i=e.onStable.subscribe(()=>{Ge.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,o.next(!0))})})});const s=e.onUnstable.subscribe(()=>{Ge.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{o.next(!1)}))});return()=>{i.unsubscribe(),s.unsubscribe()}}).pipe(ua()))}var Bc=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Bc||{});const ND={destroy(){}};function LD(e,t){!t&&function uv(e){if(!an()&&!function lh(){return bl}())throw new Xe(-203,!1)}();const r=t?.injector??rt(Kr);if(!function nc(e){return"browser"===(e??rt(Kr)).get(tc)}(r))return ND;$c("NgAfterNextRender");const n=r.get(Cm),o=n.handler??=new BD,i=t?.phase??Bc.MixedReadWrite,s=()=>{o.unregister(l),a()},a=r.get(bm).onDestroy(s),l=new $D(r,i,()=>{s(),e()});return o.register(l),{destroy:s}}class $D{constructor(t,r,n){this.phase=r,this.callbackFn=n,this.zone=t.get(Ge),this.errorHandler=t.get(El,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(t){this.errorHandler?.handleError(t)}}}class BD{constructor(){this.executingCallbacks=!1,this.buckets={[Bc.EarlyRead]:new Set,[Bc.Write]:new Set,[Bc.MixedReadWrite]:new Set,[Bc.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new Xe(102,!1)}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(const t of Object.values(this.buckets))for(const r of t)r.invoke();this.executingCallbacks=!1;for(const t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(const t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}}let Cm=(()=>{var e;class t{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth){for(const n of this.internalCallbacks)n();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(e=t).\u0275prov=$e({token:e,providedIn:"root",factory:()=>new e}),t})();function _F(e,t){const r=bs(t,e),n=r[gt];!function vF(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}(n,r);const o=r[so];null!==o&&null===r[ir]&&(r[ir]=Vv(o,r[fr])),ay(n,r,r[nn])}function ay(e,t,r){G_(t);try{const n=e.viewQuery;null!==n&&ey(1,n,r);const o=e.template;null!==o&&pD(e,t,o,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&SD(e,t),e.staticViewQueries&&ey(2,e.viewQuery,r);const i=e.components;null!==i&&function yF(e,t){for(let r=0;r<t.length;r++)_F(e,t[r])}(t,i)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),n}finally{t[it]&=-5,U_()}}function Sm(e,t,r){let n=r?e.styles:null,o=r?e.classes:null,i=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?i=a:1==i?o=js(o,a):2==i&&(n=js(n,a+": "+t[++s]+";"))}r?e.styles=n:e.stylesWithoutHost=n,r?e.classes=o:e.classesWithoutHost=o}class VD extends pm{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=_n(t);return new Ff(r,this.ngModule)}}function jD(e){const t=[];for(let r in e)e.hasOwnProperty(r)&&t.push({propName:e[r],templateName:r});return t}class CF{constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,n){n=Ac(n);const o=this.injector.get(t,Uv,n);return o!==Uv||r===Uv?o:this.parentInjector.get(t,r,n)}}class Ff extends Ww{get inputs(){const t=this.componentDef,r=t.inputTransforms,n=jD(t.inputs);if(null!==r)for(const o of n)r.hasOwnProperty(o.propName)&&(o.transform=r[o.propName]);return n}get outputs(){return jD(this.componentDef.outputs)}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function Sh(e){return e.map(Ch).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}create(t,r,n,o){let i=(o=o||this.ngModule)instanceof ii?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const s=i?new CF(t,i):t,a=s.get(qw,null);if(null===a)throw new Xe(407,!1);const f={rendererFactory:a,sanitizer:s.get(J2,null),inlineEffectRunner:null,afterRenderEventManager:s.get(Cm,null)},h=a.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",b=n?function SN(e,t,r,n){const i=n.get(aD,!1)||r===ns.ShadowDom,s=e.selectRootElement(t,i);return function wN(e){mD(e)}(s),s}(h,n,this.componentDef.encapsulation,s):Jh(h,g,function bF(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(g)),ye=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Ee=null;null!==b&&(Ee=Vv(b,s,!0));const Ie=Kv(0,null,null,1,0,null,null,null,null,null,null),Tt=_m(null,Ie,null,ye,null,null,f,h,s,null,Ee);let Et,Ct;G_(Tt);try{const In=this.componentDef;let An,Ns=null;In.findHostDirectiveDefs?(An=[],Ns=new Map,In.findHostDirectiveDefs(In,An,Ns),An.push(In)):An=[In];const Ui=function wF(e,t){const r=e[gt],n=ut;return e[n]=t,Gu(r,n,2,"#host",null)}(Tt,b),XR=function DF(e,t,r,n,o,i,s){const a=o[gt];!function EF(e,t,r,n){for(const o of e)t.mergedAttrs=Yl(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(Sm(t,t.mergedAttrs,!0),null!==r&&Mw(n,r,t))}(n,e,t,s);let l=null;null!==t&&(l=Vv(t,o[fr]));const c=i.rendererFactory.createRenderer(t,r);let f=16;r.signals?f=4096:r.onPush&&(f=64);const h=_m(o,hD(r),null,f,o[e.index],e,i,c,null,null,l);return a.firstCreatePass&&Qv(a,e,n.length-1),vm(o,h),o[e.index]=h}(Ui,b,In,An,Tt,f,h);Ct=uf(Ie,ut),b&&function xF(e,t,r,n){if(n)gu(e,r,["ng-version",eN.full]);else{const{attrs:o,classes:i}=function wh(e){const t=[],r=[];let n=1,o=2;for(;n<e.length;){let i=e[n];if("string"==typeof i)2===o?""!==i&&t.push(i,e[++n]):8===o&&r.push(i);else{if(!rs(o))break;o=i}n++}return{attrs:t,classes:r}}(t.selectors[0]);o&&gu(e,r,o),i&&i.length>0&&Tw(e,r,i.join(" "))}}(h,In,b,n),void 0!==r&&function TF(e,t,r){const n=e.projection=[];for(let o=0;o<t.length;o++){const i=r[o];n.push(null!=i?Array.from(i):null)}}(Ct,this.ngContentSelectors,r),Et=function IF(e,t,r,n,o,i){const s=Fr(),a=o[gt],l=xi(s,o);vD(a,o,s,r,null,n);for(let f=0;f<r.length;f++)bi(Oc(o,a,s.directiveStart+f,s),o);yD(a,o,s),l&&bi(l,o);const c=Oc(o,a,s.directiveStart+s.componentOffset,s);if(e[nn]=o[nn]=c,null!==i)for(const f of i)f(c,t);return Zv(a,s,e),c}(XR,In,An,Ns,Tt,[MF]),ay(Ie,Tt,null)}finally{U_()}return new SF(this.componentType,Et,ju(Ct,Tt),Tt,Ct)}}class SF extends Z2{constructor(t,r,n,o,i){super(),this.location=n,this._rootLView=o,this._tNode=i,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new Nf(o,void 0,!1),this.componentType=t}setInput(t,r){const n=this._tNode.inputs;let o;if(null!==n&&(o=n[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;const i=this._rootLView;ty(i[gt],i,o,t,r),this.previousInputValues.set(t,r),Of(bs(this._tNode.index,i))}}get injector(){return new Xo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function MF(){const e=Fr();Mh(He()[gt],e)}function bn(e){let t=function GD(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const n=[e];for(;t;){let o;if(Xt(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Xe(903,!1);o=t.\u0275dir}if(o){if(r){n.push(o);const s=e;s.inputs=wm(e.inputs),s.inputTransforms=wm(e.inputTransforms),s.declaredInputs=wm(e.declaredInputs),s.outputs=wm(e.outputs);const a=o.hostBindings;a&&PF(e,a);const l=o.viewQuery,c=o.contentQueries;if(l&&kF(e,l),c&&RF(e,c),hs(e.inputs,o.inputs),hs(e.declaredInputs,o.declaredInputs),hs(e.outputs,o.outputs),null!==o.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),hs(s.inputTransforms,o.inputTransforms)),Xt(o)&&o.data.animation){const f=e.data;f.animation=(f.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(e),a===bn&&(r=!1)}}t=Object.getPrototypeOf(t)}!function AF(e){let t=0,r=null;for(let n=e.length-1;n>=0;n--){const o=e[n];o.hostVars=t+=o.hostVars,o.hostAttrs=Yl(o.hostAttrs,r=Yl(r,o.hostAttrs))}}(n)}function wm(e){return e===vs?{}:e===tr?[]:e}function kF(e,t){const r=e.viewQuery;e.viewQuery=r?(n,o)=>{t(n,o),r(n,o)}:t}function RF(e,t){const r=e.contentQueries;e.contentQueries=r?(n,o,i)=>{t(n,o,i),r(n,o,i)}:t}function PF(e,t){const r=e.hostBindings;e.hostBindings=r?(n,o)=>{t(n,o),r(n,o)}:t}function Xa(e,t,r){return e[t]=r}function Vo(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function Vc(e,t,r,n){const o=Vo(e,t,r);return Vo(e,t+1,n)||o}function Is(e,t,r,n){const o=He();return Vo(o,Za(),t)&&(nr(),Ka(no(),o,e,t,r,n)),Is}function Hu(e,t,r,n){return Vo(e,Za(),r)?t+Bt(r)+n:yn}function Wu(e,t,r,n,o,i,s,a){const c=function Dm(e,t,r,n,o){const i=Vc(e,t,r,n);return Vo(e,t+2,o)||i}(e,Cl(),r,o,s);return Sl(3),c?t+Bt(r)+n+Bt(o)+i+Bt(s)+a:yn}function Em(e,t){return e<<17|t<<2}function ic(e){return e>>17&32767}function ly(e){return 2|e}function jc(e){return(131068&e)>>2}function cy(e,t){return-131069&e|t<<2}function uy(e){return 1|e}function nE(e,t,r,n,o){const i=e[r+1],s=null===t;let a=n?ic(i):jc(i),l=!1;for(;0!==a&&(!1===l||s);){const f=e[a+1];HF(e[a],t)&&(l=!0,e[a+1]=n?uy(f):ly(f)),a=n?ic(f):jc(f)}l&&(e[r+1]=n?ly(i):uy(i))}function HF(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&ku(e,t)>=0}function Se(e,t,r){const n=He();return Vo(n,Za(),t)&&Es(nr(),no(),n,e,t,n[Wt],r,!1),Se}function dy(e,t,r,n,o){const s=o?"class":"style";ty(e,r,t.inputs[s],s,n)}function Gc(e,t,r){return ya(e,t,r,!1),Gc}function qs(e,t){return ya(e,t,null,!0),qs}function ya(e,t,r,n){const o=He(),i=nr(),s=Sl(2);i.firstUpdatePass&&function uE(e,t,r,n){const o=e.data;if(null===o[r+1]){const i=o[yi()],s=function cE(e,t){return t>=e.expandoStartIndex}(e,r);(function hE(e,t){return 0!=(e.flags&(t?8:16))})(i,n)&&null===t&&!s&&(t=!1),t=function JF(e,t,r,n){const o=function V_(e){const t=fn.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let i=n?t.residualClasses:t.residualStyles;if(null===o)0===(n?t.classBindings:t.styleBindings)&&(r=$f(r=fy(null,e,t,r,n),t.attrs,n),i=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==o)if(r=fy(o,e,t,r,n),null===i){let l=function eL(e,t,r){const n=r?t.classBindings:t.styleBindings;if(0!==jc(n))return e[ic(n)]}(e,t,n);void 0!==l&&Array.isArray(l)&&(l=fy(null,e,t,l[1],n),l=$f(l,t.attrs,n),function tL(e,t,r,n){e[ic(r?t.classBindings:t.styleBindings)]=n}(e,t,n,l))}else i=function nL(e,t,r){let n;const o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++)n=$f(n,e[i].hostAttrs,r);return $f(n,t.attrs,r)}(e,t,n)}return void 0!==i&&(n?t.residualClasses=i:t.residualStyles=i),r}(o,i,t,n),function GF(e,t,r,n,o,i){let s=i?t.classBindings:t.styleBindings,a=ic(s),l=jc(s);e[n]=r;let f,c=!1;if(Array.isArray(r)?(f=r[1],(null===f||ku(r,f)>0)&&(c=!0)):f=r,o)if(0!==l){const g=ic(e[a+1]);e[n+1]=Em(g,a),0!==g&&(e[g+1]=cy(e[g+1],n)),e[a+1]=function VF(e,t){return 131071&e|t<<17}(e[a+1],n)}else e[n+1]=Em(a,0),0!==a&&(e[a+1]=cy(e[a+1],n)),a=n;else e[n+1]=Em(l,0),0===a?a=n:e[l+1]=cy(e[l+1],n),l=n;c&&(e[n+1]=ly(e[n+1])),nE(e,f,n,!0),nE(e,f,n,!1),function UF(e,t,r,n,o){const i=o?e.residualClasses:e.residualStyles;null!=i&&"string"==typeof t&&ku(i,t)>=0&&(r[n+1]=uy(r[n+1]))}(t,f,e,n,i),s=Em(a,l),i?t.classBindings=s:t.styleBindings=s}(o,i,t,r,s,n)}}(i,e,s,n),t!==yn&&Vo(o,s,t)&&function fE(e,t,r,n,o,i,s,a){if(!(3&t.type))return;const l=e.data,c=l[a+1],f=function jF(e){return 1==(1&e)}(c)?pE(l,t,r,o,jc(c),s):void 0;Im(f)||(Im(i)||function BF(e){return 2==(2&e)}(c)&&(i=pE(l,null,r,o,a,s)),function l2(e,t,r,n,o){if(t)o?e.addClass(r,n):e.removeClass(r,n);else{let i=-1===n.indexOf("-")?void 0:oc.DashCase;null==o?e.removeStyle(r,n,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=oc.Important),e.setStyle(r,n,o,i))}}(n,s,cf(yi(),r),o,i))}(i,i.data[yi()],o,o[Wt],e,o[s+1]=function sL(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=xr(ws(e)))),e}(t,r),n,s)}function fy(e,t,r,n,o){let i=null;const s=r.directiveEnd;let a=r.directiveStylingLast;for(-1===a?a=r.directiveStart:a++;a<s&&(i=t[a],n=$f(n,i.hostAttrs,o),i!==e);)a++;return null!==e&&(r.directiveStylingLast=a),n}function $f(e,t,r){const n=r?1:2;let o=-1;if(null!==t)for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?o=s:o===n&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Cs(e,s,!!r||t[++i]))}return void 0===e?null:e}function pE(e,t,r,n,o,i){const s=null===t;let a;for(;o>0;){const l=e[o],c=Array.isArray(l),f=c?l[1]:l,h=null===f;let g=r[o+1];g===yn&&(g=h?tr:void 0);let b=h?J_(g,n):f===n?g:void 0;if(c&&!Im(b)&&(b=J_(l,n)),Im(b)&&(a=b,s))return a;const j=e[o+1];o=s?ic(j):jc(j)}if(null!==t){let l=i?t.residualClasses:t.residualStyles;null!=l&&(a=J_(l,n))}return a}function Im(e){return void 0!==e}function ed(e,t){return!t||null===t.firstChild||Kh(e)}function Hf(e,t,r,n=!0){const o=t[gt];if(function e2(e,t,r,n){const o=Vn+n,i=r.length;n>0&&(r[o-1][Rn]=t),n<i-Vn?(t[Rn]=r[o],AS(r,Vn+n,t)):(r.push(t),t[Rn]=null),t[Dn]=r;const s=t[Nr];null!==s&&r!==s&&function t2(e,t){const r=e[ys];t[zn]!==t[Dn][Dn][zn]&&(e[it]|=Ws.HasTransplantedViews),null===r?e[ys]=[t]:r.push(t)}(s,t);const a=t[d];null!==a&&a.insertView(e),nS(t),t[it]|=128}(o,t,e,r),n){const s=Iv(r,e),a=t[Wt],l=tm(a,e[Gr]);null!==l&&function XO(e,t,r,n,o,i){n[so]=o,n[Ae]=t,Ef(e,n,r,1,o,i)}(o,e[Ae],a,t,l,s)}const i=t[ir];null!==i&&null!==i.firstChild&&(i.firstChild=null)}let ss=(()=>{class t{}return t.__NG_ELEMENT_ID__=VL,t})();function VL(){return xE(Fr(),He())}const jL=ss,EE=class extends jL{constructor(t,r,n){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=n}get element(){return ju(this._hostTNode,this._hostLView)}get injector(){return new Xo(this._hostTNode,this._hostLView)}get parentInjector(){const t=Oh(this._hostTNode,this._hostLView);if(W_(t)){const r=hf(t,this._hostLView),n=pf(t);return new Xo(r[gt].data[n+8],r)}return new Xo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=IE(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-Vn}createEmbeddedView(t,r,n){let o,i;"number"==typeof n?o=n:null!=n&&(o=n.index,i=n.injector);const a=t.createEmbeddedViewImpl(r||{},i,null);return this.insertImpl(a,o,ed(this._hostTNode,null)),a}createComponent(t,r,n,o,i){const s=t&&!function mf(e){return"function"==typeof e}(t);let a;if(s)a=r;else{const j=r||{};a=j.index,n=j.injector,o=j.projectableNodes,i=j.environmentInjector||j.ngModuleRef}const l=s?t:new Ff(_n(t)),c=n||this.parentInjector;if(!i&&null==l.ngModule){const ee=(s?c:this.parentInjector).get(ii,null);ee&&(i=ee)}_n(l.componentType??{});const b=l.create(c,o,null,i);return this.insertImpl(b.hostView,a,ed(this._hostTNode,null)),b}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,n){const o=t._lView;if(function sP(e){return lo(e[Dn])}(o)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const l=o[Dn],c=new EE(l,l[Ae],l[Dn]);c.detach(c.indexOf(t))}}const i=this._adjustIndex(r),s=this._lContainer;return Hf(s,o,i,n),t.attachToViewContainerRef(),AS(Cy(s),i,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=IE(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),n=wf(this._lContainer,r);n&&(Fh(Cy(this._lContainer),r),em(n[gt],n))}detach(t){const r=this._adjustIndex(t,-1),n=wf(this._lContainer,r);return n&&null!=Fh(Cy(this._lContainer),r)?new Nf(n):null}_adjustIndex(t,r=0){return t??this.length+r}};function IE(e){return e[8]}function Cy(e){return e[8]||(e[8]=[])}function xE(e,t){let r;const n=t[e.index];return lo(n)?r=n:(r=CD(n,t,null,e),t[e.index]=r,vm(t,r)),TE(r,t,e,n),new EE(r,e,t)}let TE=function AE(e,t,r,n){if(e[Gr])return;let o;o=8&r.type?qr(n):function GL(e,t){const r=e[Wt],n=r.createComment(""),o=xi(t,e);return Fc(r,tm(r,o),n,function i2(e,t){return e.nextSibling(t)}(r,o),!1),n}(t,r),e[Gr]=o},Sy=(e,t,r)=>!1;function Qt(e,t,r,n,o,i,s,a){const l=He(),c=nr(),f=e+ut,h=c.firstCreatePass?function WL(e,t,r,n,o,i,s,a,l){const c=t.consts,f=Gu(t,e,4,s||null,za(c,a));Xv(t,r,f,za(c,l)),Mh(t,f);const h=f.tView=Kv(2,f,n,o,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,f),h.queries=t.queries.embeddedTView(f)),f}(f,c,l,t,r,n,o,i,s):c.data[f];Wa(h,!1);const g=kE(c,l,h,e);Th()&&nm(c,l,g,h),bi(g,l);const b=CD(g,l,g,h);return l[f]=b,vm(l,b),function ME(e,t,r){return Sy(e,t,r)}(b,h,l),_t(h)&&qv(c,l,h),null!=s&&Yv(l,h,a),Qt}let kE=function RE(e,t,r,n){return Kl(!0),t[Wt].createComment("")};function H(e,t,r,n){const o=He(),i=nr(),s=ut+e,a=o[Wt],l=i.firstCreatePass?function N3(e,t,r,n,o,i){const s=t.consts,l=Gu(t,e,2,n,za(s,o));return Xv(t,r,l,za(s,i)),null!==l.attrs&&Sm(l,l.attrs,!1),null!==l.mergedAttrs&&Sm(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,i,o,t,r,n):i.data[s],c=t1(i,o,l,a,t,e);o[s]=c;const f=_t(l);return Wa(l,!0),Mw(a,c,l),32!=(32&l.flags)&&Th()&&nm(i,o,c,l),0===function lP(){return fn.lFrame.elementDepthCount}()&&bi(c,o),function cP(){fn.lFrame.elementDepthCount++}(),f&&(qv(i,o,l),Zv(i,l,o)),null!==n&&Yv(o,l),H}function F(){let e=Fr();L_()?$_():(e=e.parent,Wa(e,!1));const t=e;(function dP(e){return fn.skipHydrationRootTNode===e})(t)&&function mP(){fn.skipHydrationRootTNode=null}(),function uP(){fn.lFrame.elementDepthCount--}();const r=nr();return r.firstCreatePass&&(Mh(r,e),vu(e)&&r.queries.elementEnd(e)),null!=t.classesWithoutHost&&function AP(e){return 0!=(8&e.flags)}(t)&&dy(r,t,He(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function kP(e){return 0!=(16&e.flags)}(t)&&dy(r,t,He(),t.stylesWithoutHost,!1),F}function Ve(e,t,r,n){return H(e,t,r,n),F(),Ve}let t1=(e,t,r,n,o,i)=>(Kl(!0),Jh(n,o,function mS(){return fn.lFrame.currentNamespace}()));function ad(e,t,r){const n=He(),o=nr(),i=e+ut,s=o.firstCreatePass?function $3(e,t,r,n,o){const i=t.consts,s=za(i,n),a=Gu(t,e,8,"ng-container",s);return null!==s&&Sm(a,s,!0),Xv(t,r,a,za(i,o)),null!==t.queries&&t.queries.elementStart(t,a),a}(i,o,n,t,r):o.data[i];Wa(s,!0);const a=n1(o,n,s,e);return n[i]=a,Th()&&nm(o,n,a,s),bi(a,n),_t(s)&&(qv(o,n,s),Zv(o,s,n)),null!=r&&Yv(n,s),ad}function ld(){let e=Fr();const t=nr();return L_()?$_():(e=e.parent,Wa(e,!1)),t.firstCreatePass&&(Mh(t,e),vu(e)&&t.queries.elementEnd(e)),ld}let n1=(e,t,r,n)=>(Kl(!0),Sv(t[Wt],""));function On(){return He()}const ud="en-US";let a1=ud;function Jf(e){return!!e&&"function"==typeof e.then}function R1(e){return!!e&&"function"==typeof e.subscribe}function Ne(e,t,r,n){const o=He(),i=nr(),s=Fr();return function O1(e,t,r,n,o,i,s){const a=_t(n),c=e.firstCreatePass&&DD(e),f=t[nn],h=wD(t);let g=!0;if(3&n.type||s){const ee=xi(n,t),ye=s?s(ee):ee,Ee=h.length,Ie=s?Et=>s(qr(Et[n.index])):n.index;let Tt=null;if(!s&&a&&(Tt=function L$(e,t,r,n){const o=e.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===r&&o[i+1]===n){const a=t[Pn],l=o[i+2];return a.length>l?a[l]:null}"string"==typeof s&&(i+=2)}return null}(e,t,o,n.index)),null!==Tt)(Tt.__ngLastListenerFn__||Tt).__ngNextListenerFn__=i,Tt.__ngLastListenerFn__=i,g=!1;else{i=F1(n,t,f,i,!1);const Et=r.listen(ye,o,i);h.push(i,Et),c&&c.push(o,Ie,Ee,Ee+1)}}else i=F1(n,t,f,i,!1);const b=n.outputs;let j;if(g&&null!==b&&(j=b[o])){const ee=j.length;if(ee)for(let ye=0;ye<ee;ye+=2){const Ct=t[j[ye]][j[ye+1]].subscribe(i),In=h.length;h.push(i,Ct),c&&c.push(o,n.index,In,-(In+1))}}}(i,o,o[Wt],s,e,t,n),Ne}function N1(e,t,r,n){try{return Ha(6,t,r),!1!==r(n)}catch(o){return ym(e,o),!1}finally{Ha(7,t,r)}}function F1(e,t,r,n,o){return function i(s){if(s===Function)return n;Of(e.componentOffset>-1?bs(e.index,t):t);let l=N1(t,r,n,s),c=i.__ngNextListenerFn__;for(;c;)l=N1(t,r,c,s)&&l,c=c.__ngNextListenerFn__;return o&&!1===l&&s.preventDefault(),l}}function ft(e=1){return function CP(e){return(fn.lFrame.contextLView=function eS(e,t){for(;e>0;)t=t[Zt],e--;return t}(e,fn.lFrame.contextLView))[nn]}(e)}function $$(e,t){let r=null;const n=function _h(e){const t=e.attrs;if(null!=t){const r=t.indexOf(5);if(!(1&r))return t[r+1]}return null}(e);for(let o=0;o<t.length;o++){const i=t[o];if("*"!==i){if(null===n?sf(e,i,!0):bh(n,i))return o}else r=o}return r}function Dt(e){const t=He()[zn][Ae];if(!t.projection){const n=t.projection=gf(e?e.length:1,null),o=n.slice();let i=t.child;for(;null!==i;){const s=e?$$(i,e):0;null!==s&&(o[s]?o[s].projectionNext=i:n[s]=i,o[s]=i),i=i.next}}}function wt(e,t=0,r){const n=He(),o=nr(),i=Gu(o,ut+e,16,null,r||null);null===i.projection&&(i.projection=t),$_(),(!n[ir]||Cu())&&32!=(32&i.flags)&&function s2(e,t,r){xw(t[Wt],0,t,r,Dv(e,r,t),Cw(r.parent||t[Ae],r,t))}(o,n,i)}function jm(e,t,r,n,o){const i=He(),s=Hu(i,t,r,n);return s!==yn&&Es(nr(),no(),i,e,s,i[Wt],o,!1),jm}function xs(e){return bu(function gP(){return fn.lFrame.contextLView}(),ut+e)}function Ce(e,t=""){const r=He(),n=nr(),o=e+ut,i=n.firstCreatePass?Gu(n,o,1,t,null):n.data[o],s=tI(n,r,i,t,e);r[o]=s,Th()&&nm(n,r,s,i),Wa(i,!1)}let tI=(e,t,r,n,o)=>(Kl(!0),function Qh(e,t){return e.createText(t)}(t[Wt],n));function Ai(e){return ui("",e,""),Ai}function ui(e,t,r){const n=He(),o=Hu(n,e,t,r);return o!==yn&&Il(n,yi(),o),ui}function ep(e,t,r,n,o){const i=He(),s=function zu(e,t,r,n,o,i){const a=Vc(e,Cl(),r,o);return Sl(2),a?t+Bt(r)+n+Bt(o)+i:yn}(i,e,t,r,n,o);return s!==yn&&Il(i,yi(),s),ep}function Ny(e,t,r,n,o,i,s){const a=He(),l=Wu(a,e,t,r,n,o,i,s);return l!==yn&&Il(a,yi(),l),Ny}function Fy(e,t,r,n,o){if(e=Yt(e),Array.isArray(e))for(let i=0;i<e.length;i++)Fy(e[i],t,r,n,o);else{const i=nr(),s=He(),a=Fr();let l=Nc(e)?e:Yt(e.provide);const c=jS(e),f=1048575&a.providerIndexes,h=a.directiveStart,g=a.providerIndexes>>20;if(Nc(e)||!e.multi){const b=new ff(c,o,_),j=$y(l,t,o?f:f+g,h);-1===j?(Y_(Ph(a,s),i,l),Ly(i,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),r.push(b),s.push(b)):(r[j]=b,s[j]=b)}else{const b=$y(l,t,f+g,h),j=$y(l,t,f,f+g),ye=j>=0&&r[j];if(o&&!ye||!o&&!(b>=0&&r[b])){Y_(Ph(a,s),i,l);const Ee=function eB(e,t,r,n,o){const i=new ff(e,r,_);return i.multi=[],i.index=t,i.componentProviders=0,lI(i,o,n&&!r),i}(o?J$:Q$,r.length,o,n,c);!o&&ye&&(r[j].providerFactory=Ee),Ly(i,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),r.push(Ee),s.push(Ee)}else Ly(i,e,b>-1?b:j,lI(r[o?j:b],c,!o&&n));!o&&n&&ye&&r[j].componentProviders++}}}function Ly(e,t,r,n){const o=Nc(t),i=function cO(e){return!!e.useClass}(t);if(o||i){const l=(i?Yt(t.useClass):t).prototype.ngOnDestroy;if(l){const c=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const f=c.indexOf(r);-1===f?c.push(r,[n,l]):c[f+1].push(n,l)}else c.push(r,l)}}}function lI(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function $y(e,t,r,n){for(let o=r;o<n;o++)if(t[o]===e)return o;return-1}function Q$(e,t,r,n){return By(this.multi,[])}function J$(e,t,r,n){const o=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Oc(r,r[gt],this.providerFactory.index,n);i=a.slice(0,s),By(o,i);for(let l=s;l<a.length;l++)i.push(a[l])}else i=[],By(o,i);return i}function By(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function hr(e,t=[]){return r=>{r.providersResolver=(n,o)=>function X$(e,t,r){const n=nr();if(n.firstCreatePass){const o=Xt(e);Fy(r,n.data,n.blueprint,o,!0),Fy(t,n.data,n.blueprint,o,!1)}}(n,o?o(e):e,t)}}class zc{}class cI{}class Vy extends zc{constructor(t,r,n){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new VD(this);const o=kn(t);this._bootstrapComponents=Ss(o.bootstrap),this._r3Injector=WS(t,r,[{provide:zc,useValue:this},{provide:pm,useValue:this.componentFactoryResolver},...n],xr(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class jy extends cI{constructor(t){super(),this.moduleType=t}create(t){return new Vy(this.moduleType,t,[])}}class uI extends zc{constructor(t){super(),this.componentFactoryResolver=new VD(this),this.instance=null;const r=new Ou([...t.providers,{provide:zc,useValue:this},{provide:pm,useValue:this.componentFactoryResolver}],t.parent||Hh(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Gy(e,t,r=null){return new uI({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}let rB=(()=>{var e;class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const o=LS(0,n.type),i=o.length>0?Gy([o],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return(e=t).\u0275prov=$e({token:e,providedIn:"environment",factory:()=>new e(ce(ii))}),t})();function Gm(e){$c("NgStandalone"),e.getStandaloneInjector=t=>t.get(rB).getOrCreateStandaloneInjector(e)}function bI(e,t,r,n,o,i){const s=t+r;return Vo(e,s,o)?Xa(e,s+1,i?n.call(i,o):n(o)):function tp(e,t){const r=e[t];return r===yn?void 0:r}(e,s+1)}function el(e,t){const r=nr();let n;const o=e+ut;r.firstCreatePass?(n=function SB(e,t){if(t)for(let r=t.length-1;r>=0;r--){const n=t[r];if(e===n.name)return n}}(t,r.pipeRegistry),r.data[o]=n,n.onDestroy&&(r.destroyHooks??=[]).push(o,n.onDestroy)):n=r.data[o];const i=n.factory||(n.factory=Rc(n.type)),a=Kt(_);try{const l=Rh(!1),c=i();return Rh(l),function B$(e,t,r,n){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=n}(r,He(),o,c),c}finally{Kt(a)}}function tl(e,t,r){const n=e+ut,o=He(),i=bu(o,n);return function np(e,t){return e[gt].data[t].pure}(o,n)?bI(o,Ti(),t,i.transform,r,i):i.transform(r)}function xB(){return this._results[Symbol.iterator]()}class Hy{get changes(){return this._changes??=new on}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=Hy.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=xB)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){this.dirty=!1;const n=function os(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function HP(e,t,r){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++){let o=e[n],i=t[n];if(r&&(o=r(o),i=r(i)),i!==o)return!1}return!0}(this._results,n,r))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}let Ca=(()=>{class t{}return t.__NG_ELEMENT_ID__=AB,t})();const TB=Ca,MB=class extends TB{constructor(t,r,n){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,n){const o=function Uf(e,t,r,n){const o=t.tView,a=_m(e,o,r,4096&e[it]?4096:16,null,t,null,null,null,n?.injector??null,n?.dehydratedView??null);a[Nr]=e[t.index];const c=e[d];return null!==c&&(a[d]=c.createEmbeddedView(o)),ay(o,a,r),a}(this._declarationLView,this._declarationTContainer,t,{injector:r,dehydratedView:n});return new Nf(o)}};function AB(){return zm(Fr(),He())}function zm(e,t){return 4&e.type?new MB(t,e,ju(e,t)):null}class zy{constructor(t){this.queryList=t,this.matches=null}clone(){return new zy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Wy{constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const n=null!==t.contentQueries?t.contentQueries[0]:r.length,o=[];for(let i=0;i<n;i++){const s=r.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new Wy(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==MI(t,r).matches&&this.queries[r].setDirty()}}class EI{constructor(t,r,n=null){this.predicate=t,this.flags=r,this.read=n}}class Zy{constructor(t=[]){this.queries=t}elementStart(t,r){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let n=0;n<this.length;n++){const o=null!==r?r.length:0,i=this.getByIndex(n).embeddedTView(t,o);i&&(i.indexInDeclarationView=n,null!==r?r.push(i):r=[i])}return null!==r?new Zy(r):null}template(t,r){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class qy{constructor(t,r=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new qy(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const r=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==r;)n=n.parent;return r===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const n=this.metadata.predicate;if(Array.isArray(n))for(let o=0;o<n.length;o++){const i=n[o];this.matchTNodeWithReadOption(t,r,kB(r,i)),this.matchTNodeWithReadOption(t,r,Nh(r,t,i,!1,!1))}else n===Ca?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,Nh(r,t,n,!1,!1))}matchTNodeWithReadOption(t,r,n){if(null!==n){const o=this.metadata.read;if(null!==o)if(o===tt||o===ss||o===Ca&&4&r.type)this.addMatch(r.index,-2);else{const i=Nh(r,t,o,!1,!1);null!==i&&this.addMatch(r.index,i)}else this.addMatch(r.index,n)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function kB(e,t){const r=e.localNames;if(null!==r)for(let n=0;n<r.length;n+=2)if(r[n]===t)return r[n+1];return null}function PB(e,t,r,n){return-1===r?function RB(e,t){return 11&e.type?ju(e,t):4&e.type?zm(e,t):null}(t,e):-2===r?function OB(e,t,r){return r===tt?ju(t,e):r===Ca?zm(t,e):r===ss?xE(t,e):void 0}(e,t,n):Oc(e,e[gt],r,t)}function II(e,t,r,n){const o=t[d].queries[n];if(null===o.matches){const i=e.data,s=r.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:PB(t,i[c],s[l+1],r.metadata.read))}o.matches=a}return o.matches}function Yy(e,t,r,n){const o=e.queries.getByIndex(r),i=o.matches;if(null!==i){const s=II(e,t,o,r);for(let a=0;a<i.length;a+=2){const l=i[a];if(l>0)n.push(s[a/2]);else{const c=i[a+1],f=t[-l];for(let h=Vn;h<f.length;h++){const g=f[h];g[Nr]===g[Dn]&&Yy(g[gt],g,c,n)}if(null!==f[ys]){const h=f[ys];for(let g=0;g<h.length;g++){const b=h[g];Yy(b[gt],b,c,n)}}}}}return n}function Ts(e){const t=He(),r=nr(),n=cS();j_(n+1);const o=MI(r,n);if(e.dirty&&function iP(e){return 4==(4&e[it])}(t)===(2==(2&o.metadata.flags))){if(null===o.matches)e.reset([]);else{const i=o.crossesNgTemplate?Yy(r,t,n,[]):II(r,t,o,n);e.reset(i,X2),e.notifyOnChanges()}return!0}return!1}function ac(e,t,r){const n=nr();n.firstCreatePass&&(TI(n,new EI(e,t,r),-1),2==(2&t)&&(n.staticViewQueries=!0)),xI(n,He(),t)}function dd(e,t,r,n){const o=nr();if(o.firstCreatePass){const i=Fr();TI(o,new EI(t,r,n),i.index),function FB(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(o,e),2==(2&r)&&(o.staticContentQueries=!0)}xI(o,He(),r)}function Ms(){return function NB(e,t){return e[d].queries[t].queryList}(He(),cS())}function xI(e,t,r){const n=new Hy(4==(4&r));(function IN(e,t,r,n){const o=wD(t);o.push(r),e.firstCreatePass&&DD(e).push(n,o.length-1)})(e,t,n,n.destroy),null===t[d]&&(t[d]=new Wy),t[d].queries.push(new zy(n))}function TI(e,t,r){null===e.queries&&(e.queries=new Zy),e.queries.track(new qy(t,r))}function MI(e,t){return e.queries.getByIndex(t)}let zI=(()=>{var e;class t{log(n){console.log(n)}warn(n){console.warn(n)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),Zm=(()=>{var e;class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new po(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class iV{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}let WI=(()=>{var e;class t{compileModuleSync(n){return new jy(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const o=this.compileModuleSync(n),s=Ss(kn(n).declarations).reduce((a,l)=>{const c=_n(l);return c&&a.push(new Ff(c)),a},[]);return new iV(o,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const XI=new pt(""),Ym=new pt("");let rb,tb=(()=>{var e;class t{constructor(n,o,i){this._ngZone=n,this.registry=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,rb||(function AV(e){rb=e}(i),i.addToWindow(o)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ge.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(n)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,o,i){let s=-1;o&&o>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),n(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,o,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,o,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,o,i){return[]}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Ge),ce(nb),ce(Ym))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})(),nb=(()=>{var e;class t{constructor(){this._applications=new Map}registerApplication(n,o){this._applications.set(n,o)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,o=!0){return rb?.findTestabilityInTree(this,n,o)??null}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();const ip=new pt("Application Initializer");let ob=(()=>{var e;class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,o)=>{this.resolve=n,this.reject=o}),this.appInits=rt(ip,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(Jf(s))n.push(s);else if(R1(s)){const a=new Promise((l,c)=>{s.subscribe({complete:l,error:c})});n.push(a)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{o()}).catch(i=>{this.reject(i)}),0===n.length&&o(),this.initialized=!0}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const ib=new pt("appBootstrapListener");function ex(e,t){return Array.isArray(t)?t.reduce(ex,e):{...e,...t}}let Sa=(()=>{var e;class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=rt(iD),this.zoneIsStable=rt(PD),this.componentTypes=[],this.components=[],this.isStable=rt(Zm).hasPendingTasks.pipe(eo(n=>n?Ht(!1):this.zoneIsStable),Vs()),this._injector=rt(ii)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,o){const i=n instanceof Ww;if(!this._injector.get(ob).done)throw!i&&function ga(e){const t=_n(e)||Mo(e)||Bo(e);return null!==t&&t.standalone}(n),new Xe(405,!1);let a;a=i?n:this._injector.get(pm).resolveComponentFactory(n),this.componentTypes.push(a.componentType);const l=function RV(e){return e.isBoundToModule}(a)?void 0:this._injector.get(zc),f=a.create(Kr.NULL,[],o||a.selector,l),h=f.location.nativeElement,g=f.injector.get(XI,null);return g?.registerApplication(h),f.onDestroy(()=>{this.detachView(f.hostView),Km(this.components,f),g?.unregisterApplication(h)}),this._loadComponent(f),f}tick(){if(this._runningTick)throw new Xe(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const o=n;this._views.push(o),o.attachToAppRef(this)}detachView(n){const o=n;Km(this._views,o),o.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const o=this._injector.get(ib,[]);[...this._bootstrapListeners,...o].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Km(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Xe(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function Km(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}let OV=(()=>{var e;class t{constructor(){this.zone=rt(Ge),this.applicationRef=rt(Sa)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function NV(){const e=rt(Ge),t=rt(El);return r=>e.runOutsideAngular(()=>t.handleError(r))}const xl=new pt("LocaleId",{providedIn:"root",factory:()=>rt(xl,Qe.Optional|Qe.SkipSelf)||function LV(){return typeof $localize<"u"&&$localize.locale||ud}()}),sb=new pt("PlatformDestroyListeners");let ox=(()=>{var e;class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,o){const i=function mF(e="zone.js",t){return"noop"===e?new pF:"zone.js"===e?new Ge(t):e}(o?.ngZone,function rx(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}));return i.run(()=>{const s=function nB(e,t,r){return new Vy(e,t,r)}(n.moduleType,this.injector,function nx(e){return[{provide:Ge,useFactory:e},{provide:Pu,multi:!0,useFactory:()=>{const t=rt(OV,{optional:!0});return()=>t.initialize()}},{provide:iD,useFactory:NV},{provide:PD,useFactory:OD}]}(()=>i)),a=s.injector.get(El,null);return i.runOutsideAngular(()=>{const l=i.onError.subscribe({next:c=>{a.handleError(c)}});s.onDestroy(()=>{Km(this._modules,s),l.unsubscribe()})}),function JI(e,t,r){try{const n=r();return Jf(n)?n.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):n}catch(n){throw t.runOutsideAngular(()=>e.handleError(n)),n}}(a,i,()=>{const l=s.injector.get(ob);return l.runInitializers(),l.donePromise.then(()=>(function l1(e){qt(e,"Expected localeId to be defined"),"string"==typeof e&&(a1=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get(xl,ud)||ud),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,o=[]){const i=ex({},o);return function kV(e,t,r){const n=new jy(r);return Promise.resolve(n)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const o=n.injector.get(Sa);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>o.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Xe(-403,!1);n.instance.ngDoBootstrap(o)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Xe(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const n=this._injector.get(sb,null);n&&(n.forEach(o=>o()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Kr))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),lc=null;const ix=new pt("AllowMultipleToken");function sx(e,t,r=[]){const n=`Platform: ${t}`,o=new pt(n);return(i=[])=>{let s=ab();if(!s||s.injector.get(ix,!1)){const a=[...r,...i,{provide:o,useValue:!0}];e?e(a):function VV(e){if(lc&&!lc.get(ix,!1))throw new Xe(400,!1);(function QI(){!function Gt(e){Be=e}(()=>{throw new Xe(600,!1)})})(),lc=e;const t=e.get(ox);(function lx(e){e.get(qS,null)?.forEach(r=>r())})(e)}(function ax(e=[],t){return Kr.create({name:t,providers:[{provide:sv,useValue:"platform"},{provide:sb,useValue:new Set([()=>lc=null])},...e]})}(a,n))}return function jV(e){const t=ab();if(!t)throw new Xe(401,!1);return t}()}}function ab(){return lc?.get(ox)??null}const ZV=sx(null,"core",[]);let qV=(()=>{var e;class t{constructor(n){}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Sa))},e.\u0275mod=io({type:e}),e.\u0275inj=lt({}),t})();function kx(e){const t=_n(e);if(!t)return null;const r=new Ff(t);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}let gb=null;function cc(){return gb}class S4{}const si=new pt("DocumentToken");let _b=(()=>{var e;class t{historyGo(n){throw new Error("Not implemented")}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:()=>rt(D4),providedIn:"platform"}),t})();const w4=new pt("Location Initialized");let D4=(()=>{var e;class t extends _b{constructor(){super(),this._doc=rt(si),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return cc().getBaseHref(this._doc)}onPopState(n){const o=cc().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",n,!1),()=>o.removeEventListener("popstate",n)}onHashChange(n){const o=cc().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",n,!1),()=>o.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,o,i){this._history.pushState(n,o,i)}replaceState(n,o,i){this._history.replaceState(n,o,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:()=>new e,providedIn:"platform"}),t})();function vb(e,t){if(0==e.length)return t;if(0==t.length)return e;let r=0;return e.endsWith("/")&&r++,t.startsWith("/")&&r++,2==r?e+t.substring(1):1==r?e+t:e+"/"+t}function Rx(e){const t=e.match(/#|\?|$/),r=t&&t.index||e.length;return e.slice(0,r-("/"===e[r-1]?1:0))+e.slice(r)}function Tl(e){return e&&"?"!==e[0]?"?"+e:e}let nl=(()=>{var e;class t{historyGo(n){throw new Error("Not implemented")}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:()=>rt(Ox),providedIn:"root"}),t})();const Px=new pt("appBaseHref");let Ox=(()=>{var e;class t extends nl{constructor(n,o){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??rt(si).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return vb(this._baseHref,n)}path(n=!1){const o=this._platformLocation.pathname+Tl(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${o}${i}`:o}pushState(n,o,i,s){const a=this.prepareExternalUrl(i+Tl(s));this._platformLocation.pushState(n,o,a)}replaceState(n,o,i,s){const a=this.prepareExternalUrl(i+Tl(s));this._platformLocation.replaceState(n,o,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(_b),ce(Px,8))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),Nx=(()=>{var e;class t extends nl{constructor(n,o){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(n){const o=vb(this._baseHref,n);return o.length>0?"#"+o:o}pushState(n,o,i,s){let a=this.prepareExternalUrl(i+Tl(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(n,o,a)}replaceState(n,o,i,s){let a=this.prepareExternalUrl(i+Tl(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(n,o,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(_b),ce(Px,8))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})(),uc=(()=>{var e;class t{constructor(n){this._subject=new on,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const o=this._locationStrategy.getBaseHref();this._basePath=function x4(e){if(new RegExp("^(https?:)?//").test(e)){const[,r]=e.split(/\/\/[^\/]+/);return r}return e}(Rx(Fx(o))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,o=""){return this.path()==this.normalize(n+Tl(o))}normalize(n){return t.stripTrailingSlash(function I4(e,t){if(!e||!t.startsWith(e))return t;const r=t.substring(e.length);return""===r||["/",";","?","#"].includes(r[0])?r:t}(this._basePath,Fx(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,o="",i=null){this._locationStrategy.pushState(i,"",n,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Tl(o)),i)}replaceState(n,o="",i=null){this._locationStrategy.replaceState(i,"",n,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Tl(o)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{const o=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(o,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",o){this._urlChangeListeners.forEach(i=>i(n,o))}subscribe(n,o,i){return this._subject.subscribe({next:n,error:o,complete:i})}}return(e=t).normalizeQueryParams=Tl,e.joinWithSlash=vb,e.stripTrailingSlash=Rx,e.\u0275fac=function(n){return new(n||e)(ce(nl))},e.\u0275prov=$e({token:e,factory:()=>function E4(){return new uc(ce(nl))}(),providedIn:"root"}),t})();function Fx(e){return e.replace(/\/index.html$/,"")}function zx(e,t){t=encodeURIComponent(t);for(const r of e.split(";")){const n=r.indexOf("="),[o,i]=-1==n?[r,""]:[r.slice(0,n),r.slice(n+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}class pj{constructor(t,r,n,o){this.$implicit=t,this.ngForOf=r,this.index=n,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let dc=(()=>{var e;class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,o,i){this._viewContainer=n,this._template=o,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const o=this._viewContainer;n.forEachOperation((i,s,a)=>{if(null==i.previousIndex)o.createEmbeddedView(this._template,new pj(i.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)o.remove(null===s?void 0:s);else if(null!==s){const l=o.get(s);o.move(l,a),qx(l,i)}});for(let i=0,s=o.length;i<s;i++){const l=o.get(i).context;l.index=i,l.count=s,l.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{qx(o.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,o){return!0}}return(e=t).\u0275fac=function(n){return new(n||e)(_(ss),_(Ca),_(mm))},e.\u0275dir=Lt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function qx(e,t){e.context.$implicit=t.item}let Po=(()=>{var e;class t{constructor(n,o){this._viewContainer=n,this._context=new hj,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Yx("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Yx("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,o){return!0}}return(e=t).\u0275fac=function(n){return new(n||e)(_(ss),_(Ca))},e.\u0275dir=Lt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class hj{constructor(){this.$implicit=null,this.ngIf=null}}function Yx(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${xr(t)}'.`)}class Mb{constructor(t,r){this._viewContainerRef=t,this._templateRef=r,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let mg=(()=>{var e;class t{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){const o=n===this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||o,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),o}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(const o of this._defaultViews)o.enforceState(n)}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=Lt({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),t})(),Kx=(()=>{var e;class t{constructor(n,o,i){this.ngSwitch=i,i._addCase(),this._view=new Mb(n,o)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return(e=t).\u0275fac=function(n){return new(n||e)(_(ss),_(Ca),_(mg,9))},e.\u0275dir=Lt({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),t})(),Xx=(()=>{var e;class t{constructor(n,o,i){i._addDefault(new Mb(n,o))}}return(e=t).\u0275fac=function(n){return new(n||e)(_(ss),_(Ca),_(mg,9))},e.\u0275dir=Lt({type:e,selectors:[["","ngSwitchDefault",""]],standalone:!0}),t})();class vj{createSubscription(t,r){return Yw(()=>t.subscribe({next:r,error:n=>{throw n}}))}dispose(t){Yw(()=>t.unsubscribe())}}class yj{createSubscription(t,r){return t.then(r,n=>{throw n})}dispose(t){}}const bj=new yj,Cj=new vj;let Jx=(()=>{var e;class t{constructor(n){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,o=>this._updateLatestValue(n,o))}_selectStrategy(n){if(Jf(n))return bj;if(R1(n))return Cj;throw function Da(e,t){return new Xe(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,o){n===this._obj&&(this._latestValue=o,this._ref.markForCheck())}}return(e=t).\u0275fac=function(n){return new(n||e)(_(dt,16))},e.\u0275pipe=Ko({name:"async",type:e,pure:!1,standalone:!0}),t})(),rl=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=lt({}),t})();const tT="browser";function _d(e){return e===tT}function nT(e){return"server"===e}let Gj=(()=>{var e;class t{}return(e=t).\u0275prov=$e({token:e,providedIn:"root",factory:()=>new Uj(ce(si),window)}),t})();class Uj{constructor(t,r){this.document=t,this.window=r,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const r=function Hj(e,t){const r=e.getElementById(t)||e.getElementsByName(t)[0];if(r)return r;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let o=n.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(t)||i.querySelector(`[name="${t}"]`);if(s)return s}o=n.nextNode()}}return null}(this.document,t);r&&(this.scrollToElement(r),r.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const r=t.getBoundingClientRect(),n=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],o-i[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class rT{}class pG extends S4{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Nb extends pG{static makeCurrent(){!function C4(e){gb||(gb=e)}(new Nb)}onAndCancel(t,r,n){return t.addEventListener(r,n),()=>{t.removeEventListener(r,n)}}dispatchEvent(t,r){t.dispatchEvent(r)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,r){return(r=r||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,r){return"window"===r?window:"document"===r?t:"body"===r?t.body:null}getBaseHref(t){const r=function hG(){return dp=dp||document.querySelector("base"),dp?dp.getAttribute("href"):null}();return null==r?null:function mG(e){return new URL(e,document.baseURI).pathname}(r)}resetBaseElement(){dp=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return zx(document.cookie,t)}}let dp=null,_G=(()=>{var e;class t{build(){return new XMLHttpRequest}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();const Fb=new pt("EventManagerPlugins");let aT=(()=>{var e;class t{constructor(n,o){this._zone=o,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,o,i){return this._findPluginFor(o).addEventListener(n,o,i)}getZone(){return this._zone}_findPluginFor(n){let o=this._eventNameToPlugin.get(n);if(o)return o;if(o=this._plugins.find(s=>s.supports(n)),!o)throw new Xe(5101,!1);return this._eventNameToPlugin.set(n,o),o}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Fb),ce(Ge))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();class lT{constructor(t){this._doc=t}}const Lb="ng-app-id";let cT=(()=>{var e;class t{constructor(n,o,i,s={}){this.doc=n,this.appId=o,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=nT(s),this.resetHostNodes()}addStyles(n){for(const o of n)1===this.changeUsageCount(o,1)&&this.onStyleAdded(o)}removeStyles(n){for(const o of n)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(o=>o.remove()),n.clear());for(const o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const o of this.getAllStyles())this.addStyleToHost(n,o)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const o of this.hostNodes)this.addStyleToHost(o,n)}onStyleRemoved(n){const o=this.styleRef;o.get(n)?.elements?.forEach(i=>i.remove()),o.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Lb}="${this.appId}"]`);if(n?.length){const o=new Map;return n.forEach(i=>{null!=i.textContent&&o.set(i.textContent,i)}),o}return null}changeUsageCount(n,o){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=o,s.usage}return i.set(n,{usage:o,elements:[]}),o}getStyleElement(n,o){const i=this.styleNodesInDOM,s=i?.get(o);if(s?.parentNode===n)return i.delete(o),s.removeAttribute(Lb),s;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=o,this.platformIsServer&&a.setAttribute(Lb,this.appId),n.appendChild(a),a}}addStyleToHost(n,o){const i=this.getStyleElement(n,o),s=this.styleRef,a=s.get(o)?.elements;a?a.push(i):s.set(o,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(si),ce(Wh),ce(YS,8),ce(tc))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();const $b={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Bb=/%COMP%/g,CG=new pt("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function dT(e,t){return t.map(r=>r.replace(Bb,e))}let fT=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f=null){this.eventManager=n,this.sharedStylesHost=o,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=nT(l),this.defaultRenderer=new Vb(n,a,c,this.platformIsServer)}createRenderer(n,o){if(!n||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===ns.ShadowDom&&(o={...o,encapsulation:ns.Emulated});const i=this.getOrCreateRenderer(n,o);return i instanceof hT?i.applyToHost(n):i instanceof jb&&i.applyStyles(),i}getOrCreateRenderer(n,o){const i=this.rendererByCompId;let s=i.get(o.id);if(!s){const a=this.doc,l=this.ngZone,c=this.eventManager,f=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(o.encapsulation){case ns.Emulated:s=new hT(c,f,o,this.appId,h,a,l,g);break;case ns.ShadowDom:return new EG(c,f,n,o,a,l,this.nonce,g);default:s=new jb(c,f,o,h,a,l,g)}i.set(o.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(aT),ce(cT),ce(Wh),ce(CG),ce(si),ce(tc),ce(Ge),ce(YS))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();class Vb{constructor(t,r,n,o){this.eventManager=t,this.doc=r,this.ngZone=n,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,r){return r?this.doc.createElementNS($b[r]||r,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,r){(pT(t)?t.content:t).appendChild(r)}insertBefore(t,r,n){t&&(pT(t)?t.content:t).insertBefore(r,n)}removeChild(t,r){t&&t.removeChild(r)}selectRootElement(t,r){let n="string"==typeof t?this.doc.querySelector(t):t;if(!n)throw new Xe(-5104,!1);return r||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,r,n,o){if(o){r=o+":"+r;const i=$b[o];i?t.setAttributeNS(i,r,n):t.setAttribute(r,n)}else t.setAttribute(r,n)}removeAttribute(t,r,n){if(n){const o=$b[n];o?t.removeAttributeNS(o,r):t.removeAttribute(`${n}:${r}`)}else t.removeAttribute(r)}addClass(t,r){t.classList.add(r)}removeClass(t,r){t.classList.remove(r)}setStyle(t,r,n,o){o&(oc.DashCase|oc.Important)?t.style.setProperty(r,n,o&oc.Important?"important":""):t.style[r]=n}removeStyle(t,r,n){n&oc.DashCase?t.style.removeProperty(r):t.style[r]=""}setProperty(t,r,n){null!=t&&(t[r]=n)}setValue(t,r){t.nodeValue=r}listen(t,r,n){if("string"==typeof t&&!(t=cc().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${r}`);return this.eventManager.addEventListener(t,r,this.decoratePreventDefault(n))}decoratePreventDefault(t){return r=>{if("__ngUnwrap__"===r)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(r)):t(r))&&r.preventDefault()}}}function pT(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class EG extends Vb{constructor(t,r,n,o,i,s,a,l){super(t,i,s,l),this.sharedStylesHost=r,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=dT(o.id,o.styles);for(const f of c){const h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,r){return super.appendChild(this.nodeOrShadowRoot(t),r)}insertBefore(t,r,n){return super.insertBefore(this.nodeOrShadowRoot(t),r,n)}removeChild(t,r){return super.removeChild(this.nodeOrShadowRoot(t),r)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class jb extends Vb{constructor(t,r,n,o,i,s,a,l){super(t,i,s,a),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=o,this.styles=l?dT(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class hT extends jb{constructor(t,r,n,o,i,s,a,l){const c=o+"-"+n.id;super(t,r,n,i,s,a,l,c),this.contentAttr=function SG(e){return"_ngcontent-%COMP%".replace(Bb,e)}(c),this.hostAttr=function wG(e){return"_nghost-%COMP%".replace(Bb,e)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,r){const n=super.createElement(t,r);return super.setAttribute(n,this.contentAttr,""),n}}let IG=(()=>{var e;class t extends lT{constructor(n){super(n)}supports(n){return!0}addEventListener(n,o,i){return n.addEventListener(o,i,!1),()=>this.removeEventListener(n,o,i)}removeEventListener(n,o,i){return n.removeEventListener(o,i)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(si))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();const mT=["alt","control","meta","shift"],xG={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},TG={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let MG=(()=>{var e;class t extends lT{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,o,i){const s=t.parseEventName(o),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>cc().onAndCancel(n,s.domEventName,a))}static parseEventName(n){const o=n.toLowerCase().split("."),i=o.shift();if(0===o.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(o.pop());let a="",l=o.indexOf("code");if(l>-1&&(o.splice(l,1),a="code."),mT.forEach(f=>{const h=o.indexOf(f);h>-1&&(o.splice(h,1),a+=f+".")}),a+=s,0!=o.length||0===s.length)return null;const c={};return c.domEventName=i,c.fullKey=a,c}static matchEventFullKeyCode(n,o){let i=xG[n.key]||n.key,s="";return o.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),mT.forEach(a=>{a!==i&&(0,TG[a])(n)&&(s+=a+".")}),s+=i,s===o)}static eventCallback(n,o,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>o(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(si))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();const PG=sx(ZV,"browser",[{provide:tc,useValue:tT},{provide:qS,useValue:function AG(){Nb.makeCurrent()},multi:!0},{provide:si,useFactory:function RG(){return function wO(e){fv=e}(document),document},deps:[]}]),OG=new pt(""),vT=[{provide:Ym,useClass:class gG{addToWindow(t){Un.getAngularTestability=(n,o=!0)=>{const i=t.findTestabilityInTree(n,o);if(null==i)throw new Xe(5103,!1);return i},Un.getAllAngularTestabilities=()=>t.getAllTestabilities(),Un.getAllAngularRootElements=()=>t.getAllRootElements(),Un.frameworkStabilizers||(Un.frameworkStabilizers=[]),Un.frameworkStabilizers.push(n=>{const o=Un.getAllAngularTestabilities();let i=o.length,s=!1;const a=function(l){s=s||l,i--,0==i&&n(s)};o.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,r,n){return null==r?null:t.getTestability(r)??(n?cc().isShadowRoot(r)?this.findTestabilityInTree(t,r.host,!0):this.findTestabilityInTree(t,r.parentElement,!0):null)}},deps:[]},{provide:XI,useClass:tb,deps:[Ge,nb,Ym]},{provide:tb,useClass:tb,deps:[Ge,nb,Ym]}],yT=[{provide:sv,useValue:"root"},{provide:El,useFactory:function kG(){return new El},deps:[]},{provide:Fb,useClass:IG,multi:!0,deps:[si,Ge,tc]},{provide:Fb,useClass:MG,multi:!0,deps:[si]},fT,cT,aT,{provide:qw,useExisting:fT},{provide:rT,useClass:_G,deps:[]},[]];let NG=(()=>{var e;class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Wh,useValue:n.appId}]}}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(OG,12))},e.\u0275mod=io({type:e}),e.\u0275inj=lt({providers:[...yT,...vT],imports:[rl,qV]}),t})(),bT=(()=>{var e;class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(si))},e.\u0275prov=$e({token:e,factory:function(n){let o=null;return o=n?new n:function LG(){return new bT(ce(si))}(),o},providedIn:"root"}),t})();typeof window<"u"&&window;let Ub=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:function(n){let o=null;return o=n?new(n||e):ce(wT),o},providedIn:"root"}),t})(),wT=(()=>{var e;class t extends Ub{constructor(n){super(),this._doc=n}sanitize(n,o){if(null==o)return null;switch(n){case Ds.NONE:return o;case Ds.HTML:return Ya(o,"HTML")?ws(o):Bw(this._doc,String(o)).toString();case Ds.STYLE:return Ya(o,"Style")?ws(o):o;case Ds.SCRIPT:if(Ya(o,"Script"))return ws(o);throw new Xe(5200,!1);case Ds.URL:return Ya(o,"URL")?ws(o):sm(String(o));case Ds.RESOURCE_URL:if(Ya(o,"ResourceURL"))return ws(o);throw new Xe(5201,!1);default:throw new Xe(5202,!1)}}bypassSecurityTrustHtml(n){return function y2(e){return new p2(e)}(n)}bypassSecurityTrustStyle(n){return function b2(e){return new h2(e)}(n)}bypassSecurityTrustScript(n){return function C2(e){return new m2(e)}(n)}bypassSecurityTrustUrl(n){return function S2(e){return new g2(e)}(n)}bypassSecurityTrustResourceUrl(n){return function w2(e){return new _2(e)}(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(si))},e.\u0275prov=$e({token:e,factory:function(n){let o=null;return o=n?new n:function GG(e){return new wT(e.get(si))}(ce(Kr)),o},providedIn:"root"}),t})();var Oo=C(5861),UG=C(6299),vd=C.n(UG);let vg,yg;function ET(e){if(!window.location.hash.startsWith(e))return;const t=window.location.hash.split("?")[1];if(!t)return;const r=t.split("&").map(n=>n.split("="));for(const[n,o]of r)if("url"===n&&o)try{return decodeURIComponent(o)}catch{continue}}function IT(){return void 0!==yg}class xT{constructor(){this.requestEvent=new Oo.j}dispatchRequest(t){if(t){try{t=new(vd())(t).toString()}catch{return void console.error(`invalid URL: ${t}`)}this.url=t,this.requestEvent.dispatch()}}hasPendingRequest(){return void 0!==this.url}receivePendingUrl(){const t=this.url;return this.url=void 0,t}}let Hb=(()=>{var e;class t{constructor(){this.installation=new xT,this.import=new xT,vg&&this.installation.dispatchRequest(vg),yg&&this.import.dispatchRequest(yg)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var V=C(3918);function yd(e,t){return Te(t)?jn(e,t,1):jn(e,1)}function Ea(e,t){return Tn((r,n)=>{let o=0;r.subscribe(Ln(n,i=>e.call(t,i,o++)&&n.next(i)))})}function fp(e){return Tn((t,r)=>{try{t.subscribe(r)}finally{r.add(e)}})}class bg{}class Cg{}class Qs{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(r=>{const n=r.indexOf(":");if(n>0){const o=r.slice(0,n),i=o.toLowerCase(),s=r.slice(n+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((r,n)=>{this.setHeaderEntries(n,r)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([r,n])=>{this.setHeaderEntries(r,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const r=this.headers.get(t.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,r){return this.clone({name:t,value:r,op:"a"})}set(t,r){return this.clone({name:t,value:r,op:"s"})}delete(t,r){return this.clone({name:t,value:r,op:"d"})}maybeSetNormalizedName(t,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,t)}init(){this.lazyInit&&(this.lazyInit instanceof Qs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(r=>{this.headers.set(r,t.headers.get(r)),this.normalizedNames.set(r,t.normalizedNames.get(r))})}clone(t){const r=new Qs;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof Qs?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([t]),r}applyUpdate(t){const r=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,r);const o=("a"===t.op?this.headers.get(r):void 0)||[];o.push(...n),this.headers.set(r,o);break;case"d":const i=t.value;if(i){let s=this.headers.get(r);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,s)}else this.headers.delete(r),this.normalizedNames.delete(r)}}setHeaderEntries(t,r){const n=(Array.isArray(r)?r:[r]).map(i=>i.toString()),o=t.toLowerCase();this.headers.set(o,n),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>t(this.normalizedNames.get(r),this.headers.get(r)))}}class WG{encodeKey(t){return TT(t)}encodeValue(t){return TT(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const qG=/%(\d[a-f0-9])/gi,YG={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function TT(e){return encodeURIComponent(e).replace(qG,(t,r)=>YG[r]??t)}function Sg(e){return`${e}`}class pc{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new WG,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ZG(e,t){const r=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,i)),t.decodeValue(o.slice(i+1))],l=r.get(s)||[];l.push(a),r.set(s,l)}),r}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(r=>{const n=t.fromObject[r],o=Array.isArray(n)?n.map(Sg):[Sg(n)];this.map.set(r,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const r=this.map.get(t);return r?r[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,r){return this.clone({param:t,value:r,op:"a"})}appendAll(t){const r=[];return Object.keys(t).forEach(n=>{const o=t[n];Array.isArray(o)?o.forEach(i=>{r.push({param:n,value:i,op:"a"})}):r.push({param:n,value:o,op:"a"})}),this.clone(r)}set(t,r){return this.clone({param:t,value:r,op:"s"})}delete(t,r){return this.clone({param:t,value:r,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const r=this.encoder.encodeKey(t);return this.map.get(t).map(n=>r+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const r=new pc({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(t),r}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const r=("a"===t.op?this.map.get(t.param):void 0)||[];r.push(Sg(t.value)),this.map.set(t.param,r);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let n=this.map.get(t.param)||[];const o=n.indexOf(Sg(t.value));-1!==o&&n.splice(o,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class KG{constructor(){this.map=new Map}set(t,r){return this.map.set(t,r),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function MT(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function AT(e){return typeof Blob<"u"&&e instanceof Blob}function kT(e){return typeof FormData<"u"&&e instanceof FormData}class pp{constructor(t,r,n,o){let i;if(this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function XG(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==n?n:null,i=o):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),this.transferCache=i.transferCache),this.headers||(this.headers=new Qs),this.context||(this.context=new KG),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=r;else{const a=r.indexOf("?");this.urlWithParams=r+(-1===a?"?":a<r.length-1?"&":"")+s}}else this.params=new pc,this.urlWithParams=r}serializeBody(){return null===this.body?null:MT(this.body)||AT(this.body)||kT(this.body)||function QG(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof pc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||kT(this.body)?null:AT(this.body)?this.body.type||null:MT(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof pc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const r=t.method||this.method,n=t.url||this.url,o=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const f=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((h,g)=>h.set(g,t.setHeaders[g]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((h,g)=>h.set(g,t.setParams[g]),c)),new pp(r,n,i,{params:c,headers:l,context:f,reportProgress:a,responseType:o,withCredentials:s})}}var hc=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(hc||{});class zb{constructor(t,r=200,n="OK"){this.headers=t.headers||new Qs,this.status=void 0!==t.status?t.status:r,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class wg extends zb{constructor(t={}){super(t),this.type=hc.ResponseHeader}clone(t={}){return new wg({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Zc extends zb{constructor(t={}){super(t),this.type=hc.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Zc({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class bd extends zb{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Wb(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}let Zb=(()=>{var e;class t{constructor(n){this.handler=n}request(n,o,i={}){let s;if(n instanceof pp)s=n;else{let c,f;c=i.headers instanceof Qs?i.headers:new Qs(i.headers),i.params&&(f=i.params instanceof pc?i.params:new pc({fromObject:i.params})),s=new pp(n,o,void 0!==i.body?i.body:null,{headers:c,context:i.context,params:f,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}const a=Ht(s).pipe(yd(c=>this.handler.handle(c)));if(n instanceof pp||"events"===i.observe)return a;const l=a.pipe(Ea(c=>c instanceof Zc));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(un(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(un(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(un(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return l.pipe(un(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,o={}){return this.request("DELETE",n,o)}get(n,o={}){return this.request("GET",n,o)}head(n,o={}){return this.request("HEAD",n,o)}jsonp(n,o){return this.request("JSONP",n,{params:(new pc).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,o={}){return this.request("OPTIONS",n,o)}patch(n,o,i={}){return this.request("PATCH",n,Wb(i,o))}post(n,o,i={}){return this.request("POST",n,Wb(i,o))}put(n,o,i={}){return this.request("PUT",n,Wb(i,o))}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(bg))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();function PT(e,t){return t(e)}function rU(e,t){return(r,n)=>t.intercept(r,{handle:o=>e(o,n)})}const iU=new pt(""),hp=new pt(""),OT=new pt(""),NT=new pt("");function sU(){let e=null;return(t,r)=>{null===e&&(e=(rt(iU,{optional:!0})??[]).reduceRight(rU,PT));const n=rt(Zm),o=n.add();return e(t,r).pipe(fp(()=>n.remove(o)))}}let FT=(()=>{var e;class t extends bg{constructor(n,o){super(),this.backend=n,this.injector=o,this.chain=null,this.pendingTasks=rt(Zm);const i=rt(NT,{optional:!0});this.backend=i??n}handle(n){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(hp),...this.injector.get(OT,[])]));this.chain=i.reduceRight((s,a)=>function oU(e,t,r){return(n,o)=>Ql(r,()=>t(n,i=>e(i,o)))}(s,a,this.injector),PT)}const o=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(fp(()=>this.pendingTasks.remove(o)))}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Cg),ce(ii))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();const dU=/^\)\]\}',?\n/;let $T=(()=>{var e;class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Xe(-2800,!1);const o=this.xhrFactory;return(o.\u0275loadImpl?Ir(o.\u0275loadImpl()):Ht(null)).pipe(eo(()=>new Fn(s=>{const a=o.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((ye,Ee)=>a.setRequestHeader(ye,Ee.join(","))),n.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const ye=n.detectContentTypeHeader();null!==ye&&a.setRequestHeader("Content-Type",ye)}if(n.responseType){const ye=n.responseType.toLowerCase();a.responseType="json"!==ye?ye:"text"}const l=n.serializeBody();let c=null;const f=()=>{if(null!==c)return c;const ye=a.statusText||"OK",Ee=new Qs(a.getAllResponseHeaders()),Ie=function fU(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(a)||n.url;return c=new wg({headers:Ee,status:a.status,statusText:ye,url:Ie}),c},h=()=>{let{headers:ye,status:Ee,statusText:Ie,url:Tt}=f(),Et=null;204!==Ee&&(Et=typeof a.response>"u"?a.responseText:a.response),0===Ee&&(Ee=Et?200:0);let Ct=Ee>=200&&Ee<300;if("json"===n.responseType&&"string"==typeof Et){const In=Et;Et=Et.replace(dU,"");try{Et=""!==Et?JSON.parse(Et):null}catch(An){Et=In,Ct&&(Ct=!1,Et={error:An,text:Et})}}Ct?(s.next(new Zc({body:Et,headers:ye,status:Ee,statusText:Ie,url:Tt||void 0})),s.complete()):s.error(new bd({error:Et,headers:ye,status:Ee,statusText:Ie,url:Tt||void 0}))},g=ye=>{const{url:Ee}=f(),Ie=new bd({error:ye,status:a.status||0,statusText:a.statusText||"Unknown Error",url:Ee||void 0});s.error(Ie)};let b=!1;const j=ye=>{b||(s.next(f()),b=!0);let Ee={type:hc.DownloadProgress,loaded:ye.loaded};ye.lengthComputable&&(Ee.total=ye.total),"text"===n.responseType&&a.responseText&&(Ee.partialText=a.responseText),s.next(Ee)},ee=ye=>{let Ee={type:hc.UploadProgress,loaded:ye.loaded};ye.lengthComputable&&(Ee.total=ye.total),s.next(Ee)};return a.addEventListener("load",h),a.addEventListener("error",g),a.addEventListener("timeout",g),a.addEventListener("abort",g),n.reportProgress&&(a.addEventListener("progress",j),null!==l&&a.upload&&a.upload.addEventListener("progress",ee)),a.send(l),s.next({type:hc.Sent}),()=>{a.removeEventListener("error",g),a.removeEventListener("abort",g),a.removeEventListener("load",h),a.removeEventListener("timeout",g),n.reportProgress&&(a.removeEventListener("progress",j),null!==l&&a.upload&&a.upload.removeEventListener("progress",ee)),a.readyState!==a.DONE&&a.abort()}})))}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(rT))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();const Kb=new pt("XSRF_ENABLED"),BT=new pt("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),VT=new pt("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class jT{}let mU=(()=>{var e;class t{constructor(n,o,i){this.doc=n,this.platform=o,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=zx(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(si),ce(tc),ce(BT))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();function gU(e,t){const r=e.url.toLowerCase();if(!rt(Kb)||"GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return t(e);const n=rt(jT).getToken(),o=rt(VT);return null!=n&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,n)})),t(e)}var mc=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(mc||{});function qc(e,t){return{\u0275kind:e,\u0275providers:t}}function _U(...e){const t=[Zb,$T,FT,{provide:bg,useExisting:FT},{provide:Cg,useExisting:$T},{provide:hp,useValue:gU,multi:!0},{provide:Kb,useValue:!0},{provide:jT,useClass:mU}];for(const r of e)t.push(...r.\u0275providers);return function rv(e){return{\u0275providers:e}}(t)}const GT=new pt("LEGACY_INTERCEPTOR_FN");let yU=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=lt({providers:[_U(qc(mc.LegacyInterceptors,[{provide:GT,useFactory:sU},{provide:hp,useExisting:GT,multi:!0}]))]}),t})();const{isArray:IU}=Array,{getPrototypeOf:xU,prototype:TU,keys:MU}=Object;function YT(e){if(1===e.length){const t=e[0];if(IU(t))return{args:t,keys:null};if(function AU(e){return e&&"object"==typeof e&&xU(e)===TU}(t)){const r=MU(t);return{args:r.map(n=>t[n]),keys:r}}}return{args:e,keys:null}}const{isArray:kU}=Array;function Xb(e){return un(t=>function RU(e,t){return kU(t)?e(...t):e(t)}(e,t))}function KT(e,t){return e.reduce((r,n,o)=>(r[n]=t[o],r),{})}function Eg(...e){const t=Ji(e),r=ia(e),{args:n,keys:o}=YT(e);if(0===n.length)return Ir([],t);const i=new Fn(function PU(e,t,r=or){return n=>{XT(t,()=>{const{length:o}=e,i=new Array(o);let s=o,a=o;for(let l=0;l<o;l++)XT(t,()=>{const c=Ir(e[l],t);let f=!1;c.subscribe(Ln(n,h=>{i[l]=h,f||(f=!0,a--),a||n.next(r(i.slice()))},()=>{--s||n.complete()}))},n)},n)}}(n,t,o?s=>KT(o,s):or));return r?i.pipe(Xb(r)):i}function XT(e,t,r){e?Jn(r,e,t):t()}const Ig=we(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Qb(...e){return function OU(){return Lo(1)}()(Ir(e,Ji(e)))}function QT(e){return new Fn(t=>{A(e()).subscribe(t)})}function xg(e,t){const r=Te(e)?e:()=>e,n=o=>o.error(r());return new Fn(t?o=>t.schedule(n,0,o):n)}function Jb(){return Tn((e,t)=>{let r=null;e._refCount++;const n=Ln(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(r=null);const o=e._connection,i=r;r=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(n),n.closed||(r=e.connect())})}class JT extends Fn{constructor(t,r){super(),this.source=t,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,br(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new vt;const r=this.getSubject();t.add(this.source.subscribe(Ln(r,void 0,()=>{this._teardown(),r.complete()},n=>{this._teardown(),r.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=vt.EMPTY)}return t}refCount(){return Jb()(this)}}function Cd(e){return e<=0?()=>xo:Tn((t,r)=>{let n=0;t.subscribe(Ln(r,o=>{++n<=e&&(r.next(o),e<=n&&r.complete())}))})}function eM(...e){const t=Ji(e);return Tn((r,n)=>{(t?Qb(e,r,t):Qb(e,r)).subscribe(n)})}function Tg(e){return Tn((t,r)=>{let n=!1;t.subscribe(Ln(r,o=>{n=!0,r.next(o)},()=>{n||r.next(e),r.complete()}))})}function tM(e=NU){return Tn((t,r)=>{let n=!1;t.subscribe(Ln(r,o=>{n=!0,r.next(o)},()=>n?r.complete():r.error(e())))})}function NU(){return new Ig}function gc(e,t){const r=arguments.length>=2;return n=>n.pipe(e?Ea((o,i)=>e(o,i,n)):or,Cd(1),r?Tg(t):tM(()=>new Ig))}function Ci(e,t,r){const n=Te(e)||t||r?{next:e,error:t,complete:r}:e;return n?Tn((o,i)=>{var s;null===(s=n.subscribe)||void 0===s||s.call(n);let a=!0;o.subscribe(Ln(i,l=>{var c;null===(c=n.next)||void 0===c||c.call(n,l),i.next(l)},()=>{var l;a=!1,null===(l=n.complete)||void 0===l||l.call(n),i.complete()},l=>{var c;a=!1,null===(c=n.error)||void 0===c||c.call(n,l),i.error(l)},()=>{var l,c;a&&(null===(l=n.unsubscribe)||void 0===l||l.call(n)),null===(c=n.finalize)||void 0===c||c.call(n)}))}):or}function Yc(e){return Tn((t,r)=>{let i,n=null,o=!1;n=t.subscribe(Ln(r,void 0,void 0,s=>{i=A(e(s,Yc(e)(t))),n?(n.unsubscribe(),n=null,i.subscribe(r)):o=!0})),o&&(n.unsubscribe(),n=null,i.subscribe(r))})}function eC(e){return e<=0?()=>xo:Tn((t,r)=>{let n=[];t.subscribe(Ln(r,o=>{n.push(o),e<n.length&&n.shift()},()=>{for(const o of n)r.next(o);r.complete()},void 0,()=>{n=null}))})}function nM(e){return un(()=>e)}function rM(e){return Tn((t,r)=>{A(e).subscribe(Ln(r,()=>r.complete(),Yn)),!r.closed&&t.subscribe(r)})}const En="primary",mp=Symbol("RouteTitle");class BU{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const r=this.params[t];return Array.isArray(r)?r[0]:r}return null}getAll(t){if(this.has(t)){const r=this.params[t];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function Sd(e){return new BU(e)}function VU(e,t,r){const n=r.path.split("/");if(n.length>e.length||"full"===r.pathMatch&&(t.hasChildren()||n.length<e.length))return null;const o={};for(let i=0;i<n.length;i++){const s=n[i],a=e[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,n.length),posParams:o}}function ol(e,t){const r=e?tC(e):void 0,n=t?tC(t):void 0;if(!r||!n||r.length!=n.length)return!1;let o;for(let i=0;i<r.length;i++)if(o=r[i],!oM(e[o],t[o]))return!1;return!0}function tC(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function oM(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const r=[...e].sort(),n=[...t].sort();return r.every((o,i)=>n[i]===o)}return e===t}function iM(e){return e.length>0?e[e.length-1]:null}function _c(e){return function EU(e){return!!e&&(e instanceof Fn||Te(e.lift)&&Te(e.subscribe))}(e)?e:Jf(e)?Ir(Promise.resolve(e)):Ht(e)}const GU={exact:function lM(e,t,r){if(!Kc(e.segments,t.segments)||!Mg(e.segments,t.segments,r)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const n in t.children)if(!e.children[n]||!lM(e.children[n],t.children[n],r))return!1;return!0},subset:cM},sM={exact:function UU(e,t){return ol(e,t)},subset:function HU(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(r=>oM(e[r],t[r]))},ignored:()=>!0};function aM(e,t,r){return GU[r.paths](e.root,t.root,r.matrixParams)&&sM[r.queryParams](e.queryParams,t.queryParams)&&!("exact"===r.fragment&&e.fragment!==t.fragment)}function cM(e,t,r){return uM(e,t,t.segments,r)}function uM(e,t,r,n){if(e.segments.length>r.length){const o=e.segments.slice(0,r.length);return!(!Kc(o,r)||t.hasChildren()||!Mg(o,r,n))}if(e.segments.length===r.length){if(!Kc(e.segments,r)||!Mg(e.segments,r,n))return!1;for(const o in t.children)if(!e.children[o]||!cM(e.children[o],t.children[o],n))return!1;return!0}{const o=r.slice(0,e.segments.length),i=r.slice(e.segments.length);return!!(Kc(e.segments,o)&&Mg(e.segments,o,n)&&e.children[En])&&uM(e.children[En],t,i,n)}}function Mg(e,t,r){return t.every((n,o)=>sM[r](e[o].parameters,n.parameters))}class wd{constructor(t=new Lr([],{}),r={},n=null){this.root=t,this.queryParams=r,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Sd(this.queryParams)),this._queryParamMap}toString(){return ZU.serialize(this)}}class Lr{constructor(t,r){this.segments=t,this.children=r,this.parent=null,Object.values(r).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ag(this)}}class gp{constructor(t,r){this.path=t,this.parameters=r}get parameterMap(){return this._parameterMap||(this._parameterMap=Sd(this.parameters)),this._parameterMap}toString(){return pM(this)}}function Kc(e,t){return e.length===t.length&&e.every((r,n)=>r.path===t[n].path)}let Xc=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:()=>new nC,providedIn:"root"}),t})();class nC{parse(t){const r=new oH(t);return new wd(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(t){const r=`/${_p(t.root,!0)}`,n=function KU(e){const t=Object.keys(e).map(r=>{const n=e[r];return Array.isArray(n)?n.map(o=>`${kg(r)}=${kg(o)}`).join("&"):`${kg(r)}=${kg(n)}`}).filter(r=>!!r);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${r}${n}${"string"==typeof t.fragment?`#${function qU(e){return encodeURI(e)}(t.fragment)}`:""}`}}const ZU=new nC;function Ag(e){return e.segments.map(t=>pM(t)).join("/")}function _p(e,t){if(!e.hasChildren())return Ag(e);if(t){const r=e.children[En]?_p(e.children[En],!1):"",n=[];return Object.entries(e.children).forEach(([o,i])=>{o!==En&&n.push(`${o}:${_p(i,!1)}`)}),n.length>0?`${r}(${n.join("//")})`:r}{const r=function WU(e,t){let r=[];return Object.entries(e.children).forEach(([n,o])=>{n===En&&(r=r.concat(t(o,n)))}),Object.entries(e.children).forEach(([n,o])=>{n!==En&&(r=r.concat(t(o,n)))}),r}(e,(n,o)=>o===En?[_p(e.children[En],!1)]:[`${o}:${_p(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[En]?`${Ag(e)}/${r[0]}`:`${Ag(e)}/(${r.join("//")})`}}function dM(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kg(e){return dM(e).replace(/%3B/gi,";")}function rC(e){return dM(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rg(e){return decodeURIComponent(e)}function fM(e){return Rg(e.replace(/\+/g,"%20"))}function pM(e){return`${rC(e.path)}${function YU(e){return Object.keys(e).map(t=>`;${rC(t)}=${rC(e[t])}`).join("")}(e.parameters)}`}const XU=/^[^\/()?;#]+/;function oC(e){const t=e.match(XU);return t?t[0]:""}const QU=/^[^\/()?;=#]+/,eH=/^[^=?&#]+/,nH=/^[^&#]+/;class oH{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Lr([],{}):new Lr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(r).length>0)&&(n[En]=new Lr(t,r)),n}parseSegment(){const t=oC(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Xe(4009,!1);return this.capture(t),new gp(Rg(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const r=function JU(e){const t=e.match(QU);return t?t[0]:""}(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){const o=oC(this.remaining);o&&(n=o,this.capture(n))}t[Rg(r)]=Rg(n)}parseQueryParam(t){const r=function tH(e){const t=e.match(eH);return t?t[0]:""}(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){const s=function rH(e){const t=e.match(nH);return t?t[0]:""}(this.remaining);s&&(n=s,this.capture(n))}const o=fM(r),i=fM(n);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=oC(this.remaining),o=this.remaining[n.length];if("/"!==o&&")"!==o&&";"!==o)throw new Xe(4010,!1);let i;n.indexOf(":")>-1?(i=n.slice(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=En);const s=this.parseChildren();r[i]=1===Object.keys(s).length?s[En]:new Lr([],s),this.consumeOptional("//")}return r}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Xe(4011,!1)}}function hM(e){return e.segments.length>0?new Lr([],{[En]:e}):e}function mM(e){const t={};for(const n of Object.keys(e.children)){const i=mM(e.children[n]);if(n===En&&0===i.segments.length&&i.hasChildren())for(const[s,a]of Object.entries(i.children))t[s]=a;else(i.segments.length>0||i.hasChildren())&&(t[n]=i)}return function iH(e){if(1===e.numberOfChildren&&e.children[En]){const t=e.children[En];return new Lr(e.segments.concat(t.segments),t.children)}return e}(new Lr(e.segments,t))}function Qc(e){return e instanceof wd}function gM(e){let t;const o=hM(function r(i){const s={};for(const l of i.children){const c=r(l);s[l.outlet]=c}const a=new Lr(i.url,s);return i===e&&(t=a),a}(e.root));return t??o}function _M(e,t,r,n){let o=e;for(;o.parent;)o=o.parent;if(0===t.length)return iC(o,o,o,r,n);const i=function aH(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new yM(!0,0,e);let t=0,r=!1;const n=e.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return Object.entries(i.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?r=!0:".."===a?t++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new yM(r,t,n)}(t);if(i.toRoot())return iC(o,o,new Lr([],{}),r,n);const s=function lH(e,t,r){if(e.isAbsolute)return new Og(t,!0,0);if(!r)return new Og(t,!1,NaN);if(null===r.parent)return new Og(r,!0,0);const n=Pg(e.commands[0])?0:1;return function cH(e,t,r){let n=e,o=t,i=r;for(;i>o;){if(i-=o,n=n.parent,!n)throw new Xe(4005,!1);o=n.segments.length}return new Og(n,!1,o-i)}(r,r.segments.length-1+n,e.numberOfDoubleDots)}(i,o,e),a=s.processChildren?yp(s.segmentGroup,s.index,i.commands):bM(s.segmentGroup,s.index,i.commands);return iC(o,s.segmentGroup,a,r,n)}function Pg(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function vp(e){return"object"==typeof e&&null!=e&&e.outlets}function iC(e,t,r,n,o){let s,i={};n&&Object.entries(n).forEach(([l,c])=>{i[l]=Array.isArray(c)?c.map(f=>`${f}`):`${c}`}),s=e===t?r:vM(e,t,r);const a=hM(mM(s));return new wd(a,i,o)}function vM(e,t,r){const n={};return Object.entries(e.children).forEach(([o,i])=>{n[o]=i===t?r:vM(i,t,r)}),new Lr(e.segments,n)}class yM{constructor(t,r,n){if(this.isAbsolute=t,this.numberOfDoubleDots=r,this.commands=n,t&&n.length>0&&Pg(n[0]))throw new Xe(4003,!1);const o=n.find(vp);if(o&&o!==iM(n))throw new Xe(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Og{constructor(t,r,n){this.segmentGroup=t,this.processChildren=r,this.index=n}}function bM(e,t,r){if(e||(e=new Lr([],{})),0===e.segments.length&&e.hasChildren())return yp(e,t,r);const n=function dH(e,t,r){let n=0,o=t;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(n>=r.length)return i;const s=e.segments[o],a=r[n];if(vp(a))break;const l=`${a}`,c=n<r.length-1?r[n+1]:null;if(o>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!SM(l,c,s))return i;n+=2}else{if(!SM(l,{},s))return i;n++}o++}return{match:!0,pathIndex:o,commandIndex:n}}(e,t,r),o=r.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){const i=new Lr(e.segments.slice(0,n.pathIndex),{});return i.children[En]=new Lr(e.segments.slice(n.pathIndex),e.children),yp(i,0,o)}return n.match&&0===o.length?new Lr(e.segments,{}):n.match&&!e.hasChildren()?sC(e,t,r):n.match?yp(e,0,o):sC(e,t,r)}function yp(e,t,r){if(0===r.length)return new Lr(e.segments,{});{const n=function uH(e){return vp(e[0])?e[0].outlets:{[En]:e}}(r),o={};if(Object.keys(n).some(i=>i!==En)&&e.children[En]&&1===e.numberOfChildren&&0===e.children[En].segments.length){const i=yp(e.children[En],t,r);return new Lr(e.segments,i.children)}return Object.entries(n).forEach(([i,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(o[i]=bM(e.children[i],t,s))}),Object.entries(e.children).forEach(([i,s])=>{void 0===n[i]&&(o[i]=s)}),new Lr(e.segments,o)}}function sC(e,t,r){const n=e.segments.slice(0,t);let o=0;for(;o<r.length;){const i=r[o];if(vp(i)){const l=fH(i.outlets);return new Lr(n,l)}if(0===o&&Pg(r[0])){n.push(new gp(e.segments[t].path,CM(r[0]))),o++;continue}const s=vp(i)?i.outlets[En]:`${i}`,a=o<r.length-1?r[o+1]:null;s&&a&&Pg(a)?(n.push(new gp(s,CM(a))),o+=2):(n.push(new gp(s,{})),o++)}return new Lr(n,{})}function fH(e){const t={};return Object.entries(e).forEach(([r,n])=>{"string"==typeof n&&(n=[n]),null!==n&&(t[r]=sC(new Lr([],{}),0,n))}),t}function CM(e){const t={};return Object.entries(e).forEach(([r,n])=>t[r]=`${n}`),t}function SM(e,t,r){return e==r.path&&ol(t,r.parameters)}const bp="imperative";class il{constructor(t,r){this.id=t,this.url=r}}class Cp extends il{constructor(t,r,n="imperative",o=null){super(t,r),this.type=0,this.navigationTrigger=n,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class kl extends il{constructor(t,r,n){super(t,r),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Dd extends il{constructor(t,r,n,o){super(t,r),this.reason=n,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ed extends il{constructor(t,r,n,o){super(t,r),this.reason=n,this.code=o,this.type=16}}class Ng extends il{constructor(t,r,n,o){super(t,r),this.error=n,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class wM extends il{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pH extends il{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hH extends il{constructor(t,r,n,o,i){super(t,r),this.urlAfterRedirects=n,this.state=o,this.shouldActivate=i,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class mH extends il{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gH extends il{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _H{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class vH{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class yH{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bH{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CH{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class SH{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class DM{constructor(t,r,n){this.routerEvent=t,this.position=r,this.anchor=n,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class aC{}class lC{constructor(t){this.url=t}}class wH{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Jc,this.attachRef=null}}let Jc=(()=>{var e;class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,o){const i=this.getOrCreateContext(n);i.outlet=o,this.contexts.set(n,i)}onChildOutletDestroyed(n){const o=this.getContext(n);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let o=this.getContext(n);return o||(o=new wH,this.contexts.set(n,o)),o}getContext(n){return this.contexts.get(n)||null}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class EM{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const r=this.pathFromRoot(t);return r.length>1?r[r.length-2]:null}children(t){const r=cC(t,this._root);return r?r.children.map(n=>n.value):[]}firstChild(t){const r=cC(t,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(t){const r=uC(t,this._root);return r.length<2?[]:r[r.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return uC(t,this._root).map(r=>r.value)}}function cC(e,t){if(e===t.value)return t;for(const r of t.children){const n=cC(e,r);if(n)return n}return null}function uC(e,t){if(e===t.value)return[t];for(const r of t.children){const n=uC(e,r);if(n.length)return n.unshift(t),n}return[]}class Ia{constructor(t,r){this.value=t,this.children=r}toString(){return`TreeNode(${this.value})`}}function Id(e){const t={};return e&&e.children.forEach(r=>t[r.value.outlet]=r),t}class IM extends EM{constructor(t,r){super(t),this.snapshot=r,pC(this,t)}toString(){return this.snapshot.toString()}}function xM(e,t){const r=function DH(e,t){const s=new fC([],{},{},"",{},En,t,null,{});return new TM("",new Ia(s,[]))}(0,t),n=new po([new gp("",{})]),o=new po({}),i=new po({}),s=new po({}),a=new po(""),l=new sl(n,o,s,a,i,En,t,r.root);return l.snapshot=r.root,new IM(new Ia(l,[]),r)}class sl{constructor(t,r,n,o,i,s,a,l){this.urlSubject=t,this.paramsSubject=r,this.queryParamsSubject=n,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(un(c=>c[mp]))??Ht(void 0),this.url=t,this.params=r,this.queryParams=n,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(un(t=>Sd(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(un(t=>Sd(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function dC(e,t,r="emptyOnly"){let n;const{routeConfig:o}=e;return n=null===t||"always"!==r&&""!==o?.path&&(t.component||t.routeConfig?.loadComponent)?{params:e.params,data:e.data,resolve:{...e.data,...e._resolvedData??{}}}:{params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.data,...o?.data,...e._resolvedData}},o&&AM(o)&&(n.resolve[mp]=o.title),n}class fC{get title(){return this.data?.[mp]}constructor(t,r,n,o,i,s,a,l,c){this.url=t,this.params=r,this.queryParams=n,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Sd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Sd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class TM extends EM{constructor(t,r){super(r),this.url=t,pC(this,r)}toString(){return MM(this._root)}}function pC(e,t){t.value._routerState=e,t.children.forEach(r=>pC(e,r))}function MM(e){const t=e.children.length>0?` { ${e.children.map(MM).join(", ")} } `:"";return`${e.value}${t}`}function hC(e){if(e.snapshot){const t=e.snapshot,r=e._futureSnapshot;e.snapshot=r,ol(t.queryParams,r.queryParams)||e.queryParamsSubject.next(r.queryParams),t.fragment!==r.fragment&&e.fragmentSubject.next(r.fragment),ol(t.params,r.params)||e.paramsSubject.next(r.params),function jU(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!ol(e[r],t[r]))return!1;return!0}(t.url,r.url)||e.urlSubject.next(r.url),ol(t.data,r.data)||e.dataSubject.next(r.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function mC(e,t){const r=ol(e.params,t.params)&&function zU(e,t){return Kc(e,t)&&e.every((r,n)=>ol(r.parameters,t[n].parameters))}(e.url,t.url);return r&&!(!e.parent!=!t.parent)&&(!e.parent||mC(e.parent,t.parent))}function AM(e){return"string"==typeof e.title||null===e.title}let kM=(()=>{var e;class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=En,this.activateEvents=new on,this.deactivateEvents=new on,this.attachEvents=new on,this.detachEvents=new on,this.parentContexts=rt(Jc),this.location=rt(ss),this.changeDetector=rt(dt),this.environmentInjector=rt(ii),this.inputBinder=rt(Fg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:o,previousValue:i}=n.name;if(o)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Xe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Xe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Xe(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,o){this.activated=n,this._activatedRoute=o,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,o){if(this.isActivated)throw new Xe(4013,!1);this._activatedRoute=n;const i=this.location,a=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new EH(n,l,i.injector);this.activated=i.createComponent(a,{index:i.length,injector:c,environmentInjector:o??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=Lt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[vi]}),t})();class EH{constructor(t,r,n){this.route=t,this.childContexts=r,this.parent=n}get(t,r){return t===sl?this.route:t===Jc?this.childContexts:this.parent.get(t,r)}}const Fg=new pt("");let RM=(()=>{var e;class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:o}=n,i=Eg([o.queryParams,o.params,o.data]).pipe(eo(([s,a,l],c)=>(l={...s,...a,...l},0===c?Ht(l):Promise.resolve(l)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==o||null===o.component)return void this.unsubscribeFromRouteData(n);const a=kx(o.component);if(a)for(const{templateName:l}of a.inputs)n.activatedComponentRef.setInput(l,s[l]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();function Sp(e,t,r){if(r&&e.shouldReuseRoute(t.value,r.value.snapshot)){const n=r.value;n._futureSnapshot=t.value;const o=function xH(e,t,r){return t.children.map(n=>{for(const o of r.children)if(e.shouldReuseRoute(n.value,o.value.snapshot))return Sp(e,n,o);return Sp(e,n)})}(e,t,r);return new Ia(n,o)}{if(e.shouldAttach(t.value)){const i=e.retrieve(t.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Sp(e,a)),s}}const n=function TH(e){return new sl(new po(e.url),new po(e.params),new po(e.queryParams),new po(e.fragment),new po(e.data),e.outlet,e.component,e)}(t.value),o=t.children.map(i=>Sp(e,i));return new Ia(n,o)}}const gC="ngNavigationCancelingError";function PM(e,t){const{redirectTo:r,navigationBehaviorOptions:n}=Qc(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=OM(!1,0,t);return o.url=r,o.navigationBehaviorOptions=n,o}function OM(e,t,r){const n=new Error("NavigationCancelingError: "+(e||""));return n[gC]=!0,n.cancellationCode=t,r&&(n.url=r),n}function NM(e){return e&&e[gC]}let FM=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["ng-component"]],standalone:!0,features:[Gm],decls:1,vars:0,template:function(n,o){1&n&&Ve(0,"router-outlet")},dependencies:[kM],encapsulation:2}),t})();function _C(e){const t=e.children&&e.children.map(_C),r=t?{...e,children:t}:{...e};return!r.component&&!r.loadComponent&&(t||r.loadChildren)&&r.outlet&&r.outlet!==En&&(r.component=FM),r}function al(e){return e.outlet||En}function wp(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const r=t.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}class FH{constructor(t,r,n,o,i){this.routeReuseStrategy=t,this.futureState=r,this.currState=n,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){const r=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,n,t),hC(this.futureState.root),this.activateChildRoutes(r,n,t)}deactivateChildRoutes(t,r,n){const o=Id(r);t.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],n),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,n)})}deactivateRoutes(t,r,n){const o=t.value,i=r?r.value:null;if(o===i)if(o.component){const s=n.getContext(o.outlet);s&&this.deactivateChildRoutes(t,r,s.children)}else this.deactivateChildRoutes(t,r,n);else i&&this.deactivateRouteAndItsChildren(r,n)}deactivateRouteAndItsChildren(t,r){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,r):this.deactivateRouteAndOutlet(t,r)}detachAndStoreRouteSubtree(t,r){const n=r.getContext(t.value.outlet),o=n&&t.value.component?n.children:r,i=Id(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);if(n&&n.outlet){const s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,r){const n=r.getContext(t.value.outlet),o=n&&t.value.component?n.children:r,i=Id(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,r,n){const o=Id(r);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],n),this.forwardEvent(new SH(i.value.snapshot))}),t.children.length&&this.forwardEvent(new bH(t.value.snapshot))}activateRoutes(t,r,n){const o=t.value,i=r?r.value:null;if(hC(o),o===i)if(o.component){const s=n.getOrCreateContext(o.outlet);this.activateChildRoutes(t,r,s.children)}else this.activateChildRoutes(t,r,n);else if(o.component){const s=n.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),hC(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=wp(o.snapshot);s.attachRef=null,s.route=o,s.injector=a,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,n)}}class LM{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Lg{constructor(t,r){this.component=t,this.route=r}}function LH(e,t,r){const n=e._root;return Dp(n,t?t._root:null,r,[n.value])}function xd(e,t){const r=Symbol(),n=t.get(e,r);return n===r?"function"!=typeof e||function Zn(e){return null!==lr(e)}(e)?t.get(e):e:n}function Dp(e,t,r,n,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=Id(t);return e.children.forEach(s=>{(function BH(e,t,r,n,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=e.value,s=t?t.value:null,a=r?r.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const l=function VH(e,t,r){if("function"==typeof r)return r(e,t);switch(r){case"pathParamsChange":return!Kc(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Kc(e.url,t.url)||!ol(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mC(e,t)||!ol(e.queryParams,t.queryParams);default:return!mC(e,t)}}(s,i,i.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new LM(n)):(i.data=s.data,i._resolvedData=s._resolvedData),Dp(e,t,i.component?a?a.children:null:r,n,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Lg(a.outlet.component,s))}else s&&Ep(t,a,o),o.canActivateChecks.push(new LM(n)),Dp(e,null,i.component?a?a.children:null:r,n,o)})(s,i[s.value.outlet],r,n.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>Ep(a,r.getContext(s),o)),o}function Ep(e,t,r){const n=Id(e),o=e.value;Object.entries(n).forEach(([i,s])=>{Ep(s,o.component?t?t.children.getContext(i):null:t,r)}),r.canDeactivateChecks.push(new Lg(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function Ip(e){return"function"==typeof e}function $M(e){return e instanceof Ig||"EmptyError"===e?.name}const $g=Symbol("INITIAL_VALUE");function Td(){return eo(e=>Eg(e.map(t=>t.pipe(Cd(1),eM($g)))).pipe(un(t=>{for(const r of t)if(!0!==r){if(r===$g)return $g;if(!1===r||r instanceof wd)return r}return!0}),Ea(t=>t!==$g),Cd(1)))}function BM(e){return function Dr(...e){return _o(e)}(Ci(t=>{if(Qc(t))throw PM(0,t)}),un(t=>!0===t))}class vC{constructor(t){this.segmentGroup=t||null}}class yC extends Error{constructor(t){super(),this.urlTree=t}}function Md(e){return xg(new vC(e))}class s6{constructor(t,r){this.urlSerializer=t,this.urlTree=r}lineralizeSegments(t,r){let n=[],o=r.root;for(;;){if(n=n.concat(o.segments),0===o.numberOfChildren)return Ht(n);if(o.numberOfChildren>1||!o.children[En])return xg(new Xe(4e3,!1));o=o.children[En]}}applyRedirectCommands(t,r,n){const o=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),t,n);if(r.startsWith("/"))throw new yC(o);return o}applyRedirectCreateUrlTree(t,r,n,o){const i=this.createSegmentGroup(t,r.root,n,o);return new wd(i,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(t,r){const n={};return Object.entries(t).forEach(([o,i])=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);n[o]=r[a]}else n[o]=i}),n}createSegmentGroup(t,r,n,o){const i=this.createSegments(t,r.segments,n,o);let s={};return Object.entries(r.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,n,o)}),new Lr(i,s)}createSegments(t,r,n,o){return r.map(i=>i.path.startsWith(":")?this.findPosParam(t,i,o):this.findOrReturn(i,n))}findPosParam(t,r,n){const o=n[r.path.substring(1)];if(!o)throw new Xe(4001,!1);return o}findOrReturn(t,r){let n=0;for(const o of r){if(o.path===t.path)return r.splice(n),o;n++}return t}}const bC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function a6(e,t,r,n,o){const i=CC(e,t,r);return i.matched?(n=function AH(e,t){return e.providers&&!e._injector&&(e._injector=Gy(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,n),function r6(e,t,r,n){const o=t.canMatch;return o&&0!==o.length?Ht(o.map(s=>{const a=xd(s,e);return _c(function WH(e){return e&&Ip(e.canMatch)}(a)?a.canMatch(t,r):Ql(e,()=>a(t,r)))})).pipe(Td(),BM()):Ht(!0)}(n,t,r).pipe(un(s=>!0===s?i:{...bC}))):Ht(i)}function CC(e,t,r){if("**"===t.path)return function l6(e){return{matched:!0,parameters:e.length>0?iM(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(r);if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||r.length>0)?{...bC}:{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};const o=(t.matcher||VU)(r,e,t);if(!o)return{...bC};const i={};Object.entries(o.posParams??{}).forEach(([a,l])=>{i[a]=l.path});const s=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:r.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function VM(e,t,r,n){return r.length>0&&function d6(e,t,r){return r.some(n=>Bg(e,t,n)&&al(n)!==En)}(e,r,n)?{segmentGroup:new Lr(t,u6(n,new Lr(r,e.children))),slicedSegments:[]}:0===r.length&&function f6(e,t,r){return r.some(n=>Bg(e,t,n))}(e,r,n)?{segmentGroup:new Lr(e.segments,c6(e,0,r,n,e.children)),slicedSegments:r}:{segmentGroup:new Lr(e.segments,e.children),slicedSegments:r}}function c6(e,t,r,n,o){const i={};for(const s of n)if(Bg(e,r,s)&&!o[al(s)]){const a=new Lr([],{});i[al(s)]=a}return{...o,...i}}function u6(e,t){const r={};r[En]=t;for(const n of e)if(""===n.path&&al(n)!==En){const o=new Lr([],{});r[al(n)]=o}return r}function Bg(e,t,r){return(!(e.hasChildren()||t.length>0)||"full"!==r.pathMatch)&&""===r.path}class m6{}class v6{constructor(t,r,n,o,i,s,a){this.injector=t,this.configLoader=r,this.rootComponentType=n,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new s6(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new Xe(4002,`'${t.segmentGroup}'`)}recognize(){const t=VM(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(un(r=>{const n=new fC([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},En,this.rootComponentType,null,{}),o=new Ia(n,r),i=new TM("",o),s=function sH(e,t,r=null,n=null){return _M(gM(e),t,r,n)}(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(i._root,null),{state:i,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,En).pipe(Yc(n=>{if(n instanceof yC)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof vC?this.noMatchError(n):n}))}inheritParamsAndData(t,r){const n=t.value,o=dC(n,r,this.paramsInheritanceStrategy);n.params=Object.freeze(o.params),n.data=Object.freeze(o.data),t.children.forEach(i=>this.inheritParamsAndData(i,n))}processSegmentGroup(t,r,n,o){return 0===n.segments.length&&n.hasChildren()?this.processChildren(t,r,n):this.processSegment(t,r,n,n.segments,o,!0).pipe(un(i=>i instanceof Ia?[i]:[]))}processChildren(t,r,n){const o=[];for(const i of Object.keys(n.children))"primary"===i?o.unshift(i):o.push(i);return Ir(o).pipe(yd(i=>{const s=n.children[i],a=function OH(e,t){const r=e.filter(n=>al(n)===t);return r.push(...e.filter(n=>al(n)!==t)),r}(r,i);return this.processSegmentGroup(t,a,s,i)}),function LU(e,t){return Tn(function FU(e,t,r,n,o){return(i,s)=>{let a=r,l=t,c=0;i.subscribe(Ln(s,f=>{const h=c++;l=a?e(l,f,h):(a=!0,f),n&&s.next(l)},o&&(()=>{a&&s.next(l),s.complete()})))}}(e,t,arguments.length>=2,!0))}((i,s)=>(i.push(...s),i)),Tg(null),function $U(e,t){const r=arguments.length>=2;return n=>n.pipe(e?Ea((o,i)=>e(o,i,n)):or,eC(1),r?Tg(t):tM(()=>new Ig))}(),jn(i=>{if(null===i)return Md(n);const s=jM(i);return function y6(e){e.sort((t,r)=>t.value.outlet===En?-1:r.value.outlet===En?1:t.value.outlet.localeCompare(r.value.outlet))}(s),Ht(s)}))}processSegment(t,r,n,o,i,s){return Ir(r).pipe(yd(a=>this.processSegmentAgainstRoute(a._injector??t,r,a,n,o,i,s).pipe(Yc(l=>{if(l instanceof vC)return Ht(null);throw l}))),gc(a=>!!a),Yc(a=>{if($M(a))return function h6(e,t,r){return 0===t.length&&!e.children[r]}(n,o,i)?Ht(new m6):Md(n);throw a}))}processSegmentAgainstRoute(t,r,n,o,i,s,a){return function p6(e,t,r,n){return!!(al(e)===n||n!==En&&Bg(t,r,e))&&CC(t,e,r).matched}(n,o,i,s)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(t,o,n,i,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,r,n,i,s):Md(o):Md(o)}expandSegmentAgainstRouteUsingRedirect(t,r,n,o,i,s){const{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:f}=CC(r,o,i);if(!a)return Md(r);o.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const h=this.applyRedirects.applyRedirectCommands(l,o.redirectTo,c);return this.applyRedirects.lineralizeSegments(o,h).pipe(jn(g=>this.processSegment(t,n,r,g.concat(f),s,!1)))}matchSegmentAgainstRoute(t,r,n,o,i){const s=a6(r,n,o,t);return"**"===n.path&&(r.children={}),s.pipe(eo(a=>a.matched?this.getChildConfig(t=n._injector??t,n,o).pipe(eo(({routes:l})=>{const c=n._loadedInjector??t,{consumedSegments:f,remainingSegments:h,parameters:g}=a,b=new fC(f,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function C6(e){return e.data||{}}(n),al(n),n.component??n._loadedComponent??null,n,function S6(e){return e.resolve||{}}(n)),{segmentGroup:j,slicedSegments:ee}=VM(r,f,h,l);if(0===ee.length&&j.hasChildren())return this.processChildren(c,l,j).pipe(un(Ee=>null===Ee?null:new Ia(b,Ee)));if(0===l.length&&0===ee.length)return Ht(new Ia(b,[]));const ye=al(n)===i;return this.processSegment(c,l,j,ee,ye?En:i,!0).pipe(un(Ee=>new Ia(b,Ee instanceof Ia?[Ee]:[])))})):Md(r)))}getChildConfig(t,r,n){return r.children?Ht({routes:r.children,injector:t}):r.loadChildren?void 0!==r._loadedRoutes?Ht({routes:r._loadedRoutes,injector:r._loadedInjector}):function n6(e,t,r,n){const o=t.canLoad;return void 0===o||0===o.length?Ht(!0):Ht(o.map(s=>{const a=xd(s,e);return _c(function GH(e){return e&&Ip(e.canLoad)}(a)?a.canLoad(t,r):Ql(e,()=>a(t,r)))})).pipe(Td(),BM())}(t,r,n).pipe(jn(o=>o?this.configLoader.loadChildren(t,r).pipe(Ci(i=>{r._loadedRoutes=i.routes,r._loadedInjector=i.injector})):function i6(e){return xg(OM(!1,3))}())):Ht({routes:[],injector:t})}}function b6(e){const t=e.value.routeConfig;return t&&""===t.path}function jM(e){const t=[],r=new Set;for(const n of e){if(!b6(n)){t.push(n);continue}const o=t.find(i=>n.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...n.children),r.add(o)):t.push(n)}for(const n of r){const o=jM(n.children);t.push(new Ia(n.value,o))}return t.filter(n=>!r.has(n))}function GM(e){const t=e.children.map(r=>GM(r)).flat();return[e,...t]}function SC(e){return eo(t=>{const r=e(t);return r?Ir(r).pipe(un(()=>t)):Ht(t)})}let UM=(()=>{var e;class t{buildTitle(n){let o,i=n.root;for(;void 0!==i;)o=this.getResolvedTitleForRoute(i)??o,i=i.children.find(s=>s.outlet===En);return o}getResolvedTitleForRoute(n){return n.data[mp]}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:()=>rt(T6),providedIn:"root"}),t})(),T6=(()=>{var e;class t extends UM{constructor(n){super(),this.title=n}updateTitle(n){const o=this.buildTitle(n);void 0!==o&&this.title.setTitle(o)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(bT))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const Ad=new pt("",{providedIn:"root",factory:()=>({})}),kd=new pt("ROUTES");let wC=(()=>{var e;class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=rt(WI)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Ht(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const o=_c(n.loadComponent()).pipe(un(HM),Ci(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),fp(()=>{this.componentLoaders.delete(n)})),i=new JT(o,()=>new xn).pipe(Jb());return this.componentLoaders.set(n,i),i}loadChildren(n,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return Ht({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);const s=function M6(e,t,r,n){return _c(e.loadChildren()).pipe(un(HM),jn(o=>o instanceof cI||Array.isArray(o)?Ht(o):Ir(t.compileModuleAsync(o))),un(o=>{n&&n(e);let i,s,a=!1;return Array.isArray(o)?(s=o,!0):(i=o.create(r).injector,s=i.get(kd,[],{optional:!0,self:!0}).flat()),{routes:s.map(_C),injector:i}}))}(o,this.compiler,n,this.onLoadEndListener).pipe(fp(()=>{this.childrenLoaders.delete(o)})),a=new JT(s,()=>new xn).pipe(Jb());return this.childrenLoaders.set(o,a),a}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function HM(e){return function A6(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let DC=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:()=>rt(k6),providedIn:"root"}),t})(),k6=(()=>{var e;class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,o){return n}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const zM=new pt(""),WM=new pt("");function R6(e,t,r){const n=e.get(WM),o=e.get(si);return e.get(Ge).runOutsideAngular(()=>{if(!o.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,Promise.resolve();let i;const s=new Promise(c=>{i=c}),a=o.startViewTransition(()=>(i(),function P6(e){return new Promise(t=>{LD(t,{injector:e})})}(e))),{onViewTransitionCreated:l}=n;return l&&Ql(e,()=>l({transition:a,from:t,to:r})),s})}let Vg=(()=>{var e;class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new xn,this.transitionAbortSubject=new xn,this.configLoader=rt(wC),this.environmentInjector=rt(ii),this.urlSerializer=rt(Xc),this.rootContexts=rt(Jc),this.location=rt(uc),this.inputBindingEnabled=null!==rt(Fg,{optional:!0}),this.titleStrategy=rt(UM),this.options=rt(Ad,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=rt(DC),this.createViewTransition=rt(zM,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ht(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new vH(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new _H(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const o=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:o})}setupNavigations(n,o,i){return this.transitions=new po({id:0,currentUrlTree:o,currentRawUrl:o,extractedUrl:this.urlHandlingStrategy.extract(o),urlAfterRedirects:this.urlHandlingStrategy.extract(o),rawUrl:o,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:bp,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ea(s=>0!==s.id),un(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),eo(s=>{this.currentTransition=s;let a=!1,l=!1;return Ht(s).pipe(Ci(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),eo(c=>{const f=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!f&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const g="";return this.events.next(new Ed(c.id,this.urlSerializer.serialize(c.rawUrl),g,0)),c.resolve(null),xo}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Ht(c).pipe(eo(g=>{const b=this.transitions?.getValue();return this.events.next(new Cp(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),b!==this.transitions?.getValue()?xo:Promise.resolve(g)}),function w6(e,t,r,n,o,i){return jn(s=>function g6(e,t,r,n,o,i,s="emptyOnly"){return new v6(e,t,r,n,o,s,i).recognize()}(e,t,r,n,s.extractedUrl,o,i).pipe(un(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ci(g=>{s.targetSnapshot=g.targetSnapshot,s.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:g.urlAfterRedirects};const b=new wM(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(b)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:g,extractedUrl:b,source:j,restoredState:ee,extras:ye}=c,Ee=new Cp(g,this.urlSerializer.serialize(b),j,ee);this.events.next(Ee);const Ie=xM(0,this.rootComponentType).snapshot;return this.currentTransition=s={...c,targetSnapshot:Ie,urlAfterRedirects:b,extras:{...ye,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=b,Ht(s)}{const g="";return this.events.next(new Ed(c.id,this.urlSerializer.serialize(c.extractedUrl),g,1)),c.resolve(null),xo}}),Ci(c=>{const f=new pH(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(f)}),un(c=>(this.currentTransition=s={...c,guards:LH(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},s)),function qH(e,t){return jn(r=>{const{targetSnapshot:n,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=r;return 0===s.length&&0===i.length?Ht({...r,guardsResult:!0}):function YH(e,t,r,n){return Ir(e).pipe(jn(o=>function t6(e,t,r,n,o){const i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return i&&0!==i.length?Ht(i.map(a=>{const l=wp(t)??o,c=xd(a,l);return _c(function zH(e){return e&&Ip(e.canDeactivate)}(c)?c.canDeactivate(e,t,r,n):Ql(l,()=>c(e,t,r,n))).pipe(gc())})).pipe(Td()):Ht(!0)}(o.component,o.route,r,t,n)),gc(o=>!0!==o,!0))}(s,n,o,e).pipe(jn(a=>a&&function jH(e){return"boolean"==typeof e}(a)?function KH(e,t,r,n){return Ir(t).pipe(yd(o=>Qb(function QH(e,t){return null!==e&&t&&t(new yH(e)),Ht(!0)}(o.route.parent,n),function XH(e,t){return null!==e&&t&&t(new CH(e)),Ht(!0)}(o.route,n),function e6(e,t,r){const n=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(s=>function $H(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>QT(()=>Ht(s.guards.map(l=>{const c=wp(s.node)??r,f=xd(l,c);return _c(function HH(e){return e&&Ip(e.canActivateChild)}(f)?f.canActivateChild(n,e):Ql(c,()=>f(n,e))).pipe(gc())})).pipe(Td())));return Ht(i).pipe(Td())}(e,o.path,r),function JH(e,t,r){const n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||0===n.length)return Ht(!0);const o=n.map(i=>QT(()=>{const s=wp(t)??r,a=xd(i,s);return _c(function UH(e){return e&&Ip(e.canActivate)}(a)?a.canActivate(t,e):Ql(s,()=>a(t,e))).pipe(gc())}));return Ht(o).pipe(Td())}(e,o.route,r))),gc(o=>!0!==o,!0))}(n,i,e,t):Ht(a)),un(a=>({...r,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),Ci(c=>{if(s.guardsResult=c.guardsResult,Qc(c.guardsResult))throw PM(0,c.guardsResult);const f=new hH(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(f)}),Ea(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),SC(c=>{if(c.guards.canActivateChecks.length)return Ht(c).pipe(Ci(f=>{const h=new mH(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}),eo(f=>{let h=!1;return Ht(f).pipe(function D6(e,t){return jn(r=>{const{targetSnapshot:n,guards:{canActivateChecks:o}}=r;if(!o.length)return Ht(r);const i=new Set(o.map(l=>l.route)),s=new Set;for(const l of i)if(!s.has(l))for(const c of GM(l))s.add(c);let a=0;return Ir(s).pipe(yd(l=>i.has(l)?function E6(e,t,r,n){const o=e.routeConfig,i=e._resolve;return void 0!==o?.title&&!AM(o)&&(i[mp]=o.title),function I6(e,t,r,n){const o=tC(e);if(0===o.length)return Ht({});const i={};return Ir(o).pipe(jn(s=>function x6(e,t,r,n){const o=wp(t)??n,i=xd(e,o);return _c(i.resolve?i.resolve(t,r):Ql(o,()=>i(t,r)))}(e[s],t,r,n).pipe(gc(),Ci(a=>{i[s]=a}))),eC(1),nM(i),Yc(s=>$M(s)?xo:xg(s)))}(i,e,t,n).pipe(un(s=>(e._resolvedData=s,e.data=dC(e,e.parent,r).resolve,null)))}(l,n,e,t):(l.data=dC(l,l.parent,e).resolve,Ht(void 0))),Ci(()=>a++),eC(1),jn(l=>a===s.size?Ht(r):xo))})}(this.paramsInheritanceStrategy,this.environmentInjector),Ci({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(f,"",2)}}))}),Ci(f=>{const h=new gH(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}))}),SC(c=>{const f=h=>{const g=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(h.routeConfig).pipe(Ci(b=>{h.component=b}),un(()=>{})));for(const b of h.children)g.push(...f(b));return g};return Eg(f(c.targetSnapshot.root)).pipe(Tg(),Cd(1))}),SC(()=>this.afterPreactivation()),eo(()=>{const{currentSnapshot:c,targetSnapshot:f}=s,h=this.createViewTransition?.(this.environmentInjector,c.root,f.root);return h?Ir(h).pipe(un(()=>s)):Ht(s)}),un(c=>{const f=function IH(e,t,r){const n=Sp(e,t._root,r?r._root:void 0);return new IM(n,t)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s={...c,targetRouterState:f},this.currentNavigation.targetRouterState=f,s}),Ci(()=>{this.events.next(new aC)}),((e,t,r,n)=>un(o=>(new FH(t,o.targetRouterState,o.currentRouterState,r,n).activate(e),o)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Cd(1),Ci({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new kl(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),rM(this.transitionAbortSubject.pipe(Ci(c=>{throw c}))),fp(()=>{a||l||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Yc(c=>{if(l=!0,NM(c))this.events.next(new Dd(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),function MH(e){return NM(e)&&Qc(e.url)}(c)?this.events.next(new lC(c.url)):s.resolve(!1);else{this.events.next(new Ng(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(c))}catch(f){s.reject(f)}}return xo}))}))}cancelNavigationTransition(n,o,i){const s=new Dd(n.id,this.urlSerializer.serialize(n.extractedUrl),o,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function O6(e){return e!==bp}let ZM=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:()=>rt(F6),providedIn:"root"}),t})();class N6{shouldDetach(t){return!1}store(t,r){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,r){return t.routeConfig===r.routeConfig}}let F6=(()=>{var e;class t extends N6{}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=Yr(e)))(o||e)}})(),e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),qM=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:()=>rt(L6),providedIn:"root"}),t})(),L6=(()=>{var e;class t extends qM{constructor(){super(...arguments),this.location=rt(uc),this.urlSerializer=rt(Xc),this.options=rt(Ad,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=rt(DC),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new wd,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=xM(0,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(o=>{"popstate"===o.type&&n(o.url,o.state)})}handleRouterEvent(n,o){if(n instanceof Cp)this.stateMemento=this.createStateMemento();else if(n instanceof Ed)this.rawUrlTree=o.initialUrl;else if(n instanceof wM){if("eager"===this.urlUpdateStrategy&&!o.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl);this.setBrowserUrl(i,o)}}else n instanceof aC?(this.currentUrlTree=o.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o))):n instanceof Dd&&(3===n.code||2===n.code)?this.restoreHistory(o):n instanceof Ng?this.restoreHistory(o,!0):n instanceof kl&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,o){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||o.extras.replaceUrl){const a={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId)};this.location.replaceState(i,"",a)}else{const s={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,o=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&0===s&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,o){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:o}:{navigationId:n}}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=Yr(e)))(o||e)}})(),e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var xp=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(xp||{});function YM(e,t){e.events.pipe(Ea(r=>r instanceof kl||r instanceof Dd||r instanceof Ng||r instanceof Ed),un(r=>r instanceof kl||r instanceof Ed?xp.COMPLETE:r instanceof Dd&&(0===r.code||1===r.code)?xp.REDIRECTING:xp.FAILED),Ea(r=>r!==xp.REDIRECTING),Cd(1)).subscribe(()=>{t()})}function $6(e){throw e}const B6={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},V6={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Uo=(()=>{var e;class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=rt(zI),this.stateManager=rt(qM),this.options=rt(Ad,{optional:!0})||{},this.pendingTasks=rt(Zm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=rt(Vg),this.urlSerializer=rt(Xc),this.location=rt(uc),this.urlHandlingStrategy=rt(DC),this._events=new xn,this.errorHandler=this.options.errorHandler||$6,this.navigated=!1,this.routeReuseStrategy=rt(ZM),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=rt(kd,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!rt(Fg,{optional:!0}),this.eventsSubscription=new vt,this.isNgZoneEnabled=rt(Ge)instanceof Ge&&Ge.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(o=>{try{const i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==i&&null!==s)if(this.stateManager.handleRouterEvent(o,s),o instanceof Dd&&0!==o.code&&1!==o.code)this.navigated=!0;else if(o instanceof kl)this.navigated=!0;else if(o instanceof lC){const a=this.urlHandlingStrategy.merge(o.url,i.currentRawUrl),l={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||O6(i.source)};this.scheduleNavigation(a,bp,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function G6(e){return!(e instanceof aC||e instanceof lC)})(o)&&this._events.next(o)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),bp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,o)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",o)},0)}))}navigateToSyncWithBrowser(n,o,i){const s={replaceUrl:!0},a=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const l=this.parseUrl(n);this.scheduleNavigation(l,o,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(_C),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,o={}){const{relativeTo:i,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:c}=o,f=c?this.currentUrlTree.fragment:a;let g,h=null;switch(l){case"merge":h={...this.currentUrlTree.queryParams,...s};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}null!==h&&(h=this.removeEmptyProps(h));try{g=gM(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),g=this.currentUrlTree.root}return _M(g,n,h,f??null)}navigateByUrl(n,o={skipLocationChange:!1}){const i=Qc(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,bp,null,o)}navigate(n,o={skipLocationChange:!1}){return function j6(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new Xe(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,o),o)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,o){let i;if(i=!0===o?{...B6}:!1===o?{...V6}:o,Qc(n))return aM(this.currentUrlTree,n,i);const s=this.parseUrl(n);return aM(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((o,i)=>{const s=n[i];return null!=s&&(o[i]=s),o},{})}scheduleNavigation(n,o,i,s,a){if(this.disposed)return Promise.resolve(!1);let l,c,f;a?(l=a.resolve,c=a.reject,f=a.promise):f=new Promise((g,b)=>{l=g,c=b});const h=this.pendingTasks.add();return YM(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:l,reject:c,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(g=>Promise.reject(g))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class KM{}let z6=(()=>{var e;class t{preload(n,o){return o().pipe(Yc(()=>Ht(null)))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),W6=(()=>{var e;class t{constructor(n,o,i,s,a){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Ea(n=>n instanceof kl),yd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,o){const i=[];for(const s of o){s.providers&&!s._injector&&(s._injector=Gy(s.providers,n,`Route: ${s.path}`));const a=s._injector??n,l=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(l,s.children??s._loadedRoutes))}return Ir(i).pipe(Lo())}preloadConfig(n,o){return this.preloadingStrategy.preload(o,()=>{let i;i=o.loadChildren&&void 0===o.canLoad?this.loader.loadChildren(n,o):Ht(null);const s=i.pipe(jn(a=>null===a?Ht(void 0):(o._loadedRoutes=a.routes,o._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));return o.loadComponent&&!o._loadedComponent?Ir([s,this.loader.loadComponent(o)]).pipe(Lo()):s})}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Uo),ce(WI),ce(ii),ce(KM),ce(wC))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const EC=new pt("");let XM=(()=>{var e;class t{constructor(n,o,i,s,a={}){this.urlSerializer=n,this.transitions=o,this.viewportScroller=i,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Cp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof kl?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Ed&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof DM&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,o){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new DM(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(e=t).\u0275fac=function(n){!function fD(){throw new Error("invalid")}()},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();function ll(e,t){return{\u0275kind:e,\u0275providers:t}}function JM(){const e=rt(Kr);return t=>{const r=e.get(Sa);if(t!==r.components[0])return;const n=e.get(Uo),o=e.get(eA);1===e.get(IC)&&n.initialNavigation(),e.get(tA,null,Qe.Optional)?.setUpPreloading(),e.get(EC,null,Qe.Optional)?.init(),n.resetRootComponentType(r.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const eA=new pt("",{factory:()=>new xn}),IC=new pt("",{providedIn:"root",factory:()=>1}),tA=new pt("");function K6(e){return ll(0,[{provide:tA,useExisting:W6},{provide:KM,useExisting:e}])}function Q6(e){return ll(9,[{provide:zM,useValue:R6},{provide:WM,useValue:{skipNextTransition:!!e?.skipInitialTransition,...e}}])}const nA=new pt("ROUTER_FORROOT_GUARD"),J6=[uc,{provide:Xc,useClass:nC},Uo,Jc,{provide:sl,useFactory:function QM(e){return e.routerState.root},deps:[Uo]},wC,[]];let jg=(()=>{var e;class t{constructor(n){}static forRoot(n,o){return{ngModule:t,providers:[J6,[],{provide:kd,multi:!0,useValue:n},{provide:nA,useFactory:rz,deps:[[Uo,new $h,new Bh]]},{provide:Ad,useValue:o||{}},o?.useHash?{provide:nl,useClass:Nx}:{provide:nl,useClass:Ox},{provide:EC,useFactory:()=>{const e=rt(Gj),t=rt(Ge),r=rt(Ad),n=rt(Vg),o=rt(Xc);return r.scrollOffset&&e.setOffset(r.scrollOffset),new XM(o,n,e,t,r)}},o?.preloadingStrategy?K6(o.preloadingStrategy).\u0275providers:[],o?.initialNavigation?oz(o):[],o?.bindToComponentInputs?ll(8,[RM,{provide:Fg,useExisting:RM}]).\u0275providers:[],o?.enableViewTransitions?Q6().\u0275providers:[],[{provide:rA,useFactory:JM},{provide:ib,multi:!0,useExisting:rA}]]}}static forChild(n){return{ngModule:t,providers:[{provide:kd,multi:!0,useValue:n}]}}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(nA,8))},e.\u0275mod=io({type:e}),e.\u0275inj=lt({}),t})();function rz(e){return"guarded"}function oz(e){return["disabled"===e.initialNavigation?ll(3,[{provide:ip,multi:!0,useFactory:()=>{const t=rt(Uo);return()=>{t.setUpLocationChangeListener()}}},{provide:IC,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?ll(2,[{provide:IC,useValue:0},{provide:ip,multi:!0,deps:[Kr],useFactory:t=>{const r=t.get(w4,Promise.resolve());return()=>r.then(()=>new Promise(n=>{const o=t.get(Uo),i=t.get(eA);YM(o,()=>{n(!0)}),t.get(Vg).afterPreactivation=()=>(n(!0),i.closed?Ht(void 0):i),o.initialNavigation()}))}}]).\u0275providers:[]]}const rA=new pt("");class sz{constructor(){this.m=new Map}reset(t){this.m=new Map(Object.entries(t))}get(t,r){const n=this.m.get(t);return void 0!==n?n:r}getBoolean(t,r=!1){const n=this.m.get(t);return void 0===n?r:"string"==typeof n?"true"===n:!!n}getNumber(t,r){const n=parseFloat(this.m.get(t));return isNaN(n)?void 0!==r?r:NaN:n}set(t,r){this.m.set(t,r)}}const vc=new sz,sA=e=>lA(e),lA=(e=window)=>{if(typeof e>"u")return[];e.Ionic=e.Ionic||{};let t=e.Ionic.platforms;return null==t&&(t=e.Ionic.platforms=dz(e),t.forEach(r=>e.document.documentElement.classList.add(`plt-${r}`))),t},dz=e=>{const t=vc.get("platform");return Object.keys(pA).filter(r=>{const n=t?.[r];return"function"==typeof n?n(e):pA[r](e)})},xC=e=>!!(eu(e,/iPad/i)||eu(e,/Macintosh/i)&&Gg(e)),cA=e=>eu(e,/android|sink/i),Gg=e=>Cz(e,"(any-pointer:coarse)"),uA=e=>dA(e)||fA(e),dA=e=>!!(e.cordova||e.phonegap||e.PhoneGap),fA=e=>{const t=e.Capacitor;return!!t?.isNative},eu=(e,t)=>t.test(e.navigator.userAgent),Cz=(e,t)=>{var r;return null===(r=e.matchMedia)||void 0===r?void 0:r.call(e,t).matches},pA={ipad:xC,iphone:e=>eu(e,/iPhone/i),ios:e=>eu(e,/iPhone|iPod/i)||xC(e),android:cA,phablet:e=>{const t=e.innerWidth,r=e.innerHeight,n=Math.min(t,r),o=Math.max(t,r);return n>390&&n<520&&o>620&&o<800},tablet:e=>{const t=e.innerWidth,r=e.innerHeight,n=Math.min(t,r),o=Math.max(t,r);return xC(e)||(e=>cA(e)&&!eu(e,/mobile/i))(e)||n>460&&n<820&&o>780&&o<1400},cordova:dA,capacitor:fA,electron:e=>eu(e,/electron/i),pwa:e=>{var t;return!!(null!==(t=e.matchMedia)&&void 0!==t&&t.call(e,"(display-mode: standalone)").matches||e.navigator.standalone)},mobile:Gg,mobileweb:e=>Gg(e)&&!uA(e),desktop:e=>!Gg(e),hybrid:uA};var Mp=C(7687),Sz=C(276);const wz=["addListener","removeListener"],Dz=["addEventListener","removeEventListener"],Ez=["on","off"];function Ug(e,t,r,n){if(Te(r)&&(n=r,r=void 0),n)return Ug(e,t,r).pipe(Xb(n));const[o,i]=function Tz(e){return Te(e.addEventListener)&&Te(e.removeEventListener)}(e)?Dz.map(s=>a=>e[s](t,a,r)):function Iz(e){return Te(e.addListener)&&Te(e.removeListener)}(e)?wz.map(hA(e,t)):function xz(e){return Te(e.on)&&Te(e.off)}(e)?Ez.map(hA(e,t)):[];if(!o&&ct(e))return jn(s=>Ug(s,t,r))(A(e));if(!o)throw new TypeError("Invalid event target");return new Fn(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return o(a),()=>i(a)})}function hA(e,t){return r=>n=>e[r](t,n)}let mA=(()=>{var e;class t{constructor(n,o){this._renderer=n,this._elementRef=o,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,o){this._renderer.setProperty(this._elementRef.nativeElement,n,o)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Dl),_(tt))},e.\u0275dir=Lt({type:e}),t})(),tu=(()=>{var e;class t extends mA{}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=Yr(e)))(o||e)}})(),e.\u0275dir=Lt({type:e,features:[bn]}),t})();const Oi=new pt("NgValueAccessor"),kz={provide:Oi,useExisting:Wn(()=>TC),multi:!0},Pz=new pt("CompositionEventMode");let TC=(()=>{var e;class t extends mA{constructor(n,o,i){super(n,o),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Rz(){const e=cc()?cc().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Dl),_(tt),_(Pz,8))},e.\u0275dir=Lt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,o){1&n&&Ne("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},features:[hr([kz]),bn]}),t})();function yc(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function _A(e){return null!=e&&"number"==typeof e.length}const ai=new pt("NgValidators"),bc=new pt("NgAsyncValidators"),Oz=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ap{static min(t){return vA(t)}static max(t){return yA(t)}static required(t){return function bA(e){return yc(e.value)?{required:!0}:null}(t)}static requiredTrue(t){return function CA(e){return!0===e.value?null:{required:!0}}(t)}static email(t){return function SA(e){return yc(e.value)||Oz.test(e.value)?null:{email:!0}}(t)}static minLength(t){return function wA(e){return t=>yc(t.value)||!_A(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static maxLength(t){return DA(t)}static pattern(t){return function EA(e){if(!e)return Hg;let t,r;return"string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),t=new RegExp(r)):(r=e.toString(),t=e),n=>{if(yc(n.value))return null;const o=n.value;return t.test(o)?null:{pattern:{requiredPattern:r,actualValue:o}}}}(t)}static nullValidator(t){return null}static compose(t){return kA(t)}static composeAsync(t){return RA(t)}}function vA(e){return t=>{if(yc(t.value)||yc(e))return null;const r=parseFloat(t.value);return!isNaN(r)&&r<e?{min:{min:e,actual:t.value}}:null}}function yA(e){return t=>{if(yc(t.value)||yc(e))return null;const r=parseFloat(t.value);return!isNaN(r)&&r>e?{max:{max:e,actual:t.value}}:null}}function DA(e){return t=>_A(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}function Hg(e){return null}function IA(e){return null!=e}function xA(e){return Jf(e)?Ir(e):e}function TA(e){let t={};return e.forEach(r=>{t=null!=r?{...t,...r}:t}),0===Object.keys(t).length?null:t}function MA(e,t){return t.map(r=>r(e))}function AA(e){return e.map(t=>function Nz(e){return!e.validate}(t)?t:r=>t.validate(r))}function kA(e){if(!e)return null;const t=e.filter(IA);return 0==t.length?null:function(r){return TA(MA(r,t))}}function MC(e){return null!=e?kA(AA(e)):null}function RA(e){if(!e)return null;const t=e.filter(IA);return 0==t.length?null:function(r){return function Mz(...e){const t=ia(e),{args:r,keys:n}=YT(e),o=new Fn(i=>{const{length:s}=r;if(!s)return void i.complete();const a=new Array(s);let l=s,c=s;for(let f=0;f<s;f++){let h=!1;A(r[f]).subscribe(Ln(i,g=>{h||(h=!0,c--),a[f]=g},()=>l--,void 0,()=>{(!l||!h)&&(c||i.next(n?KT(n,a):a),i.complete())}))}});return t?o.pipe(Xb(t)):o}(MA(r,t).map(xA)).pipe(un(TA))}}function AC(e){return null!=e?RA(AA(e)):null}function PA(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function OA(e){return e._rawValidators}function NA(e){return e._rawAsyncValidators}function kC(e){return e?Array.isArray(e)?e:[e]:[]}function zg(e,t){return Array.isArray(e)?e.includes(t):e===t}function FA(e,t){const r=kC(t);return kC(e).forEach(o=>{zg(r,o)||r.push(o)}),r}function LA(e,t){return kC(t).filter(r=>!zg(e,r))}class $A{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=MC(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=AC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,r){return!!this.control&&this.control.hasError(t,r)}getError(t,r){return this.control?this.control.getError(t,r):null}}class Ni extends $A{get formDirective(){return null}get path(){return null}}class Rl extends $A{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class BA{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Pl=(()=>{var e;class t extends BA{constructor(n){super(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Rl,2))},e.\u0275dir=Lt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,o){2&n&&qs("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[bn]}),t})(),Ol=(()=>{var e;class t extends BA{constructor(n){super(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Ni,10))},e.\u0275dir=Lt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,o){2&n&&qs("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[bn]}),t})();const kp="VALID",Zg="INVALID",Pd="PENDING",Rp="DISABLED";function OC(e){return(qg(e)?e.validators:e)||null}function NC(e,t){return(qg(t)?t.asyncValidators:e)||null}function qg(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class UA{constructor(t,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===kp}get invalid(){return this.status===Zg}get pending(){return this.status==Pd}get disabled(){return this.status===Rp}get enabled(){return this.status!==Rp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(FA(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(FA(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(LA(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(LA(t,this._rawAsyncValidators))}hasValidator(t){return zg(this._rawValidators,t)}hasAsyncValidator(t){return zg(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Pd,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const r=this._parentMarkedDirty(t.onlySelf);this.status=Rp,this.errors=null,this._forEachChild(n=>{n.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:r}),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){const r=this._parentMarkedDirty(t.onlySelf);this.status=kp,this._forEachChild(n=>{n.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:r}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===kp||this.status===Pd)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Rp:kp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Pd,this._hasOwnPendingAsyncValidator=!0;const r=xA(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,r={}){this.errors=t,this._updateControlsErrors(!1!==r.emitEvent)}get(t){let r=t;return null==r||(Array.isArray(r)||(r=r.split(".")),0===r.length)?null:r.reduce((n,o)=>n&&n._find(o),this)}getError(t,r){const n=r?this.get(r):this;return n&&n.errors?n.errors[t]:null}hasError(t,r){return!!this.getError(t,r)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new on,this.statusChanges=new on}_calculateStatus(){return this._allControlsDisabled()?Rp:this.errors?Zg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pd)?Pd:this._anyControlsHaveStatus(Zg)?Zg:kp}_anyControlsHaveStatus(t){return this._anyControls(r=>r.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){qg(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function Bz(e){return Array.isArray(e)?MC(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function Vz(e){return Array.isArray(e)?AC(e):e||null}(this._rawAsyncValidators)}}class Cc extends UA{constructor(t,r,n){super(OC(r),NC(n,r)),this.controls=t,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,r){return this.controls[t]?this.controls[t]:(this.controls[t]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(t,r,n={}){this.registerControl(t,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(t,r,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],r&&this.registerControl(t,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,r={}){(function GA(e,t,r){e._forEachChild((n,o)=>{if(void 0===r[o])throw new Xe(1002,"")})})(this,0,t),Object.keys(t).forEach(n=>{(function jA(e,t,r){const n=e.controls;if(!(t?Object.keys(n):n).length)throw new Xe(1e3,"");if(!n[r])throw new Xe(1001,"")})(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(t,r={}){null!=t&&(Object.keys(t).forEach(n=>{const o=this.controls[n];o&&o.patchValue(t[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(t={},r={}){this._forEachChild((n,o)=>{n.reset(t?t[o]:null,{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(t,r,n)=>(t[n]=r.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(r,n)=>!!n._syncPendingControls()||r);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(r=>{const n=this.controls[r];n&&t(n,r)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[r,n]of Object.entries(this.controls))if(this.contains(r)&&t(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(r,n,o)=>((n.enabled||this.disabled)&&(r[o]=n.value),r))}_reduceChildren(t,r){let n=t;return this._forEachChild((o,i)=>{n=r(n,o,i)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const Yg=Cc,nu=new pt("CallSetDisabledState",{providedIn:"root",factory:()=>Pp}),Pp="always";function Op(e,t,r=Pp){FC(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===r)&&t.valueAccessor.setDisabledState?.(e.disabled),function Uz(e,t){t.valueAccessor.registerOnChange(r=>{e._pendingValue=r,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&HA(e,t)})}(e,t),function zz(e,t){const r=(n,o)=>{t.valueAccessor.writeValue(n),o&&t.viewToModelUpdate(n)};e.registerOnChange(r),t._registerOnDestroy(()=>{e._unregisterOnChange(r)})}(e,t),function Hz(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&HA(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function Gz(e,t){if(t.valueAccessor.setDisabledState){const r=n=>{t.valueAccessor.setDisabledState(n)};e.registerOnDisabledChange(r),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(r)})}}(e,t)}function Xg(e,t,r=!0){const n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),Jg(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Qg(e,t){e.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(t)})}function FC(e,t){const r=OA(e);null!==t.validator?e.setValidators(PA(r,t.validator)):"function"==typeof r&&e.setValidators([r]);const n=NA(e);null!==t.asyncValidator?e.setAsyncValidators(PA(n,t.asyncValidator)):"function"==typeof n&&e.setAsyncValidators([n]);const o=()=>e.updateValueAndValidity();Qg(t._rawValidators,o),Qg(t._rawAsyncValidators,o)}function Jg(e,t){let r=!1;if(null!==e){if(null!==t.validator){const o=OA(e);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==t.validator);i.length!==o.length&&(r=!0,e.setValidators(i))}}if(null!==t.asyncValidator){const o=NA(e);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==t.asyncValidator);i.length!==o.length&&(r=!0,e.setAsyncValidators(i))}}}const n=()=>{};return Qg(t._rawValidators,n),Qg(t._rawAsyncValidators,n),r}function HA(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function ZA(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}function qA(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const ls=class extends UA{constructor(t=null,r,n){super(OC(r),NC(n,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),qg(r)&&(r.nonNullable||r.initialValueIsDefault)&&(this.defaultValue=qA(t)?t.value:t)}setValue(t,r={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==r.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==r.emitViewToModelChange)),this.updateValueAndValidity(r)}patchValue(t,r={}){this.setValue(t,r)}reset(t=this.defaultValue,r={}){this._applyFormState(t),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){ZA(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){ZA(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){qA(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Ho=ls;let Nl=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=Lt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),ek=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=lt({}),t})();const jC=new pt("NgModelWithFormControlWarning"),i5={provide:Ni,useExisting:Wn(()=>xa)};let xa=(()=>{var e;class t extends Ni{constructor(n,o,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new on,this._setValidators(n),this._setAsyncValidators(o)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Jg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const o=this.form.get(n.path);return Op(o,n,this.callSetDisabledState),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),o}getControl(n){return this.form.get(n.path)}removeControl(n){Xg(n.control||null,n,!1),function Yz(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,o){this.form.get(n.path).setValue(o)}onSubmit(n){return this.submitted=!0,function WA(e,t){e._syncPendingControls(),t.forEach(r=>{const n=r.control;"submit"===n.updateOn&&n._pendingChange&&(r.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const o=n.control,i=this.form.get(n.path);o!==i&&(Xg(o||null,n),(e=>e instanceof ls)(i)&&(Op(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const o=this.form.get(n.path);(function zA(e,t){FC(e,t)})(o,n),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const o=this.form.get(n.path);o&&function Wz(e,t){return Jg(e,t)}(o,n)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){FC(this.form,this),this._oldForm&&Jg(this._oldForm,this)}_checkFormPresent(){}}return(e=t).\u0275fac=function(n){return new(n||e)(_(ai,10),_(bc,10),_(nu,8))},e.\u0275dir=Lt({type:e,selectors:[["","formGroup",""]],hostBindings:function(n,o){1&n&&Ne("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[hr([i5]),bn,vi]}),t})();const l5={provide:Rl,useExisting:Wn(()=>cl)};let cl=(()=>{var e;class t extends Rl{set isDisabled(n){}constructor(n,o,i,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new on,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(o),this._setAsyncValidators(i),this.valueAccessor=function BC(e,t){if(!t)return null;let r,n,o;return Array.isArray(t),t.forEach(i=>{i.constructor===TC?r=i:function qz(e){return Object.getPrototypeOf(e.constructor)===tu}(i)?n=i:o=i}),o||n||r||null}(0,s)}ngOnChanges(n){this._added||this._setUpControl(),function $C(e,t){if(!e.hasOwnProperty("model"))return!1;const r=e.model;return!!r.isFirstChange()||!Object.is(t,r.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function Kg(e,t){return[...t.path,e]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(e=t)._ngModelWarningSentOnce=!1,e.\u0275fac=function(n){return new(n||e)(_(Ni,13),_(ai,10),_(bc,10),_(Oi,10),_(jC,8))},e.\u0275dir=Lt({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[hr([l5]),bn,vi]}),t})();function lk(e){return"number"==typeof e?e:parseFloat(e)}let ru=(()=>{var e;class t{constructor(){this._validator=Hg}ngOnChanges(n){if(this.inputName in n){const o=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(o),this._validator=this._enabled?this.createValidator(o):Hg,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=Lt({type:e,features:[vi]}),t})();const m5={provide:ai,useExisting:Wn(()=>WC),multi:!0};let WC=(()=>{var e;class t extends ru{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=n=>lk(n),this.createValidator=n=>yA(n)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=Yr(e)))(o||e)}})(),e.\u0275dir=Lt({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(n,o){2&n&&Is("max",o._enabled?o.max:null)},inputs:{max:"max"},features:[hr([m5]),bn]}),t})();const g5={provide:ai,useExisting:Wn(()=>ZC),multi:!0};let ZC=(()=>{var e;class t extends ru{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>lk(n),this.createValidator=n=>vA(n)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=Yr(e)))(o||e)}})(),e.\u0275dir=Lt({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(n,o){2&n&&Is("min",o._enabled?o.min:null)},inputs:{min:"min"},features:[hr([g5]),bn]}),t})();const C5={provide:ai,useExisting:Wn(()=>YC),multi:!0};let YC=(()=>{var e;class t extends ru{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=n=>function ak(e){return"number"==typeof e?e:parseInt(e,10)}(n),this.createValidator=n=>DA(n)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=Yr(e)))(o||e)}})(),e.\u0275dir=Lt({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(n,o){2&n&&Is("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},features:[hr([C5]),bn]}),t})(),pk=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=lt({imports:[ek]}),t})(),ou=(()=>{var e;class t{static withConfig(n){return{ngModule:t,providers:[{provide:nu,useValue:n.callSetDisabledState??Pp}]}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=lt({imports:[pk]}),t})(),e_=(()=>{var e;class t{static withConfig(n){return{ngModule:t,providers:[{provide:jC,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:nu,useValue:n.callSetDisabledState??Pp}]}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=lt({imports:[pk]}),t})();const D5=["tabsInner"];let E5=(()=>{class e{constructor(r,n){this.doc=r,this.backButton=new xn,this.keyboardDidShow=new xn,this.keyboardDidHide=new xn,this.pause=new xn,this.resume=new xn,this.resize=new xn,n.run(()=>{let o;this.win=r.defaultView,this.backButton.subscribeWithPriority=function(i,s){return this.subscribe(a=>a.register(i,l=>n.run(()=>s(l))))},Od(this.pause,r,"pause",n),Od(this.resume,r,"resume",n),Od(this.backButton,r,"ionBackButton",n),Od(this.resize,this.win,"resize",n),Od(this.keyboardDidShow,this.win,"ionKeyboardDidShow",n),Od(this.keyboardDidHide,this.win,"ionKeyboardDidHide",n),this._readyPromise=new Promise(i=>{o=i}),this.win?.cordova?r.addEventListener("deviceready",()=>{o("cordova")},{once:!0}):o("dom")})}is(r){return((e,t)=>("string"==typeof e&&(t=e,e=void 0),sA(e).includes(t)))(this.win,r)}platforms(){return sA(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(r){return I5(this.win.location.href,r)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia?.("(orientation: portrait)").matches}testUserAgent(r){const n=this.win.navigator;return!!(n?.userAgent&&n.userAgent.indexOf(r)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return e.\u0275fac=function(r){return new(r||e)(ce(si),ce(Ge))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const I5=(e,t)=>{t=t.replace(/[[\]\\]/g,"\\$&");const n=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return n?decodeURIComponent(n[1].replace(/\+/g," ")):null},Od=(e,t,r,n)=>{t&&t.addEventListener(r,o=>{n.run(()=>{const i=o?.detail;e.next(i)})})};let Nd=(()=>{class e{constructor(r,n,o,i){this.location=n,this.serializer=o,this.router=i,this.direction=hk,this.animated=mk,this.guessDirection="forward",this.lastNavId=-1,i&&i.events.subscribe(s=>{if(s instanceof Cp){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=a<this.lastNavId?"back":"forward",this.guessAnimation=s.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?s.id:a}}),r.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(r,n={}){return this.setDirection("forward",n.animated,n.animationDirection,n.animation),this.navigate(r,n)}navigateBack(r,n={}){return this.setDirection("back",n.animated,n.animationDirection,n.animation),this.navigate(r,n)}navigateRoot(r,n={}){return this.setDirection("root",n.animated,n.animationDirection,n.animation),this.navigate(r,n)}back(r={animated:!0,animationDirection:"back"}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.location.back()}pop(){var r=this;return(0,V.Z)(function*(){let n=r.topOutlet;for(;n;){if(yield n.pop())return!0;n=n.parentOutlet}return!1})()}setDirection(r,n,o,i){this.direction=r,this.animated=x5(r,n,o),this.animationBuilder=i}setTopOutlet(r){this.topOutlet=r}consumeTransition(){let n,r="root";const o=this.animationBuilder;return"auto"===this.direction?(r=this.guessDirection,n=this.guessAnimation):(n=this.animated,r=this.direction),this.direction=hk,this.animated=mk,this.animationBuilder=void 0,{direction:r,animation:n,animationBuilder:o}}navigate(r,n){if(Array.isArray(r))return this.router.navigate(r,n);{const o=this.serializer.parse(r.toString());return void 0!==n.queryParams&&(o.queryParams={...n.queryParams}),void 0!==n.fragment&&(o.fragment=n.fragment),this.router.navigateByUrl(o,n)}}}return e.\u0275fac=function(r){return new(r||e)(ce(E5),ce(uc),ce(Xc),ce(Uo,8))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const x5=(e,t,r)=>{if(!1!==t){if(void 0!==r)return r;if("forward"===e||"back"===e)return e;if("root"===e&&!0===t)return"forward"}},hk="auto",mk=void 0;let Fp=(()=>{class e{get(r,n){const o=KC();return o?o.get(r,n):null}getBoolean(r,n){const o=KC();return!!o&&o.getBoolean(r,n)}getNumber(r,n){const o=KC();return o?o.getNumber(r,n):0}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const gk=new pt("USERCONFIG"),KC=()=>{if(typeof window<"u"){const e=window.Ionic;if(e?.config)return e.config}return null};class _k{constructor(t={}){this.data=t}get(t){return this.data[t]}}let Lp=(()=>{class e{constructor(){this.zone=rt(Ge),this.applicationRef=rt(Sa)}create(r,n,o){return new T5(r,n,this.applicationRef,this.zone,o)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),e})();class T5{constructor(t,r,n,o,i){this.environmentInjector=t,this.injector=r,this.applicationRef=n,this.zone=o,this.elementReferenceKey=i,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(t,r,n,o){return this.zone.run(()=>new Promise(i=>{const s={...n};void 0!==this.elementReferenceKey&&(s[this.elementReferenceKey]=t),i(M5(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,t,r,s,o,this.elementReferenceKey))}))}removeViewFromDom(t,r){return this.zone.run(()=>new Promise(n=>{const o=this.elRefMap.get(r);if(o){o.destroy(),this.elRefMap.delete(r);const i=this.elEventsMap.get(r);i&&(i(),this.elEventsMap.delete(r))}n()}))}}const M5=(e,t,r,n,o,i,s,a,l,c,f)=>{const g=function b4(e,t){const r=_n(e),n=t.elementInjector||Hh();return new Ff(r).create(n,t.projectableNodes,t.hostElement,t.environmentInjector)}(a,{environmentInjector:t,elementInjector:Kr.create({providers:k5(l),parent:r})}),b=g.instance,j=g.location.nativeElement;if(l&&(f&&void 0!==b[f]&&console.error(`[Ionic Error]: ${f} is a reserved property when using ${s.tagName.toLowerCase()}. Rename or remove the "${f}" property from ${a.name}.`),Object.assign(b,l)),c)for(const ye of c)j.classList.add(ye);const ee=vk(e,b,j);return s.appendChild(j),n.attachView(g.hostView),o.set(j,g),i.set(j,ee),j},A5=[Mp.L,Mp.a,Mp.b,Mp.c,Mp.d],vk=(e,t,r)=>e.run(()=>{const n=A5.filter(o=>"function"==typeof t[o]).map(o=>{const i=s=>t[o](s.detail);return r.addEventListener(o,i),()=>r.removeEventListener(o,i)});return()=>n.forEach(o=>o())}),yk=new pt("NavParamsToken"),k5=e=>[{provide:yk,useValue:e},{provide:_k,useFactory:R5,deps:[yk]}],R5=e=>new _k(e),P5=(e,t)=>{const r=e.prototype;t.forEach(n=>{Object.defineProperty(r,n,{get(){return this.el[n]},set(o){this.z.runOutsideAngular(()=>this.el[n]=o)}})})},O5=(e,t)=>{const r=e.prototype;t.forEach(n=>{r[n]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[n].apply(this.el,o))}})};function t_(e){return function(r){const{defineCustomElementFn:n,inputs:o,methods:i}=e;return void 0!==n&&n(),o&&P5(r,o),i&&O5(r,i),r}}const bk=(e,t)=>((e=e.filter(r=>r.stackId!==t.stackId)).push(t),e),QC=(e,t)=>{const r=e.createUrlTree(["."],{relativeTo:t});return e.serializeUrl(r)},Ck=(e,t)=>!t||e.stackId!==t.stackId,H5=(e,t)=>{if(!e)return;const r=Sk(t);for(let n=0;n<r.length;n++){if(n>=e.length)return r[n];if(r[n]!==e[n])return}},Sk=e=>e.split("/").map(t=>t.trim()).filter(t=>""!==t),wk=e=>{e&&(e.ref.destroy(),e.unlistenEvents())};class z5{constructor(t,r,n,o,i,s){this.containerEl=r,this.router=n,this.navCtrl=o,this.zone=i,this.location=s,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==t?Sk(t):void 0}createView(t,r){const n=QC(this.router,r),o=t?.location?.nativeElement,i=vk(this.zone,t.instance,o);return{id:this.nextId++,stackId:H5(this.tabsPrefix,n),unlistenEvents:i,element:o,ref:t,url:n}}getExistingView(t){const r=QC(this.router,t),n=this.views.find(o=>o.url===r);return n&&n.ref.changeDetectorRef.reattach(),n}setActive(t){const r=this.navCtrl.consumeTransition();let{direction:n,animation:o,animationBuilder:i}=r;const s=this.activeView,a=Ck(t,s);a&&(n="back",o=void 0);const l=this.views.slice();let c;const f=this.router;f.getCurrentNavigation?c=f.getCurrentNavigation():f.navigations?.value&&(c=f.navigations.value),c?.extras?.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const h=this.views.includes(t),g=this.insertView(t,n);h||t.ref.changeDetectorRef.detectChanges();const b=t.animationBuilder;return void 0===i&&"back"===n&&!a&&void 0!==b&&(i=b),s&&(s.animationBuilder=i),this.zone.runOutsideAngular(()=>this.wait(()=>(s&&s.ref.changeDetectorRef.detach(),t.ref.changeDetectorRef.reattach(),this.transition(t,s,o,this.canGoBack(1),!1,i).then(()=>W5(t,g,l,this.location,this.zone)).then(()=>({enteringView:t,direction:n,animation:o,tabSwitch:a})))))}canGoBack(t,r=this.getActiveStackId()){return this.getStack(r).length>t}pop(t,r=this.getActiveStackId()){return this.zone.run(()=>{const n=this.getStack(r);if(n.length<=t)return Promise.resolve(!1);const o=n[n.length-t-1];let i=o.url;const s=o.savedData;if(s){const l=s.get("primary");l?.route?._routerState?.snapshot.url&&(i=l.route._routerState.snapshot.url)}const{animationBuilder:a}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(i,{...o.savedExtras,animation:a}).then(()=>!0)})}startBackTransition(){const t=this.activeView;if(t){const r=this.getStack(t.stackId),n=r[r.length-2],o=n.animationBuilder;return this.wait(()=>this.transition(n,t,"back",this.canGoBack(2),!0,o))}return Promise.resolve()}endBackTransition(t){t?(this.skipTransition=!0,this.pop(1)):this.activeView&&Dk(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(t){const r=this.getStack(t);return r.length>0?r[r.length-1]:void 0}getRootUrl(t){const r=this.getStack(t);return r.length>0?r[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(wk),this.activeView=void 0,this.views=[]}getStack(t){return this.views.filter(r=>r.stackId===t)}insertView(t,r){return this.activeView=t,this.views=((e,t,r)=>"root"===r?bk(e,t):"forward"===r?((e,t)=>(e.indexOf(t)>=0?e=e.filter(n=>n.stackId!==t.stackId||n.id<=t.id):e.push(t),e))(e,t):((e,t)=>e.indexOf(t)>=0?e.filter(n=>n.stackId!==t.stackId||n.id<=t.id):bk(e,t))(e,t))(this.views,t,r),this.views.slice()}transition(t,r,n,o,i,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(r===t)return Promise.resolve(!1);const a=t?t.element:void 0,l=r?r.element:void 0,c=this.containerEl;return a&&a!==l&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),a.parentElement!==c&&c.appendChild(a),c.commit)?c.commit(a,l,{duration:void 0===n?0:void 0,direction:n,showGoBack:o,progressAnimation:i,animationBuilder:s}):Promise.resolve(!1)}wait(t){var r=this;return(0,V.Z)(function*(){void 0!==r.runningTask&&(yield r.runningTask,r.runningTask=void 0);const n=r.runningTask=t();return n.finally(()=>r.runningTask=void 0),n})()}}const W5=(e,t,r,n,o)=>"function"==typeof requestAnimationFrame?new Promise(i=>{requestAnimationFrame(()=>{Dk(e,t,r,n,o),i()})}):Promise.resolve(),Dk=(e,t,r,n,o)=>{o.run(()=>r.filter(i=>!t.includes(i)).forEach(wk)),t.forEach(i=>{const a=n.path().split("?")[0].split("#")[0];if(i!==e&&i.url!==a){const l=i.element;l.setAttribute("aria-hidden","true"),l.classList.add("ion-page-hidden"),i.ref.changeDetectorRef.detach()}})};let Ek=(()=>{class e{constructor(r,n,o,i,s,a,l,c){this.parentOutlet=c,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new po(null),this.activated=null,this._activatedRoute=null,this.name=En,this.stackWillChange=new on,this.stackDidChange=new on,this.activateEvents=new on,this.deactivateEvents=new on,this.parentContexts=rt(Jc),this.location=rt(ss),this.environmentInjector=rt(ii),this.inputBinder=rt(Ik,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=rt(Fp),this.navCtrl=rt(Nd),this.nativeEl=i.nativeElement,this.name=r||En,this.tabsPrefix="true"===n?QC(s,l):void 0,this.stackCtrl=new z5(this.tabsPrefix,this.nativeEl,s,this.navCtrl,a,o),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(r){this.nativeEl.animation=r}set animated(r){this.nativeEl.animated=r}set swipeGesture(r){this._swipeGesture=r,this.nativeEl.swipeHandler=r?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:n=>this.stackCtrl.endBackTransition(n)}:void 0}ngOnDestroy(){this.stackCtrl.destroy(),this.inputBinder?.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const r=this.getContext();r?.route&&this.activateWith(r.route,r.injector)}new Promise(r=>(0,Sz.c)(this.nativeEl,r)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(r,n){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const n=this.getContext();this.activatedView.savedData=new Map(n.children.contexts);const o=this.activatedView.savedData.get("primary");if(o&&n.route&&(o.route={...n.route}),this.activatedView.savedExtras={},n.route){const i=n.route.snapshot;this.activatedView.savedExtras.queryParams=i.queryParams,this.activatedView.savedExtras.fragment=i.fragment}}const r=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,n){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=r;let o,i=this.stackCtrl.getExistingView(r);if(i){o=this.activated=i.ref;const a=i.savedData;a&&(this.getContext().children.contexts=a),this.updateActivatedRouteProxy(o.instance,r)}else{const a=r._futureSnapshot,l=this.parentContexts.getOrCreateContext(this.name).children,c=new po(null),f=this.createActivatedRouteProxy(c,r),h=new Z5(f,l,this.location.injector);o=this.activated=this.location.createComponent(a.routeConfig.component??a.component,{index:this.location.length,injector:h,environmentInjector:n??this.environmentInjector}),c.next(o.instance),i=this.stackCtrl.createView(this.activated,r),this.proxyMap.set(o.instance,f),this.currentActivatedRoute$.next({component:o.instance,activatedRoute:r})}this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activatedView=i,this.navCtrl.setTopOutlet(this);const s=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:i,tabSwitch:Ck(i,s)}),this.stackCtrl.setActive(i).then(a=>{this.activateEvents.emit(o.instance),this.stackDidChange.emit(a)})}canGoBack(r=1,n){return this.stackCtrl.canGoBack(r,n)}pop(r=1,n){return this.stackCtrl.pop(r,n)}getLastUrl(r){const n=this.stackCtrl.getLastUrl(r);return n?n.url:void 0}getLastRouteView(r){return this.stackCtrl.getLastUrl(r)}getRootView(r){return this.stackCtrl.getRootUrl(r)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(r,n){const o=new sl;return o._futureSnapshot=n._futureSnapshot,o._routerState=n._routerState,o.snapshot=n.snapshot,o.outlet=n.outlet,o.component=n.component,o._paramMap=this.proxyObservable(r,"paramMap"),o._queryParamMap=this.proxyObservable(r,"queryParamMap"),o.url=this.proxyObservable(r,"url"),o.params=this.proxyObservable(r,"params"),o.queryParams=this.proxyObservable(r,"queryParams"),o.fragment=this.proxyObservable(r,"fragment"),o.data=this.proxyObservable(r,"data"),o}proxyObservable(r,n){return r.pipe(Ea(o=>!!o),eo(o=>this.currentActivatedRoute$.pipe(Ea(i=>null!==i&&i.component===o),eo(i=>i&&i.activatedRoute[n]),Vs())))}updateActivatedRouteProxy(r,n){const o=this.proxyMap.get(r);if(!o)throw new Error("Could not find activated route proxy for view");o._futureSnapshot=n._futureSnapshot,o._routerState=n._routerState,o.snapshot=n.snapshot,o.outlet=n.outlet,o.component=n.component,this.currentActivatedRoute$.next({component:r,activatedRoute:n})}}return e.\u0275fac=function(r){return new(r||e)(Xl("name"),Xl("tabs"),_(uc),_(tt),_(Uo),_(Ge),_(sl),_(e,12))},e.\u0275dir=Lt({type:e,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class Z5{constructor(t,r,n){this.route=t,this.childContexts=r,this.parent=n}get(t,r){return t===sl?this.route:t===Jc?this.childContexts:this.parent.get(t,r)}}const Ik=new pt("");let q5=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:n}=r,o=Eg([n.queryParams,n.params,n.data]).pipe(eo(([i,s,a],l)=>(a={...i,...s,...a},0===l?Ht(a):Promise.resolve(a)))).subscribe(i=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==n||null===n.component)return void this.unsubscribeFromRouteData(r);const s=kx(n.component);if(s)for(const{templateName:a}of s.inputs)r.activatedComponentRef.setInput(a,i[a]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,o)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),e})();function K5(e){return e?.componentInputBindingEnabled?new q5:null}const X5=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let Q5=(()=>{let e=class{constructor(r,n,o,i,s,a){this.routerOutlet=r,this.navCtrl=n,this.config=o,this.r=i,this.z=s,a.detach(),this.el=this.r.nativeElement}onClick(r){const n=this.defaultHref||this.config.get("backButtonDefaultHref");this.routerOutlet?.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),r.preventDefault()):null!=n&&(this.navCtrl.navigateBack(n,{animation:this.routerAnimation}),r.preventDefault())}};return e.\u0275fac=function(r){return new(r||e)(_(Ek,8),_(Nd),_(Fp),_(tt),_(Ge),_(dt))},e.\u0275dir=Lt({type:e,hostBindings:function(r,n){1&r&&Ne("click",function(i){return n.onClick(i)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}}),e=ne([t_({inputs:X5})],e),e})();const t8=["animated","animation","root","rootParams","swipeGesture"],n8=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let r8=(()=>{let e=class{constructor(r,n,o,i,s,a){this.z=s,a.detach(),this.el=r.nativeElement,r.nativeElement.delegate=i.create(n,o),((e,t,r)=>{r.forEach(n=>e[n]=Ug(t,n))})(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return e.\u0275fac=function(r){return new(r||e)(_(tt),_(ii),_(Kr),_(Lp),_(Ge),_(dt))},e.\u0275dir=Lt({type:e,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}}),e=ne([t_({inputs:t8,methods:n8})],e),e})(),o8=(()=>{class e{constructor(r){this.navCtrl=r,this.ionTabsWillChange=new on,this.ionTabsDidChange=new on,this.tabBarSlot="bottom"}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:r,tabSwitch:n}){const o=r.stackId;n&&void 0!==o&&this.ionTabsWillChange.emit({tab:o})}onStackDidChange({enteringView:r,tabSwitch:n}){const o=r.stackId;n&&void 0!==o&&(this.tabBar&&(this.tabBar.selectedTab=o),this.ionTabsDidChange.emit({tab:o}))}select(r){const n="string"==typeof r,o=n?r:r.detail.tab,i=this.outlet.getActiveStackId()===o,s=`${this.outlet.tabsPrefix}/${o}`;if(n||r.stopPropagation(),i){const a=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(a)?.url===s)return;const c=this.outlet.getRootView(o);return this.navCtrl.navigateRoot(s,{...c&&s===c.url&&c.savedExtras,animated:!0,animationDirection:"back"})}{const a=this.outlet.getLastRouteView(o),l=a?.url||s,c=a?.savedExtras;return this.navCtrl.navigateRoot(l,{...c,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(r=>{const n=r.el.getAttribute("slot");n!==this.tabBarSlot&&(this.tabBarSlot=n,this.relocateTabBar())})}relocateTabBar(){const r=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(r):this.tabsInner.nativeElement.after(r)}}return e.\u0275fac=function(r){return new(r||e)(_(Nd))},e.\u0275dir=Lt({type:e,selectors:[["ion-tabs"]],viewQuery:function(r,n){if(1&r&&ac(D5,7,tt),2&r){let o;Ts(o=Ms())&&(n.tabsInner=o.first)}},hostBindings:function(r,n){1&r&&Ne("ionTabButtonClick",function(i){return n.select(i)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}}),e})();const xk=e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e);let $p=(()=>{class e{constructor(r,n){this.injector=r,this.elementRef=n,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(r){this.elementRef.nativeElement.value=this.lastValue=r,Fd(this.elementRef)}handleValueChange(r,n){r===this.elementRef.nativeElement&&(n!==this.lastValue&&(this.lastValue=n,this.onChange(n)),Fd(this.elementRef))}_handleBlurEvent(r){r===this.elementRef.nativeElement&&(this.onTouched(),Fd(this.elementRef))}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouched=r}setDisabledState(r){this.elementRef.nativeElement.disabled=r}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let r;try{r=this.injector.get(Rl)}catch{}if(!r)return;r.statusChanges&&(this.statusChanges=r.statusChanges.subscribe(()=>Fd(this.elementRef)));const n=r.control;n&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(i=>{if(typeof n[i]<"u"){const s=n[i].bind(n);n[i]=(...a)=>{s(...a),Fd(this.elementRef)}}})}}return e.\u0275fac=function(r){return new(r||e)(_(Kr),_(tt))},e.\u0275dir=Lt({type:e,hostBindings:function(r,n){1&r&&Ne("ionBlur",function(i){return n._handleBlurEvent(i.target)})}}),e})();const Fd=e=>{xk(()=>{const t=e.nativeElement,r=null!=t.value&&t.value.toString().length>0,n=i8(t);JC(t,n);const o=t.closest("ion-item");o&&JC(o,r?[...n,"item-has-value"]:n)})},i8=e=>{const t=e.classList,r=[];for(let n=0;n<t.length;n++){const o=t.item(n);null!==o&&s8(o,"ng-")&&r.push(`ion-${o.substring(3)}`)}return r},JC=(e,t)=>{const r=e.classList;r.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),r.add(...t)},s8=(e,t)=>e.substring(0,t.length)===t;class a8{shouldDetach(t){return!1}shouldAttach(t){return!1}store(t,r){}retrieve(t){return null}shouldReuseRoute(t,r){if(t.routeConfig!==r.routeConfig)return!1;const n=t.params,o=r.params,i=Object.keys(n),s=Object.keys(o);if(i.length!==s.length)return!1;for(const a of i)if(o[a]!==n[a])return!1;return!0}}class Bp{constructor(t){this.ctrl=t}create(t){return this.ctrl.create(t||{})}dismiss(t,r,n){return this.ctrl.dismiss(t,r,n)}getTop(){return this.ctrl.getTop()}}var e0=C(2723),l8=(C(8044),C(5444),C(5922),C(4923),C(5194)),Tk=C(2984),Vp=(C(4656),C(7261)),c8=(C(6940),C(3426));C(4967);const d8=l8.i,xt=["*"],p8=["outlet"],h8=[[["","slot","top"]],"*"],m8=["[slot=top]","*"];let Ld=(()=>{class e extends $p{constructor(r,n){super(r,n)}writeValue(r){this.elementRef.nativeElement.checked=this.lastValue=r,Fd(this.elementRef)}_handleIonChange(r){this.handleValueChange(r,r.checked)}}return e.\u0275fac=function(r){return new(r||e)(_(Kr),_(tt))},e.\u0275dir=Lt({type:e,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(r,n){1&r&&Ne("ionChange",function(i){return n._handleIonChange(i.target)})},features:[hr([{provide:Oi,useExisting:e,multi:!0}]),bn]}),e})(),n_=(()=>{class e extends $p{constructor(r,n){super(r,n)}_handleChangeEvent(r){this.handleValueChange(r,r.value)}}return e.\u0275fac=function(r){return new(r||e)(_(Kr),_(tt))},e.\u0275dir=Lt({type:e,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(r,n){1&r&&Ne("ionChange",function(i){return n._handleChangeEvent(i.target)})},features:[hr([{provide:Oi,useExisting:e,multi:!0}]),bn]}),e})(),Fl=(()=>{class e extends $p{constructor(r,n){super(r,n)}_handleInputEvent(r){this.handleValueChange(r,r.value)}}return e.\u0275fac=function(r){return new(r||e)(_(Kr),_(tt))},e.\u0275dir=Lt({type:e,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"],["ion-range"]],hostBindings:function(r,n){1&r&&Ne("ionInput",function(i){return n._handleInputEvent(i.target)})},features:[hr([{provide:Oi,useExisting:e,multi:!0}]),bn]}),e})();const b8=(e,t)=>{const r=e.prototype;t.forEach(n=>{Object.defineProperty(r,n,{get(){return this.el[n]},set(o){this.z.runOutsideAngular(()=>this.el[n]=o)},configurable:!0})})},C8=(e,t)=>{const r=e.prototype;t.forEach(n=>{r[n]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[n].apply(this.el,o))}})},_r=(e,t,r)=>{r.forEach(n=>e[n]=Ug(t,n))};function Mt(e){return function(r){const{defineCustomElementFn:n,inputs:o,methods:i}=e;return void 0!==n&&n(),o&&b8(r,o),i&&C8(r,i),r}}let Mk=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(dt),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-app"]],ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ne([Mt({})],e),e})(),Fi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,_r(this,this.el,["ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(_(dt),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ne([Mt({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],e),e})(),Li=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(dt),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ne([Mt({inputs:["collapse"]})],e),e})(),Ak=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,_r(this,this.el,["ionChange","ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(_(dt),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-checkbox"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ne([Mt({inputs:["alignment","checked","color","disabled","indeterminate","justify","labelPlacement","legacy","mode","name","value"]})],e),e})(),$i=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,_r(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return e.\u0275fac=function(r){return new(r||e)(_(dt),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ne([Mt({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],e),e})(),Bi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(dt),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ne([Mt({inputs:["collapse","mode","translucent"]})],e),e})(),zo=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(dt),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ne([Mt({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],e),e})(),Ll=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,_r(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return e.\u0275fac=function(r){return new(r||e)(_(dt),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ne([Mt({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],e),e})(),Co=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(dt),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ne([Mt({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],e),e})(),r_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(dt),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ne([Mt({inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],e),e})(),o_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,_r(this,this.el,["ionSwipe"])}};return e.\u0275fac=function(r){return new(r||e)(_(dt),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ne([Mt({inputs:["side"]})],e),e})(),i_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,_r(this,this.el,["ionDrag"])}};return e.\u0275fac=function(r){return new(r||e)(_(dt),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ne([Mt({inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],e),e})(),Vi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(dt),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ne([Mt({inputs:["color","mode","position"]})],e),e})(),ks=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(dt),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ne([Mt({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],e),e})(),t0=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,_r(this,this.el,["ionChange","ionInput","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}};return e.\u0275fac=function(r){return new(r||e)(_(dt),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ne([Mt({inputs:["activeBarStart","color","debounce","disabled","dualKnobs","label","labelPlacement","legacy","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],e),e})(),s_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,_r(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(_(dt),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ne([Mt({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","legacy","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],e),e})(),a_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(dt),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ne([Mt({inputs:["disabled","value"]})],e),e})(),jp=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(dt),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ne([Mt({inputs:["color","duration","name","paused"]})],e),e})(),l_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(dt),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ne([Mt({inputs:["color","mode","selectedTab","translucent"]})],e),e})(),kk=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(dt),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ne([Mt({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],e),e})(),ji=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(dt),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ne([Mt({inputs:["color","size"]})],e),e})(),Gp=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,_r(this,this.el,["ionChange","ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(_(dt),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-toggle"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ne([Mt({inputs:["alignment","checked","color","disabled","enableOnOffLabels","justify","labelPlacement","legacy","mode","name","value"]})],e),e})(),Gi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(dt),_(tt),_(Ge))},e.\u0275cmp=Ze({type:e,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e=ne([Mt({inputs:["color","mode"]})],e),e})(),Up=(()=>{class e extends Ek{constructor(r,n,o,i,s,a,l,c){super(r,n,o,i,s,a,l,c),this.parentOutlet=c}}return e.\u0275fac=function(r){return new(r||e)(Xl("name"),Xl("tabs"),_(uc),_(tt),_(Uo),_(Ge),_(sl),_(e,12))},e.\u0275dir=Lt({type:e,selectors:[["ion-router-outlet"]],features:[bn]}),e})(),Rk=(()=>{class e extends o8{}return e.\u0275fac=(()=>{let t;return function(n){return(t||(t=Yr(e)))(n||e)}})(),e.\u0275cmp=Ze({type:e,selectors:[["ion-tabs"]],contentQueries:function(r,n,o){if(1&r&&(dd(o,l_,5),dd(o,l_,4)),2&r){let i;Ts(i=Ms())&&(n.tabBar=i.first),Ts(i=Ms())&&(n.tabBars=i)}},viewQuery:function(r,n){if(1&r&&ac(p8,5,Up),2&r){let o;Ts(o=Ms())&&(n.outlet=o.first)}},features:[bn],ngContentSelectors:m8,decls:6,vars:0,consts:[[1,"tabs-inner"],["tabsInner",""],["tabs","true",3,"stackWillChange","stackDidChange"],["outlet",""]],template:function(r,n){1&r&&(Dt(h8),wt(0),H(1,"div",0,1)(3,"ion-router-outlet",2,3),Ne("stackWillChange",function(i){return n.onStackWillChange(i)})("stackDidChange",function(i){return n.onStackDidChange(i)}),F()(),wt(5,1))},dependencies:[Up],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]}),e})(),Pk=(()=>{class e extends Q5{constructor(r,n,o,i,s,a){super(r,n,o,i,s,a)}}return e.\u0275fac=function(r){return new(r||e)(_(Up,8),_(Nd),_(Fp),_(tt),_(Ge),_(dt))},e.\u0275cmp=Ze({type:e,selectors:[["ion-back-button"]],features:[bn],ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e})(),n0=(()=>{class e extends r8{constructor(r,n,o,i,s,a){super(r,n,o,i,s,a)}}return e.\u0275fac=function(r){return new(r||e)(_(tt),_(ii),_(Kr),_(Lp),_(Ge),_(dt))},e.\u0275cmp=Ze({type:e,selectors:[["ion-nav"]],features:[bn],ngContentSelectors:xt,decls:1,vars:0,template:function(r,n){1&r&&(Dt(),wt(0))},encapsulation:2,changeDetection:0}),e})();const IW={provide:ai,useExisting:Wn(()=>Ok),multi:!0};let Ok=(()=>{class e extends WC{}return e.\u0275fac=(()=>{let t;return function(n){return(t||(t=Yr(e)))(n||e)}})(),e.\u0275dir=Lt({type:e,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,n){2&r&&Is("max",n._enabled?n.max:null)},features:[hr([IW]),bn]}),e})();const xW={provide:ai,useExisting:Wn(()=>Nk),multi:!0};let Nk=(()=>{class e extends ZC{}return e.\u0275fac=(()=>{let t;return function(n){return(t||(t=Yr(e)))(n||e)}})(),e.\u0275dir=Lt({type:e,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,n){2&r&&Is("min",n._enabled?n.min:null)},features:[hr([xW]),bn]}),e})(),Hp=(()=>{class e extends Bp{constructor(){super(Vp.a)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),zp=(()=>{class e extends Bp{constructor(){super(Vp.b)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Js=(()=>{class e extends Bp{constructor(){super(Vp.l)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),cs=(()=>{class e extends Bp{constructor(){super(Vp.m),this.angularDelegate=rt(Lp),this.injector=rt(Kr),this.environmentInjector=rt(ii)}create(r){return super.create({...r,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),e})();class $l extends Bp{constructor(){super(Vp.c),this.angularDelegate=rt(Lp),this.injector=rt(Kr),this.environmentInjector=rt(ii)}create(t){return super.create({...t,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const TW=(e,t,r)=>()=>{if(t.defaultView&&typeof window<"u"){(0,Tk.s)({...e,_zoneGate:i=>r.run(i)});const o="__zone_symbol__addEventListener"in t.body?"__zone_symbol__addEventListener":"addEventListener";return function u8(){var e=[];if(typeof window<"u"){var t=window;(!t.customElements||t.Element&&(!t.Element.prototype.closest||!t.Element.prototype.matches||!t.Element.prototype.remove||!t.Element.prototype.getRootNode))&&e.push(C.e(6748).then(C.t.bind(C,4061,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||t.NodeList&&!t.NodeList.prototype.forEach||!t.fetch||!function(){try{var n=new URL("b","http://a");return n.pathname="c%20d","http://a/c%20d"===n.href&&n.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&e.push(C.e(2214).then(C.t.bind(C,7386,23)))}return Promise.all(e)}().then(()=>((e,t)=>{if(!(typeof window>"u"))return d8(),(0,c8.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"placeholder":["placeholderChanged"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"counterFormatter":["counterFormatterChanged"]}],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"],"checked":["styleChanged"],"color":["styleChanged"],"disabled":["styleChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"disabled":[4],"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]},null,{"value":["valueChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]},null,{"checked":["styleChanged"],"disabled":["styleChanged"]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),t)})(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:xk,jmp:i=>r.runOutsideAngular(i),ael(i,s,a,l){i[o](s,a,l)},rel(i,s,a,l){i.removeEventListener(s,a,l)}}))}};let Sc=(()=>{class e{static forRoot(r){return{ngModule:e,providers:[{provide:gk,useValue:r},{provide:ip,useFactory:TW,multi:!0,deps:[gk,si,Ge]},{provide:Ik,useFactory:K5,deps:[Uo]}]}}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=io({type:e}),e.\u0275inj=lt({providers:[Lp,cs,$l],imports:[rl]}),e})();function Fk(e,t){(function MW(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function r0(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function Wp(e){return(Wp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function co(e,t,r){return(t=function kW(e){var t=function AW(e,t){if("object"!==Wp(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Wp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Wp(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let iu={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function Lk(e){iu=e}const $k=/[&<>"']/,RW=new RegExp($k.source,"g"),Bk=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,PW=new RegExp(Bk.source,"g"),OW={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Vk=e=>OW[e];function Rs(e,t){if(t){if($k.test(e))return e.replace(RW,Vk)}else if(Bk.test(e))return e.replace(PW,Vk);return e}const NW=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,LW=/(^|[^\[])\^/g;function Sr(e,t){e="string"==typeof e?e:e.source,t=t||"";const r={replace:(n,o)=>(o=(o="object"==typeof o&&"source"in o?o.source:o).replace(LW,"$1"),e=e.replace(n,o),r),getRegex:()=>new RegExp(e,t)};return r}function jk(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}const c_={exec:()=>null};function Gk(e,t){const n=e.replace(/\|/g,(i,s,a)=>{let l=!1,c=s;for(;--c>=0&&"\\"===a[c];)l=!l;return l?"|":" |"}).split(/ \|/);let o=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;o<n.length;o++)n[o]=n[o].trim().replace(/\\\|/g,"|");return n}function u_(e,t,r){const n=e.length;if(0===n)return"";let o=0;for(;o<n;){const i=e.charAt(n-o-1);if(i!==t||r){if(i===t||!r)break;o++}else o++}return e.slice(0,n-o)}function Uk(e,t,r,n){const o=t.href,i=t.title?Rs(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){n.state.inLink=!0;const a={type:"link",raw:r,href:o,title:i,text:s,tokens:n.inlineTokens(s)};return n.state.inLink=!1,a}return{type:"image",raw:r,href:o,title:i,text:Rs(s)}}class d_{constructor(t){co(this,"options",void 0),co(this,"rules",void 0),co(this,"lexer",void 0),this.options=t||iu}space(t){const r=this.rules.block.newline.exec(t);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(t){const r=this.rules.block.code.exec(t);if(r){const n=r[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:u_(n,"\n")}}}fences(t){const r=this.rules.block.fences.exec(t);if(r){const n=r[0],o=function BW(e,t){const r=e.match(/^(\s+)(?:```)/);if(null===r)return t;const n=r[1];return t.split("\n").map(o=>{const i=o.match(/^\s+/);if(null===i)return o;const[s]=i;return s.length>=n.length?o.slice(n.length):o}).join("\n")}(n,r[3]||"");return{type:"code",raw:n,lang:r[2]?r[2].trim().replace(this.rules.inline._escapes,"$1"):r[2],text:o}}}heading(t){const r=this.rules.block.heading.exec(t);if(r){let n=r[2].trim();if(/#$/.test(n)){const o=u_(n,"#");(this.options.pedantic||!o||/ $/.test(o))&&(n=o.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){const r=this.rules.block.hr.exec(t);if(r)return{type:"hr",raw:r[0]}}blockquote(t){const r=this.rules.block.blockquote.exec(t);if(r){const n=u_(r[0].replace(/^ *>[ \t]?/gm,""),"\n"),o=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(n);return this.lexer.state.top=o,{type:"blockquote",raw:r[0],tokens:i,text:n}}}list(t){let r=this.rules.block.list.exec(t);if(r){let n=r[1].trim();const o=n.length>1,i={type:"list",raw:"",ordered:o,start:o?+n.slice(0,-1):"",loose:!1,items:[]};n=o?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=o?n:"[*+-]");const s=new RegExp(`^( {0,3}${n})((?:[\t ][^\\n]*)?(?:\\n|$))`);let a="",l="",c=!1;for(;t;){let f=!1;if(!(r=s.exec(t))||this.rules.block.hr.test(t))break;a=r[0],t=t.substring(a.length);let h=r[2].split("\n",1)[0].replace(/^\t+/,Ee=>" ".repeat(3*Ee.length)),g=t.split("\n",1)[0],b=0;this.options.pedantic?(b=2,l=h.trimStart()):(b=r[2].search(/[^ ]/),b=b>4?1:b,l=h.slice(b),b+=r[1].length);let j=!1;if(!h&&/^ *$/.test(g)&&(a+=g+"\n",t=t.substring(g.length+1),f=!0),!f){const Ee=new RegExp(`^ {0,${Math.min(3,b-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),Ie=new RegExp(`^ {0,${Math.min(3,b-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Tt=new RegExp(`^ {0,${Math.min(3,b-1)}}(?:\`\`\`|~~~)`),Et=new RegExp(`^ {0,${Math.min(3,b-1)}}#`);for(;t;){const Ct=t.split("\n",1)[0];if(g=Ct,this.options.pedantic&&(g=g.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),Tt.test(g)||Et.test(g)||Ee.test(g)||Ie.test(t))break;if(g.search(/[^ ]/)>=b||!g.trim())l+="\n"+g.slice(b);else{if(j||h.search(/[^ ]/)>=4||Tt.test(h)||Et.test(h)||Ie.test(h))break;l+="\n"+g}!j&&!g.trim()&&(j=!0),a+=Ct+"\n",t=t.substring(Ct.length+1),h=g.slice(b)}}i.loose||(c?i.loose=!0:/\n *\n *$/.test(a)&&(c=!0));let ye,ee=null;this.options.gfm&&(ee=/^\[[ xX]\] /.exec(l),ee&&(ye="[ ] "!==ee[0],l=l.replace(/^\[[ xX]\] +/,""))),i.items.push({type:"list_item",raw:a,task:!!ee,checked:ye,loose:!1,text:l,tokens:[]}),i.raw+=a}i.items[i.items.length-1].raw=a.trimEnd(),i.items[i.items.length-1].text=l.trimEnd(),i.raw=i.raw.trimEnd();for(let f=0;f<i.items.length;f++)if(this.lexer.state.top=!1,i.items[f].tokens=this.lexer.blockTokens(i.items[f].text,[]),!i.loose){const h=i.items[f].tokens.filter(b=>"space"===b.type),g=h.length>0&&h.some(b=>/\n.*\n/.test(b.raw));i.loose=g}if(i.loose)for(let f=0;f<i.items.length;f++)i.items[f].loose=!0;return i}}html(t){const r=this.rules.block.html.exec(t);if(r)return{type:"html",block:!0,raw:r[0],pre:"pre"===r[1]||"script"===r[1]||"style"===r[1],text:r[0]}}def(t){const r=this.rules.block.def.exec(t);if(r){const n=r[1].toLowerCase().replace(/\s+/g," "),o=r[2]?r[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline._escapes,"$1"):r[3];return{type:"def",tag:n,raw:r[0],href:o,title:i}}}table(t){const r=this.rules.block.table.exec(t);if(r){if(!/[:|]/.test(r[2]))return;const n={type:"table",raw:r[0],header:Gk(r[1]).map(o=>({text:o,tokens:[]})),align:r[2].replace(/^\||\| *$/g,"").split("|"),rows:r[3]&&r[3].trim()?r[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(n.header.length===n.align.length){let i,s,a,l,o=n.align.length;for(i=0;i<o;i++){const c=n.align[i];c&&(n.align[i]=/^ *-+: *$/.test(c)?"right":/^ *:-+: *$/.test(c)?"center":/^ *:-+ *$/.test(c)?"left":null)}for(o=n.rows.length,i=0;i<o;i++)n.rows[i]=Gk(n.rows[i],n.header.length).map(c=>({text:c,tokens:[]}));for(o=n.header.length,s=0;s<o;s++)n.header[s].tokens=this.lexer.inline(n.header[s].text);for(o=n.rows.length,s=0;s<o;s++)for(l=n.rows[s],a=0;a<l.length;a++)l[a].tokens=this.lexer.inline(l[a].text);return n}}}lheading(t){const r=this.rules.block.lheading.exec(t);if(r)return{type:"heading",raw:r[0],depth:"="===r[2].charAt(0)?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(t){const r=this.rules.block.paragraph.exec(t);if(r){const n="\n"===r[1].charAt(r[1].length-1)?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(t){const r=this.rules.block.text.exec(t);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(t){const r=this.rules.inline.escape.exec(t);if(r)return{type:"escape",raw:r[0],text:Rs(r[1])}}tag(t){const r=this.rules.inline.tag.exec(t);if(r)return!this.lexer.state.inLink&&/^<a /i.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(t){const r=this.rules.inline.link.exec(t);if(r){const n=r[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const s=u_(n.slice(0,-1),"\\");if((n.length-s.length)%2==0)return}else{const s=function $W(e,t){if(-1===e.indexOf(t[1]))return-1;let r=0;for(let n=0;n<e.length;n++)if("\\"===e[n])n++;else if(e[n]===t[0])r++;else if(e[n]===t[1]&&(r--,r<0))return n;return-1}(r[2],"()");if(s>-1){const l=(0===r[0].indexOf("!")?5:4)+r[1].length+s;r[2]=r[2].substring(0,s),r[0]=r[0].substring(0,l).trim(),r[3]=""}}let o=r[2],i="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);s&&(o=s[1],i=s[3])}else i=r[3]?r[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(n)?o.slice(1):o.slice(1,-1)),Uk(r,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},r[0],this.lexer)}}reflink(t,r){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let o=(n[2]||n[1]).replace(/\s+/g," ");if(o=r[o.toLowerCase()],!o){const i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return Uk(n,o,n[0],this.lexer)}}emStrong(t,r,n=""){let o=this.rules.inline.emStrong.lDelim.exec(t);if(!(!o||o[3]&&n.match(/[\p{L}\p{N}]/u))&&(!o[1]&&!o[2]||!n||this.rules.inline.punctuation.exec(n))){const s=[...o[0]].length-1;let a,l,c=s,f=0;const h="*"===o[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(h.lastIndex=0,r=r.slice(-1*t.length+s);null!=(o=h.exec(r));){if(a=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!a)continue;if(l=[...a].length,o[3]||o[4]){c+=l;continue}if((o[5]||o[6])&&s%3&&!((s+l)%3)){f+=l;continue}if(c-=l,c>0)continue;l=Math.min(l,l+c+f);const g=[...o[0]][0].length,b=t.slice(0,s+o.index+g+l);if(Math.min(s,l)%2){const ee=b.slice(1,-1);return{type:"em",raw:b,text:ee,tokens:this.lexer.inlineTokens(ee)}}const j=b.slice(2,-2);return{type:"strong",raw:b,text:j,tokens:this.lexer.inlineTokens(j)}}}}codespan(t){const r=this.rules.inline.code.exec(t);if(r){let n=r[2].replace(/\n/g," ");const o=/[^ ]/.test(n),i=/^ /.test(n)&&/ $/.test(n);return o&&i&&(n=n.substring(1,n.length-1)),n=Rs(n,!0),{type:"codespan",raw:r[0],text:n}}}br(t){const r=this.rules.inline.br.exec(t);if(r)return{type:"br",raw:r[0]}}del(t){const r=this.rules.inline.del.exec(t);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(t){const r=this.rules.inline.autolink.exec(t);if(r){let n,o;return"@"===r[2]?(n=Rs(r[1]),o="mailto:"+n):(n=Rs(r[1]),o=n),{type:"link",raw:r[0],text:n,href:o,tokens:[{type:"text",raw:n,text:n}]}}}url(t){let r;if(r=this.rules.inline.url.exec(t)){let n,o;if("@"===r[2])n=Rs(r[0]),o="mailto:"+n;else{let i;do{i=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(i!==r[0]);n=Rs(r[0]),o="www."===r[1]?"http://"+r[0]:r[0]}return{type:"link",raw:r[0],text:n,href:o,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(t){const r=this.rules.inline.text.exec(t);if(r){let n;return n=this.lexer.state.inRawBlock?r[0]:Rs(r[0]),{type:"text",raw:r[0],text:n}}}}const Jt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:c_,lheading:/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Jt.def=Sr(Jt.def).replace("label",Jt._label).replace("title",Jt._title).getRegex(),Jt.bullet=/(?:[*+-]|\d{1,9}[.)])/,Jt.listItemStart=Sr(/^( *)(bull) */).replace("bull",Jt.bullet).getRegex(),Jt.list=Sr(Jt.list).replace(/bull/g,Jt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Jt.def.source+")").getRegex(),Jt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Jt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Jt.html=Sr(Jt.html,"i").replace("comment",Jt._comment).replace("tag",Jt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Jt.lheading=Sr(Jt.lheading).replace(/bull/g,Jt.bullet).getRegex(),Jt.paragraph=Sr(Jt._paragraph).replace("hr",Jt.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Jt._tag).getRegex(),Jt.blockquote=Sr(Jt.blockquote).replace("paragraph",Jt.paragraph).getRegex(),Jt.normal={...Jt},Jt.gfm={...Jt.normal,table:"^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},Jt.gfm.table=Sr(Jt.gfm.table).replace("hr",Jt.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Jt._tag).getRegex(),Jt.gfm.paragraph=Sr(Jt._paragraph).replace("hr",Jt.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Jt.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Jt._tag).getRegex(),Jt.pedantic={...Jt.normal,html:Sr("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Jt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:c_,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Sr(Jt.normal._paragraph).replace("hr",Jt.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Jt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const Ot={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:c_,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:c_,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/,_punctuation:"\\p{P}$+<=>`^|~"};Ot.punctuation=Sr(Ot.punctuation,"u").replace(/punctuation/g,Ot._punctuation).getRegex(),Ot.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,Ot.anyPunctuation=/\\[punct]/g,Ot._escapes=/\\([punct])/g,Ot._comment=Sr(Jt._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Ot.emStrong.lDelim=Sr(Ot.emStrong.lDelim,"u").replace(/punct/g,Ot._punctuation).getRegex(),Ot.emStrong.rDelimAst=Sr(Ot.emStrong.rDelimAst,"gu").replace(/punct/g,Ot._punctuation).getRegex(),Ot.emStrong.rDelimUnd=Sr(Ot.emStrong.rDelimUnd,"gu").replace(/punct/g,Ot._punctuation).getRegex(),Ot.anyPunctuation=Sr(Ot.anyPunctuation,"gu").replace(/punct/g,Ot._punctuation).getRegex(),Ot._escapes=Sr(Ot._escapes,"gu").replace(/punct/g,Ot._punctuation).getRegex(),Ot._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Ot._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Ot.autolink=Sr(Ot.autolink).replace("scheme",Ot._scheme).replace("email",Ot._email).getRegex(),Ot._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Ot.tag=Sr(Ot.tag).replace("comment",Ot._comment).replace("attribute",Ot._attribute).getRegex(),Ot._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Ot._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Ot._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Ot.link=Sr(Ot.link).replace("label",Ot._label).replace("href",Ot._href).replace("title",Ot._title).getRegex(),Ot.reflink=Sr(Ot.reflink).replace("label",Ot._label).replace("ref",Jt._label).getRegex(),Ot.nolink=Sr(Ot.nolink).replace("ref",Jt._label).getRegex(),Ot.reflinkSearch=Sr(Ot.reflinkSearch,"g").replace("reflink",Ot.reflink).replace("nolink",Ot.nolink).getRegex(),Ot.normal={...Ot},Ot.pedantic={...Ot.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Sr(/^!?\[(label)\]\((.*?)\)/).replace("label",Ot._label).getRegex(),reflink:Sr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ot._label).getRegex()},Ot.gfm={...Ot.normal,escape:Sr(Ot.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Ot.gfm.url=Sr(Ot.gfm.url,"i").replace("email",Ot.gfm._extended_email).getRegex(),Ot.breaks={...Ot.gfm,br:Sr(Ot.br).replace("{2,}","*").getRegex(),text:Sr(Ot.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class ul{constructor(t){co(this,"tokens",void 0),co(this,"options",void 0),co(this,"state",void 0),co(this,"tokenizer",void 0),co(this,"inlineQueue",void 0),this.tokens=[],this.tokens.links=Object.create(null),this.options=t||iu,this.options.tokenizer=this.options.tokenizer||new d_,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const r={block:Jt.normal,inline:Ot.normal};this.options.pedantic?(r.block=Jt.pedantic,r.inline=Ot.pedantic):this.options.gfm&&(r.block=Jt.gfm,r.inline=this.options.breaks?Ot.breaks:Ot.gfm),this.tokenizer.rules=r}static get rules(){return{block:Jt,inline:Ot}}static lex(t,r){return new ul(r).lex(t)}static lexInline(t,r){return new ul(r).inlineTokens(t)}lex(t){let r;for(t=t.replace(/\r\n|\r/g,"\n"),this.blockTokens(t,this.tokens);r=this.inlineQueue.shift();)this.inlineTokens(r.src,r.tokens);return this.tokens}blockTokens(t,r=[]){let n,o,i,s;for(t=this.options.pedantic?t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t.replace(/^( *)(\t+)/gm,(a,l,c)=>l+"    ".repeat(c.length));t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(n=a.call({lexer:this},t,r))&&(t=t.substring(n.raw.length),r.push(n),!0)))){if(n=this.tokenizer.space(t)){t=t.substring(n.raw.length),1===n.raw.length&&r.length>0?r[r.length-1].raw+="\n":r.push(n);continue}if(n=this.tokenizer.code(t)){t=t.substring(n.raw.length),o=r[r.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?r.push(n):(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(n=this.tokenizer.fences(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.heading(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.hr(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.blockquote(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.list(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.html(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.def(t)){t=t.substring(n.raw.length),o=r[r.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(o.raw+="\n"+n.raw,o.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(n=this.tokenizer.table(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.lheading(t)){t=t.substring(n.raw.length),r.push(n);continue}if(i=t,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const l=t.slice(1);let c;this.options.extensions.startBlock.forEach(f=>{c=f.call({lexer:this},l),"number"==typeof c&&c>=0&&(a=Math.min(a,c))}),a<1/0&&a>=0&&(i=t.substring(0,a+1))}if(this.state.top&&(n=this.tokenizer.paragraph(i))){o=r[r.length-1],s&&"paragraph"===o.type?(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):r.push(n),s=i.length!==t.length,t=t.substring(n.raw.length);continue}if(n=this.tokenizer.text(t)){t=t.substring(n.raw.length),o=r[r.length-1],o&&"text"===o.type?(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):r.push(n);continue}if(t){const a="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){let n,o,i,a,l,c,s=t;if(this.tokens.links){const f=Object.keys(this.tokens.links);if(f.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(s));)f.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.anyPunctuation.exec(s));)s=s.slice(0,a.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;t;)if(l||(c=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(f=>!!(n=f.call({lexer:this},t,r))&&(t=t.substring(n.raw.length),r.push(n),!0)))){if(n=this.tokenizer.escape(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.tag(t)){t=t.substring(n.raw.length),o=r[r.length-1],o&&"text"===n.type&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):r.push(n);continue}if(n=this.tokenizer.link(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(n.raw.length),o=r[r.length-1],o&&"text"===n.type&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):r.push(n);continue}if(n=this.tokenizer.emStrong(t,s,c)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.codespan(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.br(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.del(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.autolink(t)){t=t.substring(n.raw.length),r.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(t))){t=t.substring(n.raw.length),r.push(n);continue}if(i=t,this.options.extensions&&this.options.extensions.startInline){let f=1/0;const h=t.slice(1);let g;this.options.extensions.startInline.forEach(b=>{g=b.call({lexer:this},h),"number"==typeof g&&g>=0&&(f=Math.min(f,g))}),f<1/0&&f>=0&&(i=t.substring(0,f+1))}if(n=this.tokenizer.inlineText(i)){t=t.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(c=n.raw.slice(-1)),l=!0,o=r[r.length-1],o&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):r.push(n);continue}if(t){const f="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(f);break}throw new Error(f)}}return r}}class su{constructor(t){co(this,"options",void 0),this.options=t||iu}code(t,r,n){const o=(r||"").match(/^\S*/)?.[0];return t=t.replace(/\n$/,"")+"\n",o?'<pre><code class="language-'+Rs(o)+'">'+(n?t:Rs(t,!0))+"</code></pre>\n":"<pre><code>"+(n?t:Rs(t,!0))+"</code></pre>\n"}blockquote(t){return`<blockquote>\n${t}</blockquote>\n`}html(t,r){return t}heading(t,r,n){return`<h${r}>${t}</h${r}>\n`}hr(){return"<hr>\n"}list(t,r,n){const o=r?"ol":"ul";return"<"+o+(r&&1!==n?' start="'+n+'"':"")+">\n"+t+"</"+o+">\n"}listitem(t,r,n){return`<li>${t}</li>\n`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(t){return`<p>${t}</p>\n`}table(t,r){return r&&(r=`<tbody>${r}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+r+"</table>\n"}tablerow(t){return`<tr>\n${t}</tr>\n`}tablecell(t,r){const n=r.header?"th":"td";return(r.align?`<${n} align="${r.align}">`:`<${n}>`)+t+`</${n}>\n`}strong(t){return`<strong>${t}</strong>`}em(t){return`<em>${t}</em>`}codespan(t){return`<code>${t}</code>`}br(){return"<br>"}del(t){return`<del>${t}</del>`}link(t,r,n){const o=jk(t);if(null===o)return n;let i='<a href="'+(t=o)+'"';return r&&(i+=' title="'+r+'"'),i+=">"+n+"</a>",i}image(t,r,n){const o=jk(t);if(null===o)return n;let i=`<img src="${t=o}" alt="${n}"`;return r&&(i+=` title="${r}"`),i+=">",i}text(t){return t}}class s0{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,r,n){return""+n}image(t,r,n){return""+n}br(){return""}}class dl{constructor(t){co(this,"options",void 0),co(this,"renderer",void 0),co(this,"textRenderer",void 0),this.options=t||iu,this.options.renderer=this.options.renderer||new su,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new s0}static parse(t,r){return new dl(r).parse(t)}static parseInline(t,r){return new dl(r).parseInline(t)}parse(t,r=!0){let n="";for(let o=0;o<t.length;o++){const i=t[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const s=i,a=this.options.extensions.renderers[s.type].call({parser:this},s);if(!1!==a||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(s.type)){n+=a||"";continue}}switch(i.type){case"space":continue;case"hr":n+=this.renderer.hr();continue;case"heading":{const s=i;n+=this.renderer.heading(this.parseInline(s.tokens),s.depth,this.parseInline(s.tokens,this.textRenderer).replace(NW,(t,r)=>"colon"===(r=r.toLowerCase())?":":"#"===r.charAt(0)?"x"===r.charAt(1)?String.fromCharCode(parseInt(r.substring(2),16)):String.fromCharCode(+r.substring(1)):""));continue}case"code":n+=this.renderer.code(i.text,i.lang,!!i.escaped);continue;case"table":{const s=i;let a="",l="";for(let f=0;f<s.header.length;f++)l+=this.renderer.tablecell(this.parseInline(s.header[f].tokens),{header:!0,align:s.align[f]});a+=this.renderer.tablerow(l);let c="";for(let f=0;f<s.rows.length;f++){const h=s.rows[f];l="";for(let g=0;g<h.length;g++)l+=this.renderer.tablecell(this.parseInline(h[g].tokens),{header:!1,align:s.align[g]});c+=this.renderer.tablerow(l)}n+=this.renderer.table(a,c);continue}case"blockquote":{const a=this.parse(i.tokens);n+=this.renderer.blockquote(a);continue}case"list":{const s=i,a=s.ordered,l=s.start,c=s.loose;let f="";for(let h=0;h<s.items.length;h++){const g=s.items[h],b=g.checked,j=g.task;let ee="";if(g.task){const ye=this.renderer.checkbox(!!b);c?g.tokens.length>0&&"paragraph"===g.tokens[0].type?(g.tokens[0].text=ye+" "+g.tokens[0].text,g.tokens[0].tokens&&g.tokens[0].tokens.length>0&&"text"===g.tokens[0].tokens[0].type&&(g.tokens[0].tokens[0].text=ye+" "+g.tokens[0].tokens[0].text)):g.tokens.unshift({type:"text",text:ye+" "}):ee+=ye+" "}ee+=this.parse(g.tokens,c),f+=this.renderer.listitem(ee,j,!!b)}n+=this.renderer.list(f,a,l);continue}case"html":n+=this.renderer.html(i.text,i.block);continue;case"paragraph":n+=this.renderer.paragraph(this.parseInline(i.tokens));continue;case"text":{let s=i,a=s.tokens?this.parseInline(s.tokens):s.text;for(;o+1<t.length&&"text"===t[o+1].type;)s=t[++o],a+="\n"+(s.tokens?this.parseInline(s.tokens):s.text);n+=r?this.renderer.paragraph(a):a;continue}default:{const s='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return n}parseInline(t,r){r=r||this.renderer;let n="";for(let o=0;o<t.length;o++){const i=t[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const s=this.options.extensions.renderers[i.type].call({parser:this},i);if(!1!==s||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){n+=s||"";continue}}switch(i.type){case"escape":case"text":n+=r.text(i.text);break;case"html":n+=r.html(i.text);break;case"link":n+=r.link(i.href,i.title,this.parseInline(i.tokens,r));break;case"image":n+=r.image(i.href,i.title,i.text);break;case"strong":n+=r.strong(this.parseInline(i.tokens,r));break;case"em":n+=r.em(this.parseInline(i.tokens,r));break;case"codespan":n+=r.codespan(i.text);break;case"br":n+=r.br();break;case"del":n+=r.del(this.parseInline(i.tokens,r));break;default:{const s='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return n}}class Zp{constructor(t){co(this,"options",void 0),this.options=t||iu}preprocess(t){return t}postprocess(t){return t}}co(Zp,"passThroughHooks",new Set(["preprocess","postprocess"]));var a0=new WeakSet,Hk=new WeakSet;function zk(e,t){return(r,n)=>{const o={...n},i={...this.defaults,...o};!0===this.defaults.async&&!1===o.async&&(i.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),i.async=!0);const s=r0(this,Hk,jW).call(this,!!i.silent,!!i.async);if(typeof r>"u"||null===r)return s(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof r)return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(i.hooks&&(i.hooks.options=i),i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(r):r).then(a=>e(a,i)).then(a=>i.walkTokens?Promise.all(this.walkTokens(a,i.walkTokens)).then(()=>a):a).then(a=>t(a,i)).then(a=>i.hooks?i.hooks.postprocess(a):a).catch(s);try{i.hooks&&(r=i.hooks.preprocess(r));const a=e(r,i);i.walkTokens&&this.walkTokens(a,i.walkTokens);let l=t(a,i);return i.hooks&&(l=i.hooks.postprocess(l)),l}catch(a){return s(a)}}}function jW(e,t){return r=>{if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const n="<p>An error occurred:</p><pre>"+Rs(r.message+"",!0)+"</pre>";return t?Promise.resolve(n):n}if(t)return Promise.reject(r);throw r}}const au=new class VW{constructor(...t){Fk(this,Hk),Fk(this,a0),co(this,"defaults",{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}),co(this,"options",this.setOptions),co(this,"parse",r0(this,a0,zk).call(this,ul.lex,dl.parse)),co(this,"parseInline",r0(this,a0,zk).call(this,ul.lexInline,dl.parseInline)),co(this,"Parser",dl),co(this,"Renderer",su),co(this,"TextRenderer",s0),co(this,"Lexer",ul),co(this,"Tokenizer",d_),co(this,"Hooks",Zp),this.use(...t)}walkTokens(t,r){let n=[];for(const o of t)switch(n=n.concat(r.call(this,o)),o.type){case"table":{const i=o;for(const s of i.header)n=n.concat(this.walkTokens(s.tokens,r));for(const s of i.rows)for(const a of s)n=n.concat(this.walkTokens(a.tokens,r));break}case"list":n=n.concat(this.walkTokens(o.items,r));break;default:{const i=o;this.defaults.extensions?.childTokens?.[i.type]?this.defaults.extensions.childTokens[i.type].forEach(s=>{n=n.concat(this.walkTokens(i[s],r))}):i.tokens&&(n=n.concat(this.walkTokens(i.tokens,r)))}}return n}use(...t){const r=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{const o={...n};if(o.async=this.defaults.async||o.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){const s=r.renderers[i.name];r.renderers[i.name]=s?function(...a){let l=i.renderer.apply(this,a);return!1===l&&(l=s.apply(this,a)),l}:i.renderer}if("tokenizer"in i){if(!i.level||"block"!==i.level&&"inline"!==i.level)throw new Error("extension level must be 'block' or 'inline'");const s=r[i.level];s?s.unshift(i.tokenizer):r[i.level]=[i.tokenizer],i.start&&("block"===i.level?r.startBlock?r.startBlock.push(i.start):r.startBlock=[i.start]:"inline"===i.level&&(r.startInline?r.startInline.push(i.start):r.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(r.childTokens[i.name]=i.childTokens)}),o.extensions=r),n.renderer){const i=this.defaults.renderer||new su(this.defaults);for(const s in n.renderer){const a=n.renderer[s],c=i[s];i[s]=(...f)=>{let h=a.apply(i,f);return!1===h&&(h=c.apply(i,f)),h||""}}o.renderer=i}if(n.tokenizer){const i=this.defaults.tokenizer||new d_(this.defaults);for(const s in n.tokenizer){const a=n.tokenizer[s],c=i[s];i[s]=(...f)=>{let h=a.apply(i,f);return!1===h&&(h=c.apply(i,f)),h}}o.tokenizer=i}if(n.hooks){const i=this.defaults.hooks||new Zp;for(const s in n.hooks){const a=n.hooks[s],c=i[s];i[s]=Zp.passThroughHooks.has(s)?f=>{if(this.defaults.async)return Promise.resolve(a.call(i,f)).then(g=>c.call(i,g));const h=a.call(i,f);return c.call(i,h)}:(...f)=>{let h=a.apply(i,f);return!1===h&&(h=c.apply(i,f)),h}}o.hooks=i}if(n.walkTokens){const i=this.defaults.walkTokens,s=n.walkTokens;o.walkTokens=function(a){let l=[];return l.push(s.call(this,a)),i&&(l=l.concat(i.call(this,a))),l}}this.defaults={...this.defaults,...o}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,r){return ul.lex(t,r??this.defaults)}parser(t,r){return dl.parse(t,r??this.defaults)}};function pr(e,t){return au.parse(e,t)}pr.options=pr.setOptions=function(e){return au.setOptions(e),Lk(pr.defaults=au.defaults),pr},pr.getDefaults=function o0(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},pr.defaults=iu,pr.use=function(...e){return au.use(...e),Lk(pr.defaults=au.defaults),pr},pr.walkTokens=function(e,t){return au.walkTokens(e,t)},pr.parseInline=au.parseInline,pr.Parser=dl,pr.parser=dl.parse,pr.Renderer=su,pr.TextRenderer=s0,pr.Lexer=ul,pr.lexer=ul.lex,pr.Tokenizer=d_,pr.Hooks=Zp,pr.parse=pr;class GW extends vt{constructor(t,r){super()}schedule(t,r=0){return this}}const f_={setInterval(e,t,...r){const{delegate:n}=f_;return n?.setInterval?n.setInterval(e,t,...r):setInterval(e,t,...r)},clearInterval(e){const{delegate:t}=f_;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},l0={now:()=>(l0.delegate||Date).now(),delegate:void 0};class qp{constructor(t,r=qp.now){this.schedulerActionCtor=t,this.now=r}schedule(t,r=0,n){return new this.schedulerActionCtor(this,t).schedule(n,r)}}qp.now=l0.now;const zW=new class HW extends qp{constructor(t,r=qp.now){super(t,r),this.actions=[],this._active=!1}flush(t){const{actions:r}=this;if(this._active)return void r.push(t);let n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=r.shift());if(this._active=!1,n){for(;t=r.shift();)t.unsubscribe();throw n}}}(class UW extends GW{constructor(t,r){super(t,r),this.scheduler=t,this.work=r,this.pending=!1}schedule(t,r=0){var n;if(this.closed)return this;this.state=t;const o=this.id,i=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(i,o,r)),this.pending=!0,this.delay=r,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(i,this.id,r),this}requestAsyncId(t,r,n=0){return f_.setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,r,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return r;null!=r&&f_.clearInterval(r)}execute(t,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,r);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,r){let o,n=!1;try{this.work(t)}catch(i){n=!0,o=i||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:t,scheduler:r}=this,{actions:n}=r;this.work=this.state=this.scheduler=null,this.pending=!1,Je(n,this),null!=t&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null,super.unsubscribe()}}});class qW extends xn{constructor(t=1/0,r=1/0,n=l0){super(),this._bufferSize=t,this._windowTime=r,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,r)}next(t){const{isStopped:r,_buffer:n,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;r||(n.push(t),!o&&n.push(i.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const r=this._innerSubscribe(t),{_infiniteTimeWindow:n,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!t.closed;s+=n?1:2)t.next(i[s]);return this._checkFinalizedStatuses(t),r}_trimBuffer(){const{_bufferSize:t,_timestampProvider:r,_buffer:n,_infiniteTimeWindow:o}=this,i=(o?1:2)*t;if(t<1/0&&i<n.length&&n.splice(0,n.length-i),!o){const s=r.now();let a=0;for(let l=1;l<n.length&&n[l]<=s;l+=2)a=l;a&&n.splice(0,a+1)}}}const KW=["*"];let Wk=(()=>{var e;class t{constructor(){this._buttonClick$=new xn,this.copied$=this._buttonClick$.pipe(eo(()=>ca(Ht(!0),function ZW(e=0,t,r=zW){let n=-1;return null!=t&&(oa(t)?r=t:n=t),new Fn(o=>{let i=function WW(e){return e instanceof Date&&!isNaN(e)}(e)?+e-r.now():e;i<0&&(i=0);let s=0;return r.schedule(function(){o.closed||(o.next(s++),0<=n?this.schedule(void 0,n):o.complete())},i)})}(3e3).pipe(nM(!1)))),Vs(),function YW(e,t,r){let n,o=!1;return e&&"object"==typeof e?({bufferSize:n=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:r}=e):n=e??1/0,ua({connector:()=>new qW(n,t,r),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(1)),this.copiedText$=this.copied$.pipe(eM(!1),un(n=>n?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["markdown-clipboard"]],standalone:!0,features:[Gm],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(n,o){1&n&&(H(0,"button",0),Ne("click",function(){return o.onCopyToClipboardClick()}),el(1,"async"),Ce(2),el(3,"async"),F()),2&n&&(qs("copied",tl(1,3,o.copied$)),me(2),Ai(tl(3,5,o.copiedText$)))},dependencies:[Jx],encapsulation:2,changeDetection:0}),t})();const JW=new pt("CLIPBOARD_OPTIONS");var c0=function(e){return e.CommandLine="command-line",e.LineHighlight="line-highlight",e.LineNumbers="line-numbers",e}(c0||{});const Zk=new pt("MARKED_EXTENSIONS"),qk=new pt("MARKED_OPTIONS"),Yk=new pt("SECURITY_CONTEXT");let u0=(()=>{var e;class t{get options(){return this._options}set options(n){this._options={...this.DEFAULT_MARKED_OPTIONS,...n}}get renderer(){return this.options.renderer}set renderer(n){this.options.renderer=n}constructor(n,o,i,s,a,l,c){this.clipboardOptions=n,this.extensions=o,this.platform=s,this.securityContext=a,this.http=l,this.sanitizer=c,this.DEFAULT_MARKED_OPTIONS={renderer:new su},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new xn,this.reload$=this._reload$.asObservable(),this.options=i}parse(n,o=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:i,inline:s,emoji:a,mermaid:l,disableSanitizer:c}=o,f={...this.options,...o.markedOptions},h=f.renderer||this.renderer||new su;this.extensions&&(this.renderer=this.extendsRendererForExtensions(h)),l&&(this.renderer=this.extendsRendererForMermaid(h));const g=this.trimIndentation(n),b=i?this.decodeHtml(g):g,j=a?this.parseEmoji(b):b,ee=this.parseMarked(j,f,s);return(c?ee:this.sanitizer.sanitize(this.securityContext,ee))||""}render(n,o=this.DEFAULT_RENDER_OPTIONS,i){const{clipboard:s,clipboardOptions:a,katex:l,katexOptions:c,mermaid:f,mermaidOptions:h}=o;s&&this.renderClipboard(n,i,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...a}),l&&this.renderKatex(n,{...this.DEFAULT_KATEX_OPTIONS,...c}),f&&this.renderMermaid(n,{...this.DEFAULT_MERMAID_OPTIONS,...h}),this.highlight(n)}reload(){this._reload$.next()}getSource(n){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(n,{responseType:"text"}).pipe(un(o=>this.handleExtension(n,o)))}highlight(n){if(!_d(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;n||(n=document);const o=n.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(o,i=>i.classList.add("language-none")),Prism.highlightAllUnder(n)}decodeHtml(n){if(!_d(this.platform))return n;const o=document.createElement("textarea");return o.innerHTML=n,o.value}extendsRendererForExtensions(n){const o=n;return!0===o.\u0275NgxMarkdownRendererExtendedForExtensions||(this.extensions?.length>0&&pr.use(...this.extensions),o.\u0275NgxMarkdownRendererExtendedForExtensions=!0),n}extendsRendererForMermaid(n){const o=n;if(!0===o.\u0275NgxMarkdownRendererExtendedForMermaid)return n;const i=n.code;return n.code=function(s,a,l){return"mermaid"===a?`<div class="mermaid">${s}</div>`:i.call(this,s,a,l)},o.\u0275NgxMarkdownRendererExtendedForMermaid=!0,n}handleExtension(n,o){const i=n.lastIndexOf("://"),s=i>-1?n.substring(i+4):n,a=s.lastIndexOf("/"),l=a>-1?s.substring(a+1).split("?")[0]:"",c=l.lastIndexOf("."),f=c>-1?l.substring(c+1):"";return f&&"md"!==f?"```"+f+"\n"+o+"\n```":o}parseMarked(n,o,i=!1){return o.renderer&&(pr.use({renderer:o.renderer}),delete o.renderer),i?pr.parseInline(n,o):pr.parse(n,o)}parseEmoji(n){if(!_d(this.platform))return n;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(n)}renderKatex(n,o){if(_d(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(n,o)}}renderClipboard(n,o,i){if(!_d(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!o)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:s,buttonTemplate:a}=i,l=n.querySelectorAll("pre");for(let c=0;c<l.length;c++){const f=l.item(c),h=document.createElement("div");h.style.position="relative",f.parentNode.insertBefore(h,f),h.appendChild(f);const g=document.createElement("div");let b,j;g.style.position="absolute",g.style.top=".5em",g.style.right=".5em",g.style.opacity="0",g.style.transition="opacity 250ms ease-out",h.insertAdjacentElement("beforeend",g),f.onmouseover=()=>g.style.opacity="1",f.onmouseout=()=>g.style.opacity="0",b=s?o.createComponent(s).hostView:a?o.createEmbeddedView(a):o.createComponent(Wk).hostView,b.rootNodes.forEach(ee=>{ee.onmouseover=()=>g.style.opacity="1",g.appendChild(ee),j=new ClipboardJS(ee,{text:()=>f.innerText})}),b.onDestroy(()=>j.destroy())}}renderMermaid(n,o=this.DEFAULT_MERMAID_OPTIONS){if(!_d(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.initialize>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const i=n.querySelectorAll(".mermaid");0!==i.length&&(mermaid.initialize(o),mermaid.run({nodes:i}))}trimIndentation(n){if(!n)return"";let o;return n.split("\n").map(i=>{let s=o;return i.length>0&&(s=isNaN(s)?i.search(/\S|$/):Math.min(i.search(/\S|$/),s)),isNaN(o)&&(o=s),s?i.substring(s):i}).join("\n")}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(JW,8),ce(Zk,8),ce(qk,8),ce(tc),ce(Yk),ce(Zb,8),ce(Ub))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})(),d0=(()=>{var e;class t{get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(n){this._disableSanitizer=this.coerceBooleanProperty(n)}get inline(){return this._inline}set inline(n){this._inline=this.coerceBooleanProperty(n)}get clipboard(){return this._clipboard}set clipboard(n){this._clipboard=this.coerceBooleanProperty(n)}get emoji(){return this._emoji}set emoji(n){this._emoji=this.coerceBooleanProperty(n)}get katex(){return this._katex}set katex(n){this._katex=this.coerceBooleanProperty(n)}get mermaid(){return this._mermaid}set mermaid(n){this._mermaid=this.coerceBooleanProperty(n)}get lineHighlight(){return this._lineHighlight}set lineHighlight(n){this._lineHighlight=this.coerceBooleanProperty(n)}get lineNumbers(){return this._lineNumbers}set lineNumbers(n){this._lineNumbers=this.coerceBooleanProperty(n)}get commandLine(){return this._commandLine}set commandLine(n){this._commandLine=this.coerceBooleanProperty(n)}constructor(n,o,i){this.element=n,this.markdownService=o,this.viewContainerRef=i,this.error=new on,this.load=new on,this.ready=new on,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new xn}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(rM(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(n,o=!1){var i=this;return(0,V.Z)(function*(){const s={decodeHtml:o,inline:i.inline,emoji:i.emoji,mermaid:i.mermaid,disableSanitizer:i.disableSanitizer},a={clipboard:i.clipboard,clipboardOptions:{buttonComponent:i.clipboardButtonComponent,buttonTemplate:i.clipboardButtonTemplate},katex:i.katex,katexOptions:i.katexOptions,mermaid:i.mermaid,mermaidOptions:i.mermaidOptions},l=yield i.markdownService.parse(n,s);i.element.nativeElement.innerHTML=l,i.handlePlugins(),i.markdownService.render(i.element.nativeElement,a,i.viewContainerRef),i.ready.emit()})()}coerceBooleanProperty(n){return null!=n&&"false"!=`${String(n)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:n=>{this.render(n).then(()=>{this.load.emit(n)})},error:n=>this.error.emit(n)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,c0.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,c0.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(n,o){const i=n.querySelectorAll("pre");for(let s=0;s<i.length;s++){const a=o instanceof Array?o:[o];i.item(s).classList.add(...a)}}setPluginOptions(n,o){const i=n.querySelectorAll("pre");for(let s=0;s<i.length;s++)Object.keys(o).forEach(a=>{const l=o[a];if(l){const c=this.toLispCase(a);i.item(s).setAttribute(c,l.toString())}})}toLispCase(n){const o=n.match(/([A-Z])/g);if(!o)return n;let i=n.toString();for(let s=0,a=o.length;s<a;s++)i=i.replace(new RegExp(o[s]),"-"+o[s].toLowerCase());return"-"===i.slice(0,1)&&(i=i.slice(1)),i}}return(e=t).\u0275fac=function(n){return new(n||e)(_(tt),_(u0),_(ss))},e.\u0275cmp=Ze({type:e,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},standalone:!0,features:[vi,Gm],ngContentSelectors:KW,decls:1,vars:0,template:function(n,o){1&n&&(Dt(),wt(0))},encapsulation:2}),t})();function l7(e){return[u0,e?.loader??[],e?.clipboardOptions??[],e?.markedOptions??[],{provide:Zk,useValue:e?.markedExtensions??[]},{provide:Yk,useValue:e?.sanitize??Ds.HTML}]}let f0=(()=>{var e;class t{static forRoot(n){return{ngModule:t,providers:[l7(n)]}}static forChild(){return{ngModule:t}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=lt({imports:[rl]}),t})();var Kk;!function(e){let t;var o;let r,n;(o=t=e.SecurityLevel||(e.SecurityLevel={})).Strict="strict",o.Loose="loose",o.Antiscript="antiscript",o.Sandbox="sandbox",function(o){o.Base="base",o.Forest="forest",o.Dark="dark",o.Default="default",o.Neutral="neutral"}(r=e.Theme||(e.Theme={})),function(o){o[o.Debug=1]="Debug",o[o.Info=2]="Info",o[o.Warn=3]="Warn",o[o.Error=4]="Error",o[o.Fatal=5]="Fatal"}(n=e.LogLevel||(e.LogLevel={}))}(Kk||(Kk={}));const Xk="safari"in window,p0=!navigator.userAgent.match(/(crios)|(fxios)/i),Ps=!!navigator.platform.match(/iPhone|iPad|iPod/)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,Qk=!!navigator.userAgent.match(/android/i),c7=navigator.userAgent.toLowerCase().indexOf("firefox")>=0;var $d=function(e){return e.web="web",e.pwa="pwa",e.twa="twa",e}($d||{});new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked");const f7=new Error("request for lock canceled");class h7{constructor(t,r=f7){this._value=t,this._cancelError=r,this._weightedQueues=[],this._weightedWaiters=[]}acquire(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise((r,n)=>{this._weightedQueues[t-1]||(this._weightedQueues[t-1]=[]),this._weightedQueues[t-1].push({resolve:r,reject:n}),this._dispatch()})}runExclusive(t,r=1){return function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(f){try{c(n.next(f))}catch(h){s(h)}}function l(f){try{c(n.throw(f))}catch(h){s(h)}}function c(f){f.done?i(f.value):function o(i){return i instanceof r?i:new r(function(s){s(i)})}(f.value).then(a,l)}c((n=n.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){const[n,o]=yield this.acquire(r);try{return yield t(n)}finally{o()}})}waitForUnlock(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise(r=>{this._weightedWaiters[t-1]||(this._weightedWaiters[t-1]=[]),this._weightedWaiters[t-1].push(r),this._dispatch()})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(t){this._value=t,this._dispatch()}release(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);this._value+=t,this._dispatch()}cancel(){this._weightedQueues.forEach(t=>t.forEach(r=>r.reject(this._cancelError))),this._weightedQueues=[]}_dispatch(){var t;for(let r=this._value;r>0;r--){const n=null===(t=this._weightedQueues[r-1])||void 0===t?void 0:t.shift();if(!n)continue;const o=this._value,i=r;this._value-=r,r=this._value+1,n.resolve([o,this._newReleaser(i)])}this._drainUnlockWaiters()}_newReleaser(t){let r=!1;return()=>{r||(r=!0,this.release(t))}}_drainUnlockWaiters(){for(let t=this._value;t>0;t--)this._weightedWaiters[t-1]&&(this._weightedWaiters[t-1].forEach(r=>r()),this._weightedWaiters[t-1]=[])}}class fl{constructor(t){this._semaphore=new h7(1,t)}acquire(){return e=this,t=void 0,n=function*(){const[,t]=yield this._semaphore.acquire();return t},new((r=void 0)||(r=Promise))(function(i,s){function a(f){try{c(n.next(f))}catch(h){s(h)}}function l(f){try{c(n.throw(f))}catch(h){s(h)}}function c(f){f.done?i(f.value):function o(i){return i instanceof r?i:new r(function(s){s(i)})}(f.value).then(a,l)}c((n=n.apply(e,t||[])).next())});var e,t,r,n}runExclusive(t){return this._semaphore.runExclusive(()=>t())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const p_="cloudpilot-session-preview";function eR(){localStorage.removeItem(p_)}function qn(){return(e,t,r)=>{const n=r.value;let o=!1;return r.value=(0,V.Z)(function*(...i){if(!o){o=!0;try{return yield n.apply(this,i)}finally{o=!1}}}),r}}let Bl=(()=>{var e;class t{constructor(){}getCurrentSession(){return this.currentSession}setCurrentSession(n){this.currentSession=n}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var Bd;class uo{constructor(t,r){this.alertController=t,this.emulationState=r,this.emergencySaveEvent=new Oo.j,this.sanitizeDiv=document.createElement("div")}errorMessage(t,r="Close"){var n=this;return(0,V.Z)(function*(){const o=yield n.alertController.create({header:"Error",backdropDismiss:!1,message:n.sanitizeMessage(t),buttons:[{text:r,role:"cancel"}],cssClass:"alert-error"});yield o.present(),yield o.onDidDismiss()})()}message(t,r,n={},o="Close"){var i=this;return(0,V.Z)(function*(){const s=yield i.alertController.create({header:t,message:i.sanitizeMessage(r),backdropDismiss:!1,buttons:[{text:o,role:"cancel"},...Object.keys(n).map(a=>({text:a,handler:()=>{n[a](),s.dismiss()}}))],cssClass:"alert-message"});yield s.present(),yield s.onDidDismiss()})()}updateAvailable(t){var r=this;return(0,V.Z)(function*(){const n=yield r.alertController.create({header:"Update available",message:'An update is ready for installation. Select "install" to install it and restart the app now.',backdropDismiss:!1,buttons:[{text:"Install",handler:t},{text:"Close",role:"cancel"}]});yield n.present(),yield n.onDidDismiss()})()}fatalError(t,r=!0){var n=this;return(0,V.Z)(function*(){const o=!!n.emulationState.getCurrentSession(),i=yield n.alertController.create({header:"Error",message:n.sanitizeMessage(`\n                ${t}\n                <br/><br/>\n                Please close or reload this window.\n                ${o&&r?" You may save an image of your current session before reloading.":""}\n            `),backdropDismiss:!1,buttons:[...o&&r?[{text:"Save image",handler:()=>(n.emergencySaveEvent.dispatch(),!1)}]:[],{text:"Reload",handler:()=>window.location.reload()}],cssClass:"alert-error"});yield i.present(),yield i.onDidDismiss()})()}errorInNativeCode(t){var r=this;return(0,V.Z)(function*(){const n=yield r.alertController.create({header:"Error",message:r.sanitizeMessage(`\n                You encountered a bug in CloudpilotEmu:\n                <br/><br/>\n                ${t}.\n                <br/><br/>\n                Please close or reload this window.\n            `),backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()}]});yield n.present(),yield n.onDidDismiss()})()}proxyVersionMismatchError(){return this.errorMessage("\n            Server version does not match CloudpilotEmu. Please make sure that you are using the latest\n            versions of CloudpilotEmu and of the server.\n        ")}cardHasNoValidFileSystem(){return this.message("No filesystem","This card does not contain a valid filesystem.",{},"Continue")}cardHasUncorrectableErrors(){return this.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors.",{},"Continue")}cardIsClean(){return this.message("Card clean","No filesystem errors were found.",{},"Continue")}sanitizeMessage(t){return new Tk.I(t.replace(/<br\s*\/?>/g,"<br/>").replace(/\n/gm," ").split("<br/>").map(r=>(this.sanitizeDiv.textContent=r,this.sanitizeDiv.innerHTML)).join("<br/>"))}}(Bd=uo).\u0275fac=function(t){return new(t||Bd)(ce(Hp),ce(Bl))},Bd.\u0275prov=$e({token:Bd,factory:Bd.\u0275fac,providedIn:"root"}),ne([qn()],uo.prototype,"updateAvailable",null),ne([qn()],uo.prototype,"fatalError",null),ne([qn()],uo.prototype,"errorInNativeCode",null);let lu=(()=>{var e;class t{constructor(n,o){this.alertService=n,this.ngZone=o,this.fatalPageLockLost=()=>this.fatalWithMessage("CloudpilotEmu was opened in another tab or window.",!1),this.fatalIDBDead=()=>this.fatalWithMessage("IndexedDB access failed. This is most likely a browser bug.",!1),this.fatalVersionMismatch=()=>this.fatalWithMessage("\n        Database was written by a newer version of CloudpilotEmu. Please wait for a few seconds before reloading\n        while the latest version downloads in the background.\n    ",!1),this.fatalBug=i=>this.fatalWithMessage(`You encountered a bug in CloudpilotEmu:<br/><br/>${i}.`),this.fatalInNativeCode=i=>this.fatalWithMessage(i.message,!0,!1),this.fatalWithMessage=(i,s=!0,a=!0)=>this.ngZone.run(()=>{this.fatalErrorTriggered||(this.fatalErrorTriggered=!0,s&&eR(),this.fatalErrorEvent.dispatch(),this.alertService.fatalError(i,a))}),this.fatalErrorEvent=new Oo.j,this.fatalErrorTriggered=!1}hasFatalError(){return this.fatalErrorTriggered}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(uo),ce(Ge))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var Ar=function(e){return e.cloudpilot="cloudpilot",e.fstools="fstools",e.vfs="vfs",e.none="none",e}(Ar||{});let Yp=(()=>{var e;class t{constructor(n){this.errorService=n,this.ownershipMmap=new Map}getOwner(n){return this.ownershipMmap.get(n)??Ar.none}claim(n,o){this.assertOwnership(n,Ar.none),this.ownershipMmap.set(n,o)}release(n,o){this.assertOwnership(n,o),this.ownershipMmap.delete(n)}assertOwnership(n,o){if(this.getOwner(n)===o)return;const i=o===Ar.none?`Card alread claimed for ${this.getOwner(n)}.`:`Expected card ownership to be ${o}, but is ${this.getOwner(n)}.`;throw this.errorService.fatalBug(i),new Error(i)}transferOwnership(n,o,i){this.assertOwnership(n,o),this.ownershipMmap.set(n,i)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(lu))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const wc="session",Vd="rom",Dc="memory",Vl="state",h_="kvs",Ec="memory-meta",pl="storage",Os="storage-card",Kp="lock";class cu extends Error{constructor(t){super(t)}}function rr(e){return new Promise((t,r)=>{!function C7(e){return!!e.abort}(e)?e.onsuccess=()=>t(e.result):e.oncomplete=()=>t(void 0),e.onerror=()=>r(new cu(e.error?.message))})}function nR(e){let t=255&e[0];t|=t<<8,t|=t<<16;for(let r=0;r<256;r++)if(e[r]!==t)return e;return 255&e[0]}function S7(e){const t=e[0];for(let r=1;r<2048;r++)if(e[r]!==t)return e;return t}const m_="session",m0="memory",oR="storage-meta",iR="storage-card";function g0(){return(g0=(0,V.Z)(function*(e,t){function r(i){switch(i){case"PalmIIIc":case"PalmM505":case"PalmM515":return 81920;case"PalmI710":case"PalmM130":return 262144;default:return 0}}if(!t)throw new Error("no version change transaction!");const o=t.objectStore(m_).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const l=a.value,c={...l,totalMemory:1024*l.ram*1024+r(l.device)};a.update(c),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function _0(){return(_0=(0,V.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");const r=t.objectStore("kvs"),n=yield new Promise((o,i)=>{const s=r.get("proxyCredentials");s.onsuccess=()=>o(s.result),s.onerror=()=>i(new Error(s.error?.message))});n&&(r.put(n,"credentials"),r.delete("proxyCredentials"))})).apply(this,arguments)}function v0(){return(v0=(0,V.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");const r=e.createObjectStore("memory-meta",{keyPath:"sessionId"});e.createObjectStore("storage"),e.createObjectStore(oR,{keyPath:"id",autoIncrement:!0});const o=t.objectStore(m_).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const l=a.value;void 0!==l.totalMemory&&(r.put({sessionId:l.id,totalSize:l.totalMemory}),delete l.totalMemory,a.update(l)),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function y0(){return(y0=(0,V.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");t.objectStore(oR).name=iR})).apply(this,arguments)}function b0(){return(b0=(0,V.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");t.objectStore(iR).createIndex("storageId","storageId")})).apply(this,arguments)}function C0(){return(C0=(0,V.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");e.createObjectStore("lock")})).apply(this,arguments)}const F7=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function sR(e){let t=-1;for(let r=0;r<e.length;r++)t=F7[255&(t^e[r])]^t>>>8;return~t}var L7=C(3219),$7=C.n(L7);const aR={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let g_;const B7=new Uint8Array(16);function V7(){if(!g_&&(g_=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!g_))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return g_(B7)}const di=[];for(let e=0;e<256;++e)di.push((e+256).toString(16).slice(1));const S0=function j7(e,t,r){if(aR.randomUUID&&!t&&!e)return aR.randomUUID();const n=(e=e||{}).random||(e.rng||V7)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return function lR(e,t=0){return di[e[t+0]]+di[e[t+1]]+di[e[t+2]]+di[e[t+3]]+"-"+di[e[t+4]]+di[e[t+5]]+"-"+di[e[t+6]]+di[e[t+7]]+"-"+di[e[t+8]]+di[e[t+9]]+"-"+di[e[t+10]]+di[e[t+11]]+di[e[t+12]]+di[e[t+13]]+di[e[t+14]]+di[e[t+15]]}(n)};var jd;const w0=new Error("page lock lost"),cR=new Error("version mismatch"),uR=S0();function So(){return(e,t,r)=>{const n=r.value;return r.value=(0,V.Z)(function*(...o){const i=this.errorService;try{return yield n.apply(this,o)}catch(s){throw s instanceof cu?i.fatalIDBDead():s===cR?i.fatalVersionMismatch():s===w0?i.fatalPageLockLost():s instanceof Error?i.fatalBug(s?.message):i.fatalBug("unknown reason"),s}}),r}}class sr{constructor(t,r,n){this.ngZone=t,this.errorService=r,this.storageCardContext=n,this.saveMemory=(o,i,s)=>this.ngZone.runOutsideAngular(()=>{const a=o.objectStore(Dc),l=o.objectStore(Ec),c=new Uint32Array(256),f=new Uint8Array(c.buffer);a.delete(IDBKeyRange.bound([i,0],[i+1,0],!1,!0)),l.put({sessionId:i,totalSize:s.length});const g=s.length>>>10;for(let b=0;b<g;b++){f.set(s.subarray(1024*b,1024*(b+1)));const j=nR(c);if("number"==typeof j)a.put(j,[i,b]);else{const ee=new Uint32Array(256);ee.set(j),a.put(ee,[i,b])}}}),this.loadMemory=(o,i,s)=>this.ngZone.runOutsideAngular((0,V.Z)(function*(){const a=o.objectStore(Ec),l=yield rr(a.get(i));if(!l)return;const c=yield new Promise(function(){var f=(0,V.Z)(function*(h,g){const b=o.objectStore(Dc),j=new Uint32Array(l.totalSize>>>2),ee=b.openCursor(IDBKeyRange.bound([i,0],[i+1,0],!1,!0));ee.onsuccess=()=>{const ye=ee.result;if(!ye)return h(new Uint8Array(j.buffer));const Ee=ye.value,[,Ie]=ye.key;"number"==typeof Ee?j.subarray(256*Ie,256*(Ie+1)).fill(Ee|Ee<<8|Ee<<16|Ee<<24):j.subarray(256*Ie,256*(Ie+1)).set(1024===Ee.length?new Uint32Array(Ee.buffer):Ee),ye.continue()},ee.onerror=()=>g(new cu(ee.error?.message))});return function(h,g){return f.apply(this,arguments)}}());if(void 0!==l.crc32&&s&&l.crc32!==sR(c))throw new Error("snapshot CRC mismatch");return c})),this.sessionChangeEvent=new Oo.j,this.storageCardChangeEvent=new Oo.j,this.sessionUpdateMutex=new fl,this.db=this.requestPersistentStorage().then(()=>t.runOutsideAngular(()=>this.setupDb()))}getDb(){return this.db}addSession(t,r,n,o){var i=this;return(0,V.Z)(function*(){const s=$7()(r),a=yield i.newTransaction(wc,Vd,Vl,Dc,Ec),l=a.objectStore(wc),c=a.objectStore(Vd);(yield rr(c.get(s)))||c.put(r,s);const{id:h,...g}=t,b=yield rr(l.add({...g,rom:s})),j=yield rr(l.get(b));return n&&i.saveMemory(a,j.id,n),o&&i.saveState(a,j.id,o),yield rr(a),j})()}getAllSessions(){var t=this;return(0,V.Z)(function*(){const[r]=yield t.prepareObjectStore(wc);return yield rr(r.getAll())})()}getSession(t){var r=this;return(0,V.Z)(function*(){const[n]=yield r.prepareObjectStore(wc);return yield rr(n.get(t))})()}deleteSession(t){var r=this;return(0,V.Z)(function*(){const n=yield r.newTransaction(wc,Vd,Vl,Dc,Ec),o=n.objectStore(wc),i=n.objectStore(Vd);(t=yield rr(o.get(t.id)))&&(o.delete(t.id),0===(yield rr(o.index("rom").getAll(t.rom))).length&&i.delete(t.rom),r.deleteMemory(n,t.id),r.deleteState(n,t.id),yield rr(n),r.sessionChangeEvent.dispatch([t.id,void 0]))})()}updateSessionPartial(t,r){var n=this;return this.sessionUpdateMutex.runExclusive((0,V.Z)(function*(){const{id:o,rom:i,ram:s,device:a,...l}=r,[c,f]=yield n.prepareObjectStore(wc),h=yield rr(c.get(t));if(!h)throw new Error(`no session with id ${t}`);const g={...h,...l};c.put(g),yield rr(f),n.sessionChangeEvent.dispatch([h.id,g])}))}updateSession(t){var r=this;return this.sessionUpdateMutex.runExclusive((0,V.Z)(function*(){const[n,o]=yield r.prepareObjectStore(wc),i=yield rr(n.get(t.id));if(!i)throw new Error(`no session with id ${t.id}`);if(i.rom!==t.rom)throw new Error("attempt to change ROM reference");if(i.ram!==t.ram)throw new Error("attempt to change RAM size");if(i.device!==t.device)throw new Error("attempt to change device type");n.put(t),yield rr(o),r.sessionChangeEvent.dispatch([t.id,t])}))}loadSession(t,r){var n=this;return(0,V.Z)(function*(){const o=yield n.newTransaction(Vd,Vl,Dc,Ec),i=o.objectStore(Vd);return[yield rr(i.get(t.rom)),yield n.loadMemory(o,t.id,r),yield n.loadState(o,t.id)]})()}deleteStateForSession(t){var r=this;return(0,V.Z)(function*(){const[n,o]=yield r.prepareObjectStore(Vl);n.delete(t.id),yield rr(o)})()}addEmptyStorageCard(t){var r=this;return(0,V.Z)(function*(){const[n]=yield r.prepareObjectStore(Os),o=yield rr(n.add(t)),i=yield rr(n.get(o));return r.storageCardChangeEvent.dispatch(i.id),i})()}importStorageCard(t,r){var n=this;return(0,V.Z)(function*(){return n.ngZone.runOutsideAngular((0,V.Z)(function*(){const o=yield n.newTransaction(Os,pl),i=o.objectStore(Os),s=o.objectStore(pl),a=yield rr(i.add(t)),l=(t.size>>>13)+(r.length%8192==0?0:1),c=new Uint32Array(2048);for(let h=0;h<l;h++){const g=r.subarray(2048*h,2048*(h+1));h===l-1&&c.set(g);const b=S7(h===l-1?c:g);0!==b&&s.put("number"==typeof b?b:b?.slice(),[a,h])}const f=yield rr(i.get(a));return yield rr(o),n.storageCardChangeEvent.dispatch(f.id),f}))})()}getAllStorageCards(){var t=this;return(0,V.Z)(function*(){const[r]=yield t.prepareObjectStore(Os);return rr(r.getAll())})()}getCard(t){var r=this;return(0,V.Z)(function*(){const[n]=yield r.prepareObjectStore(Os);return rr(n.get(t))})()}updateStorageCardPartial(t,r){var n=this;return(0,V.Z)(function*(){const{storageId:o,size:i,id:s,...a}=r,[l,c]=yield n.prepareObjectStore(Os),f=yield rr(l.get(t));if(!f)throw new Error(`no card with id ${t}`);const h={...f,...a};l.put(h),yield rr(c),n.storageCardChangeEvent.dispatch(t)})()}deleteStorageCard(t){var r=this;return(0,V.Z)(function*(){const n=yield r.newTransaction(Os,pl);r.storageCardContext.assertOwnership(t,Ar.none);const o=n.objectStore(Os),i=n.objectStore(pl);o.delete(t),i.delete(IDBKeyRange.bound([t,0],[t+1,0],!1,!0)),yield rr(n),r.storageCardChangeEvent.dispatch(t)})()}loadCardData(t,r,n){var o=this;return this.ngZone.runOutsideAngular((0,V.Z)(function*(){r.fill(0);const i=yield o.newTransaction(Os,pl);o.storageCardContext.assertOwnership(t,n);const s=i.objectStore(pl);yield new Promise(function(){var a=(0,V.Z)(function*(l,c){const f=s.openCursor(IDBKeyRange.bound([t,0],[t+1,0],!1,!0));f.onsuccess=()=>{const h=f.result;if(!h)return l();let g=h.value;const[,b]=h.key;"number"==typeof g?r.subarray(2048*b,2048*(b+1)).fill(g):(2048*(b+1)>r.length&&(g=g.subarray(0,2048-2048*(b+1)+r.length)),r.subarray(2048*b,2048*(b+1)).set(g)),h.continue()},f.onerror=()=>c(new cu(f.error?.message))});return function(l,c){return a.apply(this,arguments)}}())}))}updateCardData(t,r,n,o){var i=this;return this.ngZone.runOutsideAngular((0,V.Z)(function*(){const s=yield i.newTransaction(Os,pl);i.storageCardContext.assertOwnership(t,o);const a=s.objectStore(Os),l=s.objectStore(pl),c=yield rr(a.get(t));if(!c)throw new Error(`no card with ID ${t}`);if(r.length!==c.size>>>2)throw new Error("data size mismatch");const f=(c.size>>>13)+(c.size%8192>0?1:0);if((f>>>3)+(f%8>0?1:0)!==n.length)throw new Error("dirty pages size mismatch");let h=0;for(let g=0;g<n.length;g++)for(let b=1;b<256&&!(h>=f);b<<=1)n[g]&b&&l.put(r.subarray(2048*h,2048*(h+1)).slice(),[c.id,h]),h++;yield rr(s)}))}kvsGet(t){var r=this;return(0,V.Z)(function*(){const[n]=yield r.prepareObjectStore(h_);return rr(n.get(t))})()}kvsSet(t){var r=this;return(0,V.Z)(function*(){const[n,o]=yield r.prepareObjectStore(h_);for(const i of Object.keys(t))n.put(t[i],i);yield rr(o)})()}kvsLoad(){var t=this;return(0,V.Z)(function*(){const[r]=yield t.prepareObjectStore(h_);return new Promise((n,o)=>{const i={},s=r.openCursor();s.onsuccess=()=>{const a=s.result;if(!a)return n(i);i[a.key]=a.value,a.continue()},s.onerror=()=>o(new cu(s.error?.message))})})()}kvsDelete(t){var r=this;return(0,V.Z)(function*(){const[n,o]=yield r.prepareObjectStore(h_);n.delete(t),yield rr(o)})()}acquireLock(t){var r=this;return(0,V.Z)(function*(){if(r.errorService.hasFatalError())throw new Error("fatal error detected --- refusing DB access");if((yield rr(t.objectStore(Kp).get(0)))!==uR)throw t.abort(),t.db.close(),w0})()}newTransaction(...t){var r=this;return(0,V.Z)(function*(){const n=(yield r.db).transaction([Kp,...t],"readwrite",{durability:"relaxed"});return yield r.acquireLock(n),n})()}prepareObjectStore(t){var r=this;return(0,V.Z)(function*(){const n=yield r.newTransaction(t);return[n.objectStore(t),n]})()}saveState(t,r,n){const o=t.objectStore(Vl);n?o.put(n,r):o.delete(r)}deleteState(t,r){t.objectStore(Vl).delete(r)}loadState(t,r){return rr(t.objectStore(Vl).get(r))}deleteMemory(t,r){const n=t.objectStore(Dc),o=t.objectStore(Ec);n.delete(IDBKeyRange.bound([r,0],[r+1,0],!1,!0)),o.delete(r)}initializeLock(t){return(0,V.Z)(function*(){const r=t.transaction(Kp,"readwrite");yield rr(r.objectStore(Kp).put(uR,0))})()}setupDb(){var t=this;return(0,V.Z)(function*(){const r=setTimeout(()=>Ps&&window.location.reload(),500);try{if(indexedDB.databases){const o=(yield indexedDB.databases()).find(i=>"cloudpilot-preview"===i.name);if(clearTimeout(r),o&&void 0!==o.version&&o.version>9)throw cR}const n=yield new Promise((o,i)=>{const s=indexedDB.open("cloudpilot-preview",9);s.onerror=()=>{i(new cu("failed to open DB"))},s.onsuccess=()=>{o(s.result)},s.onblocked=()=>{i(new cu("failed to open DB: required upgrade blocked by an open instance of CloudPilotEmu"))},s.onupgradeneeded=function(){var a=(0,V.Z)(function*(l){clearTimeout(r),l.oldVersion<1&&function T7(e){e.createObjectStore(m_,{keyPath:"id",autoIncrement:!0}).createIndex("rom","rom"),e.createObjectStore("state")}(s.result),l.oldVersion<2&&function M7(e,t){if(!t)throw new Error("no version change transaction!");e.objectStoreNames.contains("rom")&&e.deleteObjectStore("rom"),e.objectStoreNames.contains(m0)&&e.deleteObjectStore(m0),t.objectStore(m_).clear(),e.createObjectStore("rom"),e.createObjectStore(m0),e.createObjectStore("kvs")}(s.result,s.transaction),l.oldVersion<4&&(yield function A7(e,t){return g0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<5&&(yield function k7(e,t){return _0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<6&&(yield function R7(e,t){return v0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<7&&(yield function P7(e,t){return y0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<8&&(yield function O7(e,t){return b0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<9&&(yield function N7(e,t){return C0.apply(this,arguments)}(s.result,s.transaction))});return function(l){return a.apply(this,arguments)}}()});return yield t.initializeLock(n),n}finally{clearTimeout(r)}})()}requestPersistentStorage(){return(0,V.Z)(function*(){(!navigator.storage?.persist||!navigator.storage?.persisted)&&console.log("storage manager not supported; unable to request persistent storage");try{(yield navigator.storage.persisted())||(yield navigator.storage.persist())?console.log("persistent storage enabled"):console.log("request for persistent storage denied by browser")}catch(t){console.warn(t),console.log("failed to request persistent storage")}})()}}(jd=sr).\u0275fac=function(t){return new(t||jd)(ce(Ge),ce(lu),ce(Yp))},jd.\u0275prov=$e({token:jd,factory:jd.\u0275fac,providedIn:"root"}),ne([So()],sr.prototype,"addSession",null),ne([So()],sr.prototype,"getAllSessions",null),ne([So()],sr.prototype,"getSession",null),ne([So()],sr.prototype,"deleteSession",null),ne([So()],sr.prototype,"updateSessionPartial",null),ne([So()],sr.prototype,"updateSession",null),ne([So()],sr.prototype,"loadSession",null),ne([So()],sr.prototype,"deleteStateForSession",null),ne([So()],sr.prototype,"addEmptyStorageCard",null),ne([So()],sr.prototype,"importStorageCard",null),ne([So()],sr.prototype,"getAllStorageCards",null),ne([So()],sr.prototype,"getCard",null),ne([So()],sr.prototype,"updateStorageCardPartial",null),ne([So()],sr.prototype,"deleteStorageCard",null),ne([So()],sr.prototype,"loadCardData",null),ne([So()],sr.prototype,"kvsGet",null),ne([So()],sr.prototype,"kvsSet",null),ne([So()],sr.prototype,"kvsDelete",null),ne([So()],sr.prototype,"newTransaction",null),ne([So()],sr.prototype,"prepareObjectStore",null),ne([So()],sr.prototype,"initializeLock",null),ne([So()],sr.prototype,"setupDb",null);const dR={volume:.5,showStatistics:!1,clipboardIntegration:!1,networkRedirection:!1,proxyServer:"",credentials:{},runHidden:!1,autoLockUI:!1,enableRemoteInstall:!1,enableAudioOnFirstInteraction:!1,snapshotIntegrityCheck:!1};let Si=(()=>{var e;class t{constructor(n){var o=this;this.storageService=n,this.set=i=>this.storageMutex.runExclusive((0,V.Z)(function*(){yield o.storageService.kvsSet(i);for(const s of Object.keys(i))o.rawKvs[s]=i[s];o.updateEvent.dispatch()})),this.updateEvent=new Oo.j,this.mutex=new fl,this.storageMutex=new fl,this.initializationPromise=this.startInitialiation()}initialize(){var n=this;return(0,V.Z)(function*(){return n.initializationPromise})()}get kvs(){return this.kvsProxy}startInitialiation(){var n=this;return(0,V.Z)(function*(){const o=n;try{const i={...dR,...yield n.storageService.kvsLoad()};n.rawKvs=i,n.kvsProxy=new Proxy(i,{set:(s,a,l)=>(s[a]=l,o.storageMutex.runExclusive(()=>o.storageService.kvsSet({[a]:l})),o.updateEvent.dispatch(),!0),deleteProperty:(s,a)=>(delete s[a],o.storageMutex.runExclusive(()=>o.storageService.kvsDelete(a)),o.updateEvent.dispatch(),!0)})}catch(i){console.error("failed to load KVS"),console.error(i),n.kvsProxy={...dR}}})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(sr))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),fR=(()=>{var e;class t{constructor(n,o){var i=this;this.kvsService=n,this.alertService=o,this.serviceWorkerKeepalive=(0,V.Z)(function*(){if(navigator.serviceWorker)try{const s=yield navigator.serviceWorker.getRegistration();s?.active?.postMessage&&s.active.postMessage({})}catch{}setTimeout(i.serviceWorkerKeepalive,9e5)}),this.installationMode=this.determineInstallationMode(),this.serviceWorkerKeepalive()}promptForInstall(){return(Ps||Qk)&&this.installationMode===$d.web}getInstallationMode(){return this.installationMode}install(){this.alertService.message("Install app",this.getInstallMessage())}invite(){this.promptForInstall()&&(this.kvsService.kvs.didShowInvitation||(this.kvsService.kvs.didShowInvitation=!0,window.hasOwnProperty("onbeforeinstallprompt")||this.alertService.message("App available",this.getInviteMessage())))}getInstallMessage(){return Ps&&p0?'\n    Tap the "Share" icon on the bottom of the screen (the little box with the arrow)\n    and select "Add to Home Screen" in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':Ps?'\n    Open CloudpilotEmu in Safari, tap the "Share" icon on the bottom of the screen\n    (the little box with the arrow) and select "Add to Home Screen" in order to install\n    CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Open your browser\'s menu and tap "Add to Home screen" or "Install App"\n    in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}getInviteMessage(){return Ps&&p0?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by tapping the "Share" icon\n    at the bottom of the screen (the little box with the arrow) and selecting\n    "Add to Home Screen".\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':Ps?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by opening it in Safari,\n    tapping the "Share" icon at the bottom of the screen (the little box with the arrow)\n    and selecting "Add to Home Screen"\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Howdy! It seems that you are using CloudpilotEmu on an Android device. You can\n    install CloudpilotEmu as an app by opening your browser\'s menu\n    and tapping "Add to Home screen".\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}determineInstallationMode(){return window.navigator.standalone?$d.pwa:document.referrer.startsWith("android-app://")?$d.twa:window.matchMedia("(display-mode: standalone)").matches?$d.pwa:$d.web}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Si),ce(uo))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function Y7(e,t){1&e&&(H(0,"div",5),Ve(1,"ion-spinner"),F())}let uu=(()=>{var e;class t{constructor(n){this.modalController=n,this.title="Help",this.loading=!0}}return(e=t).\u0275fac=function(n){return new(n||e)(_(cs))},e.\u0275cmp=Ze({type:e,selectors:[["app-help"]],inputs:{url:"url",title:"title"},decls:10,vars:3,consts:[["slot","primary"],[3,"click"],["fullscreen",""],["class","loader",4,"ngIf"],[3,"src","load"],[1,"loader"]],template:function(n,o){1&n&&(H(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3),F(),H(4,"ion-buttons",0)(5,"ion-button",1),Ne("click",function(){return o.modalController.dismiss()}),Ce(6,"Close"),F()()()(),H(7,"ion-content",2),Qt(8,Y7,2,0,"div",3),H(9,"markdown",4),Ne("load",function(){return o.loading=!1}),F()()),2&n&&(me(3),Ai(o.title),me(5),Se("ngIf",o.loading),me(1),Se("src",o.url))},dependencies:[Po,d0,Fi,Li,$i,Bi,jp,ji,Gi],styles:["markdown[_ngcontent-%COMP%]{display:block;padding-left:1em;padding-right:1em}.loader[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}"]}),t})();const du="1.9.4-df69463 (preview)",hR=C.p+"assets/doc/CHANGELOG-ab689ab96a775e56.md";var __=C(1633);const v_=((e,t)=>{let r=null;return()=>{if(null!==r)return r;const n=new Blob(['(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error(\'The given type "\'.concat(i,\'" is not supported\'));(e=>{const r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error(\'The given method "\'.concat(s.method,\'" is not supported\'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error(\'The given type "\'.concat(d,\'" is not supported\'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();'],{type:"application/javascript; charset=utf-8"}),o=URL.createObjectURL(n);return r=(e=>{const t=new Map([[0,()=>{}]]),r=new Map([[0,()=>{}]]),n=new Map,o=new Worker(e);return o.addEventListener("message",({data:c})=>{if((e=>void 0!==e.method&&"call"===e.method)(c)){const{params:{timerId:f,timerType:h}}=c;if("interval"===h){const g=t.get(f);if("number"==typeof g){const b=n.get(g);if(void 0===b||b.timerId!==f||b.timerType!==h)throw new Error("The timer is in an undefined state.")}else{if(!(typeof g<"u"))throw new Error("The timer is in an undefined state.");g()}}else if("timeout"===h){const g=r.get(f);if("number"==typeof g){const b=n.get(g);if(void 0===b||b.timerId!==f||b.timerType!==h)throw new Error("The timer is in an undefined state.")}else{if(!(typeof g<"u"))throw new Error("The timer is in an undefined state.");g(),r.delete(f)}}}else{if(!(e=>null===e.error&&"number"==typeof e.id)(c)){const{error:{message:f}}=c;throw new Error(f)}{const{id:f}=c,h=n.get(f);if(void 0===h)throw new Error("The timer is in an undefined state.");const{timerId:g,timerType:b}=h;n.delete(f),"interval"===b?t.delete(g):r.delete(g)}}}),{clearInterval:c=>{const f=(0,__.generateUniqueNumber)(n);n.set(f,{timerId:c,timerType:"interval"}),t.set(c,f),o.postMessage({id:f,method:"clear",params:{timerId:c,timerType:"interval"}})},clearTimeout:c=>{const f=(0,__.generateUniqueNumber)(n);n.set(f,{timerId:c,timerType:"timeout"}),r.set(c,f),o.postMessage({id:f,method:"clear",params:{timerId:c,timerType:"timeout"}})},setInterval:(c,f)=>{const h=(0,__.generateUniqueNumber)(t);return t.set(h,()=>{c(),"function"==typeof t.get(h)&&o.postMessage({id:null,method:"set",params:{delay:f,now:performance.now(),timerId:h,timerType:"interval"}})}),o.postMessage({id:null,method:"set",params:{delay:f,now:performance.now(),timerId:h,timerType:"interval"}}),h},setTimeout:(c,f)=>{const h=(0,__.generateUniqueNumber)(r);return r.set(h,c),o.postMessage({id:null,method:"set",params:{delay:f,now:performance.now(),timerId:h,timerType:"timeout"}}),h}}})(o),setTimeout(()=>URL.revokeObjectURL(o)),r}})();var Gd=function(e){return e[e.animationFrame=0]="animationFrame",e[e.timeout=1]="timeout",e}(Gd||{});class mR{constructor(t){this.callback=t}schedule(){void 0===this.handle&&(this.handle=requestAnimationFrame(t=>{this.handle=void 0,this.callback(t)}))}cancel(){void 0!==this.handle&&(cancelAnimationFrame(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return Gd.animationFrame}}class t9{constructor(t,r=60){this.callback=t,this.fps=r}schedule(){if(void 0!==this.handle)return;const t=performance.now(),r=1e3*Math.ceil(t/1e3*this.fps)/this.fps;this.handle=((e,t)=>v_().setTimeout(e,t))(()=>{this.handle=void 0,this.callback(performance.now())},Math.max(r-t,0))}cancel(){var e;void 0!==this.handle&&(e=this.handle,v_().clearTimeout(e),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return Gd.timeout}}const n9=[135,135,105],r9=[0,0,0],Ic=new Array(16).fill(0).map((e,t)=>r9.map((r,n)=>Math.floor((t*r+(15-t)*n9[n])/15))).map(([e,t,r])=>4278190080|r<<16|t<<8|e),D0=Ic.map(e=>"#"+(16777215&e).toString(16).padStart(6,"0").match(/(..?)/g)?.reverse().join(""));var Q=function(e){return e.palmPilot="PalmPilot",e.pilot="Pilot",e.iii="PalmIII",e.palmVx="PalmVx",e.palmV="PalmV",e.palmVII="PalmVII",e.palmVIIEZ="PalmVIIEZ",e.palmVIIx="PalmVIIx",e.iiic="PalmIIIc",e.iiix="PalmIIIx",e.iiixe="PalmIIIxe",e.iiie="PalmIIIe",e.m500="PalmM500",e.m505="PalmM505",e.m515="PalmM515",e.m520="PalmM520",e.m100="PalmM100",e.m105="PalmM105",e.m125="PalmM125",e.m130="PalmM130",e.i705="Palmi705",e.i710="PalmI710",e.handera330="HandEra330",e.handera330c="HandEra330c",e.pegS300="PEG-S300",e.pegS320="PEG-S320",e.pegS500c="PEG-S500C",e.pegT400="PEG-T400",e.pegN600c="PEG-N600C/N610C",e.pegT600c="PEG-T600",e.pegN700c="PEG-N700C/N710C",e.pegT650c="YSX1230",e.pegNR70="NR70",e.acerS11="Acer-S11",e.lp168="Legend-P168",e}(Q||{}),Ud=function(e){return e.sdcard="sdcard",e.memorystick="memorystick",e.none="none",e}(Ud||{});function Xp(e){switch(e){case Q.i710:case Q.m520:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case Q.handera330:case Q.handera330c:case Q.lp168:return{screenSize:2,width:240,height:320,silkscreenHeight:0};case Q.pegS300:case Q.pegS320:case Q.pegS500c:return{screenSize:0,width:160,height:160,silkscreenHeight:76};case Q.pegT600c:case Q.pegT400:case Q.pegT650c:return{screenSize:1,width:320,height:320,silkscreenHeight:140,silkscreenOvershoot:10};case Q.pegN600c:case Q.pegN700c:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case Q.pegNR70:return{screenSize:3,width:320,height:480,silkscreenHeight:0};case Q.acerS11:return{screenSize:0,width:160,height:160,silkscreenHeight:60,siklscreenShift:8};default:return{screenSize:0,width:160,height:160,silkscreenHeight:60}}}function E0(e){switch(e){case Q.pilot:case Q.palmPilot:case Q.iii:case Q.palmV:case Q.palmVx:case Q.iiix:case Q.iiixe:case Q.iiie:case Q.m100:case Q.m105:case Q.m125:case Q.m500:case Q.palmVII:case Q.palmVIIEZ:case Q.palmVIIx:case Q.i705:case Q.handera330:case Q.pegS300:case Q.pegS320:case Q.pegT400:case Q.acerS11:return!1;default:return!0}}function gR(e){switch(e){case Q.pilot:return"Pilot";case Q.palmPilot:return"Palm Pilot";case Q.iii:return"Palm III";case Q.m500:return"Palm m500";case Q.m505:return"Palm m505";case Q.m515:return"Palm m515";case Q.m520:return"Palm m520";case Q.palmVx:return"Palm Vx";case Q.iiix:return"Palm IIIx";case Q.iiixe:return"Palm IIIxe";case Q.iiie:return"Palm IIIe";case Q.palmV:return"Palm V";case Q.palmVII:return"Palm VII";case Q.palmVIIEZ:return"Palm VII EZ";case Q.palmVIIx:return"Palm VIIx";case Q.iiic:return"Palm IIIc";case Q.m100:return"Palm m100";case Q.m105:return"Palm m105";case Q.m125:return"Palm m125";case Q.m130:return"Palm m130";case Q.i705:return"Palm i705";case Q.i710:return"Tungsten W";case Q.handera330:return"Handera 330";case Q.handera330c:return"Handera 330c";case Q.pegS300:return"Sony PEG-S300";case Q.pegS320:return"Sony PEG-S320";case Q.pegT400:return"Sony PEG-T400 series";case Q.pegN600c:return"Sony PEG-N600C series";case Q.pegT600c:return"Sony PEG-T600C series";case Q.pegN700c:return"Sony PEG-N700C series";case Q.pegT650c:return"Sony PEG-T650C series";case Q.pegNR70:return"Sony PEG-NR70 series";case Q.pegS500c:return"Sony PEG-S500C series";case Q.acerS11:return"Acer S1x series";case Q.lp168:return"Legend P168";default:throw new Error("bad device ID")}}function _R(e){switch(e){case Q.m500:case Q.m505:case Q.m515:case Q.m520:case Q.m125:case Q.m130:case Q.i705:case Q.i710:case Q.handera330:case Q.handera330c:return Ud.sdcard;case Q.pegS300:case Q.pegS500c:case Q.pegS320:case Q.pegT400:case Q.pegN600c:case Q.pegT600c:case Q.pegN700c:case Q.pegT650c:case Q.pegNR70:case Q.acerS11:return Ud.memorystick;default:return Ud.none}}class vR{constructor(t,r){this.queue=new Array(t).fill(0),this.reset(r)}reset(t=0){this.next=1,this.size=1,this.queue[0]=t}push(t){return this.queue[this.next]=t,this.next=(this.next+1)%this.queue.length,this.size<this.queue.length&&this.size++,this}calculateAverage(){let t=0;for(let r=0;r<this.size;r++)t+=this.queue[r];return t/this.size}}class s9{constructor(t){this.start=0,this.size=0,this.buffer=new Array(t)}push(t){return this.size<this.buffer.length?this.buffer[(this.start+this.size++)%this.buffer.length]=t:(this.start=(this.start+1)%this.buffer.length,this.buffer[(this.start+this.size-1)%this.buffer.length]=t),this}pop(){if(0===this.size)return;const t=this.buffer[this.start];return this.start=(this.start+1)%this.buffer.length,this.size--,t}peekLast(){if(0!==this.size)return this.buffer[(this.start+this.size-1)%this.buffer.length]}replaceLast(t){return this.size>0&&(this.buffer[(this.start+this.size-1)%this.buffer.length]=t),this}count(){return this.size}flush(){return this.start=0,this.size=0,this}}class p9{constructor(){this.onPwmUpdate=t=>{this.pendingPwmUpdates.count()>0&&this.pendingPwmUpdates.peekLast().frequency<0?this.pendingPwmUpdates.replaceLast(t):this.pendingPwmUpdates.push(t)},this.advanceEmulation=t=>{if(this.isDirty=!1,!this.cloudpilotInstance||this.hasFatalError()||t<this.clockEmulator)return;const r=this.cloudpilotInstance.isSuspended();let n=!1;this.cloudpilotInstance.setClockFactor(this.emulationSpeed*this.getConfiguredSpeed()),t-this.clockEmulator>1e3/30&&(this.clockEmulator=t-1e3/30);const o=(t-this.clockEmulator)/1e3*this.cloudpilotInstance.cyclesPerSecond(),i=performance.now();let s=0;for(;s<o;)if(s+=this.cloudpilotInstance.runEmulation(Math.ceil(o-s)),this.cloudpilotInstance.isSuspended()){n=!0;break}const a=s/this.cloudpilotInstance.cyclesPerSecond()*1e3,l=performance.now()-i;if(this.clockEmulator+=Math.max(a,l),this.speedAverage.push(a/(l>0?l:a/1e3)*this.emulationSpeed),this.updateEmulationSpeed(this.speedAverage.calculateAverage()),n&&!r)return void this.handleSuspend();const c=this.cloudpilotInstance.isPowerOff(),f=this.cloudpilotInstance.isUiInitialized();if(c!==this.powerOff||f!==this.uiInitialized){const h=this.powerOff;this.powerOff=c,this.uiInitialized=f,h!==this.powerOff&&this.powerOffChangeEvent.dispatch(this.powerOff),this.isDirty=!0}f&&!c&&this.manageHotsyncName()&&this.checkAndUpdateHotsyncName(),this.onAfterAdvanceEmulation(t,s)},this.newFrameEvent=new Oo.j,this.pwmUpdateEvent=new Oo.j,this.emulationStateChangeEvent=new Oo.j,this.powerOffChangeEvent=new Oo.j,this.deviceId=Q.m515,this.clockEmulator=0,this.scheduler=new mR(t=>this.onSchedule(t)),this.canvas=document.createElement("canvas"),this.canvasTmp=document.createElement("canvas"),this.lastPenUpdate=0,this.penDown=!1,this.running=!1,this.powerOff=!1,this.uiInitialized=!1,this.pendingPwmUpdates=new s9(10),this.lastPwmUpdateEvent=0,this.emulationSpeed=1,this.speedAverage=new vR(20),this.timePerFrameAverage=new vR(60),this.timestampLastFrame=0,this.frameCounter=0,this.isDirty=!1}handlePointerMove(t,r,n){if(!this.handleInput())return;const o=performance.now();if(this.penDown=!0,!(o-this.lastPenUpdate<25)&&this.cloudpilotInstance){if(n){const i=Xp(this.deviceId);t=this.transformSilkscreenX(t,i),r=this.transformSilkscreenY(r,i)}this.cloudpilotInstance.queuePenMove(Math.floor(t),Math.floor(r)),this.lastPenUpdate=o}}handlePointerUp(){this.handleInput()&&(this.cloudpilotInstance&&this.penDown&&this.cloudpilotInstance.queuePenUp(),this.lastPenUpdate=0,this.penDown=!1)}handleButtonDown(t){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonDown(t)}handleButtonUp(t){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonUp(t)}handleKeyDown(t,r=!1){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueKeyboardEvent(t,r)}reset(){this.cloudpilotInstance&&this.cloudpilotInstance.reset()}resetNoExtensions(){this.cloudpilotInstance&&this.cloudpilotInstance.resetNoExtensions()}resetHard(){this.cloudpilotInstance&&this.cloudpilotInstance.resetHard()}isRunning(){return this.running}isPowerOff(){return this.powerOff}isUiInitialized(){return this.uiInitialized}getCanvas(){return this.canvas}getStatistics(){return{hostSpeed:this.speedAverage.calculateAverage(),emulationSpeed:this.emulationSpeed,averageFps:this.calculateFPS()}}getEmulationSpeed(){return this.emulationSpeed}isSuspended(){return!!this.cloudpilotInstance&&this.cloudpilotInstance.isSuspended()}onAfterAdvanceEmulation(t,r){}handleSuspend(){}callScheduler(){this.scheduler.schedule()}handleInput(){return!0}openSession(t,r,n,o,i){let s=!1;return!!t.initializeSession(r,n)&&(o&&(o.length%4!=0?console.warn("memory size is not a multiple of 4; ignoring image"):(s=t.loadMemory(new Uint32Array(o.buffer,o.byteOffset,o.length>>>2)),s||console.warn("failed to load memory"))),s&&i&&t.loadState(i),t.remountCards(),this.cloudpilotInstance&&this.cloudpilotInstance.pwmUpdateEvent.removeHandler(this.onPwmUpdate),t.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.cloudpilotInstance=t,this.deviceId=n,this.resetCanvas(),this.pendingPwmUpdates.flush(),this.lastPwmUpdateEvent=0,this.deviceHotsyncName=void 0,this.emulationSpeed=1,this.frameCounter=0,this.speedAverage.reset(1),this.powerOff=t.isPowerOff(),this.uiInitialized=t.isUiInitialized(),this.frameCounter=0,!0)}resetCanvas(){const t=Xp(this.deviceId);this.canvas.width=this.canvasTmp.width=t.width,this.canvas.height=this.canvasTmp.height=t.height;const r=this.canvas.getContext("2d");if(!r)throw new Error("get a new browser");this.context=r;const n=this.canvasTmp.getContext("2d");if(!n)throw new Error("get a new browser");this.contextTmp=n,this.clearCanvas(),this.imageData=void 0}doResume(){this.cloudpilotInstance&&(this.clockEmulator=performance.now(),this.schedule(),this.setRunning(!0),this.resetFPS())}doPause(){this.stopLoop()}doStop(){this.stopLoop()}stopLoop(){this.running&&(this.scheduler.cancel(),void 0!==this.advanceEmulationHandle&&(window.clearTimeout(this.advanceEmulationHandle),this.advanceEmulationHandle=void 0),this.setRunning(!1))}resetFPS(){this.timePerFrameAverage.reset(),this.timestampLastFrame=performance.now()}calculateFPS(){const t=this.timePerFrameAverage.calculateAverage();return t&&1e3/t}transformSilkscreenX(t,r){return void 0===r.silkscreenOvershoot?t:(t-r.width/2)/(r.width/(r.width+2*r.silkscreenOvershoot))+r.width/2}transformSilkscreenY(t,r){return void 0===r.siklscreenShift?t:t+r.siklscreenShift}setRunning(t){t!==this.running&&(this.running=t,this.emulationStateChangeEvent.dispatch(t))}updateEmulationSpeed(t){if(t>=1&&this.emulationSpeed>=1)return;const r=Math.min(Math.max(Math.floor(10*t)/10,.1),1);this.emulationSpeed=r<=this.emulationSpeed||t-r>=.05?r:this.emulationSpeed}performScreenUpdate(){this.cloudpilotInstance?.isScreenDirty()&&(this.updateScreen(),this.cloudpilotInstance.markScreenClean(),this.frameCounter++)}onSchedule(t){this.hasFatalError()||(this.skipEmulationUpdate()||(this.performScreenUpdate(),this.pendingPwmUpdates.count()>0&&t-this.lastPwmUpdateEvent>10&&(this.pwmUpdateEvent.dispatch(this.pendingPwmUpdates.pop()),this.lastPwmUpdateEvent=t),void 0===this.advanceEmulationHandle&&(this.advanceEmulationHandle=window.setTimeout(()=>{this.advanceEmulationHandle=void 0,this.advanceEmulation(t)},0)),this.timePerFrameAverage.push(Math.max(0,t-this.timestampLastFrame)),this.timestampLastFrame=t),this.schedule())}schedule(){this.scheduler.cancel(),this.getConfiguredSchdedulerKind()!==this.scheduler.getKind()&&(this.scheduler=this.getConfiguredSchdedulerKind()===Gd.animationFrame?new mR(t=>this.onSchedule(t)):new t9(t=>this.onSchedule(t))),this.callScheduler()}checkAndUpdateHotsyncName(){if(!this.cloudpilotInstance)return;void 0===this.deviceHotsyncName&&(this.deviceHotsyncName=this.cloudpilotInstance.getHotsyncName());const t=this.getConfiguredHotsyncName();void 0===t?this.updateConfiguredHotsyncName(this.deviceHotsyncName):t!==this.deviceHotsyncName&&t.length<=40&&this.cloudpilotInstance.isSetupComplete()&&(this.cloudpilotInstance.setHotsyncName(t),this.deviceHotsyncName=t)}clearCanvas(){const t=this.deviceId,r=Xp(t);this.context.beginPath(),this.context.rect(0,0,r.width,r.height),this.context.fillStyle=E0(t)?"white":D0[0],this.context.fill()}updateScreen(){if(!this.cloudpilotInstance)return;const t=this.cloudpilotInstance.getFrame();if(this.cloudpilotInstance.isPowerOff())return this.clearCanvas(),void this.newFrameEvent.dispatch(this.canvas);if(!t.hasChanges)return;if(t.lines*t.scaleY===this.canvas.height&&t.lineWidth*t.scaleX===this.canvas.width){(!this.imageData||this.imageData.width!==t.lineWidth||this.imageData.height!==t.lines)&&(this.imageData=new ImageData(t.lineWidth,t.lines));const n=new Uint32Array(this.imageData.data.buffer);switch(t.bpp){case 1:{const o=Ic[15],i=Ic[0];let s=0;for(let a=t.firstDirtyLine;a<=t.lastDirtyLine;a++){const l=a*t.bytesPerLine;for(let c=t.margin;c<t.lineWidth+t.margin;c++)n[s++]=t.buffer[l+(c>>>3)]&128>>>(7&c)?o:i}break}case 2:{const o=this.cloudpilotInstance.getPalette2bitMapping(),i=[Ic[15&o],Ic[o>>>4&15],Ic[o>>>8&15],Ic[o>>>12&15]];let s=0;for(let a=t.firstDirtyLine;a<=t.lastDirtyLine;a++){const l=a*t.bytesPerLine;for(let c=t.margin;c<t.lineWidth+t.margin;c++)n[s++]=i[t.buffer[l+(c>>>2)]>>6-2*(3&c)&3]}break}case 4:{let o=0;for(let i=t.firstDirtyLine;i<=t.lastDirtyLine;i++){const s=i*t.bytesPerLine;for(let a=t.margin;a<t.lineWidth+t.margin;a++)n[o++]=Ic[t.buffer[s+(a>>>1)]>>>4-4*(1&a)&15]}break}case 24:{const o=new Uint32Array(t.buffer.buffer,t.buffer.byteOffset,t.buffer.byteLength>>>2);if(0===t.margin)n.subarray(0,t.lineWidth*(t.lastDirtyLine-t.firstDirtyLine+1)).set(o.subarray(t.firstDirtyLine*t.lineWidth,t.lineWidth*(t.lastDirtyLine+1)));else{let i=0;for(let s=t.firstDirtyLine;s<=t.lastDirtyLine;s++){let a=s*(t.bytesPerLine>>>2)+t.margin;for(let l=0;l<t.lineWidth;l++)n[i++]=o[a++]}}}}}if(!this.imageData)return;const r=1!==t.scaleX||1!==t.scaleY;(r?this.contextTmp:this.context).putImageData(this.imageData,0,t.firstDirtyLine,0,0,t.lineWidth,t.lastDirtyLine-t.firstDirtyLine+1),r&&(this.context.imageSmoothingEnabled=!1,this.context.drawImage(this.canvasTmp,0,t.firstDirtyLine,t.lineWidth,t.lastDirtyLine-t.firstDirtyLine+1,0,t.firstDirtyLine*t.scaleY,t.lineWidth*t.scaleX,(t.lastDirtyLine-t.firstDirtyLine+1)*t.scaleY)),this.newFrameEvent.dispatch(this.canvas)}}class h9{constructor(t,r){this.timeoutRemaining=t,this.cb=r,this.onTimeout=()=>{const n=performance.now();if(this.timeoutRemaining-=n-this.timeoutTimestamp,this.timeoutRemaining>0)return this.timeoutTimestamp=performance.now(),void(this.handle=window.setTimeout(this.onTimeout,this.timeoutTimestamp));this.cb()},this.timeoutTimestamp=performance.now(),this.handle=window.setTimeout(this.onTimeout,t)}increase(t){this.timeoutRemaining+=t}cancel(){clearTimeout(this.handle)}}const _9=new Error("transaction timeout"),CR=new Error("session does not match emulation");let Qp=(()=>{var e;class t{constructor(n,o,i,s,a,l){var c=this;this.storageService=n,this.emulationState=o,this.errorService=i,this.storageCardContext=s,this.kvsService=a,this.ngZone=l,this.triggerSnapshot=()=>this.ngZone.runOutsideAngular(()=>this.sessionId<0||this.cloudpilot.isSuspended()?Promise.resolve():this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():(this.snapshotInProgress=!0,this.pendingSnapshotPromise=(0,V.Z)(function*(){try{yield c.triggerSnapshotUnguarded()}finally{c.snapshotInProgress=!1}})(),this.pendingSnapshotPromise)),this.snapshotEvent=new Oo.j,this.sessionId=-1,this.consecutiveErrorCount=0,this.snapshotInProgress=!1,this.pendingSnapshotPromise=Promise.resolve(void 0),this.cardPagePool=[]}initialize(n,o){var i=this;return(0,V.Z)(function*(){i.errorService.hasFatalError()||(yield i.waitForPendingSnapshot(),i.sessionId=n.id,i.dirtyPages=void 0,i.pages=void 0,i.state=void 0,i.db=yield i.storageService.getDb(),i.cloudpilot=o,i.resetCard())})()}resetCard(){this.cardPagePool=[],this.cardDirtyPages=void 0}waitForPendingSnapshot(){return this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():Promise.resolve()}triggerSnapshotUnguarded(){var n=this;return(0,V.Z)(function*(){for(;;)try{return yield n.triggerSnapshotOnce(),void(n.consecutiveErrorCount=0)}catch(o){if(console.error("snapshot error",o),o===CR)throw n.errorService.fatalBug("attempting to snapshot a session that is not currently running"),o;if(o===w0)throw n.errorService.fatalPageLockLost(),o;if(++n.consecutiveErrorCount>3)throw n.errorService.fatalIDBDead(),o}})()}triggerSnapshotOnce(){var n=this;return(0,V.Z)(function*(){const o=n.db.transaction([Dc,Ec,Vl,pl,Os,Kp],"readwrite",{durability:"relaxed"});let i;yield n.storageService.acquireLock(o);const s=n.cloudpilot.getMountedKey();if(s&&(i=yield rr(o.objectStore(Os).index("storageId").get(s))),n.cloudpilot.isSuspended())return;n.assertSessionMatches();const a=yield new Promise((l,c)=>{let f=!1;const h=performance.now();let g=0,b=0,j=0;const ee=new h9(500,()=>{f=!0;try{o.abort()}catch{}c(_9)});o.oncomplete=()=>{ee.cancel(),n.dirtyPages?.fill(0),n.cardDirtyPages?.fill(0),l({timestamp:Date.now(),pages:j,timeBlocking:b-g,timeTotal:performance.now()-h})},o.onerror=()=>{ee.cancel(),c(new Error(o.error?.message))};try{n.assertSessionMatches(),g=performance.now(),j=n.saveDirtyMemory(o,ee),i&&(j+=n.saveDirtyStorage(i,o,ee)),n.saveSession(o),b=performance.now()}catch(ye){throw f||(ee.cancel(),o.abort()),ye}});n.snapshotEvent.dispatch(a)})()}saveDirtyMemory(n,o){let i=0;const s=n.objectStore(Dc),a=n.objectStore(Ec),l=this.cloudpilot.getDirtyPages(),c=this.cloudpilot.getMemory32();let f=0;if(!this.dirtyPages||!this.pages){const g=c.length>>>8;this.dirtyPages=new Uint8Array(l.length),this.pages=new Array(g);for(let b=0;b<g;b++)this.pages[b]=new Uint32Array(256)}const h={sessionId:this.sessionId,totalSize:c.length<<2};this.kvsService.kvs.snapshotIntegrityCheck&&(h.crc32=sR(new Uint8Array(c.buffer,c.byteOffset,c.byteLength))),a.put(h);for(let g=0;g<l.length;g++)if(this.dirtyPages[g]|=l[g],l[g]=0,0!==this.dirtyPages[g])for(let b=1;b<256&&!(i>=this.pages.length);b<<=1){if(this.dirtyPages[g]&b){const j=nR(c.subarray(256*i,256*(i+1)));"number"==typeof j?s.put(j,[this.sessionId,i]):(this.pages[i].set(j),s.put(this.pages[i],[this.sessionId,i])),o.increase(.5),f++}i++}else i+=8;return f}saveDirtyStorage(n,o,i){const s=this.cloudpilot.getCardDirtyPages(n.storageId),a=this.cloudpilot.getCardData(n.storageId);if(!a)return console.log(`seems ${n.name} was unmounted`),0;if(this.storageCardContext.assertOwnership(n.id,Ar.cloudpilot),!s)throw new Error(`failed to retrieve dirty pages for card ${n.name}`);if(a.length!==n.size>>>2)throw new Error("card size mismatch");if(this.cardDirtyPages||(this.cardDirtyPages=new Uint8Array(s.length)),this.cardDirtyPages.length!==s.length)throw new Error("card size has changed without notification");let l=0,c=0,f=0;const h=o.objectStore(pl),g=(a.length>>11)+(a.length%2048>0?1:0);for(let b=0;b<s.length;b++)if(this.cardDirtyPages[b]|=s[b],s[b]=0,0!==this.cardDirtyPages[b])for(let j=1;j<256&&!(l>=g);j<<=1){if(this.cardDirtyPages[b]&j){c>=this.cardPagePool.length&&this.cardPagePool.push(new Uint32Array(2048));const ee=this.cardPagePool[c++];ee.set(a.subarray(2048*l,2048*(l+1))),h.put(ee,[n.id,l]),i.increase(4),f++}l++}else l+=8;return 8*f}saveSession(n){const o=n.objectStore(Vl);if(this.cloudpilot.saveState()){const i=this.cloudpilot.getSavestate();this.state||(this.state=new Uint8Array(i.length)),this.state.set(i),o.put(this.state,this.sessionId)}else console.log("save state failed"),o.delete(this.sessionId)}assertSessionMatches(){if(this.emulationState.getCurrentSession()?.id!==this.sessionId)throw CR}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(sr),ce(Bl),ce(lu),ce(Yp),ce(Si),ce(Ge))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),I0=(()=>{var e;class t{constructor(n){this.zone=n,this.modalVisibilityChangeEvent=new Oo.j,this.modalActive=!1,this.update(),this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}isModalActive(){return this.modalActive}update(){const n=document.querySelectorAll("ion-alert, ion-modal").length>0;n!==this.modalActive&&this.zone.run(()=>{this.modalActive=n,this.modalVisibilityChangeEvent.dispatch(n)})}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Ge))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var v9=C(2227),y9=C.n(v9);function x0(e){const t=(e>>>13)+(e%8192>0?1:0);return(t>>>3)+(t%8>0?1:0)}function SR(e,t){return Object.setPrototypeOf({GetCurrentEntryContent:()=>{const r=t.getPointer(e.GetCurrentEntryContent()),n=e.GetCurrentEntrySize();return r>0&&n>0?t.HEAPU8.subarray(r,r+n):void 0}},e)}const wR=[Q.palmPilot,Q.pilot,Q.iii,Q.palmVx,Q.palmV,Q.palmVII,Q.palmVIIEZ,Q.palmVIIx,Q.iiixe,Q.iiix,Q.iiie,Q.m500,Q.m505,Q.m515,Q.m520,Q.iiic,Q.m100,Q.m105,Q.m125,Q.m130,Q.i705,Q.i710,Q.handera330,Q.handera330c,Q.pegS300,Q.pegS320,Q.pegS500c,Q.pegT400,Q.pegN600c,Q.pegT600c,Q.pegN700c,Q.pegT650c,Q.pegNR70,Q.acerS11,Q.lp168];function Vt(){return(e,t,r)=>{const n=r.value;return r.value=function(o,i){return this.guard(()=>n.call(this,o,i))},r}}class Ft{constructor(t){this.module=t,this.fatalErrorEvent=new Oo.j,this.pwmUpdateEvent=new Oo.j,this.proxyDisconnectEvent=new Oo.j,this.amIdead=!1,this.cloudpilot=new t.Cloudpilot,this.cloudpilot.RegisterPwmHandler(t.addFunction((r,n)=>this.pwmUpdateEvent.dispatch({frequency:r,dutyCycle:n}),"vdd")),this.cloudpilot.RegisterProxyDisconnectHandler(t.addFunction(r=>this.proxyDisconnectEvent.dispatch(t.UTF8ToString(r)),"vi"))}static create(t){return(0,V.Z)(function*(){return new Ft(yield y9()({print:r=>console.log(r),printErr:r=>console.error(r),..."string"==typeof t?{locateFile:()=>t}:{},..."function"==typeof t?{instantiateWasm:t}:{}}))})()}destroy(){this.module.destroy(this.cloudpilot)}hasFatalError(){return this.amIdead}getRomInfo(t){const r=this.copyIn(t),n=new this.module.RomInfo(r,t.length);let o;return n.IsValid()&&(o={cardVersion:n.CardVersion(),cardName:n.CardName(),romVersion:n.RomVersion(),romVersionString:n.RomVersionString(),supportedDevices:wR.filter(n.Supports.bind(n))}),this.cloudpilot.Free(r),this.module.destroy(n),o}initializeSession(t,r){const n=this.copyIn(t),o=this.cloudpilot.InitializeSession(n,t.length,r);return this.cloudpilot.Free(n),o}cyclesPerSecond(){return this.cloudpilot.GetCyclesPerSecond()}runEmulation(t){return this.cloudpilot.RunEmulation(t)}getFrame(){const t=this.cloudpilot.CopyFrame(),r=this.module.getPointer(t.GetBuffer());return{bpp:t.GetBpp(),bytesPerLine:t.GetBytesPerLine(),lines:t.GetLines(),lineWidth:t.GetLineWidth(),margin:t.GetMargin(),firstDirtyLine:t.GetFirstDirtyLine(),lastDirtyLine:t.GetLastDirtyLine(),hasChanges:t.GetHasChanges(),scaleX:t.GetScaleX(),scaleY:t.GetScaleY(),buffer:this.module.HEAPU8.subarray(r,r+t.GetBufferSize())}}isScreenDirty(){return this.cloudpilot.IsScreenDirty()}markScreenClean(){this.cloudpilot.MarkScreenClean()}minRamForDevice(t){return 1024*this.cloudpilot.MinMemoryForDevice(t)}framebufferSizeForDevice(t){return 1024*this.cloudpilot.FramebufferSizeForDevice(t)}totalMemorySizeForDevice(t){return 1024*this.cloudpilot.TotalMemoryForDevice(t)}queuePenMove(t,r){this.cloudpilot.QueuePenMove(t,r)}queuePenUp(){this.cloudpilot.QueuePenUp()}queueButtonDown(t){this.cloudpilot.QueueButtonDown(t)}queueButtonUp(t){this.cloudpilot.QueueButtonUp(t)}queueKeyboardEvent(t,r){this.cloudpilot.QueueKeyboardEvent(t,r)}isPowerOff(){return!!this.cloudpilot.IsPowerOff()}isUiInitialized(){return!!this.cloudpilot.IsUIInitialized()}isSetupComplete(){return!!this.cloudpilot.IsSetupComplete()}getOSVersion(){return this.cloudpilot.GetOSVersion()}reset(){this.cloudpilot.Reset()}resetNoExtensions(){this.cloudpilot.ResetNoExtensions()}resetHard(){this.cloudpilot.ResetHard()}installDb(t){const r=this.copyIn(t),n=this.cloudpilot.InstallDb(r,t.length);return this.cloudpilot.Free(r),n}getPalette2bitMapping(){return this.cloudpilot.GetPalette2bitMapping()}getMemory(){const t=this.module.getPointer(this.cloudpilot.GetMemoryPtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetMemorySize())}getMemory32(){let t=this.module.getPointer(this.cloudpilot.GetMemoryPtr());if(3&t)throw new Error("unaligned pointer");return t>>>=2,this.module.HEAPU32.subarray(t,t+(this.cloudpilot.GetMemorySize()>>>2))}getDirtyPages(){const t=this.module.getPointer(this.cloudpilot.GetDirtyPagesPtr()),r=this.cloudpilot.GetMemorySize();return this.module.HEAPU8.subarray(t,t+((r>>>13)+(r%8192==0?0:1)))}loadMemory(t){const r=this.getMemory32();if((()=>{if(t.length!==r.length||t.length<256)return!1;for(let o=256;o>0;o--){if(t[t.length-o]!==r[r.length-o])return!1;if(4294967295===r[r.length-o])break}return!0})())return r.set(t),!0;{const o=this.copyIn32(t),i=this.cloudpilot.ImportMemoryImage(o,t.length<<2);return this.cloudpilot.Free(o),i}}getRomImage(){const t=this.module.getPointer(this.cloudpilot.GetRomPtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetRomSize())}getSavestate(){const t=this.module.getPointer(this.cloudpilot.GetSavestatePtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetSavestateSize())}saveState(){return!!this.cloudpilot.SaveState()}loadState(t){const r=this.copyIn(t),n=this.cloudpilot.LoadState(r,t.length);return this.cloudpilot.Free(r),n}getHotsyncName(){return this.cloudpilot.GetHotsyncName()}setClockFactor(t){this.cloudpilot.SetClockFactor(t)}setHotsyncName(t){this.cloudpilot.SetHotsyncName(t)}backup(t){var r=this;return(0,V.Z)(function*(){const n=r.guard(()=>r.cloudpilot.StartBackup());try{return yield t(r.wrap(n))}finally{r.module.destroy(n)}})()}getArchive(t){const r=t.GetArchiveSize();return this.copyOut(t.GetArchivePtr(),r)}setClipboardIntegration(t){this.cloudpilot.SetClipboardIntegration(t)}getClipboardIntegration(){return this.cloudpilot.GetClipboardIntegration()}isSuspended(){return this.cloudpilot.IsSuspended()}getSuspendKind(){return this.cloudpilot.GetSuspendContext().GetKind()}cancelSuspend(){this.cloudpilot.GetSuspendContext().Cancel()}getSuspendContextClipboardCopy(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardCopy())}getSuspendContextClipboardPaste(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardPaste())}setNetworkRedirection(t){this.cloudpilot.SetNetworkRedirection(t)}getNetworkRedirection(){return this.cloudpilot.GetNetworkRedirection()}getSuspendContextNetworkConnect(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkConnect())}getSuspendContextNetworkRpc(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkRpc())}copyBuffer(t){return this.copyIn(t)}freeBuffer(t){this.cloudpilot.Free(t)}setHotsyncNameManagement(t){this.cloudpilot.SetHotsyncNameManagement(t)}resolveBuffer(t,r){const n=this.module.getPointer(t);return this.module.HEAPU8.subarray(n,n+r)}withZipfileWalker(t,r){var n=this;return(0,V.Z)(function*(){const o=n.guard(()=>{const i=n.copyIn(t),s=new n.module.ZipfileWalker(t.length,i);return n.cloudpilot.Free(i),s});try{return yield r(SR(n.wrap(o),n.module))}finally{n.module.destroy(o)}})()}withZipfileWalkerSync(t,r){const n=this.guard(()=>{const o=this.copyIn(t),i=new this.module.ZipfileWalker(t.length,o);return this.cloudpilot.Free(o),i});try{return r(this.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>this.copyOut(n.GetCurrentEntryContent(),n.GetCurrentEntrySize())},n)))}finally{this.module.destroy(n)}}serializeSessionImage(t){const r=new this.module.SessionImage,n=this.cloudpilot.Nullptr(),o=this.copyIn(t.rom),i=t.memory?this.copyIn(t.memory):n,s=void 0!==t.savestate?this.copyIn(t.savestate):n;let a=n,l=0;if(void 0!==t.metadata){const f=(new TextEncoder).encode(JSON.stringify(t.metadata));l=f.length,a=this.copyIn(f)}r.SetRomImage(o,t.rom.length),r.SetMemoryImage(i,t.memory?.length||0),r.SetDeviceId(t.deviceId),r.SetSavestate(s,t.savestate?.length||0),r.SetMetadata(a,l);const c=r.Serialize()?this.copyOut(r.GetSerializedImage(),r.GetSerializedImageSize()):void 0;return this.module.destroy(r),[o,i,s,a].forEach(f=>this.cloudpilot.Free(f)),c}deserializeSessionImage(t){if(!t)return;const r=new this.module.SessionImage,n=this.copyIn(t),o=(()=>{if(!r.Deserialize(n,t.length))return;const i=this.copyOut(r.GetRomImage(),r.GetRomImageSize()),s=this.copyOut(r.GetMemoryImage(),r.GetMemoryImageSize()),a=this.copyOut(r.GetSavestate(),r.GetSavestateSize()),l=r.GetDeviceId();if(!wR.includes(l))return void console.warn(`unsupported device ${l}`);let c;const f=this.copyOut(r.GetMetadata(),r.GetMetadataSize());if(f)try{c=JSON.parse((new TextDecoder).decode(f))}catch(h){console.warn("invalid metadata",h)}return{deviceId:l,rom:i,memory:s,savestate:a,metadata:c,version:r.GetVersion()}})();return this.module.destroy(r),this.cloudpilot.Free(n),o}launchAppByName(t){return this.cloudpilot.LaunchAppByName(t)}launchAppByDbHeader(t){if(t.length<32)return!1;const r=this.copyIn(t.subarray(0,32)),n=this.cloudpilot.LaunchAppByDbHeader(r,32);return this.cloudpilot.Free(r),n}deviceSupportsCardSize(t){return this.cloudpilot.DeviceSupportsCardSize(t)}clearExternalStorage(){this.cloudpilot.ClearExternalStorage()}allocateCard(t,r){return this.cloudpilot.AllocateCard(t,r>>>9)}decompressCard(t,r){const n=this.copyIn(r);let o;try{for(o=new this.module.GunzipContext(n,r.length,524288);0===o.GetState();)o.Continue();return-1===o.GetState()?(console.error(`gunzip failed: ${o.GetError()}`),!1):o.GetUncompressedSize()%512!=0?(console.error("failed to allocate card: invalid size of decompressed image"),!1):this.cloudpilot.AdoptCard(t,o.ReleaseUncompressedData(),o.GetUncompressedSize()>>>9)}finally{this.cloudpilot.Free(n),o&&this.module.destroy(o)}}getCardData(t){const r=this.module.getPointer(this.cloudpilot.GetCardData(t));if(0!==r)return this.module.HEAPU32.subarray(r>>>2,r+this.cloudpilot.GetCardSize(t)>>2)}getCardDirtyPages(t){const r=this.module.getPointer(this.cloudpilot.GetCardDirtyPages(t));if(0===r)return;const n=x0(this.cloudpilot.GetCardSize(t));return this.module.HEAPU8.subarray(r,r+n)}getMountedKey(){return this.cloudpilot.GetMountedKey()}mountCard(t){return this.cloudpilot.MountCard(t)}removeCard(t){return this.cloudpilot.RemoveCard(t)}remountCards(){this.cloudpilot.RemountCards()}getCardSupportLevel(t){return this.cloudpilot.GetSupportLevel(t)}loadSkin(t){const r=new this.module.SkinLoader(t);try{const n=this.module.getPointer(r.GetData());return 0===n?void 0:(new TextDecoder).decode(this.module.HEAPU8.subarray(n,n+r.GetSize()))}finally{this.module.destroy(r)}}guard(t){if(this.amIdead)throw new Error("cloudpilot instance is dead");try{return t()}catch(r){throw this.amIdead=!0,this.cloudpilot=void 0,this.fatalErrorEvent.dispatch(r instanceof Error?r:new Error("unknown error")),r}}copyIn(t){const r=this.cloudpilot.Malloc(t.length),n=this.module.getPointer(r);return this.module.HEAPU8.subarray(n,n+t.length).set(t),r}copyIn32(t){const r=this.cloudpilot.Malloc(t.length<<2),n=this.module.getPointer(r);return this.module.HEAPU32.subarray(n>>>2,(n>>>2)+t.length).set(t),r}copyOut(t,r){const n=this.module.getPointer(t);return n>0&&r>0?this.module.HEAPU8.subarray(n,n+r).slice():void 0}wrap(t){return new Proxy(t,{get:(r,n)=>{const o=r[n];return"function"!=typeof o?o:(...i)=>this.guard(()=>o.apply(r,i))}})}}ne([Vt()],Ft.prototype,"getRomInfo",null),ne([Vt()],Ft.prototype,"initializeSession",null),ne([Vt()],Ft.prototype,"cyclesPerSecond",null),ne([Vt()],Ft.prototype,"runEmulation",null),ne([Vt()],Ft.prototype,"getFrame",null),ne([Vt()],Ft.prototype,"isScreenDirty",null),ne([Vt()],Ft.prototype,"markScreenClean",null),ne([Vt()],Ft.prototype,"minRamForDevice",null),ne([Vt()],Ft.prototype,"framebufferSizeForDevice",null),ne([Vt()],Ft.prototype,"totalMemorySizeForDevice",null),ne([Vt()],Ft.prototype,"queuePenMove",null),ne([Vt()],Ft.prototype,"queuePenUp",null),ne([Vt()],Ft.prototype,"queueButtonDown",null),ne([Vt()],Ft.prototype,"queueButtonUp",null),ne([Vt()],Ft.prototype,"queueKeyboardEvent",null),ne([Vt()],Ft.prototype,"isPowerOff",null),ne([Vt()],Ft.prototype,"isUiInitialized",null),ne([Vt()],Ft.prototype,"isSetupComplete",null),ne([Vt()],Ft.prototype,"getOSVersion",null),ne([Vt()],Ft.prototype,"reset",null),ne([Vt()],Ft.prototype,"resetNoExtensions",null),ne([Vt()],Ft.prototype,"resetHard",null),ne([Vt()],Ft.prototype,"installDb",null),ne([Vt()],Ft.prototype,"getPalette2bitMapping",null),ne([Vt()],Ft.prototype,"getMemory",null),ne([Vt()],Ft.prototype,"getMemory32",null),ne([Vt()],Ft.prototype,"getDirtyPages",null),ne([Vt()],Ft.prototype,"loadMemory",null),ne([Vt()],Ft.prototype,"getRomImage",null),ne([Vt()],Ft.prototype,"getSavestate",null),ne([Vt()],Ft.prototype,"saveState",null),ne([Vt()],Ft.prototype,"loadState",null),ne([Vt()],Ft.prototype,"getHotsyncName",null),ne([Vt()],Ft.prototype,"setClockFactor",null),ne([Vt()],Ft.prototype,"setHotsyncName",null),ne([Vt()],Ft.prototype,"setClipboardIntegration",null),ne([Vt()],Ft.prototype,"getClipboardIntegration",null),ne([Vt()],Ft.prototype,"isSuspended",null),ne([Vt()],Ft.prototype,"getSuspendKind",null),ne([Vt()],Ft.prototype,"cancelSuspend",null),ne([Vt()],Ft.prototype,"getSuspendContextClipboardCopy",null),ne([Vt()],Ft.prototype,"getSuspendContextClipboardPaste",null),ne([Vt()],Ft.prototype,"setNetworkRedirection",null),ne([Vt()],Ft.prototype,"getNetworkRedirection",null),ne([Vt()],Ft.prototype,"getSuspendContextNetworkConnect",null),ne([Vt()],Ft.prototype,"getSuspendContextNetworkRpc",null),ne([Vt()],Ft.prototype,"copyBuffer",null),ne([Vt()],Ft.prototype,"freeBuffer",null),ne([Vt()],Ft.prototype,"setHotsyncNameManagement",null),ne([Vt()],Ft.prototype,"resolveBuffer",null),ne([Vt()],Ft.prototype,"serializeSessionImage",null),ne([Vt()],Ft.prototype,"deserializeSessionImage",null),ne([Vt()],Ft.prototype,"launchAppByName",null),ne([Vt()],Ft.prototype,"launchAppByDbHeader",null),ne([Vt()],Ft.prototype,"deviceSupportsCardSize",null),ne([Vt()],Ft.prototype,"clearExternalStorage",null),ne([Vt()],Ft.prototype,"allocateCard",null),ne([Vt()],Ft.prototype,"decompressCard",null),ne([Vt()],Ft.prototype,"getCardData",null),ne([Vt()],Ft.prototype,"getCardDirtyPages",null),ne([Vt()],Ft.prototype,"getMountedKey",null),ne([Vt()],Ft.prototype,"mountCard",null),ne([Vt()],Ft.prototype,"removeCard",null),ne([Vt()],Ft.prototype,"remountCards",null),ne([Vt()],Ft.prototype,"getCardSupportLevel",null),ne([Vt()],Ft.prototype,"loadSkin",null);const y_=new Error("permission denied");let DR=(()=>{var e;class t{constructor(n,o){this.alertController=n,this.alertService=o,this.clipboardContent="",this.lastClipboardReadAt=performance.now()}isSupported(){return!!navigator.clipboard?.readText&&!!navigator.clipboard?.writeText}handleSuspend(n){if(n.isSuspended())switch(n.getSuspendKind()){case 1:this.handleCopy(n);break;case 2:this.handlePaste(n)}}handleCopy(n){var o=this;return(0,V.Z)(function*(){const i=n.getSuspendContextClipboardCopy(),s=i.GetClipboardContent();try{return yield o.tryCopyDirect(s),void i.Resume()}catch(a){if(a===y_)return i.Cancel(),o.msgPermissionDenied()}try{yield o.tryCopyWithInteraction(s),i.Resume()}catch{yield o.msgCopyFailed(),i.Cancel()}})()}tryCopyDirect(n){var o=this;return(0,V.Z)(function*(){try{yield navigator.clipboard.writeText(n)}catch(i){throw(yield o.isPermissionDenied("clipboard-write"))?y_:i}})()}tryCopyWithInteraction(n){var o=this;return new Promise(function(){var i=(0,V.Z)(function*(s,a){try{const l=yield o.alertController.create({header:"Confirm Copy",message:"Please confirm that you want to copy to the host clipboard",backdropDismiss:!1,buttons:[{text:"Cancel",handler:()=>{l.dismiss(),s(!1)}},{text:"Copy",handler:(c=(0,V.Z)(function*(){l.dismiss();try{yield navigator.clipboard.writeText(n),s(!0)}catch(f){a(f)}}),function(){return c.apply(this,arguments)})}]});l.present()}catch(l){a(l)}var c});return function(s,a){return i.apply(this,arguments)}}())}handlePaste(n){var o=this;return(0,V.Z)(function*(){const i=yield o.tryPaste();n.getSuspendContextClipboardPaste().Resume(i??""),void 0!==i&&(o.clipboardContent=i,o.lastClipboardReadAt=performance.now())})()}tryPaste(){var n=this;return(0,V.Z)(function*(){if(performance.now()-n.lastClipboardReadAt<3e3)return n.clipboardContent;try{return yield n.tryPasteDirect()}catch(o){if(o===y_)return void(yield n.msgPermissionDenied())}try{return yield n.tryPasteWithInteraction()}catch{return void(yield n.msgPasteFailed())}})()}tryPasteDirect(){var n=this;return(0,V.Z)(function*(){try{return yield navigator.clipboard.readText()}catch(o){throw(yield n.isPermissionDenied("clipboard-read"))?y_:o}})()}tryPasteWithInteraction(){var n=this;return new Promise(function(){var o=(0,V.Z)(function*(i,s){try{const a=yield n.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard",backdropDismiss:!1,buttons:[{text:"Cancel",handler:()=>{a.dismiss(),i(void 0)}},{text:"Paste",handler:(l=(0,V.Z)(function*(){a.dismiss();try{i(yield navigator.clipboard.readText())}catch(c){s(c)}}),function(){return l.apply(this,arguments)})}]});a.present()}catch(a){s(a)}var l});return function(i,s){return o.apply(this,arguments)}}())}handlePasteSafari(n){var o=this;return(0,V.Z)(function*(){const i=yield o.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard.",backdropDismiss:!1,buttons:[{text:"Cancel",handler:()=>{i.dismiss(),n.Resume("")}},{text:"Paste",handler:(s=(0,V.Z)(function*(){try{o.clipboardContent=yield navigator.clipboard.readText(),o.lastClipboardReadAt=performance.now(),i.dismiss(),n.Resume(o.clipboardContent)}catch{i.dismiss(),yield o.alertService.errorMessage("Paste from host clipboard failed."),n.Resume("")}}),function(){return s.apply(this,arguments)})}]});var s;yield i.present()})()}isPermissionDenied(n){return(0,V.Z)(function*(){if(navigator.permissions)try{return"denied"===(yield navigator.permissions.query({name:n}))?.state}catch{return!1}return!1})()}msgPermissionDenied(){return this.alertService.errorMessage(`\n        CloudpilotEmu has no permission to access the clipboard. Please check your browser's settings\n        and grant the necessary permission to ${location.origin} .\n    `)}msgCopyFailed(){return this.alertService.errorMessage("Failed to copy to the host clipboard.")}msgPasteFailed(){return this.alertService.errorMessage("Failed to paste from the host clipboard.")}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Hp),ce(uo))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const C9="https:"===window.location.protocol?8667:8666,S9=/^[\da-z\-\.]+$/i,w9=/^[\da-z\-\.]+:\d+$/i;function T0(e){if(!e)return;const t=window.location.protocol;if(e.match(S9))return`${t}//${e}:${C9}`;if(e.match(w9))return`${t}//${e}`;try{const r=new URL(e);if("https:"===r.protocol||"http:"===r.protocol)return r.toString().replace(/\/+$/,"")}catch{}}function D9(e){return void 0!==T0(e.value)?null:{proxyAddress:"invalid"}}let E9=(()=>{var e;class t{constructor(n){this.kvs=n,this.onContinue=()=>{},this.onCancel=()=>{},this.origin=""}ngOnInit(){this.createFormGroup()}formKeyDown(n){"Enter"===n.key&&this.saveAndContinue()}saveAndContinue(){this.kvs.kvs.credentials={...this.kvs.kvs.credentials,[this.origin]:{username:this.formGroup.get("username")?.value??"",password:this.formGroup.get("password")?.value??""}},this.onContinue()}createFormGroup(){const n=this.kvs.kvs.credentials[this.origin];this.formGroup=new Yg({username:new Ho(n?.username??""),password:new Ho(n?.password??"")})}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Si))},e.\u0275cmp=Ze({type:e,selectors:[["app-credentials-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel",origin:"origin"},decls:22,vars:1,consts:[["slot","primary"],[3,"click"],["slot","secondary"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter username","formControlName","username"],["placeholder","Enter password","formControlName","password","type","password"]],template:function(n,o){1&n&&(H(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3,"Authenticate"),F(),H(4,"ion-buttons",0)(5,"ion-button",1),Ne("click",function(){return o.saveAndContinue()}),Ce(6,"OK"),F()(),H(7,"ion-buttons",2)(8,"ion-button",1),Ne("click",function(){return o.onCancel()}),Ce(9,"Cancel"),F()()()(),H(10,"ion-content",3)(11,"form",4),Ne("keydown",function(s){return o.formKeyDown(s)}),H(12,"p"),Ce(13," The server requires authentication. "),F(),H(14,"ion-item",5)(15,"ion-label",6),Ce(16,"Username"),F(),Ve(17,"ion-input",7),F(),H(18,"ion-item",5)(19,"ion-label",6),Ce(20,"Password"),F(),Ve(21,"ion-input",8),F()()()),2&n&&(me(11),Se("formGroup",o.formGroup))},dependencies:[Fi,Li,$i,Bi,Ll,Co,Vi,ji,Gi,Fl,Nl,Pl,Ol,xa,cl],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}"]}),t})(),ER=(()=>{var e;class t{constructor(n,o,i){this.loadingController=n,this.kvsService=o,this.modalController=i}fetch(n,o){var i=this;return(0,V.Z)(function*(){let s=o?.loaderDelay;const a=void 0===o?.timeout?5e3:o?.timeout,l=new(vd())("string"==typeof n?n:n.url);let c,f,h=!1;for(;;)try{c||(c=yield i.loadingController.create({message:"Loading..."})),void 0!==s&&s>0&&void 0===f?f=window.setTimeout(()=>c?.present(),s):c.present();const g=i.kvsService.kvs.credentials[l.origin],b=new AbortController,j=window.setTimeout(()=>b.abort(),a),ee=yield fetch(n,{...i.requestInit(o),signal:b.signal,headers:{...o?.headers||{},...h&&g?{Authorization:"Basic "+btoa(`${g.username}:${g.password}`)}:{}}});if(clearTimeout(j),401===ee.status){if(!h&&g){h=!0;continue}if(c?.dismiss(),clearTimeout(f),s=0,c=void 0,s=void 0,h=!0,yield i.authenticate(l.origin))continue}return ee}finally{c&&(yield c.dismiss()),clearTimeout(f)}})()}requestInit(n){if(!n)return;const{timeout:o,loaderDelay:i,...s}=n;return s}authenticate(n){var o=this;return(0,V.Z)(function*(){const i=yield new Promise(s=>o.modalController.create({component:E9,backdropDismiss:!1,componentProps:{origin:n,onContinue:()=>s(!0),onCancel:()=>s(!1)}}).then(a=>a.present()));return o.modalController.dismiss(),i})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Js),ce(Si),ce(cs))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),M0=(()=>{var e;class t{constructor(n,o,i,s){var a=this;this.kvsService=n,this.alertService=o,this.ngZone=i,this.fetchService=s,this.handleConnect=()=>this.mutex.runExclusive((0,V.Z)(function*(){a.socket&&a.disconnect(a.socket);const l=T0(a.kvsService.kvs.proxyServer);if(!l)return yield a.alertService.errorMessage(`Invalid proxy address: ${a.kvsService.kvs.proxyServer}`),void a.cloudpilot.getSuspendContextNetworkConnect().Cancel();const c=yield a.handshake(void 0,500);switch(c.status){case"failed":return void a.onSocketError(void 0);case"version_mismatch":return yield a.alertService.proxyVersionMismatchError(),void a.cancelSuspend();case"success":break;default:throw new Error("unreachable")}a.socket=new WebSocket(`${l.replace(/^http/,"ws")}/network-proxy/connect?token=${encodeURIComponent(c.token)}`),a.socket.binaryType="arraybuffer",a.bindListeners(a.socket),a.ngZone.run(()=>a.connectTimeoutHandle=setTimeout(a.onSocketError,5e3))})),this.onSocketOpen=()=>{if(this.cancelConnectTimeout(),!this.cloudpilot.isSuspended()||4!==this.cloudpilot.getSuspendKind())return console.error("ERROR: socket connected, but emulation is not waiting for connect"),void this.disconnect(this.socket);this.sessionId=S0(),this.cloudpilot.getSuspendContextNetworkConnect().Resume(this.sessionId),this.resumeEvent.dispatch()},this.onSocketMessage=l=>{if(!this.cloudpilot.isSuspended()||3!==this.cloudpilot.getSuspendKind())return void console.error("ERROR: socket received message, but emulation is not waiting for rpc");if(!(l.data instanceof ArrayBuffer))return console.error("ERROR: socket received a text frame"),this.disconnect(this.socket),this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),void this.cancelSuspend();const c=this.cloudpilot.copyBuffer(new Uint8Array(l.data));this.cloudpilot.getSuspendContextNetworkRpc().ReceiveResponse(c,l.data.byteLength),this.cloudpilot.freeBuffer(c),this.resumeEvent.dispatch()},this.onSocketError=l=>{this.cancelConnectTimeout(),this.cloudpilot.isSuspended()&&4===this.cloudpilot.getSuspendKind()?this.alertService.errorMessage("Failed to connect to proxy."):this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(this.socket),this.cancelSuspend(),console.error("ERROR: socket error",l)},this.onSocketClose=()=>{this.cancelConnectTimeout(),this.alertService.errorMessage("Connection to proxy closed unexpectedly"),this.unbindListeners(this.socket),this.cancelSuspend(),this.sessionId="",this.socket=void 0},this.onProxyDisconnect=l=>{l!==this.sessionId||!this.socket||this.ngZone.run(()=>this.disconnect(this.socket))},this.resumeEvent=new Oo.j,this.mutex=new fl,this.sessionId=""}initialize(n){this.cloudpilot=n,n.proxyDisconnectEvent.addHandler(this.onProxyDisconnect)}reset(){this.socket&&this.disconnect(this.socket)}handleSuspend(){if(this.cloudpilot&&this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:this.handleConnect();break;case 3:this.handleRpc()}}isConnected(){return!!this.socket}handshake(n=this.kvsService.kvs.proxyServer,o=-1){var i=this;return(0,V.Z)(function*(){const s=T0(n);if(!s)return{status:"failed"};try{const a=yield i.fetchService.fetch(`${s}/network-proxy/handshake`,{method:"POST",loaderDelay:o});if(!a.ok)return{status:"failed"};const l=yield a.json();return l.version<3||l.compatVersion>3?{status:"version_mismatch"}:{status:"success",token:l.token}}catch{return{status:"failed"}}})()}handleRpc(){const n=this.cloudpilot.getSuspendContextNetworkRpc();this.socket?this.socket.send(this.cloudpilot.resolveBuffer(n.GetRequestData(),n.GetRequestSize())):n.Cancel()}disconnect(n){n&&(this.unbindListeners(n),n.close()),this.sessionId="",this.socket=void 0}bindListeners(n){this.ngZone.run(()=>{n.addEventListener("open",this.onSocketOpen),n.addEventListener("error",this.onSocketError),n.addEventListener("close",this.onSocketClose)}),this.ngZone.runOutsideAngular(()=>n.addEventListener("message",this.onSocketMessage))}unbindListeners(n){n&&(n.removeEventListener("message",this.onSocketMessage),n.removeEventListener("open",this.onSocketOpen),n.removeEventListener("error",this.onSocketError),n.removeEventListener("close",this.onSocketClose))}cancelSuspend(){if(this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:case 3:this.cloudpilot.cancelSuspend()}}cancelConnectTimeout(){void 0!==this.connectTimeoutHandle&&clearTimeout(this.connectTimeoutHandle),this.connectTimeoutHandle=void 0}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Si),ce(uo),ce(Ge),ce(ER))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),xR=(()=>{var e;class t{constructor(){this.buttons=new Map}reset(n){this.cloudpilot=n,this.buttons.clear(),[6,7].forEach(o=>n.queueButtonUp(o))}engage(n){this.cloudpilot&&(this.buttons.has(n)?this.buttons.get(n).timer=0:(this.buttons.set(n,{button:n,timer:0}),this.cloudpilot?.queueButtonDown(n)))}tick(n){if(this.cloudpilot)for(const[o,i]of this.buttons)i.timer+=1e3*n,i.timer>250&&(this.cloudpilot.queueButtonUp(o),this.buttons.delete(o))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),TR=(()=>{var e;class t{constructor(){this.hasRenderedPromise=new Promise(n=>this.hasRenderedResolve=n)}notifyHasRendered(){this.hasRenderedResolve()}hasRendered(){return this.hasRenderedPromise}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const A9=C.p+"wasm/cloudpilot_web-b33824644ea01a4f.wasm";let Ta=(()=>{var e;class t{constructor(){this.cloudpilot=Ft.create(A9)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var k9=C(3097),Hd=C.n(k9);const A0=524288;class k0{constructor(t,r){if(this.module=t,this.nativeContext=new t.CreateZipContext,!this.nativeContext.Initialize(r))throw new Error(`failed to initialize context: ${this.nativeContext.GetLastError()}`);const n=new t.FSTools;this.chunkBufferPtr=n.Malloc(A0),t.destroy(n)}static create(t,r){return(0,V.Z)(function*(){return new k0(yield Hd()({print:n=>console.log(n),printErr:n=>console.error(n),instantiateWasm:r}),t)})()}addEntry(t,r){var n=this;return(0,V.Z)(function*(){if(!n.nativeContext.AddEntry(t))throw new Error(`failed to add entry: ${n.nativeContext.GetLastError()}`);const o=n.module.getPointer(n.chunkBufferPtr);for(let i=0;i<r.length;i+=A0){i>0&&(yield new Promise(l=>setTimeout(l,0)));const s=Math.min(r.length-i,A0);if(n.module.HEAPU8.subarray(o,o+s).set(r.subarray(i,i+s)),!n.nativeContext.WriteData(n.chunkBufferPtr,s))throw new Error(`failed to add ${s} bytes to zip: ${n.nativeContext.GetLastError()}`)}})()}getContent(){const t=this.module.getPointer(this.nativeContext.GetZipData());if(!t)throw new Error(`unable to obtain zip data: ${this.nativeContext.GetLastError()}`);return this.module.HEAPU8.subarray(t,t+this.nativeContext.GetZipDataSize())}}class R0{constructor(t){this.module=t,this.nativeContext=new t.MkfsContext}static create(t){return(0,V.Z)(function*(){return new R0(yield Hd()({print:r=>console.log(r),printErr:r=>console.error(r),instantiateWasm:t}))})()}mkfs(t){return this.nativeContext.Mkfs(t,"card")}getImage(){const t=this.nativeContext.GetImageSize(),r=this.module.getPointer(this.nativeContext.GetImage());if(0!==t&&0!==r)return this.module.HEAPU32.subarray(r>>>2,r+t>>>2)}}class P0{constructor(t,r){this.module=t,this.result=0,this.nativeContext=new t.FsckContext(r>>>9)}static create(t,r){return(0,V.Z)(function*(){const n=yield Hd()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:r});return new P0(n,t)})()}getImageData(){const t=this.nativeContext.GetImageSize(),r=this.module.getPointer(this.nativeContext.GetImage());return this.module.HEAPU32.subarray(r>>>2,r+t>>2)}getDirtyPages(){const t=this.module.getPointer(this.nativeContext.GetDirtyPages()),r=x0(this.nativeContext.GetImageSize());return this.module.HEAPU8.subarray(t,t+r)}fsck(){if(0!==this.result)return this.result;try{return this.result=this.nativeContext.Fsck(),this.result}catch(t){return console.warn("fsck failed",t),this.result=4,this.result}}getResult(){return this.result}}class b_{constructor(t,r){this.module=t,r&&this.initialize(r)}static create(t,r){return(0,V.Z)(function*(){const n=yield Hd()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:t});return new b_(n,r)})()}initialize(t){this.nativeContext&&this.module.destroy(this.nativeContext);const r=new this.module.FSTools;this.bufferPtr&&r.Free(this.bufferPtr),this.bufferPtr=r.Malloc(t.length);const n=this.module.getPointer(this.bufferPtr);this.module.HEAPU8.subarray(n,n+t.length).set(t),this.module.destroy(r),this.nativeContext=new this.module.GunzipContext(this.bufferPtr,t.length,524288)}gunzip(){var t=this;return(0,V.Z)(function*(){const r=t.getNativeContext();for(;0===r.Continue();)yield new Promise(n=>setTimeout(n,0));return-1!==r.GetState()||(console.error(`gunzip failed: ${r.GetError()}`),!1)})()}getDecompressedData(){const t=this.getNativeContext(),r=t.GetUncompressedSize(),n=t.GetUncompressedData(),o=this.module.getPointer(n);return this.module.HEAPU8.subarray(o,o+r)}getNativeContext(){if(!this.nativeContext)throw new Error("gunzip context not initialized");return this.nativeContext}}class O0{constructor(t,r){this.module=t,void 0!==r&&this.initialize(r)}static create(t,r){return(0,V.Z)(function*(){const n=yield Hd()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:t});return new O0(n,r)})()}initialize(t){this.nativeContext&&this.module.destroy(this.nativeContext);const r=new this.module.FSTools;this.bufferPtr&&r.Free(this.bufferPtr),this.bufferPtr=r.Malloc(t),this.uncompressedDataSize=t,this.module.destroy(r),this.nativeContext=new this.module.GzipContext(this.bufferPtr,t,524288)}getBuffer(){if(!this.bufferPtr||void 0===this.uncompressedDataSize)throw new Error("gzip context not initialized");const t=this.module.getPointer(this.bufferPtr);return this.module.HEAPU8.subarray(t,t+this.uncompressedDataSize)}setFilename(t){return this.getNativeContext().SetFilename(t),this}setMtime(t){return this.getNativeContext().SetMtime(t),this}gzip(){var t=this;return(0,V.Z)(function*(){const r=t.getNativeContext();for(r.Continue();1===r.Continue();)yield new Promise(n=>setTimeout(n,0));return-1!==r.GetState()||(console.error(`gzip failed: ${r.GetError()}`),!1)})()}getGzipData(){const t=this.getNativeContext(),r=t.GetGzipSize(),n=t.GetGzipData(),o=this.module.getPointer(n);return this.module.HEAPU8.subarray(o,o+r)}getNativeContext(){if(!this.nativeContext)throw new Error("gzip context not initialized");return this.nativeContext}}const MR=new Map;class F9{constructor(t="fstools_web.wasm"){let r=MR.get(t);r||(r=function R9(e){const t=WebAssembly.compileStreaming?WebAssembly.compileStreaming(fetch(e)):fetch(e).then(r=>r.arrayBuffer()).then(r=>WebAssembly.compile(r));return function(){var r=(0,V.Z)(function*(n,o){return o(yield WebAssembly.instantiate(yield t,n))});return function(n,o){return r.apply(this,arguments)}}()}(t),MR.set(t,r)),this.instantiante=r}mkfs(t){var r=this;return(0,V.Z)(function*(){const n=yield R0.create(r.instantiante);if(n.mkfs(t))return n.getImage()})()}gunzip(t){var r=this;return(0,V.Z)(function*(){const n=yield b_.create(r.instantiante,t);if(yield n.gunzip())return n.getDecompressedData()})()}createGunzipContext(t){return b_.create(this.instantiante,t)}createGzipContext(t){return O0.create(this.instantiante,t)}createFsckContext(t){return P0.create(t,this.instantiante)}createZipContext(t){return k0.create(t,this.instantiante)}createZipfileWalker(t){var r=this;return(0,V.Z)(function*(){const n=yield Hd()({print:a=>console.log(a),printErr:a=>console.error(a),instantiateWasm:r.instantiante}),o=new n.FSTools,i=o.Malloc(t.length),s=n.getPointer(i);return n.HEAPU8.subarray(s,s+t.length).set(t),n.destroy(o),SR(new n.ZipfileWalker(t.length,i),n)})()}}var wr=function(e){return e.dirty="dirty",e.clean="clean",e.unformatted="unformatted",e.unfixable="unfixable",e}(wr||{});function zd(e,t){let r=e,n=1;for(;t(r);)r=`${e} (${n++})`;return r}function Wd(e){const t=new Date;return`${e}_${t.getFullYear()}${(t.getMonth()+1).toString().padStart(2,"0")}${t.getDate().toString().padStart(2,"0")}-${t.getHours().toString().padStart(2,"0")}${t.getMinutes().toString().padStart(2,"0")}${t.getSeconds().toString().padStart(2,"0")}`}function N0(e){return`${Wd(e.name)}.img`}function AR(e,t){return`backup_${Wd(e.name)}${t?"_with_rom":""}.zip`}function F0(e,t=3){return 0===e.length?"":1===e.length?e[0]:`${e.slice(0,e.length>t?t:e.length-1).join(", ")} and ${e.length>t?e.length-t+" more files":e[e.length-1]}`}var $r=function(e){return e.portrait="portrait",e.landscape90="landscape90",e.landscape270="landscape270",e.portrait180="portrait180",e}($r||{});function C_(e){const{name:t,hotsyncName:r,osVersion:n,dontManageHotsyncName:o,speed:i,deviceOrientation:s}=e;return{name:t,hotsyncName:r,osVersion:n,dontManageHotsyncName:o,speed:i,deviceOrientation:s}}const V9=C.p+"wasm/fstools_web-b474c601800e104b.wasm";let S_=(()=>{var e;class t extends F9{constructor(){super(V9)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function j9(e,t){1&e&&(H(0,"p",10),Ce(1," ERROR: URL must be served via HTTPS. "),F())}function G9(e){if(!e.value)return{url:"URL empty"};let t;try{t=new(vd())(e.value)}catch{return{url:"URL invalid"}}return"https:"===location.protocol&&"https:"!==t.protocol?{url:"mixed content"}:null}let U9=(()=>{var e;class t{constructor(){this.onContinue=()=>{},this.onCancel=()=>{}}ngOnInit(){this.createFormGroup()}formKeyDown(n){"Enter"===n.key&&this.continue()}continue(){this.onContinue(new(vd())(this.formGroup.get("url")?.value).toString())}get isMixedContent(){const n=this.formGroup.get("url")?.value;if(!n)return!1;try{const o=new(vd())(n);return"https:"===location.protocol&&"https:"!==o.protocol}catch{}return!1}createFormGroup(){this.formGroup=new Yg({url:new Ho("",G9)})}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-remote-url-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel"},decls:21,vars:3,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter URL","formControlName","url"],["class","error",4,"ngIf"],[1,"error"]],template:function(n,o){1&n&&(H(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3,"Enter download URL"),F(),H(4,"ion-buttons",0)(5,"ion-button",1),Ne("click",function(){return o.continue()}),Ce(6,"OK"),F()(),H(7,"ion-buttons",2)(8,"ion-button",3),Ne("click",function(){return o.onCancel()}),Ce(9,"Cancel"),F()()()(),H(10,"ion-content",4)(11,"form",5),Ne("keydown",function(s){return o.formKeyDown(s)}),H(12,"p"),Ce(13," Please enter the URL from which to download: "),F(),H(14,"ion-item",6)(15,"ion-label",7),Ce(16,"URL"),F(),Ve(17,"ion-input",8),F(),Qt(18,j9,2,0,"p",9),H(19,"p"),Ce(20," Note that the remote server needs to support the CORS protocol. "),F()()()),2&n&&(me(5),Se("disabled",o.formGroup.invalid),me(6),Se("formGroup",o.formGroup),me(7),Se("ngIf",o.isMixedContent))},dependencies:[Po,Fi,Li,$i,Bi,Ll,Co,Vi,ji,Gi,Fl,Nl,Pl,Ol,xa,cl],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}.error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]}),t})(),xc=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f){this.storageService=n,this.loadingController=o,this.actionSheetController=i,this.kvsService=s,this.modalController=a,this.alertService=l,this.fetchService=c,this.cloudpilotService=f}openFile(n){this.openFilesImpl(!1,o=>{o.length>0&&n(o[0])})}openFiles(n){this.openFilesImpl(!0,n)}openFromDrop(n,o){"drop"!==n.type||!n.dataTransfer?.files||o(Array.from(n.dataTransfer.files).map(this.readFile.bind(this)))}emergencySaveSession(n){var o=this;return(0,V.Z)(function*(){const i=yield o.cloudpilotService.cloudpilot,s=yield o.loadingController.create({message:"Exporting..."});s.style.zIndex="10000000",yield s.present();try{const a=i.getRomImage().slice(),l=i.getMemory().slice(),c=i.saveState()?i.getSavestate().slice():void 0;if(i.framebufferSizeForDevice(n.device)<0)throw new Error(`invalid device ID ${n.device}`);const h={deviceId:n.device,metadata:C_(n),rom:a,memory:l,savestate:c},g=(yield o.cloudpilotService.cloudpilot).serializeSessionImage(h);g&&o.saveFile(N0(n),g)}finally{s.dismiss()}})()}saveFile(n,o){const i=new Blob([o],{type:"application/octet-stream"}),s=URL.createObjectURL(i),a=document.createElement("a");a.href=s,a.download=n,a.click()}openUrl(n,o){var i=this;return(0,V.Z)(function*(){let s;try{s=new(vd())(n)}catch{return void(yield i.alertService.errorMessage(`Invalid URL: ${n}`))}try{const a=yield i.fetchService.fetch(n);if(!a.ok)throw new Error("request failed");const l=yield i.loadingController.create({message:"Loading..."});l.present();const c=a.arrayBuffer().then(f=>new Uint8Array(f));return c.finally(()=>l.dismiss()),void o({name:s.pathname.replace(/.*\//,""),getContent:()=>c})}catch{yield i.alertService.errorMessage(`Download from ${n} failed.`)}})()}serializeSession(n){var o=this;return(0,V.Z)(function*(){const[i,s,a]=yield o.storageService.loadSession(n,!1);if(!i)throw new Error(`invalid ROM ${n.rom}`);const l={deviceId:n.device,metadata:C_(n),rom:i,memory:s,savestate:a};return(yield o.cloudpilotService.cloudpilot).serializeSessionImage(l)})()}openFilesImpl(n,o){var i=this;return(0,V.Z)(function*(){i.kvsService.kvs.enableRemoteInstall?(yield i.actionSheetController.create({header:"What source do you want to open?",buttons:[{text:"Local files",handler:()=>i.openFilesLocal(n,o)},{text:"File on remote server",handler:()=>i.queryAndOpenFileRemote(o)},{text:"Cancel"}]})).present():i.openFilesLocal(n,o)})()}queryAndOpenFileRemote(n){var o=this;return(0,V.Z)(function*(){let i;try{i=yield new Promise((s,a)=>o.modalController.create({component:U9,backdropDismiss:!1,componentProps:{onContinue:s,onCancel:a}}).then(l=>l.present()))}catch{return}finally{o.modalController.dismiss()}yield o.openUrl(i,s=>n([s]))})()}openFilesLocal(n,o){var i=this;const s=Xk||Ps&&p0;s&&this.input&&document.body.removeChild(this.input),this.input=document.createElement("input"),this.input.multiple=n,this.input.type="file",this.input.addEventListener("change",function(){var a=(0,V.Z)(function*(l){const c=l.target;c?.files&&o(Array.from(c.files).map(i.readFile.bind(i)))});return function(l){return a.apply(this,arguments)}}()),s&&(this.input.style.display="none",document.body.appendChild(this.input)),this.input.click()}readFile(n){let o;const i=function(){var s=(0,V.Z)(function*(){return o||(o=new Promise((a,l)=>{const c=new FileReader;c.onload=()=>a(new Uint8Array(c.result)),c.onerror=()=>{console.warn(c.error),l(c.error)},c.readAsArrayBuffer(n)}),o)});return function(){return s.apply(this,arguments)}}();return{name:n.name,getContent:i}}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(sr),ce(Js),ce(zp),ce(Si),ce(cs),ce(uo),ce(ER),ce(Ta))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),jl=(()=>{var e;class t{constructor(n,o,i,s,a,l){this.cloudpilotService=n,this.storageService=o,this.loadingController=i,this.fsTools=s,this.alertService=a,this.fileService=l,this.sessions=[],this.loading=!0,this.updateMutex=new fl,this.updateSessionsFromStorage().then(()=>this.loading=!1),this.storageService.sessionChangeEvent.addHandler(this.updateSessionsFromStorage.bind(this))}isLoading(){return this.loading}addSessionFromImage(n,o,i={}){var s=this;return(0,V.Z)(function*(){const a=yield s.loadingController.create({message:"Importing..."});yield a.present();try{return s.doAddSessionFromImage(n,o,i)}finally{yield a.dismiss()}})()}addSessionsFromArchive(n){var o=this;return(0,V.Z)(function*(){const i=yield o.loadingController.create({message:"Importing..."});yield i.present();try{const s=yield o.cloudpilotService.cloudpilot,a=yield o.fsTools.createZipfileWalker(n);if(-1===a.GetState())return void(yield o.alertService.errorMessage("Import failed: unable to read zip file."));const l=a.GetTotalEntries(),c=new Set(o.sessions.map(h=>h.name));let f=1;for(;0===a.GetState();){i.message=`Importing ${f++}/${l}...`;const h=/\.(bin|img)$/i.test(a.GetCurrentEntryName())?s.deserializeSessionImage(a.GetCurrentEntryContent()):void 0;if(!h){yield o.alertService.errorMessage(`${a.GetCurrentEntryName()} is not a valid session.`,"Continue"),a.Next();continue}const g=zd(h.metadata?.name??a.GetCurrentEntryName(),b=>c.has(b));yield o.doAddSessionFromImage(h,g,h.metadata),a.Next()}}catch(s){yield i.dismiss(),yield o.alertService.errorMessage(`Failed to import sessions: ${s?.message??"unknown error"}.`)}finally{i.dismiss()}})()}addSessionFromRom(n,o,i,s={}){var a=this;return(0,V.Z)(function*(){const l={hotsyncName:"",dontManageHotsyncName:!1,speed:1,deviceOrientation:$r.portrait,...s,id:-1,name:o,device:i,ram:(yield a.cloudpilotService.cloudpilot).minRamForDevice(i)/1024/1024,rom:""},c=yield a.loadingController.create({message:"Importing..."});yield c.present();const f=yield a.storageService.addSession(l,n);return yield a.updateSessionsFromStorage(),yield c.dismiss(),f})()}getSessions(){return this.sessions}deleteSession(n){var o=this;return(0,V.Z)(function*(){yield o.storageService.deleteSession(n)})()}updateSession(n){var o=this;return(0,V.Z)(function*(){yield o.storageService.updateSession(n)})()}saveSession(n){var o=this;return(0,V.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."});yield i.present();try{const s=yield o.serializeSession(n);s?o.fileService.saveFile(N0(n),s):(yield i.dismiss(),o.alertService.errorMessage("Failed to save session."))}finally{i.dismiss()}})()}saveSessions(n){var o=this;return(0,V.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."});yield i.present();const s=yield o.fsTools.createZipContext(0),a=new Set;try{let l=1;for(const c of n){i.message=`Exporting ${l++}/${n.length}...`;const f=yield o.serializeSession(c);if(f){const h=zd(c.name.replace(/[\/\\]/,"_").substring(0,200),g=>a.has(g));a.add(h),yield s.addEntry(h+".img",f)}else yield o.alertService.errorMessage(`Failed  to export session '${c.name}'.`,"Continue")}o.fileService.saveFile(function L9(){return`${Wd("sessions")}.zip`}(),s.getContent())}catch(l){o.alertService.errorMessage(`Failed to export sessions: ${l.message??"unknown error"}`)}finally{i.dismiss()}})()}emergencySaveSession(n){var o=this;return(0,V.Z)(function*(){const i=yield o.cloudpilotService.cloudpilot,s=yield o.loadingController.create({message:"Exporting..."});s.style.zIndex="10000000",yield s.present();try{const a=i.getRomImage().slice(),l=i.getMemory().slice(),c=i.saveState()?i.getSavestate().slice():void 0;if(i.framebufferSizeForDevice(n.device)<0)throw new Error(`invalid device ID ${n.device}`);const h={deviceId:n.device,metadata:C_(n),rom:a,memory:l,savestate:c},g=(yield o.cloudpilotService.cloudpilot).serializeSessionImage(h);g&&o.fileService.saveFile(N0(n),g)}finally{s.dismiss()}})()}serializeSession(n){var o=this;return(0,V.Z)(function*(){const[i,s,a]=yield o.storageService.loadSession(n,!1);if(!i)throw new Error(`invalid ROM ${n.rom}`);const l={deviceId:n.device,metadata:C_(n),rom:i,memory:s,savestate:a};return(yield o.cloudpilotService.cloudpilot).serializeSessionImage(l)})()}updateSessionsFromStorage(){var n=this;return(0,V.Z)(function*(){n.sessions=yield n.updateMutex.runExclusive((0,V.Z)(function*(){return(yield n.storageService.getAllSessions()).sort((o,i)=>o.name.localeCompare(i.name))}))})()}doAddSessionFromImage(n,o,i={}){var s=this;return(0,V.Z)(function*(){const a={hotsyncName:n.metadata?.hotsyncName,dontManageHotsyncName:!1,speed:1,deviceOrientation:$r.portrait,...i,id:-1,name:o,device:n.deviceId,ram:(yield s.cloudpilotService.cloudpilot).minRamForDevice(n.deviceId)/1024/1024,rom:"",osVersion:n?.metadata?.osVersion},l=yield s.storageService.addSession(a,n.rom,n.memory,n.savestate);return yield s.updateSessionsFromStorage(),l})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Ta),ce(sr),ce(Js),ce(S_),ce(uo),ce(xc))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var H9=C(8886),z9=C.n(H9),hl=function(e){return e[e.success=0]="success",e[e.zipfileError=1]="zipfileError",e[e.ioError=2]="ioError",e[e.cardFull=3]="cardFull",e}(hl||{}),fu=function(e){return e[e.success=0]="success",e[e.ioError=1]="ioError",e[e.cardFull=2]="cardFull",e}(fu||{});function W9(e){return{readonly:0!=(1&e),hidden:0!=(2&e),system:0!=(4&e)}}function kR(e,t){const r=e.GetName(),n=e.GetModifiedTS();return{path:t,name:r,size:e.GetSize(),lastModifiedTS:n,lastModifiedLocalDate:new Date(1e3*n).toLocaleDateString(),isDirectory:e.IsDirectory(),attributes:W9(e.GetAttributes())}}class L0{constructor(t){this.module=t,this.vfsNative=new t.Vfs}static create(t){return(0,V.Z)(function*(){return new L0(yield z9()({print:r=>console.log(r),printErr:r=>console.error(r),...void 0===t?{}:{locateFile:()=>t}}))})()}allocateImage(t){this.vfsNative.AllocateImage(t>>>9)}mountImage(t){return this.vfsNative.MountImage(t)}unmountImage(t){this.vfsNative.UnmountImage(t)}getPendingImage(){const t=this.module.getPointer(this.vfsNative.GetPendingImage()),r=this.vfsNative.GetPendingImageSize();if(0!==t&&0!==r)return this.module.HEAPU32.subarray(t>>>2,t+r>>>2)}getImageInSlot(t){const r=this.module.getPointer(this.vfsNative.GetImage(t)),n=this.vfsNative.GetSize(t);if(0!==r&&0!==n)return this.module.HEAPU32.subarray(r>>>2,r+n>>>2)}getDirtyPagesForSlot(t){const r=this.module.getPointer(this.vfsNative.GetDirtyPages(t));if(0===r)return;const n=x0(this.vfsNative.GetSize(t));return this.module.HEAPU8.subarray(r,r+n)}readdir(t){const r=new this.module.ReaddirContext(t);try{const n=[];for(;0===r.GetStatus();){const o=r.GetEntry();n.push(kR(o,`${t.replace(/\/*$/,"")}/${o.GetName()}`)),r.Next()}if(2===r.GetStatus()){console.warn(`readdir failed: ${r.GetErrorDescription()}`);const o=r.GetError();return{error:0===o?2:o,reason:r.GetErrorDescription()}}return{error:0,entries:n}}finally{this.module.destroy(r)}}rename(t,r){return this.vfsNative.RenameFile(t,r)}chmod(t,r){let n=0,o=0;const i=(s,a)=>{void 0!==s&&(o|=a,s&&(n|=a))};return i(r.hidden,2),i(r.readonly,1),i(r.system,4),this.vfsNative.ChmodFile(t,n,o)}stat(t){const r=this.vfsNative.StatFile(t);return 0!==r?{result:r,entry:void 0}:{entry:kR(this.vfsNative.GetEntry(),t),result:r}}bytesFree(t){return this.vfsNative.BytesFree(t)}bytesTotal(t){return this.vfsNative.BytesTotal(t)}readFile(t){if(!this.vfsNative.ReadFile(t))return;const r=this.module.getPointer(this.vfsNative.GetCurrentFileContent()),n=this.vfsNative.GetCurrentFileSize(),o=this.module.HEAPU8.subarray(r,r+n).slice();return this.vfsNative.ReleaseCurrentFile(),o}unlinkFile(t){return this.vfsNative.UnlinkFile(t)}mkdir(t){return this.vfsNative.Mkdir(t)}switchSlot(t){this.vfsNative.SwitchSlot(t)}createZipArchive({files:t,directories:r,prefix:n}){var o=this;return(0,V.Z)(function*(){const i=new o.module.ExportZipContext(n,25),s=[];try{for(t&&t.forEach(f=>i.AddFile(f)),r&&r.forEach(f=>i.AddDirectory(f));2!==i.GetState();){switch(i.Continue()){case-2:case-1:s.push(i.GetErrorItem())}2!==i.GetState()&&(yield new Promise(f=>setTimeout(f,0)))}let a;const l=o.module.getPointer(i.GetZipContent()),c=i.GetZipSize();return 0!==l&&0!==c&&(a=o.module.HEAPU8.subarray(l,l+c).slice()),{archive:a,failedItems:s}}finally{o.module.destroy(i)}})()}deleteRecursive(t){var r=this;return(0,V.Z)(function*(){const n=new r.module.DeleteRecursiveContext(25);try{for(t.forEach(o=>n.AddFile(o));1===n.Continue();)yield new Promise(o=>setTimeout(o,0));return 2===n.GetState()?{success:!0}:{success:!1,failingItem:n.GetFailingPath()}}finally{r.module.destroy(n)}})()}writeFile(t,r){const n=this.copyIn(r);try{return this.vfsNative.WriteFile(t,r.length,n)}finally{this.vfsNative.Free(n)}}unzipArchive(t,r,n){var o=this;return(0,V.Z)(function*(){const i=o.copyIn(r),s=new o.module.UnzipContext(25,t,i,r.length),a=l=>({result:l,entriesTotal:s.GetEntriesTotal(),entriesSuccess:s.GetEntriesSuccess()});try{for(;;)switch(yield new Promise(c=>setTimeout(c,0)),s.GetState()){case 1:return a(hl.success);case-3:return a(hl.cardFull);case-1:return a(hl.ioError);case-2:return a(hl.zipfileError);case 2:(yield n.onFileCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;case 4:(yield n.onDirectoryCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;default:s.Continue()}}finally{o.module.destroy(s),o.vfsNative.Free(i)}})()}paste(t,r,n,o,i){var s=this;return(0,V.Z)(function*(){const a=new s.module.PasteContext(25,t,r);n.forEach(l=>a.AddFile(l)),a.SetDeleteAfterCopy("cut"===o);try{for(;;)switch(yield new Promise(c=>setTimeout(c,0)),a.GetState()){case 1:return fu.success;case-2:return fu.cardFull;case-1:return fu.ioError;case 2:(yield i.onFileCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;case 4:(yield i.onDirectoryCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;default:a.Continue()}}finally{s.module.destroy(a)}})()}copyIn(t){const r=this.vfsNative.Malloc(t.length),n=this.module.getPointer(r);return this.module.HEAPU8.subarray(n,n+t.length).set(t),r}}var Z9=C(307),RR=C.n(Z9);function PR(e){return 0===e.length?e:e[0].toUpperCase()+e.substring(1)}const q9=C.p+"wasm/vfs_web-3431374c51026b1f.wasm";let pu=(()=>{var e;class t{constructor(n,o,i,s,a,l){this.storageService=n,this.storageCardContext=o,this.fileService=i,this.loadingController=s,this.alertController=a,this.alertService=l,this.onReleaseCard=new Oo.j,this.mountedCards=new Array(2),this.primarySlot=0,this.vfs=L0.create(q9),this.directoryCache=new Map,this.bytesFree=0,this.bytesTotal=0,this.clipboard=void 0,this.clipboardSet=new Set,this.vfs.then(c=>this.vfsInstance=c)}setStorageCardService(n){this.storageCardService=n,n.mountCardEvent.addHandler(this.invalidateClipboardForCard.bind(this)),n.deleteCardEvent.addHandler(this.invalidateClipboardForCard.bind(this))}normalizePath(n){return("/"+n).replace(/\/{2,}/g,"/").replace(/\/*$/,"")}splitPath(n){return this.normalizePath(n).replace(/^\/+/,"").split("/")}dirname(n){return this.normalizePath(n).replace(/\/[^\/]*$/,"")}isFilenameValid(n){return void 0===n||!/[\/\\]/.test(n)}isEntryInClipboard(n){if(this.clipboard&&this.clipboard.storageId===this.primaryCard?.storageId)return this.clipboardSet.has(n.path)?this.clipboard.operation:void 0}activateCard(n){var o=this;return(0,V.Z)(function*(){if(o.primaryCard?.id!==n){if(o.secondaryCard?.id===n)return o.primarySlot=o.secondarySlot,void(yield o.activatePrimaryCard());throw new Error(`card ${n} not mounted in VFS`)}})()}mountCardUnchecked(n,o,i){var s=this;return(0,V.Z)(function*(){const a=yield s.storageService.getCard(n);if(!a)throw new Error(`no card with id ${n}`);if(s.primaryCard?.id===n||s.secondaryCard?.id===n)throw new Error(`card ${n} already mounted in VFS`);s.storageCardContext.claim(n,Ar.vfs),s.primaryCard&&s.primaryCard.storageId===s.clipboard?.storageId&&(s.primarySlot=s.secondarySlot),s.primaryCard&&(yield s.releaseCard(s.primaryCard.id));const l=yield s.vfs;l.allocateImage(a.size);const c=l.getPendingImage();if(!c)throw new Error("failed to allocate image");return i?c.set(i):yield s.storageService.loadCardData(n,c,Ar.vfs),l.mountImage(s.primarySlot)?(s.primaryCard=a,yield s.activatePrimaryCard(),!0):(s.storageCardContext.release(n,Ar.vfs),!1)})()}releaseCard(n){var o=this;return(0,V.Z)(function*(){let i;if(o.primaryCard?.id===n)i=o.primarySlot;else{if(o.secondaryCard?.id!==n)return;i=o.secondarySlot}(yield o.vfs).unmountImage(i),o.mountedCards[i]=void 0,o.storageCardContext.release(n,Ar.vfs),o.onReleaseCard.dispatch(n)})()}readdir(n){if(!this.vfsInstance)return[];const o=this.normalizePath(n);if(!this.directoryCache.has(o)){const i=this.vfsInstance.readdir(n);this.directoryCache.set(o,0===i.error?i.entries:[])}return this.directoryCache.get(o)||[]}updateFileEntry(n,o){var i=this;return(0,V.Z)(function*(){const s=yield i.vfs;if(n=i.normalizePath(n),!i.isFilenameValid(o.name))return void(yield i.error("The provided file name is invalid."));const{result:a,entry:l}=s.stat(n);if(0===a)if(void 0===o.attributes||RR()(o.attributes,l.attributes)||0===(i.directoryCache.delete(i.dirname(n)),s.chmod(n,o.attributes))){if(void 0!==o.name&&o.name!==l.name)switch(i.directoryCache.delete(i.dirname(n)),s.rename(n,`${i.dirname(n)}/${o.name}`)){case 0:break;case 6:return void(yield i.error("The provided file name is invalid."));default:return void(yield i.fatalError("Unable to write the updated file attributes."))}yield i.sync()}else yield i.fatalError("Unable to write the updated file attributes.");else yield i.error(`The path ${n} is invalid. This is a bug in Cloudpilot.`)})()}saveFile(n){var o=this;return(0,V.Z)(function*(){const i=yield o.loadingController.create({message:"Preparing file..."});yield i.present();try{const a=(yield o.vfs).readFile(n.path);if(!a)return void(yield o.alertService.errorMessage(`Could not read file '${n.name}'.`));o.fileService.saveFile(n.name,a)}finally{yield i.dismiss()}})()}archiveFiles(n,o){var i=this;return(0,V.Z)(function*(){if(0===n.length||!i.primaryCard)return;const s=yield i.loadingController.create({message:"Creating archive..."});yield s.present();try{const a=yield i.vfs,l=n.filter(b=>b.isDirectory).map(b=>i.normalizePath(b.path)),c=n.filter(b=>!b.isDirectory).map(b=>i.normalizePath(b.path)),f=1===n.length?`${n[0].name}.zip`:function B9(e){return`files_${Wd(e.name)}.zip`}(i.primaryCard),{archive:h,failedItems:g}=yield a.createZipArchive({directories:l,files:c,prefix:o});yield s.dismiss(),g.length>0&&(g.length<=3?yield i.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${g.join("<br>")}`):yield i.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${g.slice(0,3).join("<br>")}<br><br> and ${g.length-3} other file`)),h&&i.fileService.saveFile(f,h)}finally{yield s.dismiss()}})()}unlinkEntry(n){var o=this;return(0,V.Z)(function*(){if(n.isDirectory)return;const s=(yield o.vfs).unlinkFile(n.path);if(0!==s)return console.error(`failed to unlink ${n.path}: ${s}`),void(yield o.error(`Failed to delete: ${n.path}`));yield o.updateBytesFree(),yield o.sync(),o.directoryCache.delete(o.dirname(n.path))})()}deleteRecursive(n){var o=this;return(0,V.Z)(function*(){const i=n.map(a=>o.normalizePath(a.path)),s=yield o.loadingController.create({message:"Deleting..."});yield s.present();try{const l=yield(yield o.vfs).deleteRecursive(i);if(!l.success)return yield s.dismiss(),void(yield o.fatalError(`Failed to delete ${l.failingItem}`));yield o.updateBytesFree(),yield o.sync(),o.directoryCache.clear()}finally{yield s.dismiss()}})()}mkdir(n){var o=this;return(0,V.Z)(function*(){switch((yield o.vfs).mkdir(n)){case 6:return void(yield o.alertService.errorMessage("Invalid name."));case 7:return void(yield o.alertService.errorMessage("No space left on card."));case 8:return void(yield o.alertService.errorMessage("Name already taken."));case 0:break;default:return void(yield o.error(`Failed to create ${n}.`))}yield o.updateBytesFree(),yield o.sync(),o.directoryCache.delete(o.dirname(n))})()}getBytesFree(){return this.bytesFree}getBytesTotal(){return this.bytesTotal}isClipboardPopulated(){if(!this.clipboard||!this.storageCardService)return!1;const n=this.storageCardService.getAllCards().find(o=>o.storageId===this.clipboard?.storageId);return!!n&&(n.status===wr.clean||n.status===wr.dirty&&!!n.dontFsckAutomatically)}invalidateClipboardForCard(n){this.clipboard?.storageId===n.storageId&&(this.clipboard=void 0,this.clipboardSet.clear())}copyToClipboard(n,o,i){this.primaryCard&&(this.clipboard&&this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)),this.clipboard={operation:i,prefix:this.normalizePath(n),storageId:this.primaryCard.storageId,items:o.map(s=>({name:s,path:this.normalizePath(`${n}/${s}`)}))},this.clipboardSet.clear(),this.clipboard.items.map(s=>s.path).forEach(s=>this.clipboardSet.add(s)),this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)))}unpackArchive(n,o){var i=this;return(0,V.Z)(function*(){const s=yield i.loadingController.create({message:"Extracting..."});yield s.present();try{const{entriesTotal:a,entriesSuccess:l,result:c}=yield i.unpackArchiveUnchecked(n,o);let f,h;switch(yield s.dismiss(),c){case hl.success:f="The archive was extracted successfully, but some entries were skipped.",h="Skipped entries";break;case hl.ioError:return void(yield i.fatalError("There was an error writing to the card."));case hl.cardFull:f="No space left on card.",h="No space left";break;case hl.zipfileError:f="There was an error reading from the archive.",h="Error reading archive";break;default:throw new Error("unreachable")}const g=a-l,b=j=>j>1?`${j} entries`:"one entry";a>0&&g===a&&(yield i.alertService.message(h,`\n                    ${f}\n                    <br><br>\n                    The archive contains ${b(a)}, but none could be unpacked.\n                `)),g>0&&l>0&&(yield i.alertService.message(h,`\n                    ${f}\n                    <br><br>\n                    ${PR(b(l))} unpacked succesfully, but ${b(g)} could not be unpacked.\n                `))}finally{s.dismiss()}})()}paste(n){var o=this;return(0,V.Z)(function*(){if(!o.isClipboardPopulated())return;const i=yield o.loadingController.create({message:"Pasting files..."});yield i.present();try{const s=yield o.pasteUnchecked(n);switch(yield i.dismiss(),s){case fu.cardFull:yield o.alertService.message("No space left","No space left on card.");break;case fu.ioError:return void(yield o.fatalError("There was an error copying files to the card."))}}catch(s){yield o.alertService.errorMessage(s instanceof Error?s.message:"Unknown error.")}finally{i.dismiss()}})()}addFiles(n,o){var i=this;return(0,V.Z)(function*(){if(0===n.length)return;const s=yield i.loadingController.create({message:" Adding files"});yield s.present();try{const a=yield i.addFilesUnchecked(n,o);yield s.dismiss();const l=c=>c>1?`${c} entries`:"one file";a.length===n.length?yield i.alertService.message("Skipped files","No files were added to the card."):0!==a.length&&(yield i.alertService.message("Skipped files",`Successfully added ${l(n.length-a.length)} to card. ${PR(l(a.length))} could not be added.\n                `))}finally{s.dismiss()}})()}addFilesUnchecked(n,o){var i=this;return(0,V.Z)(function*(){const s=i.readdir(o),a=[],l=yield i.vfs;let c=!1,f=!1,h=!1,g=!1;e:for(let b=0;b<n.length;b++){const j=n[b],ee=s.find(Ee=>Ee.name===j.name);if(ee&&ee.isDirectory){if(!h){const{overwrite:Ie,rememberChoice:Tt}=yield i.overwriteFileDialog(j.name,"directory");g=Ie,h=Tt}let Ee=!0;if(g&&(Ee=!(yield l.deleteRecursive([i.normalizePath(`${o}/${j.name}`)])).success),Ee){a.push(j.name);continue}}if(ee&&!ee.isDirectory){if(!c){const{overwrite:Ee,rememberChoice:Ie}=yield i.overwriteFileDialog(j.name,"file");f=Ee,c=Ie}if(!f){a.push(j.name);continue}}let ye;try{ye=yield j.getContent()}catch(Ee){console.warn(Ee),a.push(j.name),yield i.alertService.errorMessage(`Unable to open ${j.name}`);continue}switch(l.writeFile(i.normalizePath(`${o}/${j.name}`),ye)){case 3:yield i.alertService.errorMessage("Card full."),a.push(...n.slice(b).map(Ee=>Ee.name));break e;case 4:throw yield i.fatalError("Unable to write file."),new Error;case 0:break;default:a.push(j.name)}}return yield i.updateBytesFree(),yield i.sync(),i.directoryCache.delete(i.normalizePath(o)),a})()}collisionHandlers(){var n=this;let o=!1,i=!1,s=!1,a=!1;return{onFileCollision:(l=(0,V.Z)(function*(c){if(i)return o;const{overwrite:f,rememberChoice:h}=yield n.overwriteFileDialog(c.replace(/^\d:/,""),"file");return o=f,i=h,o}),function(f){return l.apply(this,arguments)}),onDirectoryCollision:function(){var l=(0,V.Z)(function*(c){if(a)return s;const{overwrite:f,rememberChoice:h}=yield n.overwriteFileDialog(c.replace(/^\d:/,""),"directory");return s=f,a=h,s});return function(f){return l.apply(this,arguments)}}()};var l}unpackArchiveUnchecked(n,o){var i=this;return(0,V.Z)(function*(){const a=yield(yield i.vfs).unzipArchive(i.normalizePath(o),n,{...i.collisionHandlers(),onInvalidEntry:(l=(0,V.Z)(function*(c){yield i.alertService.message("Invalid entry",`Could not extract ${c}`,{},"Continue")}),function(f){return l.apply(this,arguments)})});var l;return a.result!==hl.ioError&&(yield i.updateBytesFree(),yield i.sync(),i.directoryCache.clear()),a})()}pasteUnchecked(n){var o=this;return(0,V.Z)(function*(){if(!o.clipboard||!o.primaryCard)throw new Error("invalid state for paste");const i=yield o.mountClipboard(),a=yield(yield o.vfs).paste(`${o.primarySlot}:${o.normalizePath(n)}`,`${i}:${o.normalizePath(o.clipboard.prefix)}`,o.clipboard.items.map(l=>l.name),o.clipboard.operation,o.collisionHandlers());return a===fu.ioError||(yield o.updateBytesFree(),yield o.sync(o.primarySlot),i!==o.primarySlot&&(yield o.sync(i)),o.directoryCache.clear(),"cut"===o.clipboard.operation&&(o.clipboard=void 0,o.clipboardSet.clear())),a})()}mountClipboard(){var n=this;return(0,V.Z)(function*(){if(!n.clipboard||!n.primaryCard||!n.storageCardService)throw new Error("invalid state for paste");if(n.clipboard.storageId===n.primaryCard.storageId)return n.primarySlot;if(n.secondaryCard&&n.clipboard.storageId===n.secondaryCard.storageId)return n.secondarySlot;n.secondaryCard&&(yield n.releaseCard(n.secondaryCard.id));const o=n.storageCardService.getAllCards().find(a=>a.storageId===n.clipboard?.storageId);if(!o)throw new Error("invalid storage card in clipboard");const i=yield n.vfs;i.allocateImage(o.size);const s=i.getPendingImage();if(!s)throw new Error("failed to allocate image");if(n.storageCardContext.claim(o.id,Ar.vfs),yield n.storageService.loadCardData(o.id,s,Ar.vfs),!i.mountImage(n.secondarySlot))throw n.storageCardContext.release(o.id,Ar.vfs),new Error("unable to mount card");return n.secondaryCard=o,n.secondarySlot})()}overwriteFileDialog(n,o){var i=this;return(0,V.Z)(function*(){let s=!1,a=!1;const l=yield i.alertController.create({header:"File collision",backdropDismiss:!1,cssClass:"alert-checkbox-no-border installation-error",message:i.alertService.sanitizeMessage("file"===o?`Do you want to overwrite the existing file ${n}?`:`\n                    Do you want to overwrite the existing directory ${n}?\n                    <br><br>\n                    WARNING: All files in this directory will be lost.\n                    `),buttons:[{text:"No",role:"cancel"},{text:"Yes",handler:()=>s=!0}],inputs:[{type:"checkbox",label:"Remember choice",checked:!1,handler:c=>a=!0===c.checked,cssClass:"alert-checkbox"}]});return yield l.present(),yield l.onDidDismiss(),{overwrite:s,rememberChoice:a}})()}error(n){var o=this;return(0,V.Z)(function*(){yield o.alertService.errorMessage(n)})()}fatalError(n){var o=this;return(0,V.Z)(function*(){o.primaryCard&&(yield o.storageService.updateStorageCardPartial(o.primaryCard.id,{status:wr.dirty}),yield o.releaseCard(o.primaryCard.id),o.alertService.errorMessage(`${n}\n        <br><br>\n        No changes have been written, and the card has been unmounted to prevent damage to the file system.\n        `))})()}sync(n=this.primarySlot){var o=this;return(0,V.Z)(function*(){const i=o.mountedCards[n];if(!i)return;const s=yield o.vfs,a=s.getImageInSlot(n),l=s.getDirtyPagesForSlot(n);!a||!l||(yield o.storageService.updateCardData(i.id,a,l,Ar.vfs),l.fill(0))})()}activatePrimaryCard(){var n=this;return(0,V.Z)(function*(){const o=yield n.vfs;o.switchSlot(n.primarySlot),n.bytesFree=o.bytesFree(n.primarySlot),n.bytesTotal=o.bytesTotal(n.primarySlot),n.directoryCache.clear()})()}updateBytesFree(){var n=this;return(0,V.Z)(function*(){n.bytesFree=(yield n.vfs).bytesFree(n.primarySlot)})()}get secondarySlot(){return 1-this.primarySlot}get primaryCard(){return this.mountedCards[this.primarySlot]}set primaryCard(n){this.mountedCards[this.primarySlot]=n}get secondaryCard(){return this.mountedCards[this.secondarySlot]}set secondaryCard(n){this.mountedCards[this.secondarySlot]=n}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(sr),ce(Yp),ce(xc),ce(Js),ce(Hp),ce(uo))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var Wo=function(e){return e[e.mb4=0]="mb4",e[e.mb8=1]="mb8",e[e.mb16=2]="mb16",e[e.mb32=3]="mb32",e[e.mb64=4]="mb64",e[e.mb128=5]="mb128",e}(Wo||{});function OR(){return S0().replace(/-/g,"")}let Zd=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f,h,g,b,j){this.sessionService=n,this.storageService=o,this.emulationStateService=i,this.cloudpilotService=s,this.loadingController=a,this.snapshotService=l,this.alertService=c,this.errorService=f,this.fileService=h,this.vfsService=g,this.storageCardContext=b,this.fstools=j,this.mountCardEvent=new Oo.j,this.deleteCardEvent=new Oo.j,this.loading=!0,this.cards=[],this.updateMutex=new fl,this.vfsService.setStorageCardService(this),this.updateCardsFromDB().then(()=>this.loading=!1),o.storageCardChangeEvent.addHandler(()=>this.updateCardsFromDB())}getAllCards(){return this.cards}createEmptyCard(n,o,i){var s=this;return(0,V.Z)(function*(){const a=yield s.loadingController.create({message:"Formatting..."});try{yield a.present();const l=yield s.fstools.mkfs(function Y9(e){switch(e){case Wo.mb4:return 4;case Wo.mb8:return 8;case Wo.mb16:return 16;case Wo.mb32:return 32;case Wo.mb64:return 64;case Wo.mb128:return 128;default:throw new Error(`bad card size ${e}`)}}(o));if(!l)throw new Error("failed to create image");const c={storageId:OR(),name:n,size:4*l.length,status:wr.clean,dontFsckAutomatically:i};return yield s.storageService.importStorageCard(c,l)}finally{a.dismiss()}})()}createCardFromImage(n,o,i){var s=this;return(0,V.Z)(function*(){const a=yield s.loadingController.create({message:"Importing..."});try{yield a.present(),yield s.doCreateCardFromImage(n,o,i)}finally{a.dismiss()}})()}onEmulatorStop(){const n=this.emulationStateService.getCurrentSession()?.mountedCard;void 0!==n&&this.storageCardContext.release(n,Ar.cloudpilot)}loadCardInEmulator(n,o){var i=this;return(0,V.Z)(function*(){const s=yield i.storageService.getCard(n);if(!s)throw new Error(`no card with id ${n}`);yield i.vfsService.releaseCard(n);const a=yield i.cloudpilotService.cloudpilot;if(a.getMountedKey())throw new Error("attempt to mount a card while another card is mounted");if(!a.allocateCard(s.storageId,s.size))throw new Error("failed to allocate card");const l=a.getCardData(s.storageId);if(!l)throw new Error("failed to access card data");return i.storageCardContext.claim(n,Ar.cloudpilot),o?l.set(o):yield i.storageService.loadCardData(s.id,l,Ar.cloudpilot),s})()}ejectCurrentCard(){var n=this;return(0,V.Z)(function*(){const o=n.emulationStateService.getCurrentSession();if(!o)throw new Error("no running session");const i=o?.mountedCard;if(void 0===i)throw new Error("no mounted card");const s=yield n.storageService.getCard(i);if(!s)throw new Error(`no card with id ${i}`);yield n.storageService.updateStorageCardPartial(i,{status:wr.dirty}),yield n.snapshotService.waitForPendingSnapshot(),yield n.snapshotService.triggerSnapshot(),yield n.storageService.updateSessionPartial(o.id,{mountedCard:void 0}),(yield n.cloudpilotService.cloudpilot).removeCard(s.storageId),n.snapshotService.resetCard(),n.storageCardContext.release(i,Ar.cloudpilot)})()}checkCard(n){var o=this;return(0,V.Z)(function*(){const i=o.mountedInSession(n.id);if(i){let a=!1;if(yield o.alertService.message("Card is attached",`This card needs to be ejected from session '${i.name}' before it can be checked.`,{"Eject now":()=>a=!0},"Cancel"),!a)return;yield o.ejectCard(n.id)}const s=yield o.executeFsckAndUpdateCard(n.id);switch(s.getResult()){case 1:return void o.alertService.cardIsClean();case 3:return void o.alertService.cardHasNoValidFileSystem();case 4:o.alertService.cardHasUncorrectableErrors();break;case 2:{let a=!1;return yield o.alertService.message("Filesystem errors",`The filesystem on this card contains errors${n.dontFsckAutomatically?"":"  that need to be fixed before it can be used"}. Do you want to fix them now?`,{"Fix now":()=>a=!0},"Cancel"),void(a?yield o.applyFsckResult(n.id,s):o.storageCardContext.release(n.id,Ar.fstools))}}})()}insertCard(n){return this.checkAndClaimCard(n,"insert")}browseCard(n){var o=this;return(0,V.Z)(function*(){if(o.storageCardContext.getOwner(n.id)===Ar.vfs)return yield o.vfsService.activateCard(n.id),!0;const i=o.mountedInSession(n.id);if(i){let s=!1;if(yield o.alertService.message("Card is attached",`This card needs to be ejected from session '${i.name}' before it can be browsed.`,{"Eject now":()=>s=!0},"Cancel"),!s)return!1;yield o.ejectCard(n.id)}return o.checkAndClaimCard(n.id,"vfs")})()}updateCard(n,o){var i=this;return(0,V.Z)(function*(){const s=yield i.storageService.getCard(n);if(!s)throw new Error(`no card with id ${n}`);return!o.dontFsckAutomatically&&s.dontFsckAutomatically&&(o.status=wr.dirty),i.storageService.updateStorageCardPartial(n,o)})()}deleteCard(n){var o=this;return(0,V.Z)(function*(){const i=yield o.loadingController.create({message:"Deleting..."});yield i.present();try{const s=o.cards.find(a=>a.id===n);yield o.vfsService.releaseCard(n),yield o.ejectCard(n),yield o.storageService.deleteStorageCard(n),s&&o.deleteCardEvent.dispatch(s)}finally{i.dismiss()}})()}saveCard(n,o,i){var s=this;return(0,V.Z)(function*(){const a=yield s.getCard(n);if(!a)throw new Error(`no card with id ${n}`);const l=yield s.loadingController.create({message:"Exporting..."});let c;try{yield l.present(),c=yield s.getCardData(a,i?o:void 0)}finally{l.dismiss()}c&&s.fileService.saveFile(i?`${o}.gz`:o,c)})()}saveCards(n){var o=this;return(0,V.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."}),s=yield o.fstools.createZipContext(0);try{yield i.present();const a=new Set,l=yield o.fstools.createGzipContext();let c=0;for(const f of n){c++;const h=yield o.getCard(f);if(!h)continue;i.message=`Exporting ${c}/${n.length}...`;const g=zd(h.name,j=>a.has(j));a.add(g);const b=yield o.getCardData(h,g,l);b&&(yield s.addEntry(`${g}.img.gz`,b))}}catch(a){yield i.dismiss(),yield o.alertService.errorMessage(`Failed to export card images: ${a?.message??"unknown error"}`)}finally{i.dismiss()}o.fileService.saveFile(function $9(){return`${Wd("cards")}.zip`}(),s.getContent())})()}getCard(n){var o=this;return(0,V.Z)(function*(){return o.storageService.getCard(n)})()}mountedInSession(n){return this.sessionService.getSessions().find(o=>o.mountedCard===n)}isLoading(){return this.loading}addAllCardsFromArchive(n){var o=this;return(0,V.Z)(function*(){const i=/\.(bin|img)(|\.gz)$/i,s=yield o.loadingController.create({message:"Importing..."});try{yield s.present();const a=yield o.cloudpilotService.cloudpilot,l=yield o.fstools.createZipfileWalker(n);if(-1===l.GetState())return void(yield o.alertService.errorMessage("Import failed: unable to read zip file."));const c=l.GetTotalEntries(),f=new Set((yield o.getAllCards()).map(b=>b.name)),h=yield o.fstools.createGunzipContext();let g=1;for(;0===l.GetState();){s.message=`Importing ${g++}/${c}...`;let b=l.GetCurrentEntryName();if(!i.test(b)){yield o.alertService.errorMessage(`${b} has the wrong suffix to be considered as a card image.`),l.Next();continue}let j=l.GetCurrentEntryContent();if(b.endsWith(".gz")&&j&&(h.initialize(j),j=(yield h.gunzip())?h.getDecompressedData():void 0,b=b.substring(0,b.length-3)),void 0===j){yield o.alertService.errorMessage(`Failed to extract ${b}.`),l.Next();continue}if(0===a.getCardSupportLevel(j.length)){yield o.alertService.errorMessage(`${b} is not a valid card image.`),l.Next();continue}const ee=zd(b.replace(i,""),ye=>f.has(ye));yield o.doCreateCardFromImage(ee,j,!1,!0),l.Next()}}catch(a){yield s.dismiss(),yield o.alertService.errorMessage(`Failed to import card images: ${a?.message??"unknown error"}`)}finally{s.dismiss()}})()}doCreateCardFromImage(n,o,i,s=!1){var a=this;return(0,V.Z)(function*(){const l={storageId:OR(),name:n,size:o.length,status:s?wr.dirty:wr.clean,dontFsckAutomatically:i},c=new Uint32Array(o.buffer,o.byteOffset,o.byteLength>>>2);if(s||i)yield a.storageService.importStorageCard(l,c);else{const[f,h]=yield a.fsckNewCard(c,l);yield a.storageService.importStorageCard(h,f)}})()}getCardData(n,o,i){var s=this;return(0,V.Z)(function*(){let a;if(void 0!==o&&(i=i??(yield s.fstools.createGzipContext())).initialize(n.size),i){const f=i.getBuffer();a=new Uint32Array(f.buffer,f.byteOffset,f.byteLength>>2)}const l=s.mountedInSession(n.id);let c;return l&&l.id===s.emulationStateService.getCurrentSession()?.id&&(yield s.snapshotService.waitForPendingSnapshot(),yield s.snapshotService.triggerSnapshot(),c=(yield s.cloudpilotService.cloudpilot).getCardData(n.storageId),c&&(a?a.set(c):a=c)),c||(a||(a=new Uint32Array(n.size>>>2)),yield s.storageService.loadCardData(n.id,a,s.storageCardContext.getOwner(n.id))),i&&o?(i.setFilename(o).setMtime(Math.floor(Date.now()/1e3)),(yield i.gzip())?i.getGzipData():void(yield s.alertService.errorMessage("Failed to compress card image."))):new Uint8Array(a.buffer,a.byteOffset,a.byteLength)})()}updateCardsFromDB(){var n=this;return(0,V.Z)(function*(){n.cards=yield n.updateMutex.runExclusive((0,V.Z)(function*(){return(yield n.storageService.getAllStorageCards()).sort((o,i)=>o.name.localeCompare(i.name))}))})()}cardIsMounted(n){var o=this;return(0,V.Z)(function*(){return(yield o.storageService.getAllSessions()).some(s=>s.mountedCard===n)})()}checkAndClaimCard(n,o){var i=this;return(0,V.Z)(function*(){if(yield i.cardIsMounted(n))throw new Error("card already mounted");let s=yield i.getCard(n);if(!s)throw new Error(`no card with id ${n}`);let a,l=!0,c=!1;if(!s.dontFsckAutomatically){if(s.status===wr.dirty){if(a=yield i.executeFsckAndUpdateCard(n),2===a.getResult()){if(l=!1,yield i.alertService.message("Filesystem errors",`The filesystem on this card contains errors that have to fixed before it can be ${"insert"===o?"inserted":"browsed"}. Do you want to fix them now?`,{"Fix now":()=>l=!0},"Cancel"),!l)return i.storageCardContext.release(n,Ar.fstools),!1;yield i.applyFsckResult(s.id,a)}if(s=yield i.getCard(n),!s)throw new Error(`no card with id ${n}`)}switch(s.status){case wr.clean:break;case wr.unformatted:if("vfs"===o)return yield i.alertService.message("Card unformatted","This card is unformatted and cannot be browsed. Insert it into a device and format it."),!1;case wr.dirty:return yield i.alertService.message("Card requires check",`This card needs to be checked before it can be ${"insert"===o?"inserted":"browsed"}.`),!1;case wr.unfixable:if(l=!1,c=!0,yield i.alertService.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors. Writing could cause further damage. Do you want to insert it nevertheless?",{"Insert card":()=>l=!0},"Cancel"),!l)return!1;break;default:throw new Error("unreachable: bad card status")}}try{"insert"===o?(yield i.vfsService.releaseCard(n),yield i.mountCardInEmulator(n,a?.getImageData())):(yield i.mountCardForBrowsing(n,c,a?.getImageData()))||(yield i.alertService.message("Failed to mount card","The card could not be mounted for browsing."))}catch(f){return i.errorService.fatalBug(f instanceof Error?f.message:"mount failed"),!1}return!0})()}executeFsckAndUpdateCard(n){var o=this;return(0,V.Z)(function*(){const i=yield o.loadingController.create({message:"Checking card..."});try{if(yield i.present(),yield o.cardIsMounted(n))throw new Error("attempt to fsck a mounted card");const s=yield o.storageService.getCard(n);if(!s)throw new Error(`no card with id ${n}`);yield o.vfsService.releaseCard(n),o.storageCardContext.claim(n,Ar.fstools);const a=yield o.fstools.createFsckContext(s.size);switch(yield o.storageService.loadCardData(s.id,a.getImageData(),Ar.fstools),a.fsck()){case 1:yield o.storageService.updateStorageCardPartial(n,{status:wr.clean}),o.storageCardContext.release(n,Ar.fstools);break;case 3:yield o.storageService.updateStorageCardPartial(n,{status:wr.unformatted}),o.storageCardContext.release(n,Ar.fstools);break;case 2:yield o.storageService.updateStorageCardPartial(n,{status:wr.dirty});break;case 4:yield o.storageService.updateStorageCardPartial(n,{status:wr.unfixable}),o.storageCardContext.release(n,Ar.fstools);break;default:throw new Error("unrachable: invalid fsck result")}return a}finally{i.dismiss()}})()}applyFsckResult(n,o){var i=this;return(0,V.Z)(function*(){if(2!==o.getResult())return;const s=yield i.loadingController.create({message:"Fixing errors..."});try{yield s.present(),yield i.storageService.updateCardData(n,o.getImageData(),o.getDirtyPages(),Ar.fstools),yield i.storageService.updateStorageCardPartial(n,{status:wr.clean}),i.storageCardContext.release(n,Ar.fstools)}finally{s.dismiss()}})()}fsckNewCard(n,o){var i=this;return(0,V.Z)(function*(){const s=yield i.loadingController.create({message:"Checking card..."});let a,l;try{yield s.present(),a=yield i.fstools.createFsckContext(o.size),a.getImageData().set(n),l=a.fsck()}finally{s.dismiss()}switch(l){case 1:return[n,{...o,status:wr.clean}];case 2:{let c=!1;return yield i.alertService.message("Filesystem errors","The filesystem on this card contains errors that must be fixed before the card can be used. Do you want to fix them now?",{"Fix now":()=>c=!0},"Skip"),c?[a.getImageData(),{...o,status:wr.clean}]:[n,{...o,status:wr.dirty}]}case 3:return yield i.alertService.cardHasNoValidFileSystem(),[n,{...o,status:wr.unformatted}];case 4:return yield i.alertService.cardHasUncorrectableErrors(),[n,{...o,status:wr.unfixable}];default:throw new Error("unreachable: bad fsck result")}})()}ejectCard(n){var o=this;return(0,V.Z)(function*(){const i=o.mountedInSession(n),s=yield o.storageService.getCard(n);!i||!s||(i.id===o.emulationStateService.getCurrentSession()?.id?yield o.ejectCurrentCard():(yield o.storageService.updateSessionPartial(i.id,{mountedCard:void 0}),yield o.storageService.updateStorageCardPartial(n,{status:wr.dirty})))})()}mountCardInEmulator(n,o){var i=this;return(0,V.Z)(function*(){if(yield i.cardIsMounted(n))throw new Error("card already mounted");const s=yield i.loadingController.create({message:"Inserting..."});try{yield s.present(),yield i.vfsService.releaseCard(n);const a=i.emulationStateService.getCurrentSession();if(!a)throw new Error("no current session");if(void 0!==a.mountedCard)throw new Error("session already has a mounted card");const l=yield i.loadCardInEmulator(n,o),c=yield i.cloudpilotService.cloudpilot;if(yield i.storageService.updateStorageCardPartial(n,{status:wr.dirty}),yield i.storageService.updateSessionPartial(a.id,{mountedCard:n}),!c.mountCard(l.storageId))throw c.removeCard(l.storageId),new Error("failed to mount card");return i.mountCardEvent.dispatch(l),l}finally{s.dismiss()}})()}mountCardForBrowsing(n,o,i){var s=this;return(0,V.Z)(function*(){const a=yield s.loadingController.create({message:"Mounting..."});try{return yield a.present(),yield s.vfsService.mountCardUnchecked(n,o,i)}finally{a.dismiss()}})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(jl),ce(sr),ce(Bl),ce(Ta),ce(Js),ce(Qp),ce(uo),ce(lu),ce(xc),ce(pu),ce(Yp),ce(S_))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),Ma=(()=>{var e;class t extends p9{constructor(n,o,i,s,a,l,c,f,h,g,b,j,ee,ye,Ee,Ie,Tt,Et){var Ct;super(),Ct=this,this.storageService=n,this.ngZone=o,this.loadingController=i,this.emulationState=s,this.snapshotService=a,this.errorService=l,this.alertService=c,this.modalWatcher=f,this.clipboardService=h,this.kvsService=g,this.proxyService=b,this.buttonService=j,this.bootstrapService=ee,this.cloudpilotService=ye,this.storageCardService=Ee,this.storageCardContext=Ie,this.sessionsService=Tt,this.app=Et,this.switchSession=(An,Ns={})=>this.mutex.runExclusive((0,V.Z)(function*(){if(An===Ct.emulationState.getCurrentSession()?.id)return!0;let Ui;yield Ct.stopUnchecked(),yield Ct.bootstrapService.hasRendered(),(Ns.showLoader??1)&&(Ui=yield Ct.loadingController.create({message:"Loading..."}),yield Ui.present());try{const x_=yield Ct.storageService.getSession(An);if(!x_)throw new Error(`invalid session ${An}`);Ct.emulationState.setCurrentSession(void 0);const cK=yield Ct.cloudpilotService.cloudpilot;if(!(yield Ct.restoreSession(x_,cK)))return Ct.alertService.errorMessage("Failed to launch session. This may be the result of a bad ROM file."),!1;Ct.emulationState.setCurrentSession(x_),yield Ct.sessionsService.updateSession({...x_,lastLaunch:Date.now()}),function y7(e){localStorage.setItem(p_,e+"")}(An)}finally{Ui&&(yield Ui.dismiss())}return!0})),this.resume=()=>this.mutex.runExclusive((0,V.Z)(function*(){!Ct.emulationState.getCurrentSession()||Ct.running||Ct.errorService.hasFatalError()||!Ct.cloudpilotInstance||(yield Ct.kvsService.mutex.runExclusive(()=>Ct.updateFeatures()),Ct.doResume(),Ct.lastSnapshotAt=performance.now())})),this.pause=()=>this.mutex.runExclusive((0,V.Z)(function*(){Ct.doPause(),!Ct.errorService.hasFatalError()&&Ct.emulationState.getCurrentSession()&&(yield Ct.snapshotService.waitForPendingSnapshot(),yield Ct.snapshotService.triggerSnapshot())})),this.stop=()=>this.mutex.runExclusive(()=>this.stopUnchecked()),this.onSessionChange=([An,Ns])=>this.mutex.runExclusive((0,V.Z)(function*(){const Ui=Ct.emulationState.getCurrentSession();An===Ui?.id&&(void 0!==Ui.mountedCard&&void 0===Ns&&Ct.storageCardContext.release(Ui.mountedCard,Ar.cloudpilot),Ct.emulationState.setCurrentSession(Ns),Ct.emulationState.getCurrentSession()||(eR(),Ct.stopLoop()))})),this.onEmergencySave=()=>this.mutex.runExclusive((0,V.Z)(function*(){const An=Ct.emulationState.getCurrentSession();An&&Ct.sessionsService.emergencySaveSession(An)})),this.mutex=new fl,this.lastSnapshotAt=0,n.sessionChangeEvent.addHandler(this.onSessionChange),l.fatalErrorEvent.addHandler(this.pause),this.alertService.emergencySaveEvent.addHandler(this.onEmergencySave),this.cloudpilotService.cloudpilot.then(An=>{An.fatalErrorEvent.addHandler(this.errorService.fatalInNativeCode),this.proxyService.initialize(An),this.proxyService.resumeEvent.addHandler(()=>this.running&&this.advanceEmulation(performance.now()))});const In=function v7(){const e=localStorage.getItem(p_);return e?parseInt(e,10):void 0}();this.bootstrapCompletePromise=Promise.resolve(),void 0!==In&&!IT()&&(this.bootstrapCompletePromise=this.recoverStoredSession(In))}bootstrapComplete(){return this.bootstrapCompletePromise}getConfiguredSpeed(){return this.emulationState.getCurrentSession()?.speed||1}manageHotsyncName(){return!this.emulationState.getCurrentSession()?.dontManageHotsyncName}getConfiguredHotsyncName(){return this.emulationState.getCurrentSession()?.hotsyncName}updateConfiguredHotsyncName(n){const o=this.emulationState.getCurrentSession();o&&this.storageService.updateSessionPartial(o.id,{hotsyncName:n})}getConfiguredSchdedulerKind(){return this.kvsService.kvs.runHidden?Gd.timeout:Gd.animationFrame}hasFatalError(){return this.errorService.hasFatalError()}skipEmulationUpdate(){return this.modalWatcher.isModalActive()&&0!==this.frameCounter}onAfterAdvanceEmulation(n,o){if(!this.cloudpilotInstance)return;const i=this.emulationState.getCurrentSession();this.uiInitialized&&i&&void 0===i.osVersion&&this.storageService.updateSessionPartial(i.id,{osVersion:this.cloudpilotInstance.getOSVersion()}),this.buttonService.tick(o/this.cloudpilotInstance.cyclesPerSecond()),n-this.lastSnapshotAt>1e3&&!this.cloudpilotInstance.isSuspended()&&(this.snapshotService.triggerSnapshot(),this.lastSnapshotAt=n),this.isDirty&&this.app.tick()}handleSuspend(){this.cloudpilotInstance&&(this.clipboardService.handleSuspend(this.cloudpilotInstance),this.proxyService.handleSuspend())}callScheduler(){this.ngZone.runOutsideAngular(()=>this.scheduler.schedule())}stopUnchecked(){var n=this;return(0,V.Z)(function*(){n.emulationState.getCurrentSession()&&(n.doStop(),yield n.snapshotService.waitForPendingSnapshot(),yield n.snapshotService.triggerSnapshot(),n.storageCardService.onEmulatorStop(),n.emulationState.setCurrentSession(void 0))})()}updateFeatures(){if(!this.cloudpilotInstance)return;const n=this.kvsService.kvs.clipboardIntegration&&this.clipboardService.isSupported();this.cloudpilotInstance.getClipboardIntegration()!==n&&this.cloudpilotInstance.setClipboardIntegration(n),this.cloudpilotInstance.getNetworkRedirection()!==this.kvsService.kvs.networkRedirection&&(this.cloudpilotInstance.setNetworkRedirection(this.kvsService.kvs.networkRedirection),this.proxyService.reset()),this.cloudpilotInstance.setHotsyncNameManagement(!this.emulationState.getCurrentSession()?.dontManageHotsyncName)}recoverStoredSession(n){var o=this;return(0,V.Z)(function*(){let i;const s=setTimeout(()=>{i=o.loadingController.create({message:"Loading..."}).then(function(){var a=(0,V.Z)(function*(l){return yield l.present(),l});return function(l){return a.apply(this,arguments)}}())},100);try{yield o.switchSession(n,{showLoader:!1})}catch{Ps&&o.alertService.message("Possible iOS bug","It seems that you hit an iOS bug that ocassionally\ncauses the database to come up empty when the app starts. If this happens to you, please force close\nthe app in the app switcher and reopen it; your data will be back on the second attempt.\n<br/><br/>\nSorry for the inconvenience.")}finally{i&&i.then(a=>a.dismiss()),clearTimeout(s)}})()}restoreSession(n,o){var i=this;return(0,V.Z)(function*(){const[s,a,l]=yield i.storageService.loadSession(n,i.kvsService.kvs.snapshotIntegrityCheck);if(!s)throw new Error(`invalid ROM ${n.rom}`);return o.clearExternalStorage(),void 0!==n.mountedCard&&(yield i.storageCardService.loadCardInEmulator(n.mountedCard)),!!i.openSession(o,s,n.device,a,l)&&(i.proxyService.reset(),i.buttonService.reset(o),yield i.snapshotService.initialize(n,yield i.cloudpilotService.cloudpilot),!0)})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(sr),ce(Ge),ce(Js),ce(Bl),ce(Qp),ce(lu),ce(uo),ce(I0),ce(DR),ce(Si),ce(M0),ce(xR),ce(TR),ce(Ta),ce(Zd),ce(Yp),ce(jl),ce(Sa))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),$0=(()=>{var e;class t{constructor(n){this.loadingController=n,this.reloadOnControllerChange=!1,this.updateAvailableEvent=new Oo.j,this.register()}isEnabled(){return!!navigator.serviceWorker}isRegistered(){return!!navigator.serviceWorker?.controller}update(){var n=this;return(0,V.Z)(function*(){n.registration&&n.registration.update()})()}activateUpdate(){var n=this;return(0,V.Z)(function*(){n.registration?.waiting&&(yield(yield n.loadingController.create({message:"Updating..."})).present(),n.registration.waiting.postMessage({type:"SKIP_WAITING"}))})()}register(){var n=this;return(0,V.Z)(function*(){if(n.isEnabled()&&navigator.serviceWorker){navigator.serviceWorker.addEventListener("controllerchange",()=>n.reloadOnControllerChange&&window.location.reload()),yield new Promise(o=>setTimeout(o,3e3));try{n.setupRegistration(yield n.doRegister())}catch(o){console.error(o)}}})()}doRegister(){return(0,V.Z)(function*(){return navigator.serviceWorker.register("ngsw-worker.js",{scope:"./",updateViaCache:"none"})})()}setupRegistration(n){this.registration=n,n.waiting&&this.dispatchUpdate(),n.installing&&this.handleInstallingWorker(n.installing),n.addEventListener("updatefound",()=>n.installing&&this.handleInstallingWorker(n.installing))}handleInstallingWorker(n){let o=!1;n.addEventListener("statechange",()=>{"installed"!==n.state||o||(o=!0,this.dispatchUpdate())})}dispatchUpdate(){navigator.serviceWorker.controller&&this.registration?.waiting&&(this.reloadOnControllerChange=!0,this.updateAvailableEvent.dispatch(void 0))}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Js))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),NR=(()=>{var e;class t{constructor(n,o,i,s,a){var l=this;this.kvsService=n,this.emulationService=o,this.alertService=i,this.modalController=s,this.serviceWorkerService=a,this.checkForUpgrade=()=>this.mutex.runExclusive((0,V.Z)(function*(){const c=l.kvsService.kvs.version;void 0!==c?c!==du&&(yield l.kvsService.set({version:du,previousVersion:c,latestVersion:du}),yield l.emulationService.bootstrapComplete(),yield l.alertService.message("Update complete",`CloudpilotEmu was updated to version ${du}.`,{Changes:()=>l.showChangelog()})):l.kvsService.kvs.version=du})),this.mutex=new fl,this.mutex.runExclusive(this.checkForDowngrade.bind(this))}start(){this.checkForUpgrade(),this.startUpdateCheck(),this.registerForUpdates()}startUpdateCheck(){this.scheduleUpdateCheck()}registerForUpdates(){var n=this;this.serviceWorkerService.updateAvailableEvent.addHandler((0,V.Z)(function*(){yield n.emulationService.bootstrapComplete(),n.alertService.updateAvailable(()=>n.serviceWorkerService.activateUpdate())}))}checkForDowngrade(){var n=this;return(0,V.Z)(function*(){if(yield n.kvsService.initialize(),n.kvsService.kvs.previousVersion===du){const o=yield window.navigator.serviceWorker.getRegistration();console.log("downgrade detected"),o&&(yield o.unregister())&&(yield n.kvsService.set({previousVersion:void 0}),console.log("worker derigstered, reloading..."),window.location.reload())}})()}showChangelog(){var n=this;return(0,V.Z)(function*(){yield(yield n.modalController.create({component:uu,componentProps:{url:hR,title:"Changelog"}})).present()})()}scheduleUpdateCheck(){var n=this;setTimeout((0,V.Z)(function*(){yield n.serviceWorkerService.update(),n.scheduleUpdateCheck()}),9e5)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Si),ce(Ma),ce(uo),ce(cs),ce($0))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),tZ=(()=>{var e;class t{constructor(n,o,i){this.kvsService=n,this.alertService=o,this.emulationService=i}start(){var n=this;return(0,V.Z)(function*(){const o=n.kvsService.kvs.infoId??0;n.kvsService.kvs.infoId=yield n.showInfo(o)})()}showInfo(n){var o=this;return(0,V.Z)(function*(){return 2===n&&Ps&&(yield o.emulationService.bootstrapComplete(),yield o.alertService.message("iOS 17 bug resolved","\n                The browser bug that impacted startup and offline use on iOS 17\n                has been fully resolved by switching to another service worker\n                implementation that does not trigger it.\n                <br><br>\n                CloudpilotEmu now is fully functional on iOS 17 again.\n            ")),3})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Si),ce(uo),ce(Ma))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),nZ=(()=>{var e;class t{constructor(n,o,i,s){this.pwaService=n,this.updateService=o,this.bootstrapService=i,this.infoService=s}ngAfterViewInit(){var n=this;return(0,V.Z)(function*(){n.bootstrapService.notifyHasRendered(),yield n.infoService.start(),n.pwaService.invite(),n.updateService.start()})()}}return(e=t).\u0275fac=function(n){return new(n||e)(_(fR),_(NR),_(TR),_(tZ))},e.\u0275cmp=Ze({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(n,o){1&n&&(H(0,"ion-app"),Ve(1,"ion-router-outlet"),F())},dependencies:[Mk,Up]}),t})(),FR=(()=>{var e;class t{constructor(){}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-dummy"]],decls:2,vars:0,template:function(n,o){1&n&&(H(0,"div"),Ce(1,"Dummy"),F())},encapsulation:2}),t})(),LR=(()=>{var e;class t{constructor(n,o){this.linkApi=n,this.router=o}canActivate(n){return n.url[0]?.path?.startsWith("install")?(this.linkApi.installation.dispatchRequest(n.queryParams.url),this.router.navigateByUrl("/tab/emulation"),!1):!n.url[0]?.path?.startsWith("import")||(this.linkApi.import.dispatchRequest(n.queryParams.url),this.router.navigateByUrl("/tab/sessions"),!1)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Hb),ce(Uo))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const B0=Q.m515,rZ=D0[2],oZ=D0[0],qd="rgba(0,0,0,0.2)";function $R(e){const t=Xp(e),r=(0===t.screenSize?3:2)*devicePixelRatio,n={frameDevice:1,frameCanvas:r},o=l=>({frameDevice:l,frameCanvas:l*r}),i=l=>({frameDevice:l,frameCanvas:n.frameCanvas+l*r}),s=o(t.silkscreenHeight>0?1:0),a=o(function lZ(e){switch(e){case 3:case 1:return 60;case 2:return 45;default:return 30}}(t.screenSize));return{scale:r,borderWidth:n,height:o(2*n.frameDevice+t.height+s.frameDevice+t.silkscreenHeight+a.frameDevice),width:o(2*n.frameDevice+t.width),screenHeight:o(t.height),screenWidth:o(t.width),screenLeft:i(0),screenTop:i(0),screenBottom:i(t.height),separatorHeight:s,silkscreenHeight:o(t.silkscreenHeight),silkscreenTop:i(t.height+s.frameDevice),silkscreenBottom:i(t.height+s.frameDevice+t.silkscreenHeight),softSilkscreenHeight:o(t.silkscreenHeight>0?0:t.height-t.width),buttonHeight:a,buttonWidth:a,buttonTop:i(t.height+s.frameDevice+t.silkscreenHeight),buttonBottom:i(t.height+s.frameDevice+t.silkscreenHeight+a.frameDevice)}}class cZ{constructor(t){this.skinLoader=t,this.layout=$R(B0),this.onResize=new Oo.j}get width(){switch(this.getOrientation()){case $r.portrait:case $r.portrait180:case void 0:return this.layout.width.frameCanvas;default:return this.layout.height.frameCanvas}}get height(){switch(this.getOrientation()){case $r.portrait:case $r.portrait180:case void 0:return this.layout.height.frameCanvas;default:return this.layout.width.frameCanvas}}updateEmulationCanvas(t){this.drawEmulationCanvas(t),this.onAfterUpdateCanvas()}eventToPalmCoordinates(t,r=!1){if(!this.ctx)return;const n=this.ctx.canvas.getBoundingClientRect();let o,i,s,a;n.width/n.height>this.width/this.height?(a=n.height,s=this.width/this.height*n.height,i=n.top,o=n.left+(n.width-s)/2):(s=n.width,a=this.height/this.width*n.width,o=n.left,i=n.top+(n.height-a)/2);let l=(t.clientX-o)/s*this.width/this.layout.scale,c=(t.clientY-i)/a*this.height/this.layout.scale;switch(this.getOrientation()){case $r.landscape90:{const h=c;c=this.layout.height.frameDevice-l,l=h;break}case $r.landscape270:{const h=c;c=l,l=this.layout.width.frameDevice-h;break}case $r.portrait180:l=this.layout.width.frameDevice-l,c=this.layout.height.frameDevice-c}l-=this.layout.borderWidth.frameDevice,c-=this.layout.borderWidth.frameDevice,c>=this.layout.screenHeight.frameDevice&&(c<=this.layout.screenHeight.frameDevice+this.layout.separatorHeight.frameDevice?c=this.layout.screenHeight.frameDevice:c-=this.layout.separatorHeight.frameDevice);const f=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice;if(r)l<0&&(l=0),l>=this.layout.screenWidth.frameDevice&&(l=this.layout.screenWidth.frameDevice-1),c<0&&(c=0),c>=f&&(c=f-1);else if(l<0||l>=this.layout.screenWidth.frameDevice||c<0||c>=f)return;return[l,c]}isSilkscreen(t){const[,r]=t;return!this.isButtons(t)&&r>=this.layout.screenHeight.frameDevice}isButtons([,t]){return t>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice}determineButton([t,r]){return t>=this.layout.screenWidth.frameDevice-this.layout.buttonWidth.frameDevice?3:t>=this.layout.screenWidth.frameDevice-2*this.layout.buttonWidth.frameDevice?2:t>=2*this.layout.buttonWidth.frameDevice?r>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice/2?5:4:t>=this.layout.buttonWidth.frameDevice?1:0}initWithCanvas(t=this.ctx?.canvas){var r=this;return(0,V.Z)(function*(){if(!t)return;r.layout=$R(r.getDeviceId()),r.onResize.dispatch(),t.width=r.width,t.height=r.height;const n=t.getContext("2d");if(!n)throw new Error("canvas not supported - get a new browser");r.ctx=n,r.setupTransformation(),r.fillCanvasRect(0,0,r.layout.width.frameCanvas,r.layout.height.frameCanvas,r.frameColor()),r.fillRect(0,0,r.layout.screenWidth.frameDevice,r.layout.screenHeight.frameDevice+r.layout.silkscreenHeight.frameDevice+r.layout.separatorHeight.frameDevice+r.layout.buttonHeight.frameDevice,r.backgroundColor()),r.drawEmulationCanvas(),yield Promise.all([r.drawSilkscreen(),r.drawButtons()])})()}drawButtons(t=[]){var r=this;return(0,V.Z)(function*(){r.ctx&&(r.setupTransformation(),r.ctx.imageSmoothingEnabled=!0,r.ctx.imageSmoothingQuality="high",r.ctx.drawImage(yield r.buttonsImage()(r.layout.screenWidth.frameCanvas,r.layout.buttonHeight.frameCanvas),r.layout.screenLeft.frameCanvas,r.layout.buttonTop.frameCanvas,r.layout.screenWidth.frameCanvas,r.layout.buttonHeight.frameCanvas),t.includes(0)&&r.fillRect(0,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,qd),t.includes(1)&&r.fillRect(r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,qd),t.includes(2)&&r.fillRect(r.layout.screenWidth.frameDevice-2*r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,qd),t.includes(3)&&r.fillRect(r.layout.screenWidth.frameDevice-r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,qd),t.includes(4)&&r.fillRect(2*r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.screenWidth.frameDevice-4*r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice/2,qd),t.includes(5)&&r.fillRect(2*r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice+r.layout.buttonHeight.frameDevice/2,r.layout.screenWidth.frameDevice-4*r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice/2,qd))})()}onAfterUpdateCanvas(){}setupTransformation(){if(this.ctx)switch(this.ctx?.resetTransform(),this.getOrientation()){case $r.portrait:case void 0:break;case $r.landscape90:this.ctx.translate(this.layout.height.frameCanvas,0),this.ctx.rotate(Math.PI/2);break;case $r.landscape270:this.ctx.translate(0,this.layout.width.frameCanvas),this.ctx.rotate(3*Math.PI/2);break;case $r.portrait180:this.ctx.translate(this.layout.width.frameCanvas,this.layout.height.frameCanvas),this.ctx.rotate(Math.PI)}}drawSilkscreen(){var t=this;return(0,V.Z)(function*(){0===t.layout.silkscreenHeight.frameCanvas||!t.ctx||(t.setupTransformation(),t.fillRect(t.layout.screenLeft.frameDevice,t.layout.silkscreenTop.frameDevice,t.layout.screenWidth.frameDevice,t.layout.silkscreenHeight.frameDevice,rZ),t.ctx.imageSmoothingEnabled=!0,t.ctx.imageSmoothingQuality="high",t.ctx.drawImage(yield t.silkscreenImage()(t.layout.screenWidth.frameCanvas,t.layout.silkscreenHeight.frameCanvas),t.layout.borderWidth.frameCanvas,t.layout.silkscreenTop.frameCanvas,t.layout.screenWidth.frameCanvas,t.layout.silkscreenHeight.frameCanvas))})()}drawEmulationCanvas(t=this.lastEmulationCanvas){!t||!this.ctx||(this.lastEmulationCanvas=t,this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(t,this.layout.screenLeft.frameCanvas,this.layout.screenTop.frameCanvas,this.layout.screenWidth.frameCanvas,this.layout.screenHeight.frameCanvas))}fillRect(t,r,n,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(this.layout.borderWidth.frameCanvas+this.layout.scale*t,this.layout.borderWidth.frameCanvas+this.layout.scale*r,this.layout.scale*n,this.layout.scale*o),this.ctx.fillStyle=i,this.ctx.fill())}fillCanvasRect(t,r,n,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(t,r,n,o),this.ctx.fillStyle=i,this.ctx.fill())}silkscreenImage(){return this.skinLoader.loadSkinElement(this.silkscreenSkinElement())}silkscreenSkinElement(){switch(this.getDeviceId()){case Q.pegT600c:case Q.pegT650c:return"silkscreen/clie-t600.svg";case Q.pegN700c:case Q.pegN600c:return"silkscreen/clie-n610.svg";case Q.pegS320:case Q.pegS300:return"silkscreen/clie-s300.svg";case Q.pegS500c:return"silkscreen/clie-s500.svg";case Q.pegT400:return"silkscreen/clie-t415.svg";case Q.acerS11:return"silkscreen/acer-s10.svg";case Q.palmPilot:case Q.pilot:case Q.iii:case Q.palmVII:return"silkscreen/pilot.svg";case Q.m500:return"silkscreen/m500.svg";case Q.m505:case Q.m515:case Q.m520:return"silkscreen/m515.svg";case Q.iiic:return"silkscreen/iiic.svg";case Q.m100:case Q.m105:case Q.m125:return"silkscreen/m100.svg";case Q.m130:return"silkscreen/m130.svg";case Q.i710:return"silkscreen/tungstenw.svg";case Q.i705:return"silkscreen/i705.svg";default:return"silkscreen/v.svg"}}buttonsImage(){return this.skinLoader.loadSkinElement(this.buttonsSkinElement())}buttonsSkinElement(){switch(this.getDeviceId()){case Q.acerS11:return"hard-buttons/acer-s10.svg";case Q.pegNR70:return"hard-buttons/clie-nr70.svg";case Q.pegN700c:return"hard-buttons/clie-n700.svg";case Q.pegN600c:return"hard-buttons/clie-n610.svg";case Q.pegS300:return"hard-buttons/clie-s300.svg";case Q.pegS500c:return"hard-buttons/clie-s500.svg";case Q.pegS320:return"hard-buttons/clie-s320.svg";case Q.pegT400:case Q.pegT600c:case Q.pegT650c:return"hard-buttons/clie-t415.svg";case Q.pilot:case Q.palmPilot:return"hard-buttons/pilot.svg";case Q.m500:return"hard-buttons/m500.svg";case Q.m505:case Q.m515:case Q.m520:return"hard-buttons/m515.svg";case Q.iiic:return"hard-buttons/iiic.svg";case Q.m100:case Q.m105:return"hard-buttons/m100.svg";case Q.m125:return"hard-buttons/m125.svg";case Q.m130:return"hard-buttons/m130.svg";case Q.i710:return"hard-buttons/tungstenw.svg";case Q.iii:case Q.iiix:case Q.iiixe:case Q.palmVII:case Q.palmVIIEZ:case Q.palmVIIx:return"hard-buttons/iiix.svg";case Q.iiie:return"hard-buttons/iiie.svg";case Q.i705:return"hard-buttons/i705.svg";case Q.handera330:return"hard-buttons/handera330.svg";case Q.handera330c:return"hard-buttons/handera330c.svg";case Q.lp168:return"hard-buttons/lp168.svg";default:return"hard-buttons/v.svg"}}backgroundColor(){return E0(this.getDeviceId())?"white":oZ}frameColor(){return E0(this.getDeviceId())?"white":"#ccc"}}function dZ(e){return new Promise((t,r)=>{const n=new Image;n.onload=()=>t(n),n.onerror=()=>r(),n.src=e})}class pZ{constructor(t){this.cloudpilot=t,this.images=new Map}loadSkinElement(t){if(this.images.has(t))return this.images.get(t);const r=this.cloudpilot.then(o=>o.loadSkin(t)).then(o=>{return o?Promise.all([o,dZ((e=o,`data:image/svg+xml;base64,${btoa(e)}`))]):Promise.reject(new Error(`failed to load skin ${t}`));var e}),n=function uZ(e,t){let r,n;const o=document.createElement("canvas");return function(){var i=(0,V.Z)(function*(s,a){if(r===s&&n===a)return o;o.width=s,o.height=a;const l=o.getContext("2d");if(!l)throw new Error("get a new browser");return l.drawImage(yield e,0,0,o.width,o.height),(Xk||Ps)&&(yield t).indexOf("data:image")>=0&&(yield new Promise(c=>setTimeout(c,0)),l.drawImage(yield e,0,0,o.width,o.height)),r=s,n=a,o});return function(s,a){return i.apply(this,arguments)}}()}(r.then(([,o])=>o),r.then(([o])=>o));return this.images.set(t,n),n}}let D_=(()=>{var e;class t extends cZ{constructor(n){super(new pZ(n.cloudpilot)),this.cloudpilotService=n,this.statisticsVisible=!1}initialize(n,o=this.session){var i=this;return(0,V.Z)(function*(){i.session=o,yield i.initWithCanvas(n)})()}clearStatistics(){var n=this;return(0,V.Z)(function*(){n.statisticsVisible=!1,n.layout.silkscreenHeight.frameCanvas>0?yield n.drawSilkscreen():yield n.drawEmulationCanvas()})()}updateStatistics(n,o){var i=this;return(0,V.Z)(function*(){yield i.clearStatistics(),i.drawStatistics(n,o),i.lastEmulationStatistics=o,i.lastSnapshotStatistics=n,i.statisticsVisible=!0})()}getDeviceId(){return this.session?.device??B0}getOrientation(){return this.session?.deviceOrientation??$r.portrait}onAfterUpdateCanvas(){this.statisticsVisible&&0===this.layout.silkscreenHeight.frameCanvas&&this.drawStatistics(this.lastSnapshotStatistics,this.lastEmulationStatistics)}drawStatistics(n,o){if(!this.ctx)return;this.setupTransformation();const i=this.layout.silkscreenHeight.frameDevice>0?this.layout.silkscreenHeight:this.layout.softSilkscreenHeight,s=this.layout.silkscreenHeight.frameCanvas>0?this.layout.silkscreenTop:{frameCanvas:this.layout.screenBottom.frameCanvas-i.frameCanvas,frameDevice:this.layout.screenBottom.frameDevice-i.frameDevice};this.ctx.beginPath(),this.fillRect(this.layout.screenLeft.frameDevice,s.frameDevice,this.layout.screenWidth.frameDevice,i.frameDevice,"rgba(255,255,255,0.6)");const l=function hZ(e){switch(e){case 1:case 3:return 2;case 2:return 1.5;default:return 1}}(Xp(this.session?.device??B0).screenSize);this.ctx.font=6*this.layout.scale*l+"px monospace",this.ctx.fillStyle="black",[...n||o?[]:["collecting statistics..."],...n?[`last snapshot          : ${new Date(n.timestamp).toLocaleTimeString()}`,`snapshot pages         : ${n.pages}`,`snapshot time total    : ${n.timeTotal.toFixed(2)} msec`,`snapshot time blocking : ${n.timeBlocking.toFixed(2)} msec`]:[],...o?[`host speed             : ${o.hostSpeed.toFixed(2)}x`,`emulation speed        : ${o.emulationSpeed.toFixed(2)}x`,`average FPS            : ${o.averageFps.toFixed(2)}`]:[]].forEach((c,f)=>this.ctx.fillText(c,this.layout.screenLeft.frameCanvas+l*this.layout.scale,s.frameCanvas+l*this.layout.scale*(8+6*f)))}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Ta))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),V0=(()=>{var e;class t{constructor(n,o,i){this.router=n,this.canvasDisplayService=o,this.emulationStateService=i,this.updateUseSmallUI=()=>{const s=!!document.querySelector("html.md"),a=s?56:44;this.useSmallUI=this.canvasArea(window.innerHeight-a-(s?57:51)-6,window.innerWidth-6)<this.canvasArea(window.innerHeight-a-25-6,window.innerWidth-6)},this.useSmallUI=!1,this.isLockedFlag=!1,window.addEventListener("resize",this.updateUseSmallUI),window.addEventListener("orientationchange",this.updateUseSmallUI),o.onResize.addHandler(()=>this.updateUseSmallUI()),this.updateUseSmallUI()}get smallUI(){return"/tab/emulation"===this.router.url&&this.useSmallUI&&void 0!==this.emulationStateService.getCurrentSession()}lock(){this.isLockedFlag=!0}unlock(){this.isLockedFlag=!1}isLocked(){return this.isLockedFlag}canvasArea(n,o){let i,s;return n=Math.min(n,this.canvasDisplayService.height/devicePixelRatio),(o=Math.min(o,this.canvasDisplayService.width/devicePixelRatio))/n>this.canvasDisplayService.width/this.canvasDisplayService.height?(s=n,i=n/this.canvasDisplayService.height*this.canvasDisplayService.width):(i=o,s=o/this.canvasDisplayService.width*this.canvasDisplayService.height),i*s}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Uo),_(D_),_(Bl))},e.\u0275cmp=Ze({type:e,selectors:[["app-tabs"]],decls:23,vars:4,consts:[[1,"overflow-wrapper"],["slot","bottom"],["tab","emulation"],["name","phone-portrait-outline"],["tab","sessions"],["name","albums-outline"],["tab","storage"],["name","folder-outline"],["tab","settings"],["name","cog-outline"],["tab","about"],["name","help-outline"]],template:function(n,o){1&n&&(H(0,"ion-tabs")(1,"div",0)(2,"ion-tab-bar",1)(3,"ion-tab-button",2),Ve(4,"ion-icon",3),H(5,"ion-label"),Ce(6,"Emulator"),F()(),H(7,"ion-tab-button",4),Ve(8,"ion-icon",5),H(9,"ion-label"),Ce(10,"Sessions"),F()(),H(11,"ion-tab-button",6),Ve(12,"ion-icon",7),H(13,"ion-label"),Ce(14,"Cards"),F()(),H(15,"ion-tab-button",8),Ve(16,"ion-icon",9),H(17,"ion-label"),Ce(18,"Settings"),F()(),H(19,"ion-tab-button",10),Ve(20,"ion-icon",11),H(21,"ion-label"),Ce(22,"About"),F()()()()()),2&n&&(me(2),qs("small-ui",o.smallUI)("disabled",o.isLocked()))},dependencies:[zo,Vi,l_,kk,Rk],styles:["ion-tab-bar[_ngcontent-%COMP%]{min-width:280px}ion-tab-bar.small-ui[_ngcontent-%COMP%]{height:25px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:21px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon.md[_ngcontent-%COMP%]{margin-top:3px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:none}ion-tab-bar.disabled[_ngcontent-%COMP%]{display:none}.overflow-wrapper[_ngcontent-%COMP%]{overflow-x:auto}ion-icon[_ngcontent-%COMP%]{font-size:25px}"]}),t})(),Jp=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=lt({imports:[rl,f0.forChild(),Sc,ou,e_]}),t})(),mZ=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=lt({imports:[rl,ou,Sc,Jp,f0.forChild()]}),t})(),gZ=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=lt({imports:[rl,ou,Sc,Jp]}),t})(),_Z=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=lt({imports:[rl,ou,Sc,e_,Jp]}),t})(),vZ=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=lt({imports:[rl,ou,Sc,Jp,e_]}),t})(),yZ=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=lt({imports:[rl,Sc,ou,e_,Jp]}),t})();const bZ=C.p+"assets/doc/about-d0ca8b5cf1135905.md";function CZ(e,t){if(1&e){const r=On();H(0,"ion-button",1),Ne("click",function(){return Rt(r),Pt(ft().onClick())}),Ve(1,"ion-icon",2),F()}if(2&e){const r=ft();me(1),Se("name",r.iconName)}}let E_=(()=>{var e;class t{constructor(n){this.pwaService=n}onClick(){this.pwaService.install()}get iconName(){return Ps?"logo-apple-appstore":Qk?"logo-google-playstore":"apps-outline"}get show(){return this.pwaService.promptForInstall()}}return(e=t).\u0275fac=function(n){return new(n||e)(_(fR))},e.\u0275cmp=Ze({type:e,selectors:[["app-pwa-prompt"]],decls:1,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"],[3,"name"]],template:function(n,o){1&n&&Qt(0,CZ,2,1,"ion-button",0),2&n&&Se("ngIf",o.show)},dependencies:[Po,Fi,zo]}),t})();function SZ(e,t){1&e&&(H(0,"div",10),Ve(1,"ion-spinner"),F())}function wZ(e,t){1&e&&(H(0,"div"),Ce(1,"app cached for offline use"),F())}let DZ=(()=>{var e;class t{constructor(n,o){this.modalController=n,this.serviceWorkerService=o,this.loading=!0}get version(){return du}get url(){return bZ}showChangelog(){var n=this;return(0,V.Z)(function*(){yield(yield n.modalController.create({component:uu,componentProps:{url:hR,title:"Changelog"}})).present()})()}get serviceWorkerAvailable(){return this.serviceWorkerService.isRegistered()}}return(e=t).\u0275fac=function(n){return new(n||e)(_(cs),_($0))},e.\u0275cmp=Ze({type:e,selectors:[["app-about"]],decls:21,vars:4,consts:[["slot","secondary"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],[1,"markdown-container"],[3,"src","load"],[1,"version"],["href","javascript:",3,"click"],[4,"ngIf"],["src","assets/logo.svg",1,"logo"],[1,"loader"]],template:function(n,o){1&n&&(H(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3,"About"),F(),H(4,"ion-buttons",0),Ve(5,"app-pwa-prompt"),F()()(),H(6,"ion-content")(7,"ion-header",1)(8,"ion-toolbar")(9,"ion-title",2),Ce(10,"About"),F()()(),Qt(11,SZ,2,0,"div",3),H(12,"div",4)(13,"markdown",5),Ne("load",function(){return o.loading=!1}),F()(),H(14,"div",6),Ce(15),Ve(16,"br"),H(17,"a",7),Ne("click",function(){return o.showChangelog()}),Ce(18,"Changelog"),F(),Qt(19,wZ,2,0,"div",8),F(),Ve(20,"img",9),F()),2&n&&(me(11),Se("ngIf",o.loading),me(2),Se("src",o.url),me(2),ui(" CloudpilotEmu version ",o.version," "),me(4),Se("ngIf",o.serviceWorkerAvailable))},dependencies:[Po,Li,$i,Bi,jp,ji,Gi,E_,d0],styles:[".version[_ngcontent-%COMP%]{width:100%;bottom:1em;text-align:center;font-size:.75em;margin-top:3em;margin-bottom:1em}.markdown-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:center}markdown[_ngcontent-%COMP%]{display:block;margin-left:.5em;margin-right:.5em;max-width:var(--cp-page-width)}.loader[_ngcontent-%COMP%]{width:100%;height:10em;display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{width:10em;height:10em;margin:1em auto;display:block}@media (prefers-color-scheme: dark){.logo[_ngcontent-%COMP%]{filter:invert(100%)}}"]}),t})();function EZ(e,t){if(1&e&&(H(0,"ion-select-option",16),Ce(1),F()),2&e){const r=t.$implicit;Se("value",r[0]),me(1),ui("",r[1]," ")}}function IZ(e,t){if(1&e&&(H(0,"ion-select-option",16),Ce(1),F()),2&e){const r=t.$implicit;Se("value",r[0]),me(1),ui("",r[1]," ")}}function xZ(e,t){if(1&e&&(H(0,"ion-item",6)(1,"ion-label",7),Ce(2,"Hotsync name"),F(),Ve(3,"ion-input",17),F()),2&e){const r=ft();me(3),Se("placeholder",r.placeholder)}}let BR=(()=>{var e;class t{constructor(n,o){this.sessionService=n,this.alertService=o,this.validateNameUnique=i=>i.value!==this.session.name&&this.sessionService.getSessions().some(s=>s.name===i.value)?{name:"already taken"}:null,this.onSave=()=>{},this.onCancel=()=>{},this.orientations=[[$r.portrait,"Portrait"],[$r.landscape90,"Landscape 90\xb0"],[$r.landscape270,"Landscape 270\xb0"],[$r.portrait180,"Upside down"]]}get formControlName(){return this.formGroup.get("name")}get formControlHotsyncName(){return this.formGroup.get("hotsyncName")}get formControlDevice(){return this.formGroup.get("device")}get formControlManageHotsyncName(){return this.formGroup.get("manageHotsyncName")}get formControlSpeed(){return this.formGroup.get("speed")}get formControlOrientation(){return this.formGroup.get("orientation")}get showHotsyncNameInput(){return this.formControlManageHotsyncName.value}get placeholder(){return this.formControlHotsyncName.value?this.formControlName.value:void 0!==this.session.hotsyncName||this.session.dontManageHotsyncName?"Enter hotsync name":"use setting from device"}get deviceList(){return this.availableDevices.map(n=>[n,gR(n)])}ngOnInit(){this.createFormGroup()}save(){this.formGroup.invalid||(this.session.name=this.formControlName.value,this.formControlManageHotsyncName.value?this.session.dontManageHotsyncName?(this.session.dontManageHotsyncName=!1,this.session.hotsyncName=this.formControlHotsyncName.value||"",this.alertService.message("Reset required","Please reset the virtual device in order to make sure that the hotsync name is synced properly again.")):this.session.hotsyncName=this.formControlHotsyncName.value||(void 0===this.session.hotsyncName?void 0:""):this.session.dontManageHotsyncName=!0,this.session.device=this.formControlDevice.value,this.session.speed=this.speedValue,this.session.deviceOrientation=this.formControlOrientation.value,this.onSave())}onEnter(){this.save()}get speedValue(){const n=this.speedTransient??this.formControlSpeed.value??0;return n>=0?1+n:1/(1-n)}get speedLabel(){return"Clock: "+(0===(this.speedTransient??this.formControlSpeed.value)?"default":`${Math.round(this.speedValue*function o9(e){switch(e){case Q.palmPilot:case Q.pilot:case Q.iii:case Q.palmVII:case Q.palmVx:case Q.palmV:case Q.palmVIIEZ:case Q.palmVIIx:case Q.iiic:case Q.iiix:case Q.iiixe:case Q.iiie:case Q.m100:case Q.m105:case Q.pegS300:case Q.pegS500c:return 16;case Q.m500:case Q.m505:case Q.m515:case Q.m520:case Q.m125:case Q.m130:case Q.i705:case Q.i710:case Q.handera330:case Q.handera330c:case Q.pegS320:case Q.pegT400:case Q.pegN600c:case Q.pegT600c:case Q.pegN700c:case Q.acerS11:return 33;case Q.pegT650c:case Q.pegNR70:case Q.lp168:return 66}}(this.formControlDevice.value))}MHz`)}onSpeedDrag(n){this.speedTransient=n.detail?.value}createFormGroup(){this.formGroup=new Yg({name:new Ho(this.session.name,{validators:[Ap.required,this.validateNameUnique]}),manageHotsyncName:new Ho(!this.session.dontManageHotsyncName),hotsyncName:new Ho(this.session.hotsyncName||""),device:new Ho({value:this.session.device,disabled:1===this.availableDevices.length}),speed:new Ho((this.session.speed||1)>=1?(this.session.speed||1)-1:1-1/this.session.speed),orientation:new Ho(this.session.deviceOrientation||$r.portrait)})}}return(e=t).\u0275fac=function(n){return new(n||e)(_(jl),_(uo))},e.\u0275cmp=Ze({type:e,selectors:[["app-session-settings"]],inputs:{onSave:"onSave",onCancel:"onCancel",session:"session",availableDevices:"availableDevices"},decls:41,vars:6,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter session name","formControlName","name"],["formControlName","device"],[3,"value",4,"ngFor","ngForOf"],["formControlName","orientation"],[1,"label-speed"],["min","-4","max","4","step","0.25","snaps","true","ticks","false","formControlName","speed",3,"ionInput","ionKnobMoveEnd"],["formControlName","manageHotsyncName"],["lines","none",4,"ngIf"],[3,"value"],["formControlName","hotsyncName","maxlength","40",3,"placeholder"]],template:function(n,o){1&n&&(H(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3,"Session settings"),F(),H(4,"ion-buttons",0)(5,"ion-button",1),Ne("click",function(){return o.save()}),Ce(6,"Save"),F()(),H(7,"ion-buttons",2)(8,"ion-button",3),Ne("click",function(){return o.onCancel()}),Ce(9,"Cancel"),F()()()(),H(10,"ion-content",4)(11,"form",5),Ne("keydown.enter",function(){return o.onEnter()}),H(12,"h1"),Ce(13,"Session"),F(),H(14,"ion-item",6)(15,"ion-label",7),Ce(16,"Session name"),F(),Ve(17,"ion-input",8),F(),H(18,"h1"),Ce(19,"Device"),F(),H(20,"ion-item",6)(21,"ion-label",7),Ce(22,"Device type"),F(),H(23,"ion-select",9),Qt(24,EZ,2,2,"ion-select-option",10),F()(),H(25,"ion-item",6)(26,"ion-label",7),Ce(27,"Orientation"),F(),H(28,"ion-select",11),Qt(29,IZ,2,2,"ion-select-option",10),F()(),H(30,"ion-item",6)(31,"ion-label",12),Ce(32),F(),H(33,"ion-range",13),Ne("ionInput",function(s){return o.onSpeedDrag(s)})("ionKnobMoveEnd",function(){return o.speedTransient=void 0}),F()(),H(34,"h1"),Ce(35,"Hotsync"),F(),H(36,"ion-item",6)(37,"ion-label"),Ce(38,"Manage hotsync name"),F(),Ve(39,"ion-toggle",14),F(),Qt(40,xZ,4,1,"ion-item",15),F()()),2&n&&(me(5),Se("disabled",o.formGroup.invalid),me(6),Se("formGroup",o.formGroup),me(13),Se("ngForOf",o.deviceList),me(5),Se("ngForOf",o.orientations),me(3),Ai(o.speedLabel),me(8),Se("ngIf",o.showHotsyncNameInput))},dependencies:[dc,Po,Fi,Li,$i,Bi,Ll,Co,Vi,t0,s_,a_,ji,Gp,Gi,Ld,n_,Fl,Nl,Pl,Ol,YC,xa,cl],styles:["ion-item[_ngcontent-%COMP%]{--highlight-color-valid: var(--highlight-color-focused);--background: none}.label-speed[_ngcontent-%COMP%]{min-width:7.5rem}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}"]}),t})(),TZ=(()=>{var e;class t{constructor(n,o,i,s,a,l,c){this.emulationService=n,this.loadingController=o,this.snapshotService=i,this.fileService=s,this.emulationStateService=a,this.alertService=l,this.cloudpilotService=c}saveBackup(n){var o=this;return(0,V.Z)(function*(){const i=o.emulationStateService.getCurrentSession();if(!i)return;const s=yield o.loadingController.create({message:"Backing up..."});yield s.present();const a=[];let l;yield o.emulationService.pause(),yield o.snapshotService.waitForPendingSnapshot();try{const c=yield o.cloudpilotService.cloudpilot;yield c.backup(function(){var f=(0,V.Z)(function*(h){for(h.Init(n);h.IsInProgress();){const g=h.GetCurrentDatabase();h.Save()||a.push(g),yield new Promise(b=>setTimeout(b,0))}l=c.getArchive(h)});return function(h){return f.apply(this,arguments)}}())}finally{yield s.dismiss(),yield o.emulationService.resume()}l?a.length>0?yield o.alertService.message("Backup complete",`\n                    ${F0(a)} failed  to backup.\n                    <br/><br/>\n                    Open databases cannot be backuped. Please run backup from the launcher\n                    in order to backup all databases.\n                `,{"Save Backup":()=>o.fileService.saveFile(AR(i,n),l)},"Cancel"):o.fileService.saveFile(AR(i,n),l):yield o.alertService.errorMessage("Backup failed.")})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Ma),ce(Js),ce(Qp),ce(xc),ce(Bl),ce(uo),ce(Ta))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const MZ=window.AudioContext||window.webkitAudioContext;function j0(e,t=100){return new Promise((r,n)=>{setTimeout(()=>n(new Error("timeout")),t),e.then(r,n)})}class AZ{constructor(t){var r=this;this.emulationService=t,this.initialize=()=>this.mutex.runExclusive((0,V.Z)(function*(){if(!r.initialized){try{r.context=new MZ}catch(n){return console.error(n),void console.error("web audio not available")}try{r.context.destination.channelCount=1}catch{console.warn("audio driver: failed to set channel count")}try{yield r.start()}catch(n){return console.error(n),void console.error("failed to initialize audio context")}r.context.addEventListener("statechange",()=>{"interrupted"===r.context?.state&&r.updateState()}),r.gainNode=r.context.createGain(),r.gainNode.channelCount=1,r.gainNode.channelInterpretation="speakers",r.gainNode.gain.value=r.gain(),r.gainNode.connect(r.context.destination),r.applyPwmUpdate(),r.initialized=!0}})),this.updateState=(n=!1)=>this.mutex.runExclusive((0,V.Z)(function*(){if(!r.context||r.isRunning()===r.shouldRun())return;!n&&!r.isRunning()&&r.shouldRun()&&r.applyPwmUpdate();const o=r.context.state;if(r.shouldRun())try{r.updateGain(),yield j0(r.context.resume()),console.log("resume audio context")}catch{console.error(`failed to resume audio from state ${o}`)}else try{yield j0(r.context.suspend()),console.log("suspend audio context")}catch{console.error(`failed to suspend audio from state ${o}`)}console.log(`audio context state change ${o} -> ${r.context.state}`)})),this.onPwmUpdate=function(){var n=(0,V.Z)(function*(o){r.pendingPwmUpdate=o,r.initialized&&(r.shouldRun()!==r.isRunning()&&r.updateState(!0),r.shouldRun()&&r.applyPwmUpdate())});return function(o){return n.apply(this,arguments)}}(),this.mutex=new fl,this.initialized=!1,this.muted=!1,this.emulationService.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.emulationService.emulationStateChangeEvent.addHandler(()=>this.updateState()),this.emulationService.powerOffChangeEvent.addHandler(()=>this.updateState()),Ps||document.addEventListener("visibilitychange",()=>this.updateState())}isInitialized(){return this.initialized}mute(t){this.muted=t,this.updateState()}isMuted(){return this.muted}shouldRun(){return this.emulationService.isRunning()&&!this.emulationService.isPowerOff()&&!this.muted&&this.gain()>0&&("hidden"!==document.visibilityState||Ps||this.runHidden())}updateGain(){this.gainNode&&(this.gainNode.gain.value=this.gain())}start(){var t=this;return(0,V.Z)(function*(){t.context&&(yield j0(t.context.resume()),t.updateState(),console.log("audio context initialized"))})()}isRunning(){return"running"===this.context?.state}applyPwmUpdate(){if(!this.context||!this.pendingPwmUpdate)return;const{frequency:t,dutyCycle:r}=this.pendingPwmUpdate,n=this.context.sampleRate;if(this.pendingPwmUpdate=void 0,t<=0||r<=0||t>=n)return void this.disconnectSource();const o=this.context.createBuffer(1,Math.round(n/t),n),i=o.getChannelData(0);for(let a=0;a<i.length;a++)i[a]=a/i.length<r?1:0;const s=this.context.createBufferSource();s.channelCount=1,s.channelInterpretation="speakers",s.loop=!0,s.buffer=o,this.disconnectSource(),s.connect(this.gainNode),s.start(),this.bufferSourceNode=s,this.pendingPwmUpdate=void 0}disconnectSource(){this.bufferSourceNode&&(this.bufferSourceNode.stop(),this.bufferSourceNode.disconnect(),this.bufferSourceNode=void 0)}gain(){return this.getVolume()/2}}let G0=(()=>{var e;class t extends AZ{constructor(n,o,i){super(n),this.kvs=o,this.modalWatcher=i,this.modalWatcher.modalVisibilityChangeEvent.addHandler(()=>this.updateState())}getVolume(){return this.kvs.kvs.volume}runHidden(){return this.kvs.kvs.runHidden}shouldRun(){return!this.modalWatcher.isModalActive()&&super.shouldRun()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Ma),ce(Si),ce(I0))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),jR=(()=>{var e;class t{constructor(n,o){this.emulationService=n,this.ngZone=o,this.onInterval=()=>{this.emulationService.getEmulationSpeed()<1?(this.level<3&&this.level++,3===this.level&&this.ngZone.run(()=>this.slowdownDetected=!0)):(this.level>0&&this.level--,0===this.level&&this.ngZone.run(()=>this.slowdownDetected=!1))},this.onEmulationStateChanged=i=>{this.reset(),i&&void 0===this.intervalHandle&&(this.onInterval(),this.ngZone.runOutsideAngular(()=>this.intervalHandle=window.setInterval(this.onInterval,1e3))),!i&&void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)},this.slowdownDetected=!1,this.level=0,this.onEmulationStateChanged(this.emulationService.isRunning()),this.emulationService.emulationStateChangeEvent.addHandler(this.onEmulationStateChanged)}isSlowdownDetected(){return this.slowdownDetected}reset(){this.slowdownDetected=!1,this.level=0}ngOnDestroy(){this.emulationService.emulationStateChangeEvent.removeHandler(this.onEmulationStateChanged),void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Ma),ce(Ge))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function RZ(e,t){if(1&e){const r=On();H(0,"ion-item",4),Ne("click",function(){return Rt(r),Pt(ft().power())}),H(1,"ion-label"),Ce(2,"Power"),F(),Ve(3,"ion-icon",5),F()}if(2&e){const r=ft();Se("detail",!1)("disabled",!r.emulationService.isRunning())}}function PZ(e,t){if(1&e){const r=On();H(0,"ion-item",4),Ne("click",function(){return Rt(r),Pt(ft().hotsync())}),H(1,"ion-label"),Ce(2,"Hotsync"),F(),Ve(3,"ion-icon",6),F()}if(2&e){const r=ft();Se("detail",!1)("disabled",!r.emulationService.isRunning())}}function OZ(e,t){if(1&e){const r=On();H(0,"ion-item",4),Ne("click",function(){return Rt(r),Pt(ft().reset())}),H(1,"ion-label"),Ce(2,"Reset"),F(),Ve(3,"ion-icon",7),F()}if(2&e){const r=ft();Se("detail",!1)("disabled",!r.emulationService.isRunning())}}function NZ(e,t){if(1&e){const r=On();H(0,"ion-item",8),Ne("click",function(){return Rt(r),Pt(ft().insertCard())}),H(1,"ion-label"),Ce(2),F(),Ve(3,"ion-icon",9),F()}if(2&e){const r=ft();Se("detail",!1),me(2),ui("Insert ",r.hasMemorystick?"stick":"SD card","")}}function FZ(e,t){if(1&e){const r=On();H(0,"ion-item",8),Ne("click",function(){return Rt(r),Pt(ft().ejectCard())}),H(1,"ion-label"),Ce(2),F(),Ve(3,"ion-icon",10),F()}if(2&e){const r=ft();Se("detail",!1),me(2),ui("Eject ",r.hasMemorystick?"stick":"SD card","")}}function LZ(e,t){if(1&e){const r=On();H(0,"ion-item",8),Ne("click",function(){return Rt(r),Pt(ft().mute(!1))}),H(1,"ion-label"),Ce(2,"Enable audio"),F(),Ve(3,"ion-icon",11),F()}2&e&&Se("detail",!1)}function $Z(e,t){if(1&e){const r=On();H(0,"ion-item",8),Ne("click",function(){return Rt(r),Pt(ft().mute(!0))}),H(1,"ion-label"),Ce(2,"Disable audio"),F(),Ve(3,"ion-icon",12),F()}2&e&&Se("detail",!1)}function BZ(e,t){if(1&e){const r=On();H(0,"ion-item",4),Ne("click",function(){return Rt(r),Pt(ft().backup())}),H(1,"ion-label"),Ce(2,"Save backup"),F(),Ve(3,"ion-icon",13),F()}if(2&e){const r=ft();Se("detail",!1)("disabled",r.backupDisabled)}}function VZ(e,t){if(1&e){const r=On();H(0,"ion-item",8),Ne("click",function(){return Rt(r),Pt(ft().rotate())}),H(1,"ion-label"),Ce(2,"Rotate"),F(),Ve(3,"ion-icon",14),F()}2&e&&Se("detail",!1)}function jZ(e,t){if(1&e){const r=On();H(0,"ion-item",8),Ne("click",function(){return Rt(r),Pt(ft().editSettings())}),H(1,"ion-label"),Ce(2,"Settings"),F(),Ve(3,"ion-icon",15),F()}2&e&&Se("detail",!1)}function GZ(e){switch(e){case $r.portrait:case void 0:return $r.landscape90;case $r.landscape90:return $r.portrait180;case $r.portrait180:return $r.landscape270;case $r.landscape270:return $r.portrait;default:throw new Error("cannot happen")}}let UZ=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f,h,g,b,j,ee,ye,Ee,Ie,Tt,Et){this.emulationService=n,this.emulationStateService=o,this.backupService=i,this.buttonService=s,this.actionSheetController=a,this.popoverController=l,this.audioService=c,this.kvsService=f,this.modalController=h,this.sessionService=g,this.performanceWatchdogService=b,this.canvasDisplayService=j,this.cloudpilotService=ee,this.storageCardService=ye,this.alertService=Ee,this.alertController=Ie,this.storageService=Tt,this.errorService=Et,this.showHelp=()=>{}}reset(){var n=this;return(0,V.Z)(function*(){n.popoverController.dismiss(),(yield n.actionSheetController.create({header:"How do you want to reset?",buttons:[{text:"Normal boot",handler:()=>n.emulationService.reset()},{text:"No extensions",handler:()=>n.emulationService.resetNoExtensions()},{text:"Hard reset",handler:()=>n.emulationService.resetHard()},{text:"Cancel",role:"cancel"}]})).present()})()}power(){this.buttonService.engage(6),this.popoverController.dismiss()}hotsync(){this.buttonService.engage(7),this.popoverController.dismiss()}help(){this.showHelp(),this.popoverController.dismiss()}backup(){var n=this;return(0,V.Z)(function*(){n.popoverController.dismiss(),(yield n.actionSheetController.create({header:"What do you want to backup?",buttons:[{text:"Only RAM (default)",handler:()=>n.backupService.saveBackup(!1)},{text:"Include ROM",handler:()=>n.backupService.saveBackup(!0)},{text:"Cancel",role:"cancel"}]})).present()})()}get isMuted(){return!this.audioService.isInitialized()||this.audioService.isMuted()}get isAudioOff(){return this.kvsService.kvs.volume<=0}mute(n){n?this.audioService.mute(!0):this.audioService.isInitialized()?this.audioService.mute(!1):this.audioService.initialize()}get backupDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get powerDisabled(){const n=this.emulationStateService.getCurrentSession();return!!n&&function i9(e){switch(e){case Q.i705:case Q.i710:case Q.pegNR70:case Q.pegT650c:case Q.lp168:return!0;default:return!1}}(n.device)}get hasActiveSession(){return!!this.emulationStateService.getCurrentSession()}get supportsStorageCard(){const n=this.emulationStateService.getCurrentSession();return!!n&&_R(n.device)!==Ud.none}get hasMemorystick(){const n=this.emulationStateService.getCurrentSession();return!!n&&_R(n.device)===Ud.memorystick}get hasMountedCard(){return void 0!==this.emulationStateService.getCurrentSession()?.mountedCard}editSettings(){var n=this;return(0,V.Z)(function*(){const o=n.emulationStateService.getCurrentSession();if(!o)return;const i=o.speed,s=o.deviceOrientation,a=yield n.modalController.create({component:BR,backdropDismiss:!1,componentProps:{session:o,availableDevices:[o.device],onSave:(l=(0,V.Z)(function*(){i!==o.speed&&n.performanceWatchdogService.reset(),s!==o.deviceOrientation&&(n.canvasDisplayService.initialize(void 0,o),n.canvasDisplayService.updateEmulationCanvas()),yield n.sessionService.updateSession(o),a.dismiss()}),function(){return l.apply(this,arguments)}),onCancel:()=>a.dismiss()}});var l;yield n.popoverController.dismiss(),yield a.present()})()}rotate(){var n=this;return(0,V.Z)(function*(){const o=n.emulationStateService.getCurrentSession();if(!o)return;yield n.storageService.updateSessionPartial(o.id,{deviceOrientation:GZ(o.deviceOrientation)});const i=n.emulationStateService.getCurrentSession();yield n.canvasDisplayService.initialize(void 0,i),n.canvasDisplayService.updateEmulationCanvas()})()}insertCard(){var n=this;return(0,V.Z)(function*(){if(n.popoverController.dismiss(),void 0===n.emulationStateService.getCurrentSession()?.device)return;const i=yield n.cloudpilotService.cloudpilot,s=n.storageCardService.getAllCards().filter(l=>i.deviceSupportsCardSize(l.size)&&!n.storageCardService.mountedInSession(l.id));0!==s.length?yield(yield n.alertController.create({header:"Choose image for insertion",buttons:[{text:"Cancel",role:"cancel"},{text:"Insert",handler:l=>n.storageCardService.insertCard(l)}],inputs:s.map((l,c)=>({label:l.name,type:"radio",value:l.id,checked:0===c})),backdropDismiss:!1})).present():n.alertService.message("No image available",`There is no ${n.hasMemorystick?"memory stick":"SD card"} image available. Please go to the "Storage" tab in order to create new one.`)})()}ejectCard(){var n=this;return(0,V.Z)(function*(){try{yield n.storageCardService.ejectCurrentCard()}catch(o){n.errorService.fatalBug(o instanceof Error?o.message:"eject failed")}n.popoverController.dismiss()})()}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Ma),_(Bl),_(TZ),_(xR),_(zp),_($l),_(G0),_(Si),_(cs),_(jl),_(jR),_(D_),_(Ta),_(Zd),_(uo),_(Hp),_(sr),_(lu))},e.\u0275cmp=Ze({type:e,selectors:[["app-emulation-context-menu"]],inputs:{showHelp:"showHelp"},decls:15,vars:11,consts:[["lines","full","button","",3,"detail","disabled","click",4,"ngIf"],["lines","full","button","",3,"detail","click",4,"ngIf"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"],["lines","full","button","",3,"detail","disabled","click"],["name","power-outline","slot","end"],["name","sync-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","log-in-outline","slot","end"],["name","log-out-outline","slot","end"],["name","volume-high-outline","slot","end"],["name","volume-mute-outline","slot","end"],["name","share-outline","slot","end"],["name","reload-outline","slot","end"],["name","cog-outline","slot","end"]],template:function(n,o){1&n&&(H(0,"ion-list"),Qt(1,RZ,4,2,"ion-item",0)(2,PZ,4,2,"ion-item",0)(3,OZ,4,2,"ion-item",0)(4,NZ,4,2,"ion-item",1)(5,FZ,4,2,"ion-item",1)(6,LZ,4,1,"ion-item",1)(7,$Z,4,1,"ion-item",1)(8,BZ,4,2,"ion-item",0)(9,VZ,4,1,"ion-item",1)(10,jZ,4,1,"ion-item",1),H(11,"ion-item",2),Ne("click",function(){return o.help()}),H(12,"ion-label"),Ce(13,"Help"),F(),Ve(14,"ion-icon",3),F()()),2&n&&(me(1),Se("ngIf",o.hasActiveSession&&!o.powerDisabled),me(1),Se("ngIf",o.hasActiveSession),me(1),Se("ngIf",o.hasActiveSession),me(1),Se("ngIf",o.supportsStorageCard&&!o.hasMountedCard),me(1),Se("ngIf",o.supportsStorageCard&&o.hasMountedCard),me(1),Se("ngIf",o.isMuted&&!o.isAudioOff),me(1),Se("ngIf",!o.isMuted&&!o.isAudioOff),me(1),Se("ngIf",o.hasActiveSession),me(1),Se("ngIf",o.hasActiveSession),me(1),Se("ngIf",o.hasActiveSession),me(1),Se("detail",!1))},dependencies:[Po,zo,Co,Vi,ks]}),t})();const HZ=C.p+"assets/doc/emulation-4d1cd1e4fd3e19e2.md";function zZ(e,t){if(1&e){const r=On();H(0,"ion-item",2),Ne("click",function(){const i=Rt(r).$implicit;return Pt(ft(2).onSelect(i))}),H(1,"div",3),Ce(2),F()()}if(2&e){const r=t.$implicit,n=t.index,o=ft(2);Se("detail",!1)("lines",n===o.sessions.length-1?"none":"full"),me(2),Ai(r.name)}}function WZ(e,t){if(1&e&&(H(0,"ion-list"),Qt(1,zZ,3,3,"ion-item",1),F()),2&e){const r=ft();me(1),Se("ngForOf",r.sessions)}}let ZZ=(()=>{var e;class t{constructor(){this.onSelect=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-emulation-breadcrumb-menu"]],inputs:{sessions:"sessions",onSelect:"onSelect"},decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"detail","lines","click"],[1,"text-wrapper"]],template:function(n,o){1&n&&Qt(0,WZ,2,1,"ion-list",0),2&n&&Se("ngIf",o.sessions)},dependencies:[dc,Po,Co,ks],styles:["ion-item[_ngcontent-%COMP%]{overflow-x:hidden;text-overflow:ellipsis}.text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:calc(var(--cp-breadcrum-menu-width) - 16px)}.ios[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{max-width:calc(var(--cp-breadcrumb-menu-width) - 32px)}"]}),t})();class qZ{constructor(t,r){this.emulationService=t,this.canvasDisplayService=r,this.handleMouseDown=n=>{if(0!==n.button)return;const o=this.canvasDisplayService.eventToPalmCoordinates(n);if(!o)return;const i=this.determineArea(o);if(2===i){const s=this.canvasDisplayService.determineButton(o);this.interactionMouse={area:i,buttonPrimary:s},this.handleButtonDown(s)}else this.interactionMouse={area:i},this.emulationService.handlePointerMove(...o,1===i)},this.handleMouseMove=n=>{if(!(1&n.buttons&&this.interactionMouse&&2!==this.interactionMouse?.area))return;const o=this.canvasDisplayService.eventToPalmCoordinates(n,!0);o&&this.emulationService.handlePointerMove(...o,1===this.interactionMouse?.area)},this.handeMouseUp=n=>{if(0!==n.button)return;const o=this.interactionMouse;switch(this.interactionMouse=void 0,o?.area){case 2:this.handleButtonUp(o.buttonPrimary);break;case 0:case 1:this.emulationService.handlePointerUp()}},this.handleTouchStart=n=>{let o=!1;for(let i=0;i<n.changedTouches.length;i++){const s=n.changedTouches.item(i);if(!s)continue;const a=this.canvasDisplayService.eventToPalmCoordinates(s);if(!a)continue;o=!0;const l=this.determineArea(a);if(2===l){const c=this.canvasDisplayService.determineButton(a);this.interactionsTouch.set(s.identifier,{area:l,buttonPrimary:c}),this.handleButtonDown(c)}else this.interactionsTouch.set(s.identifier,{area:l}),this.emulationService.handlePointerMove(...a,1===l)}o&&!1!==n.cancelable&&n.preventDefault()},this.handleTouchMove=n=>{let o=!1;for(let i=0;i<n.changedTouches.length;i++){const s=n.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);if(!a)continue;o=!0;const l=a.area;switch(l){case 2:{const c=this.canvasDisplayService.eventToPalmCoordinates(s);if(!c||2!==this.determineArea(c)){this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0;break}const f=this.canvasDisplayService.determineButton(c);f===a.buttonPrimary?(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0):f!==a.buttonSecondary&&(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=f,this.handleButtonDown(f));break}case 0:case 1:{const c=this.canvasDisplayService.eventToPalmCoordinates(s,!0);if(!c)continue;this.emulationService.handlePointerMove(...c,1===l);break}default:continue}}o&&!1!==n.cancelable&&n.preventDefault()},this.handleTouchEnd=n=>{let o=!1;for(let i=0;i<n.changedTouches.length;i++){const s=n.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);switch(a&&(o=!0),this.interactionsTouch.delete(s.identifier),a?.area){case 2:this.handleButtonUp(a.buttonPrimary),this.handleButtonUp(a.buttonSecondary);break;case 0:case 1:this.emulationService.handlePointerUp()}}o&&!1!==n.cancelable&&n.preventDefault()},this.handleKeyDown=n=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;if(this.isToggleGameMode(n))return n.preventDefault(),this.gameMode=!this.gameMode,void this.onToggleGameMode();const o=this.buttonFromEvent(n);if(void 0!==o)return this.handleButtonDown(o),void n.preventDefault();const i=this.keyCodeFromEvent(n);void 0!==i&&(this.emulationService.handleKeyDown(i),n.preventDefault())},this.handleKeyUp=n=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;const o=this.buttonFromEvent(n);if(void 0!==o)return this.handleButtonUp(o),void n.preventDefault();if("Control"===n.key){for(const i of this.activeButtons)this.emulationService.handleButtonUp(i);this.activeButtons.clear(),this.canvasDisplayService.drawButtons([])}},this.keyEventTarget=window,this.interactionsTouch=new Map,this.activeButtons=new Set,this.gameMode=!1,this.enableGamemodeHotkey=!0}bind(t,r=window){this.pointerEventTarget&&this.release(),this.pointerEventTarget=t,this.keyEventTarget=r||window,this.addEventListener(t,"mousedown",this.handleMouseDown),this.addEventListener(window,"mouseup",this.handeMouseUp),this.addEventListener(window,"mousemove",this.handleMouseMove),this.addEventListener(t,"touchstart",this.handleTouchStart),this.addEventListener(t,"touchmove",this.handleTouchMove),this.addEventListener(t,"touchend",this.handleTouchEnd),this.addEventListener(t,"touchcancel",this.handleTouchEnd),this.addEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.addEventListener(this.keyEventTarget,"keyup",this.handleKeyUp)}release(){if(this.pointerEventTarget){this.removeEventListener(this.pointerEventTarget,"mousedown",this.handleMouseDown),this.removeEventListener(window,"mouseup",this.handeMouseUp),this.removeEventListener(window,"mousemove",this.handleMouseMove),this.removeEventListener(this.pointerEventTarget,"touchstart",this.handleTouchStart),this.removeEventListener(this.pointerEventTarget,"touchmove",this.handleTouchMove),this.removeEventListener(this.pointerEventTarget,"touchend",this.handleTouchEnd),this.removeEventListener(this.pointerEventTarget,"touchcancel",this.handleTouchEnd),this.removeEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.removeEventListener(this.keyEventTarget,"keyup",this.handleKeyUp);for(const t of this.activeButtons)this.handleButtonUp(t);this.activeButtons.clear(),this.interactionsTouch.clear(),this.interactionMouse=void 0,this.pointerEventTarget=void 0}}isGameMode(){return this.gameMode}setGameMode(t){this.gameMode=t,this.onToggleGameMode()}setGameModeHotkeyEnabled(t){this.enableGamemodeHotkey=t}isGameModeHotkeyEnabled(){return this.enableGamemodeHotkey}enableKeyboardEvents(){return!0}onToggleGameMode(){}addEventListener(t,r,n,o){t.addEventListener(r,n,o)}removeEventListener(t,r,n,o){t.removeEventListener(r,n,o)}determineArea(t){return this.canvasDisplayService.isButtons(t)?2:this.canvasDisplayService.isSilkscreen(t)?1:0}handleButtonDown(t){this.activeButtons.has(t)||(this.activeButtons.add(t),this.emulationService.handleButtonDown(t),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}handleButtonUp(t){void 0===t||!this.activeButtons.has(t)||(this.activeButtons.delete(t),this.emulationService.handleButtonUp(t),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}isToggleGameMode(t){return this.isGameModeHotkeyEnabled()&&("Shift"===t.key&&t.ctrlKey||"Control"===t.key&&t.shiftKey)}isGameModeActive(t){return!this.gameMode&&t.ctrlKey||this.gameMode&&!t.ctrlKey}buttonFromEvent(t){switch(t.key){case"PageUp":return 4;case"PageDown":return 5}if(this.isGameModeActive(t))switch(t.key){case"w":case"i":case"ArrowUp":return 4;case"s":case"k":case"ArrowDown":return 5;case"a":case"j":case"y":case"z":case"ArrowLeft":return 0;case"q":case"u":case"x":return 1;case"e":case"o":case"c":return 2;case"d":case"l":case"v":case"ArrowRight":return 3}}keyCodeFromEvent(t){if(!this.isGameModeActive(t)){if(1===t.key.length&&t.key.charCodeAt(0)<=255)return t.key.charCodeAt(0);switch(t.key){case"ArrowLeft":return 28;case"ArrowRight":return 29;case"ArrowUp":return 30;case"ArrowDown":return 31;case"Backspace":return 8;case"Tab":return 9;case"Enter":return 10;default:return}}}}let YZ=(()=>{var e;class t extends qZ{constructor(n,o,i,s,a){super(n,o),this.modalWatcher=i,this.ngZone=s,this.app=a}enableKeyboardEvents(){return!this.modalWatcher.isModalActive()}onToggleGameMode(){this.app.tick()}addEventListener(n,o,i,s){this.ngZone.runOutsideAngular(()=>n.addEventListener(o,i,s))}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Ma),ce(D_),ce(I0),ce(Ge),ce(Sa))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function GR(e){return/\.(prc|pdb|pqa)$/i.test(e)}class eq{constructor(t,r,n,o,i,s){this.cloudpilotService=t,this.fstools=r,this.alertController=n,this.alertService=o,this.snapshotService=i,this.files=s,this.filesSuccess=[],this.filesFail=[],this.filesRequireReset=[],this.sizeInstalledSinceLastsnapshot=0,this.skipErrors=!1,this.installedDatabases=new Map}run(){var t=this;return(0,V.Z)(function*(){for(const r of t.files){let n;try{n=yield r.getContent()}catch(o){console.warn(o),t.filesFail.push(r.name);continue}if(/\.zip/i.test(r.name)&&n.length<33554432)try{yield t.installZip(r)}catch{t.filesFail.push(r.name)}else GR(r.name)?yield t.installOne(r.name,n):t.filesFail.push(r.name)}return[t.filesSuccess,t.filesRequireReset,t.filesFail]})()}installOne(t,r){var n=this;return(0,V.Z)(function*(){const i=yield(yield n.cloudpilotService.cloudpilot).installDb(r);switch(i){case 2:n.filesRequireReset.push(t),n.filesSuccess.push(t),n.sizeInstalledSinceLastsnapshot+=r.length;break;case 1:n.filesSuccess.push(t),n.sizeInstalledSinceLastsnapshot+=r.length;break;default:n.filesFail.push(t),yield n.reportError(t,i)}if(2===i||1===i)try{const s=function JZ(e){if(e.length<32)throw new Error("not a database");let t;for(t=0;t<32&&0!==e[t];t++);if(t>31)throw new Error("not a database");return new TextDecoder("latin1",{fatal:!1}).decode(e.subarray(0,t))}(r);n.installedDatabases.has(s)&&(yield n.errorDialog("Duplicate item",`${t} overwrites previously installed database ${n.installedDatabases.get(s)}`)),n.installedDatabases.set(s,t)}catch{}n.sizeInstalledSinceLastsnapshot>4194304&&(yield n.snapshotService.triggerSnapshot(),n.sizeInstalledSinceLastsnapshot=0),yield new Promise(s=>setTimeout(s,0))})()}installZip(t){var r=this;return(0,V.Z)(function*(){const n=yield r.fstools.createZipfileWalker(yield t.getContent());let o=0;for(;0===n.GetState();){const i=n.GetCurrentEntryName().replace(/^.*\//,"");if(!GR(n.GetCurrentEntryName())){n.Next();continue}const s=n.GetCurrentEntryContent();s?(yield r.installOne(i,s),o++):r.filesFail.push(i),n.Next()}if(0===o)throw new Error("no installable files in archive")})()}reportError(t,r){return this.errorDialog("Item failed to install",`Could not install ${t}: ${function QZ(e){switch(e){case-6:return"database exists on device and could not be overwritten";case-4:return"database file is corrupt";case-3:return"database is open on device";case-5:return"internal PalmOS error";case-2:return"not enough memory on device";default:return"unknown reason"}}(r)}.`)}errorDialog(t,r){return this.skipErrors?Promise.resolve():new Promise(n=>{this.alertController.create({header:t,backdropDismiss:!1,cssClass:"alert-checkbox-no-border installation-error",message:this.alertService.sanitizeMessage(r),buttons:[{text:"Continue",role:"cancel",handler:()=>{this.alertController.dismiss(),n()}}],inputs:[{type:"checkbox",label:"Skip any remaining errors",cssClass:"alert-checkbox",checked:!1,handler:i=>this.skipErrors=!0===i.checked}]}).then(i=>i.present())})}}let tq=(()=>{var e;class t{constructor(n,o,i,s,a,l,c){this.cloudpilotService=n,this.emulationService=o,this.loadingController=i,this.snapshotService=s,this.alertService=a,this.alertController=l,this.fstools=c}installFiles(n){var o=this;return(0,V.Z)(function*(){const i=yield o.loadingController.create({message:"Installing..."});yield i.present(),yield o.emulationService.pause(),yield o.snapshotService.waitForPendingSnapshot();let s=[],a=[],l=[];try{[s,l,a]=yield new eq(o.cloudpilotService,o.fstools,o.alertController,o.alertService,o.snapshotService,n).run()}finally{i.dismiss(),o.emulationService.resume()}const c=[o.messageSucces(s),o.messageFailed(a),o.messageRequireReset(l)].filter(h=>!!h).join("<br/><br/>");let f;f=0===a.length?"Installation successful":0===s.length?"Installation failed":"Installation errors",o.alertService.message(f,c,l.length>0?{"Reset now":()=>o.emulationService.reset()}:void 0)})()}messageSucces(n){switch(n.length){case 0:return;case 1:return`Installation of ${n[0]} successful.`;default:return`Installation of ${n.length} items successful.`}}messageFailed(n){return n.length>0?`Installation of  ${F0(n)} failed.`:void 0}messageRequireReset(n){return n.length>0?`${F0(n)} require a device reset.`:void 0}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Ta),ce(Ma),ce(Js),ce(Qp),ce(uo),ce(Hp),ce(S_))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),U0=(()=>{var e;class t{constructor(){this.onDragOver=n=>{n.preventDefault(),n.dataTransfer&&(n.dataTransfer.dropEffect=this.currentClient?"copy":"none")},this.onDrop=n=>{n.preventDefault(),this.currentClient&&this.currentClient.handleDragDropEvent(n)},document.addEventListener("drop",this.onDrop),document.addEventListener("dragover",this.onDragOver)}registerClient(n){this.currentClient=n}unregisterClient(n){n===this.currentClient&&(this.currentClient=void 0)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function nq(e,t){1&e&&Ve(0,"div",2)}const rq=["*"];let oq=0,UR=(()=>{var e;class t{constructor(){this.disabled=!1,this.trigger=new on,this.triggerId="breadcrumb-trigger-"+oq++}handleClick(n){this.disabled||(n.preventDefault(),this.trigger.emit(this.triggerId))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-breadcrumb"]],hostVars:3,hostBindings:function(n,o){1&n&&Ne("click",function(s){return o.handleClick(s)}),2&n&&(Is("id",o.triggerId),qs("disabled",o.disabled))},inputs:{disabled:"disabled"},outputs:{trigger:"trigger"},ngContentSelectors:rq,decls:3,vars:1,consts:[[1,"breadcrumb-current"],["class","select-arrow",4,"ngIf"],[1,"select-arrow"]],template:function(n,o){1&n&&(Dt(),H(0,"div",0),wt(1),F(),Qt(2,nq,1,0,"div",1)),2&n&&(me(2),Se("ngIf",!o.disabled))},dependencies:[Po],styles:["[_nghost-%COMP%]{cursor:pointer;display:inline-flex;flex-direction:row;align-items:center}.ios   [_nghost-%COMP%]{justify-content:center}.disabled[_nghost-%COMP%]{cursor:auto}.breadcrumb-current[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis}.select-arrow[_ngcontent-%COMP%]{border-top:5px solid;border-left:5px solid transparent;border-right:5px solid transparent;display:inline-block;opacity:.33;margin-left:.5em;vertical-align:middle}.md[_ngcontent-%COMP%]   .select-arrow[_ngcontent-%COMP%]{opacity:.55}"]}),t})();var eh;const iq=["canvas"];function sq(e,t){1&e&&Ve(0,"div",11),2&e&&Gc("width",ft().iosPlaceholderWidth)}function aq(e,t){if(1&e){const r=On();H(0,"ion-button",12),Ne("click",function(){return Rt(r),Pt(ft().navigation.lock())}),Ve(1,"ion-icon",13),F()}}function lq(e,t){if(1&e){const r=On();H(0,"ion-button",12),Ne("click",function(){return Rt(r),Pt(ft().navigation.unlock())}),Ve(1,"ion-icon",14),F()}}function cq(e,t){if(1&e){const r=On();H(0,"ion-button",12),Ne("click",function(o){return Rt(r),Pt(ft().openContextMenu(o))}),Ve(1,"ion-icon",15),F()}}function uq(e,t){if(1&e){const r=On();H(0,"ion-button",12),Ne("click",function(){return Rt(r),Pt(ft().showGameModeHint())}),Ve(1,"ion-icon",16),F()}}function dq(e,t){if(1&e){const r=On();H(0,"ion-button",12),Ne("click",function(){return Rt(r),Pt(ft().showProxyConnectedHint())}),Ve(1,"ion-icon",17),F()}}function fq(e,t){if(1&e){const r=On();H(0,"ion-button",12),Ne("click",function(){return Rt(r),Pt(ft().showSlowdowndHint())}),Ve(1,"ion-icon",18),F()}}function pq(e,t){if(1&e){const r=On();H(0,"ion-button",12),Ne("click",function(o){return Rt(r),Pt(ft().openContextMenu(o))}),Ve(1,"ion-icon",15),F()}}function hq(e,t){if(1&e){const r=On();H(0,"div",19),Ce(1," The device was reset forcefully. How do you want to boot? "),H(2,"ion-button",20),Ne("click",function(){return Rt(r),Pt(ft().bootAfterForcefulReset())}),Ce(3,"Normal boot"),F(),H(4,"ion-button",20),Ne("click",function(){return Rt(r),Pt(ft().bootAfterForcefulResetNoExtensions())}),Ce(5,"No extensions"),F(),H(6,"ion-button",20),Ne("click",function(){return Rt(r),Pt(ft().bootAfterForcefulResetHardReset())}),Ce(7,"Hard reset"),F()()}}function mq(e,t){1&e&&(H(0,"div",19)(1,"div"),Ce(2,"No session selected"),F()())}class Aa{constructor(t,r,n,o,i,s,a,l,c,f,h,g,b,j,ee,ye,Ee,Ie,Tt,Et,Ct){var In=this;this.emulationService=t,this.emulationState=r,this.storageService=n,this.eventHandlingService=o,this.canvasDisplayService=i,this.kvsService=s,this.popoverController=a,this.modalController=l,this.alertService=c,this.fileService=f,this.snapshotService=h,this.installlationService=g,this.proxyService=b,this.navigation=j,this.linkApi=ee,this.performanceWatchdogService=ye,this.cloudpilotService=Ee,this.dragDropService=Ie,this.sessionService=Tt,this.loadingController=Et,this.config=Ct,this.ionViewDidEnter=()=>this.mutex.runExclusive((0,V.Z)(function*(){yield In.emulationService.bootstrapComplete(),In.bootstrapComplete=!0;const An=In.emulationState.getCurrentSession();An&&!An.wasResetForcefully&&(yield In.launchEmulator()),In.linkApi.installation.requestEvent.addHandler(In.handleLinkApiInstallationRequest),In.handleLinkApiInstallationRequest(),In.dragDropService.registerClient(In)})),this.ionViewWillLeave=()=>this.mutex.runExclusive(()=>{this.dragDropService.unregisterClient(this),this.linkApi.installation.requestEvent.removeHandler(this.handleLinkApiInstallationRequest),this.emulationService.isRunning()&&(this.autoLockUI=!1),this.emulationService.pause(),this.emulationService.newFrameEvent.removeHandler(this.onNewFrame),this.snapshotService.snapshotEvent.removeHandler(this.onSnapshot),this.kvsService.updateEvent.removeHandler(this.onKvsUpdate),this.eventHandlingService.release(),this.navigation.unlock()}),this.onKvsUpdate=()=>{this.kvsService.kvs.showStatistics?this.canvasDisplayService.updateStatistics():this.canvasDisplayService.clearStatistics()},this.onSnapshot=An=>{this.kvsService.kvs.showStatistics&&this.canvasDisplayService.updateStatistics(An,this.emulationService.getStatistics())},this.onNewFrame=An=>{this.canvasDisplayService.updateEmulationCanvas(An)},this.handleLinkApiInstallationRequest=()=>{if(!this.linkApi.installation.hasPendingRequest())return;const An=this.linkApi.installation.receivePendingUrl();An&&(this.installFileDisabled?this.alertService.message("Unable to install","Installation is currently not possible.",{},"Cancel"):this.emulationState.getCurrentSession()&&this.emulationService.isRunning()?this.alertService.message("Installation request",`Do you want to install<br>${An} ?`,{OK:()=>this.fileService.openUrl(An,Ui=>this.installlationService.installFiles([Ui]))},"Cancel"):this.alertService.message("Unable to install",`Please start a session in order to install ${An} .`,{},"Cancel"))},this.bootstrapComplete=!1,this.switching=!1,this.lastTitle="",this.autoLockUI=!0,this.mutex=new fl}get cssWidth(){return this.canvasDisplayService.width/devicePixelRatio+"px"}get cssHeight(){return this.canvasDisplayService.height/devicePixelRatio+"px"}ionViewWillEnter(){this.switching=!1}openContextMenu(t,r="trigger"){var n=this;return(0,V.Z)(function*(){(yield n.popoverController.create({component:UZ,event:t,componentProps:{showHelp:()=>n.showHelp()},arrow:!1,translucent:!0,reference:r})).present()})()}onContextMenu(t){t.preventDefault(),this.openContextMenu(t,"event")}handleDragDropEvent(t){this.installFileDisabled||this.fileService.openFromDrop(t,this.installlationService.installFiles.bind(this.installlationService))}installFiles(){this.fileService.openFiles(this.installlationService.installFiles.bind(this.installlationService))}showHelp(){var t=this;return(0,V.Z)(function*(){yield(yield t.modalController.create({component:uu,componentProps:{url:HZ}})).present()})()}showGameModeHint(){var t=this;return(0,V.Z)(function*(){yield t.alertService.message("Game mode","\n                The keyboard is in game mode and controls the hardware buttons.\n                Press ctrl-shift in order to exit game mode.\n                <br/><br/>\n                Check the help page for a description of the different keyboard mappings.\n            ",{Help:()=>t.showHelp()})})()}showProxyConnectedHint(){var t=this;return(0,V.Z)(function*(){yield t.alertService.message("Proxy connected","Network proxy connected.")})()}showSlowdowndHint(){var t=this;return(0,V.Z)(function*(){yield t.alertService.message("Speed throttled","\n                Your host is too slow to run your virtual device at full speed, and the clock\n                has been throttled in order to compensate. You can avoid this by reducing the speed of your\n                virtual device in the session settings.\n        ")})()}get installFileDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}bootAfterForcefulReset(){var t=this;return(0,V.Z)(function*(){yield t.clearForcefulReset(),yield t.launchEmulator()})()}bootAfterForcefulResetNoExtensions(){var t=this;return(0,V.Z)(function*(){yield t.clearForcefulReset(),(yield t.cloudpilotService.cloudpilot).resetNoExtensions(),yield t.launchEmulator()})()}bootAfterForcefulResetHardReset(){var t=this;return(0,V.Z)(function*(){yield t.clearForcefulReset(),(yield t.cloudpilotService.cloudpilot).resetHard(),yield t.launchEmulator()})()}get iosPlaceholderWidth(){let t=0;return this.eventHandlingService.isGameMode()&&t++,this.proxyService.isConnected()&&t++,this.performanceWatchdogService.isSlowdownDetected()&&t++,t>1?35*(t-1)+"px":"0"}cancelIfEmulationActive(t){this.emulationState.getCurrentSession()&&!this.emulationState.getCurrentSession()?.wasResetForcefully&&t.cancelable&&t.preventDefault()}onBreadcrumbTrigger(t){var r=this;return(0,V.Z)(function*(){(yield r.popoverController.create({component:ZZ,componentProps:{sessions:r.sessionService.getSessions().filter(o=>o.id!==r.emulationState.getCurrentSession()?.id).sort((o,i)=>(i.lastLaunch??0)-(o.lastLaunch??0)||o.name.localeCompare(i.name)),onSelect:o=>r.switchSession(o)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===r.config.get("mode")?"center":"start",trigger:t,cssClass:"cp-breadcrumb-menu"})).present()})()}get sessions(){return this.sessionService.getSessions()}get currentSession(){return this.emulationState.getCurrentSession()}clearForcefulReset(){var t=this;return(0,V.Z)(function*(){const r=t.emulationState.getCurrentSession();r&&(yield t.storageService.updateSessionPartial(r.id,{wasResetForcefully:!1}))})()}get title(){return this.bootstrapComplete?this.switching?this.lastTitle:this.emulationState.getCurrentSession()?.name??"No session":""}launchEmulator(){var t=this;return(0,V.Z)(function*(){const r=t.emulationState.getCurrentSession();r&&(yield t.kvsService.mutex.runExclusive(()=>t.kvsService.kvs.autoLockUI&&t.autoLockUI&&t.navigation.lock()),t.canvasDisplayService.initialize(t.canvasRef.nativeElement,r).then(()=>{t.onKvsUpdate(),t.kvsService.updateEvent.addHandler(t.onKvsUpdate)}),t.onNewFrame(t.emulationService.getCanvas()),t.emulationService.newFrameEvent.addHandler(t.onNewFrame),t.snapshotService.snapshotEvent.addHandler(t.onSnapshot),yield t.emulationService.resume(),t.eventHandlingService.bind(t.canvasRef.nativeElement))})()}switchSession(t){var r=this;return(0,V.Z)(function*(){const n=yield r.loadingController.create();yield n.present();try{if(r.lastTitle=r.title,r.switching=!0,yield r.emulationService.pause(),!(yield r.emulationService.switchSession(t.id,{showLoader:!1})))return void(yield r.alertService.errorMessage("Failed to launch session"));t.wasResetForcefully||(yield r.launchEmulator())}finally{n.dismiss(),r.switching=!1}})()}}(eh=Aa).\u0275fac=function(t){return new(t||eh)(_(Ma),_(Bl),_(sr),_(YZ),_(D_),_(Si),_($l),_(cs),_(uo),_(xc),_(Qp),_(tq),_(M0),_(V0),_(Hb),_(jR),_(Ta),_(U0),_(jl),_(Js),_(Fp))},eh.\u0275cmp=Ze({type:eh,selectors:[["app-emulation"]],viewQuery:function(t,r){if(1&t&&ac(iq,5),2&t){let n;Ts(n=Ms())&&(r.canvasRef=n.first)}},decls:23,vars:23,consts:[[3,"disabled","trigger"],["class","ios-title-placeholder",3,"width",4,"ngIf"],["slot","primary"],[3,"disabled","click"],["name","download-outline"],[3,"click",4,"ngIf"],["slot","secondary"],[3,"contextmenu"],[1,"container","running-session",3,"touchstart","touchmove"],["canvas",""],["class","container no-session",4,"ngIf"],[1,"ios-title-placeholder"],[3,"click"],["name","lock-open-outline"],["name","lock-closed-outline"],["name","ellipsis-vertical-outline"],["name","game-controller-outline"],["name","swap-vertical-outline"],["name","speedometer-outline"],[1,"container","no-session"],["type","button","color","light",3,"click"]],template:function(t,r){if(1&t&&(H(0,"ion-header")(1,"ion-toolbar")(2,"ion-title")(3,"app-breadcrumb",0),Ne("trigger",function(o){return r.onBreadcrumbTrigger(o)}),Qt(4,sq,1,2,"div",1),Ce(5),F()(),H(6,"ion-buttons",2)(7,"ion-button",3),Ne("click",function(){return r.installFiles()}),Ve(8,"ion-icon",4),F(),Qt(9,aq,2,0,"ion-button",5)(10,lq,2,0,"ion-button",5),F(),H(11,"ion-buttons",6),Qt(12,cq,2,0,"ion-button",5)(13,uq,2,0,"ion-button",5)(14,dq,2,0,"ion-button",5)(15,fq,2,0,"ion-button",5)(16,pq,2,0,"ion-button",5),F()()(),H(17,"ion-content",7),Ne("contextmenu",function(o){return r.onContextMenu(o)}),H(18,"div",8),Ne("touchstart",function(o){return r.cancelIfEmulationActive(o)})("touchmove",function(o){return r.cancelIfEmulationActive(o)}),Ve(19,"canvas",null,9),F(),Qt(21,hq,8,0,"div",10)(22,mq,3,0,"div",10),F()),2&t){let n,o;me(3),Se("disabled",!r.bootstrapComplete||1===r.sessions.length&&!!r.currentSession||0===r.sessions.length),me(1),Se("ngIf","ios"===r.config.get("mode")),me(1),ui(" ",r.title,""),me(2),Se("disabled",r.installFileDisabled),me(2),Se("ngIf",!r.navigation.isLocked()),me(1),Se("ngIf",r.navigation.isLocked()),me(2),Se("ngIf","ios"===r.config.get("mode")),me(1),Se("ngIf",r.eventHandlingService.isGameMode()),me(1),Se("ngIf",r.proxyService.isConnected()),me(1),Se("ngIf",r.performanceWatchdogService.isSlowdownDetected()),me(1),Se("ngIf","ios"!==r.config.get("mode")),me(1),qs("locked",r.navigation.isLocked()),me(1),Gc("display",!r.emulationState.getCurrentSession()||null!=(n=r.emulationState.getCurrentSession())&&n.wasResetForcefully?"none":void 0),me(1),Gc("width",r.cssWidth)("height",r.cssHeight)("display",r.emulationState.getCurrentSession()?"block":"none"),me(2),Se("ngIf",null!=(o=r.emulationState.getCurrentSession())&&o.wasResetForcefully?"none":void 0),me(1),Se("ngIf",!r.emulationState.getCurrentSession()&&r.bootstrapComplete&&!r.switching)}},dependencies:[Po,Fi,Li,$i,Bi,zo,ji,Gi,UR],styles:[".ios-title-placeholder[_ngcontent-%COMP%]{display:inline-block}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:3px}.container.no-session[_ngcontent-%COMP%]{text-align:center;padding:1em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:1em;width:100%;max-width:20em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-of-type{margin-top:3em}ion-content.locked[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-bottom:var(--ion-safe-area-bottom, 0)}.container.running-session[_ngcontent-%COMP%]{background:radial-gradient(circle,#ccc 0%,#eee 100%)}@media (prefers-color-scheme: dark){.container.running-session[_ngcontent-%COMP%]{background:none}}canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}"]}),ne([qn()],Aa.prototype,"openContextMenu",null),ne([qn()],Aa.prototype,"showHelp",null),ne([qn()],Aa.prototype,"showGameModeHint",null),ne([qn()],Aa.prototype,"showProxyConnectedHint",null),ne([qn()],Aa.prototype,"showSlowdowndHint",null),ne([qn()],Aa.prototype,"bootAfterForcefulReset",null),ne([qn()],Aa.prototype,"bootAfterForcefulResetNoExtensions",null),ne([qn()],Aa.prototype,"bootAfterForcefulResetHardReset",null),ne([qn()],Aa.prototype,"onBreadcrumbTrigger",null);const HR="reduced-animations",gq=e=>(e.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)",e.querySelector(".action-sheet-wrapper").style.transform="translateY(0%)",(0,e0.c)()),_q=e=>{e.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)";const t=e.querySelector(".loading-wrapper");return t.style.transform="scale(1)",t.style.opacity="1",(0,e0.c)()},vq=e=>{e.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)";const t=e.querySelector(".alert-wrapper");return t.style.transform="scale(1)",t.style.opacity="1",(0,e0.c)()};function zR(e){localStorage.setItem(HR,e?"1":"0")}function WR(){return"1"===(localStorage.getItem(HR)??"0")}const bq=C.p+"assets/doc/settings-589ae62c10d3967b.md";function Cq(e,t){1&e&&(H(0,"ion-item",7)(1,"ion-label"),Ce(2,"Clipboard integration"),F(),Ve(3,"ion-toggle",18),F())}function Sq(e,t){if(1&e){const r=On();H(0,"ion-item",7)(1,"ion-label",19),Ce(2,"Proxy server"),F(),H(3,"div",20),Ve(4,"ion-input",21),H(5,"ion-button",22),Ne("click",function(o){Rt(r);const i=ft();return o.preventDefault(),o.stopPropagation(),Pt(i.testProxyConnection())})("touchstart",function(o){Rt(r);const i=ft();return o.preventDefault(),o.stopPropagation(),Pt(i.testProxyConnection())}),Ce(6," Test "),F()()()}if(2&e){const r=ft();me(5),Se("disabled",!r.proxyServerValid)}}function wq(e,t){1&e&&(ad(0),H(1,"h1"),Ce(2,"Debug"),F(),H(3,"ion-item",7)(4,"ion-label"),Ce(5,"Snapshot validation (slow)"),F(),Ve(6,"ion-toggle",23),F(),ld())}let Dq=(()=>{var e;class t{constructor(n,o,i,s,a){this.modalController=n,this.kvsService=o,this.clipboardService=i,this.alertService=s,this.proxyService=a,this.onAudioOnStartChange=l=>{this.kvsService.kvs.enableAudioOnFirstInteraction=l,l&&this.alertService.message("Enable audio on start","\n            Audio will automatically turn on after the first interaction with the application\n            (i.e. touch, click or keyboard event).\n            <br><br>\n            This option will take effect the next time\n            Coudpilot is restarts.\n        ")},this.onReducedAnimationsChange=l=>{zR(l),this.alertService.message("Reduce animations",l?"\n                Animations will be slightly reduced in order to provide a snappier UI. This\n                reduces UI lag on iOS devices with large screens.\n                <br><br>\n                This option will take effect the next time\n                Coudpilot is restarts.\n            ":"\n                This option will only take effect the next time Coudpilot is restarts.\n            ")},this.connectionTestInProgress=!1}ngOnInit(){this.createFormGroup()}showHelp(){var n=this;return(0,V.Z)(function*(){yield(yield n.modalController.create({component:uu,componentProps:{url:bq}})).present()})()}ionViewWillEnter(){this.mutexReleasePromise=this.kvsService.mutex.acquire()}ionViewWillLeave(){var n=this;return(0,V.Z)(function*(){n.formGroup.get("networkRedirection")?.value&&!n.formGroup.get("proxyServer")?.valid&&(n.alertService.message("Invalid proxy server","The proxy server you specified is invalid. Network redirection will be disabled."),n.formGroup.get("networkRedirection").setValue(!1)),n.formGroup.get("networkRedirection")?.value||n.formGroup.get("proxyServer")?.setValue(n.kvsService.kvs.proxyServer),yield n.kvsService.set({volume:n.formGroup.get("volume").value,showStatistics:n.formGroup.get("showStatistics").value,clipboardIntegration:n.formGroup.get("clipboardIntegration")?.value,networkRedirection:n.formGroup.get("networkRedirection")?.value,proxyServer:n.formGroup.get("proxyServer")?.value,runHidden:n.formGroup.get("runHidden")?.value,autoLockUI:n.formGroup.get("autoLockUI")?.value,enableRemoteInstall:n.formGroup.get("enableRemoteInstall")?.value,enableAudioOnFirstInteraction:n.formGroup.get("audioOnStart")?.value,snapshotIntegrityCheck:n.formGroup.get("snapshotIntegrityCheck")?.value}),zR(n.formGroup.get("reducedAnimations")?.value),n.mutexReleasePromise&&(yield n.mutexReleasePromise)()})()}testProxyConnection(){var n=this;return(0,V.Z)(function*(){if(!n.connectionTestInProgress){n.connectionTestInProgress=!0;try{switch((yield n.proxyService.handshake(n.formGroup.get("proxyServer")?.value,0)).status){case"failed":n.alertService.errorMessage("Unable to connect to proxy");break;case"version_mismatch":n.alertService.proxyVersionMismatchError();break;default:n.alertService.message("Success","Connection to proxy successful.")}}finally{n.connectionTestInProgress=!1}}})()}get showProxyServer(){return this.formGroup.get("networkRedirection")?.value}get proxyServerValid(){const n=this.formGroup.get("proxyServer");return!(!n?.value||!n?.valid)}get showDebugOptions(){return true}createFormGroup(){this.formGroup=new Yg({volume:new Ho(this.kvsService.kvs.volume),showStatistics:new Ho(this.kvsService.kvs.showStatistics),runHidden:new Ho(this.kvsService.kvs.runHidden),clipboardIntegration:new Ho(this.kvsService.kvs.clipboardIntegration),networkRedirection:new Ho(this.kvsService.kvs.networkRedirection),proxyServer:new Ho(this.kvsService.kvs.proxyServer,{validators:[D9]}),autoLockUI:new Ho(this.kvsService.kvs.autoLockUI),enableRemoteInstall:new Ho(this.kvsService.kvs.enableRemoteInstall),audioOnStart:new Ho(this.kvsService.kvs.enableAudioOnFirstInteraction),snapshotIntegrityCheck:new Ho(this.kvsService.kvs.snapshotIntegrityCheck),reducedAnimations:new Ho(WR())}),this.formGroup.get("audioOnStart")?.valueChanges.subscribe(this.onAudioOnStartChange),this.formGroup.get("reducedAnimations")?.valueChanges.subscribe(this.onReducedAnimationsChange)}}return(e=t).\u0275fac=function(n){return new(n||e)(_(cs),_(Si),_(DR),_(uo),_(M0))},e.\u0275cmp=Ze({type:e,selectors:[["app-settings"]],decls:56,vars:4,consts:[["slot","secondary"],[3,"click"],["name","help-outline"],["collapse","condense"],["size","large"],[1,"settings-container"],[1,"settings-form",3,"formGroup"],["lines","none"],["min","0","max","1","step","0.1","formControlName","volume"],["formControlName","audioOnStart"],["formControlName","runHidden"],["lines","none",4,"ngIf"],["formControlName","networkRedirection"],["formControlName","autoLockUI"],["formControlName","reducedAnimations"],["formControlName","showStatistics"],["formControlName","enableRemoteInstall"],[4,"ngIf"],["formControlName","clipboardIntegration"],["position","stacked"],[1,"server-container"],["placeholder","Proxy server host or URL","formControlName","proxyServer"],[3,"disabled","click","touchstart"],["formControlName","snapshotIntegrityCheck"]],template:function(n,o){1&n&&(H(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3,"Settings"),F(),H(4,"ion-buttons",0)(5,"ion-button",1),Ne("click",function(){return o.showHelp()}),Ve(6,"ion-icon",2),F(),Ve(7,"app-pwa-prompt"),F()()(),H(8,"ion-content")(9,"ion-header",3)(10,"ion-toolbar")(11,"ion-title",4),Ce(12,"Settings"),F()()(),H(13,"div",5)(14,"form",6)(15,"h1"),Ce(16,"Emulation"),F(),H(17,"ion-item",7)(18,"ion-label"),Ce(19,"Volume"),F(),Ve(20,"ion-range",8),F(),H(21,"ion-item",7)(22,"ion-label"),Ce(23,"Enable audio on start"),F(),Ve(24,"ion-toggle",9),F(),H(25,"ion-item",7)(26,"ion-label"),Ce(27,"Run when hidden"),F(),Ve(28,"ion-toggle",10),F(),H(29,"h1"),Ce(30,"Host integration"),F(),Qt(31,Cq,4,0,"ion-item",11),H(32,"ion-item",7)(33,"ion-label"),Ce(34,"Network redirection"),F(),Ve(35,"ion-toggle",12),F(),Qt(36,Sq,7,1,"ion-item",11),H(37,"h1"),Ce(38,"UI"),F(),H(39,"ion-item",7)(40,"ion-label"),Ce(41,"Auto-lock UI"),F(),Ve(42,"ion-toggle",13),F(),H(43,"ion-item",7)(44,"ion-label"),Ce(45,"Reduce animations"),F(),Ve(46,"ion-toggle",14),F(),H(47,"ion-item",7)(48,"ion-label"),Ce(49,"Show statistics"),F(),Ve(50,"ion-toggle",15),F(),H(51,"ion-item",7)(52,"ion-label"),Ce(53,"Open from remote sources"),F(),Ve(54,"ion-toggle",16),F(),Qt(55,wq,7,0,"ng-container",17),F()()()),2&n&&(me(14),Se("formGroup",o.formGroup),me(17),Se("ngIf",o.clipboardService.isSupported()),me(5),Se("ngIf",o.showProxyServer),me(19),Se("ngIf",o.showDebugOptions))},dependencies:[Po,Nl,Pl,Ol,Fi,Li,$i,Bi,zo,Ll,Co,Vi,t0,ji,Gp,Gi,Ld,Fl,E_,xa,cl],styles:[".server-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.server-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex-grow:1}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.settings-form[_ngcontent-%COMP%]{max-width:40em;flex-basis:100%}ion-item[_ngcontent-%COMP%]{--background: none}"]}),t})(),H0=(()=>{var e;class t{transform(n){return void 0!==n?`${Math.round(n/1024/1024)} MB`:""}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275pipe=Ko({name:"cardSize",type:e,pure:!0}),t})();function Eq(e,t){1&e&&(H(0,"div",13)(1,"b"),Ce(2,"WARNING:"),F(),Ce(3," This image cannot be used as a memory stick image."),F())}let ZR=(()=>{var e;class t{constructor(n){this.storageCardService=n,this.validateNameUnique=o=>this.storageCardService.getAllCards().some(i=>i.name===o.value&&i.name!==this.card?.name)?{name:"already taken"}:null,this.formGroup=new Cc({name:new ls("",{nonNullable:!0,validators:[Ap.required,this.validateNameUnique]}),size:new ls({value:"dummy",disabled:!0}),checkAutomatically:new ls(!0,{nonNullable:!0})}),this.newCard=!1,this.cardSupportLevel=2,this.onCancel=()=>{},this.onSave=()=>{}}ngOnInit(){this.card&&(this.formGroup.controls.name.setValue(this.card.name),this.formGroup.controls.checkAutomatically.setValue(!this.card.dontFsckAutomatically))}save(){!this.formGroup.valid||!this.formGroup.value.name||!this.card||this.onSave({name:this.formGroup.value.name,dontFsckAutomatically:!this.formGroup.value.checkAutomatically})}onEnter(){this.save()}get memoryStickSupported(){return 2===this.cardSupportLevel}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Zd))},e.\u0275cmp=Ze({type:e,selectors:[["app-edit-card-dialog"]],inputs:{card:"card",newCard:"newCard",cardSupportLevel:"cardSupportLevel",onCancel:"onCancel",onSave:"onSave"},decls:28,vars:7,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],["value","dummy"],["formControlName","checkAutomatically"],["class","sd-only-warning",4,"ngIf"],[1,"sd-only-warning"]],template:function(n,o){1&n&&(H(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3),F(),H(4,"ion-buttons",0)(5,"ion-button",1),Ne("click",function(){return o.save()}),Ce(6,"Save"),F()(),H(7,"ion-buttons",2)(8,"ion-button",3),Ne("click",function(){return o.onCancel()}),Ce(9,"Cancel"),F()()()(),H(10,"ion-content",4)(11,"form",5),Ne("keydown.enter",function(){return o.onEnter()}),H(12,"ion-item",6)(13,"ion-label",7),Ce(14,"Card name"),F(),Ve(15,"ion-input",8),F(),H(16,"ion-item",6)(17,"ion-label",7),Ce(18,"Card size"),F(),H(19,"ion-select",9)(20,"ion-select-option",10),Ce(21),el(22,"cardSize"),F()()(),H(23,"ion-item",6)(24,"ion-label"),Ce(25,"Check for errors automatically"),F(),Ve(26,"ion-toggle",11),F()(),Qt(27,Eq,4,0,"div",12),F()),2&n&&(me(3),Ai(o.newCard?"New memory card":"Edit memory card"),me(2),Se("disabled",o.formGroup.invalid),me(6),Se("formGroup",o.formGroup),me(10),ui("",tl(22,5,null==o.card?null:o.card.size)," "),me(6),Se("ngIf",!o.memoryStickSupported))},dependencies:[Po,Fi,Li,$i,Bi,Ll,Co,Vi,s_,a_,ji,Gp,Gi,Ld,n_,Fl,Nl,Pl,Ol,xa,cl,H0],styles:[".sd-only-warning[_ngcontent-%COMP%]{padding:2em 1em}"]}),t})();function Iq(e,t){if(1&e&&(H(0,"ion-select-option",12),Ce(1),el(2,"cardSize"),F()),2&e){const r=t.$implicit,n=ft();Se("value",r),me(1),ui("",tl(2,2,n.sizeBytes(r))," ")}}const xq=[Wo.mb4,Wo.mb8,Wo.mb16,Wo.mb32,Wo.mb64,Wo.mb128];let Tq=(()=>{var e;class t{constructor(n){this.storageCardService=n,this.validateNameUnique=o=>this.storageCardService.getAllCards().some(i=>i.name===o.value)?{name:"already taken"}:null,this.onCreate=()=>{},this.onCancel=()=>{},this.formGroup=new Cc({name:new ls("",{nonNullable:!0,validators:[Ap.required,this.validateNameUnique]}),size:new ls(Wo.mb32,{nonNullable:!0}),checkAutomatically:new ls(!0,{nonNullable:!0})})}get sizes(){return xq}sizeBytes(n){return function K9(e){switch(e){case Wo.mb4:return 4046848;case Wo.mb8:return 8110080;case Wo.mb16:return 16220160;case Wo.mb32:return 32473088;case Wo.mb64:return 64978944;case Wo.mb128:return 129990656;default:throw new Error(`bad card size ${e}`)}}(n)}create(){!this.formGroup.valid||void 0===this.formGroup.value.name||void 0===this.formGroup.value.size||this.onCreate(this.formGroup.value.name,this.formGroup.value.size,!this.formGroup.value.checkAutomatically)}onEnter(){this.create()}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Zd))},e.\u0275cmp=Ze({type:e,selectors:[["app-new-card-dialog"]],inputs:{onCreate:"onCreate",onCancel:"onCancel"},decls:25,vars:3,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],[3,"value",4,"ngFor","ngForOf"],["formControlName","checkAutomatically"],[3,"value"]],template:function(n,o){1&n&&(H(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3,"New memory card"),F(),H(4,"ion-buttons",0)(5,"ion-button",1),Ne("click",function(){return o.create()}),Ce(6,"Create"),F()(),H(7,"ion-buttons",2)(8,"ion-button",3),Ne("click",function(){return o.onCancel()}),Ce(9,"Cancel"),F()()()(),H(10,"ion-content",4)(11,"form",5),Ne("keydown.enter",function(){return o.onEnter()}),H(12,"ion-item",6)(13,"ion-label",7),Ce(14,"Card name"),F(),Ve(15,"ion-input",8),F(),H(16,"ion-item",6)(17,"ion-label",7),Ce(18,"Card size"),F(),H(19,"ion-select",9),Qt(20,Iq,3,4,"ion-select-option",10),F()(),H(21,"ion-item",6)(22,"ion-label"),Ce(23,"Check for errors automatically"),F(),Ve(24,"ion-toggle",11),F()()()),2&n&&(me(5),Se("disabled",o.formGroup.invalid),me(6),Se("formGroup",o.formGroup),me(9),Se("ngForOf",o.sizes))},dependencies:[dc,Fi,Li,$i,Bi,Ll,Co,Vi,s_,a_,ji,Gp,Gi,Ld,n_,Fl,Nl,Pl,Ol,xa,cl,H0]}),t})();function Tc(e,t,r){return()=>{const n=r();n!==t&&(e.markForCheck(),t=n)}}const Mq=C.p+"assets/doc/cards-75195154c07dfe52.md";let Aq=(()=>{var e;class t{constructor(){this.cardCount=0}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-storage-action-menu-cards"]],inputs:{cardCount:"cardCount",onExport:"onExport",onDelete:"onDelete",onHelp:"onHelp"},decls:10,vars:5,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","share-outline","slot","end"],["name","trash-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(n,o){1&n&&(H(0,"ion-list")(1,"ion-item",0),Ne("click",function(){return null==o.onExport?null:o.onExport()}),Ve(2,"ion-icon",1),Ce(3," Export "),F(),H(4,"ion-item",0),Ne("click",function(){return null==o.onDelete?null:o.onDelete()}),Ve(5,"ion-icon",2),Ce(6," Delete "),F(),H(7,"ion-item",3),Ne("click",function(){return null==o.onHelp?null:o.onHelp()}),Ve(8,"ion-icon",4),Ce(9," Help "),F()()),2&n&&(me(1),Se("detail",!1)("disabled",0===o.cardCount),me(3),Se("detail",!1)("disabled",0===o.cardCount),me(3),Se("detail",!1))},dependencies:[zo,Co,ks]}),t})(),kq=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCheck=()=>{},this.onDelete=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-storage-context-menu-card"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCheck:"onCheck",onDelete:"onDelete"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","medkit-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(n,o){1&n&&(H(0,"ion-list")(1,"ion-item",0),Ne("click",function(){return o.onEdit()}),Ve(2,"ion-icon",1),Ce(3," Edit "),F(),H(4,"ion-item",0),Ne("click",function(){return o.onSave()}),Ve(5,"ion-icon",2),Ce(6," Export "),F(),H(7,"ion-item",0),Ne("click",function(){return o.onCheck()}),Ve(8,"ion-icon",3),Ce(9," Check "),F(),H(10,"ion-item",4),Ne("click",function(){return o.onDelete()}),Ve(11,"ion-icon",5),Ce(12," Delete "),F()()),2&n&&(me(1),Se("detail",!1),me(3),Se("detail",!1),me(3),Se("detail",!1),me(3),Se("detail",!1))},dependencies:[zo,Co,ks]}),t})();function Rq(e,t){1&e&&Ve(0,"ion-icon",15)}function Pq(e,t){1&e&&Ve(0,"ion-icon",16)}let Oq=(()=>{var e;class t{constructor(n,o,i,s){this.storageCardService=n,this.popoverController=o,this.cd=s,this.touched=!1,this.interaction=new on,this.selecting=!1,this.selectedForExport=!1,this.selectCard=new on,this.edit=new on,this.check=new on,this.delete=new on,this.save=new on,this.checkSessions=Tc(s,[],()=>i.getSessions())}ngDoCheck(){this.checkSessions()}onContextmenu(n){var o=this;return(0,V.Z)(function*(){n.stopPropagation(),n.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:kq,event:n,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.edit.emit(o.card),onSave:()=>o.save.emit(o.card),onCheck:()=>o.check.emit(),onDelete:()=>o.delete.emit()},reference:"event"})).present()})()}get color(){if(this.touched)return"light"}get status(){if(!this.card)return"";const n=this.storageCardService.mountedInSession(this.card?.id);if(n)return`attached to '${n.name}'`;if(this.card.dontFsckAutomatically)return"not checked automatically";switch(this.card.status){case wr.dirty:return"needs check";case wr.clean:return"no errors";case wr.unformatted:return"no filesystem";case wr.unfixable:return"uncorrectable errors";default:throw new Error("unreachable")}}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Zd),_($l),_(jl),_(dt))},e.\u0275cmp=Ze({type:e,selectors:[["app-storage-card"]],inputs:{card:"card",touched:"touched",selecting:"selecting",selectedForExport:"selectedForExport"},outputs:{interaction:"interaction",selectCard:"selectCard",edit:"edit",check:"check",delete:"delete",save:"save"},decls:21,vars:10,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","medkit-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(n,o){if(1&n){const i=On();H(0,"ion-item-sliding",0,1),Ne("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit(o.card)}),H(2,"ion-item-options",2)(3,"ion-item-option",3),Ne("click",function(){return Rt(i),xs(1).close(),Pt(o.edit.emit(o.card))}),Ve(4,"ion-icon",4),F(),H(5,"ion-item-option",5),Ne("click",function(){return Rt(i),xs(1).close(),Pt(o.save.emit(o.card))}),Ve(6,"ion-icon",6),F()(),H(7,"ion-item-options",7)(8,"ion-item-option",8),Ne("click",function(){return Rt(i),xs(1).close(),Pt(o.check.emit(o.card))}),Ve(9,"ion-icon",9),F(),H(10,"ion-item-option",10),Ne("click",function(){return Rt(i),xs(1).close(),Pt(o.delete.emit(o.card))}),Ve(11,"ion-icon",11),F()(),H(12,"ion-item",12),Ne("click",function(){return o.selectCard.emit(),o.interaction.emit()}),H(13,"ion-label")(14,"h2"),Ce(15),F(),H(16,"p"),Ce(17),el(18,"cardSize"),F()(),Qt(19,Rq,1,0,"ion-icon",13)(20,Pq,1,0,"ion-icon",14),F()()}2&n&&(me(12),Se("color",o.color),me(1),qs("selecting",o.selecting),me(2),Ai(null==o.card?null:o.card.name),me(2),ep("",tl(18,8,null==o.card?null:o.card.size),", ",o.status,""),me(2),Se("ngIf",o.selecting&&!o.selectedForExport),me(1),Se("ngIf",o.selecting&&o.selectedForExport))},dependencies:[Po,zo,Co,r_,o_,i_,Vi,H0],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 4.5em)}"],changeDetection:0}),t})();var th;function Nq(e,t){if(1&e){const r=On();H(0,"ion-toolbar")(1,"ion-title"),Ce(2,"Memory cards"),F(),H(3,"ion-buttons",6)(4,"ion-button",7),Ne("click",function(){return Rt(r),Pt(ft().addCardImage())}),Ve(5,"ion-icon",8),F()(),H(6,"ion-buttons",9)(7,"ion-button",7),Ne("click",function(o){return Rt(r),Pt(ft().openActionMenu(o))}),Ve(8,"ion-icon",10),F(),Ve(9,"app-pwa-prompt"),F()()}}function Fq(e,t){1&e&&(H(0,"ion-title"),Ce(1,"Export"),F())}function Lq(e,t){1&e&&(H(0,"ion-title"),Ce(1,"Delete"),F())}function $q(e,t){if(1&e){const r=On();H(0,"ion-buttons",9)(1,"ion-button",7),Ne("click",function(){return Rt(r),Pt(ft(2).onSelectAll())}),Ce(2,"Select all"),F()()}}function Bq(e,t){if(1&e){const r=On();H(0,"ion-buttons",9)(1,"ion-button",7),Ne("click",function(){return Rt(r),Pt(ft(2).selection.clear())}),Ce(2,"Clear"),F()()}}function Vq(e,t){if(1&e){const r=On();H(0,"ion-toolbar"),Qt(1,Fq,2,0,"ion-title",0)(2,Lq,2,0,"ion-title",0),H(3,"ion-buttons",6)(4,"ion-button",7),Ne("click",function(){return Rt(r),Pt(ft().onSelectionDone())}),Ce(5),F()(),Qt(6,$q,3,0,"ion-buttons",11)(7,Bq,3,0,"ion-buttons",11),F()}if(2&e){const r=ft();me(1),Se("ngIf","select-for-export"===r.mode),me(1),Se("ngIf","select-for-delete"===r.mode),me(3),Ai(0===r.selection.size?"Cancel":"select-for-export"===r.mode?"Export":"Delete"),me(1),Se("ngIf",r.selection.size!==r.cards.length),me(1),Se("ngIf",r.selection.size===r.cards.length)}}function jq(e,t){1&e&&(H(0,"ion-title",12),Ce(1,"Memory cards"),F())}function Gq(e,t){1&e&&(H(0,"ion-title",12),Ce(1,"Select for export"),F())}function Uq(e,t){1&e&&(H(0,"ion-title",12),Ce(1,"Select for delete"),F())}function Hq(e,t){1&e&&(H(0,"div",13),Ve(1,"ion-spinner"),F())}function zq(e,t){1&e&&(H(0,"div",14)(1,"div",15),Ce(2," No memory cards. Select the \u201e+\u201c icon in the upper right corner in order to create a new card. "),F()())}function Wq(e,t){if(1&e){const r=On();H(0,"app-storage-card",17),Ne("delete",function(){const i=Rt(r).$implicit;return Pt(ft(2).deleteCard(i))})("selectCard",function(){const i=Rt(r).$implicit,s=ft(2);return Pt("manage"===s.mode?s.browseCard(i):s.toggleSelection(i))})("edit",function(){const i=Rt(r).$implicit;return Pt(ft(2).editCard(i))})("check",function(){const i=Rt(r).$implicit;return Pt(ft(2).checkCard(i))})("interaction",function(){const i=Rt(r).$implicit;return Pt(ft(2).lastCardTouched=i.id)})("save",function(){const i=Rt(r).$implicit;return Pt(ft(2).saveCard(i))}),F()}if(2&e){const r=t.$implicit,n=ft(2);Se("card",r)("touched",r.id===n.lastCardTouched)("selecting","manage"!==n.mode)("selectedForExport",n.selection.has(r.id))}}function Zq(e,t){if(1&e&&(H(0,"ion-list"),Qt(1,Wq,1,4,"app-storage-card",16),F()),2&e){const r=ft();me(1),Se("ngForOf",r.cards)("ngForTrackBy",r.trackCardBy)}}class ml{constructor(t,r,n,o,i,s,a,l,c,f,h,g){var b=this;this.actionSheetController=t,this.storageCardService=r,this.modalController=n,this.cloudpilotService=o,this.alertService=i,this.errorService=s,this.fileService=a,this.loadingController=l,this.fstools=c,this.popoverController=f,this.cd=g,this.handleCardImport=function(){var j=(0,V.Z)(function*(ee){if(!/\.((bin|img)(|\.gz)|zip)$/i.test(ee.name))return void b.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .bin.gz, .img, .img.gz and .zip");if(ee.name.endsWith(".zip")){let Et=!1;return yield b.alertService.message("Mass import","\n                    CloudpilotEmu will attempt to import all card images in the selected zip archive.\n                    Importing large archives (several 100MB) requires a lot of memory and may crash the browser if the archive is too large.\n                    Are you sure you want to continue?\n                ",{Continue:()=>Et=!0},"Cancel"),void(Et&&(yield b.storageCardService.addAllCardsFromArchive(yield ee.getContent())))}const ye=yield b.cloudpilotService.cloudpilot;let Ee;try{Ee=yield ee.getContent()}catch(Et){return console.warn(Et),void(yield b.alertService.errorMessage(`Unable to open ${ee.name}".`))}if(/\.gz$/.test(ee.name)){const Et=yield b.loadingController.create({message:"Unpacking..."});yield Et.present();try{Ee=yield b.fstools.gunzip(Ee)}finally{yield Et.dismiss()}}const Ie=Ee?ye.getCardSupportLevel(Ee.length):0;if(void 0===Ee||0===Ie)return void b.alertService.errorMessage("This is not a supported card image.");const Tt=yield new Promise(function(){var Et=(0,V.Z)(function*(Ct){const In=yield b.modalController.create({component:ZR,backdropDismiss:!1,componentProps:{card:{name:b.disambiguateName(ee.name.replace(/\.gz$/,"")),size:Ee.length},cardSupportLevel:Ie,newCard:!0,onCancel:()=>{In.dismiss(),Ct(void 0)},onSave:An=>{Ct(An),In.dismiss()}}});yield In.present()});return function(Ct){return Et.apply(this,arguments)}}());Tt&&(yield b.storageCardService.createCardFromImage(Tt.name,Ee,!!Tt.dontFsckAutomatically))});return function(ee){return j.apply(this,arguments)}}(),this.lastCardTouched=void 0,this.onMountForBrowse=()=>{},this.mode="manage",this.selection=new Set,this.checkCards=Tc(g,[],()=>this.storageCardService.getAllCards()),this.checkSessions=Tc(g,void 0,()=>h.getSessions())}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkCards(),this.checkSessions()}ionViewDidLeave(){this.mode="manage",this.cd.markForCheck()}get cards(){return this.storageCardService.getAllCards()}handleDragDropEvent(t){this.fileService.openFromDrop(t,this.handleFilesFromDrop.bind(this))}addCardImage(){var t=this;return(0,V.Z)(function*(){(yield t.actionSheetController.create({header:"What type of image do you want to create?",buttons:[{text:"Empty image",handler:()=>t.createNewCardImage()},{text:"Import an existing image",handler:()=>t.importCardImage()},{text:"Cancel"}]})).present()})()}showHelp(){var t=this;return(0,V.Z)(function*(){yield(yield t.modalController.create({component:uu,componentProps:{url:Mq}})).present()})()}browseCard(t){var r=this;return(0,V.Z)(function*(){(yield r.storageCardService.browseCard(t))&&r.onMountForBrowse(t)})()}editCard(t){var r=this;return(0,V.Z)(function*(){const n=yield r.cloudpilotService.cloudpilot,o=yield r.modalController.create({component:ZR,backdropDismiss:!1,componentProps:{card:t,cardSupportLevel:n.getCardSupportLevel(t.size),onCancel:()=>o.dismiss(),onSave:(i=(0,V.Z)(function*(s){yield r.storageCardService.updateCard(t.id,s),yield o.dismiss()}),function(a){return i.apply(this,arguments)})}});var i;yield o.present()})()}saveCard(t){var r=this;return(0,V.Z)(function*(){const n=`${Wd(t.name.replace(/\.img$/,""))}.img`;yield(yield r.actionSheetController.create({header:"How do you want to export the image?",buttons:[{text:"Export gzip compressed image",handler:()=>r.storageCardService.saveCard(t.id,n,!0)},{text:"Export uncompressed image",handler:()=>r.storageCardService.saveCard(t.id,n,!1)},{text:"Cancel"}]})).present()})()}checkCard(t){return this.storageCardService.checkCard(t)}deleteCard(t){var r=this;return(0,V.Z)(function*(){let n=!0;if(yield r.alertService.message("Warning",`Deleting the card '${t.name}' cannot be undone. Are you sure you want to continue?`,{Delete:()=>n=!1},"Cancel"),n)return;const o=yield r.loadingController.create({message:"Deleting..."});yield o.present();try{yield r.storageCardService.deleteCard(t.id)}catch(i){r.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}finally{o.dismiss()}})()}trackCardBy(t,r){return r.id}startMassExport(){this.selection.clear(),this.mode="select-for-export"}startMassDelete(){this.selection.clear(),this.mode="select-for-delete"}onSelectionDone(){var t=this;return(0,V.Z)(function*(){const r=t.mode;switch(t.mode="manage",r){case"select-for-export":yield t.executeMassExport(Array.from(t.selection));break;case"select-for-delete":yield t.executeMassDelete(Array.from(t.selection))}})()}onSelectAll(){this.cards.forEach(t=>this.selection.add(t.id))}toggleSelection(t){this.selection.has(t.id)?this.selection.delete(t.id):this.selection.add(t.id)}openActionMenu(t,r="trigger"){var n=this;return(0,V.Z)(function*(){const o=yield n.popoverController.create({component:Aq,event:t,componentProps:{cardCount:n.cards.length,onExport:()=>{o.dismiss(),n.startMassExport(),n.cd.markForCheck()},onDelete:()=>{o.dismiss(),n.startMassDelete(),n.cd.markForCheck()},onHelp:()=>{o.dismiss(),n.showHelp()}},arrow:!1,translucent:!0,reference:r});o.present()})()}onContextMenu(t){"manage"===this.mode&&(t.preventDefault(),this.openActionMenu(t,"event"))}executeMassExport(t){var r=this;return(0,V.Z)(function*(){switch(t.length){case 0:break;case 1:{const n=yield r.storageCardService.getCard(t[0]);n&&(yield r.saveCard(n));break}default:yield r.exportSelection(t)}})()}executeMassDelete(t){var r=this;return(0,V.Z)(function*(){switch(t.length){case 0:break;case 1:{const n=yield r.storageCardService.getCard(t[0]);n&&(yield r.deleteCard(n));break}default:{let n=!0;if(yield r.alertService.message("Warning",`You are about to delete ${t.length} cards. This cannot be undone. Are you sure you want to continue?`,{Delete:()=>n=!1},"Cancel"),n)return;const o=yield r.loadingController.create({message:"Deleting..."});yield o.present();try{for(const i of t)yield r.storageCardService.deleteCard(i)}catch(i){r.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}finally{o.dismiss()}}}})()}exportSelection(t){var r=this;return(0,V.Z)(function*(){const n=new Map(yield r.storageCardService.getAllCards().map(i=>[i.id,i]));if(t.map(i=>n.get(i)?.size).reduce((i,s)=>i+(s??0),0)>268435456){let i=!0;if(yield r.alertService.message("Warning","\n                    You are about to export a large amount of data. This may consume a lot of memory and can crash the browser.\n                    Are you sure you want to continue?\n                ",{Continue:()=>i=!1},"Cancel"),i)return}yield r.storageCardService.saveCards(t)})()}handleFilesFromDrop(t){if(0!==t.length){if(t.length>1)return void this.alertService.errorMessage("Drop a single file system image in order to import it as a new memory card.");this.handleCardImport(t[0])}}importCardImage(){this.fileService.openFile(this.handleCardImport)}createNewCardImage(){var t=this;return(0,V.Z)(function*(){const r=yield t.modalController.create({component:Tq,backdropDismiss:!1,componentProps:{onCancel:()=>r.dismiss(),onCreate:(n=(0,V.Z)(function*(o,i,s){yield t.storageCardService.createEmptyCard(o,i,s),yield r.dismiss()}),function(i,s,a){return n.apply(this,arguments)})}});var n;yield r.present()})()}disambiguateName(t){const r=this.storageCardService.getAllCards();return zd(t,n=>r.some(o=>o.name===n))}}function qq(e,t){1&e&&Ve(0,"ion-icon",8)}function Yq(e,t){1&e&&Ve(0,"ion-icon",9)}function Kq(e,t){1&e&&Ve(0,"ion-icon",10)}function Xq(e,t){if(1&e){const r=On();H(0,"ion-item",2),Ne("click",function(){const i=Rt(r).index;return Pt(ft(2).onSelect(i))}),ad(1,3),Qt(2,qq,1,0,"ion-icon",4)(3,Yq,1,0,"ion-icon",5)(4,Kq,1,0,"ion-icon",6),ld(),H(5,"div",7),Ce(6),F()()}if(2&e){const r=t.$implicit,n=t.index,o=ft(2);Se("detail",!1)("lines",n===o.entries.length-1?"none":"full"),me(1),Se("ngSwitch",o.entries.length),me(1),Se("ngSwitchCase",n+1),me(1),Se("ngSwitchCase",n+2),me(3),Ai(r)}}function Qq(e,t){if(1&e&&(H(0,"ion-list"),Qt(1,Xq,7,6,"ion-item",1),F()),2&e){const r=ft();me(1),Se("ngForOf",r.entries)}}(th=ml).\u0275fac=function(t){return new(t||th)(_(zp),_(Zd),_(cs),_(Ta),_(uo),_(lu),_(xc),_(Js),_(S_),_($l),_(jl),_(dt))},th.\u0275cmp=Ze({type:th,selectors:[["app-subpage-cards"]],inputs:{onMountForBrowse:"onMountForBrowse",selfReference:"selfReference"},decls:12,vars:8,consts:[[4,"ngIf"],[3,"contextmenu"],["collapse","condense"],["size","large",4,"ngIf"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["size","large"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],[3,"card","touched","selecting","selectedForExport","delete","selectCard","edit","check","interaction","save",4,"ngFor","ngForOf","ngForTrackBy"],[3,"card","touched","selecting","selectedForExport","delete","selectCard","edit","check","interaction","save"]],template:function(t,r){1&t&&(H(0,"ion-header"),Qt(1,Nq,10,0,"ion-toolbar",0)(2,Vq,8,5,"ion-toolbar",0),F(),H(3,"ion-content",1),Ne("contextmenu",function(o){return r.onContextMenu(o)}),H(4,"ion-header",2)(5,"ion-toolbar"),Qt(6,jq,2,0,"ion-title",3)(7,Gq,2,0,"ion-title",3)(8,Uq,2,0,"ion-title",3),F()(),Qt(9,Hq,2,0,"div",4)(10,zq,3,0,"div",5)(11,Zq,2,2,"ion-list",0),F()),2&t&&(me(1),Se("ngIf","manage"===r.mode),me(1),Se("ngIf","manage"!==r.mode),me(4),Se("ngIf","manage"===r.mode),me(1),Se("ngIf","select-for-export"===r.mode),me(1),Se("ngIf","select-for-delete"===r.mode),me(1),Se("ngIf",r.storageCardService.isLoading()),me(1),Se("ngIf",!r.storageCardService.isLoading()&&0===r.cards.length),me(1),Se("ngIf",!r.storageCardService.isLoading()&&r.cards.length>0))},dependencies:[dc,Po,Fi,Li,$i,Bi,zo,ks,jp,ji,Gi,E_,Oq],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}),ne([qn()],ml.prototype,"addCardImage",null),ne([qn()],ml.prototype,"browseCard",null),ne([qn()],ml.prototype,"editCard",null),ne([qn()],ml.prototype,"saveCard",null),ne([qn()],ml.prototype,"checkCard",null),ne([qn()],ml.prototype,"deleteCard",null),ne([qn()],ml.prototype,"onSelectionDone",null),ne([qn()],ml.prototype,"openActionMenu",null);let Jq=(()=>{var e;class t{constructor(){this.onSelect=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-context-menu-breadcrumb"]],inputs:{entries:"entries"},decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"detail","lines","click"],[3,"ngSwitch"],["name","list-outline","slot","end",4,"ngSwitchCase"],["name","file-tray-outline","slot","end",4,"ngSwitchCase"],["name","folder-outline","slot","end",4,"ngSwitchDefault"],[1,"text-wrapper"],["name","list-outline","slot","end"],["name","file-tray-outline","slot","end"],["name","folder-outline","slot","end"]],template:function(n,o){1&n&&Qt(0,Qq,2,1,"ion-list",0),2&n&&Se("ngIf",o.entries)},dependencies:[dc,Po,mg,Kx,Xx,zo,Co,ks],styles:[".text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:calc(var(--cp-breadcrumb-menu-width) - 30px)}.ios[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{max-width:calc(var(--cp-breadcrumb-menu-width) - 70px)}"]}),t})(),eY=(()=>{var e;class t{constructor(n){this.vfsService=n,this.onStartSelection=()=>{},this.onAddFiles=()=>{},this.onCreateDirectry=()=>{},this.onExtractZipfile=()=>{},this.onPaste=()=>{},this.onHelp=()=>{},this.emptyDirectory=!1}}return(e=t).\u0275fac=function(n){return new(n||e)(_(pu))},e.\u0275cmp=Ze({type:e,selectors:[["app-context-menu-directory"]],inputs:{onStartSelection:"onStartSelection",onAddFiles:"onAddFiles",onCreateDirectry:"onCreateDirectry",onExtractZipfile:"onExtractZipfile",onPaste:"onPaste",onHelp:"onHelp",emptyDirectory:"emptyDirectory"},decls:19,vars:8,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","checkmark-circle-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","document-outline","slot","end"],["name","folder-outline","slot","end"],["name","download-outline","slot","end"],["name","clipboard-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(n,o){1&n&&(H(0,"ion-list")(1,"ion-item",0),Ne("click",function(){return o.onStartSelection()}),Ve(2,"ion-icon",1),Ce(3," Start selection "),F(),H(4,"ion-item",2),Ne("click",function(){return o.onAddFiles()}),Ve(5,"ion-icon",3),Ce(6," Add files "),F(),H(7,"ion-item",2),Ne("click",function(){return o.onCreateDirectry()}),Ve(8,"ion-icon",4),Ce(9," Add directory "),F(),H(10,"ion-item",2),Ne("click",function(){return o.onExtractZipfile()}),Ve(11,"ion-icon",5),Ce(12," Extract zip "),F(),H(13,"ion-item",0),Ne("click",function(){return o.onPaste()}),Ve(14,"ion-icon",6),Ce(15," Paste "),F(),H(16,"ion-item",7),Ne("click",function(){return o.onHelp()}),Ve(17,"ion-icon",8),Ce(18," Help "),F()()),2&n&&(me(1),Se("detail",!1)("disabled",o.emptyDirectory),me(3),Se("detail",!1),me(3),Se("detail",!1),me(3),Se("detail",!1),me(3),Se("detail",!1)("disabled",!o.vfsService.isClipboardPopulated()),me(3),Se("detail",!1))},dependencies:[zo,Co,ks]}),t})();var nh;class I_{constructor(t,r){this.modalController=t,this.vfsService=r,this.validateNameUnique=n=>this.entry&&this.vfsService.readdir(this.vfsService.dirname(this.entry.path)).some(o=>o.name.toLocaleLowerCase()===n.value.toLocaleLowerCase()&&o.name.toLocaleLowerCase()!==this.entry?.name?.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=n=>this.vfsService.isFilenameValid(n.value)?null:{name:"invalid file name"},this.onSave=()=>{},this.formGroup=new Cc({name:new ls("",{nonNullable:!0,validators:[Ap.required,this.validateNameUnique,this.validateNameValid]}),attrReadonly:new ls(!1,{nonNullable:!0}),attrHidden:new ls(!1,{nonNullable:!0}),attrSystem:new ls(!1,{nonNullable:!0})})}ngOnInit(){this.entry&&(this.formGroup.controls.name.setValue(this.entry.name),this.formGroup.controls.attrHidden.setValue(this.entry.attributes.hidden),this.formGroup.controls.attrReadonly.setValue(this.entry.attributes.readonly),this.formGroup.controls.attrSystem.setValue(this.entry.attributes.system))}get subjectName(){return this.entry?.isDirectory?"Directory":"File"}onSaveClick(){var t=this;return(0,V.Z)(function*(){yield t.save()})()}onCancelClick(){this.modalController.dismiss()}onEnter(){var t=this;return(0,V.Z)(function*(){yield t.save()})()}save(){var t=this;return(0,V.Z)(function*(){t.entry&&t.formGroup.valid&&(yield t.vfsService.updateFileEntry(t.entry.path,{name:t.formGroup.controls.name.value??"",attributes:{hidden:!!t.formGroup.controls.attrHidden.value,readonly:!!t.formGroup.controls.attrReadonly.value,system:!!t.formGroup.controls.attrSystem.value}}),t.onSave(),t.modalController.dismiss())})()}}(nh=I_).\u0275fac=function(t){return new(t||nh)(_(cs),_(pu))},nh.\u0275cmp=Ze({type:nh,selectors:[["app-edit-file-dialog"]],inputs:{entry:"entry"},decls:34,vars:5,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["formControlName","name",3,"placeholder"],["name","lock-closed-outline","size","small"],["formControlName","attrReadonly"],["name","eye-off-outline","size","small"],["formControlName","attrHidden"],["name","cog-outline","size","small"],["formControlName","attrSystem"]],template:function(t,r){1&t&&(H(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3),F(),H(4,"ion-buttons",0)(5,"ion-button",1),Ne("click",function(){return r.onSaveClick()}),Ce(6,"Save"),F()(),H(7,"ion-buttons",2)(8,"ion-button",3),Ne("click",function(){return r.onCancelClick()}),Ce(9,"Cancel"),F()()()(),H(10,"ion-content",4)(11,"form",5),Ne("keydown.enter",function(){return r.onEnter()}),H(12,"ion-item",6)(13,"ion-label",7),Ce(14),F(),Ve(15,"ion-input",8),F(),H(16,"ion-item",6)(17,"h2"),Ce(18,"Attributes"),F()(),H(19,"ion-item",6)(20,"ion-label"),Ve(21,"ion-icon",9),Ce(22,"Readonly"),F(),Ve(23,"ion-checkbox",10),F(),H(24,"ion-item",6)(25,"ion-label"),Ve(26,"ion-icon",11),Ce(27,"Hidden"),F(),Ve(28,"ion-checkbox",12),F(),H(29,"ion-item",6)(30,"ion-label"),Ve(31,"ion-icon",13),Ce(32,"System"),F(),Ve(33,"ion-checkbox",14),F()()()),2&t&&(me(3),ui("Edit ",r.subjectName.toLowerCase(),""),me(2),Se("disabled",r.formGroup.invalid),me(6),Se("formGroup",r.formGroup),me(3),ui("",r.subjectName," name"),me(1),jm("placeholder","Enter ",r.subjectName.toLowerCase()," name"))},dependencies:[Fi,Li,Ak,$i,Bi,zo,Ll,Co,Vi,ji,Gi,Ld,Fl,Nl,Pl,Ol,xa,cl],styles:["ion-icon[_ngcontent-%COMP%]{margin-right:1em;position:relative;top:2px}"]}),ne([qn()],I_.prototype,"onSaveClick",null),ne([qn()],I_.prototype,"onEnter",null);let tY=(()=>{var e;class t{constructor(n,o){this.el=n,this.zone=o;const i=n.nativeElement.querySelector("input");i?i.focus():this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}ngOnDestroy(){this.observer?.disconnect()}update(){const n=this.el.nativeElement.querySelector("input");n&&(setTimeout(()=>n.focus(),100),this.observer?.disconnect())}}return(e=t).\u0275fac=function(n){return new(n||e)(_(tt),_(Ge))},e.\u0275dir=Lt({type:e,selectors:[["","appAutofocus",""]]}),t})(),nY=(()=>{var e;class t{constructor(n,o){this.vfsService=n,this.modalController=o,this.validateNameUnique=i=>this.parentPath&&this.vfsService.readdir(this.parentPath).some(s=>s.name.toLocaleLowerCase()===i.value.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=i=>this.vfsService.isFilenameValid(i.value)?null:{name:"invalid file name"},this.onCreate=()=>{},this.formGroup=new Cc({name:new ls("",{nonNullable:!0,validators:[Ap.required,this.validateNameUnique,this.validateNameValid]})})}onCreateClick(){this.createDir()}onEnter(){this.createDir()}onCancelClick(){this.modalController.dismiss()}createDir(){this.formGroup.controls.name.valid&&(this.onCreate(this.formGroup.controls.name.value),this.modalController.dismiss())}}return(e=t).\u0275fac=function(n){return new(n||e)(_(pu),_(cs))},e.\u0275cmp=Ze({type:e,selectors:[["app-new-directory-dialog"]],inputs:{parentPath:"parentPath",onCreate:"onCreate"},decls:16,vars:2,consts:[["slot","primary"],["tabindex","-1",3,"disabled","click"],["slot","secondary"],["tabindex","-1",3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter directory name","formControlName","name","appAutofocus","","tabindex","1"]],template:function(n,o){1&n&&(H(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3,"Create directory"),F(),H(4,"ion-buttons",0)(5,"ion-button",1),Ne("click",function(){return o.onCreateClick()}),Ce(6,"Create"),F()(),H(7,"ion-buttons",2)(8,"ion-button",3),Ne("click",function(){return o.onCancelClick()}),Ce(9,"Cancel"),F()()()(),H(10,"ion-content",4)(11,"form",5),Ne("keydown.enter",function(){return o.onEnter()}),H(12,"ion-item",6)(13,"ion-label",7),Ce(14,"Directory name"),F(),Ve(15,"ion-input",8),F()()()),2&n&&(me(5),Se("disabled",o.formGroup.invalid),me(6),Se("formGroup",o.formGroup))},dependencies:[Fi,Li,$i,Bi,Ll,Co,Vi,ji,Gi,Fl,Nl,Pl,Ol,xa,cl,tY]}),t})();function qR(e){let t,r,n=!1;return o=>((!n||o!==t)&&(t=o,n=!0,r=e(o)),r)}const rY=C.p+"assets/doc/card-browser-5a0261814255810d.md";let oY=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCopy=()=>{},this.onCut=()=>{},this.onDelete=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-context-menu-file-entry"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCopy:"onCopy",onCut:"onCut",onDelete:"onDelete"},decls:16,vars:5,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","copy-outline","slot","end"],["name","cut-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(n,o){1&n&&(H(0,"ion-list")(1,"ion-item",0),Ne("click",function(){return o.onEdit()}),Ve(2,"ion-icon",1),Ce(3," Edit "),F(),H(4,"ion-item",0),Ne("click",function(){return o.onSave()}),Ve(5,"ion-icon",2),Ce(6," Save "),F(),H(7,"ion-item",0),Ne("click",function(){return o.onCopy()}),Ve(8,"ion-icon",3),Ce(9," Copy "),F(),H(10,"ion-item",0),Ne("click",function(){return o.onCut()}),Ve(11,"ion-icon",4),Ce(12," Cut "),F(),H(13,"ion-item",5),Ne("click",function(){return o.onDelete()}),Ve(14,"ion-icon",6),Ce(15," Delete "),F()()),2&n&&(me(1),Se("detail",!1),me(3),Se("detail",!1),me(3),Se("detail",!1),me(3),Se("detail",!1),me(3),Se("detail",!1))},dependencies:[zo,Co,ks]}),t})(),YR=(()=>{var e;class t{transform(n){return void 0===n?"":n<1024?`${n} bytes`:n<1048576?`${(n/1024).toFixed(1)} kB`:`${(n/1024/1024).toFixed(1)} MB`}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275pipe=Ko({name:"fileSize",type:e,pure:!0}),t})();const iY=["slidingItem"];function sY(e,t){1&e&&Ve(0,"ion-icon",24)}function aY(e,t){1&e&&Ve(0,"ion-icon",25)}function lY(e,t){1&e&&Ve(0,"ion-icon",26)}function cY(e,t){1&e&&Ve(0,"ion-icon",27)}function uY(e,t){1&e&&Ve(0,"ion-icon",28)}function dY(e,t){1&e&&Ve(0,"ion-icon",29)}function fY(e,t){1&e&&Ve(0,"ion-icon",30)}function pY(e,t){1&e&&Ve(0,"ion-icon",31)}function hY(e,t){1&e&&Ve(0,"ion-icon",32)}function mY(e,t){if(1&e&&(ad(0),Ce(1),el(2,"fileSize"),ld()),2&e){const r=ft();me(1),ui(" - ",tl(2,1,null==r.entry?null:r.entry.size)," ")}}let gY=(()=>{var e;class t{constructor(n,o,i){this.actionSheetController=n,this.popoverController=o,this.vfsService=i,this.touched=!1,this.selecting=!1,this.selected=!1,this.interaction=new on,this.selectEntry=new on,this.editEntry=new on,this.copyEntry=new on,this.cutEntry=new on,this.deleteEntry=new on,this.saveEntry=new on,this.isIOS=!!document.querySelector("html.ios")}ngOnChanges(n){n.selecting&&n.selecting.currentValue&&!n.selecting.previousValue&&this.slidingItem?.close()}onContextmenu(n){var o=this;return(0,V.Z)(function*(){o.selecting||(n.stopPropagation(),n.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:oY,event:n,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.editEntry.emit(o.entry),onSave:()=>o.saveEntry.emit(o.entry),onCopy:()=>o.copyEntry.emit(o.entry),onCut:()=>o.cutEntry.emit(o.entry),onDelete:()=>o.deleteEntry.emit(o.entry)},reference:"event"})).present())})()}get color(){if(!this.selecting&&this.touched||this.selecting&&this.selected)return"light"}get markedForCut(){return!!this.entry&&"cut"===this.vfsService.isEntryInClipboard(this.entry)}get markedForCopy(){return!!this.entry&&"copy"===this.vfsService.isEntryInClipboard(this.entry)}cutOrCopyEntry(){var n=this;return(0,V.Z)(function*(){const o=n.entry?.isDirectory?"directory":"file";(yield n.actionSheetController.create({header:"Do you want to cut or copy?",buttons:[{text:`Copy ${o}`,handler:()=>n.copyEntry.emit(n.entry)},{text:`Cut ${o}`,handler:()=>n.cutEntry.emit(n.entry)},{text:"Cancel"}]})).present()})()}get safetyMargin(){let n=0;return this.entry?.attributes.readonly&&(n+=1.7),this.entry?.attributes.hidden&&(n+=1.7),this.entry?.attributes.system&&(n+=1.7),(this.markedForCopy||this.markedForCut)&&(n+=1.7),0===n?"0":(n+=this.selecting?this.isIOS?1.25:1:this.entry?.isDirectory?2:3.5,n+"em")}}return(e=t).\u0275fac=function(n){return new(n||e)(_(zp),_($l),_(pu))},e.\u0275cmp=Ze({type:e,selectors:[["app-file-entry"]],viewQuery:function(n,o){if(1&n&&ac(iY,5),2&n){let i;Ts(i=Ms())&&(o.slidingItem=i.first)}},inputs:{entry:"entry",touched:"touched",selecting:"selecting",selected:"selected"},outputs:{interaction:"interaction",selectEntry:"selectEntry",editEntry:"editEntry",copyEntry:"copyEntry",cutEntry:"cutEntry",deleteEntry:"deleteEntry",saveEntry:"saveEntry"},features:[vi],decls:29,vars:23,consts:[[3,"disabled","contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","copy-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","detail","click"],["name","folder-outline","slot","start",4,"ngIf"],["name","document-outline","slot","start",4,"ngIf"],["slot","end",1,"attribute-icon-container"],["class","attribute-icon","name","lock-closed-outline","size","small",4,"ngIf"],["class","attribute-icon","name","eye-off-outline","size","small",4,"ngIf"],["class","attribute-icon","name","cog-outline","size","small",4,"ngIf"],["class","attribute-icon","name","clipboard-outline","size","small",4,"ngIf"],["class","attribute-icon","name","cut-outline","size","small",4,"ngIf"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],[4,"ngIf"],["name","folder-outline","slot","start"],["name","document-outline","slot","start"],["name","lock-closed-outline","size","small",1,"attribute-icon"],["name","eye-off-outline","size","small",1,"attribute-icon"],["name","cog-outline","size","small",1,"attribute-icon"],["name","clipboard-outline","size","small",1,"attribute-icon"],["name","cut-outline","size","small",1,"attribute-icon"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(n,o){if(1&n){const i=On();H(0,"ion-item-sliding",0,1),Ne("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit(o.entry)}),H(2,"ion-item-options",2)(3,"ion-item-option",3),Ne("click",function(){return Rt(i),xs(1).close(),Pt(o.editEntry.emit(o.entry))}),Ve(4,"ion-icon",4),F(),H(5,"ion-item-option",5),Ne("click",function(){return Rt(i),xs(1).close(),Pt(o.saveEntry.emit(o.entry))}),Ve(6,"ion-icon",6),F()(),H(7,"ion-item-options",7)(8,"ion-item-option",8),Ne("click",function(){return Rt(i),xs(1).close(),Pt(o.cutOrCopyEntry())}),Ve(9,"ion-icon",9),F(),H(10,"ion-item-option",10),Ne("click",function(){return Rt(i),xs(1).close(),Pt(o.deleteEntry.emit(o.entry))}),Ve(11,"ion-icon",11),F()(),H(12,"ion-item",12),Ne("click",function(){return o.selectEntry.emit(),o.interaction.emit()}),Qt(13,sY,1,0,"ion-icon",13)(14,aY,1,0,"ion-icon",14),H(15,"div",15),Qt(16,lY,1,0,"ion-icon",16)(17,cY,1,0,"ion-icon",17)(18,uY,1,0,"ion-icon",18)(19,dY,1,0,"ion-icon",19)(20,fY,1,0,"ion-icon",20),F(),Qt(21,pY,1,0,"ion-icon",21)(22,hY,1,0,"ion-icon",22),H(23,"ion-label")(24,"h2"),Ce(25),F(),H(26,"p"),Ce(27),Qt(28,mY,3,3,"ng-container",23),F()()()()}2&n&&(Se("disabled",o.selecting),me(12),Gc("opacity",o.touched?1:.99999),qs("is-directory",null==o.entry?null:o.entry.isDirectory),Se("color",o.color)("detail",(null==o.entry?null:o.entry.isDirectory)&&!o.selecting),me(1),Se("ngIf",null==o.entry?null:o.entry.isDirectory),me(1),Se("ngIf",!(null!=o.entry&&o.entry.isDirectory)),me(2),Se("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.readonly),me(1),Se("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.hidden),me(1),Se("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.system),me(1),Se("ngIf",o.markedForCopy),me(1),Se("ngIf",o.markedForCut),me(1),Se("ngIf",o.selecting&&!o.selected),me(1),Se("ngIf",o.selecting&&o.selected),me(1),Gc("padding-right",o.safetyMargin),qs("selecting",o.selecting),me(2),Ai(null==o.entry?null:o.entry.name),me(2),ui(" ",null==o.entry?null:o.entry.lastModifiedLocalDate," "),me(1),Se("ngIf",!(null!=o.entry&&o.entry.isDirectory)))},dependencies:[Po,zo,Co,r_,o_,i_,Vi,YR],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white);position:relative}ion-icon.item-detail-icon[_ngcontent-%COMP%]{min-width:1em}ion-label[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 7em)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 8em)}.ios[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 6.5em)}.ios[_ngcontent-%COMP%]   ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 7.5em)}.attribute-icon-container[_ngcontent-%COMP%]{position:absolute;top:0;right:3.25em;display:flex;flex-direction:row;align-items:center;height:100%}.ios[_ngcontent-%COMP%]   .attribute-icon-container[_ngcontent-%COMP%]{right:3.5em}ion-icon.attribute-icon[_ngcontent-%COMP%]{color:var(--ion-color-step-600);margin-left:.7em!important}ion-icon.attribute-icon[name=lock-closed-outline][_ngcontent-%COMP%]{position:relative;top:-2px}.ios[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]{color:rgba(var(--ion-text-color-rgb, 0, 0, 0),.4);margin-left:0}.ios[_ngcontent-%COMP%]   .selection-icon[_ngcontent-%COMP%]{margin-left:.5em}"],changeDetection:0}),t})();var rh;function _Y(e,t){if(1&e){const r=On();H(0,"ion-toolbar")(1,"ion-title")(2,"app-breadcrumb",6),Ne("trigger",function(o){return Rt(r),Pt(ft().openBreadcrumbMenu(o))}),Ce(3),F()(),H(4,"ion-buttons",7),Ve(5,"ion-back-button"),F(),H(6,"ion-buttons",8)(7,"ion-button",9),Ne("click",function(o){return Rt(r),Pt(ft().openContextMenu(o,"trigger"))}),Ve(8,"ion-icon",10),F()()()}if(2&e){const r=ft();me(3),Ai(r.title)}}function vY(e,t){if(1&e){const r=On();H(0,"ion-buttons",12)(1,"ion-button",9),Ne("click",function(){return Rt(r),Pt(ft(2).onSelectAll())}),Ce(2,"Select all"),F()()}}function yY(e,t){if(1&e){const r=On();H(0,"ion-buttons",12)(1,"ion-button",9),Ne("click",function(){return Rt(r),Pt(ft(2).selection.clear())}),Ce(2,"Clear"),F()()}}function bY(e,t){if(1&e){const r=On();H(0,"ion-toolbar")(1,"ion-title"),Ce(2,"Selection"),F(),H(3,"ion-buttons",8)(4,"ion-button",9),Ne("click",function(){return Rt(r),Pt(ft().onSelectionDone())}),Ce(5),F()(),Qt(6,vY,3,0,"ion-buttons",11)(7,yY,3,0,"ion-buttons",11),F()}if(2&e){const r=ft();me(5),Ai(0===r.selection.size?"Cancel":"Done"),me(1),Se("ngIf",r.selection.size!==(null==r.entries?null:r.entries.length)),me(1),Se("ngIf",r.selection.size===(null==r.entries?null:r.entries.length))}}function CY(e,t){if(1&e&&(H(0,"div",13)(1,"div",14),Ce(2),F()()),2&e){const r=ft();me(2),ui("empty ",r.isRoot?"card":"directory","")}}function SY(e,t){if(1&e){const r=On();H(0,"app-file-entry",15),Ne("selectEntry",function(){const i=Rt(r).$implicit;return Pt(ft().onSelect(i))})("editEntry",function(){const i=Rt(r).$implicit;return Pt(ft().onEditEntry(i))})("saveEntry",function(){const i=Rt(r).$implicit;return Pt(ft().onSaveEntry(i))})("copyEntry",function(){const i=Rt(r).$implicit;return Pt(ft().onCopyEntry(i))})("cutEntry",function(){const i=Rt(r).$implicit;return Pt(ft().onCutEntry(i))})("deleteEntry",function(){const i=Rt(r).$implicit;return Pt(ft().onDeleteEntry(i))})("interaction",function(){const i=Rt(r).$implicit;return Pt(ft().lastEntryTouched=i.name)}),F()}if(2&e){const r=t.$implicit,n=ft();Se("entry",r)("selecting","select"===n.mode)("selected",n.selection.has(r.name))("touched",r.name===n.lastEntryTouched)}}function wY(e,t){if(1&e&&(H(0,"p"),Ce(1),el(2,"fileSize"),el(3,"fileSize"),F()),2&e){const r=ft(2);me(1),ep("",tl(2,2,r.bytesFree)," free, ",tl(3,4,r.bytesTotal)," total")}}function DY(e,t){if(1&e&&(H(0,"p"),Ce(1),el(2,"fileSize"),F()),2&e){const r=ft(2);me(1),Ny(" ",tl(2,3,r.bytesInFiles)," in ",r.fileCount," ",1===r.fileCount?"file":"files"," ")}}function EY(e,t){if(1&e&&(H(0,"ion-item",16)(1,"ion-label"),Qt(2,wY,4,6,"p",0)(3,DY,3,5,"p",0),F()()),2&e){const r=ft();me(2),Se("ngIf",r.isRoot),me(1),Se("ngIf",r.fileCount>0)}}function IY(e,t){return e.isDirectory&&!t.isDirectory?-1:!e.isDirectory&&t.isDirectory?1:e.name.localeCompare(t.name)}class ka{constructor(t,r,n,o,i,s,a,l){this.vfsService=t,this.popoverController=r,this.config=n,this.alertService=o,this.actionSheetController=i,this.modalController=s,this.fileService=a,this.cd=l,this.bytesInFilesMemoized=qR(c=>c?.reduce((f,h)=>f+(h.isDirectory?0:h.size),0)??0),this.fileCountMemoized=qR(c=>c?.filter(f=>!f.isDirectory)?.length??0),this.onNavigate=()=>{},this.onNavigateBreadcrumb=()=>{},this.lastEntryTouched=void 0,this.mode="browse",this.selection=new Set,this.checkEntries=Tc(l,void 0,()=>void 0!==this.path?t.readdir(this.path):void 0),this.checkBytesFree=Tc(l,void 0,()=>this.vfsService.getBytesFree())}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkEntries(),this.checkBytesFree()}handleDragDropEvent(t){this.fileService.openFromDrop(t,r=>this.vfsService.addFiles(r,this.path||""))}get title(){switch(this.path){case"/":return this.card?.name??"";case void 0:return"";default:{const t=this.vfsService.splitPath(this.path);return t[t.length-1]??""}}}get bytesFree(){return this.vfsService.getBytesFree()}get bytesTotal(){return this.vfsService.getBytesTotal()}get bytesInFiles(){return this.bytesInFilesMemoized(this.entries)}get isRoot(){return"/"===this.path}get fileCount(){return this.fileCountMemoized(this.entries)}get entries(){return void 0!==this.path?[...this.vfsService.readdir(this.path)].sort(IY):[]}trackEntryBy(t,r){return r.name}onSelect(t){"browse"===this.mode?t.isDirectory&&this.onNavigate(t.path):this.selection?.has(t.name)?this.selection.delete(t.name):this.selection.add(t.name)}onEditEntry(t){var r=this;return(0,V.Z)(function*(){yield(yield r.modalController.create({component:I_,backdropDismiss:!1,componentProps:{entry:t}})).present()})()}onSaveEntry(t){var r=this;return(0,V.Z)(function*(){r.path&&(t.isDirectory?yield r.vfsService.archiveFiles([t],r.path):yield r.vfsService.saveFile(t))})()}onCopyEntry(t){this.path&&this.vfsService.copyToClipboard(this.path,[t.name],"copy")}onCutEntry(t){this.path&&this.vfsService.copyToClipboard(this.path,[t.name],"cut")}onDeleteEntry(t){var r=this;return(0,V.Z)(function*(){t.isDirectory?yield r.vfsService.deleteRecursive([t]):yield r.vfsService.unlinkEntry(t)})()}onAddFiles(){this.fileService.openFiles(t=>this.vfsService.addFiles(t,this.path||"/"))}onCreateDirectory(){var t=this;return(0,V.Z)(function*(){yield(yield t.modalController.create({component:nY,backdropDismiss:!1,componentProps:{parentPath:t.path,onCreate:n=>t.vfsService.mkdir(`${t.path}/${n}`)}})).present()})()}onExtractZipfile(){this.fileService.openFile(this.extractZipArchive.bind(this))}onPaste(){var t=this;return(0,V.Z)(function*(){t.path&&(yield t.vfsService.paste(t.path))})()}onHelp(){var t=this;return(0,V.Z)(function*(){yield(yield t.modalController.create({component:uu,componentProps:{url:rY}})).present()})()}onStartSelection(){0!==this.entries?.length&&(this.selection.clear(),this.mode="select",this.cd.markForCheck())}onSelectionDone(){var t=this;return(0,V.Z)(function*(){if(!t.entries)return;const r=Array.from(t.selection),n=new Map(t.entries.map(a=>[a.name,a])),o=r.every(a=>!n.get(a)?.isDirectory),i=r.every(a=>n.get(a)?.isDirectory);let s=`${t.selection.size} items`;if(o&&(s=1===t.selection.size?"file":`${t.selection.size} files`),i&&(s=1===t.selection.size?"directory":`${t.selection.size} directories`),0!==t.selection.size){const a=yield t.actionSheetController.create({header:"What do you want to do?",buttons:[{text:`Copy ${s}`,handler:t.onCopySelection.bind(t)},{text:`Cut ${s}`,handler:t.onCutSelection.bind(t)},{text:`Save ${s} as zip`,handler:t.onSaveZip.bind(t)},{text:`Delete ${s}`,handler:t.onDeleteSelection.bind(t)},{text:"Cancel"}]});yield a.present(),yield a.onWillDismiss()}t.mode="browse",t.cd.markForCheck()})()}onSelectAll(){this.entries?.forEach(t=>this.selection.add(t.name))}onCopySelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"copy")}onCutSelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"cut")}onSaveZip(){var t=this;return(0,V.Z)(function*(){const r=t.materializeSelection();!r||!t.path||(yield t.vfsService.archiveFiles(r,t.path))})()}onDeleteSelection(){var t=this;return(0,V.Z)(function*(){const r=t.materializeSelection();!r||!t.path||(yield t.vfsService.deleteRecursive(r))})()}openBreadcrumbMenu(t){var r=this;return(0,V.Z)(function*(){if(!r.card||!r.path)return;const n=[..."/"===r.path?[]:[...r.vfsService.splitPath(r.path).reverse().slice(1),r.card.name],"Memory cards"];(yield r.popoverController.create({component:Jq,componentProps:{entries:n,onSelect:i=>r.onNavigateBreadcrumb(n.length-1-i)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===r.config.get("mode")?"center":"start",trigger:t,cssClass:"cp-breadcrumb-menu"})).present()})()}openContextMenu(t,r){var n=this;return(0,V.Z)(function*(){(yield n.popoverController.create({component:eY,componentProps:{emptyDirectory:0===n.entries?.length,onStartSelection:n.onStartSelection.bind(n),onAddFiles:n.onAddFiles.bind(n),onCreateDirectry:n.onCreateDirectory.bind(n),onExtractZipfile:n.onExtractZipfile.bind(n),onPaste:n.onPaste.bind(n),onHelp:n.onHelp.bind(n)},event:t,dismissOnSelect:!0,arrow:!1,reference:r})).present()})()}onContextMenu(t){"select"!==this.mode&&(t.preventDefault(),this.openContextMenu(t,"event"))}ionViewDidLeave(){this.mode="browse",this.cd.markForCheck()}materializeSelection(){if(!this.path)return;const t=new Map(this.vfsService.readdir(this.path).map(r=>[r.name,r]));return Array.from(this.selection).map(r=>t.get(r)).filter(r=>!!r)}extractZipArchive(t){var r=this;return(0,V.Z)(function*(){/\.zip$/.test(t.name)?r.vfsService.unpackArchive(yield t.getContent(),r.path||"/"):yield r.alertService.errorMessage("File does not have the correct extension. Only .zip files are supported")})()}}(rh=ka).\u0275fac=function(t){return new(t||rh)(_(pu),_($l),_(Fp),_(uo),_(zp),_(cs),_(xc),_(dt))},rh.\u0275cmp=Ze({type:rh,selectors:[["app-subpage-directory"]],inputs:{card:"card",path:"path",selfReference:"selfReference",onNavigate:"onNavigate",onNavigateBreadcrumb:"onNavigateBreadcrumb"},decls:9,vars:6,consts:[[4,"ngIf"],[3,"contextmenu"],[1,"container"],["class","placeholder-wrapper",4,"ngIf"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction",4,"ngFor","ngForOf","ngForTrackBy"],["class","metadata","lines","none",4,"ngIf"],[3,"trigger"],["slot","start"],["slot","primary"],[3,"click"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["slot","secondary"],[1,"placeholder-wrapper"],[1,"placeholder"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction"],["lines","none",1,"metadata"]],template:function(t,r){1&t&&(H(0,"ion-header"),Qt(1,_Y,9,1,"ion-toolbar",0)(2,bY,8,3,"ion-toolbar",0),F(),H(3,"ion-content",1),Ne("contextmenu",function(o){return r.onContextMenu(o)}),H(4,"div",2),Qt(5,CY,3,1,"div",3),H(6,"ion-list"),Qt(7,SY,1,4,"app-file-entry",4)(8,EY,4,2,"ion-item",5),F()()()),2&t&&(me(1),Se("ngIf","browse"===r.mode),me(1),Se("ngIf","select"===r.mode),me(3),Se("ngIf",0===(null==r.entries?null:r.entries.length)),me(2),Se("ngForOf",r.entries)("ngForTrackBy",r.trackEntryBy),me(1),Se("ngIf",r.isRoot||r.fileCount>0))},dependencies:[dc,Po,Fi,Li,$i,Bi,zo,Co,Vi,ks,ji,Gi,Pk,UR,gY,YR],styles:[".container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}.placeholder-wrapper[_ngcontent-%COMP%]{flex:1;width:100%;display:flex;align-items:center;justify-content:center}.placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}ion-list[_ngcontent-%COMP%]{background:none;flex:0}ion-item.metadata[_ngcontent-%COMP%]{text-align:center}"],changeDetection:0}),ne([qn()],ka.prototype,"onSaveEntry",null),ne([qn()],ka.prototype,"onDeleteEntry",null),ne([qn()],ka.prototype,"onCreateDirectory",null),ne([qn()],ka.prototype,"onPaste",null),ne([qn()],ka.prototype,"onHelp",null),ne([qn()],ka.prototype,"onSelectionDone",null),ne([qn()],ka.prototype,"onSaveZip",null),ne([qn()],ka.prototype,"onDeleteSelection",null);const xY=["nav"];let TY=(()=>{var e;class t{constructor(n,o){this.vfsService=n,this.dragDropService=o,this.navRootProps={onMountForBrowse:i=>this.browseCard(i),selfReference:{}},this.onNavigate=i=>{this.currentlyBrowsingCard&&this.nav?.push(ka,{card:this.currentlyBrowsingCard,path:i,onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})},this.onNavigateBreadcrumb=i=>{this.currentlyBrowsingCard&&this.nav?.popTo(i,{animated:this.animateNav})},this.navRoot=ml,this.isVisible=!1}ngOnInit(){this.vfsService.onReleaseCard.addHandler(this.onReleaseCard.bind(this))}ionViewDidLeave(){var n=this;return(0,V.Z)(function*(){(yield n.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidLeave?.()})()}ionViewDidEnter(){this.isVisible=!0,this.dragDropService.registerClient(this)}ionViewWillLeave(){this.isVisible=!1,this.dragDropService.unregisterClient(this)}handleDragDropEvent(n){var o=this;return(0,V.Z)(function*(){yield(yield o.nav?.getActive())?.params?.selfReference?.ref?.handleDragDropEvent?.(n)})()}get animateNav(){return!c7}browseCard(n){this.currentlyBrowsingCard=n,this.nav?.push(ka,{card:n,path:"/",onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})}onReleaseCard(n){n!==this.currentlyBrowsingCard?.id||!this.nav||(this.isVisible||(this.nav.animated=!1),this.nav.popToRoot(void 0,()=>this.nav&&(this.nav.animated=this.animateNav)))}}return(e=t).\u0275fac=function(n){return new(n||e)(_(pu),_(U0))},e.\u0275cmp=Ze({type:e,selectors:[["app-storage"]],viewQuery:function(n,o){if(1&n&&ac(xY,5),2&n){let i;Ts(i=Ms())&&(o.nav=i.first)}},decls:2,vars:3,consts:[[3,"animated","root","rootParams"],["nav",""]],template:function(n,o){1&n&&Ve(0,"ion-nav",0,1),2&n&&Se("animated",o.animateNav)("root",o.navRoot)("rootParams",o.navRootProps)},dependencies:[n0]}),t})();const MY=C.p+"assets/doc/sessions-868d7e6c0550348b.md";let AY=(()=>{var e;class t{constructor(){this.sessionCount=0}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-sessions-action-menu"]],inputs:{sessionCount:"sessionCount",onExport:"onExport",onDelete:"onDelete",onHelp:"onHelp"},decls:10,vars:5,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","share-outline","slot","end"],["name","trash-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(n,o){1&n&&(H(0,"ion-list")(1,"ion-item",0),Ne("click",function(){return null==o.onExport?null:o.onExport()}),Ve(2,"ion-icon",1),Ce(3," Export "),F(),H(4,"ion-item",0),Ne("click",function(){return null==o.onDelete?null:o.onDelete()}),Ve(5,"ion-icon",2),Ce(6," Delete "),F(),H(7,"ion-item",3),Ne("click",function(){return null==o.onHelp?null:o.onHelp()}),Ve(8,"ion-icon",4),Ce(9," Help "),F()()),2&n&&(me(1),Se("detail",!1)("disabled",0===o.sessionCount),me(3),Se("detail",!1)("disabled",0===o.sessionCount),me(3),Se("detail",!1))},dependencies:[zo,Co,ks]}),t})(),kY=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onDelete=()=>{},this.onReset=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-session-context-menu"]],inputs:{onEdit:"onEdit",onSave:"onSave",onDelete:"onDelete",onReset:"onReset"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(n,o){1&n&&(H(0,"ion-list")(1,"ion-item",0),Ne("click",function(){return o.onEdit()}),Ve(2,"ion-icon",1),Ce(3," Edit "),F(),H(4,"ion-item",0),Ne("click",function(){return o.onSave()}),Ve(5,"ion-icon",2),Ce(6," Export "),F(),H(7,"ion-item",0),Ne("click",function(){return o.onReset()}),Ve(8,"ion-icon",3),Ce(9," Reset "),F(),H(10,"ion-item",4),Ne("click",function(){return o.onDelete()}),Ve(11,"ion-icon",5),Ce(12," Delete "),F()()),2&n&&(me(1),Se("detail",!1),me(3),Se("detail",!1),me(3),Se("detail",!1),me(3),Se("detail",!1))},dependencies:[zo,Co,ks]}),t})();const PY=["slidingItem"];function OY(e,t){if(1&e&&(H(0,"span"),Ce(1),F()),2&e){const r=ft();me(1),ui(", OS ",r.decodeVersion(null==r.session?null:r.session.osVersion),"")}}function NY(e,t){1&e&&Ve(0,"ion-icon",16)}function FY(e,t){1&e&&Ve(0,"ion-icon",17)}let LY=(()=>{var e;class t{constructor(n){this.popoverController=n,this.selected=!1,this.touched=!1,this.selecting=!1,this.selectedForExport=!1,this.delete=new on,this.resetSession=new on,this.edit=new on,this.save=new on,this.selectItem=new on,this.interaction=new on}get device(){return this.session?gR(this.session.device):""}onContextmenu(n){var o=this;return(0,V.Z)(function*(){n.stopPropagation(),n.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:kY,event:n,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.edit.emit(),onSave:()=>o.save.emit(),onDelete:()=>o.delete.emit(),onReset:()=>o.resetSession.emit()},reference:"event"})).present()})()}decodeVersion(n){if(void 0===n)return"";const o=function RY(e){return{major:e>>>24&255,minor:e>>>20&15,fix:e>>>16&15,stage:e>>>12&15,build:4095&e}}(n);return`${o.major}.${o.minor}`}get color(){return this.selected?"primary":this.touched?"light":void 0}}return(e=t).\u0275fac=function(n){return new(n||e)(_($l))},e.\u0275cmp=Ze({type:e,selectors:[["app-session-item"]],viewQuery:function(n,o){if(1&n&&ac(PY,5),2&n){let i;Ts(i=Ms())&&(o.slidingItem=i.first)}},inputs:{session:"session",selected:"selected",touched:"touched",selecting:"selecting",selectedForExport:"selectedForExport"},outputs:{delete:"delete",resetSession:"resetSession",edit:"edit",save:"save",selectItem:"selectItem",interaction:"interaction"},decls:21,vars:12,consts:[[3,"disabled","contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","refresh-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],[4,"ngIf"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(n,o){if(1&n){const i=On();H(0,"ion-item-sliding",0,1),Ne("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit()}),H(2,"ion-item-options",2)(3,"ion-item-option",3),Ne("click",function(){return Rt(i),xs(1).close(),Pt(o.edit.emit(o.session))}),Ve(4,"ion-icon",4),F(),H(5,"ion-item-option",5),Ne("click",function(){return Rt(i),xs(1).close(),Pt(o.save.emit(o.session))}),Ve(6,"ion-icon",6),F()(),H(7,"ion-item-options",7)(8,"ion-item-option",8),Ne("click",function(){return Rt(i),xs(1).close(),Pt(o.resetSession.emit(o.session))}),Ve(9,"ion-icon",9),F(),H(10,"ion-item-option",10),Ne("click",function(){return Rt(i),xs(1).close(),Pt(o.delete.emit(o.session))}),Ve(11,"ion-icon",11),F()(),H(12,"ion-item",12),Ne("click",function(){return o.selectItem.emit()}),H(13,"ion-label")(14,"h2"),Ce(15),F(),H(16,"p"),Ce(17),Qt(18,OY,2,1,"span",13),F()(),Qt(19,NY,1,0,"ion-icon",14)(20,FY,1,0,"ion-icon",15),F()()}2&n&&(Se("disabled",o.selecting),me(12),Se("color",o.color),me(1),qs("in-item-color",o.selected)("selecting",o.selecting),me(2),Ai(null==o.session?null:o.session.name),me(2),ep("",o.device,", ",null==o.session?null:o.session.ram,"MB RAM"),me(1),Se("ngIf",null==o.session?null:o.session.osVersion),me(1),Se("ngIf",o.selecting&&!o.selectedForExport),me(1),Se("ngIf",o.selecting&&o.selectedForExport))},dependencies:[Po,zo,Co,r_,o_,i_,Vi],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 4.5em)}"],changeDetection:0}),t})();var oh;function $Y(e,t){if(1&e){const r=On();H(0,"ion-toolbar")(1,"ion-title"),Ce(2,"Sessions"),F(),H(3,"ion-buttons",6)(4,"ion-button",7),Ne("click",function(){return Rt(r),Pt(ft().importSession())}),Ve(5,"ion-icon",8),F()(),H(6,"ion-buttons",9)(7,"ion-button",7),Ne("click",function(o){return Rt(r),Pt(ft().openActionMenu(o))}),Ve(8,"ion-icon",10),F(),Ve(9,"app-pwa-prompt"),F()()}}function BY(e,t){1&e&&(H(0,"ion-title"),Ce(1,"Export"),F())}function VY(e,t){1&e&&(H(0,"ion-title"),Ce(1,"Delete"),F())}function jY(e,t){if(1&e){const r=On();H(0,"ion-buttons",9)(1,"ion-button",7),Ne("click",function(){return Rt(r),Pt(ft(2).onSelectAll())}),Ce(2,"Select all"),F()()}}function GY(e,t){if(1&e){const r=On();H(0,"ion-buttons",9)(1,"ion-button",7),Ne("click",function(){return Rt(r),Pt(ft(2).selection.clear())}),Ce(2,"Clear"),F()()}}function UY(e,t){if(1&e){const r=On();H(0,"ion-toolbar"),Qt(1,BY,2,0,"ion-title",0)(2,VY,2,0,"ion-title",0),H(3,"ion-buttons",6)(4,"ion-button",7),Ne("click",function(){return Rt(r),Pt(ft().onSelectionDone())}),Ce(5),F()(),Qt(6,jY,3,0,"ion-buttons",11)(7,GY,3,0,"ion-buttons",11),F()}if(2&e){const r=ft();me(1),Se("ngIf","select-for-export"===r.mode),me(1),Se("ngIf","select-for-delete"===r.mode),me(3),Ai(0===r.selection.size?"Cancel":"select-for-export"===r.mode?"Export":"Delete"),me(1),Se("ngIf",r.selection.size!==r.sessionCount),me(1),Se("ngIf",r.selection.size===r.sessionCount)}}function HY(e,t){1&e&&(H(0,"ion-title",12),Ce(1,"Sessions"),F())}function zY(e,t){1&e&&(H(0,"ion-title",12),Ce(1,"Select for export"),F())}function WY(e,t){1&e&&(H(0,"ion-title",12),Ce(1,"Select for delete"),F())}function ZY(e,t){1&e&&(H(0,"div",13),Ve(1,"ion-spinner"),F())}function qY(e,t){1&e&&(H(0,"div",14)(1,"div",15),Ce(2," No sessions. Select the \u201e+\u201c icon in the upper right corner in order to import a ROM file or a session image. "),Ve(3,"br")(4,"br"),Ce(5," You can find a collection of compatible ROMs on "),H(6,"a",16),Ce(7,"PalmDB"),F(),Ce(8,". "),F()())}function YY(e,t){if(1&e){const r=On();H(0,"app-session-item",18),Ne("delete",function(){const i=Rt(r).$implicit;return Pt(ft(2).deleteSession(i))})("selectItem",function(){const i=Rt(r).$implicit,s=ft(2);return Pt("manage"===s.mode?s.launchSession(i):s.toggleSelection(i))})("edit",function(){const i=Rt(r).$implicit;return Pt(ft(2).editSession(i))})("save",function(){const i=Rt(r).$implicit;return Pt(ft(2).saveSession(i))})("resetSession",function(){const i=Rt(r).$implicit;return Pt(ft(2).resetSession(i))})("interaction",function(){const i=Rt(r).$implicit;return Pt(ft(2).lastSessionTouched=i.id)}),F()}if(2&e){const r=t.$implicit,n=ft(2);Se("session",r)("selected",n.currentSessionId===r.id)("touched",r.id===n.lastSessionTouched)("selecting","manage"!==n.mode)("selectedForExport",n.selection.has(r.id))}}function KY(e,t){if(1&e&&(H(0,"ion-list"),Qt(1,YY,1,5,"app-session-item",17),F()),2&e){const r=ft();me(1),Se("ngForOf",r.sessions)("ngForTrackBy",r.trackSessionBy)}}class Gl{constructor(t,r,n,o,i,s,a,l,c,f,h,g,b,j){this.sessionService=t,this.fileService=r,this.alertService=n,this.emulationService=o,this.emulationState=i,this.storageService=s,this.modalController=a,this.linkApi=l,this.router=c,this.cloudpilotService=f,this.dragDropService=h,this.popoverController=g,this.loadingController=b,this.cd=j,this.handleLinkApiImportRequest=()=>{if(!this.linkApi.import.hasPendingRequest())return;const ee=this.linkApi.import.receivePendingUrl();ee&&this.alertService.message("Import request",`Do you want to import<br>${ee} ?`,{OK:()=>this.fileService.openUrl(ee,this.processFile.bind(this))},"Cancel")},this.lastSessionTouched=-1,this.mode="manage",this.selection=new Set,this.checkSessions=Tc(j,[],()=>this.sessionService.getSessions()),this.checkCurrentSessionId=Tc(j,void 0,()=>this.emulationState.getCurrentSession()?.id),this.checkLoading=Tc(j,!0,()=>this.sessionService.isLoading())}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkSessions(),this.checkCurrentSessionId(),this.checkLoading()}ionViewDidEnter_(){this.linkApi.import.requestEvent.addHandler(this.handleLinkApiImportRequest),this.handleLinkApiImportRequest(),this.dragDropService.registerClient(this)}ionViewWillLeave(){this.dragDropService.unregisterClient(this),this.linkApi.import.requestEvent.removeHandler(this.handleLinkApiImportRequest)}ionViewDidLeave(){this.mode="manage",this.cd.detectChanges()}get sessions(){return this.sessionService.getSessions().sort((t,r)=>t.name.localeCompare(r.name))}get sessionCount(){return this.sessionService.getSessions().length}deleteSession(t){var r=this;return(0,V.Z)(function*(){let n=!0;if(yield r.alertService.message("Warning",`Deleting the session '${t.name}' will remove all associated data. This cannot be undone. Are you sure you want to continue?`,{Delete:()=>n=!1},"Cancel"),n)return;const o=yield r.loadingController.create({message:"Deleting..."});yield o.present();try{yield r.sessionService.deleteSession(t)}finally{o.dismiss()}})()}editSession(t){var r=this;return(0,V.Z)(function*(){const n={...t};(yield r.editSettings(t))&&!RR()(t,n)&&(yield r.sessionService.updateSession(t))})()}importSession(){this.fileService.openFile(this.processFile.bind(this))}saveSession(t){return this.sessionService.saveSession(t)}trackSessionBy(t,r){return r.id}launchSession(t){var r=this;return(0,V.Z)(function*(){r.lastSessionTouched=t.id,r.currentSessionOverride=t.id,r.cd.markForCheck();const n=yield r.emulationService.switchSession(t.id);r.currentSessionOverride=void 0,r.cd.markForCheck(),n&&r.router.navigateByUrl("/tab/emulation")})()}resetSession(t){var r=this;return(0,V.Z)(function*(){const n=t.id===r.emulationState.getCurrentSession()?.id;n&&(yield r.emulationService.stop()),yield r.storageService.deleteStateForSession(t),yield r.storageService.updateSessionPartial(t.id,{wasResetForcefully:!0}),n&&(yield r.emulationService.switchSession(t.id)),yield r.alertService.message("Done",`Session ${t.name} has been reset.`)})()}get currentSessionId(){return this.currentSessionOverride??this.emulationState.getCurrentSession()?.id}showHelp(){var t=this;return(0,V.Z)(function*(){yield(yield t.modalController.create({component:uu,componentProps:{url:MY}})).present()})()}handleDragDropEvent(t){this.fileService.openFromDrop(t,this.handleDropFiles.bind(this))}startMassExport(){this.selection.clear(),this.mode="select-for-export"}startMassDelete(){this.selection.clear(),this.mode="select-for-delete"}onSelectionDone(){var t=this;return(0,V.Z)(function*(){const r=new Map(t.sessionService.getSessions().map(i=>[i.id,i])),n=Array.from(t.selection).map(i=>r.get(i)).filter(i=>void 0!==i),o=t.mode;switch(t.mode="manage",o){case"select-for-delete":yield t.executeMassDelete(n);break;case"select-for-export":yield t.executeMassExport(n)}})()}onSelectAll(){this.sessionService.getSessions().forEach(t=>this.selection.add(t.id))}toggleSelection(t){this.selection.has(t.id)?this.selection.delete(t.id):this.selection.add(t.id)}openActionMenu(t,r="trigger"){var n=this;return(0,V.Z)(function*(){const o=yield n.popoverController.create({component:AY,event:t,componentProps:{sessionCount:n.sessionCount,onExport:()=>{o.dismiss(),n.startMassExport(),n.cd.markForCheck()},onDelete:()=>{o.dismiss(),n.startMassDelete(),n.cd.markForCheck()},onHelp:()=>{o.dismiss(),n.showHelp()}},arrow:!1,translucent:!0,reference:r});o.present()})()}onContextMenu(t){"manage"===this.mode&&(t.preventDefault(),this.openActionMenu(t,"event"))}executeMassExport(t){var r=this;return(0,V.Z)(function*(){1===t.length&&(yield r.sessionService.saveSession(t[0])),t.length>1&&(yield r.sessionService.saveSessions(t))})()}executeMassDelete(t){var r=this;return(0,V.Z)(function*(){if(1===t.length&&(yield r.deleteSession(t[0])),t.length>1){let n=!0;if(yield r.alertService.message("Warning",`\n                    You are about to delete ${t.length} sessions, which will destroy all data associated with these sessions.\n                    This cannot be undone. Are you sure you want to continue?`,{Delete:()=>n=!1},"Cancel"),n)return;const o=yield r.loadingController.create({message:"Deleting..."});yield o.present();try{for(const i of t)yield r.sessionService.deleteSession(i)}finally{o.dismiss()}}})()}handleDropFiles(t){if(0!==t.length){if(t.length>1)return void this.alertService.errorMessage("Drop a single ROM or session image in order to create a new session, or drop a zip archive with sessions to import.");this.processFile(t[0])}}processFile(t){var r=this;return(0,V.Z)(function*(){if(!/\.(img|rom|bin|zip)$/i.test(t.name))return void r.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .img, .rom. and .zip");let n;try{n=yield t.getContent()}catch(i){return console.warn(i),void(yield r.alertService.errorMessage(`Unable to open ${t.name}.`))}if(t.name.endsWith(".zip")){let i=!1;return yield r.alertService.message("Mass import","\n                    CloudpilotEmu will attempt to import all sessions in the selected zip archive.\n                    Importing large archives (several 100MB) requires a lot of memory and may crash the browser if the archive is too large.\n                    Are you sure you want to continue?\n                ",{Continue:()=>i=!0},"Cancel"),void(i&&(yield r.sessionService.addSessionsFromArchive(n)))}const o=(yield r.cloudpilotService.cloudpilot).deserializeSessionImage(n);if(o){const i={name:r.disambiguateSessionName(o.metadata?.name??t.name),hotsyncName:o.metadata?.hotsyncName,device:o.deviceId,dontManageHotsyncName:o.metadata?.dontManageHotsyncName,speed:o.metadata?.speed,deviceOrientation:o.metadata?.deviceOrientation};if(yield r.editSettings(i)){const s=yield r.sessionService.addSessionFromImage(o,i.name,i);r.lastSessionTouched=s.id}}else{const i=(yield r.cloudpilotService.cloudpilot).getRomInfo(n);if(!i)return void r.alertService.errorMessage("Not a valid session file or ROM image.");if(0===i.supportedDevices.length)return void r.alertService.errorMessage("No supported device for this ROM.");const s={name:r.disambiguateSessionName(t.name),hotsyncName:"",device:i.supportedDevices[0]};if(yield r.editSettings(s,i.supportedDevices)){const a=yield r.sessionService.addSessionFromRom(n,s.name,s.device,s);r.lastSessionTouched=a.id}}})()}editSettings(t,r=[t.device]){return new Promise(n=>{let o;this.modalController.create({component:BR,backdropDismiss:!1,componentProps:{session:t,availableDevices:r,onSave:()=>{o.dismiss(),n(!0)},onCancel:()=>{o.dismiss(),n(!1)}}}).then(i=>{o=i,o.present()})})}disambiguateSessionName(t){const r=this.sessionService.getSessions();return zd(t,n=>r.some(o=>o.name===n))}}(oh=Gl).\u0275fac=function(t){return new(t||oh)(_(jl),_(xc),_(uo),_(Ma),_(Bl),_(sr),_(cs),_(Hb),_(Uo),_(Ta),_(U0),_($l),_(Js),_(dt))},oh.\u0275cmp=Ze({type:oh,selectors:[["app-sessions"]],inputs:{selfReference:"selfReference"},decls:12,vars:8,consts:[[4,"ngIf"],[3,"contextmenu"],["collapse","condense"],["size","large",4,"ngIf"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["size","large"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],["href","https://palmdb.net/app/palm-roms-complete","target","_blank","rel","external"],[3,"session","selected","touched","selecting","selectedForExport","delete","selectItem","edit","save","resetSession","interaction",4,"ngFor","ngForOf","ngForTrackBy"],[3,"session","selected","touched","selecting","selectedForExport","delete","selectItem","edit","save","resetSession","interaction"]],template:function(t,r){1&t&&(H(0,"ion-header"),Qt(1,$Y,10,0,"ion-toolbar",0)(2,UY,8,5,"ion-toolbar",0),F(),H(3,"ion-content",1),Ne("contextmenu",function(o){return r.onContextMenu(o)}),H(4,"ion-header",2)(5,"ion-toolbar"),Qt(6,HY,2,0,"ion-title",3)(7,zY,2,0,"ion-title",3)(8,WY,2,0,"ion-title",3),F()(),Qt(9,ZY,2,0,"div",4)(10,qY,9,0,"div",5)(11,KY,2,2,"ion-list",0),F()),2&t&&(me(1),Se("ngIf","manage"===r.mode),me(1),Se("ngIf","manage"!==r.mode),me(4),Se("ngIf","manage"===r.mode),me(1),Se("ngIf","select-for-export"===r.mode),me(1),Se("ngIf","select-for-delete"===r.mode),me(1),Se("ngIf",r.sessionService.isLoading()),me(1),Se("ngIf",!r.sessionService.isLoading()&&0===r.sessionCount),me(1),Se("ngIf",!r.sessionService.isLoading()&&r.sessionCount>0))},dependencies:[dc,Po,Fi,Li,$i,Bi,zo,ks,jp,ji,Gi,E_,LY],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}),ne([qn()],Gl.prototype,"deleteSession",null),ne([qn()],Gl.prototype,"editSession",null),ne([qn()],Gl.prototype,"saveSession",null),ne([qn()],Gl.prototype,"launchSession",null),ne([qn()],Gl.prototype,"resetSession",null),ne([qn()],Gl.prototype,"onSelectionDone",null),ne([qn()],Gl.prototype,"openActionMenu",null);const XY=["nav"],QY=()=>({}),JY=e=>({selfReference:e}),eK=[{path:"tab",component:V0,children:[{path:"emulation",component:Aa},{path:"sessions",component:(()=>{var e;class t{constructor(){this.navRoot=Gl}ionViewDidLeave(){var n=this;return(0,V.Z)(function*(){(yield n.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidLeave?.()})()}ionViewWillLeave(){var n=this;return(0,V.Z)(function*(){(yield n.nav?.getActive())?.params?.selfReference?.ref?.ionViewWillLeave?.()})()}ionViewDidEnter(){var n=this;return(0,V.Z)(function*(){(yield n.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidEnter_?.()})()}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-sessions-wrapper"]],viewQuery:function(n,o){if(1&n&&ac(XY,5),2&n){let i;Ts(i=Ms())&&(o.nav=i.first)}},decls:2,vars:6,consts:[[3,"animated","root","rootParams"],["nav",""]],template:function(n,o){1&n&&Ve(0,"ion-nav",0,1),2&n&&Se("animated",!1)("root",o.navRoot)("rootParams",function yI(e,t,r,n){return bI(He(),Ti(),e,t,r,n)}(4,JY,function vI(e,t,r){const n=Ti()+e,o=He();return o[n]===yn?Xa(o,n,r?t.call(r):t()):function Lf(e,t){return e[t]}(o,n)}(3,QY)))},dependencies:[n0],encapsulation:2}),t})()},{path:"storage",component:TY},{path:"settings",component:Dq},{path:"about",component:DZ},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}]},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}];let tK=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=lt({imports:[jg.forChild(eK),jg]}),t})(),nK=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=lt({imports:[Sc,rl,ou,tK,gZ,_Z,vZ,yZ,mZ]}),t})(),rK=(()=>{var e;class t extends Nx{pushState(n,o,i,s){this.replaceState(n,o,i,s)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=Yr(e)))(o||e)}})(),e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();const oK=[{path:"install",component:FR,canActivate:[LR]},{path:"import",component:FR,canActivate:[LR]},{path:"",component:V0}];let iK=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=io({type:e}),e.\u0275inj=lt({providers:[{provide:nl,useClass:rK}],imports:[jg.forRoot(oK,{preloadingStrategy:z6,useHash:!0}),nK,jg]}),t})();const KR=["touch","click","keydown"];let sK=(()=>{var e;class t{constructor(n,o){this.kvsService=n,this.audioService=o,this.initialize()}initialize(){var n=this;return(0,V.Z)(function*(){if(yield n.kvsService.initialize(),!n.kvsService.kvs.enableAudioOnFirstInteraction)return;const o=()=>{KR.forEach(i=>window.removeEventListener(i,o,!0)),n.audioService.initialize()};KR.forEach(i=>window.addEventListener(i,o,!0))})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(Si),ce(G0))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const aK=()=>{const e=new su;return e.link=(t,r,n)=>`<a href="${t}" target="_blank" rel="external">${n||t}</a>`,{renderer:e,gfm:!0,breaks:!1,pedantic:!1}};let lK=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f){}}return(e=t).\u0275fac=function(n){return new(n||e)(ce(sr),ce(Ma),ce(G0),ce(jl),ce(Si),ce(NR),ce(sK),ce($0))},e.\u0275mod=io({type:e,bootstrap:[nZ]}),e.\u0275inj=lt({providers:[{provide:ZM,useClass:a8},{provide:ip,multi:!0,useFactory:r=>r.initialize.bind(r),deps:[Si]}],imports:[NG,Sc.forRoot({...WR()?{actionSheetEnter:gq,loadingEnter:_q,alertEnter:vq}:{},innerHTMLTemplatesEnabled:!0}),iK,f0.forRoot({loader:Zb,markedOptions:{provide:qk,useFactory:aK}}),yU]}),t})();window.global=window,document.body.addEventListener("dblclick",e=>e.preventDefault()),function HG(){vg=ET("#/install?"),yg=ET("#/import?")}(),function _7(){return!!localStorage.getItem(p_)}()&&!IT()||function zG(){return void 0!==vg}()?location.replace(`${location.origin}${location.pathname}#/tab/emulation`):location.replace(`${location.origin}${location.pathname}#/tab/sessions`),window.addEventListener("orientationchange",()=>setTimeout(()=>{document.body.style.height=window.innerHeight+"px"},100)),window.addEventListener("scroll",()=>window.scrollTo(0,0)),document.body.addEventListener("contextmenu",e=>e.preventDefault()),PG().bootstrapModule(lK).then(e=>true).catch(e=>console.log(e))},2227:ge=>{var C,De=(C=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(S={}){var Z,Y,u=S;u.ready=new Promise((d,y)=>{Z=d,Y=y});var ve,G=Object.assign({},u),E="./this.program",I=(d,y)=>{throw y},K="object"==typeof window,L="function"==typeof importScripts,P=("object"==typeof process&&"object"==typeof process.versions&&process,"");(K||L)&&(L?P=self.location.href:typeof document<"u"&&document.currentScript&&(P=document.currentScript.src),C&&(P=C),P=0!==P.indexOf("blob:")?P.substr(0,P.replace(/[?#].*/,"").lastIndexOf("/")+1):"",L&&(ve=d=>{var y=new XMLHttpRequest;return y.open("GET",d,!1),y.responseType="arraybuffer",y.send(null),new Uint8Array(y.response)}));var M,se=u.print||console.log.bind(console),z=u.printErr||console.error.bind(console);Object.assign(u,G),G=null,u.thisProgram&&(E=u.thisProgram),u.quit&&(I=u.quit),u.wasmBinary&&(M=u.wasmBinary),"object"!=typeof WebAssembly&&_e("no native wasm support detected");var J,ae,Re,O,D,X,he,le=!1;function xe(d,y){d||_e(y)}function Be(){var d=J.buffer;u.HEAP8=Re=new Int8Array(d),u.HEAP16=new Int16Array(d),u.HEAPU8=O=new Uint8Array(d),u.HEAPU16=new Uint16Array(d),u.HEAP32=D=new Int32Array(d),u.HEAPU32=X=new Uint32Array(d),u.HEAPF32=new Float32Array(d),u.HEAPF64=he=new Float64Array(d)}var ht=[],Gt=[],Fe=[],ze=[],St=0,Ut=null,jt=null;function _e(d){u.onAbort&&u.onAbort(d),z(d="Aborted("+d+")"),le=!0,ae=1,d+=". Build with -sASSERTIONS for more info.";var y=new WebAssembly.RuntimeError(d);throw Y(y),y}var Nt,vt=d=>d.startsWith("data:application/octet-stream;base64,");function dn(d){if(d==Nt&&M)return new Uint8Array(M);if(ve)return ve(d);throw"both async and sync fetching of the wasm failed"}function pn(d,y,q){return function rn(d){return M||!K&&!L||"function"!=typeof fetch?Promise.resolve().then(()=>dn(d)):fetch(d,{credentials:"same-origin"}).then(y=>{if(!y.ok)throw"failed to load wasm binary file at '"+d+"'";return y.arrayBuffer()}).catch(()=>dn(d))}(d).then(ke=>WebAssembly.instantiate(ke,y)).then(ke=>ke).then(q,ke=>{z(`failed to asynchronously prepare wasm: ${ke}`),_e(ke)})}vt(Nt="cloudpilot_web.wasm")||(Nt=function T(d){return u.locateFile?u.locateFile(d,P):P+d}(Nt));var Yn,Zo={1472504:d=>{ct.grow(65536);for(let y=0;y<=65535;y++)ct.set(ct.length-65535-1+y,ct.get(X[(d>>>2)+y]));return ct.length-65535-1}};function Do(d){this.name="ExitStatus",this.message=`Program terminated with exit(${d})`,this.status=d}var Nn=d=>{for(;d.length>0;)d.shift()(u)},Br=u.noExitRuntime||!0,Hr=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,ro=(d,y,q)=>{for(var ke=y+q,It=y;d[It]&&!(It>=ke);)++It;if(It-y>16&&d.buffer&&Hr)return Hr.decode(d.subarray(y,It));for(var tn="";y<It;){var ut=d[y++];if(128&ut){var vn=63&d[y++];if(192!=(224&ut)){var dr=63&d[y++];if((ut=224==(240&ut)?(15&ut)<<12|vn<<6|dr:(7&ut)<<18|vn<<12|dr<<6|63&d[y++])<65536)tn+=String.fromCharCode(ut);else{var Gr=ut-65536;tn+=String.fromCharCode(55296|Gr>>10,56320|1023&Gr)}}else tn+=String.fromCharCode((31&ut)<<6|vn)}else tn+=String.fromCharCode(ut)}return tn},Kn=(d,y)=>d?ro(O,d,y):"",pe=(d,y)=>y+2097152>>>0<4194305-!!d?(d>>>0)+4294967296*y:NaN,Cn=d=>d%4==0&&(d%100!=0||d%400==0),sn=[0,31,60,91,121,152,182,213,244,274,305,335],fo=[0,31,59,90,120,151,181,212,243,273,304,334],or=d=>(Cn(d.getFullYear())?sn:fo)[d.getMonth()]+d.getDate()-1,Eo=d=>{for(var y=0,q=0;q<d.length;++q){var ke=d.charCodeAt(q);ke<=127?y++:ke<=2047?y+=2:ke>=55296&&ke<=57343?(y+=4,++q):y+=3}return y},oo=(d,y,q,ke)=>{if(!(ke>0))return 0;for(var It=q,tn=q+ke-1,ut=0;ut<d.length;++ut){var vn=d.charCodeAt(ut);if(vn>=55296&&vn<=57343&&(vn=65536+((1023&vn)<<10)|1023&d.charCodeAt(++ut)),vn<=127){if(q>=tn)break;y[q++]=vn}else if(vn<=2047){if(q+1>=tn)break;y[q++]=192|vn>>6,y[q++]=128|63&vn}else if(vn<=65535){if(q+2>=tn)break;y[q++]=224|vn>>12,y[q++]=128|vn>>6&63,y[q++]=128|63&vn}else{if(q+3>=tn)break;y[q++]=240|vn>>18,y[q++]=128|vn>>12&63,y[q++]=128|vn>>6&63,y[q++]=128|63&vn}}return y[q]=0,q-It},No=d=>{var y=Eo(d)+1,q=At(y);return q&&((d,y,q)=>{oo(d,O,y,q)})(d,q,y),q},br=[],hi=d=>{var q=(d-J.buffer.byteLength+65535)/65536;try{return J.grow(q),Be(),1}catch{}},Di={},Io=()=>{if(!Io.strings){var y={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:E||"./this.program"};for(var q in Di)void 0===Di[q]?delete y[q]:y[q]=Di[q];var ke=[];for(var q in y)ke.push(`${q}=${y[q]}`);Io.strings=ke}return Io.strings},ta=[null,[],[]],Ei=(d,y)=>{var q=ta[d];0===y||10===y?((1===d?se:z)(ro(q,0)),q.length=0):q.push(y)},Zi=[31,29,31,30,31,30,31,31,30,31,30,31],zr=[31,28,31,30,31,30,31,31,30,31,30,31];function ni(d,y,q){var ke=q>0?q:Eo(d)+1,It=new Array(ke),tn=oo(d,It,0,It.length);return y&&(It.length=tn),It}var ct,$,_n,us=(d,y)=>{ae=d,(d=>{ae=d,Br||(u.onExit&&u.onExit(d),le=!0),I(d,new Do(d))})(d)},nt=(d,y)=>{d<128?y.push(d):y.push(d%128|128,d>>7)},ps=[],m=d=>{var y=ps[d];return y||(d>=ps.length&&(ps.length=d+1),ps[d]=y=ct.get(d)),y},Me=[],Ke=(d,y)=>{ct.set(d,y),ps[d]=ct.get(d)},et={b:(d,y,q,ke)=>{_e(`Assertion failed: ${Kn(d)}, at: `+[y?Kn(y):"unknown filename",q,ke?Kn(ke):"unknown function"])},i:function wo(d){const y=new Error(Kn(d));throw y.isAssert=!0,y},m:function be(d,y,q){pe(y,q)},h:()=>1,j:function Dr(d,y,q){var ke=pe(d,y),It=new Date(1e3*ke);D[q>>2]=It.getSeconds(),D[q+4>>2]=It.getMinutes(),D[q+8>>2]=It.getHours(),D[q+12>>2]=It.getDate(),D[q+16>>2]=It.getMonth(),D[q+20>>2]=It.getFullYear()-1900,D[q+24>>2]=It.getDay();var tn=0|or(It);D[q+28>>2]=tn,D[q+36>>2]=-60*It.getTimezoneOffset();var ut=new Date(It.getFullYear(),0,1),vn=new Date(It.getFullYear(),6,1).getTimezoneOffset(),dr=ut.getTimezoneOffset(),Gr=0|(vn!=dr&&It.getTimezoneOffset()==Math.min(dr,vn));D[q+32>>2]=Gr},k:function(d){var y=(()=>{var q=new Date(D[d+20>>2]+1900,D[d+16>>2],D[d+12>>2],D[d+8>>2],D[d+4>>2],D[d>>2],0),ke=D[d+32>>2],It=q.getTimezoneOffset(),tn=new Date(q.getFullYear(),0,1),ut=new Date(q.getFullYear(),6,1).getTimezoneOffset(),vn=tn.getTimezoneOffset(),dr=Math.min(vn,ut);if(ke<0)D[d+32>>2]=+(ut!=vn&&dr==It);else if(ke>0!=(dr==It)){var Gr=Math.max(vn,ut),_a=ke>0?dr:Gr;q.setTime(q.getTime()+6e4*(_a-It))}D[d+24>>2]=q.getDay();var ys=0|or(q);D[d+28>>2]=ys,D[d>>2]=q.getSeconds(),D[d+4>>2]=q.getMinutes(),D[d+8>>2]=q.getHours(),D[d+12>>2]=q.getDate(),D[d+16>>2]=q.getMonth(),D[d+20>>2]=q.getYear();var Vn=q.getTime();return isNaN(Vn)?(D[Ze()>>2]=61,-1):Vn/1e3})();return Dh((Yn=y,+Math.abs(Yn)>=1?Yn>0?+Math.floor(Yn/4294967296)>>>0:~~+Math.ceil((Yn-+(~~Yn>>>0))/4294967296)>>>0:0)),y>>>0},r:(d,y,q)=>{var ke=(new Date).getFullYear(),It=new Date(ke,0,1),tn=new Date(ke,6,1),ut=It.getTimezoneOffset(),vn=tn.getTimezoneOffset(),dr=Math.max(ut,vn);function Gr(yo){var lo=yo.toTimeString().match(/\(([A-Za-z ]+)\)$/);return lo?lo[1]:"GMT"}X[d>>2]=60*dr,D[y>>2]=+(ut!=vn);var _a=Gr(It),ys=Gr(tn),Vn=No(_a),Ws=No(ys);vn<ut?(X[q>>2]=Vn,X[q+4>>2]=Ws):(X[q>>2]=Ws,X[q+4>>2]=Vn)},a:()=>{_e("")},s:(d,y,q)=>((d,y,q)=>{var ke=((d,y)=>{br.length=0;for(var q;q=O[d++];){var ke=105!=q;y+=(ke&=112!=q)&&y%8?4:0,br.push(112==q?X[y>>2]:105==q?D[y>>2]:he[y>>3]),y+=ke?8:4}return br})(y,q);return Zo[d].apply(null,ke)})(d,y,q),c:()=>Date.now(),d:(d,y,q)=>O.copyWithin(d,y,y+q),q:d=>{var dr,y=O.length,q=2147483648;if((d>>>=0)>q)return!1;for(var It=1;It<=4;It*=2){var tn=y*(1+.2/It);tn=Math.min(tn,d+100663296);var ut=Math.min(q,(dr=Math.max(d,tn))+(65536-dr%65536)%65536);if(hi(ut))return!0}return!1},o:(d,y)=>{var q=0;return Io().forEach((ke,It)=>{var tn=y+q;X[d+4*It>>2]=tn,((d,y)=>{for(var q=0;q<d.length;++q)Re[y++>>0]=d.charCodeAt(q);Re[y>>0]=0})(ke,tn),q+=ke.length+1}),0},p:(d,y)=>{var q=Io();X[d>>2]=q.length;var ke=0;return q.forEach(It=>ke+=It.length+1),X[y>>2]=ke,0},e:d=>52,g:(d,y,q,ke)=>52,l:function Wi(d,y,q,ke,It){return pe(y,q),70},f:(d,y,q,ke)=>{for(var It=0,tn=0;tn<q;tn++){var ut=X[y>>2],vn=X[y+4>>2];y+=8;for(var dr=0;dr<vn;dr++)Ei(d,O[ut+dr]);It+=vn}return X[ke>>2]=It,0},n:(d,y,q,ke,It)=>((d,y,q,ke)=>{var It=X[ke+40>>2],tn={tm_sec:D[ke>>2],tm_min:D[ke+4>>2],tm_hour:D[ke+8>>2],tm_mday:D[ke+12>>2],tm_mon:D[ke+16>>2],tm_year:D[ke+20>>2],tm_wday:D[ke+24>>2],tm_yday:D[ke+28>>2],tm_isdst:D[ke+32>>2],tm_gmtoff:D[ke+36>>2],tm_zone:It?Kn(It):""},ut=Kn(q),vn={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var dr in vn)ut=ut.replace(new RegExp(dr,"g"),vn[dr]);var Gr=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],_a=["January","February","March","April","May","June","July","August","September","October","November","December"];function ys(_t,Xt,gi){for(var _i="number"==typeof _t?_t.toString():_t||"";_i.length<Xt;)_i=gi[0]+_i;return _i}function Vn(_t,Xt){return ys(_t,Xt,"0")}function Ws(_t,Xt){function gi(yu){return yu<0?-1:yu>0?1:0}var _i;return 0===(_i=gi(_t.getFullYear()-Xt.getFullYear()))&&0===(_i=gi(_t.getMonth()-Xt.getMonth()))&&(_i=gi(_t.getDate()-Xt.getDate())),_i}function yo(_t){switch(_t.getDay()){case 0:return new Date(_t.getFullYear()-1,11,29);case 1:return _t;case 2:return new Date(_t.getFullYear(),0,3);case 3:return new Date(_t.getFullYear(),0,2);case 4:return new Date(_t.getFullYear(),0,1);case 5:return new Date(_t.getFullYear()-1,11,31);case 6:return new Date(_t.getFullYear()-1,11,30)}}function lo(_t){var Xt=((d,y)=>{for(var q=new Date(d.getTime());y>0;){var ke=Cn(q.getFullYear()),It=q.getMonth(),tn=(ke?Zi:zr)[It];if(!(y>tn-q.getDate()))return q.setDate(q.getDate()+y),q;y-=tn-q.getDate()+1,q.setDate(1),It<11?q.setMonth(It+1):(q.setMonth(0),q.setFullYear(q.getFullYear()+1))}return q})(new Date(_t.tm_year+1900,0,1),_t.tm_yday),gi=new Date(Xt.getFullYear(),0,4),_i=new Date(Xt.getFullYear()+1,0,4),yu=yo(gi),lf=yo(_i);return Ws(yu,Xt)<=0?Ws(lf,Xt)<=0?Xt.getFullYear()+1:Xt.getFullYear():Xt.getFullYear()-1}var vu={"%a":_t=>Gr[_t.tm_wday].substring(0,3),"%A":_t=>Gr[_t.tm_wday],"%b":_t=>_a[_t.tm_mon].substring(0,3),"%B":_t=>_a[_t.tm_mon],"%C":_t=>Vn((_t.tm_year+1900)/100|0,2),"%d":_t=>Vn(_t.tm_mday,2),"%e":_t=>ys(_t.tm_mday,2," "),"%g":_t=>lo(_t).toString().substring(2),"%G":_t=>lo(_t),"%H":_t=>Vn(_t.tm_hour,2),"%I":_t=>{var Xt=_t.tm_hour;return 0==Xt?Xt=12:Xt>12&&(Xt-=12),Vn(Xt,2)},"%j":_t=>Vn(_t.tm_mday+((d,y)=>{for(var q=0,ke=0;ke<=y;q+=d[ke++]);return q})(Cn(_t.tm_year+1900)?Zi:zr,_t.tm_mon-1),3),"%m":_t=>Vn(_t.tm_mon+1,2),"%M":_t=>Vn(_t.tm_min,2),"%n":()=>"\n","%p":_t=>_t.tm_hour>=0&&_t.tm_hour<12?"AM":"PM","%S":_t=>Vn(_t.tm_sec,2),"%t":()=>"\t","%u":_t=>_t.tm_wday||7,"%U":_t=>Vn(Math.floor((_t.tm_yday+7-_t.tm_wday)/7),2),"%V":_t=>{var Xt=Math.floor((_t.tm_yday+7-(_t.tm_wday+6)%7)/7);if((_t.tm_wday+371-_t.tm_yday-2)%7<=2&&Xt++,Xt){if(53==Xt){var _i=(_t.tm_wday+371-_t.tm_yday)%7;4!=_i&&(3!=_i||!Cn(_t.tm_year))&&(Xt=1)}}else{Xt=52;var gi=(_t.tm_wday+7-_t.tm_yday-1)%7;(4==gi||5==gi&&Cn(_t.tm_year%400-1))&&Xt++}return Vn(Xt,2)},"%w":_t=>_t.tm_wday,"%W":_t=>Vn(Math.floor((_t.tm_yday+7-(_t.tm_wday+6)%7)/7),2),"%y":_t=>(_t.tm_year+1900).toString().substring(2),"%Y":_t=>_t.tm_year+1900,"%z":_t=>{var Xt=_t.tm_gmtoff;return(Xt>=0?"+":"-")+("0000"+(Xt=(Xt=Math.abs(Xt)/60)/60*100+Xt%60)).slice(-4)},"%Z":_t=>_t.tm_zone,"%%":()=>"%"};for(var dr in ut=ut.replace(/%%/g,"\0\0"),vu)ut.includes(dr)&&(ut=ut.replace(new RegExp(dr,"g"),vu[dr](tn)));var va=ni(ut=ut.replace(/\0\0/g,"%"),!1);return va.length>y?0:(((d,y)=>{Re.set(d,y)})(va,d),va.length-1)})(d,y,q,ke)},A=function vr(){var d={a:et};function y(ke,It){return J=(A=ke.exports).t,Be(),ct=A.yc,function at(d){Gt.unshift(d)}(A.u),function we(d){if(St--,u.monitorRunDependencies&&u.monitorRunDependencies(St),0==St&&(null!==Ut&&(clearInterval(Ut),Ut=null),jt)){var y=jt;jt=null,y()}}(),A}if(function Te(d){St++,u.monitorRunDependencies&&u.monitorRunDependencies(St)}(),u.instantiateWasm)try{return u.instantiateWasm(d,y)}catch(ke){z(`Module.instantiateWasm callback failed with error: ${ke}`),Y(ke)}return function en(d,y,q,ke){return d||"function"!=typeof WebAssembly.instantiateStreaming||vt(y)||"function"!=typeof fetch?pn(y,q,ke):fetch(y,{credentials:"same-origin"}).then(It=>WebAssembly.instantiateStreaming(It,q).then(ke,function(ut){return z(`wasm streaming compile failed: ${ut}`),z("falling back to ArrayBuffer instantiation"),pn(y,q,ke)}))}(M,Nt,d,function q(ke){y(ke.instance)}).catch(Y),{}}(),At=u._malloc=d=>(At=u._malloc=A.v)(d),Sn=(u._free=d=>(u._free=A.w)(d),u._main=(d,y)=>(Sn=u._main=A.x)(d,y)),Wr=(u._webidl_free=d=>(u._webidl_free=A.y)(d),u._webidl_malloc=d=>(u._webidl_malloc=A.z)(d),u._emscripten_bind_VoidPtr___destroy___0=d=>(Wr=u._emscripten_bind_VoidPtr___destroy___0=A.A)(d)),Jn=u._emscripten_bind_Cloudpilot_Cloudpilot_0=()=>(Jn=u._emscripten_bind_Cloudpilot_Cloudpilot_0=A.B)(),Xi=u._emscripten_bind_Cloudpilot_Malloc_1=(d,y)=>(Xi=u._emscripten_bind_Cloudpilot_Malloc_1=A.C)(d,y),jn=u._emscripten_bind_Cloudpilot_Free_1=(d,y)=>(jn=u._emscripten_bind_Cloudpilot_Free_1=A.D)(d,y),Lo=u._emscripten_bind_Cloudpilot_Nullptr_0=d=>(Lo=u._emscripten_bind_Cloudpilot_Nullptr_0=A.E)(d),xo=u._emscripten_bind_Cloudpilot_InitializeSession_3=(d,y,q,ke)=>(xo=u._emscripten_bind_Cloudpilot_InitializeSession_3=A.F)(d,y,q,ke),Qi=u._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=d=>(Qi=u._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=A.G)(d),Ra=u._emscripten_bind_Cloudpilot_RunEmulation_1=(d,y)=>(Ra=u._emscripten_bind_Cloudpilot_RunEmulation_1=A.H)(d,y),oa=u._emscripten_bind_Cloudpilot_SetClockFactor_1=(d,y)=>(oa=u._emscripten_bind_Cloudpilot_SetClockFactor_1=A.I)(d,y),$s=u._emscripten_bind_Cloudpilot_CopyFrame_0=d=>($s=u._emscripten_bind_Cloudpilot_CopyFrame_0=A.J)(d),ia=u._emscripten_bind_Cloudpilot_IsScreenDirty_0=d=>(ia=u._emscripten_bind_Cloudpilot_IsScreenDirty_0=A.K)(d),Ji=u._emscripten_bind_Cloudpilot_MarkScreenClean_0=d=>(Ji=u._emscripten_bind_Cloudpilot_MarkScreenClean_0=A.L)(d),Pa=u._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=(d,y)=>(Pa=u._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=A.M)(d,y),sa=u._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=(d,y)=>(sa=u._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=A.N)(d,y),aa=u._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=(d,y)=>(aa=u._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=A.O)(d,y),Oa=u._emscripten_bind_Cloudpilot_QueuePenMove_2=(d,y,q)=>(Oa=u._emscripten_bind_Cloudpilot_QueuePenMove_2=A.P)(d,y,q),Na=u._emscripten_bind_Cloudpilot_QueuePenUp_0=d=>(Na=u._emscripten_bind_Cloudpilot_QueuePenUp_0=A.Q)(d),Fa=u._emscripten_bind_Cloudpilot_QueueButtonDown_1=(d,y)=>(Fa=u._emscripten_bind_Cloudpilot_QueueButtonDown_1=A.R)(d,y),La=u._emscripten_bind_Cloudpilot_QueueButtonUp_1=(d,y)=>(La=u._emscripten_bind_Cloudpilot_QueueButtonUp_1=A.S)(d,y),la=u._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=(d,y,q)=>(la=u._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=A.T)(d,y,q),$a=u._emscripten_bind_Cloudpilot_IsPowerOff_0=d=>($a=u._emscripten_bind_Cloudpilot_IsPowerOff_0=A.U)(d),Ba=u._emscripten_bind_Cloudpilot_IsUIInitialized_0=d=>(Ba=u._emscripten_bind_Cloudpilot_IsUIInitialized_0=A.V)(d),Ir=u._emscripten_bind_Cloudpilot_GetOSVersion_0=d=>(Ir=u._emscripten_bind_Cloudpilot_GetOSVersion_0=A.W)(d),ca=u._emscripten_bind_Cloudpilot_IsSetupComplete_0=d=>(ca=u._emscripten_bind_Cloudpilot_IsSetupComplete_0=A.X)(d),po=u._emscripten_bind_Cloudpilot_Reset_0=d=>(po=u._emscripten_bind_Cloudpilot_Reset_0=A.Y)(d),Ht=u._emscripten_bind_Cloudpilot_ResetNoExtensions_0=d=>(Ht=u._emscripten_bind_Cloudpilot_ResetNoExtensions_0=A.Z)(d),ua=u._emscripten_bind_Cloudpilot_ResetHard_0=d=>(ua=u._emscripten_bind_Cloudpilot_ResetHard_0=A._)(d),Bs=u._emscripten_bind_Cloudpilot_InstallDb_2=(d,y,q)=>(Bs=u._emscripten_bind_Cloudpilot_InstallDb_2=A.$)(d,y,q),eo=u._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=d=>(eo=u._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=A.aa)(d),Vs=u._emscripten_bind_Cloudpilot_GetMemoryPtr_0=d=>(Vs=u._emscripten_bind_Cloudpilot_GetMemoryPtr_0=A.ba)(d),Va=u._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=d=>(Va=u._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=A.ca)(d),Gn=u._emscripten_bind_Cloudpilot_GetMemorySize_0=d=>(Gn=u._emscripten_bind_Cloudpilot_GetMemorySize_0=A.da)(d),hs=u._emscripten_bind_Cloudpilot_ImportMemoryImage_2=(d,y,q)=>(hs=u._emscripten_bind_Cloudpilot_ImportMemoryImage_2=A.ea)(d,y,q),xr=u._emscripten_bind_Cloudpilot_GetRomPtr_0=d=>(xr=u._emscripten_bind_Cloudpilot_GetRomPtr_0=A.fa)(d),js=u._emscripten_bind_Cloudpilot_GetRomSize_0=d=>(js=u._emscripten_bind_Cloudpilot_GetRomSize_0=A.ga)(d),gl=u._emscripten_bind_Cloudpilot_GetSavestatePtr_0=d=>(gl=u._emscripten_bind_Cloudpilot_GetSavestatePtr_0=A.ha)(d),ja=u._emscripten_bind_Cloudpilot_GetSavestateSize_0=d=>(ja=u._emscripten_bind_Cloudpilot_GetSavestateSize_0=A.ia)(d),Wn=u._emscripten_bind_Cloudpilot_SaveState_0=d=>(Wn=u._emscripten_bind_Cloudpilot_SaveState_0=A.ja)(d),Yt=u._emscripten_bind_Cloudpilot_LoadState_2=(d,y,q)=>(Yt=u._emscripten_bind_Cloudpilot_LoadState_2=A.ka)(d,y,q),ms=u._emscripten_bind_Cloudpilot_GetHotsyncName_0=d=>(ms=u._emscripten_bind_Cloudpilot_GetHotsyncName_0=A.la)(d),Gs=u._emscripten_bind_Cloudpilot_SetHotsyncName_1=(d,y)=>(Gs=u._emscripten_bind_Cloudpilot_SetHotsyncName_1=A.ma)(d,y),_l=u._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=(d,y)=>(_l=u._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=A.na)(d,y),da=u._emscripten_bind_Cloudpilot_StartBackup_0=d=>(da=u._emscripten_bind_Cloudpilot_StartBackup_0=A.oa)(d),Xe=u._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=(d,y)=>(Xe=u._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=A.pa)(d,y),es=u._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=d=>(es=u._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=A.qa)(d),gs=u._emscripten_bind_Cloudpilot_IsSuspended_0=d=>(gs=u._emscripten_bind_Cloudpilot_IsSuspended_0=A.ra)(d),ts=u._emscripten_bind_Cloudpilot_GetSuspendContext_0=d=>(ts=u._emscripten_bind_Cloudpilot_GetSuspendContext_0=A.sa)(d),fa=u._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=(d,y)=>(fa=u._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=A.ta)(d,y),pa=u._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=d=>(pa=u._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=A.ua)(d),ri=u._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=(d,y)=>(ri=u._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=A.va)(d,y),Cr=u._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=(d,y)=>(Cr=u._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=A.wa)(d,y),Yo=u._emscripten_bind_Cloudpilot_LaunchAppByName_1=(d,y)=>(Yo=u._emscripten_bind_Cloudpilot_LaunchAppByName_1=A.xa)(d,y),Bt=u._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=(d,y,q)=>(Bt=u._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=A.ya)(d,y,q),$n=u._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=(d,y)=>($n=u._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=A.za)(d,y),Ul=u._emscripten_bind_Cloudpilot_ClearExternalStorage_0=d=>(Ul=u._emscripten_bind_Cloudpilot_ClearExternalStorage_0=A.Aa)(d),vl=u._emscripten_bind_Cloudpilot_AllocateCard_2=(d,y,q)=>(vl=u._emscripten_bind_Cloudpilot_AllocateCard_2=A.Ba)(d,y,q),yl=u._emscripten_bind_Cloudpilot_AdoptCard_3=(d,y,q,ke)=>(yl=u._emscripten_bind_Cloudpilot_AdoptCard_3=A.Ca)(d,y,q,ke),Hl=u._emscripten_bind_Cloudpilot_MountCard_1=(d,y)=>(Hl=u._emscripten_bind_Cloudpilot_MountCard_1=A.Da)(d,y),Xn=u._emscripten_bind_Cloudpilot_RemoveCard_1=(d,y)=>(Xn=u._emscripten_bind_Cloudpilot_RemoveCard_1=A.Ea)(d,y),_s=u._emscripten_bind_Cloudpilot_GetCardData_1=(d,y)=>(_s=u._emscripten_bind_Cloudpilot_GetCardData_1=A.Fa)(d,y),Bn=u._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=(d,y)=>(Bn=u._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=A.Ga)(d,y),ho=u._emscripten_bind_Cloudpilot_GetCardSize_1=(d,y)=>(ho=u._emscripten_bind_Cloudpilot_GetCardSize_1=A.Ha)(d,y),mo=u._emscripten_bind_Cloudpilot_RemountCards_0=d=>(mo=u._emscripten_bind_Cloudpilot_RemountCards_0=A.Ia)(d),Zr=u._emscripten_bind_Cloudpilot_GetSupportLevel_1=(d,y)=>(Zr=u._emscripten_bind_Cloudpilot_GetSupportLevel_1=A.Ja)(d,y),Qn=u._emscripten_bind_Cloudpilot_GetMountedKey_0=d=>(Qn=u._emscripten_bind_Cloudpilot_GetMountedKey_0=A.Ka)(d),er=u._emscripten_bind_Cloudpilot___destroy___0=d=>(er=u._emscripten_bind_Cloudpilot___destroy___0=A.La)(d),Rr=u._emscripten_bind_RomInfo_RomInfo_2=(d,y)=>(Rr=u._emscripten_bind_RomInfo_RomInfo_2=A.Ma)(d,y),Tr=u._emscripten_bind_RomInfo_IsValid_0=d=>(Tr=u._emscripten_bind_RomInfo_IsValid_0=A.Na)(d),v=u._emscripten_bind_RomInfo_CardVersion_0=d=>(v=u._emscripten_bind_RomInfo_CardVersion_0=A.Oa)(d),U=u._emscripten_bind_RomInfo_CardName_0=d=>(U=u._emscripten_bind_RomInfo_CardName_0=A.Pa)(d),ie=u._emscripten_bind_RomInfo_RomVersion_0=d=>(ie=u._emscripten_bind_RomInfo_RomVersion_0=A.Qa)(d),Oe=u._emscripten_bind_RomInfo_RomVersionString_0=d=>(Oe=u._emscripten_bind_RomInfo_RomVersionString_0=A.Ra)(d),yt=u._emscripten_bind_RomInfo_Supports_1=(d,y)=>(yt=u._emscripten_bind_RomInfo_Supports_1=A.Sa)(d,y),qt=u._emscripten_bind_RomInfo___destroy___0=d=>(qt=u._emscripten_bind_RomInfo___destroy___0=A.Ta)(d),ot=u._emscripten_bind_Frame_GetLineWidth_0=d=>(ot=u._emscripten_bind_Frame_GetLineWidth_0=A.Ua)(d),hn=u._emscripten_bind_Frame_GetBpp_0=d=>(hn=u._emscripten_bind_Frame_GetBpp_0=A.Va)(d),ar=u._emscripten_bind_Frame_GetLines_0=d=>(ar=u._emscripten_bind_Frame_GetLines_0=A.Wa)(d),zt=u._emscripten_bind_Frame_GetMargin_0=d=>(zt=u._emscripten_bind_Frame_GetMargin_0=A.Xa)(d),Pr=u._emscripten_bind_Frame_GetBytesPerLine_0=d=>(Pr=u._emscripten_bind_Frame_GetBytesPerLine_0=A.Ya)(d),$e=u._emscripten_bind_Frame_GetFirstDirtyLine_0=d=>($e=u._emscripten_bind_Frame_GetFirstDirtyLine_0=A.Za)(d),wn=u._emscripten_bind_Frame_GetLastDirtyLine_0=d=>(wn=u._emscripten_bind_Frame_GetLastDirtyLine_0=A._a)(d),lt=u._emscripten_bind_Frame_GetHasChanges_0=d=>(lt=u._emscripten_bind_Frame_GetHasChanges_0=A.$a)(d),lr=u._emscripten_bind_Frame_GetBuffer_0=d=>(lr=u._emscripten_bind_Frame_GetBuffer_0=A.ab)(d),Zn=u._emscripten_bind_Frame_GetBufferSize_0=d=>(Zn=u._emscripten_bind_Frame_GetBufferSize_0=A.bb)(d),Or=u._emscripten_bind_Frame_GetScaleX_0=d=>(Or=u._emscripten_bind_Frame_GetScaleX_0=A.cb)(d),cr=u._emscripten_bind_Frame_GetScaleY_0=d=>(cr=u._emscripten_bind_Frame_GetScaleY_0=A.db)(d),We=u._emscripten_bind_Frame___destroy___0=d=>(We=u._emscripten_bind_Frame___destroy___0=A.eb)(d),p=u._emscripten_bind_DbBackup_Init_1=(d,y)=>(p=u._emscripten_bind_DbBackup_Init_1=A.fb)(d,y),x=u._emscripten_bind_DbBackup_IsInProgress_0=d=>(x=u._emscripten_bind_DbBackup_IsInProgress_0=A.gb)(d),oe=u._emscripten_bind_DbBackup_IsDone_0=d=>(oe=u._emscripten_bind_DbBackup_IsDone_0=A.hb)(d),Le=u._emscripten_bind_DbBackup_GetCurrentDatabase_0=d=>(Le=u._emscripten_bind_DbBackup_GetCurrentDatabase_0=A.ib)(d),Qe=u._emscripten_bind_DbBackup_Save_0=d=>(Qe=u._emscripten_bind_DbBackup_Save_0=A.jb)(d),gn=u._emscripten_bind_DbBackup_Skip_0=d=>(gn=u._emscripten_bind_DbBackup_Skip_0=A.kb)(d),an=u._emscripten_bind_DbBackup_GetArchivePtr_0=d=>(an=u._emscripten_bind_DbBackup_GetArchivePtr_0=A.lb)(d),Kt=u._emscripten_bind_DbBackup_GetArchiveSize_0=d=>(Kt=u._emscripten_bind_DbBackup_GetArchiveSize_0=A.mb)(d),ur=u._emscripten_bind_DbBackup___destroy___0=d=>(ur=u._emscripten_bind_DbBackup___destroy___0=A.nb)(d),$o=u._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=d=>($o=u._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=A.ob)(d),Un=u._emscripten_bind_SuspendContextClipboardCopy_Resume_0=d=>(Un=u._emscripten_bind_SuspendContextClipboardCopy_Resume_0=A.pb)(d),Ga=u._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=d=>(Ga=u._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=A.qb)(d),To=u._emscripten_bind_SuspendContextClipboardCopy___destroy___0=d=>(To=u._emscripten_bind_SuspendContextClipboardCopy___destroy___0=A.rb)(d),pt=u._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=d=>(pt=u._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=A.sb)(d),ha=u._emscripten_bind_SuspendContextClipboardPaste_Resume_1=(d,y)=>(ha=u._emscripten_bind_SuspendContextClipboardPaste_Resume_1=A.tb)(d,y),Us=u._emscripten_bind_SuspendContextClipboardPaste___destroy___0=d=>(Us=u._emscripten_bind_SuspendContextClipboardPaste___destroy___0=A.ub)(d),zl=u._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=d=>(zl=u._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=A.vb)(d),Ua=u._emscripten_bind_SuspendContextNetworkConnect_Resume_1=(d,y)=>(Ua=u._emscripten_bind_SuspendContextNetworkConnect_Resume_1=A.wb)(d,y),mt=u._emscripten_bind_SuspendContextNetworkConnect___destroy___0=d=>(mt=u._emscripten_bind_SuspendContextNetworkConnect___destroy___0=A.xb)(d),ln=u._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=d=>(ln=u._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=A.yb)(d),mi=u._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=d=>(mi=u._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=A.zb)(d),oi=u._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=d=>(oi=u._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=A.Ab)(d),Wl=u._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=(d,y,q)=>(Wl=u._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=A.Bb)(d,y,q),Yd=u._emscripten_bind_SuspendContextNetworkRpc___destroy___0=d=>(Yd=u._emscripten_bind_SuspendContextNetworkRpc___destroy___0=A.Cb)(d),T_=u._emscripten_bind_SuspendContext_GetKind_0=d=>(T_=u._emscripten_bind_SuspendContext_GetKind_0=A.Db)(d),Zl=u._emscripten_bind_SuspendContext_Cancel_0=d=>(Zl=u._emscripten_bind_SuspendContext_Cancel_0=A.Eb)(d),hu=u._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=d=>(hu=u._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=A.Fb)(d),Mc=u._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=d=>(Mc=u._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=A.Gb)(d),ih=u._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=d=>(ih=u._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=A.Hb)(d),sh=u._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=d=>(sh=u._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=A.Ib)(d),ah=u._emscripten_bind_SuspendContext___destroy___0=d=>(ah=u._emscripten_bind_SuspendContext___destroy___0=A.Jb)(d),Kd=u._emscripten_bind_SessionImage_SessionImage_0=()=>(Kd=u._emscripten_bind_SessionImage_SessionImage_0=A.Kb)(),bl=u._emscripten_bind_SessionImage_GetDeviceId_0=d=>(bl=u._emscripten_bind_SessionImage_GetDeviceId_0=A.Lb)(d),lh=u._emscripten_bind_SessionImage_SetDeviceId_1=(d,y)=>(lh=u._emscripten_bind_SessionImage_SetDeviceId_1=A.Mb)(d,y),ma=u._emscripten_bind_SessionImage_GetRomImage_0=d=>(ma=u._emscripten_bind_SessionImage_GetRomImage_0=A.Nb)(d),ch=u._emscripten_bind_SessionImage_GetRomImageSize_0=d=>(ch=u._emscripten_bind_SessionImage_GetRomImageSize_0=A.Ob)(d),ce=u._emscripten_bind_SessionImage_SetRomImage_2=(d,y,q)=>(ce=u._emscripten_bind_SessionImage_SetRomImage_2=A.Pb)(d,y,q),Xd=u._emscripten_bind_SessionImage_GetMemoryImage_0=d=>(Xd=u._emscripten_bind_SessionImage_GetMemoryImage_0=A.Qb)(d),rt=u._emscripten_bind_SessionImage_GetMemoryImageSize_0=d=>(rt=u._emscripten_bind_SessionImage_GetMemoryImageSize_0=A.Rb)(d),Ac=u._emscripten_bind_SessionImage_SetMemoryImage_2=(d,y,q)=>(Ac=u._emscripten_bind_SessionImage_SetMemoryImage_2=A.Sb)(d,y,q),mu=u._emscripten_bind_SessionImage_GetMetadata_0=d=>(mu=u._emscripten_bind_SessionImage_GetMetadata_0=A.Tb)(d),ql=u._emscripten_bind_SessionImage_GetMetadataSize_0=d=>(ql=u._emscripten_bind_SessionImage_GetMetadataSize_0=A.Ub)(d),uh=u._emscripten_bind_SessionImage_SetMetadata_2=(d,y,q)=>(uh=u._emscripten_bind_SessionImage_SetMetadata_2=A.Vb)(d,y,q),dh=u._emscripten_bind_SessionImage_GetSavestate_0=d=>(dh=u._emscripten_bind_SessionImage_GetSavestate_0=A.Wb)(d),fh=u._emscripten_bind_SessionImage_GetSavestateSize_0=d=>(fh=u._emscripten_bind_SessionImage_GetSavestateSize_0=A.Xb)(d),Hs=u._emscripten_bind_SessionImage_SetSavestate_2=(d,y,q)=>(Hs=u._emscripten_bind_SessionImage_SetSavestate_2=A.Yb)(d,y,q),kc=u._emscripten_bind_SessionImage_GetVersion_0=d=>(kc=u._emscripten_bind_SessionImage_GetVersion_0=A.Zb)(d),ns=u._emscripten_bind_SessionImage_Serialize_0=d=>(ns=u._emscripten_bind_SessionImage_Serialize_0=A._b)(d),vs=u._emscripten_bind_SessionImage_GetSerializedImage_0=d=>(vs=u._emscripten_bind_SessionImage_GetSerializedImage_0=A.$b)(d),tr=u._emscripten_bind_SessionImage_GetSerializedImageSize_0=d=>(tr=u._emscripten_bind_SessionImage_GetSerializedImageSize_0=A.ac)(d),Qd=u._emscripten_bind_SessionImage_Deserialize_2=(d,y,q)=>(Qd=u._emscripten_bind_SessionImage_Deserialize_2=A.bc)(d,y,q),gu=u._emscripten_bind_SessionImage___destroy___0=d=>(gu=u._emscripten_bind_SessionImage___destroy___0=A.cc)(d),Jd=u._emscripten_bind_SkinLoader_SkinLoader_1=d=>(Jd=u._emscripten_bind_SkinLoader_SkinLoader_1=A.dc)(d),ef=u._emscripten_bind_SkinLoader_GetData_0=d=>(ef=u._emscripten_bind_SkinLoader_GetData_0=A.ec)(d),Yl=u._emscripten_bind_SkinLoader_GetSize_0=d=>(Yl=u._emscripten_bind_SkinLoader_GetSize_0=A.fc)(d),tf=u._emscripten_bind_SkinLoader___destroy___0=d=>(tf=u._emscripten_bind_SkinLoader___destroy___0=A.gc)(d),nf=u._emscripten_bind_GunzipContext_GunzipContext_3=(d,y,q)=>(nf=u._emscripten_bind_GunzipContext_GunzipContext_3=A.hc)(d,y,q),ph=u._emscripten_bind_GunzipContext_GetState_0=d=>(ph=u._emscripten_bind_GunzipContext_GetState_0=A.ic)(d),rf=u._emscripten_bind_GunzipContext_Continue_0=d=>(rf=u._emscripten_bind_GunzipContext_Continue_0=A.jc)(d),hh=u._emscripten_bind_GunzipContext_GetUncompressedData_0=d=>(hh=u._emscripten_bind_GunzipContext_GetUncompressedData_0=A.kc)(d),mh=u._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=d=>(mh=u._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=A.lc)(d),rs=u._emscripten_bind_GunzipContext_GetUncompressedSize_0=d=>(rs=u._emscripten_bind_GunzipContext_GetUncompressedSize_0=A.mc)(d),gh=u._emscripten_bind_GunzipContext_GetError_0=d=>(gh=u._emscripten_bind_GunzipContext_GetError_0=A.nc)(d),sf=u._emscripten_bind_GunzipContext___destroy___0=d=>(sf=u._emscripten_bind_GunzipContext___destroy___0=A.oc)(d),_h=u._emscripten_bind_ZipfileWalker_ZipfileWalker_2=(d,y)=>(_h=u._emscripten_bind_ZipfileWalker_ZipfileWalker_2=A.pc)(d,y),vh=u._emscripten_bind_ZipfileWalker_GetState_0=d=>(vh=u._emscripten_bind_ZipfileWalker_GetState_0=A.qc)(d),yh=u._emscripten_bind_ZipfileWalker_Next_0=d=>(yh=u._emscripten_bind_ZipfileWalker_Next_0=A.rc)(d),bh=u._emscripten_bind_ZipfileWalker_GetTotalEntries_0=d=>(bh=u._emscripten_bind_ZipfileWalker_GetTotalEntries_0=A.sc)(d),af=u._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=d=>(af=u._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=A.tc)(d),Ch=u._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=d=>(Ch=u._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=A.uc)(d),Sh=u._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=d=>(Sh=u._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=A.vc)(d),wh=u._emscripten_bind_ZipfileWalker___destroy___0=d=>(wh=u._emscripten_bind_ZipfileWalker___destroy___0=A.wc)(d),Ze=()=>(Ze=A.xc)(),Dh=d=>(Dh=A.zc)(d);function Bo(){function d(){_n||(_n=!0,u.calledRun=!0,!le&&(function st(){Nn(Gt)}(),function $t(){Nn(Fe)}(),Z(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),ga&&function Mo(){var d=Sn;try{var ke=d(0,0);return us(ke),ke}catch(It){return(d=>{if(d instanceof Do||"unwind"==d)return ae;I(1,d)})(It)}}(),function fe(){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;)d=u.postRun.shift(),ze.unshift(d);var d;Nn(ze)}()))}St>0||(function je(){if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)d=u.preRun.shift(),ht.unshift(d);var d;Nn(ht)}(),St>0)||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),d()},1)):d())}if(u.___original_main=()=>(u.___original_main=A.Ac)(),u.___start_em_js=1472695,u.___stop_em_js=1472794,u.addFunction=(d,y)=>{var q=(d=>($||($=new WeakMap,((d,y)=>{if($)for(var q=0;q<0+y;q++){var ke=m(q);ke&&$.set(ke,q)}})(0,ct.length)),$.get(d)||0))(d);if(q)return q;var ke=(()=>{if(Me.length)return Me.pop();try{ct.grow(1)}catch(d){throw d instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":d}return ct.length-1})();try{Ke(ke,d)}catch(tn){if(!(tn instanceof TypeError))throw tn;var It=((d,y)=>{if("function"==typeof WebAssembly.Function)return new WebAssembly.Function((d=>{for(var y={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},q={parameters:[],results:"v"==d[0]?[]:[y[d[0]]]},ke=1;ke<d.length;++ke)q.parameters.push(y[d[ke]]);return q})(y),d);var q=[1];((d,y)=>{var q=d.slice(0,1),ke=d.slice(1),It={i:127,p:127,j:126,f:125,d:124,e:111};y.push(96),nt(ke.length,y);for(var tn=0;tn<ke.length;++tn)y.push(It[ke[tn]]);"v"==q?y.push(0):y.push(1,It[q])})(y,q);var ke=[0,97,115,109,1,0,0,0,1];nt(q.length,ke),ke.push.apply(ke,q),ke.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var It=new WebAssembly.Module(new Uint8Array(ke));return new WebAssembly.Instance(It,{e:{f:d}}).exports.f})(d,y);Ke(ke,It)}return $.set(d,ke),ke},u.UTF8ToString=Kn,jt=function d(){_n||Bo(),_n||(jt=d)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);u.preInit.length>0;)u.preInit.pop()();var ga=!0;function kn(){}function zs(d){return(d||kn).__cache__}function Hn(d,y){var q=zs(y),ke=q[d];return ke||((ke=Object.create((y||kn).prototype)).ptr=d,q[d]=ke)}u.noInitialRun&&(ga=!1),Bo(),(kn.prototype=Object.create(kn.prototype)).constructor=kn,kn.prototype.__class__=kn,kn.__cache__={},u.WrapperObject=kn,u.getCache=zs,u.wrapPointer=Hn,u.castObject=function _u(d,y){return Hn(d.ptr,y)},u.NULL=Hn(0),u.destroy=function A_(d){if(!d.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";d.__destroy__(),delete zs(d.__class__)[d.ptr]},u.compare=function k_(d,y){return d.ptr===y.ptr},u.getPointer=function so(d){return d.ptr},u.getClass=function gt(d){return d.__class__};var it={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(it.needed){for(var d=0;d<it.temps.length;d++)u._webidl_free(it.temps[d]);it.temps.length=0,u._webidl_free(it.buffer),it.buffer=0,it.size+=it.needed,it.needed=0}it.buffer||(it.size+=128,it.buffer=u._webidl_malloc(it.size),xe(it.buffer)),it.pos=0},alloc(d,y){xe(it.buffer);var It,ke=d.length*y.BYTES_PER_ELEMENT;return it.pos+(ke=ke+7&-8)>=it.size?(xe(ke>0),it.needed+=ke,It=u._webidl_malloc(ke),it.temps.push(It)):(It=it.buffer+it.pos,it.pos+=ke),It},copy(d,y,q){switch(q>>>=0,y.BYTES_PER_ELEMENT){case 2:q>>>=1;break;case 4:q>>>=2;break;case 8:q>>>=3}for(var It=0;It<d.length;It++)y[q+It]=d[It]}};function Dn(d){if("string"==typeof d){var y=ni(d),q=it.alloc(y,Re);return it.copy(y,Re,q),q}return d}function Rn(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Ae(){this.ptr=Jn(),zs(Ae)[this.ptr]=this}function ir(d,y){d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),this.ptr=Rr(d,y),zs(ir)[this.ptr]=this}function Pn(){throw"cannot construct a Frame, no constructor in IDL"}function nn(){throw"cannot construct a DbBackup, no constructor in IDL"}function fr(){throw"cannot construct a SuspendContextClipboardCopy, no constructor in IDL"}function Ao(){throw"cannot construct a SuspendContextClipboardPaste, no constructor in IDL"}function Wt(){throw"cannot construct a SuspendContextNetworkConnect, no constructor in IDL"}function ao(){throw"cannot construct a SuspendContextNetworkRpc, no constructor in IDL"}function to(){throw"cannot construct a SuspendContext, no constructor in IDL"}function Zt(){this.ptr=Kd(),zs(Zt)[this.ptr]=this}function zn(d){it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),this.ptr=Jd(d),zs(zn)[this.ptr]=this}function Nr(d,y,q){d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),q&&"object"==typeof q&&(q=q.ptr),this.ptr=nf(d,y,q),zs(Nr)[this.ptr]=this}function Mr(d,y){d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),this.ptr=_h(d,y),zs(Mr)[this.ptr]=this}return(Rn.prototype=Object.create(kn.prototype)).constructor=Rn,Rn.prototype.__class__=Rn,Rn.__cache__={},u.VoidPtr=Rn,Rn.prototype.__destroy__=Rn.prototype.__destroy__=function(){Wr(this.ptr)},(Ae.prototype=Object.create(kn.prototype)).constructor=Ae,Ae.prototype.__class__=Ae,Ae.__cache__={},u.Cloudpilot=Ae,Ae.prototype.Malloc=Ae.prototype.Malloc=function(d){return d&&"object"==typeof d&&(d=d.ptr),Hn(Xi(this.ptr,d),Rn)},Ae.prototype.Free=Ae.prototype.Free=function(d){d&&"object"==typeof d&&(d=d.ptr),jn(this.ptr,d)},Ae.prototype.Nullptr=Ae.prototype.Nullptr=function(){return Hn(Lo(this.ptr),Rn)},Ae.prototype.InitializeSession=Ae.prototype.InitializeSession=function(d,y,q){var ke=this.ptr;return it.prepare(),d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),q=q&&"object"==typeof q?q.ptr:Dn(q),!!xo(ke,d,y,q)},Ae.prototype.GetCyclesPerSecond=Ae.prototype.GetCyclesPerSecond=function(){return Qi(this.ptr)},Ae.prototype.RunEmulation=Ae.prototype.RunEmulation=function(d){return d&&"object"==typeof d&&(d=d.ptr),Ra(this.ptr,d)},Ae.prototype.SetClockFactor=Ae.prototype.SetClockFactor=function(d){d&&"object"==typeof d&&(d=d.ptr),oa(this.ptr,d)},Ae.prototype.CopyFrame=Ae.prototype.CopyFrame=function(){return Hn($s(this.ptr),Pn)},Ae.prototype.IsScreenDirty=Ae.prototype.IsScreenDirty=function(){return!!ia(this.ptr)},Ae.prototype.MarkScreenClean=Ae.prototype.MarkScreenClean=function(){Ji(this.ptr)},Ae.prototype.MinMemoryForDevice=Ae.prototype.MinMemoryForDevice=function(d){var y=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),Pa(y,d)},Ae.prototype.FramebufferSizeForDevice=Ae.prototype.FramebufferSizeForDevice=function(d){var y=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),sa(y,d)},Ae.prototype.TotalMemoryForDevice=Ae.prototype.TotalMemoryForDevice=function(d){var y=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),aa(y,d)},Ae.prototype.QueuePenMove=Ae.prototype.QueuePenMove=function(d,y){d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),Oa(this.ptr,d,y)},Ae.prototype.QueuePenUp=Ae.prototype.QueuePenUp=function(){Na(this.ptr)},Ae.prototype.QueueButtonDown=Ae.prototype.QueueButtonDown=function(d){d&&"object"==typeof d&&(d=d.ptr),Fa(this.ptr,d)},Ae.prototype.QueueButtonUp=Ae.prototype.QueueButtonUp=function(d){d&&"object"==typeof d&&(d=d.ptr),La(this.ptr,d)},Ae.prototype.QueueKeyboardEvent=Ae.prototype.QueueKeyboardEvent=function(d,y){d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),la(this.ptr,d,y)},Ae.prototype.IsPowerOff=Ae.prototype.IsPowerOff=function(){return!!$a(this.ptr)},Ae.prototype.IsUIInitialized=Ae.prototype.IsUIInitialized=function(){return!!Ba(this.ptr)},Ae.prototype.GetOSVersion=Ae.prototype.GetOSVersion=function(){return Ir(this.ptr)},Ae.prototype.IsSetupComplete=Ae.prototype.IsSetupComplete=function(){return!!ca(this.ptr)},Ae.prototype.Reset=Ae.prototype.Reset=function(){po(this.ptr)},Ae.prototype.ResetNoExtensions=Ae.prototype.ResetNoExtensions=function(){Ht(this.ptr)},Ae.prototype.ResetHard=Ae.prototype.ResetHard=function(){ua(this.ptr)},Ae.prototype.InstallDb=Ae.prototype.InstallDb=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),Bs(this.ptr,d,y)},Ae.prototype.GetPalette2bitMapping=Ae.prototype.GetPalette2bitMapping=function(){return eo(this.ptr)},Ae.prototype.GetMemoryPtr=Ae.prototype.GetMemoryPtr=function(){return Hn(Vs(this.ptr),Rn)},Ae.prototype.GetDirtyPagesPtr=Ae.prototype.GetDirtyPagesPtr=function(){return Hn(Va(this.ptr),Rn)},Ae.prototype.GetMemorySize=Ae.prototype.GetMemorySize=function(){return Gn(this.ptr)},Ae.prototype.ImportMemoryImage=Ae.prototype.ImportMemoryImage=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),!!hs(this.ptr,d,y)},Ae.prototype.GetRomPtr=Ae.prototype.GetRomPtr=function(){return Hn(xr(this.ptr),Rn)},Ae.prototype.GetRomSize=Ae.prototype.GetRomSize=function(){return js(this.ptr)},Ae.prototype.GetSavestatePtr=Ae.prototype.GetSavestatePtr=function(){return Hn(gl(this.ptr),Rn)},Ae.prototype.GetSavestateSize=Ae.prototype.GetSavestateSize=function(){return ja(this.ptr)},Ae.prototype.SaveState=Ae.prototype.SaveState=function(){return!!Wn(this.ptr)},Ae.prototype.LoadState=Ae.prototype.LoadState=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),!!Yt(this.ptr,d,y)},Ae.prototype.GetHotsyncName=Ae.prototype.GetHotsyncName=function(){return Kn(ms(this.ptr))},Ae.prototype.SetHotsyncName=Ae.prototype.SetHotsyncName=function(d){var y=this.ptr;it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),Gs(y,d)},Ae.prototype.RegisterPwmHandler=Ae.prototype.RegisterPwmHandler=function(d){d&&"object"==typeof d&&(d=d.ptr),_l(this.ptr,d)},Ae.prototype.StartBackup=Ae.prototype.StartBackup=function(){return Hn(da(this.ptr),nn)},Ae.prototype.SetClipboardIntegration=Ae.prototype.SetClipboardIntegration=function(d){d&&"object"==typeof d&&(d=d.ptr),Xe(this.ptr,d)},Ae.prototype.GetClipboardIntegration=Ae.prototype.GetClipboardIntegration=function(){return!!es(this.ptr)},Ae.prototype.IsSuspended=Ae.prototype.IsSuspended=function(){return!!gs(this.ptr)},Ae.prototype.GetSuspendContext=Ae.prototype.GetSuspendContext=function(){return Hn(ts(this.ptr),to)},Ae.prototype.SetNetworkRedirection=Ae.prototype.SetNetworkRedirection=function(d){d&&"object"==typeof d&&(d=d.ptr),fa(this.ptr,d)},Ae.prototype.GetNetworkRedirection=Ae.prototype.GetNetworkRedirection=function(){return!!pa(this.ptr)},Ae.prototype.RegisterProxyDisconnectHandler=Ae.prototype.RegisterProxyDisconnectHandler=function(d){d&&"object"==typeof d&&(d=d.ptr),ri(this.ptr,d)},Ae.prototype.SetHotsyncNameManagement=Ae.prototype.SetHotsyncNameManagement=function(d){d&&"object"==typeof d&&(d=d.ptr),Cr(this.ptr,d)},Ae.prototype.LaunchAppByName=Ae.prototype.LaunchAppByName=function(d){var y=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),!!Yo(y,d)},Ae.prototype.LaunchAppByDbHeader=Ae.prototype.LaunchAppByDbHeader=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),!!Bt(this.ptr,d,y)},Ae.prototype.DeviceSupportsCardSize=Ae.prototype.DeviceSupportsCardSize=function(d){return d&&"object"==typeof d&&(d=d.ptr),!!$n(this.ptr,d)},Ae.prototype.ClearExternalStorage=Ae.prototype.ClearExternalStorage=function(){Ul(this.ptr)},Ae.prototype.AllocateCard=Ae.prototype.AllocateCard=function(d,y){var q=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),y&&"object"==typeof y&&(y=y.ptr),!!vl(q,d,y)},Ae.prototype.AdoptCard=Ae.prototype.AdoptCard=function(d,y,q){var ke=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),y&&"object"==typeof y&&(y=y.ptr),q&&"object"==typeof q&&(q=q.ptr),!!yl(ke,d,y,q)},Ae.prototype.MountCard=Ae.prototype.MountCard=function(d){var y=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),!!Hl(y,d)},Ae.prototype.RemoveCard=Ae.prototype.RemoveCard=function(d){var y=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),!!Xn(y,d)},Ae.prototype.GetCardData=Ae.prototype.GetCardData=function(d){var y=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),Hn(_s(y,d),Rn)},Ae.prototype.GetCardDirtyPages=Ae.prototype.GetCardDirtyPages=function(d){var y=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),Hn(Bn(y,d),Rn)},Ae.prototype.GetCardSize=Ae.prototype.GetCardSize=function(d){var y=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),ho(y,d)},Ae.prototype.RemountCards=Ae.prototype.RemountCards=function(){mo(this.ptr)},Ae.prototype.GetSupportLevel=Ae.prototype.GetSupportLevel=function(d){return d&&"object"==typeof d&&(d=d.ptr),Zr(this.ptr,d)},Ae.prototype.GetMountedKey=Ae.prototype.GetMountedKey=function(){return Kn(Qn(this.ptr))},Ae.prototype.__destroy__=Ae.prototype.__destroy__=function(){er(this.ptr)},(ir.prototype=Object.create(kn.prototype)).constructor=ir,ir.prototype.__class__=ir,ir.__cache__={},u.RomInfo=ir,ir.prototype.IsValid=ir.prototype.IsValid=function(){return!!Tr(this.ptr)},ir.prototype.CardVersion=ir.prototype.CardVersion=function(){return v(this.ptr)},ir.prototype.CardName=ir.prototype.CardName=function(){return Kn(U(this.ptr))},ir.prototype.RomVersion=ir.prototype.RomVersion=function(){return ie(this.ptr)},ir.prototype.RomVersionString=ir.prototype.RomVersionString=function(){return Kn(Oe(this.ptr))},ir.prototype.Supports=ir.prototype.Supports=function(d){var y=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),!!yt(y,d)},ir.prototype.__destroy__=ir.prototype.__destroy__=function(){qt(this.ptr)},(Pn.prototype=Object.create(kn.prototype)).constructor=Pn,Pn.prototype.__class__=Pn,Pn.__cache__={},u.Frame=Pn,Pn.prototype.GetLineWidth=Pn.prototype.GetLineWidth=function(){return ot(this.ptr)},Pn.prototype.GetBpp=Pn.prototype.GetBpp=function(){return hn(this.ptr)},Pn.prototype.GetLines=Pn.prototype.GetLines=function(){return ar(this.ptr)},Pn.prototype.GetMargin=Pn.prototype.GetMargin=function(){return zt(this.ptr)},Pn.prototype.GetBytesPerLine=Pn.prototype.GetBytesPerLine=function(){return Pr(this.ptr)},Pn.prototype.GetFirstDirtyLine=Pn.prototype.GetFirstDirtyLine=function(){return $e(this.ptr)},Pn.prototype.GetLastDirtyLine=Pn.prototype.GetLastDirtyLine=function(){return wn(this.ptr)},Pn.prototype.GetHasChanges=Pn.prototype.GetHasChanges=function(){return!!lt(this.ptr)},Pn.prototype.GetBuffer=Pn.prototype.GetBuffer=function(){return Hn(lr(this.ptr),Rn)},Pn.prototype.GetBufferSize=Pn.prototype.GetBufferSize=function(){return Zn(this.ptr)},Pn.prototype.GetScaleX=Pn.prototype.GetScaleX=function(){return Or(this.ptr)},Pn.prototype.GetScaleY=Pn.prototype.GetScaleY=function(){return cr(this.ptr)},Pn.prototype.__destroy__=Pn.prototype.__destroy__=function(){We(this.ptr)},(nn.prototype=Object.create(kn.prototype)).constructor=nn,nn.prototype.__class__=nn,nn.__cache__={},u.DbBackup=nn,nn.prototype.Init=nn.prototype.Init=function(d){return d&&"object"==typeof d&&(d=d.ptr),!!p(this.ptr,d)},nn.prototype.IsInProgress=nn.prototype.IsInProgress=function(){return!!x(this.ptr)},nn.prototype.IsDone=nn.prototype.IsDone=function(){return!!oe(this.ptr)},nn.prototype.GetCurrentDatabase=nn.prototype.GetCurrentDatabase=function(){return Kn(Le(this.ptr))},nn.prototype.Save=nn.prototype.Save=function(){return!!Qe(this.ptr)},nn.prototype.Skip=nn.prototype.Skip=function(){gn(this.ptr)},nn.prototype.GetArchivePtr=nn.prototype.GetArchivePtr=function(){return Hn(an(this.ptr),Rn)},nn.prototype.GetArchiveSize=nn.prototype.GetArchiveSize=function(){return Kt(this.ptr)},nn.prototype.__destroy__=nn.prototype.__destroy__=function(){ur(this.ptr)},(fr.prototype=Object.create(kn.prototype)).constructor=fr,fr.prototype.__class__=fr,fr.__cache__={},u.SuspendContextClipboardCopy=fr,fr.prototype.Cancel=fr.prototype.Cancel=function(){$o(this.ptr)},fr.prototype.Resume=fr.prototype.Resume=function(){Un(this.ptr)},fr.prototype.GetClipboardContent=fr.prototype.GetClipboardContent=function(){return Kn(Ga(this.ptr))},fr.prototype.__destroy__=fr.prototype.__destroy__=function(){To(this.ptr)},(Ao.prototype=Object.create(kn.prototype)).constructor=Ao,Ao.prototype.__class__=Ao,Ao.__cache__={},u.SuspendContextClipboardPaste=Ao,Ao.prototype.Cancel=Ao.prototype.Cancel=function(){pt(this.ptr)},Ao.prototype.Resume=Ao.prototype.Resume=function(d){var y=this.ptr;it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),ha(y,d)},Ao.prototype.__destroy__=Ao.prototype.__destroy__=function(){Us(this.ptr)},(Wt.prototype=Object.create(kn.prototype)).constructor=Wt,Wt.prototype.__class__=Wt,Wt.__cache__={},u.SuspendContextNetworkConnect=Wt,Wt.prototype.Cancel=Wt.prototype.Cancel=function(){zl(this.ptr)},Wt.prototype.Resume=Wt.prototype.Resume=function(d){var y=this.ptr;it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),Ua(y,d)},Wt.prototype.__destroy__=Wt.prototype.__destroy__=function(){mt(this.ptr)},(ao.prototype=Object.create(kn.prototype)).constructor=ao,ao.prototype.__class__=ao,ao.__cache__={},u.SuspendContextNetworkRpc=ao,ao.prototype.Cancel=ao.prototype.Cancel=function(){ln(this.ptr)},ao.prototype.GetRequestSize=ao.prototype.GetRequestSize=function(){return mi(this.ptr)},ao.prototype.GetRequestData=ao.prototype.GetRequestData=function(){return Hn(oi(this.ptr),Rn)},ao.prototype.ReceiveResponse=ao.prototype.ReceiveResponse=function(d,y){d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),Wl(this.ptr,d,y)},ao.prototype.__destroy__=ao.prototype.__destroy__=function(){Yd(this.ptr)},(to.prototype=Object.create(kn.prototype)).constructor=to,to.prototype.__class__=to,to.__cache__={},u.SuspendContext=to,to.prototype.GetKind=to.prototype.GetKind=function(){return T_(this.ptr)},to.prototype.Cancel=to.prototype.Cancel=function(){Zl(this.ptr)},to.prototype.AsContextClipboardCopy=to.prototype.AsContextClipboardCopy=function(){return Hn(hu(this.ptr),fr)},to.prototype.AsContextClipboardPaste=to.prototype.AsContextClipboardPaste=function(){return Hn(Mc(this.ptr),Ao)},to.prototype.AsContextNetworkConnect=to.prototype.AsContextNetworkConnect=function(){return Hn(ih(this.ptr),Wt)},to.prototype.AsContextNetworkRpc=to.prototype.AsContextNetworkRpc=function(){return Hn(sh(this.ptr),ao)},to.prototype.__destroy__=to.prototype.__destroy__=function(){ah(this.ptr)},(Zt.prototype=Object.create(kn.prototype)).constructor=Zt,Zt.prototype.__class__=Zt,Zt.__cache__={},u.SessionImage=Zt,Zt.prototype.GetDeviceId=Zt.prototype.GetDeviceId=function(){return Kn(bl(this.ptr))},Zt.prototype.SetDeviceId=Zt.prototype.SetDeviceId=function(d){var y=this.ptr;return it.prepare(),d=d&&"object"==typeof d?d.ptr:Dn(d),Hn(lh(y,d),Zt)},Zt.prototype.GetRomImage=Zt.prototype.GetRomImage=function(){return Hn(ma(this.ptr),Rn)},Zt.prototype.GetRomImageSize=Zt.prototype.GetRomImageSize=function(){return ch(this.ptr)},Zt.prototype.SetRomImage=Zt.prototype.SetRomImage=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),Hn(ce(this.ptr,d,y),Zt)},Zt.prototype.GetMemoryImage=Zt.prototype.GetMemoryImage=function(){return Hn(Xd(this.ptr),Rn)},Zt.prototype.GetMemoryImageSize=Zt.prototype.GetMemoryImageSize=function(){return rt(this.ptr)},Zt.prototype.SetMemoryImage=Zt.prototype.SetMemoryImage=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),Hn(Ac(this.ptr,d,y),Zt)},Zt.prototype.GetMetadata=Zt.prototype.GetMetadata=function(){return Hn(mu(this.ptr),Rn)},Zt.prototype.GetMetadataSize=Zt.prototype.GetMetadataSize=function(){return ql(this.ptr)},Zt.prototype.SetMetadata=Zt.prototype.SetMetadata=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),Hn(uh(this.ptr,d,y),Zt)},Zt.prototype.GetSavestate=Zt.prototype.GetSavestate=function(){return Hn(dh(this.ptr),Rn)},Zt.prototype.GetSavestateSize=Zt.prototype.GetSavestateSize=function(){return fh(this.ptr)},Zt.prototype.SetSavestate=Zt.prototype.SetSavestate=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),Hn(Hs(this.ptr,d,y),Zt)},Zt.prototype.GetVersion=Zt.prototype.GetVersion=function(){return kc(this.ptr)},Zt.prototype.Serialize=Zt.prototype.Serialize=function(){return!!ns(this.ptr)},Zt.prototype.GetSerializedImage=Zt.prototype.GetSerializedImage=function(){return Hn(vs(this.ptr),Rn)},Zt.prototype.GetSerializedImageSize=Zt.prototype.GetSerializedImageSize=function(){return tr(this.ptr)},Zt.prototype.Deserialize=Zt.prototype.Deserialize=function(d,y){return d&&"object"==typeof d&&(d=d.ptr),y&&"object"==typeof y&&(y=y.ptr),!!Qd(this.ptr,d,y)},Zt.prototype.__destroy__=Zt.prototype.__destroy__=function(){gu(this.ptr)},(zn.prototype=Object.create(kn.prototype)).constructor=zn,zn.prototype.__class__=zn,zn.__cache__={},u.SkinLoader=zn,zn.prototype.GetData=zn.prototype.GetData=function(){return Hn(ef(this.ptr),Rn)},zn.prototype.GetSize=zn.prototype.GetSize=function(){return Yl(this.ptr)},zn.prototype.__destroy__=zn.prototype.__destroy__=function(){tf(this.ptr)},(Nr.prototype=Object.create(kn.prototype)).constructor=Nr,Nr.prototype.__class__=Nr,Nr.__cache__={},u.GunzipContext=Nr,Nr.prototype.GetState=Nr.prototype.GetState=function(){return ph(this.ptr)},Nr.prototype.Continue=Nr.prototype.Continue=function(){return rf(this.ptr)},Nr.prototype.GetUncompressedData=Nr.prototype.GetUncompressedData=function(){return Hn(hh(this.ptr),Rn)},Nr.prototype.ReleaseUncompressedData=Nr.prototype.ReleaseUncompressedData=function(){return Hn(mh(this.ptr),Rn)},Nr.prototype.GetUncompressedSize=Nr.prototype.GetUncompressedSize=function(){return rs(this.ptr)},Nr.prototype.GetError=Nr.prototype.GetError=function(){return Kn(gh(this.ptr))},Nr.prototype.__destroy__=Nr.prototype.__destroy__=function(){sf(this.ptr)},(Mr.prototype=Object.create(kn.prototype)).constructor=Mr,Mr.prototype.__class__=Mr,Mr.__cache__={},u.ZipfileWalker=Mr,Mr.prototype.GetState=Mr.prototype.GetState=function(){return vh(this.ptr)},Mr.prototype.Next=Mr.prototype.Next=function(){return yh(this.ptr)},Mr.prototype.GetTotalEntries=Mr.prototype.GetTotalEntries=function(){return bh(this.ptr)},Mr.prototype.GetCurrentEntrySize=Mr.prototype.GetCurrentEntrySize=function(){return af(this.ptr)},Mr.prototype.GetCurrentEntryName=Mr.prototype.GetCurrentEntryName=function(){return Kn(Ch(this.ptr))},Mr.prototype.GetCurrentEntryContent=Mr.prototype.GetCurrentEntryContent=function(){return Hn(Sh(this.ptr),Rn)},Mr.prototype.__destroy__=Mr.prototype.__destroy__=function(){wh(this.ptr)},S.ready});ge.exports=De},3097:ge=>{var C,De=(C=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(S={}){var Z,Y,u=S;u.ready=new Promise((v,U)=>{Z=v,Y=U});var ve,G=Object.assign({},u),E="./this.program",I=(v,U)=>{throw U},K="object"==typeof window,L="function"==typeof importScripts,P=("object"==typeof process&&"object"==typeof process.versions&&process,"");(K||L)&&(L?P=self.location.href:typeof document<"u"&&document.currentScript&&(P=document.currentScript.src),C&&(P=C),P=0!==P.indexOf("blob:")?P.substr(0,P.replace(/[?#].*/,"").lastIndexOf("/")+1):"",L&&(ve=v=>{var U=new XMLHttpRequest;return U.open("GET",v,!1),U.responseType="arraybuffer",U.send(null),new Uint8Array(U.response)}));var M,se=u.print||console.log.bind(console),z=u.printErr||console.error.bind(console);Object.assign(u,G),G=null,u.thisProgram&&(E=u.thisProgram),u.quit&&(I=u.quit),u.wasmBinary&&(M=u.wasmBinary),"object"!=typeof WebAssembly&&_e("no native wasm support detected");var J,ae,Re,O,D,X,he,le=!1;function xe(v,U){v||_e(U)}function Be(){var v=J.buffer;u.HEAP8=Re=new Int8Array(v),u.HEAP16=new Int16Array(v),u.HEAPU8=O=new Uint8Array(v),u.HEAPU16=new Uint16Array(v),u.HEAP32=D=new Int32Array(v),u.HEAPU32=X=new Uint32Array(v),u.HEAPF32=new Float32Array(v),u.HEAPF64=he=new Float64Array(v)}var ht=[],Gt=[],Fe=[],ze=[],St=0,Ut=null,jt=null;function _e(v){u.onAbort&&u.onAbort(v),z(v="Aborted("+v+")"),le=!0,ae=1,v+=". Build with -sASSERTIONS for more info.";var U=new WebAssembly.RuntimeError(v);throw Y(U),U}var en,vt=v=>v.startsWith("data:application/octet-stream;base64,"),Nt=0;function dn(v){return function(){if(le)throw"program has already aborted!";Nt+=1;try{return v.apply(null,arguments)}catch(U){if(le||Nt>1||U===1/0||"unwind"===U)throw U;_e("unhandled exception: "+[U,U.stack])}finally{Nt-=1}}}function vr(v){if(v==en&&M)return new Uint8Array(M);if(ve)return ve(v);throw"both async and sync fetching of the wasm failed"}function Zo(v,U,ie){return function Yn(v){return M||!K&&!L||"function"!=typeof fetch?Promise.resolve().then(()=>vr(v)):fetch(v,{credentials:"same-origin"}).then(U=>{if(!U.ok)throw"failed to load wasm binary file at '"+v+"'";return U.arrayBuffer()}).catch(()=>vr(v))}(v).then(Oe=>WebAssembly.instantiate(Oe,U)).then(Oe=>Oe).then(ie,Oe=>{z(`failed to asynchronously prepare wasm: ${Oe}`),_e(Oe)})}vt(en="fstools_web.wasm")||(en=function T(v){return u.locateFile?u.locateFile(v,P):P+v}(en));var Nn,Br={1093102:()=>{throw new Error("terminated")}};function Hr(v){this.name="ExitStatus",this.message=`Program terminated with exit(${v})`,this.status=v}var go,ro=v=>{for(;v.length>0;)v.shift()(u)},Kn=u.noExitRuntime||!0,Vr=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,pe=(v,U,ie)=>{for(var Oe=U+ie,yt=U;v[yt]&&!(yt>=Oe);)++yt;if(yt-U>16&&v.buffer&&Vr)return Vr.decode(v.subarray(U,yt));for(var qt="";U<yt;){var ot=v[U++];if(128&ot){var hn=63&v[U++];if(192!=(224&ot)){var ar=63&v[U++];if((ot=224==(240&ot)?(15&ot)<<12|hn<<6|ar:(7&ot)<<18|hn<<12|ar<<6|63&v[U++])<65536)qt+=String.fromCharCode(ot);else{var zt=ot-65536;qt+=String.fromCharCode(55296|zt>>10,56320|1023&zt)}}else qt+=String.fromCharCode((31&ot)<<6|hn)}else qt+=String.fromCharCode(ot)}return qt},be=(v,U)=>v?pe(O,v,U):"",mn={varargs:void 0,get(){var v=D[+mn.varargs>>2];return mn.varargs+=4,v},getp:()=>mn.get(),getStr:v=>be(v)},Cn=(v,U)=>U+2097152>>>0<4194305-!!v?(v>>>0)+4294967296*U:NaN,Dr=v=>v%4==0&&(v%100!=0||v%400==0),_o=[0,31,60,91,121,152,182,213,244,274,305,335],Fn=[0,31,59,90,120,151,181,212,243,273,304,334],Eo=v=>(Dr(v.getFullYear())?_o:Fn)[v.getMonth()]+v.getDate()-1,xn=v=>{for(var U=0,ie=0;ie<v.length;++ie){var Oe=v.charCodeAt(ie);Oe<=127?U++:Oe<=2047?U+=2:Oe>=55296&&Oe<=57343?(U+=4,++ie):U+=3}return U},yr=(v,U,ie,Oe)=>{if(!(Oe>0))return 0;for(var yt=ie,qt=ie+Oe-1,ot=0;ot<v.length;++ot){var hn=v.charCodeAt(ot);if(hn>=55296&&hn<=57343&&(hn=65536+((1023&hn)<<10)|1023&v.charCodeAt(++ot)),hn<=127){if(ie>=qt)break;U[ie++]=hn}else if(hn<=2047){if(ie+1>=qt)break;U[ie++]=192|hn>>6,U[ie++]=128|63&hn}else if(hn<=65535){if(ie+2>=qt)break;U[ie++]=224|hn>>12,U[ie++]=128|hn>>6&63,U[ie++]=128|63&hn}else{if(ie+3>=qt)break;U[ie++]=240|hn>>18,U[ie++]=128|hn>>12&63,U[ie++]=128|hn>>6&63,U[ie++]=128|63&hn}}return U[ie]=0,ie-yt},Tn=v=>{var U=xn(v)+1,ie=re(U);return ie&&((v,U,ie)=>{yr(v,O,U,ie)})(v,ie,U),ie},un=[],qo=v=>{var ie=(v-J.buffer.byteLength+65535)/65536;try{return J.grow(ie),Be(),1}catch{}},li={},ci=()=>{if(!ci.strings){var U={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:E||"./this.program"};for(var ie in li)void 0===li[ie]?delete U[ie]:U[ie]=li[ie];var Oe=[];for(var ie in U)Oe.push(`${ie}=${U[ie]}`);ci.strings=Oe}return ci.strings},Ii=(v,U)=>{ae=v,(v=>{ae=v,Kn||(u.onExit&&u.onExit(v),le=!0),I(v,new Hr(v))})(v)},kr=[null,[],[]],Mn=(v,U)=>{var ie=kr[v];0===U||10===U?((1===v?se:z)(pe(ie,0)),ie.length=0):ie.push(U)},qi=[31,29,31,30,31,30,31,31,30,31,30,31],Ls=[31,28,31,30,31,30,31,31,30,31,30,31];function ds(v,U,ie){var Oe=ie>0?ie:xn(v)+1,yt=new Array(Oe),qt=yr(v,yt,0,yt.length);return U&&(yt.length=qt),yt}var ts,ps={b:(v,U,ie,Oe)=>{_e(`Assertion failed: ${be(v)}, at: `+[U?be(U):"unknown filename",ie,Oe?be(Oe):"unknown function"])},n:function sn(v,U,ie){Cn(U,ie)},i:function fo(v,U,ie,Oe){mn.varargs=Oe},j:function or(v,U,ie){var Oe=Cn(v,U),yt=new Date(1e3*Oe);D[ie>>2]=yt.getUTCSeconds(),D[ie+4>>2]=yt.getUTCMinutes(),D[ie+8>>2]=yt.getUTCHours(),D[ie+12>>2]=yt.getUTCDate(),D[ie+16>>2]=yt.getUTCMonth(),D[ie+20>>2]=yt.getUTCFullYear()-1900,D[ie+24>>2]=yt.getUTCDay();var qt=Date.UTC(yt.getUTCFullYear(),0,1,0,0,0,0),ot=(yt.getTime()-qt)/864e5|0;D[ie+28>>2]=ot},k:function oo(v,U,ie){var Oe=Cn(v,U),yt=new Date(1e3*Oe);D[ie>>2]=yt.getSeconds(),D[ie+4>>2]=yt.getMinutes(),D[ie+8>>2]=yt.getHours(),D[ie+12>>2]=yt.getDate(),D[ie+16>>2]=yt.getMonth(),D[ie+20>>2]=yt.getFullYear()-1900,D[ie+24>>2]=yt.getDay();var qt=0|Eo(yt);D[ie+28>>2]=qt,D[ie+36>>2]=-60*yt.getTimezoneOffset();var ot=new Date(yt.getFullYear(),0,1),hn=new Date(yt.getFullYear(),6,1).getTimezoneOffset(),ar=ot.getTimezoneOffset(),zt=0|(hn!=ar&&yt.getTimezoneOffset()==Math.min(ar,hn));D[ie+32>>2]=zt},l:function(v){var U=(()=>{var ie=new Date(D[v+20>>2]+1900,D[v+16>>2],D[v+12>>2],D[v+8>>2],D[v+4>>2],D[v>>2],0),Oe=D[v+32>>2],yt=ie.getTimezoneOffset(),qt=new Date(ie.getFullYear(),0,1),ot=new Date(ie.getFullYear(),6,1).getTimezoneOffset(),hn=qt.getTimezoneOffset(),ar=Math.min(hn,ot);if(Oe<0)D[v+32>>2]=+(ot!=hn&&ar==yt);else if(Oe>0!=(ar==yt)){var zt=Math.max(hn,ot),Pr=Oe>0?ar:zt;ie.setTime(ie.getTime()+6e4*(Pr-yt))}D[v+24>>2]=ie.getDay();var $e=0|Eo(ie);D[v+28>>2]=$e,D[v>>2]=ie.getSeconds(),D[v+4>>2]=ie.getMinutes(),D[v+8>>2]=ie.getHours(),D[v+12>>2]=ie.getDate(),D[v+16>>2]=ie.getMonth(),D[v+20>>2]=ie.getYear();var wn=ie.getTime();return isNaN(wn)?(D[w()>>2]=61,-1):wn/1e3})();return da((Nn=U,+Math.abs(Nn)>=1?Nn>0?+Math.floor(Nn/4294967296)>>>0:~~+Math.ceil((Nn-+(~~Nn>>>0))/4294967296)>>>0:0)),U>>>0},q:(v,U,ie)=>{var Oe=(new Date).getFullYear(),yt=new Date(Oe,0,1),qt=new Date(Oe,6,1),ot=yt.getTimezoneOffset(),hn=qt.getTimezoneOffset(),ar=Math.max(ot,hn);function zt(lr){var Zn=lr.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Zn?Zn[1]:"GMT"}X[v>>2]=60*ar,D[U>>2]=+(ot!=hn);var Pr=zt(yt),$e=zt(qt),wn=Tn(Pr),lt=Tn($e);hn<ot?(X[ie>>2]=wn,X[ie+4>>2]=lt):(X[ie>>2]=lt,X[ie+4>>2]=wn)},c:()=>{_e("")},a:(v,U,ie)=>((v,U,ie)=>{var Oe=((v,U)=>{un.length=0;for(var ie;ie=O[v++];){var Oe=105!=ie;U+=(Oe&=112!=ie)&&U%8?4:0,un.push(112==ie?X[U>>2]:105==ie?D[U>>2]:he[U>>3]),U+=Oe?8:4}return un})(U,ie);return Br[v].apply(null,Oe)})(v,U,ie),e:()=>Date.now(),g:(v,U,ie)=>O.copyWithin(v,U,U+ie),p:v=>{var ar,U=O.length,ie=2147483648;if((v>>>=0)>ie)return!1;for(var yt=1;yt<=4;yt*=2){var qt=U*(1+.2/yt);qt=Math.min(qt,v+100663296);var ot=Math.min(ie,(ar=Math.max(v,qt))+(65536-ar%65536)%65536);if(qo(ot))return!0}return!1},r:(v,U)=>{var ie=0;return ci().forEach((Oe,yt)=>{var qt=U+ie;X[v+4*yt>>2]=qt,((v,U)=>{for(var ie=0;ie<v.length;++ie)Re[U++>>0]=v.charCodeAt(ie);Re[U>>0]=0})(Oe,qt),ie+=Oe.length+1}),0},s:(v,U)=>{var ie=ci();X[v>>2]=ie.length;var Oe=0;return ie.forEach(yt=>Oe+=yt.length+1),X[U>>2]=Oe,0},t:Ii,f:v=>52,d:(v,U,ie,Oe)=>52,m:function ni(v,U,ie,Oe,yt){return Cn(U,ie),70},h:(v,U,ie,Oe)=>{for(var yt=0,qt=0;qt<ie;qt++){var ot=X[U>>2],hn=X[U+4>>2];U+=8;for(var ar=0;ar<hn;ar++)Mn(v,O[ot+ar]);yt+=hn}return X[Oe>>2]=yt,0},o:(v,U,ie,Oe,yt)=>((v,U,ie,Oe)=>{var yt=X[Oe+40>>2],qt={tm_sec:D[Oe>>2],tm_min:D[Oe+4>>2],tm_hour:D[Oe+8>>2],tm_mday:D[Oe+12>>2],tm_mon:D[Oe+16>>2],tm_year:D[Oe+20>>2],tm_wday:D[Oe+24>>2],tm_yday:D[Oe+28>>2],tm_isdst:D[Oe+32>>2],tm_gmtoff:D[Oe+36>>2],tm_zone:yt?be(yt):""},ot=be(ie),hn={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ar in hn)ot=ot.replace(new RegExp(ar,"g"),hn[ar]);var zt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Pr=["January","February","March","April","May","June","July","August","September","October","November","December"];function $e(We,p,x){for(var oe="number"==typeof We?We.toString():We||"";oe.length<p;)oe=x[0]+oe;return oe}function wn(We,p){return $e(We,p,"0")}function lt(We,p){function x(Le){return Le<0?-1:Le>0?1:0}var oe;return 0===(oe=x(We.getFullYear()-p.getFullYear()))&&0===(oe=x(We.getMonth()-p.getMonth()))&&(oe=x(We.getDate()-p.getDate())),oe}function lr(We){switch(We.getDay()){case 0:return new Date(We.getFullYear()-1,11,29);case 1:return We;case 2:return new Date(We.getFullYear(),0,3);case 3:return new Date(We.getFullYear(),0,2);case 4:return new Date(We.getFullYear(),0,1);case 5:return new Date(We.getFullYear()-1,11,31);case 6:return new Date(We.getFullYear()-1,11,30)}}function Zn(We){var p=((v,U)=>{for(var ie=new Date(v.getTime());U>0;){var Oe=Dr(ie.getFullYear()),yt=ie.getMonth(),qt=(Oe?qi:Ls)[yt];if(!(U>qt-ie.getDate()))return ie.setDate(ie.getDate()+U),ie;U-=qt-ie.getDate()+1,ie.setDate(1),yt<11?ie.setMonth(yt+1):(ie.setMonth(0),ie.setFullYear(ie.getFullYear()+1))}return ie})(new Date(We.tm_year+1900,0,1),We.tm_yday),x=new Date(p.getFullYear(),0,4),oe=new Date(p.getFullYear()+1,0,4),Le=lr(x),Qe=lr(oe);return lt(Le,p)<=0?lt(Qe,p)<=0?p.getFullYear()+1:p.getFullYear():p.getFullYear()-1}var Or={"%a":We=>zt[We.tm_wday].substring(0,3),"%A":We=>zt[We.tm_wday],"%b":We=>Pr[We.tm_mon].substring(0,3),"%B":We=>Pr[We.tm_mon],"%C":We=>wn((We.tm_year+1900)/100|0,2),"%d":We=>wn(We.tm_mday,2),"%e":We=>$e(We.tm_mday,2," "),"%g":We=>Zn(We).toString().substring(2),"%G":We=>Zn(We),"%H":We=>wn(We.tm_hour,2),"%I":We=>{var p=We.tm_hour;return 0==p?p=12:p>12&&(p-=12),wn(p,2)},"%j":We=>wn(We.tm_mday+((v,U)=>{for(var ie=0,Oe=0;Oe<=U;ie+=v[Oe++]);return ie})(Dr(We.tm_year+1900)?qi:Ls,We.tm_mon-1),3),"%m":We=>wn(We.tm_mon+1,2),"%M":We=>wn(We.tm_min,2),"%n":()=>"\n","%p":We=>We.tm_hour>=0&&We.tm_hour<12?"AM":"PM","%S":We=>wn(We.tm_sec,2),"%t":()=>"\t","%u":We=>We.tm_wday||7,"%U":We=>wn(Math.floor((We.tm_yday+7-We.tm_wday)/7),2),"%V":We=>{var p=Math.floor((We.tm_yday+7-(We.tm_wday+6)%7)/7);if((We.tm_wday+371-We.tm_yday-2)%7<=2&&p++,p){if(53==p){var oe=(We.tm_wday+371-We.tm_yday)%7;4!=oe&&(3!=oe||!Dr(We.tm_year))&&(p=1)}}else{p=52;var x=(We.tm_wday+7-We.tm_yday-1)%7;(4==x||5==x&&Dr(We.tm_year%400-1))&&p++}return wn(p,2)},"%w":We=>We.tm_wday,"%W":We=>wn(Math.floor((We.tm_yday+7-(We.tm_wday+6)%7)/7),2),"%y":We=>(We.tm_year+1900).toString().substring(2),"%Y":We=>We.tm_year+1900,"%z":We=>{var p=We.tm_gmtoff;return(p>=0?"+":"-")+("0000"+(p=(p=Math.abs(p)/60)/60*100+p%60)).slice(-4)},"%Z":We=>We.tm_zone,"%%":()=>"%"};for(var ar in ot=ot.replace(/%%/g,"\0\0"),Or)ot.includes(ar)&&(ot=ot.replace(new RegExp(ar,"g"),Or[ar](qt)));var cr=ds(ot=ot.replace(/\0\0/g,"%"),!1);return cr.length>U?0:(((v,U)=>{Re.set(v,U)})(cr,v),cr.length-1)})(v,U,ie,Oe)},ct=function Do(){var v={a:ps};function U(Oe,yt){return ct=function rn(v){var U={};for(var ie in v){var Oe=v[ie];U[ie]="function"==typeof Oe?dn(Oe):Oe}return U}(ct=Oe.exports),J=ct.u,Be(),go=ct.za,function at(v){Gt.unshift(v)}(ct.v),function pn(){var v=go.get,U={};go.get=ie=>{var Oe=v.call(go,ie),yt=U[ie];return(!yt||yt.func!==Oe)&&(yt=U[ie]={func:Oe,wrapper:dn(Oe)}),yt.wrapper}}(),function we(v){if(St--,u.monitorRunDependencies&&u.monitorRunDependencies(St),0==St&&(null!==Ut&&(clearInterval(Ut),Ut=null),jt)){var U=jt;jt=null,U()}}(),ct}if(function Te(v){St++,u.monitorRunDependencies&&u.monitorRunDependencies(St)}(),u.instantiateWasm)try{return u.instantiateWasm(v,U)}catch(Oe){z(`Module.instantiateWasm callback failed with error: ${Oe}`),Y(Oe)}return function wo(v,U,ie,Oe){return v||"function"!=typeof WebAssembly.instantiateStreaming||vt(U)||"function"!=typeof fetch?Zo(U,ie,Oe):fetch(U,{credentials:"same-origin"}).then(yt=>WebAssembly.instantiateStreaming(yt,ie).then(Oe,function(ot){return z(`wasm streaming compile failed: ${ot}`),z("falling back to ArrayBuffer instantiation"),Zo(U,ie,Oe)}))}(M,en,v,function ie(Oe){U(Oe.instance)}).catch(Y),{}}(),w=()=>(w=ct.w)(),re=(u._free=v=>(u._free=ct.x)(v),u._malloc=v=>(re=u._malloc=ct.y)(v)),Ke=(u._webidl_free=v=>(u._webidl_free=ct.z)(v),u._webidl_malloc=v=>(u._webidl_malloc=ct.A)(v),u._emscripten_bind_VoidPtr___destroy___0=v=>(Ke=u._emscripten_bind_VoidPtr___destroy___0=ct.B)(v)),Ye=u._emscripten_bind_FSTools_FSTools_0=()=>(Ye=u._emscripten_bind_FSTools_FSTools_0=ct.C)(),et=u._emscripten_bind_FSTools_Malloc_1=(v,U)=>(et=u._emscripten_bind_FSTools_Malloc_1=ct.D)(v,U),A=u._emscripten_bind_FSTools_Free_1=(v,U)=>(A=u._emscripten_bind_FSTools_Free_1=ct.E)(v,U),bt=u._emscripten_bind_FSTools_Nullptr_0=v=>(bt=u._emscripten_bind_FSTools_Nullptr_0=ct.F)(v),At=u._emscripten_bind_FSTools___destroy___0=v=>(At=u._emscripten_bind_FSTools___destroy___0=ct.G)(v),kt=u._emscripten_bind_MkfsContext_MkfsContext_0=()=>(kt=u._emscripten_bind_MkfsContext_MkfsContext_0=ct.H)(),Sn=u._emscripten_bind_MkfsContext_Mkfs_2=(v,U,ie)=>(Sn=u._emscripten_bind_MkfsContext_Mkfs_2=ct.I)(v,U,ie),Er=u._emscripten_bind_MkfsContext_GetImage_0=v=>(Er=u._emscripten_bind_MkfsContext_GetImage_0=ct.J)(v),jr=u._emscripten_bind_MkfsContext_GetImageSize_0=v=>(jr=u._emscripten_bind_MkfsContext_GetImageSize_0=ct.K)(v),Wr=u._emscripten_bind_MkfsContext___destroy___0=v=>(Wr=u._emscripten_bind_MkfsContext___destroy___0=ct.L)(v),Jn=u._emscripten_bind_FsckContext_FsckContext_1=v=>(Jn=u._emscripten_bind_FsckContext_FsckContext_1=ct.M)(v),Xi=u._emscripten_bind_FsckContext_GetImage_0=v=>(Xi=u._emscripten_bind_FsckContext_GetImage_0=ct.N)(v),jn=u._emscripten_bind_FsckContext_GetDirtyPages_0=v=>(jn=u._emscripten_bind_FsckContext_GetDirtyPages_0=ct.O)(v),Lo=u._emscripten_bind_FsckContext_GetImageSize_0=v=>(Lo=u._emscripten_bind_FsckContext_GetImageSize_0=ct.P)(v),xo=u._emscripten_bind_FsckContext_Fsck_0=v=>(xo=u._emscripten_bind_FsckContext_Fsck_0=ct.Q)(v),Qi=u._emscripten_bind_FsckContext_GetResult_0=v=>(Qi=u._emscripten_bind_FsckContext_GetResult_0=ct.R)(v),Ra=u._emscripten_bind_FsckContext___destroy___0=v=>(Ra=u._emscripten_bind_FsckContext___destroy___0=ct.S)(v),oa=u._emscripten_bind_GunzipContext_GunzipContext_3=(v,U,ie)=>(oa=u._emscripten_bind_GunzipContext_GunzipContext_3=ct.T)(v,U,ie),$s=u._emscripten_bind_GunzipContext_GetState_0=v=>($s=u._emscripten_bind_GunzipContext_GetState_0=ct.U)(v),ia=u._emscripten_bind_GunzipContext_Continue_0=v=>(ia=u._emscripten_bind_GunzipContext_Continue_0=ct.V)(v),Ji=u._emscripten_bind_GunzipContext_GetUncompressedData_0=v=>(Ji=u._emscripten_bind_GunzipContext_GetUncompressedData_0=ct.W)(v),Pa=u._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=v=>(Pa=u._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=ct.X)(v),sa=u._emscripten_bind_GunzipContext_GetUncompressedSize_0=v=>(sa=u._emscripten_bind_GunzipContext_GetUncompressedSize_0=ct.Y)(v),aa=u._emscripten_bind_GunzipContext_GetError_0=v=>(aa=u._emscripten_bind_GunzipContext_GetError_0=ct.Z)(v),Oa=u._emscripten_bind_GunzipContext___destroy___0=v=>(Oa=u._emscripten_bind_GunzipContext___destroy___0=ct._)(v),Na=u._emscripten_bind_GzipContext_GzipContext_3=(v,U,ie)=>(Na=u._emscripten_bind_GzipContext_GzipContext_3=ct.$)(v,U,ie),Fa=u._emscripten_bind_GzipContext_SetFilename_1=(v,U)=>(Fa=u._emscripten_bind_GzipContext_SetFilename_1=ct.aa)(v,U),La=u._emscripten_bind_GzipContext_SetMtime_1=(v,U)=>(La=u._emscripten_bind_GzipContext_SetMtime_1=ct.ba)(v,U),la=u._emscripten_bind_GzipContext_Continue_0=v=>(la=u._emscripten_bind_GzipContext_Continue_0=ct.ca)(v),$a=u._emscripten_bind_GzipContext_GetState_0=v=>($a=u._emscripten_bind_GzipContext_GetState_0=ct.da)(v),Ba=u._emscripten_bind_GzipContext_GetGzipData_0=v=>(Ba=u._emscripten_bind_GzipContext_GetGzipData_0=ct.ea)(v),Ir=u._emscripten_bind_GzipContext_GetGzipSize_0=v=>(Ir=u._emscripten_bind_GzipContext_GetGzipSize_0=ct.fa)(v),ca=u._emscripten_bind_GzipContext_GetError_0=v=>(ca=u._emscripten_bind_GzipContext_GetError_0=ct.ga)(v),po=u._emscripten_bind_GzipContext___destroy___0=v=>(po=u._emscripten_bind_GzipContext___destroy___0=ct.ha)(v),Ht=u._emscripten_bind_CreateZipContext_CreateZipContext_0=()=>(Ht=u._emscripten_bind_CreateZipContext_CreateZipContext_0=ct.ia)(),ua=u._emscripten_bind_CreateZipContext_Initialize_1=(v,U)=>(ua=u._emscripten_bind_CreateZipContext_Initialize_1=ct.ja)(v,U),Bs=u._emscripten_bind_CreateZipContext_AddEntry_1=(v,U)=>(Bs=u._emscripten_bind_CreateZipContext_AddEntry_1=ct.ka)(v,U),eo=u._emscripten_bind_CreateZipContext_WriteData_2=(v,U,ie)=>(eo=u._emscripten_bind_CreateZipContext_WriteData_2=ct.la)(v,U,ie),Vs=u._emscripten_bind_CreateZipContext_GetZipData_0=v=>(Vs=u._emscripten_bind_CreateZipContext_GetZipData_0=ct.ma)(v),Va=u._emscripten_bind_CreateZipContext_GetZipDataSize_0=v=>(Va=u._emscripten_bind_CreateZipContext_GetZipDataSize_0=ct.na)(v),Gn=u._emscripten_bind_CreateZipContext_GetLastError_0=v=>(Gn=u._emscripten_bind_CreateZipContext_GetLastError_0=ct.oa)(v),hs=u._emscripten_bind_CreateZipContext___destroy___0=v=>(hs=u._emscripten_bind_CreateZipContext___destroy___0=ct.pa)(v),xr=u._emscripten_bind_ZipfileWalker_ZipfileWalker_2=(v,U)=>(xr=u._emscripten_bind_ZipfileWalker_ZipfileWalker_2=ct.qa)(v,U),js=u._emscripten_bind_ZipfileWalker_GetState_0=v=>(js=u._emscripten_bind_ZipfileWalker_GetState_0=ct.ra)(v),gl=u._emscripten_bind_ZipfileWalker_Next_0=v=>(gl=u._emscripten_bind_ZipfileWalker_Next_0=ct.sa)(v),ja=u._emscripten_bind_ZipfileWalker_GetTotalEntries_0=v=>(ja=u._emscripten_bind_ZipfileWalker_GetTotalEntries_0=ct.ta)(v),Wn=u._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=v=>(Wn=u._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=ct.ua)(v),Yt=u._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=v=>(Yt=u._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=ct.va)(v),ms=u._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=v=>(ms=u._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=ct.wa)(v),Gs=u._emscripten_bind_ZipfileWalker___destroy___0=v=>(Gs=u._emscripten_bind_ZipfileWalker___destroy___0=ct.xa)(v),_l=u._main=(v,U)=>(_l=u._main=ct.ya)(v,U),da=v=>(da=ct.Aa)(v);function pa(){function v(){ts||(ts=!0,u.calledRun=!0,!le&&(function st(){ro(Gt)}(),function $t(){ro(Fe)}(),Z(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),ri&&function fa(){var v=_l;try{Nt+=1;var Oe=v(0,0);return Ii(Oe),Oe}catch(yt){return(v=>{if(v instanceof Hr||"unwind"==v)return ae;I(1,v)})(yt)}finally{Nt-=1}}(),function fe(){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;)v=u.postRun.shift(),ze.unshift(v);var v;ro(ze)}()))}St>0||(function je(){if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)v=u.preRun.shift(),ht.unshift(v);var v;ro(ht)}(),St>0)||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),v()},1)):v())}if(u.___original_main=()=>(u.___original_main=ct.Ba)(),jt=function v(){ts||pa(),ts||(jt=v)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);u.preInit.length>0;)u.preInit.pop()();var ri=!0;function Cr(){}function Yo(v){return(v||Cr).__cache__}function Bt(v,U){var ie=Yo(U),Oe=ie[v];return Oe||((Oe=Object.create((U||Cr).prototype)).ptr=v,ie[v]=Oe)}u.noInitialRun&&(ri=!1),pa(),(Cr.prototype=Object.create(Cr.prototype)).constructor=Cr,Cr.prototype.__class__=Cr,Cr.__cache__={},u.WrapperObject=Cr,u.getCache=Yo,u.wrapPointer=Bt,u.castObject=function $n(v,U){return Bt(v.ptr,U)},u.NULL=Bt(0),u.destroy=function Ul(v){if(!v.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";v.__destroy__(),delete Yo(v.__class__)[v.ptr]},u.compare=function vl(v,U){return v.ptr===U.ptr},u.getPointer=function yl(v){return v.ptr},u.getClass=function Hl(v){return v.__class__};var Xn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(Xn.needed){for(var v=0;v<Xn.temps.length;v++)u._webidl_free(Xn.temps[v]);Xn.temps.length=0,u._webidl_free(Xn.buffer),Xn.buffer=0,Xn.size+=Xn.needed,Xn.needed=0}Xn.buffer||(Xn.size+=128,Xn.buffer=u._webidl_malloc(Xn.size),xe(Xn.buffer)),Xn.pos=0},alloc(v,U){xe(Xn.buffer);var yt,Oe=v.length*U.BYTES_PER_ELEMENT;return Xn.pos+(Oe=Oe+7&-8)>=Xn.size?(xe(Oe>0),Xn.needed+=Oe,yt=u._webidl_malloc(Oe),Xn.temps.push(yt)):(yt=Xn.buffer+Xn.pos,Xn.pos+=Oe),yt},copy(v,U,ie){switch(ie>>>=0,U.BYTES_PER_ELEMENT){case 2:ie>>>=1;break;case 4:ie>>>=2;break;case 8:ie>>>=3}for(var yt=0;yt<v.length;yt++)U[ie+yt]=v[yt]}};function _s(v){if("string"==typeof v){var U=ds(v),ie=Xn.alloc(U,Re);return Xn.copy(U,Re,ie),ie}return v}function Bn(){throw"cannot construct a VoidPtr, no constructor in IDL"}function ho(){this.ptr=Ye(),Yo(ho)[this.ptr]=this}function mo(){this.ptr=kt(),Yo(mo)[this.ptr]=this}function Zr(v){v&&"object"==typeof v&&(v=v.ptr),this.ptr=Jn(v),Yo(Zr)[this.ptr]=this}function Qn(v,U,ie){v&&"object"==typeof v&&(v=v.ptr),U&&"object"==typeof U&&(U=U.ptr),ie&&"object"==typeof ie&&(ie=ie.ptr),this.ptr=oa(v,U,ie),Yo(Qn)[this.ptr]=this}function er(v,U,ie){v&&"object"==typeof v&&(v=v.ptr),U&&"object"==typeof U&&(U=U.ptr),ie&&"object"==typeof ie&&(ie=ie.ptr),this.ptr=Na(v,U,ie),Yo(er)[this.ptr]=this}function Rr(){this.ptr=Ht(),Yo(Rr)[this.ptr]=this}function Tr(v,U){v&&"object"==typeof v&&(v=v.ptr),U&&"object"==typeof U&&(U=U.ptr),this.ptr=xr(v,U),Yo(Tr)[this.ptr]=this}return(Bn.prototype=Object.create(Cr.prototype)).constructor=Bn,Bn.prototype.__class__=Bn,Bn.__cache__={},u.VoidPtr=Bn,Bn.prototype.__destroy__=Bn.prototype.__destroy__=function(){Ke(this.ptr)},(ho.prototype=Object.create(Cr.prototype)).constructor=ho,ho.prototype.__class__=ho,ho.__cache__={},u.FSTools=ho,ho.prototype.Malloc=ho.prototype.Malloc=function(v){return v&&"object"==typeof v&&(v=v.ptr),Bt(et(this.ptr,v),Bn)},ho.prototype.Free=ho.prototype.Free=function(v){v&&"object"==typeof v&&(v=v.ptr),A(this.ptr,v)},ho.prototype.Nullptr=ho.prototype.Nullptr=function(){return Bt(bt(this.ptr),Bn)},ho.prototype.__destroy__=ho.prototype.__destroy__=function(){At(this.ptr)},(mo.prototype=Object.create(Cr.prototype)).constructor=mo,mo.prototype.__class__=mo,mo.__cache__={},u.MkfsContext=mo,mo.prototype.Mkfs=mo.prototype.Mkfs=function(v,U){var ie=this.ptr;return Xn.prepare(),v&&"object"==typeof v&&(v=v.ptr),U=U&&"object"==typeof U?U.ptr:_s(U),!!Sn(ie,v,U)},mo.prototype.GetImage=mo.prototype.GetImage=function(){return Bt(Er(this.ptr),Bn)},mo.prototype.GetImageSize=mo.prototype.GetImageSize=function(){return jr(this.ptr)},mo.prototype.__destroy__=mo.prototype.__destroy__=function(){Wr(this.ptr)},(Zr.prototype=Object.create(Cr.prototype)).constructor=Zr,Zr.prototype.__class__=Zr,Zr.__cache__={},u.FsckContext=Zr,Zr.prototype.GetImage=Zr.prototype.GetImage=function(){return Bt(Xi(this.ptr),Bn)},Zr.prototype.GetDirtyPages=Zr.prototype.GetDirtyPages=function(){return Bt(jn(this.ptr),Bn)},Zr.prototype.GetImageSize=Zr.prototype.GetImageSize=function(){return Lo(this.ptr)},Zr.prototype.Fsck=Zr.prototype.Fsck=function(){return xo(this.ptr)},Zr.prototype.GetResult=Zr.prototype.GetResult=function(){return Qi(this.ptr)},Zr.prototype.__destroy__=Zr.prototype.__destroy__=function(){Ra(this.ptr)},(Qn.prototype=Object.create(Cr.prototype)).constructor=Qn,Qn.prototype.__class__=Qn,Qn.__cache__={},u.GunzipContext=Qn,Qn.prototype.GetState=Qn.prototype.GetState=function(){return $s(this.ptr)},Qn.prototype.Continue=Qn.prototype.Continue=function(){return ia(this.ptr)},Qn.prototype.GetUncompressedData=Qn.prototype.GetUncompressedData=function(){return Bt(Ji(this.ptr),Bn)},Qn.prototype.ReleaseUncompressedData=Qn.prototype.ReleaseUncompressedData=function(){return Bt(Pa(this.ptr),Bn)},Qn.prototype.GetUncompressedSize=Qn.prototype.GetUncompressedSize=function(){return sa(this.ptr)},Qn.prototype.GetError=Qn.prototype.GetError=function(){return be(aa(this.ptr))},Qn.prototype.__destroy__=Qn.prototype.__destroy__=function(){Oa(this.ptr)},(er.prototype=Object.create(Cr.prototype)).constructor=er,er.prototype.__class__=er,er.__cache__={},u.GzipContext=er,er.prototype.SetFilename=er.prototype.SetFilename=function(v){var U=this.ptr;return Xn.prepare(),v=v&&"object"==typeof v?v.ptr:_s(v),Bt(Fa(U,v),er)},er.prototype.SetMtime=er.prototype.SetMtime=function(v){return v&&"object"==typeof v&&(v=v.ptr),Bt(La(this.ptr,v),er)},er.prototype.Continue=er.prototype.Continue=function(){return la(this.ptr)},er.prototype.GetState=er.prototype.GetState=function(){return $a(this.ptr)},er.prototype.GetGzipData=er.prototype.GetGzipData=function(){return Bt(Ba(this.ptr),Bn)},er.prototype.GetGzipSize=er.prototype.GetGzipSize=function(){return Ir(this.ptr)},er.prototype.GetError=er.prototype.GetError=function(){return be(ca(this.ptr))},er.prototype.__destroy__=er.prototype.__destroy__=function(){po(this.ptr)},(Rr.prototype=Object.create(Cr.prototype)).constructor=Rr,Rr.prototype.__class__=Rr,Rr.__cache__={},u.CreateZipContext=Rr,Rr.prototype.Initialize=Rr.prototype.Initialize=function(v){return v&&"object"==typeof v&&(v=v.ptr),!!ua(this.ptr,v)},Rr.prototype.AddEntry=Rr.prototype.AddEntry=function(v){var U=this.ptr;return Xn.prepare(),v=v&&"object"==typeof v?v.ptr:_s(v),!!Bs(U,v)},Rr.prototype.WriteData=Rr.prototype.WriteData=function(v,U){return v&&"object"==typeof v&&(v=v.ptr),U&&"object"==typeof U&&(U=U.ptr),!!eo(this.ptr,v,U)},Rr.prototype.GetZipData=Rr.prototype.GetZipData=function(){return Bt(Vs(this.ptr),Bn)},Rr.prototype.GetZipDataSize=Rr.prototype.GetZipDataSize=function(){return Va(this.ptr)},Rr.prototype.GetLastError=Rr.prototype.GetLastError=function(){return be(Gn(this.ptr))},Rr.prototype.__destroy__=Rr.prototype.__destroy__=function(){hs(this.ptr)},(Tr.prototype=Object.create(Cr.prototype)).constructor=Tr,Tr.prototype.__class__=Tr,Tr.__cache__={},u.ZipfileWalker=Tr,Tr.prototype.GetState=Tr.prototype.GetState=function(){return js(this.ptr)},Tr.prototype.Next=Tr.prototype.Next=function(){return gl(this.ptr)},Tr.prototype.GetTotalEntries=Tr.prototype.GetTotalEntries=function(){return ja(this.ptr)},Tr.prototype.GetCurrentEntrySize=Tr.prototype.GetCurrentEntrySize=function(){return Wn(this.ptr)},Tr.prototype.GetCurrentEntryName=Tr.prototype.GetCurrentEntryName=function(){return be(Yt(this.ptr))},Tr.prototype.GetCurrentEntryContent=Tr.prototype.GetCurrentEntryContent=function(){return Bt(ms(this.ptr),Bn)},Tr.prototype.__destroy__=Tr.prototype.__destroy__=function(){Gs(this.ptr)},S.ready});ge.exports=De},8886:ge=>{var C,De=(C=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(S={}){var Z,Y,u=S;u.ready=new Promise((p,x)=>{Z=p,Y=x});var ve,G=Object.assign({},u),E="./this.program",I=(p,x)=>{throw x},K="object"==typeof window,L="function"==typeof importScripts,P=("object"==typeof process&&"object"==typeof process.versions&&process,"");(K||L)&&(L?P=self.location.href:typeof document<"u"&&document.currentScript&&(P=document.currentScript.src),C&&(P=C),P=0!==P.indexOf("blob:")?P.substr(0,P.replace(/[?#].*/,"").lastIndexOf("/")+1):"",L&&(ve=p=>{var x=new XMLHttpRequest;return x.open("GET",p,!1),x.responseType="arraybuffer",x.send(null),new Uint8Array(x.response)}));var M,se=u.print||console.log.bind(console),z=u.printErr||console.error.bind(console);Object.assign(u,G),G=null,u.thisProgram&&(E=u.thisProgram),u.quit&&(I=u.quit),u.wasmBinary&&(M=u.wasmBinary),"object"!=typeof WebAssembly&&_e("no native wasm support detected");var J,ae,Re,O,D,X,le=!1;function xe(p,x){p||_e(x)}function Be(){var p=J.buffer;u.HEAP8=Re=new Int8Array(p),u.HEAP16=new Int16Array(p),u.HEAPU8=O=new Uint8Array(p),u.HEAPU16=new Uint16Array(p),u.HEAP32=D=new Int32Array(p),u.HEAPU32=X=new Uint32Array(p),u.HEAPF32=new Float32Array(p),u.HEAPF64=new Float64Array(p)}var ht=[],Gt=[],Fe=[],ze=[],St=0,Ut=null,jt=null;function _e(p){u.onAbort&&u.onAbort(p),z(p="Aborted("+p+")"),le=!0,ae=1,p+=". Build with -sASSERTIONS for more info.";var x=new WebAssembly.RuntimeError(p);throw Y(x),x}var en,Nn,vt=p=>p.startsWith("data:application/octet-stream;base64,"),Nt=0;function dn(p){return function(){if(le)throw"program has already aborted!";Nt+=1;try{return p.apply(null,arguments)}catch(x){if(le||Nt>1||x===1/0||"unwind"===x)throw x;_e("unhandled exception: "+[x,x.stack])}finally{Nt-=1}}}function vr(p){if(p==en&&M)return new Uint8Array(M);if(ve)return ve(p);throw"both async and sync fetching of the wasm failed"}function Zo(p,x,oe){return function Yn(p){return M||!K&&!L||"function"!=typeof fetch?Promise.resolve().then(()=>vr(p)):fetch(p,{credentials:"same-origin"}).then(x=>{if(!x.ok)throw"failed to load wasm binary file at '"+p+"'";return x.arrayBuffer()}).catch(()=>vr(p))}(p).then(Le=>WebAssembly.instantiate(Le,x)).then(Le=>Le).then(oe,Le=>{z(`failed to asynchronously prepare wasm: ${Le}`),_e(Le)})}function Br(p){this.name="ExitStatus",this.message=`Program terminated with exit(${p})`,this.status=p}vt(en="vfs_web.wasm")||(en=function T(p){return u.locateFile?u.locateFile(p,P):P+p}(en));var Kn,Hr=p=>{for(;p.length>0;)p.shift()(u)},ro=u.noExitRuntime||!0,go=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Vr=(p,x,oe)=>{for(var Le=x+oe,Qe=x;p[Qe]&&!(Qe>=Le);)++Qe;if(Qe-x>16&&p.buffer&&go)return go.decode(p.subarray(x,Qe));for(var gn="";x<Qe;){var an=p[x++];if(128&an){var Kt=63&p[x++];if(192!=(224&an)){var ur=63&p[x++];if((an=224==(240&an)?(15&an)<<12|Kt<<6|ur:(7&an)<<18|Kt<<12|ur<<6|63&p[x++])<65536)gn+=String.fromCharCode(an);else{var $o=an-65536;gn+=String.fromCharCode(55296|$o>>10,56320|1023&$o)}}else gn+=String.fromCharCode((31&an)<<6|Kt)}else gn+=String.fromCharCode(an)}return gn},pe=(p,x)=>p?Vr(O,p,x):"",mn=(p,x)=>x+2097152>>>0<4194305-!!p?(p>>>0)+4294967296*x:NaN,or=p=>p%4==0&&(p%100!=0||p%400==0),Dr=[0,31,60,91,121,152,182,213,244,274,305,335],_o=[0,31,59,90,120,151,181,212,243,273,304,334],Fn=p=>(or(p.getFullYear())?Dr:_o)[p.getMonth()]+p.getDate()-1,No=p=>{for(var x=0,oe=0;oe<p.length;++oe){var Le=p.charCodeAt(oe);Le<=127?x++:Le<=2047?x+=2:Le>=55296&&Le<=57343?(x+=4,++oe):x+=3}return x},xn=(p,x,oe,Le)=>{if(!(Le>0))return 0;for(var Qe=oe,gn=oe+Le-1,an=0;an<p.length;++an){var Kt=p.charCodeAt(an);if(Kt>=55296&&Kt<=57343&&(Kt=65536+((1023&Kt)<<10)|1023&p.charCodeAt(++an)),Kt<=127){if(oe>=gn)break;x[oe++]=Kt}else if(Kt<=2047){if(oe+1>=gn)break;x[oe++]=192|Kt>>6,x[oe++]=128|63&Kt}else if(Kt<=65535){if(oe+2>=gn)break;x[oe++]=224|Kt>>12,x[oe++]=128|Kt>>6&63,x[oe++]=128|63&Kt}else{if(oe+3>=gn)break;x[oe++]=240|Kt>>18,x[oe++]=128|Kt>>12&63,x[oe++]=128|Kt>>6&63,x[oe++]=128|63&Kt}}return x[oe]=0,oe-Qe},br=p=>{var x=No(p)+1,oe=Yi(x);return oe&&((p,x,oe)=>{xn(p,O,x,oe)})(p,oe,x),oe},pi=p=>{var oe=(p-J.buffer.byteLength+65535)/65536;try{return J.grow(oe),Be(),1}catch{}},ne={},qo=()=>{if(!qo.strings){var x={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:E||"./this.program"};for(var oe in ne)void 0===ne[oe]?delete x[oe]:x[oe]=ne[oe];var Le=[];for(var oe in x)Le.push(`${oe}=${x[oe]}`);qo.strings=Le}return qo.strings},Wi=[null,[],[]],ta=(p,x)=>{var oe=Wi[p];0===x||10===x?((1===p?se:z)(Vr(oe,0)),oe.length=0):oe.push(x)},Ii=[31,29,31,30,31,30,31,31,30,31,30,31],Zi=[31,28,31,30,31,30,31,31,30,31,30,31];function Fo(p,x,oe){var Le=oe>0?oe:No(p)+1,Qe=new Array(Le),gn=xn(p,Qe,0,Qe.length);return x&&(Qe.length=gn),Qe}var er,Ls=(p,x)=>{ae=p,(p=>{ae=p,ro||(u.onExit&&u.onExit(p),le=!0),I(p,new Br(p))})(p)},ds={a:(p,x,oe,Le)=>{_e(`Assertion failed: ${pe(p)}, at: `+[x?pe(x):"unknown filename",oe,Le?pe(Le):"unknown function"])},n:function Cn(p,x,oe){mn(x,oe)},j:()=>1,k:function Eo(p,x,oe){var Le=mn(p,x),Qe=new Date(1e3*Le);D[oe>>2]=Qe.getSeconds(),D[oe+4>>2]=Qe.getMinutes(),D[oe+8>>2]=Qe.getHours(),D[oe+12>>2]=Qe.getDate(),D[oe+16>>2]=Qe.getMonth(),D[oe+20>>2]=Qe.getFullYear()-1900,D[oe+24>>2]=Qe.getDay();var gn=0|Fn(Qe);D[oe+28>>2]=gn,D[oe+36>>2]=-60*Qe.getTimezoneOffset();var an=new Date(Qe.getFullYear(),0,1),Kt=new Date(Qe.getFullYear(),6,1).getTimezoneOffset(),ur=an.getTimezoneOffset(),$o=0|(Kt!=ur&&Qe.getTimezoneOffset()==Math.min(ur,Kt));D[oe+32>>2]=$o},l:function(p){var x=(()=>{var oe=new Date(D[p+20>>2]+1900,D[p+16>>2],D[p+12>>2],D[p+8>>2],D[p+4>>2],D[p>>2],0),Le=D[p+32>>2],Qe=oe.getTimezoneOffset(),gn=new Date(oe.getFullYear(),0,1),an=new Date(oe.getFullYear(),6,1).getTimezoneOffset(),Kt=gn.getTimezoneOffset(),ur=Math.min(Kt,an);if(Le<0)D[p+32>>2]=+(an!=Kt&&ur==Qe);else if(Le>0!=(ur==Qe)){var $o=Math.max(Kt,an),Un=Le>0?ur:$o;oe.setTime(oe.getTime()+6e4*(Un-Qe))}D[p+24>>2]=oe.getDay();var Ga=0|Fn(oe);D[p+28>>2]=Ga,D[p>>2]=oe.getSeconds(),D[p+4>>2]=oe.getMinutes(),D[p+8>>2]=oe.getHours(),D[p+12>>2]=oe.getDate(),D[p+16>>2]=oe.getMonth(),D[p+20>>2]=oe.getYear();var To=oe.getTime();return isNaN(To)?(D[Bn()>>2]=61,-1):To/1e3})();return ho((Nn=x,+Math.abs(Nn)>=1?Nn>0?+Math.floor(Nn/4294967296)>>>0:~~+Math.ceil((Nn-+(~~Nn>>>0))/4294967296)>>>0:0)),x>>>0},e:(p,x,oe)=>{var Le=(new Date).getFullYear(),Qe=new Date(Le,0,1),gn=new Date(Le,6,1),an=Qe.getTimezoneOffset(),Kt=gn.getTimezoneOffset(),ur=Math.max(an,Kt);function $o(ha){var Us=ha.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Us?Us[1]:"GMT"}X[p>>2]=60*ur,D[x>>2]=+(an!=Kt);var Un=$o(Qe),Ga=$o(gn),To=br(Un),pt=br(Ga);Kt<an?(X[oe>>2]=To,X[oe+4>>2]=pt):(X[oe>>2]=pt,X[oe+4>>2]=To)},b:()=>{_e("")},c:()=>Date.now(),f:(p,x,oe)=>O.copyWithin(p,x,x+oe),d:p=>{var ur,x=O.length,oe=2147483648;if((p>>>=0)>oe)return!1;for(var Qe=1;Qe<=4;Qe*=2){var gn=x*(1+.2/Qe);gn=Math.min(gn,p+100663296);var an=Math.min(oe,(ur=Math.max(p,gn))+(65536-ur%65536)%65536);if(pi(an))return!0}return!1},p:(p,x)=>{var oe=0;return qo().forEach((Le,Qe)=>{var gn=x+oe;X[p+4*Qe>>2]=gn,((p,x)=>{for(var oe=0;oe<p.length;++oe)Re[x++>>0]=p.charCodeAt(oe);Re[x>>0]=0})(Le,gn),oe+=Le.length+1}),0},q:(p,x)=>{var oe=qo();X[p>>2]=oe.length;var Le=0;return oe.forEach(Qe=>Le+=Qe.length+1),X[x>>2]=Le,0},g:p=>52,i:(p,x,oe,Le)=>52,m:function Jr(p,x,oe,Le,Qe){return mn(x,oe),70},h:(p,x,oe,Le)=>{for(var Qe=0,gn=0;gn<oe;gn++){var an=X[x>>2],Kt=X[x+4>>2];x+=8;for(var ur=0;ur<Kt;ur++)ta(p,O[an+ur]);Qe+=Kt}return X[Le>>2]=Qe,0},o:(p,x,oe,Le,Qe)=>((p,x,oe,Le)=>{var Qe=X[Le+40>>2],gn={tm_sec:D[Le>>2],tm_min:D[Le+4>>2],tm_hour:D[Le+8>>2],tm_mday:D[Le+12>>2],tm_mon:D[Le+16>>2],tm_year:D[Le+20>>2],tm_wday:D[Le+24>>2],tm_yday:D[Le+28>>2],tm_isdst:D[Le+32>>2],tm_gmtoff:D[Le+36>>2],tm_zone:Qe?pe(Qe):""},an=pe(oe),Kt={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ur in Kt)an=an.replace(new RegExp(ur,"g"),Kt[ur]);var $o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Un=["January","February","March","April","May","June","July","August","September","October","November","December"];function Ga(mt,ln,mi){for(var oi="number"==typeof mt?mt.toString():mt||"";oi.length<ln;)oi=mi[0]+oi;return oi}function To(mt,ln){return Ga(mt,ln,"0")}function pt(mt,ln){function mi(Wl){return Wl<0?-1:Wl>0?1:0}var oi;return 0===(oi=mi(mt.getFullYear()-ln.getFullYear()))&&0===(oi=mi(mt.getMonth()-ln.getMonth()))&&(oi=mi(mt.getDate()-ln.getDate())),oi}function ha(mt){switch(mt.getDay()){case 0:return new Date(mt.getFullYear()-1,11,29);case 1:return mt;case 2:return new Date(mt.getFullYear(),0,3);case 3:return new Date(mt.getFullYear(),0,2);case 4:return new Date(mt.getFullYear(),0,1);case 5:return new Date(mt.getFullYear()-1,11,31);case 6:return new Date(mt.getFullYear()-1,11,30)}}function Us(mt){var ln=((p,x)=>{for(var oe=new Date(p.getTime());x>0;){var Le=or(oe.getFullYear()),Qe=oe.getMonth(),gn=(Le?Ii:Zi)[Qe];if(!(x>gn-oe.getDate()))return oe.setDate(oe.getDate()+x),oe;x-=gn-oe.getDate()+1,oe.setDate(1),Qe<11?oe.setMonth(Qe+1):(oe.setMonth(0),oe.setFullYear(oe.getFullYear()+1))}return oe})(new Date(mt.tm_year+1900,0,1),mt.tm_yday),mi=new Date(ln.getFullYear(),0,4),oi=new Date(ln.getFullYear()+1,0,4),Wl=ha(mi),Yd=ha(oi);return pt(Wl,ln)<=0?pt(Yd,ln)<=0?ln.getFullYear()+1:ln.getFullYear():ln.getFullYear()-1}var zl={"%a":mt=>$o[mt.tm_wday].substring(0,3),"%A":mt=>$o[mt.tm_wday],"%b":mt=>Un[mt.tm_mon].substring(0,3),"%B":mt=>Un[mt.tm_mon],"%C":mt=>To((mt.tm_year+1900)/100|0,2),"%d":mt=>To(mt.tm_mday,2),"%e":mt=>Ga(mt.tm_mday,2," "),"%g":mt=>Us(mt).toString().substring(2),"%G":mt=>Us(mt),"%H":mt=>To(mt.tm_hour,2),"%I":mt=>{var ln=mt.tm_hour;return 0==ln?ln=12:ln>12&&(ln-=12),To(ln,2)},"%j":mt=>To(mt.tm_mday+((p,x)=>{for(var oe=0,Le=0;Le<=x;oe+=p[Le++]);return oe})(or(mt.tm_year+1900)?Ii:Zi,mt.tm_mon-1),3),"%m":mt=>To(mt.tm_mon+1,2),"%M":mt=>To(mt.tm_min,2),"%n":()=>"\n","%p":mt=>mt.tm_hour>=0&&mt.tm_hour<12?"AM":"PM","%S":mt=>To(mt.tm_sec,2),"%t":()=>"\t","%u":mt=>mt.tm_wday||7,"%U":mt=>To(Math.floor((mt.tm_yday+7-mt.tm_wday)/7),2),"%V":mt=>{var ln=Math.floor((mt.tm_yday+7-(mt.tm_wday+6)%7)/7);if((mt.tm_wday+371-mt.tm_yday-2)%7<=2&&ln++,ln){if(53==ln){var oi=(mt.tm_wday+371-mt.tm_yday)%7;4!=oi&&(3!=oi||!or(mt.tm_year))&&(ln=1)}}else{ln=52;var mi=(mt.tm_wday+7-mt.tm_yday-1)%7;(4==mi||5==mi&&or(mt.tm_year%400-1))&&ln++}return To(ln,2)},"%w":mt=>mt.tm_wday,"%W":mt=>To(Math.floor((mt.tm_yday+7-(mt.tm_wday+6)%7)/7),2),"%y":mt=>(mt.tm_year+1900).toString().substring(2),"%Y":mt=>mt.tm_year+1900,"%z":mt=>{var ln=mt.tm_gmtoff;return(ln>=0?"+":"-")+("0000"+(ln=(ln=Math.abs(ln)/60)/60*100+ln%60)).slice(-4)},"%Z":mt=>mt.tm_zone,"%%":()=>"%"};for(var ur in an=an.replace(/%%/g,"\0\0"),zl)an.includes(ur)&&(an=an.replace(new RegExp(ur,"g"),zl[ur](gn)));var Ua=Fo(an=an.replace(/\0\0/g,"%"),!1);return Ua.length>x?0:(((p,x)=>{Re.set(p,x)})(Ua,p),Ua.length-1)})(p,x,oe,Le)},nt=function Do(){var p={a:ds};function x(Le,Qe){return nt=function rn(p){var x={};for(var oe in p){var Le=p[oe];x[oe]="function"==typeof Le?dn(Le):Le}return x}(nt=Le.exports),J=nt.r,Be(),Kn=nt.Ua,function at(p){Gt.unshift(p)}(nt.s),function pn(){var p=Kn.get,x={};Kn.get=oe=>{var Le=p.call(Kn,oe),Qe=x[oe];return(!Qe||Qe.func!==Le)&&(Qe=x[oe]={func:Le,wrapper:dn(Le)}),Qe.wrapper}}(),function we(p){if(St--,u.monitorRunDependencies&&u.monitorRunDependencies(St),0==St&&(null!==Ut&&(clearInterval(Ut),Ut=null),jt)){var x=jt;jt=null,x()}}(),nt}if(function Te(p){St++,u.monitorRunDependencies&&u.monitorRunDependencies(St)}(),u.instantiateWasm)try{return u.instantiateWasm(p,x)}catch(Le){z(`Module.instantiateWasm callback failed with error: ${Le}`),Y(Le)}return function wo(p,x,oe,Le){return p||"function"!=typeof WebAssembly.instantiateStreaming||vt(x)||"function"!=typeof fetch?Zo(x,oe,Le):fetch(x,{credentials:"same-origin"}).then(Qe=>WebAssembly.instantiateStreaming(Qe,oe).then(Le,function(an){return z(`wasm streaming compile failed: ${an}`),z("falling back to ArrayBuffer instantiation"),Zo(x,oe,Le)}))}(M,en,p,function oe(Le){x(Le.instance)}).catch(Y),{}}(),Yi=u._malloc=p=>(Yi=u._malloc=nt.t)(p),m=(u._free=p=>(u._free=nt.u)(p),u._webidl_free=p=>(u._webidl_free=nt.v)(p),u._webidl_malloc=p=>(u._webidl_malloc=nt.w)(p),u._emscripten_bind_VoidPtr___destroy___0=p=>(m=u._emscripten_bind_VoidPtr___destroy___0=nt.x)(p)),w=u._emscripten_bind_FileEntry_GetName_0=p=>(w=u._emscripten_bind_FileEntry_GetName_0=nt.y)(p),$=u._emscripten_bind_FileEntry_IsDirectory_0=p=>($=u._emscripten_bind_FileEntry_IsDirectory_0=nt.z)(p),re=u._emscripten_bind_FileEntry_GetSize_0=p=>(re=u._emscripten_bind_FileEntry_GetSize_0=nt.A)(p),Me=u._emscripten_bind_FileEntry_GetModifiedTS_0=p=>(Me=u._emscripten_bind_FileEntry_GetModifiedTS_0=nt.B)(p),ue=u._emscripten_bind_FileEntry_GetAttributes_0=p=>(ue=u._emscripten_bind_FileEntry_GetAttributes_0=nt.C)(p),Ke=u._emscripten_bind_FileEntry___destroy___0=p=>(Ke=u._emscripten_bind_FileEntry___destroy___0=nt.D)(p),Ye=u._emscripten_bind_Vfs_Vfs_0=()=>(Ye=u._emscripten_bind_Vfs_Vfs_0=nt.E)(),et=u._emscripten_bind_Vfs_Malloc_1=(p,x)=>(et=u._emscripten_bind_Vfs_Malloc_1=nt.F)(p,x),A=u._emscripten_bind_Vfs_Free_1=(p,x)=>(A=u._emscripten_bind_Vfs_Free_1=nt.G)(p,x),bt=u._emscripten_bind_Vfs_Nullptr_0=p=>(bt=u._emscripten_bind_Vfs_Nullptr_0=nt.H)(p),At=u._emscripten_bind_Vfs_AllocateImage_1=(p,x)=>(At=u._emscripten_bind_Vfs_AllocateImage_1=nt.I)(p,x),kt=u._emscripten_bind_Vfs_MountImage_1=(p,x)=>(kt=u._emscripten_bind_Vfs_MountImage_1=nt.J)(p,x),Sn=u._emscripten_bind_Vfs_UnmountImage_1=(p,x)=>(Sn=u._emscripten_bind_Vfs_UnmountImage_1=nt.K)(p,x),Er=u._emscripten_bind_Vfs_SwitchSlot_1=(p,x)=>(Er=u._emscripten_bind_Vfs_SwitchSlot_1=nt.L)(p,x),jr=u._emscripten_bind_Vfs_GetPendingImageSize_0=p=>(jr=u._emscripten_bind_Vfs_GetPendingImageSize_0=nt.M)(p),Wr=u._emscripten_bind_Vfs_GetSize_1=(p,x)=>(Wr=u._emscripten_bind_Vfs_GetSize_1=nt.N)(p,x),Jn=u._emscripten_bind_Vfs_GetPendingImage_0=p=>(Jn=u._emscripten_bind_Vfs_GetPendingImage_0=nt.O)(p),Xi=u._emscripten_bind_Vfs_GetImage_1=(p,x)=>(Xi=u._emscripten_bind_Vfs_GetImage_1=nt.P)(p,x),jn=u._emscripten_bind_Vfs_GetDirtyPages_1=(p,x)=>(jn=u._emscripten_bind_Vfs_GetDirtyPages_1=nt.Q)(p,x),Lo=u._emscripten_bind_Vfs_RenameFile_2=(p,x,oe)=>(Lo=u._emscripten_bind_Vfs_RenameFile_2=nt.R)(p,x,oe),xo=u._emscripten_bind_Vfs_ChmodFile_3=(p,x,oe,Le)=>(xo=u._emscripten_bind_Vfs_ChmodFile_3=nt.S)(p,x,oe,Le),Qi=u._emscripten_bind_Vfs_StatFile_1=(p,x)=>(Qi=u._emscripten_bind_Vfs_StatFile_1=nt.T)(p,x),Ra=u._emscripten_bind_Vfs_UnlinkFile_1=(p,x)=>(Ra=u._emscripten_bind_Vfs_UnlinkFile_1=nt.U)(p,x),oa=u._emscripten_bind_Vfs_Mkdir_1=(p,x)=>(oa=u._emscripten_bind_Vfs_Mkdir_1=nt.V)(p,x),$s=u._emscripten_bind_Vfs_GetEntry_0=p=>($s=u._emscripten_bind_Vfs_GetEntry_0=nt.W)(p),ia=u._emscripten_bind_Vfs_BytesFree_1=(p,x)=>(ia=u._emscripten_bind_Vfs_BytesFree_1=nt.X)(p,x),Ji=u._emscripten_bind_Vfs_BytesTotal_1=(p,x)=>(Ji=u._emscripten_bind_Vfs_BytesTotal_1=nt.Y)(p,x),Pa=u._emscripten_bind_Vfs_ReadFile_1=(p,x)=>(Pa=u._emscripten_bind_Vfs_ReadFile_1=nt.Z)(p,x),sa=u._emscripten_bind_Vfs_GetCurrentFileSize_0=p=>(sa=u._emscripten_bind_Vfs_GetCurrentFileSize_0=nt._)(p),aa=u._emscripten_bind_Vfs_GetCurrentFileContent_0=p=>(aa=u._emscripten_bind_Vfs_GetCurrentFileContent_0=nt.$)(p),Oa=u._emscripten_bind_Vfs_ReleaseCurrentFile_0=p=>(Oa=u._emscripten_bind_Vfs_ReleaseCurrentFile_0=nt.aa)(p),Na=u._emscripten_bind_Vfs_WriteFile_3=(p,x,oe,Le)=>(Na=u._emscripten_bind_Vfs_WriteFile_3=nt.ba)(p,x,oe,Le),Fa=u._emscripten_bind_Vfs___destroy___0=p=>(Fa=u._emscripten_bind_Vfs___destroy___0=nt.ca)(p),La=u._emscripten_bind_ReaddirContext_ReaddirContext_1=p=>(La=u._emscripten_bind_ReaddirContext_ReaddirContext_1=nt.da)(p),la=u._emscripten_bind_ReaddirContext_Next_0=p=>(la=u._emscripten_bind_ReaddirContext_Next_0=nt.ea)(p),$a=u._emscripten_bind_ReaddirContext_GetEntry_0=p=>($a=u._emscripten_bind_ReaddirContext_GetEntry_0=nt.fa)(p),Ba=u._emscripten_bind_ReaddirContext_GetStatus_0=p=>(Ba=u._emscripten_bind_ReaddirContext_GetStatus_0=nt.ga)(p),Ir=u._emscripten_bind_ReaddirContext_GetError_0=p=>(Ir=u._emscripten_bind_ReaddirContext_GetError_0=nt.ha)(p),ca=u._emscripten_bind_ReaddirContext_GetErrorDescription_0=p=>(ca=u._emscripten_bind_ReaddirContext_GetErrorDescription_0=nt.ia)(p),po=u._emscripten_bind_ReaddirContext___destroy___0=p=>(po=u._emscripten_bind_ReaddirContext___destroy___0=nt.ja)(p),Ht=u._emscripten_bind_ExportZipContext_ExportZipContext_2=(p,x)=>(Ht=u._emscripten_bind_ExportZipContext_ExportZipContext_2=nt.ka)(p,x),ua=u._emscripten_bind_ExportZipContext_AddFile_1=(p,x)=>(ua=u._emscripten_bind_ExportZipContext_AddFile_1=nt.la)(p,x),Bs=u._emscripten_bind_ExportZipContext_AddDirectory_1=(p,x)=>(Bs=u._emscripten_bind_ExportZipContext_AddDirectory_1=nt.ma)(p,x),eo=u._emscripten_bind_ExportZipContext_Continue_0=p=>(eo=u._emscripten_bind_ExportZipContext_Continue_0=nt.na)(p),Vs=u._emscripten_bind_ExportZipContext_GetState_0=p=>(Vs=u._emscripten_bind_ExportZipContext_GetState_0=nt.oa)(p),Va=u._emscripten_bind_ExportZipContext_GetZipContent_0=p=>(Va=u._emscripten_bind_ExportZipContext_GetZipContent_0=nt.pa)(p),Gn=u._emscripten_bind_ExportZipContext_GetZipSize_0=p=>(Gn=u._emscripten_bind_ExportZipContext_GetZipSize_0=nt.qa)(p),hs=u._emscripten_bind_ExportZipContext_GetErrorItem_0=p=>(hs=u._emscripten_bind_ExportZipContext_GetErrorItem_0=nt.ra)(p),xr=u._emscripten_bind_ExportZipContext___destroy___0=p=>(xr=u._emscripten_bind_ExportZipContext___destroy___0=nt.sa)(p),js=u._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=p=>(js=u._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=nt.ta)(p),gl=u._emscripten_bind_DeleteRecursiveContext_AddFile_1=(p,x)=>(gl=u._emscripten_bind_DeleteRecursiveContext_AddFile_1=nt.ua)(p,x),ja=u._emscripten_bind_DeleteRecursiveContext_Continue_0=p=>(ja=u._emscripten_bind_DeleteRecursiveContext_Continue_0=nt.va)(p),Wn=u._emscripten_bind_DeleteRecursiveContext_GetState_0=p=>(Wn=u._emscripten_bind_DeleteRecursiveContext_GetState_0=nt.wa)(p),Yt=u._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=p=>(Yt=u._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=nt.xa)(p),ms=u._emscripten_bind_DeleteRecursiveContext___destroy___0=p=>(ms=u._emscripten_bind_DeleteRecursiveContext___destroy___0=nt.ya)(p),Gs=u._emscripten_bind_UnzipContext_UnzipContext_4=(p,x,oe,Le)=>(Gs=u._emscripten_bind_UnzipContext_UnzipContext_4=nt.za)(p,x,oe,Le),_l=u._emscripten_bind_UnzipContext_GetState_0=p=>(_l=u._emscripten_bind_UnzipContext_GetState_0=nt.Aa)(p),da=u._emscripten_bind_UnzipContext_Continue_0=p=>(da=u._emscripten_bind_UnzipContext_Continue_0=nt.Ba)(p),Xe=u._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=p=>(Xe=u._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=nt.Ca)(p),es=u._emscripten_bind_UnzipContext_GetCurrentEntry_0=p=>(es=u._emscripten_bind_UnzipContext_GetCurrentEntry_0=nt.Da)(p),gs=u._emscripten_bind_UnzipContext_GetCollisionPath_0=p=>(gs=u._emscripten_bind_UnzipContext_GetCollisionPath_0=nt.Ea)(p),ts=u._emscripten_bind_UnzipContext_GetEntriesTotal_0=p=>(ts=u._emscripten_bind_UnzipContext_GetEntriesTotal_0=nt.Fa)(p),fa=u._emscripten_bind_UnzipContext_GetEntriesSuccess_0=p=>(fa=u._emscripten_bind_UnzipContext_GetEntriesSuccess_0=nt.Ga)(p),pa=u._emscripten_bind_UnzipContext___destroy___0=p=>(pa=u._emscripten_bind_UnzipContext___destroy___0=nt.Ha)(p),ri=u._emscripten_bind_PasteContext_PasteContext_3=(p,x,oe)=>(ri=u._emscripten_bind_PasteContext_PasteContext_3=nt.Ia)(p,x,oe),Cr=u._emscripten_bind_PasteContext_AddFile_1=(p,x)=>(Cr=u._emscripten_bind_PasteContext_AddFile_1=nt.Ja)(p,x),Yo=u._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=(p,x)=>(Yo=u._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=nt.Ka)(p,x),Bt=u._emscripten_bind_PasteContext_GetState_0=p=>(Bt=u._emscripten_bind_PasteContext_GetState_0=nt.La)(p),$n=u._emscripten_bind_PasteContext_Continue_0=p=>($n=u._emscripten_bind_PasteContext_Continue_0=nt.Ma)(p),Ul=u._emscripten_bind_PasteContext_ContinueWithOverwrite_0=p=>(Ul=u._emscripten_bind_PasteContext_ContinueWithOverwrite_0=nt.Na)(p),vl=u._emscripten_bind_PasteContext_GetCurrentEntry_0=p=>(vl=u._emscripten_bind_PasteContext_GetCurrentEntry_0=nt.Oa)(p),yl=u._emscripten_bind_PasteContext_GetCollisionPath_0=p=>(yl=u._emscripten_bind_PasteContext_GetCollisionPath_0=nt.Pa)(p),Hl=u._emscripten_bind_PasteContext_GetEntriesSuccess_0=p=>(Hl=u._emscripten_bind_PasteContext_GetEntriesSuccess_0=nt.Qa)(p),Xn=u._emscripten_bind_PasteContext___destroy___0=p=>(Xn=u._emscripten_bind_PasteContext___destroy___0=nt.Ra)(p),_s=u._main=(p,x)=>(_s=u._main=nt.Sa)(p,x),Bn=()=>(Bn=nt.Ta)(),ho=p=>(ho=nt.Va)(p);function Tr(){function p(){er||(er=!0,u.calledRun=!0,!le&&(function st(){Hr(Gt)}(),function $t(){Hr(Fe)}(),Z(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),v&&function Rr(){var p=_s;try{Nt+=1;var Le=p(0,0);return Ls(Le),Le}catch(Qe){return(p=>{if(p instanceof Br||"unwind"==p)return ae;I(1,p)})(Qe)}finally{Nt-=1}}(),function fe(){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;)p=u.postRun.shift(),ze.unshift(p);var p;Hr(ze)}()))}St>0||(function je(){if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)p=u.preRun.shift(),ht.unshift(p);var p;Hr(ht)}(),St>0)||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),p()},1)):p())}if(u.___original_main=()=>(u.___original_main=nt.Wa)(),jt=function p(){er||Tr(),er||(jt=p)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);u.preInit.length>0;)u.preInit.pop()();var v=!0;function U(){}function ie(p){return(p||U).__cache__}function Oe(p,x){var oe=ie(x),Le=oe[p];return Le||((Le=Object.create((x||U).prototype)).ptr=p,oe[p]=Le)}u.noInitialRun&&(v=!1),Tr(),(U.prototype=Object.create(U.prototype)).constructor=U,U.prototype.__class__=U,U.__cache__={},u.WrapperObject=U,u.getCache=ie,u.wrapPointer=Oe,u.castObject=function yt(p,x){return Oe(p.ptr,x)},u.NULL=Oe(0),u.destroy=function qt(p){if(!p.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";p.__destroy__(),delete ie(p.__class__)[p.ptr]},u.compare=function ot(p,x){return p.ptr===x.ptr},u.getPointer=function hn(p){return p.ptr},u.getClass=function ar(p){return p.__class__};var zt={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(zt.needed){for(var p=0;p<zt.temps.length;p++)u._webidl_free(zt.temps[p]);zt.temps.length=0,u._webidl_free(zt.buffer),zt.buffer=0,zt.size+=zt.needed,zt.needed=0}zt.buffer||(zt.size+=128,zt.buffer=u._webidl_malloc(zt.size),xe(zt.buffer)),zt.pos=0},alloc(p,x){xe(zt.buffer);var Qe,Le=p.length*x.BYTES_PER_ELEMENT;return zt.pos+(Le=Le+7&-8)>=zt.size?(xe(Le>0),zt.needed+=Le,Qe=u._webidl_malloc(Le),zt.temps.push(Qe)):(Qe=zt.buffer+zt.pos,zt.pos+=Le),Qe},copy(p,x,oe){switch(oe>>>=0,x.BYTES_PER_ELEMENT){case 2:oe>>>=1;break;case 4:oe>>>=2;break;case 8:oe>>>=3}for(var Qe=0;Qe<p.length;Qe++)x[oe+Qe]=p[Qe]}};function Pr(p){if("string"==typeof p){var x=Fo(p),oe=zt.alloc(x,Re);return zt.copy(x,Re,oe),oe}return p}function $e(){throw"cannot construct a VoidPtr, no constructor in IDL"}function wn(){throw"cannot construct a FileEntry, no constructor in IDL"}function lt(){this.ptr=Ye(),ie(lt)[this.ptr]=this}function lr(p){zt.prepare(),p=p&&"object"==typeof p?p.ptr:Pr(p),this.ptr=La(p),ie(lr)[this.ptr]=this}function Zn(p,x){zt.prepare(),p=p&&"object"==typeof p?p.ptr:Pr(p),x&&"object"==typeof x&&(x=x.ptr),this.ptr=Ht(p,x),ie(Zn)[this.ptr]=this}function Or(p){p&&"object"==typeof p&&(p=p.ptr),this.ptr=js(p),ie(Or)[this.ptr]=this}function cr(p,x,oe,Le){zt.prepare(),p&&"object"==typeof p&&(p=p.ptr),x=x&&"object"==typeof x?x.ptr:Pr(x),oe&&"object"==typeof oe&&(oe=oe.ptr),Le&&"object"==typeof Le&&(Le=Le.ptr),this.ptr=Gs(p,x,oe,Le),ie(cr)[this.ptr]=this}function We(p,x,oe){zt.prepare(),p&&"object"==typeof p&&(p=p.ptr),x=x&&"object"==typeof x?x.ptr:Pr(x),oe=oe&&"object"==typeof oe?oe.ptr:Pr(oe),this.ptr=ri(p,x,oe),ie(We)[this.ptr]=this}return($e.prototype=Object.create(U.prototype)).constructor=$e,$e.prototype.__class__=$e,$e.__cache__={},u.VoidPtr=$e,$e.prototype.__destroy__=$e.prototype.__destroy__=function(){m(this.ptr)},(wn.prototype=Object.create(U.prototype)).constructor=wn,wn.prototype.__class__=wn,wn.__cache__={},u.FileEntry=wn,wn.prototype.GetName=wn.prototype.GetName=function(){return pe(w(this.ptr))},wn.prototype.IsDirectory=wn.prototype.IsDirectory=function(){return!!$(this.ptr)},wn.prototype.GetSize=wn.prototype.GetSize=function(){return re(this.ptr)},wn.prototype.GetModifiedTS=wn.prototype.GetModifiedTS=function(){return Me(this.ptr)},wn.prototype.GetAttributes=wn.prototype.GetAttributes=function(){return ue(this.ptr)},wn.prototype.__destroy__=wn.prototype.__destroy__=function(){Ke(this.ptr)},(lt.prototype=Object.create(U.prototype)).constructor=lt,lt.prototype.__class__=lt,lt.__cache__={},u.Vfs=lt,lt.prototype.Malloc=lt.prototype.Malloc=function(p){return p&&"object"==typeof p&&(p=p.ptr),Oe(et(this.ptr,p),$e)},lt.prototype.Free=lt.prototype.Free=function(p){p&&"object"==typeof p&&(p=p.ptr),A(this.ptr,p)},lt.prototype.Nullptr=lt.prototype.Nullptr=function(){return Oe(bt(this.ptr),$e)},lt.prototype.AllocateImage=lt.prototype.AllocateImage=function(p){p&&"object"==typeof p&&(p=p.ptr),At(this.ptr,p)},lt.prototype.MountImage=lt.prototype.MountImage=function(p){return p&&"object"==typeof p&&(p=p.ptr),!!kt(this.ptr,p)},lt.prototype.UnmountImage=lt.prototype.UnmountImage=function(p){p&&"object"==typeof p&&(p=p.ptr),Sn(this.ptr,p)},lt.prototype.SwitchSlot=lt.prototype.SwitchSlot=function(p){p&&"object"==typeof p&&(p=p.ptr),Er(this.ptr,p)},lt.prototype.GetPendingImageSize=lt.prototype.GetPendingImageSize=function(){return jr(this.ptr)},lt.prototype.GetSize=lt.prototype.GetSize=function(p){return p&&"object"==typeof p&&(p=p.ptr),Wr(this.ptr,p)},lt.prototype.GetPendingImage=lt.prototype.GetPendingImage=function(){return Oe(Jn(this.ptr),$e)},lt.prototype.GetImage=lt.prototype.GetImage=function(p){return p&&"object"==typeof p&&(p=p.ptr),Oe(Xi(this.ptr,p),$e)},lt.prototype.GetDirtyPages=lt.prototype.GetDirtyPages=function(p){return p&&"object"==typeof p&&(p=p.ptr),Oe(jn(this.ptr,p),$e)},lt.prototype.RenameFile=lt.prototype.RenameFile=function(p,x){var oe=this.ptr;return zt.prepare(),p=p&&"object"==typeof p?p.ptr:Pr(p),x=x&&"object"==typeof x?x.ptr:Pr(x),Lo(oe,p,x)},lt.prototype.ChmodFile=lt.prototype.ChmodFile=function(p,x,oe){var Le=this.ptr;return zt.prepare(),p=p&&"object"==typeof p?p.ptr:Pr(p),x&&"object"==typeof x&&(x=x.ptr),oe&&"object"==typeof oe&&(oe=oe.ptr),xo(Le,p,x,oe)},lt.prototype.StatFile=lt.prototype.StatFile=function(p){var x=this.ptr;return zt.prepare(),p=p&&"object"==typeof p?p.ptr:Pr(p),Qi(x,p)},lt.prototype.UnlinkFile=lt.prototype.UnlinkFile=function(p){var x=this.ptr;return zt.prepare(),p=p&&"object"==typeof p?p.ptr:Pr(p),Ra(x,p)},lt.prototype.Mkdir=lt.prototype.Mkdir=function(p){var x=this.ptr;return zt.prepare(),p=p&&"object"==typeof p?p.ptr:Pr(p),oa(x,p)},lt.prototype.GetEntry=lt.prototype.GetEntry=function(){return Oe($s(this.ptr),wn)},lt.prototype.BytesFree=lt.prototype.BytesFree=function(p){return p&&"object"==typeof p&&(p=p.ptr),ia(this.ptr,p)},lt.prototype.BytesTotal=lt.prototype.BytesTotal=function(p){return p&&"object"==typeof p&&(p=p.ptr),Ji(this.ptr,p)},lt.prototype.ReadFile=lt.prototype.ReadFile=function(p){var x=this.ptr;return zt.prepare(),p=p&&"object"==typeof p?p.ptr:Pr(p),!!Pa(x,p)},lt.prototype.GetCurrentFileSize=lt.prototype.GetCurrentFileSize=function(){return sa(this.ptr)},lt.prototype.GetCurrentFileContent=lt.prototype.GetCurrentFileContent=function(){return Oe(aa(this.ptr),$e)},lt.prototype.ReleaseCurrentFile=lt.prototype.ReleaseCurrentFile=function(){Oa(this.ptr)},lt.prototype.WriteFile=lt.prototype.WriteFile=function(p,x,oe){var Le=this.ptr;return zt.prepare(),p=p&&"object"==typeof p?p.ptr:Pr(p),x&&"object"==typeof x&&(x=x.ptr),oe&&"object"==typeof oe&&(oe=oe.ptr),Na(Le,p,x,oe)},lt.prototype.__destroy__=lt.prototype.__destroy__=function(){Fa(this.ptr)},(lr.prototype=Object.create(U.prototype)).constructor=lr,lr.prototype.__class__=lr,lr.__cache__={},u.ReaddirContext=lr,lr.prototype.Next=lr.prototype.Next=function(){return la(this.ptr)},lr.prototype.GetEntry=lr.prototype.GetEntry=function(){return Oe($a(this.ptr),wn)},lr.prototype.GetStatus=lr.prototype.GetStatus=function(){return Ba(this.ptr)},lr.prototype.GetError=lr.prototype.GetError=function(){return Ir(this.ptr)},lr.prototype.GetErrorDescription=lr.prototype.GetErrorDescription=function(){return pe(ca(this.ptr))},lr.prototype.__destroy__=lr.prototype.__destroy__=function(){po(this.ptr)},(Zn.prototype=Object.create(U.prototype)).constructor=Zn,Zn.prototype.__class__=Zn,Zn.__cache__={},u.ExportZipContext=Zn,Zn.prototype.AddFile=Zn.prototype.AddFile=function(p){var x=this.ptr;return zt.prepare(),p=p&&"object"==typeof p?p.ptr:Pr(p),Oe(ua(x,p),Zn)},Zn.prototype.AddDirectory=Zn.prototype.AddDirectory=function(p){var x=this.ptr;return zt.prepare(),p=p&&"object"==typeof p?p.ptr:Pr(p),Oe(Bs(x,p),Zn)},Zn.prototype.Continue=Zn.prototype.Continue=function(){return eo(this.ptr)},Zn.prototype.GetState=Zn.prototype.GetState=function(){return Vs(this.ptr)},Zn.prototype.GetZipContent=Zn.prototype.GetZipContent=function(){return Oe(Va(this.ptr),$e)},Zn.prototype.GetZipSize=Zn.prototype.GetZipSize=function(){return Gn(this.ptr)},Zn.prototype.GetErrorItem=Zn.prototype.GetErrorItem=function(){return pe(hs(this.ptr))},Zn.prototype.__destroy__=Zn.prototype.__destroy__=function(){xr(this.ptr)},(Or.prototype=Object.create(U.prototype)).constructor=Or,Or.prototype.__class__=Or,Or.__cache__={},u.DeleteRecursiveContext=Or,Or.prototype.AddFile=Or.prototype.AddFile=function(p){var x=this.ptr;return zt.prepare(),p=p&&"object"==typeof p?p.ptr:Pr(p),Oe(gl(x,p),Or)},Or.prototype.Continue=Or.prototype.Continue=function(){return ja(this.ptr)},Or.prototype.GetState=Or.prototype.GetState=function(){return Wn(this.ptr)},Or.prototype.GetFailingPath=Or.prototype.GetFailingPath=function(){return pe(Yt(this.ptr))},Or.prototype.__destroy__=Or.prototype.__destroy__=function(){ms(this.ptr)},(cr.prototype=Object.create(U.prototype)).constructor=cr,cr.prototype.__class__=cr,cr.__cache__={},u.UnzipContext=cr,cr.prototype.GetState=cr.prototype.GetState=function(){return _l(this.ptr)},cr.prototype.Continue=cr.prototype.Continue=function(){return da(this.ptr)},cr.prototype.ContinueWithOverwrite=cr.prototype.ContinueWithOverwrite=function(){return Xe(this.ptr)},cr.prototype.GetCurrentEntry=cr.prototype.GetCurrentEntry=function(){return pe(es(this.ptr))},cr.prototype.GetCollisionPath=cr.prototype.GetCollisionPath=function(){return pe(gs(this.ptr))},cr.prototype.GetEntriesTotal=cr.prototype.GetEntriesTotal=function(){return ts(this.ptr)},cr.prototype.GetEntriesSuccess=cr.prototype.GetEntriesSuccess=function(){return fa(this.ptr)},cr.prototype.__destroy__=cr.prototype.__destroy__=function(){pa(this.ptr)},(We.prototype=Object.create(U.prototype)).constructor=We,We.prototype.__class__=We,We.__cache__={},u.PasteContext=We,We.prototype.AddFile=We.prototype.AddFile=function(p){var x=this.ptr;return zt.prepare(),p=p&&"object"==typeof p?p.ptr:Pr(p),Oe(Cr(x,p),We)},We.prototype.SetDeleteAfterCopy=We.prototype.SetDeleteAfterCopy=function(p){return p&&"object"==typeof p&&(p=p.ptr),Oe(Yo(this.ptr,p),We)},We.prototype.GetState=We.prototype.GetState=function(){return Bt(this.ptr)},We.prototype.Continue=We.prototype.Continue=function(){return $n(this.ptr)},We.prototype.ContinueWithOverwrite=We.prototype.ContinueWithOverwrite=function(){return Ul(this.ptr)},We.prototype.GetCurrentEntry=We.prototype.GetCurrentEntry=function(){return pe(vl(this.ptr))},We.prototype.GetCollisionPath=We.prototype.GetCollisionPath=function(){return pe(yl(this.ptr))},We.prototype.GetEntriesSuccess=We.prototype.GetEntriesSuccess=function(){return Hl(this.ptr)},We.prototype.__destroy__=We.prototype.__destroy__=function(){Xn(this.ptr)},S.ready});ge.exports=De},276:(ge,De,C)=>{"use strict";C.d(De,{c:()=>Z,r:()=>k});const Z=(O,N)=>{O.componentOnReady?O.componentOnReady().then(te=>N(te)):k(()=>N(O))},k=O=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(O):"function"==typeof requestAnimationFrame?requestAnimationFrame(O):setTimeout(O)},7687:(ge,De,C)=>{"use strict";C.d(De,{L:()=>S,a:()=>u,b:()=>Z,c:()=>Y,d:()=>G,g:()=>O});const S="ionViewWillEnter",u="ionViewDidEnter",Z="ionViewWillLeave",Y="ionViewDidLeave",G="ionViewWillUnload",O=N=>N.classList.contains("ion-page")?N:N.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||N},2723:(ge,De,C)=>{"use strict";C.d(De,{c:()=>ve});var S=C(6940),u=C(4675);let Z;const G=se=>se.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),R=se=>(void 0===Z&&(Z=void 0===se.style.animationName&&void 0!==se.style.webkitAnimationName?"-webkit-":""),Z),E=(se,z,M)=>{const J=z.startsWith("animation")?R(se):"";se.style.setProperty(J+z,M)},I=(se,z)=>{const M=z.startsWith("animation")?R(se):"";se.style.removeProperty(M+z)},k=[],de=(se=[],z)=>{if(void 0!==z){const M=Array.isArray(z)?z:[z];return[...se,...M]}return se},ve=se=>{let z,M,J,le,ae,xe,D,ze,Pe,je,st,at,qe,Re=[],O=[],N=[],te=!1,X={},W=[],he=[],Be={},ht=0,Gt=!1,Fe=!1,$t=!0,fe=!1,Ue=!0,St=!1;const Ut=se,jt=[],Te=[],we=[],_e=[],Je=[],vt=[],Nt=[],dn=[],rn=[],pn=[],en=[],vr="function"==typeof AnimationEffect||void 0!==S.w&&"function"==typeof S.w.AnimationEffect,Yn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&vr,wo=()=>en,ro=(m,w)=>{const $=w.findIndex(re=>re.c===m);$>-1&&w.splice($,1)},go=(m,w)=>((w?.oneTimeCallback?Te:jt).push({c:m,o:w}),qe),pe=()=>{if(Yn)en.forEach(m=>{m.cancel()}),en.length=0;else{const m=_e.slice();(0,u.r)(()=>{m.forEach(w=>{I(w,"animation-name"),I(w,"animation-duration"),I(w,"animation-timing-function"),I(w,"animation-iteration-count"),I(w,"animation-delay"),I(w,"animation-play-state"),I(w,"animation-fill-mode"),I(w,"animation-direction")})})}},be=()=>{vt.forEach(m=>{m?.parentNode&&m.parentNode.removeChild(m)}),vt.length=0},No=()=>void 0!==ae?ae:D?D.getFill():"both",xn=()=>void 0!==Pe?Pe:void 0!==xe?xe:D?D.getDirection():"normal",yr=()=>Gt?"linear":void 0!==J?J:D?D.getEasing():"linear",br=()=>Fe?0:void 0!==je?je:void 0!==M?M:D?D.getDuration():0,Tn=()=>void 0!==le?le:D?D.getIterations():1,Ln=()=>void 0!==st?st:void 0!==z?z:D?D.getDelay():0,Jr=()=>{0!==ht&&(ht--,0===ht&&((()=>{qi(),rn.forEach(Me=>Me()),pn.forEach(Me=>Me());const m=$t?1:0,w=W,$=he,re=Be;_e.forEach(Me=>{const ue=Me.classList;w.forEach(Ke=>ue.add(Ke)),$.forEach(Ke=>ue.remove(Ke));for(const Ke in re)re.hasOwnProperty(Ke)&&E(Me,Ke,re[Ke])}),je=void 0,Pe=void 0,st=void 0,jt.forEach(Me=>Me.c(m,qe)),Te.forEach(Me=>Me.c(m,qe)),Te.length=0,Ue=!0,$t&&(fe=!0),$t=!0})(),D&&D.animationFinish()))},Wi=(m=!0)=>{be();const w=(se=>(se.forEach(z=>{for(const M in z)if(z.hasOwnProperty(M)){const J=z[M];if("easing"===M)z["animation-timing-function"]=J,delete z[M];else{const le=G(M);le!==M&&(z[le]=J,delete z[M])}}}),se))(Re);_e.forEach($=>{if(w.length>0){const re=((se=[])=>se.map(z=>{const M=z.offset,J=[];for(const le in z)z.hasOwnProperty(le)&&"offset"!==le&&J.push(`${le}: ${z[le]};`);return`${100*M}% { ${J.join(" ")} }`}).join(" "))(w);at=void 0!==se?se:(se=>{let z=k.indexOf(se);return z<0&&(z=k.push(se)-1),`ion-animation-${z}`})(re);const Me=((se,z,M)=>{var J;const le=(se=>{const z=void 0!==se.getRootNode?se.getRootNode():se;return z.head||z})(M),ae=R(M),xe=le.querySelector("#"+se);if(xe)return xe;const Re=(null!==(J=M.ownerDocument)&&void 0!==J?J:document).createElement("style");return Re.id=se,Re.textContent=`@${ae}keyframes ${se} { ${z} } @${ae}keyframes ${se}-alt { ${z} }`,le.appendChild(Re),Re})(at,re,$);vt.push(Me),E($,"animation-duration",`${br()}ms`),E($,"animation-timing-function",yr()),E($,"animation-delay",`${Ln()}ms`),E($,"animation-fill-mode",No()),E($,"animation-direction",xn());const ue=Tn()===1/0?"infinite":Tn().toString();E($,"animation-iteration-count",ue),E($,"animation-play-state","paused"),m&&E($,"animation-name",`${Me.id}-alt`),(0,u.r)(()=>{E($,"animation-name",Me.id||null)})}})},Ei=(m=!0)=>{(()=>{Nt.forEach(re=>re()),dn.forEach(re=>re());const m=O,w=N,$=X;_e.forEach(re=>{const Me=re.classList;m.forEach(ue=>Me.add(ue)),w.forEach(ue=>Me.remove(ue));for(const ue in $)$.hasOwnProperty(ue)&&E(re,ue,$[ue])})})(),Re.length>0&&(Yn?(_e.forEach(m=>{const w=m.animate(Re,{id:Ut,delay:Ln(),duration:br(),easing:yr(),iterations:Tn(),fill:No(),direction:xn()});w.pause(),en.push(w)}),en.length>0&&(en[0].onfinish=()=>{Jr()})):Wi(m)),te=!0},vo=m=>{if(m=Math.min(Math.max(m,0),.9999),Yn)en.forEach(w=>{w.currentTime=w.effect.getComputedTiming().delay+br()*m,w.pause()});else{const w=`-${br()*m}ms`;_e.forEach($=>{Re.length>0&&(E($,"animation-delay",w),E($,"animation-play-state","paused"))})}},Ii=m=>{en.forEach(w=>{w.effect.updateTiming({delay:Ln(),duration:br(),easing:yr(),iterations:Tn(),fill:No(),direction:xn()})}),void 0!==m&&vo(m)},Zi=(m=!0,w)=>{(0,u.r)(()=>{_e.forEach($=>{E($,"animation-name",at||null),E($,"animation-duration",`${br()}ms`),E($,"animation-timing-function",yr()),E($,"animation-delay",void 0!==w?`-${w*br()}ms`:`${Ln()}ms`),E($,"animation-fill-mode",No()||null),E($,"animation-direction",xn()||null);const re=Tn()===1/0?"infinite":Tn().toString();E($,"animation-iteration-count",re),m&&E($,"animation-name",`${at}-alt`),(0,u.r)(()=>{E($,"animation-name",at||null)})})})},zr=(m=!1,w=!0,$)=>(m&&Je.forEach(re=>{re.update(m,w,$)}),Yn?Ii($):Zi(w,$),qe),Mn=()=>{te&&(Yn?en.forEach(m=>{m.pause()}):_e.forEach(m=>{E(m,"animation-play-state","paused")}),St=!0)},ra=()=>{ze=void 0,Jr()},qi=()=>{ze&&clearTimeout(ze)},fs=m=>new Promise(w=>{m?.sync&&(Fe=!0,go(()=>Fe=!1,{oneTimeCallback:!0})),te||Ei(),fe&&(Yn?(vo(0),Ii()):Zi(),fe=!1),Ue&&(ht=Je.length+1,Ue=!1);const $=()=>{ro(re,Te),w()},re=()=>{ro($,we),w()};go(re,{oneTimeCallback:!0}),((m,w)=>{we.push({c:m,o:{oneTimeCallback:!0}})})($),Je.forEach(Me=>{Me.play()}),Yn?(en.forEach(m=>{m.play()}),(0===Re.length||0===_e.length)&&Jr()):(()=>{if(qi(),(0,u.r)(()=>{_e.forEach(m=>{Re.length>0&&E(m,"animation-play-state","running")})}),0===Re.length||0===_e.length)Jr();else{const m=Ln()||0,w=br()||0,$=Tn()||1;isFinite($)&&(ze=setTimeout(ra,m+w*$+100)),((se,z)=>{let M;const J={passive:!0},ae=xe=>{se===xe.target&&(M&&M(),qi(),(0,u.r)(()=>{_e.forEach(m=>{I(m,"animation-duration"),I(m,"animation-delay"),I(m,"animation-play-state")}),(0,u.r)(Jr)}))};se&&(se.addEventListener("webkitAnimationEnd",ae,J),se.addEventListener("animationend",ae,J),M=()=>{se.removeEventListener("webkitAnimationEnd",ae,J),se.removeEventListener("animationend",ae,J)})})(_e[0])}})(),St=!1}),Ki=(m,w)=>{const $=Re[0];return void 0===$||void 0!==$.offset&&0!==$.offset?Re=[{offset:0,[m]:w},...Re]:$[m]=w,qe};return qe={parentAnimation:D,elements:_e,childAnimations:Je,id:Ut,animationFinish:Jr,from:Ki,to:(m,w)=>{const $=Re[Re.length-1];return void 0===$||void 0!==$.offset&&1!==$.offset?Re=[...Re,{offset:1,[m]:w}]:$[m]=w,qe},fromTo:(m,w,$)=>Ki(m,w).to(m,$),parent:m=>(D=m,qe),play:fs,pause:()=>(Je.forEach(m=>{m.pause()}),Mn(),qe),stop:()=>{Je.forEach(m=>{m.stop()}),te&&(pe(),te=!1),Gt=!1,Fe=!1,Ue=!0,Pe=void 0,je=void 0,st=void 0,ht=0,fe=!1,$t=!0,St=!1,we.forEach(m=>m.c(0,qe)),we.length=0},destroy:m=>(Je.forEach(w=>{w.destroy(m)}),(m=>{pe(),m&&be()})(m),_e.length=0,Je.length=0,Re.length=0,jt.length=0,Te.length=0,te=!1,Ue=!0,qe),keyframes:m=>{const w=Re!==m;return Re=m,w&&(m=>{Yn?wo().forEach(w=>{const $=w.effect;if($.setKeyframes)$.setKeyframes(m);else{const re=new KeyframeEffect($.target,m,$.getTiming());w.effect=re}}):Wi()})(Re),qe},addAnimation:m=>{if(null!=m)if(Array.isArray(m))for(const w of m)w.parent(qe),Je.push(w);else m.parent(qe),Je.push(m);return qe},addElement:m=>{if(null!=m)if(1===m.nodeType)_e.push(m);else if(m.length>=0)for(let w=0;w<m.length;w++)_e.push(m[w]);else console.error("Invalid addElement value");return qe},update:zr,fill:m=>(ae=m,zr(!0),qe),direction:m=>(xe=m,zr(!0),qe),iterations:m=>(le=m,zr(!0),qe),duration:m=>(!Yn&&0===m&&(m=1),M=m,zr(!0),qe),easing:m=>(J=m,zr(!0),qe),delay:m=>(z=m,zr(!0),qe),getWebAnimations:wo,getKeyframes:()=>Re,getFill:No,getDirection:xn,getDelay:Ln,getIterations:Tn,getEasing:yr,getDuration:br,afterAddRead:m=>(rn.push(m),qe),afterAddWrite:m=>(pn.push(m),qe),afterClearStyles:(m=[])=>{for(const w of m)Be[w]="";return qe},afterStyles:(m={})=>(Be=m,qe),afterRemoveClass:m=>(he=de(he,m),qe),afterAddClass:m=>(W=de(W,m),qe),beforeAddRead:m=>(Nt.push(m),qe),beforeAddWrite:m=>(dn.push(m),qe),beforeClearStyles:(m=[])=>{for(const w of m)X[w]="";return qe},beforeStyles:(m={})=>(X=m,qe),beforeRemoveClass:m=>(N=de(N,m),qe),beforeAddClass:m=>(O=de(O,m),qe),onFinish:go,isRunning:()=>0!==ht&&!St,progressStart:(m=!1,w)=>(Je.forEach($=>{$.progressStart(m,w)}),Mn(),Gt=m,te||Ei(),zr(!1,!0,w),qe),progressStep:m=>(Je.forEach(w=>{w.progressStep(m)}),vo(m),qe),progressEnd:(m,w,$)=>(Gt=!1,Je.forEach(re=>{re.progressEnd(m,w,$)}),void 0!==$&&(je=$),fe=!1,$t=!0,0===m?(Pe="reverse"===xn()?"normal":"reverse","reverse"===Pe&&($t=!1),Yn?(zr(),vo(1-w)):(st=(1-w)*br()*-1,zr(!1,!1))):1===m&&(Yn?(zr(),vo(w)):(st=w*br()*-1,zr(!1,!1))),void 0!==m&&!D&&fs(),qe)}}},2984:(ge,De,C)=>{"use strict";C.d(De,{E:()=>L,I:()=>E,a:()=>S,s:()=>I});const S=k=>{try{if(k instanceof E)return k.value;if(!Y()||"string"!=typeof k||""===k)return k;if(k.includes("onload="))return"";const P=document.createDocumentFragment(),T=document.createElement("div");P.appendChild(T),T.innerHTML=k,R.forEach(se=>{const z=P.querySelectorAll(se);for(let M=z.length-1;M>=0;M--){const J=z[M];J.parentNode?J.parentNode.removeChild(J):P.removeChild(J);const le=Z(J);for(let ae=0;ae<le.length;ae++)u(le[ae])}});const B=Z(P);for(let se=0;se<B.length;se++)u(B[se]);const de=document.createElement("div");de.appendChild(P);const ve=de.querySelector("div");return null!==ve?ve.innerHTML:de.innerHTML}catch(P){return console.error(P),""}},u=k=>{if(k.nodeType&&1!==k.nodeType)return;if(typeof NamedNodeMap<"u"&&!(k.attributes instanceof NamedNodeMap))return void k.remove();for(let T=k.attributes.length-1;T>=0;T--){const B=k.attributes.item(T),de=B.name;if(!G.includes(de.toLowerCase())){k.removeAttribute(de);continue}const ve=B.value,se=k[de];(null!=ve&&ve.toLowerCase().includes("javascript:")||null!=se&&se.toLowerCase().includes("javascript:"))&&k.removeAttribute(de)}const P=Z(k);for(let T=0;T<P.length;T++)u(P[T])},Z=k=>null!=k.children?k.children:k.childNodes,Y=()=>{var k;const P=window,T=null===(k=P?.Ionic)||void 0===k?void 0:k.config;return!T||(T.get?T.get("sanitizerEnabled",!0):!0===T.sanitizerEnabled||void 0===T.sanitizerEnabled)},G=["class","id","href","src","name","slot"],R=["script","style","iframe","meta","link","object","embed"];class E{constructor(P){this.value=P}}const I=k=>{const P=window,T=P.Ionic;if(!T||!T.config||"Object"===T.config.constructor.name)return P.Ionic=P.Ionic||{},P.Ionic.config=Object.assign(Object.assign({},P.Ionic.config),k),P.Ionic.config},L=!1},8573:(ge,De,C)=>{"use strict";C.d(De,{C:()=>G,a:()=>Z,d:()=>Y});var S=C(3918),u=C(4675);const Z=function(){var R=(0,S.Z)(function*(E,I,K,L,k,P){var T;if(E)return E.attachViewToDom(I,K,k,L);if(!(P||"string"==typeof K||K instanceof HTMLElement))throw new Error("framework delegate is missing");const B="string"==typeof K?null===(T=I.ownerDocument)||void 0===T?void 0:T.createElement(K):K;return L&&L.forEach(de=>B.classList.add(de)),k&&Object.assign(B,k),I.appendChild(B),yield new Promise(de=>(0,u.c)(B,de)),B});return function(I,K,L,k,P,T){return R.apply(this,arguments)}}(),Y=(R,E)=>{if(E){if(R)return R.removeViewFromDom(E.parentElement,E);E.remove()}return Promise.resolve()},G=()=>{let R,E;return{attachViewToDom:function(){var L=(0,S.Z)(function*(k,P,T={},B=[]){var de,ve;let se;if(R=k,P){const M="string"==typeof P?null===(de=R.ownerDocument)||void 0===de?void 0:de.createElement(P):P;B.forEach(J=>M.classList.add(J)),Object.assign(M,T),R.appendChild(M),se=M,yield new Promise(J=>(0,u.c)(M,J))}else if(R.children.length>0&&("ION-MODAL"===R.tagName||"ION-POPOVER"===R.tagName)&&!(se=R.children[0]).classList.contains("ion-delegate-host")){const J=null===(ve=R.ownerDocument)||void 0===ve?void 0:ve.createElement("div");J.classList.add("ion-delegate-host"),B.forEach(le=>J.classList.add(le)),J.append(...R.children),R.appendChild(J),se=J}const z=document.querySelector("ion-app")||document.body;return E=document.createComment("ionic teleport"),R.parentNode.insertBefore(E,R),z.appendChild(R),se??R});return function(P,T){return L.apply(this,arguments)}}(),removeViewFromDom:()=>(R&&E&&(E.parentNode.insertBefore(R,E),E.remove()),Promise.resolve())}}},4967:(ge,De,C)=>{"use strict";C.d(De,{G:()=>G});class u{constructor(E,I,K,L,k){this.id=I,this.name=K,this.disableScroll=k,this.priority=1e6*L+I,this.ctrl=E}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const E=this.ctrl.capture(this.name,this.id,this.priority);return E&&this.disableScroll&&this.ctrl.disableScroll(this.id),E}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class Z{constructor(E,I,K,L){this.id=I,this.disable=K,this.disableScroll=L,this.ctrl=E}block(){if(this.ctrl){if(this.disable)for(const E of this.disable)this.ctrl.disableGesture(E,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const E of this.disable)this.ctrl.enableGesture(E,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Y="backdrop-no-scroll",G=new class S{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(E){var I;return new u(this,this.newID(),E.name,null!==(I=E.priority)&&void 0!==I?I:0,!!E.disableScroll)}createBlocker(E={}){return new Z(this,this.newID(),E.disable,!!E.disableScroll)}start(E,I,K){return this.canStart(E)?(this.requestedStart.set(I,K),!0):(this.requestedStart.delete(I),!1)}capture(E,I,K){if(!this.start(E,I,K))return!1;const L=this.requestedStart;let k=-1e4;if(L.forEach(P=>{k=Math.max(k,P)}),k===K){this.capturedId=I,L.clear();const P=new CustomEvent("ionGestureCaptured",{detail:{gestureName:E}});return document.dispatchEvent(P),!0}return L.delete(I),!1}release(E){this.requestedStart.delete(E),this.capturedId===E&&(this.capturedId=void 0)}disableGesture(E,I){let K=this.disabledGestures.get(E);void 0===K&&(K=new Set,this.disabledGestures.set(E,K)),K.add(I)}enableGesture(E,I){const K=this.disabledGestures.get(E);void 0!==K&&K.delete(I)}disableScroll(E){this.disabledScroll.add(E),1===this.disabledScroll.size&&document.body.classList.add(Y)}enableScroll(E){this.disabledScroll.delete(E),0===this.disabledScroll.size&&document.body.classList.remove(Y)}canStart(E){return!(void 0!==this.capturedId||this.isDisabled(E))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(E){const I=this.disabledGestures.get(E);return!!(I&&I.size>0)}newID(){return this.gestureId++,this.gestureId}}},1940:(ge,De,C)=>{"use strict";C.r(De),C.d(De,{MENU_BACK_BUTTON_PRIORITY:()=>G,OVERLAY_BACK_BUTTON_PRIORITY:()=>Y,blockHardwareBackButton:()=>u,startHardwareBackButton:()=>Z});var S=C(3918);const u=()=>{document.addEventListener("backbutton",()=>{})},Z=()=>{const R=document;let E=!1;R.addEventListener("backbutton",()=>{if(E)return;let I=0,K=[];const L=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(T,B){K.push({priority:T,handler:B,id:I++})}}});R.dispatchEvent(L);const k=function(){var T=(0,S.Z)(function*(B){try{if(B?.handler){const de=B.handler(P);null!=de&&(yield de)}}catch(de){console.error(de)}});return function(de){return T.apply(this,arguments)}}(),P=()=>{if(K.length>0){let T={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};K.forEach(B=>{B.priority>=T.priority&&(T=B)}),E=!0,K=K.filter(B=>B.id!==T.id),k(T).then(()=>E=!1)}};P()})},Y=100,G=99},4675:(ge,De,C)=>{"use strict";C.d(De,{a:()=>I,b:()=>K,c:()=>Z,d:()=>ve,e:()=>de,f:()=>B,g:()=>L,h:()=>T,i:()=>E,j:()=>ae,k:()=>G,l:()=>se,m:()=>Y,n:()=>P,o:()=>z,p:()=>le,q:()=>xe,r:()=>k,s:()=>Re,t:()=>S,u:()=>M,v:()=>J});const S=(O,N=0)=>new Promise(te=>{u(O,N,te)}),u=(O,N=0,te)=>{let D,X;const W={passive:!0},Be=()=>{D&&D()},ht=Gt=>{(void 0===Gt||O===Gt.target)&&(Be(),te(Gt))};return O&&(O.addEventListener("webkitTransitionEnd",ht,W),O.addEventListener("transitionend",ht,W),X=setTimeout(ht,N+500),D=()=>{X&&(clearTimeout(X),X=void 0),O.removeEventListener("webkitTransitionEnd",ht,W),O.removeEventListener("transitionend",ht,W)}),Be},Z=(O,N)=>{O.componentOnReady?O.componentOnReady().then(te=>N(te)):k(()=>N(O))},Y=O=>void 0!==O.componentOnReady,G=(O,N=[])=>{const te={};return N.forEach(D=>{O.hasAttribute(D)&&(null!==O.getAttribute(D)&&(te[D]=O.getAttribute(D)),O.removeAttribute(D))}),te},R=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],E=(O,N)=>{let te=R;return N&&N.length>0&&(te=te.filter(D=>!N.includes(D))),G(O,te)},I=(O,N,te,D)=>{var X;if(typeof window<"u"){const W=window,he=null===(X=W?.Ionic)||void 0===X?void 0:X.config;if(he){const Be=he.get("_ael");if(Be)return Be(O,N,te,D);if(he._ael)return he._ael(O,N,te,D)}}return O.addEventListener(N,te,D)},K=(O,N,te,D)=>{var X;if(typeof window<"u"){const W=window,he=null===(X=W?.Ionic)||void 0===X?void 0:X.config;if(he){const Be=he.get("_rel");if(Be)return Be(O,N,te,D);if(he._rel)return he._rel(O,N,te,D)}}return O.removeEventListener(N,te,D)},L=(O,N=O)=>O.shadowRoot||N,k=O=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(O):"function"==typeof requestAnimationFrame?requestAnimationFrame(O):setTimeout(O),P=O=>!!O.shadowRoot&&!!O.attachShadow,T=O=>{const N=O.closest("ion-item");return N?N.querySelector("ion-label"):null},B=O=>{if(O.focus(),O.classList.contains("ion-focusable")){const N=O.closest("ion-app");N&&N.setFocus([O])}},de=(O,N)=>{let te;const D=O.getAttribute("aria-labelledby"),X=O.id;let W=null!==D&&""!==D.trim()?D:N+"-lbl",he=null!==D&&""!==D.trim()?document.getElementById(D):T(O);return he?(null===D&&(he.id=W),te=he.textContent,he.setAttribute("aria-hidden","true")):""!==X.trim()&&(he=document.querySelector(`label[for="${X}"]`),he&&(""!==he.id?W=he.id:he.id=W=`${X}-lbl`,te=he.textContent)),{label:he,labelId:W,labelText:te}},ve=(O,N,te,D,X)=>{if(O||P(N)){let W=N.querySelector("input.aux-input");W||(W=N.ownerDocument.createElement("input"),W.type="hidden",W.classList.add("aux-input"),N.appendChild(W)),W.disabled=X,W.name=te,W.value=D||""}},se=(O,N,te)=>Math.max(O,Math.min(N,te)),z=(O,N)=>{if(!O){const te="ASSERT: "+N;throw console.error(te),new Error(te)}},M=O=>O.timeStamp||Date.now(),J=O=>{if(O){const N=O.changedTouches;if(N&&N.length>0){const te=N[0];return{x:te.clientX,y:te.clientY}}if(void 0!==O.pageX)return{x:O.pageX,y:O.pageY}}return{x:0,y:0}},le=O=>{const N="rtl"===document.dir;switch(O){case"start":return N;case"end":return!N;default:throw new Error(`"${O}" is not a valid value for [side]. Use "start" or "end" instead.`)}},ae=(O,N)=>{const te=O._original||O;return{_original:O,emit:xe(te.emit.bind(te),N)}},xe=(O,N=0)=>{let te;return(...D)=>{clearTimeout(te),te=setTimeout(O,N,...D)}},Re=(O,N)=>{if(O??(O={}),N??(N={}),O===N)return!0;const te=Object.keys(O);if(te.length!==Object.keys(N).length)return!1;for(const D of te)if(!(D in N)||O[D]!==N[D])return!1;return!0}},4656:(ge,De,C)=>{"use strict";C.d(De,{m:()=>T});var S=C(3918),u=C(6940),Z=C(1940),Y=C(6240),G=C(4675),R=C(5194),E=C(2723);const I=B=>(0,E.c)().duration(B?400:300),K=B=>{let de,ve;const se=B.width+8,z=(0,E.c)(),M=(0,E.c)();B.isEndSide?(de=se+"px",ve="0px"):(de=-se+"px",ve="0px"),z.addElement(B.menuInnerEl).fromTo("transform",`translateX(${de})`,`translateX(${ve})`);const le="ios"===(0,R.b)(B),ae=le?.2:.25;return M.addElement(B.backdropEl).fromTo("opacity",.01,ae),I(le).addAnimation([z,M])},L=B=>{let de,ve;const se=(0,R.b)(B),z=B.width;B.isEndSide?(de=-z+"px",ve=z+"px"):(de=z+"px",ve=-z+"px");const M=(0,E.c)().addElement(B.menuInnerEl).fromTo("transform",`translateX(${ve})`,"translateX(0px)"),J=(0,E.c)().addElement(B.contentEl).fromTo("transform","translateX(0px)",`translateX(${de})`),le=(0,E.c)().addElement(B.backdropEl).fromTo("opacity",.01,.32);return I("ios"===se).addAnimation([M,J,le])},k=B=>{const de=(0,R.b)(B),ve=B.width*(B.isEndSide?-1:1)+"px",se=(0,E.c)().addElement(B.contentEl).fromTo("transform","translateX(0px)",`translateX(${ve})`);return I("ios"===de).addAnimation(se)},T=(()=>{const B=new Map,de=[],ve=function(){var Pe=(0,S.Z)(function*(je){const st=yield xe(je,!0);return!!st&&st.open()});return function(st){return Pe.apply(this,arguments)}}(),se=function(){var Pe=(0,S.Z)(function*(je){const st=yield void 0!==je?xe(je,!0):Re();return void 0!==st&&st.close()});return function(st){return Pe.apply(this,arguments)}}(),z=function(){var Pe=(0,S.Z)(function*(je){const st=yield xe(je,!0);return!!st&&st.toggle()});return function(st){return Pe.apply(this,arguments)}}(),M=function(){var Pe=(0,S.Z)(function*(je,st){const $t=yield xe(st);return $t&&($t.disabled=!je),$t});return function(st,$t){return Pe.apply(this,arguments)}}(),J=function(){var Pe=(0,S.Z)(function*(je,st){const $t=yield xe(st);return $t&&($t.swipeGesture=je),$t});return function(st,$t){return Pe.apply(this,arguments)}}(),le=function(){var Pe=(0,S.Z)(function*(je){if(null!=je){const st=yield xe(je);return void 0!==st&&st.isOpen()}return void 0!==(yield Re())});return function(st){return Pe.apply(this,arguments)}}(),ae=function(){var Pe=(0,S.Z)(function*(je){const st=yield xe(je);return!!st&&!st.disabled});return function(st){return Pe.apply(this,arguments)}}(),xe=function(){var Pe=(0,S.Z)(function*(je,st=!1){if(yield ze(),"start"===je||"end"===je){const fe=de.filter(at=>at.side===je&&!at.disabled);if(fe.length>=1)return fe.length>1&&st&&(0,Y.p)(`menuController queried for a menu on the "${je}" side, but ${fe.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,fe.map(at=>at.el)),fe[0].el;const Ue=de.filter(at=>at.side===je);if(Ue.length>=1)return Ue.length>1&&st&&(0,Y.p)(`menuController queried for a menu on the "${je}" side, but ${Ue.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Ue.map(at=>at.el)),Ue[0].el}else if(null!=je)return Fe(fe=>fe.menuId===je);return Fe(fe=>!fe.disabled)||(de.length>0?de[0].el:void 0)});return function(st){return Pe.apply(this,arguments)}}(),Re=function(){var Pe=(0,S.Z)(function*(){return yield ze(),Be()});return function(){return Pe.apply(this,arguments)}}(),O=function(){var Pe=(0,S.Z)(function*(){return yield ze(),ht()});return function(){return Pe.apply(this,arguments)}}(),N=function(){var Pe=(0,S.Z)(function*(){return yield ze(),Gt()});return function(){return Pe.apply(this,arguments)}}(),te=(Pe,je)=>{B.set(Pe,je)},W=function(){var Pe=(0,S.Z)(function*(je,st,$t){if(Gt())return!1;if(st){const fe=yield Re();fe&&je.el!==fe&&(yield fe.setOpen(!1,!1))}return je._setOpen(st,$t)});return function(st,$t,fe){return Pe.apply(this,arguments)}}(),Be=()=>Fe(Pe=>Pe._isOpen),ht=()=>de.map(Pe=>Pe.el),Gt=()=>de.some(Pe=>Pe.isAnimating),Fe=Pe=>{const je=de.find(Pe);if(void 0!==je)return je.el},ze=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Pe=>new Promise(je=>(0,G.c)(Pe,je))));return te("reveal",k),te("push",L),te("overlay",K),null==u.d||u.d.addEventListener("ionBackButton",Pe=>{const je=Be();je&&Pe.detail.register(Z.MENU_BACK_BUTTON_PRIORITY,()=>je.close())}),{registerAnimation:te,get:xe,getMenus:O,getOpen:Re,isEnabled:ae,swipeGesture:J,isAnimating:N,isOpen:le,enable:M,toggle:z,close:se,open:ve,_getOpenSync:Be,_createAnimation:(Pe,je)=>{const st=B.get(Pe);if(!st)throw new Error("animation not registered");return st(je)},_register:Pe=>{de.indexOf(Pe)<0&&de.push(Pe)},_unregister:Pe=>{const je=de.indexOf(Pe);je>-1&&de.splice(je,1)},_setOpen:W}})()},4923:(ge,De,C)=>{"use strict";C.r(De),C.d(De,{GESTURE_CONTROLLER:()=>S.G,createGesture:()=>K});var S=C(4967);const u=(T,B,de,ve)=>{const se=Z(T)?{capture:!!ve.capture,passive:!!ve.passive}:!!ve.capture;let z,M;return T.__zone_symbol__addEventListener?(z="__zone_symbol__addEventListener",M="__zone_symbol__removeEventListener"):(z="addEventListener",M="removeEventListener"),T[z](B,de,se),()=>{T[M](B,de,se)}},Z=T=>{if(void 0===Y)try{const B=Object.defineProperty({},"passive",{get:()=>{Y=!0}});T.addEventListener("optsTest",()=>{},B)}catch{Y=!1}return!!Y};let Y;const E=T=>T instanceof Document?T:T.ownerDocument,K=T=>{let B=!1,de=!1,ve=!0,se=!1;const z=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},T),M=z.canStart,J=z.onWillStart,le=z.onStart,ae=z.onEnd,xe=z.notCaptured,Re=z.onMove,O=z.threshold,N=z.passive,te=z.blurOnStart,D={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},X=((T,B,de)=>{const ve=de*(Math.PI/180),se="x"===T,z=Math.cos(ve),M=B*B;let J=0,le=0,ae=!1,xe=0;return{start(Re,O){J=Re,le=O,xe=0,ae=!0},detect(Re,O){if(!ae)return!1;const N=Re-J,te=O-le,D=N*N+te*te;if(D<M)return!1;const X=Math.sqrt(D),W=(se?N:te)/X;return xe=W>z?1:W<-z?-1:0,ae=!1,!0},isGesture:()=>0!==xe,getDirection:()=>xe}})(z.direction,z.threshold,z.maxAngle),W=S.G.createGesture({name:T.gestureName,priority:T.gesturePriority,disableScroll:T.disableScroll}),ht=()=>{B&&(se=!1,Re&&Re(D))},Gt=()=>!!W.capture()&&(B=!0,ve=!1,D.startX=D.currentX,D.startY=D.currentY,D.startTime=D.currentTime,J?J(D).then(ze):ze(),!0),ze=()=>{te&&(()=>{if(typeof document<"u"){const fe=document.activeElement;fe?.blur&&fe.blur()}})(),le&&le(D),ve=!0},Pe=()=>{B=!1,de=!1,se=!1,ve=!0,W.release()},je=fe=>{const Ue=B,at=ve;if(Pe(),at){if(L(D,fe),Ue)return void(ae&&ae(D));xe&&xe(D)}},st=((T,B,de,ve,se)=>{let z,M,J,le,ae,xe,Re,O=0;const N=Fe=>{O=Date.now()+2e3,B(Fe)&&(!M&&de&&(M=u(T,"touchmove",de,se)),J||(J=u(Fe.target,"touchend",D,se)),le||(le=u(Fe.target,"touchcancel",D,se)))},te=Fe=>{O>Date.now()||B(Fe)&&(!xe&&de&&(xe=u(E(T),"mousemove",de,se)),Re||(Re=u(E(T),"mouseup",X,se)))},D=Fe=>{W(),ve&&ve(Fe)},X=Fe=>{he(),ve&&ve(Fe)},W=()=>{M&&M(),J&&J(),le&&le(),M=J=le=void 0},he=()=>{xe&&xe(),Re&&Re(),xe=Re=void 0},Be=()=>{W(),he()},ht=(Fe=!0)=>{Fe?(z||(z=u(T,"touchstart",N,se)),ae||(ae=u(T,"mousedown",te,se))):(z&&z(),ae&&ae(),z=ae=void 0,Be())};return{enable:ht,stop:Be,destroy:()=>{ht(!1),ve=de=B=void 0}}})(z.el,fe=>{const Ue=P(fe);return!(de||!ve||(k(fe,D),D.startX=D.currentX,D.startY=D.currentY,D.startTime=D.currentTime=Ue,D.velocityX=D.velocityY=D.deltaX=D.deltaY=0,D.event=fe,M&&!1===M(D))||(W.release(),!W.start()))&&(de=!0,0===O?Gt():(X.start(D.startX,D.startY),!0))},fe=>{B?!se&&ve&&(se=!0,L(D,fe),requestAnimationFrame(ht)):(L(D,fe),X.detect(D.currentX,D.currentY)&&(!X.isGesture()||!Gt())&&$t())},je,{capture:!1,passive:N}),$t=()=>{Pe(),st.stop(),xe&&xe(D)};return{enable(fe=!0){fe||(B&&je(void 0),Pe()),st.enable(fe)},destroy(){W.destroy(),st.destroy()}}},L=(T,B)=>{if(!B)return;const de=T.currentX,ve=T.currentY,se=T.currentTime;k(B,T);const z=T.currentX,M=T.currentY,le=(T.currentTime=P(B))-se;if(le>0&&le<100){const xe=(M-ve)/le;T.velocityX=(z-de)/le*.7+.3*T.velocityX,T.velocityY=.7*xe+.3*T.velocityY}T.deltaX=z-T.startX,T.deltaY=M-T.startY,T.event=B},k=(T,B)=>{let de=0,ve=0;if(T){const se=T.changedTouches;if(se&&se.length>0){const z=se[0];de=z.clientX,ve=z.clientY}else void 0!==T.pageX&&(de=T.pageX,ve=T.pageY)}B.currentX=de,B.currentY=ve},P=T=>T.timeStamp||Date.now()},8044:(ge,De,C)=>{"use strict";C.d(De,{b:()=>R,c:()=>E,d:()=>I,e:()=>O,g:()=>D,l:()=>xe,s:()=>N,t:()=>k,w:()=>Re});var S=C(3918),u=C(3426),Z=C(4675);const R="ionViewWillLeave",E="ionViewDidLeave",I="ionViewWillUnload",k=X=>new Promise((W,he)=>{(0,u.w)(()=>{P(X),T(X).then(Be=>{Be.animation&&Be.animation.destroy(),B(X),W(Be)},Be=>{B(X),he(Be)})})}),P=X=>{const W=X.enteringEl,he=X.leavingEl;te(W,he,X.direction),X.showGoBack?W.classList.add("can-go-back"):W.classList.remove("can-go-back"),N(W,!1),W.style.setProperty("pointer-events","none"),he&&(N(he,!1),he.style.setProperty("pointer-events","none"))},T=function(){var X=(0,S.Z)(function*(W){const he=yield de(W);return he&&u.B.isBrowser?ve(he,W):se(W)});return function(he){return X.apply(this,arguments)}}(),B=X=>{const W=X.enteringEl,he=X.leavingEl;W.classList.remove("ion-page-invisible"),W.style.removeProperty("pointer-events"),void 0!==he&&(he.classList.remove("ion-page-invisible"),he.style.removeProperty("pointer-events"))},de=function(){var X=(0,S.Z)(function*(W){return W.leavingEl&&W.animated&&0!==W.duration?W.animationBuilder?W.animationBuilder:"ios"===W.mode?(yield Promise.resolve().then(C.bind(C,5444))).iosTransitionAnimation:(yield Promise.resolve().then(C.bind(C,5922))).mdTransitionAnimation:void 0});return function(he){return X.apply(this,arguments)}}(),ve=function(){var X=(0,S.Z)(function*(W,he){yield z(he,!0);const Be=W(he.baseEl,he);le(he.enteringEl,he.leavingEl);const ht=yield J(Be,he);return he.progressCallback&&he.progressCallback(void 0),ht&&ae(he.enteringEl,he.leavingEl),{hasCompleted:ht,animation:Be}});return function(he,Be){return X.apply(this,arguments)}}(),se=function(){var X=(0,S.Z)(function*(W){const he=W.enteringEl,Be=W.leavingEl;return yield z(W,!1),le(he,Be),ae(he,Be),{hasCompleted:!0}});return function(he){return X.apply(this,arguments)}}(),z=function(){var X=(0,S.Z)(function*(W,he){(void 0!==W.deepWait?W.deepWait:he)&&(yield Promise.all([O(W.enteringEl),O(W.leavingEl)])),yield M(W.viewIsReady,W.enteringEl)});return function(he,Be){return X.apply(this,arguments)}}(),M=function(){var X=(0,S.Z)(function*(W,he){W&&(yield W(he))});return function(he,Be){return X.apply(this,arguments)}}(),J=(X,W)=>{const he=W.progressCallback,Be=new Promise(ht=>{X.onFinish(Gt=>ht(1===Gt))});return he?(X.progressStart(!0),he(X)):X.play(),Be},le=(X,W)=>{xe(W,R),xe(X,"ionViewWillEnter")},ae=(X,W)=>{xe(X,"ionViewDidEnter"),xe(W,E)},xe=(X,W)=>{if(X){const he=new CustomEvent(W,{bubbles:!1,cancelable:!1});X.dispatchEvent(he)}},Re=()=>new Promise(X=>(0,Z.r)(()=>(0,Z.r)(()=>X()))),O=function(){var X=(0,S.Z)(function*(W){const he=W;if(he){if(null!=he.componentOnReady){if(null!=(yield he.componentOnReady()))return}else if(null!=he.__registerHost)return void(yield new Promise(ht=>(0,Z.r)(ht)));yield Promise.all(Array.from(he.children).map(O))}});return function(he){return X.apply(this,arguments)}}(),N=(X,W)=>{W?(X.setAttribute("aria-hidden","true"),X.classList.add("ion-page-hidden")):(X.hidden=!1,X.removeAttribute("aria-hidden"),X.classList.remove("ion-page-hidden"))},te=(X,W,he)=>{void 0!==X&&(X.style.zIndex="back"===he?"99":"101"),void 0!==W&&(W.style.zIndex="100")},D=X=>X.classList.contains("ion-page")?X:X.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||X},6240:(ge,De,C)=>{"use strict";C.d(De,{a:()=>u,b:()=>Z,p:()=>S});const S=(Y,...G)=>console.warn(`[Ionic Warning]: ${Y}`,...G),u=(Y,...G)=>console.error(`[Ionic Error]: ${Y}`,...G),Z=(Y,...G)=>console.error(`<${Y.tagName.toLowerCase()}> must be used inside ${G.join(" or ")}.`)},6940:(ge,De,C)=>{"use strict";C.d(De,{d:()=>u,w:()=>S});const S=typeof window<"u"?window:void 0,u=typeof document<"u"?document:void 0},3426:(ge,De,C)=>{"use strict";C.d(De,{B:()=>P,H:()=>Gt,a:()=>na,b:()=>Di,c:()=>at,d:()=>jt,e:()=>ps,f:()=>Ut,g:()=>qe,h:()=>Be,i:()=>No,j:()=>T,r:()=>Wi,w:()=>ct});var S=C(3918);let Y,G,R,E=!1,I=!1,K=!1,L=!1,k=!1;const P={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},T=m=>{const w=new URL(m,Mn.$resourcesUrl$);return w.origin!==ni.location.origin?w.href:w.pathname},J="s-id",le="sty-id",Re="slot-fb{display:contents}slot-fb[hidden]{display:none}",O="http://www.w3.org/1999/xlink",N={},W=m=>"object"==(m=typeof m)||"function"===m;function he(m){var w,$,re;return null!==(re=null===($=null===(w=m.head)||void 0===w?void 0:w.querySelector('meta[name="csp-nonce"]'))||void 0===$?void 0:$.getAttribute("content"))&&void 0!==re?re:void 0}const Be=(m,w,...$)=>{let re=null,Me=null,ue=null,Ke=!1,Ye=!1;const et=[],A=At=>{for(let kt=0;kt<At.length;kt++)re=At[kt],Array.isArray(re)?A(re):null!=re&&"boolean"!=typeof re&&((Ke="function"!=typeof m&&!W(re))&&(re=String(re)),Ke&&Ye?et[et.length-1].$text$+=re:et.push(Ke?ht(null,re):re),Ye=Ke)};if(A($),w){w.key&&(Me=w.key),w.name&&(ue=w.name);{const At=w.className||w.class;At&&(w.class="object"!=typeof At?At:Object.keys(At).filter(kt=>At[kt]).join(" "))}}if("function"==typeof m)return m(null===w?{}:w,et,ze);const bt=ht(m,null);return bt.$attrs$=w,et.length>0&&(bt.$children$=et),bt.$key$=Me,bt.$name$=ue,bt},ht=(m,w)=>({$flags$:0,$tag$:m,$text$:w,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Gt={},ze={forEach:(m,w)=>m.map(Pe).forEach(w),map:(m,w)=>m.map(Pe).map(w).map(je)},Pe=m=>({vattrs:m.$attrs$,vchildren:m.$children$,vkey:m.$key$,vname:m.$name$,vtag:m.$tag$,vtext:m.$text$}),je=m=>{if("function"==typeof m.vtag){const $=Object.assign({},m.vattrs);return m.vkey&&($.key=m.vkey),m.vname&&($.name=m.vname),Be(m.vtag,$,...m.vchildren||[])}const w=ht(m.vtag,m.vtext);return w.$attrs$=m.vattrs,w.$children$=m.vchildren,w.$key$=m.vkey,w.$name$=m.vname,w},$t=(m,w,$,re,Me,ue,Ke)=>{let Ye,et,A,bt;if(1===ue.nodeType){for(Ye=ue.getAttribute("c-id"),Ye&&(et=Ye.split("."),(et[0]===Ke||"0"===et[0])&&(A={$flags$:0,$hostId$:et[0],$nodeId$:et[1],$depth$:et[2],$index$:et[3],$tag$:ue.tagName.toLowerCase(),$elm$:ue,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},w.push(A),ue.removeAttribute("c-id"),m.$children$||(m.$children$=[]),m.$children$[A.$index$]=A,m=A,re&&"0"===A.$depth$&&(re[A.$index$]=A.$elm$))),bt=ue.childNodes.length-1;bt>=0;bt--)$t(m,w,$,re,Me,ue.childNodes[bt],Ke);if(ue.shadowRoot)for(bt=ue.shadowRoot.childNodes.length-1;bt>=0;bt--)$t(m,w,$,re,Me,ue.shadowRoot.childNodes[bt],Ke)}else if(8===ue.nodeType)et=ue.nodeValue.split("."),(et[1]===Ke||"0"===et[1])&&(Ye=et[0],A={$flags$:0,$hostId$:et[1],$nodeId$:et[2],$depth$:et[3],$index$:et[4],$elm$:ue,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Ye?(A.$elm$=ue.nextSibling,A.$elm$&&3===A.$elm$.nodeType&&(A.$text$=A.$elm$.textContent,w.push(A),ue.remove(),m.$children$||(m.$children$=[]),m.$children$[A.$index$]=A,re&&"0"===A.$depth$&&(re[A.$index$]=A.$elm$))):A.$hostId$===Ke&&("s"===Ye?(A.$tag$="slot",ue["s-sn"]=et[5]?A.$name$=et[5]:"",ue["s-sr"]=!0,re&&(A.$elm$=kr.createElement(A.$tag$),A.$name$&&A.$elm$.setAttribute("name",A.$name$),ue.parentNode.insertBefore(A.$elm$,ue),ue.remove(),"0"===A.$depth$&&(re[A.$index$]=A.$elm$)),$.push(A),m.$children$||(m.$children$=[]),m.$children$[A.$index$]=A):"r"===Ye&&(re?ue.remove():(Me["s-cr"]=ue,ue["s-cn"]=!0))));else if(m&&"style"===m.$tag$){const At=ht(null,ue.textContent);At.$elm$=ue,At.$index$="0",m.$children$=[At]}},fe=(m,w)=>{if(1===m.nodeType){let $=0;for(;$<m.childNodes.length;$++)fe(m.childNodes[$],w);if(m.shadowRoot)for($=0;$<m.shadowRoot.childNodes.length;$++)fe(m.shadowRoot.childNodes[$],w)}else if(8===m.nodeType){const $=m.nodeValue.split(".");"o"===$[0]&&(w.set($[1]+"."+$[2],m),m.nodeValue="",m["s-en"]=$[3])}},at=m=>Fo.push(m),qe=m=>Jr(m).$modeName$,Ut=m=>Jr(m).$hostElement$,jt=(m,w,$)=>{const re=Ut(m);return{emit:Me=>Te(re,w,{bubbles:!!(4&$),composed:!!(2&$),cancelable:!!(1&$),detail:Me})}},Te=(m,w,$)=>{const re=Mn.ce(w,$);return m.dispatchEvent(re),re},we=new WeakMap,_e=(m,w,$)=>{let re=zr.get(m);Ls&&$?(re=re||new CSSStyleSheet,"string"==typeof re?re=w:re.replaceSync(w)):re=w,zr.set(m,re)},Je=(m,w,$)=>{var re;const Me=Nt(w,$),ue=zr.get(Me);if(m=11===m.nodeType?m:kr,ue)if("string"==typeof ue){let Ye,Ke=we.get(m=m.head||m);if(Ke||we.set(m,Ke=new Set),!Ke.has(Me)){if(m.host&&(Ye=m.querySelector(`[${le}="${Me}"]`)))Ye.innerHTML=ue;else{Ye=kr.createElement("style"),Ye.innerHTML=ue;const et=null!==(re=Mn.$nonce$)&&void 0!==re?re:he(kr);null!=et&&Ye.setAttribute("nonce",et),m.insertBefore(Ye,m.querySelector("link"))}4&w.$flags$&&(Ye.innerHTML+=Re),Ke&&Ke.add(Me)}}else m.adoptedStyleSheets.includes(ue)||(m.adoptedStyleSheets=[...m.adoptedStyleSheets,ue]);return Me},Nt=(m,w)=>"sc-"+(w&&32&m.$flags$?m.$tagName$+"-"+w:m.$tagName$),dn=m=>m.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),rn=(m,w,$,re,Me,ue)=>{if($!==re){let Ke=Ei(m,w),Ye=w.toLowerCase();if("class"===w){const et=m.classList,A=en($),bt=en(re);et.remove(...A.filter(At=>At&&!bt.includes(At))),et.add(...bt.filter(At=>At&&!A.includes(At)))}else if("style"===w){for(const et in $)(!re||null==re[et])&&(et.includes("-")?m.style.removeProperty(et):m.style[et]="");for(const et in re)(!$||re[et]!==$[et])&&(et.includes("-")?m.style.setProperty(et,re[et]):m.style[et]=re[et])}else if("key"!==w)if("ref"===w)re&&re(m);else if(Ke||"o"!==w[0]||"n"!==w[1]){const et=W(re);if((Ke||et&&null!==re)&&!Me)try{if(m.tagName.includes("-"))m[w]=re;else{const bt=re??"";"list"===w?Ke=!1:(null==$||m[w]!=bt)&&(m[w]=bt)}}catch{}let A=!1;Ye!==(Ye=Ye.replace(/^xlink\:?/,""))&&(w=Ye,A=!0),null==re||!1===re?(!1!==re||""===m.getAttribute(w))&&(A?m.removeAttributeNS(O,w):m.removeAttribute(w)):(!Ke||4&ue||Me)&&!et&&(re=!0===re?"":re,A?m.setAttributeNS(O,w,re):m.setAttribute(w,re))}else if(w="-"===w[2]?w.slice(3):Ei(ni,Ye)?Ye.slice(2):Ye[2]+w.slice(3),$||re){const et=w.endsWith(vr);w=w.replace(Yn,""),$&&Mn.rel(m,w,$,et),re&&Mn.ael(m,w,re,et)}}},pn=/\s/,en=m=>m?m.split(pn):[],vr="Capture",Yn=new RegExp(vr+"$"),Zo=(m,w,$,re)=>{const Me=11===w.$elm$.nodeType&&w.$elm$.host?w.$elm$.host:w.$elm$,ue=m&&m.$attrs$||N,Ke=w.$attrs$||N;for(re in ue)re in Ke||rn(Me,re,ue[re],void 0,$,w.$flags$);for(re in Ke)rn(Me,re,ue[re],Ke[re],$,w.$flags$)},wo=(m,w,$,re)=>{var Me;const ue=w.$children$[$];let Ye,et,A,Ke=0;if(E||(K=!0,"slot"===ue.$tag$&&(Y&&re.classList.add(Y+"-s"),ue.$flags$|=ue.$children$?2:1)),null!==ue.$text$)Ye=ue.$elm$=kr.createTextNode(ue.$text$);else if(1&ue.$flags$)Ye=ue.$elm$=kr.createTextNode("");else{if(L||(L="svg"===ue.$tag$),Ye=ue.$elm$=kr.createElementNS(L?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&ue.$flags$?"slot-fb":ue.$tag$),L&&"foreignObject"===ue.$tag$&&(L=!1),Zo(null,ue,L),(m=>null!=m)(Y)&&Ye["s-si"]!==Y&&Ye.classList.add(Ye["s-si"]=Y),ue.$children$)for(Ke=0;Ke<ue.$children$.length;++Ke)et=wo(m,ue,Ke,Ye),et&&Ye.appendChild(et);"svg"===ue.$tag$?L=!1:"foreignObject"===Ye.tagName&&(L=!0)}return Ye["s-hn"]=R,3&ue.$flags$&&(Ye["s-sr"]=!0,Ye["s-fs"]=null===(Me=ue.$attrs$)||void 0===Me?void 0:Me.slot,Ye["s-cr"]=G,Ye["s-sn"]=ue.$name$||"",A=m&&m.$children$&&m.$children$[$],A&&A.$tag$===ue.$tag$&&m.$elm$&&Do(m.$elm$,!1)),Ye},Do=(m,w)=>{var $;Mn.$flags$|=1;const re=m.childNodes;for(let Me=re.length-1;Me>=0;Me--){const ue=re[Me];ue["s-hn"]!==R&&ue["s-ol"]&&(go(ue).insertBefore(ue,Kn(ue)),ue["s-ol"].remove(),ue["s-ol"]=void 0,ue["s-sh"]=void 0,1===ue.nodeType&&ue.setAttribute("slot",null!==($=ue["s-sn"])&&void 0!==$?$:""),K=!0),w&&Do(ue,w)}Mn.$flags$&=-2},Nn=(m,w,$,re,Me,ue)=>{let Ye,Ke=m["s-cr"]&&m["s-cr"].parentNode||m;for(Ke.shadowRoot&&Ke.tagName===R&&(Ke=Ke.shadowRoot);Me<=ue;++Me)re[Me]&&(Ye=wo(null,$,Me,m),Ye&&(re[Me].$elm$=Ye,Ke.insertBefore(Ye,Kn(w))))},Br=(m,w,$)=>{for(let re=w;re<=$;++re){const Me=m[re];if(Me){const ue=Me.$elm$;Cn(Me),ue&&(I=!0,ue["s-ol"]?ue["s-ol"].remove():Do(ue,!0),ue.remove())}}},ro=(m,w)=>m.$tag$===w.$tag$&&("slot"===m.$tag$?m.$name$===w.$name$:m.$key$===w.$key$),Kn=m=>m&&m["s-ol"]||m,go=m=>(m["s-ol"]?m["s-ol"]:m).parentNode,Vr=(m,w)=>{const $=w.$elm$=m.$elm$,re=m.$children$,Me=w.$children$,ue=w.$tag$,Ke=w.$text$;let Ye;null===Ke?(L="svg"===ue||"foreignObject"!==ue&&L,"slot"===ue||Zo(m,w,L),null!==re&&null!==Me?((m,w,$,re)=>{let Er,jr,Me=0,ue=0,Ke=0,Ye=0,et=w.length-1,A=w[0],bt=w[et],At=re.length-1,kt=re[0],Sn=re[At];for(;Me<=et&&ue<=At;)if(null==A)A=w[++Me];else if(null==bt)bt=w[--et];else if(null==kt)kt=re[++ue];else if(null==Sn)Sn=re[--At];else if(ro(A,kt))Vr(A,kt),A=w[++Me],kt=re[++ue];else if(ro(bt,Sn))Vr(bt,Sn),bt=w[--et],Sn=re[--At];else if(ro(A,Sn))("slot"===A.$tag$||"slot"===Sn.$tag$)&&Do(A.$elm$.parentNode,!1),Vr(A,Sn),m.insertBefore(A.$elm$,bt.$elm$.nextSibling),A=w[++Me],Sn=re[--At];else if(ro(bt,kt))("slot"===A.$tag$||"slot"===Sn.$tag$)&&Do(bt.$elm$.parentNode,!1),Vr(bt,kt),m.insertBefore(bt.$elm$,A.$elm$),bt=w[--et],kt=re[++ue];else{for(Ke=-1,Ye=Me;Ye<=et;++Ye)if(w[Ye]&&null!==w[Ye].$key$&&w[Ye].$key$===kt.$key$){Ke=Ye;break}Ke>=0?(jr=w[Ke],jr.$tag$!==kt.$tag$?Er=wo(w&&w[ue],$,Ke,m):(Vr(jr,kt),w[Ke]=void 0,Er=jr.$elm$),kt=re[++ue]):(Er=wo(w&&w[ue],$,ue,m),kt=re[++ue]),Er&&go(A.$elm$).insertBefore(Er,Kn(A.$elm$))}Me>et?Nn(m,null==re[At+1]?null:re[At+1].$elm$,$,re,ue,At):ue>At&&Br(w,Me,et)})($,re,w,Me):null!==Me?(null!==m.$text$&&($.textContent=""),Nn($,null,w,Me,0,Me.length-1)):null!==re&&Br(re,0,re.length-1),L&&"svg"===ue&&(L=!1)):(Ye=$["s-cr"])?Ye.parentNode.textContent=Ke:m.$text$!==Ke&&($.data=Ke)},pe=m=>{const w=m.childNodes;for(const $ of w)if(1===$.nodeType){if($["s-sr"]){const re=$["s-sn"];$.hidden=!1;for(const Me of w)if(Me!==$)if(Me["s-hn"]!==$["s-hn"]||""!==re){if(1===Me.nodeType&&(re===Me.getAttribute("slot")||re===Me["s-sn"])){$.hidden=!0;break}}else if(1===Me.nodeType||3===Me.nodeType&&""!==Me.textContent.trim()){$.hidden=!0;break}}pe($)}},be=[],cn=m=>{let w,$,re;for(const Me of m.childNodes){if(Me["s-sr"]&&(w=Me["s-cr"])&&w.parentNode){$=w.parentNode.childNodes;const ue=Me["s-sn"];for(re=$.length-1;re>=0;re--)if(w=$[re],!w["s-cn"]&&!w["s-nr"]&&w["s-hn"]!==Me["s-hn"])if(mn(w,ue)){let Ke=be.find(Ye=>Ye.$nodeToRelocate$===w);I=!0,w["s-sn"]=w["s-sn"]||ue,Ke?(Ke.$nodeToRelocate$["s-sh"]=Me["s-hn"],Ke.$slotRefNode$=Me):(w["s-sh"]=Me["s-hn"],be.push({$slotRefNode$:Me,$nodeToRelocate$:w})),w["s-sr"]&&be.map(Ye=>{mn(Ye.$nodeToRelocate$,w["s-sn"])&&(Ke=be.find(et=>et.$nodeToRelocate$===w),Ke&&!Ye.$slotRefNode$&&(Ye.$slotRefNode$=Ke.$slotRefNode$))})}else be.some(Ke=>Ke.$nodeToRelocate$===w)||be.push({$nodeToRelocate$:w})}1===Me.nodeType&&cn(Me)}},mn=(m,w)=>1===m.nodeType?null===m.getAttribute("slot")&&""===w||m.getAttribute("slot")===w:m["s-sn"]===w||""===w,Cn=m=>{m.$attrs$&&m.$attrs$.ref&&m.$attrs$.ref(null),m.$children$&&m.$children$.map(Cn)},fo=(m,w)=>{w&&!m.$onRenderResolve$&&w["s-p"]&&w["s-p"].push(new Promise($=>m.$onRenderResolve$=$))},or=(m,w)=>{if(m.$flags$|=16,!(4&m.$flags$))return fo(m,m.$ancestorComponent$),ct(()=>Dr(m,w));m.$flags$|=512},Dr=(m,w)=>{const re=m.$lazyInstance$;let Me;return w&&(m.$flags$|=256,m.$queuedListeners$&&(m.$queuedListeners$.map(([ue,Ke])=>yr(re,ue,Ke)),m.$queuedListeners$=void 0),Me=yr(re,"componentWillLoad")),Me=_o(Me,()=>yr(re,"componentWillRender")),_o(Me,()=>Eo(m,re,w))},_o=(m,w)=>Fn(m)?m.then(w):w(),Fn=m=>m instanceof Promise||m&&m.then&&"function"==typeof m.then,Eo=function(){var m=(0,S.Z)(function*(w,$,re){var Me;const ue=w.$hostElement$,Ye=ue["s-rc"];re&&(m=>{const w=m.$cmpMeta$,$=m.$hostElement$,re=w.$flags$,ue=Je($.shadowRoot?$.shadowRoot:$.getRootNode(),w,m.$modeName$);10&re&&($["s-sc"]=ue,$.classList.add(ue+"-h"),2&re&&$.classList.add(ue+"-s"))})(w);oo(w,$,ue,re),Ye&&(Ye.map(A=>A()),ue["s-rc"]=void 0);{const A=null!==(Me=ue["s-p"])&&void 0!==Me?Me:[],bt=()=>Hi(w);0===A.length?bt():(Promise.all(A).then(bt),w.$flags$|=4,A.length=0)}});return function($,re,Me){return m.apply(this,arguments)}}(),oo=(m,w,$,re)=>{try{w=w.render&&w.render(),m.$flags$&=-17,m.$flags$|=2,((m,w,$=!1)=>{var re,Me,ue,Ke;const Ye=m.$hostElement$,et=m.$cmpMeta$,A=m.$vnode$||ht(null,null),bt=(m=>m&&m.$tag$===Gt)(w)?w:Be(null,null,w);if(R=Ye.tagName,et.$attrsToReflect$&&(bt.$attrs$=bt.$attrs$||{},et.$attrsToReflect$.map(([At,kt])=>bt.$attrs$[kt]=Ye[At])),$&&bt.$attrs$)for(const At of Object.keys(bt.$attrs$))Ye.hasAttribute(At)&&!["key","ref","style","class"].includes(At)&&(bt.$attrs$[At]=Ye[At]);if(bt.$tag$=null,bt.$flags$|=4,m.$vnode$=bt,bt.$elm$=A.$elm$=Ye.shadowRoot||Ye,Y=Ye["s-sc"],G=Ye["s-cr"],E=0!=(1&et.$flags$),I=!1,Vr(A,bt),Mn.$flags$|=1,K){cn(bt.$elm$);for(const At of be){const kt=At.$nodeToRelocate$;if(!kt["s-ol"]){const Sn=kr.createTextNode("");Sn["s-nr"]=kt,kt.parentNode.insertBefore(kt["s-ol"]=Sn,kt)}}for(const At of be){const kt=At.$nodeToRelocate$,Sn=At.$slotRefNode$;if(Sn){const Er=Sn.parentNode;let jr=Sn.nextSibling;{let Wr=null===(re=kt["s-ol"])||void 0===re?void 0:re.previousSibling;for(;Wr;){let Jn=null!==(Me=Wr["s-nr"])&&void 0!==Me?Me:null;if(Jn&&Jn["s-sn"]===kt["s-sn"]&&Er===Jn.parentNode&&(Jn=Jn.nextSibling,!Jn||!Jn["s-nr"])){jr=Jn;break}Wr=Wr.previousSibling}}(!jr&&Er!==kt.parentNode||kt.nextSibling!==jr)&&kt!==jr&&(!kt["s-hn"]&&kt["s-ol"]&&(kt["s-hn"]=kt["s-ol"].parentNode.nodeName),Er.insertBefore(kt,jr),1===kt.nodeType&&(kt.hidden=null!==(ue=kt["s-ih"])&&void 0!==ue&&ue))}else 1===kt.nodeType&&($&&(kt["s-ih"]=null!==(Ke=kt.hidden)&&void 0!==Ke&&Ke),kt.hidden=!0)}}I&&pe(bt.$elm$),Mn.$flags$&=-2,be.length=0})(m,w,re)}catch(Me){vo(Me,m.$hostElement$)}return null},Hi=m=>{const $=m.$hostElement$,Me=m.$lazyInstance$,ue=m.$ancestorComponent$;yr(Me,"componentDidRender"),64&m.$flags$?yr(Me,"componentDidUpdate"):(m.$flags$|=64,br($),yr(Me,"componentDidLoad"),m.$onReadyResolve$($),ue||xn()),m.$onInstanceResolve$($),m.$onRenderResolve$&&(m.$onRenderResolve$(),m.$onRenderResolve$=void 0),512&m.$flags$&&Ki(()=>or(m,!1)),m.$flags$&=-517},No=m=>{{const w=Jr(m),$=w.$hostElement$.isConnected;return $&&2==(18&w.$flags$)&&or(w,!1),$}},xn=m=>{br(kr.documentElement),Ki(()=>Te(ni,"appload",{detail:{namespace:"ionic"}}))},yr=(m,w,$)=>{if(m&&m[w])try{return m[w]($)}catch(re){vo(re)}},br=m=>m.classList.add("hydrated"),fi=(m,w,$)=>{var re;const Me=m.prototype;if(w.$members$){m.watchers&&(w.$watchers$=m.watchers);const ue=Object.entries(w.$members$);if(ue.map(([Ke,[Ye]])=>{31&Ye||2&$&&32&Ye?Object.defineProperty(Me,Ke,{get(){return((m,w)=>Jr(this).$instanceValues$.get(w))(0,Ke)},set(et){((m,w,$,re)=>{const Me=Jr(m),ue=Me.$hostElement$,Ke=Me.$instanceValues$.get(w),Ye=Me.$flags$,et=Me.$lazyInstance$;$=((m,w)=>null==m||W(m)?m:4&w?"false"!==m&&(""===m||!!m):2&w?parseFloat(m):1&w?String(m):m)($,re.$members$[w][0]);const A=Number.isNaN(Ke)&&Number.isNaN($);if((!(8&Ye)||void 0===Ke)&&$!==Ke&&!A&&(Me.$instanceValues$.set(w,$),et)){if(re.$watchers$&&128&Ye){const At=re.$watchers$[w];At&&At.map(kt=>{try{et[kt]($,Ke,w)}catch(Sn){vo(Sn,ue)}})}2==(18&Ye)&&or(Me,!1)}})(this,Ke,et,w)},configurable:!0,enumerable:!0}):1&$&&64&Ye&&Object.defineProperty(Me,Ke,{value(...et){var A;const bt=Jr(this);return null===(A=bt?.$onInstancePromise$)||void 0===A?void 0:A.then(()=>{var At;return null===(At=bt.$lazyInstance$)||void 0===At?void 0:At[Ke](...et)})}})}),1&$){const Ke=new Map;Me.attributeChangedCallback=function(Ye,et,A){Mn.jmp(()=>{var bt;const At=Ke.get(Ye);if(this.hasOwnProperty(At))A=this[At],delete this[At];else{if(Me.hasOwnProperty(At)&&"number"==typeof this[At]&&this[At]==A)return;if(null==At){const kt=Jr(this),Sn=kt?.$flags$;if(Sn&&!(8&Sn)&&128&Sn&&A!==et){const Er=kt.$lazyInstance$,jr=null===(bt=w.$watchers$)||void 0===bt?void 0:bt[Ye];jr?.forEach(Wr=>{null!=Er[Wr]&&Er[Wr].call(Er,A,et,Ye)})}return}}this[At]=(null!==A||"boolean"!=typeof this[At])&&A})},m.observedAttributes=Array.from(new Set([...Object.keys(null!==(re=w.$watchers$)&&void 0!==re?re:{}),...ue.filter(([Ye,et])=>15&et[0]).map(([Ye,et])=>{var A;const bt=et[1]||Ye;return Ke.set(bt,Ye),512&et[0]&&(null===(A=w.$attrsToReflect$)||void 0===A||A.push([Ye,bt])),bt})]))}}return m},un=function(){var m=(0,S.Z)(function*(w,$,re,Me){let ue;if(!(32&$.$flags$)){$.$flags$|=32;{if(ue=Zi(re),ue.then){const A=()=>{};ue=yield ue,A()}ue.isProxied||(re.$watchers$=ue.watchers,fi(ue,re,2),ue.isProxied=!0);const et=()=>{};$.$flags$|=8;try{new ue($)}catch(A){vo(A)}$.$flags$&=-9,$.$flags$|=128,et(),ti($.$lazyInstance$)}if(ue.style){let et=ue.style;"string"!=typeof et&&(et=et[$.$modeName$=(m=>Fo.map(w=>w(m)).find(w=>!!w))(w)]);const A=Nt(re,$.$modeName$);if(!zr.has(A)){const bt=()=>{};_e(A,et,!!(1&re.$flags$)),bt()}}}const Ke=$.$ancestorComponent$,Ye=()=>or($,!0);Ke&&Ke["s-rc"]?Ke["s-rc"].push(Ye):Ye()});return function($,re,Me,ue){return m.apply(this,arguments)}}(),ti=m=>{yr(m,"connectedCallback")},pi=m=>{const w=m["s-cr"]=kr.createComment("");w["s-cn"]=!0,m.insertBefore(w,m.firstChild)},hi=m=>{yr(m,"disconnectedCallback")},ne=function(){var m=(0,S.Z)(function*(w){if(!(1&Mn.$flags$)){const $=Jr(w);$.$rmListeners$&&($.$rmListeners$.map(re=>re()),$.$rmListeners$=void 0),$?.$lazyInstance$?hi($.$lazyInstance$):$?.$onReadyPromise$&&$.$onReadyPromise$.then(()=>hi($.$lazyInstance$))}});return function($){return m.apply(this,arguments)}}(),Di=(m,w={})=>{var $;const Me=[],ue=w.exclude||[],Ke=ni.customElements,Ye=kr.head,et=Ye.querySelector("meta[charset]"),A=kr.createElement("style"),bt=[],At=kr.querySelectorAll(`[${le}]`);let kt,Sn=!0,Er=0;for(Object.assign(Mn,w),Mn.$resourcesUrl$=new URL(w.resourcesUrl||"./",kr.baseURI).href,Mn.$flags$|=2;Er<At.length;Er++)_e(At[Er].getAttribute(le),dn(At[Er].innerHTML),!0);let jr=!1;if(m.map(Wr=>{Wr[1].map(Jn=>{var Xi;const jn={$flags$:Jn[0],$tagName$:Jn[1],$members$:Jn[2],$listeners$:Jn[3]};4&jn.$flags$&&(jr=!0),jn.$members$=Jn[2],jn.$listeners$=Jn[3],jn.$attrsToReflect$=[],jn.$watchers$=null!==(Xi=Jn[4])&&void 0!==Xi?Xi:{};const Lo=jn.$tagName$,xo=class extends HTMLElement{constructor(Qi){super(Qi),ta(Qi=this,jn),1&jn.$flags$&&Qi.attachShadow({mode:"open",delegatesFocus:!!(16&jn.$flags$)})}connectedCallback(){kt&&(clearTimeout(kt),kt=null),Sn?bt.push(this):Mn.jmp(()=>(m=>{if(!(1&Mn.$flags$)){const w=Jr(m),$=w.$cmpMeta$,re=()=>{};if(1&w.$flags$)qo(m,w,$.$listeners$),w?.$lazyInstance$?ti(w.$lazyInstance$):w?.$onReadyPromise$&&w.$onReadyPromise$.then(()=>ti(w.$lazyInstance$));else{let Me;if(w.$flags$|=1,Me=m.getAttribute(J),Me){if(1&$.$flags$){const ue=Je(m.shadowRoot,$,m.getAttribute("s-mode"));m.classList.remove(ue+"-h",ue+"-s")}((m,w,$,re)=>{const ue=m.shadowRoot,Ke=[],et=ue?[]:null,A=re.$vnode$=ht(w,null);Mn.$orgLocNodes$||fe(kr.body,Mn.$orgLocNodes$=new Map),m[J]=$,m.removeAttribute(J),$t(A,Ke,[],et,m,m,$),Ke.map(bt=>{const At=bt.$hostId$+"."+bt.$nodeId$,kt=Mn.$orgLocNodes$.get(At),Sn=bt.$elm$;kt&&ra&&""===kt["s-en"]&&kt.parentNode.insertBefore(Sn,kt.nextSibling),ue||(Sn["s-hn"]=w,kt&&(Sn["s-ol"]=kt,Sn["s-ol"]["s-nr"]=Sn)),Mn.$orgLocNodes$.delete(At)}),ue&&et.map(bt=>{bt&&ue.appendChild(bt)})})(m,$.$tagName$,Me,w)}Me||12&$.$flags$&&pi(m);{let ue=m;for(;ue=ue.parentNode||ue.host;)if(1===ue.nodeType&&ue.hasAttribute("s-id")&&ue["s-p"]||ue["s-p"]){fo(w,w.$ancestorComponent$=ue);break}}$.$members$&&Object.entries($.$members$).map(([ue,[Ke]])=>{if(31&Ke&&m.hasOwnProperty(ue)){const Ye=m[ue];delete m[ue],m[ue]=Ye}}),un(m,w,$)}re()}})(this))}disconnectedCallback(){Mn.jmp(()=>ne(this))}componentOnReady(){return Jr(this).$onReadyPromise$}};jn.$lazyBundleId$=Wr[0],!ue.includes(Lo)&&!Ke.get(Lo)&&(Me.push(Lo),Ke.define(Lo,fi(xo,jn,1)))})}),jr&&(A.innerHTML+=Re),A.innerHTML+=Me+"{visibility:hidden}.hydrated{visibility:inherit}",A.innerHTML.length){A.setAttribute("data-styles","");const Wr=null!==($=Mn.$nonce$)&&void 0!==$?$:he(kr);null!=Wr&&A.setAttribute("nonce",Wr),Ye.insertBefore(A,et?et.nextSibling:Ye.firstChild)}Sn=!1,bt.length?bt.map(Wr=>Wr.connectedCallback()):Mn.jmp(()=>kt=setTimeout(xn,30))},qo=(m,w,$,re)=>{$&&$.map(([Me,ue,Ke])=>{const Ye=li(m,Me),et=Io(w,Ke),A=Fs(Me);Mn.ael(Ye,ue,et,A),(w.$rmListeners$=w.$rmListeners$||[]).push(()=>Mn.rel(Ye,ue,et,A))})},Io=(m,w)=>$=>{try{256&m.$flags$?m.$lazyInstance$[w]($):(m.$queuedListeners$=m.$queuedListeners$||[]).push([w,$])}catch(re){vo(re)}},li=(m,w)=>4&w?kr:8&w?ni:16&w?kr.body:m,Fs=m=>0!=(2&m),zi=new WeakMap,Jr=m=>zi.get(m),Wi=(m,w)=>zi.set(w.$lazyInstance$=m,w),ta=(m,w)=>{const $={$flags$:0,$hostElement$:m,$cmpMeta$:w,$instanceValues$:new Map};return $.$onInstancePromise$=new Promise(re=>$.$onInstanceResolve$=re),$.$onReadyPromise$=new Promise(re=>$.$onReadyResolve$=re),m["s-p"]=[],m["s-rc"]=[],qo(m,$,w.$listeners$),zi.set(m,$)},Ei=(m,w)=>w in m,vo=(m,w)=>(0,console.error)(m,w),Ii=new Map,Zi=(m,w,$)=>{const re=m.$tagName$.replace(/-/g,"_"),Me=m.$lazyBundleId$,ue=Ii.get(Me);return ue?ue[re]:C(863)(`./${Me}.entry.js`).then(Ke=>(Ii.set(Me,Ke),Ke[re]),vo)},zr=new Map,Fo=[],ni=typeof window<"u"?window:{},kr=ni.document||{head:{}},Mn={$flags$:0,$resourcesUrl$:"",jmp:m=>m(),raf:m=>requestAnimationFrame(m),ael:(m,w,$,re)=>m.addEventListener(w,$,re),rel:(m,w,$,re)=>m.removeEventListener(w,$,re),ce:(m,w)=>new CustomEvent(m,w)},na=m=>{Object.assign(Mn,m)},ra=!0,Ls=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),us=[],ds=[],nt=(m,w)=>$=>{m.push($),k||(k=!0,w&&4&Mn.$flags$?Ki(Yi):Mn.raf(Yi))},fs=m=>{for(let w=0;w<m.length;w++)try{m[w](performance.now())}catch($){vo($)}m.length=0},Yi=()=>{fs(us),fs(ds),(k=us.length>0)&&Mn.raf(Yi)},Ki=m=>Promise.resolve(void 0).then(m),ps=nt(us,!1),ct=nt(ds,!0)},5194:(ge,De,C)=>{"use strict";C.d(De,{a:()=>k,b:()=>ht,c:()=>Z,i:()=>Gt});var S=C(3426);class u{constructor(){this.m=new Map}reset(ze){this.m=new Map(Object.entries(ze))}get(ze,Pe){const je=this.m.get(ze);return void 0!==je?je:Pe}getBoolean(ze,Pe=!1){const je=this.m.get(ze);return void 0===je?Pe:"string"==typeof je?"true"===je:!!je}getNumber(ze,Pe){const je=parseFloat(this.m.get(ze));return isNaN(je)?void 0!==Pe?Pe:NaN:je}set(ze,Pe){this.m.set(ze,Pe)}}const Z=new u,I="ionic:",K="ionic-persist-config",k=(Fe,ze)=>("string"==typeof Fe&&(ze=Fe,Fe=void 0),(Fe=>P(Fe))(Fe).includes(ze)),P=(Fe=window)=>{if(typeof Fe>"u")return[];Fe.Ionic=Fe.Ionic||{};let ze=Fe.Ionic.platforms;return null==ze&&(ze=Fe.Ionic.platforms=T(Fe),ze.forEach(Pe=>Fe.document.documentElement.classList.add(`plt-${Pe}`))),ze},T=Fe=>{const ze=Z.get("platform");return Object.keys(he).filter(Pe=>{const je=ze?.[Pe];return"function"==typeof je?je(Fe):he[Pe](Fe)})},de=Fe=>!!(X(Fe,/iPad/i)||X(Fe,/Macintosh/i)&&ae(Fe)),z=Fe=>X(Fe,/android|sink/i),ae=Fe=>W(Fe,"(any-pointer:coarse)"),Re=Fe=>O(Fe)||N(Fe),O=Fe=>!!(Fe.cordova||Fe.phonegap||Fe.PhoneGap),N=Fe=>{const ze=Fe.Capacitor;return!!ze?.isNative},X=(Fe,ze)=>ze.test(Fe.navigator.userAgent),W=(Fe,ze)=>{var Pe;return null===(Pe=Fe.matchMedia)||void 0===Pe?void 0:Pe.call(Fe,ze).matches},he={ipad:de,iphone:Fe=>X(Fe,/iPhone/i),ios:Fe=>X(Fe,/iPhone|iPod/i)||de(Fe),android:z,phablet:Fe=>{const ze=Fe.innerWidth,Pe=Fe.innerHeight,je=Math.min(ze,Pe),st=Math.max(ze,Pe);return je>390&&je<520&&st>620&&st<800},tablet:Fe=>{const ze=Fe.innerWidth,Pe=Fe.innerHeight,je=Math.min(ze,Pe),st=Math.max(ze,Pe);return de(Fe)||(Fe=>z(Fe)&&!X(Fe,/mobile/i))(Fe)||je>460&&je<820&&st>780&&st<1400},cordova:O,capacitor:N,electron:Fe=>X(Fe,/electron/i),pwa:Fe=>{var ze;return!!(null!==(ze=Fe.matchMedia)&&void 0!==ze&&ze.call(Fe,"(display-mode: standalone)").matches||Fe.navigator.standalone)},mobile:ae,mobileweb:Fe=>ae(Fe)&&!Re(Fe),desktop:Fe=>!ae(Fe),hybrid:Re};let Be;const ht=Fe=>Fe&&(0,S.g)(Fe)||Be,Gt=(Fe={})=>{if(typeof window>"u")return;const ze=window.document,Pe=window,je=Pe.Ionic=Pe.Ionic||{},st={};Fe._ael&&(st.ael=Fe._ael),Fe._rel&&(st.rel=Fe._rel),Fe._ce&&(st.ce=Fe._ce),(0,S.a)(st);const $t=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Fe=>{try{const ze=Fe.sessionStorage.getItem(K);return null!==ze?JSON.parse(ze):{}}catch{return{}}})(Pe)),{persistConfig:!1}),je.config),(Fe=>{const ze={};return Fe.location.search.slice(1).split("&").map(Pe=>Pe.split("=")).map(([Pe,je])=>[decodeURIComponent(Pe),decodeURIComponent(je)]).filter(([Pe])=>((Fe,ze)=>Fe.substr(0,ze.length)===ze)(Pe,I)).map(([Pe,je])=>[Pe.slice(6),je]).forEach(([Pe,je])=>{ze[Pe]=je}),ze})(Pe)),Fe);Z.reset($t),Z.getBoolean("persistConfig")&&((Fe,ze)=>{try{Fe.sessionStorage.setItem(K,JSON.stringify(ze))}catch{return}})(Pe,$t),P(Pe),je.config=Z,je.mode=Be=Z.get("mode",ze.documentElement.getAttribute("mode")||(k(Pe,"ios")?"ios":"md")),Z.set("mode",Be),ze.documentElement.setAttribute("mode",Be),ze.documentElement.classList.add(Be),Z.getBoolean("_testing")&&Z.set("animated",!1);const fe=at=>{var qe;return null===(qe=at.tagName)||void 0===qe?void 0:qe.startsWith("ION-")},Ue=at=>["ios","md"].includes(at);(0,S.c)(at=>{for(;at;){const qe=at.mode||at.getAttribute("mode");if(qe){if(Ue(qe))return qe;fe(at)&&console.warn('Invalid ionic mode: "'+qe+'", expected: "ios" or "md"')}at=at.parentElement}return Be})}},5444:(ge,De,C)=>{"use strict";C.r(De),C.d(De,{iosTransitionAnimation:()=>T,shadow:()=>E});var S=C(2723),u=C(8044);C(6940),C(3426);const R=de=>document.querySelector(`${de}.ion-cloned-element`),E=de=>de.shadowRoot||de,I=de=>{const ve="ION-TABS"===de.tagName?de:de.querySelector("ion-tabs"),se="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=ve){const z=ve.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=z?z.querySelector(se):null}return de.querySelector(se)},K=(de,ve)=>{const se="ION-TABS"===de.tagName?de:de.querySelector("ion-tabs");let z=[];if(null!=se){const M=se.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=M&&(z=M.querySelectorAll("ion-buttons"))}else z=de.querySelectorAll("ion-buttons");for(const M of z){const J=M.closest("ion-header"),le=J&&!J.classList.contains("header-collapse-condense-inactive"),ae=M.querySelector("ion-back-button"),xe=M.classList.contains("buttons-collapse");if(null!==ae&&("start"===M.slot||""===M.slot)&&(xe&&le&&ve||!xe))return ae}return null},k=(de,ve,se,z,M,J,le,ae,xe)=>{var Re,O;const N=ve?`calc(100% - ${M.right+4}px)`:M.left-4+"px",te=ve?"right":"left",D=ve?"left":"right",X=ve?"right":"left",W=(null===(Re=J.textContent)||void 0===Re?void 0:Re.trim())===(null===(O=ae.textContent)||void 0===O?void 0:O.trim()),Be=(xe.height-B)/le.height,ht=W?`scale(${xe.width/le.width}, ${Be})`:`scale(${Be})`,Gt="scale(1)",ze=E(z).querySelector("ion-icon").getBoundingClientRect(),Pe=ve?ze.width/2-(ze.right-M.right)+"px":M.left-ze.width/2+"px",je=ve?`-${window.innerWidth-M.right}px`:`${M.left}px`,st=`${xe.top}px`,$t=`${M.top}px`,at=se?[{offset:0,transform:`translate3d(${je}, ${$t}, 0)`},{offset:1,transform:`translate3d(${Pe}, ${st}, 0)`}]:[{offset:0,transform:`translate3d(${Pe}, ${st}, 0)`},{offset:1,transform:`translate3d(${je}, ${$t}, 0)`}],Ut=se?[{offset:0,opacity:1,transform:Gt},{offset:1,opacity:0,transform:ht}]:[{offset:0,opacity:0,transform:ht},{offset:1,opacity:1,transform:Gt}],we=se?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],_e=(0,S.c)(),Je=(0,S.c)(),vt=(0,S.c)(),Nt=R("ion-back-button"),dn=E(Nt).querySelector(".button-text"),rn=E(Nt).querySelector("ion-icon");Nt.text=z.text,Nt.mode=z.mode,Nt.icon=z.icon,Nt.color=z.color,Nt.disabled=z.disabled,Nt.style.setProperty("display","block"),Nt.style.setProperty("position","fixed"),Je.addElement(rn),_e.addElement(dn),vt.addElement(Nt),vt.beforeStyles({position:"absolute",top:"0px",[X]:"0px"}).keyframes(at),_e.beforeStyles({"transform-origin":`${te} top`}).beforeAddWrite(()=>{z.style.setProperty("display","none"),Nt.style.setProperty(te,N)}).afterAddWrite(()=>{z.style.setProperty("display",""),Nt.style.setProperty("display","none"),Nt.style.removeProperty(te)}).keyframes(Ut),Je.beforeStyles({"transform-origin":`${D} center`}).keyframes(we),de.addAnimation([_e,Je,vt])},P=(de,ve,se,z,M,J,le,ae)=>{var xe,Re;const O=ve?"right":"left",N=ve?`calc(100% - ${M.right}px)`:`${M.left}px`,D=`${M.top}px`,W=ve?`-${window.innerWidth-ae.right-8}px`:ae.x-8+"px",Be=ae.y-2+"px",ht=(null===(xe=le.textContent)||void 0===xe?void 0:xe.trim())===(null===(Re=z.textContent)||void 0===Re?void 0:Re.trim()),Fe=ae.height/(J.height-B),ze="scale(1)",Pe=ht?`scale(${ae.width/J.width}, ${Fe})`:`scale(${Fe})`,$t=se?[{offset:0,opacity:0,transform:`translate3d(${W}, ${Be}, 0) ${Pe}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${D}, 0) ${ze}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${D}, 0) ${ze}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${W}, ${Be}, 0) ${Pe}`}],fe=R("ion-title"),Ue=(0,S.c)();fe.innerText=z.innerText,fe.size=z.size,fe.color=z.color,Ue.addElement(fe),Ue.beforeStyles({"transform-origin":`${O} top`,height:`${M.height}px`,display:"",position:"relative",[O]:N}).beforeAddWrite(()=>{z.style.setProperty("opacity","0")}).afterAddWrite(()=>{z.style.setProperty("opacity",""),fe.style.setProperty("display","none")}).keyframes($t),de.addAnimation(Ue)},T=(de,ve)=>{var se;try{const z="cubic-bezier(0.32,0.72,0,1)",M="opacity",J="transform",le="0%",xe="rtl"===de.ownerDocument.dir,Re=xe?"-99.5%":"99.5%",O=xe?"33%":"-33%",N=ve.enteringEl,te=ve.leavingEl,D="back"===ve.direction,X=N.querySelector(":scope > ion-content"),W=N.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),he=N.querySelectorAll(":scope > ion-header > ion-toolbar"),Be=(0,S.c)(),ht=(0,S.c)();if(Be.addElement(N).duration((null!==(se=ve.duration)&&void 0!==se?se:0)||540).easing(ve.easing||z).fill("both").beforeRemoveClass("ion-page-invisible"),te&&null!=de){const Pe=(0,S.c)();Pe.addElement(de),Be.addAnimation(Pe)}if(X||0!==he.length||0!==W.length?(ht.addElement(X),ht.addElement(W)):ht.addElement(N.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Be.addAnimation(ht),D?ht.beforeClearStyles([M]).fromTo("transform",`translateX(${O})`,`translateX(${le})`).fromTo(M,.8,1):ht.beforeClearStyles([M]).fromTo("transform",`translateX(${Re})`,`translateX(${le})`),X){const Pe=E(X).querySelector(".transition-effect");if(Pe){const je=Pe.querySelector(".transition-cover"),st=Pe.querySelector(".transition-shadow"),$t=(0,S.c)(),fe=(0,S.c)(),Ue=(0,S.c)();$t.addElement(Pe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),fe.addElement(je).beforeClearStyles([M]).fromTo(M,0,.1),Ue.addElement(st).beforeClearStyles([M]).fromTo(M,.03,.7),$t.addAnimation([fe,Ue]),ht.addAnimation([$t])}}const Gt=N.querySelector("ion-header.header-collapse-condense"),{forward:Fe,backward:ze}=((de,ve,se,z,M)=>{const J=K(z,se),le=I(M),ae=I(z),xe=K(M,se),Re=null!==J&&null!==le&&!se,O=null!==ae&&null!==xe&&se;if(Re){const N=le.getBoundingClientRect(),te=J.getBoundingClientRect(),D=E(J).querySelector(".button-text"),X=D.getBoundingClientRect(),he=E(le).querySelector(".toolbar-title").getBoundingClientRect();P(de,ve,se,le,N,he,D,X),k(de,ve,se,J,te,D,X,le,he)}else if(O){const N=ae.getBoundingClientRect(),te=xe.getBoundingClientRect(),D=E(xe).querySelector(".button-text"),X=D.getBoundingClientRect(),he=E(ae).querySelector(".toolbar-title").getBoundingClientRect();P(de,ve,se,ae,N,he,D,X),k(de,ve,se,xe,te,D,X,ae,he)}return{forward:Re,backward:O}})(Be,xe,D,N,te);if(he.forEach(Pe=>{const je=(0,S.c)();je.addElement(Pe),Be.addAnimation(je);const st=(0,S.c)();st.addElement(Pe.querySelector("ion-title"));const $t=(0,S.c)(),fe=Array.from(Pe.querySelectorAll("ion-buttons,[menuToggle]")),Ue=Pe.closest("ion-header"),at=Ue?.classList.contains("header-collapse-condense-inactive");let qe;qe=fe.filter(D?we=>{const _e=we.classList.contains("buttons-collapse");return _e&&!at||!_e}:we=>!we.classList.contains("buttons-collapse")),$t.addElement(qe);const St=(0,S.c)();St.addElement(Pe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Ut=(0,S.c)();Ut.addElement(E(Pe).querySelector(".toolbar-background"));const jt=(0,S.c)(),Te=Pe.querySelector("ion-back-button");if(Te&&jt.addElement(Te),je.addAnimation([st,$t,St,Ut,jt]),$t.fromTo(M,.01,1),St.fromTo(M,.01,1),D)at||st.fromTo("transform",`translateX(${O})`,`translateX(${le})`).fromTo(M,.01,1),St.fromTo("transform",`translateX(${O})`,`translateX(${le})`),jt.fromTo(M,.01,1);else if(Gt||st.fromTo("transform",`translateX(${Re})`,`translateX(${le})`).fromTo(M,.01,1),St.fromTo("transform",`translateX(${Re})`,`translateX(${le})`),Ut.beforeClearStyles([M,"transform"]),Ue?.translucent?Ut.fromTo("transform",xe?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Ut.fromTo(M,.01,"var(--opacity)"),Fe||jt.fromTo(M,.01,1),Te&&!Fe){const _e=(0,S.c)();_e.addElement(E(Te).querySelector(".button-text")).fromTo("transform",xe?"translateX(-100px)":"translateX(100px)","translateX(0px)"),je.addAnimation(_e)}}),te){const Pe=(0,S.c)(),je=te.querySelector(":scope > ion-content"),st=te.querySelectorAll(":scope > ion-header > ion-toolbar"),$t=te.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(je||0!==st.length||0!==$t.length?(Pe.addElement(je),Pe.addElement($t)):Pe.addElement(te.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Be.addAnimation(Pe),D){Pe.beforeClearStyles([M]).fromTo("transform",`translateX(${le})`,xe?"translateX(-100%)":"translateX(100%)");const fe=(0,u.g)(te);Be.afterAddWrite(()=>{"normal"===Be.getDirection()&&fe.style.setProperty("display","none")})}else Pe.fromTo("transform",`translateX(${le})`,`translateX(${O})`).fromTo(M,1,.8);if(je){const fe=E(je).querySelector(".transition-effect");if(fe){const Ue=fe.querySelector(".transition-cover"),at=fe.querySelector(".transition-shadow"),qe=(0,S.c)(),St=(0,S.c)(),Ut=(0,S.c)();qe.addElement(fe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),St.addElement(Ue).beforeClearStyles([M]).fromTo(M,.1,0),Ut.addElement(at).beforeClearStyles([M]).fromTo(M,.7,.03),qe.addAnimation([St,Ut]),Pe.addAnimation([qe])}}st.forEach(fe=>{const Ue=(0,S.c)();Ue.addElement(fe);const at=(0,S.c)();at.addElement(fe.querySelector("ion-title"));const qe=(0,S.c)(),St=fe.querySelectorAll("ion-buttons,[menuToggle]"),Ut=fe.closest("ion-header"),jt=Ut?.classList.contains("header-collapse-condense-inactive"),Te=Array.from(St).filter(dn=>{const rn=dn.classList.contains("buttons-collapse");return rn&&!jt||!rn});qe.addElement(Te);const we=(0,S.c)(),_e=fe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");_e.length>0&&we.addElement(_e);const Je=(0,S.c)();Je.addElement(E(fe).querySelector(".toolbar-background"));const vt=(0,S.c)(),Nt=fe.querySelector("ion-back-button");if(Nt&&vt.addElement(Nt),Ue.addAnimation([at,qe,we,vt,Je]),Be.addAnimation(Ue),vt.fromTo(M,.99,0),qe.fromTo(M,.99,0),we.fromTo(M,.99,0),D){if(jt||at.fromTo("transform",`translateX(${le})`,xe?"translateX(-100%)":"translateX(100%)").fromTo(M,.99,0),we.fromTo("transform",`translateX(${le})`,xe?"translateX(-100%)":"translateX(100%)"),Je.beforeClearStyles([M,"transform"]),Ut?.translucent?Je.fromTo("transform","translateX(0px)",xe?"translateX(-100%)":"translateX(100%)"):Je.fromTo(M,"var(--opacity)",0),Nt&&!ze){const rn=(0,S.c)();rn.addElement(E(Nt).querySelector(".button-text")).fromTo("transform",`translateX(${le})`,`translateX(${(xe?-124:124)+"px"})`),Ue.addAnimation(rn)}}else jt||at.fromTo("transform",`translateX(${le})`,`translateX(${O})`).fromTo(M,.99,0).afterClearStyles([J,M]),we.fromTo("transform",`translateX(${le})`,`translateX(${O})`).afterClearStyles([J,M]),vt.afterClearStyles([M]),at.afterClearStyles([M]),qe.afterClearStyles([M])})}return Be}catch(z){throw z}},B=10},5922:(ge,De,C)=>{"use strict";C.r(De),C.d(De,{mdTransitionAnimation:()=>G});var S=C(2723),u=C(8044);C(6940),C(3426);const G=(R,E)=>{var I,K,L;const k="40px",T="back"===E.direction,de=E.leavingEl,ve=(0,u.g)(E.enteringEl),se=ve.querySelector("ion-toolbar"),z=(0,S.c)();if(z.addElement(ve).fill("both").beforeRemoveClass("ion-page-invisible"),T?z.duration((null!==(I=E.duration)&&void 0!==I?I:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):z.duration((null!==(K=E.duration)&&void 0!==K?K:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${k})`,"translateY(0px)").fromTo("opacity",.01,1),se){const M=(0,S.c)();M.addElement(se),z.addAnimation(M)}if(de&&T){z.duration((null!==(L=E.duration)&&void 0!==L?L:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const M=(0,S.c)();M.addElement((0,u.g)(de)).onFinish(J=>{1===J&&M.elements.length>0&&M.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${k})`).fromTo("opacity",1,0),z.addAnimation(M)}return z}},7261:(ge,De,C)=>{"use strict";C.d(De,{B:()=>at,G:()=>qe,O:()=>St,a:()=>P,b:()=>T,c:()=>se,d:()=>Ut,e:()=>jt,f:()=>ht,g:()=>Fe,h:()=>je,i:()=>$t,j:()=>M,k:()=>J,l:()=>B,m:()=>de,n:()=>L,o:()=>xe,q:()=>he,s:()=>Ue});var S=C(3918),u=C(6940),Z=C(5194),Y=C(8573),G=C(1940),R=C(4675),E=C(6240);let I=0,K=0;const L=new WeakMap,k=Te=>({create:we=>le(Te,we),dismiss:(we,_e,Je)=>D(document,we,_e,Te,Je),getTop:()=>(0,S.Z)(function*(){return he(document,Te)})()}),P=k("ion-alert"),T=k("ion-action-sheet"),B=k("ion-loading"),de=k("ion-modal"),se=k("ion-popover"),M=Te=>{typeof document<"u"&&te(document);const we=I++;Te.overlayIndex=we},J=Te=>(Te.hasAttribute("id")||(Te.id="ion-overlay-"+ ++K),Te.id),le=(Te,we)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Te).then(()=>{const _e=document.createElement(Te);return _e.classList.add("overlay-hidden"),Object.assign(_e,Object.assign(Object.assign({},we),{hasController:!0})),ze(document).appendChild(_e),new Promise(Je=>(0,R.c)(_e,Je))}):Promise.resolve(),ae='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',xe=(Te,we)=>{let _e=Te.querySelector(ae);const Je=_e?.shadowRoot;Je&&(_e=Je.querySelector(ae)||_e),_e?(0,R.f)(_e):we.focus()},O=(Te,we)=>{const _e=Array.from(Te.querySelectorAll(ae));let Je=_e.length>0?_e[_e.length-1]:null;const vt=Je?.shadowRoot;vt&&(Je=vt.querySelector(ae)||Je),Je?Je.focus():we.focus()},te=Te=>{0===I&&(I=1,Te.addEventListener("focus",we=>{((Te,we)=>{const _e=he(we,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Je=Te.target;_e&&Je&&!_e.classList.contains("ion-disable-focus-trap")&&(_e.shadowRoot?(()=>{if(_e.contains(Je))_e.lastFocus=Je;else{const dn=_e.lastFocus;xe(_e,_e),dn===we.activeElement&&O(_e,_e),_e.lastFocus=we.activeElement}})():(()=>{if(_e===Je)_e.lastFocus=void 0;else{const dn=(0,R.g)(_e);if(!dn.contains(Je))return;const rn=dn.querySelector(".ion-overlay-wrapper");if(!rn)return;if(rn.contains(Je)||Je===dn.querySelector("ion-backdrop"))_e.lastFocus=Je;else{const pn=_e.lastFocus;xe(rn,_e),pn===we.activeElement&&O(rn,_e),_e.lastFocus=we.activeElement}}})())})(we,Te)},!0),Te.addEventListener("ionBackButton",we=>{const _e=he(Te);_e?.backdropDismiss&&we.detail.register(G.OVERLAY_BACK_BUTTON_PRIORITY,()=>_e.dismiss(void 0,at))}),Te.addEventListener("keydown",we=>{if("Escape"===we.key){const _e=he(Te);_e?.backdropDismiss&&_e.dismiss(void 0,at)}}))},D=(Te,we,_e,Je,vt)=>{const Nt=he(Te,Je,vt);return Nt?Nt.dismiss(we,_e):Promise.reject("overlay does not exist")},W=(Te,we)=>((Te,we)=>(void 0===we&&(we="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Te.querySelectorAll(we)).filter(_e=>_e.overlayIndex>0)))(Te,we).filter(_e=>!(Te=>Te.classList.contains("overlay-hidden"))(_e)),he=(Te,we,_e)=>{const Je=W(Te,we);return void 0===_e?Je[Je.length-1]:Je.find(vt=>vt.id===_e)},Be=(Te=!1)=>{const _e=ze(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");_e&&(Te?_e.setAttribute("aria-hidden","true"):_e.removeAttribute("aria-hidden"))},ht=function(){var Te=(0,S.Z)(function*(we,_e,Je,vt,Nt){var dn,rn;if(we.presented)return;Be(!0),we.presented=!0,we.willPresent.emit(),null===(dn=we.willPresentShorthand)||void 0===dn||dn.emit();const pn=(0,Z.b)(we),en=we.enterAnimation?we.enterAnimation:Z.c.get(_e,"ios"===pn?Je:vt);(yield Pe(we,en,we.el,Nt))&&(we.didPresent.emit(),null===(rn=we.didPresentShorthand)||void 0===rn||rn.emit()),"ION-TOAST"!==we.el.tagName&&Gt(we.el),we.keyboardClose&&(null===document.activeElement||!we.el.contains(document.activeElement))&&we.el.focus()});return function(_e,Je,vt,Nt,dn){return Te.apply(this,arguments)}}(),Gt=function(){var Te=(0,S.Z)(function*(we){let _e=document.activeElement;if(!_e)return;const Je=_e?.shadowRoot;Je&&(_e=Je.querySelector(ae)||_e),yield we.onDidDismiss(),_e.focus()});return function(_e){return Te.apply(this,arguments)}}(),Fe=function(){var Te=(0,S.Z)(function*(we,_e,Je,vt,Nt,dn,rn){var pn,en;if(!we.presented)return!1;void 0!==u.d&&1===W(u.d).length&&Be(!1),we.presented=!1;try{we.el.style.setProperty("pointer-events","none"),we.willDismiss.emit({data:_e,role:Je}),null===(pn=we.willDismissShorthand)||void 0===pn||pn.emit({data:_e,role:Je});const vr=(0,Z.b)(we),Yn=we.leaveAnimation?we.leaveAnimation:Z.c.get(vt,"ios"===vr?Nt:dn);Je!==qe&&(yield Pe(we,Yn,we.el,rn)),we.didDismiss.emit({data:_e,role:Je}),null===(en=we.didDismissShorthand)||void 0===en||en.emit({data:_e,role:Je}),L.delete(we),we.el.classList.add("overlay-hidden"),we.el.style.removeProperty("pointer-events"),void 0!==we.el.lastFocus&&(we.el.lastFocus=void 0)}catch(vr){console.error(vr)}return we.el.remove(),!0});return function(_e,Je,vt,Nt,dn,rn,pn){return Te.apply(this,arguments)}}(),ze=Te=>Te.querySelector("ion-app")||Te.body,Pe=function(){var Te=(0,S.Z)(function*(we,_e,Je,vt){Je.classList.remove("overlay-hidden");const dn=_e(we.el,vt);(!we.animated||!Z.c.getBoolean("animated",!0))&&dn.duration(0),we.keyboardClose&&dn.beforeAddWrite(()=>{const pn=Je.ownerDocument.activeElement;pn?.matches("input,ion-input, ion-textarea")&&pn.blur()});const rn=L.get(we)||[];return L.set(we,[...rn,dn]),yield dn.play(),!0});return function(_e,Je,vt,Nt){return Te.apply(this,arguments)}}(),je=(Te,we)=>{let _e;const Je=new Promise(vt=>_e=vt);return st(Te,we,vt=>{_e(vt.detail)}),Je},st=(Te,we,_e)=>{const Je=vt=>{(0,R.b)(Te,we,Je),_e(vt)};(0,R.a)(Te,we,Je)},$t=Te=>"cancel"===Te||Te===at,fe=Te=>Te(),Ue=(Te,we)=>{if("function"==typeof Te)return Z.c.get("_zoneGate",fe)(()=>{try{return Te(we)}catch(Je){throw Je}})},at="backdrop",qe="gesture",St=39,Ut=Te=>{let _e,we=!1;const Je=(0,Y.C)(),vt=(rn=!1)=>{if(_e&&!rn)return{delegate:_e,inline:we};const{el:pn,hasController:en,delegate:vr}=Te;return we=null!==pn.parentNode&&!en,_e=we?vr||Je:vr,{inline:we,delegate:_e}};return{attachViewToDom:function(){var rn=(0,S.Z)(function*(pn){const{delegate:en}=vt(!0);if(en)return yield en.attachViewToDom(Te.el,pn);const{hasController:vr}=Te;if(vr&&void 0!==pn)throw new Error("framework delegate is missing");return null});return function(en){return rn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:rn}=vt();rn&&void 0!==Te.el&&rn.removeViewFromDom(Te.el.parentElement,Te.el)}}},jt=()=>{let Te;const we=()=>{Te&&(Te(),Te=void 0)};return{addClickListener:(Je,vt)=>{we();const Nt=void 0!==vt?document.getElementById(vt):null;Nt?Te=((rn,pn)=>{const en=()=>{pn.present()};return rn.addEventListener("click",en),()=>{rn.removeEventListener("click",en)}})(Nt,Je):(0,E.p)(`A trigger element with the ID "${vt}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Je)},removeClickListener:we}}},2410:(ge,De,C)=>{"use strict";var u=C(1491)("ArrayBuffer.prototype.byteLength",!0),Z=C(9850);ge.exports=function(G){return Z(G)?u?u(G):G.byteLength:NaN}},1491:(ge,De,C)=>{"use strict";var S=C(3485),u=C(1773),Z=u(S("String.prototype.indexOf"));ge.exports=function(G,R){var E=S(G,!!R);return"function"==typeof E&&Z(G,".prototype.")>-1?u(E):E}},1773:(ge,De,C)=>{"use strict";var S=C(8956),u=C(3485),Z=C(3931),Y=u("%TypeError%"),G=u("%Function.prototype.apply%"),R=u("%Function.prototype.call%"),E=u("%Reflect.apply%",!0)||S.call(R,G),I=u("%Object.defineProperty%",!0),K=u("%Math.max%");if(I)try{I({},"a",{value:1})}catch{I=null}ge.exports=function(P){if("function"!=typeof P)throw new Y("a function is required");var T=E(S,R,arguments);return Z(T,1+K(0,P.length-(arguments.length-1)),!0)};var L=function(){return E(S,G,arguments)};I?I(ge.exports,"apply",{value:L}):ge.exports.apply=L},7303:ge=>{var De={utf8:{stringToBytes:function(C){return De.bin.stringToBytes(unescape(encodeURIComponent(C)))},bytesToString:function(C){return decodeURIComponent(escape(De.bin.bytesToString(C)))}},bin:{stringToBytes:function(C){for(var S=[],u=0;u<C.length;u++)S.push(255&C.charCodeAt(u));return S},bytesToString:function(C){for(var S=[],u=0;u<C.length;u++)S.push(String.fromCharCode(C[u]));return S.join("")}}};ge.exports=De},3754:ge=>{var De,C;De="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ge.exports=C={rotl:function(S,u){return S<<u|S>>>32-u},rotr:function(S,u){return S<<32-u|S>>>u},endian:function(S){if(S.constructor==Number)return 16711935&C.rotl(S,8)|4278255360&C.rotl(S,24);for(var u=0;u<S.length;u++)S[u]=C.endian(S[u]);return S},randomBytes:function(S){for(var u=[];S>0;S--)u.push(Math.floor(256*Math.random()));return u},bytesToWords:function(S){for(var u=[],Z=0,Y=0;Z<S.length;Z++,Y+=8)u[Y>>>5]|=S[Z]<<24-Y%32;return u},wordsToBytes:function(S){for(var u=[],Z=0;Z<32*S.length;Z+=8)u.push(S[Z>>>5]>>>24-Z%32&255);return u},bytesToHex:function(S){for(var u=[],Z=0;Z<S.length;Z++)u.push((S[Z]>>>4).toString(16)),u.push((15&S[Z]).toString(16));return u.join("")},hexToBytes:function(S){for(var u=[],Z=0;Z<S.length;Z+=2)u.push(parseInt(S.substr(Z,2),16));return u},bytesToBase64:function(S){for(var u=[],Z=0;Z<S.length;Z+=3)for(var Y=S[Z]<<16|S[Z+1]<<8|S[Z+2],G=0;G<4;G++)u.push(8*Z+6*G<=8*S.length?De.charAt(Y>>>6*(3-G)&63):"=");return u.join("")},base64ToBytes:function(S){S=S.replace(/[^A-Z0-9+\/]/gi,"");for(var u=[],Z=0,Y=0;Z<S.length;Y=++Z%4)0!=Y&&u.push((De.indexOf(S.charAt(Z-1))&Math.pow(2,-2*Y+8)-1)<<2*Y|De.indexOf(S.charAt(Z))>>>6-2*Y);return u}}},307:(ge,De,C)=>{"use strict";var S=C(5747),u=C(1491),Z=C(4300),Y=C(3485),G=C(1324),R=C(4355),E=C(500),I=C(1568),K=C(9604),L=C(9850),k=C(6994),P=C(9649),T=C(5327),B=C(5692),de=C(8460),ve=C(9148),se=C(927),z=C(2410),M=u("SharedArrayBuffer.prototype.byteLength",!0),J=u("Date.prototype.getTime"),le=Object.getPrototypeOf,ae=u("Object.prototype.toString"),xe=Y("%Set%",!0),Re=u("Map.prototype.has",!0),O=u("Map.prototype.get",!0),N=u("Map.prototype.size",!0),te=u("Set.prototype.add",!0),D=u("Set.prototype.delete",!0),X=u("Set.prototype.has",!0),W=u("Set.prototype.size",!0);function he(fe,Ue,at,qe){for(var Ut,St=G(fe);(Ut=St.next())&&!Ut.done;)if(ze(Ue,Ut.value,at,qe))return D(fe,Ut.value),!0;return!1}function Be(fe){return typeof fe>"u"?null:"object"!=typeof fe?"symbol"!=typeof fe&&("string"!=typeof fe&&"number"!=typeof fe||+fe==+fe):void 0}function ht(fe,Ue,at,qe,St,Ut){var jt=Be(at);if(null!=jt)return jt;var Te=O(Ue,jt),we=S({},St,{strict:!1});return!(typeof Te>"u"&&!Re(Ue,jt)||!ze(qe,Te,we,Ut))&&!Re(fe,jt)&&ze(qe,Te,we,Ut)}function Gt(fe,Ue,at){var qe=Be(at);return qe??(X(Ue,qe)&&!X(fe,qe))}function Fe(fe,Ue,at,qe,St,Ut){for(var Te,we,jt=G(fe);(Te=jt.next())&&!Te.done;)if(ze(at,we=Te.value,St,Ut)&&ze(qe,O(Ue,we),St,Ut))return D(fe,we),!0;return!1}function ze(fe,Ue,at,qe){var St=at||{};if(St.strict?E(fe,Ue):fe===Ue)return!0;if(de(fe)!==de(Ue))return!1;if(!fe||!Ue||"object"!=typeof fe&&"object"!=typeof Ue)return St.strict?E(fe,Ue):fe==Ue;var _e,Te=qe.has(fe),we=qe.has(Ue);if(Te&&we){if(qe.get(fe)===qe.get(Ue))return!0}else _e={};return Te||qe.set(fe,_e),we||qe.set(Ue,_e),function $t(fe,Ue,at,qe){var St,Ut;if(typeof fe!=typeof Ue||null==fe||null==Ue||ae(fe)!==ae(Ue)||I(fe)!==I(Ue))return!1;if(K(fe)!==K(Ue))return!1;var we=fe instanceof Error,_e=Ue instanceof Error;if(we!==_e||(we||_e)&&(fe.name!==Ue.name||fe.message!==Ue.message))return!1;var Je=P(fe),vt=P(Ue);if(Je!==vt||(Je||vt)&&(fe.source!==Ue.source||Z(fe)!==Z(Ue)))return!1;var Nt=k(fe),dn=k(Ue);if(Nt!==dn||(Nt||dn)&&J(fe)!==J(Ue)||at.strict&&le&&le(fe)!==le(Ue))return!1;var rn=se(fe),pn=se(Ue);if(rn!==pn)return!1;if(rn||pn){if(fe.length!==Ue.length)return!1;for(St=0;St<fe.length;St++)if(fe[St]!==Ue[St])return!1;return!0}var en=Pe(fe),vr=Pe(Ue);if(en!==vr)return!1;if(en||vr){if(fe.length!==Ue.length)return!1;for(St=0;St<fe.length;St++)if(fe[St]!==Ue[St])return!1;return!0}var Yn=L(fe),Zo=L(Ue);if(Yn!==Zo)return!1;if(Yn||Zo)return z(fe)===z(Ue)&&"function"==typeof Uint8Array&&ze(new Uint8Array(fe),new Uint8Array(Ue),at,qe);var wo=T(fe),Do=T(Ue);if(wo!==Do)return!1;if(wo||Do)return M(fe)===M(Ue)&&"function"==typeof Uint8Array&&ze(new Uint8Array(fe),new Uint8Array(Ue),at,qe);if(typeof fe!=typeof Ue)return!1;var Nn=B(fe),Br=B(Ue);if(Nn.length!==Br.length)return!1;for(Nn.sort(),Br.sort(),St=Nn.length-1;St>=0;St--)if(Nn[St]!=Br[St])return!1;for(St=Nn.length-1;St>=0;St--)if(!ze(fe[Ut=Nn[St]],Ue[Ut],at,qe))return!1;var Hr=ve(fe),ro=ve(Ue);return Hr===ro&&("Set"===Hr||"Set"===ro?function je(fe,Ue,at,qe){if(W(fe)!==W(Ue))return!1;for(var jt,Te,we,St=G(fe),Ut=G(Ue);(jt=St.next())&&!jt.done;)if(jt.value&&"object"==typeof jt.value)we||(we=new xe),te(we,jt.value);else if(!X(Ue,jt.value)){if(at.strict||!Gt(fe,Ue,jt.value))return!1;we||(we=new xe),te(we,jt.value)}if(we){for(;(Te=Ut.next())&&!Te.done;)if(Te.value&&"object"==typeof Te.value){if(!he(we,Te.value,at.strict,qe))return!1}else if(!at.strict&&!X(fe,Te.value)&&!he(we,Te.value,at.strict,qe))return!1;return 0===W(we)}return!0}(fe,Ue,at,qe):"Map"!==Hr||function st(fe,Ue,at,qe){if(N(fe)!==N(Ue))return!1;for(var jt,Te,we,_e,Je,vt,St=G(fe),Ut=G(Ue);(jt=St.next())&&!jt.done;)if(Je=jt.value[1],(_e=jt.value[0])&&"object"==typeof _e)we||(we=new xe),te(we,_e);else if(typeof(vt=O(Ue,_e))>"u"&&!Re(Ue,_e)||!ze(Je,vt,at,qe)){if(at.strict||!ht(fe,Ue,_e,Je,at,qe))return!1;we||(we=new xe),te(we,_e)}if(we){for(;(Te=Ut.next())&&!Te.done;)if(vt=Te.value[1],(_e=Te.value[0])&&"object"==typeof _e){if(!Fe(we,fe,_e,vt,at,qe))return!1}else if(!(at.strict||fe.has(_e)&&ze(O(fe,_e),vt,at,qe)||Fe(we,fe,_e,vt,S({},at,{strict:!1}),qe)))return!1;return 0===W(we)}return!0}(fe,Ue,at,qe))}(fe,Ue,St,qe)}function Pe(fe){return!(!fe||"object"!=typeof fe||"number"!=typeof fe.length||"function"!=typeof fe.copy||"function"!=typeof fe.slice||fe.length>0&&"number"!=typeof fe[0]||!(fe.constructor&&fe.constructor.isBuffer&&fe.constructor.isBuffer(fe)))}ge.exports=function(Ue,at,qe){return ze(Ue,at,qe,R())}},4467:(ge,De,C)=>{"use strict";var S=C(7811)(),u=C(3485),Z=S&&u("%Object.defineProperty%",!0);if(Z)try{Z({},"a",{value:1})}catch{Z=!1}var Y=u("%SyntaxError%"),G=u("%TypeError%"),R=C(6078);ge.exports=function(I,K,L){if(!I||"object"!=typeof I&&"function"!=typeof I)throw new G("`obj` must be an object or a function`");if("string"!=typeof K&&"symbol"!=typeof K)throw new G("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new G("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new G("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new G("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new G("`loose`, if provided, must be a boolean");var k=arguments.length>3?arguments[3]:null,P=arguments.length>4?arguments[4]:null,T=arguments.length>5?arguments[5]:null,B=arguments.length>6&&arguments[6],de=!!R&&R(I,K);if(Z)Z(I,K,{configurable:null===T&&de?de.configurable:!T,enumerable:null===k&&de?de.enumerable:!k,value:L,writable:null===P&&de?de.writable:!P});else{if(!B&&(k||P||T))throw new Y("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");I[K]=L}}},9567:(ge,De,C)=>{"use strict";var S=C(5692),u="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),Z=Object.prototype.toString,Y=Array.prototype.concat,G=C(4467),E=C(7811)(),I=function(L,k,P,T){if(k in L)if(!0===T){if(L[k]===P)return}else if(!function(L){return"function"==typeof L&&"[object Function]"===Z.call(L)}(T)||!T())return;E?G(L,k,P,!0):G(L,k,P)},K=function(L,k){var P=arguments.length>2?arguments[2]:{},T=S(k);u&&(T=Y.call(T,Object.getOwnPropertySymbols(k)));for(var B=0;B<T.length;B+=1)I(L,T[B],k[T[B]],P[T[B]])};K.supportsDescriptors=!!E,ge.exports=K},1633:function(ge,De){!function(C){"use strict";var P,Z=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,Y=536870912,G=2*Y,E=new WeakMap,K=function(P,T){return function(B){var de=T.get(B),ve=void 0===de?B.size:de<G?de+1:0;if(!B.has(ve))return P(B,ve);if(B.size<Y){for(;B.has(ve);)ve=Math.floor(Math.random()*G);return P(B,ve)}if(B.size>Z)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;B.has(ve);)ve=Math.floor(Math.random()*Z);return P(B,ve)}}((P=E,function(T,B){return P.set(T,B),B}),E),L=function(P){return function(T){var B=P(T);return T.add(B),B}}(K);C.addUniqueNumber=L,C.generateUniqueNumber=K}(De)},2418:(ge,De,C)=>{"use strict";var S=C(5487),u=Object.prototype.toString,Z=Object.prototype.hasOwnProperty;ge.exports=function(K,L,k){if(!S(L))throw new TypeError("iterator must be a function");var P;arguments.length>=3&&(P=k),"[object Array]"===u.call(K)?function(K,L,k){for(var P=0,T=K.length;P<T;P++)Z.call(K,P)&&(null==k?L(K[P],P,K):L.call(k,K[P],P,K))}(K,L,P):"string"==typeof K?function(K,L,k){for(var P=0,T=K.length;P<T;P++)null==k?L(K.charAt(P),P,K):L.call(k,K.charAt(P),P,K)}(K,L,P):function(K,L,k){for(var P in K)Z.call(K,P)&&(null==k?L(K[P],P,K):L.call(k,K[P],P,K))}(K,L,P)}},8026:ge=>{"use strict";var C=Object.prototype.toString,S=Math.max,Z=function(E,I){for(var K=[],L=0;L<E.length;L+=1)K[L]=E[L];for(var k=0;k<I.length;k+=1)K[k+E.length]=I[k];return K};ge.exports=function(E){var I=this;if("function"!=typeof I||"[object Function]"!==C.apply(I))throw new TypeError("Function.prototype.bind called on incompatible "+I);for(var L,K=function(E,I){for(var K=[],L=1,k=0;L<E.length;L+=1,k+=1)K[k]=E[L];return K}(arguments),P=S(0,I.length-K.length),T=[],B=0;B<P;B++)T[B]="$"+B;if(L=Function("binder","return function ("+function(R,E){for(var I="",K=0;K<R.length;K+=1)I+=R[K],K+1<R.length&&(I+=",");return I}(T)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof L){var ve=I.apply(this,Z(K,arguments));return Object(ve)===ve?ve:this}return I.apply(E,Z(K,arguments))}),I.prototype){var de=function(){};de.prototype=I.prototype,L.prototype=new de,de.prototype=null}return L}},8956:(ge,De,C)=>{"use strict";var S=C(8026);ge.exports=Function.prototype.bind||S},7688:ge=>{"use strict";var De=function(){return"string"==typeof function(){}.name},C=Object.getOwnPropertyDescriptor;if(C)try{C([],"length")}catch{C=null}De.functionsHaveConfigurableNames=function(){if(!De()||!C)return!1;var Z=C(function(){},"name");return!!Z&&!!Z.configurable};var S=Function.prototype.bind;De.boundFunctionsHaveNames=function(){return De()&&"function"==typeof S&&""!==function(){}.bind().name},ge.exports=De},3485:(ge,De,C)=>{"use strict";var S,u=SyntaxError,Z=Function,Y=TypeError,G=function(X){try{return Z('"use strict"; return ('+X+").constructor;")()}catch{}},R=Object.getOwnPropertyDescriptor;if(R)try{R({},"")}catch{R=null}var E=function(){throw new Y},I=R?function(){try{return E}catch{try{return R(arguments,"callee").get}catch{return E}}}():E,K=C(2337)(),L=C(1441)(),k=Object.getPrototypeOf||(L?function(X){return X.__proto__}:null),P={},T=typeof Uint8Array>"u"||!k?S:k(Uint8Array),B={"%AggregateError%":typeof AggregateError>"u"?S:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?S:ArrayBuffer,"%ArrayIteratorPrototype%":K&&k?k([][Symbol.iterator]()):S,"%AsyncFromSyncIteratorPrototype%":S,"%AsyncFunction%":P,"%AsyncGenerator%":P,"%AsyncGeneratorFunction%":P,"%AsyncIteratorPrototype%":P,"%Atomics%":typeof Atomics>"u"?S:Atomics,"%BigInt%":typeof BigInt>"u"?S:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?S:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?S:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?S:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?S:Float32Array,"%Float64Array%":typeof Float64Array>"u"?S:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?S:FinalizationRegistry,"%Function%":Z,"%GeneratorFunction%":P,"%Int8Array%":typeof Int8Array>"u"?S:Int8Array,"%Int16Array%":typeof Int16Array>"u"?S:Int16Array,"%Int32Array%":typeof Int32Array>"u"?S:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":K&&k?k(k([][Symbol.iterator]())):S,"%JSON%":"object"==typeof JSON?JSON:S,"%Map%":typeof Map>"u"?S:Map,"%MapIteratorPrototype%":typeof Map>"u"||!K||!k?S:k((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?S:Promise,"%Proxy%":typeof Proxy>"u"?S:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?S:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?S:Set,"%SetIteratorPrototype%":typeof Set>"u"||!K||!k?S:k((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?S:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":K&&k?k(""[Symbol.iterator]()):S,"%Symbol%":K?Symbol:S,"%SyntaxError%":u,"%ThrowTypeError%":I,"%TypedArray%":T,"%TypeError%":Y,"%Uint8Array%":typeof Uint8Array>"u"?S:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?S:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?S:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?S:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?S:WeakMap,"%WeakRef%":typeof WeakRef>"u"?S:WeakRef,"%WeakSet%":typeof WeakSet>"u"?S:WeakSet};if(k)try{null.error}catch(X){var de=k(k(X));B["%Error.prototype%"]=de}var ve=function X(W){var he;if("%AsyncFunction%"===W)he=G("async function () {}");else if("%GeneratorFunction%"===W)he=G("function* () {}");else if("%AsyncGeneratorFunction%"===W)he=G("async function* () {}");else if("%AsyncGenerator%"===W){var Be=X("%AsyncGeneratorFunction%");Be&&(he=Be.prototype)}else if("%AsyncIteratorPrototype%"===W){var ht=X("%AsyncGenerator%");ht&&k&&(he=k(ht.prototype))}return B[W]=he,he},se={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},z=C(8956),M=C(7528),J=z.call(Function.call,Array.prototype.concat),le=z.call(Function.apply,Array.prototype.splice),ae=z.call(Function.call,String.prototype.replace),xe=z.call(Function.call,String.prototype.slice),Re=z.call(Function.call,RegExp.prototype.exec),O=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,N=/\\(\\)?/g,D=function(W,he){var ht,Be=W;if(M(se,Be)&&(Be="%"+(ht=se[Be])[0]+"%"),M(B,Be)){var Gt=B[Be];if(Gt===P&&(Gt=ve(Be)),typeof Gt>"u"&&!he)throw new Y("intrinsic "+W+" exists, but is not available. Please file an issue!");return{alias:ht,name:Be,value:Gt}}throw new u("intrinsic "+W+" does not exist!")};ge.exports=function(W,he){if("string"!=typeof W||0===W.length)throw new Y("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof he)throw new Y('"allowMissing" argument must be a boolean');if(null===Re(/^%?[^%]*%?$/,W))throw new u("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Be=function(W){var he=xe(W,0,1),Be=xe(W,-1);if("%"===he&&"%"!==Be)throw new u("invalid intrinsic syntax, expected closing `%`");if("%"===Be&&"%"!==he)throw new u("invalid intrinsic syntax, expected opening `%`");var ht=[];return ae(W,O,function(Gt,Fe,ze,Pe){ht[ht.length]=ze?ae(Pe,N,"$1"):Fe||Gt}),ht}(W),ht=Be.length>0?Be[0]:"",Gt=D("%"+ht+"%",he),Fe=Gt.name,ze=Gt.value,Pe=!1,je=Gt.alias;je&&(ht=je[0],le(Be,J([0,1],je)));for(var st=1,$t=!0;st<Be.length;st+=1){var fe=Be[st],Ue=xe(fe,0,1),at=xe(fe,-1);if(('"'===Ue||"'"===Ue||"`"===Ue||'"'===at||"'"===at||"`"===at)&&Ue!==at)throw new u("property names with quotes must have matching quotes");if(("constructor"===fe||!$t)&&(Pe=!0),M(B,Fe="%"+(ht+="."+fe)+"%"))ze=B[Fe];else if(null!=ze){if(!(fe in ze)){if(!he)throw new Y("base intrinsic for "+W+" exists, but the property is not available.");return}if(R&&st+1>=Be.length){var qe=R(ze,fe);ze=($t=!!qe)&&"get"in qe&&!("originalValue"in qe.get)?qe.get:ze[fe]}else $t=M(ze,fe),ze=ze[fe];$t&&!Pe&&(B[Fe]=ze)}}return ze}},6078:(ge,De,C)=>{"use strict";var u=C(3485)("%Object.getOwnPropertyDescriptor%",!0);if(u)try{u([],"length")}catch{u=null}ge.exports=u},5112:ge=>{"use strict";var De=typeof BigInt<"u"&&BigInt;ge.exports=function(){return"function"==typeof De&&"function"==typeof BigInt&&"bigint"==typeof De(42)&&"bigint"==typeof BigInt(42)}},7811:(ge,De,C)=>{"use strict";var u=C(3485)("%Object.defineProperty%",!0),Z=function(){if(u)try{return u({},"a",{value:1}),!0}catch{return!1}return!1};Z.hasArrayLengthDefineBug=function(){if(!Z())return null;try{return 1!==u([],"length",{value:1}).length}catch{return!0}},ge.exports=Z},1441:ge=>{"use strict";var De={foo:{}},C=Object;ge.exports=function(){return{__proto__:De}.foo===De.foo&&!({__proto__:null}instanceof C)}},2337:(ge,De,C)=>{"use strict";var S=typeof Symbol<"u"&&Symbol,u=C(2759);ge.exports=function(){return"function"==typeof S&&"function"==typeof Symbol&&"symbol"==typeof S("foo")&&"symbol"==typeof Symbol("bar")&&u()}},2759:ge=>{"use strict";ge.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var C={},S=Symbol("test"),u=Object(S);if("string"==typeof S||"[object Symbol]"!==Object.prototype.toString.call(S)||"[object Symbol]"!==Object.prototype.toString.call(u))return!1;for(S in C[S]=42,C)return!1;if("function"==typeof Object.keys&&0!==Object.keys(C).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(C).length)return!1;var Y=Object.getOwnPropertySymbols(C);if(1!==Y.length||Y[0]!==S||!Object.prototype.propertyIsEnumerable.call(C,S))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var G=Object.getOwnPropertyDescriptor(C,S);if(42!==G.value||!0!==G.enumerable)return!1}return!0}},6518:(ge,De,C)=>{"use strict";var S=C(2759);ge.exports=function(){return S()&&!!Symbol.toStringTag}},7528:(ge,De,C)=>{"use strict";var S=Function.prototype.call,u=Object.prototype.hasOwnProperty,Z=C(8956);ge.exports=Z.call(S,u)},2605:(ge,De,C)=>{"use strict";var S=C(3485),u=C(7528),Z=C(4355)(),Y=S("%TypeError%"),G={assert:function(R,E){if(!R||"object"!=typeof R&&"function"!=typeof R)throw new Y("`O` is not an object");if("string"!=typeof E)throw new Y("`slot` must be a string");if(Z.assert(R),!G.has(R,E))throw new Y("`"+E+"` is not present on `O`")},get:function(R,E){if(!R||"object"!=typeof R&&"function"!=typeof R)throw new Y("`O` is not an object");if("string"!=typeof E)throw new Y("`slot` must be a string");var I=Z.get(R);return I&&I["$"+E]},has:function(R,E){if(!R||"object"!=typeof R&&"function"!=typeof R)throw new Y("`O` is not an object");if("string"!=typeof E)throw new Y("`slot` must be a string");var I=Z.get(R);return!!I&&u(I,"$"+E)},set:function(R,E,I){if(!R||"object"!=typeof R&&"function"!=typeof R)throw new Y("`O` is not an object");if("string"!=typeof E)throw new Y("`slot` must be a string");var K=Z.get(R);K||Z.set(R,K={}),K["$"+E]=I}};Object.freeze&&Object.freeze(G),ge.exports=G},1568:(ge,De,C)=>{"use strict";var S=C(6518)(),Z=C(1491)("Object.prototype.toString"),Y=function(I){return!(S&&I&&"object"==typeof I&&Symbol.toStringTag in I)&&"[object Arguments]"===Z(I)},G=function(I){return!!Y(I)||null!==I&&"object"==typeof I&&"number"==typeof I.length&&I.length>=0&&"[object Array]"!==Z(I)&&"[object Function]"===Z(I.callee)},R=function(){return Y(arguments)}();Y.isLegacyArguments=G,ge.exports=R?Y:G},9850:(ge,De,C)=>{"use strict";var S=C(1773),u=C(1491),Z=C(3485),Y=C(3631),G=Z("ArrayBuffer",!0),R=Z("Float32Array",!0),E=u("ArrayBuffer.prototype.byteLength",!0),I=G&&!E&&(new G).slice,K=I&&S(I);ge.exports=E||K?function(k){if(!k||"object"!=typeof k)return!1;try{return E?E(k):K(k,0),!0}catch{return!1}}:R?function(k){try{return new R(k).buffer===k&&!Y(k)}catch(P){return"object"==typeof k&&"RangeError"===P.name}}:function(k){return!1}},7050:(ge,De,C)=>{"use strict";if(C(5112)()){var u=BigInt.prototype.valueOf;ge.exports=function(G){return!(null===G||typeof G>"u"||"boolean"==typeof G||"string"==typeof G||"number"==typeof G||"symbol"==typeof G||"function"==typeof G)&&("bigint"==typeof G||function(G){try{return u.call(G),!0}catch{}return!1}(G))}}else ge.exports=function(G){return!1}},2856:(ge,De,C)=>{"use strict";var S=C(1491),u=S("Boolean.prototype.toString"),Z=S("Object.prototype.toString"),R=C(6518)();ge.exports=function(I){return"boolean"==typeof I||null!==I&&"object"==typeof I&&(R&&Symbol.toStringTag in I?function(I){try{return u(I),!0}catch{return!1}}(I):"[object Boolean]"===Z(I))}},7617:ge=>{function De(S){return!!S.constructor&&"function"==typeof S.constructor.isBuffer&&S.constructor.isBuffer(S)}ge.exports=function(S){return null!=S&&(De(S)||function C(S){return"function"==typeof S.readFloatLE&&"function"==typeof S.slice&&De(S.slice(0,0))}(S)||!!S._isBuffer)}},5487:ge=>{"use strict";var S,u,De=Function.prototype.toString,C="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof C&&"function"==typeof Object.defineProperty)try{S=Object.defineProperty({},"length",{get:function(){throw u}}),u={},C(function(){throw 42},null,S)}catch(se){se!==u&&(C=null)}else C=null;var Z=/^\s*class\b/,Y=function(z){try{var M=De.call(z);return Z.test(M)}catch{return!1}},G=function(z){try{return!Y(z)&&(De.call(z),!0)}catch{return!1}},R=Object.prototype.toString,T="function"==typeof Symbol&&!!Symbol.toStringTag,B=!(0 in[,]),de=function(){return!1};if("object"==typeof document){var ve=document.all;R.call(ve)===R.call(document.all)&&(de=function(z){if((B||!z)&&(typeof z>"u"||"object"==typeof z))try{var M=R.call(z);return("[object HTMLAllCollection]"===M||"[object HTML document.all class]"===M||"[object HTMLCollection]"===M||"[object Object]"===M)&&null==z("")}catch{}return!1})}ge.exports=C?function(z){if(de(z))return!0;if(!z||"function"!=typeof z&&"object"!=typeof z)return!1;try{C(z,null,S)}catch(M){if(M!==u)return!1}return!Y(z)&&G(z)}:function(z){if(de(z))return!0;if(!z||"function"!=typeof z&&"object"!=typeof z)return!1;if(T)return G(z);if(Y(z))return!1;var M=R.call(z);return!("[object Function]"!==M&&"[object GeneratorFunction]"!==M&&!/^\[object HTML/.test(M))&&G(z)}},6994:(ge,De,C)=>{"use strict";var S=Date.prototype.getDay,Z=Object.prototype.toString,G=C(6518)();ge.exports=function(E){return"object"==typeof E&&null!==E&&(G?function(E){try{return S.call(E),!0}catch{return!1}}(E):"[object Date]"===Z.call(E))}},6128:ge=>{"use strict";var S,De="function"==typeof Map&&Map.prototype?Map:null,C="function"==typeof Set&&Set.prototype?Set:null;De||(S=function(G){return!1});var u=De?Map.prototype.has:null,Z=C?Set.prototype.has:null;!S&&!u&&(S=function(G){return!1}),ge.exports=S||function(G){if(!G||"object"!=typeof G)return!1;try{if(u.call(G),Z)try{Z.call(G)}catch{return!0}return G instanceof De}catch{}return!1}},9065:(ge,De,C)=>{"use strict";var S=Number.prototype.toString,Z=Object.prototype.toString,G=C(6518)();ge.exports=function(E){return"number"==typeof E||"object"==typeof E&&(G?function(E){try{return S.call(E),!0}catch{return!1}}(E):"[object Number]"===Z.call(E))}},9649:(ge,De,C)=>{"use strict";var Z,Y,G,R,S=C(1491),u=C(6518)();if(u){Z=S("Object.prototype.hasOwnProperty"),Y=S("RegExp.prototype.exec"),G={};var E=function(){throw G};R={toString:E,valueOf:E},"symbol"==typeof Symbol.toPrimitive&&(R[Symbol.toPrimitive]=E)}var I=S("Object.prototype.toString"),K=Object.getOwnPropertyDescriptor;ge.exports=u?function(P){if(!P||"object"!=typeof P)return!1;var T=K(P,"lastIndex");if(!T||!Z(T,"value"))return!1;try{Y(P,R)}catch(de){return de===G}}:function(P){return!(!P||"object"!=typeof P&&"function"!=typeof P)&&"[object RegExp]"===I(P)}},5918:ge=>{"use strict";var S,De="function"==typeof Map&&Map.prototype?Map:null,C="function"==typeof Set&&Set.prototype?Set:null;C||(S=function(G){return!1});var u=De?Map.prototype.has:null,Z=C?Set.prototype.has:null;!S&&!Z&&(S=function(G){return!1}),ge.exports=S||function(G){if(!G||"object"!=typeof G)return!1;try{if(Z.call(G),u)try{u.call(G)}catch{return!0}return G instanceof C}catch{}return!1}},5327:(ge,De,C)=>{"use strict";var u=C(1491)("SharedArrayBuffer.prototype.byteLength",!0);ge.exports=u?function(Y){if(!Y||"object"!=typeof Y)return!1;try{return u(Y),!0}catch{return!1}}:function(Y){return!1}},2706:(ge,De,C)=>{"use strict";var S=String.prototype.valueOf,Z=Object.prototype.toString,G=C(6518)();ge.exports=function(E){return"string"==typeof E||"object"==typeof E&&(G?function(E){try{return S.call(E),!0}catch{return!1}}(E):"[object String]"===Z.call(E))}},2630:(ge,De,C)=>{"use strict";var S=Object.prototype.toString;if(C(2337)()){var Z=Symbol.prototype.toString,Y=/^Symbol\(.*\)$/;ge.exports=function(E){if("symbol"==typeof E)return!0;if("[object Symbol]"!==S.call(E))return!1;try{return function(E){return"symbol"==typeof E.valueOf()&&Y.test(Z.call(E))}(E)}catch{return!1}}}else ge.exports=function(E){return!1}},3631:(ge,De,C)=>{"use strict";var S=C(927);ge.exports=function(Z){return!!S(Z)}},1545:ge=>{"use strict";var S,De="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,C="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;De||(S=function(G){return!1});var u=De?De.prototype.has:null,Z=C?C.prototype.has:null;!S&&!u&&(S=function(G){return!1}),ge.exports=S||function(G){if(!G||"object"!=typeof G)return!1;try{if(u.call(G,u),Z)try{Z.call(G,Z)}catch{return!0}return G instanceof De}catch{}return!1}},9043:(ge,De,C)=>{"use strict";var S=C(3485),u=C(1491),Z=S("%WeakSet%",!0),Y=u("WeakSet.prototype.has",!0);if(Y){var G=u("WeakMap.prototype.has",!0);ge.exports=function(E){if(!E||"object"!=typeof E)return!1;try{if(Y(E,Y),G)try{G(E,G)}catch{return!0}return E instanceof Z}catch{}return!1}}else ge.exports=function(E){return!1}},9604:ge=>{var De={}.toString;ge.exports=Array.isArray||function(C){return"[object Array]"==De.call(C)}},3219:(ge,De,C)=>{var S,u,Z,Y,G;S=C(3754),u=C(7303).utf8,Z=C(7617),Y=C(7303).bin,(G=function(R,E){R.constructor==String?R=E&&"binary"===E.encoding?Y.stringToBytes(R):u.stringToBytes(R):Z(R)?R=Array.prototype.slice.call(R,0):!Array.isArray(R)&&R.constructor!==Uint8Array&&(R=R.toString());for(var I=S.bytesToWords(R),K=8*R.length,L=1732584193,k=-271733879,P=-1732584194,T=271733878,B=0;B<I.length;B++)I[B]=16711935&(I[B]<<8|I[B]>>>24)|4278255360&(I[B]<<24|I[B]>>>8);I[K>>>5]|=128<<K%32,I[14+(K+64>>>9<<4)]=K;var de=G._ff,ve=G._gg,se=G._hh,z=G._ii;for(B=0;B<I.length;B+=16){var M=L,J=k,le=P,ae=T;L=de(L,k,P,T,I[B+0],7,-680876936),T=de(T,L,k,P,I[B+1],12,-389564586),P=de(P,T,L,k,I[B+2],17,606105819),k=de(k,P,T,L,I[B+3],22,-1044525330),L=de(L,k,P,T,I[B+4],7,-176418897),T=de(T,L,k,P,I[B+5],12,1200080426),P=de(P,T,L,k,I[B+6],17,-1473231341),k=de(k,P,T,L,I[B+7],22,-45705983),L=de(L,k,P,T,I[B+8],7,1770035416),T=de(T,L,k,P,I[B+9],12,-1958414417),P=de(P,T,L,k,I[B+10],17,-42063),k=de(k,P,T,L,I[B+11],22,-1990404162),L=de(L,k,P,T,I[B+12],7,1804603682),T=de(T,L,k,P,I[B+13],12,-40341101),P=de(P,T,L,k,I[B+14],17,-1502002290),L=ve(L,k=de(k,P,T,L,I[B+15],22,1236535329),P,T,I[B+1],5,-165796510),T=ve(T,L,k,P,I[B+6],9,-1069501632),P=ve(P,T,L,k,I[B+11],14,643717713),k=ve(k,P,T,L,I[B+0],20,-373897302),L=ve(L,k,P,T,I[B+5],5,-701558691),T=ve(T,L,k,P,I[B+10],9,38016083),P=ve(P,T,L,k,I[B+15],14,-660478335),k=ve(k,P,T,L,I[B+4],20,-405537848),L=ve(L,k,P,T,I[B+9],5,568446438),T=ve(T,L,k,P,I[B+14],9,-1019803690),P=ve(P,T,L,k,I[B+3],14,-187363961),k=ve(k,P,T,L,I[B+8],20,1163531501),L=ve(L,k,P,T,I[B+13],5,-1444681467),T=ve(T,L,k,P,I[B+2],9,-51403784),P=ve(P,T,L,k,I[B+7],14,1735328473),L=se(L,k=ve(k,P,T,L,I[B+12],20,-1926607734),P,T,I[B+5],4,-378558),T=se(T,L,k,P,I[B+8],11,-2022574463),P=se(P,T,L,k,I[B+11],16,1839030562),k=se(k,P,T,L,I[B+14],23,-35309556),L=se(L,k,P,T,I[B+1],4,-1530992060),T=se(T,L,k,P,I[B+4],11,1272893353),P=se(P,T,L,k,I[B+7],16,-155497632),k=se(k,P,T,L,I[B+10],23,-1094730640),L=se(L,k,P,T,I[B+13],4,681279174),T=se(T,L,k,P,I[B+0],11,-358537222),P=se(P,T,L,k,I[B+3],16,-722521979),k=se(k,P,T,L,I[B+6],23,76029189),L=se(L,k,P,T,I[B+9],4,-640364487),T=se(T,L,k,P,I[B+12],11,-421815835),P=se(P,T,L,k,I[B+15],16,530742520),L=z(L,k=se(k,P,T,L,I[B+2],23,-995338651),P,T,I[B+0],6,-198630844),T=z(T,L,k,P,I[B+7],10,1126891415),P=z(P,T,L,k,I[B+14],15,-1416354905),k=z(k,P,T,L,I[B+5],21,-57434055),L=z(L,k,P,T,I[B+12],6,1700485571),T=z(T,L,k,P,I[B+3],10,-1894986606),P=z(P,T,L,k,I[B+10],15,-1051523),k=z(k,P,T,L,I[B+1],21,-2054922799),L=z(L,k,P,T,I[B+8],6,1873313359),T=z(T,L,k,P,I[B+15],10,-30611744),P=z(P,T,L,k,I[B+6],15,-1560198380),k=z(k,P,T,L,I[B+13],21,1309151649),L=z(L,k,P,T,I[B+4],6,-145523070),T=z(T,L,k,P,I[B+11],10,-1120210379),P=z(P,T,L,k,I[B+2],15,718787259),k=z(k,P,T,L,I[B+9],21,-343485551),L=L+M>>>0,k=k+J>>>0,P=P+le>>>0,T=T+ae>>>0}return S.endian([L,k,P,T])})._ff=function(R,E,I,K,L,k,P){var T=R+(E&I|~E&K)+(L>>>0)+P;return(T<<k|T>>>32-k)+E},G._gg=function(R,E,I,K,L,k,P){var T=R+(E&K|I&~K)+(L>>>0)+P;return(T<<k|T>>>32-k)+E},G._hh=function(R,E,I,K,L,k,P){var T=R+(E^I^K)+(L>>>0)+P;return(T<<k|T>>>32-k)+E},G._ii=function(R,E,I,K,L,k,P){var T=R+(I^(E|~K))+(L>>>0)+P;return(T<<k|T>>>32-k)+E},G._blocksize=16,G._digestsize=16,ge.exports=function(R,E){if(null==R)throw new Error("Illegal argument "+R);var I=S.wordsToBytes(G(R,E));return E&&E.asBytes?I:E&&E.asString?Y.bytesToString(I):S.bytesToHex(I)}},5580:(ge,De)=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});var C=[];C[0]=function(){return function(){}},C[1]=function(Y,G){return typeof G>"u"?Y:function(E){Y(E,G)}};var Z=function(){function Y(){this.hasHandlers=!1,this._handlers=[],this._contexts=[],this._createDispatcher()}return Y.prototype.addHandler=function(G,R){return this.isHandlerAttached(G,R)||(this._handlers.push(G),this._contexts.push(R),this._createDispatcher(),this._updateHasHandlers()),this},Y.prototype.removeHandler=function(G,R){var E=this._getHandlerIndex(G,R);return typeof E<"u"&&(this._handlers.splice(E,1),this._contexts.splice(E,1),this._createDispatcher(),this._updateHasHandlers()),this},Y.prototype.isHandlerAttached=function(G,R){return typeof this._getHandlerIndex(G,R)<"u"},Y.prototype._updateHasHandlers=function(){this.hasHandlers=!!this._handlers.length},Y.prototype._getHandlerIndex=function(G,R){var I,E=this._handlers.length;for(I=0;I<E&&(this._handlers[I]!==G||this._contexts[I]!==R);I++);return I<E?I:void 0},Y.prototype._createDispatcher=function(){this.dispatch=function S(Y){return C[Y]||(C[Y]=function u(Y){for(var G="return function dispatcher"+Y+"(payload) {\n",R=[],E=[],I=0;I<Y;I++)R.push("cb"+I),E.push("ctx"+I),G+="    cb"+I+"(payload, ctx"+I+");\n";return G+="};",new(Function.bind.apply(Function,[void 0].concat(R.concat(E),[G])))}(Y)),C[Y]}(this._handlers.length).apply(this,this._handlers.concat(this._contexts))},Y}();De.default=Z},5861:(ge,De,C)=>{"use strict";var u=C(5580);De.j=u.default},2720:(ge,De,C)=>{var S="function"==typeof Map&&Map.prototype,u=Object.getOwnPropertyDescriptor&&S?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Z=S&&u&&"function"==typeof u.get?u.get:null,Y=S&&Map.prototype.forEach,G="function"==typeof Set&&Set.prototype,R=Object.getOwnPropertyDescriptor&&G?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,E=G&&R&&"function"==typeof R.get?R.get:null,I=G&&Set.prototype.forEach,L="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,P="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,B="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,de=Boolean.prototype.valueOf,ve=Object.prototype.toString,se=Function.prototype.toString,z=String.prototype.match,M=String.prototype.slice,J=String.prototype.replace,le=String.prototype.toUpperCase,ae=String.prototype.toLowerCase,xe=RegExp.prototype.test,Re=Array.prototype.concat,O=Array.prototype.join,N=Array.prototype.slice,te=Math.floor,D="function"==typeof BigInt?BigInt.prototype.valueOf:null,X=Object.getOwnPropertySymbols,W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,he="function"==typeof Symbol&&"object"==typeof Symbol.iterator,Be="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,ht=Object.prototype.propertyIsEnumerable,Gt=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(pe){return pe.__proto__}:null);function Fe(pe,be){if(pe===1/0||pe===-1/0||pe!=pe||pe&&pe>-1e3&&pe<1e3||xe.call(/e/,be))return be;var cn=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof pe){var mn=pe<0?-te(-pe):te(pe);if(mn!==pe){var Cn=String(mn),sn=M.call(be,Cn.length+1);return J.call(Cn,cn,"$&_")+"."+J.call(J.call(sn,/([0-9]{3})/g,"$&_"),/_$/,"")}}return J.call(be,cn,"$&_")}var ze=C(4654),Pe=ze.custom,je=Te(Pe)?Pe:null;function st(pe,be,cn){var mn="double"===(cn.quoteStyle||be)?'"':"'";return mn+pe+mn}function $t(pe){return J.call(String(pe),/"/g,"&quot;")}function fe(pe){return!("[object Array]"!==vt(pe)||Be&&"object"==typeof pe&&Be in pe)}function at(pe){return!("[object RegExp]"!==vt(pe)||Be&&"object"==typeof pe&&Be in pe)}function Te(pe){if(he)return pe&&"object"==typeof pe&&pe instanceof Symbol;if("symbol"==typeof pe)return!0;if(!pe||"object"!=typeof pe||!W)return!1;try{return W.call(pe),!0}catch{}return!1}ge.exports=function pe(be,cn,mn,Cn){var sn=cn||{};if(Je(sn,"quoteStyle")&&"single"!==sn.quoteStyle&&"double"!==sn.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Je(sn,"maxStringLength")&&("number"==typeof sn.maxStringLength?sn.maxStringLength<0&&sn.maxStringLength!==1/0:null!==sn.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var fo=!Je(sn,"customInspect")||sn.customInspect;if("boolean"!=typeof fo&&"symbol"!==fo)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Je(sn,"indent")&&null!==sn.indent&&"\t"!==sn.indent&&!(parseInt(sn.indent,10)===sn.indent&&sn.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Je(sn,"numericSeparator")&&"boolean"!=typeof sn.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var or=sn.numericSeparator;if(typeof be>"u")return"undefined";if(null===be)return"null";if("boolean"==typeof be)return be?"true":"false";if("string"==typeof be)return wo(be,sn);if("number"==typeof be){if(0===be)return 1/0/be>0?"0":"-0";var Dr=String(be);return or?Fe(be,Dr):Dr}if("bigint"==typeof be){var _o=String(be)+"n";return or?Fe(be,_o):_o}var Fn=typeof sn.depth>"u"?5:sn.depth;if(typeof mn>"u"&&(mn=0),mn>=Fn&&Fn>0&&"object"==typeof be)return fe(be)?"[Array]":"[Object]";var Eo=function Kn(pe,be){var cn;if("\t"===pe.indent)cn="\t";else{if(!("number"==typeof pe.indent&&pe.indent>0))return null;cn=O.call(Array(pe.indent+1)," ")}return{base:cn,prev:O.call(Array(be+1),cn)}}(sn,mn);if(typeof Cn>"u")Cn=[];else if(dn(Cn,be)>=0)return"[Circular]";function oo(Io,li,Fs){if(li&&(Cn=N.call(Cn)).push(li),Fs){var ci={depth:sn.depth};return Je(sn,"quoteStyle")&&(ci.quoteStyle=sn.quoteStyle),pe(Io,ci,mn+1,Cn)}return pe(Io,sn,mn+1,Cn)}if("function"==typeof be&&!at(be)){var Hi=function Nt(pe){if(pe.name)return pe.name;var be=z.call(se.call(pe),/^function\s*([\w$]+)/);return be?be[1]:null}(be),No=Vr(be,oo);return"[Function"+(Hi?": "+Hi:" (anonymous)")+"]"+(No.length>0?" { "+O.call(No,", ")+" }":"")}if(Te(be)){var xn=he?J.call(String(be),/^(Symbol\(.*\))_[^)]*$/,"$1"):W.call(be);return"object"!=typeof be||he?xn:Nn(xn)}if(function Zo(pe){return!(!pe||"object"!=typeof pe)&&(typeof HTMLElement<"u"&&pe instanceof HTMLElement||"string"==typeof pe.nodeName&&"function"==typeof pe.getAttribute)}(be)){for(var yr="<"+ae.call(String(be.nodeName)),br=be.attributes||[],Tn=0;Tn<br.length;Tn++)yr+=" "+br[Tn].name+"="+st($t(br[Tn].value),"double",sn);return yr+=">",be.childNodes&&be.childNodes.length&&(yr+="..."),yr+"</"+ae.call(String(be.nodeName))+">"}if(fe(be)){if(0===be.length)return"[]";var Ln=Vr(be,oo);return Eo&&!function ro(pe){for(var be=0;be<pe.length;be++)if(dn(pe[be],"\n")>=0)return!1;return!0}(Ln)?"["+go(Ln,Eo)+"]":"[ "+O.call(Ln,", ")+" ]"}if(function qe(pe){return!("[object Error]"!==vt(pe)||Be&&"object"==typeof pe&&Be in pe)}(be)){var fi=Vr(be,oo);return"cause"in Error.prototype||!("cause"in be)||ht.call(be,"cause")?0===fi.length?"["+String(be)+"]":"{ ["+String(be)+"] "+O.call(fi,", ")+" }":"{ ["+String(be)+"] "+O.call(Re.call("[cause]: "+oo(be.cause),fi),", ")+" }"}if("object"==typeof be&&fo){if(je&&"function"==typeof be[je]&&ze)return ze(be,{depth:Fn-mn});if("symbol"!==fo&&"function"==typeof be.inspect)return be.inspect()}if(function rn(pe){if(!Z||!pe||"object"!=typeof pe)return!1;try{Z.call(pe);try{E.call(pe)}catch{return!0}return pe instanceof Map}catch{}return!1}(be)){var un=[];return Y&&Y.call(be,function(Io,li){un.push(oo(li,be,!0)+" => "+oo(Io,be))}),Hr("Map",Z.call(be),un,Eo)}if(function vr(pe){if(!E||!pe||"object"!=typeof pe)return!1;try{E.call(pe);try{Z.call(pe)}catch{return!0}return pe instanceof Set}catch{}return!1}(be)){var ti=[];return I&&I.call(be,function(Io){ti.push(oo(Io,be))}),Hr("Set",E.call(be),ti,Eo)}if(function pn(pe){if(!L||!pe||"object"!=typeof pe)return!1;try{L.call(pe,L);try{P.call(pe,P)}catch{return!0}return pe instanceof WeakMap}catch{}return!1}(be))return Br("WeakMap");if(function Yn(pe){if(!P||!pe||"object"!=typeof pe)return!1;try{P.call(pe,P);try{L.call(pe,L)}catch{return!0}return pe instanceof WeakSet}catch{}return!1}(be))return Br("WeakSet");if(function en(pe){if(!B||!pe||"object"!=typeof pe)return!1;try{return B.call(pe),!0}catch{}return!1}(be))return Br("WeakRef");if(function Ut(pe){return!("[object Number]"!==vt(pe)||Be&&"object"==typeof pe&&Be in pe)}(be))return Nn(oo(Number(be)));if(function we(pe){if(!pe||"object"!=typeof pe||!D)return!1;try{return D.call(pe),!0}catch{}return!1}(be))return Nn(oo(D.call(be)));if(function jt(pe){return!("[object Boolean]"!==vt(pe)||Be&&"object"==typeof pe&&Be in pe)}(be))return Nn(de.call(be));if(function St(pe){return!("[object String]"!==vt(pe)||Be&&"object"==typeof pe&&Be in pe)}(be))return Nn(oo(String(be)));if(typeof window<"u"&&be===window)return"{ [object Window] }";if(be===global)return"{ [object globalThis] }";if(!function Ue(pe){return!("[object Date]"!==vt(pe)||Be&&"object"==typeof pe&&Be in pe)}(be)&&!at(be)){var wi=Vr(be,oo),pi=Gt?Gt(be)===Object.prototype:be instanceof Object||be.constructor===Object,hi=be instanceof Object?"":"null prototype",ne=!pi&&Be&&Object(be)===be&&Be in be?M.call(vt(be),8,-1):hi?"Object":"",qo=(pi||"function"!=typeof be.constructor?"":be.constructor.name?be.constructor.name+" ":"")+(ne||hi?"["+O.call(Re.call([],ne||[],hi||[]),": ")+"] ":"");return 0===wi.length?qo+"{}":Eo?qo+"{"+go(wi,Eo)+"}":qo+"{ "+O.call(wi,", ")+" }"}return String(be)};var _e=Object.prototype.hasOwnProperty||function(pe){return pe in this};function Je(pe,be){return _e.call(pe,be)}function vt(pe){return ve.call(pe)}function dn(pe,be){if(pe.indexOf)return pe.indexOf(be);for(var cn=0,mn=pe.length;cn<mn;cn++)if(pe[cn]===be)return cn;return-1}function wo(pe,be){if(pe.length>be.maxStringLength){var cn=pe.length-be.maxStringLength,mn="... "+cn+" more character"+(cn>1?"s":"");return wo(M.call(pe,0,be.maxStringLength),be)+mn}return st(J.call(J.call(pe,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Do),"single",be)}function Do(pe){var be=pe.charCodeAt(0),cn={8:"b",9:"t",10:"n",12:"f",13:"r"}[be];return cn?"\\"+cn:"\\x"+(be<16?"0":"")+le.call(be.toString(16))}function Nn(pe){return"Object("+pe+")"}function Br(pe){return pe+" { ? }"}function Hr(pe,be,cn,mn){return pe+" ("+be+") {"+(mn?go(cn,mn):O.call(cn,", "))+"}"}function go(pe,be){if(0===pe.length)return"";var cn="\n"+be.prev+be.base;return cn+O.call(pe,","+cn)+"\n"+be.prev}function Vr(pe,be){var cn=fe(pe),mn=[];if(cn){mn.length=pe.length;for(var Cn=0;Cn<pe.length;Cn++)mn[Cn]=Je(pe,Cn)?be(pe[Cn],pe):""}var fo,sn="function"==typeof X?X(pe):[];if(he){fo={};for(var or=0;or<sn.length;or++)fo["$"+sn[or]]=sn[or]}for(var Dr in pe)Je(pe,Dr)&&(cn&&String(Number(Dr))===Dr&&Dr<pe.length||he&&fo["$"+Dr]instanceof Symbol||(xe.call(/[^\w$]/,Dr)?mn.push(be(Dr,pe)+": "+be(pe[Dr],pe)):mn.push(Dr+": "+be(pe[Dr],pe))));if("function"==typeof X)for(var _o=0;_o<sn.length;_o++)ht.call(pe,sn[_o])&&mn.push("["+be(sn[_o])+"]: "+be(pe[sn[_o]],pe));return mn}},5376:ge=>{"use strict";var De=function(C){return C!=C};ge.exports=function(S,u){return 0===S&&0===u?1/S==1/u:!!(S===u||De(S)&&De(u))}},500:(ge,De,C)=>{"use strict";var S=C(9567),u=C(1773),Z=C(5376),Y=C(8204),G=C(2688),R=u(Y(),Object);S(R,{getPolyfill:Y,implementation:Z,shim:G}),ge.exports=R},8204:(ge,De,C)=>{"use strict";var S=C(5376);ge.exports=function(){return"function"==typeof Object.is?Object.is:S}},2688:(ge,De,C)=>{"use strict";var S=C(8204),u=C(9567);ge.exports=function(){var Y=S();return u(Object,{is:Y},{is:function(){return Object.is!==Y}}),Y}},1601:(ge,De,C)=>{"use strict";var S;if(!Object.keys){var u=Object.prototype.hasOwnProperty,Z=Object.prototype.toString,Y=C(6755),G=Object.prototype.propertyIsEnumerable,R=!G.call({toString:null},"toString"),E=G.call(function(){},"prototype"),I=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],K=function(T){var B=T.constructor;return B&&B.prototype===T},L={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},k=function(){if(typeof window>"u")return!1;for(var T in window)try{if(!L["$"+T]&&u.call(window,T)&&null!==window[T]&&"object"==typeof window[T])try{K(window[T])}catch{return!0}}catch{return!0}return!1}();S=function(B){var de=null!==B&&"object"==typeof B,ve="[object Function]"===Z.call(B),se=Y(B),z=de&&"[object String]"===Z.call(B),M=[];if(!de&&!ve&&!se)throw new TypeError("Object.keys called on a non-object");var J=E&&ve;if(z&&B.length>0&&!u.call(B,0))for(var le=0;le<B.length;++le)M.push(String(le));if(se&&B.length>0)for(var ae=0;ae<B.length;++ae)M.push(String(ae));else for(var xe in B)(!J||"prototype"!==xe)&&u.call(B,xe)&&M.push(String(xe));if(R)for(var Re=function(T){if(typeof window>"u"||!k)return K(T);try{return K(T)}catch{return!1}}(B),O=0;O<I.length;++O)(!Re||"constructor"!==I[O])&&u.call(B,I[O])&&M.push(I[O]);return M}}ge.exports=S},5692:(ge,De,C)=>{"use strict";var S=Array.prototype.slice,u=C(6755),Z=Object.keys,Y=Z?function(E){return Z(E)}:C(1601),G=Object.keys;Y.shim=function(){if(Object.keys){var E=function(){var I=Object.keys(arguments);return I&&I.length===arguments.length}(1,2);E||(Object.keys=function(K){return u(K)?G(S.call(K)):G(K)})}else Object.keys=Y;return Object.keys||Y},ge.exports=Y},6755:ge=>{"use strict";var De=Object.prototype.toString;ge.exports=function(S){var u=De.call(S),Z="[object Arguments]"===u;return Z||(Z="[object Array]"!==u&&null!==S&&"object"==typeof S&&"number"==typeof S.length&&S.length>=0&&"[object Function]"===De.call(S.callee)),Z}},8032:(ge,De,C)=>{"use strict";var S=C(5692),u=C(2759)(),Z=C(1491),Y=Object,G=Z("Array.prototype.push"),R=Z("Object.prototype.propertyIsEnumerable"),E=u?Object.getOwnPropertySymbols:null;ge.exports=function(K,L){if(null==K)throw new TypeError("target must be an object");var k=Y(K);if(1===arguments.length)return k;for(var P=1;P<arguments.length;++P){var T=Y(arguments[P]),B=S(T),de=u&&(Object.getOwnPropertySymbols||E);if(de)for(var ve=de(T),se=0;se<ve.length;++se){var z=ve[se];R(T,z)&&G(B,z)}for(var M=0;M<B.length;++M){var J=B[M];R(T,J)&&(k[J]=T[J])}}return k}},5747:(ge,De,C)=>{"use strict";var S=C(9567),u=C(1773),Z=C(8032),Y=C(9530),G=C(4096),R=u.apply(Y()),E=function(K,L){return R(Object,arguments)};S(E,{getPolyfill:Y,implementation:Z,shim:G}),ge.exports=E},9530:(ge,De,C)=>{"use strict";var S=C(8032);ge.exports=function(){return!Object.assign||function(){if(!Object.assign)return!1;for(var Y="abcdefghijklmnopqrst",G=Y.split(""),R={},E=0;E<G.length;++E)R[G[E]]=G[E];var I=Object.assign({},R),K="";for(var L in I)K+=L;return Y!==K}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var Y=Object.preventExtensions({1:2});try{Object.assign(Y,"xy")}catch{return"y"===Y[1]}return!1}()?S:Object.assign}},4096:(ge,De,C)=>{"use strict";var S=C(9567),u=C(9530);ge.exports=function(){var Y=u();return S(Object,{assign:Y},{assign:function(){return Object.assign!==Y}}),Y}},6716:(ge,De)=>{"use strict";var C=Object.prototype.hasOwnProperty;function u(R){try{return decodeURIComponent(R.replace(/\+/g," "))}catch{return null}}function Z(R){try{return encodeURIComponent(R)}catch{return null}}De.stringify=function G(R,E){E=E||"";var K,L,I=[];for(L in"string"!=typeof E&&(E="?"),R)if(C.call(R,L)){if(!(K=R[L])&&(null==K||isNaN(K))&&(K=""),L=Z(L),K=Z(K),null===L||null===K)continue;I.push(L+"="+K)}return I.length?E+I.join("&"):""},De.parse=function Y(R){for(var K,E=/([^=?#&]+)=?([^&]*)/g,I={};K=E.exec(R);){var L=u(K[1]),k=u(K[2]);null===L||null===k||L in I||(I[L]=k)}return I}},7732:(ge,De,C)=>{"use strict";var S=C(2562),u=Object,Z=TypeError;ge.exports=S(function(){if(null!=this&&this!==u(this))throw new Z("RegExp.prototype.flags getter called on non-object");var G="";return this.hasIndices&&(G+="d"),this.global&&(G+="g"),this.ignoreCase&&(G+="i"),this.multiline&&(G+="m"),this.dotAll&&(G+="s"),this.unicode&&(G+="u"),this.unicodeSets&&(G+="v"),this.sticky&&(G+="y"),G},"get flags",!0)},4300:(ge,De,C)=>{"use strict";var S=C(9567),u=C(1773),Z=C(7732),Y=C(5848),G=C(6472),R=u(Y());S(R,{getPolyfill:Y,implementation:Z,shim:G}),ge.exports=R},5848:(ge,De,C)=>{"use strict";var S=C(7732),u=C(9567).supportsDescriptors,Z=Object.getOwnPropertyDescriptor;ge.exports=function(){if(u&&"gim"===/a/gim.flags){var G=Z(RegExp.prototype,"flags");if(G&&"function"==typeof G.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var R="",E={};if(Object.defineProperty(E,"hasIndices",{get:function(){R+="d"}}),Object.defineProperty(E,"sticky",{get:function(){R+="y"}}),"dy"===R)return G.get}}return S}},6472:(ge,De,C)=>{"use strict";var S=C(9567).supportsDescriptors,u=C(5848),Z=Object.getOwnPropertyDescriptor,Y=Object.defineProperty,G=TypeError,R=Object.getPrototypeOf,E=/a/;ge.exports=function(){if(!S||!R)throw new G("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var K=u(),L=R(E),k=Z(L,"flags");return(!k||k.get!==K)&&Y(L,"flags",{configurable:!0,enumerable:!1,get:K}),K}},716:ge=>{"use strict";ge.exports=function(C,S){if(S=S.split(":")[0],!(C=+C))return!1;switch(S){case"http":case"ws":return 80!==C;case"https":case"wss":return 443!==C;case"ftp":return 21!==C;case"gopher":return 70!==C;case"file":return!1}return 0!==C}},3931:(ge,De,C)=>{"use strict";var S=C(3485),u=C(4467),Z=C(7811)(),Y=C(6078),G=S("%TypeError%"),R=S("%Math.floor%");ge.exports=function(I,K){if("function"!=typeof I)throw new G("`fn` is not a function");if("number"!=typeof K||K<0||K>4294967295||R(K)!==K)throw new G("`length` must be a positive 32-bit integer");var L=arguments.length>2&&!!arguments[2],k=!0,P=!0;if("length"in I&&Y){var T=Y(I,"length");T&&!T.configurable&&(k=!1),T&&!T.writable&&(P=!1)}return(k||P||!L)&&(Z?u(I,"length",K,!0,!0):u(I,"length",K)),I}},2562:(ge,De,C)=>{"use strict";var S=C(4467),u=C(7811)(),Z=C(7688).functionsHaveConfigurableNames(),Y=TypeError;ge.exports=function(R,E){if("function"!=typeof R)throw new Y("`fn` is not a function");return(!(arguments.length>2&&arguments[2])||Z)&&(u?S(R,"name",E,!0,!0):S(R,"name",E)),R}},4355:(ge,De,C)=>{"use strict";var S=C(3485),u=C(1491),Z=C(2720),Y=S("%TypeError%"),G=S("%WeakMap%",!0),R=S("%Map%",!0),E=u("WeakMap.prototype.get",!0),I=u("WeakMap.prototype.set",!0),K=u("WeakMap.prototype.has",!0),L=u("Map.prototype.get",!0),k=u("Map.prototype.set",!0),P=u("Map.prototype.has",!0),T=function(se,z){for(var J,M=se;null!==(J=M.next);M=J)if(J.key===z)return M.next=J.next,J.next=se.next,se.next=J,J};ge.exports=function(){var z,M,J,le={assert:function(ae){if(!le.has(ae))throw new Y("Side channel does not contain "+Z(ae))},get:function(ae){if(G&&ae&&("object"==typeof ae||"function"==typeof ae)){if(z)return E(z,ae)}else if(R){if(M)return L(M,ae)}else if(J)return function(se,z){var M=T(se,z);return M&&M.value}(J,ae)},has:function(ae){if(G&&ae&&("object"==typeof ae||"function"==typeof ae)){if(z)return K(z,ae)}else if(R){if(M)return P(M,ae)}else if(J)return function(se,z){return!!T(se,z)}(J,ae);return!1},set:function(ae,xe){G&&ae&&("object"==typeof ae||"function"==typeof ae)?(z||(z=new G),I(z,ae,xe)):R?(M||(M=new R),k(M,ae,xe)):(J||(J={key:{},next:null}),function(se,z,M){var J=T(se,z);J?J.value=M:se.next={key:z,next:se.next,value:M}}(J,ae,xe))}};return le}},118:(ge,De,C)=>{"use strict";var S=C(2605),u=SyntaxError,Z="object"==typeof StopIteration?StopIteration:null;ge.exports=function(G){if(!Z)throw new u("this environment lacks StopIteration");S.set(G,"[[Done]]",!1);var R={next:function(){var I=S.get(this,"[[Iterator]]"),K=S.get(I,"[[Done]]");try{return{done:K,value:K?void 0:I.next()}}catch(L){if(S.set(I,"[[Done]]",!0),L!==Z)throw L;return{done:!0,value:void 0}}}};return S.set(R,"[[Iterator]]",G),R}},6299:(ge,De,C)=>{"use strict";var S=C(716),u=C(6716),Z=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,Y=/[\n\r\t]/g,G=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,R=/:\d+$/,E=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,I=/^[a-zA-Z]:/;function K(M){return(M||"").toString().replace(Z,"")}var L=[["#","hash"],["?","query"],function(J,le){return T(le.protocol)?J.replace(/\\/g,"/"):J},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],k={hash:1,query:1};function P(M){var J;J=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Re,ae={},xe=typeof(M=M||J.location||{});if("blob:"===M.protocol)ae=new ve(unescape(M.pathname),{});else if("string"===xe)for(Re in ae=new ve(M,{}),k)delete ae[Re];else if("object"===xe){for(Re in M)Re in k||(ae[Re]=M[Re]);void 0===ae.slashes&&(ae.slashes=G.test(M.href))}return ae}function T(M){return"file:"===M||"ftp:"===M||"http:"===M||"https:"===M||"ws:"===M||"wss:"===M}function B(M,J){M=(M=K(M)).replace(Y,""),J=J||{};var N,le=E.exec(M),ae=le[1]?le[1].toLowerCase():"",xe=!!le[2],Re=!!le[3],O=0;return xe?Re?(N=le[2]+le[3]+le[4],O=le[2].length+le[3].length):(N=le[2]+le[4],O=le[2].length):Re?(N=le[3]+le[4],O=le[3].length):N=le[4],"file:"===ae?O>=2&&(N=N.slice(2)):T(ae)?N=le[4]:ae?xe&&(N=N.slice(2)):O>=2&&T(J.protocol)&&(N=le[4]),{protocol:ae,slashes:xe||T(ae),slashesCount:O,rest:N}}function ve(M,J,le){if(M=(M=K(M)).replace(Y,""),!(this instanceof ve))return new ve(M,J,le);var ae,xe,Re,O,N,te,D=L.slice(),X=typeof J,W=this,he=0;for("object"!==X&&"string"!==X&&(le=J,J=null),le&&"function"!=typeof le&&(le=u.parse),ae=!(xe=B(M||"",J=P(J))).protocol&&!xe.slashes,W.slashes=xe.slashes||ae&&J.slashes,W.protocol=xe.protocol||J.protocol||"",M=xe.rest,("file:"===xe.protocol&&(2!==xe.slashesCount||I.test(M))||!xe.slashes&&(xe.protocol||xe.slashesCount<2||!T(W.protocol)))&&(D[3]=[/(.*)/,"pathname"]);he<D.length;he++)"function"!=typeof(O=D[he])?(te=O[1],(Re=O[0])!=Re?W[te]=M:"string"==typeof Re?~(N="@"===Re?M.lastIndexOf(Re):M.indexOf(Re))&&("number"==typeof O[2]?(W[te]=M.slice(0,N),M=M.slice(N+O[2])):(W[te]=M.slice(N),M=M.slice(0,N))):(N=Re.exec(M))&&(W[te]=N[1],M=M.slice(0,N.index)),W[te]=W[te]||ae&&O[3]&&J[te]||"",O[4]&&(W[te]=W[te].toLowerCase())):M=O(M,W);le&&(W.query=le(W.query)),ae&&J.slashes&&"/"!==W.pathname.charAt(0)&&(""!==W.pathname||""!==J.pathname)&&(W.pathname=function de(M,J){if(""===M)return J;for(var le=(J||"/").split("/").slice(0,-1).concat(M.split("/")),ae=le.length,xe=le[ae-1],Re=!1,O=0;ae--;)"."===le[ae]?le.splice(ae,1):".."===le[ae]?(le.splice(ae,1),O++):O&&(0===ae&&(Re=!0),le.splice(ae,1),O--);return Re&&le.unshift(""),("."===xe||".."===xe)&&le.push(""),le.join("/")}(W.pathname,J.pathname)),"/"!==W.pathname.charAt(0)&&T(W.protocol)&&(W.pathname="/"+W.pathname),S(W.port,W.protocol)||(W.host=W.hostname,W.port=""),W.username=W.password="",W.auth&&(~(N=W.auth.indexOf(":"))?(W.username=W.auth.slice(0,N),W.username=encodeURIComponent(decodeURIComponent(W.username)),W.password=W.auth.slice(N+1),W.password=encodeURIComponent(decodeURIComponent(W.password))):W.username=encodeURIComponent(decodeURIComponent(W.auth)),W.auth=W.password?W.username+":"+W.password:W.username),W.origin="file:"!==W.protocol&&T(W.protocol)&&W.host?W.protocol+"//"+W.host:"null",W.href=W.toString()}ve.prototype={set:function se(M,J,le){var ae=this;switch(M){case"query":"string"==typeof J&&J.length&&(J=(le||u.parse)(J)),ae[M]=J;break;case"port":ae[M]=J,S(J,ae.protocol)?J&&(ae.host=ae.hostname+":"+J):(ae.host=ae.hostname,ae[M]="");break;case"hostname":ae[M]=J,ae.port&&(J+=":"+ae.port),ae.host=J;break;case"host":ae[M]=J,R.test(J)?(J=J.split(":"),ae.port=J.pop(),ae.hostname=J.join(":")):(ae.hostname=J,ae.port="");break;case"protocol":ae.protocol=J.toLowerCase(),ae.slashes=!le;break;case"pathname":case"hash":if(J){var xe="pathname"===M?"/":"#";ae[M]=J.charAt(0)!==xe?xe+J:J}else ae[M]=J;break;case"username":case"password":ae[M]=encodeURIComponent(J);break;case"auth":var Re=J.indexOf(":");~Re?(ae.username=J.slice(0,Re),ae.username=encodeURIComponent(decodeURIComponent(ae.username)),ae.password=J.slice(Re+1),ae.password=encodeURIComponent(decodeURIComponent(ae.password))):ae.username=encodeURIComponent(decodeURIComponent(J))}for(var O=0;O<L.length;O++){var N=L[O];N[4]&&(ae[N[1]]=ae[N[1]].toLowerCase())}return ae.auth=ae.password?ae.username+":"+ae.password:ae.username,ae.origin="file:"!==ae.protocol&&T(ae.protocol)&&ae.host?ae.protocol+"//"+ae.host:"null",ae.href=ae.toString(),ae},toString:function z(M){(!M||"function"!=typeof M)&&(M=u.stringify);var J,le=this,ae=le.host,xe=le.protocol;xe&&":"!==xe.charAt(xe.length-1)&&(xe+=":");var Re=xe+(le.protocol&&le.slashes||T(le.protocol)?"//":"");return le.username?(Re+=le.username,le.password&&(Re+=":"+le.password),Re+="@"):le.password?(Re+=":"+le.password,Re+="@"):"file:"!==le.protocol&&T(le.protocol)&&!ae&&"/"!==le.pathname&&(Re+="@"),(":"===ae[ae.length-1]||R.test(le.hostname)&&!le.port)&&(ae+=":"),Re+=ae+le.pathname,(J="object"==typeof le.query?M(le.query):le.query)&&(Re+="?"!==J.charAt(0)?"?"+J:J),le.hash&&(Re+=le.hash),Re}},ve.extractProtocol=B,ve.location=P,ve.trimLeft=K,ve.qs=u,ge.exports=ve},8460:(ge,De,C)=>{"use strict";var S=C(2706),u=C(9065),Z=C(2856),Y=C(2630),G=C(7050);ge.exports=function(E){return null==E||"object"!=typeof E&&"function"!=typeof E?null:S(E)?"String":u(E)?"Number":Z(E)?"Boolean":Y(E)?"Symbol":G(E)?"BigInt":void 0}},927:(ge,De,C)=>{"use strict";var S=C(2418),u=C(1001),Z=C(1773),Y=C(1491),G=C(6078),R=Y("Object.prototype.toString"),E=C(6518)(),I=typeof globalThis>"u"?global:globalThis,K=u(),L=Y("String.prototype.slice"),k=Object.getPrototypeOf,P=Y("Array.prototype.indexOf",!0)||function(se,z){for(var M=0;M<se.length;M+=1)if(se[M]===z)return M;return-1},T={__proto__:null};S(K,E&&G&&k?function(ve){var se=new I[ve];if(Symbol.toStringTag in se){var z=k(se),M=G(z,Symbol.toStringTag);if(!M){var J=k(z);M=G(J,Symbol.toStringTag)}T["$"+ve]=Z(M.get)}}:function(ve){var se=new I[ve],z=se.slice||se.set;z&&(T["$"+ve]=Z(z))}),ge.exports=function(se){if(!se||"object"!=typeof se)return!1;if(!E){var z=L(R(se),8,-1);return P(K,z)>-1?z:"Object"===z&&function(se){var z=!1;return S(T,function(M,J){if(!z)try{M(se),z=L(J,1)}catch{}}),z}(se)}return G?function(se){var z=!1;return S(T,function(M,J){if(!z)try{"$"+M(se)===J&&(z=L(J,1))}catch{}}),z}(se):null}},863:(ge,De,C)=>{var S={"./ion-accordion_2.entry.js":[7512,8592,7512],"./ion-action-sheet.entry.js":[6470,8592,6470],"./ion-alert.entry.js":[5690,8592,5690],"./ion-app_8.entry.js":[8508,8592,8508],"./ion-avatar_3.entry.js":[3438,3438],"./ion-back-button.entry.js":[9119,8592,9119],"./ion-backdrop.entry.js":[2319,2319],"./ion-breadcrumb_2.entry.js":[4848,8592,4848],"./ion-button_2.entry.js":[4752,4752],"./ion-card_5.entry.js":[9870,8162],"./ion-checkbox.entry.js":[5892,8592,5892],"./ion-chip.entry.js":[9118,9118],"./ion-col_3.entry.js":[9538,9538],"./ion-datetime-button.entry.js":[4969,5869,4969],"./ion-datetime_3.entry.js":[1835,5869,8592,1835],"./ion-fab_3.entry.js":[6719,8592,6719],"./ion-img.entry.js":[3121,3121],"./ion-infinite-scroll_2.entry.js":[3025,8592,3025],"./ion-input.entry.js":[3914,8592,3914],"./ion-item-option_3.entry.js":[3761,8592,3761],"./ion-item_8.entry.js":[6138,8592,6138],"./ion-loading.entry.js":[2063,8592,2063],"./ion-menu_3.entry.js":[4950,8592,4950],"./ion-modal.entry.js":[9707,8592,9707],"./ion-nav_2.entry.js":[234,8592,234],"./ion-picker-column-internal.entry.js":[7209,8592,7209],"./ion-picker-internal.entry.js":[3068,3068],"./ion-popover.entry.js":[9215,8592,9215],"./ion-progress-bar.entry.js":[5635,5635],"./ion-radio_2.entry.js":[1497,8592,1497],"./ion-range.entry.js":[9964,8592,5922],"./ion-refresher_2.entry.js":[6199,8592,6199],"./ion-reorder_2.entry.js":[3549,8592,3549],"./ion-ripple-effect.entry.js":[5966,5966],"./ion-route_4.entry.js":[3187,3187],"./ion-searchbar.entry.js":[9092,8592,9092],"./ion-segment_2.entry.js":[7600,8592,7600],"./ion-select_3.entry.js":[1449,8592,9870],"./ion-spinner.entry.js":[1657,8592,1657],"./ion-split-pane.entry.js":[8394,8394],"./ion-tab-bar_2.entry.js":[4574,8592,4574],"./ion-tab_2.entry.js":[3514,3514],"./ion-text.entry.js":[7502,7502],"./ion-textarea.entry.js":[7832,8592,7832],"./ion-toast.entry.js":[9805,8592,9805],"./ion-toggle.entry.js":[7393,8592,7393]};function u(Z){if(!C.o(S,Z))return Promise.resolve().then(()=>{var R=new Error("Cannot find module '"+Z+"'");throw R.code="MODULE_NOT_FOUND",R});var Y=S[Z],G=Y[0];return Promise.all(Y.slice(1).map(C.e)).then(()=>C(G))}u.keys=()=>Object.keys(S),u.id=863,ge.exports=u},4654:()=>{},1001:ge=>{"use strict";var De=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],C=typeof globalThis>"u"?global:globalThis;ge.exports=function(){for(var u=[],Z=0;Z<De.length;Z++)"function"==typeof C[De[Z]]&&(u[u.length]=De[Z]);return u}},1324:(ge,De,C)=>{"use strict";var S=C(1568),u=C(118);if(C(2337)()||C(2759)()){var Z=Symbol.iterator;ge.exports=function(N){return null!=N&&typeof N[Z]<"u"?N[Z]():S(N)?Array.prototype[Z].call(N):void 0}}else{var Y=C(9604),G=C(2706),R=C(3485),E=R("%Map%",!0),I=R("%Set%",!0),K=C(1491),L=K("Array.prototype.push"),k=K("String.prototype.charCodeAt"),P=K("String.prototype.slice"),B=function(N){var te=0;return{next:function(){var W,X=te>=N.length;return X||(W=N[te],te+=1),{done:X,value:W}}}},de=function(N,te){if(Y(N)||S(N))return B(N);if(G(N)){var D=0;return{next:function(){var W=function(N,te){if(te+1>=N.length)return te+1;var X=k(N,te);if(X<55296||X>56319)return te+1;var W=k(N,te+1);return W<56320||W>57343?te+1:te+2}(N,D),he=P(N,D,W);return D=W,{done:W>N.length,value:he}}}}return te&&typeof N["_es6-shim iterator_"]<"u"?N["_es6-shim iterator_"]():void 0};if(E||I){var ve=C(6128),se=C(5918),z=K("Map.prototype.forEach",!0),M=K("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var J=K("Map.prototype.iterator",!0),le=K("Set.prototype.iterator",!0);var ae=K("Map.prototype.@@iterator",!0)||K("Map.prototype._es6-shim iterator_",!0),xe=K("Set.prototype.@@iterator",!0)||K("Set.prototype._es6-shim iterator_",!0);ge.exports=function(N){return function(N){if(ve(N)){if(J)return u(J(N));if(ae)return ae(N);if(z){var te=[];return z(N,function(X,W){L(te,[W,X])}),B(te)}}if(se(N)){if(le)return u(le(N));if(xe)return xe(N);if(M){var D=[];return M(N,function(X){L(D,X)}),B(D)}}}(N)||de(N)}}else ge.exports=function(N){if(null!=N)return de(N,!0)}}},9148:(ge,De,C)=>{"use strict";var S=C(6128),u=C(5918),Z=C(1545),Y=C(9043);ge.exports=function(R){if(R&&"object"==typeof R){if(S(R))return"Map";if(u(R))return"Set";if(Z(R))return"WeakMap";if(Y(R))return"WeakSet"}return!1}},3918:(ge,De,C)=>{"use strict";function S(Z,Y,G,R,E,I,K){try{var L=Z[I](K),k=L.value}catch(P){return void G(P)}L.done?Y(k):Promise.resolve(k).then(R,E)}function u(Z){return function(){var Y=this,G=arguments;return new Promise(function(R,E){var I=Z.apply(Y,G);function K(k){S(I,R,E,K,L,"next",k)}function L(k){S(I,R,E,K,L,"throw",k)}K(void 0)})}}C.d(De,{Z:()=>u})}},ge=>{ge(ge.s=8448)}]);
//# sourceMappingURL=main.0a550b2fa5dc5481.js.map