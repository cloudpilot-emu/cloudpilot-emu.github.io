(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{6467:(Be,ze,x)=>{"use strict";function I(n){return"function"==typeof n}function c(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const oe=c(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function te(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class G{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const i of t)i.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(I(r))try{r()}catch(i){e=i instanceof oe?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{V(i)}catch(s){e=e??[],s instanceof oe?e=[...e,...s.errors]:e.push(s)}}if(e)throw new oe(e)}}add(e){var t;if(e&&e!==this)if(this.closed)V(e);else{if(e instanceof G){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&te(t,e)}remove(e){const{_finalizers:t}=this;t&&te(t,e),e instanceof G&&e._removeParent(this)}}G.EMPTY=(()=>{const n=new G;return n.closed=!0,n})();const J=G.EMPTY;function L(n){return n instanceof G||n&&"closed"in n&&I(n.remove)&&I(n.add)&&I(n.unsubscribe)}function V(n){I(n)?n():n.unsubscribe()}const ue={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Y={setTimeout(n,e,...t){const{delegate:r}=Y;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Y;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function se(n){Y.setTimeout(()=>{const{onUnhandledError:e}=ue;if(!e)throw n;e(n)})}function B(){}const $=Le("C",void 0,void 0);function Le(n,e,t){return{kind:n,value:e,error:t}}let me=null;function W(n){if(ue.useDeprecatedSynchronousErrorHandling){const e=!me;if(e&&(me={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=me;if(me=null,t)throw r}}else n()}class pe extends G{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,L(e)&&e.add(this)):this.destination=$e}static create(e,t,r){return new ce(e,t,r)}next(e){this.isStopped?Xe(function Pe(n){return Le("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Xe(function j(n){return Le("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Xe($,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fe=Function.prototype.bind;function de(n,e){return Fe.call(n,e)}class at{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Ce(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Ce(r)}else Ce(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Ce(t)}}}class ce extends pe{constructor(e,t,r){let o;if(super(),I(e)||!e)o={next:e??void 0,error:t??void 0,complete:r??void 0};else{let i;this&&ue.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&de(e.next,i),error:e.error&&de(e.error,i),complete:e.complete&&de(e.complete,i)}):o=e}this.destination=new at(o)}}function Ce(n){ue.useDeprecatedSynchronousErrorHandling?function K(n){ue.useDeprecatedSynchronousErrorHandling&&me&&(me.errorThrown=!0,me.error=n)}(n):se(n)}function Xe(n,e){const{onStoppedNotification:t}=ue;t&&Y.setTimeout(()=>t(n,e))}const $e={closed:!0,next:B,error:function Ie(n){throw n},complete:B},Te="function"==typeof Symbol&&Symbol.observable||"@@observable";function re(n){return n}function Qe(n){return 0===n.length?re:1===n.length?n[0]:function(t){return n.reduce((r,o)=>o(r),t)}}let vt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,o){const i=function O(n){return n&&n instanceof pe||function We(n){return n&&I(n.next)&&I(n.error)&&I(n.complete)}(n)&&L(n)}(t)?t:new ce(t,r,o);return W(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=dn(r))((o,i)=>{const s=new ce({next:a=>{try{t(a)}catch(u){i(u),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Te](){return this}pipe(...t){return Qe(t)(this)}toPromise(t){return new(t=dn(t))((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return n.create=e=>new n(e),n})();function dn(n){var e;return null!==(e=n??ue.Promise)&&void 0!==e?e:Promise}const ye=c(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let nt=(()=>{class n extends vt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new rt(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new ye}next(t){W(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){W(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){W(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:o,observers:i}=this;return r||o?J:(this.currentObservers=null,i.push(t),new G(()=>{this.currentObservers=null,te(i,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:o,isStopped:i}=this;r?t.error(o):i&&t.complete()}asObservable(){const t=new vt;return t.source=this,t}}return n.create=(e,t)=>new rt(e,t),n})();class rt extends nt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:J}}function Ve(n){return I(n?.lift)}function q(n){return e=>{if(Ve(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ve(n,e,t,r,o){return new ht(n,e,t,r,o)}class ht extends pe{constructor(e,t,r,o,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=o?function(a){try{o(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Re(n,e){return q((t,r)=>{let o=0;t.subscribe(ve(r,i=>{r.next(n.call(e,i,o++))}))})}function z(n,e,t,r){var s,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i}function Rn(n,e,t,r){return new(t||(t=Promise))(function(i,s){function a(m){try{f(r.next(m))}catch(_){s(_)}}function u(m){try{f(r.throw(m))}catch(_){s(_)}}function f(m){m.done?i(m.value):function o(i){return i instanceof t?i:new t(function(s){s(i)})}(m.value).then(a,u)}f((r=r.apply(n,e||[])).next())})}function mn(n){return this instanceof mn?(this.v=n,this):new mn(n)}function Zr(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=t.apply(n,e||[]),i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(k){r[k]&&(o[k]=function(T){return new Promise(function(X,Ae){i.push([k,T,X,Ae])>1||a(k,T)})})}function a(k,T){try{!function u(k){k.value instanceof mn?Promise.resolve(k.value.v).then(f,m):_(i[0][2],k)}(r[k](T))}catch(X){_(i[0][3],X)}}function f(k){a("next",k)}function m(k){a("throw",k)}function _(k,T){k(T),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Nr(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Ur(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(i){t[i]=n[i]&&function(s){return new Promise(function(a,u){!function o(i,s,a,u){Promise.resolve(u).then(function(f){i({value:f,done:a})},s)}(a,u,(s=n[i](s)).done,s.value)})}}}const hr=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function en(n){return I(n?.then)}function Qn(n){return I(n[Te])}function Jn(n){return Symbol.asyncIterator&&I(n?.[Symbol.asyncIterator])}function un(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const E=function jt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function S(n){return I(n?.[E])}function qn(n){return Zr(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:o}=yield mn(t.read());if(o)return yield mn(void 0);yield yield mn(r)}}finally{t.releaseLock()}})}function D(n){return I(n?.getReader)}function Nn(n){if(n instanceof vt)return n;if(null!=n){if(Qn(n))return function No(n){return new vt(e=>{const t=n[Te]();if(I(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(hr(n))return function Xo(n){return new vt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(en(n))return function _o(n){return new vt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,se)})}(n);if(Jn(n))return Lo(n);if(S(n))return function Ri(n){return new vt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(D(n))return function bi(n){return Lo(qn(n))}(n)}throw un(n)}function Lo(n){return new vt(e=>{(function wi(n,e){var t,r,o,i;return Rn(this,void 0,void 0,function*(){try{for(t=Nr(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=t.return)&&(yield i.call(t))}finally{if(o)throw o.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Jr(n,e,t,r=0,o=!1){const i=e.schedule(function(){t(),o?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(i),!o)return i}function mr(n,e,t=1/0){return I(e)?mr((r,o)=>Re((i,s)=>e(r,i,o,s))(Nn(n(r,o))),t):("number"==typeof e&&(t=e),q((r,o)=>function $o(n,e,t,r,o,i,s,a){const u=[];let f=0,m=0,_=!1;const k=()=>{_&&!u.length&&!f&&e.complete()},T=Ae=>f<r?X(Ae):u.push(Ae),X=Ae=>{i&&e.next(Ae),f++;let Ze=!1;Nn(t(Ae,m++)).subscribe(ve(e,Ke=>{o?.(Ke),i?T(Ke):e.next(Ke)},()=>{Ze=!0},void 0,()=>{if(Ze)try{for(f--;u.length&&f<r;){const Ke=u.shift();s?Jr(e,s,()=>X(Ke)):X(Ke)}k()}catch(Ke){e.error(Ke)}}))};return n.subscribe(ve(e,T,()=>{_=!0,k()})),()=>{a?.()}}(r,o,n,t)))}function Bo(n=1/0){return mr(re,n)}const qr=new vt(n=>n.complete());function vo(n){return n&&I(n.schedule)}function jr(n){return n[n.length-1]}function Qi(n){return I(jr(n))?n.pop():void 0}function Jo(n){return vo(jr(n))?n.pop():void 0}function eo(n,e=0){return q((t,r)=>{t.subscribe(ve(r,o=>Jr(r,n,()=>r.next(o),e),()=>Jr(r,n,()=>r.complete(),e),o=>Jr(r,n,()=>r.error(o),e)))})}function Ji(n,e=0){return q((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function es(n,e){if(!n)throw new Error("Iterable cannot be null");return new vt(t=>{Jr(t,e,()=>{const r=n[Symbol.asyncIterator]();Jr(t,e,()=>{r.next().then(o=>{o.done?t.complete():t.next(o.value)})},0,!0)})})}function ar(n,e){return e?function xs(n,e){if(null!=n){if(Qn(n))return function ao(n,e){return Nn(n).pipe(Ji(e),eo(e))}(n,e);if(hr(n))return function gs(n,e){return new vt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(en(n))return function Ci(n,e){return Nn(n).pipe(Ji(e),eo(e))}(n,e);if(Jn(n))return es(n,e);if(S(n))return function ci(n,e){return new vt(t=>{let r;return Jr(t,e,()=>{r=n[E](),Jr(t,e,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){return void t.error(s)}i?t.complete():t.next(o)},0,!0)}),()=>I(r?.return)&&r.return()})}(n,e);if(D(n))return function As(n,e){return es(qn(n),e)}(n,e)}throw un(n)}(n,e):Nn(n)}function ui(...n){const e=Jo(n),t=function Eo(n,e){return"number"==typeof jr(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Nn(r[0]):Bo(t)(ar(r,e)):qr}function ys(n={}){const{connector:e=(()=>new nt),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=n;return i=>{let s,a,u,f=0,m=!1,_=!1;const k=()=>{a?.unsubscribe(),a=void 0},T=()=>{k(),s=u=void 0,m=_=!1},X=()=>{const Ae=s;T(),Ae?.unsubscribe()};return q((Ae,Ze)=>{f++,!_&&!m&&k();const Ke=u=u??e();Ze.add(()=>{f--,0===f&&!_&&!m&&(a=Pi(X,o))}),Ke.subscribe(Ze),!s&&f>0&&(s=new ce({next:Ct=>Ke.next(Ct),error:Ct=>{_=!0,k(),a=Pi(T,t,Ct),Ke.error(Ct)},complete:()=>{m=!0,k(),a=Pi(T,r),Ke.complete()}}),Nn(Ae).subscribe(s))})(i)}}function Pi(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new ce({next:()=>{r.unsubscribe(),n()}});return Nn(e(...t)).subscribe(r)}function er(n){for(let e in n)if(n[e]===er)return e;throw Error("Could not find renamed property on target object.")}function A(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function N(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(N).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function ge(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Se=er({__forward_ref__:er});function Oe(n){return n.__forward_ref__=Oe,n.toString=function(){return N(this())},n}function P(n){return he(n)?n():n}function he(n){return"function"==typeof n&&n.hasOwnProperty(Se)&&n.__forward_ref__===Oe}function ke(n){return n&&!!n.\u0275providers}const it="https://g.co/ng/security#xss";class xe extends Error{constructor(e,t){super(function Ht(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function St(n){return"string"==typeof n?n:null==n?"":String(n)}function di(n,e){throw new xe(-201,!1)}function ko(n,e){null==n&&function Zn(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function mt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function gr(n){return{providers:n.providers||[],imports:n.imports||[]}}function _s(n){return to(n,Rs)||to(n,sa)}function to(n,e){return n.hasOwnProperty(e)?n[e]:null}function ia(n){return n&&(n.hasOwnProperty(Gs)||n.hasOwnProperty($a))?n[Gs]:null}const Rs=er({\u0275prov:er}),Gs=er({\u0275inj:er}),sa=er({ngInjectableDef:er}),$a=er({ngInjectorDef:er});var kt=(()=>((kt=kt||{})[kt.Default=0]="Default",kt[kt.Host=1]="Host",kt[kt.Self=2]="Self",kt[kt.SkipSelf=4]="SkipSelf",kt[kt.Optional=8]="Optional",kt))();let zs;function ir(n){const e=zs;return zs=n,e}function Hr(n,e,t){const r=_s(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&kt.Optional?null:void 0!==e?e:void di(N(n))}const p=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),H={},be="__NG_DI_FLAG__",De="ngTempTokenPath",Et=/\n/gm,An="__source";let xn;function Gt(n){const e=xn;return xn=n,e}function Yt(n,e=kt.Default){if(void 0===xn)throw new xe(-203,!1);return null===xn?Hr(n,void 0,e):xn.get(n,e&kt.Optional?null:void 0,e)}function ne(n,e=kt.Default){return(function lo(){return zs}()||Yt)(P(n),e)}function _n(n,e=kt.Default){return ne(n,Yr(e))}function Yr(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function gt(n){const e=[];for(let t=0;t<n.length;t++){const r=P(n[t]);if(Array.isArray(r)){if(0===r.length)throw new xe(900,!1);let o,i=kt.Default;for(let s=0;s<r.length;s++){const a=r[s],u=Gr(a);"number"==typeof u?-1===u?o=a.token:i|=u:o=a}e.push(ne(o,i))}else e.push(ne(r))}return e}function zt(n,e){return n[be]=e,n.prototype[be]=e,n}function Gr(n){return n[be]}function Tn(n){return{toString:n}.toString()}var co=(()=>((co=co||{})[co.OnPush=0]="OnPush",co[co.Default=1]="Default",co))(),Fi=(()=>{return(n=Fi||(Fi={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Fi;var n})();const rs={},nr=[],Ba=er({\u0275cmp:er}),On=er({\u0275dir:er}),bo=er({\u0275pipe:er}),uo=er({\u0275mod:er}),lr=er({\u0275fac:er}),Zt=er({__NG_ELEMENT_ID__:er});let zr=0;function Ye(n){return Tn(()=>{const t=!0===n.standalone,r={},o={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===co.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||nr,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Fi.Emulated,id:"c"+zr++,styles:n.styles||nr,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},i=n.dependencies,s=n.features;return o.inputs=Z(n.inputs,r),o.outputs=Z(n.outputs),s&&s.forEach(a=>a(o)),o.directiveDefs=i?()=>("function"==typeof i?i():i).map(d).filter(g):null,o.pipeDefs=i?()=>("function"==typeof i?i():i).map(Bt).filter(g):null,o})}function d(n){return Ee(n)||yt(n)}function g(n){return null!==n}function b(n){return Tn(()=>({type:n.type,bootstrap:n.bootstrap||nr,declarations:n.declarations||nr,imports:n.imports||nr,exports:n.exports||nr,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Z(n,e){if(null==n)return rs;const t={};for(const r in n)if(n.hasOwnProperty(r)){let o=n[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),t[o]=r,e&&(e[o]=i)}return t}const Q=Ye;function _e(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ee(n){return n[Ba]||null}function yt(n){return n[On]||null}function Bt(n){return n[bo]||null}function wn(n,e){const t=n[uo]||null;if(!t&&!0===e)throw new Error(`Type ${N(n)} does not have '\u0275mod' property.`);return t}function Di(n){return Array.isArray(n)&&"object"==typeof n[1]}function os(n){return Array.isArray(n)&&!0===n[1]}function Hc(n){return 0!=(4&n.flags)}function El(n){return n.componentOffset>-1}function rc(n){return 1==(1&n.flags)}function is(n){return null!==n.template}function _p(n){return 0!=(256&n[2])}function aa(n,e){return n.hasOwnProperty(lr)?n[lr]:null}class wp{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function To(){return bd}function bd(n){return n.type.prototype.ngOnChanges&&(n.setInput=Sp),Cp}function Cp(){const n=Cd(this),e=n?.current;if(e){const t=n.previous;if(t===rs)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Sp(n,e,t,r){const o=this.declaredInputs[t],i=Cd(n)||function Ep(n,e){return n[wd]=e}(n,{previous:rs,current:null}),s=i.current||(i.current={}),a=i.previous,u=a[o];s[o]=new wp(u&&u.currentValue,e,a===rs),n[r]=e}To.ngInherit=!0;const wd="__ngSimpleChanges__";function Cd(n){return n[wd]||null}function ti(n){for(;Array.isArray(n);)n=n[0];return n}function Ha(n,e){return ti(e[n])}function Ni(n,e){return ti(e[n.index])}function Ed(n,e){return n.data[e]}function wr(n,e){return n[e]}function wo(n,e){const t=e[n];return Di(t)?t:t[0]}function zc(n){return 64==(64&n[2])}function la(n,e){return null==e?null:n[e]}function Mp(n){n[18]=0}function Dd(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const Dt={lFrame:I0(null),bindingsEnabled:!0};function Cr(){return Dt.bindingsEnabled}function ct(){return Dt.lFrame.lView}function bn(){return Dt.lFrame.tView}function At(n){return Dt.lFrame.contextLView=n,n[8]}function Pt(n){return Dt.lFrame.contextLView=null,n}function Ut(){let n=l();for(;null!==n&&64===n.type;)n=n.parent;return n}function l(){return Dt.lFrame.currentTNode}function v(n,e){const t=Dt.lFrame;t.currentTNode=n,t.isParent=e}function M(){return Dt.lFrame.isParent}function U(){Dt.lFrame.isParent=!1}function rn(){return Dt.lFrame.bindingIndex}function Hn(){return Dt.lFrame.bindingIndex++}function Xt(n){const e=Dt.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function fo(n,e){const t=Dt.lFrame;t.bindingIndex=t.bindingRootIndex=n,Go(e)}function Go(n){Dt.lFrame.currentDirectiveIndex=n}function gn(){return Dt.lFrame.currentQueryIndex}function po(n){Dt.lFrame.currentQueryIndex=n}function Rr(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function as(n,e,t){if(t&kt.SkipSelf){let o=e,i=n;for(;!(o=o.parent,null!==o||t&kt.Host||(o=Rr(i),null===o||(i=i[15],10&o.type))););if(null===o)return!1;e=o,n=i}const r=Dt.lFrame=D0();return r.currentTNode=e,r.lView=n,!0}function no(n){const e=D0(),t=n[1];Dt.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function D0(){const n=Dt.lFrame,e=null===n?null:n.child;return null===e?I0(n):e}function I0(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function k0(){const n=Dt.lFrame;return Dt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const M0=k0;function dg(){const n=k0();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Li(){return Dt.lFrame.selectedIndex}function oc(n){Dt.lFrame.selectedIndex=n}function ro(){const n=Dt.lFrame;return Ed(n.tView,n.selectedIndex)}function Tp(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const i=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:f,ngOnDestroy:m}=i;s&&(n.contentHooks||(n.contentHooks=[])).push(-t,s),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-t,u),f&&((n.viewHooks||(n.viewHooks=[])).push(t,f),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,f)),null!=m&&(n.destroyHooks||(n.destroyHooks=[])).push(t,m)}}function Ap(n,e,t){T0(n,e,3,t)}function xp(n,e,t,r){(3&n[2])===t&&T0(n,e,t,r)}function fg(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function T0(n,e,t,r){const i=r??-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&n[18]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[18]+=65536),(a<i||-1==i)&&(KM(n,t,e,u),n[18]=(4294901760&n[18])+u+2),u++}function KM(n,e,t,r){const o=t[r]<0,i=t[r+1],a=n[o?-t[r]:t[r]];if(o){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{i.call(a)}finally{}}}else try{i.call(a)}finally{}}class Id{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function hg(n,e,t){let r=0;for(;r<t.length;){const o=t[r];if("number"==typeof o){if(0!==o)break;r++;const i=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,i)}else{const i=o,s=t[++r];x0(i)?n.setProperty(e,i,s):n.setAttribute(e,i,s),r++}}return r}function A0(n){return 3===n||4===n||6===n}function x0(n){return 64===n.charCodeAt(0)}function kd(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const o=e[r];"number"==typeof o?t=o:0===t||R0(n,t,o,null,-1===t||2===t?e[++r]:null)}}return n}function R0(n,e,t,r,o){let i=0,s=n.length;if(-1===e)s=-1;else for(;i<n.length;){const a=n[i++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=i-1;break}}}for(;i<n.length;){const a=n[i];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==o&&(n[i+1]=o));if(r===n[i+1])return void(n[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==s&&(n.splice(s,0,e),i=s+1),n.splice(i++,0,t),null!==r&&n.splice(i++,0,r),null!==o&&n.splice(i++,0,o)}function P0(n){return-1!==n}function Rp(n){return 32767&n}function Pp(n,e){let t=function JM(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let mg=!0;function Fp(n){const e=mg;return mg=n,e}let eT=0;const ca={};function Op(n,e){const t=N0(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,gg(r.data,n),gg(e,null),gg(r.blueprint,null));const o=yg(n,e),i=n.injectorIndex;if(P0(o)){const s=Rp(o),a=Pp(o,e),u=a[1].data;for(let f=0;f<8;f++)e[i+f]=a[s+f]|u[s+f]}return e[i+8]=o,i}function gg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function N0(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function yg(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,o=e;for(;null!==o;){if(r=H0(o),null===r)return-1;if(t++,o=o[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function _g(n,e,t){!function tT(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Zt)&&(r=t[Zt]),null==r&&(r=t[Zt]=eT++);const o=255&r;e.data[n+(o>>5)]|=1<<o}(n,e,t)}function L0(n,e,t){if(t&kt.Optional||void 0!==n)return n;di()}function $0(n,e,t,r){if(t&kt.Optional&&void 0===r&&(r=null),!(t&(kt.Self|kt.Host))){const o=n[9],i=ir(void 0);try{return o?o.get(e,r,t&kt.Optional):Hr(e,r,t&kt.Optional)}finally{ir(i)}}return L0(r,0,t)}function B0(n,e,t,r=kt.Default,o){if(null!==n){if(1024&e[2]){const s=function sT(n,e,t,r,o){let i=n,s=e;for(;null!==i&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=V0(i,s,t,r|kt.Self,ca);if(a!==ca)return a;let u=i.parent;if(!u){const f=s[21];if(f){const m=f.get(t,ca,r);if(m!==ca)return m}u=H0(s),s=s[15]}i=u}return o}(n,e,t,r,ca);if(s!==ca)return s}const i=V0(n,e,t,r,ca);if(i!==ca)return i}return $0(e,t,r,o)}function V0(n,e,t,r,o){const i=function oT(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Zt)?n[Zt]:void 0;return"number"==typeof e?e>=0?255&e:iT:e}(t);if("function"==typeof i){if(!as(e,n,r))return r&kt.Host?L0(o,0,r):$0(e,t,r,o);try{const s=i(r);if(null!=s||r&kt.Optional)return s;di()}finally{M0()}}else if("number"==typeof i){let s=null,a=N0(n,e),u=-1,f=r&kt.Host?e[16][6]:null;for((-1===a||r&kt.SkipSelf)&&(u=-1===a?yg(n,e):e[a+8],-1!==u&&j0(r,!1)?(s=e[1],a=Rp(u),e=Pp(u,e)):a=-1);-1!==a;){const m=e[1];if(U0(i,a,m.data)){const _=rT(a,e,t,s,r,f);if(_!==ca)return _}u=e[a+8],-1!==u&&j0(r,e[1].data[a+8]===f)&&U0(i,a,e)?(s=m,a=Rp(u),e=Pp(u,e)):a=-1}}return o}function rT(n,e,t,r,o,i){const s=e[1],a=s.data[n+8],m=Np(a,s,t,null==r?El(a)&&mg:r!=s&&0!=(3&a.type),o&kt.Host&&i===a);return null!==m?ic(e,s,m,a):ca}function Np(n,e,t,r,o){const i=n.providerIndexes,s=e.data,a=1048575&i,u=n.directiveStart,m=i>>20,k=o?a+m:n.directiveEnd;for(let T=r?a:a+m;T<k;T++){const X=s[T];if(T<u&&t===X||T>=u&&X.type===t)return T}if(o){const T=s[u];if(T&&is(T)&&T.type===t)return u}return null}function ic(n,e,t,r){let o=n[t];const i=e.data;if(function YM(n){return n instanceof Id}(o)){const s=o;s.resolving&&function Do(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new xe(-200,`Circular dependency in DI detected for ${n}${t}`)}(function fn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():St(n)}(i[t]));const a=Fp(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?ir(s.injectImpl):null;as(n,r,kt.Default);try{o=n[t]=s.factory(void 0,i,n,r),e.firstCreatePass&&t>=r.directiveStart&&function qM(n,e,t){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=e.type.prototype;if(r){const s=bd(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s)}o&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,o),i&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,i),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,i))}(t,i[t],e)}finally{null!==u&&ir(u),Fp(a),s.resolving=!1,M0()}}return o}function U0(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function j0(n,e){return!(n&kt.Self||n&kt.Host&&e)}class Zc{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return B0(this._tNode,this._lView,e,Yr(r),t)}}function iT(){return new Zc(Ut(),ct())}function ri(n){return Tn(()=>{const e=n.prototype.constructor,t=e[lr]||vg(e),r=Object.prototype;let o=Object.getPrototypeOf(n.prototype).constructor;for(;o&&o!==r;){const i=o[lr]||vg(o);if(i&&i!==t)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function vg(n){return he(n)?()=>{const e=vg(P(n));return e&&e()}:aa(n)}function H0(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}function qc(n){return function nT(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let o=0;for(;o<r;){const i=t[o];if(A0(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<r&&"string"==typeof t[o];)o++;else{if(i===e)return t[o+1];o+=2}}}return null}(Ut(),n)}const Yc="__parameters__";function Qc(n,e,t){return Tn(()=>{const r=function bg(n){return function(...t){if(n){const r=n(...t);for(const o in r)this[o]=r[o]}}}(e);function o(...i){if(this instanceof o)return r.apply(this,i),this;const s=new o(...i);return a.annotation=s,a;function a(u,f,m){const _=u.hasOwnProperty(Yc)?u[Yc]:Object.defineProperty(u,Yc,{value:[]})[Yc];for(;_.length<=m;)_.push(null);return(_[m]=_[m]||[]).push(s),u}}return t&&(o.prototype=Object.create(t.prototype)),o.prototype.ngMetadataName=n,o.annotationCls=o,o})}class on{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=mt({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function sc(n,e){n.forEach(t=>Array.isArray(t)?sc(t,e):e(t))}function z0(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Lp(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Ad(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function bs(n,e,t){let r=Jc(n,e);return r>=0?n[1|r]=t:(r=~r,function uT(n,e,t,r){let o=n.length;if(o==e)n.push(t,r);else if(1===o)n.push(r,n[0]),n[0]=t;else{for(o--,n.push(n[o-1],n[o]);o>e;)n[o]=n[o-2],o--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Cg(n,e){const t=Jc(n,e);if(t>=0)return n[1|t]}function Jc(n,e){return function W0(n,e,t){let r=0,o=n.length>>t;for(;o!==r;){const i=r+(o-r>>1),s=n[i<<t];if(e===s)return i<<t;s>e?o=i:r=i+1}return~(o<<t)}(n,e,1)}const xd=zt(Qc("Optional"),8),Rd=zt(Qc("SkipSelf"),4);var ls=(()=>((ls=ls||{})[ls.Important=1]="Important",ls[ls.DashCase=2]="DashCase",ls))();const Mg=new Map;let RT=0;const Ag="__ngContext__";function ki(n,e){Di(e)?(n[Ag]=e[20],function FT(n){Mg.set(n[20],n)}(e)):n[Ag]=e}function Rg(n,e){return undefined(n,e)}function Nd(n){const e=n[3];return os(e)?e[3]:e}function Pg(n){return fb(n[13])}function Fg(n){return fb(n[4])}function fb(n){for(;null!==n&&!os(n);)n=n[4];return n}function tu(n,e,t,r,o){if(null!=r){let i,s=!1;os(r)?i=r:Di(r)&&(s=!0,r=r[0]);const a=ti(r);0===n&&null!==t?null==o?_b(e,t,a):ac(e,t,a,o||null,!0):1===n&&null!==t?ac(e,t,a,o||null,!0):2===n?function Ug(n,e,t){const r=Up(n,e);r&&function eA(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=i&&function rA(n,e,t,r,o){const i=t[7];i!==ti(t)&&tu(e,n,r,i,o);for(let a=10;a<t.length;a++){const u=t[a];Ld(u[1],u,n,e,r,i)}}(e,n,i,t,o)}}function Ng(n,e,t){return n.createElement(e,t)}function hb(n,e){const t=n[9],r=t.indexOf(e),o=e[3];512&e[2]&&(e[2]&=-513,Dd(o,-1)),t.splice(r,1)}function Lg(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const o=r[17];null!==o&&o!==n&&hb(o,r),e>0&&(n[t-1][4]=r[4]);const i=Lp(n,10+e);!function WT(n,e){Ld(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const s=i[19];null!==s&&s.detachView(i[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function mb(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&Ld(n,e,t,3,null,null),function KT(n){let e=n[13];if(!e)return $g(n[1],n);for(;e;){let t=null;if(Di(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Di(e)&&$g(e[1],e),e=e[3];null===e&&(e=n),Di(e)&&$g(e[1],e),t=e&&e[4]}e=t}}(e)}}function $g(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function JT(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const o=e[t[r]];if(!(o instanceof Id)){const i=t[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],u=i[s+1];try{u.call(a)}finally{}}else try{i.call(o)}finally{}}}}(n,e),function QT(n,e){const t=n.cleanup,r=e[7];let o=-1;if(null!==t)for(let i=0;i<t.length-1;i+=2)if("string"==typeof t[i]){const s=t[i+3];s>=0?r[o=s]():r[o=-s].unsubscribe(),i+=2}else{const s=r[o=t[i+1]];t[i].call(s)}if(null!==r){for(let i=o+1;i<r.length;i++)(0,r[i])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&os(e[3])){t!==e[3]&&hb(t,e);const r=e[19];null!==r&&r.detachView(n)}!function OT(n){Mg.delete(n[20])}(e)}}function gb(n,e,t){return function yb(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:i}=n.data[r.directiveStart+o];if(i===Fi.None||i===Fi.Emulated)return null}return Ni(r,t)}}(n,e.parent,t)}function ac(n,e,t,r,o){n.insertBefore(e,t,r,o)}function _b(n,e,t){n.appendChild(e,t)}function vb(n,e,t,r,o){null!==r?ac(n,e,t,r,o):_b(n,e,t)}function Up(n,e){return n.parentNode(e)}function bb(n,e,t){return Cb(n,e,t)}let Gp,Gg,Cb=function wb(n,e,t){return 40&n.type?Ni(n,t):null};function jp(n,e,t,r){const o=gb(n,r,e),i=e[11],a=bb(r.parent||e[6],r,e);if(null!=o)if(Array.isArray(t))for(let u=0;u<t.length;u++)vb(i,o,t[u],a,!1);else vb(i,o,t,a,!1)}function Hp(n,e){if(null!==e){const t=e.type;if(3&t)return Ni(e,n);if(4&t)return Vg(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Hp(n,r);{const o=n[e.index];return os(o)?Vg(-1,o):ti(o)}}if(32&t)return Rg(e,n)()||ti(n[e.index]);{const r=Eb(n,e);return null!==r?Array.isArray(r)?r[0]:Hp(Nd(n[16]),r):Hp(n,e.next)}}return null}function Eb(n,e){return null!==e?n[16][6].projection[e.projection]:null}function Vg(n,e){const t=10+n+1;if(t<e.length){const r=e[t],o=r[1].firstChild;if(null!==o)return Hp(r,o)}return e[7]}function jg(n,e,t,r,o,i,s){for(;null!=t;){const a=r[t.index],u=t.type;if(s&&0===e&&(a&&ki(ti(a),r),t.flags|=2),32!=(32&t.flags))if(8&u)jg(n,e,t.child,r,o,i,!1),tu(e,n,o,a,i);else if(32&u){const f=Rg(t,r);let m;for(;m=f();)tu(e,n,o,m,i);tu(e,n,o,a,i)}else 16&u?Db(n,e,r,t,o,i):tu(e,n,o,a,i);t=s?t.projectionNext:t.next}}function Ld(n,e,t,r,o,i){jg(t,r,n.firstChild,e,o,i,!1)}function Db(n,e,t,r,o,i){const s=t[16],u=s[6].projection[r.projection];if(Array.isArray(u))for(let f=0;f<u.length;f++)tu(e,n,o,u[f],i);else jg(n,e,u,s[3],o,i,!0)}function Ib(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function kb(n,e,t){const{mergedAttrs:r,classes:o,styles:i}=t;null!==r&&hg(n,e,r),null!==o&&Ib(n,e,o),null!==i&&function iA(n,e,t){n.setAttribute(e,"style",t)}(n,e,i)}function lc(n){return function Hg(){if(void 0===Gp&&(Gp=null,p.trustedTypes))try{Gp=p.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Gp}()?.createHTML(n)||n}class cc{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${it})`}}class uA extends cc{getTypeName(){return"HTML"}}class dA extends cc{getTypeName(){return"Style"}}class fA extends cc{getTypeName(){return"Script"}}class pA extends cc{getTypeName(){return"URL"}}class hA extends cc{getTypeName(){return"ResourceURL"}}function ws(n){return n instanceof cc?n.changingThisBreaksApplicationSecurity:n}function ua(n,e){const t=function mA(n){return n instanceof cc&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${it})`)}return t===e}class wA{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(lc(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class CA{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=lc(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=lc(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let o=t.length-1;0<o;o--){const s=t.item(o).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&e.removeAttribute(s)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const EA=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Wp(n){return(n=String(n)).match(EA)?n:"unsafe:"+n}function Ga(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function $d(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const Pb=Ga("area,br,col,hr,img,wbr"),Fb=Ga("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ob=Ga("rp,rt"),Wg=$d(Pb,$d(Fb,Ga("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$d(Ob,Ga("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$d(Ob,Fb)),Zg=Ga("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Nb=$d(Zg,Ga("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ga("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),DA=Ga("script,style,template");class IA{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=this.checkClobberedElement(t,t.nextSibling);if(o){t=o;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Wg.hasOwnProperty(t))return this.sanitizedSomething=!0,!DA.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let o=0;o<r.length;o++){const i=r.item(o),s=i.name,a=s.toLowerCase();if(!Nb.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=i.value;Zg[a]&&(u=Wp(u)),this.buf.push(" ",s,'="',Lb(u),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Wg.hasOwnProperty(t)&&!Pb.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Lb(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const kA=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,MA=/([^\#-~ |!])/g;function Lb(n){return n.replace(/&/g,"&amp;").replace(kA,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(MA,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Zp;function $b(n,e){let t=null;try{Zp=Zp||function Rb(n){const e=new CA(n);return function SA(){try{return!!(new window.DOMParser).parseFromString(lc(""),"text/html")}catch{return!1}}()?new wA(e):e}(n);let r=e?String(e):"";t=Zp.getInertBodyElement(r);let o=5,i=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=t.innerHTML,t=Zp.getInertBodyElement(r)}while(r!==i);return lc((new IA).sanitizeChildren(qg(t)||t))}finally{if(t){const r=qg(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function qg(n){return"content"in n&&function TA(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Pr=(()=>((Pr=Pr||{})[Pr.NONE=0]="NONE",Pr[Pr.HTML=1]="HTML",Pr[Pr.STYLE=2]="STYLE",Pr[Pr.SCRIPT=3]="SCRIPT",Pr[Pr.URL=4]="URL",Pr[Pr.RESOURCE_URL=5]="RESOURCE_URL",Pr))();const qp=new on("ENVIRONMENT_INITIALIZER"),jb=new on("INJECTOR",-1),Hb=new on("INJECTOR_DEF_TYPES");class Gb{get(e,t=H){if(t===H){const r=new Error(`NullInjectorError: No provider for ${N(e)}!`);throw r.name="NullInjectorError",r}return t}}function LA(...n){return{\u0275providers:zb(0,n),\u0275fromNgModule:!0}}function zb(n,...e){const t=[],r=new Set;let o;return sc(e,i=>{const s=i;Kg(s,t,[],r)&&(o||(o=[]),o.push(s))}),void 0!==o&&Wb(o,t),t}function Wb(n,e){for(let t=0;t<n.length;t++){const{providers:o}=n[t];Yg(o,i=>{e.push(i)})}}function Kg(n,e,t,r){if(!(n=P(n)))return!1;let o=null,i=ia(n);const s=!i&&Ee(n);if(i||s){if(s&&!s.standalone)return!1;o=n}else{const u=n.ngModule;if(i=ia(u),!i)return!1;o=u}const a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const f of u)Kg(f,e,t,r)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let f;r.add(o);try{sc(i.imports,m=>{Kg(m,e,t,r)&&(f||(f=[]),f.push(m))})}finally{}void 0!==f&&Wb(f,e)}if(!a){const f=aa(o)||(()=>new o);e.push({provide:o,useFactory:f,deps:nr},{provide:Hb,useValue:o,multi:!0},{provide:qp,useValue:()=>ne(o),multi:!0})}const u=i.providers;null==u||a||Yg(u,m=>{e.push(m)})}}return o!==n&&void 0!==n.providers}function Yg(n,e){for(let t of n)ke(t)&&(t=t.\u0275providers),Array.isArray(t)?Yg(t,e):e(t)}const $A=er({provide:String,useValue:er});function Xg(n){return null!==n&&"object"==typeof n&&$A in n}function uc(n){return"function"==typeof n}const Qg=new on("Set Injector scope."),Kp={},VA={};let Jg;function Yp(){return void 0===Jg&&(Jg=new Gb),Jg}class da{}class Kb extends da{get destroyed(){return this._destroyed}constructor(e,t,r,o){super(),this.parent=t,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ty(e,s=>this.processProvider(s)),this.records.set(jb,nu(void 0,this)),o.has("environment")&&this.records.set(da,nu(void 0,this));const i=this.records.get(Qg);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Hb.multi,nr,kt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=Gt(this),r=ir(void 0);try{return e()}finally{Gt(t),ir(r)}}get(e,t=H,r=kt.Default){this.assertNotDestroyed(),r=Yr(r);const o=Gt(this),i=ir(void 0);try{if(!(r&kt.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function zA(n){return"function"==typeof n||"object"==typeof n&&n instanceof on}(e)&&_s(e);a=u&&this.injectableDefInScope(u)?nu(ey(e),Kp):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&kt.Self?Yp():this.parent).get(e,t=r&kt.Optional&&t===H?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[De]=s[De]||[]).unshift(N(e)),o)throw s;return function fr(n,e,t,r){const o=n[De];throw e[An]&&o.unshift(e[An]),n.message=function Vo(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let o=N(e);if(Array.isArray(e))o=e.map(N).join(" -> ");else if("object"==typeof e){let i=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):N(a)))}o=`{${i.join(", ")}}`}return`${t}${r?"("+r+")":""}[${o}]: ${n.replace(Et,"\n  ")}`}("\n"+n.message,o,t,r),n.ngTokenPath=o,n[De]=null,n}(s,e,"R3InjectorError",this.source)}throw s}finally{ir(i),Gt(o)}}resolveInjectorInitializers(){const e=Gt(this),t=ir(void 0);try{const r=this.get(qp.multi,nr,kt.Self);for(const o of r)o()}finally{Gt(e),ir(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(N(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processProvider(e){let t=uc(e=P(e))?e:P(e&&e.provide);const r=function jA(n){return Xg(n)?nu(void 0,n.useValue):nu(Yb(n),Kp)}(e);if(uc(e)||!0!==e.multi)this.records.get(t);else{let o=this.records.get(t);o||(o=nu(void 0,Kp,!0),o.factory=()=>gt(o.multi),this.records.set(t,o)),t=e,o.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Kp&&(t.value=VA,t.value=t.factory()),"object"==typeof t.value&&t.value&&function GA(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=P(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function ey(n){const e=_s(n),t=null!==e?e.factory:aa(n);if(null!==t)return t;if(n instanceof on)throw new xe(204,!1);if(n instanceof Function)return function UA(n){const e=n.length;if(e>0)throw Ad(e,"?"),new xe(204,!1);const t=function ns(n){const e=n&&(n[Rs]||n[sa]);if(e){const t=function Ei(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new xe(204,!1)}function Yb(n,e,t){let r;if(uc(n)){const o=P(n);return aa(o)||ey(o)}if(Xg(n))r=()=>P(n.useValue);else if(function qb(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...gt(n.deps||[]));else if(function Zb(n){return!(!n||!n.useExisting)}(n))r=()=>ne(P(n.useExisting));else{const o=P(n&&(n.useClass||n.provide));if(!function HA(n){return!!n.deps}(n))return aa(o)||ey(o);r=()=>new o(...gt(n.deps))}return r}function nu(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function ty(n,e){for(const t of n)Array.isArray(t)?ty(t,e):t&&ke(t)?ty(t.\u0275providers,e):e(t)}class WA{}class Xb{}class qA{resolveComponentFactory(e){throw function ZA(n){const e=Error(`No component factory found for ${N(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let za=(()=>{class n{}return n.NULL=new qA,n})();function KA(){return ru(Ut(),ct())}function ru(n,e){return new _t(Ni(n,e))}let _t=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=KA,n})();function YA(n){return n instanceof _t?n.nativeElement:n}class Jb{}let Wa=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function XA(){const n=ct(),t=wo(Ut().index,n);return(Di(t)?t:n)[11]}(),n})(),QA=(()=>{class n{}return n.\u0275prov=mt({token:n,providedIn:"root",factory:()=>null}),n})();class Vd{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const JA=new Vd("15.1.3"),ny={};function oy(n){return n.ngOriginalError}class ou{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&oy(e);for(;t&&oy(t);)t=oy(t);return t||null}}function Za(n){return n instanceof Function?n():n}function tw(n,e,t){let r=n.length;for(;;){const o=n.indexOf(e,t);if(-1===o)return o;if(0===o||n.charCodeAt(o-1)<=32){const i=e.length;if(o+i===r||n.charCodeAt(o+i)<=32)return o}t=o+1}}const nw="ng-template";function ux(n,e,t){let r=0;for(;r<n.length;){let o=n[r++];if(t&&"class"===o){if(o=n[r],-1!==tw(o.toLowerCase(),e,0))return!0}else if(1===o){for(;r<n.length&&"string"==typeof(o=n[r++]);)if(o.toLowerCase()===e)return!0;return!1}}return!1}function rw(n){return 4===n.type&&n.value!==nw}function dx(n,e,t){return e===(4!==n.type||t?n.value:nw)}function fx(n,e,t){let r=4;const o=n.attrs||[],i=function mx(n){for(let e=0;e<n.length;e++)if(A0(n[e]))return e;return n.length}(o);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!dx(n,u,t)||""===u&&1===e.length){if(Ws(r))return!1;s=!0}}else{const f=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!ux(n.attrs,f,t)){if(Ws(r))return!1;s=!0}continue}const _=px(8&r?"class":u,o,rw(n),t);if(-1===_){if(Ws(r))return!1;s=!0;continue}if(""!==f){let k;k=_>i?"":o[_+1].toLowerCase();const T=8&r?k:null;if(T&&-1!==tw(T,f,0)||2&r&&f!==k){if(Ws(r))return!1;s=!0}}}}else{if(!s&&!Ws(r)&&!Ws(u))return!1;if(s&&Ws(u))continue;s=!1,r=u|1&r}}return Ws(r)||s}function Ws(n){return 0==(1&n)}function px(n,e,t,r){if(null===e)return-1;let o=0;if(r||!t){let i=!1;for(;o<e.length;){const s=e[o];if(s===n)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=e[++o];for(;"string"==typeof a;)a=e[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function gx(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function ow(n,e,t=!1){for(let r=0;r<e.length;r++)if(fx(n,e[r],t))return!0;return!1}function yx(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let o=0;o<n.length;o++)if(n[o]!==r[o])continue e;return!0}}return!1}function iw(n,e){return n?":not("+e.trim()+")":e}function _x(n){let e=n[0],t=1,r=2,o="",i=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""!==o&&!Ws(s)&&(e+=iw(i,o),o=""),r=s,i=i||!Ws(r);t++}return""!==o&&(e+=iw(i,o)),e}const Ln={};function et(n){sw(bn(),ct(),Li()+n,!1)}function sw(n,e,t,r){if(!r)if(3==(3&e[2])){const i=n.preOrderCheckHooks;null!==i&&Ap(e,i,t)}else{const i=n.preOrderHooks;null!==i&&xp(e,i,0,t)}oc(t)}function uw(n,e=null,t=null,r){const o=dw(n,e,t,r);return o.resolveInjectorInitializers(),o}function dw(n,e=null,t=null,r,o=new Set){const i=[t||nr,LA(n)];return r=r||("object"==typeof n?void 0:N(n)),new Kb(i,e||Yp(),r||null,o)}let oo=(()=>{class n{static create(t,r){if(Array.isArray(t))return uw({name:""},r,t,"");{const o=t.name??"";return uw({name:o},t.parent,t.providers,o)}}}return n.THROW_IF_NOT_FOUND=H,n.NULL=new Gb,n.\u0275prov=mt({token:n,providedIn:"any",factory:()=>ne(jb)}),n.__NG_ELEMENT_ID__=-1,n})();function C(n,e=kt.Default){const t=ct();return null===t?ne(n,e):B0(Ut(),t,P(n),e)}function vw(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r+1];if(-1!==i){const s=n.data[i];po(t[r]),s.contentQueries(2,e[i],i)}}}function Qp(n,e,t,r,o,i,s,a,u,f,m){const _=e.blueprint.slice();return _[0]=o,_[2]=76|r,(null!==m||n&&1024&n[2])&&(_[2]|=1024),Mp(_),_[3]=_[15]=n,_[8]=t,_[10]=s||n&&n[10],_[11]=a||n&&n[11],_[12]=u||n&&n[12]||null,_[9]=f||n&&n[9]||null,_[6]=i,_[20]=function PT(){return RT++}(),_[21]=m,_[16]=2==e.type?n[16]:_,_}function au(n,e,t,r,o){let i=n.data[e];if(null===i)i=function cy(n,e,t,r,o){const i=l(),s=M(),u=n.data[e]=function Gx(n,e,t,r,o,i){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,t,e,r,o);return null===n.firstChild&&(n.firstChild=u),null!==i&&(s?null==i.child&&null!==u.parent&&(i.child=u):null===i.next&&(i.next=u)),u}(n,e,t,r,o),function hn(){return Dt.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=t,i.value=r,i.attrs=o;const s=function h(){const n=Dt.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return v(i,!0),i}function Ud(n,e,t,r){if(0===t)return-1;const o=e.length;for(let i=0;i<t;i++)e.push(r),n.blueprint.push(r),n.data.push(null);return o}function uy(n,e,t){no(e);try{const r=n.viewQuery;null!==r&&by(1,r,t);const o=n.template;null!==o&&bw(n,e,o,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&vw(n,e),n.staticViewQueries&&by(2,n.viewQuery,t);const i=n.components;null!==i&&function Ux(n,e){for(let t=0;t<e.length;t++)cR(n,e[t])}(e,i)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,dg()}}function Jp(n,e,t,r){const o=e[2];if(128!=(128&o)){no(e);try{Mp(e),function Un(n){return Dt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&bw(n,e,t,2,r);const s=3==(3&o);if(s){const f=n.preOrderCheckHooks;null!==f&&Ap(e,f,null)}else{const f=n.preOrderHooks;null!==f&&xp(e,f,0,null),fg(e,0)}if(function aR(n){for(let e=Pg(n);null!==e;e=Fg(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const o=t[r];512&o[2]||Dd(o[3],1),o[2]|=512}}}(e),function sR(n){for(let e=Pg(n);null!==e;e=Fg(e))for(let t=10;t<e.length;t++){const r=e[t],o=r[1];zc(r)&&Jp(o,r,o.template,r[8])}}(e),null!==n.contentQueries&&vw(n,e),s){const f=n.contentCheckHooks;null!==f&&Ap(e,f)}else{const f=n.contentHooks;null!==f&&xp(e,f,1),fg(e,1)}!function Bx(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const o=t[r];if(o<0)oc(~o);else{const i=o,s=t[++r],a=t[++r];fo(s,i),a(2,e[i])}}}finally{oc(-1)}}(n,e);const a=n.components;null!==a&&function Vx(n,e){for(let t=0;t<e.length;t++)lR(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&by(2,u,r),s){const f=n.viewCheckHooks;null!==f&&Ap(e,f)}else{const f=n.viewHooks;null!==f&&xp(e,f,2),fg(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Dd(e[3],-1))}finally{dg()}}}function bw(n,e,t,r,o){const i=Li(),s=2&r;try{oc(-1),s&&e.length>22&&sw(n,e,22,!1),t(r,o)}finally{oc(i)}}function dy(n,e,t){if(Hc(e)){const o=e.directiveEnd;for(let i=e.directiveStart;i<o;i++){const s=n.data[i];s.contentQueries&&s.contentQueries(1,t[i],i)}}}function fy(n,e,t){Cr()&&(function Yx(n,e,t,r){const o=t.directiveStart,i=t.directiveEnd;El(t)&&function rR(n,e,t){const r=Ni(e,n),o=ww(t),i=n[10],s=eh(n,Qp(n,o,null,t.onPush?32:16,r,e,i,i.createRenderer(r,t),null,null,null));n[e.index]=s}(e,t,n.data[o+t.componentOffset]),n.firstCreatePass||Op(t,e),ki(r,e);const s=t.initialInputs;for(let a=o;a<i;a++){const u=n.data[a],f=ic(e,n,a,t);ki(f,e),null!==s&&oR(0,a-o,f,u,0,s),is(u)&&(wo(t.index,e)[8]=ic(e,n,a,t))}}(n,e,t,Ni(t,e)),64==(64&t.flags)&&kw(n,e,t))}function py(n,e,t=Ni){const r=e.localNames;if(null!==r){let o=e.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],a=-1===s?t(e,n):n[s];n[o++]=a}}}function ww(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=hy(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function hy(n,e,t,r,o,i,s,a,u,f){const m=22+r,_=m+o,k=function jx(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Ln);return t}(m,_),T="function"==typeof f?f():f;return k[1]={type:n,blueprint:k,template:t,queries:null,viewQuery:a,declTNode:e,data:k.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:T,incompleteFirstPass:!1}}function Cw(n,e,t,r){const o=Tw(e);null===t?o.push(r):(o.push(t),n.firstCreatePass&&Aw(n).push(r,o.length-1))}function Sw(n,e,t,r){for(let o in n)if(n.hasOwnProperty(o)){t=null===t?{}:t;const i=n[o];null===r?Ew(t,e,o,i):r.hasOwnProperty(o)&&Ew(t,e,r[o],i)}return t}function Ew(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function Cs(n,e,t,r,o,i,s,a){const u=Ni(e,t);let m,f=e.inputs;!a&&null!=f&&(m=f[r])?(wy(n,t,m,r,o),El(e)&&Dw(t,e.index)):3&e.type&&(r=function Wx(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),o=null!=s?s(o,e.value||"",r):o,i.setProperty(u,r,o))}function Dw(n,e){const t=wo(e,n);16&t[2]||(t[2]|=32)}function my(n,e,t,r){let o=!1;if(Cr()){const i=null===r?null:{"":-1},s=function Qx(n,e){const t=n.directiveRegistry;let r=null,o=null;if(t)for(let i=0;i<t.length;i++){const s=t[i];if(ow(e,s.selectors,!1))if(r||(r=[]),is(s))if(null!==s.findHostDirectiveDefs){const a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),r.unshift(...a,s),gy(n,e,a.length)}else r.unshift(s),gy(n,e,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,r,o),r.push(s)}return null===r?null:[r,o]}(n,t);let a,u;null===s?a=u=null:[a,u]=s,null!==a&&(o=!0,Iw(n,e,t,a,i,u)),i&&function Jx(n,e,t){if(e){const r=n.localNames=[];for(let o=0;o<e.length;o+=2){const i=t[e[o+1]];if(null==i)throw new xe(-301,!1);r.push(e[o],i)}}}(t,r,i)}return t.mergedAttrs=kd(t.mergedAttrs,t.attrs),o}function Iw(n,e,t,r,o,i){for(let f=0;f<r.length;f++)_g(Op(t,e),n,r[f].type);!function tR(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let f=0;f<r.length;f++){const m=r[f];m.providersResolver&&m.providersResolver(m)}let s=!1,a=!1,u=Ud(n,e,r.length,null);for(let f=0;f<r.length;f++){const m=r[f];t.mergedAttrs=kd(t.mergedAttrs,m.hostAttrs),nR(n,t,e,u,m),eR(u,m,o),null!==m.contentQueries&&(t.flags|=4),(null!==m.hostBindings||null!==m.hostAttrs||0!==m.hostVars)&&(t.flags|=64);const _=m.type.prototype;!s&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),s=!0),!a&&(_.ngOnChanges||_.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),a=!0),u++}!function zx(n,e,t){const o=e.directiveEnd,i=n.data,s=e.attrs,a=[];let u=null,f=null;for(let m=e.directiveStart;m<o;m++){const _=i[m],k=t?t.get(_):null,X=k?k.outputs:null;u=Sw(_.inputs,m,u,k?k.inputs:null),f=Sw(_.outputs,m,f,X);const Ae=null===u||null===s||rw(e)?null:iR(u,m,s);a.push(Ae)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=f}(n,t,i)}function kw(n,e,t){const r=t.directiveStart,o=t.directiveEnd,i=t.index,s=function ss(){return Dt.lFrame.currentDirectiveIndex}();try{oc(i);for(let a=r;a<o;a++){const u=n.data[a],f=e[a];Go(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&Xx(u,f)}}finally{oc(-1),Go(s)}}function Xx(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function gy(n,e,t){e.componentOffset=t,(n.components||(n.components=[])).push(e.index)}function eR(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;is(e)&&(t[""]=n)}}function nR(n,e,t,r,o){n.data[r]=o;const i=o.factory||(o.factory=aa(o.type)),s=new Id(i,is(o),C);n.blueprint[r]=s,t[r]=s,function qx(n,e,t,r,o){const i=o.hostBindings;if(i){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function Kx(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,i)}}(n,e,r,Ud(n,t,o.hostVars,Ln),o)}function fa(n,e,t,r,o,i){const s=Ni(n,e);!function yy(n,e,t,r,o,i,s){if(null==i)n.removeAttribute(e,o,t);else{const a=null==s?St(i):s(i,r||"",o);n.setAttribute(e,o,a,t)}}(e[11],s,i,n.value,t,r,o)}function oR(n,e,t,r,o,i){const s=i[e];if(null!==s){const a=r.setInput;for(let u=0;u<s.length;){const f=s[u++],m=s[u++],_=s[u++];null!==a?r.setInput(t,_,f,m):t[m]=_}}}function iR(n,e,t){let r=null,o=0;for(;o<t.length;){const i=t[o];if(0!==i)if(5!==i){if("number"==typeof i)break;if(n.hasOwnProperty(i)){null===r&&(r=[]);const s=n[i];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(i,s[a+1],t[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function Mw(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function lR(n,e){const t=wo(e,n);if(zc(t)){const r=t[1];48&t[2]?Jp(r,t,r.template,t[8]):t[5]>0&&_y(t)}}function _y(n){for(let r=Pg(n);null!==r;r=Fg(r))for(let o=10;o<r.length;o++){const i=r[o];if(zc(i))if(512&i[2]){const s=i[1];Jp(s,i,s.template,i[8])}else i[5]>0&&_y(i)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const o=wo(t[r],n);zc(o)&&o[5]>0&&_y(o)}}function cR(n,e){const t=wo(e,n),r=t[1];(function uR(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),uy(r,t,t[8])}function eh(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function vy(n){for(;n;){n[2]|=32;const e=Nd(n);if(_p(n)&&!e)return n;n=e}return null}function th(n,e,t,r=!0){const o=e[10];o.begin&&o.begin();try{Jp(n,e,n.template,t)}catch(s){throw r&&Rw(e,s),s}finally{o.end&&o.end()}}function by(n,e,t){po(0),e(n,t)}function Tw(n){return n[7]||(n[7]=[])}function Aw(n){return n.cleanup||(n.cleanup=[])}function Rw(n,e){const t=n[9],r=t?t.get(ou,null):null;r&&r.handleError(e)}function wy(n,e,t,r,o){for(let i=0;i<t.length;){const s=t[i++],a=t[i++],u=e[s],f=n.data[s];null!==f.setInput?f.setInput(u,o,r,a):u[a]=o}}function qa(n,e,t){const r=Ha(e,n);!function pb(n,e,t){n.setValue(e,t)}(n[11],r,t)}function nh(n,e,t){let r=t?n.styles:null,o=t?n.classes:null,i=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?i=a:1==i?o=ge(o,a):2==i&&(r=ge(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=o:n.classesWithoutHost=o}function rh(n,e,t,r,o=!1){for(;null!==t;){const i=e[t.index];if(null!==i&&r.push(ti(i)),os(i))for(let a=10;a<i.length;a++){const u=i[a],f=u[1].firstChild;null!==f&&rh(u[1],u,f,r)}const s=t.type;if(8&s)rh(n,e,t.child,r);else if(32&s){const a=Rg(t,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=Eb(e,t);if(Array.isArray(a))r.push(...a);else{const u=Nd(e[16]);rh(u[1],u,a,r,!0)}}t=o?t.projectionNext:t.next}return r}class jd{get rootNodes(){const e=this._lView,t=e[1];return rh(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(os(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Lg(e,r),Lp(t,r))}this._attachedToViewContainer=!1}mb(this._lView[1],this._lView)}onDestroy(e){Cw(this._lView[1],this._lView,null,e)}markForCheck(){vy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){th(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function qT(n,e){Ld(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new xe(902,!1);this._appRef=e}}class dR extends jd{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;th(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class Pw extends za{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Ee(e);return new Hd(t,this.ngModule)}}function Fw(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class pR{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Yr(r);const o=this.injector.get(e,ny,r);return o!==ny||t===ny?o:this.parentInjector.get(e,t,r)}}class Hd extends Xb{get inputs(){return Fw(this.componentDef.inputs)}get outputs(){return Fw(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function vx(n){return n.map(_x).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,o){let i=(o=o||this.ngModule)instanceof da?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const s=i?new pR(e,i):e,a=s.get(Jb,null);if(null===a)throw new xe(407,!1);const u=s.get(QA,null),f=a.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",_=r?function Hx(n,e,t){return n.selectRootElement(e,t===Fi.ShadowDom)}(f,r,this.componentDef.encapsulation):Ng(f,m,function fR(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(m)),k=this.componentDef.onPush?288:272,T=hy(0,null,null,1,0,null,null,null,null,null),X=Qp(null,T,null,k,null,null,a,f,u,s,null);let Ae,Ze;no(X);try{const Ke=this.componentDef;let Ct,Ne=null;Ke.findHostDirectiveDefs?(Ct=[],Ne=new Map,Ke.findHostDirectiveDefs(Ke,Ct,Ne),Ct.push(Ke)):Ct=[Ke];const Nt=function mR(n,e){const t=n[1];return n[22]=e,au(t,22,2,"#host",null)}(X,_),Sn=function gR(n,e,t,r,o,i,s,a){const u=o[1];!function yR(n,e,t,r){for(const o of n)e.mergedAttrs=kd(e.mergedAttrs,o.hostAttrs);null!==e.mergedAttrs&&(nh(e,e.mergedAttrs,!0),null!==t&&kb(r,t,e))}(r,n,e,s);const f=i.createRenderer(e,t),m=Qp(o,ww(t),null,t.onPush?32:16,o[n.index],n,i,f,a||null,null,null);return u.firstCreatePass&&gy(u,n,r.length-1),eh(o,m),o[n.index]=m}(Nt,_,Ke,Ct,X,a,f);Ze=Ed(T,22),_&&function vR(n,e,t,r){if(r)hg(n,t,["ng-version",JA.full]);else{const{attrs:o,classes:i}=function bx(n){const e=[],t=[];let r=1,o=2;for(;r<n.length;){let i=n[r];if("string"==typeof i)2===o?""!==i&&e.push(i,n[++r]):8===o&&t.push(i);else{if(!Ws(o))break;o=i}r++}return{attrs:e,classes:t}}(e.selectors[0]);o&&hg(n,t,o),i&&i.length>0&&Ib(n,t,i.join(" "))}}(f,Ke,_,r),void 0!==t&&function bR(n,e,t){const r=n.projection=[];for(let o=0;o<e.length;o++){const i=t[o];r.push(null!=i?Array.from(i):null)}}(Ze,this.ngContentSelectors,t),Ae=function _R(n,e,t,r,o,i){const s=Ut(),a=o[1],u=Ni(s,o);Iw(a,o,s,t,null,r);for(let m=0;m<t.length;m++)ki(ic(o,a,s.directiveStart+m,s),o);kw(a,o,s),u&&ki(u,o);const f=ic(o,a,s.directiveStart+s.componentOffset,s);if(n[8]=o[8]=f,null!==i)for(const m of i)m(f,e);return dy(a,s,n),f}(Sn,Ke,Ct,Ne,X,[wR]),uy(T,X,null)}finally{dg()}return new hR(this.componentType,Ae,ru(Ze,X),X,Ze)}}class hR extends WA{constructor(e,t,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.instance=t,this.hostView=this.changeDetectorRef=new dR(o),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[e])){const i=this._rootLView;wy(i[1],i,o,e,t),Dw(i,this._tNode.index)}}get injector(){return new Zc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function wR(){const n=Ut();Tp(ct()[1],n)}function ur(n){let e=function Ow(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let o;if(is(n))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new xe(903,!1);o=e.\u0275dir}if(o){if(t){r.push(o);const s=n;s.inputs=Cy(n.inputs),s.declaredInputs=Cy(n.declaredInputs),s.outputs=Cy(n.outputs);const a=o.hostBindings;a&&DR(n,a);const u=o.viewQuery,f=o.contentQueries;if(u&&SR(n,u),f&&ER(n,f),A(n.inputs,o.inputs),A(n.declaredInputs,o.declaredInputs),A(n.outputs,o.outputs),is(o)&&o.data.animation){const m=n.data;m.animation=(m.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(n),a===ur&&(t=!1)}}e=Object.getPrototypeOf(e)}!function CR(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const o=n[r];o.hostVars=e+=o.hostVars,o.hostAttrs=kd(o.hostAttrs,t=kd(t,o.hostAttrs))}}(r)}function Cy(n){return n===rs?{}:n===nr?[]:n}function SR(n,e){const t=n.viewQuery;n.viewQuery=t?(r,o)=>{e(r,o),t(r,o)}:e}function ER(n,e){const t=n.contentQueries;n.contentQueries=t?(r,o,i)=>{e(r,o,i),t(r,o,i)}:e}function DR(n,e){const t=n.hostBindings;n.hostBindings=t?(r,o)=>{e(r,o),t(r,o)}:e}let oh=null;function dc(){if(!oh){const n=p.Symbol;if(n&&n.iterator)oh=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(oh=r)}}}return oh}function ih(n){return!!function Sy(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&dc()in n)}function Mi(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function fc(n,e,t,r){const o=Mi(n,e,t);return Mi(n,e+1,r)||o}function ha(n,e,t,r){const o=ct();return Mi(o,Hn(),e)&&(bn(),fa(ro(),o,n,e,t,r)),ha}function cu(n,e,t,r){return Mi(n,Hn(),t)?e+St(t)+r:Ln}function du(n,e,t,r,o,i,s,a){const f=function sh(n,e,t,r,o){const i=fc(n,e,t,r);return Mi(n,e+2,o)||i}(n,rn(),t,o,s);return Xt(3),f?e+St(t)+r+St(o)+i+St(s)+a:Ln}function ln(n,e,t,r,o,i,s,a){const u=ct(),f=bn(),m=n+22,_=f.firstCreatePass?function OR(n,e,t,r,o,i,s,a,u){const f=e.consts,m=au(e,n,4,s||null,la(f,a));my(e,t,m,la(f,u)),Tp(e,m);const _=m.tViews=hy(2,m,r,o,i,e.directiveRegistry,e.pipeRegistry,null,e.schemas,f);return null!==e.queries&&(e.queries.template(e,m),_.queries=e.queries.embeddedTView(m)),m}(m,f,u,e,t,r,o,i,s):f.data[m];v(_,!1);const k=u[11].createComment("");jp(f,u,k,_),ki(k,u),eh(u,u[m]=Mw(k,u,k,_)),rc(_)&&fy(f,u,_),null!=s&&py(u,_,a)}function Ss(n){return wr(function we(){return Dt.lFrame.contextLView}(),22+n)}function ot(n,e,t){const r=ct();return Mi(r,Hn(),e)&&Cs(bn(),ro(),r,n,e,r[11],t,!1),ot}function Ey(n,e,t,r,o){const s=o?"class":"style";wy(n,t,e.inputs[s],s,r)}function ae(n,e,t,r){const o=ct(),i=bn(),s=22+n,a=o[11],u=o[s]=Ng(a,e,function ZM(){return Dt.lFrame.currentNamespace}()),f=i.firstCreatePass?function LR(n,e,t,r,o,i,s){const a=e.consts,f=au(e,n,2,o,la(a,i));return my(e,t,f,la(a,s)),null!==f.attrs&&nh(f,f.attrs,!1),null!==f.mergedAttrs&&nh(f,f.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,f),f}(s,i,o,0,e,t,r):i.data[s];return v(f,!0),kb(a,u,f),32!=(32&f.flags)&&jp(i,o,u,f),0===function tt(){return Dt.lFrame.elementDepthCount}()&&ki(u,o),function Xr(){Dt.lFrame.elementDepthCount++}(),rc(f)&&(fy(i,o,f),dy(i,f,o)),null!==r&&py(o,f),ae}function ee(){let n=Ut();M()?U():(n=n.parent,v(n,!1));const e=n;!function rr(){Dt.lFrame.elementDepthCount--}();const t=bn();return t.firstCreatePass&&(Tp(t,n),Hc(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function XM(n){return 0!=(8&n.flags)}(e)&&Ey(t,e,ct(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function QM(n){return 0!=(16&n.flags)}(e)&&Ey(t,e,ct(),e.stylesWithoutHost,!1),ee}function dt(n,e,t,r){return ae(n,e,t,r),ee(),dt}function zd(n,e,t){const r=ct(),o=bn(),i=n+22,s=o.firstCreatePass?function $R(n,e,t,r,o){const i=e.consts,s=la(i,r),a=au(e,n,8,"ng-container",s);return null!==s&&nh(a,s,!0),my(e,t,a,la(i,o)),null!==e.queries&&e.queries.elementStart(e,a),a}(i,o,r,e,t):o.data[i];v(s,!0);const a=r[i]=r[11].createComment("");return jp(o,r,a,s),ki(a,r),rc(s)&&(fy(o,r,s),dy(o,s,r)),null!=t&&py(r,s),zd}function Wd(){let n=Ut();const e=bn();return M()?U():(n=n.parent,v(n,!1)),e.firstCreatePass&&(Tp(e,n),Hc(n)&&e.queries.elementEnd(n)),Wd}function _r(){return ct()}function Zd(n){return!!n&&"function"==typeof n.then}function qw(n){return!!n&&"function"==typeof n.subscribe}const Dy=qw;function lt(n,e,t,r){const o=ct(),i=bn(),s=Ut();return function Yw(n,e,t,r,o,i,s){const a=rc(r),f=n.firstCreatePass&&Aw(n),m=e[8],_=Tw(e);let k=!0;if(3&r.type||s){const Ae=Ni(r,e),Ze=s?s(Ae):Ae,Ke=_.length,Ct=s?Nt=>s(ti(Nt[r.index])):r.index;let Ne=null;if(!s&&a&&(Ne=function BR(n,e,t,r){const o=n.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===t&&o[i+1]===r){const a=e[7],u=o[i+2];return a.length>u?a[u]:null}"string"==typeof s&&(i+=2)}return null}(n,e,o,r.index)),null!==Ne)(Ne.__ngLastListenerFn__||Ne).__ngNextListenerFn__=i,Ne.__ngLastListenerFn__=i,k=!1;else{i=Qw(r,e,m,i,!1);const Nt=t.listen(Ze,o,i);_.push(i,Nt),f&&f.push(o,Ct,Ke,Ke+1)}}else i=Qw(r,e,m,i,!1);const T=r.outputs;let X;if(k&&null!==T&&(X=T[o])){const Ae=X.length;if(Ae)for(let Ze=0;Ze<Ae;Ze+=2){const Sn=e[X[Ze]][X[Ze+1]].subscribe(i),Wn=_.length;_.push(i,Sn),f&&f.push(o,r.index,Wn,-(Wn+1))}}}(i,o,o[11],s,n,e,r),lt}function Xw(n,e,t,r){try{return!1!==t(r)}catch(o){return Rw(n,o),!1}}function Qw(n,e,t,r,o){return function i(s){if(s===Function)return r;vy(n.componentOffset>-1?wo(n.index,e):e);let u=Xw(e,0,r,s),f=i.__ngNextListenerFn__;for(;f;)u=Xw(e,0,f,s)&&u,f=f.__ngNextListenerFn__;return o&&!1===u&&(s.preventDefault(),s.returnValue=!1),u}}function $t(n=1){return function UM(n){return(Dt.lFrame.contextLView=function jM(n,e){for(;n>0;)e=e[15],n--;return e}(n,Dt.lFrame.contextLView))[8]}(n)}function VR(n,e){let t=null;const r=function hx(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let o=0;o<e.length;o++){const i=e[o];if("*"!==i){if(null===r?ow(n,i,!0):yx(r,i))return o}else t=o}return t}function Ft(n){const e=ct()[16][6];if(!e.projection){const r=e.projection=Ad(n?n.length:1,null),o=r.slice();let i=e.child;for(;null!==i;){const s=n?VR(i,n):0;null!==s&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i),i=i.next}}}function xt(n,e=0,t){const r=ct(),o=bn(),i=au(o,22+n,16,null,t||null);null===i.projection&&(i.projection=e),U(),32!=(32&i.flags)&&function nA(n,e,t){Db(e[11],0,e,t,gb(n,t,e),bb(t.parent||e[6],t,e))}(o,r,i)}function lh(n,e,t,r,o){const i=ct(),s=cu(i,e,t,r);return s!==Ln&&Cs(bn(),ro(),i,n,s,i[11],o,!1),lh}function ch(n,e){return n<<17|e<<2}function Dl(n){return n>>17&32767}function Iy(n){return 2|n}function pc(n){return(131068&n)>>2}function ky(n,e){return-131069&n|e<<2}function My(n){return 1|n}function lC(n,e,t,r,o){const i=n[t+1],s=null===e;let a=r?Dl(i):pc(i),u=!1;for(;0!==a&&(!1===u||s);){const m=n[a+1];WR(n[a],e)&&(u=!0,n[a+1]=r?My(m):Iy(m)),a=r?Dl(m):pc(m)}u&&(n[t+1]=r?Iy(i):My(i))}function WR(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Jc(n,e)>=0}function qd(n,e,t){return Zs(n,e,t,!1),qd}function Ka(n,e){return Zs(n,e,null,!0),Ka}function Zs(n,e,t,r){const o=ct(),i=bn(),s=Xt(2);i.firstUpdatePass&&function gC(n,e,t,r){const o=n.data;if(null===o[t+1]){const i=o[Li()],s=function mC(n,e){return e>=n.expandoStartIndex}(n,t);(function bC(n,e){return 0!=(n.flags&(e?8:16))})(i,r)&&null===e&&!s&&(e=!1),e=function tP(n,e,t,r){const o=function wt(n){const e=Dt.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let i=r?e.residualClasses:e.residualStyles;if(null===o)0===(r?e.classBindings:e.styleBindings)&&(t=Kd(t=Ty(null,n,e,t,r),e.attrs,r),i=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==o)if(t=Ty(o,n,e,t,r),null===i){let u=function nP(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==pc(r))return n[Dl(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=Ty(null,n,e,u[1],r),u=Kd(u,e.attrs,r),function rP(n,e,t,r){n[Dl(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else i=function oP(n,e,t){let r;const o=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<o;i++)r=Kd(r,n[i].hostAttrs,t);return Kd(r,e.attrs,t)}(n,e,r)}return void 0!==i&&(r?e.residualClasses=i:e.residualStyles=i),t}(o,i,e,r),function GR(n,e,t,r,o,i){let s=i?e.classBindings:e.styleBindings,a=Dl(s),u=pc(s);n[r]=t;let m,f=!1;if(Array.isArray(t)?(m=t[1],(null===m||Jc(t,m)>0)&&(f=!0)):m=t,o)if(0!==u){const k=Dl(n[a+1]);n[r+1]=ch(k,a),0!==k&&(n[k+1]=ky(n[k+1],r)),n[a+1]=function jR(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=ch(a,0),0!==a&&(n[a+1]=ky(n[a+1],r)),a=r;else n[r+1]=ch(u,0),0===a?a=r:n[u+1]=ky(n[u+1],r),u=r;f&&(n[r+1]=Iy(n[r+1])),lC(n,m,r,!0),lC(n,m,r,!1),function zR(n,e,t,r,o){const i=o?n.residualClasses:n.residualStyles;null!=i&&"string"==typeof e&&Jc(i,e)>=0&&(t[r+1]=My(t[r+1]))}(e,m,n,r,i),s=ch(a,u),i?e.classBindings=s:e.styleBindings=s}(o,i,e,t,s,r)}}(i,n,s,r),e!==Ln&&Mi(o,s,e)&&function _C(n,e,t,r,o,i,s,a){if(!(3&e.type))return;const u=n.data,f=u[a+1],m=function HR(n){return 1==(1&n)}(f)?vC(u,e,t,o,pc(f),s):void 0;uh(m)||(uh(i)||function UR(n){return 2==(2&n)}(f)&&(i=vC(u,null,t,o,a,s)),function oA(n,e,t,r,o){if(e)o?n.addClass(t,r):n.removeClass(t,r);else{let i=-1===r.indexOf("-")?void 0:ls.DashCase;null==o?n.removeStyle(t,r,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=ls.Important),n.setStyle(t,r,o,i))}}(r,s,Ha(Li(),t),o,i))}(i,i.data[Li()],o,o[11],n,o[s+1]=function aP(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=N(ws(n)))),n}(e,t),r,s)}function Ty(n,e,t,r,o){let i=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(i=e[a],r=Kd(r,i.hostAttrs,o),i!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Kd(n,e,t){const r=t?1:2;let o=-1;if(null!==e)for(let i=0;i<e.length;i++){const s=e[i];"number"==typeof s?o=s:o===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),bs(n,s,!!t||e[++i]))}return void 0===n?null:n}function vC(n,e,t,r,o,i){const s=null===e;let a;for(;o>0;){const u=n[o],f=Array.isArray(u),m=f?u[1]:u,_=null===m;let k=t[o+1];k===Ln&&(k=_?nr:void 0);let T=_?Cg(k,r):m===r?k:void 0;if(f&&!uh(T)&&(T=Cg(u,r)),uh(T)&&(a=T,s))return a;const X=n[o+1];o=s?Dl(X):pc(X)}if(null!==e){let u=i?e.residualClasses:e.residualStyles;null!=u&&(a=Cg(u,r))}return a}function uh(n){return void 0!==n}function qe(n,e=""){const t=ct(),r=bn(),o=n+22,i=r.firstCreatePass?au(r,o,1,e,null):r.data[o],s=t[o]=function Og(n,e){return n.createText(e)}(t[11],e);jp(r,t,s,i),v(i,!1)}function Es(n){return Ti("",n,""),Es}function Ti(n,e,t){const r=ct(),o=cu(r,n,e,t);return o!==Ln&&qa(r,Li(),o),Ti}function Yd(n,e,t,r,o){const i=ct(),s=function uu(n,e,t,r,o,i){const a=fc(n,rn(),t,o);return Xt(2),a?e+St(t)+r+St(o)+i:Ln}(i,n,e,t,r,o);return s!==Ln&&qa(i,Li(),s),Yd}function Ay(n,e,t,r,o,i,s){const a=ct(),u=du(a,n,e,t,r,o,i,s);return u!==Ln&&qa(a,Li(),u),Ay}const vu="en-US";let VC=vu;function Py(n,e,t,r,o){if(n=P(n),Array.isArray(n))for(let i=0;i<n.length;i++)Py(n[i],e,t,r,o);else{const i=bn(),s=ct();let a=uc(n)?n:P(n.provide),u=Yb(n);const f=Ut(),m=1048575&f.providerIndexes,_=f.directiveStart,k=f.providerIndexes>>20;if(uc(n)||!n.multi){const T=new Id(u,o,C),X=Oy(a,e,o?m:m+k,_);-1===X?(_g(Op(f,s),i,a),Fy(i,n,e.length),e.push(a),f.directiveStart++,f.directiveEnd++,o&&(f.providerIndexes+=1048576),t.push(T),s.push(T)):(t[X]=T,s[X]=T)}else{const T=Oy(a,e,m+k,_),X=Oy(a,e,m,m+k),Ze=X>=0&&t[X];if(o&&!Ze||!o&&!(T>=0&&t[T])){_g(Op(f,s),i,a);const Ke=function DF(n,e,t,r,o){const i=new Id(n,t,C);return i.multi=[],i.index=e,i.componentProviders=0,dS(i,o,r&&!t),i}(o?EF:SF,t.length,o,r,u);!o&&Ze&&(t[X].providerFactory=Ke),Fy(i,n,e.length,0),e.push(a),f.directiveStart++,f.directiveEnd++,o&&(f.providerIndexes+=1048576),t.push(Ke),s.push(Ke)}else Fy(i,n,T>-1?T:X,dS(t[o?X:T],u,!o&&r));!o&&r&&Ze&&t[X].componentProviders++}}}function Fy(n,e,t,r){const o=uc(e),i=function BA(n){return!!n.useClass}(e);if(o||i){const u=(i?P(e.useClass):e).prototype.ngOnDestroy;if(u){const f=n.destroyHooks||(n.destroyHooks=[]);if(!o&&e.multi){const m=f.indexOf(t);-1===m?f.push(t,[r,u]):f[m+1].push(r,u)}else f.push(t,u)}}}function dS(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Oy(n,e,t,r){for(let o=t;o<r;o++)if(e[o]===n)return o;return-1}function SF(n,e,t,r){return Ny(this.multi,[])}function EF(n,e,t,r){const o=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=ic(t,t[1],this.providerFactory.index,r);i=a.slice(0,s),Ny(o,i);for(let u=s;u<a.length;u++)i.push(a[u])}else i=[],Ny(o,i);return i}function Ny(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Sr(n,e=[]){return t=>{t.providersResolver=(r,o)=>function CF(n,e,t){const r=bn();if(r.firstCreatePass){const o=is(n);Py(t,r.data,r.blueprint,o,!0),Py(e,r.data,r.blueprint,o,!1)}}(r,o?o(n):n,e)}}class bu{}class fS{}class pS extends bu{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Pw(this);const r=wn(e);this._bootstrapComponents=Za(r.bootstrap),this._r3Injector=dw(e,t,[{provide:bu,useValue:this},{provide:za,useValue:this.componentFactoryResolver}],N(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Ly extends fS{constructor(e){super(),this.moduleType=e}create(e){return new pS(this.moduleType,e)}}class kF extends bu{constructor(e,t,r){super(),this.componentFactoryResolver=new Pw(this),this.instance=null;const o=new Kb([...e,{provide:bu,useValue:this},{provide:za,useValue:this.componentFactoryResolver}],t||Yp(),r,new Set(["environment"]));this.injector=o,o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function mh(n,e,t=null){return new kF(n,e,t).injector}let MF=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=zb(0,t.type),o=r.length>0?mh([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,o)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=mt({token:n,providedIn:"environment",factory:()=>new n(ne(da))}),n})();function hS(n){n.getStandaloneInjector=e=>e.get(MF).getOrCreateStandaloneInjector(n)}function wS(n,e,t,r,o,i){const s=e+t;return Mi(n,s,o)?function pa(n,e,t){return n[e]=t}(n,s+1,i?r.call(i,o):r(o)):function nf(n,e){const t=n[e];return t===Ln?void 0:t}(n,s+1)}function ya(n,e){const t=bn();let r;const o=n+22;t.firstCreatePass?(r=function ZF(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[o]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(o,r.onDestroy)):r=t.data[o];const i=r.factory||(r.factory=aa(r.type)),s=ir(C);try{const a=Fp(!1),u=i();return Fp(a),function NR(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,ct(),o,u),u}finally{ir(s)}}function _a(n,e,t){const r=n+22,o=ct(),i=wr(o,r);return function rf(n,e){return n[1].data[e].pure}(o,r)?wS(o,function bt(){const n=Dt.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),e,i.transform,t,i):i.transform(t)}function By(n){return e=>{setTimeout(n,void 0,e)}}const kn=class QF extends nt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let o=e,i=t||(()=>null),s=r;if(e&&"object"==typeof e){const u=e;o=u.next?.bind(u),i=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(i=By(i),o&&(o=By(o)),s&&(s=By(s)));const a=super.subscribe({next:o,error:i,complete:s});return e instanceof G&&e.add(a),a}};function JF(){return this._results[dc()]()}class Vy{get changes(){return this._changes||(this._changes=new kn)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=dc(),r=Vy.prototype;r[t]||(r[t]=JF)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const o=function Ps(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function lT(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let o=n[r],i=e[r];if(t&&(o=t(o),i=t(i)),i!==o)return!1}return!0}(r._results,o,t))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let us=(()=>{class n{}return n.__NG_ELEMENT_ID__=n2,n})();const e2=us,t2=class extends e2{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,o=Qp(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);o[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(o[19]=s.createEmbeddedView(r)),uy(r,o,e),new jd(o)}};function n2(){return gh(Ut(),ct())}function gh(n,e){return 4&n.type?new t2(e,n,ru(n,e)):null}let Ai=(()=>{class n{}return n.__NG_ELEMENT_ID__=r2,n})();function r2(){return MS(Ut(),ct())}const o2=Ai,IS=class extends o2{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ru(this._hostTNode,this._hostLView)}get injector(){return new Zc(this._hostTNode,this._hostLView)}get parentInjector(){const e=yg(this._hostTNode,this._hostLView);if(P0(e)){const t=Pp(e,this._hostLView),r=Rp(e);return new Zc(t[1].data[r+8],t)}return new Zc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=kS(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const s=e.createEmbeddedView(t||{},i);return this.insert(s,o),s}createComponent(e,t,r,o,i){const s=e&&!function Td(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const _=t||{};a=_.index,r=_.injector,o=_.projectableNodes,i=_.environmentInjector||_.ngModuleRef}const u=s?e:new Hd(Ee(e)),f=r||this.parentInjector;if(!i&&null==u.ngModule){const k=(s?f:this.parentInjector).get(da,null);k&&(i=k)}const m=u.create(f,o,void 0,i);return this.insert(m.hostView,a),m}insert(e,t){const r=e._lView,o=r[1];if(function ug(n){return os(n[3])}(r)){const m=this.indexOf(e);if(-1!==m)this.detach(m);else{const _=r[3],k=new IS(_,_[6],_[3]);k.detach(k.indexOf(e))}}const i=this._adjustIndex(t),s=this._lContainer;!function YT(n,e,t,r){const o=10+r,i=t.length;r>0&&(t[o-1][4]=e),r<i-10?(e[4]=t[o],z0(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const s=e[17];null!==s&&t!==s&&function XT(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(o,r,s,i);const a=Vg(i,s),u=r[11],f=Up(u,s[7]);return null!==f&&function ZT(n,e,t,r,o,i){r[0]=o,r[6]=e,Ld(n,r,t,1,o,i)}(o,s[6],u,r,f,a),e.attachToViewContainerRef(),z0(Uy(s),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=kS(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Lg(this._lContainer,t);r&&(Lp(Uy(this._lContainer),t),mb(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=Lg(this._lContainer,t);return r&&null!=Lp(Uy(this._lContainer),t)?new jd(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function kS(n){return n[8]}function Uy(n){return n[8]||(n[8]=[])}function MS(n,e){let t;const r=e[n.index];if(os(r))t=r;else{let o;if(8&n.type)o=ti(r);else{const i=e[11];o=i.createComment("");const s=Ni(n,e);ac(i,Up(i,s),o,function tA(n,e){return n.nextSibling(e)}(i,s),!1)}e[n.index]=t=Mw(r,e,o,n),eh(e,t)}return new IS(t,n,e)}class jy{constructor(e){this.queryList=e,this.matches=null}clone(){return new jy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hy{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,o=[];for(let i=0;i<r;i++){const s=t.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new Hy(o)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==PS(e,t).matches&&this.queries[t].setDirty()}}class TS{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class Gy{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const o=null!==t?t.length:0,i=this.getByIndex(r).embeddedTView(e,o);i&&(i.indexInDeclarationView=r,null!==t?t.push(i):t=[i])}return null!==t?new Gy(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class zy{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new zy(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const i=r[o];this.matchTNodeWithReadOption(e,t,i2(t,i)),this.matchTNodeWithReadOption(e,t,Np(t,e,i,!1,!1))}else r===us?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Np(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===_t||o===Ai||o===us&&4&t.type)this.addMatch(t.index,-2);else{const i=Np(t,e,o,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function i2(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function a2(n,e,t,r){return-1===t?function s2(n,e){return 11&n.type?ru(n,e):4&n.type?gh(n,e):null}(e,n):-2===t?function l2(n,e,t){return t===_t?ru(e,n):t===us?gh(e,n):t===Ai?MS(e,n):void 0}(n,e,r):ic(n,n[1],t,e)}function AS(n,e,t,r){const o=e[19].queries[r];if(null===o.matches){const i=n.data,s=t.matches,a=[];for(let u=0;u<s.length;u+=2){const f=s[u];a.push(f<0?null:a2(e,i[f],s[u+1],t.metadata.read))}o.matches=a}return o.matches}function Wy(n,e,t,r){const o=n.queries.getByIndex(t),i=o.matches;if(null!==i){const s=AS(n,e,o,t);for(let a=0;a<i.length;a+=2){const u=i[a];if(u>0)r.push(s[a/2]);else{const f=i[a+1],m=e[-u];for(let _=10;_<m.length;_++){const k=m[_];k[17]===k[3]&&Wy(k[1],k,f,r)}if(null!==m[9]){const _=m[9];for(let k=0;k<_.length;k++){const T=_[k];Wy(T[1],T,f,r)}}}}}return r}function Ds(n){const e=ct(),t=bn(),r=gn();po(r+1);const o=PS(t,r);if(n.dirty&&function cr(n){return 4==(4&n[2])}(e)===(2==(2&o.metadata.flags))){if(null===o.matches)n.reset([]);else{const i=o.crossesNgTemplate?Wy(t,e,r,[]):AS(t,e,o,r);n.reset(i,YA),n.notifyOnChanges()}return!0}return!1}function wu(n,e,t){const r=bn();r.firstCreatePass&&(RS(r,new TS(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),xS(r,ct(),e)}function Is(){return function c2(n,e){return n[19].queries[e].queryList}(ct(),gn())}function xS(n,e,t){const r=new Vy(4==(4&t));Cw(n,e,r,r.destroy),null===e[19]&&(e[19]=new Hy),e[19].queries.push(new jy(r))}function RS(n,e,t){null===n.queries&&(n.queries=new Gy),n.queries.track(new zy(e,t))}function PS(n,e){return n.queries.getByIndex(e)}function _h(...n){}const mc=new on("Application Initializer");let vh=(()=>{class n{constructor(t){this.appInits=t,this.resolve=_h,this.reject=_h,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let o=0;o<this.appInits.length;o++){const i=this.appInits[o]();if(Zd(i))t.push(i);else if(Dy(i)){const s=new Promise((a,u)=>{i.subscribe({complete:a,error:u})});t.push(s)}}Promise.all(t).then(()=>{r()}).catch(o=>{this.reject(o)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(ne(mc,8))},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const af=new on("AppId",{providedIn:"root",factory:function QS(){return`${Xy()}${Xy()}${Xy()}`}});function Xy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const JS=new on("Platform Initializer"),Eu=new on("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),eE=new on("appBootstrapListener");let x2=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ya=new on("LocaleId",{providedIn:"root",factory:()=>_n(Ya,kt.Optional|kt.SkipSelf)||function R2(){return typeof $localize<"u"&&$localize.locale||vu}()});class F2{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let tE=(()=>{class n{compileModuleSync(t){return new Ly(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),i=Za(wn(t).declarations).reduce((s,a)=>{const u=Ee(a);return u&&s.push(new Hd(u)),s},[]);return new F2(r,i)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const L2=(()=>Promise.resolve(0))();function Qy(n){typeof Zone>"u"?L2.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class pt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new kn(!1),this.onMicrotaskEmpty=new kn(!1),this.onStable=new kn(!1),this.onError=new kn(!1),typeof Zone>"u")throw new xe(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&t,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function $2(){let n=p.requestAnimationFrame,e=p.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function U2(n){const e=()=>{!function V2(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(p,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,e_(n),n.isCheckStableRunning=!0,Jy(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),e_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,o,i,s,a)=>{try{return oE(n),t.invokeTask(o,i,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||n.shouldCoalesceRunChangeDetection)&&e(),iE(n)}},onInvoke:(t,r,o,i,s,a,u)=>{try{return oE(n),t.invoke(o,i,s,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),iE(n)}},onHasTask:(t,r,o,i)=>{t.hasTask(o,i),r===o&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,e_(n),Jy(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,r,o,i)=>(t.handleError(o,i),n.runOutsideAngular(()=>n.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pt.isInAngularZone())throw new xe(909,!1)}static assertNotInAngularZone(){if(pt.isInAngularZone())throw new xe(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,e,B2,_h,_h);try{return i.runTask(s,t,r)}finally{i.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const B2={};function Jy(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function e_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function oE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function iE(n){n._nesting--,Jy(n)}class j2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new kn,this.onMicrotaskEmpty=new kn,this.onStable=new kn,this.onError=new kn}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,o){return e.apply(t,r)}}const sE=new on(""),bh=new on("");let r_,t_=(()=>{class n{constructor(t,r,o){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,r_||(function H2(n){r_=n}(o),o.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pt.assertNotInAngularZone(),Qy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Qy(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==i),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:o})}whenStable(t,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,o){return[]}}return n.\u0275fac=function(t){return new(t||n)(ne(pt),ne(n_),ne(bh))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})(),n_=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return r_?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),kl=null;const aE=new on("AllowMultipleToken"),o_=new on("PlatformDestroyListeners");class lE{constructor(e,t){this.name=e,this.token=t}}function uE(n,e,t=[]){const r=`Platform: ${e}`,o=new on(r);return(i=[])=>{let s=i_();if(!s||s.injector.get(aE,!1)){const a=[...t,...i,{provide:o,useValue:!0}];n?n(a):function W2(n){if(kl&&!kl.get(aE,!1))throw new xe(400,!1);kl=n;const e=n.get(fE);(function cE(n){const e=n.get(JS,null);e&&e.forEach(t=>t())})(n)}(function dE(n=[],e){return oo.create({name:e,providers:[{provide:Qg,useValue:"platform"},{provide:o_,useValue:new Set([()=>kl=null])},...n]})}(a,r))}return function q2(n){const e=i_();if(!e)throw new xe(401,!1);return e}()}}function i_(){return kl?.get(fE)??null}let fE=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const o=function hE(n,e){let t;return t="noop"===n?new j2:("zone.js"===n?void 0:n)||new pt(e),t}(r?.ngZone,function pE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),i=[{provide:pt,useValue:o}];return o.run(()=>{const s=oo.create({providers:i,parent:this.injector,name:t.moduleType.name}),a=t.create(s),u=a.injector.get(ou,null);if(!u)throw new xe(402,!1);return o.runOutsideAngular(()=>{const f=o.onError.subscribe({next:m=>{u.handleError(m)}});a.onDestroy(()=>{wh(this._modules,a),f.unsubscribe()})}),function mE(n,e,t){try{const r=t();return Zd(r)?r.catch(o=>{throw e.runOutsideAngular(()=>n.handleError(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,o,()=>{const f=a.injector.get(vh);return f.runInitializers(),f.donePromise.then(()=>(function UC(n){ko(n,"Expected localeId to be defined"),"string"==typeof n&&(VC=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Ya,vu)||vu),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const o=gE({},r);return function G2(n,e,t){const r=new Ly(t);return Promise.resolve(r)}(0,0,t).then(i=>this.bootstrapModuleFactory(i,o))}_moduleDoBootstrap(t){const r=t.injector.get(Ml);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!t.instance.ngDoBootstrap)throw new xe(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(o_,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(ne(oo))},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function gE(n,e){return Array.isArray(e)?e.reduce(gE,n):{...n,...e}}let Ml=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,o){this._zone=t,this._injector=r,this._exceptionHandler=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const i=new vt(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new vt(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{pt.assertNotInAngularZone(),Qy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const f=this._zone.onUnstable.subscribe(()=>{pt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),f.unsubscribe()}});this.isStable=ui(i,s.pipe(ys()))}bootstrap(t,r){const o=t instanceof Xb;if(!this._injector.get(vh).done)throw!o&&function Dn(n){const e=Ee(n)||yt(n)||Bt(n);return null!==e&&e.standalone}(t),new xe(405,false);let s;s=o?t:this._injector.get(za).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function z2(n){return n.isBoundToModule}(s)?void 0:this._injector.get(bu),f=s.create(oo.NULL,[],r||s.selector,a),m=f.location.nativeElement,_=f.injector.get(sE,null);return _?.registerApplication(m),f.onDestroy(()=>{this.detachView(f.hostView),wh(this.components,f),_?.unregisterApplication(m)}),this._loadComponent(f),f}tick(){if(this._runningTick)throw new xe(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;wh(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(eE,[]);r.push(...this._bootstrapListeners),r.forEach(o=>o(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>wh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new xe(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(ne(pt),ne(da),ne(ou))},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wh(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let It=(()=>{class n{}return n.__NG_ELEMENT_ID__=Y2,n})();function Y2(n){return function X2(n,e,t){if(El(n)&&!t){const r=wo(n.index,e);return new jd(r,r)}return 47&n.type?new jd(e[16],e):null}(Ut(),ct(),16==(16&n))}class wE{constructor(){}supports(e){return ih(e)}create(e){return new rO(e)}}const nO=(n,e)=>e;class rO{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||nO}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,o=0,i=null;for(;t||r;){const s=!r||t&&t.currentIndex<SE(r,o,i)?t:r,a=SE(s,o,i),u=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)o++;else{i||(i=[]);const f=a-o,m=u-o;if(f!=m){for(let k=0;k<f;k++){const T=k<i.length?i[k]:i[k]=0,X=T+k;m<=X&&X<f&&(i[k]=T+1)}i[s.previousIndex]=m-f}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!ih(e))throw new xe(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let o,i,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)i=e[a],s=this._trackByFn(a,i),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,i,s,a)),Object.is(t.item,i)||this._addIdentityChange(t,i)):(t=this._mismatch(t,i,s,a),r=!0),t=t._next}else o=0,function RR(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[dc()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(o,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,o)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,o),r=!0),t=t._next,o++}),this.length=o;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,o){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,o)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,o)):e=this._addAfter(new oO(t,r),i,o),e}_verifyReinsertion(e,t,r,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?e=this._reinsertAfter(i,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const o=e._prevRemoved,i=e._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const o=null===t?this._itHead:t._next;return e._next=o,e._prev=t,null===o?this._itTail=e:o._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new CE),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new CE),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class oO{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class iO{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class CE{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new iO,this.map.set(t,r)),r.add(e)}get(e,t){const o=this.map.get(e);return o?o.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function SE(n,e,t){const r=n.previousIndex;if(null===r)return r;let o=0;return t&&r<t.length&&(o=t[r]),r+e+o}function DE(){return new lf([new wE])}let lf=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const o=r.factories.slice();t=t.concat(o)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||DE()),deps:[[n,new Rd,new xd]]}}find(t){const r=this.factories.find(o=>o.supports(t));if(null!=r)return r;throw new xe(901,!1)}}return n.\u0275prov=mt({token:n,providedIn:"root",factory:DE}),n})();const uO=uE(null,"core",[]);let dO=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(ne(Ml))},n.\u0275mod=b({type:n}),n.\u0275inj=gr({}),n})(),u_=null;function va(){return u_}class hO{}const Zo=new on("DocumentToken");let d_=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:function(){return function mO(){return ne(kE)}()},providedIn:"platform"}),n})();const gO=new on("Location Initialized");let kE=(()=>{class n extends d_{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return va().getBaseHref(this._doc)}onPopState(t){const r=va().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=va().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){ME()?this._history.pushState(t,r,o):this._location.hash=o}replaceState(t,r,o){ME()?this._history.replaceState(t,r,o):this._location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(ne(Zo))},n.\u0275prov=mt({token:n,factory:function(){return function yO(){return new kE(ne(Zo))}()},providedIn:"platform"}),n})();function ME(){return!!window.history.pushState}function f_(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function TE(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Qa(n){return n&&"?"!==n[0]?"?"+n:n}let ba=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:function(){return _n(xE)},providedIn:"root"}),n})();const AE=new on("appBaseHref");let xE=(()=>{class n extends ba{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??_n(Zo).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return f_(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Qa(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,i){const s=this.prepareExternalUrl(o+Qa(i));this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){const s=this.prepareExternalUrl(o+Qa(i));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(ne(d_),ne(AE,8))},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RE=(()=>{class n extends ba{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=f_(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,i){let s=this.prepareExternalUrl(o+Qa(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){let s=this.prepareExternalUrl(o+Qa(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(ne(d_),ne(AE,8))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})(),uf=(()=>{class n{constructor(t){this._subject=new kn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function bO(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(TE(PE(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Qa(r))}normalize(t){return n.stripTrailingSlash(function vO(n,e){return n&&new RegExp(`^${n}([/;?#]|$)`).test(e)?e.substring(n.length):e}(this._basePath,PE(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Qa(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Qa(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=Qa,n.joinWithSlash=f_,n.stripTrailingSlash=TE,n.\u0275fac=function(t){return new(t||n)(ne(ba))},n.\u0275prov=mt({token:n,factory:function(){return function _O(){return new uf(ne(ba))}()},providedIn:"root"}),n})();function PE(n){return n.replace(/\/index.html$/,"")}function jE(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,i]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(i)}return null}class iN{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let yc=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,i,s)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new iN(o.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===i?void 0:i);else if(null!==i){const a=r.get(i);r.move(a,s),WE(a,o)}});for(let o=0,i=r.length;o<i;o++){const a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{WE(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(C(Ai),C(us),C(lf))},n.\u0275dir=Q({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function WE(n,e){n.context.$implicit=e.item}let oi=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new aN,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ZE("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ZE("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(C(Ai),C(us))},n.\u0275dir=Q({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class aN{constructor(){this.$implicit=null,this.ngIf=null}}function ZE(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${N(e)}'.`)}class S_{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Ph=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const r of this._defaultViews)r.enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Q({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),qE=(()=>{class n{constructor(t,r,o){this.ngSwitch=o,o._addCase(),this._view=new S_(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(C(Ai),C(us),C(Ph,9))},n.\u0275dir=Q({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),KE=(()=>{class n{constructor(t,r,o){o._addDefault(new S_(t,r))}}return n.\u0275fac=function(t){return new(t||n)(C(Ai),C(us),C(Ph,9))},n.\u0275dir=Q({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})();class uN{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class dN{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const fN=new dN,pN=new uN;let XE=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(Zd(t))return fN;if(qw(t))return pN;throw function Xs(n,e){return new xe(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(C(It,16))},n.\u0275pipe=_e({name:"async",type:n,pure:!1,standalone:!0}),n})(),wa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=b({type:n}),n.\u0275inj=gr({}),n})();const JE="browser";function Tl(n){return n===JE}let FN=(()=>{class n{}return n.\u0275prov=mt({token:n,providedIn:"root",factory:()=>new ON(ne(Zo),window)}),n})();class ON{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function NN(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(e)||i.querySelector(`[name="${e}"]`);if(s)return s}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=eD(this.window.history)||eD(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function eD(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class tD{}class cL extends hO{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class A_ extends cL{static makeCurrent(){!function pO(n){u_||(u_=n)}(new A_)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function uL(){return hf=hf||document.querySelector("base"),hf?hf.getAttribute("href"):null}();return null==t?null:function dL(n){Oh=Oh||document.createElement("a"),Oh.setAttribute("href",n);const e=Oh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){hf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return jE(document.cookie,e)}}let Oh,hf=null;const sD=new on("TRANSITION_ID"),pL=[{provide:mc,useFactory:function fL(n,e,t){return()=>{t.get(vh).donePromise.then(()=>{const r=va(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let i=0;i<o.length;i++)r.remove(o[i])})}},deps:[sD,Zo,oo],multi:!0}];let mL=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})();const Nh=new on("EventManagerPlugins");let Lh=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let i=0;i<o.length;i++){const s=o[i];if(s.supports(t))return this._eventNameToPlugin.set(t,s),s}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(ne(Nh),ne(pt))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})();class aD{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=va().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let lD=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})(),mf=(()=>{class n extends lD{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(i=>{const s=this._doc.createElement("style");s.textContent=i,o.push(r.appendChild(s))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(cD),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(cD))}}return n.\u0275fac=function(t){return new(t||n)(ne(Zo))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})();function cD(n){va().remove(n)}const x_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},R_=/%COMP%/g;function P_(n,e){return e.flat(100).map(t=>t.replace(R_,n))}function fD(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let F_=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new O_(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Fi.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new wL(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case Fi.ShadowDom:return new CL(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=P_(r.id,r.styles);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(ne(Lh),ne(mf),ne(af))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})();class O_{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(x_[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(hD(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(hD(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const i=x_[o];i?e.setAttributeNS(i,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=x_[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(ls.DashCase|ls.Important)?e.style.setProperty(t,r,o&ls.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ls.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,fD(r)):this.eventManager.addEventListener(e,t,fD(r))}}function hD(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class wL extends O_{constructor(e,t,r,o){super(e),this.component=r;const i=P_(o+"-"+r.id,r.styles);t.addStyles(i),this.contentAttr=function _L(n){return"_ngcontent-%COMP%".replace(R_,n)}(o+"-"+r.id),this.hostAttr=function vL(n){return"_nghost-%COMP%".replace(R_,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class CL extends O_{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=P_(o.id,o.styles);for(let s=0;s<i.length;s++){const a=document.createElement("style");a.textContent=i[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let SL=(()=>{class n extends aD{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(ne(Zo))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})();const mD=["alt","control","meta","shift"],EL={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},DL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let IL=(()=>{class n extends aD{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const i=n.parseEventName(r),s=n.eventCallback(i.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>va().onAndCancel(t,i.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const i=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),mD.forEach(f=>{const m=r.indexOf(f);m>-1&&(r.splice(m,1),s+=f+".")}),s+=i,0!=r.length||0===i.length)return null;const u={};return u.domEventName=o,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let o=EL[t.key]||t.key,i="";return r.indexOf("code.")>-1&&(o=t.code,i="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),mD.forEach(s=>{s!==o&&(0,DL[s])(t)&&(i+=s+".")}),i+=o,i===r)}static eventCallback(t,r,o){return i=>{n.matchEventFullKeyCode(i,t)&&o.runGuarded(()=>r(i))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(ne(Zo))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})();const AL=uE(uO,"browser",[{provide:Eu,useValue:JE},{provide:JS,useValue:function kL(){A_.makeCurrent()},multi:!0},{provide:Zo,useFactory:function TL(){return function cA(n){Gg=n}(document),document},deps:[]}]),_D=new on(""),vD=[{provide:bh,useClass:class hL{addToWindow(e){p.getAngularTestability=(r,o=!0)=>{const i=e.findTestabilityInTree(r,o);if(null==i)throw new Error("Could not find testability for element.");return i},p.getAllAngularTestabilities=()=>e.getAllTestabilities(),p.getAllAngularRootElements=()=>e.getAllRootElements(),p.frameworkStabilizers||(p.frameworkStabilizers=[]),p.frameworkStabilizers.push(r=>{const o=p.getAllAngularTestabilities();let i=o.length,s=!1;const a=function(u){s=s||u,i--,0==i&&r(s)};o.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?va().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:sE,useClass:t_,deps:[pt,n_,bh]},{provide:t_,useClass:t_,deps:[pt,n_,bh]}],bD=[{provide:Qg,useValue:"root"},{provide:ou,useFactory:function ML(){return new ou},deps:[]},{provide:Nh,useClass:SL,multi:!0,deps:[Zo,pt,Eu]},{provide:Nh,useClass:IL,multi:!0,deps:[Zo]},{provide:F_,useClass:F_,deps:[Lh,mf,af]},{provide:Jb,useExisting:F_},{provide:lD,useExisting:mf},{provide:mf,useClass:mf,deps:[Zo]},{provide:Lh,useClass:Lh,deps:[Nh,pt]},{provide:tD,useClass:mL,deps:[]},[]];let xL=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:af,useValue:t.appId},{provide:sD,useExisting:af},pL]}}}return n.\u0275fac=function(t){return new(t||n)(ne(_D,12))},n.\u0275mod=b({type:n}),n.\u0275inj=gr({providers:[...bD,...vD],imports:[wa,dO]}),n})(),wD=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(ne(Zo))},n.\u0275prov=mt({token:n,factory:function(t){let r=null;return r=t?new t:function PL(){return new wD(ne(Zo))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let $_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:function(t){let r=null;return r=t?new(t||n):ne(ED),r},providedIn:"root"}),n})(),ED=(()=>{class n extends $_{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case Pr.NONE:return r;case Pr.HTML:return ua(r,"HTML")?ws(r):$b(this._doc,String(r)).toString();case Pr.STYLE:return ua(r,"Style")?ws(r):r;case Pr.SCRIPT:if(ua(r,"Script"))return ws(r);throw new Error("unsafe value used in a script context");case Pr.URL:return ua(r,"URL")?ws(r):Wp(String(r));case Pr.RESOURCE_URL:if(ua(r,"ResourceURL"))return ws(r);throw new Error(`unsafe value used in a resource URL context (see ${it})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${it})`)}}bypassSecurityTrustHtml(t){return function gA(n){return new uA(n)}(t)}bypassSecurityTrustStyle(t){return function yA(n){return new dA(n)}(t)}bypassSecurityTrustScript(t){return function _A(n){return new fA(n)}(t)}bypassSecurityTrustUrl(t){return function vA(n){return new pA(n)}(t)}bypassSecurityTrustResourceUrl(t){return function bA(n){return new hA(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(ne(Zo))},n.\u0275prov=mt({token:n,factory:function(t){let r=null;return r=t?new t:function VL(n){return new ED(n.get(Zo))}(ne(oo)),r},providedIn:"root"}),n})();var ii=x(1158),UL=x(9233),Iu=x.n(UL);let $h,Bh;function DD(n){if(!window.location.hash.startsWith(n))return;const e=window.location.hash.split("?")[1];if(!e)return;const t=e.split("&").map(r=>r.split("="));for(const[r,o]of t)if("url"===r&&o)try{return decodeURIComponent(o)}catch{continue}}function ID(){return void 0!==Bh}class kD{constructor(){this.requestEvent=new ii.j}dispatchRequest(e){if(e){try{e=new(Iu())(e).toString()}catch{return void console.error(`invalid URL: ${e}`)}this.url=e,this.requestEvent.dispatch()}}hasPendingRequest(){return void 0!==this.url}receivePendingUrl(){const e=this.url;return this.url=void 0,e}}class xl{constructor(){this.installation=new kD,this.import=new kD,$h&&this.installation.dispatchRequest($h),Bh&&this.import.dispatchRequest(Bh)}}function yn(...n){return ar(n,Jo(n))}function Rl(n,e){return I(e)?mr(n,e,1):mr(n,1)}function fi(n,e){return q((t,r)=>{let o=0;t.subscribe(ve(r,i=>n.call(e,i,o++)&&r.next(i)))})}xl.\u0275fac=function(e){return new(e||xl)},xl.\u0275prov=mt({token:xl,factory:xl.\u0275fac,providedIn:"root"});class Vh{}class B_{}class el{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const o=t.slice(0,r),i=o.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const o=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(t,o))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof el?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new el;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof el?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":const i=e.value;if(i){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class GL{encodeKey(e){return MD(e)}encodeValue(e){return MD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const WL=/%(\d[a-f0-9])/gi,ZL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function MD(n){return encodeURIComponent(n).replace(WL,(e,t)=>ZL[t]??e)}function Uh(n){return`${n}`}class Pl{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new GL,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function zL(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,i)),e.decodeValue(o.slice(i+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],o=Array.isArray(r)?r.map(Uh):[Uh(r)];this.map.set(t,o)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(i=>{t.push({param:r,value:i,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Pl({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Uh(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const o=r.indexOf(Uh(e.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class qL{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function TD(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function AD(n){return typeof Blob<"u"&&n instanceof Blob}function xD(n){return typeof FormData<"u"&&n instanceof FormData}class gf{constructor(e,t,r,o){let i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function KL(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,i=o):i=r,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new el),this.context||(this.context=new qL),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Pl,this.urlWithParams=t}serializeBody(){return null===this.body?null:TD(this.body)||AD(this.body)||xD(this.body)||function YL(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Pl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||xD(this.body)?null:AD(this.body)?this.body.type||null:TD(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Pl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,o=e.responseType||this.responseType,i=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,f=e.params||this.params;const m=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((_,k)=>_.set(k,e.setHeaders[k]),u)),e.setParams&&(f=Object.keys(e.setParams).reduce((_,k)=>_.set(k,e.setParams[k]),f)),new gf(t,r,i,{params:f,headers:u,context:m,reportProgress:a,responseType:o,withCredentials:s})}}var Po=(()=>((Po=Po||{})[Po.Sent=0]="Sent",Po[Po.UploadProgress=1]="UploadProgress",Po[Po.ResponseHeader=2]="ResponseHeader",Po[Po.DownloadProgress=3]="DownloadProgress",Po[Po.Response=4]="Response",Po[Po.User=5]="User",Po))();class V_{constructor(e,t=200,r="OK"){this.headers=e.headers||new el,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class U_ extends V_{constructor(e={}){super(e),this.type=Po.ResponseHeader}clone(e={}){return new U_({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class jh extends V_{constructor(e={}){super(e),this.type=Po.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new jh({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class RD extends V_{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function j_(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let H_=(()=>{class n{constructor(t){this.handler=t}request(t,r,o={}){let i;if(t instanceof gf)i=t;else{let u,f;u=o.headers instanceof el?o.headers:new el(o.headers),o.params&&(f=o.params instanceof Pl?o.params:new Pl({fromObject:o.params})),i=new gf(t,r,void 0!==o.body?o.body:null,{headers:u,context:o.context,params:f,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const s=yn(i).pipe(Rl(u=>this.handler.handle(u)));if(t instanceof gf||"events"===o.observe)return s;const a=s.pipe(fi(u=>u instanceof jh));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(Re(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(Re(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(Re(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(Re(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Pl).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,j_(o,r))}post(t,r,o={}){return this.request("POST",t,j_(o,r))}put(t,r,o={}){return this.request("PUT",t,j_(o,r))}}return n.\u0275fac=function(t){return new(t||n)(ne(Vh))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})();function PD(n,e){return e(n)}function XL(n,e){return(t,r)=>e.intercept(t,{handle:o=>n(o,r)})}const JL=new on("HTTP_INTERCEPTORS"),yf=new on("HTTP_INTERCEPTOR_FNS");function e3(){let n=null;return(e,t)=>(null===n&&(n=(_n(JL,{optional:!0})??[]).reduceRight(XL,PD)),n(e,t))}let FD=(()=>{class n extends Vh{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(yf)));this.chain=r.reduceRight((o,i)=>function QL(n,e,t){return(r,o)=>t.runInContext(()=>e(r,i=>n(i,o)))}(o,i,this.injector),PD)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(ne(B_),ne(da))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})();const o3=/^\)\]\}',?\n/;let ND=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new vt(r=>{const o=this.xhrFactory.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((T,X)=>o.setRequestHeader(T,X.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const T=t.detectContentTypeHeader();null!==T&&o.setRequestHeader("Content-Type",T)}if(t.responseType){const T=t.responseType.toLowerCase();o.responseType="json"!==T?T:"text"}const i=t.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const T=o.statusText||"OK",X=new el(o.getAllResponseHeaders()),Ae=function i3(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return s=new U_({headers:X,status:o.status,statusText:T,url:Ae}),s},u=()=>{let{headers:T,status:X,statusText:Ae,url:Ze}=a(),Ke=null;204!==X&&(Ke=typeof o.response>"u"?o.responseText:o.response),0===X&&(X=Ke?200:0);let Ct=X>=200&&X<300;if("json"===t.responseType&&"string"==typeof Ke){const Ne=Ke;Ke=Ke.replace(o3,"");try{Ke=""!==Ke?JSON.parse(Ke):null}catch(Nt){Ke=Ne,Ct&&(Ct=!1,Ke={error:Nt,text:Ke})}}Ct?(r.next(new jh({body:Ke,headers:T,status:X,statusText:Ae,url:Ze||void 0})),r.complete()):r.error(new RD({error:Ke,headers:T,status:X,statusText:Ae,url:Ze||void 0}))},f=T=>{const{url:X}=a(),Ae=new RD({error:T,status:o.status||0,statusText:o.statusText||"Unknown Error",url:X||void 0});r.error(Ae)};let m=!1;const _=T=>{m||(r.next(a()),m=!0);let X={type:Po.DownloadProgress,loaded:T.loaded};T.lengthComputable&&(X.total=T.total),"text"===t.responseType&&o.responseText&&(X.partialText=o.responseText),r.next(X)},k=T=>{let X={type:Po.UploadProgress,loaded:T.loaded};T.lengthComputable&&(X.total=T.total),r.next(X)};return o.addEventListener("load",u),o.addEventListener("error",f),o.addEventListener("timeout",f),o.addEventListener("abort",f),t.reportProgress&&(o.addEventListener("progress",_),null!==i&&o.upload&&o.upload.addEventListener("progress",k)),o.send(i),r.next({type:Po.Sent}),()=>{o.removeEventListener("error",f),o.removeEventListener("abort",f),o.removeEventListener("load",u),o.removeEventListener("timeout",f),t.reportProgress&&(o.removeEventListener("progress",_),null!==i&&o.upload&&o.upload.removeEventListener("progress",k)),o.readyState!==o.DONE&&o.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(ne(tD))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})();const G_=new on("XSRF_ENABLED"),LD="XSRF-TOKEN",$D=new on("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>LD}),BD="X-XSRF-TOKEN",VD=new on("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>BD});class UD{}let s3=(()=>{class n{constructor(t,r,o){this.doc=t,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=jE(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(ne(Zo),ne(Eu),ne($D))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})();function a3(n,e){const t=n.url.toLowerCase();if(!_n(G_)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=_n(UD).getToken(),o=_n(VD);return null!=r&&!n.headers.has(o)&&(n=n.clone({headers:n.headers.set(o,r)})),e(n)}var So=(()=>((So=So||{})[So.Interceptors=0]="Interceptors",So[So.LegacyInterceptors=1]="LegacyInterceptors",So[So.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",So[So.NoXsrfProtection=3]="NoXsrfProtection",So[So.JsonpSupport=4]="JsonpSupport",So[So.RequestsMadeViaParent=5]="RequestsMadeViaParent",So))();function ku(n,e){return{\u0275kind:n,\u0275providers:e}}function l3(...n){const e=[H_,ND,FD,{provide:Vh,useExisting:FD},{provide:B_,useExisting:ND},{provide:yf,useValue:a3,multi:!0},{provide:G_,useValue:!0},{provide:UD,useClass:s3}];for(const t of n)e.push(...t.\u0275providers);return function NA(n){return{\u0275providers:n}}(e)}const jD=new on("LEGACY_INTERCEPTOR_FN");function u3({cookieName:n,headerName:e}){const t=[];return void 0!==n&&t.push({provide:$D,useValue:n}),void 0!==e&&t.push({provide:VD,useValue:e}),ku(So.CustomXsrfConfiguration,t)}let d3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=b({type:n}),n.\u0275inj=gr({providers:[l3(ku(So.LegacyInterceptors,[{provide:jD,useFactory:e3},{provide:yf,useExisting:jD,multi:!0}]),u3({cookieName:LD,headerName:BD}))]}),n})();const{isArray:f3}=Array,{getPrototypeOf:p3,prototype:h3,keys:m3}=Object;function HD(n){if(1===n.length){const e=n[0];if(f3(e))return{args:e,keys:null};if(function g3(n){return n&&"object"==typeof n&&p3(n)===h3}(e)){const t=m3(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:y3}=Array;function z_(n){return Re(e=>function _3(n,e){return y3(e)?n(...e):n(e)}(n,e))}function GD(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}let zD=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(C(Wa),C(_t))},n.\u0275dir=Q({type:n}),n})(),_c=(()=>{class n extends zD{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ri(n)))(r||n)}}(),n.\u0275dir=Q({type:n,features:[ur]}),n})();const Vi=new on("NgValueAccessor"),w3={provide:Vi,useExisting:Oe(()=>W_),multi:!0},S3=new on("CompositionEventMode");let W_=(()=>{class n extends zD{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function C3(){const n=va()?va().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(C(Wa),C(_t),C(S3,8))},n.\u0275dir=Q({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&lt("input",function(i){return r._handleInput(i.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(i){return r._compositionEnd(i.target.value)})},features:[Sr([w3]),ur]}),n})();function Fl(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function ZD(n){return null!=n&&"number"==typeof n.length}const xi=new on("NgValidators"),Ol=new on("NgAsyncValidators"),D3=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class _f{static min(e){return function qD(n){return e=>{if(Fl(e.value)||Fl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function KD(n){return e=>{if(Fl(e.value)||Fl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function YD(n){return Fl(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function XD(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function QD(n){return Fl(n.value)||D3.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function JD(n){return e=>Fl(e.value)||!ZD(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return e1(e)}static pattern(e){return function t1(n){if(!n)return Hh;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Fl(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(e)}static nullValidator(e){return null}static compose(e){return a1(e)}static composeAsync(e){return l1(e)}}function e1(n){return e=>ZD(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function Hh(n){return null}function n1(n){return null!=n}function r1(n){return Zd(n)?ar(n):n}function o1(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function i1(n,e){return e.map(t=>t(n))}function s1(n){return n.map(e=>function I3(n){return!n.validate}(e)?e:t=>e.validate(t))}function a1(n){if(!n)return null;const e=n.filter(n1);return 0==e.length?null:function(t){return o1(i1(t,e))}}function Z_(n){return null!=n?a1(s1(n)):null}function l1(n){if(!n)return null;const e=n.filter(n1);return 0==e.length?null:function(t){return function v3(...n){const e=Qi(n),{args:t,keys:r}=HD(n),o=new vt(i=>{const{length:s}=t;if(!s)return void i.complete();const a=new Array(s);let u=s,f=s;for(let m=0;m<s;m++){let _=!1;Nn(t[m]).subscribe(ve(i,k=>{_||(_=!0,f--),a[m]=k},()=>u--,void 0,()=>{(!u||!_)&&(f||i.next(r?GD(r,a):a),i.complete())}))}});return e?o.pipe(z_(e)):o}(i1(t,e).map(r1)).pipe(Re(o1))}}function q_(n){return null!=n?l1(s1(n)):null}function c1(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function u1(n){return n._rawValidators}function d1(n){return n._rawAsyncValidators}function K_(n){return n?Array.isArray(n)?n:[n]:[]}function Gh(n,e){return Array.isArray(n)?n.includes(e):n===e}function f1(n,e){const t=K_(e);return K_(n).forEach(o=>{Gh(t,o)||t.push(o)}),t}function p1(n,e){return K_(e).filter(t=>!Gh(n,t))}class h1{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Z_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=q_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ui extends h1{get formDirective(){return null}get path(){return null}}class tl extends h1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class m1{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let nl=(()=>{class n extends m1{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(C(tl,2))},n.\u0275dir=Q({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Ka("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[ur]}),n})(),rl=(()=>{class n extends m1{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(C(Ui,10))},n.\u0275dir=Q({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&Ka("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[ur]}),n})();const vf="VALID",Wh="INVALID",Mu="PENDING",bf="DISABLED";function J_(n){return(Zh(n)?n.validators:n)||null}function ev(n,e){return(Zh(e)?e.asyncValidators:n)||null}function Zh(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class v1{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===vf}get invalid(){return this.status===Wh}get pending(){return this.status==Mu}get disabled(){return this.status===bf}get enabled(){return this.status!==bf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(f1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(f1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(p1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(p1(e,this._rawAsyncValidators))}hasValidator(e){return Gh(this._rawValidators,e)}hasAsyncValidator(e){return Gh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Mu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=bf,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=vf,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vf||this.status===Mu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bf:vf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Mu,this._hasOwnPendingAsyncValidator=!0;const t=r1(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new kn,this.statusChanges=new kn}_calculateStatus(){return this._allControlsDisabled()?bf:this.errors?Wh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Mu)?Mu:this._anyControlsHaveStatus(Wh)?Wh:vf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Zh(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function P3(n){return Array.isArray(n)?Z_(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function F3(n){return Array.isArray(n)?q_(n):n||null}(this._rawAsyncValidators)}}class Nl extends v1{constructor(e,t,r){super(J_(t),ev(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function _1(n,e,t){n._forEachChild((r,o)=>{if(void 0===t[o])throw new xe(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function y1(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new xe(1e3,"");if(!r[t])throw new xe(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,i)=>{r=t(r,o,i)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const qh=Nl,Tu=new on("CallSetDisabledState",{providedIn:"root",factory:()=>Kh}),Kh="always";function wf(n,e,t=Kh){tv(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function L3(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&b1(n,e)})}(n,e),function B3(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function $3(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&b1(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function N3(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Xh(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Jh(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Qh(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function tv(n,e){const t=u1(n);null!==e.validator?n.setValidators(c1(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=d1(n);null!==e.asyncValidator?n.setAsyncValidators(c1(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();Qh(e._rawValidators,o),Qh(e._rawAsyncValidators,o)}function Jh(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=u1(n);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==e.validator);i.length!==o.length&&(t=!0,n.setValidators(i))}}if(null!==e.asyncValidator){const o=d1(n);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==e.asyncValidator);i.length!==o.length&&(t=!0,n.setAsyncValidators(i))}}}const r=()=>{};return Qh(e._rawValidators,r),Qh(e._rawAsyncValidators,r),t}function b1(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function S1(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function E1(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const fs=class extends v1{constructor(e=null,t,r){super(J_(t),ev(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Zh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=E1(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){S1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){S1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){E1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},si=fs;let ol=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Q({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),A1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=b({type:n}),n.\u0275inj=gr({}),n})();const sv=new on("NgModelWithFormControlWarning"),J3={provide:Ui,useExisting:Oe(()=>Qs)};let Qs=(()=>{class n extends Ui{constructor(t,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new kn,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Jh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return wf(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Xh(t.control||null,t,!1),function H3(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function C1(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(Xh(r||null,t),(n=>n instanceof fs)(o)&&(wf(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function w1(n,e){tv(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function V3(n,e){return Jh(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){tv(this.form,this),this._oldForm&&Jh(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(C(xi,10),C(Ol,10),C(Tu,8))},n.\u0275dir=Q({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&lt("submit",function(i){return r.onSubmit(i)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Sr([J3]),ur,To]}),n})();const n$={provide:tl,useExisting:Oe(()=>Ca)};let Ca=(()=>{class n extends tl{set isDisabled(t){}constructor(t,r,o,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new kn,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function ov(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(i=>{i.constructor===W_?t=i:function j3(n){return Object.getPrototypeOf(n.constructor)===_c}(i)?r=i:o=i}),o||r||t||null}(0,i)}ngOnChanges(t){this._added||this._setUpControl(),function rv(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Yh(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(C(Ui,13),C(xi,10),C(Ol,10),C(Vi,10),C(sv,8))},n.\u0275dir=Q({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Sr([n$]),ur,To]}),n})();let vc=(()=>{class n{constructor(){this._validator=Hh}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Hh,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Q({type:n,features:[To]}),n})();const m$={provide:xi,useExisting:Oe(()=>fv),multi:!0};let fv=(()=>{class n extends vc{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function L1(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>e1(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ri(n)))(r||n)}}(),n.\u0275dir=Q({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&ha("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Sr([m$]),ur]}),n})(),z1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=b({type:n}),n.\u0275inj=gr({imports:[A1]}),n})(),bc=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Tu,useValue:t.callSetDisabledState??Kh}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=b({type:n}),n.\u0275inj=gr({imports:[z1]}),n})(),em=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:sv,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Tu,useValue:t.callSetDisabledState??Kh}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=b({type:n}),n.\u0275inj=gr({imports:[z1]}),n})();const _$=["addListener","removeListener"],v$=["addEventListener","removeEventListener"],b$=["on","off"];function Sf(n,e,t,r){if(I(t)&&(r=t,t=void 0),r)return Sf(n,e,t).pipe(z_(r));const[o,i]=function S$(n){return I(n.addEventListener)&&I(n.removeEventListener)}(n)?v$.map(s=>a=>n[s](e,a,t)):function w$(n){return I(n.addListener)&&I(n.removeListener)}(n)?_$.map(W1(n,e)):function C$(n){return I(n.on)&&I(n.off)}(n)?b$.map(W1(n,e)):[];if(!o&&hr(n))return mr(s=>Sf(s,e,t))(Nn(n));if(!o)throw new TypeError("Invalid event target");return new vt(s=>{const a=(...u)=>s.next(1<u.length?u:u[0]);return o(a),()=>i(a)})}function W1(n,e){return t=>r=>n[t](e,r)}class ks extends nt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const tm=c(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Z1(...n){const e=Jo(n),t=Qi(n),{args:r,keys:o}=HD(n);if(0===r.length)return ar([],e);const i=new vt(function E$(n,e,t=re){return r=>{q1(e,()=>{const{length:o}=n,i=new Array(o);let s=o,a=o;for(let u=0;u<o;u++)q1(e,()=>{const f=ar(n[u],e);let m=!1;f.subscribe(ve(r,_=>{i[u]=_,m||(m=!0,a--),a||r.next(t(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,o?s=>GD(o,s):re));return t?i.pipe(z_(t)):i}function q1(n,e,t){n?Jr(t,n,e):e()}function Ef(...n){return function D$(){return Bo(1)}()(ar(n,Jo(n)))}function nm(n){return new vt(e=>{Nn(n()).subscribe(e)})}function Au(n,e){const t=I(n)?n:()=>n,r=o=>o.error(t());return new vt(e?o=>e.schedule(r,0,o):r)}function pv(){return q((n,e)=>{let t=null;n._refCount++;const r=ve(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,i=t;t=null,o&&(!i||o===i)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class hv extends vt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Ve(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new G;const t=this.getSubject();e.add(this.source.subscribe(ve(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=G.EMPTY)}return e}refCount(){return pv()(this)}}function pi(n,e){return q((t,r)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&r.complete();t.subscribe(ve(r,u=>{o?.unsubscribe();let f=0;const m=i++;Nn(n(u,m)).subscribe(o=ve(r,_=>r.next(e?e(u,_,m,f++):_),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Ms(n){return n<=0?()=>qr:q((e,t)=>{let r=0;e.subscribe(ve(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function K1(...n){const e=Jo(n);return q((t,r)=>{(e?Ef(n,t,e):Ef(n,t)).subscribe(r)})}function rm(n){return q((e,t)=>{let r=!1;e.subscribe(ve(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function Y1(n=I$){return q((e,t)=>{let r=!1;e.subscribe(ve(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function I$(){return new tm}function il(n,e){const t=arguments.length>=2;return r=>r.pipe(n?fi((o,i)=>n(o,i,r)):re,Ms(1),t?rm(e):Y1(()=>new tm))}function hi(n,e,t){const r=I(n)||e||t?{next:n,error:e,complete:t}:n;return r?q((o,i)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;o.subscribe(ve(i,u=>{var f;null===(f=r.next)||void 0===f||f.call(r,u),i.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),i.complete()},u=>{var f;a=!1,null===(f=r.error)||void 0===f||f.call(r,u),i.error(u)},()=>{var u,f;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(f=r.finalize)||void 0===f||f.call(r)}))}):re}function sl(n){return q((e,t)=>{let i,r=null,o=!1;r=e.subscribe(ve(t,void 0,void 0,s=>{i=Nn(n(s,sl(n)(e))),r?(r.unsubscribe(),r=null,i.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(t))})}function k$(n,e,t,r,o){return(i,s)=>{let a=t,u=e,f=0;i.subscribe(ve(s,m=>{const _=f++;u=a?n(u,m,_):(a=!0,m),r&&s.next(u)},o&&(()=>{a&&s.next(u),s.complete()})))}}function X1(n,e){return q(k$(n,e,arguments.length>=2,!0))}function mv(n){return n<=0?()=>qr:q((e,t)=>{let r=[];e.subscribe(ve(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function Q1(n,e){const t=arguments.length>=2;return r=>r.pipe(n?fi((o,i)=>n(o,i,r)):re,mv(1),t?rm(e):Y1(()=>new tm))}function gv(n){return Re(()=>n)}function yv(n){return q((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const $n="primary",Df=Symbol("RouteTitle");class T${constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function xu(n){return new T$(n)}function A$(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let i=0;i<r.length;i++){const s=r[i],a=n[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Sa(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let i=0;i<t.length;i++)if(o=t[i],!J1(n[o],e[o]))return!1;return!0}function J1(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,i)=>r[i]===o)}return n===e}function eI(n){return Array.prototype.concat.apply([],n)}function tI(n){return n.length>0?n[n.length-1]:null}function mi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ll(n){return Dy(n)?n:Zd(n)?ar(Promise.resolve(n)):yn(n)}const om=!1,R$={exact:function oI(n,e,t){if(!Cc(n.segments,e.segments)||!im(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!oI(n.children[r],e.children[r],t))return!1;return!0},subset:iI},nI={exact:function P$(n,e){return Sa(n,e)},subset:function F$(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>J1(n[t],e[t]))},ignored:()=>!0};function rI(n,e,t){return R$[t.paths](n.root,e.root,t.matrixParams)&&nI[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function iI(n,e,t){return sI(n,e,e.segments,t)}function sI(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!Cc(o,t)||e.hasChildren()||!im(o,t,r))}if(n.segments.length===t.length){if(!Cc(n.segments,t)||!im(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!iI(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),i=t.slice(n.segments.length);return!!(Cc(n.segments,o)&&im(n.segments,o,r)&&n.children[$n])&&sI(n.children[$n],e,i,r)}}function im(n,e,t){return e.every((r,o)=>nI[t](n[o].parameters,r.parameters))}class wc{constructor(e=new Kn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xu(this.queryParams)),this._queryParamMap}toString(){return L$.serialize(this)}}class Kn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,mi(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sm(this)}}class If{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=xu(this.parameters)),this._parameterMap}toString(){return cI(this)}}function Cc(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Ru=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:function(){return new _v},providedIn:"root"}),n})();class _v{parse(e){const t=new W$(e);return new wc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${kf(e.root,!0)}`,r=function V$(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${am(t)}=${am(o)}`).join("&"):`${am(t)}=${am(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function $$(n){return encodeURI(n)}(e.fragment)}`:""}`}}const L$=new _v;function sm(n){return n.segments.map(e=>cI(e)).join("/")}function kf(n,e){if(!n.hasChildren())return sm(n);if(e){const t=n.children[$n]?kf(n.children[$n],!1):"",r=[];return mi(n.children,(o,i)=>{i!==$n&&r.push(`${i}:${kf(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function N$(n,e){let t=[];return mi(n.children,(r,o)=>{o===$n&&(t=t.concat(e(r,o)))}),mi(n.children,(r,o)=>{o!==$n&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===$n?[kf(n.children[$n],!1)]:[`${o}:${kf(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[$n]?`${sm(n)}/${t[0]}`:`${sm(n)}/(${t.join("//")})`}}function aI(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function am(n){return aI(n).replace(/%3B/gi,";")}function vv(n){return aI(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lm(n){return decodeURIComponent(n)}function lI(n){return lm(n.replace(/\+/g,"%20"))}function cI(n){return`${vv(n.path)}${function B$(n){return Object.keys(n).map(e=>`;${vv(e)}=${vv(n[e])}`).join("")}(n.parameters)}`}const U$=/^[^\/()?;=#]+/;function cm(n){const e=n.match(U$);return e?e[0]:""}const j$=/^[^=?&#]+/,G$=/^[^&#]+/;class W${constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Kn([],{}):new Kn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[$n]=new Kn(e,t)),r}parseSegment(){const e=cm(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new xe(4009,om);return this.capture(e),new If(lm(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=cm(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=cm(this.remaining);o&&(r=o,this.capture(r))}e[lm(t)]=lm(r)}parseQueryParam(e){const t=function H$(n){const e=n.match(j$);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function z$(n){const e=n.match(G$);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const o=lI(t),i=lI(r);if(e.hasOwnProperty(o)){let s=e[o];Array.isArray(s)||(s=[s],e[o]=s),s.push(i)}else e[o]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=cm(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new xe(4010,om);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=$n);const s=this.parseChildren();t[i]=1===Object.keys(s).length?s[$n]:new Kn([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new xe(4011,om)}}function bv(n){return n.segments.length>0?new Kn([],{[$n]:n}):n}function um(n){const e={};for(const r of Object.keys(n.children)){const i=um(n.children[r]);(i.segments.length>0||i.hasChildren())&&(e[r]=i)}return function Z$(n){if(1===n.numberOfChildren&&n.children[$n]){const e=n.children[$n];return new Kn(n.segments.concat(e.segments),e.children)}return n}(new Kn(n.segments,e))}function Sc(n){return n instanceof wc}function Y$(n,e,t,r,o){if(0===t.length)return Pu(e.root,e.root,e.root,r,o);const i=function fI(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new dI(!0,0,n);let e=0,t=!1;const r=n.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return mi(i.outlets,(u,f)=>{a[f]="string"==typeof u?u.split("/"):u}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new dI(t,e,r)}(t);return i.toRoot()?Pu(e.root,e.root,new Kn([],{}),r,o):function s(u){const f=function Q$(n,e,t,r){if(n.isAbsolute)return new Fu(e.root,!0,0);if(-1===r)return new Fu(t,t===e.root,0);return function pI(n,e,t){let r=n,o=e,i=t;for(;i>o;){if(i-=o,r=r.parent,!r)throw new xe(4005,!1);o=r.segments.length}return new Fu(r,!1,o-i)}(t,r+(Mf(n.commands[0])?0:1),n.numberOfDoubleDots)}(i,e,n.snapshot?._urlSegment,u),m=f.processChildren?Ou(f.segmentGroup,f.index,i.commands):Cv(f.segmentGroup,f.index,i.commands);return Pu(e.root,f.segmentGroup,m,r,o)}(n.snapshot?._lastPathIndex)}function Mf(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Tf(n){return"object"==typeof n&&null!=n&&n.outlets}function Pu(n,e,t,r,o){let s,i={};r&&mi(r,(u,f)=>{i[f]=Array.isArray(u)?u.map(m=>`${m}`):`${u}`}),s=n===e?t:uI(n,e,t);const a=bv(um(s));return new wc(a,i,o)}function uI(n,e,t){const r={};return mi(n.children,(o,i)=>{r[i]=o===e?t:uI(o,e,t)}),new Kn(n.segments,r)}class dI{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Mf(r[0]))throw new xe(4003,!1);const o=r.find(Tf);if(o&&o!==tI(r))throw new xe(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Fu{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Cv(n,e,t){if(n||(n=new Kn([],{})),0===n.segments.length&&n.hasChildren())return Ou(n,e,t);const r=function e4(n,e,t){let r=0,o=e;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return i;const s=n.segments[o],a=t[r];if(Tf(a))break;const u=`${a}`,f=r<t.length-1?t[r+1]:null;if(o>0&&void 0===u)break;if(u&&f&&"object"==typeof f&&void 0===f.outlets){if(!mI(u,f,s))return i;r+=2}else{if(!mI(u,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const i=new Kn(n.segments.slice(0,r.pathIndex),{});return i.children[$n]=new Kn(n.segments.slice(r.pathIndex),n.children),Ou(i,0,o)}return r.match&&0===o.length?new Kn(n.segments,{}):r.match&&!n.hasChildren()?Sv(n,e,t):r.match?Ou(n,0,o):Sv(n,e,t)}function Ou(n,e,t){if(0===t.length)return new Kn(n.segments,{});{const r=function J$(n){return Tf(n[0])?n[0].outlets:{[$n]:n}}(t),o={};return!r[$n]&&n.children[$n]&&1===n.numberOfChildren&&0===n.children[$n].segments.length?Ou(n.children[$n],e,t):(mi(r,(i,s)=>{"string"==typeof i&&(i=[i]),null!==i&&(o[s]=Cv(n.children[s],e,i))}),mi(n.children,(i,s)=>{void 0===r[s]&&(o[s]=i)}),new Kn(n.segments,o))}}function Sv(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const i=t[o];if(Tf(i)){const u=t4(i.outlets);return new Kn(r,u)}if(0===o&&Mf(t[0])){r.push(new If(n.segments[e].path,hI(t[0]))),o++;continue}const s=Tf(i)?i.outlets[$n]:`${i}`,a=o<t.length-1?t[o+1]:null;s&&a&&Mf(a)?(r.push(new If(s,hI(a))),o+=2):(r.push(new If(s,{})),o++)}return new Kn(r,{})}function t4(n){const e={};return mi(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Sv(new Kn([],{}),0,t))}),e}function hI(n){const e={};return mi(n,(t,r)=>e[r]=`${t}`),e}function mI(n,e,t){return n==t.path&&Sa(e,t.parameters)}const Af="imperative";class Ea{constructor(e,t){this.id=e,this.url=t}}class dm extends Ea{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ec extends Ea{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fm extends Ea{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gI extends Ea{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=16}}class yI extends Ea{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class n4 extends Ea{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class r4 extends Ea{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class o4 extends Ea{constructor(e,t,r,o,i){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class i4 extends Ea{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class s4 extends Ea{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class a4{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class l4{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class c4{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class u4{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class d4{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class f4{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _I{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let h4=(()=>{class n{createUrlTree(t,r,o,i,s,a){return Y$(t||r.root,o,i,s,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})(),m4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:function(e){return h4.\u0275fac(e)},providedIn:"root"}),n})();class vI{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Ev(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Ev(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Dv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Dv(e,this._root).map(t=>t.value)}}function Ev(n,e){if(n===e.value)return e;for(const t of e.children){const r=Ev(n,t);if(r)return r}return null}function Dv(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Dv(n,t);if(r.length)return r.unshift(e),r}return[]}class al{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Nu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class bI extends vI{constructor(e,t){super(e),this.snapshot=t,Iv(this,e)}toString(){return this.snapshot.toString()}}function wI(n,e){const t=function g4(n,e){const s=new pm([],{},{},"",{},$n,e,null,n.root,-1,{});return new SI("",new al(s,[]))}(n,e),r=new ks([new If("",{})]),o=new ks({}),i=new ks({}),s=new ks({}),a=new ks(""),u=new ll(r,o,s,a,i,$n,e,t.root);return u.snapshot=t.root,new bI(new al(u,[]),t)}class ll{constructor(e,t,r,o,i,s,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.title=this.data?.pipe(Re(f=>f[Df]))??yn(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Re(e=>xu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Re(e=>xu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function CI(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],i=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(i.component)break;r--}}return function y4(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class pm{get title(){return this.data?.[Df]}constructor(e,t,r,o,i,s,a,u,f,m,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=u,this._urlSegment=f,this._lastPathIndex=m,this._resolve=_}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=xu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class SI extends vI{constructor(e,t){super(t),this.url=e,Iv(this,t)}toString(){return EI(this._root)}}function Iv(n,e){e.value._routerState=n,e.children.forEach(t=>Iv(n,t))}function EI(n){const e=n.children.length>0?` { ${n.children.map(EI).join(", ")} } `:"";return`${n.value}${e}`}function kv(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Sa(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Sa(e.params,t.params)||n.params.next(t.params),function x$(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Sa(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Sa(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Mv(n,e){const t=Sa(n.params,e.params)&&function O$(n,e){return Cc(n,e)&&n.every((t,r)=>Sa(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Mv(n.parent,e.parent))}function xf(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function v4(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return xf(n,r,o);return xf(n,r)})}(n,e,t);return new al(r,o)}{if(n.shouldAttach(e.value)){const i=n.retrieve(e.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>xf(n,a)),s}}const r=function b4(n){return new ll(new ks(n.url),new ks(n.params),new ks(n.queryParams),new ks(n.fragment),new ks(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(i=>xf(n,i));return new al(r,o)}}const Tv="ngNavigationCancelingError";function DI(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Sc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=II(!1,0,e);return o.url=t,o.navigationBehaviorOptions=r,o}function II(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Tv]=!0,r.cancellationCode=e,t&&(r.url=t),r}function kI(n){return MI(n)&&Sc(n.url)}function MI(n){return n&&n[Tv]}class w4{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Dc,this.attachRef=null}}let Dc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new w4,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hm=!1;let TI=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=$n,this.activateEvents=new kn,this.deactivateEvents=new kn,this.attachEvents=new kn,this.detachEvents=new kn,this.parentContexts=_n(Dc),this.location=_n(Ai),this.changeDetector=_n(It),this.environmentInjector=_n(da)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new xe(4012,hm);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new xe(4012,hm);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new xe(4012,hm);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new xe(4013,hm);this._activatedRoute=t;const o=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new C4(t,a,o.injector);if(r&&function S4(n){return!!n.resolveComponentFactory}(r)){const f=r.resolveComponentFactory(s);this.activated=o.createComponent(f,o.length,u)}else this.activated=o.createComponent(s,{index:o.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Q({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[To]}),n})();class C4{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ll?this.route:e===Dc?this.childContexts:this.parent.get(e,t)}}let Av=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ye({type:n,selectors:[["ng-component"]],standalone:!0,features:[hS],decls:1,vars:0,template:function(t,r){1&t&&dt(0,"router-outlet")},dependencies:[TI],encapsulation:2}),n})();function AI(n,e){return n.providers&&!n._injector&&(n._injector=mh(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Rv(n){const e=n.children&&n.children.map(Rv),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==$n&&(t.component=Av),t}function Ls(n){return n.outlet||$n}function xI(n,e){const t=n.filter(r=>Ls(r)===e);return t.push(...n.filter(r=>Ls(r)!==e)),t}function Rf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class M4{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),kv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Nu(t);e.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),mi(o,(i,s)=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(e,t,r){const o=e.value,i=t?t.value:null;if(o===i)if(o.component){const s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else i&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,i=Nu(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,i=Nu(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Nu(t);e.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new f4(i.value.snapshot))}),e.children.length&&this.forwardEvent(new u4(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,i=t?t.value:null;if(kv(o),o===i)if(o.component){const s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),kv(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Rf(o.snapshot),u=a?.get(za)??null;s.attachRef=null,s.route=o,s.resolver=u,s.injector=a,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class RI{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class mm{constructor(e,t){this.component=e,this.route=t}}function T4(n,e,t){const r=n._root;return Pf(r,e?e._root:null,t,[r.value])}function Lu(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function oa(n){return null!==_s(n)}(n)?e.get(n):n:r}function Pf(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=Nu(e);return n.children.forEach(s=>{(function x4(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const u=function R4(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Cc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Cc(n.url,e.url)||!Sa(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mv(n,e)||!Sa(n.queryParams,e.queryParams);default:return!Mv(n,e)}}(s,i,i.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new RI(r)):(i.data=s.data,i._resolvedData=s._resolvedData),Pf(n,e,i.component?a?a.children:null:t,r,o),u&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new mm(a.outlet.component,s))}else s&&Ff(e,a,o),o.canActivateChecks.push(new RI(r)),Pf(n,null,i.component?a?a.children:null:t,r,o)})(s,i[s.value.outlet],t,r.concat([s.value]),o),delete i[s.value.outlet]}),mi(i,(s,a)=>Ff(s,t.getContext(a),o)),o}function Ff(n,e,t){const r=Nu(n),o=n.value;mi(r,(i,s)=>{Ff(i,o.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new mm(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function Of(n){return"function"==typeof n}function Pv(n){return n instanceof tm||"EmptyError"===n?.name}const gm=Symbol("INITIAL_VALUE");function $u(){return pi(n=>Z1(n.map(e=>e.pipe(Ms(1),K1(gm)))).pipe(Re(e=>{for(const t of e)if(!0!==t){if(t===gm)return gm;if(!1===t||t instanceof wc)return t}return!0}),fi(e=>e!==gm),Ms(1)))}function PI(n){return function Ue(...n){return Qe(n)}(hi(e=>{if(Sc(e))throw DI(0,e)}),Re(e=>!0===e))}const Fv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function FI(n,e,t,r,o){const i=Ov(n,e,t);return i.matched?function K4(n,e,t,r){const o=e.canMatch;return o&&0!==o.length?yn(o.map(s=>{const a=Lu(s,n);return Ll(function $4(n){return n&&Of(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe($u(),PI()):yn(!0)}(r=AI(e,r),e,t).pipe(Re(s=>!0===s?i:{...Fv})):yn(i)}function Ov(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Fv}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||A$)(t,n,e);if(!o)return{...Fv};const i={};mi(o.posParams,(a,u)=>{i[u]=a.path});const s=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function ym(n,e,t,r){if(t.length>0&&function Q4(n,e,t){return t.some(r=>_m(n,e,r)&&Ls(r)!==$n)}(n,t,r)){const i=new Kn(e,function X4(n,e,t,r){const o={};o[$n]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const i of t)if(""===i.path&&Ls(i)!==$n){const s=new Kn([],{});s._sourceSegment=n,s._segmentIndexShift=e.length,o[Ls(i)]=s}return o}(n,e,r,new Kn(t,n.children)));return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===t.length&&function J4(n,e,t){return t.some(r=>_m(n,e,r))}(n,t,r)){const i=new Kn(n.segments,function Y4(n,e,t,r,o){const i={};for(const s of r)if(_m(n,t,s)&&!o[Ls(s)]){const a=new Kn([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,i[Ls(s)]=a}return{...o,...i}}(n,e,t,r,n.children));return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}const o=new Kn(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function _m(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function OI(n,e,t,r){return!!(Ls(n)===r||r!==$n&&_m(e,t,n))&&("**"===n.path||Ov(e,n,t).matched)}function NI(n,e,t){return 0===e.length&&!n.children[t]}const vm=!1;class bm{constructor(e){this.segmentGroup=e||null}}class LI{constructor(e){this.urlTree=e}}function Nf(n){return Au(new bm(n))}function $I(n){return Au(new LI(n))}class rB{constructor(e,t,r,o,i){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=i,this.allowRedirects=!0}apply(){const e=ym(this.urlTree.root,[],[],this.config).segmentGroup,t=new Kn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,$n).pipe(Re(i=>this.createUrlTree(um(i),this.urlTree.queryParams,this.urlTree.fragment))).pipe(sl(i=>{if(i instanceof LI)return this.allowRedirects=!1,this.match(i.urlTree);throw i instanceof bm?this.noMatchError(i):i}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,$n).pipe(Re(o=>this.createUrlTree(um(o),e.queryParams,e.fragment))).pipe(sl(o=>{throw o instanceof bm?this.noMatchError(o):o}))}noMatchError(e){return new xe(4002,vm)}createUrlTree(e,t,r){const o=bv(e);return new wc(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(Re(i=>new Kn([],i))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const i of Object.keys(r.children))"primary"===i?o.unshift(i):o.push(i);return ar(o).pipe(Rl(i=>{const s=r.children[i],a=xI(t,i);return this.expandSegmentGroup(e,a,s,i).pipe(Re(u=>({segment:u,outlet:i})))}),X1((i,s)=>(i[s.outlet]=s.segment,i),{}),Q1())}expandSegment(e,t,r,o,i,s){return ar(r).pipe(Rl(a=>this.expandSegmentAgainstRoute(e,t,r,a,o,i,s).pipe(sl(f=>{if(f instanceof bm)return yn(null);throw f}))),il(a=>!!a),sl((a,u)=>{if(Pv(a))return NI(t,o,i)?yn(new Kn([],{})):Nf(t);throw a}))}expandSegmentAgainstRoute(e,t,r,o,i,s,a){return OI(o,t,i,s)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,i,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s):Nf(t):Nf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const i=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?$I(i):this.lineralizeSegments(r,i).pipe(mr(s=>{const a=new Kn(s,{});return this.expandSegment(e,a,t,s,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s){const{matched:a,consumedSegments:u,remainingSegments:f,positionalParamSegments:m}=Ov(t,o,i);if(!a)return Nf(t);const _=this.applyRedirectCommands(u,o.redirectTo,m);return o.redirectTo.startsWith("/")?$I(_):this.lineralizeSegments(o,_).pipe(mr(k=>this.expandSegment(e,t,r,k.concat(f),s,!1)))}matchSegmentAgainstRoute(e,t,r,o,i){return"**"===r.path?(e=AI(r,e),r.loadChildren?(r._loadedRoutes?yn({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(Re(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new Kn(o,{})))):yn(new Kn(o,{}))):FI(t,r,o,e).pipe(pi(({matched:s,consumedSegments:a,remainingSegments:u})=>s?this.getChildConfig(e=r._injector??e,r,o).pipe(mr(m=>{const _=m.injector??e,k=m.routes,{segmentGroup:T,slicedSegments:X}=ym(t,a,u,k),Ae=new Kn(T.segments,T.children);if(0===X.length&&Ae.hasChildren())return this.expandChildren(_,k,Ae).pipe(Re(Ne=>new Kn(a,Ne)));if(0===k.length&&0===X.length)return yn(new Kn(a,{}));const Ze=Ls(r)===i;return this.expandSegment(_,Ae,k,X,Ze?$n:i,!0).pipe(Re(Ct=>new Kn(a.concat(Ct.segments),Ct.children)))})):Nf(t)))}getChildConfig(e,t,r){return t.children?yn({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?yn({routes:t._loadedRoutes,injector:t._loadedInjector}):function q4(n,e,t,r){const o=e.canLoad;return void 0===o||0===o.length?yn(!0):yn(o.map(s=>{const a=Lu(s,n);return Ll(function F4(n){return n&&Of(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe($u(),PI())}(e,t,r).pipe(mr(o=>o?this.configLoader.loadChildren(e,t).pipe(hi(i=>{t._loadedRoutes=i.routes,t._loadedInjector=i.injector})):function tB(n){return Au(II(vm,3))}())):yn({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return yn(r);if(o.numberOfChildren>1||!o.children[$n])return Au(new xe(4e3,vm));o=o.children[$n]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,o){const i=this.createSegmentGroup(e,t.root,r,o);return new wc(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return mi(e,(o,i)=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,o){const i=this.createSegments(e,t.segments,r,o);let s={};return mi(t.children,(a,u)=>{s[u]=this.createSegmentGroup(e,a,r,o)}),new Kn(i,s)}createSegments(e,t,r,o){return t.map(i=>i.path.startsWith(":")?this.findPosParam(e,i,o):this.findOrReturn(i,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new xe(4001,vm);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}class iB{}class lB{constructor(e,t,r,o,i,s,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=o,this.url=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a}recognize(){const e=ym(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,$n).pipe(Re(t=>{if(null===t)return null;const r=new pm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},$n,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new al(r,t),i=new SI(this.url,o);return this.inheritParamsAndData(i._root),i}))}inheritParamsAndData(e){const t=e.value,r=CI(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,o)}processChildren(e,t,r){return ar(Object.keys(r.children)).pipe(Rl(o=>{const i=r.children[o],s=xI(t,o);return this.processSegmentGroup(e,s,i,o)}),X1((o,i)=>o&&i?(o.push(...i),o):null),function M$(n,e=!1){return q((t,r)=>{let o=0;t.subscribe(ve(r,i=>{const s=n(i,o++);(s||e)&&r.next(i),!s&&r.complete()}))})}(o=>null!==o),rm(null),Q1(),Re(o=>{if(null===o)return null;const i=VI(o);return function cB(n){n.sort((e,t)=>e.value.outlet===$n?-1:t.value.outlet===$n?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}))}processSegment(e,t,r,o,i){return ar(t).pipe(Rl(s=>this.processSegmentAgainstRoute(s._injector??e,s,r,o,i)),il(s=>!!s),sl(s=>{if(Pv(s))return NI(r,o,i)?yn([]):yn(null);throw s}))}processSegmentAgainstRoute(e,t,r,o,i){if(t.redirectTo||!OI(t,r,o,i))return yn(null);let s;if("**"===t.path){const a=o.length>0?tI(o).parameters:{},u=jI(r)+o.length;s=yn({snapshot:new pm(o,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,HI(t),Ls(t),t.component??t._loadedComponent??null,t,UI(r),u,GI(t)),consumedSegments:[],remainingSegments:[]})}else s=FI(r,t,o,e).pipe(Re(({matched:a,consumedSegments:u,remainingSegments:f,parameters:m})=>{if(!a)return null;const _=jI(r)+u.length;return{snapshot:new pm(u,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,HI(t),Ls(t),t.component??t._loadedComponent??null,t,UI(r),_,GI(t)),consumedSegments:u,remainingSegments:f}}));return s.pipe(pi(a=>{if(null===a)return yn(null);const{snapshot:u,consumedSegments:f,remainingSegments:m}=a;e=t._injector??e;const _=t._loadedInjector??e,k=function uB(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:T,slicedSegments:X}=ym(r,f,m,k.filter(Ze=>void 0===Ze.redirectTo));if(0===X.length&&T.hasChildren())return this.processChildren(_,k,T).pipe(Re(Ze=>null===Ze?null:[new al(u,Ze)]));if(0===k.length&&0===X.length)return yn([new al(u,[])]);const Ae=Ls(t)===i;return this.processSegment(_,k,T,X,Ae?$n:i).pipe(Re(Ze=>null===Ze?null:[new al(u,Ze)]))}))}}function dB(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function VI(n){const e=[],t=new Set;for(const r of n){if(!dB(r)){e.push(r);continue}const o=e.find(i=>r.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=VI(r.children);e.push(new al(r.value,o))}return e.filter(r=>!t.has(r))}function UI(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function jI(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function HI(n){return n.data||{}}function GI(n){return n.resolve||{}}function zI(n){return"string"==typeof n.title||null===n.title}function Nv(n){return pi(e=>{const t=n(e);return t?ar(t).pipe(Re(()=>e)):yn(e)})}const Bu=new on("ROUTES");let Lv=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return yn(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Ll(t.loadComponent()).pipe(Re(ZI),hi(i=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=i}),yv(()=>{this.componentLoaders.delete(t)})),o=new hv(r,()=>new nt).pipe(pv());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return yn({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const i=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Re(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,f,m=!1;Array.isArray(a)?f=a:(u=a.create(t).injector,f=eI(u.get(Bu,[],kt.Self|kt.Optional)));return{routes:f.map(Rv),injector:u}}),yv(()=>{this.childrenLoaders.delete(r)})),s=new hv(i,()=>new nt).pipe(pv());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(t){return Ll(t()).pipe(Re(ZI),mr(o=>o instanceof fS||Array.isArray(o)?yn(o):ar(this.compiler.compileModuleAsync(o))))}}return n.\u0275fac=function(t){return new(t||n)(ne(oo),ne(tE))},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ZI(n){return function bB(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Cm=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new nt,this.configLoader=_n(Lv),this.environmentInjector=_n(da),this.urlSerializer=_n(Ru),this.rootContexts=_n(Dc),this.navigationId=0,this.afterPreactivation=()=>yn(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new l4(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new a4(o))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new ks({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Af,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(fi(r=>0!==r.id),Re(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),pi(r=>{let o=!1,i=!1;return yn(r).pipe(hi(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),pi(s=>{const a=t.browserUrlTree.toString(),u=!t.navigated||s.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!u&&"reload"!==(s.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const m="";return this.events.next(new gI(s.id,t.serializeUrl(r.rawUrl),m,0)),t.rawUrlTree=s.rawUrl,s.resolve(null),qr}if(t.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return qI(s.source)&&(t.browserUrlTree=s.extractedUrl),yn(s).pipe(pi(m=>{const _=this.transitions?.getValue();return this.events.next(new dm(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),_!==this.transitions?.getValue()?qr:Promise.resolve(m)}),function oB(n,e,t,r){return pi(o=>function nB(n,e,t,r,o){return new rB(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe(Re(i=>({...o,urlAfterRedirects:i}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),hi(m=>{this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects},r.urlAfterRedirects=m.urlAfterRedirects}),function pB(n,e,t,r,o){return mr(i=>function aB(n,e,t,r,o,i,s="emptyOnly"){return new lB(n,e,t,r,o,s,i).recognize().pipe(pi(a=>null===a?function sB(n){return new vt(e=>e.error(n))}(new iB):yn(a)))}(n,e,t,i.urlAfterRedirects,r.serialize(i.urlAfterRedirects),r,o).pipe(Re(s=>({...i,targetSnapshot:s}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),hi(m=>{if(r.targetSnapshot=m.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!m.extras.skipLocationChange){const k=t.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl);t.setBrowserUrl(k,m)}t.browserUrlTree=m.urlAfterRedirects}const _=new n4(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}));if(u&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:m,extractedUrl:_,source:k,restoredState:T,extras:X}=s,Ae=new dm(m,this.urlSerializer.serialize(_),k,T);this.events.next(Ae);const Ze=wI(_,this.rootComponentType).snapshot;return yn(r={...s,targetSnapshot:Ze,urlAfterRedirects:_,extras:{...X,skipLocationChange:!1,replaceUrl:!1}})}{const m="";return this.events.next(new gI(s.id,t.serializeUrl(r.extractedUrl),m,1)),t.rawUrlTree=s.rawUrl,s.resolve(null),qr}}),hi(s=>{const a=new r4(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Re(s=>r={...s,guards:T4(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function V4(n,e){return mr(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=t;return 0===s.length&&0===i.length?yn({...t,guardsResult:!0}):function U4(n,e,t,r){return ar(n).pipe(mr(o=>function Z4(n,e,t,r,o){const i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return i&&0!==i.length?yn(i.map(a=>{const u=Rf(e)??o,f=Lu(a,u);return Ll(function L4(n){return n&&Of(n.canDeactivate)}(f)?f.canDeactivate(n,e,t,r):u.runInContext(()=>f(n,e,t,r))).pipe(il())})).pipe($u()):yn(!0)}(o.component,o.route,t,e,r)),il(o=>!0!==o,!0))}(s,r,o,n).pipe(mr(a=>a&&function P4(n){return"boolean"==typeof n}(a)?function j4(n,e,t,r){return ar(e).pipe(Rl(o=>Ef(function G4(n,e){return null!==n&&e&&e(new c4(n)),yn(!0)}(o.route.parent,r),function H4(n,e){return null!==n&&e&&e(new d4(n)),yn(!0)}(o.route,r),function W4(n,e,t){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(s=>function A4(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>nm(()=>yn(s.guards.map(u=>{const f=Rf(s.node)??t,m=Lu(u,f);return Ll(function N4(n){return n&&Of(n.canActivateChild)}(m)?m.canActivateChild(r,n):f.runInContext(()=>m(r,n))).pipe(il())})).pipe($u())));return yn(i).pipe($u())}(n,o.path,t),function z4(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return yn(!0);const o=r.map(i=>nm(()=>{const s=Rf(e)??t,a=Lu(i,s);return Ll(function O4(n){return n&&Of(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(il())}));return yn(o).pipe($u())}(n,o.route,t))),il(o=>!0!==o,!0))}(r,i,n,e):yn(a)),Re(a=>({...t,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),hi(s=>{if(r.guardsResult=s.guardsResult,Sc(s.guardsResult))throw DI(0,s.guardsResult);const a=new o4(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),fi(s=>!!s.guardsResult||(t.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),Nv(s=>{if(s.guards.canActivateChecks.length)return yn(s).pipe(hi(a=>{const u=new i4(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),pi(a=>{let u=!1;return yn(a).pipe(function hB(n,e){return mr(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return yn(t);let i=0;return ar(o).pipe(Rl(s=>function mB(n,e,t,r){const o=n.routeConfig,i=n._resolve;return void 0!==o?.title&&!zI(o)&&(i[Df]=o.title),function gB(n,e,t,r){const o=function yB(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return yn({});const i={};return ar(o).pipe(mr(s=>function _B(n,e,t,r){const o=Rf(e)??r,i=Lu(n,o);return Ll(i.resolve?i.resolve(e,t):o.runInContext(()=>i(e,t)))}(n[s],e,t,r).pipe(il(),hi(a=>{i[s]=a}))),mv(1),gv(i),sl(s=>Pv(s)?qr:Au(s)))}(i,n,e,r).pipe(Re(s=>(n._resolvedData=s,n.data=CI(n,t).resolve,o&&zI(o)&&(n.data[Df]=o.title),null)))}(s.route,r,n,e)),hi(()=>i++),mv(1),mr(s=>i===o.length?yn(t):qr))})}(t.paramsInheritanceStrategy,this.environmentInjector),hi({next:()=>u=!0,complete:()=>{u||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),hi(a=>{const u=new s4(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Nv(s=>{const a=u=>{const f=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(u.routeConfig).pipe(hi(m=>{u.component=m}),Re(()=>{})));for(const m of u.children)f.push(...a(m));return f};return Z1(a(s.targetSnapshot.root)).pipe(rm(),Ms(1))}),Nv(()=>this.afterPreactivation()),Re(s=>{const a=function _4(n,e,t){const r=xf(n,e._root,t?t._root:void 0);return new bI(r,e)}(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return r={...s,targetRouterState:a}}),hi(s=>{t.currentUrlTree=s.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),t.routerState=s.targetRouterState,"deferred"===t.urlUpdateStrategy&&(s.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,s),t.browserUrlTree=s.urlAfterRedirects)}),((n,e,t)=>Re(r=>(new M4(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s)),hi({next:s=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Ec(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{o=!0}}),yv(()=>{o||i||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),sl(s=>{if(i=!0,MI(s)){kI(s)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new fm(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode);if(this.events.next(a),kI(s)){const u=t.urlHandlingStrategy.merge(s.url,t.rawUrlTree),f={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||qI(r.source)};t.scheduleNavigation(u,Af,null,f,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new yI(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(s))}catch(u){r.reject(u)}}return qr}))}))}cancelNavigationTransition(t,r,o){const i=new fm(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(i),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qI(n){return n!==Af}let KI=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===$n);return r}getResolvedTitleForRoute(t){return t.data[Df]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:function(){return _n(wB)},providedIn:"root"}),n})(),wB=(()=>{class n extends KI{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(ne(wD))},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:function(){return _n(SB)},providedIn:"root"}),n})();class CB{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let SB=(()=>{class n extends CB{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ri(n)))(r||n)}}(),n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Sm=new on("",{providedIn:"root",factory:()=>({})});let DB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:function(){return _n(IB)},providedIn:"root"}),n})(),IB=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function kB(n){throw n}function MB(n,e,t){return e.parse("/")}const TB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},AB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Fo=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=_n(x2),this.isNgZoneEnabled=!1,this.options=_n(Sm,{optional:!0})||{},this.errorHandler=this.options.errorHandler||kB,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||MB,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=_n(DB),this.routeReuseStrategy=_n(YI),this.urlCreationStrategy=_n(m4),this.titleStrategy=_n(KI),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=eI(_n(Bu,{optional:!0})??[]),this.navigationTransitions=_n(Cm),this.urlSerializer=_n(Ru),this.location=_n(uf),this.isNgZoneEnabled=_n(pt)instanceof pt&&pt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new wc,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=wI(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Af,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,o){const i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){const u={...o};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(i.state=u)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Rv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,f=u?this.currentUrlTree.fragment:s;let m=null;switch(a){case"merge":m={...this.currentUrlTree.queryParams,...i};break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=i||null}return null!==m&&(m=this.removeEmptyProps(m)),this.urlCreationStrategy.createUrlTree(o,this.routerState,this.currentUrlTree,t,m,f??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Sc(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,Af,null,r)}navigate(t,r={skipLocationChange:!1}){return function xB(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new xe(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...TB}:!1===r?{...AB}:r,Sc(t))return rI(this.currentUrlTree,t,o);const i=this.parseUrl(t);return rI(this.currentUrlTree,i,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const i=t[o];return null!=i&&(r[o]=i),r},{})}scheduleNavigation(t,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,u,f,m;return s?(a=s.resolve,u=s.reject,f=s.promise):f=new Promise((_,k)=>{a=_,u=k}),m="computed"===this.canceledNavigationResolution?o&&o.\u0275routerPageId?o.\u0275routerPageId:i.replaceUrl||i.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:m,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:i,resolve:a,reject:u,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(_=>Promise.reject(_))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),i={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",i):this.location.go(o,"",i)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===o?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class QI{}let FB=(()=>{class n{preload(t,r){return r().pipe(sl(()=>yn(null)))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),OB=(()=>{class n{constructor(t,r,o,i,s){this.router=t,this.injector=o,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(fi(t=>t instanceof Ec),Rl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const i of r){i.providers&&!i._injector&&(i._injector=mh(i.providers,t,`Route: ${i.path}`));const s=i._injector??t,a=i._loadedInjector??s;i.loadChildren&&!i._loadedRoutes&&void 0===i.canLoad||i.loadComponent&&!i._loadedComponent?o.push(this.preloadConfig(s,i)):(i.children||i._loadedRoutes)&&o.push(this.processRoutes(a,i.children??i._loadedRoutes))}return ar(o).pipe(Bo())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):yn(null);const i=o.pipe(mr(s=>null===s?yn(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?ar([i,this.loader.loadComponent(r)]).pipe(Bo()):i})}}return n.\u0275fac=function(t){return new(t||n)(ne(Fo),ne(tE),ne(da),ne(QI),ne(Lv))},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $v=new on("");let JI=(()=>{class n{constructor(t,r,o,i,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof dm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ec&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof _I&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new _I(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function _w(){throw new Error("invalid")}()},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})();function Ic(n,e){return{\u0275kind:n,\u0275providers:e}}function tk(){const n=_n(oo);return e=>{const t=n.get(Ml);if(e!==t.components[0])return;const r=n.get(Fo),o=n.get(nk);1===n.get(Vv)&&r.initialNavigation(),n.get(rk,null,kt.Optional)?.setUpPreloading(),n.get($v,null,kt.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.unsubscribe())}}const nk=new on("",{factory:()=>new nt}),Vv=new on("",{providedIn:"root",factory:()=>1});const rk=new on("");function VB(n){return Ic(0,[{provide:rk,useExisting:OB},{provide:QI,useExisting:n}])}const ok=new on("ROUTER_FORROOT_GUARD"),UB=[uf,{provide:Ru,useClass:_v},Fo,Dc,{provide:ll,useFactory:function ek(n){return n.routerState.root},deps:[Fo]},Lv,[]];function jB(){return new lE("Router",Fo)}let Em=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[UB,[],{provide:Bu,multi:!0,useValue:t},{provide:ok,useFactory:WB,deps:[[Fo,new xd,new Rd]]},{provide:Sm,useValue:r||{}},r?.useHash?{provide:ba,useClass:RE}:{provide:ba,useClass:xE},{provide:$v,useFactory:()=>{const n=_n(FN),e=_n(pt),t=_n(Sm),r=_n(Cm),o=_n(Ru);return t.scrollOffset&&n.setOffset(t.scrollOffset),new JI(o,r,n,e,t)}},r?.preloadingStrategy?VB(r.preloadingStrategy).\u0275providers:[],{provide:lE,multi:!0,useFactory:jB},r?.initialNavigation?ZB(r):[],[{provide:ik,useFactory:tk},{provide:eE,multi:!0,useExisting:ik}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Bu,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(ne(ok,8))},n.\u0275mod=b({type:n}),n.\u0275inj=gr({imports:[Av]}),n})();function WB(n){return"guarded"}function ZB(n){return["disabled"===n.initialNavigation?Ic(3,[{provide:mc,multi:!0,useFactory:()=>{const e=_n(Fo);return()=>{e.setUpLocationChangeListener()}}},{provide:Vv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ic(2,[{provide:Vv,useValue:0},{provide:mc,multi:!0,deps:[oo],useFactory:e=>{const t=e.get(gO,Promise.resolve());return()=>t.then(()=>new Promise(o=>{const i=e.get(Fo),s=e.get(nk);(function r(o){e.get(Fo).events.pipe(fi(s=>s instanceof Ec||s instanceof fm||s instanceof yI),Re(s=>s instanceof Ec||s instanceof fm&&(0===s.code||1===s.code)&&null),fi(s=>null!==s),Ms(1)).subscribe(()=>{o()})})(()=>{o(!0)}),e.get(Cm).afterPreactivation=()=>(o(!0),s.closed?yn(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const ik=new on("");x(5933),x(9078),x(4199),x(8759);var Uv=x(5823),Uu=x(9259),Bf=x(919),Vf=(x(7351),x(7580)),sk=(x(2286),x(6379),x(1559));function lk(n,e=re){return n=n??YB,q((t,r)=>{let o,i=!0;t.subscribe(ve(r,s=>{const a=e(s);(i||!n(o,a))&&(i=!1,o=a,r.next(s))}))})}function YB(n,e){return n===e}const QB=Uv.i,Lt=["*"],tV=["outlet"],nV=[[["","slot","top"]],"*"],rV=["[slot=top]","*"],ck=n=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(n):"function"==typeof requestAnimationFrame?requestAnimationFrame(n):setTimeout(n),uk=n=>!!n.resolveComponentFactory;let Uf=(()=>{class n{constructor(t,r){this.injector=t,this.el=r,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(t){this.el.nativeElement.value=this.lastValue=t??"",ju(this.el)}handleChangeEvent(t,r){t===this.el.nativeElement&&(r!==this.lastValue&&(this.lastValue=r,this.onChange(r)),ju(this.el))}_handleBlurEvent(t){t===this.el.nativeElement&&(this.onTouched(),ju(this.el))}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.el.nativeElement.disabled=t}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let t;try{t=this.injector.get(tl)}catch{}if(!t)return;t.statusChanges&&(this.statusChanges=t.statusChanges.subscribe(()=>ju(this.el)));const r=t.control;r&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(i=>{if(typeof r[i]<"u"){const s=r[i].bind(r);r[i]=(...a)=>{s(...a),ju(this.el)}}})}}return n.\u0275fac=function(t){return new(t||n)(C(oo),C(_t))},n.\u0275dir=Q({type:n,hostBindings:function(t,r){1&t&&lt("ionBlur",function(i){return r._handleBlurEvent(i.target)})}}),n})();const ju=n=>{ck(()=>{const e=n.nativeElement,t=null!=e.value&&e.value.toString().length>0,r=sV(e);jv(e,r);const o=e.closest("ion-item");o&&jv(o,t?[...r,"item-has-value"]:r)})},sV=n=>{const e=n.classList,t=[];for(let r=0;r<e.length;r++){const o=e.item(r);null!==o&&aV(o,"ng-")&&t.push(`ion-${o.substring(3)}`)}return t},jv=(n,e)=>{const t=n.classList;t.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),t.add(...e)},aV=(n,e)=>n.substring(0,e.length)===e;let Hu=(()=>{class n extends Uf{constructor(t,r){super(t,r)}writeValue(t){this.el.nativeElement.checked=this.lastValue=t??!1,ju(this.el)}_handleIonChange(t){this.handleChangeEvent(t,t.checked)}}return n.\u0275fac=function(t){return new(t||n)(C(oo),C(_t))},n.\u0275dir=Q({type:n,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(t,r){1&t&&lt("ionChange",function(i){return r._handleIonChange(i.target)})},features:[Sr([{provide:Vi,useExisting:n,multi:!0}]),ur]}),n})(),jf=(()=>{class n extends Uf{constructor(t,r){super(t,r)}_handleChangeEvent(t){this.handleChangeEvent(t,t.value)}}return n.\u0275fac=function(t){return new(t||n)(C(oo),C(_t))},n.\u0275dir=Q({type:n,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(t,r){1&t&&lt("ionChange",function(i){return r._handleChangeEvent(i.target)})},features:[Sr([{provide:Vi,useExisting:n,multi:!0}]),ur]}),n})(),cl=(()=>{class n extends Uf{constructor(t,r){super(t,r)}_handleInputEvent(t){this.handleChangeEvent(t,t.value)}}return n.\u0275fac=function(t){return new(t||n)(C(oo),C(_t))},n.\u0275dir=Q({type:n,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(t,r){1&t&&lt("ionChange",function(i){return r._handleInputEvent(i.target)})},features:[Sr([{provide:Vi,useExisting:n,multi:!0}]),ur]}),n})();const uV=(n,e)=>{const t=n.prototype;e.forEach(r=>{Object.defineProperty(t,r,{get(){return this.el[r]},set(o){this.z.runOutsideAngular(()=>this.el[r]=o)}})})},dV=(n,e)=>{const t=n.prototype;e.forEach(r=>{t[r]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,o))}})},yr=(n,e,t)=>{t.forEach(r=>n[r]=Sf(e,r))};function Ot(n){return function(t){const{defineCustomElementFn:r,inputs:o,methods:i}=n;return void 0!==r&&r(),o&&uV(t,o),i&&dV(t,i),t}}let dk=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(_t),C(pt))},n.\u0275cmp=Ye({type:n,selectors:[["ion-app"]],ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),xt(0))},encapsulation:2,changeDetection:0}),n=z([Ot({defineCustomElementFn:void 0})],n),n})(),fk=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(_t),C(pt))},n.\u0275cmp=Ye({type:n,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),xt(0))},encapsulation:2,changeDetection:0}),n=z([Ot({defineCustomElementFn:void 0,inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],n),n})(),ji=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,yr(this,this.el,["ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(_t),C(pt))},n.\u0275cmp=Ye({type:n,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),xt(0))},encapsulation:2,changeDetection:0}),n=z([Ot({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],n),n})(),Hi=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(_t),C(pt))},n.\u0275cmp=Ye({type:n,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),xt(0))},encapsulation:2,changeDetection:0}),n=z([Ot({defineCustomElementFn:void 0,inputs:["collapse"]})],n),n})(),pk=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,yr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(_t),C(pt))},n.\u0275cmp=Ye({type:n,selectors:[["ion-checkbox"]],inputs:{checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",mode:"mode",name:"name",value:"value"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),xt(0))},encapsulation:2,changeDetection:0}),n=z([Ot({defineCustomElementFn:void 0,inputs:["checked","color","disabled","indeterminate","mode","name","value"]})],n),n})(),Gi=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,yr(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(_t),C(pt))},n.\u0275cmp=Ye({type:n,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),xt(0))},encapsulation:2,changeDetection:0}),n=z([Ot({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],n),n})(),zi=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(_t),C(pt))},n.\u0275cmp=Ye({type:n,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),xt(0))},encapsulation:2,changeDetection:0}),n=z([Ot({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],n),n})(),ai=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(_t),C(pt))},n.\u0275cmp=Ye({type:n,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),xt(0))},encapsulation:2,changeDetection:0}),n=z([Ot({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],n),n})(),ul=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,yr(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(_t),C(pt))},n.\u0275cmp=Ye({type:n,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),xt(0))},encapsulation:2,changeDetection:0}),n=z([Ot({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],n),n})(),Ko=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(_t),C(pt))},n.\u0275cmp=Ye({type:n,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),xt(0))},encapsulation:2,changeDetection:0}),n=z([Ot({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],n),n})(),Dm=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(_t),C(pt))},n.\u0275cmp=Ye({type:n,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),xt(0))},encapsulation:2,changeDetection:0}),n=z([Ot({defineCustomElementFn:void 0,inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],n),n})(),Im=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,yr(this,this.el,["ionSwipe"])}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(_t),C(pt))},n.\u0275cmp=Ye({type:n,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),xt(0))},encapsulation:2,changeDetection:0}),n=z([Ot({defineCustomElementFn:void 0,inputs:["side"]})],n),n})(),km=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,yr(this,this.el,["ionDrag"])}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(_t),C(pt))},n.\u0275cmp=Ye({type:n,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),xt(0))},encapsulation:2,changeDetection:0}),n=z([Ot({defineCustomElementFn:void 0,inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],n),n})(),Wi=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(_t),C(pt))},n.\u0275cmp=Ye({type:n,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),xt(0))},encapsulation:2,changeDetection:0}),n=z([Ot({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],n),n})(),Da=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(_t),C(pt))},n.\u0275cmp=Ye({type:n,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),xt(0))},encapsulation:2,changeDetection:0}),n=z([Ot({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],n),n})(),hk=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,yr(this,this.el,["ionNavWillChange","ionNavDidChange"])}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(_t),C(pt))},n.\u0275cmp=Ye({type:n,selectors:[["ion-nav"]],inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),xt(0))},encapsulation:2,changeDetection:0}),n=z([Ot({defineCustomElementFn:void 0,inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],n),n})(),Hv=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,yr(this,this.el,["ionChange","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(_t),C(pt))},n.\u0275cmp=Ye({type:n,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),xt(0))},encapsulation:2,changeDetection:0}),n=z([Ot({defineCustomElementFn:void 0,inputs:["activeBarStart","color","debounce","disabled","dualKnobs","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],n),n})(),Mm=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,yr(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(_t),C(pt))},n.\u0275cmp=Ye({type:n,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),xt(0))},encapsulation:2,changeDetection:0}),n=z([Ot({defineCustomElementFn:void 0,inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],n),n})(),Tm=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(_t),C(pt))},n.\u0275cmp=Ye({type:n,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),xt(0))},encapsulation:2,changeDetection:0}),n=z([Ot({defineCustomElementFn:void 0,inputs:["disabled","value"]})],n),n})(),Hf=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(_t),C(pt))},n.\u0275cmp=Ye({type:n,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),xt(0))},encapsulation:2,changeDetection:0}),n=z([Ot({defineCustomElementFn:void 0,inputs:["color","duration","name","paused"]})],n),n})(),Gv=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(_t),C(pt))},n.\u0275cmp=Ye({type:n,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),xt(0))},encapsulation:2,changeDetection:0}),n=z([Ot({defineCustomElementFn:void 0,inputs:["color","mode","selectedTab","translucent"]})],n),n})(),mk=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(_t),C(pt))},n.\u0275cmp=Ye({type:n,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),xt(0))},encapsulation:2,changeDetection:0}),n=z([Ot({defineCustomElementFn:void 0,inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],n),n})(),Zi=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(_t),C(pt))},n.\u0275cmp=Ye({type:n,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),xt(0))},encapsulation:2,changeDetection:0}),n=z([Ot({defineCustomElementFn:void 0,inputs:["color","size"]})],n),n})(),Gf=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,yr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(_t),C(pt))},n.\u0275cmp=Ye({type:n,selectors:[["ion-toggle"]],inputs:{checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",mode:"mode",name:"name",value:"value"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),xt(0))},encapsulation:2,changeDetection:0}),n=z([Ot({defineCustomElementFn:void 0,inputs:["checked","color","disabled","enableOnOffLabels","mode","name","value"]})],n),n})(),qi=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(It),C(_t),C(pt))},n.\u0275cmp=Ye({type:n,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),xt(0))},encapsulation:2,changeDetection:0}),n=z([Ot({defineCustomElementFn:void 0,inputs:["color","mode"]})],n),n})();class gk{constructor(e={}){this.data=e}get(e){return this.data[e]}}let Am=(()=>{class n{constructor(t,r){this.zone=t,this.appRef=r}create(t,r,o,i){return new cU(t,r,o,this.appRef,this.zone,i)}}return n.\u0275fac=function(t){return new(t||n)(ne(pt),ne(Ml))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})();class cU{constructor(e,t,r,o,i,s){this.resolverOrInjector=e,this.injector=t,this.location=r,this.appRef=o,this.zone=i,this.elementReferenceKey=s,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(e,t,r,o){return this.zone.run(()=>new Promise(i=>{const s=Object.assign({},r);void 0!==this.elementReferenceKey&&(s[this.elementReferenceKey]=e),i(uU(this.zone,this.resolverOrInjector,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,e,t,s,o))}))}removeViewFromDom(e,t){return this.zone.run(()=>new Promise(r=>{const o=this.elRefMap.get(t);if(o){o.destroy(),this.elRefMap.delete(t);const i=this.elEventsMap.get(t);i&&(i(),this.elEventsMap.delete(t))}r()}))}}const uU=(n,e,t,r,o,i,s,a,u,f,m)=>{let _;const k=oo.create({providers:fU(f),parent:t});if(e&&uk(e)){const Ze=e.resolveComponentFactory(u);_=r?r.createComponent(Ze,r.length,k):Ze.create(k)}else{if(!r)return null;_=r.createComponent(u,{index:r.indexOf,injector:k,environmentInjector:e})}const T=_.instance,X=_.location.nativeElement;if(f&&Object.assign(T,f),m)for(const Ze of m)X.classList.add(Ze);const Ae=yk(n,T,X);return a.appendChild(X),r||o.attachView(_.hostView),_.changeDetectorRef.reattach(),i.set(X,_),s.set(X,Ae),X},dU=[Bf.L,Bf.a,Bf.b,Bf.c,Bf.d],yk=(n,e,t)=>n.run(()=>{const r=dU.filter(o=>"function"==typeof e[o]).map(o=>{const i=s=>e[o](s.detail);return t.addEventListener(o,i),()=>t.removeEventListener(o,i)});return()=>r.forEach(o=>o())}),_k=new on("NavParamsToken"),fU=n=>[{provide:_k,useValue:n},{provide:gk,useFactory:pU,deps:[_k]}],pU=n=>new gk(n),vk=(n,e)=>((n=n.filter(t=>t.stackId!==e.stackId)).push(e),n),zv=(n,e)=>{const t=n.createUrlTree(["."],{relativeTo:e});return n.serializeUrl(t)},_U=(n,e)=>{if(!n)return;const t=bk(e);for(let r=0;r<t.length;r++){if(r>=n.length)return t[r];if(t[r]!==n[r])return}},bk=n=>n.split("/").map(e=>e.trim()).filter(e=>""!==e),wk=n=>{n&&(n.ref.destroy(),n.unlistenEvents())};class vU{constructor(e,t,r,o,i,s){this.containerEl=t,this.router=r,this.navCtrl=o,this.zone=i,this.location=s,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==e?bk(e):void 0}createView(e,t){var r;const o=zv(this.router,t),i=null===(r=e?.location)||void 0===r?void 0:r.nativeElement,s=yk(this.zone,e.instance,i);return{id:this.nextId++,stackId:_U(this.tabsPrefix,o),unlistenEvents:s,element:i,ref:e,url:o}}getExistingView(e){const t=zv(this.router,e),r=this.views.find(o=>o.url===t);return r&&r.ref.changeDetectorRef.reattach(),r}setActive(e){var t,r;const o=this.navCtrl.consumeTransition();let{direction:i,animation:s,animationBuilder:a}=o;const u=this.activeView,f=((n,e)=>!e||n.stackId!==e.stackId)(e,u);f&&(i="back",s=void 0);const m=this.views.slice();let _;const k=this.router;k.getCurrentNavigation?_=k.getCurrentNavigation():!(null===(t=k.navigations)||void 0===t)&&t.value&&(_=k.navigations.value),null!==(r=_?.extras)&&void 0!==r&&r.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const T=this.views.includes(e),X=this.insertView(e,i);T||e.ref.changeDetectorRef.detectChanges();const Ae=e.animationBuilder;return void 0===a&&"back"===i&&!f&&void 0!==Ae&&(a=Ae),u&&(u.animationBuilder=a),this.zone.runOutsideAngular(()=>this.wait(()=>(u&&u.ref.changeDetectorRef.detach(),e.ref.changeDetectorRef.reattach(),this.transition(e,u,s,this.canGoBack(1),!1,a).then(()=>bU(e,X,m,this.location,this.zone)).then(()=>({enteringView:e,direction:i,animation:s,tabSwitch:f})))))}canGoBack(e,t=this.getActiveStackId()){return this.getStack(t).length>e}pop(e,t=this.getActiveStackId()){return this.zone.run(()=>{var r,o;const i=this.getStack(t);if(i.length<=e)return Promise.resolve(!1);const s=i[i.length-e-1];let a=s.url;const u=s.savedData;if(u){const m=u.get("primary");null!==(o=null===(r=m?.route)||void 0===r?void 0:r._routerState)&&void 0!==o&&o.snapshot.url&&(a=m.route._routerState.snapshot.url)}const{animationBuilder:f}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(a,Object.assign(Object.assign({},s.savedExtras),{animation:f})).then(()=>!0)})}startBackTransition(){const e=this.activeView;if(e){const t=this.getStack(e.stackId),r=t[t.length-2],o=r.animationBuilder;return this.wait(()=>this.transition(r,e,"back",this.canGoBack(2),!0,o))}return Promise.resolve()}endBackTransition(e){e?(this.skipTransition=!0,this.pop(1)):this.activeView&&Ck(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(e){const t=this.getStack(e);return t.length>0?t[t.length-1]:void 0}getRootUrl(e){const t=this.getStack(e);return t.length>0?t[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(wk),this.activeView=void 0,this.views=[]}getStack(e){return this.views.filter(t=>t.stackId===e)}insertView(e,t){return this.activeView=e,this.views=((n,e,t)=>"root"===t?vk(n,e):"forward"===t?((n,e)=>(n.indexOf(e)>=0?n=n.filter(r=>r.stackId!==e.stackId||r.id<=e.id):n.push(e),n))(n,e):((n,e)=>n.indexOf(e)>=0?n.filter(r=>r.stackId!==e.stackId||r.id<=e.id):vk(n,e))(n,e))(this.views,e,t),this.views.slice()}transition(e,t,r,o,i,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(t===e)return Promise.resolve(!1);const a=e?e.element:void 0,u=t?t.element:void 0,f=this.containerEl;return a&&a!==u&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),a.parentElement!==f&&f.appendChild(a),f.commit)?f.commit(a,u,{deepWait:!0,duration:void 0===r?0:void 0,direction:r,showGoBack:o,progressAnimation:i,animationBuilder:s}):Promise.resolve(!1)}wait(e){return Rn(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const t=this.runningTask=e();return t.finally(()=>this.runningTask=void 0),t})}}const bU=(n,e,t,r,o)=>"function"==typeof requestAnimationFrame?new Promise(i=>{requestAnimationFrame(()=>{Ck(n,e,t,r,o),i()})}):Promise.resolve(),Ck=(n,e,t,r,o)=>{o.run(()=>t.filter(i=>!e.includes(i)).forEach(wk)),e.forEach(i=>{const a=r.path().split("?")[0].split("#")[0];if(i!==n&&i.url!==a){const u=i.element;u.setAttribute("aria-hidden","true"),u.classList.add("ion-page-hidden"),i.ref.changeDetectorRef.detach()}})};let Wv=(()=>{class n{get(t,r){const o=Zv();return o?o.get(t,r):null}getBoolean(t,r){const o=Zv();return!!o&&o.getBoolean(t,r)}getNumber(t,r){const o=Zv();return o?o.getNumber(t,r):0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Sk=new on("USERCONFIG"),Zv=()=>{if(typeof window<"u"){const n=window.Ionic;if(n?.config)return n.config}return null};let wU=(()=>{class n{constructor(t,r){this.doc=t,this.backButton=new nt,this.keyboardDidShow=new nt,this.keyboardDidHide=new nt,this.pause=new nt,this.resume=new nt,this.resize=new nt,r.run(()=>{var o;let i;this.win=t.defaultView,this.backButton.subscribeWithPriority=function(s,a){return this.subscribe(u=>u.register(s,f=>r.run(()=>a(f))))},Gu(this.pause,t,"pause"),Gu(this.resume,t,"resume"),Gu(this.backButton,t,"ionBackButton"),Gu(this.resize,this.win,"resize"),Gu(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Gu(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(s=>{i=s}),null!==(o=this.win)&&void 0!==o&&o.cordova?t.addEventListener("deviceready",()=>{i("cordova")},{once:!0}):i("dom")})}is(t){return(0,Uv.a)(this.win,t)}platforms(){return(0,Uv.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(t){return CU(this.win.location.href,t)}isLandscape(){return!this.isPortrait()}isPortrait(){var t,r;return null===(r=(t=this.win).matchMedia)||void 0===r?void 0:r.call(t,"(orientation: portrait)").matches}testUserAgent(t){const r=this.win.navigator;return!!(r?.userAgent&&r.userAgent.indexOf(t)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return n.\u0275fac=function(t){return new(t||n)(ne(Zo),ne(pt))},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const CU=(n,e)=>{e=e.replace(/[[\]\\]/g,"\\$&");const r=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(n);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null},Gu=(n,e,t)=>{e&&e.addEventListener(t,r=>{n.next(r?.detail)})};let zf=(()=>{class n{constructor(t,r,o,i){this.location=r,this.serializer=o,this.router=i,this.direction=Ek,this.animated=Dk,this.guessDirection="forward",this.lastNavId=-1,i&&i.events.subscribe(s=>{if(s instanceof dm){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=a<this.lastNavId?"back":"forward",this.guessAnimation=s.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?s.id:a}}),t.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(t,r={}){return this.setDirection("forward",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}navigateBack(t,r={}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}navigateRoot(t,r={}){return this.setDirection("root",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}back(t={animated:!0,animationDirection:"back"}){return this.setDirection("back",t.animated,t.animationDirection,t.animation),this.location.back()}pop(){return Rn(this,void 0,void 0,function*(){let t=this.topOutlet;for(;t&&!(yield t.pop());)t=t.parentOutlet})}setDirection(t,r,o,i){this.direction=t,this.animated=SU(t,r,o),this.animationBuilder=i}setTopOutlet(t){this.topOutlet=t}consumeTransition(){let r,t="root";const o=this.animationBuilder;return"auto"===this.direction?(t=this.guessDirection,r=this.guessAnimation):(r=this.animated,t=this.direction),this.direction=Ek,this.animated=Dk,this.animationBuilder=void 0,{direction:t,animation:r,animationBuilder:o}}navigate(t,r){if(Array.isArray(t))return this.router.navigate(t,r);{const o=this.serializer.parse(t.toString());return void 0!==r.queryParams&&(o.queryParams=Object.assign({},r.queryParams)),void 0!==r.fragment&&(o.fragment=r.fragment),this.router.navigateByUrl(o,r)}}}return n.\u0275fac=function(t){return new(t||n)(ne(wU),ne(uf),ne(Ru),ne(Fo,8))},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const SU=(n,e,t)=>{if(!1!==e){if(void 0!==t)return t;if("forward"===n||"back"===n)return n;if("root"===n&&!0===e)return"forward"}},Ek="auto",Dk=void 0;let Wf=(()=>{class n{constructor(t,r,o,i,s,a,u,f,m,_,k,T,X){this.parentContexts=t,this.location=r,this.config=s,this.navCtrl=a,this.componentFactoryResolver=u,this.parentOutlet=X,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new ks(null),this.stackEvents=new kn,this.activateEvents=new kn,this.deactivateEvents=new kn,this.nativeEl=m.nativeElement,this.name=o||$n,this.tabsPrefix="true"===i?zv(_,T):void 0,this.stackCtrl=new vU(this.tabsPrefix,this.nativeEl,_,a,k,f),t.onChildOutletCreated(this.name,this)}set animation(t){this.nativeEl.animation=t}set animated(t){this.nativeEl.animated=t}set swipeGesture(t){this._swipeGesture=t,this.nativeEl.swipeHandler=t?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:r=>this.stackCtrl.endBackTransition(r)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const t=this.getContext();t?.route&&this.activateWith(t.route,t.resolver||null)}new Promise(t=>(0,Uu.c)(this.nativeEl,t)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(t,r){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const r=this.getContext();this.activatedView.savedData=new Map(r.children.contexts);const o=this.activatedView.savedData.get("primary");if(o&&r.route&&(o.route=Object.assign({},r.route)),this.activatedView.savedExtras={},r.route){const i=r.route.snapshot;this.activatedView.savedExtras.queryParams=i.queryParams,this.activatedView.savedExtras.fragment=i.fragment}}const t=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){var o;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;let i,s=this.stackCtrl.getExistingView(t);if(s){i=this.activated=s.ref;const a=s.savedData;a&&(this.getContext().children.contexts=a),this.updateActivatedRouteProxy(i.instance,t)}else{const a=t._futureSnapshot;if(null==a.routeConfig.component&&null==this.environmentInjector)return void console.warn('[Ionic Warning]: You must supply an environmentInjector to use standalone components with routing:\n\nIn your component class, add:\n\n   import { EnvironmentInjector } from \'@angular/core\';\n   constructor(public environmentInjector: EnvironmentInjector) {}\n\nIn your router outlet template, add:\n\n   <ion-router-outlet [environmentInjector]="environmentInjector"></ion-router-outlet>\n\nAlternatively, if you are routing within ion-tabs:\n\n   <ion-tabs [environmentInjector]="environmentInjector"></ion-tabs>');const u=this.parentContexts.getOrCreateContext(this.name).children,f=new ks(null),m=this.createActivatedRouteProxy(f,t),_=new EU(m,u,this.location.injector),k=null!==(o=a.routeConfig.component)&&void 0!==o?o:a.component;if((r=r||this.componentFactoryResolver)&&uk(r)){const T=r.resolveComponentFactory(k);i=this.activated=this.location.createComponent(T,this.location.length,_)}else i=this.activated=this.location.createComponent(k,{index:this.location.length,injector:_,environmentInjector:r??this.environmentInjector});f.next(i.instance),s=this.stackCtrl.createView(this.activated,t),this.proxyMap.set(i.instance,m),this.currentActivatedRoute$.next({component:i.instance,activatedRoute:t})}this.activatedView=s,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(s).then(a=>{this.activateEvents.emit(i.instance),this.stackEvents.emit(a)})}canGoBack(t=1,r){return this.stackCtrl.canGoBack(t,r)}pop(t=1,r){return this.stackCtrl.pop(t,r)}getLastUrl(t){const r=this.stackCtrl.getLastUrl(t);return r?r.url:void 0}getLastRouteView(t){return this.stackCtrl.getLastUrl(t)}getRootView(t){return this.stackCtrl.getRootUrl(t)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(t,r){const o=new ll;return o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,o._paramMap=this.proxyObservable(t,"paramMap"),o._queryParamMap=this.proxyObservable(t,"queryParamMap"),o.url=this.proxyObservable(t,"url"),o.params=this.proxyObservable(t,"params"),o.queryParams=this.proxyObservable(t,"queryParams"),o.fragment=this.proxyObservable(t,"fragment"),o.data=this.proxyObservable(t,"data"),o}proxyObservable(t,r){return t.pipe(fi(o=>!!o),pi(o=>this.currentActivatedRoute$.pipe(fi(i=>null!==i&&i.component===o),pi(i=>i&&i.activatedRoute[r]),lk())))}updateActivatedRouteProxy(t,r){const o=this.proxyMap.get(t);if(!o)throw new Error("Could not find activated route proxy for view");o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,this.currentActivatedRoute$.next({component:t,activatedRoute:r})}}return n.\u0275fac=function(t){return new(t||n)(C(Dc),C(Ai),qc("name"),qc("tabs"),C(Wv),C(zf),C(za,8),C(uf),C(_t),C(Fo),C(pt),C(ll),C(n,12))},n.\u0275dir=Q({type:n,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",environmentInjector:"environmentInjector"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class EU{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ll?this.route:e===Dc?this.childContexts:this.parent.get(e,t)}}let Ik=(()=>{class n{constructor(t){this.navCtrl=t,this.ionTabsWillChange=new kn,this.ionTabsDidChange=new kn}onPageSelected(t){const r=t.enteringView.stackId;t.tabSwitch&&void 0!==r&&(this.ionTabsWillChange.emit({tab:r}),this.tabBar&&(this.tabBar.selectedTab=r),this.ionTabsDidChange.emit({tab:r}))}select(t){const r="string"==typeof t,o=r?t:t.detail.tab,i=this.outlet.getActiveStackId()===o,s=`${this.outlet.tabsPrefix}/${o}`;if(r||t.stopPropagation(),i){const a=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(a)?.url===s)return;const f=this.outlet.getRootView(o);return this.navCtrl.navigateRoot(s,Object.assign(Object.assign({},f&&s===f.url&&f.savedExtras),{animated:!0,animationDirection:"back"}))}{const a=this.outlet.getLastRouteView(o),f=a?.savedExtras;return this.navCtrl.navigateRoot(a?.url||s,Object.assign(Object.assign({},f),{animated:!0,animationDirection:"back"}))}}getSelected(){return this.outlet.getActiveStackId()}}return n.\u0275fac=function(t){return new(t||n)(C(zf))},n.\u0275cmp=Ye({type:n,selectors:[["ion-tabs"]],contentQueries:function(t,r,o){if(1&t&&function Il(n,e,t,r){const o=bn();if(o.firstCreatePass){const i=Ut();RS(o,new TS(e,t,r),i.index),function u2(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(o,n),2==(2&t)&&(o.staticContentQueries=!0)}xS(o,ct(),t)}(o,Gv,5),2&t){let i;Ds(i=Is())&&(r.tabBar=i.first)}},viewQuery:function(t,r){if(1&t&&wu(tV,5,Wf),2&t){let o;Ds(o=Is())&&(r.outlet=o.first)}},hostBindings:function(t,r){1&t&&lt("ionTabButtonClick",function(i){return r.select(i)})},inputs:{environmentInjector:"environmentInjector"},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:rV,decls:5,vars:1,consts:[[1,"tabs-inner"],["tabs","true",3,"environmentInjector","stackEvents"],["outlet",""]],template:function(t,r){1&t&&(Ft(nV),xt(0),ae(1,"div",0)(2,"ion-router-outlet",1,2),lt("stackEvents",function(i){return r.onPageSelected(i)}),ee()(),xt(4,1)),2&t&&(et(2),ot("environmentInjector",r.environmentInjector))},dependencies:[Wf],styles:["[_nghost-%COMP%] {\n        display: flex;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n\n        flex-direction: column;\n\n        width: 100%;\n        height: 100%;\n\n        contain: layout size style;\n        z-index: $z-index-page-container;\n      }\n      .tabs-inner[_ngcontent-%COMP%] {\n        position: relative;\n\n        flex: 1;\n\n        contain: layout size style;\n      }"]}),n})(),kk=(()=>{class n{constructor(t,r,o){this.routerOutlet=t,this.navCtrl=r,this.config=o}onClick(t){var r;const o=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(r=this.routerOutlet)&&void 0!==r&&r.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),t.preventDefault()):null!=o&&(this.navCtrl.navigateBack(o,{animation:this.routerAnimation}),t.preventDefault())}}return n.\u0275fac=function(t){return new(t||n)(C(Wf,8),C(zf),C(Wv))},n.\u0275dir=Q({type:n,selectors:[["ion-back-button"]],hostBindings:function(t,r){1&t&&lt("click",function(i){return r.onClick(i)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),n})(),Mk=(()=>{let n=class{constructor(t,r,o,i,s){this.el=t.nativeElement,t.nativeElement.delegate=i.create(r,o,s),yr(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return n.\u0275fac=function(t){return new(t||n)(C(_t),C(za),C(oo),C(Am),C(Ai))},n.\u0275dir=Q({type:n,selectors:[["ion-nav"]]}),n=z([Ot({inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],n),n})();class Zf{constructor(e){this.ctrl=e}create(e){return this.ctrl.create(e||{})}dismiss(e,t,r){return this.ctrl.dismiss(e,t,r)}getTop(){return this.ctrl.getTop()}}let qf=(()=>{class n extends Zf{constructor(){super(Vf.b)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zu=(()=>{class n extends Zf{constructor(){super(Vf.a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$l=(()=>{class n extends Zf{constructor(){super(Vf.l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Rk{}let ps=(()=>{class n extends Zf{constructor(t,r,o,i){super(Vf.m),this.angularDelegate=t,this.resolver=r,this.injector=o,this.environmentInjector=i}create(t){var r;return super.create(Object.assign(Object.assign({},t),{delegate:this.angularDelegate.create(null!==(r=this.resolver)&&void 0!==r?r:this.environmentInjector,this.injector,void 0,"modal")}))}}return n.\u0275fac=function(t){return new(t||n)(ne(Am),ne(za),ne(oo),ne(Rk,8))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})(),kc=(()=>{class n extends Zf{constructor(t,r,o,i){super(Vf.c),this.angularDelegate=t,this.resolver=r,this.injector=o,this.environmentInjector=i}create(t){var r;return super.create(Object.assign(Object.assign({},t),{delegate:this.angularDelegate.create(null!==(r=this.resolver)&&void 0!==r?r:this.environmentInjector,this.injector,void 0,"popover")}))}}return n.\u0275fac=function(t){return new(t||n)(ne(Am),ne(za),ne(oo),ne(Rk,8))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})();const RU=(n,e,t)=>()=>{if(e.defaultView&&typeof window<"u"){(n=>{const e=window,t=e.Ionic;t&&t.config&&"Object"!==t.config.constructor.name||(e.Ionic=e.Ionic||{},e.Ionic.config=Object.assign(Object.assign({},e.Ionic.config),n))})(Object.assign(Object.assign({},n),{_zoneGate:i=>t.run(i)}));const o="__zone_symbol__addEventListener"in e.body?"__zone_symbol__addEventListener":"addEventListener";return function XB(){var n=[];if(typeof window<"u"){var e=window;(!e.customElements||e.Element&&(!e.Element.prototype.closest||!e.Element.prototype.matches||!e.Element.prototype.remove||!e.Element.prototype.getRootNode))&&n.push(x.e(6748).then(x.t.bind(x,3314,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||e.NodeList&&!e.NodeList.prototype.forEach||!e.fetch||!function(){try{var r=new URL("b","http://a");return r.pathname="c%20d","http://a/c%20d"===r.href&&r.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&n.push(x.e(2214).then(x.t.bind(x,7320,23)))}return Promise.all(n)}().then(()=>((n,e)=>typeof window>"u"?Promise.resolve():(0,sk.p)().then(()=>(QB(),(0,sk.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"activated":[32]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),e))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:ck,jmp:i=>t.runOutsideAngular(i),ael(i,s,a,u){i[o](s,a,u)},rel(i,s,a,u){i.removeEventListener(s,a,u)}}))}};let Bl=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:Sk,useValue:t},{provide:mc,useFactory:RU,multi:!0,deps:[Sk,Zo,pt]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=b({type:n}),n.\u0275inj=gr({providers:[Am,ps,kc],imports:[[wa]]}),n})();let Wu={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const Fk=/[&<>"']/,FU=new RegExp(Fk.source,"g"),Ok=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,OU=new RegExp(Ok.source,"g"),NU={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Nk=n=>NU[n];function gi(n,e){if(e){if(Fk.test(n))return n.replace(FU,Nk)}else if(Ok.test(n))return n.replace(OU,Nk);return n}const LU=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function Lk(n){return n.replace(LU,(e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")}const $U=/(^|[^\[])\^/g;function Fr(n,e){n="string"==typeof n?n:n.source,e=e||"";const t={replace:(r,o)=>(o=(o=o.source||o).replace($U,"$1"),n=n.replace(r,o),t),getRegex:()=>new RegExp(n,e)};return t}const BU=/[^\w:]/g,VU=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function $k(n,e,t){if(n){let r;try{r=decodeURIComponent(Lk(t)).replace(BU,"").toLowerCase()}catch{return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}e&&!VU.test(t)&&(t=function GU(n,e){xm[" "+n]||(xm[" "+n]=UU.test(n)?n+"/":Pm(n,"/",!0));const t=-1===(n=xm[" "+n]).indexOf(":");return"//"===e.substring(0,2)?t?e:n.replace(jU,"$1")+e:"/"===e.charAt(0)?t?e:n.replace(HU,"$1")+e:n+e}(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const xm={},UU=/^[^:]+:\/*[^/]*$/,jU=/^([^:]+:)[\s\S]*$/,HU=/^([^:]+:\/*[^/]*)[\s\S]*$/,Rm={exec:function(){}};function Js(n){let t,r,e=1;for(;e<arguments.length;e++)for(r in t=arguments[e],t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function Bk(n,e){const r=n.replace(/\|/g,(i,s,a)=>{let u=!1,f=s;for(;--f>=0&&"\\"===a[f];)u=!u;return u?"|":" |"}).split(/ \|/);let o=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;o<r.length;o++)r[o]=r[o].trim().replace(/\\\|/g,"|");return r}function Pm(n,e,t){const r=n.length;if(0===r)return"";let o=0;for(;o<r;){const i=n.charAt(r-o-1);if(i!==e||t){if(i===e||!t)break;o++}else o++}return n.slice(0,r-o)}function Vk(n){n&&n.sanitize&&!n.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Uk(n,e){if(e<1)return"";let t="";for(;e>1;)1&e&&(t+=n),e>>=1,n+=n;return t+n}function jk(n,e,t,r){const o=e.href,i=e.title?gi(e.title):null,s=n[1].replace(/\\([\[\]])/g,"$1");if("!"!==n[0].charAt(0)){r.state.inLink=!0;const a={type:"link",raw:t,href:o,title:i,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,a}return{type:"image",raw:t,href:o,title:i,text:gi(s)}}class qv{constructor(e){this.options=e||Wu}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const r=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Pm(r,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const r=t[0],o=function WU(n,e){const t=n.match(/^(\s+)(?:```)/);if(null===t)return e;const r=t[1];return e.split("\n").map(o=>{const i=o.match(/^\s+/);if(null===i)return o;const[s]=i;return s.length>=r.length?o.slice(r.length):o}).join("\n")}(r,t[3]||"");return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:o}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(/#$/.test(r)){const o=Pm(r,"#");(this.options.pedantic||!o||/ $/.test(o))&&(r=o.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const r=t[0].replace(/^ *>[ \t]?/gm,""),o=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(r);return this.lexer.state.top=o,{type:"blockquote",raw:t[0],tokens:i,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r,o,i,s,a,u,f,m,_,k,T,X,Ae=t[1].trim();const Ze=Ae.length>1,Ke={type:"list",raw:"",ordered:Ze,start:Ze?+Ae.slice(0,-1):"",loose:!1,items:[]};Ae=Ze?`\\d{1,9}\\${Ae.slice(-1)}`:`\\${Ae}`,this.options.pedantic&&(Ae=Ze?Ae:"[*+-]");const Ct=new RegExp(`^( {0,3}${Ae})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;e&&(X=!1,(t=Ct.exec(e))&&!this.rules.block.hr.test(e));){if(r=t[0],e=e.substring(r.length),m=t[2].split("\n",1)[0].replace(/^\t+/,Nt=>" ".repeat(3*Nt.length)),_=e.split("\n",1)[0],this.options.pedantic?(s=2,T=m.trimLeft()):(s=t[2].search(/[^ ]/),s=s>4?1:s,T=m.slice(s),s+=t[1].length),u=!1,!m&&/^ *$/.test(_)&&(r+=_+"\n",e=e.substring(_.length+1),X=!0),!X){const Nt=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),Sn=new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Wn=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),ms=new RegExp(`^ {0,${Math.min(3,s-1)}}#`);for(;e&&(k=e.split("\n",1)[0],_=k,this.options.pedantic&&(_=_.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Wn.test(_)||ms.test(_)||Nt.test(_)||Sn.test(e)));){if(_.search(/[^ ]/)>=s||!_.trim())T+="\n"+_.slice(s);else{if(u||m.search(/[^ ]/)>=4||Wn.test(m)||ms.test(m)||Sn.test(m))break;T+="\n"+_}!u&&!_.trim()&&(u=!0),r+=k+"\n",e=e.substring(k.length+1),m=_.slice(s)}}Ke.loose||(f?Ke.loose=!0:/\n *\n *$/.test(r)&&(f=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(T),o&&(i="[ ] "!==o[0],T=T.replace(/^\[[ xX]\] +/,""))),Ke.items.push({type:"list_item",raw:r,task:!!o,checked:i,loose:!1,text:T}),Ke.raw+=r}Ke.items[Ke.items.length-1].raw=r.trimRight(),Ke.items[Ke.items.length-1].text=T.trimRight(),Ke.raw=Ke.raw.trimRight();const Ne=Ke.items.length;for(a=0;a<Ne;a++)if(this.lexer.state.top=!1,Ke.items[a].tokens=this.lexer.blockTokens(Ke.items[a].text,[]),!Ke.loose){const Nt=Ke.items[a].tokens.filter(Wn=>"space"===Wn.type),Sn=Nt.length>0&&Nt.some(Wn=>/\n.*\n/.test(Wn.raw));Ke.loose=Sn}if(Ke.loose)for(a=0;a<Ne;a++)Ke.items[a].loose=!0;return Ke}}html(e){const t=this.rules.block.html.exec(e);if(t){const r={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){const o=this.options.sanitizer?this.options.sanitizer(t[0]):gi(t[0]);r.type="paragraph",r.text=o,r.tokens=this.lexer.inline(o)}return r}}def(e){const t=this.rules.block.def.exec(e);if(t){const r=t[1].toLowerCase().replace(/\s+/g," "),o=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:o,title:i}}}table(e){const t=this.rules.block.table.exec(e);if(t){const r={type:"table",header:Bk(t[1]).map(o=>({text:o})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(r.header.length===r.align.length){r.raw=t[0];let i,s,a,u,o=r.align.length;for(i=0;i<o;i++)r.align[i]=/^ *-+: *$/.test(r.align[i])?"right":/^ *:-+: *$/.test(r.align[i])?"center":/^ *:-+ *$/.test(r.align[i])?"left":null;for(o=r.rows.length,i=0;i<o;i++)r.rows[i]=Bk(r.rows[i],r.header.length).map(f=>({text:f}));for(o=r.header.length,s=0;s<o;s++)r.header[s].tokens=this.lexer.inline(r.header[s].text);for(o=r.rows.length,s=0;s<o;s++)for(u=r.rows[s],a=0;a<u.length;a++)u[a].tokens=this.lexer.inline(u[a].text);return r}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const r="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:gi(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):gi(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const r=t[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const s=Pm(r.slice(0,-1),"\\");if((r.length-s.length)%2==0)return}else{const s=function zU(n,e){if(-1===n.indexOf(e[1]))return-1;const t=n.length;let r=0,o=0;for(;o<t;o++)if("\\"===n[o])o++;else if(n[o]===e[0])r++;else if(n[o]===e[1]&&(r--,r<0))return o;return-1}(t[2],"()");if(s>-1){const u=(0===t[0].indexOf("!")?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,u).trim(),t[3]=""}}let o=t[2],i="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);s&&(o=s[1],i=s[3])}else i=t[3]?t[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(r)?o.slice(1):o.slice(1,-1)),jk(t,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let o=(r[2]||r[1]).replace(/\s+/g," ");if(o=t[o.toLowerCase()],!o){const i=r[0].charAt(0);return{type:"text",raw:i,text:i}}return jk(r,o,r[0],this.lexer)}}emStrong(e,t,r=""){let o=this.rules.inline.emStrong.lDelim.exec(e);if(!o||o[3]&&r.match(/[\p{L}\p{N}]/u))return;const i=o[1]||o[2]||"";if(!i||i&&(""===r||this.rules.inline.punctuation.exec(r))){const s=o[0].length-1;let a,u,f=s,m=0;const _="*"===o[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(_.lastIndex=0,t=t.slice(-1*e.length+s);null!=(o=_.exec(t));){if(a=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!a)continue;if(u=a.length,o[3]||o[4]){f+=u;continue}if((o[5]||o[6])&&s%3&&!((s+u)%3)){m+=u;continue}if(f-=u,f>0)continue;u=Math.min(u,u+f+m);const k=e.slice(0,s+o.index+(o[0].length-a.length)+u);if(Math.min(s,u)%2){const X=k.slice(1,-1);return{type:"em",raw:k,text:X,tokens:this.lexer.inlineTokens(X)}}const T=k.slice(2,-2);return{type:"strong",raw:k,text:T,tokens:this.lexer.inlineTokens(T)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(/\n/g," ");const o=/[^ ]/.test(r),i=/^ /.test(r)&&/ $/.test(r);return o&&i&&(r=r.substring(1,r.length-1)),r=gi(r,!0),{type:"codespan",raw:t[0],text:r}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const r=this.rules.inline.autolink.exec(e);if(r){let o,i;return"@"===r[2]?(o=gi(this.options.mangle?t(r[1]):r[1]),i="mailto:"+o):(o=gi(r[1]),i=o),{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}url(e,t){let r;if(r=this.rules.inline.url.exec(e)){let o,i;if("@"===r[2])o=gi(this.options.mangle?t(r[0]):r[0]),i="mailto:"+o;else{let s;do{s=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(s!==r[0]);o=gi(r[0]),i="www."===r[1]?"http://"+r[0]:r[0]}return{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(e,t){const r=this.rules.inline.text.exec(e);if(r){let o;return o=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):gi(r[0]):r[0]:gi(this.options.smartypants?t(r[0]):r[0]),{type:"text",raw:r[0],text:o}}}}const Cn={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Rm,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Cn.def=Fr(Cn.def).replace("label",Cn._label).replace("title",Cn._title).getRegex(),Cn.bullet=/(?:[*+-]|\d{1,9}[.)])/,Cn.listItemStart=Fr(/^( *)(bull) */).replace("bull",Cn.bullet).getRegex(),Cn.list=Fr(Cn.list).replace(/bull/g,Cn.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Cn.def.source+")").getRegex(),Cn._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Cn._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Cn.html=Fr(Cn.html,"i").replace("comment",Cn._comment).replace("tag",Cn._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Cn.paragraph=Fr(Cn._paragraph).replace("hr",Cn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Cn._tag).getRegex(),Cn.blockquote=Fr(Cn.blockquote).replace("paragraph",Cn.paragraph).getRegex(),Cn.normal=Js({},Cn),Cn.gfm=Js({},Cn.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Cn.gfm.table=Fr(Cn.gfm.table).replace("hr",Cn.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Cn._tag).getRegex(),Cn.gfm.paragraph=Fr(Cn._paragraph).replace("hr",Cn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Cn.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Cn._tag).getRegex(),Cn.pedantic=Js({},Cn.normal,{html:Fr("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Cn._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Rm,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Fr(Cn.normal._paragraph).replace("hr",Cn.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Cn.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const Qt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Rm,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Rm,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function ZU(n){return n.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function Hk(n){let t,r,e="";const o=n.length;for(t=0;t<o;t++)r=n.charCodeAt(t),Math.random()>.5&&(r="x"+r.toString(16)),e+="&#"+r+";";return e}Qt._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Qt.punctuation=Fr(Qt.punctuation).replace(/punctuation/g,Qt._punctuation).getRegex(),Qt.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Qt.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,Qt._comment=Fr(Cn._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Qt.emStrong.lDelim=Fr(Qt.emStrong.lDelim).replace(/punct/g,Qt._punctuation).getRegex(),Qt.emStrong.rDelimAst=Fr(Qt.emStrong.rDelimAst,"g").replace(/punct/g,Qt._punctuation).getRegex(),Qt.emStrong.rDelimUnd=Fr(Qt.emStrong.rDelimUnd,"g").replace(/punct/g,Qt._punctuation).getRegex(),Qt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Qt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Qt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Qt.autolink=Fr(Qt.autolink).replace("scheme",Qt._scheme).replace("email",Qt._email).getRegex(),Qt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Qt.tag=Fr(Qt.tag).replace("comment",Qt._comment).replace("attribute",Qt._attribute).getRegex(),Qt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Qt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Qt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Qt.link=Fr(Qt.link).replace("label",Qt._label).replace("href",Qt._href).replace("title",Qt._title).getRegex(),Qt.reflink=Fr(Qt.reflink).replace("label",Qt._label).replace("ref",Cn._label).getRegex(),Qt.nolink=Fr(Qt.nolink).replace("ref",Cn._label).getRegex(),Qt.reflinkSearch=Fr(Qt.reflinkSearch,"g").replace("reflink",Qt.reflink).replace("nolink",Qt.nolink).getRegex(),Qt.normal=Js({},Qt),Qt.pedantic=Js({},Qt.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Fr(/^!?\[(label)\]\((.*?)\)/).replace("label",Qt._label).getRegex(),reflink:Fr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Qt._label).getRegex()}),Qt.gfm=Js({},Qt.normal,{escape:Fr(Qt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Qt.gfm.url=Fr(Qt.gfm.url,"i").replace("email",Qt.gfm._extended_email).getRegex(),Qt.breaks=Js({},Qt.gfm,{br:Fr(Qt.br).replace("{2,}","*").getRegex(),text:Fr(Qt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class dl{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Wu,this.options.tokenizer=this.options.tokenizer||new qv,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:Cn.normal,inline:Qt.normal};this.options.pedantic?(t.block=Cn.pedantic,t.inline=Qt.pedantic):this.options.gfm&&(t.block=Cn.gfm,t.inline=this.options.breaks?Qt.breaks:Qt.gfm),this.tokenizer.rules=t}static get rules(){return{block:Cn,inline:Qt}}static lex(e,t){return new dl(t).lex(e)}static lexInline(e,t){return new dl(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let r,o,i,s;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(a,u,f)=>u+"    ".repeat(f.length));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(r=a.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),1===r.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),o=t[t.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?t.push(r):(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),o=t[t.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title}):(o.raw+="\n"+r.raw,o.text+="\n"+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(i=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const u=e.slice(1);let f;this.options.extensions.startBlock.forEach(function(m){f=m.call({lexer:this},u),"number"==typeof f&&f>=0&&(a=Math.min(a,f))}),a<1/0&&a>=0&&(i=e.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){o=t[t.length-1],s&&"paragraph"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(r),s=i.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),o=t[t.length-1],o&&"text"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(r);continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let r,o,i,a,u,f,s=e;if(this.tokens.links){const m=Object.keys(this.tokens.links);if(m.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(s));)m.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+Uk("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,a.index)+"["+Uk("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.escapedEmSt.exec(s));)s=s.slice(0,a.index+a[0].length-2)+"++"+s.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(u||(f=""),u=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(m=>!!(r=m.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),o=t[t.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):t.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),o=t[t.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):t.push(r);continue}if(r=this.tokenizer.emStrong(e,s,f)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.autolink(e,Hk)){e=e.substring(r.raw.length),t.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e,Hk))){e=e.substring(r.raw.length),t.push(r);continue}if(i=e,this.options.extensions&&this.options.extensions.startInline){let m=1/0;const _=e.slice(1);let k;this.options.extensions.startInline.forEach(function(T){k=T.call({lexer:this},_),"number"==typeof k&&k>=0&&(m=Math.min(m,k))}),m<1/0&&m>=0&&(i=e.substring(0,m+1))}if(r=this.tokenizer.inlineText(i,ZU)){e=e.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(f=r.raw.slice(-1)),u=!0,o=t[t.length-1],o&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):t.push(r);continue}if(e){const m="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(m);break}throw new Error(m)}}return t}}class Zu{constructor(e){this.options=e||Wu}code(e,t,r){const o=(t||"").match(/\S*/)[0];if(this.options.highlight){const i=this.options.highlight(e,o);null!=i&&i!==e&&(r=!0,e=i)}return e=e.replace(/\n$/,"")+"\n",o?'<pre><code class="'+this.options.langPrefix+gi(o)+'">'+(r?e:gi(e,!0))+"</code></pre>\n":"<pre><code>"+(r?e:gi(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e){return e}heading(e,t,r,o){return this.options.headerIds?`<h${t} id="${this.options.headerPrefix+o.slug(r)}">${e}</h${t}>\n`:`<h${t}>${e}</h${t}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,r){const o=t?"ol":"ul";return"<"+o+(t&&1!==r?' start="'+r+'"':"")+">\n"+e+"</"+o+">\n"}listitem(e){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,r){if(null===(e=$k(this.options.sanitize,this.options.baseUrl,e)))return r;let o='<a href="'+e+'"';return t&&(o+=' title="'+t+'"'),o+=">"+r+"</a>",o}image(e,t,r){if(null===(e=$k(this.options.sanitize,this.options.baseUrl,e)))return r;let o=`<img src="${e}" alt="${r}"`;return t&&(o+=` title="${t}"`),o+=this.options.xhtml?"/>":">",o}text(e){return e}}class Gk{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,r){return""+r}image(e,t,r){return""+r}br(){return""}}class zk{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let r=e,o=0;if(this.seen.hasOwnProperty(r)){o=this.seen[e];do{o++,r=e+"-"+o}while(this.seen.hasOwnProperty(r))}return t||(this.seen[e]=o,this.seen[r]=0),r}slug(e,t={}){const r=this.serialize(e);return this.getNextSafeSlug(r,t.dryrun)}}class Ia{constructor(e){this.options=e||Wu,this.options.renderer=this.options.renderer||new Zu,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Gk,this.slugger=new zk}static parse(e,t){return new Ia(t).parse(e)}static parseInline(e,t){return new Ia(t).parseInline(e)}parse(e,t=!0){let o,i,s,a,u,f,m,_,k,T,X,Ae,Ze,Ke,Ct,Ne,Nt,Sn,Wn,r="";const ms=e.length;for(o=0;o<ms;o++)if(T=e[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[T.type]&&(Wn=this.options.extensions.renderers[T.type].call({parser:this},T),!1!==Wn||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(T.type)))r+=Wn||"";else switch(T.type){case"space":continue;case"hr":r+=this.renderer.hr();continue;case"heading":r+=this.renderer.heading(this.parseInline(T.tokens),T.depth,Lk(this.parseInline(T.tokens,this.textRenderer)),this.slugger);continue;case"code":r+=this.renderer.code(T.text,T.lang,T.escaped);continue;case"table":for(_="",m="",a=T.header.length,i=0;i<a;i++)m+=this.renderer.tablecell(this.parseInline(T.header[i].tokens),{header:!0,align:T.align[i]});for(_+=this.renderer.tablerow(m),k="",a=T.rows.length,i=0;i<a;i++){for(f=T.rows[i],m="",u=f.length,s=0;s<u;s++)m+=this.renderer.tablecell(this.parseInline(f[s].tokens),{header:!1,align:T.align[s]});k+=this.renderer.tablerow(m)}r+=this.renderer.table(_,k);continue;case"blockquote":k=this.parse(T.tokens),r+=this.renderer.blockquote(k);continue;case"list":for(X=T.ordered,Ae=T.start,Ze=T.loose,a=T.items.length,k="",i=0;i<a;i++)Ct=T.items[i],Ne=Ct.checked,Nt=Ct.task,Ke="",Ct.task&&(Sn=this.renderer.checkbox(Ne),Ze?Ct.tokens.length>0&&"paragraph"===Ct.tokens[0].type?(Ct.tokens[0].text=Sn+" "+Ct.tokens[0].text,Ct.tokens[0].tokens&&Ct.tokens[0].tokens.length>0&&"text"===Ct.tokens[0].tokens[0].type&&(Ct.tokens[0].tokens[0].text=Sn+" "+Ct.tokens[0].tokens[0].text)):Ct.tokens.unshift({type:"text",text:Sn}):Ke+=Sn),Ke+=this.parse(Ct.tokens,Ze),k+=this.renderer.listitem(Ke,Nt,Ne);r+=this.renderer.list(k,X,Ae);continue;case"html":r+=this.renderer.html(T.text);continue;case"paragraph":r+=this.renderer.paragraph(this.parseInline(T.tokens));continue;case"text":for(k=T.tokens?this.parseInline(T.tokens):T.text;o+1<ms&&"text"===e[o+1].type;)T=e[++o],k+="\n"+(T.tokens?this.parseInline(T.tokens):T.text);r+=t?this.renderer.paragraph(k):k;continue;default:{const zm='Token with "'+T.type+'" type was not found.';if(this.options.silent)return void console.error(zm);throw new Error(zm)}}return r}parseInline(e,t){t=t||this.renderer;let o,i,s,r="";const a=e.length;for(o=0;o<a;o++)if(i=e[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]&&(s=this.options.extensions.renderers[i.type].call({parser:this},i),!1!==s||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)))r+=s||"";else switch(i.type){case"escape":case"text":r+=t.text(i.text);break;case"html":r+=t.html(i.text);break;case"link":r+=t.link(i.href,i.title,this.parseInline(i.tokens,t));break;case"image":r+=t.image(i.href,i.title,i.text);break;case"strong":r+=t.strong(this.parseInline(i.tokens,t));break;case"em":r+=t.em(this.parseInline(i.tokens,t));break;case"codespan":r+=t.codespan(i.text);break;case"br":r+=t.br();break;case"del":r+=t.del(this.parseInline(i.tokens,t));break;default:{const u='Token with "'+i.type+'" type was not found.';if(this.options.silent)return void console.error(u);throw new Error(u)}}return r}}function In(n,e,t){if(typeof n>"u"||null===n)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof n)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");if("function"==typeof e&&(t=e,e=null),Vk(e=Js({},In.defaults,e||{})),t){const o=e.highlight;let i;try{i=dl.lex(n,e)}catch(u){return t(u)}const s=function(u){let f;if(!u)try{e.walkTokens&&In.walkTokens(i,e.walkTokens),f=Ia.parse(i,e)}catch(m){u=m}return e.highlight=o,u?t(u):t(null,f)};if(!o||o.length<3||(delete e.highlight,!i.length))return s();let a=0;return In.walkTokens(i,function(u){"code"===u.type&&(a++,setTimeout(()=>{o(u.text,u.lang,function(f,m){if(f)return s(f);null!=m&&m!==u.text&&(u.text=m,u.escaped=!0),a--,0===a&&s()})},0))}),void(0===a&&s())}function r(o){if(o.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+gi(o.message+"",!0)+"</pre>";throw o}try{const o=dl.lex(n,e);if(e.walkTokens){if(e.async)return Promise.all(In.walkTokens(o,e.walkTokens)).then(()=>Ia.parse(o,e)).catch(r);In.walkTokens(o,e.walkTokens)}return Ia.parse(o,e)}catch(o){r(o)}}In.options=In.setOptions=function(n){return Js(In.defaults,n),function PU(n){Wu=n}(In.defaults),In},In.getDefaults=function Pk(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},In.defaults=Wu,In.use=function(...n){const e=In.defaults.extensions||{renderers:{},childTokens:{}};n.forEach(t=>{const r=Js({},t);if(r.async=In.defaults.async||r.async,t.extensions&&(t.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if(o.renderer){const i=e.renderers[o.name];e.renderers[o.name]=i?function(...s){let a=o.renderer.apply(this,s);return!1===a&&(a=i.apply(this,s)),a}:o.renderer}if(o.tokenizer){if(!o.level||"block"!==o.level&&"inline"!==o.level)throw new Error("extension level must be 'block' or 'inline'");e[o.level]?e[o.level].unshift(o.tokenizer):e[o.level]=[o.tokenizer],o.start&&("block"===o.level?e.startBlock?e.startBlock.push(o.start):e.startBlock=[o.start]:"inline"===o.level&&(e.startInline?e.startInline.push(o.start):e.startInline=[o.start]))}o.childTokens&&(e.childTokens[o.name]=o.childTokens)}),r.extensions=e),t.renderer){const o=In.defaults.renderer||new Zu;for(const i in t.renderer){const s=o[i];o[i]=(...a)=>{let u=t.renderer[i].apply(o,a);return!1===u&&(u=s.apply(o,a)),u}}r.renderer=o}if(t.tokenizer){const o=In.defaults.tokenizer||new qv;for(const i in t.tokenizer){const s=o[i];o[i]=(...a)=>{let u=t.tokenizer[i].apply(o,a);return!1===u&&(u=s.apply(o,a)),u}}r.tokenizer=o}if(t.walkTokens){const o=In.defaults.walkTokens;r.walkTokens=function(i){let s=[];return s.push(t.walkTokens.call(this,i)),o&&(s=s.concat(o.call(this,i))),s}}In.setOptions(r)})},In.walkTokens=function(n,e){let t=[];for(const r of n)switch(t=t.concat(e.call(In,r)),r.type){case"table":for(const o of r.header)t=t.concat(In.walkTokens(o.tokens,e));for(const o of r.rows)for(const i of o)t=t.concat(In.walkTokens(i.tokens,e));break;case"list":t=t.concat(In.walkTokens(r.items,e));break;default:In.defaults.extensions&&In.defaults.extensions.childTokens&&In.defaults.extensions.childTokens[r.type]?In.defaults.extensions.childTokens[r.type].forEach(function(o){t=t.concat(In.walkTokens(r[o],e))}):r.tokens&&(t=t.concat(In.walkTokens(r.tokens,e)))}return t},In.parseInline=function(n,e){if(typeof n>"u"||null===n)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof n)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");Vk(e=Js({},In.defaults,e||{}));try{const t=dl.lexInline(n,e);return e.walkTokens&&In.walkTokens(t,e.walkTokens),Ia.parseInline(t,e)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+gi(t.message+"",!0)+"</pre>";throw t}},In.Parser=Ia,In.parser=Ia.parse,In.Renderer=Zu,In.TextRenderer=Gk,In.Lexer=dl,In.lexer=dl.lex,In.Tokenizer=qv,In.Slugger=zk,In.parse=In;class qU extends G{constructor(e,t){super()}schedule(e,t=0){return this}}const Fm={setInterval(n,e,...t){const{delegate:r}=Fm;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Fm;return(e?.clearInterval||clearInterval)(n)},delegate:void 0},Kv={now:()=>(Kv.delegate||Date).now(),delegate:void 0};class Kf{constructor(e,t=Kf.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Kf.now=Kv.now;const Wk=new class YU extends Kf{constructor(e,t=Kf.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}(class KU extends qU{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const o=this.id,i=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(i,o,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return Fm.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Fm.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let o,r=!1;try{this.work(e)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,te(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}),XU=Wk;function Zk(n=0,e,t=XU){let r=-1;return null!=e&&(vo(e)?t=e:r=e),new vt(o=>{let i=function QU(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;i<0&&(i=0);let s=0;return t.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}class JU extends nt{constructor(e=1/0,t=1/0,r=Kv){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;t||(r.push(e),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!e.closed;s+=r?1:2)e.next(i[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*e;if(e<1/0&&i<r.length&&r.splice(0,r.length-i),!o){const s=t.now();let a=0;for(let u=1;u<r.length&&r[u]<=s;u+=2)a=u;a&&r.splice(0,a+1)}}}const nj=["*"];let Yv=(()=>{class n{constructor(){this._buttonClick$=new nt,this.copied$=this._buttonClick$.pipe(pi(()=>ui(yn(!0),Zk(3e3).pipe(gv(!1)))),lk(),function ej(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,ys({connector:()=>new JU(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(1)),this.copiedText$=this.copied$.pipe(K1(!1),Re(t=>t?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ye({type:n,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(t,r){1&t&&(ae(0,"button",0),lt("click",function(){return r.onCopyToClipboardClick()}),ya(1,"async"),qe(2),ya(3,"async"),ee()),2&t&&(Ka("copied",_a(1,3,r.copied$)),et(2),Es(_a(3,5,r.copiedText$)))},dependencies:[XE],encapsulation:2,changeDetection:0}),n})();class ij{}var Yf=(()=>{return(n=Yf||(Yf={})).CommandLine="command-line",n.LineHighlight="line-highlight",n.LineNumbers="line-numbers",Yf;var n})();class qk{}const Kk=new on("SECURITY_CONTEXT");let Xv=(()=>{class n{constructor(t,r,o,i,s,a){this.platform=t,this.securityContext=r,this.http=o,this.clipboardOptions=i,this.sanitizer=a,this.DEFAULT_MARKED_OPTIONS={renderer:new Zu},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:this.DEFAULT_MARKED_OPTIONS,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new nt,this.reload$=this._reload$.asObservable(),this.options=s}get options(){return this._options}set options(t){this._options={...this.DEFAULT_MARKED_OPTIONS,...t}}get renderer(){return this.options.renderer}set renderer(t){this.options.renderer=t}parse(t,r=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:o,inline:i,emoji:s,mermaid:a,disableSanitizer:u}=r,f={...this.options,...r.markedOptions};a&&(this.renderer=this.extendRenderer(f.renderer||new Zu));const m=this.trimIndentation(t),_=o?this.decodeHtml(m):m,k=s?this.parseEmoji(_):_,T=this.parseMarked(k,f,i);return(u?T:this.sanitizer.sanitize(this.securityContext,T))||""}render(t,r=this.DEFAULT_RENDER_OPTIONS,o){const{clipboard:i,clipboardOptions:s,katex:a,katexOptions:u,mermaid:f,mermaidOptions:m}=r;i&&this.renderClipboard(t,o,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...s}),a&&this.renderKatex(t,{...this.DEFAULT_KATEX_OPTIONS,...u}),f&&this.renderMermaid(t,{...this.DEFAULT_MERMAID_OPTIONS,...m}),this.highlight(t)}reload(){this._reload$.next()}getSource(t){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(t,{responseType:"text"}).pipe(Re(r=>this.handleExtension(t,r)))}highlight(t){if(!Tl(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;t||(t=document);const r=t.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(r,o=>o.classList.add("language-none")),Prism.highlightAllUnder(t)}decodeHtml(t){if(!Tl(this.platform))return t;const r=document.createElement("textarea");return r.innerHTML=t,r.value}extendRenderer(t){const r=t;if(!0===r.\u0275NgxMarkdownRendererExtended)return t;const o=t.code;return t.code=function(i,s,a){return"mermaid"===s?`<div class="mermaid">${i}</div>`:o.call(this,i,s,a)},r.\u0275NgxMarkdownRendererExtended=!0,t}handleExtension(t,r){const o=t.lastIndexOf("://"),i=o>-1?t.substring(o+4):t,s=i.lastIndexOf("/"),a=s>-1?i.substring(s+1).split("?")[0]:"",u=a.lastIndexOf("."),f=u>-1?a.substring(u+1):"";return f&&"md"!==f?"```"+f+"\n"+r+"\n```":r}parseMarked(t,r,o=!1){return o?In.parseInline(t,r):In.parse(t,r)}parseEmoji(t){if(!Tl(this.platform))return t;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(t)}renderKatex(t,r){if(Tl(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(t,r)}}renderClipboard(t,r,o){if(!Tl(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!r)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:i,buttonTemplate:s}=o,a=t.querySelectorAll("pre");for(let u=0;u<a.length;u++){const f=a.item(u),m=document.createElement("div");m.style.position="relative",f.parentNode.insertBefore(m,f),m.appendChild(f);const _=document.createElement("div");let k,T;_.style.position="absolute",_.style.top=".5em",_.style.right=".5em",_.style.opacity="0",_.style.transition="opacity 250ms ease-out",m.insertAdjacentElement("beforeend",_),f.onmouseover=()=>_.style.opacity="1",f.onmouseout=()=>_.style.opacity="0",k=i?r.createComponent(i).hostView:s?r.createEmbeddedView(s):r.createComponent(Yv).hostView,k.rootNodes.forEach(X=>{X.onmouseover=()=>_.style.opacity="1",_.appendChild(X),T=new ClipboardJS(X,{text:()=>f.innerText})}),k.onDestroy(()=>T.destroy())}}renderMermaid(t,r=this.DEFAULT_MERMAID_OPTIONS){if(!Tl(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.init>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const o=t.querySelectorAll(".mermaid");0!==o.length&&(mermaid.initialize(r),mermaid.init(o))}trimIndentation(t){if(!t)return"";let r;return t.split("\n").map(o=>{let i=r;return o.length>0&&(i=isNaN(i)?o.search(/\S|$/):Math.min(o.search(/\S|$/),i)),isNaN(r)&&(r=i),i?o.substring(i):o}).join("\n")}}return n.\u0275fac=function(t){return new(t||n)(ne(Eu),ne(Kk),ne(H_,8),ne(ij,8),ne(qk,8),ne($_))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})(),Qv=(()=>{class n{constructor(t,r,o){this.element=t,this.markdownService=r,this.viewContainerRef=o,this.error=new kn,this.load=new kn,this.ready=new kn,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this._srcRelativeLink=!1,this.destroyed$=new nt}get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(t){this._disableSanitizer=this.coerceBooleanProperty(t)}get inline(){return this._inline}set inline(t){this._inline=this.coerceBooleanProperty(t)}get srcRelativeLink(){return this._srcRelativeLink}set srcRelativeLink(t){this._srcRelativeLink=this.coerceBooleanProperty(t)}get clipboard(){return this._clipboard}set clipboard(t){this._clipboard=this.coerceBooleanProperty(t)}get emoji(){return this._emoji}set emoji(t){this._emoji=this.coerceBooleanProperty(t)}get katex(){return this._katex}set katex(t){this._katex=this.coerceBooleanProperty(t)}get mermaid(){return this._mermaid}set mermaid(t){this._mermaid=this.coerceBooleanProperty(t)}get lineHighlight(){return this._lineHighlight}set lineHighlight(t){this._lineHighlight=this.coerceBooleanProperty(t)}get lineNumbers(){return this._lineNumbers}set lineNumbers(t){this._lineNumbers=this.coerceBooleanProperty(t)}get commandLine(){return this._commandLine}set commandLine(t){this._commandLine=this.coerceBooleanProperty(t)}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(function tj(n){return q((e,t)=>{Nn(n).subscribe(ve(t,()=>t.complete(),B)),!t.closed&&e.subscribe(t)})}(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(t,r=!1){let o;this.src&&this.srcRelativeLink&&(o={baseUrl:new URL(this.src,location.origin).pathname});const s={clipboard:this.clipboard,clipboardOptions:{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate},katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},a=this.markdownService.parse(t,{decodeHtml:r,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid,markedOptions:o,disableSanitizer:this.disableSanitizer});this.element.nativeElement.innerHTML=a,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,s,this.viewContainerRef),this.ready.emit()}coerceBooleanProperty(t){return null!=t&&"false"!=`${String(t)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:t=>{this.render(t),this.load.emit(t)},error:t=>this.error.emit(t)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,Yf.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,Yf.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(t,r){const o=t.querySelectorAll("pre");for(let i=0;i<o.length;i++){const s=r instanceof Array?r:[r];o.item(i).classList.add(...s)}}setPluginOptions(t,r){const o=t.querySelectorAll("pre");for(let i=0;i<o.length;i++)Object.keys(r).forEach(s=>{const a=r[s];if(a){const u=this.toLispCase(s);o.item(i).setAttribute(u,a.toString())}})}toLispCase(t){const r=t.match(/([A-Z])/g);if(!r)return t;let o=t.toString();for(let i=0,s=r.length;i<s;i++)o=o.replace(new RegExp(r[i]),"-"+r[i].toLowerCase());return"-"===o.slice(0,1)&&(o=o.slice(1)),o}}return n.\u0275fac=function(t){return new(t||n)(C(_t),C(Xv),C(Ai))},n.\u0275cmp=Ye({type:n,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",srcRelativeLink:"srcRelativeLink",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[To],ngContentSelectors:nj,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),xt(0))},encapsulation:2}),n})(),Jv=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[Xv,t&&t.loader||[],t&&t.clipboardOptions||[],t&&t.markedOptions||[],{provide:Kk,useValue:t&&null!=t.sanitize?t.sanitize:Pr.HTML}]}}static forChild(){return{ngModule:n}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=b({type:n}),n.\u0275inj=gr({imports:[wa]}),n})();var Yk;!function(n){let e;var o;let t,r;(o=e=n.SecurityLevel||(n.SecurityLevel={})).Strict="strict",o.Loose="loose",o.Antiscript="antiscript",o.Sandbox="sandbox",function(o){o.Base="base",o.Forest="forest",o.Dark="dark",o.Default="default",o.Neutral="neutral"}(t=n.Theme||(n.Theme={})),function(o){o[o.Debug=1]="Debug",o[o.Info=2]="Info",o[o.Warn=3]="Warn",o[o.Error=4]="Error",o[o.Fatal=5]="Fatal"}(r=n.LogLevel||(n.LogLevel={}))}(Yk||(Yk={}));var fe=x(3918);const pj="safari"in window,Xk=!navigator.userAgent.match(/(crios)|(fxios)/i),ea=!!navigator.platform.match(/iPhone|iPad|iPod/)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,Qk=!!navigator.userAgent.match(/android/i),hj=navigator.userAgent.toLowerCase().indexOf("firefox")>=0;var Vl=(()=>{return(n=Vl||(Vl={})).web="web",n.pwa="pwa",n.twa="twa",Vl;var n})();new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked");const yj=new Error("request for lock canceled");class vj{constructor(e,t=yj){this._value=e,this._cancelError=t,this._weightedQueues=[],this._weightedWaiters=[]}acquire(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise((t,r)=>{this._weightedQueues[e-1]||(this._weightedQueues[e-1]=[]),this._weightedQueues[e-1].push({resolve:t,reject:r}),this._dispatch()})}runExclusive(e,t=1){return function(n,e,t,r){return new(t||(t=Promise))(function(i,s){function a(m){try{f(r.next(m))}catch(_){s(_)}}function u(m){try{f(r.throw(m))}catch(_){s(_)}}function f(m){m.done?i(m.value):function o(i){return i instanceof t?i:new t(function(s){s(i)})}(m.value).then(a,u)}f((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){const[r,o]=yield this.acquire(t);try{return yield e(r)}finally{o()}})}waitForUnlock(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise(t=>{this._weightedWaiters[e-1]||(this._weightedWaiters[e-1]=[]),this._weightedWaiters[e-1].push(t),this._dispatch()})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(e){this._value=e,this._dispatch()}release(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);this._value+=e,this._dispatch()}cancel(){this._weightedQueues.forEach(e=>e.forEach(t=>t.reject(this._cancelError))),this._weightedQueues=[]}_dispatch(){var e;for(let t=this._value;t>0;t--){const r=null===(e=this._weightedQueues[t-1])||void 0===e?void 0:e.shift();if(!r)continue;const o=this._value,i=t;this._value-=t,t=this._value+1,r.resolve([o,this._newReleaser(i)])}this._drainUnlockWaiters()}_newReleaser(e){let t=!1;return()=>{t||(t=!0,this.release(e))}}_drainUnlockWaiters(){for(let e=this._value;e>0;e--)this._weightedWaiters[e-1]&&(this._weightedWaiters[e-1].forEach(t=>t()),this._weightedWaiters[e-1]=[])}}class ka{constructor(e){this._semaphore=new vj(1,e)}acquire(){return n=this,e=void 0,r=function*(){const[,e]=yield this._semaphore.acquire();return e},new((t=void 0)||(t=Promise))(function(i,s){function a(m){try{f(r.next(m))}catch(_){s(_)}}function u(m){try{f(r.throw(m))}catch(_){s(_)}}function f(m){m.done?i(m.value):function o(i){return i instanceof t?i:new t(function(s){s(i)})}(m.value).then(a,u)}f((r=r.apply(n,e||[])).next())});var n,e,t,r}runExclusive(e){return this._semaphore.runExclusive(()=>e())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const Om="cloudpilot-session-preview";function eM(){localStorage.removeItem(Om)}function mo(){return(n,e,t)=>{const r=t.value;let o=!1;return t.value=(0,fe.Z)(function*(){if(!o){o=!0;try{return yield r.apply(this,arguments)}finally{o=!1}}}),t}}class hs{constructor(){}getCurrentSession(){return this.currentSession}setCurrentSession(e){this.currentSession=e}}hs.\u0275fac=function(e){return new(e||hs)},hs.\u0275prov=mt({token:hs,factory:hs.\u0275fac,providedIn:"root"});class Br{constructor(e,t){this.alertController=e,this.emulationState=t,this.emergencySaveEvent=new ii.j}errorMessage(e){var t=this;return(0,fe.Z)(function*(){yield(yield t.alertController.create({header:"Error",backdropDismiss:!1,message:e,buttons:[{text:"Close",role:"cancel"}]})).present()})()}message(e,t,r={},o="Close"){var i=this;return(0,fe.Z)(function*(){const s=yield i.alertController.create({header:e,message:t,backdropDismiss:!1,buttons:[...Object.keys(r).map(a=>({text:a,handler:()=>{r[a](),s.dismiss()}})),{text:o,role:"cancel"}]});yield s.present(),yield s.onDidDismiss()})()}updateAvailable(){var e=this;return(0,fe.Z)(function*(){const t=yield e.alertController.create({header:"Update available",message:"An update is available. Please close CloudpilotEmu and reload in order to update.",backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()},{text:"Close",role:"cancel"}]});yield t.present(),yield t.onDidDismiss()})()}fatalError(e,t=!0){var r=this;return(0,fe.Z)(function*(){const o=!!r.emulationState.getCurrentSession(),i=yield r.alertController.create({header:"Error",message:`\n                ${e}\n                <br/><br/>\n                Please close or reload this window.\n                ${o&&t?" You may save an image of your current session before reloading.":""}\n            `,backdropDismiss:!1,buttons:[...o&&t?[{text:"Save image",handler:()=>(r.emergencySaveEvent.dispatch(),!1)}]:[],{text:"Reload",handler:()=>window.location.reload()}],cssClass:"fatal-error"});yield i.present(),yield i.onDidDismiss()})()}errorInNativeCode(e){var t=this;return(0,fe.Z)(function*(){const r=yield t.alertController.create({header:"Error",message:`\n                You encountered a bug in CloudpilotEmu:\n                <br/><br/>\n                ${e}.\n                <br/><br/>\n                Please close or reload this window.\n            `,backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()}]});yield r.present(),yield r.onDidDismiss()})()}proxyVersionMismatchError(){return this.errorMessage("\n            Server version does not match CloudpilotEmu. Please make sure that you are using the latest\n            versions of CloudpilotEmu and of the server.\n        ")}cardHasNoValidFileSystem(){return this.message("No filesystem","This card does not contain a valid filesystem.",{},"Continue")}cardHasUncorrectableErrors(){return this.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors.",{},"Continue")}cardIsClean(){return this.message("Card clean","No filesystem errors were found.",{},"Continue")}}Br.\u0275fac=function(e){return new(e||Br)(ne(zu),ne(hs))},Br.\u0275prov=mt({token:Br,factory:Br.\u0275fac,providedIn:"root"}),z([mo()],Br.prototype,"updateAvailable",null),z([mo()],Br.prototype,"fatalError",null),z([mo()],Br.prototype,"errorInNativeCode",null);class $s{constructor(e,t){this.alertService=e,this.ngZone=t,this.fatalPageLockLost=()=>this.fatalWithMessage("CloudpilotEmu was opened in another tab or window.",!1),this.fatalIDBDead=()=>this.fatalWithMessage("IndexedDB access failed. This is most likely a browser bug.",!1),this.fatalVersionMismatch=()=>this.fatalWithMessage("\n        Database was written by a newer version of CloudpilotEmu. Please wait for a few seconds before reloading\n        while the latest version downloads in the background.\n    ",!1),this.fatalBug=r=>this.fatalWithMessage(`You encountered a bug in CloudpilotEmu:<br/><br/>${r}.`),this.fatalInNativeCode=r=>this.fatalWithMessage(r.message,!0,!1),this.fatalWithMessage=(r,o=!0,i=!0)=>this.ngZone.run(()=>{this.fatalErrorTriggered||(this.fatalErrorTriggered=!0,o&&eM(),this.fatalErrorEvent.dispatch(),this.alertService.fatalError(r,i))}),this.fatalErrorEvent=new ii.j,this.fatalErrorTriggered=!1}hasFatalError(){return this.fatalErrorTriggered}}$s.\u0275fac=function(e){return new(e||$s)(ne(Br),ne(pt))},$s.\u0275prov=mt({token:$s,factory:$s.\u0275fac,providedIn:"root"});var Vr=(()=>{return(n=Vr||(Vr={})).cloudpilot="cloudpilot",n.fstools="fstools",n.vfs="vfs",n.none="none",Vr;var n})();class Ma{constructor(e){this.errorService=e,this.ownershipMmap=new Map}getOwner(e){return this.ownershipMmap.get(e)??Vr.none}claim(e,t){this.assertOwnership(e,Vr.none),this.ownershipMmap.set(e,t)}release(e,t){this.assertOwnership(e,t),this.ownershipMmap.delete(e)}assertOwnership(e,t){if(this.getOwner(e)===t)return;const r=t===Vr.none?`Card alread claimed for ${this.getOwner(e)}.`:`Expected card ownership to be ${t}, but is ${this.getOwner(e)}.`;throw this.errorService.fatalBug(r),new Error(r)}transferOwnership(e,t,r){this.assertOwnership(e,t),this.ownershipMmap.set(e,r)}}Ma.\u0275fac=function(e){return new(e||Ma)(ne($s))},Ma.\u0275prov=mt({token:Ma,factory:Ma.\u0275fac,providedIn:"root"});const jl="session",qu="rom",Hl="memory",fl="state",Nm="kvs",Gl="memory-meta",Ta="storage",Ts="storage-card",Xf="lock";class Ku extends Error{constructor(e){super(e)}}function sr(n){return new Promise((e,t)=>{!function Ij(n){return!!n.abort}(n)?n.onsuccess=()=>e(n.result):n.oncomplete=()=>e(void 0),n.onerror=()=>t(new Ku(n.error?.message))})}function nM(n){let e=255&n[0];e|=e<<8,e|=e<<16;for(let t=1;t<256;t++)if(n[t]!==e)return n;return 255&n[0]}function kj(n){const e=n[0];for(let t=1;t<2048;t++)if(n[t]!==e)return n;return e}const Lm="session",t0="memory",Tj="memory-meta",Aj="storage",oM="storage-meta",iM="storage-card",Rj="storageId";function n0(){return(n0=(0,fe.Z)(function*(n,e){function t(i){switch(i){case"PalmIIIc":case"PalmM505":case"PalmM515":return 81920;case"PalmI710":case"PalmM130":return 262144;default:return 0}}if(!e)throw new Error("no version change transaction!");const o=e.objectStore(Lm).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const u=a.value,f={...u,totalMemory:1024*u.ram*1024+t(u.device)};a.update(f),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function r0(){return(r0=(0,fe.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");const t=e.objectStore("kvs"),r=yield new Promise((o,i)=>{const s=t.get("proxyCredentials");s.onsuccess=()=>o(s.result),s.onerror=()=>i(new Error(s.error?.message))});r&&(t.put(r,"credentials"),t.delete("proxyCredentials"))})).apply(this,arguments)}function o0(){return(o0=(0,fe.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");const t=n.createObjectStore(Tj,{keyPath:"sessionId"});n.createObjectStore(Aj),n.createObjectStore(oM,{keyPath:"id",autoIncrement:!0});const o=e.objectStore(Lm).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const u=a.value;void 0!==u.totalMemory&&(t.put({sessionId:u.id,totalSize:u.totalMemory}),delete u.totalMemory,a.update(u)),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function s0(){return(s0=(0,fe.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");e.objectStore(oM).name=iM})).apply(this,arguments)}function a0(){return(a0=(0,fe.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");e.objectStore(iM).createIndex(Rj,"storageId")})).apply(this,arguments)}function l0(){return(l0=(0,fe.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");n.createObjectStore("lock")})).apply(this,arguments)}var Uj=x(5023),jj=x.n(Uj);const sM={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let $m;const Hj=new Uint8Array(16);function Gj(){if(!$m&&($m=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!$m))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $m(Hj)}const yi=[];for(let n=0;n<256;++n)yi.push((n+256).toString(16).slice(1));const c0=function zj(n,e,t){if(sM.randomUUID&&!e&&!n)return sM.randomUUID();const r=(n=n||{}).random||(n.rng||Gj)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){t=t||0;for(let o=0;o<16;++o)e[t+o]=r[o];return e}return function aM(n,e=0){return(yi[n[e+0]]+yi[n[e+1]]+yi[n[e+2]]+yi[n[e+3]]+"-"+yi[n[e+4]]+yi[n[e+5]]+"-"+yi[n[e+6]]+yi[n[e+7]]+"-"+yi[n[e+8]]+yi[n[e+9]]+"-"+yi[n[e+10]]+yi[n[e+11]]+yi[n[e+12]]+yi[n[e+13]]+yi[n[e+14]]+yi[n[e+15]]).toLowerCase()}(r)},u0=new Error("page lock lost"),lM=new Error("version mismatch"),cM=c0();function go(){return(n,e,t)=>{const r=t.value;return t.value=(0,fe.Z)(function*(){const o=this.errorService;try{return yield r.apply(this,arguments)}catch(i){throw i instanceof Ku?o.fatalIDBDead():i===lM?o.fatalVersionMismatch():i===u0?o.fatalPageLockLost():o.fatalBug(i?.message),i}}),t}}class Yn{constructor(e,t,r){this.ngZone=e,this.errorService=t,this.storageCardContext=r,this.saveMemory=(o,i,s)=>this.ngZone.runOutsideAngular(()=>{const a=o.objectStore(Hl),u=o.objectStore(Gl),f=new Uint32Array(256),m=new Uint8Array(f.buffer);a.delete(IDBKeyRange.bound([i,0],[i+1,0],!1,!0)),u.put({sessionId:i,totalSize:s.length});const k=s.length>>>10;for(let T=0;T<k;T++){m.set(s.subarray(1024*T,1024*(T+1)));const X=nM(f);if("number"==typeof X)a.put(X,[i,T]);else{const Ae=new Uint32Array(256);Ae.set(X),a.put(Ae,[i,T])}}}),this.loadMemory=(o,i)=>this.ngZone.runOutsideAngular((0,fe.Z)(function*(){const s=o.objectStore(Gl),a=yield sr(s.get(i));if(a)return new Promise(function(){var u=(0,fe.Z)(function*(f,m){const _=o.objectStore(Hl),k=new Uint32Array(a.totalSize>>>2),T=_.openCursor(IDBKeyRange.bound([i,0],[i+1,0],!1,!0));T.onsuccess=()=>{const X=T.result;if(!X)return f(new Uint8Array(k.buffer));const Ae=X.value,[,Ze]=X.key;"number"==typeof Ae?k.subarray(256*Ze,256*(Ze+1)).fill(Ae|Ae<<8|Ae<<16|Ae<<24):k.subarray(256*Ze,256*(Ze+1)).set(1024===Ae.length?new Uint32Array(Ae.buffer):Ae),X.continue()},T.onerror=()=>m(new Ku(T.error?.message))});return function(f,m){return u.apply(this,arguments)}}())})),this.sessionChangeEvent=new ii.j,this.storageCardChangeEvent=new ii.j,this.sessionUpdateMutex=new ka,this.db=this.requestPersistentStorage().then(()=>e.runOutsideAngular(()=>this.setupDb()))}getDb(){return this.db}addSession(e,t,r,o){var i=this;return(0,fe.Z)(function*(){const s=jj()(t),a=yield i.newTransaction(jl,qu,fl,Hl,Gl),u=a.objectStore(jl),f=a.objectStore(qu);(yield sr(f.get(s)))||f.put(t,s);const{id:_,...k}=e,T=yield sr(u.add({...k,rom:s})),X=yield sr(u.get(T));return r&&i.saveMemory(a,X.id,r),o&&i.saveState(a,X.id,o),yield sr(a),X})()}getAllSessions(){var e=this;return(0,fe.Z)(function*(){const[t]=yield e.prepareObjectStore(jl);return yield sr(t.getAll())})()}getSession(e){var t=this;return(0,fe.Z)(function*(){const[r]=yield t.prepareObjectStore(jl);return yield sr(r.get(e))})()}deleteSession(e){var t=this;return(0,fe.Z)(function*(){const r=yield t.newTransaction(jl,qu,fl,Hl,Gl),o=r.objectStore(jl),i=r.objectStore(qu);(e=yield sr(o.get(e.id)))&&(o.delete(e.id),0===(yield sr(o.index("rom").getAll(e.rom))).length&&i.delete(e.rom),t.deleteMemory(r,e.id),t.deleteState(r,e.id),yield sr(r),t.sessionChangeEvent.dispatch([e.id,void 0]))})()}updateSessionPartial(e,t){var r=this;return this.sessionUpdateMutex.runExclusive((0,fe.Z)(function*(){const{id:o,rom:i,ram:s,device:a,...u}=t,[f,m]=yield r.prepareObjectStore(jl),_=yield sr(f.get(e));if(!_)throw new Error(`no session with id ${e}`);const k={..._,...u};f.put(k),yield sr(m),r.sessionChangeEvent.dispatch([_.id,k])}))}updateSession(e){var t=this;return this.sessionUpdateMutex.runExclusive((0,fe.Z)(function*(){const[r,o]=yield t.prepareObjectStore(jl),i=yield sr(r.get(e.id));if(!i)throw new Error(`no session with id ${e.id}`);if(i.rom!==e.rom)throw new Error("attempt to change ROM reference");if(i.ram!==e.ram)throw new Error("attempt to change RAM size");if(i.device!==e.device)throw new Error("attempt to change device type");r.put(e),yield sr(o),t.sessionChangeEvent.dispatch([e.id,e])}))}loadSession(e){var t=this;return(0,fe.Z)(function*(){const r=yield t.newTransaction(qu,fl,Hl,Gl),o=r.objectStore(qu);return[yield sr(o.get(e.rom)),yield t.loadMemory(r,e.id),yield t.loadState(r,e.id)]})()}deleteStateForSession(e){var t=this;return(0,fe.Z)(function*(){const[r,o]=yield t.prepareObjectStore(fl);r.delete(e.id),yield sr(o)})()}addEmptyStorageCard(e){var t=this;return(0,fe.Z)(function*(){const[r]=yield t.prepareObjectStore(Ts),o=yield sr(r.add(e)),i=yield sr(r.get(o));return t.storageCardChangeEvent.dispatch(i.id),i})()}importStorageCard(e,t){var r=this;return(0,fe.Z)(function*(){return r.ngZone.runOutsideAngular((0,fe.Z)(function*(){const o=yield r.newTransaction(Ts,Ta),i=o.objectStore(Ts),s=o.objectStore(Ta),a=yield sr(i.add(e)),u=(e.size>>>13)+(t.length%8192==0?0:1),f=new Uint32Array(2048);for(let _=0;_<u;_++){const k=t.subarray(2048*_,2048*(_+1));_===u-1&&f.set(k);const T=kj(_===u-1?f:k);0!==T&&s.put("number"==typeof T?T:T?.slice(),[a,_])}const m=yield sr(i.get(a));return yield sr(o),r.storageCardChangeEvent.dispatch(m.id),m}))})()}getAllStorageCards(){var e=this;return(0,fe.Z)(function*(){const[t]=yield e.prepareObjectStore(Ts);return sr(t.getAll())})()}getCard(e){var t=this;return(0,fe.Z)(function*(){const[r]=yield t.prepareObjectStore(Ts);return sr(r.get(e))})()}updateStorageCardPartial(e,t){var r=this;return(0,fe.Z)(function*(){const{storageId:o,size:i,id:s,...a}=t,[u,f]=yield r.prepareObjectStore(Ts),m=yield sr(u.get(e));if(!m)throw new Error(`no card with id ${e}`);const _={...m,...a};u.put(_),yield sr(f),r.storageCardChangeEvent.dispatch(e)})()}deleteStorageCard(e){var t=this;return(0,fe.Z)(function*(){const r=yield t.newTransaction(Ts,Ta);t.storageCardContext.assertOwnership(e,Vr.none);const o=r.objectStore(Ts),i=r.objectStore(Ta);o.delete(e),i.delete(IDBKeyRange.bound([e,0],[e+1,0],!1,!0)),yield sr(r),t.storageCardChangeEvent.dispatch(e)})()}loadCardData(e,t,r){var o=this;return this.ngZone.runOutsideAngular((0,fe.Z)(function*(){const i=yield o.newTransaction(Ts,Ta);o.storageCardContext.assertOwnership(e,r);const s=i.objectStore(Ta);yield new Promise(function(){var a=(0,fe.Z)(function*(u,f){const m=s.openCursor(IDBKeyRange.bound([e,0],[e+1,0],!1,!0));m.onsuccess=()=>{const _=m.result;if(!_)return u();let k=_.value;const[,T]=_.key;"number"==typeof k?t.subarray(2048*T,2048*(T+1)).fill(k):(2048*(T+1)>t.length&&(k=k.subarray(0,2048-2048*(T+1)+t.length)),t.subarray(2048*T,2048*(T+1)).set(k)),_.continue()},m.onerror=()=>f(new Ku(m.error?.message))});return function(u,f){return a.apply(this,arguments)}}())}))}updateCardData(e,t,r,o){var i=this;return this.ngZone.runOutsideAngular((0,fe.Z)(function*(){const s=yield i.newTransaction(Ts,Ta);i.storageCardContext.assertOwnership(e,o);const a=s.objectStore(Ts),u=s.objectStore(Ta),f=yield sr(a.get(e));if(!f)throw new Error(`no card with ID ${e}`);if(t.length!==f.size>>>2)throw new Error("data size mismatch");const m=(f.size>>>13)+(f.size%8192>0?1:0);if((m>>>3)+(m%8>0?1:0)!==r.length)throw new Error("dirty pages size mismatch");let _=0;for(let k=0;k<r.length;k++)for(let T=1;T<256&&!(_>=m);T<<=1)r[k]&T&&u.put(t.subarray(2048*_,2048*(_+1)).slice(),[f.id,_]),_++;yield sr(s)}))}kvsGet(e){var t=this;return(0,fe.Z)(function*(){const[r]=yield t.prepareObjectStore(Nm);return sr(r.get(e))})()}kvsSet(e){var t=this;return(0,fe.Z)(function*(){const[r,o]=yield t.prepareObjectStore(Nm);for(const i of Object.keys(e))r.put(e[i],i);yield sr(o)})()}kvsLoad(){var e=this;return(0,fe.Z)(function*(){const[t]=yield e.prepareObjectStore(Nm);return new Promise((r,o)=>{const i={},s=t.openCursor();s.onsuccess=()=>{const a=s.result;if(!a)return r(i);i[a.key]=a.value,a.continue()},s.onerror=()=>o(new Ku(s.error?.message))})})()}kvsDelete(e){var t=this;return(0,fe.Z)(function*(){const[r,o]=yield t.prepareObjectStore(Nm);r.delete(e),yield sr(o)})()}acquireLock(e){var t=this;return(0,fe.Z)(function*(){if(t.errorService.hasFatalError())throw new Error("fatal error detected --- refusing DB access");if((yield sr(e.objectStore(Xf).get(0)))!==cM)throw e.abort(),e.db.close(),u0})()}newTransaction(...e){var t=this;return(0,fe.Z)(function*(){const r=(yield t.db).transaction([Xf,...e],"readwrite");return yield t.acquireLock(r),r})()}prepareObjectStore(e){var t=this;return(0,fe.Z)(function*(){const r=yield t.newTransaction(e);return[r.objectStore(e),r]})()}saveState(e,t,r){const o=e.objectStore(fl);r?o.put(r,t):o.delete(t)}deleteState(e,t){e.objectStore(fl).delete(t)}loadState(e,t){return sr(e.objectStore(fl).get(t))}deleteMemory(e,t){const r=e.objectStore(Hl),o=e.objectStore(Gl);r.delete(IDBKeyRange.bound([t,0],[t+1,0],!1,!0)),o.delete(t)}initializeLock(e){return(0,fe.Z)(function*(){const t=e.transaction(Xf,"readwrite");yield sr(t.objectStore(Xf).put(cM,0))})()}setupDb(){var e=this;return(0,fe.Z)(function*(){const t=setTimeout(()=>ea&&window.location.reload(),500);try{if(indexedDB.databases){const o=(yield indexedDB.databases()).find(i=>"cloudpilot-preview"===i.name);if(clearTimeout(t),o&&void 0!==o.version&&o.version>9)throw lM}const r=yield new Promise((o,i)=>{const s=indexedDB.open("cloudpilot-preview",9);s.onerror=()=>{i(new Ku("failed to open DB"))},s.onsuccess=()=>{o(s.result)},s.onupgradeneeded=function(){var a=(0,fe.Z)(function*(u){clearTimeout(t),u.oldVersion<1&&function Pj(n){n.createObjectStore(Lm,{keyPath:"id",autoIncrement:!0}).createIndex("rom","rom"),n.createObjectStore("state")}(s.result),u.oldVersion<2&&function Fj(n,e){if(!e)throw new Error("no version change transaction!");n.objectStoreNames.contains("rom")&&n.deleteObjectStore("rom"),n.objectStoreNames.contains(t0)&&n.deleteObjectStore(t0),e.objectStore(Lm).clear(),n.createObjectStore("rom"),n.createObjectStore(t0),n.createObjectStore("kvs")}(s.result,s.transaction),u.oldVersion<4&&(yield function Oj(n,e){return n0.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<5&&(yield function Nj(n,e){return r0.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<6&&(yield function Lj(n,e){return o0.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<7&&(yield function $j(n,e){return s0.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<8&&(yield function Bj(n,e){return a0.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<9&&(yield function Vj(n,e){return l0.apply(this,arguments)}(s.result,s.transaction))});return function(u){return a.apply(this,arguments)}}()});return yield e.initializeLock(r),r}finally{clearTimeout(t)}})()}requestPersistentStorage(){return(0,fe.Z)(function*(){(!navigator.storage?.persist||!navigator.storage?.persisted)&&console.log("storage manager not supported; unable to request persistent storage");try{(yield navigator.storage.persisted())||(yield navigator.storage.persist())?console.log("persistent storage enabled"):console.log("request for persistent storage denied by browser")}catch(e){console.warn(e),console.log("failed to request persistent storage")}})()}}Yn.\u0275fac=function(e){return new(e||Yn)(ne(pt),ne($s),ne(Ma))},Yn.\u0275prov=mt({token:Yn,factory:Yn.\u0275fac,providedIn:"root"}),z([go()],Yn.prototype,"addSession",null),z([go()],Yn.prototype,"getAllSessions",null),z([go()],Yn.prototype,"getSession",null),z([go()],Yn.prototype,"deleteSession",null),z([go()],Yn.prototype,"updateSessionPartial",null),z([go()],Yn.prototype,"updateSession",null),z([go()],Yn.prototype,"loadSession",null),z([go()],Yn.prototype,"deleteStateForSession",null),z([go()],Yn.prototype,"addEmptyStorageCard",null),z([go()],Yn.prototype,"importStorageCard",null),z([go()],Yn.prototype,"getAllStorageCards",null),z([go()],Yn.prototype,"getCard",null),z([go()],Yn.prototype,"updateStorageCardPartial",null),z([go()],Yn.prototype,"deleteStorageCard",null),z([go()],Yn.prototype,"loadCardData",null),z([go()],Yn.prototype,"kvsGet",null),z([go()],Yn.prototype,"kvsSet",null),z([go()],Yn.prototype,"kvsDelete",null),z([go()],Yn.prototype,"newTransaction",null),z([go()],Yn.prototype,"prepareObjectStore",null),z([go()],Yn.prototype,"initializeLock",null),z([go()],Yn.prototype,"setupDb",null);const uM={volume:.5,showStatistics:!1,clipboardIntegration:!1,networkRedirection:!1,proxyServer:"",credentials:{},runHidden:!1,autoLockUI:!1,enableRemoteInstall:!1,enableAudioOnFirstInteraction:!1};class Yo{constructor(e){var t=this;this.storageService=e,this.set=r=>this.storageMutex.runExclusive((0,fe.Z)(function*(){yield t.storageService.kvsSet(r);for(const o of Object.keys(r))t.rawKvs[o]=r[o];t.updateEvent.dispatch()})),this.updateEvent=new ii.j,this.mutex=new ka,this.storageMutex=new ka,this.initializationPromise=this.startInitialiation()}initialize(){var e=this;return(0,fe.Z)(function*(){return e.initializationPromise})()}get kvs(){return this.kvsProxy}startInitialiation(){var e=this;return(0,fe.Z)(function*(){const t=e;try{const r={...uM,...yield e.storageService.kvsLoad()};e.rawKvs=r,e.kvsProxy=new Proxy(r,{set:(o,i,s)=>(o[i]=s,t.storageMutex.runExclusive(()=>t.storageService.kvsSet({[i]:s})),t.updateEvent.dispatch(),!0),deleteProperty:(o,i)=>(delete o[i],t.storageMutex.runExclusive(()=>t.storageService.kvsDelete(i)),t.updateEvent.dispatch(),!0)})}catch(r){console.error("failed to load KVS"),console.error(r),e.kvsProxy={...uM}}})()}}Yo.\u0275fac=function(e){return new(e||Yo)(ne(Yn))},Yo.\u0275prov=mt({token:Yo,factory:Yo.\u0275fac,providedIn:"root"});class Mc{constructor(e,t){var r=this;this.kvsService=e,this.alertService=t,this.serviceWorkerKeepalive=(0,fe.Z)(function*(){if(navigator.serviceWorker)try{const o=yield navigator.serviceWorker.getRegistration();o?.active?.postMessage&&o.active.postMessage({})}catch{}setTimeout(r.serviceWorkerKeepalive,9e5)}),this.installationMode=this.determineInstallationMode(),this.serviceWorkerKeepalive()}promptForInstall(){return(ea||Qk)&&this.installationMode===Vl.web}getInstallationMode(){return this.installationMode}install(){this.alertService.message("Install app",this.getInstallMessage())}invite(){this.promptForInstall()&&(this.kvsService.kvs.didShowInvitation||(this.kvsService.kvs.didShowInvitation=!0,window.hasOwnProperty("onbeforeinstallprompt")||this.alertService.message("App available",this.getInviteMessage())))}getInstallMessage(){return ea&&Xk?'\n    Tap the "Share" icon on the bottom of the screen (the little box with the arrow)\n    and select "Add to Home Screen" in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':ea?'\n    Open CloudpilotEmu in Safari, tap the "Share" icon on the bottom of the screen\n    (the little box with the arrow) and select "Add to Home Screen" in order to install\n    CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Open your browser\'s menu and tap "Add to Home screen" or "Install App"\n    in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}getInviteMessage(){return ea&&Xk?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by tapping the "Share" icon\n    at the bottom of the screen (the little box with the arrow) and selecting\n    "Add to Home Screen".\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':ea?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by opening it in Safari,\n    tapping the "Share" icon at the bottom of the screen (the little box with the arrow)\n    and selecting "Add to Home Screen"\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Howdy! It seems that you are using CloudpilotEmu on an Android device. You can\n    install CloudpilotEmu as an app by opening your browser\'s menu\n    and tapping "Add to Home screen".\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}determineInstallationMode(){return window.navigator.standalone?Vl.pwa:document.referrer.startsWith("android-app://")?Vl.twa:window.matchMedia("(display-mode: standalone)").matches?Vl.pwa:Vl.web}}function Jj(n,e){1&n&&(ae(0,"div",6),dt(1,"ion-spinner"),ee())}Mc.\u0275fac=function(e){return new(e||Mc)(ne(Yo),ne(Br))},Mc.\u0275prov=mt({token:Mc,factory:Mc.\u0275fac,providedIn:"root"});class pl{constructor(e){this.modalController=e,this.title="Help",this.loading=!0}}pl.\u0275fac=function(e){return new(e||pl)(C(ps))},pl.\u0275cmp=Ye({type:pl,selectors:[["app-help"]],inputs:{url:"url",title:"title"},decls:10,vars:3,consts:[["translucent",""],["slot","primary"],[3,"click"],["fullscreen",""],["class","loader",4,"ngIf"],[3,"src","load"],[1,"loader"]],template:function(e,t){1&e&&(ae(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3),ee(),ae(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return t.modalController.dismiss()}),qe(6,"Close"),ee()()()(),ae(7,"ion-content",3),ln(8,Jj,2,0,"div",4),ae(9,"markdown",5),lt("load",function(){return t.loading=!1}),ee()()),2&e&&(et(3),Es(t.title),et(5),ot("ngIf",t.loading),et(1),ot("src",t.url))},dependencies:[oi,Qv,ji,Hi,Gi,zi,Hf,Zi,qi],styles:["markdown[_ngcontent-%COMP%]{display:block;padding-left:1em;padding-right:1em}.loader[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}"]});const Tc="1.7.13-d39e4e2 (preview)";var Bm=x(9897);const Vm=((n,e)=>{let t=null;return()=>{if(null!==t)return t;const r=new Blob(['(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error(\'The given type "\'.concat(i,\'" is not supported\'));(e=>{const r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error(\'The given method "\'.concat(s.method,\'" is not supported\'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error(\'The given type "\'.concat(d,\'" is not supported\'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();'],{type:"application/javascript; charset=utf-8"}),o=URL.createObjectURL(r);return t=(n=>{const e=new Map([[0,()=>{}]]),t=new Map([[0,()=>{}]]),r=new Map,o=new Worker(n);return o.addEventListener("message",({data:f})=>{if((n=>void 0!==n.method&&"call"===n.method)(f)){const{params:{timerId:m,timerType:_}}=f;if("interval"===_){const k=e.get(m);if("number"==typeof k){const T=r.get(k);if(void 0===T||T.timerId!==m||T.timerType!==_)throw new Error("The timer is in an undefined state.")}else{if(!(typeof k<"u"))throw new Error("The timer is in an undefined state.");k()}}else if("timeout"===_){const k=t.get(m);if("number"==typeof k){const T=r.get(k);if(void 0===T||T.timerId!==m||T.timerType!==_)throw new Error("The timer is in an undefined state.")}else{if(!(typeof k<"u"))throw new Error("The timer is in an undefined state.");k(),t.delete(m)}}}else{if(!(n=>null===n.error&&"number"==typeof n.id)(f)){const{error:{message:m}}=f;throw new Error(m)}{const{id:m}=f,_=r.get(m);if(void 0===_)throw new Error("The timer is in an undefined state.");const{timerId:k,timerType:T}=_;r.delete(m),"interval"===T?e.delete(k):t.delete(k)}}}),{clearInterval:f=>{const m=(0,Bm.generateUniqueNumber)(r);r.set(m,{timerId:f,timerType:"interval"}),e.set(f,m),o.postMessage({id:m,method:"clear",params:{timerId:f,timerType:"interval"}})},clearTimeout:f=>{const m=(0,Bm.generateUniqueNumber)(r);r.set(m,{timerId:f,timerType:"timeout"}),t.set(f,m),o.postMessage({id:m,method:"clear",params:{timerId:f,timerType:"timeout"}})},setInterval:(f,m)=>{const _=(0,Bm.generateUniqueNumber)(e);return e.set(_,()=>{f(),"function"==typeof e.get(_)&&o.postMessage({id:null,method:"set",params:{delay:m,now:performance.now(),timerId:_,timerType:"interval"}})}),o.postMessage({id:null,method:"set",params:{delay:m,now:performance.now(),timerId:_,timerType:"interval"}}),_},setTimeout:(f,m)=>{const _=(0,Bm.generateUniqueNumber)(t);return t.set(_,f),o.postMessage({id:null,method:"set",params:{delay:m,now:performance.now(),timerId:_,timerType:"timeout"}}),_}}})(o),setTimeout(()=>URL.revokeObjectURL(o)),t}})();var zl=(()=>{return(n=zl||(zl={}))[n.animationFrame=0]="animationFrame",n[n.timeout=1]="timeout",zl;var n})();class fM{constructor(e){this.callback=e}schedule(){void 0===this.handle&&(this.handle=requestAnimationFrame(e=>{this.handle=void 0,this.callback(e)}))}cancel(){void 0!==this.handle&&(cancelAnimationFrame(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return zl.animationFrame}}class iH{constructor(e,t=60){this.callback=e,this.fps=t}schedule(){if(void 0!==this.handle)return;const e=performance.now(),t=1e3*Math.ceil(e/1e3*this.fps)/this.fps;this.handle=((n,e)=>Vm().setTimeout(n,e))(()=>{this.handle=void 0,this.callback(performance.now())},Math.max(t-e,0))}cancel(){var n;void 0!==this.handle&&(n=this.handle,Vm().clearTimeout(n),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return zl.timeout}}const sH=[135,135,105],aH=[0,0,0],Wl=new Array(16).fill(0).map((n,e)=>aH.map((t,r)=>Math.floor((e*t+(15-e)*sH[r])/15))).map(([n,e,t])=>4278190080|t<<16|e<<8|n),d0=Wl.map(n=>"#"+(16777215&n).toString(16).padStart(6,"0").match(/(..?)/g)?.reverse().join(""));var ie=(()=>{return(n=ie||(ie={})).palmPilot="PalmPilot",n.pilot="Pilot",n.iii="PalmIII",n.palmVx="PalmVx",n.palmV="PalmV",n.palmVII="PalmVII",n.palmVIIEZ="PalmVIIEZ",n.palmVIIx="PalmVIIx",n.iiic="PalmIIIc",n.iiix="PalmIIIx",n.iiixe="PalmIIIxe",n.iiie="PalmIIIe",n.m500="PalmM500",n.m505="PalmM505",n.m515="PalmM515",n.m520="PalmM520",n.m100="PalmM100",n.m105="PalmM105",n.m125="PalmM125",n.m130="PalmM130",n.i705="Palmi705",n.i710="PalmI710",n.handera330="HandEra330",n.handera330c="HandEra330c",n.pegS300="PEG-S300",n.pegS320="PEG-S320",n.pegS500c="PEG-S500C",n.pegT400="PEG-T400",n.pegN600c="PEG-N600C/N610C",n.pegT600c="PEG-T600",n.pegN700c="PEG-N700C/N710C",n.pegT650c="YSX1230",n.pegNR70="NR70",n.acerS11="Acer-S11",ie;var n})(),Zl=(()=>{return(n=Zl||(Zl={})).sdcard="sdcard",n.memorystick="memorystick",n.none="none",Zl;var n})();function Qf(n){switch(n){case ie.i710:case ie.m520:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case ie.handera330:case ie.handera330c:return{screenSize:2,width:240,height:320,silkscreenHeight:0};case ie.pegS300:case ie.pegS320:case ie.pegS500c:return{screenSize:0,width:160,height:160,silkscreenHeight:76};case ie.pegT600c:case ie.pegT400:case ie.pegT650c:return{screenSize:1,width:320,height:320,silkscreenHeight:140,silkscreenOvershoot:10};case ie.pegN600c:case ie.pegN700c:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case ie.pegNR70:return{screenSize:3,width:320,height:480,silkscreenHeight:0};case ie.acerS11:return{screenSize:0,width:160,height:160,silkscreenHeight:60,siklscreenShift:8};default:return{screenSize:0,width:160,height:160,silkscreenHeight:60}}}function f0(n){switch(n){case ie.pilot:case ie.palmPilot:case ie.iii:case ie.palmV:case ie.palmVx:case ie.iiix:case ie.iiixe:case ie.iiie:case ie.m100:case ie.m105:case ie.m125:case ie.m500:case ie.palmVII:case ie.palmVIIEZ:case ie.palmVIIx:case ie.i705:case ie.handera330:case ie.pegS300:case ie.pegS320:case ie.pegT400:case ie.acerS11:return!1;default:return!0}}function pM(n){switch(n){case ie.pilot:return"Pilot";case ie.palmPilot:return"Palm Pilot";case ie.iii:return"Palm III";case ie.m500:return"Palm m500";case ie.m505:return"Palm m505";case ie.m515:return"Palm m515";case ie.m520:return"Palm m520";case ie.palmVx:return"Palm Vx";case ie.iiix:return"Palm IIIx";case ie.iiixe:return"Palm IIIxe";case ie.iiie:return"Palm IIIe";case ie.palmV:return"Palm V";case ie.palmVII:return"Palm VII";case ie.palmVIIEZ:return"Palm VII EZ";case ie.palmVIIx:return"Palm VIIx";case ie.iiic:return"Palm IIIc";case ie.m100:return"Palm m100";case ie.m105:return"Palm m105";case ie.m125:return"Palm m125";case ie.m130:return"Palm m130";case ie.i705:return"Palm i705";case ie.i710:return"Tungsten W";case ie.handera330:return"Handera 330";case ie.handera330c:return"Handera 330c";case ie.pegS300:return"Sony PEG-S300";case ie.pegS320:return"Sony PEG-S320";case ie.pegT400:return"Sony PEG-T400 series";case ie.pegN600c:return"Sony PEG-N600C series";case ie.pegT600c:return"Sony PEG-T600C series";case ie.pegN700c:return"Sony PEG-N700C series";case ie.pegT650c:return"Sony PEG-T650C series";case ie.pegNR70:return"Sony PEG-NR70 series";case ie.pegS500c:return"Sony PEG-S500C series";case ie.acerS11:return"Acer S1x series";default:throw new Error("bad device ID")}}function hM(n){switch(n){case ie.m500:case ie.m505:case ie.m515:case ie.m520:case ie.m125:case ie.m130:case ie.i705:case ie.i710:case ie.handera330:case ie.handera330c:return Zl.sdcard;case ie.pegS300:case ie.pegS500c:case ie.pegS320:case ie.pegT400:case ie.pegN600c:case ie.pegT600c:case ie.pegN700c:case ie.pegT650c:case ie.pegNR70:case ie.acerS11:return Zl.memorystick;default:return Zl.none}}class mM{constructor(e,t){this.queue=new Array(e).fill(0),this.reset(t)}reset(e=0){this.next=1,this.size=1,this.queue[0]=e}push(e){return this.queue[this.next]=e,this.next=(this.next+1)%this.queue.length,this.size<this.queue.length&&this.size++,this}calculateAverage(){let e=0;for(let t=0;t<this.size;t++)e+=this.queue[t];return e/this.size}}class uH{constructor(e){this.start=0,this.size=0,this.buffer=new Array(e)}push(e){return this.size<this.buffer.length?this.buffer[(this.start+this.size++)%this.buffer.length]=e:(this.start=(this.start+1)%this.buffer.length,this.buffer[(this.start+this.size-1)%this.buffer.length]=e),this}pop(){if(0===this.size)return;const e=this.buffer[this.start];return this.start=(this.start+1)%this.buffer.length,this.size--,e}peekLast(){if(0!==this.size)return this.buffer[(this.start+this.size-1)%this.buffer.length]}replaceLast(e){return this.size>0&&(this.buffer[(this.start+this.size-1)%this.buffer.length]=e),this}count(){return this.size}flush(){return this.start=0,this.size=0,this}}class yH{constructor(){this.onPwmUpdate=e=>{this.pendingPwmUpdates.count()>0&&this.pendingPwmUpdates.peekLast().frequency<0?this.pendingPwmUpdates.replaceLast(e):this.pendingPwmUpdates.push(e)},this.advanceEmulation=e=>{if(this.isDirty=!1,!this.cloudpilotInstance||this.hasFatalError()||e<this.clockEmulator)return;const t=this.cloudpilotInstance.isSuspended();let r=!1;this.cloudpilotInstance.setClockFactor(this.emulationSpeed*this.getConfiguredSpeed()),e-this.clockEmulator>1e3/30&&(this.clockEmulator=e-1e3/30);const o=(e-this.clockEmulator)/1e3*this.cloudpilotInstance.cyclesPerSecond(),i=performance.now();let s=0;for(;s<o;)if(s+=this.cloudpilotInstance.runEmulation(Math.ceil(o-s)),this.cloudpilotInstance.isSuspended()){r=!0;break}const a=s/this.cloudpilotInstance.cyclesPerSecond()*1e3,u=performance.now()-i;if(this.clockEmulator+=Math.max(a,u),this.speedAverage.push(a/(u>0?u:a/1e3)*this.emulationSpeed),this.updateEmulationSpeed(this.speedAverage.calculateAverage()),r&&!t)return void this.handleSuspend();const f=this.cloudpilotInstance.isPowerOff(),m=this.cloudpilotInstance.isUiInitialized();if(f!==this.powerOff||m!==this.uiInitialized){const _=this.powerOff;this.powerOff=f,this.uiInitialized=m,_!==this.powerOff&&this.powerOffChangeEvent.dispatch(this.powerOff),this.isDirty=!0}m&&!f&&this.manageHotsyncName()&&this.checkAndUpdateHotsyncName(),this.onAfterAdvanceEmulation(e,s)},this.newFrameEvent=new ii.j,this.pwmUpdateEvent=new ii.j,this.emulationStateChangeEvent=new ii.j,this.powerOffChangeEvent=new ii.j,this.deviceId=ie.m515,this.clockEmulator=0,this.scheduler=new fM(e=>this.onSchedule(e)),this.canvas=document.createElement("canvas"),this.canvasTmp=document.createElement("canvas"),this.lastPenUpdate=0,this.penDown=!1,this.running=!1,this.powerOff=!1,this.uiInitialized=!1,this.pendingPwmUpdates=new uH(10),this.lastPwmUpdateEvent=0,this.emulationSpeed=1,this.speedAverage=new mM(20),this.timePerFrameAverage=new mM(60),this.timestampLastFrame=0,this.frameCounter=0,this.isDirty=!1}handlePointerMove(e,t,r){if(!this.handleInput())return;const o=performance.now();if(this.penDown=!0,!(o-this.lastPenUpdate<25)&&this.cloudpilotInstance){if(r){const i=Qf(this.deviceId);e=this.transformSilkscreenX(e,i),t=this.transformSilkscreenY(t,i)}this.cloudpilotInstance.queuePenMove(Math.floor(e),Math.floor(t)),this.lastPenUpdate=o}}handlePointerUp(){this.handleInput()&&(this.cloudpilotInstance&&this.penDown&&this.cloudpilotInstance.queuePenUp(),this.lastPenUpdate=0,this.penDown=!1)}handleButtonDown(e){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonDown(e)}handleButtonUp(e){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonUp(e)}handleKeyDown(e,t=!1){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueKeyboardEvent(e,t)}reset(){this.cloudpilotInstance&&this.cloudpilotInstance.reset()}resetNoExtensions(){this.cloudpilotInstance&&this.cloudpilotInstance.resetNoExtensions()}resetHard(){this.cloudpilotInstance&&this.cloudpilotInstance.resetHard()}isRunning(){return this.running}isPowerOff(){return this.powerOff}isUiInitialized(){return this.uiInitialized}getCanvas(){return this.canvas}getStatistics(){return{hostSpeed:this.speedAverage.calculateAverage(),emulationSpeed:this.emulationSpeed,averageFps:this.calculateFPS()}}getEmulationSpeed(){return this.emulationSpeed}isSuspended(){return!!this.cloudpilotInstance&&this.cloudpilotInstance.isSuspended()}onAfterAdvanceEmulation(e,t){}handleSuspend(){}callScheduler(){this.scheduler.schedule()}handleInput(){return!0}openSession(e,t,r,o,i){let s=!1;return!!e.initializeSession(t,r)&&(o&&(o.length%4!=0?console.warn("memory size is not a multiple of 4; ignoring image"):(s=e.loadMemory(new Uint32Array(o.buffer,o.byteOffset,o.length>>>2)),s||console.warn("failed to load memory"))),s&&i&&e.loadState(i),e.remountCards(),this.cloudpilotInstance&&this.cloudpilotInstance.pwmUpdateEvent.removeHandler(this.onPwmUpdate),e.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.cloudpilotInstance=e,this.deviceId=r,this.resetCanvas(),this.pendingPwmUpdates.flush(),this.lastPwmUpdateEvent=0,this.deviceHotsyncName=void 0,this.emulationSpeed=1,this.frameCounter=0,this.speedAverage.reset(1),this.powerOff=e.isPowerOff(),this.uiInitialized=e.isUiInitialized(),this.frameCounter=0,!0)}resetCanvas(){const e=Qf(this.deviceId);this.canvas.width=this.canvasTmp.width=e.width,this.canvas.height=this.canvasTmp.height=e.height;const t=this.canvas.getContext("2d");if(!t)throw new Error("get a new browser");this.context=t;const r=this.canvasTmp.getContext("2d");if(!r)throw new Error("get a new browser");this.contextTmp=r,this.clearCanvas(),this.imageData=void 0}doResume(){this.cloudpilotInstance&&(this.clockEmulator=performance.now(),this.schedule(),this.setRunning(!0),this.resetFPS())}doPause(){this.stopLoop()}doStop(){this.stopLoop()}stopLoop(){this.running&&(this.scheduler.cancel(),void 0!==this.advanceEmulationHandle&&(window.clearTimeout(this.advanceEmulationHandle),this.advanceEmulationHandle=void 0),this.setRunning(!1))}resetFPS(){this.timePerFrameAverage.reset(),this.timestampLastFrame=performance.now()}calculateFPS(){const e=this.timePerFrameAverage.calculateAverage();return e&&1e3/e}transformSilkscreenX(e,t){return void 0===t.silkscreenOvershoot?e:(e-t.width/2)/(t.width/(t.width+2*t.silkscreenOvershoot))+t.width/2}transformSilkscreenY(e,t){return void 0===t.siklscreenShift?e:e+t.siklscreenShift}setRunning(e){e!==this.running&&(this.running=e,this.emulationStateChangeEvent.dispatch(e))}updateEmulationSpeed(e){if(e>=1&&this.emulationSpeed>=1)return;const t=Math.min(Math.max(Math.floor(10*e)/10,.1),1);this.emulationSpeed=t<=this.emulationSpeed||e-t>=.05?t:this.emulationSpeed}performScreenUpdate(){this.cloudpilotInstance?.isScreenDirty()&&(this.updateScreen(),this.cloudpilotInstance.markScreenClean(),this.frameCounter++)}onSchedule(e){this.hasFatalError()||(this.skipEmulationUpdate()||(this.performScreenUpdate(),this.pendingPwmUpdates.count()>0&&e-this.lastPwmUpdateEvent>10&&(this.pwmUpdateEvent.dispatch(this.pendingPwmUpdates.pop()),this.lastPwmUpdateEvent=e),void 0===this.advanceEmulationHandle&&(this.advanceEmulationHandle=window.setTimeout(()=>{this.advanceEmulationHandle=void 0,this.advanceEmulation(e)},0)),this.timePerFrameAverage.push(Math.max(0,e-this.timestampLastFrame)),this.timestampLastFrame=e),this.schedule())}schedule(){this.scheduler.cancel(),this.getConfiguredSchdedulerKind()!==this.scheduler.getKind()&&(this.scheduler=this.getConfiguredSchdedulerKind()===zl.animationFrame?new fM(e=>this.onSchedule(e)):new iH(e=>this.onSchedule(e))),this.callScheduler()}checkAndUpdateHotsyncName(){if(!this.cloudpilotInstance)return;void 0===this.deviceHotsyncName&&(this.deviceHotsyncName=this.cloudpilotInstance.getHotsyncName());const e=this.getConfiguredHotsyncName();void 0===e?this.updateConfiguredHotsyncName(this.deviceHotsyncName):e!==this.deviceHotsyncName&&e.length<=40&&this.cloudpilotInstance.isSetupComplete()&&(this.cloudpilotInstance.setHotsyncName(e),this.deviceHotsyncName=e)}clearCanvas(){const e=this.deviceId,t=Qf(e);this.context.beginPath(),this.context.rect(0,0,t.width,t.height),this.context.fillStyle=f0(e)?"white":d0[0],this.context.fill()}updateScreen(){if(!this.cloudpilotInstance)return;const e=this.cloudpilotInstance.getFrame();if(this.cloudpilotInstance.isPowerOff())return this.clearCanvas(),void this.newFrameEvent.dispatch(this.canvas);if(!e.hasChanges)return;if(e.lines*e.scaleY===this.canvas.height&&e.lineWidth*e.scaleX===this.canvas.width){(!this.imageData||this.imageData.width!==e.lineWidth||this.imageData.height!==e.lines)&&(this.imageData=new ImageData(e.lineWidth,e.lines));const r=new Uint32Array(this.imageData.data.buffer);switch(e.bpp){case 1:{const o=Wl[15],i=Wl[0];let s=0;for(let a=e.firstDirtyLine;a<=e.lastDirtyLine;a++){const u=a*e.bytesPerLine;for(let f=e.margin;f<e.lineWidth+e.margin;f++)r[s++]=e.buffer[u+(f>>>3)]&128>>>(7&f)?o:i}break}case 2:{const o=this.cloudpilotInstance.getPalette2bitMapping(),i=[Wl[15&o],Wl[o>>>4&15],Wl[o>>>8&15],Wl[o>>>12&15]];let s=0;for(let a=e.firstDirtyLine;a<=e.lastDirtyLine;a++){const u=a*e.bytesPerLine;for(let f=e.margin;f<e.lineWidth+e.margin;f++)r[s++]=i[e.buffer[u+(f>>>2)]>>6-2*(3&f)&3]}break}case 4:{let o=0;for(let i=e.firstDirtyLine;i<=e.lastDirtyLine;i++){const s=i*e.bytesPerLine;for(let a=e.margin;a<e.lineWidth+e.margin;a++)r[o++]=Wl[e.buffer[s+(a>>>1)]>>>4-4*(1&a)&15]}break}case 24:{const o=new Uint32Array(e.buffer.buffer,e.buffer.byteOffset,e.buffer.byteLength>>>2);if(0===e.margin)r.subarray(0,e.lineWidth*(e.lastDirtyLine-e.firstDirtyLine+1)).set(o.subarray(e.firstDirtyLine*e.lineWidth,e.lineWidth*(e.lastDirtyLine+1)));else{let i=0;for(let s=e.firstDirtyLine;s<=e.lastDirtyLine;s++){let a=s*(e.bytesPerLine>>>2)+e.margin;for(let u=0;u<e.lineWidth;u++)r[i++]=o[a++]}}}}}if(!this.imageData)return;const t=1!==e.scaleX||1!==e.scaleY;(t?this.contextTmp:this.context).putImageData(this.imageData,0,e.firstDirtyLine,0,0,e.lineWidth,e.lastDirtyLine-e.firstDirtyLine+1),t&&(this.context.imageSmoothingEnabled=!1,this.context.drawImage(this.canvasTmp,0,e.firstDirtyLine,e.lineWidth,e.lastDirtyLine-e.firstDirtyLine+1,0,e.firstDirtyLine*e.scaleY,e.lineWidth*e.scaleX,(e.lastDirtyLine-e.firstDirtyLine+1)*e.scaleY)),this.newFrameEvent.dispatch(this.canvas)}}class _H{constructor(e,t){this.timeoutRemaining=e,this.cb=t,this.onTimeout=()=>{const r=performance.now();if(this.timeoutRemaining-=r-this.timeoutTimestamp,this.timeoutRemaining>0)return this.timeoutTimestamp=performance.now(),void(this.handle=window.setTimeout(this.onTimeout,this.timeoutTimestamp));this.cb()},this.timeoutTimestamp=performance.now(),this.handle=window.setTimeout(this.onTimeout,e)}increase(e){this.timeoutRemaining+=e}cancel(){clearTimeout(this.handle)}}const wH=new Error("transaction timeout"),_M=new Error("session does not match emulation");class Aa{constructor(e,t,r,o,i){var s=this;this.storageService=e,this.emulationState=t,this.errorService=r,this.storageCardContext=o,this.ngZone=i,this.triggerSnapshot=()=>this.ngZone.runOutsideAngular(()=>this.sessionId<0||this.cloudpilot.isSuspended()?Promise.resolve():this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():(this.snapshotInProgress=!0,this.pendingSnapshotPromise=(0,fe.Z)(function*(){try{yield s.triggerSnapshotUnguarded()}finally{s.snapshotInProgress=!1}})(),this.pendingSnapshotPromise)),this.snapshotEvent=new ii.j,this.sessionId=-1,this.consecutiveErrorCount=0,this.snapshotInProgress=!1,this.pendingSnapshotPromise=Promise.resolve(void 0),this.cardPagePool=[]}initialize(e,t){var r=this;return(0,fe.Z)(function*(){r.errorService.hasFatalError()||(r.sessionId=e.id,r.dirtyPages=void 0,r.pages=void 0,r.state=void 0,r.db=yield r.storageService.getDb(),r.cloudpilot=t,r.resetCard())})()}resetCard(){this.cardPagePool=[],this.cardDirtyPages=void 0}waitForPendingSnapshot(){return this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():Promise.resolve()}triggerSnapshotUnguarded(){var e=this;return(0,fe.Z)(function*(){for(;;)try{return yield e.triggerSnapshotOnce(),void(e.consecutiveErrorCount=0)}catch(t){if(console.error("snapshot error",t),t===_M)throw e.errorService.fatalBug("attempting to snapshot a session that is not currently running"),t;if(t===u0)throw e.errorService.fatalPageLockLost(),t;if(++e.consecutiveErrorCount>3)throw e.errorService.fatalIDBDead(),t}})()}triggerSnapshotOnce(){var e=this;return(0,fe.Z)(function*(){const t=e.db.transaction([Hl,Gl,fl,Ta,Ts,Xf],"readwrite",{durability:"relaxed"});if(yield e.storageService.acquireLock(t),e.cloudpilot.isSuspended())return;if(e.emulationState.getCurrentSession()?.id!==e.sessionId)throw _M;let r;const o=e.cloudpilot.getMountedKey();o&&(r=yield sr(t.objectStore(Ts).index("storageId").get(o)));const i=yield new Promise((s,a)=>{let u=!1;const f=performance.now();let m=0,_=0,k=0,T=new _H(500,()=>{u=!0;try{t.abort()}catch{}a(wH)});t.oncomplete=(0,fe.Z)(function*(){T.cancel(),e.dirtyPages?.fill(0),e.cardDirtyPages?.fill(0),s({timestamp:Date.now(),pages:k,timeBlocking:_-m,timeTotal:performance.now()-f})}),t.onerror=()=>{T.cancel(),a(new Error(t.error?.message))};try{m=performance.now(),k=e.saveDirtyMemory(t,T),r&&(k+=e.saveDirtyStorage(r,t,T)),e.saveSession(t),_=performance.now()}catch(X){throw u||(T.cancel(),t.abort()),X}});e.snapshotEvent.dispatch(i)})()}saveDirtyMemory(e,t){let r=0;const o=e.objectStore(Hl),i=e.objectStore(Gl),s=this.cloudpilot.getDirtyPages(),a=this.cloudpilot.getMemory32();let u=0;if(!this.dirtyPages||!this.pages){const m=a.length>>>8;this.dirtyPages=new Uint8Array(s.length),this.pages=new Array(m);for(let _=0;_<m;_++)this.pages[_]=new Uint32Array(256)}i.put({sessionId:this.sessionId,totalSize:a.length<<2});for(let m=0;m<s.length;m++)if(this.dirtyPages[m]|=s[m],s[m]=0,0!==this.dirtyPages[m])for(let _=1;_<256&&!(r>=this.pages.length);_<<=1){if(this.dirtyPages[m]&_){const k=nM(a.subarray(256*r,256*(r+1)));"number"==typeof k?o.put(k,[this.sessionId,r]):(this.pages[r].set(k),o.put(this.pages[r],[this.sessionId,r])),t.increase(.5),u++}r++}else r+=8;return u}saveDirtyStorage(e,t,r){const o=this.cloudpilot.getCardDirtyPages(e.storageId),i=this.cloudpilot.getCardData(e.storageId);if(!i)return console.log(`seems ${e.name} was unmounted`),0;if(this.storageCardContext.assertOwnership(e.id,Vr.cloudpilot),!o)throw new Error(`failed to retrieve dirty pages for card ${e.name}`);if(i.length!==e.size>>>2)throw new Error("card size mismatch");if(this.cardDirtyPages||(this.cardDirtyPages=new Uint8Array(o.length)),this.cardDirtyPages.length!==o.length)throw new Error("card size has changed without notification");let s=0,a=0,u=0;const f=t.objectStore(Ta),m=(i.length>>11)+(i.length%2048>0?1:0);for(let _=0;_<o.length;_++)if(this.cardDirtyPages[_]|=o[_],o[_]=0,0!==this.cardDirtyPages[_])for(let k=1;k<256&&!(s>=m);k<<=1){if(this.cardDirtyPages[_]&k){a>=this.cardPagePool.length&&this.cardPagePool.push(new Uint32Array(2048));const T=this.cardPagePool[a++];T.set(i.subarray(2048*s,2048*(s+1))),f.put(T,[e.id,s]),r.increase(4),u++}s++}else s+=8;return 8*u}saveSession(e){const t=e.objectStore(fl);if(this.cloudpilot.saveState()){const r=this.cloudpilot.getSavestate();this.state||(this.state=new Uint8Array(r.length)),this.state.set(r),t.put(this.state,this.sessionId)}else console.log("save state failed"),t.delete(this.sessionId)}}function CH(n,e){1&n&&(ae(0,"p",11),qe(1," ERROR: URL must be served via HTTPS. "),ee())}function SH(n){if(!n.value)return{url:"URL empty"};let e;try{e=new(Iu())(n.value)}catch{return{url:"URL invalid"}}return"https:"===location.protocol&&"https:"!==e.protocol?{url:"mixed content"}:null}Aa.\u0275fac=function(e){return new(e||Aa)(ne(Yn),ne(hs),ne($s),ne(Ma),ne(pt))},Aa.\u0275prov=mt({token:Aa,factory:Aa.\u0275fac,providedIn:"root"});class Jf{constructor(){this.onContinue=()=>{},this.onCancel=()=>{}}ngOnInit(){this.createFormGroup()}formKeyDown(e){"Enter"===e.key&&this.continue()}continue(){this.onContinue(new(Iu())(this.formGroup.get("url")?.value).toString())}get isMixedContent(){const e=this.formGroup.get("url")?.value;if(!e)return!1;try{const t=new(Iu())(e);return"https:"===location.protocol&&"https:"!==t.protocol}catch{}return!1}createFormGroup(){this.formGroup=new qh({url:new si("",SH)})}}function Um(n){const e=new Date;return`${n}_${e.getFullYear()}${(e.getMonth()+1).toString().padStart(2,"0")}${e.getDate().toString().padStart(2,"0")}-${e.getHours().toString().padStart(2,"0")}${e.getMinutes().toString().padStart(2,"0")}${e.getSeconds().toString().padStart(2,"0")}`}function vM(n){return`${Um(n.name)}.bin`}function bM(n,e){return`backup_${Um(n.name)}${e?"_with_rom":""}.zip`}function p0(n,e=3){return 0===n.length?"":1===n.length?n[0]:`${n.slice(0,n.length>e?e:n.length-1).join(", ")} and ${n.length>e?n.length-e+" more files":n[n.length-1]}`}function wM(n){const{name:e,hotsyncName:t,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}=n;return{name:e,hotsyncName:t,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}}Jf.\u0275fac=function(e){return new(e||Jf)},Jf.\u0275cmp=Ye({type:Jf,selectors:[["app-remote-url-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel"},decls:21,vars:3,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter URL","formControlName","url"],["class","error",4,"ngIf"],[1,"error"]],template:function(e,t){1&e&&(ae(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"Enter download URL"),ee(),ae(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return t.continue()}),qe(6,"OK"),ee()(),ae(7,"ion-buttons",3)(8,"ion-button",4),lt("click",function(){return t.onCancel()}),qe(9,"Cancel"),ee()()()(),ae(10,"ion-content",5)(11,"form",6),lt("keydown",function(o){return t.formKeyDown(o)}),ae(12,"p"),qe(13," Please enter the URL from which to download: "),ee(),ae(14,"ion-item",7)(15,"ion-label",8),qe(16,"URL"),ee(),dt(17,"ion-input",9),ee(),ln(18,CH,2,0,"p",10),ae(19,"p"),qe(20," Note that the remote server needs to support the CORS protocol. "),ee()()()),2&e&&(et(5),ot("disabled",t.formGroup.invalid),et(6),ot("formGroup",t.formGroup),et(7),ot("ngIf",t.isMixedContent))},dependencies:[oi,ji,Hi,Gi,zi,ul,Ko,Wi,Zi,qi,cl,ol,nl,rl,Qs,Ca],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}.error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]});class ep{constructor(e){this.kvs=e,this.onContinue=()=>{},this.onCancel=()=>{},this.origin=""}ngOnInit(){this.createFormGroup()}formKeyDown(e){"Enter"===e.key&&this.saveAndContinue()}saveAndContinue(){this.kvs.kvs.credentials={...this.kvs.kvs.credentials,[this.origin]:{username:this.formGroup.get("username")?.value??"",password:this.formGroup.get("password")?.value??""}},this.onContinue()}createFormGroup(){const e=this.kvs.kvs.credentials[this.origin];this.formGroup=new qh({username:new si(e?.username??""),password:new si(e?.password??"")})}}ep.\u0275fac=function(e){return new(e||ep)(C(Yo))},ep.\u0275cmp=Ye({type:ep,selectors:[["app-credentials-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel",origin:"origin"},decls:22,vars:1,consts:[["translucent",""],["slot","primary"],[3,"click"],["slot","secondary"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter username","formControlName","username"],["placeholder","Enter password","formControlName","password","type","password"]],template:function(e,t){1&e&&(ae(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"Authenticate"),ee(),ae(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return t.saveAndContinue()}),qe(6,"OK"),ee()(),ae(7,"ion-buttons",3)(8,"ion-button",2),lt("click",function(){return t.onCancel()}),qe(9,"Cancel"),ee()()()(),ae(10,"ion-content",4)(11,"form",5),lt("keydown",function(o){return t.formKeyDown(o)}),ae(12,"p"),qe(13," The server requires authentication. "),ee(),ae(14,"ion-item",6)(15,"ion-label",7),qe(16,"Username"),ee(),dt(17,"ion-input",8),ee(),ae(18,"ion-item",6)(19,"ion-label",7),qe(20,"Password"),ee(),dt(21,"ion-input",9),ee()()()),2&e&&(et(11),ot("formGroup",t.formGroup))},dependencies:[ji,Hi,Gi,zi,ul,Ko,Wi,Zi,qi,cl,ol,nl,rl,Qs,Ca],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}"]});class Ac{constructor(e,t,r){this.loadingController=e,this.kvsService=t,this.modalController=r}fetch(e,t){var r=this;return(0,fe.Z)(function*(){let o=t?.loaderDelay;const i=void 0===t?.timeout?5e3:t?.timeout,s=new(Iu())("string"==typeof e?e:e.url);let a,u,f=!1;for(;;)try{void 0!==o&&o>=0&&!a&&(a=yield r.loadingController.create({message:"Loading..."}),u=window.setTimeout(()=>a.present(),o));const m=r.kvsService.kvs.credentials[s.origin],_=new AbortController,k=window.setTimeout(()=>_.abort(),i),T=yield fetch(e,{...r.requestInit(t),signal:_.signal,headers:{...t?.headers||{},...f&&m?{Authorization:"Basic "+btoa(`${m.username}:${m.password}`)}:{}}});if(clearTimeout(k),401===T.status){if(!f&&m){f=!0;continue}if(a&&(a.dismiss(),clearTimeout(u),o=0,a=void 0),f=!0,yield r.authenticate(s.origin))continue}return T}finally{a&&(yield a.dismiss()),clearTimeout(u)}})()}requestInit(e){if(!e)return;const{timeout:t,loaderDelay:r,...o}=e;return o}authenticate(e){var t=this;return(0,fe.Z)(function*(){const r=yield new Promise(o=>t.modalController.create({component:ep,backdropDismiss:!1,componentProps:{origin:e,onContinue:()=>o(!0),onCancel:()=>o(!1)}}).then(i=>i.present()));return t.modalController.dismiss(),r})()}}Ac.\u0275fac=function(e){return new(e||Ac)(ne($l),ne(Yo),ne(ps))},Ac.\u0275prov=mt({token:Ac,factory:Ac.\u0275fac,providedIn:"root"});var IH=x(3272),kH=x.n(IH);function h0(n){const e=(n>>>13)+(n%8192>0?1:0);return(e>>>3)+(e%8>0?1:0)}const CM=[ie.palmPilot,ie.pilot,ie.iii,ie.palmVx,ie.palmV,ie.palmVII,ie.palmVIIEZ,ie.palmVIIx,ie.iiixe,ie.iiix,ie.iiie,ie.m500,ie.m505,ie.m515,ie.m520,ie.iiic,ie.m100,ie.m105,ie.m125,ie.m130,ie.i705,ie.i710,ie.handera330,ie.handera330c,ie.pegS300,ie.pegS320,ie.pegS500c,ie.pegT400,ie.pegN600c,ie.pegT600c,ie.pegN700c,ie.pegT650c,ie.pegNR70,ie.acerS11];function sn(){return(n,e,t)=>{const r=t.value;return t.value=function(o,i){return this.guard(()=>r.call(this,o,i))},t}}class qt{constructor(e){this.module=e,this.fatalErrorEvent=new ii.j,this.pwmUpdateEvent=new ii.j,this.proxyDisconnectEvent=new ii.j,this.amIdead=!1,this.cloudpilot=new e.Cloudpilot,this.cloudpilot.RegisterPwmHandler(e.addFunction((t,r)=>this.pwmUpdateEvent.dispatch({frequency:t,dutyCycle:r}),"vdd")),this.cloudpilot.RegisterProxyDisconnectHandler(e.addFunction(t=>this.proxyDisconnectEvent.dispatch(e.UTF8ToString(t)),"vi"))}static create(e){return(0,fe.Z)(function*(){return new qt(yield kH()({print:t=>console.log(t),printErr:t=>console.error(t),...void 0!==e?{locateFile:()=>e}:{}}))})()}destroy(){this.module.destroy(this.cloudpilot)}hasFatalError(){return this.amIdead}getRomInfo(e){const t=this.copyIn(e),r=new this.module.RomInfo(t,e.length);let o;return r.IsValid()&&(o={cardVersion:r.CardVersion(),cardName:r.CardName(),romVersion:r.RomVersion(),romVersionString:r.RomVersionString(),supportedDevices:CM.filter(r.Supports.bind(r))}),this.cloudpilot.Free(t),this.module.destroy(r),o}initializeSession(e,t){const r=this.copyIn(e),o=this.cloudpilot.InitializeSession(r,e.length,t);return this.cloudpilot.Free(r),o}cyclesPerSecond(){return this.cloudpilot.GetCyclesPerSecond()}runEmulation(e){return this.cloudpilot.RunEmulation(e)}getFrame(){const e=this.cloudpilot.CopyFrame(),t=this.module.getPointer(e.GetBuffer());return{bpp:e.GetBpp(),bytesPerLine:e.GetBytesPerLine(),lines:e.GetLines(),lineWidth:e.GetLineWidth(),margin:e.GetMargin(),firstDirtyLine:e.GetFirstDirtyLine(),lastDirtyLine:e.GetLastDirtyLine(),hasChanges:e.GetHasChanges(),scaleX:e.GetScaleX(),scaleY:e.GetScaleY(),buffer:this.module.HEAPU8.subarray(t,t+e.GetBufferSize())}}isScreenDirty(){return this.cloudpilot.IsScreenDirty()}markScreenClean(){this.cloudpilot.MarkScreenClean()}minRamForDevice(e){return 1024*this.cloudpilot.MinMemoryForDevice(e)}framebufferSizeForDevice(e){return 1024*this.cloudpilot.FramebufferSizeForDevice(e)}totalMemorySizeForDevice(e){return 1024*this.cloudpilot.TotalMemoryForDevice(e)}queuePenMove(e,t){this.cloudpilot.QueuePenMove(e,t)}queuePenUp(){this.cloudpilot.QueuePenUp()}queueButtonDown(e){this.cloudpilot.QueueButtonDown(e)}queueButtonUp(e){this.cloudpilot.QueueButtonUp(e)}queueKeyboardEvent(e,t){this.cloudpilot.QueueKeyboardEvent(e,t)}isPowerOff(){return!!this.cloudpilot.IsPowerOff()}isUiInitialized(){return!!this.cloudpilot.IsUIInitialized()}isSetupComplete(){return!!this.cloudpilot.IsSetupComplete()}getOSVersion(){return this.cloudpilot.GetOSVersion()}reset(){this.cloudpilot.Reset()}resetNoExtensions(){this.cloudpilot.ResetNoExtensions()}resetHard(){this.cloudpilot.ResetHard()}installDb(e){const t=this.copyIn(e),r=this.cloudpilot.InstallDb(t,e.length);return this.cloudpilot.Free(t),r}getPalette2bitMapping(){return this.cloudpilot.GetPalette2bitMapping()}getMemory(){const e=this.module.getPointer(this.cloudpilot.GetMemoryPtr());return this.module.HEAPU8.subarray(e,e+this.cloudpilot.GetMemorySize())}getMemory32(){let e=this.module.getPointer(this.cloudpilot.GetMemoryPtr());if(3&e)throw new Error("unaligned pointer");return e>>>=2,this.module.HEAPU32.subarray(e,e+(this.cloudpilot.GetMemorySize()>>>2))}getDirtyPages(){const e=this.module.getPointer(this.cloudpilot.GetDirtyPagesPtr()),t=this.cloudpilot.GetMemorySize();return this.module.HEAPU8.subarray(e,e+((t>>>13)+(t%8192==0?0:1)))}loadMemory(e){const t=this.getMemory32();if((()=>{if(e.length!==t.length||e.length<256)return!1;for(let o=256;o>0;o--){if(e[e.length-o]!==t[t.length-o])return!1;if(4294967295===t[t.length-o])break}return!0})())return t.set(e),!0;{const o=this.copyIn32(e),i=this.cloudpilot.ImportMemoryImage(o,e.length<<2);return this.cloudpilot.Free(o),i}}getRomImage(){const e=this.module.getPointer(this.cloudpilot.GetRomPtr());return this.module.HEAPU8.subarray(e,e+this.cloudpilot.GetRomSize())}getSavestate(){const e=this.module.getPointer(this.cloudpilot.GetSavestatePtr());return this.module.HEAPU8.subarray(e,e+this.cloudpilot.GetSavestateSize())}saveState(){return!!this.cloudpilot.SaveState()}loadState(e){const t=this.copyIn(e),r=this.cloudpilot.LoadState(t,e.length);return this.cloudpilot.Free(t),r}getHotsyncName(){return this.cloudpilot.GetHotsyncName()}setClockFactor(e){this.cloudpilot.SetClockFactor(e)}setHotsyncName(e){this.cloudpilot.SetHotsyncName(e)}backup(e){var t=this;return(0,fe.Z)(function*(){const r=t.guard(()=>t.cloudpilot.StartBackup());try{return yield e(t.wrap(r))}finally{t.module.destroy(r)}})()}getArchive(e){const t=e.GetArchiveSize();return this.copyOut(e.GetArchivePtr(),t)}setClipboardIntegration(e){this.cloudpilot.SetClipboardIntegration(e)}getClipboardIntegration(){return this.cloudpilot.GetClipboardIntegration()}isSuspended(){return this.cloudpilot.IsSuspended()}getSuspendKind(){return this.cloudpilot.GetSuspendContext().GetKind()}cancelSuspend(){this.cloudpilot.GetSuspendContext().Cancel()}getSuspendContextClipboardCopy(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardCopy())}getSuspendContextClipboardPaste(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardPaste())}setNetworkRedirection(e){this.cloudpilot.SetNetworkRedirection(e)}getNetworkRedirection(){return this.cloudpilot.GetNetworkRedirection()}getSuspendContextNetworkConnect(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkConnect())}getSuspendContextNetworkRpc(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkRpc())}copyBuffer(e){return this.copyIn(e)}freeBuffer(e){this.cloudpilot.Free(e)}setHotsyncNameManagement(e){this.cloudpilot.SetHotsyncNameManagement(e)}resolveBuffer(e,t){const r=this.module.getPointer(e);return this.module.HEAPU8.subarray(r,r+t)}withZipfileWalker(e,t){var r=this;return(0,fe.Z)(function*(){const o=r.guard(()=>{const i=r.copyIn(e),s=new r.module.ZipfileWalker(e.length,i);return r.cloudpilot.Free(i),s});try{return yield t(r.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>r.copyOut(o.GetCurrentEntryContent(),o.GetCurrentEntrySize())},o)))}finally{r.module.destroy(o)}})()}withZipfileWalkerSync(e,t){const r=this.guard(()=>{const o=this.copyIn(e),i=new this.module.ZipfileWalker(e.length,o);return this.cloudpilot.Free(o),i});try{return t(this.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>this.copyOut(r.GetCurrentEntryContent(),r.GetCurrentEntrySize())},r)))}finally{this.module.destroy(r)}}serializeSessionImage(e){const t=new this.module.SessionImage,r=this.cloudpilot.Nullptr(),o=this.copyIn(e.rom),i=e.memory?this.copyIn(e.memory):r,s=void 0!==e.savestate?this.copyIn(e.savestate):r;let a=r,u=0;if(void 0!==e.metadata){const m=(new TextEncoder).encode(JSON.stringify(e.metadata));u=m.length,a=this.copyIn(m)}t.SetRomImage(o,e.rom.length),t.SetMemoryImage(i,e.memory?.length||0),t.SetDeviceId(e.deviceId),t.SetSavestate(s,e.savestate?.length||0),t.SetMetadata(a,u);const f=t.Serialize()?this.copyOut(t.GetSerializedImage(),t.GetSerializedImageSize()):void 0;return this.module.destroy(t),[o,i,s,a].forEach(m=>this.cloudpilot.Free(m)),f}deserializeSessionImage(e){const t=new this.module.SessionImage,r=this.copyIn(e),o=(()=>{if(!t.Deserialize(r,e.length))return;const i=this.copyOut(t.GetRomImage(),t.GetRomImageSize()),s=this.copyOut(t.GetMemoryImage(),t.GetMemoryImageSize()),a=this.copyOut(t.GetSavestate(),t.GetSavestateSize()),u=t.GetDeviceId();if(!CM.includes(u))return void console.warn(`unsupported device ${u}`);let f;const m=this.copyOut(t.GetMetadata(),t.GetMetadataSize());if(m)try{f=JSON.parse((new TextDecoder).decode(m))}catch(_){console.warn("invalid metadata",_)}return{deviceId:u,rom:i,memory:s,savestate:a,metadata:f,version:t.GetVersion()}})();return this.module.destroy(t),this.cloudpilot.Free(r),o}launchAppByName(e){return this.cloudpilot.LaunchAppByName(e)}launchAppByDbHeader(e){if(e.length<32)return!1;const t=this.copyIn(e.subarray(0,32)),r=this.cloudpilot.LaunchAppByDbHeader(t,32);return this.cloudpilot.Free(t),r}deviceSupportsCardSize(e){return this.cloudpilot.DeviceSupportsCardSize(e)}clearExternalStorage(){this.cloudpilot.ClearExternalStorage()}allocateCard(e,t){return this.cloudpilot.AllocateCard(e,t>>>9)}getCardData(e){const t=this.module.getPointer(this.cloudpilot.GetCardData(e));if(0!==t)return this.module.HEAPU32.subarray(t>>>2,t+this.cloudpilot.GetCardSize(e)>>2)}getCardDirtyPages(e){const t=this.module.getPointer(this.cloudpilot.GetCardDirtyPages(e));if(0===t)return;const r=h0(this.cloudpilot.GetCardSize(e));return this.module.HEAPU8.subarray(t,t+r)}getMountedKey(){return this.cloudpilot.GetMountedKey()}mountCard(e){return this.cloudpilot.MountCard(e)}removeCard(e){return this.cloudpilot.RemoveCard(e)}remountCards(){this.cloudpilot.RemountCards()}getCardSupportLevel(e){return this.cloudpilot.GetSupportLevel(e)}copyIn(e){const t=this.cloudpilot.Malloc(e.length),r=this.module.getPointer(t);return this.module.HEAPU8.subarray(r,r+e.length).set(e),t}copyIn32(e){const t=this.cloudpilot.Malloc(e.length<<2),r=this.module.getPointer(t);return this.module.HEAPU32.subarray(r>>>2,(r>>>2)+e.length).set(e),t}copyOut(e,t){const r=this.module.getPointer(e);return r>0&&t>0?this.module.HEAPU8.subarray(r,r+t).slice():void 0}wrap(e){return new Proxy(e,{get:(t,r)=>{const o=t[r];return"function"!=typeof o?o:(...i)=>this.guard(()=>o.apply(t,i))}})}guard(e){if(this.amIdead)throw new Error("cloudpilot instance is dead");try{return e()}catch(t){throw this.amIdead=!0,this.cloudpilot=void 0,this.fatalErrorEvent.dispatch(t instanceof Error?t:new Error("unknown error")),t}}}z([sn()],qt.prototype,"getRomInfo",null),z([sn()],qt.prototype,"initializeSession",null),z([sn()],qt.prototype,"cyclesPerSecond",null),z([sn()],qt.prototype,"runEmulation",null),z([sn()],qt.prototype,"getFrame",null),z([sn()],qt.prototype,"isScreenDirty",null),z([sn()],qt.prototype,"markScreenClean",null),z([sn()],qt.prototype,"minRamForDevice",null),z([sn()],qt.prototype,"framebufferSizeForDevice",null),z([sn()],qt.prototype,"totalMemorySizeForDevice",null),z([sn()],qt.prototype,"queuePenMove",null),z([sn()],qt.prototype,"queuePenUp",null),z([sn()],qt.prototype,"queueButtonDown",null),z([sn()],qt.prototype,"queueButtonUp",null),z([sn()],qt.prototype,"queueKeyboardEvent",null),z([sn()],qt.prototype,"isPowerOff",null),z([sn()],qt.prototype,"isUiInitialized",null),z([sn()],qt.prototype,"isSetupComplete",null),z([sn()],qt.prototype,"getOSVersion",null),z([sn()],qt.prototype,"reset",null),z([sn()],qt.prototype,"resetNoExtensions",null),z([sn()],qt.prototype,"resetHard",null),z([sn()],qt.prototype,"installDb",null),z([sn()],qt.prototype,"getPalette2bitMapping",null),z([sn()],qt.prototype,"getMemory",null),z([sn()],qt.prototype,"getMemory32",null),z([sn()],qt.prototype,"getDirtyPages",null),z([sn()],qt.prototype,"loadMemory",null),z([sn()],qt.prototype,"getRomImage",null),z([sn()],qt.prototype,"getSavestate",null),z([sn()],qt.prototype,"saveState",null),z([sn()],qt.prototype,"loadState",null),z([sn()],qt.prototype,"getHotsyncName",null),z([sn()],qt.prototype,"setClockFactor",null),z([sn()],qt.prototype,"setHotsyncName",null),z([sn()],qt.prototype,"setClipboardIntegration",null),z([sn()],qt.prototype,"getClipboardIntegration",null),z([sn()],qt.prototype,"isSuspended",null),z([sn()],qt.prototype,"getSuspendKind",null),z([sn()],qt.prototype,"cancelSuspend",null),z([sn()],qt.prototype,"getSuspendContextClipboardCopy",null),z([sn()],qt.prototype,"getSuspendContextClipboardPaste",null),z([sn()],qt.prototype,"setNetworkRedirection",null),z([sn()],qt.prototype,"getNetworkRedirection",null),z([sn()],qt.prototype,"getSuspendContextNetworkConnect",null),z([sn()],qt.prototype,"getSuspendContextNetworkRpc",null),z([sn()],qt.prototype,"copyBuffer",null),z([sn()],qt.prototype,"freeBuffer",null),z([sn()],qt.prototype,"setHotsyncNameManagement",null),z([sn()],qt.prototype,"resolveBuffer",null),z([sn()],qt.prototype,"serializeSessionImage",null),z([sn()],qt.prototype,"deserializeSessionImage",null),z([sn()],qt.prototype,"launchAppByName",null),z([sn()],qt.prototype,"launchAppByDbHeader",null),z([sn()],qt.prototype,"deviceSupportsCardSize",null),z([sn()],qt.prototype,"clearExternalStorage",null),z([sn()],qt.prototype,"allocateCard",null),z([sn()],qt.prototype,"getCardData",null),z([sn()],qt.prototype,"getCardDirtyPages",null),z([sn()],qt.prototype,"getMountedKey",null),z([sn()],qt.prototype,"mountCard",null),z([sn()],qt.prototype,"removeCard",null),z([sn()],qt.prototype,"remountCards",null),z([sn()],qt.prototype,"getCardSupportLevel",null);class Ki{constructor(){this.cloudpilot=qt.create()}}Ki.\u0275fac=function(e){return new(e||Ki)},Ki.\u0275prov=mt({token:Ki,factory:Ki.\u0275fac,providedIn:"root"});class Bs{constructor(e,t,r,o,i,s,a,u){this.storageService=e,this.loadingController=t,this.actionSheetController=r,this.kvsService=o,this.modalController=i,this.alertService=s,this.fetchService=a,this.cloudpilotService=u}openFile(e){this.openFilesImpl(!1,t=>{t.length>0&&e(t[0])})}openFiles(e){this.openFilesImpl(!0,e)}openFromDrop(e,t){"drop"!==e.type||!e.dataTransfer?.files||t(Array.from(e.dataTransfer.files).map(this.readFile.bind(this)))}saveSession(e){var t=this;return(0,fe.Z)(function*(){const r=yield t.loadingController.create({message:"Exporting..."});yield r.present();try{const[o,i,s]=yield t.storageService.loadSession(e);if(!o)throw new Error(`invalid ROM ${e.rom}`);const a={deviceId:e.device,metadata:wM(e),rom:o,memory:i,savestate:s},u=(yield t.cloudpilotService.cloudpilot).serializeSessionImage(a);u?t.saveFile(vM(e),u):(yield r.dismiss(),t.alertService.errorMessage("Failed to save session."))}finally{r.dismiss()}})()}emergencySaveSession(e,t){var r=this;return(0,fe.Z)(function*(){const o=yield r.loadingController.create({message:"Exporting..."});o.style.zIndex="10000000",yield o.present();try{const i=t.getRomImage().slice(),s=t.getMemory().slice(),a=t.saveState()?t.getSavestate().slice():void 0;if(t.framebufferSizeForDevice(e.device)<0)throw new Error(`invalid device ID ${e.device}`);const f={deviceId:e.device,metadata:wM(e),rom:i,memory:s,savestate:a},m=(yield r.cloudpilotService.cloudpilot).serializeSessionImage(f);m&&r.saveFile(vM(e),m)}finally{o.dismiss()}})()}saveFile(e,t){const r=new Blob([t],{type:"application/octet-stream"}),o=URL.createObjectURL(r),i=document.createElement("a");i.href=o,i.download=e,i.click()}openUrl(e,t){var r=this;return(0,fe.Z)(function*(){let o;try{o=new(Iu())(e)}catch{return void(yield r.alertService.errorMessage(`Invalid URL: ${e}`))}try{const i=yield r.fetchService.fetch(e);if(!i.ok)throw new Error("request failed");const s=i.arrayBuffer().then(a=>new Uint8Array(a));return void t({name:o.pathname.replace(/.*\//,""),getContent:()=>s})}catch{yield r.alertService.errorMessage(`Download from ${e} failed.`)}})()}openFilesImpl(e,t){var r=this;return(0,fe.Z)(function*(){r.kvsService.kvs.enableRemoteInstall?(yield r.actionSheetController.create({header:"What source do you want to open?",buttons:[{text:"Local files",handler:()=>r.openFilesLocal(e,t)},{text:"File on remote server",handler:()=>r.queryAndOpenFileRemote(t)},{text:"Cancel"}]})).present():r.openFilesLocal(e,t)})()}queryAndOpenFileRemote(e){var t=this;return(0,fe.Z)(function*(){let r;try{r=yield new Promise((o,i)=>t.modalController.create({component:Jf,backdropDismiss:!1,componentProps:{onContinue:o,onCancel:i}}).then(s=>s.present()))}catch{return}finally{t.modalController.dismiss()}yield t.openUrl(r,o=>e([o]))})()}openFilesLocal(e,t){var r=this;this.input&&document.body.removeChild(this.input),this.input=document.createElement("input"),this.input.style.display="none",this.input.multiple=e,this.input.type="file",this.input.addEventListener("change",function(){var o=(0,fe.Z)(function*(i){const s=i.target;s?.files&&t(Array.from(s.files).map(r.readFile.bind(r)))});return function(i){return o.apply(this,arguments)}}()),document.body.appendChild(this.input),this.input.click()}readFile(e){let t,r=function(){var o=(0,fe.Z)(function*(){return t||(t=new Promise((i,s)=>{const a=new FileReader;a.onload=()=>i(new Uint8Array(a.result)),a.onerror=()=>{console.warn(a.error),s(a.error)},a.readAsArrayBuffer(e)}),t)});return function(){return o.apply(this,arguments)}}();return{name:e.name,getContent:r}}}Bs.\u0275fac=function(e){return new(e||Bs)(ne(Yn),ne($l),ne(qf),ne(Yo),ne(ps),ne(Br),ne(Ac),ne(Ki))},Bs.\u0275prov=mt({token:Bs,factory:Bs.\u0275fac,providedIn:"root"});class ql{constructor(e){this.zone=e,this.modalVisibilityChangeEvent=new ii.j,this.modalActive=!1,this.update(),this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}isModalActive(){return this.modalActive}update(){const e=document.querySelectorAll("ion-alert, ion-modal").length>0;e!==this.modalActive&&this.zone.run(()=>{this.modalActive=e,this.modalVisibilityChangeEvent.dispatch(e)})}}ql.\u0275fac=function(e){return new(e||ql)(ne(pt))},ql.\u0275prov=mt({token:ql,factory:ql.\u0275fac,providedIn:"root"});const jm=new Error("permission denied");class xc{constructor(e,t){this.alertController=e,this.alertService=t,this.clipboardContent="",this.lastClipboardReadAt=performance.now()}isSupported(){return!!navigator.clipboard?.readText&&!!navigator.clipboard?.writeText}handleSuspend(e){if(e.isSuspended())switch(e.getSuspendKind()){case 1:this.handleCopy(e);break;case 2:this.handlePaste(e)}}handleCopy(e){var t=this;return(0,fe.Z)(function*(){const r=e.getSuspendContextClipboardCopy(),o=r.GetClipboardContent();try{return yield t.tryCopyDirect(o),void r.Resume()}catch(i){if(i===jm)return r.Cancel(),t.msgPermissionDenied()}try{yield t.tryCopyWithInteraction(o),r.Resume()}catch{yield t.msgCopyFailed(),r.Cancel()}})()}tryCopyDirect(e){var t=this;return(0,fe.Z)(function*(){try{yield navigator.clipboard.writeText(e)}catch(r){throw(yield t.isPermissionDenied("clipboard-write"))?jm:r}})()}tryCopyWithInteraction(e){var t=this;return new Promise(function(){var r=(0,fe.Z)(function*(o,i){try{const s=yield t.alertController.create({header:"Confirm Copy",message:"Please confirm that you want to copy to the host clipboard",backdropDismiss:!1,buttons:[{text:"Copy",handler:(a=(0,fe.Z)(function*(){s.dismiss();try{yield navigator.clipboard.writeText(e),o(!0)}catch(u){i(u)}}),function(){return a.apply(this,arguments)})},{text:"Cancel",handler:()=>{s.dismiss(),o(!1)}}]});s.present()}catch(s){i(s)}var a});return function(o,i){return r.apply(this,arguments)}}())}handlePaste(e){var t=this;return(0,fe.Z)(function*(){const r=yield t.tryPaste();e.getSuspendContextClipboardPaste().Resume(r??""),void 0!==r&&(t.clipboardContent=r,t.lastClipboardReadAt=performance.now())})()}tryPaste(){var e=this;return(0,fe.Z)(function*(){if(performance.now()-e.lastClipboardReadAt<3e3)return e.clipboardContent;try{return yield e.tryPasteDirect()}catch(t){if(t===jm)return void(yield e.msgPermissionDenied())}try{return yield e.tryPasteWithInteraction()}catch{return void(yield e.msgPasteFailed())}})()}tryPasteDirect(){var e=this;return(0,fe.Z)(function*(){try{return yield navigator.clipboard.readText()}catch(t){throw(yield e.isPermissionDenied("clipboard-read"))?jm:t}})()}tryPasteWithInteraction(){var e=this;return new Promise(function(){var t=(0,fe.Z)(function*(r,o){try{const i=yield e.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard",backdropDismiss:!1,buttons:[{text:"Paste",handler:(s=(0,fe.Z)(function*(){i.dismiss();try{r(yield navigator.clipboard.readText())}catch(a){o(a)}}),function(){return s.apply(this,arguments)})},{text:"Cancel",handler:()=>{i.dismiss(),r(void 0)}}]});i.present()}catch(i){o(i)}var s});return function(r,o){return t.apply(this,arguments)}}())}handlePasteSafari(e){var t=this;return(0,fe.Z)(function*(){const r=yield t.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard.",backdropDismiss:!1,buttons:[{text:"Paste",handler:(o=(0,fe.Z)(function*(){try{t.clipboardContent=yield navigator.clipboard.readText(),t.lastClipboardReadAt=performance.now(),r.dismiss(),e.Resume(t.clipboardContent)}catch{r.dismiss(),yield t.alertService.errorMessage("Paste from host clipboard failed."),e.Resume("")}}),function(){return o.apply(this,arguments)})},{text:"Cancel",handler:()=>{r.dismiss(),e.Resume("")}}]});var o;yield r.present()})()}isPermissionDenied(e){return(0,fe.Z)(function*(){if(navigator.permissions)try{return"denied"===(yield navigator.permissions.query({name:e}))?.state}catch{return!1}return!1})()}msgPermissionDenied(){return this.alertService.errorMessage(`\n        CloudpilotEmu has no permission to access the clipboard. Please check your browser's settings\n        and grant the necessary permission to ${location.origin} .\n    `)}msgCopyFailed(){return this.alertService.errorMessage("Failed to copy to the host clipboard.")}msgPasteFailed(){return this.alertService.errorMessage("Failed to paste from the host clipboard.")}}xc.\u0275fac=function(e){return new(e||xc)(ne(zu),ne(Br))},xc.\u0275prov=mt({token:xc,factory:xc.\u0275fac,providedIn:"root"});const TH="https:"===window.location.protocol?8667:8666,AH=/^[\da-z\-\.]+$/i,xH=/^[\da-z\-\.]+:\d+$/i;function m0(n){if(!n)return;const e=window.location.protocol;if(n.match(AH))return`${e}//${n}:${TH}`;if(n.match(xH))return`${e}//${n}`;try{const t=new URL(n);if("https:"===t.protocol||"http:"===t.protocol)return t.toString().replace(/\/+$/,"")}catch{}}function RH(n){return void 0!==m0(n.value)?null:{proxyAddress:"invalid"}}class Kl{constructor(e,t,r,o){var i=this;this.kvsService=e,this.alertService=t,this.ngZone=r,this.fetchService=o,this.handleConnect=()=>this.mutex.runExclusive((0,fe.Z)(function*(){i.socket&&i.disconnect(i.socket);const s=m0(i.kvsService.kvs.proxyServer);if(!s)return yield i.alertService.errorMessage(`Invalid proxy address: ${i.kvsService.kvs.proxyServer}`),void i.cloudpilot.getSuspendContextNetworkConnect().Cancel();const a=yield i.handshake(void 0,500);switch(a.status){case"failed":return void i.onSocketError(void 0);case"version_mismatch":return yield i.alertService.proxyVersionMismatchError(),void i.cancelSuspend();case"success":break;default:throw new Error("unreachable")}i.socket=new WebSocket(`${s.replace(/^http/,"ws")}/network-proxy/connect?token=${encodeURIComponent(a.token)}`),i.socket.binaryType="arraybuffer",i.bindListeners(i.socket),i.ngZone.run(()=>i.connectTimeoutHandle=setTimeout(i.onSocketError,5e3))})),this.onSocketOpen=()=>{if(this.cancelConnectTimeout(),!this.cloudpilot.isSuspended()||4!==this.cloudpilot.getSuspendKind())return console.error("ERROR: socket connected, but emulation is not waiting for connect"),void this.disconnect(this.socket);this.sessionId=c0(),this.cloudpilot.getSuspendContextNetworkConnect().Resume(this.sessionId),this.resumeEvent.dispatch()},this.onSocketMessage=s=>{if(!this.cloudpilot.isSuspended()||3!==this.cloudpilot.getSuspendKind())return void console.error("ERROR: socket received message, but emulation is not waiting for rpc");if(!(s.data instanceof ArrayBuffer))return console.error("ERROR: socket received a text frame"),this.disconnect(this.socket),this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),void this.cancelSuspend();const a=this.cloudpilot.copyBuffer(new Uint8Array(s.data));this.cloudpilot.getSuspendContextNetworkRpc().ReceiveResponse(a,s.data.byteLength),this.cloudpilot.freeBuffer(a),this.resumeEvent.dispatch()},this.onSocketError=s=>{this.cancelConnectTimeout(),this.cloudpilot.isSuspended()&&4===this.cloudpilot.getSuspendKind()?this.alertService.errorMessage("Failed to connect to proxy."):this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(this.socket),this.cancelSuspend(),console.error("ERROR: socket error",s)},this.onSocketClose=()=>{this.cancelConnectTimeout(),this.alertService.errorMessage("Connection to proxy closed unexpectedly"),this.unbindListeners(this.socket),this.cancelSuspend(),this.sessionId="",this.socket=void 0},this.onProxyDisconnect=s=>{s!==this.sessionId||!this.socket||this.ngZone.run(()=>this.disconnect(this.socket))},this.resumeEvent=new ii.j,this.mutex=new ka,this.sessionId=""}initialize(e){this.cloudpilot=e,e.proxyDisconnectEvent.addHandler(this.onProxyDisconnect)}reset(){this.socket&&this.disconnect(this.socket)}handleSuspend(){if(this.cloudpilot&&this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:this.handleConnect();break;case 3:this.handleRpc()}}isConnected(){return!!this.socket}handshake(e=this.kvsService.kvs.proxyServer,t=-1){var r=this;return(0,fe.Z)(function*(){const o=m0(e);if(!o)return{status:"failed"};try{const i=yield r.fetchService.fetch(`${o}/network-proxy/handshake`,{method:"POST",loaderDelay:t});if(!i.ok)return{status:"failed"};const s=yield i.json();return s.version<3||s.compatVersion>3?{status:"version_mismatch"}:{status:"success",token:s.token}}catch{return{status:"failed"}}})()}handleRpc(){const e=this.cloudpilot.getSuspendContextNetworkRpc();this.socket?this.socket.send(this.cloudpilot.resolveBuffer(e.GetRequestData(),e.GetRequestSize())):e.Cancel()}disconnect(e){e&&(this.unbindListeners(e),e.close()),this.sessionId="",this.socket=void 0}bindListeners(e){this.ngZone.run(()=>{e.addEventListener("open",this.onSocketOpen),e.addEventListener("error",this.onSocketError),e.addEventListener("close",this.onSocketClose)}),this.ngZone.runOutsideAngular(()=>e.addEventListener("message",this.onSocketMessage))}unbindListeners(e){e&&(e.removeEventListener("message",this.onSocketMessage),e.removeEventListener("open",this.onSocketOpen),e.removeEventListener("error",this.onSocketError),e.removeEventListener("close",this.onSocketClose))}cancelSuspend(){if(this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:case 3:this.cloudpilot.cancelSuspend()}}cancelConnectTimeout(){void 0!==this.connectTimeoutHandle&&clearTimeout(this.connectTimeoutHandle),this.connectTimeoutHandle=void 0}}Kl.\u0275fac=function(e){return new(e||Kl)(ne(Yo),ne(Br),ne(pt),ne(Ac))},Kl.\u0275prov=mt({token:Kl,factory:Kl.\u0275fac,providedIn:"root"});class Rc{constructor(){this.buttons=new Map}reset(e){this.cloudpilot=e,this.buttons.clear(),[6,7].forEach(t=>e.queueButtonUp(t))}engage(e){this.cloudpilot&&(this.buttons.has(e)?this.buttons.get(e).timer=0:(this.buttons.set(e,{button:e,timer:0}),this.cloudpilot?.queueButtonDown(e)))}tick(e){if(this.cloudpilot)for(const[t,r]of this.buttons)r.timer+=1e3*e,r.timer>250&&(this.cloudpilot.queueButtonUp(t),this.buttons.delete(t))}}Rc.\u0275fac=function(e){return new(e||Rc)},Rc.\u0275prov=mt({token:Rc,factory:Rc.\u0275fac,providedIn:"root"});class Pc{constructor(){this.hasRenderedPromise=new Promise(e=>this.hasRenderedResolve=e)}notifyHasRendered(){this.hasRenderedResolve()}hasRendered(){return this.hasRenderedPromise}}Pc.\u0275fac=function(e){return new(e||Pc)},Pc.\u0275prov=mt({token:Pc,factory:Pc.\u0275fac,providedIn:"root"});var NH=x(9084),EM=x.n(NH);function g0(){return(g0=(0,fe.Z)(function*(n){const e=yield y0.create();if(e.mkfs(n))return e.getImage()})).apply(this,arguments)}const DM="fstools_web.wasm",IM=WebAssembly.compileStreaming?WebAssembly.compileStreaming(fetch(DM)):fetch(DM).then(n=>n.arrayBuffer()).then(n=>WebAssembly.compile(n));class y0{constructor(e){this.module=e,this.nativeContext=new e.MkfsContext}static create(){return(0,fe.Z)(function*(){return new y0(yield EM()({print:e=>console.log(e),printErr:e=>console.error(e),instantiateWasm:(e=(0,fe.Z)(function*(t,r){return r(yield WebAssembly.instantiate(yield IM,t))}),function(r,o){return e.apply(this,arguments)})}));var e})()}mkfs(e){return this.nativeContext.Mkfs(e,"card")}getImage(){const e=this.nativeContext.GetImageSize(),t=this.module.getPointer(this.nativeContext.GetImage());if(0!==e&&0!==t)return this.module.HEAPU32.subarray(t>>>2,t+e>>>2)}}class Hm{constructor(e,t){this.module=e,this.result=0,this.nativeContext=new e.FsckContext(t>>>9)}static create(e){return(0,fe.Z)(function*(){const t=yield EM()({print:r=>console.log(r),printErr:r=>console.error(r),instantiateWasm:(r=(0,fe.Z)(function*(o,i){return i(yield WebAssembly.instantiate(yield IM,o))}),function(i,s){return r.apply(this,arguments)})});var r;return new Hm(t,e)})()}getImageData(){const e=this.nativeContext.GetImageSize(),t=this.module.getPointer(this.nativeContext.GetImage());return this.module.HEAPU32.subarray(t>>>2,t+e>>2)}getDirtyPages(){const e=this.module.getPointer(this.nativeContext.GetDirtyPages()),t=h0(this.nativeContext.GetImageSize());return this.module.HEAPU8.subarray(e,e+t)}fsck(){if(0!==this.result)return this.result;try{return this.result=this.nativeContext.Fsck(),this.result}catch(e){return console.warn("fsck failed",e),this.result=4,this.result}}getResult(){return this.result}}var Er=(()=>{return(n=Er||(Er={})).dirty="dirty",n.clean="clean",n.unformatted="unformatted",n.unfixable="unfixable",Er;var n})(),vr=(()=>{return(n=vr||(vr={})).portrait="portrait",n.landscape90="landscape90",n.landscape270="landscape270",n.portrait180="portrait180",vr;var n})();class xa{constructor(e,t,r){this.cloudpilotService=e,this.storageService=t,this.loadingController=r,this.sessions=[],this.loading=!0,this.updateMutex=new ka,this.updateSessionsFromStorage().then(()=>this.loading=!1),this.storageService.sessionChangeEvent.addHandler(this.updateSessionsFromStorage.bind(this))}isLoading(){return this.loading}addSessionFromImage(e,t,r={}){var o=this;return(0,fe.Z)(function*(){const i={hotsyncName:e.metadata?.hotsyncName,dontManageHotsyncName:!1,speed:1,deviceOrientation:vr.portrait,...r,id:-1,name:t,device:e.deviceId,ram:(yield o.cloudpilotService.cloudpilot).minRamForDevice(e.deviceId)/1024/1024,rom:"",osVersion:e?.metadata?.osVersion},s=yield o.loadingController.create({message:"Importing..."});yield s.present();const a=yield o.storageService.addSession(i,e.rom,e.memory,e.savestate);return yield o.updateSessionsFromStorage(),yield s.dismiss(),a})()}addSessionFromRom(e,t,r,o={}){var i=this;return(0,fe.Z)(function*(){const s={hotsyncName:"",dontManageHotsyncName:!1,speed:1,deviceOrientation:vr.portrait,...o,id:-1,name:t,device:r,ram:(yield i.cloudpilotService.cloudpilot).minRamForDevice(r)/1024/1024,rom:""},a=yield i.loadingController.create({message:"Importing..."});yield a.present();const u=yield i.storageService.addSession(s,e);return yield i.updateSessionsFromStorage(),yield a.dismiss(),u})()}getSessions(){return this.sessions}deleteSession(e){var t=this;return(0,fe.Z)(function*(){yield t.storageService.deleteSession(e)})()}updateSession(e){var t=this;return(0,fe.Z)(function*(){yield t.storageService.updateSession(e)})()}updateSessionsFromStorage(){var e=this;return(0,fe.Z)(function*(){e.sessions=yield e.updateMutex.runExclusive((0,fe.Z)(function*(){return(yield e.storageService.getAllSessions()).sort((t,r)=>t.name.localeCompare(r.name))}))})()}}xa.\u0275fac=function(e){return new(e||xa)(ne(Ki),ne(Yn),ne($l))},xa.\u0275prov=mt({token:xa,factory:xa.\u0275fac,providedIn:"root"});var $H=x(7971),BH=x.n($H);function VH(n){return{readonly:0!=(1&n),hidden:0!=(2&n),system:0!=(4&n)}}function kM(n,e){const t=n.GetName(),r=n.GetModifiedTS();return{path:e,name:t,size:n.GetSize(),lastModifiedTS:r,lastModifiedLocalDate:new Date(1e3*r).toLocaleDateString(),isDirectory:n.IsDirectory(),attributes:VH(n.GetAttributes())}}class _0{constructor(e){this.module=e,this.vfsNative=new e.Vfs}static create(){return(0,fe.Z)(function*(){return new _0(yield BH()({print:e=>console.log(e),printErr:e=>console.error(e)}))})()}allocateImage(e){this.vfsNative.AllocateImage(e>>>9)}mountImage(e){return this.vfsNative.MountImage(e)}unmountImage(e){this.vfsNative.UnmountImage(e)}getPendingImage(){const e=this.module.getPointer(this.vfsNative.GetPendingImage()),t=this.vfsNative.GetPendingImageSize();if(0!==e&&0!==t)return this.module.HEAPU32.subarray(e>>>2,e+t>>>2)}getImageInSlot(e){const t=this.module.getPointer(this.vfsNative.GetImage(e)),r=this.vfsNative.GetSize(e);if(0!==t&&0!==r)return this.module.HEAPU32.subarray(t>>>2,t+r>>>2)}getDirtyPagesForSlot(e){const t=this.module.getPointer(this.vfsNative.GetDirtyPages(e));if(0===t)return;const r=h0(this.vfsNative.GetSize(e));return this.module.HEAPU8.subarray(t,t+r)}readdir(e){const t=new this.module.ReaddirContext(e);try{const r=[];for(;0===t.GetStatus();){const o=t.GetEntry();r.push(kM(o,`${e.replace(/\/*$/,"")}/${o.GetName()}`)),t.Next()}if(2===t.GetStatus()){console.warn(`readdir failed: ${t.GetErrorDescription()}`);const o=t.GetError();return{error:0===o?2:o,reason:t.GetErrorDescription()}}return{error:0,entries:r}}finally{this.module.destroy(t)}}rename(e,t){return this.vfsNative.RenameFile(e,t)}chmod(e,t){let r=0,o=0,i=(s,a)=>{void 0!==s&&(o|=a,s&&(r|=a))};return i(t.hidden,2),i(t.readonly,1),i(t.system,4),this.vfsNative.ChmodFile(e,r,o)}stat(e){const t=this.vfsNative.StatFile(e);return 0!==t?{result:t,entry:void 0}:{entry:kM(this.vfsNative.GetEntry(),e),result:t}}bytesFree(e){return this.vfsNative.BytesFree(e)}bytesTotal(e){return this.vfsNative.BytesTotal(e)}readFile(e){if(!this.vfsNative.ReadFile(e))return;const t=this.module.getPointer(this.vfsNative.GetCurrentFileContent()),r=this.vfsNative.GetCurrentFileSize(),o=this.module.HEAPU8.subarray(t,t+r).slice();return this.vfsNative.ReleaseCurrentFile(),o}unlinkFile(e){return this.vfsNative.UnlinkFile(e)}mkdir(e){return this.vfsNative.Mkdir(e)}createZipArchive({files:e,directories:t,prefix:r}){var o=this;return(0,fe.Z)(function*(){const i=new o.module.CreateZipContext(r,25),s=[];try{for(e&&e.forEach(m=>i.AddFile(m)),t&&t.forEach(m=>i.AddDirectory(m));2!==i.GetState();){switch(i.Continue()){case-2:case-1:s.push(i.GetErrorItem())}2!==i.GetState()&&(yield new Promise(m=>setTimeout(m,0)))}let a;const u=o.module.getPointer(i.GetZipContent()),f=i.GetZipSize();return 0!==u&&0!==f&&(a=o.module.HEAPU8.subarray(u,u+f).slice()),{archive:a,failedItems:s}}finally{o.module.destroy(i)}})()}deleteRecursive({files:e,directories:t}){var r=this;return(0,fe.Z)(function*(){const o=new r.module.DeleteRecursiveContext(25);try{for(e&&e.forEach(i=>o.AddFile(i)),t&&t.forEach(i=>o.AddDirectory(i));1===o.Continue();)yield new Promise(i=>setTimeout(i,0));return 2===o.GetState()?{success:!0}:{success:!1,failingItem:o.GetFailingPath()}}finally{r.module.destroy(o)}})()}writeFile(e,t){const r=this.copyIn(t);try{return this.vfsNative.WriteFile(e,t.length,r)}finally{this.vfsNative.Free(r)}}copyIn(e){const t=this.vfsNative.Malloc(e.length),r=this.module.getPointer(t);return this.module.HEAPU8.subarray(r,r+e.length).set(e),t}}var UH=x(5541),MM=x.n(UH);class Ra{constructor(e,t,r,o,i){this.storageService=e,this.storageCardContext=t,this.alertService=r,this.fileService=o,this.loadingController=i,this.onReleaseCard=new ii.j,this.vfs=_0.create(),this.directoryCache=new Map,this.bytesFree=0,this.bytesTotal=0,this.vfs.then(s=>this.vfsInstance=s)}normalizePath(e){return("/"+e).replace(/\/{2,}/g,"/").replace(/\/*$/,"")}splitPath(e){return this.normalizePath(e).replace(/^\/+/,"").split("/")}dirname(e){return this.normalizePath(e).replace(/\/[^\/]*$/,"")}isFilenameValid(e){return void 0===e||!/[\/\\]/.test(e)}mountCardUnchecked(e,t,r){var o=this;return(0,fe.Z)(function*(){const i=yield o.storageService.getCard(e);if(!i)throw new Error(`no card with id ${e}`);if(o.storageCardContext.claim(e,Vr.vfs),o.directoryCache.clear(),o.mountedCard?.id===e)return!0;o.mountedCard&&(yield o.releaseCard(o.mountedCard.id));const s=yield o.vfs;s.allocateImage(i.size);const a=s.getPendingImage();if(!a)throw new Error("failed to allocate image");return r?a.set(r):yield o.storageService.loadCardData(e,a,Vr.vfs),!!s.mountImage(0)&&(o.mountedCard=i,o.bytesFree=s.bytesFree(0),o.bytesTotal=s.bytesTotal(0),!0)})()}releaseCard(e=this.mountedCard?.id){var t=this;return(0,fe.Z)(function*(){void 0===e||e!==t.mountedCard?.id||((yield t.vfs).unmountImage(0),t.mountedCard=void 0,t.storageCardContext.release(e,Vr.vfs),t.onReleaseCard.dispatch(e))})()}readdir(e){if(!this.vfsInstance)return[];const t=this.normalizePath(e);if(!this.directoryCache.has(t)){const r=this.vfsInstance.readdir(e);this.directoryCache.set(t,0===r.error?r.entries:[])}return this.directoryCache.get(t)||[]}updateFileEntry(e,t){var r=this;return(0,fe.Z)(function*(){const o=yield r.vfs;if(e=r.normalizePath(e),!r.isFilenameValid(t.name))return void(yield r.error("The provided file name is invalid."));const{result:i,entry:s}=o.stat(e);if(0===i)if(void 0===t.attributes||MM()(t.attributes,s.attributes)||0===(r.directoryCache.delete(r.dirname(e)),o.chmod(e,t.attributes))){if(void 0!==t.name&&t.name!==s.name)switch(r.directoryCache.delete(r.dirname(e)),o.rename(e,`${r.dirname(e)}/${t.name}`)){case 0:break;case 6:return void(yield r.error("The provided file name is invalid."));default:return void(yield r.fatalError("Unable to write the updated file attributes."))}yield r.sync()}else yield r.fatalError("Unable to write the updated file attributes.");else yield r.error(`The path ${e} is invalid. This is a bug in Cloudpilot.`)})()}saveFile(e){var t=this;return(0,fe.Z)(function*(){const r=yield t.loadingController.create();yield r.present();try{const i=(yield t.vfs).readFile(e.path);if(!i)return void(yield t.alertService.errorMessage(`Could not read file '${e.name}'.`));t.fileService.saveFile(e.name,i)}finally{yield r.dismiss()}})()}archiveFiles(e,t){var r=this;return(0,fe.Z)(function*(){if(0===e.length||!r.mountedCard)return;const o=yield r.loadingController.create({message:"Creating archive..."});yield o.present();try{const i=yield r.vfs,s=e.filter(_=>_.isDirectory).map(_=>r.normalizePath(_.path)),a=e.filter(_=>!_.isDirectory).map(_=>r.normalizePath(_.path)),u=1===e.length?`${e[0].name}.zip`:function EH(n){return`files_${Um(n.name)}.zip`}(r.mountedCard),{archive:f,failedItems:m}=yield i.createZipArchive({directories:s,files:a,prefix:t});yield o.dismiss(),m.length>0&&(m.length<=3?yield r.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${m.join("<br>")}`):yield r.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${m.slice(0,3).join("<br>")}<br><br> and ${m.length-3} other file`)),f&&r.fileService.saveFile(u,f)}finally{yield o.dismiss()}})()}unlinkEntry(e){var t=this;return(0,fe.Z)(function*(){if(e.isDirectory)return;const o=(yield t.vfs).unlinkFile(e.path);if(0!==o)return console.error(`failed to unlink ${e.path}: ${o}`),void(yield t.error(`Failed to delete: ${e.path}`));t.directoryCache.delete(t.dirname(e.path)),yield t.sync()})()}deleteRecursive(e){var t=this;return(0,fe.Z)(function*(){const r=e.filter(s=>!s.isDirectory).map(s=>t.normalizePath(s.path)),o=e.filter(s=>s.isDirectory).map(s=>t.normalizePath(s.path)),i=yield t.loadingController.create({message:"Deleting..."});yield i.present();try{const a=yield(yield t.vfs).deleteRecursive({files:r,directories:o});if(!a.success)return yield i.dismiss(),void(yield t.fatalError(`Failed to delete ${a.failingItem}`));e.map(u=>u.path).forEach(u=>t.directoryCache.delete(t.dirname(u))),yield t.sync()}finally{yield i.dismiss()}})()}mkdir(e){var t=this;return(0,fe.Z)(function*(){switch((yield t.vfs).mkdir(e)){case 6:return void(yield t.alertService.errorMessage("Invalid name."));case 7:return void(yield t.alertService.errorMessage("No space left on card."));case 8:return void(yield t.alertService.errorMessage("Name already taken."));case 0:break;default:return void(yield t.error(`Failed to create ${e}.`))}yield t.sync(),t.directoryCache.delete(t.dirname(e))})()}currentCard(){return this.mountedCard}getBytesFree(){return this.bytesFree}getBytesTotal(){return this.bytesTotal}error(e){var t=this;return(0,fe.Z)(function*(){yield t.alertService.errorMessage(e)})()}fatalError(e){var t=this;return(0,fe.Z)(function*(){t.mountedCard&&(yield t.storageService.updateStorageCardPartial(t.mountedCard.id,{status:Er.dirty}),yield t.releaseCard(),t.alertService.errorMessage(`${e}\n        <br><br>\n        No changes have been written, and the card has been unmounted to prevent damage to the file system.\n        `))})()}sync(){var e=this;return(0,fe.Z)(function*(){if(!e.mountedCard)return;const t=yield e.vfs,r=t.getImageInSlot(0),o=t.getDirtyPagesForSlot(0);!r||!o||(yield e.storageService.updateCardData(e.mountedCard.id,r,o,Vr.vfs))})()}}Ra.\u0275fac=function(e){return new(e||Ra)(ne(Yn),ne(Ma),ne(Br),ne(Bs),ne($l))},Ra.\u0275prov=mt({token:Ra,factory:Ra.\u0275fac,providedIn:"root"});var yo=(()=>{return(n=yo||(yo={}))[n.mb4=0]="mb4",n[n.mb8=1]="mb8",n[n.mb16=2]="mb16",n[n.mb32=3]="mb32",n[n.mb64=4]="mb64",n[n.mb128=5]="mb128",yo;var n})();function TM(){return c0().replace(/-/g,"")}class ta{constructor(e,t,r,o,i,s,a,u,f,m,_){this.sessionService=e,this.storageService=t,this.emulationStateService=r,this.cloudpilotService=o,this.loadingController=i,this.snapshotService=s,this.alertService=a,this.errorService=u,this.fileService=f,this.vfsService=m,this.storageCardContext=_,this.loading=!0,this.cards=[],this.updateMutex=new ka,this.updateCardsFromDB().then(()=>this.loading=!1),t.storageCardChangeEvent.addHandler(()=>this.updateCardsFromDB())}getAllCards(){return this.cards}createEmptyCard(e,t,r){var o=this;return(0,fe.Z)(function*(){const i=yield o.loadingController.create({message:"Formatting..."});try{yield i.present();const s=yield function LH(n){return g0.apply(this,arguments)}(function jH(n){switch(n){case yo.mb4:return 4;case yo.mb8:return 8;case yo.mb16:return 16;case yo.mb32:return 32;case yo.mb64:return 64;case yo.mb128:return 128;default:throw new Error(`bad card size ${n}`)}}(t));if(!s)throw new Error("failed to create image");const a={storageId:TM(),name:e,size:4*s.length,status:Er.clean,dontFsckAutomatically:r};return yield o.storageService.importStorageCard(a,s)}finally{i.dismiss()}})()}createCardFromImage(e,t,r){var o=this;return(0,fe.Z)(function*(){const i={storageId:TM(),name:e,size:t.length,status:Er.clean,dontFsckAutomatically:r},s=new Uint32Array(t.buffer,t.byteOffset,t.byteLength>>>2),a=yield o.loadingController.create({message:"Importing..."});try{if(r)yield a.present(),yield o.storageService.importStorageCard(i,s);else{const[u,f]=yield o.fsckNewCard(s,i);yield a.present(),yield o.storageService.importStorageCard(f,u)}}finally{a.dismiss()}})()}onEmulatorStop(){const e=this.emulationStateService.getCurrentSession()?.mountedCard;void 0!==e&&this.storageCardContext.release(e,Vr.cloudpilot)}loadCardInEmulator(e,t){var r=this;return(0,fe.Z)(function*(){const o=yield r.storageService.getCard(e);if(!o)throw new Error(`no card with id ${e}`);yield r.vfsService.releaseCard(e);const i=yield r.cloudpilotService.cloudpilot;if(i.getMountedKey())throw new Error("attempt to mount a card while another card is mounted");if(!i.allocateCard(o.storageId,o.size))throw new Error("failed to allocate card");const s=i.getCardData(o.storageId);if(!s)throw new Error("failed to access card data");return r.storageCardContext.claim(e,Vr.cloudpilot),t?s.set(t):yield r.storageService.loadCardData(o.id,s,Vr.cloudpilot),o})()}ejectCurrentCard(){var e=this;return(0,fe.Z)(function*(){const t=e.emulationStateService.getCurrentSession();if(!t)throw new Error("no running session");const r=t?.mountedCard;if(void 0===r)throw new Error("no mounted card");const o=yield e.storageService.getCard(r);if(!o)throw new Error(`no card with id ${r}`);yield e.storageService.updateStorageCardPartial(r,{status:Er.dirty}),yield e.snapshotService.waitForPendingSnapshot(),yield e.snapshotService.triggerSnapshot(),yield e.storageService.updateSessionPartial(t.id,{mountedCard:void 0}),(yield e.cloudpilotService.cloudpilot).removeCard(o.storageId),e.snapshotService.resetCard(),e.storageCardContext.release(r,Vr.cloudpilot)})()}checkCard(e){var t=this;return(0,fe.Z)(function*(){const r=t.mountedInSession(e.id);if(r){let i=!1;if(yield t.alertService.message("Card is attached",`This card needs to be ejected from session '${r.name}' before it can be checked.`,{"Eject now":()=>i=!0},"Cancel"),!i)return;yield t.ejectCard(e.id)}const o=yield t.executeFsckAndUpdateCard(e.id);switch(o.getResult()){case 1:return void t.alertService.cardIsClean();case 3:return void t.alertService.cardHasNoValidFileSystem();case 4:t.alertService.cardHasUncorrectableErrors();break;case 2:{let i=!1;return yield t.alertService.message("Filesystem errors",`The filesystem on this card contains errors${e.dontFsckAutomatically?"":"  that need to be fixed before it can be used"}. Do you want to fix them now?`,{"Fix now":()=>i=!0},"Cancel"),void(i?yield t.applyFsckResult(e.id,o):t.storageCardContext.release(e.id,Vr.fstools))}}})()}insertCard(e){return this.checkAndClaimCard(e,"insert")}browseCard(e){var t=this;return(0,fe.Z)(function*(){const r=t.mountedInSession(e.id);if(r){let o=!1;if(yield t.alertService.message("Card is attached",`This card needs to be ejected from session '${r.name}' before it can be browsed.`,{"Eject now":()=>o=!0},"Cancel"),!o)return!1;yield t.ejectCard(e.id)}return t.checkAndClaimCard(e.id,"vfs")})()}updateCard(e,t){var r=this;return(0,fe.Z)(function*(){const o=yield r.storageService.getCard(e);if(!o)throw new Error(`no card with id ${e}`);return!t.dontFsckAutomatically&&o.dontFsckAutomatically&&(t.status=Er.dirty),r.storageService.updateStorageCardPartial(e,t)})()}deleteCard(e){var t=this;return(0,fe.Z)(function*(){yield t.vfsService.releaseCard(e),yield t.ejectCard(e),yield t.storageService.deleteStorageCard(e)})()}saveCard(e,t){var r=this;return(0,fe.Z)(function*(){const o=yield r.getCard(e);if(!o)throw new Error(`no card with id ${e}`);const i=yield r.loadingController.create({message:"Exporting..."});let s;try{yield i.present();const a=r.mountedInSession(e);a&&a.id===r.emulationStateService.getCurrentSession()?.id&&(yield r.snapshotService.waitForPendingSnapshot(),yield r.snapshotService.triggerSnapshot(),s=(yield r.cloudpilotService.cloudpilot).getCardData(o.storageId)),s||(s=new Uint32Array(o.size>>>2),yield r.storageService.loadCardData(o.id,s,r.storageCardContext.getOwner(e)))}finally{i.dismiss()}r.fileService.saveFile(t,new Uint8Array(s.buffer,s.byteOffset,s.length<<2))})()}getCard(e){var t=this;return(0,fe.Z)(function*(){return t.storageService.getCard(e)})()}mountedInSession(e){return this.sessionService.getSessions().find(t=>t.mountedCard===e)}isLoading(){return this.loading}updateCardsFromDB(){var e=this;return(0,fe.Z)(function*(){e.cards=yield e.updateMutex.runExclusive((0,fe.Z)(function*(){return(yield e.storageService.getAllStorageCards()).sort((t,r)=>t.name.localeCompare(r.name))}))})()}cardIsMounted(e){var t=this;return(0,fe.Z)(function*(){return(yield t.storageService.getAllSessions()).some(o=>o.mountedCard===e)})()}checkAndClaimCard(e,t){var r=this;return(0,fe.Z)(function*(){if(yield r.cardIsMounted(e))throw new Error("card already mounted");let o=yield r.getCard(e);if(!o)throw new Error(`no card with id ${e}`);let i,s=!0,a=!1;if(!o.dontFsckAutomatically){if(o.status===Er.dirty){if(i=yield r.executeFsckAndUpdateCard(e),2===i.getResult()){if(s=!1,yield r.alertService.message("Filesystem errors",`The filesystem on this card contains errors that have to fixed before it can be ${"insert"===t?"inserted":"browsed"}. Do you want to fix them now?`,{"Fix now":()=>s=!0},"Cancel"),!s)return r.storageCardContext.release(e,Vr.fstools),!1;yield r.applyFsckResult(o.id,i)}if(o=yield r.getCard(e),!o)throw new Error(`no card with id ${e}`)}switch(o.status){case Er.clean:break;case Er.unformatted:if("vfs"===t)return yield r.alertService.message("Card unformatted","This card is unformatted and cannot be browsed. Insert it into a device and format it."),!1;case Er.dirty:return yield r.alertService.message("Card requires check",`This card needs to be checked before it can be ${"insert"===t?"inserted":"browsed"}.`),!1;case Er.unfixable:if(s=!1,a=!0,yield r.alertService.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors. "+("insert"===t?"Writing could cause further damage. Do you want to insert it nevertheless?":"The card will be mounted read-only in order to prevent further damage."),{"Insert card":()=>s=!0},"Cancel"),!s)return!1;break;default:throw new Error("unreachable: bad card status")}}try{"insert"===t?(yield r.vfsService.releaseCard(e),yield r.mountCardInEmulator(e,i?.getImageData())):(yield r.mountCardForBrowsing(e,a,i?.getImageData()))||(yield r.alertService.message("Failed to mount card","The card could not be mounted for browsing."))}catch(u){return r.errorService.fatalBug(u instanceof Error?u.message:"mount failed"),!1}return!0})()}executeFsckAndUpdateCard(e){var t=this;return(0,fe.Z)(function*(){const r=yield t.loadingController.create({message:"Checking card..."});try{if(yield r.present(),yield t.cardIsMounted(e))throw new Error("attempt to fsck a mounted card");const o=yield t.storageService.getCard(e);if(!o)throw new Error(`no card with id ${e}`);yield t.vfsService.releaseCard(e),t.storageCardContext.claim(e,Vr.fstools);const i=yield Hm.create(o.size);switch(yield t.storageService.loadCardData(o.id,i.getImageData(),Vr.fstools),i.fsck()){case 1:yield t.storageService.updateStorageCardPartial(e,{status:Er.clean}),t.storageCardContext.release(e,Vr.fstools);break;case 3:yield t.storageService.updateStorageCardPartial(e,{status:Er.unformatted}),t.storageCardContext.release(e,Vr.fstools);break;case 2:yield t.storageService.updateStorageCardPartial(e,{status:Er.dirty});break;case 4:yield t.storageService.updateStorageCardPartial(e,{status:Er.unfixable}),t.storageCardContext.release(e,Vr.fstools);break;default:throw new Error("unrachable: invalid fsck result")}return i}finally{r.dismiss()}})()}applyFsckResult(e,t){var r=this;return(0,fe.Z)(function*(){if(2!==t.getResult())return;const o=yield r.loadingController.create({message:"Fixing errors..."});try{yield o.present(),yield r.storageService.updateCardData(e,t.getImageData(),t.getDirtyPages(),Vr.fstools),yield r.storageService.updateStorageCardPartial(e,{status:Er.clean}),r.storageCardContext.release(e,Vr.fstools)}finally{o.dismiss()}})()}fsckNewCard(e,t){var r=this;return(0,fe.Z)(function*(){const o=yield r.loadingController.create({message:"Checking card..."});let i,s;try{yield o.present(),i=yield Hm.create(t.size),i.getImageData().set(e),s=i.fsck()}finally{o.dismiss()}switch(s){case 1:return[e,{...t,status:Er.clean}];case 2:{let a=!1;return yield r.alertService.message("Filesystem errors","The filesystem on this card contains errors that must be fixed before the card can be used. Do you want to fix them now?",{"Fix now":()=>a=!0},"Skip"),a?[i.getImageData(),{...t,status:Er.clean}]:[e,{...t,status:Er.dirty}]}case 3:return yield r.alertService.cardHasNoValidFileSystem(),[e,{...t,status:Er.unformatted}];case 4:return yield r.alertService.cardHasUncorrectableErrors(),[e,{...t,status:Er.unfixable}];default:throw new Error("unreachable: bad fsck result")}})()}ejectCard(e){var t=this;return(0,fe.Z)(function*(){const r=t.mountedInSession(e),o=yield t.storageService.getCard(e);!r||!o||(r.id===t.emulationStateService.getCurrentSession()?.id?yield t.ejectCurrentCard():(yield t.storageService.updateSessionPartial(r.id,{mountedCard:void 0}),yield t.storageService.updateStorageCardPartial(e,{status:Er.dirty})))})()}mountCardInEmulator(e,t){var r=this;return(0,fe.Z)(function*(){if(yield r.cardIsMounted(e))throw new Error("card already mounted");const o=yield r.loadingController.create({message:"Inserting..."});try{yield o.present(),yield r.vfsService.releaseCard(e);const i=r.emulationStateService.getCurrentSession();if(!i)throw new Error("no current session");if(void 0!==i.mountedCard)throw new Error("session already has a mounted card");const s=yield r.loadCardInEmulator(e,t),a=yield r.cloudpilotService.cloudpilot;if(yield r.storageService.updateStorageCardPartial(e,{status:Er.dirty}),yield r.storageService.updateSessionPartial(i.id,{mountedCard:e}),!a.mountCard(s.storageId))throw a.removeCard(s.storageId),new Error("failed to mount card");return s}finally{o.dismiss()}})()}mountCardForBrowsing(e,t,r){var o=this;return(0,fe.Z)(function*(){if(o.vfsService.currentCard()?.id===e)return!0;const i=yield o.loadingController.create({message:"Mounting..."});try{return yield i.present(),yield o.vfsService.mountCardUnchecked(e,t,r)}finally{i.dismiss()}})()}}ta.\u0275fac=function(e){return new(e||ta)(ne(xa),ne(Yn),ne(hs),ne(Ki),ne($l),ne(Aa),ne(Br),ne($s),ne(Bs),ne(Ra),ne(Ma))},ta.\u0275prov=mt({token:ta,factory:ta.\u0275fac,providedIn:"root"});class Yi extends yH{constructor(e,t,r,o,i,s,a,u,f,m,_,k,T,X,Ae,Ze,Ke,Ct){var Ne;super(),Ne=this,this.storageService=e,this.ngZone=t,this.loadingController=r,this.emulationState=o,this.snapshotService=i,this.errorService=s,this.fileService=a,this.alertService=u,this.modalWatcher=f,this.clipboardService=m,this.kvsService=_,this.proxyService=k,this.buttonService=T,this.bootstrapService=X,this.cloudpilotService=Ae,this.storageCardService=Ze,this.storageCardContext=Ke,this.app=Ct,this.switchSession=Sn=>this.mutex.runExclusive((0,fe.Z)(function*(){if(Sn===Ne.emulationState.getCurrentSession()?.id)return!0;yield Ne.stopUnchecked(),yield Ne.bootstrapService.hasRendered();const Wn=yield Ne.loadingController.create({message:"Loading..."});yield Wn.present();try{const ms=yield Ne.storageService.getSession(Sn);if(!ms)throw new Error(`invalid session ${Sn}`);Ne.emulationState.setCurrentSession(void 0);const zm=yield Ne.cloudpilotService.cloudpilot;if(!(yield Ne.restoreSession(ms,zm)))return Ne.alertService.errorMessage("Failed to launch session. This may be the result of a bad ROM file."),!1;Ne.emulationState.setCurrentSession(ms),function Ej(n){localStorage.setItem(Om,n+"")}(Sn)}finally{yield Wn.dismiss()}return!0})),this.resume=()=>this.mutex.runExclusive((0,fe.Z)(function*(){!Ne.emulationState.getCurrentSession()||Ne.running||Ne.errorService.hasFatalError()||!Ne.cloudpilotInstance||(yield Ne.kvsService.mutex.runExclusive(()=>Ne.updateFeatures()),Ne.doResume(),Ne.lastSnapshotAt=performance.now())})),this.pause=()=>this.mutex.runExclusive((0,fe.Z)(function*(){Ne.doPause(),!Ne.errorService.hasFatalError()&&Ne.emulationState.getCurrentSession()&&(yield Ne.snapshotService.waitForPendingSnapshot(),yield Ne.snapshotService.triggerSnapshot())})),this.stop=()=>this.mutex.runExclusive(()=>this.stopUnchecked()),this.onSessionChange=([Sn,Wn])=>this.mutex.runExclusive((0,fe.Z)(function*(){const ms=Ne.emulationState.getCurrentSession();Sn===ms?.id&&(void 0!==ms.mountedCard&&void 0===Wn&&Ne.storageCardContext.release(ms.mountedCard,Vr.cloudpilot),Ne.emulationState.setCurrentSession(Wn),Ne.emulationState.getCurrentSession()||(eM(),Ne.stopLoop()))})),this.onEmergencySave=()=>this.mutex.runExclusive((0,fe.Z)(function*(){const Sn=Ne.emulationState.getCurrentSession();Sn&&Ne.fileService.emergencySaveSession(Sn,yield Ne.cloudpilotService.cloudpilot)})),this.mutex=new ka,this.lastSnapshotAt=0,e.sessionChangeEvent.addHandler(this.onSessionChange),s.fatalErrorEvent.addHandler(this.pause),this.alertService.emergencySaveEvent.addHandler(this.onEmergencySave),this.cloudpilotService.cloudpilot.then(Sn=>{Sn.fatalErrorEvent.addHandler(this.errorService.fatalInNativeCode),this.proxyService.initialize(Sn),this.proxyService.resumeEvent.addHandler(()=>this.running&&this.advanceEmulation(performance.now()))});const Nt=function Sj(){const n=localStorage.getItem(Om);return n?parseInt(n,10):void 0}();this.bootstrapCompletePromise=Promise.resolve(),void 0!==Nt&&!ID()&&(this.bootstrapCompletePromise=this.recoverStoredSession(Nt))}bootstrapComplete(){return this.bootstrapCompletePromise}getConfiguredSpeed(){return this.emulationState.getCurrentSession()?.speed||1}manageHotsyncName(){return!this.emulationState.getCurrentSession()?.dontManageHotsyncName}getConfiguredHotsyncName(){return this.emulationState.getCurrentSession()?.hotsyncName}updateConfiguredHotsyncName(e){const t=this.emulationState.getCurrentSession();t&&this.storageService.updateSessionPartial(t.id,{hotsyncName:e})}getConfiguredSchdedulerKind(){return this.kvsService.kvs.runHidden?zl.timeout:zl.animationFrame}hasFatalError(){return this.errorService.hasFatalError()}skipEmulationUpdate(){return this.modalWatcher.isModalActive()&&0!==this.frameCounter}onAfterAdvanceEmulation(e,t){if(!this.cloudpilotInstance)return;const r=this.emulationState.getCurrentSession();this.uiInitialized&&r&&void 0===r.osVersion&&this.storageService.updateSessionPartial(r.id,{osVersion:this.cloudpilotInstance.getOSVersion()}),this.buttonService.tick(t/this.cloudpilotInstance.cyclesPerSecond()),e-this.lastSnapshotAt>1e3&&!this.cloudpilotInstance.isSuspended()&&(this.snapshotService.triggerSnapshot(),this.lastSnapshotAt=e),this.isDirty&&this.app.tick()}handleSuspend(){this.cloudpilotInstance&&(this.clipboardService.handleSuspend(this.cloudpilotInstance),this.proxyService.handleSuspend())}callScheduler(){this.ngZone.runOutsideAngular(()=>this.scheduler.schedule())}stopUnchecked(){var e=this;return(0,fe.Z)(function*(){e.emulationState.getCurrentSession()&&(e.doStop(),yield e.snapshotService.waitForPendingSnapshot(),e.storageCardService.onEmulatorStop(),e.emulationState.setCurrentSession(void 0))})()}updateFeatures(){if(!this.cloudpilotInstance)return;const e=this.kvsService.kvs.clipboardIntegration&&this.clipboardService.isSupported();this.cloudpilotInstance.getClipboardIntegration()!==e&&this.cloudpilotInstance.setClipboardIntegration(e),this.cloudpilotInstance.getNetworkRedirection()!==this.kvsService.kvs.networkRedirection&&(this.cloudpilotInstance.setNetworkRedirection(this.kvsService.kvs.networkRedirection),this.proxyService.reset()),this.cloudpilotInstance.setHotsyncNameManagement(!this.emulationState.getCurrentSession()?.dontManageHotsyncName)}recoverStoredSession(e){var t=this;return(0,fe.Z)(function*(){try{yield t.switchSession(e)}catch{ea&&t.alertService.message("Possible iOS bug","It seems that you hit an iOS bug that ocassionally\ncauses the database to come up empty when the app starts. If this happens to you, please force close\nthe app in the app switcher and reopen it; your data will be back on the second attempt.\n<br/><br/>\nSorry for the inconvenience.")}})()}restoreSession(e,t){var r=this;return(0,fe.Z)(function*(){const[o,i,s]=yield r.storageService.loadSession(e);if(!o)throw new Error(`invalid ROM ${e.rom}`);return t.clearExternalStorage(),void 0!==e.mountedCard&&(yield r.storageCardService.loadCardInEmulator(e.mountedCard)),!!r.openSession(t,o,e.device,i,s)&&(r.proxyService.reset(),r.buttonService.reset(t),yield r.snapshotService.initialize(e,yield r.cloudpilotService.cloudpilot),!0)})()}}Yi.\u0275fac=function(e){return new(e||Yi)(ne(Yn),ne(pt),ne($l),ne(hs),ne(Aa),ne($s),ne(Bs),ne(Br),ne(ql),ne(xc),ne(Yo),ne(Kl),ne(Rc),ne(Pc),ne(Ki),ne(ta),ne(Ma),ne(Ml))},Yi.\u0275prov=mt({token:Yi,factory:Yi.\u0275fac,providedIn:"root"});const Yl=new vt(B),WH={connector:()=>new nt};function AM(n,e=WH){const{connector:t}=e;return q((r,o)=>{const i=t();Nn(n(function zH(n){return new vt(e=>n.subscribe(e))}(i))).subscribe(o),o.add(r.subscribe(i))})}function xM(n,e){return e?t=>Ef(e.pipe(Ms(1),function KH(){return q((n,e)=>{n.subscribe(ve(e,B))})}()),t.pipe(xM(n))):mr((t,r)=>Nn(n(t,r)).pipe(Ms(1),gv(t)))}const tp="Service workers are disabled or not supported by this browser";class Gm{constructor(e){if(this.serviceWorker=e,e){const r=Sf(e,"controllerchange").pipe(Re(()=>e.controller)),i=Ef(nm(()=>yn(e.controller)),r);this.worker=i.pipe(fi(m=>!!m)),this.registration=this.worker.pipe(pi(()=>e.getRegistration()));const f=Sf(e,"message").pipe(Re(m=>m.data)).pipe(fi(m=>m&&m.type)).pipe(function qH(n){return n?e=>AM(n)(e):e=>function ZH(n,e){const t=I(n)?n:()=>n;return I(e)?AM(e,{connector:t}):r=>new hv(r,t)}(new nt)(e)}());f.connect(),this.events=f}else this.worker=this.events=this.registration=function XH(n){return nm(()=>Au(new Error(n)))}(tp)}postMessage(e,t){return this.worker.pipe(Ms(1),hi(r=>{r.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){const o=this.waitForOperationCompleted(r),i=this.postMessage(e,t);return Promise.all([i,o]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(fi(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(Ms(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(fi(t=>t.nonce===e),Ms(1),Re(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let QH=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new nt,!t.isEnabled)return this.messages=Yl,this.notificationClicks=Yl,void(this.subscription=Yl);this.messages=this.sw.eventsOfType("PUSH").pipe(Re(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Re(o=>o.data)),this.pushManager=this.sw.registration.pipe(Re(o=>o.pushManager));const r=this.pushManager.pipe(pi(o=>o.getSubscription()));this.subscription=ui(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(tp));const r={userVisibleOnly:!0};let o=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),i=new Uint8Array(new ArrayBuffer(o.length));for(let s=0;s<o.length;s++)i[s]=o.charCodeAt(s);return r.applicationServerKey=i,this.pushManager.pipe(pi(s=>s.subscribe(r)),Ms(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Ms(1),pi(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(tp))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(ne(Gm))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})(),v0=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=Yl,this.available=Yl,this.activated=Yl,void(this.unrecoverable=Yl);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(fi(r=>"VERSION_READY"===r.type),Re(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(tp));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(tp));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(ne(Gm))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})();class b0{}const RM=new on("NGSW_REGISTER_SCRIPT");function JH(n,e,t,r){return()=>{if(!Tl(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let o;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)o=t.registrationStrategy();else{const[s,...a]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":o=yn(null);break;case"registerWithDelay":o=PM(+a[0]||0);break;case"registerWhenStable":o=a[0]?ui(FM(n),PM(+a[0])):FM(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(pt).runOutsideAngular(()=>o.pipe(Ms(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function PM(n){return yn(null).pipe(function YH(n,e=Wk){const t=Zk(n,e);return xM(()=>t)}(n))}function FM(n){return n.get(Ml).isStable.pipe(fi(t=>t))}function e6(n,e){return new Gm(Tl(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let t6=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[{provide:RM,useValue:t},{provide:b0,useValue:r},{provide:Gm,useFactory:e6,deps:[b0,Eu]},{provide:mc,useFactory:JH,deps:[oo,RM,b0,Eu],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=b({type:n}),n.\u0275inj=gr({providers:[QH,v0]}),n})();class Fc{constructor(e,t,r,o,i){var s=this;this.kvsService=e,this.emulationService=t,this.alertService=r,this.modalController=o,this.updates=i,this.checkForUpgrade=()=>this.mutex.runExclusive((0,fe.Z)(function*(){const a=s.kvsService.kvs.version;void 0!==a?a!==Tc&&(yield s.kvsService.set({version:Tc,previousVersion:a,latestVersion:Tc}),yield s.emulationService.bootstrapComplete(),s.alertService.message("Update complete",`CloudpilotEmu was updated to version ${Tc}.`,{Changes:()=>s.showChangelog()})):s.kvsService.kvs.version=Tc})),this.mutex=new ka,this.mutex.runExclusive(this.checkForDowngrade.bind(this))}start(){this.checkForUpgrade(),this.startUpdateCheck(),this.registerForUpdates()}startUpdateCheck(){this.scheduleUpdateCheck()}registerForUpdates(){var e=this;this.updates.available.subscribe((0,fe.Z)(function*(){yield e.emulationService.bootstrapComplete(),e.alertService.updateAvailable()}))}checkForDowngrade(){var e=this;return(0,fe.Z)(function*(){if(yield e.kvsService.initialize(),e.kvsService.kvs.previousVersion===Tc){const t=yield window.navigator.serviceWorker.getRegistration();console.log("downgrade detected"),t&&(yield t.unregister())&&(yield e.kvsService.set({previousVersion:void 0}),console.log("worker derigstered, reloading..."),window.location.reload())}})()}showChangelog(){var e=this;return(0,fe.Z)(function*(){yield(yield e.modalController.create({component:pl,componentProps:{url:"assets/doc/CHANGELOG.md",title:"Changelog"}})).present()})()}scheduleUpdateCheck(){setTimeout(()=>{this.updates.checkForUpdate(),this.scheduleUpdateCheck()},9e5)}}Fc.\u0275fac=function(e){return new(e||Fc)(ne(Yo),ne(Yi),ne(Br),ne(ps),ne(v0))},Fc.\u0275prov=mt({token:Fc,factory:Fc.\u0275fac,providedIn:"root"});class np{constructor(e,t,r){this.pwaService=e,this.updateService=t,this.bootstrapService=r}ngAfterViewInit(){this.bootstrapService.notifyHasRendered(),this.pwaService.invite(),this.updateService.start()}}np.\u0275fac=function(e){return new(e||np)(C(Mc),C(Fc),C(Pc))},np.\u0275cmp=Ye({type:np,selectors:[["app-root"]],decls:2,vars:0,template:function(e,t){1&e&&(ae(0,"ion-app"),dt(1,"ion-router-outlet"),ee())},dependencies:[dk,Wf]});class Yu{constructor(){}}Yu.\u0275fac=function(e){return new(e||Yu)},Yu.\u0275cmp=Ye({type:Yu,selectors:[["app-dummy"]],decls:2,vars:0,template:function(e,t){1&e&&(ae(0,"div"),qe(1,"Dummy"),ee())},encapsulation:2});class Oc{constructor(e,t){this.linkApi=e,this.router=t}canActivate(e){return e.url[0]?.path?.startsWith("install")?(this.linkApi.installation.dispatchRequest(e.queryParams.url),this.router.navigateByUrl("/tab/emulation"),!1):!e.url[0]?.path?.startsWith("import")||(this.linkApi.import.dispatchRequest(e.queryParams.url),this.router.navigateByUrl("/tab/sessions"),!1)}}Oc.\u0275fac=function(e){return new(e||Oc)(ne(xl),ne(Fo))},Oc.\u0275prov=mt({token:Oc,factory:Oc.\u0275fac,providedIn:"root"});const w0=ie.m515,r6=d0[2],o6=d0[0],Xu="rgba(0,0,0,0.2)";function OM(n){const e=Qf(n),t=(0===e.screenSize?3:2)*devicePixelRatio,r={frameDevice:1,frameCanvas:t},o=u=>({frameDevice:u,frameCanvas:u*t}),i=u=>({frameDevice:u,frameCanvas:r.frameCanvas+u*t}),s=o(e.silkscreenHeight>0?1:0),a=o(function l6(n){switch(n){case 3:case 1:return 60;case 2:return 45;default:return 30}}(e.screenSize));return{scale:t,borderWidth:r,height:o(2*r.frameDevice+e.height+s.frameDevice+e.silkscreenHeight+a.frameDevice),width:o(2*r.frameDevice+e.width),screenHeight:o(e.height),screenWidth:o(e.width),screenLeft:i(0),screenTop:i(0),screenBottom:i(e.height),separatorHeight:s,silkscreenHeight:o(e.silkscreenHeight),silkscreenTop:i(e.height+s.frameDevice),silkscreenBottom:i(e.height+s.frameDevice+e.silkscreenHeight),softSilkscreenHeight:o(e.silkscreenHeight>0?0:e.height-e.width),buttonHeight:a,buttonWidth:a,buttonTop:i(e.height+s.frameDevice+e.silkscreenHeight),buttonBottom:i(e.height+s.frameDevice+e.silkscreenHeight+a.frameDevice)}}class c6{constructor(e){this.skin=e,this.layout=OM(w0),this.onResize=new ii.j}get width(){switch(this.getOrientation()){case vr.portrait:case vr.portrait180:case void 0:return this.layout.width.frameCanvas;default:return this.layout.height.frameCanvas}}get height(){switch(this.getOrientation()){case vr.portrait:case vr.portrait180:case void 0:return this.layout.height.frameCanvas;default:return this.layout.width.frameCanvas}}updateEmulationCanvas(e){this.drawEmulationCanvas(e),this.onAfterUpdateCanvas()}eventToPalmCoordinates(e,t=!1){if(!this.ctx)return;const r=this.ctx.canvas.getBoundingClientRect();let o,i,s,a;r.width/r.height>this.width/this.height?(a=r.height,s=this.width/this.height*r.height,i=r.top,o=r.left+(r.width-s)/2):(s=r.width,a=this.height/this.width*r.width,o=r.left,i=r.top+(r.height-a)/2);let u=(e.clientX-o)/s*this.width/this.layout.scale,f=(e.clientY-i)/a*this.height/this.layout.scale;switch(this.getOrientation()){case vr.landscape90:{const _=f;f=this.layout.height.frameDevice-u,u=_;break}case vr.landscape270:{const _=f;f=u,u=this.layout.width.frameDevice-_;break}case vr.portrait180:u=this.layout.width.frameDevice-u,f=this.layout.height.frameDevice-f}u-=this.layout.borderWidth.frameDevice,f-=this.layout.borderWidth.frameDevice,f>=this.layout.screenHeight.frameDevice&&(f<=this.layout.screenHeight.frameDevice+this.layout.separatorHeight.frameDevice?f=this.layout.screenHeight.frameDevice:f-=this.layout.separatorHeight.frameDevice);const m=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice;if(t)u<0&&(u=0),u>=this.layout.screenWidth.frameDevice&&(u=this.layout.screenWidth.frameDevice-1),f<0&&(f=0),f>=m&&(f=m-1);else if(u<0||u>=this.layout.screenWidth.frameDevice||f<0||f>=m)return;return[u,f]}isSilkscreen(e){const[,t]=e;return!this.isButtons(e)&&t>=this.layout.screenHeight.frameDevice}isButtons([,e]){return e>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice}determineButton([e,t]){return e>=this.layout.screenWidth.frameDevice-this.layout.buttonWidth.frameDevice?3:e>=this.layout.screenWidth.frameDevice-2*this.layout.buttonWidth.frameDevice?2:e>=2*this.layout.buttonWidth.frameDevice?t>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice/2?5:4:e>=this.layout.buttonWidth.frameDevice?1:0}initWithCanvas(e=this.ctx?.canvas){var t=this;return(0,fe.Z)(function*(){if(!e)return;t.layout=OM(t.getDeviceId()),t.onResize.dispatch(),e.width=t.width,e.height=t.height;const r=e.getContext("2d");if(!r)throw new Error("canvas not supported - get a new browser");t.ctx=r,t.setupTransformation(),t.fillCanvasRect(0,0,t.layout.width.frameCanvas,t.layout.height.frameCanvas,t.frameColor()),t.fillRect(0,0,t.layout.screenWidth.frameDevice,t.layout.screenHeight.frameDevice+t.layout.silkscreenHeight.frameDevice+t.layout.separatorHeight.frameDevice+t.layout.buttonHeight.frameDevice,t.backgroundColor()),t.drawEmulationCanvas(),yield Promise.all([t.drawSilkscreen(),t.drawButtons()])})()}drawButtons(e=[]){var t=this;return(0,fe.Z)(function*(){t.ctx&&(t.setupTransformation(),t.ctx.imageSmoothingEnabled=!0,t.ctx.imageSmoothingQuality="high",t.ctx.drawImage(yield t.buttonsImage()(t.layout.screenWidth.frameCanvas,t.layout.buttonHeight.frameCanvas),t.layout.screenLeft.frameCanvas,t.layout.buttonTop.frameCanvas,t.layout.screenWidth.frameCanvas,t.layout.buttonHeight.frameCanvas),e.includes(0)&&t.fillRect(0,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,Xu),e.includes(1)&&t.fillRect(t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,Xu),e.includes(2)&&t.fillRect(t.layout.screenWidth.frameDevice-2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,Xu),e.includes(3)&&t.fillRect(t.layout.screenWidth.frameDevice-t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,Xu),e.includes(4)&&t.fillRect(2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.screenWidth.frameDevice-4*t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice/2,Xu),e.includes(5)&&t.fillRect(2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice+t.layout.buttonHeight.frameDevice/2,t.layout.screenWidth.frameDevice-4*t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice/2,Xu))})()}onAfterUpdateCanvas(){}setupTransformation(){if(this.ctx)switch(this.ctx?.resetTransform(),this.getOrientation()){case vr.portrait:case void 0:break;case vr.landscape90:this.ctx.translate(this.layout.height.frameCanvas,0),this.ctx.rotate(Math.PI/2);break;case vr.landscape270:this.ctx.translate(0,this.layout.width.frameCanvas),this.ctx.rotate(3*Math.PI/2);break;case vr.portrait180:this.ctx.translate(this.layout.width.frameCanvas,this.layout.height.frameCanvas),this.ctx.rotate(Math.PI)}}drawSilkscreen(){var e=this;return(0,fe.Z)(function*(){0===e.layout.silkscreenHeight.frameCanvas||!e.ctx||(e.setupTransformation(),e.fillRect(e.layout.screenLeft.frameDevice,e.layout.silkscreenTop.frameDevice,e.layout.screenWidth.frameDevice,e.layout.silkscreenHeight.frameDevice,r6),e.ctx.imageSmoothingEnabled=!0,e.ctx.imageSmoothingQuality="high",e.ctx.drawImage(yield e.silkscreenImage()(e.layout.screenWidth.frameCanvas,e.layout.silkscreenHeight.frameCanvas),e.layout.borderWidth.frameCanvas,e.layout.silkscreenTop.frameCanvas,e.layout.screenWidth.frameCanvas,e.layout.silkscreenHeight.frameCanvas))})()}drawEmulationCanvas(e=this.lastEmulationCanvas){!e||!this.ctx||(this.lastEmulationCanvas=e,this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(e,this.layout.screenLeft.frameCanvas,this.layout.screenTop.frameCanvas,this.layout.screenWidth.frameCanvas,this.layout.screenHeight.frameCanvas))}fillRect(e,t,r,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(this.layout.borderWidth.frameCanvas+this.layout.scale*e,this.layout.borderWidth.frameCanvas+this.layout.scale*t,this.layout.scale*r,this.layout.scale*o),this.ctx.fillStyle=i,this.ctx.fill())}fillCanvasRect(e,t,r,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(e,t,r,o),this.ctx.fillStyle=i,this.ctx.fill())}silkscreenImage(){switch(this.getDeviceId()){case ie.pegT600c:case ie.pegT650c:return this.skin.SILKSCREEN_PEG_T600;case ie.pegN700c:case ie.pegN600c:return this.skin.SILKSCREEN_PEG_N610;case ie.pegS320:case ie.pegS300:return this.skin.SILKSCREEN_PEG_S300;case ie.pegS500c:return this.skin.SILKSCREEN_PEG_S500;case ie.pegT400:return this.skin.SILKSCREEN_PEG_T415;case ie.acerS11:return this.skin.SILKSCREEN_ACER_S10;case ie.palmPilot:case ie.pilot:case ie.iii:case ie.palmVII:return this.skin.SILKSCREEN_PILOT;case ie.m500:return this.skin.SILKSCREEN_M500;case ie.m505:case ie.m515:case ie.m520:return this.skin.SILKSCREEN_M515;case ie.iiic:return this.skin.SILKSCREEN_IIIC;case ie.m100:case ie.m105:case ie.m125:return this.skin.SILKSCREEN_M100;case ie.m130:return this.skin.SILKSCREEN_M130;case ie.i710:return this.skin.SILKSCREEN_TUNGSTEN_W;case ie.i705:return this.skin.SILKSCREEN_I705;default:return this.skin.SILKSCREEN_V}}buttonsImage(){switch(this.getDeviceId()){case ie.acerS11:return this.skin.HARD_BUTTONS_ACER_S10;case ie.pegNR70:return this.skin.HARD_BUTTONS_PEG_NR70;case ie.pegN700c:return this.skin.HARD_BUTTONS_PEG_N700;case ie.pegN600c:return this.skin.HARD_BUTTONS_PEG_N610;case ie.pegS300:return this.skin.HARD_BUTTONS_PEG_S300;case ie.pegS500c:return this.skin.HARD_BUTTONS_PEG_S500;case ie.pegS320:return this.skin.HARD_BUTTONS_PEG_S320;case ie.pegT400:case ie.pegT600c:case ie.pegT650c:return this.skin.HARD_BUTTONS_PEG_T415;case ie.pilot:case ie.palmPilot:return this.skin.HARD_BUTTONS_PILOT;case ie.m500:return this.skin.HARD_BUTTONS_M500;case ie.m505:case ie.m515:case ie.m520:return this.skin.HARD_BUTTONS_M515;case ie.iiic:return this.skin.HARD_BUTTONS_IIIC;case ie.m100:case ie.m105:return this.skin.HARD_BUTTONS_M100;case ie.m125:return this.skin.HARD_BUTTONS_M125;case ie.m130:return this.skin.HARD_BUTTONS_M130;case ie.i710:return this.skin.HARD_BUTTONS_TUNGSTEN_W;case ie.iii:case ie.iiix:case ie.iiixe:case ie.palmVII:case ie.palmVIIEZ:case ie.palmVIIx:return this.skin.HARD_BUTTONS_IIIX;case ie.iiie:return this.skin.HARD_BUTTONS_IIIE;case ie.i705:return this.skin.HARD_BUTTONS_I705;case ie.handera330:return this.skin.HARD_BUTTONS_HANDERA330;case ie.handera330c:return this.skin.HARD_BUTTONS_HANDERA330C;default:return this.skin.HARD_BUTTONS_PALM_V}}backgroundColor(){return f0(this.getDeviceId())?"white":o6}frameColor(){return f0(this.getDeviceId())?"white":"#ccc"}}const p6=["SILKSCREEN_V","SILKSCREEN_M500","SILKSCREEN_M515","SILKSCREEN_IIIC","SILKSCREEN_M100","SILKSCREEN_M130","SILKSCREEN_TUNGSTEN_W","SILKSCREEN_PILOT","SILKSCREEN_I705","SILKSCREEN_PEG_S300","SILKSCREEN_PEG_S500","SILKSCREEN_PEG_T415","SILKSCREEN_PEG_N610","SILKSCREEN_PEG_T600","SILKSCREEN_ACER_S10","HARD_BUTTONS_PALM_V","HARD_BUTTONS_M515","HARD_BUTTONS_M500","HARD_BUTTONS_IIIC","HARD_BUTTONS_IIIX","HARD_BUTTONS_IIIE","HARD_BUTTONS_M100","HARD_BUTTONS_M125","HARD_BUTTONS_M130","HARD_BUTTONS_TUNGSTEN_W","HARD_BUTTONS_PILOT","HARD_BUTTONS_I705","HARD_BUTTONS_HANDERA330","HARD_BUTTONS_HANDERA330C","HARD_BUTTONS_PEG_S300","HARD_BUTTONS_PEG_S500","HARD_BUTTONS_PEG_S320","HARD_BUTTONS_PEG_T415","HARD_BUTTONS_PEG_N610","HARD_BUTTONS_PEG_N700","HARD_BUTTONS_PEG_NR70","HARD_BUTTONS_ACER_S10"];function h6(n){const t=o=>function u6(n,e){let t,r;const o=document.createElement("canvas");return function(){var i=(0,fe.Z)(function*(s,a){if(t===s&&r===a)return o;o.width=s,o.height=a;const u=o.getContext("2d");if(!u)throw new Error("get a new browser");return u.drawImage(yield n(),0,0,o.width,o.height),(pj||ea)&&(yield e).indexOf("data:image")>=0&&(yield new Promise(f=>setTimeout(f,0)),u.drawImage(yield n(),0,0,o.width,o.height)),t=s,r=a,o});return function(s,a){return i.apply(this,arguments)}}()}(function e(o){let i;return(0,fe.Z)(function*(){if(!i){const s=(yield n)[o];i=function d6(n){return()=>new Promise((e,t)=>{const r=new Image;r.onload=()=>e(r),r.onerror=()=>t(),r.src=n})}((n=>`data:image/svg+xml;base64,${btoa(n)}`)(s))()}return i})}(o),n.then(i=>i[o])),r={};for(const o of p6)r[o]=t(o);return r}class hl extends c6{constructor(){super(h6(x.e(6116).then(x.bind(x,6116)))),this.statisticsVisible=!1}initialize(e,t=this.session){var r=this;return(0,fe.Z)(function*(){r.session=t,yield r.initWithCanvas(e)})()}clearStatistics(){var e=this;return(0,fe.Z)(function*(){e.statisticsVisible=!1,e.layout.silkscreenHeight.frameCanvas>0?yield e.drawSilkscreen():yield e.drawEmulationCanvas()})()}updateStatistics(e,t){var r=this;return(0,fe.Z)(function*(){yield r.clearStatistics(),r.drawStatistics(e,t),r.lastEmulationStatistics=t,r.lastSnapshotStatistics=e,r.statisticsVisible=!0})()}getDeviceId(){return this.session?.device??w0}getOrientation(){return this.session?.deviceOrientation??vr.portrait}onAfterUpdateCanvas(){this.statisticsVisible&&0===this.layout.silkscreenHeight.frameCanvas&&this.drawStatistics(this.lastSnapshotStatistics,this.lastEmulationStatistics)}drawStatistics(e,t){if(!this.ctx)return;this.setupTransformation();const r=this.layout.silkscreenHeight.frameDevice>0?this.layout.silkscreenHeight:this.layout.softSilkscreenHeight,o=this.layout.silkscreenHeight.frameCanvas>0?this.layout.silkscreenTop:{frameCanvas:this.layout.screenBottom.frameCanvas-r.frameCanvas,frameDevice:this.layout.screenBottom.frameDevice-r.frameDevice};this.ctx.beginPath(),this.fillRect(this.layout.screenLeft.frameDevice,o.frameDevice,this.layout.screenWidth.frameDevice,r.frameDevice,"rgba(255,255,255,0.6)");const s=function m6(n){switch(n){case 1:case 3:return 2;case 2:return 1.5;default:return 1}}(Qf(this.session?.device??w0).screenSize);this.ctx.font=6*this.layout.scale*s+"px monospace",this.ctx.fillStyle="black",[...e||t?[]:["collecting statistics..."],...e?[`last snapshot          : ${new Date(e.timestamp).toLocaleTimeString()}`,`snapshot pages         : ${e.pages}`,`snapshot time total    : ${e.timeTotal.toFixed(2)} msec`,`snapshot time blocking : ${e.timeBlocking.toFixed(2)} msec`]:[],...t?[`host speed             : ${t.hostSpeed.toFixed(2)}x`,`emulation speed        : ${t.emulationSpeed.toFixed(2)}x`,`average FPS            : ${t.averageFps.toFixed(2)}`]:[]].forEach((a,u)=>this.ctx.fillText(a,this.layout.screenLeft.frameCanvas+s*this.layout.scale,o.frameCanvas+s*this.layout.scale*(8+6*u)))}}hl.\u0275fac=function(e){return new(e||hl)},hl.\u0275prov=mt({token:hl,factory:hl.\u0275fac,providedIn:"root"});class Nc{constructor(e,t,r){this.router=e,this.canvasDisplayService=t,this.emulationStateService=r,this.updateUseSmallUI=()=>{const o=!!document.querySelector("html.md"),i=o?56:44;this.useSmallUI=this.canvasArea(window.innerHeight-i-(o?57:51)-6,window.innerWidth-6)<this.canvasArea(window.innerHeight-i-25-6,window.innerWidth-6)},this.useSmallUI=!1,this.isLockedFlag=!1,window.addEventListener("resize",this.updateUseSmallUI),window.addEventListener("orientationchange",this.updateUseSmallUI),t.onResize.addHandler(()=>this.updateUseSmallUI()),this.updateUseSmallUI()}get smallUI(){return"/tab/emulation"===this.router.url&&this.useSmallUI&&void 0!==this.emulationStateService.getCurrentSession()}lock(){this.isLockedFlag=!0}unlock(){this.isLockedFlag=!1}isLocked(){return this.isLockedFlag}canvasArea(e,t){let r,o;return e=Math.min(e,this.canvasDisplayService.height/devicePixelRatio),(t=Math.min(t,this.canvasDisplayService.width/devicePixelRatio))/e>this.canvasDisplayService.width/this.canvasDisplayService.height?(o=e,r=e/this.canvasDisplayService.height*this.canvasDisplayService.width):(r=t,o=t/this.canvasDisplayService.width*this.canvasDisplayService.height),r*o}}Nc.\u0275fac=function(e){return new(e||Nc)(C(Fo),C(hl),C(hs))},Nc.\u0275cmp=Ye({type:Nc,selectors:[["app-tabs"]],decls:23,vars:4,consts:[[1,"overflow-wrapper"],["slot","bottom"],["tab","emulation"],["name","phone-portrait-outline"],["tab","sessions"],["name","albums-outline"],["tab","storage"],["name","folder-outline"],["tab","settings"],["name","cog-outline"],["tab","about"],["name","help-outline"]],template:function(e,t){1&e&&(ae(0,"ion-tabs")(1,"div",0)(2,"ion-tab-bar",1)(3,"ion-tab-button",2),dt(4,"ion-icon",3),ae(5,"ion-label"),qe(6,"Emulator"),ee()(),ae(7,"ion-tab-button",4),dt(8,"ion-icon",5),ae(9,"ion-label"),qe(10,"Sessions"),ee()(),ae(11,"ion-tab-button",6),dt(12,"ion-icon",7),ae(13,"ion-label"),qe(14,"Cards"),ee()(),ae(15,"ion-tab-button",8),dt(16,"ion-icon",9),ae(17,"ion-label"),qe(18,"Settings"),ee()(),ae(19,"ion-tab-button",10),dt(20,"ion-icon",11),ae(21,"ion-label"),qe(22,"About"),ee()()()()()),2&e&&(et(2),Ka("small-ui",t.smallUI)("disabled",t.isLocked()))},dependencies:[ai,Wi,Gv,mk,Ik],styles:["ion-tab-bar[_ngcontent-%COMP%]{min-width:280px}ion-tab-bar.small-ui[_ngcontent-%COMP%]{height:25px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:21px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon.md[_ngcontent-%COMP%]{margin-top:3px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:none}ion-tab-bar.disabled[_ngcontent-%COMP%]{display:none}.overflow-wrapper[_ngcontent-%COMP%]{overflow-x:auto}ion-icon[_ngcontent-%COMP%]{font-size:25px}"]});class Pa{}Pa.\u0275fac=function(e){return new(e||Pa)},Pa.\u0275mod=b({type:Pa}),Pa.\u0275inj=gr({imports:[wa,Jv.forChild(),Bl,bc,em]});class Qu{}Qu.\u0275fac=function(e){return new(e||Qu)},Qu.\u0275mod=b({type:Qu}),Qu.\u0275inj=gr({imports:[wa,bc,Bl,Pa,Jv.forChild()]});class Ju{}Ju.\u0275fac=function(e){return new(e||Ju)},Ju.\u0275mod=b({type:Ju}),Ju.\u0275inj=gr({imports:[wa,bc,Bl,Pa]});class ed{}ed.\u0275fac=function(e){return new(e||ed)},ed.\u0275mod=b({type:ed}),ed.\u0275inj=gr({imports:[wa,bc,Bl,em,Pa]});class td{}td.\u0275fac=function(e){return new(e||td)},td.\u0275mod=b({type:td}),td.\u0275inj=gr({imports:[wa,bc,Bl,Pa,em]});class nd{}function g6(n,e){if(1&n){const t=_r();ae(0,"ion-button",1),lt("click",function(){return At(t),Pt($t().onClick())}),dt(1,"ion-icon",2),ee()}if(2&n){const t=$t();et(1),ot("name",t.iconName)}}nd.\u0275fac=function(e){return new(e||nd)},nd.\u0275mod=b({type:nd}),nd.\u0275inj=gr({imports:[wa,Bl,bc,em,Pa]});class Xl{constructor(e){this.pwaService=e}onClick(){this.pwaService.install()}get iconName(){return ea?"logo-apple-appstore":Qk?"logo-google-playstore":"apps-outline"}get show(){return this.pwaService.promptForInstall()}}function y6(n,e){1&n&&(ae(0,"div",11),dt(1,"ion-spinner"),ee())}function _6(n,e){1&n&&(ae(0,"div"),qe(1,"app cached for offline use"),ee())}Xl.\u0275fac=function(e){return new(e||Xl)(C(Mc))},Xl.\u0275cmp=Ye({type:Xl,selectors:[["app-pwa-prompt"]],decls:1,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"],[3,"name"]],template:function(e,t){1&e&&ln(0,g6,2,1,"ion-button",0),2&e&&ot("ngIf",t.show)},dependencies:[oi,ji,ai]});class rp{constructor(e,t){this.modalController=e,this.updates=t,this.loading=!0}get version(){return Tc}showChangelog(){var e=this;return(0,fe.Z)(function*(){yield(yield e.modalController.create({component:pl,componentProps:{url:"assets/doc/CHANGELOG.md",title:"Changelog"}})).present()})()}get serviceWorkerAvailable(){return this.updates.isEnabled}}function v6(n,e){if(1&n&&(ae(0,"ion-select-option",17),qe(1),ee()),2&n){const t=e.$implicit;ot("value",t[0]),et(1),Ti("",t[1]," ")}}function b6(n,e){if(1&n&&(ae(0,"ion-select-option",17),qe(1),ee()),2&n){const t=e.$implicit;ot("value",t[0]),et(1),Ti("",t[1]," ")}}function w6(n,e){if(1&n&&(ae(0,"ion-item",7)(1,"ion-label",8),qe(2,"Hotsync name"),ee(),dt(3,"ion-input",18),ee()),2&n){const t=$t();et(3),ot("placeholder",t.placeholder)}}rp.\u0275fac=function(e){return new(e||rp)(C(ps),C(v0))},rp.\u0275cmp=Ye({type:rp,selectors:[["app-about"]],decls:21,vars:4,consts:[[3,"translucent"],["slot","secondary"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],[1,"markdown-container"],["src","assets/doc/about.md",3,"load"],[1,"version"],["href","javascript:",3,"click"],[4,"ngIf"],["src","assets/logo.svg",1,"logo"],[1,"loader"]],template:function(e,t){1&e&&(ae(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"About"),ee(),ae(4,"ion-buttons",1),dt(5,"app-pwa-prompt"),ee()()(),ae(6,"ion-content")(7,"ion-header",2)(8,"ion-toolbar")(9,"ion-title",3),qe(10,"About"),ee()()(),ln(11,y6,2,0,"div",4),ae(12,"div",5)(13,"markdown",6),lt("load",function(){return t.loading=!1}),ee()(),ae(14,"div",7),qe(15),dt(16,"br"),ae(17,"a",8),lt("click",function(){return t.showChangelog()}),qe(18,"Changelog"),ee(),ln(19,_6,2,0,"div",9),ee(),dt(20,"img",10),ee()),2&e&&(ot("translucent",!0),et(11),ot("ngIf",t.loading),et(4),Ti(" CloudpilotEmu version ",t.version," "),et(4),ot("ngIf",t.serviceWorkerAvailable))},dependencies:[oi,Hi,Gi,zi,Hf,Zi,qi,Xl,Qv],styles:[".version[_ngcontent-%COMP%]{width:100%;bottom:1em;text-align:center;font-size:.75em;margin-top:3em;margin-bottom:1em}.markdown-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:center}markdown[_ngcontent-%COMP%]{display:block;margin-left:.5em;margin-right:.5em;max-width:40em}.loader[_ngcontent-%COMP%]{width:100%;height:10em;display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{width:10em;height:10em;margin:1em auto;display:block}@media (prefers-color-scheme: dark){.logo[_ngcontent-%COMP%]{filter:invert(100%)}}"]});class rd{constructor(e,t){this.sessionService=e,this.alertService=t,this.validateNameUnique=r=>r.value!==this.session.name&&this.sessionService.getSessions().some(o=>o.name===r.value)?{name:"already taken"}:null,this.onSave=()=>{},this.onCancel=()=>{},this.orientations=[[vr.portrait,"Portrait"],[vr.landscape90,"Landscape 90\xb0"],[vr.landscape270,"Landscape 270\xb0"],[vr.portrait180,"Upside down"]]}get formControlName(){return this.formGroup.get("name")}get formControlHotsyncName(){return this.formGroup.get("hotsyncName")}get formControlDevice(){return this.formGroup.get("device")}get formControlManageHotsyncName(){return this.formGroup.get("manageHotsyncName")}get formControlSpeed(){return this.formGroup.get("speed")}get formControlOrientation(){return this.formGroup.get("orientation")}get showHotsyncNameInput(){return this.formControlManageHotsyncName.value}get placeholder(){return this.formControlHotsyncName.value?this.formControlName.value:void 0!==this.session.hotsyncName||this.session.dontManageHotsyncName?"Enter hotsync name":"use setting from device"}get deviceList(){return this.availableDevices.map(e=>[e,pM(e)])}ngOnInit(){this.createFormGroup()}save(){this.formGroup.invalid||(this.session.name=this.formControlName.value,this.formControlManageHotsyncName.value?this.session.dontManageHotsyncName?(this.session.dontManageHotsyncName=!1,this.session.hotsyncName=this.formControlHotsyncName.value||"",this.alertService.message("Reset required","Please reset the virtual device in order to make sure that the hotsync name is synced properly again.")):this.session.hotsyncName=this.formControlHotsyncName.value||(void 0===this.session.hotsyncName?void 0:""):this.session.dontManageHotsyncName=!0,this.session.device=this.formControlDevice.value,this.session.speed=this.speedValue,this.session.deviceOrientation=this.formControlOrientation.value,this.onSave())}onEnter(){this.save()}get speedValue(){const e=this.formControlSpeed.value||0;return e>=0?1+e:1/(1-e)}get speedLabel(){return"Clock: "+(0===this.formControlSpeed.value?"default":`${Math.round(this.speedValue*function lH(n){switch(n){case ie.palmPilot:case ie.pilot:case ie.iii:case ie.palmVII:case ie.palmVx:case ie.palmV:case ie.palmVIIEZ:case ie.palmVIIx:case ie.iiic:case ie.iiix:case ie.iiixe:case ie.iiie:case ie.m100:case ie.m105:case ie.pegS300:case ie.pegS500c:return 16;case ie.m500:case ie.m505:case ie.m515:case ie.m520:case ie.m125:case ie.m130:case ie.i705:case ie.i710:case ie.handera330:case ie.handera330c:case ie.pegS320:case ie.pegT400:case ie.pegN600c:case ie.pegT600c:case ie.pegN700c:case ie.acerS11:return 33;case ie.pegT650c:case ie.pegNR70:return 66}}(this.formControlDevice.value))}MHz`)}createFormGroup(){this.formGroup=new qh({name:new si(this.session.name,{validators:[_f.required,this.validateNameUnique]}),manageHotsyncName:new si(!this.session.dontManageHotsyncName),hotsyncName:new si(this.session.hotsyncName||""),device:new si({value:this.session.device,disabled:1===this.availableDevices.length}),speed:new si((this.session.speed||1)>=1?(this.session.speed||1)-1:1-1/this.session.speed),orientation:new si(this.session.deviceOrientation||vr.portrait)})}}rd.\u0275fac=function(e){return new(e||rd)(C(xa),C(Br))},rd.\u0275cmp=Ye({type:rd,selectors:[["app-session-settings"]],inputs:{onSave:"onSave",onCancel:"onCancel",session:"session",availableDevices:"availableDevices"},decls:41,vars:6,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter session name","formControlName","name"],["formControlName","device"],[3,"value",4,"ngFor","ngForOf"],["formControlName","orientation"],[1,"label-speed"],["min","-4","max","4","step","0.25","snaps","true","ticks","false","formControlName","speed"],["formControlName","manageHotsyncName"],["lines","none",4,"ngIf"],[3,"value"],["formControlName","hotsyncName","maxlength","40",3,"placeholder"]],template:function(e,t){1&e&&(ae(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"Session settings"),ee(),ae(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return t.save()}),qe(6,"Save"),ee()(),ae(7,"ion-buttons",3)(8,"ion-button",4),lt("click",function(){return t.onCancel()}),qe(9,"Cancel"),ee()()()(),ae(10,"ion-content",5)(11,"form",6),lt("keydown.enter",function(){return t.onEnter()}),ae(12,"h1"),qe(13,"Session"),ee(),ae(14,"ion-item",7)(15,"ion-label",8),qe(16,"Session name"),ee(),dt(17,"ion-input",9),ee(),ae(18,"h1"),qe(19,"Device"),ee(),ae(20,"ion-item",7)(21,"ion-label",8),qe(22,"Device type"),ee(),ae(23,"ion-select",10),ln(24,v6,2,2,"ion-select-option",11),ee()(),ae(25,"ion-item",7)(26,"ion-label",8),qe(27,"Orientation"),ee(),ae(28,"ion-select",12),ln(29,b6,2,2,"ion-select-option",11),ee()(),ae(30,"ion-item",7)(31,"ion-label",13),qe(32),ee(),dt(33,"ion-range",14),ee(),ae(34,"h1"),qe(35,"Hotsync"),ee(),ae(36,"ion-item",7)(37,"ion-label"),qe(38,"Manage hotsync name"),ee(),dt(39,"ion-toggle",15),ee(),ln(40,w6,4,1,"ion-item",16),ee()()),2&e&&(et(5),ot("disabled",t.formGroup.invalid),et(6),ot("formGroup",t.formGroup),et(13),ot("ngForOf",t.deviceList),et(5),ot("ngForOf",t.orientations),et(3),Es(t.speedLabel),et(8),ot("ngIf",t.showHotsyncNameInput))},dependencies:[yc,oi,ji,Hi,Gi,zi,ul,Ko,Wi,Hv,Mm,Tm,Zi,Gf,qi,Hu,jf,cl,ol,nl,rl,fv,Qs,Ca],styles:["ion-item[_ngcontent-%COMP%]{--highlight-color-valid: var(--highlight-color-focused);--background: none}.label-speed[_ngcontent-%COMP%]{min-width:7.5rem}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}"]});class od{constructor(e,t,r,o,i,s,a){this.emulationService=e,this.loadingController=t,this.snapshotService=r,this.fileService=o,this.emulationStateService=i,this.alertService=s,this.cloudpilotService=a}saveBackup(e){var t=this;return(0,fe.Z)(function*(){const r=t.emulationStateService.getCurrentSession();if(!r)return;const o=yield t.loadingController.create({message:"Backing up..."});yield o.present();let s,i=[];yield t.emulationService.pause(),yield t.snapshotService.waitForPendingSnapshot();try{const a=yield t.cloudpilotService.cloudpilot;yield a.backup(function(){var u=(0,fe.Z)(function*(f){for(f.Init(e);f.IsInProgress();){const m=f.GetCurrentDatabase();f.Save()||i.push(m),yield new Promise(_=>setTimeout(_,0))}s=a.getArchive(f)});return function(f){return u.apply(this,arguments)}}())}finally{yield o.dismiss(),yield t.emulationService.resume()}s?i.length>0?yield t.alertService.message("Backup complete",`\n                    ${p0(i)} failed  to backup.\n                    <br/><br/>\n                    Open databases cannot be backuped. Please run backup from the launcher\n                    in order to backup all databases.\n                `,{"Save Backup":()=>t.fileService.saveFile(bM(r,e),s)},"Cancel"):t.fileService.saveFile(bM(r,e),s):yield t.alertService.errorMessage("Backup failed.")})()}}od.\u0275fac=function(e){return new(e||od)(ne(Yi),ne($l),ne(Aa),ne(Bs),ne(hs),ne(Br),ne(Ki))},od.\u0275prov=mt({token:od,factory:od.\u0275fac,providedIn:"root"});const C6=window.AudioContext||window.webkitAudioContext;function C0(n,e=100){return new Promise((t,r)=>{setTimeout(()=>r(new Error("timeout")),e),n.then(t,r)})}class S6{constructor(e){var t=this;this.emulationService=e,this.initialize=()=>this.mutex.runExclusive((0,fe.Z)(function*(){if(!t.initialized){try{t.context=new C6}catch(r){return console.error(r),void console.error("web audio not available")}try{t.context.destination.channelCount=1}catch{console.warn("audio driver: failed to set channel count")}try{yield t.start()}catch(r){return console.error(r),void console.error("failed to initialize audio context")}t.context.addEventListener("statechange",()=>{"interrupted"===t.context?.state&&t.updateState()}),t.gainNode=t.context.createGain(),t.gainNode.channelCount=1,t.gainNode.channelInterpretation="speakers",t.gainNode.gain.value=t.gain(),t.gainNode.connect(t.context.destination),t.applyPwmUpdate(),t.initialized=!0}})),this.updateState=(r=!1)=>this.mutex.runExclusive((0,fe.Z)(function*(){if(!t.context||t.isRunning()===t.shouldRun())return;!r&&!t.isRunning()&&t.shouldRun()&&t.applyPwmUpdate();const o=t.context.state;if(t.shouldRun())try{t.updateGain(),yield C0(t.context.resume()),console.log("resume audio context")}catch{console.error(`failed to resume audio from state ${o}`)}else try{yield C0(t.context.suspend()),console.log("suspend audio context")}catch{console.error(`failed to suspend audio from state ${o}`)}console.log(`audio context state change ${o} -> ${t.context.state}`)})),this.onPwmUpdate=function(){var r=(0,fe.Z)(function*(o){t.pendingPwmUpdate=o,t.initialized&&(t.shouldRun()!==t.isRunning()&&t.updateState(!0),t.shouldRun()&&t.applyPwmUpdate())});return function(o){return r.apply(this,arguments)}}(),this.mutex=new ka,this.initialized=!1,this.muted=!1,this.emulationService.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.emulationService.emulationStateChangeEvent.addHandler(()=>this.updateState()),this.emulationService.powerOffChangeEvent.addHandler(()=>this.updateState()),ea||document.addEventListener("visibilitychange",()=>this.updateState())}isInitialized(){return this.initialized}mute(e){this.muted=e,this.updateState()}isMuted(){return this.muted}shouldRun(){return this.emulationService.isRunning()&&!this.emulationService.isPowerOff()&&!this.muted&&this.gain()>0&&("hidden"!==document.visibilityState||ea||this.runHidden())}updateGain(){this.gainNode&&(this.gainNode.gain.value=this.gain())}start(){var e=this;return(0,fe.Z)(function*(){e.context&&(yield C0(e.context.resume()),e.updateState(),console.log("audio context initialized"))})()}isRunning(){return"running"===this.context?.state}applyPwmUpdate(){if(!this.context||!this.pendingPwmUpdate)return;const{frequency:e,dutyCycle:t}=this.pendingPwmUpdate,r=this.context.sampleRate;if(this.pendingPwmUpdate=void 0,e<=0||t<=0||e>=r)return void this.disconnectSource();const o=this.context.createBuffer(1,Math.round(r/e),r),i=o.getChannelData(0);for(let a=0;a<i.length;a++)i[a]=a/i.length<t?1:0;const s=this.context.createBufferSource();s.channelCount=1,s.channelInterpretation="speakers",s.loop=!0,s.buffer=o,this.disconnectSource(),s.connect(this.gainNode),s.start(),this.bufferSourceNode=s,this.pendingPwmUpdate=void 0}disconnectSource(){this.bufferSourceNode&&(this.bufferSourceNode.stop(),this.bufferSourceNode.disconnect(),this.bufferSourceNode=void 0)}gain(){return this.getVolume()/2}}class Ql extends S6{constructor(e,t,r){super(e),this.kvs=t,this.modalWatcher=r,this.modalWatcher.modalVisibilityChangeEvent.addHandler(()=>this.updateState())}getVolume(){return this.kvs.kvs.volume}runHidden(){return this.kvs.kvs.runHidden}shouldRun(){return!this.modalWatcher.isModalActive()&&super.shouldRun()}}Ql.\u0275fac=function(e){return new(e||Ql)(ne(Yi),ne(Yo),ne(ql))},Ql.\u0275prov=mt({token:Ql,factory:Ql.\u0275fac,providedIn:"root"});class Lc{constructor(e,t){this.emulationService=e,this.ngZone=t,this.onInterval=()=>{this.emulationService.getEmulationSpeed()<1?(this.level<3&&this.level++,3===this.level&&this.ngZone.run(()=>this.slowdownDetected=!0)):(this.level>0&&this.level--,0===this.level&&this.ngZone.run(()=>this.slowdownDetected=!1))},this.onEmulationStateChanged=r=>{this.reset(),r&&void 0===this.intervalHandle&&(this.onInterval(),this.ngZone.runOutsideAngular(()=>this.intervalHandle=window.setInterval(this.onInterval,1e3))),!r&&void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)},this.slowdownDetected=!1,this.level=0,this.onEmulationStateChanged(this.emulationService.isRunning()),this.emulationService.emulationStateChangeEvent.addHandler(this.onEmulationStateChanged)}isSlowdownDetected(){return this.slowdownDetected}reset(){this.slowdownDetected=!1,this.level=0}ngOnDestroy(){this.emulationService.emulationStateChangeEvent.removeHandler(this.onEmulationStateChanged),void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)}}function D6(n,e){if(1&n){const t=_r();ae(0,"ion-item",4),lt("click",function(){return At(t),Pt($t().power())}),ae(1,"ion-label"),qe(2,"Power"),ee(),dt(3,"ion-icon",5),ee()}if(2&n){const t=$t();ot("detail",!1)("disabled",!t.emulationService.isRunning())}}function I6(n,e){if(1&n){const t=_r();ae(0,"ion-item",4),lt("click",function(){return At(t),Pt($t().hotsync())}),ae(1,"ion-label"),qe(2,"Hotsync"),ee(),dt(3,"ion-icon",6),ee()}if(2&n){const t=$t();ot("detail",!1)("disabled",!t.emulationService.isRunning())}}function k6(n,e){if(1&n){const t=_r();ae(0,"ion-item",4),lt("click",function(){return At(t),Pt($t().reset())}),ae(1,"ion-label"),qe(2,"Reset"),ee(),dt(3,"ion-icon",7),ee()}if(2&n){const t=$t();ot("detail",!1)("disabled",!t.emulationService.isRunning())}}function M6(n,e){if(1&n){const t=_r();ae(0,"ion-item",8),lt("click",function(){return At(t),Pt($t().insertCard())}),ae(1,"ion-label"),qe(2),ee(),dt(3,"ion-icon",9),ee()}if(2&n){const t=$t();ot("detail",!1),et(2),Ti("Insert ",t.hasMemorystick?"stick":"SD card","")}}function T6(n,e){if(1&n){const t=_r();ae(0,"ion-item",8),lt("click",function(){return At(t),Pt($t().ejectCard())}),ae(1,"ion-label"),qe(2),ee(),dt(3,"ion-icon",10),ee()}if(2&n){const t=$t();ot("detail",!1),et(2),Ti("Eject ",t.hasMemorystick?"stick":"SD card","")}}function A6(n,e){if(1&n){const t=_r();ae(0,"ion-item",8),lt("click",function(){return At(t),Pt($t().mute(!1))}),ae(1,"ion-label"),qe(2,"Enable audio"),ee(),dt(3,"ion-icon",11),ee()}2&n&&ot("detail",!1)}function x6(n,e){if(1&n){const t=_r();ae(0,"ion-item",8),lt("click",function(){return At(t),Pt($t().mute(!0))}),ae(1,"ion-label"),qe(2,"Disable audio"),ee(),dt(3,"ion-icon",12),ee()}2&n&&ot("detail",!1)}function R6(n,e){if(1&n){const t=_r();ae(0,"ion-item",4),lt("click",function(){return At(t),Pt($t().backup())}),ae(1,"ion-label"),qe(2,"Save backup"),ee(),dt(3,"ion-icon",13),ee()}if(2&n){const t=$t();ot("detail",!1)("disabled",t.backupDisabled)}}function P6(n,e){if(1&n){const t=_r();ae(0,"ion-item",8),lt("click",function(){return At(t),Pt($t().rotate())}),ae(1,"ion-label"),qe(2,"Rotate"),ee(),dt(3,"ion-icon",14),ee()}2&n&&ot("detail",!1)}function F6(n,e){if(1&n){const t=_r();ae(0,"ion-item",8),lt("click",function(){return At(t),Pt($t().editSettings())}),ae(1,"ion-label"),qe(2,"Settings"),ee(),dt(3,"ion-icon",15),ee()}2&n&&ot("detail",!1)}function O6(n){switch(n){case vr.portrait:case void 0:return vr.landscape90;case vr.landscape90:return vr.portrait180;case vr.portrait180:return vr.landscape270;case vr.landscape270:return vr.portrait;default:throw new Error("cannot happen")}}Lc.\u0275fac=function(e){return new(e||Lc)(ne(Yi),ne(pt))},Lc.\u0275prov=mt({token:Lc,factory:Lc.\u0275fac,providedIn:"root"});class op{constructor(e,t,r,o,i,s,a,u,f,m,_,k,T,X,Ae,Ze,Ke,Ct){this.emulationService=e,this.emulationStateService=t,this.backupService=r,this.buttonService=o,this.actionSheetController=i,this.popoverController=s,this.audioService=a,this.kvsService=u,this.modalController=f,this.sessionService=m,this.performanceWatchdogService=_,this.canvasDisplayService=k,this.cloudpilotService=T,this.storageCardService=X,this.alertService=Ae,this.alertController=Ze,this.storageService=Ke,this.errorService=Ct,this.showHelp=()=>{}}reset(){var e=this;return(0,fe.Z)(function*(){e.popoverController.dismiss(),(yield e.actionSheetController.create({header:"How do you want to reset?",buttons:[{text:"Normal boot",handler:()=>e.emulationService.reset()},{text:"No extensions",handler:()=>e.emulationService.resetNoExtensions()},{text:"Hard reset",handler:()=>e.emulationService.resetHard()},{text:"Cancel",role:"cancel"}]})).present()})()}power(){this.buttonService.engage(6),this.popoverController.dismiss()}hotsync(){this.buttonService.engage(7),this.popoverController.dismiss()}help(){this.showHelp(),this.popoverController.dismiss()}backup(){var e=this;return(0,fe.Z)(function*(){e.popoverController.dismiss(),(yield e.actionSheetController.create({header:"What do you want to backup?",buttons:[{text:"Only RAM (default)",handler:()=>e.backupService.saveBackup(!1)},{text:"Include ROM",handler:()=>e.backupService.saveBackup(!0)},{text:"Cancel",role:"cancel"}]})).present()})()}get isMuted(){return!this.audioService.isInitialized()||this.audioService.isMuted()}get isAudioOff(){return this.kvsService.kvs.volume<=0}mute(e){e?this.audioService.mute(!0):this.audioService.isInitialized()?this.audioService.mute(!1):this.audioService.initialize()}get backupDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get powerDisabled(){const e=this.emulationStateService.getCurrentSession();return!!e&&function cH(n){return[ie.i705,ie.i710,ie.pegNR70,ie.pegT650c].includes(n)}(e.device)}get hasActiveSession(){return!!this.emulationStateService.getCurrentSession()}get supportsStorageCard(){const e=this.emulationStateService.getCurrentSession();return!!e&&hM(e.device)!==Zl.none}get hasMemorystick(){const e=this.emulationStateService.getCurrentSession();return!!e&&hM(e.device)===Zl.memorystick}get hasMountedCard(){return void 0!==this.emulationStateService.getCurrentSession()?.mountedCard}editSettings(){var e=this;return(0,fe.Z)(function*(){const t=e.emulationStateService.getCurrentSession();if(!t)return;const r=t.speed,o=t.deviceOrientation,i=yield e.modalController.create({component:rd,backdropDismiss:!1,componentProps:{session:t,availableDevices:[t.device],onSave:(s=(0,fe.Z)(function*(){r!==t.speed&&e.performanceWatchdogService.reset(),o!==t.deviceOrientation&&(e.canvasDisplayService.initialize(void 0,t),e.canvasDisplayService.updateEmulationCanvas()),yield e.sessionService.updateSession(t),i.dismiss()}),function(){return s.apply(this,arguments)}),onCancel:()=>i.dismiss()}});var s;yield e.popoverController.dismiss(),yield i.present()})()}rotate(){var e=this;return(0,fe.Z)(function*(){const t=e.emulationStateService.getCurrentSession();if(!t)return;yield e.storageService.updateSessionPartial(t.id,{deviceOrientation:O6(t.deviceOrientation)});const r=e.emulationStateService.getCurrentSession();yield e.canvasDisplayService.initialize(void 0,r),e.canvasDisplayService.updateEmulationCanvas()})()}insertCard(){var e=this;return(0,fe.Z)(function*(){if(e.popoverController.dismiss(),void 0===e.emulationStateService.getCurrentSession()?.device)return;const r=yield e.cloudpilotService.cloudpilot,o=e.storageCardService.getAllCards().filter(s=>r.deviceSupportsCardSize(s.size)&&!e.storageCardService.mountedInSession(s.id));0!==o.length?yield(yield e.alertController.create({header:"Choose image for insertion",buttons:[{text:"Cancel",role:"cancel"},{text:"Insert",handler:s=>e.storageCardService.insertCard(s)}],inputs:o.map((s,a)=>({label:s.name,type:"radio",value:s.id,checked:0===a})),backdropDismiss:!1})).present():e.alertService.message("No image available",`There is no ${e.hasMemorystick?"memory stick":"SD card"} image available. Please go to the "Storage" tab in order to create new one.`)})()}ejectCard(){var e=this;return(0,fe.Z)(function*(){try{yield e.storageCardService.ejectCurrentCard()}catch(t){e.errorService.fatalBug(t instanceof Error?t.message:"eject failed")}e.popoverController.dismiss()})()}}op.\u0275fac=function(e){return new(e||op)(C(Yi),C(hs),C(od),C(Rc),C(qf),C(kc),C(Ql),C(Yo),C(ps),C(xa),C(Lc),C(hl),C(Ki),C(ta),C(Br),C(zu),C(Yn),C($s))},op.\u0275cmp=Ye({type:op,selectors:[["app-emulation-context-menu"]],inputs:{showHelp:"showHelp"},decls:15,vars:11,consts:[["lines","full","button","",3,"detail","disabled","click",4,"ngIf"],["lines","full","button","",3,"detail","click",4,"ngIf"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"],["lines","full","button","",3,"detail","disabled","click"],["name","power-outline","slot","end"],["name","sync-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","log-in-outline","slot","end"],["name","log-out-outline","slot","end"],["name","volume-high-outline","slot","end"],["name","volume-mute-outline","slot","end"],["name","share-outline","slot","end"],["name","reload-outline","slot","end"],["name","cog-outline","slot","end"]],template:function(e,t){1&e&&(ae(0,"ion-list"),ln(1,D6,4,2,"ion-item",0),ln(2,I6,4,2,"ion-item",0),ln(3,k6,4,2,"ion-item",0),ln(4,M6,4,2,"ion-item",1),ln(5,T6,4,2,"ion-item",1),ln(6,A6,4,1,"ion-item",1),ln(7,x6,4,1,"ion-item",1),ln(8,R6,4,2,"ion-item",0),ln(9,P6,4,1,"ion-item",1),ln(10,F6,4,1,"ion-item",1),ae(11,"ion-item",2),lt("click",function(){return t.help()}),ae(12,"ion-label"),qe(13,"Help"),ee(),dt(14,"ion-icon",3),ee()()),2&e&&(et(1),ot("ngIf",t.hasActiveSession&&!t.powerDisabled),et(1),ot("ngIf",t.hasActiveSession),et(1),ot("ngIf",t.hasActiveSession),et(1),ot("ngIf",t.supportsStorageCard&&!t.hasMountedCard),et(1),ot("ngIf",t.supportsStorageCard&&t.hasMountedCard),et(1),ot("ngIf",t.isMuted&&!t.isAudioOff),et(1),ot("ngIf",!t.isMuted&&!t.isAudioOff),et(1),ot("ngIf",t.hasActiveSession),et(1),ot("ngIf",t.hasActiveSession),et(1),ot("ngIf",t.hasActiveSession),et(1),ot("detail",!1))},dependencies:[oi,ai,Ko,Wi,Da]});class N6{constructor(e,t){this.emulationService=e,this.canvasDisplayService=t,this.handleMouseDown=r=>{if(0!==r.button)return;const o=this.canvasDisplayService.eventToPalmCoordinates(r);if(!o)return;const i=this.determineArea(o);if(2===i){const s=this.canvasDisplayService.determineButton(o);this.interactionMouse={area:i,buttonPrimary:s},this.handleButtonDown(s)}else this.interactionMouse={area:i},this.emulationService.handlePointerMove(...o,1===i)},this.handleMouseMove=r=>{if(!(1&r.buttons&&this.interactionMouse&&2!==this.interactionMouse?.area))return;const o=this.canvasDisplayService.eventToPalmCoordinates(r,!0);o&&this.emulationService.handlePointerMove(...o,1===this.interactionMouse?.area)},this.handeMouseUp=r=>{if(0!==r.button)return;const o=this.interactionMouse;switch(this.interactionMouse=void 0,o?.area){case 2:this.handleButtonUp(o.buttonPrimary);break;case 0:case 1:this.emulationService.handlePointerUp()}},this.handleTouchStart=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.canvasDisplayService.eventToPalmCoordinates(s);if(!a)continue;o=!0;const u=this.determineArea(a);if(2===u){const f=this.canvasDisplayService.determineButton(a);this.interactionsTouch.set(s.identifier,{area:u,buttonPrimary:f}),this.handleButtonDown(f)}else this.interactionsTouch.set(s.identifier,{area:u}),this.emulationService.handlePointerMove(...a,1===u)}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchMove=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);if(!a)continue;o=!0;const u=a.area;switch(u){case 2:{const f=this.canvasDisplayService.eventToPalmCoordinates(s);if(!f||2!==this.determineArea(f)){this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0;break}const m=this.canvasDisplayService.determineButton(f);m===a.buttonPrimary?(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0):m!==a.buttonSecondary&&(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=m,this.handleButtonDown(m));break}case 0:case 1:{const f=this.canvasDisplayService.eventToPalmCoordinates(s,!0);if(!f)continue;this.emulationService.handlePointerMove(...f,1===u);break}default:continue}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchEnd=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);switch(a&&(o=!0),this.interactionsTouch.delete(s.identifier),a?.area){case 2:this.handleButtonUp(a.buttonPrimary),this.handleButtonUp(a.buttonSecondary);break;case 0:case 1:this.emulationService.handlePointerUp()}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleKeyDown=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;if(this.isToggleGameMode(r))return r.preventDefault(),this.gameMode=!this.gameMode,void this.onToggleGameMode();const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonDown(o),void r.preventDefault();const i=this.keyCodeFromEvent(r);void 0!==i&&(this.emulationService.handleKeyDown(i),r.preventDefault())},this.handleKeyUp=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonUp(o),void r.preventDefault();if("Control"===r.key){for(const i of this.activeButtons)this.emulationService.handleButtonUp(i);this.activeButtons.clear(),this.canvasDisplayService.drawButtons([])}},this.keyEventTarget=window,this.interactionsTouch=new Map,this.activeButtons=new Set,this.gameMode=!1,this.enableGamemodeHotkey=!0}bind(e,t=window){this.pointerEventTarget&&this.release(),this.pointerEventTarget=e,this.keyEventTarget=t||window,this.addEventListener(e,"mousedown",this.handleMouseDown),this.addEventListener(window,"mouseup",this.handeMouseUp),this.addEventListener(window,"mousemove",this.handleMouseMove),this.addEventListener(e,"touchstart",this.handleTouchStart),this.addEventListener(e,"touchmove",this.handleTouchMove),this.addEventListener(e,"touchend",this.handleTouchEnd),this.addEventListener(e,"touchcancel",this.handleTouchEnd),this.addEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.addEventListener(this.keyEventTarget,"keyup",this.handleKeyUp)}release(){if(this.pointerEventTarget){this.removeEventListener(this.pointerEventTarget,"mousedown",this.handleMouseDown),this.removeEventListener(window,"mouseup",this.handeMouseUp),this.removeEventListener(window,"mousemove",this.handleMouseMove),this.removeEventListener(this.pointerEventTarget,"touchstart",this.handleTouchStart),this.removeEventListener(this.pointerEventTarget,"touchmove",this.handleTouchMove),this.removeEventListener(this.pointerEventTarget,"touchend",this.handleTouchEnd),this.removeEventListener(this.pointerEventTarget,"touchcancel",this.handleTouchEnd),this.removeEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.removeEventListener(this.keyEventTarget,"keyup",this.handleKeyUp);for(const e of this.activeButtons)this.handleButtonUp(e);this.activeButtons.clear(),this.interactionsTouch.clear(),this.interactionMouse=void 0,this.pointerEventTarget=void 0}}isGameMode(){return this.gameMode}setGameMode(e){this.gameMode=e,this.onToggleGameMode()}setGameModeHotkeyEnabled(e){this.enableGamemodeHotkey=e}isGameModeHotkeyEnabled(){return this.enableGamemodeHotkey}enableKeyboardEvents(){return!0}onToggleGameMode(){}addEventListener(e,t,r,o){e.addEventListener(t,r,o)}removeEventListener(e,t,r,o){e.removeEventListener(t,r,o)}determineArea(e){return this.canvasDisplayService.isButtons(e)?2:this.canvasDisplayService.isSilkscreen(e)?1:0}handleButtonDown(e){this.activeButtons.has(e)||(this.activeButtons.add(e),this.emulationService.handleButtonDown(e),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}handleButtonUp(e){void 0===e||!this.activeButtons.has(e)||(this.activeButtons.delete(e),this.emulationService.handleButtonUp(e),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}isToggleGameMode(e){return this.isGameModeHotkeyEnabled()&&("Shift"===e.key&&e.ctrlKey||"Control"===e.key&&e.shiftKey)}isGameModeActive(e){return!this.gameMode&&e.ctrlKey||this.gameMode&&!e.ctrlKey}buttonFromEvent(e){switch(e.key){case"PageUp":return 4;case"PageDown":return 5}if(this.isGameModeActive(e))switch(e.key){case"w":case"i":case"ArrowUp":return 4;case"s":case"k":case"ArrowDown":return 5;case"a":case"j":case"y":case"z":case"ArrowLeft":return 0;case"q":case"u":case"x":return 1;case"e":case"o":case"c":return 2;case"d":case"l":case"v":case"ArrowRight":return 3}}keyCodeFromEvent(e){if(!this.isGameModeActive(e)){if(1===e.key.length&&e.key.charCodeAt(0)<=255)return e.key.charCodeAt(0);switch(e.key){case"ArrowLeft":return 28;case"ArrowRight":return 29;case"ArrowUp":return 30;case"ArrowDown":return 31;case"Backspace":return 8;case"Tab":return 9;case"Enter":return 10;default:return}}}}class id extends N6{constructor(e,t,r,o,i){super(e,t),this.modalWatcher=r,this.ngZone=o,this.app=i}enableKeyboardEvents(){return!this.modalWatcher.isModalActive()}onToggleGameMode(){this.app.tick()}addEventListener(e,t,r,o){this.ngZone.runOutsideAngular(()=>e.addEventListener(t,r,o))}}function LM(n){return/\.(prc|pdb|pqa)$/i.test(n)}id.\u0275fac=function(e){return new(e||id)(ne(Yi),ne(hl),ne(ql),ne(pt),ne(Ml))},id.\u0275prov=mt({token:id,factory:id.\u0275fac,providedIn:"root"});class U6{constructor(e,t,r,o){this.cloudpilotService=e,this.alertController=t,this.snapshotService=r,this.files=o,this.filesSuccess=[],this.filesFail=[],this.filesRequireReset=[],this.sizeInstalledSinceLastsnapshot=0,this.skipErrors=!1,this.errors=0,this.installedDatabases=new Map}run(){var e=this;return(0,fe.Z)(function*(){for(const t of e.files){let r;try{r=yield t.getContent()}catch(o){console.warn(o),e.filesFail.push(t.name);continue}if(/\.zip/i.test(t.name)&&r.length<33554432)try{yield e.installZip(t)}catch{e.filesFail.push(t.name)}else LM(t.name)?yield e.installOne(t.name,r):e.filesFail.push(t.name)}return[e.filesSuccess,e.filesRequireReset,e.filesFail]})()}installOne(e,t){var r=this;return(0,fe.Z)(function*(){const i=yield(yield r.cloudpilotService.cloudpilot).installDb(t);switch(i){case 2:r.filesRequireReset.push(e),r.filesSuccess.push(e),r.sizeInstalledSinceLastsnapshot+=t.length;break;case 1:r.filesSuccess.push(e),r.sizeInstalledSinceLastsnapshot+=t.length;break;default:r.filesFail.push(e),yield r.reportError(e,i)}if(2===i||1===i)try{const s=function V6(n){if(n.length<32)throw new Error("not a database");let e;for(e=0;e<32&&0!==n[e];e++);if(e>31)throw new Error("not a database");return new TextDecoder("latin1",{fatal:!1}).decode(n.subarray(0,e))}(t);r.installedDatabases.has(s)&&(yield r.errorDialog("Duplicate item",`${e} overwrites previously installed database ${r.installedDatabases.get(s)}`)),r.installedDatabases.set(s,e)}catch{}r.sizeInstalledSinceLastsnapshot>4194304&&(yield r.snapshotService.triggerSnapshot(),r.sizeInstalledSinceLastsnapshot=0),yield new Promise(s=>setTimeout(s,0))})()}installZip(e){var t=this;return(0,fe.Z)(function*(){yield(yield t.cloudpilotService.cloudpilot).withZipfileWalker(yield e.getContent(),function(){var o=(0,fe.Z)(function*(i){let s=0;for(;0===i.GetState();){const a=i.GetCurrentEntryName().replace(/^.*\//,"");if(!LM(i.GetCurrentEntryName())){i.Next();continue}const u=i.GetCurrentEntryContent();u?(yield t.installOne(a,u),s++):t.filesFail.push(a),i.Next()}if(0===s)throw new Error("no installable files in archive")});return function(i){return o.apply(this,arguments)}}())})()}reportError(e,t){return this.errorDialog("Item failed to install",`Could not install ${e}: ${function B6(n){switch(n){case-6:return"database exists on device and could not be overwritten";case-4:return"database file is corrupt";case-3:return"database is open on device";case-5:return"internal PalmOS error";case-2:return"not enough memory on device";default:return"unknown reason"}}(t)}.`)}errorDialog(e,t){return this.skipErrors?Promise.resolve():new Promise(r=>{this.alertController.create({header:e,backdropDismiss:!1,cssClass:"alert-checkbox-no-border installation-error",message:t,buttons:[{text:"Continue",role:"cancel",handler:()=>{this.alertController.dismiss(),r()}}],inputs:++this.errors>=3?[{type:"checkbox",label:"Skip any remaining errors",checked:!1,handler:i=>this.skipErrors=!0===i.checked}]:[]}).then(i=>i.present())})}}class sd{constructor(e,t,r,o,i,s){this.cloudpilotService=e,this.emulationService=t,this.loadingController=r,this.snapshotService=o,this.alertService=i,this.alertController=s}installFiles(e){var t=this;return(0,fe.Z)(function*(){const r=yield t.loadingController.create({message:"Installing..."});yield r.present(),yield t.emulationService.pause(),yield t.snapshotService.waitForPendingSnapshot();let o=[],i=[],s=[];try{[o,s,i]=yield new U6(t.cloudpilotService,t.alertController,t.snapshotService,e).run()}finally{r.dismiss(),t.emulationService.resume()}const a=[t.messageSucces(o),t.messageFailed(i),t.messageRequireReset(s)].filter(f=>!!f).join("<br/><br/>");let u;u=0===i.length?"Installation successful":0===o.length?"Installation failed":"Installation errors",t.alertService.message(u,a,s.length>0?{"Reset now":()=>t.emulationService.reset()}:void 0)})()}messageSucces(e){switch(e.length){case 0:return;case 1:return`Installation of ${e[0]} successful.`;default:return`Installation of ${e.length} items successful.`}}messageFailed(e){return e.length>0?`Installation of  ${p0(e)} failed.`:void 0}messageRequireReset(e){return e.length>0?`${p0(e)} require a device reset.`:void 0}}sd.\u0275fac=function(e){return new(e||sd)(ne(Ki),ne(Yi),ne($l),ne(Aa),ne(Br),ne(zu))},sd.\u0275prov=mt({token:sd,factory:sd.\u0275fac,providedIn:"root"});class Jl{constructor(){this.onDragOver=e=>{e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.currentClient?"copy":"none")},this.onDrop=e=>{e.preventDefault(),this.currentClient&&this.currentClient.handleDragDropEvent(e)},document.addEventListener("drop",this.onDrop),document.addEventListener("dragover",this.onDragOver)}registerClient(e){this.currentClient=e}unregisterClient(e){e===this.currentClient&&(this.currentClient=void 0)}}Jl.\u0275fac=function(e){return new(e||Jl)},Jl.\u0275prov=mt({token:Jl,factory:Jl.\u0275fac,providedIn:"root"});const j6=["canvas"];function H6(n,e){if(1&n){const t=_r();ae(0,"ion-button",5),lt("click",function(){return At(t),Pt($t().navigation.lock())}),dt(1,"ion-icon",10),ee()}}function G6(n,e){if(1&n){const t=_r();ae(0,"ion-button",5),lt("click",function(){return At(t),Pt($t().navigation.unlock())}),dt(1,"ion-icon",11),ee()}}function z6(n,e){if(1&n){const t=_r();ae(0,"ion-button",5),lt("click",function(){return At(t),Pt($t().showGameModeHint())}),dt(1,"ion-icon",12),ee()}}function W6(n,e){if(1&n){const t=_r();ae(0,"ion-button",5),lt("click",function(){return At(t),Pt($t().showProxyConnectedHint())}),dt(1,"ion-icon",13),ee()}}function Z6(n,e){if(1&n){const t=_r();ae(0,"ion-button",5),lt("click",function(){return At(t),Pt($t().showSlowdowndHint())}),dt(1,"ion-icon",14),ee()}}function q6(n,e){if(1&n){const t=_r();ae(0,"div",15),qe(1," The device was reset forcefully. How do you want to boot? "),ae(2,"ion-button",16),lt("click",function(){return At(t),Pt($t().bootAfterForcefulReset())}),qe(3,"Normal boot"),ee(),ae(4,"ion-button",16),lt("click",function(){return At(t),Pt($t().bootAfterForcefulResetNoExtensions())}),qe(5,"No extensions"),ee(),ae(6,"ion-button",16),lt("click",function(){return At(t),Pt($t().bootAfterForcefulResetHardReset())}),qe(7,"Hard reset"),ee()()}}function K6(n,e){1&n&&(ae(0,"div",15)(1,"div"),qe(2,"No session selected"),ee()())}class ip{constructor(e,t,r,o,i,s,a,u,f,m,_,k,T,X,Ae,Ze,Ke,Ct){var Ne=this;this.emulationService=e,this.emulationState=t,this.storageService=r,this.eventHandlingService=o,this.canvasDisplayService=i,this.kvsService=s,this.popoverController=a,this.modalController=u,this.alertService=f,this.fileService=m,this.snapshotService=_,this.installlationService=k,this.proxyService=T,this.navigation=X,this.linkApi=Ae,this.performanceWatchdogService=Ze,this.cloudpilotService=Ke,this.dragDropService=Ct,this.ionViewDidEnter=()=>this.mutex.runExclusive((0,fe.Z)(function*(){yield Ne.emulationService.bootstrapComplete(),Ne.boostrapComplete=!0;const Nt=Ne.emulationState.getCurrentSession();Nt&&!Nt.wasResetForcefully&&(yield Ne.launchEmulator()),Ne.linkApi.installation.requestEvent.addHandler(Ne.handleLinkApiInstallationRequest),Ne.handleLinkApiInstallationRequest(),Ne.dragDropService.registerClient(Ne)})),this.ionViewWillLeave=()=>this.mutex.runExclusive(()=>{this.dragDropService.unregisterClient(this),this.linkApi.installation.requestEvent.removeHandler(this.handleLinkApiInstallationRequest),this.emulationService.isRunning()&&(this.autoLockUI=!1),this.emulationService.pause(),this.emulationService.newFrameEvent.removeHandler(this.onNewFrame),this.snapshotService.snapshotEvent.removeHandler(this.onSnapshot),this.kvsService.updateEvent.removeHandler(this.onKvsUpdate),this.eventHandlingService.release(),this.navigation.unlock()}),this.onKvsUpdate=()=>{this.kvsService.kvs.showStatistics?this.canvasDisplayService.updateStatistics():this.canvasDisplayService.clearStatistics()},this.onSnapshot=Nt=>{this.kvsService.kvs.showStatistics&&this.canvasDisplayService.updateStatistics(Nt,this.emulationService.getStatistics())},this.onNewFrame=Nt=>{this.canvasDisplayService.updateEmulationCanvas(Nt)},this.handleLinkApiInstallationRequest=()=>{if(!this.linkApi.installation.hasPendingRequest())return;const Nt=this.linkApi.installation.receivePendingUrl();Nt&&(this.installFileDisabled?this.alertService.message("Unable to install","Installation is currently not possible.",{},"Cancel"):this.emulationState.getCurrentSession()&&this.emulationService.isRunning()?this.alertService.message("Installation request",`Do you want to install<br>${Nt} ?`,{OK:()=>this.fileService.openUrl(Nt,Wn=>this.installlationService.installFiles([Wn]))},"Cancel"):this.alertService.message("Unable to install",`Please start a session in order to install ${Nt} .`,{},"Cancel"))},this.boostrapComplete=!1,this.autoLockUI=!0,this.mutex=new ka}get cssWidth(){return this.canvasDisplayService.width/devicePixelRatio+"px"}get cssHeight(){return this.canvasDisplayService.height/devicePixelRatio+"px"}openContextMenu(e){var t=this;return(0,fe.Z)(function*(){(yield t.popoverController.create({component:op,event:e,componentProps:{showHelp:()=>t.showHelp()},arrow:!1})).present()})()}handleDragDropEvent(e){this.installFileDisabled||this.fileService.openFromDrop(e,this.installlationService.installFiles.bind(this.installlationService))}installFiles(){this.fileService.openFiles(this.installlationService.installFiles.bind(this.installlationService))}showHelp(){var e=this;return(0,fe.Z)(function*(){yield(yield e.modalController.create({component:pl,componentProps:{url:"assets/doc/emulation.md"}})).present()})()}showGameModeHint(){var e=this;return(0,fe.Z)(function*(){yield e.alertService.message("Game mode","\n                The keyboard is in game mode and controls the hardware buttons.\n                Press ctrl-shift in order to exit game mode.\n                <br/><br/>\n                Check the help page for a description of the different keyboard mappings.\n            ",{Help:()=>e.showHelp()})})()}showProxyConnectedHint(){var e=this;return(0,fe.Z)(function*(){yield e.alertService.message("Proxy connected","Network proxy connected.")})()}showSlowdowndHint(){var e=this;return(0,fe.Z)(function*(){yield e.alertService.message("Speed throttled","\n                Your host is too slow to run your virtual device at full speed, and the clock\n                has been throttled in order to compensate. You can avoid this by reducing the speed of your\n                virtual device in the session settings.\n        ")})()}get installFileDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get title(){return this.emulationState.getCurrentSession()?.name||""}bootAfterForcefulReset(){var e=this;return(0,fe.Z)(function*(){yield e.clearForcefulReset(),yield e.launchEmulator()})()}bootAfterForcefulResetNoExtensions(){var e=this;return(0,fe.Z)(function*(){yield e.clearForcefulReset(),(yield e.cloudpilotService.cloudpilot).resetNoExtensions(),yield e.launchEmulator()})()}bootAfterForcefulResetHardReset(){var e=this;return(0,fe.Z)(function*(){yield e.clearForcefulReset(),(yield e.cloudpilotService.cloudpilot).resetHard(),yield e.launchEmulator()})()}cancelIfEmulationActive(e){this.emulationState.getCurrentSession()&&!this.emulationState.getCurrentSession()?.wasResetForcefully&&e.cancelable&&e.preventDefault()}clearForcefulReset(){var e=this;return(0,fe.Z)(function*(){const t=e.emulationState.getCurrentSession();t&&(yield e.storageService.updateSessionPartial(t.id,{wasResetForcefully:!1}))})()}launchEmulator(){var e=this;return(0,fe.Z)(function*(){const t=e.emulationState.getCurrentSession();t&&(yield e.kvsService.mutex.runExclusive(()=>e.kvsService.kvs.autoLockUI&&e.autoLockUI&&e.navigation.lock()),e.canvasDisplayService.initialize(e.canvasRef.nativeElement,t).then(()=>{e.onKvsUpdate(),e.kvsService.updateEvent.addHandler(e.onKvsUpdate)}),e.onNewFrame(e.emulationService.getCanvas()),e.emulationService.newFrameEvent.addHandler(e.onNewFrame),e.snapshotService.snapshotEvent.addHandler(e.onSnapshot),yield e.emulationService.resume(),e.eventHandlingService.bind(e.canvasRef.nativeElement))})()}}function S0(n,e,t){return()=>{const r=t();r!==e&&(n.markForCheck(),e=r)}}function $M(n,e){let t=n,r=1;for(;e(t);)t=`${n} (${r++})`;return t}ip.\u0275fac=function(e){return new(e||ip)(C(Yi),C(hs),C(Yn),C(id),C(hl),C(Yo),C(kc),C(ps),C(Br),C(Bs),C(Aa),C(sd),C(Kl),C(Nc),C(xl),C(Lc),C(Ki),C(Jl))},ip.\u0275cmp=Ye({type:ip,selectors:[["app-emulation"]],viewQuery:function(e,t){if(1&e&&wu(j6,5),2&e){let r;Ds(r=Is())&&(t.canvasRef=r.first)}},decls:21,vars:19,consts:[["slot","end"],[3,"disabled","click"],["name","download-outline"],[3,"click",4,"ngIf"],["slot","start"],[3,"click"],["name","ellipsis-vertical-outline"],[1,"container","running-session",3,"touchstart","touchmove"],["canvas",""],["class","container no-session",4,"ngIf"],["name","lock-open-outline"],["name","lock-closed-outline"],["name","game-controller-outline"],["name","swap-vertical-outline"],["name","speedometer-outline"],[1,"container","no-session"],["type","button","color","light",3,"click"]],template:function(e,t){if(1&e&&(ae(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),qe(3),ee(),ae(4,"ion-buttons",0)(5,"ion-button",1),lt("click",function(){return t.installFiles()}),dt(6,"ion-icon",2),ee(),ln(7,H6,2,0,"ion-button",3),ln(8,G6,2,0,"ion-button",3),ee(),ae(9,"ion-buttons",4)(10,"ion-button",5),lt("click",function(o){return t.openContextMenu(o)}),dt(11,"ion-icon",6),ee(),ln(12,z6,2,0,"ion-button",3),ln(13,W6,2,0,"ion-button",3),ln(14,Z6,2,0,"ion-button",3),ee()()(),ae(15,"ion-content")(16,"div",7),lt("touchstart",function(o){return t.cancelIfEmulationActive(o)})("touchmove",function(o){return t.cancelIfEmulationActive(o)}),dt(17,"canvas",null,8),ee(),ln(19,q6,8,0,"div",9),ln(20,K6,3,0,"div",9),ee()),2&e){let r,o;et(3),Es(t.title),et(2),ot("disabled",t.installFileDisabled),et(2),ot("ngIf",!t.navigation.isLocked()),et(1),ot("ngIf",t.navigation.isLocked()),et(4),ot("ngIf",t.eventHandlingService.isGameMode()),et(1),ot("ngIf",t.proxyService.isConnected()),et(1),ot("ngIf",t.performanceWatchdogService.isSlowdownDetected()),et(1),Ka("locked",t.navigation.isLocked()),et(1),qd("display",!t.emulationState.getCurrentSession()||null!=(r=t.emulationState.getCurrentSession())&&r.wasResetForcefully?"none":void 0),et(1),qd("width",t.cssWidth)("height",t.cssHeight)("display",t.emulationState.getCurrentSession()?"block":"none"),et(2),ot("ngIf",null!=(o=t.emulationState.getCurrentSession())&&o.wasResetForcefully?"none":void 0),et(1),ot("ngIf",!t.emulationState.getCurrentSession()&&t.boostrapComplete)}},dependencies:[oi,ji,Hi,Gi,zi,ai,Zi,qi],styles:["ion-title[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:3px}.container.no-session[_ngcontent-%COMP%]{text-align:center;padding:1em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:1em;width:100%;max-width:20em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-of-type{margin-top:3em}ion-content.locked[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-bottom:var(--ion-safe-area-bottom, 0)}.container.running-session[_ngcontent-%COMP%]{background:radial-gradient(circle,#ccc 0%,#eee 100%)}@media (prefers-color-scheme: dark){.container.running-session[_ngcontent-%COMP%]{background:none}}canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}"]});class sp{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onDelete=()=>{},this.onReset=()=>{}}}sp.\u0275fac=function(e){return new(e||sp)},sp.\u0275cmp=Ye({type:sp,selectors:[["app-session-context-menu"]],inputs:{onEdit:"onEdit",onSave:"onSave",onDelete:"onDelete",onReset:"onReset"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,t){1&e&&(ae(0,"ion-list")(1,"ion-item",0),lt("click",function(){return t.onEdit()}),dt(2,"ion-icon",1),qe(3," Edit "),ee(),ae(4,"ion-item",0),lt("click",function(){return t.onSave()}),dt(5,"ion-icon",2),qe(6," Save "),ee(),ae(7,"ion-item",0),lt("click",function(){return t.onReset()}),dt(8,"ion-icon",3),qe(9," Reset "),ee(),ae(10,"ion-item",4),lt("click",function(){return t.onDelete()}),dt(11,"ion-icon",5),qe(12," Delete "),ee()()),2&e&&(et(1),ot("detail",!1),et(3),ot("detail",!1),et(3),ot("detail",!1),et(3),ot("detail",!1))},dependencies:[ai,Ko,Da]});const X6=["slidingItem"];function Q6(n,e){if(1&n&&(ae(0,"span"),qe(1),ee()),2&n){const t=$t();et(1),Ti(", OS ",t.decodeVersion(null==t.session?null:t.session.osVersion),"")}}class ap{constructor(e){this.popoverController=e,this.selected=!1,this.touched=!1,this.delete=new kn,this.resetSession=new kn,this.edit=new kn,this.save=new kn,this.selectItem=new kn,this.interaction=new kn}get device(){return this.session?pM(this.session.device):""}onContextmenu(e){var t=this;return(0,fe.Z)(function*(){e.stopPropagation(),e.preventDefault(),t.interaction.emit(),(yield t.popoverController.create({component:sp,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>t.edit.emit(),onSave:()=>t.save.emit(),onDelete:()=>t.delete.emit(),onReset:()=>t.resetSession.emit()}})).present()})()}decodeVersion(e){if(void 0===e)return"";const t=function Y6(n){return{major:n>>>24&255,minor:n>>>20&15,fix:n>>>16&15,stage:n>>>12&15,build:4095&n}}(e);return`${t.major}.${t.minor}`}get color(){return this.selected?"primary":this.touched?"light":void 0}}function J6(n,e){1&n&&(ae(0,"div",10),dt(1,"ion-spinner"),ee())}function e5(n,e){1&n&&(ae(0,"div",11)(1,"div",12),qe(2," No sessions. Select the \u201e+\u201c icon in the upper right corner in order to import a ROM file or a session image. "),dt(3,"br")(4,"br"),qe(5," You can find a collection of compatible ROMs on "),ae(6,"a",13),qe(7,"PalmDB"),ee(),qe(8,". "),ee()())}function t5(n,e){if(1&n){const t=_r();ae(0,"app-session-item",15),lt("delete",function(){const i=At(t).$implicit;return Pt($t(2).deleteSession(i))})("selectItem",function(){const i=At(t).$implicit;return Pt($t(2).launchSession(i))})("edit",function(){const i=At(t).$implicit;return Pt($t(2).editSession(i))})("save",function(){const i=At(t).$implicit;return Pt($t(2).saveSession(i))})("resetSession",function(){const i=At(t).$implicit;return Pt($t(2).resetSession(i))})("interaction",function(){const i=At(t).$implicit;return Pt($t(2).lastSessionTouched=i.id)}),ee()}if(2&n){const t=e.$implicit,r=$t(2);ot("session",t)("selected",r.currentSessionId===t.id)("touched",t.id===r.lastSessionTouched)}}function n5(n,e){if(1&n&&(ae(0,"ion-list"),ln(1,t5,1,3,"app-session-item",14),ee()),2&n){const t=$t();et(1),ot("ngForOf",t.sessions)("ngForTrackBy",t.trackSessionBy)}}ap.\u0275fac=function(e){return new(e||ap)(C(kc))},ap.\u0275cmp=Ye({type:ap,selectors:[["app-session-item"]],viewQuery:function(e,t){if(1&e&&wu(X6,5),2&e){let r;Ds(r=Is())&&(t.slidingItem=r.first)}},inputs:{session:"session",selected:"selected",touched:"touched"},outputs:{delete:"delete",resetSession:"resetSession",edit:"edit",save:"save",selectItem:"selectItem",interaction:"interaction"},decls:19,vars:7,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","refresh-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],[4,"ngIf"]],template:function(e,t){if(1&e){const r=_r();ae(0,"ion-item-sliding",0,1),lt("contextmenu",function(i){return t.onContextmenu(i)})("ionDrag",function(){return t.interaction.emit()}),ae(2,"ion-item-options",2)(3,"ion-item-option",3),lt("click",function(){return At(r),Ss(1).close(),Pt(t.edit.emit(t.session))}),dt(4,"ion-icon",4),ee(),ae(5,"ion-item-option",5),lt("click",function(){return At(r),Ss(1).close(),Pt(t.save.emit(t.session))}),dt(6,"ion-icon",6),ee()(),ae(7,"ion-item-options",7)(8,"ion-item-option",8),lt("click",function(){return At(r),Ss(1).close(),Pt(t.resetSession.emit(t.session))}),dt(9,"ion-icon",9),ee(),ae(10,"ion-item-option",10),lt("click",function(){return At(r),Ss(1).close(),Pt(t.delete.emit(t.session))}),dt(11,"ion-icon",11),ee()(),ae(12,"ion-item",12),lt("click",function(){return t.selectItem.emit()}),ae(13,"ion-label")(14,"h2"),qe(15),ee(),ae(16,"p"),qe(17),ln(18,Q6,2,1,"span",13),ee()()()()}2&e&&(et(12),ot("color",t.color),et(1),Ka("in-item-color",t.selected),et(2),Es(null==t.session?null:t.session.name),et(2),Yd("",t.device,", ",null==t.session?null:t.session.ram,"MB RAM"),et(1),ot("ngIf",null==t.session?null:t.session.osVersion))},dependencies:[oi,ai,Ko,Dm,Im,km,Wi],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}"],changeDetection:0});class Fa{constructor(e,t,r,o,i,s,a,u,f,m,_,k,T){this.sessionService=e,this.fileService=t,this.alertController=r,this.alertService=o,this.emulationService=i,this.emulationState=s,this.storageService=a,this.modalController=u,this.linkApi=f,this.router=m,this.cloudpilotService=_,this.dragDropService=k,this.cd=T,this.handleLinkApiImportRequest=()=>{if(!this.linkApi.import.hasPendingRequest())return;const X=this.linkApi.import.receivePendingUrl();X&&this.alertService.message("Import request",`Do you want to import<br>${X} ?`,{OK:()=>this.fileService.openUrl(X,this.processFile.bind(this))},"Cancel")},this.lastSessionTouched=-1,this.checkSessions=S0(T,[],()=>this.sessionService.getSessions())}ngDoCheck(){this.checkSessions()}ionViewDidEnter(){this.linkApi.import.requestEvent.addHandler(this.handleLinkApiImportRequest),this.handleLinkApiImportRequest(),this.dragDropService.registerClient(this)}ionViewWillLeave(){this.dragDropService.unregisterClient(this),this.linkApi.import.requestEvent.removeHandler(this.handleLinkApiImportRequest)}get sessions(){return this.sessionService.getSessions().sort((e,t)=>e.name.localeCompare(t.name))}deleteSession(e){var t=this;return(0,fe.Z)(function*(){yield(yield t.alertController.create({header:"Warning",message:`Deleting the session '${e.name}' will remove all associated data. This cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:()=>t.sessionService.deleteSession(e)}],backdropDismiss:!1})).present()})()}editSession(e){var t=this;return(0,fe.Z)(function*(){const r={...e};(yield t.editSettings(e))&&!MM()(e,r)&&(yield t.sessionService.updateSession(e))})()}importSession(){this.fileService.openFile(this.processFile.bind(this))}saveSession(e){return this.fileService.saveSession(e)}trackSessionBy(e,t){return t.id}launchSession(e){var t=this;return(0,fe.Z)(function*(){t.lastSessionTouched=e.id,t.currentSessionOverride=e.id,t.cd.markForCheck();const r=yield t.emulationService.switchSession(e.id);t.currentSessionOverride=void 0,t.cd.markForCheck(),r&&t.router.navigateByUrl("/tab/emulation")})()}resetSession(e){var t=this;return(0,fe.Z)(function*(){const r=e.id===t.emulationState.getCurrentSession()?.id;r&&(yield t.emulationService.stop()),yield t.storageService.deleteStateForSession(e),yield t.storageService.updateSessionPartial(e.id,{wasResetForcefully:!0}),r&&(yield t.emulationService.switchSession(e.id)),yield(yield t.alertController.create({header:"Done",message:`Session ${e.name} has been reset.`,buttons:[{text:"Close",role:"cancel"}],backdropDismiss:!1})).present()})()}get currentSessionId(){return this.currentSessionOverride??this.emulationState.getCurrentSession()?.id}showHelp(){var e=this;return(0,fe.Z)(function*(){yield(yield e.modalController.create({component:pl,componentProps:{url:"assets/doc/sessions.md"}})).present()})()}handleDragDropEvent(e){this.fileService.openFromDrop(e,this.handleDropFiles.bind(this))}handleDropFiles(e){if(0!==e.length){if(e.length>1)return void this.alertService.errorMessage("Drop a single ROM or session image in order to create a new session.");this.processFile(e[0])}}processFile(e){var t=this;return(0,fe.Z)(function*(){if(!/\.(img|rom|bin)$/i.test(e.name))return void t.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .img and .rom.");let r;try{r=yield e.getContent()}catch(i){return console.warn(i),void(yield t.alertService.errorMessage(`Unable to open "${e.name}".`))}const o=(yield t.cloudpilotService.cloudpilot).deserializeSessionImage(r);if(o){const i={name:t.disambiguateSessionName(o.metadata?.name??e.name),hotsyncName:o.metadata?.hotsyncName,device:o.deviceId,dontManageHotsyncName:o.metadata?.dontManageHotsyncName,speed:o.metadata?.speed,deviceOrientation:o.metadata?.deviceOrientation};if(yield t.editSettings(i)){const s=yield t.sessionService.addSessionFromImage(o,i.name,i);t.lastSessionTouched=s.id}}else{const i=(yield t.cloudpilotService.cloudpilot).getRomInfo(r);if(!i)return void t.alertService.errorMessage("Not a valid session file or ROM image.");if(0===i.supportedDevices.length)return void t.alertService.errorMessage("No supported device for this ROM.");const s={name:t.disambiguateSessionName(e.name),hotsyncName:"",device:i.supportedDevices[0]};if(yield t.editSettings(s,i.supportedDevices)){const a=yield t.sessionService.addSessionFromRom(r,s.name,s.device,s);t.lastSessionTouched=a.id}}})()}editSettings(e,t=[e.device]){return new Promise(r=>{let o;this.modalController.create({component:rd,backdropDismiss:!1,componentProps:{session:e,availableDevices:t,onSave:()=>{o.dismiss(),r(!0)},onCancel:()=>{o.dismiss(),r(!1)}}}).then(i=>{o=i,o.present()})})}disambiguateSessionName(e){const t=this.sessionService.getSessions();return $M(e,r=>t.some(o=>o.name===r))}}function r5(n,e){1&n&&(ae(0,"ion-item",8)(1,"ion-label"),qe(2,"Clipboard integration"),ee(),dt(3,"ion-toggle",17),ee())}function o5(n,e){if(1&n){const t=_r();ae(0,"ion-item",8)(1,"ion-label",18),qe(2,"Proxy server"),ee(),ae(3,"div",19),dt(4,"ion-input",20),ae(5,"ion-button",21),lt("click",function(o){At(t);const i=$t();return o.preventDefault(),o.stopPropagation(),Pt(i.testProxyConnection())})("touchstart",function(o){At(t);const i=$t();return o.preventDefault(),o.stopPropagation(),Pt(i.testProxyConnection())}),qe(6," Test "),ee()()()}if(2&n){const t=$t();et(5),ot("disabled",!t.proxyServerValid)}}Fa.\u0275fac=function(e){return new(e||Fa)(C(xa),C(Bs),C(zu),C(Br),C(Yi),C(hs),C(Yn),C(ps),C(xl),C(Fo),C(Ki),C(Jl),C(It))},Fa.\u0275cmp=Ye({type:Fa,selectors:[["app-sessions"]],decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],["href","https://palmdb.net/app/palm-roms-complete","target","_blank","rel","external"],[3,"session","selected","touched","delete","selectItem","edit","save","resetSession","interaction",4,"ngFor","ngForOf","ngForTrackBy"],[3,"session","selected","touched","delete","selectItem","edit","save","resetSession","interaction"]],template:function(e,t){1&e&&(ae(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),qe(3,"Sessions"),ee(),ae(4,"ion-buttons",0)(5,"ion-button",1),lt("click",function(){return t.importSession()}),dt(6,"ion-icon",2),ee()(),ae(7,"ion-buttons",3)(8,"ion-button",1),lt("click",function(){return t.showHelp()}),dt(9,"ion-icon",4),ee(),dt(10,"app-pwa-prompt"),ee()()(),ae(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),qe(15,"Sessions"),ee()()(),ln(16,J6,2,0,"div",7),ln(17,e5,9,0,"div",8),ln(18,n5,2,2,"ion-list",9),ee()),2&e&&(et(16),ot("ngIf",t.sessionService.isLoading()),et(1),ot("ngIf",!t.sessionService.isLoading()&&0===t.sessions.length),et(1),ot("ngIf",!t.sessionService.isLoading()&&t.sessions.length>0))},dependencies:[yc,oi,ji,Hi,Gi,zi,ai,Da,Hf,Zi,qi,Xl,ap],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"]}),z([mo()],Fa.prototype,"deleteSession",null),z([mo()],Fa.prototype,"editSession",null),z([mo()],Fa.prototype,"saveSession",null),z([mo()],Fa.prototype,"launchSession",null),z([mo()],Fa.prototype,"resetSession",null);class lp{constructor(e,t,r,o,i){this.modalController=e,this.kvsService=t,this.clipboardService=r,this.alertService=o,this.proxyService=i,this.onAudioOnStartChange=s=>{this.kvsService.kvs.enableAudioOnFirstInteraction=s,s&&this.alertService.message("Enable audio on start","\n            Audio will automatically turn on after the first interaction with the application\n            (i.e. touch, click or keyboard event). This option will only take effect the next time\n            Coudpilot is restarts.\n        ")},this.connectionTestInProgress=!1}ngOnInit(){this.createFormGroup()}showHelp(){var e=this;return(0,fe.Z)(function*(){yield(yield e.modalController.create({component:pl,componentProps:{url:"assets/doc/settings.md"}})).present()})()}ionViewWillEnter(){this.mutexReleasePromise=this.kvsService.mutex.acquire()}ionViewWillLeave(){var e=this;return(0,fe.Z)(function*(){e.formGroup.get("networkRedirection")?.value&&!e.formGroup.get("proxyServer")?.valid&&(e.alertService.message("Invalid proxy server","The proxy server you specified is invalid. Network redirection will be disabled."),e.formGroup.get("networkRedirection").setValue(!1)),e.formGroup.get("networkRedirection")?.value||e.formGroup.get("proxyServer")?.setValue(e.kvsService.kvs.proxyServer),yield e.kvsService.set({volume:e.formGroup.get("volume").value,showStatistics:e.formGroup.get("showStatistics").value,clipboardIntegration:e.formGroup.get("clipboardIntegration")?.value,networkRedirection:e.formGroup.get("networkRedirection")?.value,proxyServer:e.formGroup.get("proxyServer")?.value,runHidden:e.formGroup.get("runHidden")?.value,autoLockUI:e.formGroup.get("autoLockUI")?.value,enableRemoteInstall:e.formGroup.get("enableRemoteInstall")?.value,enableAudioOnFirstInteraction:e.formGroup.get("audioOnStart")?.value}),e.mutexReleasePromise&&(yield e.mutexReleasePromise)()})()}testProxyConnection(){var e=this;return(0,fe.Z)(function*(){if(!e.connectionTestInProgress){e.connectionTestInProgress=!0;try{switch((yield e.proxyService.handshake(e.formGroup.get("proxyServer")?.value,0)).status){case"failed":e.alertService.errorMessage("Unable to connect to proxy");break;case"version_mismatch":e.alertService.proxyVersionMismatchError();break;default:e.alertService.message("Success","Connection to proxy successful.")}}finally{e.connectionTestInProgress=!1}}})()}get showProxyServer(){return this.formGroup.get("networkRedirection")?.value}get proxyServerValid(){const e=this.formGroup.get("proxyServer");return!(!e?.value||!e?.valid)}createFormGroup(){this.formGroup=new qh({volume:new si(this.kvsService.kvs.volume),showStatistics:new si(this.kvsService.kvs.showStatistics),runHidden:new si(this.kvsService.kvs.runHidden),clipboardIntegration:new si(this.kvsService.kvs.clipboardIntegration),networkRedirection:new si(this.kvsService.kvs.networkRedirection),proxyServer:new si(this.kvsService.kvs.proxyServer,{validators:[RH]}),autoLockUI:new si(this.kvsService.kvs.autoLockUI),enableRemoteInstall:new si(this.kvsService.kvs.enableRemoteInstall),audioOnStart:new si(this.kvsService.kvs.enableAudioOnFirstInteraction)}),this.formGroup.get("audioOnStart")?.valueChanges.subscribe(this.onAudioOnStartChange)}}lp.\u0275fac=function(e){return new(e||lp)(C(ps),C(Yo),C(xc),C(Br),C(Kl))},lp.\u0275cmp=Ye({type:lp,selectors:[["app-settings"]],decls:51,vars:4,consts:[[3,"translucent"],["slot","secondary"],[3,"click"],["name","help-outline"],["collapse","condense"],["size","large"],[1,"settings-container"],[1,"settings-form",3,"formGroup"],["lines","none"],["min","0","max","1","step","0.1","formControlName","volume"],["formControlName","audioOnStart"],["formControlName","runHidden"],["lines","none",4,"ngIf"],["formControlName","networkRedirection"],["formControlName","autoLockUI"],["formControlName","showStatistics"],["formControlName","enableRemoteInstall"],["formControlName","clipboardIntegration"],["position","stacked"],[1,"server-container"],["placeholder","Proxy server host or URL","formControlName","proxyServer"],[3,"disabled","click","touchstart"]],template:function(e,t){1&e&&(ae(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"Settings"),ee(),ae(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return t.showHelp()}),dt(6,"ion-icon",3),ee(),dt(7,"app-pwa-prompt"),ee()()(),ae(8,"ion-content")(9,"ion-header",4)(10,"ion-toolbar")(11,"ion-title",5),qe(12,"Settings"),ee()()(),ae(13,"div",6)(14,"form",7)(15,"h1"),qe(16,"Emulation"),ee(),ae(17,"ion-item",8)(18,"ion-label"),qe(19,"Volume"),ee(),dt(20,"ion-range",9),ee(),ae(21,"ion-item",8)(22,"ion-label"),qe(23,"Enable audio on start"),ee(),dt(24,"ion-toggle",10),ee(),ae(25,"ion-item",8)(26,"ion-label"),qe(27,"Run when hidden"),ee(),dt(28,"ion-toggle",11),ee(),ae(29,"h1"),qe(30,"Host integration"),ee(),ln(31,r5,4,0,"ion-item",12),ae(32,"ion-item",8)(33,"ion-label"),qe(34,"Network redirection"),ee(),dt(35,"ion-toggle",13),ee(),ln(36,o5,7,1,"ion-item",12),ae(37,"h1"),qe(38,"UI"),ee(),ae(39,"ion-item",8)(40,"ion-label"),qe(41,"Auto-lock UI"),ee(),dt(42,"ion-toggle",14),ee(),ae(43,"ion-item",8)(44,"ion-label"),qe(45,"Show statistics"),ee(),dt(46,"ion-toggle",15),ee(),ae(47,"ion-item",8)(48,"ion-label"),qe(49,"Open from remote sources"),ee(),dt(50,"ion-toggle",16),ee()()()()),2&e&&(ot("translucent",!0),et(14),ot("formGroup",t.formGroup),et(17),ot("ngIf",t.clipboardService.isSupported()),et(5),ot("ngIf",t.showProxyServer))},dependencies:[oi,ol,nl,rl,ji,Hi,Gi,zi,ai,ul,Ko,Wi,Hv,Zi,Gf,qi,Hu,jf,cl,Xl,Qs,Ca],styles:[".server-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.server-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex-grow:1}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.settings-form[_ngcontent-%COMP%]{max-width:40em;flex-basis:100%}ion-item[_ngcontent-%COMP%]{--background: none}"]});class $c{transform(e){return void 0!==e?`${Math.round(e/1024/1024)} MB`:""}}function i5(n,e){1&n&&(ae(0,"div",14)(1,"b"),qe(2,"WARNING:"),ee(),qe(3," This image cannot be used as a memory stick image."),ee())}$c.\u0275fac=function(e){return new(e||$c)},$c.\u0275pipe=_e({name:"cardSize",type:$c,pure:!0});class ad{constructor(e){this.storageCardService=e,this.validateNameUnique=t=>this.storageCardService.getAllCards().some(r=>r.name===t.value&&r.name!==this.card?.name)?{name:"already taken"}:null,this.formGroup=new Nl({name:new fs("",{nonNullable:!0,validators:[_f.required,this.validateNameUnique]}),size:new fs({value:"dummy",disabled:!0}),checkAutomatically:new fs(!0,{nonNullable:!0})}),this.newCard=!1,this.cardSupportLevel=2,this.onCancel=()=>{},this.onSave=()=>{}}ngOnInit(){this.card&&(this.formGroup.controls.name.setValue(this.card.name),this.formGroup.controls.checkAutomatically.setValue(!this.card.dontFsckAutomatically))}save(){!this.formGroup.valid||!this.formGroup.value.name||!this.card||this.onSave({name:this.formGroup.value.name,dontFsckAutomatically:!this.formGroup.value.checkAutomatically})}onEnter(){this.save()}get memoryStickSupported(){return 2===this.cardSupportLevel}}function s5(n,e){if(1&n&&(ae(0,"ion-select-option",13),qe(1),ya(2,"cardSize"),ee()),2&n){const t=e.$implicit,r=$t();ot("value",t),et(1),Ti("",_a(2,2,r.sizeBytes(t))," ")}}ad.\u0275fac=function(e){return new(e||ad)(C(ta))},ad.\u0275cmp=Ye({type:ad,selectors:[["app-edit-card-dialog"]],inputs:{card:"card",newCard:"newCard",cardSupportLevel:"cardSupportLevel",onCancel:"onCancel",onSave:"onSave"},decls:28,vars:7,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],["value","dummy"],["formControlName","checkAutomatically"],["class","sd-only-warning",4,"ngIf"],[1,"sd-only-warning"]],template:function(e,t){1&e&&(ae(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3),ee(),ae(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return t.save()}),qe(6,"Save"),ee()(),ae(7,"ion-buttons",3)(8,"ion-button",4),lt("click",function(){return t.onCancel()}),qe(9,"Cancel"),ee()()()(),ae(10,"ion-content",5)(11,"form",6),lt("keydown.enter",function(){return t.onEnter()}),ae(12,"ion-item",7)(13,"ion-label",8),qe(14,"Card name"),ee(),dt(15,"ion-input",9),ee(),ae(16,"ion-item",7)(17,"ion-label",8),qe(18,"Card size"),ee(),ae(19,"ion-select",10)(20,"ion-select-option",11),qe(21),ya(22,"cardSize"),ee()()(),ae(23,"ion-item",7)(24,"ion-label"),qe(25,"Check for errors automatically"),ee(),dt(26,"ion-toggle",12),ee()(),ln(27,i5,4,0,"div",13),ee()),2&e&&(et(3),Es(t.newCard?"New memory card":"Edit memory card"),et(2),ot("disabled",t.formGroup.invalid),et(6),ot("formGroup",t.formGroup),et(10),Ti("",_a(22,5,null==t.card?null:t.card.size)," "),et(6),ot("ngIf",!t.memoryStickSupported))},dependencies:[oi,ji,Hi,Gi,zi,ul,Ko,Wi,Mm,Tm,Zi,Gf,qi,Hu,jf,cl,ol,nl,rl,Qs,Ca,$c],styles:[".sd-only-warning[_ngcontent-%COMP%]{padding:2em 1em}"]});const a5=[yo.mb4,yo.mb8,yo.mb16,yo.mb32,yo.mb64,yo.mb128];class cp{constructor(e){this.storageCardService=e,this.validateNameUnique=t=>this.storageCardService.getAllCards().some(r=>r.name===t.value)?{name:"already taken"}:null,this.onCreate=()=>{},this.onCancel=()=>{},this.formGroup=new Nl({name:new fs("",{nonNullable:!0,validators:[_f.required,this.validateNameUnique]}),size:new fs(yo.mb32,{nonNullable:!0}),checkAutomatically:new fs(!0,{nonNullable:!0})})}get sizes(){return a5}sizeBytes(e){return function HH(n){switch(n){case yo.mb4:return 4046848;case yo.mb8:return 8110080;case yo.mb16:return 16220160;case yo.mb32:return 32473088;case yo.mb64:return 64978944;case yo.mb128:return 129990656;default:throw new Error(`bad card size ${n}`)}}(e)}create(){!this.formGroup.valid||void 0===this.formGroup.value.name||void 0===this.formGroup.value.size||this.onCreate(this.formGroup.value.name,this.formGroup.value.size,!this.formGroup.value.checkAutomatically)}onEnter(){this.create()}}cp.\u0275fac=function(e){return new(e||cp)(C(ta))},cp.\u0275cmp=Ye({type:cp,selectors:[["app-new-card-dialog"]],inputs:{onCreate:"onCreate",onCancel:"onCancel"},decls:25,vars:3,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],[3,"value",4,"ngFor","ngForOf"],["formControlName","checkAutomatically"],[3,"value"]],template:function(e,t){1&e&&(ae(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"New memory card"),ee(),ae(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return t.create()}),qe(6,"Create"),ee()(),ae(7,"ion-buttons",3)(8,"ion-button",4),lt("click",function(){return t.onCancel()}),qe(9,"Cancel"),ee()()()(),ae(10,"ion-content",5)(11,"form",6),lt("keydown.enter",function(){return t.onEnter()}),ae(12,"ion-item",7)(13,"ion-label",8),qe(14,"Card name"),ee(),dt(15,"ion-input",9),ee(),ae(16,"ion-item",7)(17,"ion-label",8),qe(18,"Card size"),ee(),ae(19,"ion-select",10),ln(20,s5,3,4,"ion-select-option",11),ee()(),ae(21,"ion-item",7)(22,"ion-label"),qe(23,"Check for errors automatically"),ee(),dt(24,"ion-toggle",12),ee()()()),2&e&&(et(5),ot("disabled",t.formGroup.invalid),et(6),ot("formGroup",t.formGroup),et(9),ot("ngForOf",t.sizes))},dependencies:[yc,ji,Hi,Gi,zi,ul,Ko,Wi,Mm,Tm,Zi,Gf,qi,Hu,jf,cl,ol,nl,rl,Qs,Ca,$c]});class up{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCheck=()=>{},this.onDelete=()=>{}}}up.\u0275fac=function(e){return new(e||up)},up.\u0275cmp=Ye({type:up,selectors:[["app-storage-context-menu-card"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCheck:"onCheck",onDelete:"onDelete"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","medkit-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,t){1&e&&(ae(0,"ion-list")(1,"ion-item",0),lt("click",function(){return t.onEdit()}),dt(2,"ion-icon",1),qe(3," Edit "),ee(),ae(4,"ion-item",0),lt("click",function(){return t.onSave()}),dt(5,"ion-icon",2),qe(6," Save "),ee(),ae(7,"ion-item",0),lt("click",function(){return t.onCheck()}),dt(8,"ion-icon",3),qe(9," Check "),ee(),ae(10,"ion-item",4),lt("click",function(){return t.onDelete()}),dt(11,"ion-icon",5),qe(12," Delete "),ee()()),2&e&&(et(1),ot("detail",!1),et(3),ot("detail",!1),et(3),ot("detail",!1),et(3),ot("detail",!1))},dependencies:[ai,Ko,Da]});class dp{constructor(e,t){this.storageCardService=e,this.popoverController=t,this.touched=!1,this.interaction=new kn,this.selectCard=new kn,this.edit=new kn,this.check=new kn,this.delete=new kn,this.save=new kn}onContextmenu(e){var t=this;return(0,fe.Z)(function*(){e.stopPropagation(),e.preventDefault(),t.interaction.emit(),(yield t.popoverController.create({component:up,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>t.edit.emit(t.card),onSave:()=>t.save.emit(t.card),onCheck:()=>t.check.emit(),onDelete:()=>t.delete.emit()}})).present()})()}get color(){if(this.touched)return"light"}get status(){if(!this.card)return"";const e=this.storageCardService.mountedInSession(this.card?.id);if(e)return`attached to '${e.name}'`;if(this.card.dontFsckAutomatically)return"not checked automatically";switch(this.card.status){case Er.dirty:return"needs check";case Er.clean:return"no errors";case Er.unformatted:return"no filesystem";case Er.unfixable:return"uncorrectable errors";default:throw new Error("unreachable")}}}function l5(n,e){1&n&&(ae(0,"div",10),dt(1,"ion-spinner"),ee())}function c5(n,e){1&n&&(ae(0,"div",11)(1,"div",12),qe(2," No memory cards. Select the \u201e+\u201c icon in the upper right corner in order to create a new card. "),ee()())}function u5(n,e){if(1&n){const t=_r();ae(0,"app-storage-card",14),lt("delete",function(){const i=At(t).$implicit;return Pt($t(2).deleteCard(i))})("selectCard",function(){const i=At(t).$implicit;return Pt($t(2).selectCard(i))})("edit",function(){const i=At(t).$implicit;return Pt($t(2).editCard(i))})("check",function(){const i=At(t).$implicit;return Pt($t(2).checkCard(i))})("interaction",function(){const i=At(t).$implicit;return Pt($t(2).lastCardTouched=i.id)})("save",function(){const i=At(t).$implicit;return Pt($t(2).saveCard(i))}),ee()}if(2&n){const t=e.$implicit,r=$t(2);ot("card",t)("touched",t.id===r.lastCardTouched)}}function d5(n,e){if(1&n&&(ae(0,"ion-list"),ln(1,u5,1,2,"app-storage-card",13),ee()),2&n){const t=$t();et(1),ot("ngForOf",t.cards)("ngForTrackBy",t.trackCardBy)}}dp.\u0275fac=function(e){return new(e||dp)(C(ta),C(kc))},dp.\u0275cmp=Ye({type:dp,selectors:[["app-storage-card"]],inputs:{card:"card",touched:"touched"},outputs:{interaction:"interaction",selectCard:"selectCard",edit:"edit",check:"check",delete:"delete",save:"save"},decls:19,vars:6,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","medkit-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"]],template:function(e,t){if(1&e){const r=_r();ae(0,"ion-item-sliding",0,1),lt("contextmenu",function(i){return t.onContextmenu(i)})("ionDrag",function(){return t.interaction.emit(t.card)}),ae(2,"ion-item-options",2)(3,"ion-item-option",3),lt("click",function(){return At(r),Ss(1).close(),Pt(t.edit.emit(t.card))}),dt(4,"ion-icon",4),ee(),ae(5,"ion-item-option",5),lt("click",function(){return At(r),Ss(1).close(),Pt(t.save.emit(t.card))}),dt(6,"ion-icon",6),ee()(),ae(7,"ion-item-options",7)(8,"ion-item-option",8),lt("click",function(){return At(r),Ss(1).close(),Pt(t.check.emit(t.card))}),dt(9,"ion-icon",9),ee(),ae(10,"ion-item-option",10),lt("click",function(){return At(r),Ss(1).close(),Pt(t.delete.emit(t.card))}),dt(11,"ion-icon",11),ee()(),ae(12,"ion-item",12),lt("click",function(){return t.selectCard.emit(),t.interaction.emit()}),ae(13,"ion-label")(14,"h2"),qe(15),ee(),ae(16,"p"),qe(17),ya(18,"cardSize"),ee()()()()}2&e&&(et(12),ot("color",t.color),et(3),Es(null==t.card?null:t.card.name),et(2),Yd("",_a(18,4,null==t.card?null:t.card.size),", ",t.status,""))},dependencies:[ai,Ko,Dm,Im,km,Wi,$c],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}"],changeDetection:0});class na{constructor(e,t,r,o,i,s,a,u,f){var m=this;this.actionSheetController=e,this.storageCardService=t,this.modalController=r,this.alertController=o,this.cloudpilotService=i,this.alertService=s,this.errorService=a,this.fileService=u,this.handleCardImport=function(){var _=(0,fe.Z)(function*(k){const T=yield m.cloudpilotService.cloudpilot;let X;try{X=yield k.getContent()}catch(Ke){return console.warn(Ke),void(yield m.alertService.errorMessage(`Unable to open "${k.name}".`))}const Ae=T.getCardSupportLevel(X.length);if(0===Ae)return void m.alertService.errorMessage("This is not a supported card image.");const Ze=yield new Promise(function(){var Ke=(0,fe.Z)(function*(Ct){const Ne=yield m.modalController.create({component:ad,backdropDismiss:!1,componentProps:{card:{name:m.disambiguateName(k.name),size:X.length},cardSupportLevel:Ae,newCard:!0,onCancel:()=>{Ne.dismiss(),Ct(void 0)},onSave:Nt=>{Ct(Nt),Ne.dismiss()}}});yield Ne.present()});return function(Ct){return Ke.apply(this,arguments)}}());Ze&&(yield m.storageCardService.createCardFromImage(Ze.name,X,!!Ze.dontFsckAutomatically))});return function(k){return _.apply(this,arguments)}}(),this.lastCardTouched=void 0,this.onMountForBrowse=()=>{},this.checkCards=S0(f,[],()=>this.storageCardService.getAllCards())}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkCards()}get cards(){return this.storageCardService.getAllCards()}handleDragDropEvent(e){this.fileService.openFromDrop(e,this.handleFilesFromDrop.bind(this))}addCardImage(){var e=this;return(0,fe.Z)(function*(){(yield e.actionSheetController.create({header:"What type of image do you want to create?",buttons:[{text:"Empty image",handler:()=>e.createNewCardImage()},{text:"Import an existing image",handler:()=>e.importCardImage()},{text:"Cancel"}]})).present()})()}showHelp(){}selectCard(e){var t=this;return(0,fe.Z)(function*(){(yield t.storageCardService.browseCard(e))&&t.onMountForBrowse(e)})()}editCard(e){var t=this;return(0,fe.Z)(function*(){const r=yield t.cloudpilotService.cloudpilot,o=yield t.modalController.create({component:ad,backdropDismiss:!1,componentProps:{card:e,cardSupportLevel:r.getCardSupportLevel(e.size),onCancel:()=>o.dismiss(),onSave:(i=(0,fe.Z)(function*(s){yield t.storageCardService.updateCard(e.id,s),yield o.dismiss()}),function(a){return i.apply(this,arguments)})}});var i;yield o.present()})()}saveCard(e){return this.storageCardService.saveCard(e.id,`${Um(e.name.replace(/\.img$/,""))}.img`)}checkCard(e){return this.storageCardService.checkCard(e)}deleteCard(e){var t=this;return(0,fe.Z)(function*(){var o;yield(yield t.alertController.create({header:"Warning",backdropDismiss:!1,message:`Deleting the card '${e.name}' cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:(o=(0,fe.Z)(function*(){try{yield t.storageCardService.deleteCard(e.id)}catch(i){t.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}}),function(){return o.apply(this,arguments)})}]})).present()})()}trackCardBy(e,t){return t.id}handleFilesFromDrop(e){if(0!==e.length){if(e.length>1)return void this.alertService.errorMessage("Drop a single file system image in order to import it as a new memory card.");this.handleCardImport(e[0])}}importCardImage(){this.fileService.openFile(this.handleCardImport)}createNewCardImage(){var e=this;return(0,fe.Z)(function*(){const t=yield e.modalController.create({component:cp,backdropDismiss:!1,componentProps:{onCancel:()=>t.dismiss(),onCreate:(r=(0,fe.Z)(function*(o,i,s){yield e.storageCardService.createEmptyCard(o,i,s),yield t.dismiss()}),function(i,s,a){return r.apply(this,arguments)})}});var r;yield t.present()})()}disambiguateName(e){const t=this.storageCardService.getAllCards();return $M(e,r=>t.some(o=>o.name===r))}}function f5(n,e){1&n&&dt(0,"ion-icon",8)}function p5(n,e){1&n&&dt(0,"ion-icon",9)}function h5(n,e){1&n&&dt(0,"ion-icon",10)}function m5(n,e){if(1&n){const t=_r();ae(0,"ion-item",2),lt("click",function(){const i=At(t).index;return Pt($t(2).onSelect(i))}),zd(1,3),ln(2,f5,1,0,"ion-icon",4),ln(3,p5,1,0,"ion-icon",5),ln(4,h5,1,0,"ion-icon",6),Wd(),ae(5,"div",7),qe(6),ee()()}if(2&n){const t=e.$implicit,r=e.index,o=$t(2);ot("detail",!1)("lines",r===o.entries.length-1?"none":"full"),et(1),ot("ngSwitch",o.entries.length),et(1),ot("ngSwitchCase",r+1),et(1),ot("ngSwitchCase",r+2),et(3),Es(t)}}function g5(n,e){if(1&n&&(ae(0,"ion-list"),ln(1,m5,7,6,"ion-item",1),ee()),2&n){const t=$t();et(1),ot("ngForOf",t.entries)}}na.\u0275fac=function(e){return new(e||na)(C(qf),C(ta),C(ps),C(zu),C(Ki),C(Br),C($s),C(Bs),C(It))},na.\u0275cmp=Ye({type:na,selectors:[["app-subpage-cards"]],inputs:{onMountForBrowse:"onMountForBrowse",selfReference:"selfReference"},decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],[3,"card","touched","delete","selectCard","edit","check","interaction","save",4,"ngFor","ngForOf","ngForTrackBy"],[3,"card","touched","delete","selectCard","edit","check","interaction","save"]],template:function(e,t){1&e&&(ae(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),qe(3,"Memory cards"),ee(),ae(4,"ion-buttons",0)(5,"ion-button",1),lt("click",function(){return t.addCardImage()}),dt(6,"ion-icon",2),ee()(),ae(7,"ion-buttons",3)(8,"ion-button",1),lt("click",function(){return t.showHelp()}),dt(9,"ion-icon",4),ee(),dt(10,"app-pwa-prompt"),ee()()(),ae(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),qe(15,"Memory cards"),ee()()(),ln(16,l5,2,0,"div",7),ln(17,c5,3,0,"div",8),ln(18,d5,2,2,"ion-list",9),ee()),2&e&&(et(16),ot("ngIf",t.storageCardService.isLoading()),et(1),ot("ngIf",!t.storageCardService.isLoading()&&0===t.cards.length),et(1),ot("ngIf",!t.storageCardService.isLoading()&&t.cards.length>0))},dependencies:[yc,oi,ji,Hi,Gi,zi,ai,Da,Hf,Zi,qi,Xl,dp],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}),z([mo()],na.prototype,"addCardImage",null),z([mo()],na.prototype,"selectCard",null),z([mo()],na.prototype,"editCard",null),z([mo()],na.prototype,"saveCard",null),z([mo()],na.prototype,"checkCard",null),z([mo()],na.prototype,"deleteCard",null);class fp{constructor(){this.onSelect=()=>{}}}fp.\u0275fac=function(e){return new(e||fp)},fp.\u0275cmp=Ye({type:fp,selectors:[["app-context-menu-breadcrumb"]],inputs:{entries:"entries"},decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"detail","lines","click"],[3,"ngSwitch"],["name","list-outline","slot","end",4,"ngSwitchCase"],["name","file-tray-outline","slot","end",4,"ngSwitchCase"],["name","folder-outline","slot","end",4,"ngSwitchDefault"],[1,"text-wrapper"],["name","list-outline","slot","end"],["name","file-tray-outline","slot","end"],["name","folder-outline","slot","end"]],template:function(e,t){1&e&&ln(0,g5,2,1,"ion-list",0),2&e&&ot("ngIf",t.entries)},dependencies:[yc,oi,Ph,qE,KE,ai,Ko,Da],styles:[".text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]});class pp{constructor(){this.onStartSelection=()=>{},this.onAddFiles=()=>{},this.onCreateDirectry=()=>{},this.onExtractZipfile=()=>{},this.onPaste=()=>{},this.onHelp=()=>{},this.emptyDirectory=!1}}pp.\u0275fac=function(e){return new(e||pp)},pp.\u0275cmp=Ye({type:pp,selectors:[["app-context-menu-directory"]],inputs:{onStartSelection:"onStartSelection",onAddFiles:"onAddFiles",onCreateDirectry:"onCreateDirectry",onExtractZipfile:"onExtractZipfile",onPaste:"onPaste",onHelp:"onHelp",emptyDirectory:"emptyDirectory"},decls:19,vars:8,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","checkmark-circle-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","document-outline","slot","end"],["name","folder-outline","slot","end"],["name","download-outline","slot","end"],["name","clipboard-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(e,t){1&e&&(ae(0,"ion-list")(1,"ion-item",0),lt("click",function(){return t.onStartSelection()}),dt(2,"ion-icon",1),qe(3," Start selection "),ee(),ae(4,"ion-item",2),lt("click",function(){return t.onAddFiles()}),dt(5,"ion-icon",3),qe(6," Add files "),ee(),ae(7,"ion-item",2),lt("click",function(){return t.onCreateDirectry()}),dt(8,"ion-icon",4),qe(9," Add directory "),ee(),ae(10,"ion-item",2),lt("click",function(){return t.onExtractZipfile()}),dt(11,"ion-icon",5),qe(12," Extract zip "),ee(),ae(13,"ion-item",0),lt("click",function(){return t.onPaste()}),dt(14,"ion-icon",6),qe(15," Paste "),ee(),ae(16,"ion-item",7),lt("click",function(){return t.onHelp()}),dt(17,"ion-icon",8),qe(18," Help "),ee()()),2&e&&(et(1),ot("detail",!1)("disabled",t.emptyDirectory),et(3),ot("detail",!1),et(3),ot("detail",!1),et(3),ot("detail",!1),et(3),ot("detail",!1)("disabled",!0),et(3),ot("detail",!1))},dependencies:[ai,Ko,Da]});class Bc{constructor(e,t){this.modalController=e,this.vfsService=t,this.validateNameUnique=r=>this.entry&&this.vfsService.readdir(this.vfsService.dirname(this.entry.path)).some(o=>o.name.toLocaleLowerCase()===r.value.toLocaleLowerCase()&&o.name.toLocaleLowerCase()!==this.entry?.name?.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=r=>this.vfsService.isFilenameValid(r.value)?null:{name:"invalid file name"},this.onSave=()=>{},this.formGroup=new Nl({name:new fs("",{nonNullable:!0,validators:[_f.required,this.validateNameUnique,this.validateNameValid]}),attrReadonly:new fs(!1,{nonNullable:!0}),attrHidden:new fs(!1,{nonNullable:!0}),attrSystem:new fs(!1,{nonNullable:!0})})}ngOnInit(){this.entry&&(this.formGroup.controls.name.setValue(this.entry.name),this.formGroup.controls.attrHidden.setValue(this.entry.attributes.hidden),this.formGroup.controls.attrReadonly.setValue(this.entry.attributes.readonly),this.formGroup.controls.attrSystem.setValue(this.entry.attributes.system))}get subjectName(){return this.entry?.isDirectory?"Directory":"File"}onSaveClick(){var e=this;return(0,fe.Z)(function*(){yield e.save()})()}onCancelClick(){this.modalController.dismiss()}onEnter(){var e=this;return(0,fe.Z)(function*(){yield e.save()})()}save(){var e=this;return(0,fe.Z)(function*(){e.entry&&e.formGroup.valid&&(yield e.vfsService.updateFileEntry(e.entry.path,{name:e.formGroup.controls.name.value??"",attributes:{hidden:!!e.formGroup.controls.attrHidden.value,readonly:!!e.formGroup.controls.attrReadonly.value,system:!!e.formGroup.controls.attrSystem.value}}),e.onSave(),e.modalController.dismiss())})()}}Bc.\u0275fac=function(e){return new(e||Bc)(C(ps),C(Ra))},Bc.\u0275cmp=Ye({type:Bc,selectors:[["app-edit-file-dialog"]],inputs:{entry:"entry"},decls:34,vars:5,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["formControlName","name",3,"placeholder"],["name","lock-closed-outline","size","small"],["formControlName","attrReadonly"],["name","eye-off-outline","size","small"],["formControlName","attrHidden"],["name","cog-outline","size","small"],["formControlName","attrSystem"]],template:function(e,t){1&e&&(ae(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3),ee(),ae(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return t.onSaveClick()}),qe(6,"Save"),ee()(),ae(7,"ion-buttons",3)(8,"ion-button",4),lt("click",function(){return t.onCancelClick()}),qe(9,"Cancel"),ee()()()(),ae(10,"ion-content",5)(11,"form",6),lt("keydown.enter",function(){return t.onEnter()}),ae(12,"ion-item",7)(13,"ion-label",8),qe(14),ee(),dt(15,"ion-input",9),ee(),ae(16,"ion-item",7)(17,"h2"),qe(18,"Attributes"),ee()(),ae(19,"ion-item",7)(20,"ion-label"),dt(21,"ion-icon",10),qe(22,"Readonly"),ee(),dt(23,"ion-checkbox",11),ee(),ae(24,"ion-item",7)(25,"ion-label"),dt(26,"ion-icon",12),qe(27,"Hidden"),ee(),dt(28,"ion-checkbox",13),ee(),ae(29,"ion-item",7)(30,"ion-label"),dt(31,"ion-icon",14),qe(32,"System"),ee(),dt(33,"ion-checkbox",15),ee()()()),2&e&&(et(3),Ti("Edit ",t.subjectName.toLowerCase(),""),et(2),ot("disabled",t.formGroup.invalid),et(6),ot("formGroup",t.formGroup),et(3),Ti("",t.subjectName," name"),et(1),lh("placeholder","Enter ",t.subjectName.toLowerCase()," name"))},dependencies:[ji,Hi,pk,Gi,zi,ai,ul,Ko,Wi,Zi,qi,Hu,cl,ol,nl,rl,Qs,Ca],styles:["ion-icon[_ngcontent-%COMP%]{margin-right:1em;position:relative;top:2px}"]}),z([mo()],Bc.prototype,"onSaveClick",null),z([mo()],Bc.prototype,"onEnter",null);class hp{constructor(e,t){this.vfsService=e,this.modalController=t,this.validateNameUnique=r=>this.parentPath&&this.vfsService.readdir(this.parentPath).some(o=>o.name.toLocaleLowerCase()===r.value.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=r=>this.vfsService.isFilenameValid(r.value)?null:{name:"invalid file name"},this.onCreate=()=>{},this.formGroup=new Nl({name:new fs("",{nonNullable:!0,validators:[_f.required,this.validateNameUnique,this.validateNameValid]})})}onCreateClick(){this.createDir()}onEnter(){this.createDir()}onCancelClick(){this.modalController.dismiss()}createDir(){this.formGroup.controls.name.valid&&(this.onCreate(this.formGroup.controls.name.value),this.modalController.dismiss())}}function BM(n){let e,t,r=!1;return o=>((!r||o!==e)&&(e=o,r=!0,t=n(o)),t)}hp.\u0275fac=function(e){return new(e||hp)(C(Ra),C(ps))},hp.\u0275cmp=Ye({type:hp,selectors:[["app-new-directory-dialog"]],inputs:{parentPath:"parentPath",onCreate:"onCreate"},decls:16,vars:2,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter directory name","formControlName","name","autofocus",""]],template:function(e,t){1&e&&(ae(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"Create directory"),ee(),ae(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return t.onCreateClick()}),qe(6,"Create"),ee()(),ae(7,"ion-buttons",3)(8,"ion-button",4),lt("click",function(){return t.onCancelClick()}),qe(9,"Cancel"),ee()()()(),ae(10,"ion-content",5)(11,"form",6),lt("keydown.enter",function(){return t.onEnter()}),ae(12,"ion-item",7)(13,"ion-label",8),qe(14,"Directory name"),ee(),dt(15,"ion-input",9),ee()()()),2&e&&(et(5),ot("disabled",t.formGroup.invalid),et(6),ot("formGroup",t.formGroup))},dependencies:[ji,Hi,Gi,zi,ul,Ko,Wi,Zi,qi,cl,ol,nl,rl,Qs,Ca]});class mp{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCopy=()=>{},this.onCut=()=>{},this.onDelete=()=>{}}}mp.\u0275fac=function(e){return new(e||mp)},mp.\u0275cmp=Ye({type:mp,selectors:[["app-context-menu-file-entry"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCopy:"onCopy",onCut:"onCut",onDelete:"onDelete"},decls:16,vars:5,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","copy-outline","slot","end"],["name","cut-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,t){1&e&&(ae(0,"ion-list")(1,"ion-item",0),lt("click",function(){return t.onEdit()}),dt(2,"ion-icon",1),qe(3," Edit "),ee(),ae(4,"ion-item",0),lt("click",function(){return t.onSave()}),dt(5,"ion-icon",2),qe(6," Save "),ee(),ae(7,"ion-item",0),lt("click",function(){return t.onCopy()}),dt(8,"ion-icon",3),qe(9," Copy "),ee(),ae(10,"ion-item",0),lt("click",function(){return t.onCut()}),dt(11,"ion-icon",4),qe(12," Cut "),ee(),ae(13,"ion-item",5),lt("click",function(){return t.onDelete()}),dt(14,"ion-icon",6),qe(15," Delete "),ee()()),2&e&&(et(1),ot("detail",!1),et(3),ot("detail",!1),et(3),ot("detail",!1),et(3),ot("detail",!1),et(3),ot("detail",!1))},dependencies:[ai,Ko,Da]});class ld{transform(e){return void 0===e?"":e<1024?`${e} bytes`:e<1048576?`${(e/1024).toFixed(1)} kB`:`${(e/1024/1024).toFixed(1)} MB`}}ld.\u0275fac=function(e){return new(e||ld)},ld.\u0275pipe=_e({name:"fileSize",type:ld,pure:!0});const y5=["slidingItem"];function _5(n,e){1&n&&dt(0,"ion-icon",21)}function v5(n,e){1&n&&dt(0,"ion-icon",22)}function b5(n,e){1&n&&dt(0,"ion-icon",23)}function w5(n,e){1&n&&dt(0,"ion-icon",24)}function C5(n,e){1&n&&dt(0,"ion-icon",25)}function S5(n,e){1&n&&dt(0,"ion-icon",26)}function E5(n,e){1&n&&dt(0,"ion-icon",27)}function D5(n,e){if(1&n&&(zd(0),qe(1),ya(2,"fileSize"),Wd()),2&n){const t=$t();et(1),Ti(" - ",_a(2,1,null==t.entry?null:t.entry.size)," ")}}class gp{constructor(e,t){this.actionSheetController=e,this.popoverController=t,this.touched=!1,this.selecting=!1,this.selected=!1,this.interaction=new kn,this.selectEntry=new kn,this.editEntry=new kn,this.copyEntry=new kn,this.cutEntry=new kn,this.deleteEntry=new kn,this.saveEntry=new kn}ngOnChanges(e){e.selecting&&e.selecting.currentValue&&!e.selecting.previousValue&&this.slidingItem?.close()}onContextmenu(e){var t=this;return(0,fe.Z)(function*(){e.stopPropagation(),e.preventDefault(),t.interaction.emit(),(yield t.popoverController.create({component:mp,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>t.editEntry.emit(t.entry),onSave:()=>t.saveEntry.emit(t.entry),onCopy:()=>t.copyEntry.emit(t.entry),onCut:()=>t.cutEntry.emit(t.entry),onDelete:()=>t.deleteEntry.emit(t.entry)}})).present()})()}get color(){if(!this.selecting&&this.touched||this.selecting&&this.selected)return"light"}cutOrCopyEntry(){var e=this;return(0,fe.Z)(function*(){const t=e.entry?.isDirectory?"directory":"file";(yield e.actionSheetController.create({header:"Do you want to cut or copy?",buttons:[{text:`Copy ${t}`,handler:()=>e.copyEntry.emit(e.entry)},{text:`Cut ${t}`,handler:()=>e.cutEntry.emit(e.entry)},{text:"Cancel"}]})).present()})()}}function I5(n,e){if(1&n){const t=_r();ae(0,"ion-toolbar")(1,"ion-title",5),lt("click",function(o){return At(t),Pt($t().openBreadcrumbMenu(o))}),ae(2,"div",6)(3,"div",7),qe(4),ee(),dt(5,"div",8),ee()(),ae(6,"ion-buttons",9),dt(7,"ion-back-button"),ee(),ae(8,"ion-buttons",10)(9,"ion-button",11),lt("click",function(o){return At(t),Pt($t().openContextMenu(o))}),dt(10,"ion-icon",12),ee()()()}if(2&n){const t=$t();et(1),ot("id",t.breadcrumbTriggerId),et(3),Es(t.title)}}function k5(n,e){if(1&n){const t=_r();ae(0,"ion-buttons",14)(1,"ion-button",11),lt("click",function(){return At(t),Pt($t(2).onSelectAll())}),qe(2,"Select all"),ee()()}}function M5(n,e){if(1&n){const t=_r();ae(0,"ion-buttons",14)(1,"ion-button",11),lt("click",function(){return At(t),Pt($t(2).selection.clear())}),qe(2,"Clear"),ee()()}}function T5(n,e){if(1&n){const t=_r();ae(0,"ion-toolbar")(1,"ion-title"),qe(2,"Selection"),ee(),ae(3,"ion-buttons",10)(4,"ion-button",11),lt("click",function(){return At(t),Pt($t().onSelectionDone())}),qe(5),ee()(),ln(6,k5,3,0,"ion-buttons",13),ln(7,M5,3,0,"ion-buttons",13),ee()}if(2&n){const t=$t();et(5),Es(0===t.selection.size?"Cancel":"Done"),et(1),ot("ngIf",t.selection.size!==(null==t.entries?null:t.entries.length)),et(1),ot("ngIf",t.selection.size===(null==t.entries?null:t.entries.length))}}function A5(n,e){if(1&n&&(ae(0,"div",15)(1,"div",16),qe(2),ee()()),2&n){const t=$t();et(2),Ti(" empty ",t.isRoot?"card":"directory"," ")}}function x5(n,e){if(1&n){const t=_r();ae(0,"app-file-entry",17),lt("selectEntry",function(){const i=At(t).$implicit;return Pt($t().onSelect(i))})("editEntry",function(){const i=At(t).$implicit;return Pt($t().onEditEntry(i))})("saveEntry",function(){const i=At(t).$implicit;return Pt($t().onSaveEntry(i))})("copyEntry",function(){const i=At(t).$implicit;return Pt($t().onCopyEntry(i))})("cutEntry",function(){const i=At(t).$implicit;return Pt($t().onCutEntry(i))})("deleteEntry",function(){const i=At(t).$implicit;return Pt($t().onDeleteEntry(i))})("interaction",function(){const i=At(t).$implicit;return Pt($t().lastEntryTouched=i.name)}),ee()}if(2&n){const t=e.$implicit,r=$t();ot("entry",t)("selecting","select"===r.mode)("selected",r.selection.has(t.name))("touched",t.name===r.lastEntryTouched)}}function R5(n,e){if(1&n&&(ae(0,"p"),qe(1),ya(2,"fileSize"),ya(3,"fileSize"),ee()),2&n){const t=$t(2);et(1),Yd(" ",_a(2,2,t.bytesFree)," free, ",_a(3,4,t.bytesTotal)," total ")}}function P5(n,e){if(1&n&&(ae(0,"p"),qe(1),ya(2,"fileSize"),ee()),2&n){const t=$t(2);et(1),Ay(" ",_a(2,3,t.bytesInFiles)," in ",t.fileCount," ",1===t.fileCount?"file":"files"," ")}}function F5(n,e){if(1&n&&(ae(0,"ion-item",18)(1,"ion-label"),ln(2,R5,4,6,"p",0),ln(3,P5,3,5,"p",0),ee()()),2&n){const t=$t();et(2),ot("ngIf",t.isRoot),et(1),ot("ngIf",t.fileCount>0)}}function O5(n,e){return n.isDirectory&&!e.isDirectory?-1:!n.isDirectory&&e.isDirectory?1:n.name.localeCompare(e.name)}gp.\u0275fac=function(e){return new(e||gp)(C(qf),C(kc))},gp.\u0275cmp=Ye({type:gp,selectors:[["app-file-entry"]],viewQuery:function(e,t){if(1&e&&wu(y5,5),2&e){let r;Ds(r=Is())&&(t.slidingItem=r.first)}},inputs:{entry:"entry",touched:"touched",selecting:"selecting",selected:"selected"},outputs:{interaction:"interaction",selectEntry:"selectEntry",editEntry:"editEntry",copyEntry:"copyEntry",cutEntry:"cutEntry",deleteEntry:"deleteEntry",saveEntry:"saveEntry"},features:[To],decls:26,vars:17,consts:[[3,"disabled","contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","copy-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","detail","click"],["name","folder-outline","slot","start",4,"ngIf"],["name","document-outline","slot","start",4,"ngIf"],["class","attribute-icon","name","lock-closed-outline","size","small","slot","end",4,"ngIf"],["class","attribute-icon","name","eye-off-outline","size","small","slot","end",4,"ngIf"],["class","attribute-icon","name","cog-outline","size","small","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",4,"ngIf"],["name","radio-button-on-outline","slot","end",4,"ngIf"],[4,"ngIf"],["name","folder-outline","slot","start"],["name","document-outline","slot","start"],["name","lock-closed-outline","size","small","slot","end",1,"attribute-icon"],["name","eye-off-outline","size","small","slot","end",1,"attribute-icon"],["name","cog-outline","size","small","slot","end",1,"attribute-icon"],["name","radio-button-off-outline","slot","end"],["name","radio-button-on-outline","slot","end"]],template:function(e,t){if(1&e){const r=_r();ae(0,"ion-item-sliding",0,1),lt("contextmenu",function(i){return t.onContextmenu(i)})("ionDrag",function(){return t.interaction.emit(t.entry)}),ae(2,"ion-item-options",2)(3,"ion-item-option",3),lt("click",function(){return At(r),Ss(1).close(),Pt(t.editEntry.emit(t.entry))}),dt(4,"ion-icon",4),ee(),ae(5,"ion-item-option",5),lt("click",function(){return At(r),Ss(1).close(),Pt(t.saveEntry.emit(t.entry))}),dt(6,"ion-icon",6),ee()(),ae(7,"ion-item-options",7)(8,"ion-item-option",8),lt("click",function(){return At(r),Ss(1).close(),Pt(t.cutOrCopyEntry())}),dt(9,"ion-icon",9),ee(),ae(10,"ion-item-option",10),lt("click",function(){return At(r),Ss(1).close(),Pt(t.deleteEntry.emit(t.entry))}),dt(11,"ion-icon",11),ee()(),ae(12,"ion-item",12),lt("click",function(){return t.selectEntry.emit(),t.interaction.emit()}),ln(13,_5,1,0,"ion-icon",13),ln(14,v5,1,0,"ion-icon",14),ln(15,b5,1,0,"ion-icon",15),ln(16,w5,1,0,"ion-icon",16),ln(17,C5,1,0,"ion-icon",17),ln(18,S5,1,0,"ion-icon",18),ln(19,E5,1,0,"ion-icon",19),ae(20,"ion-label")(21,"h2"),qe(22),ee(),ae(23,"p"),qe(24),ln(25,D5,3,3,"ng-container",20),ee()()()()}2&e&&(ot("disabled",t.selecting),et(12),qd("opacity",t.touched?1:.99999),Ka("is-directory",null==t.entry?null:t.entry.isDirectory),ot("color",t.color)("detail",(null==t.entry?null:t.entry.isDirectory)&&!t.selecting),et(1),ot("ngIf",null==t.entry?null:t.entry.isDirectory),et(1),ot("ngIf",!(null!=t.entry&&t.entry.isDirectory)),et(1),ot("ngIf",null==t.entry||null==t.entry.attributes?null:t.entry.attributes.readonly),et(1),ot("ngIf",null==t.entry||null==t.entry.attributes?null:t.entry.attributes.hidden),et(1),ot("ngIf",null==t.entry||null==t.entry.attributes?null:t.entry.attributes.system),et(1),ot("ngIf",t.selecting&&!t.selected),et(1),ot("ngIf",t.selecting&&t.selected),et(3),Es(null==t.entry?null:t.entry.name),et(2),Ti(" ",null==t.entry?null:t.entry.lastModifiedLocalDate," "),et(1),ot("ngIf",!(null!=t.entry&&t.entry.isDirectory)))},dependencies:[oi,ai,Ko,Dm,Im,km,Wi,ld],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-icon.attribute-icon[_ngcontent-%COMP%]{color:var(--ion-color-step-600);margin-left:.7em}ion-icon.attribute-icon[name=lock-closed-outline][_ngcontent-%COMP%]{position:relative;top:-2px}.ios[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]{color:rgba(var(--ion-text-color-rgb, 0, 0, 0),.4);margin-left:0}ion-icon.attribute-icon[_ngcontent-%COMP%]:last-of-type{margin-right:1.75em}.is-directory[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]:last-of-type{margin-right:.75em}"],changeDetection:0});let N5=0;class Vs{constructor(e,t,r,o,i,s,a){this.vfsService=e,this.popoverController=t,this.config=r,this.alertService=o,this.actionSheetController=i,this.modalController=s,this.cd=a,this.bytesInFilesMemoized=BM(u=>u?.reduce((f,m)=>f+(m.isDirectory?0:m.size),0)??0),this.fileCountMemoized=BM(u=>u?.filter(f=>!f.isDirectory)?.length??0),this.onNavigate=()=>{},this.onNavigateBreadcrumb=()=>{},this.lastEntryTouched=void 0,this.mode="browse",this.selection=new Set,this.breadcrumbTriggerId="breadcrumb-trigger-"+N5++,this.checkEntries=S0(a,void 0,()=>void 0!==this.path?e.readdir(this.path):void 0)}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkEntries()}get title(){switch(this.path){case"/":return this.card?.name??"";case void 0:return"";default:{const e=this.vfsService.splitPath(this.path);return e[e.length-1]??""}}}get bytesFree(){return this.vfsService.getBytesFree()}get bytesTotal(){return this.vfsService.getBytesTotal()}get bytesInFiles(){return this.bytesInFilesMemoized(this.entries)}get isRoot(){return"/"===this.path}get fileCount(){return this.fileCountMemoized(this.entries)}get entries(){return void 0!==this.path?[...this.vfsService.readdir(this.path)].sort(O5):[]}trackEntryBy(e,t){return t.name}onSelect(e){"browse"===this.mode?e.isDirectory&&this.onNavigate(e.path):this.selection?.has(e.name)?this.selection.delete(e.name):this.selection.add(e.name)}onEditEntry(e){var t=this;return(0,fe.Z)(function*(){yield(yield t.modalController.create({component:Bc,backdropDismiss:!1,componentProps:{entry:e}})).present()})()}onSaveEntry(e){var t=this;return(0,fe.Z)(function*(){t.path&&(e.isDirectory?yield t.vfsService.archiveFiles([e],t.path):yield t.vfsService.saveFile(e))})()}onCopyEntry(e){this.alertService.message("Not implemented",`Copy ${e.name}: not implemented.`)}onCutEntry(e){this.alertService.message("Not implemented",`Cut ${e.name}: not implemented.`)}onDeleteEntry(e){var t=this;return(0,fe.Z)(function*(){e.isDirectory?yield t.vfsService.deleteRecursive([e]):yield t.vfsService.unlinkEntry(e)})()}onAddFiles(){this.alertService.message("Not implemented","Add files: not implemented.")}onCreateDirectory(){var e=this;return(0,fe.Z)(function*(){yield(yield e.modalController.create({component:hp,backdropDismiss:!1,componentProps:{parentPath:e.path,onCreate:r=>e.vfsService.mkdir(`${e.path}/${r}`)}})).present()})()}onExtractZipfile(){this.alertService.message("Not implemented","Extract zipfile: not implemented.")}onPaste(){this.alertService.message("Not implemented","Paste: not implemented.")}onHelp(){this.alertService.message("Not implemented","Help: not implemented.")}onStartSelection(){0!==this.entries?.length&&(this.selection.clear(),this.mode="select",this.cd.markForCheck())}onSelectionDone(){var e=this;return(0,fe.Z)(function*(){if(!e.entries)return;const t=Array.from(e.selection),r=new Map(e.entries.map(a=>[a.name,a])),o=t.every(a=>!r.get(a)?.isDirectory),i=t.every(a=>r.get(a)?.isDirectory);let s=`${e.selection.size} items`;if(o&&(s=1===e.selection.size?"file":`${e.selection.size} files`),i&&(s=1===e.selection.size?"directory":`${e.selection.size} directories`),0!==e.selection.size){const a=yield e.actionSheetController.create({header:"What do you want to do?",buttons:[{text:`Copy ${s}`,handler:e.onCopySelection.bind(e)},{text:`Cut ${s}`,handler:e.onCutSelection.bind(e)},{text:`Save ${s} as zip`,handler:e.onSaveZip.bind(e)},{text:`Delete ${s}`,handler:e.onDeleteSelection.bind(e)},{text:"Cancel"}]});yield a.present(),yield a.onWillDismiss()}e.mode="browse",e.cd.markForCheck()})()}onSelectAll(){this.entries?.forEach(e=>this.selection.add(e.name))}onCopySelection(){this.alertService.message("Not implemented","Copy selection: not implemented.")}onCutSelection(){this.alertService.message("Not implemented","Cut selection: not implemented.")}onSaveZip(){var e=this;return(0,fe.Z)(function*(){const t=e.materializeSelection();!t||!e.path||(yield e.vfsService.archiveFiles(t,e.path))})()}onDeleteSelection(){var e=this;return(0,fe.Z)(function*(){const t=e.materializeSelection();!t||!e.path||(yield e.vfsService.deleteRecursive(t))})()}openBreadcrumbMenu(e){var t=this;return(0,fe.Z)(function*(){if(!t.card||!t.path)return;const r=[..."/"===t.path?[]:[...t.vfsService.splitPath(t.path).reverse().slice(1),t.card.name],"Memory cards"];(yield t.popoverController.create({component:fp,event:e,componentProps:{entries:r,onSelect:i=>t.onNavigateBreadcrumb(r.length-1-i)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===t.config.get("mode")?"center":"start",trigger:t.breadcrumbTriggerId})).present()})()}openContextMenu(e){var t=this;return(0,fe.Z)(function*(){(yield t.popoverController.create({component:pp,componentProps:{emptyDirectory:0===t.entries?.length,onStartSelection:t.onStartSelection.bind(t),onAddFiles:t.onAddFiles.bind(t),onCreateDirectry:t.onCreateDirectory.bind(t),onExtractZipfile:t.onExtractZipfile.bind(t),onPaste:t.onPaste.bind(t),onHelp:t.onHelp.bind(t)},event:e,dismissOnSelect:!0,arrow:!1})).present()})()}materializeSelection(){if(!this.path)return;const e=new Map(this.vfsService.readdir(this.path).map(t=>[t.name,t]));return Array.from(this.selection).map(t=>e.get(t)).filter(t=>!!t)}}Vs.\u0275fac=function(e){return new(e||Vs)(C(Ra),C(kc),C(Wv),C(Br),C(qf),C(ps),C(It))},Vs.\u0275cmp=Ye({type:Vs,selectors:[["app-subpage-directory"]],inputs:{card:"card",path:"path",selfReference:"selfReference",onNavigate:"onNavigate",onNavigateBreadcrumb:"onNavigateBreadcrumb"},decls:9,vars:6,consts:[[4,"ngIf"],[1,"container"],["class","placeholder-wrapper",4,"ngIf"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction",4,"ngFor","ngForOf","ngForTrackBy"],["class","metadata","lines","none",4,"ngIf"],[1,"breadcrumb",3,"id","click"],[1,"breadcrumb-container"],[1,"breadcrumb-current"],[1,"select-arrow"],["slot","start"],["slot","primary"],[3,"click"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["slot","secondary"],[1,"placeholder-wrapper"],[1,"placeholder"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction"],["lines","none",1,"metadata"]],template:function(e,t){1&e&&(ae(0,"ion-header"),ln(1,I5,11,2,"ion-toolbar",0),ln(2,T5,8,3,"ion-toolbar",0),ee(),ae(3,"ion-content")(4,"div",1),ln(5,A5,3,1,"div",2),ae(6,"ion-list"),ln(7,x5,1,4,"app-file-entry",3),ln(8,F5,4,2,"ion-item",4),ee()()()),2&e&&(et(1),ot("ngIf","browse"===t.mode),et(1),ot("ngIf","select"===t.mode),et(3),ot("ngIf",0===(null==t.entries?null:t.entries.length)),et(2),ot("ngForOf",t.entries)("ngForTrackBy",t.trackEntryBy),et(1),ot("ngIf",t.isRoot||t.fileCount>0))},dependencies:[yc,oi,fk,ji,Hi,Gi,zi,ai,Ko,Wi,Da,Zi,qi,kk,gp,ld],styles:[".breadcrumb[_ngcontent-%COMP%]{cursor:pointer}.breadcrumb-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.ios[_ngcontent-%COMP%]   .breadcrumb-container[_ngcontent-%COMP%]{justify-content:center}.breadcrumb-current[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis}.container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}.placeholder-wrapper[_ngcontent-%COMP%]{flex:1;width:100%;display:flex;align-items:center;justify-content:center}.placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}ion-list[_ngcontent-%COMP%]{background:none;flex:0}.select-arrow[_ngcontent-%COMP%]{border-top:5px solid;border-left:5px solid transparent;border-right:5px solid transparent;display:inline-block;opacity:.33;margin-left:.5em;vertical-align:middle}.md[_ngcontent-%COMP%]   .select-arrow[_ngcontent-%COMP%]{opacity:.55}ion-item.metadata[_ngcontent-%COMP%]{text-align:center}"],changeDetection:0}),z([mo()],Vs.prototype,"onSaveEntry",null),z([mo()],Vs.prototype,"onDeleteEntry",null),z([mo()],Vs.prototype,"onCreateDirectory",null),z([mo()],Vs.prototype,"onSelectionDone",null),z([mo()],Vs.prototype,"onSaveZip",null),z([mo()],Vs.prototype,"onDeleteSelection",null);const L5=["nav"];class yp{constructor(e,t){this.vfsService=e,this.dragDropService=t,this.navRootProps={onMountForBrowse:r=>this.browseCard(r),selfReference:{}},this.onNavigate=r=>{this.currentlyBrowsingCard&&this.nav?.push(Vs,{card:this.currentlyBrowsingCard,path:r,onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})},this.onNavigateBreadcrumb=r=>{this.currentlyBrowsingCard&&this.nav?.popTo(r,{animated:this.animateNav})},this.navRoot=na,this.isVisible=!1}ngOnInit(){this.vfsService.onReleaseCard.addHandler(this.onReleaseCard.bind(this))}ionViewDidEnter(){this.isVisible=!0,this.dragDropService.registerClient(this)}ionViewWillLeave(){this.isVisible=!1,this.dragDropService.unregisterClient(this)}handleDragDropEvent(e){var t=this;return(0,fe.Z)(function*(){yield(yield t.nav?.getActive())?.params?.selfReference?.ref?.handleDragDropEvent?.(e)})()}get animateNav(){return!hj}browseCard(e){this.currentlyBrowsingCard=e,this.nav?.push(Vs,{card:e,path:"/",onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})}onReleaseCard(e){e!==this.currentlyBrowsingCard?.id||!this.nav||(this.isVisible||(this.nav.animated=!1),this.nav.popToRoot(void 0,()=>this.nav&&(this.nav.animated=this.animateNav)))}}yp.\u0275fac=function(e){return new(e||yp)(C(Ra),C(Jl))},yp.\u0275cmp=Ye({type:yp,selectors:[["app-storage"]],viewQuery:function(e,t){if(1&e&&wu(L5,5),2&e){let r;Ds(r=Is())&&(t.nav=r.first)}},decls:2,vars:3,consts:[[3,"animated","root","rootParams"],["nav",""]],template:function(e,t){1&e&&dt(0,"ion-nav",0,1),2&e&&ot("animated",t.animateNav)("root",t.navRoot)("rootParams",t.navRootProps)},dependencies:[hk,Mk]});const $5=[{path:"tab",component:Nc,children:[{path:"emulation",component:ip},{path:"sessions",component:Fa},{path:"storage",component:yp},{path:"settings",component:lp},{path:"about",component:rp},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}]},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}];class cd{}cd.\u0275fac=function(e){return new(e||cd)},cd.\u0275mod=b({type:cd}),cd.\u0275inj=gr({imports:[Em.forChild($5),Em]});class ud{}ud.\u0275fac=function(e){return new(e||ud)},ud.\u0275mod=b({type:ud}),ud.\u0275inj=gr({imports:[Bl,wa,bc,cd,Ju,ed,td,nd,Qu]});class Vc extends RE{pushState(e,t,r,o){this.replaceState(e,t,r,o)}}Vc.\u0275fac=function(){let n;return function(t){return(n||(n=ri(Vc)))(t||Vc)}}(),Vc.\u0275prov=mt({token:Vc,factory:Vc.\u0275fac});const B5=[{path:"install",component:Yu,canActivate:[Oc]},{path:"import",component:Yu,canActivate:[Oc]},{path:"",component:Nc}];class dd{}dd.\u0275fac=function(e){return new(e||dd)},dd.\u0275mod=b({type:dd}),dd.\u0275inj=gr({providers:[{provide:ba,useClass:Vc}],imports:[Em.forRoot(B5,{preloadingStrategy:FB,useHash:!0}),ud,Em]});const VM=["touch","click","keydown"];class fd{constructor(e,t){this.kvsService=e,this.audioService=t,this.initialize()}initialize(){var e=this;return(0,fe.Z)(function*(){if(yield e.kvsService.initialize(),!e.kvsService.kvs.enableAudioOnFirstInteraction)return;const t=()=>{VM.forEach(r=>window.removeEventListener(r,t,!0)),e.audioService.initialize()};VM.forEach(r=>window.addEventListener(r,t,!0))})()}}fd.\u0275fac=function(e){return new(e||fd)(ne(Yo),ne(Ql))},fd.\u0275prov=mt({token:fd,factory:fd.\u0275fac,providedIn:"root"});class pd{constructor(e,t,r,o,i,s,a){}}pd.\u0275fac=function(e){return new(e||pd)(ne(Yn),ne(Yi),ne(Ql),ne(xa),ne(Yo),ne(Fc),ne(fd))},pd.\u0275mod=b({type:pd,bootstrap:[np]}),pd.\u0275inj=gr({providers:[{provide:YI,useClass:class xU{shouldDetach(e){return!1}shouldAttach(e){return!1}store(e,t){}retrieve(e){return null}shouldReuseRoute(e,t){if(e.routeConfig!==t.routeConfig)return!1;const r=e.params,o=t.params,i=Object.keys(r),s=Object.keys(o);if(i.length!==s.length)return!1;for(const a of i)if(o[a]!==r[a])return!1;return!0}}},{provide:mc,multi:!0,useFactory:n=>n.initialize.bind(n),deps:[Yo]}],imports:[xL,Bl.forRoot(),dd,t6.register("ngsw-worker.js",{enabled:!0}),Jv.forRoot({loader:H_,markedOptions:{provide:qk,useFactory:()=>{const n=new Zu;return n.link=(e,t,r)=>`<a href="${e}" target="_blank" rel="external">${r||e}</a>`,{renderer:n,gfm:!0,breaks:!1,pedantic:!1,smartLists:!0,smartypants:!1}}}}),d3]}),window.global=window,function jL(){$h=DD("#/install?"),Bh=DD("#/import?")}(),function Cj(){return!!localStorage.getItem(Om)}()&&!ID()||function HL(){return void 0!==$h}()?location.replace(`${location.origin}${location.pathname}#/tab/emulation`):location.replace(`${location.origin}${location.pathname}#/tab/sessions`),window.addEventListener("orientationchange",()=>setTimeout(()=>{document.body.style.height=window.innerHeight+"px"},100)),window.addEventListener("scroll",()=>window.scrollTo(0,0)),AL().bootstrapModule(pd).catch(n=>console.log(n))},3272:Be=>{var x,ze=(x=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(I){var oe,te,c=typeof(I=I||{})<"u"?I:{};c.ready=new Promise(function(l,h){oe=l,te=h});var j,Pe,Le,G=Object.assign({},c),J=[],L="./this.program",V=(l,h)=>{throw h},ue="object"==typeof window,Y="function"==typeof importScripts,B=("object"==typeof process&&"object"==typeof process.versions&&process,"");(ue||Y)&&(Y?B=self.location.href:typeof document<"u"&&document.currentScript&&(B=document.currentScript.src),x&&(B=x),B=0!==B.indexOf("blob:")?B.substr(0,B.replace(/[?#].*/,"").lastIndexOf("/")+1):"",j=l=>{var h=new XMLHttpRequest;return h.open("GET",l,!1),h.send(null),h.responseText},Y&&(Le=l=>{var h=new XMLHttpRequest;return h.open("GET",l,!1),h.responseType="arraybuffer",h.send(null),new Uint8Array(h.response)}),Pe=(l,h,v)=>{var M=new XMLHttpRequest;M.open("GET",l,!0),M.responseType="arraybuffer",M.onload=()=>{200==M.status||0==M.status&&M.response?h(M.response):v()},M.onerror=v,M.send(null)});var pe,W=c.print||console.log.bind(console),K=c.printErr||console.warn.bind(console);Object.assign(c,G),G=null,c.arguments&&(J=c.arguments),c.thisProgram&&(L=c.thisProgram),c.quit&&(V=c.quit),c.wasmBinary&&(pe=c.wasmBinary);var Fe=c.noExitRuntime||!0;"object"!=typeof WebAssembly&&or("no native wasm support detected");var de,ce,at=!1;function Ce(l,h){l||or(h)}var Ue,Qe,vt,O,ye,rt,Ie=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Xe(l,h,v){for(var M=h+v,U=h;l[U]&&!(U>=M);)++U;if(U-h>16&&l.buffer&&Ie)return Ie.decode(l.subarray(h,U));for(var we="";h<U;){var Me=l[h++];if(128&Me){var He=63&l[h++];if(192!=(224&Me)){var bt=63&l[h++];if((Me=224==(240&Me)?(15&Me)<<12|He<<6|bt:(7&Me)<<18|He<<12|bt<<6|63&l[h++])<65536)we+=String.fromCharCode(Me);else{var rn=Me-65536;we+=String.fromCharCode(55296|rn>>10,56320|1023&rn)}}else we+=String.fromCharCode((31&Me)<<6|He)}else we+=String.fromCharCode(Me)}return we}function $e(l,h){return l?Xe(vt,l,h):""}function Te(l,h,v,M){if(!(M>0))return 0;for(var U=v,we=v+M-1,Me=0;Me<l.length;++Me){var He=l.charCodeAt(Me);if(He>=55296&&He<=57343&&(He=65536+((1023&He)<<10)|1023&l.charCodeAt(++Me)),He<=127){if(v>=we)break;h[v++]=He}else if(He<=2047){if(v+1>=we)break;h[v++]=192|He>>6,h[v++]=128|63&He}else if(He<=65535){if(v+2>=we)break;h[v++]=224|He>>12,h[v++]=128|He>>6&63,h[v++]=128|63&He}else{if(v+3>=we)break;h[v++]=240|He>>18,h[v++]=128|He>>12&63,h[v++]=128|He>>6&63,h[v++]=128|63&He}}return h[v]=0,v-U}function re(l){for(var h=0,v=0;v<l.length;++v){var M=l.charCodeAt(v);M<=127?h++:M<=2047?h+=2:M>=55296&&M<=57343?(h+=4,++v):h+=3}return h}function Ve(l){Ue=l,c.HEAP8=Qe=new Int8Array(l),c.HEAP16=new Int16Array(l),c.HEAP32=O=new Int32Array(l),c.HEAPU8=vt=new Uint8Array(l),c.HEAPU16=new Uint16Array(l),c.HEAPU32=ye=new Uint32Array(l),c.HEAPF32=new Float32Array(l),c.HEAPF64=rt=new Float64Array(l)}var ve,mn,ht=[],Re=[],Mt=[],cn=[],Rn=0,so=null,jn=null;function Ur(l){Rn++,c.monitorRunDependencies&&c.monitorRunDependencies(Rn)}function kr(l){if(Rn--,c.monitorRunDependencies&&c.monitorRunDependencies(Rn),0==Rn&&(null!==so&&(clearInterval(so),so=null),jn)){var h=jn;jn=null,h()}}function or(l){c.onAbort&&c.onAbort(l),K(l="Aborted("+l+")"),at=!0,ce=1,l+=". Build with -sASSERTIONS for more info.";var h=new WebAssembly.RuntimeError(l);throw te(h),h}function Qr(l){return l.startsWith("data:application/octet-stream;base64,")}function Zr(l){try{if(l==mn&&pe)return new Uint8Array(pe);if(Le)return Le(l);throw"both async and sync fetching of the wasm failed"}catch(h){or(h)}}Qr(mn="cloudpilot_web.wasm")||(mn=function $(l){return c.locateFile?c.locateFile(l,B):B+l}(mn));var ut,le,Ge={243812:l=>{ve.grow(65536);for(let h=0;h<=65535;h++)ve.set(ve.length-65535-1+h,ve.get(ye[(l>>>2)+h]));return ve.length-65535-1}};function Bn(l){this.name="ExitStatus",this.message="Program terminated with exit("+l+")",this.status=l}function Kt(l){for(;l.length>0;)l.shift()(c)}function hr(l,h){return h+2097152>>>0<4194305-!!l?(l>>>0)+4294967296*h:NaN}var en={isAbs:l=>"/"===l.charAt(0),splitPath:l=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(l).slice(1),normalizeArray:(l,h)=>{for(var v=0,M=l.length-1;M>=0;M--){var U=l[M];"."===U?l.splice(M,1):".."===U?(l.splice(M,1),v++):v&&(l.splice(M,1),v--)}if(h)for(;v;v--)l.unshift("..");return l},normalize:l=>{var h=en.isAbs(l),v="/"===l.substr(-1);return!(l=en.normalizeArray(l.split("/").filter(M=>!!M),!h).join("/"))&&!h&&(l="."),l&&v&&(l+="/"),(h?"/":"")+l},dirname:l=>{var h=en.splitPath(l),v=h[0],M=h[1];return v||M?(M&&(M=M.substr(0,M.length-1)),v+M):"."},basename:l=>{if("/"===l)return"/";var h=(l=(l=en.normalize(l)).replace(/\/$/,"")).lastIndexOf("/");return-1===h?l:l.substr(h+1)},join:function(){var l=Array.prototype.slice.call(arguments);return en.normalize(l.join("/"))},join2:(l,h)=>en.normalize(l+"/"+h)},Jn={resolve:function(){for(var l="",h=!1,v=arguments.length-1;v>=-1&&!h;v--){var M=v>=0?arguments[v]:D.cwd();if("string"!=typeof M)throw new TypeError("Arguments to path.resolve must be strings");if(!M)return"";l=M+"/"+l,h=en.isAbs(M)}return(h?"/":"")+(l=en.normalizeArray(l.split("/").filter(U=>!!U),!h).join("/"))||"."},relative:(l,h)=>{function v(rn){for(var Un=0;Un<rn.length&&""===rn[Un];Un++);for(var Hn=rn.length-1;Hn>=0&&""===rn[Hn];Hn--);return Un>Hn?[]:rn.slice(Un,Hn-Un+1)}l=Jn.resolve(l).substr(1),h=Jn.resolve(h).substr(1);for(var M=v(l.split("/")),U=v(h.split("/")),we=Math.min(M.length,U.length),Me=we,He=0;He<we;He++)if(M[He]!==U[He]){Me=He;break}var bt=[];for(He=Me;He<M.length;He++)bt.push("..");return(bt=bt.concat(U.slice(Me))).join("/")}};function un(l,h,v){var M=v>0?v:re(l)+1,U=new Array(M),we=Te(l,U,0,U.length);return h&&(U.length=we),U}var jt={ttys:[],init:function(){},shutdown:function(){},register:function(l,h){jt.ttys[l]={input:[],output:[],ops:h},D.registerDevice(l,jt.stream_ops)},stream_ops:{open:function(l){var h=jt.ttys[l.node.rdev];if(!h)throw new D.ErrnoError(43);l.tty=h,l.seekable=!1},close:function(l){l.tty.ops.fsync(l.tty)},fsync:function(l){l.tty.ops.fsync(l.tty)},read:function(l,h,v,M,U){if(!l.tty||!l.tty.ops.get_char)throw new D.ErrnoError(60);for(var we=0,Me=0;Me<M;Me++){var He;try{He=l.tty.ops.get_char(l.tty)}catch{throw new D.ErrnoError(29)}if(void 0===He&&0===we)throw new D.ErrnoError(6);if(null==He)break;we++,h[v+Me]=He}return we&&(l.node.timestamp=Date.now()),we},write:function(l,h,v,M,U){if(!l.tty||!l.tty.ops.put_char)throw new D.ErrnoError(60);try{for(var we=0;we<M;we++)l.tty.ops.put_char(l.tty,h[v+we])}catch{throw new D.ErrnoError(29)}return M&&(l.node.timestamp=Date.now()),we}},default_tty_ops:{get_char:function(l){if(!l.input.length){var h=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(h=window.prompt("Input: "))&&(h+="\n"):"function"==typeof readline&&null!==(h=readline())&&(h+="\n"),!h)return null;l.input=un(h,!0)}return l.input.shift()},put_char:function(l,h){null===h||10===h?(W(Xe(l.output,0)),l.output=[]):0!=h&&l.output.push(h)},fsync:function(l){l.output&&l.output.length>0&&(W(Xe(l.output,0)),l.output=[])}},default_tty1_ops:{put_char:function(l,h){null===h||10===h?(K(Xe(l.output,0)),l.output=[]):0!=h&&l.output.push(h)},fsync:function(l){l.output&&l.output.length>0&&(K(Xe(l.output,0)),l.output=[])}}};function E(l){or()}var S={ops_table:null,mount:function(l){return S.createNode(null,"/",16895,0)},createNode:function(l,h,v,M){if(D.isBlkdev(v)||D.isFIFO(v))throw new D.ErrnoError(63);S.ops_table||(S.ops_table={dir:{node:{getattr:S.node_ops.getattr,setattr:S.node_ops.setattr,lookup:S.node_ops.lookup,mknod:S.node_ops.mknod,rename:S.node_ops.rename,unlink:S.node_ops.unlink,rmdir:S.node_ops.rmdir,readdir:S.node_ops.readdir,symlink:S.node_ops.symlink},stream:{llseek:S.stream_ops.llseek}},file:{node:{getattr:S.node_ops.getattr,setattr:S.node_ops.setattr},stream:{llseek:S.stream_ops.llseek,read:S.stream_ops.read,write:S.stream_ops.write,allocate:S.stream_ops.allocate,mmap:S.stream_ops.mmap,msync:S.stream_ops.msync}},link:{node:{getattr:S.node_ops.getattr,setattr:S.node_ops.setattr,readlink:S.node_ops.readlink},stream:{}},chrdev:{node:{getattr:S.node_ops.getattr,setattr:S.node_ops.setattr},stream:D.chrdev_stream_ops}});var U=D.createNode(l,h,v,M);return D.isDir(U.mode)?(U.node_ops=S.ops_table.dir.node,U.stream_ops=S.ops_table.dir.stream,U.contents={}):D.isFile(U.mode)?(U.node_ops=S.ops_table.file.node,U.stream_ops=S.ops_table.file.stream,U.usedBytes=0,U.contents=null):D.isLink(U.mode)?(U.node_ops=S.ops_table.link.node,U.stream_ops=S.ops_table.link.stream):D.isChrdev(U.mode)&&(U.node_ops=S.ops_table.chrdev.node,U.stream_ops=S.ops_table.chrdev.stream),U.timestamp=Date.now(),l&&(l.contents[h]=U,l.timestamp=U.timestamp),U},getFileDataAsTypedArray:function(l){return l.contents?l.contents.subarray?l.contents.subarray(0,l.usedBytes):new Uint8Array(l.contents):new Uint8Array(0)},expandFileStorage:function(l,h){var v=l.contents?l.contents.length:0;if(!(v>=h)){h=Math.max(h,v*(v<1048576?2:1.125)>>>0),0!=v&&(h=Math.max(h,256));var U=l.contents;l.contents=new Uint8Array(h),l.usedBytes>0&&l.contents.set(U.subarray(0,l.usedBytes),0)}},resizeFileStorage:function(l,h){if(l.usedBytes!=h)if(0==h)l.contents=null,l.usedBytes=0;else{var v=l.contents;l.contents=new Uint8Array(h),v&&l.contents.set(v.subarray(0,Math.min(h,l.usedBytes))),l.usedBytes=h}},node_ops:{getattr:function(l){var h={};return h.dev=D.isChrdev(l.mode)?l.id:1,h.ino=l.id,h.mode=l.mode,h.nlink=1,h.uid=0,h.gid=0,h.rdev=l.rdev,h.size=D.isDir(l.mode)?4096:D.isFile(l.mode)?l.usedBytes:D.isLink(l.mode)?l.link.length:0,h.atime=new Date(l.timestamp),h.mtime=new Date(l.timestamp),h.ctime=new Date(l.timestamp),h.blksize=4096,h.blocks=Math.ceil(h.size/h.blksize),h},setattr:function(l,h){void 0!==h.mode&&(l.mode=h.mode),void 0!==h.timestamp&&(l.timestamp=h.timestamp),void 0!==h.size&&S.resizeFileStorage(l,h.size)},lookup:function(l,h){throw D.genericErrors[44]},mknod:function(l,h,v,M){return S.createNode(l,h,v,M)},rename:function(l,h,v){if(D.isDir(l.mode)){var M;try{M=D.lookupNode(h,v)}catch{}if(M)for(var U in M.contents)throw new D.ErrnoError(55)}delete l.parent.contents[l.name],l.parent.timestamp=Date.now(),l.name=v,h.contents[v]=l,h.timestamp=l.parent.timestamp,l.parent=h},unlink:function(l,h){delete l.contents[h],l.timestamp=Date.now()},rmdir:function(l,h){var v=D.lookupNode(l,h);for(var M in v.contents)throw new D.ErrnoError(55);delete l.contents[h],l.timestamp=Date.now()},readdir:function(l){var h=[".",".."];for(var v in l.contents)l.contents.hasOwnProperty(v)&&h.push(v);return h},symlink:function(l,h,v){var M=S.createNode(l,h,41471,0);return M.link=v,M},readlink:function(l){if(!D.isLink(l.mode))throw new D.ErrnoError(28);return l.link}},stream_ops:{read:function(l,h,v,M,U){var we=l.node.contents;if(U>=l.node.usedBytes)return 0;var Me=Math.min(l.node.usedBytes-U,M);if(Me>8&&we.subarray)h.set(we.subarray(U,U+Me),v);else for(var He=0;He<Me;He++)h[v+He]=we[U+He];return Me},write:function(l,h,v,M,U,we){if(h.buffer===Qe.buffer&&(we=!1),!M)return 0;var Me=l.node;if(Me.timestamp=Date.now(),h.subarray&&(!Me.contents||Me.contents.subarray)){if(we)return Me.contents=h.subarray(v,v+M),Me.usedBytes=M,M;if(0===Me.usedBytes&&0===U)return Me.contents=h.slice(v,v+M),Me.usedBytes=M,M;if(U+M<=Me.usedBytes)return Me.contents.set(h.subarray(v,v+M),U),M}if(S.expandFileStorage(Me,U+M),Me.contents.subarray&&h.subarray)Me.contents.set(h.subarray(v,v+M),U);else for(var He=0;He<M;He++)Me.contents[U+He]=h[v+He];return Me.usedBytes=Math.max(Me.usedBytes,U+M),M},llseek:function(l,h,v){var M=h;if(1===v?M+=l.position:2===v&&D.isFile(l.node.mode)&&(M+=l.node.usedBytes),M<0)throw new D.ErrnoError(28);return M},allocate:function(l,h,v){S.expandFileStorage(l.node,h+v),l.node.usedBytes=Math.max(l.node.usedBytes,h+v)},mmap:function(l,h,v,M,U){if(!D.isFile(l.node.mode))throw new D.ErrnoError(43);var we,Me,He=l.node.contents;if(2&U||He.buffer!==Ue){if((v>0||v+h<He.length)&&(He=He.subarray?He.subarray(v,v+h):Array.prototype.slice.call(He,v,v+h)),Me=!0,!(we=E()))throw new D.ErrnoError(48);Qe.set(He,we)}else Me=!1,we=He.byteOffset;return{ptr:we,allocated:Me}},msync:function(l,h,v,M,U){return S.stream_ops.write(l,h,0,M,v,!1),0}}},D={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(l,h={})=>{if(!(l=Jn.resolve(l)))return{path:"",node:null};if((h=Object.assign({follow_mount:!0,recurse_count:0},h)).recurse_count>8)throw new D.ErrnoError(32);for(var M=l.split("/").filter(Hn=>!!Hn),U=D.root,we="/",Me=0;Me<M.length;Me++){var He=Me===M.length-1;if(He&&h.parent)break;if(U=D.lookupNode(U,M[Me]),we=en.join2(we,M[Me]),D.isMountpoint(U)&&(!He||He&&h.follow_mount)&&(U=U.mounted.root),!He||h.follow)for(var bt=0;D.isLink(U.mode);){var rn=D.readlink(we);if(we=Jn.resolve(en.dirname(we),rn),U=D.lookupPath(we,{recurse_count:h.recurse_count+1}).node,bt++>40)throw new D.ErrnoError(32)}}return{path:we,node:U}},getPath:l=>{for(var h;;){if(D.isRoot(l)){var v=l.mount.mountpoint;return h?"/"!==v[v.length-1]?v+"/"+h:v+h:v}h=h?l.name+"/"+h:l.name,l=l.parent}},hashName:(l,h)=>{for(var v=0,M=0;M<h.length;M++)v=(v<<5)-v+h.charCodeAt(M)|0;return(l+v>>>0)%D.nameTable.length},hashAddNode:l=>{var h=D.hashName(l.parent.id,l.name);l.name_next=D.nameTable[h],D.nameTable[h]=l},hashRemoveNode:l=>{var h=D.hashName(l.parent.id,l.name);if(D.nameTable[h]===l)D.nameTable[h]=l.name_next;else for(var v=D.nameTable[h];v;){if(v.name_next===l){v.name_next=l.name_next;break}v=v.name_next}},lookupNode:(l,h)=>{var v=D.mayLookup(l);if(v)throw new D.ErrnoError(v,l);for(var M=D.hashName(l.id,h),U=D.nameTable[M];U;U=U.name_next)if(U.parent.id===l.id&&U.name===h)return U;return D.lookup(l,h)},createNode:(l,h,v,M)=>{var U=new D.FSNode(l,h,v,M);return D.hashAddNode(U),U},destroyNode:l=>{D.hashRemoveNode(l)},isRoot:l=>l===l.parent,isMountpoint:l=>!!l.mounted,isFile:l=>32768==(61440&l),isDir:l=>16384==(61440&l),isLink:l=>40960==(61440&l),isChrdev:l=>8192==(61440&l),isBlkdev:l=>24576==(61440&l),isFIFO:l=>4096==(61440&l),isSocket:l=>49152==(49152&l),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:l=>{var h=D.flagModes[l];if(typeof h>"u")throw new Error("Unknown file open mode: "+l);return h},flagsToPermissionString:l=>{var h=["r","w","rw"][3&l];return 512&l&&(h+="w"),h},nodePermissions:(l,h)=>D.ignorePermissions?0:h.includes("r")&&!(292&l.mode)||h.includes("w")&&!(146&l.mode)||h.includes("x")&&!(73&l.mode)?2:0,mayLookup:l=>D.nodePermissions(l,"x")||(l.node_ops.lookup?0:2),mayCreate:(l,h)=>{try{return D.lookupNode(l,h),20}catch{}return D.nodePermissions(l,"wx")},mayDelete:(l,h,v)=>{var M;try{M=D.lookupNode(l,h)}catch(we){return we.errno}var U=D.nodePermissions(l,"wx");if(U)return U;if(v){if(!D.isDir(M.mode))return 54;if(D.isRoot(M)||D.getPath(M)===D.cwd())return 10}else if(D.isDir(M.mode))return 31;return 0},mayOpen:(l,h)=>l?D.isLink(l.mode)?32:D.isDir(l.mode)&&("r"!==D.flagsToPermissionString(h)||512&h)?31:D.nodePermissions(l,D.flagsToPermissionString(h)):44,MAX_OPEN_FDS:4096,nextfd:(l=0,h=D.MAX_OPEN_FDS)=>{for(var v=l;v<=h;v++)if(!D.streams[v])return v;throw new D.ErrnoError(33)},getStream:l=>D.streams[l],createStream:(l,h,v)=>{D.FSStream||(D.FSStream=function(){this.shared={}},D.FSStream.prototype={},Object.defineProperties(D.FSStream.prototype,{object:{get:function(){return this.node},set:function(U){this.node=U}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(U){this.shared.flags=U}},position:{get:function(){return this.shared.position},set:function(U){this.shared.position=U}}})),l=Object.assign(new D.FSStream,l);var M=D.nextfd(h,v);return l.fd=M,D.streams[M]=l,l},closeStream:l=>{D.streams[l]=null},chrdev_stream_ops:{open:l=>{var h=D.getDevice(l.node.rdev);l.stream_ops=h.stream_ops,l.stream_ops.open&&l.stream_ops.open(l)},llseek:()=>{throw new D.ErrnoError(70)}},major:l=>l>>8,minor:l=>255&l,makedev:(l,h)=>l<<8|h,registerDevice:(l,h)=>{D.devices[l]={stream_ops:h}},getDevice:l=>D.devices[l],getMounts:l=>{for(var h=[],v=[l];v.length;){var M=v.pop();h.push(M),v.push.apply(v,M.mounts)}return h},syncfs:(l,h)=>{"function"==typeof l&&(h=l,l=!1),D.syncFSRequests++,D.syncFSRequests>1&&K("warning: "+D.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var v=D.getMounts(D.root.mount),M=0;function U(Me){return D.syncFSRequests--,h(Me)}function we(Me){if(Me)return we.errored?void 0:(we.errored=!0,U(Me));++M>=v.length&&U(null)}v.forEach(Me=>{if(!Me.type.syncfs)return we(null);Me.type.syncfs(Me,l,we)})},mount:(l,h,v)=>{var we,M="/"===v,U=!v;if(M&&D.root)throw new D.ErrnoError(10);if(!M&&!U){var Me=D.lookupPath(v,{follow_mount:!1});if(v=Me.path,D.isMountpoint(we=Me.node))throw new D.ErrnoError(10);if(!D.isDir(we.mode))throw new D.ErrnoError(54)}var He={type:l,opts:h,mountpoint:v,mounts:[]},bt=l.mount(He);return bt.mount=He,He.root=bt,M?D.root=bt:we&&(we.mounted=He,we.mount&&we.mount.mounts.push(He)),bt},unmount:l=>{var h=D.lookupPath(l,{follow_mount:!1});if(!D.isMountpoint(h.node))throw new D.ErrnoError(28);var v=h.node,M=v.mounted,U=D.getMounts(M);Object.keys(D.nameTable).forEach(Me=>{for(var He=D.nameTable[Me];He;){var bt=He.name_next;U.includes(He.mount)&&D.destroyNode(He),He=bt}}),v.mounted=null;var we=v.mount.mounts.indexOf(M);v.mount.mounts.splice(we,1)},lookup:(l,h)=>l.node_ops.lookup(l,h),mknod:(l,h,v)=>{var U=D.lookupPath(l,{parent:!0}).node,we=en.basename(l);if(!we||"."===we||".."===we)throw new D.ErrnoError(28);var Me=D.mayCreate(U,we);if(Me)throw new D.ErrnoError(Me);if(!U.node_ops.mknod)throw new D.ErrnoError(63);return U.node_ops.mknod(U,we,h,v)},create:(l,h)=>(h=void 0!==h?h:438,h&=4095,D.mknod(l,h|=32768,0)),mkdir:(l,h)=>(h=void 0!==h?h:511,h&=1023,D.mknod(l,h|=16384,0)),mkdirTree:(l,h)=>{for(var v=l.split("/"),M="",U=0;U<v.length;++U)if(v[U]){M+="/"+v[U];try{D.mkdir(M,h)}catch(we){if(20!=we.errno)throw we}}},mkdev:(l,h,v)=>(typeof v>"u"&&(v=h,h=438),D.mknod(l,h|=8192,v)),symlink:(l,h)=>{if(!Jn.resolve(l))throw new D.ErrnoError(44);var M=D.lookupPath(h,{parent:!0}).node;if(!M)throw new D.ErrnoError(44);var U=en.basename(h),we=D.mayCreate(M,U);if(we)throw new D.ErrnoError(we);if(!M.node_ops.symlink)throw new D.ErrnoError(63);return M.node_ops.symlink(M,U,l)},rename:(l,h)=>{var He,bt,v=en.dirname(l),M=en.dirname(h),U=en.basename(l),we=en.basename(h);if(He=D.lookupPath(l,{parent:!0}).node,bt=D.lookupPath(h,{parent:!0}).node,!He||!bt)throw new D.ErrnoError(44);if(He.mount!==bt.mount)throw new D.ErrnoError(75);var Hn,rn=D.lookupNode(He,U),Un=Jn.relative(l,M);if("."!==Un.charAt(0))throw new D.ErrnoError(28);if("."!==(Un=Jn.relative(h,v)).charAt(0))throw new D.ErrnoError(55);try{Hn=D.lookupNode(bt,we)}catch{}if(rn!==Hn){var Xt=D.isDir(rn.mode),hn=D.mayDelete(He,U,Xt);if(hn)throw new D.ErrnoError(hn);if(hn=Hn?D.mayDelete(bt,we,Xt):D.mayCreate(bt,we))throw new D.ErrnoError(hn);if(!He.node_ops.rename)throw new D.ErrnoError(63);if(D.isMountpoint(rn)||Hn&&D.isMountpoint(Hn))throw new D.ErrnoError(10);if(bt!==He&&(hn=D.nodePermissions(He,"w")))throw new D.ErrnoError(hn);D.hashRemoveNode(rn);try{He.node_ops.rename(rn,bt,we)}catch(zn){throw zn}finally{D.hashAddNode(rn)}}},rmdir:l=>{var v=D.lookupPath(l,{parent:!0}).node,M=en.basename(l),U=D.lookupNode(v,M),we=D.mayDelete(v,M,!0);if(we)throw new D.ErrnoError(we);if(!v.node_ops.rmdir)throw new D.ErrnoError(63);if(D.isMountpoint(U))throw new D.ErrnoError(10);v.node_ops.rmdir(v,M),D.destroyNode(U)},readdir:l=>{var v=D.lookupPath(l,{follow:!0}).node;if(!v.node_ops.readdir)throw new D.ErrnoError(54);return v.node_ops.readdir(v)},unlink:l=>{var v=D.lookupPath(l,{parent:!0}).node;if(!v)throw new D.ErrnoError(44);var M=en.basename(l),U=D.lookupNode(v,M),we=D.mayDelete(v,M,!1);if(we)throw new D.ErrnoError(we);if(!v.node_ops.unlink)throw new D.ErrnoError(63);if(D.isMountpoint(U))throw new D.ErrnoError(10);v.node_ops.unlink(v,M),D.destroyNode(U)},readlink:l=>{var v=D.lookupPath(l).node;if(!v)throw new D.ErrnoError(44);if(!v.node_ops.readlink)throw new D.ErrnoError(28);return Jn.resolve(D.getPath(v.parent),v.node_ops.readlink(v))},stat:(l,h)=>{var M=D.lookupPath(l,{follow:!h}).node;if(!M)throw new D.ErrnoError(44);if(!M.node_ops.getattr)throw new D.ErrnoError(63);return M.node_ops.getattr(M)},lstat:l=>D.stat(l,!0),chmod:(l,h,v)=>{var M;if(!(M="string"==typeof l?D.lookupPath(l,{follow:!v}).node:l).node_ops.setattr)throw new D.ErrnoError(63);M.node_ops.setattr(M,{mode:4095&h|-4096&M.mode,timestamp:Date.now()})},lchmod:(l,h)=>{D.chmod(l,h,!0)},fchmod:(l,h)=>{var v=D.getStream(l);if(!v)throw new D.ErrnoError(8);D.chmod(v.node,h)},chown:(l,h,v,M)=>{var U;if(!(U="string"==typeof l?D.lookupPath(l,{follow:!M}).node:l).node_ops.setattr)throw new D.ErrnoError(63);U.node_ops.setattr(U,{timestamp:Date.now()})},lchown:(l,h,v)=>{D.chown(l,h,v,!0)},fchown:(l,h,v)=>{var M=D.getStream(l);if(!M)throw new D.ErrnoError(8);D.chown(M.node,h,v)},truncate:(l,h)=>{if(h<0)throw new D.ErrnoError(28);var v;if(!(v="string"==typeof l?D.lookupPath(l,{follow:!0}).node:l).node_ops.setattr)throw new D.ErrnoError(63);if(D.isDir(v.mode))throw new D.ErrnoError(31);if(!D.isFile(v.mode))throw new D.ErrnoError(28);var U=D.nodePermissions(v,"w");if(U)throw new D.ErrnoError(U);v.node_ops.setattr(v,{size:h,timestamp:Date.now()})},ftruncate:(l,h)=>{var v=D.getStream(l);if(!v)throw new D.ErrnoError(8);if(!(2097155&v.flags))throw new D.ErrnoError(28);D.truncate(v.node,h)},utime:(l,h,v)=>{var U=D.lookupPath(l,{follow:!0}).node;U.node_ops.setattr(U,{timestamp:Math.max(h,v)})},open:(l,h,v)=>{if(""===l)throw new D.ErrnoError(44);var M;if(v=typeof v>"u"?438:v,v=64&(h="string"==typeof h?D.modeStringToFlags(h):h)?4095&v|32768:0,"object"==typeof l)M=l;else{l=en.normalize(l);try{M=D.lookupPath(l,{follow:!(131072&h)}).node}catch{}}var we=!1;if(64&h)if(M){if(128&h)throw new D.ErrnoError(20)}else M=D.mknod(l,v,0),we=!0;if(!M)throw new D.ErrnoError(44);if(D.isChrdev(M.mode)&&(h&=-513),65536&h&&!D.isDir(M.mode))throw new D.ErrnoError(54);if(!we){var Me=D.mayOpen(M,h);if(Me)throw new D.ErrnoError(Me)}512&h&&!we&&D.truncate(M,0),h&=-131713;var He=D.createStream({node:M,path:D.getPath(M),flags:h,seekable:!0,position:0,stream_ops:M.stream_ops,ungotten:[],error:!1});return He.stream_ops.open&&He.stream_ops.open(He),c.logReadFiles&&!(1&h)&&(D.readFiles||(D.readFiles={}),l in D.readFiles||(D.readFiles[l]=1)),He},close:l=>{if(D.isClosed(l))throw new D.ErrnoError(8);l.getdents&&(l.getdents=null);try{l.stream_ops.close&&l.stream_ops.close(l)}catch(h){throw h}finally{D.closeStream(l.fd)}l.fd=null},isClosed:l=>null===l.fd,llseek:(l,h,v)=>{if(D.isClosed(l))throw new D.ErrnoError(8);if(!l.seekable||!l.stream_ops.llseek)throw new D.ErrnoError(70);if(0!=v&&1!=v&&2!=v)throw new D.ErrnoError(28);return l.position=l.stream_ops.llseek(l,h,v),l.ungotten=[],l.position},read:(l,h,v,M,U)=>{if(M<0||U<0)throw new D.ErrnoError(28);if(D.isClosed(l))throw new D.ErrnoError(8);if(1==(2097155&l.flags))throw new D.ErrnoError(8);if(D.isDir(l.node.mode))throw new D.ErrnoError(31);if(!l.stream_ops.read)throw new D.ErrnoError(28);var we=typeof U<"u";if(we){if(!l.seekable)throw new D.ErrnoError(70)}else U=l.position;var Me=l.stream_ops.read(l,h,v,M,U);return we||(l.position+=Me),Me},write:(l,h,v,M,U,we)=>{if(M<0||U<0)throw new D.ErrnoError(28);if(D.isClosed(l))throw new D.ErrnoError(8);if(!(2097155&l.flags))throw new D.ErrnoError(8);if(D.isDir(l.node.mode))throw new D.ErrnoError(31);if(!l.stream_ops.write)throw new D.ErrnoError(28);l.seekable&&1024&l.flags&&D.llseek(l,0,2);var Me=typeof U<"u";if(Me){if(!l.seekable)throw new D.ErrnoError(70)}else U=l.position;var He=l.stream_ops.write(l,h,v,M,U,we);return Me||(l.position+=He),He},allocate:(l,h,v)=>{if(D.isClosed(l))throw new D.ErrnoError(8);if(h<0||v<=0)throw new D.ErrnoError(28);if(!(2097155&l.flags))throw new D.ErrnoError(8);if(!D.isFile(l.node.mode)&&!D.isDir(l.node.mode))throw new D.ErrnoError(43);if(!l.stream_ops.allocate)throw new D.ErrnoError(138);l.stream_ops.allocate(l,h,v)},mmap:(l,h,v,M,U)=>{if(2&M&&!(2&U)&&2!=(2097155&l.flags))throw new D.ErrnoError(2);if(1==(2097155&l.flags))throw new D.ErrnoError(2);if(!l.stream_ops.mmap)throw new D.ErrnoError(43);return l.stream_ops.mmap(l,h,v,M,U)},msync:(l,h,v,M,U)=>l.stream_ops.msync?l.stream_ops.msync(l,h,v,M,U):0,munmap:l=>0,ioctl:(l,h,v)=>{if(!l.stream_ops.ioctl)throw new D.ErrnoError(59);return l.stream_ops.ioctl(l,h,v)},readFile:(l,h={})=>{if(h.flags=h.flags||0,h.encoding=h.encoding||"binary","utf8"!==h.encoding&&"binary"!==h.encoding)throw new Error('Invalid encoding type "'+h.encoding+'"');var v,M=D.open(l,h.flags),we=D.stat(l).size,Me=new Uint8Array(we);return D.read(M,Me,0,we,0),"utf8"===h.encoding?v=Xe(Me,0):"binary"===h.encoding&&(v=Me),D.close(M),v},writeFile:(l,h,v={})=>{v.flags=v.flags||577;var M=D.open(l,v.flags,v.mode);if("string"==typeof h){var U=new Uint8Array(re(h)+1),we=Te(h,U,0,U.length);D.write(M,U,0,we,void 0,v.canOwn)}else{if(!ArrayBuffer.isView(h))throw new Error("Unsupported data type");D.write(M,h,0,h.byteLength,void 0,v.canOwn)}D.close(M)},cwd:()=>D.currentPath,chdir:l=>{var h=D.lookupPath(l,{follow:!0});if(null===h.node)throw new D.ErrnoError(44);if(!D.isDir(h.node.mode))throw new D.ErrnoError(54);var v=D.nodePermissions(h.node,"x");if(v)throw new D.ErrnoError(v);D.currentPath=h.path},createDefaultDirectories:()=>{D.mkdir("/tmp"),D.mkdir("/home"),D.mkdir("/home/web_user")},createDefaultDevices:()=>{D.mkdir("/dev"),D.registerDevice(D.makedev(1,3),{read:()=>0,write:(h,v,M,U,we)=>U}),D.mkdev("/dev/null",D.makedev(1,3)),jt.register(D.makedev(5,0),jt.default_tty_ops),jt.register(D.makedev(6,0),jt.default_tty1_ops),D.mkdev("/dev/tty",D.makedev(5,0)),D.mkdev("/dev/tty1",D.makedev(6,0));var l=function Qn(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var l=new Uint8Array(1);return()=>(crypto.getRandomValues(l),l[0])}return()=>or("randomDevice")}();D.createDevice("/dev","random",l),D.createDevice("/dev","urandom",l),D.mkdir("/dev/shm"),D.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{D.mkdir("/proc");var l=D.mkdir("/proc/self");D.mkdir("/proc/self/fd"),D.mount({mount:()=>{var h=D.createNode(l,"fd",16895,73);return h.node_ops={lookup:(v,M)=>{var we=D.getStream(+M);if(!we)throw new D.ErrnoError(8);var Me={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>we.path}};return Me.parent=Me,Me}},h}},{},"/proc/self/fd")},createStandardStreams:()=>{c.stdin?D.createDevice("/dev","stdin",c.stdin):D.symlink("/dev/tty","/dev/stdin"),c.stdout?D.createDevice("/dev","stdout",null,c.stdout):D.symlink("/dev/tty","/dev/stdout"),c.stderr?D.createDevice("/dev","stderr",null,c.stderr):D.symlink("/dev/tty1","/dev/stderr"),D.open("/dev/stdin",0),D.open("/dev/stdout",1),D.open("/dev/stderr",1)},ensureErrnoError:()=>{D.ErrnoError||(D.ErrnoError=function(h,v){this.node=v,this.setErrno=function(M){this.errno=M},this.setErrno(h),this.message="FS error"},D.ErrnoError.prototype=new Error,D.ErrnoError.prototype.constructor=D.ErrnoError,[44].forEach(l=>{D.genericErrors[l]=new D.ErrnoError(l),D.genericErrors[l].stack="<generic error, no stack>"}))},staticInit:()=>{D.ensureErrnoError(),D.nameTable=new Array(4096),D.mount(S,{},"/"),D.createDefaultDirectories(),D.createDefaultDevices(),D.createSpecialDirectories(),D.filesystems={MEMFS:S}},init:(l,h,v)=>{D.init.initialized=!0,D.ensureErrnoError(),c.stdin=l||c.stdin,c.stdout=h||c.stdout,c.stderr=v||c.stderr,D.createStandardStreams()},quit:()=>{D.init.initialized=!1;for(var l=0;l<D.streams.length;l++){var h=D.streams[l];h&&D.close(h)}},getMode:(l,h)=>{var v=0;return l&&(v|=365),h&&(v|=146),v},findObject:(l,h)=>{var v=D.analyzePath(l,h);return v.exists?v.object:null},analyzePath:(l,h)=>{try{l=(v=D.lookupPath(l,{follow:!h})).path}catch{}var M={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var v=D.lookupPath(l,{parent:!0});M.parentExists=!0,M.parentPath=v.path,M.parentObject=v.node,M.name=en.basename(l),v=D.lookupPath(l,{follow:!h}),M.exists=!0,M.path=v.path,M.object=v.node,M.name=v.node.name,M.isRoot="/"===v.path}catch(U){M.error=U.errno}return M},createPath:(l,h,v,M)=>{l="string"==typeof l?l:D.getPath(l);for(var U=h.split("/").reverse();U.length;){var we=U.pop();if(we){var Me=en.join2(l,we);try{D.mkdir(Me)}catch{}l=Me}}return Me},createFile:(l,h,v,M,U)=>{var we=en.join2("string"==typeof l?l:D.getPath(l),h),Me=D.getMode(M,U);return D.create(we,Me)},createDataFile:(l,h,v,M,U,we)=>{var Me=h;l&&(l="string"==typeof l?l:D.getPath(l),Me=h?en.join2(l,h):l);var He=D.getMode(M,U),bt=D.create(Me,He);if(v){if("string"==typeof v){for(var rn=new Array(v.length),Un=0,Hn=v.length;Un<Hn;++Un)rn[Un]=v.charCodeAt(Un);v=rn}D.chmod(bt,146|He);var Xt=D.open(bt,577);D.write(Xt,v,0,v.length,0,we),D.close(Xt),D.chmod(bt,He)}return bt},createDevice:(l,h,v,M)=>{var U=en.join2("string"==typeof l?l:D.getPath(l),h),we=D.getMode(!!v,!!M);D.createDevice.major||(D.createDevice.major=64);var Me=D.makedev(D.createDevice.major++,0);return D.registerDevice(Me,{open:He=>{He.seekable=!1},close:He=>{M&&M.buffer&&M.buffer.length&&M(10)},read:(He,bt,rn,Un,Hn)=>{for(var Xt=0,hn=0;hn<Un;hn++){var zn;try{zn=v()}catch{throw new D.ErrnoError(29)}if(void 0===zn&&0===Xt)throw new D.ErrnoError(6);if(null==zn)break;Xt++,bt[rn+hn]=zn}return Xt&&(He.node.timestamp=Date.now()),Xt},write:(He,bt,rn,Un,Hn)=>{for(var Xt=0;Xt<Un;Xt++)try{M(bt[rn+Xt])}catch{throw new D.ErrnoError(29)}return Un&&(He.node.timestamp=Date.now()),Xt}}),D.mkdev(U,we,Me)},forceLoadFile:l=>{if(l.isDevice||l.isFolder||l.link||l.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!j)throw new Error("Cannot load without read() or XMLHttpRequest.");try{l.contents=un(j(l.url),!0),l.usedBytes=l.contents.length}catch{throw new D.ErrnoError(29)}},createLazyFile:(l,h,v,M,U)=>{function we(){this.lengthKnown=!1,this.chunks=[]}if(we.prototype.get=function(hn){if(!(hn>this.length-1||hn<0)){var zn=hn%this.chunkSize;return this.getter(hn/this.chunkSize|0)[zn]}},we.prototype.setDataGetter=function(hn){this.getter=hn},we.prototype.cacheLength=function(){var hn=new XMLHttpRequest;if(hn.open("HEAD",v,!1),hn.send(null),!(hn.status>=200&&hn.status<300||304===hn.status))throw new Error("Couldn't load "+v+". Status: "+hn.status);var fo,zn=Number(hn.getResponseHeader("Content-length")),ss=(fo=hn.getResponseHeader("Accept-Ranges"))&&"bytes"===fo,Go=(fo=hn.getResponseHeader("Content-Encoding"))&&"gzip"===fo,wt=1048576;ss||(wt=zn);var po=this;po.setDataGetter(Rr=>{var as=Rr*wt,no=(Rr+1)*wt-1;if(no=Math.min(no,zn-1),typeof po.chunks[Rr]>"u"&&(po.chunks[Rr]=((Rr,as)=>{if(Rr>as)throw new Error("invalid range ("+Rr+", "+as+") or no bytes requested!");if(as>zn-1)throw new Error("only "+zn+" bytes available! programmer error!");var no=new XMLHttpRequest;if(no.open("GET",v,!1),zn!==wt&&no.setRequestHeader("Range","bytes="+Rr+"-"+as),no.responseType="arraybuffer",no.overrideMimeType&&no.overrideMimeType("text/plain; charset=x-user-defined"),no.send(null),!(no.status>=200&&no.status<300||304===no.status))throw new Error("Couldn't load "+v+". Status: "+no.status);return void 0!==no.response?new Uint8Array(no.response||[]):un(no.responseText||"",!0)})(as,no)),typeof po.chunks[Rr]>"u")throw new Error("doXHR failed!");return po.chunks[Rr]}),(Go||!zn)&&(wt=zn=1,zn=this.getter(0).length,wt=zn,W("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=zn,this._chunkSize=wt,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!Y)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var Me=new we;Object.defineProperties(Me,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var He={isDevice:!1,contents:Me}}else He={isDevice:!1,url:v};var bt=D.createFile(l,h,He,M,U);He.contents?bt.contents=He.contents:He.url&&(bt.contents=null,bt.url=He.url),Object.defineProperties(bt,{usedBytes:{get:function(){return this.contents.length}}});var rn={};function Hn(Xt,hn,zn,fo,ss){var Go=Xt.node.contents;if(ss>=Go.length)return 0;var wt=Math.min(Go.length-ss,fo);if(Go.slice)for(var gn=0;gn<wt;gn++)hn[zn+gn]=Go[ss+gn];else for(gn=0;gn<wt;gn++)hn[zn+gn]=Go.get(ss+gn);return wt}return Object.keys(bt.stream_ops).forEach(Xt=>{var hn=bt.stream_ops[Xt];rn[Xt]=function(){return D.forceLoadFile(bt),hn.apply(null,arguments)}}),rn.read=(Xt,hn,zn,fo,ss)=>(D.forceLoadFile(bt),Hn(Xt,hn,zn,fo,ss)),rn.mmap=(Xt,hn,zn,fo,ss)=>{D.forceLoadFile(bt);var Go=E();if(!Go)throw new D.ErrnoError(48);return Hn(Xt,Qe,Go,hn,zn),{ptr:Go,allocated:!0}},bt.stream_ops=rn,bt},createPreloadedFile:(l,h,v,M,U,we,Me,He,bt,rn)=>{var Un=h?Jn.resolve(en.join2(l,h)):l;function Xt(hn){function zn(fo){rn&&rn(),He||D.createDataFile(l,h,fo,M,U,bt),we&&we(),kr()}Browser.handledByPreloadPlugin(hn,Un,zn,()=>{Me&&Me(),kr()})||zn(hn)}Ur(),"string"==typeof v?function qn(l,h,v,M){var U=M?"":"al "+l;Pe(l,we=>{Ce(we,'Loading data file "'+l+'" failed (no arrayBuffer).'),h(new Uint8Array(we)),U&&kr()},we=>{if(!v)throw'Loading data file "'+l+'" failed.';v()}),U&&Ur()}(v,hn=>Xt(hn),Me):Xt(v)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(l,h,v)=>{h=h||(()=>{}),v=v||(()=>{});var M=D.indexedDB();try{var U=M.open(D.DB_NAME(),D.DB_VERSION)}catch(we){return v(we)}U.onupgradeneeded=()=>{W("creating db"),U.result.createObjectStore(D.DB_STORE_NAME)},U.onsuccess=()=>{var Me=U.result.transaction([D.DB_STORE_NAME],"readwrite"),He=Me.objectStore(D.DB_STORE_NAME),bt=0,rn=0,Un=l.length;function Hn(){0==rn?h():v()}l.forEach(Xt=>{var hn=He.put(D.analyzePath(Xt).object.contents,Xt);hn.onsuccess=()=>{++bt+rn==Un&&Hn()},hn.onerror=()=>{rn++,bt+rn==Un&&Hn()}}),Me.onerror=v},U.onerror=v},loadFilesFromDB:(l,h,v)=>{h=h||(()=>{}),v=v||(()=>{});var M=D.indexedDB();try{var U=M.open(D.DB_NAME(),D.DB_VERSION)}catch(we){return v(we)}U.onupgradeneeded=v,U.onsuccess=()=>{var we=U.result;try{var Me=we.transaction([D.DB_STORE_NAME],"readonly")}catch(Xt){return void v(Xt)}var He=Me.objectStore(D.DB_STORE_NAME),bt=0,rn=0,Un=l.length;function Hn(){0==rn?h():v()}l.forEach(Xt=>{var hn=He.get(Xt);hn.onsuccess=()=>{D.analyzePath(Xt).exists&&D.unlink(Xt),D.createDataFile(en.dirname(Xt),en.basename(Xt),hn.result,!0,!0,!0),++bt+rn==Un&&Hn()},hn.onerror=()=>{rn++,bt+rn==Un&&Hn()}}),Me.onerror=v},U.onerror=v}},Nn={DEFAULT_POLLMASK:5,calculateAt:function(l,h,v){if(en.isAbs(h))return h;var M;if(M=-100===l?D.cwd():Nn.getStreamFromFD(l).path,0==h.length){if(!v)throw new D.ErrnoError(44);return M}return en.join2(M,h)},doStat:function(l,h,v){try{var M=l(h)}catch(U){if(U&&U.node&&en.normalize(h)!==en.normalize(D.getPath(U.node)))return-54;throw U}return O[v>>2]=M.dev,O[v+8>>2]=M.ino,O[v+12>>2]=M.mode,ye[v+16>>2]=M.nlink,O[v+20>>2]=M.uid,O[v+24>>2]=M.gid,O[v+28>>2]=M.rdev,le=[M.size>>>0,(ut=M.size,+Math.abs(ut)>=1?ut>0?(0|Math.min(+Math.floor(ut/4294967296),4294967295))>>>0:~~+Math.ceil((ut-+(~~ut>>>0))/4294967296)>>>0:0)],O[v+40>>2]=le[0],O[v+44>>2]=le[1],O[v+48>>2]=4096,O[v+52>>2]=M.blocks,le=[Math.floor(M.atime.getTime()/1e3)>>>0,(ut=Math.floor(M.atime.getTime()/1e3),+Math.abs(ut)>=1?ut>0?(0|Math.min(+Math.floor(ut/4294967296),4294967295))>>>0:~~+Math.ceil((ut-+(~~ut>>>0))/4294967296)>>>0:0)],O[v+56>>2]=le[0],O[v+60>>2]=le[1],ye[v+64>>2]=0,le=[Math.floor(M.mtime.getTime()/1e3)>>>0,(ut=Math.floor(M.mtime.getTime()/1e3),+Math.abs(ut)>=1?ut>0?(0|Math.min(+Math.floor(ut/4294967296),4294967295))>>>0:~~+Math.ceil((ut-+(~~ut>>>0))/4294967296)>>>0:0)],O[v+72>>2]=le[0],O[v+76>>2]=le[1],ye[v+80>>2]=0,le=[Math.floor(M.ctime.getTime()/1e3)>>>0,(ut=Math.floor(M.ctime.getTime()/1e3),+Math.abs(ut)>=1?ut>0?(0|Math.min(+Math.floor(ut/4294967296),4294967295))>>>0:~~+Math.ceil((ut-+(~~ut>>>0))/4294967296)>>>0:0)],O[v+88>>2]=le[0],O[v+92>>2]=le[1],ye[v+96>>2]=0,le=[M.ino>>>0,(ut=M.ino,+Math.abs(ut)>=1?ut>0?(0|Math.min(+Math.floor(ut/4294967296),4294967295))>>>0:~~+Math.ceil((ut-+(~~ut>>>0))/4294967296)>>>0:0)],O[v+104>>2]=le[0],O[v+108>>2]=le[1],0},doMsync:function(l,h,v,M,U){if(!D.isFile(h.node.mode))throw new D.ErrnoError(43);if(2&M)return 0;var we=vt.slice(l,l+v);D.msync(h,we,U,v,M)},varargs:void 0,get:function(){return Nn.varargs+=4,O[Nn.varargs-4>>2]},getStr:function(l){return $e(l)},getStreamFromFD:function(l){var h=D.getStream(l);if(!h)throw new D.ErrnoError(8);return h}};function Lo(l){return l%4==0&&(l%100!=0||l%400==0)}var bi=[0,31,60,91,121,152,182,213,244,274,305,335],wi=[0,31,59,90,120,151,181,212,243,273,304,334];function Jr(l){return(Lo(l.getFullYear())?bi:wi)[l.getMonth()]+l.getDate()-1}function Bo(l){var h=re(l)+1,v=ra(h);return v&&Te(l,Qe,v,h),v}var Qo=[];function Ji(l){try{return de.grow(l-Ue.byteLength+65535>>>16),Ve(de.buffer),1}catch{}}var Ci={};function ci(){if(!ci.strings){var h={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:L||"./this.program"};for(var v in Ci)void 0===Ci[v]?delete h[v]:h[v]=Ci[v];var M=[];for(var v in h)M.push(v+"="+h[v]);ci.strings=M}return ci.strings}var ge=[31,29,31,30,31,30,31,31,30,31,30,31],Se=[31,28,31,30,31,30,31,31,30,31,30,31];function Ht(l,h){l<128?h.push(l):h.push(l%128|128,l>>7)}var Kr=[];function Io(l){var h=Kr[l];return h||(l>=Kr.length&&(Kr.length=l+1),Kr[l]=h=ve.get(l)),h}var br=void 0,ts=[];function Na(l,h){ve.set(l,h),Kr[l]=ve.get(l)}var La=function(l,h,v,M){l||(l=this),this.parent=l,this.mount=l.mount,this.mounted=null,this.id=D.nextInode++,this.name=h,this.mode=v,this.node_ops={},this.stream_ops={},this.rdev=M};Object.defineProperties(La.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(l){l?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(l){l?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return D.isDir(this.mode)}},isDevice:{get:function(){return D.isChrdev(this.mode)}}}),D.FSNode=La,D.staticInit();var Ha,ml={b:function Rt(l,h,v,M){or("Assertion failed: "+$e(l)+", at: "+[h?$e(h):"unknown filename",v,M?$e(M):"unknown function"])},i:function Pn(l){const h=new Error($e(l));throw h.isAssert=!0,h},k:function No(l,h,v){try{var M=hr(h,v);return isNaN(M)?-61:(D.ftruncate(l,M),0)}catch(U){if(typeof D>"u"||!(U instanceof D.ErrnoError))throw U;return-U.errno}},e:function _o(){return!0},f:function $o(l,h){var v=new Date(1e3*function Ri(l){return ye[l>>2]+4294967296*O[l+4>>2]}(l));O[h>>2]=v.getSeconds(),O[h+4>>2]=v.getMinutes(),O[h+8>>2]=v.getHours(),O[h+12>>2]=v.getDate(),O[h+16>>2]=v.getMonth(),O[h+20>>2]=v.getFullYear()-1900,O[h+24>>2]=v.getDay();var M=0|Jr(v);O[h+28>>2]=M,O[h+36>>2]=-60*v.getTimezoneOffset();var U=new Date(v.getFullYear(),0,1),we=new Date(v.getFullYear(),6,1).getTimezoneOffset(),Me=U.getTimezoneOffset(),He=0|(we!=Me&&v.getTimezoneOffset()==Math.min(Me,we));O[h+32>>2]=He},g:function mr(l){var h=new Date(O[l+20>>2]+1900,O[l+16>>2],O[l+12>>2],O[l+8>>2],O[l+4>>2],O[l>>2],0),v=O[l+32>>2],M=h.getTimezoneOffset(),U=new Date(h.getFullYear(),0,1),we=new Date(h.getFullYear(),6,1).getTimezoneOffset(),Me=U.getTimezoneOffset(),He=Math.min(Me,we);if(v<0)O[l+32>>2]=Number(we!=Me&&He==M);else if(v>0!=(He==M)){var bt=Math.max(Me,we),rn=v>0?He:bt;h.setTime(h.getTime()+6e4*(rn-M))}O[l+24>>2]=h.getDay();var Un=0|Jr(h);return O[l+28>>2]=Un,O[l>>2]=h.getSeconds(),O[l+4>>2]=h.getMinutes(),O[l+8>>2]=h.getHours(),O[l+12>>2]=h.getDate(),O[l+16>>2]=h.getMonth(),O[l+20>>2]=h.getYear(),h.getTime()/1e3|0},h:function qr(l,h,v){var M=(new Date).getFullYear(),U=new Date(M,0,1),we=new Date(M,6,1),Me=U.getTimezoneOffset(),He=we.getTimezoneOffset(),bt=Math.max(Me,He);function rn(zn){var fo=zn.toTimeString().match(/\(([A-Za-z ]+)\)$/);return fo?fo[1]:"GMT"}ye[l>>2]=60*bt,O[h>>2]=Number(Me!=He);var Un=rn(U),Hn=rn(we),Xt=Bo(Un),hn=Bo(Hn);He<Me?(ye[v>>2]=Xt,ye[v+4>>2]=hn):(ye[v>>2]=hn,ye[v+4>>2]=Xt)},a:function li(){or("")},s:function jr(l,h,v){var M=function vo(l,h){var v;for(Qo.length=0,h>>=2;v=vt[l++];)h+=105!=v&h,Qo.push(105==v?O[h]:rt[h++>>1]),++h;return Qo}(h,v);return Ge[l].apply(null,M)},c:function Qi(){return Date.now()},p:function Eo(l,h,v){vt.copyWithin(l,h,h+v)},o:function ao(l){var bt,h=vt.length,v=2147483648;if((l>>>=0)>v)return!1;for(var U=1;U<=4;U*=2){var we=h*(1+.2/U);if(we=Math.min(we,l+100663296),Ji(Math.min(v,(bt=Math.max(l,we))+(65536-bt%65536)%65536)))return!0}return!1},m:function As(l,h){var v=0;return ci().forEach(function(M,U){var we=h+v;ye[l+4*U>>2]=we,function es(l,h,v){for(var M=0;M<l.length;++M)Qe[h++>>0]=l.charCodeAt(M);v||(Qe[h>>0]=0)}(M,we),v+=M.length+1}),0},n:function xs(l,h){var v=ci();ye[l>>2]=v.length;var M=0;return v.forEach(function(U){M+=U.length+1}),ye[h>>2]=M,0},q:function ar(l){try{var h=Nn.getStreamFromFD(l);return D.close(h),0}catch(v){if(typeof D>"u"||!(v instanceof D.ErrnoError))throw v;return v.errno}},d:function ys(l,h,v,M){try{var we=function ui(l,h,v,M){for(var U=0,we=0;we<v;we++){var Me=ye[h>>2],He=ye[h+4>>2];h+=8;var bt=D.read(l,Qe,Me,He,M);if(bt<0)return-1;if(U+=bt,bt<He)break}return U}(Nn.getStreamFromFD(l),h,v);return ye[M>>2]=we,0}catch(Me){if(typeof D>"u"||!(Me instanceof D.ErrnoError))throw Me;return Me.errno}},j:function Pi(l,h,v,M,U){try{var we=hr(h,v);if(isNaN(we))return 61;var Me=Nn.getStreamFromFD(l);return D.llseek(Me,we,M),le=[Me.position>>>0,(ut=Me.position,+Math.abs(ut)>=1?ut>0?(0|Math.min(+Math.floor(ut/4294967296),4294967295))>>>0:~~+Math.ceil((ut-+(~~ut>>>0))/4294967296)>>>0:0)],O[U>>2]=le[0],O[U+4>>2]=le[1],Me.getdents&&0===we&&0===M&&(Me.getdents=null),0}catch(He){if(typeof D>"u"||!(He instanceof D.ErrnoError))throw He;return He.errno}},r:function A(l,h,v,M){try{var we=function er(l,h,v,M){for(var U=0,we=0;we<v;we++){var Me=ye[h>>2],He=ye[h+4>>2];h+=8;var bt=D.write(l,Qe,Me,He,M);if(bt<0)return-1;U+=bt}return U}(Nn.getStreamFromFD(l),h,v);return ye[M>>2]=we,0}catch(Me){if(typeof D>"u"||!(Me instanceof D.ErrnoError))throw Me;return Me.errno}},l:function ke(l,h,v,M,U){return function he(l,h,v,M){var U=O[M+40>>2],we={tm_sec:O[M>>2],tm_min:O[M+4>>2],tm_hour:O[M+8>>2],tm_mday:O[M+12>>2],tm_mon:O[M+16>>2],tm_year:O[M+20>>2],tm_wday:O[M+24>>2],tm_yday:O[M+28>>2],tm_isdst:O[M+32>>2],tm_gmtoff:O[M+36>>2],tm_zone:U?$e(U):""},Me=$e(v),He={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var bt in He)Me=Me.replace(new RegExp(bt,"g"),He[bt]);var rn=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Un=["January","February","March","April","May","June","July","August","September","October","November","December"];function Hn(wt,gn,po){for(var Rr="number"==typeof wt?wt.toString():wt||"";Rr.length<gn;)Rr=po[0]+Rr;return Rr}function Xt(wt,gn){return Hn(wt,gn,"0")}function hn(wt,gn){function po(as){return as<0?-1:as>0?1:0}var Rr;return 0===(Rr=po(wt.getFullYear()-gn.getFullYear()))&&0===(Rr=po(wt.getMonth()-gn.getMonth()))&&(Rr=po(wt.getDate()-gn.getDate())),Rr}function zn(wt){switch(wt.getDay()){case 0:return new Date(wt.getFullYear()-1,11,29);case 1:return wt;case 2:return new Date(wt.getFullYear(),0,3);case 3:return new Date(wt.getFullYear(),0,2);case 4:return new Date(wt.getFullYear(),0,1);case 5:return new Date(wt.getFullYear()-1,11,31);case 6:return new Date(wt.getFullYear()-1,11,30)}}function fo(wt){var gn=function Oe(l,h){for(var v=new Date(l.getTime());h>0;){var M=Lo(v.getFullYear()),U=v.getMonth(),we=(M?ge:Se)[U];if(!(h>we-v.getDate()))return v.setDate(v.getDate()+h),v;h-=we-v.getDate()+1,v.setDate(1),U<11?v.setMonth(U+1):(v.setMonth(0),v.setFullYear(v.getFullYear()+1))}return v}(new Date(wt.tm_year+1900,0,1),wt.tm_yday),po=new Date(gn.getFullYear(),0,4),Rr=new Date(gn.getFullYear()+1,0,4),as=zn(po),no=zn(Rr);return hn(as,gn)<=0?hn(no,gn)<=0?gn.getFullYear()+1:gn.getFullYear():gn.getFullYear()-1}var ss={"%a":function(wt){return rn[wt.tm_wday].substring(0,3)},"%A":function(wt){return rn[wt.tm_wday]},"%b":function(wt){return Un[wt.tm_mon].substring(0,3)},"%B":function(wt){return Un[wt.tm_mon]},"%C":function(wt){return Xt((wt.tm_year+1900)/100|0,2)},"%d":function(wt){return Xt(wt.tm_mday,2)},"%e":function(wt){return Hn(wt.tm_mday,2," ")},"%g":function(wt){return fo(wt).toString().substring(2)},"%G":function(wt){return fo(wt)},"%H":function(wt){return Xt(wt.tm_hour,2)},"%I":function(wt){var gn=wt.tm_hour;return 0==gn?gn=12:gn>12&&(gn-=12),Xt(gn,2)},"%j":function(wt){return Xt(wt.tm_mday+function N(l,h){for(var v=0,M=0;M<=h;v+=l[M++]);return v}(Lo(wt.tm_year+1900)?ge:Se,wt.tm_mon-1),3)},"%m":function(wt){return Xt(wt.tm_mon+1,2)},"%M":function(wt){return Xt(wt.tm_min,2)},"%n":function(){return"\n"},"%p":function(wt){return wt.tm_hour>=0&&wt.tm_hour<12?"AM":"PM"},"%S":function(wt){return Xt(wt.tm_sec,2)},"%t":function(){return"\t"},"%u":function(wt){return wt.tm_wday||7},"%U":function(wt){return Xt(Math.floor((wt.tm_yday+7-wt.tm_wday)/7),2)},"%V":function(wt){var gn=Math.floor((wt.tm_yday+7-(wt.tm_wday+6)%7)/7);if((wt.tm_wday+371-wt.tm_yday-2)%7<=2&&gn++,gn){if(53==gn){var Rr=(wt.tm_wday+371-wt.tm_yday)%7;4!=Rr&&(3!=Rr||!Lo(wt.tm_year))&&(gn=1)}}else{gn=52;var po=(wt.tm_wday+7-wt.tm_yday-1)%7;(4==po||5==po&&Lo(wt.tm_year%400-1))&&gn++}return Xt(gn,2)},"%w":function(wt){return wt.tm_wday},"%W":function(wt){return Xt(Math.floor((wt.tm_yday+7-(wt.tm_wday+6)%7)/7),2)},"%y":function(wt){return(wt.tm_year+1900).toString().substring(2)},"%Y":function(wt){return wt.tm_year+1900},"%z":function(wt){var gn=wt.tm_gmtoff,po=gn>=0;return gn=(gn=Math.abs(gn)/60)/60*100+gn%60,(po?"+":"-")+String("0000"+gn).slice(-4)},"%Z":function(wt){return wt.tm_zone},"%%":function(){return"%"}};for(var bt in Me=Me.replace(/%%/g,"\0\0"),ss)Me.includes(bt)&&(Me=Me.replace(new RegExp(bt,"g"),ss[bt](we)));var Go=un(Me=Me.replace(/\0\0/g,"%"),!1);return Go.length>h?0:(function P(l,h){Qe.set(l,h)}(Go,l),Go.length-1)}(l,h,v,M)}},ra=(function Nr(){var l={a:ml};function h(Me,He){c.asm=Me.exports,Ve((de=c.asm.t).buffer),ve=c.asm.hc,function Wr(l){Re.unshift(l)}(c.asm.u),kr()}function v(Me){h(Me.instance)}function M(Me){return function Xi(){return pe||!ue&&!Y||"function"!=typeof fetch?Promise.resolve().then(function(){return Zr(mn)}):fetch(mn,{credentials:"same-origin"}).then(function(l){if(!l.ok)throw"failed to load wasm binary file at '"+mn+"'";return l.arrayBuffer()}).catch(function(){return Zr(mn)})}().then(function(He){return WebAssembly.instantiate(He,l)}).then(function(He){return He}).then(Me,function(He){K("failed to asynchronously prepare wasm: "+He),or(He)})}if(Ur(),c.instantiateWasm)try{return c.instantiateWasm(l,h)}catch(Me){K("Module.instantiateWasm callback failed with error: "+Me),te(Me)}(function U(){return pe||"function"!=typeof WebAssembly.instantiateStreaming||Qr(mn)||"function"!=typeof fetch?M(v):fetch(mn,{credentials:"same-origin"}).then(function(Me){return WebAssembly.instantiateStreaming(Me,l).then(v,function(bt){return K("wasm streaming compile failed: "+bt),K("falling back to ArrayBuffer instantiation"),M(v)})})})().catch(te)}(),c.___wasm_call_ctors=function(){return(c.___wasm_call_ctors=c.asm.u).apply(null,arguments)},c._malloc=function(){return(ra=c._malloc=c.asm.v).apply(null,arguments)}),Zn=(c._free=function(){return(c._free=c.asm.w).apply(null,arguments)},c._main=function(){return(c._main=c.asm.x).apply(null,arguments)},c._emscripten_bind_VoidPtr___destroy___0=function(){return(Zn=c._emscripten_bind_VoidPtr___destroy___0=c.asm.y).apply(null,arguments)}),vl=c._emscripten_bind_Cloudpilot_Cloudpilot_0=function(){return(vl=c._emscripten_bind_Cloudpilot_Cloudpilot_0=c.asm.z).apply(null,arguments)},bl=c._emscripten_bind_Cloudpilot_Malloc_1=function(){return(bl=c._emscripten_bind_Cloudpilot_Malloc_1=c.asm.A).apply(null,arguments)},ec=c._emscripten_bind_Cloudpilot_Free_1=function(){return(ec=c._emscripten_bind_Cloudpilot_Free_1=c.asm.B).apply(null,arguments)},mt=c._emscripten_bind_Cloudpilot_Nullptr_0=function(){return(mt=c._emscripten_bind_Cloudpilot_Nullptr_0=c.asm.C).apply(null,arguments)},Hs=c._emscripten_bind_Cloudpilot_InitializeSession_3=function(){return(Hs=c._emscripten_bind_Cloudpilot_InitializeSession_3=c.asm.D).apply(null,arguments)},gr=c._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=function(){return(gr=c._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=c.asm.E).apply(null,arguments)},_s=c._emscripten_bind_Cloudpilot_RunEmulation_1=function(){return(_s=c._emscripten_bind_Cloudpilot_RunEmulation_1=c.asm.F).apply(null,arguments)},oa=c._emscripten_bind_Cloudpilot_SetClockFactor_1=function(){return(oa=c._emscripten_bind_Cloudpilot_SetClockFactor_1=c.asm.G).apply(null,arguments)},to=c._emscripten_bind_Cloudpilot_CopyFrame_0=function(){return(to=c._emscripten_bind_Cloudpilot_CopyFrame_0=c.asm.H).apply(null,arguments)},ns=c._emscripten_bind_Cloudpilot_IsScreenDirty_0=function(){return(ns=c._emscripten_bind_Cloudpilot_IsScreenDirty_0=c.asm.I).apply(null,arguments)},Ei=c._emscripten_bind_Cloudpilot_MarkScreenClean_0=function(){return(Ei=c._emscripten_bind_Cloudpilot_MarkScreenClean_0=c.asm.J).apply(null,arguments)},ia=c._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=function(){return(ia=c._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=c.asm.K).apply(null,arguments)},Rs=c._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=function(){return(Rs=c._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=c.asm.L).apply(null,arguments)},Gs=c._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=function(){return(Gs=c._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=c.asm.M).apply(null,arguments)},sa=c._emscripten_bind_Cloudpilot_QueuePenMove_2=function(){return(sa=c._emscripten_bind_Cloudpilot_QueuePenMove_2=c.asm.N).apply(null,arguments)},$a=c._emscripten_bind_Cloudpilot_QueuePenUp_0=function(){return($a=c._emscripten_bind_Cloudpilot_QueuePenUp_0=c.asm.O).apply(null,arguments)},kt=c._emscripten_bind_Cloudpilot_QueueButtonDown_1=function(){return(kt=c._emscripten_bind_Cloudpilot_QueueButtonDown_1=c.asm.P).apply(null,arguments)},zs=c._emscripten_bind_Cloudpilot_QueueButtonUp_1=function(){return(zs=c._emscripten_bind_Cloudpilot_QueueButtonUp_1=c.asm.Q).apply(null,arguments)},lo=c._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=function(){return(lo=c._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=c.asm.R).apply(null,arguments)},ir=c._emscripten_bind_Cloudpilot_IsPowerOff_0=function(){return(ir=c._emscripten_bind_Cloudpilot_IsPowerOff_0=c.asm.S).apply(null,arguments)},Hr=c._emscripten_bind_Cloudpilot_IsUIInitialized_0=function(){return(Hr=c._emscripten_bind_Cloudpilot_IsUIInitialized_0=c.asm.T).apply(null,arguments)},Mr=c._emscripten_bind_Cloudpilot_GetOSVersion_0=function(){return(Mr=c._emscripten_bind_Cloudpilot_GetOSVersion_0=c.asm.U).apply(null,arguments)},p=c._emscripten_bind_Cloudpilot_IsSetupComplete_0=function(){return(p=c._emscripten_bind_Cloudpilot_IsSetupComplete_0=c.asm.V).apply(null,arguments)},y=c._emscripten_bind_Cloudpilot_Reset_0=function(){return(y=c._emscripten_bind_Cloudpilot_Reset_0=c.asm.W).apply(null,arguments)},w=c._emscripten_bind_Cloudpilot_ResetNoExtensions_0=function(){return(w=c._emscripten_bind_Cloudpilot_ResetNoExtensions_0=c.asm.X).apply(null,arguments)},F=c._emscripten_bind_Cloudpilot_ResetHard_0=function(){return(F=c._emscripten_bind_Cloudpilot_ResetHard_0=c.asm.Y).apply(null,arguments)},H=c._emscripten_bind_Cloudpilot_InstallDb_2=function(){return(H=c._emscripten_bind_Cloudpilot_InstallDb_2=c.asm.Z).apply(null,arguments)},be=c._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=function(){return(be=c._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=c.asm._).apply(null,arguments)},De=c._emscripten_bind_Cloudpilot_GetMemoryPtr_0=function(){return(De=c._emscripten_bind_Cloudpilot_GetMemoryPtr_0=c.asm.$).apply(null,arguments)},je=c._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=function(){return(je=c._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=c.asm.aa).apply(null,arguments)},Et=c._emscripten_bind_Cloudpilot_GetMemorySize_0=function(){return(Et=c._emscripten_bind_Cloudpilot_GetMemorySize_0=c.asm.ba).apply(null,arguments)},pn=c._emscripten_bind_Cloudpilot_ImportMemoryImage_2=function(){return(pn=c._emscripten_bind_Cloudpilot_ImportMemoryImage_2=c.asm.ca).apply(null,arguments)},An=c._emscripten_bind_Cloudpilot_GetRomPtr_0=function(){return(An=c._emscripten_bind_Cloudpilot_GetRomPtr_0=c.asm.da).apply(null,arguments)},xn=c._emscripten_bind_Cloudpilot_GetRomSize_0=function(){return(xn=c._emscripten_bind_Cloudpilot_GetRomSize_0=c.asm.ea).apply(null,arguments)},Gt=c._emscripten_bind_Cloudpilot_GetSavestatePtr_0=function(){return(Gt=c._emscripten_bind_Cloudpilot_GetSavestatePtr_0=c.asm.fa).apply(null,arguments)},Yt=c._emscripten_bind_Cloudpilot_GetSavestateSize_0=function(){return(Yt=c._emscripten_bind_Cloudpilot_GetSavestateSize_0=c.asm.ga).apply(null,arguments)},ne=c._emscripten_bind_Cloudpilot_SaveState_0=function(){return(ne=c._emscripten_bind_Cloudpilot_SaveState_0=c.asm.ha).apply(null,arguments)},Dr=c._emscripten_bind_Cloudpilot_LoadState_2=function(){return(Dr=c._emscripten_bind_Cloudpilot_LoadState_2=c.asm.ia).apply(null,arguments)},_n=c._emscripten_bind_Cloudpilot_GetHotsyncName_0=function(){return(_n=c._emscripten_bind_Cloudpilot_GetHotsyncName_0=c.asm.ja).apply(null,arguments)},Yr=c._emscripten_bind_Cloudpilot_SetHotsyncName_1=function(){return(Yr=c._emscripten_bind_Cloudpilot_SetHotsyncName_1=c.asm.ka).apply(null,arguments)},gt=c._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=function(){return(gt=c._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=c.asm.la).apply(null,arguments)},zt=c._emscripten_bind_Cloudpilot_StartBackup_0=function(){return(zt=c._emscripten_bind_Cloudpilot_StartBackup_0=c.asm.ma).apply(null,arguments)},Gr=c._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=function(){return(Gr=c._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=c.asm.na).apply(null,arguments)},fr=c._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=function(){return(fr=c._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=c.asm.oa).apply(null,arguments)},Vo=c._emscripten_bind_Cloudpilot_IsSuspended_0=function(){return(Vo=c._emscripten_bind_Cloudpilot_IsSuspended_0=c.asm.pa).apply(null,arguments)},Tn=c._emscripten_bind_Cloudpilot_GetSuspendContext_0=function(){return(Tn=c._emscripten_bind_Cloudpilot_GetSuspendContext_0=c.asm.qa).apply(null,arguments)},co=c._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=function(){return(co=c._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=c.asm.ra).apply(null,arguments)},Mo=c._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=function(){return(Mo=c._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=c.asm.sa).apply(null,arguments)},hd=c._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=function(){return(hd=c._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=c.asm.ta).apply(null,arguments)},Fi=c._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=function(){return(Fi=c._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=c.asm.ua).apply(null,arguments)},rs=c._emscripten_bind_Cloudpilot_LaunchAppByName_1=function(){return(rs=c._emscripten_bind_Cloudpilot_LaunchAppByName_1=c.asm.va).apply(null,arguments)},nr=c._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=function(){return(nr=c._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=c.asm.wa).apply(null,arguments)},Ba=c._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=function(){return(Ba=c._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=c.asm.xa).apply(null,arguments)},On=c._emscripten_bind_Cloudpilot_ClearExternalStorage_0=function(){return(On=c._emscripten_bind_Cloudpilot_ClearExternalStorage_0=c.asm.ya).apply(null,arguments)},bo=c._emscripten_bind_Cloudpilot_AllocateCard_2=function(){return(bo=c._emscripten_bind_Cloudpilot_AllocateCard_2=c.asm.za).apply(null,arguments)},uo=c._emscripten_bind_Cloudpilot_MountCard_1=function(){return(uo=c._emscripten_bind_Cloudpilot_MountCard_1=c.asm.Aa).apply(null,arguments)},lr=c._emscripten_bind_Cloudpilot_RemoveCard_1=function(){return(lr=c._emscripten_bind_Cloudpilot_RemoveCard_1=c.asm.Ba).apply(null,arguments)},Zt=c._emscripten_bind_Cloudpilot_GetCardData_1=function(){return(Zt=c._emscripten_bind_Cloudpilot_GetCardData_1=c.asm.Ca).apply(null,arguments)},zr=c._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=function(){return(zr=c._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=c.asm.Da).apply(null,arguments)},Ye=c._emscripten_bind_Cloudpilot_GetCardSize_1=function(){return(Ye=c._emscripten_bind_Cloudpilot_GetCardSize_1=c.asm.Ea).apply(null,arguments)},Tr=c._emscripten_bind_Cloudpilot_RemountCards_0=function(){return(Tr=c._emscripten_bind_Cloudpilot_RemountCards_0=c.asm.Fa).apply(null,arguments)},d=c._emscripten_bind_Cloudpilot_GetSupportLevel_1=function(){return(d=c._emscripten_bind_Cloudpilot_GetSupportLevel_1=c.asm.Ga).apply(null,arguments)},g=c._emscripten_bind_Cloudpilot_GetMountedKey_0=function(){return(g=c._emscripten_bind_Cloudpilot_GetMountedKey_0=c.asm.Ha).apply(null,arguments)},b=c._emscripten_bind_Cloudpilot___destroy___0=function(){return(b=c._emscripten_bind_Cloudpilot___destroy___0=c.asm.Ia).apply(null,arguments)},R=c._emscripten_bind_RomInfo_RomInfo_2=function(){return(R=c._emscripten_bind_RomInfo_RomInfo_2=c.asm.Ja).apply(null,arguments)},Z=c._emscripten_bind_RomInfo_IsValid_0=function(){return(Z=c._emscripten_bind_RomInfo_IsValid_0=c.asm.Ka).apply(null,arguments)},Q=c._emscripten_bind_RomInfo_CardVersion_0=function(){return(Q=c._emscripten_bind_RomInfo_CardVersion_0=c.asm.La).apply(null,arguments)},_e=c._emscripten_bind_RomInfo_CardName_0=function(){return(_e=c._emscripten_bind_RomInfo_CardName_0=c.asm.Ma).apply(null,arguments)},Ee=c._emscripten_bind_RomInfo_RomVersion_0=function(){return(Ee=c._emscripten_bind_RomInfo_RomVersion_0=c.asm.Na).apply(null,arguments)},yt=c._emscripten_bind_RomInfo_RomVersionString_0=function(){return(yt=c._emscripten_bind_RomInfo_RomVersionString_0=c.asm.Oa).apply(null,arguments)},Bt=c._emscripten_bind_RomInfo_Supports_1=function(){return(Bt=c._emscripten_bind_RomInfo_Supports_1=c.asm.Pa).apply(null,arguments)},Dn=c._emscripten_bind_RomInfo___destroy___0=function(){return(Dn=c._emscripten_bind_RomInfo___destroy___0=c.asm.Qa).apply(null,arguments)},wn=c._emscripten_bind_Frame_GetLineWidth_0=function(){return(wn=c._emscripten_bind_Frame_GetLineWidth_0=c.asm.Ra).apply(null,arguments)},Wt=c._emscripten_bind_Frame_GetBpp_0=function(){return(Wt=c._emscripten_bind_Frame_GetBpp_0=c.asm.Sa).apply(null,arguments)},st=c._emscripten_bind_Frame_GetLines_0=function(){return(st=c._emscripten_bind_Frame_GetLines_0=c.asm.Ta).apply(null,arguments)},Tt=c._emscripten_bind_Frame_GetMargin_0=function(){return(Tt=c._emscripten_bind_Frame_GetMargin_0=c.asm.Ua).apply(null,arguments)},Fn=c._emscripten_bind_Frame_GetBytesPerLine_0=function(){return(Fn=c._emscripten_bind_Frame_GetBytesPerLine_0=c.asm.Va).apply(null,arguments)},Ar=c._emscripten_bind_Frame_GetFirstDirtyLine_0=function(){return(Ar=c._emscripten_bind_Frame_GetFirstDirtyLine_0=c.asm.Wa).apply(null,arguments)},Lr=c._emscripten_bind_Frame_GetLastDirtyLine_0=function(){return(Lr=c._emscripten_bind_Frame_GetLastDirtyLine_0=c.asm.Xa).apply(null,arguments)},ft=c._emscripten_bind_Frame_GetHasChanges_0=function(){return(ft=c._emscripten_bind_Frame_GetHasChanges_0=c.asm.Ya).apply(null,arguments)},tn=c._emscripten_bind_Frame_GetBuffer_0=function(){return(tn=c._emscripten_bind_Frame_GetBuffer_0=c.asm.Za).apply(null,arguments)},Vn=c._emscripten_bind_Frame_GetBufferSize_0=function(){return(Vn=c._emscripten_bind_Frame_GetBufferSize_0=c.asm._a).apply(null,arguments)},pr=c._emscripten_bind_Frame_GetScaleX_0=function(){return(pr=c._emscripten_bind_Frame_GetScaleX_0=c.asm.$a).apply(null,arguments)},Uo=c._emscripten_bind_Frame_GetScaleY_0=function(){return(Uo=c._emscripten_bind_Frame_GetScaleY_0=c.asm.ab).apply(null,arguments)},an=c._emscripten_bind_Frame___destroy___0=function(){return(an=c._emscripten_bind_Frame___destroy___0=c.asm.bb).apply(null,arguments)},Uc=c._emscripten_bind_DbBackup_Init_1=function(){return(Uc=c._emscripten_bind_DbBackup_Init_1=c.asm.cb).apply(null,arguments)},wl=c._emscripten_bind_DbBackup_IsInProgress_0=function(){return(wl=c._emscripten_bind_DbBackup_IsInProgress_0=c.asm.db).apply(null,arguments)},md=c._emscripten_bind_DbBackup_IsDone_0=function(){return(md=c._emscripten_bind_DbBackup_IsDone_0=c.asm.eb).apply(null,arguments)},Va=c._emscripten_bind_DbBackup_GetCurrentDatabase_0=function(){return(Va=c._emscripten_bind_DbBackup_GetCurrentDatabase_0=c.asm.fb).apply(null,arguments)},jo=c._emscripten_bind_DbBackup_Save_0=function(){return(jo=c._emscripten_bind_DbBackup_Save_0=c.asm.gb).apply(null,arguments)},Cl=c._emscripten_bind_DbBackup_Skip_0=function(){return(Cl=c._emscripten_bind_DbBackup_Skip_0=c.asm.hb).apply(null,arguments)},Ua=c._emscripten_bind_DbBackup_GetArchivePtr_0=function(){return(Ua=c._emscripten_bind_DbBackup_GetArchivePtr_0=c.asm.ib).apply(null,arguments)},vs=c._emscripten_bind_DbBackup_GetArchiveSize_0=function(){return(vs=c._emscripten_bind_DbBackup_GetArchiveSize_0=c.asm.jb).apply(null,arguments)},Sl=c._emscripten_bind_DbBackup___destroy___0=function(){return(Sl=c._emscripten_bind_DbBackup___destroy___0=c.asm.kb).apply(null,arguments)},gd=c._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=function(){return(gd=c._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=c.asm.lb).apply(null,arguments)},Ir=c._emscripten_bind_SuspendContextClipboardCopy_Resume_0=function(){return(Ir=c._emscripten_bind_SuspendContextClipboardCopy_Resume_0=c.asm.mb).apply(null,arguments)},Wm=c._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=function(){return(Wm=c._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=c.asm.nb).apply(null,arguments)},jc=c._emscripten_bind_SuspendContextClipboardCopy___destroy___0=function(){return(jc=c._emscripten_bind_SuspendContextClipboardCopy___destroy___0=c.asm.ob).apply(null,arguments)},yd=c._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=function(){return(yd=c._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=c.asm.pb).apply(null,arguments)},tc=c._emscripten_bind_SuspendContextClipboardPaste_Resume_1=function(){return(tc=c._emscripten_bind_SuspendContextClipboardPaste_Resume_1=c.asm.qb).apply(null,arguments)},nc=c._emscripten_bind_SuspendContextClipboardPaste___destroy___0=function(){return(nc=c._emscripten_bind_SuspendContextClipboardPaste___destroy___0=c.asm.rb).apply(null,arguments)},ja=c._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=function(){return(ja=c._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=c.asm.sb).apply(null,arguments)},ei=c._emscripten_bind_SuspendContextNetworkConnect_Resume_1=function(){return(ei=c._emscripten_bind_SuspendContextNetworkConnect_Resume_1=c.asm.tb).apply(null,arguments)},Zm=c._emscripten_bind_SuspendContextNetworkConnect___destroy___0=function(){return(Zm=c._emscripten_bind_SuspendContextNetworkConnect___destroy___0=c.asm.ub).apply(null,arguments)},Di=c._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=function(){return(Di=c._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=c.asm.vb).apply(null,arguments)},os=c._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=function(){return(os=c._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=c.asm.wb).apply(null,arguments)},Hc=c._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=function(){return(Hc=c._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=c.asm.xb).apply(null,arguments)},El=c._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=function(){return(El=c._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=c.asm.yb).apply(null,arguments)},rc=c._emscripten_bind_SuspendContextNetworkRpc___destroy___0=function(){return(rc=c._emscripten_bind_SuspendContextNetworkRpc___destroy___0=c.asm.zb).apply(null,arguments)},is=c._emscripten_bind_SuspendContext_GetKind_0=function(){return(is=c._emscripten_bind_SuspendContext_GetKind_0=c.asm.Ab).apply(null,arguments)},_p=c._emscripten_bind_SuspendContext_Cancel_0=function(){return(_p=c._emscripten_bind_SuspendContext_Cancel_0=c.asm.Bb).apply(null,arguments)},qm=c._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=function(){return(qm=c._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=c.asm.Cb).apply(null,arguments)},vp=c._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=function(){return(vp=c._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=c.asm.Db).apply(null,arguments)},bp=c._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=function(){return(bp=c._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=c.asm.Eb).apply(null,arguments)},Km=c._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=function(){return(Km=c._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=c.asm.Fb).apply(null,arguments)},Ym=c._emscripten_bind_SuspendContext___destroy___0=function(){return(Ym=c._emscripten_bind_SuspendContext___destroy___0=c.asm.Gb).apply(null,arguments)},Xm=c._emscripten_bind_ZipfileWalker_ZipfileWalker_2=function(){return(Xm=c._emscripten_bind_ZipfileWalker_ZipfileWalker_2=c.asm.Hb).apply(null,arguments)},Qm=c._emscripten_bind_ZipfileWalker_GetState_0=function(){return(Qm=c._emscripten_bind_ZipfileWalker_GetState_0=c.asm.Ib).apply(null,arguments)},Jm=c._emscripten_bind_ZipfileWalker_Next_0=function(){return(Jm=c._emscripten_bind_ZipfileWalker_Next_0=c.asm.Jb).apply(null,arguments)},eg=c._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=function(){return(eg=c._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=c.asm.Kb).apply(null,arguments)},tg=c._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=function(){return(tg=c._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=c.asm.Lb).apply(null,arguments)},ng=c._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=function(){return(ng=c._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=c.asm.Mb).apply(null,arguments)},rg=c._emscripten_bind_ZipfileWalker___destroy___0=function(){return(rg=c._emscripten_bind_ZipfileWalker___destroy___0=c.asm.Nb).apply(null,arguments)},og=c._emscripten_bind_SessionImage_SessionImage_0=function(){return(og=c._emscripten_bind_SessionImage_SessionImage_0=c.asm.Ob).apply(null,arguments)},ig=c._emscripten_bind_SessionImage_GetDeviceId_0=function(){return(ig=c._emscripten_bind_SessionImage_GetDeviceId_0=c.asm.Pb).apply(null,arguments)},sg=c._emscripten_bind_SessionImage_SetDeviceId_1=function(){return(sg=c._emscripten_bind_SessionImage_SetDeviceId_1=c.asm.Qb).apply(null,arguments)},_d=c._emscripten_bind_SessionImage_GetRomImage_0=function(){return(_d=c._emscripten_bind_SessionImage_GetRomImage_0=c.asm.Rb).apply(null,arguments)},vd=c._emscripten_bind_SessionImage_GetRomImageSize_0=function(){return(vd=c._emscripten_bind_SessionImage_GetRomImageSize_0=c.asm.Sb).apply(null,arguments)},ag=c._emscripten_bind_SessionImage_SetRomImage_2=function(){return(ag=c._emscripten_bind_SessionImage_SetRomImage_2=c.asm.Tb).apply(null,arguments)},lg=c._emscripten_bind_SessionImage_GetMemoryImage_0=function(){return(lg=c._emscripten_bind_SessionImage_GetMemoryImage_0=c.asm.Ub).apply(null,arguments)},cg=c._emscripten_bind_SessionImage_GetMemoryImageSize_0=function(){return(cg=c._emscripten_bind_SessionImage_GetMemoryImageSize_0=c.asm.Vb).apply(null,arguments)},aa=c._emscripten_bind_SessionImage_SetMemoryImage_2=function(){return(aa=c._emscripten_bind_SessionImage_SetMemoryImage_2=c.asm.Wb).apply(null,arguments)},wp=c._emscripten_bind_SessionImage_GetMetadata_0=function(){return(wp=c._emscripten_bind_SessionImage_GetMetadata_0=c.asm.Xb).apply(null,arguments)},To=c._emscripten_bind_SessionImage_GetMetadataSize_0=function(){return(To=c._emscripten_bind_SessionImage_GetMetadataSize_0=c.asm.Yb).apply(null,arguments)},bd=c._emscripten_bind_SessionImage_SetMetadata_2=function(){return(bd=c._emscripten_bind_SessionImage_SetMetadata_2=c.asm.Zb).apply(null,arguments)},Cp=c._emscripten_bind_SessionImage_GetSavestate_0=function(){return(Cp=c._emscripten_bind_SessionImage_GetSavestate_0=c.asm._b).apply(null,arguments)},Sp=c._emscripten_bind_SessionImage_GetSavestateSize_0=function(){return(Sp=c._emscripten_bind_SessionImage_GetSavestateSize_0=c.asm.$b).apply(null,arguments)},wd=c._emscripten_bind_SessionImage_SetSavestate_2=function(){return(wd=c._emscripten_bind_SessionImage_SetSavestate_2=c.asm.ac).apply(null,arguments)},Cd=c._emscripten_bind_SessionImage_GetVersion_0=function(){return(Cd=c._emscripten_bind_SessionImage_GetVersion_0=c.asm.bc).apply(null,arguments)},Ep=c._emscripten_bind_SessionImage_Serialize_0=function(){return(Ep=c._emscripten_bind_SessionImage_Serialize_0=c.asm.cc).apply(null,arguments)},Gc=c._emscripten_bind_SessionImage_GetSerializedImage_0=function(){return(Gc=c._emscripten_bind_SessionImage_GetSerializedImage_0=c.asm.dc).apply(null,arguments)},Dp=c._emscripten_bind_SessionImage_GetSerializedImageSize_0=function(){return(Dp=c._emscripten_bind_SessionImage_GetSerializedImageSize_0=c.asm.ec).apply(null,arguments)},Oi=c._emscripten_bind_SessionImage_Deserialize_2=function(){return(Oi=c._emscripten_bind_SessionImage_Deserialize_2=c.asm.fc).apply(null,arguments)},Sd=c._emscripten_bind_SessionImage___destroy___0=function(){return(Sd=c._emscripten_bind_SessionImage___destroy___0=c.asm.gc).apply(null,arguments)};function Ni(l){var h=c._main;try{var U=h(0,0);return function it(l,h){ce=l,function Je(l){ce=l,function nn(){return Fe}()||(c.onExit&&c.onExit(l),at=!0),V(l,new Bn(l))}(l)}(U),U}catch(we){return function xe(l){if(l instanceof Bn||"unwind"==l)return ce;V(1,l)}(we)}}function kp(l){function h(){Ha||(Ha=!0,c.calledRun=!0,!at&&(function vn(){!c.noFSInit&&!D.init.initialized&&D.init(),D.ignorePermissions=!1,jt.init(),Kt(Re)}(),function dr(){Kt(Mt)}(),oe(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),Ed&&Ni(),function Xn(){if(c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;)l=c.postRun.shift(),cn.unshift(l);var l;Kt(cn)}()))}l=l||J,Rn>0||(function z(){if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)l=c.preRun.shift(),ht.unshift(l);var l;Kt(ht)}(),Rn>0)||(c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),h()},1)):h())}if(c.___original_main=function(){return(c.___original_main=c.asm.ic).apply(null,arguments)},c.___start_em_js=244003,c.___stop_em_js=244200,c.UTF8ToString=$e,c.addFunction=function Si(l,h){if(br||(br=new WeakMap,function di(l,h){if(br)for(var v=l;v<l+h;v++){var M=Io(v);M&&br.set(M,v)}}(0,ve.length)),br.has(l))return br.get(l);var v=function Oa(){if(ts.length)return ts.pop();try{ve.grow(1)}catch(l){throw l instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":l}return ve.length-1}();try{Na(v,l)}catch(U){if(!(U instanceof TypeError))throw U;Na(v,function Do(l,h){if("function"==typeof WebAssembly.Function)return new WebAssembly.Function(function St(l){for(var h={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},v={parameters:[],results:"v"==l[0]?[]:[h[l[0]]]},M=1;M<l.length;++M)v.parameters.push(h[l[M]]),"j"===l[M]&&v.parameters.push("i32");return v}(h),l);var v=[1];!function fn(l,h){var v=l.slice(0,1),M=l.slice(1),U={i:127,p:127,j:126,f:125,d:124};h.push(96),Ht(M.length,h);for(var we=0;we<M.length;++we)h.push(U[M[we]]);"v"==v?h.push(0):h.push(1,U[v])}(h,v);var M=[0,97,115,109,1,0,0,0,1];Ht(v.length,M),M.push.apply(M,v),M.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var U=new WebAssembly.Module(new Uint8Array(M));return new WebAssembly.Instance(U,{e:{f:l}}).exports.f}(l,h))}return br.set(l,v),v},jn=function l(){Ha||kp(),Ha||(jn=l)},c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);c.preInit.length>0;)c.preInit.pop()();var Ed=!0;function wr(){}function wo(l){return(l||wr).__cache__}function cr(l,h){var v=wo(h),M=v[l];return M||((M=Object.create((h||wr).prototype)).ptr=l,v[l]=M)}c.noInitialRun&&(Ed=!1),kp(),(wr.prototype=Object.create(wr.prototype)).constructor=wr,wr.prototype.__class__=wr,wr.__cache__={},c.WrapperObject=wr,c.getCache=wo,c.wrapPointer=cr,c.castObject=function zc(l,h){return cr(l.ptr,h)},c.NULL=cr(0),c.destroy=function ug(l){if(!l.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";l.__destroy__(),delete wo(l.__class__)[l.ptr]},c.compare=function la(l,h){return l.ptr===h.ptr},c.getPointer=function Mp(l){return l.ptr},c.getClass=function Dd(l){return l.__class__};var Dt={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(Dt.needed){for(var l=0;l<Dt.temps.length;l++)c._free(Dt.temps[l]);Dt.temps.length=0,c._free(Dt.buffer),Dt.buffer=0,Dt.size+=Dt.needed,Dt.needed=0}Dt.buffer||(Dt.size+=128,Dt.buffer=c._malloc(Dt.size),Ce(Dt.buffer)),Dt.pos=0},alloc:function(l,h){Ce(Dt.buffer);var U,M=l.length*h.BYTES_PER_ELEMENT;return Dt.pos+(M=M+7&-8)>=Dt.size?(Ce(M>0),Dt.needed+=M,U=c._malloc(M),Dt.temps.push(U)):(U=Dt.buffer+Dt.pos,Dt.pos+=M),U},copy:function(l,h,v){switch(v>>>=0,h.BYTES_PER_ELEMENT){case 2:v>>>=1;break;case 4:v>>>=2;break;case 8:v>>>=3}for(var U=0;U<l.length;U++)h[v+U]=l[U]}};function Ho(l){if("string"==typeof l){var h=un(l),v=Dt.alloc(h,Qe);return Dt.copy(h,Qe,v),v}return l}function xr(){throw"cannot construct a VoidPtr, no constructor in IDL"}function tt(){this.ptr=vl(),wo(tt)[this.ptr]=this}function Xr(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),this.ptr=R(l,h),wo(Xr)[this.ptr]=this}function rr(){throw"cannot construct a Frame, no constructor in IDL"}function Cr(){throw"cannot construct a DbBackup, no constructor in IDL"}function ni(){throw"cannot construct a SuspendContextClipboardCopy, no constructor in IDL"}function Ii(){throw"cannot construct a SuspendContextClipboardPaste, no constructor in IDL"}function ct(){throw"cannot construct a SuspendContextNetworkConnect, no constructor in IDL"}function bn(){throw"cannot construct a SuspendContextNetworkRpc, no constructor in IDL"}function At(){throw"cannot construct a SuspendContext, no constructor in IDL"}function Pt(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),this.ptr=Xm(l,h),wo(Pt)[this.ptr]=this}function Ut(){this.ptr=og(),wo(Ut)[this.ptr]=this}return(xr.prototype=Object.create(wr.prototype)).constructor=xr,xr.prototype.__class__=xr,xr.__cache__={},c.VoidPtr=xr,xr.prototype.__destroy__=xr.prototype.__destroy__=function(){Zn(this.ptr)},(tt.prototype=Object.create(wr.prototype)).constructor=tt,tt.prototype.__class__=tt,tt.__cache__={},c.Cloudpilot=tt,tt.prototype.Malloc=tt.prototype.Malloc=function(l){return l&&"object"==typeof l&&(l=l.ptr),cr(bl(this.ptr,l),xr)},tt.prototype.Free=tt.prototype.Free=function(l){l&&"object"==typeof l&&(l=l.ptr),ec(this.ptr,l)},tt.prototype.Nullptr=tt.prototype.Nullptr=function(){return cr(mt(this.ptr),xr)},tt.prototype.InitializeSession=tt.prototype.InitializeSession=function(l,h,v){var M=this.ptr;return Dt.prepare(),l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),v=v&&"object"==typeof v?v.ptr:Ho(v),!!Hs(M,l,h,v)},tt.prototype.GetCyclesPerSecond=tt.prototype.GetCyclesPerSecond=function(){return gr(this.ptr)},tt.prototype.RunEmulation=tt.prototype.RunEmulation=function(l){return l&&"object"==typeof l&&(l=l.ptr),_s(this.ptr,l)},tt.prototype.SetClockFactor=tt.prototype.SetClockFactor=function(l){l&&"object"==typeof l&&(l=l.ptr),oa(this.ptr,l)},tt.prototype.CopyFrame=tt.prototype.CopyFrame=function(){return cr(to(this.ptr),rr)},tt.prototype.IsScreenDirty=tt.prototype.IsScreenDirty=function(){return!!ns(this.ptr)},tt.prototype.MarkScreenClean=tt.prototype.MarkScreenClean=function(){Ei(this.ptr)},tt.prototype.MinMemoryForDevice=tt.prototype.MinMemoryForDevice=function(l){var h=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ho(l),ia(h,l)},tt.prototype.FramebufferSizeForDevice=tt.prototype.FramebufferSizeForDevice=function(l){var h=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ho(l),Rs(h,l)},tt.prototype.TotalMemoryForDevice=tt.prototype.TotalMemoryForDevice=function(l){var h=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ho(l),Gs(h,l)},tt.prototype.QueuePenMove=tt.prototype.QueuePenMove=function(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),sa(this.ptr,l,h)},tt.prototype.QueuePenUp=tt.prototype.QueuePenUp=function(){$a(this.ptr)},tt.prototype.QueueButtonDown=tt.prototype.QueueButtonDown=function(l){l&&"object"==typeof l&&(l=l.ptr),kt(this.ptr,l)},tt.prototype.QueueButtonUp=tt.prototype.QueueButtonUp=function(l){l&&"object"==typeof l&&(l=l.ptr),zs(this.ptr,l)},tt.prototype.QueueKeyboardEvent=tt.prototype.QueueKeyboardEvent=function(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),lo(this.ptr,l,h)},tt.prototype.IsPowerOff=tt.prototype.IsPowerOff=function(){return!!ir(this.ptr)},tt.prototype.IsUIInitialized=tt.prototype.IsUIInitialized=function(){return!!Hr(this.ptr)},tt.prototype.GetOSVersion=tt.prototype.GetOSVersion=function(){return Mr(this.ptr)},tt.prototype.IsSetupComplete=tt.prototype.IsSetupComplete=function(){return!!p(this.ptr)},tt.prototype.Reset=tt.prototype.Reset=function(){y(this.ptr)},tt.prototype.ResetNoExtensions=tt.prototype.ResetNoExtensions=function(){w(this.ptr)},tt.prototype.ResetHard=tt.prototype.ResetHard=function(){F(this.ptr)},tt.prototype.InstallDb=tt.prototype.InstallDb=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),H(this.ptr,l,h)},tt.prototype.GetPalette2bitMapping=tt.prototype.GetPalette2bitMapping=function(){return be(this.ptr)},tt.prototype.GetMemoryPtr=tt.prototype.GetMemoryPtr=function(){return cr(De(this.ptr),xr)},tt.prototype.GetDirtyPagesPtr=tt.prototype.GetDirtyPagesPtr=function(){return cr(je(this.ptr),xr)},tt.prototype.GetMemorySize=tt.prototype.GetMemorySize=function(){return Et(this.ptr)},tt.prototype.ImportMemoryImage=tt.prototype.ImportMemoryImage=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!pn(this.ptr,l,h)},tt.prototype.GetRomPtr=tt.prototype.GetRomPtr=function(){return cr(An(this.ptr),xr)},tt.prototype.GetRomSize=tt.prototype.GetRomSize=function(){return xn(this.ptr)},tt.prototype.GetSavestatePtr=tt.prototype.GetSavestatePtr=function(){return cr(Gt(this.ptr),xr)},tt.prototype.GetSavestateSize=tt.prototype.GetSavestateSize=function(){return Yt(this.ptr)},tt.prototype.SaveState=tt.prototype.SaveState=function(){return!!ne(this.ptr)},tt.prototype.LoadState=tt.prototype.LoadState=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!Dr(this.ptr,l,h)},tt.prototype.GetHotsyncName=tt.prototype.GetHotsyncName=function(){return $e(_n(this.ptr))},tt.prototype.SetHotsyncName=tt.prototype.SetHotsyncName=function(l){var h=this.ptr;Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ho(l),Yr(h,l)},tt.prototype.RegisterPwmHandler=tt.prototype.RegisterPwmHandler=function(l){l&&"object"==typeof l&&(l=l.ptr),gt(this.ptr,l)},tt.prototype.StartBackup=tt.prototype.StartBackup=function(){return cr(zt(this.ptr),Cr)},tt.prototype.SetClipboardIntegration=tt.prototype.SetClipboardIntegration=function(l){l&&"object"==typeof l&&(l=l.ptr),Gr(this.ptr,l)},tt.prototype.GetClipboardIntegration=tt.prototype.GetClipboardIntegration=function(){return!!fr(this.ptr)},tt.prototype.IsSuspended=tt.prototype.IsSuspended=function(){return!!Vo(this.ptr)},tt.prototype.GetSuspendContext=tt.prototype.GetSuspendContext=function(){return cr(Tn(this.ptr),At)},tt.prototype.SetNetworkRedirection=tt.prototype.SetNetworkRedirection=function(l){l&&"object"==typeof l&&(l=l.ptr),co(this.ptr,l)},tt.prototype.GetNetworkRedirection=tt.prototype.GetNetworkRedirection=function(){return!!Mo(this.ptr)},tt.prototype.RegisterProxyDisconnectHandler=tt.prototype.RegisterProxyDisconnectHandler=function(l){l&&"object"==typeof l&&(l=l.ptr),hd(this.ptr,l)},tt.prototype.SetHotsyncNameManagement=tt.prototype.SetHotsyncNameManagement=function(l){l&&"object"==typeof l&&(l=l.ptr),Fi(this.ptr,l)},tt.prototype.LaunchAppByName=tt.prototype.LaunchAppByName=function(l){var h=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ho(l),!!rs(h,l)},tt.prototype.LaunchAppByDbHeader=tt.prototype.LaunchAppByDbHeader=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!nr(this.ptr,l,h)},tt.prototype.DeviceSupportsCardSize=tt.prototype.DeviceSupportsCardSize=function(l){return l&&"object"==typeof l&&(l=l.ptr),!!Ba(this.ptr,l)},tt.prototype.ClearExternalStorage=tt.prototype.ClearExternalStorage=function(){On(this.ptr)},tt.prototype.AllocateCard=tt.prototype.AllocateCard=function(l,h){var v=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ho(l),h&&"object"==typeof h&&(h=h.ptr),!!bo(v,l,h)},tt.prototype.MountCard=tt.prototype.MountCard=function(l){var h=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ho(l),!!uo(h,l)},tt.prototype.RemoveCard=tt.prototype.RemoveCard=function(l){var h=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ho(l),!!lr(h,l)},tt.prototype.GetCardData=tt.prototype.GetCardData=function(l){var h=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ho(l),cr(Zt(h,l),xr)},tt.prototype.GetCardDirtyPages=tt.prototype.GetCardDirtyPages=function(l){var h=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ho(l),cr(zr(h,l),xr)},tt.prototype.GetCardSize=tt.prototype.GetCardSize=function(l){var h=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ho(l),Ye(h,l)},tt.prototype.RemountCards=tt.prototype.RemountCards=function(){Tr(this.ptr)},tt.prototype.GetSupportLevel=tt.prototype.GetSupportLevel=function(l){return l&&"object"==typeof l&&(l=l.ptr),d(this.ptr,l)},tt.prototype.GetMountedKey=tt.prototype.GetMountedKey=function(){return $e(g(this.ptr))},tt.prototype.__destroy__=tt.prototype.__destroy__=function(){b(this.ptr)},(Xr.prototype=Object.create(wr.prototype)).constructor=Xr,Xr.prototype.__class__=Xr,Xr.__cache__={},c.RomInfo=Xr,Xr.prototype.IsValid=Xr.prototype.IsValid=function(){return!!Z(this.ptr)},Xr.prototype.CardVersion=Xr.prototype.CardVersion=function(){return Q(this.ptr)},Xr.prototype.CardName=Xr.prototype.CardName=function(){return $e(_e(this.ptr))},Xr.prototype.RomVersion=Xr.prototype.RomVersion=function(){return Ee(this.ptr)},Xr.prototype.RomVersionString=Xr.prototype.RomVersionString=function(){return $e(yt(this.ptr))},Xr.prototype.Supports=Xr.prototype.Supports=function(l){var h=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ho(l),!!Bt(h,l)},Xr.prototype.__destroy__=Xr.prototype.__destroy__=function(){Dn(this.ptr)},(rr.prototype=Object.create(wr.prototype)).constructor=rr,rr.prototype.__class__=rr,rr.__cache__={},c.Frame=rr,rr.prototype.GetLineWidth=rr.prototype.GetLineWidth=function(){return wn(this.ptr)},rr.prototype.GetBpp=rr.prototype.GetBpp=function(){return Wt(this.ptr)},rr.prototype.GetLines=rr.prototype.GetLines=function(){return st(this.ptr)},rr.prototype.GetMargin=rr.prototype.GetMargin=function(){return Tt(this.ptr)},rr.prototype.GetBytesPerLine=rr.prototype.GetBytesPerLine=function(){return Fn(this.ptr)},rr.prototype.GetFirstDirtyLine=rr.prototype.GetFirstDirtyLine=function(){return Ar(this.ptr)},rr.prototype.GetLastDirtyLine=rr.prototype.GetLastDirtyLine=function(){return Lr(this.ptr)},rr.prototype.GetHasChanges=rr.prototype.GetHasChanges=function(){return!!ft(this.ptr)},rr.prototype.GetBuffer=rr.prototype.GetBuffer=function(){return cr(tn(this.ptr),xr)},rr.prototype.GetBufferSize=rr.prototype.GetBufferSize=function(){return Vn(this.ptr)},rr.prototype.GetScaleX=rr.prototype.GetScaleX=function(){return pr(this.ptr)},rr.prototype.GetScaleY=rr.prototype.GetScaleY=function(){return Uo(this.ptr)},rr.prototype.__destroy__=rr.prototype.__destroy__=function(){an(this.ptr)},(Cr.prototype=Object.create(wr.prototype)).constructor=Cr,Cr.prototype.__class__=Cr,Cr.__cache__={},c.DbBackup=Cr,Cr.prototype.Init=Cr.prototype.Init=function(l){return l&&"object"==typeof l&&(l=l.ptr),!!Uc(this.ptr,l)},Cr.prototype.IsInProgress=Cr.prototype.IsInProgress=function(){return!!wl(this.ptr)},Cr.prototype.IsDone=Cr.prototype.IsDone=function(){return!!md(this.ptr)},Cr.prototype.GetCurrentDatabase=Cr.prototype.GetCurrentDatabase=function(){return $e(Va(this.ptr))},Cr.prototype.Save=Cr.prototype.Save=function(){return!!jo(this.ptr)},Cr.prototype.Skip=Cr.prototype.Skip=function(){Cl(this.ptr)},Cr.prototype.GetArchivePtr=Cr.prototype.GetArchivePtr=function(){return cr(Ua(this.ptr),xr)},Cr.prototype.GetArchiveSize=Cr.prototype.GetArchiveSize=function(){return vs(this.ptr)},Cr.prototype.__destroy__=Cr.prototype.__destroy__=function(){Sl(this.ptr)},(ni.prototype=Object.create(wr.prototype)).constructor=ni,ni.prototype.__class__=ni,ni.__cache__={},c.SuspendContextClipboardCopy=ni,ni.prototype.Cancel=ni.prototype.Cancel=function(){gd(this.ptr)},ni.prototype.Resume=ni.prototype.Resume=function(){Ir(this.ptr)},ni.prototype.GetClipboardContent=ni.prototype.GetClipboardContent=function(){return $e(Wm(this.ptr))},ni.prototype.__destroy__=ni.prototype.__destroy__=function(){jc(this.ptr)},(Ii.prototype=Object.create(wr.prototype)).constructor=Ii,Ii.prototype.__class__=Ii,Ii.__cache__={},c.SuspendContextClipboardPaste=Ii,Ii.prototype.Cancel=Ii.prototype.Cancel=function(){yd(this.ptr)},Ii.prototype.Resume=Ii.prototype.Resume=function(l){var h=this.ptr;Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ho(l),tc(h,l)},Ii.prototype.__destroy__=Ii.prototype.__destroy__=function(){nc(this.ptr)},(ct.prototype=Object.create(wr.prototype)).constructor=ct,ct.prototype.__class__=ct,ct.__cache__={},c.SuspendContextNetworkConnect=ct,ct.prototype.Cancel=ct.prototype.Cancel=function(){ja(this.ptr)},ct.prototype.Resume=ct.prototype.Resume=function(l){var h=this.ptr;Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ho(l),ei(h,l)},ct.prototype.__destroy__=ct.prototype.__destroy__=function(){Zm(this.ptr)},(bn.prototype=Object.create(wr.prototype)).constructor=bn,bn.prototype.__class__=bn,bn.__cache__={},c.SuspendContextNetworkRpc=bn,bn.prototype.Cancel=bn.prototype.Cancel=function(){Di(this.ptr)},bn.prototype.GetRequestSize=bn.prototype.GetRequestSize=function(){return os(this.ptr)},bn.prototype.GetRequestData=bn.prototype.GetRequestData=function(){return cr(Hc(this.ptr),xr)},bn.prototype.ReceiveResponse=bn.prototype.ReceiveResponse=function(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),El(this.ptr,l,h)},bn.prototype.__destroy__=bn.prototype.__destroy__=function(){rc(this.ptr)},(At.prototype=Object.create(wr.prototype)).constructor=At,At.prototype.__class__=At,At.__cache__={},c.SuspendContext=At,At.prototype.GetKind=At.prototype.GetKind=function(){return is(this.ptr)},At.prototype.Cancel=At.prototype.Cancel=function(){_p(this.ptr)},At.prototype.AsContextClipboardCopy=At.prototype.AsContextClipboardCopy=function(){return cr(qm(this.ptr),ni)},At.prototype.AsContextClipboardPaste=At.prototype.AsContextClipboardPaste=function(){return cr(vp(this.ptr),Ii)},At.prototype.AsContextNetworkConnect=At.prototype.AsContextNetworkConnect=function(){return cr(bp(this.ptr),ct)},At.prototype.AsContextNetworkRpc=At.prototype.AsContextNetworkRpc=function(){return cr(Km(this.ptr),bn)},At.prototype.__destroy__=At.prototype.__destroy__=function(){Ym(this.ptr)},(Pt.prototype=Object.create(wr.prototype)).constructor=Pt,Pt.prototype.__class__=Pt,Pt.__cache__={},c.ZipfileWalker=Pt,Pt.prototype.GetState=Pt.prototype.GetState=function(){return Qm(this.ptr)},Pt.prototype.Next=Pt.prototype.Next=function(){return Jm(this.ptr)},Pt.prototype.GetCurrentEntrySize=Pt.prototype.GetCurrentEntrySize=function(){return eg(this.ptr)},Pt.prototype.GetCurrentEntryName=Pt.prototype.GetCurrentEntryName=function(){return $e(tg(this.ptr))},Pt.prototype.GetCurrentEntryContent=Pt.prototype.GetCurrentEntryContent=function(){return cr(ng(this.ptr),xr)},Pt.prototype.__destroy__=Pt.prototype.__destroy__=function(){rg(this.ptr)},(Ut.prototype=Object.create(wr.prototype)).constructor=Ut,Ut.prototype.__class__=Ut,Ut.__cache__={},c.SessionImage=Ut,Ut.prototype.GetDeviceId=Ut.prototype.GetDeviceId=function(){return $e(ig(this.ptr))},Ut.prototype.SetDeviceId=Ut.prototype.SetDeviceId=function(l){var h=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ho(l),cr(sg(h,l),Ut)},Ut.prototype.GetRomImage=Ut.prototype.GetRomImage=function(){return cr(_d(this.ptr),xr)},Ut.prototype.GetRomImageSize=Ut.prototype.GetRomImageSize=function(){return vd(this.ptr)},Ut.prototype.SetRomImage=Ut.prototype.SetRomImage=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),cr(ag(this.ptr,l,h),Ut)},Ut.prototype.GetMemoryImage=Ut.prototype.GetMemoryImage=function(){return cr(lg(this.ptr),xr)},Ut.prototype.GetMemoryImageSize=Ut.prototype.GetMemoryImageSize=function(){return cg(this.ptr)},Ut.prototype.SetMemoryImage=Ut.prototype.SetMemoryImage=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),cr(aa(this.ptr,l,h),Ut)},Ut.prototype.GetMetadata=Ut.prototype.GetMetadata=function(){return cr(wp(this.ptr),xr)},Ut.prototype.GetMetadataSize=Ut.prototype.GetMetadataSize=function(){return To(this.ptr)},Ut.prototype.SetMetadata=Ut.prototype.SetMetadata=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),cr(bd(this.ptr,l,h),Ut)},Ut.prototype.GetSavestate=Ut.prototype.GetSavestate=function(){return cr(Cp(this.ptr),xr)},Ut.prototype.GetSavestateSize=Ut.prototype.GetSavestateSize=function(){return Sp(this.ptr)},Ut.prototype.SetSavestate=Ut.prototype.SetSavestate=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),cr(wd(this.ptr,l,h),Ut)},Ut.prototype.GetVersion=Ut.prototype.GetVersion=function(){return Cd(this.ptr)},Ut.prototype.Serialize=Ut.prototype.Serialize=function(){return!!Ep(this.ptr)},Ut.prototype.GetSerializedImage=Ut.prototype.GetSerializedImage=function(){return cr(Gc(this.ptr),xr)},Ut.prototype.GetSerializedImageSize=Ut.prototype.GetSerializedImageSize=function(){return Dp(this.ptr)},Ut.prototype.Deserialize=Ut.prototype.Deserialize=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!Oi(this.ptr,l,h)},Ut.prototype.__destroy__=Ut.prototype.__destroy__=function(){Sd(this.ptr)},I.ready});Be.exports=ze},9084:Be=>{var x,ze=(x=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(I){var oe,te,c=typeof(I=I||{})<"u"?I:{};c.ready=new Promise(function(p,y){oe=p,te=y});var j,Pe,Le,G=Object.assign({},c),J=[],L="./this.program",V=(p,y)=>{throw y},ue="object"==typeof window,Y="function"==typeof importScripts,B=("object"==typeof process&&"object"==typeof process.versions&&process,"");(ue||Y)&&(Y?B=self.location.href:typeof document<"u"&&document.currentScript&&(B=document.currentScript.src),x&&(B=x),B=0!==B.indexOf("blob:")?B.substr(0,B.replace(/[?#].*/,"").lastIndexOf("/")+1):"",j=p=>{var y=new XMLHttpRequest;return y.open("GET",p,!1),y.send(null),y.responseText},Y&&(Le=p=>{var y=new XMLHttpRequest;return y.open("GET",p,!1),y.responseType="arraybuffer",y.send(null),new Uint8Array(y.response)}),Pe=(p,y,w)=>{var F=new XMLHttpRequest;F.open("GET",p,!0),F.responseType="arraybuffer",F.onload=()=>{200==F.status||0==F.status&&F.response?y(F.response):w()},F.onerror=w,F.send(null)});var pe,W=c.print||console.log.bind(console),K=c.printErr||console.warn.bind(console);Object.assign(c,G),G=null,c.arguments&&(J=c.arguments),c.thisProgram&&(L=c.thisProgram),c.quit&&(V=c.quit),c.wasmBinary&&(pe=c.wasmBinary);var Fe=c.noExitRuntime||!0;"object"!=typeof WebAssembly&&or("no native wasm support detected");var de,ce,at=!1;function Ce(p,y){p||or(y)}var Ue,Qe,vt,O,ye,rt,Ie=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Xe(p,y,w){for(var F=y+w,H=y;p[H]&&!(H>=F);)++H;if(H-y>16&&p.buffer&&Ie)return Ie.decode(p.subarray(y,H));for(var be="";y<H;){var De=p[y++];if(128&De){var je=63&p[y++];if(192!=(224&De)){var Et=63&p[y++];if((De=224==(240&De)?(15&De)<<12|je<<6|Et:(7&De)<<18|je<<12|Et<<6|63&p[y++])<65536)be+=String.fromCharCode(De);else{var pn=De-65536;be+=String.fromCharCode(55296|pn>>10,56320|1023&pn)}}else be+=String.fromCharCode((31&De)<<6|je)}else be+=String.fromCharCode(De)}return be}function $e(p,y){return p?Xe(vt,p,y):""}function Te(p,y,w,F){if(!(F>0))return 0;for(var H=w,be=w+F-1,De=0;De<p.length;++De){var je=p.charCodeAt(De);if(je>=55296&&je<=57343&&(je=65536+((1023&je)<<10)|1023&p.charCodeAt(++De)),je<=127){if(w>=be)break;y[w++]=je}else if(je<=2047){if(w+1>=be)break;y[w++]=192|je>>6,y[w++]=128|63&je}else if(je<=65535){if(w+2>=be)break;y[w++]=224|je>>12,y[w++]=128|je>>6&63,y[w++]=128|63&je}else{if(w+3>=be)break;y[w++]=240|je>>18,y[w++]=128|je>>12&63,y[w++]=128|je>>6&63,y[w++]=128|63&je}}return y[w]=0,w-H}function re(p){for(var y=0,w=0;w<p.length;++w){var F=p.charCodeAt(w);F<=127?y++:F<=2047?y+=2:F>=55296&&F<=57343?(y+=4,++w):y+=3}return y}function Ve(p){Ue=p,c.HEAP8=Qe=new Int8Array(p),c.HEAP16=new Int16Array(p),c.HEAP32=O=new Int32Array(p),c.HEAPU8=vt=new Uint8Array(p),c.HEAPU16=new Uint16Array(p),c.HEAPU32=ye=new Uint32Array(p),c.HEAPF32=new Float32Array(p),c.HEAPF64=rt=new Float64Array(p)}var mn,ht=[],Re=[],Mt=[],cn=[],Rn=0,so=null,jn=null;function Ur(p){Rn++,c.monitorRunDependencies&&c.monitorRunDependencies(Rn)}function kr(p){if(Rn--,c.monitorRunDependencies&&c.monitorRunDependencies(Rn),0==Rn&&(null!==so&&(clearInterval(so),so=null),jn)){var y=jn;jn=null,y()}}function or(p){c.onAbort&&c.onAbort(p),K(p="Aborted("+p+")"),at=!0,ce=1,p+=". Build with -sASSERTIONS for more info.";var y=new WebAssembly.RuntimeError(p);throw te(y),y}function Qr(p){return p.startsWith("data:application/octet-stream;base64,")}function Zr(p){try{if(p==mn&&pe)return new Uint8Array(pe);if(Le)return Le(p);throw"both async and sync fetching of the wasm failed"}catch(y){or(y)}}Qr(mn="fstools_web.wasm")||(mn=function $(p){return c.locateFile?c.locateFile(p,B):B+p}(mn));var ut,le,Ge={40318:()=>{throw new Error("terminated")}};function Pn(p){this.name="ExitStatus",this.message="Program terminated with exit("+p+")",this.status=p}function Bn(p){for(;p.length>0;)p.shift()(c)}var Kt={isAbs:p=>"/"===p.charAt(0),splitPath:p=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(p).slice(1),normalizeArray:(p,y)=>{for(var w=0,F=p.length-1;F>=0;F--){var H=p[F];"."===H?p.splice(F,1):".."===H?(p.splice(F,1),w++):w&&(p.splice(F,1),w--)}if(y)for(;w;w--)p.unshift("..");return p},normalize:p=>{var y=Kt.isAbs(p),w="/"===p.substr(-1);return!(p=Kt.normalizeArray(p.split("/").filter(F=>!!F),!y).join("/"))&&!y&&(p="."),p&&w&&(p+="/"),(y?"/":"")+p},dirname:p=>{var y=Kt.splitPath(p),w=y[0],F=y[1];return w||F?(F&&(F=F.substr(0,F.length-1)),w+F):"."},basename:p=>{if("/"===p)return"/";var y=(p=(p=Kt.normalize(p)).replace(/\/$/,"")).lastIndexOf("/");return-1===y?p:p.substr(y+1)},join:function(){var p=Array.prototype.slice.call(arguments);return Kt.normalize(p.join("/"))},join2:(p,y)=>Kt.normalize(p+"/"+y)},hr={resolve:function(){for(var p="",y=!1,w=arguments.length-1;w>=-1&&!y;w--){var F=w>=0?arguments[w]:E.cwd();if("string"!=typeof F)throw new TypeError("Arguments to path.resolve must be strings");if(!F)return"";p=F+"/"+p,y=Kt.isAbs(F)}return(y?"/":"")+(p=Kt.normalizeArray(p.split("/").filter(H=>!!H),!y).join("/"))||"."},relative:(p,y)=>{function w(pn){for(var An=0;An<pn.length&&""===pn[An];An++);for(var xn=pn.length-1;xn>=0&&""===pn[xn];xn--);return An>xn?[]:pn.slice(An,xn-An+1)}p=hr.resolve(p).substr(1),y=hr.resolve(y).substr(1);for(var F=w(p.split("/")),H=w(y.split("/")),be=Math.min(F.length,H.length),De=be,je=0;je<be;je++)if(F[je]!==H[je]){De=je;break}var Et=[];for(je=De;je<F.length;je++)Et.push("..");return(Et=Et.concat(H.slice(De))).join("/")}};function en(p,y,w){var F=w>0?w:re(p)+1,H=new Array(F),be=Te(p,H,0,H.length);return y&&(H.length=be),H}var Qn={ttys:[],init:function(){},shutdown:function(){},register:function(p,y){Qn.ttys[p]={input:[],output:[],ops:y},E.registerDevice(p,Qn.stream_ops)},stream_ops:{open:function(p){var y=Qn.ttys[p.node.rdev];if(!y)throw new E.ErrnoError(43);p.tty=y,p.seekable=!1},close:function(p){p.tty.ops.fsync(p.tty)},fsync:function(p){p.tty.ops.fsync(p.tty)},read:function(p,y,w,F,H){if(!p.tty||!p.tty.ops.get_char)throw new E.ErrnoError(60);for(var be=0,De=0;De<F;De++){var je;try{je=p.tty.ops.get_char(p.tty)}catch{throw new E.ErrnoError(29)}if(void 0===je&&0===be)throw new E.ErrnoError(6);if(null==je)break;be++,y[w+De]=je}return be&&(p.node.timestamp=Date.now()),be},write:function(p,y,w,F,H){if(!p.tty||!p.tty.ops.put_char)throw new E.ErrnoError(60);try{for(var be=0;be<F;be++)p.tty.ops.put_char(p.tty,y[w+be])}catch{throw new E.ErrnoError(29)}return F&&(p.node.timestamp=Date.now()),be}},default_tty_ops:{get_char:function(p){if(!p.input.length){var y=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(y=window.prompt("Input: "))&&(y+="\n"):"function"==typeof readline&&null!==(y=readline())&&(y+="\n"),!y)return null;p.input=en(y,!0)}return p.input.shift()},put_char:function(p,y){null===y||10===y?(W(Xe(p.output,0)),p.output=[]):0!=y&&p.output.push(y)},fsync:function(p){p.output&&p.output.length>0&&(W(Xe(p.output,0)),p.output=[])}},default_tty1_ops:{put_char:function(p,y){null===y||10===y?(K(Xe(p.output,0)),p.output=[]):0!=y&&p.output.push(y)},fsync:function(p){p.output&&p.output.length>0&&(K(Xe(p.output,0)),p.output=[])}}};function Jn(p){or()}var un={ops_table:null,mount:function(p){return un.createNode(null,"/",16895,0)},createNode:function(p,y,w,F){if(E.isBlkdev(w)||E.isFIFO(w))throw new E.ErrnoError(63);un.ops_table||(un.ops_table={dir:{node:{getattr:un.node_ops.getattr,setattr:un.node_ops.setattr,lookup:un.node_ops.lookup,mknod:un.node_ops.mknod,rename:un.node_ops.rename,unlink:un.node_ops.unlink,rmdir:un.node_ops.rmdir,readdir:un.node_ops.readdir,symlink:un.node_ops.symlink},stream:{llseek:un.stream_ops.llseek}},file:{node:{getattr:un.node_ops.getattr,setattr:un.node_ops.setattr},stream:{llseek:un.stream_ops.llseek,read:un.stream_ops.read,write:un.stream_ops.write,allocate:un.stream_ops.allocate,mmap:un.stream_ops.mmap,msync:un.stream_ops.msync}},link:{node:{getattr:un.node_ops.getattr,setattr:un.node_ops.setattr,readlink:un.node_ops.readlink},stream:{}},chrdev:{node:{getattr:un.node_ops.getattr,setattr:un.node_ops.setattr},stream:E.chrdev_stream_ops}});var H=E.createNode(p,y,w,F);return E.isDir(H.mode)?(H.node_ops=un.ops_table.dir.node,H.stream_ops=un.ops_table.dir.stream,H.contents={}):E.isFile(H.mode)?(H.node_ops=un.ops_table.file.node,H.stream_ops=un.ops_table.file.stream,H.usedBytes=0,H.contents=null):E.isLink(H.mode)?(H.node_ops=un.ops_table.link.node,H.stream_ops=un.ops_table.link.stream):E.isChrdev(H.mode)&&(H.node_ops=un.ops_table.chrdev.node,H.stream_ops=un.ops_table.chrdev.stream),H.timestamp=Date.now(),p&&(p.contents[y]=H,p.timestamp=H.timestamp),H},getFileDataAsTypedArray:function(p){return p.contents?p.contents.subarray?p.contents.subarray(0,p.usedBytes):new Uint8Array(p.contents):new Uint8Array(0)},expandFileStorage:function(p,y){var w=p.contents?p.contents.length:0;if(!(w>=y)){y=Math.max(y,w*(w<1048576?2:1.125)>>>0),0!=w&&(y=Math.max(y,256));var H=p.contents;p.contents=new Uint8Array(y),p.usedBytes>0&&p.contents.set(H.subarray(0,p.usedBytes),0)}},resizeFileStorage:function(p,y){if(p.usedBytes!=y)if(0==y)p.contents=null,p.usedBytes=0;else{var w=p.contents;p.contents=new Uint8Array(y),w&&p.contents.set(w.subarray(0,Math.min(y,p.usedBytes))),p.usedBytes=y}},node_ops:{getattr:function(p){var y={};return y.dev=E.isChrdev(p.mode)?p.id:1,y.ino=p.id,y.mode=p.mode,y.nlink=1,y.uid=0,y.gid=0,y.rdev=p.rdev,y.size=E.isDir(p.mode)?4096:E.isFile(p.mode)?p.usedBytes:E.isLink(p.mode)?p.link.length:0,y.atime=new Date(p.timestamp),y.mtime=new Date(p.timestamp),y.ctime=new Date(p.timestamp),y.blksize=4096,y.blocks=Math.ceil(y.size/y.blksize),y},setattr:function(p,y){void 0!==y.mode&&(p.mode=y.mode),void 0!==y.timestamp&&(p.timestamp=y.timestamp),void 0!==y.size&&un.resizeFileStorage(p,y.size)},lookup:function(p,y){throw E.genericErrors[44]},mknod:function(p,y,w,F){return un.createNode(p,y,w,F)},rename:function(p,y,w){if(E.isDir(p.mode)){var F;try{F=E.lookupNode(y,w)}catch{}if(F)for(var H in F.contents)throw new E.ErrnoError(55)}delete p.parent.contents[p.name],p.parent.timestamp=Date.now(),p.name=w,y.contents[w]=p,y.timestamp=p.parent.timestamp,p.parent=y},unlink:function(p,y){delete p.contents[y],p.timestamp=Date.now()},rmdir:function(p,y){var w=E.lookupNode(p,y);for(var F in w.contents)throw new E.ErrnoError(55);delete p.contents[y],p.timestamp=Date.now()},readdir:function(p){var y=[".",".."];for(var w in p.contents)p.contents.hasOwnProperty(w)&&y.push(w);return y},symlink:function(p,y,w){var F=un.createNode(p,y,41471,0);return F.link=w,F},readlink:function(p){if(!E.isLink(p.mode))throw new E.ErrnoError(28);return p.link}},stream_ops:{read:function(p,y,w,F,H){var be=p.node.contents;if(H>=p.node.usedBytes)return 0;var De=Math.min(p.node.usedBytes-H,F);if(De>8&&be.subarray)y.set(be.subarray(H,H+De),w);else for(var je=0;je<De;je++)y[w+je]=be[H+je];return De},write:function(p,y,w,F,H,be){if(y.buffer===Qe.buffer&&(be=!1),!F)return 0;var De=p.node;if(De.timestamp=Date.now(),y.subarray&&(!De.contents||De.contents.subarray)){if(be)return De.contents=y.subarray(w,w+F),De.usedBytes=F,F;if(0===De.usedBytes&&0===H)return De.contents=y.slice(w,w+F),De.usedBytes=F,F;if(H+F<=De.usedBytes)return De.contents.set(y.subarray(w,w+F),H),F}if(un.expandFileStorage(De,H+F),De.contents.subarray&&y.subarray)De.contents.set(y.subarray(w,w+F),H);else for(var je=0;je<F;je++)De.contents[H+je]=y[w+je];return De.usedBytes=Math.max(De.usedBytes,H+F),F},llseek:function(p,y,w){var F=y;if(1===w?F+=p.position:2===w&&E.isFile(p.node.mode)&&(F+=p.node.usedBytes),F<0)throw new E.ErrnoError(28);return F},allocate:function(p,y,w){un.expandFileStorage(p.node,y+w),p.node.usedBytes=Math.max(p.node.usedBytes,y+w)},mmap:function(p,y,w,F,H){if(!E.isFile(p.node.mode))throw new E.ErrnoError(43);var be,De,je=p.node.contents;if(2&H||je.buffer!==Ue){if((w>0||w+y<je.length)&&(je=je.subarray?je.subarray(w,w+y):Array.prototype.slice.call(je,w,w+y)),De=!0,!(be=Jn()))throw new E.ErrnoError(48);Qe.set(je,be)}else De=!1,be=je.byteOffset;return{ptr:be,allocated:De}},msync:function(p,y,w,F,H){return un.stream_ops.write(p,y,0,F,w,!1),0}}},E={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(p,y={})=>{if(!(p=hr.resolve(p)))return{path:"",node:null};if((y=Object.assign({follow_mount:!0,recurse_count:0},y)).recurse_count>8)throw new E.ErrnoError(32);for(var F=p.split("/").filter(xn=>!!xn),H=E.root,be="/",De=0;De<F.length;De++){var je=De===F.length-1;if(je&&y.parent)break;if(H=E.lookupNode(H,F[De]),be=Kt.join2(be,F[De]),E.isMountpoint(H)&&(!je||je&&y.follow_mount)&&(H=H.mounted.root),!je||y.follow)for(var Et=0;E.isLink(H.mode);){var pn=E.readlink(be);if(be=hr.resolve(Kt.dirname(be),pn),H=E.lookupPath(be,{recurse_count:y.recurse_count+1}).node,Et++>40)throw new E.ErrnoError(32)}}return{path:be,node:H}},getPath:p=>{for(var y;;){if(E.isRoot(p)){var w=p.mount.mountpoint;return y?"/"!==w[w.length-1]?w+"/"+y:w+y:w}y=y?p.name+"/"+y:p.name,p=p.parent}},hashName:(p,y)=>{for(var w=0,F=0;F<y.length;F++)w=(w<<5)-w+y.charCodeAt(F)|0;return(p+w>>>0)%E.nameTable.length},hashAddNode:p=>{var y=E.hashName(p.parent.id,p.name);p.name_next=E.nameTable[y],E.nameTable[y]=p},hashRemoveNode:p=>{var y=E.hashName(p.parent.id,p.name);if(E.nameTable[y]===p)E.nameTable[y]=p.name_next;else for(var w=E.nameTable[y];w;){if(w.name_next===p){w.name_next=p.name_next;break}w=w.name_next}},lookupNode:(p,y)=>{var w=E.mayLookup(p);if(w)throw new E.ErrnoError(w,p);for(var F=E.hashName(p.id,y),H=E.nameTable[F];H;H=H.name_next)if(H.parent.id===p.id&&H.name===y)return H;return E.lookup(p,y)},createNode:(p,y,w,F)=>{var H=new E.FSNode(p,y,w,F);return E.hashAddNode(H),H},destroyNode:p=>{E.hashRemoveNode(p)},isRoot:p=>p===p.parent,isMountpoint:p=>!!p.mounted,isFile:p=>32768==(61440&p),isDir:p=>16384==(61440&p),isLink:p=>40960==(61440&p),isChrdev:p=>8192==(61440&p),isBlkdev:p=>24576==(61440&p),isFIFO:p=>4096==(61440&p),isSocket:p=>49152==(49152&p),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:p=>{var y=E.flagModes[p];if(typeof y>"u")throw new Error("Unknown file open mode: "+p);return y},flagsToPermissionString:p=>{var y=["r","w","rw"][3&p];return 512&p&&(y+="w"),y},nodePermissions:(p,y)=>E.ignorePermissions?0:y.includes("r")&&!(292&p.mode)||y.includes("w")&&!(146&p.mode)||y.includes("x")&&!(73&p.mode)?2:0,mayLookup:p=>E.nodePermissions(p,"x")||(p.node_ops.lookup?0:2),mayCreate:(p,y)=>{try{return E.lookupNode(p,y),20}catch{}return E.nodePermissions(p,"wx")},mayDelete:(p,y,w)=>{var F;try{F=E.lookupNode(p,y)}catch(be){return be.errno}var H=E.nodePermissions(p,"wx");if(H)return H;if(w){if(!E.isDir(F.mode))return 54;if(E.isRoot(F)||E.getPath(F)===E.cwd())return 10}else if(E.isDir(F.mode))return 31;return 0},mayOpen:(p,y)=>p?E.isLink(p.mode)?32:E.isDir(p.mode)&&("r"!==E.flagsToPermissionString(y)||512&y)?31:E.nodePermissions(p,E.flagsToPermissionString(y)):44,MAX_OPEN_FDS:4096,nextfd:(p=0,y=E.MAX_OPEN_FDS)=>{for(var w=p;w<=y;w++)if(!E.streams[w])return w;throw new E.ErrnoError(33)},getStream:p=>E.streams[p],createStream:(p,y,w)=>{E.FSStream||(E.FSStream=function(){this.shared={}},E.FSStream.prototype={},Object.defineProperties(E.FSStream.prototype,{object:{get:function(){return this.node},set:function(H){this.node=H}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(H){this.shared.flags=H}},position:{get:function(){return this.shared.position},set:function(H){this.shared.position=H}}})),p=Object.assign(new E.FSStream,p);var F=E.nextfd(y,w);return p.fd=F,E.streams[F]=p,p},closeStream:p=>{E.streams[p]=null},chrdev_stream_ops:{open:p=>{var y=E.getDevice(p.node.rdev);p.stream_ops=y.stream_ops,p.stream_ops.open&&p.stream_ops.open(p)},llseek:()=>{throw new E.ErrnoError(70)}},major:p=>p>>8,minor:p=>255&p,makedev:(p,y)=>p<<8|y,registerDevice:(p,y)=>{E.devices[p]={stream_ops:y}},getDevice:p=>E.devices[p],getMounts:p=>{for(var y=[],w=[p];w.length;){var F=w.pop();y.push(F),w.push.apply(w,F.mounts)}return y},syncfs:(p,y)=>{"function"==typeof p&&(y=p,p=!1),E.syncFSRequests++,E.syncFSRequests>1&&K("warning: "+E.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var w=E.getMounts(E.root.mount),F=0;function H(De){return E.syncFSRequests--,y(De)}function be(De){if(De)return be.errored?void 0:(be.errored=!0,H(De));++F>=w.length&&H(null)}w.forEach(De=>{if(!De.type.syncfs)return be(null);De.type.syncfs(De,p,be)})},mount:(p,y,w)=>{var be,F="/"===w,H=!w;if(F&&E.root)throw new E.ErrnoError(10);if(!F&&!H){var De=E.lookupPath(w,{follow_mount:!1});if(w=De.path,E.isMountpoint(be=De.node))throw new E.ErrnoError(10);if(!E.isDir(be.mode))throw new E.ErrnoError(54)}var je={type:p,opts:y,mountpoint:w,mounts:[]},Et=p.mount(je);return Et.mount=je,je.root=Et,F?E.root=Et:be&&(be.mounted=je,be.mount&&be.mount.mounts.push(je)),Et},unmount:p=>{var y=E.lookupPath(p,{follow_mount:!1});if(!E.isMountpoint(y.node))throw new E.ErrnoError(28);var w=y.node,F=w.mounted,H=E.getMounts(F);Object.keys(E.nameTable).forEach(De=>{for(var je=E.nameTable[De];je;){var Et=je.name_next;H.includes(je.mount)&&E.destroyNode(je),je=Et}}),w.mounted=null;var be=w.mount.mounts.indexOf(F);w.mount.mounts.splice(be,1)},lookup:(p,y)=>p.node_ops.lookup(p,y),mknod:(p,y,w)=>{var H=E.lookupPath(p,{parent:!0}).node,be=Kt.basename(p);if(!be||"."===be||".."===be)throw new E.ErrnoError(28);var De=E.mayCreate(H,be);if(De)throw new E.ErrnoError(De);if(!H.node_ops.mknod)throw new E.ErrnoError(63);return H.node_ops.mknod(H,be,y,w)},create:(p,y)=>(y=void 0!==y?y:438,y&=4095,E.mknod(p,y|=32768,0)),mkdir:(p,y)=>(y=void 0!==y?y:511,y&=1023,E.mknod(p,y|=16384,0)),mkdirTree:(p,y)=>{for(var w=p.split("/"),F="",H=0;H<w.length;++H)if(w[H]){F+="/"+w[H];try{E.mkdir(F,y)}catch(be){if(20!=be.errno)throw be}}},mkdev:(p,y,w)=>(typeof w>"u"&&(w=y,y=438),E.mknod(p,y|=8192,w)),symlink:(p,y)=>{if(!hr.resolve(p))throw new E.ErrnoError(44);var F=E.lookupPath(y,{parent:!0}).node;if(!F)throw new E.ErrnoError(44);var H=Kt.basename(y),be=E.mayCreate(F,H);if(be)throw new E.ErrnoError(be);if(!F.node_ops.symlink)throw new E.ErrnoError(63);return F.node_ops.symlink(F,H,p)},rename:(p,y)=>{var je,Et,w=Kt.dirname(p),F=Kt.dirname(y),H=Kt.basename(p),be=Kt.basename(y);if(je=E.lookupPath(p,{parent:!0}).node,Et=E.lookupPath(y,{parent:!0}).node,!je||!Et)throw new E.ErrnoError(44);if(je.mount!==Et.mount)throw new E.ErrnoError(75);var xn,pn=E.lookupNode(je,H),An=hr.relative(p,F);if("."!==An.charAt(0))throw new E.ErrnoError(28);if("."!==(An=hr.relative(y,w)).charAt(0))throw new E.ErrnoError(55);try{xn=E.lookupNode(Et,be)}catch{}if(pn!==xn){var Gt=E.isDir(pn.mode),Yt=E.mayDelete(je,H,Gt);if(Yt)throw new E.ErrnoError(Yt);if(Yt=xn?E.mayDelete(Et,be,Gt):E.mayCreate(Et,be))throw new E.ErrnoError(Yt);if(!je.node_ops.rename)throw new E.ErrnoError(63);if(E.isMountpoint(pn)||xn&&E.isMountpoint(xn))throw new E.ErrnoError(10);if(Et!==je&&(Yt=E.nodePermissions(je,"w")))throw new E.ErrnoError(Yt);E.hashRemoveNode(pn);try{je.node_ops.rename(pn,Et,be)}catch(ne){throw ne}finally{E.hashAddNode(pn)}}},rmdir:p=>{var w=E.lookupPath(p,{parent:!0}).node,F=Kt.basename(p),H=E.lookupNode(w,F),be=E.mayDelete(w,F,!0);if(be)throw new E.ErrnoError(be);if(!w.node_ops.rmdir)throw new E.ErrnoError(63);if(E.isMountpoint(H))throw new E.ErrnoError(10);w.node_ops.rmdir(w,F),E.destroyNode(H)},readdir:p=>{var w=E.lookupPath(p,{follow:!0}).node;if(!w.node_ops.readdir)throw new E.ErrnoError(54);return w.node_ops.readdir(w)},unlink:p=>{var w=E.lookupPath(p,{parent:!0}).node;if(!w)throw new E.ErrnoError(44);var F=Kt.basename(p),H=E.lookupNode(w,F),be=E.mayDelete(w,F,!1);if(be)throw new E.ErrnoError(be);if(!w.node_ops.unlink)throw new E.ErrnoError(63);if(E.isMountpoint(H))throw new E.ErrnoError(10);w.node_ops.unlink(w,F),E.destroyNode(H)},readlink:p=>{var w=E.lookupPath(p).node;if(!w)throw new E.ErrnoError(44);if(!w.node_ops.readlink)throw new E.ErrnoError(28);return hr.resolve(E.getPath(w.parent),w.node_ops.readlink(w))},stat:(p,y)=>{var F=E.lookupPath(p,{follow:!y}).node;if(!F)throw new E.ErrnoError(44);if(!F.node_ops.getattr)throw new E.ErrnoError(63);return F.node_ops.getattr(F)},lstat:p=>E.stat(p,!0),chmod:(p,y,w)=>{var F;if(!(F="string"==typeof p?E.lookupPath(p,{follow:!w}).node:p).node_ops.setattr)throw new E.ErrnoError(63);F.node_ops.setattr(F,{mode:4095&y|-4096&F.mode,timestamp:Date.now()})},lchmod:(p,y)=>{E.chmod(p,y,!0)},fchmod:(p,y)=>{var w=E.getStream(p);if(!w)throw new E.ErrnoError(8);E.chmod(w.node,y)},chown:(p,y,w,F)=>{var H;if(!(H="string"==typeof p?E.lookupPath(p,{follow:!F}).node:p).node_ops.setattr)throw new E.ErrnoError(63);H.node_ops.setattr(H,{timestamp:Date.now()})},lchown:(p,y,w)=>{E.chown(p,y,w,!0)},fchown:(p,y,w)=>{var F=E.getStream(p);if(!F)throw new E.ErrnoError(8);E.chown(F.node,y,w)},truncate:(p,y)=>{if(y<0)throw new E.ErrnoError(28);var w;if(!(w="string"==typeof p?E.lookupPath(p,{follow:!0}).node:p).node_ops.setattr)throw new E.ErrnoError(63);if(E.isDir(w.mode))throw new E.ErrnoError(31);if(!E.isFile(w.mode))throw new E.ErrnoError(28);var H=E.nodePermissions(w,"w");if(H)throw new E.ErrnoError(H);w.node_ops.setattr(w,{size:y,timestamp:Date.now()})},ftruncate:(p,y)=>{var w=E.getStream(p);if(!w)throw new E.ErrnoError(8);if(!(2097155&w.flags))throw new E.ErrnoError(28);E.truncate(w.node,y)},utime:(p,y,w)=>{var H=E.lookupPath(p,{follow:!0}).node;H.node_ops.setattr(H,{timestamp:Math.max(y,w)})},open:(p,y,w)=>{if(""===p)throw new E.ErrnoError(44);var F;if(w=typeof w>"u"?438:w,w=64&(y="string"==typeof y?E.modeStringToFlags(y):y)?4095&w|32768:0,"object"==typeof p)F=p;else{p=Kt.normalize(p);try{F=E.lookupPath(p,{follow:!(131072&y)}).node}catch{}}var be=!1;if(64&y)if(F){if(128&y)throw new E.ErrnoError(20)}else F=E.mknod(p,w,0),be=!0;if(!F)throw new E.ErrnoError(44);if(E.isChrdev(F.mode)&&(y&=-513),65536&y&&!E.isDir(F.mode))throw new E.ErrnoError(54);if(!be){var De=E.mayOpen(F,y);if(De)throw new E.ErrnoError(De)}512&y&&!be&&E.truncate(F,0),y&=-131713;var je=E.createStream({node:F,path:E.getPath(F),flags:y,seekable:!0,position:0,stream_ops:F.stream_ops,ungotten:[],error:!1});return je.stream_ops.open&&je.stream_ops.open(je),c.logReadFiles&&!(1&y)&&(E.readFiles||(E.readFiles={}),p in E.readFiles||(E.readFiles[p]=1)),je},close:p=>{if(E.isClosed(p))throw new E.ErrnoError(8);p.getdents&&(p.getdents=null);try{p.stream_ops.close&&p.stream_ops.close(p)}catch(y){throw y}finally{E.closeStream(p.fd)}p.fd=null},isClosed:p=>null===p.fd,llseek:(p,y,w)=>{if(E.isClosed(p))throw new E.ErrnoError(8);if(!p.seekable||!p.stream_ops.llseek)throw new E.ErrnoError(70);if(0!=w&&1!=w&&2!=w)throw new E.ErrnoError(28);return p.position=p.stream_ops.llseek(p,y,w),p.ungotten=[],p.position},read:(p,y,w,F,H)=>{if(F<0||H<0)throw new E.ErrnoError(28);if(E.isClosed(p))throw new E.ErrnoError(8);if(1==(2097155&p.flags))throw new E.ErrnoError(8);if(E.isDir(p.node.mode))throw new E.ErrnoError(31);if(!p.stream_ops.read)throw new E.ErrnoError(28);var be=typeof H<"u";if(be){if(!p.seekable)throw new E.ErrnoError(70)}else H=p.position;var De=p.stream_ops.read(p,y,w,F,H);return be||(p.position+=De),De},write:(p,y,w,F,H,be)=>{if(F<0||H<0)throw new E.ErrnoError(28);if(E.isClosed(p))throw new E.ErrnoError(8);if(!(2097155&p.flags))throw new E.ErrnoError(8);if(E.isDir(p.node.mode))throw new E.ErrnoError(31);if(!p.stream_ops.write)throw new E.ErrnoError(28);p.seekable&&1024&p.flags&&E.llseek(p,0,2);var De=typeof H<"u";if(De){if(!p.seekable)throw new E.ErrnoError(70)}else H=p.position;var je=p.stream_ops.write(p,y,w,F,H,be);return De||(p.position+=je),je},allocate:(p,y,w)=>{if(E.isClosed(p))throw new E.ErrnoError(8);if(y<0||w<=0)throw new E.ErrnoError(28);if(!(2097155&p.flags))throw new E.ErrnoError(8);if(!E.isFile(p.node.mode)&&!E.isDir(p.node.mode))throw new E.ErrnoError(43);if(!p.stream_ops.allocate)throw new E.ErrnoError(138);p.stream_ops.allocate(p,y,w)},mmap:(p,y,w,F,H)=>{if(2&F&&!(2&H)&&2!=(2097155&p.flags))throw new E.ErrnoError(2);if(1==(2097155&p.flags))throw new E.ErrnoError(2);if(!p.stream_ops.mmap)throw new E.ErrnoError(43);return p.stream_ops.mmap(p,y,w,F,H)},msync:(p,y,w,F,H)=>p.stream_ops.msync?p.stream_ops.msync(p,y,w,F,H):0,munmap:p=>0,ioctl:(p,y,w)=>{if(!p.stream_ops.ioctl)throw new E.ErrnoError(59);return p.stream_ops.ioctl(p,y,w)},readFile:(p,y={})=>{if(y.flags=y.flags||0,y.encoding=y.encoding||"binary","utf8"!==y.encoding&&"binary"!==y.encoding)throw new Error('Invalid encoding type "'+y.encoding+'"');var w,F=E.open(p,y.flags),be=E.stat(p).size,De=new Uint8Array(be);return E.read(F,De,0,be,0),"utf8"===y.encoding?w=Xe(De,0):"binary"===y.encoding&&(w=De),E.close(F),w},writeFile:(p,y,w={})=>{w.flags=w.flags||577;var F=E.open(p,w.flags,w.mode);if("string"==typeof y){var H=new Uint8Array(re(y)+1),be=Te(y,H,0,H.length);E.write(F,H,0,be,void 0,w.canOwn)}else{if(!ArrayBuffer.isView(y))throw new Error("Unsupported data type");E.write(F,y,0,y.byteLength,void 0,w.canOwn)}E.close(F)},cwd:()=>E.currentPath,chdir:p=>{var y=E.lookupPath(p,{follow:!0});if(null===y.node)throw new E.ErrnoError(44);if(!E.isDir(y.node.mode))throw new E.ErrnoError(54);var w=E.nodePermissions(y.node,"x");if(w)throw new E.ErrnoError(w);E.currentPath=y.path},createDefaultDirectories:()=>{E.mkdir("/tmp"),E.mkdir("/home"),E.mkdir("/home/web_user")},createDefaultDevices:()=>{E.mkdir("/dev"),E.registerDevice(E.makedev(1,3),{read:()=>0,write:(y,w,F,H,be)=>H}),E.mkdev("/dev/null",E.makedev(1,3)),Qn.register(E.makedev(5,0),Qn.default_tty_ops),Qn.register(E.makedev(6,0),Qn.default_tty1_ops),E.mkdev("/dev/tty",E.makedev(5,0)),E.mkdev("/dev/tty1",E.makedev(6,0));var p=function Rt(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var p=new Uint8Array(1);return()=>(crypto.getRandomValues(p),p[0])}return()=>or("randomDevice")}();E.createDevice("/dev","random",p),E.createDevice("/dev","urandom",p),E.mkdir("/dev/shm"),E.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{E.mkdir("/proc");var p=E.mkdir("/proc/self");E.mkdir("/proc/self/fd"),E.mount({mount:()=>{var y=E.createNode(p,"fd",16895,73);return y.node_ops={lookup:(w,F)=>{var be=E.getStream(+F);if(!be)throw new E.ErrnoError(8);var De={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>be.path}};return De.parent=De,De}},y}},{},"/proc/self/fd")},createStandardStreams:()=>{c.stdin?E.createDevice("/dev","stdin",c.stdin):E.symlink("/dev/tty","/dev/stdin"),c.stdout?E.createDevice("/dev","stdout",null,c.stdout):E.symlink("/dev/tty","/dev/stdout"),c.stderr?E.createDevice("/dev","stderr",null,c.stderr):E.symlink("/dev/tty1","/dev/stderr"),E.open("/dev/stdin",0),E.open("/dev/stdout",1),E.open("/dev/stderr",1)},ensureErrnoError:()=>{E.ErrnoError||(E.ErrnoError=function(y,w){this.node=w,this.setErrno=function(F){this.errno=F},this.setErrno(y),this.message="FS error"},E.ErrnoError.prototype=new Error,E.ErrnoError.prototype.constructor=E.ErrnoError,[44].forEach(p=>{E.genericErrors[p]=new E.ErrnoError(p),E.genericErrors[p].stack="<generic error, no stack>"}))},staticInit:()=>{E.ensureErrnoError(),E.nameTable=new Array(4096),E.mount(un,{},"/"),E.createDefaultDirectories(),E.createDefaultDevices(),E.createSpecialDirectories(),E.filesystems={MEMFS:un}},init:(p,y,w)=>{E.init.initialized=!0,E.ensureErrnoError(),c.stdin=p||c.stdin,c.stdout=y||c.stdout,c.stderr=w||c.stderr,E.createStandardStreams()},quit:()=>{E.init.initialized=!1;for(var p=0;p<E.streams.length;p++){var y=E.streams[p];y&&E.close(y)}},getMode:(p,y)=>{var w=0;return p&&(w|=365),y&&(w|=146),w},findObject:(p,y)=>{var w=E.analyzePath(p,y);return w.exists?w.object:null},analyzePath:(p,y)=>{try{p=(w=E.lookupPath(p,{follow:!y})).path}catch{}var F={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var w=E.lookupPath(p,{parent:!0});F.parentExists=!0,F.parentPath=w.path,F.parentObject=w.node,F.name=Kt.basename(p),w=E.lookupPath(p,{follow:!y}),F.exists=!0,F.path=w.path,F.object=w.node,F.name=w.node.name,F.isRoot="/"===w.path}catch(H){F.error=H.errno}return F},createPath:(p,y,w,F)=>{p="string"==typeof p?p:E.getPath(p);for(var H=y.split("/").reverse();H.length;){var be=H.pop();if(be){var De=Kt.join2(p,be);try{E.mkdir(De)}catch{}p=De}}return De},createFile:(p,y,w,F,H)=>{var be=Kt.join2("string"==typeof p?p:E.getPath(p),y),De=E.getMode(F,H);return E.create(be,De)},createDataFile:(p,y,w,F,H,be)=>{var De=y;p&&(p="string"==typeof p?p:E.getPath(p),De=y?Kt.join2(p,y):p);var je=E.getMode(F,H),Et=E.create(De,je);if(w){if("string"==typeof w){for(var pn=new Array(w.length),An=0,xn=w.length;An<xn;++An)pn[An]=w.charCodeAt(An);w=pn}E.chmod(Et,146|je);var Gt=E.open(Et,577);E.write(Gt,w,0,w.length,0,be),E.close(Gt),E.chmod(Et,je)}return Et},createDevice:(p,y,w,F)=>{var H=Kt.join2("string"==typeof p?p:E.getPath(p),y),be=E.getMode(!!w,!!F);E.createDevice.major||(E.createDevice.major=64);var De=E.makedev(E.createDevice.major++,0);return E.registerDevice(De,{open:je=>{je.seekable=!1},close:je=>{F&&F.buffer&&F.buffer.length&&F(10)},read:(je,Et,pn,An,xn)=>{for(var Gt=0,Yt=0;Yt<An;Yt++){var ne;try{ne=w()}catch{throw new E.ErrnoError(29)}if(void 0===ne&&0===Gt)throw new E.ErrnoError(6);if(null==ne)break;Gt++,Et[pn+Yt]=ne}return Gt&&(je.node.timestamp=Date.now()),Gt},write:(je,Et,pn,An,xn)=>{for(var Gt=0;Gt<An;Gt++)try{F(Et[pn+Gt])}catch{throw new E.ErrnoError(29)}return An&&(je.node.timestamp=Date.now()),Gt}}),E.mkdev(H,be,De)},forceLoadFile:p=>{if(p.isDevice||p.isFolder||p.link||p.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!j)throw new Error("Cannot load without read() or XMLHttpRequest.");try{p.contents=en(j(p.url),!0),p.usedBytes=p.contents.length}catch{throw new E.ErrnoError(29)}},createLazyFile:(p,y,w,F,H)=>{function be(){this.lengthKnown=!1,this.chunks=[]}if(be.prototype.get=function(Yt){if(!(Yt>this.length-1||Yt<0)){var ne=Yt%this.chunkSize;return this.getter(Yt/this.chunkSize|0)[ne]}},be.prototype.setDataGetter=function(Yt){this.getter=Yt},be.prototype.cacheLength=function(){var Yt=new XMLHttpRequest;if(Yt.open("HEAD",w,!1),Yt.send(null),!(Yt.status>=200&&Yt.status<300||304===Yt.status))throw new Error("Couldn't load "+w+". Status: "+Yt.status);var Dr,ne=Number(Yt.getResponseHeader("Content-length")),_n=(Dr=Yt.getResponseHeader("Accept-Ranges"))&&"bytes"===Dr,Yr=(Dr=Yt.getResponseHeader("Content-Encoding"))&&"gzip"===Dr,gt=1048576;_n||(gt=ne);var Gr=this;Gr.setDataGetter(fr=>{var Vo=fr*gt,Tn=(fr+1)*gt-1;if(Tn=Math.min(Tn,ne-1),typeof Gr.chunks[fr]>"u"&&(Gr.chunks[fr]=((fr,Vo)=>{if(fr>Vo)throw new Error("invalid range ("+fr+", "+Vo+") or no bytes requested!");if(Vo>ne-1)throw new Error("only "+ne+" bytes available! programmer error!");var Tn=new XMLHttpRequest;if(Tn.open("GET",w,!1),ne!==gt&&Tn.setRequestHeader("Range","bytes="+fr+"-"+Vo),Tn.responseType="arraybuffer",Tn.overrideMimeType&&Tn.overrideMimeType("text/plain; charset=x-user-defined"),Tn.send(null),!(Tn.status>=200&&Tn.status<300||304===Tn.status))throw new Error("Couldn't load "+w+". Status: "+Tn.status);return void 0!==Tn.response?new Uint8Array(Tn.response||[]):en(Tn.responseText||"",!0)})(Vo,Tn)),typeof Gr.chunks[fr]>"u")throw new Error("doXHR failed!");return Gr.chunks[fr]}),(Yr||!ne)&&(gt=ne=1,ne=this.getter(0).length,gt=ne,W("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=ne,this._chunkSize=gt,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!Y)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var De=new be;Object.defineProperties(De,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var je={isDevice:!1,contents:De}}else je={isDevice:!1,url:w};var Et=E.createFile(p,y,je,F,H);je.contents?Et.contents=je.contents:je.url&&(Et.contents=null,Et.url=je.url),Object.defineProperties(Et,{usedBytes:{get:function(){return this.contents.length}}});var pn={};function xn(Gt,Yt,ne,Dr,_n){var Yr=Gt.node.contents;if(_n>=Yr.length)return 0;var gt=Math.min(Yr.length-_n,Dr);if(Yr.slice)for(var zt=0;zt<gt;zt++)Yt[ne+zt]=Yr[_n+zt];else for(zt=0;zt<gt;zt++)Yt[ne+zt]=Yr.get(_n+zt);return gt}return Object.keys(Et.stream_ops).forEach(Gt=>{var Yt=Et.stream_ops[Gt];pn[Gt]=function(){return E.forceLoadFile(Et),Yt.apply(null,arguments)}}),pn.read=(Gt,Yt,ne,Dr,_n)=>(E.forceLoadFile(Et),xn(Gt,Yt,ne,Dr,_n)),pn.mmap=(Gt,Yt,ne,Dr,_n)=>{E.forceLoadFile(Et);var Yr=Jn();if(!Yr)throw new E.ErrnoError(48);return xn(Gt,Qe,Yr,Yt,ne),{ptr:Yr,allocated:!0}},Et.stream_ops=pn,Et},createPreloadedFile:(p,y,w,F,H,be,De,je,Et,pn)=>{var An=y?hr.resolve(Kt.join2(p,y)):p;function Gt(Yt){function ne(Dr){pn&&pn(),je||E.createDataFile(p,y,Dr,F,H,Et),be&&be(),kr()}Browser.handledByPreloadPlugin(Yt,An,ne,()=>{De&&De(),kr()})||ne(Yt)}Ur(),"string"==typeof w?function jt(p,y,w,F){var H=F?"":"al "+p;Pe(p,be=>{Ce(be,'Loading data file "'+p+'" failed (no arrayBuffer).'),y(new Uint8Array(be)),H&&kr()},be=>{if(!w)throw'Loading data file "'+p+'" failed.';w()}),H&&Ur()}(w,Yt=>Gt(Yt),De):Gt(w)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(p,y,w)=>{y=y||(()=>{}),w=w||(()=>{});var F=E.indexedDB();try{var H=F.open(E.DB_NAME(),E.DB_VERSION)}catch(be){return w(be)}H.onupgradeneeded=()=>{W("creating db"),H.result.createObjectStore(E.DB_STORE_NAME)},H.onsuccess=()=>{var De=H.result.transaction([E.DB_STORE_NAME],"readwrite"),je=De.objectStore(E.DB_STORE_NAME),Et=0,pn=0,An=p.length;function xn(){0==pn?y():w()}p.forEach(Gt=>{var Yt=je.put(E.analyzePath(Gt).object.contents,Gt);Yt.onsuccess=()=>{++Et+pn==An&&xn()},Yt.onerror=()=>{pn++,Et+pn==An&&xn()}}),De.onerror=w},H.onerror=w},loadFilesFromDB:(p,y,w)=>{y=y||(()=>{}),w=w||(()=>{});var F=E.indexedDB();try{var H=F.open(E.DB_NAME(),E.DB_VERSION)}catch(be){return w(be)}H.onupgradeneeded=w,H.onsuccess=()=>{var be=H.result;try{var De=be.transaction([E.DB_STORE_NAME],"readonly")}catch(Gt){return void w(Gt)}var je=De.objectStore(E.DB_STORE_NAME),Et=0,pn=0,An=p.length;function xn(){0==pn?y():w()}p.forEach(Gt=>{var Yt=je.get(Gt);Yt.onsuccess=()=>{E.analyzePath(Gt).exists&&E.unlink(Gt),E.createDataFile(Kt.dirname(Gt),Kt.basename(Gt),Yt.result,!0,!0,!0),++Et+pn==An&&xn()},Yt.onerror=()=>{pn++,Et+pn==An&&xn()}}),De.onerror=w},H.onerror=w}},S={DEFAULT_POLLMASK:5,calculateAt:function(p,y,w){if(Kt.isAbs(y))return y;var F;if(F=-100===p?E.cwd():S.getStreamFromFD(p).path,0==y.length){if(!w)throw new E.ErrnoError(44);return F}return Kt.join2(F,y)},doStat:function(p,y,w){try{var F=p(y)}catch(H){if(H&&H.node&&Kt.normalize(y)!==Kt.normalize(E.getPath(H.node)))return-54;throw H}return O[w>>2]=F.dev,O[w+8>>2]=F.ino,O[w+12>>2]=F.mode,ye[w+16>>2]=F.nlink,O[w+20>>2]=F.uid,O[w+24>>2]=F.gid,O[w+28>>2]=F.rdev,le=[F.size>>>0,(ut=F.size,+Math.abs(ut)>=1?ut>0?(0|Math.min(+Math.floor(ut/4294967296),4294967295))>>>0:~~+Math.ceil((ut-+(~~ut>>>0))/4294967296)>>>0:0)],O[w+40>>2]=le[0],O[w+44>>2]=le[1],O[w+48>>2]=4096,O[w+52>>2]=F.blocks,le=[Math.floor(F.atime.getTime()/1e3)>>>0,(ut=Math.floor(F.atime.getTime()/1e3),+Math.abs(ut)>=1?ut>0?(0|Math.min(+Math.floor(ut/4294967296),4294967295))>>>0:~~+Math.ceil((ut-+(~~ut>>>0))/4294967296)>>>0:0)],O[w+56>>2]=le[0],O[w+60>>2]=le[1],ye[w+64>>2]=0,le=[Math.floor(F.mtime.getTime()/1e3)>>>0,(ut=Math.floor(F.mtime.getTime()/1e3),+Math.abs(ut)>=1?ut>0?(0|Math.min(+Math.floor(ut/4294967296),4294967295))>>>0:~~+Math.ceil((ut-+(~~ut>>>0))/4294967296)>>>0:0)],O[w+72>>2]=le[0],O[w+76>>2]=le[1],ye[w+80>>2]=0,le=[Math.floor(F.ctime.getTime()/1e3)>>>0,(ut=Math.floor(F.ctime.getTime()/1e3),+Math.abs(ut)>=1?ut>0?(0|Math.min(+Math.floor(ut/4294967296),4294967295))>>>0:~~+Math.ceil((ut-+(~~ut>>>0))/4294967296)>>>0:0)],O[w+88>>2]=le[0],O[w+92>>2]=le[1],ye[w+96>>2]=0,le=[F.ino>>>0,(ut=F.ino,+Math.abs(ut)>=1?ut>0?(0|Math.min(+Math.floor(ut/4294967296),4294967295))>>>0:~~+Math.ceil((ut-+(~~ut>>>0))/4294967296)>>>0:0)],O[w+104>>2]=le[0],O[w+108>>2]=le[1],0},doMsync:function(p,y,w,F,H){if(!E.isFile(y.node.mode))throw new E.ErrnoError(43);if(2&F)return 0;var be=vt.slice(p,p+w);E.msync(y,be,H,w,F)},varargs:void 0,get:function(){return S.varargs+=4,O[S.varargs-4>>2]},getStr:function(p){return $e(p)},getStreamFromFD:function(p){var y=E.getStream(p);if(!y)throw new E.ErrnoError(8);return y}};function D(p){return ye[p>>2]+4294967296*O[p+4>>2]}function No(p){return p%4==0&&(p%100!=0||p%400==0)}var Xo=[0,31,60,91,121,152,182,213,244,274,305,335],_o=[0,31,59,90,120,151,181,212,243,273,304,334];function bi(p){var y=re(p)+1,w=Do(y);return w&&Te(p,Qe,w,y),w}var $o=[];function vo(p){try{return de.grow(p-Ue.byteLength+65535>>>16),Ve(de.buffer),1}catch{}}var Qi={};function Eo(){if(!Eo.strings){var y={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:L||"./this.program"};for(var w in Qi)void 0===Qi[w]?delete y[w]:y[w]=Qi[w];var F=[];for(var w in y)F.push(w+"="+y[w]);Eo.strings=F}return Eo.strings}function gs(p,y){ce=p,function Ci(p){ce=p,function nn(){return Fe}()||(c.onExit&&c.onExit(p),at=!0),V(p,new Pn(p))}(p)}var ci=gs,A=[31,29,31,30,31,30,31,31,30,31,30,31],N=[31,28,31,30,31,30,31,31,30,31,30,31];var ke=function(p,y,w,F){p||(p=this),this.parent=p,this.mount=p.mount,this.mounted=null,this.id=E.nextInode++,this.name=y,this.mode=w,this.node_ops={},this.stream_ops={},this.rdev=F};Object.defineProperties(ke.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(p){p?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(p){p?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return E.isDir(this.mode)}},isDevice:{get:function(){return E.isChrdev(this.mode)}}}),E.FSNode=ke,E.staticInit();var Hs,xe={o:function qn(p,y,w,F){S.varargs=F;try{y=S.getStr(y),y=S.calculateAt(p,y);var H=F?S.get():0;return E.open(y,w,H).fd}catch(be){if(typeof E>"u"||!(be instanceof E.ErrnoError))throw be;return-be.errno}},h:function Nn(p,y){var w=new Date(1e3*D(p));O[y>>2]=w.getUTCSeconds(),O[y+4>>2]=w.getUTCMinutes(),O[y+8>>2]=w.getUTCHours(),O[y+12>>2]=w.getUTCDate(),O[y+16>>2]=w.getUTCMonth(),O[y+20>>2]=w.getUTCFullYear()-1900,O[y+24>>2]=w.getUTCDay();var F=Date.UTC(w.getUTCFullYear(),0,1,0,0,0,0),H=(w.getTime()-F)/864e5|0;O[y+28>>2]=H},i:function Lo(p,y){var w=new Date(1e3*D(p));O[y>>2]=w.getSeconds(),O[y+4>>2]=w.getMinutes(),O[y+8>>2]=w.getHours(),O[y+12>>2]=w.getDate(),O[y+16>>2]=w.getMonth(),O[y+20>>2]=w.getFullYear()-1900,O[y+24>>2]=w.getDay();var F=0|function Ri(p){return(No(p.getFullYear())?Xo:_o)[p.getMonth()]+p.getDate()-1}(w);O[y+28>>2]=F,O[y+36>>2]=-60*w.getTimezoneOffset();var H=new Date(w.getFullYear(),0,1),be=new Date(w.getFullYear(),6,1).getTimezoneOffset(),De=H.getTimezoneOffset(),je=0|(be!=De&&w.getTimezoneOffset()==Math.min(De,be));O[y+32>>2]=je},j:function wi(p,y,w){var F=(new Date).getFullYear(),H=new Date(F,0,1),be=new Date(F,6,1),De=H.getTimezoneOffset(),je=be.getTimezoneOffset(),Et=Math.max(De,je);function pn(ne){var Dr=ne.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Dr?Dr[1]:"GMT"}ye[p>>2]=60*Et,O[y>>2]=Number(De!=je);var An=pn(H),xn=pn(be),Gt=bi(An),Yt=bi(xn);je<De?(ye[w>>2]=Gt,ye[w+4>>2]=Yt):(ye[w>>2]=Yt,ye[w+4>>2]=Gt)},b:function Jr(){or("")},a:function Bo(p,y,w){var F=function mr(p,y){var w;for($o.length=0,y>>=2;w=vt[p++];)y+=105!=w&y,$o.push(105==w?O[y]:rt[y++>>1]),++y;return $o}(y,w);return Ge[p].apply(null,F)},c:function qr(){return Date.now()},g:function li(p,y,w){vt.copyWithin(p,y,y+w)},m:function jr(p){var Et,y=vt.length,w=2147483648;if((p>>>=0)>w)return!1;for(var H=1;H<=4;H*=2){var be=y*(1+.2/H);if(be=Math.min(be,p+100663296),vo(Math.min(w,(Et=Math.max(p,be))+(65536-Et%65536)%65536)))return!0}return!1},p:function Ji(p,y){var w=0;return Eo().forEach(function(F,H){var be=y+w;ye[p+4*H>>2]=be,function eo(p,y,w){for(var F=0;F<p.length;++F)Qe[y++>>0]=p.charCodeAt(F);w||(Qe[y>>0]=0)}(F,be),w+=F.length+1}),0},f:function ao(p,y){var w=Eo();ye[p>>2]=w.length;var F=0;return w.forEach(function(H){F+=H.length+1}),ye[y>>2]=F,0},q:ci,d:function es(p){try{var y=S.getStreamFromFD(p);return E.close(y),0}catch(w){if(typeof E>"u"||!(w instanceof E.ErrnoError))throw w;return w.errno}},e:function xs(p,y,w,F){try{var be=function As(p,y,w,F){for(var H=0,be=0;be<w;be++){var De=ye[y>>2],je=ye[y+4>>2];y+=8;var Et=E.read(p,Qe,De,je,F);if(Et<0)return-1;if(H+=Et,Et<je)break}return H}(S.getStreamFromFD(p),y,w);return ye[F>>2]=be,0}catch(De){if(typeof E>"u"||!(De instanceof E.ErrnoError))throw De;return De.errno}},k:function ui(p,y,w,F,H){try{var be=function ar(p,y){return y+2097152>>>0<4194305-!!p?(p>>>0)+4294967296*y:NaN}(y,w);if(isNaN(be))return 61;var De=S.getStreamFromFD(p);return E.llseek(De,be,F),le=[De.position>>>0,(ut=De.position,+Math.abs(ut)>=1?ut>0?(0|Math.min(+Math.floor(ut/4294967296),4294967295))>>>0:~~+Math.ceil((ut-+(~~ut>>>0))/4294967296)>>>0:0)],O[H>>2]=le[0],O[H+4>>2]=le[1],De.getdents&&0===be&&0===F&&(De.getdents=null),0}catch(je){if(typeof E>"u"||!(je instanceof E.ErrnoError))throw je;return je.errno}},n:function Pi(p,y,w,F){try{var be=function ys(p,y,w,F){for(var H=0,be=0;be<w;be++){var De=ye[y>>2],je=ye[y+4>>2];y+=8;var Et=E.write(p,Qe,De,je,F);if(Et<0)return-1;H+=Et}return H}(S.getStreamFromFD(p),y,w);return ye[F>>2]=be,0}catch(De){if(typeof E>"u"||!(De instanceof E.ErrnoError))throw De;return De.errno}},l:function P(p,y,w,F,H){return function Oe(p,y,w,F){var H=O[F+40>>2],be={tm_sec:O[F>>2],tm_min:O[F+4>>2],tm_hour:O[F+8>>2],tm_mday:O[F+12>>2],tm_mon:O[F+16>>2],tm_year:O[F+20>>2],tm_wday:O[F+24>>2],tm_yday:O[F+28>>2],tm_isdst:O[F+32>>2],tm_gmtoff:O[F+36>>2],tm_zone:H?$e(H):""},De=$e(w),je={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Et in je)De=De.replace(new RegExp(Et,"g"),je[Et]);var pn=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],An=["January","February","March","April","May","June","July","August","September","October","November","December"];function xn(gt,zt,Gr){for(var fr="number"==typeof gt?gt.toString():gt||"";fr.length<zt;)fr=Gr[0]+fr;return fr}function Gt(gt,zt){return xn(gt,zt,"0")}function Yt(gt,zt){function Gr(Vo){return Vo<0?-1:Vo>0?1:0}var fr;return 0===(fr=Gr(gt.getFullYear()-zt.getFullYear()))&&0===(fr=Gr(gt.getMonth()-zt.getMonth()))&&(fr=Gr(gt.getDate()-zt.getDate())),fr}function ne(gt){switch(gt.getDay()){case 0:return new Date(gt.getFullYear()-1,11,29);case 1:return gt;case 2:return new Date(gt.getFullYear(),0,3);case 3:return new Date(gt.getFullYear(),0,2);case 4:return new Date(gt.getFullYear(),0,1);case 5:return new Date(gt.getFullYear()-1,11,31);case 6:return new Date(gt.getFullYear()-1,11,30)}}function Dr(gt){var zt=function ge(p,y){for(var w=new Date(p.getTime());y>0;){var F=No(w.getFullYear()),H=w.getMonth(),be=(F?A:N)[H];if(!(y>be-w.getDate()))return w.setDate(w.getDate()+y),w;y-=be-w.getDate()+1,w.setDate(1),H<11?w.setMonth(H+1):(w.setMonth(0),w.setFullYear(w.getFullYear()+1))}return w}(new Date(gt.tm_year+1900,0,1),gt.tm_yday),Gr=new Date(zt.getFullYear(),0,4),fr=new Date(zt.getFullYear()+1,0,4),Vo=ne(Gr),Tn=ne(fr);return Yt(Vo,zt)<=0?Yt(Tn,zt)<=0?zt.getFullYear()+1:zt.getFullYear():zt.getFullYear()-1}var _n={"%a":function(gt){return pn[gt.tm_wday].substring(0,3)},"%A":function(gt){return pn[gt.tm_wday]},"%b":function(gt){return An[gt.tm_mon].substring(0,3)},"%B":function(gt){return An[gt.tm_mon]},"%C":function(gt){return Gt((gt.tm_year+1900)/100|0,2)},"%d":function(gt){return Gt(gt.tm_mday,2)},"%e":function(gt){return xn(gt.tm_mday,2," ")},"%g":function(gt){return Dr(gt).toString().substring(2)},"%G":function(gt){return Dr(gt)},"%H":function(gt){return Gt(gt.tm_hour,2)},"%I":function(gt){var zt=gt.tm_hour;return 0==zt?zt=12:zt>12&&(zt-=12),Gt(zt,2)},"%j":function(gt){return Gt(gt.tm_mday+function er(p,y){for(var w=0,F=0;F<=y;w+=p[F++]);return w}(No(gt.tm_year+1900)?A:N,gt.tm_mon-1),3)},"%m":function(gt){return Gt(gt.tm_mon+1,2)},"%M":function(gt){return Gt(gt.tm_min,2)},"%n":function(){return"\n"},"%p":function(gt){return gt.tm_hour>=0&&gt.tm_hour<12?"AM":"PM"},"%S":function(gt){return Gt(gt.tm_sec,2)},"%t":function(){return"\t"},"%u":function(gt){return gt.tm_wday||7},"%U":function(gt){return Gt(Math.floor((gt.tm_yday+7-gt.tm_wday)/7),2)},"%V":function(gt){var zt=Math.floor((gt.tm_yday+7-(gt.tm_wday+6)%7)/7);if((gt.tm_wday+371-gt.tm_yday-2)%7<=2&&zt++,zt){if(53==zt){var fr=(gt.tm_wday+371-gt.tm_yday)%7;4!=fr&&(3!=fr||!No(gt.tm_year))&&(zt=1)}}else{zt=52;var Gr=(gt.tm_wday+7-gt.tm_yday-1)%7;(4==Gr||5==Gr&&No(gt.tm_year%400-1))&&zt++}return Gt(zt,2)},"%w":function(gt){return gt.tm_wday},"%W":function(gt){return Gt(Math.floor((gt.tm_yday+7-(gt.tm_wday+6)%7)/7),2)},"%y":function(gt){return(gt.tm_year+1900).toString().substring(2)},"%Y":function(gt){return gt.tm_year+1900},"%z":function(gt){var zt=gt.tm_gmtoff,Gr=zt>=0;return zt=(zt=Math.abs(zt)/60)/60*100+zt%60,(Gr?"+":"-")+String("0000"+zt).slice(-4)},"%Z":function(gt){return gt.tm_zone},"%%":function(){return"%"}};for(var Et in De=De.replace(/%%/g,"\0\0"),_n)De.includes(Et)&&(De=De.replace(new RegExp(Et,"g"),_n[Et](be)));var Yr=en(De=De.replace(/\0\0/g,"%"),!1);return Yr.length>y?0:(function Se(p,y){Qe.set(p,y)}(Yr,p),Yr.length-1)}(p,y,w,F)}},Do=(function Nr(){var p={a:xe};function y(De,je){c.asm=De.exports,Ve((de=c.asm.r).buffer),function Wr(p){Re.unshift(p)}(c.asm.s),kr()}function w(De){y(De.instance)}function F(De){return function Xi(){return pe||!ue&&!Y||"function"!=typeof fetch?Promise.resolve().then(function(){return Zr(mn)}):fetch(mn,{credentials:"same-origin"}).then(function(p){if(!p.ok)throw"failed to load wasm binary file at '"+mn+"'";return p.arrayBuffer()}).catch(function(){return Zr(mn)})}().then(function(je){return WebAssembly.instantiate(je,p)}).then(function(je){return je}).then(De,function(je){K("failed to asynchronously prepare wasm: "+je),or(je)})}if(Ur(),c.instantiateWasm)try{return c.instantiateWasm(p,y)}catch(De){K("Module.instantiateWasm callback failed with error: "+De),te(De)}(function H(){return pe||"function"!=typeof WebAssembly.instantiateStreaming||Qr(mn)||"function"!=typeof fetch?F(w):fetch(mn,{credentials:"same-origin"}).then(function(De){return WebAssembly.instantiateStreaming(De,p).then(w,function(Et){return K("wasm streaming compile failed: "+Et),K("falling back to ArrayBuffer instantiation"),F(w)})})})().catch(te)}(),c.___wasm_call_ctors=function(){return(c.___wasm_call_ctors=c.asm.s).apply(null,arguments)},c._free=function(){return(c._free=c.asm.t).apply(null,arguments)},c._malloc=function(){return(Do=c._malloc=c.asm.u).apply(null,arguments)}),Kr=c._emscripten_bind_VoidPtr___destroy___0=function(){return(Kr=c._emscripten_bind_VoidPtr___destroy___0=c.asm.v).apply(null,arguments)},Io=c._emscripten_bind_FSTools_FSTools_0=function(){return(Io=c._emscripten_bind_FSTools_FSTools_0=c.asm.w).apply(null,arguments)},di=c._emscripten_bind_FSTools_Malloc_1=function(){return(di=c._emscripten_bind_FSTools_Malloc_1=c.asm.x).apply(null,arguments)},br=c._emscripten_bind_FSTools_Free_1=function(){return(br=c._emscripten_bind_FSTools_Free_1=c.asm.y).apply(null,arguments)},ts=c._emscripten_bind_FSTools_Nullptr_0=function(){return(ts=c._emscripten_bind_FSTools_Nullptr_0=c.asm.z).apply(null,arguments)},Oa=c._emscripten_bind_FSTools___destroy___0=function(){return(Oa=c._emscripten_bind_FSTools___destroy___0=c.asm.A).apply(null,arguments)},Na=c._emscripten_bind_MkfsContext_MkfsContext_0=function(){return(Na=c._emscripten_bind_MkfsContext_MkfsContext_0=c.asm.B).apply(null,arguments)},Si=c._emscripten_bind_MkfsContext_Mkfs_2=function(){return(Si=c._emscripten_bind_MkfsContext_Mkfs_2=c.asm.C).apply(null,arguments)},La=c._emscripten_bind_MkfsContext_GetImage_0=function(){return(La=c._emscripten_bind_MkfsContext_GetImage_0=c.asm.D).apply(null,arguments)},Us=c._emscripten_bind_MkfsContext_GetImageSize_0=function(){return(Us=c._emscripten_bind_MkfsContext_GetImageSize_0=c.asm.E).apply(null,arguments)},js=c._emscripten_bind_MkfsContext___destroy___0=function(){return(js=c._emscripten_bind_MkfsContext___destroy___0=c.asm.F).apply(null,arguments)},ml=c._emscripten_bind_FsckContext_FsckContext_1=function(){return(ml=c._emscripten_bind_FsckContext_FsckContext_1=c.asm.G).apply(null,arguments)},gl=c._emscripten_bind_FsckContext_GetImage_0=function(){return(gl=c._emscripten_bind_FsckContext_GetImage_0=c.asm.H).apply(null,arguments)},yl=c._emscripten_bind_FsckContext_GetDirtyPages_0=function(){return(yl=c._emscripten_bind_FsckContext_GetDirtyPages_0=c.asm.I).apply(null,arguments)},ra=c._emscripten_bind_FsckContext_GetImageSize_0=function(){return(ra=c._emscripten_bind_FsckContext_GetImageSize_0=c.asm.J).apply(null,arguments)},_l=c._emscripten_bind_FsckContext_Fsck_0=function(){return(_l=c._emscripten_bind_FsckContext_Fsck_0=c.asm.K).apply(null,arguments)},ko=c._emscripten_bind_FsckContext_GetResult_0=function(){return(ko=c._emscripten_bind_FsckContext_GetResult_0=c.asm.L).apply(null,arguments)},Zn=c._emscripten_bind_FsckContext___destroy___0=function(){return(Zn=c._emscripten_bind_FsckContext___destroy___0=c.asm.M).apply(null,arguments)};function _s(p){function y(){Hs||(Hs=!0,c.calledRun=!0,!at&&(function vn(){!c.noFSInit&&!E.init.initialized&&E.init(),E.ignorePermissions=!1,Qn.init(),Bn(Re)}(),function dr(){Bn(Mt)}(),oe(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),oa&&function gr(p){var y=c._main;try{var H=y(0,0);return gs(H),H}catch(be){return function he(p){if(p instanceof Pn||"unwind"==p)return ce;V(1,p)}(be)}}(),function Xn(){if(c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;)p=c.postRun.shift(),cn.unshift(p);var p;Bn(cn)}()))}p=p||J,Rn>0||(function z(){if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)p=c.preRun.shift(),ht.unshift(p);var p;Bn(ht)}(),Rn>0)||(c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),y()},1)):y())}if(c._main=function(){return(c._main=c.asm.N).apply(null,arguments)},c.___original_main=function(){return(c.___original_main=c.asm.P).apply(null,arguments)},c.___start_em_js=40220,c.___stop_em_js=40318,jn=function p(){Hs||_s(),Hs||(jn=p)},c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);c.preInit.length>0;)c.preInit.pop()();var oa=!0;function to(){}function ns(p){return(p||to).__cache__}function Ei(p,y){var w=ns(y),F=w[p];return F||((F=Object.create((y||to).prototype)).ptr=p,w[p]=F)}c.noInitialRun&&(oa=!1),_s(),(to.prototype=Object.create(to.prototype)).constructor=to,to.prototype.__class__=to,to.__cache__={},c.WrapperObject=to,c.getCache=ns,c.wrapPointer=Ei,c.castObject=function ia(p,y){return Ei(p.ptr,y)},c.NULL=Ei(0),c.destroy=function Rs(p){if(!p.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";p.__destroy__(),delete ns(p.__class__)[p.ptr]},c.compare=function Gs(p,y){return p.ptr===y.ptr},c.getPointer=function sa(p){return p.ptr},c.getClass=function $a(p){return p.__class__};var kt={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(kt.needed){for(var p=0;p<kt.temps.length;p++)c._free(kt.temps[p]);kt.temps.length=0,c._free(kt.buffer),kt.buffer=0,kt.size+=kt.needed,kt.needed=0}kt.buffer||(kt.size+=128,kt.buffer=c._malloc(kt.size),Ce(kt.buffer)),kt.pos=0},alloc:function(p,y){Ce(kt.buffer);var H,F=p.length*y.BYTES_PER_ELEMENT;return kt.pos+(F=F+7&-8)>=kt.size?(Ce(F>0),kt.needed+=F,H=c._malloc(F),kt.temps.push(H)):(H=kt.buffer+kt.pos,kt.pos+=F),H},copy:function(p,y,w){switch(w>>>=0,y.BYTES_PER_ELEMENT){case 2:w>>>=1;break;case 4:w>>>=2;break;case 8:w>>>=3}for(var H=0;H<p.length;H++)y[w+H]=p[H]}};function lo(){throw"cannot construct a VoidPtr, no constructor in IDL"}function ir(){this.ptr=Io(),ns(ir)[this.ptr]=this}function Hr(){this.ptr=Na(),ns(Hr)[this.ptr]=this}function Mr(p){p&&"object"==typeof p&&(p=p.ptr),this.ptr=ml(p),ns(Mr)[this.ptr]=this}return(lo.prototype=Object.create(to.prototype)).constructor=lo,lo.prototype.__class__=lo,lo.__cache__={},c.VoidPtr=lo,lo.prototype.__destroy__=lo.prototype.__destroy__=function(){Kr(this.ptr)},(ir.prototype=Object.create(to.prototype)).constructor=ir,ir.prototype.__class__=ir,ir.__cache__={},c.FSTools=ir,ir.prototype.Malloc=ir.prototype.Malloc=function(p){return p&&"object"==typeof p&&(p=p.ptr),Ei(di(this.ptr,p),lo)},ir.prototype.Free=ir.prototype.Free=function(p){p&&"object"==typeof p&&(p=p.ptr),br(this.ptr,p)},ir.prototype.Nullptr=ir.prototype.Nullptr=function(){return Ei(ts(this.ptr),lo)},ir.prototype.__destroy__=ir.prototype.__destroy__=function(){Oa(this.ptr)},(Hr.prototype=Object.create(to.prototype)).constructor=Hr,Hr.prototype.__class__=Hr,Hr.__cache__={},c.MkfsContext=Hr,Hr.prototype.Mkfs=Hr.prototype.Mkfs=function(p,y){var w=this.ptr;return kt.prepare(),p&&"object"==typeof p&&(p=p.ptr),y=y&&"object"==typeof y?y.ptr:function zs(p){if("string"==typeof p){var y=en(p),w=kt.alloc(y,Qe);return kt.copy(y,Qe,w),w}return p}(y),!!Si(w,p,y)},Hr.prototype.GetImage=Hr.prototype.GetImage=function(){return Ei(La(this.ptr),lo)},Hr.prototype.GetImageSize=Hr.prototype.GetImageSize=function(){return Us(this.ptr)},Hr.prototype.__destroy__=Hr.prototype.__destroy__=function(){js(this.ptr)},(Mr.prototype=Object.create(to.prototype)).constructor=Mr,Mr.prototype.__class__=Mr,Mr.__cache__={},c.FsckContext=Mr,Mr.prototype.GetImage=Mr.prototype.GetImage=function(){return Ei(gl(this.ptr),lo)},Mr.prototype.GetDirtyPages=Mr.prototype.GetDirtyPages=function(){return Ei(yl(this.ptr),lo)},Mr.prototype.GetImageSize=Mr.prototype.GetImageSize=function(){return ra(this.ptr)},Mr.prototype.Fsck=Mr.prototype.Fsck=function(){return _l(this.ptr)},Mr.prototype.GetResult=Mr.prototype.GetResult=function(){return ko(this.ptr)},Mr.prototype.__destroy__=Mr.prototype.__destroy__=function(){Zn(this.ptr)},I.ready});Be.exports=ze},7971:Be=>{var x,ze=(x=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(I){var oe,te,c=typeof(I=I||{})<"u"?I:{};c.ready=new Promise(function(d,g){oe=d,te=g});var j,Pe,Le,G=Object.assign({},c),J=[],L="./this.program",V=(d,g)=>{throw g},ue="object"==typeof window,Y="function"==typeof importScripts,B=("object"==typeof process&&"object"==typeof process.versions&&process,"");(ue||Y)&&(Y?B=self.location.href:typeof document<"u"&&document.currentScript&&(B=document.currentScript.src),x&&(B=x),B=0!==B.indexOf("blob:")?B.substr(0,B.replace(/[?#].*/,"").lastIndexOf("/")+1):"",j=d=>{var g=new XMLHttpRequest;return g.open("GET",d,!1),g.send(null),g.responseText},Y&&(Le=d=>{var g=new XMLHttpRequest;return g.open("GET",d,!1),g.responseType="arraybuffer",g.send(null),new Uint8Array(g.response)}),Pe=(d,g,b)=>{var R=new XMLHttpRequest;R.open("GET",d,!0),R.responseType="arraybuffer",R.onload=()=>{200==R.status||0==R.status&&R.response?g(R.response):b()},R.onerror=b,R.send(null)});var pe,W=c.print||console.log.bind(console),K=c.printErr||console.warn.bind(console);Object.assign(c,G),G=null,c.arguments&&(J=c.arguments),c.thisProgram&&(L=c.thisProgram),c.quit&&(V=c.quit),c.wasmBinary&&(pe=c.wasmBinary);var Fe=c.noExitRuntime||!0;"object"!=typeof WebAssembly&&or("no native wasm support detected");var de,ce,at=!1;function Ce(d,g){d||or(g)}var Ue,Qe,vt,O,ye,Ie=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Xe(d,g,b){for(var R=g+b,Z=g;d[Z]&&!(Z>=R);)++Z;if(Z-g>16&&d.buffer&&Ie)return Ie.decode(d.subarray(g,Z));for(var Q="";g<Z;){var _e=d[g++];if(128&_e){var Ee=63&d[g++];if(192!=(224&_e)){var yt=63&d[g++];if((_e=224==(240&_e)?(15&_e)<<12|Ee<<6|yt:(7&_e)<<18|Ee<<12|yt<<6|63&d[g++])<65536)Q+=String.fromCharCode(_e);else{var Bt=_e-65536;Q+=String.fromCharCode(55296|Bt>>10,56320|1023&Bt)}}else Q+=String.fromCharCode((31&_e)<<6|Ee)}else Q+=String.fromCharCode(_e)}return Q}function $e(d,g){return d?Xe(vt,d,g):""}function Te(d,g,b,R){if(!(R>0))return 0;for(var Z=b,Q=b+R-1,_e=0;_e<d.length;++_e){var Ee=d.charCodeAt(_e);if(Ee>=55296&&Ee<=57343&&(Ee=65536+((1023&Ee)<<10)|1023&d.charCodeAt(++_e)),Ee<=127){if(b>=Q)break;g[b++]=Ee}else if(Ee<=2047){if(b+1>=Q)break;g[b++]=192|Ee>>6,g[b++]=128|63&Ee}else if(Ee<=65535){if(b+2>=Q)break;g[b++]=224|Ee>>12,g[b++]=128|Ee>>6&63,g[b++]=128|63&Ee}else{if(b+3>=Q)break;g[b++]=240|Ee>>18,g[b++]=128|Ee>>12&63,g[b++]=128|Ee>>6&63,g[b++]=128|63&Ee}}return g[b]=0,b-Z}function re(d){for(var g=0,b=0;b<d.length;++b){var R=d.charCodeAt(b);R<=127?g++:R<=2047?g+=2:R>=55296&&R<=57343?(g+=4,++b):g+=3}return g}function Ve(d){Ue=d,c.HEAP8=Qe=new Int8Array(d),c.HEAP16=new Int16Array(d),c.HEAP32=O=new Int32Array(d),c.HEAPU8=vt=new Uint8Array(d),c.HEAPU16=new Uint16Array(d),c.HEAPU32=ye=new Uint32Array(d),c.HEAPF32=new Float32Array(d),c.HEAPF64=new Float64Array(d)}var mn,ut,le,ht=[],Re=[],Mt=[],cn=[],Rn=0,so=null,jn=null;function Ur(d){Rn++,c.monitorRunDependencies&&c.monitorRunDependencies(Rn)}function kr(d){if(Rn--,c.monitorRunDependencies&&c.monitorRunDependencies(Rn),0==Rn&&(null!==so&&(clearInterval(so),so=null),jn)){var g=jn;jn=null,g()}}function or(d){c.onAbort&&c.onAbort(d),K(d="Aborted("+d+")"),at=!0,ce=1,d+=". Build with -sASSERTIONS for more info.";var g=new WebAssembly.RuntimeError(d);throw te(g),g}function Qr(d){return d.startsWith("data:application/octet-stream;base64,")}function Zr(d){try{if(d==mn&&pe)return new Uint8Array(pe);if(Le)return Le(d);throw"both async and sync fetching of the wasm failed"}catch(g){or(g)}}function Ge(d){this.name="ExitStatus",this.message="Program terminated with exit("+d+")",this.status=d}function Pn(d){for(;d.length>0;)d.shift()(c)}function Kt(d,g){return g+2097152>>>0<4194305-!!d?(d>>>0)+4294967296*g:NaN}Qr(mn="vfs_web.wasm")||(mn=function $(d){return c.locateFile?c.locateFile(d,B):B+d}(mn));var Rt={isAbs:d=>"/"===d.charAt(0),splitPath:d=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(d).slice(1),normalizeArray:(d,g)=>{for(var b=0,R=d.length-1;R>=0;R--){var Z=d[R];"."===Z?d.splice(R,1):".."===Z?(d.splice(R,1),b++):b&&(d.splice(R,1),b--)}if(g)for(;b;b--)d.unshift("..");return d},normalize:d=>{var g=Rt.isAbs(d),b="/"===d.substr(-1);return!(d=Rt.normalizeArray(d.split("/").filter(R=>!!R),!g).join("/"))&&!g&&(d="."),d&&b&&(d+="/"),(g?"/":"")+d},dirname:d=>{var g=Rt.splitPath(d),b=g[0],R=g[1];return b||R?(R&&(R=R.substr(0,R.length-1)),b+R):"."},basename:d=>{if("/"===d)return"/";var g=(d=(d=Rt.normalize(d)).replace(/\/$/,"")).lastIndexOf("/");return-1===g?d:d.substr(g+1)},join:function(){var d=Array.prototype.slice.call(arguments);return Rt.normalize(d.join("/"))},join2:(d,g)=>Rt.normalize(d+"/"+g)},en={resolve:function(){for(var d="",g=!1,b=arguments.length-1;b>=-1&&!g;b--){var R=b>=0?arguments[b]:S.cwd();if("string"!=typeof R)throw new TypeError("Arguments to path.resolve must be strings");if(!R)return"";d=R+"/"+d,g=Rt.isAbs(R)}return(g?"/":"")+(d=Rt.normalizeArray(d.split("/").filter(Z=>!!Z),!g).join("/"))||"."},relative:(d,g)=>{function b(Bt){for(var Dn=0;Dn<Bt.length&&""===Bt[Dn];Dn++);for(var wn=Bt.length-1;wn>=0&&""===Bt[wn];wn--);return Dn>wn?[]:Bt.slice(Dn,wn-Dn+1)}d=en.resolve(d).substr(1),g=en.resolve(g).substr(1);for(var R=b(d.split("/")),Z=b(g.split("/")),Q=Math.min(R.length,Z.length),_e=Q,Ee=0;Ee<Q;Ee++)if(R[Ee]!==Z[Ee]){_e=Ee;break}var yt=[];for(Ee=_e;Ee<R.length;Ee++)yt.push("..");return(yt=yt.concat(Z.slice(_e))).join("/")}};function Qn(d,g,b){var R=b>0?b:re(d)+1,Z=new Array(R),Q=Te(d,Z,0,Z.length);return g&&(Z.length=Q),Z}var Jn={ttys:[],init:function(){},shutdown:function(){},register:function(d,g){Jn.ttys[d]={input:[],output:[],ops:g},S.registerDevice(d,Jn.stream_ops)},stream_ops:{open:function(d){var g=Jn.ttys[d.node.rdev];if(!g)throw new S.ErrnoError(43);d.tty=g,d.seekable=!1},close:function(d){d.tty.ops.fsync(d.tty)},fsync:function(d){d.tty.ops.fsync(d.tty)},read:function(d,g,b,R,Z){if(!d.tty||!d.tty.ops.get_char)throw new S.ErrnoError(60);for(var Q=0,_e=0;_e<R;_e++){var Ee;try{Ee=d.tty.ops.get_char(d.tty)}catch{throw new S.ErrnoError(29)}if(void 0===Ee&&0===Q)throw new S.ErrnoError(6);if(null==Ee)break;Q++,g[b+_e]=Ee}return Q&&(d.node.timestamp=Date.now()),Q},write:function(d,g,b,R,Z){if(!d.tty||!d.tty.ops.put_char)throw new S.ErrnoError(60);try{for(var Q=0;Q<R;Q++)d.tty.ops.put_char(d.tty,g[b+Q])}catch{throw new S.ErrnoError(29)}return R&&(d.node.timestamp=Date.now()),Q}},default_tty_ops:{get_char:function(d){if(!d.input.length){var g=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(g=window.prompt("Input: "))&&(g+="\n"):"function"==typeof readline&&null!==(g=readline())&&(g+="\n"),!g)return null;d.input=Qn(g,!0)}return d.input.shift()},put_char:function(d,g){null===g||10===g?(W(Xe(d.output,0)),d.output=[]):0!=g&&d.output.push(g)},fsync:function(d){d.output&&d.output.length>0&&(W(Xe(d.output,0)),d.output=[])}},default_tty1_ops:{put_char:function(d,g){null===g||10===g?(K(Xe(d.output,0)),d.output=[]):0!=g&&d.output.push(g)},fsync:function(d){d.output&&d.output.length>0&&(K(Xe(d.output,0)),d.output=[])}}};function un(d){or()}var jt={ops_table:null,mount:function(d){return jt.createNode(null,"/",16895,0)},createNode:function(d,g,b,R){if(S.isBlkdev(b)||S.isFIFO(b))throw new S.ErrnoError(63);jt.ops_table||(jt.ops_table={dir:{node:{getattr:jt.node_ops.getattr,setattr:jt.node_ops.setattr,lookup:jt.node_ops.lookup,mknod:jt.node_ops.mknod,rename:jt.node_ops.rename,unlink:jt.node_ops.unlink,rmdir:jt.node_ops.rmdir,readdir:jt.node_ops.readdir,symlink:jt.node_ops.symlink},stream:{llseek:jt.stream_ops.llseek}},file:{node:{getattr:jt.node_ops.getattr,setattr:jt.node_ops.setattr},stream:{llseek:jt.stream_ops.llseek,read:jt.stream_ops.read,write:jt.stream_ops.write,allocate:jt.stream_ops.allocate,mmap:jt.stream_ops.mmap,msync:jt.stream_ops.msync}},link:{node:{getattr:jt.node_ops.getattr,setattr:jt.node_ops.setattr,readlink:jt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:jt.node_ops.getattr,setattr:jt.node_ops.setattr},stream:S.chrdev_stream_ops}});var Z=S.createNode(d,g,b,R);return S.isDir(Z.mode)?(Z.node_ops=jt.ops_table.dir.node,Z.stream_ops=jt.ops_table.dir.stream,Z.contents={}):S.isFile(Z.mode)?(Z.node_ops=jt.ops_table.file.node,Z.stream_ops=jt.ops_table.file.stream,Z.usedBytes=0,Z.contents=null):S.isLink(Z.mode)?(Z.node_ops=jt.ops_table.link.node,Z.stream_ops=jt.ops_table.link.stream):S.isChrdev(Z.mode)&&(Z.node_ops=jt.ops_table.chrdev.node,Z.stream_ops=jt.ops_table.chrdev.stream),Z.timestamp=Date.now(),d&&(d.contents[g]=Z,d.timestamp=Z.timestamp),Z},getFileDataAsTypedArray:function(d){return d.contents?d.contents.subarray?d.contents.subarray(0,d.usedBytes):new Uint8Array(d.contents):new Uint8Array(0)},expandFileStorage:function(d,g){var b=d.contents?d.contents.length:0;if(!(b>=g)){g=Math.max(g,b*(b<1048576?2:1.125)>>>0),0!=b&&(g=Math.max(g,256));var Z=d.contents;d.contents=new Uint8Array(g),d.usedBytes>0&&d.contents.set(Z.subarray(0,d.usedBytes),0)}},resizeFileStorage:function(d,g){if(d.usedBytes!=g)if(0==g)d.contents=null,d.usedBytes=0;else{var b=d.contents;d.contents=new Uint8Array(g),b&&d.contents.set(b.subarray(0,Math.min(g,d.usedBytes))),d.usedBytes=g}},node_ops:{getattr:function(d){var g={};return g.dev=S.isChrdev(d.mode)?d.id:1,g.ino=d.id,g.mode=d.mode,g.nlink=1,g.uid=0,g.gid=0,g.rdev=d.rdev,g.size=S.isDir(d.mode)?4096:S.isFile(d.mode)?d.usedBytes:S.isLink(d.mode)?d.link.length:0,g.atime=new Date(d.timestamp),g.mtime=new Date(d.timestamp),g.ctime=new Date(d.timestamp),g.blksize=4096,g.blocks=Math.ceil(g.size/g.blksize),g},setattr:function(d,g){void 0!==g.mode&&(d.mode=g.mode),void 0!==g.timestamp&&(d.timestamp=g.timestamp),void 0!==g.size&&jt.resizeFileStorage(d,g.size)},lookup:function(d,g){throw S.genericErrors[44]},mknod:function(d,g,b,R){return jt.createNode(d,g,b,R)},rename:function(d,g,b){if(S.isDir(d.mode)){var R;try{R=S.lookupNode(g,b)}catch{}if(R)for(var Z in R.contents)throw new S.ErrnoError(55)}delete d.parent.contents[d.name],d.parent.timestamp=Date.now(),d.name=b,g.contents[b]=d,g.timestamp=d.parent.timestamp,d.parent=g},unlink:function(d,g){delete d.contents[g],d.timestamp=Date.now()},rmdir:function(d,g){var b=S.lookupNode(d,g);for(var R in b.contents)throw new S.ErrnoError(55);delete d.contents[g],d.timestamp=Date.now()},readdir:function(d){var g=[".",".."];for(var b in d.contents)d.contents.hasOwnProperty(b)&&g.push(b);return g},symlink:function(d,g,b){var R=jt.createNode(d,g,41471,0);return R.link=b,R},readlink:function(d){if(!S.isLink(d.mode))throw new S.ErrnoError(28);return d.link}},stream_ops:{read:function(d,g,b,R,Z){var Q=d.node.contents;if(Z>=d.node.usedBytes)return 0;var _e=Math.min(d.node.usedBytes-Z,R);if(_e>8&&Q.subarray)g.set(Q.subarray(Z,Z+_e),b);else for(var Ee=0;Ee<_e;Ee++)g[b+Ee]=Q[Z+Ee];return _e},write:function(d,g,b,R,Z,Q){if(g.buffer===Qe.buffer&&(Q=!1),!R)return 0;var _e=d.node;if(_e.timestamp=Date.now(),g.subarray&&(!_e.contents||_e.contents.subarray)){if(Q)return _e.contents=g.subarray(b,b+R),_e.usedBytes=R,R;if(0===_e.usedBytes&&0===Z)return _e.contents=g.slice(b,b+R),_e.usedBytes=R,R;if(Z+R<=_e.usedBytes)return _e.contents.set(g.subarray(b,b+R),Z),R}if(jt.expandFileStorage(_e,Z+R),_e.contents.subarray&&g.subarray)_e.contents.set(g.subarray(b,b+R),Z);else for(var Ee=0;Ee<R;Ee++)_e.contents[Z+Ee]=g[b+Ee];return _e.usedBytes=Math.max(_e.usedBytes,Z+R),R},llseek:function(d,g,b){var R=g;if(1===b?R+=d.position:2===b&&S.isFile(d.node.mode)&&(R+=d.node.usedBytes),R<0)throw new S.ErrnoError(28);return R},allocate:function(d,g,b){jt.expandFileStorage(d.node,g+b),d.node.usedBytes=Math.max(d.node.usedBytes,g+b)},mmap:function(d,g,b,R,Z){if(!S.isFile(d.node.mode))throw new S.ErrnoError(43);var Q,_e,Ee=d.node.contents;if(2&Z||Ee.buffer!==Ue){if((b>0||b+g<Ee.length)&&(Ee=Ee.subarray?Ee.subarray(b,b+g):Array.prototype.slice.call(Ee,b,b+g)),_e=!0,!(Q=un()))throw new S.ErrnoError(48);Qe.set(Ee,Q)}else _e=!1,Q=Ee.byteOffset;return{ptr:Q,allocated:_e}},msync:function(d,g,b,R,Z){return jt.stream_ops.write(d,g,0,R,b,!1),0}}},S={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(d,g={})=>{if(!(d=en.resolve(d)))return{path:"",node:null};if((g=Object.assign({follow_mount:!0,recurse_count:0},g)).recurse_count>8)throw new S.ErrnoError(32);for(var R=d.split("/").filter(wn=>!!wn),Z=S.root,Q="/",_e=0;_e<R.length;_e++){var Ee=_e===R.length-1;if(Ee&&g.parent)break;if(Z=S.lookupNode(Z,R[_e]),Q=Rt.join2(Q,R[_e]),S.isMountpoint(Z)&&(!Ee||Ee&&g.follow_mount)&&(Z=Z.mounted.root),!Ee||g.follow)for(var yt=0;S.isLink(Z.mode);){var Bt=S.readlink(Q);if(Q=en.resolve(Rt.dirname(Q),Bt),Z=S.lookupPath(Q,{recurse_count:g.recurse_count+1}).node,yt++>40)throw new S.ErrnoError(32)}}return{path:Q,node:Z}},getPath:d=>{for(var g;;){if(S.isRoot(d)){var b=d.mount.mountpoint;return g?"/"!==b[b.length-1]?b+"/"+g:b+g:b}g=g?d.name+"/"+g:d.name,d=d.parent}},hashName:(d,g)=>{for(var b=0,R=0;R<g.length;R++)b=(b<<5)-b+g.charCodeAt(R)|0;return(d+b>>>0)%S.nameTable.length},hashAddNode:d=>{var g=S.hashName(d.parent.id,d.name);d.name_next=S.nameTable[g],S.nameTable[g]=d},hashRemoveNode:d=>{var g=S.hashName(d.parent.id,d.name);if(S.nameTable[g]===d)S.nameTable[g]=d.name_next;else for(var b=S.nameTable[g];b;){if(b.name_next===d){b.name_next=d.name_next;break}b=b.name_next}},lookupNode:(d,g)=>{var b=S.mayLookup(d);if(b)throw new S.ErrnoError(b,d);for(var R=S.hashName(d.id,g),Z=S.nameTable[R];Z;Z=Z.name_next)if(Z.parent.id===d.id&&Z.name===g)return Z;return S.lookup(d,g)},createNode:(d,g,b,R)=>{var Z=new S.FSNode(d,g,b,R);return S.hashAddNode(Z),Z},destroyNode:d=>{S.hashRemoveNode(d)},isRoot:d=>d===d.parent,isMountpoint:d=>!!d.mounted,isFile:d=>32768==(61440&d),isDir:d=>16384==(61440&d),isLink:d=>40960==(61440&d),isChrdev:d=>8192==(61440&d),isBlkdev:d=>24576==(61440&d),isFIFO:d=>4096==(61440&d),isSocket:d=>49152==(49152&d),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:d=>{var g=S.flagModes[d];if(typeof g>"u")throw new Error("Unknown file open mode: "+d);return g},flagsToPermissionString:d=>{var g=["r","w","rw"][3&d];return 512&d&&(g+="w"),g},nodePermissions:(d,g)=>S.ignorePermissions?0:g.includes("r")&&!(292&d.mode)||g.includes("w")&&!(146&d.mode)||g.includes("x")&&!(73&d.mode)?2:0,mayLookup:d=>S.nodePermissions(d,"x")||(d.node_ops.lookup?0:2),mayCreate:(d,g)=>{try{return S.lookupNode(d,g),20}catch{}return S.nodePermissions(d,"wx")},mayDelete:(d,g,b)=>{var R;try{R=S.lookupNode(d,g)}catch(Q){return Q.errno}var Z=S.nodePermissions(d,"wx");if(Z)return Z;if(b){if(!S.isDir(R.mode))return 54;if(S.isRoot(R)||S.getPath(R)===S.cwd())return 10}else if(S.isDir(R.mode))return 31;return 0},mayOpen:(d,g)=>d?S.isLink(d.mode)?32:S.isDir(d.mode)&&("r"!==S.flagsToPermissionString(g)||512&g)?31:S.nodePermissions(d,S.flagsToPermissionString(g)):44,MAX_OPEN_FDS:4096,nextfd:(d=0,g=S.MAX_OPEN_FDS)=>{for(var b=d;b<=g;b++)if(!S.streams[b])return b;throw new S.ErrnoError(33)},getStream:d=>S.streams[d],createStream:(d,g,b)=>{S.FSStream||(S.FSStream=function(){this.shared={}},S.FSStream.prototype={},Object.defineProperties(S.FSStream.prototype,{object:{get:function(){return this.node},set:function(Z){this.node=Z}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(Z){this.shared.flags=Z}},position:{get:function(){return this.shared.position},set:function(Z){this.shared.position=Z}}})),d=Object.assign(new S.FSStream,d);var R=S.nextfd(g,b);return d.fd=R,S.streams[R]=d,d},closeStream:d=>{S.streams[d]=null},chrdev_stream_ops:{open:d=>{var g=S.getDevice(d.node.rdev);d.stream_ops=g.stream_ops,d.stream_ops.open&&d.stream_ops.open(d)},llseek:()=>{throw new S.ErrnoError(70)}},major:d=>d>>8,minor:d=>255&d,makedev:(d,g)=>d<<8|g,registerDevice:(d,g)=>{S.devices[d]={stream_ops:g}},getDevice:d=>S.devices[d],getMounts:d=>{for(var g=[],b=[d];b.length;){var R=b.pop();g.push(R),b.push.apply(b,R.mounts)}return g},syncfs:(d,g)=>{"function"==typeof d&&(g=d,d=!1),S.syncFSRequests++,S.syncFSRequests>1&&K("warning: "+S.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var b=S.getMounts(S.root.mount),R=0;function Z(_e){return S.syncFSRequests--,g(_e)}function Q(_e){if(_e)return Q.errored?void 0:(Q.errored=!0,Z(_e));++R>=b.length&&Z(null)}b.forEach(_e=>{if(!_e.type.syncfs)return Q(null);_e.type.syncfs(_e,d,Q)})},mount:(d,g,b)=>{var Q,R="/"===b,Z=!b;if(R&&S.root)throw new S.ErrnoError(10);if(!R&&!Z){var _e=S.lookupPath(b,{follow_mount:!1});if(b=_e.path,S.isMountpoint(Q=_e.node))throw new S.ErrnoError(10);if(!S.isDir(Q.mode))throw new S.ErrnoError(54)}var Ee={type:d,opts:g,mountpoint:b,mounts:[]},yt=d.mount(Ee);return yt.mount=Ee,Ee.root=yt,R?S.root=yt:Q&&(Q.mounted=Ee,Q.mount&&Q.mount.mounts.push(Ee)),yt},unmount:d=>{var g=S.lookupPath(d,{follow_mount:!1});if(!S.isMountpoint(g.node))throw new S.ErrnoError(28);var b=g.node,R=b.mounted,Z=S.getMounts(R);Object.keys(S.nameTable).forEach(_e=>{for(var Ee=S.nameTable[_e];Ee;){var yt=Ee.name_next;Z.includes(Ee.mount)&&S.destroyNode(Ee),Ee=yt}}),b.mounted=null;var Q=b.mount.mounts.indexOf(R);b.mount.mounts.splice(Q,1)},lookup:(d,g)=>d.node_ops.lookup(d,g),mknod:(d,g,b)=>{var Z=S.lookupPath(d,{parent:!0}).node,Q=Rt.basename(d);if(!Q||"."===Q||".."===Q)throw new S.ErrnoError(28);var _e=S.mayCreate(Z,Q);if(_e)throw new S.ErrnoError(_e);if(!Z.node_ops.mknod)throw new S.ErrnoError(63);return Z.node_ops.mknod(Z,Q,g,b)},create:(d,g)=>(g=void 0!==g?g:438,g&=4095,S.mknod(d,g|=32768,0)),mkdir:(d,g)=>(g=void 0!==g?g:511,g&=1023,S.mknod(d,g|=16384,0)),mkdirTree:(d,g)=>{for(var b=d.split("/"),R="",Z=0;Z<b.length;++Z)if(b[Z]){R+="/"+b[Z];try{S.mkdir(R,g)}catch(Q){if(20!=Q.errno)throw Q}}},mkdev:(d,g,b)=>(typeof b>"u"&&(b=g,g=438),S.mknod(d,g|=8192,b)),symlink:(d,g)=>{if(!en.resolve(d))throw new S.ErrnoError(44);var R=S.lookupPath(g,{parent:!0}).node;if(!R)throw new S.ErrnoError(44);var Z=Rt.basename(g),Q=S.mayCreate(R,Z);if(Q)throw new S.ErrnoError(Q);if(!R.node_ops.symlink)throw new S.ErrnoError(63);return R.node_ops.symlink(R,Z,d)},rename:(d,g)=>{var Ee,yt,b=Rt.dirname(d),R=Rt.dirname(g),Z=Rt.basename(d),Q=Rt.basename(g);if(Ee=S.lookupPath(d,{parent:!0}).node,yt=S.lookupPath(g,{parent:!0}).node,!Ee||!yt)throw new S.ErrnoError(44);if(Ee.mount!==yt.mount)throw new S.ErrnoError(75);var wn,Bt=S.lookupNode(Ee,Z),Dn=en.relative(d,R);if("."!==Dn.charAt(0))throw new S.ErrnoError(28);if("."!==(Dn=en.relative(g,b)).charAt(0))throw new S.ErrnoError(55);try{wn=S.lookupNode(yt,Q)}catch{}if(Bt!==wn){var Wt=S.isDir(Bt.mode),st=S.mayDelete(Ee,Z,Wt);if(st)throw new S.ErrnoError(st);if(st=wn?S.mayDelete(yt,Q,Wt):S.mayCreate(yt,Q))throw new S.ErrnoError(st);if(!Ee.node_ops.rename)throw new S.ErrnoError(63);if(S.isMountpoint(Bt)||wn&&S.isMountpoint(wn))throw new S.ErrnoError(10);if(yt!==Ee&&(st=S.nodePermissions(Ee,"w")))throw new S.ErrnoError(st);S.hashRemoveNode(Bt);try{Ee.node_ops.rename(Bt,yt,Q)}catch(Tt){throw Tt}finally{S.hashAddNode(Bt)}}},rmdir:d=>{var b=S.lookupPath(d,{parent:!0}).node,R=Rt.basename(d),Z=S.lookupNode(b,R),Q=S.mayDelete(b,R,!0);if(Q)throw new S.ErrnoError(Q);if(!b.node_ops.rmdir)throw new S.ErrnoError(63);if(S.isMountpoint(Z))throw new S.ErrnoError(10);b.node_ops.rmdir(b,R),S.destroyNode(Z)},readdir:d=>{var b=S.lookupPath(d,{follow:!0}).node;if(!b.node_ops.readdir)throw new S.ErrnoError(54);return b.node_ops.readdir(b)},unlink:d=>{var b=S.lookupPath(d,{parent:!0}).node;if(!b)throw new S.ErrnoError(44);var R=Rt.basename(d),Z=S.lookupNode(b,R),Q=S.mayDelete(b,R,!1);if(Q)throw new S.ErrnoError(Q);if(!b.node_ops.unlink)throw new S.ErrnoError(63);if(S.isMountpoint(Z))throw new S.ErrnoError(10);b.node_ops.unlink(b,R),S.destroyNode(Z)},readlink:d=>{var b=S.lookupPath(d).node;if(!b)throw new S.ErrnoError(44);if(!b.node_ops.readlink)throw new S.ErrnoError(28);return en.resolve(S.getPath(b.parent),b.node_ops.readlink(b))},stat:(d,g)=>{var R=S.lookupPath(d,{follow:!g}).node;if(!R)throw new S.ErrnoError(44);if(!R.node_ops.getattr)throw new S.ErrnoError(63);return R.node_ops.getattr(R)},lstat:d=>S.stat(d,!0),chmod:(d,g,b)=>{var R;if(!(R="string"==typeof d?S.lookupPath(d,{follow:!b}).node:d).node_ops.setattr)throw new S.ErrnoError(63);R.node_ops.setattr(R,{mode:4095&g|-4096&R.mode,timestamp:Date.now()})},lchmod:(d,g)=>{S.chmod(d,g,!0)},fchmod:(d,g)=>{var b=S.getStream(d);if(!b)throw new S.ErrnoError(8);S.chmod(b.node,g)},chown:(d,g,b,R)=>{var Z;if(!(Z="string"==typeof d?S.lookupPath(d,{follow:!R}).node:d).node_ops.setattr)throw new S.ErrnoError(63);Z.node_ops.setattr(Z,{timestamp:Date.now()})},lchown:(d,g,b)=>{S.chown(d,g,b,!0)},fchown:(d,g,b)=>{var R=S.getStream(d);if(!R)throw new S.ErrnoError(8);S.chown(R.node,g,b)},truncate:(d,g)=>{if(g<0)throw new S.ErrnoError(28);var b;if(!(b="string"==typeof d?S.lookupPath(d,{follow:!0}).node:d).node_ops.setattr)throw new S.ErrnoError(63);if(S.isDir(b.mode))throw new S.ErrnoError(31);if(!S.isFile(b.mode))throw new S.ErrnoError(28);var Z=S.nodePermissions(b,"w");if(Z)throw new S.ErrnoError(Z);b.node_ops.setattr(b,{size:g,timestamp:Date.now()})},ftruncate:(d,g)=>{var b=S.getStream(d);if(!b)throw new S.ErrnoError(8);if(!(2097155&b.flags))throw new S.ErrnoError(28);S.truncate(b.node,g)},utime:(d,g,b)=>{var Z=S.lookupPath(d,{follow:!0}).node;Z.node_ops.setattr(Z,{timestamp:Math.max(g,b)})},open:(d,g,b)=>{if(""===d)throw new S.ErrnoError(44);var R;if(b=typeof b>"u"?438:b,b=64&(g="string"==typeof g?S.modeStringToFlags(g):g)?4095&b|32768:0,"object"==typeof d)R=d;else{d=Rt.normalize(d);try{R=S.lookupPath(d,{follow:!(131072&g)}).node}catch{}}var Q=!1;if(64&g)if(R){if(128&g)throw new S.ErrnoError(20)}else R=S.mknod(d,b,0),Q=!0;if(!R)throw new S.ErrnoError(44);if(S.isChrdev(R.mode)&&(g&=-513),65536&g&&!S.isDir(R.mode))throw new S.ErrnoError(54);if(!Q){var _e=S.mayOpen(R,g);if(_e)throw new S.ErrnoError(_e)}512&g&&!Q&&S.truncate(R,0),g&=-131713;var Ee=S.createStream({node:R,path:S.getPath(R),flags:g,seekable:!0,position:0,stream_ops:R.stream_ops,ungotten:[],error:!1});return Ee.stream_ops.open&&Ee.stream_ops.open(Ee),c.logReadFiles&&!(1&g)&&(S.readFiles||(S.readFiles={}),d in S.readFiles||(S.readFiles[d]=1)),Ee},close:d=>{if(S.isClosed(d))throw new S.ErrnoError(8);d.getdents&&(d.getdents=null);try{d.stream_ops.close&&d.stream_ops.close(d)}catch(g){throw g}finally{S.closeStream(d.fd)}d.fd=null},isClosed:d=>null===d.fd,llseek:(d,g,b)=>{if(S.isClosed(d))throw new S.ErrnoError(8);if(!d.seekable||!d.stream_ops.llseek)throw new S.ErrnoError(70);if(0!=b&&1!=b&&2!=b)throw new S.ErrnoError(28);return d.position=d.stream_ops.llseek(d,g,b),d.ungotten=[],d.position},read:(d,g,b,R,Z)=>{if(R<0||Z<0)throw new S.ErrnoError(28);if(S.isClosed(d))throw new S.ErrnoError(8);if(1==(2097155&d.flags))throw new S.ErrnoError(8);if(S.isDir(d.node.mode))throw new S.ErrnoError(31);if(!d.stream_ops.read)throw new S.ErrnoError(28);var Q=typeof Z<"u";if(Q){if(!d.seekable)throw new S.ErrnoError(70)}else Z=d.position;var _e=d.stream_ops.read(d,g,b,R,Z);return Q||(d.position+=_e),_e},write:(d,g,b,R,Z,Q)=>{if(R<0||Z<0)throw new S.ErrnoError(28);if(S.isClosed(d))throw new S.ErrnoError(8);if(!(2097155&d.flags))throw new S.ErrnoError(8);if(S.isDir(d.node.mode))throw new S.ErrnoError(31);if(!d.stream_ops.write)throw new S.ErrnoError(28);d.seekable&&1024&d.flags&&S.llseek(d,0,2);var _e=typeof Z<"u";if(_e){if(!d.seekable)throw new S.ErrnoError(70)}else Z=d.position;var Ee=d.stream_ops.write(d,g,b,R,Z,Q);return _e||(d.position+=Ee),Ee},allocate:(d,g,b)=>{if(S.isClosed(d))throw new S.ErrnoError(8);if(g<0||b<=0)throw new S.ErrnoError(28);if(!(2097155&d.flags))throw new S.ErrnoError(8);if(!S.isFile(d.node.mode)&&!S.isDir(d.node.mode))throw new S.ErrnoError(43);if(!d.stream_ops.allocate)throw new S.ErrnoError(138);d.stream_ops.allocate(d,g,b)},mmap:(d,g,b,R,Z)=>{if(2&R&&!(2&Z)&&2!=(2097155&d.flags))throw new S.ErrnoError(2);if(1==(2097155&d.flags))throw new S.ErrnoError(2);if(!d.stream_ops.mmap)throw new S.ErrnoError(43);return d.stream_ops.mmap(d,g,b,R,Z)},msync:(d,g,b,R,Z)=>d.stream_ops.msync?d.stream_ops.msync(d,g,b,R,Z):0,munmap:d=>0,ioctl:(d,g,b)=>{if(!d.stream_ops.ioctl)throw new S.ErrnoError(59);return d.stream_ops.ioctl(d,g,b)},readFile:(d,g={})=>{if(g.flags=g.flags||0,g.encoding=g.encoding||"binary","utf8"!==g.encoding&&"binary"!==g.encoding)throw new Error('Invalid encoding type "'+g.encoding+'"');var b,R=S.open(d,g.flags),Q=S.stat(d).size,_e=new Uint8Array(Q);return S.read(R,_e,0,Q,0),"utf8"===g.encoding?b=Xe(_e,0):"binary"===g.encoding&&(b=_e),S.close(R),b},writeFile:(d,g,b={})=>{b.flags=b.flags||577;var R=S.open(d,b.flags,b.mode);if("string"==typeof g){var Z=new Uint8Array(re(g)+1),Q=Te(g,Z,0,Z.length);S.write(R,Z,0,Q,void 0,b.canOwn)}else{if(!ArrayBuffer.isView(g))throw new Error("Unsupported data type");S.write(R,g,0,g.byteLength,void 0,b.canOwn)}S.close(R)},cwd:()=>S.currentPath,chdir:d=>{var g=S.lookupPath(d,{follow:!0});if(null===g.node)throw new S.ErrnoError(44);if(!S.isDir(g.node.mode))throw new S.ErrnoError(54);var b=S.nodePermissions(g.node,"x");if(b)throw new S.ErrnoError(b);S.currentPath=g.path},createDefaultDirectories:()=>{S.mkdir("/tmp"),S.mkdir("/home"),S.mkdir("/home/web_user")},createDefaultDevices:()=>{S.mkdir("/dev"),S.registerDevice(S.makedev(1,3),{read:()=>0,write:(g,b,R,Z,Q)=>Z}),S.mkdev("/dev/null",S.makedev(1,3)),Jn.register(S.makedev(5,0),Jn.default_tty_ops),Jn.register(S.makedev(6,0),Jn.default_tty1_ops),S.mkdev("/dev/tty",S.makedev(5,0)),S.mkdev("/dev/tty1",S.makedev(6,0));var d=function hr(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var d=new Uint8Array(1);return()=>(crypto.getRandomValues(d),d[0])}return()=>or("randomDevice")}();S.createDevice("/dev","random",d),S.createDevice("/dev","urandom",d),S.mkdir("/dev/shm"),S.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{S.mkdir("/proc");var d=S.mkdir("/proc/self");S.mkdir("/proc/self/fd"),S.mount({mount:()=>{var g=S.createNode(d,"fd",16895,73);return g.node_ops={lookup:(b,R)=>{var Q=S.getStream(+R);if(!Q)throw new S.ErrnoError(8);var _e={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>Q.path}};return _e.parent=_e,_e}},g}},{},"/proc/self/fd")},createStandardStreams:()=>{c.stdin?S.createDevice("/dev","stdin",c.stdin):S.symlink("/dev/tty","/dev/stdin"),c.stdout?S.createDevice("/dev","stdout",null,c.stdout):S.symlink("/dev/tty","/dev/stdout"),c.stderr?S.createDevice("/dev","stderr",null,c.stderr):S.symlink("/dev/tty1","/dev/stderr"),S.open("/dev/stdin",0),S.open("/dev/stdout",1),S.open("/dev/stderr",1)},ensureErrnoError:()=>{S.ErrnoError||(S.ErrnoError=function(g,b){this.node=b,this.setErrno=function(R){this.errno=R},this.setErrno(g),this.message="FS error"},S.ErrnoError.prototype=new Error,S.ErrnoError.prototype.constructor=S.ErrnoError,[44].forEach(d=>{S.genericErrors[d]=new S.ErrnoError(d),S.genericErrors[d].stack="<generic error, no stack>"}))},staticInit:()=>{S.ensureErrnoError(),S.nameTable=new Array(4096),S.mount(jt,{},"/"),S.createDefaultDirectories(),S.createDefaultDevices(),S.createSpecialDirectories(),S.filesystems={MEMFS:jt}},init:(d,g,b)=>{S.init.initialized=!0,S.ensureErrnoError(),c.stdin=d||c.stdin,c.stdout=g||c.stdout,c.stderr=b||c.stderr,S.createStandardStreams()},quit:()=>{S.init.initialized=!1;for(var d=0;d<S.streams.length;d++){var g=S.streams[d];g&&S.close(g)}},getMode:(d,g)=>{var b=0;return d&&(b|=365),g&&(b|=146),b},findObject:(d,g)=>{var b=S.analyzePath(d,g);return b.exists?b.object:null},analyzePath:(d,g)=>{try{d=(b=S.lookupPath(d,{follow:!g})).path}catch{}var R={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var b=S.lookupPath(d,{parent:!0});R.parentExists=!0,R.parentPath=b.path,R.parentObject=b.node,R.name=Rt.basename(d),b=S.lookupPath(d,{follow:!g}),R.exists=!0,R.path=b.path,R.object=b.node,R.name=b.node.name,R.isRoot="/"===b.path}catch(Z){R.error=Z.errno}return R},createPath:(d,g,b,R)=>{d="string"==typeof d?d:S.getPath(d);for(var Z=g.split("/").reverse();Z.length;){var Q=Z.pop();if(Q){var _e=Rt.join2(d,Q);try{S.mkdir(_e)}catch{}d=_e}}return _e},createFile:(d,g,b,R,Z)=>{var Q=Rt.join2("string"==typeof d?d:S.getPath(d),g),_e=S.getMode(R,Z);return S.create(Q,_e)},createDataFile:(d,g,b,R,Z,Q)=>{var _e=g;d&&(d="string"==typeof d?d:S.getPath(d),_e=g?Rt.join2(d,g):d);var Ee=S.getMode(R,Z),yt=S.create(_e,Ee);if(b){if("string"==typeof b){for(var Bt=new Array(b.length),Dn=0,wn=b.length;Dn<wn;++Dn)Bt[Dn]=b.charCodeAt(Dn);b=Bt}S.chmod(yt,146|Ee);var Wt=S.open(yt,577);S.write(Wt,b,0,b.length,0,Q),S.close(Wt),S.chmod(yt,Ee)}return yt},createDevice:(d,g,b,R)=>{var Z=Rt.join2("string"==typeof d?d:S.getPath(d),g),Q=S.getMode(!!b,!!R);S.createDevice.major||(S.createDevice.major=64);var _e=S.makedev(S.createDevice.major++,0);return S.registerDevice(_e,{open:Ee=>{Ee.seekable=!1},close:Ee=>{R&&R.buffer&&R.buffer.length&&R(10)},read:(Ee,yt,Bt,Dn,wn)=>{for(var Wt=0,st=0;st<Dn;st++){var Tt;try{Tt=b()}catch{throw new S.ErrnoError(29)}if(void 0===Tt&&0===Wt)throw new S.ErrnoError(6);if(null==Tt)break;Wt++,yt[Bt+st]=Tt}return Wt&&(Ee.node.timestamp=Date.now()),Wt},write:(Ee,yt,Bt,Dn,wn)=>{for(var Wt=0;Wt<Dn;Wt++)try{R(yt[Bt+Wt])}catch{throw new S.ErrnoError(29)}return Dn&&(Ee.node.timestamp=Date.now()),Wt}}),S.mkdev(Z,Q,_e)},forceLoadFile:d=>{if(d.isDevice||d.isFolder||d.link||d.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!j)throw new Error("Cannot load without read() or XMLHttpRequest.");try{d.contents=Qn(j(d.url),!0),d.usedBytes=d.contents.length}catch{throw new S.ErrnoError(29)}},createLazyFile:(d,g,b,R,Z)=>{function Q(){this.lengthKnown=!1,this.chunks=[]}if(Q.prototype.get=function(st){if(!(st>this.length-1||st<0)){var Tt=st%this.chunkSize;return this.getter(st/this.chunkSize|0)[Tt]}},Q.prototype.setDataGetter=function(st){this.getter=st},Q.prototype.cacheLength=function(){var st=new XMLHttpRequest;if(st.open("HEAD",b,!1),st.send(null),!(st.status>=200&&st.status<300||304===st.status))throw new Error("Couldn't load "+b+". Status: "+st.status);var Fn,Tt=Number(st.getResponseHeader("Content-length")),Ar=(Fn=st.getResponseHeader("Accept-Ranges"))&&"bytes"===Fn,Lr=(Fn=st.getResponseHeader("Content-Encoding"))&&"gzip"===Fn,ft=1048576;Ar||(ft=Tt);var Vn=this;Vn.setDataGetter(pr=>{var Uo=pr*ft,an=(pr+1)*ft-1;if(an=Math.min(an,Tt-1),typeof Vn.chunks[pr]>"u"&&(Vn.chunks[pr]=((pr,Uo)=>{if(pr>Uo)throw new Error("invalid range ("+pr+", "+Uo+") or no bytes requested!");if(Uo>Tt-1)throw new Error("only "+Tt+" bytes available! programmer error!");var an=new XMLHttpRequest;if(an.open("GET",b,!1),Tt!==ft&&an.setRequestHeader("Range","bytes="+pr+"-"+Uo),an.responseType="arraybuffer",an.overrideMimeType&&an.overrideMimeType("text/plain; charset=x-user-defined"),an.send(null),!(an.status>=200&&an.status<300||304===an.status))throw new Error("Couldn't load "+b+". Status: "+an.status);return void 0!==an.response?new Uint8Array(an.response||[]):Qn(an.responseText||"",!0)})(Uo,an)),typeof Vn.chunks[pr]>"u")throw new Error("doXHR failed!");return Vn.chunks[pr]}),(Lr||!Tt)&&(ft=Tt=1,Tt=this.getter(0).length,ft=Tt,W("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Tt,this._chunkSize=ft,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!Y)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var _e=new Q;Object.defineProperties(_e,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var Ee={isDevice:!1,contents:_e}}else Ee={isDevice:!1,url:b};var yt=S.createFile(d,g,Ee,R,Z);Ee.contents?yt.contents=Ee.contents:Ee.url&&(yt.contents=null,yt.url=Ee.url),Object.defineProperties(yt,{usedBytes:{get:function(){return this.contents.length}}});var Bt={};function wn(Wt,st,Tt,Fn,Ar){var Lr=Wt.node.contents;if(Ar>=Lr.length)return 0;var ft=Math.min(Lr.length-Ar,Fn);if(Lr.slice)for(var tn=0;tn<ft;tn++)st[Tt+tn]=Lr[Ar+tn];else for(tn=0;tn<ft;tn++)st[Tt+tn]=Lr.get(Ar+tn);return ft}return Object.keys(yt.stream_ops).forEach(Wt=>{var st=yt.stream_ops[Wt];Bt[Wt]=function(){return S.forceLoadFile(yt),st.apply(null,arguments)}}),Bt.read=(Wt,st,Tt,Fn,Ar)=>(S.forceLoadFile(yt),wn(Wt,st,Tt,Fn,Ar)),Bt.mmap=(Wt,st,Tt,Fn,Ar)=>{S.forceLoadFile(yt);var Lr=un();if(!Lr)throw new S.ErrnoError(48);return wn(Wt,Qe,Lr,st,Tt),{ptr:Lr,allocated:!0}},yt.stream_ops=Bt,yt},createPreloadedFile:(d,g,b,R,Z,Q,_e,Ee,yt,Bt)=>{var Dn=g?en.resolve(Rt.join2(d,g)):d;function Wt(st){function Tt(Fn){Bt&&Bt(),Ee||S.createDataFile(d,g,Fn,R,Z,yt),Q&&Q(),kr()}Browser.handledByPreloadPlugin(st,Dn,Tt,()=>{_e&&_e(),kr()})||Tt(st)}Ur(),"string"==typeof b?function E(d,g,b,R){var Z=R?"":"al "+d;Pe(d,Q=>{Ce(Q,'Loading data file "'+d+'" failed (no arrayBuffer).'),g(new Uint8Array(Q)),Z&&kr()},Q=>{if(!b)throw'Loading data file "'+d+'" failed.';b()}),Z&&Ur()}(b,st=>Wt(st),_e):Wt(b)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(d,g,b)=>{g=g||(()=>{}),b=b||(()=>{});var R=S.indexedDB();try{var Z=R.open(S.DB_NAME(),S.DB_VERSION)}catch(Q){return b(Q)}Z.onupgradeneeded=()=>{W("creating db"),Z.result.createObjectStore(S.DB_STORE_NAME)},Z.onsuccess=()=>{var _e=Z.result.transaction([S.DB_STORE_NAME],"readwrite"),Ee=_e.objectStore(S.DB_STORE_NAME),yt=0,Bt=0,Dn=d.length;function wn(){0==Bt?g():b()}d.forEach(Wt=>{var st=Ee.put(S.analyzePath(Wt).object.contents,Wt);st.onsuccess=()=>{++yt+Bt==Dn&&wn()},st.onerror=()=>{Bt++,yt+Bt==Dn&&wn()}}),_e.onerror=b},Z.onerror=b},loadFilesFromDB:(d,g,b)=>{g=g||(()=>{}),b=b||(()=>{});var R=S.indexedDB();try{var Z=R.open(S.DB_NAME(),S.DB_VERSION)}catch(Q){return b(Q)}Z.onupgradeneeded=b,Z.onsuccess=()=>{var Q=Z.result;try{var _e=Q.transaction([S.DB_STORE_NAME],"readonly")}catch(Wt){return void b(Wt)}var Ee=_e.objectStore(S.DB_STORE_NAME),yt=0,Bt=0,Dn=d.length;function wn(){0==Bt?g():b()}d.forEach(Wt=>{var st=Ee.get(Wt);st.onsuccess=()=>{S.analyzePath(Wt).exists&&S.unlink(Wt),S.createDataFile(Rt.dirname(Wt),Rt.basename(Wt),st.result,!0,!0,!0),++yt+Bt==Dn&&wn()},st.onerror=()=>{Bt++,yt+Bt==Dn&&wn()}}),_e.onerror=b},Z.onerror=b}},qn={DEFAULT_POLLMASK:5,calculateAt:function(d,g,b){if(Rt.isAbs(g))return g;var R;if(R=-100===d?S.cwd():qn.getStreamFromFD(d).path,0==g.length){if(!b)throw new S.ErrnoError(44);return R}return Rt.join2(R,g)},doStat:function(d,g,b){try{var R=d(g)}catch(Z){if(Z&&Z.node&&Rt.normalize(g)!==Rt.normalize(S.getPath(Z.node)))return-54;throw Z}return O[b>>2]=R.dev,O[b+8>>2]=R.ino,O[b+12>>2]=R.mode,ye[b+16>>2]=R.nlink,O[b+20>>2]=R.uid,O[b+24>>2]=R.gid,O[b+28>>2]=R.rdev,le=[R.size>>>0,(ut=R.size,+Math.abs(ut)>=1?ut>0?(0|Math.min(+Math.floor(ut/4294967296),4294967295))>>>0:~~+Math.ceil((ut-+(~~ut>>>0))/4294967296)>>>0:0)],O[b+40>>2]=le[0],O[b+44>>2]=le[1],O[b+48>>2]=4096,O[b+52>>2]=R.blocks,le=[Math.floor(R.atime.getTime()/1e3)>>>0,(ut=Math.floor(R.atime.getTime()/1e3),+Math.abs(ut)>=1?ut>0?(0|Math.min(+Math.floor(ut/4294967296),4294967295))>>>0:~~+Math.ceil((ut-+(~~ut>>>0))/4294967296)>>>0:0)],O[b+56>>2]=le[0],O[b+60>>2]=le[1],ye[b+64>>2]=0,le=[Math.floor(R.mtime.getTime()/1e3)>>>0,(ut=Math.floor(R.mtime.getTime()/1e3),+Math.abs(ut)>=1?ut>0?(0|Math.min(+Math.floor(ut/4294967296),4294967295))>>>0:~~+Math.ceil((ut-+(~~ut>>>0))/4294967296)>>>0:0)],O[b+72>>2]=le[0],O[b+76>>2]=le[1],ye[b+80>>2]=0,le=[Math.floor(R.ctime.getTime()/1e3)>>>0,(ut=Math.floor(R.ctime.getTime()/1e3),+Math.abs(ut)>=1?ut>0?(0|Math.min(+Math.floor(ut/4294967296),4294967295))>>>0:~~+Math.ceil((ut-+(~~ut>>>0))/4294967296)>>>0:0)],O[b+88>>2]=le[0],O[b+92>>2]=le[1],ye[b+96>>2]=0,le=[R.ino>>>0,(ut=R.ino,+Math.abs(ut)>=1?ut>0?(0|Math.min(+Math.floor(ut/4294967296),4294967295))>>>0:~~+Math.ceil((ut-+(~~ut>>>0))/4294967296)>>>0:0)],O[b+104>>2]=le[0],O[b+108>>2]=le[1],0},doMsync:function(d,g,b,R,Z){if(!S.isFile(g.node.mode))throw new S.ErrnoError(43);if(2&R)return 0;var Q=vt.slice(d,d+b);S.msync(g,Q,Z,b,R)},varargs:void 0,get:function(){return qn.varargs+=4,O[qn.varargs-4>>2]},getStr:function(d){return $e(d)},getStreamFromFD:function(d){var g=S.getStream(d);if(!g)throw new S.ErrnoError(8);return g}};function _o(d){return d%4==0&&(d%100!=0||d%400==0)}var Ri=[0,31,60,91,121,152,182,213,244,274,305,335],Lo=[0,31,59,90,120,151,181,212,243,273,304,334];function bi(d){return(_o(d.getFullYear())?Ri:Lo)[d.getMonth()]+d.getDate()-1}function $o(d){var g=re(d)+1,b=St(g);return b&&Te(d,Qe,b,g),b}function jr(d){try{return de.grow(d-Ue.byteLength+65535>>>16),Ve(de.buffer),1}catch{}}var Jo={};function eo(){if(!eo.strings){var g={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:L||"./this.program"};for(var b in Jo)void 0===Jo[b]?delete g[b]:g[b]=Jo[b];var R=[];for(var b in g)R.push(b+"="+g[b]);eo.strings=R}return eo.strings}var ys=[31,29,31,30,31,30,31,31,30,31,30,31],Pi=[31,28,31,30,31,30,31,31,30,31,30,31];var he=function(d,g,b,R){d||(d=this),this.parent=d,this.mount=d.mount,this.mounted=null,this.id=S.nextInode++,this.name=g,this.mode=b,this.node_ops={},this.stream_ops={},this.rdev=R};Object.defineProperties(he.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(d){d?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(d){d?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return S.isDir(this.mode)}},isDevice:{get:function(){return S.isChrdev(this.mode)}}}),S.FSNode=he,S.staticInit();var zt,it={a:function Bn(d,g,b,R){or("Assertion failed: "+$e(d)+", at: "+[g?$e(g):"unknown filename",b,R?$e(R):"unknown function"])},l:function D(d,g,b){try{var R=Kt(g,b);return isNaN(R)?-61:(S.ftruncate(d,R),0)}catch(Z){if(typeof S>"u"||!(Z instanceof S.ErrnoError))throw Z;return-Z.errno}},g:function No(){return!0},h:function wi(d,g){var b=new Date(1e3*function Xo(d){return ye[d>>2]+4294967296*O[d+4>>2]}(d));O[g>>2]=b.getSeconds(),O[g+4>>2]=b.getMinutes(),O[g+8>>2]=b.getHours(),O[g+12>>2]=b.getDate(),O[g+16>>2]=b.getMonth(),O[g+20>>2]=b.getFullYear()-1900,O[g+24>>2]=b.getDay();var R=0|bi(b);O[g+28>>2]=R,O[g+36>>2]=-60*b.getTimezoneOffset();var Z=new Date(b.getFullYear(),0,1),Q=new Date(b.getFullYear(),6,1).getTimezoneOffset(),_e=Z.getTimezoneOffset(),Ee=0|(Q!=_e&&b.getTimezoneOffset()==Math.min(_e,Q));O[g+32>>2]=Ee},i:function Jr(d){var g=new Date(O[d+20>>2]+1900,O[d+16>>2],O[d+12>>2],O[d+8>>2],O[d+4>>2],O[d>>2],0),b=O[d+32>>2],R=g.getTimezoneOffset(),Z=new Date(g.getFullYear(),0,1),Q=new Date(g.getFullYear(),6,1).getTimezoneOffset(),_e=Z.getTimezoneOffset(),Ee=Math.min(_e,Q);if(b<0)O[d+32>>2]=Number(Q!=_e&&Ee==R);else if(b>0!=(Ee==R)){var yt=Math.max(_e,Q),Bt=b>0?Ee:yt;g.setTime(g.getTime()+6e4*(Bt-R))}O[d+24>>2]=g.getDay();var Dn=0|bi(g);return O[d+28>>2]=Dn,O[d>>2]=g.getSeconds(),O[d+4>>2]=g.getMinutes(),O[d+8>>2]=g.getHours(),O[d+12>>2]=g.getDate(),O[d+16>>2]=g.getMonth(),O[d+20>>2]=g.getYear(),g.getTime()/1e3|0},j:function mr(d,g,b){var R=(new Date).getFullYear(),Z=new Date(R,0,1),Q=new Date(R,6,1),_e=Z.getTimezoneOffset(),Ee=Q.getTimezoneOffset(),yt=Math.max(_e,Ee);function Bt(Tt){var Fn=Tt.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Fn?Fn[1]:"GMT"}ye[d>>2]=60*yt,O[g>>2]=Number(_e!=Ee);var Dn=Bt(Z),wn=Bt(Q),Wt=$o(Dn),st=$o(wn);Ee<_e?(ye[b>>2]=Wt,ye[b+4>>2]=st):(ye[b>>2]=st,ye[b+4>>2]=Wt)},b:function Bo(){or("")},c:function qr(){return Date.now()},q:function Qo(d,g,b){vt.copyWithin(d,g,g+b)},p:function Qi(d){var yt,g=vt.length,b=2147483648;if((d>>>=0)>b)return!1;for(var Z=1;Z<=4;Z*=2){var Q=g*(1+.2/Z);if(Q=Math.min(Q,d+100663296),jr(Math.min(b,(yt=Math.max(d,Q))+(65536-yt%65536)%65536)))return!0}return!1},n:function ao(d,g){var b=0;return eo().forEach(function(R,Z){var Q=g+b;ye[d+4*Z>>2]=Q,function Ji(d,g,b){for(var R=0;R<d.length;++R)Qe[g++>>0]=d.charCodeAt(R);b||(Qe[g>>0]=0)}(R,Q),b+=R.length+1}),0},o:function Ci(d,g){var b=eo();ye[d>>2]=b.length;var R=0;return b.forEach(function(Z){R+=Z.length+1}),ye[g>>2]=R,0},d:function gs(d){try{var g=qn.getStreamFromFD(d);return S.close(g),0}catch(b){if(typeof S>"u"||!(b instanceof S.ErrnoError))throw b;return b.errno}},f:function es(d,g,b,R){try{var Q=function ci(d,g,b,R){for(var Z=0,Q=0;Q<b;Q++){var _e=ye[g>>2],Ee=ye[g+4>>2];g+=8;var yt=S.read(d,Qe,_e,Ee,R);if(yt<0)return-1;if(Z+=yt,yt<Ee)break}return Z}(qn.getStreamFromFD(d),g,b);return ye[R>>2]=Q,0}catch(_e){if(typeof S>"u"||!(_e instanceof S.ErrnoError))throw _e;return _e.errno}},k:function As(d,g,b,R,Z){try{var Q=Kt(g,b);if(isNaN(Q))return 61;var _e=qn.getStreamFromFD(d);return S.llseek(_e,Q,R),le=[_e.position>>>0,(ut=_e.position,+Math.abs(ut)>=1?ut>0?(0|Math.min(+Math.floor(ut/4294967296),4294967295))>>>0:~~+Math.ceil((ut-+(~~ut>>>0))/4294967296)>>>0:0)],O[Z>>2]=le[0],O[Z+4>>2]=le[1],_e.getdents&&0===Q&&0===R&&(_e.getdents=null),0}catch(Ee){if(typeof S>"u"||!(Ee instanceof S.ErrnoError))throw Ee;return Ee.errno}},e:function ar(d,g,b,R){try{var Q=function xs(d,g,b,R){for(var Z=0,Q=0;Q<b;Q++){var _e=ye[g>>2],Ee=ye[g+4>>2];g+=8;var yt=S.write(d,Qe,_e,Ee,R);if(yt<0)return-1;Z+=yt}return Z}(qn.getStreamFromFD(d),g,b);return ye[R>>2]=Q,0}catch(_e){if(typeof S>"u"||!(_e instanceof S.ErrnoError))throw _e;return _e.errno}},m:function ge(d,g,b,R,Z){return function N(d,g,b,R){var Z=O[R+40>>2],Q={tm_sec:O[R>>2],tm_min:O[R+4>>2],tm_hour:O[R+8>>2],tm_mday:O[R+12>>2],tm_mon:O[R+16>>2],tm_year:O[R+20>>2],tm_wday:O[R+24>>2],tm_yday:O[R+28>>2],tm_isdst:O[R+32>>2],tm_gmtoff:O[R+36>>2],tm_zone:Z?$e(Z):""},_e=$e(b),Ee={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var yt in Ee)_e=_e.replace(new RegExp(yt,"g"),Ee[yt]);var Bt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Dn=["January","February","March","April","May","June","July","August","September","October","November","December"];function wn(ft,tn,Vn){for(var pr="number"==typeof ft?ft.toString():ft||"";pr.length<tn;)pr=Vn[0]+pr;return pr}function Wt(ft,tn){return wn(ft,tn,"0")}function st(ft,tn){function Vn(Uo){return Uo<0?-1:Uo>0?1:0}var pr;return 0===(pr=Vn(ft.getFullYear()-tn.getFullYear()))&&0===(pr=Vn(ft.getMonth()-tn.getMonth()))&&(pr=Vn(ft.getDate()-tn.getDate())),pr}function Tt(ft){switch(ft.getDay()){case 0:return new Date(ft.getFullYear()-1,11,29);case 1:return ft;case 2:return new Date(ft.getFullYear(),0,3);case 3:return new Date(ft.getFullYear(),0,2);case 4:return new Date(ft.getFullYear(),0,1);case 5:return new Date(ft.getFullYear()-1,11,31);case 6:return new Date(ft.getFullYear()-1,11,30)}}function Fn(ft){var tn=function er(d,g){for(var b=new Date(d.getTime());g>0;){var R=_o(b.getFullYear()),Z=b.getMonth(),Q=(R?ys:Pi)[Z];if(!(g>Q-b.getDate()))return b.setDate(b.getDate()+g),b;g-=Q-b.getDate()+1,b.setDate(1),Z<11?b.setMonth(Z+1):(b.setMonth(0),b.setFullYear(b.getFullYear()+1))}return b}(new Date(ft.tm_year+1900,0,1),ft.tm_yday),Vn=new Date(tn.getFullYear(),0,4),pr=new Date(tn.getFullYear()+1,0,4),Uo=Tt(Vn),an=Tt(pr);return st(Uo,tn)<=0?st(an,tn)<=0?tn.getFullYear()+1:tn.getFullYear():tn.getFullYear()-1}var Ar={"%a":function(ft){return Bt[ft.tm_wday].substring(0,3)},"%A":function(ft){return Bt[ft.tm_wday]},"%b":function(ft){return Dn[ft.tm_mon].substring(0,3)},"%B":function(ft){return Dn[ft.tm_mon]},"%C":function(ft){return Wt((ft.tm_year+1900)/100|0,2)},"%d":function(ft){return Wt(ft.tm_mday,2)},"%e":function(ft){return wn(ft.tm_mday,2," ")},"%g":function(ft){return Fn(ft).toString().substring(2)},"%G":function(ft){return Fn(ft)},"%H":function(ft){return Wt(ft.tm_hour,2)},"%I":function(ft){var tn=ft.tm_hour;return 0==tn?tn=12:tn>12&&(tn-=12),Wt(tn,2)},"%j":function(ft){return Wt(ft.tm_mday+function ui(d,g){for(var b=0,R=0;R<=g;b+=d[R++]);return b}(_o(ft.tm_year+1900)?ys:Pi,ft.tm_mon-1),3)},"%m":function(ft){return Wt(ft.tm_mon+1,2)},"%M":function(ft){return Wt(ft.tm_min,2)},"%n":function(){return"\n"},"%p":function(ft){return ft.tm_hour>=0&&ft.tm_hour<12?"AM":"PM"},"%S":function(ft){return Wt(ft.tm_sec,2)},"%t":function(){return"\t"},"%u":function(ft){return ft.tm_wday||7},"%U":function(ft){return Wt(Math.floor((ft.tm_yday+7-ft.tm_wday)/7),2)},"%V":function(ft){var tn=Math.floor((ft.tm_yday+7-(ft.tm_wday+6)%7)/7);if((ft.tm_wday+371-ft.tm_yday-2)%7<=2&&tn++,tn){if(53==tn){var pr=(ft.tm_wday+371-ft.tm_yday)%7;4!=pr&&(3!=pr||!_o(ft.tm_year))&&(tn=1)}}else{tn=52;var Vn=(ft.tm_wday+7-ft.tm_yday-1)%7;(4==Vn||5==Vn&&_o(ft.tm_year%400-1))&&tn++}return Wt(tn,2)},"%w":function(ft){return ft.tm_wday},"%W":function(ft){return Wt(Math.floor((ft.tm_yday+7-(ft.tm_wday+6)%7)/7),2)},"%y":function(ft){return(ft.tm_year+1900).toString().substring(2)},"%Y":function(ft){return ft.tm_year+1900},"%z":function(ft){var tn=ft.tm_gmtoff,Vn=tn>=0;return tn=(tn=Math.abs(tn)/60)/60*100+tn%60,(Vn?"+":"-")+String("0000"+tn).slice(-4)},"%Z":function(ft){return ft.tm_zone},"%%":function(){return"%"}};for(var yt in _e=_e.replace(/%%/g,"\0\0"),Ar)_e.includes(yt)&&(_e=_e.replace(new RegExp(yt,"g"),Ar[yt](Q)));var Lr=Qn(_e=_e.replace(/\0\0/g,"%"),!1);return Lr.length>g?0:(function A(d,g){Qe.set(d,g)}(Lr,d),Lr.length-1)}(d,g,b,R)}},St=(function Nr(){var d={a:it};function g(_e,Ee){c.asm=_e.exports,Ve((de=c.asm.r).buffer),function Wr(d){Re.unshift(d)}(c.asm.s),kr()}function b(_e){g(_e.instance)}function R(_e){return function Xi(){return pe||!ue&&!Y||"function"!=typeof fetch?Promise.resolve().then(function(){return Zr(mn)}):fetch(mn,{credentials:"same-origin"}).then(function(d){if(!d.ok)throw"failed to load wasm binary file at '"+mn+"'";return d.arrayBuffer()}).catch(function(){return Zr(mn)})}().then(function(Ee){return WebAssembly.instantiate(Ee,d)}).then(function(Ee){return Ee}).then(_e,function(Ee){K("failed to asynchronously prepare wasm: "+Ee),or(Ee)})}if(Ur(),c.instantiateWasm)try{return c.instantiateWasm(d,g)}catch(_e){K("Module.instantiateWasm callback failed with error: "+_e),te(_e)}(function Z(){return pe||"function"!=typeof WebAssembly.instantiateStreaming||Qr(mn)||"function"!=typeof fetch?R(b):fetch(mn,{credentials:"same-origin"}).then(function(_e){return WebAssembly.instantiateStreaming(_e,d).then(b,function(yt){return K("wasm streaming compile failed: "+yt),K("falling back to ArrayBuffer instantiation"),R(b)})})})().catch(te)}(),c.___wasm_call_ctors=function(){return(c.___wasm_call_ctors=c.asm.s).apply(null,arguments)},c._malloc=function(){return(St=c._malloc=c.asm.t).apply(null,arguments)}),Do=(c._free=function(){return(c._free=c.asm.u).apply(null,arguments)},c._emscripten_bind_VoidPtr___destroy___0=function(){return(Do=c._emscripten_bind_VoidPtr___destroy___0=c.asm.v).apply(null,arguments)}),Kr=c._emscripten_bind_FileEntry_GetName_0=function(){return(Kr=c._emscripten_bind_FileEntry_GetName_0=c.asm.w).apply(null,arguments)},Io=c._emscripten_bind_FileEntry_IsDirectory_0=function(){return(Io=c._emscripten_bind_FileEntry_IsDirectory_0=c.asm.x).apply(null,arguments)},di=c._emscripten_bind_FileEntry_GetSize_0=function(){return(di=c._emscripten_bind_FileEntry_GetSize_0=c.asm.y).apply(null,arguments)},br=c._emscripten_bind_FileEntry_GetModifiedTS_0=function(){return(br=c._emscripten_bind_FileEntry_GetModifiedTS_0=c.asm.z).apply(null,arguments)},ts=c._emscripten_bind_FileEntry_GetAttributes_0=function(){return(ts=c._emscripten_bind_FileEntry_GetAttributes_0=c.asm.A).apply(null,arguments)},Oa=c._emscripten_bind_FileEntry___destroy___0=function(){return(Oa=c._emscripten_bind_FileEntry___destroy___0=c.asm.B).apply(null,arguments)},Na=c._emscripten_bind_Vfs_Vfs_0=function(){return(Na=c._emscripten_bind_Vfs_Vfs_0=c.asm.C).apply(null,arguments)},Si=c._emscripten_bind_Vfs_Malloc_1=function(){return(Si=c._emscripten_bind_Vfs_Malloc_1=c.asm.D).apply(null,arguments)},La=c._emscripten_bind_Vfs_Free_1=function(){return(La=c._emscripten_bind_Vfs_Free_1=c.asm.E).apply(null,arguments)},Us=c._emscripten_bind_Vfs_Nullptr_0=function(){return(Us=c._emscripten_bind_Vfs_Nullptr_0=c.asm.F).apply(null,arguments)},js=c._emscripten_bind_Vfs_AllocateImage_1=function(){return(js=c._emscripten_bind_Vfs_AllocateImage_1=c.asm.G).apply(null,arguments)},ml=c._emscripten_bind_Vfs_MountImage_1=function(){return(ml=c._emscripten_bind_Vfs_MountImage_1=c.asm.H).apply(null,arguments)},gl=c._emscripten_bind_Vfs_UnmountImage_1=function(){return(gl=c._emscripten_bind_Vfs_UnmountImage_1=c.asm.I).apply(null,arguments)},yl=c._emscripten_bind_Vfs_GetPendingImageSize_0=function(){return(yl=c._emscripten_bind_Vfs_GetPendingImageSize_0=c.asm.J).apply(null,arguments)},ra=c._emscripten_bind_Vfs_GetSize_1=function(){return(ra=c._emscripten_bind_Vfs_GetSize_1=c.asm.K).apply(null,arguments)},_l=c._emscripten_bind_Vfs_GetPendingImage_0=function(){return(_l=c._emscripten_bind_Vfs_GetPendingImage_0=c.asm.L).apply(null,arguments)},ko=c._emscripten_bind_Vfs_GetImage_1=function(){return(ko=c._emscripten_bind_Vfs_GetImage_1=c.asm.M).apply(null,arguments)},Zn=c._emscripten_bind_Vfs_GetDirtyPages_1=function(){return(Zn=c._emscripten_bind_Vfs_GetDirtyPages_1=c.asm.N).apply(null,arguments)},vl=c._emscripten_bind_Vfs_RenameFile_2=function(){return(vl=c._emscripten_bind_Vfs_RenameFile_2=c.asm.O).apply(null,arguments)},bl=c._emscripten_bind_Vfs_ChmodFile_3=function(){return(bl=c._emscripten_bind_Vfs_ChmodFile_3=c.asm.P).apply(null,arguments)},ec=c._emscripten_bind_Vfs_StatFile_1=function(){return(ec=c._emscripten_bind_Vfs_StatFile_1=c.asm.Q).apply(null,arguments)},mt=c._emscripten_bind_Vfs_UnlinkFile_1=function(){return(mt=c._emscripten_bind_Vfs_UnlinkFile_1=c.asm.R).apply(null,arguments)},Hs=c._emscripten_bind_Vfs_Mkdir_1=function(){return(Hs=c._emscripten_bind_Vfs_Mkdir_1=c.asm.S).apply(null,arguments)},gr=c._emscripten_bind_Vfs_GetEntry_0=function(){return(gr=c._emscripten_bind_Vfs_GetEntry_0=c.asm.T).apply(null,arguments)},_s=c._emscripten_bind_Vfs_BytesFree_1=function(){return(_s=c._emscripten_bind_Vfs_BytesFree_1=c.asm.U).apply(null,arguments)},oa=c._emscripten_bind_Vfs_BytesTotal_1=function(){return(oa=c._emscripten_bind_Vfs_BytesTotal_1=c.asm.V).apply(null,arguments)},to=c._emscripten_bind_Vfs_ReadFile_1=function(){return(to=c._emscripten_bind_Vfs_ReadFile_1=c.asm.W).apply(null,arguments)},ns=c._emscripten_bind_Vfs_GetCurrentFileSize_0=function(){return(ns=c._emscripten_bind_Vfs_GetCurrentFileSize_0=c.asm.X).apply(null,arguments)},Ei=c._emscripten_bind_Vfs_GetCurrentFileContent_0=function(){return(Ei=c._emscripten_bind_Vfs_GetCurrentFileContent_0=c.asm.Y).apply(null,arguments)},ia=c._emscripten_bind_Vfs_ReleaseCurrentFile_0=function(){return(ia=c._emscripten_bind_Vfs_ReleaseCurrentFile_0=c.asm.Z).apply(null,arguments)},Rs=c._emscripten_bind_Vfs_WriteFile_3=function(){return(Rs=c._emscripten_bind_Vfs_WriteFile_3=c.asm._).apply(null,arguments)},Gs=c._emscripten_bind_Vfs___destroy___0=function(){return(Gs=c._emscripten_bind_Vfs___destroy___0=c.asm.$).apply(null,arguments)},sa=c._emscripten_bind_ReaddirContext_ReaddirContext_1=function(){return(sa=c._emscripten_bind_ReaddirContext_ReaddirContext_1=c.asm.aa).apply(null,arguments)},$a=c._emscripten_bind_ReaddirContext_Next_0=function(){return($a=c._emscripten_bind_ReaddirContext_Next_0=c.asm.ba).apply(null,arguments)},kt=c._emscripten_bind_ReaddirContext_GetEntry_0=function(){return(kt=c._emscripten_bind_ReaddirContext_GetEntry_0=c.asm.ca).apply(null,arguments)},zs=c._emscripten_bind_ReaddirContext_GetStatus_0=function(){return(zs=c._emscripten_bind_ReaddirContext_GetStatus_0=c.asm.da).apply(null,arguments)},lo=c._emscripten_bind_ReaddirContext_GetError_0=function(){return(lo=c._emscripten_bind_ReaddirContext_GetError_0=c.asm.ea).apply(null,arguments)},ir=c._emscripten_bind_ReaddirContext_GetErrorDescription_0=function(){return(ir=c._emscripten_bind_ReaddirContext_GetErrorDescription_0=c.asm.fa).apply(null,arguments)},Hr=c._emscripten_bind_ReaddirContext___destroy___0=function(){return(Hr=c._emscripten_bind_ReaddirContext___destroy___0=c.asm.ga).apply(null,arguments)},Mr=c._emscripten_bind_CreateZipContext_CreateZipContext_2=function(){return(Mr=c._emscripten_bind_CreateZipContext_CreateZipContext_2=c.asm.ha).apply(null,arguments)},p=c._emscripten_bind_CreateZipContext_AddFile_1=function(){return(p=c._emscripten_bind_CreateZipContext_AddFile_1=c.asm.ia).apply(null,arguments)},y=c._emscripten_bind_CreateZipContext_AddDirectory_1=function(){return(y=c._emscripten_bind_CreateZipContext_AddDirectory_1=c.asm.ja).apply(null,arguments)},w=c._emscripten_bind_CreateZipContext_Continue_0=function(){return(w=c._emscripten_bind_CreateZipContext_Continue_0=c.asm.ka).apply(null,arguments)},F=c._emscripten_bind_CreateZipContext_GetState_0=function(){return(F=c._emscripten_bind_CreateZipContext_GetState_0=c.asm.la).apply(null,arguments)},H=c._emscripten_bind_CreateZipContext_GetZipContent_0=function(){return(H=c._emscripten_bind_CreateZipContext_GetZipContent_0=c.asm.ma).apply(null,arguments)},be=c._emscripten_bind_CreateZipContext_GetZipSize_0=function(){return(be=c._emscripten_bind_CreateZipContext_GetZipSize_0=c.asm.na).apply(null,arguments)},De=c._emscripten_bind_CreateZipContext_GetErrorItem_0=function(){return(De=c._emscripten_bind_CreateZipContext_GetErrorItem_0=c.asm.oa).apply(null,arguments)},je=c._emscripten_bind_CreateZipContext___destroy___0=function(){return(je=c._emscripten_bind_CreateZipContext___destroy___0=c.asm.pa).apply(null,arguments)},Et=c._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=function(){return(Et=c._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=c.asm.qa).apply(null,arguments)},pn=c._emscripten_bind_DeleteRecursiveContext_AddFile_1=function(){return(pn=c._emscripten_bind_DeleteRecursiveContext_AddFile_1=c.asm.ra).apply(null,arguments)},An=c._emscripten_bind_DeleteRecursiveContext_AddDirectory_1=function(){return(An=c._emscripten_bind_DeleteRecursiveContext_AddDirectory_1=c.asm.sa).apply(null,arguments)},xn=c._emscripten_bind_DeleteRecursiveContext_Continue_0=function(){return(xn=c._emscripten_bind_DeleteRecursiveContext_Continue_0=c.asm.ta).apply(null,arguments)},Gt=c._emscripten_bind_DeleteRecursiveContext_GetState_0=function(){return(Gt=c._emscripten_bind_DeleteRecursiveContext_GetState_0=c.asm.ua).apply(null,arguments)},Yt=c._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=function(){return(Yt=c._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=c.asm.va).apply(null,arguments)},ne=c._emscripten_bind_DeleteRecursiveContext___destroy___0=function(){return(ne=c._emscripten_bind_DeleteRecursiveContext___destroy___0=c.asm.wa).apply(null,arguments)};function Gr(d){var g=c._main;try{var Z=g(0,0);return function Oe(d,g){ce=d,function Se(d){ce=d,function nn(){return Fe}()||(c.onExit&&c.onExit(d),at=!0),V(d,new Ge(d))}(d)}(Z),Z}catch(Q){return function P(d){if(d instanceof Ge||"unwind"==d)return ce;V(1,d)}(Q)}}function fr(d){function g(){zt||(zt=!0,c.calledRun=!0,!at&&(function vn(){!c.noFSInit&&!S.init.initialized&&S.init(),S.ignorePermissions=!1,Jn.init(),Pn(Re)}(),function dr(){Pn(Mt)}(),oe(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),Vo&&Gr(),function Xn(){if(c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;)d=c.postRun.shift(),cn.unshift(d);var d;Pn(cn)}()))}d=d||J,Rn>0||(function z(){if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)d=c.preRun.shift(),ht.unshift(d);var d;Pn(ht)}(),Rn>0)||(c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),g()},1)):g())}if(c._main=function(){return(c._main=c.asm.xa).apply(null,arguments)},c.___original_main=function(){return(c.___original_main=c.asm.za).apply(null,arguments)},c.___start_em_js=19152,c.___stop_em_js=19250,jn=function d(){zt||fr(),zt||(jn=d)},c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);c.preInit.length>0;)c.preInit.pop()();var Vo=!0;function Tn(){}function co(d){return(d||Tn).__cache__}function Mo(d,g){var b=co(g),R=b[d];return R||((R=Object.create((g||Tn).prototype)).ptr=d,b[d]=R)}c.noInitialRun&&(Vo=!1),fr(),(Tn.prototype=Object.create(Tn.prototype)).constructor=Tn,Tn.prototype.__class__=Tn,Tn.__cache__={},c.WrapperObject=Tn,c.getCache=co,c.wrapPointer=Mo,c.castObject=function hd(d,g){return Mo(d.ptr,g)},c.NULL=Mo(0),c.destroy=function Fi(d){if(!d.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";d.__destroy__(),delete co(d.__class__)[d.ptr]},c.compare=function rs(d,g){return d.ptr===g.ptr},c.getPointer=function nr(d){return d.ptr},c.getClass=function Ba(d){return d.__class__};var On={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(On.needed){for(var d=0;d<On.temps.length;d++)c._free(On.temps[d]);On.temps.length=0,c._free(On.buffer),On.buffer=0,On.size+=On.needed,On.needed=0}On.buffer||(On.size+=128,On.buffer=c._malloc(On.size),Ce(On.buffer)),On.pos=0},alloc:function(d,g){Ce(On.buffer);var Z,R=d.length*g.BYTES_PER_ELEMENT;return On.pos+(R=R+7&-8)>=On.size?(Ce(R>0),On.needed+=R,Z=c._malloc(R),On.temps.push(Z)):(Z=On.buffer+On.pos,On.pos+=R),Z},copy:function(d,g,b){switch(b>>>=0,g.BYTES_PER_ELEMENT){case 2:b>>>=1;break;case 4:b>>>=2;break;case 8:b>>>=3}for(var Z=0;Z<d.length;Z++)g[b+Z]=d[Z]}};function bo(d){if("string"==typeof d){var g=Qn(d),b=On.alloc(g,Qe);return On.copy(g,Qe,b),b}return d}function uo(){throw"cannot construct a VoidPtr, no constructor in IDL"}function lr(){throw"cannot construct a FileEntry, no constructor in IDL"}function Zt(){this.ptr=Na(),co(Zt)[this.ptr]=this}function zr(d){On.prepare(),d=d&&"object"==typeof d?d.ptr:bo(d),this.ptr=sa(d),co(zr)[this.ptr]=this}function Ye(d,g){On.prepare(),d=d&&"object"==typeof d?d.ptr:bo(d),g&&"object"==typeof g&&(g=g.ptr),this.ptr=Mr(d,g),co(Ye)[this.ptr]=this}function Tr(d){d&&"object"==typeof d&&(d=d.ptr),this.ptr=Et(d),co(Tr)[this.ptr]=this}return(uo.prototype=Object.create(Tn.prototype)).constructor=uo,uo.prototype.__class__=uo,uo.__cache__={},c.VoidPtr=uo,uo.prototype.__destroy__=uo.prototype.__destroy__=function(){Do(this.ptr)},(lr.prototype=Object.create(Tn.prototype)).constructor=lr,lr.prototype.__class__=lr,lr.__cache__={},c.FileEntry=lr,lr.prototype.GetName=lr.prototype.GetName=function(){return $e(Kr(this.ptr))},lr.prototype.IsDirectory=lr.prototype.IsDirectory=function(){return!!Io(this.ptr)},lr.prototype.GetSize=lr.prototype.GetSize=function(){return di(this.ptr)},lr.prototype.GetModifiedTS=lr.prototype.GetModifiedTS=function(){return br(this.ptr)},lr.prototype.GetAttributes=lr.prototype.GetAttributes=function(){return ts(this.ptr)},lr.prototype.__destroy__=lr.prototype.__destroy__=function(){Oa(this.ptr)},(Zt.prototype=Object.create(Tn.prototype)).constructor=Zt,Zt.prototype.__class__=Zt,Zt.__cache__={},c.Vfs=Zt,Zt.prototype.Malloc=Zt.prototype.Malloc=function(d){return d&&"object"==typeof d&&(d=d.ptr),Mo(Si(this.ptr,d),uo)},Zt.prototype.Free=Zt.prototype.Free=function(d){d&&"object"==typeof d&&(d=d.ptr),La(this.ptr,d)},Zt.prototype.Nullptr=Zt.prototype.Nullptr=function(){return Mo(Us(this.ptr),uo)},Zt.prototype.AllocateImage=Zt.prototype.AllocateImage=function(d){d&&"object"==typeof d&&(d=d.ptr),js(this.ptr,d)},Zt.prototype.MountImage=Zt.prototype.MountImage=function(d){return d&&"object"==typeof d&&(d=d.ptr),!!ml(this.ptr,d)},Zt.prototype.UnmountImage=Zt.prototype.UnmountImage=function(d){d&&"object"==typeof d&&(d=d.ptr),gl(this.ptr,d)},Zt.prototype.GetPendingImageSize=Zt.prototype.GetPendingImageSize=function(){return yl(this.ptr)},Zt.prototype.GetSize=Zt.prototype.GetSize=function(d){return d&&"object"==typeof d&&(d=d.ptr),ra(this.ptr,d)},Zt.prototype.GetPendingImage=Zt.prototype.GetPendingImage=function(){return Mo(_l(this.ptr),uo)},Zt.prototype.GetImage=Zt.prototype.GetImage=function(d){return d&&"object"==typeof d&&(d=d.ptr),Mo(ko(this.ptr,d),uo)},Zt.prototype.GetDirtyPages=Zt.prototype.GetDirtyPages=function(d){return d&&"object"==typeof d&&(d=d.ptr),Mo(Zn(this.ptr,d),uo)},Zt.prototype.RenameFile=Zt.prototype.RenameFile=function(d,g){var b=this.ptr;return On.prepare(),d=d&&"object"==typeof d?d.ptr:bo(d),g=g&&"object"==typeof g?g.ptr:bo(g),vl(b,d,g)},Zt.prototype.ChmodFile=Zt.prototype.ChmodFile=function(d,g,b){var R=this.ptr;return On.prepare(),d=d&&"object"==typeof d?d.ptr:bo(d),g&&"object"==typeof g&&(g=g.ptr),b&&"object"==typeof b&&(b=b.ptr),bl(R,d,g,b)},Zt.prototype.StatFile=Zt.prototype.StatFile=function(d){var g=this.ptr;return On.prepare(),d=d&&"object"==typeof d?d.ptr:bo(d),ec(g,d)},Zt.prototype.UnlinkFile=Zt.prototype.UnlinkFile=function(d){var g=this.ptr;return On.prepare(),d=d&&"object"==typeof d?d.ptr:bo(d),mt(g,d)},Zt.prototype.Mkdir=Zt.prototype.Mkdir=function(d){var g=this.ptr;return On.prepare(),d=d&&"object"==typeof d?d.ptr:bo(d),Hs(g,d)},Zt.prototype.GetEntry=Zt.prototype.GetEntry=function(){return Mo(gr(this.ptr),lr)},Zt.prototype.BytesFree=Zt.prototype.BytesFree=function(d){return d&&"object"==typeof d&&(d=d.ptr),_s(this.ptr,d)},Zt.prototype.BytesTotal=Zt.prototype.BytesTotal=function(d){return d&&"object"==typeof d&&(d=d.ptr),oa(this.ptr,d)},Zt.prototype.ReadFile=Zt.prototype.ReadFile=function(d){var g=this.ptr;return On.prepare(),d=d&&"object"==typeof d?d.ptr:bo(d),!!to(g,d)},Zt.prototype.GetCurrentFileSize=Zt.prototype.GetCurrentFileSize=function(){return ns(this.ptr)},Zt.prototype.GetCurrentFileContent=Zt.prototype.GetCurrentFileContent=function(){return Mo(Ei(this.ptr),uo)},Zt.prototype.ReleaseCurrentFile=Zt.prototype.ReleaseCurrentFile=function(){ia(this.ptr)},Zt.prototype.WriteFile=Zt.prototype.WriteFile=function(d,g,b){var R=this.ptr;return On.prepare(),d=d&&"object"==typeof d?d.ptr:bo(d),g&&"object"==typeof g&&(g=g.ptr),b&&"object"==typeof b&&(b=b.ptr),Rs(R,d,g,b)},Zt.prototype.__destroy__=Zt.prototype.__destroy__=function(){Gs(this.ptr)},(zr.prototype=Object.create(Tn.prototype)).constructor=zr,zr.prototype.__class__=zr,zr.__cache__={},c.ReaddirContext=zr,zr.prototype.Next=zr.prototype.Next=function(){return $a(this.ptr)},zr.prototype.GetEntry=zr.prototype.GetEntry=function(){return Mo(kt(this.ptr),lr)},zr.prototype.GetStatus=zr.prototype.GetStatus=function(){return zs(this.ptr)},zr.prototype.GetError=zr.prototype.GetError=function(){return lo(this.ptr)},zr.prototype.GetErrorDescription=zr.prototype.GetErrorDescription=function(){return $e(ir(this.ptr))},zr.prototype.__destroy__=zr.prototype.__destroy__=function(){Hr(this.ptr)},(Ye.prototype=Object.create(Tn.prototype)).constructor=Ye,Ye.prototype.__class__=Ye,Ye.__cache__={},c.CreateZipContext=Ye,Ye.prototype.AddFile=Ye.prototype.AddFile=function(d){var g=this.ptr;return On.prepare(),d=d&&"object"==typeof d?d.ptr:bo(d),Mo(p(g,d),Ye)},Ye.prototype.AddDirectory=Ye.prototype.AddDirectory=function(d){var g=this.ptr;return On.prepare(),d=d&&"object"==typeof d?d.ptr:bo(d),Mo(y(g,d),Ye)},Ye.prototype.Continue=Ye.prototype.Continue=function(){return w(this.ptr)},Ye.prototype.GetState=Ye.prototype.GetState=function(){return F(this.ptr)},Ye.prototype.GetZipContent=Ye.prototype.GetZipContent=function(){return Mo(H(this.ptr),uo)},Ye.prototype.GetZipSize=Ye.prototype.GetZipSize=function(){return be(this.ptr)},Ye.prototype.GetErrorItem=Ye.prototype.GetErrorItem=function(){return $e(De(this.ptr))},Ye.prototype.__destroy__=Ye.prototype.__destroy__=function(){je(this.ptr)},(Tr.prototype=Object.create(Tn.prototype)).constructor=Tr,Tr.prototype.__class__=Tr,Tr.__cache__={},c.DeleteRecursiveContext=Tr,Tr.prototype.AddFile=Tr.prototype.AddFile=function(d){var g=this.ptr;return On.prepare(),d=d&&"object"==typeof d?d.ptr:bo(d),Mo(pn(g,d),Tr)},Tr.prototype.AddDirectory=Tr.prototype.AddDirectory=function(d){var g=this.ptr;return On.prepare(),d=d&&"object"==typeof d?d.ptr:bo(d),Mo(An(g,d),Tr)},Tr.prototype.Continue=Tr.prototype.Continue=function(){return xn(this.ptr)},Tr.prototype.GetState=Tr.prototype.GetState=function(){return Gt(this.ptr)},Tr.prototype.GetFailingPath=Tr.prototype.GetFailingPath=function(){return $e(Yt(this.ptr))},Tr.prototype.__destroy__=Tr.prototype.__destroy__=function(){ne(this.ptr)},I.ready});Be.exports=ze},5933:(Be,ze,x)=>{"use strict";x.d(ze,{c:()=>Le});var I=x(9259),c=x(2286);let oe;const G=me=>me.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),J=me=>(void 0===oe&&(oe=void 0===me.style.animationName&&void 0!==me.style.webkitAnimationName?"-webkit-":""),oe),L=(me,W,K)=>{const pe=W.startsWith("animation")?J(me):"";me.style.setProperty(pe+W,K)},V=(me,W)=>{const K=W.startsWith("animation")?J(me):"";me.style.removeProperty(K+W)},se=[],Pe=(me=[],W)=>{if(void 0!==W){const K=Array.isArray(W)?W:[W];return[...me,...K]}return me},Le=me=>{let W,K,pe,Fe,de,at,$e,O,ye,nt,rt,ht,Re,ce=[],Ce=[],Ie=[],Xe=!1,Te={},re=[],Ue=[],Qe={},vt=0,dn=!1,We=!1,Ve=!0,q=!1,ve=!0,Mt=!1;const cn=me,Jt=[],nn=[],z=[],vn=[],dr=[],Xn=[],Oo=[],Wr=[],_i=[],Rn=[],so="function"==typeof AnimationEffect||void 0!==c.w&&"function"==typeof c.w.AnimationEffect,jn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&so,Ur=()=>Rn,mn=(P,he)=>((he?.oneTimeCallback?nn:Jt).push({c:P,o:he}),Re),Xi=()=>{if(jn)Rn.forEach(P=>{P.cancel()}),Rn.length=0;else{const P=z.slice();(0,I.r)(()=>{P.forEach(he=>{V(he,"animation-name"),V(he,"animation-duration"),V(he,"animation-timing-function"),V(he,"animation-iteration-count"),V(he,"animation-delay"),V(he,"animation-play-state"),V(he,"animation-fill-mode"),V(he,"animation-direction")})})}},Nr=()=>{dr.forEach(P=>{P?.parentNode&&P.parentNode.removeChild(P)}),dr.length=0},jt=()=>void 0!==de?de:$e?$e.getFill():"both",E=()=>void 0!==ye?ye:void 0!==at?at:$e?$e.getDirection():"normal",S=()=>dn?"linear":void 0!==pe?pe:$e?$e.getEasing():"linear",qn=()=>We?0:void 0!==nt?nt:void 0!==K?K:$e?$e.getDuration():0,D=()=>void 0!==Fe?Fe:$e?$e.getIterations():1,Nn=()=>void 0!==rt?rt:void 0!==W?W:$e?$e.getDelay():0,vo=()=>{0!==vt&&(vt--,0===vt&&((()=>{ar(),Wr.forEach(it=>it()),_i.forEach(it=>it());const P=Ve?1:0,he=re,ke=Ue,Je=Qe;z.forEach(it=>{const xe=it.classList;he.forEach(Ht=>xe.add(Ht)),ke.forEach(Ht=>xe.remove(Ht));for(const Ht in Je)Je.hasOwnProperty(Ht)&&L(it,Ht,Je[Ht])}),Jt.forEach(it=>it.c(P,Re)),nn.forEach(it=>it.c(P,Re)),nn.length=0,ve=!0,Ve&&(q=!0),Ve=!0})(),$e&&$e.animationFinish()))},jr=(P=!0)=>{Nr();const he=(me=>(me.forEach(W=>{for(const K in W)if(W.hasOwnProperty(K)){const pe=W[K];if("easing"===K)W["animation-timing-function"]=pe,delete W[K];else{const Fe=G(K);Fe!==K&&(W[Fe]=pe,delete W[K])}}}),me))(ce);z.forEach(ke=>{if(he.length>0){const Je=((me=[])=>me.map(W=>{const K=W.offset,pe=[];for(const Fe in W)W.hasOwnProperty(Fe)&&"offset"!==Fe&&pe.push(`${Fe}: ${W[Fe]};`);return`${100*K}% { ${pe.join(" ")} }`}).join(" "))(he);ht=void 0!==me?me:(me=>{let W=se.indexOf(me);return W<0&&(W=se.push(me)-1),`ion-animation-${W}`})(Je);const it=((me,W,K)=>{var pe;const Fe=(me=>{const W=void 0!==me.getRootNode?me.getRootNode():me;return W.head||W})(K),de=J(K),at=Fe.querySelector("#"+me);if(at)return at;const ce=(null!==(pe=K.ownerDocument)&&void 0!==pe?pe:document).createElement("style");return ce.id=me,ce.textContent=`@${de}keyframes ${me} { ${W} } @${de}keyframes ${me}-alt { ${W} }`,Fe.appendChild(ce),ce})(ht,Je,ke);dr.push(it),L(ke,"animation-duration",`${qn()}ms`),L(ke,"animation-timing-function",S()),L(ke,"animation-delay",`${Nn()}ms`),L(ke,"animation-fill-mode",jt()),L(ke,"animation-direction",E());const xe=D()===1/0?"infinite":D().toString();L(ke,"animation-iteration-count",xe),L(ke,"animation-play-state","paused"),P&&L(ke,"animation-name",`${it.id}-alt`),(0,I.r)(()=>{L(ke,"animation-name",it.id||null)})}})},Jo=(P=!0)=>{(()=>{Xn.forEach(Je=>Je()),Oo.forEach(Je=>Je());const P=Ce,he=Ie,ke=Te;z.forEach(Je=>{const it=Je.classList;P.forEach(xe=>it.add(xe)),he.forEach(xe=>it.remove(xe));for(const xe in ke)ke.hasOwnProperty(xe)&&L(Je,xe,ke[xe])})})(),ce.length>0&&(jn?(z.forEach(P=>{const he=P.animate(ce,{id:cn,delay:Nn(),duration:qn(),easing:S(),iterations:D(),fill:jt(),direction:E()});he.pause(),Rn.push(he)}),Rn.length>0&&(Rn[0].onfinish=()=>{vo()})):jr(P)),Xe=!0},Eo=P=>{if(P=Math.min(Math.max(P,0),.9999),jn)Rn.forEach(he=>{he.currentTime=he.effect.getComputedTiming().delay+qn()*P,he.pause()});else{const he=`-${qn()*P}ms`;z.forEach(ke=>{ce.length>0&&(L(ke,"animation-delay",he),L(ke,"animation-play-state","paused"))})}},eo=P=>{Rn.forEach(he=>{he.effect.updateTiming({delay:Nn(),duration:qn(),easing:S(),iterations:D(),fill:jt(),direction:E()})}),void 0!==P&&Eo(P)},Ji=(P=!0,he)=>{(0,I.r)(()=>{z.forEach(ke=>{L(ke,"animation-name",ht||null),L(ke,"animation-duration",`${qn()}ms`),L(ke,"animation-timing-function",S()),L(ke,"animation-delay",void 0!==he?`-${he*qn()}ms`:`${Nn()}ms`),L(ke,"animation-fill-mode",jt()||null),L(ke,"animation-direction",E()||null);const Je=D()===1/0?"infinite":D().toString();L(ke,"animation-iteration-count",Je),P&&L(ke,"animation-name",`${ht}-alt`),(0,I.r)(()=>{L(ke,"animation-name",ht||null)})})})},ao=(P=!1,he=!0,ke)=>(P&&vn.forEach(Je=>{Je.update(P,he,ke)}),jn?eo(ke):Ji(he,ke),Re),es=()=>{Xe&&(jn?Rn.forEach(P=>{P.pause()}):z.forEach(P=>{L(P,"animation-play-state","paused")}),Mt=!0)},xs=()=>{O=void 0,vo()},ar=()=>{O&&clearTimeout(O)},A=P=>new Promise(he=>{P?.sync&&(We=!0,mn(()=>We=!1,{oneTimeCallback:!0})),Xe||Jo(),q&&(jn?(Eo(0),eo()):Ji(),q=!1),ve&&(vt=vn.length+1,ve=!1),mn(()=>he(),{oneTimeCallback:!0}),vn.forEach(ke=>{ke.play()}),jn?(Rn.forEach(P=>{P.play()}),(0===ce.length||0===z.length)&&vo()):(()=>{if(ar(),(0,I.r)(()=>{z.forEach(P=>{ce.length>0&&L(P,"animation-play-state","running")})}),0===ce.length||0===z.length)vo();else{const P=Nn()||0,he=qn()||0,ke=D()||1;isFinite(ke)&&(O=setTimeout(xs,P+he*ke+100)),((me,W)=>{let K;const pe={passive:!0},de=at=>{me===at.target&&(K&&K(),ar(),(0,I.r)(()=>{z.forEach(P=>{V(P,"animation-duration"),V(P,"animation-delay"),V(P,"animation-play-state")}),(0,I.r)(vo)}))};me&&(me.addEventListener("webkitAnimationEnd",de,pe),me.addEventListener("animationend",de,pe),K=()=>{me.removeEventListener("webkitAnimationEnd",de,pe),me.removeEventListener("animationend",de,pe)})})(z[0])}})(),Mt=!1}),ge=(P,he)=>{const ke=ce[0];return void 0===ke||void 0!==ke.offset&&0!==ke.offset?ce=[{offset:0,[P]:he},...ce]:ke[P]=he,Re};return Re={parentAnimation:$e,elements:z,childAnimations:vn,id:cn,animationFinish:vo,from:ge,to:(P,he)=>{const ke=ce[ce.length-1];return void 0===ke||void 0!==ke.offset&&1!==ke.offset?ce=[...ce,{offset:1,[P]:he}]:ke[P]=he,Re},fromTo:(P,he,ke)=>ge(P,he).to(P,ke),parent:P=>($e=P,Re),play:A,pause:()=>(vn.forEach(P=>{P.pause()}),es(),Re),stop:()=>{vn.forEach(P=>{P.stop()}),Xe&&(Xi(),Xe=!1),dn=!1,We=!1,ve=!0,ye=void 0,nt=void 0,rt=void 0,vt=0,q=!1,Ve=!0,Mt=!1},destroy:P=>(vn.forEach(he=>{he.destroy(P)}),(P=>{Xi(),P&&Nr()})(P),z.length=0,vn.length=0,ce.length=0,Jt.length=0,nn.length=0,Xe=!1,ve=!0,Re),keyframes:P=>{const he=ce!==P;return ce=P,he&&(P=>{jn?Ur().forEach(he=>{if(he.effect.setKeyframes)he.effect.setKeyframes(P);else{const ke=new KeyframeEffect(he.effect.target,P,he.effect.getTiming());he.effect=ke}}):jr()})(ce),Re},addAnimation:P=>{if(null!=P)if(Array.isArray(P))for(const he of P)he.parent(Re),vn.push(he);else P.parent(Re),vn.push(P);return Re},addElement:P=>{if(null!=P)if(1===P.nodeType)z.push(P);else if(P.length>=0)for(let he=0;he<P.length;he++)z.push(P[he]);else console.error("Invalid addElement value");return Re},update:ao,fill:P=>(de=P,ao(!0),Re),direction:P=>(at=P,ao(!0),Re),iterations:P=>(Fe=P,ao(!0),Re),duration:P=>(!jn&&0===P&&(P=1),K=P,ao(!0),Re),easing:P=>(pe=P,ao(!0),Re),delay:P=>(W=P,ao(!0),Re),getWebAnimations:Ur,getKeyframes:()=>ce,getFill:jt,getDirection:E,getDelay:Nn,getIterations:D,getEasing:S,getDuration:qn,afterAddRead:P=>(Wr.push(P),Re),afterAddWrite:P=>(_i.push(P),Re),afterClearStyles:(P=[])=>{for(const he of P)Qe[he]="";return Re},afterStyles:(P={})=>(Qe=P,Re),afterRemoveClass:P=>(Ue=Pe(Ue,P),Re),afterAddClass:P=>(re=Pe(re,P),Re),beforeAddRead:P=>(Xn.push(P),Re),beforeAddWrite:P=>(Oo.push(P),Re),beforeClearStyles:(P=[])=>{for(const he of P)Te[he]="";return Re},beforeStyles:(P={})=>(Te=P,Re),beforeRemoveClass:P=>(Ie=Pe(Ie,P),Re),beforeAddClass:P=>(Ce=Pe(Ce,P),Re),onFinish:mn,isRunning:()=>0!==vt&&!Mt,progressStart:(P=!1,he)=>(vn.forEach(ke=>{ke.progressStart(P,he)}),es(),dn=P,Xe||Jo(),ao(!1,!0,he),Re),progressStep:P=>(vn.forEach(he=>{he.progressStep(P)}),Eo(P),Re),progressEnd:(P,he,ke)=>(dn=!1,vn.forEach(Je=>{Je.progressEnd(P,he,ke)}),void 0!==ke&&(nt=ke),q=!1,Ve=!0,0===P?(ye="reverse"===E()?"normal":"reverse","reverse"===ye&&(Ve=!1),jn?(ao(),Eo(1-he)):(rt=(1-he)*qn()*-1,ao(!1,!1))):1===P&&(jn?(ao(),Eo(he)):(rt=he*qn()*-1,ao(!1,!1))),void 0!==P&&(mn(()=>{nt=void 0,ye=void 0,rt=void 0},{oneTimeCallback:!0}),$e||A()),Re)}}},6379:(Be,ze,x)=>{"use strict";x.d(ze,{G:()=>G});class c{constructor(L,V,ue,Y,se){this.id=V,this.name=ue,this.disableScroll=se,this.priority=1e6*Y+V,this.ctrl=L}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const L=this.ctrl.capture(this.name,this.id,this.priority);return L&&this.disableScroll&&this.ctrl.disableScroll(this.id),L}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class oe{constructor(L,V,ue,Y){this.id=V,this.disable=ue,this.disableScroll=Y,this.ctrl=L}block(){if(this.ctrl){if(this.disable)for(const L of this.disable)this.ctrl.disableGesture(L,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const L of this.disable)this.ctrl.enableGesture(L,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const te="backdrop-no-scroll",G=new class I{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(L){var V;return new c(this,this.newID(),L.name,null!==(V=L.priority)&&void 0!==V?V:0,!!L.disableScroll)}createBlocker(L={}){return new oe(this,this.newID(),L.disable,!!L.disableScroll)}start(L,V,ue){return this.canStart(L)?(this.requestedStart.set(V,ue),!0):(this.requestedStart.delete(V),!1)}capture(L,V,ue){if(!this.start(L,V,ue))return!1;const Y=this.requestedStart;let se=-1e4;if(Y.forEach(B=>{se=Math.max(se,B)}),se===ue){this.capturedId=V,Y.clear();const B=new CustomEvent("ionGestureCaptured",{detail:{gestureName:L}});return document.dispatchEvent(B),!0}return Y.delete(V),!1}release(L){this.requestedStart.delete(L),this.capturedId===L&&(this.capturedId=void 0)}disableGesture(L,V){let ue=this.disabledGestures.get(L);void 0===ue&&(ue=new Set,this.disabledGestures.set(L,ue)),ue.add(V)}enableGesture(L,V){const ue=this.disabledGestures.get(L);void 0!==ue&&ue.delete(V)}disableScroll(L){this.disabledScroll.add(L),1===this.disabledScroll.size&&document.body.classList.add(te)}enableScroll(L){this.disabledScroll.delete(L),0===this.disabledScroll.size&&document.body.classList.remove(te)}canStart(L){return!(void 0!==this.capturedId||this.isDisabled(L))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(L){const V=this.disabledGestures.get(L);return!!(V&&V.size>0)}newID(){return this.gestureId++,this.gestureId}}},159:(Be,ze,x)=>{"use strict";x.r(ze),x.d(ze,{MENU_BACK_BUTTON_PRIORITY:()=>G,OVERLAY_BACK_BUTTON_PRIORITY:()=>te,blockHardwareBackButton:()=>c,startHardwareBackButton:()=>oe});var I=x(3918);const c=()=>{document.addEventListener("backbutton",()=>{})},oe=()=>{const J=document;let L=!1;J.addEventListener("backbutton",()=>{if(L)return;let V=0,ue=[];const Y=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register($,j){ue.push({priority:$,handler:j,id:V++})}}});J.dispatchEvent(Y);const se=function(){var $=(0,I.Z)(function*(j){try{if(j?.handler){const Pe=j.handler(B);null!=Pe&&(yield Pe)}}catch(Pe){console.error(Pe)}});return function(Pe){return $.apply(this,arguments)}}(),B=()=>{if(ue.length>0){let $={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};ue.forEach(j=>{j.priority>=$.priority&&($=j)}),L=!0,ue=ue.filter(j=>j.id!==$.id),se($).then(()=>L=!1)}};B()})},te=100,G=99},9259:(Be,ze,x)=>{"use strict";x.d(ze,{a:()=>L,b:()=>V,c:()=>oe,d:()=>j,e:()=>Pe,f:()=>$,g:()=>ue,h:()=>Fe,i:()=>J,j:()=>te,k:()=>B,l:()=>Le,m:()=>se,n:()=>me,o:()=>pe,p:()=>K,q:()=>de,r:()=>Y,s:()=>at,t:()=>I,u:()=>W});const I=(ce,Ce=0)=>new Promise(Ie=>{c(ce,Ce,Ie)}),c=(ce,Ce=0,Ie)=>{let Xe,$e;const Te={passive:!0},Ue=()=>{Xe&&Xe()},Qe=vt=>{(void 0===vt||ce===vt.target)&&(Ue(),Ie(vt))};return ce&&(ce.addEventListener("webkitTransitionEnd",Qe,Te),ce.addEventListener("transitionend",Qe,Te),$e=setTimeout(Qe,Ce+500),Xe=()=>{$e&&(clearTimeout($e),$e=void 0),ce.removeEventListener("webkitTransitionEnd",Qe,Te),ce.removeEventListener("transitionend",Qe,Te)}),Ue},oe=(ce,Ce)=>{ce.componentOnReady?ce.componentOnReady().then(Ie=>Ce(Ie)):Y(()=>Ce(ce))},te=(ce,Ce=[])=>{const Ie={};return Ce.forEach(Xe=>{ce.hasAttribute(Xe)&&(null!==ce.getAttribute(Xe)&&(Ie[Xe]=ce.getAttribute(Xe)),ce.removeAttribute(Xe))}),Ie},G=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],J=(ce,Ce)=>{let Ie=G;return Ce&&Ce.length>0&&(Ie=Ie.filter(Xe=>!Ce.includes(Xe))),te(ce,Ie)},L=(ce,Ce,Ie,Xe)=>{var $e;if(typeof window<"u"){const re=null===($e=window?.Ionic)||void 0===$e?void 0:$e.config;if(re){const Ue=re.get("_ael");if(Ue)return Ue(ce,Ce,Ie,Xe);if(re._ael)return re._ael(ce,Ce,Ie,Xe)}}return ce.addEventListener(Ce,Ie,Xe)},V=(ce,Ce,Ie,Xe)=>{var $e;if(typeof window<"u"){const re=null===($e=window?.Ionic)||void 0===$e?void 0:$e.config;if(re){const Ue=re.get("_rel");if(Ue)return Ue(ce,Ce,Ie,Xe);if(re._rel)return re._rel(ce,Ce,Ie,Xe)}}return ce.removeEventListener(Ce,Ie,Xe)},ue=(ce,Ce=ce)=>ce.shadowRoot||Ce,Y=ce=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ce):"function"==typeof requestAnimationFrame?requestAnimationFrame(ce):setTimeout(ce),se=ce=>!!ce.shadowRoot&&!!ce.attachShadow,B=ce=>{const Ce=ce.closest("ion-item");return Ce?Ce.querySelector("ion-label"):null},$=ce=>{if(ce.focus(),ce.classList.contains("ion-focusable")){const Ce=ce.closest("ion-app");Ce&&Ce.setFocus([ce])}},j=(ce,Ce)=>{let Ie;const Xe=ce.getAttribute("aria-labelledby"),$e=ce.id;let Te=null!==Xe&&""!==Xe.trim()?Xe:Ce+"-lbl",re=null!==Xe&&""!==Xe.trim()?document.getElementById(Xe):B(ce);return re?(null===Xe&&(re.id=Te),Ie=re.textContent,re.setAttribute("aria-hidden","true")):""!==$e.trim()&&(re=document.querySelector(`label[for="${$e}"]`),re&&(""!==re.id?Te=re.id:re.id=Te=`${$e}-lbl`,Ie=re.textContent)),{label:re,labelId:Te,labelText:Ie}},Pe=(ce,Ce,Ie,Xe,$e)=>{if(ce||se(Ce)){let Te=Ce.querySelector("input.aux-input");Te||(Te=Ce.ownerDocument.createElement("input"),Te.type="hidden",Te.classList.add("aux-input"),Ce.appendChild(Te)),Te.disabled=$e,Te.name=Ie,Te.value=Xe||""}},Le=(ce,Ce,Ie)=>Math.max(ce,Math.min(Ce,Ie)),me=(ce,Ce)=>{if(!ce){const Ie="ASSERT: "+Ce;throw console.error(Ie),new Error(Ie)}},W=ce=>ce.timeStamp||Date.now(),K=ce=>{if(ce){const Ce=ce.changedTouches;if(Ce&&Ce.length>0){const Ie=Ce[0];return{x:Ie.clientX,y:Ie.clientY}}if(void 0!==ce.pageX)return{x:ce.pageX,y:ce.pageY}}return{x:0,y:0}},pe=ce=>{const Ce="rtl"===document.dir;switch(ce){case"start":return Ce;case"end":return!Ce;default:throw new Error(`"${ce}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Fe=(ce,Ce)=>{const Ie=ce._original||ce;return{_original:ce,emit:de(Ie.emit.bind(Ie),Ce)}},de=(ce,Ce=0)=>{let Ie;return(...Xe)=>{clearTimeout(Ie),Ie=setTimeout(ce,Ce,...Xe)}},at=(ce,Ce)=>{if(ce??(ce={}),Ce??(Ce={}),ce===Ce)return!0;const Ie=Object.keys(ce);if(Ie.length!==Object.keys(Ce).length)return!1;for(const Xe of Ie)if(!(Xe in Ce)||ce[Xe]!==Ce[Xe])return!1;return!0}},919:(Be,ze,x)=>{"use strict";x.d(ze,{L:()=>te,a:()=>G,b:()=>J,c:()=>L,d:()=>V,e:()=>Ce,g:()=>$e,l:()=>at,s:()=>Ie,t:()=>se});var I=x(3918),c=x(1559),oe=x(9259);const te="ionViewWillEnter",G="ionViewDidEnter",J="ionViewWillLeave",L="ionViewDidLeave",V="ionViewWillUnload",se=Te=>new Promise((re,Ue)=>{(0,c.c)(()=>{B(Te),$(Te).then(Qe=>{Qe.animation&&Qe.animation.destroy(),j(Te),re(Qe)},Qe=>{j(Te),Ue(Qe)})})}),B=Te=>{const re=Te.enteringEl,Ue=Te.leavingEl;Xe(re,Ue,Te.direction),Te.showGoBack?re.classList.add("can-go-back"):re.classList.remove("can-go-back"),Ie(re,!1),re.style.setProperty("pointer-events","none"),Ue&&(Ie(Ue,!1),Ue.style.setProperty("pointer-events","none"))},$=function(){var Te=(0,I.Z)(function*(re){const Ue=yield Pe(re);return Ue&&c.B.isBrowser?Le(Ue,re):me(re)});return function(Ue){return Te.apply(this,arguments)}}(),j=Te=>{const re=Te.enteringEl,Ue=Te.leavingEl;re.classList.remove("ion-page-invisible"),re.style.removeProperty("pointer-events"),void 0!==Ue&&(Ue.classList.remove("ion-page-invisible"),Ue.style.removeProperty("pointer-events"))},Pe=function(){var Te=(0,I.Z)(function*(re){return re.leavingEl&&re.animated&&0!==re.duration?re.animationBuilder?re.animationBuilder:"ios"===re.mode?(yield Promise.resolve().then(x.bind(x,9078))).iosTransitionAnimation:(yield Promise.resolve().then(x.bind(x,4199))).mdTransitionAnimation:void 0});return function(Ue){return Te.apply(this,arguments)}}(),Le=function(){var Te=(0,I.Z)(function*(re,Ue){yield W(Ue,!0);const Qe=re(Ue.baseEl,Ue);Fe(Ue.enteringEl,Ue.leavingEl);const vt=yield pe(Qe,Ue);return Ue.progressCallback&&Ue.progressCallback(void 0),vt&&de(Ue.enteringEl,Ue.leavingEl),{hasCompleted:vt,animation:Qe}});return function(Ue,Qe){return Te.apply(this,arguments)}}(),me=function(){var Te=(0,I.Z)(function*(re){const Ue=re.enteringEl,Qe=re.leavingEl;return yield W(re,!1),Fe(Ue,Qe),de(Ue,Qe),{hasCompleted:!0}});return function(Ue){return Te.apply(this,arguments)}}(),W=function(){var Te=(0,I.Z)(function*(re,Ue){const vt=(void 0!==re.deepWait?re.deepWait:Ue)?[Ce(re.enteringEl),Ce(re.leavingEl)]:[ce(re.enteringEl),ce(re.leavingEl)];yield Promise.all(vt),yield K(re.viewIsReady,re.enteringEl)});return function(Ue,Qe){return Te.apply(this,arguments)}}(),K=function(){var Te=(0,I.Z)(function*(re,Ue){re&&(yield re(Ue))});return function(Ue,Qe){return Te.apply(this,arguments)}}(),pe=(Te,re)=>{const Ue=re.progressCallback,Qe=new Promise(vt=>{Te.onFinish(dn=>vt(1===dn))});return Ue?(Te.progressStart(!0),Ue(Te)):Te.play(),Qe},Fe=(Te,re)=>{at(re,J),at(Te,te)},de=(Te,re)=>{at(Te,G),at(re,L)},at=(Te,re)=>{if(Te){const Ue=new CustomEvent(re,{bubbles:!1,cancelable:!1});Te.dispatchEvent(Ue)}},ce=Te=>Te?new Promise(re=>(0,oe.c)(Te,re)):Promise.resolve(),Ce=function(){var Te=(0,I.Z)(function*(re){const Ue=re;if(Ue){if(null!=Ue.componentOnReady){if(null!=(yield Ue.componentOnReady()))return}else if(null!=Ue.__registerHost)return void(yield new Promise(vt=>(0,oe.r)(vt)));yield Promise.all(Array.from(Ue.children).map(Ce))}});return function(Ue){return Te.apply(this,arguments)}}(),Ie=(Te,re)=>{re?(Te.setAttribute("aria-hidden","true"),Te.classList.add("ion-page-hidden")):(Te.hidden=!1,Te.removeAttribute("aria-hidden"),Te.classList.remove("ion-page-hidden"))},Xe=(Te,re,Ue)=>{void 0!==Te&&(Te.style.zIndex="back"===Ue?"99":"101"),void 0!==re&&(re.style.zIndex="100")},$e=Te=>Te.classList.contains("ion-page")?Te:Te.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Te},7351:(Be,ze,x)=>{"use strict";x.d(ze,{m:()=>se});var I=x(3918),c=x(159),oe=x(9259),te=x(5823),G=x(5933);const J=B=>(0,G.c)().duration(B?400:300),L=B=>{let $,j;const Pe=B.width+8,Le=(0,G.c)(),me=(0,G.c)();B.isEndSide?($=Pe+"px",j="0px"):($=-Pe+"px",j="0px"),Le.addElement(B.menuInnerEl).fromTo("transform",`translateX(${$})`,`translateX(${j})`);const K="ios"===(0,te.b)(B),pe=K?.2:.25;return me.addElement(B.backdropEl).fromTo("opacity",.01,pe),J(K).addAnimation([Le,me])},V=B=>{let $,j;const Pe=(0,te.b)(B),Le=B.width;B.isEndSide?($=-Le+"px",j=Le+"px"):($=Le+"px",j=-Le+"px");const me=(0,G.c)().addElement(B.menuInnerEl).fromTo("transform",`translateX(${j})`,"translateX(0px)"),W=(0,G.c)().addElement(B.contentEl).fromTo("transform","translateX(0px)",`translateX(${$})`),K=(0,G.c)().addElement(B.backdropEl).fromTo("opacity",.01,.32);return J("ios"===Pe).addAnimation([me,W,K])},ue=B=>{const $=(0,te.b)(B),j=B.width*(B.isEndSide?-1:1)+"px",Pe=(0,G.c)().addElement(B.contentEl).fromTo("transform","translateX(0px)",`translateX(${j})`);return J("ios"===$).addAnimation(Pe)},se=(()=>{const B=new Map,$=[],j=function(){var O=(0,I.Z)(function*(ye){const nt=yield Fe(ye);return!!nt&&nt.open()});return function(nt){return O.apply(this,arguments)}}(),Pe=function(){var O=(0,I.Z)(function*(ye){const nt=yield void 0!==ye?Fe(ye):de();return void 0!==nt&&nt.close()});return function(nt){return O.apply(this,arguments)}}(),Le=function(){var O=(0,I.Z)(function*(ye){const nt=yield Fe(ye);return!!nt&&nt.toggle()});return function(nt){return O.apply(this,arguments)}}(),me=function(){var O=(0,I.Z)(function*(ye,nt){const rt=yield Fe(nt);return rt&&(rt.disabled=!ye),rt});return function(nt,rt){return O.apply(this,arguments)}}(),W=function(){var O=(0,I.Z)(function*(ye,nt){const rt=yield Fe(nt);return rt&&(rt.swipeGesture=ye),rt});return function(nt,rt){return O.apply(this,arguments)}}(),K=function(){var O=(0,I.Z)(function*(ye){if(null!=ye){const nt=yield Fe(ye);return void 0!==nt&&nt.isOpen()}return void 0!==(yield de())});return function(nt){return O.apply(this,arguments)}}(),pe=function(){var O=(0,I.Z)(function*(ye){const nt=yield Fe(ye);return!!nt&&!nt.disabled});return function(nt){return O.apply(this,arguments)}}(),Fe=function(){var O=(0,I.Z)(function*(ye){return yield We(),"start"===ye||"end"===ye?dn(Ve=>Ve.side===ye&&!Ve.disabled)||dn(Ve=>Ve.side===ye):null!=ye?dn(rt=>rt.menuId===ye):dn(rt=>!rt.disabled)||($.length>0?$[0].el:void 0)});return function(nt){return O.apply(this,arguments)}}(),de=function(){var O=(0,I.Z)(function*(){return yield We(),Ue()});return function(){return O.apply(this,arguments)}}(),at=function(){var O=(0,I.Z)(function*(){return yield We(),Qe()});return function(){return O.apply(this,arguments)}}(),ce=function(){var O=(0,I.Z)(function*(){return yield We(),vt()});return function(){return O.apply(this,arguments)}}(),Ce=(O,ye)=>{B.set(O,ye)},$e=O=>{const ye=O.side;$.filter(nt=>nt.side===ye&&nt!==O).forEach(nt=>nt.disabled=!0)},Te=function(){var O=(0,I.Z)(function*(ye,nt,rt){if(vt())return!1;if(nt){const Ve=yield de();Ve&&ye.el!==Ve&&(yield Ve.setOpen(!1,!1))}return ye._setOpen(nt,rt)});return function(nt,rt,Ve){return O.apply(this,arguments)}}(),Ue=()=>dn(O=>O._isOpen),Qe=()=>$.map(O=>O.el),vt=()=>$.some(O=>O.isAnimating),dn=O=>{const ye=$.find(O);if(void 0!==ye)return ye.el},We=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(O=>new Promise(ye=>(0,oe.c)(O,ye))));return Ce("reveal",ue),Ce("push",V),Ce("overlay",L),typeof document<"u"&&document.addEventListener("ionBackButton",O=>{const ye=Ue();ye&&O.detail.register(c.MENU_BACK_BUTTON_PRIORITY,()=>ye.close())}),{registerAnimation:Ce,get:Fe,getMenus:at,getOpen:de,isEnabled:pe,swipeGesture:W,isAnimating:ce,isOpen:K,enable:me,toggle:Le,close:Pe,open:j,_getOpenSync:Ue,_createAnimation:(O,ye)=>{const nt=B.get(O);if(!nt)throw new Error("animation not registered");return nt(ye)},_register:O=>{$.indexOf(O)<0&&(O.disabled||$e(O),$.push(O))},_unregister:O=>{const ye=$.indexOf(O);ye>-1&&$.splice(ye,1)},_setOpen:Te,_setActiveMenu:$e}})()},2286:(Be,ze,x)=>{"use strict";x.d(ze,{w:()=>I});const I=typeof window<"u"?window:void 0},8759:(Be,ze,x)=>{"use strict";x.r(ze),x.d(ze,{GESTURE_CONTROLLER:()=>I.G,createGesture:()=>ue});var I=x(6379);const c=($,j,Pe,Le)=>{const me=oe($)?{capture:!!Le.capture,passive:!!Le.passive}:!!Le.capture;let W,K;return $.__zone_symbol__addEventListener?(W="__zone_symbol__addEventListener",K="__zone_symbol__removeEventListener"):(W="addEventListener",K="removeEventListener"),$[W](j,Pe,me),()=>{$[K](j,Pe,me)}},oe=$=>{if(void 0===te)try{const j=Object.defineProperty({},"passive",{get:()=>{te=!0}});$.addEventListener("optsTest",()=>{},j)}catch{te=!1}return!!te};let te;const L=$=>$ instanceof Document?$:$.ownerDocument,ue=$=>{let j=!1,Pe=!1,Le=!0,me=!1;const W=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},$),K=W.canStart,pe=W.onWillStart,Fe=W.onStart,de=W.onEnd,at=W.notCaptured,ce=W.onMove,Ce=W.threshold,Ie=W.passive,Xe=W.blurOnStart,$e={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Te=(($,j,Pe)=>{const Le=Pe*(Math.PI/180),me="x"===$,W=Math.cos(Le),K=j*j;let pe=0,Fe=0,de=!1,at=0;return{start(ce,Ce){pe=ce,Fe=Ce,at=0,de=!0},detect(ce,Ce){if(!de)return!1;const Ie=ce-pe,Xe=Ce-Fe,$e=Ie*Ie+Xe*Xe;if($e<K)return!1;const Te=Math.sqrt($e),re=(me?Ie:Xe)/Te;return at=re>W?1:re<-W?-1:0,de=!1,!0},isGesture:()=>0!==at,getDirection:()=>at}})(W.direction,W.threshold,W.maxAngle),re=I.G.createGesture({name:$.gestureName,priority:$.gesturePriority,disableScroll:$.disableScroll}),vt=()=>{j&&(me=!1,ce&&ce($e))},dn=()=>!!re.capture()&&(j=!0,Le=!1,$e.startX=$e.currentX,$e.startY=$e.currentY,$e.startTime=$e.currentTime,pe?pe($e).then(O):O(),!0),O=()=>{Xe&&(()=>{if(typeof document<"u"){const q=document.activeElement;q?.blur&&q.blur()}})(),Fe&&Fe($e),Le=!0},ye=()=>{j=!1,Pe=!1,me=!1,Le=!0,re.release()},nt=q=>{const ve=j,ht=Le;if(ye(),ht){if(Y($e,q),ve)return void(de&&de($e));at&&at($e)}},rt=(($,j,Pe,Le,me)=>{let W,K,pe,Fe,de,at,ce,Ce=0;const Ie=We=>{Ce=Date.now()+2e3,j(We)&&(!K&&Pe&&(K=c($,"touchmove",Pe,me)),pe||(pe=c(We.target,"touchend",$e,me)),Fe||(Fe=c(We.target,"touchcancel",$e,me)))},Xe=We=>{Ce>Date.now()||j(We)&&(!at&&Pe&&(at=c(L($),"mousemove",Pe,me)),ce||(ce=c(L($),"mouseup",Te,me)))},$e=We=>{re(),Le&&Le(We)},Te=We=>{Ue(),Le&&Le(We)},re=()=>{K&&K(),pe&&pe(),Fe&&Fe(),K=pe=Fe=void 0},Ue=()=>{at&&at(),ce&&ce(),at=ce=void 0},Qe=()=>{re(),Ue()},vt=(We=!0)=>{We?(W||(W=c($,"touchstart",Ie,me)),de||(de=c($,"mousedown",Xe,me))):(W&&W(),de&&de(),W=de=void 0,Qe())};return{enable:vt,stop:Qe,destroy:()=>{vt(!1),Le=Pe=j=void 0}}})(W.el,q=>{const ve=B(q);return!(Pe||!Le||(se(q,$e),$e.startX=$e.currentX,$e.startY=$e.currentY,$e.startTime=$e.currentTime=ve,$e.velocityX=$e.velocityY=$e.deltaX=$e.deltaY=0,$e.event=q,K&&!1===K($e))||(re.release(),!re.start()))&&(Pe=!0,0===Ce?dn():(Te.start($e.startX,$e.startY),!0))},q=>{j?!me&&Le&&(me=!0,Y($e,q),requestAnimationFrame(vt)):(Y($e,q),Te.detect($e.currentX,$e.currentY)&&(!Te.isGesture()||!dn())&&Ve())},nt,{capture:!1,passive:Ie}),Ve=()=>{ye(),rt.stop(),at&&at($e)};return{enable(q=!0){q||(j&&nt(void 0),ye()),rt.enable(q)},destroy(){re.destroy(),rt.destroy()}}},Y=($,j)=>{if(!j)return;const Pe=$.currentX,Le=$.currentY,me=$.currentTime;se(j,$);const W=$.currentX,K=$.currentY,Fe=($.currentTime=B(j))-me;if(Fe>0&&Fe<100){const at=(K-Le)/Fe;$.velocityX=(W-Pe)/Fe*.7+.3*$.velocityX,$.velocityY=.7*at+.3*$.velocityY}$.deltaX=W-$.startX,$.deltaY=K-$.startY,$.event=j},se=($,j)=>{let Pe=0,Le=0;if($){const me=$.changedTouches;if(me&&me.length>0){const W=me[0];Pe=W.clientX,Le=W.clientY}else void 0!==$.pageX&&(Pe=$.pageX,Le=$.pageY)}j.currentX=Pe,j.currentY=Le},B=$=>$.timeStamp||Date.now()},1559:(Be,ze,x)=>{"use strict";x.d(ze,{B:()=>er,H:()=>z,a:()=>Ve,b:()=>li,c:()=>Pi,e:()=>Kt,f:()=>ys,g:()=>q,h:()=>Jt,i:()=>Bn,j:()=>E,k:()=>Qo,p:()=>Le,r:()=>Qi,s:()=>j});var I=x(3918);let oe,te,G,J=!1,L=!1,V=!1,ue=!1,Y=!1;const se=typeof window<"u"?window:{},B=se.document||{head:{}},$={$flags$:0,$resourcesUrl$:"",jmp:A=>A(),raf:A=>requestAnimationFrame(A),ael:(A,N,ge,Se)=>A.addEventListener(N,ge,Se),rel:(A,N,ge,Se)=>A.removeEventListener(N,ge,Se),ce:(A,N)=>new CustomEvent(A,N)},j=A=>{Object.assign($,A)},Le=A=>Promise.resolve(A),me=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),W=(A,N,ge,Se)=>{ge&&ge.map(([Oe,P,he])=>{const ke=pe(A,Oe),Je=K(N,he),it=Fe(Oe);$.ael(ke,P,Je,it),(N.$rmListeners$=N.$rmListeners$||[]).push(()=>$.rel(ke,P,Je,it))})},K=(A,N)=>ge=>{try{256&A.$flags$?A.$lazyInstance$[N](ge):(A.$queuedListeners$=A.$queuedListeners$||[]).push([N,ge])}catch(Se){eo(Se)}},pe=(A,N)=>4&N?B:8&N?se:16&N?B.body:A,Fe=A=>0!=(2&A),Ie="s-id",Xe="sty-id",re="http://www.w3.org/1999/xlink",vt=new WeakMap,dn=(A,N,ge)=>{let Se=Ci.get(A);me&&ge?(Se=Se||new CSSStyleSheet,"string"==typeof Se?Se=N:Se.replaceSync(N)):Se=N,Ci.set(A,Se)},We=(A,N,ge,Se)=>{let Oe=ye(N,ge);const P=Ci.get(Oe);if(A=11===A.nodeType?A:B,P)if("string"==typeof P){let ke,he=vt.get(A=A.head||A);he||vt.set(A,he=new Set),he.has(Oe)||(A.host&&(ke=A.querySelector(`[${Xe}="${Oe}"]`))?ke.innerHTML=P:(ke=B.createElement("style"),ke.innerHTML=P,A.insertBefore(ke,A.querySelector("link"))),he&&he.add(Oe))}else A.adoptedStyleSheets.includes(P)||(A.adoptedStyleSheets=[...A.adoptedStyleSheets,P]);return Oe},ye=(A,N)=>"sc-"+(N&&32&A.$flags$?A.$tagName$+"-"+N:A.$tagName$),nt=A=>A.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Ve=A=>gs.push(A),q=A=>jr(A).$modeName$,ve={},cn=A=>"object"==(A=typeof A)||"function"===A,Jt=(A,N,...ge)=>{let Se=null,Oe=null,P=null,he=!1,ke=!1;const Je=[],it=Ht=>{for(let St=0;St<Ht.length;St++)Se=Ht[St],Array.isArray(Se)?it(Se):null!=Se&&"boolean"!=typeof Se&&((he="function"!=typeof A&&!cn(Se))&&(Se=String(Se)),he&&ke?Je[Je.length-1].$text$+=Se:Je.push(he?nn(null,Se):Se),ke=he)};if(it(ge),N){N.key&&(Oe=N.key),N.name&&(P=N.name);{const Ht=N.className||N.class;Ht&&(N.class="object"!=typeof Ht?Ht:Object.keys(Ht).filter(St=>Ht[St]).join(" "))}}if("function"==typeof A)return A(null===N?{}:N,Je,dr);const xe=nn(A,null);return xe.$attrs$=N,Je.length>0&&(xe.$children$=Je),xe.$key$=Oe,xe.$name$=P,xe},nn=(A,N)=>({$flags$:0,$tag$:A,$text$:N,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),z={},dr={forEach:(A,N)=>A.map(Xn).forEach(N),map:(A,N)=>A.map(Xn).map(N).map(Oo)},Xn=A=>({vattrs:A.$attrs$,vchildren:A.$children$,vkey:A.$key$,vname:A.$name$,vtag:A.$tag$,vtext:A.$text$}),Oo=A=>{if("function"==typeof A.vtag){const ge=Object.assign({},A.vattrs);return A.vkey&&(ge.key=A.vkey),A.vname&&(ge.name=A.vname),Jt(A.vtag,ge,...A.vchildren||[])}const N=nn(A.vtag,A.vtext);return N.$attrs$=A.vattrs,N.$children$=A.vchildren,N.$key$=A.vkey,N.$name$=A.vname,N},Wr=(A,N,ge,Se,Oe,P)=>{if(ge!==Se){let he=Eo(A,N),ke=N.toLowerCase();if("class"===N){const Je=A.classList,it=Rn(ge),xe=Rn(Se);Je.remove(...it.filter(Ht=>Ht&&!xe.includes(Ht))),Je.add(...xe.filter(Ht=>Ht&&!it.includes(Ht)))}else if("style"===N){for(const Je in ge)(!Se||null==Se[Je])&&(Je.includes("-")?A.style.removeProperty(Je):A.style[Je]="");for(const Je in Se)(!ge||Se[Je]!==ge[Je])&&(Je.includes("-")?A.style.setProperty(Je,Se[Je]):A.style[Je]=Se[Je])}else if("key"!==N)if("ref"===N)Se&&Se(A);else if(he||"o"!==N[0]||"n"!==N[1]){const Je=cn(Se);if((he||Je&&null!==Se)&&!Oe)try{if(A.tagName.includes("-"))A[N]=Se;else{const xe=Se??"";"list"===N?he=!1:(null==ge||A[N]!=xe)&&(A[N]=xe)}}catch{}let it=!1;ke!==(ke=ke.replace(/^xlink\:?/,""))&&(N=ke,it=!0),null==Se||!1===Se?(!1!==Se||""===A.getAttribute(N))&&(it?A.removeAttributeNS(re,N):A.removeAttribute(N)):(!he||4&P||Oe)&&!Je&&(Se=!0===Se?"":Se,it?A.setAttributeNS(re,N,Se):A.setAttribute(N,Se))}else N="-"===N[2]?N.slice(3):Eo(se,ke)?ke.slice(2):ke[2]+N.slice(3),ge&&$.rel(A,N,ge,!1),Se&&$.ael(A,N,Se,!1)}},_i=/\s/,Rn=A=>A?A.split(_i):[],so=(A,N,ge,Se)=>{const Oe=11===N.$elm$.nodeType&&N.$elm$.host?N.$elm$.host:N.$elm$,P=A&&A.$attrs$||ve,he=N.$attrs$||ve;for(Se in P)Se in he||Wr(Oe,Se,P[Se],void 0,ge,N.$flags$);for(Se in he)Wr(Oe,Se,P[Se],he[Se],ge,N.$flags$)},jn=(A,N,ge,Se)=>{const Oe=N.$children$[ge];let he,ke,Je,P=0;if(J||(V=!0,"slot"===Oe.$tag$&&(oe&&Se.classList.add(oe+"-s"),Oe.$flags$|=Oe.$children$?2:1)),null!==Oe.$text$)he=Oe.$elm$=B.createTextNode(Oe.$text$);else if(1&Oe.$flags$)he=Oe.$elm$=B.createTextNode("");else{if(ue||(ue="svg"===Oe.$tag$),he=Oe.$elm$=B.createElementNS(ue?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Oe.$flags$?"slot-fb":Oe.$tag$),ue&&"foreignObject"===Oe.$tag$&&(ue=!1),so(null,Oe,ue),(A=>null!=A)(oe)&&he["s-si"]!==oe&&he.classList.add(he["s-si"]=oe),Oe.$children$)for(P=0;P<Oe.$children$.length;++P)ke=jn(A,Oe,P,he),ke&&he.appendChild(ke);"svg"===Oe.$tag$?ue=!1:"foreignObject"===he.tagName&&(ue=!0)}return he["s-hn"]=G,3&Oe.$flags$&&(he["s-sr"]=!0,he["s-cr"]=te,he["s-sn"]=Oe.$name$||"",Je=A&&A.$children$&&A.$children$[ge],Je&&Je.$tag$===Oe.$tag$&&A.$elm$&&vi(A.$elm$,!1)),he},vi=(A,N)=>{$.$flags$|=1;const ge=A.childNodes;for(let Se=ge.length-1;Se>=0;Se--){const Oe=ge[Se];Oe["s-hn"]!==G&&Oe["s-ol"]&&(mn(Oe).insertBefore(Oe,Qr(Oe)),Oe["s-ol"].remove(),Oe["s-ol"]=void 0,V=!0),N&&vi(Oe,N)}$.$flags$&=-2},Ur=(A,N,ge,Se,Oe,P)=>{let ke,he=A["s-cr"]&&A["s-cr"].parentNode||A;for(he.shadowRoot&&he.tagName===G&&(he=he.shadowRoot);Oe<=P;++Oe)Se[Oe]&&(ke=jn(null,ge,Oe,A),ke&&(Se[Oe].$elm$=ke,he.insertBefore(ke,Qr(N))))},kr=(A,N,ge,Se,Oe)=>{for(;N<=ge;++N)(Se=A[N])&&(Oe=Se.$elm$,Ge(Se),L=!0,Oe["s-ol"]?Oe["s-ol"].remove():vi(Oe,!0),Oe.remove())},Or=(A,N)=>A.$tag$===N.$tag$&&("slot"===A.$tag$?A.$name$===N.$name$:A.$key$===N.$key$),Qr=A=>A&&A["s-ol"]||A,mn=A=>(A["s-ol"]?A["s-ol"]:A).parentNode,Zr=(A,N)=>{const ge=N.$elm$=A.$elm$,Se=A.$children$,Oe=N.$children$,P=N.$tag$,he=N.$text$;let ke;null===he?(ue="svg"===P||"foreignObject"!==P&&ue,"slot"===P||so(A,N,ue),null!==Se&&null!==Oe?((A,N,ge,Se)=>{let Do,Kr,Oe=0,P=0,he=0,ke=0,Je=N.length-1,it=N[0],xe=N[Je],Ht=Se.length-1,St=Se[0],fn=Se[Ht];for(;Oe<=Je&&P<=Ht;)if(null==it)it=N[++Oe];else if(null==xe)xe=N[--Je];else if(null==St)St=Se[++P];else if(null==fn)fn=Se[--Ht];else if(Or(it,St))Zr(it,St),it=N[++Oe],St=Se[++P];else if(Or(xe,fn))Zr(xe,fn),xe=N[--Je],fn=Se[--Ht];else if(Or(it,fn))("slot"===it.$tag$||"slot"===fn.$tag$)&&vi(it.$elm$.parentNode,!1),Zr(it,fn),A.insertBefore(it.$elm$,xe.$elm$.nextSibling),it=N[++Oe],fn=Se[--Ht];else if(Or(xe,St))("slot"===it.$tag$||"slot"===fn.$tag$)&&vi(xe.$elm$.parentNode,!1),Zr(xe,St),A.insertBefore(xe.$elm$,it.$elm$),xe=N[--Je],St=Se[++P];else{for(he=-1,ke=Oe;ke<=Je;++ke)if(N[ke]&&null!==N[ke].$key$&&N[ke].$key$===St.$key$){he=ke;break}he>=0?(Kr=N[he],Kr.$tag$!==St.$tag$?Do=jn(N&&N[P],ge,he,A):(Zr(Kr,St),N[he]=void 0,Do=Kr.$elm$),St=Se[++P]):(Do=jn(N&&N[P],ge,P,A),St=Se[++P]),Do&&mn(it.$elm$).insertBefore(Do,Qr(it.$elm$))}Oe>Je?Ur(A,null==Se[Ht+1]?null:Se[Ht+1].$elm$,ge,Se,P,Ht):P>Ht&&kr(N,Oe,Je)})(ge,Se,N,Oe):null!==Oe?(null!==A.$text$&&(ge.textContent=""),Ur(ge,null,N,Oe,0,Oe.length-1)):null!==Se&&kr(Se,0,Se.length-1),ue&&"svg"===P&&(ue=!1)):(ke=ge["s-cr"])?ke.parentNode.textContent=he:A.$text$!==he&&(ge.data=he)},Xi=A=>{const N=A.childNodes;let ge,Se,Oe,P,he,ke;for(Se=0,Oe=N.length;Se<Oe;Se++)if(ge=N[Se],1===ge.nodeType){if(ge["s-sr"])for(he=ge["s-sn"],ge.hidden=!1,P=0;P<Oe;P++)if(ke=N[P].nodeType,N[P]["s-hn"]!==ge["s-hn"]||""!==he){if(1===ke&&he===N[P].getAttribute("slot")){ge.hidden=!0;break}}else if(1===ke||3===ke&&""!==N[P].textContent.trim()){ge.hidden=!0;break}Xi(ge)}},Nr=[],ut=A=>{let N,ge,Se,Oe,P,he,ke=0;const Je=A.childNodes,it=Je.length;for(;ke<it;ke++){if(N=Je[ke],N["s-sr"]&&(ge=N["s-cr"])&&ge.parentNode)for(Se=ge.parentNode.childNodes,Oe=N["s-sn"],he=Se.length-1;he>=0;he--)ge=Se[he],!ge["s-cn"]&&!ge["s-nr"]&&ge["s-hn"]!==N["s-hn"]&&(le(ge,Oe)?(P=Nr.find(xe=>xe.$nodeToRelocate$===ge),L=!0,ge["s-sn"]=ge["s-sn"]||Oe,P?P.$slotRefNode$=N:Nr.push({$slotRefNode$:N,$nodeToRelocate$:ge}),ge["s-sr"]&&Nr.map(xe=>{le(xe.$nodeToRelocate$,ge["s-sn"])&&(P=Nr.find(Ht=>Ht.$nodeToRelocate$===ge),P&&!xe.$slotRefNode$&&(xe.$slotRefNode$=P.$slotRefNode$))})):Nr.some(xe=>xe.$nodeToRelocate$===ge)||Nr.push({$nodeToRelocate$:ge}));1===N.nodeType&&ut(N)}},le=(A,N)=>1===A.nodeType?null===A.getAttribute("slot")&&""===N||A.getAttribute("slot")===N:A["s-sn"]===N||""===N,Ge=A=>{A.$attrs$&&A.$attrs$.ref&&A.$attrs$.ref(null),A.$children$&&A.$children$.map(Ge)},Bn=A=>jr(A).$hostElement$,Kt=(A,N,ge)=>{const Se=Bn(A);return{emit:Oe=>Rt(Se,N,{bubbles:!!(4&ge),composed:!!(2&ge),cancelable:!!(1&ge),detail:Oe})}},Rt=(A,N,ge)=>{const Se=$.ce(N,ge);return A.dispatchEvent(Se),Se},hr=(A,N)=>{N&&!A.$onRenderResolve$&&N["s-p"]&&N["s-p"].push(new Promise(ge=>A.$onRenderResolve$=ge))},en=(A,N)=>{if(A.$flags$|=16,!(4&A.$flags$))return hr(A,A.$ancestorComponent$),Pi(()=>Qn(A,N));A.$flags$|=512},Qn=(A,N)=>{const Se=A.$lazyInstance$;let Oe;return N&&(A.$flags$|=256,A.$queuedListeners$&&(A.$queuedListeners$.map(([P,he])=>qn(Se,P,he)),A.$queuedListeners$=null),Oe=qn(Se,"componentWillLoad")),Oe=D(Oe,()=>qn(Se,"componentWillRender")),D(Oe,()=>Jn(A,Se,N))},Jn=function(){var A=(0,I.Z)(function*(N,ge,Se){const Oe=N.$hostElement$,he=Oe["s-rc"];Se&&(A=>{const N=A.$cmpMeta$,ge=A.$hostElement$,Se=N.$flags$,P=We(ge.shadowRoot?ge.shadowRoot:ge.getRootNode(),N,A.$modeName$);10&Se&&(ge["s-sc"]=P,ge.classList.add(P+"-h"),2&Se&&ge.classList.add(P+"-s"))})(N);un(N,ge),he&&(he.map(Je=>Je()),Oe["s-rc"]=void 0);{const Je=Oe["s-p"],it=()=>jt(N);0===Je.length?it():(Promise.all(Je).then(it),N.$flags$|=4,Je.length=0)}});return function(ge,Se,Oe){return A.apply(this,arguments)}}(),un=(A,N,ge)=>{try{N=N.render&&N.render(),A.$flags$&=-17,A.$flags$|=2,((A,N)=>{const ge=A.$hostElement$,Se=A.$cmpMeta$,Oe=A.$vnode$||nn(null,null),P=(A=>A&&A.$tag$===z)(N)?N:Jt(null,null,N);if(G=ge.tagName,Se.$attrsToReflect$&&(P.$attrs$=P.$attrs$||{},Se.$attrsToReflect$.map(([he,ke])=>P.$attrs$[ke]=ge[he])),P.$tag$=null,P.$flags$|=4,A.$vnode$=P,P.$elm$=Oe.$elm$=ge.shadowRoot||ge,oe=ge["s-sc"],te=ge["s-cr"],J=0!=(1&Se.$flags$),L=!1,Zr(Oe,P),$.$flags$|=1,V){ut(P.$elm$);let he,ke,Je,it,xe,Ht,St=0;for(;St<Nr.length;St++)he=Nr[St],ke=he.$nodeToRelocate$,ke["s-ol"]||(Je=B.createTextNode(""),Je["s-nr"]=ke,ke.parentNode.insertBefore(ke["s-ol"]=Je,ke));for(St=0;St<Nr.length;St++)if(he=Nr[St],ke=he.$nodeToRelocate$,he.$slotRefNode$){for(it=he.$slotRefNode$.parentNode,xe=he.$slotRefNode$.nextSibling,Je=ke["s-ol"];Je=Je.previousSibling;)if(Ht=Je["s-nr"],Ht&&Ht["s-sn"]===ke["s-sn"]&&it===Ht.parentNode&&(Ht=Ht.nextSibling,!Ht||!Ht["s-nr"])){xe=Ht;break}(!xe&&it!==ke.parentNode||ke.nextSibling!==xe)&&ke!==xe&&(!ke["s-hn"]&&ke["s-ol"]&&(ke["s-hn"]=ke["s-ol"].parentNode.nodeName),it.insertBefore(ke,xe))}else 1===ke.nodeType&&(ke.hidden=!0)}L&&Xi(P.$elm$),$.$flags$&=-2,Nr.length=0})(A,N)}catch(Se){eo(Se,A.$hostElement$)}return null},jt=A=>{const ge=A.$hostElement$,Oe=A.$lazyInstance$,P=A.$ancestorComponent$;qn(Oe,"componentDidRender"),64&A.$flags$?qn(Oe,"componentDidUpdate"):(A.$flags$|=64,Nn(ge),qn(Oe,"componentDidLoad"),A.$onReadyResolve$(ge),P||S()),A.$onInstanceResolve$(ge),A.$onRenderResolve$&&(A.$onRenderResolve$(),A.$onRenderResolve$=void 0),512&A.$flags$&&ui(()=>en(A,!1)),A.$flags$&=-517},E=A=>{{const N=jr(A),ge=N.$hostElement$.isConnected;return ge&&2==(18&N.$flags$)&&en(N,!1),ge}},S=A=>{Nn(B.documentElement),ui(()=>Rt(se,"appload",{detail:{namespace:"ionic"}}))},qn=(A,N,ge)=>{if(A&&A[N])try{return A[N](ge)}catch(Se){eo(Se)}},D=(A,N)=>A&&A.then?A.then(N):N(),Nn=A=>A.classList.add("hydrated"),Xo=(A,N,ge,Se,Oe,P,he)=>{let ke,Je,it,xe;if(1===P.nodeType){for(ke=P.getAttribute("c-id"),ke&&(Je=ke.split("."),(Je[0]===he||"0"===Je[0])&&(it={$flags$:0,$hostId$:Je[0],$nodeId$:Je[1],$depth$:Je[2],$index$:Je[3],$tag$:P.tagName.toLowerCase(),$elm$:P,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},N.push(it),P.removeAttribute("c-id"),A.$children$||(A.$children$=[]),A.$children$[it.$index$]=it,A=it,Se&&"0"===it.$depth$&&(Se[it.$index$]=it.$elm$))),xe=P.childNodes.length-1;xe>=0;xe--)Xo(A,N,ge,Se,Oe,P.childNodes[xe],he);if(P.shadowRoot)for(xe=P.shadowRoot.childNodes.length-1;xe>=0;xe--)Xo(A,N,ge,Se,Oe,P.shadowRoot.childNodes[xe],he)}else if(8===P.nodeType)Je=P.nodeValue.split("."),(Je[1]===he||"0"===Je[1])&&(ke=Je[0],it={$flags$:0,$hostId$:Je[1],$nodeId$:Je[2],$depth$:Je[3],$index$:Je[4],$elm$:P,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===ke?(it.$elm$=P.nextSibling,it.$elm$&&3===it.$elm$.nodeType&&(it.$text$=it.$elm$.textContent,N.push(it),P.remove(),A.$children$||(A.$children$=[]),A.$children$[it.$index$]=it,Se&&"0"===it.$depth$&&(Se[it.$index$]=it.$elm$))):it.$hostId$===he&&("s"===ke?(it.$tag$="slot",P["s-sn"]=Je[5]?it.$name$=Je[5]:"",P["s-sr"]=!0,Se&&(it.$elm$=B.createElement(it.$tag$),it.$name$&&it.$elm$.setAttribute("name",it.$name$),P.parentNode.insertBefore(it.$elm$,P),P.remove(),"0"===it.$depth$&&(Se[it.$index$]=it.$elm$)),ge.push(it),A.$children$||(A.$children$=[]),A.$children$[it.$index$]=it):"r"===ke&&(Se?P.remove():(Oe["s-cr"]=P,P["s-cn"]=!0))));else if(A&&"style"===A.$tag$){const Ht=nn(null,P.textContent);Ht.$elm$=P,Ht.$index$="0",A.$children$=[Ht]}},_o=(A,N)=>{if(1===A.nodeType){let ge=0;for(;ge<A.childNodes.length;ge++)_o(A.childNodes[ge],N);if(A.shadowRoot)for(ge=0;ge<A.shadowRoot.childNodes.length;ge++)_o(A.shadowRoot.childNodes[ge],N)}else if(8===A.nodeType){const ge=A.nodeValue.split(".");"o"===ge[0]&&(N.set(ge[1]+"."+ge[2],A),A.nodeValue="",A["s-en"]=ge[3])}},wi=(A,N,ge)=>{if(N.$members$){A.watchers&&(N.$watchers$=A.watchers);const Se=Object.entries(N.$members$),Oe=A.prototype;if(Se.map(([P,[he]])=>{31&he||2&ge&&32&he?Object.defineProperty(Oe,P,{get(){return((A,N)=>jr(this).$instanceValues$.get(N))(0,P)},set(ke){((A,N,ge,Se)=>{const Oe=jr(A),P=Oe.$hostElement$,he=Oe.$instanceValues$.get(N),ke=Oe.$flags$,Je=Oe.$lazyInstance$;ge=((A,N)=>null==A||cn(A)?A:4&N?"false"!==A&&(""===A||!!A):2&N?parseFloat(A):1&N?String(A):A)(ge,Se.$members$[N][0]);const it=Number.isNaN(he)&&Number.isNaN(ge);if((!(8&ke)||void 0===he)&&ge!==he&&!it&&(Oe.$instanceValues$.set(N,ge),Je)){if(Se.$watchers$&&128&ke){const Ht=Se.$watchers$[N];Ht&&Ht.map(St=>{try{Je[St](ge,he,N)}catch(fn){eo(fn,P)}})}2==(18&ke)&&en(Oe,!1)}})(this,P,ke,N)},configurable:!0,enumerable:!0}):1&ge&&64&he&&Object.defineProperty(Oe,P,{value(...ke){const Je=jr(this);return Je.$onInstancePromise$.then(()=>Je.$lazyInstance$[P](...ke))}})}),1&ge){const P=new Map;Oe.attributeChangedCallback=function(he,ke,Je){$.jmp(()=>{const it=P.get(he);if(this.hasOwnProperty(it))Je=this[it],delete this[it];else if(Oe.hasOwnProperty(it)&&"number"==typeof this[it]&&this[it]==Je)return;this[it]=(null!==Je||"boolean"!=typeof this[it])&&Je})},A.observedAttributes=Se.filter(([he,ke])=>15&ke[0]).map(([he,ke])=>{const Je=ke[1]||he;return P.set(Je,he),512&ke[0]&&N.$attrsToReflect$.push([he,Je]),Je})}}return A},Jr=function(){var A=(0,I.Z)(function*(N,ge,Se,Oe,P){if(!(32&ge.$flags$)){{if(ge.$flags$|=32,(P=ao(Se)).then){const it=()=>{};P=yield P,it()}P.isProxied||(Se.$watchers$=P.watchers,wi(P,Se,2),P.isProxied=!0);const Je=()=>{};ge.$flags$|=8;try{new P(ge)}catch(it){eo(it)}ge.$flags$&=-9,ge.$flags$|=128,Je(),$o(ge.$lazyInstance$)}if(P.style){let Je=P.style;"string"!=typeof Je&&(Je=Je[ge.$modeName$=(A=>gs.map(N=>N(A)).find(N=>!!N))(N)]);const it=ye(Se,ge.$modeName$);if(!Ci.has(it)){const xe=()=>{};dn(it,Je,!!(1&Se.$flags$)),xe()}}}const he=ge.$ancestorComponent$,ke=()=>en(ge,!0);he&&he["s-rc"]?he["s-rc"].push(ke):ke()});return function(ge,Se,Oe,P,he){return A.apply(this,arguments)}}(),$o=A=>{qn(A,"connectedCallback")},Bo=A=>{const N=A["s-cr"]=B.createComment("");N["s-cn"]=!0,A.insertBefore(N,A.firstChild)},li=(A,N={})=>{const Se=[],Oe=N.exclude||[],P=se.customElements,he=B.head,ke=he.querySelector("meta[charset]"),Je=B.createElement("style"),it=[],xe=B.querySelectorAll(`[${Xe}]`);let Ht,St=!0,fn=0;for(Object.assign($,N),$.$resourcesUrl$=new URL(N.resourcesUrl||"./",B.baseURI).href,$.$flags$|=2;fn<xe.length;fn++)dn(xe[fn].getAttribute(Xe),nt(xe[fn].innerHTML),!0);A.map(Do=>{Do[1].map(Kr=>{const Io={$flags$:Kr[0],$tagName$:Kr[1],$members$:Kr[2],$listeners$:Kr[3]};Io.$members$=Kr[2],Io.$listeners$=Kr[3],Io.$attrsToReflect$=[],Io.$watchers$={};const di=Io.$tagName$,br=class extends HTMLElement{constructor(ts){super(ts),Jo(ts=this,Io),1&Io.$flags$&&ts.attachShadow({mode:"open",delegatesFocus:!!(16&Io.$flags$)})}connectedCallback(){Ht&&(clearTimeout(Ht),Ht=null),St?it.push(this):$.jmp(()=>(A=>{if(!(1&$.$flags$)){const N=jr(A),ge=N.$cmpMeta$,Se=()=>{};if(1&N.$flags$)W(A,N,ge.$listeners$),$o(N.$lazyInstance$);else{let Oe;if(N.$flags$|=1,Oe=A.getAttribute(Ie),Oe){if(1&ge.$flags$){const P=We(A.shadowRoot,ge,A.getAttribute("s-mode"));A.classList.remove(P+"-h",P+"-s")}((A,N,ge,Se)=>{const P=A.shadowRoot,he=[],Je=P?[]:null,it=Se.$vnode$=nn(N,null);$.$orgLocNodes$||_o(B.body,$.$orgLocNodes$=new Map),A[Ie]=ge,A.removeAttribute(Ie),Xo(it,he,[],Je,A,A,ge),he.map(xe=>{const Ht=xe.$hostId$+"."+xe.$nodeId$,St=$.$orgLocNodes$.get(Ht),fn=xe.$elm$;St&&""===St["s-en"]&&St.parentNode.insertBefore(fn,St.nextSibling),P||(fn["s-hn"]=N,St&&(fn["s-ol"]=St,fn["s-ol"]["s-nr"]=fn)),$.$orgLocNodes$.delete(Ht)}),P&&Je.map(xe=>{xe&&P.appendChild(xe)})})(A,ge.$tagName$,Oe,N)}Oe||12&ge.$flags$&&Bo(A);{let P=A;for(;P=P.parentNode||P.host;)if(1===P.nodeType&&P.hasAttribute("s-id")&&P["s-p"]||P["s-p"]){hr(N,N.$ancestorComponent$=P);break}}ge.$members$&&Object.entries(ge.$members$).map(([P,[he]])=>{if(31&he&&A.hasOwnProperty(P)){const ke=A[P];delete A[P],A[P]=ke}}),ui(()=>Jr(A,N,ge))}Se()}})(this))}disconnectedCallback(){$.jmp(()=>(A=>{if(!(1&$.$flags$)){const N=jr(this),ge=N.$lazyInstance$;N.$rmListeners$&&(N.$rmListeners$.map(Se=>Se()),N.$rmListeners$=void 0),qn(ge,"disconnectedCallback")}})())}componentOnReady(){return jr(this).$onReadyPromise$}};Io.$lazyBundleId$=Do[0],!Oe.includes(di)&&!P.get(di)&&(Se.push(di),P.define(di,wi(br,Io,1)))})}),Je.innerHTML=Se+"{visibility:hidden}.hydrated{visibility:inherit}",Je.setAttribute("data-styles",""),he.insertBefore(Je,ke?ke.nextSibling:he.firstChild),St=!1,it.length?it.map(Do=>Do.connectedCallback()):$.jmp(()=>Ht=setTimeout(S,30))},Qo=A=>{const N=new URL(A,$.$resourcesUrl$);return N.origin!==se.location.origin?N.href:N.pathname},vo=new WeakMap,jr=A=>vo.get(A),Qi=(A,N)=>vo.set(N.$lazyInstance$=A,N),Jo=(A,N)=>{const ge={$flags$:0,$hostElement$:A,$cmpMeta$:N,$instanceValues$:new Map};return ge.$onInstancePromise$=new Promise(Se=>ge.$onInstanceResolve$=Se),ge.$onReadyPromise$=new Promise(Se=>ge.$onReadyResolve$=Se),A["s-p"]=[],A["s-rc"]=[],W(A,ge,N.$listeners$),vo.set(A,ge)},Eo=(A,N)=>N in A,eo=(A,N)=>(0,console.error)(A,N),Ji=new Map,ao=(A,N,ge)=>{const Se=A.$tagName$.replace(/-/g,"_"),Oe=A.$lazyBundleId$,P=Ji.get(Oe);return P?P[Se]:x(863)(`./${Oe}.entry.js`).then(he=>(Ji.set(Oe,he),he[Se]),eo)},Ci=new Map,gs=[],ci=[],es=[],As=(A,N)=>ge=>{A.push(ge),Y||(Y=!0,N&&4&$.$flags$?ui(ar):$.raf(ar))},xs=A=>{for(let N=0;N<A.length;N++)try{A[N](performance.now())}catch(ge){eo(ge)}A.length=0},ar=()=>{xs(ci),xs(es),(Y=ci.length>0)&&$.raf(ar)},ui=A=>Le().then(A),ys=As(ci,!1),Pi=As(es,!0),er={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},5823:(Be,ze,x)=>{"use strict";x.d(ze,{a:()=>se,b:()=>vt,c:()=>oe,g:()=>Y,i:()=>dn});var I=x(1559);class c{constructor(){this.m=new Map}reset(O){this.m=new Map(Object.entries(O))}get(O,ye){const nt=this.m.get(O);return void 0!==nt?nt:ye}getBoolean(O,ye=!1){const nt=this.m.get(O);return void 0===nt?ye:"string"==typeof nt?"true"===nt:!!nt}getNumber(O,ye){const nt=parseFloat(this.m.get(O));return isNaN(nt)?void 0!==ye?ye:NaN:nt}set(O,ye){this.m.set(O,ye)}}const oe=new c,V="ionic:",ue="ionic-persist-config",Y=We=>B(We),se=(We,O)=>("string"==typeof We&&(O=We,We=void 0),Y(We).includes(O)),B=(We=window)=>{if(typeof We>"u")return[];We.Ionic=We.Ionic||{};let O=We.Ionic.platforms;return null==O&&(O=We.Ionic.platforms=$(We),O.forEach(ye=>We.document.documentElement.classList.add(`plt-${ye}`))),O},$=We=>{const O=oe.get("platform");return Object.keys(Ue).filter(ye=>{const nt=O?.[ye];return"function"==typeof nt?nt(We):Ue[ye](We)})},Pe=We=>!!(Te(We,/iPad/i)||Te(We,/Macintosh/i)&&de(We)),W=We=>Te(We,/android|sink/i),de=We=>re(We,"(any-pointer:coarse)"),ce=We=>Ce(We)||Ie(We),Ce=We=>!!(We.cordova||We.phonegap||We.PhoneGap),Ie=We=>!!We.Capacitor?.isNative,Te=(We,O)=>O.test(We.navigator.userAgent),re=(We,O)=>{var ye;return null===(ye=We.matchMedia)||void 0===ye?void 0:ye.call(We,O).matches},Ue={ipad:Pe,iphone:We=>Te(We,/iPhone/i),ios:We=>Te(We,/iPhone|iPod/i)||Pe(We),android:W,phablet:We=>{const O=We.innerWidth,ye=We.innerHeight,nt=Math.min(O,ye),rt=Math.max(O,ye);return nt>390&&nt<520&&rt>620&&rt<800},tablet:We=>{const O=We.innerWidth,ye=We.innerHeight,nt=Math.min(O,ye),rt=Math.max(O,ye);return Pe(We)||(We=>W(We)&&!Te(We,/mobile/i))(We)||nt>460&&nt<820&&rt>780&&rt<1400},cordova:Ce,capacitor:Ie,electron:We=>Te(We,/electron/i),pwa:We=>{var O;return!!(null!==(O=We.matchMedia)&&void 0!==O&&O.call(We,"(display-mode: standalone)").matches||We.navigator.standalone)},mobile:de,mobileweb:We=>de(We)&&!ce(We),desktop:We=>!de(We),hybrid:ce};let Qe;const vt=We=>We&&(0,I.g)(We)||Qe,dn=(We={})=>{if(typeof window>"u")return;const O=window.document,ye=window,nt=ye.Ionic=ye.Ionic||{},rt={};We._ael&&(rt.ael=We._ael),We._rel&&(rt.rel=We._rel),We._ce&&(rt.ce=We._ce),(0,I.s)(rt);const Ve=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(We=>{try{const O=We.sessionStorage.getItem(ue);return null!==O?JSON.parse(O):{}}catch{return{}}})(ye)),{persistConfig:!1}),nt.config),(We=>{const O={};return We.location.search.slice(1).split("&").map(ye=>ye.split("=")).map(([ye,nt])=>[decodeURIComponent(ye),decodeURIComponent(nt)]).filter(([ye])=>((We,O)=>We.substr(0,O.length)===O)(ye,V)).map(([ye,nt])=>[ye.slice(V.length),nt]).forEach(([ye,nt])=>{O[ye]=nt}),O})(ye)),We);oe.reset(Ve),oe.getBoolean("persistConfig")&&((We,O)=>{try{We.sessionStorage.setItem(ue,JSON.stringify(O))}catch{return}})(ye,Ve),B(ye),nt.config=oe,nt.mode=Qe=oe.get("mode",O.documentElement.getAttribute("mode")||(se(ye,"ios")?"ios":"md")),oe.set("mode",Qe),O.documentElement.setAttribute("mode",Qe),O.documentElement.classList.add(Qe),oe.getBoolean("_testing")&&oe.set("animated",!1);const q=ht=>{var Re;return null===(Re=ht.tagName)||void 0===Re?void 0:Re.startsWith("ION-")},ve=ht=>["ios","md"].includes(ht);(0,I.a)(ht=>{for(;ht;){const Re=ht.mode||ht.getAttribute("mode");if(Re){if(ve(Re))return Re;q(ht)&&console.warn('Invalid ionic mode: "'+Re+'", expected: "ios" or "md"')}ht=ht.parentElement}return Qe})}},9078:(Be,ze,x)=>{"use strict";x.r(ze),x.d(ze,{iosTransitionAnimation:()=>$,shadow:()=>L});var I=x(5933),c=x(919);x(2286),x(1559);const J=j=>document.querySelector(`${j}.ion-cloned-element`),L=j=>j.shadowRoot||j,V=j=>{const Pe="ION-TABS"===j.tagName?j:j.querySelector("ion-tabs"),Le="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Pe){const me=Pe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=me?me.querySelector(Le):null}return j.querySelector(Le)},ue=(j,Pe)=>{const Le="ION-TABS"===j.tagName?j:j.querySelector("ion-tabs");let me=[];if(null!=Le){const W=Le.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=W&&(me=W.querySelectorAll("ion-buttons"))}else me=j.querySelectorAll("ion-buttons");for(const W of me){const K=W.closest("ion-header"),pe=K&&!K.classList.contains("header-collapse-condense-inactive"),Fe=W.querySelector("ion-back-button"),de=W.classList.contains("buttons-collapse");if(null!==Fe&&("start"===W.slot||""===W.slot)&&(de&&pe&&Pe||!de))return Fe}return null},se=(j,Pe,Le,me,W,K)=>{const pe=Pe?`calc(100% - ${K.right+4}px)`:K.left-4+"px",Fe=Pe?"7px":"-7px",de=Pe?"-4px":"4px",at=Pe?"-4px":"4px",ce=Pe?"right":"left",Ce=Pe?"left":"right",$e=Le?[{offset:0,opacity:1,transform:`translate3d(${de}, ${K.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Fe}, ${W.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${Fe}, ${W.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${de}, ${K.top-46}px, 0) scale(1)`}],Ue=Le?[{offset:0,opacity:1,transform:`translate3d(${at}, ${K.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${at}, ${K.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${at}, ${K.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${at}, ${K.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${at}, ${K.top-46}px, 0) scale(1)`}],Qe=(0,I.c)(),vt=(0,I.c)(),dn=J("ion-back-button"),We=L(dn).querySelector(".button-text"),O=L(dn).querySelector("ion-icon");dn.text=me.text,dn.mode=me.mode,dn.icon=me.icon,dn.color=me.color,dn.disabled=me.disabled,dn.style.setProperty("display","block"),dn.style.setProperty("position","fixed"),vt.addElement(O),Qe.addElement(We),Qe.beforeStyles({"transform-origin":`${ce} center`}).beforeAddWrite(()=>{me.style.setProperty("display","none"),dn.style.setProperty(ce,pe)}).afterAddWrite(()=>{me.style.setProperty("display",""),dn.style.setProperty("display","none"),dn.style.removeProperty(ce)}).keyframes($e),vt.beforeStyles({"transform-origin":`${Ce} center`}).keyframes(Ue),j.addAnimation([Qe,vt])},B=(j,Pe,Le,me,W,K)=>{const pe=Pe?`calc(100% - ${W.right}px)`:`${W.left}px`,Fe=Pe?"-18px":"18px",de=Pe?"right":"left",Ce=Le?[{offset:0,opacity:0,transform:`translate3d(${Fe}, ${K.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${W.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${W.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Fe}, ${K.top-4}px, 0) scale(0.5)`}],Ie=J("ion-title"),Xe=(0,I.c)();Ie.innerText=me.innerText,Ie.size=me.size,Ie.color=me.color,Xe.addElement(Ie),Xe.beforeStyles({"transform-origin":`${de} center`,height:"46px",display:"",position:"relative",[de]:pe}).beforeAddWrite(()=>{me.style.setProperty("display","none")}).afterAddWrite(()=>{me.style.setProperty("display",""),Ie.style.setProperty("display","none")}).keyframes(Ce),j.addAnimation(Xe)},$=(j,Pe)=>{var Le;try{const me="cubic-bezier(0.32,0.72,0,1)",W="opacity",K="transform",pe="0%",de="rtl"===j.ownerDocument.dir,at=de?"-99.5%":"99.5%",ce=de?"33%":"-33%",Ce=Pe.enteringEl,Ie=Pe.leavingEl,Xe="back"===Pe.direction,$e=Ce.querySelector(":scope > ion-content"),Te=Ce.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),re=Ce.querySelectorAll(":scope > ion-header > ion-toolbar"),Ue=(0,I.c)(),Qe=(0,I.c)();if(Ue.addElement(Ce).duration((null!==(Le=Pe.duration)&&void 0!==Le?Le:0)||540).easing(Pe.easing||me).fill("both").beforeRemoveClass("ion-page-invisible"),Ie&&null!=j){const O=(0,I.c)();O.addElement(j),Ue.addAnimation(O)}if($e||0!==re.length||0!==Te.length?(Qe.addElement($e),Qe.addElement(Te)):Qe.addElement(Ce.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Ue.addAnimation(Qe),Xe?Qe.beforeClearStyles([W]).fromTo("transform",`translateX(${ce})`,`translateX(${pe})`).fromTo(W,.8,1):Qe.beforeClearStyles([W]).fromTo("transform",`translateX(${at})`,`translateX(${pe})`),$e){const O=L($e).querySelector(".transition-effect");if(O){const ye=O.querySelector(".transition-cover"),nt=O.querySelector(".transition-shadow"),rt=(0,I.c)(),Ve=(0,I.c)(),q=(0,I.c)();rt.addElement(O).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ve.addElement(ye).beforeClearStyles([W]).fromTo(W,0,.1),q.addElement(nt).beforeClearStyles([W]).fromTo(W,.03,.7),rt.addAnimation([Ve,q]),Qe.addAnimation([rt])}}const vt=Ce.querySelector("ion-header.header-collapse-condense"),{forward:dn,backward:We}=((j,Pe,Le,me,W)=>{const K=ue(me,Le),pe=V(W),Fe=V(me),de=ue(W,Le),at=null!==K&&null!==pe&&!Le,ce=null!==Fe&&null!==de&&Le;if(at){const Ce=pe.getBoundingClientRect(),Ie=K.getBoundingClientRect();B(j,Pe,Le,pe,Ce,Ie),se(j,Pe,Le,K,Ce,Ie)}else if(ce){const Ce=Fe.getBoundingClientRect(),Ie=de.getBoundingClientRect();B(j,Pe,Le,Fe,Ce,Ie),se(j,Pe,Le,de,Ce,Ie)}return{forward:at,backward:ce}})(Ue,de,Xe,Ce,Ie);if(re.forEach(O=>{const ye=(0,I.c)();ye.addElement(O),Ue.addAnimation(ye);const nt=(0,I.c)();nt.addElement(O.querySelector("ion-title"));const rt=(0,I.c)(),Ve=Array.from(O.querySelectorAll("ion-buttons,[menuToggle]")),q=O.closest("ion-header"),ve=q?.classList.contains("header-collapse-condense-inactive");let ht;ht=Ve.filter(Xe?nn=>{const z=nn.classList.contains("buttons-collapse");return z&&!ve||!z}:nn=>!nn.classList.contains("buttons-collapse")),rt.addElement(ht);const Re=(0,I.c)();Re.addElement(O.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Mt=(0,I.c)();Mt.addElement(L(O).querySelector(".toolbar-background"));const cn=(0,I.c)(),Jt=O.querySelector("ion-back-button");if(Jt&&cn.addElement(Jt),ye.addAnimation([nt,rt,Re,Mt,cn]),rt.fromTo(W,.01,1),Re.fromTo(W,.01,1),Xe)ve||nt.fromTo("transform",`translateX(${ce})`,`translateX(${pe})`).fromTo(W,.01,1),Re.fromTo("transform",`translateX(${ce})`,`translateX(${pe})`),cn.fromTo(W,.01,1);else if(vt||nt.fromTo("transform",`translateX(${at})`,`translateX(${pe})`).fromTo(W,.01,1),Re.fromTo("transform",`translateX(${at})`,`translateX(${pe})`),Mt.beforeClearStyles([W,"transform"]),q?.translucent?Mt.fromTo("transform",de?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Mt.fromTo(W,.01,"var(--opacity)"),dn||cn.fromTo(W,.01,1),Jt&&!dn){const z=(0,I.c)();z.addElement(L(Jt).querySelector(".button-text")).fromTo("transform",de?"translateX(-100px)":"translateX(100px)","translateX(0px)"),ye.addAnimation(z)}}),Ie){const O=(0,I.c)(),ye=Ie.querySelector(":scope > ion-content"),nt=Ie.querySelectorAll(":scope > ion-header > ion-toolbar"),rt=Ie.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(ye||0!==nt.length||0!==rt.length?(O.addElement(ye),O.addElement(rt)):O.addElement(Ie.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Ue.addAnimation(O),Xe){O.beforeClearStyles([W]).fromTo("transform",`translateX(${pe})`,de?"translateX(-100%)":"translateX(100%)");const Ve=(0,c.g)(Ie);Ue.afterAddWrite(()=>{"normal"===Ue.getDirection()&&Ve.style.setProperty("display","none")})}else O.fromTo("transform",`translateX(${pe})`,`translateX(${ce})`).fromTo(W,1,.8);if(ye){const Ve=L(ye).querySelector(".transition-effect");if(Ve){const q=Ve.querySelector(".transition-cover"),ve=Ve.querySelector(".transition-shadow"),ht=(0,I.c)(),Re=(0,I.c)(),Mt=(0,I.c)();ht.addElement(Ve).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Re.addElement(q).beforeClearStyles([W]).fromTo(W,.1,0),Mt.addElement(ve).beforeClearStyles([W]).fromTo(W,.7,.03),ht.addAnimation([Re,Mt]),O.addAnimation([ht])}}nt.forEach(Ve=>{const q=(0,I.c)();q.addElement(Ve);const ve=(0,I.c)();ve.addElement(Ve.querySelector("ion-title"));const ht=(0,I.c)(),Re=Ve.querySelectorAll("ion-buttons,[menuToggle]"),Mt=Ve.closest("ion-header"),cn=Mt?.classList.contains("header-collapse-condense-inactive"),Jt=Array.from(Re).filter(Oo=>{const Wr=Oo.classList.contains("buttons-collapse");return Wr&&!cn||!Wr});ht.addElement(Jt);const nn=(0,I.c)(),z=Ve.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");z.length>0&&nn.addElement(z);const vn=(0,I.c)();vn.addElement(L(Ve).querySelector(".toolbar-background"));const dr=(0,I.c)(),Xn=Ve.querySelector("ion-back-button");if(Xn&&dr.addElement(Xn),q.addAnimation([ve,ht,nn,dr,vn]),Ue.addAnimation(q),dr.fromTo(W,.99,0),ht.fromTo(W,.99,0),nn.fromTo(W,.99,0),Xe){if(cn||ve.fromTo("transform",`translateX(${pe})`,de?"translateX(-100%)":"translateX(100%)").fromTo(W,.99,0),nn.fromTo("transform",`translateX(${pe})`,de?"translateX(-100%)":"translateX(100%)"),vn.beforeClearStyles([W,"transform"]),Mt?.translucent?vn.fromTo("transform","translateX(0px)",de?"translateX(-100%)":"translateX(100%)"):vn.fromTo(W,"var(--opacity)",0),Xn&&!We){const Wr=(0,I.c)();Wr.addElement(L(Xn).querySelector(".button-text")).fromTo("transform",`translateX(${pe})`,`translateX(${(de?-124:124)+"px"})`),q.addAnimation(Wr)}}else cn||ve.fromTo("transform",`translateX(${pe})`,`translateX(${ce})`).fromTo(W,.99,0).afterClearStyles([K,W]),nn.fromTo("transform",`translateX(${pe})`,`translateX(${ce})`).afterClearStyles([K,W]),dr.afterClearStyles([W]),ve.afterClearStyles([W]),ht.afterClearStyles([W])})}return Ue}catch(me){throw me}}},4199:(Be,ze,x)=>{"use strict";x.r(ze),x.d(ze,{mdTransitionAnimation:()=>G});var I=x(5933),c=x(919);x(2286),x(1559);const G=(J,L)=>{var V,ue,Y;const $="back"===L.direction,Pe=L.leavingEl,Le=(0,c.g)(L.enteringEl),me=Le.querySelector("ion-toolbar"),W=(0,I.c)();if(W.addElement(Le).fill("both").beforeRemoveClass("ion-page-invisible"),$?W.duration((null!==(V=L.duration)&&void 0!==V?V:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):W.duration((null!==(ue=L.duration)&&void 0!==ue?ue:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),me){const K=(0,I.c)();K.addElement(me),W.addAnimation(K)}if(Pe&&$){W.duration((null!==(Y=L.duration)&&void 0!==Y?Y:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const K=(0,I.c)();K.addElement((0,c.g)(Pe)).onFinish(pe=>{1===pe&&K.elements.length>0&&K.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),W.addAnimation(K)}return W}},7580:(Be,ze,x)=>{"use strict";x.d(ze,{B:()=>ye,G:()=>nt,a:()=>V,b:()=>ue,c:()=>$,d:()=>Xe,e:()=>Pe,f:()=>Te,g:()=>Qe,h:()=>J,i:()=>dn,j:()=>W,k:()=>Ce,l:()=>Y,m:()=>se,s:()=>O});var I=x(3918),c=x(5823),oe=x(159),te=x(9259);let G=0;const J=new WeakMap,L=rt=>({create:Ve=>Le(rt,Ve),dismiss:(Ve,q,ve)=>at(document,Ve,q,rt,ve),getTop:()=>(0,I.Z)(function*(){return Ce(document,rt)})()}),V=L("ion-alert"),ue=L("ion-action-sheet"),Y=L("ion-loading"),se=L("ion-modal"),$=L("ion-popover"),Pe=rt=>{typeof document<"u"&&de(document);const Ve=G++;rt.overlayIndex=Ve,rt.hasAttribute("id")||(rt.id=`ion-overlay-${Ve}`)},Le=(rt,Ve)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(rt).then(()=>{const q=document.createElement(rt);return q.classList.add("overlay-hidden"),Object.assign(q,Object.assign(Object.assign({},Ve),{hasController:!0})),re(document).appendChild(q),new Promise(ve=>(0,te.c)(q,ve))}):Promise.resolve(),me='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',W=(rt,Ve)=>{let q=rt.querySelector(me);const ve=q?.shadowRoot;ve&&(q=ve.querySelector(me)||q),q?(0,te.f)(q):Ve.focus()},pe=(rt,Ve)=>{const q=Array.from(rt.querySelectorAll(me));let ve=q.length>0?q[q.length-1]:null;const ht=ve?.shadowRoot;ht&&(ve=ht.querySelector(me)||ve),ve?ve.focus():Ve.focus()},de=rt=>{0===G&&(G=1,rt.addEventListener("focus",Ve=>{((rt,Ve)=>{const q=Ce(Ve,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),ve=rt.target;q&&ve&&!q.classList.contains("ion-disable-focus-trap")&&(q.shadowRoot?(()=>{if(q.contains(ve))q.lastFocus=ve;else{const Mt=q.lastFocus;W(q,q),Mt===Ve.activeElement&&pe(q,q),q.lastFocus=Ve.activeElement}})():(()=>{if(q===ve)q.lastFocus=void 0;else{const Mt=(0,te.g)(q);if(!Mt.contains(ve))return;const cn=Mt.querySelector(".ion-overlay-wrapper");if(!cn)return;if(cn.contains(ve))q.lastFocus=ve;else{const Jt=q.lastFocus;W(cn,q),Jt===Ve.activeElement&&pe(cn,q),q.lastFocus=Ve.activeElement}}})())})(Ve,rt)},!0),rt.addEventListener("ionBackButton",Ve=>{const q=Ce(rt);q?.backdropDismiss&&Ve.detail.register(oe.OVERLAY_BACK_BUTTON_PRIORITY,()=>q.dismiss(void 0,ye))}),rt.addEventListener("keyup",Ve=>{if("Escape"===Ve.key){const q=Ce(rt);q?.backdropDismiss&&q.dismiss(void 0,ye)}}))},at=(rt,Ve,q,ve,ht)=>{const Re=Ce(rt,ve,ht);return Re?Re.dismiss(Ve,q):Promise.reject("overlay does not exist")},Ce=(rt,Ve,q)=>{const ve=((rt,Ve)=>(void 0===Ve&&(Ve="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(rt.querySelectorAll(Ve)).filter(q=>q.overlayIndex>0)))(rt,Ve).filter(ht=>!(rt=>rt.classList.contains("overlay-hidden"))(ht));return void 0===q?ve[ve.length-1]:ve.find(ht=>ht.id===q)},Ie=(rt=!1)=>{const q=re(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");q&&(rt?q.setAttribute("aria-hidden","true"):q.removeAttribute("aria-hidden"))},Xe=function(){var rt=(0,I.Z)(function*(Ve,q,ve,ht,Re){var Mt,cn;if(Ve.presented)return;Ie(!0),Ve.presented=!0,Ve.willPresent.emit(),null===(Mt=Ve.willPresentShorthand)||void 0===Mt||Mt.emit();const Jt=(0,c.b)(Ve),nn=Ve.enterAnimation?Ve.enterAnimation:c.c.get(q,"ios"===Jt?ve:ht);(yield Ue(Ve,nn,Ve.el,Re))&&(Ve.didPresent.emit(),null===(cn=Ve.didPresentShorthand)||void 0===cn||cn.emit()),"ION-TOAST"!==Ve.el.tagName&&$e(Ve.el),Ve.keyboardClose&&(null===document.activeElement||!Ve.el.contains(document.activeElement))&&Ve.el.focus()});return function(q,ve,ht,Re,Mt){return rt.apply(this,arguments)}}(),$e=function(){var rt=(0,I.Z)(function*(Ve){let q=document.activeElement;if(!q)return;const ve=q?.shadowRoot;ve&&(q=ve.querySelector(me)||q),yield Ve.onDidDismiss(),q.focus()});return function(q){return rt.apply(this,arguments)}}(),Te=function(){var rt=(0,I.Z)(function*(Ve,q,ve,ht,Re,Mt,cn){var Jt,nn;if(!Ve.presented)return!1;Ie(!1),Ve.presented=!1;try{Ve.el.style.setProperty("pointer-events","none"),Ve.willDismiss.emit({data:q,role:ve}),null===(Jt=Ve.willDismissShorthand)||void 0===Jt||Jt.emit({data:q,role:ve});const z=(0,c.b)(Ve),vn=Ve.leaveAnimation?Ve.leaveAnimation:c.c.get(ht,"ios"===z?Re:Mt);ve!==nt&&(yield Ue(Ve,vn,Ve.el,cn)),Ve.didDismiss.emit({data:q,role:ve}),null===(nn=Ve.didDismissShorthand)||void 0===nn||nn.emit({data:q,role:ve}),J.delete(Ve),Ve.el.classList.add("overlay-hidden"),Ve.el.style.removeProperty("pointer-events")}catch(z){console.error(z)}return Ve.el.remove(),!0});return function(q,ve,ht,Re,Mt,cn,Jt){return rt.apply(this,arguments)}}(),re=rt=>rt.querySelector("ion-app")||rt.body,Ue=function(){var rt=(0,I.Z)(function*(Ve,q,ve,ht){ve.classList.remove("overlay-hidden");const Mt=q(Ve.el,ht);(!Ve.animated||!c.c.getBoolean("animated",!0))&&Mt.duration(0),Ve.keyboardClose&&Mt.beforeAddWrite(()=>{const Jt=ve.ownerDocument.activeElement;Jt?.matches("input,ion-input, ion-textarea")&&Jt.blur()});const cn=J.get(Ve)||[];return J.set(Ve,[...cn,Mt]),yield Mt.play(),!0});return function(q,ve,ht,Re){return rt.apply(this,arguments)}}(),Qe=(rt,Ve)=>{let q;const ve=new Promise(ht=>q=ht);return vt(rt,Ve,ht=>{q(ht.detail)}),ve},vt=(rt,Ve,q)=>{const ve=ht=>{(0,te.b)(rt,Ve,ve),q(ht)};(0,te.a)(rt,Ve,ve)},dn=rt=>"cancel"===rt||rt===ye,We=rt=>rt(),O=(rt,Ve)=>{if("function"==typeof rt)return c.c.get("_zoneGate",We)(()=>{try{return rt(Ve)}catch(ve){throw ve}})},ye="backdrop",nt="gesture"},4263:(Be,ze,x)=>{"use strict";var I=x(9903),c=x(3855),oe=c(I("String.prototype.indexOf"));Be.exports=function(G,J){var L=I(G,!!J);return"function"==typeof L&&oe(G,".prototype.")>-1?c(L):L}},3855:(Be,ze,x)=>{"use strict";var I=x(224),c=x(9903),oe=c("%Function.prototype.apply%"),te=c("%Function.prototype.call%"),G=c("%Reflect.apply%",!0)||I.call(te,oe),J=c("%Object.getOwnPropertyDescriptor%",!0),L=c("%Object.defineProperty%",!0),V=c("%Math.max%");if(L)try{L({},"a",{value:1})}catch{L=null}Be.exports=function(se){var B=G(I,te,arguments);if(J&&L){var $=J(B,"length");$.configurable&&L(B,"length",{value:1+V(0,se.length-(arguments.length-1))})}return B};var ue=function(){return G(I,oe,arguments)};L?L(Be.exports,"apply",{value:ue}):Be.exports.apply=ue},5107:Be=>{var ze={utf8:{stringToBytes:function(x){return ze.bin.stringToBytes(unescape(encodeURIComponent(x)))},bytesToString:function(x){return decodeURIComponent(escape(ze.bin.bytesToString(x)))}},bin:{stringToBytes:function(x){for(var I=[],c=0;c<x.length;c++)I.push(255&x.charCodeAt(c));return I},bytesToString:function(x){for(var I=[],c=0;c<x.length;c++)I.push(String.fromCharCode(x[c]));return I.join("")}}};Be.exports=ze},7175:Be=>{var ze,x;ze="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Be.exports=x={rotl:function(I,c){return I<<c|I>>>32-c},rotr:function(I,c){return I<<32-c|I>>>c},endian:function(I){if(I.constructor==Number)return 16711935&x.rotl(I,8)|4278255360&x.rotl(I,24);for(var c=0;c<I.length;c++)I[c]=x.endian(I[c]);return I},randomBytes:function(I){for(var c=[];I>0;I--)c.push(Math.floor(256*Math.random()));return c},bytesToWords:function(I){for(var c=[],oe=0,te=0;oe<I.length;oe++,te+=8)c[te>>>5]|=I[oe]<<24-te%32;return c},wordsToBytes:function(I){for(var c=[],oe=0;oe<32*I.length;oe+=8)c.push(I[oe>>>5]>>>24-oe%32&255);return c},bytesToHex:function(I){for(var c=[],oe=0;oe<I.length;oe++)c.push((I[oe]>>>4).toString(16)),c.push((15&I[oe]).toString(16));return c.join("")},hexToBytes:function(I){for(var c=[],oe=0;oe<I.length;oe+=2)c.push(parseInt(I.substr(oe,2),16));return c},bytesToBase64:function(I){for(var c=[],oe=0;oe<I.length;oe+=3)for(var te=I[oe]<<16|I[oe+1]<<8|I[oe+2],G=0;G<4;G++)c.push(8*oe+6*G<=8*I.length?ze.charAt(te>>>6*(3-G)&63):"=");return c.join("")},base64ToBytes:function(I){I=I.replace(/[^A-Z0-9+\/]/gi,"");for(var c=[],oe=0,te=0;oe<I.length;te=++oe%4)0!=te&&c.push((ze.indexOf(I.charAt(oe-1))&Math.pow(2,-2*te+8)-1)<<2*te|ze.indexOf(I.charAt(oe))>>>6-2*te);return c}}},5541:(Be,ze,x)=>{"use strict";var I=x(6189),c=x(4263),oe=x(8704),te=x(9903),G=x(2069),J=x(8432),L=x(5734),V=x(9102),ue=x(8266),Y=x(2805),se=x(4666),B=x(6687),$=x(3163),j=x(2093),Pe=x(2086),Le=x(2107),me=x(5709),W=c("ArrayBuffer.prototype.byteLength",!0)||function(ve){return ve.byteLength},K=c("SharedArrayBuffer.prototype.byteLength",!0),pe=c("Date.prototype.getTime"),Fe=Object.getPrototypeOf,de=c("Object.prototype.toString"),at=te("%Set%",!0),ce=c("Map.prototype.has",!0),Ce=c("Map.prototype.get",!0),Ie=c("Map.prototype.size",!0),Xe=c("Set.prototype.add",!0),$e=c("Set.prototype.delete",!0),Te=c("Set.prototype.has",!0),re=c("Set.prototype.size",!0);function Ue(q,ve,ht,Re){for(var cn,Mt=G(q);(cn=Mt.next())&&!cn.done;)if(O(ve,cn.value,ht,Re))return $e(q,cn.value),!0;return!1}function Qe(q){return typeof q>"u"?null:"object"!=typeof q?"symbol"!=typeof q&&("string"!=typeof q&&"number"!=typeof q||+q==+q):void 0}function vt(q,ve,ht,Re,Mt,cn){var Jt=Qe(ht);if(null!=Jt)return Jt;var nn=Ce(ve,Jt),z=I({},Mt,{strict:!1});return!(typeof nn>"u"&&!ce(ve,Jt)||!O(Re,nn,z,cn))&&!ce(q,Jt)&&O(Re,nn,z,cn)}function dn(q,ve,ht){var Re=Qe(ht);return Re??(Te(ve,Re)&&!Te(q,Re))}function We(q,ve,ht,Re,Mt,cn){for(var nn,z,Jt=G(q);(nn=Jt.next())&&!nn.done;)if(O(ht,z=nn.value,Mt,cn)&&O(Re,Ce(ve,z),Mt,cn))return $e(q,z),!0;return!1}function O(q,ve,ht,Re){var Mt=ht||{};if(Mt.strict?L(q,ve):q===ve)return!0;if(Pe(q)!==Pe(ve))return!1;if(!q||!ve||"object"!=typeof q&&"object"!=typeof ve)return Mt.strict?L(q,ve):q==ve;var vn,nn=Re.has(q),z=Re.has(ve);if(nn&&z){if(Re.get(q)===Re.get(ve))return!0}else vn={};return nn||Re.set(q,vn),z||Re.set(ve,vn),function Ve(q,ve,ht,Re){var Mt,cn;if(typeof q!=typeof ve||null==q||null==ve||de(q)!==de(ve)||V(q)!==V(ve))return!1;if(ue(q)!==ue(ve))return!1;var z=q instanceof Error,vn=ve instanceof Error;if(z!==vn||(z||vn)&&(q.name!==ve.name||q.message!==ve.message))return!1;var dr=B(q),Xn=B(ve);if(dr!==Xn||(dr||Xn)&&(q.source!==ve.source||oe(q)!==oe(ve)))return!1;var Oo=se(q),Wr=se(ve);if(Oo!==Wr||(Oo||Wr)&&pe(q)!==pe(ve)||ht.strict&&Fe&&Fe(q)!==Fe(ve))return!1;var _i=me(q),Rn=me(ve);if((_i||Rn)&&_i!==Rn)return!1;var so=ye(q),jn=ye(ve);if(so!==jn)return!1;if(so||jn){if(q.length!==ve.length)return!1;for(Mt=0;Mt<q.length;Mt++)if(q[Mt]!==ve[Mt])return!1;return!0}var vi=Y(q),Ur=Y(ve);if(vi!==Ur)return!1;if(vi||Ur)return W(q)===W(ve)&&"function"==typeof Uint8Array&&O(new Uint8Array(q),new Uint8Array(ve),ht,Re);var kr=$(q),or=$(ve);if(kr!==or)return!1;if(kr||or)return K(q)===K(ve)&&"function"==typeof Uint8Array&&O(new Uint8Array(q),new Uint8Array(ve),ht,Re);if(typeof q!=typeof ve)return!1;var Or=j(q),Qr=j(ve);if(Or.length!==Qr.length)return!1;for(Or.sort(),Qr.sort(),Mt=Or.length-1;Mt>=0;Mt--)if(Or[Mt]!=Qr[Mt])return!1;for(Mt=Or.length-1;Mt>=0;Mt--)if(!O(q[cn=Or[Mt]],ve[cn],ht,Re))return!1;var mn=Le(q),Zr=Le(ve);return mn===Zr&&("Set"===mn||"Set"===Zr?function nt(q,ve,ht,Re){if(re(q)!==re(ve))return!1;for(var Jt,nn,z,Mt=G(q),cn=G(ve);(Jt=Mt.next())&&!Jt.done;)if(Jt.value&&"object"==typeof Jt.value)z||(z=new at),Xe(z,Jt.value);else if(!Te(ve,Jt.value)){if(ht.strict||!dn(q,ve,Jt.value))return!1;z||(z=new at),Xe(z,Jt.value)}if(z){for(;(nn=cn.next())&&!nn.done;)if(nn.value&&"object"==typeof nn.value){if(!Ue(z,nn.value,ht.strict,Re))return!1}else if(!ht.strict&&!Te(q,nn.value)&&!Ue(z,nn.value,ht.strict,Re))return!1;return 0===re(z)}return!0}(q,ve,ht,Re):"Map"!==mn||function rt(q,ve,ht,Re){if(Ie(q)!==Ie(ve))return!1;for(var Jt,nn,z,vn,dr,Xn,Mt=G(q),cn=G(ve);(Jt=Mt.next())&&!Jt.done;)if(dr=Jt.value[1],(vn=Jt.value[0])&&"object"==typeof vn)z||(z=new at),Xe(z,vn);else if(typeof(Xn=Ce(ve,vn))>"u"&&!ce(ve,vn)||!O(dr,Xn,ht,Re)){if(ht.strict||!vt(q,ve,vn,dr,ht,Re))return!1;z||(z=new at),Xe(z,vn)}if(z){for(;(nn=cn.next())&&!nn.done;)if(Xn=nn.value[1],(vn=nn.value[0])&&"object"==typeof vn){if(!We(z,q,vn,Xn,ht,Re))return!1}else if(!(ht.strict||q.has(vn)&&O(Ce(q,vn),Xn,ht,Re)||We(z,q,vn,Xn,I({},ht,{strict:!1}),Re)))return!1;return 0===re(z)}return!0}(q,ve,ht,Re))}(q,ve,Mt,Re)}function ye(q){return!(!q||"object"!=typeof q||"number"!=typeof q.length||"function"!=typeof q.copy||"function"!=typeof q.slice||q.length>0&&"number"!=typeof q[0]||!(q.constructor&&q.constructor.isBuffer&&q.constructor.isBuffer(q)))}Be.exports=function(ve,ht,Re){return O(ve,ht,Re,J())}},1790:(Be,ze,x)=>{"use strict";var I=x(2093),c="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),oe=Object.prototype.toString,te=Array.prototype.concat,G=Object.defineProperty,L=x(9006)(),V=G&&L,ue=function(se,B,$,j){B in se&&(!function(se){return"function"==typeof se&&"[object Function]"===oe.call(se)}(j)||!j())||(V?G(se,B,{configurable:!0,enumerable:!1,value:$,writable:!0}):se[B]=$)},Y=function(se,B){var $=arguments.length>2?arguments[2]:{},j=I(B);c&&(j=te.call(j,Object.getOwnPropertySymbols(B)));for(var Pe=0;Pe<j.length;Pe+=1)ue(se,j[Pe],B[j[Pe]],$[j[Pe]])};Y.supportsDescriptors=!!V,Be.exports=Y},9897:function(Be,ze){!function(x){"use strict";var B,oe=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,te=536870912,G=2*te,L=new WeakMap,ue=function(B,$){return function(j){var Pe=$.get(j),Le=void 0===Pe?j.size:Pe<G?Pe+1:0;if(!j.has(Le))return B(j,Le);if(j.size<te){for(;j.has(Le);)Le=Math.floor(Math.random()*G);return B(j,Le)}if(j.size>oe)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;j.has(Le);)Le=Math.floor(Math.random()*oe);return B(j,Le)}}((B=L,function($,j){return B.set($,j),j}),L),Y=function(B){return function($){var j=B($);return $.add(j),j}}(ue);x.addUniqueNumber=Y,x.generateUniqueNumber=ue}(ze)},3037:(Be,ze,x)=>{"use strict";var I=x(8642),c=Object.prototype.toString,oe=Object.prototype.hasOwnProperty,te=function(ue,Y,se){for(var B=0,$=ue.length;B<$;B++)oe.call(ue,B)&&(null==se?Y(ue[B],B,ue):Y.call(se,ue[B],B,ue))},G=function(ue,Y,se){for(var B=0,$=ue.length;B<$;B++)null==se?Y(ue.charAt(B),B,ue):Y.call(se,ue.charAt(B),B,ue)},J=function(ue,Y,se){for(var B in ue)oe.call(ue,B)&&(null==se?Y(ue[B],B,ue):Y.call(se,ue[B],B,ue))};Be.exports=function(ue,Y,se){if(!I(Y))throw new TypeError("iterator must be a function");var B;arguments.length>=3&&(B=se),"[object Array]"===c.call(ue)?te(ue,Y,B):"string"==typeof ue?G(ue,Y,B):J(ue,Y,B)}},2199:Be=>{"use strict";var ze="Function.prototype.bind called on incompatible ",x=Array.prototype.slice,I=Object.prototype.toString,c="[object Function]";Be.exports=function(te){var G=this;if("function"!=typeof G||I.call(G)!==c)throw new TypeError(ze+G);for(var L,J=x.call(arguments,1),V=function(){if(this instanceof L){var $=G.apply(this,J.concat(x.call(arguments)));return Object($)===$?$:this}return G.apply(te,J.concat(x.call(arguments)))},ue=Math.max(0,G.length-J.length),Y=[],se=0;se<ue;se++)Y.push("$"+se);if(L=Function("binder","return function ("+Y.join(",")+"){ return binder.apply(this,arguments); }")(V),G.prototype){var B=function(){};B.prototype=G.prototype,L.prototype=new B,B.prototype=null}return L}},224:(Be,ze,x)=>{"use strict";var I=x(2199);Be.exports=Function.prototype.bind||I},3677:Be=>{"use strict";var ze=function(){return"string"==typeof function(){}.name},x=Object.getOwnPropertyDescriptor;if(x)try{x([],"length")}catch{x=null}ze.functionsHaveConfigurableNames=function(){if(!ze()||!x)return!1;var oe=x(function(){},"name");return!!oe&&!!oe.configurable};var I=Function.prototype.bind;ze.boundFunctionsHaveNames=function(){return ze()&&"function"==typeof I&&""!==function(){}.bind().name},Be.exports=ze},9903:(Be,ze,x)=>{"use strict";var I,c=SyntaxError,oe=Function,te=TypeError,G=function($e){try{return oe('"use strict"; return ('+$e+").constructor;")()}catch{}},J=Object.getOwnPropertyDescriptor;if(J)try{J({},"")}catch{J=null}var L=function(){throw new te},V=J?function(){try{return L}catch{try{return J(arguments,"callee").get}catch{return L}}}():L,ue=x(524)(),Y=Object.getPrototypeOf||function($e){return $e.__proto__},se={},B=typeof Uint8Array>"u"?I:Y(Uint8Array),$={"%AggregateError%":typeof AggregateError>"u"?I:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?I:ArrayBuffer,"%ArrayIteratorPrototype%":ue?Y([][Symbol.iterator]()):I,"%AsyncFromSyncIteratorPrototype%":I,"%AsyncFunction%":se,"%AsyncGenerator%":se,"%AsyncGeneratorFunction%":se,"%AsyncIteratorPrototype%":se,"%Atomics%":typeof Atomics>"u"?I:Atomics,"%BigInt%":typeof BigInt>"u"?I:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?I:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?I:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?I:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?I:Float32Array,"%Float64Array%":typeof Float64Array>"u"?I:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?I:FinalizationRegistry,"%Function%":oe,"%GeneratorFunction%":se,"%Int8Array%":typeof Int8Array>"u"?I:Int8Array,"%Int16Array%":typeof Int16Array>"u"?I:Int16Array,"%Int32Array%":typeof Int32Array>"u"?I:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ue?Y(Y([][Symbol.iterator]())):I,"%JSON%":"object"==typeof JSON?JSON:I,"%Map%":typeof Map>"u"?I:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ue?I:Y((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?I:Promise,"%Proxy%":typeof Proxy>"u"?I:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?I:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?I:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ue?I:Y((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?I:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ue?Y(""[Symbol.iterator]()):I,"%Symbol%":ue?Symbol:I,"%SyntaxError%":c,"%ThrowTypeError%":V,"%TypedArray%":B,"%TypeError%":te,"%Uint8Array%":typeof Uint8Array>"u"?I:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?I:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?I:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?I:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?I:WeakMap,"%WeakRef%":typeof WeakRef>"u"?I:WeakRef,"%WeakSet%":typeof WeakSet>"u"?I:WeakSet};try{null.error}catch($e){var j=Y(Y($e));$["%Error.prototype%"]=j}var Pe=function $e(Te){var re;if("%AsyncFunction%"===Te)re=G("async function () {}");else if("%GeneratorFunction%"===Te)re=G("function* () {}");else if("%AsyncGeneratorFunction%"===Te)re=G("async function* () {}");else if("%AsyncGenerator%"===Te){var Ue=$e("%AsyncGeneratorFunction%");Ue&&(re=Ue.prototype)}else if("%AsyncIteratorPrototype%"===Te){var Qe=$e("%AsyncGenerator%");Qe&&(re=Y(Qe.prototype))}return $[Te]=re,re},Le={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},me=x(224),W=x(4031),K=me.call(Function.call,Array.prototype.concat),pe=me.call(Function.apply,Array.prototype.splice),Fe=me.call(Function.call,String.prototype.replace),de=me.call(Function.call,String.prototype.slice),at=me.call(Function.call,RegExp.prototype.exec),ce=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Ce=/\\(\\)?/g,Ie=function(Te){var re=de(Te,0,1),Ue=de(Te,-1);if("%"===re&&"%"!==Ue)throw new c("invalid intrinsic syntax, expected closing `%`");if("%"===Ue&&"%"!==re)throw new c("invalid intrinsic syntax, expected opening `%`");var Qe=[];return Fe(Te,ce,function(vt,dn,We,O){Qe[Qe.length]=We?Fe(O,Ce,"$1"):dn||vt}),Qe},Xe=function(Te,re){var Qe,Ue=Te;if(W(Le,Ue)&&(Ue="%"+(Qe=Le[Ue])[0]+"%"),W($,Ue)){var vt=$[Ue];if(vt===se&&(vt=Pe(Ue)),typeof vt>"u"&&!re)throw new te("intrinsic "+Te+" exists, but is not available. Please file an issue!");return{alias:Qe,name:Ue,value:vt}}throw new c("intrinsic "+Te+" does not exist!")};Be.exports=function(Te,re){if("string"!=typeof Te||0===Te.length)throw new te("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof re)throw new te('"allowMissing" argument must be a boolean');if(null===at(/^%?[^%]*%?$/,Te))throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Ue=Ie(Te),Qe=Ue.length>0?Ue[0]:"",vt=Xe("%"+Qe+"%",re),dn=vt.name,We=vt.value,O=!1,ye=vt.alias;ye&&(Qe=ye[0],pe(Ue,K([0,1],ye)));for(var nt=1,rt=!0;nt<Ue.length;nt+=1){var Ve=Ue[nt],q=de(Ve,0,1),ve=de(Ve,-1);if(('"'===q||"'"===q||"`"===q||'"'===ve||"'"===ve||"`"===ve)&&q!==ve)throw new c("property names with quotes must have matching quotes");if(("constructor"===Ve||!rt)&&(O=!0),W($,dn="%"+(Qe+="."+Ve)+"%"))We=$[dn];else if(null!=We){if(!(Ve in We)){if(!re)throw new te("base intrinsic for "+Te+" exists, but the property is not available.");return}if(J&&nt+1>=Ue.length){var ht=J(We,Ve);We=(rt=!!ht)&&"get"in ht&&!("originalValue"in ht.get)?ht.get:We[Ve]}else rt=W(We,Ve),We=We[Ve];rt&&!O&&($[dn]=We)}}return We}},253:(Be,ze,x)=>{"use strict";var c=x(9903)("%Object.getOwnPropertyDescriptor%",!0);if(c)try{c([],"length")}catch{c=null}Be.exports=c},5861:Be=>{"use strict";var ze=typeof BigInt<"u"&&BigInt;Be.exports=function(){return"function"==typeof ze&&"function"==typeof BigInt&&"bigint"==typeof ze(42)&&"bigint"==typeof BigInt(42)}},9006:(Be,ze,x)=>{"use strict";var c=x(9903)("%Object.defineProperty%",!0),oe=function(){if(c)try{return c({},"a",{value:1}),!0}catch{return!1}return!1};oe.hasArrayLengthDefineBug=function(){if(!oe())return null;try{return 1!==c([],"length",{value:1}).length}catch{return!0}},Be.exports=oe},524:(Be,ze,x)=>{"use strict";var I=typeof Symbol<"u"&&Symbol,c=x(6858);Be.exports=function(){return"function"==typeof I&&"function"==typeof Symbol&&"symbol"==typeof I("foo")&&"symbol"==typeof Symbol("bar")&&c()}},6858:Be=>{"use strict";Be.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var x={},I=Symbol("test"),c=Object(I);if("string"==typeof I||"[object Symbol]"!==Object.prototype.toString.call(I)||"[object Symbol]"!==Object.prototype.toString.call(c))return!1;for(I in x[I]=42,x)return!1;if("function"==typeof Object.keys&&0!==Object.keys(x).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(x).length)return!1;var te=Object.getOwnPropertySymbols(x);if(1!==te.length||te[0]!==I||!Object.prototype.propertyIsEnumerable.call(x,I))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var G=Object.getOwnPropertyDescriptor(x,I);if(42!==G.value||!0!==G.enumerable)return!1}return!0}},3261:(Be,ze,x)=>{"use strict";var I=x(6858);Be.exports=function(){return I()&&!!Symbol.toStringTag}},4031:(Be,ze,x)=>{"use strict";var I=x(224);Be.exports=I.call(Function.call,Object.prototype.hasOwnProperty)},5847:(Be,ze,x)=>{"use strict";var I=x(9903),c=x(4031),oe=x(8432)(),te=I("%TypeError%"),G={assert:function(J,L){if(!J||"object"!=typeof J&&"function"!=typeof J)throw new te("`O` is not an object");if("string"!=typeof L)throw new te("`slot` must be a string");if(oe.assert(J),!G.has(J,L))throw new te("`slot` is not present on `O`")},get:function(J,L){if(!J||"object"!=typeof J&&"function"!=typeof J)throw new te("`O` is not an object");if("string"!=typeof L)throw new te("`slot` must be a string");var V=oe.get(J);return V&&V["$"+L]},has:function(J,L){if(!J||"object"!=typeof J&&"function"!=typeof J)throw new te("`O` is not an object");if("string"!=typeof L)throw new te("`slot` must be a string");var V=oe.get(J);return!!V&&c(V,"$"+L)},set:function(J,L,V){if(!J||"object"!=typeof J&&"function"!=typeof J)throw new te("`O` is not an object");if("string"!=typeof L)throw new te("`slot` must be a string");var ue=oe.get(J);ue||oe.set(J,ue={}),ue["$"+L]=V}};Object.freeze&&Object.freeze(G),Be.exports=G},9102:(Be,ze,x)=>{"use strict";var I=x(3261)(),oe=x(4263)("Object.prototype.toString"),te=function(V){return!(I&&V&&"object"==typeof V&&Symbol.toStringTag in V)&&"[object Arguments]"===oe(V)},G=function(V){return!!te(V)||null!==V&&"object"==typeof V&&"number"==typeof V.length&&V.length>=0&&"[object Array]"!==oe(V)&&"[object Function]"===oe(V.callee)},J=function(){return te(arguments)}();te.isLegacyArguments=G,Be.exports=J?te:G},2805:(Be,ze,x)=>{"use strict";var I=x(3855),c=x(4263),oe=x(9903),te=x(7673),G=oe("ArrayBuffer",!0),J=oe("Float32Array",!0),L=c("ArrayBuffer.prototype.byteLength",!0),V=G&&!L&&(new G).slice,ue=V&&I(V);Be.exports=L||ue?function(se){if(!se||"object"!=typeof se)return!1;try{return L?L(se):ue(se,0),!0}catch{return!1}}:J?function(se){try{return new J(se).buffer===se&&!te(se)}catch{return!1}}:function(se){return!1}},3:(Be,ze,x)=>{"use strict";if(x(5861)()){var c=BigInt.prototype.valueOf;Be.exports=function(G){return!(null===G||typeof G>"u"||"boolean"==typeof G||"string"==typeof G||"number"==typeof G||"symbol"==typeof G||"function"==typeof G)&&("bigint"==typeof G||function(G){try{return c.call(G),!0}catch{}return!1}(G))}}else Be.exports=function(G){return!1}},6180:(Be,ze,x)=>{"use strict";var I=x(4263),c=I("Boolean.prototype.toString"),oe=I("Object.prototype.toString"),J=x(3261)();Be.exports=function(V){return"boolean"==typeof V||null!==V&&"object"==typeof V&&(J&&Symbol.toStringTag in V?function(V){try{return c(V),!0}catch{return!1}}(V):"[object Boolean]"===oe(V))}},5057:Be=>{function ze(I){return!!I.constructor&&"function"==typeof I.constructor.isBuffer&&I.constructor.isBuffer(I)}Be.exports=function(I){return null!=I&&(ze(I)||function x(I){return"function"==typeof I.readFloatLE&&"function"==typeof I.slice&&ze(I.slice(0,0))}(I)||!!I._isBuffer)}},8642:Be=>{"use strict";var I,c,ze=Function.prototype.toString,x="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof x&&"function"==typeof Object.defineProperty)try{I=Object.defineProperty({},"length",{get:function(){throw c}}),c={},x(function(){throw 42},null,I)}catch(me){me!==c&&(x=null)}else x=null;var oe=/^\s*class\b/,te=function(W){try{var K=ze.call(W);return oe.test(K)}catch{return!1}},G=function(W){try{return!te(W)&&(ze.call(W),!0)}catch{return!1}},J=Object.prototype.toString,$="function"==typeof Symbol&&!!Symbol.toStringTag,j=!(0 in[,]),Pe=function(){return!1};if("object"==typeof document){var Le=document.all;J.call(Le)===J.call(document.all)&&(Pe=function(W){if((j||!W)&&(typeof W>"u"||"object"==typeof W))try{var K=J.call(W);return("[object HTMLAllCollection]"===K||"[object HTML document.all class]"===K||"[object HTMLCollection]"===K||"[object Object]"===K)&&null==W("")}catch{}return!1})}Be.exports=x?function(W){if(Pe(W))return!0;if(!W||"function"!=typeof W&&"object"!=typeof W)return!1;try{x(W,null,I)}catch(K){if(K!==c)return!1}return!te(W)&&G(W)}:function(W){if(Pe(W))return!0;if(!W||"function"!=typeof W&&"object"!=typeof W)return!1;if($)return G(W);if(te(W))return!1;var K=J.call(W);return!("[object Function]"!==K&&"[object GeneratorFunction]"!==K&&!/^\[object HTML/.test(K))&&G(W)}},4666:(Be,ze,x)=>{"use strict";var I=Date.prototype.getDay,oe=Object.prototype.toString,G=x(3261)();Be.exports=function(L){return"object"==typeof L&&null!==L&&(G?function(L){try{return I.call(L),!0}catch{return!1}}(L):"[object Date]"===oe.call(L))}},9898:Be=>{"use strict";var I,ze="function"==typeof Map&&Map.prototype?Map:null,x="function"==typeof Set&&Set.prototype?Set:null;ze||(I=function(G){return!1});var c=ze?Map.prototype.has:null,oe=x?Set.prototype.has:null;!I&&!c&&(I=function(G){return!1}),Be.exports=I||function(G){if(!G||"object"!=typeof G)return!1;try{if(c.call(G),oe)try{oe.call(G)}catch{return!0}return G instanceof ze}catch{}return!1}},1046:(Be,ze,x)=>{"use strict";var I=Number.prototype.toString,oe=Object.prototype.toString,G=x(3261)();Be.exports=function(L){return"number"==typeof L||"object"==typeof L&&(G?function(L){try{return I.call(L),!0}catch{return!1}}(L):"[object Number]"===oe.call(L))}},6687:(Be,ze,x)=>{"use strict";var oe,te,G,J,I=x(4263),c=x(3261)();if(c){oe=I("Object.prototype.hasOwnProperty"),te=I("RegExp.prototype.exec"),G={};var L=function(){throw G};J={toString:L,valueOf:L},"symbol"==typeof Symbol.toPrimitive&&(J[Symbol.toPrimitive]=L)}var V=I("Object.prototype.toString"),ue=Object.getOwnPropertyDescriptor;Be.exports=c?function(B){if(!B||"object"!=typeof B)return!1;var $=ue(B,"lastIndex");if(!$||!oe($,"value"))return!1;try{te(B,J)}catch(Pe){return Pe===G}}:function(B){return!(!B||"object"!=typeof B&&"function"!=typeof B)&&"[object RegExp]"===V(B)}},3870:Be=>{"use strict";var I,ze="function"==typeof Map&&Map.prototype?Map:null,x="function"==typeof Set&&Set.prototype?Set:null;x||(I=function(G){return!1});var c=ze?Map.prototype.has:null,oe=x?Set.prototype.has:null;!I&&!oe&&(I=function(G){return!1}),Be.exports=I||function(G){if(!G||"object"!=typeof G)return!1;try{if(oe.call(G),c)try{c.call(G)}catch{return!0}return G instanceof x}catch{}return!1}},3163:(Be,ze,x)=>{"use strict";var c=x(4263)("SharedArrayBuffer.prototype.byteLength",!0);Be.exports=c?function(te){if(!te||"object"!=typeof te)return!1;try{return c(te),!0}catch{return!1}}:function(te){return!1}},4764:(Be,ze,x)=>{"use strict";var I=String.prototype.valueOf,oe=Object.prototype.toString,G=x(3261)();Be.exports=function(L){return"string"==typeof L||"object"==typeof L&&(G?function(L){try{return I.call(L),!0}catch{return!1}}(L):"[object String]"===oe.call(L))}},6434:(Be,ze,x)=>{"use strict";var I=Object.prototype.toString;if(x(524)()){var oe=Symbol.prototype.toString,te=/^Symbol\(.*\)$/;Be.exports=function(L){if("symbol"==typeof L)return!0;if("[object Symbol]"!==I.call(L))return!1;try{return function(L){return"symbol"==typeof L.valueOf()&&te.test(oe.call(L))}(L)}catch{return!1}}}else Be.exports=function(L){return!1}},7673:(Be,ze,x)=>{"use strict";var I=x(3037),c=x(5271),oe=x(4263),te=oe("Object.prototype.toString"),G=x(3261)(),J=x(253),L=typeof globalThis>"u"?global:globalThis,V=c(),ue=oe("Array.prototype.indexOf",!0)||function(Pe,Le){for(var me=0;me<Pe.length;me+=1)if(Pe[me]===Le)return me;return-1},Y=oe("String.prototype.slice"),se={},B=Object.getPrototypeOf;G&&J&&B&&I(V,function(j){var Pe=new L[j];if(Symbol.toStringTag in Pe){var Le=B(Pe),me=J(Le,Symbol.toStringTag);if(!me){var W=B(Le);me=J(W,Symbol.toStringTag)}se[j]=me.get}}),Be.exports=function(Pe){if(!Pe||"object"!=typeof Pe)return!1;if(!G||!(Symbol.toStringTag in Pe)){var Le=Y(te(Pe),8,-1);return ue(V,Le)>-1}return!!J&&function(Pe){var Le=!1;return I(se,function(me,W){if(!Le)try{Le=me.call(Pe)===W}catch{}}),Le}(Pe)}},5585:Be=>{"use strict";var I,ze="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,x="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;ze||(I=function(G){return!1});var c=ze?ze.prototype.has:null,oe=x?x.prototype.has:null;!I&&!c&&(I=function(G){return!1}),Be.exports=I||function(G){if(!G||"object"!=typeof G)return!1;try{if(c.call(G,c),oe)try{oe.call(G,oe)}catch{return!0}return G instanceof ze}catch{}return!1}},1902:(Be,ze,x)=>{"use strict";var I=x(9903),c=x(4263),oe=I("%WeakSet%",!0),te=c("WeakSet.prototype.has",!0);if(te){var G=c("WeakMap.prototype.has",!0);Be.exports=function(L){if(!L||"object"!=typeof L)return!1;try{if(te(L,te),G)try{G(L,G)}catch{return!0}return L instanceof oe}catch{}return!1}}else Be.exports=function(L){return!1}},8266:Be=>{var ze={}.toString;Be.exports=Array.isArray||function(x){return"[object Array]"==ze.call(x)}},5023:(Be,ze,x)=>{var I,c,oe,te,G;I=x(7175),c=x(5107).utf8,oe=x(5057),te=x(5107).bin,(G=function(J,L){J.constructor==String?J=L&&"binary"===L.encoding?te.stringToBytes(J):c.stringToBytes(J):oe(J)?J=Array.prototype.slice.call(J,0):!Array.isArray(J)&&J.constructor!==Uint8Array&&(J=J.toString());for(var V=I.bytesToWords(J),ue=8*J.length,Y=1732584193,se=-271733879,B=-1732584194,$=271733878,j=0;j<V.length;j++)V[j]=16711935&(V[j]<<8|V[j]>>>24)|4278255360&(V[j]<<24|V[j]>>>8);V[ue>>>5]|=128<<ue%32,V[14+(ue+64>>>9<<4)]=ue;var Pe=G._ff,Le=G._gg,me=G._hh,W=G._ii;for(j=0;j<V.length;j+=16){var K=Y,pe=se,Fe=B,de=$;Y=Pe(Y,se,B,$,V[j+0],7,-680876936),$=Pe($,Y,se,B,V[j+1],12,-389564586),B=Pe(B,$,Y,se,V[j+2],17,606105819),se=Pe(se,B,$,Y,V[j+3],22,-1044525330),Y=Pe(Y,se,B,$,V[j+4],7,-176418897),$=Pe($,Y,se,B,V[j+5],12,1200080426),B=Pe(B,$,Y,se,V[j+6],17,-1473231341),se=Pe(se,B,$,Y,V[j+7],22,-45705983),Y=Pe(Y,se,B,$,V[j+8],7,1770035416),$=Pe($,Y,se,B,V[j+9],12,-1958414417),B=Pe(B,$,Y,se,V[j+10],17,-42063),se=Pe(se,B,$,Y,V[j+11],22,-1990404162),Y=Pe(Y,se,B,$,V[j+12],7,1804603682),$=Pe($,Y,se,B,V[j+13],12,-40341101),B=Pe(B,$,Y,se,V[j+14],17,-1502002290),Y=Le(Y,se=Pe(se,B,$,Y,V[j+15],22,1236535329),B,$,V[j+1],5,-165796510),$=Le($,Y,se,B,V[j+6],9,-1069501632),B=Le(B,$,Y,se,V[j+11],14,643717713),se=Le(se,B,$,Y,V[j+0],20,-373897302),Y=Le(Y,se,B,$,V[j+5],5,-701558691),$=Le($,Y,se,B,V[j+10],9,38016083),B=Le(B,$,Y,se,V[j+15],14,-660478335),se=Le(se,B,$,Y,V[j+4],20,-405537848),Y=Le(Y,se,B,$,V[j+9],5,568446438),$=Le($,Y,se,B,V[j+14],9,-1019803690),B=Le(B,$,Y,se,V[j+3],14,-187363961),se=Le(se,B,$,Y,V[j+8],20,1163531501),Y=Le(Y,se,B,$,V[j+13],5,-1444681467),$=Le($,Y,se,B,V[j+2],9,-51403784),B=Le(B,$,Y,se,V[j+7],14,1735328473),Y=me(Y,se=Le(se,B,$,Y,V[j+12],20,-1926607734),B,$,V[j+5],4,-378558),$=me($,Y,se,B,V[j+8],11,-2022574463),B=me(B,$,Y,se,V[j+11],16,1839030562),se=me(se,B,$,Y,V[j+14],23,-35309556),Y=me(Y,se,B,$,V[j+1],4,-1530992060),$=me($,Y,se,B,V[j+4],11,1272893353),B=me(B,$,Y,se,V[j+7],16,-155497632),se=me(se,B,$,Y,V[j+10],23,-1094730640),Y=me(Y,se,B,$,V[j+13],4,681279174),$=me($,Y,se,B,V[j+0],11,-358537222),B=me(B,$,Y,se,V[j+3],16,-722521979),se=me(se,B,$,Y,V[j+6],23,76029189),Y=me(Y,se,B,$,V[j+9],4,-640364487),$=me($,Y,se,B,V[j+12],11,-421815835),B=me(B,$,Y,se,V[j+15],16,530742520),Y=W(Y,se=me(se,B,$,Y,V[j+2],23,-995338651),B,$,V[j+0],6,-198630844),$=W($,Y,se,B,V[j+7],10,1126891415),B=W(B,$,Y,se,V[j+14],15,-1416354905),se=W(se,B,$,Y,V[j+5],21,-57434055),Y=W(Y,se,B,$,V[j+12],6,1700485571),$=W($,Y,se,B,V[j+3],10,-1894986606),B=W(B,$,Y,se,V[j+10],15,-1051523),se=W(se,B,$,Y,V[j+1],21,-2054922799),Y=W(Y,se,B,$,V[j+8],6,1873313359),$=W($,Y,se,B,V[j+15],10,-30611744),B=W(B,$,Y,se,V[j+6],15,-1560198380),se=W(se,B,$,Y,V[j+13],21,1309151649),Y=W(Y,se,B,$,V[j+4],6,-145523070),$=W($,Y,se,B,V[j+11],10,-1120210379),B=W(B,$,Y,se,V[j+2],15,718787259),se=W(se,B,$,Y,V[j+9],21,-343485551),Y=Y+K>>>0,se=se+pe>>>0,B=B+Fe>>>0,$=$+de>>>0}return I.endian([Y,se,B,$])})._ff=function(J,L,V,ue,Y,se,B){var $=J+(L&V|~L&ue)+(Y>>>0)+B;return($<<se|$>>>32-se)+L},G._gg=function(J,L,V,ue,Y,se,B){var $=J+(L&ue|V&~ue)+(Y>>>0)+B;return($<<se|$>>>32-se)+L},G._hh=function(J,L,V,ue,Y,se,B){var $=J+(L^V^ue)+(Y>>>0)+B;return($<<se|$>>>32-se)+L},G._ii=function(J,L,V,ue,Y,se,B){var $=J+(V^(L|~ue))+(Y>>>0)+B;return($<<se|$>>>32-se)+L},G._blocksize=16,G._digestsize=16,Be.exports=function(J,L){if(null==J)throw new Error("Illegal argument "+J);var V=I.wordsToBytes(G(J,L));return L&&L.asBytes?V:L&&L.asString?te.bytesToString(V):I.bytesToHex(V)}},9052:(Be,ze)=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});var x=[];x[0]=function(){return function(){}},x[1]=function(te,G){return typeof G>"u"?te:function(L){te(L,G)}};var oe=function(){function te(){this.hasHandlers=!1,this._handlers=[],this._contexts=[],this._createDispatcher()}return te.prototype.addHandler=function(G,J){return this.isHandlerAttached(G,J)||(this._handlers.push(G),this._contexts.push(J),this._createDispatcher(),this._updateHasHandlers()),this},te.prototype.removeHandler=function(G,J){var L=this._getHandlerIndex(G,J);return typeof L<"u"&&(this._handlers.splice(L,1),this._contexts.splice(L,1),this._createDispatcher(),this._updateHasHandlers()),this},te.prototype.isHandlerAttached=function(G,J){return typeof this._getHandlerIndex(G,J)<"u"},te.prototype._updateHasHandlers=function(){this.hasHandlers=!!this._handlers.length},te.prototype._getHandlerIndex=function(G,J){var V,L=this._handlers.length;for(V=0;V<L&&(this._handlers[V]!==G||this._contexts[V]!==J);V++);return V<L?V:void 0},te.prototype._createDispatcher=function(){this.dispatch=function I(te){return x[te]||(x[te]=function c(te){for(var G="return function dispatcher"+te+"(payload) {\n",J=[],L=[],V=0;V<te;V++)J.push("cb"+V),L.push("ctx"+V),G+="    cb"+V+"(payload, ctx"+V+");\n";return G+="};",new(Function.bind.apply(Function,[void 0].concat(J.concat(L),[G])))}(te)),x[te]}(this._handlers.length).apply(this,this._handlers.concat(this._contexts))},te}();ze.default=oe},1158:(Be,ze,x)=>{"use strict";var c=x(9052);ze.j=c.default},8597:(Be,ze,x)=>{var I="function"==typeof Map&&Map.prototype,c=Object.getOwnPropertyDescriptor&&I?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,oe=I&&c&&"function"==typeof c.get?c.get:null,te=I&&Map.prototype.forEach,G="function"==typeof Set&&Set.prototype,J=Object.getOwnPropertyDescriptor&&G?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,L=G&&J&&"function"==typeof J.get?J.get:null,V=G&&Set.prototype.forEach,Y="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,B="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,j="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,Pe=Boolean.prototype.valueOf,Le=Object.prototype.toString,me=Function.prototype.toString,W=String.prototype.match,K=String.prototype.slice,pe=String.prototype.replace,Fe=String.prototype.toUpperCase,de=String.prototype.toLowerCase,at=RegExp.prototype.test,ce=Array.prototype.concat,Ce=Array.prototype.join,Ie=Array.prototype.slice,Xe=Math.floor,$e="function"==typeof BigInt?BigInt.prototype.valueOf:null,Te=Object.getOwnPropertySymbols,re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,Ue="function"==typeof Symbol&&"object"==typeof Symbol.iterator,Qe="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,vt=Object.prototype.propertyIsEnumerable,dn=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(le){return le.__proto__}:null);function We(le,Ge){if(le===1/0||le===-1/0||le!=le||le&&le>-1e3&&le<1e3||at.call(/e/,Ge))return Ge;var Pn=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof le){var Bn=le<0?-Xe(-le):Xe(le);if(Bn!==le){var Kt=String(Bn),Rt=K.call(Ge,Kt.length+1);return pe.call(Kt,Pn,"$&_")+"."+pe.call(pe.call(Rt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return pe.call(Ge,Pn,"$&_")}var O=x(4654),ye=O.custom,nt=nn(ye)?ye:null;function rt(le,Ge,Pn){var Bn="double"===(Pn.quoteStyle||Ge)?'"':"'";return Bn+le+Bn}function Ve(le){return pe.call(String(le),/"/g,"&quot;")}function q(le){return!("[object Array]"!==Xn(le)||Qe&&"object"==typeof le&&Qe in le)}function ht(le){return!("[object RegExp]"!==Xn(le)||Qe&&"object"==typeof le&&Qe in le)}function nn(le){if(Ue)return le&&"object"==typeof le&&le instanceof Symbol;if("symbol"==typeof le)return!0;if(!le||"object"!=typeof le||!re)return!1;try{return re.call(le),!0}catch{}return!1}Be.exports=function le(Ge,Pn,Bn,Kt){var Rt=Pn||{};if(dr(Rt,"quoteStyle")&&"single"!==Rt.quoteStyle&&"double"!==Rt.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(dr(Rt,"maxStringLength")&&("number"==typeof Rt.maxStringLength?Rt.maxStringLength<0&&Rt.maxStringLength!==1/0:null!==Rt.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var hr=!dr(Rt,"customInspect")||Rt.customInspect;if("boolean"!=typeof hr&&"symbol"!==hr)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(dr(Rt,"indent")&&null!==Rt.indent&&"\t"!==Rt.indent&&!(parseInt(Rt.indent,10)===Rt.indent&&Rt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(dr(Rt,"numericSeparator")&&"boolean"!=typeof Rt.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var en=Rt.numericSeparator;if(typeof Ge>"u")return"undefined";if(null===Ge)return"null";if("boolean"==typeof Ge)return Ge?"true":"false";if("string"==typeof Ge)return kr(Ge,Rt);if("number"==typeof Ge){if(0===Ge)return 1/0/Ge>0?"0":"-0";var Qn=String(Ge);return en?We(Ge,Qn):Qn}if("bigint"==typeof Ge){var Jn=String(Ge)+"n";return en?We(Ge,Jn):Jn}var un=typeof Rt.depth>"u"?5:Rt.depth;if(typeof Bn>"u"&&(Bn=0),Bn>=un&&un>0&&"object"==typeof Ge)return q(Ge)?"[Array]":"[Object]";var jt=function Xi(le,Ge){var Pn;if("\t"===le.indent)Pn="\t";else{if(!("number"==typeof le.indent&&le.indent>0))return null;Pn=Ce.call(Array(le.indent+1)," ")}return{base:Pn,prev:Ce.call(Array(Ge+1),Pn)}}(Rt,Bn);if(typeof Kt>"u")Kt=[];else if(Wr(Kt,Ge)>=0)return"[Circular]";function E(li,Qo,vo){if(Qo&&(Kt=Ie.call(Kt)).push(Qo),vo){var jr={depth:Rt.depth};return dr(Rt,"quoteStyle")&&(jr.quoteStyle=Rt.quoteStyle),le(li,jr,Bn+1,Kt)}return le(li,Rt,Bn+1,Kt)}if("function"==typeof Ge&&!ht(Ge)){var S=function Oo(le){if(le.name)return le.name;var Ge=W.call(me.call(le),/^function\s*([\w$]+)/);return Ge?Ge[1]:null}(Ge),qn=ut(Ge,E);return"[Function"+(S?": "+S:" (anonymous)")+"]"+(qn.length>0?" { "+Ce.call(qn,", ")+" }":"")}if(nn(Ge)){var D=Ue?pe.call(String(Ge),/^(Symbol\(.*\))_[^)]*$/,"$1"):re.call(Ge);return"object"!=typeof Ge||Ue?D:Or(D)}if(function Ur(le){return!(!le||"object"!=typeof le)&&(typeof HTMLElement<"u"&&le instanceof HTMLElement||"string"==typeof le.nodeName&&"function"==typeof le.getAttribute)}(Ge)){for(var Nn="<"+de.call(String(Ge.nodeName)),No=Ge.attributes||[],Xo=0;Xo<No.length;Xo++)Nn+=" "+No[Xo].name+"="+rt(Ve(No[Xo].value),"double",Rt);return Nn+=">",Ge.childNodes&&Ge.childNodes.length&&(Nn+="..."),Nn+"</"+de.call(String(Ge.nodeName))+">"}if(q(Ge)){if(0===Ge.length)return"[]";var _o=ut(Ge,E);return jt&&!function Zr(le){for(var Ge=0;Ge<le.length;Ge++)if(Wr(le[Ge],"\n")>=0)return!1;return!0}(_o)?"["+Nr(_o,jt)+"]":"[ "+Ce.call(_o,", ")+" ]"}if(function Re(le){return!("[object Error]"!==Xn(le)||Qe&&"object"==typeof le&&Qe in le)}(Ge)){var Ri=ut(Ge,E);return"cause"in Error.prototype||!("cause"in Ge)||vt.call(Ge,"cause")?0===Ri.length?"["+String(Ge)+"]":"{ ["+String(Ge)+"] "+Ce.call(Ri,", ")+" }":"{ ["+String(Ge)+"] "+Ce.call(ce.call("[cause]: "+E(Ge.cause),Ri),", ")+" }"}if("object"==typeof Ge&&hr){if(nt&&"function"==typeof Ge[nt]&&O)return O(Ge,{depth:un-Bn});if("symbol"!==hr&&"function"==typeof Ge.inspect)return Ge.inspect()}if(function _i(le){if(!oe||!le||"object"!=typeof le)return!1;try{oe.call(le);try{L.call(le)}catch{return!0}return le instanceof Map}catch{}return!1}(Ge)){var Lo=[];return te&&te.call(Ge,function(li,Qo){Lo.push(E(Qo,Ge,!0)+" => "+E(li,Ge))}),mn("Map",oe.call(Ge),Lo,jt)}if(function jn(le){if(!L||!le||"object"!=typeof le)return!1;try{L.call(le);try{oe.call(le)}catch{return!0}return le instanceof Set}catch{}return!1}(Ge)){var bi=[];return V&&V.call(Ge,function(li){bi.push(E(li,Ge))}),mn("Set",L.call(Ge),bi,jt)}if(function Rn(le){if(!Y||!le||"object"!=typeof le)return!1;try{Y.call(le,Y);try{B.call(le,B)}catch{return!0}return le instanceof WeakMap}catch{}return!1}(Ge))return Qr("WeakMap");if(function vi(le){if(!B||!le||"object"!=typeof le)return!1;try{B.call(le,B);try{Y.call(le,Y)}catch{return!0}return le instanceof WeakSet}catch{}return!1}(Ge))return Qr("WeakSet");if(function so(le){if(!j||!le||"object"!=typeof le)return!1;try{return j.call(le),!0}catch{}return!1}(Ge))return Qr("WeakRef");if(function cn(le){return!("[object Number]"!==Xn(le)||Qe&&"object"==typeof le&&Qe in le)}(Ge))return Or(E(Number(Ge)));if(function z(le){if(!le||"object"!=typeof le||!$e)return!1;try{return $e.call(le),!0}catch{}return!1}(Ge))return Or(E($e.call(Ge)));if(function Jt(le){return!("[object Boolean]"!==Xn(le)||Qe&&"object"==typeof le&&Qe in le)}(Ge))return Or(Pe.call(Ge));if(function Mt(le){return!("[object String]"!==Xn(le)||Qe&&"object"==typeof le&&Qe in le)}(Ge))return Or(E(String(Ge)));if(!function ve(le){return!("[object Date]"!==Xn(le)||Qe&&"object"==typeof le&&Qe in le)}(Ge)&&!ht(Ge)){var wi=ut(Ge,E),Jr=dn?dn(Ge)===Object.prototype:Ge instanceof Object||Ge.constructor===Object,$o=Ge instanceof Object?"":"null prototype",mr=!Jr&&Qe&&Object(Ge)===Ge&&Qe in Ge?K.call(Xn(Ge),8,-1):$o?"Object":"",qr=(Jr||"function"!=typeof Ge.constructor?"":Ge.constructor.name?Ge.constructor.name+" ":"")+(mr||$o?"["+Ce.call(ce.call([],mr||[],$o||[]),": ")+"] ":"");return 0===wi.length?qr+"{}":jt?qr+"{"+Nr(wi,jt)+"}":qr+"{ "+Ce.call(wi,", ")+" }"}return String(Ge)};var vn=Object.prototype.hasOwnProperty||function(le){return le in this};function dr(le,Ge){return vn.call(le,Ge)}function Xn(le){return Le.call(le)}function Wr(le,Ge){if(le.indexOf)return le.indexOf(Ge);for(var Pn=0,Bn=le.length;Pn<Bn;Pn++)if(le[Pn]===Ge)return Pn;return-1}function kr(le,Ge){if(le.length>Ge.maxStringLength){var Pn=le.length-Ge.maxStringLength,Bn="... "+Pn+" more character"+(Pn>1?"s":"");return kr(K.call(le,0,Ge.maxStringLength),Ge)+Bn}return rt(pe.call(pe.call(le,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,or),"single",Ge)}function or(le){var Ge=le.charCodeAt(0),Pn={8:"b",9:"t",10:"n",12:"f",13:"r"}[Ge];return Pn?"\\"+Pn:"\\x"+(Ge<16?"0":"")+Fe.call(Ge.toString(16))}function Or(le){return"Object("+le+")"}function Qr(le){return le+" { ? }"}function mn(le,Ge,Pn,Bn){return le+" ("+Ge+") {"+(Bn?Nr(Pn,Bn):Ce.call(Pn,", "))+"}"}function Nr(le,Ge){if(0===le.length)return"";var Pn="\n"+Ge.prev+Ge.base;return Pn+Ce.call(le,","+Pn)+"\n"+Ge.prev}function ut(le,Ge){var Pn=q(le),Bn=[];if(Pn){Bn.length=le.length;for(var Kt=0;Kt<le.length;Kt++)Bn[Kt]=dr(le,Kt)?Ge(le[Kt],le):""}var hr,Rt="function"==typeof Te?Te(le):[];if(Ue){hr={};for(var en=0;en<Rt.length;en++)hr["$"+Rt[en]]=Rt[en]}for(var Qn in le)dr(le,Qn)&&(Pn&&String(Number(Qn))===Qn&&Qn<le.length||Ue&&hr["$"+Qn]instanceof Symbol||(at.call(/[^\w$]/,Qn)?Bn.push(Ge(Qn,le)+": "+Ge(le[Qn],le)):Bn.push(Qn+": "+Ge(le[Qn],le))));if("function"==typeof Te)for(var Jn=0;Jn<Rt.length;Jn++)vt.call(le,Rt[Jn])&&Bn.push("["+Ge(Rt[Jn])+"]: "+Ge(le[Rt[Jn]],le));return Bn}},6872:Be=>{"use strict";var ze=function(x){return x!=x};Be.exports=function(I,c){return 0===I&&0===c?1/I==1/c:!!(I===c||ze(I)&&ze(c))}},5734:(Be,ze,x)=>{"use strict";var I=x(1790),c=x(3855),oe=x(6872),te=x(3306),G=x(7715),J=c(te(),Object);I(J,{getPolyfill:te,implementation:oe,shim:G}),Be.exports=J},3306:(Be,ze,x)=>{"use strict";var I=x(6872);Be.exports=function(){return"function"==typeof Object.is?Object.is:I}},7715:(Be,ze,x)=>{"use strict";var I=x(3306),c=x(1790);Be.exports=function(){var te=I();return c(Object,{is:te},{is:function(){return Object.is!==te}}),te}},7010:(Be,ze,x)=>{"use strict";var I;if(!Object.keys){var c=Object.prototype.hasOwnProperty,oe=Object.prototype.toString,te=x(5185),G=Object.prototype.propertyIsEnumerable,J=!G.call({toString:null},"toString"),L=G.call(function(){},"prototype"),V=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],ue=function($){var j=$.constructor;return j&&j.prototype===$},Y={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},se=function(){if(typeof window>"u")return!1;for(var $ in window)try{if(!Y["$"+$]&&c.call(window,$)&&null!==window[$]&&"object"==typeof window[$])try{ue(window[$])}catch{return!0}}catch{return!0}return!1}();I=function(j){var Pe=null!==j&&"object"==typeof j,Le="[object Function]"===oe.call(j),me=te(j),W=Pe&&"[object String]"===oe.call(j),K=[];if(!Pe&&!Le&&!me)throw new TypeError("Object.keys called on a non-object");var pe=L&&Le;if(W&&j.length>0&&!c.call(j,0))for(var Fe=0;Fe<j.length;++Fe)K.push(String(Fe));if(me&&j.length>0)for(var de=0;de<j.length;++de)K.push(String(de));else for(var at in j)(!pe||"prototype"!==at)&&c.call(j,at)&&K.push(String(at));if(J)for(var ce=function($){if(typeof window>"u"||!se)return ue($);try{return ue($)}catch{return!1}}(j),Ce=0;Ce<V.length;++Ce)(!ce||"constructor"!==V[Ce])&&c.call(j,V[Ce])&&K.push(V[Ce]);return K}}Be.exports=I},2093:(Be,ze,x)=>{"use strict";var I=Array.prototype.slice,c=x(5185),oe=Object.keys,te=oe?function(L){return oe(L)}:x(7010),G=Object.keys;te.shim=function(){if(Object.keys){var L=function(){var V=Object.keys(arguments);return V&&V.length===arguments.length}(1,2);L||(Object.keys=function(ue){return c(ue)?G(I.call(ue)):G(ue)})}else Object.keys=te;return Object.keys||te},Be.exports=te},5185:Be=>{"use strict";var ze=Object.prototype.toString;Be.exports=function(I){var c=ze.call(I),oe="[object Arguments]"===c;return oe||(oe="[object Array]"!==c&&null!==I&&"object"==typeof I&&"number"==typeof I.length&&I.length>=0&&"[object Function]"===ze.call(I.callee)),oe}},2461:(Be,ze,x)=>{"use strict";var I=x(2093),c=x(6858)(),oe=x(4263),te=Object,G=oe("Array.prototype.push"),J=oe("Object.prototype.propertyIsEnumerable"),L=c?Object.getOwnPropertySymbols:null;Be.exports=function(ue,Y){if(null==ue)throw new TypeError("target must be an object");var se=te(ue);if(1===arguments.length)return se;for(var B=1;B<arguments.length;++B){var $=te(arguments[B]),j=I($),Pe=c&&(Object.getOwnPropertySymbols||L);if(Pe)for(var Le=Pe($),me=0;me<Le.length;++me){var W=Le[me];J($,W)&&G(j,W)}for(var K=0;K<j.length;++K){var pe=j[K];if(J($,pe)){var Fe=$[pe];se[pe]=Fe}}}return se}},6189:(Be,ze,x)=>{"use strict";var I=x(1790),c=x(3855),oe=x(2461),te=x(6255),G=x(152),J=c.apply(te()),L=function(ue,Y){return J(Object,arguments)};I(L,{getPolyfill:te,implementation:oe,shim:G}),Be.exports=L},6255:(Be,ze,x)=>{"use strict";var I=x(2461);Be.exports=function(){return!Object.assign||function(){if(!Object.assign)return!1;for(var te="abcdefghijklmnopqrst",G=te.split(""),J={},L=0;L<G.length;++L)J[G[L]]=G[L];var V=Object.assign({},J),ue="";for(var Y in V)ue+=Y;return te!==ue}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var te=Object.preventExtensions({1:2});try{Object.assign(te,"xy")}catch{return"y"===te[1]}return!1}()?I:Object.assign}},152:(Be,ze,x)=>{"use strict";var I=x(1790),c=x(6255);Be.exports=function(){var te=c();return I(Object,{assign:te},{assign:function(){return Object.assign!==te}}),te}},151:(Be,ze)=>{"use strict";var x=Object.prototype.hasOwnProperty;function c(J){try{return decodeURIComponent(J.replace(/\+/g," "))}catch{return null}}function oe(J){try{return encodeURIComponent(J)}catch{return null}}ze.stringify=function G(J,L){L=L||"";var ue,Y,V=[];for(Y in"string"!=typeof L&&(L="?"),J)if(x.call(J,Y)){if(!(ue=J[Y])&&(null==ue||isNaN(ue))&&(ue=""),Y=oe(Y),ue=oe(ue),null===Y||null===ue)continue;V.push(Y+"="+ue)}return V.length?L+V.join("&"):""},ze.parse=function te(J){for(var ue,L=/([^=?#&]+)=?([^&]*)/g,V={};ue=L.exec(J);){var Y=c(ue[1]),se=c(ue[2]);null===Y||null===se||Y in V||(V[Y]=se)}return V}},4040:(Be,ze,x)=>{"use strict";var I=x(3677).functionsHaveConfigurableNames(),c=Object,oe=TypeError;Be.exports=function(){if(null!=this&&this!==c(this))throw new oe("RegExp.prototype.flags getter called on non-object");var G="";return this.hasIndices&&(G+="d"),this.global&&(G+="g"),this.ignoreCase&&(G+="i"),this.multiline&&(G+="m"),this.dotAll&&(G+="s"),this.unicode&&(G+="u"),this.sticky&&(G+="y"),G},I&&Object.defineProperty&&Object.defineProperty(Be.exports,"name",{value:"get flags"})},8704:(Be,ze,x)=>{"use strict";var I=x(1790),c=x(3855),oe=x(4040),te=x(9783),G=x(9369),J=c(te());I(J,{getPolyfill:te,implementation:oe,shim:G}),Be.exports=J},9783:(Be,ze,x)=>{"use strict";var I=x(4040),c=x(1790).supportsDescriptors,oe=Object.getOwnPropertyDescriptor;Be.exports=function(){if(c&&"gim"===/a/gim.flags){var G=oe(RegExp.prototype,"flags");if(G&&"function"==typeof G.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var J="",L={};if(Object.defineProperty(L,"hasIndices",{get:function(){J+="d"}}),Object.defineProperty(L,"sticky",{get:function(){J+="y"}}),"dy"===J)return G.get}}return I}},9369:(Be,ze,x)=>{"use strict";var I=x(1790).supportsDescriptors,c=x(9783),oe=Object.getOwnPropertyDescriptor,te=Object.defineProperty,G=TypeError,J=Object.getPrototypeOf,L=/a/;Be.exports=function(){if(!I||!J)throw new G("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var ue=c(),Y=J(L),se=oe(Y,"flags");return(!se||se.get!==ue)&&te(Y,"flags",{configurable:!0,enumerable:!1,get:ue}),ue}},47:Be=>{"use strict";Be.exports=function(x,I){if(I=I.split(":")[0],!(x=+x))return!1;switch(I){case"http":case"ws":return 80!==x;case"https":case"wss":return 443!==x;case"ftp":return 21!==x;case"gopher":return 70!==x;case"file":return!1}return 0!==x}},8432:(Be,ze,x)=>{"use strict";var I=x(9903),c=x(4263),oe=x(8597),te=I("%TypeError%"),G=I("%WeakMap%",!0),J=I("%Map%",!0),L=c("WeakMap.prototype.get",!0),V=c("WeakMap.prototype.set",!0),ue=c("WeakMap.prototype.has",!0),Y=c("Map.prototype.get",!0),se=c("Map.prototype.set",!0),B=c("Map.prototype.has",!0),$=function(me,W){for(var pe,K=me;null!==(pe=K.next);K=pe)if(pe.key===W)return K.next=pe.next,pe.next=me.next,me.next=pe,pe};Be.exports=function(){var W,K,pe,Fe={assert:function(de){if(!Fe.has(de))throw new te("Side channel does not contain "+oe(de))},get:function(de){if(G&&de&&("object"==typeof de||"function"==typeof de)){if(W)return L(W,de)}else if(J){if(K)return Y(K,de)}else if(pe)return function(me,W){var K=$(me,W);return K&&K.value}(pe,de)},has:function(de){if(G&&de&&("object"==typeof de||"function"==typeof de)){if(W)return ue(W,de)}else if(J){if(K)return B(K,de)}else if(pe)return function(me,W){return!!$(me,W)}(pe,de);return!1},set:function(de,at){G&&de&&("object"==typeof de||"function"==typeof de)?(W||(W=new G),V(W,de,at)):J?(K||(K=new J),se(K,de,at)):(pe||(pe={key:{},next:null}),function(me,W,K){var pe=$(me,W);pe?pe.value=K:me.next={key:W,next:me.next,value:K}}(pe,de,at))}};return Fe}},8519:(Be,ze,x)=>{"use strict";var I=x(5847),c=SyntaxError,oe="object"==typeof StopIteration?StopIteration:null;Be.exports=function(G){if(!oe)throw new c("this environment lacks StopIteration");I.set(G,"[[Done]]",!1);var J={next:function(){var V=I.get(this,"[[Iterator]]"),ue=I.get(V,"[[Done]]");try{return{done:ue,value:ue?void 0:V.next()}}catch(Y){if(I.set(V,"[[Done]]",!0),Y!==oe)throw Y;return{done:!0,value:void 0}}}};return I.set(J,"[[Iterator]]",G),J}},9233:(Be,ze,x)=>{"use strict";var I=x(47),c=x(151),oe=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,te=/[\n\r\t]/g,G=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,J=/:\d+$/,L=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,V=/^[a-zA-Z]:/;function ue(K){return(K||"").toString().replace(oe,"")}var Y=[["#","hash"],["?","query"],function(pe,Fe){return $(Fe.protocol)?pe.replace(/\\/g,"/"):pe},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],se={hash:1,query:1};function B(K){var pe;pe=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ce,de={},at=typeof(K=K||pe.location||{});if("blob:"===K.protocol)de=new Le(unescape(K.pathname),{});else if("string"===at)for(ce in de=new Le(K,{}),se)delete de[ce];else if("object"===at){for(ce in K)ce in se||(de[ce]=K[ce]);void 0===de.slashes&&(de.slashes=G.test(K.href))}return de}function $(K){return"file:"===K||"ftp:"===K||"http:"===K||"https:"===K||"ws:"===K||"wss:"===K}function j(K,pe){K=(K=ue(K)).replace(te,""),pe=pe||{};var Ie,Fe=L.exec(K),de=Fe[1]?Fe[1].toLowerCase():"",at=!!Fe[2],ce=!!Fe[3],Ce=0;return at?ce?(Ie=Fe[2]+Fe[3]+Fe[4],Ce=Fe[2].length+Fe[3].length):(Ie=Fe[2]+Fe[4],Ce=Fe[2].length):ce?(Ie=Fe[3]+Fe[4],Ce=Fe[3].length):Ie=Fe[4],"file:"===de?Ce>=2&&(Ie=Ie.slice(2)):$(de)?Ie=Fe[4]:de?at&&(Ie=Ie.slice(2)):Ce>=2&&$(pe.protocol)&&(Ie=Fe[4]),{protocol:de,slashes:at||$(de),slashesCount:Ce,rest:Ie}}function Le(K,pe,Fe){if(K=(K=ue(K)).replace(te,""),!(this instanceof Le))return new Le(K,pe,Fe);var de,at,ce,Ce,Ie,Xe,$e=Y.slice(),Te=typeof pe,re=this,Ue=0;for("object"!==Te&&"string"!==Te&&(Fe=pe,pe=null),Fe&&"function"!=typeof Fe&&(Fe=c.parse),de=!(at=j(K||"",pe=B(pe))).protocol&&!at.slashes,re.slashes=at.slashes||de&&pe.slashes,re.protocol=at.protocol||pe.protocol||"",K=at.rest,("file:"===at.protocol&&(2!==at.slashesCount||V.test(K))||!at.slashes&&(at.protocol||at.slashesCount<2||!$(re.protocol)))&&($e[3]=[/(.*)/,"pathname"]);Ue<$e.length;Ue++)"function"!=typeof(Ce=$e[Ue])?(Xe=Ce[1],(ce=Ce[0])!=ce?re[Xe]=K:"string"==typeof ce?~(Ie="@"===ce?K.lastIndexOf(ce):K.indexOf(ce))&&("number"==typeof Ce[2]?(re[Xe]=K.slice(0,Ie),K=K.slice(Ie+Ce[2])):(re[Xe]=K.slice(Ie),K=K.slice(0,Ie))):(Ie=ce.exec(K))&&(re[Xe]=Ie[1],K=K.slice(0,Ie.index)),re[Xe]=re[Xe]||de&&Ce[3]&&pe[Xe]||"",Ce[4]&&(re[Xe]=re[Xe].toLowerCase())):K=Ce(K,re);Fe&&(re.query=Fe(re.query)),de&&pe.slashes&&"/"!==re.pathname.charAt(0)&&(""!==re.pathname||""!==pe.pathname)&&(re.pathname=function Pe(K,pe){if(""===K)return pe;for(var Fe=(pe||"/").split("/").slice(0,-1).concat(K.split("/")),de=Fe.length,at=Fe[de-1],ce=!1,Ce=0;de--;)"."===Fe[de]?Fe.splice(de,1):".."===Fe[de]?(Fe.splice(de,1),Ce++):Ce&&(0===de&&(ce=!0),Fe.splice(de,1),Ce--);return ce&&Fe.unshift(""),("."===at||".."===at)&&Fe.push(""),Fe.join("/")}(re.pathname,pe.pathname)),"/"!==re.pathname.charAt(0)&&$(re.protocol)&&(re.pathname="/"+re.pathname),I(re.port,re.protocol)||(re.host=re.hostname,re.port=""),re.username=re.password="",re.auth&&(~(Ie=re.auth.indexOf(":"))?(re.username=re.auth.slice(0,Ie),re.username=encodeURIComponent(decodeURIComponent(re.username)),re.password=re.auth.slice(Ie+1),re.password=encodeURIComponent(decodeURIComponent(re.password))):re.username=encodeURIComponent(decodeURIComponent(re.auth)),re.auth=re.password?re.username+":"+re.password:re.username),re.origin="file:"!==re.protocol&&$(re.protocol)&&re.host?re.protocol+"//"+re.host:"null",re.href=re.toString()}Le.prototype={set:function me(K,pe,Fe){var de=this;switch(K){case"query":"string"==typeof pe&&pe.length&&(pe=(Fe||c.parse)(pe)),de[K]=pe;break;case"port":de[K]=pe,I(pe,de.protocol)?pe&&(de.host=de.hostname+":"+pe):(de.host=de.hostname,de[K]="");break;case"hostname":de[K]=pe,de.port&&(pe+=":"+de.port),de.host=pe;break;case"host":de[K]=pe,J.test(pe)?(pe=pe.split(":"),de.port=pe.pop(),de.hostname=pe.join(":")):(de.hostname=pe,de.port="");break;case"protocol":de.protocol=pe.toLowerCase(),de.slashes=!Fe;break;case"pathname":case"hash":if(pe){var at="pathname"===K?"/":"#";de[K]=pe.charAt(0)!==at?at+pe:pe}else de[K]=pe;break;case"username":case"password":de[K]=encodeURIComponent(pe);break;case"auth":var ce=pe.indexOf(":");~ce?(de.username=pe.slice(0,ce),de.username=encodeURIComponent(decodeURIComponent(de.username)),de.password=pe.slice(ce+1),de.password=encodeURIComponent(decodeURIComponent(de.password))):de.username=encodeURIComponent(decodeURIComponent(pe))}for(var Ce=0;Ce<Y.length;Ce++){var Ie=Y[Ce];Ie[4]&&(de[Ie[1]]=de[Ie[1]].toLowerCase())}return de.auth=de.password?de.username+":"+de.password:de.username,de.origin="file:"!==de.protocol&&$(de.protocol)&&de.host?de.protocol+"//"+de.host:"null",de.href=de.toString(),de},toString:function W(K){(!K||"function"!=typeof K)&&(K=c.stringify);var pe,Fe=this,de=Fe.host,at=Fe.protocol;at&&":"!==at.charAt(at.length-1)&&(at+=":");var ce=at+(Fe.protocol&&Fe.slashes||$(Fe.protocol)?"//":"");return Fe.username?(ce+=Fe.username,Fe.password&&(ce+=":"+Fe.password),ce+="@"):Fe.password?(ce+=":"+Fe.password,ce+="@"):"file:"!==Fe.protocol&&$(Fe.protocol)&&!de&&"/"!==Fe.pathname&&(ce+="@"),(":"===de[de.length-1]||J.test(Fe.hostname)&&!Fe.port)&&(de+=":"),ce+=de+Fe.pathname,(pe="object"==typeof Fe.query?K(Fe.query):Fe.query)&&(ce+="?"!==pe.charAt(0)?"?"+pe:pe),Fe.hash&&(ce+=Fe.hash),ce}},Le.extractProtocol=j,Le.location=B,Le.trimLeft=ue,Le.qs=c,Be.exports=Le},2086:(Be,ze,x)=>{"use strict";var I=x(4764),c=x(1046),oe=x(6180),te=x(6434),G=x(3);Be.exports=function(L){return null==L||"object"!=typeof L&&"function"!=typeof L?null:I(L)?"String":c(L)?"Number":oe(L)?"Boolean":te(L)?"Symbol":G(L)?"BigInt":void 0}},5709:(Be,ze,x)=>{"use strict";var I=x(3037),c=x(5271),oe=x(4263),te=x(253),G=oe("Object.prototype.toString"),J=x(3261)(),L=typeof globalThis>"u"?global:globalThis,V=c(),ue=oe("String.prototype.slice"),Y={},se=Object.getPrototypeOf;J&&te&&se&&I(V,function(j){if("function"==typeof L[j]){var Pe=new L[j];if(Symbol.toStringTag in Pe){var Le=se(Pe),me=te(Le,Symbol.toStringTag);if(!me){var W=se(Le);me=te(W,Symbol.toStringTag)}Y[j]=me.get}}});var $=x(7673);Be.exports=function(Pe){return!!$(Pe)&&(J&&Symbol.toStringTag in Pe?function(Pe){var Le=!1;return I(Y,function(me,W){if(!Le)try{var K=me.call(Pe);K===W&&(Le=K)}catch{}}),Le}(Pe):ue(G(Pe),8,-1))}},863:(Be,ze,x)=>{var I={"./ion-accordion_2.entry.js":[79,8592,79],"./ion-action-sheet.entry.js":[5593,8592,5593],"./ion-alert.entry.js":[3225,8592,3225],"./ion-app_8.entry.js":[4812,8592,4017],"./ion-avatar_3.entry.js":[6655,6655],"./ion-back-button.entry.js":[4856,8592,4856],"./ion-backdrop.entry.js":[3059,3059],"./ion-breadcrumb_2.entry.js":[8648,8592,8648],"./ion-button_2.entry.js":[8308,8308],"./ion-card_5.entry.js":[4690,4690],"./ion-checkbox.entry.js":[4090,4090],"./ion-chip.entry.js":[6214,6214],"./ion-col_3.entry.js":[9447,9447],"./ion-datetime-button.entry.js":[7950,5523,7950],"./ion-datetime_3.entry.js":[9689,5523,8592,9689],"./ion-fab_3.entry.js":[8840,8592,8840],"./ion-img.entry.js":[749,749],"./ion-infinite-scroll_2.entry.js":[9667,8592,9544],"./ion-input.entry.js":[3288,8592,3288],"./ion-item-option_3.entry.js":[5473,8592,6108],"./ion-item_8.entry.js":[3634,8592,3634],"./ion-loading.entry.js":[2855,8592,2855],"./ion-menu_3.entry.js":[495,8592,495],"./ion-modal.entry.js":[8737,8592,8737],"./ion-nav_2.entry.js":[9632,8592,9632],"./ion-picker-column-internal.entry.js":[4446,8592,4446],"./ion-picker-internal.entry.js":[2275,2275],"./ion-popover.entry.js":[8050,8592,8050],"./ion-progress-bar.entry.js":[8994,8994],"./ion-radio_2.entry.js":[3592,3592],"./ion-range.entry.js":[5454,8592,5454],"./ion-refresher_2.entry.js":[290,8592,4210],"./ion-reorder_2.entry.js":[2666,8592,8718],"./ion-ripple-effect.entry.js":[4816,4816],"./ion-route_4.entry.js":[5534,5534],"./ion-searchbar.entry.js":[4902,8592,4902],"./ion-segment_2.entry.js":[1938,8592,1938],"./ion-select_3.entry.js":[8179,8179],"./ion-slide_2.entry.js":[668,668],"./ion-spinner.entry.js":[1624,8592,1624],"./ion-split-pane.entry.js":[9989,9989],"./ion-tab-bar_2.entry.js":[8902,8592,8902],"./ion-tab_2.entry.js":[199,8592,199],"./ion-text.entry.js":[8395,8395],"./ion-textarea.entry.js":[6357,6357],"./ion-toast.entry.js":[8268,8592,8268],"./ion-toggle.entry.js":[5269,8592,5269],"./ion-virtual-scroll.entry.js":[2875,2875]};function c(oe){if(!x.o(I,oe))return Promise.resolve().then(()=>{var J=new Error("Cannot find module '"+oe+"'");throw J.code="MODULE_NOT_FOUND",J});var te=I[oe],G=te[0];return Promise.all(te.slice(1).map(x.e)).then(()=>x(G))}c.keys=()=>Object.keys(I),c.id=863,Be.exports=c},4654:()=>{},5271:Be=>{"use strict";var ze=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],x=typeof globalThis>"u"?global:globalThis;Be.exports=function(){for(var c=[],oe=0;oe<ze.length;oe++)"function"==typeof x[ze[oe]]&&(c[c.length]=ze[oe]);return c}},2069:(Be,ze,x)=>{"use strict";var I=x(9102),c=x(8519);if(x(524)()||x(6858)()){var oe=Symbol.iterator;Be.exports=function(Ie){return null!=Ie&&typeof Ie[oe]<"u"?Ie[oe]():I(Ie)?Array.prototype[oe].call(Ie):void 0}}else{var te=x(8266),G=x(4764),J=x(9903),L=J("%Map%",!0),V=J("%Set%",!0),ue=x(4263),Y=ue("Array.prototype.push"),se=ue("String.prototype.charCodeAt"),B=ue("String.prototype.slice"),j=function(Ie){var Xe=0;return{next:function(){var re,Te=Xe>=Ie.length;return Te||(re=Ie[Xe],Xe+=1),{done:Te,value:re}}}},Pe=function(Ie,Xe){if(te(Ie)||I(Ie))return j(Ie);if(G(Ie)){var $e=0;return{next:function(){var re=function(Ie,Xe){if(Xe+1>=Ie.length)return Xe+1;var Te=se(Ie,Xe);if(Te<55296||Te>56319)return Xe+1;var re=se(Ie,Xe+1);return re<56320||re>57343?Xe+1:Xe+2}(Ie,$e),Ue=B(Ie,$e,re);return $e=re,{done:re>Ie.length,value:Ue}}}}return Xe&&typeof Ie["_es6-shim iterator_"]<"u"?Ie["_es6-shim iterator_"]():void 0};if(L||V){var Le=x(9898),me=x(3870),W=ue("Map.prototype.forEach",!0),K=ue("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var pe=ue("Map.prototype.iterator",!0),Fe=ue("Set.prototype.iterator",!0);var de=ue("Map.prototype.@@iterator",!0)||ue("Map.prototype._es6-shim iterator_",!0),at=ue("Set.prototype.@@iterator",!0)||ue("Set.prototype._es6-shim iterator_",!0);Be.exports=function(Ie){return function(Ie){if(Le(Ie)){if(pe)return c(pe(Ie));if(de)return de(Ie);if(W){var Xe=[];return W(Ie,function(Te,re){Y(Xe,[re,Te])}),j(Xe)}}if(me(Ie)){if(Fe)return c(Fe(Ie));if(at)return at(Ie);if(K){var $e=[];return K(Ie,function(Te){Y($e,Te)}),j($e)}}}(Ie)||Pe(Ie)}}else Be.exports=function(Ie){if(null!=Ie)return Pe(Ie,!0)}}},2107:(Be,ze,x)=>{"use strict";var I=x(9898),c=x(3870),oe=x(5585),te=x(1902);Be.exports=function(J){if(J&&"object"==typeof J){if(I(J))return"Map";if(c(J))return"Set";if(oe(J))return"WeakMap";if(te(J))return"WeakSet"}return!1}},3918:(Be,ze,x)=>{"use strict";function I(oe,te,G,J,L,V,ue){try{var Y=oe[V](ue),se=Y.value}catch(B){return void G(B)}Y.done?te(se):Promise.resolve(se).then(J,L)}function c(oe){return function(){var te=this,G=arguments;return new Promise(function(J,L){var V=oe.apply(te,G);function ue(se){I(V,J,L,ue,Y,"next",se)}function Y(se){I(V,J,L,ue,Y,"throw",se)}ue(void 0)})}}x.d(ze,{Z:()=>c})}},Be=>{Be(Be.s=6467)}]);
//# sourceMappingURL=main.4fe1024f7e9fde34.js.map