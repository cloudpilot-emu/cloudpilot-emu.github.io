(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{7267:(ue,xe,S)=>{"use strict";let M=null,Z=1;function d(e){const t=M;return M=e,t}function R(e){if((!ke(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Z)){if(!e.producerMustRecompute(e)&&!N(e))return e.dirty=!1,void(e.lastCleanEpoch=Z);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Z}}function N(e){Le(e);for(let t=0;t<e.producerNode.length;t++){const r=e.producerNode[t],n=e.producerLastReadVersion[t];if(n!==r.version||(R(r),n!==r.version))return!0}return!1}function ie(e,t){if(function P(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Le(e),1===e.liveConsumerNode.length)for(let n=0;n<e.producerNode.length;n++)ie(e.producerNode[n],e.producerIndexOfThis[n]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const n=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];Le(o),o.producerIndexOfThis[n]=t}}function ke(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Le(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let G=null;function Pe(e){return"function"==typeof e}function Me(e){const r=e(n=>{Error.call(n),n.stack=(new Error).stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}const Oe=Me(e=>function(r){e(this),this.message=r?`${r.length} errors occurred during unsubscription:\n${r.map((n,o)=>`${o+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=r});function ze(e,t){if(e){const r=e.indexOf(t);0<=r&&e.splice(r,1)}}class at{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(const i of r)i.remove(this);else r.remove(this);const{initialTeardown:n}=this;if(Pe(n))try{n()}catch(i){t=i instanceof Oe?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{Zt(i)}catch(s){t=t??[],s instanceof Oe?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Oe(t)}}add(t){var r;if(t&&t!==this)if(this.closed)Zt(t);else{if(t instanceof at){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}}_hasParent(t){const{_parentage:r}=this;return r===t||Array.isArray(r)&&r.includes(t)}_addParent(t){const{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t}_removeParent(t){const{_parentage:r}=this;r===t?this._parentage=null:Array.isArray(r)&&ze(r,t)}remove(t){const{_finalizers:r}=this;r&&ze(r,t),t instanceof at&&t._removeParent(this)}}at.EMPTY=(()=>{const e=new at;return e.closed=!0,e})();const kt=at.EMPTY;function rn(e){return e instanceof at||e&&"closed"in e&&Pe(e.remove)&&Pe(e.add)&&Pe(e.unsubscribe)}function Zt(e){Pe(e)?e():e.unsubscribe()}const Ft={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},sn={setTimeout(e,t,...r){const{delegate:n}=sn;return n?.setTimeout?n.setTimeout(e,t,...r):setTimeout(e,t,...r)},clearTimeout(e){const{delegate:t}=sn;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function nr(e){sn.setTimeout(()=>{const{onUnhandledError:t}=Ft;if(!t)throw e;t(e)})}function xn(){}const vo=Cr("C",void 0,void 0);function Cr(e,t,r){return{kind:e,value:t,error:r}}let lr=null;function eo(e){if(Ft.useDeprecatedSynchronousErrorHandling){const t=!lr;if(t&&(lr={errorThrown:!1,error:null}),e(),t){const{errorThrown:r,error:n}=lr;if(lr=null,r)throw n}}else e()}class Xr extends at{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,rn(t)&&t.add(this)):this.destination=zt}static create(t,r,n){return new we(t,r,n)}next(t){this.isStopped?bn(function Io(e){return Cr("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?bn(function lo(e){return Cr("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?bn(vo,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ti=Function.prototype.bind;function to(e,t){return ti.call(e,t)}class Ae{constructor(t){this.partialObserver=t}next(t){const{partialObserver:r}=this;if(r.next)try{r.next(t)}catch(n){Kt(n)}}error(t){const{partialObserver:r}=this;if(r.error)try{r.error(t)}catch(n){Kt(n)}else Kt(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(r){Kt(r)}}}class we extends Xr{constructor(t,r,n){let o;if(super(),Pe(t)||!t)o={next:t??void 0,error:r??void 0,complete:n??void 0};else{let i;this&&Ft.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&to(t.next,i),error:t.error&&to(t.error,i),complete:t.complete&&to(t.complete,i)}):o=t}this.destination=new Ae(o)}}function Kt(e){Ft.useDeprecatedSynchronousErrorHandling?function xo(e){Ft.useDeprecatedSynchronousErrorHandling&&lr&&(lr.errorThrown=!0,lr.error=e)}(e):nr(e)}function bn(e,t){const{onStoppedNotification:r}=Ft;r&&sn.setTimeout(()=>r(e,t))}const zt={closed:!0,next:xn,error:function en(e){throw e},complete:xn},Cn="function"==typeof Symbol&&Symbol.observable||"@@observable";function Kn(e){return e}function Yn(e){return 0===e.length?Kn:1===e.length?e[0]:function(r){return e.reduce((n,o)=>o(n),r)}}let on=(()=>{class e{constructor(r){r&&(this._subscribe=r)}lift(r){const n=new e;return n.source=this,n.operator=r,n}subscribe(r,n,o){const i=function qi(e){return e&&e instanceof Xr||function Lr(e){return e&&Pe(e.next)&&Pe(e.error)&&Pe(e.complete)}(e)&&rn(e)}(r)?r:new we(r,n,o);return eo(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(r){try{return this._subscribe(r)}catch(n){r.error(n)}}forEach(r,n){return new(n=yo(n))((o,i)=>{const s=new we({next:a=>{try{r(a)}catch(l){i(l),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(r){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(r)}[Cn](){return this}pipe(...r){return Yn(r)(this)}toPromise(r){return new(r=yo(r))((n,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>n(i))})}}return e.create=t=>new e(t),e})();function yo(e){var t;return null!==(t=e??Ft.Promise)&&void 0!==t?t:Promise}const Uo=Me(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let En=(()=>{class e extends on{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){const n=new pr(this,this);return n.operator=r,n}_throwIfClosed(){if(this.closed)throw new Uo}next(r){eo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(r)}})}error(r){eo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;const{observers:n}=this;for(;n.length;)n.shift().error(r)}})}complete(){eo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return(null===(r=this.observers)||void 0===r?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){const{hasError:n,isStopped:o,observers:i}=this;return n||o?kt:(this.currentObservers=null,i.push(r),new at(()=>{this.currentObservers=null,ze(i,r)}))}_checkFinalizedStatuses(r){const{hasError:n,thrownError:o,isStopped:i}=this;n?r.error(o):i&&r.complete()}asObservable(){const r=new on;return r.source=this,r}}return e.create=(t,r)=>new pr(t,r),e})();class pr extends En{constructor(t,r){super(),this.destination=t,this.source=r}next(t){var r,n;null===(n=null===(r=this.destination)||void 0===r?void 0:r.next)||void 0===n||n.call(r,t)}error(t){var r,n;null===(n=null===(r=this.destination)||void 0===r?void 0:r.error)||void 0===n||n.call(r,t)}complete(){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===r||r.call(t)}_subscribe(t){var r,n;return null!==(n=null===(r=this.source)||void 0===r?void 0:r.subscribe(t))&&void 0!==n?n:kt}}function Sr(e){return Pe(e?.lift)}function gn(e){return t=>{if(Sr(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Dn(e,t,r,n,o){return new mi(e,t,r,n,o)}class mi extends Xr{constructor(t,r,n,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=r?function(a){try{r(a)}catch(l){t.error(l)}}:super._next,this._error=o?function(a){try{o(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:r}=this;super.unsubscribe(),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Jt(e,t){return gn((r,n)=>{let o=0;r.subscribe(Dn(n,i=>{n.next(e.call(t,i,o++))}))})}function re(e,t,r,n){var s,o=arguments.length,i=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,r,i):s(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i}function Ao(e){return this instanceof Ao?(this.v=e,this):new Ao(e)}function an(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function ni(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(s){return new Promise(function(a,l){!function o(i,s,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},s)}(a,l,(s=e[i](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const _s=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function g(e){return Pe(e?.then)}function y(e){return Pe(e[Cn])}function W(e){return Symbol.asyncIterator&&Pe(e?.[Symbol.asyncIterator])}function ae(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const de=function Fe(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ke(e){return Pe(e?.[de])}function ge(e){return function di(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,n=r.apply(e,t||[]),i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(m){n[m]&&(o[m]=function(C){return new Promise(function(U,J){i.push([m,C,U,J])>1||a(m,C)})})}function a(m,C){try{!function l(m){m.value instanceof Ao?Promise.resolve(m.value.v).then(c,f):p(i[0][2],m)}(n[m](C))}catch(U){p(i[0][3],U)}}function c(m){a("next",m)}function f(m){a("throw",m)}function p(m,C){m(C),i.shift(),i.length&&a(i[0][0],i[0][1])}}(this,arguments,function*(){const r=e.getReader();try{for(;;){const{value:n,done:o}=yield Ao(r.read());if(o)return yield Ao(void 0);yield yield Ao(n)}}finally{r.releaseLock()}})}function et(e){return Pe(e?.getReader)}function Ge(e){if(e instanceof on)return e;if(null!=e){if(y(e))return function ut(e){return new on(t=>{const r=e[Cn]();if(Pe(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(_s(e))return function bt(e){return new on(t=>{for(let r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}(e);if(g(e))return function Ct(e){return new on(t=>{e.then(r=>{t.closed||(t.next(r),t.complete())},r=>t.error(r)).then(null,nr)})}(e);if(W(e))return hr(e);if(Ke(e))return function fn(e){return new on(t=>{for(const r of e)if(t.next(r),t.closed)return;t.complete()})}(e);if(et(e))return function kr(e){return hr(ge(e))}(e)}throw ae(e)}function hr(e){return new on(t=>{(function se(e,t){var r,n,o,i;return function _i(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(f){try{c(n.next(f))}catch(p){s(p)}}function l(f){try{c(n.throw(f))}catch(p){s(p)}}function c(f){f.done?i(f.value):function o(i){return i instanceof r?i:new r(function(s){s(i)})}(f.value).then(a,l)}c((n=n.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(r=an(e);!(n=yield r.next()).done;)if(t.next(n.value),t.closed)return}catch(s){o={error:s}}finally{try{n&&!n.done&&(i=r.return)&&(yield i.call(r))}finally{if(o)throw o.error}}t.complete()})})(e,t).catch(r=>t.error(r))})}function Wn(e,t,r,n=0,o=!1){const i=t.schedule(function(){r(),o?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(i),!o)return i}function Pn(e,t,r=1/0){return Pe(t)?Pn((n,o)=>Jt((i,s)=>t(n,i,o,s))(Ge(e(n,o))),r):("number"==typeof t&&(r=t),gn((n,o)=>function vs(e,t,r,n,o,i,s,a){const l=[];let c=0,f=0,p=!1;const m=()=>{p&&!l.length&&!c&&t.complete()},C=J=>c<n?U(J):l.push(J),U=J=>{i&&t.next(J),c++;let _e=!1;Ge(r(J,f++)).subscribe(Dn(t,De=>{o?.(De),i?C(De):t.next(De)},()=>{_e=!0},void 0,()=>{if(_e)try{for(c--;l.length&&c<n;){const De=l.shift();s?Wn(t,s,()=>U(De)):U(De)}m()}catch(De){t.error(De)}}))};return e.subscribe(Dn(t,C,()=>{p=!0,m()})),()=>{a?.()}}(n,o,e,r)))}function ko(e=1/0){return Pn(Kn,e)}const Ro=new on(e=>e.complete());function aa(e){return e&&Pe(e.schedule)}function Gs(e){return e[e.length-1]}function la(e){return Pe(Gs(e))?e.pop():void 0}function Ji(e){return aa(Gs(e))?e.pop():void 0}function ca(e,t=0){return gn((r,n)=>{r.subscribe(Dn(n,o=>Wn(n,e,()=>n.next(o),t),()=>Wn(n,e,()=>n.complete(),t),o=>Wn(n,e,()=>n.error(o),t)))})}function ua(e,t=0){return gn((r,n)=>{n.add(e.schedule(()=>r.subscribe(n),t))})}function da(e,t){if(!e)throw new Error("Iterable cannot be null");return new on(r=>{Wn(r,t,()=>{const n=e[Symbol.asyncIterator]();Wn(r,t,()=>{n.next().then(o=>{o.done?r.complete():r.next(o.value)})},0,!0)})})}function mr(e,t){return t?function Ha(e,t){if(null!=e){if(y(e))return function Ba(e,t){return Ge(e).pipe(ua(t),ca(t))}(e,t);if(_s(e))return function ja(e,t){return new on(r=>{let n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})})}(e,t);if(g(e))return function Va(e,t){return Ge(e).pipe(ua(t),ca(t))}(e,t);if(W(e))return da(e,t);if(Ke(e))return function Ga(e,t){return new on(r=>{let n;return Wn(r,t,()=>{n=e[de](),Wn(r,t,()=>{let o,i;try{({value:o,done:i}=n.next())}catch(s){return void r.error(s)}i?r.complete():r.next(o)},0,!0)}),()=>Pe(n?.return)&&n.return()})}(e,t);if(et(e))return function Ua(e,t){return da(ge(e),t)}(e,t)}throw ae(e)}(e,t):Ge(e)}function fa(...e){const t=Ji(e),r=function $a(e,t){return"number"==typeof Gs(e)?e.pop():t}(e,1/0),n=e;return n.length?1===n.length?Ge(n[0]):ko(r)(mr(n,t)):Ro}class ro extends En{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const r=super._subscribe(t);return!r.closed&&t.next(this._value),r}getValue(){const{hasError:t,thrownError:r,_value:n}=this;if(t)throw r;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}}function Lt(...e){return mr(e,Ji(e))}function pa(e={}){const{connector:t=(()=>new En),resetOnError:r=!0,resetOnComplete:n=!0,resetOnRefCountZero:o=!0}=e;return i=>{let s,a,l,c=0,f=!1,p=!1;const m=()=>{a?.unsubscribe(),a=void 0},C=()=>{m(),s=l=void 0,f=p=!1},U=()=>{const J=s;C(),J?.unsubscribe()};return gn((J,_e)=>{c++,!p&&!f&&m();const De=l=l??t();_e.add(()=>{c--,0===c&&!p&&!f&&(a=Us(U,o))}),De.subscribe(_e),!s&&c>0&&(s=new we({next:Re=>De.next(Re),error:Re=>{p=!0,m(),a=Us(C,r,Re),De.error(Re)},complete:()=>{f=!0,m(),a=Us(C,n),De.complete()}}),Ge(J).subscribe(s))})(i)}}function Us(e,t,...r){if(!0===t)return void e();if(!1===t)return;const n=new we({next:()=>{n.unsubscribe(),e()}});return Ge(t(...r)).subscribe(n)}function zr(e,t){return gn((r,n)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&n.complete();r.subscribe(Dn(n,l=>{o?.unsubscribe();let c=0;const f=i++;Ge(e(l,f)).subscribe(o=Dn(n,p=>n.next(t?t(l,p,f,c++):p),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Hs(e,t=Kn){return e=e??za,gn((r,n)=>{let o,i=!0;r.subscribe(Dn(n,s=>{const a=t(s);(i||!e(o,a))&&(i=!1,o=a,n.next(s))}))})}function za(e,t){return e===t}function Mn(e){for(let t in e)if(e[t]===Mn)return t;throw Error("Could not find renamed property on target object.")}function bs(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function gr(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(gr).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function zs(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Wa=Mn({__forward_ref__:Mn});function On(e){return e.__forward_ref__=On,e.toString=function(){return gr(this())},e}function Bt(e){return Cs(e)?e():e}function Cs(e){return"function"==typeof e&&e.hasOwnProperty(Wa)&&e.__forward_ref__===On}function Ws(e){return e&&!!e.\u0275providers}const ha="https://g.co/ng/security#xss";class Je extends Error{constructor(t,r){super(function Mi(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,r)),this.code=t}}const es=Mn({\u0275cmp:Mn}),Zs=Mn({\u0275dir:Mn}),qs=Mn({\u0275pipe:Mn}),ma=Mn({\u0275mod:Mn}),ri=Mn({\u0275fac:Mn}),ts=Mn({__NG_ELEMENT_ID__:Mn}),ga=Mn({__NG_ENV_ID__:Mn});function Ut(e){return"string"==typeof e?e:null==e?"":String(e)}function Ys(e,t){throw new Je(-201,!1)}function pn(e,t){null==e&&function vt(e,t,r,n){throw new Error(`ASSERTION ERROR: ${e}`+(null==n?"":` [Expected=> ${r} ${n} ${t} <=Actual]`))}(t,e,null,"!=")}function E(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function We(e){return{providers:e.providers||[],imports:e.imports||[]}}function mt(e){return Sn(e,Zn)||Sn(e,Qn)}function Sn(e,t){return e.hasOwnProperty(t)?e[t]:null}function At(e){return e&&(e.hasOwnProperty(Dr)||e.hasOwnProperty(xt))?e[Dr]:null}const Zn=Mn({\u0275prov:Mn}),Dr=Mn({\u0275inj:Mn}),Qn=Mn({ngInjectableDef:Mn}),xt=Mn({ngInjectorDef:Mn});var Pt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Pt||{});let jn;function Ir(){return jn}function ln(e){const t=jn;return jn=e,t}function Fn(e,t,r){const n=mt(e);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:r&Pt.Optional?null:void 0!==t?t:void Ys(gr(e))}const A=globalThis;class Be{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=E({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const qa={},dc="__NG_DI_FLAG__",Xc="ngTempTokenPath",Fh=/\n/gm,bf="__source";let xl;function ya(e){const t=xl;return xl=e,t}function Bh(e,t=Pt.Default){if(void 0===xl)throw new Je(-203,!1);return null===xl?Fn(e,void 0,t):xl.get(e,t&Pt.Optional?null:void 0,t)}function le(e,t=Pt.Default){return(Ir()||Bh)(Bt(e),t)}function ot(e,t=Pt.Default){return le(e,Qc(t))}function Qc(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function ju(e){const t=[];for(let r=0;r<e.length;r++){const n=Bt(e[r]);if(Array.isArray(n)){if(0===n.length)throw new Je(900,!1);let o,i=Pt.Default;for(let s=0;s<n.length;s++){const a=n[s],l=Vh(a);"number"==typeof l?-1===l?o=a.token:i|=l:o=a}t.push(le(o,i))}else t.push(le(n))}return t}function fc(e,t){return e[dc]=t,e.prototype[dc]=t,e}function Vh(e){return e[dc]}function Xs(e){return{toString:e}.toString()}var Jc=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Jc||{}),ns=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(ns||{});const ws={},Gn=[];function Sf(e,t,r){let n=e.length;for(;;){const o=e.indexOf(t,r);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const i=t.length;if(o+i===n||e.charCodeAt(o+i)<=32)return o}r=o+1}}function Gu(e,t,r){let n=0;for(;n<r.length;){const o=r[n];if("number"==typeof o){if(0!==o)break;n++;const i=r[n++],s=r[n++],a=r[n++];e.setAttribute(t,s,a,i)}else{const i=o,s=r[++n];Ef(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),n++}}return n}function wf(e){return 3===e||4===e||6===e}function Ef(e){return 64===e.charCodeAt(0)}function pc(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let n=0;n<t.length;n++){const o=t[n];"number"==typeof o?r=o:0===r||Df(e,r,o,null,-1===r||2===r?t[++n]:null)}}return e}function Df(e,t,r,n,o){let i=0,s=e.length;if(-1===t)s=-1;else for(;i<e.length;){const a=e[i++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=i-1;break}}}for(;i<e.length;){const a=e[i];if("number"==typeof a)break;if(a===r){if(null===n)return void(null!==o&&(e[i+1]=o));if(n===e[i+1])return void(e[i+2]=o)}i++,null!==n&&i++,null!==o&&i++}-1!==s&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,r),null!==n&&e.splice(i++,0,n),null!==o&&e.splice(i++,0,o)}const If="ng-template";function Uh(e,t,r){let n=0,o=!0;for(;n<e.length;){let i=e[n++];if("string"==typeof i&&o){const s=e[n++];if(r&&"class"===i&&-1!==Sf(s.toLowerCase(),t,0))return!0}else{if(1===i){for(;n<e.length&&"string"==typeof(i=e[n++]);)if(i.toLowerCase()===t)return!0;return!1}"number"==typeof i&&(o=!1)}}return!1}function xf(e){return 4===e.type&&e.value!==If}function Hh(e,t,r){return t===(4!==e.type||r?e.value:If)}function zh(e,t,r){let n=4;const o=e.attrs||[],i=function qh(e){for(let t=0;t<e.length;t++)if(wf(e[t]))return t;return e.length}(o);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&n){if(n=2|1&n,""!==l&&!Hh(e,l,r)||""===l&&1===t.length){if(rs(n))return!1;s=!0}}else{const c=8&n?l:t[++a];if(8&n&&null!==e.attrs){if(!Uh(e.attrs,c,r)){if(rs(n))return!1;s=!0}continue}const p=Wh(8&n?"class":l,o,xf(e),r);if(-1===p){if(rs(n))return!1;s=!0;continue}if(""!==c){let m;m=p>i?"":o[p+1].toLowerCase();const C=8&n?m:null;if(C&&-1!==Sf(C,c,0)||2&n&&c!==m){if(rs(n))return!1;s=!0}}}}else{if(!s&&!rs(n)&&!rs(l))return!1;if(s&&rs(l))continue;s=!1,n=l|1&n}}return rs(n)||s}function rs(e){return 0==(1&e)}function Wh(e,t,r,n){if(null===t)return-1;let o=0;if(n||!r){let i=!1;for(;o<t.length;){const s=t[o];if(s===e)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=t[++o];for(;"string"==typeof a;)a=t[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function Kh(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const n=e[r];if("number"==typeof n)return-1;if(n===t)return r;r++}return-1}(t,e)}function Tf(e,t,r=!1){for(let n=0;n<t.length;n++)if(zh(e,t[n],r))return!0;return!1}function Yh(e,t){e:for(let r=0;r<t.length;r++){const n=t[r];if(e.length===n.length){for(let o=0;o<e.length;o++)if(e[o]!==n[o])continue e;return!0}}return!1}function Mf(e,t){return e?":not("+t.trim()+")":t}function Xh(e){let t=e[0],r=1,n=2,o="",i=!1;for(;r<e.length;){let s=e[r];if("string"==typeof s)if(2&n){const a=e[++r];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&n?o+="."+s:4&n&&(o+=" "+s);else""!==o&&!rs(s)&&(t+=Mf(i,o),o=""),n=s,i=i||!rs(n);r++}return""!==o&&(t+=Mf(i,o)),t}function Ye(e){return Xs(()=>{const t=kf(e),r={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Jc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||ns.Emulated,styles:e.styles||Gn,_:null,schemas:e.schemas||null,tView:null,id:""};Rf(r);const n=e.dependencies;return r.directiveDefs=eu(n,!1),r.pipeDefs=eu(n,!0),r.id=function rm(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of r)t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(r),r})}function em(e){return vn(e)||uo(e)}function tm(e){return null!==e}function Wr(e){return Xs(()=>({type:e.type,bootstrap:e.bootstrap||Gn,declarations:e.declarations||Gn,imports:e.imports||Gn,exports:e.exports||Gn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Af(e,t){if(null==e)return ws;const r={};for(const n in e)if(e.hasOwnProperty(n)){let o=e[n],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),r[o]=n,t&&(t[o]=i)}return r}function Mt(e){return Xs(()=>{const t=kf(e);return Rf(t),t})}function bo(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function vn(e){return e[es]||null}function uo(e){return e[Zs]||null}function Po(e){return e[qs]||null}function Zo(e,t){const r=e[ma]||null;if(!r&&!0===t)throw new Error(`Type ${gr(e)} does not have '\u0275mod' property.`);return r}function kf(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||ws,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Gn,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Af(e.inputs,t),outputs:Af(e.outputs),debugInfo:null}}function Rf(e){e.features?.forEach(t=>t(e))}function eu(e,t){if(!e)return null;const r=t?Po:em;return()=>("function"==typeof e?e():e).map(n=>r(n)).filter(tm)}const Zr=0,ct=1,jt=2,Or=3,os=4,qo=5,is=6,Tl=7,yr=8,oi=9,Ml=10,Yt=11,hc=12,Pf=13,Al=14,$r=15,mc=16,kl=17,ss=18,gc=19,om=20,Es=21,Uu=22,Rl=23,Xt=25,Hu=1,Oo=7,_c=9,io=10;var vc=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e[e.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",e}(vc||{});function Ko(e){return Array.isArray(e)&&"object"==typeof e[Hu]}function No(e){return Array.isArray(e)&&!0===e[Hu]}function tn(e){return 0!=(4&e.flags)}function qr(e){return e.componentOffset>-1}function Un(e){return 1==(1&e.flags)}function Ne(e){return!!e.template}function Br(e){return 0!=(512&e[jt])}function Qs(e,t){return e.hasOwnProperty(ri)?e[ri]:null}class tu{constructor(t,r,n){this.previousValue=t,this.currentValue=r,this.firstChange=n}isFirstChange(){return this.firstChange}}function Yo(){return im}function im(e){return e.type.prototype.ngOnChanges&&(e.setInput=fv),sm}function sm(){const e=FS(this),t=e?.current;if(t){const r=e.previous;if(r===ws)e.previous=t;else for(let n in t)r[n]=t[n];e.current=null,this.ngOnChanges(t)}}function fv(e,t,r,n){const o=this.declaredInputs[r],i=FS(e)||function JP(e,t){return e[am]=t}(e,{previous:ws,current:null}),s=i.current||(i.current={}),a=i.previous,l=a[o];s[o]=new tu(l&&l.currentValue,t,a===ws),e[n]=t}Yo.ngInherit=!0;const am="__ngSimpleChanges__";function FS(e){return e[am]||null}const Ka=function(e,t,r){};function Vr(e){for(;Array.isArray(e);)e=e[Zr];return e}function Nf(e,t){return Vr(t[e])}function Ri(e,t){return Vr(t[e.index])}function Ff(e,t){return e.data[t]}function zu(e,t){return e[t]}function Ds(e,t){const r=t[e];return Ko(r)?r:r[Zr]}function mv(e){return 128==(128&e[jt])}function Ya(e,t){return null==t?null:e[t]}function BS(e){e[kl]=0}function oO(e){1024&e[jt]||(e[jt]|=1024,mv(e)&&lm(e))}function jS(e){return 9216&e[jt]||e[Rl]?.dirty}function GS(e){jS(e)&&lm(e)}function lm(e){let t=e[Or];for(;null!==t&&!(No(t)&&t[jt]&vc.HasChildViewsToRefresh||Ko(t)&&8192&t[jt]);){if(No(t))t[jt]|=vc.HasChildViewsToRefresh;else if(t[jt]|=8192,!mv(t))break;t=t[Or]}}function cm(e,t){if(256==(256&e[jt]))throw new Je(911,!1);null===e[Es]&&(e[Es]=[]),e[Es].push(t)}const Qt={lFrame:QS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function HS(){return Qt.bindingsEnabled}function Wu(){return null!==Qt.skipHydrationRootTNode}function qe(){return Qt.lFrame.lView}function Hn(){return Qt.lFrame.tView}function St(e){return Qt.lFrame.contextLView=e,e[yr]}function wt(e){return Qt.lFrame.contextLView=null,e}function Tr(){let e=zS();for(;null!==e&&64===e.type;)e=e.parent;return e}function zS(){return Qt.lFrame.currentTNode}function Xa(e,t){const r=Qt.lFrame;r.currentTNode=e,r.isParent=t}function _v(){return Qt.lFrame.isParent}function vv(){Qt.lFrame.isParent=!1}function Pi(){const e=Qt.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Ol(){return Qt.lFrame.bindingIndex}function Qa(){return Qt.lFrame.bindingIndex++}function Nl(e){const t=Qt.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function mO(e,t){const r=Qt.lFrame;r.bindingIndex=r.bindingRootIndex=e,yv(t)}function yv(e){Qt.lFrame.currentDirectiveIndex=e}function KS(){return Qt.lFrame.currentQueryIndex}function Cv(e){Qt.lFrame.currentQueryIndex=e}function _O(e){const t=e[ct];return 2===t.type?t.declTNode:1===t.type?e[qo]:null}function YS(e,t,r){if(r&Pt.SkipSelf){let o=t,i=e;for(;!(o=o.parent,null!==o||r&Pt.Host||(o=_O(i),null===o||(i=i[Al],10&o.type))););if(null===o)return!1;t=o,e=i}const n=Qt.lFrame=XS();return n.currentTNode=t,n.lView=e,!0}function Sv(e){const t=XS(),r=e[ct];Qt.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function XS(){const e=Qt.lFrame,t=null===e?null:e.child;return null===t?QS(e):t}function QS(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function JS(){const e=Qt.lFrame;return Qt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const ew=JS;function wv(){const e=JS();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function wi(){return Qt.lFrame.selectedIndex}function nu(e){Qt.lFrame.selectedIndex=e}function Yr(){const e=Qt.lFrame;return Ff(e.tView,e.selectedIndex)}let nw=!0;function um(){return nw}function yc(e){nw=e}function dm(e,t){for(let r=t.directiveStart,n=t.directiveEnd;r<n;r++){const i=e.data[r].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:f}=i;s&&(e.contentHooks??=[]).push(-r,s),a&&((e.contentHooks??=[]).push(r,a),(e.contentCheckHooks??=[]).push(r,a)),l&&(e.viewHooks??=[]).push(-r,l),c&&((e.viewHooks??=[]).push(r,c),(e.viewCheckHooks??=[]).push(r,c)),null!=f&&(e.destroyHooks??=[]).push(r,f)}}function fm(e,t,r){rw(e,t,3,r)}function pm(e,t,r,n){(3&e[jt])===r&&rw(e,t,r,n)}function Ev(e,t){let r=e[jt];(3&r)===t&&(r&=16383,r+=1,e[jt]=r)}function rw(e,t,r,n){const i=n??-1,s=t.length-1;let a=0;for(let l=void 0!==n?65535&e[kl]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=n&&a>=n)break}else t[l]<0&&(e[kl]+=65536),(a<i||-1==i)&&(EO(e,r,t,l),e[kl]=(4294901760&e[kl])+l+2),l++}function ow(e,t){Ka(4,e,t);const r=d(null);try{t.call(e)}finally{d(r),Ka(5,e,t)}}function EO(e,t,r,n){const o=r[n]<0,i=r[n+1],a=e[o?-r[n]:r[n]];o?e[jt]>>14<e[kl]>>16&&(3&e[jt])===t&&(e[jt]+=16384,ow(a,i)):ow(a,i)}const Zu=-1;class $f{constructor(t,r,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=n}}function Iv(e){return e!==Zu}function Bf(e){return 32767&e}function Vf(e,t){let r=function MO(e){return e>>16}(e),n=t;for(;r>0;)n=n[Al],r--;return n}let xv=!0;function hm(e){const t=xv;return xv=e,t}const iw=255,sw=5;let AO=0;const Ja={};function mm(e,t){const r=aw(e,t);if(-1!==r)return r;const n=t[ct];n.firstCreatePass&&(e.injectorIndex=t.length,Tv(n.data,e),Tv(t,null),Tv(n.blueprint,null));const o=gm(e,t),i=e.injectorIndex;if(Iv(o)){const s=Bf(o),a=Vf(o,t),l=a[ct].data;for(let c=0;c<8;c++)t[i+c]=a[s+c]|l[s+c]}return t[i+8]=o,i}function Tv(e,t){e.push(0,0,0,0,0,0,0,0,t)}function aw(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function gm(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,n=null,o=t;for(;null!==o;){if(n=hw(o),null===n)return Zu;if(r++,o=o[Al],-1!==n.injectorIndex)return n.injectorIndex|r<<16}return Zu}function Mv(e,t,r){!function kO(e,t,r){let n;"string"==typeof r?n=r.charCodeAt(0)||0:r.hasOwnProperty(ts)&&(n=r[ts]),null==n&&(n=r[ts]=AO++);const o=n&iw;t.data[e+(o>>sw)]|=1<<o}(e,t,r)}function lw(e,t,r){if(r&Pt.Optional||void 0!==e)return e;Ys()}function cw(e,t,r,n){if(r&Pt.Optional&&void 0===n&&(n=null),!(r&(Pt.Self|Pt.Host))){const o=e[oi],i=ln(void 0);try{return o?o.get(t,n,r&Pt.Optional):Fn(t,n,r&Pt.Optional)}finally{ln(i)}}return lw(n,0,r)}function uw(e,t,r,n=Pt.Default,o){if(null!==e){if(2048&t[jt]&&!(n&Pt.Self)){const s=function FO(e,t,r,n,o){let i=e,s=t;for(;null!==i&&null!==s&&2048&s[jt]&&!(512&s[jt]);){const a=dw(i,s,r,n|Pt.Self,Ja);if(a!==Ja)return a;let l=i.parent;if(!l){const c=s[om];if(c){const f=c.get(r,Ja,n);if(f!==Ja)return f}l=hw(s),s=s[Al]}i=l}return o}(e,t,r,n,Ja);if(s!==Ja)return s}const i=dw(e,t,r,n,Ja);if(i!==Ja)return i}return cw(t,r,n,o)}function dw(e,t,r,n,o){const i=function OO(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(ts)?e[ts]:void 0;return"number"==typeof t?t>=0?t&iw:NO:t}(r);if("function"==typeof i){if(!YS(t,e,n))return n&Pt.Host?lw(o,0,n):cw(t,r,n,o);try{let s;if(s=i(n),null!=s||n&Pt.Optional)return s;Ys()}finally{ew()}}else if("number"==typeof i){let s=null,a=aw(e,t),l=Zu,c=n&Pt.Host?t[$r][qo]:null;for((-1===a||n&Pt.SkipSelf)&&(l=-1===a?gm(e,t):t[a+8],l!==Zu&&pw(n,!1)?(s=t[ct],a=Bf(l),t=Vf(l,t)):a=-1);-1!==a;){const f=t[ct];if(fw(i,a,f.data)){const p=PO(a,t,r,s,n,c);if(p!==Ja)return p}l=t[a+8],l!==Zu&&pw(n,t[ct].data[a+8]===c)&&fw(i,a,t)?(s=f,a=Bf(l),t=Vf(l,t)):a=-1}}return o}function PO(e,t,r,n,o,i){const s=t[ct],a=s.data[e+8],f=_m(a,s,r,null==n?qr(a)&&xv:n!=s&&0!=(3&a.type),o&Pt.Host&&i===a);return null!==f?ru(t,s,f,a):Ja}function _m(e,t,r,n,o){const i=e.providerIndexes,s=t.data,a=1048575&i,l=e.directiveStart,f=i>>20,m=o?a+f:e.directiveEnd;for(let C=n?a:a+f;C<m;C++){const U=s[C];if(C<l&&r===U||C>=l&&U.type===r)return C}if(o){const C=s[l];if(C&&Ne(C)&&C.type===r)return l}return null}function ru(e,t,r,n){let o=e[r];const i=t.data;if(function DO(e){return e instanceof $f}(o)){const s=o;s.resolving&&function Dl(e,t){const r=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Je(-200,`Circular dependency in DI detected for ${e}${r}`)}(function In(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Ut(e)}(i[r]));const a=hm(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?ln(s.injectImpl):null;YS(e,n,Pt.Default);try{o=e[r]=s.factory(void 0,i,e,n),t.firstCreatePass&&r>=n.directiveStart&&function wO(e,t,r){const{ngOnChanges:n,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(n){const s=im(t);(r.preOrderHooks??=[]).push(e,s),(r.preOrderCheckHooks??=[]).push(e,s)}o&&(r.preOrderHooks??=[]).push(0-e,o),i&&((r.preOrderHooks??=[]).push(e,i),(r.preOrderCheckHooks??=[]).push(e,i))}(r,i[r],t)}finally{null!==c&&ln(c),hm(a),s.resolving=!1,ew()}}return o}function fw(e,t,r){return!!(r[t+(e>>sw)]&1<<e)}function pw(e,t){return!(e&Pt.Self||e&Pt.Host&&t)}class Xo{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,n){return uw(this._tNode,this._lView,t,Qc(n),r)}}function NO(){return new Xo(Tr(),qe())}function jr(e){return Xs(()=>{const t=e.prototype.constructor,r=t[ri]||Av(t),n=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==n;){const i=o[ri]||Av(o);if(i&&i!==r)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Av(e){return Cs(e)?()=>{const t=Av(Bt(e));return t&&t()}:Qs(e)}function hw(e){const t=e[ct],r=t.type;return 2===r?t.declTNode:1===r?e[qo]:null}function bc(e){return function RO(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const n=r.length;let o=0;for(;o<n;){const i=r[o];if(wf(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<n&&"string"==typeof r[o];)o++;else{if(i===t)return r[o+1];o+=2}}}return null}(Tr(),e)}const Xu="__parameters__";function Ju(e,t,r){return Xs(()=>{const n=function kv(e){return function(...r){if(e){const n=e(...r);for(const o in n)this[o]=n[o]}}}(t);function o(...i){if(this instanceof o)return n.apply(this,i),this;const s=new o(...i);return a.annotation=s,a;function a(l,c,f){const p=l.hasOwnProperty(Xu)?l[Xu]:Object.defineProperty(l,Xu,{value:[]})[Xu];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(s),l}}return r&&(o.prototype=Object.create(r.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function td(e,t){e.forEach(r=>Array.isArray(r)?td(r,t):t(r))}function gw(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function vm(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Gf(e,t){const r=[];for(let n=0;n<e;n++)r.push(t);return r}function Is(e,t,r){let n=nd(e,t);return n>=0?e[1|n]=r:(n=~n,function _w(e,t,r,n){let o=e.length;if(o==t)e.push(r,n);else if(1===o)e.push(n,e[0]),e[0]=r;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=r,e[t+1]=n}}(e,n,t,r)),n}function Pv(e,t){const r=nd(e,t);if(r>=0)return e[1|r]}function nd(e,t){return function vw(e,t,r){let n=0,o=e.length>>r;for(;o!==n;){const i=n+(o-n>>1),s=e[i<<r];if(t===s)return i<<r;s>t?o=i:n=i+1}return~(o<<r)}(e,t,1)}const bm=fc(Ju("Optional"),8),Cm=fc(Ju("SkipSelf"),4),od=new Be("ENVIRONMENT_INITIALIZER"),Sw=new Be("INJECTOR",-1),Fv=new Be("INJECTOR_DEF_TYPES");class wm{get(t,r=qa){if(r===qa){const n=new Error(`NullInjectorError: No provider for ${gr(t)}!`);throw n.name="NullInjectorError",n}return r}}function o2(...e){return{\u0275providers:ww(0,e),\u0275fromNgModule:!0}}function ww(e,...t){const r=[],n=new Set;let o;const i=s=>{r.push(s)};return td(t,s=>{const a=s;Em(a,i,[],n)&&(o||=[],o.push(a))}),void 0!==o&&Ew(o,i),r}function Ew(e,t){for(let r=0;r<e.length;r++){const{ngModule:n,providers:o}=e[r];$v(o,i=>{t(i,n)})}}function Em(e,t,r,n){if(!(e=Bt(e)))return!1;let o=null,i=At(e);const s=!i&&vn(e);if(i||s){if(s&&!s.standalone)return!1;o=e}else{const l=e.ngModule;if(i=At(l),!i)return!1;o=l}const a=n.has(o);if(s){if(a)return!1;if(n.add(o),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)Em(c,t,r,n)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let c;n.add(o);try{td(i.imports,f=>{Em(f,t,r,n)&&(c||=[],c.push(f))})}finally{}void 0!==c&&Ew(c,t)}if(!a){const c=Qs(o)||(()=>new o);t({provide:o,useFactory:c,deps:Gn},o),t({provide:Fv,useValue:o,multi:!0},o),t({provide:od,useValue:()=>le(o),multi:!0},o)}const l=i.providers;if(null!=l&&!a){const c=e;$v(l,f=>{t(f,c)})}}}return o!==e&&void 0!==e.providers}function $v(e,t){for(let r of e)Ws(r)&&(r=r.\u0275providers),Array.isArray(r)?$v(r,t):t(r)}const i2=Mn({provide:String,useValue:Mn});function Bv(e){return null!==e&&"object"==typeof e&&i2 in e}function ou(e){return"function"==typeof e}const Vv=new Be("Set Injector scope."),Dm={},a2={};let jv;function Im(){return void 0===jv&&(jv=new wm),jv}class ii{}class id extends ii{get destroyed(){return this._destroyed}constructor(t,r,n,o){super(),this.parent=r,this.source=n,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Uv(t,s=>this.processProvider(s)),this.records.set(Sw,sd(void 0,this)),o.has("environment")&&this.records.set(ii,sd(void 0,this));const i=this.records.get(Vv);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Fv,Gn,Pt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const r=ya(this),n=ln(void 0);try{return t()}finally{ya(r),ln(n)}}get(t,r=qa,n=Pt.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(ga))return t[ga](this);n=Qc(n);const i=ya(this),s=ln(void 0);try{if(!(n&Pt.SkipSelf)){let l=this.records.get(t);if(void 0===l){const c=function f2(e){return"function"==typeof e||"object"==typeof e&&e instanceof Be}(t)&&mt(t);l=c&&this.injectableDefInScope(c)?sd(Gv(t),Dm):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(n&Pt.Self?Im():this.parent).get(t,r=n&Pt.Optional&&r===qa?null:r)}catch(a){if("NullInjectorError"===a.name){if((a[Xc]=a[Xc]||[]).unshift(gr(t)),i)throw a;return function jh(e,t,r,n){const o=e[Xc];throw t[bf]&&o.unshift(t[bf]),e.message=function Gh(e,t,r,n=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=gr(t);if(Array.isArray(t))o=t.map(gr).join(" -> ");else if("object"==typeof t){let i=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):gr(a)))}o=`{${i.join(", ")}}`}return`${r}${n?"("+n+")":""}[${o}]: ${e.replace(Fh,"\n  ")}`}("\n"+e.message,o,r,n),e.ngTokenPath=o,e[Xc]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{ln(s),ya(i)}}resolveInjectorInitializers(){const t=ya(this),r=ln(void 0);try{const o=this.get(od,Gn,Pt.Self);for(const i of o)i()}finally{ya(t),ln(r)}}toString(){const t=[],r=this.records;for(const n of r.keys())t.push(gr(n));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Je(205,!1)}processProvider(t){let r=ou(t=Bt(t))?t:Bt(t&&t.provide);const n=function c2(e){return Bv(e)?sd(void 0,e.useValue):sd(xw(e),Dm)}(t);if(ou(t)||!0!==t.multi)this.records.get(r);else{let o=this.records.get(r);o||(o=sd(void 0,Dm,!0),o.factory=()=>ju(o.multi),this.records.set(r,o)),r=t,o.multi.push(t)}this.records.set(r,n)}hydrate(t,r){return r.value===Dm&&(r.value=a2,r.value=r.factory()),"object"==typeof r.value&&r.value&&function d2(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}injectableDefInScope(t){if(!t.providedIn)return!1;const r=Bt(t.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){const r=this._onDestroyHooks.indexOf(t);-1!==r&&this._onDestroyHooks.splice(r,1)}}function Gv(e){const t=mt(e),r=null!==t?t.factory:Qs(e);if(null!==r)return r;if(e instanceof Be)throw new Je(204,!1);if(e instanceof Function)return function l2(e){const t=e.length;if(t>0)throw Gf(t,"?"),new Je(204,!1);const r=function hn(e){return e&&(e[Zn]||e[Qn])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new Je(204,!1)}function xw(e,t,r){let n;if(ou(e)){const o=Bt(e);return Qs(o)||Gv(o)}if(Bv(e))n=()=>Bt(e.useValue);else if(function Iw(e){return!(!e||!e.useFactory)}(e))n=()=>e.useFactory(...ju(e.deps||[]));else if(function Dw(e){return!(!e||!e.useExisting)}(e))n=()=>le(Bt(e.useExisting));else{const o=Bt(e&&(e.useClass||e.provide));if(!function u2(e){return!!e.deps}(e))return Qs(o)||Gv(o);n=()=>new o(...ju(e.deps))}return n}function sd(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function Uv(e,t){for(const r of e)Array.isArray(r)?Uv(r,t):r&&Ws(r)?Uv(r.\u0275providers,t):t(r)}function Cc(e,t){e instanceof id&&e.assertNotDestroyed();const n=ya(e),o=ln(void 0);try{return t()}finally{ya(n),ln(o)}}function kw(e,t=null,r=null,n){const o=Rw(e,t,r,n);return o.resolveInjectorInitializers(),o}function Rw(e,t=null,r=null,n,o=new Set){const i=[r||Gn,o2(e)];return n=n||("object"==typeof e?void 0:gr(e)),new id(i,t||Im(),n||null,o)}let Wv,Gr=(()=>{var e;class t{static create(n,o){if(Array.isArray(n))return kw({name:""},o,n,"");{const i=n.name??"";return kw({name:i},n.parent,n.providers,i)}}}return(e=t).THROW_IF_NOT_FOUND=qa,e.NULL=new wm,e.\u0275prov=E({token:e,providedIn:"any",factory:()=>le(Sw)}),e.__NG_ELEMENT_ID__=-1,t})();const Tm=new Be("AppId",{providedIn:"root",factory:()=>C2}),C2="ng",Ow=new Be("Platform Initializer"),Ec=new Be("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Nw=new Be("CSP nonce",{providedIn:"root",factory:()=>function wc(){if(void 0!==Wv)return Wv;if(typeof document<"u")return document;throw new Je(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function xs(e){return e instanceof Function?e():e}function Rm(e){return 128==(128&e.flags)}var xc=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(xc||{});const k2=/^>|^->|<!--|-->|--!>|<!-$/g,R2=/(<|>)/g,P2="\u200b$1\u200b";const Xv=new Map;let O2=0;const Jv="__ngContext__";function Ei(e,t){Ko(t)?(e[Jv]=t[gc],function F2(e){Xv.set(e[gc],e)}(t)):e[Jv]=t}let ey;function ty(e,t){return ey(e,t)}function qf(e){const t=e[Or];return No(t)?t[Or]:t}function Jw(e){return tE(e[hc])}function eE(e){return tE(e[os])}function tE(e){for(;null!==e&&!No(e);)e=e[os];return e}function ld(e,t,r,n,o){if(null!=n){let i,s=!1;No(n)?i=n:Ko(n)&&(s=!0,n=n[Zr]);const a=Vr(n);0===e&&null!==r?null==o?iE(t,r,a):iu(t,r,a,o||null,!0):1===e&&null!==r?iu(t,r,a,o||null,!0):2===e?function Bm(e,t,r){const n=Lm(e,t);n&&function tN(e,t,r,n){e.removeChild(t,r,n)}(e,n,t,r)}(t,a,s):3===e&&t.destroyNode(a),null!=i&&function oN(e,t,r,n,o){const i=r[Oo];i!==Vr(r)&&ld(t,e,n,i,o);for(let a=io;a<r.length;a++){const l=r[a];Xf(l[ct],l,e,t,n,i)}}(t,e,i,r,o)}}function ny(e,t){return e.createComment(function zw(e){return e.replace(k2,t=>t.replace(R2,P2))}(t))}function Nm(e,t,r){return e.createElement(t,r)}function rE(e,t){const r=e[_c],n=r.indexOf(t);r.splice(n,1)}function Kf(e,t){if(e.length<=io)return;const r=io+t,n=e[r];if(n){const o=n[mc];null!==o&&o!==e&&rE(o,n),t>0&&(e[r-1][os]=n[os]);const i=vm(e,io+t);!function Z2(e,t){Xf(e,t,t[Yt],2,null,null),t[Zr]=null,t[qo]=null}(n[ct],n);const s=i[ss];null!==s&&s.detachView(i[ct]),n[Or]=null,n[os]=null,n[jt]&=-129}return n}function Fm(e,t){if(!(256&t[jt])){const r=t[Yt];r.destroyNode&&Xf(e,t,r,3,null,null),function Y2(e){let t=e[hc];if(!t)return ry(e[ct],e);for(;t;){let r=null;if(Ko(t))r=t[hc];else{const n=t[io];n&&(r=n)}if(!r){for(;t&&!t[os]&&t!==e;)Ko(t)&&ry(t[ct],t),t=t[Or];null===t&&(t=e),Ko(t)&&ry(t[ct],t),r=t&&t[os]}t=r}}(t)}}function ry(e,t){if(!(256&t[jt])){t[jt]&=-129,t[jt]|=256,t[Rl]&&function oe(e){if(Le(e),ke(e))for(let t=0;t<e.producerNode.length;t++)ie(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}(t[Rl]),function eN(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let n=0;n<r.length;n+=2){const o=t[r[n]];if(!(o instanceof $f)){const i=r[n+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],l=i[s+1];Ka(4,a,l);try{l.call(a)}finally{Ka(5,a,l)}}else{Ka(4,o,i);try{i.call(o)}finally{Ka(5,o,i)}}}}}(e,t),function J2(e,t){const r=e.cleanup,n=t[Tl];if(null!==r)for(let i=0;i<r.length-1;i+=2)if("string"==typeof r[i]){const s=r[i+3];s>=0?n[s]():n[-s].unsubscribe(),i+=2}else r[i].call(n[r[i+1]]);null!==n&&(t[Tl]=null);const o=t[Es];if(null!==o){t[Es]=null;for(let i=0;i<o.length;i++)(0,o[i])()}}(e,t),1===t[ct].type&&t[Yt].destroy();const r=t[mc];if(null!==r&&No(t[Or])){r!==t[Or]&&rE(r,t);const n=t[ss];null!==n&&n.detachView(e)}!function L2(e){Xv.delete(e[gc])}(t)}}function oy(e,t,r){return function oE(e,t,r){let n=t;for(;null!==n&&40&n.type;)n=(t=n).parent;if(null===n)return r[Zr];{const{componentOffset:o}=n;if(o>-1){const{encapsulation:i}=e.data[n.directiveStart+o];if(i===ns.None||i===ns.Emulated)return null}return Ri(n,r)}}(e,t.parent,r)}function iu(e,t,r,n,o){e.insertBefore(t,r,n,o)}function iE(e,t,r){e.appendChild(t,r)}function sE(e,t,r,n,o){null!==n?iu(e,t,r,n,o):iE(e,t,r)}function Lm(e,t){return e.parentNode(t)}function aE(e,t,r){return cE(e,t,r)}let iy,Vm,cE=function lE(e,t,r){return 40&e.type?Ri(e,r):null};function $m(e,t,r,n){const o=oy(e,n,t),i=t[Yt],a=aE(n.parent||t[qo],n,t);if(null!=o)if(Array.isArray(r))for(let l=0;l<r.length;l++)sE(i,o,r[l],a,!1);else sE(i,o,r,a,!1);void 0!==iy&&iy(i,n,t,r,o)}function Yf(e,t){if(null!==t){const r=t.type;if(3&r)return Ri(t,e);if(4&r)return sy(-1,e[t.index]);if(8&r){const n=t.child;if(null!==n)return Yf(e,n);{const o=e[t.index];return No(o)?sy(-1,o):Vr(o)}}if(32&r)return ty(t,e)()||Vr(e[t.index]);{const n=dE(e,t);return null!==n?Array.isArray(n)?n[0]:Yf(qf(e[$r]),n):Yf(e,t.next)}}return null}function dE(e,t){return null!==t?e[$r][qo].projection[t.projection]:null}function sy(e,t){const r=io+e+1;if(r<t.length){const n=t[r],o=n[ct].firstChild;if(null!==o)return Yf(n,o)}return t[Oo]}function ay(e,t,r,n,o,i,s){for(;null!=r;){const a=n[r.index],l=r.type;if(s&&0===t&&(a&&Ei(Vr(a),n),r.flags|=2),32!=(32&r.flags))if(8&l)ay(e,t,r.child,n,o,i,!1),ld(t,e,o,a,i);else if(32&l){const c=ty(r,n);let f;for(;f=c();)ld(t,e,o,f,i);ld(t,e,o,a,i)}else 16&l?pE(e,t,n,r,o,i):ld(t,e,o,a,i);r=s?r.projectionNext:r.next}}function Xf(e,t,r,n,o,i){ay(r,n,e.firstChild,t,o,i,!1)}function pE(e,t,r,n,o,i){const s=r[$r],l=s[qo].projection[n.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)ld(t,e,o,l[c],i);else{let c=l;const f=s[Or];Rm(n)&&(c.flags|=128),ay(e,t,c,f,o,i,!0)}}function hE(e,t,r){""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}function mE(e,t,r){const{mergedAttrs:n,classes:o,styles:i}=r;null!==n&&Gu(e,t,n),null!==o&&hE(e,t,o),null!==i&&function sN(e,t,r){e.setAttribute(t,"style",r)}(e,t,i)}function cd(e){return function ly(){if(void 0===Vm&&(Vm=null,A.trustedTypes))try{Vm=A.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Vm}()?.createHTML(e)||e}class su{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ha})`}}class uN extends su{getTypeName(){return"HTML"}}class dN extends su{getTypeName(){return"Style"}}class fN extends su{getTypeName(){return"Script"}}class pN extends su{getTypeName(){return"URL"}}class hN extends su{getTypeName(){return"ResourceURL"}}function Ts(e){return e instanceof su?e.changingThisBreaksApplicationSecurity:e}function el(e,t){const r=function mN(e){return e instanceof su&&e.getTypeName()||null}(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see ${ha})`)}return r===t}class CN{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const r=(new window.DOMParser).parseFromString(cd(t),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(t):(r.removeChild(r.firstChild),r)}catch{return null}}}class SN{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const r=this.inertDocument.createElement("template");return r.innerHTML=cd(t),r}}const EN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Gm(e){return(e=String(e)).match(EN)?e:"unsafe:"+e}function Fl(e){const t={};for(const r of e.split(","))t[r]=!0;return t}function Qf(...e){const t={};for(const r of e)for(const n in r)r.hasOwnProperty(n)&&(t[n]=!0);return t}const bE=Fl("area,br,col,hr,img,wbr"),CE=Fl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),SE=Fl("rp,rt"),uy=Qf(bE,Qf(CE,Fl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Qf(SE,Fl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Qf(SE,CE)),dy=Fl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),wE=Qf(dy,Fl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Fl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),DN=Fl("script,style,template");class IN{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let r=t.firstChild,n=!0;for(;r;)if(r.nodeType===Node.ELEMENT_NODE?n=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,n&&r.firstChild)r=r.firstChild;else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let o=this.checkClobberedElement(r,r.nextSibling);if(o){r=o;break}r=this.checkClobberedElement(r,r.parentNode)}return this.buf.join("")}startElement(t){const r=t.nodeName.toLowerCase();if(!uy.hasOwnProperty(r))return this.sanitizedSomething=!0,!DN.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const n=t.attributes;for(let o=0;o<n.length;o++){const i=n.item(o),s=i.name,a=s.toLowerCase();if(!wE.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=i.value;dy[a]&&(l=Gm(l)),this.buf.push(" ",s,'="',EE(l),'"')}return this.buf.push(">"),!0}endElement(t){const r=t.nodeName.toLowerCase();uy.hasOwnProperty(r)&&!bE.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(t){this.buf.push(EE(t))}checkClobberedElement(t,r){if(r&&(t.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return r}}const xN=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,TN=/([^\#-~ |!])/g;function EE(e){return e.replace(/&/g,"&amp;").replace(xN,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(TN,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Um;function DE(e,t){let r=null;try{Um=Um||function yE(e){const t=new SN(e);return function wN(){try{return!!(new window.DOMParser).parseFromString(cd(""),"text/html")}catch{return!1}}()?new CN(t):t}(e);let n=t?String(t):"";r=Um.getInertBodyElement(n);let o=5,i=n;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,n=i,i=r.innerHTML,r=Um.getInertBodyElement(n)}while(n!==i);return cd((new IN).sanitizeChildren(fy(r)||r))}finally{if(r){const n=fy(r)||r;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function fy(e){return"content"in e&&function MN(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Ms=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Ms||{});let ME=(e,t,r)=>null;function by(e,t,r=!1){return ME(e,t,r)}class HN{}class RE{}class WN{resolveComponentFactory(t){throw function zN(e){const t=Error(`No component factory found for ${gr(e)}.`);return t.ngComponent=e,t}(t)}}let Km=(()=>{class t{}return t.NULL=new WN,t})();function ZN(){return fd(Tr(),qe())}function fd(e,t){return new nt(Ri(e,t))}let nt=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=ZN,t})();function qN(e){return e instanceof nt?e.nativeElement:e}class OE{}let Ll=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function KN(){const e=qe(),r=Ds(Tr().index,e);return(Ko(r)?r:e)[Yt]}(),t})(),YN=(()=>{var e;class t{}return(e=t).\u0275prov=E({token:e,providedIn:"root",factory:()=>null}),t})();class np{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const XN=new np("17.0.7"),wy={};function NE(e){const t=d(null);try{return e()}finally{d(t)}}function Ym(e){return!!function Ey(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}class FE{constructor(){}supports(t){return Ym(t)}create(t){return new nF(t)}}const tF=(e,t)=>t;class nF{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||tF}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,n=this._removalsHead,o=0,i=null;for(;r||n;){const s=!n||r&&r.currentIndex<$E(n,o,i)?r:n,a=$E(s,o,i),l=s.currentIndex;if(s===n)o--,n=n._nextRemoved;else if(r=r._next,null==s.previousIndex)o++;else{i||(i=[]);const c=a-o,f=l-o;if(c!=f){for(let m=0;m<c;m++){const C=m<i.length?i[m]:i[m]=0,U=C+m;f<=U&&U<c&&(i[m]=C+1)}i[s.previousIndex]=f-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!Ym(t))throw new Je(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,i,s,r=this._itHead,n=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)i=t[a],s=this._trackByFn(a,i),null!==r&&Object.is(r.trackById,s)?(n&&(r=this._verifyReinsertion(r,i,s,a)),Object.is(r.item,i)||this._addIdentityChange(r,i)):(r=this._mismatch(r,i,s,a),n=!0),r=r._next}else o=0,function eF(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Symbol.iterator]();let n;for(;!(n=r.next()).done;)t(n.value)}}(t,a=>{s=this._trackByFn(o,a),null!==r&&Object.is(r.trackById,s)?(n&&(r=this._verifyReinsertion(r,a,s,o)),Object.is(r.item,a)||this._addIdentityChange(r,a)):(r=this._mismatch(r,a,s,o),n=!0),r=r._next,o++}),this.length=o;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,n,o){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,i,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,o))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,i,o)):t=this._addAfter(new rF(r,n),i,o),t}_verifyReinsertion(t,r,n,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,i=t._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,r,n),this._addToMoves(t,n),t}_moveAfter(t,r,n){return this._unlink(t),this._insertAfter(t,r,n),this._addToMoves(t,n),t}_addAfter(t,r,n){return this._insertAfter(t,r,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,n){const o=null===r?this._itHead:r._next;return t._next=o,t._prev=r,null===o?this._itTail=t:o._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new LE),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,n=t._next;return null===r?this._itHead=n:r._next=n,null===n?this._itTail=r:n._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new LE),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class rF{constructor(t,r){this.item=t,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class oF{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===r||r<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const r=t._prevDup,n=t._nextDup;return null===r?this._head=n:r._nextDup=n,null===n?this._tail=r:n._prevDup=r,null===this._head}}class LE{constructor(){this.map=new Map}put(t){const r=t.trackById;let n=this.map.get(r);n||(n=new oF,this.map.set(r,n)),n.add(t)}get(t,r){const o=this.map.get(t);return o?o.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $E(e,t,r){const n=e.previousIndex;if(null===n)return n;let o=0;return r&&n<r.length&&(o=r[n]),n+t+o}function VE(){return new Xm([new FE])}let Xm=(()=>{var e;class t{constructor(n){this.factories=n}static create(n,o){if(null!=o){const i=o.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:o=>t.create(n,o||VE()),deps:[[t,new Cm,new bm]]}}find(n){const o=this.factories.find(i=>i.supports(n));if(null!=o)return o;throw new Je(901,!1)}}return(e=t).\u0275prov=E({token:e,providedIn:"root",factory:VE}),t})();function op(e,t,r,n,o=!1){for(;null!==r;){const i=t[r.index];null!==i&&n.push(Vr(i)),No(i)&&GE(i,n);const s=r.type;if(8&s)op(e,t,r.child,n);else if(32&s){const a=ty(r,t);let l;for(;l=a();)n.push(l)}else if(16&s){const a=dE(t,r);if(Array.isArray(a))n.push(...a);else{const l=qf(t[$r]);op(l[ct],l,a,n,!0)}}r=o?r.projectionNext:r.next}return n}function GE(e,t){for(let r=io;r<e.length;r++){const n=e[r],o=n[ct].firstChild;null!==o&&op(n[ct],n,o,t)}e[Oo]!==e[Zr]&&t.push(e[Oo])}let UE=[];const dF={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{lm(e.lView)},consumerOnSignalRead(){this.lView[Rl]=this}};function Dy(e){return e.ngOriginalError}class $l{constructor(){this._console=console}handleError(t){const r=this._findOriginalError(t);this._console.error("ERROR",t),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(t){let r=t&&Dy(t);for(;r&&Dy(r);)r=Dy(r);return r||null}}const zE=new Be("",{providedIn:"root",factory:()=>ot($l).handleError.bind(void 0)}),ZE=new Be("",{providedIn:"root",factory:()=>!1}),un={};function me(e){XE(Hn(),qe(),wi()+e,!1)}function XE(e,t,r,n){if(!n)if(3==(3&t[jt])){const i=e.preOrderCheckHooks;null!==i&&fm(t,i,r)}else{const i=e.preOrderHooks;null!==i&&pm(t,i,0,r)}nu(r)}function v(e,t=Pt.Default){const r=qe();return null===r?le(e,t):uw(Tr(),r,Bt(e),t)}function Jm(e,t,r,n,o,i,s,a,l,c,f){const p=t.blueprint.slice();return p[Zr]=o,p[jt]=140|n,(null!==c||e&&2048&e[jt])&&(p[jt]|=2048),BS(p),p[Or]=p[Al]=e,p[yr]=r,p[Ml]=s||e&&e[Ml],p[Yt]=a||e&&e[Yt],p[oi]=l||e&&e[oi]||null,p[qo]=i,p[gc]=function N2(){return O2++}(),p[is]=f,p[om]=c,p[$r]=2==t.type?e[$r]:p,p}function pd(e,t,r,n,o){let i=e.data[t];if(null===i)i=function Iy(e,t,r,n,o){const i=zS(),s=_v(),l=e.data[t]=function EF(e,t,r,n,o,i){let s=t?t.injectorIndex:-1,a=0;return Wu()&&(a|=128),{type:r,index:n,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,r,t,n,o);return null===e.firstChild&&(e.firstChild=l),null!==i&&(s?null==i.child&&null!==l.parent&&(i.child=l):null===i.next&&(i.next=l,l.prev=i)),l}(e,t,r,n,o),function hO(){return Qt.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=r,i.value=n,i.attrs=o;const s=function Lf(){const e=Qt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return Xa(i,!0),i}function ip(e,t,r,n){if(0===r)return-1;const o=t.length;for(let i=0;i<r;i++)t.push(n),e.blueprint.push(n),e.data.push(null);return o}function JE(e,t,r,n,o){const i=wi(),s=2&n;try{nu(-1),s&&t.length>Xt&&XE(e,t,Xt,!1),Ka(s?2:0,o),r(n,o)}finally{nu(i),Ka(s?3:1,o)}}function xy(e,t,r){if(tn(t)){const n=d(null);try{const i=t.directiveEnd;for(let s=t.directiveStart;s<i;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,r[s],s)}}finally{d(n)}}}function Ty(e,t,r){HS()&&(function kF(e,t,r,n){const o=r.directiveStart,i=r.directiveEnd;qr(r)&&function $F(e,t,r){const n=Ri(t,e),o=eD(r);let s=16;r.signals?s=4096:r.onPush&&(s=64);const a=eg(e,Jm(e,o,null,s,n,t,null,e[Ml].rendererFactory.createRenderer(n,r),null,null,null));e[t.index]=a}(t,r,e.data[o+r.componentOffset]),e.firstCreatePass||mm(r,t),Ei(n,t);const s=r.initialInputs;for(let a=o;a<i;a++){const l=e.data[a],c=ru(t,e,a,r);Ei(c,t),null!==s&&BF(0,a-o,c,l,0,s),Ne(l)&&(Ds(r.index,t)[yr]=ru(t,e,a,r))}}(e,t,r,Ri(r,t)),64==(64&r.flags)&&iD(e,t,r))}function My(e,t,r=Ri){const n=t.localNames;if(null!==n){let o=t.index+1;for(let i=0;i<n.length;i+=2){const s=n[i+1],a=-1===s?r(t,e):e[s];e[o++]=a}}}function eD(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Ay(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Ay(e,t,r,n,o,i,s,a,l,c,f){const p=Xt+n,m=p+o,C=function vF(e,t){const r=[];for(let n=0;n<t;n++)r.push(n<e?null:un);return r}(p,m),U="function"==typeof c?c():c;return C[ct]={type:e,blueprint:C,template:r,queries:null,viewQuery:a,declTNode:t,data:C.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:U,incompleteFirstPass:!1,ssrId:f}}let tD=e=>null;function nD(e,t,r,n){for(let o in e)if(e.hasOwnProperty(o)){r=null===r?{}:r;const i=e[o];null===n?rD(r,t,o,i):n.hasOwnProperty(o)&&rD(r,t,n[o],i)}return r}function rD(e,t,r,n){e.hasOwnProperty(r)?e[r].push(t,n):e[r]=[t,n]}function As(e,t,r,n,o,i,s,a){const l=Ri(t,r);let f,c=t.inputs;!a&&null!=c&&(f=c[n])?(Ny(e,r,f,n,o),qr(t)&&function xF(e,t){const r=Ds(t,e);16&r[jt]||(r[jt]|=64)}(r,t.index)):3&t.type&&(n=function IF(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n),o=null!=s?s(o,t.value||"",n):o,i.setProperty(l,n,o))}function ky(e,t,r,n){if(HS()){const o=null===n?null:{"":-1},i=function PF(e,t){const r=e.directiveRegistry;let n=null,o=null;if(r)for(let i=0;i<r.length;i++){const s=r[i];if(Tf(t,s.selectors,!1))if(n||(n=[]),Ne(s))if(null!==s.findHostDirectiveDefs){const a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),n.unshift(...a,s),Ry(e,t,a.length)}else n.unshift(s),Ry(e,t,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,n,o),n.push(s)}return null===n?null:[n,o]}(e,r);let s,a;null===i?s=a=null:[s,a]=i,null!==s&&oD(e,t,r,s,o,a),o&&function OF(e,t,r){if(t){const n=e.localNames=[];for(let o=0;o<t.length;o+=2){const i=r[t[o+1]];if(null==i)throw new Je(-301,!1);n.push(t[o],i)}}}(r,n,o)}r.mergedAttrs=pc(r.mergedAttrs,r.attrs)}function oD(e,t,r,n,o,i){for(let c=0;c<n.length;c++)Mv(mm(r,t),e,n[c].type);!function FF(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}(r,e.data.length,n.length);for(let c=0;c<n.length;c++){const f=n[c];f.providersResolver&&f.providersResolver(f)}let s=!1,a=!1,l=ip(e,t,n.length,null);for(let c=0;c<n.length;c++){const f=n[c];r.mergedAttrs=pc(r.mergedAttrs,f.hostAttrs),LF(e,r,t,l,f),NF(l,f,o),null!==f.contentQueries&&(r.flags|=4),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(r.flags|=64);const p=f.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),a=!0),l++}!function DF(e,t,r){const o=t.directiveEnd,i=e.data,s=t.attrs,a=[];let l=null,c=null;for(let f=t.directiveStart;f<o;f++){const p=i[f],m=r?r.get(p):null,U=m?m.outputs:null;l=nD(p.inputs,f,l,m?m.inputs:null),c=nD(p.outputs,f,c,U);const J=null===l||null===s||xf(t)?null:VF(l,f,s);a.push(J)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(e,r,i)}function iD(e,t,r){const n=r.directiveStart,o=r.directiveEnd,i=r.index,s=function gO(){return Qt.lFrame.currentDirectiveIndex}();try{nu(i);for(let a=n;a<o;a++){const l=e.data[a],c=t[a];yv(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&RF(l,c)}}finally{nu(-1),yv(s)}}function RF(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Ry(e,t,r){t.componentOffset=r,(e.components??=[]).push(t.index)}function NF(e,t,r){if(r){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)r[t.exportAs[n]]=e;Ne(t)&&(r[""]=e)}}function LF(e,t,r,n,o){e.data[n]=o;const i=o.factory||(o.factory=Qs(o.type)),s=new $f(i,Ne(o),v);e.blueprint[n]=s,r[n]=s,function MF(e,t,r,n,o){const i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function AF(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(s)!=a&&s.push(a),s.push(r,n,i)}}(e,t,n,ip(e,r,o.hostVars,un),o)}function tl(e,t,r,n,o,i){const s=Ri(e,t);!function Py(e,t,r,n,o,i,s){if(null==i)e.removeAttribute(t,o,r);else{const a=null==s?Ut(i):s(i,n||"",o);e.setAttribute(t,o,a,r)}}(t[Yt],s,i,e.value,r,n,o)}function BF(e,t,r,n,o,i){const s=i[t];if(null!==s)for(let a=0;a<s.length;)sD(n,r,s[a++],s[a++],s[a++])}function sD(e,t,r,n,o){const i=d(null);try{const s=e.inputTransforms;null!==s&&s.hasOwnProperty(n)&&(o=s[n].call(t,o)),null!==e.setInput?e.setInput(t,o,r,n):t[n]=o}finally{d(i)}}function VF(e,t,r){let n=null,o=0;for(;o<r.length;){const i=r[o];if(0!==i)if(5!==i){if("number"==typeof i)break;if(e.hasOwnProperty(i)){null===n&&(n=[]);const s=e[i];for(let a=0;a<s.length;a+=2)if(s[a]===t){n.push(i,s[a+1],r[o+1]);break}}o+=2}else o+=2;else o+=4}return n}function aD(e,t,r,n){return[e,!0,0,t,null,n,null,r,null,null]}function lD(e,t){const r=e.contentQueries;if(null!==r){const n=d(null);try{for(let o=0;o<r.length;o+=2){const s=r[o+1];if(-1!==s){const a=e.data[s];Cv(r[o]),a.contentQueries(2,t[s],s)}}}finally{d(n)}}}function eg(e,t){return e[hc]?e[Pf][os]=t:e[hc]=t,e[Pf]=t,t}function Oy(e,t,r){Cv(0);const n=d(null);try{t(e,r)}finally{d(n)}}function cD(e){return e[Tl]||(e[Tl]=[])}function uD(e){return e.cleanup||(e.cleanup=[])}function tg(e,t){const r=e[oi],n=r?r.get($l,null):null;n&&n.handleError(t)}function Ny(e,t,r,n,o){for(let i=0;i<r.length;){const s=r[i++],a=r[i++];sD(e.data[s],t[s],n,a,o)}}function Bl(e,t,r){const n=Nf(t,e);!function nE(e,t,r){e.setValue(t,r)}(e[Yt],n,r)}function UF(e,t,r,n){const o=t[jt];if(256==(256&o))return;t[Ml].inlineEffectRunner?.flush(),Sv(t);let s=null,a=null;(function HF(e){return 2!==e.type})(e)&&(a=function lF(e){return e[Rl]??function cF(e){const t=UE.pop()??Object.create(dF);return t.lView=e,t}(e)}(t),s=function K(e){return e&&(e.nextProducerIndex=0),d(e)}(a));try{BS(t),function ZS(e){return Qt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&JE(e,t,r,2,n);const l=3==(3&o);if(l){const p=e.preOrderCheckHooks;null!==p&&fm(t,p,null)}else{const p=e.preOrderHooks;null!==p&&pm(t,p,0,null),Ev(t,0)}if(function zF(e){for(let t=Jw(e);null!==t;t=eE(t)){if(!(t[jt]&vc.HasTransplantedViews))continue;const r=t[_c];for(let n=0;n<r.length;n++){oO(r[n])}}}(t),fD(t,0),null!==e.contentQueries&&lD(e,t),l){const p=e.contentCheckHooks;null!==p&&fm(t,p)}else{const p=e.contentHooks;null!==p&&pm(t,p,1),Ev(t,1)}!function _F(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let n=0;n<r.length;n++){const o=r[n];if(o<0)nu(~o);else{const i=o,s=r[++n],a=r[++n];mO(s,i),a(2,t[i])}}}finally{nu(-1)}}(e,t);const c=e.components;null!==c&&hD(t,c,0);const f=e.viewQuery;if(null!==f&&Oy(2,f,n),l){const p=e.viewCheckHooks;null!==p&&fm(t,p)}else{const p=e.viewHooks;null!==p&&pm(t,p,2),Ev(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Uu]){for(const p of t[Uu])p();t[Uu]=null}t[jt]&=-73}catch(l){throw lm(t),l}finally{null!==a&&(function q(e,t){if(d(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(ke(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)ie(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(a,s),function uF(e){e.lView[Rl]!==e&&(e.lView=null,UE.push(e))}(a)),wv()}}function fD(e,t){for(let r=Jw(e);null!==r;r=eE(r)){r[jt]&=~vc.HasChildViewsToRefresh;for(let n=io;n<r.length;n++)pD(r[n],t)}}function WF(e,t,r){pD(Ds(t,e),r)}function pD(e,t){mv(e)&&Ly(e,t)}function Ly(e,t){const n=e[ct],o=e[jt],i=e[Rl];let s=!!(0===t&&16&o);if(s||=!!(64&o&&0===t),s||=!!(1024&o),s||=!(!i?.dirty||!N(i)),i&&(i.dirty=!1),e[jt]&=-9217,s)UF(n,e,n.template,e[yr]);else if(8192&o){fD(e,1);const a=n.components;null!==a&&hD(e,a,1)}}function hD(e,t,r){for(let n=0;n<t.length;n++)WF(e,t[n],r)}function sp(e){for(;e;){e[jt]|=64;const t=qf(e);if(Br(e)&&!t)return e;e=t}return null}class ap{get rootNodes(){const t=this._lView,r=t[ct];return op(r,t,r.firstChild,[])}constructor(t,r,n=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[yr]}set context(t){this._lView[yr]=t}get destroyed(){return 256==(256&this._lView[jt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Or];if(No(t)){const r=t[8],n=r?r.indexOf(this):-1;n>-1&&(Kf(t,n),vm(r,n))}this._attachedToViewContainer=!1}Fm(this._lView[ct],this._lView)}onDestroy(t){cm(this._lView,t)}markForCheck(){sp(this._cdRefInjectingView||this._lView)}detach(){this._lView[jt]&=-129}reattach(){GS(this._lView),this._lView[jt]|=128}detectChanges(){this._lView[jt]|=1024,function Fy(e,t=!0){const r=e[Ml],n=r.rendererFactory,o=r.afterRenderEventManager;n.begin?.(),o?.begin();try{!function GF(e){Ly(e,0);let t=0;for(;jS(e);){if(100===t)throw new Je(103,!1);t++,Ly(e,1)}}(e)}catch(s){throw t&&tg(e,s),s}finally{n.end?.(),r.inlineEffectRunner?.flush(),o?.end()}}(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Je(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function K2(e,t){Xf(e,t,t[Yt],2,null,null)}(this._lView[ct],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Je(902,!1);this._appRef=t}}let lt=(()=>{class t{}return t.__NG_ELEMENT_ID__=ZF,t})();function ZF(e){return function qF(e,t,r){if(qr(e)&&!r){const n=Ds(e.index,t);return new ap(n,n)}return 47&e.type?new ap(t[$r],t):null}(Tr(),qe(),16==(16&e))}let ng=(()=>{var e;class t{}return(e=t).__NG_ELEMENT_ID__=QF,e.__NG_ENV_ID__=r=>r,t})();class XF extends ng{constructor(t){super(),this._lView=t}onDestroy(t){return cm(this._lView,t),()=>function gv(e,t){if(null===e[Es])return;const r=e[Es].indexOf(t);-1!==r&&e[Es].splice(r,1)}(this._lView,t)}}function QF(){return new XF(qe())}const mD=new Set;function au(e){mD.has(e)||(mD.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function $y(e){return t=>{setTimeout(e,void 0,t)}}const qt=class iL extends En{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,r,n){let o=t,i=r||(()=>null),s=n;if(t&&"object"==typeof t){const l=t;o=l.next?.bind(l),i=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(i=$y(i),o&&(o=$y(o)),s&&(s=$y(s)));const a=super.subscribe({next:o,error:i,complete:s});return t instanceof at&&t.add(a),a}};function gD(...e){}class Ze{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qt(!1),this.onMicrotaskEmpty=new qt(!1),this.onStable=new qt(!1),this.onError=new qt(!1),typeof Zone>"u")throw new Je(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!n&&r,o.shouldCoalesceRunChangeDetection=n,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function sL(){const e="function"==typeof A.requestAnimationFrame;let t=A[e?"requestAnimationFrame":"setTimeout"],r=A[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&r){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function cL(e){const t=()=>{!function lL(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(A,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Vy(e),e.isCheckStableRunning=!0,By(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Vy(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,n,o,i,s,a)=>{if(function dL(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return r.invokeTask(o,i,s,a);try{return _D(e),r.invokeTask(o,i,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||e.shouldCoalesceRunChangeDetection)&&t(),vD(e)}},onInvoke:(r,n,o,i,s,a,l)=>{try{return _D(e),r.invoke(o,i,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),vD(e)}},onHasTask:(r,n,o,i)=>{r.hasTask(o,i),n===o&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,Vy(e),By(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(r,n,o,i)=>(r.handleError(o,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ze.isInAngularZone())throw new Je(909,!1)}static assertNotInAngularZone(){if(Ze.isInAngularZone())throw new Je(909,!1)}run(t,r,n){return this._inner.run(t,r,n)}runTask(t,r,n,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,aL,gD,gD);try{return i.runTask(s,r,n)}finally{i.cancelTask(s)}}runGuarded(t,r,n){return this._inner.runGuarded(t,r,n)}runOutsideAngular(t){return this._outer.run(t)}}const aL={};function By(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Vy(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function _D(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function vD(e){e._nesting--,By(e)}class uL{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qt,this.onMicrotaskEmpty=new qt,this.onStable=new qt,this.onError=new qt}run(t,r,n){return t.apply(r,n)}runGuarded(t,r,n){return t.apply(r,n)}runOutsideAngular(t){return t()}runTask(t,r,n,o){return t.apply(r,n)}}const yD=new Be("",{providedIn:"root",factory:bD});function bD(){const e=ot(Ze);let t=!0;return fa(new on(o=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{o.next(t),o.complete()})}),new on(o=>{let i;e.runOutsideAngular(()=>{i=e.onStable.subscribe(()=>{Ze.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,o.next(!0))})})});const s=e.onUnstable.subscribe(()=>{Ze.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{o.next(!1)}))});return()=>{i.unsubscribe(),s.unsubscribe()}}).pipe(pa()))}var lu=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(lu||{});const CD={destroy(){}};function wD(e,t){!t&&function Hv(e){if(!Ir()&&!function $h(){return xl}())throw new Je(-203,!1)}();const r=t?.injector??ot(Gr);if(!function Dc(e){return"browser"===(e??ot(Gr)).get(Ec)}(r))return CD;au("NgAfterNextRender");const n=r.get(rg),o=n.handler??=new DD,i=t?.phase??lu.MixedReadWrite,s=()=>{o.unregister(l),a()},a=r.get(ng).onDestroy(s),l=new ED(r,i,()=>{s(),e()});return o.register(l),{destroy:s}}class ED{constructor(t,r,n){this.phase=r,this.callbackFn=n,this.zone=t.get(Ze),this.errorHandler=t.get($l,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(t){this.errorHandler?.handleError(t)}}}class DD{constructor(){this.executingCallbacks=!1,this.buckets={[lu.EarlyRead]:new Set,[lu.Write]:new Set,[lu.MixedReadWrite]:new Set,[lu.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new Je(102,!1)}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(const t of Object.values(this.buckets))for(const r of t)r.invoke();this.executingCallbacks=!1;for(const t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(const t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}}let rg=(()=>{var e;class t{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth){for(const n of this.internalCallbacks)n();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(e=t).\u0275prov=E({token:e,providedIn:"root",factory:()=>new e}),t})();function hL(e,t){const r=Ds(t,e),n=r[ct];!function mL(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}(n,r);const o=r[Zr];null!==o&&null===r[is]&&(r[is]=by(o,r[oi])),jy(n,r,r[yr])}function jy(e,t,r){Sv(t);try{const n=e.viewQuery;null!==n&&Oy(1,n,r);const o=e.template;null!==o&&JE(e,t,o,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&lD(e,t),e.staticViewQueries&&Oy(2,e.viewQuery,r);const i=e.components;null!==i&&function gL(e,t){for(let r=0;r<t.length;r++)hL(e,t[r])}(t,i)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),n}finally{t[jt]&=-5,wv()}}function og(e,t,r){let n=r?e.styles:null,o=r?e.classes:null,i=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?i=a:1==i?o=zs(o,a):2==i&&(n=zs(n,a+": "+t[++s]+";"))}r?e.styles=n:e.stylesWithoutHost=n,r?e.classes=o:e.classesWithoutHost=o}class ID extends Km{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=vn(t);return new lp(r,this.ngModule)}}function xD(e){const t=[];for(let r in e)e.hasOwnProperty(r)&&t.push({propName:e[r],templateName:r});return t}class vL{constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,n){n=Qc(n);const o=this.injector.get(t,wy,n);return o!==wy||r===wy?o:this.parentInjector.get(t,r,n)}}class lp extends RE{get inputs(){const t=this.componentDef,r=t.inputTransforms,n=xD(t.inputs);if(null!==r)for(const o of n)r.hasOwnProperty(o.propName)&&(o.transform=r[o.propName]);return n}get outputs(){return xD(this.componentDef.outputs)}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function Qh(e){return e.map(Xh).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}create(t,r,n,o){let i=(o=o||this.ngModule)instanceof ii?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const s=i?new vL(t,i):t,a=s.get(OE,null);if(null===a)throw new Je(407,!1);const f={rendererFactory:a,sanitizer:s.get(YN,null),inlineEffectRunner:null,afterRenderEventManager:s.get(rg,null)},p=a.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",C=n?function yF(e,t,r,n){const i=n.get(ZE,!1)||r===ns.ShadowDom,s=e.selectRootElement(t,i);return function bF(e){tD(e)}(s),s}(p,n,this.componentDef.encapsulation,s):Nm(p,m,function _L(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(m)),_e=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let De=null;null!==C&&(De=by(C,s,!0));const Re=Ay(0,null,null,1,0,null,null,null,null,null,null),ht=Jm(null,Re,null,_e,null,null,f,p,s,null,De);let pt,Gt;Sv(ht);try{const Et=this.componentDef;let tr,Do=null;Et.findHostDirectiveDefs?(tr=[],Do=new Map,Et.findHostDirectiveDefs(Et,tr,Do),tr.push(Et)):tr=[Et];const Fa=function bL(e,t){const r=e[ct],n=Xt;return e[n]=t,pd(r,n,2,"#host",null)}(ht,C),Cl=function CL(e,t,r,n,o,i,s){const a=o[ct];!function SL(e,t,r,n){for(const o of e)t.mergedAttrs=pc(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(og(t,t.mergedAttrs,!0),null!==r&&mE(n,r,t))}(n,e,t,s);let l=null;null!==t&&(l=by(t,o[oi]));const c=i.rendererFactory.createRenderer(t,r);let f=16;r.signals?f=4096:r.onPush&&(f=64);const p=Jm(o,eD(r),null,f,o[e.index],e,i,c,null,null,l);return a.firstCreatePass&&Ry(a,e,n.length-1),eg(o,p),o[e.index]=p}(Fa,C,Et,tr,ht,f,p);Gt=Ff(Re,Xt),C&&function EL(e,t,r,n){if(n)Gu(e,r,["ng-version",XN.full]);else{const{attrs:o,classes:i}=function Jh(e){const t=[],r=[];let n=1,o=2;for(;n<e.length;){let i=e[n];if("string"==typeof i)2===o?""!==i&&t.push(i,e[++n]):8===o&&r.push(i);else{if(!rs(o))break;o=i}n++}return{attrs:t,classes:r}}(t.selectors[0]);o&&Gu(e,r,o),i&&i.length>0&&hE(e,r,i.join(" "))}}(p,Et,C,n),void 0!==r&&function DL(e,t,r){const n=e.projection=[];for(let o=0;o<t.length;o++){const i=r[o];n.push(null!=i?Array.from(i):null)}}(Gt,this.ngContentSelectors,r),pt=function wL(e,t,r,n,o,i){const s=Tr(),a=o[ct],l=Ri(s,o);oD(a,o,s,r,null,n);for(let f=0;f<r.length;f++)Ei(ru(o,a,s.directiveStart+f,s),o);iD(a,o,s),l&&Ei(l,o);const c=ru(o,a,s.directiveStart+s.componentOffset,s);if(e[yr]=o[yr]=c,null!==i)for(const f of i)f(c,t);return xy(a,s,e),c}(Cl,Et,tr,Do,ht,[IL]),jy(Re,ht,null)}finally{wv()}return new yL(this.componentType,pt,fd(Gt,ht),ht,Gt)}}class yL extends HN{constructor(t,r,n,o,i){super(),this.location=n,this._rootLView=o,this._tNode=i,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new ap(o,void 0,!1),this.componentType=t}setInput(t,r){const n=this._tNode.inputs;let o;if(null!==n&&(o=n[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;const i=this._rootLView;Ny(i[ct],i,o,t,r),this.previousInputValues.set(t,r),sp(Ds(this._tNode.index,i))}}get injector(){return new Xo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function IL(){const e=Tr();dm(qe()[ct],e)}function dn(e){let t=function TD(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const n=[e];for(;t;){let o;if(Ne(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Je(903,!1);o=t.\u0275dir}if(o){if(r){n.push(o);const s=e;s.inputs=ig(e.inputs),s.inputTransforms=ig(e.inputTransforms),s.declaredInputs=ig(e.declaredInputs),s.outputs=ig(e.outputs);const a=o.hostBindings;a&&AL(e,a);const l=o.viewQuery,c=o.contentQueries;if(l&&TL(e,l),c&&ML(e,c),bs(e.inputs,o.inputs),bs(e.declaredInputs,o.declaredInputs),bs(e.outputs,o.outputs),null!==o.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),bs(s.inputTransforms,o.inputTransforms)),Ne(o)&&o.data.animation){const f=e.data;f.animation=(f.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(e),a===dn&&(r=!1)}}t=Object.getPrototypeOf(t)}!function xL(e){let t=0,r=null;for(let n=e.length-1;n>=0;n--){const o=e[n];o.hostVars=t+=o.hostVars,o.hostAttrs=pc(o.hostAttrs,r=pc(r,o.hostAttrs))}}(n)}function ig(e){return e===ws?{}:e===Gn?[]:e}function TL(e,t){const r=e.viewQuery;e.viewQuery=r?(n,o)=>{t(n,o),r(n,o)}:t}function ML(e,t){const r=e.contentQueries;e.contentQueries=r?(n,o,i)=>{t(n,o,i),r(n,o,i)}:t}function AL(e,t){const r=e.hostBindings;e.hostBindings=r?(n,o)=>{t(n,o),r(n,o)}:t}function nl(e,t,r){return e[t]=r}function Lo(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function cu(e,t,r,n){const o=Lo(e,t,r);return Lo(e,t+1,n)||o}function ks(e,t,r,n){const o=qe();return Lo(o,Qa(),t)&&(Hn(),tl(Yr(),o,e,t,r,n)),ks}function md(e,t,r,n){return Lo(e,Qa(),r)?t+Ut(r)+n:un}function _d(e,t,r,n,o,i,s,a){const c=function sg(e,t,r,n,o){const i=cu(e,t,r,n);return Lo(e,t+2,o)||i}(e,Ol(),r,o,s);return Nl(3),c?t+Ut(r)+n+Ut(o)+i+Ut(s)+a:un}function ag(e,t){return e<<17|t<<2}function Tc(e){return e>>17&32767}function Gy(e){return 2|e}function uu(e){return(131068&e)>>2}function Uy(e,t){return-131069&e|t<<2}function Hy(e){return 1|e}function GD(e,t,r,n,o){const i=e[r+1],s=null===t;let a=n?Tc(i):uu(i),l=!1;for(;0!==a&&(!1===l||s);){const f=e[a+1];jL(e[a],t)&&(l=!0,e[a+1]=n?Hy(f):Gy(f)),a=n?Tc(f):uu(f)}l&&(e[r+1]=n?Gy(i):Hy(i))}function jL(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&nd(e,t)>=0}function Se(e,t,r){const n=qe();return Lo(n,Qa(),t)&&As(Hn(),Yr(),n,e,t,n[Yt],r,!1),Se}function zy(e,t,r,n,o){const s=o?"class":"style";Ny(e,r,t.inputs[s],s,n)}function du(e,t,r){return Ca(e,t,r,!1),du}function ea(e,t){return Ca(e,t,null,!0),ea}function Ca(e,t,r,n){const o=qe(),i=Hn(),s=Nl(2);i.firstUpdatePass&&function YD(e,t,r,n){const o=e.data;if(null===o[r+1]){const i=o[wi()],s=function KD(e,t){return t>=e.expandoStartIndex}(e,r);(function eI(e,t){return 0!=(e.flags&(t?8:16))})(i,n)&&null===t&&!s&&(t=!1),t=function YL(e,t,r,n){const o=function bv(e){const t=Qt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let i=n?t.residualClasses:t.residualStyles;if(null===o)0===(n?t.classBindings:t.styleBindings)&&(r=up(r=Wy(null,e,t,r,n),t.attrs,n),i=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==o)if(r=Wy(o,e,t,r,n),null===i){let l=function XL(e,t,r){const n=r?t.classBindings:t.styleBindings;if(0!==uu(n))return e[Tc(n)]}(e,t,n);void 0!==l&&Array.isArray(l)&&(l=Wy(null,e,t,l[1],n),l=up(l,t.attrs,n),function QL(e,t,r,n){e[Tc(r?t.classBindings:t.styleBindings)]=n}(e,t,n,l))}else i=function JL(e,t,r){let n;const o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++)n=up(n,e[i].hostAttrs,r);return up(n,t.attrs,r)}(e,t,n)}return void 0!==i&&(n?t.residualClasses=i:t.residualStyles=i),r}(o,i,t,n),function BL(e,t,r,n,o,i){let s=i?t.classBindings:t.styleBindings,a=Tc(s),l=uu(s);e[n]=r;let f,c=!1;if(Array.isArray(r)?(f=r[1],(null===f||nd(r,f)>0)&&(c=!0)):f=r,o)if(0!==l){const m=Tc(e[a+1]);e[n+1]=ag(m,a),0!==m&&(e[m+1]=Uy(e[m+1],n)),e[a+1]=function LL(e,t){return 131071&e|t<<17}(e[a+1],n)}else e[n+1]=ag(a,0),0!==a&&(e[a+1]=Uy(e[a+1],n)),a=n;else e[n+1]=ag(l,0),0===a?a=n:e[l+1]=Uy(e[l+1],n),l=n;c&&(e[n+1]=Gy(e[n+1])),GD(e,f,n,!0),GD(e,f,n,!1),function VL(e,t,r,n,o){const i=o?e.residualClasses:e.residualStyles;null!=i&&"string"==typeof t&&nd(i,t)>=0&&(r[n+1]=Hy(r[n+1]))}(t,f,e,n,i),s=ag(a,l),i?t.classBindings=s:t.styleBindings=s}(o,i,t,r,s,n)}}(i,e,s,n),t!==un&&Lo(o,s,t)&&function QD(e,t,r,n,o,i,s,a){if(!(3&t.type))return;const l=e.data,c=l[a+1],f=function $L(e){return 1==(1&e)}(c)?JD(l,t,r,o,uu(c),s):void 0;lg(f)||(lg(i)||function FL(e){return 2==(2&e)}(c)&&(i=JD(l,null,r,o,a,s)),function iN(e,t,r,n,o){if(t)o?e.addClass(r,n):e.removeClass(r,n);else{let i=-1===n.indexOf("-")?void 0:xc.DashCase;null==o?e.removeStyle(r,n,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=xc.Important),e.setStyle(r,n,o,i))}}(n,s,Nf(wi(),r),o,i))}(i,i.data[wi()],o,o[Yt],e,o[s+1]=function r$(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=gr(Ts(e)))),e}(t,r),n,s)}function Wy(e,t,r,n,o){let i=null;const s=r.directiveEnd;let a=r.directiveStylingLast;for(-1===a?a=r.directiveStart:a++;a<s&&(i=t[a],n=up(n,i.hostAttrs,o),i!==e);)a++;return null!==e&&(r.directiveStylingLast=a),n}function up(e,t,r){const n=r?1:2;let o=-1;if(null!==t)for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?o=s:o===n&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Is(e,s,!!r||t[++i]))}return void 0===e?null:e}function JD(e,t,r,n,o,i){const s=null===t;let a;for(;o>0;){const l=e[o],c=Array.isArray(l),f=c?l[1]:l,p=null===f;let m=r[o+1];m===un&&(m=p?Gn:void 0);let C=p?Pv(m,n):f===n?m:void 0;if(c&&!lg(C)&&(C=Pv(l,n)),lg(C)&&(a=C,s))return a;const U=e[o+1];o=s?Tc(U):uu(U)}if(null!==t){let l=i?t.residualClasses:t.residualStyles;null!=l&&(a=Pv(l,n))}return a}function lg(e){return void 0!==e}let sI=(e,t)=>null;function Ed(e,t){return sI(e,t)}function mp(e,t,r,n){const o=t.tView,a=Jm(e,o,r,4096&e[jt]?4096:16,null,t,null,null,null,n?.injector??null,n?.dehydratedView??null);a[mc]=e[t.index];const c=e[ss];return null!==c&&(a[ss]=c.createEmbeddedView(o)),jy(o,a,r),a}function Dd(e,t){return!t||null===t.firstChild||Rm(e)}function gp(e,t,r,n=!0){const o=t[ct];if(function X2(e,t,r,n){const o=io+n,i=r.length;n>0&&(r[o-1][os]=t),n<i-io?(t[os]=r[o],gw(r,io+n,t)):(r.push(t),t[os]=null),t[Or]=r;const s=t[mc];null!==s&&r!==s&&function Q2(e,t){const r=e[_c];t[$r]!==t[Or][Or][$r]&&(e[jt]|=vc.HasTransplantedViews),null===r?e[_c]=[t]:r.push(t)}(s,t);const a=t[ss];null!==a&&a.insertView(e),GS(t),t[jt]|=128}(o,t,e,r),n){const s=sy(r,e),a=t[Yt],l=Lm(a,e[Oo]);null!==l&&function q2(e,t,r,n,o,i){n[Zr]=o,n[qo]=t,Xf(e,n,r,1,o,i)}(o,e[qo],a,t,l,s)}const i=t[is];null!==i&&null!==i.firstChild&&(i.firstChild=null)}let cs=(()=>{class t{}return t.__NG_ELEMENT_ID__=L$,t})();function L$(){return pI(Tr(),qe())}const $$=cs,dI=class extends $${constructor(t,r,n){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=n}get element(){return fd(this._hostTNode,this._hostLView)}get injector(){return new Xo(this._hostTNode,this._hostLView)}get parentInjector(){const t=gm(this._hostTNode,this._hostLView);if(Iv(t)){const r=Vf(t,this._hostLView),n=Bf(t);return new Xo(r[ct].data[n+8],r)}return new Xo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=fI(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-io}createEmbeddedView(t,r,n){let o,i;"number"==typeof n?o=n:null!=n&&(o=n.index,i=n.injector);const s=Ed(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(r||{},i,s);return this.insertImpl(a,o,Dd(this._hostTNode,s)),a}createComponent(t,r,n,o,i){const s=t&&!function jf(e){return"function"==typeof e}(t);let a;if(s)a=r;else{const U=r||{};a=U.index,n=U.injector,o=U.projectableNodes,i=U.environmentInjector||U.ngModuleRef}const l=s?t:new lp(vn(t)),c=n||this.parentInjector;if(!i&&null==l.ngModule){const J=(s?c:this.parentInjector).get(ii,null);J&&(i=J)}const f=vn(l.componentType??{}),p=Ed(this._lContainer,f?.id??null),C=l.create(c,o,p?.firstChild??null,i);return this.insertImpl(C.hostView,a,Dd(this._hostTNode,p)),C}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,n){const o=t._lView;if(function rO(e){return No(e[Or])}(o)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const l=o[Or],c=new dI(l,l[qo],l[Or]);c.detach(c.indexOf(t))}}const i=this._adjustIndex(r),s=this._lContainer;return gp(s,o,i,n),t.attachToViewContainerRef(),gw(tb(s),i,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=fI(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),n=Kf(this._lContainer,r);n&&(vm(tb(this._lContainer),r),Fm(n[ct],n))}detach(t){const r=this._adjustIndex(t,-1),n=Kf(this._lContainer,r);return n&&null!=vm(tb(this._lContainer),r)?new ap(n):null}_adjustIndex(t,r=0){return t??this.length+r}};function fI(e){return e[8]}function tb(e){return e[8]||(e[8]=[])}function pI(e,t){let r;const n=t[e.index];return No(n)?r=n:(r=aD(n,t,null,e),t[e.index]=r,eg(t,r)),hI(r,t,e,n),new dI(r,e,t)}let hI=function gI(e,t,r,n){if(e[Oo])return;let o;o=8&r.type?Vr(n):function B$(e,t){const r=e[Yt],n=r.createComment(""),o=Ri(t,e);return iu(r,Lm(r,o),n,function nN(e,t){return e.nextSibling(t)}(r,o),!1),n}(t,r),e[Oo]=o},nb=(e,t,r)=>!1;function Vt(e,t,r,n,o,i,s,a){const l=qe(),c=Hn(),f=e+Xt,p=c.firstCreatePass?function U$(e,t,r,n,o,i,s,a,l){const c=t.consts,f=pd(t,e,4,s||null,Ya(c,a));ky(t,r,f,Ya(c,l)),dm(t,f);const p=f.tView=Ay(2,f,n,o,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,f),p.queries=t.queries.embeddedTView(f)),f}(f,c,l,t,r,n,o,i,s):c.data[f];Xa(p,!1);const m=_I(c,l,p,e);um()&&$m(c,l,m,p),Ei(m,l);const C=aD(m,l,m,p);return l[f]=C,eg(l,C),function mI(e,t,r){return nb(e,t,r)}(C,p,l),Un(p)&&Ty(c,l,p),null!=s&&My(l,p,a),Vt}let _I=function vI(e,t,r,n){return yc(!0),t[Yt].createComment("")};function yI(e,t,r){au("NgControlFlow");const n=qe(),o=Qa(),i=function rb(e,t){return e[t]}(n,Xt+e);if(Lo(n,o,t)){const a=d(null);try{if(function eb(e,t){const r=Kf(e,t);return void 0!==r&&Fm(r[ct],r),r}(i,0),-1!==t){const l=function ob(e,t){return Ff(e,t)}(n[ct],Xt+t),c=Ed(i,l.tView.ssrId);gp(i,mp(n,l,r,{dehydratedView:c}),0,Dd(l,c))}}finally{d(a)}}else{const a=function uI(e,t){const r=io+t;if(r<e.length)return e[r]}(i,0);void 0!==a&&(a[yr]=r)}}function j(e,t,r,n){const o=qe(),i=Hn(),s=Xt+e,a=o[Yt],l=i.firstCreatePass?function k3(e,t,r,n,o,i){const s=t.consts,l=pd(t,e,2,n,Ya(s,o));return ky(t,r,l,Ya(s,i)),null!==l.attrs&&og(l,l.attrs,!1),null!==l.mergedAttrs&&og(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,i,o,t,r,n):i.data[s],c=GI(i,o,l,a,t,e);o[s]=c;const f=Un(l);return Xa(l,!0),mE(a,c,l),32!=(32&l.flags)&&um()&&$m(i,o,c,l),0===function iO(){return Qt.lFrame.elementDepthCount}()&&Ei(c,o),function sO(){Qt.lFrame.elementDepthCount++}(),f&&(Ty(i,o,l),xy(i,l,o)),null!==n&&My(o,l),j}function L(){let e=Tr();_v()?vv():(e=e.parent,Xa(e,!1));const t=e;(function lO(e){return Qt.skipHydrationRootTNode===e})(t)&&function fO(){Qt.skipHydrationRootTNode=null}(),function aO(){Qt.lFrame.elementDepthCount--}();const r=Hn();return r.firstCreatePass&&(dm(r,e),tn(e)&&r.queries.elementEnd(e)),null!=t.classesWithoutHost&&function xO(e){return 0!=(8&e.flags)}(t)&&zy(r,t,qe(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function TO(e){return 0!=(16&e.flags)}(t)&&zy(r,t,qe(),t.stylesWithoutHost,!1),L}function Ue(e,t,r,n){return j(e,t,r,n),L(),Ue}let GI=(e,t,r,n,o,i)=>(yc(!0),Nm(n,o,function tw(){return Qt.lFrame.currentNamespace}()));function pu(e,t,r){const n=qe(),o=Hn(),i=e+Xt,s=o.firstCreatePass?function O3(e,t,r,n,o){const i=t.consts,s=Ya(i,n),a=pd(t,e,8,"ng-container",s);return null!==s&&og(a,s,!0),ky(t,r,a,Ya(i,o)),null!==t.queries&&t.queries.elementStart(t,a),a}(i,o,n,t,r):o.data[i];Xa(s,!0);const a=UI(o,n,s,e);return n[i]=a,um()&&$m(o,n,a,s),Ei(a,n),Un(s)&&(Ty(o,n,s),xy(o,s,n)),null!=r&&My(n,s),pu}function hu(){let e=Tr();const t=Hn();return _v()?vv():(e=e.parent,Xa(e,!1)),t.firstCreatePass&&(dm(t,e),tn(e)&&t.queries.elementEnd(e)),hu}let UI=(e,t,r,n)=>(yc(!0),ny(t[Yt],""));function yn(){return qe()}const Pd="en-US";let qI=Pd;function Dp(e){return!!e&&"function"==typeof e.then}function y1(e){return!!e&&"function"==typeof e.subscribe}function Ve(e,t,r,n){const o=qe(),i=Hn(),s=Tr();return function C1(e,t,r,n,o,i,s){const a=Un(n),c=e.firstCreatePass&&uD(e),f=t[yr],p=cD(t);let m=!0;if(3&n.type||s){const J=Ri(n,t),_e=s?s(J):J,De=p.length,Re=s?pt=>s(Vr(pt[n.index])):n.index;let ht=null;if(!s&&a&&(ht=function PB(e,t,r,n){const o=e.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===r&&o[i+1]===n){const a=t[Tl],l=o[i+2];return a.length>l?a[l]:null}"string"==typeof s&&(i+=2)}return null}(e,t,o,n.index)),null!==ht)(ht.__ngLastListenerFn__||ht).__ngNextListenerFn__=i,ht.__ngLastListenerFn__=i,m=!1;else{i=w1(n,t,f,i,!1);const pt=r.listen(_e,o,i);p.push(i,pt),c&&c.push(o,Re,De,De+1)}}else i=w1(n,t,f,i,!1);const C=n.outputs;let U;if(m&&null!==C&&(U=C[o])){const J=U.length;if(J)for(let _e=0;_e<J;_e+=2){const Gt=t[U[_e]][U[_e+1]].subscribe(i),Et=p.length;p.push(i,Gt),c&&c.push(o,n.index,Et,-(Et+1))}}}(i,o,o[Yt],s,e,t,n),Ve}function S1(e,t,r,n){try{return Ka(6,t,r),!1!==r(n)}catch(o){return tg(e,o),!1}finally{Ka(7,t,r)}}function w1(e,t,r,n,o){return function i(s){if(s===Function)return n;sp(e.componentOffset>-1?Ds(e.index,t):t);let l=S1(t,r,n,s),c=i.__ngNextListenerFn__;for(;c;)l=S1(t,r,c,s)&&l,c=c.__ngNextListenerFn__;return o&&!1===l&&s.preventDefault(),l}}function st(e=1){return function vO(e){return(Qt.lFrame.contextLView=function VS(e,t){for(;e>0;)t=t[Al],e--;return t}(e,Qt.lFrame.contextLView))[yr]}(e)}function OB(e,t){let r=null;const n=function Zh(e){const t=e.attrs;if(null!=t){const r=t.indexOf(5);if(!(1&r))return t[r+1]}return null}(e);for(let o=0;o<t.length;o++){const i=t[o];if("*"!==i){if(null===n?Tf(e,i,!0):Yh(n,i))return o}else r=o}return r}function ft(e){const t=qe()[$r][qo];if(!t.projection){const n=t.projection=Gf(e?e.length:1,null),o=n.slice();let i=t.child;for(;null!==i;){const s=e?OB(i,e):0;null!==s&&(o[s]?o[s].projectionNext=i:n[s]=i,o[s]=i),i=i.next}}}function dt(e,t=0,r){const n=qe(),o=Hn(),i=pd(o,Xt+e,16,null,r||null);null===i.projection&&(i.projection=t),vv(),(!n[is]||Wu())&&32!=(32&i.flags)&&function rN(e,t,r){pE(t[Yt],0,t,r,oy(e,r,t),aE(r.parent||t[qo],r,t))}(o,n,i)}function wg(e,t,r,n,o){const i=qe(),s=md(i,t,r,n);return s!==un&&As(Hn(),Yr(),i,e,s,i[Yt],o,!1),wg}function Rs(e){return zu(function pO(){return Qt.lFrame.contextLView}(),Xt+e)}function Ee(e,t=""){const r=qe(),n=Hn(),o=e+Xt,i=n.firstCreatePass?pd(n,o,1,t,null):n.data[o],s=G1(n,r,i,t,e);r[o]=s,um()&&$m(n,r,s,i),Xa(i,!1)}let G1=(e,t,r,n,o)=>(yc(!0),function Om(e,t){return e.createText(t)}(t[Yt],n));function Ni(e){return si("",e,""),Ni}function si(e,t,r){const n=qe(),o=md(n,e,t,r);return o!==un&&Bl(n,wi(),o),si}function Ip(e,t,r,n,o){const i=qe(),s=function gd(e,t,r,n,o,i){const a=cu(e,Ol(),r,o);return Nl(2),a?t+Ut(r)+n+Ut(o)+i:un}(i,e,t,r,n,o);return s!==un&&Bl(i,wi(),s),Ip}function mb(e,t,r,n,o,i,s){const a=qe(),l=_d(a,e,t,r,n,o,i,s);return l!==un&&Bl(a,wi(),l),mb}function gb(e,t,r,n,o){if(e=Bt(e),Array.isArray(e))for(let i=0;i<e.length;i++)gb(e[i],t,r,n,o);else{const i=Hn(),s=qe(),a=Tr();let l=ou(e)?e:Bt(e.provide);const c=xw(e),f=1048575&a.providerIndexes,p=a.directiveStart,m=a.providerIndexes>>20;if(ou(e)||!e.multi){const C=new $f(c,o,v),U=vb(l,t,o?f:f+m,p);-1===U?(Mv(mm(a,s),i,l),_b(i,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),r.push(C),s.push(C)):(r[U]=C,s[U]=C)}else{const C=vb(l,t,f+m,p),U=vb(l,t,f,f+m),_e=U>=0&&r[U];if(o&&!_e||!o&&!(C>=0&&r[C])){Mv(mm(a,s),i,l);const De=function YB(e,t,r,n,o){const i=new $f(e,r,v);return i.multi=[],i.index=t,i.componentProviders=0,K1(i,o,n&&!r),i}(o?KB:qB,r.length,o,n,c);!o&&_e&&(r[U].providerFactory=De),_b(i,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),r.push(De),s.push(De)}else _b(i,e,C>-1?C:U,K1(r[o?U:C],c,!o&&n));!o&&n&&_e&&r[U].componentProviders++}}}function _b(e,t,r,n){const o=ou(t),i=function s2(e){return!!e.useClass}(t);if(o||i){const l=(i?Bt(t.useClass):t).prototype.ngOnDestroy;if(l){const c=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const f=c.indexOf(r);-1===f?c.push(r,[n,l]):c[f+1].push(n,l)}else c.push(r,l)}}}function K1(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function vb(e,t,r,n){for(let o=r;o<n;o++)if(t[o]===e)return o;return-1}function qB(e,t,r,n){return yb(this.multi,[])}function KB(e,t,r,n){const o=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=ru(r,r[ct],this.providerFactory.index,n);i=a.slice(0,s),yb(o,i);for(let l=s;l<a.length;l++)i.push(a[l])}else i=[],yb(o,i);return i}function yb(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function rr(e,t=[]){return r=>{r.providersResolver=(n,o)=>function ZB(e,t,r){const n=Hn();if(n.firstCreatePass){const o=Ne(e);gb(r,n.data,n.blueprint,o,!0),gb(t,n.data,n.blueprint,o,!1)}}(n,o?o(e):e,t)}}class gu{}class Y1{}class bb extends gu{constructor(t,r,n){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ID(this);const o=Zo(t);this._bootstrapComponents=xs(o.bootstrap),this._r3Injector=Rw(t,r,[{provide:gu,useValue:this},{provide:Km,useValue:this.componentFactoryResolver},...n],gr(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Cb extends Y1{constructor(t){super(),this.moduleType=t}create(t){return new bb(this.moduleType,t,[])}}class X1 extends gu{constructor(t){super(),this.componentFactoryResolver=new ID(this),this.instance=null;const r=new id([...t.providers,{provide:gu,useValue:this},{provide:Km,useValue:this.componentFactoryResolver}],t.parent||Im(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Sb(e,t,r=null){return new X1({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}let JB=(()=>{var e;class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const o=ww(0,n.type),i=o.length>0?Sb([o],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return(e=t).\u0275prov=E({token:e,providedIn:"environment",factory:()=>new e(le(ii))}),t})();function Eg(e){au("NgStandalone"),e.getStandaloneInjector=t=>t.get(JB).getOrCreateStandaloneInjector(e)}function ax(e,t,r,n,o,i){const s=t+r;return Lo(e,s,o)?nl(e,s+1,i?n.call(i,o):n(o)):function xp(e,t){const r=e[t];return r===un?void 0:r}(e,s+1)}function il(e,t){const r=Hn();let n;const o=e+Xt;r.firstCreatePass?(n=function vV(e,t){if(t)for(let r=t.length-1;r>=0;r--){const n=t[r];if(e===n.name)return n}}(t,r.pipeRegistry),r.data[o]=n,n.onDestroy&&(r.destroyHooks??=[]).push(o,n.onDestroy)):n=r.data[o];const i=n.factory||(n.factory=Qs(n.type)),a=ln(v);try{const l=hm(!1),c=i();return hm(l),function NB(e,t,r,n){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=n}(r,qe(),o,c),c}finally{ln(a)}}function sl(e,t,r){const n=e+Xt,o=qe(),i=zu(o,n);return function Tp(e,t){return e[ct].data[t].pure}(o,n)?ax(o,Pi(),t,i.transform,r,i):i.transform(r)}function wV(){return this._results[Symbol.iterator]()}class Eb{get changes(){return this._changes??=new qt}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=Eb.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=wV)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){this.dirty=!1;const n=function as(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function jO(e,t,r){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++){let o=e[n],i=t[n];if(r&&(o=r(o),i=r(i)),i!==o)return!1}return!0}(this._results,n,r))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}let wa=(()=>{class t{}return t.__NG_ELEMENT_ID__=IV,t})();const EV=wa,DV=class extends EV{constructor(t,r,n){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,n){const o=mp(this._declarationLView,this._declarationTContainer,t,{injector:r,dehydratedView:n});return new ap(o)}};function IV(){return xg(Tr(),qe())}function xg(e,t){return 4&e.type?new DV(t,e,fd(e,t)):null}class Db{constructor(t){this.queryList=t,this.matches=null}clone(){return new Db(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ib{constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const n=null!==t.contentQueries?t.contentQueries[0]:r.length,o=[];for(let i=0;i<n;i++){const s=r.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new Ib(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==gx(t,r).matches&&this.queries[r].setDirty()}}class fx{constructor(t,r,n=null){this.predicate=t,this.flags=r,this.read=n}}class xb{constructor(t=[]){this.queries=t}elementStart(t,r){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let n=0;n<this.length;n++){const o=null!==r?r.length:0,i=this.getByIndex(n).embeddedTView(t,o);i&&(i.indexInDeclarationView=n,null!==r?r.push(i):r=[i])}return null!==r?new xb(r):null}template(t,r){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Tb{constructor(t,r=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new Tb(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const r=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==r;)n=n.parent;return r===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const n=this.metadata.predicate;if(Array.isArray(n))for(let o=0;o<n.length;o++){const i=n[o];this.matchTNodeWithReadOption(t,r,xV(r,i)),this.matchTNodeWithReadOption(t,r,_m(r,t,i,!1,!1))}else n===wa?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,_m(r,t,n,!1,!1))}matchTNodeWithReadOption(t,r,n){if(null!==n){const o=this.metadata.read;if(null!==o)if(o===nt||o===cs||o===wa&&4&r.type)this.addMatch(r.index,-2);else{const i=_m(r,t,o,!1,!1);null!==i&&this.addMatch(r.index,i)}else this.addMatch(r.index,n)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function xV(e,t){const r=e.localNames;if(null!==r)for(let n=0;n<r.length;n+=2)if(r[n]===t)return r[n+1];return null}function MV(e,t,r,n){return-1===r?function TV(e,t){return 11&e.type?fd(e,t):4&e.type?xg(e,t):null}(t,e):-2===r?function AV(e,t,r){return r===nt?fd(t,e):r===wa?xg(t,e):r===cs?pI(t,e):void 0}(e,t,n):ru(e,e[ct],r,t)}function px(e,t,r,n){const o=t[ss].queries[n];if(null===o.matches){const i=e.data,s=r.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:MV(t,i[c],s[l+1],r.metadata.read))}o.matches=a}return o.matches}function Mb(e,t,r,n){const o=e.queries.getByIndex(r),i=o.matches;if(null!==i){const s=px(e,t,o,r);for(let a=0;a<i.length;a+=2){const l=i[a];if(l>0)n.push(s[a/2]);else{const c=i[a+1],f=t[-l];for(let p=io;p<f.length;p++){const m=f[p];m[mc]===m[Or]&&Mb(m[ct],m,c,n)}if(null!==f[_c]){const p=f[_c];for(let m=0;m<p.length;m++){const C=p[m];Mb(C[ct],C,c,n)}}}}}return n}function Ps(e){const t=qe(),r=Hn(),n=KS();Cv(n+1);const o=gx(r,n);if(e.dirty&&function nO(e){return 4==(4&e[jt])}(t)===(2==(2&o.metadata.flags))){if(null===o.matches)e.reset([]);else{const i=o.crossesNgTemplate?Mb(r,t,n,[]):px(r,t,o,n);e.reset(i,qN),e.notifyOnChanges()}return!0}return!1}function Ac(e,t,r){const n=Hn();n.firstCreatePass&&(mx(n,new fx(e,t,r),-1),2==(2&t)&&(n.staticViewQueries=!0)),hx(n,qe(),t)}function Od(e,t,r,n){const o=Hn();if(o.firstCreatePass){const i=Tr();mx(o,new fx(t,r,n),i.index),function RV(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(o,e),2==(2&r)&&(o.staticContentQueries=!0)}hx(o,qe(),r)}function Os(){return function kV(e,t){return e[ss].queries[t].queryList}(qe(),KS())}function hx(e,t,r){const n=new Eb(4==(4&r));(function wF(e,t,r,n){const o=cD(t);o.push(r),e.firstCreatePass&&uD(e).push(n,o.length-1)})(e,t,n,n.destroy),null===t[ss]&&(t[ss]=new Ib),t[ss].queries.push(new Db(n))}function mx(e,t,r){null===e.queries&&(e.queries=new xb),e.queries.track(new Tb(t,r))}function gx(e,t){return e.queries.getByIndex(t)}let Rx=(()=>{var e;class t{log(n){console.log(n)}warn(n){console.warn(n)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),Mg=(()=>{var e;class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ro(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class t4{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}let Px=(()=>{var e;class t{compileModuleSync(n){return new Cb(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const o=this.compileModuleSync(n),s=xs(Zo(n).declarations).reduce((a,l)=>{const c=vn(l);return c&&a.push(new lp(c)),a},[]);return new t4(o,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const $x=new Be(""),kg=new Be("");let Lb,Nb=(()=>{var e;class t{constructor(n,o,i){this._ngZone=n,this.registry=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Lb||(function I4(e){Lb=e}(i),i.addToWindow(o)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ze.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(n)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,o,i){let s=-1;o&&o>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),n(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,o,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,o,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,o,i){return[]}}return(e=t).\u0275fac=function(n){return new(n||e)(le(Ze),le(Fb),le(kg))},e.\u0275prov=E({token:e,factory:e.\u0275fac}),t})(),Fb=(()=>{var e;class t{constructor(){this._applications=new Map}registerApplication(n,o){this._applications.set(n,o)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,o=!0){return Lb?.findTestabilityInTree(this,n,o)??null}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();const kp=new Be("Application Initializer");let $b=(()=>{var e;class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,o)=>{this.resolve=n,this.reject=o}),this.appInits=ot(kp,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(Dp(s))n.push(s);else if(y1(s)){const a=new Promise((l,c)=>{s.subscribe({complete:l,error:c})});n.push(a)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{o()}).catch(i=>{this.reject(i)}),0===n.length&&o(),this.initialized=!0}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const Bb=new Be("appBootstrapListener");function jx(e,t){return Array.isArray(t)?t.reduce(jx,e):{...e,...t}}let Ea=(()=>{var e;class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ot(zE),this.zoneIsStable=ot(yD),this.componentTypes=[],this.components=[],this.isStable=ot(Mg).hasPendingTasks.pipe(zr(n=>n?Lt(!1):this.zoneIsStable),Hs()),this._injector=ot(ii)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,o){const i=n instanceof RE;if(!this._injector.get($b).done)throw!i&&function ba(e){const t=vn(e)||uo(e)||Po(e);return null!==t&&t.standalone}(n),new Je(405,!1);let a;a=i?n:this._injector.get(Km).resolveComponentFactory(n),this.componentTypes.push(a.componentType);const l=function T4(e){return e.isBoundToModule}(a)?void 0:this._injector.get(gu),f=a.create(Gr.NULL,[],o||a.selector,l),p=f.location.nativeElement,m=f.injector.get($x,null);return m?.registerApplication(p),f.onDestroy(()=>{this.detachView(f.hostView),Rg(this.components,f),m?.unregisterApplication(p)}),this._loadComponent(f),f}tick(){if(this._runningTick)throw new Je(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const o=n;this._views.push(o),o.attachToAppRef(this)}detachView(n){const o=n;Rg(this._views,o),o.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const o=this._injector.get(Bb,[]);[...this._bootstrapListeners,...o].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Rg(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Je(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function Rg(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}let A4=(()=>{var e;class t{constructor(){this.zone=ot(Ze),this.applicationRef=ot(Ea)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function k4(){const e=ot(Ze),t=ot($l);return r=>e.runOutsideAngular(()=>t.handleError(r))}const Vl=new Be("LocaleId",{providedIn:"root",factory:()=>ot(Vl,Pt.Optional|Pt.SkipSelf)||function P4(){return typeof $localize<"u"&&$localize.locale||Pd}()}),Vb=new Be("PlatformDestroyListeners");let zx=(()=>{var e;class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,o){const i=function fL(e="zone.js",t){return"noop"===e?new uL:"zone.js"===e?new Ze(t):e}(o?.ngZone,function Hx(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}));return i.run(()=>{const s=function QB(e,t,r){return new bb(e,t,r)}(n.moduleType,this.injector,function Ux(e){return[{provide:Ze,useFactory:e},{provide:od,multi:!0,useFactory:()=>{const t=ot(A4,{optional:!0});return()=>t.initialize()}},{provide:zE,useFactory:k4},{provide:yD,useFactory:bD}]}(()=>i)),a=s.injector.get($l,null);return i.runOutsideAngular(()=>{const l=i.onError.subscribe({next:c=>{a.handleError(c)}});s.onDestroy(()=>{Rg(this._modules,s),l.unsubscribe()})}),function Vx(e,t,r){try{const n=r();return Dp(n)?n.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):n}catch(n){throw t.runOutsideAngular(()=>e.handleError(n)),n}}(a,i,()=>{const l=s.injector.get($b);return l.runInitializers(),l.donePromise.then(()=>(function KI(e){pn(e,"Expected localeId to be defined"),"string"==typeof e&&(qI=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Vl,Pd)||Pd),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,o=[]){const i=jx({},o);return function x4(e,t,r){const n=new Cb(r);return Promise.resolve(n)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const o=n.injector.get(Ea);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>o.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Je(-403,!1);n.instance.ngDoBootstrap(o)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Je(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const n=this._injector.get(Vb,null);n&&(n.forEach(o=>o()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=t).\u0275fac=function(n){return new(n||e)(le(Gr))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),kc=null;const Wx=new Be("AllowMultipleToken");function Zx(e,t,r=[]){const n=`Platform: ${t}`,o=new Be(n);return(i=[])=>{let s=jb();if(!s||s.injector.get(Wx,!1)){const a=[...r,...i,{provide:o,useValue:!0}];e?e(a):function F4(e){if(kc&&!kc.get(Wx,!1))throw new Je(400,!1);(function Bx(){!function rt(e){G=e}(()=>{throw new Je(600,!1)})})(),kc=e;const t=e.get(zx);(function Kx(e){e.get(Ow,null)?.forEach(r=>r())})(e)}(function qx(e=[],t){return Gr.create({name:t,providers:[{provide:Vv,useValue:"platform"},{provide:Vb,useValue:new Set([()=>kc=null])},...e]})}(a,n))}return function L4(e){const t=jb();if(!t)throw new Je(401,!1);return t}()}}function jb(){return kc?.get(zx)??null}const U4=Zx(null,"core",[]);let H4=(()=>{var e;class t{constructor(n){}}return(e=t).\u0275fac=function(n){return new(n||e)(le(Ea))},e.\u0275mod=Wr({type:e}),e.\u0275inj=We({}),t})();function vT(e){const t=vn(e);if(!t)return null;const r=new lp(t);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}let Yb=null;function Rc(){return Yb}class vj{}const ai=new Be("DocumentToken");let Xb=(()=>{var e;class t{historyGo(n){throw new Error("Not implemented")}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=E({token:e,factory:()=>ot(bj),providedIn:"platform"}),t})();const yj=new Be("Location Initialized");let bj=(()=>{var e;class t extends Xb{constructor(){super(),this._doc=ot(ai),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Rc().getBaseHref(this._doc)}onPopState(n){const o=Rc().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",n,!1),()=>o.removeEventListener("popstate",n)}onHashChange(n){const o=Rc().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",n,!1),()=>o.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,o,i){this._history.pushState(n,o,i)}replaceState(n,o,i){this._history.replaceState(n,o,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=E({token:e,factory:()=>new e,providedIn:"platform"}),t})();function Qb(e,t){if(0==e.length)return t;if(0==t.length)return e;let r=0;return e.endsWith("/")&&r++,t.startsWith("/")&&r++,2==r?e+t.substring(1):1==r?e+t:e+"/"+t}function yT(e){const t=e.match(/#|\?|$/),r=t&&t.index||e.length;return e.slice(0,r-("/"===e[r-1]?1:0))+e.slice(r)}function jl(e){return e&&"?"!==e[0]?"?"+e:e}let al=(()=>{var e;class t{historyGo(n){throw new Error("Not implemented")}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=E({token:e,factory:()=>ot(CT),providedIn:"root"}),t})();const bT=new Be("appBaseHref");let CT=(()=>{var e;class t extends al{constructor(n,o){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??ot(ai).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Qb(this._baseHref,n)}path(n=!1){const o=this._platformLocation.pathname+jl(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${o}${i}`:o}pushState(n,o,i,s){const a=this.prepareExternalUrl(i+jl(s));this._platformLocation.pushState(n,o,a)}replaceState(n,o,i,s){const a=this.prepareExternalUrl(i+jl(s));this._platformLocation.replaceState(n,o,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(le(Xb),le(bT,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),ST=(()=>{var e;class t extends al{constructor(n,o){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(n){const o=Qb(this._baseHref,n);return o.length>0?"#"+o:o}pushState(n,o,i,s){let a=this.prepareExternalUrl(i+jl(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(n,o,a)}replaceState(n,o,i,s){let a=this.prepareExternalUrl(i+jl(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(n,o,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(le(Xb),le(bT,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac}),t})(),Pc=(()=>{var e;class t{constructor(n){this._subject=new qt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const o=this._locationStrategy.getBaseHref();this._basePath=function wj(e){if(new RegExp("^(https?:)?//").test(e)){const[,r]=e.split(/\/\/[^\/]+/);return r}return e}(yT(wT(o))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,o=""){return this.path()==this.normalize(n+jl(o))}normalize(n){return t.stripTrailingSlash(function Sj(e,t){if(!e||!t.startsWith(e))return t;const r=t.substring(e.length);return""===r||["/",";","?","#"].includes(r[0])?r:t}(this._basePath,wT(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,o="",i=null){this._locationStrategy.pushState(i,"",n,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+jl(o)),i)}replaceState(n,o="",i=null){this._locationStrategy.replaceState(i,"",n,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+jl(o)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{const o=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(o,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",o){this._urlChangeListeners.forEach(i=>i(n,o))}subscribe(n,o,i){return this._subject.subscribe({next:n,error:o,complete:i})}}return(e=t).normalizeQueryParams=jl,e.joinWithSlash=Qb,e.stripTrailingSlash=yT,e.\u0275fac=function(n){return new(n||e)(le(al))},e.\u0275prov=E({token:e,factory:()=>function Cj(){return new Pc(le(al))}(),providedIn:"root"}),t})();function wT(e){return e.replace(/\/index.html$/,"")}function RT(e,t){t=encodeURIComponent(t);for(const r of e.split(";")){const n=r.indexOf("="),[o,i]=-1==n?[r,""]:[r.slice(0,n),r.slice(n+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}class cG{constructor(t,r,n,o){this.$implicit=t,this.ngForOf=r,this.index=n,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Hl=(()=>{var e;class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,o,i){this._viewContainer=n,this._template=o,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const o=this._viewContainer;n.forEachOperation((i,s,a)=>{if(null==i.previousIndex)o.createEmbeddedView(this._template,new cG(i.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)o.remove(null===s?void 0:s);else if(null!==s){const l=o.get(s);o.move(l,a),NT(l,i)}});for(let i=0,s=o.length;i<s;i++){const l=o.get(i).context;l.index=i,l.count=s,l.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{NT(o.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,o){return!0}}return(e=t).\u0275fac=function(n){return new(n||e)(v(cs),v(wa),v(Xm))},e.\u0275dir=Mt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function NT(e,t){e.context.$implicit=t.item}let Eo=(()=>{var e;class t{constructor(n,o){this._viewContainer=n,this._context=new uG,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){FT("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){FT("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,o){return!0}}return(e=t).\u0275fac=function(n){return new(n||e)(v(cs),v(wa))},e.\u0275dir=Mt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class uG{constructor(){this.$implicit=null,this.ngIf=null}}function FT(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${gr(t)}'.`)}class cC{constructor(t,r){this._viewContainerRef=t,this._templateRef=r,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Xg=(()=>{var e;class t{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){const o=n===this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||o,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),o}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(const o of this._defaultViews)o.enforceState(n)}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=Mt({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),t})(),LT=(()=>{var e;class t{constructor(n,o,i){this.ngSwitch=i,i._addCase(),this._view=new cC(n,o)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return(e=t).\u0275fac=function(n){return new(n||e)(v(cs),v(wa),v(Xg,9))},e.\u0275dir=Mt({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),t})(),$T=(()=>{var e;class t{constructor(n,o,i){i._addDefault(new cC(n,o))}}return(e=t).\u0275fac=function(n){return new(n||e)(v(cs),v(wa),v(Xg,9))},e.\u0275dir=Mt({type:e,selectors:[["","ngSwitchDefault",""]],standalone:!0}),t})();class hG{createSubscription(t,r){return NE(()=>t.subscribe({next:r,error:n=>{throw n}}))}dispose(t){NE(()=>t.unsubscribe())}}class mG{createSubscription(t,r){return t.then(r,n=>{throw n})}dispose(t){}}const gG=new mG,_G=new hG;let VT=(()=>{var e;class t{constructor(n){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,o=>this._updateLatestValue(n,o))}_selectStrategy(n){if(Dp(n))return gG;if(y1(n))return _G;throw function Ia(e,t){return new Je(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,o){n===this._obj&&(this._latestValue=o,this._ref.markForCheck())}}return(e=t).\u0275fac=function(n){return new(n||e)(v(lt,16))},e.\u0275pipe=bo({name:"async",type:e,pure:!1,standalone:!0}),t})(),ll=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Wr({type:e}),e.\u0275inj=We({}),t})();const GT="browser";function Vd(e){return e===GT}function UT(e){return"server"===e}let $G=(()=>{var e;class t{}return(e=t).\u0275prov=E({token:e,providedIn:"root",factory:()=>new BG(le(ai),window)}),t})();class BG{constructor(t,r){this.document=t,this.window=r,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const r=function VG(e,t){const r=e.getElementById(t)||e.getElementsByName(t)[0];if(r)return r;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let o=n.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(t)||i.querySelector(`[name="${t}"]`);if(s)return s}o=n.nextNode()}}return null}(this.document,t);r&&(this.scrollToElement(r),r.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const r=t.getBoundingClientRect(),n=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],o-i[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class HT{}class cU extends vj{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class mC extends cU{static makeCurrent(){!function _j(e){Yb||(Yb=e)}(new mC)}onAndCancel(t,r,n){return t.addEventListener(r,n),()=>{t.removeEventListener(r,n)}}dispatchEvent(t,r){t.dispatchEvent(r)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,r){return(r=r||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,r){return"window"===r?window:"document"===r?t:"body"===r?t.body:null}getBaseHref(t){const r=function uU(){return Lp=Lp||document.querySelector("base"),Lp?Lp.getAttribute("href"):null}();return null==r?null:function dU(e){return new URL(e,document.baseURI).pathname}(r)}resetBaseElement(){Lp=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return RT(document.cookie,t)}}let Lp=null,pU=(()=>{var e;class t{build(){return new XMLHttpRequest}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac}),t})();const gC=new Be("EventManagerPlugins");let qT=(()=>{var e;class t{constructor(n,o){this._zone=o,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,o,i){return this._findPluginFor(o).addEventListener(n,o,i)}getZone(){return this._zone}_findPluginFor(n){let o=this._eventNameToPlugin.get(n);if(o)return o;if(o=this._plugins.find(s=>s.supports(n)),!o)throw new Je(5101,!1);return this._eventNameToPlugin.set(n,o),o}}return(e=t).\u0275fac=function(n){return new(n||e)(le(gC),le(Ze))},e.\u0275prov=E({token:e,factory:e.\u0275fac}),t})();class KT{constructor(t){this._doc=t}}const _C="ng-app-id";let YT=(()=>{var e;class t{constructor(n,o,i,s={}){this.doc=n,this.appId=o,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=UT(s),this.resetHostNodes()}addStyles(n){for(const o of n)1===this.changeUsageCount(o,1)&&this.onStyleAdded(o)}removeStyles(n){for(const o of n)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(o=>o.remove()),n.clear());for(const o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const o of this.getAllStyles())this.addStyleToHost(n,o)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const o of this.hostNodes)this.addStyleToHost(o,n)}onStyleRemoved(n){const o=this.styleRef;o.get(n)?.elements?.forEach(i=>i.remove()),o.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${_C}="${this.appId}"]`);if(n?.length){const o=new Map;return n.forEach(i=>{null!=i.textContent&&o.set(i.textContent,i)}),o}return null}changeUsageCount(n,o){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=o,s.usage}return i.set(n,{usage:o,elements:[]}),o}getStyleElement(n,o){const i=this.styleNodesInDOM,s=i?.get(o);if(s?.parentNode===n)return i.delete(o),s.removeAttribute(_C),s;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=o,this.platformIsServer&&a.setAttribute(_C,this.appId),n.appendChild(a),a}}addStyleToHost(n,o){const i=this.getStyleElement(n,o),s=this.styleRef,a=s.get(o)?.elements;a?a.push(i):s.set(o,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return(e=t).\u0275fac=function(n){return new(n||e)(le(ai),le(Tm),le(Nw,8),le(Ec))},e.\u0275prov=E({token:e,factory:e.\u0275fac}),t})();const vC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},yC=/%COMP%/g,_U=new Be("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function QT(e,t){return t.map(r=>r.replace(yC,e))}let JT=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f=null){this.eventManager=n,this.sharedStylesHost=o,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=UT(l),this.defaultRenderer=new bC(n,a,c,this.platformIsServer)}createRenderer(n,o){if(!n||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===ns.ShadowDom&&(o={...o,encapsulation:ns.Emulated});const i=this.getOrCreateRenderer(n,o);return i instanceof tM?i.applyToHost(n):i instanceof CC&&i.applyStyles(),i}getOrCreateRenderer(n,o){const i=this.rendererByCompId;let s=i.get(o.id);if(!s){const a=this.doc,l=this.ngZone,c=this.eventManager,f=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(o.encapsulation){case ns.Emulated:s=new tM(c,f,o,this.appId,p,a,l,m);break;case ns.ShadowDom:return new CU(c,f,n,o,a,l,this.nonce,m);default:s=new CC(c,f,o,p,a,l,m)}i.set(o.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return(e=t).\u0275fac=function(n){return new(n||e)(le(qT),le(YT),le(Tm),le(_U),le(ai),le(Ec),le(Ze),le(Nw))},e.\u0275prov=E({token:e,factory:e.\u0275fac}),t})();class bC{constructor(t,r,n,o){this.eventManager=t,this.doc=r,this.ngZone=n,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,r){return r?this.doc.createElementNS(vC[r]||r,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,r){(eM(t)?t.content:t).appendChild(r)}insertBefore(t,r,n){t&&(eM(t)?t.content:t).insertBefore(r,n)}removeChild(t,r){t&&t.removeChild(r)}selectRootElement(t,r){let n="string"==typeof t?this.doc.querySelector(t):t;if(!n)throw new Je(-5104,!1);return r||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,r,n,o){if(o){r=o+":"+r;const i=vC[o];i?t.setAttributeNS(i,r,n):t.setAttribute(r,n)}else t.setAttribute(r,n)}removeAttribute(t,r,n){if(n){const o=vC[n];o?t.removeAttributeNS(o,r):t.removeAttribute(`${n}:${r}`)}else t.removeAttribute(r)}addClass(t,r){t.classList.add(r)}removeClass(t,r){t.classList.remove(r)}setStyle(t,r,n,o){o&(xc.DashCase|xc.Important)?t.style.setProperty(r,n,o&xc.Important?"important":""):t.style[r]=n}removeStyle(t,r,n){n&xc.DashCase?t.style.removeProperty(r):t.style[r]=""}setProperty(t,r,n){null!=t&&(t[r]=n)}setValue(t,r){t.nodeValue=r}listen(t,r,n){if("string"==typeof t&&!(t=Rc().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${r}`);return this.eventManager.addEventListener(t,r,this.decoratePreventDefault(n))}decoratePreventDefault(t){return r=>{if("__ngUnwrap__"===r)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(r)):t(r))&&r.preventDefault()}}}function eM(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class CU extends bC{constructor(t,r,n,o,i,s,a,l){super(t,i,s,l),this.sharedStylesHost=r,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=QT(o.id,o.styles);for(const f of c){const p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=f,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,r){return super.appendChild(this.nodeOrShadowRoot(t),r)}insertBefore(t,r,n){return super.insertBefore(this.nodeOrShadowRoot(t),r,n)}removeChild(t,r){return super.removeChild(this.nodeOrShadowRoot(t),r)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class CC extends bC{constructor(t,r,n,o,i,s,a,l){super(t,i,s,a),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=o,this.styles=l?QT(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class tM extends CC{constructor(t,r,n,o,i,s,a,l){const c=o+"-"+n.id;super(t,r,n,i,s,a,l,c),this.contentAttr=function vU(e){return"_ngcontent-%COMP%".replace(yC,e)}(c),this.hostAttr=function yU(e){return"_nghost-%COMP%".replace(yC,e)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,r){const n=super.createElement(t,r);return super.setAttribute(n,this.contentAttr,""),n}}let SU=(()=>{var e;class t extends KT{constructor(n){super(n)}supports(n){return!0}addEventListener(n,o,i){return n.addEventListener(o,i,!1),()=>this.removeEventListener(n,o,i)}removeEventListener(n,o,i){return n.removeEventListener(o,i)}}return(e=t).\u0275fac=function(n){return new(n||e)(le(ai))},e.\u0275prov=E({token:e,factory:e.\u0275fac}),t})();const nM=["alt","control","meta","shift"],wU={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},EU={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let DU=(()=>{var e;class t extends KT{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,o,i){const s=t.parseEventName(o),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Rc().onAndCancel(n,s.domEventName,a))}static parseEventName(n){const o=n.toLowerCase().split("."),i=o.shift();if(0===o.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(o.pop());let a="",l=o.indexOf("code");if(l>-1&&(o.splice(l,1),a="code."),nM.forEach(f=>{const p=o.indexOf(f);p>-1&&(o.splice(p,1),a+=f+".")}),a+=s,0!=o.length||0===s.length)return null;const c={};return c.domEventName=i,c.fullKey=a,c}static matchEventFullKeyCode(n,o){let i=wU[n.key]||n.key,s="";return o.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),nM.forEach(a=>{a!==i&&(0,EU[a])(n)&&(s+=a+".")}),s+=i,s===o)}static eventCallback(n,o,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>o(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return(e=t).\u0275fac=function(n){return new(n||e)(le(ai))},e.\u0275prov=E({token:e,factory:e.\u0275fac}),t})();const MU=Zx(U4,"browser",[{provide:Ec,useValue:GT},{provide:Ow,useValue:function IU(){mC.makeCurrent()},multi:!0},{provide:ai,useFactory:function TU(){return function b2(e){Wv=e}(document),document},deps:[]}]),AU=new Be(""),iM=[{provide:kg,useClass:class fU{addToWindow(t){A.getAngularTestability=(n,o=!0)=>{const i=t.findTestabilityInTree(n,o);if(null==i)throw new Je(5103,!1);return i},A.getAllAngularTestabilities=()=>t.getAllTestabilities(),A.getAllAngularRootElements=()=>t.getAllRootElements(),A.frameworkStabilizers||(A.frameworkStabilizers=[]),A.frameworkStabilizers.push(n=>{const o=A.getAllAngularTestabilities();let i=o.length,s=!1;const a=function(l){s=s||l,i--,0==i&&n(s)};o.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,r,n){return null==r?null:t.getTestability(r)??(n?Rc().isShadowRoot(r)?this.findTestabilityInTree(t,r.host,!0):this.findTestabilityInTree(t,r.parentElement,!0):null)}},deps:[]},{provide:$x,useClass:Nb,deps:[Ze,Fb,kg]},{provide:Nb,useClass:Nb,deps:[Ze,Fb,kg]}],sM=[{provide:Vv,useValue:"root"},{provide:$l,useFactory:function xU(){return new $l},deps:[]},{provide:gC,useClass:SU,multi:!0,deps:[ai,Ze,Ec]},{provide:gC,useClass:DU,multi:!0,deps:[ai]},JT,YT,qT,{provide:OE,useExisting:JT},{provide:HT,useClass:pU,deps:[]},[]];let kU=(()=>{var e;class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Tm,useValue:n.appId}]}}}return(e=t).\u0275fac=function(n){return new(n||e)(le(AU,12))},e.\u0275mod=Wr({type:e}),e.\u0275inj=We({providers:[...sM,...iM],imports:[ll,H4]}),t})(),aM=(()=>{var e;class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return(e=t).\u0275fac=function(n){return new(n||e)(le(ai))},e.\u0275prov=E({token:e,factory:function(n){let o=null;return o=n?new n:function PU(){return new aM(le(ai))}(),o},providedIn:"root"}),t})();const Oc=typeof window<"u"&&window||{};class OU{constructor(t,r){this.msPerTick=t,this.numTicks=r}}class NU{constructor(t){this.appRef=t.injector.get(Ea)}timeChangeDetection(t){const r=t&&t.record,n="Change Detection",o=null!=Oc.console.profile;r&&o&&Oc.console.profile(n);const i=SC();let s=0;for(;s<5||SC()-i<500;)this.appRef.tick(),s++;const a=SC();r&&o&&Oc.console.profileEnd(n);const l=(a-i)/s;return Oc.console.log(`ran ${s} change detection cycles`),Oc.console.log(`${l.toFixed(2)} ms per check`),new OU(l,s)}}function SC(){return Oc.performance&&Oc.performance.now?Oc.performance.now():(new Date).getTime()}let wC=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=E({token:e,factory:function(n){let o=null;return o=n?new(n||e):le(uM),o},providedIn:"root"}),t})(),uM=(()=>{var e;class t extends wC{constructor(n){super(),this._doc=n}sanitize(n,o){if(null==o)return null;switch(n){case Ms.NONE:return o;case Ms.HTML:return el(o,"HTML")?Ts(o):DE(this._doc,String(o)).toString();case Ms.STYLE:return el(o,"Style")?Ts(o):o;case Ms.SCRIPT:if(el(o,"Script"))return Ts(o);throw new Je(5200,!1);case Ms.URL:return el(o,"URL")?Ts(o):Gm(String(o));case Ms.RESOURCE_URL:if(el(o,"ResourceURL"))return Ts(o);throw new Je(5201,!1);default:throw new Je(5202,!1)}}bypassSecurityTrustHtml(n){return function gN(e){return new uN(e)}(n)}bypassSecurityTrustStyle(n){return function _N(e){return new dN(e)}(n)}bypassSecurityTrustScript(n){return function vN(e){return new fN(e)}(n)}bypassSecurityTrustUrl(n){return function yN(e){return new pN(e)}(n)}bypassSecurityTrustResourceUrl(n){return function bN(e){return new hN(e)}(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(le(ai))},e.\u0275prov=E({token:e,factory:function(n){let o=null;return o=n?new n:function $U(e){return new uM(e.get(ai))}(le(Gr)),o},providedIn:"root"}),t})();var sr=S(5861),BU=S(6299),jd=S.n(BU);let e_,t_;function fM(e){if(!window.location.hash.startsWith(e))return;const t=window.location.hash.split("?")[1];if(!t)return;const r=t.split("&").map(n=>n.split("="));for(const[n,o]of r)if("url"===n&&o)try{return decodeURIComponent(o)}catch{continue}}function pM(){return void 0!==t_}class hM{constructor(){this.requestEvent=new sr.j}dispatchRequest(t){if(t){try{t=new(jd())(t).toString()}catch{return void console.error(`invalid URL: ${t}`)}this.url=t,this.requestEvent.dispatch()}}hasPendingRequest(){return void 0!==this.url}receivePendingUrl(){const t=this.url;return this.url=void 0,t}}let EC=(()=>{var e;class t{constructor(){this.installation=new hM,this.import=new hM,e_&&this.installation.dispatchRequest(e_),t_&&this.import.dispatchRequest(t_)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var F=S(3918);function Gd(e,t){return Pe(t)?Pn(e,t,1):Pn(e,1)}function xa(e,t){return gn((r,n)=>{let o=0;r.subscribe(Dn(n,i=>e.call(t,i,o++)&&n.next(i)))})}function $p(e){return gn((t,r)=>{try{t.subscribe(r)}finally{r.add(e)}})}class n_{}class r_{}class oa{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(r=>{const n=r.indexOf(":");if(n>0){const o=r.slice(0,n),i=o.toLowerCase(),s=r.slice(n+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((r,n)=>{this.setHeaderEntries(n,r)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([r,n])=>{this.setHeaderEntries(r,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const r=this.headers.get(t.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,r){return this.clone({name:t,value:r,op:"a"})}set(t,r){return this.clone({name:t,value:r,op:"s"})}delete(t,r){return this.clone({name:t,value:r,op:"d"})}maybeSetNormalizedName(t,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,t)}init(){this.lazyInit&&(this.lazyInit instanceof oa?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(r=>{this.headers.set(r,t.headers.get(r)),this.normalizedNames.set(r,t.normalizedNames.get(r))})}clone(t){const r=new oa;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof oa?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([t]),r}applyUpdate(t){const r=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,r);const o=("a"===t.op?this.headers.get(r):void 0)||[];o.push(...n),this.headers.set(r,o);break;case"d":const i=t.value;if(i){let s=this.headers.get(r);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,s)}else this.headers.delete(r),this.normalizedNames.delete(r)}}setHeaderEntries(t,r){const n=(Array.isArray(r)?r:[r]).map(i=>i.toString()),o=t.toLowerCase();this.headers.set(o,n),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>t(this.normalizedNames.get(r),this.headers.get(r)))}}class GU{encodeKey(t){return mM(t)}encodeValue(t){return mM(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const HU=/%(\d[a-f0-9])/gi,zU={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function mM(e){return encodeURIComponent(e).replace(HU,(t,r)=>zU[r]??t)}function o_(e){return`${e}`}class Nc{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new GU,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function UU(e,t){const r=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,i)),t.decodeValue(o.slice(i+1))],l=r.get(s)||[];l.push(a),r.set(s,l)}),r}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(r=>{const n=t.fromObject[r],o=Array.isArray(n)?n.map(o_):[o_(n)];this.map.set(r,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const r=this.map.get(t);return r?r[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,r){return this.clone({param:t,value:r,op:"a"})}appendAll(t){const r=[];return Object.keys(t).forEach(n=>{const o=t[n];Array.isArray(o)?o.forEach(i=>{r.push({param:n,value:i,op:"a"})}):r.push({param:n,value:o,op:"a"})}),this.clone(r)}set(t,r){return this.clone({param:t,value:r,op:"s"})}delete(t,r){return this.clone({param:t,value:r,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const r=this.encoder.encodeKey(t);return this.map.get(t).map(n=>r+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const r=new Nc({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(t),r}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const r=("a"===t.op?this.map.get(t.param):void 0)||[];r.push(o_(t.value)),this.map.set(t.param,r);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let n=this.map.get(t.param)||[];const o=n.indexOf(o_(t.value));-1!==o&&n.splice(o,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class WU{constructor(){this.map=new Map}set(t,r){return this.map.set(t,r),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function gM(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function _M(e){return typeof Blob<"u"&&e instanceof Blob}function vM(e){return typeof FormData<"u"&&e instanceof FormData}class Bp{constructor(t,r,n,o){let i;if(this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function ZU(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==n?n:null,i=o):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),this.transferCache=i.transferCache),this.headers||(this.headers=new oa),this.context||(this.context=new WU),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=r;else{const a=r.indexOf("?");this.urlWithParams=r+(-1===a?"?":a<r.length-1?"&":"")+s}}else this.params=new Nc,this.urlWithParams=r}serializeBody(){return null===this.body?null:gM(this.body)||_M(this.body)||vM(this.body)||function qU(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Nc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||vM(this.body)?null:_M(this.body)?this.body.type||null:gM(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Nc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const r=t.method||this.method,n=t.url||this.url,o=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const f=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((p,m)=>p.set(m,t.setHeaders[m]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((p,m)=>p.set(m,t.setParams[m]),c)),new Bp(r,n,i,{params:c,headers:l,context:f,reportProgress:a,responseType:o,withCredentials:s})}}var Fc=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Fc||{});class DC{constructor(t,r=200,n="OK"){this.headers=t.headers||new oa,this.status=void 0!==t.status?t.status:r,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class i_ extends DC{constructor(t={}){super(t),this.type=Fc.ResponseHeader}clone(t={}){return new i_({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class vu extends DC{constructor(t={}){super(t),this.type=Fc.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new vu({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Ud extends DC{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function IC(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}let xC=(()=>{var e;class t{constructor(n){this.handler=n}request(n,o,i={}){let s;if(n instanceof Bp)s=n;else{let c,f;c=i.headers instanceof oa?i.headers:new oa(i.headers),i.params&&(f=i.params instanceof Nc?i.params:new Nc({fromObject:i.params})),s=new Bp(n,o,void 0!==i.body?i.body:null,{headers:c,context:i.context,params:f,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}const a=Lt(s).pipe(Gd(c=>this.handler.handle(c)));if(n instanceof Bp||"events"===i.observe)return a;const l=a.pipe(xa(c=>c instanceof vu));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(Jt(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(Jt(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(Jt(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return l.pipe(Jt(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,o={}){return this.request("DELETE",n,o)}get(n,o={}){return this.request("GET",n,o)}head(n,o={}){return this.request("HEAD",n,o)}jsonp(n,o){return this.request("JSONP",n,{params:(new Nc).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,o={}){return this.request("OPTIONS",n,o)}patch(n,o,i={}){return this.request("PATCH",n,IC(i,o))}post(n,o,i={}){return this.request("POST",n,IC(i,o))}put(n,o,i={}){return this.request("PUT",n,IC(i,o))}}return(e=t).\u0275fac=function(n){return new(n||e)(le(n_))},e.\u0275prov=E({token:e,factory:e.\u0275fac}),t})();function bM(e,t){return t(e)}function JU(e,t){return(r,n)=>t.intercept(r,{handle:o=>e(o,n)})}const t6=new Be(""),Vp=new Be(""),CM=new Be(""),SM=new Be("");function n6(){let e=null;return(t,r)=>{null===e&&(e=(ot(t6,{optional:!0})??[]).reduceRight(JU,bM));const n=ot(Mg),o=n.add();return e(t,r).pipe($p(()=>n.remove(o)))}}let wM=(()=>{var e;class t extends n_{constructor(n,o){super(),this.backend=n,this.injector=o,this.chain=null,this.pendingTasks=ot(Mg);const i=ot(SM,{optional:!0});this.backend=i??n}handle(n){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Vp),...this.injector.get(CM,[])]));this.chain=i.reduceRight((s,a)=>function e6(e,t,r){return(n,o)=>Cc(r,()=>t(n,i=>e(i,o)))}(s,a,this.injector),bM)}const o=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe($p(()=>this.pendingTasks.remove(o)))}}return(e=t).\u0275fac=function(n){return new(n||e)(le(r_),le(ii))},e.\u0275prov=E({token:e,factory:e.\u0275fac}),t})();const a6=/^\)\]\}',?\n/;let DM=(()=>{var e;class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Je(-2800,!1);const o=this.xhrFactory;return(o.\u0275loadImpl?mr(o.\u0275loadImpl()):Lt(null)).pipe(zr(()=>new on(s=>{const a=o.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((_e,De)=>a.setRequestHeader(_e,De.join(","))),n.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const _e=n.detectContentTypeHeader();null!==_e&&a.setRequestHeader("Content-Type",_e)}if(n.responseType){const _e=n.responseType.toLowerCase();a.responseType="json"!==_e?_e:"text"}const l=n.serializeBody();let c=null;const f=()=>{if(null!==c)return c;const _e=a.statusText||"OK",De=new oa(a.getAllResponseHeaders()),Re=function l6(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(a)||n.url;return c=new i_({headers:De,status:a.status,statusText:_e,url:Re}),c},p=()=>{let{headers:_e,status:De,statusText:Re,url:ht}=f(),pt=null;204!==De&&(pt=typeof a.response>"u"?a.responseText:a.response),0===De&&(De=pt?200:0);let Gt=De>=200&&De<300;if("json"===n.responseType&&"string"==typeof pt){const Et=pt;pt=pt.replace(a6,"");try{pt=""!==pt?JSON.parse(pt):null}catch(tr){pt=Et,Gt&&(Gt=!1,pt={error:tr,text:pt})}}Gt?(s.next(new vu({body:pt,headers:_e,status:De,statusText:Re,url:ht||void 0})),s.complete()):s.error(new Ud({error:pt,headers:_e,status:De,statusText:Re,url:ht||void 0}))},m=_e=>{const{url:De}=f(),Re=new Ud({error:_e,status:a.status||0,statusText:a.statusText||"Unknown Error",url:De||void 0});s.error(Re)};let C=!1;const U=_e=>{C||(s.next(f()),C=!0);let De={type:Fc.DownloadProgress,loaded:_e.loaded};_e.lengthComputable&&(De.total=_e.total),"text"===n.responseType&&a.responseText&&(De.partialText=a.responseText),s.next(De)},J=_e=>{let De={type:Fc.UploadProgress,loaded:_e.loaded};_e.lengthComputable&&(De.total=_e.total),s.next(De)};return a.addEventListener("load",p),a.addEventListener("error",m),a.addEventListener("timeout",m),a.addEventListener("abort",m),n.reportProgress&&(a.addEventListener("progress",U),null!==l&&a.upload&&a.upload.addEventListener("progress",J)),a.send(l),s.next({type:Fc.Sent}),()=>{a.removeEventListener("error",m),a.removeEventListener("abort",m),a.removeEventListener("load",p),a.removeEventListener("timeout",m),n.reportProgress&&(a.removeEventListener("progress",U),null!==l&&a.upload&&a.upload.removeEventListener("progress",J)),a.readyState!==a.DONE&&a.abort()}})))}}return(e=t).\u0275fac=function(n){return new(n||e)(le(HT))},e.\u0275prov=E({token:e,factory:e.\u0275fac}),t})();const AC=new Be("XSRF_ENABLED"),IM=new Be("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),xM=new Be("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class TM{}let d6=(()=>{var e;class t{constructor(n,o,i){this.doc=n,this.platform=o,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=RT(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return(e=t).\u0275fac=function(n){return new(n||e)(le(ai),le(Ec),le(IM))},e.\u0275prov=E({token:e,factory:e.\u0275fac}),t})();function f6(e,t){const r=e.url.toLowerCase();if(!ot(AC)||"GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return t(e);const n=ot(TM).getToken(),o=ot(xM);return null!=n&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,n)})),t(e)}var Lc=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(Lc||{});function yu(e,t){return{\u0275kind:e,\u0275providers:t}}function p6(...e){const t=[xC,DM,wM,{provide:n_,useExisting:wM},{provide:r_,useExisting:DM},{provide:Vp,useValue:f6,multi:!0},{provide:AC,useValue:!0},{provide:TM,useClass:d6}];for(const r of e)t.push(...r.\u0275providers);return function Lv(e){return{\u0275providers:e}}(t)}const MM=new Be("LEGACY_INTERCEPTOR_FN");let m6=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Wr({type:e}),e.\u0275inj=We({providers:[p6(yu(Lc.LegacyInterceptors,[{provide:MM,useFactory:n6},{provide:Vp,useExisting:MM,multi:!0}]))]}),t})();const{isArray:S6}=Array,{getPrototypeOf:w6,prototype:E6,keys:D6}=Object;function FM(e){if(1===e.length){const t=e[0];if(S6(t))return{args:t,keys:null};if(function I6(e){return e&&"object"==typeof e&&w6(e)===E6}(t)){const r=D6(t);return{args:r.map(n=>t[n]),keys:r}}}return{args:e,keys:null}}const{isArray:x6}=Array;function kC(e){return Jt(t=>function T6(e,t){return x6(t)?e(...t):e(t)}(e,t))}function LM(e,t){return e.reduce((r,n,o)=>(r[n]=t[o],r),{})}function a_(...e){const t=Ji(e),r=la(e),{args:n,keys:o}=FM(e);if(0===n.length)return mr([],t);const i=new on(function M6(e,t,r=Kn){return n=>{$M(t,()=>{const{length:o}=e,i=new Array(o);let s=o,a=o;for(let l=0;l<o;l++)$M(t,()=>{const c=mr(e[l],t);let f=!1;c.subscribe(Dn(n,p=>{i[l]=p,f||(f=!0,a--),a||n.next(r(i.slice()))},()=>{--s||n.complete()}))},n)},n)}}(n,t,o?s=>LM(o,s):Kn));return r?i.pipe(kC(r)):i}function $M(e,t,r){e?Wn(r,e,t):t()}const l_=Me(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function RC(...e){return function A6(){return ko(1)}()(mr(e,Ji(e)))}function BM(e){return new on(t=>{Ge(e()).subscribe(t)})}function c_(e,t){const r=Pe(e)?e:()=>e,n=o=>o.error(r());return new on(t?o=>t.schedule(n,0,o):n)}function PC(){return gn((e,t)=>{let r=null;e._refCount++;const n=Dn(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(r=null);const o=e._connection,i=r;r=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(n),n.closed||(r=e.connect())})}class VM extends on{constructor(t,r){super(),this.source=t,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,Sr(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new at;const r=this.getSubject();t.add(this.source.subscribe(Dn(r,void 0,()=>{this._teardown(),r.complete()},n=>{this._teardown(),r.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=at.EMPTY)}return t}refCount(){return PC()(this)}}function Hd(e){return e<=0?()=>Ro:gn((t,r)=>{let n=0;t.subscribe(Dn(r,o=>{++n<=e&&(r.next(o),e<=n&&r.complete())}))})}function jM(...e){const t=Ji(e);return gn((r,n)=>{(t?RC(e,r,t):RC(e,r)).subscribe(n)})}function u_(e){return gn((t,r)=>{let n=!1;t.subscribe(Dn(r,o=>{n=!0,r.next(o)},()=>{n||r.next(e),r.complete()}))})}function GM(e=k6){return gn((t,r)=>{let n=!1;t.subscribe(Dn(r,o=>{n=!0,r.next(o)},()=>n?r.complete():r.error(e())))})}function k6(){return new l_}function $c(e,t){const r=arguments.length>=2;return n=>n.pipe(e?xa((o,i)=>e(o,i,n)):Kn,Hd(1),r?u_(t):GM(()=>new l_))}function Di(e,t,r){const n=Pe(e)||t||r?{next:e,error:t,complete:r}:e;return n?gn((o,i)=>{var s;null===(s=n.subscribe)||void 0===s||s.call(n);let a=!0;o.subscribe(Dn(i,l=>{var c;null===(c=n.next)||void 0===c||c.call(n,l),i.next(l)},()=>{var l;a=!1,null===(l=n.complete)||void 0===l||l.call(n),i.complete()},l=>{var c;a=!1,null===(c=n.error)||void 0===c||c.call(n,l),i.error(l)},()=>{var l,c;a&&(null===(l=n.unsubscribe)||void 0===l||l.call(n)),null===(c=n.finalize)||void 0===c||c.call(n)}))}):Kn}function bu(e){return gn((t,r)=>{let i,n=null,o=!1;n=t.subscribe(Dn(r,void 0,void 0,s=>{i=Ge(e(s,bu(e)(t))),n?(n.unsubscribe(),n=null,i.subscribe(r)):o=!0})),o&&(n.unsubscribe(),n=null,i.subscribe(r))})}function OC(e){return e<=0?()=>Ro:gn((t,r)=>{let n=[];t.subscribe(Dn(r,o=>{n.push(o),e<n.length&&n.shift()},()=>{for(const o of n)r.next(o);r.complete()},void 0,()=>{n=null}))})}function UM(e){return Jt(()=>e)}function HM(e){return gn((t,r)=>{Ge(e).subscribe(Dn(r,()=>r.complete(),xn)),!r.closed&&t.subscribe(r)})}const mn="primary",jp=Symbol("RouteTitle");class N6{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const r=this.params[t];return Array.isArray(r)?r[0]:r}return null}getAll(t){if(this.has(t)){const r=this.params[t];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function zd(e){return new N6(e)}function F6(e,t,r){const n=r.path.split("/");if(n.length>e.length||"full"===r.pathMatch&&(t.hasChildren()||n.length<e.length))return null;const o={};for(let i=0;i<n.length;i++){const s=n[i],a=e[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,n.length),posParams:o}}function cl(e,t){const r=e?NC(e):void 0,n=t?NC(t):void 0;if(!r||!n||r.length!=n.length)return!1;let o;for(let i=0;i<r.length;i++)if(o=r[i],!zM(e[o],t[o]))return!1;return!0}function NC(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function zM(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const r=[...e].sort(),n=[...t].sort();return r.every((o,i)=>n[i]===o)}return e===t}function WM(e){return e.length>0?e[e.length-1]:null}function Bc(e){return function C6(e){return!!e&&(e instanceof on||Pe(e.lift)&&Pe(e.subscribe))}(e)?e:Dp(e)?mr(Promise.resolve(e)):Lt(e)}const $6={exact:function KM(e,t,r){if(!Cu(e.segments,t.segments)||!d_(e.segments,t.segments,r)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const n in t.children)if(!e.children[n]||!KM(e.children[n],t.children[n],r))return!1;return!0},subset:YM},ZM={exact:function B6(e,t){return cl(e,t)},subset:function V6(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(r=>zM(e[r],t[r]))},ignored:()=>!0};function qM(e,t,r){return $6[r.paths](e.root,t.root,r.matrixParams)&&ZM[r.queryParams](e.queryParams,t.queryParams)&&!("exact"===r.fragment&&e.fragment!==t.fragment)}function YM(e,t,r){return XM(e,t,t.segments,r)}function XM(e,t,r,n){if(e.segments.length>r.length){const o=e.segments.slice(0,r.length);return!(!Cu(o,r)||t.hasChildren()||!d_(o,r,n))}if(e.segments.length===r.length){if(!Cu(e.segments,r)||!d_(e.segments,r,n))return!1;for(const o in t.children)if(!e.children[o]||!YM(e.children[o],t.children[o],n))return!1;return!0}{const o=r.slice(0,e.segments.length),i=r.slice(e.segments.length);return!!(Cu(e.segments,o)&&d_(e.segments,o,n)&&e.children[mn])&&XM(e.children[mn],t,i,n)}}function d_(e,t,r){return t.every((n,o)=>ZM[r](e[o].parameters,n.parameters))}class Wd{constructor(t=new Mr([],{}),r={},n=null){this.root=t,this.queryParams=r,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zd(this.queryParams)),this._queryParamMap}toString(){return U6.serialize(this)}}class Mr{constructor(t,r){this.segments=t,this.children=r,this.parent=null,Object.values(r).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return f_(this)}}class Gp{constructor(t,r){this.path=t,this.parameters=r}get parameterMap(){return this._parameterMap||(this._parameterMap=zd(this.parameters)),this._parameterMap}toString(){return eA(this)}}function Cu(e,t){return e.length===t.length&&e.every((r,n)=>r.path===t[n].path)}let Su=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=E({token:e,factory:()=>new FC,providedIn:"root"}),t})();class FC{parse(t){const r=new eH(t);return new Wd(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(t){const r=`/${Up(t.root,!0)}`,n=function W6(e){const t=Object.keys(e).map(r=>{const n=e[r];return Array.isArray(n)?n.map(o=>`${p_(r)}=${p_(o)}`).join("&"):`${p_(r)}=${p_(n)}`}).filter(r=>!!r);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${r}${n}${"string"==typeof t.fragment?`#${function H6(e){return encodeURI(e)}(t.fragment)}`:""}`}}const U6=new FC;function f_(e){return e.segments.map(t=>eA(t)).join("/")}function Up(e,t){if(!e.hasChildren())return f_(e);if(t){const r=e.children[mn]?Up(e.children[mn],!1):"",n=[];return Object.entries(e.children).forEach(([o,i])=>{o!==mn&&n.push(`${o}:${Up(i,!1)}`)}),n.length>0?`${r}(${n.join("//")})`:r}{const r=function G6(e,t){let r=[];return Object.entries(e.children).forEach(([n,o])=>{n===mn&&(r=r.concat(t(o,n)))}),Object.entries(e.children).forEach(([n,o])=>{n!==mn&&(r=r.concat(t(o,n)))}),r}(e,(n,o)=>o===mn?[Up(e.children[mn],!1)]:[`${o}:${Up(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[mn]?`${f_(e)}/${r[0]}`:`${f_(e)}/(${r.join("//")})`}}function QM(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function p_(e){return QM(e).replace(/%3B/gi,";")}function LC(e){return QM(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function h_(e){return decodeURIComponent(e)}function JM(e){return h_(e.replace(/\+/g,"%20"))}function eA(e){return`${LC(e.path)}${function z6(e){return Object.keys(e).map(t=>`;${LC(t)}=${LC(e[t])}`).join("")}(e.parameters)}`}const Z6=/^[^\/()?;#]+/;function $C(e){const t=e.match(Z6);return t?t[0]:""}const q6=/^[^\/()?;=#]+/,Y6=/^[^=?&#]+/,Q6=/^[^&#]+/;class eH{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Mr([],{}):new Mr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(r).length>0)&&(n[mn]=new Mr(t,r)),n}parseSegment(){const t=$C(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Je(4009,!1);return this.capture(t),new Gp(h_(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const r=function K6(e){const t=e.match(q6);return t?t[0]:""}(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){const o=$C(this.remaining);o&&(n=o,this.capture(n))}t[h_(r)]=h_(n)}parseQueryParam(t){const r=function X6(e){const t=e.match(Y6);return t?t[0]:""}(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){const s=function J6(e){const t=e.match(Q6);return t?t[0]:""}(this.remaining);s&&(n=s,this.capture(n))}const o=JM(r),i=JM(n);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=$C(this.remaining),o=this.remaining[n.length];if("/"!==o&&")"!==o&&";"!==o)throw new Je(4010,!1);let i;n.indexOf(":")>-1?(i=n.slice(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=mn);const s=this.parseChildren();r[i]=1===Object.keys(s).length?s[mn]:new Mr([],s),this.consumeOptional("//")}return r}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Je(4011,!1)}}function tA(e){return e.segments.length>0?new Mr([],{[mn]:e}):e}function nA(e){const t={};for(const n of Object.keys(e.children)){const i=nA(e.children[n]);if(n===mn&&0===i.segments.length&&i.hasChildren())for(const[s,a]of Object.entries(i.children))t[s]=a;else(i.segments.length>0||i.hasChildren())&&(t[n]=i)}return function tH(e){if(1===e.numberOfChildren&&e.children[mn]){const t=e.children[mn];return new Mr(e.segments.concat(t.segments),t.children)}return e}(new Mr(e.segments,t))}function wu(e){return e instanceof Wd}function rA(e){let t;const o=tA(function r(i){const s={};for(const l of i.children){const c=r(l);s[l.outlet]=c}const a=new Mr(i.url,s);return i===e&&(t=a),a}(e.root));return t??o}function oA(e,t,r,n){let o=e;for(;o.parent;)o=o.parent;if(0===t.length)return BC(o,o,o,r,n);const i=function rH(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new sA(!0,0,e);let t=0,r=!1;const n=e.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return Object.entries(i.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?r=!0:".."===a?t++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new sA(r,t,n)}(t);if(i.toRoot())return BC(o,o,new Mr([],{}),r,n);const s=function oH(e,t,r){if(e.isAbsolute)return new g_(t,!0,0);if(!r)return new g_(t,!1,NaN);if(null===r.parent)return new g_(r,!0,0);const n=m_(e.commands[0])?0:1;return function iH(e,t,r){let n=e,o=t,i=r;for(;i>o;){if(i-=o,n=n.parent,!n)throw new Je(4005,!1);o=n.segments.length}return new g_(n,!1,o-i)}(r,r.segments.length-1+n,e.numberOfDoubleDots)}(i,o,e),a=s.processChildren?zp(s.segmentGroup,s.index,i.commands):aA(s.segmentGroup,s.index,i.commands);return BC(o,s.segmentGroup,a,r,n)}function m_(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Hp(e){return"object"==typeof e&&null!=e&&e.outlets}function BC(e,t,r,n,o){let s,i={};n&&Object.entries(n).forEach(([l,c])=>{i[l]=Array.isArray(c)?c.map(f=>`${f}`):`${c}`}),s=e===t?r:iA(e,t,r);const a=tA(nA(s));return new Wd(a,i,o)}function iA(e,t,r){const n={};return Object.entries(e.children).forEach(([o,i])=>{n[o]=i===t?r:iA(i,t,r)}),new Mr(e.segments,n)}class sA{constructor(t,r,n){if(this.isAbsolute=t,this.numberOfDoubleDots=r,this.commands=n,t&&n.length>0&&m_(n[0]))throw new Je(4003,!1);const o=n.find(Hp);if(o&&o!==WM(n))throw new Je(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class g_{constructor(t,r,n){this.segmentGroup=t,this.processChildren=r,this.index=n}}function aA(e,t,r){if(e||(e=new Mr([],{})),0===e.segments.length&&e.hasChildren())return zp(e,t,r);const n=function aH(e,t,r){let n=0,o=t;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(n>=r.length)return i;const s=e.segments[o],a=r[n];if(Hp(a))break;const l=`${a}`,c=n<r.length-1?r[n+1]:null;if(o>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!cA(l,c,s))return i;n+=2}else{if(!cA(l,{},s))return i;n++}o++}return{match:!0,pathIndex:o,commandIndex:n}}(e,t,r),o=r.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){const i=new Mr(e.segments.slice(0,n.pathIndex),{});return i.children[mn]=new Mr(e.segments.slice(n.pathIndex),e.children),zp(i,0,o)}return n.match&&0===o.length?new Mr(e.segments,{}):n.match&&!e.hasChildren()?VC(e,t,r):n.match?zp(e,0,o):VC(e,t,r)}function zp(e,t,r){if(0===r.length)return new Mr(e.segments,{});{const n=function sH(e){return Hp(e[0])?e[0].outlets:{[mn]:e}}(r),o={};if(Object.keys(n).some(i=>i!==mn)&&e.children[mn]&&1===e.numberOfChildren&&0===e.children[mn].segments.length){const i=zp(e.children[mn],t,r);return new Mr(e.segments,i.children)}return Object.entries(n).forEach(([i,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(o[i]=aA(e.children[i],t,s))}),Object.entries(e.children).forEach(([i,s])=>{void 0===n[i]&&(o[i]=s)}),new Mr(e.segments,o)}}function VC(e,t,r){const n=e.segments.slice(0,t);let o=0;for(;o<r.length;){const i=r[o];if(Hp(i)){const l=lH(i.outlets);return new Mr(n,l)}if(0===o&&m_(r[0])){n.push(new Gp(e.segments[t].path,lA(r[0]))),o++;continue}const s=Hp(i)?i.outlets[mn]:`${i}`,a=o<r.length-1?r[o+1]:null;s&&a&&m_(a)?(n.push(new Gp(s,lA(a))),o+=2):(n.push(new Gp(s,{})),o++)}return new Mr(n,{})}function lH(e){const t={};return Object.entries(e).forEach(([r,n])=>{"string"==typeof n&&(n=[n]),null!==n&&(t[r]=VC(new Mr([],{}),0,n))}),t}function lA(e){const t={};return Object.entries(e).forEach(([r,n])=>t[r]=`${n}`),t}function cA(e,t,r){return e==r.path&&cl(t,r.parameters)}const Wp="imperative";class ul{constructor(t,r){this.id=t,this.url=r}}class Zp extends ul{constructor(t,r,n="imperative",o=null){super(t,r),this.type=0,this.navigationTrigger=n,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zl extends ul{constructor(t,r,n){super(t,r),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Zd extends ul{constructor(t,r,n,o){super(t,r),this.reason=n,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class qd extends ul{constructor(t,r,n,o){super(t,r),this.reason=n,this.code=o,this.type=16}}class __ extends ul{constructor(t,r,n,o){super(t,r),this.error=n,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class uA extends ul{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cH extends ul{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uH extends ul{constructor(t,r,n,o,i){super(t,r),this.urlAfterRedirects=n,this.state=o,this.shouldActivate=i,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class dH extends ul{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fH extends ul{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pH{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hH{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class mH{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gH{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _H{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vH{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dA{constructor(t,r,n){this.routerEvent=t,this.position=r,this.anchor=n,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class jC{}class GC{constructor(t){this.url=t}}class yH{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Eu,this.attachRef=null}}let Eu=(()=>{var e;class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,o){const i=this.getOrCreateContext(n);i.outlet=o,this.contexts.set(n,i)}onChildOutletDestroyed(n){const o=this.getContext(n);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let o=this.getContext(n);return o||(o=new yH,this.contexts.set(n,o)),o}getContext(n){return this.contexts.get(n)||null}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class fA{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const r=this.pathFromRoot(t);return r.length>1?r[r.length-2]:null}children(t){const r=UC(t,this._root);return r?r.children.map(n=>n.value):[]}firstChild(t){const r=UC(t,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(t){const r=HC(t,this._root);return r.length<2?[]:r[r.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return HC(t,this._root).map(r=>r.value)}}function UC(e,t){if(e===t.value)return t;for(const r of t.children){const n=UC(e,r);if(n)return n}return null}function HC(e,t){if(e===t.value)return[t];for(const r of t.children){const n=HC(e,r);if(n.length)return n.unshift(t),n}return[]}class Ta{constructor(t,r){this.value=t,this.children=r}toString(){return`TreeNode(${this.value})`}}function Kd(e){const t={};return e&&e.children.forEach(r=>t[r.value.outlet]=r),t}class pA extends fA{constructor(t,r){super(t),this.snapshot=r,ZC(this,t)}toString(){return this.snapshot.toString()}}function hA(e,t){const r=function bH(e,t){const s=new WC([],{},{},"",{},mn,t,null,{});return new mA("",new Ta(s,[]))}(0,t),n=new ro([new Gp("",{})]),o=new ro({}),i=new ro({}),s=new ro({}),a=new ro(""),l=new dl(n,o,s,a,i,mn,t,r.root);return l.snapshot=r.root,new pA(new Ta(l,[]),r)}class dl{constructor(t,r,n,o,i,s,a,l){this.urlSubject=t,this.paramsSubject=r,this.queryParamsSubject=n,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Jt(c=>c[jp]))??Lt(void 0),this.url=t,this.params=r,this.queryParams=n,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Jt(t=>zd(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Jt(t=>zd(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zC(e,t,r="emptyOnly"){let n;const{routeConfig:o}=e;return n=null===t||"always"!==r&&""!==o?.path&&(t.component||t.routeConfig?.loadComponent)?{params:e.params,data:e.data,resolve:{...e.data,...e._resolvedData??{}}}:{params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.data,...o?.data,...e._resolvedData}},o&&_A(o)&&(n.resolve[jp]=o.title),n}class WC{get title(){return this.data?.[jp]}constructor(t,r,n,o,i,s,a,l,c){this.url=t,this.params=r,this.queryParams=n,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=zd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class mA extends fA{constructor(t,r){super(r),this.url=t,ZC(this,r)}toString(){return gA(this._root)}}function ZC(e,t){t.value._routerState=e,t.children.forEach(r=>ZC(e,r))}function gA(e){const t=e.children.length>0?` { ${e.children.map(gA).join(", ")} } `:"";return`${e.value}${t}`}function qC(e){if(e.snapshot){const t=e.snapshot,r=e._futureSnapshot;e.snapshot=r,cl(t.queryParams,r.queryParams)||e.queryParamsSubject.next(r.queryParams),t.fragment!==r.fragment&&e.fragmentSubject.next(r.fragment),cl(t.params,r.params)||e.paramsSubject.next(r.params),function L6(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!cl(e[r],t[r]))return!1;return!0}(t.url,r.url)||e.urlSubject.next(r.url),cl(t.data,r.data)||e.dataSubject.next(r.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function KC(e,t){const r=cl(e.params,t.params)&&function j6(e,t){return Cu(e,t)&&e.every((r,n)=>cl(r.parameters,t[n].parameters))}(e.url,t.url);return r&&!(!e.parent!=!t.parent)&&(!e.parent||KC(e.parent,t.parent))}function _A(e){return"string"==typeof e.title||null===e.title}let vA=(()=>{var e;class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=mn,this.activateEvents=new qt,this.deactivateEvents=new qt,this.attachEvents=new qt,this.detachEvents=new qt,this.parentContexts=ot(Eu),this.location=ot(cs),this.changeDetector=ot(lt),this.environmentInjector=ot(ii),this.inputBinder=ot(v_,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:o,previousValue:i}=n.name;if(o)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Je(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Je(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Je(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,o){this.activated=n,this._activatedRoute=o,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,o){if(this.isActivated)throw new Je(4013,!1);this._activatedRoute=n;const i=this.location,a=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new CH(n,l,i.injector);this.activated=i.createComponent(a,{index:i.length,injector:c,environmentInjector:o??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=Mt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Yo]}),t})();class CH{constructor(t,r,n){this.route=t,this.childContexts=r,this.parent=n}get(t,r){return t===dl?this.route:t===Eu?this.childContexts:this.parent.get(t,r)}}const v_=new Be("");let yA=(()=>{var e;class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:o}=n,i=a_([o.queryParams,o.params,o.data]).pipe(zr(([s,a,l],c)=>(l={...s,...a,...l},0===c?Lt(l):Promise.resolve(l)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==o||null===o.component)return void this.unsubscribeFromRouteData(n);const a=vT(o.component);if(a)for(const{templateName:l}of a.inputs)n.activatedComponentRef.setInput(l,s[l]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac}),t})();function qp(e,t,r){if(r&&e.shouldReuseRoute(t.value,r.value.snapshot)){const n=r.value;n._futureSnapshot=t.value;const o=function wH(e,t,r){return t.children.map(n=>{for(const o of r.children)if(e.shouldReuseRoute(n.value,o.value.snapshot))return qp(e,n,o);return qp(e,n)})}(e,t,r);return new Ta(n,o)}{if(e.shouldAttach(t.value)){const i=e.retrieve(t.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>qp(e,a)),s}}const n=function EH(e){return new dl(new ro(e.url),new ro(e.params),new ro(e.queryParams),new ro(e.fragment),new ro(e.data),e.outlet,e.component,e)}(t.value),o=t.children.map(i=>qp(e,i));return new Ta(n,o)}}const YC="ngNavigationCancelingError";function bA(e,t){const{redirectTo:r,navigationBehaviorOptions:n}=wu(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=CA(!1,0,t);return o.url=r,o.navigationBehaviorOptions=n,o}function CA(e,t,r){const n=new Error("NavigationCancelingError: "+(e||""));return n[YC]=!0,n.cancellationCode=t,r&&(n.url=r),n}function SA(e){return e&&e[YC]}let wA=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ye({type:e,selectors:[["ng-component"]],standalone:!0,features:[Eg],decls:1,vars:0,template:function(n,o){1&n&&Ue(0,"router-outlet")},dependencies:[vA],encapsulation:2}),t})();function XC(e){const t=e.children&&e.children.map(XC),r=t?{...e,children:t}:{...e};return!r.component&&!r.loadComponent&&(t||r.loadChildren)&&r.outlet&&r.outlet!==mn&&(r.component=wA),r}function fl(e){return e.outlet||mn}function Kp(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const r=t.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}class RH{constructor(t,r,n,o,i){this.routeReuseStrategy=t,this.futureState=r,this.currState=n,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){const r=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,n,t),qC(this.futureState.root),this.activateChildRoutes(r,n,t)}deactivateChildRoutes(t,r,n){const o=Kd(r);t.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],n),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,n)})}deactivateRoutes(t,r,n){const o=t.value,i=r?r.value:null;if(o===i)if(o.component){const s=n.getContext(o.outlet);s&&this.deactivateChildRoutes(t,r,s.children)}else this.deactivateChildRoutes(t,r,n);else i&&this.deactivateRouteAndItsChildren(r,n)}deactivateRouteAndItsChildren(t,r){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,r):this.deactivateRouteAndOutlet(t,r)}detachAndStoreRouteSubtree(t,r){const n=r.getContext(t.value.outlet),o=n&&t.value.component?n.children:r,i=Kd(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);if(n&&n.outlet){const s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,r){const n=r.getContext(t.value.outlet),o=n&&t.value.component?n.children:r,i=Kd(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,r,n){const o=Kd(r);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],n),this.forwardEvent(new vH(i.value.snapshot))}),t.children.length&&this.forwardEvent(new gH(t.value.snapshot))}activateRoutes(t,r,n){const o=t.value,i=r?r.value:null;if(qC(o),o===i)if(o.component){const s=n.getOrCreateContext(o.outlet);this.activateChildRoutes(t,r,s.children)}else this.activateChildRoutes(t,r,n);else if(o.component){const s=n.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),qC(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=Kp(o.snapshot);s.attachRef=null,s.route=o,s.injector=a,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,n)}}class EA{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class y_{constructor(t,r){this.component=t,this.route=r}}function PH(e,t,r){const n=e._root;return Yp(n,t?t._root:null,r,[n.value])}function Yd(e,t){const r=Symbol(),n=t.get(e,r);return n===r?"function"!=typeof e||function kn(e){return null!==mt(e)}(e)?t.get(e):e:n}function Yp(e,t,r,n,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=Kd(t);return e.children.forEach(s=>{(function NH(e,t,r,n,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=e.value,s=t?t.value:null,a=r?r.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const l=function FH(e,t,r){if("function"==typeof r)return r(e,t);switch(r){case"pathParamsChange":return!Cu(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Cu(e.url,t.url)||!cl(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!KC(e,t)||!cl(e.queryParams,t.queryParams);default:return!KC(e,t)}}(s,i,i.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new EA(n)):(i.data=s.data,i._resolvedData=s._resolvedData),Yp(e,t,i.component?a?a.children:null:r,n,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new y_(a.outlet.component,s))}else s&&Xp(t,a,o),o.canActivateChecks.push(new EA(n)),Yp(e,null,i.component?a?a.children:null:r,n,o)})(s,i[s.value.outlet],r,n.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>Xp(a,r.getContext(s),o)),o}function Xp(e,t,r){const n=Kd(e),o=e.value;Object.entries(n).forEach(([i,s])=>{Xp(s,o.component?t?t.children.getContext(i):null:t,r)}),r.canDeactivateChecks.push(new y_(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function Qp(e){return"function"==typeof e}function DA(e){return e instanceof l_||"EmptyError"===e?.name}const b_=Symbol("INITIAL_VALUE");function Xd(){return zr(e=>a_(e.map(t=>t.pipe(Hd(1),jM(b_)))).pipe(Jt(t=>{for(const r of t)if(!0!==r){if(r===b_)return b_;if(!1===r||r instanceof Wd)return r}return!0}),xa(t=>t!==b_),Hd(1)))}function IA(e){return function fr(...e){return Yn(e)}(Di(t=>{if(wu(t))throw bA(0,t)}),Jt(t=>!0===t))}class QC{constructor(t){this.segmentGroup=t||null}}class JC extends Error{constructor(t){super(),this.urlTree=t}}function Qd(e){return c_(new QC(e))}class nz{constructor(t,r){this.urlSerializer=t,this.urlTree=r}lineralizeSegments(t,r){let n=[],o=r.root;for(;;){if(n=n.concat(o.segments),0===o.numberOfChildren)return Lt(n);if(o.numberOfChildren>1||!o.children[mn])return c_(new Je(4e3,!1));o=o.children[mn]}}applyRedirectCommands(t,r,n){const o=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),t,n);if(r.startsWith("/"))throw new JC(o);return o}applyRedirectCreateUrlTree(t,r,n,o){const i=this.createSegmentGroup(t,r.root,n,o);return new Wd(i,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(t,r){const n={};return Object.entries(t).forEach(([o,i])=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);n[o]=r[a]}else n[o]=i}),n}createSegmentGroup(t,r,n,o){const i=this.createSegments(t,r.segments,n,o);let s={};return Object.entries(r.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,n,o)}),new Mr(i,s)}createSegments(t,r,n,o){return r.map(i=>i.path.startsWith(":")?this.findPosParam(t,i,o):this.findOrReturn(i,n))}findPosParam(t,r,n){const o=n[r.path.substring(1)];if(!o)throw new Je(4001,!1);return o}findOrReturn(t,r){let n=0;for(const o of r){if(o.path===t.path)return r.splice(n),o;n++}return t}}const e0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function rz(e,t,r,n,o){const i=t0(e,t,r);return i.matched?(n=function IH(e,t){return e.providers&&!e._injector&&(e._injector=Sb(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,n),function JH(e,t,r,n){const o=t.canMatch;return o&&0!==o.length?Lt(o.map(s=>{const a=Yd(s,e);return Bc(function GH(e){return e&&Qp(e.canMatch)}(a)?a.canMatch(t,r):Cc(e,()=>a(t,r)))})).pipe(Xd(),IA()):Lt(!0)}(n,t,r).pipe(Jt(s=>!0===s?i:{...e0}))):Lt(i)}function t0(e,t,r){if("**"===t.path)return function oz(e){return{matched:!0,parameters:e.length>0?WM(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(r);if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||r.length>0)?{...e0}:{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};const o=(t.matcher||F6)(r,e,t);if(!o)return{...e0};const i={};Object.entries(o.posParams??{}).forEach(([a,l])=>{i[a]=l.path});const s=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:r.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function xA(e,t,r,n){return r.length>0&&function az(e,t,r){return r.some(n=>C_(e,t,n)&&fl(n)!==mn)}(e,r,n)?{segmentGroup:new Mr(t,sz(n,new Mr(r,e.children))),slicedSegments:[]}:0===r.length&&function lz(e,t,r){return r.some(n=>C_(e,t,n))}(e,r,n)?{segmentGroup:new Mr(e.segments,iz(e,0,r,n,e.children)),slicedSegments:r}:{segmentGroup:new Mr(e.segments,e.children),slicedSegments:r}}function iz(e,t,r,n,o){const i={};for(const s of n)if(C_(e,r,s)&&!o[fl(s)]){const a=new Mr([],{});i[fl(s)]=a}return{...o,...i}}function sz(e,t){const r={};r[mn]=t;for(const n of e)if(""===n.path&&fl(n)!==mn){const o=new Mr([],{});r[fl(n)]=o}return r}function C_(e,t,r){return(!(e.hasChildren()||t.length>0)||"full"!==r.pathMatch)&&""===r.path}class dz{}class hz{constructor(t,r,n,o,i,s,a){this.injector=t,this.configLoader=r,this.rootComponentType=n,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new nz(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new Je(4002,`'${t.segmentGroup}'`)}recognize(){const t=xA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(Jt(r=>{const n=new WC([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},mn,this.rootComponentType,null,{}),o=new Ta(n,r),i=new mA("",o),s=function nH(e,t,r=null,n=null){return oA(rA(e),t,r,n)}(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(i._root,null),{state:i,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,mn).pipe(bu(n=>{if(n instanceof JC)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof QC?this.noMatchError(n):n}))}inheritParamsAndData(t,r){const n=t.value,o=zC(n,r,this.paramsInheritanceStrategy);n.params=Object.freeze(o.params),n.data=Object.freeze(o.data),t.children.forEach(i=>this.inheritParamsAndData(i,n))}processSegmentGroup(t,r,n,o){return 0===n.segments.length&&n.hasChildren()?this.processChildren(t,r,n):this.processSegment(t,r,n,n.segments,o,!0).pipe(Jt(i=>i instanceof Ta?[i]:[]))}processChildren(t,r,n){const o=[];for(const i of Object.keys(n.children))"primary"===i?o.unshift(i):o.push(i);return mr(o).pipe(Gd(i=>{const s=n.children[i],a=function AH(e,t){const r=e.filter(n=>fl(n)===t);return r.push(...e.filter(n=>fl(n)!==t)),r}(r,i);return this.processSegmentGroup(t,a,s,i)}),function P6(e,t){return gn(function R6(e,t,r,n,o){return(i,s)=>{let a=r,l=t,c=0;i.subscribe(Dn(s,f=>{const p=c++;l=a?e(l,f,p):(a=!0,f),n&&s.next(l)},o&&(()=>{a&&s.next(l),s.complete()})))}}(e,t,arguments.length>=2,!0))}((i,s)=>(i.push(...s),i)),u_(null),function O6(e,t){const r=arguments.length>=2;return n=>n.pipe(e?xa((o,i)=>e(o,i,n)):Kn,OC(1),r?u_(t):GM(()=>new l_))}(),Pn(i=>{if(null===i)return Qd(n);const s=TA(i);return function mz(e){e.sort((t,r)=>t.value.outlet===mn?-1:r.value.outlet===mn?1:t.value.outlet.localeCompare(r.value.outlet))}(s),Lt(s)}))}processSegment(t,r,n,o,i,s){return mr(r).pipe(Gd(a=>this.processSegmentAgainstRoute(a._injector??t,r,a,n,o,i,s).pipe(bu(l=>{if(l instanceof QC)return Lt(null);throw l}))),$c(a=>!!a),bu(a=>{if(DA(a))return function uz(e,t,r){return 0===t.length&&!e.children[r]}(n,o,i)?Lt(new dz):Qd(n);throw a}))}processSegmentAgainstRoute(t,r,n,o,i,s,a){return function cz(e,t,r,n){return!!(fl(e)===n||n!==mn&&C_(t,r,e))&&t0(t,e,r).matched}(n,o,i,s)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(t,o,n,i,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,r,n,i,s):Qd(o):Qd(o)}expandSegmentAgainstRouteUsingRedirect(t,r,n,o,i,s){const{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:f}=t0(r,o,i);if(!a)return Qd(r);o.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const p=this.applyRedirects.applyRedirectCommands(l,o.redirectTo,c);return this.applyRedirects.lineralizeSegments(o,p).pipe(Pn(m=>this.processSegment(t,n,r,m.concat(f),s,!1)))}matchSegmentAgainstRoute(t,r,n,o,i){const s=rz(r,n,o,t);return"**"===n.path&&(r.children={}),s.pipe(zr(a=>a.matched?this.getChildConfig(t=n._injector??t,n,o).pipe(zr(({routes:l})=>{const c=n._loadedInjector??t,{consumedSegments:f,remainingSegments:p,parameters:m}=a,C=new WC(f,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function _z(e){return e.data||{}}(n),fl(n),n.component??n._loadedComponent??null,n,function vz(e){return e.resolve||{}}(n)),{segmentGroup:U,slicedSegments:J}=xA(r,f,p,l);if(0===J.length&&U.hasChildren())return this.processChildren(c,l,U).pipe(Jt(De=>null===De?null:new Ta(C,De)));if(0===l.length&&0===J.length)return Lt(new Ta(C,[]));const _e=fl(n)===i;return this.processSegment(c,l,U,J,_e?mn:i,!0).pipe(Jt(De=>new Ta(C,De instanceof Ta?[De]:[])))})):Qd(r)))}getChildConfig(t,r,n){return r.children?Lt({routes:r.children,injector:t}):r.loadChildren?void 0!==r._loadedRoutes?Lt({routes:r._loadedRoutes,injector:r._loadedInjector}):function QH(e,t,r,n){const o=t.canLoad;return void 0===o||0===o.length?Lt(!0):Lt(o.map(s=>{const a=Yd(s,e);return Bc(function $H(e){return e&&Qp(e.canLoad)}(a)?a.canLoad(t,r):Cc(e,()=>a(t,r)))})).pipe(Xd(),IA())}(t,r,n).pipe(Pn(o=>o?this.configLoader.loadChildren(t,r).pipe(Di(i=>{r._loadedRoutes=i.routes,r._loadedInjector=i.injector})):function tz(e){return c_(CA(!1,3))}())):Lt({routes:[],injector:t})}}function gz(e){const t=e.value.routeConfig;return t&&""===t.path}function TA(e){const t=[],r=new Set;for(const n of e){if(!gz(n)){t.push(n);continue}const o=t.find(i=>n.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...n.children),r.add(o)):t.push(n)}for(const n of r){const o=TA(n.children);t.push(new Ta(n.value,o))}return t.filter(n=>!r.has(n))}function MA(e){const t=e.children.map(r=>MA(r)).flat();return[e,...t]}function n0(e){return zr(t=>{const r=e(t);return r?mr(r).pipe(Jt(()=>t)):Lt(t)})}let AA=(()=>{var e;class t{buildTitle(n){let o,i=n.root;for(;void 0!==i;)o=this.getResolvedTitleForRoute(i)??o,i=i.children.find(s=>s.outlet===mn);return o}getResolvedTitleForRoute(n){return n.data[jp]}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=E({token:e,factory:()=>ot(Ez),providedIn:"root"}),t})(),Ez=(()=>{var e;class t extends AA{constructor(n){super(),this.title=n}updateTitle(n){const o=this.buildTitle(n);void 0!==o&&this.title.setTitle(o)}}return(e=t).\u0275fac=function(n){return new(n||e)(le(aM))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const Jd=new Be("",{providedIn:"root",factory:()=>({})}),ef=new Be("ROUTES");let r0=(()=>{var e;class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ot(Px)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Lt(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const o=Bc(n.loadComponent()).pipe(Jt(kA),Di(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),$p(()=>{this.componentLoaders.delete(n)})),i=new VM(o,()=>new En).pipe(PC());return this.componentLoaders.set(n,i),i}loadChildren(n,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return Lt({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);const s=function Dz(e,t,r,n){return Bc(e.loadChildren()).pipe(Jt(kA),Pn(o=>o instanceof Y1||Array.isArray(o)?Lt(o):mr(t.compileModuleAsync(o))),Jt(o=>{n&&n(e);let i,s,a=!1;return Array.isArray(o)?(s=o,!0):(i=o.create(r).injector,s=i.get(ef,[],{optional:!0,self:!0}).flat()),{routes:s.map(XC),injector:i}}))}(o,this.compiler,n,this.onLoadEndListener).pipe($p(()=>{this.childrenLoaders.delete(o)})),a=new VM(s,()=>new En).pipe(PC());return this.childrenLoaders.set(o,a),a}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function kA(e){return function Iz(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let o0=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=E({token:e,factory:()=>ot(xz),providedIn:"root"}),t})(),xz=(()=>{var e;class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,o){return n}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const RA=new Be(""),PA=new Be("");function Tz(e,t,r){const n=e.get(PA),o=e.get(ai);return e.get(Ze).runOutsideAngular(()=>{if(!o.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,Promise.resolve();let i;const s=new Promise(c=>{i=c}),a=o.startViewTransition(()=>(i(),function Mz(e){return new Promise(t=>{wD(t,{injector:e})})}(e))),{onViewTransitionCreated:l}=n;return l&&Cc(e,()=>l({transition:a,from:t,to:r})),s})}let S_=(()=>{var e;class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new En,this.transitionAbortSubject=new En,this.configLoader=ot(r0),this.environmentInjector=ot(ii),this.urlSerializer=ot(Su),this.rootContexts=ot(Eu),this.location=ot(Pc),this.inputBindingEnabled=null!==ot(v_,{optional:!0}),this.titleStrategy=ot(AA),this.options=ot(Jd,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=ot(o0),this.createViewTransition=ot(RA,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Lt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new hH(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new pH(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const o=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:o})}setupNavigations(n,o,i){return this.transitions=new ro({id:0,currentUrlTree:o,currentRawUrl:o,extractedUrl:this.urlHandlingStrategy.extract(o),urlAfterRedirects:this.urlHandlingStrategy.extract(o),rawUrl:o,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Wp,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(xa(s=>0!==s.id),Jt(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),zr(s=>{this.currentTransition=s;let a=!1,l=!1;return Lt(s).pipe(Di(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),zr(c=>{const f=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!f&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const m="";return this.events.next(new qd(c.id,this.urlSerializer.serialize(c.rawUrl),m,0)),c.resolve(null),Ro}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Lt(c).pipe(zr(m=>{const C=this.transitions?.getValue();return this.events.next(new Zp(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),C!==this.transitions?.getValue()?Ro:Promise.resolve(m)}),function yz(e,t,r,n,o,i){return Pn(s=>function fz(e,t,r,n,o,i,s="emptyOnly"){return new hz(e,t,r,n,o,s,i).recognize()}(e,t,r,n,s.extractedUrl,o,i).pipe(Jt(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Di(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects};const C=new uA(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(C)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:m,extractedUrl:C,source:U,restoredState:J,extras:_e}=c,De=new Zp(m,this.urlSerializer.serialize(C),U,J);this.events.next(De);const Re=hA(0,this.rootComponentType).snapshot;return this.currentTransition=s={...c,targetSnapshot:Re,urlAfterRedirects:C,extras:{..._e,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=C,Lt(s)}{const m="";return this.events.next(new qd(c.id,this.urlSerializer.serialize(c.extractedUrl),m,1)),c.resolve(null),Ro}}),Di(c=>{const f=new cH(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(f)}),Jt(c=>(this.currentTransition=s={...c,guards:PH(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},s)),function HH(e,t){return Pn(r=>{const{targetSnapshot:n,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=r;return 0===s.length&&0===i.length?Lt({...r,guardsResult:!0}):function zH(e,t,r,n){return mr(e).pipe(Pn(o=>function XH(e,t,r,n,o){const i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return i&&0!==i.length?Lt(i.map(a=>{const l=Kp(t)??o,c=Yd(a,l);return Bc(function jH(e){return e&&Qp(e.canDeactivate)}(c)?c.canDeactivate(e,t,r,n):Cc(l,()=>c(e,t,r,n))).pipe($c())})).pipe(Xd()):Lt(!0)}(o.component,o.route,r,t,n)),$c(o=>!0!==o,!0))}(s,n,o,e).pipe(Pn(a=>a&&function LH(e){return"boolean"==typeof e}(a)?function WH(e,t,r,n){return mr(t).pipe(Gd(o=>RC(function qH(e,t){return null!==e&&t&&t(new mH(e)),Lt(!0)}(o.route.parent,n),function ZH(e,t){return null!==e&&t&&t(new _H(e)),Lt(!0)}(o.route,n),function YH(e,t,r){const n=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(s=>function OH(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>BM(()=>Lt(s.guards.map(l=>{const c=Kp(s.node)??r,f=Yd(l,c);return Bc(function VH(e){return e&&Qp(e.canActivateChild)}(f)?f.canActivateChild(n,e):Cc(c,()=>f(n,e))).pipe($c())})).pipe(Xd())));return Lt(i).pipe(Xd())}(e,o.path,r),function KH(e,t,r){const n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||0===n.length)return Lt(!0);const o=n.map(i=>BM(()=>{const s=Kp(t)??r,a=Yd(i,s);return Bc(function BH(e){return e&&Qp(e.canActivate)}(a)?a.canActivate(t,e):Cc(s,()=>a(t,e))).pipe($c())}));return Lt(o).pipe(Xd())}(e,o.route,r))),$c(o=>!0!==o,!0))}(n,i,e,t):Lt(a)),Jt(a=>({...r,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),Di(c=>{if(s.guardsResult=c.guardsResult,wu(c.guardsResult))throw bA(0,c.guardsResult);const f=new uH(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(f)}),xa(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),n0(c=>{if(c.guards.canActivateChecks.length)return Lt(c).pipe(Di(f=>{const p=new dH(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}),zr(f=>{let p=!1;return Lt(f).pipe(function bz(e,t){return Pn(r=>{const{targetSnapshot:n,guards:{canActivateChecks:o}}=r;if(!o.length)return Lt(r);const i=new Set(o.map(l=>l.route)),s=new Set;for(const l of i)if(!s.has(l))for(const c of MA(l))s.add(c);let a=0;return mr(s).pipe(Gd(l=>i.has(l)?function Cz(e,t,r,n){const o=e.routeConfig,i=e._resolve;return void 0!==o?.title&&!_A(o)&&(i[jp]=o.title),function Sz(e,t,r,n){const o=NC(e);if(0===o.length)return Lt({});const i={};return mr(o).pipe(Pn(s=>function wz(e,t,r,n){const o=Kp(t)??n,i=Yd(e,o);return Bc(i.resolve?i.resolve(t,r):Cc(o,()=>i(t,r)))}(e[s],t,r,n).pipe($c(),Di(a=>{i[s]=a}))),OC(1),UM(i),bu(s=>DA(s)?Ro:c_(s)))}(i,e,t,n).pipe(Jt(s=>(e._resolvedData=s,e.data=zC(e,e.parent,r).resolve,null)))}(l,n,e,t):(l.data=zC(l,l.parent,e).resolve,Lt(void 0))),Di(()=>a++),OC(1),Pn(l=>a===s.size?Lt(r):Ro))})}(this.paramsInheritanceStrategy,this.environmentInjector),Di({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(f,"",2)}}))}),Di(f=>{const p=new fH(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}))}),n0(c=>{const f=p=>{const m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(Di(C=>{p.component=C}),Jt(()=>{})));for(const C of p.children)m.push(...f(C));return m};return a_(f(c.targetSnapshot.root)).pipe(u_(),Hd(1))}),n0(()=>this.afterPreactivation()),zr(()=>{const{currentSnapshot:c,targetSnapshot:f}=s,p=this.createViewTransition?.(this.environmentInjector,c.root,f.root);return p?mr(p).pipe(Jt(()=>s)):Lt(s)}),Jt(c=>{const f=function SH(e,t,r){const n=qp(e,t._root,r?r._root:void 0);return new pA(n,t)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s={...c,targetRouterState:f},this.currentNavigation.targetRouterState=f,s}),Di(()=>{this.events.next(new jC)}),((e,t,r,n)=>Jt(o=>(new RH(t,o.targetRouterState,o.currentRouterState,r,n).activate(e),o)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Hd(1),Di({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new zl(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),HM(this.transitionAbortSubject.pipe(Di(c=>{throw c}))),$p(()=>{a||l||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),bu(c=>{if(l=!0,SA(c))this.events.next(new Zd(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),function DH(e){return SA(e)&&wu(e.url)}(c)?this.events.next(new GC(c.url)):s.resolve(!1);else{this.events.next(new __(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(c))}catch(f){s.reject(f)}}return Ro}))}))}cancelNavigationTransition(n,o,i){const s=new Zd(n.id,this.urlSerializer.serialize(n.extractedUrl),o,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function Az(e){return e!==Wp}let OA=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=E({token:e,factory:()=>ot(Rz),providedIn:"root"}),t})();class kz{shouldDetach(t){return!1}store(t,r){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,r){return t.routeConfig===r.routeConfig}}let Rz=(()=>{var e;class t extends kz{}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=jr(e)))(o||e)}})(),e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),NA=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=E({token:e,factory:()=>ot(Pz),providedIn:"root"}),t})(),Pz=(()=>{var e;class t extends NA{constructor(){super(...arguments),this.location=ot(Pc),this.urlSerializer=ot(Su),this.options=ot(Jd,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=ot(o0),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Wd,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=hA(0,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(o=>{"popstate"===o.type&&n(o.url,o.state)})}handleRouterEvent(n,o){if(n instanceof Zp)this.stateMemento=this.createStateMemento();else if(n instanceof qd)this.rawUrlTree=o.initialUrl;else if(n instanceof uA){if("eager"===this.urlUpdateStrategy&&!o.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl);this.setBrowserUrl(i,o)}}else n instanceof jC?(this.currentUrlTree=o.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o))):n instanceof Zd&&(3===n.code||2===n.code)?this.restoreHistory(o):n instanceof __?this.restoreHistory(o,!0):n instanceof zl&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,o){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||o.extras.replaceUrl){const a={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId)};this.location.replaceState(i,"",a)}else{const s={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,o=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&0===s&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,o){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:o}:{navigationId:n}}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=jr(e)))(o||e)}})(),e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var Jp=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Jp||{});function FA(e,t){e.events.pipe(xa(r=>r instanceof zl||r instanceof Zd||r instanceof __||r instanceof qd),Jt(r=>r instanceof zl||r instanceof qd?Jp.COMPLETE:r instanceof Zd&&(0===r.code||1===r.code)?Jp.REDIRECTING:Jp.FAILED),xa(r=>r!==Jp.REDIRECTING),Hd(1)).subscribe(()=>{t()})}function Oz(e){throw e}const Nz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Fz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Vo=(()=>{var e;class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=ot(Rx),this.stateManager=ot(NA),this.options=ot(Jd,{optional:!0})||{},this.pendingTasks=ot(Mg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=ot(S_),this.urlSerializer=ot(Su),this.location=ot(Pc),this.urlHandlingStrategy=ot(o0),this._events=new En,this.errorHandler=this.options.errorHandler||Oz,this.navigated=!1,this.routeReuseStrategy=ot(OA),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=ot(ef,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!ot(v_,{optional:!0}),this.eventsSubscription=new at,this.isNgZoneEnabled=ot(Ze)instanceof Ze&&Ze.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(o=>{try{const i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==i&&null!==s)if(this.stateManager.handleRouterEvent(o,s),o instanceof Zd&&0!==o.code&&1!==o.code)this.navigated=!0;else if(o instanceof zl)this.navigated=!0;else if(o instanceof GC){const a=this.urlHandlingStrategy.merge(o.url,i.currentRawUrl),l={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Az(i.source)};this.scheduleNavigation(a,Wp,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function $z(e){return!(e instanceof jC||e instanceof GC)})(o)&&this._events.next(o)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Wp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,o)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",o)},0)}))}navigateToSyncWithBrowser(n,o,i){const s={replaceUrl:!0},a=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const l=this.parseUrl(n);this.scheduleNavigation(l,o,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(XC),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,o={}){const{relativeTo:i,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:c}=o,f=c?this.currentUrlTree.fragment:a;let m,p=null;switch(l){case"merge":p={...this.currentUrlTree.queryParams,...s};break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}null!==p&&(p=this.removeEmptyProps(p));try{m=rA(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),m=this.currentUrlTree.root}return oA(m,n,p,f??null)}navigateByUrl(n,o={skipLocationChange:!1}){const i=wu(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Wp,null,o)}navigate(n,o={skipLocationChange:!1}){return function Lz(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new Je(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,o),o)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,o){let i;if(i=!0===o?{...Nz}:!1===o?{...Fz}:o,wu(n))return qM(this.currentUrlTree,n,i);const s=this.parseUrl(n);return qM(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((o,i)=>{const s=n[i];return null!=s&&(o[i]=s),o},{})}scheduleNavigation(n,o,i,s,a){if(this.disposed)return Promise.resolve(!1);let l,c,f;a?(l=a.resolve,c=a.reject,f=a.promise):f=new Promise((m,C)=>{l=m,c=C});const p=this.pendingTasks.add();return FA(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:l,reject:c,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(m=>Promise.reject(m))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class LA{}let jz=(()=>{var e;class t{preload(n,o){return o().pipe(bu(()=>Lt(null)))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),Gz=(()=>{var e;class t{constructor(n,o,i,s,a){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(xa(n=>n instanceof zl),Gd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,o){const i=[];for(const s of o){s.providers&&!s._injector&&(s._injector=Sb(s.providers,n,`Route: ${s.path}`));const a=s._injector??n,l=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(l,s.children??s._loadedRoutes))}return mr(i).pipe(ko())}preloadConfig(n,o){return this.preloadingStrategy.preload(o,()=>{let i;i=o.loadChildren&&void 0===o.canLoad?this.loader.loadChildren(n,o):Lt(null);const s=i.pipe(Pn(a=>null===a?Lt(void 0):(o._loadedRoutes=a.routes,o._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));return o.loadComponent&&!o._loadedComponent?mr([s,this.loader.loadComponent(o)]).pipe(ko()):s})}}return(e=t).\u0275fac=function(n){return new(n||e)(le(Vo),le(Px),le(ii),le(LA),le(r0))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const s0=new Be("");let $A=(()=>{var e;class t{constructor(n,o,i,s,a={}){this.urlSerializer=n,this.transitions=o,this.viewportScroller=i,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Zp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof zl?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof qd&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof dA&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,o){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new dA(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(e=t).\u0275fac=function(n){!function QE(){throw new Error("invalid")}()},e.\u0275prov=E({token:e,factory:e.\u0275fac}),t})();function pl(e,t){return{\u0275kind:e,\u0275providers:t}}function VA(){const e=ot(Gr);return t=>{const r=e.get(Ea);if(t!==r.components[0])return;const n=e.get(Vo),o=e.get(jA);1===e.get(a0)&&n.initialNavigation(),e.get(GA,null,Pt.Optional)?.setUpPreloading(),e.get(s0,null,Pt.Optional)?.init(),n.resetRootComponentType(r.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const jA=new Be("",{factory:()=>new En}),a0=new Be("",{providedIn:"root",factory:()=>1}),GA=new Be("");function Wz(e){return pl(0,[{provide:GA,useExisting:Gz},{provide:LA,useExisting:e}])}function qz(e){return pl(9,[{provide:RA,useValue:Tz},{provide:PA,useValue:{skipNextTransition:!!e?.skipInitialTransition,...e}}])}const UA=new Be("ROUTER_FORROOT_GUARD"),Kz=[Pc,{provide:Su,useClass:FC},Vo,Eu,{provide:dl,useFactory:function BA(e){return e.routerState.root},deps:[Vo]},r0,[]];let w_=(()=>{var e;class t{constructor(n){}static forRoot(n,o){return{ngModule:t,providers:[Kz,[],{provide:ef,multi:!0,useValue:n},{provide:UA,useFactory:Jz,deps:[[Vo,new bm,new Cm]]},{provide:Jd,useValue:o||{}},o?.useHash?{provide:al,useClass:ST}:{provide:al,useClass:CT},{provide:s0,useFactory:()=>{const e=ot($G),t=ot(Ze),r=ot(Jd),n=ot(S_),o=ot(Su);return r.scrollOffset&&e.setOffset(r.scrollOffset),new $A(o,n,e,t,r)}},o?.preloadingStrategy?Wz(o.preloadingStrategy).\u0275providers:[],o?.initialNavigation?e5(o):[],o?.bindToComponentInputs?pl(8,[yA,{provide:v_,useExisting:yA}]).\u0275providers:[],o?.enableViewTransitions?qz().\u0275providers:[],[{provide:HA,useFactory:VA},{provide:Bb,multi:!0,useExisting:HA}]]}}static forChild(n){return{ngModule:t,providers:[{provide:ef,multi:!0,useValue:n}]}}}return(e=t).\u0275fac=function(n){return new(n||e)(le(UA,8))},e.\u0275mod=Wr({type:e}),e.\u0275inj=We({}),t})();function Jz(e){return"guarded"}function e5(e){return["disabled"===e.initialNavigation?pl(3,[{provide:kp,multi:!0,useFactory:()=>{const t=ot(Vo);return()=>{t.setUpLocationChangeListener()}}},{provide:a0,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?pl(2,[{provide:a0,useValue:0},{provide:kp,multi:!0,deps:[Gr],useFactory:t=>{const r=t.get(yj,Promise.resolve());return()=>r.then(()=>new Promise(n=>{const o=t.get(Vo),i=t.get(jA);FA(o,()=>{n(!0)}),t.get(S_).afterPreactivation=()=>(n(!0),i.closed?Lt(void 0):i),o.initialNavigation()}))}}]).\u0275providers:[]]}const HA=new Be("");class n5{constructor(){this.m=new Map}reset(t){this.m=new Map(Object.entries(t))}get(t,r){const n=this.m.get(t);return void 0!==n?n:r}getBoolean(t,r=!1){const n=this.m.get(t);return void 0===n?r:"string"==typeof n?"true"===n:!!n}getNumber(t,r){const n=parseFloat(this.m.get(t));return isNaN(n)?void 0!==r?r:NaN:n}set(t,r){this.m.set(t,r)}}const Vc=new n5,ZA=e=>KA(e),KA=(e=window)=>{if(typeof e>"u")return[];e.Ionic=e.Ionic||{};let t=e.Ionic.platforms;return null==t&&(t=e.Ionic.platforms=a5(e),t.forEach(r=>e.document.documentElement.classList.add(`plt-${r}`))),t},a5=e=>{const t=Vc.get("platform");return Object.keys(ek).filter(r=>{const n=t?.[r];return"function"==typeof n?n(e):ek[r](e)})},l0=e=>!!(Du(e,/iPad/i)||Du(e,/Macintosh/i)&&E_(e)),YA=e=>Du(e,/android|sink/i),E_=e=>_5(e,"(any-pointer:coarse)"),XA=e=>QA(e)||JA(e),QA=e=>!!(e.cordova||e.phonegap||e.PhoneGap),JA=e=>{const t=e.Capacitor;return!!t?.isNative},Du=(e,t)=>t.test(e.navigator.userAgent),_5=(e,t)=>{var r;return null===(r=e.matchMedia)||void 0===r?void 0:r.call(e,t).matches},ek={ipad:l0,iphone:e=>Du(e,/iPhone/i),ios:e=>Du(e,/iPhone|iPod/i)||l0(e),android:YA,phablet:e=>{const t=e.innerWidth,r=e.innerHeight,n=Math.min(t,r),o=Math.max(t,r);return n>390&&n<520&&o>620&&o<800},tablet:e=>{const t=e.innerWidth,r=e.innerHeight,n=Math.min(t,r),o=Math.max(t,r);return l0(e)||(e=>YA(e)&&!Du(e,/mobile/i))(e)||n>460&&n<820&&o>780&&o<1400},cordova:QA,capacitor:JA,electron:e=>Du(e,/electron/i),pwa:e=>{var t;return!!(null!==(t=e.matchMedia)&&void 0!==t&&t.call(e,"(display-mode: standalone)").matches||e.navigator.standalone)},mobile:E_,mobileweb:e=>E_(e)&&!XA(e),desktop:e=>!E_(e),hybrid:XA};var th=S(7687),v5=S(276);const y5=["addListener","removeListener"],b5=["addEventListener","removeEventListener"],C5=["on","off"];function D_(e,t,r,n){if(Pe(r)&&(n=r,r=void 0),n)return D_(e,t,r).pipe(kC(n));const[o,i]=function E5(e){return Pe(e.addEventListener)&&Pe(e.removeEventListener)}(e)?b5.map(s=>a=>e[s](t,a,r)):function S5(e){return Pe(e.addListener)&&Pe(e.removeListener)}(e)?y5.map(tk(e,t)):function w5(e){return Pe(e.on)&&Pe(e.off)}(e)?C5.map(tk(e,t)):[];if(!o&&_s(e))return Pn(s=>D_(s,t,r))(Ge(e));if(!o)throw new TypeError("Invalid event target");return new on(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return o(a),()=>i(a)})}function tk(e,t){return r=>n=>e[r](t,n)}let nk=(()=>{var e;class t{constructor(n,o){this._renderer=n,this._elementRef=o,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,o){this._renderer.setProperty(this._elementRef.nativeElement,n,o)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Ll),v(nt))},e.\u0275dir=Mt({type:e}),t})(),Iu=(()=>{var e;class t extends nk{}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=jr(e)))(o||e)}})(),e.\u0275dir=Mt({type:e,features:[dn]}),t})();const Bi=new Be("NgValueAccessor"),x5={provide:Bi,useExisting:On(()=>c0),multi:!0},M5=new Be("CompositionEventMode");let c0=(()=>{var e;class t extends nk{constructor(n,o,i){super(n,o),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function T5(){const e=Rc()?Rc().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Ll),v(nt),v(M5,8))},e.\u0275dir=Mt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,o){1&n&&Ve("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},features:[rr([x5]),dn]}),t})();function jc(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function ok(e){return null!=e&&"number"==typeof e.length}const li=new Be("NgValidators"),Gc=new Be("NgAsyncValidators"),A5=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class nh{static min(t){return ik(t)}static max(t){return sk(t)}static required(t){return function ak(e){return jc(e.value)?{required:!0}:null}(t)}static requiredTrue(t){return function lk(e){return!0===e.value?null:{required:!0}}(t)}static email(t){return function ck(e){return jc(e.value)||A5.test(e.value)?null:{email:!0}}(t)}static minLength(t){return function uk(e){return t=>jc(t.value)||!ok(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static maxLength(t){return dk(t)}static pattern(t){return function fk(e){if(!e)return I_;let t,r;return"string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),t=new RegExp(r)):(r=e.toString(),t=e),n=>{if(jc(n.value))return null;const o=n.value;return t.test(o)?null:{pattern:{requiredPattern:r,actualValue:o}}}}(t)}static nullValidator(t){return null}static compose(t){return vk(t)}static composeAsync(t){return yk(t)}}function ik(e){return t=>{if(jc(t.value)||jc(e))return null;const r=parseFloat(t.value);return!isNaN(r)&&r<e?{min:{min:e,actual:t.value}}:null}}function sk(e){return t=>{if(jc(t.value)||jc(e))return null;const r=parseFloat(t.value);return!isNaN(r)&&r>e?{max:{max:e,actual:t.value}}:null}}function dk(e){return t=>ok(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}function I_(e){return null}function pk(e){return null!=e}function hk(e){return Dp(e)?mr(e):e}function mk(e){let t={};return e.forEach(r=>{t=null!=r?{...t,...r}:t}),0===Object.keys(t).length?null:t}function gk(e,t){return t.map(r=>r(e))}function _k(e){return e.map(t=>function k5(e){return!e.validate}(t)?t:r=>t.validate(r))}function vk(e){if(!e)return null;const t=e.filter(pk);return 0==t.length?null:function(r){return mk(gk(r,t))}}function u0(e){return null!=e?vk(_k(e)):null}function yk(e){if(!e)return null;const t=e.filter(pk);return 0==t.length?null:function(r){return function D5(...e){const t=la(e),{args:r,keys:n}=FM(e),o=new on(i=>{const{length:s}=r;if(!s)return void i.complete();const a=new Array(s);let l=s,c=s;for(let f=0;f<s;f++){let p=!1;Ge(r[f]).subscribe(Dn(i,m=>{p||(p=!0,c--),a[f]=m},()=>l--,void 0,()=>{(!l||!p)&&(c||i.next(n?LM(n,a):a),i.complete())}))}});return t?o.pipe(kC(t)):o}(gk(r,t).map(hk)).pipe(Jt(mk))}}function d0(e){return null!=e?yk(_k(e)):null}function bk(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function Ck(e){return e._rawValidators}function Sk(e){return e._rawAsyncValidators}function f0(e){return e?Array.isArray(e)?e:[e]:[]}function x_(e,t){return Array.isArray(e)?e.includes(t):e===t}function wk(e,t){const r=f0(t);return f0(e).forEach(o=>{x_(r,o)||r.push(o)}),r}function Ek(e,t){return f0(t).filter(r=>!x_(e,r))}class Dk{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=u0(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=d0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,r){return!!this.control&&this.control.hasError(t,r)}getError(t,r){return this.control?this.control.getError(t,r):null}}class Vi extends Dk{get formDirective(){return null}get path(){return null}}class Wl extends Dk{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ik{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Zl=(()=>{var e;class t extends Ik{constructor(n){super(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Wl,2))},e.\u0275dir=Mt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,o){2&n&&ea("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[dn]}),t})(),ql=(()=>{var e;class t extends Ik{constructor(n){super(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Vi,10))},e.\u0275dir=Mt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,o){2&n&&ea("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[dn]}),t})();const rh="VALID",M_="INVALID",nf="PENDING",oh="DISABLED";function m0(e){return(A_(e)?e.validators:e)||null}function g0(e,t){return(A_(t)?t.asyncValidators:e)||null}function A_(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class Ak{constructor(t,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===rh}get invalid(){return this.status===M_}get pending(){return this.status==nf}get disabled(){return this.status===oh}get enabled(){return this.status!==oh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(wk(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(wk(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Ek(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Ek(t,this._rawAsyncValidators))}hasValidator(t){return x_(this._rawValidators,t)}hasAsyncValidator(t){return x_(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=nf,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const r=this._parentMarkedDirty(t.onlySelf);this.status=oh,this.errors=null,this._forEachChild(n=>{n.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:r}),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){const r=this._parentMarkedDirty(t.onlySelf);this.status=rh,this._forEachChild(n=>{n.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:r}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===rh||this.status===nf)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?oh:rh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=nf,this._hasOwnPendingAsyncValidator=!0;const r=hk(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,r={}){this.errors=t,this._updateControlsErrors(!1!==r.emitEvent)}get(t){let r=t;return null==r||(Array.isArray(r)||(r=r.split(".")),0===r.length)?null:r.reduce((n,o)=>n&&n._find(o),this)}getError(t,r){const n=r?this.get(r):this;return n&&n.errors?n.errors[t]:null}hasError(t,r){return!!this.getError(t,r)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new qt,this.statusChanges=new qt}_calculateStatus(){return this._allControlsDisabled()?oh:this.errors?M_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(nf)?nf:this._anyControlsHaveStatus(M_)?M_:rh}_anyControlsHaveStatus(t){return this._anyControls(r=>r.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){A_(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function N5(e){return Array.isArray(e)?u0(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function F5(e){return Array.isArray(e)?d0(e):e||null}(this._rawAsyncValidators)}}class Uc extends Ak{constructor(t,r,n){super(m0(r),g0(n,r)),this.controls=t,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,r){return this.controls[t]?this.controls[t]:(this.controls[t]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(t,r,n={}){this.registerControl(t,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(t,r,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],r&&this.registerControl(t,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,r={}){(function Mk(e,t,r){e._forEachChild((n,o)=>{if(void 0===r[o])throw new Je(1002,"")})})(this,0,t),Object.keys(t).forEach(n=>{(function Tk(e,t,r){const n=e.controls;if(!(t?Object.keys(n):n).length)throw new Je(1e3,"");if(!n[r])throw new Je(1001,"")})(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(t,r={}){null!=t&&(Object.keys(t).forEach(n=>{const o=this.controls[n];o&&o.patchValue(t[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(t={},r={}){this._forEachChild((n,o)=>{n.reset(t?t[o]:null,{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(t,r,n)=>(t[n]=r.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(r,n)=>!!n._syncPendingControls()||r);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(r=>{const n=this.controls[r];n&&t(n,r)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[r,n]of Object.entries(this.controls))if(this.contains(r)&&t(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(r,n,o)=>((n.enabled||this.disabled)&&(r[o]=n.value),r))}_reduceChildren(t,r){let n=t;return this._forEachChild((o,i)=>{n=r(n,o,i)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const k_=Uc,xu=new Be("CallSetDisabledState",{providedIn:"root",factory:()=>ih}),ih="always";function sh(e,t,r=ih){_0(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===r)&&t.valueAccessor.setDisabledState?.(e.disabled),function B5(e,t){t.valueAccessor.registerOnChange(r=>{e._pendingValue=r,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&kk(e,t)})}(e,t),function j5(e,t){const r=(n,o)=>{t.valueAccessor.writeValue(n),o&&t.viewToModelUpdate(n)};e.registerOnChange(r),t._registerOnDestroy(()=>{e._unregisterOnChange(r)})}(e,t),function V5(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&kk(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function $5(e,t){if(t.valueAccessor.setDisabledState){const r=n=>{t.valueAccessor.setDisabledState(n)};e.registerOnDisabledChange(r),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(r)})}}(e,t)}function P_(e,t,r=!0){const n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),N_(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function O_(e,t){e.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(t)})}function _0(e,t){const r=Ck(e);null!==t.validator?e.setValidators(bk(r,t.validator)):"function"==typeof r&&e.setValidators([r]);const n=Sk(e);null!==t.asyncValidator?e.setAsyncValidators(bk(n,t.asyncValidator)):"function"==typeof n&&e.setAsyncValidators([n]);const o=()=>e.updateValueAndValidity();O_(t._rawValidators,o),O_(t._rawAsyncValidators,o)}function N_(e,t){let r=!1;if(null!==e){if(null!==t.validator){const o=Ck(e);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==t.validator);i.length!==o.length&&(r=!0,e.setValidators(i))}}if(null!==t.asyncValidator){const o=Sk(e);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==t.asyncValidator);i.length!==o.length&&(r=!0,e.setAsyncValidators(i))}}}const n=()=>{};return O_(t._rawValidators,n),O_(t._rawAsyncValidators,n),r}function kk(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Ok(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}function Nk(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const ds=class extends Ak{constructor(t=null,r,n){super(m0(r),g0(n,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),A_(r)&&(r.nonNullable||r.initialValueIsDefault)&&(this.defaultValue=Nk(t)?t.value:t)}setValue(t,r={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==r.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==r.emitViewToModelChange)),this.updateValueAndValidity(r)}patchValue(t,r={}){this.setValue(t,r)}reset(t=this.defaultValue,r={}){this._applyFormState(t),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Ok(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Ok(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Nk(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},ho=ds;let Kl=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=Mt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),jk=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Wr({type:e}),e.\u0275inj=We({}),t})();const S0=new Be("NgModelWithFormControlWarning"),t8={provide:Vi,useExisting:On(()=>Ma)};let Ma=(()=>{var e;class t extends Vi{constructor(n,o,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new qt,this._setValidators(n),this._setAsyncValidators(o)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(N_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const o=this.form.get(n.path);return sh(o,n,this.callSetDisabledState),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),o}getControl(n){return this.form.get(n.path)}removeControl(n){P_(n.control||null,n,!1),function z5(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,o){this.form.get(n.path).setValue(o)}onSubmit(n){return this.submitted=!0,function Pk(e,t){e._syncPendingControls(),t.forEach(r=>{const n=r.control;"submit"===n.updateOn&&n._pendingChange&&(r.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const o=n.control,i=this.form.get(n.path);o!==i&&(P_(o||null,n),(e=>e instanceof ds)(i)&&(sh(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const o=this.form.get(n.path);(function Rk(e,t){_0(e,t)})(o,n),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const o=this.form.get(n.path);o&&function G5(e,t){return N_(e,t)}(o,n)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){_0(this.form,this),this._oldForm&&N_(this._oldForm,this)}_checkFormPresent(){}}return(e=t).\u0275fac=function(n){return new(n||e)(v(li,10),v(Gc,10),v(xu,8))},e.\u0275dir=Mt({type:e,selectors:[["","formGroup",""]],hostBindings:function(n,o){1&n&&Ve("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[rr([t8]),dn,Yo]}),t})();const o8={provide:Wl,useExisting:On(()=>hl)};let hl=(()=>{var e;class t extends Wl{set isDisabled(n){}constructor(n,o,i,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new qt,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(o),this._setAsyncValidators(i),this.valueAccessor=function b0(e,t){if(!t)return null;let r,n,o;return Array.isArray(t),t.forEach(i=>{i.constructor===c0?r=i:function H5(e){return Object.getPrototypeOf(e.constructor)===Iu}(i)?n=i:o=i}),o||n||r||null}(0,s)}ngOnChanges(n){this._added||this._setUpControl(),function y0(e,t){if(!e.hasOwnProperty("model"))return!1;const r=e.model;return!!r.isFirstChange()||!Object.is(t,r.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function R_(e,t){return[...t.path,e]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(e=t)._ngModelWarningSentOnce=!1,e.\u0275fac=function(n){return new(n||e)(v(Vi,13),v(li,10),v(Gc,10),v(Bi,10),v(S0,8))},e.\u0275dir=Mt({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[rr([o8]),dn,Yo]}),t})();function Kk(e){return"number"==typeof e?e:parseFloat(e)}let Tu=(()=>{var e;class t{constructor(){this._validator=I_}ngOnChanges(n){if(this.inputName in n){const o=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(o),this._validator=this._enabled?this.createValidator(o):I_,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=Mt({type:e,features:[Yo]}),t})();const d8={provide:li,useExisting:On(()=>x0),multi:!0};let x0=(()=>{var e;class t extends Tu{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=n=>Kk(n),this.createValidator=n=>sk(n)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=jr(e)))(o||e)}})(),e.\u0275dir=Mt({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(n,o){2&n&&ks("max",o._enabled?o.max:null)},inputs:{max:"max"},features:[rr([d8]),dn]}),t})();const f8={provide:li,useExisting:On(()=>T0),multi:!0};let T0=(()=>{var e;class t extends Tu{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>Kk(n),this.createValidator=n=>ik(n)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=jr(e)))(o||e)}})(),e.\u0275dir=Mt({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(n,o){2&n&&ks("min",o._enabled?o.min:null)},inputs:{min:"min"},features:[rr([f8]),dn]}),t})();const _8={provide:li,useExisting:On(()=>A0),multi:!0};let A0=(()=>{var e;class t extends Tu{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=n=>function qk(e){return"number"==typeof e?e:parseInt(e,10)}(n),this.createValidator=n=>dk(n)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=jr(e)))(o||e)}})(),e.\u0275dir=Mt({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(n,o){2&n&&ks("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},features:[rr([_8]),dn]}),t})(),eR=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Wr({type:e}),e.\u0275inj=We({imports:[jk]}),t})(),Mu=(()=>{var e;class t{static withConfig(n){return{ngModule:t,providers:[{provide:xu,useValue:n.callSetDisabledState??ih}]}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Wr({type:e}),e.\u0275inj=We({imports:[eR]}),t})(),F_=(()=>{var e;class t{static withConfig(n){return{ngModule:t,providers:[{provide:S0,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:xu,useValue:n.callSetDisabledState??ih}]}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Wr({type:e}),e.\u0275inj=We({imports:[eR]}),t})();const b8=["tabsInner"];let C8=(()=>{class e{constructor(r,n){this.doc=r,this.backButton=new En,this.keyboardDidShow=new En,this.keyboardDidHide=new En,this.pause=new En,this.resume=new En,this.resize=new En,n.run(()=>{let o;this.win=r.defaultView,this.backButton.subscribeWithPriority=function(i,s){return this.subscribe(a=>a.register(i,l=>n.run(()=>s(l))))},rf(this.pause,r,"pause",n),rf(this.resume,r,"resume",n),rf(this.backButton,r,"ionBackButton",n),rf(this.resize,this.win,"resize",n),rf(this.keyboardDidShow,this.win,"ionKeyboardDidShow",n),rf(this.keyboardDidHide,this.win,"ionKeyboardDidHide",n),this._readyPromise=new Promise(i=>{o=i}),this.win?.cordova?r.addEventListener("deviceready",()=>{o("cordova")},{once:!0}):o("dom")})}is(r){return((e,t)=>("string"==typeof e&&(t=e,e=void 0),ZA(e).includes(t)))(this.win,r)}platforms(){return ZA(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(r){return S8(this.win.location.href,r)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia?.("(orientation: portrait)").matches}testUserAgent(r){const n=this.win.navigator;return!!(n?.userAgent&&n.userAgent.indexOf(r)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return e.\u0275fac=function(r){return new(r||e)(le(ai),le(Ze))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const S8=(e,t)=>{t=t.replace(/[[\]\\]/g,"\\$&");const n=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return n?decodeURIComponent(n[1].replace(/\+/g," ")):null},rf=(e,t,r,n)=>{t&&t.addEventListener(r,o=>{n.run(()=>{const i=o?.detail;e.next(i)})})};let sf=(()=>{class e{constructor(r,n,o,i){this.location=n,this.serializer=o,this.router=i,this.direction=tR,this.animated=nR,this.guessDirection="forward",this.lastNavId=-1,i&&i.events.subscribe(s=>{if(s instanceof Zp){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=a<this.lastNavId?"back":"forward",this.guessAnimation=s.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?s.id:a}}),r.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(r,n={}){return this.setDirection("forward",n.animated,n.animationDirection,n.animation),this.navigate(r,n)}navigateBack(r,n={}){return this.setDirection("back",n.animated,n.animationDirection,n.animation),this.navigate(r,n)}navigateRoot(r,n={}){return this.setDirection("root",n.animated,n.animationDirection,n.animation),this.navigate(r,n)}back(r={animated:!0,animationDirection:"back"}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.location.back()}pop(){var r=this;return(0,F.Z)(function*(){let n=r.topOutlet;for(;n;){if(yield n.pop())return!0;n=n.parentOutlet}return!1})()}setDirection(r,n,o,i){this.direction=r,this.animated=w8(r,n,o),this.animationBuilder=i}setTopOutlet(r){this.topOutlet=r}consumeTransition(){let n,r="root";const o=this.animationBuilder;return"auto"===this.direction?(r=this.guessDirection,n=this.guessAnimation):(n=this.animated,r=this.direction),this.direction=tR,this.animated=nR,this.animationBuilder=void 0,{direction:r,animation:n,animationBuilder:o}}navigate(r,n){if(Array.isArray(r))return this.router.navigate(r,n);{const o=this.serializer.parse(r.toString());return void 0!==n.queryParams&&(o.queryParams={...n.queryParams}),void 0!==n.fragment&&(o.fragment=n.fragment),this.router.navigateByUrl(o,n)}}}return e.\u0275fac=function(r){return new(r||e)(le(C8),le(Pc),le(Su),le(Vo,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const w8=(e,t,r)=>{if(!1!==t){if(void 0!==r)return r;if("forward"===e||"back"===e)return e;if("root"===e&&!0===t)return"forward"}},tR="auto",nR=void 0;let lh=(()=>{class e{get(r,n){const o=k0();return o?o.get(r,n):null}getBoolean(r,n){const o=k0();return!!o&&o.getBoolean(r,n)}getNumber(r,n){const o=k0();return o?o.getNumber(r,n):0}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const rR=new Be("USERCONFIG"),k0=()=>{if(typeof window<"u"){const e=window.Ionic;if(e?.config)return e.config}return null};class oR{constructor(t={}){this.data=t}get(t){return this.data[t]}}let ch=(()=>{class e{constructor(){this.zone=ot(Ze),this.applicationRef=ot(Ea)}create(r,n,o){return new E8(r,n,this.applicationRef,this.zone,o)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e})();class E8{constructor(t,r,n,o,i){this.environmentInjector=t,this.injector=r,this.applicationRef=n,this.zone=o,this.elementReferenceKey=i,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(t,r,n,o){return this.zone.run(()=>new Promise(i=>{const s={...n};void 0!==this.elementReferenceKey&&(s[this.elementReferenceKey]=t),i(D8(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,t,r,s,o,this.elementReferenceKey))}))}removeViewFromDom(t,r){return this.zone.run(()=>new Promise(n=>{const o=this.elRefMap.get(r);if(o){o.destroy(),this.elRefMap.delete(r);const i=this.elEventsMap.get(r);i&&(i(),this.elEventsMap.delete(r))}n()}))}}const D8=(e,t,r,n,o,i,s,a,l,c,f)=>{const m=function gj(e,t){const r=vn(e),n=t.elementInjector||Im();return new lp(r).create(n,t.projectableNodes,t.hostElement,t.environmentInjector)}(a,{environmentInjector:t,elementInjector:Gr.create({providers:x8(l),parent:r})}),C=m.instance,U=m.location.nativeElement;if(l&&(f&&void 0!==C[f]&&console.error(`[Ionic Error]: ${f} is a reserved property when using ${s.tagName.toLowerCase()}. Rename or remove the "${f}" property from ${a.name}.`),Object.assign(C,l)),c)for(const _e of c)U.classList.add(_e);const J=iR(e,C,U);return s.appendChild(U),n.attachView(m.hostView),o.set(U,m),i.set(U,J),U},I8=[th.L,th.a,th.b,th.c,th.d],iR=(e,t,r)=>e.run(()=>{const n=I8.filter(o=>"function"==typeof t[o]).map(o=>{const i=s=>t[o](s.detail);return r.addEventListener(o,i),()=>r.removeEventListener(o,i)});return()=>n.forEach(o=>o())}),sR=new Be("NavParamsToken"),x8=e=>[{provide:sR,useValue:e},{provide:oR,useFactory:T8,deps:[sR]}],T8=e=>new oR(e),M8=(e,t)=>{const r=e.prototype;t.forEach(n=>{Object.defineProperty(r,n,{get(){return this.el[n]},set(o){this.z.runOutsideAngular(()=>this.el[n]=o)}})})},A8=(e,t)=>{const r=e.prototype;t.forEach(n=>{r[n]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[n].apply(this.el,o))}})};function L_(e){return function(r){const{defineCustomElementFn:n,inputs:o,methods:i}=e;return void 0!==n&&n(),o&&M8(r,o),i&&A8(r,i),r}}const aR=(e,t)=>((e=e.filter(r=>r.stackId!==t.stackId)).push(t),e),P0=(e,t)=>{const r=e.createUrlTree(["."],{relativeTo:t});return e.serializeUrl(r)},lR=(e,t)=>!t||e.stackId!==t.stackId,V8=(e,t)=>{if(!e)return;const r=cR(t);for(let n=0;n<r.length;n++){if(n>=e.length)return r[n];if(r[n]!==e[n])return}},cR=e=>e.split("/").map(t=>t.trim()).filter(t=>""!==t),uR=e=>{e&&(e.ref.destroy(),e.unlistenEvents())};class j8{constructor(t,r,n,o,i,s){this.containerEl=r,this.router=n,this.navCtrl=o,this.zone=i,this.location=s,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==t?cR(t):void 0}createView(t,r){const n=P0(this.router,r),o=t?.location?.nativeElement,i=iR(this.zone,t.instance,o);return{id:this.nextId++,stackId:V8(this.tabsPrefix,n),unlistenEvents:i,element:o,ref:t,url:n}}getExistingView(t){const r=P0(this.router,t),n=this.views.find(o=>o.url===r);return n&&n.ref.changeDetectorRef.reattach(),n}setActive(t){const r=this.navCtrl.consumeTransition();let{direction:n,animation:o,animationBuilder:i}=r;const s=this.activeView,a=lR(t,s);a&&(n="back",o=void 0);const l=this.views.slice();let c;const f=this.router;f.getCurrentNavigation?c=f.getCurrentNavigation():f.navigations?.value&&(c=f.navigations.value),c?.extras?.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const p=this.views.includes(t),m=this.insertView(t,n);p||t.ref.changeDetectorRef.detectChanges();const C=t.animationBuilder;return void 0===i&&"back"===n&&!a&&void 0!==C&&(i=C),s&&(s.animationBuilder=i),this.zone.runOutsideAngular(()=>this.wait(()=>(s&&s.ref.changeDetectorRef.detach(),t.ref.changeDetectorRef.reattach(),this.transition(t,s,o,this.canGoBack(1),!1,i).then(()=>G8(t,m,l,this.location,this.zone)).then(()=>({enteringView:t,direction:n,animation:o,tabSwitch:a})))))}canGoBack(t,r=this.getActiveStackId()){return this.getStack(r).length>t}pop(t,r=this.getActiveStackId()){return this.zone.run(()=>{const n=this.getStack(r);if(n.length<=t)return Promise.resolve(!1);const o=n[n.length-t-1];let i=o.url;const s=o.savedData;if(s){const l=s.get("primary");l?.route?._routerState?.snapshot.url&&(i=l.route._routerState.snapshot.url)}const{animationBuilder:a}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(i,{...o.savedExtras,animation:a}).then(()=>!0)})}startBackTransition(){const t=this.activeView;if(t){const r=this.getStack(t.stackId),n=r[r.length-2],o=n.animationBuilder;return this.wait(()=>this.transition(n,t,"back",this.canGoBack(2),!0,o))}return Promise.resolve()}endBackTransition(t){t?(this.skipTransition=!0,this.pop(1)):this.activeView&&dR(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(t){const r=this.getStack(t);return r.length>0?r[r.length-1]:void 0}getRootUrl(t){const r=this.getStack(t);return r.length>0?r[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(uR),this.activeView=void 0,this.views=[]}getStack(t){return this.views.filter(r=>r.stackId===t)}insertView(t,r){return this.activeView=t,this.views=((e,t,r)=>"root"===r?aR(e,t):"forward"===r?((e,t)=>(e.indexOf(t)>=0?e=e.filter(n=>n.stackId!==t.stackId||n.id<=t.id):e.push(t),e))(e,t):((e,t)=>e.indexOf(t)>=0?e.filter(n=>n.stackId!==t.stackId||n.id<=t.id):aR(e,t))(e,t))(this.views,t,r),this.views.slice()}transition(t,r,n,o,i,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(r===t)return Promise.resolve(!1);const a=t?t.element:void 0,l=r?r.element:void 0,c=this.containerEl;return a&&a!==l&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),a.parentElement!==c&&c.appendChild(a),c.commit)?c.commit(a,l,{duration:void 0===n?0:void 0,direction:n,showGoBack:o,progressAnimation:i,animationBuilder:s}):Promise.resolve(!1)}wait(t){var r=this;return(0,F.Z)(function*(){void 0!==r.runningTask&&(yield r.runningTask,r.runningTask=void 0);const n=r.runningTask=t();return n.finally(()=>r.runningTask=void 0),n})()}}const G8=(e,t,r,n,o)=>"function"==typeof requestAnimationFrame?new Promise(i=>{requestAnimationFrame(()=>{dR(e,t,r,n,o),i()})}):Promise.resolve(),dR=(e,t,r,n,o)=>{o.run(()=>r.filter(i=>!t.includes(i)).forEach(uR)),t.forEach(i=>{const a=n.path().split("?")[0].split("#")[0];if(i!==e&&i.url!==a){const l=i.element;l.setAttribute("aria-hidden","true"),l.classList.add("ion-page-hidden"),i.ref.changeDetectorRef.detach()}})};let fR=(()=>{class e{constructor(r,n,o,i,s,a,l,c){this.parentOutlet=c,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new ro(null),this.activated=null,this._activatedRoute=null,this.name=mn,this.stackWillChange=new qt,this.stackDidChange=new qt,this.activateEvents=new qt,this.deactivateEvents=new qt,this.parentContexts=ot(Eu),this.location=ot(cs),this.environmentInjector=ot(ii),this.inputBinder=ot(pR,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=ot(lh),this.navCtrl=ot(sf),this.nativeEl=i.nativeElement,this.name=r||mn,this.tabsPrefix="true"===n?P0(s,l):void 0,this.stackCtrl=new j8(this.tabsPrefix,this.nativeEl,s,this.navCtrl,a,o),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(r){this.nativeEl.animation=r}set animated(r){this.nativeEl.animated=r}set swipeGesture(r){this._swipeGesture=r,this.nativeEl.swipeHandler=r?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:n=>this.stackCtrl.endBackTransition(n)}:void 0}ngOnDestroy(){this.stackCtrl.destroy(),this.inputBinder?.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const r=this.getContext();r?.route&&this.activateWith(r.route,r.injector)}new Promise(r=>(0,v5.c)(this.nativeEl,r)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(r,n){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const n=this.getContext();this.activatedView.savedData=new Map(n.children.contexts);const o=this.activatedView.savedData.get("primary");if(o&&n.route&&(o.route={...n.route}),this.activatedView.savedExtras={},n.route){const i=n.route.snapshot;this.activatedView.savedExtras.queryParams=i.queryParams,this.activatedView.savedExtras.fragment=i.fragment}}const r=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,n){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=r;let o,i=this.stackCtrl.getExistingView(r);if(i){o=this.activated=i.ref;const a=i.savedData;a&&(this.getContext().children.contexts=a),this.updateActivatedRouteProxy(o.instance,r)}else{const a=r._futureSnapshot,l=this.parentContexts.getOrCreateContext(this.name).children,c=new ro(null),f=this.createActivatedRouteProxy(c,r),p=new U8(f,l,this.location.injector);o=this.activated=this.location.createComponent(a.routeConfig.component??a.component,{index:this.location.length,injector:p,environmentInjector:n??this.environmentInjector}),c.next(o.instance),i=this.stackCtrl.createView(this.activated,r),this.proxyMap.set(o.instance,f),this.currentActivatedRoute$.next({component:o.instance,activatedRoute:r})}this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activatedView=i,this.navCtrl.setTopOutlet(this);const s=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:i,tabSwitch:lR(i,s)}),this.stackCtrl.setActive(i).then(a=>{this.activateEvents.emit(o.instance),this.stackDidChange.emit(a)})}canGoBack(r=1,n){return this.stackCtrl.canGoBack(r,n)}pop(r=1,n){return this.stackCtrl.pop(r,n)}getLastUrl(r){const n=this.stackCtrl.getLastUrl(r);return n?n.url:void 0}getLastRouteView(r){return this.stackCtrl.getLastUrl(r)}getRootView(r){return this.stackCtrl.getRootUrl(r)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(r,n){const o=new dl;return o._futureSnapshot=n._futureSnapshot,o._routerState=n._routerState,o.snapshot=n.snapshot,o.outlet=n.outlet,o.component=n.component,o._paramMap=this.proxyObservable(r,"paramMap"),o._queryParamMap=this.proxyObservable(r,"queryParamMap"),o.url=this.proxyObservable(r,"url"),o.params=this.proxyObservable(r,"params"),o.queryParams=this.proxyObservable(r,"queryParams"),o.fragment=this.proxyObservable(r,"fragment"),o.data=this.proxyObservable(r,"data"),o}proxyObservable(r,n){return r.pipe(xa(o=>!!o),zr(o=>this.currentActivatedRoute$.pipe(xa(i=>null!==i&&i.component===o),zr(i=>i&&i.activatedRoute[n]),Hs())))}updateActivatedRouteProxy(r,n){const o=this.proxyMap.get(r);if(!o)throw new Error("Could not find activated route proxy for view");o._futureSnapshot=n._futureSnapshot,o._routerState=n._routerState,o.snapshot=n.snapshot,o.outlet=n.outlet,o.component=n.component,this.currentActivatedRoute$.next({component:r,activatedRoute:n})}}return e.\u0275fac=function(r){return new(r||e)(bc("name"),bc("tabs"),v(Pc),v(nt),v(Vo),v(Ze),v(dl),v(e,12))},e.\u0275dir=Mt({type:e,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class U8{constructor(t,r,n){this.route=t,this.childContexts=r,this.parent=n}get(t,r){return t===dl?this.route:t===Eu?this.childContexts:this.parent.get(t,r)}}const pR=new Be("");let H8=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:n}=r,o=a_([n.queryParams,n.params,n.data]).pipe(zr(([i,s,a],l)=>(a={...i,...s,...a},0===l?Lt(a):Promise.resolve(a)))).subscribe(i=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==n||null===n.component)return void this.unsubscribeFromRouteData(r);const s=vT(n.component);if(s)for(const{templateName:a}of s.inputs)r.activatedComponentRef.setInput(a,i[a]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,o)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e})();function W8(e){return e?.componentInputBindingEnabled?new H8:null}const Z8=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let q8=(()=>{let e=class{constructor(r,n,o,i,s,a){this.routerOutlet=r,this.navCtrl=n,this.config=o,this.r=i,this.z=s,a.detach(),this.el=this.r.nativeElement}onClick(r){const n=this.defaultHref||this.config.get("backButtonDefaultHref");this.routerOutlet?.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),r.preventDefault()):null!=n&&(this.navCtrl.navigateBack(n,{animation:this.routerAnimation}),r.preventDefault())}};return e.\u0275fac=function(r){return new(r||e)(v(fR,8),v(sf),v(lh),v(nt),v(Ze),v(lt))},e.\u0275dir=Mt({type:e,hostBindings:function(r,n){1&r&&Ve("click",function(i){return n.onClick(i)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}}),e=re([L_({inputs:Z8})],e),e})();const X8=["animated","animation","root","rootParams","swipeGesture"],Q8=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let J8=(()=>{let e=class{constructor(r,n,o,i,s,a){this.z=s,a.detach(),this.el=r.nativeElement,r.nativeElement.delegate=i.create(n,o),((e,t,r)=>{r.forEach(n=>e[n]=D_(t,n))})(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return e.\u0275fac=function(r){return new(r||e)(v(nt),v(ii),v(Gr),v(ch),v(Ze),v(lt))},e.\u0275dir=Mt({type:e,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}}),e=re([L_({inputs:X8,methods:Q8})],e),e})(),eW=(()=>{class e{constructor(r){this.navCtrl=r,this.ionTabsWillChange=new qt,this.ionTabsDidChange=new qt,this.tabBarSlot="bottom"}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:r,tabSwitch:n}){const o=r.stackId;n&&void 0!==o&&this.ionTabsWillChange.emit({tab:o})}onStackDidChange({enteringView:r,tabSwitch:n}){const o=r.stackId;n&&void 0!==o&&(this.tabBar&&(this.tabBar.selectedTab=o),this.ionTabsDidChange.emit({tab:o}))}select(r){const n="string"==typeof r,o=n?r:r.detail.tab,i=this.outlet.getActiveStackId()===o,s=`${this.outlet.tabsPrefix}/${o}`;if(n||r.stopPropagation(),i){const a=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(a)?.url===s)return;const c=this.outlet.getRootView(o);return this.navCtrl.navigateRoot(s,{...c&&s===c.url&&c.savedExtras,animated:!0,animationDirection:"back"})}{const a=this.outlet.getLastRouteView(o),l=a?.url||s,c=a?.savedExtras;return this.navCtrl.navigateRoot(l,{...c,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(r=>{const n=r.el.getAttribute("slot");n!==this.tabBarSlot&&(this.tabBarSlot=n,this.relocateTabBar())})}relocateTabBar(){const r=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(r):this.tabsInner.nativeElement.after(r)}}return e.\u0275fac=function(r){return new(r||e)(v(sf))},e.\u0275dir=Mt({type:e,selectors:[["ion-tabs"]],viewQuery:function(r,n){if(1&r&&Ac(b8,7,nt),2&r){let o;Ps(o=Os())&&(n.tabsInner=o.first)}},hostBindings:function(r,n){1&r&&Ve("ionTabButtonClick",function(i){return n.select(i)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}}),e})();const hR=e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e);let uh=(()=>{class e{constructor(r,n){this.injector=r,this.elementRef=n,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(r){this.elementRef.nativeElement.value=this.lastValue=r,af(this.elementRef)}handleValueChange(r,n){r===this.elementRef.nativeElement&&(n!==this.lastValue&&(this.lastValue=n,this.onChange(n)),af(this.elementRef))}_handleBlurEvent(r){r===this.elementRef.nativeElement&&(this.onTouched(),af(this.elementRef))}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouched=r}setDisabledState(r){this.elementRef.nativeElement.disabled=r}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let r;try{r=this.injector.get(Wl)}catch{}if(!r)return;r.statusChanges&&(this.statusChanges=r.statusChanges.subscribe(()=>af(this.elementRef)));const n=r.control;n&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(i=>{if(typeof n[i]<"u"){const s=n[i].bind(n);n[i]=(...a)=>{s(...a),af(this.elementRef)}}})}}return e.\u0275fac=function(r){return new(r||e)(v(Gr),v(nt))},e.\u0275dir=Mt({type:e,hostBindings:function(r,n){1&r&&Ve("ionBlur",function(i){return n._handleBlurEvent(i.target)})}}),e})();const af=e=>{hR(()=>{const t=e.nativeElement,r=null!=t.value&&t.value.toString().length>0,n=tW(t);O0(t,n);const o=t.closest("ion-item");o&&O0(o,r?[...n,"item-has-value"]:n)})},tW=e=>{const t=e.classList,r=[];for(let n=0;n<t.length;n++){const o=t.item(n);null!==o&&nW(o,"ng-")&&r.push(`ion-${o.substring(3)}`)}return r},O0=(e,t)=>{const r=e.classList;r.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),r.add(...t)},nW=(e,t)=>e.substring(0,t.length)===t;class rW{shouldDetach(t){return!1}shouldAttach(t){return!1}store(t,r){}retrieve(t){return null}shouldReuseRoute(t,r){if(t.routeConfig!==r.routeConfig)return!1;const n=t.params,o=r.params,i=Object.keys(n),s=Object.keys(o);if(i.length!==s.length)return!1;for(const a of i)if(o[a]!==n[a])return!1;return!0}}class dh{constructor(t){this.ctrl=t}create(t){return this.ctrl.create(t||{})}dismiss(t,r,n){return this.ctrl.dismiss(t,r,n)}getTop(){return this.ctrl.getTop()}}var N0=S(2723),oW=(S(8044),S(5444),S(5922),S(4923),S(5194)),F0=S(2984),fh=(S(4656),S(7261)),iW=(S(6940),S(3426));S(4967);const aW=oW.i,gt=["*"],cW=["outlet"],uW=[[["","slot","top"]],"*"],dW=["[slot=top]","*"];let lf=(()=>{class e extends uh{constructor(r,n){super(r,n)}writeValue(r){this.elementRef.nativeElement.checked=this.lastValue=r,af(this.elementRef)}_handleIonChange(r){this.handleValueChange(r,r.checked)}}return e.\u0275fac=function(r){return new(r||e)(v(Gr),v(nt))},e.\u0275dir=Mt({type:e,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(r,n){1&r&&Ve("ionChange",function(i){return n._handleIonChange(i.target)})},features:[rr([{provide:Bi,useExisting:e,multi:!0}]),dn]}),e})(),ph=(()=>{class e extends uh{constructor(r,n){super(r,n)}_handleChangeEvent(r){this.handleValueChange(r,r.value)}}return e.\u0275fac=function(r){return new(r||e)(v(Gr),v(nt))},e.\u0275dir=Mt({type:e,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(r,n){1&r&&Ve("ionChange",function(i){return n._handleChangeEvent(i.target)})},features:[rr([{provide:Bi,useExisting:e,multi:!0}]),dn]}),e})(),Yl=(()=>{class e extends uh{constructor(r,n){super(r,n)}_handleInputEvent(r){this.handleValueChange(r,r.value)}}return e.\u0275fac=function(r){return new(r||e)(v(Gr),v(nt))},e.\u0275dir=Mt({type:e,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"],["ion-range"]],hostBindings:function(r,n){1&r&&Ve("ionInput",function(i){return n._handleInputEvent(i.target)})},features:[rr([{provide:Bi,useExisting:e,multi:!0}]),dn]}),e})();const gW=(e,t)=>{const r=e.prototype;t.forEach(n=>{Object.defineProperty(r,n,{get(){return this.el[n]},set(o){this.z.runOutsideAngular(()=>this.el[n]=o)},configurable:!0})})},_W=(e,t)=>{const r=e.prototype;t.forEach(n=>{r[n]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[n].apply(this.el,o))}})},ar=(e,t,r)=>{r.forEach(n=>e[n]=D_(t,n))};function yt(e){return function(r){const{defineCustomElementFn:n,inputs:o,methods:i}=e;return void 0!==n&&n(),o&&gW(r,o),i&&_W(r,i),r}}let mR=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(lt),v(nt),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-app"]],ngContentSelectors:gt,decls:1,vars:0,template:function(r,n){1&r&&(ft(),dt(0))},encapsulation:2,changeDetection:0}),e=re([yt({})],e),e})(),ji=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,ar(this,this.el,["ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(v(lt),v(nt),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:gt,decls:1,vars:0,template:function(r,n){1&r&&(ft(),dt(0))},encapsulation:2,changeDetection:0}),e=re([yt({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],e),e})(),Gi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(lt),v(nt),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:gt,decls:1,vars:0,template:function(r,n){1&r&&(ft(),dt(0))},encapsulation:2,changeDetection:0}),e=re([yt({inputs:["collapse"]})],e),e})(),gR=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,ar(this,this.el,["ionChange","ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(v(lt),v(nt),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-checkbox"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:gt,decls:1,vars:0,template:function(r,n){1&r&&(ft(),dt(0))},encapsulation:2,changeDetection:0}),e=re([yt({inputs:["alignment","checked","color","disabled","indeterminate","justify","labelPlacement","legacy","mode","name","value"]})],e),e})(),Ui=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,ar(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return e.\u0275fac=function(r){return new(r||e)(v(lt),v(nt),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:gt,decls:1,vars:0,template:function(r,n){1&r&&(ft(),dt(0))},encapsulation:2,changeDetection:0}),e=re([yt({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],e),e})(),Hi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(lt),v(nt),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:gt,decls:1,vars:0,template:function(r,n){1&r&&(ft(),dt(0))},encapsulation:2,changeDetection:0}),e=re([yt({inputs:["collapse","mode","translucent"]})],e),e})(),jo=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(lt),v(nt),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:gt,decls:1,vars:0,template:function(r,n){1&r&&(ft(),dt(0))},encapsulation:2,changeDetection:0}),e=re([yt({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],e),e})(),Xl=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,ar(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return e.\u0275fac=function(r){return new(r||e)(v(lt),v(nt),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:gt,decls:1,vars:0,template:function(r,n){1&r&&(ft(),dt(0))},encapsulation:2,changeDetection:0}),e=re([yt({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],e),e})(),mo=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(lt),v(nt),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:gt,decls:1,vars:0,template:function(r,n){1&r&&(ft(),dt(0))},encapsulation:2,changeDetection:0}),e=re([yt({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],e),e})(),$_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(lt),v(nt),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:gt,decls:1,vars:0,template:function(r,n){1&r&&(ft(),dt(0))},encapsulation:2,changeDetection:0}),e=re([yt({inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],e),e})(),B_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,ar(this,this.el,["ionSwipe"])}};return e.\u0275fac=function(r){return new(r||e)(v(lt),v(nt),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:gt,decls:1,vars:0,template:function(r,n){1&r&&(ft(),dt(0))},encapsulation:2,changeDetection:0}),e=re([yt({inputs:["side"]})],e),e})(),V_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,ar(this,this.el,["ionDrag"])}};return e.\u0275fac=function(r){return new(r||e)(v(lt),v(nt),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:gt,decls:1,vars:0,template:function(r,n){1&r&&(ft(),dt(0))},encapsulation:2,changeDetection:0}),e=re([yt({inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],e),e})(),zi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(lt),v(nt),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:gt,decls:1,vars:0,template:function(r,n){1&r&&(ft(),dt(0))},encapsulation:2,changeDetection:0}),e=re([yt({inputs:["color","mode","position"]})],e),e})(),Fs=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(lt),v(nt),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:gt,decls:1,vars:0,template:function(r,n){1&r&&(ft(),dt(0))},encapsulation:2,changeDetection:0}),e=re([yt({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],e),e})(),L0=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,ar(this,this.el,["ionChange","ionInput","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}};return e.\u0275fac=function(r){return new(r||e)(v(lt),v(nt),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:gt,decls:1,vars:0,template:function(r,n){1&r&&(ft(),dt(0))},encapsulation:2,changeDetection:0}),e=re([yt({inputs:["activeBarStart","color","debounce","disabled","dualKnobs","label","labelPlacement","legacy","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],e),e})(),hh=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,ar(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(v(lt),v(nt),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:gt,decls:1,vars:0,template:function(r,n){1&r&&(ft(),dt(0))},encapsulation:2,changeDetection:0}),e=re([yt({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","legacy","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],e),e})(),mh=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(lt),v(nt),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:gt,decls:1,vars:0,template:function(r,n){1&r&&(ft(),dt(0))},encapsulation:2,changeDetection:0}),e=re([yt({inputs:["disabled","value"]})],e),e})(),gh=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(lt),v(nt),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:gt,decls:1,vars:0,template:function(r,n){1&r&&(ft(),dt(0))},encapsulation:2,changeDetection:0}),e=re([yt({inputs:["color","duration","name","paused"]})],e),e})(),j_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(lt),v(nt),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:gt,decls:1,vars:0,template:function(r,n){1&r&&(ft(),dt(0))},encapsulation:2,changeDetection:0}),e=re([yt({inputs:["color","mode","selectedTab","translucent"]})],e),e})(),_R=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(lt),v(nt),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:gt,decls:1,vars:0,template:function(r,n){1&r&&(ft(),dt(0))},encapsulation:2,changeDetection:0}),e=re([yt({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],e),e})(),Wi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(lt),v(nt),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:gt,decls:1,vars:0,template:function(r,n){1&r&&(ft(),dt(0))},encapsulation:2,changeDetection:0}),e=re([yt({inputs:["color","size"]})],e),e})(),_h=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,ar(this,this.el,["ionChange","ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(v(lt),v(nt),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-toggle"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:gt,decls:1,vars:0,template:function(r,n){1&r&&(ft(),dt(0))},encapsulation:2,changeDetection:0}),e=re([yt({inputs:["alignment","checked","color","disabled","enableOnOffLabels","justify","labelPlacement","legacy","mode","name","value"]})],e),e})(),Zi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(lt),v(nt),v(Ze))},e.\u0275cmp=Ye({type:e,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:gt,decls:1,vars:0,template:function(r,n){1&r&&(ft(),dt(0))},encapsulation:2,changeDetection:0}),e=re([yt({inputs:["color","mode"]})],e),e})(),vh=(()=>{class e extends fR{constructor(r,n,o,i,s,a,l,c){super(r,n,o,i,s,a,l,c),this.parentOutlet=c}}return e.\u0275fac=function(r){return new(r||e)(bc("name"),bc("tabs"),v(Pc),v(nt),v(Vo),v(Ze),v(dl),v(e,12))},e.\u0275dir=Mt({type:e,selectors:[["ion-router-outlet"]],features:[dn]}),e})(),vR=(()=>{class e extends eW{}return e.\u0275fac=(()=>{let t;return function(n){return(t||(t=jr(e)))(n||e)}})(),e.\u0275cmp=Ye({type:e,selectors:[["ion-tabs"]],contentQueries:function(r,n,o){if(1&r&&(Od(o,j_,5),Od(o,j_,4)),2&r){let i;Ps(i=Os())&&(n.tabBar=i.first),Ps(i=Os())&&(n.tabBars=i)}},viewQuery:function(r,n){if(1&r&&Ac(cW,5,vh),2&r){let o;Ps(o=Os())&&(n.outlet=o.first)}},features:[dn],ngContentSelectors:dW,decls:6,vars:0,consts:[[1,"tabs-inner"],["tabsInner",""],["tabs","true",3,"stackWillChange","stackDidChange"],["outlet",""]],template:function(r,n){1&r&&(ft(uW),dt(0),j(1,"div",0,1)(3,"ion-router-outlet",2,3),Ve("stackWillChange",function(i){return n.onStackWillChange(i)})("stackDidChange",function(i){return n.onStackDidChange(i)}),L()(),dt(5,1))},dependencies:[vh],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]}),e})(),yR=(()=>{class e extends q8{constructor(r,n,o,i,s,a){super(r,n,o,i,s,a)}}return e.\u0275fac=function(r){return new(r||e)(v(vh,8),v(sf),v(lh),v(nt),v(Ze),v(lt))},e.\u0275cmp=Ye({type:e,selectors:[["ion-back-button"]],features:[dn],ngContentSelectors:gt,decls:1,vars:0,template:function(r,n){1&r&&(ft(),dt(0))},encapsulation:2,changeDetection:0}),e})(),$0=(()=>{class e extends J8{constructor(r,n,o,i,s,a){super(r,n,o,i,s,a)}}return e.\u0275fac=function(r){return new(r||e)(v(nt),v(ii),v(Gr),v(ch),v(Ze),v(lt))},e.\u0275cmp=Ye({type:e,selectors:[["ion-nav"]],features:[dn],ngContentSelectors:gt,decls:1,vars:0,template:function(r,n){1&r&&(ft(),dt(0))},encapsulation:2,changeDetection:0}),e})();const S9={provide:li,useExisting:On(()=>bR),multi:!0};let bR=(()=>{class e extends x0{}return e.\u0275fac=(()=>{let t;return function(n){return(t||(t=jr(e)))(n||e)}})(),e.\u0275dir=Mt({type:e,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,n){2&r&&ks("max",n._enabled?n.max:null)},features:[rr([S9]),dn]}),e})();const w9={provide:li,useExisting:On(()=>CR),multi:!0};let CR=(()=>{class e extends T0{}return e.\u0275fac=(()=>{let t;return function(n){return(t||(t=jr(e)))(n||e)}})(),e.\u0275dir=Mt({type:e,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,n){2&r&&ks("min",n._enabled?n.min:null)},features:[rr([w9]),dn]}),e})(),B0=(()=>{class e extends dh{constructor(){super(fh.a)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),yh=(()=>{class e extends dh{constructor(){super(fh.b)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Ls=(()=>{class e extends dh{constructor(){super(fh.l)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),fs=(()=>{class e extends dh{constructor(){super(fh.m),this.angularDelegate=ot(ch),this.injector=ot(Gr),this.environmentInjector=ot(ii)}create(r){return super.create({...r,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac}),e})();class Ql extends dh{constructor(){super(fh.c),this.angularDelegate=ot(ch),this.injector=ot(Gr),this.environmentInjector=ot(ii)}create(t){return super.create({...t,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const E9=(e,t,r)=>()=>{if(t.defaultView&&typeof window<"u"){(0,F0.s)({...e,_zoneGate:i=>r.run(i)});const o="__zone_symbol__addEventListener"in t.body?"__zone_symbol__addEventListener":"addEventListener";return function sW(){var e=[];if(typeof window<"u"){var t=window;(!t.customElements||t.Element&&(!t.Element.prototype.closest||!t.Element.prototype.matches||!t.Element.prototype.remove||!t.Element.prototype.getRootNode))&&e.push(S.e(6748).then(S.t.bind(S,4061,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||t.NodeList&&!t.NodeList.prototype.forEach||!t.fetch||!function(){try{var n=new URL("b","http://a");return n.pathname="c%20d","http://a/c%20d"===n.href&&n.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&e.push(S.e(2214).then(S.t.bind(S,7386,23)))}return Promise.all(e)}().then(()=>((e,t)=>{if(!(typeof window>"u"))return aW(),(0,iW.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"placeholder":["placeholderChanged"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"counterFormatter":["counterFormatterChanged"]}],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"],"checked":["styleChanged"],"color":["styleChanged"],"disabled":["styleChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"disabled":[4],"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]},null,{"value":["valueChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]},null,{"checked":["styleChanged"],"disabled":["styleChanged"]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),t)})(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:hR,jmp:i=>r.runOutsideAngular(i),ael(i,s,a,l){i[o](s,a,l)},rel(i,s,a,l){i.removeEventListener(s,a,l)}}))}};let Hc=(()=>{class e{static forRoot(r){return{ngModule:e,providers:[{provide:rR,useValue:r},{provide:kp,useFactory:E9,multi:!0,deps:[rR,ai,Ze]},{provide:pR,useFactory:W8,deps:[Vo]}]}}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Wr({type:e}),e.\u0275inj=We({providers:[ch,fs,Ql],imports:[ll]}),e})();function SR(e,t){(function D9(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function V0(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function bh(e){return(bh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Jr(e,t,r){return(t=function x9(e){var t=function I9(e,t){if("object"!==bh(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==bh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===bh(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let Au={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function wR(e){Au=e}const ER=/[&<>"']/,T9=new RegExp(ER.source,"g"),DR=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,M9=new RegExp(DR.source,"g"),A9={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},IR=e=>A9[e];function $s(e,t){if(t){if(ER.test(e))return e.replace(T9,IR)}else if(DR.test(e))return e.replace(M9,IR);return e}const k9=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,P9=/(^|[^\[])\^/g;function ur(e,t){e="string"==typeof e?e:e.source,t=t||"";const r={replace:(n,o)=>(o=(o="object"==typeof o&&"source"in o?o.source:o).replace(P9,"$1"),e=e.replace(n,o),r),getRegex:()=>new RegExp(e,t)};return r}function xR(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}const G_={exec:()=>null};function TR(e,t){const n=e.replace(/\|/g,(i,s,a)=>{let l=!1,c=s;for(;--c>=0&&"\\"===a[c];)l=!l;return l?"|":" |"}).split(/ \|/);let o=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;o<n.length;o++)n[o]=n[o].trim().replace(/\\\|/g,"|");return n}function U_(e,t,r){const n=e.length;if(0===n)return"";let o=0;for(;o<n;){const i=e.charAt(n-o-1);if(i!==t||r){if(i===t||!r)break;o++}else o++}return e.slice(0,n-o)}function MR(e,t,r,n){const o=t.href,i=t.title?$s(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){n.state.inLink=!0;const a={type:"link",raw:r,href:o,title:i,text:s,tokens:n.inlineTokens(s)};return n.state.inLink=!1,a}return{type:"image",raw:r,href:o,title:i,text:$s(s)}}class H_{constructor(t){Jr(this,"options",void 0),Jr(this,"rules",void 0),Jr(this,"lexer",void 0),this.options=t||Au}space(t){const r=this.rules.block.newline.exec(t);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(t){const r=this.rules.block.code.exec(t);if(r){const n=r[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:U_(n,"\n")}}}fences(t){const r=this.rules.block.fences.exec(t);if(r){const n=r[0],o=function N9(e,t){const r=e.match(/^(\s+)(?:```)/);if(null===r)return t;const n=r[1];return t.split("\n").map(o=>{const i=o.match(/^\s+/);if(null===i)return o;const[s]=i;return s.length>=n.length?o.slice(n.length):o}).join("\n")}(n,r[3]||"");return{type:"code",raw:n,lang:r[2]?r[2].trim().replace(this.rules.inline._escapes,"$1"):r[2],text:o}}}heading(t){const r=this.rules.block.heading.exec(t);if(r){let n=r[2].trim();if(/#$/.test(n)){const o=U_(n,"#");(this.options.pedantic||!o||/ $/.test(o))&&(n=o.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){const r=this.rules.block.hr.exec(t);if(r)return{type:"hr",raw:r[0]}}blockquote(t){const r=this.rules.block.blockquote.exec(t);if(r){const n=U_(r[0].replace(/^ *>[ \t]?/gm,""),"\n"),o=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(n);return this.lexer.state.top=o,{type:"blockquote",raw:r[0],tokens:i,text:n}}}list(t){let r=this.rules.block.list.exec(t);if(r){let n=r[1].trim();const o=n.length>1,i={type:"list",raw:"",ordered:o,start:o?+n.slice(0,-1):"",loose:!1,items:[]};n=o?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=o?n:"[*+-]");const s=new RegExp(`^( {0,3}${n})((?:[\t ][^\\n]*)?(?:\\n|$))`);let a="",l="",c=!1;for(;t;){let f=!1;if(!(r=s.exec(t))||this.rules.block.hr.test(t))break;a=r[0],t=t.substring(a.length);let p=r[2].split("\n",1)[0].replace(/^\t+/,De=>" ".repeat(3*De.length)),m=t.split("\n",1)[0],C=0;this.options.pedantic?(C=2,l=p.trimStart()):(C=r[2].search(/[^ ]/),C=C>4?1:C,l=p.slice(C),C+=r[1].length);let U=!1;if(!p&&/^ *$/.test(m)&&(a+=m+"\n",t=t.substring(m.length+1),f=!0),!f){const De=new RegExp(`^ {0,${Math.min(3,C-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),Re=new RegExp(`^ {0,${Math.min(3,C-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),ht=new RegExp(`^ {0,${Math.min(3,C-1)}}(?:\`\`\`|~~~)`),pt=new RegExp(`^ {0,${Math.min(3,C-1)}}#`);for(;t;){const Gt=t.split("\n",1)[0];if(m=Gt,this.options.pedantic&&(m=m.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),ht.test(m)||pt.test(m)||De.test(m)||Re.test(t))break;if(m.search(/[^ ]/)>=C||!m.trim())l+="\n"+m.slice(C);else{if(U||p.search(/[^ ]/)>=4||ht.test(p)||pt.test(p)||Re.test(p))break;l+="\n"+m}!U&&!m.trim()&&(U=!0),a+=Gt+"\n",t=t.substring(Gt.length+1),p=m.slice(C)}}i.loose||(c?i.loose=!0:/\n *\n *$/.test(a)&&(c=!0));let _e,J=null;this.options.gfm&&(J=/^\[[ xX]\] /.exec(l),J&&(_e="[ ] "!==J[0],l=l.replace(/^\[[ xX]\] +/,""))),i.items.push({type:"list_item",raw:a,task:!!J,checked:_e,loose:!1,text:l,tokens:[]}),i.raw+=a}i.items[i.items.length-1].raw=a.trimEnd(),i.items[i.items.length-1].text=l.trimEnd(),i.raw=i.raw.trimEnd();for(let f=0;f<i.items.length;f++)if(this.lexer.state.top=!1,i.items[f].tokens=this.lexer.blockTokens(i.items[f].text,[]),!i.loose){const p=i.items[f].tokens.filter(C=>"space"===C.type),m=p.length>0&&p.some(C=>/\n.*\n/.test(C.raw));i.loose=m}if(i.loose)for(let f=0;f<i.items.length;f++)i.items[f].loose=!0;return i}}html(t){const r=this.rules.block.html.exec(t);if(r)return{type:"html",block:!0,raw:r[0],pre:"pre"===r[1]||"script"===r[1]||"style"===r[1],text:r[0]}}def(t){const r=this.rules.block.def.exec(t);if(r){const n=r[1].toLowerCase().replace(/\s+/g," "),o=r[2]?r[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline._escapes,"$1"):r[3];return{type:"def",tag:n,raw:r[0],href:o,title:i}}}table(t){const r=this.rules.block.table.exec(t);if(r){if(!/[:|]/.test(r[2]))return;const n={type:"table",raw:r[0],header:TR(r[1]).map(o=>({text:o,tokens:[]})),align:r[2].replace(/^\||\| *$/g,"").split("|"),rows:r[3]&&r[3].trim()?r[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(n.header.length===n.align.length){let i,s,a,l,o=n.align.length;for(i=0;i<o;i++){const c=n.align[i];c&&(n.align[i]=/^ *-+: *$/.test(c)?"right":/^ *:-+: *$/.test(c)?"center":/^ *:-+ *$/.test(c)?"left":null)}for(o=n.rows.length,i=0;i<o;i++)n.rows[i]=TR(n.rows[i],n.header.length).map(c=>({text:c,tokens:[]}));for(o=n.header.length,s=0;s<o;s++)n.header[s].tokens=this.lexer.inline(n.header[s].text);for(o=n.rows.length,s=0;s<o;s++)for(l=n.rows[s],a=0;a<l.length;a++)l[a].tokens=this.lexer.inline(l[a].text);return n}}}lheading(t){const r=this.rules.block.lheading.exec(t);if(r)return{type:"heading",raw:r[0],depth:"="===r[2].charAt(0)?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(t){const r=this.rules.block.paragraph.exec(t);if(r){const n="\n"===r[1].charAt(r[1].length-1)?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(t){const r=this.rules.block.text.exec(t);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(t){const r=this.rules.inline.escape.exec(t);if(r)return{type:"escape",raw:r[0],text:$s(r[1])}}tag(t){const r=this.rules.inline.tag.exec(t);if(r)return!this.lexer.state.inLink&&/^<a /i.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(t){const r=this.rules.inline.link.exec(t);if(r){const n=r[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const s=U_(n.slice(0,-1),"\\");if((n.length-s.length)%2==0)return}else{const s=function O9(e,t){if(-1===e.indexOf(t[1]))return-1;let r=0;for(let n=0;n<e.length;n++)if("\\"===e[n])n++;else if(e[n]===t[0])r++;else if(e[n]===t[1]&&(r--,r<0))return n;return-1}(r[2],"()");if(s>-1){const l=(0===r[0].indexOf("!")?5:4)+r[1].length+s;r[2]=r[2].substring(0,s),r[0]=r[0].substring(0,l).trim(),r[3]=""}}let o=r[2],i="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);s&&(o=s[1],i=s[3])}else i=r[3]?r[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(n)?o.slice(1):o.slice(1,-1)),MR(r,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},r[0],this.lexer)}}reflink(t,r){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let o=(n[2]||n[1]).replace(/\s+/g," ");if(o=r[o.toLowerCase()],!o){const i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return MR(n,o,n[0],this.lexer)}}emStrong(t,r,n=""){let o=this.rules.inline.emStrong.lDelim.exec(t);if(!(!o||o[3]&&n.match(/[\p{L}\p{N}]/u))&&(!o[1]&&!o[2]||!n||this.rules.inline.punctuation.exec(n))){const s=[...o[0]].length-1;let a,l,c=s,f=0;const p="*"===o[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(p.lastIndex=0,r=r.slice(-1*t.length+s);null!=(o=p.exec(r));){if(a=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!a)continue;if(l=[...a].length,o[3]||o[4]){c+=l;continue}if((o[5]||o[6])&&s%3&&!((s+l)%3)){f+=l;continue}if(c-=l,c>0)continue;l=Math.min(l,l+c+f);const m=[...o[0]][0].length,C=t.slice(0,s+o.index+m+l);if(Math.min(s,l)%2){const J=C.slice(1,-1);return{type:"em",raw:C,text:J,tokens:this.lexer.inlineTokens(J)}}const U=C.slice(2,-2);return{type:"strong",raw:C,text:U,tokens:this.lexer.inlineTokens(U)}}}}codespan(t){const r=this.rules.inline.code.exec(t);if(r){let n=r[2].replace(/\n/g," ");const o=/[^ ]/.test(n),i=/^ /.test(n)&&/ $/.test(n);return o&&i&&(n=n.substring(1,n.length-1)),n=$s(n,!0),{type:"codespan",raw:r[0],text:n}}}br(t){const r=this.rules.inline.br.exec(t);if(r)return{type:"br",raw:r[0]}}del(t){const r=this.rules.inline.del.exec(t);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(t){const r=this.rules.inline.autolink.exec(t);if(r){let n,o;return"@"===r[2]?(n=$s(r[1]),o="mailto:"+n):(n=$s(r[1]),o=n),{type:"link",raw:r[0],text:n,href:o,tokens:[{type:"text",raw:n,text:n}]}}}url(t){let r;if(r=this.rules.inline.url.exec(t)){let n,o;if("@"===r[2])n=$s(r[0]),o="mailto:"+n;else{let i;do{i=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(i!==r[0]);n=$s(r[0]),o="www."===r[1]?"http://"+r[0]:r[0]}return{type:"link",raw:r[0],text:n,href:o,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(t){const r=this.rules.inline.text.exec(t);if(r){let n;return n=this.lexer.state.inRawBlock?r[0]:$s(r[0]),{type:"text",raw:r[0],text:n}}}}const Ht={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:G_,lheading:/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Ht.def=ur(Ht.def).replace("label",Ht._label).replace("title",Ht._title).getRegex(),Ht.bullet=/(?:[*+-]|\d{1,9}[.)])/,Ht.listItemStart=ur(/^( *)(bull) */).replace("bull",Ht.bullet).getRegex(),Ht.list=ur(Ht.list).replace(/bull/g,Ht.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Ht.def.source+")").getRegex(),Ht._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Ht._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Ht.html=ur(Ht.html,"i").replace("comment",Ht._comment).replace("tag",Ht._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ht.lheading=ur(Ht.lheading).replace(/bull/g,Ht.bullet).getRegex(),Ht.paragraph=ur(Ht._paragraph).replace("hr",Ht.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ht._tag).getRegex(),Ht.blockquote=ur(Ht.blockquote).replace("paragraph",Ht.paragraph).getRegex(),Ht.normal={...Ht},Ht.gfm={...Ht.normal,table:"^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},Ht.gfm.table=ur(Ht.gfm.table).replace("hr",Ht.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ht._tag).getRegex(),Ht.gfm.paragraph=ur(Ht._paragraph).replace("hr",Ht.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Ht.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ht._tag).getRegex(),Ht.pedantic={...Ht.normal,html:ur("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Ht._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:G_,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ur(Ht.normal._paragraph).replace("hr",Ht.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Ht.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const It={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:G_,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:G_,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/,_punctuation:"\\p{P}$+<=>`^|~"};It.punctuation=ur(It.punctuation,"u").replace(/punctuation/g,It._punctuation).getRegex(),It.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,It.anyPunctuation=/\\[punct]/g,It._escapes=/\\([punct])/g,It._comment=ur(Ht._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),It.emStrong.lDelim=ur(It.emStrong.lDelim,"u").replace(/punct/g,It._punctuation).getRegex(),It.emStrong.rDelimAst=ur(It.emStrong.rDelimAst,"gu").replace(/punct/g,It._punctuation).getRegex(),It.emStrong.rDelimUnd=ur(It.emStrong.rDelimUnd,"gu").replace(/punct/g,It._punctuation).getRegex(),It.anyPunctuation=ur(It.anyPunctuation,"gu").replace(/punct/g,It._punctuation).getRegex(),It._escapes=ur(It._escapes,"gu").replace(/punct/g,It._punctuation).getRegex(),It._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,It._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,It.autolink=ur(It.autolink).replace("scheme",It._scheme).replace("email",It._email).getRegex(),It._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,It.tag=ur(It.tag).replace("comment",It._comment).replace("attribute",It._attribute).getRegex(),It._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,It._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,It._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,It.link=ur(It.link).replace("label",It._label).replace("href",It._href).replace("title",It._title).getRegex(),It.reflink=ur(It.reflink).replace("label",It._label).replace("ref",Ht._label).getRegex(),It.nolink=ur(It.nolink).replace("ref",Ht._label).getRegex(),It.reflinkSearch=ur(It.reflinkSearch,"g").replace("reflink",It.reflink).replace("nolink",It.nolink).getRegex(),It.normal={...It},It.pedantic={...It.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ur(/^!?\[(label)\]\((.*?)\)/).replace("label",It._label).getRegex(),reflink:ur(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",It._label).getRegex()},It.gfm={...It.normal,escape:ur(It.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},It.gfm.url=ur(It.gfm.url,"i").replace("email",It.gfm._extended_email).getRegex(),It.breaks={...It.gfm,br:ur(It.br).replace("{2,}","*").getRegex(),text:ur(It.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class ml{constructor(t){Jr(this,"tokens",void 0),Jr(this,"options",void 0),Jr(this,"state",void 0),Jr(this,"tokenizer",void 0),Jr(this,"inlineQueue",void 0),this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Au,this.options.tokenizer=this.options.tokenizer||new H_,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const r={block:Ht.normal,inline:It.normal};this.options.pedantic?(r.block=Ht.pedantic,r.inline=It.pedantic):this.options.gfm&&(r.block=Ht.gfm,r.inline=this.options.breaks?It.breaks:It.gfm),this.tokenizer.rules=r}static get rules(){return{block:Ht,inline:It}}static lex(t,r){return new ml(r).lex(t)}static lexInline(t,r){return new ml(r).inlineTokens(t)}lex(t){let r;for(t=t.replace(/\r\n|\r/g,"\n"),this.blockTokens(t,this.tokens);r=this.inlineQueue.shift();)this.inlineTokens(r.src,r.tokens);return this.tokens}blockTokens(t,r=[]){let n,o,i,s;for(t=this.options.pedantic?t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t.replace(/^( *)(\t+)/gm,(a,l,c)=>l+"    ".repeat(c.length));t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(n=a.call({lexer:this},t,r))&&(t=t.substring(n.raw.length),r.push(n),!0)))){if(n=this.tokenizer.space(t)){t=t.substring(n.raw.length),1===n.raw.length&&r.length>0?r[r.length-1].raw+="\n":r.push(n);continue}if(n=this.tokenizer.code(t)){t=t.substring(n.raw.length),o=r[r.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?r.push(n):(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(n=this.tokenizer.fences(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.heading(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.hr(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.blockquote(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.list(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.html(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.def(t)){t=t.substring(n.raw.length),o=r[r.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(o.raw+="\n"+n.raw,o.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(n=this.tokenizer.table(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.lheading(t)){t=t.substring(n.raw.length),r.push(n);continue}if(i=t,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const l=t.slice(1);let c;this.options.extensions.startBlock.forEach(f=>{c=f.call({lexer:this},l),"number"==typeof c&&c>=0&&(a=Math.min(a,c))}),a<1/0&&a>=0&&(i=t.substring(0,a+1))}if(this.state.top&&(n=this.tokenizer.paragraph(i))){o=r[r.length-1],s&&"paragraph"===o.type?(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):r.push(n),s=i.length!==t.length,t=t.substring(n.raw.length);continue}if(n=this.tokenizer.text(t)){t=t.substring(n.raw.length),o=r[r.length-1],o&&"text"===o.type?(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):r.push(n);continue}if(t){const a="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){let n,o,i,a,l,c,s=t;if(this.tokens.links){const f=Object.keys(this.tokens.links);if(f.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(s));)f.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.anyPunctuation.exec(s));)s=s.slice(0,a.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;t;)if(l||(c=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(f=>!!(n=f.call({lexer:this},t,r))&&(t=t.substring(n.raw.length),r.push(n),!0)))){if(n=this.tokenizer.escape(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.tag(t)){t=t.substring(n.raw.length),o=r[r.length-1],o&&"text"===n.type&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):r.push(n);continue}if(n=this.tokenizer.link(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(n.raw.length),o=r[r.length-1],o&&"text"===n.type&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):r.push(n);continue}if(n=this.tokenizer.emStrong(t,s,c)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.codespan(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.br(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.del(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.autolink(t)){t=t.substring(n.raw.length),r.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(t))){t=t.substring(n.raw.length),r.push(n);continue}if(i=t,this.options.extensions&&this.options.extensions.startInline){let f=1/0;const p=t.slice(1);let m;this.options.extensions.startInline.forEach(C=>{m=C.call({lexer:this},p),"number"==typeof m&&m>=0&&(f=Math.min(f,m))}),f<1/0&&f>=0&&(i=t.substring(0,f+1))}if(n=this.tokenizer.inlineText(i)){t=t.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(c=n.raw.slice(-1)),l=!0,o=r[r.length-1],o&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):r.push(n);continue}if(t){const f="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(f);break}throw new Error(f)}}return r}}class ku{constructor(t){Jr(this,"options",void 0),this.options=t||Au}code(t,r,n){const o=(r||"").match(/^\S*/)?.[0];return t=t.replace(/\n$/,"")+"\n",o?'<pre><code class="language-'+$s(o)+'">'+(n?t:$s(t,!0))+"</code></pre>\n":"<pre><code>"+(n?t:$s(t,!0))+"</code></pre>\n"}blockquote(t){return`<blockquote>\n${t}</blockquote>\n`}html(t,r){return t}heading(t,r,n){return`<h${r}>${t}</h${r}>\n`}hr(){return"<hr>\n"}list(t,r,n){const o=r?"ol":"ul";return"<"+o+(r&&1!==n?' start="'+n+'"':"")+">\n"+t+"</"+o+">\n"}listitem(t,r,n){return`<li>${t}</li>\n`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(t){return`<p>${t}</p>\n`}table(t,r){return r&&(r=`<tbody>${r}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+r+"</table>\n"}tablerow(t){return`<tr>\n${t}</tr>\n`}tablecell(t,r){const n=r.header?"th":"td";return(r.align?`<${n} align="${r.align}">`:`<${n}>`)+t+`</${n}>\n`}strong(t){return`<strong>${t}</strong>`}em(t){return`<em>${t}</em>`}codespan(t){return`<code>${t}</code>`}br(){return"<br>"}del(t){return`<del>${t}</del>`}link(t,r,n){const o=xR(t);if(null===o)return n;let i='<a href="'+(t=o)+'"';return r&&(i+=' title="'+r+'"'),i+=">"+n+"</a>",i}image(t,r,n){const o=xR(t);if(null===o)return n;let i=`<img src="${t=o}" alt="${n}"`;return r&&(i+=` title="${r}"`),i+=">",i}text(t){return t}}class G0{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,r,n){return""+n}image(t,r,n){return""+n}br(){return""}}class gl{constructor(t){Jr(this,"options",void 0),Jr(this,"renderer",void 0),Jr(this,"textRenderer",void 0),this.options=t||Au,this.options.renderer=this.options.renderer||new ku,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new G0}static parse(t,r){return new gl(r).parse(t)}static parseInline(t,r){return new gl(r).parseInline(t)}parse(t,r=!0){let n="";for(let o=0;o<t.length;o++){const i=t[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const s=i,a=this.options.extensions.renderers[s.type].call({parser:this},s);if(!1!==a||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(s.type)){n+=a||"";continue}}switch(i.type){case"space":continue;case"hr":n+=this.renderer.hr();continue;case"heading":{const s=i;n+=this.renderer.heading(this.parseInline(s.tokens),s.depth,this.parseInline(s.tokens,this.textRenderer).replace(k9,(t,r)=>"colon"===(r=r.toLowerCase())?":":"#"===r.charAt(0)?"x"===r.charAt(1)?String.fromCharCode(parseInt(r.substring(2),16)):String.fromCharCode(+r.substring(1)):""));continue}case"code":n+=this.renderer.code(i.text,i.lang,!!i.escaped);continue;case"table":{const s=i;let a="",l="";for(let f=0;f<s.header.length;f++)l+=this.renderer.tablecell(this.parseInline(s.header[f].tokens),{header:!0,align:s.align[f]});a+=this.renderer.tablerow(l);let c="";for(let f=0;f<s.rows.length;f++){const p=s.rows[f];l="";for(let m=0;m<p.length;m++)l+=this.renderer.tablecell(this.parseInline(p[m].tokens),{header:!1,align:s.align[m]});c+=this.renderer.tablerow(l)}n+=this.renderer.table(a,c);continue}case"blockquote":{const a=this.parse(i.tokens);n+=this.renderer.blockquote(a);continue}case"list":{const s=i,a=s.ordered,l=s.start,c=s.loose;let f="";for(let p=0;p<s.items.length;p++){const m=s.items[p],C=m.checked,U=m.task;let J="";if(m.task){const _e=this.renderer.checkbox(!!C);c?m.tokens.length>0&&"paragraph"===m.tokens[0].type?(m.tokens[0].text=_e+" "+m.tokens[0].text,m.tokens[0].tokens&&m.tokens[0].tokens.length>0&&"text"===m.tokens[0].tokens[0].type&&(m.tokens[0].tokens[0].text=_e+" "+m.tokens[0].tokens[0].text)):m.tokens.unshift({type:"text",text:_e+" "}):J+=_e+" "}J+=this.parse(m.tokens,c),f+=this.renderer.listitem(J,U,!!C)}n+=this.renderer.list(f,a,l);continue}case"html":n+=this.renderer.html(i.text,i.block);continue;case"paragraph":n+=this.renderer.paragraph(this.parseInline(i.tokens));continue;case"text":{let s=i,a=s.tokens?this.parseInline(s.tokens):s.text;for(;o+1<t.length&&"text"===t[o+1].type;)s=t[++o],a+="\n"+(s.tokens?this.parseInline(s.tokens):s.text);n+=r?this.renderer.paragraph(a):a;continue}default:{const s='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return n}parseInline(t,r){r=r||this.renderer;let n="";for(let o=0;o<t.length;o++){const i=t[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const s=this.options.extensions.renderers[i.type].call({parser:this},i);if(!1!==s||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){n+=s||"";continue}}switch(i.type){case"escape":case"text":n+=r.text(i.text);break;case"html":n+=r.html(i.text);break;case"link":n+=r.link(i.href,i.title,this.parseInline(i.tokens,r));break;case"image":n+=r.image(i.href,i.title,i.text);break;case"strong":n+=r.strong(this.parseInline(i.tokens,r));break;case"em":n+=r.em(this.parseInline(i.tokens,r));break;case"codespan":n+=r.codespan(i.text);break;case"br":n+=r.br();break;case"del":n+=r.del(this.parseInline(i.tokens,r));break;default:{const s='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return n}}class Ch{constructor(t){Jr(this,"options",void 0),this.options=t||Au}preprocess(t){return t}postprocess(t){return t}}Jr(Ch,"passThroughHooks",new Set(["preprocess","postprocess"]));var U0=new WeakSet,AR=new WeakSet;function kR(e,t){return(r,n)=>{const o={...n},i={...this.defaults,...o};!0===this.defaults.async&&!1===o.async&&(i.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),i.async=!0);const s=V0(this,AR,L9).call(this,!!i.silent,!!i.async);if(typeof r>"u"||null===r)return s(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof r)return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(i.hooks&&(i.hooks.options=i),i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(r):r).then(a=>e(a,i)).then(a=>i.walkTokens?Promise.all(this.walkTokens(a,i.walkTokens)).then(()=>a):a).then(a=>t(a,i)).then(a=>i.hooks?i.hooks.postprocess(a):a).catch(s);try{i.hooks&&(r=i.hooks.preprocess(r));const a=e(r,i);i.walkTokens&&this.walkTokens(a,i.walkTokens);let l=t(a,i);return i.hooks&&(l=i.hooks.postprocess(l)),l}catch(a){return s(a)}}}function L9(e,t){return r=>{if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const n="<p>An error occurred:</p><pre>"+$s(r.message+"",!0)+"</pre>";return t?Promise.resolve(n):n}if(t)return Promise.reject(r);throw r}}const Ru=new class F9{constructor(...t){SR(this,AR),SR(this,U0),Jr(this,"defaults",{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}),Jr(this,"options",this.setOptions),Jr(this,"parse",V0(this,U0,kR).call(this,ml.lex,gl.parse)),Jr(this,"parseInline",V0(this,U0,kR).call(this,ml.lexInline,gl.parseInline)),Jr(this,"Parser",gl),Jr(this,"Renderer",ku),Jr(this,"TextRenderer",G0),Jr(this,"Lexer",ml),Jr(this,"Tokenizer",H_),Jr(this,"Hooks",Ch),this.use(...t)}walkTokens(t,r){let n=[];for(const o of t)switch(n=n.concat(r.call(this,o)),o.type){case"table":{const i=o;for(const s of i.header)n=n.concat(this.walkTokens(s.tokens,r));for(const s of i.rows)for(const a of s)n=n.concat(this.walkTokens(a.tokens,r));break}case"list":n=n.concat(this.walkTokens(o.items,r));break;default:{const i=o;this.defaults.extensions?.childTokens?.[i.type]?this.defaults.extensions.childTokens[i.type].forEach(s=>{n=n.concat(this.walkTokens(i[s],r))}):i.tokens&&(n=n.concat(this.walkTokens(i.tokens,r)))}}return n}use(...t){const r=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{const o={...n};if(o.async=this.defaults.async||o.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){const s=r.renderers[i.name];r.renderers[i.name]=s?function(...a){let l=i.renderer.apply(this,a);return!1===l&&(l=s.apply(this,a)),l}:i.renderer}if("tokenizer"in i){if(!i.level||"block"!==i.level&&"inline"!==i.level)throw new Error("extension level must be 'block' or 'inline'");const s=r[i.level];s?s.unshift(i.tokenizer):r[i.level]=[i.tokenizer],i.start&&("block"===i.level?r.startBlock?r.startBlock.push(i.start):r.startBlock=[i.start]:"inline"===i.level&&(r.startInline?r.startInline.push(i.start):r.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(r.childTokens[i.name]=i.childTokens)}),o.extensions=r),n.renderer){const i=this.defaults.renderer||new ku(this.defaults);for(const s in n.renderer){const a=n.renderer[s],c=i[s];i[s]=(...f)=>{let p=a.apply(i,f);return!1===p&&(p=c.apply(i,f)),p||""}}o.renderer=i}if(n.tokenizer){const i=this.defaults.tokenizer||new H_(this.defaults);for(const s in n.tokenizer){const a=n.tokenizer[s],c=i[s];i[s]=(...f)=>{let p=a.apply(i,f);return!1===p&&(p=c.apply(i,f)),p}}o.tokenizer=i}if(n.hooks){const i=this.defaults.hooks||new Ch;for(const s in n.hooks){const a=n.hooks[s],c=i[s];i[s]=Ch.passThroughHooks.has(s)?f=>{if(this.defaults.async)return Promise.resolve(a.call(i,f)).then(m=>c.call(i,m));const p=a.call(i,f);return c.call(i,p)}:(...f)=>{let p=a.apply(i,f);return!1===p&&(p=c.apply(i,f)),p}}o.hooks=i}if(n.walkTokens){const i=this.defaults.walkTokens,s=n.walkTokens;o.walkTokens=function(a){let l=[];return l.push(s.call(this,a)),i&&(l=l.concat(i.call(this,a))),l}}this.defaults={...this.defaults,...o}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,r){return ml.lex(t,r??this.defaults)}parser(t,r){return gl.parse(t,r??this.defaults)}};function er(e,t){return Ru.parse(e,t)}er.options=er.setOptions=function(e){return Ru.setOptions(e),wR(er.defaults=Ru.defaults),er},er.getDefaults=function j0(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},er.defaults=Au,er.use=function(...e){return Ru.use(...e),wR(er.defaults=Ru.defaults),er},er.walkTokens=function(e,t){return Ru.walkTokens(e,t)},er.parseInline=Ru.parseInline,er.Parser=gl,er.parser=gl.parse,er.Renderer=ku,er.TextRenderer=G0,er.Lexer=ml,er.lexer=ml.lex,er.Tokenizer=H_,er.Hooks=Ch,er.parse=er;class $9 extends at{constructor(t,r){super()}schedule(t,r=0){return this}}const z_={setInterval(e,t,...r){const{delegate:n}=z_;return n?.setInterval?n.setInterval(e,t,...r):setInterval(e,t,...r)},clearInterval(e){const{delegate:t}=z_;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},H0={now:()=>(H0.delegate||Date).now(),delegate:void 0};class Sh{constructor(t,r=Sh.now){this.schedulerActionCtor=t,this.now=r}schedule(t,r=0,n){return new this.schedulerActionCtor(this,t).schedule(n,r)}}Sh.now=H0.now;const j9=new class V9 extends Sh{constructor(t,r=Sh.now){super(t,r),this.actions=[],this._active=!1}flush(t){const{actions:r}=this;if(this._active)return void r.push(t);let n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=r.shift());if(this._active=!1,n){for(;t=r.shift();)t.unsubscribe();throw n}}}(class B9 extends $9{constructor(t,r){super(t,r),this.scheduler=t,this.work=r,this.pending=!1}schedule(t,r=0){var n;if(this.closed)return this;this.state=t;const o=this.id,i=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(i,o,r)),this.pending=!0,this.delay=r,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(i,this.id,r),this}requestAsyncId(t,r,n=0){return z_.setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,r,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return r;null!=r&&z_.clearInterval(r)}execute(t,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,r);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,r){let o,n=!1;try{this.work(t)}catch(i){n=!0,o=i||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:t,scheduler:r}=this,{actions:n}=r;this.work=this.state=this.scheduler=null,this.pending=!1,ze(n,this),null!=t&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null,super.unsubscribe()}}});class H9 extends En{constructor(t=1/0,r=1/0,n=H0){super(),this._bufferSize=t,this._windowTime=r,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,r)}next(t){const{isStopped:r,_buffer:n,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;r||(n.push(t),!o&&n.push(i.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const r=this._innerSubscribe(t),{_infiniteTimeWindow:n,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!t.closed;s+=n?1:2)t.next(i[s]);return this._checkFinalizedStatuses(t),r}_trimBuffer(){const{_bufferSize:t,_timestampProvider:r,_buffer:n,_infiniteTimeWindow:o}=this,i=(o?1:2)*t;if(t<1/0&&i<n.length&&n.splice(0,n.length-i),!o){const s=r.now();let a=0;for(let l=1;l<n.length&&n[l]<=s;l+=2)a=l;a&&n.splice(0,a+1)}}}const W9=["*"];let RR=(()=>{var e;class t{constructor(){this._buttonClick$=new En,this.copied$=this._buttonClick$.pipe(zr(()=>fa(Lt(!0),function U9(e=0,t,r=j9){let n=-1;return null!=t&&(aa(t)?r=t:n=t),new on(o=>{let i=function G9(e){return e instanceof Date&&!isNaN(e)}(e)?+e-r.now():e;i<0&&(i=0);let s=0;return r.schedule(function(){o.closed||(o.next(s++),0<=n?this.schedule(void 0,n):o.complete())},i)})}(3e3).pipe(UM(!1)))),Hs(),function z9(e,t,r){let n,o=!1;return e&&"object"==typeof e?({bufferSize:n=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:r}=e):n=e??1/0,pa({connector:()=>new H9(n,t,r),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(1)),this.copiedText$=this.copied$.pipe(jM(!1),Jt(n=>n?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ye({type:e,selectors:[["markdown-clipboard"]],standalone:!0,features:[Eg],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(n,o){1&n&&(j(0,"button",0),Ve("click",function(){return o.onCopyToClipboardClick()}),il(1,"async"),Ee(2),il(3,"async"),L()),2&n&&(ea("copied",sl(1,3,o.copied$)),me(2),Ni(sl(3,5,o.copiedText$)))},dependencies:[VT],encapsulation:2,changeDetection:0}),t})();const K9=new Be("CLIPBOARD_OPTIONS");var z0=function(e){return e.CommandLine="command-line",e.LineHighlight="line-highlight",e.LineNumbers="line-numbers",e}(z0||{});const PR=new Be("MARKED_EXTENSIONS"),OR=new Be("MARKED_OPTIONS"),NR=new Be("SECURITY_CONTEXT");let W0=(()=>{var e;class t{get options(){return this._options}set options(n){this._options={...this.DEFAULT_MARKED_OPTIONS,...n}}get renderer(){return this.options.renderer}set renderer(n){this.options.renderer=n}constructor(n,o,i,s,a,l,c){this.clipboardOptions=n,this.extensions=o,this.platform=s,this.securityContext=a,this.http=l,this.sanitizer=c,this.DEFAULT_MARKED_OPTIONS={renderer:new ku},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new En,this.reload$=this._reload$.asObservable(),this.options=i}parse(n,o=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:i,inline:s,emoji:a,mermaid:l,disableSanitizer:c}=o,f={...this.options,...o.markedOptions},p=f.renderer||this.renderer||new ku;this.extensions&&(this.renderer=this.extendsRendererForExtensions(p)),l&&(this.renderer=this.extendsRendererForMermaid(p));const m=this.trimIndentation(n),C=i?this.decodeHtml(m):m,U=a?this.parseEmoji(C):C,J=this.parseMarked(U,f,s);return(c?J:this.sanitizer.sanitize(this.securityContext,J))||""}render(n,o=this.DEFAULT_RENDER_OPTIONS,i){const{clipboard:s,clipboardOptions:a,katex:l,katexOptions:c,mermaid:f,mermaidOptions:p}=o;s&&this.renderClipboard(n,i,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...a}),l&&this.renderKatex(n,{...this.DEFAULT_KATEX_OPTIONS,...c}),f&&this.renderMermaid(n,{...this.DEFAULT_MERMAID_OPTIONS,...p}),this.highlight(n)}reload(){this._reload$.next()}getSource(n){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(n,{responseType:"text"}).pipe(Jt(o=>this.handleExtension(n,o)))}highlight(n){if(!Vd(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;n||(n=document);const o=n.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(o,i=>i.classList.add("language-none")),Prism.highlightAllUnder(n)}decodeHtml(n){if(!Vd(this.platform))return n;const o=document.createElement("textarea");return o.innerHTML=n,o.value}extendsRendererForExtensions(n){const o=n;return!0===o.\u0275NgxMarkdownRendererExtendedForExtensions||(this.extensions?.length>0&&er.use(...this.extensions),o.\u0275NgxMarkdownRendererExtendedForExtensions=!0),n}extendsRendererForMermaid(n){const o=n;if(!0===o.\u0275NgxMarkdownRendererExtendedForMermaid)return n;const i=n.code;return n.code=function(s,a,l){return"mermaid"===a?`<div class="mermaid">${s}</div>`:i.call(this,s,a,l)},o.\u0275NgxMarkdownRendererExtendedForMermaid=!0,n}handleExtension(n,o){const i=n.lastIndexOf("://"),s=i>-1?n.substring(i+4):n,a=s.lastIndexOf("/"),l=a>-1?s.substring(a+1).split("?")[0]:"",c=l.lastIndexOf("."),f=c>-1?l.substring(c+1):"";return f&&"md"!==f?"```"+f+"\n"+o+"\n```":o}parseMarked(n,o,i=!1){return o.renderer&&(er.use({renderer:o.renderer}),delete o.renderer),i?er.parseInline(n,o):er.parse(n,o)}parseEmoji(n){if(!Vd(this.platform))return n;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(n)}renderKatex(n,o){if(Vd(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(n,o)}}renderClipboard(n,o,i){if(!Vd(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!o)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:s,buttonTemplate:a}=i,l=n.querySelectorAll("pre");for(let c=0;c<l.length;c++){const f=l.item(c),p=document.createElement("div");p.style.position="relative",f.parentNode.insertBefore(p,f),p.appendChild(f);const m=document.createElement("div");let C,U;m.style.position="absolute",m.style.top=".5em",m.style.right=".5em",m.style.opacity="0",m.style.transition="opacity 250ms ease-out",p.insertAdjacentElement("beforeend",m),f.onmouseover=()=>m.style.opacity="1",f.onmouseout=()=>m.style.opacity="0",C=s?o.createComponent(s).hostView:a?o.createEmbeddedView(a):o.createComponent(RR).hostView,C.rootNodes.forEach(J=>{J.onmouseover=()=>m.style.opacity="1",m.appendChild(J),U=new ClipboardJS(J,{text:()=>f.innerText})}),C.onDestroy(()=>U.destroy())}}renderMermaid(n,o=this.DEFAULT_MERMAID_OPTIONS){if(!Vd(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.initialize>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const i=n.querySelectorAll(".mermaid");0!==i.length&&(mermaid.initialize(o),mermaid.run({nodes:i}))}trimIndentation(n){if(!n)return"";let o;return n.split("\n").map(i=>{let s=o;return i.length>0&&(s=isNaN(s)?i.search(/\S|$/):Math.min(i.search(/\S|$/),s)),isNaN(o)&&(o=s),s?i.substring(s):i}).join("\n")}}return(e=t).\u0275fac=function(n){return new(n||e)(le(K9,8),le(PR,8),le(OR,8),le(Ec),le(NR),le(xC,8),le(wC))},e.\u0275prov=E({token:e,factory:e.\u0275fac}),t})(),Z0=(()=>{var e;class t{get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(n){this._disableSanitizer=this.coerceBooleanProperty(n)}get inline(){return this._inline}set inline(n){this._inline=this.coerceBooleanProperty(n)}get clipboard(){return this._clipboard}set clipboard(n){this._clipboard=this.coerceBooleanProperty(n)}get emoji(){return this._emoji}set emoji(n){this._emoji=this.coerceBooleanProperty(n)}get katex(){return this._katex}set katex(n){this._katex=this.coerceBooleanProperty(n)}get mermaid(){return this._mermaid}set mermaid(n){this._mermaid=this.coerceBooleanProperty(n)}get lineHighlight(){return this._lineHighlight}set lineHighlight(n){this._lineHighlight=this.coerceBooleanProperty(n)}get lineNumbers(){return this._lineNumbers}set lineNumbers(n){this._lineNumbers=this.coerceBooleanProperty(n)}get commandLine(){return this._commandLine}set commandLine(n){this._commandLine=this.coerceBooleanProperty(n)}constructor(n,o,i){this.element=n,this.markdownService=o,this.viewContainerRef=i,this.error=new qt,this.load=new qt,this.ready=new qt,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new En}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(HM(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(n,o=!1){var i=this;return(0,F.Z)(function*(){const s={decodeHtml:o,inline:i.inline,emoji:i.emoji,mermaid:i.mermaid,disableSanitizer:i.disableSanitizer},a={clipboard:i.clipboard,clipboardOptions:{buttonComponent:i.clipboardButtonComponent,buttonTemplate:i.clipboardButtonTemplate},katex:i.katex,katexOptions:i.katexOptions,mermaid:i.mermaid,mermaidOptions:i.mermaidOptions},l=yield i.markdownService.parse(n,s);i.element.nativeElement.innerHTML=l,i.handlePlugins(),i.markdownService.render(i.element.nativeElement,a,i.viewContainerRef),i.ready.emit()})()}coerceBooleanProperty(n){return null!=n&&"false"!=`${String(n)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:n=>{this.render(n).then(()=>{this.load.emit(n)})},error:n=>this.error.emit(n)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,z0.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,z0.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(n,o){const i=n.querySelectorAll("pre");for(let s=0;s<i.length;s++){const a=o instanceof Array?o:[o];i.item(s).classList.add(...a)}}setPluginOptions(n,o){const i=n.querySelectorAll("pre");for(let s=0;s<i.length;s++)Object.keys(o).forEach(a=>{const l=o[a];if(l){const c=this.toLispCase(a);i.item(s).setAttribute(c,l.toString())}})}toLispCase(n){const o=n.match(/([A-Z])/g);if(!o)return n;let i=n.toString();for(let s=0,a=o.length;s<a;s++)i=i.replace(new RegExp(o[s]),"-"+o[s].toLowerCase());return"-"===i.slice(0,1)&&(i=i.slice(1)),i}}return(e=t).\u0275fac=function(n){return new(n||e)(v(nt),v(W0),v(cs))},e.\u0275cmp=Ye({type:e,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},standalone:!0,features:[Yo,Eg],ngContentSelectors:W9,decls:1,vars:0,template:function(n,o){1&n&&(ft(),dt(0))},encapsulation:2}),t})();function o7(e){return[W0,e?.loader??[],e?.clipboardOptions??[],e?.markedOptions??[],{provide:PR,useValue:e?.markedExtensions??[]},{provide:NR,useValue:e?.sanitize??Ms.HTML}]}let q0=(()=>{var e;class t{static forRoot(n){return{ngModule:t,providers:[o7(n)]}}static forChild(){return{ngModule:t}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Wr({type:e}),e.\u0275inj=We({imports:[ll]}),t})();var FR;!function(e){let t;var o;let r,n;(o=t=e.SecurityLevel||(e.SecurityLevel={})).Strict="strict",o.Loose="loose",o.Antiscript="antiscript",o.Sandbox="sandbox",function(o){o.Base="base",o.Forest="forest",o.Dark="dark",o.Default="default",o.Neutral="neutral"}(r=e.Theme||(e.Theme={})),function(o){o[o.Debug=1]="Debug",o[o.Info=2]="Info",o[o.Warn=3]="Warn",o[o.Error=4]="Error",o[o.Fatal=5]="Fatal"}(n=e.LogLevel||(e.LogLevel={}))}(FR||(FR={}));const wh="safari"in window,go=!!navigator.platform.match(/iPhone|iPad|iPod/)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,LR=go&&!navigator.userAgent.match(/(crios)|(fxios)/i),_l=!!navigator.userAgent.match(/pwashell/i),K0=!!navigator.userAgent.match(/android/i),i7=navigator.userAgent.toLowerCase().indexOf("firefox")>=0;var Jl=function(e){return e.web="web",e.pwa="pwa",e.twa="twa",e}(Jl||{});new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked");const l7=new Error("request for lock canceled");class u7{constructor(t,r=l7){this._value=t,this._cancelError=r,this._weightedQueues=[],this._weightedWaiters=[]}acquire(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise((r,n)=>{this._weightedQueues[t-1]||(this._weightedQueues[t-1]=[]),this._weightedQueues[t-1].push({resolve:r,reject:n}),this._dispatch()})}runExclusive(t,r=1){return function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(f){try{c(n.next(f))}catch(p){s(p)}}function l(f){try{c(n.throw(f))}catch(p){s(p)}}function c(f){f.done?i(f.value):function o(i){return i instanceof r?i:new r(function(s){s(i)})}(f.value).then(a,l)}c((n=n.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){const[n,o]=yield this.acquire(r);try{return yield t(n)}finally{o()}})}waitForUnlock(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise(r=>{this._weightedWaiters[t-1]||(this._weightedWaiters[t-1]=[]),this._weightedWaiters[t-1].push(r),this._dispatch()})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(t){this._value=t,this._dispatch()}release(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);this._value+=t,this._dispatch()}cancel(){this._weightedQueues.forEach(t=>t.forEach(r=>r.reject(this._cancelError))),this._weightedQueues=[]}_dispatch(){var t;for(let r=this._value;r>0;r--){const n=null===(t=this._weightedQueues[r-1])||void 0===t?void 0:t.shift();if(!n)continue;const o=this._value,i=r;this._value-=r,r=this._value+1,n.resolve([o,this._newReleaser(i)])}this._drainUnlockWaiters()}_newReleaser(t){let r=!1;return()=>{r||(r=!0,this.release(t))}}_drainUnlockWaiters(){for(let t=this._value;t>0;t--)this._weightedWaiters[t-1]&&(this._weightedWaiters[t-1].forEach(r=>r()),this._weightedWaiters[t-1]=[])}}class Aa{constructor(t){this._semaphore=new u7(1,t)}acquire(){return e=this,t=void 0,n=function*(){const[,t]=yield this._semaphore.acquire();return t},new((r=void 0)||(r=Promise))(function(i,s){function a(f){try{c(n.next(f))}catch(p){s(p)}}function l(f){try{c(n.throw(f))}catch(p){s(p)}}function c(f){f.done?i(f.value):function o(i){return i instanceof r?i:new r(function(s){s(i)})}(f.value).then(a,l)}c((n=n.apply(e,t||[])).next())});var e,t,r,n}runExclusive(t){return this._semaphore.runExclusive(()=>t())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const Y0=function h7(){if(!_l)return 0;const e=navigator.userAgent.match(/cpe-native-api-(\d+)/);if(!e)return 0;const t=parseInt(e[1],10);return isNaN(t)?0:t}(),X0=new sr.j;Y0>0&&(window.__cpeCallFromNative=e=>X0.dispatch(e));let ka=(()=>{var e;class t{constructor(){this.netRpcResult=new sr.j,this.onNativeMessage=n=>{"netRpcResult"===n.type?this.netRpcResult.dispatch({sessionId:n.sessionId,rpcData:new Uint8Array(n.rpcData)}):console.error("unhandled native message",n)},X0.addHandler(this.onNativeMessage)}ngOnDestroy(){X0.removeHandler(this.onNativeMessage)}netOpenSession(){return this.assertNativeNetworkIntegrationSupported(),window.webkit.messageHandlers.nativeCall.postMessage({type:"netOpenSession"})}netCloseSession(n){return this.assertNativeNetworkIntegrationSupported(),window.webkit.messageHandlers.nativeCall.postMessage({type:"netCloseSession",sessionId:n})}netDispatchRpc(n,o){return this.assertNativeNetworkIntegrationSupported(),window.webkit.messageHandlers.nativeCall.postMessage({type:"netDispatchRpc",sessionId:n,rpcData:Array.from(o)}).then(i=>!!i)}clipboardRead(){return this.assertNativeClipboardSupported(),window.webkit.messageHandlers.nativeCall.postMessage({type:"clipboardRead"})}clipboardWrite(n){return this.assertNativeClipboardSupported(),window.webkit.messageHandlers.nativeCall.postMessage({type:"clipboardWrite",data:n})}isResumeFromBackground(){return void 0!==window.__cpeLastResume&&Date.now()-window.__cpeLastResume<=3e3}assertNativeNetworkIntegrationSupported(){if(!t.supportsNativeNetworkIntegration())throw new Error("native network integration not supported")}assertNativeClipboardSupported(){if(!t.supportsNativeClipboard())throw new Error("native clipboard is not supported")}static supportsNativeNetworkIntegration(){return _l&&Y0>0}static supportsNativeClipboard(){return _l&&Y0>1}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const ia={production:!0,dbName:"cloudpilot-preview",releaseExtra:"preview",localStorageSuffix:"preview",debug:!0};function W_(e){return e+(ia.localStorageSuffix?`-${ia.localStorageSuffix}`:"")}function BR(e){return localStorage.getItem(W_(e))}function VR(e){return localStorage.getItem(W_(e))??localStorage.getItem(e)}function Q0(e,t){localStorage.setItem(W_(e),t)}const Z_="cloudpilot-session";function jR(){!function m7(e){localStorage.removeItem(W_(e))}(Z_)}function Tn(){return(e,t,r)=>{const n=r.value;let o=!1;return r.value=(0,F.Z)(function*(...i){if(!o){o=!0;try{return yield n.apply(this,i)}finally{o=!1}}}),r}}let ec=(()=>{var e;class t{constructor(){}getCurrentSession(){return this.currentSession}setCurrentSession(n){this.currentSession=n}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var cf;class GR{constructor(t){this.markup=t}}class Fr{constructor(t,r){this.alertController=t,this.emulationState=r,this.emergencySaveEvent=new sr.j,this.sanitizeDiv=document.createElement("div")}verbatim(t){return new GR(t)}errorMessage(t,r="Close"){var n=this;return(0,F.Z)(function*(){const o=yield n.alertController.create({header:"Error",backdropDismiss:!1,message:n.sanitizeMessage(t),buttons:[{text:r,role:"cancel"}],cssClass:"alert-error"});yield o.present(),yield o.onDidDismiss()})()}message(t,r,n={},o="Close"){var i=this;return(0,F.Z)(function*(){const s=yield i.alertController.create({header:t,message:i.sanitizeMessage(r),backdropDismiss:!1,buttons:[{text:o,role:"cancel"},...Object.keys(n).map(a=>({text:a,handler:()=>{n[a](),s.dismiss()}}))],cssClass:"alert-message"});yield s.present(),yield s.onDidDismiss()})()}messageWithChoice(t,r,n,o,i={},s="Close"){var a=this;return(0,F.Z)(function*(){const l=yield a.alertController.create({header:t,message:a.sanitizeMessage(r),backdropDismiss:!1,buttons:[{text:s,role:"cancel"},...Object.keys(i).map(c=>({text:c,handler:()=>{i[c](),l.dismiss()}}))],inputs:[{type:"checkbox",label:n,checked:!1,handler:c=>o=!0===c.checked,cssClass:"alert-checkbox"}],cssClass:"alert-checkbox-no-border alert-message"});return yield l.present(),yield l.onDidDismiss(),o})()}updateAvailable(t){var r=this;return(0,F.Z)(function*(){const n=yield r.alertController.create({header:"Update available",message:'An update is ready for installation. Select "install" to install it and restart the app now.',backdropDismiss:!1,buttons:[{text:"Install",handler:t},{text:"Close",role:"cancel"}]});yield n.present(),yield n.onDidDismiss()})()}fatalError(t,r=!0){var n=this;return(0,F.Z)(function*(){const o=!!n.emulationState.getCurrentSession(),i=yield n.alertController.create({header:"Error",message:n.sanitizeMessage(`\n                ${t}\n                <br/><br/>\n                Please close or reload this window.\n                ${o&&r?" You may save an image of your current session before reloading.":""}\n            `),backdropDismiss:!1,buttons:[...o&&r?[{text:"Save image",handler:()=>(n.emergencySaveEvent.dispatch(),!1)}]:[],{text:"Reload",handler:()=>window.location.reload()}],cssClass:"alert-error"});yield i.present(),yield i.onDidDismiss()})()}errorInNativeCode(t){var r=this;return(0,F.Z)(function*(){const n=yield r.alertController.create({header:"Error",message:r.sanitizeMessage(`\n                You encountered a bug in CloudpilotEmu:\n                <br/><br/>\n                ${t}.\n                <br/><br/>\n                Please close or reload this window.\n            `),backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()}]});yield n.present(),yield n.onDidDismiss()})()}snapshotTimeout(){var t=this;return(0,F.Z)(function*(){yield t.message("Timeout while saving state","Your browser's IndexedDB is either slow to respond or has crashed. You can either retry or reload CloudpilotEmu.",{Reload:()=>window.location.reload()},"Retry")})()}proxyVersionMismatchError(){return this.errorMessage("\n            Server version does not match CloudpilotEmu. Please make sure that you are using the latest\n            versions of CloudpilotEmu and of the server.\n        ")}cardHasNoValidFileSystem(){return this.message("No filesystem","This card does not contain a valid filesystem.",{},"Continue")}cardHasUncorrectableErrors(){return this.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors.",{},"Continue")}cardIsClean(){return this.message("Card clean","No filesystem errors were found.",{},"Continue")}sanitizeMessage(t){return new F0.I(t instanceof GR?t.markup:t.replace(/<br\s*\/?>/g,"<br/>").replace(/\n/gm," ").split("<br/>").map(r=>(this.sanitizeDiv.textContent=r,this.sanitizeDiv.innerHTML)).join("<br/>"))}}(cf=Fr).\u0275fac=function(t){return new(t||cf)(le(B0),le(ec))},cf.\u0275prov=E({token:cf,factory:cf.\u0275fac,providedIn:"root"}),re([Tn()],Fr.prototype,"updateAvailable",null),re([Tn()],Fr.prototype,"fatalError",null),re([Tn()],Fr.prototype,"errorInNativeCode",null),re([Tn()],Fr.prototype,"snapshotTimeout",null);let Pu=(()=>{var e;class t{constructor(n,o,i){this.alertService=n,this.nativeAppService=o,this.ngZone=i,this.fatalPageLockLost=()=>this.fatalWithMessage("CloudpilotEmu was opened in another tab or window.",!1),this.fatalIDBDead=()=>{this.nativeAppService.isResumeFromBackground()?window.location.reload():this.fatalWithMessage("IndexedDB access failed. This is most likely a browser bug.",!1)},this.fatalVersionMismatch=()=>this.fatalWithMessage("\n        Database was written by a newer version of CloudpilotEmu. Please wait for a few seconds before reloading\n        while the latest version downloads in the background.\n    ",!1),this.fatalBug=s=>this.fatalWithMessage(`You encountered a bug in CloudpilotEmu:<br/><br/>${s}.`),this.fatalInNativeCode=s=>this.fatalWithMessage(s.message,!0,!1),this.fatalWithMessage=(s,a=!0,l=!0)=>this.ngZone.run(()=>{this.fatalErrorTriggered||(this.fatalErrorTriggered=!0,a&&jR(),this.fatalErrorEvent.dispatch(),this.alertService.fatalError(s,l))}),this.fatalErrorEvent=new sr.j,this.fatalErrorTriggered=!1}hasFatalError(){return this.fatalErrorTriggered}}return(e=t).\u0275fac=function(n){return new(n||e)(le(Fr),le(ka),le(Ze))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var br=function(e){return e.cloudpilot="cloudpilot",e.fstools="fstools",e.vfs="vfs",e.none="none",e}(br||{});let Eh=(()=>{var e;class t{constructor(n){this.errorService=n,this.ownershipMmap=new Map}getOwner(n){return this.ownershipMmap.get(n)??br.none}claim(n,o){this.assertOwnership(n,br.none),this.ownershipMmap.set(n,o)}release(n,o){this.assertOwnership(n,o),this.ownershipMmap.delete(n)}assertOwnership(n,o){if(this.getOwner(n)===o)return;const i=o===br.none?`Card alread claimed for ${this.getOwner(n)}.`:`Expected card ownership to be ${o}, but is ${this.getOwner(n)}.`;throw this.errorService.fatalBug(i),new Error(i)}transferOwnership(n,o,i){this.assertOwnership(n,o),this.ownershipMmap.set(n,i)}}return(e=t).\u0275fac=function(n){return new(n||e)(le(Pu))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const zc="session",uf="rom",Wc="memory",tc="state",q_="kvs",Zc="memory-meta",vl="storage",Bs="storage-card",Dh="lock";class Ou extends Error{constructor(t){super(t)}}function zn(e){return new Promise((t,r)=>{!function b7(e){return!!e.abort}(e)?e.onsuccess=()=>t(e.result):e.oncomplete=()=>t(void 0),e.onerror=()=>r(new Ou(e.error?.message))})}function HR(e){let t=255&e[0];t|=t<<8,t|=t<<16;for(let r=0;r<256;r++)if(e[r]!==t)return e;return 255&e[0]}function C7(e){const t=e[0];for(let r=1;r<2048;r++)if(e[r]!==t)return e;return t}const K_="session",eS="memory",WR="storage-meta",ZR="storage-card";function tS(){return(tS=(0,F.Z)(function*(e,t){function r(i){switch(i){case"PalmIIIc":case"PalmM505":case"PalmM515":return 81920;case"PalmI710":case"PalmM130":return 262144;default:return 0}}if(!t)throw new Error("no version change transaction!");const o=t.objectStore(K_).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const l=a.value,c={...l,totalMemory:1024*l.ram*1024+r(l.device)};a.update(c),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function nS(){return(nS=(0,F.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");const r=t.objectStore("kvs"),n=yield new Promise((o,i)=>{const s=r.get("proxyCredentials");s.onsuccess=()=>o(s.result),s.onerror=()=>i(new Error(s.error?.message))});n&&(r.put(n,"credentials"),r.delete("proxyCredentials"))})).apply(this,arguments)}function rS(){return(rS=(0,F.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");const r=e.createObjectStore("memory-meta",{keyPath:"sessionId"});e.createObjectStore("storage"),e.createObjectStore(WR,{keyPath:"id",autoIncrement:!0});const o=t.objectStore(K_).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const l=a.value;void 0!==l.totalMemory&&(r.put({sessionId:l.id,totalSize:l.totalMemory}),delete l.totalMemory,a.update(l)),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function oS(){return(oS=(0,F.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");t.objectStore(WR).name=ZR})).apply(this,arguments)}function iS(){return(iS=(0,F.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");t.objectStore(ZR).createIndex("storageId","storageId")})).apply(this,arguments)}function sS(){return(sS=(0,F.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");e.createObjectStore("lock")})).apply(this,arguments)}const N7=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function qR(e){let t=-1;for(let r=0;r<e.length;r++)t=N7[255&(t^e[r])]^t>>>8;return~t}var F7=S(3219),L7=S.n(F7);const KR={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Y_;const $7=new Uint8Array(16);function B7(){if(!Y_&&(Y_=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Y_))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Y_($7)}const hi=[];for(let e=0;e<256;++e)hi.push((e+256).toString(16).slice(1));const XR=function V7(e,t,r){if(KR.randomUUID&&!t&&!e)return KR.randomUUID();const n=(e=e||{}).random||(e.rng||B7)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return function YR(e,t=0){return hi[e[t+0]]+hi[e[t+1]]+hi[e[t+2]]+hi[e[t+3]]+"-"+hi[e[t+4]]+hi[e[t+5]]+"-"+hi[e[t+6]]+hi[e[t+7]]+"-"+hi[e[t+8]]+hi[e[t+9]]+"-"+hi[e[t+10]]+hi[e[t+11]]+hi[e[t+12]]+hi[e[t+13]]+hi[e[t+14]]+hi[e[t+15]]}(n)};var df;const aS=new Error("page lock lost"),QR=new Error("version mismatch"),JR=XR();function _o(){return(e,t,r)=>{const n=r.value;return r.value=(0,F.Z)(function*(...o){const i=this.errorService;try{return yield n.apply(this,o)}catch(s){throw console.error(s),s instanceof Ou?i.fatalIDBDead():s===QR?i.fatalVersionMismatch():s===aS?i.fatalPageLockLost():s instanceof Error?i.fatalBug(s?.message):i.fatalBug("unknown reason"),s}}),r}}class qn{constructor(t,r,n){this.ngZone=t,this.errorService=r,this.storageCardContext=n,this.saveMemory=(o,i,s)=>this.ngZone.runOutsideAngular(()=>{const a=o.objectStore(Wc),l=o.objectStore(Zc),c=new Uint32Array(256),f=new Uint8Array(c.buffer);a.delete(IDBKeyRange.bound([i,0],[i+1,0],!1,!0)),l.put({sessionId:i,totalSize:s.length});const m=s.length>>>10;for(let C=0;C<m;C++){f.set(s.subarray(1024*C,1024*(C+1)));const U=HR(c);if("number"==typeof U)a.put(U,[i,C]);else{const J=new Uint32Array(256);J.set(U),a.put(J,[i,C])}}}),this.loadMemory=(o,i,s)=>this.ngZone.runOutsideAngular((0,F.Z)(function*(){const a=o.objectStore(Zc),l=yield zn(a.get(i));if(!l)return;const c=yield new Promise(function(){var f=(0,F.Z)(function*(p,m){const C=o.objectStore(Wc),U=new Uint32Array(l.totalSize>>>2),J=C.openCursor(IDBKeyRange.bound([i,0],[i+1,0],!1,!0));J.onsuccess=()=>{const _e=J.result;if(!_e)return p(new Uint8Array(U.buffer));const De=_e.value,[,Re]=_e.key;"number"==typeof De?U.subarray(256*Re,256*(Re+1)).fill(De|De<<8|De<<16|De<<24):U.subarray(256*Re,256*(Re+1)).set(1024===De.length?new Uint32Array(De.buffer):De),_e.continue()},J.onerror=()=>m(new Ou(J.error?.message))});return function(p,m){return f.apply(this,arguments)}}());if(void 0!==l.crc32&&s&&ia.debug&&l.crc32!==qR(c))throw new Error("snapshot CRC mismatch");return c})),this.sessionChangeEvent=new sr.j,this.storageCardChangeEvent=new sr.j,this.sessionUpdateMutex=new Aa,this.db=this.requestPersistentStorage().then(()=>t.runOutsideAngular(()=>this.setupDb()))}getDb(){return this.db}addSession(t,r,n,o){var i=this;return(0,F.Z)(function*(){const s=L7()(r),a=yield i.newTransaction(zc,uf,tc,Wc,Zc),l=a.objectStore(zc),c=a.objectStore(uf);(yield zn(c.get(s)))||c.put(r,s);const{id:p,...m}=t,C=yield zn(l.add({...m,rom:s})),U=yield zn(l.get(C));return n&&i.saveMemory(a,U.id,n),o&&i.saveState(a,U.id,o),yield zn(a),U})()}getAllSessions(){var t=this;return(0,F.Z)(function*(){const[r]=yield t.prepareObjectStore(zc);return yield zn(r.getAll())})()}getSession(t){var r=this;return(0,F.Z)(function*(){const[n]=yield r.prepareObjectStore(zc);return yield zn(n.get(t))})()}deleteSession(t){var r=this;return(0,F.Z)(function*(){const n=yield r.newTransaction(zc,uf,tc,Wc,Zc),o=n.objectStore(zc),i=n.objectStore(uf);(t=yield zn(o.get(t.id)))&&(o.delete(t.id),0===(yield zn(o.index("rom").getAll(t.rom))).length&&i.delete(t.rom),r.deleteMemory(n,t.id),r.deleteState(n,t.id),yield zn(n),r.sessionChangeEvent.dispatch([t.id,void 0]))})()}updateSessionPartial(t,r){var n=this;return this.sessionUpdateMutex.runExclusive((0,F.Z)(function*(){const{id:o,rom:i,ram:s,device:a,...l}=r,[c,f]=yield n.prepareObjectStore(zc),p=yield zn(c.get(t));if(!p)throw new Error(`no session with id ${t}`);const m={...p,...l};c.put(m),yield zn(f),n.sessionChangeEvent.dispatch([p.id,m])}))}updateSession(t){var r=this;return this.sessionUpdateMutex.runExclusive((0,F.Z)(function*(){const[n,o]=yield r.prepareObjectStore(zc),i=yield zn(n.get(t.id));if(!i)throw new Error(`no session with id ${t.id}`);if(i.rom!==t.rom)throw new Error("attempt to change ROM reference");if(i.ram!==t.ram)throw new Error("attempt to change RAM size");if(i.device!==t.device)throw new Error("attempt to change device type");n.put(t),yield zn(o),r.sessionChangeEvent.dispatch([t.id,t])}))}loadSession(t,r){var n=this;return(0,F.Z)(function*(){const o=yield n.newTransaction(uf,tc,Wc,Zc),i=o.objectStore(uf);return[yield zn(i.get(t.rom)),yield n.loadMemory(o,t.id,r),yield n.loadState(o,t.id)]})()}deleteStateForSession(t){var r=this;return(0,F.Z)(function*(){const[n,o]=yield r.prepareObjectStore(tc);n.delete(t.id),yield zn(o)})()}addEmptyStorageCard(t){var r=this;return(0,F.Z)(function*(){const[n]=yield r.prepareObjectStore(Bs),o=yield zn(n.add(t)),i=yield zn(n.get(o));return r.storageCardChangeEvent.dispatch(i.id),i})()}importStorageCard(t,r){var n=this;return(0,F.Z)(function*(){return n.ngZone.runOutsideAngular((0,F.Z)(function*(){const o=yield n.newTransaction(Bs,vl),i=o.objectStore(Bs),s=o.objectStore(vl),a=yield zn(i.add(t)),l=(t.size>>>13)+(r.length%8192==0?0:1),c=new Uint32Array(2048);for(let p=0;p<l;p++){const m=r.subarray(2048*p,2048*(p+1));p===l-1&&c.set(m);const C=C7(p===l-1?c:m);0!==C&&s.put("number"==typeof C?C:C?.slice(),[a,p])}const f=yield zn(i.get(a));return yield zn(o),n.storageCardChangeEvent.dispatch(f.id),f}))})()}getAllStorageCards(){var t=this;return(0,F.Z)(function*(){const[r]=yield t.prepareObjectStore(Bs);return zn(r.getAll())})()}getCard(t){var r=this;return(0,F.Z)(function*(){const[n]=yield r.prepareObjectStore(Bs);return zn(n.get(t))})()}updateStorageCardPartial(t,r){var n=this;return(0,F.Z)(function*(){const{storageId:o,size:i,id:s,...a}=r,[l,c]=yield n.prepareObjectStore(Bs),f=yield zn(l.get(t));if(!f)throw new Error(`no card with id ${t}`);const p={...f,...a};l.put(p),yield zn(c),n.storageCardChangeEvent.dispatch(t)})()}deleteStorageCard(t){var r=this;return(0,F.Z)(function*(){const n=yield r.newTransaction(Bs,vl);r.storageCardContext.assertOwnership(t,br.none);const o=n.objectStore(Bs),i=n.objectStore(vl);o.delete(t),i.delete(IDBKeyRange.bound([t,0],[t+1,0],!1,!0)),yield zn(n),r.storageCardChangeEvent.dispatch(t)})()}loadCardData(t,r,n){var o=this;return this.ngZone.runOutsideAngular((0,F.Z)(function*(){r.fill(0);const i=yield o.newTransaction(Bs,vl);o.storageCardContext.assertOwnership(t,n);const s=i.objectStore(vl);yield new Promise(function(){var a=(0,F.Z)(function*(l,c){const f=s.openCursor(IDBKeyRange.bound([t,0],[t+1,0],!1,!0));f.onsuccess=()=>{const p=f.result;if(!p)return l();let m=p.value;const[,C]=p.key;"number"==typeof m?r.subarray(2048*C,2048*(C+1)).fill(m):(2048*(C+1)>r.length&&(m=m.subarray(0,2048-2048*(C+1)+r.length)),r.subarray(2048*C,2048*(C+1)).set(m)),p.continue()},f.onerror=()=>c(new Ou(f.error?.message))});return function(l,c){return a.apply(this,arguments)}}())}))}updateCardData(t,r,n,o){var i=this;return this.ngZone.runOutsideAngular((0,F.Z)(function*(){const s=yield i.newTransaction(Bs,vl);i.storageCardContext.assertOwnership(t,o);const a=s.objectStore(Bs),l=s.objectStore(vl),c=yield zn(a.get(t));if(!c)throw new Error(`no card with ID ${t}`);if(r.length!==c.size>>>2)throw new Error("data size mismatch");const f=(c.size>>>13)+(c.size%8192>0?1:0);if((f>>>3)+(f%8>0?1:0)!==n.length)throw new Error("dirty pages size mismatch");let p=0;for(let m=0;m<n.length;m++)for(let C=1;C<256&&!(p>=f);C<<=1)n[m]&C&&l.put(r.subarray(2048*p,2048*(p+1)).slice(),[c.id,p]),p++;yield zn(s)}))}kvsGet(t){var r=this;return(0,F.Z)(function*(){const[n]=yield r.prepareObjectStore(q_);return zn(n.get(t))})()}kvsSet(t){var r=this;return(0,F.Z)(function*(){const[n,o]=yield r.prepareObjectStore(q_);for(const i of Object.keys(t))n.put(t[i],i);yield zn(o)})()}kvsLoad(){var t=this;return(0,F.Z)(function*(){const[r]=yield t.prepareObjectStore(q_);return new Promise((n,o)=>{const i={},s=r.openCursor();s.onsuccess=()=>{const a=s.result;if(!a)return n(i);i[a.key]=a.value,a.continue()},s.onerror=()=>o(new Ou(s.error?.message))})})()}kvsDelete(t){var r=this;return(0,F.Z)(function*(){const[n,o]=yield r.prepareObjectStore(q_);n.delete(t),yield zn(o)})()}acquireLock(t){var r=this;return(0,F.Z)(function*(){if(r.errorService.hasFatalError())throw new Error("fatal error detected --- refusing DB access");if((yield zn(t.objectStore(Dh).get(0)))!==JR)throw t.abort(),t.db.close(),aS})()}newTransaction(...t){var r=this;return(0,F.Z)(function*(){const n=(yield r.db).transaction([Dh,...t],"readwrite",{durability:"relaxed"});return yield r.acquireLock(n),n})()}prepareObjectStore(t){var r=this;return(0,F.Z)(function*(){const n=yield r.newTransaction(t);return[n.objectStore(t),n]})()}saveState(t,r,n){const o=t.objectStore(tc);n?o.put(n,r):o.delete(r)}deleteState(t,r){t.objectStore(tc).delete(r)}loadState(t,r){return zn(t.objectStore(tc).get(r))}deleteMemory(t,r){const n=t.objectStore(Wc),o=t.objectStore(Zc);n.delete(IDBKeyRange.bound([r,0],[r+1,0],!1,!0)),o.delete(r)}initializeLock(t){return(0,F.Z)(function*(){const r=t.transaction(Dh,"readwrite");yield zn(r.objectStore(Dh).put(JR,0))})()}setupDb(){var t=this;return(0,F.Z)(function*(){const r=setTimeout(()=>go&&window.location.reload(),500);try{if(indexedDB.databases){const o=(yield indexedDB.databases()).find(i=>i.name===ia.dbName);if(clearTimeout(r),o&&void 0!==o.version&&o.version>9)throw QR}const n=yield new Promise((o,i)=>{const s=indexedDB.open(ia.dbName,9);s.onerror=()=>{i(new Ou("failed to open DB"))},s.onsuccess=()=>{o(s.result)},s.onblocked=()=>{i(new Ou("failed to open DB: required upgrade blocked by an open instance of CloudPilotEmu"))},s.onupgradeneeded=function(){var a=(0,F.Z)(function*(l){clearTimeout(r),l.oldVersion<1&&function x7(e){e.createObjectStore(K_,{keyPath:"id",autoIncrement:!0}).createIndex("rom","rom"),e.createObjectStore("state")}(s.result),l.oldVersion<2&&function T7(e,t){if(!t)throw new Error("no version change transaction!");e.objectStoreNames.contains("rom")&&e.deleteObjectStore("rom"),e.objectStoreNames.contains(eS)&&e.deleteObjectStore(eS),t.objectStore(K_).clear(),e.createObjectStore("rom"),e.createObjectStore(eS),e.createObjectStore("kvs")}(s.result,s.transaction),l.oldVersion<4&&(yield function M7(e,t){return tS.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<5&&(yield function A7(e,t){return nS.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<6&&(yield function k7(e,t){return rS.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<7&&(yield function R7(e,t){return oS.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<8&&(yield function P7(e,t){return iS.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<9&&(yield function O7(e,t){return sS.apply(this,arguments)}(s.result,s.transaction))});return function(l){return a.apply(this,arguments)}}()});return yield t.initializeLock(n),n}finally{clearTimeout(r)}})()}requestPersistentStorage(){return(0,F.Z)(function*(){(!navigator.storage?.persist||!navigator.storage?.persisted)&&console.log("storage manager not supported; unable to request persistent storage");try{(yield navigator.storage.persisted())||(yield navigator.storage.persist())?console.log("persistent storage enabled"):console.log("request for persistent storage denied by browser")}catch(t){console.warn(t),console.log("failed to request persistent storage")}})()}}(df=qn).\u0275fac=function(t){return new(t||df)(le(Ze),le(Pu),le(Eh))},df.\u0275prov=E({token:df,factory:df.\u0275fac,providedIn:"root"}),re([_o()],qn.prototype,"addSession",null),re([_o()],qn.prototype,"getAllSessions",null),re([_o()],qn.prototype,"getSession",null),re([_o()],qn.prototype,"deleteSession",null),re([_o()],qn.prototype,"updateSessionPartial",null),re([_o()],qn.prototype,"updateSession",null),re([_o()],qn.prototype,"loadSession",null),re([_o()],qn.prototype,"deleteStateForSession",null),re([_o()],qn.prototype,"addEmptyStorageCard",null),re([_o()],qn.prototype,"importStorageCard",null),re([_o()],qn.prototype,"getAllStorageCards",null),re([_o()],qn.prototype,"getCard",null),re([_o()],qn.prototype,"updateStorageCardPartial",null),re([_o()],qn.prototype,"deleteStorageCard",null),re([_o()],qn.prototype,"loadCardData",null),re([_o()],qn.prototype,"kvsGet",null),re([_o()],qn.prototype,"kvsSet",null),re([_o()],qn.prototype,"kvsDelete",null),re([_o()],qn.prototype,"newTransaction",null),re([_o()],qn.prototype,"prepareObjectStore",null),re([_o()],qn.prototype,"initializeLock",null),re([_o()],qn.prototype,"setupDb",null);const eP={volume:.5,showStatistics:!1,clipboardIntegration:!1,networkRedirection:!1,networkRedirectionMode:ka.supportsNativeNetworkIntegration()?"native":"proxy",proxyServer:"",credentials:{},runHidden:!1,autoLockUI:!1,enableRemoteInstall:!1,enableAudioOnFirstInteraction:!1,snapshotIntegrityCheck:!1};let Ii=(()=>{var e;class t{constructor(n){var o=this;this.storageService=n,this.set=i=>this.storageMutex.runExclusive((0,F.Z)(function*(){yield o.storageService.kvsSet(i);for(const s of Object.keys(i))o.rawKvs[s]=i[s];o.updateEvent.dispatch()})),this.updateEvent=new sr.j,this.mutex=new Aa,this.storageMutex=new Aa,this.initializationPromise=this.startInitialization().then(()=>this.migrate())}initialize(){var n=this;return(0,F.Z)(function*(){return n.initializationPromise})()}get kvs(){return this.kvsProxy}startInitialization(){var n=this;return(0,F.Z)(function*(){const o=n;try{const i={...eP,...yield n.storageService.kvsLoad()};n.rawKvs=i,n.kvsProxy=new Proxy(i,{set:(s,a,l)=>(s[a]=l,o.storageMutex.runExclusive((0,F.Z)(function*(){yield o.storageService.kvsSet({[a]:l})})),o.updateEvent.dispatch(),!0),deleteProperty:(s,a)=>(delete s[a],o.storageMutex.runExclusive(()=>o.storageService.kvsDelete(a)),o.updateEvent.dispatch(),!0)})}catch(i){console.error("failed to load KVS"),console.error(i),n.kvsProxy={...eP}}})()}migrate(){var n=this;return(0,F.Z)(function*(){switch(n.kvs.networkRedirectionMode){case"native":ka.supportsNativeNetworkIntegration()||(yield n.set({networkRedirectionMode:"proxy",networkRedirection:!1}));break;case"proxy":break;default:yield n.set({networkRedirectionMode:"proxy"})}})()}}return(e=t).\u0275fac=function(n){return new(n||e)(le(qn))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const tP='<a href="https://apps.apple.com/us/app/cloudpilotemu/id6478502699" target="_blank">App Store</a>',U7=`\n    You can install CloudpilotEmu as an app either from the\n    ${tP} or by selecting "Share" and "Add to Home Screen"\n    in Safari.\n    <br/><br/>\n    If you continue to run CloudpilotEmu in the browser iOS will remove your data after seven days\n    of inactivity.\n`,z7=`\n    Howdy! It seems that you are using an iPhone or iPad. You can\n    install CloudpilotEmu as an app either from the\n    ${tP} or by selecting "Share"\n    and "Add to Home Screen" in Safari.\n    <br/><br/>\n    If you continue to run CloudpilotEmu in the browser iOS will remove your data after seven days\n    of inactivity.\n`;let X_=(()=>{var e;class t{constructor(n,o){var i=this;this.kvsService=n,this.alertService=o,this.serviceWorkerKeepalive=(0,F.Z)(function*(){if(navigator.serviceWorker)try{const s=yield navigator.serviceWorker.getRegistration();s?.active?.postMessage&&s.active.postMessage({})}catch{}setTimeout(i.serviceWorkerKeepalive,9e5)}),this.installationMode=this.determineInstallationMode(),this.serviceWorkerKeepalive()}promptForInstall(){return(go||K0)&&this.installationMode===Jl.web}getInstallationMode(){return this.installationMode}install(){this.alertService.message("Install app",this.alertService.verbatim(this.getInstallMessage()))}invite(){(go||K0||wh)&&this.installationMode===Jl.web&&(this.kvsService.kvs.didShowInvitation||(this.kvsService.kvs.didShowInvitation=!0,window.hasOwnProperty("onbeforeinstallprompt")||this.alertService.message("App available",this.alertService.verbatim(this.getInviteMessage()))))}getInstallMessage(){return go?U7:'\n    Open your browser\'s menu and tap "Add to Home screen" or "Install App"\n    in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}getInviteMessage(){return go?z7:wh?'\n    Howdy! It seems that you are running CloudpilotEmu on a Mac. Safari will delete all\n    data after seven days of inactivity. However, you can click the "Share"\n    icon in the browser toolbar and select "Add to dock" to install\n    CloudpilotEmu as an app.\n    <br><br>\n    This will keep Safari from deleting your\n    data.\n':'\n    Howdy! It seems that you are using an Android device. You can\n    install CloudpilotEmu as an app by opening your browser\'s menu\n    and tapping "Add to Home screen".\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}determineInstallationMode(){return window.navigator.standalone?Jl.pwa:document.referrer.startsWith("android-app://")?Jl.twa:window.matchMedia("(display-mode: standalone)").matches?Jl.pwa:Jl.web}}return(e=t).\u0275fac=function(n){return new(n||e)(le(Ii),le(Fr))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function Z7(e,t){1&e&&(j(0,"div",5),Ue(1,"ion-spinner"),L())}let Nu=(()=>{var e;class t{constructor(n){this.modalController=n,this.title="Help",this.loading=!0}}return(e=t).\u0275fac=function(n){return new(n||e)(v(fs))},e.\u0275cmp=Ye({type:e,selectors:[["app-help"]],inputs:{url:"url",title:"title"},decls:10,vars:3,consts:[["slot","primary"],[3,"click"],["fullscreen",""],["class","loader",4,"ngIf"],[3,"src","load"],[1,"loader"]],template:function(n,o){1&n&&(j(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ee(3),L(),j(4,"ion-buttons",0)(5,"ion-button",1),Ve("click",function(){return o.modalController.dismiss()}),Ee(6,"Close"),L()()()(),j(7,"ion-content",2),Vt(8,Z7,2,0,"div",3),j(9,"markdown",4),Ve("load",function(){return o.loading=!1}),L()()),2&n&&(me(3),Ni(o.title),me(5),Se("ngIf",o.loading),me(1),Se("src",o.url))},dependencies:[Eo,Z0,ji,Gi,Ui,Hi,gh,Wi,Zi],styles:["markdown[_ngcontent-%COMP%]{display:block;padding-left:1em;padding-right:1em}.loader[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}"]}),t})();const Fu=ia.releaseExtra?`1.10.10-4f6c6d4 (${ia.releaseExtra})`:"1.10.10",rP=S.p+"assets/doc/CHANGELOG-bf6bbb49cab93084.md";var Q_=S(1633);const J_=((e,t)=>{let r=null;return()=>{if(null!==r)return r;const n=new Blob(['(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error(\'The given type "\'.concat(i,\'" is not supported\'));(e=>{const r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error(\'The given method "\'.concat(s.method,\'" is not supported\'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error(\'The given type "\'.concat(d,\'" is not supported\'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();'],{type:"application/javascript; charset=utf-8"}),o=URL.createObjectURL(n);return r=(e=>{const t=new Map([[0,()=>{}]]),r=new Map([[0,()=>{}]]),n=new Map,o=new Worker(e);return o.addEventListener("message",({data:c})=>{if((e=>void 0!==e.method&&"call"===e.method)(c)){const{params:{timerId:f,timerType:p}}=c;if("interval"===p){const m=t.get(f);if("number"==typeof m){const C=n.get(m);if(void 0===C||C.timerId!==f||C.timerType!==p)throw new Error("The timer is in an undefined state.")}else{if(!(typeof m<"u"))throw new Error("The timer is in an undefined state.");m()}}else if("timeout"===p){const m=r.get(f);if("number"==typeof m){const C=n.get(m);if(void 0===C||C.timerId!==f||C.timerType!==p)throw new Error("The timer is in an undefined state.")}else{if(!(typeof m<"u"))throw new Error("The timer is in an undefined state.");m(),r.delete(f)}}}else{if(!(e=>null===e.error&&"number"==typeof e.id)(c)){const{error:{message:f}}=c;throw new Error(f)}{const{id:f}=c,p=n.get(f);if(void 0===p)throw new Error("The timer is in an undefined state.");const{timerId:m,timerType:C}=p;n.delete(f),"interval"===C?t.delete(m):r.delete(m)}}}),{clearInterval:c=>{const f=(0,Q_.generateUniqueNumber)(n);n.set(f,{timerId:c,timerType:"interval"}),t.set(c,f),o.postMessage({id:f,method:"clear",params:{timerId:c,timerType:"interval"}})},clearTimeout:c=>{const f=(0,Q_.generateUniqueNumber)(n);n.set(f,{timerId:c,timerType:"timeout"}),r.set(c,f),o.postMessage({id:f,method:"clear",params:{timerId:c,timerType:"timeout"}})},setInterval:(c,f)=>{const p=(0,Q_.generateUniqueNumber)(t);return t.set(p,()=>{c(),"function"==typeof t.get(p)&&o.postMessage({id:null,method:"set",params:{delay:f,now:performance.now(),timerId:p,timerType:"interval"}})}),o.postMessage({id:null,method:"set",params:{delay:f,now:performance.now(),timerId:p,timerType:"interval"}}),p},setTimeout:(c,f)=>{const p=(0,Q_.generateUniqueNumber)(r);return r.set(p,c),o.postMessage({id:null,method:"set",params:{delay:f,now:performance.now(),timerId:p,timerType:"timeout"}}),p}}})(o),setTimeout(()=>URL.revokeObjectURL(o)),r}})(),oP=e=>J_().clearTimeout(e),iP=(e,t)=>J_().setTimeout(e,t);var ff=function(e){return e[e.animationFrame=0]="animationFrame",e[e.timeout=1]="timeout",e}(ff||{});class sP{constructor(t){this.callback=t,this.lastAnimationFrame=0,this.framesSinceLastSchedule=0,this.scheduled=!1}schedule(){if(this.framesSinceLastSchedule=0,this.scheduled=!0,void 0!==this.animationFrameHandle)return;const t=()=>this.animationFrameHandle=requestAnimationFrame(r=>{this.animationFrameHandle=void 0;let n=(r-this.lastAnimationFrame)/2;this.lastAnimationFrame=r,n>50&&(n=0),void 0===this.timeoutHandle&&window.clearTimeout(this.timeoutHandle),this.timeoutHandle=iP(()=>{this.timeoutHandle=void 0,this.scheduled&&(this.scheduled=!1,this.callback(performance.now()))},n),this.framesSinceLastSchedule++<5&&t()});t()}cancel(){void 0!==this.animationFrameHandle&&cancelAnimationFrame(this.animationFrameHandle),void 0!==this.timeoutHandle&&oP(this.timeoutHandle),this.animationFrameHandle=void 0,this.timeoutHandle=void 0,this.scheduled=!1}isScheduled(){return this.scheduled}getKind(){return ff.animationFrame}}class X7{constructor(t,r=60){this.callback=t,this.fps=r}schedule(){if(void 0!==this.handle)return;const t=performance.now(),r=1e3*Math.ceil(t/1e3*this.fps)/this.fps;this.handle=iP(()=>{this.handle=void 0,this.callback(performance.now())},Math.max(r-t,0))}cancel(){void 0!==this.handle&&(oP(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return ff.timeout}}const Q7=[135,135,105],J7=[0,0,0],qc=new Array(16).fill(0).map((e,t)=>J7.map((r,n)=>Math.floor((t*r+(15-t)*Q7[n])/15))).map(([e,t,r])=>4278190080|r<<16|t<<8|e),lS=qc.map(e=>"#"+(16777215&e).toString(16).padStart(6,"0").match(/(..?)/g)?.reverse().join(""));var te=function(e){return e.palmPilot="PalmPilot",e.pilot="Pilot",e.iii="PalmIII",e.palmVx="PalmVx",e.palmV="PalmV",e.palmVII="PalmVII",e.palmVIIEZ="PalmVIIEZ",e.palmVIIx="PalmVIIx",e.iiic="PalmIIIc",e.iiix="PalmIIIx",e.iiixe="PalmIIIxe",e.iiie="PalmIIIe",e.m500="PalmM500",e.m505="PalmM505",e.m515="PalmM515",e.m520="PalmM520",e.m100="PalmM100",e.m105="PalmM105",e.m125="PalmM125",e.m130="PalmM130",e.i705="Palmi705",e.i710="PalmI710",e.handera330="HandEra330",e.handera330c="HandEra330c",e.pegS300="PEG-S300",e.pegS320="PEG-S320",e.pegS500c="PEG-S500C",e.pegT400="PEG-T400",e.pegN600c="PEG-N600C/N610C",e.pegT600c="PEG-T600",e.pegN700c="PEG-N700C/N710C",e.pegT650c="YSX1230",e.pegNR70="NR70",e.acerS11="Acer-S11",e.lp168="Legend-P168",e}(te||{}),pf=function(e){return e.sdcard="sdcard",e.memorystick="memorystick",e.none="none",e}(pf||{});function Ih(e){switch(e){case te.i710:case te.m520:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case te.handera330:case te.handera330c:case te.lp168:return{screenSize:2,width:240,height:320,silkscreenHeight:0};case te.pegS300:case te.pegS320:case te.pegS500c:return{screenSize:0,width:160,height:160,silkscreenHeight:76};case te.pegT600c:case te.pegT400:case te.pegT650c:return{screenSize:1,width:320,height:320,silkscreenHeight:140,silkscreenOvershoot:10};case te.pegN600c:case te.pegN700c:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case te.pegNR70:return{screenSize:3,width:320,height:480,silkscreenHeight:0};case te.acerS11:return{screenSize:0,width:160,height:160,silkscreenHeight:60,siklscreenShift:8};default:return{screenSize:0,width:160,height:160,silkscreenHeight:60}}}function cS(e){switch(e){case te.pilot:case te.palmPilot:case te.iii:case te.palmV:case te.palmVx:case te.iiix:case te.iiixe:case te.iiie:case te.m100:case te.m105:case te.m125:case te.m500:case te.palmVII:case te.palmVIIEZ:case te.palmVIIx:case te.i705:case te.handera330:case te.pegS300:case te.pegS320:case te.pegT400:case te.acerS11:return!1;default:return!0}}function aP(e){switch(e){case te.pilot:return"Pilot";case te.palmPilot:return"Palm Pilot";case te.iii:return"Palm III";case te.m500:return"Palm m500";case te.m505:return"Palm m505";case te.m515:return"Palm m515";case te.m520:return"Palm m520";case te.palmVx:return"Palm Vx";case te.iiix:return"Palm IIIx";case te.iiixe:return"Palm IIIxe";case te.iiie:return"Palm IIIe";case te.palmV:return"Palm V";case te.palmVII:return"Palm VII";case te.palmVIIEZ:return"Palm VII EZ";case te.palmVIIx:return"Palm VIIx";case te.iiic:return"Palm IIIc";case te.m100:return"Palm m100";case te.m105:return"Palm m105";case te.m125:return"Palm m125";case te.m130:return"Palm m130";case te.i705:return"Palm i705";case te.i710:return"Tungsten W";case te.handera330:return"Handera 330";case te.handera330c:return"Handera 330c";case te.pegS300:return"Sony PEG-S300";case te.pegS320:return"Sony PEG-S320";case te.pegT400:return"Sony PEG-T400 series";case te.pegN600c:return"Sony PEG-N600C series";case te.pegT600c:return"Sony PEG-T600C series";case te.pegN700c:return"Sony PEG-N700C series";case te.pegT650c:return"Sony PEG-T650C series";case te.pegNR70:return"Sony PEG-NR70 series";case te.pegS500c:return"Sony PEG-S500C series";case te.acerS11:return"Acer S1x series";case te.lp168:return"Legend P168";default:throw new Error("bad device ID")}}function lP(e){switch(e){case te.m500:case te.m505:case te.m515:case te.m520:case te.m125:case te.m130:case te.i705:case te.i710:case te.handera330:case te.handera330c:return pf.sdcard;case te.pegS300:case te.pegS500c:case te.pegS320:case te.pegT400:case te.pegN600c:case te.pegT600c:case te.pegN700c:case te.pegT650c:case te.pegNR70:case te.acerS11:return pf.memorystick;default:return pf.none}}class cP{constructor(t,r){this.queue=new Array(t).fill(0),this.reset(r)}reset(t=0){this.next=1,this.size=1,this.queue[0]=t}push(t){return this.queue[this.next]=t,this.next=(this.next+1)%this.queue.length,this.size<this.queue.length&&this.size++,this}calculateAverage(){let t=0;for(let r=0;r<this.size;r++)t+=this.queue[r];return t/this.size}}class nZ{constructor(t){this.start=0,this.size=0,this.buffer=new Array(t)}push(t){return this.size<this.buffer.length?this.buffer[(this.start+this.size++)%this.buffer.length]=t:(this.start=(this.start+1)%this.buffer.length,this.buffer[(this.start+this.size-1)%this.buffer.length]=t),this}pop(){if(0===this.size)return;const t=this.buffer[this.start];return this.start=(this.start+1)%this.buffer.length,this.size--,t}peekLast(){if(0!==this.size)return this.buffer[(this.start+this.size-1)%this.buffer.length]}replaceLast(t){return this.size>0&&(this.buffer[(this.start+this.size-1)%this.buffer.length]=t),this}count(){return this.size}flush(){return this.start=0,this.size=0,this}}class dP{constructor(){this.onFrameComplete=()=>{this.transport&&this.receiveEvent.dispatch({data:this.transport.Receive(),isFrameComplete:this.transport.IsFrameComplete()})},this.receiveEvent=new sr.j,this.dispatchEvent=new sr.j,this.isSync=!1}bind(t){this.transport!==t&&(this.transport&&this.transport.frameCompleteEvent.removeHandler(this.onFrameComplete),t.frameCompleteEvent.addHandler(this.onFrameComplete),t.SetModeSync(this.isSync),this.transport=t)}send(t,r){if(this.transport){if(!this.transport.IsOpen()&&this.transport.GetModeSync())return void this.receiveEvent.dispatch({data:void 0,isFrameComplete:!0});this.transport.Send(t,r),setTimeout(()=>this.dispatchEvent.dispatch(),0)}}setModeSync(t){this.isSync=t,this.transport?.SetModeSync(t)}getModeSync(){return this.transport?.GetModeSync?.()??!1}dispatch(){if(!this.transport)return;const t=this.transport.RxBytesPending();0!==t&&(this.transport.GetModeSync()&&t<1024||this.receiveEvent.dispatch({data:this.transport.Receive(),isFrameComplete:this.transport.IsFrameComplete()}))}}class dZ{constructor(){this.onPwmUpdate=t=>{this.pendingPwmUpdates.count()>0&&this.pendingPwmUpdates.peekLast().frequency<0?this.pendingPwmUpdates.replaceLast(t):this.pendingPwmUpdates.push(t)},this.advanceEmulation=t=>{if(this.isDirty=!1,!this.isRunning||!this.cloudpilotInstance||this.hasFatalError()||t<this.clockEmulator)return;this.cloudpilotInstance.isSuspended()&&5===this.cloudpilotInstance.getSuspendKind()&&t-this.serialSyncStartedAt>250&&(console.log("serial sync timeout, waking emulator"),this.cloudpilotInstance.getSuspendContextSerialSync().Cancel());const r=this.cloudpilotInstance.isSuspended();let n=!1;this.cloudpilotInstance.setClockFactor(this.emulationSpeed*this.getConfiguredSpeed()),t-this.clockEmulator>1e3/30&&(this.clockEmulator=t-1e3/30);const o=(t-this.clockEmulator)/1e3*this.cloudpilotInstance.cyclesPerSecond(),i=performance.now();let s=0;for(;s<o;)if(s+=this.cloudpilotInstance.runEmulation(Math.ceil(o-s)),this.cloudpilotInstance.isSuspended()){n=!0;break}const a=s/this.cloudpilotInstance.cyclesPerSecond()*1e3,l=performance.now()-i;this.clockEmulator+=Math.max(a,l),this.speedAverage.push(a/(l>0?l:a/1e3)*this.emulationSpeed),this.updateEmulationSpeed(this.speedAverage.calculateAverage()),n&&!r&&(5===this.cloudpilotInstance.getSuspendKind()?this.serialSyncStartedAt=performance.now():this.handleSuspend());const c=this.cloudpilotInstance.isPowerOff(),f=this.cloudpilotInstance.isUiInitialized();if(c!==this.powerOff||f!==this.uiInitialized){const p=this.powerOff;this.powerOff=c,this.uiInitialized=f,p!==this.powerOff&&this.powerOffChangeEvent.dispatch(this.powerOff),this.isDirty=!0}f&&!c&&this.manageHotsyncName()&&!n&&this.checkAndUpdateHotsyncName(),this.serialPortIR.dispatch(),this.serialPortSerial.dispatch(),this.onAfterAdvanceEmulation(t,s)},this.newFrameEvent=new sr.j,this.pwmUpdateEvent=new sr.j,this.emulationStateChangeEvent=new sr.j,this.powerOffChangeEvent=new sr.j,this.deviceId=te.m515,this.clockEmulator=0,this.scheduler=new sP(t=>this.onSchedule(t)),this.canvas=document.createElement("canvas"),this.canvasTmp=document.createElement("canvas"),this.lastPenUpdate=0,this.penDown=!1,this.running=!1,this.powerOff=!1,this.uiInitialized=!1,this.pendingPwmUpdates=new nZ(10),this.lastPwmUpdateEvent=0,this.emulationSpeed=1,this.speedAverage=new cP(20),this.timePerFrameAverage=new cP(60),this.timestampLastFrame=0,this.frameCounter=0,this.isDirty=!1,this.serialPortIR=new dP,this.serialPortSerial=new dP,this.serialSyncStartedAt=0,this.serialPortIR.dispatchEvent.addHandler(()=>this.advanceEmulation(performance.now())),this.serialPortSerial.dispatchEvent.addHandler(()=>this.advanceEmulation(performance.now()))}handlePointerMove(t,r,n){if(!this.handleInput())return;const o=performance.now();if(this.penDown=!0,!(o-this.lastPenUpdate<25)&&this.cloudpilotInstance){if(n){const i=Ih(this.deviceId);t=this.transformSilkscreenX(t,i),r=this.transformSilkscreenY(r,i)}this.cloudpilotInstance.queuePenMove(Math.floor(t),Math.floor(r)),this.lastPenUpdate=o}}handlePointerUp(){this.handleInput()&&(this.cloudpilotInstance&&this.penDown&&this.cloudpilotInstance.queuePenUp(),this.lastPenUpdate=0,this.penDown=!1)}handleButtonDown(t){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonDown(t)}handleButtonUp(t){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonUp(t)}handleKeyDown(t,r=!1){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueKeyboardEvent(t,r)}reset(){this.cloudpilotInstance&&this.cloudpilotInstance.reset()}resetNoExtensions(){this.cloudpilotInstance&&this.cloudpilotInstance.resetNoExtensions()}resetHard(){this.cloudpilotInstance&&this.cloudpilotInstance.resetHard()}isRunning(){return this.running}isPowerOff(){return this.powerOff}isUiInitialized(){return this.uiInitialized}getCanvas(){return this.canvas}getStatistics(){return{hostSpeed:this.speedAverage.calculateAverage(),emulationSpeed:this.emulationSpeed,averageFps:this.calculateFPS()}}getEmulationSpeed(){return this.emulationSpeed}isSuspended(){return!!this.cloudpilotInstance&&this.cloudpilotInstance.isSuspended()}getSerialPortSerial(){if(!this.serialPortSerial)throw new Error("emulator not initialized");return this.serialPortSerial}getSerialPortIR(){if(!this.serialPortIR)throw new Error("emulator not initialized");return this.serialPortIR}onAfterAdvanceEmulation(t,r){}handleSuspend(){}callScheduler(){this.scheduler.schedule()}handleInput(){return!0}openSession(t,r,n,o,i){let s=!1;return!!t.initializeSession(r,n)&&(o&&(o.length%4!=0?console.warn("memory size is not a multiple of 4; ignoring image"):(s=t.loadMemory(new Uint32Array(o.buffer,o.byteOffset,o.length>>>2)),s||console.warn("failed to load memory"))),s&&i&&t.loadState(i),t.remountCards(),this.cloudpilotInstance&&this.cloudpilotInstance.pwmUpdateEvent.removeHandler(this.onPwmUpdate),t.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.cloudpilotInstance!==t&&(this.serialPortIR.bind(t.getTransportIR()),this.serialPortSerial.bind(t.getTransportSerial())),this.cloudpilotInstance=t,this.deviceId=n,this.resetCanvas(),this.pendingPwmUpdates.flush(),this.lastPwmUpdateEvent=0,this.deviceHotsyncName=void 0,this.emulationSpeed=1,this.frameCounter=0,this.speedAverage.reset(1),this.powerOff=t.isPowerOff(),this.uiInitialized=t.isUiInitialized(),this.frameCounter=0,!0)}resetCanvas(){const t=Ih(this.deviceId);this.canvas.width=this.canvasTmp.width=t.width,this.canvas.height=this.canvasTmp.height=t.height;const r=this.canvas.getContext("2d");if(!r)throw new Error("get a new browser");this.context=r;const n=this.canvasTmp.getContext("2d");if(!n)throw new Error("get a new browser");this.contextTmp=n,this.clearCanvas(),this.imageData=void 0}doResume(){this.cloudpilotInstance&&(this.clockEmulator=performance.now(),this.schedule(),this.setRunning(!0),this.resetFPS())}doPause(){this.stopLoop()}doStop(){this.stopLoop()}stopLoop(){console.log("stop1"),this.running&&(console.log("stop2"),this.scheduler.cancel(),this.setRunning(!1))}resetFPS(){this.timePerFrameAverage.reset(),this.timestampLastFrame=performance.now()}calculateFPS(){const t=this.timePerFrameAverage.calculateAverage();return t&&1e3/t}transformSilkscreenX(t,r){return void 0===r.silkscreenOvershoot?t:(t-r.width/2)/(r.width/(r.width+2*r.silkscreenOvershoot))+r.width/2}transformSilkscreenY(t,r){return void 0===r.siklscreenShift?t:t+r.siklscreenShift}setRunning(t){t!==this.running&&(this.running=t,this.emulationStateChangeEvent.dispatch(t))}updateEmulationSpeed(t){if(t>=1&&this.emulationSpeed>=1)return;const r=Math.min(Math.max(Math.floor(10*t)/10,.1),1);this.emulationSpeed=r<=this.emulationSpeed||t-r>=.05?r:this.emulationSpeed}performScreenUpdate(){this.cloudpilotInstance?.isScreenDirty()&&(this.updateScreen(),this.cloudpilotInstance.markScreenClean(),this.frameCounter++)}onSchedule(t){this.hasFatalError()||(this.skipEmulationUpdate()||(this.pendingPwmUpdates.count()>0&&t-this.lastPwmUpdateEvent>10&&(this.pwmUpdateEvent.dispatch(this.pendingPwmUpdates.pop()),this.lastPwmUpdateEvent=t),this.advanceEmulation(t),this.timePerFrameAverage.push(Math.max(0,t-this.timestampLastFrame)),this.timestampLastFrame=t,this.performScreenUpdate()),this.schedule())}schedule(){this.getConfiguredSchdedulerKind()!==this.scheduler.getKind()&&(this.scheduler.cancel(),this.scheduler=this.getConfiguredSchdedulerKind()===ff.animationFrame?new sP(t=>this.onSchedule(t)):new X7(t=>this.onSchedule(t))),this.callScheduler()}checkAndUpdateHotsyncName(){if(!this.cloudpilotInstance)return;void 0===this.deviceHotsyncName&&(this.deviceHotsyncName=this.cloudpilotInstance.getHotsyncName());const t=this.getConfiguredHotsyncName();void 0===t?this.updateConfiguredHotsyncName(this.deviceHotsyncName):t!==this.deviceHotsyncName&&t.length<=40&&this.cloudpilotInstance.isSetupComplete()&&(this.cloudpilotInstance.setHotsyncName(t),this.deviceHotsyncName=t)}clearCanvas(){const t=this.deviceId,r=Ih(t);this.context.beginPath(),this.context.rect(0,0,r.width,r.height),this.context.fillStyle=cS(t)?"white":lS[0],this.context.fill()}updateScreen(){if(!this.cloudpilotInstance)return;const t=this.cloudpilotInstance.getFrame();if(this.cloudpilotInstance.isPowerOff())return this.clearCanvas(),void this.newFrameEvent.dispatch(this.canvas);if(!t.hasChanges)return;if(t.lines*t.scaleY===this.canvas.height&&t.lineWidth*t.scaleX===this.canvas.width){(!this.imageData||this.imageData.width!==t.lineWidth||this.imageData.height!==t.lines)&&(this.imageData=new ImageData(t.lineWidth,t.lines));const n=new Uint32Array(this.imageData.data.buffer);switch(t.bpp){case 1:{const o=qc[15],i=qc[0];let s=0;for(let a=t.firstDirtyLine;a<=t.lastDirtyLine;a++){const l=a*t.bytesPerLine;for(let c=t.margin;c<t.lineWidth+t.margin;c++)n[s++]=t.buffer[l+(c>>>3)]&128>>>(7&c)?o:i}break}case 2:{const o=this.cloudpilotInstance.getPalette2bitMapping(),i=[qc[15&o],qc[o>>>4&15],qc[o>>>8&15],qc[o>>>12&15]];let s=0;for(let a=t.firstDirtyLine;a<=t.lastDirtyLine;a++){const l=a*t.bytesPerLine;for(let c=t.margin;c<t.lineWidth+t.margin;c++)n[s++]=i[t.buffer[l+(c>>>2)]>>6-2*(3&c)&3]}break}case 4:{let o=0;for(let i=t.firstDirtyLine;i<=t.lastDirtyLine;i++){const s=i*t.bytesPerLine;for(let a=t.margin;a<t.lineWidth+t.margin;a++)n[o++]=qc[t.buffer[s+(a>>>1)]>>>4-4*(1&a)&15]}break}case 24:{const o=new Uint32Array(t.buffer.buffer,t.buffer.byteOffset,t.buffer.byteLength>>>2);if(0===t.margin)n.subarray(0,t.lineWidth*(t.lastDirtyLine-t.firstDirtyLine+1)).set(o.subarray(t.firstDirtyLine*t.lineWidth,t.lineWidth*(t.lastDirtyLine+1)));else{let i=0;for(let s=t.firstDirtyLine;s<=t.lastDirtyLine;s++){let a=s*(t.bytesPerLine>>>2)+t.margin;for(let l=0;l<t.lineWidth;l++)n[i++]=o[a++]}}}}}if(!this.imageData)return;const r=1!==t.scaleX||1!==t.scaleY;(r?this.contextTmp:this.context).putImageData(this.imageData,0,t.firstDirtyLine,0,0,t.lineWidth,t.lastDirtyLine-t.firstDirtyLine+1),r&&(this.context.imageSmoothingEnabled=!1,this.context.drawImage(this.canvasTmp,0,t.firstDirtyLine,t.lineWidth,t.lastDirtyLine-t.firstDirtyLine+1,0,t.firstDirtyLine*t.scaleY,t.lineWidth*t.scaleX,(t.lastDirtyLine-t.firstDirtyLine+1)*t.scaleY)),this.newFrameEvent.dispatch(this.canvas)}}class fP{constructor(t,r,n=window.document){this.timeoutRemaining=t,this.cb=r,this.document=n,this.onVisibilityChange=()=>{switch(this.tainted=!0,this.document.visibilityState){case"hidden":if("running"!==this.state)return;this.cancelTimeout(),this.update(),"finished"!==this.state&&(this.state="paused");break;case"visible":if("paused"!==this.state||this.timeoutRemaining<0)return;this.schedule(),this.state="running"}},this.onTimeout=()=>{this.handle=void 0,this.update(),this.timeoutRemaining>0&&"running"===this.state&&this.schedule()},this.state="created",this.timoutStartedAt=performance.now(),this.tainted=!1,this.accumulatedTimeout=0}start(){return this.setState("running"),this.schedule(),this.document.addEventListener("visibilitychange",this.onVisibilityChange),this}increase(t){return this.timeoutRemaining+=t,this}cancel(){return this.setState("finished"),this}isTainted(){return this.tainted}getAccumulatedTimeout(){return this.accumulatedTimeout}schedule(){void 0===this.handle&&(this.timoutStartedAt=performance.now(),this.handle=setTimeout(()=>this.onTimeout(),this.timeoutRemaining))}update(){if("running"!==this.state)return;const t=performance.now()-this.timoutStartedAt;this.timeoutRemaining-=t,this.accumulatedTimeout+=t,this.timeoutRemaining<=0&&(this.setState("finished"),this.cb())}cancelTimeout(){void 0!==this.handle&&(clearTimeout(this.handle),this.handle=void 0)}setState(t){if(t!==this.state){if("finished"===this.state||"created"===t)throw new Error(`invalid state transition: ${this.state} -> ${t}`);"finished"===t&&(this.cancelTimeout(),this.document.removeEventListener("visibilitychange",this.onVisibilityChange)),this.state=t}}}const pP=new Error("session does not match emulation");let xh=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f){var p=this;this.storageService=n,this.emulationState=o,this.errorService=i,this.storageCardContext=s,this.kvsService=a,this.alertService=l,this.loadingController=c,this.ngZone=f,this.triggerSnapshot=()=>this.ngZone.runOutsideAngular(()=>this.sessionId<0||this.cloudpilot.isSuspended()?Promise.resolve():this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():(this.snapshotInProgress=!0,this.timeoutDeltaMsecPerKb=this.timeoutDeltaMsecPerKbStart,this.pendingSnapshotPromise=(0,F.Z)(function*(){try{yield p.triggerSnapshotUnguarded()}finally{p.snapshotInProgress=!1,p.hideLoader()}})(),this.pendingSnapshotPromise)),this.snapshotEvent=new sr.j,this.sessionId=-1,this.consecutiveErrorCount=0,this.timeoutDeltaMsecPerKbStart=.5,this.timeoutDeltaMsecPerKb=.5,this.snapshotInProgress=!1,this.pendingSnapshotPromise=Promise.resolve(void 0),this.cardPagePool=[]}initialize(n,o){var i=this;return(0,F.Z)(function*(){i.errorService.hasFatalError()||(yield i.waitForPendingSnapshot(),i.sessionId=n.id,i.dirtyPages=void 0,i.pages=void 0,i.state=void 0,i.db=yield i.storageService.getDb(),i.cloudpilot=o,i.resetCard())})()}resetCard(){this.cardPagePool=[],this.cardDirtyPages=void 0}waitForPendingSnapshot(){return this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():Promise.resolve()}triggerSnapshotUnguarded(){var n=this;return(0,F.Z)(function*(){for(;;)try{return yield n.triggerSnapshotOnce(),void(n.consecutiveErrorCount=0)}catch(o){if(o instanceof fP){if(o.isTainted())continue;console.log(`snapshot timeout expired after ${o.getAccumulatedTimeout()} msec`),n.timeoutDeltaMsecPerKb>.5&&(yield n.alertService.snapshotTimeout(),yield n.showLoader()),n.timeoutDeltaMsecPerKb*=2,n.timeoutDeltaMsecPerKbStart=Math.min(2*n.timeoutDeltaMsecPerKbStart,4);continue}if(console.error("snapshot error",o),o===pP)throw n.errorService.fatalBug("attempting to snapshot a session that is not currently running"),o;if(o===aS)throw n.errorService.fatalPageLockLost(),o;if(++n.consecutiveErrorCount>3)throw n.errorService.fatalIDBDead(),o}})()}triggerSnapshotOnce(){var n=this;return(0,F.Z)(function*(){const o=n.db.transaction([Wc,Zc,tc,vl,Bs,Dh],"readwrite",{durability:"relaxed"});let i;yield n.storageService.acquireLock(o);const s=n.cloudpilot.getMountedKey();if(s&&(i=yield zn(o.objectStore(Bs).index("storageId").get(s))),n.cloudpilot.isSuspended())return;n.assertSessionMatches();const a=yield new Promise((l,c)=>{let f=!1;const p=performance.now();let m=0,C=0,U=0;const J=new fP(500,()=>{f=!0;try{o.abort()}catch{}c(J)});o.oncomplete=()=>{J.cancel(),n.dirtyPages?.fill(0),n.cardDirtyPages?.fill(0),l({timestamp:Date.now(),pages:U,timeBlocking:C-m,timeTotal:performance.now()-p})},o.onerror=()=>{J.cancel(),c(new Error(o.error?.message))};try{n.assertSessionMatches(),m=performance.now(),U=n.saveDirtyMemory(o,J),i&&(U+=n.saveDirtyStorage(i,o,J)),n.saveSession(o),J.start(),C=performance.now()}catch(_e){throw f||(J.cancel(),o.abort()),_e}});n.snapshotEvent.dispatch(a)})()}saveDirtyMemory(n,o){let i=0;const s=n.objectStore(Wc),a=n.objectStore(Zc),l=this.cloudpilot.getDirtyPages(),c=this.cloudpilot.getMemory32();let f=0;if(!this.dirtyPages||!this.pages){const m=c.length>>>8;this.dirtyPages=new Uint8Array(l.length),this.pages=new Array(m);for(let C=0;C<m;C++)this.pages[C]=new Uint32Array(256)}const p={sessionId:this.sessionId,totalSize:c.length<<2};this.kvsService.kvs.snapshotIntegrityCheck&&ia.debug&&(p.crc32=qR(new Uint8Array(c.buffer,c.byteOffset,c.byteLength))),a.put(p);for(let m=0;m<l.length;m++)if(this.dirtyPages[m]|=l[m],l[m]=0,0!==this.dirtyPages[m])for(let C=1;C<256&&!(i>=this.pages.length);C<<=1){if(this.dirtyPages[m]&C){const U=HR(c.subarray(256*i,256*(i+1)));"number"==typeof U?s.put(U,[this.sessionId,i]):(this.pages[i].set(U),s.put(this.pages[i],[this.sessionId,i])),o.increase(this.timeoutDeltaMsecPerKb),f++}i++}else i+=8;return f}saveDirtyStorage(n,o,i){const s=this.cloudpilot.getCardDirtyPages(n.storageId),a=this.cloudpilot.getCardData(n.storageId);if(!a)return console.log(`seems ${n.name} was unmounted`),0;if(this.storageCardContext.assertOwnership(n.id,br.cloudpilot),!s)throw new Error(`failed to retrieve dirty pages for card ${n.name}`);if(a.length!==n.size>>>2)throw new Error("card size mismatch");if(this.cardDirtyPages||(this.cardDirtyPages=new Uint8Array(s.length)),this.cardDirtyPages.length!==s.length)throw new Error("card size has changed without notification");let l=0,c=0,f=0;const p=o.objectStore(vl),m=(a.length>>11)+(a.length%2048>0?1:0);for(let C=0;C<s.length;C++)if(this.cardDirtyPages[C]|=s[C],s[C]=0,0!==this.cardDirtyPages[C])for(let U=1;U<256&&!(l>=m);U<<=1){if(this.cardDirtyPages[C]&U){c>=this.cardPagePool.length&&this.cardPagePool.push(new Uint32Array(2048));const J=this.cardPagePool[c++];J.set(a.subarray(2048*l,2048*(l+1))),p.put(J,[n.id,l]),i.increase(8*this.timeoutDeltaMsecPerKb),f++}l++}else l+=8;return 8*f}saveSession(n){const o=n.objectStore(tc);if(this.cloudpilot.saveState()){const i=this.cloudpilot.getSavestate();this.state||(this.state=new Uint8Array(i.length)),this.state.set(i),o.put(this.state,this.sessionId)}else console.log("save state failed"),o.delete(this.sessionId)}assertSessionMatches(){if(this.emulationState.getCurrentSession()?.id!==this.sessionId)throw pP}showLoader(){var n=this;return(0,F.Z)(function*(){n.loader||(n.loader=yield n.loadingController.create({message:"Saving..."}),yield n.loader.present())})()}hideLoader(){this.loader&&(this.loader.dismiss(),this.loader=void 0)}}return(e=t).\u0275fac=function(n){return new(n||e)(le(qn),le(ec),le(Pu),le(Eh),le(Ii),le(Fr),le(Ls),le(Ze))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),uS=(()=>{var e;class t{constructor(n){this.zone=n,this.modalVisibilityChangeEvent=new sr.j,this.modalActive=!1,this.update(),this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}isModalActive(){return this.modalActive}update(){const n=document.querySelectorAll("ion-alert, ion-modal").length>0;n!==this.modalActive&&this.zone.run(()=>{this.modalActive=n,this.modalVisibilityChangeEvent.dispatch(n)})}}return(e=t).\u0275fac=function(n){return new(n||e)(le(Ze))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var mZ=S(2227),gZ=S.n(mZ);function dS(e){const t=(e>>>13)+(e%8192>0?1:0);return(t>>>3)+(t%8>0?1:0)}function hP(e,t){return Object.setPrototypeOf({GetCurrentEntryContent:()=>{const r=t.getPointer(e.GetCurrentEntryContent()),n=e.GetCurrentEntrySize();return r>0&&n>0?t.HEAPU8.subarray(r,r+n):void 0}},e)}let _Z=0;const mP=[te.palmPilot,te.pilot,te.iii,te.palmVx,te.palmV,te.palmVII,te.palmVIIEZ,te.palmVIIx,te.iiixe,te.iiix,te.iiie,te.m500,te.m505,te.m515,te.m520,te.iiic,te.m100,te.m105,te.m125,te.m130,te.i705,te.i710,te.handera330,te.handera330c,te.pegS300,te.pegS320,te.pegS500c,te.pegT400,te.pegN600c,te.pegT600c,te.pegN700c,te.pegT650c,te.pegNR70,te.acerS11,te.lp168];function Rt(){return(e,t,r)=>{const n=r.value;return r.value=function(o,i){return this.guard(()=>n.call(this,o,i))},r}}class Tt{constructor(t){this.module=t,this.fatalErrorEvent=new sr.j,this.pwmUpdateEvent=new sr.j,this.proxyDisconnectEvent=new sr.j,this.amIdead=!1,this.cloudpilot=new t.Cloudpilot,this.cloudpilot.RegisterPwmHandler(t.addFunction((r,n)=>this.pwmUpdateEvent.dispatch({frequency:r,dutyCycle:n}),"vdd")),this.cloudpilot.RegisterProxyDisconnectHandler(t.addFunction(()=>this.proxyDisconnectEvent.dispatch(),"v")),this.transportIR=this.wrapTransport(this.cloudpilot.GetTransportIR()),this.transportSerial=this.wrapTransport(this.cloudpilot.GetTransportSerial())}static create(t){return(0,F.Z)(function*(){const r=_Z++;return new Tt(yield gZ()({print:n=>console.log(`${r}: ${n}`),printErr:n=>console.error(`${r}: ${n}`),..."string"==typeof t?{locateFile:()=>t}:{},..."function"==typeof t?{instantiateWasm:t}:{}}))})()}destroy(){this.module.destroy(this.cloudpilot)}hasFatalError(){return this.amIdead}enableLogging(t){this.cloudpilot.EnableLogging(t)}getRomInfo(t){const r=this.copyIn(t),n=new this.module.RomInfo(r,t.length);let o;return n.IsValid()&&(o={cardVersion:n.CardVersion(),cardName:n.CardName(),romVersion:n.RomVersion(),romVersionString:n.RomVersionString(),supportedDevices:mP.filter(n.Supports.bind(n))}),this.cloudpilot.Free(r),this.module.destroy(n),o}initializeSession(t,r){const n=this.copyIn(t),o=this.cloudpilot.InitializeSession(n,t.length,r);return this.cloudpilot.Free(n),o}cyclesPerSecond(){return this.cloudpilot.GetCyclesPerSecond()}runEmulation(t){return this.cloudpilot.RunEmulation(t)}getFrame(){const t=this.cloudpilot.CopyFrame(),r=this.module.getPointer(t.GetBuffer());return{bpp:t.GetBpp(),bytesPerLine:t.GetBytesPerLine(),lines:t.GetLines(),lineWidth:t.GetLineWidth(),margin:t.GetMargin(),firstDirtyLine:t.GetFirstDirtyLine(),lastDirtyLine:t.GetLastDirtyLine(),hasChanges:t.GetHasChanges(),scaleX:t.GetScaleX(),scaleY:t.GetScaleY(),buffer:this.module.HEAPU8.subarray(r,r+t.GetBufferSize())}}isScreenDirty(){return this.cloudpilot.IsScreenDirty()}markScreenClean(){this.cloudpilot.MarkScreenClean()}minRamForDevice(t){return 1024*this.cloudpilot.MinMemoryForDevice(t)}framebufferSizeForDevice(t){return 1024*this.cloudpilot.FramebufferSizeForDevice(t)}totalMemorySizeForDevice(t){return 1024*this.cloudpilot.TotalMemoryForDevice(t)}queuePenMove(t,r){this.cloudpilot.QueuePenMove(t,r)}queuePenUp(){this.cloudpilot.QueuePenUp()}queueButtonDown(t){this.cloudpilot.QueueButtonDown(t)}queueButtonUp(t){this.cloudpilot.QueueButtonUp(t)}queueKeyboardEvent(t,r){this.cloudpilot.QueueKeyboardEvent(t,r)}isPowerOff(){return!!this.cloudpilot.IsPowerOff()}isUiInitialized(){return!!this.cloudpilot.IsUIInitialized()}isSetupComplete(){return!!this.cloudpilot.IsSetupComplete()}getOSVersion(){return this.cloudpilot.GetOSVersion()}reset(){this.cloudpilot.Reset()}resetNoExtensions(){this.cloudpilot.ResetNoExtensions()}resetHard(){this.cloudpilot.ResetHard()}installDb(t){const r=this.copyIn(t),n=this.cloudpilot.InstallDb(r,t.length);return this.cloudpilot.Free(r),n}getPalette2bitMapping(){return this.cloudpilot.GetPalette2bitMapping()}getMemory(){const t=this.module.getPointer(this.cloudpilot.GetMemoryPtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetMemorySize())}getMemory32(){let t=this.module.getPointer(this.cloudpilot.GetMemoryPtr());if(3&t)throw new Error("unaligned pointer");return t>>>=2,this.module.HEAPU32.subarray(t,t+(this.cloudpilot.GetMemorySize()>>>2))}getDirtyPages(){const t=this.module.getPointer(this.cloudpilot.GetDirtyPagesPtr()),r=this.cloudpilot.GetMemorySize();return this.module.HEAPU8.subarray(t,t+((r>>>13)+(r%8192==0?0:1)))}loadMemory(t){const r=this.getMemory32();if((()=>{if(t.length!==r.length||t.length<256)return!1;for(let o=256;o>0;o--){if(t[t.length-o]!==r[r.length-o])return!1;if(4294967295===r[r.length-o])break}return!0})())return r.set(t),!0;{const o=this.copyIn32(t),i=this.cloudpilot.ImportMemoryImage(o,t.length<<2);return this.cloudpilot.Free(o),i}}getRomImage(){const t=this.module.getPointer(this.cloudpilot.GetRomPtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetRomSize())}getSavestate(){const t=this.module.getPointer(this.cloudpilot.GetSavestatePtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetSavestateSize())}saveState(){return!!this.cloudpilot.SaveState()}loadState(t){const r=this.copyIn(t),n=this.cloudpilot.LoadState(r,t.length);return this.cloudpilot.Free(r),n}getHotsyncName(){return this.cloudpilot.GetHotsyncName()}setClockFactor(t){this.cloudpilot.SetClockFactor(t)}setHotsyncName(t){this.cloudpilot.SetHotsyncName(t)}backup(t){var r=this;return(0,F.Z)(function*(){const n=r.guard(()=>r.cloudpilot.StartBackup());try{return yield t(r.wrap(n))}finally{r.module.destroy(n)}})()}getArchive(t){const r=t.GetArchiveSize();return this.copyOut(t.GetArchivePtr(),r)}setClipboardIntegration(t){this.cloudpilot.SetClipboardIntegration(t)}getClipboardIntegration(){return this.cloudpilot.GetClipboardIntegration()}isSuspended(){return this.cloudpilot.IsSuspended()}getSuspendKind(){return this.cloudpilot.IsSuspended()?this.cloudpilot.GetSuspendContext().GetKind():void 0}cancelSuspend(){this.cloudpilot.GetSuspendContext().Cancel()}getSuspendContextClipboardCopy(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardCopy())}getSuspendContextClipboardPaste(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardPaste())}setNetworkRedirection(t){this.cloudpilot.SetNetworkRedirection(t)}getNetworkRedirection(){return this.cloudpilot.GetNetworkRedirection()}getSuspendContextNetworkConnect(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkConnect())}getSuspendContextNetworkRpc(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkRpc())}getSuspendContextSerialSync(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextSerialSync())}copyBuffer(t){return this.copyIn(t)}freeBuffer(t){this.cloudpilot.Free(t)}setHotsyncNameManagement(t){this.cloudpilot.SetHotsyncNameManagement(t)}resolveBuffer(t,r){const n=this.module.getPointer(t);return this.module.HEAPU8.subarray(n,n+r)}withZipfileWalker(t,r){var n=this;return(0,F.Z)(function*(){const o=n.guard(()=>{const i=n.copyIn(t),s=new n.module.ZipfileWalker(t.length,i);return n.cloudpilot.Free(i),s});try{return yield r(hP(n.wrap(o),n.module))}finally{n.module.destroy(o)}})()}withZipfileWalkerSync(t,r){const n=this.guard(()=>{const o=this.copyIn(t),i=new this.module.ZipfileWalker(t.length,o);return this.cloudpilot.Free(o),i});try{return r(this.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>this.copyOut(n.GetCurrentEntryContent(),n.GetCurrentEntrySize())},n)))}finally{this.module.destroy(n)}}serializeSessionImage(t){const r=new this.module.SessionImage,n=this.cloudpilot.Nullptr(),o=this.copyIn(t.rom),i=t.memory?this.copyIn(t.memory):n,s=void 0!==t.savestate?this.copyIn(t.savestate):n;let a=n,l=0;if(void 0!==t.metadata){const f=(new TextEncoder).encode(JSON.stringify(t.metadata));l=f.length,a=this.copyIn(f)}r.SetRomImage(o,t.rom.length),r.SetMemoryImage(i,t.memory?.length||0),r.SetDeviceId(t.deviceId),r.SetSavestate(s,t.savestate?.length||0),r.SetMetadata(a,l);const c=r.Serialize()?this.copyOut(r.GetSerializedImage(),r.GetSerializedImageSize()):void 0;return this.module.destroy(r),[o,i,s,a].forEach(f=>this.cloudpilot.Free(f)),c}deserializeSessionImage(t){if(!t)return;const r=new this.module.SessionImage,n=this.copyIn(t),o=(()=>{if(!r.Deserialize(n,t.length))return;const i=this.copyOut(r.GetRomImage(),r.GetRomImageSize()),s=this.copyOut(r.GetMemoryImage(),r.GetMemoryImageSize()),a=this.copyOut(r.GetSavestate(),r.GetSavestateSize()),l=r.GetDeviceId();if(!mP.includes(l))return void console.warn(`unsupported device ${l}`);let c;const f=this.copyOut(r.GetMetadata(),r.GetMetadataSize());if(f)try{c=JSON.parse((new TextDecoder).decode(f))}catch(p){console.warn("invalid metadata",p)}return{deviceId:l,rom:i,memory:s,savestate:a,metadata:c,version:r.GetVersion()}})();return this.module.destroy(r),this.cloudpilot.Free(n),o}launchAppByName(t){return this.cloudpilot.LaunchAppByName(t)}launchAppByDbHeader(t){if(t.length<32)return!1;const r=this.copyIn(t.subarray(0,32)),n=this.cloudpilot.LaunchAppByDbHeader(r,32);return this.cloudpilot.Free(r),n}deviceSupportsCardSize(t){return this.cloudpilot.DeviceSupportsCardSize(t)}clearExternalStorage(){this.cloudpilot.ClearExternalStorage()}allocateCard(t,r){return this.cloudpilot.AllocateCard(t,r>>>9)}decompressCard(t,r){const n=this.copyIn(r);let o;try{for(o=new this.module.GunzipContext(n,r.length,524288);0===o.GetState();)o.Continue();return-1===o.GetState()?(console.error(`gunzip failed: ${o.GetError()}`),!1):o.GetUncompressedSize()%512!=0?(console.error("failed to allocate card: invalid size of decompressed image"),!1):this.cloudpilot.AdoptCard(t,o.ReleaseUncompressedData(),o.GetUncompressedSize()>>>9)}finally{this.cloudpilot.Free(n),o&&this.module.destroy(o)}}getCardData(t){const r=this.module.getPointer(this.cloudpilot.GetCardData(t));if(0!==r)return this.module.HEAPU32.subarray(r>>>2,r+this.cloudpilot.GetCardSize(t)>>2)}getCardDirtyPages(t){const r=this.module.getPointer(this.cloudpilot.GetCardDirtyPages(t));if(0===r)return;const n=dS(this.cloudpilot.GetCardSize(t));return this.module.HEAPU8.subarray(r,r+n)}getMountedKey(){return this.cloudpilot.GetMountedKey()}mountCard(t){return this.cloudpilot.MountCard(t)}removeCard(t){return this.cloudpilot.RemoveCard(t)}remountCards(){this.cloudpilot.RemountCards()}getCardSupportLevel(t){return this.cloudpilot.GetSupportLevel(t)}loadSkin(t){const r=new this.module.SkinLoader(t);try{const n=this.module.getPointer(r.GetData());return 0===n?void 0:(new TextDecoder).decode(this.module.HEAPU8.subarray(n,n+r.GetSize()))}finally{this.module.destroy(r)}}getTransportIR(){return this.transportIR}getTransportSerial(){return this.transportSerial}guard(t){if(this.amIdead)throw new Error("cloudpilot instance is dead");try{return t()}catch(r){throw this.amIdead=!0,this.cloudpilot=void 0,this.fatalErrorEvent.dispatch(r instanceof Error?r:new Error("unknown error")),r}}copyIn(t){const r=this.cloudpilot.Malloc(t.length),n=this.module.getPointer(r);return this.module.HEAPU8.subarray(n,n+t.length).set(t),r}copyIn32(t){const r=this.cloudpilot.Malloc(t.length<<2),n=this.module.getPointer(r);return this.module.HEAPU32.subarray(n>>>2,(n>>>2)+t.length).set(t),r}copyOut(t,r){const n=this.module.getPointer(t);return n>0&&r>0?this.module.HEAPU8.subarray(n,n+r).slice():void 0}wrap(t){return new Proxy(t,{get:(r,n)=>{const o=r[n];return"function"!=typeof o?o:(...i)=>this.guard(()=>o.apply(r,i))}})}wrapTransport(t){const r=new sr.j;return t.SetRequestTransferCallback(this.module.addFunction(()=>r.dispatch(),"v")),this.wrap(Object.setPrototypeOf({Receive:()=>{const n=t.RxBytesPending();return this.copyOut(t.Receive(),n)},Send:(n,o)=>{const i=n&&this.copyIn(n);t.Send(n?.length??0,i??this.cloudpilot.Nullptr(),o),i&&this.cloudpilot.Free(i)},frameCompleteEvent:r},t))}}re([Rt()],Tt.prototype,"enableLogging",null),re([Rt()],Tt.prototype,"getRomInfo",null),re([Rt()],Tt.prototype,"initializeSession",null),re([Rt()],Tt.prototype,"cyclesPerSecond",null),re([Rt()],Tt.prototype,"runEmulation",null),re([Rt()],Tt.prototype,"getFrame",null),re([Rt()],Tt.prototype,"isScreenDirty",null),re([Rt()],Tt.prototype,"markScreenClean",null),re([Rt()],Tt.prototype,"minRamForDevice",null),re([Rt()],Tt.prototype,"framebufferSizeForDevice",null),re([Rt()],Tt.prototype,"totalMemorySizeForDevice",null),re([Rt()],Tt.prototype,"queuePenMove",null),re([Rt()],Tt.prototype,"queuePenUp",null),re([Rt()],Tt.prototype,"queueButtonDown",null),re([Rt()],Tt.prototype,"queueButtonUp",null),re([Rt()],Tt.prototype,"queueKeyboardEvent",null),re([Rt()],Tt.prototype,"isPowerOff",null),re([Rt()],Tt.prototype,"isUiInitialized",null),re([Rt()],Tt.prototype,"isSetupComplete",null),re([Rt()],Tt.prototype,"getOSVersion",null),re([Rt()],Tt.prototype,"reset",null),re([Rt()],Tt.prototype,"resetNoExtensions",null),re([Rt()],Tt.prototype,"resetHard",null),re([Rt()],Tt.prototype,"installDb",null),re([Rt()],Tt.prototype,"getPalette2bitMapping",null),re([Rt()],Tt.prototype,"getMemory",null),re([Rt()],Tt.prototype,"getMemory32",null),re([Rt()],Tt.prototype,"getDirtyPages",null),re([Rt()],Tt.prototype,"loadMemory",null),re([Rt()],Tt.prototype,"getRomImage",null),re([Rt()],Tt.prototype,"getSavestate",null),re([Rt()],Tt.prototype,"saveState",null),re([Rt()],Tt.prototype,"loadState",null),re([Rt()],Tt.prototype,"getHotsyncName",null),re([Rt()],Tt.prototype,"setClockFactor",null),re([Rt()],Tt.prototype,"setHotsyncName",null),re([Rt()],Tt.prototype,"setClipboardIntegration",null),re([Rt()],Tt.prototype,"getClipboardIntegration",null),re([Rt()],Tt.prototype,"isSuspended",null),re([Rt()],Tt.prototype,"getSuspendKind",null),re([Rt()],Tt.prototype,"cancelSuspend",null),re([Rt()],Tt.prototype,"getSuspendContextClipboardCopy",null),re([Rt()],Tt.prototype,"getSuspendContextClipboardPaste",null),re([Rt()],Tt.prototype,"setNetworkRedirection",null),re([Rt()],Tt.prototype,"getNetworkRedirection",null),re([Rt()],Tt.prototype,"getSuspendContextNetworkConnect",null),re([Rt()],Tt.prototype,"getSuspendContextNetworkRpc",null),re([Rt()],Tt.prototype,"getSuspendContextSerialSync",null),re([Rt()],Tt.prototype,"copyBuffer",null),re([Rt()],Tt.prototype,"freeBuffer",null),re([Rt()],Tt.prototype,"setHotsyncNameManagement",null),re([Rt()],Tt.prototype,"resolveBuffer",null),re([Rt()],Tt.prototype,"serializeSessionImage",null),re([Rt()],Tt.prototype,"deserializeSessionImage",null),re([Rt()],Tt.prototype,"launchAppByName",null),re([Rt()],Tt.prototype,"launchAppByDbHeader",null),re([Rt()],Tt.prototype,"deviceSupportsCardSize",null),re([Rt()],Tt.prototype,"clearExternalStorage",null),re([Rt()],Tt.prototype,"allocateCard",null),re([Rt()],Tt.prototype,"decompressCard",null),re([Rt()],Tt.prototype,"getCardData",null),re([Rt()],Tt.prototype,"getCardDirtyPages",null),re([Rt()],Tt.prototype,"getMountedKey",null),re([Rt()],Tt.prototype,"mountCard",null),re([Rt()],Tt.prototype,"removeCard",null),re([Rt()],Tt.prototype,"remountCards",null),re([Rt()],Tt.prototype,"getCardSupportLevel",null),re([Rt()],Tt.prototype,"loadSkin",null);const tv=new Error("permission denied");let fS=(()=>{var e;class t{constructor(n,o,i){this.alertController=n,this.alertService=o,this.nativeAppService=i,this.clipboardContent="",this.lastClipboardReadAt=performance.now()}isSupported(){return!!navigator.clipboard?.readText&&!!navigator.clipboard?.writeText||ka.supportsNativeClipboard()}handleSuspend(n){switch(n.getSuspendKind()){case 1:this.handleCopy(n);break;case 2:this.handlePaste(n)}}handleCopy(n){var o=this;return(0,F.Z)(function*(){const i=n.getSuspendContextClipboardCopy(),s=i.GetClipboardContent();if(ka.supportsNativeClipboard())try{yield o.nativeAppService.clipboardWrite(s),i.Resume()}catch(a){console.error(a),i.Cancel()}else{try{return yield o.tryCopyDirect(s),void i.Resume()}catch(a){if(a===tv)return i.Cancel(),o.msgPermissionDenied()}try{yield o.tryCopyWithInteraction(s),i.Resume()}catch{yield o.msgCopyFailed(),i.Cancel()}}})()}tryCopyDirect(n){var o=this;return(0,F.Z)(function*(){try{yield navigator.clipboard.writeText(n)}catch(i){throw(yield o.isPermissionDenied("clipboard-write"))?tv:i}})()}tryCopyWithInteraction(n){var o=this;return new Promise(function(){var i=(0,F.Z)(function*(s,a){try{const l=yield o.alertController.create({header:"Confirm Copy",message:"Please confirm that you want to copy to the host clipboard",backdropDismiss:!1,buttons:[{text:"Cancel",handler:()=>{l.dismiss(),s(!1)}},{text:"Copy",handler:(c=(0,F.Z)(function*(){l.dismiss();try{yield navigator.clipboard.writeText(n),s(!0)}catch(f){a(f)}}),function(){return c.apply(this,arguments)})}]});l.present()}catch(l){a(l)}var c});return function(s,a){return i.apply(this,arguments)}}())}handlePaste(n){var o=this;return(0,F.Z)(function*(){const i=n.getSuspendContextClipboardPaste();if(ka.supportsNativeClipboard()){try{i.Resume(yield o.nativeAppService.clipboardRead())}catch(a){console.error(a),i.Resume("")}return}const s=yield o.tryPaste();i.Resume(s??""),void 0!==s&&(o.clipboardContent=s,o.lastClipboardReadAt=performance.now())})()}tryPaste(){var n=this;return(0,F.Z)(function*(){if(performance.now()-n.lastClipboardReadAt<3e3)return n.clipboardContent;try{return yield n.tryPasteDirect()}catch(o){if(o===tv)return void(yield n.msgPermissionDenied())}try{return yield n.tryPasteWithInteraction()}catch{return void(yield n.msgPasteFailed())}})()}tryPasteDirect(){var n=this;return(0,F.Z)(function*(){try{return yield navigator.clipboard.readText()}catch(o){throw(yield n.isPermissionDenied("clipboard-read"))?tv:o}})()}tryPasteWithInteraction(){var n=this;return new Promise(function(){var o=(0,F.Z)(function*(i,s){try{const a=yield n.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard",backdropDismiss:!1,buttons:[{text:"Cancel",handler:()=>{a.dismiss(),i(void 0)}},{text:"Paste",handler:(l=(0,F.Z)(function*(){a.dismiss();try{i(yield navigator.clipboard.readText())}catch(c){s(c)}}),function(){return l.apply(this,arguments)})}]});a.present()}catch(a){s(a)}var l});return function(i,s){return o.apply(this,arguments)}}())}isPermissionDenied(n){return(0,F.Z)(function*(){if(navigator.permissions)try{return"denied"===(yield navigator.permissions.query({name:n}))?.state}catch{return!1}return!1})()}msgPermissionDenied(){return this.alertService.errorMessage(`\n        CloudpilotEmu has no permission to access the clipboard. Please check your browser's settings\n        and grant the necessary permission to ${location.origin} .\n    `)}msgCopyFailed(){return this.alertService.errorMessage("Failed to copy to the host clipboard.")}msgPasteFailed(){return this.alertService.errorMessage("Failed to paste from the host clipboard.")}}return(e=t).\u0275fac=function(n){return new(n||e)(le(B0),le(Fr),le(ka))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const yZ="https:"===window.location.protocol?8667:8666,bZ=/^[\da-z\-\.]+$/i,CZ=/^[\da-z\-\.]+:\d+$/i;function pS(e){if(!e)return;const t=window.location.protocol;if(e.match(bZ))return`${t}//${e}:${yZ}`;if(e.match(CZ))return`${t}//${e}`;try{const r=new URL(e);if("https:"===r.protocol||"http:"===r.protocol)return r.toString().replace(/\/+$/,"")}catch{}}function SZ(e){return void 0!==pS(e.value)?null:{proxyAddress:"invalid"}}class DZ{constructor(t,r,n){this.proxyServer=t,this.alertService=r,this.fetchService=n,this.onSocketMessage=o=>{if(!(o.data instanceof ArrayBuffer))return console.error("ERROR: socket received a text frame"),this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(),void this.unexpectedCloseEvent.dispatch(void 0);this.rpcResultEvent.dispatch(new Uint8Array(o.data))},this.onSocketError=o=>{this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(),this.unexpectedCloseEvent.dispatch(),console.error("ERROR: socket error",o)},this.onSocketClose=()=>{this.alertService.errorMessage("Connection to proxy closed unexpectedly"),this.disconnect(),this.unexpectedCloseEvent.dispatch()},this.rpcResultEvent=new sr.j,this.unexpectedCloseEvent=new sr.j}connect(){var t=this;return(0,F.Z)(function*(){const r=pS(t.proxyServer);if(!r)return yield t.alertService.errorMessage(`Invalid proxy address: ${t.proxyServer}`),!1;const n=yield t.handshake(500);switch(n.status){case"failed":return t.alertService.errorMessage("Failed to connect to proxy."),!1;case"version_mismatch":return yield t.alertService.proxyVersionMismatchError(),!1;case"success":break;default:throw new Error("unreachable")}const o=new WebSocket(`${r.replace(/^http/,"ws")}/network-proxy/connect?token=${encodeURIComponent(n.token)}`);o.binaryType="arraybuffer";const i=setTimeout(()=>o.close(),5e3);let s,a,l;try{return yield new Promise((c,f)=>{s=()=>c(),l=p=>f(p),a=()=>f(new Error("connection timeout")),o.addEventListener("open",s),o.addEventListener("error",l),o.addEventListener("close",a)}),clearTimeout(i),o.addEventListener("error",t.onSocketError),o.addEventListener("message",t.onSocketMessage),o.addEventListener("close",t.onSocketClose),t.socket=o,!0}catch(c){return console.error("socket failed to connect",c),!1}finally{o.removeEventListener("open",s),o.removeEventListener("error",l),o.removeEventListener("close",a)}})()}disconnect(){var t=this;return(0,F.Z)(function*(){t.socket&&(t.socket.removeEventListener("error",t.onSocketError),t.socket.removeEventListener("message",t.onSocketMessage),t.socket.removeEventListener("close",t.onSocketClose),t.socket.close(),t.socket=void 0)})()}handleRpc(t){var r=this;return(0,F.Z)(function*(){return!!r.socket&&(r.socket.send(t),!0)})()}handshake(t=-1){var r=this;return(0,F.Z)(function*(){const n=pS(r.proxyServer);if(!n)return{status:"failed"};try{const o=yield r.fetchService.fetch(`${n}/network-proxy/handshake`,{method:"POST",loaderDelay:t});if(!o.ok)return{status:"failed"};const i=yield o.json();return i.version<3||i.compatVersion>3?{status:"version_mismatch"}:{status:"success",token:i.token}}catch{return{status:"failed"}}})()}}class IZ{constructor(t){this.nativeAppService=t,this.onNetRpcResult=({sessionId:r,rpcData:n})=>r===this.sessionId&&this.rpcResultEvent.dispatch(n),this.rpcResultEvent=new sr.j,this.unexpectedCloseEvent=new sr.j}connect(){var t=this;return(0,F.Z)(function*(){if(void 0!==t.sessionId)throw new Error("session already open");return t.sessionId=yield t.nativeAppService.netOpenSession(),t.nativeAppService.netRpcResult.addHandler(t.onNetRpcResult),!0})()}disconnect(){var t=this;return(0,F.Z)(function*(){void 0!==t.sessionId&&(t.nativeAppService.netRpcResult.removeHandler(t.onNetRpcResult),yield t.nativeAppService.netCloseSession(t.sessionId),t.sessionId=void 0)})()}handleRpc(t){var r=this;return(0,F.Z)(function*(){if(void 0===r.sessionId)throw new Error("no open session");return r.nativeAppService.netDispatchRpc(r.sessionId,t)})()}}let xZ=(()=>{var e;class t{constructor(n){this.kvs=n,this.onContinue=()=>{},this.onCancel=()=>{},this.origin=""}ngOnInit(){this.createFormGroup()}formKeyDown(n){"Enter"===n.key&&this.saveAndContinue()}saveAndContinue(){this.kvs.kvs.credentials={...this.kvs.kvs.credentials,[this.origin]:{username:this.formGroup.get("username")?.value??"",password:this.formGroup.get("password")?.value??""}},this.onContinue()}createFormGroup(){const n=this.kvs.kvs.credentials[this.origin];this.formGroup=new k_({username:new ho(n?.username??""),password:new ho(n?.password??"")})}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Ii))},e.\u0275cmp=Ye({type:e,selectors:[["app-credentials-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel",origin:"origin"},decls:22,vars:1,consts:[["slot","primary"],[3,"click"],["slot","secondary"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter username","formControlName","username"],["placeholder","Enter password","formControlName","password","type","password"]],template:function(n,o){1&n&&(j(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ee(3,"Authenticate"),L(),j(4,"ion-buttons",0)(5,"ion-button",1),Ve("click",function(){return o.saveAndContinue()}),Ee(6,"OK"),L()(),j(7,"ion-buttons",2)(8,"ion-button",1),Ve("click",function(){return o.onCancel()}),Ee(9,"Cancel"),L()()()(),j(10,"ion-content",3)(11,"form",4),Ve("keydown",function(s){return o.formKeyDown(s)}),j(12,"p"),Ee(13," The server requires authentication. "),L(),j(14,"ion-item",5)(15,"ion-label",6),Ee(16,"Username"),L(),Ue(17,"ion-input",7),L(),j(18,"ion-item",5)(19,"ion-label",6),Ee(20,"Password"),L(),Ue(21,"ion-input",8),L()()()),2&n&&(me(11),Se("formGroup",o.formGroup))},dependencies:[ji,Gi,Ui,Hi,Xl,mo,zi,Wi,Zi,Yl,Kl,Zl,ql,Ma,hl],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}"]}),t})(),_P=(()=>{var e;class t{constructor(n,o,i){this.loadingController=n,this.kvsService=o,this.modalController=i}fetch(n,o){var i=this;return(0,F.Z)(function*(){let s=o?.loaderDelay;const a=void 0===o?.timeout?5e3:o?.timeout,l=new(jd())("string"==typeof n?n:n.url);let c,f,p=!1;for(;;)try{c||(c=yield i.loadingController.create({message:"Loading..."})),void 0!==s&&s>0&&void 0===f?f=window.setTimeout(()=>c?.present(),s):c.present();const m=i.kvsService.kvs.credentials[l.origin],C=new AbortController,U=window.setTimeout(()=>C.abort(),a),J=yield fetch(n,{...i.requestInit(o),signal:C.signal,headers:{...o?.headers||{},...p&&m?{Authorization:"Basic "+btoa(`${m.username}:${m.password}`)}:{}}});if(clearTimeout(U),401===J.status){if(!p&&m){p=!0;continue}if(c?.dismiss(),clearTimeout(f),s=0,c=void 0,s=void 0,p=!0,yield i.authenticate(l.origin))continue}return J}finally{c&&(yield c.dismiss()),clearTimeout(f)}})()}requestInit(n){if(!n)return;const{timeout:o,loaderDelay:i,...s}=n;return s}authenticate(n){var o=this;return(0,F.Z)(function*(){const i=yield new Promise(s=>o.modalController.create({component:xZ,backdropDismiss:!1,componentProps:{origin:n,onContinue:()=>s(!0),onCancel:()=>s(!1)}}).then(a=>a.present()));return o.modalController.dismiss(),i})()}}return(e=t).\u0275fac=function(n){return new(n||e)(le(Ls),le(Ii),le(fs))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),vP=(()=>{var e;class t{constructor(n,o,i,s){this.kvsService=n,this.alertService=o,this.fetchService=i,this.nativeAppService=s}createBackendProxy(n=this.kvsService.kvs.proxyServer){return new DZ(n,this.alertService,this.fetchService)}createBackend(){if(this.kvsService.kvs.networkRedirection)return"native"===this.kvsService.kvs.networkRedirectionMode&&ka.supportsNativeNetworkIntegration()?new IZ(this.nativeAppService):this.createBackendProxy()}}return(e=t).\u0275fac=function(n){return new(n||e)(le(Ii),le(Fr),le(_P),le(ka))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),yP=(()=>{var e;class t{constructor(n,o){this.ngZone=n,this.backendFactory=o,this.onProxyDisconnect=()=>{this.reset()},this.onUnexpectedBackendClose=()=>this.reset(),this.onSessionResume=()=>this.resumeEvent.dispatch(),this.resumeEvent=new sr.j}initialize(n){this.cloudpilot=n,n.proxyDisconnectEvent.addHandler(this.onProxyDisconnect)}isConnected(){return void 0!==this.session}reset(){this.session&&(this.session.backend.unexpectedCloseEvent.removeHandler(this.onUnexpectedBackendClose),this.session.resumeEvent.removeHandler(this.onSessionResume),this.session.terminate(),this.ngZone.run(()=>this.session=void 0))}handleSuspend(){if(this.cloudpilot)switch(this.cloudpilot.getSuspendKind()){case 4:this.createNewSession(),this.session?this.session.handleConnect().then(n=>n||this.reset()):4===this.cloudpilot.getSuspendKind()&&this.cloudpilot.getSuspendContextNetworkConnect().Cancel();break;case 3:this.session?this.session.handleRpc():3===this.cloudpilot.getSuspendKind()&&this.cloudpilot.getSuspendContextNetworkRpc().Cancel()}}createNewSession(){this.reset(),this.ngZone.run(()=>this.session=hS.create(this.backendFactory.createBackend(),this.cloudpilot)),this.session&&(this.session.backend.unexpectedCloseEvent.addHandler(this.onUnexpectedBackendClose),this.session.resumeEvent.addHandler(this.onSessionResume))}}return(e=t).\u0275fac=function(n){return new(n||e)(le(Ze),le(vP))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class hS{static create(t,r){if(r&&t)return new hS(t,r)}constructor(t,r){var n=this;this.backend=t,this.handleConnect=()=>this.mutex.runExclusive((0,F.Z)(function*(){try{const o=yield n.backend.connect();return 4===n.cloudpilot?.getSuspendKind()&&(o?n.cloudpilot.getSuspendContextNetworkConnect().Resume():n.cloudpilot.getSuspendContextNetworkConnect().Cancel()),o}catch(o){return console.error("failed to connect to backend",o),4===n.cloudpilot?.getSuspendKind()&&n.cloudpilot.getSuspendContextNetworkConnect().Cancel(),!1}})),this.handleRpc=()=>this.mutex.runExclusive((0,F.Z)(function*(){if(3!==n.cloudpilot?.getSuspendKind())return;const o=n.cloudpilot.getSuspendContextNetworkRpc(),i=n.cloudpilot.resolveBuffer(o.GetRequestData(),o.GetRequestSize());try{!(yield n.backend.handleRpc(i))&&3===n.cloudpilot?.getSuspendKind()&&n.cloudpilot.getSuspendContextNetworkRpc().Cancel()}catch(s){console.error("failed to process rpc request",s),3===n.cloudpilot?.getSuspendKind()&&n.cloudpilot.getSuspendContextNetworkRpc().Cancel()}})),this.disconnect=()=>{this.mutex.runExclusive((0,F.Z)(function*(){n.backend&&(yield n.backend.disconnect())}))},this.onRpcResult=o=>{if(!this.cloudpilot)return;if(3!==this.cloudpilot.getSuspendKind())return void console.error("ERROR: socket received message, but emulation is not waiting for rpc");const i=this.cloudpilot.copyBuffer(o);this.cloudpilot.getSuspendContextNetworkRpc().ReceiveResponse(i,o.length),this.cloudpilot.freeBuffer(i),this.resumeEvent.dispatch()},this.resumeEvent=new sr.j,this.mutex=new Aa,this.cloudpilot=r,t.rpcResultEvent.addHandler(this.onRpcResult)}terminate(){this.cloudpilot=void 0,this.backend.rpcResultEvent.removeHandler(this.onRpcResult),this.disconnect()}}let bP=(()=>{var e;class t{constructor(){this.buttons=new Map}reset(n){this.cloudpilot=n,this.buttons.clear(),[6,7].forEach(o=>n.queueButtonUp(o))}engage(n){this.cloudpilot&&(this.buttons.has(n)?this.buttons.get(n).timer=0:(this.buttons.set(n,{button:n,timer:0}),this.cloudpilot?.queueButtonDown(n)))}tick(n){if(this.cloudpilot)for(const[o,i]of this.buttons)i.timer+=1e3*n,i.timer>250&&(this.cloudpilot.queueButtonUp(o),this.buttons.delete(o))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),CP=(()=>{var e;class t{constructor(){this.hasRenderedPromise=new Promise(n=>this.hasRenderedResolve=n)}notifyHasRendered(){this.hasRenderedResolve()}hasRendered(){return this.hasRenderedPromise}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const AZ=S.p+"wasm/cloudpilot_web-402f8b0af2b27d37.wasm";let Ra=(()=>{var e;class t{constructor(){this.cloudpilot=Tt.create(AZ),this.cloudpilot.then(n=>this.cloudpilotInstance=n),window.__cp_enableLogging=n=>this.cloudpilotInstance?.enableLogging(n)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var kZ=S(3097),hf=S.n(kZ);const mS=524288;class gS{constructor(t,r){if(this.module=t,this.nativeContext=new t.CreateZipContext,!this.nativeContext.Initialize(r))throw new Error(`failed to initialize context: ${this.nativeContext.GetLastError()}`);const n=new t.FSTools;this.chunkBufferPtr=n.Malloc(mS),t.destroy(n)}static create(t,r){return(0,F.Z)(function*(){return new gS(yield hf()({print:n=>console.log(n),printErr:n=>console.error(n),instantiateWasm:r}),t)})()}addEntry(t,r){var n=this;return(0,F.Z)(function*(){if(!n.nativeContext.AddEntry(t))throw new Error(`failed to add entry: ${n.nativeContext.GetLastError()}`);const o=n.module.getPointer(n.chunkBufferPtr);for(let i=0;i<r.length;i+=mS){i>0&&(yield new Promise(l=>setTimeout(l,0)));const s=Math.min(r.length-i,mS);if(n.module.HEAPU8.subarray(o,o+s).set(r.subarray(i,i+s)),!n.nativeContext.WriteData(n.chunkBufferPtr,s))throw new Error(`failed to add ${s} bytes to zip: ${n.nativeContext.GetLastError()}`)}})()}getContent(){const t=this.module.getPointer(this.nativeContext.GetZipData());if(!t)throw new Error(`unable to obtain zip data: ${this.nativeContext.GetLastError()}`);return this.module.HEAPU8.subarray(t,t+this.nativeContext.GetZipDataSize())}}class _S{constructor(t){this.module=t,this.nativeContext=new t.MkfsContext}static create(t){return(0,F.Z)(function*(){return new _S(yield hf()({print:r=>console.log(r),printErr:r=>console.error(r),instantiateWasm:t}))})()}mkfs(t){return this.nativeContext.Mkfs(t,"card")}getImage(){const t=this.nativeContext.GetImageSize(),r=this.module.getPointer(this.nativeContext.GetImage());if(0!==t&&0!==r)return this.module.HEAPU32.subarray(r>>>2,r+t>>>2)}}class vS{constructor(t,r){this.module=t,this.result=0,this.nativeContext=new t.FsckContext(r>>>9)}static create(t,r){return(0,F.Z)(function*(){const n=yield hf()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:r});return new vS(n,t)})()}getImageData(){const t=this.nativeContext.GetImageSize(),r=this.module.getPointer(this.nativeContext.GetImage());return this.module.HEAPU32.subarray(r>>>2,r+t>>2)}getDirtyPages(){const t=this.module.getPointer(this.nativeContext.GetDirtyPages()),r=dS(this.nativeContext.GetImageSize());return this.module.HEAPU8.subarray(t,t+r)}fsck(){if(0!==this.result)return this.result;try{return this.result=this.nativeContext.Fsck(),this.result}catch(t){return console.warn("fsck failed",t),this.result=4,this.result}}getResult(){return this.result}}class nv{constructor(t,r){this.module=t,r&&this.initialize(r)}static create(t,r){return(0,F.Z)(function*(){const n=yield hf()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:t});return new nv(n,r)})()}initialize(t){this.nativeContext&&this.module.destroy(this.nativeContext);const r=new this.module.FSTools;this.bufferPtr&&r.Free(this.bufferPtr),this.bufferPtr=r.Malloc(t.length);const n=this.module.getPointer(this.bufferPtr);this.module.HEAPU8.subarray(n,n+t.length).set(t),this.module.destroy(r),this.nativeContext=new this.module.GunzipContext(this.bufferPtr,t.length,524288)}gunzip(){var t=this;return(0,F.Z)(function*(){const r=t.getNativeContext();for(;0===r.Continue();)yield new Promise(n=>setTimeout(n,0));return-1!==r.GetState()||(console.error(`gunzip failed: ${r.GetError()}`),!1)})()}getDecompressedData(){const t=this.getNativeContext(),r=t.GetUncompressedSize(),n=t.GetUncompressedData(),o=this.module.getPointer(n);return this.module.HEAPU8.subarray(o,o+r)}getNativeContext(){if(!this.nativeContext)throw new Error("gunzip context not initialized");return this.nativeContext}}class yS{constructor(t,r){this.module=t,void 0!==r&&this.initialize(r)}static create(t,r){return(0,F.Z)(function*(){const n=yield hf()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:t});return new yS(n,r)})()}initialize(t){this.nativeContext&&this.module.destroy(this.nativeContext);const r=new this.module.FSTools;this.bufferPtr&&r.Free(this.bufferPtr),this.bufferPtr=r.Malloc(t),this.uncompressedDataSize=t,this.module.destroy(r),this.nativeContext=new this.module.GzipContext(this.bufferPtr,t,524288)}getBuffer(){if(!this.bufferPtr||void 0===this.uncompressedDataSize)throw new Error("gzip context not initialized");const t=this.module.getPointer(this.bufferPtr);return this.module.HEAPU8.subarray(t,t+this.uncompressedDataSize)}setFilename(t){return this.getNativeContext().SetFilename(t),this}setMtime(t){return this.getNativeContext().SetMtime(t),this}gzip(){var t=this;return(0,F.Z)(function*(){const r=t.getNativeContext();for(r.Continue();1===r.Continue();)yield new Promise(n=>setTimeout(n,0));return-1!==r.GetState()||(console.error(`gzip failed: ${r.GetError()}`),!1)})()}getGzipData(){const t=this.getNativeContext(),r=t.GetGzipSize(),n=t.GetGzipData(),o=this.module.getPointer(n);return this.module.HEAPU8.subarray(o,o+r)}getNativeContext(){if(!this.nativeContext)throw new Error("gzip context not initialized");return this.nativeContext}}const SP=new Map;class FZ{constructor(t="fstools_web.wasm"){let r=SP.get(t);r||(r=function RZ(e){const t=WebAssembly.compileStreaming?WebAssembly.compileStreaming(fetch(e)):fetch(e).then(r=>r.arrayBuffer()).then(r=>WebAssembly.compile(r));return function(){var r=(0,F.Z)(function*(n,o){return o(yield WebAssembly.instantiate(yield t,n))});return function(n,o){return r.apply(this,arguments)}}()}(t),SP.set(t,r)),this.instantiante=r}mkfs(t){var r=this;return(0,F.Z)(function*(){const n=yield _S.create(r.instantiante);if(n.mkfs(t))return n.getImage()})()}gunzip(t){var r=this;return(0,F.Z)(function*(){const n=yield nv.create(r.instantiante,t);if(yield n.gunzip())return n.getDecompressedData()})()}createGunzipContext(t){return nv.create(this.instantiante,t)}createGzipContext(t){return yS.create(this.instantiante,t)}createFsckContext(t){return vS.create(t,this.instantiante)}createZipContext(t){return gS.create(t,this.instantiante)}createZipfileWalker(t){var r=this;return(0,F.Z)(function*(){const n=yield hf()({print:a=>console.log(a),printErr:a=>console.error(a),instantiateWasm:r.instantiante}),o=new n.FSTools,i=o.Malloc(t.length),s=n.getPointer(i);return n.HEAPU8.subarray(s,s+t.length).set(t),n.destroy(o),hP(new n.ZipfileWalker(t.length,i),n)})()}}var dr=function(e){return e.dirty="dirty",e.clean="clean",e.unformatted="unformatted",e.unfixable="unfixable",e}(dr||{});function mf(e,t){let r=e,n=1;for(;t(r);)r=`${e} (${n++})`;return r}function gf(e){const t=new Date;return`${e}_${t.getFullYear()}${(t.getMonth()+1).toString().padStart(2,"0")}${t.getDate().toString().padStart(2,"0")}-${t.getHours().toString().padStart(2,"0")}${t.getMinutes().toString().padStart(2,"0")}${t.getSeconds().toString().padStart(2,"0")}`}function bS(e){return`${gf(e.name)}.img`}function wP(e,t){return`backup_${gf(e.name)}${t?"_with_rom":""}.zip`}function CS(e,t=3){return 0===e.length?"":1===e.length?e[0]:`${e.slice(0,e.length>t?t:e.length-1).join(", ")} and ${e.length>t?e.length-t+" more files":e[e.length-1]}`}var Ar=function(e){return e.portrait="portrait",e.landscape90="landscape90",e.landscape270="landscape270",e.portrait180="portrait180",e}(Ar||{});function rv(e){const{name:t,hotsyncName:r,osVersion:n,dontManageHotsyncName:o,speed:i,deviceOrientation:s}=e;return{name:t,hotsyncName:r,osVersion:n,dontManageHotsyncName:o,speed:i,deviceOrientation:s}}const VZ=S.p+"wasm/fstools_web-62c08291f8fe375b.wasm";let ov=(()=>{var e;class t extends FZ{constructor(){super(VZ)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function jZ(e,t){1&e&&(j(0,"p",10),Ee(1," ERROR: URL must be served via HTTPS. "),L())}function GZ(e){if(!e.value)return{url:"URL empty"};let t;try{t=new(jd())(e.value)}catch{return{url:"URL invalid"}}return"https:"===location.protocol&&"https:"!==t.protocol?{url:"mixed content"}:null}let UZ=(()=>{var e;class t{constructor(){this.onContinue=()=>{},this.onCancel=()=>{}}ngOnInit(){this.createFormGroup()}formKeyDown(n){"Enter"===n.key&&this.continue()}continue(){this.onContinue(new(jd())(this.formGroup.get("url")?.value).toString())}get isMixedContent(){const n=this.formGroup.get("url")?.value;if(!n)return!1;try{const o=new(jd())(n);return"https:"===location.protocol&&"https:"!==o.protocol}catch{}return!1}createFormGroup(){this.formGroup=new k_({url:new ho("",GZ)})}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ye({type:e,selectors:[["app-remote-url-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel"},decls:21,vars:3,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter URL","formControlName","url"],["class","error",4,"ngIf"],[1,"error"]],template:function(n,o){1&n&&(j(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ee(3,"Enter download URL"),L(),j(4,"ion-buttons",0)(5,"ion-button",1),Ve("click",function(){return o.continue()}),Ee(6,"OK"),L()(),j(7,"ion-buttons",2)(8,"ion-button",3),Ve("click",function(){return o.onCancel()}),Ee(9,"Cancel"),L()()()(),j(10,"ion-content",4)(11,"form",5),Ve("keydown",function(s){return o.formKeyDown(s)}),j(12,"p"),Ee(13," Please enter the URL from which to download: "),L(),j(14,"ion-item",6)(15,"ion-label",7),Ee(16,"URL"),L(),Ue(17,"ion-input",8),L(),Vt(18,jZ,2,0,"p",9),j(19,"p"),Ee(20," Note that the remote server needs to support the CORS protocol. "),L()()()),2&n&&(me(5),Se("disabled",o.formGroup.invalid),me(6),Se("formGroup",o.formGroup),me(7),Se("ngIf",o.isMixedContent))},dependencies:[Eo,ji,Gi,Ui,Hi,Xl,mo,zi,Wi,Zi,Yl,Kl,Zl,ql,Ma,hl],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}.error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]}),t})(),Kc=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f){this.storageService=n,this.loadingController=o,this.actionSheetController=i,this.kvsService=s,this.modalController=a,this.alertService=l,this.fetchService=c,this.cloudpilotService=f}openFile(n){this.openFilesImpl(!1,o=>{o.length>0&&n(o[0])})}openFiles(n){this.openFilesImpl(!0,n)}openFromDrop(n,o){"drop"!==n.type||!n.dataTransfer?.files||o(Array.from(n.dataTransfer.files).map(this.readFile.bind(this)))}emergencySaveSession(n){var o=this;return(0,F.Z)(function*(){const i=yield o.cloudpilotService.cloudpilot,s=yield o.loadingController.create({message:"Exporting..."});s.style.zIndex="10000000",yield s.present();try{const a=i.getRomImage().slice(),l=i.getMemory().slice(),c=i.saveState()?i.getSavestate().slice():void 0;if(i.framebufferSizeForDevice(n.device)<0)throw new Error(`invalid device ID ${n.device}`);const p={deviceId:n.device,metadata:rv(n),rom:a,memory:l,savestate:c},m=(yield o.cloudpilotService.cloudpilot).serializeSessionImage(p);m&&o.saveFile(bS(n),m)}finally{s.dismiss()}})()}saveFile(n,o,i="application/octet-stream"){const s=new Blob([o],{type:i}),a=URL.createObjectURL(s),l=document.createElement("a");l.href=a,l.download=n,l.click()}openUrl(n,o){var i=this;return(0,F.Z)(function*(){let s;try{s=new(jd())(n)}catch{return void(yield i.alertService.errorMessage(`Invalid URL: ${n}`))}try{const a=yield i.fetchService.fetch(n);if(!a.ok)throw new Error("request failed");const l=yield i.loadingController.create({message:"Loading..."});l.present();const c=a.arrayBuffer().then(f=>new Uint8Array(f));return c.finally(()=>l.dismiss()),void o({name:s.pathname.replace(/.*\//,""),getContent:()=>c})}catch{yield i.alertService.errorMessage(`Download from ${n} failed.`)}})()}serializeSession(n){var o=this;return(0,F.Z)(function*(){const[i,s,a]=yield o.storageService.loadSession(n,!1);if(!i)throw new Error(`invalid ROM ${n.rom}`);const l={deviceId:n.device,metadata:rv(n),rom:i,memory:s,savestate:a};return(yield o.cloudpilotService.cloudpilot).serializeSessionImage(l)})()}openFilesImpl(n,o){var i=this;return(0,F.Z)(function*(){i.kvsService.kvs.enableRemoteInstall?(yield i.actionSheetController.create({header:"What source do you want to open?",buttons:[{text:"Local files",handler:()=>i.openFilesLocal(n,o)},{text:"File on remote server",handler:()=>i.queryAndOpenFileRemote(o)},{text:"Cancel"}]})).present():i.openFilesLocal(n,o)})()}queryAndOpenFileRemote(n){var o=this;return(0,F.Z)(function*(){let i;try{i=yield new Promise((s,a)=>o.modalController.create({component:UZ,backdropDismiss:!1,componentProps:{onContinue:s,onCancel:a}}).then(l=>l.present()))}catch{return}finally{o.modalController.dismiss()}yield o.openUrl(i,s=>n([s]))})()}openFilesLocal(n,o){var i=this;const s=wh||LR;s&&this.input&&document.body.removeChild(this.input),this.input=document.createElement("input"),this.input.multiple=n,this.input.type="file",go&&(this.input.accept="application/octet-stream"),this.input.addEventListener("change",function(){var a=(0,F.Z)(function*(l){const c=l.target;c?.files&&o(Array.from(c.files).map(i.readFile.bind(i)))});return function(l){return a.apply(this,arguments)}}()),s&&(this.input.style.display="none",document.body.appendChild(this.input)),this.input.click()}readFile(n){let o;const i=function(){var s=(0,F.Z)(function*(){return o||(o=new Promise((a,l)=>{const c=new FileReader;c.onload=()=>a(new Uint8Array(c.result)),c.onerror=()=>{console.warn(c.error),l(c.error)},c.readAsArrayBuffer(n)}),o)});return function(){return s.apply(this,arguments)}}();return{name:n.name,getContent:i}}}return(e=t).\u0275fac=function(n){return new(n||e)(le(qn),le(Ls),le(yh),le(Ii),le(fs),le(Fr),le(_P),le(Ra))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class EP extends Error{constructor(t){super(t)}}let nc=(()=>{var e;class t{constructor(n,o,i,s,a,l){this.cloudpilotService=n,this.storageService=o,this.loadingController=i,this.fsTools=s,this.alertService=a,this.fileService=l,this.sessions=[],this.loading=!0,this.updateMutex=new Aa,this.updateSessionsFromStorage().then(()=>this.loading=!1),this.storageService.sessionChangeEvent.addHandler(this.updateSessionsFromStorage.bind(this))}isLoading(){return this.loading}addSessionFromImage(n,o,i={}){var s=this;return(0,F.Z)(function*(){const a=yield s.loadingController.create({message:"Importing..."});yield a.present();try{return s.doAddSessionFromImage(n,o,i)}finally{yield a.dismiss()}})()}addSessionsFromArchive(n){var o=this;return(0,F.Z)(function*(){const i=yield o.loadingController.create({message:"Importing..."});yield i.present();try{const s=yield o.cloudpilotService.cloudpilot,a=yield o.fsTools.createZipfileWalker(n);if(-1===a.GetState())return void(yield o.alertService.errorMessage("Import failed: unable to read zip file."));const l=a.GetTotalEntries(),c=new Set(o.sessions.map(C=>C.name));let f=1,p=!1;const m=[];for(;0===a.GetState();)try{i.message=`Importing ${f++}/${l}...`;const C=/\.(bin|img)$/i.test(a.GetCurrentEntryName())?s.deserializeSessionImage(a.GetCurrentEntryContent()):void 0;if(!C)throw new EP(`${a.GetCurrentEntryName()} is not a valid session.`);const U=mf(C.metadata?.name??a.GetCurrentEntryName(),J=>c.has(J));yield o.doAddSessionFromImage(C,U,C.metadata)}catch(C){if(!(C instanceof EP))throw C;m.push(a.GetCurrentEntryName()),p||(p=yield o.alertService.messageWithChoice("Error",C.message,"Skip further errors",p,{},"Continue"))}finally{a.Next()}m.length<=3&&m.length>0?yield o.alertService.errorMessage(`The following files could not be imported: <br><br>${m.join("<br>")}`):m.length>3&&(yield o.alertService.errorMessage(`\n                        The following files could not be imported: <br><br>${m.slice(0,3).join("<br>")}\n                        <br><br>\n                        and ${m.length-3} more files.\n                    `))}catch(s){yield i.dismiss(),yield o.alertService.errorMessage(`Failed to import sessions: ${s?.message??"unknown error"}.`)}finally{i.dismiss()}})()}addSessionFromRom(n,o,i,s={}){var a=this;return(0,F.Z)(function*(){const l={hotsyncName:"",dontManageHotsyncName:!1,speed:1,deviceOrientation:Ar.portrait,...s,id:-1,name:o,device:i,ram:(yield a.cloudpilotService.cloudpilot).minRamForDevice(i)/1024/1024,rom:""},c=yield a.loadingController.create({message:"Importing..."});yield c.present();const f=yield a.storageService.addSession(l,n);return yield a.updateSessionsFromStorage(),yield c.dismiss(),f})()}getSessions(){return this.sessions}deleteSession(n){var o=this;return(0,F.Z)(function*(){yield o.storageService.deleteSession(n)})()}updateSession(n){var o=this;return(0,F.Z)(function*(){yield o.storageService.updateSession(n)})()}saveSession(n){var o=this;return(0,F.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."});yield i.present();try{const s=yield o.serializeSession(n);s?o.fileService.saveFile(bS(n),s):(yield i.dismiss(),o.alertService.errorMessage("Failed to save session."))}finally{i.dismiss()}})()}saveSessions(n){var o=this;return(0,F.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."});yield i.present();const s=yield o.fsTools.createZipContext(0),a=new Set;try{let l=1;for(const c of n){i.message=`Exporting ${l++}/${n.length}...`;const f=yield o.serializeSession(c);if(f){const p=mf(c.name.replace(/[\/\\]/,"_").substring(0,200),m=>a.has(m));a.add(p),yield s.addEntry(p+".img",f)}else yield o.alertService.errorMessage(`Failed  to export session '${c.name}'.`,"Continue")}o.fileService.saveFile(function LZ(){return`${gf("sessions")}.zip`}(),s.getContent())}catch(l){o.alertService.errorMessage(`Failed to export sessions: ${l.message??"unknown error"}`)}finally{i.dismiss()}})()}emergencySaveSession(n){var o=this;return(0,F.Z)(function*(){const i=yield o.cloudpilotService.cloudpilot,s=yield o.loadingController.create({message:"Exporting..."});s.style.zIndex="10000000",yield s.present();try{const a=i.getRomImage().slice(),l=i.getMemory().slice(),c=i.saveState()?i.getSavestate().slice():void 0;if(i.framebufferSizeForDevice(n.device)<0)throw new Error(`invalid device ID ${n.device}`);const p={deviceId:n.device,metadata:rv(n),rom:a,memory:l,savestate:c},m=(yield o.cloudpilotService.cloudpilot).serializeSessionImage(p);m&&o.fileService.saveFile(bS(n),m)}finally{s.dismiss()}})()}serializeSession(n){var o=this;return(0,F.Z)(function*(){const[i,s,a]=yield o.storageService.loadSession(n,!1);if(!i)throw new Error(`invalid ROM ${n.rom}`);const l={deviceId:n.device,metadata:rv(n),rom:i,memory:s,savestate:a};return(yield o.cloudpilotService.cloudpilot).serializeSessionImage(l)})()}updateSessionsFromStorage(){var n=this;return(0,F.Z)(function*(){n.sessions=yield n.updateMutex.runExclusive((0,F.Z)(function*(){return(yield n.storageService.getAllSessions()).sort((o,i)=>o.name.localeCompare(i.name))}))})()}doAddSessionFromImage(n,o,i={}){var s=this;return(0,F.Z)(function*(){const a={hotsyncName:n.metadata?.hotsyncName,dontManageHotsyncName:!1,speed:1,deviceOrientation:Ar.portrait,...i,id:-1,name:o,device:n.deviceId,ram:(yield s.cloudpilotService.cloudpilot).minRamForDevice(n.deviceId)/1024/1024,rom:"",osVersion:n?.metadata?.osVersion},l=yield s.storageService.addSession(a,n.rom,n.memory,n.savestate);return yield s.updateSessionsFromStorage(),l})()}}return(e=t).\u0275fac=function(n){return new(n||e)(le(Ra),le(qn),le(Ls),le(ov),le(Fr),le(Kc))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var HZ=S(8886),zZ=S.n(HZ),yl=function(e){return e[e.success=0]="success",e[e.zipfileError=1]="zipfileError",e[e.ioError=2]="ioError",e[e.cardFull=3]="cardFull",e}(yl||{}),Lu=function(e){return e[e.success=0]="success",e[e.ioError=1]="ioError",e[e.cardFull=2]="cardFull",e}(Lu||{});function WZ(e){return{readonly:0!=(1&e),hidden:0!=(2&e),system:0!=(4&e)}}function DP(e,t){const r=e.GetName(),n=e.GetModifiedTS();return{path:t,name:r,size:e.GetSize(),lastModifiedTS:n,lastModifiedLocalDate:new Date(1e3*n).toLocaleDateString(),isDirectory:e.IsDirectory(),attributes:WZ(e.GetAttributes())}}class SS{constructor(t){this.module=t,this.vfsNative=new t.Vfs}static create(t){return(0,F.Z)(function*(){return new SS(yield zZ()({print:r=>console.log(r),printErr:r=>console.error(r),...void 0===t?{}:{locateFile:()=>t}}))})()}allocateImage(t){this.vfsNative.AllocateImage(t>>>9)}mountImage(t){return this.vfsNative.MountImage(t)}unmountImage(t){this.vfsNative.UnmountImage(t)}getPendingImage(){const t=this.module.getPointer(this.vfsNative.GetPendingImage()),r=this.vfsNative.GetPendingImageSize();if(0!==t&&0!==r)return this.module.HEAPU32.subarray(t>>>2,t+r>>>2)}getImageInSlot(t){const r=this.module.getPointer(this.vfsNative.GetImage(t)),n=this.vfsNative.GetSize(t);if(0!==r&&0!==n)return this.module.HEAPU32.subarray(r>>>2,r+n>>>2)}getDirtyPagesForSlot(t){const r=this.module.getPointer(this.vfsNative.GetDirtyPages(t));if(0===r)return;const n=dS(this.vfsNative.GetSize(t));return this.module.HEAPU8.subarray(r,r+n)}readdir(t){const r=new this.module.ReaddirContext(t);try{const n=[];for(;0===r.GetStatus();){const o=r.GetEntry();n.push(DP(o,`${t.replace(/\/*$/,"")}/${o.GetName()}`)),r.Next()}if(2===r.GetStatus()){console.warn(`readdir failed: ${r.GetErrorDescription()}`);const o=r.GetError();return{error:0===o?2:o,reason:r.GetErrorDescription()}}return{error:0,entries:n}}finally{this.module.destroy(r)}}rename(t,r){return this.vfsNative.RenameFile(t,r)}chmod(t,r){let n=0,o=0;const i=(s,a)=>{void 0!==s&&(o|=a,s&&(n|=a))};return i(r.hidden,2),i(r.readonly,1),i(r.system,4),this.vfsNative.ChmodFile(t,n,o)}stat(t){const r=this.vfsNative.StatFile(t);return 0!==r?{result:r,entry:void 0}:{entry:DP(this.vfsNative.GetEntry(),t),result:r}}bytesFree(t){return this.vfsNative.BytesFree(t)}bytesTotal(t){return this.vfsNative.BytesTotal(t)}readFile(t){if(!this.vfsNative.ReadFile(t))return;const r=this.module.getPointer(this.vfsNative.GetCurrentFileContent()),n=this.vfsNative.GetCurrentFileSize(),o=this.module.HEAPU8.subarray(r,r+n).slice();return this.vfsNative.ReleaseCurrentFile(),o}unlinkFile(t){return this.vfsNative.UnlinkFile(t)}mkdir(t){return this.vfsNative.Mkdir(t)}switchSlot(t){this.vfsNative.SwitchSlot(t)}createZipArchive({files:t,directories:r,prefix:n}){var o=this;return(0,F.Z)(function*(){const i=new o.module.ExportZipContext(n,25),s=[];try{for(t&&t.forEach(f=>i.AddFile(f)),r&&r.forEach(f=>i.AddDirectory(f));2!==i.GetState();){switch(i.Continue()){case-2:case-1:s.push(i.GetErrorItem())}2!==i.GetState()&&(yield new Promise(f=>setTimeout(f,0)))}let a;const l=o.module.getPointer(i.GetZipContent()),c=i.GetZipSize();return 0!==l&&0!==c&&(a=o.module.HEAPU8.subarray(l,l+c).slice()),{archive:a,failedItems:s}}finally{o.module.destroy(i)}})()}deleteRecursive(t){var r=this;return(0,F.Z)(function*(){const n=new r.module.DeleteRecursiveContext(25);try{for(t.forEach(o=>n.AddFile(o));1===n.Continue();)yield new Promise(o=>setTimeout(o,0));return 2===n.GetState()?{success:!0}:{success:!1,failingItem:n.GetFailingPath()}}finally{r.module.destroy(n)}})()}writeFile(t,r){const n=this.copyIn(r);try{return this.vfsNative.WriteFile(t,r.length,n)}finally{this.vfsNative.Free(n)}}unzipArchive(t,r,n){var o=this;return(0,F.Z)(function*(){const i=o.copyIn(r),s=new o.module.UnzipContext(25,t,i,r.length),a=l=>({result:l,entriesTotal:s.GetEntriesTotal(),entriesSuccess:s.GetEntriesSuccess()});try{for(;;)switch(yield new Promise(c=>setTimeout(c,0)),s.GetState()){case 1:return a(yl.success);case-3:return a(yl.cardFull);case-1:return a(yl.ioError);case-2:return a(yl.zipfileError);case 2:(yield n.onFileCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;case 4:(yield n.onDirectoryCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;default:s.Continue()}}finally{o.module.destroy(s),o.vfsNative.Free(i)}})()}paste(t,r,n,o,i){var s=this;return(0,F.Z)(function*(){const a=new s.module.PasteContext(25,t,r);n.forEach(l=>a.AddFile(l)),a.SetDeleteAfterCopy("cut"===o);try{for(;;)switch(yield new Promise(c=>setTimeout(c,0)),a.GetState()){case 1:return Lu.success;case-2:return Lu.cardFull;case-1:return Lu.ioError;case 2:(yield i.onFileCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;case 4:(yield i.onDirectoryCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;default:a.Continue()}}finally{s.module.destroy(a)}})()}copyIn(t){const r=this.vfsNative.Malloc(t.length),n=this.module.getPointer(r);return this.module.HEAPU8.subarray(n,n+t.length).set(t),r}}var ZZ=S(307),IP=S.n(ZZ);function xP(e){return 0===e.length?e:e[0].toUpperCase()+e.substring(1)}const qZ=S.p+"wasm/vfs_web-6eeaf57052f84b84.wasm";let $u=(()=>{var e;class t{constructor(n,o,i,s,a){this.storageService=n,this.storageCardContext=o,this.fileService=i,this.loadingController=s,this.alertService=a,this.onReleaseCard=new sr.j,this.mountedCards=new Array(2),this.primarySlot=0,this.vfs=SS.create(qZ),this.directoryCache=new Map,this.bytesFree=0,this.bytesTotal=0,this.clipboard=void 0,this.clipboardSet=new Set,this.vfs.then(l=>this.vfsInstance=l)}setStorageCardService(n){this.storageCardService=n,n.mountCardEvent.addHandler(this.invalidateClipboardForCard.bind(this)),n.deleteCardEvent.addHandler(this.invalidateClipboardForCard.bind(this))}normalizePath(n){return("/"+n).replace(/\/{2,}/g,"/").replace(/\/*$/,"")}splitPath(n){return this.normalizePath(n).replace(/^\/+/,"").split("/")}dirname(n){return this.normalizePath(n).replace(/\/[^\/]*$/,"")}isFilenameValid(n){return void 0===n||!/[\/\\]/.test(n)}isEntryInClipboard(n){if(this.clipboard&&this.clipboard.storageId===this.primaryCard?.storageId)return this.clipboardSet.has(n.path)?this.clipboard.operation:void 0}activateCard(n){var o=this;return(0,F.Z)(function*(){if(o.primaryCard?.id!==n){if(o.secondaryCard?.id===n)return o.primarySlot=o.secondarySlot,void(yield o.activatePrimaryCard());throw new Error(`card ${n} not mounted in VFS`)}})()}mountCardUnchecked(n,o,i){var s=this;return(0,F.Z)(function*(){const a=yield s.storageService.getCard(n);if(!a)throw new Error(`no card with id ${n}`);if(s.primaryCard?.id===n||s.secondaryCard?.id===n)throw new Error(`card ${n} already mounted in VFS`);s.storageCardContext.claim(n,br.vfs),s.primaryCard&&s.primaryCard.storageId===s.clipboard?.storageId&&(s.primarySlot=s.secondarySlot),s.primaryCard&&(yield s.releaseCard(s.primaryCard.id));const l=yield s.vfs;l.allocateImage(a.size);const c=l.getPendingImage();if(!c)throw new Error("failed to allocate image");return i?c.set(i):yield s.storageService.loadCardData(n,c,br.vfs),l.mountImage(s.primarySlot)?(s.primaryCard=a,yield s.activatePrimaryCard(),!0):(s.storageCardContext.release(n,br.vfs),!1)})()}releaseCard(n){var o=this;return(0,F.Z)(function*(){let i;if(o.primaryCard?.id===n)i=o.primarySlot;else{if(o.secondaryCard?.id!==n)return;i=o.secondarySlot}(yield o.vfs).unmountImage(i),o.mountedCards[i]=void 0,o.storageCardContext.release(n,br.vfs),o.onReleaseCard.dispatch(n)})()}readdir(n){if(!this.vfsInstance)return[];const o=this.normalizePath(n);if(!this.directoryCache.has(o)){const i=this.vfsInstance.readdir(n);this.directoryCache.set(o,0===i.error?i.entries:[])}return this.directoryCache.get(o)||[]}updateFileEntry(n,o){var i=this;return(0,F.Z)(function*(){const s=yield i.vfs;if(n=i.normalizePath(n),!i.isFilenameValid(o.name))return void(yield i.error("The provided file name is invalid."));const{result:a,entry:l}=s.stat(n);if(0===a)if(void 0===o.attributes||IP()(o.attributes,l.attributes)||0===(i.directoryCache.delete(i.dirname(n)),s.chmod(n,o.attributes))){if(void 0!==o.name&&o.name!==l.name)switch(i.directoryCache.delete(i.dirname(n)),s.rename(n,`${i.dirname(n)}/${o.name}`)){case 0:break;case 6:return void(yield i.error("The provided file name is invalid."));default:return void(yield i.fatalError("Unable to write the updated file attributes."))}yield i.sync()}else yield i.fatalError("Unable to write the updated file attributes.");else yield i.error(`The path ${n} is invalid. This is a bug in CloudpilotEmu.`)})()}saveFile(n){var o=this;return(0,F.Z)(function*(){const i=yield o.loadingController.create({message:"Preparing file..."});yield i.present();try{const a=(yield o.vfs).readFile(n.path);if(!a)return void(yield o.alertService.errorMessage(`Could not read file '${n.name}'.`));o.fileService.saveFile(n.name,a)}finally{yield i.dismiss()}})()}archiveFiles(n,o){var i=this;return(0,F.Z)(function*(){if(0===n.length||!i.primaryCard)return;const s=yield i.loadingController.create({message:"Creating archive..."});yield s.present();try{const a=yield i.vfs,l=n.filter(C=>C.isDirectory).map(C=>i.normalizePath(C.path)),c=n.filter(C=>!C.isDirectory).map(C=>i.normalizePath(C.path)),f=1===n.length?`${n[0].name}.zip`:function BZ(e){return`files_${gf(e.name)}.zip`}(i.primaryCard),{archive:p,failedItems:m}=yield a.createZipArchive({directories:l,files:c,prefix:o});yield s.dismiss(),m.length>0&&(m.length<=3?yield i.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${m.join("<br>")}`):yield i.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${m.slice(0,3).join("<br>")}<br><br> and ${m.length-3} other file`)),p&&i.fileService.saveFile(f,p)}finally{yield s.dismiss()}})()}unlinkEntry(n){var o=this;return(0,F.Z)(function*(){if(n.isDirectory)return;const s=(yield o.vfs).unlinkFile(n.path);if(0!==s)return console.error(`failed to unlink ${n.path}: ${s}`),void(yield o.error(`Failed to delete: ${n.path}`));yield o.updateBytesFree(),yield o.sync(),o.directoryCache.delete(o.dirname(n.path))})()}deleteRecursive(n){var o=this;return(0,F.Z)(function*(){const i=n.map(a=>o.normalizePath(a.path)),s=yield o.loadingController.create({message:"Deleting..."});yield s.present();try{const l=yield(yield o.vfs).deleteRecursive(i);if(!l.success)return yield s.dismiss(),void(yield o.fatalError(`Failed to delete ${l.failingItem}`));yield o.updateBytesFree(),yield o.sync(),o.directoryCache.clear()}finally{yield s.dismiss()}})()}mkdir(n){var o=this;return(0,F.Z)(function*(){switch((yield o.vfs).mkdir(n)){case 6:return void(yield o.alertService.errorMessage("Invalid name."));case 7:return void(yield o.alertService.errorMessage("No space left on card."));case 8:return void(yield o.alertService.errorMessage("Name already taken."));case 0:break;default:return void(yield o.error(`Failed to create ${n}.`))}yield o.updateBytesFree(),yield o.sync(),o.directoryCache.delete(o.dirname(n))})()}getBytesFree(){return this.bytesFree}getBytesTotal(){return this.bytesTotal}isClipboardPopulated(){if(!this.clipboard||!this.storageCardService)return!1;const n=this.storageCardService.getAllCards().find(o=>o.storageId===this.clipboard?.storageId);return!!n&&(n.status===dr.clean||n.status===dr.dirty&&!!n.dontFsckAutomatically)}invalidateClipboardForCard(n){this.clipboard?.storageId===n.storageId&&(this.clipboard=void 0,this.clipboardSet.clear())}copyToClipboard(n,o,i){this.primaryCard&&(this.clipboard&&this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)),this.clipboard={operation:i,prefix:this.normalizePath(n),storageId:this.primaryCard.storageId,items:o.map(s=>({name:s,path:this.normalizePath(`${n}/${s}`)}))},this.clipboardSet.clear(),this.clipboard.items.map(s=>s.path).forEach(s=>this.clipboardSet.add(s)),this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)))}unpackArchive(n,o){var i=this;return(0,F.Z)(function*(){const s=yield i.loadingController.create({message:"Extracting..."});yield s.present();try{const{entriesTotal:a,entriesSuccess:l,result:c}=yield i.unpackArchiveUnchecked(n,o);let f,p;switch(yield s.dismiss(),c){case yl.success:f="The archive was extracted successfully, but some entries were skipped.",p="Skipped entries";break;case yl.ioError:return void(yield i.fatalError("There was an error writing to the card."));case yl.cardFull:f="No space left on card.",p="No space left";break;case yl.zipfileError:f="There was an error reading from the archive.",p="Error reading archive";break;default:throw new Error("unreachable")}const m=a-l,C=U=>U>1?`${U} entries`:"one entry";a>0&&m===a&&(yield i.alertService.message(p,`\n                    ${f}\n                    <br><br>\n                    The archive contains ${C(a)}, but none could be unpacked.\n                `)),m>0&&l>0&&(yield i.alertService.message(p,`\n                    ${f}\n                    <br><br>\n                    ${xP(C(l))} unpacked succesfully, but ${C(m)} could not be unpacked.\n                `))}finally{s.dismiss()}})()}paste(n){var o=this;return(0,F.Z)(function*(){if(!o.isClipboardPopulated())return;const i=yield o.loadingController.create({message:"Pasting files..."});yield i.present();try{const s=yield o.pasteUnchecked(n);switch(yield i.dismiss(),s){case Lu.cardFull:yield o.alertService.message("No space left","No space left on card.");break;case Lu.ioError:return void(yield o.fatalError("There was an error copying files to the card."))}}catch(s){yield o.alertService.errorMessage(s instanceof Error?s.message:"Unknown error.")}finally{i.dismiss()}})()}addFiles(n,o){var i=this;return(0,F.Z)(function*(){if(0===n.length)return;const s=yield i.loadingController.create({message:" Adding files"});yield s.present();try{const a=yield i.addFilesUnchecked(n,o);yield s.dismiss();const l=c=>c>1?`${c} entries`:"one file";a.length===n.length?yield i.alertService.message("Skipped files","No files were added to the card."):0!==a.length&&(yield i.alertService.message("Skipped files",`Successfully added ${l(n.length-a.length)} to card. ${xP(l(a.length))} could not be added.\n                `))}finally{s.dismiss()}})()}addFilesUnchecked(n,o){var i=this;return(0,F.Z)(function*(){const s=i.readdir(o),a=[],l=yield i.vfs;let c=!1,f=!1,p=!1,m=!1;e:for(let C=0;C<n.length;C++){const U=n[C],J=s.find(De=>De.name===U.name);if(J&&J.isDirectory){if(!p){const{overwrite:Re,rememberChoice:ht}=yield i.overwriteFileDialog(U.name,"directory");m=Re,p=ht}let De=!0;if(m&&(De=!(yield l.deleteRecursive([i.normalizePath(`${o}/${U.name}`)])).success),De){a.push(U.name);continue}}if(J&&!J.isDirectory){if(!c){const{overwrite:De,rememberChoice:Re}=yield i.overwriteFileDialog(U.name,"file");f=De,c=Re}if(!f){a.push(U.name);continue}}let _e;try{_e=yield U.getContent()}catch(De){console.warn(De),a.push(U.name),yield i.alertService.errorMessage(`Unable to open ${U.name}`);continue}switch(l.writeFile(i.normalizePath(`${o}/${U.name}`),_e)){case 3:yield i.alertService.errorMessage("Card full."),a.push(...n.slice(C).map(De=>De.name));break e;case 4:throw yield i.fatalError("Unable to write file."),new Error;case 0:break;default:a.push(U.name)}}return yield i.updateBytesFree(),yield i.sync(),i.directoryCache.delete(i.normalizePath(o)),a})()}collisionHandlers(){var n=this;let o=!1,i=!1,s=!1,a=!1;return{onFileCollision:(l=(0,F.Z)(function*(c){if(i)return o;const{overwrite:f,rememberChoice:p}=yield n.overwriteFileDialog(c.replace(/^\d:/,""),"file");return o=f,i=p,o}),function(f){return l.apply(this,arguments)}),onDirectoryCollision:function(){var l=(0,F.Z)(function*(c){if(a)return s;const{overwrite:f,rememberChoice:p}=yield n.overwriteFileDialog(c.replace(/^\d:/,""),"directory");return s=f,a=p,s});return function(f){return l.apply(this,arguments)}}()};var l}unpackArchiveUnchecked(n,o){var i=this;return(0,F.Z)(function*(){const a=yield(yield i.vfs).unzipArchive(i.normalizePath(o),n,{...i.collisionHandlers(),onInvalidEntry:(l=(0,F.Z)(function*(c){yield i.alertService.message("Invalid entry",`Could not extract ${c}`,{},"Continue")}),function(f){return l.apply(this,arguments)})});var l;return a.result!==yl.ioError&&(yield i.updateBytesFree(),yield i.sync(),i.directoryCache.clear()),a})()}pasteUnchecked(n){var o=this;return(0,F.Z)(function*(){if(!o.clipboard||!o.primaryCard)throw new Error("invalid state for paste");const i=yield o.mountClipboard(),a=yield(yield o.vfs).paste(`${o.primarySlot}:${o.normalizePath(n)}`,`${i}:${o.normalizePath(o.clipboard.prefix)}`,o.clipboard.items.map(l=>l.name),o.clipboard.operation,o.collisionHandlers());return a===Lu.ioError||(yield o.updateBytesFree(),yield o.sync(o.primarySlot),i!==o.primarySlot&&(yield o.sync(i)),o.directoryCache.clear(),"cut"===o.clipboard.operation&&(o.clipboard=void 0,o.clipboardSet.clear())),a})()}mountClipboard(){var n=this;return(0,F.Z)(function*(){if(!n.clipboard||!n.primaryCard||!n.storageCardService)throw new Error("invalid state for paste");if(n.clipboard.storageId===n.primaryCard.storageId)return n.primarySlot;if(n.secondaryCard&&n.clipboard.storageId===n.secondaryCard.storageId)return n.secondarySlot;n.secondaryCard&&(yield n.releaseCard(n.secondaryCard.id));const o=n.storageCardService.getAllCards().find(a=>a.storageId===n.clipboard?.storageId);if(!o)throw new Error("invalid storage card in clipboard");const i=yield n.vfs;i.allocateImage(o.size);const s=i.getPendingImage();if(!s)throw new Error("failed to allocate image");if(n.storageCardContext.claim(o.id,br.vfs),yield n.storageService.loadCardData(o.id,s,br.vfs),!i.mountImage(n.secondarySlot))throw n.storageCardContext.release(o.id,br.vfs),new Error("unable to mount card");return n.secondaryCard=o,n.secondarySlot})()}overwriteFileDialog(n,o){var i=this;return(0,F.Z)(function*(){let s=!1;const a=yield i.alertService.messageWithChoice("File collision","file"===o?`Do you want to overwrite the existing file ${n}?`:`\n                     Do you want to overwrite the existing directory ${n}?\n                     <br><br>\n                     WARNING: All files in this directory will be lost.\n                `,"Remember choice",!1,{Yes:()=>s=!0},"No");return{overwrite:s,rememberChoice:a}})()}error(n){var o=this;return(0,F.Z)(function*(){yield o.alertService.errorMessage(n)})()}fatalError(n){var o=this;return(0,F.Z)(function*(){o.primaryCard&&(yield o.storageService.updateStorageCardPartial(o.primaryCard.id,{status:dr.dirty}),yield o.releaseCard(o.primaryCard.id),o.alertService.errorMessage(`${n}\n        <br><br>\n        No changes have been written, and the card has been unmounted to prevent damage to the file system.\n        `))})()}sync(n=this.primarySlot){var o=this;return(0,F.Z)(function*(){const i=o.mountedCards[n];if(!i)return;const s=yield o.vfs,a=s.getImageInSlot(n),l=s.getDirtyPagesForSlot(n);!a||!l||(yield o.storageService.updateCardData(i.id,a,l,br.vfs),l.fill(0))})()}activatePrimaryCard(){var n=this;return(0,F.Z)(function*(){const o=yield n.vfs;o.switchSlot(n.primarySlot),n.bytesFree=o.bytesFree(n.primarySlot),n.bytesTotal=o.bytesTotal(n.primarySlot),n.directoryCache.clear()})()}updateBytesFree(){var n=this;return(0,F.Z)(function*(){n.bytesFree=(yield n.vfs).bytesFree(n.primarySlot)})()}get secondarySlot(){return 1-this.primarySlot}get primaryCard(){return this.mountedCards[this.primarySlot]}set primaryCard(n){this.mountedCards[this.primarySlot]=n}get secondaryCard(){return this.mountedCards[this.secondarySlot]}set secondaryCard(n){this.mountedCards[this.secondarySlot]=n}}return(e=t).\u0275fac=function(n){return new(n||e)(le(qn),le(Eh),le(Kc),le(Ls),le(Fr))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var Go=function(e){return e[e.mb4=0]="mb4",e[e.mb8=1]="mb8",e[e.mb16=2]="mb16",e[e.mb32=3]="mb32",e[e.mb64=4]="mb64",e[e.mb128=5]="mb128",e}(Go||{});class sv extends Error{constructor(t){super(t)}}function TP(){return XR().replace(/-/g,"")}let _f=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f,p,m,C,U){this.sessionService=n,this.storageService=o,this.emulationStateService=i,this.cloudpilotService=s,this.loadingController=a,this.snapshotService=l,this.alertService=c,this.errorService=f,this.fileService=p,this.vfsService=m,this.storageCardContext=C,this.fstools=U,this.mountCardEvent=new sr.j,this.deleteCardEvent=new sr.j,this.loading=!0,this.cards=[],this.updateMutex=new Aa,this.vfsService.setStorageCardService(this),this.updateCardsFromDB().then(()=>this.loading=!1),o.storageCardChangeEvent.addHandler(()=>this.updateCardsFromDB())}getAllCards(){return this.cards}createEmptyCard(n,o,i){var s=this;return(0,F.Z)(function*(){const a=yield s.loadingController.create({message:"Formatting..."});try{yield a.present();const l=yield s.fstools.mkfs(function KZ(e){switch(e){case Go.mb4:return 4;case Go.mb8:return 8;case Go.mb16:return 16;case Go.mb32:return 32;case Go.mb64:return 64;case Go.mb128:return 128;default:throw new Error(`bad card size ${e}`)}}(o));if(!l)throw new Error("failed to create image");const c={storageId:TP(),name:n,size:4*l.length,status:dr.clean,dontFsckAutomatically:i};return yield s.storageService.importStorageCard(c,l)}finally{a.dismiss()}})()}createCardFromImage(n,o,i){var s=this;return(0,F.Z)(function*(){const a=yield s.loadingController.create({message:"Importing..."});try{yield a.present(),yield s.doCreateCardFromImage(n,o,i)}finally{a.dismiss()}})()}onEmulatorStop(){const n=this.emulationStateService.getCurrentSession()?.mountedCard;void 0!==n&&this.storageCardContext.release(n,br.cloudpilot)}loadCardInEmulator(n,o){var i=this;return(0,F.Z)(function*(){const s=yield i.storageService.getCard(n);if(!s)throw new Error(`no card with id ${n}`);yield i.vfsService.releaseCard(n);const a=yield i.cloudpilotService.cloudpilot;if(a.getMountedKey())throw new Error("attempt to mount a card while another card is mounted");if(!a.allocateCard(s.storageId,s.size))throw new Error("failed to allocate card");const l=a.getCardData(s.storageId);if(!l)throw new Error("failed to access card data");return i.storageCardContext.claim(n,br.cloudpilot),o?l.set(o):yield i.storageService.loadCardData(s.id,l,br.cloudpilot),s})()}ejectCurrentCard(){var n=this;return(0,F.Z)(function*(){const o=n.emulationStateService.getCurrentSession();if(!o)throw new Error("no running session");const i=o?.mountedCard;if(void 0===i)throw new Error("no mounted card");const s=yield n.storageService.getCard(i);if(!s)throw new Error(`no card with id ${i}`);yield n.storageService.updateStorageCardPartial(i,{status:dr.dirty}),yield n.snapshotService.waitForPendingSnapshot(),yield n.snapshotService.triggerSnapshot(),yield n.storageService.updateSessionPartial(o.id,{mountedCard:void 0}),(yield n.cloudpilotService.cloudpilot).removeCard(s.storageId),n.snapshotService.resetCard(),n.storageCardContext.release(i,br.cloudpilot)})()}checkCard(n){var o=this;return(0,F.Z)(function*(){const i=o.mountedInSession(n.id);if(i){let a=!1;if(yield o.alertService.message("Card is attached",`This card needs to be ejected from session '${i.name}' before it can be checked.`,{"Eject now":()=>a=!0},"Cancel"),!a)return;yield o.ejectCard(n.id)}const s=yield o.executeFsckAndUpdateCard(n.id);switch(s.getResult()){case 1:return void o.alertService.cardIsClean();case 3:return void o.alertService.cardHasNoValidFileSystem();case 4:o.alertService.cardHasUncorrectableErrors();break;case 2:{let a=!1;return yield o.alertService.message("Filesystem errors",`The filesystem on this card contains errors${n.dontFsckAutomatically?"":"  that need to be fixed before it can be used"}. Do you want to fix them now?`,{"Fix now":()=>a=!0},"Cancel"),void(a?yield o.applyFsckResult(n.id,s):o.storageCardContext.release(n.id,br.fstools))}}})()}insertCard(n){return this.checkAndClaimCard(n,"insert")}browseCard(n){var o=this;return(0,F.Z)(function*(){if(o.storageCardContext.getOwner(n.id)===br.vfs)return yield o.vfsService.activateCard(n.id),!0;const i=o.mountedInSession(n.id);if(i){let s=!1;if(yield o.alertService.message("Card is attached",`This card needs to be ejected from session '${i.name}' before it can be browsed.`,{"Eject now":()=>s=!0},"Cancel"),!s)return!1;yield o.ejectCard(n.id)}return o.checkAndClaimCard(n.id,"vfs")})()}updateCard(n,o){var i=this;return(0,F.Z)(function*(){const s=yield i.storageService.getCard(n);if(!s)throw new Error(`no card with id ${n}`);return!o.dontFsckAutomatically&&s.dontFsckAutomatically&&(o.status=dr.dirty),i.storageService.updateStorageCardPartial(n,o)})()}deleteCard(n){var o=this;return(0,F.Z)(function*(){const i=yield o.loadingController.create({message:"Deleting..."});yield i.present();try{const s=o.cards.find(a=>a.id===n);yield o.vfsService.releaseCard(n),yield o.ejectCard(n),yield o.storageService.deleteStorageCard(n),s&&o.deleteCardEvent.dispatch(s)}finally{i.dismiss()}})()}saveCard(n,o,i){var s=this;return(0,F.Z)(function*(){const a=yield s.getCard(n);if(!a)throw new Error(`no card with id ${n}`);const l=yield s.loadingController.create({message:"Exporting..."});let c;try{yield l.present(),c=yield s.getCardData(a,i?o:void 0)}finally{l.dismiss()}c&&s.fileService.saveFile(i?`${o}.gz`:o,c)})()}saveCards(n){var o=this;return(0,F.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."}),s=yield o.fstools.createZipContext(0);try{yield i.present();const a=new Set,l=yield o.fstools.createGzipContext();let c=0;for(const f of n){c++;const p=yield o.getCard(f);if(!p)continue;i.message=`Exporting ${c}/${n.length}...`;const m=mf(p.name,U=>a.has(U));a.add(m);const C=yield o.getCardData(p,m,l);C&&(yield s.addEntry(`${m}.img.gz`,C))}}catch(a){yield i.dismiss(),yield o.alertService.errorMessage(`Failed to export card images: ${a?.message??"unknown error"}`)}finally{i.dismiss()}o.fileService.saveFile(function $Z(){return`${gf("cards")}.zip`}(),s.getContent())})()}getCard(n){var o=this;return(0,F.Z)(function*(){return o.storageService.getCard(n)})()}mountedInSession(n){return this.sessionService.getSessions().find(o=>o.mountedCard===n)}isLoading(){return this.loading}addAllCardsFromArchive(n){var o=this;return(0,F.Z)(function*(){const i=/\.(bin|img)(|\.gz)$/i,s=go?"\n                This can be caused by either a corrupted image or zip file,\n                or by a Safari browser bug triggered by a low memory condition.\n                <br><br>\n                Please force close and reopen the app after a few seconds and try again. If the import\n                keeps failing, please unpack the archive and import the cards manually.\n            ":"",a=yield o.loadingController.create({message:"Importing..."});try{yield a.present();const l=yield o.cloudpilotService.cloudpilot,c=yield o.fstools.createZipfileWalker(n);if(-1===c.GetState())return void(yield o.alertService.errorMessage("Import failed: unable to read zip file."));const f=c.GetTotalEntries(),p=new Set((yield o.getAllCards()).map(_e=>_e.name)),m=yield o.fstools.createGunzipContext();let C=1,U=!1;const J=[];for(;0===c.GetState();){a.message=`Importing ${C++}/${f}...`;let _e=c.GetCurrentEntryName();try{if(!i.test(_e))throw new sv(`${_e} has the wrong suffix to be considered as a card image.`);let De=c.GetCurrentEntryContent();if(_e.endsWith(".gz")&&De&&(m.initialize(De),De=(yield m.gunzip())?m.getDecompressedData():void 0,_e=_e.substring(0,_e.length-3)),void 0===De)throw new sv(`Failed to extract ${_e}. ${s}`);if(0===l.getCardSupportLevel(De.length))throw new sv(`${_e} is not a valid card image.`);const Re=mf(_e.replace(i,""),ht=>p.has(ht));yield o.doCreateCardFromImage(Re,De,!1,!0)}catch(De){if(!(De instanceof sv))throw De;J.push(_e),U||(U=yield o.alertService.messageWithChoice("Error",De.message,"Skip further errors",U,{},"Continue"))}finally{c.Next()}}J.length<=3&&J.length>0?yield o.alertService.errorMessage(`The following files could not be imported: <br><br>${J.join("<br>")}`):J.length>3&&(yield o.alertService.errorMessage(`\n                        The following files could not be imported: <br><br>${J.slice(0,3).join("<br>")}\n                        <br><br>\n                        and ${J.length-3} more files.\n                    `))}catch(l){yield a.dismiss(),yield o.alertService.errorMessage(`Failed to import card images: ${l?.message??"unknown error"}<br><br>${s}`)}finally{a.dismiss()}})()}doCreateCardFromImage(n,o,i,s=!1){var a=this;return(0,F.Z)(function*(){const l={storageId:TP(),name:n,size:o.length,status:s?dr.dirty:dr.clean,dontFsckAutomatically:i},c=new Uint32Array(o.buffer,o.byteOffset,o.byteLength>>>2);if(s||i)yield a.storageService.importStorageCard(l,c);else{const[f,p]=yield a.fsckNewCard(c,l);yield a.storageService.importStorageCard(p,f)}})()}getCardData(n,o,i){var s=this;return(0,F.Z)(function*(){let a;if(void 0!==o&&(i=i??(yield s.fstools.createGzipContext())).initialize(n.size),i){const f=i.getBuffer();a=new Uint32Array(f.buffer,f.byteOffset,f.byteLength>>2)}const l=s.mountedInSession(n.id);let c;return l&&l.id===s.emulationStateService.getCurrentSession()?.id&&(yield s.snapshotService.waitForPendingSnapshot(),yield s.snapshotService.triggerSnapshot(),c=(yield s.cloudpilotService.cloudpilot).getCardData(n.storageId),c&&(a?a.set(c):a=c)),c||(a||(a=new Uint32Array(n.size>>>2)),yield s.storageService.loadCardData(n.id,a,s.storageCardContext.getOwner(n.id))),i&&o?(i.setFilename(o).setMtime(Math.floor(Date.now()/1e3)),(yield i.gzip())?i.getGzipData():void(yield s.alertService.errorMessage("Failed to compress card image."))):new Uint8Array(a.buffer,a.byteOffset,a.byteLength)})()}updateCardsFromDB(){var n=this;return(0,F.Z)(function*(){n.cards=yield n.updateMutex.runExclusive((0,F.Z)(function*(){return(yield n.storageService.getAllStorageCards()).sort((o,i)=>o.name.localeCompare(i.name))}))})()}cardIsMounted(n){var o=this;return(0,F.Z)(function*(){return(yield o.storageService.getAllSessions()).some(s=>s.mountedCard===n)})()}checkAndClaimCard(n,o){var i=this;return(0,F.Z)(function*(){if(yield i.cardIsMounted(n))throw new Error("card already mounted");let s=yield i.getCard(n);if(!s)throw new Error(`no card with id ${n}`);let a,l=!0,c=!1;if(!s.dontFsckAutomatically){if(s.status===dr.dirty){if(a=yield i.executeFsckAndUpdateCard(n),2===a.getResult()){if(l=!1,yield i.alertService.message("Filesystem errors",`The filesystem on this card contains errors that have to fixed before it can be ${"insert"===o?"inserted":"browsed"}. Do you want to fix them now?`,{"Fix now":()=>l=!0},"Cancel"),!l)return i.storageCardContext.release(n,br.fstools),!1;yield i.applyFsckResult(s.id,a)}if(s=yield i.getCard(n),!s)throw new Error(`no card with id ${n}`)}switch(s.status){case dr.clean:break;case dr.unformatted:if("vfs"===o)return yield i.alertService.message("Card unformatted","This card is unformatted and cannot be browsed. Insert it into a device and format it."),!1;case dr.dirty:return yield i.alertService.message("Card requires check",`This card needs to be checked before it can be ${"insert"===o?"inserted":"browsed"}.`),!1;case dr.unfixable:if(l=!1,c=!0,yield i.alertService.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors. Writing could cause further damage. Do you want to insert it nevertheless?",{"Insert card":()=>l=!0},"Cancel"),!l)return!1;break;default:throw new Error("unreachable: bad card status")}}try{"insert"===o?(yield i.vfsService.releaseCard(n),yield i.mountCardInEmulator(n,a?.getImageData())):(yield i.mountCardForBrowsing(n,c,a?.getImageData()))||(yield i.alertService.message("Failed to mount card","The card could not be mounted for browsing."))}catch(f){return i.errorService.fatalBug(f instanceof Error?f.message:"mount failed"),!1}return!0})()}executeFsckAndUpdateCard(n){var o=this;return(0,F.Z)(function*(){const i=yield o.loadingController.create({message:"Checking card..."});try{if(yield i.present(),yield o.cardIsMounted(n))throw new Error("attempt to fsck a mounted card");const s=yield o.storageService.getCard(n);if(!s)throw new Error(`no card with id ${n}`);yield o.vfsService.releaseCard(n),o.storageCardContext.claim(n,br.fstools);const a=yield o.fstools.createFsckContext(s.size);switch(yield o.storageService.loadCardData(s.id,a.getImageData(),br.fstools),a.fsck()){case 1:yield o.storageService.updateStorageCardPartial(n,{status:dr.clean}),o.storageCardContext.release(n,br.fstools);break;case 3:yield o.storageService.updateStorageCardPartial(n,{status:dr.unformatted}),o.storageCardContext.release(n,br.fstools);break;case 2:yield o.storageService.updateStorageCardPartial(n,{status:dr.dirty});break;case 4:yield o.storageService.updateStorageCardPartial(n,{status:dr.unfixable}),o.storageCardContext.release(n,br.fstools);break;default:throw new Error("unrachable: invalid fsck result")}return a}finally{i.dismiss()}})()}applyFsckResult(n,o){var i=this;return(0,F.Z)(function*(){if(2!==o.getResult())return;const s=yield i.loadingController.create({message:"Fixing errors..."});try{yield s.present(),yield i.storageService.updateCardData(n,o.getImageData(),o.getDirtyPages(),br.fstools),yield i.storageService.updateStorageCardPartial(n,{status:dr.clean}),i.storageCardContext.release(n,br.fstools)}finally{s.dismiss()}})()}fsckNewCard(n,o){var i=this;return(0,F.Z)(function*(){const s=yield i.loadingController.create({message:"Checking card..."});let a,l;try{yield s.present(),a=yield i.fstools.createFsckContext(o.size),a.getImageData().set(n),l=a.fsck()}finally{s.dismiss()}switch(l){case 1:return[n,{...o,status:dr.clean}];case 2:{let c=!1;return yield i.alertService.message("Filesystem errors","The filesystem on this card contains errors that must be fixed before the card can be used. Do you want to fix them now?",{"Fix now":()=>c=!0},"Skip"),c?[a.getImageData(),{...o,status:dr.clean}]:[n,{...o,status:dr.dirty}]}case 3:return yield i.alertService.cardHasNoValidFileSystem(),[n,{...o,status:dr.unformatted}];case 4:return yield i.alertService.cardHasUncorrectableErrors(),[n,{...o,status:dr.unfixable}];default:throw new Error("unreachable: bad fsck result")}})()}ejectCard(n){var o=this;return(0,F.Z)(function*(){const i=o.mountedInSession(n),s=yield o.storageService.getCard(n);!i||!s||(i.id===o.emulationStateService.getCurrentSession()?.id?yield o.ejectCurrentCard():(yield o.storageService.updateSessionPartial(i.id,{mountedCard:void 0}),yield o.storageService.updateStorageCardPartial(n,{status:dr.dirty})))})()}mountCardInEmulator(n,o){var i=this;return(0,F.Z)(function*(){if(yield i.cardIsMounted(n))throw new Error("card already mounted");const s=yield i.loadingController.create({message:"Inserting..."});try{yield s.present(),yield i.vfsService.releaseCard(n);const a=i.emulationStateService.getCurrentSession();if(!a)throw new Error("no current session");if(void 0!==a.mountedCard)throw new Error("session already has a mounted card");const l=yield i.loadCardInEmulator(n,o),c=yield i.cloudpilotService.cloudpilot;if(yield i.storageService.updateStorageCardPartial(n,{status:dr.dirty}),yield i.storageService.updateSessionPartial(a.id,{mountedCard:n}),!c.mountCard(l.storageId))throw c.removeCard(l.storageId),new Error("failed to mount card");return i.mountCardEvent.dispatch(l),l}finally{s.dismiss()}})()}mountCardForBrowsing(n,o,i){var s=this;return(0,F.Z)(function*(){const a=yield s.loadingController.create({message:"Mounting..."});try{return yield a.present(),yield s.vfsService.mountCardUnchecked(n,o,i)}finally{a.dismiss()}})()}}return(e=t).\u0275fac=function(n){return new(n||e)(le(nc),le(qn),le(ec),le(Ra),le(Ls),le(xh),le(Fr),le(Pu),le(Kc),le($u),le(Eh),le(ov))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const MP="cp-indicator-fix-portrait",AP="cp-indicator-fix-landscape",kP="cloudpilot-indicator-fix-mode";let av;function RP(){return VR(kP)??"none"}function wS(){return LR&&!navigator?.standalone}function PP(e){if(!wS())return;av||(av=document.createElement("style"),av.textContent=`\n           @media (orientation: portrait) and (min-height: ${window.screen.height-110}px) {\n                html.${MP} {\n                    --ion-safe-area-bottom: max(env(safe-area-inset-bottom, 0), 20px);\n                }\n            }\n\n            @media (orientation: landscape) {\n                html.${AP} {\n                    --ion-safe-area-bottom: max(env(safe-area-inset-bottom, 0), 20px);\n                }\n            }\n        `,document.head.appendChild(av)),void 0!==e?Q0(kP,e):e=RP();const t=document.documentElement.classList;t.toggle(MP,"all"===e||"portrait"===e),t.toggle(AP,"all"===e||"landscape"===e)}let ES=(()=>{var e;class t{constructor(n,o){this.pwaService=n,this.clipboardService=o,this.injectStyles()}get runHidden(){return this.pwaService.getInstallationMode()!==Jl.pwa}get nativeNetworkIntegration(){return ka.supportsNativeNetworkIntegration()}get nativeClipboard(){return ka.supportsNativeClipboard()}featureStyle(n,o){return(o?"":`.feature-${n} { display: none }\n`)+(o?`.no-feature-${n} { display: none }`:"")}injectStyles(){const n=document.createElement("style");n.textContent=`\n            ${this.featureStyle("run-hidden",this.runHidden)}\n            ${this.featureStyle("indicator-fix",wS())}\n            ${this.featureStyle("clipboard-integration",this.clipboardService.isSupported())}\n            ${this.featureStyle("native-app",_l)}\n            ${this.featureStyle("ios-not-native",go&&!_l)}\n            ${this.featureStyle("ios-or-safari",go&&!_l||wh)}\n            ${this.featureStyle("ios",go)}\n            ${this.featureStyle("native-network",this.nativeNetworkIntegration)}\n        `,document.head.appendChild(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(le(X_),le(fS))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),Pa=(()=>{var e;class t extends dZ{constructor(n,o,i,s,a,l,c,f,p,m,C,U,J,_e,De,Re,ht,pt,Gt){var Et;super(),Et=this,this.storageService=n,this.ngZone=o,this.loadingController=i,this.emulationState=s,this.snapshotService=a,this.errorService=l,this.alertService=c,this.modalWatcher=f,this.clipboardService=p,this.kvsService=m,this.networkService=C,this.buttonService=U,this.bootstrapService=J,this.cloudpilotService=_e,this.storageCardService=De,this.storageCardContext=Re,this.sessionsService=ht,this.featureService=pt,this.app=Gt,this.switchSession=(Do,Fa={})=>this.mutex.runExclusive((0,F.Z)(function*(){if(Do===Et.emulationState.getCurrentSession()?.id)return!0;let Cl;yield Et.stopUnchecked(),yield Et.bootstrapService.hasRendered(),(Fa.showLoader??1)&&(Cl=yield Et.loadingController.create({message:"Loading..."}),yield Cl.present());try{const dv=yield Et.storageService.getSession(Do);if(!dv)throw new Error(`invalid session ${Do}`);Et.emulationState.setCurrentSession(void 0);const FX=yield Et.cloudpilotService.cloudpilot;if(!(yield Et.restoreSession(dv,FX)))return Et.alertService.errorMessage("Failed to launch session. This may be the result of a bad ROM file."),!1;Et.emulationState.setCurrentSession(dv),yield Et.sessionsService.updateSession({...dv,lastLaunch:Date.now()}),function v7(e){Q0(Z_,e+"")}(Do)}finally{Cl&&(yield Cl.dismiss())}return!0})),this.resume=()=>this.mutex.runExclusive((0,F.Z)(function*(){!Et.emulationState.getCurrentSession()||Et.running||Et.errorService.hasFatalError()||!Et.cloudpilotInstance||(yield Et.kvsService.mutex.runExclusive(()=>Et.updateFeatures()),Et.doResume(),Et.lastSnapshotAt=performance.now())})),this.pause=()=>this.mutex.runExclusive((0,F.Z)(function*(){Et.doPause(),!Et.errorService.hasFatalError()&&Et.emulationState.getCurrentSession()&&(yield Et.snapshotService.waitForPendingSnapshot(),yield Et.snapshotService.triggerSnapshot())})),this.stop=()=>this.mutex.runExclusive(()=>this.stopUnchecked()),this.onSessionChange=([Do,Fa])=>this.mutex.runExclusive((0,F.Z)(function*(){const Cl=Et.emulationState.getCurrentSession();Do===Cl?.id&&(void 0!==Cl.mountedCard&&void 0===Fa&&Et.storageCardContext.release(Cl.mountedCard,br.cloudpilot),Et.emulationState.setCurrentSession(Fa),Et.emulationState.getCurrentSession()||(jR(),Et.stopLoop()))})),this.onEmergencySave=()=>this.mutex.runExclusive((0,F.Z)(function*(){const Do=Et.emulationState.getCurrentSession();Do&&Et.sessionsService.emergencySaveSession(Do)})),this.mutex=new Aa,this.lastSnapshotAt=0,n.sessionChangeEvent.addHandler(this.onSessionChange),l.fatalErrorEvent.addHandler(this.pause),this.alertService.emergencySaveEvent.addHandler(this.onEmergencySave),this.cloudpilotService.cloudpilot.then(Do=>{Do.fatalErrorEvent.addHandler(this.errorService.fatalInNativeCode),this.networkService.initialize(Do),this.networkService.resumeEvent.addHandler(()=>this.running&&this.advanceEmulation(performance.now()))});const tr=function _7(){const e=BR(Z_);return e?parseInt(e,10):void 0}();this.bootstrapCompletePromise=Promise.resolve(),void 0!==tr&&!pM()&&(this.bootstrapCompletePromise=this.recoverStoredSession(tr))}bootstrapComplete(){return this.bootstrapCompletePromise}getConfiguredSpeed(){return this.emulationState.getCurrentSession()?.speed||1}manageHotsyncName(){return!this.emulationState.getCurrentSession()?.dontManageHotsyncName}getConfiguredHotsyncName(){return this.emulationState.getCurrentSession()?.hotsyncName}updateConfiguredHotsyncName(n){const o=this.emulationState.getCurrentSession();o&&this.storageService.updateSessionPartial(o.id,{hotsyncName:n})}getConfiguredSchdedulerKind(){return this.kvsService.kvs.runHidden&&this.featureService.runHidden?ff.timeout:ff.animationFrame}hasFatalError(){return this.errorService.hasFatalError()}skipEmulationUpdate(){return this.modalWatcher.isModalActive()&&0!==this.frameCounter}onAfterAdvanceEmulation(n,o){if(!this.cloudpilotInstance)return;const i=this.emulationState.getCurrentSession();this.uiInitialized&&i&&void 0===i.osVersion&&this.storageService.updateSessionPartial(i.id,{osVersion:this.cloudpilotInstance.getOSVersion()}),this.buttonService.tick(o/this.cloudpilotInstance.cyclesPerSecond()),n-this.lastSnapshotAt>1e3&&!this.cloudpilotInstance.isSuspended()&&(this.snapshotService.triggerSnapshot(),this.lastSnapshotAt=n),this.isDirty&&this.app.tick()}handleSuspend(){this.cloudpilotInstance&&(this.clipboardService.handleSuspend(this.cloudpilotInstance),this.networkService.handleSuspend())}callScheduler(){this.ngZone.runOutsideAngular(()=>this.scheduler.schedule())}stopUnchecked(){var n=this;return(0,F.Z)(function*(){n.emulationState.getCurrentSession()&&(n.doStop(),yield n.snapshotService.waitForPendingSnapshot(),yield n.snapshotService.triggerSnapshot(),n.storageCardService.onEmulatorStop(),n.emulationState.setCurrentSession(void 0))})()}updateFeatures(){if(!this.cloudpilotInstance)return;const n=this.kvsService.kvs.clipboardIntegration&&this.clipboardService.isSupported();this.cloudpilotInstance.getClipboardIntegration()!==n&&this.cloudpilotInstance.setClipboardIntegration(n),this.cloudpilotInstance.getNetworkRedirection()!==this.kvsService.kvs.networkRedirection&&(this.cloudpilotInstance.setNetworkRedirection(this.kvsService.kvs.networkRedirection),this.networkService.reset()),this.cloudpilotInstance.setHotsyncNameManagement(!this.emulationState.getCurrentSession()?.dontManageHotsyncName)}recoverStoredSession(n){var o=this;return(0,F.Z)(function*(){let i;const s=setTimeout(()=>{i=o.loadingController.create({message:"Loading..."}).then(function(){var a=(0,F.Z)(function*(l){return yield l.present(),l});return function(l){return a.apply(this,arguments)}}())},100);try{yield o.switchSession(n,{showLoader:!1})}catch{go&&o.alertService.message("Possible iOS bug","It seems that you hit an iOS bug that ocassionally\ncauses the database to come up empty when the app starts. If this happens to you, please force close\nthe app in the app switcher and reopen it; your data will be back on the second attempt.\n<br/><br/>\nSorry for the inconvenience.")}finally{i&&i.then(a=>a.dismiss()),clearTimeout(s)}})()}restoreSession(n,o){var i=this;return(0,F.Z)(function*(){const[s,a,l]=yield i.storageService.loadSession(n,i.kvsService.kvs.snapshotIntegrityCheck);if(!s)throw new Error(`invalid ROM ${n.rom}`);return o.clearExternalStorage(),void 0!==n.mountedCard&&(yield i.storageCardService.loadCardInEmulator(n.mountedCard)),!!i.openSession(o,s,n.device,a,l)&&(i.networkService.reset(),i.buttonService.reset(o),yield i.snapshotService.initialize(n,yield i.cloudpilotService.cloudpilot),!0)})()}}return(e=t).\u0275fac=function(n){return new(n||e)(le(qn),le(Ze),le(Ls),le(ec),le(xh),le(Pu),le(Fr),le(uS),le(fS),le(Ii),le(yP),le(bP),le(CP),le(Ra),le(_f),le(Eh),le(nc),le(ES),le(Ea))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),DS=(()=>{var e;class t{constructor(n,o){var i=this;this.loadingController=n,this.alertService=o,this.register=()=>this.registerMutex.runExclusive((0,F.Z)(function*(){if(i.isEnabled()&&navigator.serviceWorker){navigator.serviceWorker.addEventListener("controllerchange",()=>i.reloadOnControllerChange&&window.location.reload()),yield new Promise(s=>setTimeout(s,3e3));try{i.setupRegistration(yield i.doRegister())}catch(s){console.error(s)}}})),this.reloadOnControllerChange=!1,this.registerMutex=new Aa,this.updateAvailableEvent=new sr.j,this.register()}isEnabled(){return ia.production&&!!navigator.serviceWorker}isRegistered(){return!!navigator.serviceWorker?.controller}reset(){var n=this;return(0,F.Z)(function*(){if(!n.registration)return;const o=yield n.loadingController.create();yield o.present();try{if(!(yield n.registration.unregister()))throw new Error("failed to unregister worker")}catch{return void(yield n.alertService.errorMessage("Failed to unregister service worker."))}finally{yield o.dismiss()}yield n.alertService.message("Service worker unregistered","\n            The current service worker has been unregistered. Please reload the app\n            in order to register a new worker for offline usage.\n        ",{},"Reload"),window.location.reload()})()}update(){var n=this;return(0,F.Z)(function*(){n.registration&&n.registration.update()})()}activateUpdate(){var n=this;return(0,F.Z)(function*(){n.registration?.waiting&&(yield(yield n.loadingController.create({message:"Updating..."})).present(),n.registration.waiting.postMessage({type:"SKIP_WAITING"}))})()}doRegister(){return(0,F.Z)(function*(){return navigator.serviceWorker.register("ngsw-worker.js",{scope:"./",updateViaCache:"none"})})()}setupRegistration(n){this.registration=n,n.waiting&&this.dispatchUpdate(),n.installing&&this.handleInstallingWorker(n.installing),n.addEventListener("updatefound",()=>n.installing&&this.handleInstallingWorker(n.installing))}handleInstallingWorker(n){let o=!1;n.addEventListener("statechange",()=>{"installed"!==n.state||o||(o=!0,this.dispatchUpdate())})}dispatchUpdate(){navigator.serviceWorker.controller&&this.registration?.waiting&&(this.reloadOnControllerChange=!0,this.updateAvailableEvent.dispatch(void 0))}}return(e=t).\u0275fac=function(n){return new(n||e)(le(Ls),le(Fr))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),OP=(()=>{var e;class t{constructor(n,o,i,s,a){var l=this;this.kvsService=n,this.emulationService=o,this.alertService=i,this.modalController=s,this.serviceWorkerService=a,this.checkForUpgrade=()=>this.mutex.runExclusive((0,F.Z)(function*(){const c=l.kvsService.kvs.version;void 0!==c?c!==Fu&&(yield l.kvsService.set({version:Fu,previousVersion:c,latestVersion:Fu}),yield l.emulationService.bootstrapComplete(),yield l.alertService.message("Update complete",`CloudpilotEmu was updated to version ${Fu}.`,{Changes:()=>l.showChangelog()})):l.kvsService.kvs.version=Fu})),this.mutex=new Aa,this.mutex.runExclusive(this.checkForDowngrade.bind(this))}start(){this.checkForUpgrade(),this.startUpdateCheck(),this.registerForUpdates()}startUpdateCheck(){this.scheduleUpdateCheck()}registerForUpdates(){var n=this;this.serviceWorkerService.updateAvailableEvent.addHandler((0,F.Z)(function*(){yield n.emulationService.bootstrapComplete(),n.alertService.updateAvailable(()=>n.serviceWorkerService.activateUpdate())}))}checkForDowngrade(){var n=this;return(0,F.Z)(function*(){if(yield n.kvsService.initialize(),n.kvsService.kvs.previousVersion===Fu){const o=yield window.navigator.serviceWorker.getRegistration();console.log("downgrade detected"),o&&(yield o.unregister())&&(yield n.kvsService.set({previousVersion:void 0}),console.log("worker derigstered, reloading..."),window.location.reload())}})()}showChangelog(){var n=this;return(0,F.Z)(function*(){yield(yield n.modalController.create({component:Nu,componentProps:{url:rP,title:"Changelog"}})).present()})()}scheduleUpdateCheck(){var n=this;setTimeout((0,F.Z)(function*(){yield n.serviceWorkerService.update(),n.scheduleUpdateCheck()}),9e5)}}return(e=t).\u0275fac=function(n){return new(n||e)(le(Ii),le(Pa),le(Fr),le(fs),le(DS))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),tq=(()=>{var e;class t{constructor(n,o,i,s){this.kvsService=n,this.alertService=o,this.emulationService=i,this.pwaService=s}start(){var n=this;return(0,F.Z)(function*(){const o=n.kvsService.kvs.infoId??0;n.kvsService.kvs.infoId=yield n.showInfo(o),n.pwaService.getInstallationMode()===Jl.pwa&&go&&!_l&&(n.kvsService.kvs.ios174UpdateWarningId=yield n.showIOS174UpdateWarning(n.kvsService.kvs.ios174UpdateWarningId))})()}showInfo(n){var o=this;return(0,F.Z)(function*(){return 2===n&&go&&(yield o.emulationService.bootstrapComplete(),yield o.alertService.message("iOS 17 bug resolved","\n                The browser bug that impacted startup and offline use on iOS 17\n                has been fully resolved by switching to another service worker\n                implementation that does not trigger it.\n                <br><br>\n                CloudpilotEmu now is fully functional on iOS 17 again.\n            ")),3})()}showIOS174UpdateWarning(n){var o=this;return(0,F.Z)(function*(){return(n??0)>0&&(yield o.emulationService.bootstrapComplete(),yield o.alertService.message("Update to iOS 17.4","\n                    Apple has backpedaled and will not disable homescreen apps in the European\n                    Union. The update to 17.4 is expected to be safe, and CloudpilotEmu will\n                    continue to work as before.\n                ")),0})()}}return(e=t).\u0275fac=function(n){return new(n||e)(le(Ii),le(Fr),le(Pa),le(X_))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),nq=(()=>{var e;class t{constructor(n,o,i,s){this.pwaService=n,this.updateService=o,this.bootstrapService=i,this.infoService=s}ngAfterViewInit(){var n=this;return(0,F.Z)(function*(){n.bootstrapService.notifyHasRendered(),yield n.infoService.start(),n.pwaService.invite(),n.updateService.start()})()}}return(e=t).\u0275fac=function(n){return new(n||e)(v(X_),v(OP),v(CP),v(tq))},e.\u0275cmp=Ye({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(n,o){1&n&&(j(0,"ion-app"),Ue(1,"ion-router-outlet"),L())},dependencies:[mR,vh]}),t})(),NP=(()=>{var e;class t{constructor(){}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ye({type:e,selectors:[["app-dummy"]],decls:2,vars:0,template:function(n,o){1&n&&(j(0,"div"),Ee(1,"Dummy"),L())},encapsulation:2}),t})(),FP=(()=>{var e;class t{constructor(n,o){this.linkApi=n,this.router=o}canActivate(n){return n.url[0]?.path?.startsWith("install")?(this.linkApi.installation.dispatchRequest(n.queryParams.url),this.router.navigateByUrl("/tab/emulation"),!1):!n.url[0]?.path?.startsWith("import")||(this.linkApi.import.dispatchRequest(n.queryParams.url),this.router.navigateByUrl("/tab/sessions"),!1)}}return(e=t).\u0275fac=function(n){return new(n||e)(le(EC),le(Vo))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const IS=te.m515,rq=lS[2],oq=lS[0],vf="rgba(0,0,0,0.2)";function LP(e){const t=Ih(e),r=(0===t.screenSize?3:2)*devicePixelRatio,n={frameDevice:1,frameCanvas:r},o=l=>({frameDevice:l,frameCanvas:l*r}),i=l=>({frameDevice:l,frameCanvas:n.frameCanvas+l*r}),s=o(t.silkscreenHeight>0?1:0),a=o(function lq(e){switch(e){case 3:case 1:return 60;case 2:return 45;default:return 30}}(t.screenSize));return{scale:r,borderWidth:n,height:o(2*n.frameDevice+t.height+s.frameDevice+t.silkscreenHeight+a.frameDevice),width:o(2*n.frameDevice+t.width),screenHeight:o(t.height),screenWidth:o(t.width),screenLeft:i(0),screenTop:i(0),screenBottom:i(t.height),separatorHeight:s,silkscreenHeight:o(t.silkscreenHeight),silkscreenTop:i(t.height+s.frameDevice),silkscreenBottom:i(t.height+s.frameDevice+t.silkscreenHeight),softSilkscreenHeight:o(t.silkscreenHeight>0?0:t.height-t.width),buttonHeight:a,buttonWidth:a,buttonTop:i(t.height+s.frameDevice+t.silkscreenHeight),buttonBottom:i(t.height+s.frameDevice+t.silkscreenHeight+a.frameDevice)}}class cq{constructor(t){this.skinLoader=t,this.layout=LP(IS),this.onResize=new sr.j}get width(){switch(this.getOrientation()){case Ar.portrait:case Ar.portrait180:case void 0:return this.layout.width.frameCanvas;default:return this.layout.height.frameCanvas}}get height(){switch(this.getOrientation()){case Ar.portrait:case Ar.portrait180:case void 0:return this.layout.height.frameCanvas;default:return this.layout.width.frameCanvas}}updateEmulationCanvas(t){this.setupTransformation(),this.drawEmulationCanvas(t),this.onAfterUpdateCanvas()}eventToPalmCoordinates(t,r=!1){if(!this.ctx)return;const n=this.ctx.canvas.getBoundingClientRect();let o,i,s,a;n.width/n.height>this.width/this.height?(a=n.height,s=this.width/this.height*n.height,i=n.top,o=n.left+(n.width-s)/2):(s=n.width,a=this.height/this.width*n.width,o=n.left,i=n.top+(n.height-a)/2);let l=(t.clientX-o)/s*this.width/this.layout.scale,c=(t.clientY-i)/a*this.height/this.layout.scale;switch(this.getOrientation()){case Ar.landscape90:{const p=c;c=this.layout.height.frameDevice-l,l=p;break}case Ar.landscape270:{const p=c;c=l,l=this.layout.width.frameDevice-p;break}case Ar.portrait180:l=this.layout.width.frameDevice-l,c=this.layout.height.frameDevice-c}l-=this.layout.borderWidth.frameDevice,c-=this.layout.borderWidth.frameDevice,c>=this.layout.screenHeight.frameDevice&&(c<=this.layout.screenHeight.frameDevice+this.layout.separatorHeight.frameDevice?c=this.layout.screenHeight.frameDevice:c-=this.layout.separatorHeight.frameDevice);const f=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice;if(r)l<0&&(l=0),l>=this.layout.screenWidth.frameDevice&&(l=this.layout.screenWidth.frameDevice-1),c<0&&(c=0),c>=f&&(c=f-1);else if(l<0||l>=this.layout.screenWidth.frameDevice||c<0||c>=f)return;return[l,c]}isSilkscreen(t){const[,r]=t;return!this.isButtons(t)&&r>=this.layout.screenHeight.frameDevice}isButtons([,t]){return t>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice}determineButton([t,r]){return t>=this.layout.screenWidth.frameDevice-this.layout.buttonWidth.frameDevice?3:t>=this.layout.screenWidth.frameDevice-2*this.layout.buttonWidth.frameDevice?2:t>=2*this.layout.buttonWidth.frameDevice?r>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice/2?5:4:t>=this.layout.buttonWidth.frameDevice?1:0}initWithCanvas(t=this.ctx?.canvas){var r=this;return(0,F.Z)(function*(){if(!t)return;r.layout=LP(r.getDeviceId()),r.onResize.dispatch(),t.width=r.width,t.height=r.height;const n=t.getContext("2d");if(!n)throw new Error("canvas not supported - get a new browser");r.ctx=n,r.setupTransformation(),r.fillCanvasRect(0,0,r.layout.width.frameCanvas,r.layout.height.frameCanvas,r.frameColor()),r.fillRect(0,0,r.layout.screenWidth.frameDevice,r.layout.screenHeight.frameDevice+r.layout.silkscreenHeight.frameDevice+r.layout.separatorHeight.frameDevice+r.layout.buttonHeight.frameDevice,r.backgroundColor()),r.drawEmulationCanvas(),yield Promise.all([r.drawSilkscreen(),r.drawButtons()])})()}drawButtons(t=[]){var r=this;return(0,F.Z)(function*(){r.ctx&&(r.setupTransformation(),r.ctx.imageSmoothingEnabled=!0,r.ctx.imageSmoothingQuality="high",r.ctx.drawImage(yield r.buttonsImage()(r.layout.screenWidth.frameCanvas,r.layout.buttonHeight.frameCanvas),r.layout.screenLeft.frameCanvas,r.layout.buttonTop.frameCanvas,r.layout.screenWidth.frameCanvas,r.layout.buttonHeight.frameCanvas),t.includes(0)&&r.fillRect(0,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,vf),t.includes(1)&&r.fillRect(r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,vf),t.includes(2)&&r.fillRect(r.layout.screenWidth.frameDevice-2*r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,vf),t.includes(3)&&r.fillRect(r.layout.screenWidth.frameDevice-r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,vf),t.includes(4)&&r.fillRect(2*r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.screenWidth.frameDevice-4*r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice/2,vf),t.includes(5)&&r.fillRect(2*r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice+r.layout.buttonHeight.frameDevice/2,r.layout.screenWidth.frameDevice-4*r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice/2,vf))})()}onAfterUpdateCanvas(){}setupTransformation(){if(this.ctx)switch(this.ctx.resetTransform(),this.getOrientation()){case Ar.portrait:case void 0:break;case Ar.landscape90:this.ctx.translate(this.layout.height.frameCanvas,0),this.ctx.rotate(Math.PI/2);break;case Ar.landscape270:this.ctx.translate(0,this.layout.width.frameCanvas),this.ctx.rotate(3*Math.PI/2);break;case Ar.portrait180:this.ctx.translate(this.layout.width.frameCanvas,this.layout.height.frameCanvas),this.ctx.rotate(Math.PI)}}drawSilkscreen(){var t=this;return(0,F.Z)(function*(){0===t.layout.silkscreenHeight.frameCanvas||!t.ctx||(t.setupTransformation(),t.fillRect(t.layout.screenLeft.frameDevice,t.layout.silkscreenTop.frameDevice,t.layout.screenWidth.frameDevice,t.layout.silkscreenHeight.frameDevice,rq),t.ctx.imageSmoothingEnabled=!0,t.ctx.imageSmoothingQuality="high",t.ctx.drawImage(yield t.silkscreenImage()(t.layout.screenWidth.frameCanvas,t.layout.silkscreenHeight.frameCanvas),t.layout.borderWidth.frameCanvas,t.layout.silkscreenTop.frameCanvas,t.layout.screenWidth.frameCanvas,t.layout.silkscreenHeight.frameCanvas))})()}drawEmulationCanvas(t=this.lastEmulationCanvas){!t||!this.ctx||(this.lastEmulationCanvas=t,this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(t,this.layout.screenLeft.frameCanvas,this.layout.screenTop.frameCanvas,this.layout.screenWidth.frameCanvas,this.layout.screenHeight.frameCanvas))}fillRect(t,r,n,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(this.layout.borderWidth.frameCanvas+this.layout.scale*t,this.layout.borderWidth.frameCanvas+this.layout.scale*r,this.layout.scale*n,this.layout.scale*o),this.ctx.fillStyle=i,this.ctx.fill())}fillCanvasRect(t,r,n,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(t,r,n,o),this.ctx.fillStyle=i,this.ctx.fill())}silkscreenImage(){return this.skinLoader.loadSkinElement(this.silkscreenSkinElement())}silkscreenSkinElement(){switch(this.getDeviceId()){case te.pegT600c:case te.pegT650c:return"silkscreen/clie-t600.svg";case te.pegN700c:case te.pegN600c:return"silkscreen/clie-n610.svg";case te.pegS320:case te.pegS300:return"silkscreen/clie-s300.svg";case te.pegS500c:return"silkscreen/clie-s500.svg";case te.pegT400:return"silkscreen/clie-t415.svg";case te.acerS11:return"silkscreen/acer-s10.svg";case te.palmPilot:case te.pilot:case te.iii:case te.palmVII:return"silkscreen/pilot.svg";case te.m500:return"silkscreen/m500.svg";case te.m505:case te.m515:case te.m520:return"silkscreen/m515.svg";case te.iiic:return"silkscreen/iiic.svg";case te.m100:case te.m105:case te.m125:return"silkscreen/m100.svg";case te.m130:return"silkscreen/m130.svg";case te.i710:return"silkscreen/tungstenw.svg";case te.i705:return"silkscreen/i705.svg";default:return"silkscreen/v.svg"}}buttonsImage(){return this.skinLoader.loadSkinElement(this.buttonsSkinElement())}buttonsSkinElement(){switch(this.getDeviceId()){case te.acerS11:return"hard-buttons/acer-s10.svg";case te.pegNR70:return"hard-buttons/clie-nr70.svg";case te.pegN700c:return"hard-buttons/clie-n700.svg";case te.pegN600c:return"hard-buttons/clie-n610.svg";case te.pegS300:return"hard-buttons/clie-s300.svg";case te.pegS500c:return"hard-buttons/clie-s500.svg";case te.pegS320:return"hard-buttons/clie-s320.svg";case te.pegT400:case te.pegT600c:case te.pegT650c:return"hard-buttons/clie-t415.svg";case te.pilot:case te.palmPilot:return"hard-buttons/pilot.svg";case te.m500:return"hard-buttons/m500.svg";case te.m505:case te.m515:case te.m520:return"hard-buttons/m515.svg";case te.iiic:return"hard-buttons/iiic.svg";case te.m100:case te.m105:return"hard-buttons/m100.svg";case te.m125:return"hard-buttons/m125.svg";case te.m130:return"hard-buttons/m130.svg";case te.i710:return"hard-buttons/tungstenw.svg";case te.iii:case te.iiix:case te.iiixe:case te.palmVII:case te.palmVIIEZ:case te.palmVIIx:return"hard-buttons/iiix.svg";case te.iiie:return"hard-buttons/iiie.svg";case te.i705:return"hard-buttons/i705.svg";case te.handera330:return"hard-buttons/handera330.svg";case te.handera330c:return"hard-buttons/handera330c.svg";case te.lp168:return"hard-buttons/lp168.svg";default:return"hard-buttons/v.svg"}}backgroundColor(){return cS(this.getDeviceId())?"white":oq}frameColor(){return cS(this.getDeviceId())?"white":"#ccc"}}function dq(e){return new Promise((t,r)=>{const n=new Image;n.onload=()=>t(n),n.onerror=()=>r(),n.src=e})}class pq{constructor(t){this.cloudpilot=t,this.images=new Map}loadSkinElement(t){if(this.images.has(t))return this.images.get(t);const r=this.cloudpilot.then(o=>o.loadSkin(t)).then(o=>{return o?Promise.all([o,dq((e=o,`data:image/svg+xml;base64,${btoa(e)}`))]):Promise.reject(new Error(`failed to load skin ${t}`));var e}),n=function uq(e,t){let r,n;const o=document.createElement("canvas");return function(){var i=(0,F.Z)(function*(s,a){if(r===s&&n===a)return o;o.width=s,o.height=a;const l=o.getContext("2d");if(!l)throw new Error("get a new browser");return l.drawImage(yield e,0,0,o.width,o.height),(wh||go)&&(yield t).indexOf("data:image")>=0&&(yield new Promise(c=>setTimeout(c,0)),l.drawImage(yield e,0,0,o.width,o.height)),r=s,n=a,o});return function(s,a){return i.apply(this,arguments)}}()}(r.then(([,o])=>o),r.then(([o])=>o));return this.images.set(t,n),n}}let lv=(()=>{var e;class t extends cq{constructor(n){super(new pq(n.cloudpilot)),this.cloudpilotService=n,this.statisticsVisible=!1}initialize(n,o=this.session){var i=this;return(0,F.Z)(function*(){i.session=o,yield i.initWithCanvas(n)})()}clearStatistics(){var n=this;return(0,F.Z)(function*(){n.statisticsVisible=!1,n.layout.silkscreenHeight.frameCanvas>0?yield n.drawSilkscreen():yield n.drawEmulationCanvas()})()}updateStatistics(n,o){var i=this;return(0,F.Z)(function*(){yield i.clearStatistics(),i.drawStatistics(n,o),i.lastEmulationStatistics=o,i.lastSnapshotStatistics=n,i.statisticsVisible=!0})()}getDeviceId(){return this.session?.device??IS}getOrientation(){return this.session?.deviceOrientation??Ar.portrait}onAfterUpdateCanvas(){this.statisticsVisible&&0===this.layout.silkscreenHeight.frameCanvas&&this.drawStatistics(this.lastSnapshotStatistics,this.lastEmulationStatistics)}drawStatistics(n,o){if(!this.ctx)return;this.setupTransformation();const i=this.layout.silkscreenHeight.frameDevice>0?this.layout.silkscreenHeight:this.layout.softSilkscreenHeight,s=this.layout.silkscreenHeight.frameCanvas>0?this.layout.silkscreenTop:{frameCanvas:this.layout.screenBottom.frameCanvas-i.frameCanvas,frameDevice:this.layout.screenBottom.frameDevice-i.frameDevice};this.ctx.beginPath(),this.fillRect(this.layout.screenLeft.frameDevice,s.frameDevice,this.layout.screenWidth.frameDevice,i.frameDevice,"rgba(255,255,255,0.6)");const l=function hq(e){switch(e){case 1:case 3:return 2;case 2:return 1.5;default:return 1}}(Ih(this.session?.device??IS).screenSize);this.ctx.font=6*this.layout.scale*l+"px monospace",this.ctx.fillStyle="black",[...n||o?[]:["collecting statistics..."],...n?[`last snapshot          : ${new Date(n.timestamp).toLocaleTimeString()}`,`snapshot pages         : ${n.pages}`,`snapshot time total    : ${n.timeTotal.toFixed(2)} msec`,`snapshot time blocking : ${n.timeBlocking.toFixed(2)} msec`]:[],...o?[`host speed             : ${o.hostSpeed.toFixed(2)}x`,`emulation speed        : ${o.emulationSpeed.toFixed(2)}x`,`average FPS            : ${o.averageFps.toFixed(2)}`]:[]].forEach((c,f)=>this.ctx.fillText(c,this.layout.screenLeft.frameCanvas+l*this.layout.scale,s.frameCanvas+l*this.layout.scale*(8+6*f)))}}return(e=t).\u0275fac=function(n){return new(n||e)(le(Ra))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),xS=(()=>{var e;class t{constructor(n,o,i){this.router=n,this.canvasDisplayService=o,this.emulationStateService=i,this.updateUseSmallUI=()=>{const s=!!document.querySelector("html.md"),a=s?56:44;this.useSmallUI=this.canvasArea(window.innerHeight-a-(s?57:51)-6,window.innerWidth-6)<this.canvasArea(window.innerHeight-a-25-6,window.innerWidth-6)},this.useSmallUI=!1,this.isLockedFlag=!1,window.addEventListener("resize",this.updateUseSmallUI),window.addEventListener("orientationchange",this.updateUseSmallUI),o.onResize.addHandler(()=>this.updateUseSmallUI()),this.updateUseSmallUI()}get smallUI(){return"/tab/emulation"===this.router.url&&this.useSmallUI&&void 0!==this.emulationStateService.getCurrentSession()}lock(){this.isLockedFlag=!0}unlock(){this.isLockedFlag=!1}isLocked(){return this.isLockedFlag}canvasArea(n,o){let i,s;return n=Math.min(n,this.canvasDisplayService.height/devicePixelRatio),(o=Math.min(o,this.canvasDisplayService.width/devicePixelRatio))/n>this.canvasDisplayService.width/this.canvasDisplayService.height?(s=n,i=n/this.canvasDisplayService.height*this.canvasDisplayService.width):(i=o,s=o/this.canvasDisplayService.width*this.canvasDisplayService.height),i*s}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Vo),v(lv),v(ec))},e.\u0275cmp=Ye({type:e,selectors:[["app-tabs"]],decls:23,vars:4,consts:[[1,"overflow-wrapper"],["slot","bottom"],["tab","emulation"],["name","phone-portrait-outline"],["tab","sessions"],["name","albums-outline"],["tab","storage"],["name","folder-outline"],["tab","settings"],["name","cog-outline"],["tab","about"],["name","help-outline"]],template:function(n,o){1&n&&(j(0,"ion-tabs")(1,"div",0)(2,"ion-tab-bar",1)(3,"ion-tab-button",2),Ue(4,"ion-icon",3),j(5,"ion-label"),Ee(6,"Emulator"),L()(),j(7,"ion-tab-button",4),Ue(8,"ion-icon",5),j(9,"ion-label"),Ee(10,"Sessions"),L()(),j(11,"ion-tab-button",6),Ue(12,"ion-icon",7),j(13,"ion-label"),Ee(14,"Cards"),L()(),j(15,"ion-tab-button",8),Ue(16,"ion-icon",9),j(17,"ion-label"),Ee(18,"Settings"),L()(),j(19,"ion-tab-button",10),Ue(20,"ion-icon",11),j(21,"ion-label"),Ee(22,"About"),L()()()()()),2&n&&(me(2),ea("small-ui",o.smallUI)("disabled",o.isLocked()))},dependencies:[jo,zi,j_,_R,vR],styles:["ion-tab-bar[_ngcontent-%COMP%]{min-width:280px}ion-tab-bar.small-ui[_ngcontent-%COMP%]{height:25px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:21px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon.md[_ngcontent-%COMP%]{margin-top:3px;position:absolute;bottom:1px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:none}ion-tab-bar.disabled[_ngcontent-%COMP%]{display:none}.overflow-wrapper[_ngcontent-%COMP%]{overflow-x:auto}ion-icon[_ngcontent-%COMP%]{font-size:25px}"]}),t})(),Th=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Wr({type:e}),e.\u0275inj=We({imports:[ll,q0.forChild(),Hc,Mu,F_]}),t})(),mq=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Wr({type:e}),e.\u0275inj=We({imports:[ll,Mu,Hc,Th,q0.forChild()]}),t})(),gq=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Wr({type:e}),e.\u0275inj=We({imports:[ll,Mu,Hc,Th]}),t})(),_q=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Wr({type:e}),e.\u0275inj=We({imports:[ll,Mu,Hc,F_,Th]}),t})(),vq=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Wr({type:e}),e.\u0275inj=We({imports:[ll,Mu,Hc,Th,F_]}),t})(),yq=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Wr({type:e}),e.\u0275inj=We({imports:[ll,Hc,Mu,F_,Th]}),t})();const bq=S.p+"assets/doc/about-3f271545181df70a.md";function Cq(e,t){if(1&e){const r=yn();j(0,"ion-button",1),Ve("click",function(){return St(r),wt(st().onClick())}),Ue(1,"ion-icon",2),L()}if(2&e){const r=st();me(1),Se("name",r.iconName)}}let cv=(()=>{var e;class t{constructor(n){this.pwaService=n}onClick(){this.pwaService.install()}get iconName(){return go?"logo-apple-appstore":K0?"logo-google-playstore":"apps-outline"}get show(){return this.pwaService.promptForInstall()}}return(e=t).\u0275fac=function(n){return new(n||e)(v(X_))},e.\u0275cmp=Ye({type:e,selectors:[["app-pwa-prompt"]],decls:1,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"],[3,"name"]],template:function(n,o){1&n&&Vt(0,Cq,2,1,"ion-button",0),2&n&&Se("ngIf",o.show)},dependencies:[Eo,ji,jo]}),t})();var Mh;function Sq(e,t){1&e&&(j(0,"div",9),Ue(1,"ion-spinner"),L())}function wq(e,t){if(1&e){const r=yn();j(0,"div"),Ee(1,"app cached for offline use"),L(),j(2,"a",7),Ve("click",function(){return St(r),wt(st().resetWorker())}),Ee(3,"reset worker"),L()}}class TS{constructor(t,r){this.modalController=t,this.serviceWorkerService=r,this.loading=!0}get version(){return Fu}get url(){return bq}showChangelog(){var t=this;return(0,F.Z)(function*(){yield(yield t.modalController.create({component:Nu,componentProps:{url:rP,title:"Changelog"}})).present()})()}get serviceWorkerAvailable(){return this.serviceWorkerService.isRegistered()}resetWorker(){var t=this;return(0,F.Z)(function*(){yield t.serviceWorkerService.reset()})()}}function Eq(e,t){if(1&e&&(j(0,"ion-select-option",16),Ee(1),L()),2&e){const r=t.$implicit;Se("value",r[0]),me(1),si("",r[1]," ")}}function Dq(e,t){if(1&e&&(j(0,"ion-select-option",16),Ee(1),L()),2&e){const r=t.$implicit;Se("value",r[0]),me(1),si("",r[1]," ")}}function Iq(e,t){if(1&e&&(j(0,"ion-item",6)(1,"ion-label",7),Ee(2,"Hotsync name"),L(),Ue(3,"ion-input",17),L()),2&e){const r=st();me(3),Se("placeholder",r.placeholder)}}(Mh=TS).\u0275fac=function(t){return new(t||Mh)(v(fs),v(DS))},Mh.\u0275cmp=Ye({type:Mh,selectors:[["app-about"]],decls:21,vars:5,consts:[["slot","secondary"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],[1,"markdown-container"],[3,"src","disableSanitizer","load"],[1,"version"],["href","javascript:",3,"click"],["src","assets/logo.svg",1,"logo"],[1,"loader"]],template:function(t,r){1&t&&(j(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ee(3,"About"),L(),j(4,"ion-buttons",0),Ue(5,"app-pwa-prompt"),L()()(),j(6,"ion-content")(7,"ion-header",1)(8,"ion-toolbar")(9,"ion-title",2),Ee(10,"About"),L()()(),Vt(11,Sq,2,0,"div",3),j(12,"div",4)(13,"markdown",5),Ve("load",function(){return r.loading=!1}),L()(),j(14,"div",6),Ee(15),Ue(16,"br"),j(17,"a",7),Ve("click",function(){return r.showChangelog()}),Ee(18,"Changelog"),L(),Vt(19,wq,4,0),L(),Ue(20,"img",8),L()),2&t&&(me(11),Se("ngIf",r.loading),me(2),Se("src",r.url)("disableSanitizer",!0),me(2),si(" CloudpilotEmu version ",r.version," "),me(4),yI(19,r.serviceWorkerAvailable?19:-1))},dependencies:[Eo,Gi,Ui,Hi,gh,Wi,Zi,cv,Z0],styles:[".version[_ngcontent-%COMP%]{width:100%;bottom:1em;text-align:center;font-size:.75em;margin-top:3em;margin-bottom:1em}.markdown-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:center}markdown[_ngcontent-%COMP%]{display:block;margin-left:.5em;margin-right:.5em;max-width:var(--cp-page-width)}.loader[_ngcontent-%COMP%]{width:100%;height:10em;display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{width:10em;height:10em;margin:1em auto;display:block}@media (prefers-color-scheme: dark){.logo[_ngcontent-%COMP%]{filter:invert(100%)}}"]}),re([Tn()],TS.prototype,"resetWorker",null);let $P=(()=>{var e;class t{constructor(n,o){this.sessionService=n,this.alertService=o,this.validateNameUnique=i=>i.value!==this.session.name&&this.sessionService.getSessions().some(s=>s.name===i.value)?{name:"already taken"}:null,this.onSave=()=>{},this.onCancel=()=>{},this.orientations=[[Ar.portrait,"Portrait"],[Ar.landscape90,"Landscape 90\xb0"],[Ar.landscape270,"Landscape 270\xb0"],[Ar.portrait180,"Upside down"]]}get formControlName(){return this.formGroup.get("name")}get formControlHotsyncName(){return this.formGroup.get("hotsyncName")}get formControlDevice(){return this.formGroup.get("device")}get formControlManageHotsyncName(){return this.formGroup.get("manageHotsyncName")}get formControlSpeed(){return this.formGroup.get("speed")}get formControlOrientation(){return this.formGroup.get("orientation")}get showHotsyncNameInput(){return this.formControlManageHotsyncName.value}get placeholder(){return this.formControlHotsyncName.value?this.formControlName.value:void 0!==this.session.hotsyncName||this.session.dontManageHotsyncName?"Enter hotsync name":"use setting from device"}get deviceList(){return this.availableDevices.map(n=>[n,aP(n)])}ngOnInit(){this.createFormGroup()}save(){this.formGroup.invalid||(this.session.name=this.formControlName.value,this.formControlManageHotsyncName.value?this.session.dontManageHotsyncName?(this.session.dontManageHotsyncName=!1,this.session.hotsyncName=this.formControlHotsyncName.value||"",this.alertService.message("Reset required","Please reset the virtual device in order to make sure that the hotsync name is synced properly again.")):this.session.hotsyncName=this.formControlHotsyncName.value||(void 0===this.session.hotsyncName?void 0:""):this.session.dontManageHotsyncName=!0,this.session.device=this.formControlDevice.value,this.session.speed=this.speedValue,this.session.deviceOrientation=this.formControlOrientation.value,this.onSave())}onEnter(){this.save()}get speedValue(){const n=this.speedTransient??this.formControlSpeed.value??0;return n>=0?1+n:1/(1-n)}get speedLabel(){return"Clock: "+(0===(this.speedTransient??this.formControlSpeed.value)?"default":`${Math.round(this.speedValue*function eZ(e){switch(e){case te.palmPilot:case te.pilot:case te.iii:case te.palmVII:case te.palmVx:case te.palmV:case te.palmVIIEZ:case te.palmVIIx:case te.iiic:case te.iiix:case te.iiixe:case te.iiie:case te.m100:case te.m105:case te.pegS300:case te.pegS500c:return 16;case te.m500:case te.m505:case te.m515:case te.m520:case te.m125:case te.m130:case te.i705:case te.i710:case te.handera330:case te.handera330c:case te.pegS320:case te.pegT400:case te.pegN600c:case te.pegT600c:case te.pegN700c:case te.acerS11:return 33;case te.pegT650c:case te.pegNR70:case te.lp168:return 66}}(this.formControlDevice.value))}MHz`)}onSpeedDrag(n){this.speedTransient=n.detail?.value}createFormGroup(){this.formGroup=new k_({name:new ho(this.session.name,{validators:[nh.required,this.validateNameUnique]}),manageHotsyncName:new ho(!this.session.dontManageHotsyncName),hotsyncName:new ho(this.session.hotsyncName||""),device:new ho({value:this.session.device,disabled:1===this.availableDevices.length}),speed:new ho((this.session.speed||1)>=1?(this.session.speed||1)-1:1-1/this.session.speed),orientation:new ho(this.session.deviceOrientation||Ar.portrait)})}}return(e=t).\u0275fac=function(n){return new(n||e)(v(nc),v(Fr))},e.\u0275cmp=Ye({type:e,selectors:[["app-session-settings"]],inputs:{onSave:"onSave",onCancel:"onCancel",session:"session",availableDevices:"availableDevices"},decls:41,vars:6,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter session name","formControlName","name"],["formControlName","device"],[3,"value",4,"ngFor","ngForOf"],["formControlName","orientation"],[1,"label-speed"],["min","-4","max","4","step","0.25","snaps","true","ticks","false","formControlName","speed",3,"ionInput","ionKnobMoveEnd"],["formControlName","manageHotsyncName"],["lines","none",4,"ngIf"],[3,"value"],["formControlName","hotsyncName","maxlength","40",3,"placeholder"]],template:function(n,o){1&n&&(j(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ee(3,"Session settings"),L(),j(4,"ion-buttons",0)(5,"ion-button",1),Ve("click",function(){return o.save()}),Ee(6,"Save"),L()(),j(7,"ion-buttons",2)(8,"ion-button",3),Ve("click",function(){return o.onCancel()}),Ee(9,"Cancel"),L()()()(),j(10,"ion-content",4)(11,"form",5),Ve("keydown.enter",function(){return o.onEnter()}),j(12,"h1"),Ee(13,"Session"),L(),j(14,"ion-item",6)(15,"ion-label",7),Ee(16,"Session name"),L(),Ue(17,"ion-input",8),L(),j(18,"h1"),Ee(19,"Device"),L(),j(20,"ion-item",6)(21,"ion-label",7),Ee(22,"Device type"),L(),j(23,"ion-select",9),Vt(24,Eq,2,2,"ion-select-option",10),L()(),j(25,"ion-item",6)(26,"ion-label",7),Ee(27,"Orientation"),L(),j(28,"ion-select",11),Vt(29,Dq,2,2,"ion-select-option",10),L()(),j(30,"ion-item",6)(31,"ion-label",12),Ee(32),L(),j(33,"ion-range",13),Ve("ionInput",function(s){return o.onSpeedDrag(s)})("ionKnobMoveEnd",function(){return o.speedTransient=void 0}),L()(),j(34,"h1"),Ee(35,"Hotsync"),L(),j(36,"ion-item",6)(37,"ion-label"),Ee(38,"Manage hotsync name"),L(),Ue(39,"ion-toggle",14),L(),Vt(40,Iq,4,1,"ion-item",15),L()()),2&n&&(me(5),Se("disabled",o.formGroup.invalid),me(6),Se("formGroup",o.formGroup),me(13),Se("ngForOf",o.deviceList),me(5),Se("ngForOf",o.orientations),me(3),Ni(o.speedLabel),me(8),Se("ngIf",o.showHotsyncNameInput))},dependencies:[Hl,Eo,ji,Gi,Ui,Hi,Xl,mo,zi,L0,hh,mh,Wi,_h,Zi,lf,ph,Yl,Kl,Zl,ql,A0,Ma,hl],styles:["ion-item[_ngcontent-%COMP%]{--highlight-color-valid: var(--highlight-color-focused);--background: none}.label-speed[_ngcontent-%COMP%]{min-width:7.5rem}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}"]}),t})(),xq=(()=>{var e;class t{constructor(n,o,i,s,a,l,c){this.emulationService=n,this.loadingController=o,this.snapshotService=i,this.fileService=s,this.emulationStateService=a,this.alertService=l,this.cloudpilotService=c}saveBackup(n){var o=this;return(0,F.Z)(function*(){const i=o.emulationStateService.getCurrentSession();if(!i)return;const s=yield o.loadingController.create({message:"Backing up..."});yield s.present();const a=[];let l;yield o.emulationService.pause(),yield o.snapshotService.waitForPendingSnapshot();try{const c=yield o.cloudpilotService.cloudpilot;yield c.backup(function(){var f=(0,F.Z)(function*(p){for(p.Init(n);p.IsInProgress();){const m=p.GetCurrentDatabase();p.Save()||a.push(m),yield new Promise(C=>setTimeout(C,0))}l=c.getArchive(p)});return function(p){return f.apply(this,arguments)}}())}finally{yield s.dismiss(),yield o.emulationService.resume()}l?a.length>0?yield o.alertService.message("Backup complete",`\n                    ${CS(a)} failed  to backup.\n                    <br/><br/>\n                    Open databases cannot be backuped. Please run backup from the launcher\n                    in order to backup all databases.\n                `,{"Save Backup":()=>o.fileService.saveFile(wP(i,n),l)},"Cancel"):o.fileService.saveFile(wP(i,n),l):yield o.alertService.errorMessage("Backup failed.")})()}}return(e=t).\u0275fac=function(n){return new(n||e)(le(Pa),le(Ls),le(xh),le(Kc),le(ec),le(Fr),le(Ra))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const Tq=window.AudioContext||window.webkitAudioContext;function MS(e,t=100){return new Promise((r,n)=>{setTimeout(()=>n(new Error("timeout")),t),e.then(r,n)})}class Mq{constructor(t){var r=this;this.emulationService=t,this.initialize=()=>this.mutex.runExclusive((0,F.Z)(function*(){for(let n=0;n<3;n++)if(yield r.initializeAudioUnguarded())return!1;return!0})),this.updateState=(n=!1)=>this.mutex.runExclusive((0,F.Z)(function*(){if(!r.context||r.isRunning()===r.shouldRun())return;!n&&!r.isRunning()&&r.shouldRun()&&r.applyPwmUpdate();const o=r.context.state;if(r.shouldRun())try{r.updateGain(),yield MS(r.context.resume()),console.log("resume audio context")}catch{console.error(`failed to resume audio from state ${o}`)}else try{yield MS(r.context.suspend()),console.log("suspend audio context")}catch{console.error(`failed to suspend audio from state ${o}`)}console.log(`audio context state change ${o} -> ${r.context.state}`)})),this.onPwmUpdate=function(){var n=(0,F.Z)(function*(o){r.pendingPwmUpdate=o,r.initialized&&(r.shouldRun()!==r.isRunning()&&r.updateState(!0),r.shouldRun()&&r.applyPwmUpdate())});return function(o){return n.apply(this,arguments)}}(),this.mutex=new Aa,this.initialized=!1,this.muted=!1,this.emulationService.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.emulationService.emulationStateChangeEvent.addHandler(()=>this.updateState()),this.emulationService.powerOffChangeEvent.addHandler(()=>this.updateState()),go||document.addEventListener("visibilitychange",()=>this.updateState())}isInitialized(){return this.initialized}mute(t){this.muted=t,this.updateState()}isMuted(){return this.muted}shouldRun(){return this.emulationService.isRunning()&&!this.emulationService.isPowerOff()&&!this.muted&&this.gain()>0&&("hidden"!==document.visibilityState||go||this.runHidden())}updateGain(){this.gainNode&&(this.gainNode.gain.value=this.gain())}initializeAudioUnguarded(){var t=this;return(0,F.Z)(function*(){if(t.initialized)return!0;try{t.context=new Tq}catch(r){return console.error(r),console.error("web audio not available"),!1}try{t.context.destination.channelCount=1}catch{console.warn("audio driver: failed to set channel count")}try{yield t.start()}catch(r){return console.error(r),console.error("failed to initialize audio context"),!1}return t.context.addEventListener("statechange",()=>{"interrupted"===t.context?.state&&t.updateState()}),t.gainNode=t.context.createGain(),t.gainNode.channelCount=1,t.gainNode.channelInterpretation="speakers",t.gainNode.gain.value=t.gain(),t.gainNode.connect(t.context.destination),t.applyPwmUpdate(),t.initialized=!0,!0})()}start(){var t=this;return(0,F.Z)(function*(){t.context&&(yield MS(t.context.resume()),t.updateState(),console.log("audio context initialized"))})()}isRunning(){return"running"===this.context?.state}applyPwmUpdate(){if(!this.context||!this.pendingPwmUpdate)return;const{frequency:t,dutyCycle:r}=this.pendingPwmUpdate,n=this.context.sampleRate;if(this.pendingPwmUpdate=void 0,t<=0||r<=0||t>=n)return void this.disconnectSource();const o=this.context.createBuffer(1,Math.round(n/t),n),i=o.getChannelData(0);for(let a=0;a<i.length;a++)i[a]=a/i.length<r?1:0;const s=this.context.createBufferSource();s.channelCount=1,s.channelInterpretation="speakers",s.loop=!0,s.buffer=o,this.disconnectSource(),s.connect(this.gainNode),s.start(),this.bufferSourceNode=s,this.pendingPwmUpdate=void 0}disconnectSource(){this.bufferSourceNode&&(this.bufferSourceNode.stop(),this.bufferSourceNode.disconnect(),this.bufferSourceNode=void 0)}gain(){return this.getVolume()/2}}let AS=(()=>{var e;class t extends Mq{constructor(n,o,i,s){super(n),this.kvs=o,this.modalWatcher=i,this.featureService=s,this.modalWatcher.modalVisibilityChangeEvent.addHandler(()=>this.updateState())}getVolume(){return this.kvs.kvs.volume}runHidden(){return this.kvs.kvs.runHidden&&this.featureService.runHidden}shouldRun(){return!this.modalWatcher.isModalActive()&&super.shouldRun()}}return(e=t).\u0275fac=function(n){return new(n||e)(le(Pa),le(Ii),le(uS),le(ES))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),VP=(()=>{var e;class t{constructor(n,o){this.emulationService=n,this.ngZone=o,this.onInterval=()=>{this.emulationService.getEmulationSpeed()<1?(this.level<3&&this.level++,3===this.level&&this.ngZone.run(()=>this.slowdownDetected=!0)):(this.level>0&&this.level--,0===this.level&&this.ngZone.run(()=>this.slowdownDetected=!1))},this.onEmulationStateChanged=i=>{this.reset(),i&&void 0===this.intervalHandle&&(this.onInterval(),this.ngZone.runOutsideAngular(()=>this.intervalHandle=window.setInterval(this.onInterval,1e3))),!i&&void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)},this.slowdownDetected=!1,this.level=0,this.onEmulationStateChanged(this.emulationService.isRunning()),this.emulationService.emulationStateChangeEvent.addHandler(this.onEmulationStateChanged)}isSlowdownDetected(){return this.slowdownDetected}reset(){this.slowdownDetected=!1,this.level=0}ngOnDestroy(){this.emulationService.emulationStateChangeEvent.removeHandler(this.onEmulationStateChanged),void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)}}return(e=t).\u0275fac=function(n){return new(n||e)(le(Pa),le(Ze))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function kq(e,t){if(1&e){const r=yn();j(0,"ion-item",4),Ve("click",function(){return St(r),wt(st().power())}),j(1,"ion-label"),Ee(2,"Power"),L(),Ue(3,"ion-icon",5),L()}if(2&e){const r=st();Se("detail",!1)("disabled",!r.emulationService.isRunning())}}function Rq(e,t){if(1&e){const r=yn();j(0,"ion-item",4),Ve("click",function(){return St(r),wt(st().hotsync())}),j(1,"ion-label"),Ee(2,"Hotsync"),L(),Ue(3,"ion-icon",6),L()}if(2&e){const r=st();Se("detail",!1)("disabled",!r.emulationService.isRunning())}}function Pq(e,t){if(1&e){const r=yn();j(0,"ion-item",4),Ve("click",function(){return St(r),wt(st().reset())}),j(1,"ion-label"),Ee(2,"Reset"),L(),Ue(3,"ion-icon",7),L()}if(2&e){const r=st();Se("detail",!1)("disabled",!r.emulationService.isRunning())}}function Oq(e,t){if(1&e){const r=yn();j(0,"ion-item",8),Ve("click",function(){return St(r),wt(st().insertCard())}),j(1,"ion-label"),Ee(2),L(),Ue(3,"ion-icon",9),L()}if(2&e){const r=st();Se("detail",!1),me(2),si("Insert ",r.hasMemorystick?"stick":"SD card","")}}function Nq(e,t){if(1&e){const r=yn();j(0,"ion-item",8),Ve("click",function(){return St(r),wt(st().ejectCard())}),j(1,"ion-label"),Ee(2),L(),Ue(3,"ion-icon",10),L()}if(2&e){const r=st();Se("detail",!1),me(2),si("Eject ",r.hasMemorystick?"stick":"SD card","")}}function Fq(e,t){if(1&e){const r=yn();j(0,"ion-item",8),Ve("click",function(){return St(r),wt(st().mute(!1))}),j(1,"ion-label"),Ee(2,"Enable audio"),L(),Ue(3,"ion-icon",11),L()}2&e&&Se("detail",!1)}function Lq(e,t){if(1&e){const r=yn();j(0,"ion-item",8),Ve("click",function(){return St(r),wt(st().mute(!0))}),j(1,"ion-label"),Ee(2,"Disable audio"),L(),Ue(3,"ion-icon",12),L()}2&e&&Se("detail",!1)}function $q(e,t){if(1&e){const r=yn();j(0,"ion-item",4),Ve("click",function(){return St(r),wt(st().backup())}),j(1,"ion-label"),Ee(2,"Save backup"),L(),Ue(3,"ion-icon",13),L()}if(2&e){const r=st();Se("detail",!1)("disabled",r.backupDisabled)}}function Bq(e,t){if(1&e){const r=yn();j(0,"ion-item",8),Ve("click",function(){return St(r),wt(st().rotate())}),j(1,"ion-label"),Ee(2,"Rotate"),L(),Ue(3,"ion-icon",14),L()}2&e&&Se("detail",!1)}function Vq(e,t){if(1&e){const r=yn();j(0,"ion-item",8),Ve("click",function(){return St(r),wt(st().editSettings())}),j(1,"ion-label"),Ee(2,"Settings"),L(),Ue(3,"ion-icon",15),L()}2&e&&Se("detail",!1)}function jq(e){switch(e){case Ar.portrait:case void 0:return Ar.landscape90;case Ar.landscape90:return Ar.portrait180;case Ar.portrait180:return Ar.landscape270;case Ar.landscape270:return Ar.portrait;default:throw new Error("cannot happen")}}let Gq=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f,p,m,C,U,J,_e,De,Re,ht,pt){this.emulationService=n,this.emulationStateService=o,this.backupService=i,this.buttonService=s,this.actionSheetController=a,this.popoverController=l,this.audioService=c,this.kvsService=f,this.modalController=p,this.sessionService=m,this.performanceWatchdogService=C,this.canvasDisplayService=U,this.cloudpilotService=J,this.storageCardService=_e,this.alertService=De,this.alertController=Re,this.storageService=ht,this.errorService=pt,this.showHelp=()=>{}}reset(){var n=this;return(0,F.Z)(function*(){n.popoverController.dismiss(),(yield n.actionSheetController.create({header:"How do you want to reset?",buttons:[{text:"Normal boot",handler:()=>n.emulationService.reset()},{text:"No extensions",handler:()=>n.emulationService.resetNoExtensions()},{text:"Hard reset",handler:()=>n.emulationService.resetHard()},{text:"Cancel",role:"cancel"}]})).present()})()}power(){this.buttonService.engage(6),this.popoverController.dismiss()}hotsync(){this.buttonService.engage(7),this.popoverController.dismiss()}help(){this.showHelp(),this.popoverController.dismiss()}backup(){var n=this;return(0,F.Z)(function*(){n.popoverController.dismiss(),(yield n.actionSheetController.create({header:"What do you want to backup?",buttons:[{text:"Only RAM (default)",handler:()=>n.backupService.saveBackup(!1)},{text:"Include ROM",handler:()=>n.backupService.saveBackup(!0)},{text:"Cancel",role:"cancel"}]})).present()})()}get isMuted(){return!this.audioService.isInitialized()||this.audioService.isMuted()}get isAudioOff(){return this.kvsService.kvs.volume<=0}mute(n){n?this.audioService.mute(!0):this.audioService.isInitialized()?this.audioService.mute(!1):this.audioService.initialize()}get backupDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get powerDisabled(){const n=this.emulationStateService.getCurrentSession();return!!n&&function tZ(e){switch(e){case te.i705:case te.i710:case te.pegNR70:case te.pegT650c:case te.lp168:return!0;default:return!1}}(n.device)}get hasActiveSession(){return!!this.emulationStateService.getCurrentSession()}get supportsStorageCard(){const n=this.emulationStateService.getCurrentSession();return!!n&&lP(n.device)!==pf.none}get hasMemorystick(){const n=this.emulationStateService.getCurrentSession();return!!n&&lP(n.device)===pf.memorystick}get hasMountedCard(){return void 0!==this.emulationStateService.getCurrentSession()?.mountedCard}editSettings(){var n=this;return(0,F.Z)(function*(){const o=n.emulationStateService.getCurrentSession();if(!o)return;const i=o.speed,s=o.deviceOrientation,a=yield n.modalController.create({component:$P,backdropDismiss:!1,componentProps:{session:o,availableDevices:[o.device],onSave:(l=(0,F.Z)(function*(){i!==o.speed&&n.performanceWatchdogService.reset(),s!==o.deviceOrientation&&(n.canvasDisplayService.initialize(void 0,o),n.canvasDisplayService.updateEmulationCanvas()),yield n.sessionService.updateSession(o),a.dismiss()}),function(){return l.apply(this,arguments)}),onCancel:()=>a.dismiss()}});var l;yield n.popoverController.dismiss(),yield a.present()})()}rotate(){var n=this;return(0,F.Z)(function*(){const o=n.emulationStateService.getCurrentSession();if(!o)return;yield n.storageService.updateSessionPartial(o.id,{deviceOrientation:jq(o.deviceOrientation)});const i=n.emulationStateService.getCurrentSession();yield n.canvasDisplayService.initialize(void 0,i),n.canvasDisplayService.updateEmulationCanvas()})()}insertCard(){var n=this;return(0,F.Z)(function*(){if(n.popoverController.dismiss(),void 0===n.emulationStateService.getCurrentSession()?.device)return;const i=yield n.cloudpilotService.cloudpilot,s=n.storageCardService.getAllCards().filter(l=>i.deviceSupportsCardSize(l.size)&&!n.storageCardService.mountedInSession(l.id));0!==s.length?yield(yield n.alertController.create({header:"Choose image for insertion",buttons:[{text:"Cancel",role:"cancel"},{text:"Insert",handler:l=>n.storageCardService.insertCard(l)}],inputs:s.map((l,c)=>({label:l.name,type:"radio",value:l.id,checked:0===c})),backdropDismiss:!1})).present():n.alertService.message("No image available",`There is no ${n.hasMemorystick?"memory stick":"SD card"} image available. Please go to the "Storage" tab in order to create new one.`)})()}ejectCard(){var n=this;return(0,F.Z)(function*(){try{yield n.storageCardService.ejectCurrentCard()}catch(o){n.errorService.fatalBug(o instanceof Error?o.message:"eject failed")}n.popoverController.dismiss()})()}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Pa),v(ec),v(xq),v(bP),v(yh),v(Ql),v(AS),v(Ii),v(fs),v(nc),v(VP),v(lv),v(Ra),v(_f),v(Fr),v(B0),v(qn),v(Pu))},e.\u0275cmp=Ye({type:e,selectors:[["app-emulation-context-menu"]],inputs:{showHelp:"showHelp"},decls:15,vars:11,consts:[["lines","full","button","",3,"detail","disabled","click",4,"ngIf"],["lines","full","button","",3,"detail","click",4,"ngIf"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"],["lines","full","button","",3,"detail","disabled","click"],["name","power-outline","slot","end"],["name","sync-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","log-in-outline","slot","end"],["name","log-out-outline","slot","end"],["name","volume-high-outline","slot","end"],["name","volume-mute-outline","slot","end"],["name","share-outline","slot","end"],["name","reload-outline","slot","end"],["name","cog-outline","slot","end"]],template:function(n,o){1&n&&(j(0,"ion-list"),Vt(1,kq,4,2,"ion-item",0)(2,Rq,4,2,"ion-item",0)(3,Pq,4,2,"ion-item",0)(4,Oq,4,2,"ion-item",1)(5,Nq,4,2,"ion-item",1)(6,Fq,4,1,"ion-item",1)(7,Lq,4,1,"ion-item",1)(8,$q,4,2,"ion-item",0)(9,Bq,4,1,"ion-item",1)(10,Vq,4,1,"ion-item",1),j(11,"ion-item",2),Ve("click",function(){return o.help()}),j(12,"ion-label"),Ee(13,"Help"),L(),Ue(14,"ion-icon",3),L()()),2&n&&(me(1),Se("ngIf",o.hasActiveSession&&!o.powerDisabled),me(1),Se("ngIf",o.hasActiveSession),me(1),Se("ngIf",o.hasActiveSession),me(1),Se("ngIf",o.supportsStorageCard&&!o.hasMountedCard),me(1),Se("ngIf",o.supportsStorageCard&&o.hasMountedCard),me(1),Se("ngIf",o.isMuted&&!o.isAudioOff),me(1),Se("ngIf",!o.isMuted&&!o.isAudioOff),me(1),Se("ngIf",o.hasActiveSession),me(1),Se("ngIf",o.hasActiveSession),me(1),Se("ngIf",o.hasActiveSession),me(1),Se("detail",!1))},dependencies:[Eo,jo,mo,zi,Fs]}),t})();const Uq=S.p+"assets/doc/emulation-43714ce6b9b92f30.md";function Hq(e,t){if(1&e){const r=yn();j(0,"ion-item",2),Ve("click",function(){const i=St(r).$implicit;return wt(st(2).onSelect(i))}),j(1,"div",3),Ee(2),L()()}if(2&e){const r=t.$implicit,n=t.index,o=st(2);Se("detail",!1)("lines",n===o.sessions.length-1?"none":"full"),me(2),Ni(r.name)}}function zq(e,t){if(1&e&&(j(0,"ion-list"),Vt(1,Hq,3,3,"ion-item",1),L()),2&e){const r=st();me(1),Se("ngForOf",r.sessions)}}let Wq=(()=>{var e;class t{constructor(){this.onSelect=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ye({type:e,selectors:[["app-emulation-breadcrumb-menu"]],inputs:{sessions:"sessions",onSelect:"onSelect"},decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"detail","lines","click"],[1,"text-wrapper"]],template:function(n,o){1&n&&Vt(0,zq,2,1,"ion-list",0),2&n&&Se("ngIf",o.sessions)},dependencies:[Hl,Eo,mo,Fs],styles:["ion-item[_ngcontent-%COMP%]{overflow-x:hidden;text-overflow:ellipsis}.text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:calc(var(--cp-breadcrum-menu-width) - 16px)}.ios[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{max-width:calc(var(--cp-breadcrumb-menu-width) - 32px)}"]}),t})();class Zq{constructor(t,r){this.emulationService=t,this.canvasDisplayService=r,this.handleMouseDown=n=>{if(0!==n.button)return;const o=this.canvasDisplayService.eventToPalmCoordinates(n);if(!o)return;const i=this.determineArea(o);if(2===i){const s=this.canvasDisplayService.determineButton(o);this.interactionMouse={area:i,buttonPrimary:s},this.handleButtonDown(s)}else this.interactionMouse={area:i},this.emulationService.handlePointerMove(...o,1===i)},this.handleMouseMove=n=>{if(!(1&n.buttons&&this.interactionMouse&&2!==this.interactionMouse?.area))return;const o=this.canvasDisplayService.eventToPalmCoordinates(n,!0);o&&this.emulationService.handlePointerMove(...o,1===this.interactionMouse?.area)},this.handeMouseUp=n=>{if(0!==n.button)return;const o=this.interactionMouse;switch(this.interactionMouse=void 0,o?.area){case 2:this.handleButtonUp(o.buttonPrimary);break;case 0:case 1:this.emulationService.handlePointerUp()}},this.handleTouchStart=n=>{let o=!1;for(let i=0;i<n.changedTouches.length;i++){const s=n.changedTouches.item(i);if(!s)continue;const a=this.canvasDisplayService.eventToPalmCoordinates(s);if(!a)continue;o=!0;const l=this.determineArea(a);if(2===l){const c=this.canvasDisplayService.determineButton(a);this.interactionsTouch.set(s.identifier,{area:l,buttonPrimary:c}),this.handleButtonDown(c)}else this.interactionsTouch.set(s.identifier,{area:l}),this.emulationService.handlePointerMove(...a,1===l)}o&&!1!==n.cancelable&&n.preventDefault()},this.handleTouchMove=n=>{let o=!1;for(let i=0;i<n.changedTouches.length;i++){const s=n.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);if(!a)continue;o=!0;const l=a.area;switch(l){case 2:{const c=this.canvasDisplayService.eventToPalmCoordinates(s);if(!c||2!==this.determineArea(c)){this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0;break}const f=this.canvasDisplayService.determineButton(c);f===a.buttonPrimary?(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0):f!==a.buttonSecondary&&(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=f,this.handleButtonDown(f));break}case 0:case 1:{const c=this.canvasDisplayService.eventToPalmCoordinates(s,!0);if(!c)continue;this.emulationService.handlePointerMove(...c,1===l);break}default:continue}}o&&!1!==n.cancelable&&n.preventDefault()},this.handleTouchEnd=n=>{let o=!1;for(let i=0;i<n.changedTouches.length;i++){const s=n.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);switch(a&&(o=!0),this.interactionsTouch.delete(s.identifier),a?.area){case 2:this.handleButtonUp(a.buttonPrimary),this.handleButtonUp(a.buttonSecondary);break;case 0:case 1:this.emulationService.handlePointerUp()}}o&&!1!==n.cancelable&&n.preventDefault()},this.handleKeyDown=n=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;if(this.isToggleGameMode(n))return n.preventDefault(),this.gameMode=!this.gameMode,void this.onToggleGameMode();const o=this.buttonFromEvent(n);if(void 0!==o)return this.handleButtonDown(o),void n.preventDefault();const i=this.keyCodeFromEvent(n);void 0!==i&&(this.emulationService.handleKeyDown(i),n.preventDefault())},this.handleKeyUp=n=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;const o=this.buttonFromEvent(n);if(void 0!==o)return this.handleButtonUp(o),void n.preventDefault();if("Control"===n.key){for(const i of this.activeButtons)this.emulationService.handleButtonUp(i);this.activeButtons.clear(),this.canvasDisplayService.drawButtons([])}},this.keyEventTarget=window,this.interactionsTouch=new Map,this.activeButtons=new Set,this.gameMode=!1,this.enableGamemodeHotkey=!0}bind(t,r=window){this.pointerEventTarget&&this.release(),this.pointerEventTarget=t,this.keyEventTarget=r||window,this.addEventListener(t,"mousedown",this.handleMouseDown),this.addEventListener(window,"mouseup",this.handeMouseUp),this.addEventListener(window,"mousemove",this.handleMouseMove),this.addEventListener(t,"touchstart",this.handleTouchStart),this.addEventListener(t,"touchmove",this.handleTouchMove),this.addEventListener(t,"touchend",this.handleTouchEnd),this.addEventListener(t,"touchcancel",this.handleTouchEnd),this.addEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.addEventListener(this.keyEventTarget,"keyup",this.handleKeyUp)}release(){if(this.pointerEventTarget){this.removeEventListener(this.pointerEventTarget,"mousedown",this.handleMouseDown),this.removeEventListener(window,"mouseup",this.handeMouseUp),this.removeEventListener(window,"mousemove",this.handleMouseMove),this.removeEventListener(this.pointerEventTarget,"touchstart",this.handleTouchStart),this.removeEventListener(this.pointerEventTarget,"touchmove",this.handleTouchMove),this.removeEventListener(this.pointerEventTarget,"touchend",this.handleTouchEnd),this.removeEventListener(this.pointerEventTarget,"touchcancel",this.handleTouchEnd),this.removeEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.removeEventListener(this.keyEventTarget,"keyup",this.handleKeyUp);for(const t of this.activeButtons)this.handleButtonUp(t);this.activeButtons.clear(),this.interactionsTouch.clear(),this.interactionMouse=void 0,this.pointerEventTarget=void 0}}isGameMode(){return this.gameMode}setGameMode(t){this.gameMode=t,this.onToggleGameMode()}setGameModeHotkeyEnabled(t){this.enableGamemodeHotkey=t}isGameModeHotkeyEnabled(){return this.enableGamemodeHotkey}enableKeyboardEvents(){return!0}onToggleGameMode(){}addEventListener(t,r,n,o){t.addEventListener(r,n,o)}removeEventListener(t,r,n,o){t.removeEventListener(r,n,o)}determineArea(t){return this.canvasDisplayService.isButtons(t)?2:this.canvasDisplayService.isSilkscreen(t)?1:0}handleButtonDown(t){this.activeButtons.has(t)||(this.activeButtons.add(t),this.emulationService.handleButtonDown(t),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}handleButtonUp(t){void 0===t||!this.activeButtons.has(t)||(this.activeButtons.delete(t),this.emulationService.handleButtonUp(t),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}isToggleGameMode(t){return this.isGameModeHotkeyEnabled()&&("Shift"===t.key&&t.ctrlKey||"Control"===t.key&&t.shiftKey)}isGameModeActive(t){return!this.gameMode&&t.ctrlKey||this.gameMode&&!t.ctrlKey}buttonFromEvent(t){switch(t.key){case"PageUp":return 4;case"PageDown":return 5}if(this.isGameModeActive(t))switch(t.key){case"w":case"i":case"ArrowUp":return 4;case"s":case"k":case"ArrowDown":return 5;case"a":case"j":case"y":case"z":case"ArrowLeft":return 0;case"q":case"u":case"x":return 1;case"e":case"o":case"c":return 2;case"d":case"l":case"v":case"ArrowRight":return 3}}keyCodeFromEvent(t){if(!this.isGameModeActive(t)){if(1===t.key.length&&t.key.charCodeAt(0)<=255)return t.key.charCodeAt(0);switch(t.key){case"ArrowLeft":return 28;case"ArrowRight":return 29;case"ArrowUp":return 30;case"ArrowDown":return 31;case"Backspace":return 8;case"Tab":return 9;case"Enter":return 10;default:return}}}}let qq=(()=>{var e;class t extends Zq{constructor(n,o,i,s,a){super(n,o),this.modalWatcher=i,this.ngZone=s,this.app=a}enableKeyboardEvents(){return!this.modalWatcher.isModalActive()}onToggleGameMode(){this.app.tick()}addEventListener(n,o,i,s){this.ngZone.runOutsideAngular(()=>n.addEventListener(o,i,s))}}return(e=t).\u0275fac=function(n){return new(n||e)(le(Pa),le(lv),le(uS),le(Ze),le(Ea))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function jP(e){return/\.(prc|pdb|pqa)$/i.test(e)}class Jq{constructor(t,r,n,o,i){this.cloudpilotService=t,this.fstools=r,this.alertService=n,this.snapshotService=o,this.files=i,this.filesSuccess=[],this.filesFail=[],this.filesRequireReset=[],this.sizeInstalledSinceLastsnapshot=0,this.skipErrors=!1,this.installedDatabases=new Map}run(){var t=this;return(0,F.Z)(function*(){for(const r of t.files){let n;try{n=yield r.getContent()}catch(o){console.warn(o),t.filesFail.push(r.name);continue}if(/\.zip/i.test(r.name)&&n.length<33554432)try{yield t.installZip(r)}catch{t.filesFail.push(r.name)}else jP(r.name)?yield t.installOne(r.name,n):t.filesFail.push(r.name)}return[t.filesSuccess,t.filesRequireReset,t.filesFail]})()}installOne(t,r){var n=this;return(0,F.Z)(function*(){const i=yield(yield n.cloudpilotService.cloudpilot).installDb(r);switch(i){case 2:n.filesRequireReset.push(t),n.filesSuccess.push(t),n.sizeInstalledSinceLastsnapshot+=r.length;break;case 1:n.filesSuccess.push(t),n.sizeInstalledSinceLastsnapshot+=r.length;break;default:n.filesFail.push(t),yield n.reportError(t,i)}if(2===i||1===i)try{const s=function Qq(e){if(e.length<32)throw new Error("not a database");let t;for(t=0;t<32&&0!==e[t];t++);if(t>31)throw new Error("not a database");return new TextDecoder("latin1",{fatal:!1}).decode(e.subarray(0,t))}(r);n.installedDatabases.has(s)&&(yield n.errorDialog("Duplicate item",`${t} overwrites previously installed database ${n.installedDatabases.get(s)}`)),n.installedDatabases.set(s,t)}catch{}n.sizeInstalledSinceLastsnapshot>4194304&&(yield n.snapshotService.triggerSnapshot(),n.sizeInstalledSinceLastsnapshot=0),yield new Promise(s=>setTimeout(s,0))})()}installZip(t){var r=this;return(0,F.Z)(function*(){const n=yield r.fstools.createZipfileWalker(yield t.getContent());let o=0;for(;0===n.GetState();){const i=n.GetCurrentEntryName().replace(/^.*\//,"");if(!jP(n.GetCurrentEntryName())){n.Next();continue}const s=n.GetCurrentEntryContent();s?(yield r.installOne(i,s),o++):r.filesFail.push(i),n.Next()}if(0===o)throw new Error("no installable files in archive")})()}reportError(t,r){return this.errorDialog("Item failed to install",`Could not install ${t}: ${function Xq(e){switch(e){case-6:return"database exists on device and could not be overwritten";case-4:return"database file is corrupt";case-3:return"database is open on device";case-5:return"internal PalmOS error";case-2:return"not enough memory on device";default:return"unknown reason"}}(r)}.`)}errorDialog(t,r){return this.skipErrors?Promise.resolve():this.alertService.messageWithChoice(t,r,"Skip any remaining errors",!1,{},"Continue").then(n=>{this.skipErrors=n})}}let eK=(()=>{var e;class t{constructor(n,o,i,s,a,l){this.cloudpilotService=n,this.emulationService=o,this.loadingController=i,this.snapshotService=s,this.alertService=a,this.fstools=l}installFiles(n){var o=this;return(0,F.Z)(function*(){const i=yield o.loadingController.create({message:"Installing..."});yield i.present(),yield o.emulationService.pause(),yield o.snapshotService.waitForPendingSnapshot();let s=[],a=[],l=[];try{[s,l,a]=yield new Jq(o.cloudpilotService,o.fstools,o.alertService,o.snapshotService,n).run()}finally{i.dismiss(),o.emulationService.resume()}const c=[o.messageSuccess(s),o.messageFailed(a),o.messageRequireReset(l)].filter(p=>!!p).join("<br/><br/>");let f;f=0===a.length?"Installation successful":0===s.length?"Installation failed":"Installation errors",o.alertService.message(f,c,l.length>0?{"Reset now":()=>o.emulationService.reset()}:void 0)})()}messageSuccess(n){switch(n.length){case 0:return;case 1:return`Installation of ${n[0]} successful.`;default:return`Installation of ${n.length} items successful.`}}messageFailed(n){return n.length>0?`Installation of  ${CS(n)} failed.`:void 0}messageRequireReset(n){return n.length>0?`${CS(n)} require a device reset.`:void 0}}return(e=t).\u0275fac=function(n){return new(n||e)(le(Ra),le(Pa),le(Ls),le(xh),le(Fr),le(ov))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),kS=(()=>{var e;class t{constructor(){this.onDragOver=n=>{n.preventDefault(),n.dataTransfer&&(n.dataTransfer.dropEffect=this.currentClient?"copy":"none")},this.onDrop=n=>{n.preventDefault(),this.currentClient&&this.currentClient.handleDragDropEvent(n)},document.addEventListener("drop",this.onDrop),document.addEventListener("dragover",this.onDragOver)}registerClient(n){this.currentClient=n}unregisterClient(n){n===this.currentClient&&(this.currentClient=void 0)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function tK(e,t){1&e&&Ue(0,"div",2)}const nK=["*"];let rK=0,GP=(()=>{var e;class t{constructor(){this.disabled=!1,this.trigger=new qt,this.triggerId="breadcrumb-trigger-"+rK++}handleClick(n){this.disabled||(n.preventDefault(),this.trigger.emit(this.triggerId))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ye({type:e,selectors:[["app-breadcrumb"]],hostVars:3,hostBindings:function(n,o){1&n&&Ve("click",function(s){return o.handleClick(s)}),2&n&&(ks("id",o.triggerId),ea("disabled",o.disabled))},inputs:{disabled:"disabled"},outputs:{trigger:"trigger"},ngContentSelectors:nK,decls:3,vars:1,consts:[[1,"breadcrumb-current"],["class","select-arrow",4,"ngIf"],[1,"select-arrow"]],template:function(n,o){1&n&&(ft(),j(0,"div",0),dt(1),L(),Vt(2,tK,1,0,"div",1)),2&n&&(me(2),Se("ngIf",!o.disabled))},dependencies:[Eo],styles:["[_nghost-%COMP%]{cursor:pointer;display:inline-flex;flex-direction:row;align-items:center;overflow:hidden;max-width:100%}.ios   [_nghost-%COMP%]{justify-content:center}.disabled[_nghost-%COMP%]{cursor:auto}.breadcrumb-current[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis}.select-arrow[_ngcontent-%COMP%]{border-top:5px solid;border-left:5px solid transparent;border-right:5px solid transparent;display:inline-block;opacity:.33;margin-left:.5em;vertical-align:middle}.md[_ngcontent-%COMP%]   .select-arrow[_ngcontent-%COMP%]{opacity:.55}"]}),t})();var Ah;const oK=["canvas"];function iK(e,t){1&e&&Ue(0,"div",11),2&e&&du("width",st().iosPlaceholderWidth)}function sK(e,t){if(1&e){const r=yn();j(0,"ion-button",12),Ve("click",function(){return St(r),wt(st().navigation.lock())}),Ue(1,"ion-icon",13),L()}}function aK(e,t){if(1&e){const r=yn();j(0,"ion-button",12),Ve("click",function(){return St(r),wt(st().navigation.unlock())}),Ue(1,"ion-icon",14),L()}}function lK(e,t){if(1&e){const r=yn();j(0,"ion-button",12),Ve("click",function(o){return St(r),wt(st().openContextMenu(o))}),Ue(1,"ion-icon",15),L()}}function cK(e,t){if(1&e){const r=yn();j(0,"ion-button",12),Ve("click",function(){return St(r),wt(st().showGameModeHint())}),Ue(1,"ion-icon",16),L()}}function uK(e,t){if(1&e){const r=yn();j(0,"ion-button",12),Ve("click",function(){return St(r),wt(st().showProxyConnectedHint())}),Ue(1,"ion-icon",17),L()}}function dK(e,t){if(1&e){const r=yn();j(0,"ion-button",12),Ve("click",function(){return St(r),wt(st().showSlowdowndHint())}),Ue(1,"ion-icon",18),L()}}function fK(e,t){if(1&e){const r=yn();j(0,"ion-button",12),Ve("click",function(o){return St(r),wt(st().openContextMenu(o))}),Ue(1,"ion-icon",15),L()}}function pK(e,t){if(1&e){const r=yn();j(0,"div",19),Ee(1," The device was reset forcefully. How do you want to boot? "),j(2,"ion-button",20),Ve("click",function(){return St(r),wt(st().bootAfterForcefulReset())}),Ee(3,"Normal boot"),L(),j(4,"ion-button",20),Ve("click",function(){return St(r),wt(st().bootAfterForcefulResetNoExtensions())}),Ee(5,"No extensions"),L(),j(6,"ion-button",20),Ve("click",function(){return St(r),wt(st().bootAfterForcefulResetHardReset())}),Ee(7,"Hard reset"),L()()}}function hK(e,t){1&e&&(j(0,"div",19)(1,"div"),Ee(2,"No session selected"),L()())}class Oa{constructor(t,r,n,o,i,s,a,l,c,f,p,m,C,U,J,_e,De,Re,ht,pt,Gt){var Et=this;this.emulationService=t,this.emulationState=r,this.storageService=n,this.eventHandlingService=o,this.canvasDisplayService=i,this.kvsService=s,this.popoverController=a,this.modalController=l,this.alertService=c,this.fileService=f,this.snapshotService=p,this.installlationService=m,this.networkService=C,this.navigation=U,this.linkApi=J,this.performanceWatchdogService=_e,this.cloudpilotService=De,this.dragDropService=Re,this.sessionService=ht,this.loadingController=pt,this.config=Gt,this.ionViewDidEnter=()=>this.mutex.runExclusive((0,F.Z)(function*(){yield Et.emulationService.bootstrapComplete(),Et.bootstrapComplete=!0;const tr=Et.emulationState.getCurrentSession();tr&&!tr.wasResetForcefully&&(yield Et.launchEmulator()),Et.linkApi.installation.requestEvent.addHandler(Et.handleLinkApiInstallationRequest),Et.handleLinkApiInstallationRequest(),Et.dragDropService.registerClient(Et)})),this.ionViewWillLeave=()=>this.mutex.runExclusive(()=>{this.dragDropService.unregisterClient(this),this.linkApi.installation.requestEvent.removeHandler(this.handleLinkApiInstallationRequest),this.emulationService.isRunning()&&(this.autoLockUI=!1),this.emulationService.pause(),this.emulationService.newFrameEvent.removeHandler(this.onNewFrame),this.snapshotService.snapshotEvent.removeHandler(this.onSnapshot),this.kvsService.updateEvent.removeHandler(this.onKvsUpdate),this.eventHandlingService.release(),this.navigation.unlock()}),this.onKvsUpdate=()=>{this.kvsService.kvs.showStatistics?this.canvasDisplayService.updateStatistics():this.canvasDisplayService.clearStatistics()},this.onSnapshot=tr=>{this.kvsService.kvs.showStatistics&&this.canvasDisplayService.updateStatistics(tr,this.emulationService.getStatistics())},this.onNewFrame=tr=>{this.canvasDisplayService.updateEmulationCanvas(tr)},this.handleLinkApiInstallationRequest=()=>{if(!this.linkApi.installation.hasPendingRequest())return;const tr=this.linkApi.installation.receivePendingUrl();tr&&(this.installFileDisabled?this.alertService.message("Unable to install","Installation is currently not possible.",{},"Cancel"):this.emulationState.getCurrentSession()&&this.emulationService.isRunning()?this.alertService.message("Installation request",`Do you want to install<br>${tr} ?`,{OK:()=>this.fileService.openUrl(tr,Fa=>this.installlationService.installFiles([Fa]))},"Cancel"):this.alertService.message("Unable to install",`Please start a session in order to install ${tr} .`,{},"Cancel"))},this.bootstrapComplete=!1,this.switching=!1,this.lastTitle="",this.autoLockUI=!0,this.mutex=new Aa}get cssWidth(){return this.canvasDisplayService.width/devicePixelRatio+"px"}get cssHeight(){return this.canvasDisplayService.height/devicePixelRatio+"px"}ionViewWillEnter(){this.switching=!1}openContextMenu(t,r="trigger"){var n=this;return(0,F.Z)(function*(){(yield n.popoverController.create({component:Gq,event:t,componentProps:{showHelp:()=>n.showHelp()},arrow:!1,translucent:!0,reference:r})).present()})()}onContextMenu(t){t.preventDefault(),this.openContextMenu(t,"event")}handleDragDropEvent(t){this.installFileDisabled||this.fileService.openFromDrop(t,this.installlationService.installFiles.bind(this.installlationService))}installFiles(){this.fileService.openFiles(this.installlationService.installFiles.bind(this.installlationService))}showHelp(){var t=this;return(0,F.Z)(function*(){yield(yield t.modalController.create({component:Nu,componentProps:{url:Uq}})).present()})()}showGameModeHint(){var t=this;return(0,F.Z)(function*(){yield t.alertService.message("Game mode","\n                The keyboard is in game mode and controls the hardware buttons.\n                Press ctrl-shift in order to exit game mode.\n                <br/><br/>\n                Check the help page for a description of the different keyboard mappings.\n            ",{Help:()=>t.showHelp()})})()}showProxyConnectedHint(){var t=this;return(0,F.Z)(function*(){"native"===t.kvsService.kvs.networkRedirectionMode?yield t.alertService.message("Network session","PalmOS has opened a network session."):yield t.alertService.message("Proxy connected","Network proxy connected.")})()}showSlowdowndHint(){var t=this;return(0,F.Z)(function*(){yield t.alertService.message("Speed throttled","\n                Your host is too slow to run your virtual device at full speed, and the clock\n                has been throttled in order to compensate. You can avoid this by reducing the speed of your\n                virtual device in the session settings.\n        ")})()}get installFileDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}bootAfterForcefulReset(){var t=this;return(0,F.Z)(function*(){yield t.clearForcefulReset(),yield t.launchEmulator()})()}bootAfterForcefulResetNoExtensions(){var t=this;return(0,F.Z)(function*(){yield t.clearForcefulReset(),(yield t.cloudpilotService.cloudpilot).resetNoExtensions(),yield t.launchEmulator()})()}bootAfterForcefulResetHardReset(){var t=this;return(0,F.Z)(function*(){yield t.clearForcefulReset(),(yield t.cloudpilotService.cloudpilot).resetHard(),yield t.launchEmulator()})()}get iosPlaceholderWidth(){let t=0;return this.eventHandlingService.isGameMode()&&t++,this.networkService.isConnected()&&t++,this.performanceWatchdogService.isSlowdownDetected()&&t++,t>1?35*(t-1)+"px":"0"}cancelIfEmulationActive(t){this.emulationState.getCurrentSession()&&!this.emulationState.getCurrentSession()?.wasResetForcefully&&t.cancelable&&t.preventDefault()}onBreadcrumbTrigger(t){var r=this;return(0,F.Z)(function*(){(yield r.popoverController.create({component:Wq,componentProps:{sessions:r.sessionService.getSessions().filter(o=>o.id!==r.emulationState.getCurrentSession()?.id),onSelect:o=>r.switchSession(o)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===r.config.get("mode")?"center":"start",trigger:t,cssClass:"cp-breadcrumb-menu"})).present()})()}get sessions(){return this.sessionService.getSessions()}get currentSession(){return this.emulationState.getCurrentSession()}clearForcefulReset(){var t=this;return(0,F.Z)(function*(){const r=t.emulationState.getCurrentSession();r&&(yield t.storageService.updateSessionPartial(r.id,{wasResetForcefully:!1}))})()}get title(){return this.bootstrapComplete?this.switching?this.lastTitle:this.emulationState.getCurrentSession()?.name??"No session":""}launchEmulator(){var t=this;return(0,F.Z)(function*(){const r=t.emulationState.getCurrentSession();r&&(yield t.kvsService.mutex.runExclusive(()=>t.kvsService.kvs.autoLockUI&&t.autoLockUI&&t.navigation.lock()),t.canvasDisplayService.initialize(t.canvasRef.nativeElement,r).then(()=>{t.onKvsUpdate(),t.kvsService.updateEvent.addHandler(t.onKvsUpdate)}),t.onNewFrame(t.emulationService.getCanvas()),t.emulationService.newFrameEvent.addHandler(t.onNewFrame),t.snapshotService.snapshotEvent.addHandler(t.onSnapshot),yield t.emulationService.resume(),t.eventHandlingService.bind(t.canvasRef.nativeElement))})()}switchSession(t){var r=this;return(0,F.Z)(function*(){const n=yield r.loadingController.create();yield n.present();try{if(r.lastTitle=r.title,r.switching=!0,yield r.emulationService.pause(),!(yield r.emulationService.switchSession(t.id,{showLoader:!1})))return void(yield r.alertService.errorMessage("Failed to launch session"));t.wasResetForcefully||(yield r.launchEmulator())}finally{n.dismiss(),r.switching=!1}})()}}(Ah=Oa).\u0275fac=function(t){return new(t||Ah)(v(Pa),v(ec),v(qn),v(qq),v(lv),v(Ii),v(Ql),v(fs),v(Fr),v(Kc),v(xh),v(eK),v(yP),v(xS),v(EC),v(VP),v(Ra),v(kS),v(nc),v(Ls),v(lh))},Ah.\u0275cmp=Ye({type:Ah,selectors:[["app-emulation"]],viewQuery:function(t,r){if(1&t&&Ac(oK,5),2&t){let n;Ps(n=Os())&&(r.canvasRef=n.first)}},decls:23,vars:23,consts:[[3,"disabled","trigger"],["class","ios-title-placeholder",3,"width",4,"ngIf"],["slot","primary"],[3,"disabled","click"],["name","download-outline"],[3,"click",4,"ngIf"],["slot","secondary"],[3,"contextmenu"],[1,"container","running-session",3,"touchstart","touchmove"],["canvas",""],["class","container no-session",4,"ngIf"],[1,"ios-title-placeholder"],[3,"click"],["name","lock-open-outline"],["name","lock-closed-outline"],["name","ellipsis-vertical-outline"],["name","game-controller-outline"],["name","swap-vertical-outline"],["name","speedometer-outline"],[1,"container","no-session"],["type","button","color","light",3,"click"]],template:function(t,r){if(1&t&&(j(0,"ion-header")(1,"ion-toolbar")(2,"ion-title")(3,"app-breadcrumb",0),Ve("trigger",function(o){return r.onBreadcrumbTrigger(o)}),Vt(4,iK,1,2,"div",1),Ee(5),L()(),j(6,"ion-buttons",2)(7,"ion-button",3),Ve("click",function(){return r.installFiles()}),Ue(8,"ion-icon",4),L(),Vt(9,sK,2,0,"ion-button",5)(10,aK,2,0,"ion-button",5),L(),j(11,"ion-buttons",6),Vt(12,lK,2,0,"ion-button",5)(13,cK,2,0,"ion-button",5)(14,uK,2,0,"ion-button",5)(15,dK,2,0,"ion-button",5)(16,fK,2,0,"ion-button",5),L()()(),j(17,"ion-content",7),Ve("contextmenu",function(o){return r.onContextMenu(o)}),j(18,"div",8),Ve("touchstart",function(o){return r.cancelIfEmulationActive(o)})("touchmove",function(o){return r.cancelIfEmulationActive(o)}),Ue(19,"canvas",null,9),L(),Vt(21,pK,8,0,"div",10)(22,hK,3,0,"div",10),L()),2&t){let n,o;me(3),Se("disabled",!r.bootstrapComplete||1===r.sessions.length&&!!r.currentSession||0===r.sessions.length),me(1),Se("ngIf","ios"===r.config.get("mode")),me(1),si(" ",r.title,""),me(2),Se("disabled",r.installFileDisabled),me(2),Se("ngIf",!r.navigation.isLocked()),me(1),Se("ngIf",r.navigation.isLocked()),me(2),Se("ngIf","ios"===r.config.get("mode")),me(1),Se("ngIf",r.eventHandlingService.isGameMode()),me(1),Se("ngIf",r.networkService.isConnected()),me(1),Se("ngIf",r.performanceWatchdogService.isSlowdownDetected()),me(1),Se("ngIf","ios"!==r.config.get("mode")),me(1),ea("locked",r.navigation.isLocked()),me(1),du("display",!r.emulationState.getCurrentSession()||null!=(n=r.emulationState.getCurrentSession())&&n.wasResetForcefully?"none":void 0),me(1),du("width",r.cssWidth)("height",r.cssHeight)("display",r.emulationState.getCurrentSession()?"block":"none"),me(2),Se("ngIf",null!=(o=r.emulationState.getCurrentSession())&&o.wasResetForcefully?"none":void 0),me(1),Se("ngIf",!r.emulationState.getCurrentSession()&&r.bootstrapComplete&&!r.switching)}},dependencies:[Eo,ji,Gi,Ui,Hi,jo,Wi,Zi,GP],styles:[".ios-title-placeholder[_ngcontent-%COMP%]{display:inline-block}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:3px}.container.no-session[_ngcontent-%COMP%]{text-align:center;padding:1em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:1em;width:100%;max-width:20em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-of-type{margin-top:3em}ion-content.locked[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-bottom:var(--ion-safe-area-bottom, 0)}.container.running-session[_ngcontent-%COMP%]{background:radial-gradient(circle,#ccc 0%,#eee 100%)}@media (prefers-color-scheme: dark){.container.running-session[_ngcontent-%COMP%]{background:none}}canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}"]}),re([Tn()],Oa.prototype,"openContextMenu",null),re([Tn()],Oa.prototype,"showHelp",null),re([Tn()],Oa.prototype,"showGameModeHint",null),re([Tn()],Oa.prototype,"showProxyConnectedHint",null),re([Tn()],Oa.prototype,"showSlowdowndHint",null),re([Tn()],Oa.prototype,"bootAfterForcefulReset",null),re([Tn()],Oa.prototype,"bootAfterForcefulResetNoExtensions",null),re([Tn()],Oa.prototype,"bootAfterForcefulResetHardReset",null),re([Tn()],Oa.prototype,"onBreadcrumbTrigger",null);const UP="reduced-animations",mK=e=>(e.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)",e.querySelector(".action-sheet-wrapper").style.transform="translateY(0%)",(0,N0.c)()),gK=e=>{e.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)";const t=e.querySelector(".loading-wrapper");return t.style.transform="scale(1)",t.style.opacity="1",(0,N0.c)()},_K=e=>{e.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)";const t=e.querySelector(".alert-wrapper");return t.style.transform="scale(1)",t.style.opacity="1",(0,N0.c)()};function HP(e){Q0(UP,e?"1":"0")}function zP(){return"1"===(VR(UP)??"0")}const yK=S.p+"assets/doc/settings-0f30ff1ef4e3a677.md";function bK(e,t){1&e&&(j(0,"ion-item",7)(1,"ion-label"),Ee(2,"Run when hidden"),L(),Ue(3,"ion-toggle",17),L())}function CK(e,t){1&e&&(j(0,"ion-item",7)(1,"ion-label"),Ee(2,"Clipboard integration"),L(),Ue(3,"ion-toggle",18),L())}function SK(e,t){if(1&e&&(j(0,"ion-select-option",21),Ee(1),L()),2&e){const r=t.$implicit;Se("value",r[0]),me(1),si("",r[1]," ")}}function wK(e,t){if(1&e&&(j(0,"ion-item",7)(1,"ion-select",19),Vt(2,SK,2,2,"ion-select-option",20),L()()),2&e){const r=st();me(2),Se("ngForOf",r.networkRedirectionModes)}}function EK(e,t){if(1&e){const r=yn();j(0,"ion-item",7)(1,"ion-label",22),Ee(2,"Proxy server"),L(),j(3,"div",23),Ue(4,"ion-input",24),j(5,"ion-button",25),Ve("click",function(o){St(r);const i=st();return o.preventDefault(),o.stopPropagation(),wt(i.testProxyConnection())})("touchstart",function(o){St(r);const i=st();return o.preventDefault(),o.stopPropagation(),wt(i.testProxyConnection())}),Ee(6," Test "),L()()()}if(2&e){const r=st();me(5),Se("disabled",!r.proxyServerValid)}}function DK(e,t){if(1&e&&(j(0,"ion-item",7)(1,"ion-select",26)(2,"ion-select-option",21),Ee(3,"Off"),L(),j(4,"ion-select-option",21),Ee(5,"Portrait"),L(),j(6,"ion-select-option",21),Ee(7,"Landscape"),L(),j(8,"ion-select-option",21),Ee(9,"Always"),L()()()),2&e){const r=st();me(2),Se("value",r.indicatorFixNone),me(2),Se("value",r.indicatorFixPortrait),me(2),Se("value",r.indicatorFixLandscape),me(2),Se("value",r.indicatorFixAll)}}function IK(e,t){1&e&&(pu(0),j(1,"h1"),Ee(2,"Debug"),L(),j(3,"ion-item",7)(4,"ion-label"),Ee(5,"Snapshot validation (slow)"),L(),Ue(6,"ion-toggle",27),L(),hu())}let xK=(()=>{var e;class t{constructor(n,o,i,s,a,l){this.modalController=n,this.kvsService=o,this.clipboardService=i,this.alertService=s,this.networkBackendFactory=a,this.featureService=l,this.onAudioOnStartChange=c=>{this.kvsService.kvs.enableAudioOnFirstInteraction=c,go&&_l?this.alertService.message("Enable audio on start","\n                    This option will take effect the next time the app restarts.\n                "):c&&this.alertService.message("Enable audio on start","\n                Audio will automatically turn on after the first interaction with the application\n                (i.e. touch, click or keyboard event).\n                <br><br>\n                This option will take effect the next time CloudpilotEmu reloads.\n            ")},this.onReducedAnimationsChange=c=>{HP(c),this.alertService.message("Reduce animations",c?"\n                Animations will be slightly reduced in order to provide a snappier UI. This\n                reduces UI lag on older iOS devices with large screens.\n                <br><br>\n                This option will take effect the next time\n                CloudpilotEmu reloads.\n            ":"\n                This option will only take effect the next time CloudpilotEmu reloads.\n            ")},this.networkRedirectionModes=[["native","Native"],["proxy","Proxy"]],this.onIndicatorFixModeChange=c=>PP(c),this.indicatorFixNone="none",this.indicatorFixPortrait="portrait",this.indicatorFixLandscape="landscape",this.indicatorFixAll="all",this.connectionTestInProgress=!1}ngOnInit(){this.createFormGroup()}showHelp(){var n=this;return(0,F.Z)(function*(){yield(yield n.modalController.create({component:Nu,componentProps:{url:yK}})).present()})()}ionViewWillEnter(){this.mutexReleasePromise=this.kvsService.mutex.acquire()}ionViewWillLeave(){var n=this;return(0,F.Z)(function*(){n.formGroup.get("networkRedirection")?.value&&"proxy"===n.formGroup.get("networkRedirectionMode")?.value&&!n.formGroup.get("proxyServer")?.valid&&(n.alertService.message("Invalid proxy server","The proxy server you specified is invalid. Network redirection will be disabled."),n.formGroup.get("networkRedirection").setValue(!1)),n.formGroup.get("networkRedirection")?.value||n.formGroup.get("proxyServer")?.setValue(n.kvsService.kvs.proxyServer),yield n.kvsService.set({volume:n.formGroup.get("volume").value,showStatistics:n.formGroup.get("showStatistics").value,clipboardIntegration:n.formGroup.get("clipboardIntegration")?.value,networkRedirection:n.formGroup.get("networkRedirection")?.value,networkRedirectionMode:n.featureService.nativeNetworkIntegration?n.formGroup.get("networkRedirectionMode")?.value??"proxy":"proxy",proxyServer:n.formGroup.get("proxyServer")?.value,runHidden:n.formGroup.get("runHidden")?.value,autoLockUI:n.formGroup.get("autoLockUI")?.value,enableRemoteInstall:n.formGroup.get("enableRemoteInstall")?.value,enableAudioOnFirstInteraction:n.formGroup.get("audioOnStart")?.value,snapshotIntegrityCheck:n.formGroup.get("snapshotIntegrityCheck")?.value}),HP(n.formGroup.get("reducedAnimations")?.value),n.mutexReleasePromise&&(yield n.mutexReleasePromise)()})()}testProxyConnection(){var n=this;return(0,F.Z)(function*(){if(!n.connectionTestInProgress){n.connectionTestInProgress=!0;try{switch((yield n.networkBackendFactory.createBackendProxy(n.formGroup.get("proxyServer")?.value).handshake(0)).status){case"failed":n.alertService.errorMessage("Unable to connect to proxy");break;case"version_mismatch":n.alertService.proxyVersionMismatchError();break;default:n.alertService.message("Success","Connection to proxy successful.")}}finally{n.connectionTestInProgress=!1}}})()}get showProxyServer(){return this.formGroup.get("networkRedirection")?.value&&"native"!==this.formGroup.get("networkRedirectionMode")?.value}get showRedirectionMode(){return this.formGroup.get("networkRedirection")?.value&&this.featureService.nativeNetworkIntegration}get proxyServerValid(){const n=this.formGroup.get("proxyServer");return!(!n?.value||!n?.valid)}get showDebugOptions(){return ia.debug}get isIndicatorFixApplicable(){return wS()}get featureRunHidden(){return this.featureService.runHidden}createFormGroup(){this.formGroup=new k_({volume:new ho(this.kvsService.kvs.volume),showStatistics:new ho(this.kvsService.kvs.showStatistics),runHidden:new ho(this.kvsService.kvs.runHidden),clipboardIntegration:new ho(this.kvsService.kvs.clipboardIntegration),networkRedirection:new ho(this.kvsService.kvs.networkRedirection),networkRedirectionMode:new ho(this.kvsService.kvs.networkRedirectionMode),proxyServer:new ho(this.kvsService.kvs.proxyServer,{validators:[SZ]}),autoLockUI:new ho(this.kvsService.kvs.autoLockUI),enableRemoteInstall:new ho(this.kvsService.kvs.enableRemoteInstall),audioOnStart:new ho(this.kvsService.kvs.enableAudioOnFirstInteraction),snapshotIntegrityCheck:new ho(this.kvsService.kvs.snapshotIntegrityCheck),reducedAnimations:new ho(zP()),indicatorFixMode:new ho(RP())}),this.formGroup.get("audioOnStart")?.valueChanges.subscribe(this.onAudioOnStartChange),this.formGroup.get("reducedAnimations")?.valueChanges.subscribe(this.onReducedAnimationsChange),this.formGroup.get("indicatorFixMode")?.valueChanges.subscribe(this.onIndicatorFixModeChange)}}return(e=t).\u0275fac=function(n){return new(n||e)(v(fs),v(Ii),v(fS),v(Fr),v(vP),v(ES))},e.\u0275cmp=Ye({type:e,selectors:[["app-settings"]],decls:55,vars:7,consts:[["slot","secondary"],[3,"click"],["name","help-outline"],["collapse","condense"],["size","large"],[1,"settings-container"],[1,"settings-form",3,"formGroup"],["lines","none"],["min","0","max","1","step","0.1","formControlName","volume"],["formControlName","audioOnStart"],["lines","none",4,"ngIf"],["formControlName","networkRedirection"],["formControlName","autoLockUI"],["formControlName","reducedAnimations"],["formControlName","showStatistics"],["formControlName","enableRemoteInstall"],[4,"ngIf"],["formControlName","runHidden"],["formControlName","clipboardIntegration"],["formControlName","networkRedirectionMode","label","Redirection method",1,"redirection-mode-select"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["position","stacked"],[1,"server-container"],["placeholder","Proxy server host or URL","formControlName","proxyServer"],[3,"disabled","click","touchstart"],["label","Fix iOS home indicator","formControlName","indicatorFixMode"],["formControlName","snapshotIntegrityCheck"]],template:function(n,o){1&n&&(j(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ee(3,"Settings"),L(),j(4,"ion-buttons",0)(5,"ion-button",1),Ve("click",function(){return o.showHelp()}),Ue(6,"ion-icon",2),L(),Ue(7,"app-pwa-prompt"),L()()(),j(8,"ion-content")(9,"ion-header",3)(10,"ion-toolbar")(11,"ion-title",4),Ee(12,"Settings"),L()()(),j(13,"div",5)(14,"form",6)(15,"h1"),Ee(16,"Emulation"),L(),j(17,"ion-item",7)(18,"ion-label"),Ee(19,"Volume"),L(),Ue(20,"ion-range",8),L(),j(21,"ion-item",7)(22,"ion-label"),Ee(23,"Enable audio on start"),L(),Ue(24,"ion-toggle",9),L(),Vt(25,bK,4,0,"ion-item",10),j(26,"h1"),Ee(27,"Host integration"),L(),Vt(28,CK,4,0,"ion-item",10),j(29,"ion-item",7)(30,"ion-label"),Ee(31,"Network redirection"),L(),Ue(32,"ion-toggle",11),L(),Vt(33,wK,3,1,"ion-item",10)(34,EK,7,1,"ion-item",10),j(35,"h1"),Ee(36,"User interface"),L(),j(37,"ion-item",7)(38,"ion-label"),Ee(39,"Auto-lock UI"),L(),Ue(40,"ion-toggle",12),L(),j(41,"ion-item",7)(42,"ion-label"),Ee(43,"Reduce animations"),L(),Ue(44,"ion-toggle",13),L(),j(45,"ion-item",7)(46,"ion-label"),Ee(47,"Show statistics"),L(),Ue(48,"ion-toggle",14),L(),j(49,"ion-item",7)(50,"ion-label"),Ee(51,"Open from remote sources"),L(),Ue(52,"ion-toggle",15),L(),Vt(53,DK,10,4,"ion-item",10)(54,IK,7,0,"ng-container",16),L()()()),2&n&&(me(14),Se("formGroup",o.formGroup),me(11),Se("ngIf",o.featureRunHidden),me(3),Se("ngIf",o.clipboardService.isSupported()),me(5),Se("ngIf",o.showRedirectionMode),me(1),Se("ngIf",o.showProxyServer),me(19),Se("ngIf",o.isIndicatorFixApplicable),me(1),Se("ngIf",o.showDebugOptions))},dependencies:[Hl,Eo,Kl,Zl,ql,ji,Gi,Ui,Hi,jo,Xl,mo,zi,L0,hh,mh,Wi,_h,Zi,lf,ph,Yl,cv,Ma,hl],styles:[".server-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.server-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex-grow:1}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-bottom:2em}.settings-form[_ngcontent-%COMP%]{max-width:40em;flex-basis:100%}ion-item[_ngcontent-%COMP%]{--background: none}ion-select[_ngcontent-%COMP%]{margin-right:.5em}"]}),t})(),RS=(()=>{var e;class t{transform(n){return void 0!==n?`${Math.round(n/1024/1024)} MB`:""}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275pipe=bo({name:"cardSize",type:e,pure:!0}),t})();function TK(e,t){1&e&&(j(0,"div",13)(1,"b"),Ee(2,"WARNING:"),L(),Ee(3," This image cannot be used as a memory stick image."),L())}let WP=(()=>{var e;class t{constructor(n){this.storageCardService=n,this.validateNameUnique=o=>this.storageCardService.getAllCards().some(i=>i.name===o.value&&i.name!==this.card?.name)?{name:"already taken"}:null,this.formGroup=new Uc({name:new ds("",{nonNullable:!0,validators:[nh.required,this.validateNameUnique]}),size:new ds({value:"dummy",disabled:!0}),checkAutomatically:new ds(!0,{nonNullable:!0})}),this.newCard=!1,this.cardSupportLevel=2,this.onCancel=()=>{},this.onSave=()=>{}}ngOnInit(){this.card&&(this.formGroup.controls.name.setValue(this.card.name),this.formGroup.controls.checkAutomatically.setValue(!this.card.dontFsckAutomatically))}save(){!this.formGroup.valid||!this.formGroup.value.name||!this.card||this.onSave({name:this.formGroup.value.name,dontFsckAutomatically:!this.formGroup.value.checkAutomatically})}onEnter(){this.save()}get memoryStickSupported(){return 2===this.cardSupportLevel}}return(e=t).\u0275fac=function(n){return new(n||e)(v(_f))},e.\u0275cmp=Ye({type:e,selectors:[["app-edit-card-dialog"]],inputs:{card:"card",newCard:"newCard",cardSupportLevel:"cardSupportLevel",onCancel:"onCancel",onSave:"onSave"},decls:28,vars:7,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],["value","dummy"],["formControlName","checkAutomatically"],["class","sd-only-warning",4,"ngIf"],[1,"sd-only-warning"]],template:function(n,o){1&n&&(j(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ee(3),L(),j(4,"ion-buttons",0)(5,"ion-button",1),Ve("click",function(){return o.save()}),Ee(6,"Save"),L()(),j(7,"ion-buttons",2)(8,"ion-button",3),Ve("click",function(){return o.onCancel()}),Ee(9,"Cancel"),L()()()(),j(10,"ion-content",4)(11,"form",5),Ve("keydown.enter",function(){return o.onEnter()}),j(12,"ion-item",6)(13,"ion-label",7),Ee(14,"Card name"),L(),Ue(15,"ion-input",8),L(),j(16,"ion-item",6)(17,"ion-label",7),Ee(18,"Card size"),L(),j(19,"ion-select",9)(20,"ion-select-option",10),Ee(21),il(22,"cardSize"),L()()(),j(23,"ion-item",6)(24,"ion-label"),Ee(25,"Check for errors automatically"),L(),Ue(26,"ion-toggle",11),L()(),Vt(27,TK,4,0,"div",12),L()),2&n&&(me(3),Ni(o.newCard?"New memory card":"Edit memory card"),me(2),Se("disabled",o.formGroup.invalid),me(6),Se("formGroup",o.formGroup),me(10),si("",sl(22,5,null==o.card?null:o.card.size)," "),me(6),Se("ngIf",!o.memoryStickSupported))},dependencies:[Eo,ji,Gi,Ui,Hi,Xl,mo,zi,hh,mh,Wi,_h,Zi,lf,ph,Yl,Kl,Zl,ql,Ma,hl,RS],styles:[".sd-only-warning[_ngcontent-%COMP%]{padding:2em 1em}"]}),t})();function MK(e,t){if(1&e&&(j(0,"ion-select-option",12),Ee(1),il(2,"cardSize"),L()),2&e){const r=t.$implicit,n=st();Se("value",r),me(1),si("",sl(2,2,n.sizeBytes(r))," ")}}const AK=[Go.mb4,Go.mb8,Go.mb16,Go.mb32,Go.mb64,Go.mb128];let kK=(()=>{var e;class t{constructor(n){this.storageCardService=n,this.validateNameUnique=o=>this.storageCardService.getAllCards().some(i=>i.name===o.value)?{name:"already taken"}:null,this.onCreate=()=>{},this.onCancel=()=>{},this.formGroup=new Uc({name:new ds("",{nonNullable:!0,validators:[nh.required,this.validateNameUnique]}),size:new ds(Go.mb32,{nonNullable:!0}),checkAutomatically:new ds(!0,{nonNullable:!0})})}get sizes(){return AK}sizeBytes(n){return function YZ(e){switch(e){case Go.mb4:return 4046848;case Go.mb8:return 8110080;case Go.mb16:return 16220160;case Go.mb32:return 32473088;case Go.mb64:return 64978944;case Go.mb128:return 129990656;default:throw new Error(`bad card size ${e}`)}}(n)}create(){!this.formGroup.valid||void 0===this.formGroup.value.name||void 0===this.formGroup.value.size||this.onCreate(this.formGroup.value.name,this.formGroup.value.size,!this.formGroup.value.checkAutomatically)}onEnter(){this.create()}}return(e=t).\u0275fac=function(n){return new(n||e)(v(_f))},e.\u0275cmp=Ye({type:e,selectors:[["app-new-card-dialog"]],inputs:{onCreate:"onCreate",onCancel:"onCancel"},decls:25,vars:3,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],[3,"value",4,"ngFor","ngForOf"],["formControlName","checkAutomatically"],[3,"value"]],template:function(n,o){1&n&&(j(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ee(3,"New memory card"),L(),j(4,"ion-buttons",0)(5,"ion-button",1),Ve("click",function(){return o.create()}),Ee(6,"Create"),L()(),j(7,"ion-buttons",2)(8,"ion-button",3),Ve("click",function(){return o.onCancel()}),Ee(9,"Cancel"),L()()()(),j(10,"ion-content",4)(11,"form",5),Ve("keydown.enter",function(){return o.onEnter()}),j(12,"ion-item",6)(13,"ion-label",7),Ee(14,"Card name"),L(),Ue(15,"ion-input",8),L(),j(16,"ion-item",6)(17,"ion-label",7),Ee(18,"Card size"),L(),j(19,"ion-select",9),Vt(20,MK,3,4,"ion-select-option",10),L()(),j(21,"ion-item",6)(22,"ion-label"),Ee(23,"Check for errors automatically"),L(),Ue(24,"ion-toggle",11),L()()()),2&n&&(me(5),Se("disabled",o.formGroup.invalid),me(6),Se("formGroup",o.formGroup),me(9),Se("ngForOf",o.sizes))},dependencies:[Hl,ji,Gi,Ui,Hi,Xl,mo,zi,hh,mh,Wi,_h,Zi,lf,ph,Yl,Kl,Zl,ql,Ma,hl,RS]}),t})();function Yc(e,t,r){return()=>{const n=r();n!==t&&(e.markForCheck(),t=n)}}const RK=S.p+"assets/doc/cards-75195154c07dfe52.md";let PK=(()=>{var e;class t{constructor(){this.cardCount=0}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ye({type:e,selectors:[["app-storage-action-menu-cards"]],inputs:{cardCount:"cardCount",onExport:"onExport",onDelete:"onDelete",onHelp:"onHelp"},decls:10,vars:5,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","share-outline","slot","end"],["name","trash-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(n,o){1&n&&(j(0,"ion-list")(1,"ion-item",0),Ve("click",function(){return null==o.onExport?null:o.onExport()}),Ue(2,"ion-icon",1),Ee(3," Export "),L(),j(4,"ion-item",0),Ve("click",function(){return null==o.onDelete?null:o.onDelete()}),Ue(5,"ion-icon",2),Ee(6," Delete "),L(),j(7,"ion-item",3),Ve("click",function(){return null==o.onHelp?null:o.onHelp()}),Ue(8,"ion-icon",4),Ee(9," Help "),L()()),2&n&&(me(1),Se("detail",!1)("disabled",0===o.cardCount),me(3),Se("detail",!1)("disabled",0===o.cardCount),me(3),Se("detail",!1))},dependencies:[jo,mo,Fs]}),t})(),OK=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCheck=()=>{},this.onDelete=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ye({type:e,selectors:[["app-storage-context-menu-card"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCheck:"onCheck",onDelete:"onDelete"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","medkit-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(n,o){1&n&&(j(0,"ion-list")(1,"ion-item",0),Ve("click",function(){return o.onEdit()}),Ue(2,"ion-icon",1),Ee(3," Edit "),L(),j(4,"ion-item",0),Ve("click",function(){return o.onSave()}),Ue(5,"ion-icon",2),Ee(6," Export "),L(),j(7,"ion-item",0),Ve("click",function(){return o.onCheck()}),Ue(8,"ion-icon",3),Ee(9," Check "),L(),j(10,"ion-item",4),Ve("click",function(){return o.onDelete()}),Ue(11,"ion-icon",5),Ee(12," Delete "),L()()),2&n&&(me(1),Se("detail",!1),me(3),Se("detail",!1),me(3),Se("detail",!1),me(3),Se("detail",!1))},dependencies:[jo,mo,Fs]}),t})();function NK(e,t){1&e&&Ue(0,"ion-icon",15)}function FK(e,t){1&e&&Ue(0,"ion-icon",16)}let LK=(()=>{var e;class t{constructor(n,o,i,s){this.storageCardService=n,this.popoverController=o,this.cd=s,this.touched=!1,this.interaction=new qt,this.selecting=!1,this.selectedForExport=!1,this.selectCard=new qt,this.edit=new qt,this.check=new qt,this.delete=new qt,this.save=new qt,this.checkSessions=Yc(s,[],()=>i.getSessions())}ngDoCheck(){this.checkSessions()}onContextmenu(n){var o=this;return(0,F.Z)(function*(){n.stopPropagation(),n.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:OK,event:n,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.edit.emit(o.card),onSave:()=>o.save.emit(o.card),onCheck:()=>o.check.emit(),onDelete:()=>o.delete.emit()},reference:"event"})).present()})()}get color(){if(this.touched)return"light"}get status(){if(!this.card)return"";const n=this.storageCardService.mountedInSession(this.card?.id);if(n)return`attached to '${n.name}'`;if(this.card.dontFsckAutomatically)return"not checked automatically";switch(this.card.status){case dr.dirty:return"needs check";case dr.clean:return"no errors";case dr.unformatted:return"no filesystem";case dr.unfixable:return"uncorrectable errors";default:throw new Error("unreachable")}}}return(e=t).\u0275fac=function(n){return new(n||e)(v(_f),v(Ql),v(nc),v(lt))},e.\u0275cmp=Ye({type:e,selectors:[["app-storage-card"]],inputs:{card:"card",touched:"touched",selecting:"selecting",selectedForExport:"selectedForExport"},outputs:{interaction:"interaction",selectCard:"selectCard",edit:"edit",check:"check",delete:"delete",save:"save"},decls:21,vars:10,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","medkit-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(n,o){if(1&n){const i=yn();j(0,"ion-item-sliding",0,1),Ve("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit(o.card)}),j(2,"ion-item-options",2)(3,"ion-item-option",3),Ve("click",function(){return St(i),Rs(1).close(),wt(o.edit.emit(o.card))}),Ue(4,"ion-icon",4),L(),j(5,"ion-item-option",5),Ve("click",function(){return St(i),Rs(1).close(),wt(o.save.emit(o.card))}),Ue(6,"ion-icon",6),L()(),j(7,"ion-item-options",7)(8,"ion-item-option",8),Ve("click",function(){return St(i),Rs(1).close(),wt(o.check.emit(o.card))}),Ue(9,"ion-icon",9),L(),j(10,"ion-item-option",10),Ve("click",function(){return St(i),Rs(1).close(),wt(o.delete.emit(o.card))}),Ue(11,"ion-icon",11),L()(),j(12,"ion-item",12),Ve("click",function(){return o.selectCard.emit(),o.interaction.emit()}),j(13,"ion-label")(14,"h2"),Ee(15),L(),j(16,"p"),Ee(17),il(18,"cardSize"),L()(),Vt(19,NK,1,0,"ion-icon",13)(20,FK,1,0,"ion-icon",14),L()()}2&n&&(me(12),Se("color",o.color),me(1),ea("selecting",o.selecting),me(2),Ni(null==o.card?null:o.card.name),me(2),Ip("",sl(18,8,null==o.card?null:o.card.size),", ",o.status,""),me(2),Se("ngIf",o.selecting&&!o.selectedForExport),me(1),Se("ngIf",o.selecting&&o.selectedForExport))},dependencies:[Eo,jo,mo,$_,B_,V_,zi,RS],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 4.5em)}"],changeDetection:0}),t})();var kh;function $K(e,t){if(1&e){const r=yn();j(0,"ion-toolbar")(1,"ion-title"),Ee(2,"Memory cards"),L(),j(3,"ion-buttons",6)(4,"ion-button",7),Ve("click",function(){return St(r),wt(st().addCardImage())}),Ue(5,"ion-icon",8),L()(),j(6,"ion-buttons",9)(7,"ion-button",7),Ve("click",function(o){return St(r),wt(st().openActionMenu(o))}),Ue(8,"ion-icon",10),L(),Ue(9,"app-pwa-prompt"),L()()}}function BK(e,t){1&e&&(j(0,"ion-title"),Ee(1,"Export"),L())}function VK(e,t){1&e&&(j(0,"ion-title"),Ee(1,"Delete"),L())}function jK(e,t){if(1&e){const r=yn();j(0,"ion-buttons",9)(1,"ion-button",7),Ve("click",function(){return St(r),wt(st(2).onSelectAll())}),Ee(2,"Select all"),L()()}}function GK(e,t){if(1&e){const r=yn();j(0,"ion-buttons",9)(1,"ion-button",7),Ve("click",function(){return St(r),wt(st(2).selection.clear())}),Ee(2,"Clear"),L()()}}function UK(e,t){if(1&e){const r=yn();j(0,"ion-toolbar"),Vt(1,BK,2,0,"ion-title",0)(2,VK,2,0,"ion-title",0),j(3,"ion-buttons",6)(4,"ion-button",7),Ve("click",function(){return St(r),wt(st().onSelectionDone())}),Ee(5),L()(),Vt(6,jK,3,0,"ion-buttons",11)(7,GK,3,0,"ion-buttons",11),L()}if(2&e){const r=st();me(1),Se("ngIf","select-for-export"===r.mode),me(1),Se("ngIf","select-for-delete"===r.mode),me(3),Ni(0===r.selection.size?"Cancel":"select-for-export"===r.mode?"Export":"Delete"),me(1),Se("ngIf",r.selection.size!==r.cards.length),me(1),Se("ngIf",r.selection.size===r.cards.length)}}function HK(e,t){1&e&&(j(0,"ion-title",12),Ee(1,"Memory cards"),L())}function zK(e,t){1&e&&(j(0,"ion-title",12),Ee(1,"Select for export"),L())}function WK(e,t){1&e&&(j(0,"ion-title",12),Ee(1,"Select for delete"),L())}function ZK(e,t){1&e&&(j(0,"div",13),Ue(1,"ion-spinner"),L())}function qK(e,t){1&e&&(j(0,"div",14)(1,"div",15),Ee(2," No memory cards. Select the \u201e+\u201c icon in the upper right corner in order to create a new card. "),L()())}function KK(e,t){if(1&e){const r=yn();j(0,"app-storage-card",17),Ve("delete",function(){const i=St(r).$implicit;return wt(st(2).deleteCard(i))})("selectCard",function(){const i=St(r).$implicit,s=st(2);return wt("manage"===s.mode?s.browseCard(i):s.toggleSelection(i))})("edit",function(){const i=St(r).$implicit;return wt(st(2).editCard(i))})("check",function(){const i=St(r).$implicit;return wt(st(2).checkCard(i))})("interaction",function(){const i=St(r).$implicit;return wt(st(2).lastCardTouched=i.id)})("save",function(){const i=St(r).$implicit;return wt(st(2).saveCard(i))}),L()}if(2&e){const r=t.$implicit,n=st(2);Se("card",r)("touched",r.id===n.lastCardTouched)("selecting","manage"!==n.mode)("selectedForExport",n.selection.has(r.id))}}function YK(e,t){if(1&e&&(j(0,"ion-list"),Vt(1,KK,1,4,"app-storage-card",16),L()),2&e){const r=st();me(1),Se("ngForOf",r.cards)("ngForTrackBy",r.trackCardBy)}}class bl{constructor(t,r,n,o,i,s,a,l,c,f,p,m){var C=this;this.actionSheetController=t,this.storageCardService=r,this.modalController=n,this.cloudpilotService=o,this.alertService=i,this.errorService=s,this.fileService=a,this.loadingController=l,this.fstools=c,this.popoverController=f,this.cd=m,this.handleCardImport=function(){var U=(0,F.Z)(function*(J){if(!/\.((bin|img)(|\.gz)|zip)$/i.test(J.name))return void C.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .bin.gz, .img, .img.gz and .zip");if(J.name.endsWith(".zip")){let pt=!1;return yield C.alertService.message("Mass import","\n                    CloudpilotEmu will attempt to import all card images in the selected zip archive.\n                    Importing large archives (several 100MB) requires a lot of memory and may crash the browser\n                    or cause spurious errors if memory is exhausted.\n                    Are you sure you want to continue?\n                ",{Continue:()=>pt=!0},"Cancel"),void(pt&&(yield C.storageCardService.addAllCardsFromArchive(yield J.getContent())))}const _e=yield C.cloudpilotService.cloudpilot;let De;try{De=yield J.getContent()}catch(pt){return console.warn(pt),void(yield C.alertService.errorMessage(`Unable to open ${J.name}".`))}if(/\.gz$/.test(J.name)){const pt=yield C.loadingController.create({message:"Unpacking..."});yield pt.present();try{De=yield C.fstools.gunzip(De)}finally{yield pt.dismiss()}}const Re=De?_e.getCardSupportLevel(De.length):0;if(void 0===De||0===Re)return void C.alertService.errorMessage("This is not a supported card image.");const ht=yield new Promise(function(){var pt=(0,F.Z)(function*(Gt){const Et=yield C.modalController.create({component:WP,backdropDismiss:!1,componentProps:{card:{name:C.disambiguateName(J.name.replace(/\.gz$/,"")),size:De.length},cardSupportLevel:Re,newCard:!0,onCancel:()=>{Et.dismiss(),Gt(void 0)},onSave:tr=>{Gt(tr),Et.dismiss()}}});yield Et.present()});return function(Gt){return pt.apply(this,arguments)}}());ht&&(yield C.storageCardService.createCardFromImage(ht.name,De,!!ht.dontFsckAutomatically))});return function(J){return U.apply(this,arguments)}}(),this.lastCardTouched=void 0,this.onMountForBrowse=()=>{},this.mode="manage",this.selection=new Set,this.checkCards=Yc(m,[],()=>this.storageCardService.getAllCards()),this.checkSessions=Yc(m,void 0,()=>p.getSessions())}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkCards(),this.checkSessions()}ionViewDidLeave(){this.mode="manage",this.cd.markForCheck()}get cards(){return this.storageCardService.getAllCards()}handleDragDropEvent(t){this.fileService.openFromDrop(t,this.handleFilesFromDrop.bind(this))}addCardImage(){var t=this;return(0,F.Z)(function*(){(yield t.actionSheetController.create({header:"What type of image do you want to create?",buttons:[{text:"Empty image",handler:()=>t.createNewCardImage()},{text:"Import an existing image",handler:()=>t.importCardImage()},{text:"Cancel"}]})).present()})()}showHelp(){var t=this;return(0,F.Z)(function*(){yield(yield t.modalController.create({component:Nu,componentProps:{url:RK}})).present()})()}browseCard(t){var r=this;return(0,F.Z)(function*(){(yield r.storageCardService.browseCard(t))&&r.onMountForBrowse(t)})()}editCard(t){var r=this;return(0,F.Z)(function*(){const n=yield r.cloudpilotService.cloudpilot,o=yield r.modalController.create({component:WP,backdropDismiss:!1,componentProps:{card:t,cardSupportLevel:n.getCardSupportLevel(t.size),onCancel:()=>o.dismiss(),onSave:(i=(0,F.Z)(function*(s){yield r.storageCardService.updateCard(t.id,s),yield o.dismiss()}),function(a){return i.apply(this,arguments)})}});var i;yield o.present()})()}saveCard(t){var r=this;return(0,F.Z)(function*(){const n=`${gf(t.name.replace(/\.img$/,""))}.img`;yield(yield r.actionSheetController.create({header:"How do you want to export the image?",buttons:[{text:"Export gzip compressed image",handler:()=>r.storageCardService.saveCard(t.id,n,!0)},{text:"Export uncompressed image",handler:()=>r.storageCardService.saveCard(t.id,n,!1)},{text:"Cancel"}]})).present()})()}checkCard(t){return this.storageCardService.checkCard(t)}deleteCard(t){var r=this;return(0,F.Z)(function*(){let n=!0;if(yield r.alertService.message("Warning",`Deleting the card '${t.name}' cannot be undone. Are you sure you want to continue?`,{Delete:()=>n=!1},"Cancel"),n)return;const o=yield r.loadingController.create({message:"Deleting..."});yield o.present();try{yield r.storageCardService.deleteCard(t.id)}catch(i){r.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}finally{o.dismiss()}})()}trackCardBy(t,r){return r.id}startMassExport(){this.selection.clear(),this.mode="select-for-export"}startMassDelete(){this.selection.clear(),this.mode="select-for-delete"}onSelectionDone(){var t=this;return(0,F.Z)(function*(){const r=t.mode;switch(t.mode="manage",r){case"select-for-export":yield t.executeMassExport(Array.from(t.selection));break;case"select-for-delete":yield t.executeMassDelete(Array.from(t.selection))}})()}onSelectAll(){this.cards.forEach(t=>this.selection.add(t.id))}toggleSelection(t){this.selection.has(t.id)?this.selection.delete(t.id):this.selection.add(t.id)}openActionMenu(t,r="trigger"){var n=this;return(0,F.Z)(function*(){const o=yield n.popoverController.create({component:PK,event:t,componentProps:{cardCount:n.cards.length,onExport:()=>{o.dismiss(),n.startMassExport(),n.cd.markForCheck()},onDelete:()=>{o.dismiss(),n.startMassDelete(),n.cd.markForCheck()},onHelp:()=>{o.dismiss(),n.showHelp()}},arrow:!1,translucent:!0,reference:r});o.present()})()}onContextMenu(t){"manage"===this.mode&&(t.preventDefault(),this.openActionMenu(t,"event"))}executeMassExport(t){var r=this;return(0,F.Z)(function*(){switch(t.length){case 0:break;case 1:{const n=yield r.storageCardService.getCard(t[0]);n&&(yield r.saveCard(n));break}default:yield r.exportSelection(t)}})()}executeMassDelete(t){var r=this;return(0,F.Z)(function*(){switch(t.length){case 0:break;case 1:{const n=yield r.storageCardService.getCard(t[0]);n&&(yield r.deleteCard(n));break}default:{let n=!0;if(yield r.alertService.message("Warning",`You are about to delete ${t.length} cards. This cannot be undone. Are you sure you want to continue?`,{Delete:()=>n=!1},"Cancel"),n)return;const o=yield r.loadingController.create({message:"Deleting..."});yield o.present();try{for(const i of t)yield r.storageCardService.deleteCard(i)}catch(i){r.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}finally{o.dismiss()}}}})()}exportSelection(t){var r=this;return(0,F.Z)(function*(){const n=new Map(yield r.storageCardService.getAllCards().map(i=>[i.id,i]));if(t.map(i=>n.get(i)?.size).reduce((i,s)=>i+(s??0),0)>268435456){let i=!0;if(yield r.alertService.message("Warning","\n                    You are about to export a large amount of data. This may consume a lot of memory and can crash the browser.\n                    Are you sure you want to continue?\n                ",{Continue:()=>i=!1},"Cancel"),i)return}yield r.storageCardService.saveCards(t)})()}handleFilesFromDrop(t){if(0!==t.length){if(t.length>1)return void this.alertService.errorMessage("Drop a single file system image in order to import it as a new memory card.");this.handleCardImport(t[0])}}importCardImage(){this.fileService.openFile(this.handleCardImport)}createNewCardImage(){var t=this;return(0,F.Z)(function*(){const r=yield t.modalController.create({component:kK,backdropDismiss:!1,componentProps:{onCancel:()=>r.dismiss(),onCreate:(n=(0,F.Z)(function*(o,i,s){yield t.storageCardService.createEmptyCard(o,i,s),yield r.dismiss()}),function(i,s,a){return n.apply(this,arguments)})}});var n;yield r.present()})()}disambiguateName(t){const r=this.storageCardService.getAllCards();return mf(t,n=>r.some(o=>o.name===n))}}function XK(e,t){1&e&&Ue(0,"ion-icon",8)}function QK(e,t){1&e&&Ue(0,"ion-icon",9)}function JK(e,t){1&e&&Ue(0,"ion-icon",10)}function eY(e,t){if(1&e){const r=yn();j(0,"ion-item",2),Ve("click",function(){const i=St(r).index;return wt(st(2).onSelect(i))}),pu(1,3),Vt(2,XK,1,0,"ion-icon",4)(3,QK,1,0,"ion-icon",5)(4,JK,1,0,"ion-icon",6),hu(),j(5,"div",7),Ee(6),L()()}if(2&e){const r=t.$implicit,n=t.index,o=st(2);Se("detail",!1)("lines",n===o.entries.length-1?"none":"full"),me(1),Se("ngSwitch",o.entries.length),me(1),Se("ngSwitchCase",n+1),me(1),Se("ngSwitchCase",n+2),me(3),Ni(r)}}function tY(e,t){if(1&e&&(j(0,"ion-list"),Vt(1,eY,7,6,"ion-item",1),L()),2&e){const r=st();me(1),Se("ngForOf",r.entries)}}(kh=bl).\u0275fac=function(t){return new(t||kh)(v(yh),v(_f),v(fs),v(Ra),v(Fr),v(Pu),v(Kc),v(Ls),v(ov),v(Ql),v(nc),v(lt))},kh.\u0275cmp=Ye({type:kh,selectors:[["app-subpage-cards"]],inputs:{onMountForBrowse:"onMountForBrowse",selfReference:"selfReference"},decls:12,vars:8,consts:[[4,"ngIf"],[3,"contextmenu"],["collapse","condense"],["size","large",4,"ngIf"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["size","large"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],[3,"card","touched","selecting","selectedForExport","delete","selectCard","edit","check","interaction","save",4,"ngFor","ngForOf","ngForTrackBy"],[3,"card","touched","selecting","selectedForExport","delete","selectCard","edit","check","interaction","save"]],template:function(t,r){1&t&&(j(0,"ion-header"),Vt(1,$K,10,0,"ion-toolbar",0)(2,UK,8,5,"ion-toolbar",0),L(),j(3,"ion-content",1),Ve("contextmenu",function(o){return r.onContextMenu(o)}),j(4,"ion-header",2)(5,"ion-toolbar"),Vt(6,HK,2,0,"ion-title",3)(7,zK,2,0,"ion-title",3)(8,WK,2,0,"ion-title",3),L()(),Vt(9,ZK,2,0,"div",4)(10,qK,3,0,"div",5)(11,YK,2,2,"ion-list",0),L()),2&t&&(me(1),Se("ngIf","manage"===r.mode),me(1),Se("ngIf","manage"!==r.mode),me(4),Se("ngIf","manage"===r.mode),me(1),Se("ngIf","select-for-export"===r.mode),me(1),Se("ngIf","select-for-delete"===r.mode),me(1),Se("ngIf",r.storageCardService.isLoading()),me(1),Se("ngIf",!r.storageCardService.isLoading()&&0===r.cards.length),me(1),Se("ngIf",!r.storageCardService.isLoading()&&r.cards.length>0))},dependencies:[Hl,Eo,ji,Gi,Ui,Hi,jo,Fs,gh,Wi,Zi,cv,LK],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}),re([Tn()],bl.prototype,"addCardImage",null),re([Tn()],bl.prototype,"browseCard",null),re([Tn()],bl.prototype,"editCard",null),re([Tn()],bl.prototype,"saveCard",null),re([Tn()],bl.prototype,"checkCard",null),re([Tn()],bl.prototype,"deleteCard",null),re([Tn()],bl.prototype,"onSelectionDone",null),re([Tn()],bl.prototype,"openActionMenu",null);let nY=(()=>{var e;class t{constructor(){this.onSelect=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ye({type:e,selectors:[["app-context-menu-breadcrumb"]],inputs:{entries:"entries"},decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"detail","lines","click"],[3,"ngSwitch"],["name","list-outline","slot","end",4,"ngSwitchCase"],["name","file-tray-outline","slot","end",4,"ngSwitchCase"],["name","folder-outline","slot","end",4,"ngSwitchDefault"],[1,"text-wrapper"],["name","list-outline","slot","end"],["name","file-tray-outline","slot","end"],["name","folder-outline","slot","end"]],template:function(n,o){1&n&&Vt(0,tY,2,1,"ion-list",0),2&n&&Se("ngIf",o.entries)},dependencies:[Hl,Eo,Xg,LT,$T,jo,mo,Fs],styles:[".text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:calc(var(--cp-breadcrumb-menu-width) - 30px)}.ios[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{max-width:calc(var(--cp-breadcrumb-menu-width) - 70px)}"]}),t})(),rY=(()=>{var e;class t{constructor(n){this.vfsService=n,this.onStartSelection=()=>{},this.onAddFiles=()=>{},this.onCreateDirectry=()=>{},this.onExtractZipfile=()=>{},this.onPaste=()=>{},this.onHelp=()=>{},this.emptyDirectory=!1}}return(e=t).\u0275fac=function(n){return new(n||e)(v($u))},e.\u0275cmp=Ye({type:e,selectors:[["app-context-menu-directory"]],inputs:{onStartSelection:"onStartSelection",onAddFiles:"onAddFiles",onCreateDirectry:"onCreateDirectry",onExtractZipfile:"onExtractZipfile",onPaste:"onPaste",onHelp:"onHelp",emptyDirectory:"emptyDirectory"},decls:19,vars:8,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","checkmark-circle-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","document-outline","slot","end"],["name","folder-outline","slot","end"],["name","download-outline","slot","end"],["name","clipboard-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(n,o){1&n&&(j(0,"ion-list")(1,"ion-item",0),Ve("click",function(){return o.onStartSelection()}),Ue(2,"ion-icon",1),Ee(3," Start selection "),L(),j(4,"ion-item",2),Ve("click",function(){return o.onAddFiles()}),Ue(5,"ion-icon",3),Ee(6," Add files "),L(),j(7,"ion-item",2),Ve("click",function(){return o.onCreateDirectry()}),Ue(8,"ion-icon",4),Ee(9," Add directory "),L(),j(10,"ion-item",2),Ve("click",function(){return o.onExtractZipfile()}),Ue(11,"ion-icon",5),Ee(12," Extract zip "),L(),j(13,"ion-item",0),Ve("click",function(){return o.onPaste()}),Ue(14,"ion-icon",6),Ee(15," Paste "),L(),j(16,"ion-item",7),Ve("click",function(){return o.onHelp()}),Ue(17,"ion-icon",8),Ee(18," Help "),L()()),2&n&&(me(1),Se("detail",!1)("disabled",o.emptyDirectory),me(3),Se("detail",!1),me(3),Se("detail",!1),me(3),Se("detail",!1),me(3),Se("detail",!1)("disabled",!o.vfsService.isClipboardPopulated()),me(3),Se("detail",!1))},dependencies:[jo,mo,Fs]}),t})();var Rh;class uv{constructor(t,r){this.modalController=t,this.vfsService=r,this.validateNameUnique=n=>this.entry&&this.vfsService.readdir(this.vfsService.dirname(this.entry.path)).some(o=>o.name.toLocaleLowerCase()===n.value.toLocaleLowerCase()&&o.name.toLocaleLowerCase()!==this.entry?.name?.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=n=>this.vfsService.isFilenameValid(n.value)?null:{name:"invalid file name"},this.onSave=()=>{},this.formGroup=new Uc({name:new ds("",{nonNullable:!0,validators:[nh.required,this.validateNameUnique,this.validateNameValid]}),attrReadonly:new ds(!1,{nonNullable:!0}),attrHidden:new ds(!1,{nonNullable:!0}),attrSystem:new ds(!1,{nonNullable:!0})})}ngOnInit(){this.entry&&(this.formGroup.controls.name.setValue(this.entry.name),this.formGroup.controls.attrHidden.setValue(this.entry.attributes.hidden),this.formGroup.controls.attrReadonly.setValue(this.entry.attributes.readonly),this.formGroup.controls.attrSystem.setValue(this.entry.attributes.system))}get subjectName(){return this.entry?.isDirectory?"Directory":"File"}onSaveClick(){var t=this;return(0,F.Z)(function*(){yield t.save()})()}onCancelClick(){this.modalController.dismiss()}onEnter(){var t=this;return(0,F.Z)(function*(){yield t.save()})()}save(){var t=this;return(0,F.Z)(function*(){t.entry&&t.formGroup.valid&&(yield t.vfsService.updateFileEntry(t.entry.path,{name:t.formGroup.controls.name.value??"",attributes:{hidden:!!t.formGroup.controls.attrHidden.value,readonly:!!t.formGroup.controls.attrReadonly.value,system:!!t.formGroup.controls.attrSystem.value}}),t.onSave(),t.modalController.dismiss())})()}}(Rh=uv).\u0275fac=function(t){return new(t||Rh)(v(fs),v($u))},Rh.\u0275cmp=Ye({type:Rh,selectors:[["app-edit-file-dialog"]],inputs:{entry:"entry"},decls:34,vars:5,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["formControlName","name",3,"placeholder"],["name","lock-closed-outline","size","small"],["formControlName","attrReadonly"],["name","eye-off-outline","size","small"],["formControlName","attrHidden"],["name","cog-outline","size","small"],["formControlName","attrSystem"]],template:function(t,r){1&t&&(j(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ee(3),L(),j(4,"ion-buttons",0)(5,"ion-button",1),Ve("click",function(){return r.onSaveClick()}),Ee(6,"Save"),L()(),j(7,"ion-buttons",2)(8,"ion-button",3),Ve("click",function(){return r.onCancelClick()}),Ee(9,"Cancel"),L()()()(),j(10,"ion-content",4)(11,"form",5),Ve("keydown.enter",function(){return r.onEnter()}),j(12,"ion-item",6)(13,"ion-label",7),Ee(14),L(),Ue(15,"ion-input",8),L(),j(16,"ion-item",6)(17,"h2"),Ee(18,"Attributes"),L()(),j(19,"ion-item",6)(20,"ion-label"),Ue(21,"ion-icon",9),Ee(22,"Readonly"),L(),Ue(23,"ion-checkbox",10),L(),j(24,"ion-item",6)(25,"ion-label"),Ue(26,"ion-icon",11),Ee(27,"Hidden"),L(),Ue(28,"ion-checkbox",12),L(),j(29,"ion-item",6)(30,"ion-label"),Ue(31,"ion-icon",13),Ee(32,"System"),L(),Ue(33,"ion-checkbox",14),L()()()),2&t&&(me(3),si("Edit ",r.subjectName.toLowerCase(),""),me(2),Se("disabled",r.formGroup.invalid),me(6),Se("formGroup",r.formGroup),me(3),si("",r.subjectName," name"),me(1),wg("placeholder","Enter ",r.subjectName.toLowerCase()," name"))},dependencies:[ji,Gi,gR,Ui,Hi,jo,Xl,mo,zi,Wi,Zi,lf,Yl,Kl,Zl,ql,Ma,hl],styles:["ion-icon[_ngcontent-%COMP%]{margin-right:1em;position:relative;top:2px}"]}),re([Tn()],uv.prototype,"onSaveClick",null),re([Tn()],uv.prototype,"onEnter",null);let oY=(()=>{var e;class t{constructor(n,o){this.el=n,this.zone=o;const i=n.nativeElement.querySelector("input");i?i.focus():this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}ngOnDestroy(){this.observer?.disconnect()}update(){const n=this.el.nativeElement.querySelector("input");n&&(setTimeout(()=>n.focus(),100),this.observer?.disconnect())}}return(e=t).\u0275fac=function(n){return new(n||e)(v(nt),v(Ze))},e.\u0275dir=Mt({type:e,selectors:[["","appAutofocus",""]]}),t})(),iY=(()=>{var e;class t{constructor(n,o){this.vfsService=n,this.modalController=o,this.validateNameUnique=i=>this.parentPath&&this.vfsService.readdir(this.parentPath).some(s=>s.name.toLocaleLowerCase()===i.value.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=i=>this.vfsService.isFilenameValid(i.value)?null:{name:"invalid file name"},this.onCreate=()=>{},this.formGroup=new Uc({name:new ds("",{nonNullable:!0,validators:[nh.required,this.validateNameUnique,this.validateNameValid]})})}onCreateClick(){this.createDir()}onEnter(){this.createDir()}onCancelClick(){this.modalController.dismiss()}createDir(){this.formGroup.controls.name.valid&&(this.onCreate(this.formGroup.controls.name.value),this.modalController.dismiss())}}return(e=t).\u0275fac=function(n){return new(n||e)(v($u),v(fs))},e.\u0275cmp=Ye({type:e,selectors:[["app-new-directory-dialog"]],inputs:{parentPath:"parentPath",onCreate:"onCreate"},decls:16,vars:2,consts:[["slot","primary"],["tabindex","-1",3,"disabled","click"],["slot","secondary"],["tabindex","-1",3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter directory name","formControlName","name","appAutofocus","","tabindex","1"]],template:function(n,o){1&n&&(j(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ee(3,"Create directory"),L(),j(4,"ion-buttons",0)(5,"ion-button",1),Ve("click",function(){return o.onCreateClick()}),Ee(6,"Create"),L()(),j(7,"ion-buttons",2)(8,"ion-button",3),Ve("click",function(){return o.onCancelClick()}),Ee(9,"Cancel"),L()()()(),j(10,"ion-content",4)(11,"form",5),Ve("keydown.enter",function(){return o.onEnter()}),j(12,"ion-item",6)(13,"ion-label",7),Ee(14,"Directory name"),L(),Ue(15,"ion-input",8),L()()()),2&n&&(me(5),Se("disabled",o.formGroup.invalid),me(6),Se("formGroup",o.formGroup))},dependencies:[ji,Gi,Ui,Hi,Xl,mo,zi,Wi,Zi,Yl,Kl,Zl,ql,Ma,hl,oY]}),t})();function ZP(e){let t,r,n=!1;return o=>((!n||o!==t)&&(t=o,n=!0,r=e(o)),r)}const sY=S.p+"assets/doc/card-browser-5a0261814255810d.md";let aY=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCopy=()=>{},this.onCut=()=>{},this.onDelete=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ye({type:e,selectors:[["app-context-menu-file-entry"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCopy:"onCopy",onCut:"onCut",onDelete:"onDelete"},decls:16,vars:5,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","copy-outline","slot","end"],["name","cut-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(n,o){1&n&&(j(0,"ion-list")(1,"ion-item",0),Ve("click",function(){return o.onEdit()}),Ue(2,"ion-icon",1),Ee(3," Edit "),L(),j(4,"ion-item",0),Ve("click",function(){return o.onSave()}),Ue(5,"ion-icon",2),Ee(6," Save "),L(),j(7,"ion-item",0),Ve("click",function(){return o.onCopy()}),Ue(8,"ion-icon",3),Ee(9," Copy "),L(),j(10,"ion-item",0),Ve("click",function(){return o.onCut()}),Ue(11,"ion-icon",4),Ee(12," Cut "),L(),j(13,"ion-item",5),Ve("click",function(){return o.onDelete()}),Ue(14,"ion-icon",6),Ee(15," Delete "),L()()),2&n&&(me(1),Se("detail",!1),me(3),Se("detail",!1),me(3),Se("detail",!1),me(3),Se("detail",!1),me(3),Se("detail",!1))},dependencies:[jo,mo,Fs]}),t})(),qP=(()=>{var e;class t{transform(n){return void 0===n?"":n<1024?`${n} bytes`:n<1048576?`${(n/1024).toFixed(1)} kB`:`${(n/1024/1024).toFixed(1)} MB`}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275pipe=bo({name:"fileSize",type:e,pure:!0}),t})();const lY=["slidingItem"];function cY(e,t){1&e&&Ue(0,"ion-icon",24)}function uY(e,t){1&e&&Ue(0,"ion-icon",25)}function dY(e,t){1&e&&Ue(0,"ion-icon",26)}function fY(e,t){1&e&&Ue(0,"ion-icon",27)}function pY(e,t){1&e&&Ue(0,"ion-icon",28)}function hY(e,t){1&e&&Ue(0,"ion-icon",29)}function mY(e,t){1&e&&Ue(0,"ion-icon",30)}function gY(e,t){1&e&&Ue(0,"ion-icon",31)}function _Y(e,t){1&e&&Ue(0,"ion-icon",32)}function vY(e,t){if(1&e&&(pu(0),Ee(1),il(2,"fileSize"),hu()),2&e){const r=st();me(1),si(" - ",sl(2,1,null==r.entry?null:r.entry.size)," ")}}let yY=(()=>{var e;class t{constructor(n,o,i){this.actionSheetController=n,this.popoverController=o,this.vfsService=i,this.touched=!1,this.selecting=!1,this.selected=!1,this.interaction=new qt,this.selectEntry=new qt,this.editEntry=new qt,this.copyEntry=new qt,this.cutEntry=new qt,this.deleteEntry=new qt,this.saveEntry=new qt,this.isIOS=!!document.querySelector("html.ios")}ngOnChanges(n){n.selecting&&n.selecting.currentValue&&!n.selecting.previousValue&&this.slidingItem?.close()}onContextmenu(n){var o=this;return(0,F.Z)(function*(){o.selecting||(n.stopPropagation(),n.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:aY,event:n,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.editEntry.emit(o.entry),onSave:()=>o.saveEntry.emit(o.entry),onCopy:()=>o.copyEntry.emit(o.entry),onCut:()=>o.cutEntry.emit(o.entry),onDelete:()=>o.deleteEntry.emit(o.entry)},reference:"event"})).present())})()}get color(){if(!this.selecting&&this.touched||this.selecting&&this.selected)return"light"}get markedForCut(){return!!this.entry&&"cut"===this.vfsService.isEntryInClipboard(this.entry)}get markedForCopy(){return!!this.entry&&"copy"===this.vfsService.isEntryInClipboard(this.entry)}cutOrCopyEntry(){var n=this;return(0,F.Z)(function*(){const o=n.entry?.isDirectory?"directory":"file";(yield n.actionSheetController.create({header:"Do you want to cut or copy?",buttons:[{text:`Copy ${o}`,handler:()=>n.copyEntry.emit(n.entry)},{text:`Cut ${o}`,handler:()=>n.cutEntry.emit(n.entry)},{text:"Cancel"}]})).present()})()}get safetyMargin(){let n=0;return this.entry?.attributes.readonly&&(n+=1.7),this.entry?.attributes.hidden&&(n+=1.7),this.entry?.attributes.system&&(n+=1.7),(this.markedForCopy||this.markedForCut)&&(n+=1.7),0===n?"0":(n+=this.selecting?this.isIOS?1.25:1:this.entry?.isDirectory?2:3.5,n+"em")}}return(e=t).\u0275fac=function(n){return new(n||e)(v(yh),v(Ql),v($u))},e.\u0275cmp=Ye({type:e,selectors:[["app-file-entry"]],viewQuery:function(n,o){if(1&n&&Ac(lY,5),2&n){let i;Ps(i=Os())&&(o.slidingItem=i.first)}},inputs:{entry:"entry",touched:"touched",selecting:"selecting",selected:"selected"},outputs:{interaction:"interaction",selectEntry:"selectEntry",editEntry:"editEntry",copyEntry:"copyEntry",cutEntry:"cutEntry",deleteEntry:"deleteEntry",saveEntry:"saveEntry"},features:[Yo],decls:29,vars:23,consts:[[3,"disabled","contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","copy-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","detail","click"],["name","folder-outline","slot","start",4,"ngIf"],["name","document-outline","slot","start",4,"ngIf"],["slot","end",1,"attribute-icon-container"],["class","attribute-icon","name","lock-closed-outline","size","small",4,"ngIf"],["class","attribute-icon","name","eye-off-outline","size","small",4,"ngIf"],["class","attribute-icon","name","cog-outline","size","small",4,"ngIf"],["class","attribute-icon","name","clipboard-outline","size","small",4,"ngIf"],["class","attribute-icon","name","cut-outline","size","small",4,"ngIf"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],[4,"ngIf"],["name","folder-outline","slot","start"],["name","document-outline","slot","start"],["name","lock-closed-outline","size","small",1,"attribute-icon"],["name","eye-off-outline","size","small",1,"attribute-icon"],["name","cog-outline","size","small",1,"attribute-icon"],["name","clipboard-outline","size","small",1,"attribute-icon"],["name","cut-outline","size","small",1,"attribute-icon"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(n,o){if(1&n){const i=yn();j(0,"ion-item-sliding",0,1),Ve("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit(o.entry)}),j(2,"ion-item-options",2)(3,"ion-item-option",3),Ve("click",function(){return St(i),Rs(1).close(),wt(o.editEntry.emit(o.entry))}),Ue(4,"ion-icon",4),L(),j(5,"ion-item-option",5),Ve("click",function(){return St(i),Rs(1).close(),wt(o.saveEntry.emit(o.entry))}),Ue(6,"ion-icon",6),L()(),j(7,"ion-item-options",7)(8,"ion-item-option",8),Ve("click",function(){return St(i),Rs(1).close(),wt(o.cutOrCopyEntry())}),Ue(9,"ion-icon",9),L(),j(10,"ion-item-option",10),Ve("click",function(){return St(i),Rs(1).close(),wt(o.deleteEntry.emit(o.entry))}),Ue(11,"ion-icon",11),L()(),j(12,"ion-item",12),Ve("click",function(){return o.selectEntry.emit(),o.interaction.emit()}),Vt(13,cY,1,0,"ion-icon",13)(14,uY,1,0,"ion-icon",14),j(15,"div",15),Vt(16,dY,1,0,"ion-icon",16)(17,fY,1,0,"ion-icon",17)(18,pY,1,0,"ion-icon",18)(19,hY,1,0,"ion-icon",19)(20,mY,1,0,"ion-icon",20),L(),Vt(21,gY,1,0,"ion-icon",21)(22,_Y,1,0,"ion-icon",22),j(23,"ion-label")(24,"h2"),Ee(25),L(),j(26,"p"),Ee(27),Vt(28,vY,3,3,"ng-container",23),L()()()()}2&n&&(Se("disabled",o.selecting),me(12),du("opacity",o.touched?1:.99999),ea("is-directory",null==o.entry?null:o.entry.isDirectory),Se("color",o.color)("detail",(null==o.entry?null:o.entry.isDirectory)&&!o.selecting),me(1),Se("ngIf",null==o.entry?null:o.entry.isDirectory),me(1),Se("ngIf",!(null!=o.entry&&o.entry.isDirectory)),me(2),Se("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.readonly),me(1),Se("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.hidden),me(1),Se("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.system),me(1),Se("ngIf",o.markedForCopy),me(1),Se("ngIf",o.markedForCut),me(1),Se("ngIf",o.selecting&&!o.selected),me(1),Se("ngIf",o.selecting&&o.selected),me(1),du("padding-right",o.safetyMargin),ea("selecting",o.selecting),me(2),Ni(null==o.entry?null:o.entry.name),me(2),si(" ",null==o.entry?null:o.entry.lastModifiedLocalDate," "),me(1),Se("ngIf",!(null!=o.entry&&o.entry.isDirectory)))},dependencies:[Eo,jo,mo,$_,B_,V_,zi,qP],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white);position:relative}ion-icon.item-detail-icon[_ngcontent-%COMP%]{min-width:1em}ion-label[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 7em)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 8em)}.ios[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 6.5em)}.ios[_ngcontent-%COMP%]   ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 7.5em)}.attribute-icon-container[_ngcontent-%COMP%]{position:absolute;top:0;right:3.25em;display:flex;flex-direction:row;align-items:center;height:100%}.ios[_ngcontent-%COMP%]   .attribute-icon-container[_ngcontent-%COMP%]{right:3.5em}ion-icon.attribute-icon[_ngcontent-%COMP%]{color:var(--ion-color-step-600);margin-left:.7em!important}ion-icon.attribute-icon[name=lock-closed-outline][_ngcontent-%COMP%]{position:relative;top:-2px}.ios[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]{color:rgba(var(--ion-text-color-rgb, 0, 0, 0),.4);margin-left:0}.ios[_ngcontent-%COMP%]   .selection-icon[_ngcontent-%COMP%]{margin-left:.5em}"],changeDetection:0}),t})();var Ph;function bY(e,t){if(1&e){const r=yn();j(0,"ion-toolbar")(1,"ion-title")(2,"app-breadcrumb",6),Ve("trigger",function(o){return St(r),wt(st().openBreadcrumbMenu(o))}),Ee(3),L()(),j(4,"ion-buttons",7),Ue(5,"ion-back-button"),L(),j(6,"ion-buttons",8)(7,"ion-button",9),Ve("click",function(o){return St(r),wt(st().openContextMenu(o,"trigger"))}),Ue(8,"ion-icon",10),L()()()}if(2&e){const r=st();me(3),Ni(r.title)}}function CY(e,t){if(1&e){const r=yn();j(0,"ion-buttons",12)(1,"ion-button",9),Ve("click",function(){return St(r),wt(st(2).onSelectAll())}),Ee(2,"Select all"),L()()}}function SY(e,t){if(1&e){const r=yn();j(0,"ion-buttons",12)(1,"ion-button",9),Ve("click",function(){return St(r),wt(st(2).selection.clear())}),Ee(2,"Clear"),L()()}}function wY(e,t){if(1&e){const r=yn();j(0,"ion-toolbar")(1,"ion-title"),Ee(2,"Selection"),L(),j(3,"ion-buttons",8)(4,"ion-button",9),Ve("click",function(){return St(r),wt(st().onSelectionDone())}),Ee(5),L()(),Vt(6,CY,3,0,"ion-buttons",11)(7,SY,3,0,"ion-buttons",11),L()}if(2&e){const r=st();me(5),Ni(0===r.selection.size?"Cancel":"Done"),me(1),Se("ngIf",r.selection.size!==(null==r.entries?null:r.entries.length)),me(1),Se("ngIf",r.selection.size===(null==r.entries?null:r.entries.length))}}function EY(e,t){if(1&e&&(j(0,"div",13)(1,"div",14),Ee(2),L()()),2&e){const r=st();me(2),si("empty ",r.isRoot?"card":"directory","")}}function DY(e,t){if(1&e){const r=yn();j(0,"app-file-entry",15),Ve("selectEntry",function(){const i=St(r).$implicit;return wt(st().onSelect(i))})("editEntry",function(){const i=St(r).$implicit;return wt(st().onEditEntry(i))})("saveEntry",function(){const i=St(r).$implicit;return wt(st().onSaveEntry(i))})("copyEntry",function(){const i=St(r).$implicit;return wt(st().onCopyEntry(i))})("cutEntry",function(){const i=St(r).$implicit;return wt(st().onCutEntry(i))})("deleteEntry",function(){const i=St(r).$implicit;return wt(st().onDeleteEntry(i))})("interaction",function(){const i=St(r).$implicit;return wt(st().lastEntryTouched=i.name)}),L()}if(2&e){const r=t.$implicit,n=st();Se("entry",r)("selecting","select"===n.mode)("selected",n.selection.has(r.name))("touched",r.name===n.lastEntryTouched)}}function IY(e,t){if(1&e&&(j(0,"p"),Ee(1),il(2,"fileSize"),il(3,"fileSize"),L()),2&e){const r=st(2);me(1),Ip("",sl(2,2,r.bytesFree)," free, ",sl(3,4,r.bytesTotal)," total")}}function xY(e,t){if(1&e&&(j(0,"p"),Ee(1),il(2,"fileSize"),L()),2&e){const r=st(2);me(1),mb(" ",sl(2,3,r.bytesInFiles)," in ",r.fileCount," ",1===r.fileCount?"file":"files"," ")}}function TY(e,t){if(1&e&&(j(0,"ion-item",16)(1,"ion-label"),Vt(2,IY,4,6,"p",0)(3,xY,3,5,"p",0),L()()),2&e){const r=st();me(2),Se("ngIf",r.isRoot),me(1),Se("ngIf",r.fileCount>0)}}function MY(e,t){return e.isDirectory&&!t.isDirectory?-1:!e.isDirectory&&t.isDirectory?1:e.name.localeCompare(t.name)}class Na{constructor(t,r,n,o,i,s,a,l){this.vfsService=t,this.popoverController=r,this.config=n,this.alertService=o,this.actionSheetController=i,this.modalController=s,this.fileService=a,this.cd=l,this.bytesInFilesMemoized=ZP(c=>c?.reduce((f,p)=>f+(p.isDirectory?0:p.size),0)??0),this.fileCountMemoized=ZP(c=>c?.filter(f=>!f.isDirectory)?.length??0),this.onNavigate=()=>{},this.onNavigateBreadcrumb=()=>{},this.lastEntryTouched=void 0,this.mode="browse",this.selection=new Set,this.checkEntries=Yc(l,void 0,()=>void 0!==this.path?t.readdir(this.path):void 0),this.checkBytesFree=Yc(l,void 0,()=>this.vfsService.getBytesFree())}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkEntries(),this.checkBytesFree()}handleDragDropEvent(t){this.fileService.openFromDrop(t,r=>this.vfsService.addFiles(r,this.path||""))}get title(){switch(this.path){case"/":return this.card?.name??"";case void 0:return"";default:{const t=this.vfsService.splitPath(this.path);return t[t.length-1]??""}}}get bytesFree(){return this.vfsService.getBytesFree()}get bytesTotal(){return this.vfsService.getBytesTotal()}get bytesInFiles(){return this.bytesInFilesMemoized(this.entries)}get isRoot(){return"/"===this.path}get fileCount(){return this.fileCountMemoized(this.entries)}get entries(){return void 0!==this.path?[...this.vfsService.readdir(this.path)].sort(MY):[]}trackEntryBy(t,r){return r.name}onSelect(t){"browse"===this.mode?t.isDirectory&&this.onNavigate(t.path):this.selection?.has(t.name)?this.selection.delete(t.name):this.selection.add(t.name)}onEditEntry(t){var r=this;return(0,F.Z)(function*(){yield(yield r.modalController.create({component:uv,backdropDismiss:!1,componentProps:{entry:t}})).present()})()}onSaveEntry(t){var r=this;return(0,F.Z)(function*(){r.path&&(t.isDirectory?yield r.vfsService.archiveFiles([t],r.path):yield r.vfsService.saveFile(t))})()}onCopyEntry(t){this.path&&this.vfsService.copyToClipboard(this.path,[t.name],"copy")}onCutEntry(t){this.path&&this.vfsService.copyToClipboard(this.path,[t.name],"cut")}onDeleteEntry(t){var r=this;return(0,F.Z)(function*(){t.isDirectory?yield r.vfsService.deleteRecursive([t]):yield r.vfsService.unlinkEntry(t)})()}onAddFiles(){this.fileService.openFiles(t=>this.vfsService.addFiles(t,this.path||"/"))}onCreateDirectory(){var t=this;return(0,F.Z)(function*(){yield(yield t.modalController.create({component:iY,backdropDismiss:!1,componentProps:{parentPath:t.path,onCreate:n=>t.vfsService.mkdir(`${t.path}/${n}`)}})).present()})()}onExtractZipfile(){this.fileService.openFile(this.extractZipArchive.bind(this))}onPaste(){var t=this;return(0,F.Z)(function*(){t.path&&(yield t.vfsService.paste(t.path))})()}onHelp(){var t=this;return(0,F.Z)(function*(){yield(yield t.modalController.create({component:Nu,componentProps:{url:sY}})).present()})()}onStartSelection(){0!==this.entries?.length&&(this.selection.clear(),this.mode="select",this.cd.markForCheck())}onSelectionDone(){var t=this;return(0,F.Z)(function*(){if(!t.entries)return;const r=Array.from(t.selection),n=new Map(t.entries.map(a=>[a.name,a])),o=r.every(a=>!n.get(a)?.isDirectory),i=r.every(a=>n.get(a)?.isDirectory);let s=`${t.selection.size} items`;if(o&&(s=1===t.selection.size?"file":`${t.selection.size} files`),i&&(s=1===t.selection.size?"directory":`${t.selection.size} directories`),0!==t.selection.size){const a=yield t.actionSheetController.create({header:"What do you want to do?",buttons:[{text:`Copy ${s}`,handler:t.onCopySelection.bind(t)},{text:`Cut ${s}`,handler:t.onCutSelection.bind(t)},{text:`Save ${s} as zip`,handler:t.onSaveZip.bind(t)},{text:`Delete ${s}`,handler:t.onDeleteSelection.bind(t)},{text:"Cancel"}]});yield a.present(),yield a.onWillDismiss()}t.mode="browse",t.cd.markForCheck()})()}onSelectAll(){this.entries?.forEach(t=>this.selection.add(t.name))}onCopySelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"copy")}onCutSelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"cut")}onSaveZip(){var t=this;return(0,F.Z)(function*(){const r=t.materializeSelection();!r||!t.path||(yield t.vfsService.archiveFiles(r,t.path))})()}onDeleteSelection(){var t=this;return(0,F.Z)(function*(){const r=t.materializeSelection();!r||!t.path||(yield t.vfsService.deleteRecursive(r))})()}openBreadcrumbMenu(t){var r=this;return(0,F.Z)(function*(){if(!r.card||!r.path)return;const n=[..."/"===r.path?[]:[...r.vfsService.splitPath(r.path).reverse().slice(1),r.card.name],"Memory cards"];(yield r.popoverController.create({component:nY,componentProps:{entries:n,onSelect:i=>r.onNavigateBreadcrumb(n.length-1-i)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===r.config.get("mode")?"center":"start",trigger:t,cssClass:"cp-breadcrumb-menu"})).present()})()}openContextMenu(t,r){var n=this;return(0,F.Z)(function*(){(yield n.popoverController.create({component:rY,componentProps:{emptyDirectory:0===n.entries?.length,onStartSelection:n.onStartSelection.bind(n),onAddFiles:n.onAddFiles.bind(n),onCreateDirectry:n.onCreateDirectory.bind(n),onExtractZipfile:n.onExtractZipfile.bind(n),onPaste:n.onPaste.bind(n),onHelp:n.onHelp.bind(n)},event:t,dismissOnSelect:!0,arrow:!1,reference:r})).present()})()}onContextMenu(t){"select"!==this.mode&&(t.preventDefault(),this.openContextMenu(t,"event"))}ionViewDidLeave(){this.mode="browse",this.cd.markForCheck()}materializeSelection(){if(!this.path)return;const t=new Map(this.vfsService.readdir(this.path).map(r=>[r.name,r]));return Array.from(this.selection).map(r=>t.get(r)).filter(r=>!!r)}extractZipArchive(t){var r=this;return(0,F.Z)(function*(){/\.zip$/.test(t.name)?r.vfsService.unpackArchive(yield t.getContent(),r.path||"/"):yield r.alertService.errorMessage("File does not have the correct extension. Only .zip files are supported")})()}}(Ph=Na).\u0275fac=function(t){return new(t||Ph)(v($u),v(Ql),v(lh),v(Fr),v(yh),v(fs),v(Kc),v(lt))},Ph.\u0275cmp=Ye({type:Ph,selectors:[["app-subpage-directory"]],inputs:{card:"card",path:"path",selfReference:"selfReference",onNavigate:"onNavigate",onNavigateBreadcrumb:"onNavigateBreadcrumb"},decls:9,vars:6,consts:[[4,"ngIf"],[3,"contextmenu"],[1,"container"],["class","placeholder-wrapper",4,"ngIf"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction",4,"ngFor","ngForOf","ngForTrackBy"],["class","metadata","lines","none",4,"ngIf"],[3,"trigger"],["slot","start"],["slot","primary"],[3,"click"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["slot","secondary"],[1,"placeholder-wrapper"],[1,"placeholder"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction"],["lines","none",1,"metadata"]],template:function(t,r){1&t&&(j(0,"ion-header"),Vt(1,bY,9,1,"ion-toolbar",0)(2,wY,8,3,"ion-toolbar",0),L(),j(3,"ion-content",1),Ve("contextmenu",function(o){return r.onContextMenu(o)}),j(4,"div",2),Vt(5,EY,3,1,"div",3),j(6,"ion-list"),Vt(7,DY,1,4,"app-file-entry",4)(8,TY,4,2,"ion-item",5),L()()()),2&t&&(me(1),Se("ngIf","browse"===r.mode),me(1),Se("ngIf","select"===r.mode),me(3),Se("ngIf",0===(null==r.entries?null:r.entries.length)),me(2),Se("ngForOf",r.entries)("ngForTrackBy",r.trackEntryBy),me(1),Se("ngIf",r.isRoot||r.fileCount>0))},dependencies:[Hl,Eo,ji,Gi,Ui,Hi,jo,mo,zi,Fs,Wi,Zi,yR,GP,yY,qP],styles:[".container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}.placeholder-wrapper[_ngcontent-%COMP%]{flex:1;width:100%;display:flex;align-items:center;justify-content:center}.placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}ion-list[_ngcontent-%COMP%]{background:none;flex:0}ion-item.metadata[_ngcontent-%COMP%]{text-align:center}"],changeDetection:0}),re([Tn()],Na.prototype,"onSaveEntry",null),re([Tn()],Na.prototype,"onDeleteEntry",null),re([Tn()],Na.prototype,"onCreateDirectory",null),re([Tn()],Na.prototype,"onPaste",null),re([Tn()],Na.prototype,"onHelp",null),re([Tn()],Na.prototype,"onSelectionDone",null),re([Tn()],Na.prototype,"onSaveZip",null),re([Tn()],Na.prototype,"onDeleteSelection",null);const AY=["nav"];let kY=(()=>{var e;class t{constructor(n,o){this.vfsService=n,this.dragDropService=o,this.navRootProps={onMountForBrowse:i=>this.browseCard(i),selfReference:{}},this.onNavigate=i=>{this.currentlyBrowsingCard&&this.nav?.push(Na,{card:this.currentlyBrowsingCard,path:i,onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})},this.onNavigateBreadcrumb=i=>{this.currentlyBrowsingCard&&this.nav?.popTo(i,{animated:this.animateNav})},this.navRoot=bl,this.isVisible=!1}ngOnInit(){this.vfsService.onReleaseCard.addHandler(this.onReleaseCard.bind(this))}ionViewDidLeave(){var n=this;return(0,F.Z)(function*(){(yield n.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidLeave?.()})()}ionViewDidEnter(){this.isVisible=!0,this.dragDropService.registerClient(this)}ionViewWillLeave(){this.isVisible=!1,this.dragDropService.unregisterClient(this)}handleDragDropEvent(n){var o=this;return(0,F.Z)(function*(){yield(yield o.nav?.getActive())?.params?.selfReference?.ref?.handleDragDropEvent?.(n)})()}get animateNav(){return!i7}browseCard(n){this.currentlyBrowsingCard=n,this.nav?.push(Na,{card:n,path:"/",onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})}onReleaseCard(n){n!==this.currentlyBrowsingCard?.id||!this.nav||(this.isVisible||(this.nav.animated=!1),this.nav.popToRoot(void 0,()=>this.nav&&(this.nav.animated=this.animateNav)))}}return(e=t).\u0275fac=function(n){return new(n||e)(v($u),v(kS))},e.\u0275cmp=Ye({type:e,selectors:[["app-storage"]],viewQuery:function(n,o){if(1&n&&Ac(AY,5),2&n){let i;Ps(i=Os())&&(o.nav=i.first)}},decls:2,vars:3,consts:[[3,"animated","root","rootParams"],["nav",""]],template:function(n,o){1&n&&Ue(0,"ion-nav",0,1),2&n&&Se("animated",o.animateNav)("root",o.navRoot)("rootParams",o.navRootProps)},dependencies:[$0]}),t})();const RY=S.p+"assets/doc/sessions-868d7e6c0550348b.md";let PY=(()=>{var e;class t{constructor(){this.sessionCount=0}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ye({type:e,selectors:[["app-sessions-action-menu"]],inputs:{sessionCount:"sessionCount",onExport:"onExport",onDelete:"onDelete",onHelp:"onHelp"},decls:10,vars:5,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","share-outline","slot","end"],["name","trash-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(n,o){1&n&&(j(0,"ion-list")(1,"ion-item",0),Ve("click",function(){return null==o.onExport?null:o.onExport()}),Ue(2,"ion-icon",1),Ee(3," Export "),L(),j(4,"ion-item",0),Ve("click",function(){return null==o.onDelete?null:o.onDelete()}),Ue(5,"ion-icon",2),Ee(6," Delete "),L(),j(7,"ion-item",3),Ve("click",function(){return null==o.onHelp?null:o.onHelp()}),Ue(8,"ion-icon",4),Ee(9," Help "),L()()),2&n&&(me(1),Se("detail",!1)("disabled",0===o.sessionCount),me(3),Se("detail",!1)("disabled",0===o.sessionCount),me(3),Se("detail",!1))},dependencies:[jo,mo,Fs]}),t})(),OY=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onDelete=()=>{},this.onReset=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ye({type:e,selectors:[["app-session-context-menu"]],inputs:{onEdit:"onEdit",onSave:"onSave",onDelete:"onDelete",onReset:"onReset"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(n,o){1&n&&(j(0,"ion-list")(1,"ion-item",0),Ve("click",function(){return o.onEdit()}),Ue(2,"ion-icon",1),Ee(3," Edit "),L(),j(4,"ion-item",0),Ve("click",function(){return o.onSave()}),Ue(5,"ion-icon",2),Ee(6," Export "),L(),j(7,"ion-item",0),Ve("click",function(){return o.onReset()}),Ue(8,"ion-icon",3),Ee(9," Reset "),L(),j(10,"ion-item",4),Ve("click",function(){return o.onDelete()}),Ue(11,"ion-icon",5),Ee(12," Delete "),L()()),2&n&&(me(1),Se("detail",!1),me(3),Se("detail",!1),me(3),Se("detail",!1),me(3),Se("detail",!1))},dependencies:[jo,mo,Fs]}),t})();const FY=["slidingItem"];function LY(e,t){if(1&e&&(j(0,"span"),Ee(1),L()),2&e){const r=st();me(1),si(", OS ",r.decodeVersion(null==r.session?null:r.session.osVersion),"")}}function $Y(e,t){1&e&&Ue(0,"ion-icon",16)}function BY(e,t){1&e&&Ue(0,"ion-icon",17)}let VY=(()=>{var e;class t{constructor(n){this.popoverController=n,this.selected=!1,this.touched=!1,this.selecting=!1,this.selectedForExport=!1,this.delete=new qt,this.resetSession=new qt,this.edit=new qt,this.save=new qt,this.selectItem=new qt,this.interaction=new qt}get device(){return this.session?aP(this.session.device):""}onContextmenu(n){var o=this;return(0,F.Z)(function*(){n.stopPropagation(),n.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:OY,event:n,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.edit.emit(),onSave:()=>o.save.emit(),onDelete:()=>o.delete.emit(),onReset:()=>o.resetSession.emit()},reference:"event"})).present()})()}decodeVersion(n){if(void 0===n)return"";const o=function NY(e){return{major:e>>>24&255,minor:e>>>20&15,fix:e>>>16&15,stage:e>>>12&15,build:4095&e}}(n);return`${o.major}.${o.minor}`}get color(){return this.selected?"primary":this.touched?"light":void 0}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Ql))},e.\u0275cmp=Ye({type:e,selectors:[["app-session-item"]],viewQuery:function(n,o){if(1&n&&Ac(FY,5),2&n){let i;Ps(i=Os())&&(o.slidingItem=i.first)}},inputs:{session:"session",selected:"selected",touched:"touched",selecting:"selecting",selectedForExport:"selectedForExport"},outputs:{delete:"delete",resetSession:"resetSession",edit:"edit",save:"save",selectItem:"selectItem",interaction:"interaction"},decls:21,vars:12,consts:[[3,"disabled","contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","refresh-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],[4,"ngIf"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(n,o){if(1&n){const i=yn();j(0,"ion-item-sliding",0,1),Ve("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit()}),j(2,"ion-item-options",2)(3,"ion-item-option",3),Ve("click",function(){return St(i),Rs(1).close(),wt(o.edit.emit(o.session))}),Ue(4,"ion-icon",4),L(),j(5,"ion-item-option",5),Ve("click",function(){return St(i),Rs(1).close(),wt(o.save.emit(o.session))}),Ue(6,"ion-icon",6),L()(),j(7,"ion-item-options",7)(8,"ion-item-option",8),Ve("click",function(){return St(i),Rs(1).close(),wt(o.resetSession.emit(o.session))}),Ue(9,"ion-icon",9),L(),j(10,"ion-item-option",10),Ve("click",function(){return St(i),Rs(1).close(),wt(o.delete.emit(o.session))}),Ue(11,"ion-icon",11),L()(),j(12,"ion-item",12),Ve("click",function(){return o.selectItem.emit()}),j(13,"ion-label")(14,"h2"),Ee(15),L(),j(16,"p"),Ee(17),Vt(18,LY,2,1,"span",13),L()(),Vt(19,$Y,1,0,"ion-icon",14)(20,BY,1,0,"ion-icon",15),L()()}2&n&&(Se("disabled",o.selecting),me(12),Se("color",o.color),me(1),ea("in-item-color",o.selected)("selecting",o.selecting),me(2),Ni(null==o.session?null:o.session.name),me(2),Ip("",o.device,", ",null==o.session?null:o.session.ram,"MB RAM"),me(1),Se("ngIf",null==o.session?null:o.session.osVersion),me(1),Se("ngIf",o.selecting&&!o.selectedForExport),me(1),Se("ngIf",o.selecting&&o.selectedForExport))},dependencies:[Eo,jo,mo,$_,B_,V_,zi],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 4.5em)}"],changeDetection:0}),t})();var Oh;function jY(e,t){if(1&e){const r=yn();j(0,"ion-toolbar")(1,"ion-title"),Ee(2,"Sessions"),L(),j(3,"ion-buttons",6)(4,"ion-button",7),Ve("click",function(){return St(r),wt(st().importSession())}),Ue(5,"ion-icon",8),L()(),j(6,"ion-buttons",9)(7,"ion-button",7),Ve("click",function(o){return St(r),wt(st().openActionMenu(o))}),Ue(8,"ion-icon",10),L(),Ue(9,"app-pwa-prompt"),L()()}}function GY(e,t){1&e&&(j(0,"ion-title"),Ee(1,"Export"),L())}function UY(e,t){1&e&&(j(0,"ion-title"),Ee(1,"Delete"),L())}function HY(e,t){if(1&e){const r=yn();j(0,"ion-buttons",9)(1,"ion-button",7),Ve("click",function(){return St(r),wt(st(2).onSelectAll())}),Ee(2,"Select all"),L()()}}function zY(e,t){if(1&e){const r=yn();j(0,"ion-buttons",9)(1,"ion-button",7),Ve("click",function(){return St(r),wt(st(2).selection.clear())}),Ee(2,"Clear"),L()()}}function WY(e,t){if(1&e){const r=yn();j(0,"ion-toolbar"),Vt(1,GY,2,0,"ion-title",0)(2,UY,2,0,"ion-title",0),j(3,"ion-buttons",6)(4,"ion-button",7),Ve("click",function(){return St(r),wt(st().onSelectionDone())}),Ee(5),L()(),Vt(6,HY,3,0,"ion-buttons",11)(7,zY,3,0,"ion-buttons",11),L()}if(2&e){const r=st();me(1),Se("ngIf","select-for-export"===r.mode),me(1),Se("ngIf","select-for-delete"===r.mode),me(3),Ni(0===r.selection.size?"Cancel":"select-for-export"===r.mode?"Export":"Delete"),me(1),Se("ngIf",r.selection.size!==r.sessionCount),me(1),Se("ngIf",r.selection.size===r.sessionCount)}}function ZY(e,t){1&e&&(j(0,"ion-title",12),Ee(1,"Sessions"),L())}function qY(e,t){1&e&&(j(0,"ion-title",12),Ee(1,"Select for export"),L())}function KY(e,t){1&e&&(j(0,"ion-title",12),Ee(1,"Select for delete"),L())}function YY(e,t){1&e&&(j(0,"div",13),Ue(1,"ion-spinner"),L())}function XY(e,t){1&e&&(pu(0),Ue(1,"br")(2,"br"),Ee(3," You can find a collection of compatible ROMs on "),j(4,"a",16),Ee(5,"PalmDB"),L(),Ee(6,". "),hu())}function QY(e,t){if(1&e&&(j(0,"div",14)(1,"div",15),Ee(2," No sessions. Select the \u201e+\u201c icon in the upper right corner in order to import a ROM file or a session image. "),Vt(3,XY,7,0,"ng-container",0),L()()),2&e){const r=st();me(3),Se("ngIf",r.showPalmdbLink)}}function JY(e,t){if(1&e){const r=yn();j(0,"app-session-item",18),Ve("delete",function(){const i=St(r).$implicit;return wt(st(2).deleteSession(i))})("selectItem",function(){const i=St(r).$implicit,s=st(2);return wt("manage"===s.mode?s.launchSession(i):s.toggleSelection(i))})("edit",function(){const i=St(r).$implicit;return wt(st(2).editSession(i))})("save",function(){const i=St(r).$implicit;return wt(st(2).saveSession(i))})("resetSession",function(){const i=St(r).$implicit;return wt(st(2).resetSession(i))})("interaction",function(){const i=St(r).$implicit;return wt(st(2).lastSessionTouched=i.id)}),L()}if(2&e){const r=t.$implicit,n=st(2);Se("session",r)("selected",n.currentSessionId===r.id)("touched",r.id===n.lastSessionTouched)("selecting","manage"!==n.mode)("selectedForExport",n.selection.has(r.id))}}function eX(e,t){if(1&e&&(j(0,"ion-list"),Vt(1,JY,1,5,"app-session-item",17),L()),2&e){const r=st();me(1),Se("ngForOf",r.sessions)("ngForTrackBy",r.trackSessionBy)}}class rc{constructor(t,r,n,o,i,s,a,l,c,f,p,m,C,U){this.sessionService=t,this.fileService=r,this.alertService=n,this.emulationService=o,this.emulationState=i,this.storageService=s,this.modalController=a,this.linkApi=l,this.router=c,this.cloudpilotService=f,this.dragDropService=p,this.popoverController=m,this.loadingController=C,this.cd=U,this.handleLinkApiImportRequest=()=>{if(!this.linkApi.import.hasPendingRequest())return;const J=this.linkApi.import.receivePendingUrl();J&&this.alertService.message("Import request",`Do you want to import<br>${J} ?`,{OK:()=>this.fileService.openUrl(J,this.processFile.bind(this))},"Cancel")},this.lastSessionTouched=-1,this.mode="manage",this.selection=new Set,this.checkSessions=Yc(U,[],()=>this.sessionService.getSessions()),this.checkCurrentSessionId=Yc(U,void 0,()=>this.emulationState.getCurrentSession()?.id),this.checkLoading=Yc(U,!0,()=>this.sessionService.isLoading())}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkSessions(),this.checkCurrentSessionId(),this.checkLoading()}ionViewDidEnter_(){this.linkApi.import.requestEvent.addHandler(this.handleLinkApiImportRequest),this.handleLinkApiImportRequest(),this.dragDropService.registerClient(this)}ionViewWillLeave(){this.dragDropService.unregisterClient(this),this.linkApi.import.requestEvent.removeHandler(this.handleLinkApiImportRequest)}ionViewDidLeave(){this.mode="manage",this.cd.detectChanges()}get sessions(){return this.sessionService.getSessions().sort((t,r)=>t.name.localeCompare(r.name))}get sessionCount(){return this.sessionService.getSessions().length}deleteSession(t){var r=this;return(0,F.Z)(function*(){let n=!0;if(yield r.alertService.message("Warning",`Deleting the session '${t.name}' will remove all associated data. This cannot be undone. Are you sure you want to continue?`,{Delete:()=>n=!1},"Cancel"),n)return;const o=yield r.loadingController.create({message:"Deleting..."});yield o.present();try{yield r.sessionService.deleteSession(t)}finally{o.dismiss()}})()}editSession(t){var r=this;return(0,F.Z)(function*(){const n={...t};(yield r.editSettings(t))&&!IP()(t,n)&&(yield r.sessionService.updateSession(t))})()}importSession(){this.fileService.openFile(this.processFile.bind(this))}saveSession(t){return this.sessionService.saveSession(t)}trackSessionBy(t,r){return r.id}launchSession(t){var r=this;return(0,F.Z)(function*(){r.lastSessionTouched=t.id,r.currentSessionOverride=t.id,r.cd.markForCheck();const n=yield r.emulationService.switchSession(t.id);r.currentSessionOverride=void 0,r.cd.markForCheck(),n&&r.router.navigateByUrl("/tab/emulation")})()}resetSession(t){var r=this;return(0,F.Z)(function*(){const n=t.id===r.emulationState.getCurrentSession()?.id;n&&(yield r.emulationService.stop()),yield r.storageService.deleteStateForSession(t),yield r.storageService.updateSessionPartial(t.id,{wasResetForcefully:!0}),n&&(yield r.emulationService.switchSession(t.id)),yield r.alertService.message("Done",`Session ${t.name} has been reset.`)})()}get currentSessionId(){return this.currentSessionOverride??this.emulationState.getCurrentSession()?.id}showHelp(){var t=this;return(0,F.Z)(function*(){yield(yield t.modalController.create({component:Nu,componentProps:{url:RY}})).present()})()}handleDragDropEvent(t){this.fileService.openFromDrop(t,this.handleDropFiles.bind(this))}startMassExport(){this.selection.clear(),this.mode="select-for-export"}startMassDelete(){this.selection.clear(),this.mode="select-for-delete"}onSelectionDone(){var t=this;return(0,F.Z)(function*(){const r=new Map(t.sessionService.getSessions().map(i=>[i.id,i])),n=Array.from(t.selection).map(i=>r.get(i)).filter(i=>void 0!==i),o=t.mode;switch(t.mode="manage",o){case"select-for-delete":yield t.executeMassDelete(n);break;case"select-for-export":yield t.executeMassExport(n)}})()}onSelectAll(){this.sessionService.getSessions().forEach(t=>this.selection.add(t.id))}toggleSelection(t){this.selection.has(t.id)?this.selection.delete(t.id):this.selection.add(t.id)}openActionMenu(t,r="trigger"){var n=this;return(0,F.Z)(function*(){const o=yield n.popoverController.create({component:PY,event:t,componentProps:{sessionCount:n.sessionCount,onExport:()=>{o.dismiss(),n.startMassExport(),n.cd.markForCheck()},onDelete:()=>{o.dismiss(),n.startMassDelete(),n.cd.markForCheck()},onHelp:()=>{o.dismiss(),n.showHelp()}},arrow:!1,translucent:!0,reference:r});o.present()})()}onContextMenu(t){"manage"===this.mode&&(t.preventDefault(),this.openActionMenu(t,"event"))}get showPalmdbLink(){return!(go&&_l)}executeMassExport(t){var r=this;return(0,F.Z)(function*(){1===t.length&&(yield r.sessionService.saveSession(t[0])),t.length>1&&(yield r.sessionService.saveSessions(t))})()}executeMassDelete(t){var r=this;return(0,F.Z)(function*(){if(1===t.length&&(yield r.deleteSession(t[0])),t.length>1){let n=!0;if(yield r.alertService.message("Warning",`\n                    You are about to delete ${t.length} sessions, which will destroy all data associated with these sessions.\n                    This cannot be undone. Are you sure you want to continue?`,{Delete:()=>n=!1},"Cancel"),n)return;const o=yield r.loadingController.create({message:"Deleting..."});yield o.present();try{for(const i of t)yield r.sessionService.deleteSession(i)}finally{o.dismiss()}}})()}handleDropFiles(t){if(0!==t.length){if(t.length>1)return void this.alertService.errorMessage("Drop a single ROM or session image in order to create a new session, or drop a zip archive with sessions to import.");this.processFile(t[0])}}processFile(t){var r=this;return(0,F.Z)(function*(){if(!/\.(img|rom|bin|zip)$/i.test(t.name))return void r.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .img, .rom. and .zip");let n;try{n=yield t.getContent()}catch(i){return console.warn(i),void(yield r.alertService.errorMessage(`Unable to open ${t.name}.`))}if(t.name.endsWith(".zip")){let i=!1;return yield r.alertService.message("Mass import","\n                    CloudpilotEmu will attempt to import all sessions in the selected zip archive.\n                    Importing large archives (several 100MB) requires a lot of memory and may crash the browser if the archive is too large.\n                    Are you sure you want to continue?\n                ",{Continue:()=>i=!0},"Cancel"),void(i&&(yield r.sessionService.addSessionsFromArchive(n)))}const o=(yield r.cloudpilotService.cloudpilot).deserializeSessionImage(n);if(o){const i={name:r.disambiguateSessionName(o.metadata?.name??t.name),hotsyncName:o.metadata?.hotsyncName,device:o.deviceId,dontManageHotsyncName:o.metadata?.dontManageHotsyncName,speed:o.metadata?.speed,deviceOrientation:o.metadata?.deviceOrientation};if(yield r.editSettings(i)){const s=yield r.sessionService.addSessionFromImage(o,i.name,i);r.lastSessionTouched=s.id}}else{const i=(yield r.cloudpilotService.cloudpilot).getRomInfo(n);if(!i)return void r.alertService.errorMessage("Not a valid session file or ROM image.");if(0===i.supportedDevices.length)return void r.alertService.errorMessage("No supported device for this ROM.");const s={name:r.disambiguateSessionName(t.name),hotsyncName:"",device:i.supportedDevices[0]};if(yield r.editSettings(s,i.supportedDevices)){const a=yield r.sessionService.addSessionFromRom(n,s.name,s.device,s);r.lastSessionTouched=a.id}}})()}editSettings(t,r=[t.device]){return new Promise(n=>{let o;this.modalController.create({component:$P,backdropDismiss:!1,componentProps:{session:t,availableDevices:r,onSave:()=>{o.dismiss(),n(!0)},onCancel:()=>{o.dismiss(),n(!1)}}}).then(i=>{o=i,o.present()})})}disambiguateSessionName(t){const r=this.sessionService.getSessions();return mf(t,n=>r.some(o=>o.name===n))}}(Oh=rc).\u0275fac=function(t){return new(t||Oh)(v(nc),v(Kc),v(Fr),v(Pa),v(ec),v(qn),v(fs),v(EC),v(Vo),v(Ra),v(kS),v(Ql),v(Ls),v(lt))},Oh.\u0275cmp=Ye({type:Oh,selectors:[["app-sessions"]],inputs:{selfReference:"selfReference"},decls:12,vars:8,consts:[[4,"ngIf"],[3,"contextmenu"],["collapse","condense"],["size","large",4,"ngIf"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["size","large"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],["href","https://palmdb.net/app/palm-roms-complete","target","_blank","rel","external"],[3,"session","selected","touched","selecting","selectedForExport","delete","selectItem","edit","save","resetSession","interaction",4,"ngFor","ngForOf","ngForTrackBy"],[3,"session","selected","touched","selecting","selectedForExport","delete","selectItem","edit","save","resetSession","interaction"]],template:function(t,r){1&t&&(j(0,"ion-header"),Vt(1,jY,10,0,"ion-toolbar",0)(2,WY,8,5,"ion-toolbar",0),L(),j(3,"ion-content",1),Ve("contextmenu",function(o){return r.onContextMenu(o)}),j(4,"ion-header",2)(5,"ion-toolbar"),Vt(6,ZY,2,0,"ion-title",3)(7,qY,2,0,"ion-title",3)(8,KY,2,0,"ion-title",3),L()(),Vt(9,YY,2,0,"div",4)(10,QY,4,1,"div",5)(11,eX,2,2,"ion-list",0),L()),2&t&&(me(1),Se("ngIf","manage"===r.mode),me(1),Se("ngIf","manage"!==r.mode),me(4),Se("ngIf","manage"===r.mode),me(1),Se("ngIf","select-for-export"===r.mode),me(1),Se("ngIf","select-for-delete"===r.mode),me(1),Se("ngIf",r.sessionService.isLoading()),me(1),Se("ngIf",!r.sessionService.isLoading()&&0===r.sessionCount),me(1),Se("ngIf",!r.sessionService.isLoading()&&r.sessionCount>0))},dependencies:[Hl,Eo,ji,Gi,Ui,Hi,jo,Fs,gh,Wi,Zi,cv,VY],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}),re([Tn()],rc.prototype,"deleteSession",null),re([Tn()],rc.prototype,"editSession",null),re([Tn()],rc.prototype,"saveSession",null),re([Tn()],rc.prototype,"launchSession",null),re([Tn()],rc.prototype,"resetSession",null),re([Tn()],rc.prototype,"onSelectionDone",null),re([Tn()],rc.prototype,"openActionMenu",null);const tX=["nav"],nX=()=>({}),rX=e=>({selfReference:e}),oX=[{path:"tab",component:xS,children:[{path:"emulation",component:Oa},{path:"sessions",component:(()=>{var e;class t{constructor(){this.navRoot=rc}ionViewDidLeave(){var n=this;return(0,F.Z)(function*(){(yield n.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidLeave?.()})()}ionViewWillLeave(){var n=this;return(0,F.Z)(function*(){(yield n.nav?.getActive())?.params?.selfReference?.ref?.ionViewWillLeave?.()})()}ionViewDidEnter(){var n=this;return(0,F.Z)(function*(){(yield n.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidEnter_?.()})()}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ye({type:e,selectors:[["app-sessions-wrapper"]],viewQuery:function(n,o){if(1&n&&Ac(tX,5),2&n){let i;Ps(i=Os())&&(o.nav=i.first)}},decls:2,vars:6,consts:[[3,"animated","root","rootParams"],["nav",""]],template:function(n,o){1&n&&Ue(0,"ion-nav",0,1),2&n&&Se("animated",!1)("root",o.navRoot)("rootParams",function sx(e,t,r,n){return ax(qe(),Pi(),e,t,r,n)}(4,rX,function ix(e,t,r){const n=Pi()+e,o=qe();return o[n]===un?nl(o,n,r?t.call(r):t()):function cp(e,t){return e[t]}(o,n)}(3,nX)))},dependencies:[$0],encapsulation:2}),t})()},{path:"storage",component:kY},{path:"settings",component:xK},{path:"about",component:TS},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}]},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}];let iX=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Wr({type:e}),e.\u0275inj=We({imports:[w_.forChild(oX),w_]}),t})(),sX=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Wr({type:e}),e.\u0275inj=We({imports:[Hc,ll,Mu,iX,gq,_q,vq,yq,mq]}),t})(),aX=(()=>{var e;class t extends ST{pushState(n,o,i,s){this.replaceState(n,o,i,s)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=jr(e)))(o||e)}})(),e.\u0275prov=E({token:e,factory:e.\u0275fac}),t})();const lX=[{path:"install",component:NP,canActivate:[FP]},{path:"import",component:NP,canActivate:[FP]},{path:"",component:xS}];let cX=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Wr({type:e}),e.\u0275inj=We({providers:[{provide:al,useClass:aX}],imports:[w_.forRoot(lX,{preloadingStrategy:jz,useHash:!0}),sX,w_]}),t})();var PS=S(588);function dX(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"&&self;var OS={exports:{}};!function(t,r,n){function o(l){var c=this,f=function a(){var l=4022871197;return function(f){f=String(f);for(var p=0;p<f.length;p++){var m=.02519603282416938*(l+=f.charCodeAt(p));m-=l=m>>>0,l=(m*=l)>>>0,l+=4294967296*(m-=l)}return 2.3283064365386963e-10*(l>>>0)}}();c.next=function(){var p=2091639*c.s0+2.3283064365386963e-10*c.c;return c.s0=c.s1,c.s1=c.s2,c.s2=p-(c.c=0|p)},c.c=1,c.s0=f(" "),c.s1=f(" "),c.s2=f(" "),c.s0-=f(l),c.s0<0&&(c.s0+=1),c.s1-=f(l),c.s1<0&&(c.s1+=1),c.s2-=f(l),c.s2<0&&(c.s2+=1),f=null}function i(l,c){return c.c=l.c,c.s0=l.s0,c.s1=l.s1,c.s2=l.s2,c}function s(l,c){var f=new o(l),p=c&&c.state,m=f.next;return m.int32=function(){return 4294967296*f.next()|0},m.double=function(){return m()+11102230246251565e-32*(2097152*m()|0)},m.quick=m,p&&("object"==typeof p&&i(p,f),m.state=function(){return i(f,{})}),m}r&&r.exports?r.exports=s:this.alea=s}(0,OS);const pX=dX(OS.exports),KP=PS.compile({WhiteSpace:{match:/[\t\v\f\ufeff\p{Zs}]+/u,lineBreaks:!0},Lines:{match:/\r?\n|[\r\u2028\u2029]/u,lineBreaks:!0},ObjectKey:/\[?(?:\x23)?(?=[$_\p{ID_Start}\\])(?:[$_\u200C\u200D\p{ID_Continue}]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+\]?(?=:)/u,Punctuator:/--|\+\+|=>|\.{3}|\??\.(?!\d)|(?:&&|\|\||\?\?|[+\-%&|^]|\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2}|\/(?![\/*]))=?|[?~,:;[\](){}]/u,BooleanLiteral:/true|false/u,NumericLiteral:/(?:0[xX][\da-fA-F](?:_?[\da-fA-F])*|0[oO][0-7](?:_?[0-7])*|0[bB][01](?:_?[01])*)n?|0n|[1-9](?:_?\d)*n|(?:(?:0(?!\d)|0\d*[89]\d*|[1-9](?:_?\d)*)(?:\.(?:\d(?:_?\d)*)?)?|\.\d(?:_?\d)*)(?:[eE][+-]?\d(?:_?\d)*)?|0[0-7]+/u,StringLiteral:{match:/(?:'(?:(?!')[^\\\n\r]|\\(?:\r\n|[^]))*')|(?:"(?:(?!")[^\\\n\r]|\\(?:\r\n|[^]))*")/u,value:e=>`"${e.slice(1,-1)}"`},Identifier:/(?:\x23)?(?=[$_\p{ID_Start}\\])(?:[$_\u200C\u200D\p{ID_Continue}]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+/u}),yX=new RegExp("(?<==)(?:true|false)"),bX=new RegExp("(?<==)-?(?:(?:0[xX][\\da-fA-F](?:_?[\\da-fA-F])*|0[oO][0-7](?:_?[0-7])*|0[bB][01](?:_?[01])*)n?|-?0n|-?[1-9](?:_?\\d)*n|(?:(?:0(?!\\d)|0\\d*[89]\\d*|[1-9](?:_?\\d)*)(?:\\.(?:\\d(?:_?\\d)*)?)?|\\.\\d(?:_?\\d)*)(?:[eE][+-]?\\d(?:_?\\d)*)?|-?0[0-7]+)"),CX=new RegExp("(?<==)'(?!.*&[0-9a-zA-Z]+;)[^'\\\\]*(?:\\\\.|\\\\n[^\"\\\\]*|&[^0-9a-zA-Z;]*)*'"),SX=new RegExp('(?<==)"(?!.*&[0-9a-zA-Z]+;)[^"\\\\]*(?:\\\\.|\\\\n[^"\\\\]*|&[^0-9a-zA-Z;]*)*"'),wX=new RegExp("(?<==)[^\"\\s'`=<>\\x00]+");function NS(e){const t="string"==typeof e&&/^(['"]).*?\1$/.test(e)?e.slice(1,-1):e;return t.startsWith("[")&&t.endsWith("]")||t.startsWith("{")&&t.endsWith("}")?JSON.parse(function hX(e,t={}){const r=e.trim().replace(/[\,]+$/,"");if(""===r)return"{}";if(!function mX(e){return e.startsWith("{")&&e.endsWith("}")||e.startsWith("[")&&e.endsWith("]")}(r))throw new TypeError("Unexpected input format");let n="";KP.reset(r);for(const o of KP)if("WhiteSpace"!==o.type&&"Lines"!==o.type){switch(o.type){case"Identifier":o.value=`"${t[o.value]||o.value}"`;break;case"ObjectKey":o.value="["===o.value.slice(0,1)&&"]"===o.value.slice(-1)?`"${t[o.value.slice(1,-1)]||o.value.slice(1,-1)}"`:`"${o.value}"`}n+=o.value}return n.replace(/\,([\}\]])/g,"$1")}(t)):t}const YP=PS.states({main:{WhiteSpace:/[ \t\v\f\ufeff]+/,AttributeShorthand:/[\.#](?:(?!-?\d)(?:[a-zA-Z0-9\xA0-\uFFFF_-])+)/,BooleanLiteral:{match:yX,value:e=>"true"===e},NumericLiteral:{match:bX,value(e){const t=Number(e);return Number.isNaN(t)?Number(e.replace(/_|n$/g,"")):Number(e)}},SingleQuotedValue:{match:CX,value:NS,type:()=>"StringLiteral"},DoubleQuotedLiteral:{match:SX,value:NS,type:()=>"StringLiteral"},UnquotedLiteral:{match:wX,value:NS,type:()=>"StringLiteral"},AttributeName:/(?:(?![\s\x00\x22\x27\x3E\x2F\x3D\x00-\x1F\x7F-\x9F])[^\s\x00-\x1F\x7F-\x9F\x22\x27\x3E\x2F\x3D])+/,Separator:"="}});const IX=PS.compile({spaces:/[\t\v\f\ufeff ]+/,name:/[a-zA-Z][\w-]*/,attrs:{match:/\{.*\}/,value:e=>function DX(e){let t=null;const r=YP.reset(e),n={};Object.defineProperties(n,{toString:{writable:!1,enumerable:!1,configurable:!1,value:()=>function EX(e){let t="";for(const r in e){const n=e[r];switch(typeof n){case"object":t+=` ${r}='${JSON.stringify(n)}'`;break;case"string":t+=` ${r}="${n}"`;break;case"number":case"boolean":t+=` ${r}=${n}`}}return t.slice(1)}(n)},getTokens:{writable:!1,enumerable:!1,configurable:!1,value:()=>Array.from(YP.reset(e))}});const o=[];for(const{type:i,value:s}of r)switch(i){case"AttributeName":t=s,n[t]=t;break;case"AttributeShorthand":const a=s[0];"."===a?o.push(s.slice(1)):"#"===a&&(n.id=s.slice(1));break;case"BooleanLiteral":case"NumericLiteral":case"StringLiteral":t&&("class"===t&&o.push(s),n[t]=s,t=null)}return o.length&&(n.class=o.join(" ")),n}(e.slice(1,-1))},text:{match:/\[.*\]/,value:e=>e.slice(1,-1)},blockText:{match:/[\s\S]+/,lineBreaks:!0}});function xX(e){const{type:t,level:r,raw:n,content:o,marker:i,tag:s}=e,a=IX.reset(o);let l,c,f="",p=[];for(const{type:m,value:C}of a)switch(m){case"name":l=C;break;case"attrs":c=C;break;case"text":case"blockText":f=C,p="container"===r?this.lexer.blockTokens(C):this.lexer.inlineTokens(C)}return{type:t,raw:n,meta:{level:r,marker:i,tag:s,name:l},attrs:c,text:f,tokens:p}}function XP(e){return["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"].includes(e)}function AX(e){const{meta:t,attrs:r,tokens:n=[]}=e,o=t.name||t.tag;let i=`<${o}`;return i+=r?" "+r.toString():"",i+=XP(o)?" />":">",i+="container"===t.level?"\n":"",XP(o)||(i+="container"===t.level?this.parser.parse(n):this.parser.parseInline(n),i+=`</${o}>`),i+="inline"===t.level?"":"\n",i}const kX=[{level:"container",marker:":::"},{level:"block",marker:"::"},{level:"inline",marker:":"}];function RX(e=kX){return{extensions:e.map(({level:t,marker:r,tag:n,renderer:o})=>{const i=pX(r).int32(),s=`directive${function MX(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()}(t)}${i}`;return{name:s,level:"inline"===t?"inline":"block",start:a=>{var l;return null==(l=a.match(new RegExp(r)))?void 0:l.index},tokenizer(a){const l=function TX(e,t){switch(e){case"container":return`^${t}([\\s\\S]*?)\\n${t}`;case"block":return`^${t}((?:[a-zA-Z][\\w-]*|[\\{\\[].*?[\\}\\]])+)`;case"inline":return`^${t}((?:[a-zA-Z][\\w-]*|[\\{].*?[\\}]+|[\\[].*?[\\]])+)`}}(t,r),c=a.match(new RegExp(l));if(c){const[f,p=""]=c;return xX.call(this,{type:s,level:t,raw:f,content:p,marker:r,tag:n||("inline"===t?"span":"div")})}},renderer:o||AX}})}}const QP=["touchstart","click","keydown"];let PX=(()=>{var e;class t{constructor(n,o){this.kvsService=n,this.audioService=o,this.initialize()}initialize(){var n=this;return(0,F.Z)(function*(){if(yield n.kvsService.initialize(),!n.kvsService.kvs.enableAudioOnFirstInteraction)return;go&&_l&&n.audioService.initialize();const o=()=>{QP.forEach(i=>window.removeEventListener(i,o,!0)),n.audioService.initialize()};QP.forEach(i=>window.addEventListener(i,o,!0))})()}}return(e=t).\u0275fac=function(n){return new(n||e)(le(Ii),le(AS))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const OX=()=>{const e=new ku;return e.link=(t,r,n)=>`<a href="${t}" target="_blank" rel="external">${n||t}</a>`,{renderer:e,gfm:!0,breaks:!1,pedantic:!1}};let NX=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f){}}return(e=t).\u0275fac=function(n){return new(n||e)(le(qn),le(Pa),le(AS),le(nc),le(Ii),le(OP),le(PX),le(DS))},e.\u0275mod=Wr({type:e,bootstrap:[nq]}),e.\u0275inj=We({providers:[{provide:OA,useClass:rW},{provide:kp,multi:!0,useFactory:r=>r.initialize.bind(r),deps:[Ii]}],imports:[kU,Hc.forRoot({...zP()?{actionSheetEnter:mK,loadingEnter:gK,alertEnter:_K}:{},innerHTMLTemplatesEnabled:!0}),cX,q0.forRoot({loader:xC,markedOptions:{provide:OR,useFactory:OX},markedExtensions:[RX()]}),m6]}),t})();window.global=window,document.body.addEventListener("dblclick",e=>e.preventDefault()),function VU(){e_=fM("#/install?"),t_=fM("#/import?")}(),function g7(){return!!BR(Z_)}()&&!pM()||function jU(){return void 0!==e_}()?location.replace(`${location.origin}${location.pathname}#/tab/emulation`):location.replace(`${location.origin}${location.pathname}#/tab/sessions`),go&&(CSS.supports("height","100dvh")?document.body.style.height="100dvh":window.addEventListener("orientationchange",()=>[100,300,500].forEach(e=>setTimeout(()=>{document.body.style.height=window.innerHeight+"px"},e))),PP()),window.addEventListener("scroll",()=>window.scrollTo(0,0)),document.body.addEventListener("contextmenu",e=>e.preventDefault()),MU().bootstrapModule(NX).then(e=>ia.production||function FU(e){return function lM(e,t){(typeof COMPILED>"u"||!COMPILED)&&((A.ng=A.ng||{})[e]=t)}("profiler",new NU(e)),e}(e.injector.get(Ea).components[0])).catch(e=>console.log(e))},2227:(ue,xe,S)=>{var B,w=S(4144).default,M=(B=typeof document<"u"?document.currentScript?.src:void 0,function(Z={}){var x,T,N,oe,d=Z,Q=new Promise((u,b)=>{x=u,T=b}),H="object"==typeof window,k=typeof WorkerGlobalScope<"u",R=("object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node&&process,Object.assign({},d)),he="./this.program",Ie=(u,b)=>{throw b},K="";(H||k)&&(k?K=self.location.href:typeof document<"u"&&document.currentScript&&(K=document.currentScript.src),B&&(K=B),K=K.startsWith("blob:")?"":K.substr(0,K.replace(/[?#].*/,"").lastIndexOf("/")+1),k&&(oe=u=>{var b=new XMLHttpRequest;return b.open("GET",u,!1),b.responseType="arraybuffer",b.send(null),new Uint8Array(b.response)}),N=u=>fetch(u,{credentials:"same-origin"}).then(b=>b.ok?b.arrayBuffer():Promise.reject(new Error(b.status+" : "+b.url))));var pe=d.print||console.log.bind(console),ie=d.printErr||console.error.bind(console);Object.assign(d,R),R=null,d.thisProgram&&(he=d.thisProgram);var Le,O,ee,D,G,Te,be,ke=d.wasmBinary,P=!1;function ne(u,b){u||Ft(b)}function $e(){var u=Le.buffer;d.HEAP8=ee=new Int8Array(u),d.HEAP16=new Int16Array(u),d.HEAPU8=D=new Uint8Array(u),d.HEAPU16=new Uint16Array(u),d.HEAP32=G=new Int32Array(u),d.HEAPU32=Te=new Uint32Array(u),d.HEAPF32=new Float32Array(u),d.HEAPF64=be=new Float64Array(u)}function ye(){if(!P){var u=ss();0==u&&(u+=4);var b=Te[u>>2],X=Te[u+4>>2];(34821223!=b||2310721022!=X)&&Ft(`Stack overflow! Stack cookie has been overwritten at ${en(u)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${en(X)} ${en(b)}`),1668509029!=Te[0]&&Ft("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var Qe=[],_t=[],fe=[],je=[],ze=0,at=null,kt=null;function Ft(u){d.onAbort?.(u),ie(u="Aborted("+u+")"),P=!0,u+=". Build with -sASSERTIONS for more info.";var b=new WebAssembly.RuntimeError(u);throw T(b),b}var vo,nr=u=>u.startsWith("data:application/octet-stream;base64,");function lo(u){if(u==vo&&ke)return new Uint8Array(ke);if(oe)return oe(u);throw"both async and sync fetching of the wasm failed"}function Cr(u,b,X){return function Io(u){return ke?Promise.resolve().then(()=>lo(u)):N(u).then(b=>new Uint8Array(b),()=>lo(u))}(u).then(Xe=>WebAssembly.instantiate(Xe,b)).then(X,Xe=>{ie(`failed to asynchronously prepare wasm: ${Xe}`),Ft(Xe)})}var Xr,ti={428816:u=>{Ke.grow(65536);for(let b=0;b<=65535;b++)Ke.set(Ke.length-65535-1+b,Ke.get(Te[(u>>>2)+b]));return Ke.length-65535-1}};class Ae{constructor(b){w(this,"name","ExitStatus"),this.message=`Program terminated with exit(${b})`,this.status=b}}var Ke,Ge,Es,we=u=>{for(;u.length>0;)u.shift()(d)},Kt=d.noExitRuntime||!0,en=u=>"0x"+(u>>>=0).toString(16).padStart(8,"0"),bn=typeof TextDecoder<"u"?new TextDecoder:void 0,zt=(u,b=0,X=NaN)=>{for(var Xe=b+X,Nt=b;u[Nt]&&!(Nt>=Xe);)++Nt;if(Nt-b>16&&u.buffer&&bn)return bn.decode(u.subarray(b,Nt));for(var wn="";b<Nt;){var Bn=u[b++];if(128&Bn){var Nn=63&u[b++];if(192!=(224&Bn)){var Co=63&u[b++];if((Bn=224==(240&Bn)?(15&Bn)<<12|Nn<<6|Co:(7&Bn)<<18|Nn<<12|Co<<6|63&u[b++])<65536)wn+=String.fromCharCode(Bn);else{var Pl=Bn-65536;wn+=String.fromCharCode(55296|Pl>>10,56320|1023&Pl)}}else wn+=String.fromCharCode((31&Bn)<<6|Nn)}else wn+=String.fromCharCode(Bn)}return wn},Cn=(u,b)=>u?zt(D,u,b):"",fr=(u,b)=>b+2097152>>>0<4194305-!!u?(u>>>0)+4294967296*b:NaN,Uo=0,Sr=[0,31,60,91,121,152,182,213,244,274,305,335],gn=[0,31,59,90,120,151,181,212,243,273,304,334],Dn=u=>((u=>u%4==0&&(u%100!=0||u%400==0))(u.getFullYear())?Sr:gn)[u.getMonth()]+u.getDate()-1,zo={},Wo=u=>{if(u instanceof Ae||"unwind"==u)return O;ye(),u instanceof WebAssembly.RuntimeError&&gc()<=0&&ie("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 1048576)"),Ie(0,u)},ci=()=>Kt||Uo>0,re=u=>{O=u,ci()||(d.onExit?.(u),P=!0),Ie(0,new Ae(u))},gi=(u,b)=>{O=u,re(u)},To=gi,_i=(u,b,X,Xe)=>{if(!(Xe>0))return 0;for(var Nt=X,wn=X+Xe-1,Bn=0;Bn<u.length;++Bn){var Nn=u.charCodeAt(Bn);if(Nn>=55296&&Nn<=57343&&(Nn=65536+((1023&Nn)<<10)|1023&u.charCodeAt(++Bn)),Nn<=127){if(X>=wn)break;b[X++]=Nn}else if(Nn<=2047){if(X+1>=wn)break;b[X++]=192|Nn>>6,b[X++]=128|63&Nn}else if(Nn<=65535){if(X+2>=wn)break;b[X++]=224|Nn>>12,b[X++]=128|Nn>>6&63,b[X++]=128|63&Nn}else{if(X+3>=wn)break;b[X++]=240|Nn>>18,b[X++]=128|Nn>>12&63,b[X++]=128|Nn>>6&63,b[X++]=128|63&Nn}}return b[X]=0,X-Nt},wr=(u,b,X)=>_i(u,D,b,X),Xi=[],Ao=(u,b)=>Math.ceil(u/b)*b,di=u=>{var X=(u-Le.buffer.byteLength+65535)/65536|0;try{return Le.grow(X),$e(),1}catch{}},an={},yi=()=>{if(!yi.strings){var b={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:he||"./this.program"};for(var X in an)void 0===an[X]?delete b[X]:b[X]=an[X];var Xe=[];for(var X in b)Xe.push(`${X}=${b[X]}`);yi.strings=Xe}return yi.strings},gs=[null,[],[]],Qi=(u,b)=>{var X=gs[u];0===b||10===b?((1===u?pe:ie)(zt(X)),X.length=0):X.push(b)},_s=u=>{for(var b=0,X=0;X<u.length;++X){var Xe=u.charCodeAt(X);Xe<=127?b++:Xe<=2047?b+=2:Xe>=55296&&Xe<=57343?(b+=4,++X):b+=3}return b},y=(u,b)=>{u<128?b.push(u):b.push(u%128|128,u>>7)},de=[],ge=u=>{var b=de[u];return b||(u>=de.length&&(de.length=u+1),de[u]=b=Ke.get(u)),b},bt=[],fn=(u,b)=>{Ke.set(u,b),de[u]=Ke.get(u)},kr={a:(u,b,X,Xe)=>{Ft(`Assertion failed: ${Cn(u)}, at: `+[b?Cn(b):"unknown filename",X,Xe?Cn(Xe):"unknown function"])},t:function to(u){const b=new Error(Cn(u));throw b.isAssert=!0,b},l:function Yn(u,b,X){fr(b,X)},h:()=>{Ft("")},g:()=>1,c:(u,b,X)=>D.copyWithin(u,b,b+X),n:()=>{Kt=!1,Uo=0},i:function mi(u,b,X){var Xe=fr(u,b),Nt=new Date(1e3*Xe);G[X>>2]=Nt.getSeconds(),G[X+4>>2]=Nt.getMinutes(),G[X+8>>2]=Nt.getHours(),G[X+12>>2]=Nt.getDate(),G[X+16>>2]=Nt.getMonth(),G[X+20>>2]=Nt.getFullYear()-1900,G[X+24>>2]=Nt.getDay();var wn=0|Dn(Nt);G[X+28>>2]=wn,G[X+36>>2]=-60*Nt.getTimezoneOffset();var Bn=new Date(Nt.getFullYear(),0,1),Nn=new Date(Nt.getFullYear(),6,1).getTimezoneOffset(),Co=Bn.getTimezoneOffset(),Pl=0|(Nn!=Co&&Nt.getTimezoneOffset()==Math.min(Co,Nn));G[X+32>>2]=Pl},j:function(u){var b=(()=>{var X=new Date(G[u+20>>2]+1900,G[u+16>>2],G[u+12>>2],G[u+8>>2],G[u+4>>2],G[u>>2],0),Xe=G[u+32>>2],Nt=X.getTimezoneOffset(),wn=new Date(X.getFullYear(),0,1),Bn=new Date(X.getFullYear(),6,1).getTimezoneOffset(),Nn=wn.getTimezoneOffset(),Co=Math.min(Nn,Bn);if(Xe<0)G[u+32>>2]=+(Bn!=Nn&&Co==Nt);else if(Xe>0!=(Co==Nt)){var Pl=Math.max(Nn,Bn),Of=Xe>0?Co:Pl;X.setTime(X.getTime()+6e4*(Of-Nt))}G[u+24>>2]=X.getDay();var Qs=0|Dn(X);G[u+28>>2]=Qs,G[u>>2]=X.getSeconds(),G[u+4>>2]=X.getMinutes(),G[u+8>>2]=X.getHours(),G[u+12>>2]=X.getDate(),G[u+16>>2]=X.getMonth(),G[u+20>>2]=X.getYear();var tu=X.getTime();return isNaN(tu)?-1:tu/1e3})();return(u=>{mc(u)})((Xr=b,+Math.abs(Xr)>=1?Xr>0?+Math.floor(Xr/4294967296)>>>0:~~+Math.ceil((Xr-+(~~Xr>>>0))/4294967296)>>>0:0)),b>>>0},o:(u,b)=>{if(zo[u]&&(clearTimeout(zo[u].id),delete zo[u]),!b)return 0;var X=setTimeout(()=>{delete zo[u],(u=>{if(!P)try{u(),(()=>{if(!ci())try{To(O)}catch(u){Wo(u)}})()}catch(b){Wo(b)}})(()=>$r(u,performance.now()))},b);return zo[u]={id:X,timeout_ms:b},0},s:(u,b,X,Xe)=>{var Nt=(new Date).getFullYear(),wn=new Date(Nt,0,1),Bn=new Date(Nt,6,1),Nn=wn.getTimezoneOffset(),Co=Bn.getTimezoneOffset(),Pl=Math.max(Nn,Co);Te[u>>2]=60*Pl,G[b>>2]=+(Nn!=Co);var Of=Yo=>{var im=Yo>=0?"-":"+",sm=Math.abs(Yo);return`UTC${im}${String(Math.floor(sm/60)).padStart(2,"0")}${String(sm%60).padStart(2,"0")}`},Qs=Of(Nn),tu=Of(Co);Co<Nn?(wr(Qs,X,17),wr(tu,Xe,17)):(wr(Qs,Xe,17),wr(tu,X,17))},u:(u,b,X)=>((u,b,X)=>{var Xe=((u,b)=>{Xi.length=0;for(var X;X=D[u++];){var Xe=105!=X;b+=(Xe&=112!=X)&&b%8?4:0,Xi.push(112==X?Te[b>>2]:105==X?G[b>>2]:be[b>>3]),b+=Xe?8:4}return Xi})(b,X);return ti[u](...Xe)})(u,b,X),b:()=>Date.now(),r:u=>{var b=D.length,X=2147483648;if((u>>>=0)>X)return!1;for(var Xe=1;Xe<=4;Xe*=2){var Nt=b*(1+.2/Xe);Nt=Math.min(Nt,u+100663296);var wn=Math.min(X,Ao(Math.max(u,Nt),65536));if(di(wn))return!0}return!1},p:(u,b)=>{var X=0;return yi().forEach((Xe,Nt)=>{var wn=b+X;Te[u+4*Nt>>2]=wn,((u,b)=>{for(var X=0;X<u.length;++X)ee[b++]=u.charCodeAt(X);ee[b]=0})(Xe,wn),X+=Xe.length+1}),0},q:(u,b)=>{var X=yi();Te[u>>2]=X.length;var Xe=0;return X.forEach(Nt=>Xe+=Nt.length+1),Te[b>>2]=Xe,0},d:u=>52,f:(u,b,X,Xe)=>52,k:function ms(u,b,X,Xe,Nt){return fr(b,X),70},e:(u,b,X,Xe)=>{for(var Nt=0,wn=0;wn<X;wn++){var Bn=Te[b>>2],Nn=Te[b+4>>2];b+=8;for(var Co=0;Co<Nn;Co++)Qi(u,D[Bn+Co]);Nt+=Nn}return Te[Xe>>2]=Nt,0},m:re},se=function xo(){var u=function eo(){return{a:kr}}();function b(Xe,Nt){return Le=(se=Xe.exports).v,$e(),Ke=se.Yc,function Me(u){_t.unshift(u)}(se.w),function Zt(u){if(ze--,d.monitorRunDependencies?.(ze),0==ze&&(null!==at&&(clearInterval(at),at=null),kt)){var b=kt;kt=null,b()}}(),se}if(function rn(u){ze++,d.monitorRunDependencies?.(ze)}(),d.instantiateWasm)try{return d.instantiateWasm(u,b)}catch(Xe){ie(`Module.instantiateWasm callback failed with error: ${Xe}`),T(Xe)}return vo??=function xn(){var u="cloudpilot_web.wasm";return nr(u)?u:function q(u){return d.locateFile?d.locateFile(u,K):K+u}(u)}(),function lr(u,b,X,Xe){return u||"function"!=typeof WebAssembly.instantiateStreaming||nr(b)||"function"!=typeof fetch?Cr(b,X,Xe):fetch(b,{credentials:"same-origin"}).then(Nt=>WebAssembly.instantiateStreaming(Nt,X).then(Xe,function(Bn){return ie(`wasm streaming compile failed: ${Bn}`),ie("falling back to ArrayBuffer instantiation"),Cr(b,X,Xe)}))}(ke,vo,u,function X(Xe){b(Xe.instance)}).catch(T),{}}(),ko=(d._malloc=u=>(d._malloc=se.x)(u),d._free=u=>(d._free=se.y)(u),d._main=(u,b)=>(ko=d._main=se.z)(u,b)),La=(d._webidl_free=u=>(d._webidl_free=se.A)(u),d._webidl_malloc=u=>(d._webidl_malloc=se.B)(u),d._emscripten_bind_VoidPtr___destroy___0=u=>(La=d._emscripten_bind_VoidPtr___destroy___0=se.C)(u)),aa=d._emscripten_bind_Cloudpilot_Cloudpilot_0=()=>(aa=d._emscripten_bind_Cloudpilot_Cloudpilot_0=se.D)(),Gs=d._emscripten_bind_Cloudpilot_Malloc_1=(u,b)=>(Gs=d._emscripten_bind_Cloudpilot_Malloc_1=se.E)(u,b),la=d._emscripten_bind_Cloudpilot_Free_1=(u,b)=>(la=d._emscripten_bind_Cloudpilot_Free_1=se.F)(u,b),Ji=d._emscripten_bind_Cloudpilot_Nullptr_0=u=>(Ji=d._emscripten_bind_Cloudpilot_Nullptr_0=se.G)(u),$a=d._emscripten_bind_Cloudpilot_EnableLogging_1=(u,b)=>($a=d._emscripten_bind_Cloudpilot_EnableLogging_1=se.H)(u,b),ca=d._emscripten_bind_Cloudpilot_InitializeSession_3=(u,b,X,Xe)=>(ca=d._emscripten_bind_Cloudpilot_InitializeSession_3=se.I)(u,b,X,Xe),ua=d._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=u=>(ua=d._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=se.J)(u),Ba=d._emscripten_bind_Cloudpilot_RunEmulation_1=(u,b)=>(Ba=d._emscripten_bind_Cloudpilot_RunEmulation_1=se.K)(u,b),Va=d._emscripten_bind_Cloudpilot_SetClockFactor_1=(u,b)=>(Va=d._emscripten_bind_Cloudpilot_SetClockFactor_1=se.L)(u,b),ja=d._emscripten_bind_Cloudpilot_CopyFrame_0=u=>(ja=d._emscripten_bind_Cloudpilot_CopyFrame_0=se.M)(u),Ga=d._emscripten_bind_Cloudpilot_IsScreenDirty_0=u=>(Ga=d._emscripten_bind_Cloudpilot_IsScreenDirty_0=se.N)(u),da=d._emscripten_bind_Cloudpilot_MarkScreenClean_0=u=>(da=d._emscripten_bind_Cloudpilot_MarkScreenClean_0=se.O)(u),Ua=d._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=(u,b)=>(Ua=d._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=se.P)(u,b),Ha=d._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=(u,b)=>(Ha=d._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=se.Q)(u,b),mr=d._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=(u,b)=>(mr=d._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=se.R)(u,b),fa=d._emscripten_bind_Cloudpilot_QueuePenMove_2=(u,b,X)=>(fa=d._emscripten_bind_Cloudpilot_QueuePenMove_2=se.S)(u,b,X),ro=d._emscripten_bind_Cloudpilot_QueuePenUp_0=u=>(ro=d._emscripten_bind_Cloudpilot_QueuePenUp_0=se.T)(u),Lt=d._emscripten_bind_Cloudpilot_QueueButtonDown_1=(u,b)=>(Lt=d._emscripten_bind_Cloudpilot_QueueButtonDown_1=se.U)(u,b),pa=d._emscripten_bind_Cloudpilot_QueueButtonUp_1=(u,b)=>(pa=d._emscripten_bind_Cloudpilot_QueueButtonUp_1=se.V)(u,b),Us=d._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=(u,b,X)=>(Us=d._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=se.W)(u,b,X),zr=d._emscripten_bind_Cloudpilot_IsPowerOff_0=u=>(zr=d._emscripten_bind_Cloudpilot_IsPowerOff_0=se.X)(u),Hs=d._emscripten_bind_Cloudpilot_IsUIInitialized_0=u=>(Hs=d._emscripten_bind_Cloudpilot_IsUIInitialized_0=se.Y)(u),za=d._emscripten_bind_Cloudpilot_GetOSVersion_0=u=>(za=d._emscripten_bind_Cloudpilot_GetOSVersion_0=se.Z)(u),Mn=d._emscripten_bind_Cloudpilot_IsSetupComplete_0=u=>(Mn=d._emscripten_bind_Cloudpilot_IsSetupComplete_0=se._)(u),bs=d._emscripten_bind_Cloudpilot_Reset_0=u=>(bs=d._emscripten_bind_Cloudpilot_Reset_0=se.$)(u),gr=d._emscripten_bind_Cloudpilot_ResetNoExtensions_0=u=>(gr=d._emscripten_bind_Cloudpilot_ResetNoExtensions_0=se.aa)(u),zs=d._emscripten_bind_Cloudpilot_ResetHard_0=u=>(zs=d._emscripten_bind_Cloudpilot_ResetHard_0=se.ba)(u),wl=d._emscripten_bind_Cloudpilot_InstallDb_2=(u,b,X)=>(wl=d._emscripten_bind_Cloudpilot_InstallDb_2=se.ca)(u,b,X),Wa=d._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=u=>(Wa=d._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=se.da)(u),On=d._emscripten_bind_Cloudpilot_GetMemoryPtr_0=u=>(On=d._emscripten_bind_Cloudpilot_GetMemoryPtr_0=se.ea)(u),Bt=d._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=u=>(Bt=d._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=se.fa)(u),Cs=d._emscripten_bind_Cloudpilot_GetMemorySize_0=u=>(Cs=d._emscripten_bind_Cloudpilot_GetMemorySize_0=se.ga)(u),Ws=d._emscripten_bind_Cloudpilot_ImportMemoryImage_2=(u,b,X)=>(Ws=d._emscripten_bind_Cloudpilot_ImportMemoryImage_2=se.ha)(u,b,X),El=d._emscripten_bind_Cloudpilot_GetRomPtr_0=u=>(El=d._emscripten_bind_Cloudpilot_GetRomPtr_0=se.ia)(u),ha=d._emscripten_bind_Cloudpilot_GetRomSize_0=u=>(ha=d._emscripten_bind_Cloudpilot_GetRomSize_0=se.ja)(u),Je=d._emscripten_bind_Cloudpilot_GetSavestatePtr_0=u=>(Je=d._emscripten_bind_Cloudpilot_GetSavestatePtr_0=se.ka)(u),Mi=d._emscripten_bind_Cloudpilot_GetSavestateSize_0=u=>(Mi=d._emscripten_bind_Cloudpilot_GetSavestateSize_0=se.la)(u),es=d._emscripten_bind_Cloudpilot_SaveState_0=u=>(es=d._emscripten_bind_Cloudpilot_SaveState_0=se.ma)(u),Zs=d._emscripten_bind_Cloudpilot_LoadState_2=(u,b,X)=>(Zs=d._emscripten_bind_Cloudpilot_LoadState_2=se.na)(u,b,X),qs=d._emscripten_bind_Cloudpilot_GetHotsyncName_0=u=>(qs=d._emscripten_bind_Cloudpilot_GetHotsyncName_0=se.oa)(u),ma=d._emscripten_bind_Cloudpilot_SetHotsyncName_1=(u,b)=>(ma=d._emscripten_bind_Cloudpilot_SetHotsyncName_1=se.pa)(u,b),ri=d._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=(u,b)=>(ri=d._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=se.qa)(u,b),ts=d._emscripten_bind_Cloudpilot_StartBackup_0=u=>(ts=d._emscripten_bind_Cloudpilot_StartBackup_0=se.ra)(u),ga=d._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=(u,b)=>(ga=d._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=se.sa)(u,b),Ut=d._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=u=>(Ut=d._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=se.ta)(u),In=d._emscripten_bind_Cloudpilot_IsSuspended_0=u=>(In=d._emscripten_bind_Cloudpilot_IsSuspended_0=se.ua)(u),oc=d._emscripten_bind_Cloudpilot_GetSuspendContext_0=u=>(oc=d._emscripten_bind_Cloudpilot_GetSuspendContext_0=se.va)(u),Ks=d._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=(u,b)=>(Ks=d._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=se.wa)(u,b),Dl=d._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=u=>(Dl=d._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=se.xa)(u),ic=d._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=(u,b)=>(ic=d._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=se.ya)(u,b),Za=d._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=(u,b)=>(Za=d._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=se.za)(u,b),Ys=d._emscripten_bind_Cloudpilot_LaunchAppByName_1=(u,b)=>(Ys=d._emscripten_bind_Cloudpilot_LaunchAppByName_1=se.Aa)(u,b),An=d._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=(u,b,X)=>(An=d._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=se.Ba)(u,b,X),fi=d._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=(u,b)=>(fi=d._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=se.Ca)(u,b),oo=d._emscripten_bind_Cloudpilot_ClearExternalStorage_0=u=>(oo=d._emscripten_bind_Cloudpilot_ClearExternalStorage_0=se.Da)(u),sc=d._emscripten_bind_Cloudpilot_AllocateCard_2=(u,b,X)=>(sc=d._emscripten_bind_Cloudpilot_AllocateCard_2=se.Ea)(u,b,X),Ci=d._emscripten_bind_Cloudpilot_AdoptCard_3=(u,b,X,Xe)=>(Ci=d._emscripten_bind_Cloudpilot_AdoptCard_3=se.Fa)(u,b,X,Xe),ac=d._emscripten_bind_Cloudpilot_MountCard_1=(u,b)=>(ac=d._emscripten_bind_Cloudpilot_MountCard_1=se.Ga)(u,b),lc=d._emscripten_bind_Cloudpilot_RemoveCard_1=(u,b)=>(lc=d._emscripten_bind_Cloudpilot_RemoveCard_1=se.Ha)(u,b),cc=d._emscripten_bind_Cloudpilot_GetCardData_1=(u,b)=>(cc=d._emscripten_bind_Cloudpilot_GetCardData_1=se.Ia)(u,b),Vn=d._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=(u,b)=>(Vn=d._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=se.Ja)(u,b),_a=d._emscripten_bind_Cloudpilot_GetCardSize_1=(u,b)=>(_a=d._emscripten_bind_Cloudpilot_GetCardSize_1=se.Ka)(u,b),Rr=d._emscripten_bind_Cloudpilot_RemountCards_0=u=>(Rr=d._emscripten_bind_Cloudpilot_RemountCards_0=se.La)(u),Qr=d._emscripten_bind_Cloudpilot_GetSupportLevel_1=(u,b)=>(Qr=d._emscripten_bind_Cloudpilot_GetSupportLevel_1=se.Ma)(u,b),co=d._emscripten_bind_Cloudpilot_GetMountedKey_0=u=>(co=d._emscripten_bind_Cloudpilot_GetMountedKey_0=se.Na)(u),pn=d._emscripten_bind_Cloudpilot_GetTransportIR_0=u=>(pn=d._emscripten_bind_Cloudpilot_GetTransportIR_0=se.Oa)(u),vt=d._emscripten_bind_Cloudpilot_GetTransportSerial_0=u=>(vt=d._emscripten_bind_Cloudpilot_GetTransportSerial_0=se.Pa)(u),Xn=d._emscripten_bind_Cloudpilot___destroy___0=u=>(Xn=d._emscripten_bind_Cloudpilot___destroy___0=se.Qa)(u),_r=d._emscripten_bind_RomInfo_RomInfo_2=(u,b)=>(_r=d._emscripten_bind_RomInfo_RomInfo_2=se.Ra)(u,b),vr=d._emscripten_bind_RomInfo_IsValid_0=u=>(vr=d._emscripten_bind_RomInfo_IsValid_0=se.Sa)(u),_=d._emscripten_bind_RomInfo_CardVersion_0=u=>(_=d._emscripten_bind_RomInfo_CardVersion_0=se.Ta)(u),E=d._emscripten_bind_RomInfo_CardName_0=u=>(E=d._emscripten_bind_RomInfo_CardName_0=se.Ua)(u),ce=d._emscripten_bind_RomInfo_RomVersion_0=u=>(ce=d._emscripten_bind_RomInfo_RomVersion_0=se.Va)(u),We=d._emscripten_bind_RomInfo_RomVersionString_0=u=>(We=d._emscripten_bind_RomInfo_RomVersionString_0=se.Wa)(u),mt=d._emscripten_bind_RomInfo_Supports_1=(u,b)=>(mt=d._emscripten_bind_RomInfo_Supports_1=se.Xa)(u,b),kn=d._emscripten_bind_RomInfo___destroy___0=u=>(kn=d._emscripten_bind_RomInfo___destroy___0=se.Ya)(u),Sn=d._emscripten_bind_Frame_GetLineWidth_0=u=>(Sn=d._emscripten_bind_Frame_GetLineWidth_0=se.Za)(u),hn=d._emscripten_bind_Frame_GetBpp_0=u=>(hn=d._emscripten_bind_Frame_GetBpp_0=se._a)(u),At=d._emscripten_bind_Frame_GetLines_0=u=>(At=d._emscripten_bind_Frame_GetLines_0=se.$a)(u),Zn=d._emscripten_bind_Frame_GetMargin_0=u=>(Zn=d._emscripten_bind_Frame_GetMargin_0=se.ab)(u),Dr=d._emscripten_bind_Frame_GetBytesPerLine_0=u=>(Dr=d._emscripten_bind_Frame_GetBytesPerLine_0=se.bb)(u),Qn=d._emscripten_bind_Frame_GetFirstDirtyLine_0=u=>(Qn=d._emscripten_bind_Frame_GetFirstDirtyLine_0=se.cb)(u),xt=d._emscripten_bind_Frame_GetLastDirtyLine_0=u=>(xt=d._emscripten_bind_Frame_GetLastDirtyLine_0=se.db)(u),Pt=d._emscripten_bind_Frame_GetHasChanges_0=u=>(Pt=d._emscripten_bind_Frame_GetHasChanges_0=se.eb)(u),jn=d._emscripten_bind_Frame_GetBuffer_0=u=>(jn=d._emscripten_bind_Frame_GetBuffer_0=se.fb)(u),Ir=d._emscripten_bind_Frame_GetBufferSize_0=u=>(Ir=d._emscripten_bind_Frame_GetBufferSize_0=se.gb)(u),ln=d._emscripten_bind_Frame_GetScaleX_0=u=>(ln=d._emscripten_bind_Frame_GetScaleX_0=se.hb)(u),Fn=d._emscripten_bind_Frame_GetScaleY_0=u=>(Fn=d._emscripten_bind_Frame_GetScaleY_0=se.ib)(u),h=d._emscripten_bind_Frame___destroy___0=u=>(h=d._emscripten_bind_Frame___destroy___0=se.jb)(u),A=d._emscripten_bind_DbBackup_Init_1=(u,b)=>(A=d._emscripten_bind_DbBackup_Init_1=se.kb)(u,b),Ce=d._emscripten_bind_DbBackup_IsInProgress_0=u=>(Ce=d._emscripten_bind_DbBackup_IsInProgress_0=se.lb)(u),tt=d._emscripten_bind_DbBackup_IsDone_0=u=>(tt=d._emscripten_bind_DbBackup_IsDone_0=se.mb)(u),Be=d._emscripten_bind_DbBackup_GetCurrentDatabase_0=u=>(Be=d._emscripten_bind_DbBackup_GetCurrentDatabase_0=se.nb)(u),Ln=d._emscripten_bind_DbBackup_Save_0=u=>(Ln=d._emscripten_bind_DbBackup_Save_0=se.ob)(u),Rn=d._emscripten_bind_DbBackup_Skip_0=u=>(Rn=d._emscripten_bind_DbBackup_Skip_0=se.pb)(u),_n=d._emscripten_bind_DbBackup_GetArchivePtr_0=u=>(_n=d._emscripten_bind_DbBackup_GetArchivePtr_0=se.qb)(u),Pr=d._emscripten_bind_DbBackup_GetArchiveSize_0=u=>(Pr=d._emscripten_bind_DbBackup_GetArchiveSize_0=se.rb)(u),Ss=d._emscripten_bind_DbBackup___destroy___0=u=>(Ss=d._emscripten_bind_DbBackup___destroy___0=se.sb)(u),va=d._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=u=>(va=d._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=se.tb)(u),uc=d._emscripten_bind_SuspendContextClipboardCopy_Resume_0=u=>(uc=d._emscripten_bind_SuspendContextClipboardCopy_Resume_0=se.ub)(u),Il=d._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=u=>(Il=d._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=se.vb)(u),Bu=d._emscripten_bind_SuspendContextClipboardCopy___destroy___0=u=>(Bu=d._emscripten_bind_SuspendContextClipboardCopy___destroy___0=se.wb)(u),yf=d._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=u=>(yf=d._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=se.xb)(u),Vu=d._emscripten_bind_SuspendContextClipboardPaste_Resume_1=(u,b)=>(Vu=d._emscripten_bind_SuspendContextClipboardPaste_Resume_1=se.yb)(u,b),qa=d._emscripten_bind_SuspendContextClipboardPaste___destroy___0=u=>(qa=d._emscripten_bind_SuspendContextClipboardPaste___destroy___0=se.zb)(u),dc=d._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=u=>(dc=d._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=se.Ab)(u),Xc=d._emscripten_bind_SuspendContextNetworkConnect_Resume_0=u=>(Xc=d._emscripten_bind_SuspendContextNetworkConnect_Resume_0=se.Bb)(u),Nh=d._emscripten_bind_SuspendContextNetworkConnect___destroy___0=u=>(Nh=d._emscripten_bind_SuspendContextNetworkConnect___destroy___0=se.Cb)(u),Fh=d._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=u=>(Fh=d._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=se.Db)(u),Lh=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=u=>(Lh=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=se.Eb)(u),bf=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=u=>(bf=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=se.Fb)(u),xl=d._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=(u,b,X)=>(xl=d._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=se.Gb)(u,b,X),$h=d._emscripten_bind_SuspendContextNetworkRpc___destroy___0=u=>($h=d._emscripten_bind_SuspendContextNetworkRpc___destroy___0=se.Hb)(u),ya=d._emscripten_bind_SuspendContextSerialSync_Cancel_0=u=>(ya=d._emscripten_bind_SuspendContextSerialSync_Cancel_0=se.Ib)(u),Bh=d._emscripten_bind_SuspendContextSerialSync_Resume_0=u=>(Bh=d._emscripten_bind_SuspendContextSerialSync_Resume_0=se.Jb)(u),le=d._emscripten_bind_SuspendContextSerialSync___destroy___0=u=>(le=d._emscripten_bind_SuspendContextSerialSync___destroy___0=se.Kb)(u),Cf=d._emscripten_bind_SuspendContext_GetKind_0=u=>(Cf=d._emscripten_bind_SuspendContext_GetKind_0=se.Lb)(u),ot=d._emscripten_bind_SuspendContext_Cancel_0=u=>(ot=d._emscripten_bind_SuspendContext_Cancel_0=se.Mb)(u),Qc=d._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=u=>(Qc=d._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=se.Nb)(u),ju=d._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=u=>(ju=d._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=se.Ob)(u),fc=d._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=u=>(fc=d._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=se.Pb)(u),Vh=d._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=u=>(Vh=d._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=se.Qb)(u),jh=d._emscripten_bind_SuspendContext_AsContextSerialSync_0=u=>(jh=d._emscripten_bind_SuspendContext_AsContextSerialSync_0=se.Rb)(u),Gh=d._emscripten_bind_SuspendContext___destroy___0=u=>(Gh=d._emscripten_bind_SuspendContext___destroy___0=se.Sb)(u),Xs=d._emscripten_bind_SessionImage_SessionImage_0=()=>(Xs=d._emscripten_bind_SessionImage_SessionImage_0=se.Tb)(),Jc=d._emscripten_bind_SessionImage_GetDeviceId_0=u=>(Jc=d._emscripten_bind_SessionImage_GetDeviceId_0=se.Ub)(u),ns=d._emscripten_bind_SessionImage_SetDeviceId_1=(u,b)=>(ns=d._emscripten_bind_SessionImage_SetDeviceId_1=se.Vb)(u,b),ws=d._emscripten_bind_SessionImage_GetRomImage_0=u=>(ws=d._emscripten_bind_SessionImage_GetRomImage_0=se.Wb)(u),Gn=d._emscripten_bind_SessionImage_GetRomImageSize_0=u=>(Gn=d._emscripten_bind_SessionImage_GetRomImageSize_0=se.Xb)(u),Sf=d._emscripten_bind_SessionImage_SetRomImage_2=(u,b,X)=>(Sf=d._emscripten_bind_SessionImage_SetRomImage_2=se.Yb)(u,b,X),Gu=d._emscripten_bind_SessionImage_GetMemoryImage_0=u=>(Gu=d._emscripten_bind_SessionImage_GetMemoryImage_0=se.Zb)(u),wf=d._emscripten_bind_SessionImage_GetMemoryImageSize_0=u=>(wf=d._emscripten_bind_SessionImage_GetMemoryImageSize_0=se._b)(u),Ef=d._emscripten_bind_SessionImage_SetMemoryImage_2=(u,b,X)=>(Ef=d._emscripten_bind_SessionImage_SetMemoryImage_2=se.$b)(u,b,X),pc=d._emscripten_bind_SessionImage_GetMetadata_0=u=>(pc=d._emscripten_bind_SessionImage_GetMetadata_0=se.ac)(u),Df=d._emscripten_bind_SessionImage_GetMetadataSize_0=u=>(Df=d._emscripten_bind_SessionImage_GetMetadataSize_0=se.bc)(u),If=d._emscripten_bind_SessionImage_SetMetadata_2=(u,b,X)=>(If=d._emscripten_bind_SessionImage_SetMetadata_2=se.cc)(u,b,X),Uh=d._emscripten_bind_SessionImage_GetSavestate_0=u=>(Uh=d._emscripten_bind_SessionImage_GetSavestate_0=se.dc)(u),xf=d._emscripten_bind_SessionImage_GetSavestateSize_0=u=>(xf=d._emscripten_bind_SessionImage_GetSavestateSize_0=se.ec)(u),Hh=d._emscripten_bind_SessionImage_SetSavestate_2=(u,b,X)=>(Hh=d._emscripten_bind_SessionImage_SetSavestate_2=se.fc)(u,b,X),zh=d._emscripten_bind_SessionImage_GetVersion_0=u=>(zh=d._emscripten_bind_SessionImage_GetVersion_0=se.gc)(u),rs=d._emscripten_bind_SessionImage_Serialize_0=u=>(rs=d._emscripten_bind_SessionImage_Serialize_0=se.hc)(u),Wh=d._emscripten_bind_SessionImage_GetSerializedImage_0=u=>(Wh=d._emscripten_bind_SessionImage_GetSerializedImage_0=se.ic)(u),Tf=d._emscripten_bind_SessionImage_GetSerializedImageSize_0=u=>(Tf=d._emscripten_bind_SessionImage_GetSerializedImageSize_0=se.jc)(u),Zh=d._emscripten_bind_SessionImage_Deserialize_2=(u,b,X)=>(Zh=d._emscripten_bind_SessionImage_Deserialize_2=se.kc)(u,b,X),qh=d._emscripten_bind_SessionImage___destroy___0=u=>(qh=d._emscripten_bind_SessionImage___destroy___0=se.lc)(u),Kh=d._emscripten_bind_SkinLoader_SkinLoader_1=u=>(Kh=d._emscripten_bind_SkinLoader_SkinLoader_1=se.mc)(u),Yh=d._emscripten_bind_SkinLoader_GetData_0=u=>(Yh=d._emscripten_bind_SkinLoader_GetData_0=se.nc)(u),Mf=d._emscripten_bind_SkinLoader_GetSize_0=u=>(Mf=d._emscripten_bind_SkinLoader_GetSize_0=se.oc)(u),Xh=d._emscripten_bind_SkinLoader___destroy___0=u=>(Xh=d._emscripten_bind_SkinLoader___destroy___0=se.pc)(u),Qh=d._emscripten_bind_EmTransportSerialBuffer_RxBytesPending_0=u=>(Qh=d._emscripten_bind_EmTransportSerialBuffer_RxBytesPending_0=se.qc)(u),Jh=d._emscripten_bind_EmTransportSerialBuffer_Receive_0=u=>(Jh=d._emscripten_bind_EmTransportSerialBuffer_Receive_0=se.rc)(u),Ye=d._emscripten_bind_EmTransportSerialBuffer_Send_3=(u,b,X,Xe)=>(Ye=d._emscripten_bind_EmTransportSerialBuffer_Send_3=se.sc)(u,b,X,Xe),em=d._emscripten_bind_EmTransportSerialBuffer_IsOpen_0=u=>(em=d._emscripten_bind_EmTransportSerialBuffer_IsOpen_0=se.tc)(u),tm=d._emscripten_bind_EmTransportSerialBuffer_Rts_0=u=>(tm=d._emscripten_bind_EmTransportSerialBuffer_Rts_0=se.uc)(u),Wr=d._emscripten_bind_EmTransportSerialBuffer_Dtr_0=u=>(Wr=d._emscripten_bind_EmTransportSerialBuffer_Dtr_0=se.vc)(u),Af=d._emscripten_bind_EmTransportSerialBuffer_IsBreak_0=u=>(Af=d._emscripten_bind_EmTransportSerialBuffer_IsBreak_0=se.wc)(u),Mt=d._emscripten_bind_EmTransportSerialBuffer_BufferSize_0=u=>(Mt=d._emscripten_bind_EmTransportSerialBuffer_BufferSize_0=se.xc)(u),bo=d._emscripten_bind_EmTransportSerialBuffer_GetBaud_0=u=>(bo=d._emscripten_bind_EmTransportSerialBuffer_GetBaud_0=se.yc)(u),vn=d._emscripten_bind_EmTransportSerialBuffer_GetParity_0=u=>(vn=d._emscripten_bind_EmTransportSerialBuffer_GetParity_0=se.zc)(u),uo=d._emscripten_bind_EmTransportSerialBuffer_GetStopBits_0=u=>(uo=d._emscripten_bind_EmTransportSerialBuffer_GetStopBits_0=se.Ac)(u),Po=d._emscripten_bind_EmTransportSerialBuffer_GetDataBits_0=u=>(Po=d._emscripten_bind_EmTransportSerialBuffer_GetDataBits_0=se.Bc)(u),ba=d._emscripten_bind_EmTransportSerialBuffer_GetHwrHandshake_0=u=>(ba=d._emscripten_bind_EmTransportSerialBuffer_GetHwrHandshake_0=se.Cc)(u),Zo=d._emscripten_bind_EmTransportSerialBuffer_GetModeSync_0=u=>(Zo=d._emscripten_bind_EmTransportSerialBuffer_GetModeSync_0=se.Dc)(u),kf=d._emscripten_bind_EmTransportSerialBuffer_SetModeSync_1=(u,b)=>(kf=d._emscripten_bind_EmTransportSerialBuffer_SetModeSync_1=se.Ec)(u,b),Rf=d._emscripten_bind_EmTransportSerialBuffer_IsFrameComplete_0=u=>(Rf=d._emscripten_bind_EmTransportSerialBuffer_IsFrameComplete_0=se.Fc)(u),eu=d._emscripten_bind_EmTransportSerialBuffer_SetRequestTransferCallback_1=(u,b)=>(eu=d._emscripten_bind_EmTransportSerialBuffer_SetRequestTransferCallback_1=se.Gc)(u,b),nm=d._emscripten_bind_EmTransportSerialBuffer___destroy___0=u=>(nm=d._emscripten_bind_EmTransportSerialBuffer___destroy___0=se.Hc)(u),rm=d._emscripten_bind_GunzipContext_GunzipContext_3=(u,b,X)=>(rm=d._emscripten_bind_GunzipContext_GunzipContext_3=se.Ic)(u,b,X),Zr=d._emscripten_bind_GunzipContext_GetState_0=u=>(Zr=d._emscripten_bind_GunzipContext_GetState_0=se.Jc)(u),ct=d._emscripten_bind_GunzipContext_Continue_0=u=>(ct=d._emscripten_bind_GunzipContext_Continue_0=se.Kc)(u),jt=d._emscripten_bind_GunzipContext_GetUncompressedData_0=u=>(jt=d._emscripten_bind_GunzipContext_GetUncompressedData_0=se.Lc)(u),Or=d._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=u=>(Or=d._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=se.Mc)(u),os=d._emscripten_bind_GunzipContext_GetUncompressedSize_0=u=>(os=d._emscripten_bind_GunzipContext_GetUncompressedSize_0=se.Nc)(u),qo=d._emscripten_bind_GunzipContext_GetError_0=u=>(qo=d._emscripten_bind_GunzipContext_GetError_0=se.Oc)(u),is=d._emscripten_bind_GunzipContext___destroy___0=u=>(is=d._emscripten_bind_GunzipContext___destroy___0=se.Pc)(u),Tl=d._emscripten_bind_ZipfileWalker_ZipfileWalker_2=(u,b)=>(Tl=d._emscripten_bind_ZipfileWalker_ZipfileWalker_2=se.Qc)(u,b),yr=d._emscripten_bind_ZipfileWalker_GetState_0=u=>(yr=d._emscripten_bind_ZipfileWalker_GetState_0=se.Rc)(u),oi=d._emscripten_bind_ZipfileWalker_Next_0=u=>(oi=d._emscripten_bind_ZipfileWalker_Next_0=se.Sc)(u),Ml=d._emscripten_bind_ZipfileWalker_GetTotalEntries_0=u=>(Ml=d._emscripten_bind_ZipfileWalker_GetTotalEntries_0=se.Tc)(u),Yt=d._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=u=>(Yt=d._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=se.Uc)(u),hc=d._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=u=>(hc=d._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=se.Vc)(u),Pf=d._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=u=>(Pf=d._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=se.Wc)(u),Al=d._emscripten_bind_ZipfileWalker___destroy___0=u=>(Al=d._emscripten_bind_ZipfileWalker___destroy___0=se.Xc)(u),$r=(u,b)=>($r=se.Zc)(u,b),mc=u=>(mc=se._c)(u),kl=()=>(kl=se.$c)(),ss=()=>(ss=se.ad)(),gc=()=>(gc=se.bd)();function Xt(){function u(){Es||(Es=!0,d.calledRun=!0,!P&&(function Dt(){ye(),we(_t)}(),function Ot(){ye(),we(fe)}(),x(d),d.onRuntimeInitialized?.(),Hu&&function Uu(){var u=ko;try{var Xe=u(0,0);return gi(Xe),Xe}catch(Nt){return Wo(Nt)}}(),function $t(){if(ye(),d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)u=d.postRun.shift(),je.unshift(u);var u;we(je)}()))}ze>0||(function Rl(){kl(),function ve(){var u=ss();0==u&&(u+=4),Te[u>>2]=34821223,Te[u+4>>2]=2310721022,Te[0]=1668509029}()}(),function He(){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)u=d.preRun.shift(),Qe.unshift(u);var u;we(Qe)}(),ze>0)||(d.setStatus?(d.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>d.setStatus(""),1),u()},1)):u(),ye())}if(d.___original_main=()=>(d.___original_main=se.cd)(),d.addFunction=(u,b)=>{var X=(u=>(Ge||(Ge=new WeakMap,((u,b)=>{if(Ge)for(var X=0;X<0+b;X++){var Xe=ge(X);Xe&&Ge.set(Xe,X)}})(0,Ke.length)),Ge.get(u)||0))(u);if(X)return X;var Xe=(()=>{if(bt.length)return bt.pop();try{Ke.grow(1)}catch(u){throw u instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":u}return Ke.length-1})();try{fn(Xe,u)}catch(wn){if(!(wn instanceof TypeError))throw wn;var Nt=((u,b)=>{if("function"==typeof WebAssembly.Function)return new WebAssembly.Function((u=>{for(var b={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},X={parameters:[],results:"v"==u[0]?[]:[b[u[0]]]},Xe=1;Xe<u.length;++Xe)X.parameters.push(b[u[Xe]]);return X})(b),u);var X=[1];((u,b)=>{var X=u.slice(0,1),Xe=u.slice(1),Nt={i:127,p:127,j:126,f:125,d:124,e:111};b.push(96),y(Xe.length,b);for(var wn=0;wn<Xe.length;++wn)b.push(Nt[Xe[wn]]);"v"==X?b.push(0):b.push(1,Nt[X])})(b,X);var Xe=[0,97,115,109,1,0,0,0,1];y(X.length,Xe),Xe.push(...X),Xe.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var Nt=new WebAssembly.Module(new Uint8Array(Xe));return new WebAssembly.Instance(Nt,{e:{f:u}}).exports.f})(u,b);fn(Xe,Nt)}return Ge.set(u,Xe),Xe},d.UTF8ToString=Cn,kt=function u(){Es||Xt(),Es||(kt=u)},d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();var Hu=!0;function Jn(){}function Oo(u){return(u||Jn).__cache__}function cn(u,b){var X=Oo(b),Xe=X[u];return Xe||((Xe=Object.create((b||Jn).prototype)).ptr=u,X[u]=Xe)}d.noInitialRun&&(Hu=!1),Xt(),(Jn.prototype=Object.create(Jn.prototype)).constructor=Jn,Jn.prototype.__class__=Jn,Jn.__cache__={},d.WrapperObject=Jn,d.getCache=Oo,d.wrapPointer=cn,d.castObject=function _c(u,b){return cn(u.ptr,b)},d.NULL=cn(0),d.destroy=function io(u){if(!u.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";u.__destroy__(),delete Oo(u.__class__)[u.ptr]},d.compare=function vc(u,b){return u.ptr===b.ptr},d.getPointer=function Ko(u){return u.ptr},d.getClass=function No(u){return u.__class__};var tn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(tn.needed){for(var u=0;u<tn.temps.length;u++)d._webidl_free(tn.temps[u]);tn.temps.length=0,d._webidl_free(tn.buffer),tn.buffer=0,tn.size+=tn.needed,tn.needed=0}tn.buffer||(tn.size+=128,tn.buffer=d._webidl_malloc(tn.size),ne(tn.buffer)),tn.pos=0},alloc(u,b){ne(tn.buffer);var Nt,Xe=u.length*b.BYTES_PER_ELEMENT;return Xe=Ao(Xe,8),tn.pos+Xe>=tn.size?(ne(Xe>0),tn.needed+=Xe,Nt=d._webidl_malloc(Xe),tn.temps.push(Nt)):(Nt=tn.buffer+tn.pos,tn.pos+=Xe),Nt},copy(u,b,X){X/=b.BYTES_PER_ELEMENT;for(var Xe=0;Xe<u.length;Xe++)b[X+Xe]=u[Xe]}};function qr(u){if("string"==typeof u){var b=function g(u,b,X){var Xe=X>0?X:_s(u)+1,Nt=new Array(Xe),wn=_i(u,Nt,0,Nt.length);return b&&(Nt.length=wn),Nt}(u),X=tn.alloc(b,ee);return tn.copy(b,ee,X),X}return u}function Un(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Ne(){this.ptr=aa(),Oo(Ne)[this.ptr]=this}function Br(u,b){u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),this.ptr=_r(u,b),Oo(Br)[this.ptr]=this}function $n(){throw"cannot construct a Frame, no constructor in IDL"}function xr(){throw"cannot construct a DbBackup, no constructor in IDL"}function Fo(){throw"cannot construct a SuspendContextClipboardCopy, no constructor in IDL"}function pi(){throw"cannot construct a SuspendContextClipboardPaste, no constructor in IDL"}function Si(){throw"cannot construct a SuspendContextNetworkConnect, no constructor in IDL"}function fo(){throw"cannot construct a SuspendContextNetworkRpc, no constructor in IDL"}function Ai(){throw"cannot construct a SuspendContextSerialSync, no constructor in IDL"}function Kr(){throw"cannot construct a SuspendContext, no constructor in IDL"}function Wt(){this.ptr=Xs(),Oo(Wt)[this.ptr]=this}function ki(u){tn.prepare(),u=u&&"object"==typeof u?u.ptr:qr(u),this.ptr=Kh(u),Oo(ki)[this.ptr]=this}function nn(){throw"cannot construct a EmTransportSerialBuffer, no constructor in IDL"}function so(u,b,X){u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),X&&"object"==typeof X&&(X=X.ptr),this.ptr=rm(u,b,X),Oo(so)[this.ptr]=this}function ao(u,b){u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),this.ptr=Tl(u,b),Oo(ao)[this.ptr]=this}return(Un.prototype=Object.create(Jn.prototype)).constructor=Un,Un.prototype.__class__=Un,Un.__cache__={},d.VoidPtr=Un,Un.prototype.__destroy__=Un.prototype.__destroy__=function(){La(this.ptr)},(Ne.prototype=Object.create(Jn.prototype)).constructor=Ne,Ne.prototype.__class__=Ne,Ne.__cache__={},d.Cloudpilot=Ne,Ne.prototype.Malloc=Ne.prototype.Malloc=function(u){return u&&"object"==typeof u&&(u=u.ptr),cn(Gs(this.ptr,u),Un)},Ne.prototype.Free=Ne.prototype.Free=function(u){u&&"object"==typeof u&&(u=u.ptr),la(this.ptr,u)},Ne.prototype.Nullptr=Ne.prototype.Nullptr=function(){return cn(Ji(this.ptr),Un)},Ne.prototype.EnableLogging=Ne.prototype.EnableLogging=function(u){u&&"object"==typeof u&&(u=u.ptr),$a(this.ptr,u)},Ne.prototype.InitializeSession=Ne.prototype.InitializeSession=function(u,b,X){var Xe=this.ptr;return tn.prepare(),u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),X=X&&"object"==typeof X?X.ptr:qr(X),!!ca(Xe,u,b,X)},Ne.prototype.GetCyclesPerSecond=Ne.prototype.GetCyclesPerSecond=function(){return ua(this.ptr)},Ne.prototype.RunEmulation=Ne.prototype.RunEmulation=function(u){return u&&"object"==typeof u&&(u=u.ptr),Ba(this.ptr,u)},Ne.prototype.SetClockFactor=Ne.prototype.SetClockFactor=function(u){u&&"object"==typeof u&&(u=u.ptr),Va(this.ptr,u)},Ne.prototype.CopyFrame=Ne.prototype.CopyFrame=function(){return cn(ja(this.ptr),$n)},Ne.prototype.IsScreenDirty=Ne.prototype.IsScreenDirty=function(){return!!Ga(this.ptr)},Ne.prototype.MarkScreenClean=Ne.prototype.MarkScreenClean=function(){da(this.ptr)},Ne.prototype.MinMemoryForDevice=Ne.prototype.MinMemoryForDevice=function(u){var b=this.ptr;return tn.prepare(),u=u&&"object"==typeof u?u.ptr:qr(u),Ua(b,u)},Ne.prototype.FramebufferSizeForDevice=Ne.prototype.FramebufferSizeForDevice=function(u){var b=this.ptr;return tn.prepare(),u=u&&"object"==typeof u?u.ptr:qr(u),Ha(b,u)},Ne.prototype.TotalMemoryForDevice=Ne.prototype.TotalMemoryForDevice=function(u){var b=this.ptr;return tn.prepare(),u=u&&"object"==typeof u?u.ptr:qr(u),mr(b,u)},Ne.prototype.QueuePenMove=Ne.prototype.QueuePenMove=function(u,b){u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),fa(this.ptr,u,b)},Ne.prototype.QueuePenUp=Ne.prototype.QueuePenUp=function(){ro(this.ptr)},Ne.prototype.QueueButtonDown=Ne.prototype.QueueButtonDown=function(u){u&&"object"==typeof u&&(u=u.ptr),Lt(this.ptr,u)},Ne.prototype.QueueButtonUp=Ne.prototype.QueueButtonUp=function(u){u&&"object"==typeof u&&(u=u.ptr),pa(this.ptr,u)},Ne.prototype.QueueKeyboardEvent=Ne.prototype.QueueKeyboardEvent=function(u,b){u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),Us(this.ptr,u,b)},Ne.prototype.IsPowerOff=Ne.prototype.IsPowerOff=function(){return!!zr(this.ptr)},Ne.prototype.IsUIInitialized=Ne.prototype.IsUIInitialized=function(){return!!Hs(this.ptr)},Ne.prototype.GetOSVersion=Ne.prototype.GetOSVersion=function(){return za(this.ptr)},Ne.prototype.IsSetupComplete=Ne.prototype.IsSetupComplete=function(){return!!Mn(this.ptr)},Ne.prototype.Reset=Ne.prototype.Reset=function(){bs(this.ptr)},Ne.prototype.ResetNoExtensions=Ne.prototype.ResetNoExtensions=function(){gr(this.ptr)},Ne.prototype.ResetHard=Ne.prototype.ResetHard=function(){zs(this.ptr)},Ne.prototype.InstallDb=Ne.prototype.InstallDb=function(u,b){return u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),wl(this.ptr,u,b)},Ne.prototype.GetPalette2bitMapping=Ne.prototype.GetPalette2bitMapping=function(){return Wa(this.ptr)},Ne.prototype.GetMemoryPtr=Ne.prototype.GetMemoryPtr=function(){return cn(On(this.ptr),Un)},Ne.prototype.GetDirtyPagesPtr=Ne.prototype.GetDirtyPagesPtr=function(){return cn(Bt(this.ptr),Un)},Ne.prototype.GetMemorySize=Ne.prototype.GetMemorySize=function(){return Cs(this.ptr)},Ne.prototype.ImportMemoryImage=Ne.prototype.ImportMemoryImage=function(u,b){return u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),!!Ws(this.ptr,u,b)},Ne.prototype.GetRomPtr=Ne.prototype.GetRomPtr=function(){return cn(El(this.ptr),Un)},Ne.prototype.GetRomSize=Ne.prototype.GetRomSize=function(){return ha(this.ptr)},Ne.prototype.GetSavestatePtr=Ne.prototype.GetSavestatePtr=function(){return cn(Je(this.ptr),Un)},Ne.prototype.GetSavestateSize=Ne.prototype.GetSavestateSize=function(){return Mi(this.ptr)},Ne.prototype.SaveState=Ne.prototype.SaveState=function(){return!!es(this.ptr)},Ne.prototype.LoadState=Ne.prototype.LoadState=function(u,b){return u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),!!Zs(this.ptr,u,b)},Ne.prototype.GetHotsyncName=Ne.prototype.GetHotsyncName=function(){return Cn(qs(this.ptr))},Ne.prototype.SetHotsyncName=Ne.prototype.SetHotsyncName=function(u){var b=this.ptr;tn.prepare(),u=u&&"object"==typeof u?u.ptr:qr(u),ma(b,u)},Ne.prototype.RegisterPwmHandler=Ne.prototype.RegisterPwmHandler=function(u){u&&"object"==typeof u&&(u=u.ptr),ri(this.ptr,u)},Ne.prototype.StartBackup=Ne.prototype.StartBackup=function(){return cn(ts(this.ptr),xr)},Ne.prototype.SetClipboardIntegration=Ne.prototype.SetClipboardIntegration=function(u){u&&"object"==typeof u&&(u=u.ptr),ga(this.ptr,u)},Ne.prototype.GetClipboardIntegration=Ne.prototype.GetClipboardIntegration=function(){return!!Ut(this.ptr)},Ne.prototype.IsSuspended=Ne.prototype.IsSuspended=function(){return!!In(this.ptr)},Ne.prototype.GetSuspendContext=Ne.prototype.GetSuspendContext=function(){return cn(oc(this.ptr),Kr)},Ne.prototype.SetNetworkRedirection=Ne.prototype.SetNetworkRedirection=function(u){u&&"object"==typeof u&&(u=u.ptr),Ks(this.ptr,u)},Ne.prototype.GetNetworkRedirection=Ne.prototype.GetNetworkRedirection=function(){return!!Dl(this.ptr)},Ne.prototype.RegisterProxyDisconnectHandler=Ne.prototype.RegisterProxyDisconnectHandler=function(u){u&&"object"==typeof u&&(u=u.ptr),ic(this.ptr,u)},Ne.prototype.SetHotsyncNameManagement=Ne.prototype.SetHotsyncNameManagement=function(u){u&&"object"==typeof u&&(u=u.ptr),Za(this.ptr,u)},Ne.prototype.LaunchAppByName=Ne.prototype.LaunchAppByName=function(u){var b=this.ptr;return tn.prepare(),u=u&&"object"==typeof u?u.ptr:qr(u),!!Ys(b,u)},Ne.prototype.LaunchAppByDbHeader=Ne.prototype.LaunchAppByDbHeader=function(u,b){return u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),!!An(this.ptr,u,b)},Ne.prototype.DeviceSupportsCardSize=Ne.prototype.DeviceSupportsCardSize=function(u){return u&&"object"==typeof u&&(u=u.ptr),!!fi(this.ptr,u)},Ne.prototype.ClearExternalStorage=Ne.prototype.ClearExternalStorage=function(){oo(this.ptr)},Ne.prototype.AllocateCard=Ne.prototype.AllocateCard=function(u,b){var X=this.ptr;return tn.prepare(),u=u&&"object"==typeof u?u.ptr:qr(u),b&&"object"==typeof b&&(b=b.ptr),!!sc(X,u,b)},Ne.prototype.AdoptCard=Ne.prototype.AdoptCard=function(u,b,X){var Xe=this.ptr;return tn.prepare(),u=u&&"object"==typeof u?u.ptr:qr(u),b&&"object"==typeof b&&(b=b.ptr),X&&"object"==typeof X&&(X=X.ptr),!!Ci(Xe,u,b,X)},Ne.prototype.MountCard=Ne.prototype.MountCard=function(u){var b=this.ptr;return tn.prepare(),u=u&&"object"==typeof u?u.ptr:qr(u),!!ac(b,u)},Ne.prototype.RemoveCard=Ne.prototype.RemoveCard=function(u){var b=this.ptr;return tn.prepare(),u=u&&"object"==typeof u?u.ptr:qr(u),!!lc(b,u)},Ne.prototype.GetCardData=Ne.prototype.GetCardData=function(u){var b=this.ptr;return tn.prepare(),u=u&&"object"==typeof u?u.ptr:qr(u),cn(cc(b,u),Un)},Ne.prototype.GetCardDirtyPages=Ne.prototype.GetCardDirtyPages=function(u){var b=this.ptr;return tn.prepare(),u=u&&"object"==typeof u?u.ptr:qr(u),cn(Vn(b,u),Un)},Ne.prototype.GetCardSize=Ne.prototype.GetCardSize=function(u){var b=this.ptr;return tn.prepare(),u=u&&"object"==typeof u?u.ptr:qr(u),_a(b,u)},Ne.prototype.RemountCards=Ne.prototype.RemountCards=function(){Rr(this.ptr)},Ne.prototype.GetSupportLevel=Ne.prototype.GetSupportLevel=function(u){return u&&"object"==typeof u&&(u=u.ptr),Qr(this.ptr,u)},Ne.prototype.GetMountedKey=Ne.prototype.GetMountedKey=function(){return Cn(co(this.ptr))},Ne.prototype.GetTransportIR=Ne.prototype.GetTransportIR=function(){return cn(pn(this.ptr),nn)},Ne.prototype.GetTransportSerial=Ne.prototype.GetTransportSerial=function(){return cn(vt(this.ptr),nn)},Ne.prototype.__destroy__=Ne.prototype.__destroy__=function(){Xn(this.ptr)},(Br.prototype=Object.create(Jn.prototype)).constructor=Br,Br.prototype.__class__=Br,Br.__cache__={},d.RomInfo=Br,Br.prototype.IsValid=Br.prototype.IsValid=function(){return!!vr(this.ptr)},Br.prototype.CardVersion=Br.prototype.CardVersion=function(){return _(this.ptr)},Br.prototype.CardName=Br.prototype.CardName=function(){return Cn(E(this.ptr))},Br.prototype.RomVersion=Br.prototype.RomVersion=function(){return ce(this.ptr)},Br.prototype.RomVersionString=Br.prototype.RomVersionString=function(){return Cn(We(this.ptr))},Br.prototype.Supports=Br.prototype.Supports=function(u){var b=this.ptr;return tn.prepare(),u=u&&"object"==typeof u?u.ptr:qr(u),!!mt(b,u)},Br.prototype.__destroy__=Br.prototype.__destroy__=function(){kn(this.ptr)},($n.prototype=Object.create(Jn.prototype)).constructor=$n,$n.prototype.__class__=$n,$n.__cache__={},d.Frame=$n,$n.prototype.GetLineWidth=$n.prototype.GetLineWidth=function(){return Sn(this.ptr)},$n.prototype.GetBpp=$n.prototype.GetBpp=function(){return hn(this.ptr)},$n.prototype.GetLines=$n.prototype.GetLines=function(){return At(this.ptr)},$n.prototype.GetMargin=$n.prototype.GetMargin=function(){return Zn(this.ptr)},$n.prototype.GetBytesPerLine=$n.prototype.GetBytesPerLine=function(){return Dr(this.ptr)},$n.prototype.GetFirstDirtyLine=$n.prototype.GetFirstDirtyLine=function(){return Qn(this.ptr)},$n.prototype.GetLastDirtyLine=$n.prototype.GetLastDirtyLine=function(){return xt(this.ptr)},$n.prototype.GetHasChanges=$n.prototype.GetHasChanges=function(){return!!Pt(this.ptr)},$n.prototype.GetBuffer=$n.prototype.GetBuffer=function(){return cn(jn(this.ptr),Un)},$n.prototype.GetBufferSize=$n.prototype.GetBufferSize=function(){return Ir(this.ptr)},$n.prototype.GetScaleX=$n.prototype.GetScaleX=function(){return ln(this.ptr)},$n.prototype.GetScaleY=$n.prototype.GetScaleY=function(){return Fn(this.ptr)},$n.prototype.__destroy__=$n.prototype.__destroy__=function(){h(this.ptr)},(xr.prototype=Object.create(Jn.prototype)).constructor=xr,xr.prototype.__class__=xr,xr.__cache__={},d.DbBackup=xr,xr.prototype.Init=xr.prototype.Init=function(u){return u&&"object"==typeof u&&(u=u.ptr),!!A(this.ptr,u)},xr.prototype.IsInProgress=xr.prototype.IsInProgress=function(){return!!Ce(this.ptr)},xr.prototype.IsDone=xr.prototype.IsDone=function(){return!!tt(this.ptr)},xr.prototype.GetCurrentDatabase=xr.prototype.GetCurrentDatabase=function(){return Cn(Be(this.ptr))},xr.prototype.Save=xr.prototype.Save=function(){return!!Ln(this.ptr)},xr.prototype.Skip=xr.prototype.Skip=function(){Rn(this.ptr)},xr.prototype.GetArchivePtr=xr.prototype.GetArchivePtr=function(){return cn(_n(this.ptr),Un)},xr.prototype.GetArchiveSize=xr.prototype.GetArchiveSize=function(){return Pr(this.ptr)},xr.prototype.__destroy__=xr.prototype.__destroy__=function(){Ss(this.ptr)},(Fo.prototype=Object.create(Jn.prototype)).constructor=Fo,Fo.prototype.__class__=Fo,Fo.__cache__={},d.SuspendContextClipboardCopy=Fo,Fo.prototype.Cancel=Fo.prototype.Cancel=function(){va(this.ptr)},Fo.prototype.Resume=Fo.prototype.Resume=function(){uc(this.ptr)},Fo.prototype.GetClipboardContent=Fo.prototype.GetClipboardContent=function(){return Cn(Il(this.ptr))},Fo.prototype.__destroy__=Fo.prototype.__destroy__=function(){Bu(this.ptr)},(pi.prototype=Object.create(Jn.prototype)).constructor=pi,pi.prototype.__class__=pi,pi.__cache__={},d.SuspendContextClipboardPaste=pi,pi.prototype.Cancel=pi.prototype.Cancel=function(){yf(this.ptr)},pi.prototype.Resume=pi.prototype.Resume=function(u){var b=this.ptr;tn.prepare(),u=u&&"object"==typeof u?u.ptr:qr(u),Vu(b,u)},pi.prototype.__destroy__=pi.prototype.__destroy__=function(){qa(this.ptr)},(Si.prototype=Object.create(Jn.prototype)).constructor=Si,Si.prototype.__class__=Si,Si.__cache__={},d.SuspendContextNetworkConnect=Si,Si.prototype.Cancel=Si.prototype.Cancel=function(){dc(this.ptr)},Si.prototype.Resume=Si.prototype.Resume=function(){Xc(this.ptr)},Si.prototype.__destroy__=Si.prototype.__destroy__=function(){Nh(this.ptr)},(fo.prototype=Object.create(Jn.prototype)).constructor=fo,fo.prototype.__class__=fo,fo.__cache__={},d.SuspendContextNetworkRpc=fo,fo.prototype.Cancel=fo.prototype.Cancel=function(){Fh(this.ptr)},fo.prototype.GetRequestSize=fo.prototype.GetRequestSize=function(){return Lh(this.ptr)},fo.prototype.GetRequestData=fo.prototype.GetRequestData=function(){return cn(bf(this.ptr),Un)},fo.prototype.ReceiveResponse=fo.prototype.ReceiveResponse=function(u,b){u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),xl(this.ptr,u,b)},fo.prototype.__destroy__=fo.prototype.__destroy__=function(){$h(this.ptr)},(Ai.prototype=Object.create(Jn.prototype)).constructor=Ai,Ai.prototype.__class__=Ai,Ai.__cache__={},d.SuspendContextSerialSync=Ai,Ai.prototype.Cancel=Ai.prototype.Cancel=function(){ya(this.ptr)},Ai.prototype.Resume=Ai.prototype.Resume=function(){Bh(this.ptr)},Ai.prototype.__destroy__=Ai.prototype.__destroy__=function(){le(this.ptr)},(Kr.prototype=Object.create(Jn.prototype)).constructor=Kr,Kr.prototype.__class__=Kr,Kr.__cache__={},d.SuspendContext=Kr,Kr.prototype.GetKind=Kr.prototype.GetKind=function(){return Cf(this.ptr)},Kr.prototype.Cancel=Kr.prototype.Cancel=function(){ot(this.ptr)},Kr.prototype.AsContextClipboardCopy=Kr.prototype.AsContextClipboardCopy=function(){return cn(Qc(this.ptr),Fo)},Kr.prototype.AsContextClipboardPaste=Kr.prototype.AsContextClipboardPaste=function(){return cn(ju(this.ptr),pi)},Kr.prototype.AsContextNetworkConnect=Kr.prototype.AsContextNetworkConnect=function(){return cn(fc(this.ptr),Si)},Kr.prototype.AsContextNetworkRpc=Kr.prototype.AsContextNetworkRpc=function(){return cn(Vh(this.ptr),fo)},Kr.prototype.AsContextSerialSync=Kr.prototype.AsContextSerialSync=function(){return cn(jh(this.ptr),Ai)},Kr.prototype.__destroy__=Kr.prototype.__destroy__=function(){Gh(this.ptr)},(Wt.prototype=Object.create(Jn.prototype)).constructor=Wt,Wt.prototype.__class__=Wt,Wt.__cache__={},d.SessionImage=Wt,Wt.prototype.GetDeviceId=Wt.prototype.GetDeviceId=function(){return Cn(Jc(this.ptr))},Wt.prototype.SetDeviceId=Wt.prototype.SetDeviceId=function(u){var b=this.ptr;return tn.prepare(),u=u&&"object"==typeof u?u.ptr:qr(u),cn(ns(b,u),Wt)},Wt.prototype.GetRomImage=Wt.prototype.GetRomImage=function(){return cn(ws(this.ptr),Un)},Wt.prototype.GetRomImageSize=Wt.prototype.GetRomImageSize=function(){return Gn(this.ptr)},Wt.prototype.SetRomImage=Wt.prototype.SetRomImage=function(u,b){return u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),cn(Sf(this.ptr,u,b),Wt)},Wt.prototype.GetMemoryImage=Wt.prototype.GetMemoryImage=function(){return cn(Gu(this.ptr),Un)},Wt.prototype.GetMemoryImageSize=Wt.prototype.GetMemoryImageSize=function(){return wf(this.ptr)},Wt.prototype.SetMemoryImage=Wt.prototype.SetMemoryImage=function(u,b){return u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),cn(Ef(this.ptr,u,b),Wt)},Wt.prototype.GetMetadata=Wt.prototype.GetMetadata=function(){return cn(pc(this.ptr),Un)},Wt.prototype.GetMetadataSize=Wt.prototype.GetMetadataSize=function(){return Df(this.ptr)},Wt.prototype.SetMetadata=Wt.prototype.SetMetadata=function(u,b){return u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),cn(If(this.ptr,u,b),Wt)},Wt.prototype.GetSavestate=Wt.prototype.GetSavestate=function(){return cn(Uh(this.ptr),Un)},Wt.prototype.GetSavestateSize=Wt.prototype.GetSavestateSize=function(){return xf(this.ptr)},Wt.prototype.SetSavestate=Wt.prototype.SetSavestate=function(u,b){return u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),cn(Hh(this.ptr,u,b),Wt)},Wt.prototype.GetVersion=Wt.prototype.GetVersion=function(){return zh(this.ptr)},Wt.prototype.Serialize=Wt.prototype.Serialize=function(){return!!rs(this.ptr)},Wt.prototype.GetSerializedImage=Wt.prototype.GetSerializedImage=function(){return cn(Wh(this.ptr),Un)},Wt.prototype.GetSerializedImageSize=Wt.prototype.GetSerializedImageSize=function(){return Tf(this.ptr)},Wt.prototype.Deserialize=Wt.prototype.Deserialize=function(u,b){return u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),!!Zh(this.ptr,u,b)},Wt.prototype.__destroy__=Wt.prototype.__destroy__=function(){qh(this.ptr)},(ki.prototype=Object.create(Jn.prototype)).constructor=ki,ki.prototype.__class__=ki,ki.__cache__={},d.SkinLoader=ki,ki.prototype.GetData=ki.prototype.GetData=function(){return cn(Yh(this.ptr),Un)},ki.prototype.GetSize=ki.prototype.GetSize=function(){return Mf(this.ptr)},ki.prototype.__destroy__=ki.prototype.__destroy__=function(){Xh(this.ptr)},(nn.prototype=Object.create(Jn.prototype)).constructor=nn,nn.prototype.__class__=nn,nn.__cache__={},d.EmTransportSerialBuffer=nn,nn.prototype.RxBytesPending=nn.prototype.RxBytesPending=function(){return Qh(this.ptr)},nn.prototype.Receive=nn.prototype.Receive=function(){return cn(Jh(this.ptr),Un)},nn.prototype.Send=nn.prototype.Send=function(u,b,X){return u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),X&&"object"==typeof X&&(X=X.ptr),Ye(this.ptr,u,b,X)},nn.prototype.IsOpen=nn.prototype.IsOpen=function(){return!!em(this.ptr)},nn.prototype.Rts=nn.prototype.Rts=function(){return tm(this.ptr)},nn.prototype.Dtr=nn.prototype.Dtr=function(){return!!Wr(this.ptr)},nn.prototype.IsBreak=nn.prototype.IsBreak=function(){return!!Af(this.ptr)},nn.prototype.BufferSize=nn.prototype.BufferSize=function(){return Mt(this.ptr)},nn.prototype.GetBaud=nn.prototype.GetBaud=function(){return bo(this.ptr)},nn.prototype.GetParity=nn.prototype.GetParity=function(){return vn(this.ptr)},nn.prototype.GetStopBits=nn.prototype.GetStopBits=function(){return uo(this.ptr)},nn.prototype.GetDataBits=nn.prototype.GetDataBits=function(){return Po(this.ptr)},nn.prototype.GetHwrHandshake=nn.prototype.GetHwrHandshake=function(){return ba(this.ptr)},nn.prototype.GetModeSync=nn.prototype.GetModeSync=function(){return!!Zo(this.ptr)},nn.prototype.SetModeSync=nn.prototype.SetModeSync=function(u){u&&"object"==typeof u&&(u=u.ptr),kf(this.ptr,u)},nn.prototype.IsFrameComplete=nn.prototype.IsFrameComplete=function(){return!!Rf(this.ptr)},nn.prototype.SetRequestTransferCallback=nn.prototype.SetRequestTransferCallback=function(u){u&&"object"==typeof u&&(u=u.ptr),eu(this.ptr,u)},nn.prototype.__destroy__=nn.prototype.__destroy__=function(){nm(this.ptr)},(so.prototype=Object.create(Jn.prototype)).constructor=so,so.prototype.__class__=so,so.__cache__={},d.GunzipContext=so,so.prototype.GetState=so.prototype.GetState=function(){return Zr(this.ptr)},so.prototype.Continue=so.prototype.Continue=function(){return ct(this.ptr)},so.prototype.GetUncompressedData=so.prototype.GetUncompressedData=function(){return cn(jt(this.ptr),Un)},so.prototype.ReleaseUncompressedData=so.prototype.ReleaseUncompressedData=function(){return cn(Or(this.ptr),Un)},so.prototype.GetUncompressedSize=so.prototype.GetUncompressedSize=function(){return os(this.ptr)},so.prototype.GetError=so.prototype.GetError=function(){return Cn(qo(this.ptr))},so.prototype.__destroy__=so.prototype.__destroy__=function(){is(this.ptr)},(ao.prototype=Object.create(Jn.prototype)).constructor=ao,ao.prototype.__class__=ao,ao.__cache__={},d.ZipfileWalker=ao,ao.prototype.GetState=ao.prototype.GetState=function(){return yr(this.ptr)},ao.prototype.Next=ao.prototype.Next=function(){return oi(this.ptr)},ao.prototype.GetTotalEntries=ao.prototype.GetTotalEntries=function(){return Ml(this.ptr)},ao.prototype.GetCurrentEntrySize=ao.prototype.GetCurrentEntrySize=function(){return Yt(this.ptr)},ao.prototype.GetCurrentEntryName=ao.prototype.GetCurrentEntryName=function(){return Cn(hc(this.ptr))},ao.prototype.GetCurrentEntryContent=ao.prototype.GetCurrentEntryContent=function(){return cn(Pf(this.ptr),Un)},ao.prototype.__destroy__=ao.prototype.__destroy__=function(){Al(this.ptr)},Q});ue.exports=M},3097:(ue,xe,S)=>{var B,w=S(4144).default,M=(B=typeof document<"u"?document.currentScript?.src:void 0,function(Z={}){var x,T,N,oe,d=Z,Q=new Promise((_,E)=>{x=_,T=E}),H="object"==typeof window,k=typeof WorkerGlobalScope<"u",R=("object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node&&process,Object.assign({},d)),he="./this.program",Ie=(_,E)=>{throw E},K="";(H||k)&&(k?K=self.location.href:typeof document<"u"&&document.currentScript&&(K=document.currentScript.src),B&&(K=B),K=K.startsWith("blob:")?"":K.substr(0,K.replace(/[?#].*/,"").lastIndexOf("/")+1),k&&(oe=_=>{var E=new XMLHttpRequest;return E.open("GET",_,!1),E.responseType="arraybuffer",E.send(null),new Uint8Array(E.response)}),N=_=>fetch(_,{credentials:"same-origin"}).then(E=>E.ok?E.arrayBuffer():Promise.reject(new Error(E.status+" : "+E.url))));var pe=d.print||console.log.bind(console),ie=d.printErr||console.error.bind(console);Object.assign(d,R),R=null,d.thisProgram&&(he=d.thisProgram);var Le,O,ee,D,G,Te,be,ke=d.wasmBinary,P=!1;function ne(_,E){_||Ft(E)}function $e(){var _=Le.buffer;d.HEAP8=ee=new Int8Array(_),d.HEAP16=new Int16Array(_),d.HEAPU8=D=new Uint8Array(_),d.HEAPU16=new Uint16Array(_),d.HEAP32=G=new Int32Array(_),d.HEAPU32=Te=new Uint32Array(_),d.HEAPF32=new Float32Array(_),d.HEAPF64=be=new Float64Array(_)}function ye(){if(!P){var _=Ut();0==_&&(_+=4);var E=Te[_>>2],ce=Te[_+4>>2];(34821223!=E||2310721022!=ce)&&Ft(`Stack overflow! Stack cookie has been overwritten at ${Cn(_)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${Cn(ce)} ${Cn(E)}`),1668509029!=Te[0]&&Ft("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var Qe=[],_t=[],fe=[],je=[],ze=0,at=null,kt=null;function Ft(_){d.onAbort?.(_),ie(_="Aborted("+_+")"),P=!0,_+=". Build with -sASSERTIONS for more info.";var E=new WebAssembly.RuntimeError(_);throw T(E),E}var lr,nr=_=>_.startsWith("data:application/octet-stream;base64,"),xn=0;function vo(_){return(...E)=>{if(P)throw"program has already aborted!";xn++;try{return _(...E)}catch(ce){if(P||xn>1||ce===1/0||"unwind"===ce)throw ce;Ft("unhandled exception: "+[ce,ce.stack])}finally{xn--}}}function eo(_){if(_==lr&&ke)return new Uint8Array(ke);if(oe)return oe(_);throw"both async and sync fetching of the wasm failed"}function Xr(_,E,ce){return function xo(_){return ke?Promise.resolve().then(()=>eo(_)):N(_).then(E=>new Uint8Array(E),()=>eo(_))}(_).then(We=>WebAssembly.instantiate(We,E)).then(ce,We=>{ie(`failed to asynchronously prepare wasm: ${We}`),Ft(We)})}var we,Kt={46259:()=>{throw new Error("terminated")}};class en{constructor(E){w(this,"name","ExitStatus"),this.message=`Program terminated with exit(${E})`,this.status=E}}var Kn,Ks,bn=_=>{for(;_.length>0;)_.shift()(d)},zt=d.noExitRuntime||!0,Cn=_=>"0x"+(_>>>=0).toString(16).padStart(8,"0"),fr=typeof TextDecoder<"u"?new TextDecoder:void 0,Yn=(_,E=0,ce=NaN)=>{for(var We=E+ce,mt=E;_[mt]&&!(mt>=We);)++mt;if(mt-E>16&&_.buffer&&fr)return fr.decode(_.subarray(E,mt));for(var kn="";E<mt;){var Sn=_[E++];if(128&Sn){var hn=63&_[E++];if(192!=(224&Sn)){var At=63&_[E++];if((Sn=224==(240&Sn)?(15&Sn)<<12|hn<<6|At:(7&Sn)<<18|hn<<12|At<<6|63&_[E++])<65536)kn+=String.fromCharCode(Sn);else{var Zn=Sn-65536;kn+=String.fromCharCode(55296|Zn>>10,56320|1023&Zn)}}else kn+=String.fromCharCode((31&Sn)<<6|hn)}else kn+=String.fromCharCode(Sn)}return kn},on=(_,E)=>_?Yn(D,_,E):"",Lr=(_,E)=>E+2097152>>>0<4194305-!!_?(_>>>0)+4294967296*E:NaN,Uo={varargs:void 0,getStr:_=>on(_)},gn=0,Ho=[0,31,60,91,121,152,182,213,244,274,305,335],zo=[0,31,59,90,120,151,181,212,243,273,304,334],Wo=_=>((_=>_%4==0&&(_%100!=0||_%400==0))(_.getFullYear())?Ho:zo)[_.getMonth()]+_.getDate()-1,To={},Mo=_=>{if(_ instanceof en||"unwind"==_)return O;ye(),_ instanceof WebAssembly.RuntimeError&&In()<=0&&ie("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 1048576)"),Ie(0,_)},ui=()=>zt||gn>0,ps=_=>{O=_,ui()||(d.onExit?.(_),P=!0),Ie(0,new en(_))},Ki=(_,E)=>{O=_,ps(_)},_i=Ki,no=(_,E,ce,We)=>{if(!(We>0))return 0;for(var mt=ce,kn=ce+We-1,Sn=0;Sn<_.length;++Sn){var hn=_.charCodeAt(Sn);if(hn>=55296&&hn<=57343&&(hn=65536+((1023&hn)<<10)|1023&_.charCodeAt(++Sn)),hn<=127){if(ce>=kn)break;E[ce++]=hn}else if(hn<=2047){if(ce+1>=kn)break;E[ce++]=192|hn>>6,E[ce++]=128|63&hn}else if(hn<=65535){if(ce+2>=kn)break;E[ce++]=224|hn>>12,E[ce++]=128|hn>>6&63,E[ce++]=128|63&hn}else{if(ce+3>=kn)break;E[ce++]=240|hn>>18,E[ce++]=128|hn>>12&63,E[ce++]=128|hn>>6&63,E[ce++]=128|63&hn}}return E[ce]=0,ce-mt},vi=(_,E,ce)=>no(_,D,E,ce),Er=[],yi=(_,E)=>Math.ceil(_/E)*E,hs=_=>{var ce=(_-Le.buffer.byteLength+65535)/65536|0;try{return Le.grow(ce),$e(),1}catch{}},Ti={},bi=()=>{if(!bi.strings){var E={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:he||"./this.program"};for(var ce in Ti)void 0===Ti[ce]?delete E[ce]:E[ce]=Ti[ce];var We=[];for(var ce in E)We.push(`${ce}=${E[ce]}`);bi.strings=We}return bi.strings},y=[null,[],[]],W=(_,E)=>{var ce=y[_];0===E||10===E?((1===_?pe:ie)(Yn(ce)),ce.length=0):ce.push(E)},Ke={b:(_,E,ce,We)=>{Ft(`Assertion failed: ${on(_)}, at: `+[E?on(E):"unknown filename",ce,We?on(We):"unknown function"])},n:function qi(_,E,ce){Lr(E,ce)},h:function En(_,E,ce,We){Uo.varargs=We},i:()=>{Ft("")},f:(_,E,ce)=>D.copyWithin(_,E,E+ce),p:()=>{zt=!1,gn=0},j:function mi(_,E,ce){var We=Lr(_,E),mt=new Date(1e3*We);G[ce>>2]=mt.getUTCSeconds(),G[ce+4>>2]=mt.getUTCMinutes(),G[ce+8>>2]=mt.getUTCHours(),G[ce+12>>2]=mt.getUTCDate(),G[ce+16>>2]=mt.getUTCMonth(),G[ce+20>>2]=mt.getUTCFullYear()-1900,G[ce+24>>2]=mt.getUTCDay();var kn=Date.UTC(mt.getUTCFullYear(),0,1,0,0,0,0),Sn=(mt.getTime()-kn)/864e5|0;G[ce+28>>2]=Sn},k:function ci(_,E,ce){var We=Lr(_,E),mt=new Date(1e3*We);G[ce>>2]=mt.getSeconds(),G[ce+4>>2]=mt.getMinutes(),G[ce+8>>2]=mt.getHours(),G[ce+12>>2]=mt.getDate(),G[ce+16>>2]=mt.getMonth(),G[ce+20>>2]=mt.getFullYear()-1900,G[ce+24>>2]=mt.getDay();var kn=0|Wo(mt);G[ce+28>>2]=kn,G[ce+36>>2]=-60*mt.getTimezoneOffset();var Sn=new Date(mt.getFullYear(),0,1),hn=new Date(mt.getFullYear(),6,1).getTimezoneOffset(),At=Sn.getTimezoneOffset(),Zn=0|(hn!=At&&mt.getTimezoneOffset()==Math.min(At,hn));G[ce+32>>2]=Zn},l:function(_){var E=(()=>{var ce=new Date(G[_+20>>2]+1900,G[_+16>>2],G[_+12>>2],G[_+8>>2],G[_+4>>2],G[_>>2],0),We=G[_+32>>2],mt=ce.getTimezoneOffset(),kn=new Date(ce.getFullYear(),0,1),Sn=new Date(ce.getFullYear(),6,1).getTimezoneOffset(),hn=kn.getTimezoneOffset(),At=Math.min(hn,Sn);if(We<0)G[_+32>>2]=+(Sn!=hn&&At==mt);else if(We>0!=(At==mt)){var Zn=Math.max(hn,Sn),Dr=We>0?At:Zn;ce.setTime(ce.getTime()+6e4*(Dr-mt))}G[_+24>>2]=ce.getDay();var Qn=0|Wo(ce);G[_+28>>2]=Qn,G[_>>2]=ce.getSeconds(),G[_+4>>2]=ce.getMinutes(),G[_+8>>2]=ce.getHours(),G[_+12>>2]=ce.getDate(),G[_+16>>2]=ce.getMonth(),G[_+20>>2]=ce.getYear();var xt=ce.getTime();return isNaN(xt)?-1:xt/1e3})();return(_=>{ts(_)})((we=E,+Math.abs(we)>=1?we>0?+Math.floor(we/4294967296)>>>0:~~+Math.ceil((we-+(~~we>>>0))/4294967296)>>>0:0)),E>>>0},q:(_,E)=>{if(To[_]&&(clearTimeout(To[_].id),delete To[_]),!E)return 0;var ce=setTimeout(()=>{delete To[_],(_=>{if(!P)try{_(),(()=>{if(!ui())try{_i(O)}catch(_){Mo(_)}})()}catch(E){Mo(E)}})(()=>ri(_,performance.now()))},E);return To[_]={id:ce,timeout_ms:E},0},s:(_,E,ce,We)=>{var mt=(new Date).getFullYear(),kn=new Date(mt,0,1),Sn=new Date(mt,6,1),hn=kn.getTimezoneOffset(),At=Sn.getTimezoneOffset(),Zn=Math.max(hn,At);Te[_>>2]=60*Zn,G[E>>2]=+(hn!=At);var Dr=Pt=>{var jn=Pt>=0?"-":"+",Ir=Math.abs(Pt);return`UTC${jn}${String(Math.floor(Ir/60)).padStart(2,"0")}${String(Ir%60).padStart(2,"0")}`},Qn=Dr(hn),xt=Dr(At);At<hn?(vi(Qn,ce,17),vi(xt,We,17)):(vi(Qn,We,17),vi(xt,ce,17))},a:(_,E,ce)=>((_,E,ce)=>{var We=((_,E)=>{Er.length=0;for(var ce;ce=D[_++];){var We=105!=ce;E+=(We&=112!=ce)&&E%8?4:0,Er.push(112==ce?Te[E>>2]:105==ce?G[E>>2]:be[E>>3]),E+=We?8:4}return Er})(E,ce);return Kt[_](...We)})(_,E,ce),d:()=>Date.now(),r:_=>{var E=D.length,ce=2147483648;if((_>>>=0)>ce)return!1;for(var We=1;We<=4;We*=2){var mt=E*(1+.2/We);mt=Math.min(mt,_+100663296);var kn=Math.min(ce,yi(Math.max(_,mt),65536));if(hs(kn))return!0}return!1},t:(_,E)=>{var ce=0;return bi().forEach((We,mt)=>{var kn=E+ce;Te[_+4*mt>>2]=kn,((_,E)=>{for(var ce=0;ce<_.length;++ce)ee[E++]=_.charCodeAt(ce);ee[E]=0})(We,kn),ce+=We.length+1}),0},u:(_,E)=>{var ce=bi();Te[_>>2]=ce.length;var We=0;return ce.forEach(mt=>We+=mt.length+1),Te[E>>2]=We,0},v:_i,e:_=>52,c:(_,E,ce,We)=>52,m:function g(_,E,ce,We,mt){return Lr(E,ce),70},g:(_,E,ce,We)=>{for(var mt=0,kn=0;kn<ce;kn++){var Sn=Te[E>>2],hn=Te[E+4>>2];E+=8;for(var At=0;At<hn;At++)W(_,D[Sn+At]);mt+=hn}return Te[We>>2]=mt,0},o:ps},ge=function Ae(){var _=function to(){return{a:Ke}}();function E(We,mt){return ge=function lo(_){var E={};for(var ce in _){var We=_[ce];E[ce]="function"==typeof We?vo(We):We}return E}(ge=We.exports),Le=ge.w,$e(),Kn=ge.Aa,function Me(_){_t.unshift(_)}(ge.x),function Io(){var _=Kn.get,E={};Kn.get=ce=>{var We=_.call(Kn,ce),mt=E[ce];return(!mt||mt.func!==We)&&(mt=E[ce]={func:We,wrapper:vo(We)}),mt.wrapper}}(),function Zt(_){if(ze--,d.monitorRunDependencies?.(ze),0==ze&&(null!==at&&(clearInterval(at),at=null),kt)){var E=kt;kt=null,E()}}(),ge}if(function rn(_){ze++,d.monitorRunDependencies?.(ze)}(),d.instantiateWasm)try{return d.instantiateWasm(_,E)}catch(We){ie(`Module.instantiateWasm callback failed with error: ${We}`),T(We)}return lr??=function Cr(){var _="fstools_web.wasm";return nr(_)?_:function q(_){return d.locateFile?d.locateFile(_,K):K+_}(_)}(),function ti(_,E,ce,We){return _||"function"!=typeof WebAssembly.instantiateStreaming||nr(E)||"function"!=typeof fetch?Xr(E,ce,We):fetch(E,{credentials:"same-origin"}).then(mt=>WebAssembly.instantiateStreaming(mt,ce).then(We,function(Sn){return ie(`wasm streaming compile failed: ${Sn}`),ie("falling back to ArrayBuffer instantiation"),Xr(E,ce,We)}))}(ke,lr,_,function ce(We){E(We.instance)}).catch(T),{}}(),fn=(d._free=_=>(d._free=ge.y)(_),d._malloc=_=>(d._malloc=ge.z)(_),d._webidl_free=_=>(d._webidl_free=ge.A)(_),d._webidl_malloc=_=>(d._webidl_malloc=ge.B)(_),d._emscripten_bind_VoidPtr___destroy___0=_=>(fn=d._emscripten_bind_VoidPtr___destroy___0=ge.C)(_)),hr=d._emscripten_bind_FSTools_FSTools_0=()=>(hr=d._emscripten_bind_FSTools_FSTools_0=ge.D)(),kr=d._emscripten_bind_FSTools_Malloc_1=(_,E)=>(kr=d._emscripten_bind_FSTools_Malloc_1=ge.E)(_,E),se=d._emscripten_bind_FSTools_Free_1=(_,E)=>(se=d._emscripten_bind_FSTools_Free_1=ge.F)(_,E),Wn=d._emscripten_bind_FSTools_Nullptr_0=_=>(Wn=d._emscripten_bind_FSTools_Nullptr_0=ge.G)(_),vs=d._emscripten_bind_FSTools___destroy___0=_=>(vs=d._emscripten_bind_FSTools___destroy___0=ge.H)(_),Pn=d._emscripten_bind_MkfsContext_MkfsContext_0=()=>(Pn=d._emscripten_bind_MkfsContext_MkfsContext_0=ge.I)(),ko=d._emscripten_bind_MkfsContext_Mkfs_2=(_,E,ce)=>(ko=d._emscripten_bind_MkfsContext_Mkfs_2=ge.J)(_,E,ce),Ro=d._emscripten_bind_MkfsContext_GetImage_0=_=>(Ro=d._emscripten_bind_MkfsContext_GetImage_0=ge.K)(_),ys=d._emscripten_bind_MkfsContext_GetImageSize_0=_=>(ys=d._emscripten_bind_MkfsContext_GetImageSize_0=ge.L)(_),La=d._emscripten_bind_MkfsContext___destroy___0=_=>(La=d._emscripten_bind_MkfsContext___destroy___0=ge.M)(_),aa=d._emscripten_bind_FsckContext_FsckContext_1=_=>(aa=d._emscripten_bind_FsckContext_FsckContext_1=ge.N)(_),Gs=d._emscripten_bind_FsckContext_GetImage_0=_=>(Gs=d._emscripten_bind_FsckContext_GetImage_0=ge.O)(_),la=d._emscripten_bind_FsckContext_GetDirtyPages_0=_=>(la=d._emscripten_bind_FsckContext_GetDirtyPages_0=ge.P)(_),Ji=d._emscripten_bind_FsckContext_GetImageSize_0=_=>(Ji=d._emscripten_bind_FsckContext_GetImageSize_0=ge.Q)(_),$a=d._emscripten_bind_FsckContext_Fsck_0=_=>($a=d._emscripten_bind_FsckContext_Fsck_0=ge.R)(_),ca=d._emscripten_bind_FsckContext_GetResult_0=_=>(ca=d._emscripten_bind_FsckContext_GetResult_0=ge.S)(_),ua=d._emscripten_bind_FsckContext___destroy___0=_=>(ua=d._emscripten_bind_FsckContext___destroy___0=ge.T)(_),Ba=d._emscripten_bind_GunzipContext_GunzipContext_3=(_,E,ce)=>(Ba=d._emscripten_bind_GunzipContext_GunzipContext_3=ge.U)(_,E,ce),Va=d._emscripten_bind_GunzipContext_GetState_0=_=>(Va=d._emscripten_bind_GunzipContext_GetState_0=ge.V)(_),ja=d._emscripten_bind_GunzipContext_Continue_0=_=>(ja=d._emscripten_bind_GunzipContext_Continue_0=ge.W)(_),Ga=d._emscripten_bind_GunzipContext_GetUncompressedData_0=_=>(Ga=d._emscripten_bind_GunzipContext_GetUncompressedData_0=ge.X)(_),da=d._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=_=>(da=d._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=ge.Y)(_),Ua=d._emscripten_bind_GunzipContext_GetUncompressedSize_0=_=>(Ua=d._emscripten_bind_GunzipContext_GetUncompressedSize_0=ge.Z)(_),Ha=d._emscripten_bind_GunzipContext_GetError_0=_=>(Ha=d._emscripten_bind_GunzipContext_GetError_0=ge._)(_),mr=d._emscripten_bind_GunzipContext___destroy___0=_=>(mr=d._emscripten_bind_GunzipContext___destroy___0=ge.$)(_),fa=d._emscripten_bind_GzipContext_GzipContext_3=(_,E,ce)=>(fa=d._emscripten_bind_GzipContext_GzipContext_3=ge.aa)(_,E,ce),ro=d._emscripten_bind_GzipContext_SetFilename_1=(_,E)=>(ro=d._emscripten_bind_GzipContext_SetFilename_1=ge.ba)(_,E),Lt=d._emscripten_bind_GzipContext_SetMtime_1=(_,E)=>(Lt=d._emscripten_bind_GzipContext_SetMtime_1=ge.ca)(_,E),pa=d._emscripten_bind_GzipContext_Continue_0=_=>(pa=d._emscripten_bind_GzipContext_Continue_0=ge.da)(_),Us=d._emscripten_bind_GzipContext_GetState_0=_=>(Us=d._emscripten_bind_GzipContext_GetState_0=ge.ea)(_),zr=d._emscripten_bind_GzipContext_GetGzipData_0=_=>(zr=d._emscripten_bind_GzipContext_GetGzipData_0=ge.fa)(_),Hs=d._emscripten_bind_GzipContext_GetGzipSize_0=_=>(Hs=d._emscripten_bind_GzipContext_GetGzipSize_0=ge.ga)(_),za=d._emscripten_bind_GzipContext_GetError_0=_=>(za=d._emscripten_bind_GzipContext_GetError_0=ge.ha)(_),Mn=d._emscripten_bind_GzipContext___destroy___0=_=>(Mn=d._emscripten_bind_GzipContext___destroy___0=ge.ia)(_),bs=d._emscripten_bind_CreateZipContext_CreateZipContext_0=()=>(bs=d._emscripten_bind_CreateZipContext_CreateZipContext_0=ge.ja)(),gr=d._emscripten_bind_CreateZipContext_Initialize_1=(_,E)=>(gr=d._emscripten_bind_CreateZipContext_Initialize_1=ge.ka)(_,E),zs=d._emscripten_bind_CreateZipContext_AddEntry_1=(_,E)=>(zs=d._emscripten_bind_CreateZipContext_AddEntry_1=ge.la)(_,E),wl=d._emscripten_bind_CreateZipContext_WriteData_2=(_,E,ce)=>(wl=d._emscripten_bind_CreateZipContext_WriteData_2=ge.ma)(_,E,ce),Wa=d._emscripten_bind_CreateZipContext_GetZipData_0=_=>(Wa=d._emscripten_bind_CreateZipContext_GetZipData_0=ge.na)(_),On=d._emscripten_bind_CreateZipContext_GetZipDataSize_0=_=>(On=d._emscripten_bind_CreateZipContext_GetZipDataSize_0=ge.oa)(_),Bt=d._emscripten_bind_CreateZipContext_GetLastError_0=_=>(Bt=d._emscripten_bind_CreateZipContext_GetLastError_0=ge.pa)(_),Cs=d._emscripten_bind_CreateZipContext___destroy___0=_=>(Cs=d._emscripten_bind_CreateZipContext___destroy___0=ge.qa)(_),Ws=d._emscripten_bind_ZipfileWalker_ZipfileWalker_2=(_,E)=>(Ws=d._emscripten_bind_ZipfileWalker_ZipfileWalker_2=ge.ra)(_,E),El=d._emscripten_bind_ZipfileWalker_GetState_0=_=>(El=d._emscripten_bind_ZipfileWalker_GetState_0=ge.sa)(_),ha=d._emscripten_bind_ZipfileWalker_Next_0=_=>(ha=d._emscripten_bind_ZipfileWalker_Next_0=ge.ta)(_),Je=d._emscripten_bind_ZipfileWalker_GetTotalEntries_0=_=>(Je=d._emscripten_bind_ZipfileWalker_GetTotalEntries_0=ge.ua)(_),Mi=d._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=_=>(Mi=d._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=ge.va)(_),es=d._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=_=>(es=d._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=ge.wa)(_),Zs=d._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=_=>(Zs=d._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=ge.xa)(_),qs=d._emscripten_bind_ZipfileWalker___destroy___0=_=>(qs=d._emscripten_bind_ZipfileWalker___destroy___0=ge.ya)(_),ma=d._main=(_,E)=>(ma=d._main=ge.za)(_,E),ri=(_,E)=>(ri=ge.Ba)(_,E),ts=_=>(ts=ge.Ca)(_),ga=()=>(ga=ge.Da)(),Ut=()=>(Ut=ge.Ea)(),In=()=>(In=ge.Fa)();function Za(){function _(){Ks||(Ks=!0,d.calledRun=!0,!P&&(function Dt(){ye(),bn(_t)}(),function Ot(){ye(),bn(fe)}(),x(d),d.onRuntimeInitialized?.(),Ys&&function Dl(){var _=ma;try{xn++;var We=_(0,0);return Ki(We),We}catch(mt){return Mo(mt)}finally{xn--}}(),function $t(){if(ye(),d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)_=d.postRun.shift(),je.unshift(_);var _;bn(je)}()))}ze>0||(function ic(){ga(),function ve(){var _=Ut();0==_&&(_+=4),Te[_>>2]=34821223,Te[_+4>>2]=2310721022,Te[0]=1668509029}()}(),function He(){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)_=d.preRun.shift(),Qe.unshift(_);var _;bn(Qe)}(),ze>0)||(d.setStatus?(d.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>d.setStatus(""),1),_()},1)):_(),ye())}if(d.___original_main=()=>(d.___original_main=ge.Ga)(),kt=function _(){Ks||Za(),Ks||(kt=_)},d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();var Ys=!0;function An(){}function fi(_){return(_||An).__cache__}function oo(_,E){var ce=fi(E),We=ce[_];return We||((We=Object.create((E||An).prototype)).ptr=_,ce[_]=We)}d.noInitialRun&&(Ys=!1),Za(),(An.prototype=Object.create(An.prototype)).constructor=An,An.prototype.__class__=An,An.__cache__={},d.WrapperObject=An,d.getCache=fi,d.wrapPointer=oo,d.castObject=function sc(_,E){return oo(_.ptr,E)},d.NULL=oo(0),d.destroy=function Ci(_){if(!_.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";_.__destroy__(),delete fi(_.__class__)[_.ptr]},d.compare=function ac(_,E){return _.ptr===E.ptr},d.getPointer=function lc(_){return _.ptr},d.getClass=function cc(_){return _.__class__};var Vn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(Vn.needed){for(var _=0;_<Vn.temps.length;_++)d._webidl_free(Vn.temps[_]);Vn.temps.length=0,d._webidl_free(Vn.buffer),Vn.buffer=0,Vn.size+=Vn.needed,Vn.needed=0}Vn.buffer||(Vn.size+=128,Vn.buffer=d._webidl_malloc(Vn.size),ne(Vn.buffer)),Vn.pos=0},alloc(_,E){ne(Vn.buffer);var mt,We=_.length*E.BYTES_PER_ELEMENT;return We=yi(We,8),Vn.pos+We>=Vn.size?(ne(We>0),Vn.needed+=We,mt=d._webidl_malloc(We),Vn.temps.push(mt)):(mt=Vn.buffer+Vn.pos,Vn.pos+=We),mt},copy(_,E,ce){ce/=E.BYTES_PER_ELEMENT;for(var We=0;We<_.length;We++)E[ce+We]=_[We]}};function _a(_){if("string"==typeof _){var E=function de(_,E,ce){var We=ce>0?ce:(_=>{for(var E=0,ce=0;ce<_.length;++ce){var We=_.charCodeAt(ce);We<=127?E++:We<=2047?E+=2:We>=55296&&We<=57343?(E+=4,++ce):E+=3}return E})(_)+1,mt=new Array(We),kn=no(_,mt,0,mt.length);return E&&(mt.length=kn),mt}(_),ce=Vn.alloc(E,ee);return Vn.copy(E,ee,ce),ce}return _}function Rr(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Qr(){this.ptr=hr(),fi(Qr)[this.ptr]=this}function co(){this.ptr=Pn(),fi(co)[this.ptr]=this}function pn(_){_&&"object"==typeof _&&(_=_.ptr),this.ptr=aa(_),fi(pn)[this.ptr]=this}function vt(_,E,ce){_&&"object"==typeof _&&(_=_.ptr),E&&"object"==typeof E&&(E=E.ptr),ce&&"object"==typeof ce&&(ce=ce.ptr),this.ptr=Ba(_,E,ce),fi(vt)[this.ptr]=this}function Xn(_,E,ce){_&&"object"==typeof _&&(_=_.ptr),E&&"object"==typeof E&&(E=E.ptr),ce&&"object"==typeof ce&&(ce=ce.ptr),this.ptr=fa(_,E,ce),fi(Xn)[this.ptr]=this}function _r(){this.ptr=bs(),fi(_r)[this.ptr]=this}function vr(_,E){_&&"object"==typeof _&&(_=_.ptr),E&&"object"==typeof E&&(E=E.ptr),this.ptr=Ws(_,E),fi(vr)[this.ptr]=this}return(Rr.prototype=Object.create(An.prototype)).constructor=Rr,Rr.prototype.__class__=Rr,Rr.__cache__={},d.VoidPtr=Rr,Rr.prototype.__destroy__=Rr.prototype.__destroy__=function(){fn(this.ptr)},(Qr.prototype=Object.create(An.prototype)).constructor=Qr,Qr.prototype.__class__=Qr,Qr.__cache__={},d.FSTools=Qr,Qr.prototype.Malloc=Qr.prototype.Malloc=function(_){return _&&"object"==typeof _&&(_=_.ptr),oo(kr(this.ptr,_),Rr)},Qr.prototype.Free=Qr.prototype.Free=function(_){_&&"object"==typeof _&&(_=_.ptr),se(this.ptr,_)},Qr.prototype.Nullptr=Qr.prototype.Nullptr=function(){return oo(Wn(this.ptr),Rr)},Qr.prototype.__destroy__=Qr.prototype.__destroy__=function(){vs(this.ptr)},(co.prototype=Object.create(An.prototype)).constructor=co,co.prototype.__class__=co,co.__cache__={},d.MkfsContext=co,co.prototype.Mkfs=co.prototype.Mkfs=function(_,E){var ce=this.ptr;return Vn.prepare(),_&&"object"==typeof _&&(_=_.ptr),E=E&&"object"==typeof E?E.ptr:_a(E),!!ko(ce,_,E)},co.prototype.GetImage=co.prototype.GetImage=function(){return oo(Ro(this.ptr),Rr)},co.prototype.GetImageSize=co.prototype.GetImageSize=function(){return ys(this.ptr)},co.prototype.__destroy__=co.prototype.__destroy__=function(){La(this.ptr)},(pn.prototype=Object.create(An.prototype)).constructor=pn,pn.prototype.__class__=pn,pn.__cache__={},d.FsckContext=pn,pn.prototype.GetImage=pn.prototype.GetImage=function(){return oo(Gs(this.ptr),Rr)},pn.prototype.GetDirtyPages=pn.prototype.GetDirtyPages=function(){return oo(la(this.ptr),Rr)},pn.prototype.GetImageSize=pn.prototype.GetImageSize=function(){return Ji(this.ptr)},pn.prototype.Fsck=pn.prototype.Fsck=function(){return $a(this.ptr)},pn.prototype.GetResult=pn.prototype.GetResult=function(){return ca(this.ptr)},pn.prototype.__destroy__=pn.prototype.__destroy__=function(){ua(this.ptr)},(vt.prototype=Object.create(An.prototype)).constructor=vt,vt.prototype.__class__=vt,vt.__cache__={},d.GunzipContext=vt,vt.prototype.GetState=vt.prototype.GetState=function(){return Va(this.ptr)},vt.prototype.Continue=vt.prototype.Continue=function(){return ja(this.ptr)},vt.prototype.GetUncompressedData=vt.prototype.GetUncompressedData=function(){return oo(Ga(this.ptr),Rr)},vt.prototype.ReleaseUncompressedData=vt.prototype.ReleaseUncompressedData=function(){return oo(da(this.ptr),Rr)},vt.prototype.GetUncompressedSize=vt.prototype.GetUncompressedSize=function(){return Ua(this.ptr)},vt.prototype.GetError=vt.prototype.GetError=function(){return on(Ha(this.ptr))},vt.prototype.__destroy__=vt.prototype.__destroy__=function(){mr(this.ptr)},(Xn.prototype=Object.create(An.prototype)).constructor=Xn,Xn.prototype.__class__=Xn,Xn.__cache__={},d.GzipContext=Xn,Xn.prototype.SetFilename=Xn.prototype.SetFilename=function(_){var E=this.ptr;return Vn.prepare(),_=_&&"object"==typeof _?_.ptr:_a(_),oo(ro(E,_),Xn)},Xn.prototype.SetMtime=Xn.prototype.SetMtime=function(_){return _&&"object"==typeof _&&(_=_.ptr),oo(Lt(this.ptr,_),Xn)},Xn.prototype.Continue=Xn.prototype.Continue=function(){return pa(this.ptr)},Xn.prototype.GetState=Xn.prototype.GetState=function(){return Us(this.ptr)},Xn.prototype.GetGzipData=Xn.prototype.GetGzipData=function(){return oo(zr(this.ptr),Rr)},Xn.prototype.GetGzipSize=Xn.prototype.GetGzipSize=function(){return Hs(this.ptr)},Xn.prototype.GetError=Xn.prototype.GetError=function(){return on(za(this.ptr))},Xn.prototype.__destroy__=Xn.prototype.__destroy__=function(){Mn(this.ptr)},(_r.prototype=Object.create(An.prototype)).constructor=_r,_r.prototype.__class__=_r,_r.__cache__={},d.CreateZipContext=_r,_r.prototype.Initialize=_r.prototype.Initialize=function(_){return _&&"object"==typeof _&&(_=_.ptr),!!gr(this.ptr,_)},_r.prototype.AddEntry=_r.prototype.AddEntry=function(_){var E=this.ptr;return Vn.prepare(),_=_&&"object"==typeof _?_.ptr:_a(_),!!zs(E,_)},_r.prototype.WriteData=_r.prototype.WriteData=function(_,E){return _&&"object"==typeof _&&(_=_.ptr),E&&"object"==typeof E&&(E=E.ptr),!!wl(this.ptr,_,E)},_r.prototype.GetZipData=_r.prototype.GetZipData=function(){return oo(Wa(this.ptr),Rr)},_r.prototype.GetZipDataSize=_r.prototype.GetZipDataSize=function(){return On(this.ptr)},_r.prototype.GetLastError=_r.prototype.GetLastError=function(){return on(Bt(this.ptr))},_r.prototype.__destroy__=_r.prototype.__destroy__=function(){Cs(this.ptr)},(vr.prototype=Object.create(An.prototype)).constructor=vr,vr.prototype.__class__=vr,vr.__cache__={},d.ZipfileWalker=vr,vr.prototype.GetState=vr.prototype.GetState=function(){return El(this.ptr)},vr.prototype.Next=vr.prototype.Next=function(){return ha(this.ptr)},vr.prototype.GetTotalEntries=vr.prototype.GetTotalEntries=function(){return Je(this.ptr)},vr.prototype.GetCurrentEntrySize=vr.prototype.GetCurrentEntrySize=function(){return Mi(this.ptr)},vr.prototype.GetCurrentEntryName=vr.prototype.GetCurrentEntryName=function(){return on(es(this.ptr))},vr.prototype.GetCurrentEntryContent=vr.prototype.GetCurrentEntryContent=function(){return oo(Zs(this.ptr),Rr)},vr.prototype.__destroy__=vr.prototype.__destroy__=function(){qs(this.ptr)},Q});ue.exports=M},8886:(ue,xe,S)=>{var B,w=S(4144).default,M=(B=typeof document<"u"?document.currentScript?.src:void 0,function(Z={}){var x,T,N,oe,d=Z,Q=new Promise((h,A)=>{x=h,T=A}),H="object"==typeof window,k=typeof WorkerGlobalScope<"u",R=("object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node&&process,Object.assign({},d)),he="./this.program",Ie=(h,A)=>{throw A},K="";(H||k)&&(k?K=self.location.href:typeof document<"u"&&document.currentScript&&(K=document.currentScript.src),B&&(K=B),K=K.startsWith("blob:")?"":K.substr(0,K.replace(/[?#].*/,"").lastIndexOf("/")+1),k&&(oe=h=>{var A=new XMLHttpRequest;return A.open("GET",h,!1),A.responseType="arraybuffer",A.send(null),new Uint8Array(A.response)}),N=h=>fetch(h,{credentials:"same-origin"}).then(A=>A.ok?A.arrayBuffer():Promise.reject(new Error(A.status+" : "+A.url))));var pe=d.print||console.log.bind(console),ie=d.printErr||console.error.bind(console);Object.assign(d,R),R=null,d.thisProgram&&(he=d.thisProgram);var Le,O,ee,D,G,Te,ke=d.wasmBinary,P=!1;function ne(h,A){h||Ft(A)}function $e(){var h=Le.buffer;d.HEAP8=ee=new Int8Array(h),d.HEAP16=new Int16Array(h),d.HEAPU8=D=new Uint8Array(h),d.HEAPU16=new Uint16Array(h),d.HEAP32=G=new Int32Array(h),d.HEAPU32=Te=new Uint32Array(h),d.HEAPF32=new Float32Array(h),d.HEAPF64=new Float64Array(h)}function ye(){if(!P){var h=Rr();0==h&&(h+=4);var A=Te[h>>2],Ce=Te[h+4>>2];(34821223!=A||2310721022!=Ce)&&Ft(`Stack overflow! Stack cookie has been overwritten at ${zt(h)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${zt(Ce)} ${zt(A)}`),1668509029!=Te[0]&&Ft("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var Qe=[],_t=[],fe=[],je=[],ze=0,at=null,kt=null;function Ft(h){d.onAbort?.(h),ie(h="Aborted("+h+")"),P=!0,h+=". Build with -sASSERTIONS for more info.";var A=new WebAssembly.RuntimeError(h);throw T(A),A}var lr,we,nr=h=>h.startsWith("data:application/octet-stream;base64,"),xn=0;function vo(h){return(...A)=>{if(P)throw"program has already aborted!";xn++;try{return h(...A)}catch(Ce){if(P||xn>1||Ce===1/0||"unwind"===Ce)throw Ce;Ft("unhandled exception: "+[Ce,Ce.stack])}finally{xn--}}}function eo(h){if(h==lr&&ke)return new Uint8Array(ke);if(oe)return oe(h);throw"both async and sync fetching of the wasm failed"}function Xr(h,A,Ce){return function xo(h){return ke?Promise.resolve().then(()=>eo(h)):N(h).then(A=>new Uint8Array(A),()=>eo(h))}(h).then(tt=>WebAssembly.instantiate(tt,A)).then(Ce,tt=>{ie(`failed to asynchronously prepare wasm: ${tt}`),Ft(tt)})}class Kt{constructor(A){w(this,"name","ExitStatus"),this.message=`Program terminated with exit(${A})`,this.status=A}}var Cn,pn,en=h=>{for(;h.length>0;)h.shift()(d)},bn=d.noExitRuntime||!0,zt=h=>"0x"+(h>>>=0).toString(16).padStart(8,"0"),Kn=typeof TextDecoder<"u"?new TextDecoder:void 0,fr=(h,A=0,Ce=NaN)=>{for(var tt=A+Ce,Be=A;h[Be]&&!(Be>=tt);)++Be;if(Be-A>16&&h.buffer&&Kn)return Kn.decode(h.subarray(A,Be));for(var Ln="";A<Be;){var Rn=h[A++];if(128&Rn){var _n=63&h[A++];if(192!=(224&Rn)){var Pr=63&h[A++];if((Rn=224==(240&Rn)?(15&Rn)<<12|_n<<6|Pr:(7&Rn)<<18|_n<<12|Pr<<6|63&h[A++])<65536)Ln+=String.fromCharCode(Rn);else{var Ss=Rn-65536;Ln+=String.fromCharCode(55296|Ss>>10,56320|1023&Ss)}}else Ln+=String.fromCharCode((31&Rn)<<6|_n)}else Ln+=String.fromCharCode(Rn)}return Ln},Yn=(h,A)=>h?fr(D,h,A):"",yo=(h,A)=>A+2097152>>>0<4194305-!!h?(h>>>0)+4294967296*A:NaN,Sr=0,mi=[0,31,60,91,121,152,182,213,244,274,305,335],Jt=[0,31,59,90,120,151,181,212,243,273,304,334],Ho=h=>((h=>h%4==0&&(h%100!=0||h%400==0))(h.getFullYear())?mi:Jt)[h.getMonth()]+h.getDate()-1,re={},gi=h=>{if(h instanceof Kt||"unwind"==h)return O;ye(),h instanceof WebAssembly.RuntimeError&&Qr()<=0&&ie("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 1048576)"),Ie(0,h)},To=()=>bn||Sr>0,Mo=h=>{O=h,To()||(d.onExit?.(h),P=!0),Ie(0,new Kt(h))},ui=(h,A)=>{O=h,Mo(h)},ps=ui,Xi=(h,A,Ce,tt)=>{if(!(tt>0))return 0;for(var Be=Ce,Ln=Ce+tt-1,Rn=0;Rn<h.length;++Rn){var _n=h.charCodeAt(Rn);if(_n>=55296&&_n<=57343&&(_n=65536+((1023&_n)<<10)|1023&h.charCodeAt(++Rn)),_n<=127){if(Ce>=Ln)break;A[Ce++]=_n}else if(_n<=2047){if(Ce+1>=Ln)break;A[Ce++]=192|_n>>6,A[Ce++]=128|63&_n}else if(_n<=65535){if(Ce+2>=Ln)break;A[Ce++]=224|_n>>12,A[Ce++]=128|_n>>6&63,A[Ce++]=128|63&_n}else{if(Ce+3>=Ln)break;A[Ce++]=240|_n>>18,A[Ce++]=128|_n>>12&63,A[Ce++]=128|_n>>6&63,A[Ce++]=128|63&_n}}return A[Ce]=0,Ce-Be},ni=(h,A,Ce)=>Xi(h,D,A,Ce),Er=(h,A)=>Math.ceil(h/A)*A,Ao=h=>{var Ce=(h-Le.buffer.byteLength+65535)/65536|0;try{return Le.grow(Ce),$e(),1}catch{}},cr={},xi=()=>{if(!xi.strings){var A={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:he||"./this.program"};for(var Ce in cr)void 0===cr[Ce]?delete A[Ce]:A[Ce]=cr[Ce];var tt=[];for(var Ce in A)tt.push(`${Ce}=${A[Ce]}`);xi.strings=tt}return xi.strings},ms=[null,[],[]],gs=(h,A)=>{var Ce=ms[h];0===A||10===A?((1===h?pe:ie)(fr(Ce)),Ce.length=0):Ce.push(A)},Sl=h=>{for(var A=0,Ce=0;Ce<h.length;++Ce){var tt=h.charCodeAt(Ce);tt<=127?A++:tt<=2047?A+=2:tt>=55296&&tt<=57343?(A+=4,++Ce):A+=3}return A},g={a:(h,A,Ce,tt)=>{Ft(`Assertion failed: ${Yn(h)}, at: `+[A?Yn(A):"unknown filename",Ce,tt?Yn(tt):"unknown function"])},m:function Lr(h,A,Ce){yo(A,Ce)},s:()=>{Ft("")},i:()=>1,e:(h,A,Ce)=>D.copyWithin(h,A,A+Ce),o:()=>{bn=!1,Sr=0},j:function zo(h,A,Ce){var tt=yo(h,A),Be=new Date(1e3*tt);G[Ce>>2]=Be.getSeconds(),G[Ce+4>>2]=Be.getMinutes(),G[Ce+8>>2]=Be.getHours(),G[Ce+12>>2]=Be.getDate(),G[Ce+16>>2]=Be.getMonth(),G[Ce+20>>2]=Be.getFullYear()-1900,G[Ce+24>>2]=Be.getDay();var Ln=0|Ho(Be);G[Ce+28>>2]=Ln,G[Ce+36>>2]=-60*Be.getTimezoneOffset();var Rn=new Date(Be.getFullYear(),0,1),_n=new Date(Be.getFullYear(),6,1).getTimezoneOffset(),Pr=Rn.getTimezoneOffset(),Ss=0|(_n!=Pr&&Be.getTimezoneOffset()==Math.min(Pr,_n));G[Ce+32>>2]=Ss},k:function(h){var A=(()=>{var Ce=new Date(G[h+20>>2]+1900,G[h+16>>2],G[h+12>>2],G[h+8>>2],G[h+4>>2],G[h>>2],0),tt=G[h+32>>2],Be=Ce.getTimezoneOffset(),Ln=new Date(Ce.getFullYear(),0,1),Rn=new Date(Ce.getFullYear(),6,1).getTimezoneOffset(),_n=Ln.getTimezoneOffset(),Pr=Math.min(_n,Rn);if(tt<0)G[h+32>>2]=+(Rn!=_n&&Pr==Be);else if(tt>0!=(Pr==Be)){var Ss=Math.max(_n,Rn),va=tt>0?Pr:Ss;Ce.setTime(Ce.getTime()+6e4*(va-Be))}G[h+24>>2]=Ce.getDay();var uc=0|Ho(Ce);G[h+28>>2]=uc,G[h>>2]=Ce.getSeconds(),G[h+4>>2]=Ce.getMinutes(),G[h+8>>2]=Ce.getHours(),G[h+12>>2]=Ce.getDate(),G[h+16>>2]=Ce.getMonth(),G[h+20>>2]=Ce.getYear();var Il=Ce.getTime();return isNaN(Il)?-1:Il/1e3})();return(h=>{Vn(h)})((we=A,+Math.abs(we)>=1?we>0?+Math.floor(we/4294967296)>>>0:~~+Math.ceil((we-+(~~we>>>0))/4294967296)>>>0:0)),A>>>0},p:(h,A)=>{if(re[h]&&(clearTimeout(re[h].id),delete re[h]),!A)return 0;var Ce=setTimeout(()=>{delete re[h],(h=>{if(!P)try{h(),(()=>{if(!To())try{ps(O)}catch(h){gi(h)}})()}catch(A){gi(A)}})(()=>cc(h,performance.now()))},A);return re[h]={id:Ce,timeout_ms:A},0},d:(h,A,Ce,tt)=>{var Be=(new Date).getFullYear(),Ln=new Date(Be,0,1),Rn=new Date(Be,6,1),_n=Ln.getTimezoneOffset(),Pr=Rn.getTimezoneOffset(),Ss=Math.max(_n,Pr);Te[h>>2]=60*Ss,G[A>>2]=+(_n!=Pr);var va=Bu=>{var yf=Bu>=0?"-":"+",Vu=Math.abs(Bu);return`UTC${yf}${String(Math.floor(Vu/60)).padStart(2,"0")}${String(Vu%60).padStart(2,"0")}`},uc=va(_n),Il=va(Pr);Pr<_n?(ni(uc,Ce,17),ni(Il,tt,17)):(ni(uc,tt,17),ni(Il,Ce,17))},b:()=>Date.now(),c:h=>{var A=D.length,Ce=2147483648;if((h>>>=0)>Ce)return!1;for(var tt=1;tt<=4;tt*=2){var Be=A*(1+.2/tt);Be=Math.min(Be,h+100663296);var Ln=Math.min(Ce,Er(Math.max(h,Be),65536));if(Ao(Ln))return!0}return!1},q:(h,A)=>{var Ce=0;return xi().forEach((tt,Be)=>{var Ln=A+Ce;Te[h+4*Be>>2]=Ln,((h,A)=>{for(var Ce=0;Ce<h.length;++Ce)ee[A++]=h.charCodeAt(Ce);ee[A]=0})(tt,Ln),Ce+=tt.length+1}),0},r:(h,A)=>{var Ce=xi();Te[h>>2]=Ce.length;var tt=0;return Ce.forEach(Be=>tt+=Be.length+1),Te[A>>2]=tt,0},f:h=>52,h:(h,A,Ce,tt)=>52,l:function bi(h,A,Ce,tt,Be){return yo(A,Ce),70},g:(h,A,Ce,tt)=>{for(var Be=0,Ln=0;Ln<Ce;Ln++){var Rn=Te[A>>2],_n=Te[A+4>>2];A+=8;for(var Pr=0;Pr<_n;Pr++)gs(h,D[Rn+Pr]);Be+=_n}return Te[tt>>2]=Be,0},n:Mo},y=function Ae(){var h=function to(){return{a:g}}();function A(tt,Be){return y=function lo(h){var A={};for(var Ce in h){var tt=h[Ce];A[Ce]="function"==typeof tt?vo(tt):tt}return A}(y=tt.exports),Le=y.t,$e(),Cn=y.Va,function Me(h){_t.unshift(h)}(y.u),function Io(){var h=Cn.get,A={};Cn.get=Ce=>{var tt=h.call(Cn,Ce),Be=A[Ce];return(!Be||Be.func!==tt)&&(Be=A[Ce]={func:tt,wrapper:vo(tt)}),Be.wrapper}}(),function Zt(h){if(ze--,d.monitorRunDependencies?.(ze),0==ze&&(null!==at&&(clearInterval(at),at=null),kt)){var A=kt;kt=null,A()}}(),y}if(function rn(h){ze++,d.monitorRunDependencies?.(ze)}(),d.instantiateWasm)try{return d.instantiateWasm(h,A)}catch(tt){ie(`Module.instantiateWasm callback failed with error: ${tt}`),T(tt)}return lr??=function Cr(){var h="vfs_web.wasm";return nr(h)?h:function q(h){return d.locateFile?d.locateFile(h,K):K+h}(h)}(),function ti(h,A,Ce,tt){return h||"function"!=typeof WebAssembly.instantiateStreaming||nr(A)||"function"!=typeof fetch?Xr(A,Ce,tt):fetch(A,{credentials:"same-origin"}).then(Be=>WebAssembly.instantiateStreaming(Be,Ce).then(tt,function(Rn){return ie(`wasm streaming compile failed: ${Rn}`),ie("falling back to ArrayBuffer instantiation"),Xr(A,Ce,tt)}))}(ke,lr,h,function Ce(tt){A(tt.instance)}).catch(T),{}}(),ge=(d._malloc=h=>(d._malloc=y.v)(h),d._free=h=>(d._free=y.w)(h),d._webidl_free=h=>(d._webidl_free=y.x)(h),d._webidl_malloc=h=>(d._webidl_malloc=y.y)(h),d._emscripten_bind_VoidPtr___destroy___0=h=>(ge=d._emscripten_bind_VoidPtr___destroy___0=y.z)(h)),et=d._emscripten_bind_FileEntry_GetName_0=h=>(et=d._emscripten_bind_FileEntry_GetName_0=y.A)(h),Ge=d._emscripten_bind_FileEntry_IsDirectory_0=h=>(Ge=d._emscripten_bind_FileEntry_IsDirectory_0=y.B)(h),ut=d._emscripten_bind_FileEntry_GetSize_0=h=>(ut=d._emscripten_bind_FileEntry_GetSize_0=y.C)(h),bt=d._emscripten_bind_FileEntry_GetModifiedTS_0=h=>(bt=d._emscripten_bind_FileEntry_GetModifiedTS_0=y.D)(h),Ct=d._emscripten_bind_FileEntry_GetAttributes_0=h=>(Ct=d._emscripten_bind_FileEntry_GetAttributes_0=y.E)(h),fn=d._emscripten_bind_FileEntry___destroy___0=h=>(fn=d._emscripten_bind_FileEntry___destroy___0=y.F)(h),hr=d._emscripten_bind_Vfs_Vfs_0=()=>(hr=d._emscripten_bind_Vfs_Vfs_0=y.G)(),kr=d._emscripten_bind_Vfs_Malloc_1=(h,A)=>(kr=d._emscripten_bind_Vfs_Malloc_1=y.H)(h,A),se=d._emscripten_bind_Vfs_Free_1=(h,A)=>(se=d._emscripten_bind_Vfs_Free_1=y.I)(h,A),Wn=d._emscripten_bind_Vfs_Nullptr_0=h=>(Wn=d._emscripten_bind_Vfs_Nullptr_0=y.J)(h),vs=d._emscripten_bind_Vfs_AllocateImage_1=(h,A)=>(vs=d._emscripten_bind_Vfs_AllocateImage_1=y.K)(h,A),Pn=d._emscripten_bind_Vfs_MountImage_1=(h,A)=>(Pn=d._emscripten_bind_Vfs_MountImage_1=y.L)(h,A),ko=d._emscripten_bind_Vfs_UnmountImage_1=(h,A)=>(ko=d._emscripten_bind_Vfs_UnmountImage_1=y.M)(h,A),Ro=d._emscripten_bind_Vfs_SwitchSlot_1=(h,A)=>(Ro=d._emscripten_bind_Vfs_SwitchSlot_1=y.N)(h,A),ys=d._emscripten_bind_Vfs_GetPendingImageSize_0=h=>(ys=d._emscripten_bind_Vfs_GetPendingImageSize_0=y.O)(h),La=d._emscripten_bind_Vfs_GetSize_1=(h,A)=>(La=d._emscripten_bind_Vfs_GetSize_1=y.P)(h,A),aa=d._emscripten_bind_Vfs_GetPendingImage_0=h=>(aa=d._emscripten_bind_Vfs_GetPendingImage_0=y.Q)(h),Gs=d._emscripten_bind_Vfs_GetImage_1=(h,A)=>(Gs=d._emscripten_bind_Vfs_GetImage_1=y.R)(h,A),la=d._emscripten_bind_Vfs_GetDirtyPages_1=(h,A)=>(la=d._emscripten_bind_Vfs_GetDirtyPages_1=y.S)(h,A),Ji=d._emscripten_bind_Vfs_RenameFile_2=(h,A,Ce)=>(Ji=d._emscripten_bind_Vfs_RenameFile_2=y.T)(h,A,Ce),$a=d._emscripten_bind_Vfs_ChmodFile_3=(h,A,Ce,tt)=>($a=d._emscripten_bind_Vfs_ChmodFile_3=y.U)(h,A,Ce,tt),ca=d._emscripten_bind_Vfs_StatFile_1=(h,A)=>(ca=d._emscripten_bind_Vfs_StatFile_1=y.V)(h,A),ua=d._emscripten_bind_Vfs_UnlinkFile_1=(h,A)=>(ua=d._emscripten_bind_Vfs_UnlinkFile_1=y.W)(h,A),Ba=d._emscripten_bind_Vfs_Mkdir_1=(h,A)=>(Ba=d._emscripten_bind_Vfs_Mkdir_1=y.X)(h,A),Va=d._emscripten_bind_Vfs_GetEntry_0=h=>(Va=d._emscripten_bind_Vfs_GetEntry_0=y.Y)(h),ja=d._emscripten_bind_Vfs_BytesFree_1=(h,A)=>(ja=d._emscripten_bind_Vfs_BytesFree_1=y.Z)(h,A),Ga=d._emscripten_bind_Vfs_BytesTotal_1=(h,A)=>(Ga=d._emscripten_bind_Vfs_BytesTotal_1=y._)(h,A),da=d._emscripten_bind_Vfs_ReadFile_1=(h,A)=>(da=d._emscripten_bind_Vfs_ReadFile_1=y.$)(h,A),Ua=d._emscripten_bind_Vfs_GetCurrentFileSize_0=h=>(Ua=d._emscripten_bind_Vfs_GetCurrentFileSize_0=y.aa)(h),Ha=d._emscripten_bind_Vfs_GetCurrentFileContent_0=h=>(Ha=d._emscripten_bind_Vfs_GetCurrentFileContent_0=y.ba)(h),mr=d._emscripten_bind_Vfs_ReleaseCurrentFile_0=h=>(mr=d._emscripten_bind_Vfs_ReleaseCurrentFile_0=y.ca)(h),fa=d._emscripten_bind_Vfs_WriteFile_3=(h,A,Ce,tt)=>(fa=d._emscripten_bind_Vfs_WriteFile_3=y.da)(h,A,Ce,tt),ro=d._emscripten_bind_Vfs___destroy___0=h=>(ro=d._emscripten_bind_Vfs___destroy___0=y.ea)(h),Lt=d._emscripten_bind_ReaddirContext_ReaddirContext_1=h=>(Lt=d._emscripten_bind_ReaddirContext_ReaddirContext_1=y.fa)(h),pa=d._emscripten_bind_ReaddirContext_Next_0=h=>(pa=d._emscripten_bind_ReaddirContext_Next_0=y.ga)(h),Us=d._emscripten_bind_ReaddirContext_GetEntry_0=h=>(Us=d._emscripten_bind_ReaddirContext_GetEntry_0=y.ha)(h),zr=d._emscripten_bind_ReaddirContext_GetStatus_0=h=>(zr=d._emscripten_bind_ReaddirContext_GetStatus_0=y.ia)(h),Hs=d._emscripten_bind_ReaddirContext_GetError_0=h=>(Hs=d._emscripten_bind_ReaddirContext_GetError_0=y.ja)(h),za=d._emscripten_bind_ReaddirContext_GetErrorDescription_0=h=>(za=d._emscripten_bind_ReaddirContext_GetErrorDescription_0=y.ka)(h),Mn=d._emscripten_bind_ReaddirContext___destroy___0=h=>(Mn=d._emscripten_bind_ReaddirContext___destroy___0=y.la)(h),bs=d._emscripten_bind_ExportZipContext_ExportZipContext_2=(h,A)=>(bs=d._emscripten_bind_ExportZipContext_ExportZipContext_2=y.ma)(h,A),gr=d._emscripten_bind_ExportZipContext_AddFile_1=(h,A)=>(gr=d._emscripten_bind_ExportZipContext_AddFile_1=y.na)(h,A),zs=d._emscripten_bind_ExportZipContext_AddDirectory_1=(h,A)=>(zs=d._emscripten_bind_ExportZipContext_AddDirectory_1=y.oa)(h,A),wl=d._emscripten_bind_ExportZipContext_Continue_0=h=>(wl=d._emscripten_bind_ExportZipContext_Continue_0=y.pa)(h),Wa=d._emscripten_bind_ExportZipContext_GetState_0=h=>(Wa=d._emscripten_bind_ExportZipContext_GetState_0=y.qa)(h),On=d._emscripten_bind_ExportZipContext_GetZipContent_0=h=>(On=d._emscripten_bind_ExportZipContext_GetZipContent_0=y.ra)(h),Bt=d._emscripten_bind_ExportZipContext_GetZipSize_0=h=>(Bt=d._emscripten_bind_ExportZipContext_GetZipSize_0=y.sa)(h),Cs=d._emscripten_bind_ExportZipContext_GetErrorItem_0=h=>(Cs=d._emscripten_bind_ExportZipContext_GetErrorItem_0=y.ta)(h),Ws=d._emscripten_bind_ExportZipContext___destroy___0=h=>(Ws=d._emscripten_bind_ExportZipContext___destroy___0=y.ua)(h),El=d._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=h=>(El=d._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=y.va)(h),ha=d._emscripten_bind_DeleteRecursiveContext_AddFile_1=(h,A)=>(ha=d._emscripten_bind_DeleteRecursiveContext_AddFile_1=y.wa)(h,A),Je=d._emscripten_bind_DeleteRecursiveContext_Continue_0=h=>(Je=d._emscripten_bind_DeleteRecursiveContext_Continue_0=y.xa)(h),Mi=d._emscripten_bind_DeleteRecursiveContext_GetState_0=h=>(Mi=d._emscripten_bind_DeleteRecursiveContext_GetState_0=y.ya)(h),es=d._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=h=>(es=d._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=y.za)(h),Zs=d._emscripten_bind_DeleteRecursiveContext___destroy___0=h=>(Zs=d._emscripten_bind_DeleteRecursiveContext___destroy___0=y.Aa)(h),qs=d._emscripten_bind_UnzipContext_UnzipContext_4=(h,A,Ce,tt)=>(qs=d._emscripten_bind_UnzipContext_UnzipContext_4=y.Ba)(h,A,Ce,tt),ma=d._emscripten_bind_UnzipContext_GetState_0=h=>(ma=d._emscripten_bind_UnzipContext_GetState_0=y.Ca)(h),ri=d._emscripten_bind_UnzipContext_Continue_0=h=>(ri=d._emscripten_bind_UnzipContext_Continue_0=y.Da)(h),ts=d._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=h=>(ts=d._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=y.Ea)(h),ga=d._emscripten_bind_UnzipContext_GetCurrentEntry_0=h=>(ga=d._emscripten_bind_UnzipContext_GetCurrentEntry_0=y.Fa)(h),Ut=d._emscripten_bind_UnzipContext_GetCollisionPath_0=h=>(Ut=d._emscripten_bind_UnzipContext_GetCollisionPath_0=y.Ga)(h),In=d._emscripten_bind_UnzipContext_GetEntriesTotal_0=h=>(In=d._emscripten_bind_UnzipContext_GetEntriesTotal_0=y.Ha)(h),oc=d._emscripten_bind_UnzipContext_GetEntriesSuccess_0=h=>(oc=d._emscripten_bind_UnzipContext_GetEntriesSuccess_0=y.Ia)(h),Ks=d._emscripten_bind_UnzipContext___destroy___0=h=>(Ks=d._emscripten_bind_UnzipContext___destroy___0=y.Ja)(h),Dl=d._emscripten_bind_PasteContext_PasteContext_3=(h,A,Ce)=>(Dl=d._emscripten_bind_PasteContext_PasteContext_3=y.Ka)(h,A,Ce),ic=d._emscripten_bind_PasteContext_AddFile_1=(h,A)=>(ic=d._emscripten_bind_PasteContext_AddFile_1=y.La)(h,A),Za=d._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=(h,A)=>(Za=d._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=y.Ma)(h,A),Ys=d._emscripten_bind_PasteContext_GetState_0=h=>(Ys=d._emscripten_bind_PasteContext_GetState_0=y.Na)(h),An=d._emscripten_bind_PasteContext_Continue_0=h=>(An=d._emscripten_bind_PasteContext_Continue_0=y.Oa)(h),fi=d._emscripten_bind_PasteContext_ContinueWithOverwrite_0=h=>(fi=d._emscripten_bind_PasteContext_ContinueWithOverwrite_0=y.Pa)(h),oo=d._emscripten_bind_PasteContext_GetCurrentEntry_0=h=>(oo=d._emscripten_bind_PasteContext_GetCurrentEntry_0=y.Qa)(h),sc=d._emscripten_bind_PasteContext_GetCollisionPath_0=h=>(sc=d._emscripten_bind_PasteContext_GetCollisionPath_0=y.Ra)(h),Ci=d._emscripten_bind_PasteContext_GetEntriesSuccess_0=h=>(Ci=d._emscripten_bind_PasteContext_GetEntriesSuccess_0=y.Sa)(h),ac=d._emscripten_bind_PasteContext___destroy___0=h=>(ac=d._emscripten_bind_PasteContext___destroy___0=y.Ta)(h),lc=d._main=(h,A)=>(lc=d._main=y.Ua)(h,A),cc=(h,A)=>(cc=y.Wa)(h,A),Vn=h=>(Vn=y.Xa)(h),_a=()=>(_a=y.Ya)(),Rr=()=>(Rr=y.Za)(),Qr=()=>(Qr=y._a)();function _r(){function h(){pn||(pn=!0,d.calledRun=!0,!P&&(function Dt(){ye(),en(_t)}(),function Ot(){ye(),en(fe)}(),x(d),d.onRuntimeInitialized?.(),vr&&function vt(){var h=lc;try{xn++;var tt=h(0,0);return ui(tt),tt}catch(Be){return gi(Be)}finally{xn--}}(),function $t(){if(ye(),d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)h=d.postRun.shift(),je.unshift(h);var h;en(je)}()))}ze>0||(function Xn(){_a(),function ve(){var h=Rr();0==h&&(h+=4),Te[h>>2]=34821223,Te[h+4>>2]=2310721022,Te[0]=1668509029}()}(),function He(){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)h=d.preRun.shift(),Qe.unshift(h);var h;en(Qe)}(),ze>0)||(d.setStatus?(d.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>d.setStatus(""),1),h()},1)):h(),ye())}if(d.___original_main=()=>(d.___original_main=y.$a)(),kt=function h(){pn||_r(),pn||(kt=h)},d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();var vr=!0;function _(){}function E(h){return(h||_).__cache__}function ce(h,A){var Ce=E(A),tt=Ce[h];return tt||((tt=Object.create((A||_).prototype)).ptr=h,Ce[h]=tt)}d.noInitialRun&&(vr=!1),_r(),(_.prototype=Object.create(_.prototype)).constructor=_,_.prototype.__class__=_,_.__cache__={},d.WrapperObject=_,d.getCache=E,d.wrapPointer=ce,d.castObject=function We(h,A){return ce(h.ptr,A)},d.NULL=ce(0),d.destroy=function mt(h){if(!h.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";h.__destroy__(),delete E(h.__class__)[h.ptr]},d.compare=function kn(h,A){return h.ptr===A.ptr},d.getPointer=function Sn(h){return h.ptr},d.getClass=function hn(h){return h.__class__};var At={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(At.needed){for(var h=0;h<At.temps.length;h++)d._webidl_free(At.temps[h]);At.temps.length=0,d._webidl_free(At.buffer),At.buffer=0,At.size+=At.needed,At.needed=0}At.buffer||(At.size+=128,At.buffer=d._webidl_malloc(At.size),ne(At.buffer)),At.pos=0},alloc(h,A){ne(At.buffer);var Be,tt=h.length*A.BYTES_PER_ELEMENT;return tt=Er(tt,8),At.pos+tt>=At.size?(ne(tt>0),At.needed+=tt,Be=d._webidl_malloc(tt),At.temps.push(Be)):(Be=At.buffer+At.pos,At.pos+=tt),Be},copy(h,A,Ce){Ce/=A.BYTES_PER_ELEMENT;for(var tt=0;tt<h.length;tt++)A[Ce+tt]=h[tt]}};function Zn(h){if("string"==typeof h){var A=function _s(h,A,Ce){var tt=Ce>0?Ce:Sl(h)+1,Be=new Array(tt),Ln=Xi(h,Be,0,Be.length);return A&&(Be.length=Ln),Be}(h),Ce=At.alloc(A,ee);return At.copy(A,ee,Ce),Ce}return h}function Dr(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Qn(){throw"cannot construct a FileEntry, no constructor in IDL"}function xt(){this.ptr=hr(),E(xt)[this.ptr]=this}function Pt(h){At.prepare(),h=h&&"object"==typeof h?h.ptr:Zn(h),this.ptr=Lt(h),E(Pt)[this.ptr]=this}function jn(h,A){At.prepare(),h=h&&"object"==typeof h?h.ptr:Zn(h),A&&"object"==typeof A&&(A=A.ptr),this.ptr=bs(h,A),E(jn)[this.ptr]=this}function Ir(h){h&&"object"==typeof h&&(h=h.ptr),this.ptr=El(h),E(Ir)[this.ptr]=this}function ln(h,A,Ce,tt){At.prepare(),h&&"object"==typeof h&&(h=h.ptr),A=A&&"object"==typeof A?A.ptr:Zn(A),Ce&&"object"==typeof Ce&&(Ce=Ce.ptr),tt&&"object"==typeof tt&&(tt=tt.ptr),this.ptr=qs(h,A,Ce,tt),E(ln)[this.ptr]=this}function Fn(h,A,Ce){At.prepare(),h&&"object"==typeof h&&(h=h.ptr),A=A&&"object"==typeof A?A.ptr:Zn(A),Ce=Ce&&"object"==typeof Ce?Ce.ptr:Zn(Ce),this.ptr=Dl(h,A,Ce),E(Fn)[this.ptr]=this}return(Dr.prototype=Object.create(_.prototype)).constructor=Dr,Dr.prototype.__class__=Dr,Dr.__cache__={},d.VoidPtr=Dr,Dr.prototype.__destroy__=Dr.prototype.__destroy__=function(){ge(this.ptr)},(Qn.prototype=Object.create(_.prototype)).constructor=Qn,Qn.prototype.__class__=Qn,Qn.__cache__={},d.FileEntry=Qn,Qn.prototype.GetName=Qn.prototype.GetName=function(){return Yn(et(this.ptr))},Qn.prototype.IsDirectory=Qn.prototype.IsDirectory=function(){return!!Ge(this.ptr)},Qn.prototype.GetSize=Qn.prototype.GetSize=function(){return ut(this.ptr)},Qn.prototype.GetModifiedTS=Qn.prototype.GetModifiedTS=function(){return bt(this.ptr)},Qn.prototype.GetAttributes=Qn.prototype.GetAttributes=function(){return Ct(this.ptr)},Qn.prototype.__destroy__=Qn.prototype.__destroy__=function(){fn(this.ptr)},(xt.prototype=Object.create(_.prototype)).constructor=xt,xt.prototype.__class__=xt,xt.__cache__={},d.Vfs=xt,xt.prototype.Malloc=xt.prototype.Malloc=function(h){return h&&"object"==typeof h&&(h=h.ptr),ce(kr(this.ptr,h),Dr)},xt.prototype.Free=xt.prototype.Free=function(h){h&&"object"==typeof h&&(h=h.ptr),se(this.ptr,h)},xt.prototype.Nullptr=xt.prototype.Nullptr=function(){return ce(Wn(this.ptr),Dr)},xt.prototype.AllocateImage=xt.prototype.AllocateImage=function(h){h&&"object"==typeof h&&(h=h.ptr),vs(this.ptr,h)},xt.prototype.MountImage=xt.prototype.MountImage=function(h){return h&&"object"==typeof h&&(h=h.ptr),!!Pn(this.ptr,h)},xt.prototype.UnmountImage=xt.prototype.UnmountImage=function(h){h&&"object"==typeof h&&(h=h.ptr),ko(this.ptr,h)},xt.prototype.SwitchSlot=xt.prototype.SwitchSlot=function(h){h&&"object"==typeof h&&(h=h.ptr),Ro(this.ptr,h)},xt.prototype.GetPendingImageSize=xt.prototype.GetPendingImageSize=function(){return ys(this.ptr)},xt.prototype.GetSize=xt.prototype.GetSize=function(h){return h&&"object"==typeof h&&(h=h.ptr),La(this.ptr,h)},xt.prototype.GetPendingImage=xt.prototype.GetPendingImage=function(){return ce(aa(this.ptr),Dr)},xt.prototype.GetImage=xt.prototype.GetImage=function(h){return h&&"object"==typeof h&&(h=h.ptr),ce(Gs(this.ptr,h),Dr)},xt.prototype.GetDirtyPages=xt.prototype.GetDirtyPages=function(h){return h&&"object"==typeof h&&(h=h.ptr),ce(la(this.ptr,h),Dr)},xt.prototype.RenameFile=xt.prototype.RenameFile=function(h,A){var Ce=this.ptr;return At.prepare(),h=h&&"object"==typeof h?h.ptr:Zn(h),A=A&&"object"==typeof A?A.ptr:Zn(A),Ji(Ce,h,A)},xt.prototype.ChmodFile=xt.prototype.ChmodFile=function(h,A,Ce){var tt=this.ptr;return At.prepare(),h=h&&"object"==typeof h?h.ptr:Zn(h),A&&"object"==typeof A&&(A=A.ptr),Ce&&"object"==typeof Ce&&(Ce=Ce.ptr),$a(tt,h,A,Ce)},xt.prototype.StatFile=xt.prototype.StatFile=function(h){var A=this.ptr;return At.prepare(),h=h&&"object"==typeof h?h.ptr:Zn(h),ca(A,h)},xt.prototype.UnlinkFile=xt.prototype.UnlinkFile=function(h){var A=this.ptr;return At.prepare(),h=h&&"object"==typeof h?h.ptr:Zn(h),ua(A,h)},xt.prototype.Mkdir=xt.prototype.Mkdir=function(h){var A=this.ptr;return At.prepare(),h=h&&"object"==typeof h?h.ptr:Zn(h),Ba(A,h)},xt.prototype.GetEntry=xt.prototype.GetEntry=function(){return ce(Va(this.ptr),Qn)},xt.prototype.BytesFree=xt.prototype.BytesFree=function(h){return h&&"object"==typeof h&&(h=h.ptr),ja(this.ptr,h)},xt.prototype.BytesTotal=xt.prototype.BytesTotal=function(h){return h&&"object"==typeof h&&(h=h.ptr),Ga(this.ptr,h)},xt.prototype.ReadFile=xt.prototype.ReadFile=function(h){var A=this.ptr;return At.prepare(),h=h&&"object"==typeof h?h.ptr:Zn(h),!!da(A,h)},xt.prototype.GetCurrentFileSize=xt.prototype.GetCurrentFileSize=function(){return Ua(this.ptr)},xt.prototype.GetCurrentFileContent=xt.prototype.GetCurrentFileContent=function(){return ce(Ha(this.ptr),Dr)},xt.prototype.ReleaseCurrentFile=xt.prototype.ReleaseCurrentFile=function(){mr(this.ptr)},xt.prototype.WriteFile=xt.prototype.WriteFile=function(h,A,Ce){var tt=this.ptr;return At.prepare(),h=h&&"object"==typeof h?h.ptr:Zn(h),A&&"object"==typeof A&&(A=A.ptr),Ce&&"object"==typeof Ce&&(Ce=Ce.ptr),fa(tt,h,A,Ce)},xt.prototype.__destroy__=xt.prototype.__destroy__=function(){ro(this.ptr)},(Pt.prototype=Object.create(_.prototype)).constructor=Pt,Pt.prototype.__class__=Pt,Pt.__cache__={},d.ReaddirContext=Pt,Pt.prototype.Next=Pt.prototype.Next=function(){return pa(this.ptr)},Pt.prototype.GetEntry=Pt.prototype.GetEntry=function(){return ce(Us(this.ptr),Qn)},Pt.prototype.GetStatus=Pt.prototype.GetStatus=function(){return zr(this.ptr)},Pt.prototype.GetError=Pt.prototype.GetError=function(){return Hs(this.ptr)},Pt.prototype.GetErrorDescription=Pt.prototype.GetErrorDescription=function(){return Yn(za(this.ptr))},Pt.prototype.__destroy__=Pt.prototype.__destroy__=function(){Mn(this.ptr)},(jn.prototype=Object.create(_.prototype)).constructor=jn,jn.prototype.__class__=jn,jn.__cache__={},d.ExportZipContext=jn,jn.prototype.AddFile=jn.prototype.AddFile=function(h){var A=this.ptr;return At.prepare(),h=h&&"object"==typeof h?h.ptr:Zn(h),ce(gr(A,h),jn)},jn.prototype.AddDirectory=jn.prototype.AddDirectory=function(h){var A=this.ptr;return At.prepare(),h=h&&"object"==typeof h?h.ptr:Zn(h),ce(zs(A,h),jn)},jn.prototype.Continue=jn.prototype.Continue=function(){return wl(this.ptr)},jn.prototype.GetState=jn.prototype.GetState=function(){return Wa(this.ptr)},jn.prototype.GetZipContent=jn.prototype.GetZipContent=function(){return ce(On(this.ptr),Dr)},jn.prototype.GetZipSize=jn.prototype.GetZipSize=function(){return Bt(this.ptr)},jn.prototype.GetErrorItem=jn.prototype.GetErrorItem=function(){return Yn(Cs(this.ptr))},jn.prototype.__destroy__=jn.prototype.__destroy__=function(){Ws(this.ptr)},(Ir.prototype=Object.create(_.prototype)).constructor=Ir,Ir.prototype.__class__=Ir,Ir.__cache__={},d.DeleteRecursiveContext=Ir,Ir.prototype.AddFile=Ir.prototype.AddFile=function(h){var A=this.ptr;return At.prepare(),h=h&&"object"==typeof h?h.ptr:Zn(h),ce(ha(A,h),Ir)},Ir.prototype.Continue=Ir.prototype.Continue=function(){return Je(this.ptr)},Ir.prototype.GetState=Ir.prototype.GetState=function(){return Mi(this.ptr)},Ir.prototype.GetFailingPath=Ir.prototype.GetFailingPath=function(){return Yn(es(this.ptr))},Ir.prototype.__destroy__=Ir.prototype.__destroy__=function(){Zs(this.ptr)},(ln.prototype=Object.create(_.prototype)).constructor=ln,ln.prototype.__class__=ln,ln.__cache__={},d.UnzipContext=ln,ln.prototype.GetState=ln.prototype.GetState=function(){return ma(this.ptr)},ln.prototype.Continue=ln.prototype.Continue=function(){return ri(this.ptr)},ln.prototype.ContinueWithOverwrite=ln.prototype.ContinueWithOverwrite=function(){return ts(this.ptr)},ln.prototype.GetCurrentEntry=ln.prototype.GetCurrentEntry=function(){return Yn(ga(this.ptr))},ln.prototype.GetCollisionPath=ln.prototype.GetCollisionPath=function(){return Yn(Ut(this.ptr))},ln.prototype.GetEntriesTotal=ln.prototype.GetEntriesTotal=function(){return In(this.ptr)},ln.prototype.GetEntriesSuccess=ln.prototype.GetEntriesSuccess=function(){return oc(this.ptr)},ln.prototype.__destroy__=ln.prototype.__destroy__=function(){Ks(this.ptr)},(Fn.prototype=Object.create(_.prototype)).constructor=Fn,Fn.prototype.__class__=Fn,Fn.__cache__={},d.PasteContext=Fn,Fn.prototype.AddFile=Fn.prototype.AddFile=function(h){var A=this.ptr;return At.prepare(),h=h&&"object"==typeof h?h.ptr:Zn(h),ce(ic(A,h),Fn)},Fn.prototype.SetDeleteAfterCopy=Fn.prototype.SetDeleteAfterCopy=function(h){return h&&"object"==typeof h&&(h=h.ptr),ce(Za(this.ptr,h),Fn)},Fn.prototype.GetState=Fn.prototype.GetState=function(){return Ys(this.ptr)},Fn.prototype.Continue=Fn.prototype.Continue=function(){return An(this.ptr)},Fn.prototype.ContinueWithOverwrite=Fn.prototype.ContinueWithOverwrite=function(){return fi(this.ptr)},Fn.prototype.GetCurrentEntry=Fn.prototype.GetCurrentEntry=function(){return Yn(oo(this.ptr))},Fn.prototype.GetCollisionPath=Fn.prototype.GetCollisionPath=function(){return Yn(sc(this.ptr))},Fn.prototype.GetEntriesSuccess=Fn.prototype.GetEntriesSuccess=function(){return Ci(this.ptr)},Fn.prototype.__destroy__=Fn.prototype.__destroy__=function(){ac(this.ptr)},Q});ue.exports=M},276:(ue,xe,S)=>{"use strict";S.d(xe,{c:()=>B,r:()=>k});const B=(P,O)=>{P.componentOnReady?P.componentOnReady().then(ne=>O(ne)):k(()=>O(P))},k=P=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(P):"function"==typeof requestAnimationFrame?requestAnimationFrame(P):setTimeout(P)},7687:(ue,xe,S)=>{"use strict";S.d(xe,{L:()=>w,a:()=>M,b:()=>B,c:()=>Z,d:()=>$,g:()=>P});const w="ionViewWillEnter",M="ionViewDidEnter",B="ionViewWillLeave",Z="ionViewDidLeave",$="ionViewWillUnload",P=O=>O.classList.contains("ion-page")?O:O.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||O},2723:(ue,xe,S)=>{"use strict";S.d(xe,{c:()=>Ie});var w=S(6940),M=S(4675);let B;const $=K=>K.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),d=K=>(void 0===B&&(B=void 0===K.style.animationName&&void 0!==K.style.webkitAnimationName?"-webkit-":""),B),x=(K,q,N)=>{const oe=q.startsWith("animation")?d(K):"";K.style.setProperty(oe+q,N)},T=(K,q)=>{const N=q.startsWith("animation")?d(K):"";K.style.removeProperty(N+q)},k=[],he=(K=[],q)=>{if(void 0!==q){const N=Array.isArray(q)?q:[q];return[...K,...N]}return K},Ie=K=>{let q,N,oe,pe,ie,ke,ee,$e,ve,ye,Qe,it,He,Le=[],P=[],O=[],ne=!1,D={},I=[],Y=[],G={},Te=0,rt=!1,be=!1,_t=!0,fe=!1,je=!0,Dt=!1;const Ot=K,$t=[],Pe=[],Me=[],Oe=[],ze=[],at=[],kt=[],rn=[],Zt=[],Ft=[],sn=[],nr="function"==typeof AnimationEffect||void 0!==w.w&&"function"==typeof w.w.AnimationEffect,xn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&nr,lo=()=>sn,xo=(g,y)=>{const W=y.findIndex(ae=>ae.c===g);W>-1&&y.splice(W,1)},ti=(g,y)=>((y?.oneTimeCallback?Pe:$t).push({c:g,o:y}),He),Ae=()=>{if(xn)sn.forEach(g=>{g.cancel()}),sn.length=0;else{const g=Oe.slice();(0,M.r)(()=>{g.forEach(y=>{T(y,"animation-name"),T(y,"animation-duration"),T(y,"animation-timing-function"),T(y,"animation-iteration-count"),T(y,"animation-delay"),T(y,"animation-play-state"),T(y,"animation-fill-mode"),T(y,"animation-direction")})})}},we=()=>{at.forEach(g=>{g?.parentNode&&g.parentNode.removeChild(g)}),at.length=0},Uo=()=>void 0!==ie?ie:ee?ee.getFill():"both",En=()=>void 0!==ve?ve:void 0!==ke?ke:ee?ee.getDirection():"normal",pr=()=>rt?"linear":void 0!==oe?oe:ee?ee.getEasing():"linear",Sr=()=>be?0:void 0!==ye?ye:void 0!==N?N:ee?ee.getDuration():0,gn=()=>void 0!==pe?pe:ee?ee.getIterations():1,Dn=()=>void 0!==Qe?Qe:void 0!==q?q:ee?ee.getDelay():0,wr=()=>{0!==Te&&(Te--,0===Te&&((()=>{hs(),Zt.forEach(Fe=>Fe()),Ft.forEach(Fe=>Fe());const g=_t?1:0,y=I,W=Y,ae=G;Oe.forEach(Fe=>{const de=Fe.classList;y.forEach(Ke=>de.add(Ke)),W.forEach(Ke=>de.remove(Ke));for(const Ke in ae)ae.hasOwnProperty(Ke)&&x(Fe,Ke,ae[Ke])}),ye=void 0,ve=void 0,Qe=void 0,$t.forEach(Fe=>Fe.c(g,He)),Pe.forEach(Fe=>Fe.c(g,He)),Pe.length=0,je=!0,_t&&(fe=!0),_t=!0})(),ee&&ee.animationFinish()))},Yi=(g=!0)=>{we();const y=(K=>(K.forEach(q=>{for(const N in q)if(q.hasOwnProperty(N)){const oe=q[N];if("easing"===N)q["animation-timing-function"]=oe,delete q[N];else{const pe=$(N);pe!==N&&(q[pe]=oe,delete q[N])}}}),K))(Le);Oe.forEach(W=>{if(y.length>0){const ae=((K=[])=>K.map(q=>{const N=q.offset,oe=[];for(const pe in q)q.hasOwnProperty(pe)&&"offset"!==pe&&oe.push(`${pe}: ${q[pe]};`);return`${100*N}% { ${oe.join(" ")} }`}).join(" "))(y);it=void 0!==K?K:(K=>{let q=k.indexOf(K);return q<0&&(q=k.push(K)-1),`ion-animation-${q}`})(ae);const Fe=((K,q,N)=>{var oe;const pe=(K=>{const q=void 0!==K.getRootNode?K.getRootNode():K;return q.head||q})(N),ie=d(N),ke=pe.querySelector("#"+K);if(ke)return ke;const Le=(null!==(oe=N.ownerDocument)&&void 0!==oe?oe:document).createElement("style");return Le.id=K,Le.textContent=`@${ie}keyframes ${K} { ${q} } @${ie}keyframes ${K}-alt { ${q} }`,pe.appendChild(Le),Le})(it,ae,W);at.push(Fe),x(W,"animation-duration",`${Sr()}ms`),x(W,"animation-timing-function",pr()),x(W,"animation-delay",`${Dn()}ms`),x(W,"animation-fill-mode",Uo()),x(W,"animation-direction",En());const de=gn()===1/0?"infinite":gn().toString();x(W,"animation-iteration-count",de),x(W,"animation-play-state","paused"),g&&x(W,"animation-name",`${Fe.id}-alt`),(0,M.r)(()=>{x(W,"animation-name",Fe.id||null)})}})},ni=(g=!0)=>{(()=>{kt.forEach(ae=>ae()),rn.forEach(ae=>ae());const g=P,y=O,W=D;Oe.forEach(ae=>{const Fe=ae.classList;g.forEach(de=>Fe.add(de)),y.forEach(de=>Fe.remove(de));for(const de in W)W.hasOwnProperty(de)&&x(ae,de,W[de])})})(),Le.length>0&&(xn?(Oe.forEach(g=>{const y=g.animate(Le,{id:Ot,delay:Dn(),duration:Sr(),easing:pr(),iterations:gn(),fill:Uo(),direction:En()});y.pause(),sn.push(y)}),sn.length>0&&(sn[0].onfinish=()=>{wr()})):Yi(g)),ne=!0},no=g=>{if(g=Math.min(Math.max(g,0),.9999),xn)sn.forEach(y=>{y.currentTime=y.effect.getComputedTiming().delay+Sr()*g,y.pause()});else{const y=`-${Sr()*g}ms`;Oe.forEach(W=>{Le.length>0&&(x(W,"animation-delay",y),x(W,"animation-play-state","paused"))})}},vi=g=>{sn.forEach(y=>{y.effect.updateTiming({delay:Dn(),duration:Sr(),easing:pr(),iterations:gn(),fill:Uo(),direction:En()})}),void 0!==g&&no(g)},Vs=(g=!0,y)=>{(0,M.r)(()=>{Oe.forEach(W=>{x(W,"animation-name",it||null),x(W,"animation-duration",`${Sr()}ms`),x(W,"animation-timing-function",pr()),x(W,"animation-delay",void 0!==y?`-${y*Sr()}ms`:`${Dn()}ms`),x(W,"animation-fill-mode",Uo()||null),x(W,"animation-direction",En()||null);const ae=gn()===1/0?"infinite":gn().toString();x(W,"animation-iteration-count",ae),g&&x(W,"animation-name",`${it}-alt`),(0,M.r)(()=>{x(W,"animation-name",it||null)})})})},Er=(g=!1,y=!0,W)=>(g&&ze.forEach(ae=>{ae.update(g,y,W)}),xn?vi(W):Vs(y,W),He),an=()=>{ne&&(xn?sn.forEach(g=>{g.pause()}):Oe.forEach(g=>{x(g,"animation-play-state","paused")}),Dt=!0)},yi=()=>{$e=void 0,wr()},hs=()=>{$e&&clearTimeout($e)},ms=g=>new Promise(y=>{g?.sync&&(be=!0,ti(()=>be=!1,{oneTimeCallback:!0})),ne||ni(),fe&&(xn?(no(0),vi()):Vs(),fe=!1),je&&(Te=ze.length+1,je=!1);const W=()=>{xo(ae,Pe),y()},ae=()=>{xo(W,Me),y()};ti(ae,{oneTimeCallback:!0}),((g,y)=>{Me.push({c:g,o:{oneTimeCallback:!0}})})(W),ze.forEach(Fe=>{Fe.play()}),xn?(sn.forEach(g=>{g.play()}),(0===Le.length||0===Oe.length)&&wr()):(()=>{if(hs(),(0,M.r)(()=>{Oe.forEach(g=>{Le.length>0&&x(g,"animation-play-state","running")})}),0===Le.length||0===Oe.length)wr();else{const g=Dn()||0,y=Sr()||0,W=gn()||1;isFinite(W)&&($e=setTimeout(yi,g+y*W+100)),((K,q)=>{let N;const oe={passive:!0},ie=ke=>{K===ke.target&&(N&&N(),hs(),(0,M.r)(()=>{Oe.forEach(g=>{T(g,"animation-duration"),T(g,"animation-delay"),T(g,"animation-play-state")}),(0,M.r)(wr)}))};K&&(K.addEventListener("webkitAnimationEnd",ie,oe),K.addEventListener("animationend",ie,oe),N=()=>{K.removeEventListener("webkitAnimationEnd",ie,oe),K.removeEventListener("animationend",ie,oe)})})(Oe[0])}})(),Dt=!1}),Qi=(g,y)=>{const W=Le[0];return void 0===W||void 0!==W.offset&&0!==W.offset?Le=[{offset:0,[g]:y},...Le]:W[g]=y,He};return He={parentAnimation:ee,elements:Oe,childAnimations:ze,id:Ot,animationFinish:wr,from:Qi,to:(g,y)=>{const W=Le[Le.length-1];return void 0===W||void 0!==W.offset&&1!==W.offset?Le=[...Le,{offset:1,[g]:y}]:W[g]=y,He},fromTo:(g,y,W)=>Qi(g,y).to(g,W),parent:g=>(ee=g,He),play:ms,pause:()=>(ze.forEach(g=>{g.pause()}),an(),He),stop:()=>{ze.forEach(g=>{g.stop()}),ne&&(Ae(),ne=!1),rt=!1,be=!1,je=!0,ve=void 0,ye=void 0,Qe=void 0,Te=0,fe=!1,_t=!0,Dt=!1,Me.forEach(g=>g.c(0,He)),Me.length=0},destroy:g=>(ze.forEach(y=>{y.destroy(g)}),(g=>{Ae(),g&&we()})(g),Oe.length=0,ze.length=0,Le.length=0,$t.length=0,Pe.length=0,ne=!1,je=!0,He),keyframes:g=>{const y=Le!==g;return Le=g,y&&(g=>{xn?lo().forEach(y=>{const W=y.effect;if(W.setKeyframes)W.setKeyframes(g);else{const ae=new KeyframeEffect(W.target,g,W.getTiming());y.effect=ae}}):Yi()})(Le),He},addAnimation:g=>{if(null!=g)if(Array.isArray(g))for(const y of g)y.parent(He),ze.push(y);else g.parent(He),ze.push(g);return He},addElement:g=>{if(null!=g)if(1===g.nodeType)Oe.push(g);else if(g.length>=0)for(let y=0;y<g.length;y++)Oe.push(g[y]);else console.error("Invalid addElement value");return He},update:Er,fill:g=>(ie=g,Er(!0),He),direction:g=>(ke=g,Er(!0),He),iterations:g=>(pe=g,Er(!0),He),duration:g=>(!xn&&0===g&&(g=1),N=g,Er(!0),He),easing:g=>(oe=g,Er(!0),He),delay:g=>(q=g,Er(!0),He),getWebAnimations:lo,getKeyframes:()=>Le,getFill:Uo,getDirection:En,getDelay:Dn,getIterations:gn,getEasing:pr,getDuration:Sr,afterAddRead:g=>(Zt.push(g),He),afterAddWrite:g=>(Ft.push(g),He),afterClearStyles:(g=[])=>{for(const y of g)G[y]="";return He},afterStyles:(g={})=>(G=g,He),afterRemoveClass:g=>(Y=he(Y,g),He),afterAddClass:g=>(I=he(I,g),He),beforeAddRead:g=>(kt.push(g),He),beforeAddWrite:g=>(rn.push(g),He),beforeClearStyles:(g=[])=>{for(const y of g)D[y]="";return He},beforeStyles:(g={})=>(D=g,He),beforeRemoveClass:g=>(O=he(O,g),He),beforeAddClass:g=>(P=he(P,g),He),onFinish:ti,isRunning:()=>0!==Te&&!Dt,progressStart:(g=!1,y)=>(ze.forEach(W=>{W.progressStart(g,y)}),an(),rt=g,ne||ni(),Er(!1,!0,y),He),progressStep:g=>(ze.forEach(y=>{y.progressStep(g)}),no(g),He),progressEnd:(g,y,W)=>(rt=!1,ze.forEach(ae=>{ae.progressEnd(g,y,W)}),void 0!==W&&(ye=W),fe=!1,_t=!0,0===g?(ve="reverse"===En()?"normal":"reverse","reverse"===ve&&(_t=!1),xn?(Er(),no(1-y)):(Qe=(1-y)*Sr()*-1,Er(!1,!1))):1===g&&(xn?(Er(),no(y)):(Qe=y*Sr()*-1,Er(!1,!1))),void 0!==g&&!ee&&ms(),He)}}},2984:(ue,xe,S)=>{"use strict";S.d(xe,{E:()=>H,I:()=>x,a:()=>w,s:()=>T});const w=k=>{try{if(k instanceof x)return k.value;if(!Z()||"string"!=typeof k||""===k)return k;if(k.includes("onload="))return"";const z=document.createDocumentFragment(),R=document.createElement("div");z.appendChild(R),R.innerHTML=k,d.forEach(K=>{const q=z.querySelectorAll(K);for(let N=q.length-1;N>=0;N--){const oe=q[N];oe.parentNode?oe.parentNode.removeChild(oe):z.removeChild(oe);const pe=B(oe);for(let ie=0;ie<pe.length;ie++)M(pe[ie])}});const V=B(z);for(let K=0;K<V.length;K++)M(V[K]);const he=document.createElement("div");he.appendChild(z);const Ie=he.querySelector("div");return null!==Ie?Ie.innerHTML:he.innerHTML}catch(z){return console.error(z),""}},M=k=>{if(k.nodeType&&1!==k.nodeType)return;if(typeof NamedNodeMap<"u"&&!(k.attributes instanceof NamedNodeMap))return void k.remove();for(let R=k.attributes.length-1;R>=0;R--){const V=k.attributes.item(R),he=V.name;if(!$.includes(he.toLowerCase())){k.removeAttribute(he);continue}const Ie=V.value,K=k[he];(null!=Ie&&Ie.toLowerCase().includes("javascript:")||null!=K&&K.toLowerCase().includes("javascript:"))&&k.removeAttribute(he)}const z=B(k);for(let R=0;R<z.length;R++)M(z[R])},B=k=>null!=k.children?k.children:k.childNodes,Z=()=>{var k;const z=window,R=null===(k=z?.Ionic)||void 0===k?void 0:k.config;return!R||(R.get?R.get("sanitizerEnabled",!0):!0===R.sanitizerEnabled||void 0===R.sanitizerEnabled)},$=["class","id","href","src","name","slot"],d=["script","style","iframe","meta","link","object","embed"];class x{constructor(z){this.value=z}}const T=k=>{const z=window,R=z.Ionic;if(!R||!R.config||"Object"===R.config.constructor.name)return z.Ionic=z.Ionic||{},z.Ionic.config=Object.assign(Object.assign({},z.Ionic.config),k),z.Ionic.config},H=!1},8573:(ue,xe,S)=>{"use strict";S.d(xe,{C:()=>$,a:()=>B,d:()=>Z});var w=S(3918),M=S(4675);const B=function(){var d=(0,w.Z)(function*(x,T,Q,H,k,z){var R;if(x)return x.attachViewToDom(T,Q,k,H);if(!(z||"string"==typeof Q||Q instanceof HTMLElement))throw new Error("framework delegate is missing");const V="string"==typeof Q?null===(R=T.ownerDocument)||void 0===R?void 0:R.createElement(Q):Q;return H&&H.forEach(he=>V.classList.add(he)),k&&Object.assign(V,k),T.appendChild(V),yield new Promise(he=>(0,M.c)(V,he)),V});return function(T,Q,H,k,z,R){return d.apply(this,arguments)}}(),Z=(d,x)=>{if(x){if(d)return d.removeViewFromDom(x.parentElement,x);x.remove()}return Promise.resolve()},$=()=>{let d,x;return{attachViewToDom:function(){var H=(0,w.Z)(function*(k,z,R={},V=[]){var he,Ie;let K;if(d=k,z){const N="string"==typeof z?null===(he=d.ownerDocument)||void 0===he?void 0:he.createElement(z):z;V.forEach(oe=>N.classList.add(oe)),Object.assign(N,R),d.appendChild(N),K=N,yield new Promise(oe=>(0,M.c)(N,oe))}else if(d.children.length>0&&("ION-MODAL"===d.tagName||"ION-POPOVER"===d.tagName)&&!(K=d.children[0]).classList.contains("ion-delegate-host")){const oe=null===(Ie=d.ownerDocument)||void 0===Ie?void 0:Ie.createElement("div");oe.classList.add("ion-delegate-host"),V.forEach(pe=>oe.classList.add(pe)),oe.append(...d.children),d.appendChild(oe),K=oe}const q=document.querySelector("ion-app")||document.body;return x=document.createComment("ionic teleport"),d.parentNode.insertBefore(x,d),q.appendChild(d),K??d});return function(z,R){return H.apply(this,arguments)}}(),removeViewFromDom:()=>(d&&x&&(x.parentNode.insertBefore(d,x),x.remove()),Promise.resolve())}}},4967:(ue,xe,S)=>{"use strict";S.d(xe,{G:()=>$});class M{constructor(x,T,Q,H,k){this.id=T,this.name=Q,this.disableScroll=k,this.priority=1e6*H+T,this.ctrl=x}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const x=this.ctrl.capture(this.name,this.id,this.priority);return x&&this.disableScroll&&this.ctrl.disableScroll(this.id),x}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class B{constructor(x,T,Q,H){this.id=T,this.disable=Q,this.disableScroll=H,this.ctrl=x}block(){if(this.ctrl){if(this.disable)for(const x of this.disable)this.ctrl.disableGesture(x,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const x of this.disable)this.ctrl.enableGesture(x,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Z="backdrop-no-scroll",$=new class w{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(x){var T;return new M(this,this.newID(),x.name,null!==(T=x.priority)&&void 0!==T?T:0,!!x.disableScroll)}createBlocker(x={}){return new B(this,this.newID(),x.disable,!!x.disableScroll)}start(x,T,Q){return this.canStart(x)?(this.requestedStart.set(T,Q),!0):(this.requestedStart.delete(T),!1)}capture(x,T,Q){if(!this.start(x,T,Q))return!1;const H=this.requestedStart;let k=-1e4;if(H.forEach(z=>{k=Math.max(k,z)}),k===Q){this.capturedId=T,H.clear();const z=new CustomEvent("ionGestureCaptured",{detail:{gestureName:x}});return document.dispatchEvent(z),!0}return H.delete(T),!1}release(x){this.requestedStart.delete(x),this.capturedId===x&&(this.capturedId=void 0)}disableGesture(x,T){let Q=this.disabledGestures.get(x);void 0===Q&&(Q=new Set,this.disabledGestures.set(x,Q)),Q.add(T)}enableGesture(x,T){const Q=this.disabledGestures.get(x);void 0!==Q&&Q.delete(T)}disableScroll(x){this.disabledScroll.add(x),1===this.disabledScroll.size&&document.body.classList.add(Z)}enableScroll(x){this.disabledScroll.delete(x),0===this.disabledScroll.size&&document.body.classList.remove(Z)}canStart(x){return!(void 0!==this.capturedId||this.isDisabled(x))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(x){const T=this.disabledGestures.get(x);return!!(T&&T.size>0)}newID(){return this.gestureId++,this.gestureId}}},1940:(ue,xe,S)=>{"use strict";S.r(xe),S.d(xe,{MENU_BACK_BUTTON_PRIORITY:()=>$,OVERLAY_BACK_BUTTON_PRIORITY:()=>Z,blockHardwareBackButton:()=>M,startHardwareBackButton:()=>B});var w=S(3918);const M=()=>{document.addEventListener("backbutton",()=>{})},B=()=>{const d=document;let x=!1;d.addEventListener("backbutton",()=>{if(x)return;let T=0,Q=[];const H=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(R,V){Q.push({priority:R,handler:V,id:T++})}}});d.dispatchEvent(H);const k=function(){var R=(0,w.Z)(function*(V){try{if(V?.handler){const he=V.handler(z);null!=he&&(yield he)}}catch(he){console.error(he)}});return function(he){return R.apply(this,arguments)}}(),z=()=>{if(Q.length>0){let R={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Q.forEach(V=>{V.priority>=R.priority&&(R=V)}),x=!0,Q=Q.filter(V=>V.id!==R.id),k(R).then(()=>x=!1)}};z()})},Z=100,$=99},4675:(ue,xe,S)=>{"use strict";S.d(xe,{a:()=>T,b:()=>Q,c:()=>B,d:()=>Ie,e:()=>he,f:()=>V,g:()=>H,h:()=>R,i:()=>x,j:()=>ie,k:()=>$,l:()=>K,m:()=>Z,n:()=>z,o:()=>q,p:()=>pe,q:()=>ke,r:()=>k,s:()=>Le,t:()=>w,u:()=>N,v:()=>oe});const w=(P,O=0)=>new Promise(ne=>{M(P,O,ne)}),M=(P,O=0,ne)=>{let ee,D;const I={passive:!0},G=()=>{ee&&ee()},Te=rt=>{(void 0===rt||P===rt.target)&&(G(),ne(rt))};return P&&(P.addEventListener("webkitTransitionEnd",Te,I),P.addEventListener("transitionend",Te,I),D=setTimeout(Te,O+500),ee=()=>{D&&(clearTimeout(D),D=void 0),P.removeEventListener("webkitTransitionEnd",Te,I),P.removeEventListener("transitionend",Te,I)}),G},B=(P,O)=>{P.componentOnReady?P.componentOnReady().then(ne=>O(ne)):k(()=>O(P))},Z=P=>void 0!==P.componentOnReady,$=(P,O=[])=>{const ne={};return O.forEach(ee=>{P.hasAttribute(ee)&&(null!==P.getAttribute(ee)&&(ne[ee]=P.getAttribute(ee)),P.removeAttribute(ee))}),ne},d=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],x=(P,O)=>{let ne=d;return O&&O.length>0&&(ne=ne.filter(ee=>!O.includes(ee))),$(P,ne)},T=(P,O,ne,ee)=>{var D;if(typeof window<"u"){const I=window,Y=null===(D=I?.Ionic)||void 0===D?void 0:D.config;if(Y){const G=Y.get("_ael");if(G)return G(P,O,ne,ee);if(Y._ael)return Y._ael(P,O,ne,ee)}}return P.addEventListener(O,ne,ee)},Q=(P,O,ne,ee)=>{var D;if(typeof window<"u"){const I=window,Y=null===(D=I?.Ionic)||void 0===D?void 0:D.config;if(Y){const G=Y.get("_rel");if(G)return G(P,O,ne,ee);if(Y._rel)return Y._rel(P,O,ne,ee)}}return P.removeEventListener(O,ne,ee)},H=(P,O=P)=>P.shadowRoot||O,k=P=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(P):"function"==typeof requestAnimationFrame?requestAnimationFrame(P):setTimeout(P),z=P=>!!P.shadowRoot&&!!P.attachShadow,R=P=>{const O=P.closest("ion-item");return O?O.querySelector("ion-label"):null},V=P=>{if(P.focus(),P.classList.contains("ion-focusable")){const O=P.closest("ion-app");O&&O.setFocus([P])}},he=(P,O)=>{let ne;const ee=P.getAttribute("aria-labelledby"),D=P.id;let I=null!==ee&&""!==ee.trim()?ee:O+"-lbl",Y=null!==ee&&""!==ee.trim()?document.getElementById(ee):R(P);return Y?(null===ee&&(Y.id=I),ne=Y.textContent,Y.setAttribute("aria-hidden","true")):""!==D.trim()&&(Y=document.querySelector(`label[for="${D}"]`),Y&&(""!==Y.id?I=Y.id:Y.id=I=`${D}-lbl`,ne=Y.textContent)),{label:Y,labelId:I,labelText:ne}},Ie=(P,O,ne,ee,D)=>{if(P||z(O)){let I=O.querySelector("input.aux-input");I||(I=O.ownerDocument.createElement("input"),I.type="hidden",I.classList.add("aux-input"),O.appendChild(I)),I.disabled=D,I.name=ne,I.value=ee||""}},K=(P,O,ne)=>Math.max(P,Math.min(O,ne)),q=(P,O)=>{if(!P){const ne="ASSERT: "+O;throw console.error(ne),new Error(ne)}},N=P=>P.timeStamp||Date.now(),oe=P=>{if(P){const O=P.changedTouches;if(O&&O.length>0){const ne=O[0];return{x:ne.clientX,y:ne.clientY}}if(void 0!==P.pageX)return{x:P.pageX,y:P.pageY}}return{x:0,y:0}},pe=P=>{const O="rtl"===document.dir;switch(P){case"start":return O;case"end":return!O;default:throw new Error(`"${P}" is not a valid value for [side]. Use "start" or "end" instead.`)}},ie=(P,O)=>{const ne=P._original||P;return{_original:P,emit:ke(ne.emit.bind(ne),O)}},ke=(P,O=0)=>{let ne;return(...ee)=>{clearTimeout(ne),ne=setTimeout(P,O,...ee)}},Le=(P,O)=>{if(P??(P={}),O??(O={}),P===O)return!0;const ne=Object.keys(P);if(ne.length!==Object.keys(O).length)return!1;for(const ee of ne)if(!(ee in O)||P[ee]!==O[ee])return!1;return!0}},4656:(ue,xe,S)=>{"use strict";S.d(xe,{m:()=>R});var w=S(3918),M=S(6940),B=S(1940),Z=S(6240),$=S(4675),d=S(5194),x=S(2723);const T=V=>(0,x.c)().duration(V?400:300),Q=V=>{let he,Ie;const K=V.width+8,q=(0,x.c)(),N=(0,x.c)();V.isEndSide?(he=K+"px",Ie="0px"):(he=-K+"px",Ie="0px"),q.addElement(V.menuInnerEl).fromTo("transform",`translateX(${he})`,`translateX(${Ie})`);const pe="ios"===(0,d.b)(V),ie=pe?.2:.25;return N.addElement(V.backdropEl).fromTo("opacity",.01,ie),T(pe).addAnimation([q,N])},H=V=>{let he,Ie;const K=(0,d.b)(V),q=V.width;V.isEndSide?(he=-q+"px",Ie=q+"px"):(he=q+"px",Ie=-q+"px");const N=(0,x.c)().addElement(V.menuInnerEl).fromTo("transform",`translateX(${Ie})`,"translateX(0px)"),oe=(0,x.c)().addElement(V.contentEl).fromTo("transform","translateX(0px)",`translateX(${he})`),pe=(0,x.c)().addElement(V.backdropEl).fromTo("opacity",.01,.32);return T("ios"===K).addAnimation([N,oe,pe])},k=V=>{const he=(0,d.b)(V),Ie=V.width*(V.isEndSide?-1:1)+"px",K=(0,x.c)().addElement(V.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ie})`);return T("ios"===he).addAnimation(K)},R=(()=>{const V=new Map,he=[],Ie=function(){var ve=(0,w.Z)(function*(ye){const Qe=yield ke(ye,!0);return!!Qe&&Qe.open()});return function(Qe){return ve.apply(this,arguments)}}(),K=function(){var ve=(0,w.Z)(function*(ye){const Qe=yield void 0!==ye?ke(ye,!0):Le();return void 0!==Qe&&Qe.close()});return function(Qe){return ve.apply(this,arguments)}}(),q=function(){var ve=(0,w.Z)(function*(ye){const Qe=yield ke(ye,!0);return!!Qe&&Qe.toggle()});return function(Qe){return ve.apply(this,arguments)}}(),N=function(){var ve=(0,w.Z)(function*(ye,Qe){const _t=yield ke(Qe);return _t&&(_t.disabled=!ye),_t});return function(Qe,_t){return ve.apply(this,arguments)}}(),oe=function(){var ve=(0,w.Z)(function*(ye,Qe){const _t=yield ke(Qe);return _t&&(_t.swipeGesture=ye),_t});return function(Qe,_t){return ve.apply(this,arguments)}}(),pe=function(){var ve=(0,w.Z)(function*(ye){if(null!=ye){const Qe=yield ke(ye);return void 0!==Qe&&Qe.isOpen()}return void 0!==(yield Le())});return function(Qe){return ve.apply(this,arguments)}}(),ie=function(){var ve=(0,w.Z)(function*(ye){const Qe=yield ke(ye);return!!Qe&&!Qe.disabled});return function(Qe){return ve.apply(this,arguments)}}(),ke=function(){var ve=(0,w.Z)(function*(ye,Qe=!1){if(yield $e(),"start"===ye||"end"===ye){const fe=he.filter(it=>it.side===ye&&!it.disabled);if(fe.length>=1)return fe.length>1&&Qe&&(0,Z.p)(`menuController queried for a menu on the "${ye}" side, but ${fe.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,fe.map(it=>it.el)),fe[0].el;const je=he.filter(it=>it.side===ye);if(je.length>=1)return je.length>1&&Qe&&(0,Z.p)(`menuController queried for a menu on the "${ye}" side, but ${je.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,je.map(it=>it.el)),je[0].el}else if(null!=ye)return be(fe=>fe.menuId===ye);return be(fe=>!fe.disabled)||(he.length>0?he[0].el:void 0)});return function(Qe){return ve.apply(this,arguments)}}(),Le=function(){var ve=(0,w.Z)(function*(){return yield $e(),G()});return function(){return ve.apply(this,arguments)}}(),P=function(){var ve=(0,w.Z)(function*(){return yield $e(),Te()});return function(){return ve.apply(this,arguments)}}(),O=function(){var ve=(0,w.Z)(function*(){return yield $e(),rt()});return function(){return ve.apply(this,arguments)}}(),ne=(ve,ye)=>{V.set(ve,ye)},I=function(){var ve=(0,w.Z)(function*(ye,Qe,_t){if(rt())return!1;if(Qe){const fe=yield Le();fe&&ye.el!==fe&&(yield fe.setOpen(!1,!1))}return ye._setOpen(Qe,_t)});return function(Qe,_t,fe){return ve.apply(this,arguments)}}(),G=()=>be(ve=>ve._isOpen),Te=()=>he.map(ve=>ve.el),rt=()=>he.some(ve=>ve.isAnimating),be=ve=>{const ye=he.find(ve);if(void 0!==ye)return ye.el},$e=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(ve=>new Promise(ye=>(0,$.c)(ve,ye))));return ne("reveal",k),ne("push",H),ne("overlay",Q),null==M.d||M.d.addEventListener("ionBackButton",ve=>{const ye=G();ye&&ve.detail.register(B.MENU_BACK_BUTTON_PRIORITY,()=>ye.close())}),{registerAnimation:ne,get:ke,getMenus:P,getOpen:Le,isEnabled:ie,swipeGesture:oe,isAnimating:O,isOpen:pe,enable:N,toggle:q,close:K,open:Ie,_getOpenSync:G,_createAnimation:(ve,ye)=>{const Qe=V.get(ve);if(!Qe)throw new Error("animation not registered");return Qe(ye)},_register:ve=>{he.indexOf(ve)<0&&he.push(ve)},_unregister:ve=>{const ye=he.indexOf(ve);ye>-1&&he.splice(ye,1)},_setOpen:I}})()},4923:(ue,xe,S)=>{"use strict";S.r(xe),S.d(xe,{GESTURE_CONTROLLER:()=>w.G,createGesture:()=>Q});var w=S(4967);const M=(R,V,he,Ie)=>{const K=B(R)?{capture:!!Ie.capture,passive:!!Ie.passive}:!!Ie.capture;let q,N;return R.__zone_symbol__addEventListener?(q="__zone_symbol__addEventListener",N="__zone_symbol__removeEventListener"):(q="addEventListener",N="removeEventListener"),R[q](V,he,K),()=>{R[N](V,he,K)}},B=R=>{if(void 0===Z)try{const V=Object.defineProperty({},"passive",{get:()=>{Z=!0}});R.addEventListener("optsTest",()=>{},V)}catch{Z=!1}return!!Z};let Z;const x=R=>R instanceof Document?R:R.ownerDocument,Q=R=>{let V=!1,he=!1,Ie=!0,K=!1;const q=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},R),N=q.canStart,oe=q.onWillStart,pe=q.onStart,ie=q.onEnd,ke=q.notCaptured,Le=q.onMove,P=q.threshold,O=q.passive,ne=q.blurOnStart,ee={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},D=((R,V,he)=>{const Ie=he*(Math.PI/180),K="x"===R,q=Math.cos(Ie),N=V*V;let oe=0,pe=0,ie=!1,ke=0;return{start(Le,P){oe=Le,pe=P,ke=0,ie=!0},detect(Le,P){if(!ie)return!1;const O=Le-oe,ne=P-pe,ee=O*O+ne*ne;if(ee<N)return!1;const D=Math.sqrt(ee),I=(K?O:ne)/D;return ke=I>q?1:I<-q?-1:0,ie=!1,!0},isGesture:()=>0!==ke,getDirection:()=>ke}})(q.direction,q.threshold,q.maxAngle),I=w.G.createGesture({name:R.gestureName,priority:R.gesturePriority,disableScroll:R.disableScroll}),Te=()=>{V&&(K=!1,Le&&Le(ee))},rt=()=>!!I.capture()&&(V=!0,Ie=!1,ee.startX=ee.currentX,ee.startY=ee.currentY,ee.startTime=ee.currentTime,oe?oe(ee).then($e):$e(),!0),$e=()=>{ne&&(()=>{if(typeof document<"u"){const fe=document.activeElement;fe?.blur&&fe.blur()}})(),pe&&pe(ee),Ie=!0},ve=()=>{V=!1,he=!1,K=!1,Ie=!0,I.release()},ye=fe=>{const je=V,it=Ie;if(ve(),it){if(H(ee,fe),je)return void(ie&&ie(ee));ke&&ke(ee)}},Qe=((R,V,he,Ie,K)=>{let q,N,oe,pe,ie,ke,Le,P=0;const O=be=>{P=Date.now()+2e3,V(be)&&(!N&&he&&(N=M(R,"touchmove",he,K)),oe||(oe=M(be.target,"touchend",ee,K)),pe||(pe=M(be.target,"touchcancel",ee,K)))},ne=be=>{P>Date.now()||V(be)&&(!ke&&he&&(ke=M(x(R),"mousemove",he,K)),Le||(Le=M(x(R),"mouseup",D,K)))},ee=be=>{I(),Ie&&Ie(be)},D=be=>{Y(),Ie&&Ie(be)},I=()=>{N&&N(),oe&&oe(),pe&&pe(),N=oe=pe=void 0},Y=()=>{ke&&ke(),Le&&Le(),ke=Le=void 0},G=()=>{I(),Y()},Te=(be=!0)=>{be?(q||(q=M(R,"touchstart",O,K)),ie||(ie=M(R,"mousedown",ne,K))):(q&&q(),ie&&ie(),q=ie=void 0,G())};return{enable:Te,stop:G,destroy:()=>{Te(!1),Ie=he=V=void 0}}})(q.el,fe=>{const je=z(fe);return!(he||!Ie||(k(fe,ee),ee.startX=ee.currentX,ee.startY=ee.currentY,ee.startTime=ee.currentTime=je,ee.velocityX=ee.velocityY=ee.deltaX=ee.deltaY=0,ee.event=fe,N&&!1===N(ee))||(I.release(),!I.start()))&&(he=!0,0===P?rt():(D.start(ee.startX,ee.startY),!0))},fe=>{V?!K&&Ie&&(K=!0,H(ee,fe),requestAnimationFrame(Te)):(H(ee,fe),D.detect(ee.currentX,ee.currentY)&&(!D.isGesture()||!rt())&&_t())},ye,{capture:!1,passive:O}),_t=()=>{ve(),Qe.stop(),ke&&ke(ee)};return{enable(fe=!0){fe||(V&&ye(void 0),ve()),Qe.enable(fe)},destroy(){I.destroy(),Qe.destroy()}}},H=(R,V)=>{if(!V)return;const he=R.currentX,Ie=R.currentY,K=R.currentTime;k(V,R);const q=R.currentX,N=R.currentY,pe=(R.currentTime=z(V))-K;if(pe>0&&pe<100){const ke=(N-Ie)/pe;R.velocityX=(q-he)/pe*.7+.3*R.velocityX,R.velocityY=.7*ke+.3*R.velocityY}R.deltaX=q-R.startX,R.deltaY=N-R.startY,R.event=V},k=(R,V)=>{let he=0,Ie=0;if(R){const K=R.changedTouches;if(K&&K.length>0){const q=K[0];he=q.clientX,Ie=q.clientY}else void 0!==R.pageX&&(he=R.pageX,Ie=R.pageY)}V.currentX=he,V.currentY=Ie},z=R=>R.timeStamp||Date.now()},8044:(ue,xe,S)=>{"use strict";S.d(xe,{b:()=>d,c:()=>x,d:()=>T,e:()=>P,g:()=>ee,l:()=>ke,s:()=>O,t:()=>k,w:()=>Le});var w=S(3918),M=S(3426),B=S(4675);const d="ionViewWillLeave",x="ionViewDidLeave",T="ionViewWillUnload",k=D=>new Promise((I,Y)=>{(0,M.w)(()=>{z(D),R(D).then(G=>{G.animation&&G.animation.destroy(),V(D),I(G)},G=>{V(D),Y(G)})})}),z=D=>{const I=D.enteringEl,Y=D.leavingEl;ne(I,Y,D.direction),D.showGoBack?I.classList.add("can-go-back"):I.classList.remove("can-go-back"),O(I,!1),I.style.setProperty("pointer-events","none"),Y&&(O(Y,!1),Y.style.setProperty("pointer-events","none"))},R=function(){var D=(0,w.Z)(function*(I){const Y=yield he(I);return Y&&M.B.isBrowser?Ie(Y,I):K(I)});return function(Y){return D.apply(this,arguments)}}(),V=D=>{const I=D.enteringEl,Y=D.leavingEl;I.classList.remove("ion-page-invisible"),I.style.removeProperty("pointer-events"),void 0!==Y&&(Y.classList.remove("ion-page-invisible"),Y.style.removeProperty("pointer-events"))},he=function(){var D=(0,w.Z)(function*(I){return I.leavingEl&&I.animated&&0!==I.duration?I.animationBuilder?I.animationBuilder:"ios"===I.mode?(yield Promise.resolve().then(S.bind(S,5444))).iosTransitionAnimation:(yield Promise.resolve().then(S.bind(S,5922))).mdTransitionAnimation:void 0});return function(Y){return D.apply(this,arguments)}}(),Ie=function(){var D=(0,w.Z)(function*(I,Y){yield q(Y,!0);const G=I(Y.baseEl,Y);pe(Y.enteringEl,Y.leavingEl);const Te=yield oe(G,Y);return Y.progressCallback&&Y.progressCallback(void 0),Te&&ie(Y.enteringEl,Y.leavingEl),{hasCompleted:Te,animation:G}});return function(Y,G){return D.apply(this,arguments)}}(),K=function(){var D=(0,w.Z)(function*(I){const Y=I.enteringEl,G=I.leavingEl;return yield q(I,!1),pe(Y,G),ie(Y,G),{hasCompleted:!0}});return function(Y){return D.apply(this,arguments)}}(),q=function(){var D=(0,w.Z)(function*(I,Y){(void 0!==I.deepWait?I.deepWait:Y)&&(yield Promise.all([P(I.enteringEl),P(I.leavingEl)])),yield N(I.viewIsReady,I.enteringEl)});return function(Y,G){return D.apply(this,arguments)}}(),N=function(){var D=(0,w.Z)(function*(I,Y){I&&(yield I(Y))});return function(Y,G){return D.apply(this,arguments)}}(),oe=(D,I)=>{const Y=I.progressCallback,G=new Promise(Te=>{D.onFinish(rt=>Te(1===rt))});return Y?(D.progressStart(!0),Y(D)):D.play(),G},pe=(D,I)=>{ke(I,d),ke(D,"ionViewWillEnter")},ie=(D,I)=>{ke(D,"ionViewDidEnter"),ke(I,x)},ke=(D,I)=>{if(D){const Y=new CustomEvent(I,{bubbles:!1,cancelable:!1});D.dispatchEvent(Y)}},Le=()=>new Promise(D=>(0,B.r)(()=>(0,B.r)(()=>D()))),P=function(){var D=(0,w.Z)(function*(I){const Y=I;if(Y){if(null!=Y.componentOnReady){if(null!=(yield Y.componentOnReady()))return}else if(null!=Y.__registerHost)return void(yield new Promise(Te=>(0,B.r)(Te)));yield Promise.all(Array.from(Y.children).map(P))}});return function(Y){return D.apply(this,arguments)}}(),O=(D,I)=>{I?(D.setAttribute("aria-hidden","true"),D.classList.add("ion-page-hidden")):(D.hidden=!1,D.removeAttribute("aria-hidden"),D.classList.remove("ion-page-hidden"))},ne=(D,I,Y)=>{void 0!==D&&(D.style.zIndex="back"===Y?"99":"101"),void 0!==I&&(I.style.zIndex="100")},ee=D=>D.classList.contains("ion-page")?D:D.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||D},6240:(ue,xe,S)=>{"use strict";S.d(xe,{a:()=>M,b:()=>B,p:()=>w});const w=(Z,...$)=>console.warn(`[Ionic Warning]: ${Z}`,...$),M=(Z,...$)=>console.error(`[Ionic Error]: ${Z}`,...$),B=(Z,...$)=>console.error(`<${Z.tagName.toLowerCase()}> must be used inside ${$.join(" or ")}.`)},6940:(ue,xe,S)=>{"use strict";S.d(xe,{d:()=>M,w:()=>w});const w=typeof window<"u"?window:void 0,M=typeof document<"u"?document:void 0},3426:(ue,xe,S)=>{"use strict";S.d(xe,{B:()=>z,H:()=>rt,a:()=>xi,b:()=>gi,c:()=>it,d:()=>$t,e:()=>Sl,f:()=>Ot,g:()=>He,h:()=>G,i:()=>Uo,j:()=>R,r:()=>Yi,w:()=>_s});var w=S(3918);let Z,$,d,x=!1,T=!1,Q=!1,H=!1,k=!1;const z={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},R=g=>{const y=new URL(g,an.$resourcesUrl$);return y.origin!==di.location.origin?y.href:y.pathname},oe="s-id",pe="sty-id",Le="slot-fb{display:contents}slot-fb[hidden]{display:none}",P="http://www.w3.org/1999/xlink",O={},I=g=>"object"==(g=typeof g)||"function"===g;function Y(g){var y,W,ae;return null!==(ae=null===(W=null===(y=g.head)||void 0===y?void 0:y.querySelector('meta[name="csp-nonce"]'))||void 0===W?void 0:W.getAttribute("content"))&&void 0!==ae?ae:void 0}const G=(g,y,...W)=>{let ae=null,Fe=null,de=null,Ke=!1,ge=!1;const et=[],Ge=bt=>{for(let Ct=0;Ct<bt.length;Ct++)ae=bt[Ct],Array.isArray(ae)?Ge(ae):null!=ae&&"boolean"!=typeof ae&&((Ke="function"!=typeof g&&!I(ae))&&(ae=String(ae)),Ke&&ge?et[et.length-1].$text$+=ae:et.push(Ke?Te(null,ae):ae),ge=Ke)};if(Ge(W),y){y.key&&(Fe=y.key),y.name&&(de=y.name);{const bt=y.className||y.class;bt&&(y.class="object"!=typeof bt?bt:Object.keys(bt).filter(Ct=>bt[Ct]).join(" "))}}if("function"==typeof g)return g(null===y?{}:y,et,$e);const ut=Te(g,null);return ut.$attrs$=y,et.length>0&&(ut.$children$=et),ut.$key$=Fe,ut.$name$=de,ut},Te=(g,y)=>({$flags$:0,$tag$:g,$text$:y,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),rt={},$e={forEach:(g,y)=>g.map(ve).forEach(y),map:(g,y)=>g.map(ve).map(y).map(ye)},ve=g=>({vattrs:g.$attrs$,vchildren:g.$children$,vkey:g.$key$,vname:g.$name$,vtag:g.$tag$,vtext:g.$text$}),ye=g=>{if("function"==typeof g.vtag){const W=Object.assign({},g.vattrs);return g.vkey&&(W.key=g.vkey),g.vname&&(W.name=g.vname),G(g.vtag,W,...g.vchildren||[])}const y=Te(g.vtag,g.vtext);return y.$attrs$=g.vattrs,y.$children$=g.vchildren,y.$key$=g.vkey,y.$name$=g.vname,y},_t=(g,y,W,ae,Fe,de,Ke)=>{let ge,et,Ge,ut;if(1===de.nodeType){for(ge=de.getAttribute("c-id"),ge&&(et=ge.split("."),(et[0]===Ke||"0"===et[0])&&(Ge={$flags$:0,$hostId$:et[0],$nodeId$:et[1],$depth$:et[2],$index$:et[3],$tag$:de.tagName.toLowerCase(),$elm$:de,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},y.push(Ge),de.removeAttribute("c-id"),g.$children$||(g.$children$=[]),g.$children$[Ge.$index$]=Ge,g=Ge,ae&&"0"===Ge.$depth$&&(ae[Ge.$index$]=Ge.$elm$))),ut=de.childNodes.length-1;ut>=0;ut--)_t(g,y,W,ae,Fe,de.childNodes[ut],Ke);if(de.shadowRoot)for(ut=de.shadowRoot.childNodes.length-1;ut>=0;ut--)_t(g,y,W,ae,Fe,de.shadowRoot.childNodes[ut],Ke)}else if(8===de.nodeType)et=de.nodeValue.split("."),(et[1]===Ke||"0"===et[1])&&(ge=et[0],Ge={$flags$:0,$hostId$:et[1],$nodeId$:et[2],$depth$:et[3],$index$:et[4],$elm$:de,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===ge?(Ge.$elm$=de.nextSibling,Ge.$elm$&&3===Ge.$elm$.nodeType&&(Ge.$text$=Ge.$elm$.textContent,y.push(Ge),de.remove(),g.$children$||(g.$children$=[]),g.$children$[Ge.$index$]=Ge,ae&&"0"===Ge.$depth$&&(ae[Ge.$index$]=Ge.$elm$))):Ge.$hostId$===Ke&&("s"===ge?(Ge.$tag$="slot",de["s-sn"]=et[5]?Ge.$name$=et[5]:"",de["s-sr"]=!0,ae&&(Ge.$elm$=cr.createElement(Ge.$tag$),Ge.$name$&&Ge.$elm$.setAttribute("name",Ge.$name$),de.parentNode.insertBefore(Ge.$elm$,de),de.remove(),"0"===Ge.$depth$&&(ae[Ge.$index$]=Ge.$elm$)),W.push(Ge),g.$children$||(g.$children$=[]),g.$children$[Ge.$index$]=Ge):"r"===ge&&(ae?de.remove():(Fe["s-cr"]=de,de["s-cn"]=!0))));else if(g&&"style"===g.$tag$){const bt=Te(null,de.textContent);bt.$elm$=de,bt.$index$="0",g.$children$=[bt]}},fe=(g,y)=>{if(1===g.nodeType){let W=0;for(;W<g.childNodes.length;W++)fe(g.childNodes[W],y);if(g.shadowRoot)for(W=0;W<g.shadowRoot.childNodes.length;W++)fe(g.shadowRoot.childNodes[W],y)}else if(8===g.nodeType){const W=g.nodeValue.split(".");"o"===W[0]&&(y.set(W[1]+"."+W[2],g),g.nodeValue="",g["s-en"]=W[3])}},it=g=>Ao.push(g),He=g=>wr(g).$modeName$,Ot=g=>wr(g).$hostElement$,$t=(g,y,W)=>{const ae=Ot(g);return{emit:Fe=>Pe(ae,y,{bubbles:!!(4&W),composed:!!(2&W),cancelable:!!(1&W),detail:Fe})}},Pe=(g,y,W)=>{const ae=an.ce(y,W);return g.dispatchEvent(ae),ae},Me=new WeakMap,Oe=(g,y,W)=>{let ae=Er.get(g);sa&&W?(ae=ae||new CSSStyleSheet,"string"==typeof ae?ae=y:ae.replaceSync(y)):ae=y,Er.set(g,ae)},ze=(g,y,W)=>{var ae;const Fe=kt(y,W),de=Er.get(Fe);if(g=11===g.nodeType?g:cr,de)if("string"==typeof de){let ge,Ke=Me.get(g=g.head||g);if(Ke||Me.set(g,Ke=new Set),!Ke.has(Fe)){if(g.host&&(ge=g.querySelector(`[${pe}="${Fe}"]`)))ge.innerHTML=de;else{ge=cr.createElement("style"),ge.innerHTML=de;const et=null!==(ae=an.$nonce$)&&void 0!==ae?ae:Y(cr);null!=et&&ge.setAttribute("nonce",et),g.insertBefore(ge,g.querySelector("link"))}4&y.$flags$&&(ge.innerHTML+=Le),Ke&&Ke.add(Fe)}}else g.adoptedStyleSheets.includes(de)||(g.adoptedStyleSheets=[...g.adoptedStyleSheets,de]);return Fe},kt=(g,y)=>"sc-"+(y&&32&g.$flags$?g.$tagName$+"-"+y:g.$tagName$),rn=g=>g.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Zt=(g,y,W,ae,Fe,de)=>{if(W!==ae){let Ke=ni(g,y),ge=y.toLowerCase();if("class"===y){const et=g.classList,Ge=sn(W),ut=sn(ae);et.remove(...Ge.filter(bt=>bt&&!ut.includes(bt))),et.add(...ut.filter(bt=>bt&&!Ge.includes(bt)))}else if("style"===y){for(const et in W)(!ae||null==ae[et])&&(et.includes("-")?g.style.removeProperty(et):g.style[et]="");for(const et in ae)(!W||ae[et]!==W[et])&&(et.includes("-")?g.style.setProperty(et,ae[et]):g.style[et]=ae[et])}else if("key"!==y)if("ref"===y)ae&&ae(g);else if(Ke||"o"!==y[0]||"n"!==y[1]){const et=I(ae);if((Ke||et&&null!==ae)&&!Fe)try{if(g.tagName.includes("-"))g[y]=ae;else{const ut=ae??"";"list"===y?Ke=!1:(null==W||g[y]!=ut)&&(g[y]=ut)}}catch{}let Ge=!1;ge!==(ge=ge.replace(/^xlink\:?/,""))&&(y=ge,Ge=!0),null==ae||!1===ae?(!1!==ae||""===g.getAttribute(y))&&(Ge?g.removeAttributeNS(P,y):g.removeAttribute(y)):(!Ke||4&de||Fe)&&!et&&(ae=!0===ae?"":ae,Ge?g.setAttributeNS(P,y,ae):g.setAttribute(y,ae))}else if(y="-"===y[2]?y.slice(3):ni(di,ge)?ge.slice(2):ge[2]+y.slice(3),W||ae){const et=y.endsWith(nr);y=y.replace(xn,""),W&&an.rel(g,y,W,et),ae&&an.ael(g,y,ae,et)}}},Ft=/\s/,sn=g=>g?g.split(Ft):[],nr="Capture",xn=new RegExp(nr+"$"),vo=(g,y,W,ae)=>{const Fe=11===y.$elm$.nodeType&&y.$elm$.host?y.$elm$.host:y.$elm$,de=g&&g.$attrs$||O,Ke=y.$attrs$||O;for(ae in de)ae in Ke||Zt(Fe,ae,de[ae],void 0,W,y.$flags$);for(ae in Ke)Zt(Fe,ae,de[ae],Ke[ae],W,y.$flags$)},lo=(g,y,W,ae)=>{var Fe;const de=y.$children$[W];let ge,et,Ge,Ke=0;if(x||(Q=!0,"slot"===de.$tag$&&(Z&&ae.classList.add(Z+"-s"),de.$flags$|=de.$children$?2:1)),null!==de.$text$)ge=de.$elm$=cr.createTextNode(de.$text$);else if(1&de.$flags$)ge=de.$elm$=cr.createTextNode("");else{if(H||(H="svg"===de.$tag$),ge=de.$elm$=cr.createElementNS(H?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&de.$flags$?"slot-fb":de.$tag$),H&&"foreignObject"===de.$tag$&&(H=!1),vo(null,de,H),(g=>null!=g)(Z)&&ge["s-si"]!==Z&&ge.classList.add(ge["s-si"]=Z),de.$children$)for(Ke=0;Ke<de.$children$.length;++Ke)et=lo(g,de,Ke,ge),et&&ge.appendChild(et);"svg"===de.$tag$?H=!1:"foreignObject"===ge.tagName&&(H=!0)}return ge["s-hn"]=d,3&de.$flags$&&(ge["s-sr"]=!0,ge["s-fs"]=null===(Fe=de.$attrs$)||void 0===Fe?void 0:Fe.slot,ge["s-cr"]=$,ge["s-sn"]=de.$name$||"",Ge=g&&g.$children$&&g.$children$[W],Ge&&Ge.$tag$===de.$tag$&&g.$elm$&&Io(g.$elm$,!1)),ge},Io=(g,y)=>{var W;an.$flags$|=1;const ae=g.childNodes;for(let Fe=ae.length-1;Fe>=0;Fe--){const de=ae[Fe];de["s-hn"]!==d&&de["s-ol"]&&(ti(de).insertBefore(de,Xr(de)),de["s-ol"].remove(),de["s-ol"]=void 0,de["s-sh"]=void 0,1===de.nodeType&&de.setAttribute("slot",null!==(W=de["s-sn"])&&void 0!==W?W:""),Q=!0),y&&Io(de,y)}an.$flags$&=-2},Cr=(g,y,W,ae,Fe,de)=>{let ge,Ke=g["s-cr"]&&g["s-cr"].parentNode||g;for(Ke.shadowRoot&&Ke.tagName===d&&(Ke=Ke.shadowRoot);Fe<=de;++Fe)ae[Fe]&&(ge=lo(null,W,Fe,g),ge&&(ae[Fe].$elm$=ge,Ke.insertBefore(ge,Xr(y))))},lr=(g,y,W)=>{for(let ae=y;ae<=W;++ae){const Fe=g[ae];if(Fe){const de=Fe.$elm$;bn(Fe),de&&(T=!0,de["s-ol"]?de["s-ol"].remove():Io(de,!0),de.remove())}}},xo=(g,y)=>g.$tag$===y.$tag$&&("slot"===g.$tag$?g.$name$===y.$name$:g.$key$===y.$key$),Xr=g=>g&&g["s-ol"]||g,ti=g=>(g["s-ol"]?g["s-ol"]:g).parentNode,to=(g,y)=>{const W=y.$elm$=g.$elm$,ae=g.$children$,Fe=y.$children$,de=y.$tag$,Ke=y.$text$;let ge;null===Ke?(H="svg"===de||"foreignObject"!==de&&H,"slot"===de||vo(g,y,H),null!==ae&&null!==Fe?((g,y,W,ae)=>{let hr,kr,Fe=0,de=0,Ke=0,ge=0,et=y.length-1,Ge=y[0],ut=y[et],bt=ae.length-1,Ct=ae[0],fn=ae[bt];for(;Fe<=et&&de<=bt;)if(null==Ge)Ge=y[++Fe];else if(null==ut)ut=y[--et];else if(null==Ct)Ct=ae[++de];else if(null==fn)fn=ae[--bt];else if(xo(Ge,Ct))to(Ge,Ct),Ge=y[++Fe],Ct=ae[++de];else if(xo(ut,fn))to(ut,fn),ut=y[--et],fn=ae[--bt];else if(xo(Ge,fn))("slot"===Ge.$tag$||"slot"===fn.$tag$)&&Io(Ge.$elm$.parentNode,!1),to(Ge,fn),g.insertBefore(Ge.$elm$,ut.$elm$.nextSibling),Ge=y[++Fe],fn=ae[--bt];else if(xo(ut,Ct))("slot"===Ge.$tag$||"slot"===fn.$tag$)&&Io(ut.$elm$.parentNode,!1),to(ut,Ct),g.insertBefore(ut.$elm$,Ge.$elm$),ut=y[--et],Ct=ae[++de];else{for(Ke=-1,ge=Fe;ge<=et;++ge)if(y[ge]&&null!==y[ge].$key$&&y[ge].$key$===Ct.$key$){Ke=ge;break}Ke>=0?(kr=y[Ke],kr.$tag$!==Ct.$tag$?hr=lo(y&&y[de],W,Ke,g):(to(kr,Ct),y[Ke]=void 0,hr=kr.$elm$),Ct=ae[++de]):(hr=lo(y&&y[de],W,de,g),Ct=ae[++de]),hr&&ti(Ge.$elm$).insertBefore(hr,Xr(Ge.$elm$))}Fe>et?Cr(g,null==ae[bt+1]?null:ae[bt+1].$elm$,W,ae,de,bt):de>bt&&lr(y,Fe,et)})(W,ae,y,Fe):null!==Fe?(null!==g.$text$&&(W.textContent=""),Cr(W,null,y,Fe,0,Fe.length-1)):null!==ae&&lr(ae,0,ae.length-1),H&&"svg"===de&&(H=!1)):(ge=W["s-cr"])?ge.parentNode.textContent=Ke:g.$text$!==Ke&&(W.data=Ke)},Ae=g=>{const y=g.childNodes;for(const W of y)if(1===W.nodeType){if(W["s-sr"]){const ae=W["s-sn"];W.hidden=!1;for(const Fe of y)if(Fe!==W)if(Fe["s-hn"]!==W["s-hn"]||""!==ae){if(1===Fe.nodeType&&(ae===Fe.getAttribute("slot")||ae===Fe["s-sn"])){W.hidden=!0;break}}else if(1===Fe.nodeType||3===Fe.nodeType&&""!==Fe.textContent.trim()){W.hidden=!0;break}}Ae(W)}},we=[],Kt=g=>{let y,W,ae;for(const Fe of g.childNodes){if(Fe["s-sr"]&&(y=Fe["s-cr"])&&y.parentNode){W=y.parentNode.childNodes;const de=Fe["s-sn"];for(ae=W.length-1;ae>=0;ae--)if(y=W[ae],!y["s-cn"]&&!y["s-nr"]&&y["s-hn"]!==Fe["s-hn"])if(en(y,de)){let Ke=we.find(ge=>ge.$nodeToRelocate$===y);T=!0,y["s-sn"]=y["s-sn"]||de,Ke?(Ke.$nodeToRelocate$["s-sh"]=Fe["s-hn"],Ke.$slotRefNode$=Fe):(y["s-sh"]=Fe["s-hn"],we.push({$slotRefNode$:Fe,$nodeToRelocate$:y})),y["s-sr"]&&we.map(ge=>{en(ge.$nodeToRelocate$,y["s-sn"])&&(Ke=we.find(et=>et.$nodeToRelocate$===y),Ke&&!ge.$slotRefNode$&&(ge.$slotRefNode$=Ke.$slotRefNode$))})}else we.some(Ke=>Ke.$nodeToRelocate$===y)||we.push({$nodeToRelocate$:y})}1===Fe.nodeType&&Kt(Fe)}},en=(g,y)=>1===g.nodeType?null===g.getAttribute("slot")&&""===y||g.getAttribute("slot")===y:g["s-sn"]===y||""===y,bn=g=>{g.$attrs$&&g.$attrs$.ref&&g.$attrs$.ref(null),g.$children$&&g.$children$.map(bn)},Cn=(g,y)=>{y&&!g.$onRenderResolve$&&y["s-p"]&&y["s-p"].push(new Promise(W=>g.$onRenderResolve$=W))},Kn=(g,y)=>{if(g.$flags$|=16,!(4&g.$flags$))return Cn(g,g.$ancestorComponent$),_s(()=>fr(g,y));g.$flags$|=512},fr=(g,y)=>{const ae=g.$lazyInstance$;let Fe;return y&&(g.$flags$|=256,g.$queuedListeners$&&(g.$queuedListeners$.map(([de,Ke])=>pr(ae,de,Ke)),g.$queuedListeners$=void 0),Fe=pr(ae,"componentWillLoad")),Fe=Yn(Fe,()=>pr(ae,"componentWillRender")),Yn(Fe,()=>yo(g,ae,y))},Yn=(g,y)=>on(g)?g.then(y):y(),on=g=>g instanceof Promise||g&&g.then&&"function"==typeof g.then,yo=function(){var g=(0,w.Z)(function*(y,W,ae){var Fe;const de=y.$hostElement$,ge=de["s-rc"];ae&&(g=>{const y=g.$cmpMeta$,W=g.$hostElement$,ae=y.$flags$,de=ze(W.shadowRoot?W.shadowRoot:W.getRootNode(),y,g.$modeName$);10&ae&&(W["s-sc"]=de,W.classList.add(de+"-h"),2&ae&&W.classList.add(de+"-s"))})(y);Lr(y,W,de,ae),ge&&(ge.map(Ge=>Ge()),de["s-rc"]=void 0);{const Ge=null!==(Fe=de["s-p"])&&void 0!==Fe?Fe:[],ut=()=>qi(y);0===Ge.length?ut():(Promise.all(Ge).then(ut),y.$flags$|=4,Ge.length=0)}});return function(W,ae,Fe){return g.apply(this,arguments)}}(),Lr=(g,y,W,ae)=>{try{y=y.render&&y.render(),g.$flags$&=-17,g.$flags$|=2,((g,y,W=!1)=>{var ae,Fe,de,Ke;const ge=g.$hostElement$,et=g.$cmpMeta$,Ge=g.$vnode$||Te(null,null),ut=(g=>g&&g.$tag$===rt)(y)?y:G(null,null,y);if(d=ge.tagName,et.$attrsToReflect$&&(ut.$attrs$=ut.$attrs$||{},et.$attrsToReflect$.map(([bt,Ct])=>ut.$attrs$[Ct]=ge[bt])),W&&ut.$attrs$)for(const bt of Object.keys(ut.$attrs$))ge.hasAttribute(bt)&&!["key","ref","style","class"].includes(bt)&&(ut.$attrs$[bt]=ge[bt]);if(ut.$tag$=null,ut.$flags$|=4,g.$vnode$=ut,ut.$elm$=Ge.$elm$=ge.shadowRoot||ge,Z=ge["s-sc"],$=ge["s-cr"],x=0!=(1&et.$flags$),T=!1,to(Ge,ut),an.$flags$|=1,Q){Kt(ut.$elm$);for(const bt of we){const Ct=bt.$nodeToRelocate$;if(!Ct["s-ol"]){const fn=cr.createTextNode("");fn["s-nr"]=Ct,Ct.parentNode.insertBefore(Ct["s-ol"]=fn,Ct)}}for(const bt of we){const Ct=bt.$nodeToRelocate$,fn=bt.$slotRefNode$;if(fn){const hr=fn.parentNode;let kr=fn.nextSibling;{let se=null===(ae=Ct["s-ol"])||void 0===ae?void 0:ae.previousSibling;for(;se;){let Wn=null!==(Fe=se["s-nr"])&&void 0!==Fe?Fe:null;if(Wn&&Wn["s-sn"]===Ct["s-sn"]&&hr===Wn.parentNode&&(Wn=Wn.nextSibling,!Wn||!Wn["s-nr"])){kr=Wn;break}se=se.previousSibling}}(!kr&&hr!==Ct.parentNode||Ct.nextSibling!==kr)&&Ct!==kr&&(!Ct["s-hn"]&&Ct["s-ol"]&&(Ct["s-hn"]=Ct["s-ol"].parentNode.nodeName),hr.insertBefore(Ct,kr),1===Ct.nodeType&&(Ct.hidden=null!==(de=Ct["s-ih"])&&void 0!==de&&de))}else 1===Ct.nodeType&&(W&&(Ct["s-ih"]=null!==(Ke=Ct.hidden)&&void 0!==Ke&&Ke),Ct.hidden=!0)}}T&&Ae(ut.$elm$),an.$flags$&=-2,we.length=0})(g,y,ae)}catch(Fe){no(Fe,g.$hostElement$)}return null},qi=g=>{const W=g.$hostElement$,Fe=g.$lazyInstance$,de=g.$ancestorComponent$;pr(Fe,"componentDidRender"),64&g.$flags$?pr(Fe,"componentDidUpdate"):(g.$flags$|=64,Sr(W),pr(Fe,"componentDidLoad"),g.$onReadyResolve$(W),de||En()),g.$onInstanceResolve$(W),g.$onRenderResolve$&&(g.$onRenderResolve$(),g.$onRenderResolve$=void 0),512&g.$flags$&&Qi(()=>Kn(g,!1)),g.$flags$&=-517},Uo=g=>{{const y=wr(g),W=y.$hostElement$.isConnected;return W&&2==(18&y.$flags$)&&Kn(y,!1),W}},En=g=>{Sr(cr.documentElement),Qi(()=>Pe(di,"appload",{detail:{namespace:"ionic"}}))},pr=(g,y,W)=>{if(g&&g[y])try{return g[y](W)}catch(ae){no(ae)}},Sr=g=>g.classList.add("hydrated"),mi=(g,y,W)=>{var ae;const Fe=g.prototype;if(y.$members$){g.watchers&&(y.$watchers$=g.watchers);const de=Object.entries(y.$members$);if(de.map(([Ke,[ge]])=>{31&ge||2&W&&32&ge?Object.defineProperty(Fe,Ke,{get(){return((g,y)=>wr(this).$instanceValues$.get(y))(0,Ke)},set(et){((g,y,W,ae)=>{const Fe=wr(g),de=Fe.$hostElement$,Ke=Fe.$instanceValues$.get(y),ge=Fe.$flags$,et=Fe.$lazyInstance$;W=((g,y)=>null==g||I(g)?g:4&y?"false"!==g&&(""===g||!!g):2&y?parseFloat(g):1&y?String(g):g)(W,ae.$members$[y][0]);const Ge=Number.isNaN(Ke)&&Number.isNaN(W);if((!(8&ge)||void 0===Ke)&&W!==Ke&&!Ge&&(Fe.$instanceValues$.set(y,W),et)){if(ae.$watchers$&&128&ge){const bt=ae.$watchers$[y];bt&&bt.map(Ct=>{try{et[Ct](W,Ke,y)}catch(fn){no(fn,de)}})}2==(18&ge)&&Kn(Fe,!1)}})(this,Ke,et,y)},configurable:!0,enumerable:!0}):1&W&&64&ge&&Object.defineProperty(Fe,Ke,{value(...et){var Ge;const ut=wr(this);return null===(Ge=ut?.$onInstancePromise$)||void 0===Ge?void 0:Ge.then(()=>{var bt;return null===(bt=ut.$lazyInstance$)||void 0===bt?void 0:bt[Ke](...et)})}})}),1&W){const Ke=new Map;Fe.attributeChangedCallback=function(ge,et,Ge){an.jmp(()=>{var ut;const bt=Ke.get(ge);if(this.hasOwnProperty(bt))Ge=this[bt],delete this[bt];else{if(Fe.hasOwnProperty(bt)&&"number"==typeof this[bt]&&this[bt]==Ge)return;if(null==bt){const Ct=wr(this),fn=Ct?.$flags$;if(fn&&!(8&fn)&&128&fn&&Ge!==et){const hr=Ct.$lazyInstance$,kr=null===(ut=y.$watchers$)||void 0===ut?void 0:ut[ge];kr?.forEach(se=>{null!=hr[se]&&hr[se].call(hr,Ge,et,ge)})}return}}this[bt]=(null!==Ge||"boolean"!=typeof this[bt])&&Ge})},g.observedAttributes=Array.from(new Set([...Object.keys(null!==(ae=y.$watchers$)&&void 0!==ae?ae:{}),...de.filter(([ge,et])=>15&et[0]).map(([ge,et])=>{var Ge;const ut=et[1]||ge;return Ke.set(ut,ge),512&et[0]&&(null===(Ge=y.$attrsToReflect$)||void 0===Ge||Ge.push([ge,ut])),ut})]))}}return g},Jt=function(){var g=(0,w.Z)(function*(y,W,ae,Fe){let de;if(!(32&W.$flags$)){W.$flags$|=32;{if(de=Vs(ae),de.then){const Ge=()=>{};de=yield de,Ge()}de.isProxied||(ae.$watchers$=de.watchers,mi(de,ae,2),de.isProxied=!0);const et=()=>{};W.$flags$|=8;try{new de(W)}catch(Ge){no(Ge)}W.$flags$&=-9,W.$flags$|=128,et(),Ho(W.$lazyInstance$)}if(de.style){let et=de.style;"string"!=typeof et&&(et=et[W.$modeName$=(g=>Ao.map(y=>y(g)).find(y=>!!y))(y)]);const Ge=kt(ae,W.$modeName$);if(!Er.has(Ge)){const ut=()=>{};Oe(Ge,et,!!(1&ae.$flags$)),ut()}}}const Ke=W.$ancestorComponent$,ge=()=>Kn(W,!0);Ke&&Ke["s-rc"]?Ke["s-rc"].push(ge):ge()});return function(W,ae,Fe,de){return g.apply(this,arguments)}}(),Ho=g=>{pr(g,"connectedCallback")},Wo=g=>{const y=g["s-cr"]=cr.createComment("");y["s-cn"]=!0,g.insertBefore(y,g.firstChild)},ci=g=>{pr(g,"disconnectedCallback")},re=function(){var g=(0,w.Z)(function*(y){if(!(1&an.$flags$)){const W=wr(y);W.$rmListeners$&&(W.$rmListeners$.map(ae=>ae()),W.$rmListeners$=void 0),W?.$lazyInstance$?ci(W.$lazyInstance$):W?.$onReadyPromise$&&W.$onReadyPromise$.then(()=>ci(W.$lazyInstance$))}});return function(W){return g.apply(this,arguments)}}(),gi=(g,y={})=>{var W;const Fe=[],de=y.exclude||[],Ke=di.customElements,ge=cr.head,et=ge.querySelector("meta[charset]"),Ge=cr.createElement("style"),ut=[],bt=cr.querySelectorAll(`[${pe}]`);let Ct,fn=!0,hr=0;for(Object.assign(an,y),an.$resourcesUrl$=new URL(y.resourcesUrl||"./",cr.baseURI).href,an.$flags$|=2;hr<bt.length;hr++)Oe(bt[hr].getAttribute(pe),rn(bt[hr].innerHTML),!0);let kr=!1;if(g.map(se=>{se[1].map(Wn=>{var vs;const Pn={$flags$:Wn[0],$tagName$:Wn[1],$members$:Wn[2],$listeners$:Wn[3]};4&Pn.$flags$&&(kr=!0),Pn.$members$=Wn[2],Pn.$listeners$=Wn[3],Pn.$attrsToReflect$=[],Pn.$watchers$=null!==(vs=Wn[4])&&void 0!==vs?vs:{};const ko=Pn.$tagName$,Ro=class extends HTMLElement{constructor(ys){super(ys),Xi(ys=this,Pn),1&Pn.$flags$&&ys.attachShadow({mode:"open",delegatesFocus:!!(16&Pn.$flags$)})}connectedCallback(){Ct&&(clearTimeout(Ct),Ct=null),fn?ut.push(this):an.jmp(()=>(g=>{if(!(1&an.$flags$)){const y=wr(g),W=y.$cmpMeta$,ae=()=>{};if(1&y.$flags$)To(g,y,W.$listeners$),y?.$lazyInstance$?Ho(y.$lazyInstance$):y?.$onReadyPromise$&&y.$onReadyPromise$.then(()=>Ho(y.$lazyInstance$));else{let Fe;if(y.$flags$|=1,Fe=g.getAttribute(oe),Fe){if(1&W.$flags$){const de=ze(g.shadowRoot,W,g.getAttribute("s-mode"));g.classList.remove(de+"-h",de+"-s")}((g,y,W,ae)=>{const de=g.shadowRoot,Ke=[],et=de?[]:null,Ge=ae.$vnode$=Te(y,null);an.$orgLocNodes$||fe(cr.body,an.$orgLocNodes$=new Map),g[oe]=W,g.removeAttribute(oe),_t(Ge,Ke,[],et,g,g,W),Ke.map(ut=>{const bt=ut.$hostId$+"."+ut.$nodeId$,Ct=an.$orgLocNodes$.get(bt),fn=ut.$elm$;Ct&&yi&&""===Ct["s-en"]&&Ct.parentNode.insertBefore(fn,Ct.nextSibling),de||(fn["s-hn"]=y,Ct&&(fn["s-ol"]=Ct,fn["s-ol"]["s-nr"]=fn)),an.$orgLocNodes$.delete(bt)}),de&&et.map(ut=>{ut&&de.appendChild(ut)})})(g,W.$tagName$,Fe,y)}Fe||12&W.$flags$&&Wo(g);{let de=g;for(;de=de.parentNode||de.host;)if(1===de.nodeType&&de.hasAttribute("s-id")&&de["s-p"]||de["s-p"]){Cn(y,y.$ancestorComponent$=de);break}}W.$members$&&Object.entries(W.$members$).map(([de,[Ke]])=>{if(31&Ke&&g.hasOwnProperty(de)){const ge=g[de];delete g[de],g[de]=ge}}),Jt(g,y,W)}ae()}})(this))}disconnectedCallback(){an.jmp(()=>re(this))}componentOnReady(){return wr(this).$onReadyPromise$}};Pn.$lazyBundleId$=se[0],!de.includes(ko)&&!Ke.get(ko)&&(Fe.push(ko),Ke.define(ko,mi(Ro,Pn,1)))})}),kr&&(Ge.innerHTML+=Le),Ge.innerHTML+=Fe+"{visibility:hidden}.hydrated{visibility:inherit}",Ge.innerHTML.length){Ge.setAttribute("data-styles","");const se=null!==(W=an.$nonce$)&&void 0!==W?W:Y(cr);null!=se&&Ge.setAttribute("nonce",se),ge.insertBefore(Ge,et?et.nextSibling:ge.firstChild)}fn=!1,ut.length?ut.map(se=>se.connectedCallback()):an.jmp(()=>Ct=setTimeout(En,30))},To=(g,y,W,ae)=>{W&&W.map(([Fe,de,Ke])=>{const ge=ui(g,Fe),et=Mo(y,Ke),Ge=ps(Fe);an.ael(ge,de,et,Ge),(y.$rmListeners$=y.$rmListeners$||[]).push(()=>an.rel(ge,de,et,Ge))})},Mo=(g,y)=>W=>{try{256&g.$flags$?g.$lazyInstance$[y](W):(g.$queuedListeners$=g.$queuedListeners$||[]).push([y,W])}catch(ae){no(ae)}},ui=(g,y)=>4&y?cr:8&y?di:16&y?cr.body:g,ps=g=>0!=(2&g),_i=new WeakMap,wr=g=>_i.get(g),Yi=(g,y)=>_i.set(y.$lazyInstance$=g,y),Xi=(g,y)=>{const W={$flags$:0,$hostElement$:g,$cmpMeta$:y,$instanceValues$:new Map};return W.$onInstancePromise$=new Promise(ae=>W.$onInstanceResolve$=ae),W.$onReadyPromise$=new Promise(ae=>W.$onReadyResolve$=ae),g["s-p"]=[],g["s-rc"]=[],To(g,W,y.$listeners$),_i.set(g,W)},ni=(g,y)=>y in g,no=(g,y)=>(0,console.error)(g,y),vi=new Map,Vs=(g,y,W)=>{const ae=g.$tagName$.replace(/-/g,"_"),Fe=g.$lazyBundleId$,de=vi.get(Fe);return de?de[ae]:S(863)(`./${Fe}.entry.js`).then(Ke=>(vi.set(Fe,Ke),Ke[ae]),no)},Er=new Map,Ao=[],di=typeof window<"u"?window:{},cr=di.document||{head:{}},an={$flags$:0,$resourcesUrl$:"",jmp:g=>g(),raf:g=>requestAnimationFrame(g),ael:(g,y,W,ae)=>g.addEventListener(y,W,ae),rel:(g,y,W,ae)=>g.removeEventListener(y,W,ae),ce:(g,y)=>new CustomEvent(g,y)},xi=g=>{Object.assign(an,g)},yi=!0,sa=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Ti=[],js=[],bi=(g,y)=>W=>{g.push(W),k||(k=!0,y&&4&an.$flags$?Qi(gs):an.raf(gs))},ms=g=>{for(let y=0;y<g.length;y++)try{g[y](performance.now())}catch(W){no(W)}g.length=0},gs=()=>{ms(Ti),ms(js),(k=Ti.length>0)&&an.raf(gs)},Qi=g=>Promise.resolve(void 0).then(g),Sl=bi(Ti,!1),_s=bi(js,!0)},5194:(ue,xe,S)=>{"use strict";S.d(xe,{a:()=>k,b:()=>Te,c:()=>B,i:()=>rt});var w=S(3426);class M{constructor(){this.m=new Map}reset($e){this.m=new Map(Object.entries($e))}get($e,ve){const ye=this.m.get($e);return void 0!==ye?ye:ve}getBoolean($e,ve=!1){const ye=this.m.get($e);return void 0===ye?ve:"string"==typeof ye?"true"===ye:!!ye}getNumber($e,ve){const ye=parseFloat(this.m.get($e));return isNaN(ye)?void 0!==ve?ve:NaN:ye}set($e,ve){this.m.set($e,ve)}}const B=new M,T="ionic:",Q="ionic-persist-config",k=(be,$e)=>("string"==typeof be&&($e=be,be=void 0),(be=>z(be))(be).includes($e)),z=(be=window)=>{if(typeof be>"u")return[];be.Ionic=be.Ionic||{};let $e=be.Ionic.platforms;return null==$e&&($e=be.Ionic.platforms=R(be),$e.forEach(ve=>be.document.documentElement.classList.add(`plt-${ve}`))),$e},R=be=>{const $e=B.get("platform");return Object.keys(Y).filter(ve=>{const ye=$e?.[ve];return"function"==typeof ye?ye(be):Y[ve](be)})},he=be=>!!(D(be,/iPad/i)||D(be,/Macintosh/i)&&ie(be)),q=be=>D(be,/android|sink/i),ie=be=>I(be,"(any-pointer:coarse)"),Le=be=>P(be)||O(be),P=be=>!!(be.cordova||be.phonegap||be.PhoneGap),O=be=>{const $e=be.Capacitor;return!!$e?.isNative},D=(be,$e)=>$e.test(be.navigator.userAgent),I=(be,$e)=>{var ve;return null===(ve=be.matchMedia)||void 0===ve?void 0:ve.call(be,$e).matches},Y={ipad:he,iphone:be=>D(be,/iPhone/i),ios:be=>D(be,/iPhone|iPod/i)||he(be),android:q,phablet:be=>{const $e=be.innerWidth,ve=be.innerHeight,ye=Math.min($e,ve),Qe=Math.max($e,ve);return ye>390&&ye<520&&Qe>620&&Qe<800},tablet:be=>{const $e=be.innerWidth,ve=be.innerHeight,ye=Math.min($e,ve),Qe=Math.max($e,ve);return he(be)||(be=>q(be)&&!D(be,/mobile/i))(be)||ye>460&&ye<820&&Qe>780&&Qe<1400},cordova:P,capacitor:O,electron:be=>D(be,/electron/i),pwa:be=>{var $e;return!!(null!==($e=be.matchMedia)&&void 0!==$e&&$e.call(be,"(display-mode: standalone)").matches||be.navigator.standalone)},mobile:ie,mobileweb:be=>ie(be)&&!Le(be),desktop:be=>!ie(be),hybrid:Le};let G;const Te=be=>be&&(0,w.g)(be)||G,rt=(be={})=>{if(typeof window>"u")return;const $e=window.document,ve=window,ye=ve.Ionic=ve.Ionic||{},Qe={};be._ael&&(Qe.ael=be._ael),be._rel&&(Qe.rel=be._rel),be._ce&&(Qe.ce=be._ce),(0,w.a)(Qe);const _t=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(be=>{try{const $e=be.sessionStorage.getItem(Q);return null!==$e?JSON.parse($e):{}}catch{return{}}})(ve)),{persistConfig:!1}),ye.config),(be=>{const $e={};return be.location.search.slice(1).split("&").map(ve=>ve.split("=")).map(([ve,ye])=>[decodeURIComponent(ve),decodeURIComponent(ye)]).filter(([ve])=>((be,$e)=>be.substr(0,$e.length)===$e)(ve,T)).map(([ve,ye])=>[ve.slice(6),ye]).forEach(([ve,ye])=>{$e[ve]=ye}),$e})(ve)),be);B.reset(_t),B.getBoolean("persistConfig")&&((be,$e)=>{try{be.sessionStorage.setItem(Q,JSON.stringify($e))}catch{return}})(ve,_t),z(ve),ye.config=B,ye.mode=G=B.get("mode",$e.documentElement.getAttribute("mode")||(k(ve,"ios")?"ios":"md")),B.set("mode",G),$e.documentElement.setAttribute("mode",G),$e.documentElement.classList.add(G),B.getBoolean("_testing")&&B.set("animated",!1);const fe=it=>{var He;return null===(He=it.tagName)||void 0===He?void 0:He.startsWith("ION-")},je=it=>["ios","md"].includes(it);(0,w.c)(it=>{for(;it;){const He=it.mode||it.getAttribute("mode");if(He){if(je(He))return He;fe(it)&&console.warn('Invalid ionic mode: "'+He+'", expected: "ios" or "md"')}it=it.parentElement}return G})}},5444:(ue,xe,S)=>{"use strict";S.r(xe),S.d(xe,{iosTransitionAnimation:()=>R,shadow:()=>x});var w=S(2723),M=S(8044);S(6940),S(3426);const d=he=>document.querySelector(`${he}.ion-cloned-element`),x=he=>he.shadowRoot||he,T=he=>{const Ie="ION-TABS"===he.tagName?he:he.querySelector("ion-tabs"),K="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Ie){const q=Ie.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=q?q.querySelector(K):null}return he.querySelector(K)},Q=(he,Ie)=>{const K="ION-TABS"===he.tagName?he:he.querySelector("ion-tabs");let q=[];if(null!=K){const N=K.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=N&&(q=N.querySelectorAll("ion-buttons"))}else q=he.querySelectorAll("ion-buttons");for(const N of q){const oe=N.closest("ion-header"),pe=oe&&!oe.classList.contains("header-collapse-condense-inactive"),ie=N.querySelector("ion-back-button"),ke=N.classList.contains("buttons-collapse");if(null!==ie&&("start"===N.slot||""===N.slot)&&(ke&&pe&&Ie||!ke))return ie}return null},k=(he,Ie,K,q,N,oe,pe,ie,ke)=>{var Le,P;const O=Ie?`calc(100% - ${N.right+4}px)`:N.left-4+"px",ne=Ie?"right":"left",ee=Ie?"left":"right",D=Ie?"right":"left",I=(null===(Le=oe.textContent)||void 0===Le?void 0:Le.trim())===(null===(P=ie.textContent)||void 0===P?void 0:P.trim()),G=(ke.height-V)/pe.height,Te=I?`scale(${ke.width/pe.width}, ${G})`:`scale(${G})`,rt="scale(1)",$e=x(q).querySelector("ion-icon").getBoundingClientRect(),ve=Ie?$e.width/2-($e.right-N.right)+"px":N.left-$e.width/2+"px",ye=Ie?`-${window.innerWidth-N.right}px`:`${N.left}px`,Qe=`${ke.top}px`,_t=`${N.top}px`,it=K?[{offset:0,transform:`translate3d(${ye}, ${_t}, 0)`},{offset:1,transform:`translate3d(${ve}, ${Qe}, 0)`}]:[{offset:0,transform:`translate3d(${ve}, ${Qe}, 0)`},{offset:1,transform:`translate3d(${ye}, ${_t}, 0)`}],Ot=K?[{offset:0,opacity:1,transform:rt},{offset:1,opacity:0,transform:Te}]:[{offset:0,opacity:0,transform:Te},{offset:1,opacity:1,transform:rt}],Me=K?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],Oe=(0,w.c)(),ze=(0,w.c)(),at=(0,w.c)(),kt=d("ion-back-button"),rn=x(kt).querySelector(".button-text"),Zt=x(kt).querySelector("ion-icon");kt.text=q.text,kt.mode=q.mode,kt.icon=q.icon,kt.color=q.color,kt.disabled=q.disabled,kt.style.setProperty("display","block"),kt.style.setProperty("position","fixed"),ze.addElement(Zt),Oe.addElement(rn),at.addElement(kt),at.beforeStyles({position:"absolute",top:"0px",[D]:"0px"}).keyframes(it),Oe.beforeStyles({"transform-origin":`${ne} top`}).beforeAddWrite(()=>{q.style.setProperty("display","none"),kt.style.setProperty(ne,O)}).afterAddWrite(()=>{q.style.setProperty("display",""),kt.style.setProperty("display","none"),kt.style.removeProperty(ne)}).keyframes(Ot),ze.beforeStyles({"transform-origin":`${ee} center`}).keyframes(Me),he.addAnimation([Oe,ze,at])},z=(he,Ie,K,q,N,oe,pe,ie)=>{var ke,Le;const P=Ie?"right":"left",O=Ie?`calc(100% - ${N.right}px)`:`${N.left}px`,ee=`${N.top}px`,I=Ie?`-${window.innerWidth-ie.right-8}px`:ie.x-8+"px",G=ie.y-2+"px",Te=(null===(ke=pe.textContent)||void 0===ke?void 0:ke.trim())===(null===(Le=q.textContent)||void 0===Le?void 0:Le.trim()),be=ie.height/(oe.height-V),$e="scale(1)",ve=Te?`scale(${ie.width/oe.width}, ${be})`:`scale(${be})`,_t=K?[{offset:0,opacity:0,transform:`translate3d(${I}, ${G}, 0) ${ve}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${ee}, 0) ${$e}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${ee}, 0) ${$e}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${I}, ${G}, 0) ${ve}`}],fe=d("ion-title"),je=(0,w.c)();fe.innerText=q.innerText,fe.size=q.size,fe.color=q.color,je.addElement(fe),je.beforeStyles({"transform-origin":`${P} top`,height:`${N.height}px`,display:"",position:"relative",[P]:O}).beforeAddWrite(()=>{q.style.setProperty("opacity","0")}).afterAddWrite(()=>{q.style.setProperty("opacity",""),fe.style.setProperty("display","none")}).keyframes(_t),he.addAnimation(je)},R=(he,Ie)=>{var K;try{const q="cubic-bezier(0.32,0.72,0,1)",N="opacity",oe="transform",pe="0%",ke="rtl"===he.ownerDocument.dir,Le=ke?"-99.5%":"99.5%",P=ke?"33%":"-33%",O=Ie.enteringEl,ne=Ie.leavingEl,ee="back"===Ie.direction,D=O.querySelector(":scope > ion-content"),I=O.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Y=O.querySelectorAll(":scope > ion-header > ion-toolbar"),G=(0,w.c)(),Te=(0,w.c)();if(G.addElement(O).duration((null!==(K=Ie.duration)&&void 0!==K?K:0)||540).easing(Ie.easing||q).fill("both").beforeRemoveClass("ion-page-invisible"),ne&&null!=he){const ve=(0,w.c)();ve.addElement(he),G.addAnimation(ve)}if(D||0!==Y.length||0!==I.length?(Te.addElement(D),Te.addElement(I)):Te.addElement(O.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),G.addAnimation(Te),ee?Te.beforeClearStyles([N]).fromTo("transform",`translateX(${P})`,`translateX(${pe})`).fromTo(N,.8,1):Te.beforeClearStyles([N]).fromTo("transform",`translateX(${Le})`,`translateX(${pe})`),D){const ve=x(D).querySelector(".transition-effect");if(ve){const ye=ve.querySelector(".transition-cover"),Qe=ve.querySelector(".transition-shadow"),_t=(0,w.c)(),fe=(0,w.c)(),je=(0,w.c)();_t.addElement(ve).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),fe.addElement(ye).beforeClearStyles([N]).fromTo(N,0,.1),je.addElement(Qe).beforeClearStyles([N]).fromTo(N,.03,.7),_t.addAnimation([fe,je]),Te.addAnimation([_t])}}const rt=O.querySelector("ion-header.header-collapse-condense"),{forward:be,backward:$e}=((he,Ie,K,q,N)=>{const oe=Q(q,K),pe=T(N),ie=T(q),ke=Q(N,K),Le=null!==oe&&null!==pe&&!K,P=null!==ie&&null!==ke&&K;if(Le){const O=pe.getBoundingClientRect(),ne=oe.getBoundingClientRect(),ee=x(oe).querySelector(".button-text"),D=ee.getBoundingClientRect(),Y=x(pe).querySelector(".toolbar-title").getBoundingClientRect();z(he,Ie,K,pe,O,Y,ee,D),k(he,Ie,K,oe,ne,ee,D,pe,Y)}else if(P){const O=ie.getBoundingClientRect(),ne=ke.getBoundingClientRect(),ee=x(ke).querySelector(".button-text"),D=ee.getBoundingClientRect(),Y=x(ie).querySelector(".toolbar-title").getBoundingClientRect();z(he,Ie,K,ie,O,Y,ee,D),k(he,Ie,K,ke,ne,ee,D,ie,Y)}return{forward:Le,backward:P}})(G,ke,ee,O,ne);if(Y.forEach(ve=>{const ye=(0,w.c)();ye.addElement(ve),G.addAnimation(ye);const Qe=(0,w.c)();Qe.addElement(ve.querySelector("ion-title"));const _t=(0,w.c)(),fe=Array.from(ve.querySelectorAll("ion-buttons,[menuToggle]")),je=ve.closest("ion-header"),it=je?.classList.contains("header-collapse-condense-inactive");let He;He=fe.filter(ee?Me=>{const Oe=Me.classList.contains("buttons-collapse");return Oe&&!it||!Oe}:Me=>!Me.classList.contains("buttons-collapse")),_t.addElement(He);const Dt=(0,w.c)();Dt.addElement(ve.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Ot=(0,w.c)();Ot.addElement(x(ve).querySelector(".toolbar-background"));const $t=(0,w.c)(),Pe=ve.querySelector("ion-back-button");if(Pe&&$t.addElement(Pe),ye.addAnimation([Qe,_t,Dt,Ot,$t]),_t.fromTo(N,.01,1),Dt.fromTo(N,.01,1),ee)it||Qe.fromTo("transform",`translateX(${P})`,`translateX(${pe})`).fromTo(N,.01,1),Dt.fromTo("transform",`translateX(${P})`,`translateX(${pe})`),$t.fromTo(N,.01,1);else if(rt||Qe.fromTo("transform",`translateX(${Le})`,`translateX(${pe})`).fromTo(N,.01,1),Dt.fromTo("transform",`translateX(${Le})`,`translateX(${pe})`),Ot.beforeClearStyles([N,"transform"]),je?.translucent?Ot.fromTo("transform",ke?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Ot.fromTo(N,.01,"var(--opacity)"),be||$t.fromTo(N,.01,1),Pe&&!be){const Oe=(0,w.c)();Oe.addElement(x(Pe).querySelector(".button-text")).fromTo("transform",ke?"translateX(-100px)":"translateX(100px)","translateX(0px)"),ye.addAnimation(Oe)}}),ne){const ve=(0,w.c)(),ye=ne.querySelector(":scope > ion-content"),Qe=ne.querySelectorAll(":scope > ion-header > ion-toolbar"),_t=ne.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(ye||0!==Qe.length||0!==_t.length?(ve.addElement(ye),ve.addElement(_t)):ve.addElement(ne.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),G.addAnimation(ve),ee){ve.beforeClearStyles([N]).fromTo("transform",`translateX(${pe})`,ke?"translateX(-100%)":"translateX(100%)");const fe=(0,M.g)(ne);G.afterAddWrite(()=>{"normal"===G.getDirection()&&fe.style.setProperty("display","none")})}else ve.fromTo("transform",`translateX(${pe})`,`translateX(${P})`).fromTo(N,1,.8);if(ye){const fe=x(ye).querySelector(".transition-effect");if(fe){const je=fe.querySelector(".transition-cover"),it=fe.querySelector(".transition-shadow"),He=(0,w.c)(),Dt=(0,w.c)(),Ot=(0,w.c)();He.addElement(fe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Dt.addElement(je).beforeClearStyles([N]).fromTo(N,.1,0),Ot.addElement(it).beforeClearStyles([N]).fromTo(N,.7,.03),He.addAnimation([Dt,Ot]),ve.addAnimation([He])}}Qe.forEach(fe=>{const je=(0,w.c)();je.addElement(fe);const it=(0,w.c)();it.addElement(fe.querySelector("ion-title"));const He=(0,w.c)(),Dt=fe.querySelectorAll("ion-buttons,[menuToggle]"),Ot=fe.closest("ion-header"),$t=Ot?.classList.contains("header-collapse-condense-inactive"),Pe=Array.from(Dt).filter(rn=>{const Zt=rn.classList.contains("buttons-collapse");return Zt&&!$t||!Zt});He.addElement(Pe);const Me=(0,w.c)(),Oe=fe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Oe.length>0&&Me.addElement(Oe);const ze=(0,w.c)();ze.addElement(x(fe).querySelector(".toolbar-background"));const at=(0,w.c)(),kt=fe.querySelector("ion-back-button");if(kt&&at.addElement(kt),je.addAnimation([it,He,Me,at,ze]),G.addAnimation(je),at.fromTo(N,.99,0),He.fromTo(N,.99,0),Me.fromTo(N,.99,0),ee){if($t||it.fromTo("transform",`translateX(${pe})`,ke?"translateX(-100%)":"translateX(100%)").fromTo(N,.99,0),Me.fromTo("transform",`translateX(${pe})`,ke?"translateX(-100%)":"translateX(100%)"),ze.beforeClearStyles([N,"transform"]),Ot?.translucent?ze.fromTo("transform","translateX(0px)",ke?"translateX(-100%)":"translateX(100%)"):ze.fromTo(N,"var(--opacity)",0),kt&&!$e){const Zt=(0,w.c)();Zt.addElement(x(kt).querySelector(".button-text")).fromTo("transform",`translateX(${pe})`,`translateX(${(ke?-124:124)+"px"})`),je.addAnimation(Zt)}}else $t||it.fromTo("transform",`translateX(${pe})`,`translateX(${P})`).fromTo(N,.99,0).afterClearStyles([oe,N]),Me.fromTo("transform",`translateX(${pe})`,`translateX(${P})`).afterClearStyles([oe,N]),at.afterClearStyles([N]),it.afterClearStyles([N]),He.afterClearStyles([N])})}return G}catch(q){throw q}},V=10},5922:(ue,xe,S)=>{"use strict";S.r(xe),S.d(xe,{mdTransitionAnimation:()=>$});var w=S(2723),M=S(8044);S(6940),S(3426);const $=(d,x)=>{var T,Q,H;const k="40px",R="back"===x.direction,he=x.leavingEl,Ie=(0,M.g)(x.enteringEl),K=Ie.querySelector("ion-toolbar"),q=(0,w.c)();if(q.addElement(Ie).fill("both").beforeRemoveClass("ion-page-invisible"),R?q.duration((null!==(T=x.duration)&&void 0!==T?T:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):q.duration((null!==(Q=x.duration)&&void 0!==Q?Q:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${k})`,"translateY(0px)").fromTo("opacity",.01,1),K){const N=(0,w.c)();N.addElement(K),q.addAnimation(N)}if(he&&R){q.duration((null!==(H=x.duration)&&void 0!==H?H:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const N=(0,w.c)();N.addElement((0,M.g)(he)).onFinish(oe=>{1===oe&&N.elements.length>0&&N.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${k})`).fromTo("opacity",1,0),q.addAnimation(N)}return q}},7261:(ue,xe,S)=>{"use strict";S.d(xe,{B:()=>it,G:()=>He,O:()=>Dt,a:()=>z,b:()=>R,c:()=>K,d:()=>Ot,e:()=>$t,f:()=>Te,g:()=>be,h:()=>ye,i:()=>_t,j:()=>N,k:()=>oe,l:()=>V,m:()=>he,n:()=>H,o:()=>ke,q:()=>Y,s:()=>je});var w=S(3918),M=S(6940),B=S(5194),Z=S(8573),$=S(1940),d=S(4675),x=S(6240);let T=0,Q=0;const H=new WeakMap,k=Pe=>({create:Me=>pe(Pe,Me),dismiss:(Me,Oe,ze)=>ee(document,Me,Oe,Pe,ze),getTop:()=>(0,w.Z)(function*(){return Y(document,Pe)})()}),z=k("ion-alert"),R=k("ion-action-sheet"),V=k("ion-loading"),he=k("ion-modal"),K=k("ion-popover"),N=Pe=>{typeof document<"u"&&ne(document);const Me=T++;Pe.overlayIndex=Me},oe=Pe=>(Pe.hasAttribute("id")||(Pe.id="ion-overlay-"+ ++Q),Pe.id),pe=(Pe,Me)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Pe).then(()=>{const Oe=document.createElement(Pe);return Oe.classList.add("overlay-hidden"),Object.assign(Oe,Object.assign(Object.assign({},Me),{hasController:!0})),$e(document).appendChild(Oe),new Promise(ze=>(0,d.c)(Oe,ze))}):Promise.resolve(),ie='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',ke=(Pe,Me)=>{let Oe=Pe.querySelector(ie);const ze=Oe?.shadowRoot;ze&&(Oe=ze.querySelector(ie)||Oe),Oe?(0,d.f)(Oe):Me.focus()},P=(Pe,Me)=>{const Oe=Array.from(Pe.querySelectorAll(ie));let ze=Oe.length>0?Oe[Oe.length-1]:null;const at=ze?.shadowRoot;at&&(ze=at.querySelector(ie)||ze),ze?ze.focus():Me.focus()},ne=Pe=>{0===T&&(T=1,Pe.addEventListener("focus",Me=>{((Pe,Me)=>{const Oe=Y(Me,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),ze=Pe.target;Oe&&ze&&!Oe.classList.contains("ion-disable-focus-trap")&&(Oe.shadowRoot?(()=>{if(Oe.contains(ze))Oe.lastFocus=ze;else{const rn=Oe.lastFocus;ke(Oe,Oe),rn===Me.activeElement&&P(Oe,Oe),Oe.lastFocus=Me.activeElement}})():(()=>{if(Oe===ze)Oe.lastFocus=void 0;else{const rn=(0,d.g)(Oe);if(!rn.contains(ze))return;const Zt=rn.querySelector(".ion-overlay-wrapper");if(!Zt)return;if(Zt.contains(ze)||ze===rn.querySelector("ion-backdrop"))Oe.lastFocus=ze;else{const Ft=Oe.lastFocus;ke(Zt,Oe),Ft===Me.activeElement&&P(Zt,Oe),Oe.lastFocus=Me.activeElement}}})())})(Me,Pe)},!0),Pe.addEventListener("ionBackButton",Me=>{const Oe=Y(Pe);Oe?.backdropDismiss&&Me.detail.register($.OVERLAY_BACK_BUTTON_PRIORITY,()=>Oe.dismiss(void 0,it))}),Pe.addEventListener("keydown",Me=>{if("Escape"===Me.key){const Oe=Y(Pe);Oe?.backdropDismiss&&Oe.dismiss(void 0,it)}}))},ee=(Pe,Me,Oe,ze,at)=>{const kt=Y(Pe,ze,at);return kt?kt.dismiss(Me,Oe):Promise.reject("overlay does not exist")},I=(Pe,Me)=>((Pe,Me)=>(void 0===Me&&(Me="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Pe.querySelectorAll(Me)).filter(Oe=>Oe.overlayIndex>0)))(Pe,Me).filter(Oe=>!(Pe=>Pe.classList.contains("overlay-hidden"))(Oe)),Y=(Pe,Me,Oe)=>{const ze=I(Pe,Me);return void 0===Oe?ze[ze.length-1]:ze.find(at=>at.id===Oe)},G=(Pe=!1)=>{const Oe=$e(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Oe&&(Pe?Oe.setAttribute("aria-hidden","true"):Oe.removeAttribute("aria-hidden"))},Te=function(){var Pe=(0,w.Z)(function*(Me,Oe,ze,at,kt){var rn,Zt;if(Me.presented)return;G(!0),Me.presented=!0,Me.willPresent.emit(),null===(rn=Me.willPresentShorthand)||void 0===rn||rn.emit();const Ft=(0,B.b)(Me),sn=Me.enterAnimation?Me.enterAnimation:B.c.get(Oe,"ios"===Ft?ze:at);(yield ve(Me,sn,Me.el,kt))&&(Me.didPresent.emit(),null===(Zt=Me.didPresentShorthand)||void 0===Zt||Zt.emit()),"ION-TOAST"!==Me.el.tagName&&rt(Me.el),Me.keyboardClose&&(null===document.activeElement||!Me.el.contains(document.activeElement))&&Me.el.focus()});return function(Oe,ze,at,kt,rn){return Pe.apply(this,arguments)}}(),rt=function(){var Pe=(0,w.Z)(function*(Me){let Oe=document.activeElement;if(!Oe)return;const ze=Oe?.shadowRoot;ze&&(Oe=ze.querySelector(ie)||Oe),yield Me.onDidDismiss(),Oe.focus()});return function(Oe){return Pe.apply(this,arguments)}}(),be=function(){var Pe=(0,w.Z)(function*(Me,Oe,ze,at,kt,rn,Zt){var Ft,sn;if(!Me.presented)return!1;void 0!==M.d&&1===I(M.d).length&&G(!1),Me.presented=!1;try{Me.el.style.setProperty("pointer-events","none"),Me.willDismiss.emit({data:Oe,role:ze}),null===(Ft=Me.willDismissShorthand)||void 0===Ft||Ft.emit({data:Oe,role:ze});const nr=(0,B.b)(Me),xn=Me.leaveAnimation?Me.leaveAnimation:B.c.get(at,"ios"===nr?kt:rn);ze!==He&&(yield ve(Me,xn,Me.el,Zt)),Me.didDismiss.emit({data:Oe,role:ze}),null===(sn=Me.didDismissShorthand)||void 0===sn||sn.emit({data:Oe,role:ze}),H.delete(Me),Me.el.classList.add("overlay-hidden"),Me.el.style.removeProperty("pointer-events"),void 0!==Me.el.lastFocus&&(Me.el.lastFocus=void 0)}catch(nr){console.error(nr)}return Me.el.remove(),!0});return function(Oe,ze,at,kt,rn,Zt,Ft){return Pe.apply(this,arguments)}}(),$e=Pe=>Pe.querySelector("ion-app")||Pe.body,ve=function(){var Pe=(0,w.Z)(function*(Me,Oe,ze,at){ze.classList.remove("overlay-hidden");const rn=Oe(Me.el,at);(!Me.animated||!B.c.getBoolean("animated",!0))&&rn.duration(0),Me.keyboardClose&&rn.beforeAddWrite(()=>{const Ft=ze.ownerDocument.activeElement;Ft?.matches("input,ion-input, ion-textarea")&&Ft.blur()});const Zt=H.get(Me)||[];return H.set(Me,[...Zt,rn]),yield rn.play(),!0});return function(Oe,ze,at,kt){return Pe.apply(this,arguments)}}(),ye=(Pe,Me)=>{let Oe;const ze=new Promise(at=>Oe=at);return Qe(Pe,Me,at=>{Oe(at.detail)}),ze},Qe=(Pe,Me,Oe)=>{const ze=at=>{(0,d.b)(Pe,Me,ze),Oe(at)};(0,d.a)(Pe,Me,ze)},_t=Pe=>"cancel"===Pe||Pe===it,fe=Pe=>Pe(),je=(Pe,Me)=>{if("function"==typeof Pe)return B.c.get("_zoneGate",fe)(()=>{try{return Pe(Me)}catch(ze){throw ze}})},it="backdrop",He="gesture",Dt=39,Ot=Pe=>{let Oe,Me=!1;const ze=(0,Z.C)(),at=(Zt=!1)=>{if(Oe&&!Zt)return{delegate:Oe,inline:Me};const{el:Ft,hasController:sn,delegate:nr}=Pe;return Me=null!==Ft.parentNode&&!sn,Oe=Me?nr||ze:nr,{inline:Me,delegate:Oe}};return{attachViewToDom:function(){var Zt=(0,w.Z)(function*(Ft){const{delegate:sn}=at(!0);if(sn)return yield sn.attachViewToDom(Pe.el,Ft);const{hasController:nr}=Pe;if(nr&&void 0!==Ft)throw new Error("framework delegate is missing");return null});return function(sn){return Zt.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Zt}=at();Zt&&void 0!==Pe.el&&Zt.removeViewFromDom(Pe.el.parentElement,Pe.el)}}},$t=()=>{let Pe;const Me=()=>{Pe&&(Pe(),Pe=void 0)};return{addClickListener:(ze,at)=>{Me();const kt=void 0!==at?document.getElementById(at):null;kt?Pe=((Zt,Ft)=>{const sn=()=>{Ft.present()};return Zt.addEventListener("click",sn),()=>{Zt.removeEventListener("click",sn)}})(kt,ze):(0,x.p)(`A trigger element with the ID "${at}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,ze)},removeClickListener:Me}}},2410:(ue,xe,S)=>{"use strict";var M=S(1491)("ArrayBuffer.prototype.byteLength",!0),B=S(9850);ue.exports=function($){return B($)?M?M($):$.byteLength:NaN}},1491:(ue,xe,S)=>{"use strict";var w=S(3485),M=S(1773),B=M(w("String.prototype.indexOf"));ue.exports=function($,d){var x=w($,!!d);return"function"==typeof x&&B($,".prototype.")>-1?M(x):x}},1773:(ue,xe,S)=>{"use strict";var w=S(8956),M=S(3485),B=S(3931),Z=M("%TypeError%"),$=M("%Function.prototype.apply%"),d=M("%Function.prototype.call%"),x=M("%Reflect.apply%",!0)||w.call(d,$),T=M("%Object.defineProperty%",!0),Q=M("%Math.max%");if(T)try{T({},"a",{value:1})}catch{T=null}ue.exports=function(z){if("function"!=typeof z)throw new Z("a function is required");var R=x(w,d,arguments);return B(R,1+Q(0,z.length-(arguments.length-1)),!0)};var H=function(){return x(w,$,arguments)};T?T(ue.exports,"apply",{value:H}):ue.exports.apply=H},7303:ue=>{var xe={utf8:{stringToBytes:function(S){return xe.bin.stringToBytes(unescape(encodeURIComponent(S)))},bytesToString:function(S){return decodeURIComponent(escape(xe.bin.bytesToString(S)))}},bin:{stringToBytes:function(S){for(var w=[],M=0;M<S.length;M++)w.push(255&S.charCodeAt(M));return w},bytesToString:function(S){for(var w=[],M=0;M<S.length;M++)w.push(String.fromCharCode(S[M]));return w.join("")}}};ue.exports=xe},3754:ue=>{var xe,S;xe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ue.exports=S={rotl:function(w,M){return w<<M|w>>>32-M},rotr:function(w,M){return w<<32-M|w>>>M},endian:function(w){if(w.constructor==Number)return 16711935&S.rotl(w,8)|4278255360&S.rotl(w,24);for(var M=0;M<w.length;M++)w[M]=S.endian(w[M]);return w},randomBytes:function(w){for(var M=[];w>0;w--)M.push(Math.floor(256*Math.random()));return M},bytesToWords:function(w){for(var M=[],B=0,Z=0;B<w.length;B++,Z+=8)M[Z>>>5]|=w[B]<<24-Z%32;return M},wordsToBytes:function(w){for(var M=[],B=0;B<32*w.length;B+=8)M.push(w[B>>>5]>>>24-B%32&255);return M},bytesToHex:function(w){for(var M=[],B=0;B<w.length;B++)M.push((w[B]>>>4).toString(16)),M.push((15&w[B]).toString(16));return M.join("")},hexToBytes:function(w){for(var M=[],B=0;B<w.length;B+=2)M.push(parseInt(w.substr(B,2),16));return M},bytesToBase64:function(w){for(var M=[],B=0;B<w.length;B+=3)for(var Z=w[B]<<16|w[B+1]<<8|w[B+2],$=0;$<4;$++)M.push(8*B+6*$<=8*w.length?xe.charAt(Z>>>6*(3-$)&63):"=");return M.join("")},base64ToBytes:function(w){w=w.replace(/[^A-Z0-9+\/]/gi,"");for(var M=[],B=0,Z=0;B<w.length;Z=++B%4)0!=Z&&M.push((xe.indexOf(w.charAt(B-1))&Math.pow(2,-2*Z+8)-1)<<2*Z|xe.indexOf(w.charAt(B))>>>6-2*Z);return M}}},307:(ue,xe,S)=>{"use strict";var w=S(5747),M=S(1491),B=S(4300),Z=S(3485),$=S(1324),d=S(4355),x=S(500),T=S(1568),Q=S(9604),H=S(9850),k=S(6994),z=S(9649),R=S(5327),V=S(5692),he=S(8460),Ie=S(9148),K=S(927),q=S(2410),N=M("SharedArrayBuffer.prototype.byteLength",!0),oe=M("Date.prototype.getTime"),pe=Object.getPrototypeOf,ie=M("Object.prototype.toString"),ke=Z("%Set%",!0),Le=M("Map.prototype.has",!0),P=M("Map.prototype.get",!0),O=M("Map.prototype.size",!0),ne=M("Set.prototype.add",!0),ee=M("Set.prototype.delete",!0),D=M("Set.prototype.has",!0),I=M("Set.prototype.size",!0);function Y(fe,je,it,He){for(var Ot,Dt=$(fe);(Ot=Dt.next())&&!Ot.done;)if($e(je,Ot.value,it,He))return ee(fe,Ot.value),!0;return!1}function G(fe){return typeof fe>"u"?null:"object"!=typeof fe?"symbol"!=typeof fe&&("string"!=typeof fe&&"number"!=typeof fe||+fe==+fe):void 0}function Te(fe,je,it,He,Dt,Ot){var $t=G(it);if(null!=$t)return $t;var Pe=P(je,$t),Me=w({},Dt,{strict:!1});return!(typeof Pe>"u"&&!Le(je,$t)||!$e(He,Pe,Me,Ot))&&!Le(fe,$t)&&$e(He,Pe,Me,Ot)}function rt(fe,je,it){var He=G(it);return He??(D(je,He)&&!D(fe,He))}function be(fe,je,it,He,Dt,Ot){for(var Pe,Me,$t=$(fe);(Pe=$t.next())&&!Pe.done;)if($e(it,Me=Pe.value,Dt,Ot)&&$e(He,P(je,Me),Dt,Ot))return ee(fe,Me),!0;return!1}function $e(fe,je,it,He){var Dt=it||{};if(Dt.strict?x(fe,je):fe===je)return!0;if(he(fe)!==he(je))return!1;if(!fe||!je||"object"!=typeof fe&&"object"!=typeof je)return Dt.strict?x(fe,je):fe==je;var Oe,Pe=He.has(fe),Me=He.has(je);if(Pe&&Me){if(He.get(fe)===He.get(je))return!0}else Oe={};return Pe||He.set(fe,Oe),Me||He.set(je,Oe),function _t(fe,je,it,He){var Dt,Ot;if(typeof fe!=typeof je||null==fe||null==je||ie(fe)!==ie(je)||T(fe)!==T(je))return!1;if(Q(fe)!==Q(je))return!1;var Me=fe instanceof Error,Oe=je instanceof Error;if(Me!==Oe||(Me||Oe)&&(fe.name!==je.name||fe.message!==je.message))return!1;var ze=z(fe),at=z(je);if(ze!==at||(ze||at)&&(fe.source!==je.source||B(fe)!==B(je)))return!1;var kt=k(fe),rn=k(je);if(kt!==rn||(kt||rn)&&oe(fe)!==oe(je)||it.strict&&pe&&pe(fe)!==pe(je))return!1;var Zt=K(fe),Ft=K(je);if(Zt!==Ft)return!1;if(Zt||Ft){if(fe.length!==je.length)return!1;for(Dt=0;Dt<fe.length;Dt++)if(fe[Dt]!==je[Dt])return!1;return!0}var sn=ve(fe),nr=ve(je);if(sn!==nr)return!1;if(sn||nr){if(fe.length!==je.length)return!1;for(Dt=0;Dt<fe.length;Dt++)if(fe[Dt]!==je[Dt])return!1;return!0}var xn=H(fe),vo=H(je);if(xn!==vo)return!1;if(xn||vo)return q(fe)===q(je)&&"function"==typeof Uint8Array&&$e(new Uint8Array(fe),new Uint8Array(je),it,He);var lo=R(fe),Io=R(je);if(lo!==Io)return!1;if(lo||Io)return N(fe)===N(je)&&"function"==typeof Uint8Array&&$e(new Uint8Array(fe),new Uint8Array(je),it,He);if(typeof fe!=typeof je)return!1;var Cr=V(fe),lr=V(je);if(Cr.length!==lr.length)return!1;for(Cr.sort(),lr.sort(),Dt=Cr.length-1;Dt>=0;Dt--)if(Cr[Dt]!=lr[Dt])return!1;for(Dt=Cr.length-1;Dt>=0;Dt--)if(!$e(fe[Ot=Cr[Dt]],je[Ot],it,He))return!1;var eo=Ie(fe),xo=Ie(je);return eo===xo&&("Set"===eo||"Set"===xo?function ye(fe,je,it,He){if(I(fe)!==I(je))return!1;for(var $t,Pe,Me,Dt=$(fe),Ot=$(je);($t=Dt.next())&&!$t.done;)if($t.value&&"object"==typeof $t.value)Me||(Me=new ke),ne(Me,$t.value);else if(!D(je,$t.value)){if(it.strict||!rt(fe,je,$t.value))return!1;Me||(Me=new ke),ne(Me,$t.value)}if(Me){for(;(Pe=Ot.next())&&!Pe.done;)if(Pe.value&&"object"==typeof Pe.value){if(!Y(Me,Pe.value,it.strict,He))return!1}else if(!it.strict&&!D(fe,Pe.value)&&!Y(Me,Pe.value,it.strict,He))return!1;return 0===I(Me)}return!0}(fe,je,it,He):"Map"!==eo||function Qe(fe,je,it,He){if(O(fe)!==O(je))return!1;for(var $t,Pe,Me,Oe,ze,at,Dt=$(fe),Ot=$(je);($t=Dt.next())&&!$t.done;)if(ze=$t.value[1],(Oe=$t.value[0])&&"object"==typeof Oe)Me||(Me=new ke),ne(Me,Oe);else if(typeof(at=P(je,Oe))>"u"&&!Le(je,Oe)||!$e(ze,at,it,He)){if(it.strict||!Te(fe,je,Oe,ze,it,He))return!1;Me||(Me=new ke),ne(Me,Oe)}if(Me){for(;(Pe=Ot.next())&&!Pe.done;)if(at=Pe.value[1],(Oe=Pe.value[0])&&"object"==typeof Oe){if(!be(Me,fe,Oe,at,it,He))return!1}else if(!(it.strict||fe.has(Oe)&&$e(P(fe,Oe),at,it,He)||be(Me,fe,Oe,at,w({},it,{strict:!1}),He)))return!1;return 0===I(Me)}return!0}(fe,je,it,He))}(fe,je,Dt,He)}function ve(fe){return!(!fe||"object"!=typeof fe||"number"!=typeof fe.length||"function"!=typeof fe.copy||"function"!=typeof fe.slice||fe.length>0&&"number"!=typeof fe[0]||!(fe.constructor&&fe.constructor.isBuffer&&fe.constructor.isBuffer(fe)))}ue.exports=function(je,it,He){return $e(je,it,He,d())}},4467:(ue,xe,S)=>{"use strict";var w=S(7811)(),M=S(3485),B=w&&M("%Object.defineProperty%",!0);if(B)try{B({},"a",{value:1})}catch{B=!1}var Z=M("%SyntaxError%"),$=M("%TypeError%"),d=S(6078);ue.exports=function(T,Q,H){if(!T||"object"!=typeof T&&"function"!=typeof T)throw new $("`obj` must be an object or a function`");if("string"!=typeof Q&&"symbol"!=typeof Q)throw new $("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new $("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new $("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new $("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new $("`loose`, if provided, must be a boolean");var k=arguments.length>3?arguments[3]:null,z=arguments.length>4?arguments[4]:null,R=arguments.length>5?arguments[5]:null,V=arguments.length>6&&arguments[6],he=!!d&&d(T,Q);if(B)B(T,Q,{configurable:null===R&&he?he.configurable:!R,enumerable:null===k&&he?he.enumerable:!k,value:H,writable:null===z&&he?he.writable:!z});else{if(!V&&(k||z||R))throw new Z("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");T[Q]=H}}},9567:(ue,xe,S)=>{"use strict";var w=S(5692),M="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),B=Object.prototype.toString,Z=Array.prototype.concat,$=S(4467),x=S(7811)(),T=function(H,k,z,R){if(k in H)if(!0===R){if(H[k]===z)return}else if(!function(H){return"function"==typeof H&&"[object Function]"===B.call(H)}(R)||!R())return;x?$(H,k,z,!0):$(H,k,z)},Q=function(H,k){var z=arguments.length>2?arguments[2]:{},R=w(k);M&&(R=Z.call(R,Object.getOwnPropertySymbols(k)));for(var V=0;V<R.length;V+=1)T(H,R[V],k[R[V]],z[R[V]])};Q.supportsDescriptors=!!x,ue.exports=Q},1633:function(ue,xe){!function(S){"use strict";var z,B=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,Z=536870912,$=2*Z,x=new WeakMap,Q=function(z,R){return function(V){var he=R.get(V),Ie=void 0===he?V.size:he<$?he+1:0;if(!V.has(Ie))return z(V,Ie);if(V.size<Z){for(;V.has(Ie);)Ie=Math.floor(Math.random()*$);return z(V,Ie)}if(V.size>B)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;V.has(Ie);)Ie=Math.floor(Math.random()*B);return z(V,Ie)}}((z=x,function(R,V){return z.set(R,V),V}),x),H=function(z){return function(R){var V=z(R);return R.add(V),V}}(Q);S.addUniqueNumber=H,S.generateUniqueNumber=Q}(xe)},2418:(ue,xe,S)=>{"use strict";var w=S(5487),M=Object.prototype.toString,B=Object.prototype.hasOwnProperty;ue.exports=function(Q,H,k){if(!w(H))throw new TypeError("iterator must be a function");var z;arguments.length>=3&&(z=k),"[object Array]"===M.call(Q)?function(Q,H,k){for(var z=0,R=Q.length;z<R;z++)B.call(Q,z)&&(null==k?H(Q[z],z,Q):H.call(k,Q[z],z,Q))}(Q,H,z):"string"==typeof Q?function(Q,H,k){for(var z=0,R=Q.length;z<R;z++)null==k?H(Q.charAt(z),z,Q):H.call(k,Q.charAt(z),z,Q)}(Q,H,z):function(Q,H,k){for(var z in Q)B.call(Q,z)&&(null==k?H(Q[z],z,Q):H.call(k,Q[z],z,Q))}(Q,H,z)}},8026:ue=>{"use strict";var S=Object.prototype.toString,w=Math.max,B=function(x,T){for(var Q=[],H=0;H<x.length;H+=1)Q[H]=x[H];for(var k=0;k<T.length;k+=1)Q[k+x.length]=T[k];return Q};ue.exports=function(x){var T=this;if("function"!=typeof T||"[object Function]"!==S.apply(T))throw new TypeError("Function.prototype.bind called on incompatible "+T);for(var H,Q=function(x,T){for(var Q=[],H=1,k=0;H<x.length;H+=1,k+=1)Q[k]=x[H];return Q}(arguments),z=w(0,T.length-Q.length),R=[],V=0;V<z;V++)R[V]="$"+V;if(H=Function("binder","return function ("+function(d,x){for(var T="",Q=0;Q<d.length;Q+=1)T+=d[Q],Q+1<d.length&&(T+=",");return T}(R)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof H){var Ie=T.apply(this,B(Q,arguments));return Object(Ie)===Ie?Ie:this}return T.apply(x,B(Q,arguments))}),T.prototype){var he=function(){};he.prototype=T.prototype,H.prototype=new he,he.prototype=null}return H}},8956:(ue,xe,S)=>{"use strict";var w=S(8026);ue.exports=Function.prototype.bind||w},7688:ue=>{"use strict";var xe=function(){return"string"==typeof function(){}.name},S=Object.getOwnPropertyDescriptor;if(S)try{S([],"length")}catch{S=null}xe.functionsHaveConfigurableNames=function(){if(!xe()||!S)return!1;var B=S(function(){},"name");return!!B&&!!B.configurable};var w=Function.prototype.bind;xe.boundFunctionsHaveNames=function(){return xe()&&"function"==typeof w&&""!==function(){}.bind().name},ue.exports=xe},3485:(ue,xe,S)=>{"use strict";var w,M=SyntaxError,B=Function,Z=TypeError,$=function(D){try{return B('"use strict"; return ('+D+").constructor;")()}catch{}},d=Object.getOwnPropertyDescriptor;if(d)try{d({},"")}catch{d=null}var x=function(){throw new Z},T=d?function(){try{return x}catch{try{return d(arguments,"callee").get}catch{return x}}}():x,Q=S(2337)(),H=S(1441)(),k=Object.getPrototypeOf||(H?function(D){return D.__proto__}:null),z={},R=typeof Uint8Array>"u"||!k?w:k(Uint8Array),V={"%AggregateError%":typeof AggregateError>"u"?w:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?w:ArrayBuffer,"%ArrayIteratorPrototype%":Q&&k?k([][Symbol.iterator]()):w,"%AsyncFromSyncIteratorPrototype%":w,"%AsyncFunction%":z,"%AsyncGenerator%":z,"%AsyncGeneratorFunction%":z,"%AsyncIteratorPrototype%":z,"%Atomics%":typeof Atomics>"u"?w:Atomics,"%BigInt%":typeof BigInt>"u"?w:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?w:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?w:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?w:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?w:Float32Array,"%Float64Array%":typeof Float64Array>"u"?w:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?w:FinalizationRegistry,"%Function%":B,"%GeneratorFunction%":z,"%Int8Array%":typeof Int8Array>"u"?w:Int8Array,"%Int16Array%":typeof Int16Array>"u"?w:Int16Array,"%Int32Array%":typeof Int32Array>"u"?w:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Q&&k?k(k([][Symbol.iterator]())):w,"%JSON%":"object"==typeof JSON?JSON:w,"%Map%":typeof Map>"u"?w:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Q||!k?w:k((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?w:Promise,"%Proxy%":typeof Proxy>"u"?w:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?w:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?w:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Q||!k?w:k((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?w:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Q&&k?k(""[Symbol.iterator]()):w,"%Symbol%":Q?Symbol:w,"%SyntaxError%":M,"%ThrowTypeError%":T,"%TypedArray%":R,"%TypeError%":Z,"%Uint8Array%":typeof Uint8Array>"u"?w:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?w:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?w:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?w:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?w:WeakMap,"%WeakRef%":typeof WeakRef>"u"?w:WeakRef,"%WeakSet%":typeof WeakSet>"u"?w:WeakSet};if(k)try{null.error}catch(D){var he=k(k(D));V["%Error.prototype%"]=he}var Ie=function D(I){var Y;if("%AsyncFunction%"===I)Y=$("async function () {}");else if("%GeneratorFunction%"===I)Y=$("function* () {}");else if("%AsyncGeneratorFunction%"===I)Y=$("async function* () {}");else if("%AsyncGenerator%"===I){var G=D("%AsyncGeneratorFunction%");G&&(Y=G.prototype)}else if("%AsyncIteratorPrototype%"===I){var Te=D("%AsyncGenerator%");Te&&k&&(Y=k(Te.prototype))}return V[I]=Y,Y},K={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},q=S(8956),N=S(7528),oe=q.call(Function.call,Array.prototype.concat),pe=q.call(Function.apply,Array.prototype.splice),ie=q.call(Function.call,String.prototype.replace),ke=q.call(Function.call,String.prototype.slice),Le=q.call(Function.call,RegExp.prototype.exec),P=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,O=/\\(\\)?/g,ee=function(I,Y){var Te,G=I;if(N(K,G)&&(G="%"+(Te=K[G])[0]+"%"),N(V,G)){var rt=V[G];if(rt===z&&(rt=Ie(G)),typeof rt>"u"&&!Y)throw new Z("intrinsic "+I+" exists, but is not available. Please file an issue!");return{alias:Te,name:G,value:rt}}throw new M("intrinsic "+I+" does not exist!")};ue.exports=function(I,Y){if("string"!=typeof I||0===I.length)throw new Z("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof Y)throw new Z('"allowMissing" argument must be a boolean');if(null===Le(/^%?[^%]*%?$/,I))throw new M("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var G=function(I){var Y=ke(I,0,1),G=ke(I,-1);if("%"===Y&&"%"!==G)throw new M("invalid intrinsic syntax, expected closing `%`");if("%"===G&&"%"!==Y)throw new M("invalid intrinsic syntax, expected opening `%`");var Te=[];return ie(I,P,function(rt,be,$e,ve){Te[Te.length]=$e?ie(ve,O,"$1"):be||rt}),Te}(I),Te=G.length>0?G[0]:"",rt=ee("%"+Te+"%",Y),be=rt.name,$e=rt.value,ve=!1,ye=rt.alias;ye&&(Te=ye[0],pe(G,oe([0,1],ye)));for(var Qe=1,_t=!0;Qe<G.length;Qe+=1){var fe=G[Qe],je=ke(fe,0,1),it=ke(fe,-1);if(('"'===je||"'"===je||"`"===je||'"'===it||"'"===it||"`"===it)&&je!==it)throw new M("property names with quotes must have matching quotes");if(("constructor"===fe||!_t)&&(ve=!0),N(V,be="%"+(Te+="."+fe)+"%"))$e=V[be];else if(null!=$e){if(!(fe in $e)){if(!Y)throw new Z("base intrinsic for "+I+" exists, but the property is not available.");return}if(d&&Qe+1>=G.length){var He=d($e,fe);$e=(_t=!!He)&&"get"in He&&!("originalValue"in He.get)?He.get:$e[fe]}else _t=N($e,fe),$e=$e[fe];_t&&!ve&&(V[be]=$e)}}return $e}},6078:(ue,xe,S)=>{"use strict";var M=S(3485)("%Object.getOwnPropertyDescriptor%",!0);if(M)try{M([],"length")}catch{M=null}ue.exports=M},5112:ue=>{"use strict";var xe=typeof BigInt<"u"&&BigInt;ue.exports=function(){return"function"==typeof xe&&"function"==typeof BigInt&&"bigint"==typeof xe(42)&&"bigint"==typeof BigInt(42)}},7811:(ue,xe,S)=>{"use strict";var M=S(3485)("%Object.defineProperty%",!0),B=function(){if(M)try{return M({},"a",{value:1}),!0}catch{return!1}return!1};B.hasArrayLengthDefineBug=function(){if(!B())return null;try{return 1!==M([],"length",{value:1}).length}catch{return!0}},ue.exports=B},1441:ue=>{"use strict";var xe={foo:{}},S=Object;ue.exports=function(){return{__proto__:xe}.foo===xe.foo&&!({__proto__:null}instanceof S)}},2337:(ue,xe,S)=>{"use strict";var w=typeof Symbol<"u"&&Symbol,M=S(2759);ue.exports=function(){return"function"==typeof w&&"function"==typeof Symbol&&"symbol"==typeof w("foo")&&"symbol"==typeof Symbol("bar")&&M()}},2759:ue=>{"use strict";ue.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var S={},w=Symbol("test"),M=Object(w);if("string"==typeof w||"[object Symbol]"!==Object.prototype.toString.call(w)||"[object Symbol]"!==Object.prototype.toString.call(M))return!1;for(w in S[w]=42,S)return!1;if("function"==typeof Object.keys&&0!==Object.keys(S).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(S).length)return!1;var Z=Object.getOwnPropertySymbols(S);if(1!==Z.length||Z[0]!==w||!Object.prototype.propertyIsEnumerable.call(S,w))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var $=Object.getOwnPropertyDescriptor(S,w);if(42!==$.value||!0!==$.enumerable)return!1}return!0}},6518:(ue,xe,S)=>{"use strict";var w=S(2759);ue.exports=function(){return w()&&!!Symbol.toStringTag}},7528:(ue,xe,S)=>{"use strict";var w=Function.prototype.call,M=Object.prototype.hasOwnProperty,B=S(8956);ue.exports=B.call(w,M)},2605:(ue,xe,S)=>{"use strict";var w=S(3485),M=S(7528),B=S(4355)(),Z=w("%TypeError%"),$={assert:function(d,x){if(!d||"object"!=typeof d&&"function"!=typeof d)throw new Z("`O` is not an object");if("string"!=typeof x)throw new Z("`slot` must be a string");if(B.assert(d),!$.has(d,x))throw new Z("`"+x+"` is not present on `O`")},get:function(d,x){if(!d||"object"!=typeof d&&"function"!=typeof d)throw new Z("`O` is not an object");if("string"!=typeof x)throw new Z("`slot` must be a string");var T=B.get(d);return T&&T["$"+x]},has:function(d,x){if(!d||"object"!=typeof d&&"function"!=typeof d)throw new Z("`O` is not an object");if("string"!=typeof x)throw new Z("`slot` must be a string");var T=B.get(d);return!!T&&M(T,"$"+x)},set:function(d,x,T){if(!d||"object"!=typeof d&&"function"!=typeof d)throw new Z("`O` is not an object");if("string"!=typeof x)throw new Z("`slot` must be a string");var Q=B.get(d);Q||B.set(d,Q={}),Q["$"+x]=T}};Object.freeze&&Object.freeze($),ue.exports=$},1568:(ue,xe,S)=>{"use strict";var w=S(6518)(),B=S(1491)("Object.prototype.toString"),Z=function(T){return!(w&&T&&"object"==typeof T&&Symbol.toStringTag in T)&&"[object Arguments]"===B(T)},$=function(T){return!!Z(T)||null!==T&&"object"==typeof T&&"number"==typeof T.length&&T.length>=0&&"[object Array]"!==B(T)&&"[object Function]"===B(T.callee)},d=function(){return Z(arguments)}();Z.isLegacyArguments=$,ue.exports=d?Z:$},9850:(ue,xe,S)=>{"use strict";var w=S(1773),M=S(1491),B=S(3485),Z=S(3631),$=B("ArrayBuffer",!0),d=B("Float32Array",!0),x=M("ArrayBuffer.prototype.byteLength",!0),T=$&&!x&&(new $).slice,Q=T&&w(T);ue.exports=x||Q?function(k){if(!k||"object"!=typeof k)return!1;try{return x?x(k):Q(k,0),!0}catch{return!1}}:d?function(k){try{return new d(k).buffer===k&&!Z(k)}catch(z){return"object"==typeof k&&"RangeError"===z.name}}:function(k){return!1}},7050:(ue,xe,S)=>{"use strict";if(S(5112)()){var M=BigInt.prototype.valueOf;ue.exports=function($){return!(null===$||typeof $>"u"||"boolean"==typeof $||"string"==typeof $||"number"==typeof $||"symbol"==typeof $||"function"==typeof $)&&("bigint"==typeof $||function($){try{return M.call($),!0}catch{}return!1}($))}}else ue.exports=function($){return!1}},2856:(ue,xe,S)=>{"use strict";var w=S(1491),M=w("Boolean.prototype.toString"),B=w("Object.prototype.toString"),d=S(6518)();ue.exports=function(T){return"boolean"==typeof T||null!==T&&"object"==typeof T&&(d&&Symbol.toStringTag in T?function(T){try{return M(T),!0}catch{return!1}}(T):"[object Boolean]"===B(T))}},7617:ue=>{function xe(w){return!!w.constructor&&"function"==typeof w.constructor.isBuffer&&w.constructor.isBuffer(w)}ue.exports=function(w){return null!=w&&(xe(w)||function S(w){return"function"==typeof w.readFloatLE&&"function"==typeof w.slice&&xe(w.slice(0,0))}(w)||!!w._isBuffer)}},5487:ue=>{"use strict";var w,M,xe=Function.prototype.toString,S="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof S&&"function"==typeof Object.defineProperty)try{w=Object.defineProperty({},"length",{get:function(){throw M}}),M={},S(function(){throw 42},null,w)}catch(K){K!==M&&(S=null)}else S=null;var B=/^\s*class\b/,Z=function(q){try{var N=xe.call(q);return B.test(N)}catch{return!1}},$=function(q){try{return!Z(q)&&(xe.call(q),!0)}catch{return!1}},d=Object.prototype.toString,R="function"==typeof Symbol&&!!Symbol.toStringTag,V=!(0 in[,]),he=function(){return!1};if("object"==typeof document){var Ie=document.all;d.call(Ie)===d.call(document.all)&&(he=function(q){if((V||!q)&&(typeof q>"u"||"object"==typeof q))try{var N=d.call(q);return("[object HTMLAllCollection]"===N||"[object HTML document.all class]"===N||"[object HTMLCollection]"===N||"[object Object]"===N)&&null==q("")}catch{}return!1})}ue.exports=S?function(q){if(he(q))return!0;if(!q||"function"!=typeof q&&"object"!=typeof q)return!1;try{S(q,null,w)}catch(N){if(N!==M)return!1}return!Z(q)&&$(q)}:function(q){if(he(q))return!0;if(!q||"function"!=typeof q&&"object"!=typeof q)return!1;if(R)return $(q);if(Z(q))return!1;var N=d.call(q);return!("[object Function]"!==N&&"[object GeneratorFunction]"!==N&&!/^\[object HTML/.test(N))&&$(q)}},6994:(ue,xe,S)=>{"use strict";var w=Date.prototype.getDay,B=Object.prototype.toString,$=S(6518)();ue.exports=function(x){return"object"==typeof x&&null!==x&&($?function(x){try{return w.call(x),!0}catch{return!1}}(x):"[object Date]"===B.call(x))}},6128:ue=>{"use strict";var w,xe="function"==typeof Map&&Map.prototype?Map:null,S="function"==typeof Set&&Set.prototype?Set:null;xe||(w=function($){return!1});var M=xe?Map.prototype.has:null,B=S?Set.prototype.has:null;!w&&!M&&(w=function($){return!1}),ue.exports=w||function($){if(!$||"object"!=typeof $)return!1;try{if(M.call($),B)try{B.call($)}catch{return!0}return $ instanceof xe}catch{}return!1}},9065:(ue,xe,S)=>{"use strict";var w=Number.prototype.toString,B=Object.prototype.toString,$=S(6518)();ue.exports=function(x){return"number"==typeof x||"object"==typeof x&&($?function(x){try{return w.call(x),!0}catch{return!1}}(x):"[object Number]"===B.call(x))}},9649:(ue,xe,S)=>{"use strict";var B,Z,$,d,w=S(1491),M=S(6518)();if(M){B=w("Object.prototype.hasOwnProperty"),Z=w("RegExp.prototype.exec"),$={};var x=function(){throw $};d={toString:x,valueOf:x},"symbol"==typeof Symbol.toPrimitive&&(d[Symbol.toPrimitive]=x)}var T=w("Object.prototype.toString"),Q=Object.getOwnPropertyDescriptor;ue.exports=M?function(z){if(!z||"object"!=typeof z)return!1;var R=Q(z,"lastIndex");if(!R||!B(R,"value"))return!1;try{Z(z,d)}catch(he){return he===$}}:function(z){return!(!z||"object"!=typeof z&&"function"!=typeof z)&&"[object RegExp]"===T(z)}},5918:ue=>{"use strict";var w,xe="function"==typeof Map&&Map.prototype?Map:null,S="function"==typeof Set&&Set.prototype?Set:null;S||(w=function($){return!1});var M=xe?Map.prototype.has:null,B=S?Set.prototype.has:null;!w&&!B&&(w=function($){return!1}),ue.exports=w||function($){if(!$||"object"!=typeof $)return!1;try{if(B.call($),M)try{M.call($)}catch{return!0}return $ instanceof S}catch{}return!1}},5327:(ue,xe,S)=>{"use strict";var M=S(1491)("SharedArrayBuffer.prototype.byteLength",!0);ue.exports=M?function(Z){if(!Z||"object"!=typeof Z)return!1;try{return M(Z),!0}catch{return!1}}:function(Z){return!1}},2706:(ue,xe,S)=>{"use strict";var w=String.prototype.valueOf,B=Object.prototype.toString,$=S(6518)();ue.exports=function(x){return"string"==typeof x||"object"==typeof x&&($?function(x){try{return w.call(x),!0}catch{return!1}}(x):"[object String]"===B.call(x))}},2630:(ue,xe,S)=>{"use strict";var w=Object.prototype.toString;if(S(2337)()){var B=Symbol.prototype.toString,Z=/^Symbol\(.*\)$/;ue.exports=function(x){if("symbol"==typeof x)return!0;if("[object Symbol]"!==w.call(x))return!1;try{return function(x){return"symbol"==typeof x.valueOf()&&Z.test(B.call(x))}(x)}catch{return!1}}}else ue.exports=function(x){return!1}},3631:(ue,xe,S)=>{"use strict";var w=S(927);ue.exports=function(B){return!!w(B)}},1545:ue=>{"use strict";var w,xe="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,S="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;xe||(w=function($){return!1});var M=xe?xe.prototype.has:null,B=S?S.prototype.has:null;!w&&!M&&(w=function($){return!1}),ue.exports=w||function($){if(!$||"object"!=typeof $)return!1;try{if(M.call($,M),B)try{B.call($,B)}catch{return!0}return $ instanceof xe}catch{}return!1}},9043:(ue,xe,S)=>{"use strict";var w=S(3485),M=S(1491),B=w("%WeakSet%",!0),Z=M("WeakSet.prototype.has",!0);if(Z){var $=M("WeakMap.prototype.has",!0);ue.exports=function(x){if(!x||"object"!=typeof x)return!1;try{if(Z(x,Z),$)try{$(x,$)}catch{return!0}return x instanceof B}catch{}return!1}}else ue.exports=function(x){return!1}},9604:ue=>{var xe={}.toString;ue.exports=Array.isArray||function(S){return"[object Array]"==xe.call(S)}},3219:(ue,xe,S)=>{var w,M,B,Z,$;w=S(3754),M=S(7303).utf8,B=S(7617),Z=S(7303).bin,($=function(d,x){d.constructor==String?d=x&&"binary"===x.encoding?Z.stringToBytes(d):M.stringToBytes(d):B(d)?d=Array.prototype.slice.call(d,0):!Array.isArray(d)&&d.constructor!==Uint8Array&&(d=d.toString());for(var T=w.bytesToWords(d),Q=8*d.length,H=1732584193,k=-271733879,z=-1732584194,R=271733878,V=0;V<T.length;V++)T[V]=16711935&(T[V]<<8|T[V]>>>24)|4278255360&(T[V]<<24|T[V]>>>8);T[Q>>>5]|=128<<Q%32,T[14+(Q+64>>>9<<4)]=Q;var he=$._ff,Ie=$._gg,K=$._hh,q=$._ii;for(V=0;V<T.length;V+=16){var N=H,oe=k,pe=z,ie=R;H=he(H,k,z,R,T[V+0],7,-680876936),R=he(R,H,k,z,T[V+1],12,-389564586),z=he(z,R,H,k,T[V+2],17,606105819),k=he(k,z,R,H,T[V+3],22,-1044525330),H=he(H,k,z,R,T[V+4],7,-176418897),R=he(R,H,k,z,T[V+5],12,1200080426),z=he(z,R,H,k,T[V+6],17,-1473231341),k=he(k,z,R,H,T[V+7],22,-45705983),H=he(H,k,z,R,T[V+8],7,1770035416),R=he(R,H,k,z,T[V+9],12,-1958414417),z=he(z,R,H,k,T[V+10],17,-42063),k=he(k,z,R,H,T[V+11],22,-1990404162),H=he(H,k,z,R,T[V+12],7,1804603682),R=he(R,H,k,z,T[V+13],12,-40341101),z=he(z,R,H,k,T[V+14],17,-1502002290),H=Ie(H,k=he(k,z,R,H,T[V+15],22,1236535329),z,R,T[V+1],5,-165796510),R=Ie(R,H,k,z,T[V+6],9,-1069501632),z=Ie(z,R,H,k,T[V+11],14,643717713),k=Ie(k,z,R,H,T[V+0],20,-373897302),H=Ie(H,k,z,R,T[V+5],5,-701558691),R=Ie(R,H,k,z,T[V+10],9,38016083),z=Ie(z,R,H,k,T[V+15],14,-660478335),k=Ie(k,z,R,H,T[V+4],20,-405537848),H=Ie(H,k,z,R,T[V+9],5,568446438),R=Ie(R,H,k,z,T[V+14],9,-1019803690),z=Ie(z,R,H,k,T[V+3],14,-187363961),k=Ie(k,z,R,H,T[V+8],20,1163531501),H=Ie(H,k,z,R,T[V+13],5,-1444681467),R=Ie(R,H,k,z,T[V+2],9,-51403784),z=Ie(z,R,H,k,T[V+7],14,1735328473),H=K(H,k=Ie(k,z,R,H,T[V+12],20,-1926607734),z,R,T[V+5],4,-378558),R=K(R,H,k,z,T[V+8],11,-2022574463),z=K(z,R,H,k,T[V+11],16,1839030562),k=K(k,z,R,H,T[V+14],23,-35309556),H=K(H,k,z,R,T[V+1],4,-1530992060),R=K(R,H,k,z,T[V+4],11,1272893353),z=K(z,R,H,k,T[V+7],16,-155497632),k=K(k,z,R,H,T[V+10],23,-1094730640),H=K(H,k,z,R,T[V+13],4,681279174),R=K(R,H,k,z,T[V+0],11,-358537222),z=K(z,R,H,k,T[V+3],16,-722521979),k=K(k,z,R,H,T[V+6],23,76029189),H=K(H,k,z,R,T[V+9],4,-640364487),R=K(R,H,k,z,T[V+12],11,-421815835),z=K(z,R,H,k,T[V+15],16,530742520),H=q(H,k=K(k,z,R,H,T[V+2],23,-995338651),z,R,T[V+0],6,-198630844),R=q(R,H,k,z,T[V+7],10,1126891415),z=q(z,R,H,k,T[V+14],15,-1416354905),k=q(k,z,R,H,T[V+5],21,-57434055),H=q(H,k,z,R,T[V+12],6,1700485571),R=q(R,H,k,z,T[V+3],10,-1894986606),z=q(z,R,H,k,T[V+10],15,-1051523),k=q(k,z,R,H,T[V+1],21,-2054922799),H=q(H,k,z,R,T[V+8],6,1873313359),R=q(R,H,k,z,T[V+15],10,-30611744),z=q(z,R,H,k,T[V+6],15,-1560198380),k=q(k,z,R,H,T[V+13],21,1309151649),H=q(H,k,z,R,T[V+4],6,-145523070),R=q(R,H,k,z,T[V+11],10,-1120210379),z=q(z,R,H,k,T[V+2],15,718787259),k=q(k,z,R,H,T[V+9],21,-343485551),H=H+N>>>0,k=k+oe>>>0,z=z+pe>>>0,R=R+ie>>>0}return w.endian([H,k,z,R])})._ff=function(d,x,T,Q,H,k,z){var R=d+(x&T|~x&Q)+(H>>>0)+z;return(R<<k|R>>>32-k)+x},$._gg=function(d,x,T,Q,H,k,z){var R=d+(x&Q|T&~Q)+(H>>>0)+z;return(R<<k|R>>>32-k)+x},$._hh=function(d,x,T,Q,H,k,z){var R=d+(x^T^Q)+(H>>>0)+z;return(R<<k|R>>>32-k)+x},$._ii=function(d,x,T,Q,H,k,z){var R=d+(T^(x|~Q))+(H>>>0)+z;return(R<<k|R>>>32-k)+x},$._blocksize=16,$._digestsize=16,ue.exports=function(d,x){if(null==d)throw new Error("Illegal argument "+d);var T=w.wordsToBytes($(d,x));return x&&x.asBytes?T:x&&x.asString?Z.bytesToString(T):w.bytesToHex(T)}},5580:(ue,xe)=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});var S=[];S[0]=function(){return function(){}},S[1]=function(Z,$){return typeof $>"u"?Z:function(x){Z(x,$)}};var B=function(){function Z(){this.hasHandlers=!1,this._handlers=[],this._contexts=[],this._createDispatcher()}return Z.prototype.addHandler=function($,d){return this.isHandlerAttached($,d)||(this._handlers.push($),this._contexts.push(d),this._createDispatcher(),this._updateHasHandlers()),this},Z.prototype.removeHandler=function($,d){var x=this._getHandlerIndex($,d);return typeof x<"u"&&(this._handlers.splice(x,1),this._contexts.splice(x,1),this._createDispatcher(),this._updateHasHandlers()),this},Z.prototype.isHandlerAttached=function($,d){return typeof this._getHandlerIndex($,d)<"u"},Z.prototype._updateHasHandlers=function(){this.hasHandlers=!!this._handlers.length},Z.prototype._getHandlerIndex=function($,d){var T,x=this._handlers.length;for(T=0;T<x&&(this._handlers[T]!==$||this._contexts[T]!==d);T++);return T<x?T:void 0},Z.prototype._createDispatcher=function(){this.dispatch=function w(Z){return S[Z]||(S[Z]=function M(Z){for(var $="return function dispatcher"+Z+"(payload) {\n",d=[],x=[],T=0;T<Z;T++)d.push("cb"+T),x.push("ctx"+T),$+="    cb"+T+"(payload, ctx"+T+");\n";return $+="};",new(Function.bind.apply(Function,[void 0].concat(d.concat(x),[$])))}(Z)),S[Z]}(this._handlers.length).apply(this,this._handlers.concat(this._contexts))},Z}();xe.default=B},5861:(ue,xe,S)=>{"use strict";var M=S(5580);xe.j=M.default},588:function(ue,xe){var S,M;void 0!==(M="function"==typeof(S=function(){"use strict";var B=Object.prototype.hasOwnProperty,Z=Object.prototype.toString,$="boolean"==typeof(new RegExp).sticky;function d(D){return D&&"[object RegExp]"===Z.call(D)}function x(D){return D&&"object"==typeof D&&!d(D)&&!Array.isArray(D)}function Q(D){return new RegExp("|"+D).exec("").length-1}function H(D){return"("+D+")"}function k(D){return D.length?"(?:"+D.map(function(Y){return"(?:"+Y+")"}).join("|")+")":"(?!)"}function z(D){if("string"==typeof D)return"(?:"+function T(D){return D.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}(D)+")";if(d(D)){if(D.ignoreCase)throw new Error("RegExp /i flag not allowed");if(D.global)throw new Error("RegExp /g flag is implied");if(D.sticky)throw new Error("RegExp /y flag is implied");if(D.multiline)throw new Error("RegExp /m flag is implied");return D.source}throw new Error("Not a pattern: "+D)}function R(D,I){return D.length>I?D:Array(I-D.length+1).join(" ")+D}function K(D,I){if(x(I)||(I={match:I}),I.include)throw new Error("Matching rules cannot also include states");var Y={defaultType:D,lineBreaks:!!I.error||!!I.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var G in I)B.call(I,G)&&(Y[G]=I[G]);if("string"==typeof Y.type&&D!==Y.type)throw new Error("Type transform cannot be a string (type '"+Y.type+"' for token '"+D+"')");var Te=Y.match;return Y.match=Array.isArray(Te)?Te:Te?[Te]:[],Y.match.sort(function(rt,be){return d(rt)&&d(be)?0:d(be)?-1:d(rt)?1:be.length-rt.length}),Y}function q(D){return Array.isArray(D)?function Ie(D){for(var I=[],Y=0;Y<D.length;Y++){var G=D[Y];if(G.include)for(var Te=[].concat(G.include),rt=0;rt<Te.length;rt++)I.push({include:Te[rt]});else{if(!G.type)throw new Error("Rule has no type: "+JSON.stringify(G));I.push(K(G.type,G))}}return I}(D):function he(D){for(var I=Object.getOwnPropertyNames(D),Y=[],G=0;G<I.length;G++){var Te=I[G],be=[].concat(D[Te]);if("include"!==Te){var ve=[];be.forEach(function(ye){x(ye)?(ve.length&&Y.push(K(Te,ve)),Y.push(K(Te,ye)),ve=[]):ve.push(ye)}),ve.length&&Y.push(K(Te,ve))}else for(var $e=0;$e<be.length;$e++)Y.push({include:be[$e]})}return Y}(D)}var N=K("error",{lineBreaks:!0,shouldThrow:!0});function oe(D,I){for(var Y=null,G=Object.create(null),Te=!0,rt=null,be=[],$e=[],ve=0;ve<D.length;ve++)D[ve].fallback&&(Te=!1);for(ve=0;ve<D.length;ve++){var ye=D[ve];if(ye.include)throw new Error("Inheritance is not allowed in stateless lexers");if(ye.error||ye.fallback){if(Y)throw!ye.fallback==!Y.fallback?new Error("Multiple "+(ye.fallback?"fallback":"error")+" rules not allowed (for token '"+ye.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+ye.defaultType+"')");Y=ye}var Qe=ye.match.slice();if(Te)for(;Qe.length&&"string"==typeof Qe[0]&&1===Qe[0].length;)G[Qe.shift().charCodeAt(0)]=ye;if(ye.pop||ye.push||ye.next){if(!I)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+ye.defaultType+"')");if(ye.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+ye.defaultType+"')")}if(0!==Qe.length){Te=!1,be.push(ye);for(var fe=0;fe<Qe.length;fe++){var je=Qe[fe];if(d(je))if(null===rt)rt=je.unicode;else if(rt!==je.unicode&&!1===ye.fallback)throw new Error("If one rule is /u then all must be")}var it=k(Qe.map(z)),He=new RegExp(it);if(He.test(""))throw new Error("RegExp matches empty string: "+He);if(Q(it)>0)throw new Error("RegExp has capture groups: "+He+"\nUse (?: \u2026 ) instead");if(!ye.lineBreaks&&He.test("\n"))throw new Error("Rule should declare lineBreaks: "+He);$e.push(H(it))}}var Ot=Y&&Y.fallback,$t=$&&!Ot?"ym":"gm",Pe=$||Ot?"":"|";return!0===rt&&($t+="u"),{regexp:new RegExp(k($e)+Pe,$t),groups:be,fast:G,error:Y||N}}function ie(D,I,Y){var G=D&&(D.push||D.next);if(G&&!Y[G])throw new Error("Missing state '"+G+"' (in token '"+D.defaultType+"' of state '"+I+"')");if(D&&D.pop&&1!=+D.pop)throw new Error("pop must be 1 (in token '"+D.defaultType+"' of state '"+I+"')")}var P=function(D,I){this.startState=I,this.states=D,this.buffer="",this.stack=[],this.reset()};P.prototype.reset=function(D,I){return this.buffer=D||"",this.index=0,this.line=I?I.line:1,this.col=I?I.col:1,this.queuedToken=I?I.queuedToken:null,this.queuedText=I?I.queuedText:"",this.queuedThrow=I?I.queuedThrow:null,this.setState(I?I.state:this.startState),this.stack=I&&I.stack?I.stack.slice():[],this},P.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedText:this.queuedText,queuedThrow:this.queuedThrow}},P.prototype.setState=function(D){if(D&&this.state!==D){this.state=D;var I=this.states[D];this.groups=I.groups,this.error=I.error,this.re=I.regexp,this.fast=I.fast}},P.prototype.popState=function(){this.setState(this.stack.pop())},P.prototype.pushState=function(D){this.stack.push(this.state),this.setState(D)};var O=$?function(D,I){return D.exec(I)}:function(D,I){var Y=D.exec(I);return 0===Y[0].length?null:Y};function ne(){return this.value}if(P.prototype._getGroup=function(D){for(var I=this.groups.length,Y=0;Y<I;Y++)if(void 0!==D[Y+1])return this.groups[Y];throw new Error("Cannot find token type for matched text")},P.prototype.next=function(){var D=this.index;if(this.queuedGroup){var I=this._token(this.queuedGroup,this.queuedText,D);return this.queuedGroup=null,this.queuedText="",I}var Y=this.buffer;if(D!==Y.length){if(be=this.fast[Y.charCodeAt(D)])return this._token(be,Y.charAt(D),D);var G=this.re;G.lastIndex=D;var Te=O(G,Y),rt=this.error;if(null==Te)return this._token(rt,Y.slice(D,Y.length),D);var be=this._getGroup(Te),$e=Te[0];return rt.fallback&&Te.index!==D?(this.queuedGroup=be,this.queuedText=$e,this._token(rt,Y.slice(D,Te.index),D)):this._token(be,$e,D)}},P.prototype._token=function(D,I,Y){var G=0;if(D.lineBreaks){var Te=/\n/g,rt=1;if("\n"===I)G=1;else for(;Te.exec(I);)G++,rt=Te.lastIndex}var be={type:"function"==typeof D.type&&D.type(I)||D.defaultType,value:"function"==typeof D.value?D.value(I):I,text:I,toString:ne,offset:Y,lineBreaks:G,line:this.line,col:this.col},$e=I.length;if(this.index+=$e,this.line+=G,0!==G?this.col=$e-rt+1:this.col+=$e,D.shouldThrow)throw new Error(this.formatError(be,"invalid syntax"));return D.pop?this.popState():D.push?this.pushState(D.push):D.next&&this.setState(D.next),be},typeof Symbol<"u"&&Symbol.iterator){var ee=function(D){this.lexer=D};ee.prototype.next=function(){var D=this.lexer.next();return{value:D,done:!D}},ee.prototype[Symbol.iterator]=function(){return this},P.prototype[Symbol.iterator]=function(){return new ee(this)}}return P.prototype.formatError=function(D,I){if(null==D){var Y=this.buffer.slice(this.index);D={text:Y,offset:this.index,lineBreaks:-1===Y.indexOf("\n")?0:1,line:this.line,col:this.col}}var Te=Math.max(D.line-2,1),be=String(D.line+2).length,$e=function V(D,I){for(var Y=D.length,G=0;;){var Te=D.lastIndexOf("\n",Y-1);if(-1===Te||(Y=Te,++G===I)||0===Y)break}return D.substring(G<I?0:Y+1).split("\n")}(this.buffer,this.line-D.line+2+1).slice(0,5),ve=[];ve.push(I+" at line "+D.line+" col "+D.col+":"),ve.push("");for(var ye=0;ye<$e.length;ye++){var Qe=$e[ye],_t=Te+ye;ve.push(R(String(_t),be)+"  "+Qe),_t===D.line&&ve.push(R("",be+D.col+1)+"^")}return ve.join("\n")},P.prototype.clone=function(){return new P(this.states,this.state)},P.prototype.has=function(D){return!0},{compile:function pe(D){var I=oe(q(D));return new P({start:I},"start")},states:function ke(D,I){var Y=D.$all?q(D.$all):[];delete D.$all;var G=Object.getOwnPropertyNames(D);I||(I=G[0]);for(var Te=Object.create(null),rt=0;rt<G.length;rt++)Te[be=G[rt]]=q(D[be]).concat(Y);for(rt=0;rt<G.length;rt++)for(var $e=Te[be=G[rt]],ve=Object.create(null),ye=0;ye<$e.length;ye++){var Qe=$e[ye];if(Qe.include){var _t=[ye,1];if(Qe.include!==be&&!ve[Qe.include]){ve[Qe.include]=!0;var fe=Te[Qe.include];if(!fe)throw new Error("Cannot include nonexistent state '"+Qe.include+"' (in state '"+be+"')");for(var je=0;je<fe.length;je++){var it=fe[je];-1===$e.indexOf(it)&&_t.push(it)}}$e.splice.apply($e,_t),ye--}}var He=Object.create(null);for(rt=0;rt<G.length;rt++){var be;He[be=G[rt]]=oe(Te[be],!0)}for(rt=0;rt<G.length;rt++){var Dt=G[rt],Ot=He[Dt],$t=Ot.groups;for(ye=0;ye<$t.length;ye++)ie($t[ye],Dt,He);var Pe=Object.getOwnPropertyNames(Ot.fast);for(ye=0;ye<Pe.length;ye++)ie(Ot.fast[Pe[ye]],Dt,He)}return new P(He,I)},error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:function Le(D){for(var I=typeof Map<"u",Y=I?new Map:Object.create(null),G=Object.getOwnPropertyNames(D),Te=0;Te<G.length;Te++){var rt=G[Te],be=D[rt];(Array.isArray(be)?be:[be]).forEach(function(ve){if("string"!=typeof ve)throw new Error("keyword must be string (in keyword '"+rt+"')");I?Y.set(ve,rt):Y[ve]=rt})}return function(ve){return I?Y.get(ve):Y[ve]}}}})?S.apply(xe,[]):S)&&(ue.exports=M)},2720:(ue,xe,S)=>{var w="function"==typeof Map&&Map.prototype,M=Object.getOwnPropertyDescriptor&&w?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,B=w&&M&&"function"==typeof M.get?M.get:null,Z=w&&Map.prototype.forEach,$="function"==typeof Set&&Set.prototype,d=Object.getOwnPropertyDescriptor&&$?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,x=$&&d&&"function"==typeof d.get?d.get:null,T=$&&Set.prototype.forEach,H="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,z="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,V="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,he=Boolean.prototype.valueOf,Ie=Object.prototype.toString,K=Function.prototype.toString,q=String.prototype.match,N=String.prototype.slice,oe=String.prototype.replace,pe=String.prototype.toUpperCase,ie=String.prototype.toLowerCase,ke=RegExp.prototype.test,Le=Array.prototype.concat,P=Array.prototype.join,O=Array.prototype.slice,ne=Math.floor,ee="function"==typeof BigInt?BigInt.prototype.valueOf:null,D=Object.getOwnPropertySymbols,I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,Y="function"==typeof Symbol&&"object"==typeof Symbol.iterator,G="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,Te=Object.prototype.propertyIsEnumerable,rt=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Ae){return Ae.__proto__}:null);function be(Ae,we){if(Ae===1/0||Ae===-1/0||Ae!=Ae||Ae&&Ae>-1e3&&Ae<1e3||ke.call(/e/,we))return we;var Kt=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof Ae){var en=Ae<0?-ne(-Ae):ne(Ae);if(en!==Ae){var bn=String(en),zt=N.call(we,bn.length+1);return oe.call(bn,Kt,"$&_")+"."+oe.call(oe.call(zt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return oe.call(we,Kt,"$&_")}var $e=S(4654),ve=$e.custom,ye=Pe(ve)?ve:null;function Qe(Ae,we,Kt){var en="double"===(Kt.quoteStyle||we)?'"':"'";return en+Ae+en}function _t(Ae){return oe.call(String(Ae),/"/g,"&quot;")}function fe(Ae){return!("[object Array]"!==at(Ae)||G&&"object"==typeof Ae&&G in Ae)}function it(Ae){return!("[object RegExp]"!==at(Ae)||G&&"object"==typeof Ae&&G in Ae)}function Pe(Ae){if(Y)return Ae&&"object"==typeof Ae&&Ae instanceof Symbol;if("symbol"==typeof Ae)return!0;if(!Ae||"object"!=typeof Ae||!I)return!1;try{return I.call(Ae),!0}catch{}return!1}ue.exports=function Ae(we,Kt,en,bn){var zt=Kt||{};if(ze(zt,"quoteStyle")&&"single"!==zt.quoteStyle&&"double"!==zt.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ze(zt,"maxStringLength")&&("number"==typeof zt.maxStringLength?zt.maxStringLength<0&&zt.maxStringLength!==1/0:null!==zt.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Cn=!ze(zt,"customInspect")||zt.customInspect;if("boolean"!=typeof Cn&&"symbol"!==Cn)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ze(zt,"indent")&&null!==zt.indent&&"\t"!==zt.indent&&!(parseInt(zt.indent,10)===zt.indent&&zt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ze(zt,"numericSeparator")&&"boolean"!=typeof zt.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Kn=zt.numericSeparator;if(typeof we>"u")return"undefined";if(null===we)return"null";if("boolean"==typeof we)return we?"true":"false";if("string"==typeof we)return lo(we,zt);if("number"==typeof we){if(0===we)return 1/0/we>0?"0":"-0";var fr=String(we);return Kn?be(we,fr):fr}if("bigint"==typeof we){var Yn=String(we)+"n";return Kn?be(we,Yn):Yn}var on=typeof zt.depth>"u"?5:zt.depth;if(typeof en>"u"&&(en=0),en>=on&&on>0&&"object"==typeof we)return fe(we)?"[Array]":"[Object]";var yo=function Xr(Ae,we){var Kt;if("\t"===Ae.indent)Kt="\t";else{if(!("number"==typeof Ae.indent&&Ae.indent>0))return null;Kt=P.call(Array(Ae.indent+1)," ")}return{base:Kt,prev:P.call(Array(we+1),Kt)}}(zt,en);if(typeof bn>"u")bn=[];else if(rn(bn,we)>=0)return"[Circular]";function Lr(Mo,ui,ps){if(ui&&(bn=O.call(bn)).push(ui),ps){var Ki={depth:zt.depth};return ze(zt,"quoteStyle")&&(Ki.quoteStyle=zt.quoteStyle),Ae(Mo,Ki,en+1,bn)}return Ae(Mo,zt,en+1,bn)}if("function"==typeof we&&!it(we)){var qi=function kt(Ae){if(Ae.name)return Ae.name;var we=q.call(K.call(Ae),/^function\s*([\w$]+)/);return we?we[1]:null}(we),Uo=to(we,Lr);return"[Function"+(qi?": "+qi:" (anonymous)")+"]"+(Uo.length>0?" { "+P.call(Uo,", ")+" }":"")}if(Pe(we)){var En=Y?oe.call(String(we),/^(Symbol\(.*\))_[^)]*$/,"$1"):I.call(we);return"object"!=typeof we||Y?En:Cr(En)}if(function vo(Ae){return!(!Ae||"object"!=typeof Ae)&&(typeof HTMLElement<"u"&&Ae instanceof HTMLElement||"string"==typeof Ae.nodeName&&"function"==typeof Ae.getAttribute)}(we)){for(var pr="<"+ie.call(String(we.nodeName)),Sr=we.attributes||[],gn=0;gn<Sr.length;gn++)pr+=" "+Sr[gn].name+"="+Qe(_t(Sr[gn].value),"double",zt);return pr+=">",we.childNodes&&we.childNodes.length&&(pr+="..."),pr+"</"+ie.call(String(we.nodeName))+">"}if(fe(we)){if(0===we.length)return"[]";var Dn=to(we,Lr);return yo&&!function xo(Ae){for(var we=0;we<Ae.length;we++)if(rn(Ae[we],"\n")>=0)return!1;return!0}(Dn)?"["+ti(Dn,yo)+"]":"[ "+P.call(Dn,", ")+" ]"}if(function He(Ae){return!("[object Error]"!==at(Ae)||G&&"object"==typeof Ae&&G in Ae)}(we)){var mi=to(we,Lr);return"cause"in Error.prototype||!("cause"in we)||Te.call(we,"cause")?0===mi.length?"["+String(we)+"]":"{ ["+String(we)+"] "+P.call(mi,", ")+" }":"{ ["+String(we)+"] "+P.call(Le.call("[cause]: "+Lr(we.cause),mi),", ")+" }"}if("object"==typeof we&&Cn){if(ye&&"function"==typeof we[ye]&&$e)return $e(we,{depth:on-en});if("symbol"!==Cn&&"function"==typeof we.inspect)return we.inspect()}if(function Zt(Ae){if(!B||!Ae||"object"!=typeof Ae)return!1;try{B.call(Ae);try{x.call(Ae)}catch{return!0}return Ae instanceof Map}catch{}return!1}(we)){var Jt=[];return Z&&Z.call(we,function(Mo,ui){Jt.push(Lr(ui,we,!0)+" => "+Lr(Mo,we))}),eo("Map",B.call(we),Jt,yo)}if(function nr(Ae){if(!x||!Ae||"object"!=typeof Ae)return!1;try{x.call(Ae);try{B.call(Ae)}catch{return!0}return Ae instanceof Set}catch{}return!1}(we)){var Ho=[];return T&&T.call(we,function(Mo){Ho.push(Lr(Mo,we))}),eo("Set",x.call(we),Ho,yo)}if(function Ft(Ae){if(!H||!Ae||"object"!=typeof Ae)return!1;try{H.call(Ae,H);try{z.call(Ae,z)}catch{return!0}return Ae instanceof WeakMap}catch{}return!1}(we))return lr("WeakMap");if(function xn(Ae){if(!z||!Ae||"object"!=typeof Ae)return!1;try{z.call(Ae,z);try{H.call(Ae,H)}catch{return!0}return Ae instanceof WeakSet}catch{}return!1}(we))return lr("WeakSet");if(function sn(Ae){if(!V||!Ae||"object"!=typeof Ae)return!1;try{return V.call(Ae),!0}catch{}return!1}(we))return lr("WeakRef");if(function Ot(Ae){return!("[object Number]"!==at(Ae)||G&&"object"==typeof Ae&&G in Ae)}(we))return Cr(Lr(Number(we)));if(function Me(Ae){if(!Ae||"object"!=typeof Ae||!ee)return!1;try{return ee.call(Ae),!0}catch{}return!1}(we))return Cr(Lr(ee.call(we)));if(function $t(Ae){return!("[object Boolean]"!==at(Ae)||G&&"object"==typeof Ae&&G in Ae)}(we))return Cr(he.call(we));if(function Dt(Ae){return!("[object String]"!==at(Ae)||G&&"object"==typeof Ae&&G in Ae)}(we))return Cr(Lr(String(we)));if(typeof window<"u"&&we===window)return"{ [object Window] }";if(we===global)return"{ [object globalThis] }";if(!function je(Ae){return!("[object Date]"!==at(Ae)||G&&"object"==typeof Ae&&G in Ae)}(we)&&!it(we)){var zo=to(we,Lr),Wo=rt?rt(we)===Object.prototype:we instanceof Object||we.constructor===Object,ci=we instanceof Object?"":"null prototype",re=!Wo&&G&&Object(we)===we&&G in we?N.call(at(we),8,-1):ci?"Object":"",To=(Wo||"function"!=typeof we.constructor?"":we.constructor.name?we.constructor.name+" ":"")+(re||ci?"["+P.call(Le.call([],re||[],ci||[]),": ")+"] ":"");return 0===zo.length?To+"{}":yo?To+"{"+ti(zo,yo)+"}":To+"{ "+P.call(zo,", ")+" }"}return String(we)};var Oe=Object.prototype.hasOwnProperty||function(Ae){return Ae in this};function ze(Ae,we){return Oe.call(Ae,we)}function at(Ae){return Ie.call(Ae)}function rn(Ae,we){if(Ae.indexOf)return Ae.indexOf(we);for(var Kt=0,en=Ae.length;Kt<en;Kt++)if(Ae[Kt]===we)return Kt;return-1}function lo(Ae,we){if(Ae.length>we.maxStringLength){var Kt=Ae.length-we.maxStringLength,en="... "+Kt+" more character"+(Kt>1?"s":"");return lo(N.call(Ae,0,we.maxStringLength),we)+en}return Qe(oe.call(oe.call(Ae,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Io),"single",we)}function Io(Ae){var we=Ae.charCodeAt(0),Kt={8:"b",9:"t",10:"n",12:"f",13:"r"}[we];return Kt?"\\"+Kt:"\\x"+(we<16?"0":"")+pe.call(we.toString(16))}function Cr(Ae){return"Object("+Ae+")"}function lr(Ae){return Ae+" { ? }"}function eo(Ae,we,Kt,en){return Ae+" ("+we+") {"+(en?ti(Kt,en):P.call(Kt,", "))+"}"}function ti(Ae,we){if(0===Ae.length)return"";var Kt="\n"+we.prev+we.base;return Kt+P.call(Ae,","+Kt)+"\n"+we.prev}function to(Ae,we){var Kt=fe(Ae),en=[];if(Kt){en.length=Ae.length;for(var bn=0;bn<Ae.length;bn++)en[bn]=ze(Ae,bn)?we(Ae[bn],Ae):""}var Cn,zt="function"==typeof D?D(Ae):[];if(Y){Cn={};for(var Kn=0;Kn<zt.length;Kn++)Cn["$"+zt[Kn]]=zt[Kn]}for(var fr in Ae)ze(Ae,fr)&&(Kt&&String(Number(fr))===fr&&fr<Ae.length||Y&&Cn["$"+fr]instanceof Symbol||(ke.call(/[^\w$]/,fr)?en.push(we(fr,Ae)+": "+we(Ae[fr],Ae)):en.push(fr+": "+we(Ae[fr],Ae))));if("function"==typeof D)for(var Yn=0;Yn<zt.length;Yn++)Te.call(Ae,zt[Yn])&&en.push("["+we(zt[Yn])+"]: "+we(Ae[zt[Yn]],Ae));return en}},5376:ue=>{"use strict";var xe=function(S){return S!=S};ue.exports=function(w,M){return 0===w&&0===M?1/w==1/M:!!(w===M||xe(w)&&xe(M))}},500:(ue,xe,S)=>{"use strict";var w=S(9567),M=S(1773),B=S(5376),Z=S(8204),$=S(2688),d=M(Z(),Object);w(d,{getPolyfill:Z,implementation:B,shim:$}),ue.exports=d},8204:(ue,xe,S)=>{"use strict";var w=S(5376);ue.exports=function(){return"function"==typeof Object.is?Object.is:w}},2688:(ue,xe,S)=>{"use strict";var w=S(8204),M=S(9567);ue.exports=function(){var Z=w();return M(Object,{is:Z},{is:function(){return Object.is!==Z}}),Z}},1601:(ue,xe,S)=>{"use strict";var w;if(!Object.keys){var M=Object.prototype.hasOwnProperty,B=Object.prototype.toString,Z=S(6755),$=Object.prototype.propertyIsEnumerable,d=!$.call({toString:null},"toString"),x=$.call(function(){},"prototype"),T=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Q=function(R){var V=R.constructor;return V&&V.prototype===R},H={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},k=function(){if(typeof window>"u")return!1;for(var R in window)try{if(!H["$"+R]&&M.call(window,R)&&null!==window[R]&&"object"==typeof window[R])try{Q(window[R])}catch{return!0}}catch{return!0}return!1}();w=function(V){var he=null!==V&&"object"==typeof V,Ie="[object Function]"===B.call(V),K=Z(V),q=he&&"[object String]"===B.call(V),N=[];if(!he&&!Ie&&!K)throw new TypeError("Object.keys called on a non-object");var oe=x&&Ie;if(q&&V.length>0&&!M.call(V,0))for(var pe=0;pe<V.length;++pe)N.push(String(pe));if(K&&V.length>0)for(var ie=0;ie<V.length;++ie)N.push(String(ie));else for(var ke in V)(!oe||"prototype"!==ke)&&M.call(V,ke)&&N.push(String(ke));if(d)for(var Le=function(R){if(typeof window>"u"||!k)return Q(R);try{return Q(R)}catch{return!1}}(V),P=0;P<T.length;++P)(!Le||"constructor"!==T[P])&&M.call(V,T[P])&&N.push(T[P]);return N}}ue.exports=w},5692:(ue,xe,S)=>{"use strict";var w=Array.prototype.slice,M=S(6755),B=Object.keys,Z=B?function(x){return B(x)}:S(1601),$=Object.keys;Z.shim=function(){if(Object.keys){var x=function(){var T=Object.keys(arguments);return T&&T.length===arguments.length}(1,2);x||(Object.keys=function(Q){return M(Q)?$(w.call(Q)):$(Q)})}else Object.keys=Z;return Object.keys||Z},ue.exports=Z},6755:ue=>{"use strict";var xe=Object.prototype.toString;ue.exports=function(w){var M=xe.call(w),B="[object Arguments]"===M;return B||(B="[object Array]"!==M&&null!==w&&"object"==typeof w&&"number"==typeof w.length&&w.length>=0&&"[object Function]"===xe.call(w.callee)),B}},8032:(ue,xe,S)=>{"use strict";var w=S(5692),M=S(2759)(),B=S(1491),Z=Object,$=B("Array.prototype.push"),d=B("Object.prototype.propertyIsEnumerable"),x=M?Object.getOwnPropertySymbols:null;ue.exports=function(Q,H){if(null==Q)throw new TypeError("target must be an object");var k=Z(Q);if(1===arguments.length)return k;for(var z=1;z<arguments.length;++z){var R=Z(arguments[z]),V=w(R),he=M&&(Object.getOwnPropertySymbols||x);if(he)for(var Ie=he(R),K=0;K<Ie.length;++K){var q=Ie[K];d(R,q)&&$(V,q)}for(var N=0;N<V.length;++N){var oe=V[N];d(R,oe)&&(k[oe]=R[oe])}}return k}},5747:(ue,xe,S)=>{"use strict";var w=S(9567),M=S(1773),B=S(8032),Z=S(9530),$=S(4096),d=M.apply(Z()),x=function(Q,H){return d(Object,arguments)};w(x,{getPolyfill:Z,implementation:B,shim:$}),ue.exports=x},9530:(ue,xe,S)=>{"use strict";var w=S(8032);ue.exports=function(){return!Object.assign||function(){if(!Object.assign)return!1;for(var Z="abcdefghijklmnopqrst",$=Z.split(""),d={},x=0;x<$.length;++x)d[$[x]]=$[x];var T=Object.assign({},d),Q="";for(var H in T)Q+=H;return Z!==Q}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var Z=Object.preventExtensions({1:2});try{Object.assign(Z,"xy")}catch{return"y"===Z[1]}return!1}()?w:Object.assign}},4096:(ue,xe,S)=>{"use strict";var w=S(9567),M=S(9530);ue.exports=function(){var Z=M();return w(Object,{assign:Z},{assign:function(){return Object.assign!==Z}}),Z}},6716:(ue,xe)=>{"use strict";var S=Object.prototype.hasOwnProperty;function M(d){try{return decodeURIComponent(d.replace(/\+/g," "))}catch{return null}}function B(d){try{return encodeURIComponent(d)}catch{return null}}xe.stringify=function $(d,x){x=x||"";var Q,H,T=[];for(H in"string"!=typeof x&&(x="?"),d)if(S.call(d,H)){if(!(Q=d[H])&&(null==Q||isNaN(Q))&&(Q=""),H=B(H),Q=B(Q),null===H||null===Q)continue;T.push(H+"="+Q)}return T.length?x+T.join("&"):""},xe.parse=function Z(d){for(var Q,x=/([^=?#&]+)=?([^&]*)/g,T={};Q=x.exec(d);){var H=M(Q[1]),k=M(Q[2]);null===H||null===k||H in T||(T[H]=k)}return T}},7732:(ue,xe,S)=>{"use strict";var w=S(2562),M=Object,B=TypeError;ue.exports=w(function(){if(null!=this&&this!==M(this))throw new B("RegExp.prototype.flags getter called on non-object");var $="";return this.hasIndices&&($+="d"),this.global&&($+="g"),this.ignoreCase&&($+="i"),this.multiline&&($+="m"),this.dotAll&&($+="s"),this.unicode&&($+="u"),this.unicodeSets&&($+="v"),this.sticky&&($+="y"),$},"get flags",!0)},4300:(ue,xe,S)=>{"use strict";var w=S(9567),M=S(1773),B=S(7732),Z=S(5848),$=S(6472),d=M(Z());w(d,{getPolyfill:Z,implementation:B,shim:$}),ue.exports=d},5848:(ue,xe,S)=>{"use strict";var w=S(7732),M=S(9567).supportsDescriptors,B=Object.getOwnPropertyDescriptor;ue.exports=function(){if(M&&"gim"===/a/gim.flags){var $=B(RegExp.prototype,"flags");if($&&"function"==typeof $.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var d="",x={};if(Object.defineProperty(x,"hasIndices",{get:function(){d+="d"}}),Object.defineProperty(x,"sticky",{get:function(){d+="y"}}),"dy"===d)return $.get}}return w}},6472:(ue,xe,S)=>{"use strict";var w=S(9567).supportsDescriptors,M=S(5848),B=Object.getOwnPropertyDescriptor,Z=Object.defineProperty,$=TypeError,d=Object.getPrototypeOf,x=/a/;ue.exports=function(){if(!w||!d)throw new $("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var Q=M(),H=d(x),k=B(H,"flags");return(!k||k.get!==Q)&&Z(H,"flags",{configurable:!0,enumerable:!1,get:Q}),Q}},716:ue=>{"use strict";ue.exports=function(S,w){if(w=w.split(":")[0],!(S=+S))return!1;switch(w){case"http":case"ws":return 80!==S;case"https":case"wss":return 443!==S;case"ftp":return 21!==S;case"gopher":return 70!==S;case"file":return!1}return 0!==S}},3931:(ue,xe,S)=>{"use strict";var w=S(3485),M=S(4467),B=S(7811)(),Z=S(6078),$=w("%TypeError%"),d=w("%Math.floor%");ue.exports=function(T,Q){if("function"!=typeof T)throw new $("`fn` is not a function");if("number"!=typeof Q||Q<0||Q>4294967295||d(Q)!==Q)throw new $("`length` must be a positive 32-bit integer");var H=arguments.length>2&&!!arguments[2],k=!0,z=!0;if("length"in T&&Z){var R=Z(T,"length");R&&!R.configurable&&(k=!1),R&&!R.writable&&(z=!1)}return(k||z||!H)&&(B?M(T,"length",Q,!0,!0):M(T,"length",Q)),T}},2562:(ue,xe,S)=>{"use strict";var w=S(4467),M=S(7811)(),B=S(7688).functionsHaveConfigurableNames(),Z=TypeError;ue.exports=function(d,x){if("function"!=typeof d)throw new Z("`fn` is not a function");return(!(arguments.length>2&&arguments[2])||B)&&(M?w(d,"name",x,!0,!0):w(d,"name",x)),d}},4355:(ue,xe,S)=>{"use strict";var w=S(3485),M=S(1491),B=S(2720),Z=w("%TypeError%"),$=w("%WeakMap%",!0),d=w("%Map%",!0),x=M("WeakMap.prototype.get",!0),T=M("WeakMap.prototype.set",!0),Q=M("WeakMap.prototype.has",!0),H=M("Map.prototype.get",!0),k=M("Map.prototype.set",!0),z=M("Map.prototype.has",!0),R=function(K,q){for(var oe,N=K;null!==(oe=N.next);N=oe)if(oe.key===q)return N.next=oe.next,oe.next=K.next,K.next=oe,oe};ue.exports=function(){var q,N,oe,pe={assert:function(ie){if(!pe.has(ie))throw new Z("Side channel does not contain "+B(ie))},get:function(ie){if($&&ie&&("object"==typeof ie||"function"==typeof ie)){if(q)return x(q,ie)}else if(d){if(N)return H(N,ie)}else if(oe)return function(K,q){var N=R(K,q);return N&&N.value}(oe,ie)},has:function(ie){if($&&ie&&("object"==typeof ie||"function"==typeof ie)){if(q)return Q(q,ie)}else if(d){if(N)return z(N,ie)}else if(oe)return function(K,q){return!!R(K,q)}(oe,ie);return!1},set:function(ie,ke){$&&ie&&("object"==typeof ie||"function"==typeof ie)?(q||(q=new $),T(q,ie,ke)):d?(N||(N=new d),k(N,ie,ke)):(oe||(oe={key:{},next:null}),function(K,q,N){var oe=R(K,q);oe?oe.value=N:K.next={key:q,next:K.next,value:N}}(oe,ie,ke))}};return pe}},118:(ue,xe,S)=>{"use strict";var w=S(2605),M=SyntaxError,B="object"==typeof StopIteration?StopIteration:null;ue.exports=function($){if(!B)throw new M("this environment lacks StopIteration");w.set($,"[[Done]]",!1);var d={next:function(){var T=w.get(this,"[[Iterator]]"),Q=w.get(T,"[[Done]]");try{return{done:Q,value:Q?void 0:T.next()}}catch(H){if(w.set(T,"[[Done]]",!0),H!==B)throw H;return{done:!0,value:void 0}}}};return w.set(d,"[[Iterator]]",$),d}},6299:(ue,xe,S)=>{"use strict";var w=S(716),M=S(6716),B=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,Z=/[\n\r\t]/g,$=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,d=/:\d+$/,x=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,T=/^[a-zA-Z]:/;function Q(N){return(N||"").toString().replace(B,"")}var H=[["#","hash"],["?","query"],function(oe,pe){return R(pe.protocol)?oe.replace(/\\/g,"/"):oe},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],k={hash:1,query:1};function z(N){var oe;oe=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Le,ie={},ke=typeof(N=N||oe.location||{});if("blob:"===N.protocol)ie=new Ie(unescape(N.pathname),{});else if("string"===ke)for(Le in ie=new Ie(N,{}),k)delete ie[Le];else if("object"===ke){for(Le in N)Le in k||(ie[Le]=N[Le]);void 0===ie.slashes&&(ie.slashes=$.test(N.href))}return ie}function R(N){return"file:"===N||"ftp:"===N||"http:"===N||"https:"===N||"ws:"===N||"wss:"===N}function V(N,oe){N=(N=Q(N)).replace(Z,""),oe=oe||{};var O,pe=x.exec(N),ie=pe[1]?pe[1].toLowerCase():"",ke=!!pe[2],Le=!!pe[3],P=0;return ke?Le?(O=pe[2]+pe[3]+pe[4],P=pe[2].length+pe[3].length):(O=pe[2]+pe[4],P=pe[2].length):Le?(O=pe[3]+pe[4],P=pe[3].length):O=pe[4],"file:"===ie?P>=2&&(O=O.slice(2)):R(ie)?O=pe[4]:ie?ke&&(O=O.slice(2)):P>=2&&R(oe.protocol)&&(O=pe[4]),{protocol:ie,slashes:ke||R(ie),slashesCount:P,rest:O}}function Ie(N,oe,pe){if(N=(N=Q(N)).replace(Z,""),!(this instanceof Ie))return new Ie(N,oe,pe);var ie,ke,Le,P,O,ne,ee=H.slice(),D=typeof oe,I=this,Y=0;for("object"!==D&&"string"!==D&&(pe=oe,oe=null),pe&&"function"!=typeof pe&&(pe=M.parse),ie=!(ke=V(N||"",oe=z(oe))).protocol&&!ke.slashes,I.slashes=ke.slashes||ie&&oe.slashes,I.protocol=ke.protocol||oe.protocol||"",N=ke.rest,("file:"===ke.protocol&&(2!==ke.slashesCount||T.test(N))||!ke.slashes&&(ke.protocol||ke.slashesCount<2||!R(I.protocol)))&&(ee[3]=[/(.*)/,"pathname"]);Y<ee.length;Y++)"function"!=typeof(P=ee[Y])?(ne=P[1],(Le=P[0])!=Le?I[ne]=N:"string"==typeof Le?~(O="@"===Le?N.lastIndexOf(Le):N.indexOf(Le))&&("number"==typeof P[2]?(I[ne]=N.slice(0,O),N=N.slice(O+P[2])):(I[ne]=N.slice(O),N=N.slice(0,O))):(O=Le.exec(N))&&(I[ne]=O[1],N=N.slice(0,O.index)),I[ne]=I[ne]||ie&&P[3]&&oe[ne]||"",P[4]&&(I[ne]=I[ne].toLowerCase())):N=P(N,I);pe&&(I.query=pe(I.query)),ie&&oe.slashes&&"/"!==I.pathname.charAt(0)&&(""!==I.pathname||""!==oe.pathname)&&(I.pathname=function he(N,oe){if(""===N)return oe;for(var pe=(oe||"/").split("/").slice(0,-1).concat(N.split("/")),ie=pe.length,ke=pe[ie-1],Le=!1,P=0;ie--;)"."===pe[ie]?pe.splice(ie,1):".."===pe[ie]?(pe.splice(ie,1),P++):P&&(0===ie&&(Le=!0),pe.splice(ie,1),P--);return Le&&pe.unshift(""),("."===ke||".."===ke)&&pe.push(""),pe.join("/")}(I.pathname,oe.pathname)),"/"!==I.pathname.charAt(0)&&R(I.protocol)&&(I.pathname="/"+I.pathname),w(I.port,I.protocol)||(I.host=I.hostname,I.port=""),I.username=I.password="",I.auth&&(~(O=I.auth.indexOf(":"))?(I.username=I.auth.slice(0,O),I.username=encodeURIComponent(decodeURIComponent(I.username)),I.password=I.auth.slice(O+1),I.password=encodeURIComponent(decodeURIComponent(I.password))):I.username=encodeURIComponent(decodeURIComponent(I.auth)),I.auth=I.password?I.username+":"+I.password:I.username),I.origin="file:"!==I.protocol&&R(I.protocol)&&I.host?I.protocol+"//"+I.host:"null",I.href=I.toString()}Ie.prototype={set:function K(N,oe,pe){var ie=this;switch(N){case"query":"string"==typeof oe&&oe.length&&(oe=(pe||M.parse)(oe)),ie[N]=oe;break;case"port":ie[N]=oe,w(oe,ie.protocol)?oe&&(ie.host=ie.hostname+":"+oe):(ie.host=ie.hostname,ie[N]="");break;case"hostname":ie[N]=oe,ie.port&&(oe+=":"+ie.port),ie.host=oe;break;case"host":ie[N]=oe,d.test(oe)?(oe=oe.split(":"),ie.port=oe.pop(),ie.hostname=oe.join(":")):(ie.hostname=oe,ie.port="");break;case"protocol":ie.protocol=oe.toLowerCase(),ie.slashes=!pe;break;case"pathname":case"hash":if(oe){var ke="pathname"===N?"/":"#";ie[N]=oe.charAt(0)!==ke?ke+oe:oe}else ie[N]=oe;break;case"username":case"password":ie[N]=encodeURIComponent(oe);break;case"auth":var Le=oe.indexOf(":");~Le?(ie.username=oe.slice(0,Le),ie.username=encodeURIComponent(decodeURIComponent(ie.username)),ie.password=oe.slice(Le+1),ie.password=encodeURIComponent(decodeURIComponent(ie.password))):ie.username=encodeURIComponent(decodeURIComponent(oe))}for(var P=0;P<H.length;P++){var O=H[P];O[4]&&(ie[O[1]]=ie[O[1]].toLowerCase())}return ie.auth=ie.password?ie.username+":"+ie.password:ie.username,ie.origin="file:"!==ie.protocol&&R(ie.protocol)&&ie.host?ie.protocol+"//"+ie.host:"null",ie.href=ie.toString(),ie},toString:function q(N){(!N||"function"!=typeof N)&&(N=M.stringify);var oe,pe=this,ie=pe.host,ke=pe.protocol;ke&&":"!==ke.charAt(ke.length-1)&&(ke+=":");var Le=ke+(pe.protocol&&pe.slashes||R(pe.protocol)?"//":"");return pe.username?(Le+=pe.username,pe.password&&(Le+=":"+pe.password),Le+="@"):pe.password?(Le+=":"+pe.password,Le+="@"):"file:"!==pe.protocol&&R(pe.protocol)&&!ie&&"/"!==pe.pathname&&(Le+="@"),(":"===ie[ie.length-1]||d.test(pe.hostname)&&!pe.port)&&(ie+=":"),Le+=ie+pe.pathname,(oe="object"==typeof pe.query?N(pe.query):pe.query)&&(Le+="?"!==oe.charAt(0)?"?"+oe:oe),pe.hash&&(Le+=pe.hash),Le}},Ie.extractProtocol=V,Ie.location=z,Ie.trimLeft=Q,Ie.qs=M,ue.exports=Ie},8460:(ue,xe,S)=>{"use strict";var w=S(2706),M=S(9065),B=S(2856),Z=S(2630),$=S(7050);ue.exports=function(x){return null==x||"object"!=typeof x&&"function"!=typeof x?null:w(x)?"String":M(x)?"Number":B(x)?"Boolean":Z(x)?"Symbol":$(x)?"BigInt":void 0}},927:(ue,xe,S)=>{"use strict";var w=S(2418),M=S(1001),B=S(1773),Z=S(1491),$=S(6078),d=Z("Object.prototype.toString"),x=S(6518)(),T=typeof globalThis>"u"?global:globalThis,Q=M(),H=Z("String.prototype.slice"),k=Object.getPrototypeOf,z=Z("Array.prototype.indexOf",!0)||function(K,q){for(var N=0;N<K.length;N+=1)if(K[N]===q)return N;return-1},R={__proto__:null};w(Q,x&&$&&k?function(Ie){var K=new T[Ie];if(Symbol.toStringTag in K){var q=k(K),N=$(q,Symbol.toStringTag);if(!N){var oe=k(q);N=$(oe,Symbol.toStringTag)}R["$"+Ie]=B(N.get)}}:function(Ie){var K=new T[Ie],q=K.slice||K.set;q&&(R["$"+Ie]=B(q))}),ue.exports=function(K){if(!K||"object"!=typeof K)return!1;if(!x){var q=H(d(K),8,-1);return z(Q,q)>-1?q:"Object"===q&&function(K){var q=!1;return w(R,function(N,oe){if(!q)try{N(K),q=H(oe,1)}catch{}}),q}(K)}return $?function(K){var q=!1;return w(R,function(N,oe){if(!q)try{"$"+N(K)===oe&&(q=H(oe,1))}catch{}}),q}(K):null}},863:(ue,xe,S)=>{var w={"./ion-accordion_2.entry.js":[7512,8592,7512],"./ion-action-sheet.entry.js":[6470,8592,6470],"./ion-alert.entry.js":[5690,8592,5690],"./ion-app_8.entry.js":[8508,8592,8508],"./ion-avatar_3.entry.js":[3438,3438],"./ion-back-button.entry.js":[9119,8592,9119],"./ion-backdrop.entry.js":[2319,2319],"./ion-breadcrumb_2.entry.js":[4848,8592,4848],"./ion-button_2.entry.js":[4752,4752],"./ion-card_5.entry.js":[9870,8162],"./ion-checkbox.entry.js":[5892,8592,5892],"./ion-chip.entry.js":[9118,9118],"./ion-col_3.entry.js":[9538,9538],"./ion-datetime-button.entry.js":[4969,5869,4969],"./ion-datetime_3.entry.js":[1835,5869,8592,1835],"./ion-fab_3.entry.js":[6719,8592,6719],"./ion-img.entry.js":[3121,3121],"./ion-infinite-scroll_2.entry.js":[3025,8592,3025],"./ion-input.entry.js":[3914,8592,3914],"./ion-item-option_3.entry.js":[3761,8592,3761],"./ion-item_8.entry.js":[6138,8592,6138],"./ion-loading.entry.js":[2063,8592,2063],"./ion-menu_3.entry.js":[4950,8592,4950],"./ion-modal.entry.js":[9707,8592,9707],"./ion-nav_2.entry.js":[234,8592,234],"./ion-picker-column-internal.entry.js":[7209,8592,7209],"./ion-picker-internal.entry.js":[3068,3068],"./ion-popover.entry.js":[9215,8592,9215],"./ion-progress-bar.entry.js":[5635,5635],"./ion-radio_2.entry.js":[1497,8592,1497],"./ion-range.entry.js":[9964,8592,5922],"./ion-refresher_2.entry.js":[6199,8592,6199],"./ion-reorder_2.entry.js":[3549,8592,3549],"./ion-ripple-effect.entry.js":[5966,5966],"./ion-route_4.entry.js":[3187,3187],"./ion-searchbar.entry.js":[9092,8592,9092],"./ion-segment_2.entry.js":[7600,8592,7600],"./ion-select_3.entry.js":[1449,8592,9870],"./ion-spinner.entry.js":[1657,8592,1657],"./ion-split-pane.entry.js":[8394,8394],"./ion-tab-bar_2.entry.js":[4574,8592,4574],"./ion-tab_2.entry.js":[3514,3514],"./ion-text.entry.js":[7502,7502],"./ion-textarea.entry.js":[7832,8592,7832],"./ion-toast.entry.js":[9805,8592,9805],"./ion-toggle.entry.js":[7393,8592,7393]};function M(B){if(!S.o(w,B))return Promise.resolve().then(()=>{var d=new Error("Cannot find module '"+B+"'");throw d.code="MODULE_NOT_FOUND",d});var Z=w[B],$=Z[0];return Promise.all(Z.slice(1).map(S.e)).then(()=>S($))}M.keys=()=>Object.keys(w),M.id=863,ue.exports=M},4654:()=>{},1001:ue=>{"use strict";var xe=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],S=typeof globalThis>"u"?global:globalThis;ue.exports=function(){for(var M=[],B=0;B<xe.length;B++)"function"==typeof S[xe[B]]&&(M[M.length]=xe[B]);return M}},1324:(ue,xe,S)=>{"use strict";var w=S(1568),M=S(118);if(S(2337)()||S(2759)()){var B=Symbol.iterator;ue.exports=function(O){return null!=O&&typeof O[B]<"u"?O[B]():w(O)?Array.prototype[B].call(O):void 0}}else{var Z=S(9604),$=S(2706),d=S(3485),x=d("%Map%",!0),T=d("%Set%",!0),Q=S(1491),H=Q("Array.prototype.push"),k=Q("String.prototype.charCodeAt"),z=Q("String.prototype.slice"),V=function(O){var ne=0;return{next:function(){var I,D=ne>=O.length;return D||(I=O[ne],ne+=1),{done:D,value:I}}}},he=function(O,ne){if(Z(O)||w(O))return V(O);if($(O)){var ee=0;return{next:function(){var I=function(O,ne){if(ne+1>=O.length)return ne+1;var D=k(O,ne);if(D<55296||D>56319)return ne+1;var I=k(O,ne+1);return I<56320||I>57343?ne+1:ne+2}(O,ee),Y=z(O,ee,I);return ee=I,{done:I>O.length,value:Y}}}}return ne&&typeof O["_es6-shim iterator_"]<"u"?O["_es6-shim iterator_"]():void 0};if(x||T){var Ie=S(6128),K=S(5918),q=Q("Map.prototype.forEach",!0),N=Q("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var oe=Q("Map.prototype.iterator",!0),pe=Q("Set.prototype.iterator",!0);var ie=Q("Map.prototype.@@iterator",!0)||Q("Map.prototype._es6-shim iterator_",!0),ke=Q("Set.prototype.@@iterator",!0)||Q("Set.prototype._es6-shim iterator_",!0);ue.exports=function(O){return function(O){if(Ie(O)){if(oe)return M(oe(O));if(ie)return ie(O);if(q){var ne=[];return q(O,function(D,I){H(ne,[I,D])}),V(ne)}}if(K(O)){if(pe)return M(pe(O));if(ke)return ke(O);if(N){var ee=[];return N(O,function(D){H(ee,D)}),V(ee)}}}(O)||he(O)}}else ue.exports=function(O){if(null!=O)return he(O,!0)}}},9148:(ue,xe,S)=>{"use strict";var w=S(6128),M=S(5918),B=S(1545),Z=S(9043);ue.exports=function(d){if(d&&"object"==typeof d){if(w(d))return"Map";if(M(d))return"Set";if(B(d))return"WeakMap";if(Z(d))return"WeakSet"}return!1}},4144:(ue,xe,S)=>{var w=S(4376);ue.exports=function M(B,Z,$){return(Z=w(Z))in B?Object.defineProperty(B,Z,{value:$,enumerable:!0,configurable:!0,writable:!0}):B[Z]=$,B},ue.exports.__esModule=!0,ue.exports.default=ue.exports},7289:(ue,xe,S)=>{var w=S(242).default;ue.exports=function M(B,Z){if("object"!==w(B)||null===B)return B;var $=B[Symbol.toPrimitive];if(void 0!==$){var d=$.call(B,Z||"default");if("object"!==w(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===Z?String:Number)(B)},ue.exports.__esModule=!0,ue.exports.default=ue.exports},4376:(ue,xe,S)=>{var w=S(242).default,M=S(7289);ue.exports=function B(Z){var $=M(Z,"string");return"symbol"===w($)?$:String($)},ue.exports.__esModule=!0,ue.exports.default=ue.exports},242:ue=>{function xe(S){return ue.exports=xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},ue.exports.__esModule=!0,ue.exports.default=ue.exports,xe(S)}ue.exports=xe,ue.exports.__esModule=!0,ue.exports.default=ue.exports},3918:(ue,xe,S)=>{"use strict";function w(B,Z,$,d,x,T,Q){try{var H=B[T](Q),k=H.value}catch(z){return void $(z)}H.done?Z(k):Promise.resolve(k).then(d,x)}function M(B){return function(){var Z=this,$=arguments;return new Promise(function(d,x){var T=B.apply(Z,$);function Q(k){w(T,d,x,Q,H,"next",k)}function H(k){w(T,d,x,Q,H,"throw",k)}Q(void 0)})}}S.d(xe,{Z:()=>M})}},ue=>{ue(ue.s=7267)}]);
//# sourceMappingURL=main.d2967fe75c573ea8.js.map