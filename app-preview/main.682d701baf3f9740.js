(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{6467:(Be,Ge,P)=>{"use strict";function I(n){return"function"==typeof n}function c(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const oe=c(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function te(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class z{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const i of t)i.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(I(r))try{r()}catch(i){e=i instanceof oe?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{V(i)}catch(s){e=e??[],s instanceof oe?e=[...e,...s.errors]:e.push(s)}}if(e)throw new oe(e)}}add(e){var t;if(e&&e!==this)if(this.closed)V(e);else{if(e instanceof z){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&te(t,e)}remove(e){const{_finalizers:t}=this;t&&te(t,e),e instanceof z&&e._removeParent(this)}}z.EMPTY=(()=>{const n=new z;return n.closed=!0,n})();const X=z.EMPTY;function L(n){return n instanceof z||n&&"closed"in n&&I(n.remove)&&I(n.add)&&I(n.unsubscribe)}function V(n){I(n)?n():n.unsubscribe()}const ue={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Y={setTimeout(n,e,...t){const{delegate:r}=Y;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Y;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ie(n){Y.setTimeout(()=>{const{onUnhandledError:e}=ue;if(!e)throw n;e(n)})}function B(){}const $=Le("C",void 0,void 0);function Le(n,e,t){return{kind:n,value:e,error:t}}let me=null;function W(n){if(ue.useDeprecatedSynchronousErrorHandling){const e=!me;if(e&&(me={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=me;if(me=null,t)throw r}}else n()}class fe extends z{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,L(e)&&e.add(this)):this.destination=$e}static create(e,t,r){return new ce(e,t,r)}next(e){this.isStopped?Ye(function Re(n){return Le("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Ye(function j(n){return Le("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ye($,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fe=Function.prototype.bind;function de(n,e){return Fe.call(n,e)}class st{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){we(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){we(r)}else we(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){we(t)}}}class ce extends fe{constructor(e,t,r){let o;if(super(),I(e)||!e)o={next:e??void 0,error:t??void 0,complete:r??void 0};else{let i;this&&ue.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&de(e.next,i),error:e.error&&de(e.error,i),complete:e.complete&&de(e.complete,i)}):o=e}this.destination=new st(o)}}function we(n){ue.useDeprecatedSynchronousErrorHandling?function K(n){ue.useDeprecatedSynchronousErrorHandling&&me&&(me.errorThrown=!0,me.error=n)}(n):ie(n)}function Ye(n,e){const{onStoppedNotification:t}=ue;t&&Y.setTimeout(()=>t(n,e))}const $e={closed:!0,next:B,error:function De(n){throw n},complete:B},Me="function"==typeof Symbol&&Symbol.observable||"@@observable";function re(n){return n}function Qe(n){return 0===n.length?re:1===n.length?n[0]:function(t){return n.reduce((r,o)=>o(r),t)}}let vt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,o){const i=function O(n){return n&&n instanceof fe||function We(n){return n&&I(n.next)&&I(n.error)&&I(n.complete)}(n)&&L(n)}(t)?t:new ce(t,r,o);return W(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=dn(r))((o,i)=>{const s=new ce({next:a=>{try{t(a)}catch(u){i(u),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Me](){return this}pipe(...t){return Qe(t)(this)}toPromise(t){return new(t=dn(t))((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return n.create=e=>new n(e),n})();function dn(n){var e;return null!==(e=n??ue.Promise)&&void 0!==e?e:Promise}const ye=c(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let nt=(()=>{class n extends vt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new rt(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new ye}next(t){W(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){W(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){W(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:o,observers:i}=this;return r||o?X:(this.currentObservers=null,i.push(t),new z(()=>{this.currentObservers=null,te(i,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:o,isStopped:i}=this;r?t.error(o):i&&t.complete()}asObservable(){const t=new vt;return t.source=this,t}}return n.create=(e,t)=>new rt(e,t),n})();class rt extends nt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:X}}function Ve(n){return I(n?.lift)}function q(n){return e=>{if(Ve(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function _e(n,e,t,r,o){return new pt(n,e,t,r,o)}class pt extends fe{constructor(e,t,r,o,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=o?function(a){try{o(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Pe(n,e){return q((t,r)=>{let o=0;t.subscribe(_e(r,i=>{r.next(n.call(e,i,o++))}))})}function G(n,e,t,r){var s,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i}function xn(n,e,t,r){return new(t||(t=Promise))(function(i,s){function a(m){try{f(r.next(m))}catch(_){s(_)}}function u(m){try{f(r.throw(m))}catch(_){s(_)}}function f(m){m.done?i(m.value):function o(i){return i instanceof t?i:new t(function(s){s(i)})}(m.value).then(a,u)}f((r=r.apply(n,e||[])).next())})}function gn(n){return this instanceof gn?(this.v=n,this):new gn(n)}function Yr(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=t.apply(n,e||[]),i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(k){r[k]&&(o[k]=function(A){return new Promise(function(Q,Te){i.push([k,A,Q,Te])>1||a(k,A)})})}function a(k,A){try{!function u(k){k.value instanceof gn?Promise.resolve(k.value.v).then(f,m):_(i[0][2],k)}(r[k](A))}catch(Q){_(i[0][3],Q)}}function f(k){a("next",k)}function m(k){a("throw",k)}function _(k,A){k(A),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Ur(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Wr(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(i){t[i]=n[i]&&function(s){return new Promise(function(a,u){!function o(i,s,a,u){Promise.resolve(u).then(function(f){i({value:f,done:a})},s)}(a,u,(s=n[i](s)).done,s.value)})}}}const hr=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function tn(n){return I(n?.then)}function Jn(n){return I(n[Me])}function er(n){return Symbol.asyncIterator&&I(n?.[Symbol.asyncIterator])}function un(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const E=function zt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function S(n){return I(n?.[E])}function qn(n){return Yr(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:o}=yield gn(t.read());if(o)return yield gn(void 0);yield yield gn(r)}}finally{t.releaseLock()}})}function D(n){return I(n?.getReader)}function On(n){if(n instanceof vt)return n;if(null!=n){if(Jn(n))return function Lo(n){return new vt(e=>{const t=n[Me]();if(I(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(hr(n))return function Xo(n){return new vt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(tn(n))return function bo(n){return new vt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ie)})}(n);if(er(n))return $o(n);if(S(n))return function Pi(n){return new vt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(D(n))return function bi(n){return $o(qn(n))}(n)}throw un(n)}function $o(n){return new vt(e=>{(function wi(n,e){var t,r,o,i;return xn(this,void 0,void 0,function*(){try{for(t=Ur(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=t.return)&&(yield i.call(t))}finally{if(o)throw o.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function no(n,e,t,r=0,o=!1){const i=e.schedule(function(){t(),o?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(i),!o)return i}function mr(n,e,t=1/0){return I(e)?mr((r,o)=>Pe((i,s)=>e(r,i,o,s))(On(n(r,o))),t):("number"==typeof e&&(t=e),q((r,o)=>function Bo(n,e,t,r,o,i,s,a){const u=[];let f=0,m=0,_=!1;const k=()=>{_&&!u.length&&!f&&e.complete()},A=Te=>f<r?Q(Te):u.push(Te),Q=Te=>{i&&e.next(Te),f++;let Ze=!1;On(t(Te,m++)).subscribe(_e(e,Ke=>{o?.(Ke),i?A(Ke):e.next(Ke)},()=>{Ze=!0},void 0,()=>{if(Ze)try{for(f--;u.length&&f<r;){const Ke=u.shift();s?no(e,s,()=>Q(Ke)):Q(Ke)}k()}catch(Ke){e.error(Ke)}}))};return n.subscribe(_e(e,A,()=>{_=!0,k()})),()=>{a?.()}}(r,o,n,t)))}function Vo(n=1/0){return mr(re,n)}const Xr=new vt(n=>n.complete());function wo(n){return n&&I(n.schedule)}function Zr(n){return n[n.length-1]}function Qi(n){return I(Zr(n))?n.pop():void 0}function Jo(n){return wo(Zr(n))?n.pop():void 0}function ro(n,e=0){return q((t,r)=>{t.subscribe(_e(r,o=>no(r,n,()=>r.next(o),e),()=>no(r,n,()=>r.complete(),e),o=>no(r,n,()=>r.error(o),e)))})}function Ji(n,e=0){return q((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function es(n,e){if(!n)throw new Error("Iterable cannot be null");return new vt(t=>{no(t,e,()=>{const r=n[Symbol.asyncIterator]();no(t,e,()=>{r.next().then(o=>{o.done?t.complete():t.next(o.value)})},0,!0)})})}function lr(n,e){return e?function xs(n,e){if(null!=n){if(Jn(n))return function fo(n,e){return On(n).pipe(Ji(e),ro(e))}(n,e);if(hr(n))return function gs(n,e){return new vt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(tn(n))return function Ci(n,e){return On(n).pipe(Ji(e),ro(e))}(n,e);if(er(n))return es(n,e);if(S(n))return function ci(n,e){return new vt(t=>{let r;return no(t,e,()=>{r=n[E](),no(t,e,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){return void t.error(s)}i?t.complete():t.next(o)},0,!0)}),()=>I(r?.return)&&r.return()})}(n,e);if(D(n))return function As(n,e){return es(qn(n),e)}(n,e)}throw un(n)}(n,e):On(n)}function ui(...n){const e=Jo(n),t=function Do(n,e){return"number"==typeof Zr(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?On(r[0]):Vo(t)(lr(r,e)):Xr}function ys(n={}){const{connector:e=(()=>new nt),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=n;return i=>{let s,a,u,f=0,m=!1,_=!1;const k=()=>{a?.unsubscribe(),a=void 0},A=()=>{k(),s=u=void 0,m=_=!1},Q=()=>{const Te=s;A(),Te?.unsubscribe()};return q((Te,Ze)=>{f++,!_&&!m&&k();const Ke=u=u??e();Ze.add(()=>{f--,0===f&&!_&&!m&&(a=Ri(Q,o))}),Ke.subscribe(Ze),!s&&f>0&&(s=new ce({next:Ct=>Ke.next(Ct),error:Ct=>{_=!0,k(),a=Ri(A,t,Ct),Ke.error(Ct)},complete:()=>{m=!0,k(),a=Ri(A,r),Ke.complete()}}),On(Te).subscribe(s))})(i)}}function Ri(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new ce({next:()=>{r.unsubscribe(),n()}});return On(e(...t)).subscribe(r)}function tr(n){for(let e in n)if(n[e]===tr)return e;throw Error("Could not find renamed property on target object.")}function x(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function N(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(N).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function ge(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Se=tr({__forward_ref__:tr});function Oe(n){return n.__forward_ref__=Oe,n.toString=function(){return N(this())},n}function R(n){return pe(n)?n():n}function pe(n){return"function"==typeof n&&n.hasOwnProperty(Se)&&n.__forward_ref__===Oe}function Ie(n){return n&&!!n.\u0275providers}const it="https://g.co/ng/security#xss";class Ae extends Error{constructor(e,t){super(function Gt(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function St(n){return"string"==typeof n?n:null==n?"":String(n)}function di(n,e){throw new Ae(-201,!1)}function Mo(n,e){null==n&&function Wn(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function yt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function gr(n){return{providers:n.providers||[],imports:n.imports||[]}}function _s(n){return oo(n,Ps)||oo(n,sa)}function oo(n,e){return n.hasOwnProperty(e)?n[e]:null}function ia(n){return n&&(n.hasOwnProperty(zs)||n.hasOwnProperty($a))?n[zs]:null}const Ps=tr({\u0275prov:tr}),zs=tr({\u0275inj:tr}),sa=tr({ngInjectableDef:tr}),$a=tr({ngInjectorDef:tr});var kt=(()=>((kt=kt||{})[kt.Default=0]="Default",kt[kt.Host=1]="Host",kt[kt.Self=2]="Self",kt[kt.SkipSelf=4]="SkipSelf",kt[kt.Optional=8]="Optional",kt))();let Gs;function sr(n){const e=Gs;return Gs=n,e}function qr(n,e,t){const r=_s(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&kt.Optional?null:void 0!==e?e:void di(N(n))}const p=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),H={},ve="__NG_DI_FLAG__",Ee="ngTempTokenPath",Et=/\n/gm,Tn="__source";let An;function Wt(n){const e=An;return An=n,e}function Yt(n,e=kt.Default){if(void 0===An)throw new Ae(-203,!1);return null===An?qr(n,void 0,e):An.get(n,e&kt.Optional?null:void 0,e)}function ne(n,e=kt.Default){return(function po(){return Gs}()||Yt)(R(n),e)}function bn(n,e=kt.Default){return ne(n,Jr(e))}function Jr(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function ht(n){const e=[];for(let t=0;t<n.length;t++){const r=R(n[t]);if(Array.isArray(r)){if(0===r.length)throw new Ae(900,!1);let o,i=kt.Default;for(let s=0;s<r.length;s++){const a=r[s],u=jr(a);"number"==typeof u?-1===u?o=a.token:i|=u:o=a}e.push(ne(o,i))}else e.push(ne(r))}return e}function Xt(n,e){return n[ve]=e,n.prototype[ve]=e,n}function jr(n){return n[ve]}function Zn(n){return{toString:n}.toString()}var yr=(()=>((yr=yr||{})[yr.OnPush=0]="OnPush",yr[yr.Default=1]="Default",yr))(),Fi=(()=>{return(n=Fi||(Fi={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Fi;var n})();const rs={},rr=[],Rn=tr({\u0275cmp:tr}),To=tr({\u0275dir:tr}),io=tr({\u0275pipe:tr}),Fr=tr({\u0275mod:tr}),Zt=tr({\u0275fac:tr}),Er=tr({__NG_ELEMENT_ID__:tr});let _r=0;function Xe(n){return Zn(()=>{const t=!0===n.standalone,r={},o={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===yr.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||rr,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Fi.Emulated,id:"c"+_r++,styles:n.styles||rr,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},i=n.dependencies,s=n.features;return o.inputs=Ce(n.inputs,r),o.outputs=Ce(n.outputs),s&&s.forEach(a=>a(o)),o.directiveDefs=i?()=>("function"==typeof i?i():i).map(g).filter(C):null,o.pipeDefs=i?()=>("function"==typeof i?i():i).map(mn).filter(C):null,o})}function g(n){return ut(n)||$t(n)}function C(n){return null!==n}function M(n){return Zn(()=>({type:n.type,bootstrap:n.bootstrap||rr,declarations:n.declarations||rr,imports:n.imports||rr,exports:n.exports||rr,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Ce(n,e){if(null==n)return rs;const t={};for(const r in n)if(n.hasOwnProperty(r)){let o=n[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),t[o]=r,e&&(e[o]=i)}return t}const ee=Xe;function xe(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function ut(n){return n[Rn]||null}function $t(n){return n[To]||null}function mn(n){return n[io]||null}function Vt(n,e){const t=n[Fr]||null;if(!t&&!0===e)throw new Error(`Type ${N(n)} does not have '\u0275mod' property.`);return t}function Di(n){return Array.isArray(n)&&"object"==typeof n[1]}function os(n){return Array.isArray(n)&&!0===n[1]}function jc(n){return 0!=(4&n.flags)}function Sl(n){return n.componentOffset>-1}function nc(n){return 1==(1&n.flags)}function is(n){return null!==n.template}function _p(n){return 0!=(256&n[2])}function aa(n,e){return n.hasOwnProperty(Zt)?n[Zt]:null}class wp{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Ao(){return bd}function bd(n){return n.type.prototype.ngOnChanges&&(n.setInput=Sp),Cp}function Cp(){const n=Cd(this),e=n?.current;if(e){const t=n.previous;if(t===rs)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Sp(n,e,t,r){const o=this.declaredInputs[t],i=Cd(n)||function Ep(n,e){return n[wd]=e}(n,{previous:rs,current:null}),s=i.current||(i.current={}),a=i.previous,u=a[o];s[o]=new wp(u&&u.currentValue,e,a===rs),n[r]=e}Ao.ngInherit=!0;const wd="__ngSimpleChanges__";function Cd(n){return n[wd]||null}function ti(n){for(;Array.isArray(n);)n=n[0];return n}function ja(n,e){return ti(e[n])}function Ni(n,e){return ti(e[n.index])}function Ed(n,e){return n.data[e]}function Dr(n,e){return n[e]}function Co(n,e){const t=e[n];return Di(t)?t:t[0]}function zc(n){return 64==(64&n[2])}function la(n,e){return null==e?null:n[e]}function Mp(n){n[18]=0}function Dd(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const Dt={lFrame:I0(null),bindingsEnabled:!0};function Ir(){return Dt.bindingsEnabled}function lt(){return Dt.lFrame.lView}function wn(){return Dt.lFrame.tView}function Tt(n){return Dt.lFrame.contextLView=n,n[8]}function Pt(n){return Dt.lFrame.contextLView=null,n}function Ht(){let n=l();for(;null!==n&&64===n.type;)n=n.parent;return n}function l(){return Dt.lFrame.currentTNode}function v(n,e){const t=Dt.lFrame;t.currentTNode=n,t.isParent=e}function T(){return Dt.lFrame.isParent}function U(){Dt.lFrame.isParent=!1}function on(){return Dt.lFrame.bindingIndex}function jn(){return Dt.lFrame.bindingIndex++}function Qt(n){const e=Dt.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function ho(n,e){const t=Dt.lFrame;t.bindingIndex=t.bindingRootIndex=n,zo(e)}function zo(n){Dt.lFrame.currentDirectiveIndex=n}function yn(){return Dt.lFrame.currentQueryIndex}function mo(n){Dt.lFrame.currentQueryIndex=n}function Lr(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function as(n,e,t){if(t&kt.SkipSelf){let o=e,i=n;for(;!(o=o.parent,null!==o||t&kt.Host||(o=Lr(i),null===o||(i=i[15],10&o.type))););if(null===o)return!1;e=o,n=i}const r=Dt.lFrame=D0();return r.currentTNode=e,r.lView=n,!0}function so(n){const e=D0(),t=n[1];Dt.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function D0(){const n=Dt.lFrame,e=null===n?null:n.child;return null===e?I0(n):e}function I0(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function k0(){const n=Dt.lFrame;return Dt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const M0=k0;function dg(){const n=k0();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Li(){return Dt.lFrame.selectedIndex}function rc(n){Dt.lFrame.selectedIndex=n}function ao(){const n=Dt.lFrame;return Ed(n.tView,n.selectedIndex)}function Tp(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const i=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:f,ngOnDestroy:m}=i;s&&(n.contentHooks||(n.contentHooks=[])).push(-t,s),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-t,u),f&&((n.viewHooks||(n.viewHooks=[])).push(t,f),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,f)),null!=m&&(n.destroyHooks||(n.destroyHooks=[])).push(t,m)}}function Ap(n,e,t){T0(n,e,3,t)}function xp(n,e,t,r){(3&n[2])===t&&T0(n,e,t,r)}function fg(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function T0(n,e,t,r){const i=r??-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&n[18]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[18]+=65536),(a<i||-1==i)&&(KM(n,t,e,u),n[18]=(4294901760&n[18])+u+2),u++}function KM(n,e,t,r){const o=t[r]<0,i=t[r+1],a=n[o?-t[r]:t[r]];if(o){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{i.call(a)}finally{}}}else try{i.call(a)}finally{}}class Id{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function hg(n,e,t){let r=0;for(;r<t.length;){const o=t[r];if("number"==typeof o){if(0!==o)break;r++;const i=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,i)}else{const i=o,s=t[++r];x0(i)?n.setProperty(e,i,s):n.setAttribute(e,i,s),r++}}return r}function A0(n){return 3===n||4===n||6===n}function x0(n){return 64===n.charCodeAt(0)}function kd(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const o=e[r];"number"==typeof o?t=o:0===t||P0(n,t,o,null,-1===t||2===t?e[++r]:null)}}return n}function P0(n,e,t,r,o){let i=0,s=n.length;if(-1===e)s=-1;else for(;i<n.length;){const a=n[i++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=i-1;break}}}for(;i<n.length;){const a=n[i];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==o&&(n[i+1]=o));if(r===n[i+1])return void(n[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==s&&(n.splice(s,0,e),i=s+1),n.splice(i++,0,t),null!==r&&n.splice(i++,0,r),null!==o&&n.splice(i++,0,o)}function R0(n){return-1!==n}function Pp(n){return 32767&n}function Rp(n,e){let t=function JM(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let mg=!0;function Fp(n){const e=mg;return mg=n,e}let eT=0;const ca={};function Op(n,e){const t=N0(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,gg(r.data,n),gg(e,null),gg(r.blueprint,null));const o=yg(n,e),i=n.injectorIndex;if(R0(o)){const s=Pp(o),a=Rp(o,e),u=a[1].data;for(let f=0;f<8;f++)e[i+f]=a[s+f]|u[s+f]}return e[i+8]=o,i}function gg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function N0(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function yg(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,o=e;for(;null!==o;){if(r=H0(o),null===r)return-1;if(t++,o=o[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function _g(n,e,t){!function tT(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Er)&&(r=t[Er]),null==r&&(r=t[Er]=eT++);const o=255&r;e.data[n+(o>>5)]|=1<<o}(n,e,t)}function L0(n,e,t){if(t&kt.Optional||void 0!==n)return n;di()}function $0(n,e,t,r){if(t&kt.Optional&&void 0===r&&(r=null),!(t&(kt.Self|kt.Host))){const o=n[9],i=sr(void 0);try{return o?o.get(e,r,t&kt.Optional):qr(e,r,t&kt.Optional)}finally{sr(i)}}return L0(r,0,t)}function B0(n,e,t,r=kt.Default,o){if(null!==n){if(1024&e[2]){const s=function sT(n,e,t,r,o){let i=n,s=e;for(;null!==i&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=V0(i,s,t,r|kt.Self,ca);if(a!==ca)return a;let u=i.parent;if(!u){const f=s[21];if(f){const m=f.get(t,ca,r);if(m!==ca)return m}u=H0(s),s=s[15]}i=u}return o}(n,e,t,r,ca);if(s!==ca)return s}const i=V0(n,e,t,r,ca);if(i!==ca)return i}return $0(e,t,r,o)}function V0(n,e,t,r,o){const i=function oT(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Er)?n[Er]:void 0;return"number"==typeof e?e>=0?255&e:iT:e}(t);if("function"==typeof i){if(!as(e,n,r))return r&kt.Host?L0(o,0,r):$0(e,t,r,o);try{const s=i(r);if(null!=s||r&kt.Optional)return s;di()}finally{M0()}}else if("number"==typeof i){let s=null,a=N0(n,e),u=-1,f=r&kt.Host?e[16][6]:null;for((-1===a||r&kt.SkipSelf)&&(u=-1===a?yg(n,e):e[a+8],-1!==u&&j0(r,!1)?(s=e[1],a=Pp(u),e=Rp(u,e)):a=-1);-1!==a;){const m=e[1];if(U0(i,a,m.data)){const _=rT(a,e,t,s,r,f);if(_!==ca)return _}u=e[a+8],-1!==u&&j0(r,e[1].data[a+8]===f)&&U0(i,a,e)?(s=m,a=Pp(u),e=Rp(u,e)):a=-1}}return o}function rT(n,e,t,r,o,i){const s=e[1],a=s.data[n+8],m=Np(a,s,t,null==r?Sl(a)&&mg:r!=s&&0!=(3&a.type),o&kt.Host&&i===a);return null!==m?oc(e,s,m,a):ca}function Np(n,e,t,r,o){const i=n.providerIndexes,s=e.data,a=1048575&i,u=n.directiveStart,m=i>>20,k=o?a+m:n.directiveEnd;for(let A=r?a:a+m;A<k;A++){const Q=s[A];if(A<u&&t===Q||A>=u&&Q.type===t)return A}if(o){const A=s[u];if(A&&is(A)&&A.type===t)return u}return null}function oc(n,e,t,r){let o=n[t];const i=e.data;if(function YM(n){return n instanceof Id}(o)){const s=o;s.resolving&&function Io(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Ae(-200,`Circular dependency in DI detected for ${n}${t}`)}(function fn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():St(n)}(i[t]));const a=Fp(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?sr(s.injectImpl):null;as(n,r,kt.Default);try{o=n[t]=s.factory(void 0,i,n,r),e.firstCreatePass&&t>=r.directiveStart&&function qM(n,e,t){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=e.type.prototype;if(r){const s=bd(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s)}o&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,o),i&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,i),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,i))}(t,i[t],e)}finally{null!==u&&sr(u),Fp(a),s.resolving=!1,M0()}}return o}function U0(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function j0(n,e){return!(n&kt.Self||n&kt.Host&&e)}class Wc{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return B0(this._tNode,this._lView,e,Jr(r),t)}}function iT(){return new Wc(Ht(),lt())}function ri(n){return Zn(()=>{const e=n.prototype.constructor,t=e[Zt]||vg(e),r=Object.prototype;let o=Object.getPrototypeOf(n.prototype).constructor;for(;o&&o!==r;){const i=o[Zt]||vg(o);if(i&&i!==t)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function vg(n){return pe(n)?()=>{const e=vg(R(n));return e&&e()}:aa(n)}function H0(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}function Zc(n){return function nT(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let o=0;for(;o<r;){const i=t[o];if(A0(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<r&&"string"==typeof t[o];)o++;else{if(i===e)return t[o+1];o+=2}}}return null}(Ht(),n)}const Kc="__parameters__";function Xc(n,e,t){return Zn(()=>{const r=function bg(n){return function(...t){if(n){const r=n(...t);for(const o in r)this[o]=r[o]}}}(e);function o(...i){if(this instanceof o)return r.apply(this,i),this;const s=new o(...i);return a.annotation=s,a;function a(u,f,m){const _=u.hasOwnProperty(Kc)?u[Kc]:Object.defineProperty(u,Kc,{value:[]})[Kc];for(;_.length<=m;)_.push(null);return(_[m]=_[m]||[]).push(s),u}}return t&&(o.prototype=Object.create(t.prototype)),o.prototype.ngMetadataName=n,o.annotationCls=o,o})}class sn{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=yt({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ic(n,e){n.forEach(t=>Array.isArray(t)?ic(t,e):e(t))}function G0(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Lp(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Ad(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function bs(n,e,t){let r=Qc(n,e);return r>=0?n[1|r]=t:(r=~r,function uT(n,e,t,r){let o=n.length;if(o==e)n.push(t,r);else if(1===o)n.push(r,n[0]),n[0]=t;else{for(o--,n.push(n[o-1],n[o]);o>e;)n[o]=n[o-2],o--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Cg(n,e){const t=Qc(n,e);if(t>=0)return n[1|t]}function Qc(n,e){return function W0(n,e,t){let r=0,o=n.length>>t;for(;o!==r;){const i=r+(o-r>>1),s=n[i<<t];if(e===s)return i<<t;s>e?o=i:r=i+1}return~(o<<t)}(n,e,1)}const xd=Xt(Xc("Optional"),8),Pd=Xt(Xc("SkipSelf"),4);var ls=(()=>((ls=ls||{})[ls.Important=1]="Important",ls[ls.DashCase=2]="DashCase",ls))();const Mg=new Map;let PT=0;const Ag="__ngContext__";function ki(n,e){Di(e)?(n[Ag]=e[20],function FT(n){Mg.set(n[20],n)}(e)):n[Ag]=e}function Pg(n,e){return undefined(n,e)}function Nd(n){const e=n[3];return os(e)?e[3]:e}function Rg(n){return fb(n[13])}function Fg(n){return fb(n[4])}function fb(n){for(;null!==n&&!os(n);)n=n[4];return n}function eu(n,e,t,r,o){if(null!=r){let i,s=!1;os(r)?i=r:Di(r)&&(s=!0,r=r[0]);const a=ti(r);0===n&&null!==t?null==o?_b(e,t,a):sc(e,t,a,o||null,!0):1===n&&null!==t?sc(e,t,a,o||null,!0):2===n?function Ug(n,e,t){const r=Up(n,e);r&&function eA(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=i&&function rA(n,e,t,r,o){const i=t[7];i!==ti(t)&&eu(e,n,r,i,o);for(let a=10;a<t.length;a++){const u=t[a];Ld(u[1],u,n,e,r,i)}}(e,n,i,t,o)}}function Ng(n,e,t){return n.createElement(e,t)}function hb(n,e){const t=n[9],r=t.indexOf(e),o=e[3];512&e[2]&&(e[2]&=-513,Dd(o,-1)),t.splice(r,1)}function Lg(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const o=r[17];null!==o&&o!==n&&hb(o,r),e>0&&(n[t-1][4]=r[4]);const i=Lp(n,10+e);!function WT(n,e){Ld(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const s=i[19];null!==s&&s.detachView(i[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function mb(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&Ld(n,e,t,3,null,null),function KT(n){let e=n[13];if(!e)return $g(n[1],n);for(;e;){let t=null;if(Di(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Di(e)&&$g(e[1],e),e=e[3];null===e&&(e=n),Di(e)&&$g(e[1],e),t=e&&e[4]}e=t}}(e)}}function $g(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function JT(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const o=e[t[r]];if(!(o instanceof Id)){const i=t[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],u=i[s+1];try{u.call(a)}finally{}}else try{i.call(o)}finally{}}}}(n,e),function QT(n,e){const t=n.cleanup,r=e[7];let o=-1;if(null!==t)for(let i=0;i<t.length-1;i+=2)if("string"==typeof t[i]){const s=t[i+3];s>=0?r[o=s]():r[o=-s].unsubscribe(),i+=2}else{const s=r[o=t[i+1]];t[i].call(s)}if(null!==r){for(let i=o+1;i<r.length;i++)(0,r[i])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&os(e[3])){t!==e[3]&&hb(t,e);const r=e[19];null!==r&&r.detachView(n)}!function OT(n){Mg.delete(n[20])}(e)}}function gb(n,e,t){return function yb(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:i}=n.data[r.directiveStart+o];if(i===Fi.None||i===Fi.Emulated)return null}return Ni(r,t)}}(n,e.parent,t)}function sc(n,e,t,r,o){n.insertBefore(e,t,r,o)}function _b(n,e,t){n.appendChild(e,t)}function vb(n,e,t,r,o){null!==r?sc(n,e,t,r,o):_b(n,e,t)}function Up(n,e){return n.parentNode(e)}function bb(n,e,t){return Cb(n,e,t)}let zp,zg,Cb=function wb(n,e,t){return 40&n.type?Ni(n,t):null};function jp(n,e,t,r){const o=gb(n,r,e),i=e[11],a=bb(r.parent||e[6],r,e);if(null!=o)if(Array.isArray(t))for(let u=0;u<t.length;u++)vb(i,o,t[u],a,!1);else vb(i,o,t,a,!1)}function Hp(n,e){if(null!==e){const t=e.type;if(3&t)return Ni(e,n);if(4&t)return Vg(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Hp(n,r);{const o=n[e.index];return os(o)?Vg(-1,o):ti(o)}}if(32&t)return Pg(e,n)()||ti(n[e.index]);{const r=Eb(n,e);return null!==r?Array.isArray(r)?r[0]:Hp(Nd(n[16]),r):Hp(n,e.next)}}return null}function Eb(n,e){return null!==e?n[16][6].projection[e.projection]:null}function Vg(n,e){const t=10+n+1;if(t<e.length){const r=e[t],o=r[1].firstChild;if(null!==o)return Hp(r,o)}return e[7]}function jg(n,e,t,r,o,i,s){for(;null!=t;){const a=r[t.index],u=t.type;if(s&&0===e&&(a&&ki(ti(a),r),t.flags|=2),32!=(32&t.flags))if(8&u)jg(n,e,t.child,r,o,i,!1),eu(e,n,o,a,i);else if(32&u){const f=Pg(t,r);let m;for(;m=f();)eu(e,n,o,m,i);eu(e,n,o,a,i)}else 16&u?Db(n,e,r,t,o,i):eu(e,n,o,a,i);t=s?t.projectionNext:t.next}}function Ld(n,e,t,r,o,i){jg(t,r,n.firstChild,e,o,i,!1)}function Db(n,e,t,r,o,i){const s=t[16],u=s[6].projection[r.projection];if(Array.isArray(u))for(let f=0;f<u.length;f++)eu(e,n,o,u[f],i);else jg(n,e,u,s[3],o,i,!0)}function Ib(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function kb(n,e,t){const{mergedAttrs:r,classes:o,styles:i}=t;null!==r&&hg(n,e,r),null!==o&&Ib(n,e,o),null!==i&&function iA(n,e,t){n.setAttribute(e,"style",t)}(n,e,i)}function ac(n){return function Hg(){if(void 0===zp&&(zp=null,p.trustedTypes))try{zp=p.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return zp}()?.createHTML(n)||n}class lc{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${it})`}}class uA extends lc{getTypeName(){return"HTML"}}class dA extends lc{getTypeName(){return"Style"}}class fA extends lc{getTypeName(){return"Script"}}class pA extends lc{getTypeName(){return"URL"}}class hA extends lc{getTypeName(){return"ResourceURL"}}function ws(n){return n instanceof lc?n.changingThisBreaksApplicationSecurity:n}function ua(n,e){const t=function mA(n){return n instanceof lc&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${it})`)}return t===e}class wA{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(ac(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class CA{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=ac(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=ac(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let o=t.length-1;0<o;o--){const s=t.item(o).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&e.removeAttribute(s)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const EA=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Wp(n){return(n=String(n)).match(EA)?n:"unsafe:"+n}function Ha(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function $d(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const Rb=Ha("area,br,col,hr,img,wbr"),Fb=Ha("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ob=Ha("rp,rt"),Wg=$d(Rb,$d(Fb,Ha("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$d(Ob,Ha("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$d(Ob,Fb)),Zg=Ha("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Nb=$d(Zg,Ha("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ha("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),DA=Ha("script,style,template");class IA{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=this.checkClobberedElement(t,t.nextSibling);if(o){t=o;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Wg.hasOwnProperty(t))return this.sanitizedSomething=!0,!DA.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let o=0;o<r.length;o++){const i=r.item(o),s=i.name,a=s.toLowerCase();if(!Nb.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=i.value;Zg[a]&&(u=Wp(u)),this.buf.push(" ",s,'="',Lb(u),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Wg.hasOwnProperty(t)&&!Rb.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Lb(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const kA=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,MA=/([^\#-~ |!])/g;function Lb(n){return n.replace(/&/g,"&amp;").replace(kA,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(MA,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Zp;function $b(n,e){let t=null;try{Zp=Zp||function Pb(n){const e=new CA(n);return function SA(){try{return!!(new window.DOMParser).parseFromString(ac(""),"text/html")}catch{return!1}}()?new wA(e):e}(n);let r=e?String(e):"";t=Zp.getInertBodyElement(r);let o=5,i=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=t.innerHTML,t=Zp.getInertBodyElement(r)}while(r!==i);return ac((new IA).sanitizeChildren(qg(t)||t))}finally{if(t){const r=qg(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function qg(n){return"content"in n&&function TA(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var $r=(()=>(($r=$r||{})[$r.NONE=0]="NONE",$r[$r.HTML=1]="HTML",$r[$r.STYLE=2]="STYLE",$r[$r.SCRIPT=3]="SCRIPT",$r[$r.URL=4]="URL",$r[$r.RESOURCE_URL=5]="RESOURCE_URL",$r))();const qp=new sn("ENVIRONMENT_INITIALIZER"),jb=new sn("INJECTOR",-1),Hb=new sn("INJECTOR_DEF_TYPES");class zb{get(e,t=H){if(t===H){const r=new Error(`NullInjectorError: No provider for ${N(e)}!`);throw r.name="NullInjectorError",r}return t}}function LA(...n){return{\u0275providers:Gb(0,n),\u0275fromNgModule:!0}}function Gb(n,...e){const t=[],r=new Set;let o;return ic(e,i=>{const s=i;Kg(s,t,[],r)&&(o||(o=[]),o.push(s))}),void 0!==o&&Wb(o,t),t}function Wb(n,e){for(let t=0;t<n.length;t++){const{providers:o}=n[t];Yg(o,i=>{e.push(i)})}}function Kg(n,e,t,r){if(!(n=R(n)))return!1;let o=null,i=ia(n);const s=!i&&ut(n);if(i||s){if(s&&!s.standalone)return!1;o=n}else{const u=n.ngModule;if(i=ia(u),!i)return!1;o=u}const a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const f of u)Kg(f,e,t,r)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let f;r.add(o);try{ic(i.imports,m=>{Kg(m,e,t,r)&&(f||(f=[]),f.push(m))})}finally{}void 0!==f&&Wb(f,e)}if(!a){const f=aa(o)||(()=>new o);e.push({provide:o,useFactory:f,deps:rr},{provide:Hb,useValue:o,multi:!0},{provide:qp,useValue:()=>ne(o),multi:!0})}const u=i.providers;null==u||a||Yg(u,m=>{e.push(m)})}}return o!==n&&void 0!==n.providers}function Yg(n,e){for(let t of n)Ie(t)&&(t=t.\u0275providers),Array.isArray(t)?Yg(t,e):e(t)}const $A=tr({provide:String,useValue:tr});function Xg(n){return null!==n&&"object"==typeof n&&$A in n}function cc(n){return"function"==typeof n}const Qg=new sn("Set Injector scope."),Kp={},VA={};let Jg;function Yp(){return void 0===Jg&&(Jg=new zb),Jg}class da{}class Kb extends da{get destroyed(){return this._destroyed}constructor(e,t,r,o){super(),this.parent=t,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ty(e,s=>this.processProvider(s)),this.records.set(jb,tu(void 0,this)),o.has("environment")&&this.records.set(da,tu(void 0,this));const i=this.records.get(Qg);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Hb.multi,rr,kt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=Wt(this),r=sr(void 0);try{return e()}finally{Wt(t),sr(r)}}get(e,t=H,r=kt.Default){this.assertNotDestroyed(),r=Jr(r);const o=Wt(this),i=sr(void 0);try{if(!(r&kt.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function GA(n){return"function"==typeof n||"object"==typeof n&&n instanceof sn}(e)&&_s(e);a=u&&this.injectableDefInScope(u)?tu(ey(e),Kp):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&kt.Self?Yp():this.parent).get(e,t=r&kt.Optional&&t===H?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[Ee]=s[Ee]||[]).unshift(N(e)),o)throw s;return function fr(n,e,t,r){const o=n[Ee];throw e[Tn]&&o.unshift(e[Tn]),n.message=function pr(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let o=N(e);if(Array.isArray(e))o=e.map(N).join(" -> ");else if("object"==typeof e){let i=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):N(a)))}o=`{${i.join(", ")}}`}return`${t}${r?"("+r+")":""}[${o}]: ${n.replace(Et,"\n  ")}`}("\n"+n.message,o,t,r),n.ngTokenPath=o,n[Ee]=null,n}(s,e,"R3InjectorError",this.source)}throw s}finally{sr(i),Wt(o)}}resolveInjectorInitializers(){const e=Wt(this),t=sr(void 0);try{const r=this.get(qp.multi,rr,kt.Self);for(const o of r)o()}finally{Wt(e),sr(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(N(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ae(205,!1)}processProvider(e){let t=cc(e=R(e))?e:R(e&&e.provide);const r=function jA(n){return Xg(n)?tu(void 0,n.useValue):tu(Yb(n),Kp)}(e);if(cc(e)||!0!==e.multi)this.records.get(t);else{let o=this.records.get(t);o||(o=tu(void 0,Kp,!0),o.factory=()=>ht(o.multi),this.records.set(t,o)),t=e,o.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Kp&&(t.value=VA,t.value=t.factory()),"object"==typeof t.value&&t.value&&function zA(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=R(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function ey(n){const e=_s(n),t=null!==e?e.factory:aa(n);if(null!==t)return t;if(n instanceof sn)throw new Ae(204,!1);if(n instanceof Function)return function UA(n){const e=n.length;if(e>0)throw Ad(e,"?"),new Ae(204,!1);const t=function ns(n){const e=n&&(n[Ps]||n[sa]);if(e){const t=function Ei(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Ae(204,!1)}function Yb(n,e,t){let r;if(cc(n)){const o=R(n);return aa(o)||ey(o)}if(Xg(n))r=()=>R(n.useValue);else if(function qb(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...ht(n.deps||[]));else if(function Zb(n){return!(!n||!n.useExisting)}(n))r=()=>ne(R(n.useExisting));else{const o=R(n&&(n.useClass||n.provide));if(!function HA(n){return!!n.deps}(n))return aa(o)||ey(o);r=()=>new o(...ht(n.deps))}return r}function tu(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function ty(n,e){for(const t of n)Array.isArray(t)?ty(t,e):t&&Ie(t)?ty(t.\u0275providers,e):e(t)}class WA{}class Xb{}class qA{resolveComponentFactory(e){throw function ZA(n){const e=Error(`No component factory found for ${N(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let za=(()=>{class n{}return n.NULL=new qA,n})();function KA(){return nu(Ht(),lt())}function nu(n,e){return new _t(Ni(n,e))}let _t=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=KA,n})();function YA(n){return n instanceof _t?n.nativeElement:n}class Jb{}let Ga=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function XA(){const n=lt(),t=Co(Ht().index,n);return(Di(t)?t:n)[11]}(),n})(),QA=(()=>{class n{}return n.\u0275prov=yt({token:n,providedIn:"root",factory:()=>null}),n})();class Vd{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const JA=new Vd("15.1.3"),ny={};function oy(n){return n.ngOriginalError}class ru{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&oy(e);for(;t&&oy(t);)t=oy(t);return t||null}}function Wa(n){return n instanceof Function?n():n}function tw(n,e,t){let r=n.length;for(;;){const o=n.indexOf(e,t);if(-1===o)return o;if(0===o||n.charCodeAt(o-1)<=32){const i=e.length;if(o+i===r||n.charCodeAt(o+i)<=32)return o}t=o+1}}const nw="ng-template";function ux(n,e,t){let r=0;for(;r<n.length;){let o=n[r++];if(t&&"class"===o){if(o=n[r],-1!==tw(o.toLowerCase(),e,0))return!0}else if(1===o){for(;r<n.length&&"string"==typeof(o=n[r++]);)if(o.toLowerCase()===e)return!0;return!1}}return!1}function rw(n){return 4===n.type&&n.value!==nw}function dx(n,e,t){return e===(4!==n.type||t?n.value:nw)}function fx(n,e,t){let r=4;const o=n.attrs||[],i=function mx(n){for(let e=0;e<n.length;e++)if(A0(n[e]))return e;return n.length}(o);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!dx(n,u,t)||""===u&&1===e.length){if(Ws(r))return!1;s=!0}}else{const f=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!ux(n.attrs,f,t)){if(Ws(r))return!1;s=!0}continue}const _=px(8&r?"class":u,o,rw(n),t);if(-1===_){if(Ws(r))return!1;s=!0;continue}if(""!==f){let k;k=_>i?"":o[_+1].toLowerCase();const A=8&r?k:null;if(A&&-1!==tw(A,f,0)||2&r&&f!==k){if(Ws(r))return!1;s=!0}}}}else{if(!s&&!Ws(r)&&!Ws(u))return!1;if(s&&Ws(u))continue;s=!1,r=u|1&r}}return Ws(r)||s}function Ws(n){return 0==(1&n)}function px(n,e,t,r){if(null===e)return-1;let o=0;if(r||!t){let i=!1;for(;o<e.length;){const s=e[o];if(s===n)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=e[++o];for(;"string"==typeof a;)a=e[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function gx(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function ow(n,e,t=!1){for(let r=0;r<e.length;r++)if(fx(n,e[r],t))return!0;return!1}function yx(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let o=0;o<n.length;o++)if(n[o]!==r[o])continue e;return!0}}return!1}function iw(n,e){return n?":not("+e.trim()+")":e}function _x(n){let e=n[0],t=1,r=2,o="",i=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""!==o&&!Ws(s)&&(e+=iw(i,o),o=""),r=s,i=i||!Ws(r);t++}return""!==o&&(e+=iw(i,o)),e}const Nn={};function et(n){sw(wn(),lt(),Li()+n,!1)}function sw(n,e,t,r){if(!r)if(3==(3&e[2])){const i=n.preOrderCheckHooks;null!==i&&Ap(e,i,t)}else{const i=n.preOrderHooks;null!==i&&xp(e,i,0,t)}rc(t)}function uw(n,e=null,t=null,r){const o=dw(n,e,t,r);return o.resolveInjectorInitializers(),o}function dw(n,e=null,t=null,r,o=new Set){const i=[t||rr,LA(n)];return r=r||("object"==typeof n?void 0:N(n)),new Kb(i,e||Yp(),r||null,o)}let lo=(()=>{class n{static create(t,r){if(Array.isArray(t))return uw({name:""},r,t,"");{const o=t.name??"";return uw({name:o},t.parent,t.providers,o)}}}return n.THROW_IF_NOT_FOUND=H,n.NULL=new zb,n.\u0275prov=yt({token:n,providedIn:"any",factory:()=>ne(jb)}),n.__NG_ELEMENT_ID__=-1,n})();function w(n,e=kt.Default){const t=lt();return null===t?ne(n,e):B0(Ht(),t,R(n),e)}function vw(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r+1];if(-1!==i){const s=n.data[i];mo(t[r]),s.contentQueries(2,e[i],i)}}}function Qp(n,e,t,r,o,i,s,a,u,f,m){const _=e.blueprint.slice();return _[0]=o,_[2]=76|r,(null!==m||n&&1024&n[2])&&(_[2]|=1024),Mp(_),_[3]=_[15]=n,_[8]=t,_[10]=s||n&&n[10],_[11]=a||n&&n[11],_[12]=u||n&&n[12]||null,_[9]=f||n&&n[9]||null,_[6]=i,_[20]=function RT(){return PT++}(),_[21]=m,_[16]=2==e.type?n[16]:_,_}function su(n,e,t,r,o){let i=n.data[e];if(null===i)i=function cy(n,e,t,r,o){const i=l(),s=T(),u=n.data[e]=function zx(n,e,t,r,o,i){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,t,e,r,o);return null===n.firstChild&&(n.firstChild=u),null!==i&&(s?null==i.child&&null!==u.parent&&(i.child=u):null===i.next&&(i.next=u)),u}(n,e,t,r,o),function hn(){return Dt.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=t,i.value=r,i.attrs=o;const s=function h(){const n=Dt.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return v(i,!0),i}function Ud(n,e,t,r){if(0===t)return-1;const o=e.length;for(let i=0;i<t;i++)e.push(r),n.blueprint.push(r),n.data.push(null);return o}function uy(n,e,t){so(e);try{const r=n.viewQuery;null!==r&&by(1,r,t);const o=n.template;null!==o&&bw(n,e,o,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&vw(n,e),n.staticViewQueries&&by(2,n.viewQuery,t);const i=n.components;null!==i&&function Ux(n,e){for(let t=0;t<e.length;t++)cP(n,e[t])}(e,i)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,dg()}}function Jp(n,e,t,r){const o=e[2];if(128!=(128&o)){so(e);try{Mp(e),function Vn(n){return Dt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&bw(n,e,t,2,r);const s=3==(3&o);if(s){const f=n.preOrderCheckHooks;null!==f&&Ap(e,f,null)}else{const f=n.preOrderHooks;null!==f&&xp(e,f,0,null),fg(e,0)}if(function aP(n){for(let e=Rg(n);null!==e;e=Fg(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const o=t[r];512&o[2]||Dd(o[3],1),o[2]|=512}}}(e),function sP(n){for(let e=Rg(n);null!==e;e=Fg(e))for(let t=10;t<e.length;t++){const r=e[t],o=r[1];zc(r)&&Jp(o,r,o.template,r[8])}}(e),null!==n.contentQueries&&vw(n,e),s){const f=n.contentCheckHooks;null!==f&&Ap(e,f)}else{const f=n.contentHooks;null!==f&&xp(e,f,1),fg(e,1)}!function Bx(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const o=t[r];if(o<0)rc(~o);else{const i=o,s=t[++r],a=t[++r];ho(s,i),a(2,e[i])}}}finally{rc(-1)}}(n,e);const a=n.components;null!==a&&function Vx(n,e){for(let t=0;t<e.length;t++)lP(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&by(2,u,r),s){const f=n.viewCheckHooks;null!==f&&Ap(e,f)}else{const f=n.viewHooks;null!==f&&xp(e,f,2),fg(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Dd(e[3],-1))}finally{dg()}}}function bw(n,e,t,r,o){const i=Li(),s=2&r;try{rc(-1),s&&e.length>22&&sw(n,e,22,!1),t(r,o)}finally{rc(i)}}function dy(n,e,t){if(jc(e)){const o=e.directiveEnd;for(let i=e.directiveStart;i<o;i++){const s=n.data[i];s.contentQueries&&s.contentQueries(1,t[i],i)}}}function fy(n,e,t){Ir()&&(function Yx(n,e,t,r){const o=t.directiveStart,i=t.directiveEnd;Sl(t)&&function rP(n,e,t){const r=Ni(e,n),o=ww(t),i=n[10],s=eh(n,Qp(n,o,null,t.onPush?32:16,r,e,i,i.createRenderer(r,t),null,null,null));n[e.index]=s}(e,t,n.data[o+t.componentOffset]),n.firstCreatePass||Op(t,e),ki(r,e);const s=t.initialInputs;for(let a=o;a<i;a++){const u=n.data[a],f=oc(e,n,a,t);ki(f,e),null!==s&&oP(0,a-o,f,u,0,s),is(u)&&(Co(t.index,e)[8]=oc(e,n,a,t))}}(n,e,t,Ni(t,e)),64==(64&t.flags)&&kw(n,e,t))}function py(n,e,t=Ni){const r=e.localNames;if(null!==r){let o=e.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],a=-1===s?t(e,n):n[s];n[o++]=a}}}function ww(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=hy(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function hy(n,e,t,r,o,i,s,a,u,f){const m=22+r,_=m+o,k=function jx(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Nn);return t}(m,_),A="function"==typeof f?f():f;return k[1]={type:n,blueprint:k,template:t,queries:null,viewQuery:a,declTNode:e,data:k.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1}}function Cw(n,e,t,r){const o=Tw(e);null===t?o.push(r):(o.push(t),n.firstCreatePass&&Aw(n).push(r,o.length-1))}function Sw(n,e,t,r){for(let o in n)if(n.hasOwnProperty(o)){t=null===t?{}:t;const i=n[o];null===r?Ew(t,e,o,i):r.hasOwnProperty(o)&&Ew(t,e,r[o],i)}return t}function Ew(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function Cs(n,e,t,r,o,i,s,a){const u=Ni(e,t);let m,f=e.inputs;!a&&null!=f&&(m=f[r])?(wy(n,t,m,r,o),Sl(e)&&Dw(t,e.index)):3&e.type&&(r=function Wx(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),o=null!=s?s(o,e.value||"",r):o,i.setProperty(u,r,o))}function Dw(n,e){const t=Co(e,n);16&t[2]||(t[2]|=32)}function my(n,e,t,r){let o=!1;if(Ir()){const i=null===r?null:{"":-1},s=function Qx(n,e){const t=n.directiveRegistry;let r=null,o=null;if(t)for(let i=0;i<t.length;i++){const s=t[i];if(ow(e,s.selectors,!1))if(r||(r=[]),is(s))if(null!==s.findHostDirectiveDefs){const a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),r.unshift(...a,s),gy(n,e,a.length)}else r.unshift(s),gy(n,e,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,r,o),r.push(s)}return null===r?null:[r,o]}(n,t);let a,u;null===s?a=u=null:[a,u]=s,null!==a&&(o=!0,Iw(n,e,t,a,i,u)),i&&function Jx(n,e,t){if(e){const r=n.localNames=[];for(let o=0;o<e.length;o+=2){const i=t[e[o+1]];if(null==i)throw new Ae(-301,!1);r.push(e[o],i)}}}(t,r,i)}return t.mergedAttrs=kd(t.mergedAttrs,t.attrs),o}function Iw(n,e,t,r,o,i){for(let f=0;f<r.length;f++)_g(Op(t,e),n,r[f].type);!function tP(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let f=0;f<r.length;f++){const m=r[f];m.providersResolver&&m.providersResolver(m)}let s=!1,a=!1,u=Ud(n,e,r.length,null);for(let f=0;f<r.length;f++){const m=r[f];t.mergedAttrs=kd(t.mergedAttrs,m.hostAttrs),nP(n,t,e,u,m),eP(u,m,o),null!==m.contentQueries&&(t.flags|=4),(null!==m.hostBindings||null!==m.hostAttrs||0!==m.hostVars)&&(t.flags|=64);const _=m.type.prototype;!s&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),s=!0),!a&&(_.ngOnChanges||_.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),a=!0),u++}!function Gx(n,e,t){const o=e.directiveEnd,i=n.data,s=e.attrs,a=[];let u=null,f=null;for(let m=e.directiveStart;m<o;m++){const _=i[m],k=t?t.get(_):null,Q=k?k.outputs:null;u=Sw(_.inputs,m,u,k?k.inputs:null),f=Sw(_.outputs,m,f,Q);const Te=null===u||null===s||rw(e)?null:iP(u,m,s);a.push(Te)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=f}(n,t,i)}function kw(n,e,t){const r=t.directiveStart,o=t.directiveEnd,i=t.index,s=function ss(){return Dt.lFrame.currentDirectiveIndex}();try{rc(i);for(let a=r;a<o;a++){const u=n.data[a],f=e[a];zo(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&Xx(u,f)}}finally{rc(-1),zo(s)}}function Xx(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function gy(n,e,t){e.componentOffset=t,(n.components||(n.components=[])).push(e.index)}function eP(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;is(e)&&(t[""]=n)}}function nP(n,e,t,r,o){n.data[r]=o;const i=o.factory||(o.factory=aa(o.type)),s=new Id(i,is(o),w);n.blueprint[r]=s,t[r]=s,function qx(n,e,t,r,o){const i=o.hostBindings;if(i){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function Kx(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,i)}}(n,e,r,Ud(n,t,o.hostVars,Nn),o)}function fa(n,e,t,r,o,i){const s=Ni(n,e);!function yy(n,e,t,r,o,i,s){if(null==i)n.removeAttribute(e,o,t);else{const a=null==s?St(i):s(i,r||"",o);n.setAttribute(e,o,a,t)}}(e[11],s,i,n.value,t,r,o)}function oP(n,e,t,r,o,i){const s=i[e];if(null!==s){const a=r.setInput;for(let u=0;u<s.length;){const f=s[u++],m=s[u++],_=s[u++];null!==a?r.setInput(t,_,f,m):t[m]=_}}}function iP(n,e,t){let r=null,o=0;for(;o<t.length;){const i=t[o];if(0!==i)if(5!==i){if("number"==typeof i)break;if(n.hasOwnProperty(i)){null===r&&(r=[]);const s=n[i];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(i,s[a+1],t[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function Mw(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function lP(n,e){const t=Co(e,n);if(zc(t)){const r=t[1];48&t[2]?Jp(r,t,r.template,t[8]):t[5]>0&&_y(t)}}function _y(n){for(let r=Rg(n);null!==r;r=Fg(r))for(let o=10;o<r.length;o++){const i=r[o];if(zc(i))if(512&i[2]){const s=i[1];Jp(s,i,s.template,i[8])}else i[5]>0&&_y(i)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const o=Co(t[r],n);zc(o)&&o[5]>0&&_y(o)}}function cP(n,e){const t=Co(e,n),r=t[1];(function uP(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),uy(r,t,t[8])}function eh(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function vy(n){for(;n;){n[2]|=32;const e=Nd(n);if(_p(n)&&!e)return n;n=e}return null}function th(n,e,t,r=!0){const o=e[10];o.begin&&o.begin();try{Jp(n,e,n.template,t)}catch(s){throw r&&Pw(e,s),s}finally{o.end&&o.end()}}function by(n,e,t){mo(0),e(n,t)}function Tw(n){return n[7]||(n[7]=[])}function Aw(n){return n.cleanup||(n.cleanup=[])}function Pw(n,e){const t=n[9],r=t?t.get(ru,null):null;r&&r.handleError(e)}function wy(n,e,t,r,o){for(let i=0;i<t.length;){const s=t[i++],a=t[i++],u=e[s],f=n.data[s];null!==f.setInput?f.setInput(u,o,r,a):u[a]=o}}function Za(n,e,t){const r=ja(e,n);!function pb(n,e,t){n.setValue(e,t)}(n[11],r,t)}function nh(n,e,t){let r=t?n.styles:null,o=t?n.classes:null,i=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?i=a:1==i?o=ge(o,a):2==i&&(r=ge(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=o:n.classesWithoutHost=o}function rh(n,e,t,r,o=!1){for(;null!==t;){const i=e[t.index];if(null!==i&&r.push(ti(i)),os(i))for(let a=10;a<i.length;a++){const u=i[a],f=u[1].firstChild;null!==f&&rh(u[1],u,f,r)}const s=t.type;if(8&s)rh(n,e,t.child,r);else if(32&s){const a=Pg(t,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=Eb(e,t);if(Array.isArray(a))r.push(...a);else{const u=Nd(e[16]);rh(u[1],u,a,r,!0)}}t=o?t.projectionNext:t.next}return r}class jd{get rootNodes(){const e=this._lView,t=e[1];return rh(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(os(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Lg(e,r),Lp(t,r))}this._attachedToViewContainer=!1}mb(this._lView[1],this._lView)}onDestroy(e){Cw(this._lView[1],this._lView,null,e)}markForCheck(){vy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){th(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function qT(n,e){Ld(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Ae(902,!1);this._appRef=e}}class dP extends jd{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;th(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class Rw extends za{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ut(e);return new Hd(t,this.ngModule)}}function Fw(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class pP{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Jr(r);const o=this.injector.get(e,ny,r);return o!==ny||t===ny?o:this.parentInjector.get(e,t,r)}}class Hd extends Xb{get inputs(){return Fw(this.componentDef.inputs)}get outputs(){return Fw(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function vx(n){return n.map(_x).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,o){let i=(o=o||this.ngModule)instanceof da?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const s=i?new pP(e,i):e,a=s.get(Jb,null);if(null===a)throw new Ae(407,!1);const u=s.get(QA,null),f=a.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",_=r?function Hx(n,e,t){return n.selectRootElement(e,t===Fi.ShadowDom)}(f,r,this.componentDef.encapsulation):Ng(f,m,function fP(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(m)),k=this.componentDef.onPush?288:272,A=hy(0,null,null,1,0,null,null,null,null,null),Q=Qp(null,A,null,k,null,null,a,f,u,s,null);let Te,Ze;so(Q);try{const Ke=this.componentDef;let Ct,Ne=null;Ke.findHostDirectiveDefs?(Ct=[],Ne=new Map,Ke.findHostDirectiveDefs(Ke,Ct,Ne),Ct.push(Ke)):Ct=[Ke];const Ot=function mP(n,e){const t=n[1];return n[22]=e,su(t,22,2,"#host",null)}(Q,_),Sn=function gP(n,e,t,r,o,i,s,a){const u=o[1];!function yP(n,e,t,r){for(const o of n)e.mergedAttrs=kd(e.mergedAttrs,o.hostAttrs);null!==e.mergedAttrs&&(nh(e,e.mergedAttrs,!0),null!==t&&kb(r,t,e))}(r,n,e,s);const f=i.createRenderer(e,t),m=Qp(o,ww(t),null,t.onPush?32:16,o[n.index],n,i,f,a||null,null,null);return u.firstCreatePass&&gy(u,n,r.length-1),eh(o,m),o[n.index]=m}(Ot,_,Ke,Ct,Q,a,f);Ze=Ed(A,22),_&&function vP(n,e,t,r){if(r)hg(n,t,["ng-version",JA.full]);else{const{attrs:o,classes:i}=function bx(n){const e=[],t=[];let r=1,o=2;for(;r<n.length;){let i=n[r];if("string"==typeof i)2===o?""!==i&&e.push(i,n[++r]):8===o&&t.push(i);else{if(!Ws(o))break;o=i}r++}return{attrs:e,classes:t}}(e.selectors[0]);o&&hg(n,t,o),i&&i.length>0&&Ib(n,t,i.join(" "))}}(f,Ke,_,r),void 0!==t&&function bP(n,e,t){const r=n.projection=[];for(let o=0;o<e.length;o++){const i=t[o];r.push(null!=i?Array.from(i):null)}}(Ze,this.ngContentSelectors,t),Te=function _P(n,e,t,r,o,i){const s=Ht(),a=o[1],u=Ni(s,o);Iw(a,o,s,t,null,r);for(let m=0;m<t.length;m++)ki(oc(o,a,s.directiveStart+m,s),o);kw(a,o,s),u&&ki(u,o);const f=oc(o,a,s.directiveStart+s.componentOffset,s);if(n[8]=o[8]=f,null!==i)for(const m of i)m(f,e);return dy(a,s,n),f}(Sn,Ke,Ct,Ne,Q,[wP]),uy(A,Q,null)}finally{dg()}return new hP(this.componentType,Te,nu(Ze,Q),Q,Ze)}}class hP extends WA{constructor(e,t,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.instance=t,this.hostView=this.changeDetectorRef=new dP(o),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[e])){const i=this._rootLView;wy(i[1],i,o,e,t),Dw(i,this._tNode.index)}}get injector(){return new Wc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function wP(){const n=Ht();Tp(lt()[1],n)}function ur(n){let e=function Ow(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let o;if(is(n))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Ae(903,!1);o=e.\u0275dir}if(o){if(t){r.push(o);const s=n;s.inputs=Cy(n.inputs),s.declaredInputs=Cy(n.declaredInputs),s.outputs=Cy(n.outputs);const a=o.hostBindings;a&&DP(n,a);const u=o.viewQuery,f=o.contentQueries;if(u&&SP(n,u),f&&EP(n,f),x(n.inputs,o.inputs),x(n.declaredInputs,o.declaredInputs),x(n.outputs,o.outputs),is(o)&&o.data.animation){const m=n.data;m.animation=(m.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(n),a===ur&&(t=!1)}}e=Object.getPrototypeOf(e)}!function CP(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const o=n[r];o.hostVars=e+=o.hostVars,o.hostAttrs=kd(o.hostAttrs,t=kd(t,o.hostAttrs))}}(r)}function Cy(n){return n===rs?{}:n===rr?[]:n}function SP(n,e){const t=n.viewQuery;n.viewQuery=t?(r,o)=>{e(r,o),t(r,o)}:e}function EP(n,e){const t=n.contentQueries;n.contentQueries=t?(r,o,i)=>{e(r,o,i),t(r,o,i)}:e}function DP(n,e){const t=n.hostBindings;n.hostBindings=t?(r,o)=>{e(r,o),t(r,o)}:e}let oh=null;function uc(){if(!oh){const n=p.Symbol;if(n&&n.iterator)oh=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(oh=r)}}}return oh}function ih(n){return!!function Sy(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&uc()in n)}function Mi(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function dc(n,e,t,r){const o=Mi(n,e,t);return Mi(n,e+1,r)||o}function ha(n,e,t,r){const o=lt();return Mi(o,jn(),e)&&(wn(),fa(ao(),o,n,e,t,r)),ha}function lu(n,e,t,r){return Mi(n,jn(),t)?e+St(t)+r:Nn}function uu(n,e,t,r,o,i,s,a){const f=function sh(n,e,t,r,o){const i=dc(n,e,t,r);return Mi(n,e+2,o)||i}(n,on(),t,o,s);return Qt(3),f?e+St(t)+r+St(o)+i+St(s)+a:Nn}function ln(n,e,t,r,o,i,s,a){const u=lt(),f=wn(),m=n+22,_=f.firstCreatePass?function OP(n,e,t,r,o,i,s,a,u){const f=e.consts,m=su(e,n,4,s||null,la(f,a));my(e,t,m,la(f,u)),Tp(e,m);const _=m.tViews=hy(2,m,r,o,i,e.directiveRegistry,e.pipeRegistry,null,e.schemas,f);return null!==e.queries&&(e.queries.template(e,m),_.queries=e.queries.embeddedTView(m)),m}(m,f,u,e,t,r,o,i,s):f.data[m];v(_,!1);const k=u[11].createComment("");jp(f,u,k,_),ki(k,u),eh(u,u[m]=Mw(k,u,k,_)),nc(_)&&fy(f,u,_),null!=s&&py(u,_,a)}function Ss(n){return Dr(function be(){return Dt.lFrame.contextLView}(),22+n)}function ot(n,e,t){const r=lt();return Mi(r,jn(),e)&&Cs(wn(),ao(),r,n,e,r[11],t,!1),ot}function Ey(n,e,t,r,o){const s=o?"class":"style";wy(n,t,e.inputs[s],s,r)}function se(n,e,t,r){const o=lt(),i=wn(),s=22+n,a=o[11],u=o[s]=Ng(a,e,function ZM(){return Dt.lFrame.currentNamespace}()),f=i.firstCreatePass?function LP(n,e,t,r,o,i,s){const a=e.consts,f=su(e,n,2,o,la(a,i));return my(e,t,f,la(a,s)),null!==f.attrs&&nh(f,f.attrs,!1),null!==f.mergedAttrs&&nh(f,f.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,f),f}(s,i,o,0,e,t,r):i.data[s];return v(f,!0),kb(a,u,f),32!=(32&f.flags)&&jp(i,o,u,f),0===function tt(){return Dt.lFrame.elementDepthCount}()&&ki(u,o),function eo(){Dt.lFrame.elementDepthCount++}(),nc(f)&&(fy(i,o,f),dy(i,f,o)),null!==r&&py(o,f),se}function J(){let n=Ht();T()?U():(n=n.parent,v(n,!1));const e=n;!function or(){Dt.lFrame.elementDepthCount--}();const t=wn();return t.firstCreatePass&&(Tp(t,n),jc(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function XM(n){return 0!=(8&n.flags)}(e)&&Ey(t,e,lt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function QM(n){return 0!=(16&n.flags)}(e)&&Ey(t,e,lt(),e.stylesWithoutHost,!1),J}function dt(n,e,t,r){return se(n,e,t,r),J(),dt}function Gd(n,e,t){const r=lt(),o=wn(),i=n+22,s=o.firstCreatePass?function $P(n,e,t,r,o){const i=e.consts,s=la(i,r),a=su(e,n,8,"ng-container",s);return null!==s&&nh(a,s,!0),my(e,t,a,la(i,o)),null!==e.queries&&e.queries.elementStart(e,a),a}(i,o,r,e,t):o.data[i];v(s,!0);const a=r[i]=r[11].createComment("");return jp(o,r,a,s),ki(a,r),nc(s)&&(fy(o,r,s),dy(o,s,r)),null!=t&&py(r,s),Gd}function Wd(){let n=Ht();const e=wn();return T()?U():(n=n.parent,v(n,!1)),e.firstCreatePass&&(Tp(e,n),jc(n)&&e.queries.elementEnd(n)),Wd}function wr(){return lt()}function Zd(n){return!!n&&"function"==typeof n.then}function qw(n){return!!n&&"function"==typeof n.subscribe}const Dy=qw;function at(n,e,t,r){const o=lt(),i=wn(),s=Ht();return function Yw(n,e,t,r,o,i,s){const a=nc(r),f=n.firstCreatePass&&Aw(n),m=e[8],_=Tw(e);let k=!0;if(3&r.type||s){const Te=Ni(r,e),Ze=s?s(Te):Te,Ke=_.length,Ct=s?Ot=>s(ti(Ot[r.index])):r.index;let Ne=null;if(!s&&a&&(Ne=function BP(n,e,t,r){const o=n.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===t&&o[i+1]===r){const a=e[7],u=o[i+2];return a.length>u?a[u]:null}"string"==typeof s&&(i+=2)}return null}(n,e,o,r.index)),null!==Ne)(Ne.__ngLastListenerFn__||Ne).__ngNextListenerFn__=i,Ne.__ngLastListenerFn__=i,k=!1;else{i=Qw(r,e,m,i,!1);const Ot=t.listen(Ze,o,i);_.push(i,Ot),f&&f.push(o,Ct,Ke,Ke+1)}}else i=Qw(r,e,m,i,!1);const A=r.outputs;let Q;if(k&&null!==A&&(Q=A[o])){const Te=Q.length;if(Te)for(let Ze=0;Ze<Te;Ze+=2){const Sn=e[Q[Ze]][Q[Ze+1]].subscribe(i),Gn=_.length;_.push(i,Sn),f&&f.push(o,r.index,Gn,-(Gn+1))}}}(i,o,o[11],s,n,e,r),at}function Xw(n,e,t,r){try{return!1!==t(r)}catch(o){return Pw(n,o),!1}}function Qw(n,e,t,r,o){return function i(s){if(s===Function)return r;vy(n.componentOffset>-1?Co(n.index,e):e);let u=Xw(e,0,r,s),f=i.__ngNextListenerFn__;for(;f;)u=Xw(e,0,f,s)&&u,f=f.__ngNextListenerFn__;return o&&!1===u&&(s.preventDefault(),s.returnValue=!1),u}}function Bt(n=1){return function UM(n){return(Dt.lFrame.contextLView=function jM(n,e){for(;n>0;)e=e[15],n--;return e}(n,Dt.lFrame.contextLView))[8]}(n)}function VP(n,e){let t=null;const r=function hx(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let o=0;o<e.length;o++){const i=e[o];if("*"!==i){if(null===r?ow(n,i,!0):yx(r,i))return o}else t=o}return t}function Rt(n){const e=lt()[16][6];if(!e.projection){const r=e.projection=Ad(n?n.length:1,null),o=r.slice();let i=e.child;for(;null!==i;){const s=n?VP(i,n):0;null!==s&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i),i=i.next}}}function At(n,e=0,t){const r=lt(),o=wn(),i=su(o,22+n,16,null,t||null);null===i.projection&&(i.projection=e),U(),32!=(32&i.flags)&&function nA(n,e,t){Db(e[11],0,e,t,gb(n,t,e),bb(t.parent||e[6],t,e))}(o,r,i)}function lh(n,e,t,r,o){const i=lt(),s=lu(i,e,t,r);return s!==Nn&&Cs(wn(),ao(),i,n,s,i[11],o,!1),lh}function ch(n,e){return n<<17|e<<2}function El(n){return n>>17&32767}function Iy(n){return 2|n}function fc(n){return(131068&n)>>2}function ky(n,e){return-131069&n|e<<2}function My(n){return 1|n}function lC(n,e,t,r,o){const i=n[t+1],s=null===e;let a=r?El(i):fc(i),u=!1;for(;0!==a&&(!1===u||s);){const m=n[a+1];WP(n[a],e)&&(u=!0,n[a+1]=r?My(m):Iy(m)),a=r?El(m):fc(m)}u&&(n[t+1]=r?Iy(i):My(i))}function WP(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Qc(n,e)>=0}function qd(n,e,t){return Zs(n,e,t,!1),qd}function qa(n,e){return Zs(n,e,null,!0),qa}function Zs(n,e,t,r){const o=lt(),i=wn(),s=Qt(2);i.firstUpdatePass&&function gC(n,e,t,r){const o=n.data;if(null===o[t+1]){const i=o[Li()],s=function mC(n,e){return e>=n.expandoStartIndex}(n,t);(function bC(n,e){return 0!=(n.flags&(e?8:16))})(i,r)&&null===e&&!s&&(e=!1),e=function tR(n,e,t,r){const o=function wt(n){const e=Dt.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let i=r?e.residualClasses:e.residualStyles;if(null===o)0===(r?e.classBindings:e.styleBindings)&&(t=Kd(t=Ty(null,n,e,t,r),e.attrs,r),i=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==o)if(t=Ty(o,n,e,t,r),null===i){let u=function nR(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==fc(r))return n[El(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=Ty(null,n,e,u[1],r),u=Kd(u,e.attrs,r),function rR(n,e,t,r){n[El(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else i=function oR(n,e,t){let r;const o=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<o;i++)r=Kd(r,n[i].hostAttrs,t);return Kd(r,e.attrs,t)}(n,e,r)}return void 0!==i&&(r?e.residualClasses=i:e.residualStyles=i),t}(o,i,e,r),function zP(n,e,t,r,o,i){let s=i?e.classBindings:e.styleBindings,a=El(s),u=fc(s);n[r]=t;let m,f=!1;if(Array.isArray(t)?(m=t[1],(null===m||Qc(t,m)>0)&&(f=!0)):m=t,o)if(0!==u){const k=El(n[a+1]);n[r+1]=ch(k,a),0!==k&&(n[k+1]=ky(n[k+1],r)),n[a+1]=function jP(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=ch(a,0),0!==a&&(n[a+1]=ky(n[a+1],r)),a=r;else n[r+1]=ch(u,0),0===a?a=r:n[u+1]=ky(n[u+1],r),u=r;f&&(n[r+1]=Iy(n[r+1])),lC(n,m,r,!0),lC(n,m,r,!1),function GP(n,e,t,r,o){const i=o?n.residualClasses:n.residualStyles;null!=i&&"string"==typeof e&&Qc(i,e)>=0&&(t[r+1]=My(t[r+1]))}(e,m,n,r,i),s=ch(a,u),i?e.classBindings=s:e.styleBindings=s}(o,i,e,t,s,r)}}(i,n,s,r),e!==Nn&&Mi(o,s,e)&&function _C(n,e,t,r,o,i,s,a){if(!(3&e.type))return;const u=n.data,f=u[a+1],m=function HP(n){return 1==(1&n)}(f)?vC(u,e,t,o,fc(f),s):void 0;uh(m)||(uh(i)||function UP(n){return 2==(2&n)}(f)&&(i=vC(u,null,t,o,a,s)),function oA(n,e,t,r,o){if(e)o?n.addClass(t,r):n.removeClass(t,r);else{let i=-1===r.indexOf("-")?void 0:ls.DashCase;null==o?n.removeStyle(t,r,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=ls.Important),n.setStyle(t,r,o,i))}}(r,s,ja(Li(),t),o,i))}(i,i.data[Li()],o,o[11],n,o[s+1]=function aR(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=N(ws(n)))),n}(e,t),r,s)}function Ty(n,e,t,r,o){let i=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(i=e[a],r=Kd(r,i.hostAttrs,o),i!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Kd(n,e,t){const r=t?1:2;let o=-1;if(null!==e)for(let i=0;i<e.length;i++){const s=e[i];"number"==typeof s?o=s:o===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),bs(n,s,!!t||e[++i]))}return void 0===n?null:n}function vC(n,e,t,r,o,i){const s=null===e;let a;for(;o>0;){const u=n[o],f=Array.isArray(u),m=f?u[1]:u,_=null===m;let k=t[o+1];k===Nn&&(k=_?rr:void 0);let A=_?Cg(k,r):m===r?k:void 0;if(f&&!uh(A)&&(A=Cg(u,r)),uh(A)&&(a=A,s))return a;const Q=n[o+1];o=s?El(Q):fc(Q)}if(null!==e){let u=i?e.residualClasses:e.residualStyles;null!=u&&(a=Cg(u,r))}return a}function uh(n){return void 0!==n}function qe(n,e=""){const t=lt(),r=wn(),o=n+22,i=r.firstCreatePass?su(r,o,1,e,null):r.data[o],s=t[o]=function Og(n,e){return n.createText(e)}(t[11],e);jp(r,t,s,i),v(i,!1)}function Es(n){return Ti("",n,""),Es}function Ti(n,e,t){const r=lt(),o=lu(r,n,e,t);return o!==Nn&&Za(r,Li(),o),Ti}function Yd(n,e,t,r,o){const i=lt(),s=function cu(n,e,t,r,o,i){const a=dc(n,on(),t,o);return Qt(2),a?e+St(t)+r+St(o)+i:Nn}(i,n,e,t,r,o);return s!==Nn&&Za(i,Li(),s),Yd}function Ay(n,e,t,r,o,i,s){const a=lt(),u=uu(a,n,e,t,r,o,i,s);return u!==Nn&&Za(a,Li(),u),Ay}const _u="en-US";let VC=_u;function Ry(n,e,t,r,o){if(n=R(n),Array.isArray(n))for(let i=0;i<n.length;i++)Ry(n[i],e,t,r,o);else{const i=wn(),s=lt();let a=cc(n)?n:R(n.provide),u=Yb(n);const f=Ht(),m=1048575&f.providerIndexes,_=f.directiveStart,k=f.providerIndexes>>20;if(cc(n)||!n.multi){const A=new Id(u,o,w),Q=Oy(a,e,o?m:m+k,_);-1===Q?(_g(Op(f,s),i,a),Fy(i,n,e.length),e.push(a),f.directiveStart++,f.directiveEnd++,o&&(f.providerIndexes+=1048576),t.push(A),s.push(A)):(t[Q]=A,s[Q]=A)}else{const A=Oy(a,e,m+k,_),Q=Oy(a,e,m,m+k),Ze=Q>=0&&t[Q];if(o&&!Ze||!o&&!(A>=0&&t[A])){_g(Op(f,s),i,a);const Ke=function DF(n,e,t,r,o){const i=new Id(n,t,w);return i.multi=[],i.index=e,i.componentProviders=0,dS(i,o,r&&!t),i}(o?EF:SF,t.length,o,r,u);!o&&Ze&&(t[Q].providerFactory=Ke),Fy(i,n,e.length,0),e.push(a),f.directiveStart++,f.directiveEnd++,o&&(f.providerIndexes+=1048576),t.push(Ke),s.push(Ke)}else Fy(i,n,A>-1?A:Q,dS(t[o?Q:A],u,!o&&r));!o&&r&&Ze&&t[Q].componentProviders++}}}function Fy(n,e,t,r){const o=cc(e),i=function BA(n){return!!n.useClass}(e);if(o||i){const u=(i?R(e.useClass):e).prototype.ngOnDestroy;if(u){const f=n.destroyHooks||(n.destroyHooks=[]);if(!o&&e.multi){const m=f.indexOf(t);-1===m?f.push(t,[r,u]):f[m+1].push(r,u)}else f.push(t,u)}}}function dS(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Oy(n,e,t,r){for(let o=t;o<r;o++)if(e[o]===n)return o;return-1}function SF(n,e,t,r){return Ny(this.multi,[])}function EF(n,e,t,r){const o=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=oc(t,t[1],this.providerFactory.index,r);i=a.slice(0,s),Ny(o,i);for(let u=s;u<a.length;u++)i.push(a[u])}else i=[],Ny(o,i);return i}function Ny(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function kr(n,e=[]){return t=>{t.providersResolver=(r,o)=>function CF(n,e,t){const r=wn();if(r.firstCreatePass){const o=is(n);Ry(t,r.data,r.blueprint,o,!0),Ry(e,r.data,r.blueprint,o,!1)}}(r,o?o(n):n,e)}}class vu{}class fS{}class pS extends vu{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Rw(this);const r=Vt(e);this._bootstrapComponents=Wa(r.bootstrap),this._r3Injector=dw(e,t,[{provide:vu,useValue:this},{provide:za,useValue:this.componentFactoryResolver}],N(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Ly extends fS{constructor(e){super(),this.moduleType=e}create(e){return new pS(this.moduleType,e)}}class kF extends vu{constructor(e,t,r){super(),this.componentFactoryResolver=new Rw(this),this.instance=null;const o=new Kb([...e,{provide:vu,useValue:this},{provide:za,useValue:this.componentFactoryResolver}],t||Yp(),r,new Set(["environment"]));this.injector=o,o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function mh(n,e,t=null){return new kF(n,e,t).injector}let MF=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=Gb(0,t.type),o=r.length>0?mh([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,o)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=yt({token:n,providedIn:"environment",factory:()=>new n(ne(da))}),n})();function hS(n){n.getStandaloneInjector=e=>e.get(MF).getOrCreateStandaloneInjector(n)}function wS(n,e,t,r,o,i){const s=e+t;return Mi(n,s,o)?function pa(n,e,t){return n[e]=t}(n,s+1,i?r.call(i,o):r(o)):function nf(n,e){const t=n[e];return t===Nn?void 0:t}(n,s+1)}function ya(n,e){const t=wn();let r;const o=n+22;t.firstCreatePass?(r=function ZF(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[o]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(o,r.onDestroy)):r=t.data[o];const i=r.factory||(r.factory=aa(r.type)),s=sr(w);try{const a=Fp(!1),u=i();return Fp(a),function NP(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,lt(),o,u),u}finally{sr(s)}}function _a(n,e,t){const r=n+22,o=lt(),i=Dr(o,r);return function rf(n,e){return n[1].data[e].pure}(o,r)?wS(o,function bt(){const n=Dt.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),e,i.transform,t,i):i.transform(t)}function By(n){return e=>{setTimeout(n,void 0,e)}}const kn=class QF extends nt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let o=e,i=t||(()=>null),s=r;if(e&&"object"==typeof e){const u=e;o=u.next?.bind(u),i=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(i=By(i),o&&(o=By(o)),s&&(s=By(s)));const a=super.subscribe({next:o,error:i,complete:s});return e instanceof z&&e.add(a),a}};function JF(){return this._results[uc()]()}class Vy{get changes(){return this._changes||(this._changes=new kn)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=uc(),r=Vy.prototype;r[t]||(r[t]=JF)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const o=function Rs(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function lT(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let o=n[r],i=e[r];if(t&&(o=t(o),i=t(i)),i!==o)return!1}return!0}(r._results,o,t))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let us=(()=>{class n{}return n.__NG_ELEMENT_ID__=n2,n})();const e2=us,t2=class extends e2{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,o=Qp(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);o[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(o[19]=s.createEmbeddedView(r)),uy(r,o,e),new jd(o)}};function n2(){return gh(Ht(),lt())}function gh(n,e){return 4&n.type?new t2(e,n,nu(n,e)):null}let Ai=(()=>{class n{}return n.__NG_ELEMENT_ID__=r2,n})();function r2(){return MS(Ht(),lt())}const o2=Ai,IS=class extends o2{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return nu(this._hostTNode,this._hostLView)}get injector(){return new Wc(this._hostTNode,this._hostLView)}get parentInjector(){const e=yg(this._hostTNode,this._hostLView);if(R0(e)){const t=Rp(e,this._hostLView),r=Pp(e);return new Wc(t[1].data[r+8],t)}return new Wc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=kS(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const s=e.createEmbeddedView(t||{},i);return this.insert(s,o),s}createComponent(e,t,r,o,i){const s=e&&!function Td(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const _=t||{};a=_.index,r=_.injector,o=_.projectableNodes,i=_.environmentInjector||_.ngModuleRef}const u=s?e:new Hd(ut(e)),f=r||this.parentInjector;if(!i&&null==u.ngModule){const k=(s?f:this.parentInjector).get(da,null);k&&(i=k)}const m=u.create(f,o,void 0,i);return this.insert(m.hostView,a),m}insert(e,t){const r=e._lView,o=r[1];if(function ug(n){return os(n[3])}(r)){const m=this.indexOf(e);if(-1!==m)this.detach(m);else{const _=r[3],k=new IS(_,_[6],_[3]);k.detach(k.indexOf(e))}}const i=this._adjustIndex(t),s=this._lContainer;!function YT(n,e,t,r){const o=10+r,i=t.length;r>0&&(t[o-1][4]=e),r<i-10?(e[4]=t[o],G0(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const s=e[17];null!==s&&t!==s&&function XT(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(o,r,s,i);const a=Vg(i,s),u=r[11],f=Up(u,s[7]);return null!==f&&function ZT(n,e,t,r,o,i){r[0]=o,r[6]=e,Ld(n,r,t,1,o,i)}(o,s[6],u,r,f,a),e.attachToViewContainerRef(),G0(Uy(s),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=kS(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Lg(this._lContainer,t);r&&(Lp(Uy(this._lContainer),t),mb(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=Lg(this._lContainer,t);return r&&null!=Lp(Uy(this._lContainer),t)?new jd(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function kS(n){return n[8]}function Uy(n){return n[8]||(n[8]=[])}function MS(n,e){let t;const r=e[n.index];if(os(r))t=r;else{let o;if(8&n.type)o=ti(r);else{const i=e[11];o=i.createComment("");const s=Ni(n,e);sc(i,Up(i,s),o,function tA(n,e){return n.nextSibling(e)}(i,s),!1)}e[n.index]=t=Mw(r,e,o,n),eh(e,t)}return new IS(t,n,e)}class jy{constructor(e){this.queryList=e,this.matches=null}clone(){return new jy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hy{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,o=[];for(let i=0;i<r;i++){const s=t.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new Hy(o)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==RS(e,t).matches&&this.queries[t].setDirty()}}class TS{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class zy{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const o=null!==t?t.length:0,i=this.getByIndex(r).embeddedTView(e,o);i&&(i.indexInDeclarationView=r,null!==t?t.push(i):t=[i])}return null!==t?new zy(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Gy{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Gy(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const i=r[o];this.matchTNodeWithReadOption(e,t,i2(t,i)),this.matchTNodeWithReadOption(e,t,Np(t,e,i,!1,!1))}else r===us?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Np(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===_t||o===Ai||o===us&&4&t.type)this.addMatch(t.index,-2);else{const i=Np(t,e,o,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function i2(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function a2(n,e,t,r){return-1===t?function s2(n,e){return 11&n.type?nu(n,e):4&n.type?gh(n,e):null}(e,n):-2===t?function l2(n,e,t){return t===_t?nu(e,n):t===us?gh(e,n):t===Ai?MS(e,n):void 0}(n,e,r):oc(n,n[1],t,e)}function AS(n,e,t,r){const o=e[19].queries[r];if(null===o.matches){const i=n.data,s=t.matches,a=[];for(let u=0;u<s.length;u+=2){const f=s[u];a.push(f<0?null:a2(e,i[f],s[u+1],t.metadata.read))}o.matches=a}return o.matches}function Wy(n,e,t,r){const o=n.queries.getByIndex(t),i=o.matches;if(null!==i){const s=AS(n,e,o,t);for(let a=0;a<i.length;a+=2){const u=i[a];if(u>0)r.push(s[a/2]);else{const f=i[a+1],m=e[-u];for(let _=10;_<m.length;_++){const k=m[_];k[17]===k[3]&&Wy(k[1],k,f,r)}if(null!==m[9]){const _=m[9];for(let k=0;k<_.length;k++){const A=_[k];Wy(A[1],A,f,r)}}}}}return r}function Ds(n){const e=lt(),t=wn(),r=yn();mo(r+1);const o=RS(t,r);if(n.dirty&&function cr(n){return 4==(4&n[2])}(e)===(2==(2&o.metadata.flags))){if(null===o.matches)n.reset([]);else{const i=o.crossesNgTemplate?Wy(t,e,r,[]):AS(t,e,o,r);n.reset(i,YA),n.notifyOnChanges()}return!0}return!1}function bu(n,e,t){const r=wn();r.firstCreatePass&&(PS(r,new TS(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),xS(r,lt(),e)}function Is(){return function c2(n,e){return n[19].queries[e].queryList}(lt(),yn())}function xS(n,e,t){const r=new Vy(4==(4&t));Cw(n,e,r,r.destroy),null===e[19]&&(e[19]=new Hy),e[19].queries.push(new jy(r))}function PS(n,e,t){null===n.queries&&(n.queries=new zy),n.queries.track(new Gy(e,t))}function RS(n,e){return n.queries.getByIndex(e)}function _h(...n){}const hc=new sn("Application Initializer");let vh=(()=>{class n{constructor(t){this.appInits=t,this.resolve=_h,this.reject=_h,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let o=0;o<this.appInits.length;o++){const i=this.appInits[o]();if(Zd(i))t.push(i);else if(Dy(i)){const s=new Promise((a,u)=>{i.subscribe({complete:a,error:u})});t.push(s)}}Promise.all(t).then(()=>{r()}).catch(o=>{this.reject(o)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(ne(hc,8))},n.\u0275prov=yt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const af=new sn("AppId",{providedIn:"root",factory:function QS(){return`${Xy()}${Xy()}${Xy()}`}});function Xy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const JS=new sn("Platform Initializer"),Su=new sn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),eE=new sn("appBootstrapListener");let x2=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=yt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ka=new sn("LocaleId",{providedIn:"root",factory:()=>bn(Ka,kt.Optional|kt.SkipSelf)||function P2(){return typeof $localize<"u"&&$localize.locale||_u}()});class F2{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let tE=(()=>{class n{compileModuleSync(t){return new Ly(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),i=Wa(Vt(t).declarations).reduce((s,a)=>{const u=ut(a);return u&&s.push(new Hd(u)),s},[]);return new F2(r,i)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=yt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const L2=(()=>Promise.resolve(0))();function Qy(n){typeof Zone>"u"?L2.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class ft{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new kn(!1),this.onMicrotaskEmpty=new kn(!1),this.onStable=new kn(!1),this.onError=new kn(!1),typeof Zone>"u")throw new Ae(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&t,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function $2(){let n=p.requestAnimationFrame,e=p.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function U2(n){const e=()=>{!function V2(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(p,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,e_(n),n.isCheckStableRunning=!0,Jy(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),e_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,o,i,s,a)=>{try{return oE(n),t.invokeTask(o,i,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||n.shouldCoalesceRunChangeDetection)&&e(),iE(n)}},onInvoke:(t,r,o,i,s,a,u)=>{try{return oE(n),t.invoke(o,i,s,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),iE(n)}},onHasTask:(t,r,o,i)=>{t.hasTask(o,i),r===o&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,e_(n),Jy(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,r,o,i)=>(t.handleError(o,i),n.runOutsideAngular(()=>n.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ft.isInAngularZone())throw new Ae(909,!1)}static assertNotInAngularZone(){if(ft.isInAngularZone())throw new Ae(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,e,B2,_h,_h);try{return i.runTask(s,t,r)}finally{i.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const B2={};function Jy(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function e_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function oE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function iE(n){n._nesting--,Jy(n)}class j2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new kn,this.onMicrotaskEmpty=new kn,this.onStable=new kn,this.onError=new kn}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,o){return e.apply(t,r)}}const sE=new sn(""),bh=new sn("");let r_,t_=(()=>{class n{constructor(t,r,o){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,r_||(function H2(n){r_=n}(o),o.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ft.assertNotInAngularZone(),Qy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Qy(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==i),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:o})}whenStable(t,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,o){return[]}}return n.\u0275fac=function(t){return new(t||n)(ne(ft),ne(n_),ne(bh))},n.\u0275prov=yt({token:n,factory:n.\u0275fac}),n})(),n_=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return r_?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=yt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Il=null;const aE=new sn("AllowMultipleToken"),o_=new sn("PlatformDestroyListeners");class lE{constructor(e,t){this.name=e,this.token=t}}function uE(n,e,t=[]){const r=`Platform: ${e}`,o=new sn(r);return(i=[])=>{let s=i_();if(!s||s.injector.get(aE,!1)){const a=[...t,...i,{provide:o,useValue:!0}];n?n(a):function W2(n){if(Il&&!Il.get(aE,!1))throw new Ae(400,!1);Il=n;const e=n.get(fE);(function cE(n){const e=n.get(JS,null);e&&e.forEach(t=>t())})(n)}(function dE(n=[],e){return lo.create({name:e,providers:[{provide:Qg,useValue:"platform"},{provide:o_,useValue:new Set([()=>Il=null])},...n]})}(a,r))}return function q2(n){const e=i_();if(!e)throw new Ae(401,!1);return e}()}}function i_(){return Il?.get(fE)??null}let fE=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const o=function hE(n,e){let t;return t="noop"===n?new j2:("zone.js"===n?void 0:n)||new ft(e),t}(r?.ngZone,function pE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),i=[{provide:ft,useValue:o}];return o.run(()=>{const s=lo.create({providers:i,parent:this.injector,name:t.moduleType.name}),a=t.create(s),u=a.injector.get(ru,null);if(!u)throw new Ae(402,!1);return o.runOutsideAngular(()=>{const f=o.onError.subscribe({next:m=>{u.handleError(m)}});a.onDestroy(()=>{wh(this._modules,a),f.unsubscribe()})}),function mE(n,e,t){try{const r=t();return Zd(r)?r.catch(o=>{throw e.runOutsideAngular(()=>n.handleError(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,o,()=>{const f=a.injector.get(vh);return f.runInitializers(),f.donePromise.then(()=>(function UC(n){Mo(n,"Expected localeId to be defined"),"string"==typeof n&&(VC=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Ka,_u)||_u),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const o=gE({},r);return function z2(n,e,t){const r=new Ly(t);return Promise.resolve(r)}(0,0,t).then(i=>this.bootstrapModuleFactory(i,o))}_moduleDoBootstrap(t){const r=t.injector.get(kl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!t.instance.ngDoBootstrap)throw new Ae(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ae(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(o_,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(ne(lo))},n.\u0275prov=yt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function gE(n,e){return Array.isArray(e)?e.reduce(gE,n):{...n,...e}}let kl=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,o){this._zone=t,this._injector=r,this._exceptionHandler=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const i=new vt(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new vt(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{ft.assertNotInAngularZone(),Qy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const f=this._zone.onUnstable.subscribe(()=>{ft.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),f.unsubscribe()}});this.isStable=ui(i,s.pipe(ys()))}bootstrap(t,r){const o=t instanceof Xb;if(!this._injector.get(vh).done)throw!o&&function Fn(n){const e=ut(n)||$t(n)||mn(n);return null!==e&&e.standalone}(t),new Ae(405,false);let s;s=o?t:this._injector.get(za).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function G2(n){return n.isBoundToModule}(s)?void 0:this._injector.get(vu),f=s.create(lo.NULL,[],r||s.selector,a),m=f.location.nativeElement,_=f.injector.get(sE,null);return _?.registerApplication(m),f.onDestroy(()=>{this.detachView(f.hostView),wh(this.components,f),_?.unregisterApplication(m)}),this._loadComponent(f),f}tick(){if(this._runningTick)throw new Ae(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;wh(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(eE,[]);r.push(...this._bootstrapListeners),r.forEach(o=>o(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>wh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Ae(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(ne(ft),ne(da),ne(ru))},n.\u0275prov=yt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wh(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let It=(()=>{class n{}return n.__NG_ELEMENT_ID__=Y2,n})();function Y2(n){return function X2(n,e,t){if(Sl(n)&&!t){const r=Co(n.index,e);return new jd(r,r)}return 47&n.type?new jd(e[16],e):null}(Ht(),lt(),16==(16&n))}class wE{constructor(){}supports(e){return ih(e)}create(e){return new rO(e)}}const nO=(n,e)=>e;class rO{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||nO}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,o=0,i=null;for(;t||r;){const s=!r||t&&t.currentIndex<SE(r,o,i)?t:r,a=SE(s,o,i),u=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)o++;else{i||(i=[]);const f=a-o,m=u-o;if(f!=m){for(let k=0;k<f;k++){const A=k<i.length?i[k]:i[k]=0,Q=A+k;m<=Q&&Q<f&&(i[k]=A+1)}i[s.previousIndex]=m-f}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!ih(e))throw new Ae(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let o,i,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)i=e[a],s=this._trackByFn(a,i),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,i,s,a)),Object.is(t.item,i)||this._addIdentityChange(t,i)):(t=this._mismatch(t,i,s,a),r=!0),t=t._next}else o=0,function PP(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[uc()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(o,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,o)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,o),r=!0),t=t._next,o++}),this.length=o;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,o){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,o)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,o)):e=this._addAfter(new oO(t,r),i,o),e}_verifyReinsertion(e,t,r,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?e=this._reinsertAfter(i,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const o=e._prevRemoved,i=e._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const o=null===t?this._itHead:t._next;return e._next=o,e._prev=t,null===o?this._itTail=e:o._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new CE),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new CE),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class oO{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class iO{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class CE{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new iO,this.map.set(t,r)),r.add(e)}get(e,t){const o=this.map.get(e);return o?o.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function SE(n,e,t){const r=n.previousIndex;if(null===r)return r;let o=0;return t&&r<t.length&&(o=t[r]),r+e+o}function DE(){return new lf([new wE])}let lf=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const o=r.factories.slice();t=t.concat(o)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||DE()),deps:[[n,new Pd,new xd]]}}find(t){const r=this.factories.find(o=>o.supports(t));if(null!=r)return r;throw new Ae(901,!1)}}return n.\u0275prov=yt({token:n,providedIn:"root",factory:DE}),n})();const uO=uE(null,"core",[]);let dO=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(ne(kl))},n.\u0275mod=M({type:n}),n.\u0275inj=gr({}),n})(),u_=null;function va(){return u_}class hO{}const Zo=new sn("DocumentToken");let d_=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=yt({token:n,factory:function(){return function mO(){return ne(kE)}()},providedIn:"platform"}),n})();const gO=new sn("Location Initialized");let kE=(()=>{class n extends d_{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return va().getBaseHref(this._doc)}onPopState(t){const r=va().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=va().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){ME()?this._history.pushState(t,r,o):this._location.hash=o}replaceState(t,r,o){ME()?this._history.replaceState(t,r,o):this._location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(ne(Zo))},n.\u0275prov=yt({token:n,factory:function(){return function yO(){return new kE(ne(Zo))}()},providedIn:"platform"}),n})();function ME(){return!!window.history.pushState}function f_(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function TE(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Xa(n){return n&&"?"!==n[0]?"?"+n:n}let ba=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=yt({token:n,factory:function(){return bn(xE)},providedIn:"root"}),n})();const AE=new sn("appBaseHref");let xE=(()=>{class n extends ba{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??bn(Zo).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return f_(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Xa(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,i){const s=this.prepareExternalUrl(o+Xa(i));this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){const s=this.prepareExternalUrl(o+Xa(i));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(ne(d_),ne(AE,8))},n.\u0275prov=yt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),PE=(()=>{class n extends ba{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=f_(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,i){let s=this.prepareExternalUrl(o+Xa(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){let s=this.prepareExternalUrl(o+Xa(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(ne(d_),ne(AE,8))},n.\u0275prov=yt({token:n,factory:n.\u0275fac}),n})(),uf=(()=>{class n{constructor(t){this._subject=new kn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function bO(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(TE(RE(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Xa(r))}normalize(t){return n.stripTrailingSlash(function vO(n,e){return n&&new RegExp(`^${n}([/;?#]|$)`).test(e)?e.substring(n.length):e}(this._basePath,RE(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Xa(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Xa(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=Xa,n.joinWithSlash=f_,n.stripTrailingSlash=TE,n.\u0275fac=function(t){return new(t||n)(ne(ba))},n.\u0275prov=yt({token:n,factory:function(){return function _O(){return new uf(ne(ba))}()},providedIn:"root"}),n})();function RE(n){return n.replace(/\/index.html$/,"")}function jE(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,i]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(i)}return null}class iN{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let gc=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,i,s)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new iN(o.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===i?void 0:i);else if(null!==i){const a=r.get(i);r.move(a,s),WE(a,o)}});for(let o=0,i=r.length;o<i;o++){const a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{WE(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(w(Ai),w(us),w(lf))},n.\u0275dir=ee({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function WE(n,e){n.context.$implicit=e.item}let oi=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new aN,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ZE("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ZE("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(w(Ai),w(us))},n.\u0275dir=ee({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class aN{constructor(){this.$implicit=null,this.ngIf=null}}function ZE(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${N(e)}'.`)}class S_{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Rh=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const r of this._defaultViews)r.enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),qE=(()=>{class n{constructor(t,r,o){this.ngSwitch=o,o._addCase(),this._view=new S_(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(w(Ai),w(us),w(Rh,9))},n.\u0275dir=ee({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),KE=(()=>{class n{constructor(t,r,o){o._addDefault(new S_(t,r))}}return n.\u0275fac=function(t){return new(t||n)(w(Ai),w(us),w(Rh,9))},n.\u0275dir=ee({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})();class uN{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class dN{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const fN=new dN,pN=new uN;let XE=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(Zd(t))return fN;if(qw(t))return pN;throw function Xs(n,e){return new Ae(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(w(It,16))},n.\u0275pipe=xe({name:"async",type:n,pure:!1,standalone:!0}),n})(),wa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=M({type:n}),n.\u0275inj=gr({}),n})();const JE="browser";function Ml(n){return n===JE}let FN=(()=>{class n{}return n.\u0275prov=yt({token:n,providedIn:"root",factory:()=>new ON(ne(Zo),window)}),n})();class ON{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function NN(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(e)||i.querySelector(`[name="${e}"]`);if(s)return s}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=eD(this.window.history)||eD(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function eD(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class tD{}class cL extends hO{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class A_ extends cL{static makeCurrent(){!function pO(n){u_||(u_=n)}(new A_)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function uL(){return hf=hf||document.querySelector("base"),hf?hf.getAttribute("href"):null}();return null==t?null:function dL(n){Oh=Oh||document.createElement("a"),Oh.setAttribute("href",n);const e=Oh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){hf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return jE(document.cookie,e)}}let Oh,hf=null;const sD=new sn("TRANSITION_ID"),pL=[{provide:hc,useFactory:function fL(n,e,t){return()=>{t.get(vh).donePromise.then(()=>{const r=va(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let i=0;i<o.length;i++)r.remove(o[i])})}},deps:[sD,Zo,lo],multi:!0}];let mL=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=yt({token:n,factory:n.\u0275fac}),n})();const Nh=new sn("EventManagerPlugins");let Lh=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let i=0;i<o.length;i++){const s=o[i];if(s.supports(t))return this._eventNameToPlugin.set(t,s),s}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(ne(Nh),ne(ft))},n.\u0275prov=yt({token:n,factory:n.\u0275fac}),n})();class aD{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=va().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let lD=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=yt({token:n,factory:n.\u0275fac}),n})(),mf=(()=>{class n extends lD{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(i=>{const s=this._doc.createElement("style");s.textContent=i,o.push(r.appendChild(s))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(cD),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(cD))}}return n.\u0275fac=function(t){return new(t||n)(ne(Zo))},n.\u0275prov=yt({token:n,factory:n.\u0275fac}),n})();function cD(n){va().remove(n)}const x_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},P_=/%COMP%/g;function R_(n,e){return e.flat(100).map(t=>t.replace(P_,n))}function fD(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let F_=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new O_(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Fi.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new wL(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case Fi.ShadowDom:return new CL(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=R_(r.id,r.styles);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(ne(Lh),ne(mf),ne(af))},n.\u0275prov=yt({token:n,factory:n.\u0275fac}),n})();class O_{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(x_[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(hD(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(hD(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const i=x_[o];i?e.setAttributeNS(i,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=x_[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(ls.DashCase|ls.Important)?e.style.setProperty(t,r,o&ls.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ls.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,fD(r)):this.eventManager.addEventListener(e,t,fD(r))}}function hD(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class wL extends O_{constructor(e,t,r,o){super(e),this.component=r;const i=R_(o+"-"+r.id,r.styles);t.addStyles(i),this.contentAttr=function _L(n){return"_ngcontent-%COMP%".replace(P_,n)}(o+"-"+r.id),this.hostAttr=function vL(n){return"_nghost-%COMP%".replace(P_,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class CL extends O_{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=R_(o.id,o.styles);for(let s=0;s<i.length;s++){const a=document.createElement("style");a.textContent=i[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let SL=(()=>{class n extends aD{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(ne(Zo))},n.\u0275prov=yt({token:n,factory:n.\u0275fac}),n})();const mD=["alt","control","meta","shift"],EL={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},DL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let IL=(()=>{class n extends aD{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const i=n.parseEventName(r),s=n.eventCallback(i.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>va().onAndCancel(t,i.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const i=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),mD.forEach(f=>{const m=r.indexOf(f);m>-1&&(r.splice(m,1),s+=f+".")}),s+=i,0!=r.length||0===i.length)return null;const u={};return u.domEventName=o,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let o=EL[t.key]||t.key,i="";return r.indexOf("code.")>-1&&(o=t.code,i="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),mD.forEach(s=>{s!==o&&(0,DL[s])(t)&&(i+=s+".")}),i+=o,i===r)}static eventCallback(t,r,o){return i=>{n.matchEventFullKeyCode(i,t)&&o.runGuarded(()=>r(i))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(ne(Zo))},n.\u0275prov=yt({token:n,factory:n.\u0275fac}),n})();const AL=uE(uO,"browser",[{provide:Su,useValue:JE},{provide:JS,useValue:function kL(){A_.makeCurrent()},multi:!0},{provide:Zo,useFactory:function TL(){return function cA(n){zg=n}(document),document},deps:[]}]),_D=new sn(""),vD=[{provide:bh,useClass:class hL{addToWindow(e){p.getAngularTestability=(r,o=!0)=>{const i=e.findTestabilityInTree(r,o);if(null==i)throw new Error("Could not find testability for element.");return i},p.getAllAngularTestabilities=()=>e.getAllTestabilities(),p.getAllAngularRootElements=()=>e.getAllRootElements(),p.frameworkStabilizers||(p.frameworkStabilizers=[]),p.frameworkStabilizers.push(r=>{const o=p.getAllAngularTestabilities();let i=o.length,s=!1;const a=function(u){s=s||u,i--,0==i&&r(s)};o.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?va().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:sE,useClass:t_,deps:[ft,n_,bh]},{provide:t_,useClass:t_,deps:[ft,n_,bh]}],bD=[{provide:Qg,useValue:"root"},{provide:ru,useFactory:function ML(){return new ru},deps:[]},{provide:Nh,useClass:SL,multi:!0,deps:[Zo,ft,Su]},{provide:Nh,useClass:IL,multi:!0,deps:[Zo]},{provide:F_,useClass:F_,deps:[Lh,mf,af]},{provide:Jb,useExisting:F_},{provide:lD,useExisting:mf},{provide:mf,useClass:mf,deps:[Zo]},{provide:Lh,useClass:Lh,deps:[Nh,ft]},{provide:tD,useClass:mL,deps:[]},[]];let xL=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:af,useValue:t.appId},{provide:sD,useExisting:af},pL]}}}return n.\u0275fac=function(t){return new(t||n)(ne(_D,12))},n.\u0275mod=M({type:n}),n.\u0275inj=gr({providers:[...bD,...vD],imports:[wa,dO]}),n})(),wD=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(ne(Zo))},n.\u0275prov=yt({token:n,factory:function(t){let r=null;return r=t?new t:function RL(){return new wD(ne(Zo))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let $_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=yt({token:n,factory:function(t){let r=null;return r=t?new(t||n):ne(ED),r},providedIn:"root"}),n})(),ED=(()=>{class n extends $_{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case $r.NONE:return r;case $r.HTML:return ua(r,"HTML")?ws(r):$b(this._doc,String(r)).toString();case $r.STYLE:return ua(r,"Style")?ws(r):r;case $r.SCRIPT:if(ua(r,"Script"))return ws(r);throw new Error("unsafe value used in a script context");case $r.URL:return ua(r,"URL")?ws(r):Wp(String(r));case $r.RESOURCE_URL:if(ua(r,"ResourceURL"))return ws(r);throw new Error(`unsafe value used in a resource URL context (see ${it})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${it})`)}}bypassSecurityTrustHtml(t){return function gA(n){return new uA(n)}(t)}bypassSecurityTrustStyle(t){return function yA(n){return new dA(n)}(t)}bypassSecurityTrustScript(t){return function _A(n){return new fA(n)}(t)}bypassSecurityTrustUrl(t){return function vA(n){return new pA(n)}(t)}bypassSecurityTrustResourceUrl(t){return function bA(n){return new hA(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(ne(Zo))},n.\u0275prov=yt({token:n,factory:function(t){let r=null;return r=t?new t:function VL(n){return new ED(n.get(Zo))}(ne(lo)),r},providedIn:"root"}),n})();var ii=P(1158),UL=P(9233),Du=P.n(UL);let $h,Bh;function DD(n){if(!window.location.hash.startsWith(n))return;const e=window.location.hash.split("?")[1];if(!e)return;const t=e.split("&").map(r=>r.split("="));for(const[r,o]of t)if("url"===r&&o)try{return decodeURIComponent(o)}catch{continue}}function ID(){return void 0!==Bh}class kD{constructor(){this.requestEvent=new ii.j}dispatchRequest(e){if(e){try{e=new(Du())(e).toString()}catch{return void console.error(`invalid URL: ${e}`)}this.url=e,this.requestEvent.dispatch()}}hasPendingRequest(){return void 0!==this.url}receivePendingUrl(){const e=this.url;return this.url=void 0,e}}class Al{constructor(){this.installation=new kD,this.import=new kD,$h&&this.installation.dispatchRequest($h),Bh&&this.import.dispatchRequest(Bh)}}function _n(...n){return lr(n,Jo(n))}function xl(n,e){return I(e)?mr(n,e,1):mr(n,1)}function fi(n,e){return q((t,r)=>{let o=0;t.subscribe(_e(r,i=>n.call(e,i,o++)&&r.next(i)))})}Al.\u0275fac=function(e){return new(e||Al)},Al.\u0275prov=yt({token:Al,factory:Al.\u0275fac,providedIn:"root"});class Vh{}class B_{}class Ja{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const o=t.slice(0,r),i=o.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const o=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(t,o))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ja?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ja;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ja?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":const i=e.value;if(i){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class zL{encodeKey(e){return MD(e)}encodeValue(e){return MD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const WL=/%(\d[a-f0-9])/gi,ZL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function MD(n){return encodeURIComponent(n).replace(WL,(e,t)=>ZL[t]??e)}function Uh(n){return`${n}`}class Pl{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new zL,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function GL(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,i)),e.decodeValue(o.slice(i+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],o=Array.isArray(r)?r.map(Uh):[Uh(r)];this.map.set(t,o)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(i=>{t.push({param:r,value:i,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Pl({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Uh(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const o=r.indexOf(Uh(e.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class qL{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function TD(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function AD(n){return typeof Blob<"u"&&n instanceof Blob}function xD(n){return typeof FormData<"u"&&n instanceof FormData}class gf{constructor(e,t,r,o){let i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function KL(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,i=o):i=r,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new Ja),this.context||(this.context=new qL),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Pl,this.urlWithParams=t}serializeBody(){return null===this.body?null:TD(this.body)||AD(this.body)||xD(this.body)||function YL(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Pl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||xD(this.body)?null:AD(this.body)?this.body.type||null:TD(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Pl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,o=e.responseType||this.responseType,i=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,f=e.params||this.params;const m=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((_,k)=>_.set(k,e.setHeaders[k]),u)),e.setParams&&(f=Object.keys(e.setParams).reduce((_,k)=>_.set(k,e.setParams[k]),f)),new gf(t,r,i,{params:f,headers:u,context:m,reportProgress:a,responseType:o,withCredentials:s})}}var Fo=(()=>((Fo=Fo||{})[Fo.Sent=0]="Sent",Fo[Fo.UploadProgress=1]="UploadProgress",Fo[Fo.ResponseHeader=2]="ResponseHeader",Fo[Fo.DownloadProgress=3]="DownloadProgress",Fo[Fo.Response=4]="Response",Fo[Fo.User=5]="User",Fo))();class V_{constructor(e,t=200,r="OK"){this.headers=e.headers||new Ja,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class U_ extends V_{constructor(e={}){super(e),this.type=Fo.ResponseHeader}clone(e={}){return new U_({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class jh extends V_{constructor(e={}){super(e),this.type=Fo.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new jh({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class PD extends V_{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function j_(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let H_=(()=>{class n{constructor(t){this.handler=t}request(t,r,o={}){let i;if(t instanceof gf)i=t;else{let u,f;u=o.headers instanceof Ja?o.headers:new Ja(o.headers),o.params&&(f=o.params instanceof Pl?o.params:new Pl({fromObject:o.params})),i=new gf(t,r,void 0!==o.body?o.body:null,{headers:u,context:o.context,params:f,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const s=_n(i).pipe(xl(u=>this.handler.handle(u)));if(t instanceof gf||"events"===o.observe)return s;const a=s.pipe(fi(u=>u instanceof jh));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(Pe(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(Pe(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(Pe(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(Pe(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Pl).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,j_(o,r))}post(t,r,o={}){return this.request("POST",t,j_(o,r))}put(t,r,o={}){return this.request("PUT",t,j_(o,r))}}return n.\u0275fac=function(t){return new(t||n)(ne(Vh))},n.\u0275prov=yt({token:n,factory:n.\u0275fac}),n})();function RD(n,e){return e(n)}function XL(n,e){return(t,r)=>e.intercept(t,{handle:o=>n(o,r)})}const JL=new sn("HTTP_INTERCEPTORS"),yf=new sn("HTTP_INTERCEPTOR_FNS");function e3(){let n=null;return(e,t)=>(null===n&&(n=(bn(JL,{optional:!0})??[]).reduceRight(XL,RD)),n(e,t))}let FD=(()=>{class n extends Vh{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(yf)));this.chain=r.reduceRight((o,i)=>function QL(n,e,t){return(r,o)=>t.runInContext(()=>e(r,i=>n(i,o)))}(o,i,this.injector),RD)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(ne(B_),ne(da))},n.\u0275prov=yt({token:n,factory:n.\u0275fac}),n})();const o3=/^\)\]\}',?\n/;let ND=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new vt(r=>{const o=this.xhrFactory.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((A,Q)=>o.setRequestHeader(A,Q.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const A=t.detectContentTypeHeader();null!==A&&o.setRequestHeader("Content-Type",A)}if(t.responseType){const A=t.responseType.toLowerCase();o.responseType="json"!==A?A:"text"}const i=t.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const A=o.statusText||"OK",Q=new Ja(o.getAllResponseHeaders()),Te=function i3(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return s=new U_({headers:Q,status:o.status,statusText:A,url:Te}),s},u=()=>{let{headers:A,status:Q,statusText:Te,url:Ze}=a(),Ke=null;204!==Q&&(Ke=typeof o.response>"u"?o.responseText:o.response),0===Q&&(Q=Ke?200:0);let Ct=Q>=200&&Q<300;if("json"===t.responseType&&"string"==typeof Ke){const Ne=Ke;Ke=Ke.replace(o3,"");try{Ke=""!==Ke?JSON.parse(Ke):null}catch(Ot){Ke=Ne,Ct&&(Ct=!1,Ke={error:Ot,text:Ke})}}Ct?(r.next(new jh({body:Ke,headers:A,status:Q,statusText:Te,url:Ze||void 0})),r.complete()):r.error(new PD({error:Ke,headers:A,status:Q,statusText:Te,url:Ze||void 0}))},f=A=>{const{url:Q}=a(),Te=new PD({error:A,status:o.status||0,statusText:o.statusText||"Unknown Error",url:Q||void 0});r.error(Te)};let m=!1;const _=A=>{m||(r.next(a()),m=!0);let Q={type:Fo.DownloadProgress,loaded:A.loaded};A.lengthComputable&&(Q.total=A.total),"text"===t.responseType&&o.responseText&&(Q.partialText=o.responseText),r.next(Q)},k=A=>{let Q={type:Fo.UploadProgress,loaded:A.loaded};A.lengthComputable&&(Q.total=A.total),r.next(Q)};return o.addEventListener("load",u),o.addEventListener("error",f),o.addEventListener("timeout",f),o.addEventListener("abort",f),t.reportProgress&&(o.addEventListener("progress",_),null!==i&&o.upload&&o.upload.addEventListener("progress",k)),o.send(i),r.next({type:Fo.Sent}),()=>{o.removeEventListener("error",f),o.removeEventListener("abort",f),o.removeEventListener("load",u),o.removeEventListener("timeout",f),t.reportProgress&&(o.removeEventListener("progress",_),null!==i&&o.upload&&o.upload.removeEventListener("progress",k)),o.readyState!==o.DONE&&o.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(ne(tD))},n.\u0275prov=yt({token:n,factory:n.\u0275fac}),n})();const z_=new sn("XSRF_ENABLED"),LD="XSRF-TOKEN",$D=new sn("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>LD}),BD="X-XSRF-TOKEN",VD=new sn("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>BD});class UD{}let s3=(()=>{class n{constructor(t,r,o){this.doc=t,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=jE(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(ne(Zo),ne(Su),ne($D))},n.\u0275prov=yt({token:n,factory:n.\u0275fac}),n})();function a3(n,e){const t=n.url.toLowerCase();if(!bn(z_)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=bn(UD).getToken(),o=bn(VD);return null!=r&&!n.headers.has(o)&&(n=n.clone({headers:n.headers.set(o,r)})),e(n)}var Eo=(()=>((Eo=Eo||{})[Eo.Interceptors=0]="Interceptors",Eo[Eo.LegacyInterceptors=1]="LegacyInterceptors",Eo[Eo.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Eo[Eo.NoXsrfProtection=3]="NoXsrfProtection",Eo[Eo.JsonpSupport=4]="JsonpSupport",Eo[Eo.RequestsMadeViaParent=5]="RequestsMadeViaParent",Eo))();function Iu(n,e){return{\u0275kind:n,\u0275providers:e}}function l3(...n){const e=[H_,ND,FD,{provide:Vh,useExisting:FD},{provide:B_,useExisting:ND},{provide:yf,useValue:a3,multi:!0},{provide:z_,useValue:!0},{provide:UD,useClass:s3}];for(const t of n)e.push(...t.\u0275providers);return function NA(n){return{\u0275providers:n}}(e)}const jD=new sn("LEGACY_INTERCEPTOR_FN");function u3({cookieName:n,headerName:e}){const t=[];return void 0!==n&&t.push({provide:$D,useValue:n}),void 0!==e&&t.push({provide:VD,useValue:e}),Iu(Eo.CustomXsrfConfiguration,t)}let d3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=M({type:n}),n.\u0275inj=gr({providers:[l3(Iu(Eo.LegacyInterceptors,[{provide:jD,useFactory:e3},{provide:yf,useExisting:jD,multi:!0}]),u3({cookieName:LD,headerName:BD}))]}),n})();const{isArray:f3}=Array,{getPrototypeOf:p3,prototype:h3,keys:m3}=Object;function HD(n){if(1===n.length){const e=n[0];if(f3(e))return{args:e,keys:null};if(function g3(n){return n&&"object"==typeof n&&p3(n)===h3}(e)){const t=m3(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:y3}=Array;function G_(n){return Pe(e=>function _3(n,e){return y3(e)?n(...e):n(e)}(n,e))}function zD(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}let GD=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(w(Ga),w(_t))},n.\u0275dir=ee({type:n}),n})(),yc=(()=>{class n extends GD{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ri(n)))(r||n)}}(),n.\u0275dir=ee({type:n,features:[ur]}),n})();const Vi=new sn("NgValueAccessor"),w3={provide:Vi,useExisting:Oe(()=>W_),multi:!0},S3=new sn("CompositionEventMode");let W_=(()=>{class n extends GD{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function C3(){const n=va()?va().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(w(Ga),w(_t),w(S3,8))},n.\u0275dir=ee({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&at("input",function(i){return r._handleInput(i.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(i){return r._compositionEnd(i.target.value)})},features:[kr([w3]),ur]}),n})();function Rl(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function ZD(n){return null!=n&&"number"==typeof n.length}const xi=new sn("NgValidators"),Fl=new sn("NgAsyncValidators"),D3=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class _f{static min(e){return function qD(n){return e=>{if(Rl(e.value)||Rl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function KD(n){return e=>{if(Rl(e.value)||Rl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function YD(n){return Rl(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function XD(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function QD(n){return Rl(n.value)||D3.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function JD(n){return e=>Rl(e.value)||!ZD(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return e1(e)}static pattern(e){return function t1(n){if(!n)return Hh;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Rl(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(e)}static nullValidator(e){return null}static compose(e){return a1(e)}static composeAsync(e){return l1(e)}}function e1(n){return e=>ZD(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function Hh(n){return null}function n1(n){return null!=n}function r1(n){return Zd(n)?lr(n):n}function o1(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function i1(n,e){return e.map(t=>t(n))}function s1(n){return n.map(e=>function I3(n){return!n.validate}(e)?e:t=>e.validate(t))}function a1(n){if(!n)return null;const e=n.filter(n1);return 0==e.length?null:function(t){return o1(i1(t,e))}}function Z_(n){return null!=n?a1(s1(n)):null}function l1(n){if(!n)return null;const e=n.filter(n1);return 0==e.length?null:function(t){return function v3(...n){const e=Qi(n),{args:t,keys:r}=HD(n),o=new vt(i=>{const{length:s}=t;if(!s)return void i.complete();const a=new Array(s);let u=s,f=s;for(let m=0;m<s;m++){let _=!1;On(t[m]).subscribe(_e(i,k=>{_||(_=!0,f--),a[m]=k},()=>u--,void 0,()=>{(!u||!_)&&(f||i.next(r?zD(r,a):a),i.complete())}))}});return e?o.pipe(G_(e)):o}(i1(t,e).map(r1)).pipe(Pe(o1))}}function q_(n){return null!=n?l1(s1(n)):null}function c1(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function u1(n){return n._rawValidators}function d1(n){return n._rawAsyncValidators}function K_(n){return n?Array.isArray(n)?n:[n]:[]}function zh(n,e){return Array.isArray(n)?n.includes(e):n===e}function f1(n,e){const t=K_(e);return K_(n).forEach(o=>{zh(t,o)||t.push(o)}),t}function p1(n,e){return K_(e).filter(t=>!zh(n,t))}class h1{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Z_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=q_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ui extends h1{get formDirective(){return null}get path(){return null}}class el extends h1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class m1{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let tl=(()=>{class n extends m1{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(w(el,2))},n.\u0275dir=ee({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&qa("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[ur]}),n})(),nl=(()=>{class n extends m1{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(w(Ui,10))},n.\u0275dir=ee({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&qa("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[ur]}),n})();const vf="VALID",Wh="INVALID",ku="PENDING",bf="DISABLED";function J_(n){return(Zh(n)?n.validators:n)||null}function ev(n,e){return(Zh(e)?e.asyncValidators:n)||null}function Zh(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class v1{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===vf}get invalid(){return this.status===Wh}get pending(){return this.status==ku}get disabled(){return this.status===bf}get enabled(){return this.status!==bf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(f1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(f1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(p1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(p1(e,this._rawAsyncValidators))}hasValidator(e){return zh(this._rawValidators,e)}hasAsyncValidator(e){return zh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ku,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=bf,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=vf,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vf||this.status===ku)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bf:vf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ku,this._hasOwnPendingAsyncValidator=!0;const t=r1(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new kn,this.statusChanges=new kn}_calculateStatus(){return this._allControlsDisabled()?bf:this.errors?Wh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ku)?ku:this._anyControlsHaveStatus(Wh)?Wh:vf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Zh(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function R3(n){return Array.isArray(n)?Z_(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function F3(n){return Array.isArray(n)?q_(n):n||null}(this._rawAsyncValidators)}}class Ol extends v1{constructor(e,t,r){super(J_(t),ev(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function _1(n,e,t){n._forEachChild((r,o)=>{if(void 0===t[o])throw new Ae(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function y1(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new Ae(1e3,"");if(!r[t])throw new Ae(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,i)=>{r=t(r,o,i)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const qh=Ol,Mu=new sn("CallSetDisabledState",{providedIn:"root",factory:()=>Kh}),Kh="always";function wf(n,e,t=Kh){tv(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function L3(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&b1(n,e)})}(n,e),function B3(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function $3(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&b1(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function N3(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Xh(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Jh(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Qh(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function tv(n,e){const t=u1(n);null!==e.validator?n.setValidators(c1(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=d1(n);null!==e.asyncValidator?n.setAsyncValidators(c1(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();Qh(e._rawValidators,o),Qh(e._rawAsyncValidators,o)}function Jh(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=u1(n);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==e.validator);i.length!==o.length&&(t=!0,n.setValidators(i))}}if(null!==e.asyncValidator){const o=d1(n);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==e.asyncValidator);i.length!==o.length&&(t=!0,n.setAsyncValidators(i))}}}const r=()=>{};return Qh(e._rawValidators,r),Qh(e._rawAsyncValidators,r),t}function b1(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function S1(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function E1(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const fs=class extends v1{constructor(e=null,t,r){super(J_(t),ev(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Zh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=E1(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){S1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){S1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){E1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},si=fs;let rl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),A1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=M({type:n}),n.\u0275inj=gr({}),n})();const sv=new sn("NgModelWithFormControlWarning"),J3={provide:Ui,useExisting:Oe(()=>Qs)};let Qs=(()=>{class n extends Ui{constructor(t,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new kn,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Jh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return wf(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Xh(t.control||null,t,!1),function H3(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function C1(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(Xh(r||null,t),(n=>n instanceof fs)(o)&&(wf(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function w1(n,e){tv(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function V3(n,e){return Jh(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){tv(this.form,this),this._oldForm&&Jh(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(w(xi,10),w(Fl,10),w(Mu,8))},n.\u0275dir=ee({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&at("submit",function(i){return r.onSubmit(i)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[kr([J3]),ur,Ao]}),n})();const n$={provide:el,useExisting:Oe(()=>Ca)};let Ca=(()=>{class n extends el{set isDisabled(t){}constructor(t,r,o,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new kn,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function ov(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(i=>{i.constructor===W_?t=i:function j3(n){return Object.getPrototypeOf(n.constructor)===yc}(i)?r=i:o=i}),o||r||t||null}(0,i)}ngOnChanges(t){this._added||this._setUpControl(),function rv(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Yh(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(w(Ui,13),w(xi,10),w(Fl,10),w(Vi,10),w(sv,8))},n.\u0275dir=ee({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[kr([n$]),ur,Ao]}),n})();let _c=(()=>{class n{constructor(){this._validator=Hh}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Hh,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,features:[Ao]}),n})();const m$={provide:xi,useExisting:Oe(()=>fv),multi:!0};let fv=(()=>{class n extends _c{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function L1(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>e1(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ri(n)))(r||n)}}(),n.\u0275dir=ee({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&ha("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[kr([m$]),ur]}),n})(),G1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=M({type:n}),n.\u0275inj=gr({imports:[A1]}),n})(),vc=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Mu,useValue:t.callSetDisabledState??Kh}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=M({type:n}),n.\u0275inj=gr({imports:[G1]}),n})(),em=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:sv,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Mu,useValue:t.callSetDisabledState??Kh}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=M({type:n}),n.\u0275inj=gr({imports:[G1]}),n})();const _$=["addListener","removeListener"],v$=["addEventListener","removeEventListener"],b$=["on","off"];function Sf(n,e,t,r){if(I(t)&&(r=t,t=void 0),r)return Sf(n,e,t).pipe(G_(r));const[o,i]=function S$(n){return I(n.addEventListener)&&I(n.removeEventListener)}(n)?v$.map(s=>a=>n[s](e,a,t)):function w$(n){return I(n.addListener)&&I(n.removeListener)}(n)?_$.map(W1(n,e)):function C$(n){return I(n.on)&&I(n.off)}(n)?b$.map(W1(n,e)):[];if(!o&&hr(n))return mr(s=>Sf(s,e,t))(On(n));if(!o)throw new TypeError("Invalid event target");return new vt(s=>{const a=(...u)=>s.next(1<u.length?u:u[0]);return o(a),()=>i(a)})}function W1(n,e){return t=>r=>n[t](e,r)}class ks extends nt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const tm=c(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Z1(...n){const e=Jo(n),t=Qi(n),{args:r,keys:o}=HD(n);if(0===r.length)return lr([],e);const i=new vt(function E$(n,e,t=re){return r=>{q1(e,()=>{const{length:o}=n,i=new Array(o);let s=o,a=o;for(let u=0;u<o;u++)q1(e,()=>{const f=lr(n[u],e);let m=!1;f.subscribe(_e(r,_=>{i[u]=_,m||(m=!0,a--),a||r.next(t(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,o?s=>zD(o,s):re));return t?i.pipe(G_(t)):i}function q1(n,e,t){n?no(t,n,e):e()}function Ef(...n){return function D$(){return Vo(1)}()(lr(n,Jo(n)))}function nm(n){return new vt(e=>{On(n()).subscribe(e)})}function Tu(n,e){const t=I(n)?n:()=>n,r=o=>o.error(t());return new vt(e?o=>e.schedule(r,0,o):r)}function pv(){return q((n,e)=>{let t=null;n._refCount++;const r=_e(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,i=t;t=null,o&&(!i||o===i)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class hv extends vt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Ve(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new z;const t=this.getSubject();e.add(this.source.subscribe(_e(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=z.EMPTY)}return e}refCount(){return pv()(this)}}function pi(n,e){return q((t,r)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&r.complete();t.subscribe(_e(r,u=>{o?.unsubscribe();let f=0;const m=i++;On(n(u,m)).subscribe(o=_e(r,_=>r.next(e?e(u,_,m,f++):_),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Ms(n){return n<=0?()=>Xr:q((e,t)=>{let r=0;e.subscribe(_e(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function K1(...n){const e=Jo(n);return q((t,r)=>{(e?Ef(n,t,e):Ef(n,t)).subscribe(r)})}function rm(n){return q((e,t)=>{let r=!1;e.subscribe(_e(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function Y1(n=I$){return q((e,t)=>{let r=!1;e.subscribe(_e(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function I$(){return new tm}function ol(n,e){const t=arguments.length>=2;return r=>r.pipe(n?fi((o,i)=>n(o,i,r)):re,Ms(1),t?rm(e):Y1(()=>new tm))}function hi(n,e,t){const r=I(n)||e||t?{next:n,error:e,complete:t}:n;return r?q((o,i)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;o.subscribe(_e(i,u=>{var f;null===(f=r.next)||void 0===f||f.call(r,u),i.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),i.complete()},u=>{var f;a=!1,null===(f=r.error)||void 0===f||f.call(r,u),i.error(u)},()=>{var u,f;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(f=r.finalize)||void 0===f||f.call(r)}))}):re}function il(n){return q((e,t)=>{let i,r=null,o=!1;r=e.subscribe(_e(t,void 0,void 0,s=>{i=On(n(s,il(n)(e))),r?(r.unsubscribe(),r=null,i.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(t))})}function k$(n,e,t,r,o){return(i,s)=>{let a=t,u=e,f=0;i.subscribe(_e(s,m=>{const _=f++;u=a?n(u,m,_):(a=!0,m),r&&s.next(u)},o&&(()=>{a&&s.next(u),s.complete()})))}}function X1(n,e){return q(k$(n,e,arguments.length>=2,!0))}function mv(n){return n<=0?()=>Xr:q((e,t)=>{let r=[];e.subscribe(_e(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function Q1(n,e){const t=arguments.length>=2;return r=>r.pipe(n?fi((o,i)=>n(o,i,r)):re,mv(1),t?rm(e):Y1(()=>new tm))}function gv(n){return Pe(()=>n)}function yv(n){return q((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Ln="primary",Df=Symbol("RouteTitle");class T${constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Au(n){return new T$(n)}function A$(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let i=0;i<r.length;i++){const s=r[i],a=n[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Sa(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let i=0;i<t.length;i++)if(o=t[i],!J1(n[o],e[o]))return!1;return!0}function J1(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,i)=>r[i]===o)}return n===e}function eI(n){return Array.prototype.concat.apply([],n)}function tI(n){return n.length>0?n[n.length-1]:null}function mi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Nl(n){return Dy(n)?n:Zd(n)?lr(Promise.resolve(n)):_n(n)}const om=!1,P$={exact:function oI(n,e,t){if(!wc(n.segments,e.segments)||!im(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!oI(n.children[r],e.children[r],t))return!1;return!0},subset:iI},nI={exact:function R$(n,e){return Sa(n,e)},subset:function F$(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>J1(n[t],e[t]))},ignored:()=>!0};function rI(n,e,t){return P$[t.paths](n.root,e.root,t.matrixParams)&&nI[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function iI(n,e,t){return sI(n,e,e.segments,t)}function sI(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!wc(o,t)||e.hasChildren()||!im(o,t,r))}if(n.segments.length===t.length){if(!wc(n.segments,t)||!im(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!iI(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),i=t.slice(n.segments.length);return!!(wc(n.segments,o)&&im(n.segments,o,r)&&n.children[Ln])&&sI(n.children[Ln],e,i,r)}}function im(n,e,t){return e.every((r,o)=>nI[t](n[o].parameters,r.parameters))}class bc{constructor(e=new Yn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Au(this.queryParams)),this._queryParamMap}toString(){return L$.serialize(this)}}class Yn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,mi(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sm(this)}}class If{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Au(this.parameters)),this._parameterMap}toString(){return cI(this)}}function wc(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let xu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=yt({token:n,factory:function(){return new _v},providedIn:"root"}),n})();class _v{parse(e){const t=new W$(e);return new bc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${kf(e.root,!0)}`,r=function V$(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${am(t)}=${am(o)}`).join("&"):`${am(t)}=${am(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function $$(n){return encodeURI(n)}(e.fragment)}`:""}`}}const L$=new _v;function sm(n){return n.segments.map(e=>cI(e)).join("/")}function kf(n,e){if(!n.hasChildren())return sm(n);if(e){const t=n.children[Ln]?kf(n.children[Ln],!1):"",r=[];return mi(n.children,(o,i)=>{i!==Ln&&r.push(`${i}:${kf(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function N$(n,e){let t=[];return mi(n.children,(r,o)=>{o===Ln&&(t=t.concat(e(r,o)))}),mi(n.children,(r,o)=>{o!==Ln&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===Ln?[kf(n.children[Ln],!1)]:[`${o}:${kf(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ln]?`${sm(n)}/${t[0]}`:`${sm(n)}/(${t.join("//")})`}}function aI(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function am(n){return aI(n).replace(/%3B/gi,";")}function vv(n){return aI(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lm(n){return decodeURIComponent(n)}function lI(n){return lm(n.replace(/\+/g,"%20"))}function cI(n){return`${vv(n.path)}${function B$(n){return Object.keys(n).map(e=>`;${vv(e)}=${vv(n[e])}`).join("")}(n.parameters)}`}const U$=/^[^\/()?;=#]+/;function cm(n){const e=n.match(U$);return e?e[0]:""}const j$=/^[^=?&#]+/,z$=/^[^&#]+/;class W${constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yn([],{}):new Yn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ln]=new Yn(e,t)),r}parseSegment(){const e=cm(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Ae(4009,om);return this.capture(e),new If(lm(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=cm(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=cm(this.remaining);o&&(r=o,this.capture(r))}e[lm(t)]=lm(r)}parseQueryParam(e){const t=function H$(n){const e=n.match(j$);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function G$(n){const e=n.match(z$);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const o=lI(t),i=lI(r);if(e.hasOwnProperty(o)){let s=e[o];Array.isArray(s)||(s=[s],e[o]=s),s.push(i)}else e[o]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=cm(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Ae(4010,om);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=Ln);const s=this.parseChildren();t[i]=1===Object.keys(s).length?s[Ln]:new Yn([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Ae(4011,om)}}function bv(n){return n.segments.length>0?new Yn([],{[Ln]:n}):n}function um(n){const e={};for(const r of Object.keys(n.children)){const i=um(n.children[r]);(i.segments.length>0||i.hasChildren())&&(e[r]=i)}return function Z$(n){if(1===n.numberOfChildren&&n.children[Ln]){const e=n.children[Ln];return new Yn(n.segments.concat(e.segments),e.children)}return n}(new Yn(n.segments,e))}function Cc(n){return n instanceof bc}function Y$(n,e,t,r,o){if(0===t.length)return Pu(e.root,e.root,e.root,r,o);const i=function fI(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new dI(!0,0,n);let e=0,t=!1;const r=n.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return mi(i.outlets,(u,f)=>{a[f]="string"==typeof u?u.split("/"):u}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new dI(t,e,r)}(t);return i.toRoot()?Pu(e.root,e.root,new Yn([],{}),r,o):function s(u){const f=function Q$(n,e,t,r){if(n.isAbsolute)return new Ru(e.root,!0,0);if(-1===r)return new Ru(t,t===e.root,0);return function pI(n,e,t){let r=n,o=e,i=t;for(;i>o;){if(i-=o,r=r.parent,!r)throw new Ae(4005,!1);o=r.segments.length}return new Ru(r,!1,o-i)}(t,r+(Mf(n.commands[0])?0:1),n.numberOfDoubleDots)}(i,e,n.snapshot?._urlSegment,u),m=f.processChildren?Fu(f.segmentGroup,f.index,i.commands):Cv(f.segmentGroup,f.index,i.commands);return Pu(e.root,f.segmentGroup,m,r,o)}(n.snapshot?._lastPathIndex)}function Mf(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Tf(n){return"object"==typeof n&&null!=n&&n.outlets}function Pu(n,e,t,r,o){let s,i={};r&&mi(r,(u,f)=>{i[f]=Array.isArray(u)?u.map(m=>`${m}`):`${u}`}),s=n===e?t:uI(n,e,t);const a=bv(um(s));return new bc(a,i,o)}function uI(n,e,t){const r={};return mi(n.children,(o,i)=>{r[i]=o===e?t:uI(o,e,t)}),new Yn(n.segments,r)}class dI{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Mf(r[0]))throw new Ae(4003,!1);const o=r.find(Tf);if(o&&o!==tI(r))throw new Ae(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ru{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Cv(n,e,t){if(n||(n=new Yn([],{})),0===n.segments.length&&n.hasChildren())return Fu(n,e,t);const r=function e4(n,e,t){let r=0,o=e;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return i;const s=n.segments[o],a=t[r];if(Tf(a))break;const u=`${a}`,f=r<t.length-1?t[r+1]:null;if(o>0&&void 0===u)break;if(u&&f&&"object"==typeof f&&void 0===f.outlets){if(!mI(u,f,s))return i;r+=2}else{if(!mI(u,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const i=new Yn(n.segments.slice(0,r.pathIndex),{});return i.children[Ln]=new Yn(n.segments.slice(r.pathIndex),n.children),Fu(i,0,o)}return r.match&&0===o.length?new Yn(n.segments,{}):r.match&&!n.hasChildren()?Sv(n,e,t):r.match?Fu(n,0,o):Sv(n,e,t)}function Fu(n,e,t){if(0===t.length)return new Yn(n.segments,{});{const r=function J$(n){return Tf(n[0])?n[0].outlets:{[Ln]:n}}(t),o={};return!r[Ln]&&n.children[Ln]&&1===n.numberOfChildren&&0===n.children[Ln].segments.length?Fu(n.children[Ln],e,t):(mi(r,(i,s)=>{"string"==typeof i&&(i=[i]),null!==i&&(o[s]=Cv(n.children[s],e,i))}),mi(n.children,(i,s)=>{void 0===r[s]&&(o[s]=i)}),new Yn(n.segments,o))}}function Sv(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const i=t[o];if(Tf(i)){const u=t4(i.outlets);return new Yn(r,u)}if(0===o&&Mf(t[0])){r.push(new If(n.segments[e].path,hI(t[0]))),o++;continue}const s=Tf(i)?i.outlets[Ln]:`${i}`,a=o<t.length-1?t[o+1]:null;s&&a&&Mf(a)?(r.push(new If(s,hI(a))),o+=2):(r.push(new If(s,{})),o++)}return new Yn(r,{})}function t4(n){const e={};return mi(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Sv(new Yn([],{}),0,t))}),e}function hI(n){const e={};return mi(n,(t,r)=>e[r]=`${t}`),e}function mI(n,e,t){return n==t.path&&Sa(e,t.parameters)}const Af="imperative";class Ea{constructor(e,t){this.id=e,this.url=t}}class dm extends Ea{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Sc extends Ea{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fm extends Ea{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gI extends Ea{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=16}}class yI extends Ea{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class n4 extends Ea{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class r4 extends Ea{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class o4 extends Ea{constructor(e,t,r,o,i){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class i4 extends Ea{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class s4 extends Ea{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class a4{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class l4{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class c4{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class u4{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class d4{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class f4{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _I{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let h4=(()=>{class n{createUrlTree(t,r,o,i,s,a){return Y$(t||r.root,o,i,s,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=yt({token:n,factory:n.\u0275fac}),n})(),m4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=yt({token:n,factory:function(e){return h4.\u0275fac(e)},providedIn:"root"}),n})();class vI{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Ev(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Ev(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Dv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Dv(e,this._root).map(t=>t.value)}}function Ev(n,e){if(n===e.value)return e;for(const t of e.children){const r=Ev(n,t);if(r)return r}return null}function Dv(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Dv(n,t);if(r.length)return r.unshift(e),r}return[]}class sl{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ou(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class bI extends vI{constructor(e,t){super(e),this.snapshot=t,Iv(this,e)}toString(){return this.snapshot.toString()}}function wI(n,e){const t=function g4(n,e){const s=new pm([],{},{},"",{},Ln,e,null,n.root,-1,{});return new SI("",new sl(s,[]))}(n,e),r=new ks([new If("",{})]),o=new ks({}),i=new ks({}),s=new ks({}),a=new ks(""),u=new al(r,o,s,a,i,Ln,e,t.root);return u.snapshot=t.root,new bI(new sl(u,[]),t)}class al{constructor(e,t,r,o,i,s,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.title=this.data?.pipe(Pe(f=>f[Df]))??_n(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Pe(e=>Au(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Pe(e=>Au(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function CI(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],i=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(i.component)break;r--}}return function y4(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class pm{get title(){return this.data?.[Df]}constructor(e,t,r,o,i,s,a,u,f,m,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=u,this._urlSegment=f,this._lastPathIndex=m,this._resolve=_}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Au(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Au(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class SI extends vI{constructor(e,t){super(t),this.url=e,Iv(this,t)}toString(){return EI(this._root)}}function Iv(n,e){e.value._routerState=n,e.children.forEach(t=>Iv(n,t))}function EI(n){const e=n.children.length>0?` { ${n.children.map(EI).join(", ")} } `:"";return`${n.value}${e}`}function kv(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Sa(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Sa(e.params,t.params)||n.params.next(t.params),function x$(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Sa(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Sa(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Mv(n,e){const t=Sa(n.params,e.params)&&function O$(n,e){return wc(n,e)&&n.every((t,r)=>Sa(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Mv(n.parent,e.parent))}function xf(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function v4(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return xf(n,r,o);return xf(n,r)})}(n,e,t);return new sl(r,o)}{if(n.shouldAttach(e.value)){const i=n.retrieve(e.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>xf(n,a)),s}}const r=function b4(n){return new al(new ks(n.url),new ks(n.params),new ks(n.queryParams),new ks(n.fragment),new ks(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(i=>xf(n,i));return new sl(r,o)}}const Tv="ngNavigationCancelingError";function DI(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Cc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=II(!1,0,e);return o.url=t,o.navigationBehaviorOptions=r,o}function II(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Tv]=!0,r.cancellationCode=e,t&&(r.url=t),r}function kI(n){return MI(n)&&Cc(n.url)}function MI(n){return n&&n[Tv]}class w4{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ec,this.attachRef=null}}let Ec=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new w4,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=yt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hm=!1;let TI=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ln,this.activateEvents=new kn,this.deactivateEvents=new kn,this.attachEvents=new kn,this.detachEvents=new kn,this.parentContexts=bn(Ec),this.location=bn(Ai),this.changeDetector=bn(It),this.environmentInjector=bn(da)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ae(4012,hm);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ae(4012,hm);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ae(4012,hm);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Ae(4013,hm);this._activatedRoute=t;const o=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new C4(t,a,o.injector);if(r&&function S4(n){return!!n.resolveComponentFactory}(r)){const f=r.resolveComponentFactory(s);this.activated=o.createComponent(f,o.length,u)}else this.activated=o.createComponent(s,{index:o.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ee({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ao]}),n})();class C4{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===al?this.route:e===Ec?this.childContexts:this.parent.get(e,t)}}let Av=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Xe({type:n,selectors:[["ng-component"]],standalone:!0,features:[hS],decls:1,vars:0,template:function(t,r){1&t&&dt(0,"router-outlet")},dependencies:[TI],encapsulation:2}),n})();function AI(n,e){return n.providers&&!n._injector&&(n._injector=mh(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Pv(n){const e=n.children&&n.children.map(Pv),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ln&&(t.component=Av),t}function Ls(n){return n.outlet||Ln}function xI(n,e){const t=n.filter(r=>Ls(r)===e);return t.push(...n.filter(r=>Ls(r)!==e)),t}function Pf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class M4{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),kv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Ou(t);e.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),mi(o,(i,s)=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(e,t,r){const o=e.value,i=t?t.value:null;if(o===i)if(o.component){const s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else i&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,i=Ou(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,i=Ou(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Ou(t);e.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new f4(i.value.snapshot))}),e.children.length&&this.forwardEvent(new u4(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,i=t?t.value:null;if(kv(o),o===i)if(o.component){const s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),kv(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Pf(o.snapshot),u=a?.get(za)??null;s.attachRef=null,s.route=o,s.resolver=u,s.injector=a,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class PI{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class mm{constructor(e,t){this.component=e,this.route=t}}function T4(n,e,t){const r=n._root;return Rf(r,e?e._root:null,t,[r.value])}function Nu(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function oa(n){return null!==_s(n)}(n)?e.get(n):n:r}function Rf(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=Ou(e);return n.children.forEach(s=>{(function x4(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const u=function P4(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!wc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!wc(n.url,e.url)||!Sa(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mv(n,e)||!Sa(n.queryParams,e.queryParams);default:return!Mv(n,e)}}(s,i,i.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new PI(r)):(i.data=s.data,i._resolvedData=s._resolvedData),Rf(n,e,i.component?a?a.children:null:t,r,o),u&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new mm(a.outlet.component,s))}else s&&Ff(e,a,o),o.canActivateChecks.push(new PI(r)),Rf(n,null,i.component?a?a.children:null:t,r,o)})(s,i[s.value.outlet],t,r.concat([s.value]),o),delete i[s.value.outlet]}),mi(i,(s,a)=>Ff(s,t.getContext(a),o)),o}function Ff(n,e,t){const r=Ou(n),o=n.value;mi(r,(i,s)=>{Ff(i,o.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new mm(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function Of(n){return"function"==typeof n}function Rv(n){return n instanceof tm||"EmptyError"===n?.name}const gm=Symbol("INITIAL_VALUE");function Lu(){return pi(n=>Z1(n.map(e=>e.pipe(Ms(1),K1(gm)))).pipe(Pe(e=>{for(const t of e)if(!0!==t){if(t===gm)return gm;if(!1===t||t instanceof bc)return t}return!0}),fi(e=>e!==gm),Ms(1)))}function RI(n){return function Ue(...n){return Qe(n)}(hi(e=>{if(Cc(e))throw DI(0,e)}),Pe(e=>!0===e))}const Fv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function FI(n,e,t,r,o){const i=Ov(n,e,t);return i.matched?function K4(n,e,t,r){const o=e.canMatch;return o&&0!==o.length?_n(o.map(s=>{const a=Nu(s,n);return Nl(function $4(n){return n&&Of(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Lu(),RI()):_n(!0)}(r=AI(e,r),e,t).pipe(Pe(s=>!0===s?i:{...Fv})):_n(i)}function Ov(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Fv}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||A$)(t,n,e);if(!o)return{...Fv};const i={};mi(o.posParams,(a,u)=>{i[u]=a.path});const s=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function ym(n,e,t,r){if(t.length>0&&function Q4(n,e,t){return t.some(r=>_m(n,e,r)&&Ls(r)!==Ln)}(n,t,r)){const i=new Yn(e,function X4(n,e,t,r){const o={};o[Ln]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const i of t)if(""===i.path&&Ls(i)!==Ln){const s=new Yn([],{});s._sourceSegment=n,s._segmentIndexShift=e.length,o[Ls(i)]=s}return o}(n,e,r,new Yn(t,n.children)));return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===t.length&&function J4(n,e,t){return t.some(r=>_m(n,e,r))}(n,t,r)){const i=new Yn(n.segments,function Y4(n,e,t,r,o){const i={};for(const s of r)if(_m(n,t,s)&&!o[Ls(s)]){const a=new Yn([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,i[Ls(s)]=a}return{...o,...i}}(n,e,t,r,n.children));return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}const o=new Yn(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function _m(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function OI(n,e,t,r){return!!(Ls(n)===r||r!==Ln&&_m(e,t,n))&&("**"===n.path||Ov(e,n,t).matched)}function NI(n,e,t){return 0===e.length&&!n.children[t]}const vm=!1;class bm{constructor(e){this.segmentGroup=e||null}}class LI{constructor(e){this.urlTree=e}}function Nf(n){return Tu(new bm(n))}function $I(n){return Tu(new LI(n))}class rB{constructor(e,t,r,o,i){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=i,this.allowRedirects=!0}apply(){const e=ym(this.urlTree.root,[],[],this.config).segmentGroup,t=new Yn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Ln).pipe(Pe(i=>this.createUrlTree(um(i),this.urlTree.queryParams,this.urlTree.fragment))).pipe(il(i=>{if(i instanceof LI)return this.allowRedirects=!1,this.match(i.urlTree);throw i instanceof bm?this.noMatchError(i):i}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Ln).pipe(Pe(o=>this.createUrlTree(um(o),e.queryParams,e.fragment))).pipe(il(o=>{throw o instanceof bm?this.noMatchError(o):o}))}noMatchError(e){return new Ae(4002,vm)}createUrlTree(e,t,r){const o=bv(e);return new bc(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(Pe(i=>new Yn([],i))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const i of Object.keys(r.children))"primary"===i?o.unshift(i):o.push(i);return lr(o).pipe(xl(i=>{const s=r.children[i],a=xI(t,i);return this.expandSegmentGroup(e,a,s,i).pipe(Pe(u=>({segment:u,outlet:i})))}),X1((i,s)=>(i[s.outlet]=s.segment,i),{}),Q1())}expandSegment(e,t,r,o,i,s){return lr(r).pipe(xl(a=>this.expandSegmentAgainstRoute(e,t,r,a,o,i,s).pipe(il(f=>{if(f instanceof bm)return _n(null);throw f}))),ol(a=>!!a),il((a,u)=>{if(Rv(a))return NI(t,o,i)?_n(new Yn([],{})):Nf(t);throw a}))}expandSegmentAgainstRoute(e,t,r,o,i,s,a){return OI(o,t,i,s)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,i,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s):Nf(t):Nf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const i=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?$I(i):this.lineralizeSegments(r,i).pipe(mr(s=>{const a=new Yn(s,{});return this.expandSegment(e,a,t,s,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s){const{matched:a,consumedSegments:u,remainingSegments:f,positionalParamSegments:m}=Ov(t,o,i);if(!a)return Nf(t);const _=this.applyRedirectCommands(u,o.redirectTo,m);return o.redirectTo.startsWith("/")?$I(_):this.lineralizeSegments(o,_).pipe(mr(k=>this.expandSegment(e,t,r,k.concat(f),s,!1)))}matchSegmentAgainstRoute(e,t,r,o,i){return"**"===r.path?(e=AI(r,e),r.loadChildren?(r._loadedRoutes?_n({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(Pe(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new Yn(o,{})))):_n(new Yn(o,{}))):FI(t,r,o,e).pipe(pi(({matched:s,consumedSegments:a,remainingSegments:u})=>s?this.getChildConfig(e=r._injector??e,r,o).pipe(mr(m=>{const _=m.injector??e,k=m.routes,{segmentGroup:A,slicedSegments:Q}=ym(t,a,u,k),Te=new Yn(A.segments,A.children);if(0===Q.length&&Te.hasChildren())return this.expandChildren(_,k,Te).pipe(Pe(Ne=>new Yn(a,Ne)));if(0===k.length&&0===Q.length)return _n(new Yn(a,{}));const Ze=Ls(r)===i;return this.expandSegment(_,Te,k,Q,Ze?Ln:i,!0).pipe(Pe(Ct=>new Yn(a.concat(Ct.segments),Ct.children)))})):Nf(t)))}getChildConfig(e,t,r){return t.children?_n({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?_n({routes:t._loadedRoutes,injector:t._loadedInjector}):function q4(n,e,t,r){const o=e.canLoad;return void 0===o||0===o.length?_n(!0):_n(o.map(s=>{const a=Nu(s,n);return Nl(function F4(n){return n&&Of(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Lu(),RI())}(e,t,r).pipe(mr(o=>o?this.configLoader.loadChildren(e,t).pipe(hi(i=>{t._loadedRoutes=i.routes,t._loadedInjector=i.injector})):function tB(n){return Tu(II(vm,3))}())):_n({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return _n(r);if(o.numberOfChildren>1||!o.children[Ln])return Tu(new Ae(4e3,vm));o=o.children[Ln]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,o){const i=this.createSegmentGroup(e,t.root,r,o);return new bc(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return mi(e,(o,i)=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,o){const i=this.createSegments(e,t.segments,r,o);let s={};return mi(t.children,(a,u)=>{s[u]=this.createSegmentGroup(e,a,r,o)}),new Yn(i,s)}createSegments(e,t,r,o){return t.map(i=>i.path.startsWith(":")?this.findPosParam(e,i,o):this.findOrReturn(i,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Ae(4001,vm);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}class iB{}class lB{constructor(e,t,r,o,i,s,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=o,this.url=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a}recognize(){const e=ym(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ln).pipe(Pe(t=>{if(null===t)return null;const r=new pm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ln,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new sl(r,t),i=new SI(this.url,o);return this.inheritParamsAndData(i._root),i}))}inheritParamsAndData(e){const t=e.value,r=CI(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,o)}processChildren(e,t,r){return lr(Object.keys(r.children)).pipe(xl(o=>{const i=r.children[o],s=xI(t,o);return this.processSegmentGroup(e,s,i,o)}),X1((o,i)=>o&&i?(o.push(...i),o):null),function M$(n,e=!1){return q((t,r)=>{let o=0;t.subscribe(_e(r,i=>{const s=n(i,o++);(s||e)&&r.next(i),!s&&r.complete()}))})}(o=>null!==o),rm(null),Q1(),Pe(o=>{if(null===o)return null;const i=VI(o);return function cB(n){n.sort((e,t)=>e.value.outlet===Ln?-1:t.value.outlet===Ln?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}))}processSegment(e,t,r,o,i){return lr(t).pipe(xl(s=>this.processSegmentAgainstRoute(s._injector??e,s,r,o,i)),ol(s=>!!s),il(s=>{if(Rv(s))return NI(r,o,i)?_n([]):_n(null);throw s}))}processSegmentAgainstRoute(e,t,r,o,i){if(t.redirectTo||!OI(t,r,o,i))return _n(null);let s;if("**"===t.path){const a=o.length>0?tI(o).parameters:{},u=jI(r)+o.length;s=_n({snapshot:new pm(o,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,HI(t),Ls(t),t.component??t._loadedComponent??null,t,UI(r),u,zI(t)),consumedSegments:[],remainingSegments:[]})}else s=FI(r,t,o,e).pipe(Pe(({matched:a,consumedSegments:u,remainingSegments:f,parameters:m})=>{if(!a)return null;const _=jI(r)+u.length;return{snapshot:new pm(u,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,HI(t),Ls(t),t.component??t._loadedComponent??null,t,UI(r),_,zI(t)),consumedSegments:u,remainingSegments:f}}));return s.pipe(pi(a=>{if(null===a)return _n(null);const{snapshot:u,consumedSegments:f,remainingSegments:m}=a;e=t._injector??e;const _=t._loadedInjector??e,k=function uB(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:A,slicedSegments:Q}=ym(r,f,m,k.filter(Ze=>void 0===Ze.redirectTo));if(0===Q.length&&A.hasChildren())return this.processChildren(_,k,A).pipe(Pe(Ze=>null===Ze?null:[new sl(u,Ze)]));if(0===k.length&&0===Q.length)return _n([new sl(u,[])]);const Te=Ls(t)===i;return this.processSegment(_,k,A,Q,Te?Ln:i).pipe(Pe(Ze=>null===Ze?null:[new sl(u,Ze)]))}))}}function dB(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function VI(n){const e=[],t=new Set;for(const r of n){if(!dB(r)){e.push(r);continue}const o=e.find(i=>r.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=VI(r.children);e.push(new sl(r.value,o))}return e.filter(r=>!t.has(r))}function UI(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function jI(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function HI(n){return n.data||{}}function zI(n){return n.resolve||{}}function GI(n){return"string"==typeof n.title||null===n.title}function Nv(n){return pi(e=>{const t=n(e);return t?lr(t).pipe(Pe(()=>e)):_n(e)})}const $u=new sn("ROUTES");let Lv=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return _n(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Nl(t.loadComponent()).pipe(Pe(ZI),hi(i=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=i}),yv(()=>{this.componentLoaders.delete(t)})),o=new hv(r,()=>new nt).pipe(pv());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return _n({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const i=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Pe(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,f,m=!1;Array.isArray(a)?f=a:(u=a.create(t).injector,f=eI(u.get($u,[],kt.Self|kt.Optional)));return{routes:f.map(Pv),injector:u}}),yv(()=>{this.childrenLoaders.delete(r)})),s=new hv(i,()=>new nt).pipe(pv());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(t){return Nl(t()).pipe(Pe(ZI),mr(o=>o instanceof fS||Array.isArray(o)?_n(o):lr(this.compiler.compileModuleAsync(o))))}}return n.\u0275fac=function(t){return new(t||n)(ne(lo),ne(tE))},n.\u0275prov=yt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ZI(n){return function bB(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Cm=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new nt,this.configLoader=bn(Lv),this.environmentInjector=bn(da),this.urlSerializer=bn(xu),this.rootContexts=bn(Ec),this.navigationId=0,this.afterPreactivation=()=>_n(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new l4(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new a4(o))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new ks({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Af,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(fi(r=>0!==r.id),Pe(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),pi(r=>{let o=!1,i=!1;return _n(r).pipe(hi(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),pi(s=>{const a=t.browserUrlTree.toString(),u=!t.navigated||s.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!u&&"reload"!==(s.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const m="";return this.events.next(new gI(s.id,t.serializeUrl(r.rawUrl),m,0)),t.rawUrlTree=s.rawUrl,s.resolve(null),Xr}if(t.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return qI(s.source)&&(t.browserUrlTree=s.extractedUrl),_n(s).pipe(pi(m=>{const _=this.transitions?.getValue();return this.events.next(new dm(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),_!==this.transitions?.getValue()?Xr:Promise.resolve(m)}),function oB(n,e,t,r){return pi(o=>function nB(n,e,t,r,o){return new rB(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe(Pe(i=>({...o,urlAfterRedirects:i}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),hi(m=>{this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects},r.urlAfterRedirects=m.urlAfterRedirects}),function pB(n,e,t,r,o){return mr(i=>function aB(n,e,t,r,o,i,s="emptyOnly"){return new lB(n,e,t,r,o,s,i).recognize().pipe(pi(a=>null===a?function sB(n){return new vt(e=>e.error(n))}(new iB):_n(a)))}(n,e,t,i.urlAfterRedirects,r.serialize(i.urlAfterRedirects),r,o).pipe(Pe(s=>({...i,targetSnapshot:s}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),hi(m=>{if(r.targetSnapshot=m.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!m.extras.skipLocationChange){const k=t.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl);t.setBrowserUrl(k,m)}t.browserUrlTree=m.urlAfterRedirects}const _=new n4(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}));if(u&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:m,extractedUrl:_,source:k,restoredState:A,extras:Q}=s,Te=new dm(m,this.urlSerializer.serialize(_),k,A);this.events.next(Te);const Ze=wI(_,this.rootComponentType).snapshot;return _n(r={...s,targetSnapshot:Ze,urlAfterRedirects:_,extras:{...Q,skipLocationChange:!1,replaceUrl:!1}})}{const m="";return this.events.next(new gI(s.id,t.serializeUrl(r.extractedUrl),m,1)),t.rawUrlTree=s.rawUrl,s.resolve(null),Xr}}),hi(s=>{const a=new r4(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Pe(s=>r={...s,guards:T4(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function V4(n,e){return mr(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=t;return 0===s.length&&0===i.length?_n({...t,guardsResult:!0}):function U4(n,e,t,r){return lr(n).pipe(mr(o=>function Z4(n,e,t,r,o){const i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return i&&0!==i.length?_n(i.map(a=>{const u=Pf(e)??o,f=Nu(a,u);return Nl(function L4(n){return n&&Of(n.canDeactivate)}(f)?f.canDeactivate(n,e,t,r):u.runInContext(()=>f(n,e,t,r))).pipe(ol())})).pipe(Lu()):_n(!0)}(o.component,o.route,t,e,r)),ol(o=>!0!==o,!0))}(s,r,o,n).pipe(mr(a=>a&&function R4(n){return"boolean"==typeof n}(a)?function j4(n,e,t,r){return lr(e).pipe(xl(o=>Ef(function z4(n,e){return null!==n&&e&&e(new c4(n)),_n(!0)}(o.route.parent,r),function H4(n,e){return null!==n&&e&&e(new d4(n)),_n(!0)}(o.route,r),function W4(n,e,t){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(s=>function A4(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>nm(()=>_n(s.guards.map(u=>{const f=Pf(s.node)??t,m=Nu(u,f);return Nl(function N4(n){return n&&Of(n.canActivateChild)}(m)?m.canActivateChild(r,n):f.runInContext(()=>m(r,n))).pipe(ol())})).pipe(Lu())));return _n(i).pipe(Lu())}(n,o.path,t),function G4(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return _n(!0);const o=r.map(i=>nm(()=>{const s=Pf(e)??t,a=Nu(i,s);return Nl(function O4(n){return n&&Of(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(ol())}));return _n(o).pipe(Lu())}(n,o.route,t))),ol(o=>!0!==o,!0))}(r,i,n,e):_n(a)),Pe(a=>({...t,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),hi(s=>{if(r.guardsResult=s.guardsResult,Cc(s.guardsResult))throw DI(0,s.guardsResult);const a=new o4(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),fi(s=>!!s.guardsResult||(t.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),Nv(s=>{if(s.guards.canActivateChecks.length)return _n(s).pipe(hi(a=>{const u=new i4(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),pi(a=>{let u=!1;return _n(a).pipe(function hB(n,e){return mr(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return _n(t);let i=0;return lr(o).pipe(xl(s=>function mB(n,e,t,r){const o=n.routeConfig,i=n._resolve;return void 0!==o?.title&&!GI(o)&&(i[Df]=o.title),function gB(n,e,t,r){const o=function yB(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return _n({});const i={};return lr(o).pipe(mr(s=>function _B(n,e,t,r){const o=Pf(e)??r,i=Nu(n,o);return Nl(i.resolve?i.resolve(e,t):o.runInContext(()=>i(e,t)))}(n[s],e,t,r).pipe(ol(),hi(a=>{i[s]=a}))),mv(1),gv(i),il(s=>Rv(s)?Xr:Tu(s)))}(i,n,e,r).pipe(Pe(s=>(n._resolvedData=s,n.data=CI(n,t).resolve,o&&GI(o)&&(n.data[Df]=o.title),null)))}(s.route,r,n,e)),hi(()=>i++),mv(1),mr(s=>i===o.length?_n(t):Xr))})}(t.paramsInheritanceStrategy,this.environmentInjector),hi({next:()=>u=!0,complete:()=>{u||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),hi(a=>{const u=new s4(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Nv(s=>{const a=u=>{const f=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(u.routeConfig).pipe(hi(m=>{u.component=m}),Pe(()=>{})));for(const m of u.children)f.push(...a(m));return f};return Z1(a(s.targetSnapshot.root)).pipe(rm(),Ms(1))}),Nv(()=>this.afterPreactivation()),Pe(s=>{const a=function _4(n,e,t){const r=xf(n,e._root,t?t._root:void 0);return new bI(r,e)}(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return r={...s,targetRouterState:a}}),hi(s=>{t.currentUrlTree=s.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),t.routerState=s.targetRouterState,"deferred"===t.urlUpdateStrategy&&(s.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,s),t.browserUrlTree=s.urlAfterRedirects)}),((n,e,t)=>Pe(r=>(new M4(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s)),hi({next:s=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Sc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{o=!0}}),yv(()=>{o||i||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),il(s=>{if(i=!0,MI(s)){kI(s)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new fm(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode);if(this.events.next(a),kI(s)){const u=t.urlHandlingStrategy.merge(s.url,t.rawUrlTree),f={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||qI(r.source)};t.scheduleNavigation(u,Af,null,f,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new yI(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(s))}catch(u){r.reject(u)}}return Xr}))}))}cancelNavigationTransition(t,r,o){const i=new fm(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(i),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=yt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qI(n){return n!==Af}let KI=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===Ln);return r}getResolvedTitleForRoute(t){return t.data[Df]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=yt({token:n,factory:function(){return bn(wB)},providedIn:"root"}),n})(),wB=(()=>{class n extends KI{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(ne(wD))},n.\u0275prov=yt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=yt({token:n,factory:function(){return bn(SB)},providedIn:"root"}),n})();class CB{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let SB=(()=>{class n extends CB{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ri(n)))(r||n)}}(),n.\u0275prov=yt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Sm=new sn("",{providedIn:"root",factory:()=>({})});let DB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=yt({token:n,factory:function(){return bn(IB)},providedIn:"root"}),n})(),IB=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=yt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function kB(n){throw n}function MB(n,e,t){return e.parse("/")}const TB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},AB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Oo=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=bn(x2),this.isNgZoneEnabled=!1,this.options=bn(Sm,{optional:!0})||{},this.errorHandler=this.options.errorHandler||kB,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||MB,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=bn(DB),this.routeReuseStrategy=bn(YI),this.urlCreationStrategy=bn(m4),this.titleStrategy=bn(KI),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=eI(bn($u,{optional:!0})??[]),this.navigationTransitions=bn(Cm),this.urlSerializer=bn(xu),this.location=bn(uf),this.isNgZoneEnabled=bn(ft)instanceof ft&&ft.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new bc,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=wI(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Af,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,o){const i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){const u={...o};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(i.state=u)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Pv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,f=u?this.currentUrlTree.fragment:s;let m=null;switch(a){case"merge":m={...this.currentUrlTree.queryParams,...i};break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=i||null}return null!==m&&(m=this.removeEmptyProps(m)),this.urlCreationStrategy.createUrlTree(o,this.routerState,this.currentUrlTree,t,m,f??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Cc(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,Af,null,r)}navigate(t,r={skipLocationChange:!1}){return function xB(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new Ae(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...TB}:!1===r?{...AB}:r,Cc(t))return rI(this.currentUrlTree,t,o);const i=this.parseUrl(t);return rI(this.currentUrlTree,i,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const i=t[o];return null!=i&&(r[o]=i),r},{})}scheduleNavigation(t,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,u,f,m;return s?(a=s.resolve,u=s.reject,f=s.promise):f=new Promise((_,k)=>{a=_,u=k}),m="computed"===this.canceledNavigationResolution?o&&o.\u0275routerPageId?o.\u0275routerPageId:i.replaceUrl||i.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:m,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:i,resolve:a,reject:u,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(_=>Promise.reject(_))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),i={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",i):this.location.go(o,"",i)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===o?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=yt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class QI{}let FB=(()=>{class n{preload(t,r){return r().pipe(il(()=>_n(null)))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=yt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),OB=(()=>{class n{constructor(t,r,o,i,s){this.router=t,this.injector=o,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(fi(t=>t instanceof Sc),xl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const i of r){i.providers&&!i._injector&&(i._injector=mh(i.providers,t,`Route: ${i.path}`));const s=i._injector??t,a=i._loadedInjector??s;i.loadChildren&&!i._loadedRoutes&&void 0===i.canLoad||i.loadComponent&&!i._loadedComponent?o.push(this.preloadConfig(s,i)):(i.children||i._loadedRoutes)&&o.push(this.processRoutes(a,i.children??i._loadedRoutes))}return lr(o).pipe(Vo())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):_n(null);const i=o.pipe(mr(s=>null===s?_n(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?lr([i,this.loader.loadComponent(r)]).pipe(Vo()):i})}}return n.\u0275fac=function(t){return new(t||n)(ne(Oo),ne(tE),ne(da),ne(QI),ne(Lv))},n.\u0275prov=yt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $v=new sn("");let JI=(()=>{class n{constructor(t,r,o,i,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof dm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Sc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof _I&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new _I(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function _w(){throw new Error("invalid")}()},n.\u0275prov=yt({token:n,factory:n.\u0275fac}),n})();function Dc(n,e){return{\u0275kind:n,\u0275providers:e}}function tk(){const n=bn(lo);return e=>{const t=n.get(kl);if(e!==t.components[0])return;const r=n.get(Oo),o=n.get(nk);1===n.get(Vv)&&r.initialNavigation(),n.get(rk,null,kt.Optional)?.setUpPreloading(),n.get($v,null,kt.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.unsubscribe())}}const nk=new sn("",{factory:()=>new nt}),Vv=new sn("",{providedIn:"root",factory:()=>1});const rk=new sn("");function VB(n){return Dc(0,[{provide:rk,useExisting:OB},{provide:QI,useExisting:n}])}const ok=new sn("ROUTER_FORROOT_GUARD"),UB=[uf,{provide:xu,useClass:_v},Oo,Ec,{provide:al,useFactory:function ek(n){return n.routerState.root},deps:[Oo]},Lv,[]];function jB(){return new lE("Router",Oo)}let Em=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[UB,[],{provide:$u,multi:!0,useValue:t},{provide:ok,useFactory:WB,deps:[[Oo,new xd,new Pd]]},{provide:Sm,useValue:r||{}},r?.useHash?{provide:ba,useClass:PE}:{provide:ba,useClass:xE},{provide:$v,useFactory:()=>{const n=bn(FN),e=bn(ft),t=bn(Sm),r=bn(Cm),o=bn(xu);return t.scrollOffset&&n.setOffset(t.scrollOffset),new JI(o,r,n,e,t)}},r?.preloadingStrategy?VB(r.preloadingStrategy).\u0275providers:[],{provide:lE,multi:!0,useFactory:jB},r?.initialNavigation?ZB(r):[],[{provide:ik,useFactory:tk},{provide:eE,multi:!0,useExisting:ik}]]}}static forChild(t){return{ngModule:n,providers:[{provide:$u,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(ne(ok,8))},n.\u0275mod=M({type:n}),n.\u0275inj=gr({imports:[Av]}),n})();function WB(n){return"guarded"}function ZB(n){return["disabled"===n.initialNavigation?Dc(3,[{provide:hc,multi:!0,useFactory:()=>{const e=bn(Oo);return()=>{e.setUpLocationChangeListener()}}},{provide:Vv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Dc(2,[{provide:Vv,useValue:0},{provide:hc,multi:!0,deps:[lo],useFactory:e=>{const t=e.get(gO,Promise.resolve());return()=>t.then(()=>new Promise(o=>{const i=e.get(Oo),s=e.get(nk);(function r(o){e.get(Oo).events.pipe(fi(s=>s instanceof Sc||s instanceof fm||s instanceof yI),Pe(s=>s instanceof Sc||s instanceof fm&&(0===s.code||1===s.code)&&null),fi(s=>null!==s),Ms(1)).subscribe(()=>{o()})})(()=>{o(!0)}),e.get(Cm).afterPreactivation=()=>(o(!0),s.closed?_n(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const ik=new sn("");P(5933),P(9078),P(4199),P(8759);var Uv=P(5823),Vu=P(9259),Bf=P(919),Vf=(P(7351),P(7580)),sk=(P(2286),P(6379),P(1559));function lk(n,e=re){return n=n??YB,q((t,r)=>{let o,i=!0;t.subscribe(_e(r,s=>{const a=e(s);(i||!n(o,a))&&(i=!1,o=a,r.next(s))}))})}function YB(n,e){return n===e}const QB=Uv.i,Nt=["*"],tV=["outlet"],nV=[[["","slot","top"]],"*"],rV=["[slot=top]","*"],ck=n=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(n):"function"==typeof requestAnimationFrame?requestAnimationFrame(n):setTimeout(n),uk=n=>!!n.resolveComponentFactory;let Uf=(()=>{class n{constructor(t,r){this.injector=t,this.el=r,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(t){this.el.nativeElement.value=this.lastValue=t??"",Uu(this.el)}handleChangeEvent(t,r){t===this.el.nativeElement&&(r!==this.lastValue&&(this.lastValue=r,this.onChange(r)),Uu(this.el))}_handleBlurEvent(t){t===this.el.nativeElement&&(this.onTouched(),Uu(this.el))}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.el.nativeElement.disabled=t}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let t;try{t=this.injector.get(el)}catch{}if(!t)return;t.statusChanges&&(this.statusChanges=t.statusChanges.subscribe(()=>Uu(this.el)));const r=t.control;r&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(i=>{if(typeof r[i]<"u"){const s=r[i].bind(r);r[i]=(...a)=>{s(...a),Uu(this.el)}}})}}return n.\u0275fac=function(t){return new(t||n)(w(lo),w(_t))},n.\u0275dir=ee({type:n,hostBindings:function(t,r){1&t&&at("ionBlur",function(i){return r._handleBlurEvent(i.target)})}}),n})();const Uu=n=>{ck(()=>{const e=n.nativeElement,t=null!=e.value&&e.value.toString().length>0,r=sV(e);jv(e,r);const o=e.closest("ion-item");o&&jv(o,t?[...r,"item-has-value"]:r)})},sV=n=>{const e=n.classList,t=[];for(let r=0;r<e.length;r++){const o=e.item(r);null!==o&&aV(o,"ng-")&&t.push(`ion-${o.substring(3)}`)}return t},jv=(n,e)=>{const t=n.classList;t.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),t.add(...e)},aV=(n,e)=>n.substring(0,e.length)===e;let ju=(()=>{class n extends Uf{constructor(t,r){super(t,r)}writeValue(t){this.el.nativeElement.checked=this.lastValue=t??!1,Uu(this.el)}_handleIonChange(t){this.handleChangeEvent(t,t.checked)}}return n.\u0275fac=function(t){return new(t||n)(w(lo),w(_t))},n.\u0275dir=ee({type:n,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(t,r){1&t&&at("ionChange",function(i){return r._handleIonChange(i.target)})},features:[kr([{provide:Vi,useExisting:n,multi:!0}]),ur]}),n})(),jf=(()=>{class n extends Uf{constructor(t,r){super(t,r)}_handleChangeEvent(t){this.handleChangeEvent(t,t.value)}}return n.\u0275fac=function(t){return new(t||n)(w(lo),w(_t))},n.\u0275dir=ee({type:n,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(t,r){1&t&&at("ionChange",function(i){return r._handleChangeEvent(i.target)})},features:[kr([{provide:Vi,useExisting:n,multi:!0}]),ur]}),n})(),ll=(()=>{class n extends Uf{constructor(t,r){super(t,r)}_handleInputEvent(t){this.handleChangeEvent(t,t.value)}}return n.\u0275fac=function(t){return new(t||n)(w(lo),w(_t))},n.\u0275dir=ee({type:n,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(t,r){1&t&&at("ionChange",function(i){return r._handleInputEvent(i.target)})},features:[kr([{provide:Vi,useExisting:n,multi:!0}]),ur]}),n})();const uV=(n,e)=>{const t=n.prototype;e.forEach(r=>{Object.defineProperty(t,r,{get(){return this.el[r]},set(o){this.z.runOutsideAngular(()=>this.el[r]=o)}})})},dV=(n,e)=>{const t=n.prototype;e.forEach(r=>{t[r]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,o))}})},vr=(n,e,t)=>{t.forEach(r=>n[r]=Sf(e,r))};function Ft(n){return function(t){const{defineCustomElementFn:r,inputs:o,methods:i}=n;return void 0!==r&&r(),o&&uV(t,o),i&&dV(t,i),t}}let dk=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(w(It),w(_t),w(ft))},n.\u0275cmp=Xe({type:n,selectors:[["ion-app"]],ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=G([Ft({defineCustomElementFn:void 0})],n),n})(),fk=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(w(It),w(_t),w(ft))},n.\u0275cmp=Xe({type:n,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=G([Ft({defineCustomElementFn:void 0,inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],n),n})(),ji=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,vr(this,this.el,["ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(w(It),w(_t),w(ft))},n.\u0275cmp=Xe({type:n,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=G([Ft({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],n),n})(),Hi=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(w(It),w(_t),w(ft))},n.\u0275cmp=Xe({type:n,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=G([Ft({defineCustomElementFn:void 0,inputs:["collapse"]})],n),n})(),pk=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,vr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(w(It),w(_t),w(ft))},n.\u0275cmp=Xe({type:n,selectors:[["ion-checkbox"]],inputs:{checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",mode:"mode",name:"name",value:"value"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=G([Ft({defineCustomElementFn:void 0,inputs:["checked","color","disabled","indeterminate","mode","name","value"]})],n),n})(),zi=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,vr(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return n.\u0275fac=function(t){return new(t||n)(w(It),w(_t),w(ft))},n.\u0275cmp=Xe({type:n,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=G([Ft({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],n),n})(),Gi=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(w(It),w(_t),w(ft))},n.\u0275cmp=Xe({type:n,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=G([Ft({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],n),n})(),ai=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(w(It),w(_t),w(ft))},n.\u0275cmp=Xe({type:n,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=G([Ft({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],n),n})(),cl=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,vr(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return n.\u0275fac=function(t){return new(t||n)(w(It),w(_t),w(ft))},n.\u0275cmp=Xe({type:n,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=G([Ft({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],n),n})(),Ko=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(w(It),w(_t),w(ft))},n.\u0275cmp=Xe({type:n,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=G([Ft({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],n),n})(),Dm=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(w(It),w(_t),w(ft))},n.\u0275cmp=Xe({type:n,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=G([Ft({defineCustomElementFn:void 0,inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],n),n})(),Im=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,vr(this,this.el,["ionSwipe"])}};return n.\u0275fac=function(t){return new(t||n)(w(It),w(_t),w(ft))},n.\u0275cmp=Xe({type:n,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=G([Ft({defineCustomElementFn:void 0,inputs:["side"]})],n),n})(),km=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,vr(this,this.el,["ionDrag"])}};return n.\u0275fac=function(t){return new(t||n)(w(It),w(_t),w(ft))},n.\u0275cmp=Xe({type:n,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=G([Ft({defineCustomElementFn:void 0,inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],n),n})(),Wi=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(w(It),w(_t),w(ft))},n.\u0275cmp=Xe({type:n,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=G([Ft({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],n),n})(),Da=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(w(It),w(_t),w(ft))},n.\u0275cmp=Xe({type:n,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=G([Ft({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],n),n})(),hk=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,vr(this,this.el,["ionNavWillChange","ionNavDidChange"])}};return n.\u0275fac=function(t){return new(t||n)(w(It),w(_t),w(ft))},n.\u0275cmp=Xe({type:n,selectors:[["ion-nav"]],inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=G([Ft({defineCustomElementFn:void 0,inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],n),n})(),Hv=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,vr(this,this.el,["ionChange","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}};return n.\u0275fac=function(t){return new(t||n)(w(It),w(_t),w(ft))},n.\u0275cmp=Xe({type:n,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=G([Ft({defineCustomElementFn:void 0,inputs:["activeBarStart","color","debounce","disabled","dualKnobs","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],n),n})(),Mm=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,vr(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(w(It),w(_t),w(ft))},n.\u0275cmp=Xe({type:n,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=G([Ft({defineCustomElementFn:void 0,inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],n),n})(),Tm=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(w(It),w(_t),w(ft))},n.\u0275cmp=Xe({type:n,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=G([Ft({defineCustomElementFn:void 0,inputs:["disabled","value"]})],n),n})(),Hf=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(w(It),w(_t),w(ft))},n.\u0275cmp=Xe({type:n,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=G([Ft({defineCustomElementFn:void 0,inputs:["color","duration","name","paused"]})],n),n})(),zv=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(w(It),w(_t),w(ft))},n.\u0275cmp=Xe({type:n,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=G([Ft({defineCustomElementFn:void 0,inputs:["color","mode","selectedTab","translucent"]})],n),n})(),mk=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(w(It),w(_t),w(ft))},n.\u0275cmp=Xe({type:n,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=G([Ft({defineCustomElementFn:void 0,inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],n),n})(),Zi=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(w(It),w(_t),w(ft))},n.\u0275cmp=Xe({type:n,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=G([Ft({defineCustomElementFn:void 0,inputs:["color","size"]})],n),n})(),zf=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,vr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(w(It),w(_t),w(ft))},n.\u0275cmp=Xe({type:n,selectors:[["ion-toggle"]],inputs:{checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",mode:"mode",name:"name",value:"value"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=G([Ft({defineCustomElementFn:void 0,inputs:["checked","color","disabled","enableOnOffLabels","mode","name","value"]})],n),n})(),qi=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(w(It),w(_t),w(ft))},n.\u0275cmp=Xe({type:n,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2,changeDetection:0}),n=G([Ft({defineCustomElementFn:void 0,inputs:["color","mode"]})],n),n})();class gk{constructor(e={}){this.data=e}get(e){return this.data[e]}}let Am=(()=>{class n{constructor(t,r){this.zone=t,this.appRef=r}create(t,r,o,i){return new cU(t,r,o,this.appRef,this.zone,i)}}return n.\u0275fac=function(t){return new(t||n)(ne(ft),ne(kl))},n.\u0275prov=yt({token:n,factory:n.\u0275fac}),n})();class cU{constructor(e,t,r,o,i,s){this.resolverOrInjector=e,this.injector=t,this.location=r,this.appRef=o,this.zone=i,this.elementReferenceKey=s,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(e,t,r,o){return this.zone.run(()=>new Promise(i=>{const s=Object.assign({},r);void 0!==this.elementReferenceKey&&(s[this.elementReferenceKey]=e),i(uU(this.zone,this.resolverOrInjector,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,e,t,s,o))}))}removeViewFromDom(e,t){return this.zone.run(()=>new Promise(r=>{const o=this.elRefMap.get(t);if(o){o.destroy(),this.elRefMap.delete(t);const i=this.elEventsMap.get(t);i&&(i(),this.elEventsMap.delete(t))}r()}))}}const uU=(n,e,t,r,o,i,s,a,u,f,m)=>{let _;const k=lo.create({providers:fU(f),parent:t});if(e&&uk(e)){const Ze=e.resolveComponentFactory(u);_=r?r.createComponent(Ze,r.length,k):Ze.create(k)}else{if(!r)return null;_=r.createComponent(u,{index:r.indexOf,injector:k,environmentInjector:e})}const A=_.instance,Q=_.location.nativeElement;if(f&&Object.assign(A,f),m)for(const Ze of m)Q.classList.add(Ze);const Te=yk(n,A,Q);return a.appendChild(Q),r||o.attachView(_.hostView),_.changeDetectorRef.reattach(),i.set(Q,_),s.set(Q,Te),Q},dU=[Bf.L,Bf.a,Bf.b,Bf.c,Bf.d],yk=(n,e,t)=>n.run(()=>{const r=dU.filter(o=>"function"==typeof e[o]).map(o=>{const i=s=>e[o](s.detail);return t.addEventListener(o,i),()=>t.removeEventListener(o,i)});return()=>r.forEach(o=>o())}),_k=new sn("NavParamsToken"),fU=n=>[{provide:_k,useValue:n},{provide:gk,useFactory:pU,deps:[_k]}],pU=n=>new gk(n),vk=(n,e)=>((n=n.filter(t=>t.stackId!==e.stackId)).push(e),n),Gv=(n,e)=>{const t=n.createUrlTree(["."],{relativeTo:e});return n.serializeUrl(t)},_U=(n,e)=>{if(!n)return;const t=bk(e);for(let r=0;r<t.length;r++){if(r>=n.length)return t[r];if(t[r]!==n[r])return}},bk=n=>n.split("/").map(e=>e.trim()).filter(e=>""!==e),wk=n=>{n&&(n.ref.destroy(),n.unlistenEvents())};class vU{constructor(e,t,r,o,i,s){this.containerEl=t,this.router=r,this.navCtrl=o,this.zone=i,this.location=s,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==e?bk(e):void 0}createView(e,t){var r;const o=Gv(this.router,t),i=null===(r=e?.location)||void 0===r?void 0:r.nativeElement,s=yk(this.zone,e.instance,i);return{id:this.nextId++,stackId:_U(this.tabsPrefix,o),unlistenEvents:s,element:i,ref:e,url:o}}getExistingView(e){const t=Gv(this.router,e),r=this.views.find(o=>o.url===t);return r&&r.ref.changeDetectorRef.reattach(),r}setActive(e){var t,r;const o=this.navCtrl.consumeTransition();let{direction:i,animation:s,animationBuilder:a}=o;const u=this.activeView,f=((n,e)=>!e||n.stackId!==e.stackId)(e,u);f&&(i="back",s=void 0);const m=this.views.slice();let _;const k=this.router;k.getCurrentNavigation?_=k.getCurrentNavigation():!(null===(t=k.navigations)||void 0===t)&&t.value&&(_=k.navigations.value),null!==(r=_?.extras)&&void 0!==r&&r.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const A=this.views.includes(e),Q=this.insertView(e,i);A||e.ref.changeDetectorRef.detectChanges();const Te=e.animationBuilder;return void 0===a&&"back"===i&&!f&&void 0!==Te&&(a=Te),u&&(u.animationBuilder=a),this.zone.runOutsideAngular(()=>this.wait(()=>(u&&u.ref.changeDetectorRef.detach(),e.ref.changeDetectorRef.reattach(),this.transition(e,u,s,this.canGoBack(1),!1,a).then(()=>bU(e,Q,m,this.location,this.zone)).then(()=>({enteringView:e,direction:i,animation:s,tabSwitch:f})))))}canGoBack(e,t=this.getActiveStackId()){return this.getStack(t).length>e}pop(e,t=this.getActiveStackId()){return this.zone.run(()=>{var r,o;const i=this.getStack(t);if(i.length<=e)return Promise.resolve(!1);const s=i[i.length-e-1];let a=s.url;const u=s.savedData;if(u){const m=u.get("primary");null!==(o=null===(r=m?.route)||void 0===r?void 0:r._routerState)&&void 0!==o&&o.snapshot.url&&(a=m.route._routerState.snapshot.url)}const{animationBuilder:f}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(a,Object.assign(Object.assign({},s.savedExtras),{animation:f})).then(()=>!0)})}startBackTransition(){const e=this.activeView;if(e){const t=this.getStack(e.stackId),r=t[t.length-2],o=r.animationBuilder;return this.wait(()=>this.transition(r,e,"back",this.canGoBack(2),!0,o))}return Promise.resolve()}endBackTransition(e){e?(this.skipTransition=!0,this.pop(1)):this.activeView&&Ck(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(e){const t=this.getStack(e);return t.length>0?t[t.length-1]:void 0}getRootUrl(e){const t=this.getStack(e);return t.length>0?t[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(wk),this.activeView=void 0,this.views=[]}getStack(e){return this.views.filter(t=>t.stackId===e)}insertView(e,t){return this.activeView=e,this.views=((n,e,t)=>"root"===t?vk(n,e):"forward"===t?((n,e)=>(n.indexOf(e)>=0?n=n.filter(r=>r.stackId!==e.stackId||r.id<=e.id):n.push(e),n))(n,e):((n,e)=>n.indexOf(e)>=0?n.filter(r=>r.stackId!==e.stackId||r.id<=e.id):vk(n,e))(n,e))(this.views,e,t),this.views.slice()}transition(e,t,r,o,i,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(t===e)return Promise.resolve(!1);const a=e?e.element:void 0,u=t?t.element:void 0,f=this.containerEl;return a&&a!==u&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),a.parentElement!==f&&f.appendChild(a),f.commit)?f.commit(a,u,{deepWait:!0,duration:void 0===r?0:void 0,direction:r,showGoBack:o,progressAnimation:i,animationBuilder:s}):Promise.resolve(!1)}wait(e){return xn(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const t=this.runningTask=e();return t.finally(()=>this.runningTask=void 0),t})}}const bU=(n,e,t,r,o)=>"function"==typeof requestAnimationFrame?new Promise(i=>{requestAnimationFrame(()=>{Ck(n,e,t,r,o),i()})}):Promise.resolve(),Ck=(n,e,t,r,o)=>{o.run(()=>t.filter(i=>!e.includes(i)).forEach(wk)),e.forEach(i=>{const a=r.path().split("?")[0].split("#")[0];if(i!==n&&i.url!==a){const u=i.element;u.setAttribute("aria-hidden","true"),u.classList.add("ion-page-hidden"),i.ref.changeDetectorRef.detach()}})};let Wv=(()=>{class n{get(t,r){const o=Zv();return o?o.get(t,r):null}getBoolean(t,r){const o=Zv();return!!o&&o.getBoolean(t,r)}getNumber(t,r){const o=Zv();return o?o.getNumber(t,r):0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=yt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Sk=new sn("USERCONFIG"),Zv=()=>{if(typeof window<"u"){const n=window.Ionic;if(n?.config)return n.config}return null};let wU=(()=>{class n{constructor(t,r){this.doc=t,this.backButton=new nt,this.keyboardDidShow=new nt,this.keyboardDidHide=new nt,this.pause=new nt,this.resume=new nt,this.resize=new nt,r.run(()=>{var o;let i;this.win=t.defaultView,this.backButton.subscribeWithPriority=function(s,a){return this.subscribe(u=>u.register(s,f=>r.run(()=>a(f))))},Hu(this.pause,t,"pause"),Hu(this.resume,t,"resume"),Hu(this.backButton,t,"ionBackButton"),Hu(this.resize,this.win,"resize"),Hu(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Hu(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(s=>{i=s}),null!==(o=this.win)&&void 0!==o&&o.cordova?t.addEventListener("deviceready",()=>{i("cordova")},{once:!0}):i("dom")})}is(t){return(0,Uv.a)(this.win,t)}platforms(){return(0,Uv.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(t){return CU(this.win.location.href,t)}isLandscape(){return!this.isPortrait()}isPortrait(){var t,r;return null===(r=(t=this.win).matchMedia)||void 0===r?void 0:r.call(t,"(orientation: portrait)").matches}testUserAgent(t){const r=this.win.navigator;return!!(r?.userAgent&&r.userAgent.indexOf(t)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return n.\u0275fac=function(t){return new(t||n)(ne(Zo),ne(ft))},n.\u0275prov=yt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const CU=(n,e)=>{e=e.replace(/[[\]\\]/g,"\\$&");const r=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(n);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null},Hu=(n,e,t)=>{e&&e.addEventListener(t,r=>{n.next(r?.detail)})};let Gf=(()=>{class n{constructor(t,r,o,i){this.location=r,this.serializer=o,this.router=i,this.direction=Ek,this.animated=Dk,this.guessDirection="forward",this.lastNavId=-1,i&&i.events.subscribe(s=>{if(s instanceof dm){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=a<this.lastNavId?"back":"forward",this.guessAnimation=s.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?s.id:a}}),t.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(t,r={}){return this.setDirection("forward",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}navigateBack(t,r={}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}navigateRoot(t,r={}){return this.setDirection("root",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}back(t={animated:!0,animationDirection:"back"}){return this.setDirection("back",t.animated,t.animationDirection,t.animation),this.location.back()}pop(){return xn(this,void 0,void 0,function*(){let t=this.topOutlet;for(;t&&!(yield t.pop());)t=t.parentOutlet})}setDirection(t,r,o,i){this.direction=t,this.animated=SU(t,r,o),this.animationBuilder=i}setTopOutlet(t){this.topOutlet=t}consumeTransition(){let r,t="root";const o=this.animationBuilder;return"auto"===this.direction?(t=this.guessDirection,r=this.guessAnimation):(r=this.animated,t=this.direction),this.direction=Ek,this.animated=Dk,this.animationBuilder=void 0,{direction:t,animation:r,animationBuilder:o}}navigate(t,r){if(Array.isArray(t))return this.router.navigate(t,r);{const o=this.serializer.parse(t.toString());return void 0!==r.queryParams&&(o.queryParams=Object.assign({},r.queryParams)),void 0!==r.fragment&&(o.fragment=r.fragment),this.router.navigateByUrl(o,r)}}}return n.\u0275fac=function(t){return new(t||n)(ne(wU),ne(uf),ne(xu),ne(Oo,8))},n.\u0275prov=yt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const SU=(n,e,t)=>{if(!1!==e){if(void 0!==t)return t;if("forward"===n||"back"===n)return n;if("root"===n&&!0===e)return"forward"}},Ek="auto",Dk=void 0;let Wf=(()=>{class n{constructor(t,r,o,i,s,a,u,f,m,_,k,A,Q){this.parentContexts=t,this.location=r,this.config=s,this.navCtrl=a,this.componentFactoryResolver=u,this.parentOutlet=Q,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new ks(null),this.stackEvents=new kn,this.activateEvents=new kn,this.deactivateEvents=new kn,this.nativeEl=m.nativeElement,this.name=o||Ln,this.tabsPrefix="true"===i?Gv(_,A):void 0,this.stackCtrl=new vU(this.tabsPrefix,this.nativeEl,_,a,k,f),t.onChildOutletCreated(this.name,this)}set animation(t){this.nativeEl.animation=t}set animated(t){this.nativeEl.animated=t}set swipeGesture(t){this._swipeGesture=t,this.nativeEl.swipeHandler=t?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:r=>this.stackCtrl.endBackTransition(r)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const t=this.getContext();t?.route&&this.activateWith(t.route,t.resolver||null)}new Promise(t=>(0,Vu.c)(this.nativeEl,t)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(t,r){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const r=this.getContext();this.activatedView.savedData=new Map(r.children.contexts);const o=this.activatedView.savedData.get("primary");if(o&&r.route&&(o.route=Object.assign({},r.route)),this.activatedView.savedExtras={},r.route){const i=r.route.snapshot;this.activatedView.savedExtras.queryParams=i.queryParams,this.activatedView.savedExtras.fragment=i.fragment}}const t=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){var o;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;let i,s=this.stackCtrl.getExistingView(t);if(s){i=this.activated=s.ref;const a=s.savedData;a&&(this.getContext().children.contexts=a),this.updateActivatedRouteProxy(i.instance,t)}else{const a=t._futureSnapshot;if(null==a.routeConfig.component&&null==this.environmentInjector)return void console.warn('[Ionic Warning]: You must supply an environmentInjector to use standalone components with routing:\n\nIn your component class, add:\n\n   import { EnvironmentInjector } from \'@angular/core\';\n   constructor(public environmentInjector: EnvironmentInjector) {}\n\nIn your router outlet template, add:\n\n   <ion-router-outlet [environmentInjector]="environmentInjector"></ion-router-outlet>\n\nAlternatively, if you are routing within ion-tabs:\n\n   <ion-tabs [environmentInjector]="environmentInjector"></ion-tabs>');const u=this.parentContexts.getOrCreateContext(this.name).children,f=new ks(null),m=this.createActivatedRouteProxy(f,t),_=new EU(m,u,this.location.injector),k=null!==(o=a.routeConfig.component)&&void 0!==o?o:a.component;if((r=r||this.componentFactoryResolver)&&uk(r)){const A=r.resolveComponentFactory(k);i=this.activated=this.location.createComponent(A,this.location.length,_)}else i=this.activated=this.location.createComponent(k,{index:this.location.length,injector:_,environmentInjector:r??this.environmentInjector});f.next(i.instance),s=this.stackCtrl.createView(this.activated,t),this.proxyMap.set(i.instance,m),this.currentActivatedRoute$.next({component:i.instance,activatedRoute:t})}this.activatedView=s,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(s).then(a=>{this.activateEvents.emit(i.instance),this.stackEvents.emit(a)})}canGoBack(t=1,r){return this.stackCtrl.canGoBack(t,r)}pop(t=1,r){return this.stackCtrl.pop(t,r)}getLastUrl(t){const r=this.stackCtrl.getLastUrl(t);return r?r.url:void 0}getLastRouteView(t){return this.stackCtrl.getLastUrl(t)}getRootView(t){return this.stackCtrl.getRootUrl(t)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(t,r){const o=new al;return o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,o._paramMap=this.proxyObservable(t,"paramMap"),o._queryParamMap=this.proxyObservable(t,"queryParamMap"),o.url=this.proxyObservable(t,"url"),o.params=this.proxyObservable(t,"params"),o.queryParams=this.proxyObservable(t,"queryParams"),o.fragment=this.proxyObservable(t,"fragment"),o.data=this.proxyObservable(t,"data"),o}proxyObservable(t,r){return t.pipe(fi(o=>!!o),pi(o=>this.currentActivatedRoute$.pipe(fi(i=>null!==i&&i.component===o),pi(i=>i&&i.activatedRoute[r]),lk())))}updateActivatedRouteProxy(t,r){const o=this.proxyMap.get(t);if(!o)throw new Error("Could not find activated route proxy for view");o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,this.currentActivatedRoute$.next({component:t,activatedRoute:r})}}return n.\u0275fac=function(t){return new(t||n)(w(Ec),w(Ai),Zc("name"),Zc("tabs"),w(Wv),w(Gf),w(za,8),w(uf),w(_t),w(Oo),w(ft),w(al),w(n,12))},n.\u0275dir=ee({type:n,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",environmentInjector:"environmentInjector"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class EU{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===al?this.route:e===Ec?this.childContexts:this.parent.get(e,t)}}let Ik=(()=>{class n{constructor(t){this.navCtrl=t,this.ionTabsWillChange=new kn,this.ionTabsDidChange=new kn}onPageSelected(t){const r=t.enteringView.stackId;t.tabSwitch&&void 0!==r&&(this.ionTabsWillChange.emit({tab:r}),this.tabBar&&(this.tabBar.selectedTab=r),this.ionTabsDidChange.emit({tab:r}))}select(t){const r="string"==typeof t,o=r?t:t.detail.tab,i=this.outlet.getActiveStackId()===o,s=`${this.outlet.tabsPrefix}/${o}`;if(r||t.stopPropagation(),i){const a=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(a)?.url===s)return;const f=this.outlet.getRootView(o);return this.navCtrl.navigateRoot(s,Object.assign(Object.assign({},f&&s===f.url&&f.savedExtras),{animated:!0,animationDirection:"back"}))}{const a=this.outlet.getLastRouteView(o),f=a?.savedExtras;return this.navCtrl.navigateRoot(a?.url||s,Object.assign(Object.assign({},f),{animated:!0,animationDirection:"back"}))}}getSelected(){return this.outlet.getActiveStackId()}}return n.\u0275fac=function(t){return new(t||n)(w(Gf))},n.\u0275cmp=Xe({type:n,selectors:[["ion-tabs"]],contentQueries:function(t,r,o){if(1&t&&function Dl(n,e,t,r){const o=wn();if(o.firstCreatePass){const i=Ht();PS(o,new TS(e,t,r),i.index),function u2(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(o,n),2==(2&t)&&(o.staticContentQueries=!0)}xS(o,lt(),t)}(o,zv,5),2&t){let i;Ds(i=Is())&&(r.tabBar=i.first)}},viewQuery:function(t,r){if(1&t&&bu(tV,5,Wf),2&t){let o;Ds(o=Is())&&(r.outlet=o.first)}},hostBindings:function(t,r){1&t&&at("ionTabButtonClick",function(i){return r.select(i)})},inputs:{environmentInjector:"environmentInjector"},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:rV,decls:5,vars:1,consts:[[1,"tabs-inner"],["tabs","true",3,"environmentInjector","stackEvents"],["outlet",""]],template:function(t,r){1&t&&(Rt(nV),At(0),se(1,"div",0)(2,"ion-router-outlet",1,2),at("stackEvents",function(i){return r.onPageSelected(i)}),J()(),At(4,1)),2&t&&(et(2),ot("environmentInjector",r.environmentInjector))},dependencies:[Wf],styles:["[_nghost-%COMP%] {\n        display: flex;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n\n        flex-direction: column;\n\n        width: 100%;\n        height: 100%;\n\n        contain: layout size style;\n        z-index: $z-index-page-container;\n      }\n      .tabs-inner[_ngcontent-%COMP%] {\n        position: relative;\n\n        flex: 1;\n\n        contain: layout size style;\n      }"]}),n})(),kk=(()=>{class n{constructor(t,r,o){this.routerOutlet=t,this.navCtrl=r,this.config=o}onClick(t){var r;const o=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(r=this.routerOutlet)&&void 0!==r&&r.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),t.preventDefault()):null!=o&&(this.navCtrl.navigateBack(o,{animation:this.routerAnimation}),t.preventDefault())}}return n.\u0275fac=function(t){return new(t||n)(w(Wf,8),w(Gf),w(Wv))},n.\u0275dir=ee({type:n,selectors:[["ion-back-button"]],hostBindings:function(t,r){1&t&&at("click",function(i){return r.onClick(i)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),n})(),Mk=(()=>{let n=class{constructor(t,r,o,i,s){this.el=t.nativeElement,t.nativeElement.delegate=i.create(r,o,s),vr(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return n.\u0275fac=function(t){return new(t||n)(w(_t),w(za),w(lo),w(Am),w(Ai))},n.\u0275dir=ee({type:n,selectors:[["ion-nav"]]}),n=G([Ft({inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],n),n})();class Zf{constructor(e){this.ctrl=e}create(e){return this.ctrl.create(e||{})}dismiss(e,t,r){return this.ctrl.dismiss(e,t,r)}getTop(){return this.ctrl.getTop()}}let qf=(()=>{class n extends Zf{constructor(){super(Vf.b)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=yt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zu=(()=>{class n extends Zf{constructor(){super(Vf.a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=yt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ll=(()=>{class n extends Zf{constructor(){super(Vf.l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=yt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Pk{}let ps=(()=>{class n extends Zf{constructor(t,r,o,i){super(Vf.m),this.angularDelegate=t,this.resolver=r,this.injector=o,this.environmentInjector=i}create(t){var r;return super.create(Object.assign(Object.assign({},t),{delegate:this.angularDelegate.create(null!==(r=this.resolver)&&void 0!==r?r:this.environmentInjector,this.injector,void 0,"modal")}))}}return n.\u0275fac=function(t){return new(t||n)(ne(Am),ne(za),ne(lo),ne(Pk,8))},n.\u0275prov=yt({token:n,factory:n.\u0275fac}),n})(),Ic=(()=>{class n extends Zf{constructor(t,r,o,i){super(Vf.c),this.angularDelegate=t,this.resolver=r,this.injector=o,this.environmentInjector=i}create(t){var r;return super.create(Object.assign(Object.assign({},t),{delegate:this.angularDelegate.create(null!==(r=this.resolver)&&void 0!==r?r:this.environmentInjector,this.injector,void 0,"popover")}))}}return n.\u0275fac=function(t){return new(t||n)(ne(Am),ne(za),ne(lo),ne(Pk,8))},n.\u0275prov=yt({token:n,factory:n.\u0275fac}),n})();const PU=(n,e,t)=>()=>{if(e.defaultView&&typeof window<"u"){(n=>{const e=window,t=e.Ionic;t&&t.config&&"Object"!==t.config.constructor.name||(e.Ionic=e.Ionic||{},e.Ionic.config=Object.assign(Object.assign({},e.Ionic.config),n))})(Object.assign(Object.assign({},n),{_zoneGate:i=>t.run(i)}));const o="__zone_symbol__addEventListener"in e.body?"__zone_symbol__addEventListener":"addEventListener";return function XB(){var n=[];if(typeof window<"u"){var e=window;(!e.customElements||e.Element&&(!e.Element.prototype.closest||!e.Element.prototype.matches||!e.Element.prototype.remove||!e.Element.prototype.getRootNode))&&n.push(P.e(6748).then(P.t.bind(P,3314,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||e.NodeList&&!e.NodeList.prototype.forEach||!e.fetch||!function(){try{var r=new URL("b","http://a");return r.pathname="c%20d","http://a/c%20d"===r.href&&r.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&n.push(P.e(2214).then(P.t.bind(P,7320,23)))}return Promise.all(n)}().then(()=>((n,e)=>typeof window>"u"?Promise.resolve():(0,sk.p)().then(()=>(QB(),(0,sk.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"activated":[32]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),e))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:ck,jmp:i=>t.runOutsideAngular(i),ael(i,s,a,u){i[o](s,a,u)},rel(i,s,a,u){i.removeEventListener(s,a,u)}}))}};let $l=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:Sk,useValue:t},{provide:hc,useFactory:PU,multi:!0,deps:[Sk,Zo,ft]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=M({type:n}),n.\u0275inj=gr({providers:[Am,ps,Ic],imports:[[wa]]}),n})();let Gu={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const Fk=/[&<>"']/,FU=new RegExp(Fk.source,"g"),Ok=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,OU=new RegExp(Ok.source,"g"),NU={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Nk=n=>NU[n];function gi(n,e){if(e){if(Fk.test(n))return n.replace(FU,Nk)}else if(Ok.test(n))return n.replace(OU,Nk);return n}const LU=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function Lk(n){return n.replace(LU,(e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")}const $U=/(^|[^\[])\^/g;function Br(n,e){n="string"==typeof n?n:n.source,e=e||"";const t={replace:(r,o)=>(o=(o=o.source||o).replace($U,"$1"),n=n.replace(r,o),t),getRegex:()=>new RegExp(n,e)};return t}const BU=/[^\w:]/g,VU=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function $k(n,e,t){if(n){let r;try{r=decodeURIComponent(Lk(t)).replace(BU,"").toLowerCase()}catch{return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}e&&!VU.test(t)&&(t=function zU(n,e){xm[" "+n]||(xm[" "+n]=UU.test(n)?n+"/":Rm(n,"/",!0));const t=-1===(n=xm[" "+n]).indexOf(":");return"//"===e.substring(0,2)?t?e:n.replace(jU,"$1")+e:"/"===e.charAt(0)?t?e:n.replace(HU,"$1")+e:n+e}(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const xm={},UU=/^[^:]+:\/*[^/]*$/,jU=/^([^:]+:)[\s\S]*$/,HU=/^([^:]+:\/*[^/]*)[\s\S]*$/,Pm={exec:function(){}};function Js(n){let t,r,e=1;for(;e<arguments.length;e++)for(r in t=arguments[e],t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function Bk(n,e){const r=n.replace(/\|/g,(i,s,a)=>{let u=!1,f=s;for(;--f>=0&&"\\"===a[f];)u=!u;return u?"|":" |"}).split(/ \|/);let o=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;o<r.length;o++)r[o]=r[o].trim().replace(/\\\|/g,"|");return r}function Rm(n,e,t){const r=n.length;if(0===r)return"";let o=0;for(;o<r;){const i=n.charAt(r-o-1);if(i!==e||t){if(i===e||!t)break;o++}else o++}return n.slice(0,r-o)}function Vk(n){n&&n.sanitize&&!n.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Uk(n,e){if(e<1)return"";let t="";for(;e>1;)1&e&&(t+=n),e>>=1,n+=n;return t+n}function jk(n,e,t,r){const o=e.href,i=e.title?gi(e.title):null,s=n[1].replace(/\\([\[\]])/g,"$1");if("!"!==n[0].charAt(0)){r.state.inLink=!0;const a={type:"link",raw:t,href:o,title:i,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,a}return{type:"image",raw:t,href:o,title:i,text:gi(s)}}class qv{constructor(e){this.options=e||Gu}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const r=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Rm(r,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const r=t[0],o=function WU(n,e){const t=n.match(/^(\s+)(?:```)/);if(null===t)return e;const r=t[1];return e.split("\n").map(o=>{const i=o.match(/^\s+/);if(null===i)return o;const[s]=i;return s.length>=r.length?o.slice(r.length):o}).join("\n")}(r,t[3]||"");return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:o}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(/#$/.test(r)){const o=Rm(r,"#");(this.options.pedantic||!o||/ $/.test(o))&&(r=o.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const r=t[0].replace(/^ *>[ \t]?/gm,""),o=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(r);return this.lexer.state.top=o,{type:"blockquote",raw:t[0],tokens:i,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r,o,i,s,a,u,f,m,_,k,A,Q,Te=t[1].trim();const Ze=Te.length>1,Ke={type:"list",raw:"",ordered:Ze,start:Ze?+Te.slice(0,-1):"",loose:!1,items:[]};Te=Ze?`\\d{1,9}\\${Te.slice(-1)}`:`\\${Te}`,this.options.pedantic&&(Te=Ze?Te:"[*+-]");const Ct=new RegExp(`^( {0,3}${Te})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;e&&(Q=!1,(t=Ct.exec(e))&&!this.rules.block.hr.test(e));){if(r=t[0],e=e.substring(r.length),m=t[2].split("\n",1)[0].replace(/^\t+/,Ot=>" ".repeat(3*Ot.length)),_=e.split("\n",1)[0],this.options.pedantic?(s=2,A=m.trimLeft()):(s=t[2].search(/[^ ]/),s=s>4?1:s,A=m.slice(s),s+=t[1].length),u=!1,!m&&/^ *$/.test(_)&&(r+=_+"\n",e=e.substring(_.length+1),Q=!0),!Q){const Ot=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),Sn=new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Gn=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),ms=new RegExp(`^ {0,${Math.min(3,s-1)}}#`);for(;e&&(k=e.split("\n",1)[0],_=k,this.options.pedantic&&(_=_.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Gn.test(_)||ms.test(_)||Ot.test(_)||Sn.test(e)));){if(_.search(/[^ ]/)>=s||!_.trim())A+="\n"+_.slice(s);else{if(u||m.search(/[^ ]/)>=4||Gn.test(m)||ms.test(m)||Sn.test(m))break;A+="\n"+_}!u&&!_.trim()&&(u=!0),r+=k+"\n",e=e.substring(k.length+1),m=_.slice(s)}}Ke.loose||(f?Ke.loose=!0:/\n *\n *$/.test(r)&&(f=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(A),o&&(i="[ ] "!==o[0],A=A.replace(/^\[[ xX]\] +/,""))),Ke.items.push({type:"list_item",raw:r,task:!!o,checked:i,loose:!1,text:A}),Ke.raw+=r}Ke.items[Ke.items.length-1].raw=r.trimRight(),Ke.items[Ke.items.length-1].text=A.trimRight(),Ke.raw=Ke.raw.trimRight();const Ne=Ke.items.length;for(a=0;a<Ne;a++)if(this.lexer.state.top=!1,Ke.items[a].tokens=this.lexer.blockTokens(Ke.items[a].text,[]),!Ke.loose){const Ot=Ke.items[a].tokens.filter(Gn=>"space"===Gn.type),Sn=Ot.length>0&&Ot.some(Gn=>/\n.*\n/.test(Gn.raw));Ke.loose=Sn}if(Ke.loose)for(a=0;a<Ne;a++)Ke.items[a].loose=!0;return Ke}}html(e){const t=this.rules.block.html.exec(e);if(t){const r={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){const o=this.options.sanitizer?this.options.sanitizer(t[0]):gi(t[0]);r.type="paragraph",r.text=o,r.tokens=this.lexer.inline(o)}return r}}def(e){const t=this.rules.block.def.exec(e);if(t){const r=t[1].toLowerCase().replace(/\s+/g," "),o=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:o,title:i}}}table(e){const t=this.rules.block.table.exec(e);if(t){const r={type:"table",header:Bk(t[1]).map(o=>({text:o})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(r.header.length===r.align.length){r.raw=t[0];let i,s,a,u,o=r.align.length;for(i=0;i<o;i++)r.align[i]=/^ *-+: *$/.test(r.align[i])?"right":/^ *:-+: *$/.test(r.align[i])?"center":/^ *:-+ *$/.test(r.align[i])?"left":null;for(o=r.rows.length,i=0;i<o;i++)r.rows[i]=Bk(r.rows[i],r.header.length).map(f=>({text:f}));for(o=r.header.length,s=0;s<o;s++)r.header[s].tokens=this.lexer.inline(r.header[s].text);for(o=r.rows.length,s=0;s<o;s++)for(u=r.rows[s],a=0;a<u.length;a++)u[a].tokens=this.lexer.inline(u[a].text);return r}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const r="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:gi(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):gi(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const r=t[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const s=Rm(r.slice(0,-1),"\\");if((r.length-s.length)%2==0)return}else{const s=function GU(n,e){if(-1===n.indexOf(e[1]))return-1;const t=n.length;let r=0,o=0;for(;o<t;o++)if("\\"===n[o])o++;else if(n[o]===e[0])r++;else if(n[o]===e[1]&&(r--,r<0))return o;return-1}(t[2],"()");if(s>-1){const u=(0===t[0].indexOf("!")?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,u).trim(),t[3]=""}}let o=t[2],i="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);s&&(o=s[1],i=s[3])}else i=t[3]?t[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(r)?o.slice(1):o.slice(1,-1)),jk(t,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let o=(r[2]||r[1]).replace(/\s+/g," ");if(o=t[o.toLowerCase()],!o){const i=r[0].charAt(0);return{type:"text",raw:i,text:i}}return jk(r,o,r[0],this.lexer)}}emStrong(e,t,r=""){let o=this.rules.inline.emStrong.lDelim.exec(e);if(!o||o[3]&&r.match(/[\p{L}\p{N}]/u))return;const i=o[1]||o[2]||"";if(!i||i&&(""===r||this.rules.inline.punctuation.exec(r))){const s=o[0].length-1;let a,u,f=s,m=0;const _="*"===o[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(_.lastIndex=0,t=t.slice(-1*e.length+s);null!=(o=_.exec(t));){if(a=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!a)continue;if(u=a.length,o[3]||o[4]){f+=u;continue}if((o[5]||o[6])&&s%3&&!((s+u)%3)){m+=u;continue}if(f-=u,f>0)continue;u=Math.min(u,u+f+m);const k=e.slice(0,s+o.index+(o[0].length-a.length)+u);if(Math.min(s,u)%2){const Q=k.slice(1,-1);return{type:"em",raw:k,text:Q,tokens:this.lexer.inlineTokens(Q)}}const A=k.slice(2,-2);return{type:"strong",raw:k,text:A,tokens:this.lexer.inlineTokens(A)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(/\n/g," ");const o=/[^ ]/.test(r),i=/^ /.test(r)&&/ $/.test(r);return o&&i&&(r=r.substring(1,r.length-1)),r=gi(r,!0),{type:"codespan",raw:t[0],text:r}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const r=this.rules.inline.autolink.exec(e);if(r){let o,i;return"@"===r[2]?(o=gi(this.options.mangle?t(r[1]):r[1]),i="mailto:"+o):(o=gi(r[1]),i=o),{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}url(e,t){let r;if(r=this.rules.inline.url.exec(e)){let o,i;if("@"===r[2])o=gi(this.options.mangle?t(r[0]):r[0]),i="mailto:"+o;else{let s;do{s=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(s!==r[0]);o=gi(r[0]),i="www."===r[1]?"http://"+r[0]:r[0]}return{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(e,t){const r=this.rules.inline.text.exec(e);if(r){let o;return o=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):gi(r[0]):r[0]:gi(this.options.smartypants?t(r[0]):r[0]),{type:"text",raw:r[0],text:o}}}}const Cn={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Pm,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Cn.def=Br(Cn.def).replace("label",Cn._label).replace("title",Cn._title).getRegex(),Cn.bullet=/(?:[*+-]|\d{1,9}[.)])/,Cn.listItemStart=Br(/^( *)(bull) */).replace("bull",Cn.bullet).getRegex(),Cn.list=Br(Cn.list).replace(/bull/g,Cn.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Cn.def.source+")").getRegex(),Cn._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Cn._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Cn.html=Br(Cn.html,"i").replace("comment",Cn._comment).replace("tag",Cn._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Cn.paragraph=Br(Cn._paragraph).replace("hr",Cn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Cn._tag).getRegex(),Cn.blockquote=Br(Cn.blockquote).replace("paragraph",Cn.paragraph).getRegex(),Cn.normal=Js({},Cn),Cn.gfm=Js({},Cn.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Cn.gfm.table=Br(Cn.gfm.table).replace("hr",Cn.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Cn._tag).getRegex(),Cn.gfm.paragraph=Br(Cn._paragraph).replace("hr",Cn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Cn.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Cn._tag).getRegex(),Cn.pedantic=Js({},Cn.normal,{html:Br("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Cn._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Pm,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Br(Cn.normal._paragraph).replace("hr",Cn.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Cn.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const Jt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Pm,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Pm,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function ZU(n){return n.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function Hk(n){let t,r,e="";const o=n.length;for(t=0;t<o;t++)r=n.charCodeAt(t),Math.random()>.5&&(r="x"+r.toString(16)),e+="&#"+r+";";return e}Jt._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Jt.punctuation=Br(Jt.punctuation).replace(/punctuation/g,Jt._punctuation).getRegex(),Jt.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Jt.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,Jt._comment=Br(Cn._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Jt.emStrong.lDelim=Br(Jt.emStrong.lDelim).replace(/punct/g,Jt._punctuation).getRegex(),Jt.emStrong.rDelimAst=Br(Jt.emStrong.rDelimAst,"g").replace(/punct/g,Jt._punctuation).getRegex(),Jt.emStrong.rDelimUnd=Br(Jt.emStrong.rDelimUnd,"g").replace(/punct/g,Jt._punctuation).getRegex(),Jt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Jt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Jt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Jt.autolink=Br(Jt.autolink).replace("scheme",Jt._scheme).replace("email",Jt._email).getRegex(),Jt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Jt.tag=Br(Jt.tag).replace("comment",Jt._comment).replace("attribute",Jt._attribute).getRegex(),Jt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Jt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Jt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Jt.link=Br(Jt.link).replace("label",Jt._label).replace("href",Jt._href).replace("title",Jt._title).getRegex(),Jt.reflink=Br(Jt.reflink).replace("label",Jt._label).replace("ref",Cn._label).getRegex(),Jt.nolink=Br(Jt.nolink).replace("ref",Cn._label).getRegex(),Jt.reflinkSearch=Br(Jt.reflinkSearch,"g").replace("reflink",Jt.reflink).replace("nolink",Jt.nolink).getRegex(),Jt.normal=Js({},Jt),Jt.pedantic=Js({},Jt.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Br(/^!?\[(label)\]\((.*?)\)/).replace("label",Jt._label).getRegex(),reflink:Br(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Jt._label).getRegex()}),Jt.gfm=Js({},Jt.normal,{escape:Br(Jt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Jt.gfm.url=Br(Jt.gfm.url,"i").replace("email",Jt.gfm._extended_email).getRegex(),Jt.breaks=Js({},Jt.gfm,{br:Br(Jt.br).replace("{2,}","*").getRegex(),text:Br(Jt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class ul{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Gu,this.options.tokenizer=this.options.tokenizer||new qv,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:Cn.normal,inline:Jt.normal};this.options.pedantic?(t.block=Cn.pedantic,t.inline=Jt.pedantic):this.options.gfm&&(t.block=Cn.gfm,t.inline=this.options.breaks?Jt.breaks:Jt.gfm),this.tokenizer.rules=t}static get rules(){return{block:Cn,inline:Jt}}static lex(e,t){return new ul(t).lex(e)}static lexInline(e,t){return new ul(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let r,o,i,s;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(a,u,f)=>u+"    ".repeat(f.length));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(r=a.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),1===r.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),o=t[t.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?t.push(r):(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),o=t[t.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title}):(o.raw+="\n"+r.raw,o.text+="\n"+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(i=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const u=e.slice(1);let f;this.options.extensions.startBlock.forEach(function(m){f=m.call({lexer:this},u),"number"==typeof f&&f>=0&&(a=Math.min(a,f))}),a<1/0&&a>=0&&(i=e.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){o=t[t.length-1],s&&"paragraph"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(r),s=i.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),o=t[t.length-1],o&&"text"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(r);continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let r,o,i,a,u,f,s=e;if(this.tokens.links){const m=Object.keys(this.tokens.links);if(m.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(s));)m.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+Uk("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,a.index)+"["+Uk("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.escapedEmSt.exec(s));)s=s.slice(0,a.index+a[0].length-2)+"++"+s.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(u||(f=""),u=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(m=>!!(r=m.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),o=t[t.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):t.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),o=t[t.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):t.push(r);continue}if(r=this.tokenizer.emStrong(e,s,f)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.autolink(e,Hk)){e=e.substring(r.raw.length),t.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e,Hk))){e=e.substring(r.raw.length),t.push(r);continue}if(i=e,this.options.extensions&&this.options.extensions.startInline){let m=1/0;const _=e.slice(1);let k;this.options.extensions.startInline.forEach(function(A){k=A.call({lexer:this},_),"number"==typeof k&&k>=0&&(m=Math.min(m,k))}),m<1/0&&m>=0&&(i=e.substring(0,m+1))}if(r=this.tokenizer.inlineText(i,ZU)){e=e.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(f=r.raw.slice(-1)),u=!0,o=t[t.length-1],o&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):t.push(r);continue}if(e){const m="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(m);break}throw new Error(m)}}return t}}class Wu{constructor(e){this.options=e||Gu}code(e,t,r){const o=(t||"").match(/\S*/)[0];if(this.options.highlight){const i=this.options.highlight(e,o);null!=i&&i!==e&&(r=!0,e=i)}return e=e.replace(/\n$/,"")+"\n",o?'<pre><code class="'+this.options.langPrefix+gi(o)+'">'+(r?e:gi(e,!0))+"</code></pre>\n":"<pre><code>"+(r?e:gi(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e){return e}heading(e,t,r,o){return this.options.headerIds?`<h${t} id="${this.options.headerPrefix+o.slug(r)}">${e}</h${t}>\n`:`<h${t}>${e}</h${t}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,r){const o=t?"ol":"ul";return"<"+o+(t&&1!==r?' start="'+r+'"':"")+">\n"+e+"</"+o+">\n"}listitem(e){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,r){if(null===(e=$k(this.options.sanitize,this.options.baseUrl,e)))return r;let o='<a href="'+e+'"';return t&&(o+=' title="'+t+'"'),o+=">"+r+"</a>",o}image(e,t,r){if(null===(e=$k(this.options.sanitize,this.options.baseUrl,e)))return r;let o=`<img src="${e}" alt="${r}"`;return t&&(o+=` title="${t}"`),o+=this.options.xhtml?"/>":">",o}text(e){return e}}class zk{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,r){return""+r}image(e,t,r){return""+r}br(){return""}}class Gk{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let r=e,o=0;if(this.seen.hasOwnProperty(r)){o=this.seen[e];do{o++,r=e+"-"+o}while(this.seen.hasOwnProperty(r))}return t||(this.seen[e]=o,this.seen[r]=0),r}slug(e,t={}){const r=this.serialize(e);return this.getNextSafeSlug(r,t.dryrun)}}class Ia{constructor(e){this.options=e||Gu,this.options.renderer=this.options.renderer||new Wu,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new zk,this.slugger=new Gk}static parse(e,t){return new Ia(t).parse(e)}static parseInline(e,t){return new Ia(t).parseInline(e)}parse(e,t=!0){let o,i,s,a,u,f,m,_,k,A,Q,Te,Ze,Ke,Ct,Ne,Ot,Sn,Gn,r="";const ms=e.length;for(o=0;o<ms;o++)if(A=e[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[A.type]&&(Gn=this.options.extensions.renderers[A.type].call({parser:this},A),!1!==Gn||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(A.type)))r+=Gn||"";else switch(A.type){case"space":continue;case"hr":r+=this.renderer.hr();continue;case"heading":r+=this.renderer.heading(this.parseInline(A.tokens),A.depth,Lk(this.parseInline(A.tokens,this.textRenderer)),this.slugger);continue;case"code":r+=this.renderer.code(A.text,A.lang,A.escaped);continue;case"table":for(_="",m="",a=A.header.length,i=0;i<a;i++)m+=this.renderer.tablecell(this.parseInline(A.header[i].tokens),{header:!0,align:A.align[i]});for(_+=this.renderer.tablerow(m),k="",a=A.rows.length,i=0;i<a;i++){for(f=A.rows[i],m="",u=f.length,s=0;s<u;s++)m+=this.renderer.tablecell(this.parseInline(f[s].tokens),{header:!1,align:A.align[s]});k+=this.renderer.tablerow(m)}r+=this.renderer.table(_,k);continue;case"blockquote":k=this.parse(A.tokens),r+=this.renderer.blockquote(k);continue;case"list":for(Q=A.ordered,Te=A.start,Ze=A.loose,a=A.items.length,k="",i=0;i<a;i++)Ct=A.items[i],Ne=Ct.checked,Ot=Ct.task,Ke="",Ct.task&&(Sn=this.renderer.checkbox(Ne),Ze?Ct.tokens.length>0&&"paragraph"===Ct.tokens[0].type?(Ct.tokens[0].text=Sn+" "+Ct.tokens[0].text,Ct.tokens[0].tokens&&Ct.tokens[0].tokens.length>0&&"text"===Ct.tokens[0].tokens[0].type&&(Ct.tokens[0].tokens[0].text=Sn+" "+Ct.tokens[0].tokens[0].text)):Ct.tokens.unshift({type:"text",text:Sn}):Ke+=Sn),Ke+=this.parse(Ct.tokens,Ze),k+=this.renderer.listitem(Ke,Ot,Ne);r+=this.renderer.list(k,Q,Te);continue;case"html":r+=this.renderer.html(A.text);continue;case"paragraph":r+=this.renderer.paragraph(this.parseInline(A.tokens));continue;case"text":for(k=A.tokens?this.parseInline(A.tokens):A.text;o+1<ms&&"text"===e[o+1].type;)A=e[++o],k+="\n"+(A.tokens?this.parseInline(A.tokens):A.text);r+=t?this.renderer.paragraph(k):k;continue;default:{const Gm='Token with "'+A.type+'" type was not found.';if(this.options.silent)return void console.error(Gm);throw new Error(Gm)}}return r}parseInline(e,t){t=t||this.renderer;let o,i,s,r="";const a=e.length;for(o=0;o<a;o++)if(i=e[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]&&(s=this.options.extensions.renderers[i.type].call({parser:this},i),!1!==s||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)))r+=s||"";else switch(i.type){case"escape":case"text":r+=t.text(i.text);break;case"html":r+=t.html(i.text);break;case"link":r+=t.link(i.href,i.title,this.parseInline(i.tokens,t));break;case"image":r+=t.image(i.href,i.title,i.text);break;case"strong":r+=t.strong(this.parseInline(i.tokens,t));break;case"em":r+=t.em(this.parseInline(i.tokens,t));break;case"codespan":r+=t.codespan(i.text);break;case"br":r+=t.br();break;case"del":r+=t.del(this.parseInline(i.tokens,t));break;default:{const u='Token with "'+i.type+'" type was not found.';if(this.options.silent)return void console.error(u);throw new Error(u)}}return r}}function In(n,e,t){if(typeof n>"u"||null===n)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof n)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");if("function"==typeof e&&(t=e,e=null),Vk(e=Js({},In.defaults,e||{})),t){const o=e.highlight;let i;try{i=ul.lex(n,e)}catch(u){return t(u)}const s=function(u){let f;if(!u)try{e.walkTokens&&In.walkTokens(i,e.walkTokens),f=Ia.parse(i,e)}catch(m){u=m}return e.highlight=o,u?t(u):t(null,f)};if(!o||o.length<3||(delete e.highlight,!i.length))return s();let a=0;return In.walkTokens(i,function(u){"code"===u.type&&(a++,setTimeout(()=>{o(u.text,u.lang,function(f,m){if(f)return s(f);null!=m&&m!==u.text&&(u.text=m,u.escaped=!0),a--,0===a&&s()})},0))}),void(0===a&&s())}function r(o){if(o.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+gi(o.message+"",!0)+"</pre>";throw o}try{const o=ul.lex(n,e);if(e.walkTokens){if(e.async)return Promise.all(In.walkTokens(o,e.walkTokens)).then(()=>Ia.parse(o,e)).catch(r);In.walkTokens(o,e.walkTokens)}return Ia.parse(o,e)}catch(o){r(o)}}In.options=In.setOptions=function(n){return Js(In.defaults,n),function RU(n){Gu=n}(In.defaults),In},In.getDefaults=function Rk(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},In.defaults=Gu,In.use=function(...n){const e=In.defaults.extensions||{renderers:{},childTokens:{}};n.forEach(t=>{const r=Js({},t);if(r.async=In.defaults.async||r.async,t.extensions&&(t.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if(o.renderer){const i=e.renderers[o.name];e.renderers[o.name]=i?function(...s){let a=o.renderer.apply(this,s);return!1===a&&(a=i.apply(this,s)),a}:o.renderer}if(o.tokenizer){if(!o.level||"block"!==o.level&&"inline"!==o.level)throw new Error("extension level must be 'block' or 'inline'");e[o.level]?e[o.level].unshift(o.tokenizer):e[o.level]=[o.tokenizer],o.start&&("block"===o.level?e.startBlock?e.startBlock.push(o.start):e.startBlock=[o.start]:"inline"===o.level&&(e.startInline?e.startInline.push(o.start):e.startInline=[o.start]))}o.childTokens&&(e.childTokens[o.name]=o.childTokens)}),r.extensions=e),t.renderer){const o=In.defaults.renderer||new Wu;for(const i in t.renderer){const s=o[i];o[i]=(...a)=>{let u=t.renderer[i].apply(o,a);return!1===u&&(u=s.apply(o,a)),u}}r.renderer=o}if(t.tokenizer){const o=In.defaults.tokenizer||new qv;for(const i in t.tokenizer){const s=o[i];o[i]=(...a)=>{let u=t.tokenizer[i].apply(o,a);return!1===u&&(u=s.apply(o,a)),u}}r.tokenizer=o}if(t.walkTokens){const o=In.defaults.walkTokens;r.walkTokens=function(i){let s=[];return s.push(t.walkTokens.call(this,i)),o&&(s=s.concat(o.call(this,i))),s}}In.setOptions(r)})},In.walkTokens=function(n,e){let t=[];for(const r of n)switch(t=t.concat(e.call(In,r)),r.type){case"table":for(const o of r.header)t=t.concat(In.walkTokens(o.tokens,e));for(const o of r.rows)for(const i of o)t=t.concat(In.walkTokens(i.tokens,e));break;case"list":t=t.concat(In.walkTokens(r.items,e));break;default:In.defaults.extensions&&In.defaults.extensions.childTokens&&In.defaults.extensions.childTokens[r.type]?In.defaults.extensions.childTokens[r.type].forEach(function(o){t=t.concat(In.walkTokens(r[o],e))}):r.tokens&&(t=t.concat(In.walkTokens(r.tokens,e)))}return t},In.parseInline=function(n,e){if(typeof n>"u"||null===n)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof n)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");Vk(e=Js({},In.defaults,e||{}));try{const t=ul.lexInline(n,e);return e.walkTokens&&In.walkTokens(t,e.walkTokens),Ia.parseInline(t,e)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+gi(t.message+"",!0)+"</pre>";throw t}},In.Parser=Ia,In.parser=Ia.parse,In.Renderer=Wu,In.TextRenderer=zk,In.Lexer=ul,In.lexer=ul.lex,In.Tokenizer=qv,In.Slugger=Gk,In.parse=In;class qU extends z{constructor(e,t){super()}schedule(e,t=0){return this}}const Fm={setInterval(n,e,...t){const{delegate:r}=Fm;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Fm;return(e?.clearInterval||clearInterval)(n)},delegate:void 0},Kv={now:()=>(Kv.delegate||Date).now(),delegate:void 0};class Kf{constructor(e,t=Kf.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Kf.now=Kv.now;const Wk=new class YU extends Kf{constructor(e,t=Kf.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}(class KU extends qU{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const o=this.id,i=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(i,o,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return Fm.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Fm.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let o,r=!1;try{this.work(e)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,te(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}),XU=Wk;function Zk(n=0,e,t=XU){let r=-1;return null!=e&&(wo(e)?t=e:r=e),new vt(o=>{let i=function QU(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;i<0&&(i=0);let s=0;return t.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}class JU extends nt{constructor(e=1/0,t=1/0,r=Kv){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;t||(r.push(e),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!e.closed;s+=r?1:2)e.next(i[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*e;if(e<1/0&&i<r.length&&r.splice(0,r.length-i),!o){const s=t.now();let a=0;for(let u=1;u<r.length&&r[u]<=s;u+=2)a=u;a&&r.splice(0,a+1)}}}const nj=["*"];let Yv=(()=>{class n{constructor(){this._buttonClick$=new nt,this.copied$=this._buttonClick$.pipe(pi(()=>ui(_n(!0),Zk(3e3).pipe(gv(!1)))),lk(),function ej(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,ys({connector:()=>new JU(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(1)),this.copiedText$=this.copied$.pipe(K1(!1),Pe(t=>t?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Xe({type:n,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(t,r){1&t&&(se(0,"button",0),at("click",function(){return r.onCopyToClipboardClick()}),ya(1,"async"),qe(2),ya(3,"async"),J()),2&t&&(qa("copied",_a(1,3,r.copied$)),et(2),Es(_a(3,5,r.copiedText$)))},dependencies:[XE],encapsulation:2,changeDetection:0}),n})();class ij{}var Yf=(()=>{return(n=Yf||(Yf={})).CommandLine="command-line",n.LineHighlight="line-highlight",n.LineNumbers="line-numbers",Yf;var n})();class qk{}const Kk=new sn("SECURITY_CONTEXT");let Xv=(()=>{class n{constructor(t,r,o,i,s,a){this.platform=t,this.securityContext=r,this.http=o,this.clipboardOptions=i,this.sanitizer=a,this.DEFAULT_MARKED_OPTIONS={renderer:new Wu},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:this.DEFAULT_MARKED_OPTIONS,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new nt,this.reload$=this._reload$.asObservable(),this.options=s}get options(){return this._options}set options(t){this._options={...this.DEFAULT_MARKED_OPTIONS,...t}}get renderer(){return this.options.renderer}set renderer(t){this.options.renderer=t}parse(t,r=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:o,inline:i,emoji:s,mermaid:a,disableSanitizer:u}=r,f={...this.options,...r.markedOptions};a&&(this.renderer=this.extendRenderer(f.renderer||new Wu));const m=this.trimIndentation(t),_=o?this.decodeHtml(m):m,k=s?this.parseEmoji(_):_,A=this.parseMarked(k,f,i);return(u?A:this.sanitizer.sanitize(this.securityContext,A))||""}render(t,r=this.DEFAULT_RENDER_OPTIONS,o){const{clipboard:i,clipboardOptions:s,katex:a,katexOptions:u,mermaid:f,mermaidOptions:m}=r;i&&this.renderClipboard(t,o,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...s}),a&&this.renderKatex(t,{...this.DEFAULT_KATEX_OPTIONS,...u}),f&&this.renderMermaid(t,{...this.DEFAULT_MERMAID_OPTIONS,...m}),this.highlight(t)}reload(){this._reload$.next()}getSource(t){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(t,{responseType:"text"}).pipe(Pe(r=>this.handleExtension(t,r)))}highlight(t){if(!Ml(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;t||(t=document);const r=t.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(r,o=>o.classList.add("language-none")),Prism.highlightAllUnder(t)}decodeHtml(t){if(!Ml(this.platform))return t;const r=document.createElement("textarea");return r.innerHTML=t,r.value}extendRenderer(t){const r=t;if(!0===r.\u0275NgxMarkdownRendererExtended)return t;const o=t.code;return t.code=function(i,s,a){return"mermaid"===s?`<div class="mermaid">${i}</div>`:o.call(this,i,s,a)},r.\u0275NgxMarkdownRendererExtended=!0,t}handleExtension(t,r){const o=t.lastIndexOf("://"),i=o>-1?t.substring(o+4):t,s=i.lastIndexOf("/"),a=s>-1?i.substring(s+1).split("?")[0]:"",u=a.lastIndexOf("."),f=u>-1?a.substring(u+1):"";return f&&"md"!==f?"```"+f+"\n"+r+"\n```":r}parseMarked(t,r,o=!1){return o?In.parseInline(t,r):In.parse(t,r)}parseEmoji(t){if(!Ml(this.platform))return t;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(t)}renderKatex(t,r){if(Ml(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(t,r)}}renderClipboard(t,r,o){if(!Ml(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!r)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:i,buttonTemplate:s}=o,a=t.querySelectorAll("pre");for(let u=0;u<a.length;u++){const f=a.item(u),m=document.createElement("div");m.style.position="relative",f.parentNode.insertBefore(m,f),m.appendChild(f);const _=document.createElement("div");let k,A;_.style.position="absolute",_.style.top=".5em",_.style.right=".5em",_.style.opacity="0",_.style.transition="opacity 250ms ease-out",m.insertAdjacentElement("beforeend",_),f.onmouseover=()=>_.style.opacity="1",f.onmouseout=()=>_.style.opacity="0",k=i?r.createComponent(i).hostView:s?r.createEmbeddedView(s):r.createComponent(Yv).hostView,k.rootNodes.forEach(Q=>{Q.onmouseover=()=>_.style.opacity="1",_.appendChild(Q),A=new ClipboardJS(Q,{text:()=>f.innerText})}),k.onDestroy(()=>A.destroy())}}renderMermaid(t,r=this.DEFAULT_MERMAID_OPTIONS){if(!Ml(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.init>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const o=t.querySelectorAll(".mermaid");0!==o.length&&(mermaid.initialize(r),mermaid.init(o))}trimIndentation(t){if(!t)return"";let r;return t.split("\n").map(o=>{let i=r;return o.length>0&&(i=isNaN(i)?o.search(/\S|$/):Math.min(o.search(/\S|$/),i)),isNaN(r)&&(r=i),i?o.substring(i):o}).join("\n")}}return n.\u0275fac=function(t){return new(t||n)(ne(Su),ne(Kk),ne(H_,8),ne(ij,8),ne(qk,8),ne($_))},n.\u0275prov=yt({token:n,factory:n.\u0275fac}),n})(),Qv=(()=>{class n{constructor(t,r,o){this.element=t,this.markdownService=r,this.viewContainerRef=o,this.error=new kn,this.load=new kn,this.ready=new kn,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this._srcRelativeLink=!1,this.destroyed$=new nt}get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(t){this._disableSanitizer=this.coerceBooleanProperty(t)}get inline(){return this._inline}set inline(t){this._inline=this.coerceBooleanProperty(t)}get srcRelativeLink(){return this._srcRelativeLink}set srcRelativeLink(t){this._srcRelativeLink=this.coerceBooleanProperty(t)}get clipboard(){return this._clipboard}set clipboard(t){this._clipboard=this.coerceBooleanProperty(t)}get emoji(){return this._emoji}set emoji(t){this._emoji=this.coerceBooleanProperty(t)}get katex(){return this._katex}set katex(t){this._katex=this.coerceBooleanProperty(t)}get mermaid(){return this._mermaid}set mermaid(t){this._mermaid=this.coerceBooleanProperty(t)}get lineHighlight(){return this._lineHighlight}set lineHighlight(t){this._lineHighlight=this.coerceBooleanProperty(t)}get lineNumbers(){return this._lineNumbers}set lineNumbers(t){this._lineNumbers=this.coerceBooleanProperty(t)}get commandLine(){return this._commandLine}set commandLine(t){this._commandLine=this.coerceBooleanProperty(t)}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(function tj(n){return q((e,t)=>{On(n).subscribe(_e(t,()=>t.complete(),B)),!t.closed&&e.subscribe(t)})}(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(t,r=!1){let o;this.src&&this.srcRelativeLink&&(o={baseUrl:new URL(this.src,location.origin).pathname});const s={clipboard:this.clipboard,clipboardOptions:{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate},katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},a=this.markdownService.parse(t,{decodeHtml:r,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid,markedOptions:o,disableSanitizer:this.disableSanitizer});this.element.nativeElement.innerHTML=a,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,s,this.viewContainerRef),this.ready.emit()}coerceBooleanProperty(t){return null!=t&&"false"!=`${String(t)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:t=>{this.render(t),this.load.emit(t)},error:t=>this.error.emit(t)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,Yf.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,Yf.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(t,r){const o=t.querySelectorAll("pre");for(let i=0;i<o.length;i++){const s=r instanceof Array?r:[r];o.item(i).classList.add(...s)}}setPluginOptions(t,r){const o=t.querySelectorAll("pre");for(let i=0;i<o.length;i++)Object.keys(r).forEach(s=>{const a=r[s];if(a){const u=this.toLispCase(s);o.item(i).setAttribute(u,a.toString())}})}toLispCase(t){const r=t.match(/([A-Z])/g);if(!r)return t;let o=t.toString();for(let i=0,s=r.length;i<s;i++)o=o.replace(new RegExp(r[i]),"-"+r[i].toLowerCase());return"-"===o.slice(0,1)&&(o=o.slice(1)),o}}return n.\u0275fac=function(t){return new(t||n)(w(_t),w(Xv),w(Ai))},n.\u0275cmp=Xe({type:n,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",srcRelativeLink:"srcRelativeLink",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[Ao],ngContentSelectors:nj,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),At(0))},encapsulation:2}),n})(),Jv=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[Xv,t&&t.loader||[],t&&t.clipboardOptions||[],t&&t.markedOptions||[],{provide:Kk,useValue:t&&null!=t.sanitize?t.sanitize:$r.HTML}]}}static forChild(){return{ngModule:n}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=M({type:n}),n.\u0275inj=gr({imports:[wa]}),n})();var Yk;!function(n){let e;var o;let t,r;(o=e=n.SecurityLevel||(n.SecurityLevel={})).Strict="strict",o.Loose="loose",o.Antiscript="antiscript",o.Sandbox="sandbox",function(o){o.Base="base",o.Forest="forest",o.Dark="dark",o.Default="default",o.Neutral="neutral"}(t=n.Theme||(n.Theme={})),function(o){o[o.Debug=1]="Debug",o[o.Info=2]="Info",o[o.Warn=3]="Warn",o[o.Error=4]="Error",o[o.Fatal=5]="Fatal"}(r=n.LogLevel||(n.LogLevel={}))}(Yk||(Yk={}));var he=P(3918);const pj="safari"in window,Xk=!navigator.userAgent.match(/(crios)|(fxios)/i),ea=!!navigator.platform.match(/iPhone|iPad|iPod/)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,Qk=!!navigator.userAgent.match(/android/i),hj=navigator.userAgent.toLowerCase().indexOf("firefox")>=0;var Bl=(()=>{return(n=Bl||(Bl={})).web="web",n.pwa="pwa",n.twa="twa",Bl;var n})();new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked");const yj=new Error("request for lock canceled");class vj{constructor(e,t=yj){this._value=e,this._cancelError=t,this._weightedQueues=[],this._weightedWaiters=[]}acquire(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise((t,r)=>{this._weightedQueues[e-1]||(this._weightedQueues[e-1]=[]),this._weightedQueues[e-1].push({resolve:t,reject:r}),this._dispatch()})}runExclusive(e,t=1){return function(n,e,t,r){return new(t||(t=Promise))(function(i,s){function a(m){try{f(r.next(m))}catch(_){s(_)}}function u(m){try{f(r.throw(m))}catch(_){s(_)}}function f(m){m.done?i(m.value):function o(i){return i instanceof t?i:new t(function(s){s(i)})}(m.value).then(a,u)}f((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){const[r,o]=yield this.acquire(t);try{return yield e(r)}finally{o()}})}waitForUnlock(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise(t=>{this._weightedWaiters[e-1]||(this._weightedWaiters[e-1]=[]),this._weightedWaiters[e-1].push(t),this._dispatch()})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(e){this._value=e,this._dispatch()}release(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);this._value+=e,this._dispatch()}cancel(){this._weightedQueues.forEach(e=>e.forEach(t=>t.reject(this._cancelError))),this._weightedQueues=[]}_dispatch(){var e;for(let t=this._value;t>0;t--){const r=null===(e=this._weightedQueues[t-1])||void 0===e?void 0:e.shift();if(!r)continue;const o=this._value,i=t;this._value-=t,t=this._value+1,r.resolve([o,this._newReleaser(i)])}this._drainUnlockWaiters()}_newReleaser(e){let t=!1;return()=>{t||(t=!0,this.release(e))}}_drainUnlockWaiters(){for(let e=this._value;e>0;e--)this._weightedWaiters[e-1]&&(this._weightedWaiters[e-1].forEach(t=>t()),this._weightedWaiters[e-1]=[])}}class ka{constructor(e){this._semaphore=new vj(1,e)}acquire(){return n=this,e=void 0,r=function*(){const[,e]=yield this._semaphore.acquire();return e},new((t=void 0)||(t=Promise))(function(i,s){function a(m){try{f(r.next(m))}catch(_){s(_)}}function u(m){try{f(r.throw(m))}catch(_){s(_)}}function f(m){m.done?i(m.value):function o(i){return i instanceof t?i:new t(function(s){s(i)})}(m.value).then(a,u)}f((r=r.apply(n,e||[])).next())});var n,e,t,r}runExclusive(e){return this._semaphore.runExclusive(()=>e())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const Om="cloudpilot-session-preview";function eM(){localStorage.removeItem(Om)}function yo(){return(n,e,t)=>{const r=t.value;let o=!1;return t.value=(0,he.Z)(function*(){if(!o){o=!0;try{return yield r.apply(this,arguments)}finally{o=!1}}}),t}}class hs{constructor(){}getCurrentSession(){return this.currentSession}setCurrentSession(e){this.currentSession=e}}hs.\u0275fac=function(e){return new(e||hs)},hs.\u0275prov=yt({token:hs,factory:hs.\u0275fac,providedIn:"root"});class zr{constructor(e,t){this.alertController=e,this.emulationState=t,this.emergencySaveEvent=new ii.j}errorMessage(e){var t=this;return(0,he.Z)(function*(){yield(yield t.alertController.create({header:"Error",backdropDismiss:!1,message:e,buttons:[{text:"Close",role:"cancel"}]})).present()})()}message(e,t,r={},o="Close"){var i=this;return(0,he.Z)(function*(){const s=yield i.alertController.create({header:e,message:t,backdropDismiss:!1,buttons:[...Object.keys(r).map(a=>({text:a,handler:()=>{r[a](),s.dismiss()}})),{text:o,role:"cancel"}]});yield s.present(),yield s.onDidDismiss()})()}updateAvailable(){var e=this;return(0,he.Z)(function*(){const t=yield e.alertController.create({header:"Update available",message:"An update is available. Please close CloudpilotEmu and reload in order to update.",backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()},{text:"Close",role:"cancel"}]});yield t.present(),yield t.onDidDismiss()})()}fatalError(e,t=!0){var r=this;return(0,he.Z)(function*(){const o=!!r.emulationState.getCurrentSession(),i=yield r.alertController.create({header:"Error",message:`\n                ${e}\n                <br/><br/>\n                Please close or reload this window.\n                ${o&&t?" You may save an image of your current session before reloading.":""}\n            `,backdropDismiss:!1,buttons:[...o&&t?[{text:"Save image",handler:()=>(r.emergencySaveEvent.dispatch(),!1)}]:[],{text:"Reload",handler:()=>window.location.reload()}],cssClass:"fatal-error"});yield i.present(),yield i.onDidDismiss()})()}errorInNativeCode(e){var t=this;return(0,he.Z)(function*(){const r=yield t.alertController.create({header:"Error",message:`\n                You encountered a bug in CloudpilotEmu:\n                <br/><br/>\n                ${e}.\n                <br/><br/>\n                Please close or reload this window.\n            `,backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()}]});yield r.present(),yield r.onDidDismiss()})()}proxyVersionMismatchError(){return this.errorMessage("\n            Server version does not match CloudpilotEmu. Please make sure that you are using the latest\n            versions of CloudpilotEmu and of the server.\n        ")}cardHasNoValidFileSystem(){return this.message("No filesystem","This card does not contain a valid filesystem.",{},"Continue")}cardHasUncorrectableErrors(){return this.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors.",{},"Continue")}cardIsClean(){return this.message("Card clean","No filesystem errors were found.",{},"Continue")}}zr.\u0275fac=function(e){return new(e||zr)(ne(zu),ne(hs))},zr.\u0275prov=yt({token:zr,factory:zr.\u0275fac,providedIn:"root"}),G([yo()],zr.prototype,"updateAvailable",null),G([yo()],zr.prototype,"fatalError",null),G([yo()],zr.prototype,"errorInNativeCode",null);class $s{constructor(e,t){this.alertService=e,this.ngZone=t,this.fatalPageLockLost=()=>this.fatalWithMessage("CloudpilotEmu was opened in another tab or window.",!1),this.fatalIDBDead=()=>this.fatalWithMessage("IndexedDB access failed. This is most likely a browser bug.",!1),this.fatalVersionMismatch=()=>this.fatalWithMessage("\n        Database was written by a newer version of CloudpilotEmu. Please wait for a few seconds before reloading\n        while the latest version downloads in the background.\n    ",!1),this.fatalBug=r=>this.fatalWithMessage(`You encountered a bug in CloudpilotEmu:<br/><br/>${r}.`),this.fatalInNativeCode=r=>this.fatalWithMessage(r.message,!0,!1),this.fatalWithMessage=(r,o=!0,i=!0)=>this.ngZone.run(()=>{this.fatalErrorTriggered||(this.fatalErrorTriggered=!0,o&&eM(),this.fatalErrorEvent.dispatch(),this.alertService.fatalError(r,i))}),this.fatalErrorEvent=new ii.j,this.fatalErrorTriggered=!1}hasFatalError(){return this.fatalErrorTriggered}}$s.\u0275fac=function(e){return new(e||$s)(ne(zr),ne(ft))},$s.\u0275prov=yt({token:$s,factory:$s.\u0275fac,providedIn:"root"});var Gr=(()=>{return(n=Gr||(Gr={})).cloudpilot="cloudpilot",n.fstools="fstools",n.vfs="vfs",n.none="none",Gr;var n})();class Ma{constructor(e){this.errorService=e,this.ownershipMmap=new Map}getOwner(e){return this.ownershipMmap.get(e)??Gr.none}claim(e,t){this.assertOwnership(e,Gr.none),this.ownershipMmap.set(e,t)}release(e,t){this.assertOwnership(e,t),this.ownershipMmap.delete(e)}assertOwnership(e,t){if(this.getOwner(e)===t)return;const r=t===Gr.none?`Card alread claimed for ${this.getOwner(e)}.`:`Expected card ownership to be ${t}, but is ${this.getOwner(e)}.`;throw this.errorService.fatalBug(r),new Error(r)}transferOwnership(e,t,r){this.assertOwnership(e,t),this.ownershipMmap.set(e,r)}}Ma.\u0275fac=function(e){return new(e||Ma)(ne($s))},Ma.\u0275prov=yt({token:Ma,factory:Ma.\u0275fac,providedIn:"root"});const Ul="session",Zu="rom",jl="memory",dl="state",Nm="kvs",Hl="memory-meta",Ta="storage",Ts="storage-card",Xf="lock";class qu extends Error{constructor(e){super(e)}}function ar(n){return new Promise((e,t)=>{!function Ij(n){return!!n.abort}(n)?n.onsuccess=()=>e(n.result):n.oncomplete=()=>e(void 0),n.onerror=()=>t(new qu(n.error?.message))})}function nM(n){let e=255&n[0];e|=e<<8,e|=e<<16;for(let t=1;t<256;t++)if(n[t]!==e)return n;return 255&n[0]}function kj(n){const e=n[0];for(let t=1;t<2048;t++)if(n[t]!==e)return n;return e}const Lm="session",t0="memory",Tj="memory-meta",Aj="storage",oM="storage-meta",iM="storage-card",Pj="storageId";function n0(){return(n0=(0,he.Z)(function*(n,e){function t(i){switch(i){case"PalmIIIc":case"PalmM505":case"PalmM515":return 81920;case"PalmI710":case"PalmM130":return 262144;default:return 0}}if(!e)throw new Error("no version change transaction!");const o=e.objectStore(Lm).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const u=a.value,f={...u,totalMemory:1024*u.ram*1024+t(u.device)};a.update(f),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function r0(){return(r0=(0,he.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");const t=e.objectStore("kvs"),r=yield new Promise((o,i)=>{const s=t.get("proxyCredentials");s.onsuccess=()=>o(s.result),s.onerror=()=>i(new Error(s.error?.message))});r&&(t.put(r,"credentials"),t.delete("proxyCredentials"))})).apply(this,arguments)}function o0(){return(o0=(0,he.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");const t=n.createObjectStore(Tj,{keyPath:"sessionId"});n.createObjectStore(Aj),n.createObjectStore(oM,{keyPath:"id",autoIncrement:!0});const o=e.objectStore(Lm).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const u=a.value;void 0!==u.totalMemory&&(t.put({sessionId:u.id,totalSize:u.totalMemory}),delete u.totalMemory,a.update(u)),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function s0(){return(s0=(0,he.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");e.objectStore(oM).name=iM})).apply(this,arguments)}function a0(){return(a0=(0,he.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");e.objectStore(iM).createIndex(Pj,"storageId")})).apply(this,arguments)}function l0(){return(l0=(0,he.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");n.createObjectStore("lock")})).apply(this,arguments)}var Uj=P(5023),jj=P.n(Uj);const sM={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let $m;const Hj=new Uint8Array(16);function zj(){if(!$m&&($m=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!$m))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $m(Hj)}const yi=[];for(let n=0;n<256;++n)yi.push((n+256).toString(16).slice(1));const c0=function Gj(n,e,t){if(sM.randomUUID&&!e&&!n)return sM.randomUUID();const r=(n=n||{}).random||(n.rng||zj)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){t=t||0;for(let o=0;o<16;++o)e[t+o]=r[o];return e}return function aM(n,e=0){return(yi[n[e+0]]+yi[n[e+1]]+yi[n[e+2]]+yi[n[e+3]]+"-"+yi[n[e+4]]+yi[n[e+5]]+"-"+yi[n[e+6]]+yi[n[e+7]]+"-"+yi[n[e+8]]+yi[n[e+9]]+"-"+yi[n[e+10]]+yi[n[e+11]]+yi[n[e+12]]+yi[n[e+13]]+yi[n[e+14]]+yi[n[e+15]]).toLowerCase()}(r)},u0=new Error("page lock lost"),lM=new Error("version mismatch"),cM=c0();function _o(){return(n,e,t)=>{const r=t.value;return t.value=(0,he.Z)(function*(){const o=this.errorService;try{return yield r.apply(this,arguments)}catch(i){throw i instanceof qu?o.fatalIDBDead():i===lM?o.fatalVersionMismatch():i===u0?o.fatalPageLockLost():o.fatalBug(i?.message),i}}),t}}class Xn{constructor(e,t,r){this.ngZone=e,this.errorService=t,this.storageCardContext=r,this.saveMemory=(o,i,s)=>this.ngZone.runOutsideAngular(()=>{const a=o.objectStore(jl),u=o.objectStore(Hl),f=new Uint32Array(256),m=new Uint8Array(f.buffer);a.delete(IDBKeyRange.bound([i,0],[i+1,0],!1,!0)),u.put({sessionId:i,totalSize:s.length});const k=s.length>>>10;for(let A=0;A<k;A++){m.set(s.subarray(1024*A,1024*(A+1)));const Q=nM(f);if("number"==typeof Q)a.put(Q,[i,A]);else{const Te=new Uint32Array(256);Te.set(Q),a.put(Te,[i,A])}}}),this.loadMemory=(o,i)=>this.ngZone.runOutsideAngular((0,he.Z)(function*(){const s=o.objectStore(Hl),a=yield ar(s.get(i));if(a)return new Promise(function(){var u=(0,he.Z)(function*(f,m){const _=o.objectStore(jl),k=new Uint32Array(a.totalSize>>>2),A=_.openCursor(IDBKeyRange.bound([i,0],[i+1,0],!1,!0));A.onsuccess=()=>{const Q=A.result;if(!Q)return f(new Uint8Array(k.buffer));const Te=Q.value,[,Ze]=Q.key;"number"==typeof Te?k.subarray(256*Ze,256*(Ze+1)).fill(Te|Te<<8|Te<<16|Te<<24):k.subarray(256*Ze,256*(Ze+1)).set(1024===Te.length?new Uint32Array(Te.buffer):Te),Q.continue()},A.onerror=()=>m(new qu(A.error?.message))});return function(f,m){return u.apply(this,arguments)}}())})),this.sessionChangeEvent=new ii.j,this.storageCardChangeEvent=new ii.j,this.sessionUpdateMutex=new ka,this.db=this.requestPersistentStorage().then(()=>e.runOutsideAngular(()=>this.setupDb()))}getDb(){return this.db}addSession(e,t,r,o){var i=this;return(0,he.Z)(function*(){const s=jj()(t),a=yield i.newTransaction(Ul,Zu,dl,jl,Hl),u=a.objectStore(Ul),f=a.objectStore(Zu);(yield ar(f.get(s)))||f.put(t,s);const{id:_,...k}=e,A=yield ar(u.add({...k,rom:s})),Q=yield ar(u.get(A));return r&&i.saveMemory(a,Q.id,r),o&&i.saveState(a,Q.id,o),yield ar(a),Q})()}getAllSessions(){var e=this;return(0,he.Z)(function*(){const[t]=yield e.prepareObjectStore(Ul);return yield ar(t.getAll())})()}getSession(e){var t=this;return(0,he.Z)(function*(){const[r]=yield t.prepareObjectStore(Ul);return yield ar(r.get(e))})()}deleteSession(e){var t=this;return(0,he.Z)(function*(){const r=yield t.newTransaction(Ul,Zu,dl,jl,Hl),o=r.objectStore(Ul),i=r.objectStore(Zu);(e=yield ar(o.get(e.id)))&&(o.delete(e.id),0===(yield ar(o.index("rom").getAll(e.rom))).length&&i.delete(e.rom),t.deleteMemory(r,e.id),t.deleteState(r,e.id),yield ar(r),t.sessionChangeEvent.dispatch([e.id,void 0]))})()}updateSessionPartial(e,t){var r=this;return this.sessionUpdateMutex.runExclusive((0,he.Z)(function*(){const{id:o,rom:i,ram:s,device:a,...u}=t,[f,m]=yield r.prepareObjectStore(Ul),_=yield ar(f.get(e));if(!_)throw new Error(`no session with id ${e}`);const k={..._,...u};f.put(k),yield ar(m),r.sessionChangeEvent.dispatch([_.id,k])}))}updateSession(e){var t=this;return this.sessionUpdateMutex.runExclusive((0,he.Z)(function*(){const[r,o]=yield t.prepareObjectStore(Ul),i=yield ar(r.get(e.id));if(!i)throw new Error(`no session with id ${e.id}`);if(i.rom!==e.rom)throw new Error("attempt to change ROM reference");if(i.ram!==e.ram)throw new Error("attempt to change RAM size");if(i.device!==e.device)throw new Error("attempt to change device type");r.put(e),yield ar(o),t.sessionChangeEvent.dispatch([e.id,e])}))}loadSession(e){var t=this;return(0,he.Z)(function*(){const r=yield t.newTransaction(Zu,dl,jl,Hl),o=r.objectStore(Zu);return[yield ar(o.get(e.rom)),yield t.loadMemory(r,e.id),yield t.loadState(r,e.id)]})()}deleteStateForSession(e){var t=this;return(0,he.Z)(function*(){const[r,o]=yield t.prepareObjectStore(dl);r.delete(e.id),yield ar(o)})()}addEmptyStorageCard(e){var t=this;return(0,he.Z)(function*(){const[r]=yield t.prepareObjectStore(Ts),o=yield ar(r.add(e)),i=yield ar(r.get(o));return t.storageCardChangeEvent.dispatch(i.id),i})()}importStorageCard(e,t){var r=this;return(0,he.Z)(function*(){return r.ngZone.runOutsideAngular((0,he.Z)(function*(){const o=yield r.newTransaction(Ts,Ta),i=o.objectStore(Ts),s=o.objectStore(Ta),a=yield ar(i.add(e)),u=(e.size>>>13)+(t.length%8192==0?0:1),f=new Uint32Array(2048);for(let _=0;_<u;_++){const k=t.subarray(2048*_,2048*(_+1));_===u-1&&f.set(k);const A=kj(_===u-1?f:k);0!==A&&s.put("number"==typeof A?A:A?.slice(),[a,_])}const m=yield ar(i.get(a));return yield ar(o),r.storageCardChangeEvent.dispatch(m.id),m}))})()}getAllStorageCards(){var e=this;return(0,he.Z)(function*(){const[t]=yield e.prepareObjectStore(Ts);return ar(t.getAll())})()}getCard(e){var t=this;return(0,he.Z)(function*(){const[r]=yield t.prepareObjectStore(Ts);return ar(r.get(e))})()}updateStorageCardPartial(e,t){var r=this;return(0,he.Z)(function*(){const{storageId:o,size:i,id:s,...a}=t,[u,f]=yield r.prepareObjectStore(Ts),m=yield ar(u.get(e));if(!m)throw new Error(`no card with id ${e}`);const _={...m,...a};u.put(_),yield ar(f),r.storageCardChangeEvent.dispatch(e)})()}deleteStorageCard(e){var t=this;return(0,he.Z)(function*(){const r=yield t.newTransaction(Ts,Ta);t.storageCardContext.assertOwnership(e,Gr.none);const o=r.objectStore(Ts),i=r.objectStore(Ta);o.delete(e),i.delete(IDBKeyRange.bound([e,0],[e+1,0],!1,!0)),yield ar(r),t.storageCardChangeEvent.dispatch(e)})()}loadCardData(e,t,r){var o=this;return this.ngZone.runOutsideAngular((0,he.Z)(function*(){const i=yield o.newTransaction(Ts,Ta);o.storageCardContext.assertOwnership(e,r);const s=i.objectStore(Ta);yield new Promise(function(){var a=(0,he.Z)(function*(u,f){const m=s.openCursor(IDBKeyRange.bound([e,0],[e+1,0],!1,!0));m.onsuccess=()=>{const _=m.result;if(!_)return u();let k=_.value;const[,A]=_.key;"number"==typeof k?t.subarray(2048*A,2048*(A+1)).fill(k):(2048*(A+1)>t.length&&(k=k.subarray(0,2048-2048*(A+1)+t.length)),t.subarray(2048*A,2048*(A+1)).set(k)),_.continue()},m.onerror=()=>f(new qu(m.error?.message))});return function(u,f){return a.apply(this,arguments)}}())}))}updateCardData(e,t,r,o){var i=this;return this.ngZone.runOutsideAngular((0,he.Z)(function*(){const s=yield i.newTransaction(Ts,Ta);i.storageCardContext.assertOwnership(e,o);const a=s.objectStore(Ts),u=s.objectStore(Ta),f=yield ar(a.get(e));if(!f)throw new Error(`no card with ID ${e}`);if(t.length!==f.size>>>2)throw new Error("data size mismatch");const m=(f.size>>>13)+(f.size%8192>0?1:0);if((m>>>3)+(m%8>0?1:0)!==r.length)throw new Error("dirty pages size mismatch");let _=0;for(let k=0;k<r.length;k++)for(let A=1;A<256&&!(_>=m);A<<=1)r[k]&A&&u.put(t.subarray(2048*_,2048*(_+1)).slice(),[f.id,_]),_++;yield ar(s)}))}kvsGet(e){var t=this;return(0,he.Z)(function*(){const[r]=yield t.prepareObjectStore(Nm);return ar(r.get(e))})()}kvsSet(e){var t=this;return(0,he.Z)(function*(){const[r,o]=yield t.prepareObjectStore(Nm);for(const i of Object.keys(e))r.put(e[i],i);yield ar(o)})()}kvsLoad(){var e=this;return(0,he.Z)(function*(){const[t]=yield e.prepareObjectStore(Nm);return new Promise((r,o)=>{const i={},s=t.openCursor();s.onsuccess=()=>{const a=s.result;if(!a)return r(i);i[a.key]=a.value,a.continue()},s.onerror=()=>o(new qu(s.error?.message))})})()}kvsDelete(e){var t=this;return(0,he.Z)(function*(){const[r,o]=yield t.prepareObjectStore(Nm);r.delete(e),yield ar(o)})()}acquireLock(e){var t=this;return(0,he.Z)(function*(){if(t.errorService.hasFatalError())throw new Error("fatal error detected --- refusing DB access");if((yield ar(e.objectStore(Xf).get(0)))!==cM)throw e.abort(),e.db.close(),u0})()}newTransaction(...e){var t=this;return(0,he.Z)(function*(){const r=(yield t.db).transaction([Xf,...e],"readwrite");return yield t.acquireLock(r),r})()}prepareObjectStore(e){var t=this;return(0,he.Z)(function*(){const r=yield t.newTransaction(e);return[r.objectStore(e),r]})()}saveState(e,t,r){const o=e.objectStore(dl);r?o.put(r,t):o.delete(t)}deleteState(e,t){e.objectStore(dl).delete(t)}loadState(e,t){return ar(e.objectStore(dl).get(t))}deleteMemory(e,t){const r=e.objectStore(jl),o=e.objectStore(Hl);r.delete(IDBKeyRange.bound([t,0],[t+1,0],!1,!0)),o.delete(t)}initializeLock(e){return(0,he.Z)(function*(){const t=e.transaction(Xf,"readwrite");yield ar(t.objectStore(Xf).put(cM,0))})()}setupDb(){var e=this;return(0,he.Z)(function*(){const t=setTimeout(()=>ea&&window.location.reload(),500);try{if(indexedDB.databases){const o=(yield indexedDB.databases()).find(i=>"cloudpilot-preview"===i.name);if(clearTimeout(t),o&&void 0!==o.version&&o.version>9)throw lM}const r=yield new Promise((o,i)=>{const s=indexedDB.open("cloudpilot-preview",9);s.onerror=()=>{i(new qu("failed to open DB"))},s.onsuccess=()=>{o(s.result)},s.onupgradeneeded=function(){var a=(0,he.Z)(function*(u){clearTimeout(t),u.oldVersion<1&&function Rj(n){n.createObjectStore(Lm,{keyPath:"id",autoIncrement:!0}).createIndex("rom","rom"),n.createObjectStore("state")}(s.result),u.oldVersion<2&&function Fj(n,e){if(!e)throw new Error("no version change transaction!");n.objectStoreNames.contains("rom")&&n.deleteObjectStore("rom"),n.objectStoreNames.contains(t0)&&n.deleteObjectStore(t0),e.objectStore(Lm).clear(),n.createObjectStore("rom"),n.createObjectStore(t0),n.createObjectStore("kvs")}(s.result,s.transaction),u.oldVersion<4&&(yield function Oj(n,e){return n0.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<5&&(yield function Nj(n,e){return r0.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<6&&(yield function Lj(n,e){return o0.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<7&&(yield function $j(n,e){return s0.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<8&&(yield function Bj(n,e){return a0.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<9&&(yield function Vj(n,e){return l0.apply(this,arguments)}(s.result,s.transaction))});return function(u){return a.apply(this,arguments)}}()});return yield e.initializeLock(r),r}finally{clearTimeout(t)}})()}requestPersistentStorage(){return(0,he.Z)(function*(){(!navigator.storage?.persist||!navigator.storage?.persisted)&&console.log("storage manager not supported; unable to request persistent storage");try{(yield navigator.storage.persisted())||(yield navigator.storage.persist())?console.log("persistent storage enabled"):console.log("request for persistent storage denied by browser")}catch(e){console.warn(e),console.log("failed to request persistent storage")}})()}}Xn.\u0275fac=function(e){return new(e||Xn)(ne(ft),ne($s),ne(Ma))},Xn.\u0275prov=yt({token:Xn,factory:Xn.\u0275fac,providedIn:"root"}),G([_o()],Xn.prototype,"addSession",null),G([_o()],Xn.prototype,"getAllSessions",null),G([_o()],Xn.prototype,"getSession",null),G([_o()],Xn.prototype,"deleteSession",null),G([_o()],Xn.prototype,"updateSessionPartial",null),G([_o()],Xn.prototype,"updateSession",null),G([_o()],Xn.prototype,"loadSession",null),G([_o()],Xn.prototype,"deleteStateForSession",null),G([_o()],Xn.prototype,"addEmptyStorageCard",null),G([_o()],Xn.prototype,"importStorageCard",null),G([_o()],Xn.prototype,"getAllStorageCards",null),G([_o()],Xn.prototype,"getCard",null),G([_o()],Xn.prototype,"updateStorageCardPartial",null),G([_o()],Xn.prototype,"deleteStorageCard",null),G([_o()],Xn.prototype,"loadCardData",null),G([_o()],Xn.prototype,"kvsGet",null),G([_o()],Xn.prototype,"kvsSet",null),G([_o()],Xn.prototype,"kvsDelete",null),G([_o()],Xn.prototype,"newTransaction",null),G([_o()],Xn.prototype,"prepareObjectStore",null),G([_o()],Xn.prototype,"initializeLock",null),G([_o()],Xn.prototype,"setupDb",null);const uM={volume:.5,showStatistics:!1,clipboardIntegration:!1,networkRedirection:!1,proxyServer:"",credentials:{},runHidden:!1,autoLockUI:!1,enableRemoteInstall:!1,enableAudioOnFirstInteraction:!1};class Yo{constructor(e){var t=this;this.storageService=e,this.set=r=>this.storageMutex.runExclusive((0,he.Z)(function*(){yield t.storageService.kvsSet(r);for(const o of Object.keys(r))t.rawKvs[o]=r[o];t.updateEvent.dispatch()})),this.updateEvent=new ii.j,this.mutex=new ka,this.storageMutex=new ka,this.initializationPromise=this.startInitialiation()}initialize(){var e=this;return(0,he.Z)(function*(){return e.initializationPromise})()}get kvs(){return this.kvsProxy}startInitialiation(){var e=this;return(0,he.Z)(function*(){const t=e;try{const r={...uM,...yield e.storageService.kvsLoad()};e.rawKvs=r,e.kvsProxy=new Proxy(r,{set:(o,i,s)=>(o[i]=s,t.storageMutex.runExclusive(()=>t.storageService.kvsSet({[i]:s})),t.updateEvent.dispatch(),!0),deleteProperty:(o,i)=>(delete o[i],t.storageMutex.runExclusive(()=>t.storageService.kvsDelete(i)),t.updateEvent.dispatch(),!0)})}catch(r){console.error("failed to load KVS"),console.error(r),e.kvsProxy={...uM}}})()}}Yo.\u0275fac=function(e){return new(e||Yo)(ne(Xn))},Yo.\u0275prov=yt({token:Yo,factory:Yo.\u0275fac,providedIn:"root"});class kc{constructor(e,t){var r=this;this.kvsService=e,this.alertService=t,this.serviceWorkerKeepalive=(0,he.Z)(function*(){if(navigator.serviceWorker)try{const o=yield navigator.serviceWorker.getRegistration();o?.active?.postMessage&&o.active.postMessage({})}catch{}setTimeout(r.serviceWorkerKeepalive,9e5)}),this.installationMode=this.determineInstallationMode(),this.serviceWorkerKeepalive()}promptForInstall(){return(ea||Qk)&&this.installationMode===Bl.web}getInstallationMode(){return this.installationMode}install(){this.alertService.message("Install app",this.getInstallMessage())}invite(){this.promptForInstall()&&(this.kvsService.kvs.didShowInvitation||(this.kvsService.kvs.didShowInvitation=!0,window.hasOwnProperty("onbeforeinstallprompt")||this.alertService.message("App available",this.getInviteMessage())))}getInstallMessage(){return ea&&Xk?'\n    Tap the "Share" icon on the bottom of the screen (the little box with the arrow)\n    and select "Add to Home Screen" in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':ea?'\n    Open CloudpilotEmu in Safari, tap the "Share" icon on the bottom of the screen\n    (the little box with the arrow) and select "Add to Home Screen" in order to install\n    CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Open your browser\'s menu and tap "Add to Home screen" or "Install App"\n    in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}getInviteMessage(){return ea&&Xk?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by tapping the "Share" icon\n    at the bottom of the screen (the little box with the arrow) and selecting\n    "Add to Home Screen".\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':ea?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by opening it in Safari,\n    tapping the "Share" icon at the bottom of the screen (the little box with the arrow)\n    and selecting "Add to Home Screen"\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Howdy! It seems that you are using CloudpilotEmu on an Android device. You can\n    install CloudpilotEmu as an app by opening your browser\'s menu\n    and tapping "Add to Home screen".\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}determineInstallationMode(){return window.navigator.standalone?Bl.pwa:document.referrer.startsWith("android-app://")?Bl.twa:window.matchMedia("(display-mode: standalone)").matches?Bl.pwa:Bl.web}}function Jj(n,e){1&n&&(se(0,"div",6),dt(1,"ion-spinner"),J())}kc.\u0275fac=function(e){return new(e||kc)(ne(Yo),ne(zr))},kc.\u0275prov=yt({token:kc,factory:kc.\u0275fac,providedIn:"root"});class fl{constructor(e){this.modalController=e,this.title="Help",this.loading=!0}}fl.\u0275fac=function(e){return new(e||fl)(w(ps))},fl.\u0275cmp=Xe({type:fl,selectors:[["app-help"]],inputs:{url:"url",title:"title"},decls:10,vars:3,consts:[["translucent",""],["slot","primary"],[3,"click"],["fullscreen",""],["class","loader",4,"ngIf"],[3,"src","load"],[1,"loader"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3),J(),se(4,"ion-buttons",1)(5,"ion-button",2),at("click",function(){return t.modalController.dismiss()}),qe(6,"Close"),J()()()(),se(7,"ion-content",3),ln(8,Jj,2,0,"div",4),se(9,"markdown",5),at("load",function(){return t.loading=!1}),J()()),2&e&&(et(3),Es(t.title),et(5),ot("ngIf",t.loading),et(1),ot("src",t.url))},dependencies:[oi,Qv,ji,Hi,zi,Gi,Hf,Zi,qi],styles:["markdown[_ngcontent-%COMP%]{display:block;padding-left:1em;padding-right:1em}.loader[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}"]});const Mc="1.7.11-5035f89 (preview)";var Bm=P(9897);const Vm=((n,e)=>{let t=null;return()=>{if(null!==t)return t;const r=new Blob(['(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error(\'The given type "\'.concat(i,\'" is not supported\'));(e=>{const r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error(\'The given method "\'.concat(s.method,\'" is not supported\'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error(\'The given type "\'.concat(d,\'" is not supported\'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();'],{type:"application/javascript; charset=utf-8"}),o=URL.createObjectURL(r);return t=(n=>{const e=new Map([[0,()=>{}]]),t=new Map([[0,()=>{}]]),r=new Map,o=new Worker(n);return o.addEventListener("message",({data:f})=>{if((n=>void 0!==n.method&&"call"===n.method)(f)){const{params:{timerId:m,timerType:_}}=f;if("interval"===_){const k=e.get(m);if("number"==typeof k){const A=r.get(k);if(void 0===A||A.timerId!==m||A.timerType!==_)throw new Error("The timer is in an undefined state.")}else{if(!(typeof k<"u"))throw new Error("The timer is in an undefined state.");k()}}else if("timeout"===_){const k=t.get(m);if("number"==typeof k){const A=r.get(k);if(void 0===A||A.timerId!==m||A.timerType!==_)throw new Error("The timer is in an undefined state.")}else{if(!(typeof k<"u"))throw new Error("The timer is in an undefined state.");k(),t.delete(m)}}}else{if(!(n=>null===n.error&&"number"==typeof n.id)(f)){const{error:{message:m}}=f;throw new Error(m)}{const{id:m}=f,_=r.get(m);if(void 0===_)throw new Error("The timer is in an undefined state.");const{timerId:k,timerType:A}=_;r.delete(m),"interval"===A?e.delete(k):t.delete(k)}}}),{clearInterval:f=>{const m=(0,Bm.generateUniqueNumber)(r);r.set(m,{timerId:f,timerType:"interval"}),e.set(f,m),o.postMessage({id:m,method:"clear",params:{timerId:f,timerType:"interval"}})},clearTimeout:f=>{const m=(0,Bm.generateUniqueNumber)(r);r.set(m,{timerId:f,timerType:"timeout"}),t.set(f,m),o.postMessage({id:m,method:"clear",params:{timerId:f,timerType:"timeout"}})},setInterval:(f,m)=>{const _=(0,Bm.generateUniqueNumber)(e);return e.set(_,()=>{f(),"function"==typeof e.get(_)&&o.postMessage({id:null,method:"set",params:{delay:m,now:performance.now(),timerId:_,timerType:"interval"}})}),o.postMessage({id:null,method:"set",params:{delay:m,now:performance.now(),timerId:_,timerType:"interval"}}),_},setTimeout:(f,m)=>{const _=(0,Bm.generateUniqueNumber)(t);return t.set(_,f),o.postMessage({id:null,method:"set",params:{delay:m,now:performance.now(),timerId:_,timerType:"timeout"}}),_}}})(o),setTimeout(()=>URL.revokeObjectURL(o)),t}})();var zl=(()=>{return(n=zl||(zl={}))[n.animationFrame=0]="animationFrame",n[n.timeout=1]="timeout",zl;var n})();class fM{constructor(e){this.callback=e}schedule(){void 0===this.handle&&(this.handle=requestAnimationFrame(e=>{this.handle=void 0,this.callback(e)}))}cancel(){void 0!==this.handle&&(cancelAnimationFrame(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return zl.animationFrame}}class iH{constructor(e,t=60){this.callback=e,this.fps=t}schedule(){if(void 0!==this.handle)return;const e=performance.now(),t=1e3*Math.ceil(e/1e3*this.fps)/this.fps;this.handle=((n,e)=>Vm().setTimeout(n,e))(()=>{this.handle=void 0,this.callback(performance.now())},Math.max(t-e,0))}cancel(){var n;void 0!==this.handle&&(n=this.handle,Vm().clearTimeout(n),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return zl.timeout}}const sH=[135,135,105],aH=[0,0,0],Gl=new Array(16).fill(0).map((n,e)=>aH.map((t,r)=>Math.floor((e*t+(15-e)*sH[r])/15))).map(([n,e,t])=>4278190080|t<<16|e<<8|n),d0=Gl.map(n=>"#"+(16777215&n).toString(16).padStart(6,"0").match(/(..?)/g)?.reverse().join(""));var ae=(()=>{return(n=ae||(ae={})).palmPilot="PalmPilot",n.pilot="Pilot",n.iii="PalmIII",n.palmVx="PalmVx",n.palmV="PalmV",n.palmVII="PalmVII",n.palmVIIEZ="PalmVIIEZ",n.palmVIIx="PalmVIIx",n.iiic="PalmIIIc",n.iiix="PalmIIIx",n.iiixe="PalmIIIxe",n.iiie="PalmIIIe",n.m500="PalmM500",n.m505="PalmM505",n.m515="PalmM515",n.m520="PalmM520",n.m100="PalmM100",n.m105="PalmM105",n.m125="PalmM125",n.m130="PalmM130",n.i705="Palmi705",n.i710="PalmI710",n.handera330="HandEra330",n.handera330c="HandEra330c",n.pegS300="PEG-S300",n.pegS320="PEG-S320",n.pegS500c="PEG-S500C",n.pegT400="PEG-T400",n.pegN600c="PEG-N600C/N610C",n.pegT600c="PEG-T600",n.pegN700c="PEG-N700C/N710C",n.pegT650c="YSX1230",n.pegNR70="NR70",n.acerS11="Acer-S11",ae;var n})(),Wl=(()=>{return(n=Wl||(Wl={})).sdcard="sdcard",n.memorystick="memorystick",n.none="none",Wl;var n})();function Qf(n){switch(n){case ae.i710:case ae.m520:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case ae.handera330:case ae.handera330c:return{screenSize:2,width:240,height:320,silkscreenHeight:0};case ae.pegS300:case ae.pegS320:case ae.pegS500c:return{screenSize:0,width:160,height:160,silkscreenHeight:76};case ae.pegT600c:case ae.pegT400:case ae.pegT650c:return{screenSize:1,width:320,height:320,silkscreenHeight:140,silkscreenOvershoot:10};case ae.pegN600c:case ae.pegN700c:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case ae.pegNR70:return{screenSize:3,width:320,height:480,silkscreenHeight:0};case ae.acerS11:return{screenSize:0,width:160,height:160,silkscreenHeight:60,siklscreenShift:8};default:return{screenSize:0,width:160,height:160,silkscreenHeight:60}}}function f0(n){switch(n){case ae.pilot:case ae.palmPilot:case ae.iii:case ae.palmV:case ae.palmVx:case ae.iiix:case ae.iiixe:case ae.iiie:case ae.m100:case ae.m105:case ae.m125:case ae.m500:case ae.palmVII:case ae.palmVIIEZ:case ae.palmVIIx:case ae.i705:case ae.handera330:case ae.pegS300:case ae.pegS320:case ae.pegT400:case ae.acerS11:return!1;default:return!0}}function pM(n){switch(n){case ae.pilot:return"Pilot";case ae.palmPilot:return"Palm Pilot";case ae.iii:return"Palm III";case ae.m500:return"Palm m500";case ae.m505:return"Palm m505";case ae.m515:return"Palm m515";case ae.m520:return"Palm m520";case ae.palmVx:return"Palm Vx";case ae.iiix:return"Palm IIIx";case ae.iiixe:return"Palm IIIxe";case ae.iiie:return"Palm IIIe";case ae.palmV:return"Palm V";case ae.palmVII:return"Palm VII";case ae.palmVIIEZ:return"Palm VII EZ";case ae.palmVIIx:return"Palm VIIx";case ae.iiic:return"Palm IIIc";case ae.m100:return"Palm m100";case ae.m105:return"Palm m105";case ae.m125:return"Palm m125";case ae.m130:return"Palm m130";case ae.i705:return"Palm i705";case ae.i710:return"Tungsten W";case ae.handera330:return"Handera 330";case ae.handera330c:return"Handera 330c";case ae.pegS300:return"Sony PEG-S300";case ae.pegS320:return"Sony PEG-S320";case ae.pegT400:return"Sony PEG-T400 series";case ae.pegN600c:return"Sony PEG-N600C series";case ae.pegT600c:return"Sony PEG-T600C series";case ae.pegN700c:return"Sony PEG-N700C series";case ae.pegT650c:return"Sony PEG-T650C series";case ae.pegNR70:return"Sony PEG-NR70 series";case ae.pegS500c:return"Sony PEG-S500C series";case ae.acerS11:return"Acer S1x series";default:throw new Error("bad device ID")}}function hM(n){switch(n){case ae.m500:case ae.m505:case ae.m515:case ae.m520:case ae.m125:case ae.m130:case ae.i705:case ae.i710:case ae.handera330:case ae.handera330c:return Wl.sdcard;case ae.pegS300:case ae.pegS500c:case ae.pegS320:case ae.pegT400:case ae.pegN600c:case ae.pegT600c:case ae.pegN700c:case ae.pegT650c:case ae.pegNR70:case ae.acerS11:return Wl.memorystick;default:return Wl.none}}class mM{constructor(e,t){this.queue=new Array(e).fill(0),this.reset(t)}reset(e=0){this.next=1,this.size=1,this.queue[0]=e}push(e){return this.queue[this.next]=e,this.next=(this.next+1)%this.queue.length,this.size<this.queue.length&&this.size++,this}calculateAverage(){let e=0;for(let t=0;t<this.size;t++)e+=this.queue[t];return e/this.size}}class uH{constructor(e){this.start=0,this.size=0,this.buffer=new Array(e)}push(e){return this.size<this.buffer.length?this.buffer[(this.start+this.size++)%this.buffer.length]=e:(this.start=(this.start+1)%this.buffer.length,this.buffer[(this.start+this.size-1)%this.buffer.length]=e),this}pop(){if(0===this.size)return;const e=this.buffer[this.start];return this.start=(this.start+1)%this.buffer.length,this.size--,e}peekLast(){if(0!==this.size)return this.buffer[(this.start+this.size-1)%this.buffer.length]}replaceLast(e){return this.size>0&&(this.buffer[(this.start+this.size-1)%this.buffer.length]=e),this}count(){return this.size}flush(){return this.start=0,this.size=0,this}}class yH{constructor(){this.onPwmUpdate=e=>{this.pendingPwmUpdates.count()>0&&this.pendingPwmUpdates.peekLast().frequency<0?this.pendingPwmUpdates.replaceLast(e):this.pendingPwmUpdates.push(e)},this.advanceEmulation=e=>{if(this.isDirty=!1,!this.cloudpilotInstance||this.hasFatalError()||e<this.clockEmulator)return;const t=this.cloudpilotInstance.isSuspended();let r=!1;this.cloudpilotInstance.setClockFactor(this.emulationSpeed*this.getConfiguredSpeed()),e-this.clockEmulator>1e3/30&&(this.clockEmulator=e-1e3/30);const o=(e-this.clockEmulator)/1e3*this.cloudpilotInstance.cyclesPerSecond(),i=performance.now();let s=0;for(;s<o;)if(s+=this.cloudpilotInstance.runEmulation(Math.ceil(o-s)),this.cloudpilotInstance.isSuspended()){r=!0;break}const a=s/this.cloudpilotInstance.cyclesPerSecond()*1e3,u=performance.now()-i;if(this.clockEmulator+=Math.max(a,u),this.speedAverage.push(a/(u>0?u:a/1e3)*this.emulationSpeed),this.updateEmulationSpeed(this.speedAverage.calculateAverage()),r&&!t)return void this.handleSuspend();const f=this.cloudpilotInstance.isPowerOff(),m=this.cloudpilotInstance.isUiInitialized();if(f!==this.powerOff||m!==this.uiInitialized){const _=this.powerOff;this.powerOff=f,this.uiInitialized=m,_!==this.powerOff&&this.powerOffChangeEvent.dispatch(this.powerOff),this.isDirty=!0}m&&!f&&this.manageHotsyncName()&&this.checkAndUpdateHotsyncName(),this.onAfterAdvanceEmulation(e,s)},this.newFrameEvent=new ii.j,this.pwmUpdateEvent=new ii.j,this.emulationStateChangeEvent=new ii.j,this.powerOffChangeEvent=new ii.j,this.deviceId=ae.m515,this.clockEmulator=0,this.scheduler=new fM(e=>this.onSchedule(e)),this.canvas=document.createElement("canvas"),this.canvasTmp=document.createElement("canvas"),this.lastPenUpdate=0,this.penDown=!1,this.running=!1,this.powerOff=!1,this.uiInitialized=!1,this.pendingPwmUpdates=new uH(10),this.lastPwmUpdateEvent=0,this.emulationSpeed=1,this.speedAverage=new mM(20),this.timePerFrameAverage=new mM(60),this.timestampLastFrame=0,this.frameCounter=0,this.isDirty=!1}handlePointerMove(e,t,r){if(!this.handleInput())return;const o=performance.now();if(this.penDown=!0,!(o-this.lastPenUpdate<25)&&this.cloudpilotInstance){if(r){const i=Qf(this.deviceId);e=this.transformSilkscreenX(e,i),t=this.transformSilkscreenY(t,i)}this.cloudpilotInstance.queuePenMove(Math.floor(e),Math.floor(t)),this.lastPenUpdate=o}}handlePointerUp(){this.handleInput()&&(this.cloudpilotInstance&&this.penDown&&this.cloudpilotInstance.queuePenUp(),this.lastPenUpdate=0,this.penDown=!1)}handleButtonDown(e){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonDown(e)}handleButtonUp(e){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonUp(e)}handleKeyDown(e,t=!1){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueKeyboardEvent(e,t)}reset(){this.cloudpilotInstance&&this.cloudpilotInstance.reset()}resetNoExtensions(){this.cloudpilotInstance&&this.cloudpilotInstance.resetNoExtensions()}resetHard(){this.cloudpilotInstance&&this.cloudpilotInstance.resetHard()}isRunning(){return this.running}isPowerOff(){return this.powerOff}isUiInitialized(){return this.uiInitialized}getCanvas(){return this.canvas}getStatistics(){return{hostSpeed:this.speedAverage.calculateAverage(),emulationSpeed:this.emulationSpeed,averageFps:this.calculateFPS()}}getEmulationSpeed(){return this.emulationSpeed}isSuspended(){return!!this.cloudpilotInstance&&this.cloudpilotInstance.isSuspended()}onAfterAdvanceEmulation(e,t){}handleSuspend(){}callScheduler(){this.scheduler.schedule()}handleInput(){return!0}openSession(e,t,r,o,i){let s=!1;return!!e.initializeSession(t,r)&&(o&&(o.length%4!=0?console.warn("memory size is not a multiple of 4; ignoring image"):(s=e.loadMemory(new Uint32Array(o.buffer,o.byteOffset,o.length>>>2)),s||console.warn("failed to load memory"))),s&&i&&e.loadState(i),e.remountCards(),this.cloudpilotInstance&&this.cloudpilotInstance.pwmUpdateEvent.removeHandler(this.onPwmUpdate),e.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.cloudpilotInstance=e,this.deviceId=r,this.resetCanvas(),this.pendingPwmUpdates.flush(),this.lastPwmUpdateEvent=0,this.deviceHotsyncName=void 0,this.emulationSpeed=1,this.frameCounter=0,this.speedAverage.reset(1),this.powerOff=e.isPowerOff(),this.uiInitialized=e.isUiInitialized(),this.frameCounter=0,!0)}resetCanvas(){const e=Qf(this.deviceId);this.canvas.width=this.canvasTmp.width=e.width,this.canvas.height=this.canvasTmp.height=e.height;const t=this.canvas.getContext("2d");if(!t)throw new Error("get a new browser");this.context=t;const r=this.canvasTmp.getContext("2d");if(!r)throw new Error("get a new browser");this.contextTmp=r,this.clearCanvas(),this.imageData=void 0}doResume(){this.cloudpilotInstance&&(this.clockEmulator=performance.now(),this.schedule(),this.setRunning(!0),this.resetFPS())}doPause(){this.stopLoop()}doStop(){this.stopLoop()}stopLoop(){this.running&&(this.scheduler.cancel(),void 0!==this.advanceEmulationHandle&&(window.clearTimeout(this.advanceEmulationHandle),this.advanceEmulationHandle=void 0),this.setRunning(!1))}resetFPS(){this.timePerFrameAverage.reset(),this.timestampLastFrame=performance.now()}calculateFPS(){const e=this.timePerFrameAverage.calculateAverage();return e&&1e3/e}transformSilkscreenX(e,t){return void 0===t.silkscreenOvershoot?e:(e-t.width/2)/(t.width/(t.width+2*t.silkscreenOvershoot))+t.width/2}transformSilkscreenY(e,t){return void 0===t.siklscreenShift?e:e+t.siklscreenShift}setRunning(e){e!==this.running&&(this.running=e,this.emulationStateChangeEvent.dispatch(e))}updateEmulationSpeed(e){if(e>=1&&this.emulationSpeed>=1)return;const t=Math.min(Math.max(Math.floor(10*e)/10,.1),1);this.emulationSpeed=t<=this.emulationSpeed||e-t>=.05?t:this.emulationSpeed}performScreenUpdate(){this.cloudpilotInstance?.isScreenDirty()&&(this.updateScreen(),this.cloudpilotInstance.markScreenClean(),this.frameCounter++)}onSchedule(e){this.hasFatalError()||(this.skipEmulationUpdate()||(this.performScreenUpdate(),this.pendingPwmUpdates.count()>0&&e-this.lastPwmUpdateEvent>10&&(this.pwmUpdateEvent.dispatch(this.pendingPwmUpdates.pop()),this.lastPwmUpdateEvent=e),void 0===this.advanceEmulationHandle&&(this.advanceEmulationHandle=window.setTimeout(()=>{this.advanceEmulationHandle=void 0,this.advanceEmulation(e)},0)),this.timePerFrameAverage.push(Math.max(0,e-this.timestampLastFrame)),this.timestampLastFrame=e),this.schedule())}schedule(){this.scheduler.cancel(),this.getConfiguredSchdedulerKind()!==this.scheduler.getKind()&&(this.scheduler=this.getConfiguredSchdedulerKind()===zl.animationFrame?new fM(e=>this.onSchedule(e)):new iH(e=>this.onSchedule(e))),this.callScheduler()}checkAndUpdateHotsyncName(){if(!this.cloudpilotInstance)return;void 0===this.deviceHotsyncName&&(this.deviceHotsyncName=this.cloudpilotInstance.getHotsyncName());const e=this.getConfiguredHotsyncName();void 0===e?this.updateConfiguredHotsyncName(this.deviceHotsyncName):e!==this.deviceHotsyncName&&e.length<=40&&this.cloudpilotInstance.isSetupComplete()&&(this.cloudpilotInstance.setHotsyncName(e),this.deviceHotsyncName=e)}clearCanvas(){const e=this.deviceId,t=Qf(e);this.context.beginPath(),this.context.rect(0,0,t.width,t.height),this.context.fillStyle=f0(e)?"white":d0[0],this.context.fill()}updateScreen(){if(!this.cloudpilotInstance)return;const e=this.cloudpilotInstance.getFrame();if(this.cloudpilotInstance.isPowerOff())return this.clearCanvas(),void this.newFrameEvent.dispatch(this.canvas);if(!e.hasChanges)return;if(e.lines*e.scaleY===this.canvas.height&&e.lineWidth*e.scaleX===this.canvas.width){(!this.imageData||this.imageData.width!==e.lineWidth||this.imageData.height!==e.lines)&&(this.imageData=new ImageData(e.lineWidth,e.lines));const r=new Uint32Array(this.imageData.data.buffer);switch(e.bpp){case 1:{const o=Gl[15],i=Gl[0];let s=0;for(let a=e.firstDirtyLine;a<=e.lastDirtyLine;a++){const u=a*e.bytesPerLine;for(let f=e.margin;f<e.lineWidth+e.margin;f++)r[s++]=e.buffer[u+(f>>>3)]&128>>>(7&f)?o:i}break}case 2:{const o=this.cloudpilotInstance.getPalette2bitMapping(),i=[Gl[15&o],Gl[o>>>4&15],Gl[o>>>8&15],Gl[o>>>12&15]];let s=0;for(let a=e.firstDirtyLine;a<=e.lastDirtyLine;a++){const u=a*e.bytesPerLine;for(let f=e.margin;f<e.lineWidth+e.margin;f++)r[s++]=i[e.buffer[u+(f>>>2)]>>6-2*(3&f)&3]}break}case 4:{let o=0;for(let i=e.firstDirtyLine;i<=e.lastDirtyLine;i++){const s=i*e.bytesPerLine;for(let a=e.margin;a<e.lineWidth+e.margin;a++)r[o++]=Gl[e.buffer[s+(a>>>1)]>>>4-4*(1&a)&15]}break}case 24:{const o=new Uint32Array(e.buffer.buffer,e.buffer.byteOffset,e.buffer.byteLength>>>2);if(0===e.margin)r.subarray(0,e.lineWidth*(e.lastDirtyLine-e.firstDirtyLine+1)).set(o.subarray(e.firstDirtyLine*e.lineWidth,e.lineWidth*(e.lastDirtyLine+1)));else{let i=0;for(let s=e.firstDirtyLine;s<=e.lastDirtyLine;s++){let a=s*(e.bytesPerLine>>>2)+e.margin;for(let u=0;u<e.lineWidth;u++)r[i++]=o[a++]}}}}}if(!this.imageData)return;const t=1!==e.scaleX||1!==e.scaleY;(t?this.contextTmp:this.context).putImageData(this.imageData,0,e.firstDirtyLine,0,0,e.lineWidth,e.lastDirtyLine-e.firstDirtyLine+1),t&&(this.context.imageSmoothingEnabled=!1,this.context.drawImage(this.canvasTmp,0,e.firstDirtyLine,e.lineWidth,e.lastDirtyLine-e.firstDirtyLine+1,0,e.firstDirtyLine*e.scaleY,e.lineWidth*e.scaleX,(e.lastDirtyLine-e.firstDirtyLine+1)*e.scaleY)),this.newFrameEvent.dispatch(this.canvas)}}class _H{constructor(e,t){this.timeoutRemaining=e,this.cb=t,this.onTimeout=()=>{const r=performance.now();if(this.timeoutRemaining-=r-this.timeoutTimestamp,this.timeoutRemaining>0)return this.timeoutTimestamp=performance.now(),void(this.handle=window.setTimeout(this.onTimeout,this.timeoutTimestamp));this.cb()},this.timeoutTimestamp=performance.now(),this.handle=window.setTimeout(this.onTimeout,e)}increase(e){this.timeoutRemaining+=e}cancel(){clearTimeout(this.handle)}}const wH=new Error("transaction timeout"),_M=new Error("session does not match emulation");class Aa{constructor(e,t,r,o,i){var s=this;this.storageService=e,this.emulationState=t,this.errorService=r,this.storageCardContext=o,this.ngZone=i,this.triggerSnapshot=()=>this.ngZone.runOutsideAngular(()=>this.sessionId<0||this.cloudpilot.isSuspended()?Promise.resolve():this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():(this.snapshotInProgress=!0,this.pendingSnapshotPromise=(0,he.Z)(function*(){try{yield s.triggerSnapshotUnguarded()}finally{s.snapshotInProgress=!1}})(),this.pendingSnapshotPromise)),this.snapshotEvent=new ii.j,this.sessionId=-1,this.consecutiveErrorCount=0,this.snapshotInProgress=!1,this.pendingSnapshotPromise=Promise.resolve(void 0),this.cardPagePool=[]}initialize(e,t){var r=this;return(0,he.Z)(function*(){r.errorService.hasFatalError()||(r.sessionId=e.id,r.dirtyPages=void 0,r.pages=void 0,r.state=void 0,r.db=yield r.storageService.getDb(),r.cloudpilot=t,r.resetCard())})()}resetCard(){this.cardPagePool=[],this.cardDirtyPages=void 0}waitForPendingSnapshot(){return this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():Promise.resolve()}triggerSnapshotUnguarded(){var e=this;return(0,he.Z)(function*(){for(;;)try{return yield e.triggerSnapshotOnce(),void(e.consecutiveErrorCount=0)}catch(t){if(console.error("snapshot error",t),t===_M)throw e.errorService.fatalBug("attempting to snapshot a session that is not currently running"),t;if(t===u0)throw e.errorService.fatalPageLockLost(),t;if(++e.consecutiveErrorCount>3)throw e.errorService.fatalIDBDead(),t}})()}triggerSnapshotOnce(){var e=this;return(0,he.Z)(function*(){const t=e.db.transaction([jl,Hl,dl,Ta,Ts,Xf],"readwrite",{durability:"relaxed"});if(yield e.storageService.acquireLock(t),e.cloudpilot.isSuspended())return;if(e.emulationState.getCurrentSession()?.id!==e.sessionId)throw _M;let r;const o=e.cloudpilot.getMountedKey();o&&(r=yield ar(t.objectStore(Ts).index("storageId").get(o)));const i=yield new Promise((s,a)=>{let u=!1;const f=performance.now();let m=0,_=0,k=0,A=new _H(500,()=>{u=!0;try{t.abort()}catch{}a(wH)});t.oncomplete=(0,he.Z)(function*(){A.cancel(),e.dirtyPages?.fill(0),e.cardDirtyPages?.fill(0),s({timestamp:Date.now(),pages:k,timeBlocking:_-m,timeTotal:performance.now()-f})}),t.onerror=()=>{A.cancel(),a(new Error(t.error?.message))};try{m=performance.now(),k=e.saveDirtyMemory(t,A),r&&(k+=e.saveDirtyStorage(r,t,A)),e.saveSession(t),_=performance.now()}catch(Q){throw u||(A.cancel(),t.abort()),Q}});e.snapshotEvent.dispatch(i)})()}saveDirtyMemory(e,t){let r=0;const o=e.objectStore(jl),i=e.objectStore(Hl),s=this.cloudpilot.getDirtyPages(),a=this.cloudpilot.getMemory32();let u=0;if(!this.dirtyPages||!this.pages){const m=a.length>>>8;this.dirtyPages=new Uint8Array(s.length),this.pages=new Array(m);for(let _=0;_<m;_++)this.pages[_]=new Uint32Array(256)}i.put({sessionId:this.sessionId,totalSize:a.length<<2});for(let m=0;m<s.length;m++)if(this.dirtyPages[m]|=s[m],s[m]=0,0!==this.dirtyPages[m])for(let _=1;_<256&&!(r>=this.pages.length);_<<=1){if(this.dirtyPages[m]&_){const k=nM(a.subarray(256*r,256*(r+1)));"number"==typeof k?o.put(k,[this.sessionId,r]):(this.pages[r].set(k),o.put(this.pages[r],[this.sessionId,r])),t.increase(.5),u++}r++}else r+=8;return u}saveDirtyStorage(e,t,r){const o=this.cloudpilot.getCardDirtyPages(e.storageId),i=this.cloudpilot.getCardData(e.storageId);if(!i)return console.log(`seems ${e.name} was unmounted`),0;if(this.storageCardContext.assertOwnership(e.id,Gr.cloudpilot),!o)throw new Error(`failed to retrieve dirty pages for card ${e.name}`);if(i.length!==e.size>>>2)throw new Error("card size mismatch");if(this.cardDirtyPages||(this.cardDirtyPages=new Uint8Array(o.length)),this.cardDirtyPages.length!==o.length)throw new Error("card size has changed without notification");let s=0,a=0,u=0;const f=t.objectStore(Ta),m=(i.length>>11)+(i.length%2048>0?1:0);for(let _=0;_<o.length;_++)if(this.cardDirtyPages[_]|=o[_],o[_]=0,0!==this.cardDirtyPages[_])for(let k=1;k<256&&!(s>=m);k<<=1){if(this.cardDirtyPages[_]&k){a>=this.cardPagePool.length&&this.cardPagePool.push(new Uint32Array(2048));const A=this.cardPagePool[a++];A.set(i.subarray(2048*s,2048*(s+1))),f.put(A,[e.id,s]),r.increase(4),u++}s++}else s+=8;return 8*u}saveSession(e){const t=e.objectStore(dl);if(this.cloudpilot.saveState()){const r=this.cloudpilot.getSavestate();this.state||(this.state=new Uint8Array(r.length)),this.state.set(r),t.put(this.state,this.sessionId)}else console.log("save state failed"),t.delete(this.sessionId)}}function CH(n,e){1&n&&(se(0,"p",11),qe(1," ERROR: URL must be served via HTTPS. "),J())}function SH(n){if(!n.value)return{url:"URL empty"};let e;try{e=new(Du())(n.value)}catch{return{url:"URL invalid"}}return"https:"===location.protocol&&"https:"!==e.protocol?{url:"mixed content"}:null}Aa.\u0275fac=function(e){return new(e||Aa)(ne(Xn),ne(hs),ne($s),ne(Ma),ne(ft))},Aa.\u0275prov=yt({token:Aa,factory:Aa.\u0275fac,providedIn:"root"});class Jf{constructor(){this.onContinue=()=>{},this.onCancel=()=>{}}ngOnInit(){this.createFormGroup()}formKeyDown(e){"Enter"===e.key&&this.continue()}continue(){this.onContinue(new(Du())(this.formGroup.get("url")?.value).toString())}get isMixedContent(){const e=this.formGroup.get("url")?.value;if(!e)return!1;try{const t=new(Du())(e);return"https:"===location.protocol&&"https:"!==t.protocol}catch{}return!1}createFormGroup(){this.formGroup=new qh({url:new si("",SH)})}}function Um(n){const e=new Date;return`${n}_${e.getFullYear()}${(e.getMonth()+1).toString().padStart(2,"0")}${e.getDate().toString().padStart(2,"0")}-${e.getHours().toString().padStart(2,"0")}${e.getMinutes().toString().padStart(2,"0")}${e.getSeconds().toString().padStart(2,"0")}`}function vM(n){return`${Um(n.name)}.bin`}function bM(n,e){return`backup_${Um(n.name)}${e?"_with_rom":""}.zip`}function p0(n,e=3){return 0===n.length?"":1===n.length?n[0]:`${n.slice(0,n.length>e?e:n.length-1).join(", ")} and ${n.length>e?n.length-e+" more files":n[n.length-1]}`}function wM(n){const{name:e,hotsyncName:t,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}=n;return{name:e,hotsyncName:t,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}}Jf.\u0275fac=function(e){return new(e||Jf)},Jf.\u0275cmp=Xe({type:Jf,selectors:[["app-remote-url-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel"},decls:21,vars:3,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter URL","formControlName","url"],["class","error",4,"ngIf"],[1,"error"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"Enter download URL"),J(),se(4,"ion-buttons",1)(5,"ion-button",2),at("click",function(){return t.continue()}),qe(6,"OK"),J()(),se(7,"ion-buttons",3)(8,"ion-button",4),at("click",function(){return t.onCancel()}),qe(9,"Cancel"),J()()()(),se(10,"ion-content",5)(11,"form",6),at("keydown",function(o){return t.formKeyDown(o)}),se(12,"p"),qe(13," Please enter the URL from which to download: "),J(),se(14,"ion-item",7)(15,"ion-label",8),qe(16,"URL"),J(),dt(17,"ion-input",9),J(),ln(18,CH,2,0,"p",10),se(19,"p"),qe(20," Note that the remote server needs to support the CORS protocol. "),J()()()),2&e&&(et(5),ot("disabled",t.formGroup.invalid),et(6),ot("formGroup",t.formGroup),et(7),ot("ngIf",t.isMixedContent))},dependencies:[oi,ji,Hi,zi,Gi,cl,Ko,Wi,Zi,qi,ll,rl,tl,nl,Qs,Ca],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}.error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]});class ep{constructor(e){this.kvs=e,this.onContinue=()=>{},this.onCancel=()=>{},this.origin=""}ngOnInit(){this.createFormGroup()}formKeyDown(e){"Enter"===e.key&&this.saveAndContinue()}saveAndContinue(){this.kvs.kvs.credentials={...this.kvs.kvs.credentials,[this.origin]:{username:this.formGroup.get("username")?.value??"",password:this.formGroup.get("password")?.value??""}},this.onContinue()}createFormGroup(){const e=this.kvs.kvs.credentials[this.origin];this.formGroup=new qh({username:new si(e?.username??""),password:new si(e?.password??"")})}}ep.\u0275fac=function(e){return new(e||ep)(w(Yo))},ep.\u0275cmp=Xe({type:ep,selectors:[["app-credentials-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel",origin:"origin"},decls:22,vars:1,consts:[["translucent",""],["slot","primary"],[3,"click"],["slot","secondary"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter username","formControlName","username"],["placeholder","Enter password","formControlName","password","type","password"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"Authenticate"),J(),se(4,"ion-buttons",1)(5,"ion-button",2),at("click",function(){return t.saveAndContinue()}),qe(6,"OK"),J()(),se(7,"ion-buttons",3)(8,"ion-button",2),at("click",function(){return t.onCancel()}),qe(9,"Cancel"),J()()()(),se(10,"ion-content",4)(11,"form",5),at("keydown",function(o){return t.formKeyDown(o)}),se(12,"p"),qe(13," The server requires authentication. "),J(),se(14,"ion-item",6)(15,"ion-label",7),qe(16,"Username"),J(),dt(17,"ion-input",8),J(),se(18,"ion-item",6)(19,"ion-label",7),qe(20,"Password"),J(),dt(21,"ion-input",9),J()()()),2&e&&(et(11),ot("formGroup",t.formGroup))},dependencies:[ji,Hi,zi,Gi,cl,Ko,Wi,Zi,qi,ll,rl,tl,nl,Qs,Ca],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}"]});class Tc{constructor(e,t,r){this.loadingController=e,this.kvsService=t,this.modalController=r}fetch(e,t){var r=this;return(0,he.Z)(function*(){let o=t?.loaderDelay;const i=void 0===t?.timeout?5e3:t?.timeout,s=new(Du())("string"==typeof e?e:e.url);let a,u,f=!1;for(;;)try{void 0!==o&&o>=0&&!a&&(a=yield r.loadingController.create({message:"Loading..."}),u=window.setTimeout(()=>a.present(),o));const m=r.kvsService.kvs.credentials[s.origin],_=new AbortController,k=window.setTimeout(()=>_.abort(),i),A=yield fetch(e,{...r.requestInit(t),signal:_.signal,headers:{...t?.headers||{},...f&&m?{Authorization:"Basic "+btoa(`${m.username}:${m.password}`)}:{}}});if(clearTimeout(k),401===A.status){if(!f&&m){f=!0;continue}if(a&&(a.dismiss(),clearTimeout(u),o=0,a=void 0),f=!0,yield r.authenticate(s.origin))continue}return A}finally{a&&(yield a.dismiss()),clearTimeout(u)}})()}requestInit(e){if(!e)return;const{timeout:t,loaderDelay:r,...o}=e;return o}authenticate(e){var t=this;return(0,he.Z)(function*(){const r=yield new Promise(o=>t.modalController.create({component:ep,backdropDismiss:!1,componentProps:{origin:e,onContinue:()=>o(!0),onCancel:()=>o(!1)}}).then(i=>i.present()));return t.modalController.dismiss(),r})()}}Tc.\u0275fac=function(e){return new(e||Tc)(ne(Ll),ne(Yo),ne(ps))},Tc.\u0275prov=yt({token:Tc,factory:Tc.\u0275fac,providedIn:"root"});var IH=P(3272),kH=P.n(IH);function h0(n){const e=(n>>>13)+(n%8192>0?1:0);return(e>>>3)+(e%8>0?1:0)}const CM=[ae.palmPilot,ae.pilot,ae.iii,ae.palmVx,ae.palmV,ae.palmVII,ae.palmVIIEZ,ae.palmVIIx,ae.iiixe,ae.iiix,ae.iiie,ae.m500,ae.m505,ae.m515,ae.m520,ae.iiic,ae.m100,ae.m105,ae.m125,ae.m130,ae.i705,ae.i710,ae.handera330,ae.handera330c,ae.pegS300,ae.pegS320,ae.pegS500c,ae.pegT400,ae.pegN600c,ae.pegT600c,ae.pegN700c,ae.pegT650c,ae.pegNR70,ae.acerS11];function an(){return(n,e,t)=>{const r=t.value;return t.value=function(o,i){return this.guard(()=>r.call(this,o,i))},t}}class qt{constructor(e){this.module=e,this.fatalErrorEvent=new ii.j,this.pwmUpdateEvent=new ii.j,this.proxyDisconnectEvent=new ii.j,this.amIdead=!1,this.cloudpilot=new e.Cloudpilot,this.cloudpilot.RegisterPwmHandler(e.addFunction((t,r)=>this.pwmUpdateEvent.dispatch({frequency:t,dutyCycle:r}),"vdd")),this.cloudpilot.RegisterProxyDisconnectHandler(e.addFunction(t=>this.proxyDisconnectEvent.dispatch(e.UTF8ToString(t)),"vi"))}static create(e){return(0,he.Z)(function*(){return new qt(yield kH()({print:t=>console.log(t),printErr:t=>console.error(t),...void 0!==e?{locateFile:()=>e}:{}}))})()}destroy(){this.module.destroy(this.cloudpilot)}hasFatalError(){return this.amIdead}getRomInfo(e){const t=this.copyIn(e),r=new this.module.RomInfo(t,e.length);let o;return r.IsValid()&&(o={cardVersion:r.CardVersion(),cardName:r.CardName(),romVersion:r.RomVersion(),romVersionString:r.RomVersionString(),supportedDevices:CM.filter(r.Supports.bind(r))}),this.cloudpilot.Free(t),this.module.destroy(r),o}initializeSession(e,t){const r=this.copyIn(e),o=this.cloudpilot.InitializeSession(r,e.length,t);return this.cloudpilot.Free(r),o}cyclesPerSecond(){return this.cloudpilot.GetCyclesPerSecond()}runEmulation(e){return this.cloudpilot.RunEmulation(e)}getFrame(){const e=this.cloudpilot.CopyFrame(),t=this.module.getPointer(e.GetBuffer());return{bpp:e.GetBpp(),bytesPerLine:e.GetBytesPerLine(),lines:e.GetLines(),lineWidth:e.GetLineWidth(),margin:e.GetMargin(),firstDirtyLine:e.GetFirstDirtyLine(),lastDirtyLine:e.GetLastDirtyLine(),hasChanges:e.GetHasChanges(),scaleX:e.GetScaleX(),scaleY:e.GetScaleY(),buffer:this.module.HEAPU8.subarray(t,t+e.GetBufferSize())}}isScreenDirty(){return this.cloudpilot.IsScreenDirty()}markScreenClean(){this.cloudpilot.MarkScreenClean()}minRamForDevice(e){return 1024*this.cloudpilot.MinMemoryForDevice(e)}framebufferSizeForDevice(e){return 1024*this.cloudpilot.FramebufferSizeForDevice(e)}totalMemorySizeForDevice(e){return 1024*this.cloudpilot.TotalMemoryForDevice(e)}queuePenMove(e,t){this.cloudpilot.QueuePenMove(e,t)}queuePenUp(){this.cloudpilot.QueuePenUp()}queueButtonDown(e){this.cloudpilot.QueueButtonDown(e)}queueButtonUp(e){this.cloudpilot.QueueButtonUp(e)}queueKeyboardEvent(e,t){this.cloudpilot.QueueKeyboardEvent(e,t)}isPowerOff(){return!!this.cloudpilot.IsPowerOff()}isUiInitialized(){return!!this.cloudpilot.IsUIInitialized()}isSetupComplete(){return!!this.cloudpilot.IsSetupComplete()}getOSVersion(){return this.cloudpilot.GetOSVersion()}reset(){this.cloudpilot.Reset()}resetNoExtensions(){this.cloudpilot.ResetNoExtensions()}resetHard(){this.cloudpilot.ResetHard()}installDb(e){const t=this.copyIn(e),r=this.cloudpilot.InstallDb(t,e.length);return this.cloudpilot.Free(t),r}getPalette2bitMapping(){return this.cloudpilot.GetPalette2bitMapping()}getMemory(){const e=this.module.getPointer(this.cloudpilot.GetMemoryPtr());return this.module.HEAPU8.subarray(e,e+this.cloudpilot.GetMemorySize())}getMemory32(){let e=this.module.getPointer(this.cloudpilot.GetMemoryPtr());if(3&e)throw new Error("unaligned pointer");return e>>>=2,this.module.HEAPU32.subarray(e,e+(this.cloudpilot.GetMemorySize()>>>2))}getDirtyPages(){const e=this.module.getPointer(this.cloudpilot.GetDirtyPagesPtr()),t=this.cloudpilot.GetMemorySize();return this.module.HEAPU8.subarray(e,e+((t>>>13)+(t%8192==0?0:1)))}loadMemory(e){const t=this.getMemory32();if((()=>{if(e.length!==t.length||e.length<256)return!1;for(let o=256;o>0;o--){if(e[e.length-o]!==t[t.length-o])return!1;if(4294967295===t[t.length-o])break}return!0})())return t.set(e),!0;{const o=this.copyIn32(e),i=this.cloudpilot.ImportMemoryImage(o,e.length<<2);return this.cloudpilot.Free(o),i}}getRomImage(){const e=this.module.getPointer(this.cloudpilot.GetRomPtr());return this.module.HEAPU8.subarray(e,e+this.cloudpilot.GetRomSize())}getSavestate(){const e=this.module.getPointer(this.cloudpilot.GetSavestatePtr());return this.module.HEAPU8.subarray(e,e+this.cloudpilot.GetSavestateSize())}saveState(){return!!this.cloudpilot.SaveState()}loadState(e){const t=this.copyIn(e),r=this.cloudpilot.LoadState(t,e.length);return this.cloudpilot.Free(t),r}getHotsyncName(){return this.cloudpilot.GetHotsyncName()}setClockFactor(e){this.cloudpilot.SetClockFactor(e)}setHotsyncName(e){this.cloudpilot.SetHotsyncName(e)}backup(e){var t=this;return(0,he.Z)(function*(){const r=t.guard(()=>t.cloudpilot.StartBackup());try{return yield e(t.wrap(r))}finally{t.module.destroy(r)}})()}getArchive(e){const t=e.GetArchiveSize();return this.copyOut(e.GetArchivePtr(),t)}setClipboardIntegration(e){this.cloudpilot.SetClipboardIntegration(e)}getClipboardIntegration(){return this.cloudpilot.GetClipboardIntegration()}isSuspended(){return this.cloudpilot.IsSuspended()}getSuspendKind(){return this.cloudpilot.GetSuspendContext().GetKind()}cancelSuspend(){this.cloudpilot.GetSuspendContext().Cancel()}getSuspendContextClipboardCopy(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardCopy())}getSuspendContextClipboardPaste(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardPaste())}setNetworkRedirection(e){this.cloudpilot.SetNetworkRedirection(e)}getNetworkRedirection(){return this.cloudpilot.GetNetworkRedirection()}getSuspendContextNetworkConnect(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkConnect())}getSuspendContextNetworkRpc(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkRpc())}copyBuffer(e){return this.copyIn(e)}freeBuffer(e){this.cloudpilot.Free(e)}setHotsyncNameManagement(e){this.cloudpilot.SetHotsyncNameManagement(e)}resolveBuffer(e,t){const r=this.module.getPointer(e);return this.module.HEAPU8.subarray(r,r+t)}withZipfileWalker(e,t){var r=this;return(0,he.Z)(function*(){const o=r.guard(()=>{const i=r.copyIn(e),s=new r.module.ZipfileWalker(e.length,i);return r.cloudpilot.Free(i),s});try{return yield t(r.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>r.copyOut(o.GetCurrentEntryContent(),o.GetCurrentEntrySize())},o)))}finally{r.module.destroy(o)}})()}withZipfileWalkerSync(e,t){const r=this.guard(()=>{const o=this.copyIn(e),i=new this.module.ZipfileWalker(e.length,o);return this.cloudpilot.Free(o),i});try{return t(this.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>this.copyOut(r.GetCurrentEntryContent(),r.GetCurrentEntrySize())},r)))}finally{this.module.destroy(r)}}serializeSessionImage(e){const t=new this.module.SessionImage,r=this.cloudpilot.Nullptr(),o=this.copyIn(e.rom),i=e.memory?this.copyIn(e.memory):r,s=void 0!==e.savestate?this.copyIn(e.savestate):r;let a=r,u=0;if(void 0!==e.metadata){const m=(new TextEncoder).encode(JSON.stringify(e.metadata));u=m.length,a=this.copyIn(m)}t.SetRomImage(o,e.rom.length),t.SetMemoryImage(i,e.memory?.length||0),t.SetDeviceId(e.deviceId),t.SetSavestate(s,e.savestate?.length||0),t.SetMetadata(a,u);const f=t.Serialize()?this.copyOut(t.GetSerializedImage(),t.GetSerializedImageSize()):void 0;return this.module.destroy(t),[o,i,s,a].forEach(m=>this.cloudpilot.Free(m)),f}deserializeSessionImage(e){const t=new this.module.SessionImage,r=this.copyIn(e),o=(()=>{if(!t.Deserialize(r,e.length))return;const i=this.copyOut(t.GetRomImage(),t.GetRomImageSize()),s=this.copyOut(t.GetMemoryImage(),t.GetMemoryImageSize()),a=this.copyOut(t.GetSavestate(),t.GetSavestateSize()),u=t.GetDeviceId();if(!CM.includes(u))return void console.warn(`unsupported device ${u}`);let f;const m=this.copyOut(t.GetMetadata(),t.GetMetadataSize());if(m)try{f=JSON.parse((new TextDecoder).decode(m))}catch(_){console.warn("invalid metadata",_)}return{deviceId:u,rom:i,memory:s,savestate:a,metadata:f,version:t.GetVersion()}})();return this.module.destroy(t),this.cloudpilot.Free(r),o}launchAppByName(e){return this.cloudpilot.LaunchAppByName(e)}launchAppByDbHeader(e){if(e.length<32)return!1;const t=this.copyIn(e.subarray(0,32)),r=this.cloudpilot.LaunchAppByDbHeader(t,32);return this.cloudpilot.Free(t),r}deviceSupportsCardSize(e){return this.cloudpilot.DeviceSupportsCardSize(e)}clearExternalStorage(){this.cloudpilot.ClearExternalStorage()}allocateCard(e,t){return this.cloudpilot.AllocateCard(e,t>>>9)}getCardData(e){const t=this.module.getPointer(this.cloudpilot.GetCardData(e));if(0!==t)return this.module.HEAPU32.subarray(t>>>2,t+this.cloudpilot.GetCardSize(e)>>2)}getCardDirtyPages(e){const t=this.module.getPointer(this.cloudpilot.GetCardDirtyPages(e));if(0===t)return;const r=h0(this.cloudpilot.GetCardSize(e));return this.module.HEAPU8.subarray(t,t+r)}getMountedKey(){return this.cloudpilot.GetMountedKey()}mountCard(e){return this.cloudpilot.MountCard(e)}removeCard(e){return this.cloudpilot.RemoveCard(e)}remountCards(){this.cloudpilot.RemountCards()}getCardSupportLevel(e){return this.cloudpilot.GetSupportLevel(e)}copyIn(e){const t=this.cloudpilot.Malloc(e.length),r=this.module.getPointer(t);return this.module.HEAP8.subarray(r,r+e.length).set(e),t}copyIn32(e){const t=this.cloudpilot.Malloc(e.length<<2),r=this.module.getPointer(t);return this.module.HEAP32.subarray(r>>>2,(r>>>2)+e.length).set(e),t}copyOut(e,t){const r=this.module.getPointer(e);return r>0&&t>0?this.module.HEAPU8.subarray(r,r+t).slice():void 0}wrap(e){return new Proxy(e,{get:(t,r)=>{const o=t[r];return"function"!=typeof o?o:(...i)=>this.guard(()=>o.apply(t,i))}})}guard(e){if(this.amIdead)throw new Error("cloudpilot instance is dead");try{return e()}catch(t){throw this.amIdead=!0,this.cloudpilot=void 0,this.fatalErrorEvent.dispatch(t instanceof Error?t:new Error("unknown error")),t}}}G([an()],qt.prototype,"getRomInfo",null),G([an()],qt.prototype,"initializeSession",null),G([an()],qt.prototype,"cyclesPerSecond",null),G([an()],qt.prototype,"runEmulation",null),G([an()],qt.prototype,"getFrame",null),G([an()],qt.prototype,"isScreenDirty",null),G([an()],qt.prototype,"markScreenClean",null),G([an()],qt.prototype,"minRamForDevice",null),G([an()],qt.prototype,"framebufferSizeForDevice",null),G([an()],qt.prototype,"totalMemorySizeForDevice",null),G([an()],qt.prototype,"queuePenMove",null),G([an()],qt.prototype,"queuePenUp",null),G([an()],qt.prototype,"queueButtonDown",null),G([an()],qt.prototype,"queueButtonUp",null),G([an()],qt.prototype,"queueKeyboardEvent",null),G([an()],qt.prototype,"isPowerOff",null),G([an()],qt.prototype,"isUiInitialized",null),G([an()],qt.prototype,"isSetupComplete",null),G([an()],qt.prototype,"getOSVersion",null),G([an()],qt.prototype,"reset",null),G([an()],qt.prototype,"resetNoExtensions",null),G([an()],qt.prototype,"resetHard",null),G([an()],qt.prototype,"installDb",null),G([an()],qt.prototype,"getPalette2bitMapping",null),G([an()],qt.prototype,"getMemory",null),G([an()],qt.prototype,"getMemory32",null),G([an()],qt.prototype,"getDirtyPages",null),G([an()],qt.prototype,"loadMemory",null),G([an()],qt.prototype,"getRomImage",null),G([an()],qt.prototype,"getSavestate",null),G([an()],qt.prototype,"saveState",null),G([an()],qt.prototype,"loadState",null),G([an()],qt.prototype,"getHotsyncName",null),G([an()],qt.prototype,"setClockFactor",null),G([an()],qt.prototype,"setHotsyncName",null),G([an()],qt.prototype,"setClipboardIntegration",null),G([an()],qt.prototype,"getClipboardIntegration",null),G([an()],qt.prototype,"isSuspended",null),G([an()],qt.prototype,"getSuspendKind",null),G([an()],qt.prototype,"cancelSuspend",null),G([an()],qt.prototype,"getSuspendContextClipboardCopy",null),G([an()],qt.prototype,"getSuspendContextClipboardPaste",null),G([an()],qt.prototype,"setNetworkRedirection",null),G([an()],qt.prototype,"getNetworkRedirection",null),G([an()],qt.prototype,"getSuspendContextNetworkConnect",null),G([an()],qt.prototype,"getSuspendContextNetworkRpc",null),G([an()],qt.prototype,"copyBuffer",null),G([an()],qt.prototype,"freeBuffer",null),G([an()],qt.prototype,"setHotsyncNameManagement",null),G([an()],qt.prototype,"resolveBuffer",null),G([an()],qt.prototype,"serializeSessionImage",null),G([an()],qt.prototype,"deserializeSessionImage",null),G([an()],qt.prototype,"launchAppByName",null),G([an()],qt.prototype,"launchAppByDbHeader",null),G([an()],qt.prototype,"deviceSupportsCardSize",null),G([an()],qt.prototype,"clearExternalStorage",null),G([an()],qt.prototype,"allocateCard",null),G([an()],qt.prototype,"getCardData",null),G([an()],qt.prototype,"getCardDirtyPages",null),G([an()],qt.prototype,"getMountedKey",null),G([an()],qt.prototype,"mountCard",null),G([an()],qt.prototype,"removeCard",null),G([an()],qt.prototype,"remountCards",null),G([an()],qt.prototype,"getCardSupportLevel",null);class Ki{constructor(){this.cloudpilot=qt.create()}}Ki.\u0275fac=function(e){return new(e||Ki)},Ki.\u0275prov=yt({token:Ki,factory:Ki.\u0275fac,providedIn:"root"});class Bs{constructor(e,t,r,o,i,s,a,u){this.storageService=e,this.loadingController=t,this.actionSheetController=r,this.kvsService=o,this.modalController=i,this.alertService=s,this.fetchService=a,this.cloudpilotService=u}openFile(e){this.openFilesImpl(!1,t=>{t.length>0&&e(t[0])})}openFiles(e){this.openFilesImpl(!0,e)}openFromDrop(e,t){if("drop"!==e.type||!e.dataTransfer?.files)return;const r=Array.from(e.dataTransfer.files).map(this.readFile.bind(this));Promise.all(r).then(o=>o.filter(i=>!!i)).then(o=>o.length>0&&t(o))}saveSession(e){var t=this;return(0,he.Z)(function*(){const r=yield t.loadingController.create({message:"Exporting..."});yield r.present();try{const[o,i,s]=yield t.storageService.loadSession(e);if(!o)throw new Error(`invalid ROM ${e.rom}`);const a={deviceId:e.device,metadata:wM(e),rom:o,memory:i,savestate:s},u=(yield t.cloudpilotService.cloudpilot).serializeSessionImage(a);u?t.saveFile(vM(e),u):(yield r.dismiss(),t.alertService.errorMessage("Failed to save session."))}finally{r.dismiss()}})()}emergencySaveSession(e,t){var r=this;return(0,he.Z)(function*(){const o=yield r.loadingController.create({message:"Exporting..."});o.style.zIndex="10000000",yield o.present();try{const i=t.getRomImage().slice(),s=t.getMemory().slice(),a=t.saveState()?t.getSavestate().slice():void 0;if(t.framebufferSizeForDevice(e.device)<0)throw new Error(`invalid device ID ${e.device}`);const f={deviceId:e.device,metadata:wM(e),rom:i,memory:s,savestate:a},m=(yield r.cloudpilotService.cloudpilot).serializeSessionImage(f);m&&r.saveFile(vM(e),m)}finally{o.dismiss()}})()}saveFile(e,t){const r=new Blob([t],{type:"application/octet-stream"}),o=URL.createObjectURL(r),i=document.createElement("a");i.href=o,i.download=e,i.click()}openUrl(e,t){var r=this;return(0,he.Z)(function*(){let o;try{o=new(Du())(e)}catch{return void(yield r.alertService.errorMessage(`Invalid URL: ${e}`))}try{const i=yield r.fetchService.fetch(e);if(!i.ok)throw new Error("request failed");return void t({name:o.pathname.replace(/.*\//,""),content:new Uint8Array(yield i.arrayBuffer())})}catch{yield r.alertService.errorMessage(`Download from ${e} failed.`)}})()}openFilesImpl(e,t){var r=this;return(0,he.Z)(function*(){r.kvsService.kvs.enableRemoteInstall?(yield r.actionSheetController.create({header:"What source do you want to open?",buttons:[{text:"Local files",handler:()=>r.openFilesLocal(e,t)},{text:"File on remote server",handler:()=>r.queryAndOpenFileRemote(t)},{text:"Cancel"}]})).present():r.openFilesLocal(e,t)})()}queryAndOpenFileRemote(e){var t=this;return(0,he.Z)(function*(){let r;try{r=yield new Promise((o,i)=>t.modalController.create({component:Jf,backdropDismiss:!1,componentProps:{onContinue:o,onCancel:i}}).then(s=>s.present()))}catch{return}finally{t.modalController.dismiss()}yield t.openUrl(r,o=>e([o]))})()}openFilesLocal(e,t){var r=this;this.input&&document.body.removeChild(this.input),this.input=document.createElement("input"),this.input.style.display="none",this.input.multiple=e,this.input.type="file",this.input.addEventListener("change",function(){var o=(0,he.Z)(function*(i){const s=i.target;if(!s?.files)return;const a=Array.from(s.files).map(r.readFile.bind(r));Promise.all(a).then(u=>u.filter(f=>!!f)).then(u=>u.length>0&&t(u))});return function(i){return o.apply(this,arguments)}}()),document.body.appendChild(this.input),this.input.click()}readFile(e){return new Promise(t=>{const r=new FileReader;r.onload=()=>t({content:new Uint8Array(r.result),name:e.name}),r.onerror=()=>{console.warn(r.error),t(void 0)},r.readAsArrayBuffer(e)})}}Bs.\u0275fac=function(e){return new(e||Bs)(ne(Xn),ne(Ll),ne(qf),ne(Yo),ne(ps),ne(zr),ne(Tc),ne(Ki))},Bs.\u0275prov=yt({token:Bs,factory:Bs.\u0275fac,providedIn:"root"});class Zl{constructor(e){this.zone=e,this.modalVisibilityChangeEvent=new ii.j,this.modalActive=!1,this.update(),this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}isModalActive(){return this.modalActive}update(){const e=document.querySelectorAll("ion-alert, ion-modal").length>0;e!==this.modalActive&&this.zone.run(()=>{this.modalActive=e,this.modalVisibilityChangeEvent.dispatch(e)})}}Zl.\u0275fac=function(e){return new(e||Zl)(ne(ft))},Zl.\u0275prov=yt({token:Zl,factory:Zl.\u0275fac,providedIn:"root"});const jm=new Error("permission denied");class Ac{constructor(e,t){this.alertController=e,this.alertService=t,this.clipboardContent="",this.lastClipboardReadAt=performance.now()}isSupported(){return!!navigator.clipboard?.readText&&!!navigator.clipboard?.writeText}handleSuspend(e){if(e.isSuspended())switch(e.getSuspendKind()){case 1:this.handleCopy(e);break;case 2:this.handlePaste(e)}}handleCopy(e){var t=this;return(0,he.Z)(function*(){const r=e.getSuspendContextClipboardCopy(),o=r.GetClipboardContent();try{return yield t.tryCopyDirect(o),void r.Resume()}catch(i){if(i===jm)return r.Cancel(),t.msgPermissionDenied()}try{yield t.tryCopyWithInteraction(o),r.Resume()}catch{yield t.msgCopyFailed(),r.Cancel()}})()}tryCopyDirect(e){var t=this;return(0,he.Z)(function*(){try{yield navigator.clipboard.writeText(e)}catch(r){throw(yield t.isPermissionDenied("clipboard-write"))?jm:r}})()}tryCopyWithInteraction(e){var t=this;return new Promise(function(){var r=(0,he.Z)(function*(o,i){try{const s=yield t.alertController.create({header:"Confirm Copy",message:"Please confirm that you want to copy to the host clipboard",backdropDismiss:!1,buttons:[{text:"Copy",handler:(a=(0,he.Z)(function*(){s.dismiss();try{yield navigator.clipboard.writeText(e),o(!0)}catch(u){i(u)}}),function(){return a.apply(this,arguments)})},{text:"Cancel",handler:()=>{s.dismiss(),o(!1)}}]});s.present()}catch(s){i(s)}var a});return function(o,i){return r.apply(this,arguments)}}())}handlePaste(e){var t=this;return(0,he.Z)(function*(){const r=yield t.tryPaste();e.getSuspendContextClipboardPaste().Resume(r??""),void 0!==r&&(t.clipboardContent=r,t.lastClipboardReadAt=performance.now())})()}tryPaste(){var e=this;return(0,he.Z)(function*(){if(performance.now()-e.lastClipboardReadAt<3e3)return e.clipboardContent;try{return yield e.tryPasteDirect()}catch(t){if(t===jm)return void(yield e.msgPermissionDenied())}try{return yield e.tryPasteWithInteraction()}catch{return void(yield e.msgPasteFailed())}})()}tryPasteDirect(){var e=this;return(0,he.Z)(function*(){try{return yield navigator.clipboard.readText()}catch(t){throw(yield e.isPermissionDenied("clipboard-read"))?jm:t}})()}tryPasteWithInteraction(){var e=this;return new Promise(function(){var t=(0,he.Z)(function*(r,o){try{const i=yield e.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard",backdropDismiss:!1,buttons:[{text:"Paste",handler:(s=(0,he.Z)(function*(){i.dismiss();try{r(yield navigator.clipboard.readText())}catch(a){o(a)}}),function(){return s.apply(this,arguments)})},{text:"Cancel",handler:()=>{i.dismiss(),r(void 0)}}]});i.present()}catch(i){o(i)}var s});return function(r,o){return t.apply(this,arguments)}}())}handlePasteSafari(e){var t=this;return(0,he.Z)(function*(){const r=yield t.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard.",backdropDismiss:!1,buttons:[{text:"Paste",handler:(o=(0,he.Z)(function*(){try{t.clipboardContent=yield navigator.clipboard.readText(),t.lastClipboardReadAt=performance.now(),r.dismiss(),e.Resume(t.clipboardContent)}catch{r.dismiss(),yield t.alertService.errorMessage("Paste from host clipboard failed."),e.Resume("")}}),function(){return o.apply(this,arguments)})},{text:"Cancel",handler:()=>{r.dismiss(),e.Resume("")}}]});var o;yield r.present()})()}isPermissionDenied(e){return(0,he.Z)(function*(){if(navigator.permissions)try{return"denied"===(yield navigator.permissions.query({name:e}))?.state}catch{return!1}return!1})()}msgPermissionDenied(){return this.alertService.errorMessage(`\n        CloudpilotEmu has no permission to access the clipboard. Please check your browser's settings\n        and grant the necessary permission to ${location.origin} .\n    `)}msgCopyFailed(){return this.alertService.errorMessage("Failed to copy to the host clipboard.")}msgPasteFailed(){return this.alertService.errorMessage("Failed to paste from the host clipboard.")}}Ac.\u0275fac=function(e){return new(e||Ac)(ne(zu),ne(zr))},Ac.\u0275prov=yt({token:Ac,factory:Ac.\u0275fac,providedIn:"root"});const TH="https:"===window.location.protocol?8667:8666,AH=/^[\da-z\-\.]+$/i,xH=/^[\da-z\-\.]+:\d+$/i;function m0(n){if(!n)return;const e=window.location.protocol;if(n.match(AH))return`${e}//${n}:${TH}`;if(n.match(xH))return`${e}//${n}`;try{const t=new URL(n);if("https:"===t.protocol||"http:"===t.protocol)return t.toString().replace(/\/+$/,"")}catch{}}function PH(n){return void 0!==m0(n.value)?null:{proxyAddress:"invalid"}}class ql{constructor(e,t,r,o){var i=this;this.kvsService=e,this.alertService=t,this.ngZone=r,this.fetchService=o,this.handleConnect=()=>this.mutex.runExclusive((0,he.Z)(function*(){i.socket&&i.disconnect(i.socket);const s=m0(i.kvsService.kvs.proxyServer);if(!s)return yield i.alertService.errorMessage(`Invalid proxy address: ${i.kvsService.kvs.proxyServer}`),void i.cloudpilot.getSuspendContextNetworkConnect().Cancel();const a=yield i.handshake(void 0,500);switch(a.status){case"failed":return void i.onSocketError(void 0);case"version_mismatch":return yield i.alertService.proxyVersionMismatchError(),void i.cancelSuspend();case"success":break;default:throw new Error("unreachable")}i.socket=new WebSocket(`${s.replace(/^http/,"ws")}/network-proxy/connect?token=${encodeURIComponent(a.token)}`),i.socket.binaryType="arraybuffer",i.bindListeners(i.socket),i.ngZone.run(()=>i.connectTimeoutHandle=setTimeout(i.onSocketError,5e3))})),this.onSocketOpen=()=>{if(this.cancelConnectTimeout(),!this.cloudpilot.isSuspended()||4!==this.cloudpilot.getSuspendKind())return console.error("ERROR: socket connected, but emulation is not waiting for connect"),void this.disconnect(this.socket);this.sessionId=c0(),this.cloudpilot.getSuspendContextNetworkConnect().Resume(this.sessionId),this.resumeEvent.dispatch()},this.onSocketMessage=s=>{if(!this.cloudpilot.isSuspended()||3!==this.cloudpilot.getSuspendKind())return void console.error("ERROR: socket received message, but emulation is not waiting for rpc");if(!(s.data instanceof ArrayBuffer))return console.error("ERROR: socket received a text frame"),this.disconnect(this.socket),this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),void this.cancelSuspend();const a=this.cloudpilot.copyBuffer(new Uint8Array(s.data));this.cloudpilot.getSuspendContextNetworkRpc().ReceiveResponse(a,s.data.byteLength),this.cloudpilot.freeBuffer(a),this.resumeEvent.dispatch()},this.onSocketError=s=>{this.cancelConnectTimeout(),this.cloudpilot.isSuspended()&&4===this.cloudpilot.getSuspendKind()?this.alertService.errorMessage("Failed to connect to proxy."):this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(this.socket),this.cancelSuspend(),console.error("ERROR: socket error",s)},this.onSocketClose=()=>{this.cancelConnectTimeout(),this.alertService.errorMessage("Connection to proxy closed unexpectedly"),this.unbindListeners(this.socket),this.cancelSuspend(),this.sessionId="",this.socket=void 0},this.onProxyDisconnect=s=>{s!==this.sessionId||!this.socket||this.ngZone.run(()=>this.disconnect(this.socket))},this.resumeEvent=new ii.j,this.mutex=new ka,this.sessionId=""}initialize(e){this.cloudpilot=e,e.proxyDisconnectEvent.addHandler(this.onProxyDisconnect)}reset(){this.socket&&this.disconnect(this.socket)}handleSuspend(){if(this.cloudpilot&&this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:this.handleConnect();break;case 3:this.handleRpc()}}isConnected(){return!!this.socket}handshake(e=this.kvsService.kvs.proxyServer,t=-1){var r=this;return(0,he.Z)(function*(){const o=m0(e);if(!o)return{status:"failed"};try{const i=yield r.fetchService.fetch(`${o}/network-proxy/handshake`,{method:"POST",loaderDelay:t});if(!i.ok)return{status:"failed"};const s=yield i.json();return s.version<3||s.compatVersion>3?{status:"version_mismatch"}:{status:"success",token:s.token}}catch{return{status:"failed"}}})()}handleRpc(){const e=this.cloudpilot.getSuspendContextNetworkRpc();this.socket?this.socket.send(this.cloudpilot.resolveBuffer(e.GetRequestData(),e.GetRequestSize())):e.Cancel()}disconnect(e){e&&(this.unbindListeners(e),e.close()),this.sessionId="",this.socket=void 0}bindListeners(e){this.ngZone.run(()=>{e.addEventListener("open",this.onSocketOpen),e.addEventListener("error",this.onSocketError),e.addEventListener("close",this.onSocketClose)}),this.ngZone.runOutsideAngular(()=>e.addEventListener("message",this.onSocketMessage))}unbindListeners(e){e&&(e.removeEventListener("message",this.onSocketMessage),e.removeEventListener("open",this.onSocketOpen),e.removeEventListener("error",this.onSocketError),e.removeEventListener("close",this.onSocketClose))}cancelSuspend(){if(this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:case 3:this.cloudpilot.cancelSuspend()}}cancelConnectTimeout(){void 0!==this.connectTimeoutHandle&&clearTimeout(this.connectTimeoutHandle),this.connectTimeoutHandle=void 0}}ql.\u0275fac=function(e){return new(e||ql)(ne(Yo),ne(zr),ne(ft),ne(Tc))},ql.\u0275prov=yt({token:ql,factory:ql.\u0275fac,providedIn:"root"});class xc{constructor(){this.buttons=new Map}reset(e){this.cloudpilot=e,this.buttons.clear(),[6,7].forEach(t=>e.queueButtonUp(t))}engage(e){this.cloudpilot&&(this.buttons.has(e)?this.buttons.get(e).timer=0:(this.buttons.set(e,{button:e,timer:0}),this.cloudpilot?.queueButtonDown(e)))}tick(e){if(this.cloudpilot)for(const[t,r]of this.buttons)r.timer+=1e3*e,r.timer>250&&(this.cloudpilot.queueButtonUp(t),this.buttons.delete(t))}}xc.\u0275fac=function(e){return new(e||xc)},xc.\u0275prov=yt({token:xc,factory:xc.\u0275fac,providedIn:"root"});class Pc{constructor(){this.hasRenderedPromise=new Promise(e=>this.hasRenderedResolve=e)}notifyHasRendered(){this.hasRenderedResolve()}hasRendered(){return this.hasRenderedPromise}}Pc.\u0275fac=function(e){return new(e||Pc)},Pc.\u0275prov=yt({token:Pc,factory:Pc.\u0275fac,providedIn:"root"});var NH=P(9084),EM=P.n(NH);function g0(){return(g0=(0,he.Z)(function*(n){const e=yield y0.create();if(e.mkfs(n))return e.getImage()})).apply(this,arguments)}const DM="fstools_web.wasm",IM=WebAssembly.compileStreaming?WebAssembly.compileStreaming(fetch(DM)):fetch(DM).then(n=>n.arrayBuffer()).then(n=>WebAssembly.compile(n));class y0{constructor(e){this.module=e,this.nativeContext=new e.MkfsContext}static create(){return(0,he.Z)(function*(){return new y0(yield EM()({print:e=>console.log(e),printErr:e=>console.error(e),instantiateWasm:(e=(0,he.Z)(function*(t,r){return r(yield WebAssembly.instantiate(yield IM,t))}),function(r,o){return e.apply(this,arguments)})}));var e})()}mkfs(e){return this.nativeContext.Mkfs(e,"card")}getImage(){const e=this.nativeContext.GetImageSize(),t=this.module.getPointer(this.nativeContext.GetImage());if(0!==e&&0!==t)return this.module.HEAPU32.subarray(t>>>2,t+e>>>2)}}class Hm{constructor(e,t){this.module=e,this.result=0,this.nativeContext=new e.FsckContext(t>>>9)}static create(e){return(0,he.Z)(function*(){const t=yield EM()({print:r=>console.log(r),printErr:r=>console.error(r),instantiateWasm:(r=(0,he.Z)(function*(o,i){return i(yield WebAssembly.instantiate(yield IM,o))}),function(i,s){return r.apply(this,arguments)})});var r;return new Hm(t,e)})()}getImageData(){const e=this.nativeContext.GetImageSize(),t=this.module.getPointer(this.nativeContext.GetImage());return this.module.HEAPU32.subarray(t>>>2,t+e>>2)}getDirtyPages(){const e=this.module.getPointer(this.nativeContext.GetDirtyPages()),t=h0(this.nativeContext.GetImageSize());return this.module.HEAPU8.subarray(e,e+t)}fsck(){if(0!==this.result)return this.result;try{return this.result=this.nativeContext.Fsck(),this.result}catch(e){return console.warn("fsck failed",e),this.result=4,this.result}}getResult(){return this.result}}var Mr=(()=>{return(n=Mr||(Mr={})).dirty="dirty",n.clean="clean",n.unformatted="unformatted",n.unfixable="unfixable",Mr;var n})(),Cr=(()=>{return(n=Cr||(Cr={})).portrait="portrait",n.landscape90="landscape90",n.landscape270="landscape270",n.portrait180="portrait180",Cr;var n})();class xa{constructor(e,t,r){this.cloudpilotService=e,this.storageService=t,this.loadingController=r,this.sessions=[],this.loading=!0,this.updateMutex=new ka,this.updateSessionsFromStorage().then(()=>this.loading=!1),this.storageService.sessionChangeEvent.addHandler(this.updateSessionsFromStorage.bind(this))}isLoading(){return this.loading}addSessionFromImage(e,t,r={}){var o=this;return(0,he.Z)(function*(){const i={hotsyncName:e.metadata?.hotsyncName,dontManageHotsyncName:!1,speed:1,deviceOrientation:Cr.portrait,...r,id:-1,name:t,device:e.deviceId,ram:(yield o.cloudpilotService.cloudpilot).minRamForDevice(e.deviceId)/1024/1024,rom:"",osVersion:e?.metadata?.osVersion},s=yield o.loadingController.create({message:"Importing..."});yield s.present();const a=yield o.storageService.addSession(i,e.rom,e.memory,e.savestate);return yield o.updateSessionsFromStorage(),yield s.dismiss(),a})()}addSessionFromRom(e,t,r,o={}){var i=this;return(0,he.Z)(function*(){const s={hotsyncName:"",dontManageHotsyncName:!1,speed:1,deviceOrientation:Cr.portrait,...o,id:-1,name:t,device:r,ram:(yield i.cloudpilotService.cloudpilot).minRamForDevice(r)/1024/1024,rom:""},a=yield i.loadingController.create({message:"Importing..."});yield a.present();const u=yield i.storageService.addSession(s,e);return yield i.updateSessionsFromStorage(),yield a.dismiss(),u})()}getSessions(){return this.sessions}deleteSession(e){var t=this;return(0,he.Z)(function*(){yield t.storageService.deleteSession(e)})()}updateSession(e){var t=this;return(0,he.Z)(function*(){yield t.storageService.updateSession(e)})()}updateSessionsFromStorage(){var e=this;return(0,he.Z)(function*(){e.sessions=yield e.updateMutex.runExclusive((0,he.Z)(function*(){return(yield e.storageService.getAllSessions()).sort((t,r)=>t.name.localeCompare(r.name))}))})()}}xa.\u0275fac=function(e){return new(e||xa)(ne(Ki),ne(Xn),ne(Ll))},xa.\u0275prov=yt({token:xa,factory:xa.\u0275fac,providedIn:"root"});var $H=P(7971),BH=P.n($H);function VH(n){return{readonly:0!=(1&n),hidden:0!=(2&n),system:0!=(4&n)}}function kM(n,e){const t=n.GetName(),r=n.GetModifiedTS();return{path:e,name:t,size:n.GetSize(),lastModifiedTS:r,lastModifiedLocalDate:new Date(1e3*r).toLocaleDateString(),isDirectory:n.IsDirectory(),attributes:VH(n.GetAttributes())}}class _0{constructor(e){this.module=e,this.vfsNative=new e.Vfs}static create(){return(0,he.Z)(function*(){return new _0(yield BH()({print:e=>console.log(e),printErr:e=>console.error(e)}))})()}allocateImage(e){this.vfsNative.AllocateImage(e>>>9)}mountImage(e){return this.vfsNative.MountImage(e)}unmountImage(e){this.vfsNative.UnmountImage(e)}getPendingImage(){const e=this.module.getPointer(this.vfsNative.GetPendingImage()),t=this.vfsNative.GetPendingImageSize();if(0!==e&&0!==t)return this.module.HEAPU32.subarray(e>>>2,e+t>>>2)}getImageInSlot(e){const t=this.module.getPointer(this.vfsNative.GetImage(e)),r=this.vfsNative.GetSize(e);if(0!==t&&0!==r)return this.module.HEAPU32.subarray(t>>>2,t+r>>>2)}getDirtyPagesForSlot(e){const t=this.module.getPointer(this.vfsNative.GetDirtyPages(e));if(0===t)return;const r=h0(this.vfsNative.GetSize(e));return this.module.HEAPU8.subarray(t,t+r)}readdir(e){const t=new this.module.ReaddirContext(e);try{const r=[];for(;0===t.GetStatus();){const o=t.GetEntry();r.push(kM(o,`${e.replace(/\/*$/,"")}/${o.GetName()}`)),t.Next()}if(2===t.GetStatus()){console.warn(`readdir failed: ${t.GetErrorDescription()}`);const o=t.GetError();return{error:0===o?2:o,reason:t.GetErrorDescription()}}return{error:0,entries:r}}finally{this.module.destroy(t)}}rename(e,t){return this.vfsNative.RenameFile(e,t)}chmod(e,t){let r=0,o=0,i=(s,a)=>{void 0!==s&&(o|=a,s&&(r|=a))};return i(t.hidden,2),i(t.readonly,1),i(t.system,4),this.vfsNative.ChmodFile(e,r,o)}stat(e){const t=this.vfsNative.StatFile(e);return 0!==t?{result:t,entry:void 0}:{entry:kM(this.vfsNative.GetEntry(),e),result:t}}bytesFree(e){return this.vfsNative.BytesFree(e)}bytesTotal(e){return this.vfsNative.BytesTotal(e)}readFile(e){if(!this.vfsNative.ReadFile(e))return;const t=this.module.getPointer(this.vfsNative.GetCurrentFileContent()),r=this.vfsNative.GetCurrentFileSize(),o=this.module.HEAPU8.subarray(t,t+r).slice();return this.vfsNative.ReleaseCurrentFile(),o}unlinkFile(e){return this.vfsNative.UnlinkFile(e)}mkdir(e){return this.vfsNative.Mkdir(e)}createZipArchive({files:e,directories:t,prefix:r}){var o=this;return(0,he.Z)(function*(){const i=new o.module.CreateZipContext(r,25),s=[];try{for(e&&e.forEach(m=>i.AddFile(m)),t&&t.forEach(m=>i.AddDirectory(m));2!==i.GetState();){switch(i.Continue()){case-2:case-1:s.push(i.GetErrorItem())}2!==i.GetState()&&(yield new Promise(m=>setTimeout(m,0)))}let a;const u=o.module.getPointer(i.GetZipContent()),f=i.GetZipSize();return 0!==u&&0!==f&&(a=o.module.HEAPU8.subarray(u,u+f).slice()),{archive:a,failedItems:s}}finally{o.module.destroy(i)}})()}deleteRecursive({files:e,directories:t}){var r=this;return(0,he.Z)(function*(){const o=new r.module.DeleteRecursiveContext(25);try{for(e&&e.forEach(i=>o.AddFile(i)),t&&t.forEach(i=>o.AddDirectory(i));1===o.Continue();)yield new Promise(i=>setTimeout(i,0));return 2===o.GetState()?{success:!0}:{success:!1,failingItem:o.GetFailingPath()}}finally{r.module.destroy(o)}})()}}var UH=P(5541),MM=P.n(UH);class Pa{constructor(e,t,r,o,i){this.storageService=e,this.storageCardContext=t,this.alertService=r,this.fileService=o,this.loadingController=i,this.onReleaseCard=new ii.j,this.vfs=_0.create(),this.directoryCache=new Map,this.bytesFree=0,this.bytesTotal=0,this.vfs.then(s=>this.vfsInstance=s)}normalizePath(e){return("/"+e).replace(/\/{2,}/g,"/").replace(/\/*$/,"")}splitPath(e){return this.normalizePath(e).replace(/^\/+/,"").split("/")}dirname(e){return this.normalizePath(e).replace(/\/[^\/]*$/,"")}isFilenameValid(e){return void 0===e||!/[\/\\]/.test(e)}mountCardUnchecked(e,t,r){var o=this;return(0,he.Z)(function*(){const i=yield o.storageService.getCard(e);if(!i)throw new Error(`no card with id ${e}`);if(o.storageCardContext.claim(e,Gr.vfs),o.directoryCache.clear(),o.mountedCard?.id===e)return!0;o.mountedCard&&(yield o.releaseCard(o.mountedCard.id));const s=yield o.vfs;s.allocateImage(i.size);const a=s.getPendingImage();if(!a)throw new Error("failed to allocate image");return r?a.set(r):yield o.storageService.loadCardData(e,a,Gr.vfs),!!s.mountImage(0)&&(o.mountedCard=i,o.bytesFree=s.bytesFree(0),o.bytesTotal=s.bytesTotal(0),!0)})()}releaseCard(e=this.mountedCard?.id){var t=this;return(0,he.Z)(function*(){void 0===e||e!==t.mountedCard?.id||((yield t.vfs).unmountImage(0),t.mountedCard=void 0,t.storageCardContext.release(e,Gr.vfs),t.onReleaseCard.dispatch(e))})()}readdir(e){if(!this.vfsInstance)return[];const t=this.normalizePath(e);if(!this.directoryCache.has(t)){const r=this.vfsInstance.readdir(e);this.directoryCache.set(t,0===r.error?r.entries:[])}return this.directoryCache.get(t)||[]}updateFileEntry(e,t){var r=this;return(0,he.Z)(function*(){const o=yield r.vfs;if(e=r.normalizePath(e),!r.isFilenameValid(t.name))return void(yield r.error("The provided file name is invalid."));const{result:i,entry:s}=o.stat(e);if(0===i)if(void 0===t.attributes||MM()(t.attributes,s.attributes)||0===(r.directoryCache.delete(r.dirname(e)),o.chmod(e,t.attributes))){if(void 0!==t.name&&t.name!==s.name)switch(r.directoryCache.delete(r.dirname(e)),o.rename(e,`${r.dirname(e)}/${t.name}`)){case 0:break;case 6:return void(yield r.error("The provided file name is invalid."));default:return void(yield r.fatalError("Unable to write the updated file attributes."))}yield r.sync()}else yield r.fatalError("Unable to write the updated file attributes.");else yield r.error(`The path ${e} is invalid. This is a bug in Cloudpilot.`)})()}saveFile(e){var t=this;return(0,he.Z)(function*(){const r=yield t.loadingController.create();yield r.present();try{const i=(yield t.vfs).readFile(e.path);if(!i)return void(yield t.alertService.errorMessage(`Could not read file '${e.name}'.`));t.fileService.saveFile(e.name,i)}finally{yield r.dismiss()}})()}archiveFiles(e,t){var r=this;return(0,he.Z)(function*(){if(0===e.length||!r.mountedCard)return;const o=yield r.loadingController.create({message:"Creating archive..."});yield o.present();try{const i=yield r.vfs,s=e.filter(_=>_.isDirectory).map(_=>r.normalizePath(_.path)),a=e.filter(_=>!_.isDirectory).map(_=>r.normalizePath(_.path)),u=1===e.length?`${e[0].name}.zip`:function EH(n){return`files_${Um(n.name)}.zip`}(r.mountedCard),{archive:f,failedItems:m}=yield i.createZipArchive({directories:s,files:a,prefix:t});yield o.dismiss(),m.length>0&&(m.length<=3?yield r.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${m.join("<br>")}`):yield r.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${m.slice(0,3).join("<br>")}<br><br> and ${m.length-3} other file`)),f&&r.fileService.saveFile(u,f)}finally{yield o.dismiss()}})()}unlinkEntry(e){var t=this;return(0,he.Z)(function*(){if(e.isDirectory)return;const o=(yield t.vfs).unlinkFile(e.path);if(0!==o)return console.error(`failed to unlink ${e.path}: ${o}`),void(yield t.error(`Failed to delete: ${e.path}`));t.directoryCache.delete(t.dirname(e.path)),yield t.sync()})()}deleteRecursive(e){var t=this;return(0,he.Z)(function*(){const r=e.filter(s=>!s.isDirectory).map(s=>t.normalizePath(s.path)),o=e.filter(s=>s.isDirectory).map(s=>t.normalizePath(s.path)),i=yield t.loadingController.create({message:"Deleting..."});yield i.present();try{const a=yield(yield t.vfs).deleteRecursive({files:r,directories:o});if(!a.success)return yield i.dismiss(),void(yield t.fatalError(`Failed to delete ${a.failingItem}`));e.map(u=>u.path).forEach(u=>t.directoryCache.delete(t.dirname(u))),yield t.sync()}finally{yield i.dismiss()}})()}mkdir(e){var t=this;return(0,he.Z)(function*(){switch((yield t.vfs).mkdir(e)){case 6:return void(yield t.alertService.errorMessage("Invalid name."));case 7:return void(yield t.alertService.errorMessage("No space left on card."));case 8:return void(yield t.alertService.errorMessage("Name already taken."));case 0:break;default:return void(yield t.error(`Failed to create ${e}.`))}yield t.sync(),t.directoryCache.delete(t.dirname(e))})()}currentCard(){return this.mountedCard}getBytesFree(){return this.bytesFree}getBytesTotal(){return this.bytesTotal}error(e){var t=this;return(0,he.Z)(function*(){yield t.alertService.errorMessage(e)})()}fatalError(e){var t=this;return(0,he.Z)(function*(){t.mountedCard&&(yield t.storageService.updateStorageCardPartial(t.mountedCard.id,{status:Mr.dirty}),yield t.releaseCard(),t.alertService.errorMessage(`${e}\n        <br><br>\n        No changes have been written, and the card has been unmounted to prevent damage to the file system.\n        `))})()}sync(){var e=this;return(0,he.Z)(function*(){if(!e.mountedCard)return;const t=yield e.vfs,r=t.getImageInSlot(0),o=t.getDirtyPagesForSlot(0);!r||!o||(yield e.storageService.updateCardData(e.mountedCard.id,r,o,Gr.vfs))})()}}Pa.\u0275fac=function(e){return new(e||Pa)(ne(Xn),ne(Ma),ne(zr),ne(Bs),ne(Ll))},Pa.\u0275prov=yt({token:Pa,factory:Pa.\u0275fac,providedIn:"root"});var vo=(()=>{return(n=vo||(vo={}))[n.mb4=0]="mb4",n[n.mb8=1]="mb8",n[n.mb16=2]="mb16",n[n.mb32=3]="mb32",n[n.mb64=4]="mb64",n[n.mb128=5]="mb128",vo;var n})();function TM(){return c0().replace(/-/g,"")}class ta{constructor(e,t,r,o,i,s,a,u,f,m,_){this.sessionService=e,this.storageService=t,this.emulationStateService=r,this.cloudpilotService=o,this.loadingController=i,this.snapshotService=s,this.alertService=a,this.errorService=u,this.fileService=f,this.vfsService=m,this.storageCardContext=_,this.loading=!0,this.cards=[],this.updateMutex=new ka,this.updateCardsFromDB().then(()=>this.loading=!1),t.storageCardChangeEvent.addHandler(()=>this.updateCardsFromDB())}getAllCards(){return this.cards}createEmptyCard(e,t,r){var o=this;return(0,he.Z)(function*(){const i=yield o.loadingController.create({message:"Formatting..."});try{yield i.present();const s=yield function LH(n){return g0.apply(this,arguments)}(function jH(n){switch(n){case vo.mb4:return 4;case vo.mb8:return 8;case vo.mb16:return 16;case vo.mb32:return 32;case vo.mb64:return 64;case vo.mb128:return 128;default:throw new Error(`bad card size ${n}`)}}(t));if(!s)throw new Error("failed to create image");const a={storageId:TM(),name:e,size:4*s.length,status:Mr.clean,dontFsckAutomatically:r};return yield o.storageService.importStorageCard(a,s)}finally{i.dismiss()}})()}createCardFromFile(e,t,r){var o=this;return(0,he.Z)(function*(){const i={storageId:TM(),name:e,size:t.content.length,status:Mr.clean,dontFsckAutomatically:r},s=new Uint32Array(t.content.buffer,t.content.byteOffset,t.content.byteLength>>>2),a=yield o.loadingController.create({message:"Importing..."});try{if(r)yield a.present(),yield o.storageService.importStorageCard(i,s);else{const[u,f]=yield o.fsckNewCard(s,i);yield a.present(),yield o.storageService.importStorageCard(f,u)}}finally{a.dismiss()}})()}onEmulatorStop(){const e=this.emulationStateService.getCurrentSession()?.mountedCard;void 0!==e&&this.storageCardContext.release(e,Gr.cloudpilot)}loadCardInEmulator(e,t){var r=this;return(0,he.Z)(function*(){const o=yield r.storageService.getCard(e);if(!o)throw new Error(`no card with id ${e}`);yield r.vfsService.releaseCard(e);const i=yield r.cloudpilotService.cloudpilot;if(i.getMountedKey())throw new Error("attempt to mount a card while another card is mounted");if(!i.allocateCard(o.storageId,o.size))throw new Error("failed to allocate card");const s=i.getCardData(o.storageId);if(!s)throw new Error("failed to access card data");return r.storageCardContext.claim(e,Gr.cloudpilot),t?s.set(t):yield r.storageService.loadCardData(o.id,s,Gr.cloudpilot),o})()}ejectCurrentCard(){var e=this;return(0,he.Z)(function*(){const t=e.emulationStateService.getCurrentSession();if(!t)throw new Error("no running session");const r=t?.mountedCard;if(void 0===r)throw new Error("no mounted card");const o=yield e.storageService.getCard(r);if(!o)throw new Error(`no card with id ${r}`);yield e.storageService.updateStorageCardPartial(r,{status:Mr.dirty}),yield e.snapshotService.waitForPendingSnapshot(),yield e.snapshotService.triggerSnapshot(),yield e.storageService.updateSessionPartial(t.id,{mountedCard:void 0}),(yield e.cloudpilotService.cloudpilot).removeCard(o.storageId),e.snapshotService.resetCard(),e.storageCardContext.release(r,Gr.cloudpilot)})()}checkCard(e){var t=this;return(0,he.Z)(function*(){const r=t.mountedInSession(e.id);if(r){let i=!1;if(yield t.alertService.message("Card is attached",`This card needs to be ejected from session '${r.name}' before it can be checked.`,{"Eject now":()=>i=!0},"Cancel"),!i)return;yield t.ejectCard(e.id)}const o=yield t.executeFsckAndUpdateCard(e.id);switch(o.getResult()){case 1:return void t.alertService.cardIsClean();case 3:return void t.alertService.cardHasNoValidFileSystem();case 4:t.alertService.cardHasUncorrectableErrors();break;case 2:{let i=!1;return yield t.alertService.message("Filesystem errors",`The filesystem on this card contains errors${e.dontFsckAutomatically?"":"  that need to be fixed before it can be used"}. Do you want to fix them now?`,{"Fix now":()=>i=!0},"Cancel"),void(i?yield t.applyFsckResult(e.id,o):t.storageCardContext.release(e.id,Gr.fstools))}}})()}insertCard(e){return this.checkAndClaimCard(e,"insert")}browseCard(e){var t=this;return(0,he.Z)(function*(){const r=t.mountedInSession(e.id);if(r){let o=!1;if(yield t.alertService.message("Card is attached",`This card needs to be ejected from session '${r.name}' before it can be browsed.`,{"Eject now":()=>o=!0},"Cancel"),!o)return!1;yield t.ejectCard(e.id)}return t.checkAndClaimCard(e.id,"vfs")})()}updateCard(e,t){var r=this;return(0,he.Z)(function*(){const o=yield r.storageService.getCard(e);if(!o)throw new Error(`no card with id ${e}`);return!t.dontFsckAutomatically&&o.dontFsckAutomatically&&(t.status=Mr.dirty),r.storageService.updateStorageCardPartial(e,t)})()}deleteCard(e){var t=this;return(0,he.Z)(function*(){yield t.vfsService.releaseCard(e),yield t.ejectCard(e),yield t.storageService.deleteStorageCard(e)})()}saveCard(e,t){var r=this;return(0,he.Z)(function*(){const o=yield r.getCard(e);if(!o)throw new Error(`no card with id ${e}`);const i=yield r.loadingController.create({message:"Exporting..."});let s;try{yield i.present();const a=r.mountedInSession(e);a&&a.id===r.emulationStateService.getCurrentSession()?.id&&(yield r.snapshotService.waitForPendingSnapshot(),yield r.snapshotService.triggerSnapshot(),s=(yield r.cloudpilotService.cloudpilot).getCardData(o.storageId)),s||(s=new Uint32Array(o.size>>>2),yield r.storageService.loadCardData(o.id,s,r.storageCardContext.getOwner(e)))}finally{i.dismiss()}r.fileService.saveFile(t,new Uint8Array(s.buffer,s.byteOffset,s.length<<2))})()}getCard(e){var t=this;return(0,he.Z)(function*(){return t.storageService.getCard(e)})()}mountedInSession(e){return this.sessionService.getSessions().find(t=>t.mountedCard===e)}isLoading(){return this.loading}updateCardsFromDB(){var e=this;return(0,he.Z)(function*(){e.cards=yield e.updateMutex.runExclusive((0,he.Z)(function*(){return(yield e.storageService.getAllStorageCards()).sort((t,r)=>t.name.localeCompare(r.name))}))})()}cardIsMounted(e){var t=this;return(0,he.Z)(function*(){return(yield t.storageService.getAllSessions()).some(o=>o.mountedCard===e)})()}checkAndClaimCard(e,t){var r=this;return(0,he.Z)(function*(){if(yield r.cardIsMounted(e))throw new Error("card already mounted");let o=yield r.getCard(e);if(!o)throw new Error(`no card with id ${e}`);let i,s=!0,a=!1;if(!o.dontFsckAutomatically){if(o.status===Mr.dirty){if(i=yield r.executeFsckAndUpdateCard(e),2===i.getResult()){if(s=!1,yield r.alertService.message("Filesystem errors",`The filesystem on this card contains errors that have to fixed before it can be ${"insert"===t?"inserted":"browsed"}. Do you want to fix them now?`,{"Fix now":()=>s=!0},"Cancel"),!s)return r.storageCardContext.release(e,Gr.fstools),!1;yield r.applyFsckResult(o.id,i)}if(o=yield r.getCard(e),!o)throw new Error(`no card with id ${e}`)}switch(o.status){case Mr.clean:break;case Mr.unformatted:if("vfs"===t)return yield r.alertService.message("Card unformatted","This card is unformatted and cannot be browsed. Insert it into a device and format it."),!1;case Mr.dirty:return yield r.alertService.message("Card requires check",`This card needs to be checked before it can be ${"insert"===t?"inserted":"browsed"}.`),!1;case Mr.unfixable:if(s=!1,a=!0,yield r.alertService.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors. "+("insert"===t?"Writing could cause further damage. Do you want to insert it nevertheless?":"The card will be mounted read-only in order to prevent further damage."),{"Insert card":()=>s=!0},"Cancel"),!s)return!1;break;default:throw new Error("unreachable: bad card status")}}try{"insert"===t?(yield r.vfsService.releaseCard(e),yield r.mountCardInEmulator(e,i?.getImageData())):(yield r.mountCardForBrowsing(e,a,i?.getImageData()))||(yield r.alertService.message("Failed to mount card","The card could not be mounted for browsing."))}catch(u){return r.errorService.fatalBug(u instanceof Error?u.message:"mount failed"),!1}return!0})()}executeFsckAndUpdateCard(e){var t=this;return(0,he.Z)(function*(){const r=yield t.loadingController.create({message:"Checking card..."});try{if(yield r.present(),yield t.cardIsMounted(e))throw new Error("attempt to fsck a mounted card");const o=yield t.storageService.getCard(e);if(!o)throw new Error(`no card with id ${e}`);yield t.vfsService.releaseCard(e),t.storageCardContext.claim(e,Gr.fstools);const i=yield Hm.create(o.size);switch(yield t.storageService.loadCardData(o.id,i.getImageData(),Gr.fstools),i.fsck()){case 1:yield t.storageService.updateStorageCardPartial(e,{status:Mr.clean}),t.storageCardContext.release(e,Gr.fstools);break;case 3:yield t.storageService.updateStorageCardPartial(e,{status:Mr.unformatted}),t.storageCardContext.release(e,Gr.fstools);break;case 2:yield t.storageService.updateStorageCardPartial(e,{status:Mr.dirty});break;case 4:yield t.storageService.updateStorageCardPartial(e,{status:Mr.unfixable}),t.storageCardContext.release(e,Gr.fstools);break;default:throw new Error("unrachable: invalid fsck result")}return i}finally{r.dismiss()}})()}applyFsckResult(e,t){var r=this;return(0,he.Z)(function*(){if(2!==t.getResult())return;const o=yield r.loadingController.create({message:"Fixing errors..."});try{yield o.present(),yield r.storageService.updateCardData(e,t.getImageData(),t.getDirtyPages(),Gr.fstools),yield r.storageService.updateStorageCardPartial(e,{status:Mr.clean}),r.storageCardContext.release(e,Gr.fstools)}finally{o.dismiss()}})()}fsckNewCard(e,t){var r=this;return(0,he.Z)(function*(){const o=yield r.loadingController.create({message:"Checking card..."});let i,s;try{yield o.present(),i=yield Hm.create(t.size),i.getImageData().set(e),s=i.fsck()}finally{o.dismiss()}switch(s){case 1:return[e,{...t,status:Mr.clean}];case 2:{let a=!1;return yield r.alertService.message("Filesystem errors","The filesystem on this card contains errors that must be fixed before the card can be used. Do you want to fix them now?",{"Fix now":()=>a=!0},"Skip"),a?[i.getImageData(),{...t,status:Mr.clean}]:[e,{...t,status:Mr.dirty}]}case 3:return yield r.alertService.cardHasNoValidFileSystem(),[e,{...t,status:Mr.unformatted}];case 4:return yield r.alertService.cardHasUncorrectableErrors(),[e,{...t,status:Mr.unfixable}];default:throw new Error("unreachable: bad fsck result")}})()}ejectCard(e){var t=this;return(0,he.Z)(function*(){const r=t.mountedInSession(e),o=yield t.storageService.getCard(e);!r||!o||(r.id===t.emulationStateService.getCurrentSession()?.id?yield t.ejectCurrentCard():(yield t.storageService.updateSessionPartial(r.id,{mountedCard:void 0}),yield t.storageService.updateStorageCardPartial(e,{status:Mr.dirty})))})()}mountCardInEmulator(e,t){var r=this;return(0,he.Z)(function*(){if(yield r.cardIsMounted(e))throw new Error("card already mounted");const o=yield r.loadingController.create({message:"Inserting..."});try{yield o.present(),yield r.vfsService.releaseCard(e);const i=r.emulationStateService.getCurrentSession();if(!i)throw new Error("no current session");if(void 0!==i.mountedCard)throw new Error("session already has a mounted card");const s=yield r.loadCardInEmulator(e,t),a=yield r.cloudpilotService.cloudpilot;if(yield r.storageService.updateStorageCardPartial(e,{status:Mr.dirty}),yield r.storageService.updateSessionPartial(i.id,{mountedCard:e}),!a.mountCard(s.storageId))throw a.removeCard(s.storageId),new Error("failed to mount card");return s}finally{o.dismiss()}})()}mountCardForBrowsing(e,t,r){var o=this;return(0,he.Z)(function*(){if(o.vfsService.currentCard()?.id===e)return!0;const i=yield o.loadingController.create({message:"Mounting..."});try{return yield i.present(),yield o.vfsService.mountCardUnchecked(e,t,r)}finally{i.dismiss()}})()}}ta.\u0275fac=function(e){return new(e||ta)(ne(xa),ne(Xn),ne(hs),ne(Ki),ne(Ll),ne(Aa),ne(zr),ne($s),ne(Bs),ne(Pa),ne(Ma))},ta.\u0275prov=yt({token:ta,factory:ta.\u0275fac,providedIn:"root"});class Yi extends yH{constructor(e,t,r,o,i,s,a,u,f,m,_,k,A,Q,Te,Ze,Ke,Ct){var Ne;super(),Ne=this,this.storageService=e,this.ngZone=t,this.loadingController=r,this.emulationState=o,this.snapshotService=i,this.errorService=s,this.fileService=a,this.alertService=u,this.modalWatcher=f,this.clipboardService=m,this.kvsService=_,this.proxyService=k,this.buttonService=A,this.bootstrapService=Q,this.cloudpilotService=Te,this.storageCardService=Ze,this.storageCardContext=Ke,this.app=Ct,this.switchSession=Sn=>this.mutex.runExclusive((0,he.Z)(function*(){if(Sn===Ne.emulationState.getCurrentSession()?.id)return!0;yield Ne.stopUnchecked(),yield Ne.bootstrapService.hasRendered();const Gn=yield Ne.loadingController.create({message:"Loading..."});yield Gn.present();try{const ms=yield Ne.storageService.getSession(Sn);if(!ms)throw new Error(`invalid session ${Sn}`);Ne.emulationState.setCurrentSession(void 0);const Gm=yield Ne.cloudpilotService.cloudpilot;if(!(yield Ne.restoreSession(ms,Gm)))return Ne.alertService.errorMessage("Failed to launch session. This may be the result of a bad ROM file."),!1;Ne.emulationState.setCurrentSession(ms),function Ej(n){localStorage.setItem(Om,n+"")}(Sn)}finally{yield Gn.dismiss()}return!0})),this.resume=()=>this.mutex.runExclusive((0,he.Z)(function*(){!Ne.emulationState.getCurrentSession()||Ne.running||Ne.errorService.hasFatalError()||!Ne.cloudpilotInstance||(yield Ne.kvsService.mutex.runExclusive(()=>Ne.updateFeatures()),Ne.doResume(),Ne.lastSnapshotAt=performance.now())})),this.pause=()=>this.mutex.runExclusive((0,he.Z)(function*(){Ne.doPause(),!Ne.errorService.hasFatalError()&&Ne.emulationState.getCurrentSession()&&(yield Ne.snapshotService.waitForPendingSnapshot(),yield Ne.snapshotService.triggerSnapshot())})),this.stop=()=>this.mutex.runExclusive(()=>this.stopUnchecked()),this.onSessionChange=([Sn,Gn])=>this.mutex.runExclusive((0,he.Z)(function*(){const ms=Ne.emulationState.getCurrentSession();Sn===ms?.id&&(void 0!==ms.mountedCard&&void 0===Gn&&Ne.storageCardContext.release(ms.mountedCard,Gr.cloudpilot),Ne.emulationState.setCurrentSession(Gn),Ne.emulationState.getCurrentSession()||(eM(),Ne.stopLoop()))})),this.onEmergencySave=()=>this.mutex.runExclusive((0,he.Z)(function*(){const Sn=Ne.emulationState.getCurrentSession();Sn&&Ne.fileService.emergencySaveSession(Sn,yield Ne.cloudpilotService.cloudpilot)})),this.mutex=new ka,this.lastSnapshotAt=0,e.sessionChangeEvent.addHandler(this.onSessionChange),s.fatalErrorEvent.addHandler(this.pause),this.alertService.emergencySaveEvent.addHandler(this.onEmergencySave),this.cloudpilotService.cloudpilot.then(Sn=>{Sn.fatalErrorEvent.addHandler(this.errorService.fatalInNativeCode),this.proxyService.initialize(Sn),this.proxyService.resumeEvent.addHandler(()=>this.running&&this.advanceEmulation(performance.now()))});const Ot=function Sj(){const n=localStorage.getItem(Om);return n?parseInt(n,10):void 0}();this.bootstrapCompletePromise=Promise.resolve(),void 0!==Ot&&!ID()&&(this.bootstrapCompletePromise=this.recoverStoredSession(Ot))}bootstrapComplete(){return this.bootstrapCompletePromise}getConfiguredSpeed(){return this.emulationState.getCurrentSession()?.speed||1}manageHotsyncName(){return!this.emulationState.getCurrentSession()?.dontManageHotsyncName}getConfiguredHotsyncName(){return this.emulationState.getCurrentSession()?.hotsyncName}updateConfiguredHotsyncName(e){const t=this.emulationState.getCurrentSession();t&&this.storageService.updateSessionPartial(t.id,{hotsyncName:e})}getConfiguredSchdedulerKind(){return this.kvsService.kvs.runHidden?zl.timeout:zl.animationFrame}hasFatalError(){return this.errorService.hasFatalError()}skipEmulationUpdate(){return this.modalWatcher.isModalActive()&&0!==this.frameCounter}onAfterAdvanceEmulation(e,t){if(!this.cloudpilotInstance)return;const r=this.emulationState.getCurrentSession();this.uiInitialized&&r&&void 0===r.osVersion&&this.storageService.updateSessionPartial(r.id,{osVersion:this.cloudpilotInstance.getOSVersion()}),this.buttonService.tick(t/this.cloudpilotInstance.cyclesPerSecond()),e-this.lastSnapshotAt>1e3&&!this.cloudpilotInstance.isSuspended()&&(this.snapshotService.triggerSnapshot(),this.lastSnapshotAt=e),this.isDirty&&this.app.tick()}handleSuspend(){this.cloudpilotInstance&&(this.clipboardService.handleSuspend(this.cloudpilotInstance),this.proxyService.handleSuspend())}callScheduler(){this.ngZone.runOutsideAngular(()=>this.scheduler.schedule())}stopUnchecked(){var e=this;return(0,he.Z)(function*(){e.emulationState.getCurrentSession()&&(e.doStop(),yield e.snapshotService.waitForPendingSnapshot(),e.storageCardService.onEmulatorStop(),e.emulationState.setCurrentSession(void 0))})()}updateFeatures(){if(!this.cloudpilotInstance)return;const e=this.kvsService.kvs.clipboardIntegration&&this.clipboardService.isSupported();this.cloudpilotInstance.getClipboardIntegration()!==e&&this.cloudpilotInstance.setClipboardIntegration(e),this.cloudpilotInstance.getNetworkRedirection()!==this.kvsService.kvs.networkRedirection&&(this.cloudpilotInstance.setNetworkRedirection(this.kvsService.kvs.networkRedirection),this.proxyService.reset()),this.cloudpilotInstance.setHotsyncNameManagement(!this.emulationState.getCurrentSession()?.dontManageHotsyncName)}recoverStoredSession(e){var t=this;return(0,he.Z)(function*(){try{yield t.switchSession(e)}catch{ea&&t.alertService.message("Possible iOS bug","It seems that you hit an iOS bug that ocassionally\ncauses the database to come up empty when the app starts. If this happens to you, please force close\nthe app in the app switcher and reopen it; your data will be back on the second attempt.\n<br/><br/>\nSorry for the inconvenience.")}})()}restoreSession(e,t){var r=this;return(0,he.Z)(function*(){const[o,i,s]=yield r.storageService.loadSession(e);if(!o)throw new Error(`invalid ROM ${e.rom}`);return t.clearExternalStorage(),void 0!==e.mountedCard&&(yield r.storageCardService.loadCardInEmulator(e.mountedCard)),!!r.openSession(t,o,e.device,i,s)&&(r.proxyService.reset(),r.buttonService.reset(t),yield r.snapshotService.initialize(e,yield r.cloudpilotService.cloudpilot),!0)})()}}Yi.\u0275fac=function(e){return new(e||Yi)(ne(Xn),ne(ft),ne(Ll),ne(hs),ne(Aa),ne($s),ne(Bs),ne(zr),ne(Zl),ne(Ac),ne(Yo),ne(ql),ne(xc),ne(Pc),ne(Ki),ne(ta),ne(Ma),ne(kl))},Yi.\u0275prov=yt({token:Yi,factory:Yi.\u0275fac,providedIn:"root"});const Kl=new vt(B),WH={connector:()=>new nt};function AM(n,e=WH){const{connector:t}=e;return q((r,o)=>{const i=t();On(n(function GH(n){return new vt(e=>n.subscribe(e))}(i))).subscribe(o),o.add(r.subscribe(i))})}function xM(n,e){return e?t=>Ef(e.pipe(Ms(1),function KH(){return q((n,e)=>{n.subscribe(_e(e,B))})}()),t.pipe(xM(n))):mr((t,r)=>On(n(t,r)).pipe(Ms(1),gv(t)))}const tp="Service workers are disabled or not supported by this browser";class zm{constructor(e){if(this.serviceWorker=e,e){const r=Sf(e,"controllerchange").pipe(Pe(()=>e.controller)),i=Ef(nm(()=>_n(e.controller)),r);this.worker=i.pipe(fi(m=>!!m)),this.registration=this.worker.pipe(pi(()=>e.getRegistration()));const f=Sf(e,"message").pipe(Pe(m=>m.data)).pipe(fi(m=>m&&m.type)).pipe(function qH(n){return n?e=>AM(n)(e):e=>function ZH(n,e){const t=I(n)?n:()=>n;return I(e)?AM(e,{connector:t}):r=>new hv(r,t)}(new nt)(e)}());f.connect(),this.events=f}else this.worker=this.events=this.registration=function XH(n){return nm(()=>Tu(new Error(n)))}(tp)}postMessage(e,t){return this.worker.pipe(Ms(1),hi(r=>{r.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){const o=this.waitForOperationCompleted(r),i=this.postMessage(e,t);return Promise.all([i,o]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(fi(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(Ms(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(fi(t=>t.nonce===e),Ms(1),Pe(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let QH=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new nt,!t.isEnabled)return this.messages=Kl,this.notificationClicks=Kl,void(this.subscription=Kl);this.messages=this.sw.eventsOfType("PUSH").pipe(Pe(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Pe(o=>o.data)),this.pushManager=this.sw.registration.pipe(Pe(o=>o.pushManager));const r=this.pushManager.pipe(pi(o=>o.getSubscription()));this.subscription=ui(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(tp));const r={userVisibleOnly:!0};let o=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),i=new Uint8Array(new ArrayBuffer(o.length));for(let s=0;s<o.length;s++)i[s]=o.charCodeAt(s);return r.applicationServerKey=i,this.pushManager.pipe(pi(s=>s.subscribe(r)),Ms(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Ms(1),pi(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(tp))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(ne(zm))},n.\u0275prov=yt({token:n,factory:n.\u0275fac}),n})(),v0=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=Kl,this.available=Kl,this.activated=Kl,void(this.unrecoverable=Kl);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(fi(r=>"VERSION_READY"===r.type),Pe(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(tp));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(tp));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(ne(zm))},n.\u0275prov=yt({token:n,factory:n.\u0275fac}),n})();class b0{}const PM=new sn("NGSW_REGISTER_SCRIPT");function JH(n,e,t,r){return()=>{if(!Ml(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let o;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)o=t.registrationStrategy();else{const[s,...a]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":o=_n(null);break;case"registerWithDelay":o=RM(+a[0]||0);break;case"registerWhenStable":o=a[0]?ui(FM(n),RM(+a[0])):FM(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(ft).runOutsideAngular(()=>o.pipe(Ms(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function RM(n){return _n(null).pipe(function YH(n,e=Wk){const t=Zk(n,e);return xM(()=>t)}(n))}function FM(n){return n.get(kl).isStable.pipe(fi(t=>t))}function e6(n,e){return new zm(Ml(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let t6=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[{provide:PM,useValue:t},{provide:b0,useValue:r},{provide:zm,useFactory:e6,deps:[b0,Su]},{provide:hc,useFactory:JH,deps:[lo,PM,b0,Su],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=M({type:n}),n.\u0275inj=gr({providers:[QH,v0]}),n})();class Rc{constructor(e,t,r,o,i){var s=this;this.kvsService=e,this.emulationService=t,this.alertService=r,this.modalController=o,this.updates=i,this.checkForUpgrade=()=>this.mutex.runExclusive((0,he.Z)(function*(){const a=s.kvsService.kvs.version;void 0!==a?a!==Mc&&(yield s.kvsService.set({version:Mc,previousVersion:a,latestVersion:Mc}),yield s.emulationService.bootstrapComplete(),s.alertService.message("Update complete",`CloudpilotEmu was updated to version ${Mc}.`,{Changes:()=>s.showChangelog()})):s.kvsService.kvs.version=Mc})),this.mutex=new ka,this.mutex.runExclusive(this.checkForDowngrade.bind(this))}start(){this.checkForUpgrade(),this.startUpdateCheck(),this.registerForUpdates()}startUpdateCheck(){this.scheduleUpdateCheck()}registerForUpdates(){var e=this;this.updates.available.subscribe((0,he.Z)(function*(){yield e.emulationService.bootstrapComplete(),e.alertService.updateAvailable()}))}checkForDowngrade(){var e=this;return(0,he.Z)(function*(){if(yield e.kvsService.initialize(),e.kvsService.kvs.previousVersion===Mc){const t=yield window.navigator.serviceWorker.getRegistration();console.log("downgrade detected"),t&&(yield t.unregister())&&(yield e.kvsService.set({previousVersion:void 0}),console.log("worker derigstered, reloading..."),window.location.reload())}})()}showChangelog(){var e=this;return(0,he.Z)(function*(){yield(yield e.modalController.create({component:fl,componentProps:{url:"assets/doc/CHANGELOG.md",title:"Changelog"}})).present()})()}scheduleUpdateCheck(){setTimeout(()=>{this.updates.checkForUpdate(),this.scheduleUpdateCheck()},9e5)}}Rc.\u0275fac=function(e){return new(e||Rc)(ne(Yo),ne(Yi),ne(zr),ne(ps),ne(v0))},Rc.\u0275prov=yt({token:Rc,factory:Rc.\u0275fac,providedIn:"root"});class np{constructor(e,t,r){this.pwaService=e,this.updateService=t,this.bootstrapService=r}ngAfterViewInit(){this.bootstrapService.notifyHasRendered(),this.pwaService.invite(),this.updateService.start()}}np.\u0275fac=function(e){return new(e||np)(w(kc),w(Rc),w(Pc))},np.\u0275cmp=Xe({type:np,selectors:[["app-root"]],decls:2,vars:0,template:function(e,t){1&e&&(se(0,"ion-app"),dt(1,"ion-router-outlet"),J())},dependencies:[dk,Wf]});class Ku{constructor(){}}Ku.\u0275fac=function(e){return new(e||Ku)},Ku.\u0275cmp=Xe({type:Ku,selectors:[["app-dummy"]],decls:2,vars:0,template:function(e,t){1&e&&(se(0,"div"),qe(1,"Dummy"),J())},encapsulation:2});class Fc{constructor(e,t){this.linkApi=e,this.router=t}canActivate(e){return e.url[0]?.path?.startsWith("install")?(this.linkApi.installation.dispatchRequest(e.queryParams.url),this.router.navigateByUrl("/tab/emulation"),!1):!e.url[0]?.path?.startsWith("import")||(this.linkApi.import.dispatchRequest(e.queryParams.url),this.router.navigateByUrl("/tab/sessions"),!1)}}Fc.\u0275fac=function(e){return new(e||Fc)(ne(Al),ne(Oo))},Fc.\u0275prov=yt({token:Fc,factory:Fc.\u0275fac,providedIn:"root"});const w0=ae.m515,r6=d0[2],o6=d0[0],Yu="rgba(0,0,0,0.2)";function OM(n){const e=Qf(n),t=(0===e.screenSize?3:2)*devicePixelRatio,r={frameDevice:1,frameCanvas:t},o=u=>({frameDevice:u,frameCanvas:u*t}),i=u=>({frameDevice:u,frameCanvas:r.frameCanvas+u*t}),s=o(e.silkscreenHeight>0?1:0),a=o(function l6(n){switch(n){case 3:case 1:return 60;case 2:return 45;default:return 30}}(e.screenSize));return{scale:t,borderWidth:r,height:o(2*r.frameDevice+e.height+s.frameDevice+e.silkscreenHeight+a.frameDevice),width:o(2*r.frameDevice+e.width),screenHeight:o(e.height),screenWidth:o(e.width),screenLeft:i(0),screenTop:i(0),screenBottom:i(e.height),separatorHeight:s,silkscreenHeight:o(e.silkscreenHeight),silkscreenTop:i(e.height+s.frameDevice),silkscreenBottom:i(e.height+s.frameDevice+e.silkscreenHeight),softSilkscreenHeight:o(e.silkscreenHeight>0?0:e.height-e.width),buttonHeight:a,buttonWidth:a,buttonTop:i(e.height+s.frameDevice+e.silkscreenHeight),buttonBottom:i(e.height+s.frameDevice+e.silkscreenHeight+a.frameDevice)}}class c6{constructor(e){this.skin=e,this.layout=OM(w0),this.onResize=new ii.j}get width(){switch(this.getOrientation()){case Cr.portrait:case Cr.portrait180:case void 0:return this.layout.width.frameCanvas;default:return this.layout.height.frameCanvas}}get height(){switch(this.getOrientation()){case Cr.portrait:case Cr.portrait180:case void 0:return this.layout.height.frameCanvas;default:return this.layout.width.frameCanvas}}updateEmulationCanvas(e){this.drawEmulationCanvas(e),this.onAfterUpdateCanvas()}eventToPalmCoordinates(e,t=!1){if(!this.ctx)return;const r=this.ctx.canvas.getBoundingClientRect();let o,i,s,a;r.width/r.height>this.width/this.height?(a=r.height,s=this.width/this.height*r.height,i=r.top,o=r.left+(r.width-s)/2):(s=r.width,a=this.height/this.width*r.width,o=r.left,i=r.top+(r.height-a)/2);let u=(e.clientX-o)/s*this.width/this.layout.scale,f=(e.clientY-i)/a*this.height/this.layout.scale;switch(this.getOrientation()){case Cr.landscape90:{const _=f;f=this.layout.height.frameDevice-u,u=_;break}case Cr.landscape270:{const _=f;f=u,u=this.layout.width.frameDevice-_;break}case Cr.portrait180:u=this.layout.width.frameDevice-u,f=this.layout.height.frameDevice-f}u-=this.layout.borderWidth.frameDevice,f-=this.layout.borderWidth.frameDevice,f>=this.layout.screenHeight.frameDevice&&(f<=this.layout.screenHeight.frameDevice+this.layout.separatorHeight.frameDevice?f=this.layout.screenHeight.frameDevice:f-=this.layout.separatorHeight.frameDevice);const m=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice;if(t)u<0&&(u=0),u>=this.layout.screenWidth.frameDevice&&(u=this.layout.screenWidth.frameDevice-1),f<0&&(f=0),f>=m&&(f=m-1);else if(u<0||u>=this.layout.screenWidth.frameDevice||f<0||f>=m)return;return[u,f]}isSilkscreen(e){const[,t]=e;return!this.isButtons(e)&&t>=this.layout.screenHeight.frameDevice}isButtons([,e]){return e>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice}determineButton([e,t]){return e>=this.layout.screenWidth.frameDevice-this.layout.buttonWidth.frameDevice?3:e>=this.layout.screenWidth.frameDevice-2*this.layout.buttonWidth.frameDevice?2:e>=2*this.layout.buttonWidth.frameDevice?t>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice/2?5:4:e>=this.layout.buttonWidth.frameDevice?1:0}initWithCanvas(e=this.ctx?.canvas){var t=this;return(0,he.Z)(function*(){if(!e)return;t.layout=OM(t.getDeviceId()),t.onResize.dispatch(),e.width=t.width,e.height=t.height;const r=e.getContext("2d");if(!r)throw new Error("canvas not supported - get a new browser");t.ctx=r,t.setupTransformation(),t.fillCanvasRect(0,0,t.layout.width.frameCanvas,t.layout.height.frameCanvas,t.frameColor()),t.fillRect(0,0,t.layout.screenWidth.frameDevice,t.layout.screenHeight.frameDevice+t.layout.silkscreenHeight.frameDevice+t.layout.separatorHeight.frameDevice+t.layout.buttonHeight.frameDevice,t.backgroundColor()),t.drawEmulationCanvas(),yield Promise.all([t.drawSilkscreen(),t.drawButtons()])})()}drawButtons(e=[]){var t=this;return(0,he.Z)(function*(){t.ctx&&(t.setupTransformation(),t.ctx.imageSmoothingEnabled=!0,t.ctx.imageSmoothingQuality="high",t.ctx.drawImage(yield t.buttonsImage()(t.layout.screenWidth.frameCanvas,t.layout.buttonHeight.frameCanvas),t.layout.screenLeft.frameCanvas,t.layout.buttonTop.frameCanvas,t.layout.screenWidth.frameCanvas,t.layout.buttonHeight.frameCanvas),e.includes(0)&&t.fillRect(0,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,Yu),e.includes(1)&&t.fillRect(t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,Yu),e.includes(2)&&t.fillRect(t.layout.screenWidth.frameDevice-2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,Yu),e.includes(3)&&t.fillRect(t.layout.screenWidth.frameDevice-t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,Yu),e.includes(4)&&t.fillRect(2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.screenWidth.frameDevice-4*t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice/2,Yu),e.includes(5)&&t.fillRect(2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice+t.layout.buttonHeight.frameDevice/2,t.layout.screenWidth.frameDevice-4*t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice/2,Yu))})()}onAfterUpdateCanvas(){}setupTransformation(){if(this.ctx)switch(this.ctx?.resetTransform(),this.getOrientation()){case Cr.portrait:case void 0:break;case Cr.landscape90:this.ctx.translate(this.layout.height.frameCanvas,0),this.ctx.rotate(Math.PI/2);break;case Cr.landscape270:this.ctx.translate(0,this.layout.width.frameCanvas),this.ctx.rotate(3*Math.PI/2);break;case Cr.portrait180:this.ctx.translate(this.layout.width.frameCanvas,this.layout.height.frameCanvas),this.ctx.rotate(Math.PI)}}drawSilkscreen(){var e=this;return(0,he.Z)(function*(){0===e.layout.silkscreenHeight.frameCanvas||!e.ctx||(e.setupTransformation(),e.fillRect(e.layout.screenLeft.frameDevice,e.layout.silkscreenTop.frameDevice,e.layout.screenWidth.frameDevice,e.layout.silkscreenHeight.frameDevice,r6),e.ctx.imageSmoothingEnabled=!0,e.ctx.imageSmoothingQuality="high",e.ctx.drawImage(yield e.silkscreenImage()(e.layout.screenWidth.frameCanvas,e.layout.silkscreenHeight.frameCanvas),e.layout.borderWidth.frameCanvas,e.layout.silkscreenTop.frameCanvas,e.layout.screenWidth.frameCanvas,e.layout.silkscreenHeight.frameCanvas))})()}drawEmulationCanvas(e=this.lastEmulationCanvas){!e||!this.ctx||(this.lastEmulationCanvas=e,this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(e,this.layout.screenLeft.frameCanvas,this.layout.screenTop.frameCanvas,this.layout.screenWidth.frameCanvas,this.layout.screenHeight.frameCanvas))}fillRect(e,t,r,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(this.layout.borderWidth.frameCanvas+this.layout.scale*e,this.layout.borderWidth.frameCanvas+this.layout.scale*t,this.layout.scale*r,this.layout.scale*o),this.ctx.fillStyle=i,this.ctx.fill())}fillCanvasRect(e,t,r,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(e,t,r,o),this.ctx.fillStyle=i,this.ctx.fill())}silkscreenImage(){switch(this.getDeviceId()){case ae.pegT600c:case ae.pegT650c:return this.skin.SILKSCREEN_PEG_T600;case ae.pegN700c:case ae.pegN600c:return this.skin.SILKSCREEN_PEG_N610;case ae.pegS320:case ae.pegS300:return this.skin.SILKSCREEN_PEG_S300;case ae.pegS500c:return this.skin.SILKSCREEN_PEG_S500;case ae.pegT400:return this.skin.SILKSCREEN_PEG_T415;case ae.palmPilot:case ae.pilot:case ae.iii:case ae.palmVII:return this.skin.SILKSCREEN_PILOT;case ae.m500:return this.skin.SILKSCREEN_M500;case ae.m505:case ae.m515:case ae.m520:return this.skin.SILKSCREEN_M515;case ae.iiic:return this.skin.SILKSCREEN_IIIC;case ae.m100:case ae.m105:case ae.m125:return this.skin.SILKSCREEN_M100;case ae.m130:return this.skin.SILKSCREEN_M130;case ae.i710:return this.skin.SILKSCREEN_TUNGSTEN_W;case ae.i705:return this.skin.SILKSCREEN_I705;default:return this.skin.SILKSCREEN_V}}buttonsImage(){switch(this.getDeviceId()){case ae.acerS11:return this.skin.HARD_BUTTONS_ACER_S10;case ae.pegNR70:return this.skin.HARD_BUTTONS_PEG_NR70;case ae.pegN700c:return this.skin.HARD_BUTTONS_PEG_N700;case ae.pegN600c:return this.skin.HARD_BUTTONS_PEG_N610;case ae.pegS300:return this.skin.HARD_BUTTONS_PEG_S300;case ae.pegS500c:return this.skin.HARD_BUTTONS_PEG_S500;case ae.pegS320:return this.skin.HARD_BUTTONS_PEG_S320;case ae.pegT400:case ae.pegT600c:case ae.pegT650c:return this.skin.HARD_BUTTONS_PEG_T415;case ae.pilot:case ae.palmPilot:return this.skin.HARD_BUTTONS_PILOT;case ae.m500:return this.skin.HARD_BUTTONS_M500;case ae.m505:case ae.m515:case ae.m520:return this.skin.HARD_BUTTONS_M515;case ae.iiic:return this.skin.HARD_BUTTONS_IIIC;case ae.m100:case ae.m105:return this.skin.HARD_BUTTONS_M100;case ae.m125:return this.skin.HARD_BUTTONS_M125;case ae.m130:return this.skin.HARD_BUTTONS_M130;case ae.i710:return this.skin.HARD_BUTTONS_TUNGSTEN_W;case ae.iii:case ae.iiix:case ae.iiixe:case ae.palmVII:case ae.palmVIIEZ:case ae.palmVIIx:return this.skin.HARD_BUTTONS_IIIX;case ae.iiie:return this.skin.HARD_BUTTONS_IIIE;case ae.i705:return this.skin.HARD_BUTTONS_I705;case ae.handera330c:case ae.handera330:return this.skin.HARD_BUTTONS_HANDERA330;default:return this.skin.HARD_BUTTONS_PALM_V}}backgroundColor(){return f0(this.getDeviceId())?"white":o6}frameColor(){return f0(this.getDeviceId())?"white":"#ccc"}}const p6=["SILKSCREEN_V","SILKSCREEN_M500","SILKSCREEN_M515","SILKSCREEN_IIIC","SILKSCREEN_M100","SILKSCREEN_M130","SILKSCREEN_TUNGSTEN_W","SILKSCREEN_PILOT","SILKSCREEN_I705","SILKSCREEN_PEG_S300","SILKSCREEN_PEG_S500","SILKSCREEN_PEG_T415","SILKSCREEN_PEG_N610","SILKSCREEN_PEG_T600","HARD_BUTTONS_PALM_V","HARD_BUTTONS_M515","HARD_BUTTONS_M500","HARD_BUTTONS_IIIC","HARD_BUTTONS_IIIX","HARD_BUTTONS_IIIE","HARD_BUTTONS_M100","HARD_BUTTONS_M125","HARD_BUTTONS_M130","HARD_BUTTONS_TUNGSTEN_W","HARD_BUTTONS_PILOT","HARD_BUTTONS_I705","HARD_BUTTONS_HANDERA330","HARD_BUTTONS_PEG_S300","HARD_BUTTONS_PEG_S500","HARD_BUTTONS_PEG_S320","HARD_BUTTONS_PEG_T415","HARD_BUTTONS_PEG_N610","HARD_BUTTONS_PEG_N700","HARD_BUTTONS_PEG_NR70","HARD_BUTTONS_ACER_S10"];function h6(n){const t=o=>function u6(n,e){let t,r;const o=document.createElement("canvas");return function(){var i=(0,he.Z)(function*(s,a){if(t===s&&r===a)return o;o.width=s,o.height=a;const u=o.getContext("2d");if(!u)throw new Error("get a new browser");return u.drawImage(yield n(),0,0,o.width,o.height),(pj||ea)&&(yield e).indexOf("data:image")>=0&&(yield new Promise(f=>setTimeout(f,0)),u.drawImage(yield n(),0,0,o.width,o.height)),t=s,r=a,o});return function(s,a){return i.apply(this,arguments)}}()}(function e(o){let i;return(0,he.Z)(function*(){if(!i){const s=(yield n)[o];i=function d6(n){return()=>new Promise((e,t)=>{const r=new Image;r.onload=()=>e(r),r.onerror=()=>t(),r.src=n})}((n=>`data:image/svg+xml;base64,${btoa(n)}`)(s))()}return i})}(o),n.then(i=>i[o])),r={};for(const o of p6)r[o]=t(o);return r}class pl extends c6{constructor(){super(h6(P.e(4363).then(P.bind(P,4363)))),this.statisticsVisible=!1}initialize(e,t=this.session){var r=this;return(0,he.Z)(function*(){r.session=t,yield r.initWithCanvas(e)})()}clearStatistics(){var e=this;return(0,he.Z)(function*(){e.statisticsVisible=!1,e.layout.silkscreenHeight.frameCanvas>0?yield e.drawSilkscreen():yield e.drawEmulationCanvas()})()}updateStatistics(e,t){var r=this;return(0,he.Z)(function*(){yield r.clearStatistics(),r.drawStatistics(e,t),r.lastEmulationStatistics=t,r.lastSnapshotStatistics=e,r.statisticsVisible=!0})()}getDeviceId(){return this.session?.device??w0}getOrientation(){return this.session?.deviceOrientation??Cr.portrait}onAfterUpdateCanvas(){this.statisticsVisible&&0===this.layout.silkscreenHeight.frameCanvas&&this.drawStatistics(this.lastSnapshotStatistics,this.lastEmulationStatistics)}drawStatistics(e,t){if(!this.ctx)return;this.setupTransformation();const r=this.layout.silkscreenHeight.frameDevice>0?this.layout.silkscreenHeight:this.layout.softSilkscreenHeight,o=this.layout.silkscreenHeight.frameCanvas>0?this.layout.silkscreenTop:{frameCanvas:this.layout.screenBottom.frameCanvas-r.frameCanvas,frameDevice:this.layout.screenBottom.frameDevice-r.frameDevice};this.ctx.beginPath(),this.fillRect(this.layout.screenLeft.frameDevice,o.frameDevice,this.layout.screenWidth.frameDevice,r.frameDevice,"rgba(255,255,255,0.6)");const s=function m6(n){switch(n){case 1:case 3:return 2;case 2:return 1.5;default:return 1}}(Qf(this.session?.device??w0).screenSize);this.ctx.font=6*this.layout.scale*s+"px monospace",this.ctx.fillStyle="black",[...e||t?[]:["collecting statistics..."],...e?[`last snapshot          : ${new Date(e.timestamp).toLocaleTimeString()}`,`snapshot pages         : ${e.pages}`,`snapshot time total    : ${e.timeTotal.toFixed(2)} msec`,`snapshot time blocking : ${e.timeBlocking.toFixed(2)} msec`]:[],...t?[`host speed             : ${t.hostSpeed.toFixed(2)}x`,`emulation speed        : ${t.emulationSpeed.toFixed(2)}x`,`average FPS            : ${t.averageFps.toFixed(2)}`]:[]].forEach((a,u)=>this.ctx.fillText(a,this.layout.screenLeft.frameCanvas+s*this.layout.scale,o.frameCanvas+s*this.layout.scale*(8+6*u)))}}pl.\u0275fac=function(e){return new(e||pl)},pl.\u0275prov=yt({token:pl,factory:pl.\u0275fac,providedIn:"root"});class Oc{constructor(e,t,r){this.router=e,this.canvasDisplayService=t,this.emulationStateService=r,this.updateUseSmallUI=()=>{const o=!!document.querySelector("html.md"),i=o?56:44;this.useSmallUI=this.canvasArea(window.innerHeight-i-(o?57:51)-6,window.innerWidth-6)<this.canvasArea(window.innerHeight-i-25-6,window.innerWidth-6)},this.useSmallUI=!1,this.isLockedFlag=!1,window.addEventListener("resize",this.updateUseSmallUI),window.addEventListener("orientationchange",this.updateUseSmallUI),t.onResize.addHandler(()=>this.updateUseSmallUI()),this.updateUseSmallUI()}get smallUI(){return"/tab/emulation"===this.router.url&&this.useSmallUI&&void 0!==this.emulationStateService.getCurrentSession()}lock(){this.isLockedFlag=!0}unlock(){this.isLockedFlag=!1}isLocked(){return this.isLockedFlag}canvasArea(e,t){let r,o;return e=Math.min(e,this.canvasDisplayService.height/devicePixelRatio),(t=Math.min(t,this.canvasDisplayService.width/devicePixelRatio))/e>this.canvasDisplayService.width/this.canvasDisplayService.height?(o=e,r=e/this.canvasDisplayService.height*this.canvasDisplayService.width):(r=t,o=t/this.canvasDisplayService.width*this.canvasDisplayService.height),r*o}}Oc.\u0275fac=function(e){return new(e||Oc)(w(Oo),w(pl),w(hs))},Oc.\u0275cmp=Xe({type:Oc,selectors:[["app-tabs"]],decls:23,vars:4,consts:[[1,"overflow-wrapper"],["slot","bottom"],["tab","emulation"],["name","phone-portrait-outline"],["tab","sessions"],["name","albums-outline"],["tab","storage"],["name","folder-outline"],["tab","settings"],["name","cog-outline"],["tab","about"],["name","help-outline"]],template:function(e,t){1&e&&(se(0,"ion-tabs")(1,"div",0)(2,"ion-tab-bar",1)(3,"ion-tab-button",2),dt(4,"ion-icon",3),se(5,"ion-label"),qe(6,"Emulator"),J()(),se(7,"ion-tab-button",4),dt(8,"ion-icon",5),se(9,"ion-label"),qe(10,"Sessions"),J()(),se(11,"ion-tab-button",6),dt(12,"ion-icon",7),se(13,"ion-label"),qe(14,"Cards"),J()(),se(15,"ion-tab-button",8),dt(16,"ion-icon",9),se(17,"ion-label"),qe(18,"Settings"),J()(),se(19,"ion-tab-button",10),dt(20,"ion-icon",11),se(21,"ion-label"),qe(22,"About"),J()()()()()),2&e&&(et(2),qa("small-ui",t.smallUI)("disabled",t.isLocked()))},dependencies:[ai,Wi,zv,mk,Ik],styles:["ion-tab-bar[_ngcontent-%COMP%]{min-width:280px}ion-tab-bar.small-ui[_ngcontent-%COMP%]{height:25px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:21px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon.md[_ngcontent-%COMP%]{margin-top:3px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:none}ion-tab-bar.disabled[_ngcontent-%COMP%]{display:none}.overflow-wrapper[_ngcontent-%COMP%]{overflow-x:auto}ion-icon[_ngcontent-%COMP%]{font-size:25px}"]});class Ra{}Ra.\u0275fac=function(e){return new(e||Ra)},Ra.\u0275mod=M({type:Ra}),Ra.\u0275inj=gr({imports:[wa,Jv.forChild(),$l,vc,em]});class Xu{}Xu.\u0275fac=function(e){return new(e||Xu)},Xu.\u0275mod=M({type:Xu}),Xu.\u0275inj=gr({imports:[wa,vc,$l,Ra,Jv.forChild()]});class Qu{}Qu.\u0275fac=function(e){return new(e||Qu)},Qu.\u0275mod=M({type:Qu}),Qu.\u0275inj=gr({imports:[wa,vc,$l,Ra]});class Ju{}Ju.\u0275fac=function(e){return new(e||Ju)},Ju.\u0275mod=M({type:Ju}),Ju.\u0275inj=gr({imports:[wa,vc,$l,em,Ra]});class ed{}ed.\u0275fac=function(e){return new(e||ed)},ed.\u0275mod=M({type:ed}),ed.\u0275inj=gr({imports:[wa,vc,$l,Ra,em]});class td{}function g6(n,e){if(1&n){const t=wr();se(0,"ion-button",1),at("click",function(){return Tt(t),Pt(Bt().onClick())}),dt(1,"ion-icon",2),J()}if(2&n){const t=Bt();et(1),ot("name",t.iconName)}}td.\u0275fac=function(e){return new(e||td)},td.\u0275mod=M({type:td}),td.\u0275inj=gr({imports:[wa,$l,vc,em,Ra]});class Yl{constructor(e){this.pwaService=e}onClick(){this.pwaService.install()}get iconName(){return ea?"logo-apple-appstore":Qk?"logo-google-playstore":"apps-outline"}get show(){return this.pwaService.promptForInstall()}}function y6(n,e){1&n&&(se(0,"div",11),dt(1,"ion-spinner"),J())}function _6(n,e){1&n&&(se(0,"div"),qe(1,"app cached for offline use"),J())}Yl.\u0275fac=function(e){return new(e||Yl)(w(kc))},Yl.\u0275cmp=Xe({type:Yl,selectors:[["app-pwa-prompt"]],decls:1,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"],[3,"name"]],template:function(e,t){1&e&&ln(0,g6,2,1,"ion-button",0),2&e&&ot("ngIf",t.show)},dependencies:[oi,ji,ai]});class rp{constructor(e,t){this.modalController=e,this.updates=t,this.loading=!0}get version(){return Mc}showChangelog(){var e=this;return(0,he.Z)(function*(){yield(yield e.modalController.create({component:fl,componentProps:{url:"assets/doc/CHANGELOG.md",title:"Changelog"}})).present()})()}get serviceWorkerAvailable(){return this.updates.isEnabled}}function v6(n,e){if(1&n&&(se(0,"ion-select-option",17),qe(1),J()),2&n){const t=e.$implicit;ot("value",t[0]),et(1),Ti("",t[1]," ")}}function b6(n,e){if(1&n&&(se(0,"ion-select-option",17),qe(1),J()),2&n){const t=e.$implicit;ot("value",t[0]),et(1),Ti("",t[1]," ")}}function w6(n,e){if(1&n&&(se(0,"ion-item",7)(1,"ion-label",8),qe(2,"Hotsync name"),J(),dt(3,"ion-input",18),J()),2&n){const t=Bt();et(3),ot("placeholder",t.placeholder)}}rp.\u0275fac=function(e){return new(e||rp)(w(ps),w(v0))},rp.\u0275cmp=Xe({type:rp,selectors:[["app-about"]],decls:21,vars:4,consts:[[3,"translucent"],["slot","secondary"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],[1,"markdown-container"],["src","assets/doc/about.md",3,"load"],[1,"version"],["href","javascript:",3,"click"],[4,"ngIf"],["src","assets/logo.svg",1,"logo"],[1,"loader"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"About"),J(),se(4,"ion-buttons",1),dt(5,"app-pwa-prompt"),J()()(),se(6,"ion-content")(7,"ion-header",2)(8,"ion-toolbar")(9,"ion-title",3),qe(10,"About"),J()()(),ln(11,y6,2,0,"div",4),se(12,"div",5)(13,"markdown",6),at("load",function(){return t.loading=!1}),J()(),se(14,"div",7),qe(15),dt(16,"br"),se(17,"a",8),at("click",function(){return t.showChangelog()}),qe(18,"Changelog"),J(),ln(19,_6,2,0,"div",9),J(),dt(20,"img",10),J()),2&e&&(ot("translucent",!0),et(11),ot("ngIf",t.loading),et(4),Ti(" CloudpilotEmu version ",t.version," "),et(4),ot("ngIf",t.serviceWorkerAvailable))},dependencies:[oi,Hi,zi,Gi,Hf,Zi,qi,Yl,Qv],styles:[".version[_ngcontent-%COMP%]{width:100%;bottom:1em;text-align:center;font-size:.75em;margin-top:3em;margin-bottom:1em}.markdown-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:center}markdown[_ngcontent-%COMP%]{display:block;margin-left:.5em;margin-right:.5em;max-width:40em}.loader[_ngcontent-%COMP%]{width:100%;height:10em;display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{width:10em;height:10em;margin:1em auto;display:block}@media (prefers-color-scheme: dark){.logo[_ngcontent-%COMP%]{filter:invert(100%)}}"]});class nd{constructor(e,t){this.sessionService=e,this.alertService=t,this.validateNameUnique=r=>r.value!==this.session.name&&this.sessionService.getSessions().some(o=>o.name===r.value)?{name:"already taken"}:null,this.onSave=()=>{},this.onCancel=()=>{},this.orientations=[[Cr.portrait,"Portrait"],[Cr.landscape90,"Landscape 90\xb0"],[Cr.landscape270,"Landscape 270\xb0"],[Cr.portrait180,"Upside down"]]}get formControlName(){return this.formGroup.get("name")}get formControlHotsyncName(){return this.formGroup.get("hotsyncName")}get formControlDevice(){return this.formGroup.get("device")}get formControlManageHotsyncName(){return this.formGroup.get("manageHotsyncName")}get formControlSpeed(){return this.formGroup.get("speed")}get formControlOrientation(){return this.formGroup.get("orientation")}get showHotsyncNameInput(){return this.formControlManageHotsyncName.value}get placeholder(){return this.formControlHotsyncName.value?this.formControlName.value:void 0!==this.session.hotsyncName||this.session.dontManageHotsyncName?"Enter hotsync name":"use setting from device"}get deviceList(){return this.availableDevices.map(e=>[e,pM(e)])}ngOnInit(){this.createFormGroup()}save(){this.formGroup.invalid||(this.session.name=this.formControlName.value,this.formControlManageHotsyncName.value?this.session.dontManageHotsyncName?(this.session.dontManageHotsyncName=!1,this.session.hotsyncName=this.formControlHotsyncName.value||"",this.alertService.message("Reset required","Please reset the virtual device in order to make sure that the hotsync name is synced properly again.")):this.session.hotsyncName=this.formControlHotsyncName.value||(void 0===this.session.hotsyncName?void 0:""):this.session.dontManageHotsyncName=!0,this.session.device=this.formControlDevice.value,this.session.speed=this.speedValue,this.session.deviceOrientation=this.formControlOrientation.value,this.onSave())}onEnter(){this.save()}get speedValue(){const e=this.formControlSpeed.value||0;return e>=0?1+e:1/(1-e)}get speedLabel(){return"Clock: "+(0===this.formControlSpeed.value?"default":`${Math.round(this.speedValue*function lH(n){switch(n){case ae.palmPilot:case ae.pilot:case ae.iii:case ae.palmVII:case ae.palmVx:case ae.palmV:case ae.palmVIIEZ:case ae.palmVIIx:case ae.iiic:case ae.iiix:case ae.iiixe:case ae.iiie:case ae.m100:case ae.m105:case ae.pegS300:case ae.pegS500c:return 16;case ae.m500:case ae.m505:case ae.m515:case ae.m520:case ae.m125:case ae.m130:case ae.i705:case ae.i710:case ae.handera330:case ae.handera330c:case ae.pegS320:case ae.pegT400:case ae.pegN600c:case ae.pegT600c:case ae.pegN700c:case ae.acerS11:return 33;case ae.pegT650c:case ae.pegNR70:return 66}}(this.formControlDevice.value))}MHz`)}createFormGroup(){this.formGroup=new qh({name:new si(this.session.name,{validators:[_f.required,this.validateNameUnique]}),manageHotsyncName:new si(!this.session.dontManageHotsyncName),hotsyncName:new si(this.session.hotsyncName||""),device:new si({value:this.session.device,disabled:1===this.availableDevices.length}),speed:new si((this.session.speed||1)>=1?(this.session.speed||1)-1:1-1/this.session.speed),orientation:new si(this.session.deviceOrientation||Cr.portrait)})}}nd.\u0275fac=function(e){return new(e||nd)(w(xa),w(zr))},nd.\u0275cmp=Xe({type:nd,selectors:[["app-session-settings"]],inputs:{onSave:"onSave",onCancel:"onCancel",session:"session",availableDevices:"availableDevices"},decls:41,vars:6,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter session name","formControlName","name"],["formControlName","device"],[3,"value",4,"ngFor","ngForOf"],["formControlName","orientation"],[1,"label-speed"],["min","-4","max","4","step","0.25","snaps","true","ticks","false","formControlName","speed"],["formControlName","manageHotsyncName"],["lines","none",4,"ngIf"],[3,"value"],["formControlName","hotsyncName","maxlength","40",3,"placeholder"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"Session settings"),J(),se(4,"ion-buttons",1)(5,"ion-button",2),at("click",function(){return t.save()}),qe(6,"Save"),J()(),se(7,"ion-buttons",3)(8,"ion-button",4),at("click",function(){return t.onCancel()}),qe(9,"Cancel"),J()()()(),se(10,"ion-content",5)(11,"form",6),at("keydown.enter",function(){return t.onEnter()}),se(12,"h1"),qe(13,"Session"),J(),se(14,"ion-item",7)(15,"ion-label",8),qe(16,"Session name"),J(),dt(17,"ion-input",9),J(),se(18,"h1"),qe(19,"Device"),J(),se(20,"ion-item",7)(21,"ion-label",8),qe(22,"Device type"),J(),se(23,"ion-select",10),ln(24,v6,2,2,"ion-select-option",11),J()(),se(25,"ion-item",7)(26,"ion-label",8),qe(27,"Orientation"),J(),se(28,"ion-select",12),ln(29,b6,2,2,"ion-select-option",11),J()(),se(30,"ion-item",7)(31,"ion-label",13),qe(32),J(),dt(33,"ion-range",14),J(),se(34,"h1"),qe(35,"Hotsync"),J(),se(36,"ion-item",7)(37,"ion-label"),qe(38,"Manage hotsync name"),J(),dt(39,"ion-toggle",15),J(),ln(40,w6,4,1,"ion-item",16),J()()),2&e&&(et(5),ot("disabled",t.formGroup.invalid),et(6),ot("formGroup",t.formGroup),et(13),ot("ngForOf",t.deviceList),et(5),ot("ngForOf",t.orientations),et(3),Es(t.speedLabel),et(8),ot("ngIf",t.showHotsyncNameInput))},dependencies:[gc,oi,ji,Hi,zi,Gi,cl,Ko,Wi,Hv,Mm,Tm,Zi,zf,qi,ju,jf,ll,rl,tl,nl,fv,Qs,Ca],styles:["ion-item[_ngcontent-%COMP%]{--highlight-color-valid: var(--highlight-color-focused);--background: none}.label-speed[_ngcontent-%COMP%]{min-width:7.5rem}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}"]});class rd{constructor(e,t,r,o,i,s,a){this.emulationService=e,this.loadingController=t,this.snapshotService=r,this.fileService=o,this.emulationStateService=i,this.alertService=s,this.cloudpilotService=a}saveBackup(e){var t=this;return(0,he.Z)(function*(){const r=t.emulationStateService.getCurrentSession();if(!r)return;const o=yield t.loadingController.create({message:"Backing up..."});yield o.present();let s,i=[];yield t.emulationService.pause(),yield t.snapshotService.waitForPendingSnapshot();try{const a=yield t.cloudpilotService.cloudpilot;yield a.backup(function(){var u=(0,he.Z)(function*(f){for(f.Init(e);f.IsInProgress();){const m=f.GetCurrentDatabase();f.Save()||i.push(m),yield new Promise(_=>setTimeout(_,0))}s=a.getArchive(f)});return function(f){return u.apply(this,arguments)}}())}finally{yield o.dismiss(),yield t.emulationService.resume()}s?i.length>0?yield t.alertService.message("Backup complete",`\n                    ${p0(i)} failed  to backup.\n                    <br/><br/>\n                    Open databases cannot be backuped. Please run backup from the launcher\n                    in order to backup all databases.\n                `,{"Save Backup":()=>t.fileService.saveFile(bM(r,e),s)},"Cancel"):t.fileService.saveFile(bM(r,e),s):yield t.alertService.errorMessage("Backup failed.")})()}}rd.\u0275fac=function(e){return new(e||rd)(ne(Yi),ne(Ll),ne(Aa),ne(Bs),ne(hs),ne(zr),ne(Ki))},rd.\u0275prov=yt({token:rd,factory:rd.\u0275fac,providedIn:"root"});const C6=window.AudioContext||window.webkitAudioContext;function C0(n,e=100){return new Promise((t,r)=>{setTimeout(()=>r(new Error("timeout")),e),n.then(t,r)})}class S6{constructor(e){var t=this;this.emulationService=e,this.initialize=()=>this.mutex.runExclusive((0,he.Z)(function*(){if(!t.initialized){try{t.context=new C6}catch(r){return console.error(r),void console.error("web audio not available")}try{t.context.destination.channelCount=1}catch{console.warn("audio driver: failed to set channel count")}try{yield t.start()}catch(r){return console.error(r),void console.error("failed to initialize audio context")}t.context.addEventListener("statechange",()=>{"interrupted"===t.context?.state&&t.updateState()}),t.gainNode=t.context.createGain(),t.gainNode.channelCount=1,t.gainNode.channelInterpretation="speakers",t.gainNode.gain.value=t.gain(),t.gainNode.connect(t.context.destination),t.applyPwmUpdate(),t.initialized=!0}})),this.updateState=(r=!1)=>this.mutex.runExclusive((0,he.Z)(function*(){if(!t.context||t.isRunning()===t.shouldRun())return;!r&&!t.isRunning()&&t.shouldRun()&&t.applyPwmUpdate();const o=t.context.state;if(t.shouldRun())try{t.updateGain(),yield C0(t.context.resume()),console.log("resume audio context")}catch{console.error(`failed to resume audio from state ${o}`)}else try{yield C0(t.context.suspend()),console.log("suspend audio context")}catch{console.error(`failed to suspend audio from state ${o}`)}console.log(`audio context state change ${o} -> ${t.context.state}`)})),this.onPwmUpdate=function(){var r=(0,he.Z)(function*(o){t.pendingPwmUpdate=o,t.initialized&&(t.shouldRun()!==t.isRunning()&&t.updateState(!0),t.shouldRun()&&t.applyPwmUpdate())});return function(o){return r.apply(this,arguments)}}(),this.mutex=new ka,this.initialized=!1,this.muted=!1,this.emulationService.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.emulationService.emulationStateChangeEvent.addHandler(()=>this.updateState()),this.emulationService.powerOffChangeEvent.addHandler(()=>this.updateState()),ea||document.addEventListener("visibilitychange",()=>this.updateState())}isInitialized(){return this.initialized}mute(e){this.muted=e,this.updateState()}isMuted(){return this.muted}shouldRun(){return this.emulationService.isRunning()&&!this.emulationService.isPowerOff()&&!this.muted&&this.gain()>0&&("hidden"!==document.visibilityState||ea||this.runHidden())}updateGain(){this.gainNode&&(this.gainNode.gain.value=this.gain())}start(){var e=this;return(0,he.Z)(function*(){e.context&&(yield C0(e.context.resume()),e.updateState(),console.log("audio context initialized"))})()}isRunning(){return"running"===this.context?.state}applyPwmUpdate(){if(!this.context||!this.pendingPwmUpdate)return;const{frequency:e,dutyCycle:t}=this.pendingPwmUpdate,r=this.context.sampleRate;if(this.pendingPwmUpdate=void 0,e<=0||t<=0||e>=r)return void this.disconnectSource();const o=this.context.createBuffer(1,Math.round(r/e),r),i=o.getChannelData(0);for(let a=0;a<i.length;a++)i[a]=a/i.length<t?1:0;const s=this.context.createBufferSource();s.channelCount=1,s.channelInterpretation="speakers",s.loop=!0,s.buffer=o,this.disconnectSource(),s.connect(this.gainNode),s.start(),this.bufferSourceNode=s,this.pendingPwmUpdate=void 0}disconnectSource(){this.bufferSourceNode&&(this.bufferSourceNode.stop(),this.bufferSourceNode.disconnect(),this.bufferSourceNode=void 0)}gain(){return this.getVolume()/2}}class Xl extends S6{constructor(e,t,r){super(e),this.kvs=t,this.modalWatcher=r,this.modalWatcher.modalVisibilityChangeEvent.addHandler(()=>this.updateState())}getVolume(){return this.kvs.kvs.volume}runHidden(){return this.kvs.kvs.runHidden}shouldRun(){return!this.modalWatcher.isModalActive()&&super.shouldRun()}}Xl.\u0275fac=function(e){return new(e||Xl)(ne(Yi),ne(Yo),ne(Zl))},Xl.\u0275prov=yt({token:Xl,factory:Xl.\u0275fac,providedIn:"root"});class Nc{constructor(e,t){this.emulationService=e,this.ngZone=t,this.onInterval=()=>{this.emulationService.getEmulationSpeed()<1?(this.level<3&&this.level++,3===this.level&&this.ngZone.run(()=>this.slowdownDetected=!0)):(this.level>0&&this.level--,0===this.level&&this.ngZone.run(()=>this.slowdownDetected=!1))},this.onEmulationStateChanged=r=>{this.reset(),r&&void 0===this.intervalHandle&&(this.onInterval(),this.ngZone.runOutsideAngular(()=>this.intervalHandle=window.setInterval(this.onInterval,1e3))),!r&&void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)},this.slowdownDetected=!1,this.level=0,this.onEmulationStateChanged(this.emulationService.isRunning()),this.emulationService.emulationStateChangeEvent.addHandler(this.onEmulationStateChanged)}isSlowdownDetected(){return this.slowdownDetected}reset(){this.slowdownDetected=!1,this.level=0}ngOnDestroy(){this.emulationService.emulationStateChangeEvent.removeHandler(this.onEmulationStateChanged),void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)}}function D6(n,e){if(1&n){const t=wr();se(0,"ion-item",4),at("click",function(){return Tt(t),Pt(Bt().power())}),se(1,"ion-label"),qe(2,"Power"),J(),dt(3,"ion-icon",5),J()}if(2&n){const t=Bt();ot("detail",!1)("disabled",!t.emulationService.isRunning())}}function I6(n,e){if(1&n){const t=wr();se(0,"ion-item",4),at("click",function(){return Tt(t),Pt(Bt().hotsync())}),se(1,"ion-label"),qe(2,"Hotsync"),J(),dt(3,"ion-icon",6),J()}if(2&n){const t=Bt();ot("detail",!1)("disabled",!t.emulationService.isRunning())}}function k6(n,e){if(1&n){const t=wr();se(0,"ion-item",4),at("click",function(){return Tt(t),Pt(Bt().reset())}),se(1,"ion-label"),qe(2,"Reset"),J(),dt(3,"ion-icon",7),J()}if(2&n){const t=Bt();ot("detail",!1)("disabled",!t.emulationService.isRunning())}}function M6(n,e){if(1&n){const t=wr();se(0,"ion-item",8),at("click",function(){return Tt(t),Pt(Bt().insertCard())}),se(1,"ion-label"),qe(2),J(),dt(3,"ion-icon",9),J()}if(2&n){const t=Bt();ot("detail",!1),et(2),Ti("Insert ",t.hasMemorystick?"stick":"SD card","")}}function T6(n,e){if(1&n){const t=wr();se(0,"ion-item",8),at("click",function(){return Tt(t),Pt(Bt().ejectCard())}),se(1,"ion-label"),qe(2),J(),dt(3,"ion-icon",10),J()}if(2&n){const t=Bt();ot("detail",!1),et(2),Ti("Eject ",t.hasMemorystick?"stick":"SD card","")}}function A6(n,e){if(1&n){const t=wr();se(0,"ion-item",8),at("click",function(){return Tt(t),Pt(Bt().mute(!1))}),se(1,"ion-label"),qe(2,"Enable audio"),J(),dt(3,"ion-icon",11),J()}2&n&&ot("detail",!1)}function x6(n,e){if(1&n){const t=wr();se(0,"ion-item",8),at("click",function(){return Tt(t),Pt(Bt().mute(!0))}),se(1,"ion-label"),qe(2,"Disable audio"),J(),dt(3,"ion-icon",12),J()}2&n&&ot("detail",!1)}function P6(n,e){if(1&n){const t=wr();se(0,"ion-item",4),at("click",function(){return Tt(t),Pt(Bt().backup())}),se(1,"ion-label"),qe(2,"Save backup"),J(),dt(3,"ion-icon",13),J()}if(2&n){const t=Bt();ot("detail",!1)("disabled",t.backupDisabled)}}function R6(n,e){if(1&n){const t=wr();se(0,"ion-item",8),at("click",function(){return Tt(t),Pt(Bt().rotate())}),se(1,"ion-label"),qe(2,"Rotate"),J(),dt(3,"ion-icon",14),J()}2&n&&ot("detail",!1)}function F6(n,e){if(1&n){const t=wr();se(0,"ion-item",8),at("click",function(){return Tt(t),Pt(Bt().editSettings())}),se(1,"ion-label"),qe(2,"Settings"),J(),dt(3,"ion-icon",15),J()}2&n&&ot("detail",!1)}function O6(n){switch(n){case Cr.portrait:case void 0:return Cr.landscape90;case Cr.landscape90:return Cr.portrait180;case Cr.portrait180:return Cr.landscape270;case Cr.landscape270:return Cr.portrait;default:throw new Error("cannot happen")}}Nc.\u0275fac=function(e){return new(e||Nc)(ne(Yi),ne(ft))},Nc.\u0275prov=yt({token:Nc,factory:Nc.\u0275fac,providedIn:"root"});class op{constructor(e,t,r,o,i,s,a,u,f,m,_,k,A,Q,Te,Ze,Ke,Ct){this.emulationService=e,this.emulationStateService=t,this.backupService=r,this.buttonService=o,this.actionSheetController=i,this.popoverController=s,this.audioService=a,this.kvsService=u,this.modalController=f,this.sessionService=m,this.performanceWatchdogService=_,this.canvasDisplayService=k,this.cloudpilotService=A,this.storageCardService=Q,this.alertService=Te,this.alertController=Ze,this.storageService=Ke,this.errorService=Ct,this.showHelp=()=>{}}reset(){var e=this;return(0,he.Z)(function*(){e.popoverController.dismiss(),(yield e.actionSheetController.create({header:"How do you want to reset?",buttons:[{text:"Normal boot",handler:()=>e.emulationService.reset()},{text:"No extensions",handler:()=>e.emulationService.resetNoExtensions()},{text:"Hard reset",handler:()=>e.emulationService.resetHard()},{text:"Cancel",role:"cancel"}]})).present()})()}power(){this.buttonService.engage(6),this.popoverController.dismiss()}hotsync(){this.buttonService.engage(7),this.popoverController.dismiss()}help(){this.showHelp(),this.popoverController.dismiss()}backup(){var e=this;return(0,he.Z)(function*(){e.popoverController.dismiss(),(yield e.actionSheetController.create({header:"What do you want to backup?",buttons:[{text:"Only RAM (default)",handler:()=>e.backupService.saveBackup(!1)},{text:"Include ROM",handler:()=>e.backupService.saveBackup(!0)},{text:"Cancel",role:"cancel"}]})).present()})()}get isMuted(){return!this.audioService.isInitialized()||this.audioService.isMuted()}get isAudioOff(){return this.kvsService.kvs.volume<=0}mute(e){e?this.audioService.mute(!0):this.audioService.isInitialized()?this.audioService.mute(!1):this.audioService.initialize()}get backupDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get powerDisabled(){const e=this.emulationStateService.getCurrentSession();return!!e&&function cH(n){return[ae.i705,ae.i710,ae.pegNR70,ae.pegT650c].includes(n)}(e.device)}get hasActiveSession(){return!!this.emulationStateService.getCurrentSession()}get supportsStorageCard(){const e=this.emulationStateService.getCurrentSession();return!!e&&hM(e.device)!==Wl.none}get hasMemorystick(){const e=this.emulationStateService.getCurrentSession();return!!e&&hM(e.device)===Wl.memorystick}get hasMountedCard(){return void 0!==this.emulationStateService.getCurrentSession()?.mountedCard}editSettings(){var e=this;return(0,he.Z)(function*(){const t=e.emulationStateService.getCurrentSession();if(!t)return;const r=t.speed,o=t.deviceOrientation,i=yield e.modalController.create({component:nd,backdropDismiss:!1,componentProps:{session:t,availableDevices:[t.device],onSave:(s=(0,he.Z)(function*(){r!==t.speed&&e.performanceWatchdogService.reset(),o!==t.deviceOrientation&&(e.canvasDisplayService.initialize(void 0,t),e.canvasDisplayService.updateEmulationCanvas()),yield e.sessionService.updateSession(t),i.dismiss()}),function(){return s.apply(this,arguments)}),onCancel:()=>i.dismiss()}});var s;yield e.popoverController.dismiss(),yield i.present()})()}rotate(){var e=this;return(0,he.Z)(function*(){const t=e.emulationStateService.getCurrentSession();if(!t)return;yield e.storageService.updateSessionPartial(t.id,{deviceOrientation:O6(t.deviceOrientation)});const r=e.emulationStateService.getCurrentSession();yield e.canvasDisplayService.initialize(void 0,r),e.canvasDisplayService.updateEmulationCanvas()})()}insertCard(){var e=this;return(0,he.Z)(function*(){if(e.popoverController.dismiss(),void 0===e.emulationStateService.getCurrentSession()?.device)return;const r=yield e.cloudpilotService.cloudpilot,o=e.storageCardService.getAllCards().filter(s=>r.deviceSupportsCardSize(s.size)&&!e.storageCardService.mountedInSession(s.id));0!==o.length?yield(yield e.alertController.create({header:"Choose image for insertion",buttons:[{text:"Cancel",role:"cancel"},{text:"Insert",handler:s=>e.storageCardService.insertCard(s)}],inputs:o.map((s,a)=>({label:s.name,type:"radio",value:s.id,checked:0===a})),backdropDismiss:!1})).present():e.alertService.message("No image available",`There is no ${e.hasMemorystick?"memory stick":"SD card"} image available. Please go to the "Storage" tab in order to create new one.`)})()}ejectCard(){var e=this;return(0,he.Z)(function*(){try{yield e.storageCardService.ejectCurrentCard()}catch(t){e.errorService.fatalBug(t instanceof Error?t.message:"eject failed")}e.popoverController.dismiss()})()}}op.\u0275fac=function(e){return new(e||op)(w(Yi),w(hs),w(rd),w(xc),w(qf),w(Ic),w(Xl),w(Yo),w(ps),w(xa),w(Nc),w(pl),w(Ki),w(ta),w(zr),w(zu),w(Xn),w($s))},op.\u0275cmp=Xe({type:op,selectors:[["app-emulation-context-menu"]],inputs:{showHelp:"showHelp"},decls:15,vars:11,consts:[["lines","full","button","",3,"detail","disabled","click",4,"ngIf"],["lines","full","button","",3,"detail","click",4,"ngIf"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"],["lines","full","button","",3,"detail","disabled","click"],["name","power-outline","slot","end"],["name","sync-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","log-in-outline","slot","end"],["name","log-out-outline","slot","end"],["name","volume-high-outline","slot","end"],["name","volume-mute-outline","slot","end"],["name","share-outline","slot","end"],["name","reload-outline","slot","end"],["name","cog-outline","slot","end"]],template:function(e,t){1&e&&(se(0,"ion-list"),ln(1,D6,4,2,"ion-item",0),ln(2,I6,4,2,"ion-item",0),ln(3,k6,4,2,"ion-item",0),ln(4,M6,4,2,"ion-item",1),ln(5,T6,4,2,"ion-item",1),ln(6,A6,4,1,"ion-item",1),ln(7,x6,4,1,"ion-item",1),ln(8,P6,4,2,"ion-item",0),ln(9,R6,4,1,"ion-item",1),ln(10,F6,4,1,"ion-item",1),se(11,"ion-item",2),at("click",function(){return t.help()}),se(12,"ion-label"),qe(13,"Help"),J(),dt(14,"ion-icon",3),J()()),2&e&&(et(1),ot("ngIf",t.hasActiveSession&&!t.powerDisabled),et(1),ot("ngIf",t.hasActiveSession),et(1),ot("ngIf",t.hasActiveSession),et(1),ot("ngIf",t.supportsStorageCard&&!t.hasMountedCard),et(1),ot("ngIf",t.supportsStorageCard&&t.hasMountedCard),et(1),ot("ngIf",t.isMuted&&!t.isAudioOff),et(1),ot("ngIf",!t.isMuted&&!t.isAudioOff),et(1),ot("ngIf",t.hasActiveSession),et(1),ot("ngIf",t.hasActiveSession),et(1),ot("ngIf",t.hasActiveSession),et(1),ot("detail",!1))},dependencies:[oi,ai,Ko,Wi,Da]});class N6{constructor(e,t){this.emulationService=e,this.canvasDisplayService=t,this.handleMouseDown=r=>{if(0!==r.button)return;const o=this.canvasDisplayService.eventToPalmCoordinates(r);if(!o)return;const i=this.determineArea(o);if(2===i){const s=this.canvasDisplayService.determineButton(o);this.interactionMouse={area:i,buttonPrimary:s},this.handleButtonDown(s)}else this.interactionMouse={area:i},this.emulationService.handlePointerMove(...o,1===i)},this.handleMouseMove=r=>{if(!(1&r.buttons&&this.interactionMouse&&2!==this.interactionMouse?.area))return;const o=this.canvasDisplayService.eventToPalmCoordinates(r,!0);o&&this.emulationService.handlePointerMove(...o,1===this.interactionMouse?.area)},this.handeMouseUp=r=>{if(0!==r.button)return;const o=this.interactionMouse;switch(this.interactionMouse=void 0,o?.area){case 2:this.handleButtonUp(o.buttonPrimary);break;case 0:case 1:this.emulationService.handlePointerUp()}},this.handleTouchStart=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.canvasDisplayService.eventToPalmCoordinates(s);if(!a)continue;o=!0;const u=this.determineArea(a);if(2===u){const f=this.canvasDisplayService.determineButton(a);this.interactionsTouch.set(s.identifier,{area:u,buttonPrimary:f}),this.handleButtonDown(f)}else this.interactionsTouch.set(s.identifier,{area:u}),this.emulationService.handlePointerMove(...a,1===u)}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchMove=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);if(!a)continue;o=!0;const u=a.area;switch(u){case 2:{const f=this.canvasDisplayService.eventToPalmCoordinates(s);if(!f||2!==this.determineArea(f)){this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0;break}const m=this.canvasDisplayService.determineButton(f);m===a.buttonPrimary?(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0):m!==a.buttonSecondary&&(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=m,this.handleButtonDown(m));break}case 0:case 1:{const f=this.canvasDisplayService.eventToPalmCoordinates(s,!0);if(!f)continue;this.emulationService.handlePointerMove(...f,1===u);break}default:continue}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchEnd=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);switch(a&&(o=!0),this.interactionsTouch.delete(s.identifier),a?.area){case 2:this.handleButtonUp(a.buttonPrimary),this.handleButtonUp(a.buttonSecondary);break;case 0:case 1:this.emulationService.handlePointerUp()}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleKeyDown=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;if(this.isToggleGameMode(r))return r.preventDefault(),this.gameMode=!this.gameMode,void this.onToggleGameMode();const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonDown(o),void r.preventDefault();const i=this.keyCodeFromEvent(r);void 0!==i&&(this.emulationService.handleKeyDown(i),r.preventDefault())},this.handleKeyUp=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonUp(o),void r.preventDefault();if("Control"===r.key){for(const i of this.activeButtons)this.emulationService.handleButtonUp(i);this.activeButtons.clear(),this.canvasDisplayService.drawButtons([])}},this.keyEventTarget=window,this.interactionsTouch=new Map,this.activeButtons=new Set,this.gameMode=!1,this.enableGamemodeHotkey=!0}bind(e,t=window){this.pointerEventTarget&&this.release(),this.pointerEventTarget=e,this.keyEventTarget=t||window,this.addEventListener(e,"mousedown",this.handleMouseDown),this.addEventListener(window,"mouseup",this.handeMouseUp),this.addEventListener(window,"mousemove",this.handleMouseMove),this.addEventListener(e,"touchstart",this.handleTouchStart),this.addEventListener(e,"touchmove",this.handleTouchMove),this.addEventListener(e,"touchend",this.handleTouchEnd),this.addEventListener(e,"touchcancel",this.handleTouchEnd),this.addEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.addEventListener(this.keyEventTarget,"keyup",this.handleKeyUp)}release(){if(this.pointerEventTarget){this.removeEventListener(this.pointerEventTarget,"mousedown",this.handleMouseDown),this.removeEventListener(window,"mouseup",this.handeMouseUp),this.removeEventListener(window,"mousemove",this.handleMouseMove),this.removeEventListener(this.pointerEventTarget,"touchstart",this.handleTouchStart),this.removeEventListener(this.pointerEventTarget,"touchmove",this.handleTouchMove),this.removeEventListener(this.pointerEventTarget,"touchend",this.handleTouchEnd),this.removeEventListener(this.pointerEventTarget,"touchcancel",this.handleTouchEnd),this.removeEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.removeEventListener(this.keyEventTarget,"keyup",this.handleKeyUp);for(const e of this.activeButtons)this.handleButtonUp(e);this.activeButtons.clear(),this.interactionsTouch.clear(),this.interactionMouse=void 0,this.pointerEventTarget=void 0}}isGameMode(){return this.gameMode}setGameMode(e){this.gameMode=e,this.onToggleGameMode()}setGameModeHotkeyEnabled(e){this.enableGamemodeHotkey=e}isGameModeHotkeyEnabled(){return this.enableGamemodeHotkey}enableKeyboardEvents(){return!0}onToggleGameMode(){}addEventListener(e,t,r,o){e.addEventListener(t,r,o)}removeEventListener(e,t,r,o){e.removeEventListener(t,r,o)}determineArea(e){return this.canvasDisplayService.isButtons(e)?2:this.canvasDisplayService.isSilkscreen(e)?1:0}handleButtonDown(e){this.activeButtons.has(e)||(this.activeButtons.add(e),this.emulationService.handleButtonDown(e),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}handleButtonUp(e){void 0===e||!this.activeButtons.has(e)||(this.activeButtons.delete(e),this.emulationService.handleButtonUp(e),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}isToggleGameMode(e){return this.isGameModeHotkeyEnabled()&&("Shift"===e.key&&e.ctrlKey||"Control"===e.key&&e.shiftKey)}isGameModeActive(e){return!this.gameMode&&e.ctrlKey||this.gameMode&&!e.ctrlKey}buttonFromEvent(e){switch(e.key){case"PageUp":return 4;case"PageDown":return 5}if(this.isGameModeActive(e))switch(e.key){case"w":case"i":case"ArrowUp":return 4;case"s":case"k":case"ArrowDown":return 5;case"a":case"j":case"y":case"z":case"ArrowLeft":return 0;case"q":case"u":case"x":return 1;case"e":case"o":case"c":return 2;case"d":case"l":case"v":case"ArrowRight":return 3}}keyCodeFromEvent(e){if(!this.isGameModeActive(e)){if(1===e.key.length&&e.key.charCodeAt(0)<=255)return e.key.charCodeAt(0);switch(e.key){case"ArrowLeft":return 28;case"ArrowRight":return 29;case"ArrowUp":return 30;case"ArrowDown":return 31;case"Backspace":return 8;case"Tab":return 9;case"Enter":return 10;default:return}}}}class od extends N6{constructor(e,t,r,o,i){super(e,t),this.modalWatcher=r,this.ngZone=o,this.app=i}enableKeyboardEvents(){return!this.modalWatcher.isModalActive()}onToggleGameMode(){this.app.tick()}addEventListener(e,t,r,o){this.ngZone.runOutsideAngular(()=>e.addEventListener(t,r,o))}}function LM(n){return/\.(prc|pdb|pqa)$/i.test(n)}od.\u0275fac=function(e){return new(e||od)(ne(Yi),ne(pl),ne(Zl),ne(ft),ne(kl))},od.\u0275prov=yt({token:od,factory:od.\u0275fac,providedIn:"root"});class U6{constructor(e,t,r,o){this.cloudpilotService=e,this.alertController=t,this.snapshotService=r,this.files=o,this.filesSuccess=[],this.filesFail=[],this.filesRequireReset=[],this.sizeInstalledSinceLastsnapshot=0,this.skipErrors=!1,this.errors=0,this.installedDatabases=new Map}run(){var e=this;return(0,he.Z)(function*(){for(const t of e.files)if(/\.zip/i.test(t.name)&&t.content.length<33554432)try{yield e.installZip(t)}catch{e.filesFail.push(t.name)}else LM(t.name)?yield e.installOne(t.name,t.content):e.filesFail.push(t.name);return[e.filesSuccess,e.filesRequireReset,e.filesFail]})()}installOne(e,t){var r=this;return(0,he.Z)(function*(){const i=yield(yield r.cloudpilotService.cloudpilot).installDb(t);switch(i){case 2:r.filesRequireReset.push(e),r.filesSuccess.push(e),r.sizeInstalledSinceLastsnapshot+=t.length;break;case 1:r.filesSuccess.push(e),r.sizeInstalledSinceLastsnapshot+=t.length;break;default:r.filesFail.push(e),yield r.reportError(e,i)}if(2===i||1===i)try{const s=function V6(n){if(n.length<32)throw new Error("not a database");let e;for(e=0;e<32&&0!==n[e];e++);if(e>31)throw new Error("not a database");return new TextDecoder("latin1",{fatal:!1}).decode(n.subarray(0,e))}(t);r.installedDatabases.has(s)&&(yield r.errorDialog("Duplicate item",`${e} overwrites previously installed database ${r.installedDatabases.get(s)}`)),r.installedDatabases.set(s,e)}catch{}r.sizeInstalledSinceLastsnapshot>4194304&&(yield r.snapshotService.triggerSnapshot(),r.sizeInstalledSinceLastsnapshot=0),yield new Promise(s=>setTimeout(s,0))})()}installZip(e){var t=this;return(0,he.Z)(function*(){yield(yield t.cloudpilotService.cloudpilot).withZipfileWalker(e.content,function(){var o=(0,he.Z)(function*(i){let s=0;for(;0===i.GetState();){const a=i.GetCurrentEntryName().replace(/^.*\//,"");if(!LM(i.GetCurrentEntryName())){i.Next();continue}const u=i.GetCurrentEntryContent();u?(yield t.installOne(a,u),s++):t.filesFail.push(a),i.Next()}if(0===s)throw new Error("no installable files in archive")});return function(i){return o.apply(this,arguments)}}())})()}reportError(e,t){return this.errorDialog("Item failed to install",`Could not install ${e}: ${function B6(n){switch(n){case-6:return"database exists on device and could not be overwritten";case-4:return"database file is corrupt";case-3:return"database is open on device";case-5:return"internal PalmOS error";case-2:return"not enough memory on device";default:return"unknown reason"}}(t)}.`)}errorDialog(e,t){return this.skipErrors?Promise.resolve():new Promise(r=>{this.alertController.create({header:e,backdropDismiss:!1,cssClass:"alert-checkbox-no-border installation-error",message:t,buttons:[{text:"Continue",role:"cancel",handler:()=>{this.alertController.dismiss(),r()}}],inputs:++this.errors>=3?[{type:"checkbox",label:"Skip any remaining errors",checked:!1,handler:i=>this.skipErrors=!0===i.checked}]:[]}).then(i=>i.present())})}}class id{constructor(e,t,r,o,i,s){this.cloudpilotService=e,this.emulationService=t,this.loadingController=r,this.snapshotService=o,this.alertService=i,this.alertController=s}installFiles(e){var t=this;return(0,he.Z)(function*(){const r=yield t.loadingController.create({message:"Installing..."});yield r.present(),yield t.emulationService.pause(),yield t.snapshotService.waitForPendingSnapshot();let o=[],i=[],s=[];try{[o,s,i]=yield new U6(t.cloudpilotService,t.alertController,t.snapshotService,e).run()}finally{r.dismiss(),t.emulationService.resume()}const a=[t.messageSucces(o),t.messageFailed(i),t.messageRequireReset(s)].filter(f=>!!f).join("<br/><br/>");let u;u=0===i.length?"Installation successful":0===o.length?"Installation failed":"Installation errors",t.alertService.message(u,a,s.length>0?{"Reset now":()=>t.emulationService.reset()}:void 0)})()}messageSucces(e){switch(e.length){case 0:return;case 1:return`Installation of ${e[0]} successful.`;default:return`Installation of ${e.length} items successful.`}}messageFailed(e){return e.length>0?`Installation of  ${p0(e)} failed.`:void 0}messageRequireReset(e){return e.length>0?`${p0(e)} require a device reset.`:void 0}}id.\u0275fac=function(e){return new(e||id)(ne(Ki),ne(Yi),ne(Ll),ne(Aa),ne(zr),ne(zu))},id.\u0275prov=yt({token:id,factory:id.\u0275fac,providedIn:"root"});class Ql{constructor(){this.onDragOver=e=>{e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.currentClient?"copy":"none")},this.onDrop=e=>{e.preventDefault(),this.currentClient&&this.currentClient.handleDragDropEvent(e)},document.addEventListener("drop",this.onDrop),document.addEventListener("dragover",this.onDragOver)}registerClient(e){this.currentClient=e}unregisterClient(e){e===this.currentClient&&(this.currentClient=void 0)}}Ql.\u0275fac=function(e){return new(e||Ql)},Ql.\u0275prov=yt({token:Ql,factory:Ql.\u0275fac,providedIn:"root"});const j6=["canvas"];function H6(n,e){if(1&n){const t=wr();se(0,"ion-button",5),at("click",function(){return Tt(t),Pt(Bt().navigation.lock())}),dt(1,"ion-icon",10),J()}}function z6(n,e){if(1&n){const t=wr();se(0,"ion-button",5),at("click",function(){return Tt(t),Pt(Bt().navigation.unlock())}),dt(1,"ion-icon",11),J()}}function G6(n,e){if(1&n){const t=wr();se(0,"ion-button",5),at("click",function(){return Tt(t),Pt(Bt().showGameModeHint())}),dt(1,"ion-icon",12),J()}}function W6(n,e){if(1&n){const t=wr();se(0,"ion-button",5),at("click",function(){return Tt(t),Pt(Bt().showProxyConnectedHint())}),dt(1,"ion-icon",13),J()}}function Z6(n,e){if(1&n){const t=wr();se(0,"ion-button",5),at("click",function(){return Tt(t),Pt(Bt().showSlowdowndHint())}),dt(1,"ion-icon",14),J()}}function q6(n,e){if(1&n){const t=wr();se(0,"div",15),qe(1," The device was reset forcefully. How do you want to boot? "),se(2,"ion-button",16),at("click",function(){return Tt(t),Pt(Bt().bootAfterForcefulReset())}),qe(3,"Normal boot"),J(),se(4,"ion-button",16),at("click",function(){return Tt(t),Pt(Bt().bootAfterForcefulResetNoExtensions())}),qe(5,"No extensions"),J(),se(6,"ion-button",16),at("click",function(){return Tt(t),Pt(Bt().bootAfterForcefulResetHardReset())}),qe(7,"Hard reset"),J()()}}function K6(n,e){1&n&&(se(0,"div",15)(1,"div"),qe(2,"No session selected"),J()())}class ip{constructor(e,t,r,o,i,s,a,u,f,m,_,k,A,Q,Te,Ze,Ke,Ct){var Ne=this;this.emulationService=e,this.emulationState=t,this.storageService=r,this.eventHandlingService=o,this.canvasDisplayService=i,this.kvsService=s,this.popoverController=a,this.modalController=u,this.alertService=f,this.fileService=m,this.snapshotService=_,this.installlationService=k,this.proxyService=A,this.navigation=Q,this.linkApi=Te,this.performanceWatchdogService=Ze,this.cloudpilotService=Ke,this.dragDropService=Ct,this.ionViewDidEnter=()=>this.mutex.runExclusive((0,he.Z)(function*(){yield Ne.emulationService.bootstrapComplete(),Ne.boostrapComplete=!0;const Ot=Ne.emulationState.getCurrentSession();Ot&&!Ot.wasResetForcefully&&(yield Ne.launchEmulator()),Ne.linkApi.installation.requestEvent.addHandler(Ne.handleLinkApiInstallationRequest),Ne.handleLinkApiInstallationRequest(),Ne.dragDropService.registerClient(Ne)})),this.ionViewWillLeave=()=>this.mutex.runExclusive(()=>{this.dragDropService.unregisterClient(this),this.linkApi.installation.requestEvent.removeHandler(this.handleLinkApiInstallationRequest),this.emulationService.isRunning()&&(this.autoLockUI=!1),this.emulationService.pause(),this.emulationService.newFrameEvent.removeHandler(this.onNewFrame),this.snapshotService.snapshotEvent.removeHandler(this.onSnapshot),this.kvsService.updateEvent.removeHandler(this.onKvsUpdate),this.eventHandlingService.release(),this.navigation.unlock()}),this.onKvsUpdate=()=>{this.kvsService.kvs.showStatistics?this.canvasDisplayService.updateStatistics():this.canvasDisplayService.clearStatistics()},this.onSnapshot=Ot=>{this.kvsService.kvs.showStatistics&&this.canvasDisplayService.updateStatistics(Ot,this.emulationService.getStatistics())},this.onNewFrame=Ot=>{this.canvasDisplayService.updateEmulationCanvas(Ot)},this.handleLinkApiInstallationRequest=()=>{if(!this.linkApi.installation.hasPendingRequest())return;const Ot=this.linkApi.installation.receivePendingUrl();Ot&&(this.installFileDisabled?this.alertService.message("Unable to install","Installation is currently not possible.",{},"Cancel"):this.emulationState.getCurrentSession()&&this.emulationService.isRunning()?this.alertService.message("Installation request",`Do you want to install<br>${Ot} ?`,{OK:()=>this.fileService.openUrl(Ot,Gn=>this.installlationService.installFiles([Gn]))},"Cancel"):this.alertService.message("Unable to install",`Please start a session in order to install ${Ot} .`,{},"Cancel"))},this.boostrapComplete=!1,this.autoLockUI=!0,this.mutex=new ka}get cssWidth(){return this.canvasDisplayService.width/devicePixelRatio+"px"}get cssHeight(){return this.canvasDisplayService.height/devicePixelRatio+"px"}openContextMenu(e){var t=this;return(0,he.Z)(function*(){(yield t.popoverController.create({component:op,event:e,componentProps:{showHelp:()=>t.showHelp()},arrow:!1})).present()})()}handleDragDropEvent(e){this.installFileDisabled||this.fileService.openFromDrop(e,this.installlationService.installFiles.bind(this.installlationService))}installFiles(){this.fileService.openFiles(this.installlationService.installFiles.bind(this.installlationService))}showHelp(){var e=this;return(0,he.Z)(function*(){yield(yield e.modalController.create({component:fl,componentProps:{url:"assets/doc/emulation.md"}})).present()})()}showGameModeHint(){var e=this;return(0,he.Z)(function*(){yield e.alertService.message("Game mode","\n                The keyboard is in game mode and controls the hardware buttons.\n                Press ctrl-shift in order to exit game mode.\n                <br/><br/>\n                Check the help page for a description of the different keyboard mappings.\n            ",{Help:()=>e.showHelp()})})()}showProxyConnectedHint(){var e=this;return(0,he.Z)(function*(){yield e.alertService.message("Proxy connected","Network proxy connected.")})()}showSlowdowndHint(){var e=this;return(0,he.Z)(function*(){yield e.alertService.message("Speed throttled","\n                Your host is too slow to run your virtual device at full speed, and the clock\n                has been throttled in order to compensate. You can avoid this by reducing the speed of your\n                virtual device in the session settings.\n        ")})()}get installFileDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get title(){return this.emulationState.getCurrentSession()?.name||""}bootAfterForcefulReset(){var e=this;return(0,he.Z)(function*(){yield e.clearForcefulReset(),yield e.launchEmulator()})()}bootAfterForcefulResetNoExtensions(){var e=this;return(0,he.Z)(function*(){yield e.clearForcefulReset(),(yield e.cloudpilotService.cloudpilot).resetNoExtensions(),yield e.launchEmulator()})()}bootAfterForcefulResetHardReset(){var e=this;return(0,he.Z)(function*(){yield e.clearForcefulReset(),(yield e.cloudpilotService.cloudpilot).resetHard(),yield e.launchEmulator()})()}cancelIfEmulationActive(e){this.emulationState.getCurrentSession()&&!this.emulationState.getCurrentSession()?.wasResetForcefully&&e.cancelable&&e.preventDefault()}clearForcefulReset(){var e=this;return(0,he.Z)(function*(){const t=e.emulationState.getCurrentSession();t&&(yield e.storageService.updateSessionPartial(t.id,{wasResetForcefully:!1}))})()}launchEmulator(){var e=this;return(0,he.Z)(function*(){const t=e.emulationState.getCurrentSession();t&&(yield e.kvsService.mutex.runExclusive(()=>e.kvsService.kvs.autoLockUI&&e.autoLockUI&&e.navigation.lock()),e.canvasDisplayService.initialize(e.canvasRef.nativeElement,t).then(()=>{e.onKvsUpdate(),e.kvsService.updateEvent.addHandler(e.onKvsUpdate)}),e.onNewFrame(e.emulationService.getCanvas()),e.emulationService.newFrameEvent.addHandler(e.onNewFrame),e.snapshotService.snapshotEvent.addHandler(e.onSnapshot),yield e.emulationService.resume(),e.eventHandlingService.bind(e.canvasRef.nativeElement))})()}}function S0(n,e,t){return()=>{const r=t();r!==e&&(n.markForCheck(),e=r)}}function $M(n,e){let t=n,r=1;for(;e(t);)t=`${n} (${r++})`;return t}ip.\u0275fac=function(e){return new(e||ip)(w(Yi),w(hs),w(Xn),w(od),w(pl),w(Yo),w(Ic),w(ps),w(zr),w(Bs),w(Aa),w(id),w(ql),w(Oc),w(Al),w(Nc),w(Ki),w(Ql))},ip.\u0275cmp=Xe({type:ip,selectors:[["app-emulation"]],viewQuery:function(e,t){if(1&e&&bu(j6,5),2&e){let r;Ds(r=Is())&&(t.canvasRef=r.first)}},decls:21,vars:19,consts:[["slot","end"],[3,"disabled","click"],["name","download-outline"],[3,"click",4,"ngIf"],["slot","start"],[3,"click"],["name","ellipsis-vertical-outline"],[1,"container","running-session",3,"touchstart","touchmove"],["canvas",""],["class","container no-session",4,"ngIf"],["name","lock-open-outline"],["name","lock-closed-outline"],["name","game-controller-outline"],["name","swap-vertical-outline"],["name","speedometer-outline"],[1,"container","no-session"],["type","button","color","light",3,"click"]],template:function(e,t){if(1&e&&(se(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),qe(3),J(),se(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return t.installFiles()}),dt(6,"ion-icon",2),J(),ln(7,H6,2,0,"ion-button",3),ln(8,z6,2,0,"ion-button",3),J(),se(9,"ion-buttons",4)(10,"ion-button",5),at("click",function(o){return t.openContextMenu(o)}),dt(11,"ion-icon",6),J(),ln(12,G6,2,0,"ion-button",3),ln(13,W6,2,0,"ion-button",3),ln(14,Z6,2,0,"ion-button",3),J()()(),se(15,"ion-content")(16,"div",7),at("touchstart",function(o){return t.cancelIfEmulationActive(o)})("touchmove",function(o){return t.cancelIfEmulationActive(o)}),dt(17,"canvas",null,8),J(),ln(19,q6,8,0,"div",9),ln(20,K6,3,0,"div",9),J()),2&e){let r,o;et(3),Es(t.title),et(2),ot("disabled",t.installFileDisabled),et(2),ot("ngIf",!t.navigation.isLocked()),et(1),ot("ngIf",t.navigation.isLocked()),et(4),ot("ngIf",t.eventHandlingService.isGameMode()),et(1),ot("ngIf",t.proxyService.isConnected()),et(1),ot("ngIf",t.performanceWatchdogService.isSlowdownDetected()),et(1),qa("locked",t.navigation.isLocked()),et(1),qd("display",!t.emulationState.getCurrentSession()||null!=(r=t.emulationState.getCurrentSession())&&r.wasResetForcefully?"none":void 0),et(1),qd("width",t.cssWidth)("height",t.cssHeight)("display",t.emulationState.getCurrentSession()?"block":"none"),et(2),ot("ngIf",null!=(o=t.emulationState.getCurrentSession())&&o.wasResetForcefully?"none":void 0),et(1),ot("ngIf",!t.emulationState.getCurrentSession()&&t.boostrapComplete)}},dependencies:[oi,ji,Hi,zi,Gi,ai,Zi,qi],styles:["ion-title[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:3px}.container.no-session[_ngcontent-%COMP%]{text-align:center;padding:1em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:1em;width:100%;max-width:20em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-of-type{margin-top:3em}ion-content.locked[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-bottom:var(--ion-safe-area-bottom, 0)}.container.running-session[_ngcontent-%COMP%]{background:radial-gradient(circle,#ccc 0%,#eee 100%)}@media (prefers-color-scheme: dark){.container.running-session[_ngcontent-%COMP%]{background:none}}canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}"]});class sp{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onDelete=()=>{},this.onReset=()=>{}}}sp.\u0275fac=function(e){return new(e||sp)},sp.\u0275cmp=Xe({type:sp,selectors:[["app-session-context-menu"]],inputs:{onEdit:"onEdit",onSave:"onSave",onDelete:"onDelete",onReset:"onReset"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,t){1&e&&(se(0,"ion-list")(1,"ion-item",0),at("click",function(){return t.onEdit()}),dt(2,"ion-icon",1),qe(3," Edit "),J(),se(4,"ion-item",0),at("click",function(){return t.onSave()}),dt(5,"ion-icon",2),qe(6," Save "),J(),se(7,"ion-item",0),at("click",function(){return t.onReset()}),dt(8,"ion-icon",3),qe(9," Reset "),J(),se(10,"ion-item",4),at("click",function(){return t.onDelete()}),dt(11,"ion-icon",5),qe(12," Delete "),J()()),2&e&&(et(1),ot("detail",!1),et(3),ot("detail",!1),et(3),ot("detail",!1),et(3),ot("detail",!1))},dependencies:[ai,Ko,Da]});const X6=["slidingItem"];function Q6(n,e){if(1&n&&(se(0,"span"),qe(1),J()),2&n){const t=Bt();et(1),Ti(", OS ",t.decodeVersion(null==t.session?null:t.session.osVersion),"")}}class ap{constructor(e){this.popoverController=e,this.selected=!1,this.touched=!1,this.delete=new kn,this.resetSession=new kn,this.edit=new kn,this.save=new kn,this.selectItem=new kn,this.interaction=new kn}get device(){return this.session?pM(this.session.device):""}onContextmenu(e){var t=this;return(0,he.Z)(function*(){e.stopPropagation(),e.preventDefault(),t.interaction.emit(),(yield t.popoverController.create({component:sp,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>t.edit.emit(),onSave:()=>t.save.emit(),onDelete:()=>t.delete.emit(),onReset:()=>t.resetSession.emit()}})).present()})()}decodeVersion(e){if(void 0===e)return"";const t=function Y6(n){return{major:n>>>24&255,minor:n>>>20&15,fix:n>>>16&15,stage:n>>>12&15,build:4095&n}}(e);return`${t.major}.${t.minor}`}get color(){return this.selected?"primary":this.touched?"light":void 0}}function J6(n,e){1&n&&(se(0,"div",10),dt(1,"ion-spinner"),J())}function e5(n,e){1&n&&(se(0,"div",11)(1,"div",12),qe(2," No sessions. Select the \u201e+\u201c icon in the upper right corner in order to import a ROM file or a session image. "),dt(3,"br")(4,"br"),qe(5," You can find a collection of compatible ROMs on "),se(6,"a",13),qe(7,"PalmDB"),J(),qe(8,". "),J()())}function t5(n,e){if(1&n){const t=wr();se(0,"app-session-item",15),at("delete",function(){const i=Tt(t).$implicit;return Pt(Bt(2).deleteSession(i))})("selectItem",function(){const i=Tt(t).$implicit;return Pt(Bt(2).launchSession(i))})("edit",function(){const i=Tt(t).$implicit;return Pt(Bt(2).editSession(i))})("save",function(){const i=Tt(t).$implicit;return Pt(Bt(2).saveSession(i))})("resetSession",function(){const i=Tt(t).$implicit;return Pt(Bt(2).resetSession(i))})("interaction",function(){const i=Tt(t).$implicit;return Pt(Bt(2).lastSessionTouched=i.id)}),J()}if(2&n){const t=e.$implicit,r=Bt(2);ot("session",t)("selected",r.currentSessionId===t.id)("touched",t.id===r.lastSessionTouched)}}function n5(n,e){if(1&n&&(se(0,"ion-list"),ln(1,t5,1,3,"app-session-item",14),J()),2&n){const t=Bt();et(1),ot("ngForOf",t.sessions)("ngForTrackBy",t.trackSessionBy)}}ap.\u0275fac=function(e){return new(e||ap)(w(Ic))},ap.\u0275cmp=Xe({type:ap,selectors:[["app-session-item"]],viewQuery:function(e,t){if(1&e&&bu(X6,5),2&e){let r;Ds(r=Is())&&(t.slidingItem=r.first)}},inputs:{session:"session",selected:"selected",touched:"touched"},outputs:{delete:"delete",resetSession:"resetSession",edit:"edit",save:"save",selectItem:"selectItem",interaction:"interaction"},decls:19,vars:7,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","refresh-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],[4,"ngIf"]],template:function(e,t){if(1&e){const r=wr();se(0,"ion-item-sliding",0,1),at("contextmenu",function(i){return t.onContextmenu(i)})("ionDrag",function(){return t.interaction.emit()}),se(2,"ion-item-options",2)(3,"ion-item-option",3),at("click",function(){return Tt(r),Ss(1).close(),Pt(t.edit.emit(t.session))}),dt(4,"ion-icon",4),J(),se(5,"ion-item-option",5),at("click",function(){return Tt(r),Ss(1).close(),Pt(t.save.emit(t.session))}),dt(6,"ion-icon",6),J()(),se(7,"ion-item-options",7)(8,"ion-item-option",8),at("click",function(){return Tt(r),Ss(1).close(),Pt(t.resetSession.emit(t.session))}),dt(9,"ion-icon",9),J(),se(10,"ion-item-option",10),at("click",function(){return Tt(r),Ss(1).close(),Pt(t.delete.emit(t.session))}),dt(11,"ion-icon",11),J()(),se(12,"ion-item",12),at("click",function(){return t.selectItem.emit()}),se(13,"ion-label")(14,"h2"),qe(15),J(),se(16,"p"),qe(17),ln(18,Q6,2,1,"span",13),J()()()()}2&e&&(et(12),ot("color",t.color),et(1),qa("in-item-color",t.selected),et(2),Es(null==t.session?null:t.session.name),et(2),Yd("",t.device,", ",null==t.session?null:t.session.ram,"MB RAM"),et(1),ot("ngIf",null==t.session?null:t.session.osVersion))},dependencies:[oi,ai,Ko,Dm,Im,km,Wi],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}"],changeDetection:0});class Fa{constructor(e,t,r,o,i,s,a,u,f,m,_,k,A){this.sessionService=e,this.fileService=t,this.alertController=r,this.alertService=o,this.emulationService=i,this.emulationState=s,this.storageService=a,this.modalController=u,this.linkApi=f,this.router=m,this.cloudpilotService=_,this.dragDropService=k,this.cd=A,this.handleLinkApiImportRequest=()=>{if(!this.linkApi.import.hasPendingRequest())return;const Q=this.linkApi.import.receivePendingUrl();Q&&this.alertService.message("Import request",`Do you want to import<br>${Q} ?`,{OK:()=>this.fileService.openUrl(Q,this.processFile.bind(this))},"Cancel")},this.lastSessionTouched=-1,this.checkSessions=S0(A,[],()=>this.sessionService.getSessions())}ngDoCheck(){this.checkSessions()}ionViewDidEnter(){this.linkApi.import.requestEvent.addHandler(this.handleLinkApiImportRequest),this.handleLinkApiImportRequest(),this.dragDropService.registerClient(this)}ionViewWillLeave(){this.dragDropService.unregisterClient(this),this.linkApi.import.requestEvent.removeHandler(this.handleLinkApiImportRequest)}get sessions(){return this.sessionService.getSessions().sort((e,t)=>e.name.localeCompare(t.name))}deleteSession(e){var t=this;return(0,he.Z)(function*(){yield(yield t.alertController.create({header:"Warning",message:`Deleting the session '${e.name}' will remove all associated data. This cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:()=>t.sessionService.deleteSession(e)}],backdropDismiss:!1})).present()})()}editSession(e){var t=this;return(0,he.Z)(function*(){const r={...e};(yield t.editSettings(e))&&!MM()(e,r)&&(yield t.sessionService.updateSession(e))})()}importSession(){this.fileService.openFile(this.processFile.bind(this))}saveSession(e){return this.fileService.saveSession(e)}trackSessionBy(e,t){return t.id}launchSession(e){var t=this;return(0,he.Z)(function*(){t.lastSessionTouched=e.id,t.currentSessionOverride=e.id,t.cd.markForCheck();const r=yield t.emulationService.switchSession(e.id);t.currentSessionOverride=void 0,t.cd.markForCheck(),r&&t.router.navigateByUrl("/tab/emulation")})()}resetSession(e){var t=this;return(0,he.Z)(function*(){const r=e.id===t.emulationState.getCurrentSession()?.id;r&&(yield t.emulationService.stop()),yield t.storageService.deleteStateForSession(e),yield t.storageService.updateSessionPartial(e.id,{wasResetForcefully:!0}),r&&(yield t.emulationService.switchSession(e.id)),yield(yield t.alertController.create({header:"Done",message:`Session ${e.name} has been reset.`,buttons:[{text:"Close",role:"cancel"}],backdropDismiss:!1})).present()})()}get currentSessionId(){return this.currentSessionOverride??this.emulationState.getCurrentSession()?.id}showHelp(){var e=this;return(0,he.Z)(function*(){yield(yield e.modalController.create({component:fl,componentProps:{url:"assets/doc/sessions.md"}})).present()})()}handleDragDropEvent(e){this.fileService.openFromDrop(e,this.handleDropFiles.bind(this))}handleDropFiles(e){if(0!==e.length){if(e.length>1)return void this.alertService.errorMessage("Drop a single ROM or session image in order to create a new session.");this.processFile(e[0])}}processFile(e){var t=this;return(0,he.Z)(function*(){if(!/\.(img|rom|bin)$/i.test(e.name))return void t.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .img and .rom.");const r=(yield t.cloudpilotService.cloudpilot).deserializeSessionImage(e.content);if(r){const o={name:t.disambiguateSessionName(r.metadata?.name??e.name),hotsyncName:r.metadata?.hotsyncName,device:r.deviceId,dontManageHotsyncName:r.metadata?.dontManageHotsyncName,speed:r.metadata?.speed,deviceOrientation:r.metadata?.deviceOrientation};if(yield t.editSettings(o)){const i=yield t.sessionService.addSessionFromImage(r,o.name,o);t.lastSessionTouched=i.id}}else{const o=(yield t.cloudpilotService.cloudpilot).getRomInfo(e.content);if(!o)return void t.alertService.errorMessage("Not a valid session file or ROM image.");if(0===o.supportedDevices.length)return void t.alertService.errorMessage("No supported device for this ROM.");const i={name:t.disambiguateSessionName(e.name),hotsyncName:"",device:o.supportedDevices[0]};if(yield t.editSettings(i,o.supportedDevices)){const s=yield t.sessionService.addSessionFromRom(e.content,i.name,i.device,i);t.lastSessionTouched=s.id}}})()}editSettings(e,t=[e.device]){return new Promise(r=>{let o;this.modalController.create({component:nd,backdropDismiss:!1,componentProps:{session:e,availableDevices:t,onSave:()=>{o.dismiss(),r(!0)},onCancel:()=>{o.dismiss(),r(!1)}}}).then(i=>{o=i,o.present()})})}disambiguateSessionName(e){const t=this.sessionService.getSessions();return $M(e,r=>t.some(o=>o.name===r))}}function r5(n,e){1&n&&(se(0,"ion-item",8)(1,"ion-label"),qe(2,"Clipboard integration"),J(),dt(3,"ion-toggle",17),J())}function o5(n,e){if(1&n){const t=wr();se(0,"ion-item",8)(1,"ion-label",18),qe(2,"Proxy server"),J(),se(3,"div",19),dt(4,"ion-input",20),se(5,"ion-button",21),at("click",function(o){Tt(t);const i=Bt();return o.preventDefault(),o.stopPropagation(),Pt(i.testProxyConnection())})("touchstart",function(o){Tt(t);const i=Bt();return o.preventDefault(),o.stopPropagation(),Pt(i.testProxyConnection())}),qe(6," Test "),J()()()}if(2&n){const t=Bt();et(5),ot("disabled",!t.proxyServerValid)}}Fa.\u0275fac=function(e){return new(e||Fa)(w(xa),w(Bs),w(zu),w(zr),w(Yi),w(hs),w(Xn),w(ps),w(Al),w(Oo),w(Ki),w(Ql),w(It))},Fa.\u0275cmp=Xe({type:Fa,selectors:[["app-sessions"]],decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],["href","https://palmdb.net/app/palm-roms-complete","target","_blank","rel","external"],[3,"session","selected","touched","delete","selectItem","edit","save","resetSession","interaction",4,"ngFor","ngForOf","ngForTrackBy"],[3,"session","selected","touched","delete","selectItem","edit","save","resetSession","interaction"]],template:function(e,t){1&e&&(se(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),qe(3,"Sessions"),J(),se(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return t.importSession()}),dt(6,"ion-icon",2),J()(),se(7,"ion-buttons",3)(8,"ion-button",1),at("click",function(){return t.showHelp()}),dt(9,"ion-icon",4),J(),dt(10,"app-pwa-prompt"),J()()(),se(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),qe(15,"Sessions"),J()()(),ln(16,J6,2,0,"div",7),ln(17,e5,9,0,"div",8),ln(18,n5,2,2,"ion-list",9),J()),2&e&&(et(16),ot("ngIf",t.sessionService.isLoading()),et(1),ot("ngIf",!t.sessionService.isLoading()&&0===t.sessions.length),et(1),ot("ngIf",!t.sessionService.isLoading()&&t.sessions.length>0))},dependencies:[gc,oi,ji,Hi,zi,Gi,ai,Da,Hf,Zi,qi,Yl,ap],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"]}),G([yo()],Fa.prototype,"deleteSession",null),G([yo()],Fa.prototype,"editSession",null),G([yo()],Fa.prototype,"saveSession",null),G([yo()],Fa.prototype,"launchSession",null),G([yo()],Fa.prototype,"resetSession",null);class lp{constructor(e,t,r,o,i){this.modalController=e,this.kvsService=t,this.clipboardService=r,this.alertService=o,this.proxyService=i,this.onAudioOnStartChange=s=>{this.kvsService.kvs.enableAudioOnFirstInteraction=s,s&&this.alertService.message("Enable audio on start","\n            Audio will automatically turn on after the first interaction with the application\n            (i.e. touch, click or keyboard event). This option will only take effect the next time\n            Coudpilot is restarts.\n        ")},this.connectionTestInProgress=!1}ngOnInit(){this.createFormGroup()}showHelp(){var e=this;return(0,he.Z)(function*(){yield(yield e.modalController.create({component:fl,componentProps:{url:"assets/doc/settings.md"}})).present()})()}ionViewWillEnter(){this.mutexReleasePromise=this.kvsService.mutex.acquire()}ionViewWillLeave(){var e=this;return(0,he.Z)(function*(){e.formGroup.get("networkRedirection")?.value&&!e.formGroup.get("proxyServer")?.valid&&(e.alertService.message("Invalid proxy server","The proxy server you specified is invalid. Network redirection will be disabled."),e.formGroup.get("networkRedirection").setValue(!1)),e.formGroup.get("networkRedirection")?.value||e.formGroup.get("proxyServer")?.setValue(e.kvsService.kvs.proxyServer),yield e.kvsService.set({volume:e.formGroup.get("volume").value,showStatistics:e.formGroup.get("showStatistics").value,clipboardIntegration:e.formGroup.get("clipboardIntegration")?.value,networkRedirection:e.formGroup.get("networkRedirection")?.value,proxyServer:e.formGroup.get("proxyServer")?.value,runHidden:e.formGroup.get("runHidden")?.value,autoLockUI:e.formGroup.get("autoLockUI")?.value,enableRemoteInstall:e.formGroup.get("enableRemoteInstall")?.value,enableAudioOnFirstInteraction:e.formGroup.get("audioOnStart")?.value}),e.mutexReleasePromise&&(yield e.mutexReleasePromise)()})()}testProxyConnection(){var e=this;return(0,he.Z)(function*(){if(!e.connectionTestInProgress){e.connectionTestInProgress=!0;try{switch((yield e.proxyService.handshake(e.formGroup.get("proxyServer")?.value,0)).status){case"failed":e.alertService.errorMessage("Unable to connect to proxy");break;case"version_mismatch":e.alertService.proxyVersionMismatchError();break;default:e.alertService.message("Success","Connection to proxy successful.")}}finally{e.connectionTestInProgress=!1}}})()}get showProxyServer(){return this.formGroup.get("networkRedirection")?.value}get proxyServerValid(){const e=this.formGroup.get("proxyServer");return!(!e?.value||!e?.valid)}createFormGroup(){this.formGroup=new qh({volume:new si(this.kvsService.kvs.volume),showStatistics:new si(this.kvsService.kvs.showStatistics),runHidden:new si(this.kvsService.kvs.runHidden),clipboardIntegration:new si(this.kvsService.kvs.clipboardIntegration),networkRedirection:new si(this.kvsService.kvs.networkRedirection),proxyServer:new si(this.kvsService.kvs.proxyServer,{validators:[PH]}),autoLockUI:new si(this.kvsService.kvs.autoLockUI),enableRemoteInstall:new si(this.kvsService.kvs.enableRemoteInstall),audioOnStart:new si(this.kvsService.kvs.enableAudioOnFirstInteraction)}),this.formGroup.get("audioOnStart")?.valueChanges.subscribe(this.onAudioOnStartChange)}}lp.\u0275fac=function(e){return new(e||lp)(w(ps),w(Yo),w(Ac),w(zr),w(ql))},lp.\u0275cmp=Xe({type:lp,selectors:[["app-settings"]],decls:51,vars:4,consts:[[3,"translucent"],["slot","secondary"],[3,"click"],["name","help-outline"],["collapse","condense"],["size","large"],[1,"settings-container"],[1,"settings-form",3,"formGroup"],["lines","none"],["min","0","max","1","step","0.1","formControlName","volume"],["formControlName","audioOnStart"],["formControlName","runHidden"],["lines","none",4,"ngIf"],["formControlName","networkRedirection"],["formControlName","autoLockUI"],["formControlName","showStatistics"],["formControlName","enableRemoteInstall"],["formControlName","clipboardIntegration"],["position","stacked"],[1,"server-container"],["placeholder","Proxy server host or URL","formControlName","proxyServer"],[3,"disabled","click","touchstart"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"Settings"),J(),se(4,"ion-buttons",1)(5,"ion-button",2),at("click",function(){return t.showHelp()}),dt(6,"ion-icon",3),J(),dt(7,"app-pwa-prompt"),J()()(),se(8,"ion-content")(9,"ion-header",4)(10,"ion-toolbar")(11,"ion-title",5),qe(12,"Settings"),J()()(),se(13,"div",6)(14,"form",7)(15,"h1"),qe(16,"Emulation"),J(),se(17,"ion-item",8)(18,"ion-label"),qe(19,"Volume"),J(),dt(20,"ion-range",9),J(),se(21,"ion-item",8)(22,"ion-label"),qe(23,"Enable audio on start"),J(),dt(24,"ion-toggle",10),J(),se(25,"ion-item",8)(26,"ion-label"),qe(27,"Run when hidden"),J(),dt(28,"ion-toggle",11),J(),se(29,"h1"),qe(30,"Host integration"),J(),ln(31,r5,4,0,"ion-item",12),se(32,"ion-item",8)(33,"ion-label"),qe(34,"Network redirection"),J(),dt(35,"ion-toggle",13),J(),ln(36,o5,7,1,"ion-item",12),se(37,"h1"),qe(38,"UI"),J(),se(39,"ion-item",8)(40,"ion-label"),qe(41,"Auto-lock UI"),J(),dt(42,"ion-toggle",14),J(),se(43,"ion-item",8)(44,"ion-label"),qe(45,"Show statistics"),J(),dt(46,"ion-toggle",15),J(),se(47,"ion-item",8)(48,"ion-label"),qe(49,"Open from remote sources"),J(),dt(50,"ion-toggle",16),J()()()()),2&e&&(ot("translucent",!0),et(14),ot("formGroup",t.formGroup),et(17),ot("ngIf",t.clipboardService.isSupported()),et(5),ot("ngIf",t.showProxyServer))},dependencies:[oi,rl,tl,nl,ji,Hi,zi,Gi,ai,cl,Ko,Wi,Hv,Zi,zf,qi,ju,jf,ll,Yl,Qs,Ca],styles:[".server-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.server-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex-grow:1}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.settings-form[_ngcontent-%COMP%]{max-width:40em;flex-basis:100%}ion-item[_ngcontent-%COMP%]{--background: none}"]});class Lc{transform(e){return void 0!==e?`${Math.round(e/1024/1024)} MB`:""}}function i5(n,e){1&n&&(se(0,"div",14)(1,"b"),qe(2,"WARNING:"),J(),qe(3," This image cannot be used as a memory stick image."),J())}Lc.\u0275fac=function(e){return new(e||Lc)},Lc.\u0275pipe=xe({name:"cardSize",type:Lc,pure:!0});class sd{constructor(e){this.storageCardService=e,this.validateNameUnique=t=>this.storageCardService.getAllCards().some(r=>r.name===t.value&&r.name!==this.card?.name)?{name:"already taken"}:null,this.formGroup=new Ol({name:new fs("",{nonNullable:!0,validators:[_f.required,this.validateNameUnique]}),size:new fs({value:"dummy",disabled:!0}),checkAutomatically:new fs(!0,{nonNullable:!0})}),this.newCard=!1,this.cardSupportLevel=2,this.onCancel=()=>{},this.onSave=()=>{}}ngOnInit(){this.card&&(this.formGroup.controls.name.setValue(this.card.name),this.formGroup.controls.checkAutomatically.setValue(!this.card.dontFsckAutomatically))}save(){!this.formGroup.valid||!this.formGroup.value.name||!this.card||this.onSave({name:this.formGroup.value.name,dontFsckAutomatically:!this.formGroup.value.checkAutomatically})}onEnter(){this.save()}get memoryStickSupported(){return 2===this.cardSupportLevel}}function s5(n,e){if(1&n&&(se(0,"ion-select-option",13),qe(1),ya(2,"cardSize"),J()),2&n){const t=e.$implicit,r=Bt();ot("value",t),et(1),Ti("",_a(2,2,r.sizeBytes(t))," ")}}sd.\u0275fac=function(e){return new(e||sd)(w(ta))},sd.\u0275cmp=Xe({type:sd,selectors:[["app-edit-card-dialog"]],inputs:{card:"card",newCard:"newCard",cardSupportLevel:"cardSupportLevel",onCancel:"onCancel",onSave:"onSave"},decls:28,vars:7,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],["value","dummy"],["formControlName","checkAutomatically"],["class","sd-only-warning",4,"ngIf"],[1,"sd-only-warning"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3),J(),se(4,"ion-buttons",1)(5,"ion-button",2),at("click",function(){return t.save()}),qe(6,"Save"),J()(),se(7,"ion-buttons",3)(8,"ion-button",4),at("click",function(){return t.onCancel()}),qe(9,"Cancel"),J()()()(),se(10,"ion-content",5)(11,"form",6),at("keydown.enter",function(){return t.onEnter()}),se(12,"ion-item",7)(13,"ion-label",8),qe(14,"Card name"),J(),dt(15,"ion-input",9),J(),se(16,"ion-item",7)(17,"ion-label",8),qe(18,"Card size"),J(),se(19,"ion-select",10)(20,"ion-select-option",11),qe(21),ya(22,"cardSize"),J()()(),se(23,"ion-item",7)(24,"ion-label"),qe(25,"Check for errors automatically"),J(),dt(26,"ion-toggle",12),J()(),ln(27,i5,4,0,"div",13),J()),2&e&&(et(3),Es(t.newCard?"New memory card":"Edit memory card"),et(2),ot("disabled",t.formGroup.invalid),et(6),ot("formGroup",t.formGroup),et(10),Ti("",_a(22,5,null==t.card?null:t.card.size)," "),et(6),ot("ngIf",!t.memoryStickSupported))},dependencies:[oi,ji,Hi,zi,Gi,cl,Ko,Wi,Mm,Tm,Zi,zf,qi,ju,jf,ll,rl,tl,nl,Qs,Ca,Lc],styles:[".sd-only-warning[_ngcontent-%COMP%]{padding:2em 1em}"]});const a5=[vo.mb4,vo.mb8,vo.mb16,vo.mb32,vo.mb64,vo.mb128];class cp{constructor(e){this.storageCardService=e,this.validateNameUnique=t=>this.storageCardService.getAllCards().some(r=>r.name===t.value)?{name:"already taken"}:null,this.onCreate=()=>{},this.onCancel=()=>{},this.formGroup=new Ol({name:new fs("",{nonNullable:!0,validators:[_f.required,this.validateNameUnique]}),size:new fs(vo.mb32,{nonNullable:!0}),checkAutomatically:new fs(!0,{nonNullable:!0})})}get sizes(){return a5}sizeBytes(e){return function HH(n){switch(n){case vo.mb4:return 4046848;case vo.mb8:return 8110080;case vo.mb16:return 16220160;case vo.mb32:return 32473088;case vo.mb64:return 64978944;case vo.mb128:return 129990656;default:throw new Error(`bad card size ${n}`)}}(e)}create(){!this.formGroup.valid||void 0===this.formGroup.value.name||void 0===this.formGroup.value.size||this.onCreate(this.formGroup.value.name,this.formGroup.value.size,!this.formGroup.value.checkAutomatically)}onEnter(){this.create()}}cp.\u0275fac=function(e){return new(e||cp)(w(ta))},cp.\u0275cmp=Xe({type:cp,selectors:[["app-new-card-dialog"]],inputs:{onCreate:"onCreate",onCancel:"onCancel"},decls:25,vars:3,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],[3,"value",4,"ngFor","ngForOf"],["formControlName","checkAutomatically"],[3,"value"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"New memory card"),J(),se(4,"ion-buttons",1)(5,"ion-button",2),at("click",function(){return t.create()}),qe(6,"Create"),J()(),se(7,"ion-buttons",3)(8,"ion-button",4),at("click",function(){return t.onCancel()}),qe(9,"Cancel"),J()()()(),se(10,"ion-content",5)(11,"form",6),at("keydown.enter",function(){return t.onEnter()}),se(12,"ion-item",7)(13,"ion-label",8),qe(14,"Card name"),J(),dt(15,"ion-input",9),J(),se(16,"ion-item",7)(17,"ion-label",8),qe(18,"Card size"),J(),se(19,"ion-select",10),ln(20,s5,3,4,"ion-select-option",11),J()(),se(21,"ion-item",7)(22,"ion-label"),qe(23,"Check for errors automatically"),J(),dt(24,"ion-toggle",12),J()()()),2&e&&(et(5),ot("disabled",t.formGroup.invalid),et(6),ot("formGroup",t.formGroup),et(9),ot("ngForOf",t.sizes))},dependencies:[gc,ji,Hi,zi,Gi,cl,Ko,Wi,Mm,Tm,Zi,zf,qi,ju,jf,ll,rl,tl,nl,Qs,Ca,Lc]});class up{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCheck=()=>{},this.onDelete=()=>{}}}up.\u0275fac=function(e){return new(e||up)},up.\u0275cmp=Xe({type:up,selectors:[["app-storage-context-menu-card"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCheck:"onCheck",onDelete:"onDelete"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","medkit-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,t){1&e&&(se(0,"ion-list")(1,"ion-item",0),at("click",function(){return t.onEdit()}),dt(2,"ion-icon",1),qe(3," Edit "),J(),se(4,"ion-item",0),at("click",function(){return t.onSave()}),dt(5,"ion-icon",2),qe(6," Save "),J(),se(7,"ion-item",0),at("click",function(){return t.onCheck()}),dt(8,"ion-icon",3),qe(9," Check "),J(),se(10,"ion-item",4),at("click",function(){return t.onDelete()}),dt(11,"ion-icon",5),qe(12," Delete "),J()()),2&e&&(et(1),ot("detail",!1),et(3),ot("detail",!1),et(3),ot("detail",!1),et(3),ot("detail",!1))},dependencies:[ai,Ko,Da]});class dp{constructor(e,t){this.storageCardService=e,this.popoverController=t,this.touched=!1,this.interaction=new kn,this.selectCard=new kn,this.edit=new kn,this.check=new kn,this.delete=new kn,this.save=new kn}onContextmenu(e){var t=this;return(0,he.Z)(function*(){e.stopPropagation(),e.preventDefault(),t.interaction.emit(),(yield t.popoverController.create({component:up,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>t.edit.emit(t.card),onSave:()=>t.save.emit(t.card),onCheck:()=>t.check.emit(),onDelete:()=>t.delete.emit()}})).present()})()}get color(){if(this.touched)return"light"}get status(){if(!this.card)return"";const e=this.storageCardService.mountedInSession(this.card?.id);if(e)return`attached to '${e.name}'`;if(this.card.dontFsckAutomatically)return"not checked automatically";switch(this.card.status){case Mr.dirty:return"needs check";case Mr.clean:return"no errors";case Mr.unformatted:return"no filesystem";case Mr.unfixable:return"uncorrectable errors";default:throw new Error("unreachable")}}}function l5(n,e){1&n&&(se(0,"div",10),dt(1,"ion-spinner"),J())}function c5(n,e){1&n&&(se(0,"div",11)(1,"div",12),qe(2," No memory cards. Select the \u201e+\u201c icon in the upper right corner in order to create a new card. "),J()())}function u5(n,e){if(1&n){const t=wr();se(0,"app-storage-card",14),at("delete",function(){const i=Tt(t).$implicit;return Pt(Bt(2).deleteCard(i))})("selectCard",function(){const i=Tt(t).$implicit;return Pt(Bt(2).selectCard(i))})("edit",function(){const i=Tt(t).$implicit;return Pt(Bt(2).editCard(i))})("check",function(){const i=Tt(t).$implicit;return Pt(Bt(2).checkCard(i))})("interaction",function(){const i=Tt(t).$implicit;return Pt(Bt(2).lastCardTouched=i.id)})("save",function(){const i=Tt(t).$implicit;return Pt(Bt(2).saveCard(i))}),J()}if(2&n){const t=e.$implicit,r=Bt(2);ot("card",t)("touched",t.id===r.lastCardTouched)}}function d5(n,e){if(1&n&&(se(0,"ion-list"),ln(1,u5,1,2,"app-storage-card",13),J()),2&n){const t=Bt();et(1),ot("ngForOf",t.cards)("ngForTrackBy",t.trackCardBy)}}dp.\u0275fac=function(e){return new(e||dp)(w(ta),w(Ic))},dp.\u0275cmp=Xe({type:dp,selectors:[["app-storage-card"]],inputs:{card:"card",touched:"touched"},outputs:{interaction:"interaction",selectCard:"selectCard",edit:"edit",check:"check",delete:"delete",save:"save"},decls:19,vars:6,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","medkit-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"]],template:function(e,t){if(1&e){const r=wr();se(0,"ion-item-sliding",0,1),at("contextmenu",function(i){return t.onContextmenu(i)})("ionDrag",function(){return t.interaction.emit(t.card)}),se(2,"ion-item-options",2)(3,"ion-item-option",3),at("click",function(){return Tt(r),Ss(1).close(),Pt(t.edit.emit(t.card))}),dt(4,"ion-icon",4),J(),se(5,"ion-item-option",5),at("click",function(){return Tt(r),Ss(1).close(),Pt(t.save.emit(t.card))}),dt(6,"ion-icon",6),J()(),se(7,"ion-item-options",7)(8,"ion-item-option",8),at("click",function(){return Tt(r),Ss(1).close(),Pt(t.check.emit(t.card))}),dt(9,"ion-icon",9),J(),se(10,"ion-item-option",10),at("click",function(){return Tt(r),Ss(1).close(),Pt(t.delete.emit(t.card))}),dt(11,"ion-icon",11),J()(),se(12,"ion-item",12),at("click",function(){return t.selectCard.emit(),t.interaction.emit()}),se(13,"ion-label")(14,"h2"),qe(15),J(),se(16,"p"),qe(17),ya(18,"cardSize"),J()()()()}2&e&&(et(12),ot("color",t.color),et(3),Es(null==t.card?null:t.card.name),et(2),Yd("",_a(18,4,null==t.card?null:t.card.size),", ",t.status,""))},dependencies:[ai,Ko,Dm,Im,km,Wi,Lc],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}"],changeDetection:0});class na{constructor(e,t,r,o,i,s,a,u,f,m){var _=this;this.actionSheetController=e,this.storageCardService=t,this.modalController=r,this.alertController=o,this.cloudpilotService=i,this.alertService=s,this.errorService=a,this.fileService=u,this.dragDropService=f,this.handleCardImport=function(){var k=(0,he.Z)(function*(A){const Te=(yield _.cloudpilotService.cloudpilot).getCardSupportLevel(A.content.length);if(0===Te)return void _.alertService.errorMessage("This is not a supported card image.");const Ze=yield new Promise(function(){var Ke=(0,he.Z)(function*(Ct){const Ne=yield _.modalController.create({component:sd,backdropDismiss:!1,componentProps:{card:{name:_.disambiguateName(A.name),size:A.content.length},cardSupportLevel:Te,newCard:!0,onCancel:()=>{Ne.dismiss(),Ct(void 0)},onSave:Ot=>{Ct(Ot),Ne.dismiss()}}});yield Ne.present()});return function(Ct){return Ke.apply(this,arguments)}}());Ze&&(yield _.storageCardService.createCardFromFile(Ze.name,A,!!Ze.dontFsckAutomatically))});return function(A){return k.apply(this,arguments)}}(),this.lastCardTouched=void 0,this.onMountForBrowse=()=>{},this.checkCards=S0(m,[],()=>this.storageCardService.getAllCards())}ngDoCheck(){this.checkCards()}ionViewDidEnter(){this.dragDropService.registerClient(this)}ionViewWillLeave(){this.dragDropService.unregisterClient(this)}get cards(){return this.storageCardService.getAllCards()}handleDragDropEvent(e){this.fileService.openFromDrop(e,this.handleFilesFromDrop.bind(this))}addCardImage(){var e=this;return(0,he.Z)(function*(){(yield e.actionSheetController.create({header:"What type of image do you want to create?",buttons:[{text:"Empty image",handler:()=>e.createNewCardImage()},{text:"Import an existing image",handler:()=>e.importCardImage()},{text:"Cancel"}]})).present()})()}showHelp(){}selectCard(e){var t=this;return(0,he.Z)(function*(){(yield t.storageCardService.browseCard(e))&&t.onMountForBrowse(e)})()}editCard(e){var t=this;return(0,he.Z)(function*(){const r=yield t.cloudpilotService.cloudpilot,o=yield t.modalController.create({component:sd,backdropDismiss:!1,componentProps:{card:e,cardSupportLevel:r.getCardSupportLevel(e.size),onCancel:()=>o.dismiss(),onSave:(i=(0,he.Z)(function*(s){yield t.storageCardService.updateCard(e.id,s),yield o.dismiss()}),function(a){return i.apply(this,arguments)})}});var i;yield o.present()})()}saveCard(e){return this.storageCardService.saveCard(e.id,`${Um(e.name.replace(/\.img$/,""))}.img`)}checkCard(e){return this.storageCardService.checkCard(e)}deleteCard(e){var t=this;return(0,he.Z)(function*(){var o;yield(yield t.alertController.create({header:"Warning",backdropDismiss:!1,message:`Deleting the card '${e.name}' cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:(o=(0,he.Z)(function*(){try{yield t.storageCardService.deleteCard(e.id)}catch(i){t.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}}),function(){return o.apply(this,arguments)})}]})).present()})()}trackCardBy(e,t){return t.id}handleFilesFromDrop(e){if(0!==e.length){if(e.length>1)return void this.alertService.errorMessage("Drop a single file system image in order to import it as a new memory card.");this.handleCardImport(e[0])}}importCardImage(){this.fileService.openFile(this.handleCardImport)}createNewCardImage(){var e=this;return(0,he.Z)(function*(){const t=yield e.modalController.create({component:cp,backdropDismiss:!1,componentProps:{onCancel:()=>t.dismiss(),onCreate:(r=(0,he.Z)(function*(o,i,s){yield e.storageCardService.createEmptyCard(o,i,s),yield t.dismiss()}),function(i,s,a){return r.apply(this,arguments)})}});var r;yield t.present()})()}disambiguateName(e){const t=this.storageCardService.getAllCards();return $M(e,r=>t.some(o=>o.name===r))}}function f5(n,e){1&n&&dt(0,"ion-icon",8)}function p5(n,e){1&n&&dt(0,"ion-icon",9)}function h5(n,e){1&n&&dt(0,"ion-icon",10)}function m5(n,e){if(1&n){const t=wr();se(0,"ion-item",2),at("click",function(){const i=Tt(t).index;return Pt(Bt(2).onSelect(i))}),Gd(1,3),ln(2,f5,1,0,"ion-icon",4),ln(3,p5,1,0,"ion-icon",5),ln(4,h5,1,0,"ion-icon",6),Wd(),se(5,"div",7),qe(6),J()()}if(2&n){const t=e.$implicit,r=e.index,o=Bt(2);ot("detail",!1)("lines",r===o.entries.length-1?"none":"full"),et(1),ot("ngSwitch",o.entries.length),et(1),ot("ngSwitchCase",r+1),et(1),ot("ngSwitchCase",r+2),et(3),Es(t)}}function g5(n,e){if(1&n&&(se(0,"ion-list"),ln(1,m5,7,6,"ion-item",1),J()),2&n){const t=Bt();et(1),ot("ngForOf",t.entries)}}na.\u0275fac=function(e){return new(e||na)(w(qf),w(ta),w(ps),w(zu),w(Ki),w(zr),w($s),w(Bs),w(Ql),w(It))},na.\u0275cmp=Xe({type:na,selectors:[["app-subpage-cards"]],inputs:{onMountForBrowse:"onMountForBrowse"},decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],[3,"card","touched","delete","selectCard","edit","check","interaction","save",4,"ngFor","ngForOf","ngForTrackBy"],[3,"card","touched","delete","selectCard","edit","check","interaction","save"]],template:function(e,t){1&e&&(se(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),qe(3,"Memory cards"),J(),se(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return t.addCardImage()}),dt(6,"ion-icon",2),J()(),se(7,"ion-buttons",3)(8,"ion-button",1),at("click",function(){return t.showHelp()}),dt(9,"ion-icon",4),J(),dt(10,"app-pwa-prompt"),J()()(),se(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),qe(15,"Memory cards"),J()()(),ln(16,l5,2,0,"div",7),ln(17,c5,3,0,"div",8),ln(18,d5,2,2,"ion-list",9),J()),2&e&&(et(16),ot("ngIf",t.storageCardService.isLoading()),et(1),ot("ngIf",!t.storageCardService.isLoading()&&0===t.cards.length),et(1),ot("ngIf",!t.storageCardService.isLoading()&&t.cards.length>0))},dependencies:[gc,oi,ji,Hi,zi,Gi,ai,Da,Hf,Zi,qi,Yl,dp],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}),G([yo()],na.prototype,"addCardImage",null),G([yo()],na.prototype,"selectCard",null),G([yo()],na.prototype,"editCard",null),G([yo()],na.prototype,"saveCard",null),G([yo()],na.prototype,"checkCard",null),G([yo()],na.prototype,"deleteCard",null);class fp{constructor(){this.onSelect=()=>{}}}fp.\u0275fac=function(e){return new(e||fp)},fp.\u0275cmp=Xe({type:fp,selectors:[["app-context-menu-breadcrumb"]],inputs:{entries:"entries"},decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"detail","lines","click"],[3,"ngSwitch"],["name","list-outline","slot","end",4,"ngSwitchCase"],["name","file-tray-outline","slot","end",4,"ngSwitchCase"],["name","folder-outline","slot","end",4,"ngSwitchDefault"],[1,"text-wrapper"],["name","list-outline","slot","end"],["name","file-tray-outline","slot","end"],["name","folder-outline","slot","end"]],template:function(e,t){1&e&&ln(0,g5,2,1,"ion-list",0),2&e&&ot("ngIf",t.entries)},dependencies:[gc,oi,Rh,qE,KE,ai,Ko,Da],styles:[".text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]});class pp{constructor(){this.onStartSelection=()=>{},this.onAddFiles=()=>{},this.onCreateDirectry=()=>{},this.onExtractZipfile=()=>{},this.onPaste=()=>{},this.onHelp=()=>{},this.emptyDirectory=!1}}pp.\u0275fac=function(e){return new(e||pp)},pp.\u0275cmp=Xe({type:pp,selectors:[["app-context-menu-directory"]],inputs:{onStartSelection:"onStartSelection",onAddFiles:"onAddFiles",onCreateDirectry:"onCreateDirectry",onExtractZipfile:"onExtractZipfile",onPaste:"onPaste",onHelp:"onHelp",emptyDirectory:"emptyDirectory"},decls:19,vars:8,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","checkmark-circle-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","document-outline","slot","end"],["name","folder-outline","slot","end"],["name","download-outline","slot","end"],["name","clipboard-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(e,t){1&e&&(se(0,"ion-list")(1,"ion-item",0),at("click",function(){return t.onStartSelection()}),dt(2,"ion-icon",1),qe(3," Start selection "),J(),se(4,"ion-item",2),at("click",function(){return t.onAddFiles()}),dt(5,"ion-icon",3),qe(6," Add files "),J(),se(7,"ion-item",2),at("click",function(){return t.onCreateDirectry()}),dt(8,"ion-icon",4),qe(9," Add directory "),J(),se(10,"ion-item",2),at("click",function(){return t.onExtractZipfile()}),dt(11,"ion-icon",5),qe(12," Extract zip "),J(),se(13,"ion-item",0),at("click",function(){return t.onPaste()}),dt(14,"ion-icon",6),qe(15," Paste "),J(),se(16,"ion-item",7),at("click",function(){return t.onHelp()}),dt(17,"ion-icon",8),qe(18," Help "),J()()),2&e&&(et(1),ot("detail",!1)("disabled",t.emptyDirectory),et(3),ot("detail",!1),et(3),ot("detail",!1),et(3),ot("detail",!1),et(3),ot("detail",!1)("disabled",!0),et(3),ot("detail",!1))},dependencies:[ai,Ko,Da]});class $c{constructor(e,t){this.modalController=e,this.vfsService=t,this.validateNameUnique=r=>this.entry&&this.vfsService.readdir(this.vfsService.dirname(this.entry.path)).some(o=>o.name.toLocaleLowerCase()===r.value.toLocaleLowerCase()&&o.name.toLocaleLowerCase()!==this.entry?.name?.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=r=>this.vfsService.isFilenameValid(r.value)?null:{name:"invalid file name"},this.onSave=()=>{},this.formGroup=new Ol({name:new fs("",{nonNullable:!0,validators:[_f.required,this.validateNameUnique,this.validateNameValid]}),attrReadonly:new fs(!1,{nonNullable:!0}),attrHidden:new fs(!1,{nonNullable:!0}),attrSystem:new fs(!1,{nonNullable:!0})})}ngOnInit(){this.entry&&(this.formGroup.controls.name.setValue(this.entry.name),this.formGroup.controls.attrHidden.setValue(this.entry.attributes.hidden),this.formGroup.controls.attrReadonly.setValue(this.entry.attributes.readonly),this.formGroup.controls.attrSystem.setValue(this.entry.attributes.system))}get subjectName(){return this.entry?.isDirectory?"Directory":"File"}onSaveClick(){var e=this;return(0,he.Z)(function*(){yield e.save()})()}onCancelClick(){this.modalController.dismiss()}onEnter(){var e=this;return(0,he.Z)(function*(){yield e.save()})()}save(){var e=this;return(0,he.Z)(function*(){e.entry&&e.formGroup.valid&&(yield e.vfsService.updateFileEntry(e.entry.path,{name:e.formGroup.controls.name.value??"",attributes:{hidden:!!e.formGroup.controls.attrHidden.value,readonly:!!e.formGroup.controls.attrReadonly.value,system:!!e.formGroup.controls.attrSystem.value}}),e.onSave(),e.modalController.dismiss())})()}}$c.\u0275fac=function(e){return new(e||$c)(w(ps),w(Pa))},$c.\u0275cmp=Xe({type:$c,selectors:[["app-edit-file-dialog"]],inputs:{entry:"entry"},decls:34,vars:5,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["formControlName","name",3,"placeholder"],["name","lock-closed-outline","size","small"],["formControlName","attrReadonly"],["name","eye-off-outline","size","small"],["formControlName","attrHidden"],["name","cog-outline","size","small"],["formControlName","attrSystem"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3),J(),se(4,"ion-buttons",1)(5,"ion-button",2),at("click",function(){return t.onSaveClick()}),qe(6,"Save"),J()(),se(7,"ion-buttons",3)(8,"ion-button",4),at("click",function(){return t.onCancelClick()}),qe(9,"Cancel"),J()()()(),se(10,"ion-content",5)(11,"form",6),at("keydown.enter",function(){return t.onEnter()}),se(12,"ion-item",7)(13,"ion-label",8),qe(14),J(),dt(15,"ion-input",9),J(),se(16,"ion-item",7)(17,"h2"),qe(18,"Attributes"),J()(),se(19,"ion-item",7)(20,"ion-label"),dt(21,"ion-icon",10),qe(22,"Readonly"),J(),dt(23,"ion-checkbox",11),J(),se(24,"ion-item",7)(25,"ion-label"),dt(26,"ion-icon",12),qe(27,"Hidden"),J(),dt(28,"ion-checkbox",13),J(),se(29,"ion-item",7)(30,"ion-label"),dt(31,"ion-icon",14),qe(32,"System"),J(),dt(33,"ion-checkbox",15),J()()()),2&e&&(et(3),Ti("Edit ",t.subjectName.toLowerCase(),""),et(2),ot("disabled",t.formGroup.invalid),et(6),ot("formGroup",t.formGroup),et(3),Ti("",t.subjectName," name"),et(1),lh("placeholder","Enter ",t.subjectName.toLowerCase()," name"))},dependencies:[ji,Hi,pk,zi,Gi,ai,cl,Ko,Wi,Zi,qi,ju,ll,rl,tl,nl,Qs,Ca],styles:["ion-icon[_ngcontent-%COMP%]{margin-right:1em;position:relative;top:2px}"]}),G([yo()],$c.prototype,"onSaveClick",null),G([yo()],$c.prototype,"onEnter",null);class hp{constructor(e,t){this.vfsService=e,this.modalController=t,this.validateNameUnique=r=>this.parentPath&&this.vfsService.readdir(this.parentPath).some(o=>o.name.toLocaleLowerCase()===r.value.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=r=>this.vfsService.isFilenameValid(r.value)?null:{name:"invalid file name"},this.onCreate=()=>{},this.formGroup=new Ol({name:new fs("",{nonNullable:!0,validators:[_f.required,this.validateNameUnique,this.validateNameValid]})})}ngOnInit(){this.formGroup.controls.name.setValue(this.newName())}onCreateClick(){this.createDir()}onEnter(){this.createDir()}onCancelClick(){this.modalController.dismiss()}createDir(){this.formGroup.controls.name.valid&&(this.onCreate(this.formGroup.controls.name.value),this.modalController.dismiss())}newName(){const e=this.vfsService.readdir(this.parentPath??"");let r,t=0;do{r=0===t?"New Directory":`New Directory (${t})`,t++}while(e.some(o=>o.name===r));return r}}function BM(n){let e,t,r=!1;return o=>((!r||o!==e)&&(e=o,r=!0,t=n(o)),t)}hp.\u0275fac=function(e){return new(e||hp)(w(Pa),w(ps))},hp.\u0275cmp=Xe({type:hp,selectors:[["app-new-directory-dialog"]],inputs:{parentPath:"parentPath",onCreate:"onCreate"},decls:16,vars:2,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","directory name","formControlName","name"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"New directory"),J(),se(4,"ion-buttons",1)(5,"ion-button",2),at("click",function(){return t.onCreateClick()}),qe(6,"Create"),J()(),se(7,"ion-buttons",3)(8,"ion-button",4),at("click",function(){return t.onCancelClick()}),qe(9,"Cancel"),J()()()(),se(10,"ion-content",5)(11,"form",6),at("keydown.enter",function(){return t.onEnter()}),se(12,"ion-item",7)(13,"ion-label",8),qe(14,"How should we call this directory?"),J(),dt(15,"ion-input",9),J()()()),2&e&&(et(5),ot("disabled",t.formGroup.invalid),et(6),ot("formGroup",t.formGroup))},dependencies:[ji,Hi,zi,Gi,cl,Ko,Wi,Zi,qi,ll,rl,tl,nl,Qs,Ca]});class mp{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCopy=()=>{},this.onCut=()=>{},this.onDelete=()=>{}}}mp.\u0275fac=function(e){return new(e||mp)},mp.\u0275cmp=Xe({type:mp,selectors:[["app-context-menu-file-entry"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCopy:"onCopy",onCut:"onCut",onDelete:"onDelete"},decls:16,vars:5,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","copy-outline","slot","end"],["name","cut-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,t){1&e&&(se(0,"ion-list")(1,"ion-item",0),at("click",function(){return t.onEdit()}),dt(2,"ion-icon",1),qe(3," Edit "),J(),se(4,"ion-item",0),at("click",function(){return t.onSave()}),dt(5,"ion-icon",2),qe(6," Save "),J(),se(7,"ion-item",0),at("click",function(){return t.onCopy()}),dt(8,"ion-icon",3),qe(9," Copy "),J(),se(10,"ion-item",0),at("click",function(){return t.onCut()}),dt(11,"ion-icon",4),qe(12," Cut "),J(),se(13,"ion-item",5),at("click",function(){return t.onDelete()}),dt(14,"ion-icon",6),qe(15," Delete "),J()()),2&e&&(et(1),ot("detail",!1),et(3),ot("detail",!1),et(3),ot("detail",!1),et(3),ot("detail",!1),et(3),ot("detail",!1))},dependencies:[ai,Ko,Da]});class ad{transform(e){return void 0===e?"":e<1024?`${e} bytes`:e<1048576?`${(e/1024).toFixed(1)} kB`:`${(e/1024/1024).toFixed(1)} MB`}}ad.\u0275fac=function(e){return new(e||ad)},ad.\u0275pipe=xe({name:"fileSize",type:ad,pure:!0});const y5=["slidingItem"];function _5(n,e){1&n&&dt(0,"ion-icon",21)}function v5(n,e){1&n&&dt(0,"ion-icon",22)}function b5(n,e){1&n&&dt(0,"ion-icon",23)}function w5(n,e){1&n&&dt(0,"ion-icon",24)}function C5(n,e){1&n&&dt(0,"ion-icon",25)}function S5(n,e){1&n&&dt(0,"ion-icon",26)}function E5(n,e){1&n&&dt(0,"ion-icon",27)}function D5(n,e){if(1&n&&(Gd(0),qe(1),ya(2,"fileSize"),Wd()),2&n){const t=Bt();et(1),Ti(" - ",_a(2,1,null==t.entry?null:t.entry.size)," ")}}class gp{constructor(e,t){this.actionSheetController=e,this.popoverController=t,this.touched=!1,this.selecting=!1,this.selected=!1,this.interaction=new kn,this.selectEntry=new kn,this.editEntry=new kn,this.copyEntry=new kn,this.cutEntry=new kn,this.deleteEntry=new kn,this.saveEntry=new kn}ngOnChanges(e){e.selecting&&e.selecting.currentValue&&!e.selecting.previousValue&&this.slidingItem?.close()}onContextmenu(e){var t=this;return(0,he.Z)(function*(){e.stopPropagation(),e.preventDefault(),t.interaction.emit(),(yield t.popoverController.create({component:mp,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>t.editEntry.emit(t.entry),onSave:()=>t.saveEntry.emit(t.entry),onCopy:()=>t.copyEntry.emit(t.entry),onCut:()=>t.cutEntry.emit(t.entry),onDelete:()=>t.deleteEntry.emit(t.entry)}})).present()})()}get color(){if(!this.selecting&&this.touched||this.selecting&&this.selected)return"light"}cutOrCopyEntry(){var e=this;return(0,he.Z)(function*(){const t=e.entry?.isDirectory?"directory":"file";(yield e.actionSheetController.create({header:"Do you want to cut or copy?",buttons:[{text:`Copy ${t}`,handler:()=>e.copyEntry.emit(e.entry)},{text:`Cut ${t}`,handler:()=>e.cutEntry.emit(e.entry)},{text:"Cancel"}]})).present()})()}}function I5(n,e){if(1&n){const t=wr();se(0,"ion-toolbar")(1,"ion-title",5),at("click",function(o){return Tt(t),Pt(Bt().openBreadcrumbMenu(o))}),se(2,"div",6)(3,"div",7),qe(4),J(),dt(5,"div",8),J()(),se(6,"ion-buttons",9),dt(7,"ion-back-button"),J(),se(8,"ion-buttons",10)(9,"ion-button",11),at("click",function(o){return Tt(t),Pt(Bt().openContextMenu(o))}),dt(10,"ion-icon",12),J()()()}if(2&n){const t=Bt();et(1),ot("id",t.breadcrumbTriggerId),et(3),Es(t.title)}}function k5(n,e){if(1&n){const t=wr();se(0,"ion-buttons",14)(1,"ion-button",11),at("click",function(){return Tt(t),Pt(Bt(2).onSelectAll())}),qe(2,"Select all"),J()()}}function M5(n,e){if(1&n){const t=wr();se(0,"ion-buttons",14)(1,"ion-button",11),at("click",function(){return Tt(t),Pt(Bt(2).selection.clear())}),qe(2,"Clear"),J()()}}function T5(n,e){if(1&n){const t=wr();se(0,"ion-toolbar")(1,"ion-title"),qe(2,"Selection"),J(),se(3,"ion-buttons",10)(4,"ion-button",11),at("click",function(){return Tt(t),Pt(Bt().onSelectionDone())}),qe(5),J()(),ln(6,k5,3,0,"ion-buttons",13),ln(7,M5,3,0,"ion-buttons",13),J()}if(2&n){const t=Bt();et(5),Es(0===t.selection.size?"Cancel":"Done"),et(1),ot("ngIf",t.selection.size!==(null==t.entries?null:t.entries.length)),et(1),ot("ngIf",t.selection.size===(null==t.entries?null:t.entries.length))}}function A5(n,e){if(1&n&&(se(0,"div",15)(1,"div",16),qe(2),J()()),2&n){const t=Bt();et(2),Ti(" empty ",t.isRoot?"card":"directory"," ")}}function x5(n,e){if(1&n){const t=wr();se(0,"app-file-entry",17),at("selectEntry",function(){const i=Tt(t).$implicit;return Pt(Bt().onSelect(i))})("editEntry",function(){const i=Tt(t).$implicit;return Pt(Bt().onEditEntry(i))})("saveEntry",function(){const i=Tt(t).$implicit;return Pt(Bt().onSaveEntry(i))})("copyEntry",function(){const i=Tt(t).$implicit;return Pt(Bt().onCopyEntry(i))})("cutEntry",function(){const i=Tt(t).$implicit;return Pt(Bt().onCutEntry(i))})("deleteEntry",function(){const i=Tt(t).$implicit;return Pt(Bt().onDeleteEntry(i))})("interaction",function(){const i=Tt(t).$implicit;return Pt(Bt().lastEntryTouched=i.name)}),J()}if(2&n){const t=e.$implicit,r=Bt();ot("entry",t)("selecting","select"===r.mode)("selected",r.selection.has(t.name))("touched",t.name===r.lastEntryTouched)}}function P5(n,e){if(1&n&&(se(0,"p"),qe(1),ya(2,"fileSize"),ya(3,"fileSize"),J()),2&n){const t=Bt(2);et(1),Yd(" ",_a(2,2,t.bytesFree)," free, ",_a(3,4,t.bytesTotal)," total ")}}function R5(n,e){if(1&n&&(se(0,"p"),qe(1),ya(2,"fileSize"),J()),2&n){const t=Bt(2);et(1),Ay(" ",_a(2,3,t.bytesInFiles)," in ",t.fileCount," ",1===t.fileCount?"file":"files"," ")}}function F5(n,e){if(1&n&&(se(0,"ion-item",18)(1,"ion-label"),ln(2,P5,4,6,"p",0),ln(3,R5,3,5,"p",0),J()()),2&n){const t=Bt();et(2),ot("ngIf",t.isRoot),et(1),ot("ngIf",t.fileCount>0)}}function O5(n,e){return n.isDirectory&&!e.isDirectory?-1:!n.isDirectory&&e.isDirectory?1:n.name.localeCompare(e.name)}gp.\u0275fac=function(e){return new(e||gp)(w(qf),w(Ic))},gp.\u0275cmp=Xe({type:gp,selectors:[["app-file-entry"]],viewQuery:function(e,t){if(1&e&&bu(y5,5),2&e){let r;Ds(r=Is())&&(t.slidingItem=r.first)}},inputs:{entry:"entry",touched:"touched",selecting:"selecting",selected:"selected"},outputs:{interaction:"interaction",selectEntry:"selectEntry",editEntry:"editEntry",copyEntry:"copyEntry",cutEntry:"cutEntry",deleteEntry:"deleteEntry",saveEntry:"saveEntry"},features:[Ao],decls:26,vars:17,consts:[[3,"disabled","contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","copy-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","detail","click"],["name","folder-outline","slot","start",4,"ngIf"],["name","document-outline","slot","start",4,"ngIf"],["class","attribute-icon","name","lock-closed-outline","size","small","slot","end",4,"ngIf"],["class","attribute-icon","name","eye-off-outline","size","small","slot","end",4,"ngIf"],["class","attribute-icon","name","cog-outline","size","small","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",4,"ngIf"],["name","radio-button-on-outline","slot","end",4,"ngIf"],[4,"ngIf"],["name","folder-outline","slot","start"],["name","document-outline","slot","start"],["name","lock-closed-outline","size","small","slot","end",1,"attribute-icon"],["name","eye-off-outline","size","small","slot","end",1,"attribute-icon"],["name","cog-outline","size","small","slot","end",1,"attribute-icon"],["name","radio-button-off-outline","slot","end"],["name","radio-button-on-outline","slot","end"]],template:function(e,t){if(1&e){const r=wr();se(0,"ion-item-sliding",0,1),at("contextmenu",function(i){return t.onContextmenu(i)})("ionDrag",function(){return t.interaction.emit(t.entry)}),se(2,"ion-item-options",2)(3,"ion-item-option",3),at("click",function(){return Tt(r),Ss(1).close(),Pt(t.editEntry.emit(t.entry))}),dt(4,"ion-icon",4),J(),se(5,"ion-item-option",5),at("click",function(){return Tt(r),Ss(1).close(),Pt(t.saveEntry.emit(t.entry))}),dt(6,"ion-icon",6),J()(),se(7,"ion-item-options",7)(8,"ion-item-option",8),at("click",function(){return Tt(r),Ss(1).close(),Pt(t.cutOrCopyEntry())}),dt(9,"ion-icon",9),J(),se(10,"ion-item-option",10),at("click",function(){return Tt(r),Ss(1).close(),Pt(t.deleteEntry.emit(t.entry))}),dt(11,"ion-icon",11),J()(),se(12,"ion-item",12),at("click",function(){return t.selectEntry.emit(),t.interaction.emit()}),ln(13,_5,1,0,"ion-icon",13),ln(14,v5,1,0,"ion-icon",14),ln(15,b5,1,0,"ion-icon",15),ln(16,w5,1,0,"ion-icon",16),ln(17,C5,1,0,"ion-icon",17),ln(18,S5,1,0,"ion-icon",18),ln(19,E5,1,0,"ion-icon",19),se(20,"ion-label")(21,"h2"),qe(22),J(),se(23,"p"),qe(24),ln(25,D5,3,3,"ng-container",20),J()()()()}2&e&&(ot("disabled",t.selecting),et(12),qd("opacity",t.touched?1:.99999),qa("is-directory",null==t.entry?null:t.entry.isDirectory),ot("color",t.color)("detail",(null==t.entry?null:t.entry.isDirectory)&&!t.selecting),et(1),ot("ngIf",null==t.entry?null:t.entry.isDirectory),et(1),ot("ngIf",!(null!=t.entry&&t.entry.isDirectory)),et(1),ot("ngIf",null==t.entry||null==t.entry.attributes?null:t.entry.attributes.readonly),et(1),ot("ngIf",null==t.entry||null==t.entry.attributes?null:t.entry.attributes.hidden),et(1),ot("ngIf",null==t.entry||null==t.entry.attributes?null:t.entry.attributes.system),et(1),ot("ngIf",t.selecting&&!t.selected),et(1),ot("ngIf",t.selecting&&t.selected),et(3),Es(null==t.entry?null:t.entry.name),et(2),Ti(" ",null==t.entry?null:t.entry.lastModifiedLocalDate," "),et(1),ot("ngIf",!(null!=t.entry&&t.entry.isDirectory)))},dependencies:[oi,ai,Ko,Dm,Im,km,Wi,ad],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-icon.attribute-icon[_ngcontent-%COMP%]{color:var(--ion-color-step-600);margin-left:.7em}ion-icon.attribute-icon[name=lock-closed-outline][_ngcontent-%COMP%]{position:relative;top:-2px}.ios[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]{color:rgba(var(--ion-text-color-rgb, 0, 0, 0),.4);margin-left:0}ion-icon.attribute-icon[_ngcontent-%COMP%]:last-of-type{margin-right:1.75em}.is-directory[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]:last-of-type{margin-right:.75em}"],changeDetection:0});let N5=0;class Vs{constructor(e,t,r,o,i,s,a){this.vfsService=e,this.popoverController=t,this.config=r,this.alertService=o,this.actionSheetController=i,this.modalController=s,this.cd=a,this.bytesInFilesMemoized=BM(u=>u?.reduce((f,m)=>f+(m.isDirectory?0:m.size),0)??0),this.fileCountMemoized=BM(u=>u?.filter(f=>!f.isDirectory)?.length??0),this.onNavigate=()=>{},this.onNavigateBreadcrumb=()=>{},this.lastEntryTouched=void 0,this.mode="browse",this.selection=new Set,this.breadcrumbTriggerId="breadcrumb-trigger-"+N5++,this.checkEntries=S0(a,void 0,()=>void 0!==this.path?e.readdir(this.path):void 0)}ngDoCheck(){this.checkEntries()}get title(){switch(this.path){case"/":return this.card?.name??"";case void 0:return"";default:{const e=this.vfsService.splitPath(this.path);return e[e.length-1]??""}}}get bytesFree(){return this.vfsService.getBytesFree()}get bytesTotal(){return this.vfsService.getBytesTotal()}get bytesInFiles(){return this.bytesInFilesMemoized(this.entries)}get isRoot(){return"/"===this.path}get fileCount(){return this.fileCountMemoized(this.entries)}get entries(){return void 0!==this.path?[...this.vfsService.readdir(this.path)].sort(O5):[]}trackEntryBy(e,t){return t.name}onSelect(e){"browse"===this.mode?e.isDirectory&&this.onNavigate(e.path):this.selection?.has(e.name)?this.selection.delete(e.name):this.selection.add(e.name)}onEditEntry(e){var t=this;return(0,he.Z)(function*(){yield(yield t.modalController.create({component:$c,backdropDismiss:!1,componentProps:{entry:e}})).present()})()}onSaveEntry(e){var t=this;return(0,he.Z)(function*(){t.path&&(e.isDirectory?yield t.vfsService.archiveFiles([e],t.path):yield t.vfsService.saveFile(e))})()}onCopyEntry(e){this.alertService.message("Not implemented",`Copy ${e.name}: not implemented.`)}onCutEntry(e){this.alertService.message("Not implemented",`Cut ${e.name}: not implemented.`)}onDeleteEntry(e){var t=this;return(0,he.Z)(function*(){e.isDirectory?yield t.vfsService.deleteRecursive([e]):yield t.vfsService.unlinkEntry(e)})()}onAddFiles(){this.alertService.message("Not implemented","Add files: not implemented.")}onCreateDirectory(){var e=this;return(0,he.Z)(function*(){yield(yield e.modalController.create({component:hp,backdropDismiss:!1,componentProps:{parentPath:e.path,onCreate:r=>e.vfsService.mkdir(`${e.path}/${r}`)}})).present()})()}onExtractZipfile(){this.alertService.message("Not implemented","Extract zipfile: not implemented.")}onPaste(){this.alertService.message("Not implemented","Paste: not implemented.")}onHelp(){this.alertService.message("Not implemented","Help: not implemented.")}onStartSelection(){0!==this.entries?.length&&(this.selection.clear(),this.mode="select",this.cd.markForCheck())}onSelectionDone(){var e=this;return(0,he.Z)(function*(){if(!e.entries)return;const t=Array.from(e.selection),r=new Map(e.entries.map(a=>[a.name,a])),o=t.every(a=>!r.get(a)?.isDirectory),i=t.every(a=>r.get(a)?.isDirectory);let s=`${e.selection.size} items`;if(o&&(s=1===e.selection.size?"file":`${e.selection.size} files`),i&&(s=1===e.selection.size?"directory":`${e.selection.size} directories`),0!==e.selection.size){const a=yield e.actionSheetController.create({header:"What do you want to do?",buttons:[{text:`Copy ${s}`,handler:e.onCopySelection.bind(e)},{text:`Cut ${s}`,handler:e.onCutSelection.bind(e)},{text:`Save ${s} as zip`,handler:e.onSaveZip.bind(e)},{text:`Delete ${s}`,handler:e.onDeleteSelection.bind(e)},{text:"Cancel"}]});yield a.present(),yield a.onWillDismiss()}e.mode="browse",e.cd.markForCheck()})()}onSelectAll(){this.entries?.forEach(e=>this.selection.add(e.name))}onCopySelection(){this.alertService.message("Not implemented","Copy selection: not implemented.")}onCutSelection(){this.alertService.message("Not implemented","Cut selection: not implemented.")}onSaveZip(){var e=this;return(0,he.Z)(function*(){const t=e.materializeSelection();!t||!e.path||(yield e.vfsService.archiveFiles(t,e.path))})()}onDeleteSelection(){var e=this;return(0,he.Z)(function*(){const t=e.materializeSelection();!t||!e.path||(yield e.vfsService.deleteRecursive(t))})()}openBreadcrumbMenu(e){var t=this;return(0,he.Z)(function*(){if(!t.card||!t.path)return;const r=[..."/"===t.path?[]:[...t.vfsService.splitPath(t.path).reverse().slice(1),t.card.name],"Memory cards"];(yield t.popoverController.create({component:fp,event:e,componentProps:{entries:r,onSelect:i=>t.onNavigateBreadcrumb(r.length-1-i)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===t.config.get("mode")?"center":"start",trigger:t.breadcrumbTriggerId})).present()})()}openContextMenu(e){var t=this;return(0,he.Z)(function*(){(yield t.popoverController.create({component:pp,componentProps:{emptyDirectory:0===t.entries?.length,onStartSelection:t.onStartSelection.bind(t),onAddFiles:t.onAddFiles.bind(t),onCreateDirectry:t.onCreateDirectory.bind(t),onExtractZipfile:t.onExtractZipfile.bind(t),onPaste:t.onPaste.bind(t),onHelp:t.onHelp.bind(t)},event:e,dismissOnSelect:!0,arrow:!1})).present()})()}materializeSelection(){if(!this.path)return;const e=new Map(this.vfsService.readdir(this.path).map(t=>[t.name,t]));return Array.from(this.selection).map(t=>e.get(t)).filter(t=>!!t)}}Vs.\u0275fac=function(e){return new(e||Vs)(w(Pa),w(Ic),w(Wv),w(zr),w(qf),w(ps),w(It))},Vs.\u0275cmp=Xe({type:Vs,selectors:[["app-subpage-directory"]],inputs:{card:"card",path:"path",onNavigate:"onNavigate",onNavigateBreadcrumb:"onNavigateBreadcrumb"},decls:9,vars:6,consts:[[4,"ngIf"],[1,"container"],["class","placeholder-wrapper",4,"ngIf"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction",4,"ngFor","ngForOf","ngForTrackBy"],["class","metadata","lines","none",4,"ngIf"],[1,"breadcrumb",3,"id","click"],[1,"breadcrumb-container"],[1,"breadcrumb-current"],[1,"select-arrow"],["slot","start"],["slot","primary"],[3,"click"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["slot","secondary"],[1,"placeholder-wrapper"],[1,"placeholder"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction"],["lines","none",1,"metadata"]],template:function(e,t){1&e&&(se(0,"ion-header"),ln(1,I5,11,2,"ion-toolbar",0),ln(2,T5,8,3,"ion-toolbar",0),J(),se(3,"ion-content")(4,"div",1),ln(5,A5,3,1,"div",2),se(6,"ion-list"),ln(7,x5,1,4,"app-file-entry",3),ln(8,F5,4,2,"ion-item",4),J()()()),2&e&&(et(1),ot("ngIf","browse"===t.mode),et(1),ot("ngIf","select"===t.mode),et(3),ot("ngIf",0===(null==t.entries?null:t.entries.length)),et(2),ot("ngForOf",t.entries)("ngForTrackBy",t.trackEntryBy),et(1),ot("ngIf",t.isRoot||t.fileCount>0))},dependencies:[gc,oi,fk,ji,Hi,zi,Gi,ai,Ko,Wi,Da,Zi,qi,kk,gp,ad],styles:[".breadcrumb[_ngcontent-%COMP%]{cursor:pointer}.breadcrumb-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.ios[_ngcontent-%COMP%]   .breadcrumb-container[_ngcontent-%COMP%]{justify-content:center}.breadcrumb-current[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis}.container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}.placeholder-wrapper[_ngcontent-%COMP%]{flex:1;width:100%;display:flex;align-items:center;justify-content:center}.placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}ion-list[_ngcontent-%COMP%]{background:none;flex:0}.select-arrow[_ngcontent-%COMP%]{border-top:5px solid;border-left:5px solid transparent;border-right:5px solid transparent;display:inline-block;opacity:.33;margin-left:.5em;vertical-align:middle}.md[_ngcontent-%COMP%]   .select-arrow[_ngcontent-%COMP%]{opacity:.55}ion-item.metadata[_ngcontent-%COMP%]{text-align:center}"],changeDetection:0}),G([yo()],Vs.prototype,"onSaveEntry",null),G([yo()],Vs.prototype,"onDeleteEntry",null),G([yo()],Vs.prototype,"onCreateDirectory",null),G([yo()],Vs.prototype,"onSelectionDone",null),G([yo()],Vs.prototype,"onSaveZip",null),G([yo()],Vs.prototype,"onDeleteSelection",null);const L5=["nav"];class yp{constructor(e){this.vfsService=e,this.navRootProps={onMountForBrowse:t=>this.browseCard(t)},this.onNavigate=t=>{this.currentlyBrowsingCard&&this.nav?.push(Vs,{card:this.currentlyBrowsingCard,path:t,onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb},{animated:this.animateNav})},this.onNavigateBreadcrumb=t=>{this.currentlyBrowsingCard&&this.nav?.popTo(t,{animated:this.animateNav})},this.navRoot=na,this.isVisible=!1}ngOnInit(){this.vfsService.onReleaseCard.addHandler(this.onReleaseCard.bind(this))}ionViewDidEnter(){this.isVisible=!0}ionViewWillLeave(){this.isVisible=!1}get animateNav(){return!hj}browseCard(e){this.currentlyBrowsingCard=e,this.nav?.push(Vs,{card:e,path:"/",onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb},{animated:this.animateNav})}onReleaseCard(e){e!==this.currentlyBrowsingCard?.id||!this.nav||(this.isVisible||(this.nav.animated=!1),this.nav.popToRoot(void 0,()=>this.nav&&(this.nav.animated=this.animateNav)))}}yp.\u0275fac=function(e){return new(e||yp)(w(Pa))},yp.\u0275cmp=Xe({type:yp,selectors:[["app-storage"]],viewQuery:function(e,t){if(1&e&&bu(L5,5),2&e){let r;Ds(r=Is())&&(t.nav=r.first)}},decls:2,vars:3,consts:[[3,"animated","root","rootParams"],["nav",""]],template:function(e,t){1&e&&dt(0,"ion-nav",0,1),2&e&&ot("animated",t.animateNav)("root",t.navRoot)("rootParams",t.navRootProps)},dependencies:[hk,Mk]});const $5=[{path:"tab",component:Oc,children:[{path:"emulation",component:ip},{path:"sessions",component:Fa},{path:"storage",component:yp},{path:"settings",component:lp},{path:"about",component:rp},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}]},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}];class ld{}ld.\u0275fac=function(e){return new(e||ld)},ld.\u0275mod=M({type:ld}),ld.\u0275inj=gr({imports:[Em.forChild($5),Em]});class cd{}cd.\u0275fac=function(e){return new(e||cd)},cd.\u0275mod=M({type:cd}),cd.\u0275inj=gr({imports:[$l,wa,vc,ld,Qu,Ju,ed,td,Xu]});class Bc extends PE{pushState(e,t,r,o){this.replaceState(e,t,r,o)}}Bc.\u0275fac=function(){let n;return function(t){return(n||(n=ri(Bc)))(t||Bc)}}(),Bc.\u0275prov=yt({token:Bc,factory:Bc.\u0275fac});const B5=[{path:"install",component:Ku,canActivate:[Fc]},{path:"import",component:Ku,canActivate:[Fc]},{path:"",component:Oc}];class ud{}ud.\u0275fac=function(e){return new(e||ud)},ud.\u0275mod=M({type:ud}),ud.\u0275inj=gr({providers:[{provide:ba,useClass:Bc}],imports:[Em.forRoot(B5,{preloadingStrategy:FB,useHash:!0}),cd,Em]});const VM=["touch","click","keydown"];class dd{constructor(e,t){this.kvsService=e,this.audioService=t,this.initialize()}initialize(){var e=this;return(0,he.Z)(function*(){if(yield e.kvsService.initialize(),!e.kvsService.kvs.enableAudioOnFirstInteraction)return;const t=()=>{VM.forEach(r=>window.removeEventListener(r,t,!0)),e.audioService.initialize()};VM.forEach(r=>window.addEventListener(r,t,!0))})()}}dd.\u0275fac=function(e){return new(e||dd)(ne(Yo),ne(Xl))},dd.\u0275prov=yt({token:dd,factory:dd.\u0275fac,providedIn:"root"});class fd{constructor(e,t,r,o,i,s,a){}}fd.\u0275fac=function(e){return new(e||fd)(ne(Xn),ne(Yi),ne(Xl),ne(xa),ne(Yo),ne(Rc),ne(dd))},fd.\u0275mod=M({type:fd,bootstrap:[np]}),fd.\u0275inj=gr({providers:[{provide:YI,useClass:class xU{shouldDetach(e){return!1}shouldAttach(e){return!1}store(e,t){}retrieve(e){return null}shouldReuseRoute(e,t){if(e.routeConfig!==t.routeConfig)return!1;const r=e.params,o=t.params,i=Object.keys(r),s=Object.keys(o);if(i.length!==s.length)return!1;for(const a of i)if(o[a]!==r[a])return!1;return!0}}},{provide:hc,multi:!0,useFactory:n=>n.initialize.bind(n),deps:[Yo]}],imports:[xL,$l.forRoot(),ud,t6.register("ngsw-worker.js",{enabled:!0}),Jv.forRoot({loader:H_,markedOptions:{provide:qk,useFactory:()=>{const n=new Wu;return n.link=(e,t,r)=>`<a href="${e}" target="_blank" rel="external">${r||e}</a>`,{renderer:n,gfm:!0,breaks:!1,pedantic:!1,smartLists:!0,smartypants:!1}}}}),d3]}),window.global=window,function jL(){$h=DD("#/install?"),Bh=DD("#/import?")}(),function Cj(){return!!localStorage.getItem(Om)}()&&!ID()||function HL(){return void 0!==$h}()?location.replace(`${location.origin}${location.pathname}#/tab/emulation`):location.replace(`${location.origin}${location.pathname}#/tab/sessions`),window.addEventListener("orientationchange",()=>setTimeout(()=>{document.body.style.height=window.innerHeight+"px"},100)),window.addEventListener("scroll",()=>window.scrollTo(0,0)),AL().bootstrapModule(fd).catch(n=>console.log(n))},3272:Be=>{var P,Ge=(P=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(I){var oe,te,c=typeof(I=I||{})<"u"?I:{};c.ready=new Promise(function(l,h){oe=l,te=h});var j,Re,Le,z=Object.assign({},c),X=[],L="./this.program",V=(l,h)=>{throw h},ue="object"==typeof window,Y="function"==typeof importScripts,B=("object"==typeof process&&"object"==typeof process.versions&&process,"");(ue||Y)&&(Y?B=self.location.href:typeof document<"u"&&document.currentScript&&(B=document.currentScript.src),P&&(B=P),B=0!==B.indexOf("blob:")?B.substr(0,B.replace(/[?#].*/,"").lastIndexOf("/")+1):"",j=l=>{var h=new XMLHttpRequest;return h.open("GET",l,!1),h.send(null),h.responseText},Y&&(Le=l=>{var h=new XMLHttpRequest;return h.open("GET",l,!1),h.responseType="arraybuffer",h.send(null),new Uint8Array(h.response)}),Re=(l,h,v)=>{var T=new XMLHttpRequest;T.open("GET",l,!0),T.responseType="arraybuffer",T.onload=()=>{200==T.status||0==T.status&&T.response?h(T.response):v()},T.onerror=v,T.send(null)});var fe,W=c.print||console.log.bind(console),K=c.printErr||console.warn.bind(console);Object.assign(c,z),z=null,c.arguments&&(X=c.arguments),c.thisProgram&&(L=c.thisProgram),c.quit&&(V=c.quit),c.wasmBinary&&(fe=c.wasmBinary);var Fe=c.noExitRuntime||!0;"object"!=typeof WebAssembly&&ir("no native wasm support detected");var de,ce,st=!1;function we(l,h){l||ir(h)}var Ue,Qe,vt,O,ye,rt,De=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Ye(l,h,v){for(var T=h+v,U=h;l[U]&&!(U>=T);)++U;if(U-h>16&&l.buffer&&De)return De.decode(l.subarray(h,U));for(var be="";h<U;){var ke=l[h++];if(128&ke){var He=63&l[h++];if(192!=(224&ke)){var bt=63&l[h++];if((ke=224==(240&ke)?(15&ke)<<12|He<<6|bt:(7&ke)<<18|He<<12|bt<<6|63&l[h++])<65536)be+=String.fromCharCode(ke);else{var on=ke-65536;be+=String.fromCharCode(55296|on>>10,56320|1023&on)}}else be+=String.fromCharCode((31&ke)<<6|He)}else be+=String.fromCharCode(ke)}return be}function $e(l,h){return l?Ye(vt,l,h):""}function Me(l,h,v,T){if(!(T>0))return 0;for(var U=v,be=v+T-1,ke=0;ke<l.length;++ke){var He=l.charCodeAt(ke);if(He>=55296&&He<=57343&&(He=65536+((1023&He)<<10)|1023&l.charCodeAt(++ke)),He<=127){if(v>=be)break;h[v++]=He}else if(He<=2047){if(v+1>=be)break;h[v++]=192|He>>6,h[v++]=128|63&He}else if(He<=65535){if(v+2>=be)break;h[v++]=224|He>>12,h[v++]=128|He>>6&63,h[v++]=128|63&He}else{if(v+3>=be)break;h[v++]=240|He>>18,h[v++]=128|He>>12&63,h[v++]=128|He>>6&63,h[v++]=128|63&He}}return h[v]=0,v-U}function re(l){for(var h=0,v=0;v<l.length;++v){var T=l.charCodeAt(v);T<=127?h++:T<=2047?h+=2:T>=55296&&T<=57343?(h+=4,++v):h+=3}return h}function Ve(l){Ue=l,c.HEAP8=Qe=new Int8Array(l),c.HEAP16=new Int16Array(l),c.HEAP32=O=new Int32Array(l),c.HEAPU8=vt=new Uint8Array(l),c.HEAPU16=new Uint16Array(l),c.HEAPU32=ye=new Uint32Array(l),c.HEAPF32=new Float32Array(l),c.HEAPF64=rt=new Float64Array(l)}var _e,gn,pt=[],Pe=[],Mt=[],cn=[],xn=0,uo=null,Un=null;function Wr(l){xn++,c.monitorRunDependencies&&c.monitorRunDependencies(xn)}function Pr(l){if(xn--,c.monitorRunDependencies&&c.monitorRunDependencies(xn),0==xn&&(null!==uo&&(clearInterval(uo),uo=null),Un)){var h=Un;Un=null,h()}}function ir(l){c.onAbort&&c.onAbort(l),K(l="Aborted("+l+")"),st=!0,ce=1,l+=". Build with -sASSERTIONS for more info.";var h=new WebAssembly.RuntimeError(l);throw te(h),h}function to(l){return l.startsWith("data:application/octet-stream;base64,")}function Yr(l){try{if(l==gn&&fe)return new Uint8Array(fe);if(Le)return Le(l);throw"both async and sync fetching of the wasm failed"}catch(h){ir(h)}}to(gn="cloudpilot_web.wasm")||(gn=function $(l){return c.locateFile?c.locateFile(l,B):B+l}(gn));var ct,le,ze={243812:l=>{_e.grow(65536);for(let h=0;h<=65535;h++)_e.set(_e.length-65535-1+h,_e.get(ye[(l>>>2)+h]));return _e.length-65535-1}};function $n(l){this.name="ExitStatus",this.message="Program terminated with exit("+l+")",this.status=l}function Kt(l){for(;l.length>0;)l.shift()(c)}function hr(l,h){return h+2097152>>>0<4194305-!!l?(l>>>0)+4294967296*h:NaN}var tn={isAbs:l=>"/"===l.charAt(0),splitPath:l=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(l).slice(1),normalizeArray:(l,h)=>{for(var v=0,T=l.length-1;T>=0;T--){var U=l[T];"."===U?l.splice(T,1):".."===U?(l.splice(T,1),v++):v&&(l.splice(T,1),v--)}if(h)for(;v;v--)l.unshift("..");return l},normalize:l=>{var h=tn.isAbs(l),v="/"===l.substr(-1);return!(l=tn.normalizeArray(l.split("/").filter(T=>!!T),!h).join("/"))&&!h&&(l="."),l&&v&&(l+="/"),(h?"/":"")+l},dirname:l=>{var h=tn.splitPath(l),v=h[0],T=h[1];return v||T?(T&&(T=T.substr(0,T.length-1)),v+T):"."},basename:l=>{if("/"===l)return"/";var h=(l=(l=tn.normalize(l)).replace(/\/$/,"")).lastIndexOf("/");return-1===h?l:l.substr(h+1)},join:function(){var l=Array.prototype.slice.call(arguments);return tn.normalize(l.join("/"))},join2:(l,h)=>tn.normalize(l+"/"+h)},er={resolve:function(){for(var l="",h=!1,v=arguments.length-1;v>=-1&&!h;v--){var T=v>=0?arguments[v]:D.cwd();if("string"!=typeof T)throw new TypeError("Arguments to path.resolve must be strings");if(!T)return"";l=T+"/"+l,h=tn.isAbs(T)}return(h?"/":"")+(l=tn.normalizeArray(l.split("/").filter(U=>!!U),!h).join("/"))||"."},relative:(l,h)=>{function v(on){for(var Vn=0;Vn<on.length&&""===on[Vn];Vn++);for(var jn=on.length-1;jn>=0&&""===on[jn];jn--);return Vn>jn?[]:on.slice(Vn,jn-Vn+1)}l=er.resolve(l).substr(1),h=er.resolve(h).substr(1);for(var T=v(l.split("/")),U=v(h.split("/")),be=Math.min(T.length,U.length),ke=be,He=0;He<be;He++)if(T[He]!==U[He]){ke=He;break}var bt=[];for(He=ke;He<T.length;He++)bt.push("..");return(bt=bt.concat(U.slice(ke))).join("/")}};function un(l,h,v){var T=v>0?v:re(l)+1,U=new Array(T),be=Me(l,U,0,U.length);return h&&(U.length=be),U}var zt={ttys:[],init:function(){},shutdown:function(){},register:function(l,h){zt.ttys[l]={input:[],output:[],ops:h},D.registerDevice(l,zt.stream_ops)},stream_ops:{open:function(l){var h=zt.ttys[l.node.rdev];if(!h)throw new D.ErrnoError(43);l.tty=h,l.seekable=!1},close:function(l){l.tty.ops.fsync(l.tty)},fsync:function(l){l.tty.ops.fsync(l.tty)},read:function(l,h,v,T,U){if(!l.tty||!l.tty.ops.get_char)throw new D.ErrnoError(60);for(var be=0,ke=0;ke<T;ke++){var He;try{He=l.tty.ops.get_char(l.tty)}catch{throw new D.ErrnoError(29)}if(void 0===He&&0===be)throw new D.ErrnoError(6);if(null==He)break;be++,h[v+ke]=He}return be&&(l.node.timestamp=Date.now()),be},write:function(l,h,v,T,U){if(!l.tty||!l.tty.ops.put_char)throw new D.ErrnoError(60);try{for(var be=0;be<T;be++)l.tty.ops.put_char(l.tty,h[v+be])}catch{throw new D.ErrnoError(29)}return T&&(l.node.timestamp=Date.now()),be}},default_tty_ops:{get_char:function(l){if(!l.input.length){var h=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(h=window.prompt("Input: "))&&(h+="\n"):"function"==typeof readline&&null!==(h=readline())&&(h+="\n"),!h)return null;l.input=un(h,!0)}return l.input.shift()},put_char:function(l,h){null===h||10===h?(W(Ye(l.output,0)),l.output=[]):0!=h&&l.output.push(h)},fsync:function(l){l.output&&l.output.length>0&&(W(Ye(l.output,0)),l.output=[])}},default_tty1_ops:{put_char:function(l,h){null===h||10===h?(K(Ye(l.output,0)),l.output=[]):0!=h&&l.output.push(h)},fsync:function(l){l.output&&l.output.length>0&&(K(Ye(l.output,0)),l.output=[])}}};function E(l){ir()}var S={ops_table:null,mount:function(l){return S.createNode(null,"/",16895,0)},createNode:function(l,h,v,T){if(D.isBlkdev(v)||D.isFIFO(v))throw new D.ErrnoError(63);S.ops_table||(S.ops_table={dir:{node:{getattr:S.node_ops.getattr,setattr:S.node_ops.setattr,lookup:S.node_ops.lookup,mknod:S.node_ops.mknod,rename:S.node_ops.rename,unlink:S.node_ops.unlink,rmdir:S.node_ops.rmdir,readdir:S.node_ops.readdir,symlink:S.node_ops.symlink},stream:{llseek:S.stream_ops.llseek}},file:{node:{getattr:S.node_ops.getattr,setattr:S.node_ops.setattr},stream:{llseek:S.stream_ops.llseek,read:S.stream_ops.read,write:S.stream_ops.write,allocate:S.stream_ops.allocate,mmap:S.stream_ops.mmap,msync:S.stream_ops.msync}},link:{node:{getattr:S.node_ops.getattr,setattr:S.node_ops.setattr,readlink:S.node_ops.readlink},stream:{}},chrdev:{node:{getattr:S.node_ops.getattr,setattr:S.node_ops.setattr},stream:D.chrdev_stream_ops}});var U=D.createNode(l,h,v,T);return D.isDir(U.mode)?(U.node_ops=S.ops_table.dir.node,U.stream_ops=S.ops_table.dir.stream,U.contents={}):D.isFile(U.mode)?(U.node_ops=S.ops_table.file.node,U.stream_ops=S.ops_table.file.stream,U.usedBytes=0,U.contents=null):D.isLink(U.mode)?(U.node_ops=S.ops_table.link.node,U.stream_ops=S.ops_table.link.stream):D.isChrdev(U.mode)&&(U.node_ops=S.ops_table.chrdev.node,U.stream_ops=S.ops_table.chrdev.stream),U.timestamp=Date.now(),l&&(l.contents[h]=U,l.timestamp=U.timestamp),U},getFileDataAsTypedArray:function(l){return l.contents?l.contents.subarray?l.contents.subarray(0,l.usedBytes):new Uint8Array(l.contents):new Uint8Array(0)},expandFileStorage:function(l,h){var v=l.contents?l.contents.length:0;if(!(v>=h)){h=Math.max(h,v*(v<1048576?2:1.125)>>>0),0!=v&&(h=Math.max(h,256));var U=l.contents;l.contents=new Uint8Array(h),l.usedBytes>0&&l.contents.set(U.subarray(0,l.usedBytes),0)}},resizeFileStorage:function(l,h){if(l.usedBytes!=h)if(0==h)l.contents=null,l.usedBytes=0;else{var v=l.contents;l.contents=new Uint8Array(h),v&&l.contents.set(v.subarray(0,Math.min(h,l.usedBytes))),l.usedBytes=h}},node_ops:{getattr:function(l){var h={};return h.dev=D.isChrdev(l.mode)?l.id:1,h.ino=l.id,h.mode=l.mode,h.nlink=1,h.uid=0,h.gid=0,h.rdev=l.rdev,h.size=D.isDir(l.mode)?4096:D.isFile(l.mode)?l.usedBytes:D.isLink(l.mode)?l.link.length:0,h.atime=new Date(l.timestamp),h.mtime=new Date(l.timestamp),h.ctime=new Date(l.timestamp),h.blksize=4096,h.blocks=Math.ceil(h.size/h.blksize),h},setattr:function(l,h){void 0!==h.mode&&(l.mode=h.mode),void 0!==h.timestamp&&(l.timestamp=h.timestamp),void 0!==h.size&&S.resizeFileStorage(l,h.size)},lookup:function(l,h){throw D.genericErrors[44]},mknod:function(l,h,v,T){return S.createNode(l,h,v,T)},rename:function(l,h,v){if(D.isDir(l.mode)){var T;try{T=D.lookupNode(h,v)}catch{}if(T)for(var U in T.contents)throw new D.ErrnoError(55)}delete l.parent.contents[l.name],l.parent.timestamp=Date.now(),l.name=v,h.contents[v]=l,h.timestamp=l.parent.timestamp,l.parent=h},unlink:function(l,h){delete l.contents[h],l.timestamp=Date.now()},rmdir:function(l,h){var v=D.lookupNode(l,h);for(var T in v.contents)throw new D.ErrnoError(55);delete l.contents[h],l.timestamp=Date.now()},readdir:function(l){var h=[".",".."];for(var v in l.contents)l.contents.hasOwnProperty(v)&&h.push(v);return h},symlink:function(l,h,v){var T=S.createNode(l,h,41471,0);return T.link=v,T},readlink:function(l){if(!D.isLink(l.mode))throw new D.ErrnoError(28);return l.link}},stream_ops:{read:function(l,h,v,T,U){var be=l.node.contents;if(U>=l.node.usedBytes)return 0;var ke=Math.min(l.node.usedBytes-U,T);if(ke>8&&be.subarray)h.set(be.subarray(U,U+ke),v);else for(var He=0;He<ke;He++)h[v+He]=be[U+He];return ke},write:function(l,h,v,T,U,be){if(h.buffer===Qe.buffer&&(be=!1),!T)return 0;var ke=l.node;if(ke.timestamp=Date.now(),h.subarray&&(!ke.contents||ke.contents.subarray)){if(be)return ke.contents=h.subarray(v,v+T),ke.usedBytes=T,T;if(0===ke.usedBytes&&0===U)return ke.contents=h.slice(v,v+T),ke.usedBytes=T,T;if(U+T<=ke.usedBytes)return ke.contents.set(h.subarray(v,v+T),U),T}if(S.expandFileStorage(ke,U+T),ke.contents.subarray&&h.subarray)ke.contents.set(h.subarray(v,v+T),U);else for(var He=0;He<T;He++)ke.contents[U+He]=h[v+He];return ke.usedBytes=Math.max(ke.usedBytes,U+T),T},llseek:function(l,h,v){var T=h;if(1===v?T+=l.position:2===v&&D.isFile(l.node.mode)&&(T+=l.node.usedBytes),T<0)throw new D.ErrnoError(28);return T},allocate:function(l,h,v){S.expandFileStorage(l.node,h+v),l.node.usedBytes=Math.max(l.node.usedBytes,h+v)},mmap:function(l,h,v,T,U){if(!D.isFile(l.node.mode))throw new D.ErrnoError(43);var be,ke,He=l.node.contents;if(2&U||He.buffer!==Ue){if((v>0||v+h<He.length)&&(He=He.subarray?He.subarray(v,v+h):Array.prototype.slice.call(He,v,v+h)),ke=!0,!(be=E()))throw new D.ErrnoError(48);Qe.set(He,be)}else ke=!1,be=He.byteOffset;return{ptr:be,allocated:ke}},msync:function(l,h,v,T,U){return S.stream_ops.write(l,h,0,T,v,!1),0}}},D={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(l,h={})=>{if(!(l=er.resolve(l)))return{path:"",node:null};if((h=Object.assign({follow_mount:!0,recurse_count:0},h)).recurse_count>8)throw new D.ErrnoError(32);for(var T=l.split("/").filter(jn=>!!jn),U=D.root,be="/",ke=0;ke<T.length;ke++){var He=ke===T.length-1;if(He&&h.parent)break;if(U=D.lookupNode(U,T[ke]),be=tn.join2(be,T[ke]),D.isMountpoint(U)&&(!He||He&&h.follow_mount)&&(U=U.mounted.root),!He||h.follow)for(var bt=0;D.isLink(U.mode);){var on=D.readlink(be);if(be=er.resolve(tn.dirname(be),on),U=D.lookupPath(be,{recurse_count:h.recurse_count+1}).node,bt++>40)throw new D.ErrnoError(32)}}return{path:be,node:U}},getPath:l=>{for(var h;;){if(D.isRoot(l)){var v=l.mount.mountpoint;return h?"/"!==v[v.length-1]?v+"/"+h:v+h:v}h=h?l.name+"/"+h:l.name,l=l.parent}},hashName:(l,h)=>{for(var v=0,T=0;T<h.length;T++)v=(v<<5)-v+h.charCodeAt(T)|0;return(l+v>>>0)%D.nameTable.length},hashAddNode:l=>{var h=D.hashName(l.parent.id,l.name);l.name_next=D.nameTable[h],D.nameTable[h]=l},hashRemoveNode:l=>{var h=D.hashName(l.parent.id,l.name);if(D.nameTable[h]===l)D.nameTable[h]=l.name_next;else for(var v=D.nameTable[h];v;){if(v.name_next===l){v.name_next=l.name_next;break}v=v.name_next}},lookupNode:(l,h)=>{var v=D.mayLookup(l);if(v)throw new D.ErrnoError(v,l);for(var T=D.hashName(l.id,h),U=D.nameTable[T];U;U=U.name_next)if(U.parent.id===l.id&&U.name===h)return U;return D.lookup(l,h)},createNode:(l,h,v,T)=>{var U=new D.FSNode(l,h,v,T);return D.hashAddNode(U),U},destroyNode:l=>{D.hashRemoveNode(l)},isRoot:l=>l===l.parent,isMountpoint:l=>!!l.mounted,isFile:l=>32768==(61440&l),isDir:l=>16384==(61440&l),isLink:l=>40960==(61440&l),isChrdev:l=>8192==(61440&l),isBlkdev:l=>24576==(61440&l),isFIFO:l=>4096==(61440&l),isSocket:l=>49152==(49152&l),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:l=>{var h=D.flagModes[l];if(typeof h>"u")throw new Error("Unknown file open mode: "+l);return h},flagsToPermissionString:l=>{var h=["r","w","rw"][3&l];return 512&l&&(h+="w"),h},nodePermissions:(l,h)=>D.ignorePermissions?0:h.includes("r")&&!(292&l.mode)||h.includes("w")&&!(146&l.mode)||h.includes("x")&&!(73&l.mode)?2:0,mayLookup:l=>D.nodePermissions(l,"x")||(l.node_ops.lookup?0:2),mayCreate:(l,h)=>{try{return D.lookupNode(l,h),20}catch{}return D.nodePermissions(l,"wx")},mayDelete:(l,h,v)=>{var T;try{T=D.lookupNode(l,h)}catch(be){return be.errno}var U=D.nodePermissions(l,"wx");if(U)return U;if(v){if(!D.isDir(T.mode))return 54;if(D.isRoot(T)||D.getPath(T)===D.cwd())return 10}else if(D.isDir(T.mode))return 31;return 0},mayOpen:(l,h)=>l?D.isLink(l.mode)?32:D.isDir(l.mode)&&("r"!==D.flagsToPermissionString(h)||512&h)?31:D.nodePermissions(l,D.flagsToPermissionString(h)):44,MAX_OPEN_FDS:4096,nextfd:(l=0,h=D.MAX_OPEN_FDS)=>{for(var v=l;v<=h;v++)if(!D.streams[v])return v;throw new D.ErrnoError(33)},getStream:l=>D.streams[l],createStream:(l,h,v)=>{D.FSStream||(D.FSStream=function(){this.shared={}},D.FSStream.prototype={},Object.defineProperties(D.FSStream.prototype,{object:{get:function(){return this.node},set:function(U){this.node=U}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(U){this.shared.flags=U}},position:{get:function(){return this.shared.position},set:function(U){this.shared.position=U}}})),l=Object.assign(new D.FSStream,l);var T=D.nextfd(h,v);return l.fd=T,D.streams[T]=l,l},closeStream:l=>{D.streams[l]=null},chrdev_stream_ops:{open:l=>{var h=D.getDevice(l.node.rdev);l.stream_ops=h.stream_ops,l.stream_ops.open&&l.stream_ops.open(l)},llseek:()=>{throw new D.ErrnoError(70)}},major:l=>l>>8,minor:l=>255&l,makedev:(l,h)=>l<<8|h,registerDevice:(l,h)=>{D.devices[l]={stream_ops:h}},getDevice:l=>D.devices[l],getMounts:l=>{for(var h=[],v=[l];v.length;){var T=v.pop();h.push(T),v.push.apply(v,T.mounts)}return h},syncfs:(l,h)=>{"function"==typeof l&&(h=l,l=!1),D.syncFSRequests++,D.syncFSRequests>1&&K("warning: "+D.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var v=D.getMounts(D.root.mount),T=0;function U(ke){return D.syncFSRequests--,h(ke)}function be(ke){if(ke)return be.errored?void 0:(be.errored=!0,U(ke));++T>=v.length&&U(null)}v.forEach(ke=>{if(!ke.type.syncfs)return be(null);ke.type.syncfs(ke,l,be)})},mount:(l,h,v)=>{var be,T="/"===v,U=!v;if(T&&D.root)throw new D.ErrnoError(10);if(!T&&!U){var ke=D.lookupPath(v,{follow_mount:!1});if(v=ke.path,D.isMountpoint(be=ke.node))throw new D.ErrnoError(10);if(!D.isDir(be.mode))throw new D.ErrnoError(54)}var He={type:l,opts:h,mountpoint:v,mounts:[]},bt=l.mount(He);return bt.mount=He,He.root=bt,T?D.root=bt:be&&(be.mounted=He,be.mount&&be.mount.mounts.push(He)),bt},unmount:l=>{var h=D.lookupPath(l,{follow_mount:!1});if(!D.isMountpoint(h.node))throw new D.ErrnoError(28);var v=h.node,T=v.mounted,U=D.getMounts(T);Object.keys(D.nameTable).forEach(ke=>{for(var He=D.nameTable[ke];He;){var bt=He.name_next;U.includes(He.mount)&&D.destroyNode(He),He=bt}}),v.mounted=null;var be=v.mount.mounts.indexOf(T);v.mount.mounts.splice(be,1)},lookup:(l,h)=>l.node_ops.lookup(l,h),mknod:(l,h,v)=>{var U=D.lookupPath(l,{parent:!0}).node,be=tn.basename(l);if(!be||"."===be||".."===be)throw new D.ErrnoError(28);var ke=D.mayCreate(U,be);if(ke)throw new D.ErrnoError(ke);if(!U.node_ops.mknod)throw new D.ErrnoError(63);return U.node_ops.mknod(U,be,h,v)},create:(l,h)=>(h=void 0!==h?h:438,h&=4095,D.mknod(l,h|=32768,0)),mkdir:(l,h)=>(h=void 0!==h?h:511,h&=1023,D.mknod(l,h|=16384,0)),mkdirTree:(l,h)=>{for(var v=l.split("/"),T="",U=0;U<v.length;++U)if(v[U]){T+="/"+v[U];try{D.mkdir(T,h)}catch(be){if(20!=be.errno)throw be}}},mkdev:(l,h,v)=>(typeof v>"u"&&(v=h,h=438),D.mknod(l,h|=8192,v)),symlink:(l,h)=>{if(!er.resolve(l))throw new D.ErrnoError(44);var T=D.lookupPath(h,{parent:!0}).node;if(!T)throw new D.ErrnoError(44);var U=tn.basename(h),be=D.mayCreate(T,U);if(be)throw new D.ErrnoError(be);if(!T.node_ops.symlink)throw new D.ErrnoError(63);return T.node_ops.symlink(T,U,l)},rename:(l,h)=>{var He,bt,v=tn.dirname(l),T=tn.dirname(h),U=tn.basename(l),be=tn.basename(h);if(He=D.lookupPath(l,{parent:!0}).node,bt=D.lookupPath(h,{parent:!0}).node,!He||!bt)throw new D.ErrnoError(44);if(He.mount!==bt.mount)throw new D.ErrnoError(75);var jn,on=D.lookupNode(He,U),Vn=er.relative(l,T);if("."!==Vn.charAt(0))throw new D.ErrnoError(28);if("."!==(Vn=er.relative(h,v)).charAt(0))throw new D.ErrnoError(55);try{jn=D.lookupNode(bt,be)}catch{}if(on!==jn){var Qt=D.isDir(on.mode),hn=D.mayDelete(He,U,Qt);if(hn)throw new D.ErrnoError(hn);if(hn=jn?D.mayDelete(bt,be,Qt):D.mayCreate(bt,be))throw new D.ErrnoError(hn);if(!He.node_ops.rename)throw new D.ErrnoError(63);if(D.isMountpoint(on)||jn&&D.isMountpoint(jn))throw new D.ErrnoError(10);if(bt!==He&&(hn=D.nodePermissions(He,"w")))throw new D.ErrnoError(hn);D.hashRemoveNode(on);try{He.node_ops.rename(on,bt,be)}catch(zn){throw zn}finally{D.hashAddNode(on)}}},rmdir:l=>{var v=D.lookupPath(l,{parent:!0}).node,T=tn.basename(l),U=D.lookupNode(v,T),be=D.mayDelete(v,T,!0);if(be)throw new D.ErrnoError(be);if(!v.node_ops.rmdir)throw new D.ErrnoError(63);if(D.isMountpoint(U))throw new D.ErrnoError(10);v.node_ops.rmdir(v,T),D.destroyNode(U)},readdir:l=>{var v=D.lookupPath(l,{follow:!0}).node;if(!v.node_ops.readdir)throw new D.ErrnoError(54);return v.node_ops.readdir(v)},unlink:l=>{var v=D.lookupPath(l,{parent:!0}).node;if(!v)throw new D.ErrnoError(44);var T=tn.basename(l),U=D.lookupNode(v,T),be=D.mayDelete(v,T,!1);if(be)throw new D.ErrnoError(be);if(!v.node_ops.unlink)throw new D.ErrnoError(63);if(D.isMountpoint(U))throw new D.ErrnoError(10);v.node_ops.unlink(v,T),D.destroyNode(U)},readlink:l=>{var v=D.lookupPath(l).node;if(!v)throw new D.ErrnoError(44);if(!v.node_ops.readlink)throw new D.ErrnoError(28);return er.resolve(D.getPath(v.parent),v.node_ops.readlink(v))},stat:(l,h)=>{var T=D.lookupPath(l,{follow:!h}).node;if(!T)throw new D.ErrnoError(44);if(!T.node_ops.getattr)throw new D.ErrnoError(63);return T.node_ops.getattr(T)},lstat:l=>D.stat(l,!0),chmod:(l,h,v)=>{var T;if(!(T="string"==typeof l?D.lookupPath(l,{follow:!v}).node:l).node_ops.setattr)throw new D.ErrnoError(63);T.node_ops.setattr(T,{mode:4095&h|-4096&T.mode,timestamp:Date.now()})},lchmod:(l,h)=>{D.chmod(l,h,!0)},fchmod:(l,h)=>{var v=D.getStream(l);if(!v)throw new D.ErrnoError(8);D.chmod(v.node,h)},chown:(l,h,v,T)=>{var U;if(!(U="string"==typeof l?D.lookupPath(l,{follow:!T}).node:l).node_ops.setattr)throw new D.ErrnoError(63);U.node_ops.setattr(U,{timestamp:Date.now()})},lchown:(l,h,v)=>{D.chown(l,h,v,!0)},fchown:(l,h,v)=>{var T=D.getStream(l);if(!T)throw new D.ErrnoError(8);D.chown(T.node,h,v)},truncate:(l,h)=>{if(h<0)throw new D.ErrnoError(28);var v;if(!(v="string"==typeof l?D.lookupPath(l,{follow:!0}).node:l).node_ops.setattr)throw new D.ErrnoError(63);if(D.isDir(v.mode))throw new D.ErrnoError(31);if(!D.isFile(v.mode))throw new D.ErrnoError(28);var U=D.nodePermissions(v,"w");if(U)throw new D.ErrnoError(U);v.node_ops.setattr(v,{size:h,timestamp:Date.now()})},ftruncate:(l,h)=>{var v=D.getStream(l);if(!v)throw new D.ErrnoError(8);if(!(2097155&v.flags))throw new D.ErrnoError(28);D.truncate(v.node,h)},utime:(l,h,v)=>{var U=D.lookupPath(l,{follow:!0}).node;U.node_ops.setattr(U,{timestamp:Math.max(h,v)})},open:(l,h,v)=>{if(""===l)throw new D.ErrnoError(44);var T;if(v=typeof v>"u"?438:v,v=64&(h="string"==typeof h?D.modeStringToFlags(h):h)?4095&v|32768:0,"object"==typeof l)T=l;else{l=tn.normalize(l);try{T=D.lookupPath(l,{follow:!(131072&h)}).node}catch{}}var be=!1;if(64&h)if(T){if(128&h)throw new D.ErrnoError(20)}else T=D.mknod(l,v,0),be=!0;if(!T)throw new D.ErrnoError(44);if(D.isChrdev(T.mode)&&(h&=-513),65536&h&&!D.isDir(T.mode))throw new D.ErrnoError(54);if(!be){var ke=D.mayOpen(T,h);if(ke)throw new D.ErrnoError(ke)}512&h&&!be&&D.truncate(T,0),h&=-131713;var He=D.createStream({node:T,path:D.getPath(T),flags:h,seekable:!0,position:0,stream_ops:T.stream_ops,ungotten:[],error:!1});return He.stream_ops.open&&He.stream_ops.open(He),c.logReadFiles&&!(1&h)&&(D.readFiles||(D.readFiles={}),l in D.readFiles||(D.readFiles[l]=1)),He},close:l=>{if(D.isClosed(l))throw new D.ErrnoError(8);l.getdents&&(l.getdents=null);try{l.stream_ops.close&&l.stream_ops.close(l)}catch(h){throw h}finally{D.closeStream(l.fd)}l.fd=null},isClosed:l=>null===l.fd,llseek:(l,h,v)=>{if(D.isClosed(l))throw new D.ErrnoError(8);if(!l.seekable||!l.stream_ops.llseek)throw new D.ErrnoError(70);if(0!=v&&1!=v&&2!=v)throw new D.ErrnoError(28);return l.position=l.stream_ops.llseek(l,h,v),l.ungotten=[],l.position},read:(l,h,v,T,U)=>{if(T<0||U<0)throw new D.ErrnoError(28);if(D.isClosed(l))throw new D.ErrnoError(8);if(1==(2097155&l.flags))throw new D.ErrnoError(8);if(D.isDir(l.node.mode))throw new D.ErrnoError(31);if(!l.stream_ops.read)throw new D.ErrnoError(28);var be=typeof U<"u";if(be){if(!l.seekable)throw new D.ErrnoError(70)}else U=l.position;var ke=l.stream_ops.read(l,h,v,T,U);return be||(l.position+=ke),ke},write:(l,h,v,T,U,be)=>{if(T<0||U<0)throw new D.ErrnoError(28);if(D.isClosed(l))throw new D.ErrnoError(8);if(!(2097155&l.flags))throw new D.ErrnoError(8);if(D.isDir(l.node.mode))throw new D.ErrnoError(31);if(!l.stream_ops.write)throw new D.ErrnoError(28);l.seekable&&1024&l.flags&&D.llseek(l,0,2);var ke=typeof U<"u";if(ke){if(!l.seekable)throw new D.ErrnoError(70)}else U=l.position;var He=l.stream_ops.write(l,h,v,T,U,be);return ke||(l.position+=He),He},allocate:(l,h,v)=>{if(D.isClosed(l))throw new D.ErrnoError(8);if(h<0||v<=0)throw new D.ErrnoError(28);if(!(2097155&l.flags))throw new D.ErrnoError(8);if(!D.isFile(l.node.mode)&&!D.isDir(l.node.mode))throw new D.ErrnoError(43);if(!l.stream_ops.allocate)throw new D.ErrnoError(138);l.stream_ops.allocate(l,h,v)},mmap:(l,h,v,T,U)=>{if(2&T&&!(2&U)&&2!=(2097155&l.flags))throw new D.ErrnoError(2);if(1==(2097155&l.flags))throw new D.ErrnoError(2);if(!l.stream_ops.mmap)throw new D.ErrnoError(43);return l.stream_ops.mmap(l,h,v,T,U)},msync:(l,h,v,T,U)=>l.stream_ops.msync?l.stream_ops.msync(l,h,v,T,U):0,munmap:l=>0,ioctl:(l,h,v)=>{if(!l.stream_ops.ioctl)throw new D.ErrnoError(59);return l.stream_ops.ioctl(l,h,v)},readFile:(l,h={})=>{if(h.flags=h.flags||0,h.encoding=h.encoding||"binary","utf8"!==h.encoding&&"binary"!==h.encoding)throw new Error('Invalid encoding type "'+h.encoding+'"');var v,T=D.open(l,h.flags),be=D.stat(l).size,ke=new Uint8Array(be);return D.read(T,ke,0,be,0),"utf8"===h.encoding?v=Ye(ke,0):"binary"===h.encoding&&(v=ke),D.close(T),v},writeFile:(l,h,v={})=>{v.flags=v.flags||577;var T=D.open(l,v.flags,v.mode);if("string"==typeof h){var U=new Uint8Array(re(h)+1),be=Me(h,U,0,U.length);D.write(T,U,0,be,void 0,v.canOwn)}else{if(!ArrayBuffer.isView(h))throw new Error("Unsupported data type");D.write(T,h,0,h.byteLength,void 0,v.canOwn)}D.close(T)},cwd:()=>D.currentPath,chdir:l=>{var h=D.lookupPath(l,{follow:!0});if(null===h.node)throw new D.ErrnoError(44);if(!D.isDir(h.node.mode))throw new D.ErrnoError(54);var v=D.nodePermissions(h.node,"x");if(v)throw new D.ErrnoError(v);D.currentPath=h.path},createDefaultDirectories:()=>{D.mkdir("/tmp"),D.mkdir("/home"),D.mkdir("/home/web_user")},createDefaultDevices:()=>{D.mkdir("/dev"),D.registerDevice(D.makedev(1,3),{read:()=>0,write:(h,v,T,U,be)=>U}),D.mkdev("/dev/null",D.makedev(1,3)),zt.register(D.makedev(5,0),zt.default_tty_ops),zt.register(D.makedev(6,0),zt.default_tty1_ops),D.mkdev("/dev/tty",D.makedev(5,0)),D.mkdev("/dev/tty1",D.makedev(6,0));var l=function Jn(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var l=new Uint8Array(1);return()=>(crypto.getRandomValues(l),l[0])}return()=>ir("randomDevice")}();D.createDevice("/dev","random",l),D.createDevice("/dev","urandom",l),D.mkdir("/dev/shm"),D.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{D.mkdir("/proc");var l=D.mkdir("/proc/self");D.mkdir("/proc/self/fd"),D.mount({mount:()=>{var h=D.createNode(l,"fd",16895,73);return h.node_ops={lookup:(v,T)=>{var be=D.getStream(+T);if(!be)throw new D.ErrnoError(8);var ke={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>be.path}};return ke.parent=ke,ke}},h}},{},"/proc/self/fd")},createStandardStreams:()=>{c.stdin?D.createDevice("/dev","stdin",c.stdin):D.symlink("/dev/tty","/dev/stdin"),c.stdout?D.createDevice("/dev","stdout",null,c.stdout):D.symlink("/dev/tty","/dev/stdout"),c.stderr?D.createDevice("/dev","stderr",null,c.stderr):D.symlink("/dev/tty1","/dev/stderr"),D.open("/dev/stdin",0),D.open("/dev/stdout",1),D.open("/dev/stderr",1)},ensureErrnoError:()=>{D.ErrnoError||(D.ErrnoError=function(h,v){this.node=v,this.setErrno=function(T){this.errno=T},this.setErrno(h),this.message="FS error"},D.ErrnoError.prototype=new Error,D.ErrnoError.prototype.constructor=D.ErrnoError,[44].forEach(l=>{D.genericErrors[l]=new D.ErrnoError(l),D.genericErrors[l].stack="<generic error, no stack>"}))},staticInit:()=>{D.ensureErrnoError(),D.nameTable=new Array(4096),D.mount(S,{},"/"),D.createDefaultDirectories(),D.createDefaultDevices(),D.createSpecialDirectories(),D.filesystems={MEMFS:S}},init:(l,h,v)=>{D.init.initialized=!0,D.ensureErrnoError(),c.stdin=l||c.stdin,c.stdout=h||c.stdout,c.stderr=v||c.stderr,D.createStandardStreams()},quit:()=>{D.init.initialized=!1;for(var l=0;l<D.streams.length;l++){var h=D.streams[l];h&&D.close(h)}},getMode:(l,h)=>{var v=0;return l&&(v|=365),h&&(v|=146),v},findObject:(l,h)=>{var v=D.analyzePath(l,h);return v.exists?v.object:null},analyzePath:(l,h)=>{try{l=(v=D.lookupPath(l,{follow:!h})).path}catch{}var T={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var v=D.lookupPath(l,{parent:!0});T.parentExists=!0,T.parentPath=v.path,T.parentObject=v.node,T.name=tn.basename(l),v=D.lookupPath(l,{follow:!h}),T.exists=!0,T.path=v.path,T.object=v.node,T.name=v.node.name,T.isRoot="/"===v.path}catch(U){T.error=U.errno}return T},createPath:(l,h,v,T)=>{l="string"==typeof l?l:D.getPath(l);for(var U=h.split("/").reverse();U.length;){var be=U.pop();if(be){var ke=tn.join2(l,be);try{D.mkdir(ke)}catch{}l=ke}}return ke},createFile:(l,h,v,T,U)=>{var be=tn.join2("string"==typeof l?l:D.getPath(l),h),ke=D.getMode(T,U);return D.create(be,ke)},createDataFile:(l,h,v,T,U,be)=>{var ke=h;l&&(l="string"==typeof l?l:D.getPath(l),ke=h?tn.join2(l,h):l);var He=D.getMode(T,U),bt=D.create(ke,He);if(v){if("string"==typeof v){for(var on=new Array(v.length),Vn=0,jn=v.length;Vn<jn;++Vn)on[Vn]=v.charCodeAt(Vn);v=on}D.chmod(bt,146|He);var Qt=D.open(bt,577);D.write(Qt,v,0,v.length,0,be),D.close(Qt),D.chmod(bt,He)}return bt},createDevice:(l,h,v,T)=>{var U=tn.join2("string"==typeof l?l:D.getPath(l),h),be=D.getMode(!!v,!!T);D.createDevice.major||(D.createDevice.major=64);var ke=D.makedev(D.createDevice.major++,0);return D.registerDevice(ke,{open:He=>{He.seekable=!1},close:He=>{T&&T.buffer&&T.buffer.length&&T(10)},read:(He,bt,on,Vn,jn)=>{for(var Qt=0,hn=0;hn<Vn;hn++){var zn;try{zn=v()}catch{throw new D.ErrnoError(29)}if(void 0===zn&&0===Qt)throw new D.ErrnoError(6);if(null==zn)break;Qt++,bt[on+hn]=zn}return Qt&&(He.node.timestamp=Date.now()),Qt},write:(He,bt,on,Vn,jn)=>{for(var Qt=0;Qt<Vn;Qt++)try{T(bt[on+Qt])}catch{throw new D.ErrnoError(29)}return Vn&&(He.node.timestamp=Date.now()),Qt}}),D.mkdev(U,be,ke)},forceLoadFile:l=>{if(l.isDevice||l.isFolder||l.link||l.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!j)throw new Error("Cannot load without read() or XMLHttpRequest.");try{l.contents=un(j(l.url),!0),l.usedBytes=l.contents.length}catch{throw new D.ErrnoError(29)}},createLazyFile:(l,h,v,T,U)=>{function be(){this.lengthKnown=!1,this.chunks=[]}if(be.prototype.get=function(hn){if(!(hn>this.length-1||hn<0)){var zn=hn%this.chunkSize;return this.getter(hn/this.chunkSize|0)[zn]}},be.prototype.setDataGetter=function(hn){this.getter=hn},be.prototype.cacheLength=function(){var hn=new XMLHttpRequest;if(hn.open("HEAD",v,!1),hn.send(null),!(hn.status>=200&&hn.status<300||304===hn.status))throw new Error("Couldn't load "+v+". Status: "+hn.status);var ho,zn=Number(hn.getResponseHeader("Content-length")),ss=(ho=hn.getResponseHeader("Accept-Ranges"))&&"bytes"===ho,zo=(ho=hn.getResponseHeader("Content-Encoding"))&&"gzip"===ho,wt=1048576;ss||(wt=zn);var mo=this;mo.setDataGetter(Lr=>{var as=Lr*wt,so=(Lr+1)*wt-1;if(so=Math.min(so,zn-1),typeof mo.chunks[Lr]>"u"&&(mo.chunks[Lr]=((Lr,as)=>{if(Lr>as)throw new Error("invalid range ("+Lr+", "+as+") or no bytes requested!");if(as>zn-1)throw new Error("only "+zn+" bytes available! programmer error!");var so=new XMLHttpRequest;if(so.open("GET",v,!1),zn!==wt&&so.setRequestHeader("Range","bytes="+Lr+"-"+as),so.responseType="arraybuffer",so.overrideMimeType&&so.overrideMimeType("text/plain; charset=x-user-defined"),so.send(null),!(so.status>=200&&so.status<300||304===so.status))throw new Error("Couldn't load "+v+". Status: "+so.status);return void 0!==so.response?new Uint8Array(so.response||[]):un(so.responseText||"",!0)})(as,so)),typeof mo.chunks[Lr]>"u")throw new Error("doXHR failed!");return mo.chunks[Lr]}),(zo||!zn)&&(wt=zn=1,zn=this.getter(0).length,wt=zn,W("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=zn,this._chunkSize=wt,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!Y)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var ke=new be;Object.defineProperties(ke,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var He={isDevice:!1,contents:ke}}else He={isDevice:!1,url:v};var bt=D.createFile(l,h,He,T,U);He.contents?bt.contents=He.contents:He.url&&(bt.contents=null,bt.url=He.url),Object.defineProperties(bt,{usedBytes:{get:function(){return this.contents.length}}});var on={};function jn(Qt,hn,zn,ho,ss){var zo=Qt.node.contents;if(ss>=zo.length)return 0;var wt=Math.min(zo.length-ss,ho);if(zo.slice)for(var yn=0;yn<wt;yn++)hn[zn+yn]=zo[ss+yn];else for(yn=0;yn<wt;yn++)hn[zn+yn]=zo.get(ss+yn);return wt}return Object.keys(bt.stream_ops).forEach(Qt=>{var hn=bt.stream_ops[Qt];on[Qt]=function(){return D.forceLoadFile(bt),hn.apply(null,arguments)}}),on.read=(Qt,hn,zn,ho,ss)=>(D.forceLoadFile(bt),jn(Qt,hn,zn,ho,ss)),on.mmap=(Qt,hn,zn,ho,ss)=>{D.forceLoadFile(bt);var zo=E();if(!zo)throw new D.ErrnoError(48);return jn(Qt,Qe,zo,hn,zn),{ptr:zo,allocated:!0}},bt.stream_ops=on,bt},createPreloadedFile:(l,h,v,T,U,be,ke,He,bt,on)=>{var Vn=h?er.resolve(tn.join2(l,h)):l;function Qt(hn){function zn(ho){on&&on(),He||D.createDataFile(l,h,ho,T,U,bt),be&&be(),Pr()}Browser.handledByPreloadPlugin(hn,Vn,zn,()=>{ke&&ke(),Pr()})||zn(hn)}Wr(),"string"==typeof v?function qn(l,h,v,T){var U=T?"":"al "+l;Re(l,be=>{we(be,'Loading data file "'+l+'" failed (no arrayBuffer).'),h(new Uint8Array(be)),U&&Pr()},be=>{if(!v)throw'Loading data file "'+l+'" failed.';v()}),U&&Wr()}(v,hn=>Qt(hn),ke):Qt(v)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(l,h,v)=>{h=h||(()=>{}),v=v||(()=>{});var T=D.indexedDB();try{var U=T.open(D.DB_NAME(),D.DB_VERSION)}catch(be){return v(be)}U.onupgradeneeded=()=>{W("creating db"),U.result.createObjectStore(D.DB_STORE_NAME)},U.onsuccess=()=>{var ke=U.result.transaction([D.DB_STORE_NAME],"readwrite"),He=ke.objectStore(D.DB_STORE_NAME),bt=0,on=0,Vn=l.length;function jn(){0==on?h():v()}l.forEach(Qt=>{var hn=He.put(D.analyzePath(Qt).object.contents,Qt);hn.onsuccess=()=>{++bt+on==Vn&&jn()},hn.onerror=()=>{on++,bt+on==Vn&&jn()}}),ke.onerror=v},U.onerror=v},loadFilesFromDB:(l,h,v)=>{h=h||(()=>{}),v=v||(()=>{});var T=D.indexedDB();try{var U=T.open(D.DB_NAME(),D.DB_VERSION)}catch(be){return v(be)}U.onupgradeneeded=v,U.onsuccess=()=>{var be=U.result;try{var ke=be.transaction([D.DB_STORE_NAME],"readonly")}catch(Qt){return void v(Qt)}var He=ke.objectStore(D.DB_STORE_NAME),bt=0,on=0,Vn=l.length;function jn(){0==on?h():v()}l.forEach(Qt=>{var hn=He.get(Qt);hn.onsuccess=()=>{D.analyzePath(Qt).exists&&D.unlink(Qt),D.createDataFile(tn.dirname(Qt),tn.basename(Qt),hn.result,!0,!0,!0),++bt+on==Vn&&jn()},hn.onerror=()=>{on++,bt+on==Vn&&jn()}}),ke.onerror=v},U.onerror=v}},On={DEFAULT_POLLMASK:5,calculateAt:function(l,h,v){if(tn.isAbs(h))return h;var T;if(T=-100===l?D.cwd():On.getStreamFromFD(l).path,0==h.length){if(!v)throw new D.ErrnoError(44);return T}return tn.join2(T,h)},doStat:function(l,h,v){try{var T=l(h)}catch(U){if(U&&U.node&&tn.normalize(h)!==tn.normalize(D.getPath(U.node)))return-54;throw U}return O[v>>2]=T.dev,O[v+8>>2]=T.ino,O[v+12>>2]=T.mode,ye[v+16>>2]=T.nlink,O[v+20>>2]=T.uid,O[v+24>>2]=T.gid,O[v+28>>2]=T.rdev,le=[T.size>>>0,(ct=T.size,+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[v+40>>2]=le[0],O[v+44>>2]=le[1],O[v+48>>2]=4096,O[v+52>>2]=T.blocks,le=[Math.floor(T.atime.getTime()/1e3)>>>0,(ct=Math.floor(T.atime.getTime()/1e3),+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[v+56>>2]=le[0],O[v+60>>2]=le[1],ye[v+64>>2]=0,le=[Math.floor(T.mtime.getTime()/1e3)>>>0,(ct=Math.floor(T.mtime.getTime()/1e3),+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[v+72>>2]=le[0],O[v+76>>2]=le[1],ye[v+80>>2]=0,le=[Math.floor(T.ctime.getTime()/1e3)>>>0,(ct=Math.floor(T.ctime.getTime()/1e3),+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[v+88>>2]=le[0],O[v+92>>2]=le[1],ye[v+96>>2]=0,le=[T.ino>>>0,(ct=T.ino,+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[v+104>>2]=le[0],O[v+108>>2]=le[1],0},doMsync:function(l,h,v,T,U){if(!D.isFile(h.node.mode))throw new D.ErrnoError(43);if(2&T)return 0;var be=vt.slice(l,l+v);D.msync(h,be,U,v,T)},varargs:void 0,get:function(){return On.varargs+=4,O[On.varargs-4>>2]},getStr:function(l){return $e(l)},getStreamFromFD:function(l){var h=D.getStream(l);if(!h)throw new D.ErrnoError(8);return h}};function $o(l){return l%4==0&&(l%100!=0||l%400==0)}var bi=[0,31,60,91,121,152,182,213,244,274,305,335],wi=[0,31,59,90,120,151,181,212,243,273,304,334];function no(l){return($o(l.getFullYear())?bi:wi)[l.getMonth()]+l.getDate()-1}function Vo(l){var h=re(l)+1,v=ra(h);return v&&Me(l,Qe,v,h),v}var Qo=[];function Ji(l){try{return de.grow(l-Ue.byteLength+65535>>>16),Ve(de.buffer),1}catch{}}var Ci={};function ci(){if(!ci.strings){var h={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:L||"./this.program"};for(var v in Ci)void 0===Ci[v]?delete h[v]:h[v]=Ci[v];var T=[];for(var v in h)T.push(v+"="+h[v]);ci.strings=T}return ci.strings}var ge=[31,29,31,30,31,30,31,31,30,31,30,31],Se=[31,28,31,30,31,30,31,31,30,31,30,31];function Gt(l,h){l<128?h.push(l):h.push(l%128|128,l>>7)}var Qr=[];function ko(l){var h=Qr[l];return h||(l>=Qr.length&&(Qr.length=l+1),Qr[l]=h=_e.get(l)),h}var Sr=void 0,ts=[];function Na(l,h){_e.set(l,h),Qr[l]=_e.get(l)}var La=function(l,h,v,T){l||(l=this),this.parent=l,this.mount=l.mount,this.mounted=null,this.id=D.nextInode++,this.name=h,this.mode=v,this.node_ops={},this.stream_ops={},this.rdev=T};Object.defineProperties(La.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(l){l?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(l){l?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return D.isDir(this.mode)}},isDevice:{get:function(){return D.isChrdev(this.mode)}}}),D.FSNode=La,D.staticInit();var ja,hl={b:function xt(l,h,v,T){ir("Assertion failed: "+$e(l)+", at: "+[h?$e(h):"unknown filename",v,T?$e(T):"unknown function"])},i:function Pn(l){const h=new Error($e(l));throw h.isAssert=!0,h},k:function Lo(l,h,v){try{var T=hr(h,v);return isNaN(T)?-61:(D.ftruncate(l,T),0)}catch(U){if(typeof D>"u"||!(U instanceof D.ErrnoError))throw U;return-U.errno}},e:function bo(){return!0},f:function Bo(l,h){var v=new Date(1e3*function Pi(l){return ye[l>>2]+4294967296*O[l+4>>2]}(l));O[h>>2]=v.getSeconds(),O[h+4>>2]=v.getMinutes(),O[h+8>>2]=v.getHours(),O[h+12>>2]=v.getDate(),O[h+16>>2]=v.getMonth(),O[h+20>>2]=v.getFullYear()-1900,O[h+24>>2]=v.getDay();var T=0|no(v);O[h+28>>2]=T,O[h+36>>2]=-60*v.getTimezoneOffset();var U=new Date(v.getFullYear(),0,1),be=new Date(v.getFullYear(),6,1).getTimezoneOffset(),ke=U.getTimezoneOffset(),He=0|(be!=ke&&v.getTimezoneOffset()==Math.min(ke,be));O[h+32>>2]=He},g:function mr(l){var h=new Date(O[l+20>>2]+1900,O[l+16>>2],O[l+12>>2],O[l+8>>2],O[l+4>>2],O[l>>2],0),v=O[l+32>>2],T=h.getTimezoneOffset(),U=new Date(h.getFullYear(),0,1),be=new Date(h.getFullYear(),6,1).getTimezoneOffset(),ke=U.getTimezoneOffset(),He=Math.min(ke,be);if(v<0)O[l+32>>2]=Number(be!=ke&&He==T);else if(v>0!=(He==T)){var bt=Math.max(ke,be),on=v>0?He:bt;h.setTime(h.getTime()+6e4*(on-T))}O[l+24>>2]=h.getDay();var Vn=0|no(h);return O[l+28>>2]=Vn,O[l>>2]=h.getSeconds(),O[l+4>>2]=h.getMinutes(),O[l+8>>2]=h.getHours(),O[l+12>>2]=h.getDate(),O[l+16>>2]=h.getMonth(),O[l+20>>2]=h.getYear(),h.getTime()/1e3|0},h:function Xr(l,h,v){var T=(new Date).getFullYear(),U=new Date(T,0,1),be=new Date(T,6,1),ke=U.getTimezoneOffset(),He=be.getTimezoneOffset(),bt=Math.max(ke,He);function on(zn){var ho=zn.toTimeString().match(/\(([A-Za-z ]+)\)$/);return ho?ho[1]:"GMT"}ye[l>>2]=60*bt,O[h>>2]=Number(ke!=He);var Vn=on(U),jn=on(be),Qt=Vo(Vn),hn=Vo(jn);He<ke?(ye[v>>2]=Qt,ye[v+4>>2]=hn):(ye[v>>2]=hn,ye[v+4>>2]=Qt)},a:function li(){ir("")},s:function Zr(l,h,v){var T=function wo(l,h){var v;for(Qo.length=0,h>>=2;v=vt[l++];)h+=105!=v&h,Qo.push(105==v?O[h]:rt[h++>>1]),++h;return Qo}(h,v);return ze[l].apply(null,T)},c:function Qi(){return Date.now()},p:function Do(l,h,v){vt.copyWithin(l,h,h+v)},o:function fo(l){var bt,h=vt.length,v=2147483648;if((l>>>=0)>v)return!1;for(var U=1;U<=4;U*=2){var be=h*(1+.2/U);if(be=Math.min(be,l+100663296),Ji(Math.min(v,(bt=Math.max(l,be))+(65536-bt%65536)%65536)))return!0}return!1},m:function As(l,h){var v=0;return ci().forEach(function(T,U){var be=h+v;ye[l+4*U>>2]=be,function es(l,h,v){for(var T=0;T<l.length;++T)Qe[h++>>0]=l.charCodeAt(T);v||(Qe[h>>0]=0)}(T,be),v+=T.length+1}),0},n:function xs(l,h){var v=ci();ye[l>>2]=v.length;var T=0;return v.forEach(function(U){T+=U.length+1}),ye[h>>2]=T,0},q:function lr(l){try{var h=On.getStreamFromFD(l);return D.close(h),0}catch(v){if(typeof D>"u"||!(v instanceof D.ErrnoError))throw v;return v.errno}},d:function ys(l,h,v,T){try{var be=function ui(l,h,v,T){for(var U=0,be=0;be<v;be++){var ke=ye[h>>2],He=ye[h+4>>2];h+=8;var bt=D.read(l,Qe,ke,He,T);if(bt<0)return-1;if(U+=bt,bt<He)break}return U}(On.getStreamFromFD(l),h,v);return ye[T>>2]=be,0}catch(ke){if(typeof D>"u"||!(ke instanceof D.ErrnoError))throw ke;return ke.errno}},j:function Ri(l,h,v,T,U){try{var be=hr(h,v);if(isNaN(be))return 61;var ke=On.getStreamFromFD(l);return D.llseek(ke,be,T),le=[ke.position>>>0,(ct=ke.position,+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[U>>2]=le[0],O[U+4>>2]=le[1],ke.getdents&&0===be&&0===T&&(ke.getdents=null),0}catch(He){if(typeof D>"u"||!(He instanceof D.ErrnoError))throw He;return He.errno}},r:function x(l,h,v,T){try{var be=function tr(l,h,v,T){for(var U=0,be=0;be<v;be++){var ke=ye[h>>2],He=ye[h+4>>2];h+=8;var bt=D.write(l,Qe,ke,He,T);if(bt<0)return-1;U+=bt}return U}(On.getStreamFromFD(l),h,v);return ye[T>>2]=be,0}catch(ke){if(typeof D>"u"||!(ke instanceof D.ErrnoError))throw ke;return ke.errno}},l:function Ie(l,h,v,T,U){return function pe(l,h,v,T){var U=O[T+40>>2],be={tm_sec:O[T>>2],tm_min:O[T+4>>2],tm_hour:O[T+8>>2],tm_mday:O[T+12>>2],tm_mon:O[T+16>>2],tm_year:O[T+20>>2],tm_wday:O[T+24>>2],tm_yday:O[T+28>>2],tm_isdst:O[T+32>>2],tm_gmtoff:O[T+36>>2],tm_zone:U?$e(U):""},ke=$e(v),He={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var bt in He)ke=ke.replace(new RegExp(bt,"g"),He[bt]);var on=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Vn=["January","February","March","April","May","June","July","August","September","October","November","December"];function jn(wt,yn,mo){for(var Lr="number"==typeof wt?wt.toString():wt||"";Lr.length<yn;)Lr=mo[0]+Lr;return Lr}function Qt(wt,yn){return jn(wt,yn,"0")}function hn(wt,yn){function mo(as){return as<0?-1:as>0?1:0}var Lr;return 0===(Lr=mo(wt.getFullYear()-yn.getFullYear()))&&0===(Lr=mo(wt.getMonth()-yn.getMonth()))&&(Lr=mo(wt.getDate()-yn.getDate())),Lr}function zn(wt){switch(wt.getDay()){case 0:return new Date(wt.getFullYear()-1,11,29);case 1:return wt;case 2:return new Date(wt.getFullYear(),0,3);case 3:return new Date(wt.getFullYear(),0,2);case 4:return new Date(wt.getFullYear(),0,1);case 5:return new Date(wt.getFullYear()-1,11,31);case 6:return new Date(wt.getFullYear()-1,11,30)}}function ho(wt){var yn=function Oe(l,h){for(var v=new Date(l.getTime());h>0;){var T=$o(v.getFullYear()),U=v.getMonth(),be=(T?ge:Se)[U];if(!(h>be-v.getDate()))return v.setDate(v.getDate()+h),v;h-=be-v.getDate()+1,v.setDate(1),U<11?v.setMonth(U+1):(v.setMonth(0),v.setFullYear(v.getFullYear()+1))}return v}(new Date(wt.tm_year+1900,0,1),wt.tm_yday),mo=new Date(yn.getFullYear(),0,4),Lr=new Date(yn.getFullYear()+1,0,4),as=zn(mo),so=zn(Lr);return hn(as,yn)<=0?hn(so,yn)<=0?yn.getFullYear()+1:yn.getFullYear():yn.getFullYear()-1}var ss={"%a":function(wt){return on[wt.tm_wday].substring(0,3)},"%A":function(wt){return on[wt.tm_wday]},"%b":function(wt){return Vn[wt.tm_mon].substring(0,3)},"%B":function(wt){return Vn[wt.tm_mon]},"%C":function(wt){return Qt((wt.tm_year+1900)/100|0,2)},"%d":function(wt){return Qt(wt.tm_mday,2)},"%e":function(wt){return jn(wt.tm_mday,2," ")},"%g":function(wt){return ho(wt).toString().substring(2)},"%G":function(wt){return ho(wt)},"%H":function(wt){return Qt(wt.tm_hour,2)},"%I":function(wt){var yn=wt.tm_hour;return 0==yn?yn=12:yn>12&&(yn-=12),Qt(yn,2)},"%j":function(wt){return Qt(wt.tm_mday+function N(l,h){for(var v=0,T=0;T<=h;v+=l[T++]);return v}($o(wt.tm_year+1900)?ge:Se,wt.tm_mon-1),3)},"%m":function(wt){return Qt(wt.tm_mon+1,2)},"%M":function(wt){return Qt(wt.tm_min,2)},"%n":function(){return"\n"},"%p":function(wt){return wt.tm_hour>=0&&wt.tm_hour<12?"AM":"PM"},"%S":function(wt){return Qt(wt.tm_sec,2)},"%t":function(){return"\t"},"%u":function(wt){return wt.tm_wday||7},"%U":function(wt){return Qt(Math.floor((wt.tm_yday+7-wt.tm_wday)/7),2)},"%V":function(wt){var yn=Math.floor((wt.tm_yday+7-(wt.tm_wday+6)%7)/7);if((wt.tm_wday+371-wt.tm_yday-2)%7<=2&&yn++,yn){if(53==yn){var Lr=(wt.tm_wday+371-wt.tm_yday)%7;4!=Lr&&(3!=Lr||!$o(wt.tm_year))&&(yn=1)}}else{yn=52;var mo=(wt.tm_wday+7-wt.tm_yday-1)%7;(4==mo||5==mo&&$o(wt.tm_year%400-1))&&yn++}return Qt(yn,2)},"%w":function(wt){return wt.tm_wday},"%W":function(wt){return Qt(Math.floor((wt.tm_yday+7-(wt.tm_wday+6)%7)/7),2)},"%y":function(wt){return(wt.tm_year+1900).toString().substring(2)},"%Y":function(wt){return wt.tm_year+1900},"%z":function(wt){var yn=wt.tm_gmtoff,mo=yn>=0;return yn=(yn=Math.abs(yn)/60)/60*100+yn%60,(mo?"+":"-")+String("0000"+yn).slice(-4)},"%Z":function(wt){return wt.tm_zone},"%%":function(){return"%"}};for(var bt in ke=ke.replace(/%%/g,"\0\0"),ss)ke.includes(bt)&&(ke=ke.replace(new RegExp(bt,"g"),ss[bt](be)));var zo=un(ke=ke.replace(/\0\0/g,"%"),!1);return zo.length>h?0:(function R(l,h){Qe.set(l,h)}(zo,l),zo.length-1)}(l,h,v,T)}},ra=(function Ur(){var l={a:hl};function h(ke,He){c.asm=ke.exports,Ve((de=c.asm.t).buffer),_e=c.asm.hc,function Kr(l){Pe.unshift(l)}(c.asm.u),Pr()}function v(ke){h(ke.instance)}function T(ke){return function Xi(){return fe||!ue&&!Y||"function"!=typeof fetch?Promise.resolve().then(function(){return Yr(gn)}):fetch(gn,{credentials:"same-origin"}).then(function(l){if(!l.ok)throw"failed to load wasm binary file at '"+gn+"'";return l.arrayBuffer()}).catch(function(){return Yr(gn)})}().then(function(He){return WebAssembly.instantiate(He,l)}).then(function(He){return He}).then(ke,function(He){K("failed to asynchronously prepare wasm: "+He),ir(He)})}if(Wr(),c.instantiateWasm)try{return c.instantiateWasm(l,h)}catch(ke){K("Module.instantiateWasm callback failed with error: "+ke),te(ke)}(function U(){return fe||"function"!=typeof WebAssembly.instantiateStreaming||to(gn)||"function"!=typeof fetch?T(v):fetch(gn,{credentials:"same-origin"}).then(function(ke){return WebAssembly.instantiateStreaming(ke,l).then(v,function(bt){return K("wasm streaming compile failed: "+bt),K("falling back to ArrayBuffer instantiation"),T(v)})})})().catch(te)}(),c.___wasm_call_ctors=function(){return(c.___wasm_call_ctors=c.asm.u).apply(null,arguments)},c._malloc=function(){return(ra=c._malloc=c.asm.v).apply(null,arguments)}),Wn=(c._free=function(){return(c._free=c.asm.w).apply(null,arguments)},c._main=function(){return(c._main=c.asm.x).apply(null,arguments)},c._emscripten_bind_VoidPtr___destroy___0=function(){return(Wn=c._emscripten_bind_VoidPtr___destroy___0=c.asm.y).apply(null,arguments)}),_l=c._emscripten_bind_Cloudpilot_Cloudpilot_0=function(){return(_l=c._emscripten_bind_Cloudpilot_Cloudpilot_0=c.asm.z).apply(null,arguments)},vl=c._emscripten_bind_Cloudpilot_Malloc_1=function(){return(vl=c._emscripten_bind_Cloudpilot_Malloc_1=c.asm.A).apply(null,arguments)},Jl=c._emscripten_bind_Cloudpilot_Free_1=function(){return(Jl=c._emscripten_bind_Cloudpilot_Free_1=c.asm.B).apply(null,arguments)},yt=c._emscripten_bind_Cloudpilot_Nullptr_0=function(){return(yt=c._emscripten_bind_Cloudpilot_Nullptr_0=c.asm.C).apply(null,arguments)},Hs=c._emscripten_bind_Cloudpilot_InitializeSession_3=function(){return(Hs=c._emscripten_bind_Cloudpilot_InitializeSession_3=c.asm.D).apply(null,arguments)},gr=c._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=function(){return(gr=c._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=c.asm.E).apply(null,arguments)},_s=c._emscripten_bind_Cloudpilot_RunEmulation_1=function(){return(_s=c._emscripten_bind_Cloudpilot_RunEmulation_1=c.asm.F).apply(null,arguments)},oa=c._emscripten_bind_Cloudpilot_SetClockFactor_1=function(){return(oa=c._emscripten_bind_Cloudpilot_SetClockFactor_1=c.asm.G).apply(null,arguments)},oo=c._emscripten_bind_Cloudpilot_CopyFrame_0=function(){return(oo=c._emscripten_bind_Cloudpilot_CopyFrame_0=c.asm.H).apply(null,arguments)},ns=c._emscripten_bind_Cloudpilot_IsScreenDirty_0=function(){return(ns=c._emscripten_bind_Cloudpilot_IsScreenDirty_0=c.asm.I).apply(null,arguments)},Ei=c._emscripten_bind_Cloudpilot_MarkScreenClean_0=function(){return(Ei=c._emscripten_bind_Cloudpilot_MarkScreenClean_0=c.asm.J).apply(null,arguments)},ia=c._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=function(){return(ia=c._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=c.asm.K).apply(null,arguments)},Ps=c._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=function(){return(Ps=c._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=c.asm.L).apply(null,arguments)},zs=c._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=function(){return(zs=c._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=c.asm.M).apply(null,arguments)},sa=c._emscripten_bind_Cloudpilot_QueuePenMove_2=function(){return(sa=c._emscripten_bind_Cloudpilot_QueuePenMove_2=c.asm.N).apply(null,arguments)},$a=c._emscripten_bind_Cloudpilot_QueuePenUp_0=function(){return($a=c._emscripten_bind_Cloudpilot_QueuePenUp_0=c.asm.O).apply(null,arguments)},kt=c._emscripten_bind_Cloudpilot_QueueButtonDown_1=function(){return(kt=c._emscripten_bind_Cloudpilot_QueueButtonDown_1=c.asm.P).apply(null,arguments)},Gs=c._emscripten_bind_Cloudpilot_QueueButtonUp_1=function(){return(Gs=c._emscripten_bind_Cloudpilot_QueueButtonUp_1=c.asm.Q).apply(null,arguments)},po=c._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=function(){return(po=c._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=c.asm.R).apply(null,arguments)},sr=c._emscripten_bind_Cloudpilot_IsPowerOff_0=function(){return(sr=c._emscripten_bind_Cloudpilot_IsPowerOff_0=c.asm.S).apply(null,arguments)},qr=c._emscripten_bind_Cloudpilot_IsUIInitialized_0=function(){return(qr=c._emscripten_bind_Cloudpilot_IsUIInitialized_0=c.asm.T).apply(null,arguments)},Rr=c._emscripten_bind_Cloudpilot_GetOSVersion_0=function(){return(Rr=c._emscripten_bind_Cloudpilot_GetOSVersion_0=c.asm.U).apply(null,arguments)},p=c._emscripten_bind_Cloudpilot_IsSetupComplete_0=function(){return(p=c._emscripten_bind_Cloudpilot_IsSetupComplete_0=c.asm.V).apply(null,arguments)},y=c._emscripten_bind_Cloudpilot_Reset_0=function(){return(y=c._emscripten_bind_Cloudpilot_Reset_0=c.asm.W).apply(null,arguments)},b=c._emscripten_bind_Cloudpilot_ResetNoExtensions_0=function(){return(b=c._emscripten_bind_Cloudpilot_ResetNoExtensions_0=c.asm.X).apply(null,arguments)},F=c._emscripten_bind_Cloudpilot_ResetHard_0=function(){return(F=c._emscripten_bind_Cloudpilot_ResetHard_0=c.asm.Y).apply(null,arguments)},H=c._emscripten_bind_Cloudpilot_InstallDb_2=function(){return(H=c._emscripten_bind_Cloudpilot_InstallDb_2=c.asm.Z).apply(null,arguments)},ve=c._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=function(){return(ve=c._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=c.asm._).apply(null,arguments)},Ee=c._emscripten_bind_Cloudpilot_GetMemoryPtr_0=function(){return(Ee=c._emscripten_bind_Cloudpilot_GetMemoryPtr_0=c.asm.$).apply(null,arguments)},je=c._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=function(){return(je=c._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=c.asm.aa).apply(null,arguments)},Et=c._emscripten_bind_Cloudpilot_GetMemorySize_0=function(){return(Et=c._emscripten_bind_Cloudpilot_GetMemorySize_0=c.asm.ba).apply(null,arguments)},pn=c._emscripten_bind_Cloudpilot_ImportMemoryImage_2=function(){return(pn=c._emscripten_bind_Cloudpilot_ImportMemoryImage_2=c.asm.ca).apply(null,arguments)},Tn=c._emscripten_bind_Cloudpilot_GetRomPtr_0=function(){return(Tn=c._emscripten_bind_Cloudpilot_GetRomPtr_0=c.asm.da).apply(null,arguments)},An=c._emscripten_bind_Cloudpilot_GetRomSize_0=function(){return(An=c._emscripten_bind_Cloudpilot_GetRomSize_0=c.asm.ea).apply(null,arguments)},Wt=c._emscripten_bind_Cloudpilot_GetSavestatePtr_0=function(){return(Wt=c._emscripten_bind_Cloudpilot_GetSavestatePtr_0=c.asm.fa).apply(null,arguments)},Yt=c._emscripten_bind_Cloudpilot_GetSavestateSize_0=function(){return(Yt=c._emscripten_bind_Cloudpilot_GetSavestateSize_0=c.asm.ga).apply(null,arguments)},ne=c._emscripten_bind_Cloudpilot_SaveState_0=function(){return(ne=c._emscripten_bind_Cloudpilot_SaveState_0=c.asm.ha).apply(null,arguments)},Tr=c._emscripten_bind_Cloudpilot_LoadState_2=function(){return(Tr=c._emscripten_bind_Cloudpilot_LoadState_2=c.asm.ia).apply(null,arguments)},bn=c._emscripten_bind_Cloudpilot_GetHotsyncName_0=function(){return(bn=c._emscripten_bind_Cloudpilot_GetHotsyncName_0=c.asm.ja).apply(null,arguments)},Jr=c._emscripten_bind_Cloudpilot_SetHotsyncName_1=function(){return(Jr=c._emscripten_bind_Cloudpilot_SetHotsyncName_1=c.asm.ka).apply(null,arguments)},ht=c._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=function(){return(ht=c._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=c.asm.la).apply(null,arguments)},Xt=c._emscripten_bind_Cloudpilot_StartBackup_0=function(){return(Xt=c._emscripten_bind_Cloudpilot_StartBackup_0=c.asm.ma).apply(null,arguments)},jr=c._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=function(){return(jr=c._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=c.asm.na).apply(null,arguments)},fr=c._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=function(){return(fr=c._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=c.asm.oa).apply(null,arguments)},pr=c._emscripten_bind_Cloudpilot_IsSuspended_0=function(){return(pr=c._emscripten_bind_Cloudpilot_IsSuspended_0=c.asm.pa).apply(null,arguments)},Zn=c._emscripten_bind_Cloudpilot_GetSuspendContext_0=function(){return(Zn=c._emscripten_bind_Cloudpilot_GetSuspendContext_0=c.asm.qa).apply(null,arguments)},yr=c._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=function(){return(yr=c._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=c.asm.ra).apply(null,arguments)},pd=c._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=function(){return(pd=c._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=c.asm.sa).apply(null,arguments)},hd=c._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=function(){return(hd=c._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=c.asm.ta).apply(null,arguments)},Fi=c._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=function(){return(Fi=c._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=c.asm.ua).apply(null,arguments)},rs=c._emscripten_bind_Cloudpilot_LaunchAppByName_1=function(){return(rs=c._emscripten_bind_Cloudpilot_LaunchAppByName_1=c.asm.va).apply(null,arguments)},rr=c._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=function(){return(rr=c._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=c.asm.wa).apply(null,arguments)},Rn=c._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=function(){return(Rn=c._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=c.asm.xa).apply(null,arguments)},To=c._emscripten_bind_Cloudpilot_ClearExternalStorage_0=function(){return(To=c._emscripten_bind_Cloudpilot_ClearExternalStorage_0=c.asm.ya).apply(null,arguments)},io=c._emscripten_bind_Cloudpilot_AllocateCard_2=function(){return(io=c._emscripten_bind_Cloudpilot_AllocateCard_2=c.asm.za).apply(null,arguments)},Fr=c._emscripten_bind_Cloudpilot_MountCard_1=function(){return(Fr=c._emscripten_bind_Cloudpilot_MountCard_1=c.asm.Aa).apply(null,arguments)},Zt=c._emscripten_bind_Cloudpilot_RemoveCard_1=function(){return(Zt=c._emscripten_bind_Cloudpilot_RemoveCard_1=c.asm.Ba).apply(null,arguments)},Er=c._emscripten_bind_Cloudpilot_GetCardData_1=function(){return(Er=c._emscripten_bind_Cloudpilot_GetCardData_1=c.asm.Ca).apply(null,arguments)},_r=c._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=function(){return(_r=c._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=c.asm.Da).apply(null,arguments)},Xe=c._emscripten_bind_Cloudpilot_GetCardSize_1=function(){return(Xe=c._emscripten_bind_Cloudpilot_GetCardSize_1=c.asm.Ea).apply(null,arguments)},d=c._emscripten_bind_Cloudpilot_RemountCards_0=function(){return(d=c._emscripten_bind_Cloudpilot_RemountCards_0=c.asm.Fa).apply(null,arguments)},g=c._emscripten_bind_Cloudpilot_GetSupportLevel_1=function(){return(g=c._emscripten_bind_Cloudpilot_GetSupportLevel_1=c.asm.Ga).apply(null,arguments)},C=c._emscripten_bind_Cloudpilot_GetMountedKey_0=function(){return(C=c._emscripten_bind_Cloudpilot_GetMountedKey_0=c.asm.Ha).apply(null,arguments)},M=c._emscripten_bind_Cloudpilot___destroy___0=function(){return(M=c._emscripten_bind_Cloudpilot___destroy___0=c.asm.Ia).apply(null,arguments)},Z=c._emscripten_bind_RomInfo_RomInfo_2=function(){return(Z=c._emscripten_bind_RomInfo_RomInfo_2=c.asm.Ja).apply(null,arguments)},Ce=c._emscripten_bind_RomInfo_IsValid_0=function(){return(Ce=c._emscripten_bind_RomInfo_IsValid_0=c.asm.Ka).apply(null,arguments)},ee=c._emscripten_bind_RomInfo_CardVersion_0=function(){return(ee=c._emscripten_bind_RomInfo_CardVersion_0=c.asm.La).apply(null,arguments)},xe=c._emscripten_bind_RomInfo_CardName_0=function(){return(xe=c._emscripten_bind_RomInfo_CardName_0=c.asm.Ma).apply(null,arguments)},ut=c._emscripten_bind_RomInfo_RomVersion_0=function(){return(ut=c._emscripten_bind_RomInfo_RomVersion_0=c.asm.Na).apply(null,arguments)},$t=c._emscripten_bind_RomInfo_RomVersionString_0=function(){return($t=c._emscripten_bind_RomInfo_RomVersionString_0=c.asm.Oa).apply(null,arguments)},mn=c._emscripten_bind_RomInfo_Supports_1=function(){return(mn=c._emscripten_bind_RomInfo_Supports_1=c.asm.Pa).apply(null,arguments)},Fn=c._emscripten_bind_RomInfo___destroy___0=function(){return(Fn=c._emscripten_bind_RomInfo___destroy___0=c.asm.Qa).apply(null,arguments)},Vt=c._emscripten_bind_Frame_GetLineWidth_0=function(){return(Vt=c._emscripten_bind_Frame_GetLineWidth_0=c.asm.Ra).apply(null,arguments)},jt=c._emscripten_bind_Frame_GetBpp_0=function(){return(jt=c._emscripten_bind_Frame_GetBpp_0=c.asm.Sa).apply(null,arguments)},mt=c._emscripten_bind_Frame_GetLines_0=function(){return(mt=c._emscripten_bind_Frame_GetLines_0=c.asm.Ta).apply(null,arguments)},nn=c._emscripten_bind_Frame_GetMargin_0=function(){return(nn=c._emscripten_bind_Frame_GetMargin_0=c.asm.Ua).apply(null,arguments)},Kn=c._emscripten_bind_Frame_GetBytesPerLine_0=function(){return(Kn=c._emscripten_bind_Frame_GetBytesPerLine_0=c.asm.Va).apply(null,arguments)},br=c._emscripten_bind_Frame_GetFirstDirtyLine_0=function(){return(br=c._emscripten_bind_Frame_GetFirstDirtyLine_0=c.asm.Wa).apply(null,arguments)},gt=c._emscripten_bind_Frame_GetLastDirtyLine_0=function(){return(gt=c._emscripten_bind_Frame_GetLastDirtyLine_0=c.asm.Xa).apply(null,arguments)},Lt=c._emscripten_bind_Frame_GetHasChanges_0=function(){return(Lt=c._emscripten_bind_Frame_GetHasChanges_0=c.asm.Ya).apply(null,arguments)},Ar=c._emscripten_bind_Frame_GetBuffer_0=function(){return(Ar=c._emscripten_bind_Frame_GetBuffer_0=c.asm.Za).apply(null,arguments)},Dn=c._emscripten_bind_Frame_GetBufferSize_0=function(){return(Dn=c._emscripten_bind_Frame_GetBufferSize_0=c.asm._a).apply(null,arguments)},Uo=c._emscripten_bind_Frame_GetScaleX_0=function(){return(Uo=c._emscripten_bind_Frame_GetScaleX_0=c.asm.$a).apply(null,arguments)},Or=c._emscripten_bind_Frame_GetScaleY_0=function(){return(Or=c._emscripten_bind_Frame_GetScaleY_0=c.asm.ab).apply(null,arguments)},Bn=c._emscripten_bind_Frame___destroy___0=function(){return(Bn=c._emscripten_bind_Frame___destroy___0=c.asm.bb).apply(null,arguments)},Vc=c._emscripten_bind_DbBackup_Init_1=function(){return(Vc=c._emscripten_bind_DbBackup_Init_1=c.asm.cb).apply(null,arguments)},bl=c._emscripten_bind_DbBackup_IsInProgress_0=function(){return(bl=c._emscripten_bind_DbBackup_IsInProgress_0=c.asm.db).apply(null,arguments)},md=c._emscripten_bind_DbBackup_IsDone_0=function(){return(md=c._emscripten_bind_DbBackup_IsDone_0=c.asm.eb).apply(null,arguments)},Ba=c._emscripten_bind_DbBackup_GetCurrentDatabase_0=function(){return(Ba=c._emscripten_bind_DbBackup_GetCurrentDatabase_0=c.asm.fb).apply(null,arguments)},jo=c._emscripten_bind_DbBackup_Save_0=function(){return(jo=c._emscripten_bind_DbBackup_Save_0=c.asm.gb).apply(null,arguments)},wl=c._emscripten_bind_DbBackup_Skip_0=function(){return(wl=c._emscripten_bind_DbBackup_Skip_0=c.asm.hb).apply(null,arguments)},Va=c._emscripten_bind_DbBackup_GetArchivePtr_0=function(){return(Va=c._emscripten_bind_DbBackup_GetArchivePtr_0=c.asm.ib).apply(null,arguments)},vs=c._emscripten_bind_DbBackup_GetArchiveSize_0=function(){return(vs=c._emscripten_bind_DbBackup_GetArchiveSize_0=c.asm.jb).apply(null,arguments)},Cl=c._emscripten_bind_DbBackup___destroy___0=function(){return(Cl=c._emscripten_bind_DbBackup___destroy___0=c.asm.kb).apply(null,arguments)},gd=c._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=function(){return(gd=c._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=c.asm.lb).apply(null,arguments)},xr=c._emscripten_bind_SuspendContextClipboardCopy_Resume_0=function(){return(xr=c._emscripten_bind_SuspendContextClipboardCopy_Resume_0=c.asm.mb).apply(null,arguments)},Wm=c._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=function(){return(Wm=c._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=c.asm.nb).apply(null,arguments)},Uc=c._emscripten_bind_SuspendContextClipboardCopy___destroy___0=function(){return(Uc=c._emscripten_bind_SuspendContextClipboardCopy___destroy___0=c.asm.ob).apply(null,arguments)},yd=c._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=function(){return(yd=c._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=c.asm.pb).apply(null,arguments)},ec=c._emscripten_bind_SuspendContextClipboardPaste_Resume_1=function(){return(ec=c._emscripten_bind_SuspendContextClipboardPaste_Resume_1=c.asm.qb).apply(null,arguments)},tc=c._emscripten_bind_SuspendContextClipboardPaste___destroy___0=function(){return(tc=c._emscripten_bind_SuspendContextClipboardPaste___destroy___0=c.asm.rb).apply(null,arguments)},Ua=c._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=function(){return(Ua=c._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=c.asm.sb).apply(null,arguments)},ei=c._emscripten_bind_SuspendContextNetworkConnect_Resume_1=function(){return(ei=c._emscripten_bind_SuspendContextNetworkConnect_Resume_1=c.asm.tb).apply(null,arguments)},Zm=c._emscripten_bind_SuspendContextNetworkConnect___destroy___0=function(){return(Zm=c._emscripten_bind_SuspendContextNetworkConnect___destroy___0=c.asm.ub).apply(null,arguments)},Di=c._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=function(){return(Di=c._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=c.asm.vb).apply(null,arguments)},os=c._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=function(){return(os=c._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=c.asm.wb).apply(null,arguments)},jc=c._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=function(){return(jc=c._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=c.asm.xb).apply(null,arguments)},Sl=c._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=function(){return(Sl=c._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=c.asm.yb).apply(null,arguments)},nc=c._emscripten_bind_SuspendContextNetworkRpc___destroy___0=function(){return(nc=c._emscripten_bind_SuspendContextNetworkRpc___destroy___0=c.asm.zb).apply(null,arguments)},is=c._emscripten_bind_SuspendContext_GetKind_0=function(){return(is=c._emscripten_bind_SuspendContext_GetKind_0=c.asm.Ab).apply(null,arguments)},_p=c._emscripten_bind_SuspendContext_Cancel_0=function(){return(_p=c._emscripten_bind_SuspendContext_Cancel_0=c.asm.Bb).apply(null,arguments)},qm=c._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=function(){return(qm=c._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=c.asm.Cb).apply(null,arguments)},vp=c._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=function(){return(vp=c._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=c.asm.Db).apply(null,arguments)},bp=c._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=function(){return(bp=c._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=c.asm.Eb).apply(null,arguments)},Km=c._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=function(){return(Km=c._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=c.asm.Fb).apply(null,arguments)},Ym=c._emscripten_bind_SuspendContext___destroy___0=function(){return(Ym=c._emscripten_bind_SuspendContext___destroy___0=c.asm.Gb).apply(null,arguments)},Xm=c._emscripten_bind_ZipfileWalker_ZipfileWalker_2=function(){return(Xm=c._emscripten_bind_ZipfileWalker_ZipfileWalker_2=c.asm.Hb).apply(null,arguments)},Qm=c._emscripten_bind_ZipfileWalker_GetState_0=function(){return(Qm=c._emscripten_bind_ZipfileWalker_GetState_0=c.asm.Ib).apply(null,arguments)},Jm=c._emscripten_bind_ZipfileWalker_Next_0=function(){return(Jm=c._emscripten_bind_ZipfileWalker_Next_0=c.asm.Jb).apply(null,arguments)},eg=c._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=function(){return(eg=c._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=c.asm.Kb).apply(null,arguments)},tg=c._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=function(){return(tg=c._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=c.asm.Lb).apply(null,arguments)},ng=c._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=function(){return(ng=c._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=c.asm.Mb).apply(null,arguments)},rg=c._emscripten_bind_ZipfileWalker___destroy___0=function(){return(rg=c._emscripten_bind_ZipfileWalker___destroy___0=c.asm.Nb).apply(null,arguments)},og=c._emscripten_bind_SessionImage_SessionImage_0=function(){return(og=c._emscripten_bind_SessionImage_SessionImage_0=c.asm.Ob).apply(null,arguments)},ig=c._emscripten_bind_SessionImage_GetDeviceId_0=function(){return(ig=c._emscripten_bind_SessionImage_GetDeviceId_0=c.asm.Pb).apply(null,arguments)},sg=c._emscripten_bind_SessionImage_SetDeviceId_1=function(){return(sg=c._emscripten_bind_SessionImage_SetDeviceId_1=c.asm.Qb).apply(null,arguments)},_d=c._emscripten_bind_SessionImage_GetRomImage_0=function(){return(_d=c._emscripten_bind_SessionImage_GetRomImage_0=c.asm.Rb).apply(null,arguments)},vd=c._emscripten_bind_SessionImage_GetRomImageSize_0=function(){return(vd=c._emscripten_bind_SessionImage_GetRomImageSize_0=c.asm.Sb).apply(null,arguments)},ag=c._emscripten_bind_SessionImage_SetRomImage_2=function(){return(ag=c._emscripten_bind_SessionImage_SetRomImage_2=c.asm.Tb).apply(null,arguments)},lg=c._emscripten_bind_SessionImage_GetMemoryImage_0=function(){return(lg=c._emscripten_bind_SessionImage_GetMemoryImage_0=c.asm.Ub).apply(null,arguments)},cg=c._emscripten_bind_SessionImage_GetMemoryImageSize_0=function(){return(cg=c._emscripten_bind_SessionImage_GetMemoryImageSize_0=c.asm.Vb).apply(null,arguments)},aa=c._emscripten_bind_SessionImage_SetMemoryImage_2=function(){return(aa=c._emscripten_bind_SessionImage_SetMemoryImage_2=c.asm.Wb).apply(null,arguments)},wp=c._emscripten_bind_SessionImage_GetMetadata_0=function(){return(wp=c._emscripten_bind_SessionImage_GetMetadata_0=c.asm.Xb).apply(null,arguments)},Ao=c._emscripten_bind_SessionImage_GetMetadataSize_0=function(){return(Ao=c._emscripten_bind_SessionImage_GetMetadataSize_0=c.asm.Yb).apply(null,arguments)},bd=c._emscripten_bind_SessionImage_SetMetadata_2=function(){return(bd=c._emscripten_bind_SessionImage_SetMetadata_2=c.asm.Zb).apply(null,arguments)},Cp=c._emscripten_bind_SessionImage_GetSavestate_0=function(){return(Cp=c._emscripten_bind_SessionImage_GetSavestate_0=c.asm._b).apply(null,arguments)},Sp=c._emscripten_bind_SessionImage_GetSavestateSize_0=function(){return(Sp=c._emscripten_bind_SessionImage_GetSavestateSize_0=c.asm.$b).apply(null,arguments)},wd=c._emscripten_bind_SessionImage_SetSavestate_2=function(){return(wd=c._emscripten_bind_SessionImage_SetSavestate_2=c.asm.ac).apply(null,arguments)},Cd=c._emscripten_bind_SessionImage_GetVersion_0=function(){return(Cd=c._emscripten_bind_SessionImage_GetVersion_0=c.asm.bc).apply(null,arguments)},Ep=c._emscripten_bind_SessionImage_Serialize_0=function(){return(Ep=c._emscripten_bind_SessionImage_Serialize_0=c.asm.cc).apply(null,arguments)},Hc=c._emscripten_bind_SessionImage_GetSerializedImage_0=function(){return(Hc=c._emscripten_bind_SessionImage_GetSerializedImage_0=c.asm.dc).apply(null,arguments)},Dp=c._emscripten_bind_SessionImage_GetSerializedImageSize_0=function(){return(Dp=c._emscripten_bind_SessionImage_GetSerializedImageSize_0=c.asm.ec).apply(null,arguments)},Oi=c._emscripten_bind_SessionImage_Deserialize_2=function(){return(Oi=c._emscripten_bind_SessionImage_Deserialize_2=c.asm.fc).apply(null,arguments)},Sd=c._emscripten_bind_SessionImage___destroy___0=function(){return(Sd=c._emscripten_bind_SessionImage___destroy___0=c.asm.gc).apply(null,arguments)};function Ni(l){var h=c._main;try{var U=h(0,0);return function it(l,h){ce=l,function Je(l){ce=l,function rn(){return Fe}()||(c.onExit&&c.onExit(l),st=!0),V(l,new $n(l))}(l)}(U),U}catch(be){return function Ae(l){if(l instanceof $n||"unwind"==l)return ce;V(1,l)}(be)}}function kp(l){function h(){ja||(ja=!0,c.calledRun=!0,!st&&(function vn(){!c.noFSInit&&!D.init.initialized&&D.init(),D.ignorePermissions=!1,zt.init(),Kt(Pe)}(),function dr(){Kt(Mt)}(),oe(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),Ed&&Ni(),function Qn(){if(c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;)l=c.postRun.shift(),cn.unshift(l);var l;Kt(cn)}()))}l=l||X,xn>0||(function G(){if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)l=c.preRun.shift(),pt.unshift(l);var l;Kt(pt)}(),xn>0)||(c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),h()},1)):h())}if(c.___original_main=function(){return(c.___original_main=c.asm.ic).apply(null,arguments)},c.___start_em_js=244003,c.___stop_em_js=244200,c.UTF8ToString=$e,c.addFunction=function Si(l,h){if(Sr||(Sr=new WeakMap,function di(l,h){if(Sr)for(var v=l;v<l+h;v++){var T=ko(v);T&&Sr.set(T,v)}}(0,_e.length)),Sr.has(l))return Sr.get(l);var v=function Oa(){if(ts.length)return ts.pop();try{_e.grow(1)}catch(l){throw l instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":l}return _e.length-1}();try{Na(v,l)}catch(U){if(!(U instanceof TypeError))throw U;Na(v,function Io(l,h){if("function"==typeof WebAssembly.Function)return new WebAssembly.Function(function St(l){for(var h={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},v={parameters:[],results:"v"==l[0]?[]:[h[l[0]]]},T=1;T<l.length;++T)v.parameters.push(h[l[T]]),"j"===l[T]&&v.parameters.push("i32");return v}(h),l);var v=[1];!function fn(l,h){var v=l.slice(0,1),T=l.slice(1),U={i:127,p:127,j:126,f:125,d:124};h.push(96),Gt(T.length,h);for(var be=0;be<T.length;++be)h.push(U[T[be]]);"v"==v?h.push(0):h.push(1,U[v])}(h,v);var T=[0,97,115,109,1,0,0,0,1];Gt(v.length,T),T.push.apply(T,v),T.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var U=new WebAssembly.Module(new Uint8Array(T));return new WebAssembly.Instance(U,{e:{f:l}}).exports.f}(l,h))}return Sr.set(l,v),v},Un=function l(){ja||kp(),ja||(Un=l)},c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);c.preInit.length>0;)c.preInit.pop()();var Ed=!0;function Dr(){}function Co(l){return(l||Dr).__cache__}function cr(l,h){var v=Co(h),T=v[l];return T||((T=Object.create((h||Dr).prototype)).ptr=l,v[l]=T)}c.noInitialRun&&(Ed=!1),kp(),(Dr.prototype=Object.create(Dr.prototype)).constructor=Dr,Dr.prototype.__class__=Dr,Dr.__cache__={},c.WrapperObject=Dr,c.getCache=Co,c.wrapPointer=cr,c.castObject=function zc(l,h){return cr(l.ptr,h)},c.NULL=cr(0),c.destroy=function ug(l){if(!l.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";l.__destroy__(),delete Co(l.__class__)[l.ptr]},c.compare=function la(l,h){return l.ptr===h.ptr},c.getPointer=function Mp(l){return l.ptr},c.getClass=function Dd(l){return l.__class__};var Dt={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(Dt.needed){for(var l=0;l<Dt.temps.length;l++)c._free(Dt.temps[l]);Dt.temps.length=0,c._free(Dt.buffer),Dt.buffer=0,Dt.size+=Dt.needed,Dt.needed=0}Dt.buffer||(Dt.size+=128,Dt.buffer=c._malloc(Dt.size),we(Dt.buffer)),Dt.pos=0},alloc:function(l,h){we(Dt.buffer);var U,T=l.length*h.BYTES_PER_ELEMENT;return Dt.pos+(T=T+7&-8)>=Dt.size?(we(T>0),Dt.needed+=T,U=c._malloc(T),Dt.temps.push(U)):(U=Dt.buffer+Dt.pos,Dt.pos+=T),U},copy:function(l,h,v){switch(v>>>=0,h.BYTES_PER_ELEMENT){case 2:v>>>=1;break;case 4:v>>>=2;break;case 8:v>>>=3}for(var U=0;U<l.length;U++)h[v+U]=l[U]}};function Ho(l){if("string"==typeof l){var h=un(l),v=Dt.alloc(h,Qe);return Dt.copy(h,Qe,v),v}return l}function Nr(){throw"cannot construct a VoidPtr, no constructor in IDL"}function tt(){this.ptr=_l(),Co(tt)[this.ptr]=this}function eo(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),this.ptr=Z(l,h),Co(eo)[this.ptr]=this}function or(){throw"cannot construct a Frame, no constructor in IDL"}function Ir(){throw"cannot construct a DbBackup, no constructor in IDL"}function ni(){throw"cannot construct a SuspendContextClipboardCopy, no constructor in IDL"}function Ii(){throw"cannot construct a SuspendContextClipboardPaste, no constructor in IDL"}function lt(){throw"cannot construct a SuspendContextNetworkConnect, no constructor in IDL"}function wn(){throw"cannot construct a SuspendContextNetworkRpc, no constructor in IDL"}function Tt(){throw"cannot construct a SuspendContext, no constructor in IDL"}function Pt(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),this.ptr=Xm(l,h),Co(Pt)[this.ptr]=this}function Ht(){this.ptr=og(),Co(Ht)[this.ptr]=this}return(Nr.prototype=Object.create(Dr.prototype)).constructor=Nr,Nr.prototype.__class__=Nr,Nr.__cache__={},c.VoidPtr=Nr,Nr.prototype.__destroy__=Nr.prototype.__destroy__=function(){Wn(this.ptr)},(tt.prototype=Object.create(Dr.prototype)).constructor=tt,tt.prototype.__class__=tt,tt.__cache__={},c.Cloudpilot=tt,tt.prototype.Malloc=tt.prototype.Malloc=function(l){return l&&"object"==typeof l&&(l=l.ptr),cr(vl(this.ptr,l),Nr)},tt.prototype.Free=tt.prototype.Free=function(l){l&&"object"==typeof l&&(l=l.ptr),Jl(this.ptr,l)},tt.prototype.Nullptr=tt.prototype.Nullptr=function(){return cr(yt(this.ptr),Nr)},tt.prototype.InitializeSession=tt.prototype.InitializeSession=function(l,h,v){var T=this.ptr;return Dt.prepare(),l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),v=v&&"object"==typeof v?v.ptr:Ho(v),!!Hs(T,l,h,v)},tt.prototype.GetCyclesPerSecond=tt.prototype.GetCyclesPerSecond=function(){return gr(this.ptr)},tt.prototype.RunEmulation=tt.prototype.RunEmulation=function(l){return l&&"object"==typeof l&&(l=l.ptr),_s(this.ptr,l)},tt.prototype.SetClockFactor=tt.prototype.SetClockFactor=function(l){l&&"object"==typeof l&&(l=l.ptr),oa(this.ptr,l)},tt.prototype.CopyFrame=tt.prototype.CopyFrame=function(){return cr(oo(this.ptr),or)},tt.prototype.IsScreenDirty=tt.prototype.IsScreenDirty=function(){return!!ns(this.ptr)},tt.prototype.MarkScreenClean=tt.prototype.MarkScreenClean=function(){Ei(this.ptr)},tt.prototype.MinMemoryForDevice=tt.prototype.MinMemoryForDevice=function(l){var h=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ho(l),ia(h,l)},tt.prototype.FramebufferSizeForDevice=tt.prototype.FramebufferSizeForDevice=function(l){var h=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ho(l),Ps(h,l)},tt.prototype.TotalMemoryForDevice=tt.prototype.TotalMemoryForDevice=function(l){var h=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ho(l),zs(h,l)},tt.prototype.QueuePenMove=tt.prototype.QueuePenMove=function(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),sa(this.ptr,l,h)},tt.prototype.QueuePenUp=tt.prototype.QueuePenUp=function(){$a(this.ptr)},tt.prototype.QueueButtonDown=tt.prototype.QueueButtonDown=function(l){l&&"object"==typeof l&&(l=l.ptr),kt(this.ptr,l)},tt.prototype.QueueButtonUp=tt.prototype.QueueButtonUp=function(l){l&&"object"==typeof l&&(l=l.ptr),Gs(this.ptr,l)},tt.prototype.QueueKeyboardEvent=tt.prototype.QueueKeyboardEvent=function(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),po(this.ptr,l,h)},tt.prototype.IsPowerOff=tt.prototype.IsPowerOff=function(){return!!sr(this.ptr)},tt.prototype.IsUIInitialized=tt.prototype.IsUIInitialized=function(){return!!qr(this.ptr)},tt.prototype.GetOSVersion=tt.prototype.GetOSVersion=function(){return Rr(this.ptr)},tt.prototype.IsSetupComplete=tt.prototype.IsSetupComplete=function(){return!!p(this.ptr)},tt.prototype.Reset=tt.prototype.Reset=function(){y(this.ptr)},tt.prototype.ResetNoExtensions=tt.prototype.ResetNoExtensions=function(){b(this.ptr)},tt.prototype.ResetHard=tt.prototype.ResetHard=function(){F(this.ptr)},tt.prototype.InstallDb=tt.prototype.InstallDb=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),H(this.ptr,l,h)},tt.prototype.GetPalette2bitMapping=tt.prototype.GetPalette2bitMapping=function(){return ve(this.ptr)},tt.prototype.GetMemoryPtr=tt.prototype.GetMemoryPtr=function(){return cr(Ee(this.ptr),Nr)},tt.prototype.GetDirtyPagesPtr=tt.prototype.GetDirtyPagesPtr=function(){return cr(je(this.ptr),Nr)},tt.prototype.GetMemorySize=tt.prototype.GetMemorySize=function(){return Et(this.ptr)},tt.prototype.ImportMemoryImage=tt.prototype.ImportMemoryImage=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!pn(this.ptr,l,h)},tt.prototype.GetRomPtr=tt.prototype.GetRomPtr=function(){return cr(Tn(this.ptr),Nr)},tt.prototype.GetRomSize=tt.prototype.GetRomSize=function(){return An(this.ptr)},tt.prototype.GetSavestatePtr=tt.prototype.GetSavestatePtr=function(){return cr(Wt(this.ptr),Nr)},tt.prototype.GetSavestateSize=tt.prototype.GetSavestateSize=function(){return Yt(this.ptr)},tt.prototype.SaveState=tt.prototype.SaveState=function(){return!!ne(this.ptr)},tt.prototype.LoadState=tt.prototype.LoadState=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!Tr(this.ptr,l,h)},tt.prototype.GetHotsyncName=tt.prototype.GetHotsyncName=function(){return $e(bn(this.ptr))},tt.prototype.SetHotsyncName=tt.prototype.SetHotsyncName=function(l){var h=this.ptr;Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ho(l),Jr(h,l)},tt.prototype.RegisterPwmHandler=tt.prototype.RegisterPwmHandler=function(l){l&&"object"==typeof l&&(l=l.ptr),ht(this.ptr,l)},tt.prototype.StartBackup=tt.prototype.StartBackup=function(){return cr(Xt(this.ptr),Ir)},tt.prototype.SetClipboardIntegration=tt.prototype.SetClipboardIntegration=function(l){l&&"object"==typeof l&&(l=l.ptr),jr(this.ptr,l)},tt.prototype.GetClipboardIntegration=tt.prototype.GetClipboardIntegration=function(){return!!fr(this.ptr)},tt.prototype.IsSuspended=tt.prototype.IsSuspended=function(){return!!pr(this.ptr)},tt.prototype.GetSuspendContext=tt.prototype.GetSuspendContext=function(){return cr(Zn(this.ptr),Tt)},tt.prototype.SetNetworkRedirection=tt.prototype.SetNetworkRedirection=function(l){l&&"object"==typeof l&&(l=l.ptr),yr(this.ptr,l)},tt.prototype.GetNetworkRedirection=tt.prototype.GetNetworkRedirection=function(){return!!pd(this.ptr)},tt.prototype.RegisterProxyDisconnectHandler=tt.prototype.RegisterProxyDisconnectHandler=function(l){l&&"object"==typeof l&&(l=l.ptr),hd(this.ptr,l)},tt.prototype.SetHotsyncNameManagement=tt.prototype.SetHotsyncNameManagement=function(l){l&&"object"==typeof l&&(l=l.ptr),Fi(this.ptr,l)},tt.prototype.LaunchAppByName=tt.prototype.LaunchAppByName=function(l){var h=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ho(l),!!rs(h,l)},tt.prototype.LaunchAppByDbHeader=tt.prototype.LaunchAppByDbHeader=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!rr(this.ptr,l,h)},tt.prototype.DeviceSupportsCardSize=tt.prototype.DeviceSupportsCardSize=function(l){return l&&"object"==typeof l&&(l=l.ptr),!!Rn(this.ptr,l)},tt.prototype.ClearExternalStorage=tt.prototype.ClearExternalStorage=function(){To(this.ptr)},tt.prototype.AllocateCard=tt.prototype.AllocateCard=function(l,h){var v=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ho(l),h&&"object"==typeof h&&(h=h.ptr),!!io(v,l,h)},tt.prototype.MountCard=tt.prototype.MountCard=function(l){var h=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ho(l),!!Fr(h,l)},tt.prototype.RemoveCard=tt.prototype.RemoveCard=function(l){var h=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ho(l),!!Zt(h,l)},tt.prototype.GetCardData=tt.prototype.GetCardData=function(l){var h=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ho(l),cr(Er(h,l),Nr)},tt.prototype.GetCardDirtyPages=tt.prototype.GetCardDirtyPages=function(l){var h=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ho(l),cr(_r(h,l),Nr)},tt.prototype.GetCardSize=tt.prototype.GetCardSize=function(l){var h=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ho(l),Xe(h,l)},tt.prototype.RemountCards=tt.prototype.RemountCards=function(){d(this.ptr)},tt.prototype.GetSupportLevel=tt.prototype.GetSupportLevel=function(l){return l&&"object"==typeof l&&(l=l.ptr),g(this.ptr,l)},tt.prototype.GetMountedKey=tt.prototype.GetMountedKey=function(){return $e(C(this.ptr))},tt.prototype.__destroy__=tt.prototype.__destroy__=function(){M(this.ptr)},(eo.prototype=Object.create(Dr.prototype)).constructor=eo,eo.prototype.__class__=eo,eo.__cache__={},c.RomInfo=eo,eo.prototype.IsValid=eo.prototype.IsValid=function(){return!!Ce(this.ptr)},eo.prototype.CardVersion=eo.prototype.CardVersion=function(){return ee(this.ptr)},eo.prototype.CardName=eo.prototype.CardName=function(){return $e(xe(this.ptr))},eo.prototype.RomVersion=eo.prototype.RomVersion=function(){return ut(this.ptr)},eo.prototype.RomVersionString=eo.prototype.RomVersionString=function(){return $e($t(this.ptr))},eo.prototype.Supports=eo.prototype.Supports=function(l){var h=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ho(l),!!mn(h,l)},eo.prototype.__destroy__=eo.prototype.__destroy__=function(){Fn(this.ptr)},(or.prototype=Object.create(Dr.prototype)).constructor=or,or.prototype.__class__=or,or.__cache__={},c.Frame=or,or.prototype.GetLineWidth=or.prototype.GetLineWidth=function(){return Vt(this.ptr)},or.prototype.GetBpp=or.prototype.GetBpp=function(){return jt(this.ptr)},or.prototype.GetLines=or.prototype.GetLines=function(){return mt(this.ptr)},or.prototype.GetMargin=or.prototype.GetMargin=function(){return nn(this.ptr)},or.prototype.GetBytesPerLine=or.prototype.GetBytesPerLine=function(){return Kn(this.ptr)},or.prototype.GetFirstDirtyLine=or.prototype.GetFirstDirtyLine=function(){return br(this.ptr)},or.prototype.GetLastDirtyLine=or.prototype.GetLastDirtyLine=function(){return gt(this.ptr)},or.prototype.GetHasChanges=or.prototype.GetHasChanges=function(){return!!Lt(this.ptr)},or.prototype.GetBuffer=or.prototype.GetBuffer=function(){return cr(Ar(this.ptr),Nr)},or.prototype.GetBufferSize=or.prototype.GetBufferSize=function(){return Dn(this.ptr)},or.prototype.GetScaleX=or.prototype.GetScaleX=function(){return Uo(this.ptr)},or.prototype.GetScaleY=or.prototype.GetScaleY=function(){return Or(this.ptr)},or.prototype.__destroy__=or.prototype.__destroy__=function(){Bn(this.ptr)},(Ir.prototype=Object.create(Dr.prototype)).constructor=Ir,Ir.prototype.__class__=Ir,Ir.__cache__={},c.DbBackup=Ir,Ir.prototype.Init=Ir.prototype.Init=function(l){return l&&"object"==typeof l&&(l=l.ptr),!!Vc(this.ptr,l)},Ir.prototype.IsInProgress=Ir.prototype.IsInProgress=function(){return!!bl(this.ptr)},Ir.prototype.IsDone=Ir.prototype.IsDone=function(){return!!md(this.ptr)},Ir.prototype.GetCurrentDatabase=Ir.prototype.GetCurrentDatabase=function(){return $e(Ba(this.ptr))},Ir.prototype.Save=Ir.prototype.Save=function(){return!!jo(this.ptr)},Ir.prototype.Skip=Ir.prototype.Skip=function(){wl(this.ptr)},Ir.prototype.GetArchivePtr=Ir.prototype.GetArchivePtr=function(){return cr(Va(this.ptr),Nr)},Ir.prototype.GetArchiveSize=Ir.prototype.GetArchiveSize=function(){return vs(this.ptr)},Ir.prototype.__destroy__=Ir.prototype.__destroy__=function(){Cl(this.ptr)},(ni.prototype=Object.create(Dr.prototype)).constructor=ni,ni.prototype.__class__=ni,ni.__cache__={},c.SuspendContextClipboardCopy=ni,ni.prototype.Cancel=ni.prototype.Cancel=function(){gd(this.ptr)},ni.prototype.Resume=ni.prototype.Resume=function(){xr(this.ptr)},ni.prototype.GetClipboardContent=ni.prototype.GetClipboardContent=function(){return $e(Wm(this.ptr))},ni.prototype.__destroy__=ni.prototype.__destroy__=function(){Uc(this.ptr)},(Ii.prototype=Object.create(Dr.prototype)).constructor=Ii,Ii.prototype.__class__=Ii,Ii.__cache__={},c.SuspendContextClipboardPaste=Ii,Ii.prototype.Cancel=Ii.prototype.Cancel=function(){yd(this.ptr)},Ii.prototype.Resume=Ii.prototype.Resume=function(l){var h=this.ptr;Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ho(l),ec(h,l)},Ii.prototype.__destroy__=Ii.prototype.__destroy__=function(){tc(this.ptr)},(lt.prototype=Object.create(Dr.prototype)).constructor=lt,lt.prototype.__class__=lt,lt.__cache__={},c.SuspendContextNetworkConnect=lt,lt.prototype.Cancel=lt.prototype.Cancel=function(){Ua(this.ptr)},lt.prototype.Resume=lt.prototype.Resume=function(l){var h=this.ptr;Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ho(l),ei(h,l)},lt.prototype.__destroy__=lt.prototype.__destroy__=function(){Zm(this.ptr)},(wn.prototype=Object.create(Dr.prototype)).constructor=wn,wn.prototype.__class__=wn,wn.__cache__={},c.SuspendContextNetworkRpc=wn,wn.prototype.Cancel=wn.prototype.Cancel=function(){Di(this.ptr)},wn.prototype.GetRequestSize=wn.prototype.GetRequestSize=function(){return os(this.ptr)},wn.prototype.GetRequestData=wn.prototype.GetRequestData=function(){return cr(jc(this.ptr),Nr)},wn.prototype.ReceiveResponse=wn.prototype.ReceiveResponse=function(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),Sl(this.ptr,l,h)},wn.prototype.__destroy__=wn.prototype.__destroy__=function(){nc(this.ptr)},(Tt.prototype=Object.create(Dr.prototype)).constructor=Tt,Tt.prototype.__class__=Tt,Tt.__cache__={},c.SuspendContext=Tt,Tt.prototype.GetKind=Tt.prototype.GetKind=function(){return is(this.ptr)},Tt.prototype.Cancel=Tt.prototype.Cancel=function(){_p(this.ptr)},Tt.prototype.AsContextClipboardCopy=Tt.prototype.AsContextClipboardCopy=function(){return cr(qm(this.ptr),ni)},Tt.prototype.AsContextClipboardPaste=Tt.prototype.AsContextClipboardPaste=function(){return cr(vp(this.ptr),Ii)},Tt.prototype.AsContextNetworkConnect=Tt.prototype.AsContextNetworkConnect=function(){return cr(bp(this.ptr),lt)},Tt.prototype.AsContextNetworkRpc=Tt.prototype.AsContextNetworkRpc=function(){return cr(Km(this.ptr),wn)},Tt.prototype.__destroy__=Tt.prototype.__destroy__=function(){Ym(this.ptr)},(Pt.prototype=Object.create(Dr.prototype)).constructor=Pt,Pt.prototype.__class__=Pt,Pt.__cache__={},c.ZipfileWalker=Pt,Pt.prototype.GetState=Pt.prototype.GetState=function(){return Qm(this.ptr)},Pt.prototype.Next=Pt.prototype.Next=function(){return Jm(this.ptr)},Pt.prototype.GetCurrentEntrySize=Pt.prototype.GetCurrentEntrySize=function(){return eg(this.ptr)},Pt.prototype.GetCurrentEntryName=Pt.prototype.GetCurrentEntryName=function(){return $e(tg(this.ptr))},Pt.prototype.GetCurrentEntryContent=Pt.prototype.GetCurrentEntryContent=function(){return cr(ng(this.ptr),Nr)},Pt.prototype.__destroy__=Pt.prototype.__destroy__=function(){rg(this.ptr)},(Ht.prototype=Object.create(Dr.prototype)).constructor=Ht,Ht.prototype.__class__=Ht,Ht.__cache__={},c.SessionImage=Ht,Ht.prototype.GetDeviceId=Ht.prototype.GetDeviceId=function(){return $e(ig(this.ptr))},Ht.prototype.SetDeviceId=Ht.prototype.SetDeviceId=function(l){var h=this.ptr;return Dt.prepare(),l=l&&"object"==typeof l?l.ptr:Ho(l),cr(sg(h,l),Ht)},Ht.prototype.GetRomImage=Ht.prototype.GetRomImage=function(){return cr(_d(this.ptr),Nr)},Ht.prototype.GetRomImageSize=Ht.prototype.GetRomImageSize=function(){return vd(this.ptr)},Ht.prototype.SetRomImage=Ht.prototype.SetRomImage=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),cr(ag(this.ptr,l,h),Ht)},Ht.prototype.GetMemoryImage=Ht.prototype.GetMemoryImage=function(){return cr(lg(this.ptr),Nr)},Ht.prototype.GetMemoryImageSize=Ht.prototype.GetMemoryImageSize=function(){return cg(this.ptr)},Ht.prototype.SetMemoryImage=Ht.prototype.SetMemoryImage=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),cr(aa(this.ptr,l,h),Ht)},Ht.prototype.GetMetadata=Ht.prototype.GetMetadata=function(){return cr(wp(this.ptr),Nr)},Ht.prototype.GetMetadataSize=Ht.prototype.GetMetadataSize=function(){return Ao(this.ptr)},Ht.prototype.SetMetadata=Ht.prototype.SetMetadata=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),cr(bd(this.ptr,l,h),Ht)},Ht.prototype.GetSavestate=Ht.prototype.GetSavestate=function(){return cr(Cp(this.ptr),Nr)},Ht.prototype.GetSavestateSize=Ht.prototype.GetSavestateSize=function(){return Sp(this.ptr)},Ht.prototype.SetSavestate=Ht.prototype.SetSavestate=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),cr(wd(this.ptr,l,h),Ht)},Ht.prototype.GetVersion=Ht.prototype.GetVersion=function(){return Cd(this.ptr)},Ht.prototype.Serialize=Ht.prototype.Serialize=function(){return!!Ep(this.ptr)},Ht.prototype.GetSerializedImage=Ht.prototype.GetSerializedImage=function(){return cr(Hc(this.ptr),Nr)},Ht.prototype.GetSerializedImageSize=Ht.prototype.GetSerializedImageSize=function(){return Dp(this.ptr)},Ht.prototype.Deserialize=Ht.prototype.Deserialize=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!Oi(this.ptr,l,h)},Ht.prototype.__destroy__=Ht.prototype.__destroy__=function(){Sd(this.ptr)},I.ready});Be.exports=Ge},9084:Be=>{var P,Ge=(P=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(I){var oe,te,c=typeof(I=I||{})<"u"?I:{};c.ready=new Promise(function(p,y){oe=p,te=y});var j,Re,Le,z=Object.assign({},c),X=[],L="./this.program",V=(p,y)=>{throw y},ue="object"==typeof window,Y="function"==typeof importScripts,B=("object"==typeof process&&"object"==typeof process.versions&&process,"");(ue||Y)&&(Y?B=self.location.href:typeof document<"u"&&document.currentScript&&(B=document.currentScript.src),P&&(B=P),B=0!==B.indexOf("blob:")?B.substr(0,B.replace(/[?#].*/,"").lastIndexOf("/")+1):"",j=p=>{var y=new XMLHttpRequest;return y.open("GET",p,!1),y.send(null),y.responseText},Y&&(Le=p=>{var y=new XMLHttpRequest;return y.open("GET",p,!1),y.responseType="arraybuffer",y.send(null),new Uint8Array(y.response)}),Re=(p,y,b)=>{var F=new XMLHttpRequest;F.open("GET",p,!0),F.responseType="arraybuffer",F.onload=()=>{200==F.status||0==F.status&&F.response?y(F.response):b()},F.onerror=b,F.send(null)});var fe,W=c.print||console.log.bind(console),K=c.printErr||console.warn.bind(console);Object.assign(c,z),z=null,c.arguments&&(X=c.arguments),c.thisProgram&&(L=c.thisProgram),c.quit&&(V=c.quit),c.wasmBinary&&(fe=c.wasmBinary);var Fe=c.noExitRuntime||!0;"object"!=typeof WebAssembly&&ir("no native wasm support detected");var de,ce,st=!1;function we(p,y){p||ir(y)}var Ue,Qe,vt,O,ye,rt,De=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Ye(p,y,b){for(var F=y+b,H=y;p[H]&&!(H>=F);)++H;if(H-y>16&&p.buffer&&De)return De.decode(p.subarray(y,H));for(var ve="";y<H;){var Ee=p[y++];if(128&Ee){var je=63&p[y++];if(192!=(224&Ee)){var Et=63&p[y++];if((Ee=224==(240&Ee)?(15&Ee)<<12|je<<6|Et:(7&Ee)<<18|je<<12|Et<<6|63&p[y++])<65536)ve+=String.fromCharCode(Ee);else{var pn=Ee-65536;ve+=String.fromCharCode(55296|pn>>10,56320|1023&pn)}}else ve+=String.fromCharCode((31&Ee)<<6|je)}else ve+=String.fromCharCode(Ee)}return ve}function $e(p,y){return p?Ye(vt,p,y):""}function Me(p,y,b,F){if(!(F>0))return 0;for(var H=b,ve=b+F-1,Ee=0;Ee<p.length;++Ee){var je=p.charCodeAt(Ee);if(je>=55296&&je<=57343&&(je=65536+((1023&je)<<10)|1023&p.charCodeAt(++Ee)),je<=127){if(b>=ve)break;y[b++]=je}else if(je<=2047){if(b+1>=ve)break;y[b++]=192|je>>6,y[b++]=128|63&je}else if(je<=65535){if(b+2>=ve)break;y[b++]=224|je>>12,y[b++]=128|je>>6&63,y[b++]=128|63&je}else{if(b+3>=ve)break;y[b++]=240|je>>18,y[b++]=128|je>>12&63,y[b++]=128|je>>6&63,y[b++]=128|63&je}}return y[b]=0,b-H}function re(p){for(var y=0,b=0;b<p.length;++b){var F=p.charCodeAt(b);F<=127?y++:F<=2047?y+=2:F>=55296&&F<=57343?(y+=4,++b):y+=3}return y}function Ve(p){Ue=p,c.HEAP8=Qe=new Int8Array(p),c.HEAP16=new Int16Array(p),c.HEAP32=O=new Int32Array(p),c.HEAPU8=vt=new Uint8Array(p),c.HEAPU16=new Uint16Array(p),c.HEAPU32=ye=new Uint32Array(p),c.HEAPF32=new Float32Array(p),c.HEAPF64=rt=new Float64Array(p)}var gn,pt=[],Pe=[],Mt=[],cn=[],xn=0,uo=null,Un=null;function Wr(p){xn++,c.monitorRunDependencies&&c.monitorRunDependencies(xn)}function Pr(p){if(xn--,c.monitorRunDependencies&&c.monitorRunDependencies(xn),0==xn&&(null!==uo&&(clearInterval(uo),uo=null),Un)){var y=Un;Un=null,y()}}function ir(p){c.onAbort&&c.onAbort(p),K(p="Aborted("+p+")"),st=!0,ce=1,p+=". Build with -sASSERTIONS for more info.";var y=new WebAssembly.RuntimeError(p);throw te(y),y}function to(p){return p.startsWith("data:application/octet-stream;base64,")}function Yr(p){try{if(p==gn&&fe)return new Uint8Array(fe);if(Le)return Le(p);throw"both async and sync fetching of the wasm failed"}catch(y){ir(y)}}to(gn="fstools_web.wasm")||(gn=function $(p){return c.locateFile?c.locateFile(p,B):B+p}(gn));var ct,le,ze={40318:()=>{throw new Error("terminated")}};function Pn(p){this.name="ExitStatus",this.message="Program terminated with exit("+p+")",this.status=p}function $n(p){for(;p.length>0;)p.shift()(c)}var Kt={isAbs:p=>"/"===p.charAt(0),splitPath:p=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(p).slice(1),normalizeArray:(p,y)=>{for(var b=0,F=p.length-1;F>=0;F--){var H=p[F];"."===H?p.splice(F,1):".."===H?(p.splice(F,1),b++):b&&(p.splice(F,1),b--)}if(y)for(;b;b--)p.unshift("..");return p},normalize:p=>{var y=Kt.isAbs(p),b="/"===p.substr(-1);return!(p=Kt.normalizeArray(p.split("/").filter(F=>!!F),!y).join("/"))&&!y&&(p="."),p&&b&&(p+="/"),(y?"/":"")+p},dirname:p=>{var y=Kt.splitPath(p),b=y[0],F=y[1];return b||F?(F&&(F=F.substr(0,F.length-1)),b+F):"."},basename:p=>{if("/"===p)return"/";var y=(p=(p=Kt.normalize(p)).replace(/\/$/,"")).lastIndexOf("/");return-1===y?p:p.substr(y+1)},join:function(){var p=Array.prototype.slice.call(arguments);return Kt.normalize(p.join("/"))},join2:(p,y)=>Kt.normalize(p+"/"+y)},hr={resolve:function(){for(var p="",y=!1,b=arguments.length-1;b>=-1&&!y;b--){var F=b>=0?arguments[b]:E.cwd();if("string"!=typeof F)throw new TypeError("Arguments to path.resolve must be strings");if(!F)return"";p=F+"/"+p,y=Kt.isAbs(F)}return(y?"/":"")+(p=Kt.normalizeArray(p.split("/").filter(H=>!!H),!y).join("/"))||"."},relative:(p,y)=>{function b(pn){for(var Tn=0;Tn<pn.length&&""===pn[Tn];Tn++);for(var An=pn.length-1;An>=0&&""===pn[An];An--);return Tn>An?[]:pn.slice(Tn,An-Tn+1)}p=hr.resolve(p).substr(1),y=hr.resolve(y).substr(1);for(var F=b(p.split("/")),H=b(y.split("/")),ve=Math.min(F.length,H.length),Ee=ve,je=0;je<ve;je++)if(F[je]!==H[je]){Ee=je;break}var Et=[];for(je=Ee;je<F.length;je++)Et.push("..");return(Et=Et.concat(H.slice(Ee))).join("/")}};function tn(p,y,b){var F=b>0?b:re(p)+1,H=new Array(F),ve=Me(p,H,0,H.length);return y&&(H.length=ve),H}var Jn={ttys:[],init:function(){},shutdown:function(){},register:function(p,y){Jn.ttys[p]={input:[],output:[],ops:y},E.registerDevice(p,Jn.stream_ops)},stream_ops:{open:function(p){var y=Jn.ttys[p.node.rdev];if(!y)throw new E.ErrnoError(43);p.tty=y,p.seekable=!1},close:function(p){p.tty.ops.fsync(p.tty)},fsync:function(p){p.tty.ops.fsync(p.tty)},read:function(p,y,b,F,H){if(!p.tty||!p.tty.ops.get_char)throw new E.ErrnoError(60);for(var ve=0,Ee=0;Ee<F;Ee++){var je;try{je=p.tty.ops.get_char(p.tty)}catch{throw new E.ErrnoError(29)}if(void 0===je&&0===ve)throw new E.ErrnoError(6);if(null==je)break;ve++,y[b+Ee]=je}return ve&&(p.node.timestamp=Date.now()),ve},write:function(p,y,b,F,H){if(!p.tty||!p.tty.ops.put_char)throw new E.ErrnoError(60);try{for(var ve=0;ve<F;ve++)p.tty.ops.put_char(p.tty,y[b+ve])}catch{throw new E.ErrnoError(29)}return F&&(p.node.timestamp=Date.now()),ve}},default_tty_ops:{get_char:function(p){if(!p.input.length){var y=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(y=window.prompt("Input: "))&&(y+="\n"):"function"==typeof readline&&null!==(y=readline())&&(y+="\n"),!y)return null;p.input=tn(y,!0)}return p.input.shift()},put_char:function(p,y){null===y||10===y?(W(Ye(p.output,0)),p.output=[]):0!=y&&p.output.push(y)},fsync:function(p){p.output&&p.output.length>0&&(W(Ye(p.output,0)),p.output=[])}},default_tty1_ops:{put_char:function(p,y){null===y||10===y?(K(Ye(p.output,0)),p.output=[]):0!=y&&p.output.push(y)},fsync:function(p){p.output&&p.output.length>0&&(K(Ye(p.output,0)),p.output=[])}}};function er(p){ir()}var un={ops_table:null,mount:function(p){return un.createNode(null,"/",16895,0)},createNode:function(p,y,b,F){if(E.isBlkdev(b)||E.isFIFO(b))throw new E.ErrnoError(63);un.ops_table||(un.ops_table={dir:{node:{getattr:un.node_ops.getattr,setattr:un.node_ops.setattr,lookup:un.node_ops.lookup,mknod:un.node_ops.mknod,rename:un.node_ops.rename,unlink:un.node_ops.unlink,rmdir:un.node_ops.rmdir,readdir:un.node_ops.readdir,symlink:un.node_ops.symlink},stream:{llseek:un.stream_ops.llseek}},file:{node:{getattr:un.node_ops.getattr,setattr:un.node_ops.setattr},stream:{llseek:un.stream_ops.llseek,read:un.stream_ops.read,write:un.stream_ops.write,allocate:un.stream_ops.allocate,mmap:un.stream_ops.mmap,msync:un.stream_ops.msync}},link:{node:{getattr:un.node_ops.getattr,setattr:un.node_ops.setattr,readlink:un.node_ops.readlink},stream:{}},chrdev:{node:{getattr:un.node_ops.getattr,setattr:un.node_ops.setattr},stream:E.chrdev_stream_ops}});var H=E.createNode(p,y,b,F);return E.isDir(H.mode)?(H.node_ops=un.ops_table.dir.node,H.stream_ops=un.ops_table.dir.stream,H.contents={}):E.isFile(H.mode)?(H.node_ops=un.ops_table.file.node,H.stream_ops=un.ops_table.file.stream,H.usedBytes=0,H.contents=null):E.isLink(H.mode)?(H.node_ops=un.ops_table.link.node,H.stream_ops=un.ops_table.link.stream):E.isChrdev(H.mode)&&(H.node_ops=un.ops_table.chrdev.node,H.stream_ops=un.ops_table.chrdev.stream),H.timestamp=Date.now(),p&&(p.contents[y]=H,p.timestamp=H.timestamp),H},getFileDataAsTypedArray:function(p){return p.contents?p.contents.subarray?p.contents.subarray(0,p.usedBytes):new Uint8Array(p.contents):new Uint8Array(0)},expandFileStorage:function(p,y){var b=p.contents?p.contents.length:0;if(!(b>=y)){y=Math.max(y,b*(b<1048576?2:1.125)>>>0),0!=b&&(y=Math.max(y,256));var H=p.contents;p.contents=new Uint8Array(y),p.usedBytes>0&&p.contents.set(H.subarray(0,p.usedBytes),0)}},resizeFileStorage:function(p,y){if(p.usedBytes!=y)if(0==y)p.contents=null,p.usedBytes=0;else{var b=p.contents;p.contents=new Uint8Array(y),b&&p.contents.set(b.subarray(0,Math.min(y,p.usedBytes))),p.usedBytes=y}},node_ops:{getattr:function(p){var y={};return y.dev=E.isChrdev(p.mode)?p.id:1,y.ino=p.id,y.mode=p.mode,y.nlink=1,y.uid=0,y.gid=0,y.rdev=p.rdev,y.size=E.isDir(p.mode)?4096:E.isFile(p.mode)?p.usedBytes:E.isLink(p.mode)?p.link.length:0,y.atime=new Date(p.timestamp),y.mtime=new Date(p.timestamp),y.ctime=new Date(p.timestamp),y.blksize=4096,y.blocks=Math.ceil(y.size/y.blksize),y},setattr:function(p,y){void 0!==y.mode&&(p.mode=y.mode),void 0!==y.timestamp&&(p.timestamp=y.timestamp),void 0!==y.size&&un.resizeFileStorage(p,y.size)},lookup:function(p,y){throw E.genericErrors[44]},mknod:function(p,y,b,F){return un.createNode(p,y,b,F)},rename:function(p,y,b){if(E.isDir(p.mode)){var F;try{F=E.lookupNode(y,b)}catch{}if(F)for(var H in F.contents)throw new E.ErrnoError(55)}delete p.parent.contents[p.name],p.parent.timestamp=Date.now(),p.name=b,y.contents[b]=p,y.timestamp=p.parent.timestamp,p.parent=y},unlink:function(p,y){delete p.contents[y],p.timestamp=Date.now()},rmdir:function(p,y){var b=E.lookupNode(p,y);for(var F in b.contents)throw new E.ErrnoError(55);delete p.contents[y],p.timestamp=Date.now()},readdir:function(p){var y=[".",".."];for(var b in p.contents)p.contents.hasOwnProperty(b)&&y.push(b);return y},symlink:function(p,y,b){var F=un.createNode(p,y,41471,0);return F.link=b,F},readlink:function(p){if(!E.isLink(p.mode))throw new E.ErrnoError(28);return p.link}},stream_ops:{read:function(p,y,b,F,H){var ve=p.node.contents;if(H>=p.node.usedBytes)return 0;var Ee=Math.min(p.node.usedBytes-H,F);if(Ee>8&&ve.subarray)y.set(ve.subarray(H,H+Ee),b);else for(var je=0;je<Ee;je++)y[b+je]=ve[H+je];return Ee},write:function(p,y,b,F,H,ve){if(y.buffer===Qe.buffer&&(ve=!1),!F)return 0;var Ee=p.node;if(Ee.timestamp=Date.now(),y.subarray&&(!Ee.contents||Ee.contents.subarray)){if(ve)return Ee.contents=y.subarray(b,b+F),Ee.usedBytes=F,F;if(0===Ee.usedBytes&&0===H)return Ee.contents=y.slice(b,b+F),Ee.usedBytes=F,F;if(H+F<=Ee.usedBytes)return Ee.contents.set(y.subarray(b,b+F),H),F}if(un.expandFileStorage(Ee,H+F),Ee.contents.subarray&&y.subarray)Ee.contents.set(y.subarray(b,b+F),H);else for(var je=0;je<F;je++)Ee.contents[H+je]=y[b+je];return Ee.usedBytes=Math.max(Ee.usedBytes,H+F),F},llseek:function(p,y,b){var F=y;if(1===b?F+=p.position:2===b&&E.isFile(p.node.mode)&&(F+=p.node.usedBytes),F<0)throw new E.ErrnoError(28);return F},allocate:function(p,y,b){un.expandFileStorage(p.node,y+b),p.node.usedBytes=Math.max(p.node.usedBytes,y+b)},mmap:function(p,y,b,F,H){if(!E.isFile(p.node.mode))throw new E.ErrnoError(43);var ve,Ee,je=p.node.contents;if(2&H||je.buffer!==Ue){if((b>0||b+y<je.length)&&(je=je.subarray?je.subarray(b,b+y):Array.prototype.slice.call(je,b,b+y)),Ee=!0,!(ve=er()))throw new E.ErrnoError(48);Qe.set(je,ve)}else Ee=!1,ve=je.byteOffset;return{ptr:ve,allocated:Ee}},msync:function(p,y,b,F,H){return un.stream_ops.write(p,y,0,F,b,!1),0}}},E={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(p,y={})=>{if(!(p=hr.resolve(p)))return{path:"",node:null};if((y=Object.assign({follow_mount:!0,recurse_count:0},y)).recurse_count>8)throw new E.ErrnoError(32);for(var F=p.split("/").filter(An=>!!An),H=E.root,ve="/",Ee=0;Ee<F.length;Ee++){var je=Ee===F.length-1;if(je&&y.parent)break;if(H=E.lookupNode(H,F[Ee]),ve=Kt.join2(ve,F[Ee]),E.isMountpoint(H)&&(!je||je&&y.follow_mount)&&(H=H.mounted.root),!je||y.follow)for(var Et=0;E.isLink(H.mode);){var pn=E.readlink(ve);if(ve=hr.resolve(Kt.dirname(ve),pn),H=E.lookupPath(ve,{recurse_count:y.recurse_count+1}).node,Et++>40)throw new E.ErrnoError(32)}}return{path:ve,node:H}},getPath:p=>{for(var y;;){if(E.isRoot(p)){var b=p.mount.mountpoint;return y?"/"!==b[b.length-1]?b+"/"+y:b+y:b}y=y?p.name+"/"+y:p.name,p=p.parent}},hashName:(p,y)=>{for(var b=0,F=0;F<y.length;F++)b=(b<<5)-b+y.charCodeAt(F)|0;return(p+b>>>0)%E.nameTable.length},hashAddNode:p=>{var y=E.hashName(p.parent.id,p.name);p.name_next=E.nameTable[y],E.nameTable[y]=p},hashRemoveNode:p=>{var y=E.hashName(p.parent.id,p.name);if(E.nameTable[y]===p)E.nameTable[y]=p.name_next;else for(var b=E.nameTable[y];b;){if(b.name_next===p){b.name_next=p.name_next;break}b=b.name_next}},lookupNode:(p,y)=>{var b=E.mayLookup(p);if(b)throw new E.ErrnoError(b,p);for(var F=E.hashName(p.id,y),H=E.nameTable[F];H;H=H.name_next)if(H.parent.id===p.id&&H.name===y)return H;return E.lookup(p,y)},createNode:(p,y,b,F)=>{var H=new E.FSNode(p,y,b,F);return E.hashAddNode(H),H},destroyNode:p=>{E.hashRemoveNode(p)},isRoot:p=>p===p.parent,isMountpoint:p=>!!p.mounted,isFile:p=>32768==(61440&p),isDir:p=>16384==(61440&p),isLink:p=>40960==(61440&p),isChrdev:p=>8192==(61440&p),isBlkdev:p=>24576==(61440&p),isFIFO:p=>4096==(61440&p),isSocket:p=>49152==(49152&p),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:p=>{var y=E.flagModes[p];if(typeof y>"u")throw new Error("Unknown file open mode: "+p);return y},flagsToPermissionString:p=>{var y=["r","w","rw"][3&p];return 512&p&&(y+="w"),y},nodePermissions:(p,y)=>E.ignorePermissions?0:y.includes("r")&&!(292&p.mode)||y.includes("w")&&!(146&p.mode)||y.includes("x")&&!(73&p.mode)?2:0,mayLookup:p=>E.nodePermissions(p,"x")||(p.node_ops.lookup?0:2),mayCreate:(p,y)=>{try{return E.lookupNode(p,y),20}catch{}return E.nodePermissions(p,"wx")},mayDelete:(p,y,b)=>{var F;try{F=E.lookupNode(p,y)}catch(ve){return ve.errno}var H=E.nodePermissions(p,"wx");if(H)return H;if(b){if(!E.isDir(F.mode))return 54;if(E.isRoot(F)||E.getPath(F)===E.cwd())return 10}else if(E.isDir(F.mode))return 31;return 0},mayOpen:(p,y)=>p?E.isLink(p.mode)?32:E.isDir(p.mode)&&("r"!==E.flagsToPermissionString(y)||512&y)?31:E.nodePermissions(p,E.flagsToPermissionString(y)):44,MAX_OPEN_FDS:4096,nextfd:(p=0,y=E.MAX_OPEN_FDS)=>{for(var b=p;b<=y;b++)if(!E.streams[b])return b;throw new E.ErrnoError(33)},getStream:p=>E.streams[p],createStream:(p,y,b)=>{E.FSStream||(E.FSStream=function(){this.shared={}},E.FSStream.prototype={},Object.defineProperties(E.FSStream.prototype,{object:{get:function(){return this.node},set:function(H){this.node=H}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(H){this.shared.flags=H}},position:{get:function(){return this.shared.position},set:function(H){this.shared.position=H}}})),p=Object.assign(new E.FSStream,p);var F=E.nextfd(y,b);return p.fd=F,E.streams[F]=p,p},closeStream:p=>{E.streams[p]=null},chrdev_stream_ops:{open:p=>{var y=E.getDevice(p.node.rdev);p.stream_ops=y.stream_ops,p.stream_ops.open&&p.stream_ops.open(p)},llseek:()=>{throw new E.ErrnoError(70)}},major:p=>p>>8,minor:p=>255&p,makedev:(p,y)=>p<<8|y,registerDevice:(p,y)=>{E.devices[p]={stream_ops:y}},getDevice:p=>E.devices[p],getMounts:p=>{for(var y=[],b=[p];b.length;){var F=b.pop();y.push(F),b.push.apply(b,F.mounts)}return y},syncfs:(p,y)=>{"function"==typeof p&&(y=p,p=!1),E.syncFSRequests++,E.syncFSRequests>1&&K("warning: "+E.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var b=E.getMounts(E.root.mount),F=0;function H(Ee){return E.syncFSRequests--,y(Ee)}function ve(Ee){if(Ee)return ve.errored?void 0:(ve.errored=!0,H(Ee));++F>=b.length&&H(null)}b.forEach(Ee=>{if(!Ee.type.syncfs)return ve(null);Ee.type.syncfs(Ee,p,ve)})},mount:(p,y,b)=>{var ve,F="/"===b,H=!b;if(F&&E.root)throw new E.ErrnoError(10);if(!F&&!H){var Ee=E.lookupPath(b,{follow_mount:!1});if(b=Ee.path,E.isMountpoint(ve=Ee.node))throw new E.ErrnoError(10);if(!E.isDir(ve.mode))throw new E.ErrnoError(54)}var je={type:p,opts:y,mountpoint:b,mounts:[]},Et=p.mount(je);return Et.mount=je,je.root=Et,F?E.root=Et:ve&&(ve.mounted=je,ve.mount&&ve.mount.mounts.push(je)),Et},unmount:p=>{var y=E.lookupPath(p,{follow_mount:!1});if(!E.isMountpoint(y.node))throw new E.ErrnoError(28);var b=y.node,F=b.mounted,H=E.getMounts(F);Object.keys(E.nameTable).forEach(Ee=>{for(var je=E.nameTable[Ee];je;){var Et=je.name_next;H.includes(je.mount)&&E.destroyNode(je),je=Et}}),b.mounted=null;var ve=b.mount.mounts.indexOf(F);b.mount.mounts.splice(ve,1)},lookup:(p,y)=>p.node_ops.lookup(p,y),mknod:(p,y,b)=>{var H=E.lookupPath(p,{parent:!0}).node,ve=Kt.basename(p);if(!ve||"."===ve||".."===ve)throw new E.ErrnoError(28);var Ee=E.mayCreate(H,ve);if(Ee)throw new E.ErrnoError(Ee);if(!H.node_ops.mknod)throw new E.ErrnoError(63);return H.node_ops.mknod(H,ve,y,b)},create:(p,y)=>(y=void 0!==y?y:438,y&=4095,E.mknod(p,y|=32768,0)),mkdir:(p,y)=>(y=void 0!==y?y:511,y&=1023,E.mknod(p,y|=16384,0)),mkdirTree:(p,y)=>{for(var b=p.split("/"),F="",H=0;H<b.length;++H)if(b[H]){F+="/"+b[H];try{E.mkdir(F,y)}catch(ve){if(20!=ve.errno)throw ve}}},mkdev:(p,y,b)=>(typeof b>"u"&&(b=y,y=438),E.mknod(p,y|=8192,b)),symlink:(p,y)=>{if(!hr.resolve(p))throw new E.ErrnoError(44);var F=E.lookupPath(y,{parent:!0}).node;if(!F)throw new E.ErrnoError(44);var H=Kt.basename(y),ve=E.mayCreate(F,H);if(ve)throw new E.ErrnoError(ve);if(!F.node_ops.symlink)throw new E.ErrnoError(63);return F.node_ops.symlink(F,H,p)},rename:(p,y)=>{var je,Et,b=Kt.dirname(p),F=Kt.dirname(y),H=Kt.basename(p),ve=Kt.basename(y);if(je=E.lookupPath(p,{parent:!0}).node,Et=E.lookupPath(y,{parent:!0}).node,!je||!Et)throw new E.ErrnoError(44);if(je.mount!==Et.mount)throw new E.ErrnoError(75);var An,pn=E.lookupNode(je,H),Tn=hr.relative(p,F);if("."!==Tn.charAt(0))throw new E.ErrnoError(28);if("."!==(Tn=hr.relative(y,b)).charAt(0))throw new E.ErrnoError(55);try{An=E.lookupNode(Et,ve)}catch{}if(pn!==An){var Wt=E.isDir(pn.mode),Yt=E.mayDelete(je,H,Wt);if(Yt)throw new E.ErrnoError(Yt);if(Yt=An?E.mayDelete(Et,ve,Wt):E.mayCreate(Et,ve))throw new E.ErrnoError(Yt);if(!je.node_ops.rename)throw new E.ErrnoError(63);if(E.isMountpoint(pn)||An&&E.isMountpoint(An))throw new E.ErrnoError(10);if(Et!==je&&(Yt=E.nodePermissions(je,"w")))throw new E.ErrnoError(Yt);E.hashRemoveNode(pn);try{je.node_ops.rename(pn,Et,ve)}catch(ne){throw ne}finally{E.hashAddNode(pn)}}},rmdir:p=>{var b=E.lookupPath(p,{parent:!0}).node,F=Kt.basename(p),H=E.lookupNode(b,F),ve=E.mayDelete(b,F,!0);if(ve)throw new E.ErrnoError(ve);if(!b.node_ops.rmdir)throw new E.ErrnoError(63);if(E.isMountpoint(H))throw new E.ErrnoError(10);b.node_ops.rmdir(b,F),E.destroyNode(H)},readdir:p=>{var b=E.lookupPath(p,{follow:!0}).node;if(!b.node_ops.readdir)throw new E.ErrnoError(54);return b.node_ops.readdir(b)},unlink:p=>{var b=E.lookupPath(p,{parent:!0}).node;if(!b)throw new E.ErrnoError(44);var F=Kt.basename(p),H=E.lookupNode(b,F),ve=E.mayDelete(b,F,!1);if(ve)throw new E.ErrnoError(ve);if(!b.node_ops.unlink)throw new E.ErrnoError(63);if(E.isMountpoint(H))throw new E.ErrnoError(10);b.node_ops.unlink(b,F),E.destroyNode(H)},readlink:p=>{var b=E.lookupPath(p).node;if(!b)throw new E.ErrnoError(44);if(!b.node_ops.readlink)throw new E.ErrnoError(28);return hr.resolve(E.getPath(b.parent),b.node_ops.readlink(b))},stat:(p,y)=>{var F=E.lookupPath(p,{follow:!y}).node;if(!F)throw new E.ErrnoError(44);if(!F.node_ops.getattr)throw new E.ErrnoError(63);return F.node_ops.getattr(F)},lstat:p=>E.stat(p,!0),chmod:(p,y,b)=>{var F;if(!(F="string"==typeof p?E.lookupPath(p,{follow:!b}).node:p).node_ops.setattr)throw new E.ErrnoError(63);F.node_ops.setattr(F,{mode:4095&y|-4096&F.mode,timestamp:Date.now()})},lchmod:(p,y)=>{E.chmod(p,y,!0)},fchmod:(p,y)=>{var b=E.getStream(p);if(!b)throw new E.ErrnoError(8);E.chmod(b.node,y)},chown:(p,y,b,F)=>{var H;if(!(H="string"==typeof p?E.lookupPath(p,{follow:!F}).node:p).node_ops.setattr)throw new E.ErrnoError(63);H.node_ops.setattr(H,{timestamp:Date.now()})},lchown:(p,y,b)=>{E.chown(p,y,b,!0)},fchown:(p,y,b)=>{var F=E.getStream(p);if(!F)throw new E.ErrnoError(8);E.chown(F.node,y,b)},truncate:(p,y)=>{if(y<0)throw new E.ErrnoError(28);var b;if(!(b="string"==typeof p?E.lookupPath(p,{follow:!0}).node:p).node_ops.setattr)throw new E.ErrnoError(63);if(E.isDir(b.mode))throw new E.ErrnoError(31);if(!E.isFile(b.mode))throw new E.ErrnoError(28);var H=E.nodePermissions(b,"w");if(H)throw new E.ErrnoError(H);b.node_ops.setattr(b,{size:y,timestamp:Date.now()})},ftruncate:(p,y)=>{var b=E.getStream(p);if(!b)throw new E.ErrnoError(8);if(!(2097155&b.flags))throw new E.ErrnoError(28);E.truncate(b.node,y)},utime:(p,y,b)=>{var H=E.lookupPath(p,{follow:!0}).node;H.node_ops.setattr(H,{timestamp:Math.max(y,b)})},open:(p,y,b)=>{if(""===p)throw new E.ErrnoError(44);var F;if(b=typeof b>"u"?438:b,b=64&(y="string"==typeof y?E.modeStringToFlags(y):y)?4095&b|32768:0,"object"==typeof p)F=p;else{p=Kt.normalize(p);try{F=E.lookupPath(p,{follow:!(131072&y)}).node}catch{}}var ve=!1;if(64&y)if(F){if(128&y)throw new E.ErrnoError(20)}else F=E.mknod(p,b,0),ve=!0;if(!F)throw new E.ErrnoError(44);if(E.isChrdev(F.mode)&&(y&=-513),65536&y&&!E.isDir(F.mode))throw new E.ErrnoError(54);if(!ve){var Ee=E.mayOpen(F,y);if(Ee)throw new E.ErrnoError(Ee)}512&y&&!ve&&E.truncate(F,0),y&=-131713;var je=E.createStream({node:F,path:E.getPath(F),flags:y,seekable:!0,position:0,stream_ops:F.stream_ops,ungotten:[],error:!1});return je.stream_ops.open&&je.stream_ops.open(je),c.logReadFiles&&!(1&y)&&(E.readFiles||(E.readFiles={}),p in E.readFiles||(E.readFiles[p]=1)),je},close:p=>{if(E.isClosed(p))throw new E.ErrnoError(8);p.getdents&&(p.getdents=null);try{p.stream_ops.close&&p.stream_ops.close(p)}catch(y){throw y}finally{E.closeStream(p.fd)}p.fd=null},isClosed:p=>null===p.fd,llseek:(p,y,b)=>{if(E.isClosed(p))throw new E.ErrnoError(8);if(!p.seekable||!p.stream_ops.llseek)throw new E.ErrnoError(70);if(0!=b&&1!=b&&2!=b)throw new E.ErrnoError(28);return p.position=p.stream_ops.llseek(p,y,b),p.ungotten=[],p.position},read:(p,y,b,F,H)=>{if(F<0||H<0)throw new E.ErrnoError(28);if(E.isClosed(p))throw new E.ErrnoError(8);if(1==(2097155&p.flags))throw new E.ErrnoError(8);if(E.isDir(p.node.mode))throw new E.ErrnoError(31);if(!p.stream_ops.read)throw new E.ErrnoError(28);var ve=typeof H<"u";if(ve){if(!p.seekable)throw new E.ErrnoError(70)}else H=p.position;var Ee=p.stream_ops.read(p,y,b,F,H);return ve||(p.position+=Ee),Ee},write:(p,y,b,F,H,ve)=>{if(F<0||H<0)throw new E.ErrnoError(28);if(E.isClosed(p))throw new E.ErrnoError(8);if(!(2097155&p.flags))throw new E.ErrnoError(8);if(E.isDir(p.node.mode))throw new E.ErrnoError(31);if(!p.stream_ops.write)throw new E.ErrnoError(28);p.seekable&&1024&p.flags&&E.llseek(p,0,2);var Ee=typeof H<"u";if(Ee){if(!p.seekable)throw new E.ErrnoError(70)}else H=p.position;var je=p.stream_ops.write(p,y,b,F,H,ve);return Ee||(p.position+=je),je},allocate:(p,y,b)=>{if(E.isClosed(p))throw new E.ErrnoError(8);if(y<0||b<=0)throw new E.ErrnoError(28);if(!(2097155&p.flags))throw new E.ErrnoError(8);if(!E.isFile(p.node.mode)&&!E.isDir(p.node.mode))throw new E.ErrnoError(43);if(!p.stream_ops.allocate)throw new E.ErrnoError(138);p.stream_ops.allocate(p,y,b)},mmap:(p,y,b,F,H)=>{if(2&F&&!(2&H)&&2!=(2097155&p.flags))throw new E.ErrnoError(2);if(1==(2097155&p.flags))throw new E.ErrnoError(2);if(!p.stream_ops.mmap)throw new E.ErrnoError(43);return p.stream_ops.mmap(p,y,b,F,H)},msync:(p,y,b,F,H)=>p.stream_ops.msync?p.stream_ops.msync(p,y,b,F,H):0,munmap:p=>0,ioctl:(p,y,b)=>{if(!p.stream_ops.ioctl)throw new E.ErrnoError(59);return p.stream_ops.ioctl(p,y,b)},readFile:(p,y={})=>{if(y.flags=y.flags||0,y.encoding=y.encoding||"binary","utf8"!==y.encoding&&"binary"!==y.encoding)throw new Error('Invalid encoding type "'+y.encoding+'"');var b,F=E.open(p,y.flags),ve=E.stat(p).size,Ee=new Uint8Array(ve);return E.read(F,Ee,0,ve,0),"utf8"===y.encoding?b=Ye(Ee,0):"binary"===y.encoding&&(b=Ee),E.close(F),b},writeFile:(p,y,b={})=>{b.flags=b.flags||577;var F=E.open(p,b.flags,b.mode);if("string"==typeof y){var H=new Uint8Array(re(y)+1),ve=Me(y,H,0,H.length);E.write(F,H,0,ve,void 0,b.canOwn)}else{if(!ArrayBuffer.isView(y))throw new Error("Unsupported data type");E.write(F,y,0,y.byteLength,void 0,b.canOwn)}E.close(F)},cwd:()=>E.currentPath,chdir:p=>{var y=E.lookupPath(p,{follow:!0});if(null===y.node)throw new E.ErrnoError(44);if(!E.isDir(y.node.mode))throw new E.ErrnoError(54);var b=E.nodePermissions(y.node,"x");if(b)throw new E.ErrnoError(b);E.currentPath=y.path},createDefaultDirectories:()=>{E.mkdir("/tmp"),E.mkdir("/home"),E.mkdir("/home/web_user")},createDefaultDevices:()=>{E.mkdir("/dev"),E.registerDevice(E.makedev(1,3),{read:()=>0,write:(y,b,F,H,ve)=>H}),E.mkdev("/dev/null",E.makedev(1,3)),Jn.register(E.makedev(5,0),Jn.default_tty_ops),Jn.register(E.makedev(6,0),Jn.default_tty1_ops),E.mkdev("/dev/tty",E.makedev(5,0)),E.mkdev("/dev/tty1",E.makedev(6,0));var p=function xt(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var p=new Uint8Array(1);return()=>(crypto.getRandomValues(p),p[0])}return()=>ir("randomDevice")}();E.createDevice("/dev","random",p),E.createDevice("/dev","urandom",p),E.mkdir("/dev/shm"),E.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{E.mkdir("/proc");var p=E.mkdir("/proc/self");E.mkdir("/proc/self/fd"),E.mount({mount:()=>{var y=E.createNode(p,"fd",16895,73);return y.node_ops={lookup:(b,F)=>{var ve=E.getStream(+F);if(!ve)throw new E.ErrnoError(8);var Ee={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>ve.path}};return Ee.parent=Ee,Ee}},y}},{},"/proc/self/fd")},createStandardStreams:()=>{c.stdin?E.createDevice("/dev","stdin",c.stdin):E.symlink("/dev/tty","/dev/stdin"),c.stdout?E.createDevice("/dev","stdout",null,c.stdout):E.symlink("/dev/tty","/dev/stdout"),c.stderr?E.createDevice("/dev","stderr",null,c.stderr):E.symlink("/dev/tty1","/dev/stderr"),E.open("/dev/stdin",0),E.open("/dev/stdout",1),E.open("/dev/stderr",1)},ensureErrnoError:()=>{E.ErrnoError||(E.ErrnoError=function(y,b){this.node=b,this.setErrno=function(F){this.errno=F},this.setErrno(y),this.message="FS error"},E.ErrnoError.prototype=new Error,E.ErrnoError.prototype.constructor=E.ErrnoError,[44].forEach(p=>{E.genericErrors[p]=new E.ErrnoError(p),E.genericErrors[p].stack="<generic error, no stack>"}))},staticInit:()=>{E.ensureErrnoError(),E.nameTable=new Array(4096),E.mount(un,{},"/"),E.createDefaultDirectories(),E.createDefaultDevices(),E.createSpecialDirectories(),E.filesystems={MEMFS:un}},init:(p,y,b)=>{E.init.initialized=!0,E.ensureErrnoError(),c.stdin=p||c.stdin,c.stdout=y||c.stdout,c.stderr=b||c.stderr,E.createStandardStreams()},quit:()=>{E.init.initialized=!1;for(var p=0;p<E.streams.length;p++){var y=E.streams[p];y&&E.close(y)}},getMode:(p,y)=>{var b=0;return p&&(b|=365),y&&(b|=146),b},findObject:(p,y)=>{var b=E.analyzePath(p,y);return b.exists?b.object:null},analyzePath:(p,y)=>{try{p=(b=E.lookupPath(p,{follow:!y})).path}catch{}var F={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var b=E.lookupPath(p,{parent:!0});F.parentExists=!0,F.parentPath=b.path,F.parentObject=b.node,F.name=Kt.basename(p),b=E.lookupPath(p,{follow:!y}),F.exists=!0,F.path=b.path,F.object=b.node,F.name=b.node.name,F.isRoot="/"===b.path}catch(H){F.error=H.errno}return F},createPath:(p,y,b,F)=>{p="string"==typeof p?p:E.getPath(p);for(var H=y.split("/").reverse();H.length;){var ve=H.pop();if(ve){var Ee=Kt.join2(p,ve);try{E.mkdir(Ee)}catch{}p=Ee}}return Ee},createFile:(p,y,b,F,H)=>{var ve=Kt.join2("string"==typeof p?p:E.getPath(p),y),Ee=E.getMode(F,H);return E.create(ve,Ee)},createDataFile:(p,y,b,F,H,ve)=>{var Ee=y;p&&(p="string"==typeof p?p:E.getPath(p),Ee=y?Kt.join2(p,y):p);var je=E.getMode(F,H),Et=E.create(Ee,je);if(b){if("string"==typeof b){for(var pn=new Array(b.length),Tn=0,An=b.length;Tn<An;++Tn)pn[Tn]=b.charCodeAt(Tn);b=pn}E.chmod(Et,146|je);var Wt=E.open(Et,577);E.write(Wt,b,0,b.length,0,ve),E.close(Wt),E.chmod(Et,je)}return Et},createDevice:(p,y,b,F)=>{var H=Kt.join2("string"==typeof p?p:E.getPath(p),y),ve=E.getMode(!!b,!!F);E.createDevice.major||(E.createDevice.major=64);var Ee=E.makedev(E.createDevice.major++,0);return E.registerDevice(Ee,{open:je=>{je.seekable=!1},close:je=>{F&&F.buffer&&F.buffer.length&&F(10)},read:(je,Et,pn,Tn,An)=>{for(var Wt=0,Yt=0;Yt<Tn;Yt++){var ne;try{ne=b()}catch{throw new E.ErrnoError(29)}if(void 0===ne&&0===Wt)throw new E.ErrnoError(6);if(null==ne)break;Wt++,Et[pn+Yt]=ne}return Wt&&(je.node.timestamp=Date.now()),Wt},write:(je,Et,pn,Tn,An)=>{for(var Wt=0;Wt<Tn;Wt++)try{F(Et[pn+Wt])}catch{throw new E.ErrnoError(29)}return Tn&&(je.node.timestamp=Date.now()),Wt}}),E.mkdev(H,ve,Ee)},forceLoadFile:p=>{if(p.isDevice||p.isFolder||p.link||p.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!j)throw new Error("Cannot load without read() or XMLHttpRequest.");try{p.contents=tn(j(p.url),!0),p.usedBytes=p.contents.length}catch{throw new E.ErrnoError(29)}},createLazyFile:(p,y,b,F,H)=>{function ve(){this.lengthKnown=!1,this.chunks=[]}if(ve.prototype.get=function(Yt){if(!(Yt>this.length-1||Yt<0)){var ne=Yt%this.chunkSize;return this.getter(Yt/this.chunkSize|0)[ne]}},ve.prototype.setDataGetter=function(Yt){this.getter=Yt},ve.prototype.cacheLength=function(){var Yt=new XMLHttpRequest;if(Yt.open("HEAD",b,!1),Yt.send(null),!(Yt.status>=200&&Yt.status<300||304===Yt.status))throw new Error("Couldn't load "+b+". Status: "+Yt.status);var Tr,ne=Number(Yt.getResponseHeader("Content-length")),bn=(Tr=Yt.getResponseHeader("Accept-Ranges"))&&"bytes"===Tr,Jr=(Tr=Yt.getResponseHeader("Content-Encoding"))&&"gzip"===Tr,ht=1048576;bn||(ht=ne);var jr=this;jr.setDataGetter(fr=>{var pr=fr*ht,Zn=(fr+1)*ht-1;if(Zn=Math.min(Zn,ne-1),typeof jr.chunks[fr]>"u"&&(jr.chunks[fr]=((fr,pr)=>{if(fr>pr)throw new Error("invalid range ("+fr+", "+pr+") or no bytes requested!");if(pr>ne-1)throw new Error("only "+ne+" bytes available! programmer error!");var Zn=new XMLHttpRequest;if(Zn.open("GET",b,!1),ne!==ht&&Zn.setRequestHeader("Range","bytes="+fr+"-"+pr),Zn.responseType="arraybuffer",Zn.overrideMimeType&&Zn.overrideMimeType("text/plain; charset=x-user-defined"),Zn.send(null),!(Zn.status>=200&&Zn.status<300||304===Zn.status))throw new Error("Couldn't load "+b+". Status: "+Zn.status);return void 0!==Zn.response?new Uint8Array(Zn.response||[]):tn(Zn.responseText||"",!0)})(pr,Zn)),typeof jr.chunks[fr]>"u")throw new Error("doXHR failed!");return jr.chunks[fr]}),(Jr||!ne)&&(ht=ne=1,ne=this.getter(0).length,ht=ne,W("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=ne,this._chunkSize=ht,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!Y)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var Ee=new ve;Object.defineProperties(Ee,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var je={isDevice:!1,contents:Ee}}else je={isDevice:!1,url:b};var Et=E.createFile(p,y,je,F,H);je.contents?Et.contents=je.contents:je.url&&(Et.contents=null,Et.url=je.url),Object.defineProperties(Et,{usedBytes:{get:function(){return this.contents.length}}});var pn={};function An(Wt,Yt,ne,Tr,bn){var Jr=Wt.node.contents;if(bn>=Jr.length)return 0;var ht=Math.min(Jr.length-bn,Tr);if(Jr.slice)for(var Xt=0;Xt<ht;Xt++)Yt[ne+Xt]=Jr[bn+Xt];else for(Xt=0;Xt<ht;Xt++)Yt[ne+Xt]=Jr.get(bn+Xt);return ht}return Object.keys(Et.stream_ops).forEach(Wt=>{var Yt=Et.stream_ops[Wt];pn[Wt]=function(){return E.forceLoadFile(Et),Yt.apply(null,arguments)}}),pn.read=(Wt,Yt,ne,Tr,bn)=>(E.forceLoadFile(Et),An(Wt,Yt,ne,Tr,bn)),pn.mmap=(Wt,Yt,ne,Tr,bn)=>{E.forceLoadFile(Et);var Jr=er();if(!Jr)throw new E.ErrnoError(48);return An(Wt,Qe,Jr,Yt,ne),{ptr:Jr,allocated:!0}},Et.stream_ops=pn,Et},createPreloadedFile:(p,y,b,F,H,ve,Ee,je,Et,pn)=>{var Tn=y?hr.resolve(Kt.join2(p,y)):p;function Wt(Yt){function ne(Tr){pn&&pn(),je||E.createDataFile(p,y,Tr,F,H,Et),ve&&ve(),Pr()}Browser.handledByPreloadPlugin(Yt,Tn,ne,()=>{Ee&&Ee(),Pr()})||ne(Yt)}Wr(),"string"==typeof b?function zt(p,y,b,F){var H=F?"":"al "+p;Re(p,ve=>{we(ve,'Loading data file "'+p+'" failed (no arrayBuffer).'),y(new Uint8Array(ve)),H&&Pr()},ve=>{if(!b)throw'Loading data file "'+p+'" failed.';b()}),H&&Wr()}(b,Yt=>Wt(Yt),Ee):Wt(b)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(p,y,b)=>{y=y||(()=>{}),b=b||(()=>{});var F=E.indexedDB();try{var H=F.open(E.DB_NAME(),E.DB_VERSION)}catch(ve){return b(ve)}H.onupgradeneeded=()=>{W("creating db"),H.result.createObjectStore(E.DB_STORE_NAME)},H.onsuccess=()=>{var Ee=H.result.transaction([E.DB_STORE_NAME],"readwrite"),je=Ee.objectStore(E.DB_STORE_NAME),Et=0,pn=0,Tn=p.length;function An(){0==pn?y():b()}p.forEach(Wt=>{var Yt=je.put(E.analyzePath(Wt).object.contents,Wt);Yt.onsuccess=()=>{++Et+pn==Tn&&An()},Yt.onerror=()=>{pn++,Et+pn==Tn&&An()}}),Ee.onerror=b},H.onerror=b},loadFilesFromDB:(p,y,b)=>{y=y||(()=>{}),b=b||(()=>{});var F=E.indexedDB();try{var H=F.open(E.DB_NAME(),E.DB_VERSION)}catch(ve){return b(ve)}H.onupgradeneeded=b,H.onsuccess=()=>{var ve=H.result;try{var Ee=ve.transaction([E.DB_STORE_NAME],"readonly")}catch(Wt){return void b(Wt)}var je=Ee.objectStore(E.DB_STORE_NAME),Et=0,pn=0,Tn=p.length;function An(){0==pn?y():b()}p.forEach(Wt=>{var Yt=je.get(Wt);Yt.onsuccess=()=>{E.analyzePath(Wt).exists&&E.unlink(Wt),E.createDataFile(Kt.dirname(Wt),Kt.basename(Wt),Yt.result,!0,!0,!0),++Et+pn==Tn&&An()},Yt.onerror=()=>{pn++,Et+pn==Tn&&An()}}),Ee.onerror=b},H.onerror=b}},S={DEFAULT_POLLMASK:5,calculateAt:function(p,y,b){if(Kt.isAbs(y))return y;var F;if(F=-100===p?E.cwd():S.getStreamFromFD(p).path,0==y.length){if(!b)throw new E.ErrnoError(44);return F}return Kt.join2(F,y)},doStat:function(p,y,b){try{var F=p(y)}catch(H){if(H&&H.node&&Kt.normalize(y)!==Kt.normalize(E.getPath(H.node)))return-54;throw H}return O[b>>2]=F.dev,O[b+8>>2]=F.ino,O[b+12>>2]=F.mode,ye[b+16>>2]=F.nlink,O[b+20>>2]=F.uid,O[b+24>>2]=F.gid,O[b+28>>2]=F.rdev,le=[F.size>>>0,(ct=F.size,+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[b+40>>2]=le[0],O[b+44>>2]=le[1],O[b+48>>2]=4096,O[b+52>>2]=F.blocks,le=[Math.floor(F.atime.getTime()/1e3)>>>0,(ct=Math.floor(F.atime.getTime()/1e3),+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[b+56>>2]=le[0],O[b+60>>2]=le[1],ye[b+64>>2]=0,le=[Math.floor(F.mtime.getTime()/1e3)>>>0,(ct=Math.floor(F.mtime.getTime()/1e3),+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[b+72>>2]=le[0],O[b+76>>2]=le[1],ye[b+80>>2]=0,le=[Math.floor(F.ctime.getTime()/1e3)>>>0,(ct=Math.floor(F.ctime.getTime()/1e3),+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[b+88>>2]=le[0],O[b+92>>2]=le[1],ye[b+96>>2]=0,le=[F.ino>>>0,(ct=F.ino,+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[b+104>>2]=le[0],O[b+108>>2]=le[1],0},doMsync:function(p,y,b,F,H){if(!E.isFile(y.node.mode))throw new E.ErrnoError(43);if(2&F)return 0;var ve=vt.slice(p,p+b);E.msync(y,ve,H,b,F)},varargs:void 0,get:function(){return S.varargs+=4,O[S.varargs-4>>2]},getStr:function(p){return $e(p)},getStreamFromFD:function(p){var y=E.getStream(p);if(!y)throw new E.ErrnoError(8);return y}};function D(p){return ye[p>>2]+4294967296*O[p+4>>2]}function Lo(p){return p%4==0&&(p%100!=0||p%400==0)}var Xo=[0,31,60,91,121,152,182,213,244,274,305,335],bo=[0,31,59,90,120,151,181,212,243,273,304,334];function bi(p){var y=re(p)+1,b=Io(y);return b&&Me(p,Qe,b,y),b}var Bo=[];function wo(p){try{return de.grow(p-Ue.byteLength+65535>>>16),Ve(de.buffer),1}catch{}}var Qi={};function Do(){if(!Do.strings){var y={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:L||"./this.program"};for(var b in Qi)void 0===Qi[b]?delete y[b]:y[b]=Qi[b];var F=[];for(var b in y)F.push(b+"="+y[b]);Do.strings=F}return Do.strings}function gs(p,y){ce=p,function Ci(p){ce=p,function rn(){return Fe}()||(c.onExit&&c.onExit(p),st=!0),V(p,new Pn(p))}(p)}var ci=gs,x=[31,29,31,30,31,30,31,31,30,31,30,31],N=[31,28,31,30,31,30,31,31,30,31,30,31];var Ie=function(p,y,b,F){p||(p=this),this.parent=p,this.mount=p.mount,this.mounted=null,this.id=E.nextInode++,this.name=y,this.mode=b,this.node_ops={},this.stream_ops={},this.rdev=F};Object.defineProperties(Ie.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(p){p?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(p){p?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return E.isDir(this.mode)}},isDevice:{get:function(){return E.isChrdev(this.mode)}}}),E.FSNode=Ie,E.staticInit();var Hs,Ae={o:function qn(p,y,b,F){S.varargs=F;try{y=S.getStr(y),y=S.calculateAt(p,y);var H=F?S.get():0;return E.open(y,b,H).fd}catch(ve){if(typeof E>"u"||!(ve instanceof E.ErrnoError))throw ve;return-ve.errno}},h:function On(p,y){var b=new Date(1e3*D(p));O[y>>2]=b.getUTCSeconds(),O[y+4>>2]=b.getUTCMinutes(),O[y+8>>2]=b.getUTCHours(),O[y+12>>2]=b.getUTCDate(),O[y+16>>2]=b.getUTCMonth(),O[y+20>>2]=b.getUTCFullYear()-1900,O[y+24>>2]=b.getUTCDay();var F=Date.UTC(b.getUTCFullYear(),0,1,0,0,0,0),H=(b.getTime()-F)/864e5|0;O[y+28>>2]=H},i:function $o(p,y){var b=new Date(1e3*D(p));O[y>>2]=b.getSeconds(),O[y+4>>2]=b.getMinutes(),O[y+8>>2]=b.getHours(),O[y+12>>2]=b.getDate(),O[y+16>>2]=b.getMonth(),O[y+20>>2]=b.getFullYear()-1900,O[y+24>>2]=b.getDay();var F=0|function Pi(p){return(Lo(p.getFullYear())?Xo:bo)[p.getMonth()]+p.getDate()-1}(b);O[y+28>>2]=F,O[y+36>>2]=-60*b.getTimezoneOffset();var H=new Date(b.getFullYear(),0,1),ve=new Date(b.getFullYear(),6,1).getTimezoneOffset(),Ee=H.getTimezoneOffset(),je=0|(ve!=Ee&&b.getTimezoneOffset()==Math.min(Ee,ve));O[y+32>>2]=je},j:function wi(p,y,b){var F=(new Date).getFullYear(),H=new Date(F,0,1),ve=new Date(F,6,1),Ee=H.getTimezoneOffset(),je=ve.getTimezoneOffset(),Et=Math.max(Ee,je);function pn(ne){var Tr=ne.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Tr?Tr[1]:"GMT"}ye[p>>2]=60*Et,O[y>>2]=Number(Ee!=je);var Tn=pn(H),An=pn(ve),Wt=bi(Tn),Yt=bi(An);je<Ee?(ye[b>>2]=Wt,ye[b+4>>2]=Yt):(ye[b>>2]=Yt,ye[b+4>>2]=Wt)},b:function no(){ir("")},a:function Vo(p,y,b){var F=function mr(p,y){var b;for(Bo.length=0,y>>=2;b=vt[p++];)y+=105!=b&y,Bo.push(105==b?O[y]:rt[y++>>1]),++y;return Bo}(y,b);return ze[p].apply(null,F)},c:function Xr(){return Date.now()},g:function li(p,y,b){vt.copyWithin(p,y,y+b)},m:function Zr(p){var Et,y=vt.length,b=2147483648;if((p>>>=0)>b)return!1;for(var H=1;H<=4;H*=2){var ve=y*(1+.2/H);if(ve=Math.min(ve,p+100663296),wo(Math.min(b,(Et=Math.max(p,ve))+(65536-Et%65536)%65536)))return!0}return!1},p:function Ji(p,y){var b=0;return Do().forEach(function(F,H){var ve=y+b;ye[p+4*H>>2]=ve,function ro(p,y,b){for(var F=0;F<p.length;++F)Qe[y++>>0]=p.charCodeAt(F);b||(Qe[y>>0]=0)}(F,ve),b+=F.length+1}),0},f:function fo(p,y){var b=Do();ye[p>>2]=b.length;var F=0;return b.forEach(function(H){F+=H.length+1}),ye[y>>2]=F,0},q:ci,d:function es(p){try{var y=S.getStreamFromFD(p);return E.close(y),0}catch(b){if(typeof E>"u"||!(b instanceof E.ErrnoError))throw b;return b.errno}},e:function xs(p,y,b,F){try{var ve=function As(p,y,b,F){for(var H=0,ve=0;ve<b;ve++){var Ee=ye[y>>2],je=ye[y+4>>2];y+=8;var Et=E.read(p,Qe,Ee,je,F);if(Et<0)return-1;if(H+=Et,Et<je)break}return H}(S.getStreamFromFD(p),y,b);return ye[F>>2]=ve,0}catch(Ee){if(typeof E>"u"||!(Ee instanceof E.ErrnoError))throw Ee;return Ee.errno}},k:function ui(p,y,b,F,H){try{var ve=function lr(p,y){return y+2097152>>>0<4194305-!!p?(p>>>0)+4294967296*y:NaN}(y,b);if(isNaN(ve))return 61;var Ee=S.getStreamFromFD(p);return E.llseek(Ee,ve,F),le=[Ee.position>>>0,(ct=Ee.position,+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[H>>2]=le[0],O[H+4>>2]=le[1],Ee.getdents&&0===ve&&0===F&&(Ee.getdents=null),0}catch(je){if(typeof E>"u"||!(je instanceof E.ErrnoError))throw je;return je.errno}},n:function Ri(p,y,b,F){try{var ve=function ys(p,y,b,F){for(var H=0,ve=0;ve<b;ve++){var Ee=ye[y>>2],je=ye[y+4>>2];y+=8;var Et=E.write(p,Qe,Ee,je,F);if(Et<0)return-1;H+=Et}return H}(S.getStreamFromFD(p),y,b);return ye[F>>2]=ve,0}catch(Ee){if(typeof E>"u"||!(Ee instanceof E.ErrnoError))throw Ee;return Ee.errno}},l:function R(p,y,b,F,H){return function Oe(p,y,b,F){var H=O[F+40>>2],ve={tm_sec:O[F>>2],tm_min:O[F+4>>2],tm_hour:O[F+8>>2],tm_mday:O[F+12>>2],tm_mon:O[F+16>>2],tm_year:O[F+20>>2],tm_wday:O[F+24>>2],tm_yday:O[F+28>>2],tm_isdst:O[F+32>>2],tm_gmtoff:O[F+36>>2],tm_zone:H?$e(H):""},Ee=$e(b),je={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Et in je)Ee=Ee.replace(new RegExp(Et,"g"),je[Et]);var pn=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Tn=["January","February","March","April","May","June","July","August","September","October","November","December"];function An(ht,Xt,jr){for(var fr="number"==typeof ht?ht.toString():ht||"";fr.length<Xt;)fr=jr[0]+fr;return fr}function Wt(ht,Xt){return An(ht,Xt,"0")}function Yt(ht,Xt){function jr(pr){return pr<0?-1:pr>0?1:0}var fr;return 0===(fr=jr(ht.getFullYear()-Xt.getFullYear()))&&0===(fr=jr(ht.getMonth()-Xt.getMonth()))&&(fr=jr(ht.getDate()-Xt.getDate())),fr}function ne(ht){switch(ht.getDay()){case 0:return new Date(ht.getFullYear()-1,11,29);case 1:return ht;case 2:return new Date(ht.getFullYear(),0,3);case 3:return new Date(ht.getFullYear(),0,2);case 4:return new Date(ht.getFullYear(),0,1);case 5:return new Date(ht.getFullYear()-1,11,31);case 6:return new Date(ht.getFullYear()-1,11,30)}}function Tr(ht){var Xt=function ge(p,y){for(var b=new Date(p.getTime());y>0;){var F=Lo(b.getFullYear()),H=b.getMonth(),ve=(F?x:N)[H];if(!(y>ve-b.getDate()))return b.setDate(b.getDate()+y),b;y-=ve-b.getDate()+1,b.setDate(1),H<11?b.setMonth(H+1):(b.setMonth(0),b.setFullYear(b.getFullYear()+1))}return b}(new Date(ht.tm_year+1900,0,1),ht.tm_yday),jr=new Date(Xt.getFullYear(),0,4),fr=new Date(Xt.getFullYear()+1,0,4),pr=ne(jr),Zn=ne(fr);return Yt(pr,Xt)<=0?Yt(Zn,Xt)<=0?Xt.getFullYear()+1:Xt.getFullYear():Xt.getFullYear()-1}var bn={"%a":function(ht){return pn[ht.tm_wday].substring(0,3)},"%A":function(ht){return pn[ht.tm_wday]},"%b":function(ht){return Tn[ht.tm_mon].substring(0,3)},"%B":function(ht){return Tn[ht.tm_mon]},"%C":function(ht){return Wt((ht.tm_year+1900)/100|0,2)},"%d":function(ht){return Wt(ht.tm_mday,2)},"%e":function(ht){return An(ht.tm_mday,2," ")},"%g":function(ht){return Tr(ht).toString().substring(2)},"%G":function(ht){return Tr(ht)},"%H":function(ht){return Wt(ht.tm_hour,2)},"%I":function(ht){var Xt=ht.tm_hour;return 0==Xt?Xt=12:Xt>12&&(Xt-=12),Wt(Xt,2)},"%j":function(ht){return Wt(ht.tm_mday+function tr(p,y){for(var b=0,F=0;F<=y;b+=p[F++]);return b}(Lo(ht.tm_year+1900)?x:N,ht.tm_mon-1),3)},"%m":function(ht){return Wt(ht.tm_mon+1,2)},"%M":function(ht){return Wt(ht.tm_min,2)},"%n":function(){return"\n"},"%p":function(ht){return ht.tm_hour>=0&&ht.tm_hour<12?"AM":"PM"},"%S":function(ht){return Wt(ht.tm_sec,2)},"%t":function(){return"\t"},"%u":function(ht){return ht.tm_wday||7},"%U":function(ht){return Wt(Math.floor((ht.tm_yday+7-ht.tm_wday)/7),2)},"%V":function(ht){var Xt=Math.floor((ht.tm_yday+7-(ht.tm_wday+6)%7)/7);if((ht.tm_wday+371-ht.tm_yday-2)%7<=2&&Xt++,Xt){if(53==Xt){var fr=(ht.tm_wday+371-ht.tm_yday)%7;4!=fr&&(3!=fr||!Lo(ht.tm_year))&&(Xt=1)}}else{Xt=52;var jr=(ht.tm_wday+7-ht.tm_yday-1)%7;(4==jr||5==jr&&Lo(ht.tm_year%400-1))&&Xt++}return Wt(Xt,2)},"%w":function(ht){return ht.tm_wday},"%W":function(ht){return Wt(Math.floor((ht.tm_yday+7-(ht.tm_wday+6)%7)/7),2)},"%y":function(ht){return(ht.tm_year+1900).toString().substring(2)},"%Y":function(ht){return ht.tm_year+1900},"%z":function(ht){var Xt=ht.tm_gmtoff,jr=Xt>=0;return Xt=(Xt=Math.abs(Xt)/60)/60*100+Xt%60,(jr?"+":"-")+String("0000"+Xt).slice(-4)},"%Z":function(ht){return ht.tm_zone},"%%":function(){return"%"}};for(var Et in Ee=Ee.replace(/%%/g,"\0\0"),bn)Ee.includes(Et)&&(Ee=Ee.replace(new RegExp(Et,"g"),bn[Et](ve)));var Jr=tn(Ee=Ee.replace(/\0\0/g,"%"),!1);return Jr.length>y?0:(function Se(p,y){Qe.set(p,y)}(Jr,p),Jr.length-1)}(p,y,b,F)}},Io=(function Ur(){var p={a:Ae};function y(Ee,je){c.asm=Ee.exports,Ve((de=c.asm.r).buffer),function Kr(p){Pe.unshift(p)}(c.asm.s),Pr()}function b(Ee){y(Ee.instance)}function F(Ee){return function Xi(){return fe||!ue&&!Y||"function"!=typeof fetch?Promise.resolve().then(function(){return Yr(gn)}):fetch(gn,{credentials:"same-origin"}).then(function(p){if(!p.ok)throw"failed to load wasm binary file at '"+gn+"'";return p.arrayBuffer()}).catch(function(){return Yr(gn)})}().then(function(je){return WebAssembly.instantiate(je,p)}).then(function(je){return je}).then(Ee,function(je){K("failed to asynchronously prepare wasm: "+je),ir(je)})}if(Wr(),c.instantiateWasm)try{return c.instantiateWasm(p,y)}catch(Ee){K("Module.instantiateWasm callback failed with error: "+Ee),te(Ee)}(function H(){return fe||"function"!=typeof WebAssembly.instantiateStreaming||to(gn)||"function"!=typeof fetch?F(b):fetch(gn,{credentials:"same-origin"}).then(function(Ee){return WebAssembly.instantiateStreaming(Ee,p).then(b,function(Et){return K("wasm streaming compile failed: "+Et),K("falling back to ArrayBuffer instantiation"),F(b)})})})().catch(te)}(),c.___wasm_call_ctors=function(){return(c.___wasm_call_ctors=c.asm.s).apply(null,arguments)},c._free=function(){return(c._free=c.asm.t).apply(null,arguments)},c._malloc=function(){return(Io=c._malloc=c.asm.u).apply(null,arguments)}),Qr=c._emscripten_bind_VoidPtr___destroy___0=function(){return(Qr=c._emscripten_bind_VoidPtr___destroy___0=c.asm.v).apply(null,arguments)},ko=c._emscripten_bind_FSTools_FSTools_0=function(){return(ko=c._emscripten_bind_FSTools_FSTools_0=c.asm.w).apply(null,arguments)},di=c._emscripten_bind_FSTools_Malloc_1=function(){return(di=c._emscripten_bind_FSTools_Malloc_1=c.asm.x).apply(null,arguments)},Sr=c._emscripten_bind_FSTools_Free_1=function(){return(Sr=c._emscripten_bind_FSTools_Free_1=c.asm.y).apply(null,arguments)},ts=c._emscripten_bind_FSTools_Nullptr_0=function(){return(ts=c._emscripten_bind_FSTools_Nullptr_0=c.asm.z).apply(null,arguments)},Oa=c._emscripten_bind_FSTools___destroy___0=function(){return(Oa=c._emscripten_bind_FSTools___destroy___0=c.asm.A).apply(null,arguments)},Na=c._emscripten_bind_MkfsContext_MkfsContext_0=function(){return(Na=c._emscripten_bind_MkfsContext_MkfsContext_0=c.asm.B).apply(null,arguments)},Si=c._emscripten_bind_MkfsContext_Mkfs_2=function(){return(Si=c._emscripten_bind_MkfsContext_Mkfs_2=c.asm.C).apply(null,arguments)},La=c._emscripten_bind_MkfsContext_GetImage_0=function(){return(La=c._emscripten_bind_MkfsContext_GetImage_0=c.asm.D).apply(null,arguments)},Us=c._emscripten_bind_MkfsContext_GetImageSize_0=function(){return(Us=c._emscripten_bind_MkfsContext_GetImageSize_0=c.asm.E).apply(null,arguments)},js=c._emscripten_bind_MkfsContext___destroy___0=function(){return(js=c._emscripten_bind_MkfsContext___destroy___0=c.asm.F).apply(null,arguments)},hl=c._emscripten_bind_FsckContext_FsckContext_1=function(){return(hl=c._emscripten_bind_FsckContext_FsckContext_1=c.asm.G).apply(null,arguments)},ml=c._emscripten_bind_FsckContext_GetImage_0=function(){return(ml=c._emscripten_bind_FsckContext_GetImage_0=c.asm.H).apply(null,arguments)},gl=c._emscripten_bind_FsckContext_GetDirtyPages_0=function(){return(gl=c._emscripten_bind_FsckContext_GetDirtyPages_0=c.asm.I).apply(null,arguments)},ra=c._emscripten_bind_FsckContext_GetImageSize_0=function(){return(ra=c._emscripten_bind_FsckContext_GetImageSize_0=c.asm.J).apply(null,arguments)},yl=c._emscripten_bind_FsckContext_Fsck_0=function(){return(yl=c._emscripten_bind_FsckContext_Fsck_0=c.asm.K).apply(null,arguments)},Mo=c._emscripten_bind_FsckContext_GetResult_0=function(){return(Mo=c._emscripten_bind_FsckContext_GetResult_0=c.asm.L).apply(null,arguments)},Wn=c._emscripten_bind_FsckContext___destroy___0=function(){return(Wn=c._emscripten_bind_FsckContext___destroy___0=c.asm.M).apply(null,arguments)};function _s(p){function y(){Hs||(Hs=!0,c.calledRun=!0,!st&&(function vn(){!c.noFSInit&&!E.init.initialized&&E.init(),E.ignorePermissions=!1,Jn.init(),$n(Pe)}(),function dr(){$n(Mt)}(),oe(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),oa&&function gr(p){var y=c._main;try{var H=y(0,0);return gs(H),H}catch(ve){return function pe(p){if(p instanceof Pn||"unwind"==p)return ce;V(1,p)}(ve)}}(),function Qn(){if(c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;)p=c.postRun.shift(),cn.unshift(p);var p;$n(cn)}()))}p=p||X,xn>0||(function G(){if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)p=c.preRun.shift(),pt.unshift(p);var p;$n(pt)}(),xn>0)||(c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),y()},1)):y())}if(c._main=function(){return(c._main=c.asm.N).apply(null,arguments)},c.___original_main=function(){return(c.___original_main=c.asm.P).apply(null,arguments)},c.___start_em_js=40220,c.___stop_em_js=40318,Un=function p(){Hs||_s(),Hs||(Un=p)},c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);c.preInit.length>0;)c.preInit.pop()();var oa=!0;function oo(){}function ns(p){return(p||oo).__cache__}function Ei(p,y){var b=ns(y),F=b[p];return F||((F=Object.create((y||oo).prototype)).ptr=p,b[p]=F)}c.noInitialRun&&(oa=!1),_s(),(oo.prototype=Object.create(oo.prototype)).constructor=oo,oo.prototype.__class__=oo,oo.__cache__={},c.WrapperObject=oo,c.getCache=ns,c.wrapPointer=Ei,c.castObject=function ia(p,y){return Ei(p.ptr,y)},c.NULL=Ei(0),c.destroy=function Ps(p){if(!p.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";p.__destroy__(),delete ns(p.__class__)[p.ptr]},c.compare=function zs(p,y){return p.ptr===y.ptr},c.getPointer=function sa(p){return p.ptr},c.getClass=function $a(p){return p.__class__};var kt={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(kt.needed){for(var p=0;p<kt.temps.length;p++)c._free(kt.temps[p]);kt.temps.length=0,c._free(kt.buffer),kt.buffer=0,kt.size+=kt.needed,kt.needed=0}kt.buffer||(kt.size+=128,kt.buffer=c._malloc(kt.size),we(kt.buffer)),kt.pos=0},alloc:function(p,y){we(kt.buffer);var H,F=p.length*y.BYTES_PER_ELEMENT;return kt.pos+(F=F+7&-8)>=kt.size?(we(F>0),kt.needed+=F,H=c._malloc(F),kt.temps.push(H)):(H=kt.buffer+kt.pos,kt.pos+=F),H},copy:function(p,y,b){switch(b>>>=0,y.BYTES_PER_ELEMENT){case 2:b>>>=1;break;case 4:b>>>=2;break;case 8:b>>>=3}for(var H=0;H<p.length;H++)y[b+H]=p[H]}};function po(){throw"cannot construct a VoidPtr, no constructor in IDL"}function sr(){this.ptr=ko(),ns(sr)[this.ptr]=this}function qr(){this.ptr=Na(),ns(qr)[this.ptr]=this}function Rr(p){p&&"object"==typeof p&&(p=p.ptr),this.ptr=hl(p),ns(Rr)[this.ptr]=this}return(po.prototype=Object.create(oo.prototype)).constructor=po,po.prototype.__class__=po,po.__cache__={},c.VoidPtr=po,po.prototype.__destroy__=po.prototype.__destroy__=function(){Qr(this.ptr)},(sr.prototype=Object.create(oo.prototype)).constructor=sr,sr.prototype.__class__=sr,sr.__cache__={},c.FSTools=sr,sr.prototype.Malloc=sr.prototype.Malloc=function(p){return p&&"object"==typeof p&&(p=p.ptr),Ei(di(this.ptr,p),po)},sr.prototype.Free=sr.prototype.Free=function(p){p&&"object"==typeof p&&(p=p.ptr),Sr(this.ptr,p)},sr.prototype.Nullptr=sr.prototype.Nullptr=function(){return Ei(ts(this.ptr),po)},sr.prototype.__destroy__=sr.prototype.__destroy__=function(){Oa(this.ptr)},(qr.prototype=Object.create(oo.prototype)).constructor=qr,qr.prototype.__class__=qr,qr.__cache__={},c.MkfsContext=qr,qr.prototype.Mkfs=qr.prototype.Mkfs=function(p,y){var b=this.ptr;return kt.prepare(),p&&"object"==typeof p&&(p=p.ptr),y=y&&"object"==typeof y?y.ptr:function Gs(p){if("string"==typeof p){var y=tn(p),b=kt.alloc(y,Qe);return kt.copy(y,Qe,b),b}return p}(y),!!Si(b,p,y)},qr.prototype.GetImage=qr.prototype.GetImage=function(){return Ei(La(this.ptr),po)},qr.prototype.GetImageSize=qr.prototype.GetImageSize=function(){return Us(this.ptr)},qr.prototype.__destroy__=qr.prototype.__destroy__=function(){js(this.ptr)},(Rr.prototype=Object.create(oo.prototype)).constructor=Rr,Rr.prototype.__class__=Rr,Rr.__cache__={},c.FsckContext=Rr,Rr.prototype.GetImage=Rr.prototype.GetImage=function(){return Ei(ml(this.ptr),po)},Rr.prototype.GetDirtyPages=Rr.prototype.GetDirtyPages=function(){return Ei(gl(this.ptr),po)},Rr.prototype.GetImageSize=Rr.prototype.GetImageSize=function(){return ra(this.ptr)},Rr.prototype.Fsck=Rr.prototype.Fsck=function(){return yl(this.ptr)},Rr.prototype.GetResult=Rr.prototype.GetResult=function(){return Mo(this.ptr)},Rr.prototype.__destroy__=Rr.prototype.__destroy__=function(){Wn(this.ptr)},I.ready});Be.exports=Ge},7971:Be=>{var P,Ge=(P=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(I){var oe,te,c=typeof(I=I||{})<"u"?I:{};c.ready=new Promise(function(d,g){oe=d,te=g});var j,Re,Le,z=Object.assign({},c),X=[],L="./this.program",V=(d,g)=>{throw g},ue="object"==typeof window,Y="function"==typeof importScripts,B=("object"==typeof process&&"object"==typeof process.versions&&process,"");(ue||Y)&&(Y?B=self.location.href:typeof document<"u"&&document.currentScript&&(B=document.currentScript.src),P&&(B=P),B=0!==B.indexOf("blob:")?B.substr(0,B.replace(/[?#].*/,"").lastIndexOf("/")+1):"",j=d=>{var g=new XMLHttpRequest;return g.open("GET",d,!1),g.send(null),g.responseText},Y&&(Le=d=>{var g=new XMLHttpRequest;return g.open("GET",d,!1),g.responseType="arraybuffer",g.send(null),new Uint8Array(g.response)}),Re=(d,g,C)=>{var M=new XMLHttpRequest;M.open("GET",d,!0),M.responseType="arraybuffer",M.onload=()=>{200==M.status||0==M.status&&M.response?g(M.response):C()},M.onerror=C,M.send(null)});var fe,W=c.print||console.log.bind(console),K=c.printErr||console.warn.bind(console);Object.assign(c,z),z=null,c.arguments&&(X=c.arguments),c.thisProgram&&(L=c.thisProgram),c.quit&&(V=c.quit),c.wasmBinary&&(fe=c.wasmBinary);var Fe=c.noExitRuntime||!0;"object"!=typeof WebAssembly&&ir("no native wasm support detected");var de,ce,st=!1;function we(d,g){d||ir(g)}var Ue,Qe,vt,O,ye,De=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Ye(d,g,C){for(var M=g+C,Z=g;d[Z]&&!(Z>=M);)++Z;if(Z-g>16&&d.buffer&&De)return De.decode(d.subarray(g,Z));for(var Ce="";g<Z;){var ee=d[g++];if(128&ee){var xe=63&d[g++];if(192!=(224&ee)){var ut=63&d[g++];if((ee=224==(240&ee)?(15&ee)<<12|xe<<6|ut:(7&ee)<<18|xe<<12|ut<<6|63&d[g++])<65536)Ce+=String.fromCharCode(ee);else{var $t=ee-65536;Ce+=String.fromCharCode(55296|$t>>10,56320|1023&$t)}}else Ce+=String.fromCharCode((31&ee)<<6|xe)}else Ce+=String.fromCharCode(ee)}return Ce}function $e(d,g){return d?Ye(vt,d,g):""}function Me(d,g,C,M){if(!(M>0))return 0;for(var Z=C,Ce=C+M-1,ee=0;ee<d.length;++ee){var xe=d.charCodeAt(ee);if(xe>=55296&&xe<=57343&&(xe=65536+((1023&xe)<<10)|1023&d.charCodeAt(++ee)),xe<=127){if(C>=Ce)break;g[C++]=xe}else if(xe<=2047){if(C+1>=Ce)break;g[C++]=192|xe>>6,g[C++]=128|63&xe}else if(xe<=65535){if(C+2>=Ce)break;g[C++]=224|xe>>12,g[C++]=128|xe>>6&63,g[C++]=128|63&xe}else{if(C+3>=Ce)break;g[C++]=240|xe>>18,g[C++]=128|xe>>12&63,g[C++]=128|xe>>6&63,g[C++]=128|63&xe}}return g[C]=0,C-Z}function re(d){for(var g=0,C=0;C<d.length;++C){var M=d.charCodeAt(C);M<=127?g++:M<=2047?g+=2:M>=55296&&M<=57343?(g+=4,++C):g+=3}return g}function Ve(d){Ue=d,c.HEAP8=Qe=new Int8Array(d),c.HEAP16=new Int16Array(d),c.HEAP32=O=new Int32Array(d),c.HEAPU8=vt=new Uint8Array(d),c.HEAPU16=new Uint16Array(d),c.HEAPU32=ye=new Uint32Array(d),c.HEAPF32=new Float32Array(d),c.HEAPF64=new Float64Array(d)}var gn,ct,le,pt=[],Pe=[],Mt=[],cn=[],xn=0,uo=null,Un=null;function Wr(d){xn++,c.monitorRunDependencies&&c.monitorRunDependencies(xn)}function Pr(d){if(xn--,c.monitorRunDependencies&&c.monitorRunDependencies(xn),0==xn&&(null!==uo&&(clearInterval(uo),uo=null),Un)){var g=Un;Un=null,g()}}function ir(d){c.onAbort&&c.onAbort(d),K(d="Aborted("+d+")"),st=!0,ce=1,d+=". Build with -sASSERTIONS for more info.";var g=new WebAssembly.RuntimeError(d);throw te(g),g}function to(d){return d.startsWith("data:application/octet-stream;base64,")}function Yr(d){try{if(d==gn&&fe)return new Uint8Array(fe);if(Le)return Le(d);throw"both async and sync fetching of the wasm failed"}catch(g){ir(g)}}function ze(d){this.name="ExitStatus",this.message="Program terminated with exit("+d+")",this.status=d}function Pn(d){for(;d.length>0;)d.shift()(c)}function Kt(d,g){return g+2097152>>>0<4194305-!!d?(d>>>0)+4294967296*g:NaN}to(gn="vfs_web.wasm")||(gn=function $(d){return c.locateFile?c.locateFile(d,B):B+d}(gn));var xt={isAbs:d=>"/"===d.charAt(0),splitPath:d=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(d).slice(1),normalizeArray:(d,g)=>{for(var C=0,M=d.length-1;M>=0;M--){var Z=d[M];"."===Z?d.splice(M,1):".."===Z?(d.splice(M,1),C++):C&&(d.splice(M,1),C--)}if(g)for(;C;C--)d.unshift("..");return d},normalize:d=>{var g=xt.isAbs(d),C="/"===d.substr(-1);return!(d=xt.normalizeArray(d.split("/").filter(M=>!!M),!g).join("/"))&&!g&&(d="."),d&&C&&(d+="/"),(g?"/":"")+d},dirname:d=>{var g=xt.splitPath(d),C=g[0],M=g[1];return C||M?(M&&(M=M.substr(0,M.length-1)),C+M):"."},basename:d=>{if("/"===d)return"/";var g=(d=(d=xt.normalize(d)).replace(/\/$/,"")).lastIndexOf("/");return-1===g?d:d.substr(g+1)},join:function(){var d=Array.prototype.slice.call(arguments);return xt.normalize(d.join("/"))},join2:(d,g)=>xt.normalize(d+"/"+g)},tn={resolve:function(){for(var d="",g=!1,C=arguments.length-1;C>=-1&&!g;C--){var M=C>=0?arguments[C]:S.cwd();if("string"!=typeof M)throw new TypeError("Arguments to path.resolve must be strings");if(!M)return"";d=M+"/"+d,g=xt.isAbs(M)}return(g?"/":"")+(d=xt.normalizeArray(d.split("/").filter(Z=>!!Z),!g).join("/"))||"."},relative:(d,g)=>{function C($t){for(var mn=0;mn<$t.length&&""===$t[mn];mn++);for(var Fn=$t.length-1;Fn>=0&&""===$t[Fn];Fn--);return mn>Fn?[]:$t.slice(mn,Fn-mn+1)}d=tn.resolve(d).substr(1),g=tn.resolve(g).substr(1);for(var M=C(d.split("/")),Z=C(g.split("/")),Ce=Math.min(M.length,Z.length),ee=Ce,xe=0;xe<Ce;xe++)if(M[xe]!==Z[xe]){ee=xe;break}var ut=[];for(xe=ee;xe<M.length;xe++)ut.push("..");return(ut=ut.concat(Z.slice(ee))).join("/")}};function Jn(d,g,C){var M=C>0?C:re(d)+1,Z=new Array(M),Ce=Me(d,Z,0,Z.length);return g&&(Z.length=Ce),Z}var er={ttys:[],init:function(){},shutdown:function(){},register:function(d,g){er.ttys[d]={input:[],output:[],ops:g},S.registerDevice(d,er.stream_ops)},stream_ops:{open:function(d){var g=er.ttys[d.node.rdev];if(!g)throw new S.ErrnoError(43);d.tty=g,d.seekable=!1},close:function(d){d.tty.ops.fsync(d.tty)},fsync:function(d){d.tty.ops.fsync(d.tty)},read:function(d,g,C,M,Z){if(!d.tty||!d.tty.ops.get_char)throw new S.ErrnoError(60);for(var Ce=0,ee=0;ee<M;ee++){var xe;try{xe=d.tty.ops.get_char(d.tty)}catch{throw new S.ErrnoError(29)}if(void 0===xe&&0===Ce)throw new S.ErrnoError(6);if(null==xe)break;Ce++,g[C+ee]=xe}return Ce&&(d.node.timestamp=Date.now()),Ce},write:function(d,g,C,M,Z){if(!d.tty||!d.tty.ops.put_char)throw new S.ErrnoError(60);try{for(var Ce=0;Ce<M;Ce++)d.tty.ops.put_char(d.tty,g[C+Ce])}catch{throw new S.ErrnoError(29)}return M&&(d.node.timestamp=Date.now()),Ce}},default_tty_ops:{get_char:function(d){if(!d.input.length){var g=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(g=window.prompt("Input: "))&&(g+="\n"):"function"==typeof readline&&null!==(g=readline())&&(g+="\n"),!g)return null;d.input=Jn(g,!0)}return d.input.shift()},put_char:function(d,g){null===g||10===g?(W(Ye(d.output,0)),d.output=[]):0!=g&&d.output.push(g)},fsync:function(d){d.output&&d.output.length>0&&(W(Ye(d.output,0)),d.output=[])}},default_tty1_ops:{put_char:function(d,g){null===g||10===g?(K(Ye(d.output,0)),d.output=[]):0!=g&&d.output.push(g)},fsync:function(d){d.output&&d.output.length>0&&(K(Ye(d.output,0)),d.output=[])}}};function un(d){ir()}var zt={ops_table:null,mount:function(d){return zt.createNode(null,"/",16895,0)},createNode:function(d,g,C,M){if(S.isBlkdev(C)||S.isFIFO(C))throw new S.ErrnoError(63);zt.ops_table||(zt.ops_table={dir:{node:{getattr:zt.node_ops.getattr,setattr:zt.node_ops.setattr,lookup:zt.node_ops.lookup,mknod:zt.node_ops.mknod,rename:zt.node_ops.rename,unlink:zt.node_ops.unlink,rmdir:zt.node_ops.rmdir,readdir:zt.node_ops.readdir,symlink:zt.node_ops.symlink},stream:{llseek:zt.stream_ops.llseek}},file:{node:{getattr:zt.node_ops.getattr,setattr:zt.node_ops.setattr},stream:{llseek:zt.stream_ops.llseek,read:zt.stream_ops.read,write:zt.stream_ops.write,allocate:zt.stream_ops.allocate,mmap:zt.stream_ops.mmap,msync:zt.stream_ops.msync}},link:{node:{getattr:zt.node_ops.getattr,setattr:zt.node_ops.setattr,readlink:zt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:zt.node_ops.getattr,setattr:zt.node_ops.setattr},stream:S.chrdev_stream_ops}});var Z=S.createNode(d,g,C,M);return S.isDir(Z.mode)?(Z.node_ops=zt.ops_table.dir.node,Z.stream_ops=zt.ops_table.dir.stream,Z.contents={}):S.isFile(Z.mode)?(Z.node_ops=zt.ops_table.file.node,Z.stream_ops=zt.ops_table.file.stream,Z.usedBytes=0,Z.contents=null):S.isLink(Z.mode)?(Z.node_ops=zt.ops_table.link.node,Z.stream_ops=zt.ops_table.link.stream):S.isChrdev(Z.mode)&&(Z.node_ops=zt.ops_table.chrdev.node,Z.stream_ops=zt.ops_table.chrdev.stream),Z.timestamp=Date.now(),d&&(d.contents[g]=Z,d.timestamp=Z.timestamp),Z},getFileDataAsTypedArray:function(d){return d.contents?d.contents.subarray?d.contents.subarray(0,d.usedBytes):new Uint8Array(d.contents):new Uint8Array(0)},expandFileStorage:function(d,g){var C=d.contents?d.contents.length:0;if(!(C>=g)){g=Math.max(g,C*(C<1048576?2:1.125)>>>0),0!=C&&(g=Math.max(g,256));var Z=d.contents;d.contents=new Uint8Array(g),d.usedBytes>0&&d.contents.set(Z.subarray(0,d.usedBytes),0)}},resizeFileStorage:function(d,g){if(d.usedBytes!=g)if(0==g)d.contents=null,d.usedBytes=0;else{var C=d.contents;d.contents=new Uint8Array(g),C&&d.contents.set(C.subarray(0,Math.min(g,d.usedBytes))),d.usedBytes=g}},node_ops:{getattr:function(d){var g={};return g.dev=S.isChrdev(d.mode)?d.id:1,g.ino=d.id,g.mode=d.mode,g.nlink=1,g.uid=0,g.gid=0,g.rdev=d.rdev,g.size=S.isDir(d.mode)?4096:S.isFile(d.mode)?d.usedBytes:S.isLink(d.mode)?d.link.length:0,g.atime=new Date(d.timestamp),g.mtime=new Date(d.timestamp),g.ctime=new Date(d.timestamp),g.blksize=4096,g.blocks=Math.ceil(g.size/g.blksize),g},setattr:function(d,g){void 0!==g.mode&&(d.mode=g.mode),void 0!==g.timestamp&&(d.timestamp=g.timestamp),void 0!==g.size&&zt.resizeFileStorage(d,g.size)},lookup:function(d,g){throw S.genericErrors[44]},mknod:function(d,g,C,M){return zt.createNode(d,g,C,M)},rename:function(d,g,C){if(S.isDir(d.mode)){var M;try{M=S.lookupNode(g,C)}catch{}if(M)for(var Z in M.contents)throw new S.ErrnoError(55)}delete d.parent.contents[d.name],d.parent.timestamp=Date.now(),d.name=C,g.contents[C]=d,g.timestamp=d.parent.timestamp,d.parent=g},unlink:function(d,g){delete d.contents[g],d.timestamp=Date.now()},rmdir:function(d,g){var C=S.lookupNode(d,g);for(var M in C.contents)throw new S.ErrnoError(55);delete d.contents[g],d.timestamp=Date.now()},readdir:function(d){var g=[".",".."];for(var C in d.contents)d.contents.hasOwnProperty(C)&&g.push(C);return g},symlink:function(d,g,C){var M=zt.createNode(d,g,41471,0);return M.link=C,M},readlink:function(d){if(!S.isLink(d.mode))throw new S.ErrnoError(28);return d.link}},stream_ops:{read:function(d,g,C,M,Z){var Ce=d.node.contents;if(Z>=d.node.usedBytes)return 0;var ee=Math.min(d.node.usedBytes-Z,M);if(ee>8&&Ce.subarray)g.set(Ce.subarray(Z,Z+ee),C);else for(var xe=0;xe<ee;xe++)g[C+xe]=Ce[Z+xe];return ee},write:function(d,g,C,M,Z,Ce){if(g.buffer===Qe.buffer&&(Ce=!1),!M)return 0;var ee=d.node;if(ee.timestamp=Date.now(),g.subarray&&(!ee.contents||ee.contents.subarray)){if(Ce)return ee.contents=g.subarray(C,C+M),ee.usedBytes=M,M;if(0===ee.usedBytes&&0===Z)return ee.contents=g.slice(C,C+M),ee.usedBytes=M,M;if(Z+M<=ee.usedBytes)return ee.contents.set(g.subarray(C,C+M),Z),M}if(zt.expandFileStorage(ee,Z+M),ee.contents.subarray&&g.subarray)ee.contents.set(g.subarray(C,C+M),Z);else for(var xe=0;xe<M;xe++)ee.contents[Z+xe]=g[C+xe];return ee.usedBytes=Math.max(ee.usedBytes,Z+M),M},llseek:function(d,g,C){var M=g;if(1===C?M+=d.position:2===C&&S.isFile(d.node.mode)&&(M+=d.node.usedBytes),M<0)throw new S.ErrnoError(28);return M},allocate:function(d,g,C){zt.expandFileStorage(d.node,g+C),d.node.usedBytes=Math.max(d.node.usedBytes,g+C)},mmap:function(d,g,C,M,Z){if(!S.isFile(d.node.mode))throw new S.ErrnoError(43);var Ce,ee,xe=d.node.contents;if(2&Z||xe.buffer!==Ue){if((C>0||C+g<xe.length)&&(xe=xe.subarray?xe.subarray(C,C+g):Array.prototype.slice.call(xe,C,C+g)),ee=!0,!(Ce=un()))throw new S.ErrnoError(48);Qe.set(xe,Ce)}else ee=!1,Ce=xe.byteOffset;return{ptr:Ce,allocated:ee}},msync:function(d,g,C,M,Z){return zt.stream_ops.write(d,g,0,M,C,!1),0}}},S={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(d,g={})=>{if(!(d=tn.resolve(d)))return{path:"",node:null};if((g=Object.assign({follow_mount:!0,recurse_count:0},g)).recurse_count>8)throw new S.ErrnoError(32);for(var M=d.split("/").filter(Fn=>!!Fn),Z=S.root,Ce="/",ee=0;ee<M.length;ee++){var xe=ee===M.length-1;if(xe&&g.parent)break;if(Z=S.lookupNode(Z,M[ee]),Ce=xt.join2(Ce,M[ee]),S.isMountpoint(Z)&&(!xe||xe&&g.follow_mount)&&(Z=Z.mounted.root),!xe||g.follow)for(var ut=0;S.isLink(Z.mode);){var $t=S.readlink(Ce);if(Ce=tn.resolve(xt.dirname(Ce),$t),Z=S.lookupPath(Ce,{recurse_count:g.recurse_count+1}).node,ut++>40)throw new S.ErrnoError(32)}}return{path:Ce,node:Z}},getPath:d=>{for(var g;;){if(S.isRoot(d)){var C=d.mount.mountpoint;return g?"/"!==C[C.length-1]?C+"/"+g:C+g:C}g=g?d.name+"/"+g:d.name,d=d.parent}},hashName:(d,g)=>{for(var C=0,M=0;M<g.length;M++)C=(C<<5)-C+g.charCodeAt(M)|0;return(d+C>>>0)%S.nameTable.length},hashAddNode:d=>{var g=S.hashName(d.parent.id,d.name);d.name_next=S.nameTable[g],S.nameTable[g]=d},hashRemoveNode:d=>{var g=S.hashName(d.parent.id,d.name);if(S.nameTable[g]===d)S.nameTable[g]=d.name_next;else for(var C=S.nameTable[g];C;){if(C.name_next===d){C.name_next=d.name_next;break}C=C.name_next}},lookupNode:(d,g)=>{var C=S.mayLookup(d);if(C)throw new S.ErrnoError(C,d);for(var M=S.hashName(d.id,g),Z=S.nameTable[M];Z;Z=Z.name_next)if(Z.parent.id===d.id&&Z.name===g)return Z;return S.lookup(d,g)},createNode:(d,g,C,M)=>{var Z=new S.FSNode(d,g,C,M);return S.hashAddNode(Z),Z},destroyNode:d=>{S.hashRemoveNode(d)},isRoot:d=>d===d.parent,isMountpoint:d=>!!d.mounted,isFile:d=>32768==(61440&d),isDir:d=>16384==(61440&d),isLink:d=>40960==(61440&d),isChrdev:d=>8192==(61440&d),isBlkdev:d=>24576==(61440&d),isFIFO:d=>4096==(61440&d),isSocket:d=>49152==(49152&d),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:d=>{var g=S.flagModes[d];if(typeof g>"u")throw new Error("Unknown file open mode: "+d);return g},flagsToPermissionString:d=>{var g=["r","w","rw"][3&d];return 512&d&&(g+="w"),g},nodePermissions:(d,g)=>S.ignorePermissions?0:g.includes("r")&&!(292&d.mode)||g.includes("w")&&!(146&d.mode)||g.includes("x")&&!(73&d.mode)?2:0,mayLookup:d=>S.nodePermissions(d,"x")||(d.node_ops.lookup?0:2),mayCreate:(d,g)=>{try{return S.lookupNode(d,g),20}catch{}return S.nodePermissions(d,"wx")},mayDelete:(d,g,C)=>{var M;try{M=S.lookupNode(d,g)}catch(Ce){return Ce.errno}var Z=S.nodePermissions(d,"wx");if(Z)return Z;if(C){if(!S.isDir(M.mode))return 54;if(S.isRoot(M)||S.getPath(M)===S.cwd())return 10}else if(S.isDir(M.mode))return 31;return 0},mayOpen:(d,g)=>d?S.isLink(d.mode)?32:S.isDir(d.mode)&&("r"!==S.flagsToPermissionString(g)||512&g)?31:S.nodePermissions(d,S.flagsToPermissionString(g)):44,MAX_OPEN_FDS:4096,nextfd:(d=0,g=S.MAX_OPEN_FDS)=>{for(var C=d;C<=g;C++)if(!S.streams[C])return C;throw new S.ErrnoError(33)},getStream:d=>S.streams[d],createStream:(d,g,C)=>{S.FSStream||(S.FSStream=function(){this.shared={}},S.FSStream.prototype={},Object.defineProperties(S.FSStream.prototype,{object:{get:function(){return this.node},set:function(Z){this.node=Z}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(Z){this.shared.flags=Z}},position:{get:function(){return this.shared.position},set:function(Z){this.shared.position=Z}}})),d=Object.assign(new S.FSStream,d);var M=S.nextfd(g,C);return d.fd=M,S.streams[M]=d,d},closeStream:d=>{S.streams[d]=null},chrdev_stream_ops:{open:d=>{var g=S.getDevice(d.node.rdev);d.stream_ops=g.stream_ops,d.stream_ops.open&&d.stream_ops.open(d)},llseek:()=>{throw new S.ErrnoError(70)}},major:d=>d>>8,minor:d=>255&d,makedev:(d,g)=>d<<8|g,registerDevice:(d,g)=>{S.devices[d]={stream_ops:g}},getDevice:d=>S.devices[d],getMounts:d=>{for(var g=[],C=[d];C.length;){var M=C.pop();g.push(M),C.push.apply(C,M.mounts)}return g},syncfs:(d,g)=>{"function"==typeof d&&(g=d,d=!1),S.syncFSRequests++,S.syncFSRequests>1&&K("warning: "+S.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var C=S.getMounts(S.root.mount),M=0;function Z(ee){return S.syncFSRequests--,g(ee)}function Ce(ee){if(ee)return Ce.errored?void 0:(Ce.errored=!0,Z(ee));++M>=C.length&&Z(null)}C.forEach(ee=>{if(!ee.type.syncfs)return Ce(null);ee.type.syncfs(ee,d,Ce)})},mount:(d,g,C)=>{var Ce,M="/"===C,Z=!C;if(M&&S.root)throw new S.ErrnoError(10);if(!M&&!Z){var ee=S.lookupPath(C,{follow_mount:!1});if(C=ee.path,S.isMountpoint(Ce=ee.node))throw new S.ErrnoError(10);if(!S.isDir(Ce.mode))throw new S.ErrnoError(54)}var xe={type:d,opts:g,mountpoint:C,mounts:[]},ut=d.mount(xe);return ut.mount=xe,xe.root=ut,M?S.root=ut:Ce&&(Ce.mounted=xe,Ce.mount&&Ce.mount.mounts.push(xe)),ut},unmount:d=>{var g=S.lookupPath(d,{follow_mount:!1});if(!S.isMountpoint(g.node))throw new S.ErrnoError(28);var C=g.node,M=C.mounted,Z=S.getMounts(M);Object.keys(S.nameTable).forEach(ee=>{for(var xe=S.nameTable[ee];xe;){var ut=xe.name_next;Z.includes(xe.mount)&&S.destroyNode(xe),xe=ut}}),C.mounted=null;var Ce=C.mount.mounts.indexOf(M);C.mount.mounts.splice(Ce,1)},lookup:(d,g)=>d.node_ops.lookup(d,g),mknod:(d,g,C)=>{var Z=S.lookupPath(d,{parent:!0}).node,Ce=xt.basename(d);if(!Ce||"."===Ce||".."===Ce)throw new S.ErrnoError(28);var ee=S.mayCreate(Z,Ce);if(ee)throw new S.ErrnoError(ee);if(!Z.node_ops.mknod)throw new S.ErrnoError(63);return Z.node_ops.mknod(Z,Ce,g,C)},create:(d,g)=>(g=void 0!==g?g:438,g&=4095,S.mknod(d,g|=32768,0)),mkdir:(d,g)=>(g=void 0!==g?g:511,g&=1023,S.mknod(d,g|=16384,0)),mkdirTree:(d,g)=>{for(var C=d.split("/"),M="",Z=0;Z<C.length;++Z)if(C[Z]){M+="/"+C[Z];try{S.mkdir(M,g)}catch(Ce){if(20!=Ce.errno)throw Ce}}},mkdev:(d,g,C)=>(typeof C>"u"&&(C=g,g=438),S.mknod(d,g|=8192,C)),symlink:(d,g)=>{if(!tn.resolve(d))throw new S.ErrnoError(44);var M=S.lookupPath(g,{parent:!0}).node;if(!M)throw new S.ErrnoError(44);var Z=xt.basename(g),Ce=S.mayCreate(M,Z);if(Ce)throw new S.ErrnoError(Ce);if(!M.node_ops.symlink)throw new S.ErrnoError(63);return M.node_ops.symlink(M,Z,d)},rename:(d,g)=>{var xe,ut,C=xt.dirname(d),M=xt.dirname(g),Z=xt.basename(d),Ce=xt.basename(g);if(xe=S.lookupPath(d,{parent:!0}).node,ut=S.lookupPath(g,{parent:!0}).node,!xe||!ut)throw new S.ErrnoError(44);if(xe.mount!==ut.mount)throw new S.ErrnoError(75);var Fn,$t=S.lookupNode(xe,Z),mn=tn.relative(d,M);if("."!==mn.charAt(0))throw new S.ErrnoError(28);if("."!==(mn=tn.relative(g,C)).charAt(0))throw new S.ErrnoError(55);try{Fn=S.lookupNode(ut,Ce)}catch{}if($t!==Fn){var Vt=S.isDir($t.mode),jt=S.mayDelete(xe,Z,Vt);if(jt)throw new S.ErrnoError(jt);if(jt=Fn?S.mayDelete(ut,Ce,Vt):S.mayCreate(ut,Ce))throw new S.ErrnoError(jt);if(!xe.node_ops.rename)throw new S.ErrnoError(63);if(S.isMountpoint($t)||Fn&&S.isMountpoint(Fn))throw new S.ErrnoError(10);if(ut!==xe&&(jt=S.nodePermissions(xe,"w")))throw new S.ErrnoError(jt);S.hashRemoveNode($t);try{xe.node_ops.rename($t,ut,Ce)}catch(mt){throw mt}finally{S.hashAddNode($t)}}},rmdir:d=>{var C=S.lookupPath(d,{parent:!0}).node,M=xt.basename(d),Z=S.lookupNode(C,M),Ce=S.mayDelete(C,M,!0);if(Ce)throw new S.ErrnoError(Ce);if(!C.node_ops.rmdir)throw new S.ErrnoError(63);if(S.isMountpoint(Z))throw new S.ErrnoError(10);C.node_ops.rmdir(C,M),S.destroyNode(Z)},readdir:d=>{var C=S.lookupPath(d,{follow:!0}).node;if(!C.node_ops.readdir)throw new S.ErrnoError(54);return C.node_ops.readdir(C)},unlink:d=>{var C=S.lookupPath(d,{parent:!0}).node;if(!C)throw new S.ErrnoError(44);var M=xt.basename(d),Z=S.lookupNode(C,M),Ce=S.mayDelete(C,M,!1);if(Ce)throw new S.ErrnoError(Ce);if(!C.node_ops.unlink)throw new S.ErrnoError(63);if(S.isMountpoint(Z))throw new S.ErrnoError(10);C.node_ops.unlink(C,M),S.destroyNode(Z)},readlink:d=>{var C=S.lookupPath(d).node;if(!C)throw new S.ErrnoError(44);if(!C.node_ops.readlink)throw new S.ErrnoError(28);return tn.resolve(S.getPath(C.parent),C.node_ops.readlink(C))},stat:(d,g)=>{var M=S.lookupPath(d,{follow:!g}).node;if(!M)throw new S.ErrnoError(44);if(!M.node_ops.getattr)throw new S.ErrnoError(63);return M.node_ops.getattr(M)},lstat:d=>S.stat(d,!0),chmod:(d,g,C)=>{var M;if(!(M="string"==typeof d?S.lookupPath(d,{follow:!C}).node:d).node_ops.setattr)throw new S.ErrnoError(63);M.node_ops.setattr(M,{mode:4095&g|-4096&M.mode,timestamp:Date.now()})},lchmod:(d,g)=>{S.chmod(d,g,!0)},fchmod:(d,g)=>{var C=S.getStream(d);if(!C)throw new S.ErrnoError(8);S.chmod(C.node,g)},chown:(d,g,C,M)=>{var Z;if(!(Z="string"==typeof d?S.lookupPath(d,{follow:!M}).node:d).node_ops.setattr)throw new S.ErrnoError(63);Z.node_ops.setattr(Z,{timestamp:Date.now()})},lchown:(d,g,C)=>{S.chown(d,g,C,!0)},fchown:(d,g,C)=>{var M=S.getStream(d);if(!M)throw new S.ErrnoError(8);S.chown(M.node,g,C)},truncate:(d,g)=>{if(g<0)throw new S.ErrnoError(28);var C;if(!(C="string"==typeof d?S.lookupPath(d,{follow:!0}).node:d).node_ops.setattr)throw new S.ErrnoError(63);if(S.isDir(C.mode))throw new S.ErrnoError(31);if(!S.isFile(C.mode))throw new S.ErrnoError(28);var Z=S.nodePermissions(C,"w");if(Z)throw new S.ErrnoError(Z);C.node_ops.setattr(C,{size:g,timestamp:Date.now()})},ftruncate:(d,g)=>{var C=S.getStream(d);if(!C)throw new S.ErrnoError(8);if(!(2097155&C.flags))throw new S.ErrnoError(28);S.truncate(C.node,g)},utime:(d,g,C)=>{var Z=S.lookupPath(d,{follow:!0}).node;Z.node_ops.setattr(Z,{timestamp:Math.max(g,C)})},open:(d,g,C)=>{if(""===d)throw new S.ErrnoError(44);var M;if(C=typeof C>"u"?438:C,C=64&(g="string"==typeof g?S.modeStringToFlags(g):g)?4095&C|32768:0,"object"==typeof d)M=d;else{d=xt.normalize(d);try{M=S.lookupPath(d,{follow:!(131072&g)}).node}catch{}}var Ce=!1;if(64&g)if(M){if(128&g)throw new S.ErrnoError(20)}else M=S.mknod(d,C,0),Ce=!0;if(!M)throw new S.ErrnoError(44);if(S.isChrdev(M.mode)&&(g&=-513),65536&g&&!S.isDir(M.mode))throw new S.ErrnoError(54);if(!Ce){var ee=S.mayOpen(M,g);if(ee)throw new S.ErrnoError(ee)}512&g&&!Ce&&S.truncate(M,0),g&=-131713;var xe=S.createStream({node:M,path:S.getPath(M),flags:g,seekable:!0,position:0,stream_ops:M.stream_ops,ungotten:[],error:!1});return xe.stream_ops.open&&xe.stream_ops.open(xe),c.logReadFiles&&!(1&g)&&(S.readFiles||(S.readFiles={}),d in S.readFiles||(S.readFiles[d]=1)),xe},close:d=>{if(S.isClosed(d))throw new S.ErrnoError(8);d.getdents&&(d.getdents=null);try{d.stream_ops.close&&d.stream_ops.close(d)}catch(g){throw g}finally{S.closeStream(d.fd)}d.fd=null},isClosed:d=>null===d.fd,llseek:(d,g,C)=>{if(S.isClosed(d))throw new S.ErrnoError(8);if(!d.seekable||!d.stream_ops.llseek)throw new S.ErrnoError(70);if(0!=C&&1!=C&&2!=C)throw new S.ErrnoError(28);return d.position=d.stream_ops.llseek(d,g,C),d.ungotten=[],d.position},read:(d,g,C,M,Z)=>{if(M<0||Z<0)throw new S.ErrnoError(28);if(S.isClosed(d))throw new S.ErrnoError(8);if(1==(2097155&d.flags))throw new S.ErrnoError(8);if(S.isDir(d.node.mode))throw new S.ErrnoError(31);if(!d.stream_ops.read)throw new S.ErrnoError(28);var Ce=typeof Z<"u";if(Ce){if(!d.seekable)throw new S.ErrnoError(70)}else Z=d.position;var ee=d.stream_ops.read(d,g,C,M,Z);return Ce||(d.position+=ee),ee},write:(d,g,C,M,Z,Ce)=>{if(M<0||Z<0)throw new S.ErrnoError(28);if(S.isClosed(d))throw new S.ErrnoError(8);if(!(2097155&d.flags))throw new S.ErrnoError(8);if(S.isDir(d.node.mode))throw new S.ErrnoError(31);if(!d.stream_ops.write)throw new S.ErrnoError(28);d.seekable&&1024&d.flags&&S.llseek(d,0,2);var ee=typeof Z<"u";if(ee){if(!d.seekable)throw new S.ErrnoError(70)}else Z=d.position;var xe=d.stream_ops.write(d,g,C,M,Z,Ce);return ee||(d.position+=xe),xe},allocate:(d,g,C)=>{if(S.isClosed(d))throw new S.ErrnoError(8);if(g<0||C<=0)throw new S.ErrnoError(28);if(!(2097155&d.flags))throw new S.ErrnoError(8);if(!S.isFile(d.node.mode)&&!S.isDir(d.node.mode))throw new S.ErrnoError(43);if(!d.stream_ops.allocate)throw new S.ErrnoError(138);d.stream_ops.allocate(d,g,C)},mmap:(d,g,C,M,Z)=>{if(2&M&&!(2&Z)&&2!=(2097155&d.flags))throw new S.ErrnoError(2);if(1==(2097155&d.flags))throw new S.ErrnoError(2);if(!d.stream_ops.mmap)throw new S.ErrnoError(43);return d.stream_ops.mmap(d,g,C,M,Z)},msync:(d,g,C,M,Z)=>d.stream_ops.msync?d.stream_ops.msync(d,g,C,M,Z):0,munmap:d=>0,ioctl:(d,g,C)=>{if(!d.stream_ops.ioctl)throw new S.ErrnoError(59);return d.stream_ops.ioctl(d,g,C)},readFile:(d,g={})=>{if(g.flags=g.flags||0,g.encoding=g.encoding||"binary","utf8"!==g.encoding&&"binary"!==g.encoding)throw new Error('Invalid encoding type "'+g.encoding+'"');var C,M=S.open(d,g.flags),Ce=S.stat(d).size,ee=new Uint8Array(Ce);return S.read(M,ee,0,Ce,0),"utf8"===g.encoding?C=Ye(ee,0):"binary"===g.encoding&&(C=ee),S.close(M),C},writeFile:(d,g,C={})=>{C.flags=C.flags||577;var M=S.open(d,C.flags,C.mode);if("string"==typeof g){var Z=new Uint8Array(re(g)+1),Ce=Me(g,Z,0,Z.length);S.write(M,Z,0,Ce,void 0,C.canOwn)}else{if(!ArrayBuffer.isView(g))throw new Error("Unsupported data type");S.write(M,g,0,g.byteLength,void 0,C.canOwn)}S.close(M)},cwd:()=>S.currentPath,chdir:d=>{var g=S.lookupPath(d,{follow:!0});if(null===g.node)throw new S.ErrnoError(44);if(!S.isDir(g.node.mode))throw new S.ErrnoError(54);var C=S.nodePermissions(g.node,"x");if(C)throw new S.ErrnoError(C);S.currentPath=g.path},createDefaultDirectories:()=>{S.mkdir("/tmp"),S.mkdir("/home"),S.mkdir("/home/web_user")},createDefaultDevices:()=>{S.mkdir("/dev"),S.registerDevice(S.makedev(1,3),{read:()=>0,write:(g,C,M,Z,Ce)=>Z}),S.mkdev("/dev/null",S.makedev(1,3)),er.register(S.makedev(5,0),er.default_tty_ops),er.register(S.makedev(6,0),er.default_tty1_ops),S.mkdev("/dev/tty",S.makedev(5,0)),S.mkdev("/dev/tty1",S.makedev(6,0));var d=function hr(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var d=new Uint8Array(1);return()=>(crypto.getRandomValues(d),d[0])}return()=>ir("randomDevice")}();S.createDevice("/dev","random",d),S.createDevice("/dev","urandom",d),S.mkdir("/dev/shm"),S.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{S.mkdir("/proc");var d=S.mkdir("/proc/self");S.mkdir("/proc/self/fd"),S.mount({mount:()=>{var g=S.createNode(d,"fd",16895,73);return g.node_ops={lookup:(C,M)=>{var Ce=S.getStream(+M);if(!Ce)throw new S.ErrnoError(8);var ee={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>Ce.path}};return ee.parent=ee,ee}},g}},{},"/proc/self/fd")},createStandardStreams:()=>{c.stdin?S.createDevice("/dev","stdin",c.stdin):S.symlink("/dev/tty","/dev/stdin"),c.stdout?S.createDevice("/dev","stdout",null,c.stdout):S.symlink("/dev/tty","/dev/stdout"),c.stderr?S.createDevice("/dev","stderr",null,c.stderr):S.symlink("/dev/tty1","/dev/stderr"),S.open("/dev/stdin",0),S.open("/dev/stdout",1),S.open("/dev/stderr",1)},ensureErrnoError:()=>{S.ErrnoError||(S.ErrnoError=function(g,C){this.node=C,this.setErrno=function(M){this.errno=M},this.setErrno(g),this.message="FS error"},S.ErrnoError.prototype=new Error,S.ErrnoError.prototype.constructor=S.ErrnoError,[44].forEach(d=>{S.genericErrors[d]=new S.ErrnoError(d),S.genericErrors[d].stack="<generic error, no stack>"}))},staticInit:()=>{S.ensureErrnoError(),S.nameTable=new Array(4096),S.mount(zt,{},"/"),S.createDefaultDirectories(),S.createDefaultDevices(),S.createSpecialDirectories(),S.filesystems={MEMFS:zt}},init:(d,g,C)=>{S.init.initialized=!0,S.ensureErrnoError(),c.stdin=d||c.stdin,c.stdout=g||c.stdout,c.stderr=C||c.stderr,S.createStandardStreams()},quit:()=>{S.init.initialized=!1;for(var d=0;d<S.streams.length;d++){var g=S.streams[d];g&&S.close(g)}},getMode:(d,g)=>{var C=0;return d&&(C|=365),g&&(C|=146),C},findObject:(d,g)=>{var C=S.analyzePath(d,g);return C.exists?C.object:null},analyzePath:(d,g)=>{try{d=(C=S.lookupPath(d,{follow:!g})).path}catch{}var M={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var C=S.lookupPath(d,{parent:!0});M.parentExists=!0,M.parentPath=C.path,M.parentObject=C.node,M.name=xt.basename(d),C=S.lookupPath(d,{follow:!g}),M.exists=!0,M.path=C.path,M.object=C.node,M.name=C.node.name,M.isRoot="/"===C.path}catch(Z){M.error=Z.errno}return M},createPath:(d,g,C,M)=>{d="string"==typeof d?d:S.getPath(d);for(var Z=g.split("/").reverse();Z.length;){var Ce=Z.pop();if(Ce){var ee=xt.join2(d,Ce);try{S.mkdir(ee)}catch{}d=ee}}return ee},createFile:(d,g,C,M,Z)=>{var Ce=xt.join2("string"==typeof d?d:S.getPath(d),g),ee=S.getMode(M,Z);return S.create(Ce,ee)},createDataFile:(d,g,C,M,Z,Ce)=>{var ee=g;d&&(d="string"==typeof d?d:S.getPath(d),ee=g?xt.join2(d,g):d);var xe=S.getMode(M,Z),ut=S.create(ee,xe);if(C){if("string"==typeof C){for(var $t=new Array(C.length),mn=0,Fn=C.length;mn<Fn;++mn)$t[mn]=C.charCodeAt(mn);C=$t}S.chmod(ut,146|xe);var Vt=S.open(ut,577);S.write(Vt,C,0,C.length,0,Ce),S.close(Vt),S.chmod(ut,xe)}return ut},createDevice:(d,g,C,M)=>{var Z=xt.join2("string"==typeof d?d:S.getPath(d),g),Ce=S.getMode(!!C,!!M);S.createDevice.major||(S.createDevice.major=64);var ee=S.makedev(S.createDevice.major++,0);return S.registerDevice(ee,{open:xe=>{xe.seekable=!1},close:xe=>{M&&M.buffer&&M.buffer.length&&M(10)},read:(xe,ut,$t,mn,Fn)=>{for(var Vt=0,jt=0;jt<mn;jt++){var mt;try{mt=C()}catch{throw new S.ErrnoError(29)}if(void 0===mt&&0===Vt)throw new S.ErrnoError(6);if(null==mt)break;Vt++,ut[$t+jt]=mt}return Vt&&(xe.node.timestamp=Date.now()),Vt},write:(xe,ut,$t,mn,Fn)=>{for(var Vt=0;Vt<mn;Vt++)try{M(ut[$t+Vt])}catch{throw new S.ErrnoError(29)}return mn&&(xe.node.timestamp=Date.now()),Vt}}),S.mkdev(Z,Ce,ee)},forceLoadFile:d=>{if(d.isDevice||d.isFolder||d.link||d.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!j)throw new Error("Cannot load without read() or XMLHttpRequest.");try{d.contents=Jn(j(d.url),!0),d.usedBytes=d.contents.length}catch{throw new S.ErrnoError(29)}},createLazyFile:(d,g,C,M,Z)=>{function Ce(){this.lengthKnown=!1,this.chunks=[]}if(Ce.prototype.get=function(jt){if(!(jt>this.length-1||jt<0)){var mt=jt%this.chunkSize;return this.getter(jt/this.chunkSize|0)[mt]}},Ce.prototype.setDataGetter=function(jt){this.getter=jt},Ce.prototype.cacheLength=function(){var jt=new XMLHttpRequest;if(jt.open("HEAD",C,!1),jt.send(null),!(jt.status>=200&&jt.status<300||304===jt.status))throw new Error("Couldn't load "+C+". Status: "+jt.status);var nn,mt=Number(jt.getResponseHeader("Content-length")),Kn=(nn=jt.getResponseHeader("Accept-Ranges"))&&"bytes"===nn,br=(nn=jt.getResponseHeader("Content-Encoding"))&&"gzip"===nn,gt=1048576;Kn||(gt=mt);var Ar=this;Ar.setDataGetter(Dn=>{var Uo=Dn*gt,Or=(Dn+1)*gt-1;if(Or=Math.min(Or,mt-1),typeof Ar.chunks[Dn]>"u"&&(Ar.chunks[Dn]=((Dn,Uo)=>{if(Dn>Uo)throw new Error("invalid range ("+Dn+", "+Uo+") or no bytes requested!");if(Uo>mt-1)throw new Error("only "+mt+" bytes available! programmer error!");var Or=new XMLHttpRequest;if(Or.open("GET",C,!1),mt!==gt&&Or.setRequestHeader("Range","bytes="+Dn+"-"+Uo),Or.responseType="arraybuffer",Or.overrideMimeType&&Or.overrideMimeType("text/plain; charset=x-user-defined"),Or.send(null),!(Or.status>=200&&Or.status<300||304===Or.status))throw new Error("Couldn't load "+C+". Status: "+Or.status);return void 0!==Or.response?new Uint8Array(Or.response||[]):Jn(Or.responseText||"",!0)})(Uo,Or)),typeof Ar.chunks[Dn]>"u")throw new Error("doXHR failed!");return Ar.chunks[Dn]}),(br||!mt)&&(gt=mt=1,mt=this.getter(0).length,gt=mt,W("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=mt,this._chunkSize=gt,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!Y)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var ee=new Ce;Object.defineProperties(ee,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var xe={isDevice:!1,contents:ee}}else xe={isDevice:!1,url:C};var ut=S.createFile(d,g,xe,M,Z);xe.contents?ut.contents=xe.contents:xe.url&&(ut.contents=null,ut.url=xe.url),Object.defineProperties(ut,{usedBytes:{get:function(){return this.contents.length}}});var $t={};function Fn(Vt,jt,mt,nn,Kn){var br=Vt.node.contents;if(Kn>=br.length)return 0;var gt=Math.min(br.length-Kn,nn);if(br.slice)for(var Lt=0;Lt<gt;Lt++)jt[mt+Lt]=br[Kn+Lt];else for(Lt=0;Lt<gt;Lt++)jt[mt+Lt]=br.get(Kn+Lt);return gt}return Object.keys(ut.stream_ops).forEach(Vt=>{var jt=ut.stream_ops[Vt];$t[Vt]=function(){return S.forceLoadFile(ut),jt.apply(null,arguments)}}),$t.read=(Vt,jt,mt,nn,Kn)=>(S.forceLoadFile(ut),Fn(Vt,jt,mt,nn,Kn)),$t.mmap=(Vt,jt,mt,nn,Kn)=>{S.forceLoadFile(ut);var br=un();if(!br)throw new S.ErrnoError(48);return Fn(Vt,Qe,br,jt,mt),{ptr:br,allocated:!0}},ut.stream_ops=$t,ut},createPreloadedFile:(d,g,C,M,Z,Ce,ee,xe,ut,$t)=>{var mn=g?tn.resolve(xt.join2(d,g)):d;function Vt(jt){function mt(nn){$t&&$t(),xe||S.createDataFile(d,g,nn,M,Z,ut),Ce&&Ce(),Pr()}Browser.handledByPreloadPlugin(jt,mn,mt,()=>{ee&&ee(),Pr()})||mt(jt)}Wr(),"string"==typeof C?function E(d,g,C,M){var Z=M?"":"al "+d;Re(d,Ce=>{we(Ce,'Loading data file "'+d+'" failed (no arrayBuffer).'),g(new Uint8Array(Ce)),Z&&Pr()},Ce=>{if(!C)throw'Loading data file "'+d+'" failed.';C()}),Z&&Wr()}(C,jt=>Vt(jt),ee):Vt(C)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(d,g,C)=>{g=g||(()=>{}),C=C||(()=>{});var M=S.indexedDB();try{var Z=M.open(S.DB_NAME(),S.DB_VERSION)}catch(Ce){return C(Ce)}Z.onupgradeneeded=()=>{W("creating db"),Z.result.createObjectStore(S.DB_STORE_NAME)},Z.onsuccess=()=>{var ee=Z.result.transaction([S.DB_STORE_NAME],"readwrite"),xe=ee.objectStore(S.DB_STORE_NAME),ut=0,$t=0,mn=d.length;function Fn(){0==$t?g():C()}d.forEach(Vt=>{var jt=xe.put(S.analyzePath(Vt).object.contents,Vt);jt.onsuccess=()=>{++ut+$t==mn&&Fn()},jt.onerror=()=>{$t++,ut+$t==mn&&Fn()}}),ee.onerror=C},Z.onerror=C},loadFilesFromDB:(d,g,C)=>{g=g||(()=>{}),C=C||(()=>{});var M=S.indexedDB();try{var Z=M.open(S.DB_NAME(),S.DB_VERSION)}catch(Ce){return C(Ce)}Z.onupgradeneeded=C,Z.onsuccess=()=>{var Ce=Z.result;try{var ee=Ce.transaction([S.DB_STORE_NAME],"readonly")}catch(Vt){return void C(Vt)}var xe=ee.objectStore(S.DB_STORE_NAME),ut=0,$t=0,mn=d.length;function Fn(){0==$t?g():C()}d.forEach(Vt=>{var jt=xe.get(Vt);jt.onsuccess=()=>{S.analyzePath(Vt).exists&&S.unlink(Vt),S.createDataFile(xt.dirname(Vt),xt.basename(Vt),jt.result,!0,!0,!0),++ut+$t==mn&&Fn()},jt.onerror=()=>{$t++,ut+$t==mn&&Fn()}}),ee.onerror=C},Z.onerror=C}},qn={DEFAULT_POLLMASK:5,calculateAt:function(d,g,C){if(xt.isAbs(g))return g;var M;if(M=-100===d?S.cwd():qn.getStreamFromFD(d).path,0==g.length){if(!C)throw new S.ErrnoError(44);return M}return xt.join2(M,g)},doStat:function(d,g,C){try{var M=d(g)}catch(Z){if(Z&&Z.node&&xt.normalize(g)!==xt.normalize(S.getPath(Z.node)))return-54;throw Z}return O[C>>2]=M.dev,O[C+8>>2]=M.ino,O[C+12>>2]=M.mode,ye[C+16>>2]=M.nlink,O[C+20>>2]=M.uid,O[C+24>>2]=M.gid,O[C+28>>2]=M.rdev,le=[M.size>>>0,(ct=M.size,+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[C+40>>2]=le[0],O[C+44>>2]=le[1],O[C+48>>2]=4096,O[C+52>>2]=M.blocks,le=[Math.floor(M.atime.getTime()/1e3)>>>0,(ct=Math.floor(M.atime.getTime()/1e3),+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[C+56>>2]=le[0],O[C+60>>2]=le[1],ye[C+64>>2]=0,le=[Math.floor(M.mtime.getTime()/1e3)>>>0,(ct=Math.floor(M.mtime.getTime()/1e3),+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[C+72>>2]=le[0],O[C+76>>2]=le[1],ye[C+80>>2]=0,le=[Math.floor(M.ctime.getTime()/1e3)>>>0,(ct=Math.floor(M.ctime.getTime()/1e3),+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[C+88>>2]=le[0],O[C+92>>2]=le[1],ye[C+96>>2]=0,le=[M.ino>>>0,(ct=M.ino,+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[C+104>>2]=le[0],O[C+108>>2]=le[1],0},doMsync:function(d,g,C,M,Z){if(!S.isFile(g.node.mode))throw new S.ErrnoError(43);if(2&M)return 0;var Ce=vt.slice(d,d+C);S.msync(g,Ce,Z,C,M)},varargs:void 0,get:function(){return qn.varargs+=4,O[qn.varargs-4>>2]},getStr:function(d){return $e(d)},getStreamFromFD:function(d){var g=S.getStream(d);if(!g)throw new S.ErrnoError(8);return g}};function bo(d){return d%4==0&&(d%100!=0||d%400==0)}var Pi=[0,31,60,91,121,152,182,213,244,274,305,335],$o=[0,31,59,90,120,151,181,212,243,273,304,334];function bi(d){return(bo(d.getFullYear())?Pi:$o)[d.getMonth()]+d.getDate()-1}function Bo(d){var g=re(d)+1,C=St(g);return C&&Me(d,Qe,C,g),C}function Zr(d){try{return de.grow(d-Ue.byteLength+65535>>>16),Ve(de.buffer),1}catch{}}var Jo={};function ro(){if(!ro.strings){var g={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:L||"./this.program"};for(var C in Jo)void 0===Jo[C]?delete g[C]:g[C]=Jo[C];var M=[];for(var C in g)M.push(C+"="+g[C]);ro.strings=M}return ro.strings}var ys=[31,29,31,30,31,30,31,31,30,31,30,31],Ri=[31,28,31,30,31,30,31,31,30,31,30,31];var pe=function(d,g,C,M){d||(d=this),this.parent=d,this.mount=d.mount,this.mounted=null,this.id=S.nextInode++,this.name=g,this.mode=C,this.node_ops={},this.stream_ops={},this.rdev=M};Object.defineProperties(pe.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(d){d?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(d){d?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return S.isDir(this.mode)}},isDevice:{get:function(){return S.isChrdev(this.mode)}}}),S.FSNode=pe,S.staticInit();var ht,it={a:function $n(d,g,C,M){ir("Assertion failed: "+$e(d)+", at: "+[g?$e(g):"unknown filename",C,M?$e(M):"unknown function"])},l:function D(d,g,C){try{var M=Kt(g,C);return isNaN(M)?-61:(S.ftruncate(d,M),0)}catch(Z){if(typeof S>"u"||!(Z instanceof S.ErrnoError))throw Z;return-Z.errno}},g:function Lo(){return!0},h:function wi(d,g){var C=new Date(1e3*function Xo(d){return ye[d>>2]+4294967296*O[d+4>>2]}(d));O[g>>2]=C.getSeconds(),O[g+4>>2]=C.getMinutes(),O[g+8>>2]=C.getHours(),O[g+12>>2]=C.getDate(),O[g+16>>2]=C.getMonth(),O[g+20>>2]=C.getFullYear()-1900,O[g+24>>2]=C.getDay();var M=0|bi(C);O[g+28>>2]=M,O[g+36>>2]=-60*C.getTimezoneOffset();var Z=new Date(C.getFullYear(),0,1),Ce=new Date(C.getFullYear(),6,1).getTimezoneOffset(),ee=Z.getTimezoneOffset(),xe=0|(Ce!=ee&&C.getTimezoneOffset()==Math.min(ee,Ce));O[g+32>>2]=xe},i:function no(d){var g=new Date(O[d+20>>2]+1900,O[d+16>>2],O[d+12>>2],O[d+8>>2],O[d+4>>2],O[d>>2],0),C=O[d+32>>2],M=g.getTimezoneOffset(),Z=new Date(g.getFullYear(),0,1),Ce=new Date(g.getFullYear(),6,1).getTimezoneOffset(),ee=Z.getTimezoneOffset(),xe=Math.min(ee,Ce);if(C<0)O[d+32>>2]=Number(Ce!=ee&&xe==M);else if(C>0!=(xe==M)){var ut=Math.max(ee,Ce),$t=C>0?xe:ut;g.setTime(g.getTime()+6e4*($t-M))}O[d+24>>2]=g.getDay();var mn=0|bi(g);return O[d+28>>2]=mn,O[d>>2]=g.getSeconds(),O[d+4>>2]=g.getMinutes(),O[d+8>>2]=g.getHours(),O[d+12>>2]=g.getDate(),O[d+16>>2]=g.getMonth(),O[d+20>>2]=g.getYear(),g.getTime()/1e3|0},j:function mr(d,g,C){var M=(new Date).getFullYear(),Z=new Date(M,0,1),Ce=new Date(M,6,1),ee=Z.getTimezoneOffset(),xe=Ce.getTimezoneOffset(),ut=Math.max(ee,xe);function $t(mt){var nn=mt.toTimeString().match(/\(([A-Za-z ]+)\)$/);return nn?nn[1]:"GMT"}ye[d>>2]=60*ut,O[g>>2]=Number(ee!=xe);var mn=$t(Z),Fn=$t(Ce),Vt=Bo(mn),jt=Bo(Fn);xe<ee?(ye[C>>2]=Vt,ye[C+4>>2]=jt):(ye[C>>2]=jt,ye[C+4>>2]=Vt)},b:function Vo(){ir("")},c:function Xr(){return Date.now()},q:function Qo(d,g,C){vt.copyWithin(d,g,g+C)},p:function Qi(d){var ut,g=vt.length,C=2147483648;if((d>>>=0)>C)return!1;for(var Z=1;Z<=4;Z*=2){var Ce=g*(1+.2/Z);if(Ce=Math.min(Ce,d+100663296),Zr(Math.min(C,(ut=Math.max(d,Ce))+(65536-ut%65536)%65536)))return!0}return!1},n:function fo(d,g){var C=0;return ro().forEach(function(M,Z){var Ce=g+C;ye[d+4*Z>>2]=Ce,function Ji(d,g,C){for(var M=0;M<d.length;++M)Qe[g++>>0]=d.charCodeAt(M);C||(Qe[g>>0]=0)}(M,Ce),C+=M.length+1}),0},o:function Ci(d,g){var C=ro();ye[d>>2]=C.length;var M=0;return C.forEach(function(Z){M+=Z.length+1}),ye[g>>2]=M,0},d:function gs(d){try{var g=qn.getStreamFromFD(d);return S.close(g),0}catch(C){if(typeof S>"u"||!(C instanceof S.ErrnoError))throw C;return C.errno}},f:function es(d,g,C,M){try{var Ce=function ci(d,g,C,M){for(var Z=0,Ce=0;Ce<C;Ce++){var ee=ye[g>>2],xe=ye[g+4>>2];g+=8;var ut=S.read(d,Qe,ee,xe,M);if(ut<0)return-1;if(Z+=ut,ut<xe)break}return Z}(qn.getStreamFromFD(d),g,C);return ye[M>>2]=Ce,0}catch(ee){if(typeof S>"u"||!(ee instanceof S.ErrnoError))throw ee;return ee.errno}},k:function As(d,g,C,M,Z){try{var Ce=Kt(g,C);if(isNaN(Ce))return 61;var ee=qn.getStreamFromFD(d);return S.llseek(ee,Ce,M),le=[ee.position>>>0,(ct=ee.position,+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[Z>>2]=le[0],O[Z+4>>2]=le[1],ee.getdents&&0===Ce&&0===M&&(ee.getdents=null),0}catch(xe){if(typeof S>"u"||!(xe instanceof S.ErrnoError))throw xe;return xe.errno}},e:function lr(d,g,C,M){try{var Ce=function xs(d,g,C,M){for(var Z=0,Ce=0;Ce<C;Ce++){var ee=ye[g>>2],xe=ye[g+4>>2];g+=8;var ut=S.write(d,Qe,ee,xe,M);if(ut<0)return-1;Z+=ut}return Z}(qn.getStreamFromFD(d),g,C);return ye[M>>2]=Ce,0}catch(ee){if(typeof S>"u"||!(ee instanceof S.ErrnoError))throw ee;return ee.errno}},m:function ge(d,g,C,M,Z){return function N(d,g,C,M){var Z=O[M+40>>2],Ce={tm_sec:O[M>>2],tm_min:O[M+4>>2],tm_hour:O[M+8>>2],tm_mday:O[M+12>>2],tm_mon:O[M+16>>2],tm_year:O[M+20>>2],tm_wday:O[M+24>>2],tm_yday:O[M+28>>2],tm_isdst:O[M+32>>2],tm_gmtoff:O[M+36>>2],tm_zone:Z?$e(Z):""},ee=$e(C),xe={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ut in xe)ee=ee.replace(new RegExp(ut,"g"),xe[ut]);var $t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],mn=["January","February","March","April","May","June","July","August","September","October","November","December"];function Fn(gt,Lt,Ar){for(var Dn="number"==typeof gt?gt.toString():gt||"";Dn.length<Lt;)Dn=Ar[0]+Dn;return Dn}function Vt(gt,Lt){return Fn(gt,Lt,"0")}function jt(gt,Lt){function Ar(Uo){return Uo<0?-1:Uo>0?1:0}var Dn;return 0===(Dn=Ar(gt.getFullYear()-Lt.getFullYear()))&&0===(Dn=Ar(gt.getMonth()-Lt.getMonth()))&&(Dn=Ar(gt.getDate()-Lt.getDate())),Dn}function mt(gt){switch(gt.getDay()){case 0:return new Date(gt.getFullYear()-1,11,29);case 1:return gt;case 2:return new Date(gt.getFullYear(),0,3);case 3:return new Date(gt.getFullYear(),0,2);case 4:return new Date(gt.getFullYear(),0,1);case 5:return new Date(gt.getFullYear()-1,11,31);case 6:return new Date(gt.getFullYear()-1,11,30)}}function nn(gt){var Lt=function tr(d,g){for(var C=new Date(d.getTime());g>0;){var M=bo(C.getFullYear()),Z=C.getMonth(),Ce=(M?ys:Ri)[Z];if(!(g>Ce-C.getDate()))return C.setDate(C.getDate()+g),C;g-=Ce-C.getDate()+1,C.setDate(1),Z<11?C.setMonth(Z+1):(C.setMonth(0),C.setFullYear(C.getFullYear()+1))}return C}(new Date(gt.tm_year+1900,0,1),gt.tm_yday),Ar=new Date(Lt.getFullYear(),0,4),Dn=new Date(Lt.getFullYear()+1,0,4),Uo=mt(Ar),Or=mt(Dn);return jt(Uo,Lt)<=0?jt(Or,Lt)<=0?Lt.getFullYear()+1:Lt.getFullYear():Lt.getFullYear()-1}var Kn={"%a":function(gt){return $t[gt.tm_wday].substring(0,3)},"%A":function(gt){return $t[gt.tm_wday]},"%b":function(gt){return mn[gt.tm_mon].substring(0,3)},"%B":function(gt){return mn[gt.tm_mon]},"%C":function(gt){return Vt((gt.tm_year+1900)/100|0,2)},"%d":function(gt){return Vt(gt.tm_mday,2)},"%e":function(gt){return Fn(gt.tm_mday,2," ")},"%g":function(gt){return nn(gt).toString().substring(2)},"%G":function(gt){return nn(gt)},"%H":function(gt){return Vt(gt.tm_hour,2)},"%I":function(gt){var Lt=gt.tm_hour;return 0==Lt?Lt=12:Lt>12&&(Lt-=12),Vt(Lt,2)},"%j":function(gt){return Vt(gt.tm_mday+function ui(d,g){for(var C=0,M=0;M<=g;C+=d[M++]);return C}(bo(gt.tm_year+1900)?ys:Ri,gt.tm_mon-1),3)},"%m":function(gt){return Vt(gt.tm_mon+1,2)},"%M":function(gt){return Vt(gt.tm_min,2)},"%n":function(){return"\n"},"%p":function(gt){return gt.tm_hour>=0&&gt.tm_hour<12?"AM":"PM"},"%S":function(gt){return Vt(gt.tm_sec,2)},"%t":function(){return"\t"},"%u":function(gt){return gt.tm_wday||7},"%U":function(gt){return Vt(Math.floor((gt.tm_yday+7-gt.tm_wday)/7),2)},"%V":function(gt){var Lt=Math.floor((gt.tm_yday+7-(gt.tm_wday+6)%7)/7);if((gt.tm_wday+371-gt.tm_yday-2)%7<=2&&Lt++,Lt){if(53==Lt){var Dn=(gt.tm_wday+371-gt.tm_yday)%7;4!=Dn&&(3!=Dn||!bo(gt.tm_year))&&(Lt=1)}}else{Lt=52;var Ar=(gt.tm_wday+7-gt.tm_yday-1)%7;(4==Ar||5==Ar&&bo(gt.tm_year%400-1))&&Lt++}return Vt(Lt,2)},"%w":function(gt){return gt.tm_wday},"%W":function(gt){return Vt(Math.floor((gt.tm_yday+7-(gt.tm_wday+6)%7)/7),2)},"%y":function(gt){return(gt.tm_year+1900).toString().substring(2)},"%Y":function(gt){return gt.tm_year+1900},"%z":function(gt){var Lt=gt.tm_gmtoff,Ar=Lt>=0;return Lt=(Lt=Math.abs(Lt)/60)/60*100+Lt%60,(Ar?"+":"-")+String("0000"+Lt).slice(-4)},"%Z":function(gt){return gt.tm_zone},"%%":function(){return"%"}};for(var ut in ee=ee.replace(/%%/g,"\0\0"),Kn)ee.includes(ut)&&(ee=ee.replace(new RegExp(ut,"g"),Kn[ut](Ce)));var br=Jn(ee=ee.replace(/\0\0/g,"%"),!1);return br.length>g?0:(function x(d,g){Qe.set(d,g)}(br,d),br.length-1)}(d,g,C,M)}},St=(function Ur(){var d={a:it};function g(ee,xe){c.asm=ee.exports,Ve((de=c.asm.r).buffer),function Kr(d){Pe.unshift(d)}(c.asm.s),Pr()}function C(ee){g(ee.instance)}function M(ee){return function Xi(){return fe||!ue&&!Y||"function"!=typeof fetch?Promise.resolve().then(function(){return Yr(gn)}):fetch(gn,{credentials:"same-origin"}).then(function(d){if(!d.ok)throw"failed to load wasm binary file at '"+gn+"'";return d.arrayBuffer()}).catch(function(){return Yr(gn)})}().then(function(xe){return WebAssembly.instantiate(xe,d)}).then(function(xe){return xe}).then(ee,function(xe){K("failed to asynchronously prepare wasm: "+xe),ir(xe)})}if(Wr(),c.instantiateWasm)try{return c.instantiateWasm(d,g)}catch(ee){K("Module.instantiateWasm callback failed with error: "+ee),te(ee)}(function Z(){return fe||"function"!=typeof WebAssembly.instantiateStreaming||to(gn)||"function"!=typeof fetch?M(C):fetch(gn,{credentials:"same-origin"}).then(function(ee){return WebAssembly.instantiateStreaming(ee,d).then(C,function(ut){return K("wasm streaming compile failed: "+ut),K("falling back to ArrayBuffer instantiation"),M(C)})})})().catch(te)}(),c.___wasm_call_ctors=function(){return(c.___wasm_call_ctors=c.asm.s).apply(null,arguments)},c._malloc=function(){return(St=c._malloc=c.asm.t).apply(null,arguments)}),Io=(c._free=function(){return(c._free=c.asm.u).apply(null,arguments)},c._emscripten_bind_VoidPtr___destroy___0=function(){return(Io=c._emscripten_bind_VoidPtr___destroy___0=c.asm.v).apply(null,arguments)}),Qr=c._emscripten_bind_FileEntry_GetName_0=function(){return(Qr=c._emscripten_bind_FileEntry_GetName_0=c.asm.w).apply(null,arguments)},ko=c._emscripten_bind_FileEntry_IsDirectory_0=function(){return(ko=c._emscripten_bind_FileEntry_IsDirectory_0=c.asm.x).apply(null,arguments)},di=c._emscripten_bind_FileEntry_GetSize_0=function(){return(di=c._emscripten_bind_FileEntry_GetSize_0=c.asm.y).apply(null,arguments)},Sr=c._emscripten_bind_FileEntry_GetModifiedTS_0=function(){return(Sr=c._emscripten_bind_FileEntry_GetModifiedTS_0=c.asm.z).apply(null,arguments)},ts=c._emscripten_bind_FileEntry_GetAttributes_0=function(){return(ts=c._emscripten_bind_FileEntry_GetAttributes_0=c.asm.A).apply(null,arguments)},Oa=c._emscripten_bind_FileEntry___destroy___0=function(){return(Oa=c._emscripten_bind_FileEntry___destroy___0=c.asm.B).apply(null,arguments)},Na=c._emscripten_bind_Vfs_Vfs_0=function(){return(Na=c._emscripten_bind_Vfs_Vfs_0=c.asm.C).apply(null,arguments)},Si=c._emscripten_bind_Vfs_Malloc_1=function(){return(Si=c._emscripten_bind_Vfs_Malloc_1=c.asm.D).apply(null,arguments)},La=c._emscripten_bind_Vfs_Free_1=function(){return(La=c._emscripten_bind_Vfs_Free_1=c.asm.E).apply(null,arguments)},Us=c._emscripten_bind_Vfs_Nullptr_0=function(){return(Us=c._emscripten_bind_Vfs_Nullptr_0=c.asm.F).apply(null,arguments)},js=c._emscripten_bind_Vfs_AllocateImage_1=function(){return(js=c._emscripten_bind_Vfs_AllocateImage_1=c.asm.G).apply(null,arguments)},hl=c._emscripten_bind_Vfs_MountImage_1=function(){return(hl=c._emscripten_bind_Vfs_MountImage_1=c.asm.H).apply(null,arguments)},ml=c._emscripten_bind_Vfs_UnmountImage_1=function(){return(ml=c._emscripten_bind_Vfs_UnmountImage_1=c.asm.I).apply(null,arguments)},gl=c._emscripten_bind_Vfs_GetPendingImageSize_0=function(){return(gl=c._emscripten_bind_Vfs_GetPendingImageSize_0=c.asm.J).apply(null,arguments)},ra=c._emscripten_bind_Vfs_GetSize_1=function(){return(ra=c._emscripten_bind_Vfs_GetSize_1=c.asm.K).apply(null,arguments)},yl=c._emscripten_bind_Vfs_GetPendingImage_0=function(){return(yl=c._emscripten_bind_Vfs_GetPendingImage_0=c.asm.L).apply(null,arguments)},Mo=c._emscripten_bind_Vfs_GetImage_1=function(){return(Mo=c._emscripten_bind_Vfs_GetImage_1=c.asm.M).apply(null,arguments)},Wn=c._emscripten_bind_Vfs_GetDirtyPages_1=function(){return(Wn=c._emscripten_bind_Vfs_GetDirtyPages_1=c.asm.N).apply(null,arguments)},_l=c._emscripten_bind_Vfs_RenameFile_2=function(){return(_l=c._emscripten_bind_Vfs_RenameFile_2=c.asm.O).apply(null,arguments)},vl=c._emscripten_bind_Vfs_ChmodFile_3=function(){return(vl=c._emscripten_bind_Vfs_ChmodFile_3=c.asm.P).apply(null,arguments)},Jl=c._emscripten_bind_Vfs_StatFile_1=function(){return(Jl=c._emscripten_bind_Vfs_StatFile_1=c.asm.Q).apply(null,arguments)},yt=c._emscripten_bind_Vfs_UnlinkFile_1=function(){return(yt=c._emscripten_bind_Vfs_UnlinkFile_1=c.asm.R).apply(null,arguments)},Hs=c._emscripten_bind_Vfs_Mkdir_1=function(){return(Hs=c._emscripten_bind_Vfs_Mkdir_1=c.asm.S).apply(null,arguments)},gr=c._emscripten_bind_Vfs_GetEntry_0=function(){return(gr=c._emscripten_bind_Vfs_GetEntry_0=c.asm.T).apply(null,arguments)},_s=c._emscripten_bind_Vfs_BytesFree_1=function(){return(_s=c._emscripten_bind_Vfs_BytesFree_1=c.asm.U).apply(null,arguments)},oa=c._emscripten_bind_Vfs_BytesTotal_1=function(){return(oa=c._emscripten_bind_Vfs_BytesTotal_1=c.asm.V).apply(null,arguments)},oo=c._emscripten_bind_Vfs_ReadFile_1=function(){return(oo=c._emscripten_bind_Vfs_ReadFile_1=c.asm.W).apply(null,arguments)},ns=c._emscripten_bind_Vfs_GetCurrentFileSize_0=function(){return(ns=c._emscripten_bind_Vfs_GetCurrentFileSize_0=c.asm.X).apply(null,arguments)},Ei=c._emscripten_bind_Vfs_GetCurrentFileContent_0=function(){return(Ei=c._emscripten_bind_Vfs_GetCurrentFileContent_0=c.asm.Y).apply(null,arguments)},ia=c._emscripten_bind_Vfs_ReleaseCurrentFile_0=function(){return(ia=c._emscripten_bind_Vfs_ReleaseCurrentFile_0=c.asm.Z).apply(null,arguments)},Ps=c._emscripten_bind_Vfs___destroy___0=function(){return(Ps=c._emscripten_bind_Vfs___destroy___0=c.asm._).apply(null,arguments)},zs=c._emscripten_bind_ReaddirContext_ReaddirContext_1=function(){return(zs=c._emscripten_bind_ReaddirContext_ReaddirContext_1=c.asm.$).apply(null,arguments)},sa=c._emscripten_bind_ReaddirContext_Next_0=function(){return(sa=c._emscripten_bind_ReaddirContext_Next_0=c.asm.aa).apply(null,arguments)},$a=c._emscripten_bind_ReaddirContext_GetEntry_0=function(){return($a=c._emscripten_bind_ReaddirContext_GetEntry_0=c.asm.ba).apply(null,arguments)},kt=c._emscripten_bind_ReaddirContext_GetStatus_0=function(){return(kt=c._emscripten_bind_ReaddirContext_GetStatus_0=c.asm.ca).apply(null,arguments)},Gs=c._emscripten_bind_ReaddirContext_GetError_0=function(){return(Gs=c._emscripten_bind_ReaddirContext_GetError_0=c.asm.da).apply(null,arguments)},po=c._emscripten_bind_ReaddirContext_GetErrorDescription_0=function(){return(po=c._emscripten_bind_ReaddirContext_GetErrorDescription_0=c.asm.ea).apply(null,arguments)},sr=c._emscripten_bind_ReaddirContext___destroy___0=function(){return(sr=c._emscripten_bind_ReaddirContext___destroy___0=c.asm.fa).apply(null,arguments)},qr=c._emscripten_bind_CreateZipContext_CreateZipContext_2=function(){return(qr=c._emscripten_bind_CreateZipContext_CreateZipContext_2=c.asm.ga).apply(null,arguments)},Rr=c._emscripten_bind_CreateZipContext_AddFile_1=function(){return(Rr=c._emscripten_bind_CreateZipContext_AddFile_1=c.asm.ha).apply(null,arguments)},p=c._emscripten_bind_CreateZipContext_AddDirectory_1=function(){return(p=c._emscripten_bind_CreateZipContext_AddDirectory_1=c.asm.ia).apply(null,arguments)},y=c._emscripten_bind_CreateZipContext_Continue_0=function(){return(y=c._emscripten_bind_CreateZipContext_Continue_0=c.asm.ja).apply(null,arguments)},b=c._emscripten_bind_CreateZipContext_GetState_0=function(){return(b=c._emscripten_bind_CreateZipContext_GetState_0=c.asm.ka).apply(null,arguments)},F=c._emscripten_bind_CreateZipContext_GetZipContent_0=function(){return(F=c._emscripten_bind_CreateZipContext_GetZipContent_0=c.asm.la).apply(null,arguments)},H=c._emscripten_bind_CreateZipContext_GetZipSize_0=function(){return(H=c._emscripten_bind_CreateZipContext_GetZipSize_0=c.asm.ma).apply(null,arguments)},ve=c._emscripten_bind_CreateZipContext_GetErrorItem_0=function(){return(ve=c._emscripten_bind_CreateZipContext_GetErrorItem_0=c.asm.na).apply(null,arguments)},Ee=c._emscripten_bind_CreateZipContext___destroy___0=function(){return(Ee=c._emscripten_bind_CreateZipContext___destroy___0=c.asm.oa).apply(null,arguments)},je=c._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=function(){return(je=c._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=c.asm.pa).apply(null,arguments)},Et=c._emscripten_bind_DeleteRecursiveContext_AddFile_1=function(){return(Et=c._emscripten_bind_DeleteRecursiveContext_AddFile_1=c.asm.qa).apply(null,arguments)},pn=c._emscripten_bind_DeleteRecursiveContext_AddDirectory_1=function(){return(pn=c._emscripten_bind_DeleteRecursiveContext_AddDirectory_1=c.asm.ra).apply(null,arguments)},Tn=c._emscripten_bind_DeleteRecursiveContext_Continue_0=function(){return(Tn=c._emscripten_bind_DeleteRecursiveContext_Continue_0=c.asm.sa).apply(null,arguments)},An=c._emscripten_bind_DeleteRecursiveContext_GetState_0=function(){return(An=c._emscripten_bind_DeleteRecursiveContext_GetState_0=c.asm.ta).apply(null,arguments)},Wt=c._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=function(){return(Wt=c._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=c.asm.ua).apply(null,arguments)},Yt=c._emscripten_bind_DeleteRecursiveContext___destroy___0=function(){return(Yt=c._emscripten_bind_DeleteRecursiveContext___destroy___0=c.asm.va).apply(null,arguments)};function Xt(d){var g=c._main;try{var Z=g(0,0);return function Oe(d,g){ce=d,function Se(d){ce=d,function rn(){return Fe}()||(c.onExit&&c.onExit(d),st=!0),V(d,new ze(d))}(d)}(Z),Z}catch(Ce){return function R(d){if(d instanceof ze||"unwind"==d)return ce;V(1,d)}(Ce)}}function jr(d){function g(){ht||(ht=!0,c.calledRun=!0,!st&&(function vn(){!c.noFSInit&&!S.init.initialized&&S.init(),S.ignorePermissions=!1,er.init(),Pn(Pe)}(),function dr(){Pn(Mt)}(),oe(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),fr&&Xt(),function Qn(){if(c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;)d=c.postRun.shift(),cn.unshift(d);var d;Pn(cn)}()))}d=d||X,xn>0||(function G(){if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)d=c.preRun.shift(),pt.unshift(d);var d;Pn(pt)}(),xn>0)||(c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),g()},1)):g())}if(c._main=function(){return(c._main=c.asm.wa).apply(null,arguments)},c.___original_main=function(){return(c.___original_main=c.asm.ya).apply(null,arguments)},c.___start_em_js=19112,c.___stop_em_js=19210,Un=function d(){ht||jr(),ht||(Un=d)},c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);c.preInit.length>0;)c.preInit.pop()();var fr=!0;function pr(){}function Zn(d){return(d||pr).__cache__}function yr(d,g){var C=Zn(g),M=C[d];return M||((M=Object.create((g||pr).prototype)).ptr=d,C[d]=M)}c.noInitialRun&&(fr=!1),jr(),(pr.prototype=Object.create(pr.prototype)).constructor=pr,pr.prototype.__class__=pr,pr.__cache__={},c.WrapperObject=pr,c.getCache=Zn,c.wrapPointer=yr,c.castObject=function pd(d,g){return yr(d.ptr,g)},c.NULL=yr(0),c.destroy=function hd(d){if(!d.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";d.__destroy__(),delete Zn(d.__class__)[d.ptr]},c.compare=function Fi(d,g){return d.ptr===g.ptr},c.getPointer=function rs(d){return d.ptr},c.getClass=function rr(d){return d.__class__};var Rn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(Rn.needed){for(var d=0;d<Rn.temps.length;d++)c._free(Rn.temps[d]);Rn.temps.length=0,c._free(Rn.buffer),Rn.buffer=0,Rn.size+=Rn.needed,Rn.needed=0}Rn.buffer||(Rn.size+=128,Rn.buffer=c._malloc(Rn.size),we(Rn.buffer)),Rn.pos=0},alloc:function(d,g){we(Rn.buffer);var Z,M=d.length*g.BYTES_PER_ELEMENT;return Rn.pos+(M=M+7&-8)>=Rn.size?(we(M>0),Rn.needed+=M,Z=c._malloc(M),Rn.temps.push(Z)):(Z=Rn.buffer+Rn.pos,Rn.pos+=M),Z},copy:function(d,g,C){switch(C>>>=0,g.BYTES_PER_ELEMENT){case 2:C>>>=1;break;case 4:C>>>=2;break;case 8:C>>>=3}for(var Z=0;Z<d.length;Z++)g[C+Z]=d[Z]}};function To(d){if("string"==typeof d){var g=Jn(d),C=Rn.alloc(g,Qe);return Rn.copy(g,Qe,C),C}return d}function io(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Fr(){throw"cannot construct a FileEntry, no constructor in IDL"}function Zt(){this.ptr=Na(),Zn(Zt)[this.ptr]=this}function Er(d){Rn.prepare(),d=d&&"object"==typeof d?d.ptr:To(d),this.ptr=zs(d),Zn(Er)[this.ptr]=this}function _r(d,g){Rn.prepare(),d=d&&"object"==typeof d?d.ptr:To(d),g&&"object"==typeof g&&(g=g.ptr),this.ptr=qr(d,g),Zn(_r)[this.ptr]=this}function Xe(d){d&&"object"==typeof d&&(d=d.ptr),this.ptr=je(d),Zn(Xe)[this.ptr]=this}return(io.prototype=Object.create(pr.prototype)).constructor=io,io.prototype.__class__=io,io.__cache__={},c.VoidPtr=io,io.prototype.__destroy__=io.prototype.__destroy__=function(){Io(this.ptr)},(Fr.prototype=Object.create(pr.prototype)).constructor=Fr,Fr.prototype.__class__=Fr,Fr.__cache__={},c.FileEntry=Fr,Fr.prototype.GetName=Fr.prototype.GetName=function(){return $e(Qr(this.ptr))},Fr.prototype.IsDirectory=Fr.prototype.IsDirectory=function(){return!!ko(this.ptr)},Fr.prototype.GetSize=Fr.prototype.GetSize=function(){return di(this.ptr)},Fr.prototype.GetModifiedTS=Fr.prototype.GetModifiedTS=function(){return Sr(this.ptr)},Fr.prototype.GetAttributes=Fr.prototype.GetAttributes=function(){return ts(this.ptr)},Fr.prototype.__destroy__=Fr.prototype.__destroy__=function(){Oa(this.ptr)},(Zt.prototype=Object.create(pr.prototype)).constructor=Zt,Zt.prototype.__class__=Zt,Zt.__cache__={},c.Vfs=Zt,Zt.prototype.Malloc=Zt.prototype.Malloc=function(d){return d&&"object"==typeof d&&(d=d.ptr),yr(Si(this.ptr,d),io)},Zt.prototype.Free=Zt.prototype.Free=function(d){d&&"object"==typeof d&&(d=d.ptr),La(this.ptr,d)},Zt.prototype.Nullptr=Zt.prototype.Nullptr=function(){return yr(Us(this.ptr),io)},Zt.prototype.AllocateImage=Zt.prototype.AllocateImage=function(d){d&&"object"==typeof d&&(d=d.ptr),js(this.ptr,d)},Zt.prototype.MountImage=Zt.prototype.MountImage=function(d){return d&&"object"==typeof d&&(d=d.ptr),!!hl(this.ptr,d)},Zt.prototype.UnmountImage=Zt.prototype.UnmountImage=function(d){d&&"object"==typeof d&&(d=d.ptr),ml(this.ptr,d)},Zt.prototype.GetPendingImageSize=Zt.prototype.GetPendingImageSize=function(){return gl(this.ptr)},Zt.prototype.GetSize=Zt.prototype.GetSize=function(d){return d&&"object"==typeof d&&(d=d.ptr),ra(this.ptr,d)},Zt.prototype.GetPendingImage=Zt.prototype.GetPendingImage=function(){return yr(yl(this.ptr),io)},Zt.prototype.GetImage=Zt.prototype.GetImage=function(d){return d&&"object"==typeof d&&(d=d.ptr),yr(Mo(this.ptr,d),io)},Zt.prototype.GetDirtyPages=Zt.prototype.GetDirtyPages=function(d){return d&&"object"==typeof d&&(d=d.ptr),yr(Wn(this.ptr,d),io)},Zt.prototype.RenameFile=Zt.prototype.RenameFile=function(d,g){var C=this.ptr;return Rn.prepare(),d=d&&"object"==typeof d?d.ptr:To(d),g=g&&"object"==typeof g?g.ptr:To(g),_l(C,d,g)},Zt.prototype.ChmodFile=Zt.prototype.ChmodFile=function(d,g,C){var M=this.ptr;return Rn.prepare(),d=d&&"object"==typeof d?d.ptr:To(d),g&&"object"==typeof g&&(g=g.ptr),C&&"object"==typeof C&&(C=C.ptr),vl(M,d,g,C)},Zt.prototype.StatFile=Zt.prototype.StatFile=function(d){var g=this.ptr;return Rn.prepare(),d=d&&"object"==typeof d?d.ptr:To(d),Jl(g,d)},Zt.prototype.UnlinkFile=Zt.prototype.UnlinkFile=function(d){var g=this.ptr;return Rn.prepare(),d=d&&"object"==typeof d?d.ptr:To(d),yt(g,d)},Zt.prototype.Mkdir=Zt.prototype.Mkdir=function(d){var g=this.ptr;return Rn.prepare(),d=d&&"object"==typeof d?d.ptr:To(d),Hs(g,d)},Zt.prototype.GetEntry=Zt.prototype.GetEntry=function(){return yr(gr(this.ptr),Fr)},Zt.prototype.BytesFree=Zt.prototype.BytesFree=function(d){return d&&"object"==typeof d&&(d=d.ptr),_s(this.ptr,d)},Zt.prototype.BytesTotal=Zt.prototype.BytesTotal=function(d){return d&&"object"==typeof d&&(d=d.ptr),oa(this.ptr,d)},Zt.prototype.ReadFile=Zt.prototype.ReadFile=function(d){var g=this.ptr;return Rn.prepare(),d=d&&"object"==typeof d?d.ptr:To(d),!!oo(g,d)},Zt.prototype.GetCurrentFileSize=Zt.prototype.GetCurrentFileSize=function(){return ns(this.ptr)},Zt.prototype.GetCurrentFileContent=Zt.prototype.GetCurrentFileContent=function(){return yr(Ei(this.ptr),io)},Zt.prototype.ReleaseCurrentFile=Zt.prototype.ReleaseCurrentFile=function(){ia(this.ptr)},Zt.prototype.__destroy__=Zt.prototype.__destroy__=function(){Ps(this.ptr)},(Er.prototype=Object.create(pr.prototype)).constructor=Er,Er.prototype.__class__=Er,Er.__cache__={},c.ReaddirContext=Er,Er.prototype.Next=Er.prototype.Next=function(){return sa(this.ptr)},Er.prototype.GetEntry=Er.prototype.GetEntry=function(){return yr($a(this.ptr),Fr)},Er.prototype.GetStatus=Er.prototype.GetStatus=function(){return kt(this.ptr)},Er.prototype.GetError=Er.prototype.GetError=function(){return Gs(this.ptr)},Er.prototype.GetErrorDescription=Er.prototype.GetErrorDescription=function(){return $e(po(this.ptr))},Er.prototype.__destroy__=Er.prototype.__destroy__=function(){sr(this.ptr)},(_r.prototype=Object.create(pr.prototype)).constructor=_r,_r.prototype.__class__=_r,_r.__cache__={},c.CreateZipContext=_r,_r.prototype.AddFile=_r.prototype.AddFile=function(d){var g=this.ptr;return Rn.prepare(),d=d&&"object"==typeof d?d.ptr:To(d),yr(Rr(g,d),_r)},_r.prototype.AddDirectory=_r.prototype.AddDirectory=function(d){var g=this.ptr;return Rn.prepare(),d=d&&"object"==typeof d?d.ptr:To(d),yr(p(g,d),_r)},_r.prototype.Continue=_r.prototype.Continue=function(){return y(this.ptr)},_r.prototype.GetState=_r.prototype.GetState=function(){return b(this.ptr)},_r.prototype.GetZipContent=_r.prototype.GetZipContent=function(){return yr(F(this.ptr),io)},_r.prototype.GetZipSize=_r.prototype.GetZipSize=function(){return H(this.ptr)},_r.prototype.GetErrorItem=_r.prototype.GetErrorItem=function(){return $e(ve(this.ptr))},_r.prototype.__destroy__=_r.prototype.__destroy__=function(){Ee(this.ptr)},(Xe.prototype=Object.create(pr.prototype)).constructor=Xe,Xe.prototype.__class__=Xe,Xe.__cache__={},c.DeleteRecursiveContext=Xe,Xe.prototype.AddFile=Xe.prototype.AddFile=function(d){var g=this.ptr;return Rn.prepare(),d=d&&"object"==typeof d?d.ptr:To(d),yr(Et(g,d),Xe)},Xe.prototype.AddDirectory=Xe.prototype.AddDirectory=function(d){var g=this.ptr;return Rn.prepare(),d=d&&"object"==typeof d?d.ptr:To(d),yr(pn(g,d),Xe)},Xe.prototype.Continue=Xe.prototype.Continue=function(){return Tn(this.ptr)},Xe.prototype.GetState=Xe.prototype.GetState=function(){return An(this.ptr)},Xe.prototype.GetFailingPath=Xe.prototype.GetFailingPath=function(){return $e(Wt(this.ptr))},Xe.prototype.__destroy__=Xe.prototype.__destroy__=function(){Yt(this.ptr)},I.ready});Be.exports=Ge},5933:(Be,Ge,P)=>{"use strict";P.d(Ge,{c:()=>Le});var I=P(9259),c=P(2286);let oe;const z=me=>me.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),X=me=>(void 0===oe&&(oe=void 0===me.style.animationName&&void 0!==me.style.webkitAnimationName?"-webkit-":""),oe),L=(me,W,K)=>{const fe=W.startsWith("animation")?X(me):"";me.style.setProperty(fe+W,K)},V=(me,W)=>{const K=W.startsWith("animation")?X(me):"";me.style.removeProperty(K+W)},ie=[],Re=(me=[],W)=>{if(void 0!==W){const K=Array.isArray(W)?W:[W];return[...me,...K]}return me},Le=me=>{let W,K,fe,Fe,de,st,$e,O,ye,nt,rt,pt,Pe,ce=[],we=[],De=[],Ye=!1,Me={},re=[],Ue=[],Qe={},vt=0,dn=!1,We=!1,Ve=!0,q=!1,_e=!0,Mt=!1;const cn=me,en=[],rn=[],G=[],vn=[],dr=[],Qn=[],No=[],Kr=[],_i=[],xn=[],uo="function"==typeof AnimationEffect||void 0!==c.w&&"function"==typeof c.w.AnimationEffect,Un="function"==typeof Element&&"function"==typeof Element.prototype.animate&&uo,Wr=()=>xn,gn=(R,pe)=>((pe?.oneTimeCallback?rn:en).push({c:R,o:pe}),Pe),Xi=()=>{if(Un)xn.forEach(R=>{R.cancel()}),xn.length=0;else{const R=G.slice();(0,I.r)(()=>{R.forEach(pe=>{V(pe,"animation-name"),V(pe,"animation-duration"),V(pe,"animation-timing-function"),V(pe,"animation-iteration-count"),V(pe,"animation-delay"),V(pe,"animation-play-state"),V(pe,"animation-fill-mode"),V(pe,"animation-direction")})})}},Ur=()=>{dr.forEach(R=>{R?.parentNode&&R.parentNode.removeChild(R)}),dr.length=0},zt=()=>void 0!==de?de:$e?$e.getFill():"both",E=()=>void 0!==ye?ye:void 0!==st?st:$e?$e.getDirection():"normal",S=()=>dn?"linear":void 0!==fe?fe:$e?$e.getEasing():"linear",qn=()=>We?0:void 0!==nt?nt:void 0!==K?K:$e?$e.getDuration():0,D=()=>void 0!==Fe?Fe:$e?$e.getIterations():1,On=()=>void 0!==rt?rt:void 0!==W?W:$e?$e.getDelay():0,wo=()=>{0!==vt&&(vt--,0===vt&&((()=>{lr(),Kr.forEach(it=>it()),_i.forEach(it=>it());const R=Ve?1:0,pe=re,Ie=Ue,Je=Qe;G.forEach(it=>{const Ae=it.classList;pe.forEach(Gt=>Ae.add(Gt)),Ie.forEach(Gt=>Ae.remove(Gt));for(const Gt in Je)Je.hasOwnProperty(Gt)&&L(it,Gt,Je[Gt])}),en.forEach(it=>it.c(R,Pe)),rn.forEach(it=>it.c(R,Pe)),rn.length=0,_e=!0,Ve&&(q=!0),Ve=!0})(),$e&&$e.animationFinish()))},Zr=(R=!0)=>{Ur();const pe=(me=>(me.forEach(W=>{for(const K in W)if(W.hasOwnProperty(K)){const fe=W[K];if("easing"===K)W["animation-timing-function"]=fe,delete W[K];else{const Fe=z(K);Fe!==K&&(W[Fe]=fe,delete W[K])}}}),me))(ce);G.forEach(Ie=>{if(pe.length>0){const Je=((me=[])=>me.map(W=>{const K=W.offset,fe=[];for(const Fe in W)W.hasOwnProperty(Fe)&&"offset"!==Fe&&fe.push(`${Fe}: ${W[Fe]};`);return`${100*K}% { ${fe.join(" ")} }`}).join(" "))(pe);pt=void 0!==me?me:(me=>{let W=ie.indexOf(me);return W<0&&(W=ie.push(me)-1),`ion-animation-${W}`})(Je);const it=((me,W,K)=>{var fe;const Fe=(me=>{const W=void 0!==me.getRootNode?me.getRootNode():me;return W.head||W})(K),de=X(K),st=Fe.querySelector("#"+me);if(st)return st;const ce=(null!==(fe=K.ownerDocument)&&void 0!==fe?fe:document).createElement("style");return ce.id=me,ce.textContent=`@${de}keyframes ${me} { ${W} } @${de}keyframes ${me}-alt { ${W} }`,Fe.appendChild(ce),ce})(pt,Je,Ie);dr.push(it),L(Ie,"animation-duration",`${qn()}ms`),L(Ie,"animation-timing-function",S()),L(Ie,"animation-delay",`${On()}ms`),L(Ie,"animation-fill-mode",zt()),L(Ie,"animation-direction",E());const Ae=D()===1/0?"infinite":D().toString();L(Ie,"animation-iteration-count",Ae),L(Ie,"animation-play-state","paused"),R&&L(Ie,"animation-name",`${it.id}-alt`),(0,I.r)(()=>{L(Ie,"animation-name",it.id||null)})}})},Jo=(R=!0)=>{(()=>{Qn.forEach(Je=>Je()),No.forEach(Je=>Je());const R=we,pe=De,Ie=Me;G.forEach(Je=>{const it=Je.classList;R.forEach(Ae=>it.add(Ae)),pe.forEach(Ae=>it.remove(Ae));for(const Ae in Ie)Ie.hasOwnProperty(Ae)&&L(Je,Ae,Ie[Ae])})})(),ce.length>0&&(Un?(G.forEach(R=>{const pe=R.animate(ce,{id:cn,delay:On(),duration:qn(),easing:S(),iterations:D(),fill:zt(),direction:E()});pe.pause(),xn.push(pe)}),xn.length>0&&(xn[0].onfinish=()=>{wo()})):Zr(R)),Ye=!0},Do=R=>{if(R=Math.min(Math.max(R,0),.9999),Un)xn.forEach(pe=>{pe.currentTime=pe.effect.getComputedTiming().delay+qn()*R,pe.pause()});else{const pe=`-${qn()*R}ms`;G.forEach(Ie=>{ce.length>0&&(L(Ie,"animation-delay",pe),L(Ie,"animation-play-state","paused"))})}},ro=R=>{xn.forEach(pe=>{pe.effect.updateTiming({delay:On(),duration:qn(),easing:S(),iterations:D(),fill:zt(),direction:E()})}),void 0!==R&&Do(R)},Ji=(R=!0,pe)=>{(0,I.r)(()=>{G.forEach(Ie=>{L(Ie,"animation-name",pt||null),L(Ie,"animation-duration",`${qn()}ms`),L(Ie,"animation-timing-function",S()),L(Ie,"animation-delay",void 0!==pe?`-${pe*qn()}ms`:`${On()}ms`),L(Ie,"animation-fill-mode",zt()||null),L(Ie,"animation-direction",E()||null);const Je=D()===1/0?"infinite":D().toString();L(Ie,"animation-iteration-count",Je),R&&L(Ie,"animation-name",`${pt}-alt`),(0,I.r)(()=>{L(Ie,"animation-name",pt||null)})})})},fo=(R=!1,pe=!0,Ie)=>(R&&vn.forEach(Je=>{Je.update(R,pe,Ie)}),Un?ro(Ie):Ji(pe,Ie),Pe),es=()=>{Ye&&(Un?xn.forEach(R=>{R.pause()}):G.forEach(R=>{L(R,"animation-play-state","paused")}),Mt=!0)},xs=()=>{O=void 0,wo()},lr=()=>{O&&clearTimeout(O)},x=R=>new Promise(pe=>{R?.sync&&(We=!0,gn(()=>We=!1,{oneTimeCallback:!0})),Ye||Jo(),q&&(Un?(Do(0),ro()):Ji(),q=!1),_e&&(vt=vn.length+1,_e=!1),gn(()=>pe(),{oneTimeCallback:!0}),vn.forEach(Ie=>{Ie.play()}),Un?(xn.forEach(R=>{R.play()}),(0===ce.length||0===G.length)&&wo()):(()=>{if(lr(),(0,I.r)(()=>{G.forEach(R=>{ce.length>0&&L(R,"animation-play-state","running")})}),0===ce.length||0===G.length)wo();else{const R=On()||0,pe=qn()||0,Ie=D()||1;isFinite(Ie)&&(O=setTimeout(xs,R+pe*Ie+100)),((me,W)=>{let K;const fe={passive:!0},de=st=>{me===st.target&&(K&&K(),lr(),(0,I.r)(()=>{G.forEach(R=>{V(R,"animation-duration"),V(R,"animation-delay"),V(R,"animation-play-state")}),(0,I.r)(wo)}))};me&&(me.addEventListener("webkitAnimationEnd",de,fe),me.addEventListener("animationend",de,fe),K=()=>{me.removeEventListener("webkitAnimationEnd",de,fe),me.removeEventListener("animationend",de,fe)})})(G[0])}})(),Mt=!1}),ge=(R,pe)=>{const Ie=ce[0];return void 0===Ie||void 0!==Ie.offset&&0!==Ie.offset?ce=[{offset:0,[R]:pe},...ce]:Ie[R]=pe,Pe};return Pe={parentAnimation:$e,elements:G,childAnimations:vn,id:cn,animationFinish:wo,from:ge,to:(R,pe)=>{const Ie=ce[ce.length-1];return void 0===Ie||void 0!==Ie.offset&&1!==Ie.offset?ce=[...ce,{offset:1,[R]:pe}]:Ie[R]=pe,Pe},fromTo:(R,pe,Ie)=>ge(R,pe).to(R,Ie),parent:R=>($e=R,Pe),play:x,pause:()=>(vn.forEach(R=>{R.pause()}),es(),Pe),stop:()=>{vn.forEach(R=>{R.stop()}),Ye&&(Xi(),Ye=!1),dn=!1,We=!1,_e=!0,ye=void 0,nt=void 0,rt=void 0,vt=0,q=!1,Ve=!0,Mt=!1},destroy:R=>(vn.forEach(pe=>{pe.destroy(R)}),(R=>{Xi(),R&&Ur()})(R),G.length=0,vn.length=0,ce.length=0,en.length=0,rn.length=0,Ye=!1,_e=!0,Pe),keyframes:R=>{const pe=ce!==R;return ce=R,pe&&(R=>{Un?Wr().forEach(pe=>{if(pe.effect.setKeyframes)pe.effect.setKeyframes(R);else{const Ie=new KeyframeEffect(pe.effect.target,R,pe.effect.getTiming());pe.effect=Ie}}):Zr()})(ce),Pe},addAnimation:R=>{if(null!=R)if(Array.isArray(R))for(const pe of R)pe.parent(Pe),vn.push(pe);else R.parent(Pe),vn.push(R);return Pe},addElement:R=>{if(null!=R)if(1===R.nodeType)G.push(R);else if(R.length>=0)for(let pe=0;pe<R.length;pe++)G.push(R[pe]);else console.error("Invalid addElement value");return Pe},update:fo,fill:R=>(de=R,fo(!0),Pe),direction:R=>(st=R,fo(!0),Pe),iterations:R=>(Fe=R,fo(!0),Pe),duration:R=>(!Un&&0===R&&(R=1),K=R,fo(!0),Pe),easing:R=>(fe=R,fo(!0),Pe),delay:R=>(W=R,fo(!0),Pe),getWebAnimations:Wr,getKeyframes:()=>ce,getFill:zt,getDirection:E,getDelay:On,getIterations:D,getEasing:S,getDuration:qn,afterAddRead:R=>(Kr.push(R),Pe),afterAddWrite:R=>(_i.push(R),Pe),afterClearStyles:(R=[])=>{for(const pe of R)Qe[pe]="";return Pe},afterStyles:(R={})=>(Qe=R,Pe),afterRemoveClass:R=>(Ue=Re(Ue,R),Pe),afterAddClass:R=>(re=Re(re,R),Pe),beforeAddRead:R=>(Qn.push(R),Pe),beforeAddWrite:R=>(No.push(R),Pe),beforeClearStyles:(R=[])=>{for(const pe of R)Me[pe]="";return Pe},beforeStyles:(R={})=>(Me=R,Pe),beforeRemoveClass:R=>(De=Re(De,R),Pe),beforeAddClass:R=>(we=Re(we,R),Pe),onFinish:gn,isRunning:()=>0!==vt&&!Mt,progressStart:(R=!1,pe)=>(vn.forEach(Ie=>{Ie.progressStart(R,pe)}),es(),dn=R,Ye||Jo(),fo(!1,!0,pe),Pe),progressStep:R=>(vn.forEach(pe=>{pe.progressStep(R)}),Do(R),Pe),progressEnd:(R,pe,Ie)=>(dn=!1,vn.forEach(Je=>{Je.progressEnd(R,pe,Ie)}),void 0!==Ie&&(nt=Ie),q=!1,Ve=!0,0===R?(ye="reverse"===E()?"normal":"reverse","reverse"===ye&&(Ve=!1),Un?(fo(),Do(1-pe)):(rt=(1-pe)*qn()*-1,fo(!1,!1))):1===R&&(Un?(fo(),Do(pe)):(rt=pe*qn()*-1,fo(!1,!1))),void 0!==R&&(gn(()=>{nt=void 0,ye=void 0,rt=void 0},{oneTimeCallback:!0}),$e||x()),Pe)}}},6379:(Be,Ge,P)=>{"use strict";P.d(Ge,{G:()=>z});class c{constructor(L,V,ue,Y,ie){this.id=V,this.name=ue,this.disableScroll=ie,this.priority=1e6*Y+V,this.ctrl=L}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const L=this.ctrl.capture(this.name,this.id,this.priority);return L&&this.disableScroll&&this.ctrl.disableScroll(this.id),L}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class oe{constructor(L,V,ue,Y){this.id=V,this.disable=ue,this.disableScroll=Y,this.ctrl=L}block(){if(this.ctrl){if(this.disable)for(const L of this.disable)this.ctrl.disableGesture(L,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const L of this.disable)this.ctrl.enableGesture(L,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const te="backdrop-no-scroll",z=new class I{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(L){var V;return new c(this,this.newID(),L.name,null!==(V=L.priority)&&void 0!==V?V:0,!!L.disableScroll)}createBlocker(L={}){return new oe(this,this.newID(),L.disable,!!L.disableScroll)}start(L,V,ue){return this.canStart(L)?(this.requestedStart.set(V,ue),!0):(this.requestedStart.delete(V),!1)}capture(L,V,ue){if(!this.start(L,V,ue))return!1;const Y=this.requestedStart;let ie=-1e4;if(Y.forEach(B=>{ie=Math.max(ie,B)}),ie===ue){this.capturedId=V,Y.clear();const B=new CustomEvent("ionGestureCaptured",{detail:{gestureName:L}});return document.dispatchEvent(B),!0}return Y.delete(V),!1}release(L){this.requestedStart.delete(L),this.capturedId===L&&(this.capturedId=void 0)}disableGesture(L,V){let ue=this.disabledGestures.get(L);void 0===ue&&(ue=new Set,this.disabledGestures.set(L,ue)),ue.add(V)}enableGesture(L,V){const ue=this.disabledGestures.get(L);void 0!==ue&&ue.delete(V)}disableScroll(L){this.disabledScroll.add(L),1===this.disabledScroll.size&&document.body.classList.add(te)}enableScroll(L){this.disabledScroll.delete(L),0===this.disabledScroll.size&&document.body.classList.remove(te)}canStart(L){return!(void 0!==this.capturedId||this.isDisabled(L))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(L){const V=this.disabledGestures.get(L);return!!(V&&V.size>0)}newID(){return this.gestureId++,this.gestureId}}},159:(Be,Ge,P)=>{"use strict";P.r(Ge),P.d(Ge,{MENU_BACK_BUTTON_PRIORITY:()=>z,OVERLAY_BACK_BUTTON_PRIORITY:()=>te,blockHardwareBackButton:()=>c,startHardwareBackButton:()=>oe});var I=P(3918);const c=()=>{document.addEventListener("backbutton",()=>{})},oe=()=>{const X=document;let L=!1;X.addEventListener("backbutton",()=>{if(L)return;let V=0,ue=[];const Y=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register($,j){ue.push({priority:$,handler:j,id:V++})}}});X.dispatchEvent(Y);const ie=function(){var $=(0,I.Z)(function*(j){try{if(j?.handler){const Re=j.handler(B);null!=Re&&(yield Re)}}catch(Re){console.error(Re)}});return function(Re){return $.apply(this,arguments)}}(),B=()=>{if(ue.length>0){let $={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};ue.forEach(j=>{j.priority>=$.priority&&($=j)}),L=!0,ue=ue.filter(j=>j.id!==$.id),ie($).then(()=>L=!1)}};B()})},te=100,z=99},9259:(Be,Ge,P)=>{"use strict";P.d(Ge,{a:()=>L,b:()=>V,c:()=>oe,d:()=>j,e:()=>Re,f:()=>$,g:()=>ue,h:()=>Fe,i:()=>X,j:()=>te,k:()=>B,l:()=>Le,m:()=>ie,n:()=>me,o:()=>fe,p:()=>K,q:()=>de,r:()=>Y,s:()=>st,t:()=>I,u:()=>W});const I=(ce,we=0)=>new Promise(De=>{c(ce,we,De)}),c=(ce,we=0,De)=>{let Ye,$e;const Me={passive:!0},Ue=()=>{Ye&&Ye()},Qe=vt=>{(void 0===vt||ce===vt.target)&&(Ue(),De(vt))};return ce&&(ce.addEventListener("webkitTransitionEnd",Qe,Me),ce.addEventListener("transitionend",Qe,Me),$e=setTimeout(Qe,we+500),Ye=()=>{$e&&(clearTimeout($e),$e=void 0),ce.removeEventListener("webkitTransitionEnd",Qe,Me),ce.removeEventListener("transitionend",Qe,Me)}),Ue},oe=(ce,we)=>{ce.componentOnReady?ce.componentOnReady().then(De=>we(De)):Y(()=>we(ce))},te=(ce,we=[])=>{const De={};return we.forEach(Ye=>{ce.hasAttribute(Ye)&&(null!==ce.getAttribute(Ye)&&(De[Ye]=ce.getAttribute(Ye)),ce.removeAttribute(Ye))}),De},z=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],X=(ce,we)=>{let De=z;return we&&we.length>0&&(De=De.filter(Ye=>!we.includes(Ye))),te(ce,De)},L=(ce,we,De,Ye)=>{var $e;if(typeof window<"u"){const re=null===($e=window?.Ionic)||void 0===$e?void 0:$e.config;if(re){const Ue=re.get("_ael");if(Ue)return Ue(ce,we,De,Ye);if(re._ael)return re._ael(ce,we,De,Ye)}}return ce.addEventListener(we,De,Ye)},V=(ce,we,De,Ye)=>{var $e;if(typeof window<"u"){const re=null===($e=window?.Ionic)||void 0===$e?void 0:$e.config;if(re){const Ue=re.get("_rel");if(Ue)return Ue(ce,we,De,Ye);if(re._rel)return re._rel(ce,we,De,Ye)}}return ce.removeEventListener(we,De,Ye)},ue=(ce,we=ce)=>ce.shadowRoot||we,Y=ce=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ce):"function"==typeof requestAnimationFrame?requestAnimationFrame(ce):setTimeout(ce),ie=ce=>!!ce.shadowRoot&&!!ce.attachShadow,B=ce=>{const we=ce.closest("ion-item");return we?we.querySelector("ion-label"):null},$=ce=>{if(ce.focus(),ce.classList.contains("ion-focusable")){const we=ce.closest("ion-app");we&&we.setFocus([ce])}},j=(ce,we)=>{let De;const Ye=ce.getAttribute("aria-labelledby"),$e=ce.id;let Me=null!==Ye&&""!==Ye.trim()?Ye:we+"-lbl",re=null!==Ye&&""!==Ye.trim()?document.getElementById(Ye):B(ce);return re?(null===Ye&&(re.id=Me),De=re.textContent,re.setAttribute("aria-hidden","true")):""!==$e.trim()&&(re=document.querySelector(`label[for="${$e}"]`),re&&(""!==re.id?Me=re.id:re.id=Me=`${$e}-lbl`,De=re.textContent)),{label:re,labelId:Me,labelText:De}},Re=(ce,we,De,Ye,$e)=>{if(ce||ie(we)){let Me=we.querySelector("input.aux-input");Me||(Me=we.ownerDocument.createElement("input"),Me.type="hidden",Me.classList.add("aux-input"),we.appendChild(Me)),Me.disabled=$e,Me.name=De,Me.value=Ye||""}},Le=(ce,we,De)=>Math.max(ce,Math.min(we,De)),me=(ce,we)=>{if(!ce){const De="ASSERT: "+we;throw console.error(De),new Error(De)}},W=ce=>ce.timeStamp||Date.now(),K=ce=>{if(ce){const we=ce.changedTouches;if(we&&we.length>0){const De=we[0];return{x:De.clientX,y:De.clientY}}if(void 0!==ce.pageX)return{x:ce.pageX,y:ce.pageY}}return{x:0,y:0}},fe=ce=>{const we="rtl"===document.dir;switch(ce){case"start":return we;case"end":return!we;default:throw new Error(`"${ce}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Fe=(ce,we)=>{const De=ce._original||ce;return{_original:ce,emit:de(De.emit.bind(De),we)}},de=(ce,we=0)=>{let De;return(...Ye)=>{clearTimeout(De),De=setTimeout(ce,we,...Ye)}},st=(ce,we)=>{if(ce??(ce={}),we??(we={}),ce===we)return!0;const De=Object.keys(ce);if(De.length!==Object.keys(we).length)return!1;for(const Ye of De)if(!(Ye in we)||ce[Ye]!==we[Ye])return!1;return!0}},919:(Be,Ge,P)=>{"use strict";P.d(Ge,{L:()=>te,a:()=>z,b:()=>X,c:()=>L,d:()=>V,e:()=>we,g:()=>$e,l:()=>st,s:()=>De,t:()=>ie});var I=P(3918),c=P(1559),oe=P(9259);const te="ionViewWillEnter",z="ionViewDidEnter",X="ionViewWillLeave",L="ionViewDidLeave",V="ionViewWillUnload",ie=Me=>new Promise((re,Ue)=>{(0,c.c)(()=>{B(Me),$(Me).then(Qe=>{Qe.animation&&Qe.animation.destroy(),j(Me),re(Qe)},Qe=>{j(Me),Ue(Qe)})})}),B=Me=>{const re=Me.enteringEl,Ue=Me.leavingEl;Ye(re,Ue,Me.direction),Me.showGoBack?re.classList.add("can-go-back"):re.classList.remove("can-go-back"),De(re,!1),re.style.setProperty("pointer-events","none"),Ue&&(De(Ue,!1),Ue.style.setProperty("pointer-events","none"))},$=function(){var Me=(0,I.Z)(function*(re){const Ue=yield Re(re);return Ue&&c.B.isBrowser?Le(Ue,re):me(re)});return function(Ue){return Me.apply(this,arguments)}}(),j=Me=>{const re=Me.enteringEl,Ue=Me.leavingEl;re.classList.remove("ion-page-invisible"),re.style.removeProperty("pointer-events"),void 0!==Ue&&(Ue.classList.remove("ion-page-invisible"),Ue.style.removeProperty("pointer-events"))},Re=function(){var Me=(0,I.Z)(function*(re){return re.leavingEl&&re.animated&&0!==re.duration?re.animationBuilder?re.animationBuilder:"ios"===re.mode?(yield Promise.resolve().then(P.bind(P,9078))).iosTransitionAnimation:(yield Promise.resolve().then(P.bind(P,4199))).mdTransitionAnimation:void 0});return function(Ue){return Me.apply(this,arguments)}}(),Le=function(){var Me=(0,I.Z)(function*(re,Ue){yield W(Ue,!0);const Qe=re(Ue.baseEl,Ue);Fe(Ue.enteringEl,Ue.leavingEl);const vt=yield fe(Qe,Ue);return Ue.progressCallback&&Ue.progressCallback(void 0),vt&&de(Ue.enteringEl,Ue.leavingEl),{hasCompleted:vt,animation:Qe}});return function(Ue,Qe){return Me.apply(this,arguments)}}(),me=function(){var Me=(0,I.Z)(function*(re){const Ue=re.enteringEl,Qe=re.leavingEl;return yield W(re,!1),Fe(Ue,Qe),de(Ue,Qe),{hasCompleted:!0}});return function(Ue){return Me.apply(this,arguments)}}(),W=function(){var Me=(0,I.Z)(function*(re,Ue){const vt=(void 0!==re.deepWait?re.deepWait:Ue)?[we(re.enteringEl),we(re.leavingEl)]:[ce(re.enteringEl),ce(re.leavingEl)];yield Promise.all(vt),yield K(re.viewIsReady,re.enteringEl)});return function(Ue,Qe){return Me.apply(this,arguments)}}(),K=function(){var Me=(0,I.Z)(function*(re,Ue){re&&(yield re(Ue))});return function(Ue,Qe){return Me.apply(this,arguments)}}(),fe=(Me,re)=>{const Ue=re.progressCallback,Qe=new Promise(vt=>{Me.onFinish(dn=>vt(1===dn))});return Ue?(Me.progressStart(!0),Ue(Me)):Me.play(),Qe},Fe=(Me,re)=>{st(re,X),st(Me,te)},de=(Me,re)=>{st(Me,z),st(re,L)},st=(Me,re)=>{if(Me){const Ue=new CustomEvent(re,{bubbles:!1,cancelable:!1});Me.dispatchEvent(Ue)}},ce=Me=>Me?new Promise(re=>(0,oe.c)(Me,re)):Promise.resolve(),we=function(){var Me=(0,I.Z)(function*(re){const Ue=re;if(Ue){if(null!=Ue.componentOnReady){if(null!=(yield Ue.componentOnReady()))return}else if(null!=Ue.__registerHost)return void(yield new Promise(vt=>(0,oe.r)(vt)));yield Promise.all(Array.from(Ue.children).map(we))}});return function(Ue){return Me.apply(this,arguments)}}(),De=(Me,re)=>{re?(Me.setAttribute("aria-hidden","true"),Me.classList.add("ion-page-hidden")):(Me.hidden=!1,Me.removeAttribute("aria-hidden"),Me.classList.remove("ion-page-hidden"))},Ye=(Me,re,Ue)=>{void 0!==Me&&(Me.style.zIndex="back"===Ue?"99":"101"),void 0!==re&&(re.style.zIndex="100")},$e=Me=>Me.classList.contains("ion-page")?Me:Me.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Me},7351:(Be,Ge,P)=>{"use strict";P.d(Ge,{m:()=>ie});var I=P(3918),c=P(159),oe=P(9259),te=P(5823),z=P(5933);const X=B=>(0,z.c)().duration(B?400:300),L=B=>{let $,j;const Re=B.width+8,Le=(0,z.c)(),me=(0,z.c)();B.isEndSide?($=Re+"px",j="0px"):($=-Re+"px",j="0px"),Le.addElement(B.menuInnerEl).fromTo("transform",`translateX(${$})`,`translateX(${j})`);const K="ios"===(0,te.b)(B),fe=K?.2:.25;return me.addElement(B.backdropEl).fromTo("opacity",.01,fe),X(K).addAnimation([Le,me])},V=B=>{let $,j;const Re=(0,te.b)(B),Le=B.width;B.isEndSide?($=-Le+"px",j=Le+"px"):($=Le+"px",j=-Le+"px");const me=(0,z.c)().addElement(B.menuInnerEl).fromTo("transform",`translateX(${j})`,"translateX(0px)"),W=(0,z.c)().addElement(B.contentEl).fromTo("transform","translateX(0px)",`translateX(${$})`),K=(0,z.c)().addElement(B.backdropEl).fromTo("opacity",.01,.32);return X("ios"===Re).addAnimation([me,W,K])},ue=B=>{const $=(0,te.b)(B),j=B.width*(B.isEndSide?-1:1)+"px",Re=(0,z.c)().addElement(B.contentEl).fromTo("transform","translateX(0px)",`translateX(${j})`);return X("ios"===$).addAnimation(Re)},ie=(()=>{const B=new Map,$=[],j=function(){var O=(0,I.Z)(function*(ye){const nt=yield Fe(ye);return!!nt&&nt.open()});return function(nt){return O.apply(this,arguments)}}(),Re=function(){var O=(0,I.Z)(function*(ye){const nt=yield void 0!==ye?Fe(ye):de();return void 0!==nt&&nt.close()});return function(nt){return O.apply(this,arguments)}}(),Le=function(){var O=(0,I.Z)(function*(ye){const nt=yield Fe(ye);return!!nt&&nt.toggle()});return function(nt){return O.apply(this,arguments)}}(),me=function(){var O=(0,I.Z)(function*(ye,nt){const rt=yield Fe(nt);return rt&&(rt.disabled=!ye),rt});return function(nt,rt){return O.apply(this,arguments)}}(),W=function(){var O=(0,I.Z)(function*(ye,nt){const rt=yield Fe(nt);return rt&&(rt.swipeGesture=ye),rt});return function(nt,rt){return O.apply(this,arguments)}}(),K=function(){var O=(0,I.Z)(function*(ye){if(null!=ye){const nt=yield Fe(ye);return void 0!==nt&&nt.isOpen()}return void 0!==(yield de())});return function(nt){return O.apply(this,arguments)}}(),fe=function(){var O=(0,I.Z)(function*(ye){const nt=yield Fe(ye);return!!nt&&!nt.disabled});return function(nt){return O.apply(this,arguments)}}(),Fe=function(){var O=(0,I.Z)(function*(ye){return yield We(),"start"===ye||"end"===ye?dn(Ve=>Ve.side===ye&&!Ve.disabled)||dn(Ve=>Ve.side===ye):null!=ye?dn(rt=>rt.menuId===ye):dn(rt=>!rt.disabled)||($.length>0?$[0].el:void 0)});return function(nt){return O.apply(this,arguments)}}(),de=function(){var O=(0,I.Z)(function*(){return yield We(),Ue()});return function(){return O.apply(this,arguments)}}(),st=function(){var O=(0,I.Z)(function*(){return yield We(),Qe()});return function(){return O.apply(this,arguments)}}(),ce=function(){var O=(0,I.Z)(function*(){return yield We(),vt()});return function(){return O.apply(this,arguments)}}(),we=(O,ye)=>{B.set(O,ye)},$e=O=>{const ye=O.side;$.filter(nt=>nt.side===ye&&nt!==O).forEach(nt=>nt.disabled=!0)},Me=function(){var O=(0,I.Z)(function*(ye,nt,rt){if(vt())return!1;if(nt){const Ve=yield de();Ve&&ye.el!==Ve&&(yield Ve.setOpen(!1,!1))}return ye._setOpen(nt,rt)});return function(nt,rt,Ve){return O.apply(this,arguments)}}(),Ue=()=>dn(O=>O._isOpen),Qe=()=>$.map(O=>O.el),vt=()=>$.some(O=>O.isAnimating),dn=O=>{const ye=$.find(O);if(void 0!==ye)return ye.el},We=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(O=>new Promise(ye=>(0,oe.c)(O,ye))));return we("reveal",ue),we("push",V),we("overlay",L),typeof document<"u"&&document.addEventListener("ionBackButton",O=>{const ye=Ue();ye&&O.detail.register(c.MENU_BACK_BUTTON_PRIORITY,()=>ye.close())}),{registerAnimation:we,get:Fe,getMenus:st,getOpen:de,isEnabled:fe,swipeGesture:W,isAnimating:ce,isOpen:K,enable:me,toggle:Le,close:Re,open:j,_getOpenSync:Ue,_createAnimation:(O,ye)=>{const nt=B.get(O);if(!nt)throw new Error("animation not registered");return nt(ye)},_register:O=>{$.indexOf(O)<0&&(O.disabled||$e(O),$.push(O))},_unregister:O=>{const ye=$.indexOf(O);ye>-1&&$.splice(ye,1)},_setOpen:Me,_setActiveMenu:$e}})()},2286:(Be,Ge,P)=>{"use strict";P.d(Ge,{w:()=>I});const I=typeof window<"u"?window:void 0},8759:(Be,Ge,P)=>{"use strict";P.r(Ge),P.d(Ge,{GESTURE_CONTROLLER:()=>I.G,createGesture:()=>ue});var I=P(6379);const c=($,j,Re,Le)=>{const me=oe($)?{capture:!!Le.capture,passive:!!Le.passive}:!!Le.capture;let W,K;return $.__zone_symbol__addEventListener?(W="__zone_symbol__addEventListener",K="__zone_symbol__removeEventListener"):(W="addEventListener",K="removeEventListener"),$[W](j,Re,me),()=>{$[K](j,Re,me)}},oe=$=>{if(void 0===te)try{const j=Object.defineProperty({},"passive",{get:()=>{te=!0}});$.addEventListener("optsTest",()=>{},j)}catch{te=!1}return!!te};let te;const L=$=>$ instanceof Document?$:$.ownerDocument,ue=$=>{let j=!1,Re=!1,Le=!0,me=!1;const W=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},$),K=W.canStart,fe=W.onWillStart,Fe=W.onStart,de=W.onEnd,st=W.notCaptured,ce=W.onMove,we=W.threshold,De=W.passive,Ye=W.blurOnStart,$e={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Me=(($,j,Re)=>{const Le=Re*(Math.PI/180),me="x"===$,W=Math.cos(Le),K=j*j;let fe=0,Fe=0,de=!1,st=0;return{start(ce,we){fe=ce,Fe=we,st=0,de=!0},detect(ce,we){if(!de)return!1;const De=ce-fe,Ye=we-Fe,$e=De*De+Ye*Ye;if($e<K)return!1;const Me=Math.sqrt($e),re=(me?De:Ye)/Me;return st=re>W?1:re<-W?-1:0,de=!1,!0},isGesture:()=>0!==st,getDirection:()=>st}})(W.direction,W.threshold,W.maxAngle),re=I.G.createGesture({name:$.gestureName,priority:$.gesturePriority,disableScroll:$.disableScroll}),vt=()=>{j&&(me=!1,ce&&ce($e))},dn=()=>!!re.capture()&&(j=!0,Le=!1,$e.startX=$e.currentX,$e.startY=$e.currentY,$e.startTime=$e.currentTime,fe?fe($e).then(O):O(),!0),O=()=>{Ye&&(()=>{if(typeof document<"u"){const q=document.activeElement;q?.blur&&q.blur()}})(),Fe&&Fe($e),Le=!0},ye=()=>{j=!1,Re=!1,me=!1,Le=!0,re.release()},nt=q=>{const _e=j,pt=Le;if(ye(),pt){if(Y($e,q),_e)return void(de&&de($e));st&&st($e)}},rt=(($,j,Re,Le,me)=>{let W,K,fe,Fe,de,st,ce,we=0;const De=We=>{we=Date.now()+2e3,j(We)&&(!K&&Re&&(K=c($,"touchmove",Re,me)),fe||(fe=c(We.target,"touchend",$e,me)),Fe||(Fe=c(We.target,"touchcancel",$e,me)))},Ye=We=>{we>Date.now()||j(We)&&(!st&&Re&&(st=c(L($),"mousemove",Re,me)),ce||(ce=c(L($),"mouseup",Me,me)))},$e=We=>{re(),Le&&Le(We)},Me=We=>{Ue(),Le&&Le(We)},re=()=>{K&&K(),fe&&fe(),Fe&&Fe(),K=fe=Fe=void 0},Ue=()=>{st&&st(),ce&&ce(),st=ce=void 0},Qe=()=>{re(),Ue()},vt=(We=!0)=>{We?(W||(W=c($,"touchstart",De,me)),de||(de=c($,"mousedown",Ye,me))):(W&&W(),de&&de(),W=de=void 0,Qe())};return{enable:vt,stop:Qe,destroy:()=>{vt(!1),Le=Re=j=void 0}}})(W.el,q=>{const _e=B(q);return!(Re||!Le||(ie(q,$e),$e.startX=$e.currentX,$e.startY=$e.currentY,$e.startTime=$e.currentTime=_e,$e.velocityX=$e.velocityY=$e.deltaX=$e.deltaY=0,$e.event=q,K&&!1===K($e))||(re.release(),!re.start()))&&(Re=!0,0===we?dn():(Me.start($e.startX,$e.startY),!0))},q=>{j?!me&&Le&&(me=!0,Y($e,q),requestAnimationFrame(vt)):(Y($e,q),Me.detect($e.currentX,$e.currentY)&&(!Me.isGesture()||!dn())&&Ve())},nt,{capture:!1,passive:De}),Ve=()=>{ye(),rt.stop(),st&&st($e)};return{enable(q=!0){q||(j&&nt(void 0),ye()),rt.enable(q)},destroy(){re.destroy(),rt.destroy()}}},Y=($,j)=>{if(!j)return;const Re=$.currentX,Le=$.currentY,me=$.currentTime;ie(j,$);const W=$.currentX,K=$.currentY,Fe=($.currentTime=B(j))-me;if(Fe>0&&Fe<100){const st=(K-Le)/Fe;$.velocityX=(W-Re)/Fe*.7+.3*$.velocityX,$.velocityY=.7*st+.3*$.velocityY}$.deltaX=W-$.startX,$.deltaY=K-$.startY,$.event=j},ie=($,j)=>{let Re=0,Le=0;if($){const me=$.changedTouches;if(me&&me.length>0){const W=me[0];Re=W.clientX,Le=W.clientY}else void 0!==$.pageX&&(Re=$.pageX,Le=$.pageY)}j.currentX=Re,j.currentY=Le},B=$=>$.timeStamp||Date.now()},1559:(Be,Ge,P)=>{"use strict";P.d(Ge,{B:()=>tr,H:()=>G,a:()=>Ve,b:()=>li,c:()=>Ri,e:()=>Kt,f:()=>ys,g:()=>q,h:()=>en,i:()=>$n,j:()=>E,k:()=>Qo,p:()=>Le,r:()=>Qi,s:()=>j});var I=P(3918);let oe,te,z,X=!1,L=!1,V=!1,ue=!1,Y=!1;const ie=typeof window<"u"?window:{},B=ie.document||{head:{}},$={$flags$:0,$resourcesUrl$:"",jmp:x=>x(),raf:x=>requestAnimationFrame(x),ael:(x,N,ge,Se)=>x.addEventListener(N,ge,Se),rel:(x,N,ge,Se)=>x.removeEventListener(N,ge,Se),ce:(x,N)=>new CustomEvent(x,N)},j=x=>{Object.assign($,x)},Le=x=>Promise.resolve(x),me=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),W=(x,N,ge,Se)=>{ge&&ge.map(([Oe,R,pe])=>{const Ie=fe(x,Oe),Je=K(N,pe),it=Fe(Oe);$.ael(Ie,R,Je,it),(N.$rmListeners$=N.$rmListeners$||[]).push(()=>$.rel(Ie,R,Je,it))})},K=(x,N)=>ge=>{try{256&x.$flags$?x.$lazyInstance$[N](ge):(x.$queuedListeners$=x.$queuedListeners$||[]).push([N,ge])}catch(Se){ro(Se)}},fe=(x,N)=>4&N?B:8&N?ie:16&N?B.body:x,Fe=x=>0!=(2&x),De="s-id",Ye="sty-id",re="http://www.w3.org/1999/xlink",vt=new WeakMap,dn=(x,N,ge)=>{let Se=Ci.get(x);me&&ge?(Se=Se||new CSSStyleSheet,"string"==typeof Se?Se=N:Se.replaceSync(N)):Se=N,Ci.set(x,Se)},We=(x,N,ge,Se)=>{let Oe=ye(N,ge);const R=Ci.get(Oe);if(x=11===x.nodeType?x:B,R)if("string"==typeof R){let Ie,pe=vt.get(x=x.head||x);pe||vt.set(x,pe=new Set),pe.has(Oe)||(x.host&&(Ie=x.querySelector(`[${Ye}="${Oe}"]`))?Ie.innerHTML=R:(Ie=B.createElement("style"),Ie.innerHTML=R,x.insertBefore(Ie,x.querySelector("link"))),pe&&pe.add(Oe))}else x.adoptedStyleSheets.includes(R)||(x.adoptedStyleSheets=[...x.adoptedStyleSheets,R]);return Oe},ye=(x,N)=>"sc-"+(N&&32&x.$flags$?x.$tagName$+"-"+N:x.$tagName$),nt=x=>x.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Ve=x=>gs.push(x),q=x=>Zr(x).$modeName$,_e={},cn=x=>"object"==(x=typeof x)||"function"===x,en=(x,N,...ge)=>{let Se=null,Oe=null,R=null,pe=!1,Ie=!1;const Je=[],it=Gt=>{for(let St=0;St<Gt.length;St++)Se=Gt[St],Array.isArray(Se)?it(Se):null!=Se&&"boolean"!=typeof Se&&((pe="function"!=typeof x&&!cn(Se))&&(Se=String(Se)),pe&&Ie?Je[Je.length-1].$text$+=Se:Je.push(pe?rn(null,Se):Se),Ie=pe)};if(it(ge),N){N.key&&(Oe=N.key),N.name&&(R=N.name);{const Gt=N.className||N.class;Gt&&(N.class="object"!=typeof Gt?Gt:Object.keys(Gt).filter(St=>Gt[St]).join(" "))}}if("function"==typeof x)return x(null===N?{}:N,Je,dr);const Ae=rn(x,null);return Ae.$attrs$=N,Je.length>0&&(Ae.$children$=Je),Ae.$key$=Oe,Ae.$name$=R,Ae},rn=(x,N)=>({$flags$:0,$tag$:x,$text$:N,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),G={},dr={forEach:(x,N)=>x.map(Qn).forEach(N),map:(x,N)=>x.map(Qn).map(N).map(No)},Qn=x=>({vattrs:x.$attrs$,vchildren:x.$children$,vkey:x.$key$,vname:x.$name$,vtag:x.$tag$,vtext:x.$text$}),No=x=>{if("function"==typeof x.vtag){const ge=Object.assign({},x.vattrs);return x.vkey&&(ge.key=x.vkey),x.vname&&(ge.name=x.vname),en(x.vtag,ge,...x.vchildren||[])}const N=rn(x.vtag,x.vtext);return N.$attrs$=x.vattrs,N.$children$=x.vchildren,N.$key$=x.vkey,N.$name$=x.vname,N},Kr=(x,N,ge,Se,Oe,R)=>{if(ge!==Se){let pe=Do(x,N),Ie=N.toLowerCase();if("class"===N){const Je=x.classList,it=xn(ge),Ae=xn(Se);Je.remove(...it.filter(Gt=>Gt&&!Ae.includes(Gt))),Je.add(...Ae.filter(Gt=>Gt&&!it.includes(Gt)))}else if("style"===N){for(const Je in ge)(!Se||null==Se[Je])&&(Je.includes("-")?x.style.removeProperty(Je):x.style[Je]="");for(const Je in Se)(!ge||Se[Je]!==ge[Je])&&(Je.includes("-")?x.style.setProperty(Je,Se[Je]):x.style[Je]=Se[Je])}else if("key"!==N)if("ref"===N)Se&&Se(x);else if(pe||"o"!==N[0]||"n"!==N[1]){const Je=cn(Se);if((pe||Je&&null!==Se)&&!Oe)try{if(x.tagName.includes("-"))x[N]=Se;else{const Ae=Se??"";"list"===N?pe=!1:(null==ge||x[N]!=Ae)&&(x[N]=Ae)}}catch{}let it=!1;Ie!==(Ie=Ie.replace(/^xlink\:?/,""))&&(N=Ie,it=!0),null==Se||!1===Se?(!1!==Se||""===x.getAttribute(N))&&(it?x.removeAttributeNS(re,N):x.removeAttribute(N)):(!pe||4&R||Oe)&&!Je&&(Se=!0===Se?"":Se,it?x.setAttributeNS(re,N,Se):x.setAttribute(N,Se))}else N="-"===N[2]?N.slice(3):Do(ie,Ie)?Ie.slice(2):Ie[2]+N.slice(3),ge&&$.rel(x,N,ge,!1),Se&&$.ael(x,N,Se,!1)}},_i=/\s/,xn=x=>x?x.split(_i):[],uo=(x,N,ge,Se)=>{const Oe=11===N.$elm$.nodeType&&N.$elm$.host?N.$elm$.host:N.$elm$,R=x&&x.$attrs$||_e,pe=N.$attrs$||_e;for(Se in R)Se in pe||Kr(Oe,Se,R[Se],void 0,ge,N.$flags$);for(Se in pe)Kr(Oe,Se,R[Se],pe[Se],ge,N.$flags$)},Un=(x,N,ge,Se)=>{const Oe=N.$children$[ge];let pe,Ie,Je,R=0;if(X||(V=!0,"slot"===Oe.$tag$&&(oe&&Se.classList.add(oe+"-s"),Oe.$flags$|=Oe.$children$?2:1)),null!==Oe.$text$)pe=Oe.$elm$=B.createTextNode(Oe.$text$);else if(1&Oe.$flags$)pe=Oe.$elm$=B.createTextNode("");else{if(ue||(ue="svg"===Oe.$tag$),pe=Oe.$elm$=B.createElementNS(ue?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Oe.$flags$?"slot-fb":Oe.$tag$),ue&&"foreignObject"===Oe.$tag$&&(ue=!1),uo(null,Oe,ue),(x=>null!=x)(oe)&&pe["s-si"]!==oe&&pe.classList.add(pe["s-si"]=oe),Oe.$children$)for(R=0;R<Oe.$children$.length;++R)Ie=Un(x,Oe,R,pe),Ie&&pe.appendChild(Ie);"svg"===Oe.$tag$?ue=!1:"foreignObject"===pe.tagName&&(ue=!0)}return pe["s-hn"]=z,3&Oe.$flags$&&(pe["s-sr"]=!0,pe["s-cr"]=te,pe["s-sn"]=Oe.$name$||"",Je=x&&x.$children$&&x.$children$[ge],Je&&Je.$tag$===Oe.$tag$&&x.$elm$&&vi(x.$elm$,!1)),pe},vi=(x,N)=>{$.$flags$|=1;const ge=x.childNodes;for(let Se=ge.length-1;Se>=0;Se--){const Oe=ge[Se];Oe["s-hn"]!==z&&Oe["s-ol"]&&(gn(Oe).insertBefore(Oe,to(Oe)),Oe["s-ol"].remove(),Oe["s-ol"]=void 0,V=!0),N&&vi(Oe,N)}$.$flags$&=-2},Wr=(x,N,ge,Se,Oe,R)=>{let Ie,pe=x["s-cr"]&&x["s-cr"].parentNode||x;for(pe.shadowRoot&&pe.tagName===z&&(pe=pe.shadowRoot);Oe<=R;++Oe)Se[Oe]&&(Ie=Un(null,ge,Oe,x),Ie&&(Se[Oe].$elm$=Ie,pe.insertBefore(Ie,to(N))))},Pr=(x,N,ge,Se,Oe)=>{for(;N<=ge;++N)(Se=x[N])&&(Oe=Se.$elm$,ze(Se),L=!0,Oe["s-ol"]?Oe["s-ol"].remove():vi(Oe,!0),Oe.remove())},Vr=(x,N)=>x.$tag$===N.$tag$&&("slot"===x.$tag$?x.$name$===N.$name$:x.$key$===N.$key$),to=x=>x&&x["s-ol"]||x,gn=x=>(x["s-ol"]?x["s-ol"]:x).parentNode,Yr=(x,N)=>{const ge=N.$elm$=x.$elm$,Se=x.$children$,Oe=N.$children$,R=N.$tag$,pe=N.$text$;let Ie;null===pe?(ue="svg"===R||"foreignObject"!==R&&ue,"slot"===R||uo(x,N,ue),null!==Se&&null!==Oe?((x,N,ge,Se)=>{let Io,Qr,Oe=0,R=0,pe=0,Ie=0,Je=N.length-1,it=N[0],Ae=N[Je],Gt=Se.length-1,St=Se[0],fn=Se[Gt];for(;Oe<=Je&&R<=Gt;)if(null==it)it=N[++Oe];else if(null==Ae)Ae=N[--Je];else if(null==St)St=Se[++R];else if(null==fn)fn=Se[--Gt];else if(Vr(it,St))Yr(it,St),it=N[++Oe],St=Se[++R];else if(Vr(Ae,fn))Yr(Ae,fn),Ae=N[--Je],fn=Se[--Gt];else if(Vr(it,fn))("slot"===it.$tag$||"slot"===fn.$tag$)&&vi(it.$elm$.parentNode,!1),Yr(it,fn),x.insertBefore(it.$elm$,Ae.$elm$.nextSibling),it=N[++Oe],fn=Se[--Gt];else if(Vr(Ae,St))("slot"===it.$tag$||"slot"===fn.$tag$)&&vi(Ae.$elm$.parentNode,!1),Yr(Ae,St),x.insertBefore(Ae.$elm$,it.$elm$),Ae=N[--Je],St=Se[++R];else{for(pe=-1,Ie=Oe;Ie<=Je;++Ie)if(N[Ie]&&null!==N[Ie].$key$&&N[Ie].$key$===St.$key$){pe=Ie;break}pe>=0?(Qr=N[pe],Qr.$tag$!==St.$tag$?Io=Un(N&&N[R],ge,pe,x):(Yr(Qr,St),N[pe]=void 0,Io=Qr.$elm$),St=Se[++R]):(Io=Un(N&&N[R],ge,R,x),St=Se[++R]),Io&&gn(it.$elm$).insertBefore(Io,to(it.$elm$))}Oe>Je?Wr(x,null==Se[Gt+1]?null:Se[Gt+1].$elm$,ge,Se,R,Gt):R>Gt&&Pr(N,Oe,Je)})(ge,Se,N,Oe):null!==Oe?(null!==x.$text$&&(ge.textContent=""),Wr(ge,null,N,Oe,0,Oe.length-1)):null!==Se&&Pr(Se,0,Se.length-1),ue&&"svg"===R&&(ue=!1)):(Ie=ge["s-cr"])?Ie.parentNode.textContent=pe:x.$text$!==pe&&(ge.data=pe)},Xi=x=>{const N=x.childNodes;let ge,Se,Oe,R,pe,Ie;for(Se=0,Oe=N.length;Se<Oe;Se++)if(ge=N[Se],1===ge.nodeType){if(ge["s-sr"])for(pe=ge["s-sn"],ge.hidden=!1,R=0;R<Oe;R++)if(Ie=N[R].nodeType,N[R]["s-hn"]!==ge["s-hn"]||""!==pe){if(1===Ie&&pe===N[R].getAttribute("slot")){ge.hidden=!0;break}}else if(1===Ie||3===Ie&&""!==N[R].textContent.trim()){ge.hidden=!0;break}Xi(ge)}},Ur=[],ct=x=>{let N,ge,Se,Oe,R,pe,Ie=0;const Je=x.childNodes,it=Je.length;for(;Ie<it;Ie++){if(N=Je[Ie],N["s-sr"]&&(ge=N["s-cr"])&&ge.parentNode)for(Se=ge.parentNode.childNodes,Oe=N["s-sn"],pe=Se.length-1;pe>=0;pe--)ge=Se[pe],!ge["s-cn"]&&!ge["s-nr"]&&ge["s-hn"]!==N["s-hn"]&&(le(ge,Oe)?(R=Ur.find(Ae=>Ae.$nodeToRelocate$===ge),L=!0,ge["s-sn"]=ge["s-sn"]||Oe,R?R.$slotRefNode$=N:Ur.push({$slotRefNode$:N,$nodeToRelocate$:ge}),ge["s-sr"]&&Ur.map(Ae=>{le(Ae.$nodeToRelocate$,ge["s-sn"])&&(R=Ur.find(Gt=>Gt.$nodeToRelocate$===ge),R&&!Ae.$slotRefNode$&&(Ae.$slotRefNode$=R.$slotRefNode$))})):Ur.some(Ae=>Ae.$nodeToRelocate$===ge)||Ur.push({$nodeToRelocate$:ge}));1===N.nodeType&&ct(N)}},le=(x,N)=>1===x.nodeType?null===x.getAttribute("slot")&&""===N||x.getAttribute("slot")===N:x["s-sn"]===N||""===N,ze=x=>{x.$attrs$&&x.$attrs$.ref&&x.$attrs$.ref(null),x.$children$&&x.$children$.map(ze)},$n=x=>Zr(x).$hostElement$,Kt=(x,N,ge)=>{const Se=$n(x);return{emit:Oe=>xt(Se,N,{bubbles:!!(4&ge),composed:!!(2&ge),cancelable:!!(1&ge),detail:Oe})}},xt=(x,N,ge)=>{const Se=$.ce(N,ge);return x.dispatchEvent(Se),Se},hr=(x,N)=>{N&&!x.$onRenderResolve$&&N["s-p"]&&N["s-p"].push(new Promise(ge=>x.$onRenderResolve$=ge))},tn=(x,N)=>{if(x.$flags$|=16,!(4&x.$flags$))return hr(x,x.$ancestorComponent$),Ri(()=>Jn(x,N));x.$flags$|=512},Jn=(x,N)=>{const Se=x.$lazyInstance$;let Oe;return N&&(x.$flags$|=256,x.$queuedListeners$&&(x.$queuedListeners$.map(([R,pe])=>qn(Se,R,pe)),x.$queuedListeners$=null),Oe=qn(Se,"componentWillLoad")),Oe=D(Oe,()=>qn(Se,"componentWillRender")),D(Oe,()=>er(x,Se,N))},er=function(){var x=(0,I.Z)(function*(N,ge,Se){const Oe=N.$hostElement$,pe=Oe["s-rc"];Se&&(x=>{const N=x.$cmpMeta$,ge=x.$hostElement$,Se=N.$flags$,R=We(ge.shadowRoot?ge.shadowRoot:ge.getRootNode(),N,x.$modeName$);10&Se&&(ge["s-sc"]=R,ge.classList.add(R+"-h"),2&Se&&ge.classList.add(R+"-s"))})(N);un(N,ge),pe&&(pe.map(Je=>Je()),Oe["s-rc"]=void 0);{const Je=Oe["s-p"],it=()=>zt(N);0===Je.length?it():(Promise.all(Je).then(it),N.$flags$|=4,Je.length=0)}});return function(ge,Se,Oe){return x.apply(this,arguments)}}(),un=(x,N,ge)=>{try{N=N.render&&N.render(),x.$flags$&=-17,x.$flags$|=2,((x,N)=>{const ge=x.$hostElement$,Se=x.$cmpMeta$,Oe=x.$vnode$||rn(null,null),R=(x=>x&&x.$tag$===G)(N)?N:en(null,null,N);if(z=ge.tagName,Se.$attrsToReflect$&&(R.$attrs$=R.$attrs$||{},Se.$attrsToReflect$.map(([pe,Ie])=>R.$attrs$[Ie]=ge[pe])),R.$tag$=null,R.$flags$|=4,x.$vnode$=R,R.$elm$=Oe.$elm$=ge.shadowRoot||ge,oe=ge["s-sc"],te=ge["s-cr"],X=0!=(1&Se.$flags$),L=!1,Yr(Oe,R),$.$flags$|=1,V){ct(R.$elm$);let pe,Ie,Je,it,Ae,Gt,St=0;for(;St<Ur.length;St++)pe=Ur[St],Ie=pe.$nodeToRelocate$,Ie["s-ol"]||(Je=B.createTextNode(""),Je["s-nr"]=Ie,Ie.parentNode.insertBefore(Ie["s-ol"]=Je,Ie));for(St=0;St<Ur.length;St++)if(pe=Ur[St],Ie=pe.$nodeToRelocate$,pe.$slotRefNode$){for(it=pe.$slotRefNode$.parentNode,Ae=pe.$slotRefNode$.nextSibling,Je=Ie["s-ol"];Je=Je.previousSibling;)if(Gt=Je["s-nr"],Gt&&Gt["s-sn"]===Ie["s-sn"]&&it===Gt.parentNode&&(Gt=Gt.nextSibling,!Gt||!Gt["s-nr"])){Ae=Gt;break}(!Ae&&it!==Ie.parentNode||Ie.nextSibling!==Ae)&&Ie!==Ae&&(!Ie["s-hn"]&&Ie["s-ol"]&&(Ie["s-hn"]=Ie["s-ol"].parentNode.nodeName),it.insertBefore(Ie,Ae))}else 1===Ie.nodeType&&(Ie.hidden=!0)}L&&Xi(R.$elm$),$.$flags$&=-2,Ur.length=0})(x,N)}catch(Se){ro(Se,x.$hostElement$)}return null},zt=x=>{const ge=x.$hostElement$,Oe=x.$lazyInstance$,R=x.$ancestorComponent$;qn(Oe,"componentDidRender"),64&x.$flags$?qn(Oe,"componentDidUpdate"):(x.$flags$|=64,On(ge),qn(Oe,"componentDidLoad"),x.$onReadyResolve$(ge),R||S()),x.$onInstanceResolve$(ge),x.$onRenderResolve$&&(x.$onRenderResolve$(),x.$onRenderResolve$=void 0),512&x.$flags$&&ui(()=>tn(x,!1)),x.$flags$&=-517},E=x=>{{const N=Zr(x),ge=N.$hostElement$.isConnected;return ge&&2==(18&N.$flags$)&&tn(N,!1),ge}},S=x=>{On(B.documentElement),ui(()=>xt(ie,"appload",{detail:{namespace:"ionic"}}))},qn=(x,N,ge)=>{if(x&&x[N])try{return x[N](ge)}catch(Se){ro(Se)}},D=(x,N)=>x&&x.then?x.then(N):N(),On=x=>x.classList.add("hydrated"),Xo=(x,N,ge,Se,Oe,R,pe)=>{let Ie,Je,it,Ae;if(1===R.nodeType){for(Ie=R.getAttribute("c-id"),Ie&&(Je=Ie.split("."),(Je[0]===pe||"0"===Je[0])&&(it={$flags$:0,$hostId$:Je[0],$nodeId$:Je[1],$depth$:Je[2],$index$:Je[3],$tag$:R.tagName.toLowerCase(),$elm$:R,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},N.push(it),R.removeAttribute("c-id"),x.$children$||(x.$children$=[]),x.$children$[it.$index$]=it,x=it,Se&&"0"===it.$depth$&&(Se[it.$index$]=it.$elm$))),Ae=R.childNodes.length-1;Ae>=0;Ae--)Xo(x,N,ge,Se,Oe,R.childNodes[Ae],pe);if(R.shadowRoot)for(Ae=R.shadowRoot.childNodes.length-1;Ae>=0;Ae--)Xo(x,N,ge,Se,Oe,R.shadowRoot.childNodes[Ae],pe)}else if(8===R.nodeType)Je=R.nodeValue.split("."),(Je[1]===pe||"0"===Je[1])&&(Ie=Je[0],it={$flags$:0,$hostId$:Je[1],$nodeId$:Je[2],$depth$:Je[3],$index$:Je[4],$elm$:R,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Ie?(it.$elm$=R.nextSibling,it.$elm$&&3===it.$elm$.nodeType&&(it.$text$=it.$elm$.textContent,N.push(it),R.remove(),x.$children$||(x.$children$=[]),x.$children$[it.$index$]=it,Se&&"0"===it.$depth$&&(Se[it.$index$]=it.$elm$))):it.$hostId$===pe&&("s"===Ie?(it.$tag$="slot",R["s-sn"]=Je[5]?it.$name$=Je[5]:"",R["s-sr"]=!0,Se&&(it.$elm$=B.createElement(it.$tag$),it.$name$&&it.$elm$.setAttribute("name",it.$name$),R.parentNode.insertBefore(it.$elm$,R),R.remove(),"0"===it.$depth$&&(Se[it.$index$]=it.$elm$)),ge.push(it),x.$children$||(x.$children$=[]),x.$children$[it.$index$]=it):"r"===Ie&&(Se?R.remove():(Oe["s-cr"]=R,R["s-cn"]=!0))));else if(x&&"style"===x.$tag$){const Gt=rn(null,R.textContent);Gt.$elm$=R,Gt.$index$="0",x.$children$=[Gt]}},bo=(x,N)=>{if(1===x.nodeType){let ge=0;for(;ge<x.childNodes.length;ge++)bo(x.childNodes[ge],N);if(x.shadowRoot)for(ge=0;ge<x.shadowRoot.childNodes.length;ge++)bo(x.shadowRoot.childNodes[ge],N)}else if(8===x.nodeType){const ge=x.nodeValue.split(".");"o"===ge[0]&&(N.set(ge[1]+"."+ge[2],x),x.nodeValue="",x["s-en"]=ge[3])}},wi=(x,N,ge)=>{if(N.$members$){x.watchers&&(N.$watchers$=x.watchers);const Se=Object.entries(N.$members$),Oe=x.prototype;if(Se.map(([R,[pe]])=>{31&pe||2&ge&&32&pe?Object.defineProperty(Oe,R,{get(){return((x,N)=>Zr(this).$instanceValues$.get(N))(0,R)},set(Ie){((x,N,ge,Se)=>{const Oe=Zr(x),R=Oe.$hostElement$,pe=Oe.$instanceValues$.get(N),Ie=Oe.$flags$,Je=Oe.$lazyInstance$;ge=((x,N)=>null==x||cn(x)?x:4&N?"false"!==x&&(""===x||!!x):2&N?parseFloat(x):1&N?String(x):x)(ge,Se.$members$[N][0]);const it=Number.isNaN(pe)&&Number.isNaN(ge);if((!(8&Ie)||void 0===pe)&&ge!==pe&&!it&&(Oe.$instanceValues$.set(N,ge),Je)){if(Se.$watchers$&&128&Ie){const Gt=Se.$watchers$[N];Gt&&Gt.map(St=>{try{Je[St](ge,pe,N)}catch(fn){ro(fn,R)}})}2==(18&Ie)&&tn(Oe,!1)}})(this,R,Ie,N)},configurable:!0,enumerable:!0}):1&ge&&64&pe&&Object.defineProperty(Oe,R,{value(...Ie){const Je=Zr(this);return Je.$onInstancePromise$.then(()=>Je.$lazyInstance$[R](...Ie))}})}),1&ge){const R=new Map;Oe.attributeChangedCallback=function(pe,Ie,Je){$.jmp(()=>{const it=R.get(pe);if(this.hasOwnProperty(it))Je=this[it],delete this[it];else if(Oe.hasOwnProperty(it)&&"number"==typeof this[it]&&this[it]==Je)return;this[it]=(null!==Je||"boolean"!=typeof this[it])&&Je})},x.observedAttributes=Se.filter(([pe,Ie])=>15&Ie[0]).map(([pe,Ie])=>{const Je=Ie[1]||pe;return R.set(Je,pe),512&Ie[0]&&N.$attrsToReflect$.push([pe,Je]),Je})}}return x},no=function(){var x=(0,I.Z)(function*(N,ge,Se,Oe,R){if(!(32&ge.$flags$)){{if(ge.$flags$|=32,(R=fo(Se)).then){const it=()=>{};R=yield R,it()}R.isProxied||(Se.$watchers$=R.watchers,wi(R,Se,2),R.isProxied=!0);const Je=()=>{};ge.$flags$|=8;try{new R(ge)}catch(it){ro(it)}ge.$flags$&=-9,ge.$flags$|=128,Je(),Bo(ge.$lazyInstance$)}if(R.style){let Je=R.style;"string"!=typeof Je&&(Je=Je[ge.$modeName$=(x=>gs.map(N=>N(x)).find(N=>!!N))(N)]);const it=ye(Se,ge.$modeName$);if(!Ci.has(it)){const Ae=()=>{};dn(it,Je,!!(1&Se.$flags$)),Ae()}}}const pe=ge.$ancestorComponent$,Ie=()=>tn(ge,!0);pe&&pe["s-rc"]?pe["s-rc"].push(Ie):Ie()});return function(ge,Se,Oe,R,pe){return x.apply(this,arguments)}}(),Bo=x=>{qn(x,"connectedCallback")},Vo=x=>{const N=x["s-cr"]=B.createComment("");N["s-cn"]=!0,x.insertBefore(N,x.firstChild)},li=(x,N={})=>{const Se=[],Oe=N.exclude||[],R=ie.customElements,pe=B.head,Ie=pe.querySelector("meta[charset]"),Je=B.createElement("style"),it=[],Ae=B.querySelectorAll(`[${Ye}]`);let Gt,St=!0,fn=0;for(Object.assign($,N),$.$resourcesUrl$=new URL(N.resourcesUrl||"./",B.baseURI).href,$.$flags$|=2;fn<Ae.length;fn++)dn(Ae[fn].getAttribute(Ye),nt(Ae[fn].innerHTML),!0);x.map(Io=>{Io[1].map(Qr=>{const ko={$flags$:Qr[0],$tagName$:Qr[1],$members$:Qr[2],$listeners$:Qr[3]};ko.$members$=Qr[2],ko.$listeners$=Qr[3],ko.$attrsToReflect$=[],ko.$watchers$={};const di=ko.$tagName$,Sr=class extends HTMLElement{constructor(ts){super(ts),Jo(ts=this,ko),1&ko.$flags$&&ts.attachShadow({mode:"open",delegatesFocus:!!(16&ko.$flags$)})}connectedCallback(){Gt&&(clearTimeout(Gt),Gt=null),St?it.push(this):$.jmp(()=>(x=>{if(!(1&$.$flags$)){const N=Zr(x),ge=N.$cmpMeta$,Se=()=>{};if(1&N.$flags$)W(x,N,ge.$listeners$),Bo(N.$lazyInstance$);else{let Oe;if(N.$flags$|=1,Oe=x.getAttribute(De),Oe){if(1&ge.$flags$){const R=We(x.shadowRoot,ge,x.getAttribute("s-mode"));x.classList.remove(R+"-h",R+"-s")}((x,N,ge,Se)=>{const R=x.shadowRoot,pe=[],Je=R?[]:null,it=Se.$vnode$=rn(N,null);$.$orgLocNodes$||bo(B.body,$.$orgLocNodes$=new Map),x[De]=ge,x.removeAttribute(De),Xo(it,pe,[],Je,x,x,ge),pe.map(Ae=>{const Gt=Ae.$hostId$+"."+Ae.$nodeId$,St=$.$orgLocNodes$.get(Gt),fn=Ae.$elm$;St&&""===St["s-en"]&&St.parentNode.insertBefore(fn,St.nextSibling),R||(fn["s-hn"]=N,St&&(fn["s-ol"]=St,fn["s-ol"]["s-nr"]=fn)),$.$orgLocNodes$.delete(Gt)}),R&&Je.map(Ae=>{Ae&&R.appendChild(Ae)})})(x,ge.$tagName$,Oe,N)}Oe||12&ge.$flags$&&Vo(x);{let R=x;for(;R=R.parentNode||R.host;)if(1===R.nodeType&&R.hasAttribute("s-id")&&R["s-p"]||R["s-p"]){hr(N,N.$ancestorComponent$=R);break}}ge.$members$&&Object.entries(ge.$members$).map(([R,[pe]])=>{if(31&pe&&x.hasOwnProperty(R)){const Ie=x[R];delete x[R],x[R]=Ie}}),ui(()=>no(x,N,ge))}Se()}})(this))}disconnectedCallback(){$.jmp(()=>(x=>{if(!(1&$.$flags$)){const N=Zr(this),ge=N.$lazyInstance$;N.$rmListeners$&&(N.$rmListeners$.map(Se=>Se()),N.$rmListeners$=void 0),qn(ge,"disconnectedCallback")}})())}componentOnReady(){return Zr(this).$onReadyPromise$}};ko.$lazyBundleId$=Io[0],!Oe.includes(di)&&!R.get(di)&&(Se.push(di),R.define(di,wi(Sr,ko,1)))})}),Je.innerHTML=Se+"{visibility:hidden}.hydrated{visibility:inherit}",Je.setAttribute("data-styles",""),pe.insertBefore(Je,Ie?Ie.nextSibling:pe.firstChild),St=!1,it.length?it.map(Io=>Io.connectedCallback()):$.jmp(()=>Gt=setTimeout(S,30))},Qo=x=>{const N=new URL(x,$.$resourcesUrl$);return N.origin!==ie.location.origin?N.href:N.pathname},wo=new WeakMap,Zr=x=>wo.get(x),Qi=(x,N)=>wo.set(N.$lazyInstance$=x,N),Jo=(x,N)=>{const ge={$flags$:0,$hostElement$:x,$cmpMeta$:N,$instanceValues$:new Map};return ge.$onInstancePromise$=new Promise(Se=>ge.$onInstanceResolve$=Se),ge.$onReadyPromise$=new Promise(Se=>ge.$onReadyResolve$=Se),x["s-p"]=[],x["s-rc"]=[],W(x,ge,N.$listeners$),wo.set(x,ge)},Do=(x,N)=>N in x,ro=(x,N)=>(0,console.error)(x,N),Ji=new Map,fo=(x,N,ge)=>{const Se=x.$tagName$.replace(/-/g,"_"),Oe=x.$lazyBundleId$,R=Ji.get(Oe);return R?R[Se]:P(863)(`./${Oe}.entry.js`).then(pe=>(Ji.set(Oe,pe),pe[Se]),ro)},Ci=new Map,gs=[],ci=[],es=[],As=(x,N)=>ge=>{x.push(ge),Y||(Y=!0,N&&4&$.$flags$?ui(lr):$.raf(lr))},xs=x=>{for(let N=0;N<x.length;N++)try{x[N](performance.now())}catch(ge){ro(ge)}x.length=0},lr=()=>{xs(ci),xs(es),(Y=ci.length>0)&&$.raf(lr)},ui=x=>Le().then(x),ys=As(ci,!1),Ri=As(es,!0),tr={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},5823:(Be,Ge,P)=>{"use strict";P.d(Ge,{a:()=>ie,b:()=>vt,c:()=>oe,g:()=>Y,i:()=>dn});var I=P(1559);class c{constructor(){this.m=new Map}reset(O){this.m=new Map(Object.entries(O))}get(O,ye){const nt=this.m.get(O);return void 0!==nt?nt:ye}getBoolean(O,ye=!1){const nt=this.m.get(O);return void 0===nt?ye:"string"==typeof nt?"true"===nt:!!nt}getNumber(O,ye){const nt=parseFloat(this.m.get(O));return isNaN(nt)?void 0!==ye?ye:NaN:nt}set(O,ye){this.m.set(O,ye)}}const oe=new c,V="ionic:",ue="ionic-persist-config",Y=We=>B(We),ie=(We,O)=>("string"==typeof We&&(O=We,We=void 0),Y(We).includes(O)),B=(We=window)=>{if(typeof We>"u")return[];We.Ionic=We.Ionic||{};let O=We.Ionic.platforms;return null==O&&(O=We.Ionic.platforms=$(We),O.forEach(ye=>We.document.documentElement.classList.add(`plt-${ye}`))),O},$=We=>{const O=oe.get("platform");return Object.keys(Ue).filter(ye=>{const nt=O?.[ye];return"function"==typeof nt?nt(We):Ue[ye](We)})},Re=We=>!!(Me(We,/iPad/i)||Me(We,/Macintosh/i)&&de(We)),W=We=>Me(We,/android|sink/i),de=We=>re(We,"(any-pointer:coarse)"),ce=We=>we(We)||De(We),we=We=>!!(We.cordova||We.phonegap||We.PhoneGap),De=We=>!!We.Capacitor?.isNative,Me=(We,O)=>O.test(We.navigator.userAgent),re=(We,O)=>{var ye;return null===(ye=We.matchMedia)||void 0===ye?void 0:ye.call(We,O).matches},Ue={ipad:Re,iphone:We=>Me(We,/iPhone/i),ios:We=>Me(We,/iPhone|iPod/i)||Re(We),android:W,phablet:We=>{const O=We.innerWidth,ye=We.innerHeight,nt=Math.min(O,ye),rt=Math.max(O,ye);return nt>390&&nt<520&&rt>620&&rt<800},tablet:We=>{const O=We.innerWidth,ye=We.innerHeight,nt=Math.min(O,ye),rt=Math.max(O,ye);return Re(We)||(We=>W(We)&&!Me(We,/mobile/i))(We)||nt>460&&nt<820&&rt>780&&rt<1400},cordova:we,capacitor:De,electron:We=>Me(We,/electron/i),pwa:We=>{var O;return!!(null!==(O=We.matchMedia)&&void 0!==O&&O.call(We,"(display-mode: standalone)").matches||We.navigator.standalone)},mobile:de,mobileweb:We=>de(We)&&!ce(We),desktop:We=>!de(We),hybrid:ce};let Qe;const vt=We=>We&&(0,I.g)(We)||Qe,dn=(We={})=>{if(typeof window>"u")return;const O=window.document,ye=window,nt=ye.Ionic=ye.Ionic||{},rt={};We._ael&&(rt.ael=We._ael),We._rel&&(rt.rel=We._rel),We._ce&&(rt.ce=We._ce),(0,I.s)(rt);const Ve=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(We=>{try{const O=We.sessionStorage.getItem(ue);return null!==O?JSON.parse(O):{}}catch{return{}}})(ye)),{persistConfig:!1}),nt.config),(We=>{const O={};return We.location.search.slice(1).split("&").map(ye=>ye.split("=")).map(([ye,nt])=>[decodeURIComponent(ye),decodeURIComponent(nt)]).filter(([ye])=>((We,O)=>We.substr(0,O.length)===O)(ye,V)).map(([ye,nt])=>[ye.slice(V.length),nt]).forEach(([ye,nt])=>{O[ye]=nt}),O})(ye)),We);oe.reset(Ve),oe.getBoolean("persistConfig")&&((We,O)=>{try{We.sessionStorage.setItem(ue,JSON.stringify(O))}catch{return}})(ye,Ve),B(ye),nt.config=oe,nt.mode=Qe=oe.get("mode",O.documentElement.getAttribute("mode")||(ie(ye,"ios")?"ios":"md")),oe.set("mode",Qe),O.documentElement.setAttribute("mode",Qe),O.documentElement.classList.add(Qe),oe.getBoolean("_testing")&&oe.set("animated",!1);const q=pt=>{var Pe;return null===(Pe=pt.tagName)||void 0===Pe?void 0:Pe.startsWith("ION-")},_e=pt=>["ios","md"].includes(pt);(0,I.a)(pt=>{for(;pt;){const Pe=pt.mode||pt.getAttribute("mode");if(Pe){if(_e(Pe))return Pe;q(pt)&&console.warn('Invalid ionic mode: "'+Pe+'", expected: "ios" or "md"')}pt=pt.parentElement}return Qe})}},9078:(Be,Ge,P)=>{"use strict";P.r(Ge),P.d(Ge,{iosTransitionAnimation:()=>$,shadow:()=>L});var I=P(5933),c=P(919);P(2286),P(1559);const X=j=>document.querySelector(`${j}.ion-cloned-element`),L=j=>j.shadowRoot||j,V=j=>{const Re="ION-TABS"===j.tagName?j:j.querySelector("ion-tabs"),Le="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Re){const me=Re.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=me?me.querySelector(Le):null}return j.querySelector(Le)},ue=(j,Re)=>{const Le="ION-TABS"===j.tagName?j:j.querySelector("ion-tabs");let me=[];if(null!=Le){const W=Le.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=W&&(me=W.querySelectorAll("ion-buttons"))}else me=j.querySelectorAll("ion-buttons");for(const W of me){const K=W.closest("ion-header"),fe=K&&!K.classList.contains("header-collapse-condense-inactive"),Fe=W.querySelector("ion-back-button"),de=W.classList.contains("buttons-collapse");if(null!==Fe&&("start"===W.slot||""===W.slot)&&(de&&fe&&Re||!de))return Fe}return null},ie=(j,Re,Le,me,W,K)=>{const fe=Re?`calc(100% - ${K.right+4}px)`:K.left-4+"px",Fe=Re?"7px":"-7px",de=Re?"-4px":"4px",st=Re?"-4px":"4px",ce=Re?"right":"left",we=Re?"left":"right",$e=Le?[{offset:0,opacity:1,transform:`translate3d(${de}, ${K.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Fe}, ${W.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${Fe}, ${W.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${de}, ${K.top-46}px, 0) scale(1)`}],Ue=Le?[{offset:0,opacity:1,transform:`translate3d(${st}, ${K.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${st}, ${K.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${st}, ${K.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${st}, ${K.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${st}, ${K.top-46}px, 0) scale(1)`}],Qe=(0,I.c)(),vt=(0,I.c)(),dn=X("ion-back-button"),We=L(dn).querySelector(".button-text"),O=L(dn).querySelector("ion-icon");dn.text=me.text,dn.mode=me.mode,dn.icon=me.icon,dn.color=me.color,dn.disabled=me.disabled,dn.style.setProperty("display","block"),dn.style.setProperty("position","fixed"),vt.addElement(O),Qe.addElement(We),Qe.beforeStyles({"transform-origin":`${ce} center`}).beforeAddWrite(()=>{me.style.setProperty("display","none"),dn.style.setProperty(ce,fe)}).afterAddWrite(()=>{me.style.setProperty("display",""),dn.style.setProperty("display","none"),dn.style.removeProperty(ce)}).keyframes($e),vt.beforeStyles({"transform-origin":`${we} center`}).keyframes(Ue),j.addAnimation([Qe,vt])},B=(j,Re,Le,me,W,K)=>{const fe=Re?`calc(100% - ${W.right}px)`:`${W.left}px`,Fe=Re?"-18px":"18px",de=Re?"right":"left",we=Le?[{offset:0,opacity:0,transform:`translate3d(${Fe}, ${K.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${W.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${W.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Fe}, ${K.top-4}px, 0) scale(0.5)`}],De=X("ion-title"),Ye=(0,I.c)();De.innerText=me.innerText,De.size=me.size,De.color=me.color,Ye.addElement(De),Ye.beforeStyles({"transform-origin":`${de} center`,height:"46px",display:"",position:"relative",[de]:fe}).beforeAddWrite(()=>{me.style.setProperty("display","none")}).afterAddWrite(()=>{me.style.setProperty("display",""),De.style.setProperty("display","none")}).keyframes(we),j.addAnimation(Ye)},$=(j,Re)=>{var Le;try{const me="cubic-bezier(0.32,0.72,0,1)",W="opacity",K="transform",fe="0%",de="rtl"===j.ownerDocument.dir,st=de?"-99.5%":"99.5%",ce=de?"33%":"-33%",we=Re.enteringEl,De=Re.leavingEl,Ye="back"===Re.direction,$e=we.querySelector(":scope > ion-content"),Me=we.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),re=we.querySelectorAll(":scope > ion-header > ion-toolbar"),Ue=(0,I.c)(),Qe=(0,I.c)();if(Ue.addElement(we).duration((null!==(Le=Re.duration)&&void 0!==Le?Le:0)||540).easing(Re.easing||me).fill("both").beforeRemoveClass("ion-page-invisible"),De&&null!=j){const O=(0,I.c)();O.addElement(j),Ue.addAnimation(O)}if($e||0!==re.length||0!==Me.length?(Qe.addElement($e),Qe.addElement(Me)):Qe.addElement(we.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Ue.addAnimation(Qe),Ye?Qe.beforeClearStyles([W]).fromTo("transform",`translateX(${ce})`,`translateX(${fe})`).fromTo(W,.8,1):Qe.beforeClearStyles([W]).fromTo("transform",`translateX(${st})`,`translateX(${fe})`),$e){const O=L($e).querySelector(".transition-effect");if(O){const ye=O.querySelector(".transition-cover"),nt=O.querySelector(".transition-shadow"),rt=(0,I.c)(),Ve=(0,I.c)(),q=(0,I.c)();rt.addElement(O).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ve.addElement(ye).beforeClearStyles([W]).fromTo(W,0,.1),q.addElement(nt).beforeClearStyles([W]).fromTo(W,.03,.7),rt.addAnimation([Ve,q]),Qe.addAnimation([rt])}}const vt=we.querySelector("ion-header.header-collapse-condense"),{forward:dn,backward:We}=((j,Re,Le,me,W)=>{const K=ue(me,Le),fe=V(W),Fe=V(me),de=ue(W,Le),st=null!==K&&null!==fe&&!Le,ce=null!==Fe&&null!==de&&Le;if(st){const we=fe.getBoundingClientRect(),De=K.getBoundingClientRect();B(j,Re,Le,fe,we,De),ie(j,Re,Le,K,we,De)}else if(ce){const we=Fe.getBoundingClientRect(),De=de.getBoundingClientRect();B(j,Re,Le,Fe,we,De),ie(j,Re,Le,de,we,De)}return{forward:st,backward:ce}})(Ue,de,Ye,we,De);if(re.forEach(O=>{const ye=(0,I.c)();ye.addElement(O),Ue.addAnimation(ye);const nt=(0,I.c)();nt.addElement(O.querySelector("ion-title"));const rt=(0,I.c)(),Ve=Array.from(O.querySelectorAll("ion-buttons,[menuToggle]")),q=O.closest("ion-header"),_e=q?.classList.contains("header-collapse-condense-inactive");let pt;pt=Ve.filter(Ye?rn=>{const G=rn.classList.contains("buttons-collapse");return G&&!_e||!G}:rn=>!rn.classList.contains("buttons-collapse")),rt.addElement(pt);const Pe=(0,I.c)();Pe.addElement(O.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Mt=(0,I.c)();Mt.addElement(L(O).querySelector(".toolbar-background"));const cn=(0,I.c)(),en=O.querySelector("ion-back-button");if(en&&cn.addElement(en),ye.addAnimation([nt,rt,Pe,Mt,cn]),rt.fromTo(W,.01,1),Pe.fromTo(W,.01,1),Ye)_e||nt.fromTo("transform",`translateX(${ce})`,`translateX(${fe})`).fromTo(W,.01,1),Pe.fromTo("transform",`translateX(${ce})`,`translateX(${fe})`),cn.fromTo(W,.01,1);else if(vt||nt.fromTo("transform",`translateX(${st})`,`translateX(${fe})`).fromTo(W,.01,1),Pe.fromTo("transform",`translateX(${st})`,`translateX(${fe})`),Mt.beforeClearStyles([W,"transform"]),q?.translucent?Mt.fromTo("transform",de?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Mt.fromTo(W,.01,"var(--opacity)"),dn||cn.fromTo(W,.01,1),en&&!dn){const G=(0,I.c)();G.addElement(L(en).querySelector(".button-text")).fromTo("transform",de?"translateX(-100px)":"translateX(100px)","translateX(0px)"),ye.addAnimation(G)}}),De){const O=(0,I.c)(),ye=De.querySelector(":scope > ion-content"),nt=De.querySelectorAll(":scope > ion-header > ion-toolbar"),rt=De.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(ye||0!==nt.length||0!==rt.length?(O.addElement(ye),O.addElement(rt)):O.addElement(De.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Ue.addAnimation(O),Ye){O.beforeClearStyles([W]).fromTo("transform",`translateX(${fe})`,de?"translateX(-100%)":"translateX(100%)");const Ve=(0,c.g)(De);Ue.afterAddWrite(()=>{"normal"===Ue.getDirection()&&Ve.style.setProperty("display","none")})}else O.fromTo("transform",`translateX(${fe})`,`translateX(${ce})`).fromTo(W,1,.8);if(ye){const Ve=L(ye).querySelector(".transition-effect");if(Ve){const q=Ve.querySelector(".transition-cover"),_e=Ve.querySelector(".transition-shadow"),pt=(0,I.c)(),Pe=(0,I.c)(),Mt=(0,I.c)();pt.addElement(Ve).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Pe.addElement(q).beforeClearStyles([W]).fromTo(W,.1,0),Mt.addElement(_e).beforeClearStyles([W]).fromTo(W,.7,.03),pt.addAnimation([Pe,Mt]),O.addAnimation([pt])}}nt.forEach(Ve=>{const q=(0,I.c)();q.addElement(Ve);const _e=(0,I.c)();_e.addElement(Ve.querySelector("ion-title"));const pt=(0,I.c)(),Pe=Ve.querySelectorAll("ion-buttons,[menuToggle]"),Mt=Ve.closest("ion-header"),cn=Mt?.classList.contains("header-collapse-condense-inactive"),en=Array.from(Pe).filter(No=>{const Kr=No.classList.contains("buttons-collapse");return Kr&&!cn||!Kr});pt.addElement(en);const rn=(0,I.c)(),G=Ve.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");G.length>0&&rn.addElement(G);const vn=(0,I.c)();vn.addElement(L(Ve).querySelector(".toolbar-background"));const dr=(0,I.c)(),Qn=Ve.querySelector("ion-back-button");if(Qn&&dr.addElement(Qn),q.addAnimation([_e,pt,rn,dr,vn]),Ue.addAnimation(q),dr.fromTo(W,.99,0),pt.fromTo(W,.99,0),rn.fromTo(W,.99,0),Ye){if(cn||_e.fromTo("transform",`translateX(${fe})`,de?"translateX(-100%)":"translateX(100%)").fromTo(W,.99,0),rn.fromTo("transform",`translateX(${fe})`,de?"translateX(-100%)":"translateX(100%)"),vn.beforeClearStyles([W,"transform"]),Mt?.translucent?vn.fromTo("transform","translateX(0px)",de?"translateX(-100%)":"translateX(100%)"):vn.fromTo(W,"var(--opacity)",0),Qn&&!We){const Kr=(0,I.c)();Kr.addElement(L(Qn).querySelector(".button-text")).fromTo("transform",`translateX(${fe})`,`translateX(${(de?-124:124)+"px"})`),q.addAnimation(Kr)}}else cn||_e.fromTo("transform",`translateX(${fe})`,`translateX(${ce})`).fromTo(W,.99,0).afterClearStyles([K,W]),rn.fromTo("transform",`translateX(${fe})`,`translateX(${ce})`).afterClearStyles([K,W]),dr.afterClearStyles([W]),_e.afterClearStyles([W]),pt.afterClearStyles([W])})}return Ue}catch(me){throw me}}},4199:(Be,Ge,P)=>{"use strict";P.r(Ge),P.d(Ge,{mdTransitionAnimation:()=>z});var I=P(5933),c=P(919);P(2286),P(1559);const z=(X,L)=>{var V,ue,Y;const $="back"===L.direction,Re=L.leavingEl,Le=(0,c.g)(L.enteringEl),me=Le.querySelector("ion-toolbar"),W=(0,I.c)();if(W.addElement(Le).fill("both").beforeRemoveClass("ion-page-invisible"),$?W.duration((null!==(V=L.duration)&&void 0!==V?V:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):W.duration((null!==(ue=L.duration)&&void 0!==ue?ue:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),me){const K=(0,I.c)();K.addElement(me),W.addAnimation(K)}if(Re&&$){W.duration((null!==(Y=L.duration)&&void 0!==Y?Y:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const K=(0,I.c)();K.addElement((0,c.g)(Re)).onFinish(fe=>{1===fe&&K.elements.length>0&&K.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),W.addAnimation(K)}return W}},7580:(Be,Ge,P)=>{"use strict";P.d(Ge,{B:()=>ye,G:()=>nt,a:()=>V,b:()=>ue,c:()=>$,d:()=>Ye,e:()=>Re,f:()=>Me,g:()=>Qe,h:()=>X,i:()=>dn,j:()=>W,k:()=>we,l:()=>Y,m:()=>ie,s:()=>O});var I=P(3918),c=P(5823),oe=P(159),te=P(9259);let z=0;const X=new WeakMap,L=rt=>({create:Ve=>Le(rt,Ve),dismiss:(Ve,q,_e)=>st(document,Ve,q,rt,_e),getTop:()=>(0,I.Z)(function*(){return we(document,rt)})()}),V=L("ion-alert"),ue=L("ion-action-sheet"),Y=L("ion-loading"),ie=L("ion-modal"),$=L("ion-popover"),Re=rt=>{typeof document<"u"&&de(document);const Ve=z++;rt.overlayIndex=Ve,rt.hasAttribute("id")||(rt.id=`ion-overlay-${Ve}`)},Le=(rt,Ve)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(rt).then(()=>{const q=document.createElement(rt);return q.classList.add("overlay-hidden"),Object.assign(q,Object.assign(Object.assign({},Ve),{hasController:!0})),re(document).appendChild(q),new Promise(_e=>(0,te.c)(q,_e))}):Promise.resolve(),me='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',W=(rt,Ve)=>{let q=rt.querySelector(me);const _e=q?.shadowRoot;_e&&(q=_e.querySelector(me)||q),q?(0,te.f)(q):Ve.focus()},fe=(rt,Ve)=>{const q=Array.from(rt.querySelectorAll(me));let _e=q.length>0?q[q.length-1]:null;const pt=_e?.shadowRoot;pt&&(_e=pt.querySelector(me)||_e),_e?_e.focus():Ve.focus()},de=rt=>{0===z&&(z=1,rt.addEventListener("focus",Ve=>{((rt,Ve)=>{const q=we(Ve,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),_e=rt.target;q&&_e&&!q.classList.contains("ion-disable-focus-trap")&&(q.shadowRoot?(()=>{if(q.contains(_e))q.lastFocus=_e;else{const Mt=q.lastFocus;W(q,q),Mt===Ve.activeElement&&fe(q,q),q.lastFocus=Ve.activeElement}})():(()=>{if(q===_e)q.lastFocus=void 0;else{const Mt=(0,te.g)(q);if(!Mt.contains(_e))return;const cn=Mt.querySelector(".ion-overlay-wrapper");if(!cn)return;if(cn.contains(_e))q.lastFocus=_e;else{const en=q.lastFocus;W(cn,q),en===Ve.activeElement&&fe(cn,q),q.lastFocus=Ve.activeElement}}})())})(Ve,rt)},!0),rt.addEventListener("ionBackButton",Ve=>{const q=we(rt);q?.backdropDismiss&&Ve.detail.register(oe.OVERLAY_BACK_BUTTON_PRIORITY,()=>q.dismiss(void 0,ye))}),rt.addEventListener("keyup",Ve=>{if("Escape"===Ve.key){const q=we(rt);q?.backdropDismiss&&q.dismiss(void 0,ye)}}))},st=(rt,Ve,q,_e,pt)=>{const Pe=we(rt,_e,pt);return Pe?Pe.dismiss(Ve,q):Promise.reject("overlay does not exist")},we=(rt,Ve,q)=>{const _e=((rt,Ve)=>(void 0===Ve&&(Ve="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(rt.querySelectorAll(Ve)).filter(q=>q.overlayIndex>0)))(rt,Ve).filter(pt=>!(rt=>rt.classList.contains("overlay-hidden"))(pt));return void 0===q?_e[_e.length-1]:_e.find(pt=>pt.id===q)},De=(rt=!1)=>{const q=re(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");q&&(rt?q.setAttribute("aria-hidden","true"):q.removeAttribute("aria-hidden"))},Ye=function(){var rt=(0,I.Z)(function*(Ve,q,_e,pt,Pe){var Mt,cn;if(Ve.presented)return;De(!0),Ve.presented=!0,Ve.willPresent.emit(),null===(Mt=Ve.willPresentShorthand)||void 0===Mt||Mt.emit();const en=(0,c.b)(Ve),rn=Ve.enterAnimation?Ve.enterAnimation:c.c.get(q,"ios"===en?_e:pt);(yield Ue(Ve,rn,Ve.el,Pe))&&(Ve.didPresent.emit(),null===(cn=Ve.didPresentShorthand)||void 0===cn||cn.emit()),"ION-TOAST"!==Ve.el.tagName&&$e(Ve.el),Ve.keyboardClose&&(null===document.activeElement||!Ve.el.contains(document.activeElement))&&Ve.el.focus()});return function(q,_e,pt,Pe,Mt){return rt.apply(this,arguments)}}(),$e=function(){var rt=(0,I.Z)(function*(Ve){let q=document.activeElement;if(!q)return;const _e=q?.shadowRoot;_e&&(q=_e.querySelector(me)||q),yield Ve.onDidDismiss(),q.focus()});return function(q){return rt.apply(this,arguments)}}(),Me=function(){var rt=(0,I.Z)(function*(Ve,q,_e,pt,Pe,Mt,cn){var en,rn;if(!Ve.presented)return!1;De(!1),Ve.presented=!1;try{Ve.el.style.setProperty("pointer-events","none"),Ve.willDismiss.emit({data:q,role:_e}),null===(en=Ve.willDismissShorthand)||void 0===en||en.emit({data:q,role:_e});const G=(0,c.b)(Ve),vn=Ve.leaveAnimation?Ve.leaveAnimation:c.c.get(pt,"ios"===G?Pe:Mt);_e!==nt&&(yield Ue(Ve,vn,Ve.el,cn)),Ve.didDismiss.emit({data:q,role:_e}),null===(rn=Ve.didDismissShorthand)||void 0===rn||rn.emit({data:q,role:_e}),X.delete(Ve),Ve.el.classList.add("overlay-hidden"),Ve.el.style.removeProperty("pointer-events")}catch(G){console.error(G)}return Ve.el.remove(),!0});return function(q,_e,pt,Pe,Mt,cn,en){return rt.apply(this,arguments)}}(),re=rt=>rt.querySelector("ion-app")||rt.body,Ue=function(){var rt=(0,I.Z)(function*(Ve,q,_e,pt){_e.classList.remove("overlay-hidden");const Mt=q(Ve.el,pt);(!Ve.animated||!c.c.getBoolean("animated",!0))&&Mt.duration(0),Ve.keyboardClose&&Mt.beforeAddWrite(()=>{const en=_e.ownerDocument.activeElement;en?.matches("input,ion-input, ion-textarea")&&en.blur()});const cn=X.get(Ve)||[];return X.set(Ve,[...cn,Mt]),yield Mt.play(),!0});return function(q,_e,pt,Pe){return rt.apply(this,arguments)}}(),Qe=(rt,Ve)=>{let q;const _e=new Promise(pt=>q=pt);return vt(rt,Ve,pt=>{q(pt.detail)}),_e},vt=(rt,Ve,q)=>{const _e=pt=>{(0,te.b)(rt,Ve,_e),q(pt)};(0,te.a)(rt,Ve,_e)},dn=rt=>"cancel"===rt||rt===ye,We=rt=>rt(),O=(rt,Ve)=>{if("function"==typeof rt)return c.c.get("_zoneGate",We)(()=>{try{return rt(Ve)}catch(_e){throw _e}})},ye="backdrop",nt="gesture"},4263:(Be,Ge,P)=>{"use strict";var I=P(9903),c=P(3855),oe=c(I("String.prototype.indexOf"));Be.exports=function(z,X){var L=I(z,!!X);return"function"==typeof L&&oe(z,".prototype.")>-1?c(L):L}},3855:(Be,Ge,P)=>{"use strict";var I=P(224),c=P(9903),oe=c("%Function.prototype.apply%"),te=c("%Function.prototype.call%"),z=c("%Reflect.apply%",!0)||I.call(te,oe),X=c("%Object.getOwnPropertyDescriptor%",!0),L=c("%Object.defineProperty%",!0),V=c("%Math.max%");if(L)try{L({},"a",{value:1})}catch{L=null}Be.exports=function(ie){var B=z(I,te,arguments);if(X&&L){var $=X(B,"length");$.configurable&&L(B,"length",{value:1+V(0,ie.length-(arguments.length-1))})}return B};var ue=function(){return z(I,oe,arguments)};L?L(Be.exports,"apply",{value:ue}):Be.exports.apply=ue},5107:Be=>{var Ge={utf8:{stringToBytes:function(P){return Ge.bin.stringToBytes(unescape(encodeURIComponent(P)))},bytesToString:function(P){return decodeURIComponent(escape(Ge.bin.bytesToString(P)))}},bin:{stringToBytes:function(P){for(var I=[],c=0;c<P.length;c++)I.push(255&P.charCodeAt(c));return I},bytesToString:function(P){for(var I=[],c=0;c<P.length;c++)I.push(String.fromCharCode(P[c]));return I.join("")}}};Be.exports=Ge},7175:Be=>{var Ge,P;Ge="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Be.exports=P={rotl:function(I,c){return I<<c|I>>>32-c},rotr:function(I,c){return I<<32-c|I>>>c},endian:function(I){if(I.constructor==Number)return 16711935&P.rotl(I,8)|4278255360&P.rotl(I,24);for(var c=0;c<I.length;c++)I[c]=P.endian(I[c]);return I},randomBytes:function(I){for(var c=[];I>0;I--)c.push(Math.floor(256*Math.random()));return c},bytesToWords:function(I){for(var c=[],oe=0,te=0;oe<I.length;oe++,te+=8)c[te>>>5]|=I[oe]<<24-te%32;return c},wordsToBytes:function(I){for(var c=[],oe=0;oe<32*I.length;oe+=8)c.push(I[oe>>>5]>>>24-oe%32&255);return c},bytesToHex:function(I){for(var c=[],oe=0;oe<I.length;oe++)c.push((I[oe]>>>4).toString(16)),c.push((15&I[oe]).toString(16));return c.join("")},hexToBytes:function(I){for(var c=[],oe=0;oe<I.length;oe+=2)c.push(parseInt(I.substr(oe,2),16));return c},bytesToBase64:function(I){for(var c=[],oe=0;oe<I.length;oe+=3)for(var te=I[oe]<<16|I[oe+1]<<8|I[oe+2],z=0;z<4;z++)c.push(8*oe+6*z<=8*I.length?Ge.charAt(te>>>6*(3-z)&63):"=");return c.join("")},base64ToBytes:function(I){I=I.replace(/[^A-Z0-9+\/]/gi,"");for(var c=[],oe=0,te=0;oe<I.length;te=++oe%4)0!=te&&c.push((Ge.indexOf(I.charAt(oe-1))&Math.pow(2,-2*te+8)-1)<<2*te|Ge.indexOf(I.charAt(oe))>>>6-2*te);return c}}},5541:(Be,Ge,P)=>{"use strict";var I=P(6189),c=P(4263),oe=P(8704),te=P(9903),z=P(2069),X=P(8432),L=P(5734),V=P(9102),ue=P(8266),Y=P(2805),ie=P(4666),B=P(6687),$=P(3163),j=P(2093),Re=P(2086),Le=P(2107),me=P(5709),W=c("ArrayBuffer.prototype.byteLength",!0)||function(_e){return _e.byteLength},K=c("SharedArrayBuffer.prototype.byteLength",!0),fe=c("Date.prototype.getTime"),Fe=Object.getPrototypeOf,de=c("Object.prototype.toString"),st=te("%Set%",!0),ce=c("Map.prototype.has",!0),we=c("Map.prototype.get",!0),De=c("Map.prototype.size",!0),Ye=c("Set.prototype.add",!0),$e=c("Set.prototype.delete",!0),Me=c("Set.prototype.has",!0),re=c("Set.prototype.size",!0);function Ue(q,_e,pt,Pe){for(var cn,Mt=z(q);(cn=Mt.next())&&!cn.done;)if(O(_e,cn.value,pt,Pe))return $e(q,cn.value),!0;return!1}function Qe(q){return typeof q>"u"?null:"object"!=typeof q?"symbol"!=typeof q&&("string"!=typeof q&&"number"!=typeof q||+q==+q):void 0}function vt(q,_e,pt,Pe,Mt,cn){var en=Qe(pt);if(null!=en)return en;var rn=we(_e,en),G=I({},Mt,{strict:!1});return!(typeof rn>"u"&&!ce(_e,en)||!O(Pe,rn,G,cn))&&!ce(q,en)&&O(Pe,rn,G,cn)}function dn(q,_e,pt){var Pe=Qe(pt);return Pe??(Me(_e,Pe)&&!Me(q,Pe))}function We(q,_e,pt,Pe,Mt,cn){for(var rn,G,en=z(q);(rn=en.next())&&!rn.done;)if(O(pt,G=rn.value,Mt,cn)&&O(Pe,we(_e,G),Mt,cn))return $e(q,G),!0;return!1}function O(q,_e,pt,Pe){var Mt=pt||{};if(Mt.strict?L(q,_e):q===_e)return!0;if(Re(q)!==Re(_e))return!1;if(!q||!_e||"object"!=typeof q&&"object"!=typeof _e)return Mt.strict?L(q,_e):q==_e;var vn,rn=Pe.has(q),G=Pe.has(_e);if(rn&&G){if(Pe.get(q)===Pe.get(_e))return!0}else vn={};return rn||Pe.set(q,vn),G||Pe.set(_e,vn),function Ve(q,_e,pt,Pe){var Mt,cn;if(typeof q!=typeof _e||null==q||null==_e||de(q)!==de(_e)||V(q)!==V(_e))return!1;if(ue(q)!==ue(_e))return!1;var G=q instanceof Error,vn=_e instanceof Error;if(G!==vn||(G||vn)&&(q.name!==_e.name||q.message!==_e.message))return!1;var dr=B(q),Qn=B(_e);if(dr!==Qn||(dr||Qn)&&(q.source!==_e.source||oe(q)!==oe(_e)))return!1;var No=ie(q),Kr=ie(_e);if(No!==Kr||(No||Kr)&&fe(q)!==fe(_e)||pt.strict&&Fe&&Fe(q)!==Fe(_e))return!1;var _i=me(q),xn=me(_e);if((_i||xn)&&_i!==xn)return!1;var uo=ye(q),Un=ye(_e);if(uo!==Un)return!1;if(uo||Un){if(q.length!==_e.length)return!1;for(Mt=0;Mt<q.length;Mt++)if(q[Mt]!==_e[Mt])return!1;return!0}var vi=Y(q),Wr=Y(_e);if(vi!==Wr)return!1;if(vi||Wr)return W(q)===W(_e)&&"function"==typeof Uint8Array&&O(new Uint8Array(q),new Uint8Array(_e),pt,Pe);var Pr=$(q),ir=$(_e);if(Pr!==ir)return!1;if(Pr||ir)return K(q)===K(_e)&&"function"==typeof Uint8Array&&O(new Uint8Array(q),new Uint8Array(_e),pt,Pe);if(typeof q!=typeof _e)return!1;var Vr=j(q),to=j(_e);if(Vr.length!==to.length)return!1;for(Vr.sort(),to.sort(),Mt=Vr.length-1;Mt>=0;Mt--)if(Vr[Mt]!=to[Mt])return!1;for(Mt=Vr.length-1;Mt>=0;Mt--)if(!O(q[cn=Vr[Mt]],_e[cn],pt,Pe))return!1;var gn=Le(q),Yr=Le(_e);return gn===Yr&&("Set"===gn||"Set"===Yr?function nt(q,_e,pt,Pe){if(re(q)!==re(_e))return!1;for(var en,rn,G,Mt=z(q),cn=z(_e);(en=Mt.next())&&!en.done;)if(en.value&&"object"==typeof en.value)G||(G=new st),Ye(G,en.value);else if(!Me(_e,en.value)){if(pt.strict||!dn(q,_e,en.value))return!1;G||(G=new st),Ye(G,en.value)}if(G){for(;(rn=cn.next())&&!rn.done;)if(rn.value&&"object"==typeof rn.value){if(!Ue(G,rn.value,pt.strict,Pe))return!1}else if(!pt.strict&&!Me(q,rn.value)&&!Ue(G,rn.value,pt.strict,Pe))return!1;return 0===re(G)}return!0}(q,_e,pt,Pe):"Map"!==gn||function rt(q,_e,pt,Pe){if(De(q)!==De(_e))return!1;for(var en,rn,G,vn,dr,Qn,Mt=z(q),cn=z(_e);(en=Mt.next())&&!en.done;)if(dr=en.value[1],(vn=en.value[0])&&"object"==typeof vn)G||(G=new st),Ye(G,vn);else if(typeof(Qn=we(_e,vn))>"u"&&!ce(_e,vn)||!O(dr,Qn,pt,Pe)){if(pt.strict||!vt(q,_e,vn,dr,pt,Pe))return!1;G||(G=new st),Ye(G,vn)}if(G){for(;(rn=cn.next())&&!rn.done;)if(Qn=rn.value[1],(vn=rn.value[0])&&"object"==typeof vn){if(!We(G,q,vn,Qn,pt,Pe))return!1}else if(!(pt.strict||q.has(vn)&&O(we(q,vn),Qn,pt,Pe)||We(G,q,vn,Qn,I({},pt,{strict:!1}),Pe)))return!1;return 0===re(G)}return!0}(q,_e,pt,Pe))}(q,_e,Mt,Pe)}function ye(q){return!(!q||"object"!=typeof q||"number"!=typeof q.length||"function"!=typeof q.copy||"function"!=typeof q.slice||q.length>0&&"number"!=typeof q[0]||!(q.constructor&&q.constructor.isBuffer&&q.constructor.isBuffer(q)))}Be.exports=function(_e,pt,Pe){return O(_e,pt,Pe,X())}},1790:(Be,Ge,P)=>{"use strict";var I=P(2093),c="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),oe=Object.prototype.toString,te=Array.prototype.concat,z=Object.defineProperty,L=P(9006)(),V=z&&L,ue=function(ie,B,$,j){B in ie&&(!function(ie){return"function"==typeof ie&&"[object Function]"===oe.call(ie)}(j)||!j())||(V?z(ie,B,{configurable:!0,enumerable:!1,value:$,writable:!0}):ie[B]=$)},Y=function(ie,B){var $=arguments.length>2?arguments[2]:{},j=I(B);c&&(j=te.call(j,Object.getOwnPropertySymbols(B)));for(var Re=0;Re<j.length;Re+=1)ue(ie,j[Re],B[j[Re]],$[j[Re]])};Y.supportsDescriptors=!!V,Be.exports=Y},9897:function(Be,Ge){!function(P){"use strict";var B,oe=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,te=536870912,z=2*te,L=new WeakMap,ue=function(B,$){return function(j){var Re=$.get(j),Le=void 0===Re?j.size:Re<z?Re+1:0;if(!j.has(Le))return B(j,Le);if(j.size<te){for(;j.has(Le);)Le=Math.floor(Math.random()*z);return B(j,Le)}if(j.size>oe)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;j.has(Le);)Le=Math.floor(Math.random()*oe);return B(j,Le)}}((B=L,function($,j){return B.set($,j),j}),L),Y=function(B){return function($){var j=B($);return $.add(j),j}}(ue);P.addUniqueNumber=Y,P.generateUniqueNumber=ue}(Ge)},3037:(Be,Ge,P)=>{"use strict";var I=P(8642),c=Object.prototype.toString,oe=Object.prototype.hasOwnProperty,te=function(ue,Y,ie){for(var B=0,$=ue.length;B<$;B++)oe.call(ue,B)&&(null==ie?Y(ue[B],B,ue):Y.call(ie,ue[B],B,ue))},z=function(ue,Y,ie){for(var B=0,$=ue.length;B<$;B++)null==ie?Y(ue.charAt(B),B,ue):Y.call(ie,ue.charAt(B),B,ue)},X=function(ue,Y,ie){for(var B in ue)oe.call(ue,B)&&(null==ie?Y(ue[B],B,ue):Y.call(ie,ue[B],B,ue))};Be.exports=function(ue,Y,ie){if(!I(Y))throw new TypeError("iterator must be a function");var B;arguments.length>=3&&(B=ie),"[object Array]"===c.call(ue)?te(ue,Y,B):"string"==typeof ue?z(ue,Y,B):X(ue,Y,B)}},2199:Be=>{"use strict";var Ge="Function.prototype.bind called on incompatible ",P=Array.prototype.slice,I=Object.prototype.toString,c="[object Function]";Be.exports=function(te){var z=this;if("function"!=typeof z||I.call(z)!==c)throw new TypeError(Ge+z);for(var L,X=P.call(arguments,1),V=function(){if(this instanceof L){var $=z.apply(this,X.concat(P.call(arguments)));return Object($)===$?$:this}return z.apply(te,X.concat(P.call(arguments)))},ue=Math.max(0,z.length-X.length),Y=[],ie=0;ie<ue;ie++)Y.push("$"+ie);if(L=Function("binder","return function ("+Y.join(",")+"){ return binder.apply(this,arguments); }")(V),z.prototype){var B=function(){};B.prototype=z.prototype,L.prototype=new B,B.prototype=null}return L}},224:(Be,Ge,P)=>{"use strict";var I=P(2199);Be.exports=Function.prototype.bind||I},3677:Be=>{"use strict";var Ge=function(){return"string"==typeof function(){}.name},P=Object.getOwnPropertyDescriptor;if(P)try{P([],"length")}catch{P=null}Ge.functionsHaveConfigurableNames=function(){if(!Ge()||!P)return!1;var oe=P(function(){},"name");return!!oe&&!!oe.configurable};var I=Function.prototype.bind;Ge.boundFunctionsHaveNames=function(){return Ge()&&"function"==typeof I&&""!==function(){}.bind().name},Be.exports=Ge},9903:(Be,Ge,P)=>{"use strict";var I,c=SyntaxError,oe=Function,te=TypeError,z=function($e){try{return oe('"use strict"; return ('+$e+").constructor;")()}catch{}},X=Object.getOwnPropertyDescriptor;if(X)try{X({},"")}catch{X=null}var L=function(){throw new te},V=X?function(){try{return L}catch{try{return X(arguments,"callee").get}catch{return L}}}():L,ue=P(524)(),Y=Object.getPrototypeOf||function($e){return $e.__proto__},ie={},B=typeof Uint8Array>"u"?I:Y(Uint8Array),$={"%AggregateError%":typeof AggregateError>"u"?I:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?I:ArrayBuffer,"%ArrayIteratorPrototype%":ue?Y([][Symbol.iterator]()):I,"%AsyncFromSyncIteratorPrototype%":I,"%AsyncFunction%":ie,"%AsyncGenerator%":ie,"%AsyncGeneratorFunction%":ie,"%AsyncIteratorPrototype%":ie,"%Atomics%":typeof Atomics>"u"?I:Atomics,"%BigInt%":typeof BigInt>"u"?I:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?I:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?I:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?I:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?I:Float32Array,"%Float64Array%":typeof Float64Array>"u"?I:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?I:FinalizationRegistry,"%Function%":oe,"%GeneratorFunction%":ie,"%Int8Array%":typeof Int8Array>"u"?I:Int8Array,"%Int16Array%":typeof Int16Array>"u"?I:Int16Array,"%Int32Array%":typeof Int32Array>"u"?I:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ue?Y(Y([][Symbol.iterator]())):I,"%JSON%":"object"==typeof JSON?JSON:I,"%Map%":typeof Map>"u"?I:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ue?I:Y((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?I:Promise,"%Proxy%":typeof Proxy>"u"?I:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?I:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?I:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ue?I:Y((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?I:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ue?Y(""[Symbol.iterator]()):I,"%Symbol%":ue?Symbol:I,"%SyntaxError%":c,"%ThrowTypeError%":V,"%TypedArray%":B,"%TypeError%":te,"%Uint8Array%":typeof Uint8Array>"u"?I:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?I:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?I:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?I:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?I:WeakMap,"%WeakRef%":typeof WeakRef>"u"?I:WeakRef,"%WeakSet%":typeof WeakSet>"u"?I:WeakSet};try{null.error}catch($e){var j=Y(Y($e));$["%Error.prototype%"]=j}var Re=function $e(Me){var re;if("%AsyncFunction%"===Me)re=z("async function () {}");else if("%GeneratorFunction%"===Me)re=z("function* () {}");else if("%AsyncGeneratorFunction%"===Me)re=z("async function* () {}");else if("%AsyncGenerator%"===Me){var Ue=$e("%AsyncGeneratorFunction%");Ue&&(re=Ue.prototype)}else if("%AsyncIteratorPrototype%"===Me){var Qe=$e("%AsyncGenerator%");Qe&&(re=Y(Qe.prototype))}return $[Me]=re,re},Le={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},me=P(224),W=P(4031),K=me.call(Function.call,Array.prototype.concat),fe=me.call(Function.apply,Array.prototype.splice),Fe=me.call(Function.call,String.prototype.replace),de=me.call(Function.call,String.prototype.slice),st=me.call(Function.call,RegExp.prototype.exec),ce=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,we=/\\(\\)?/g,De=function(Me){var re=de(Me,0,1),Ue=de(Me,-1);if("%"===re&&"%"!==Ue)throw new c("invalid intrinsic syntax, expected closing `%`");if("%"===Ue&&"%"!==re)throw new c("invalid intrinsic syntax, expected opening `%`");var Qe=[];return Fe(Me,ce,function(vt,dn,We,O){Qe[Qe.length]=We?Fe(O,we,"$1"):dn||vt}),Qe},Ye=function(Me,re){var Qe,Ue=Me;if(W(Le,Ue)&&(Ue="%"+(Qe=Le[Ue])[0]+"%"),W($,Ue)){var vt=$[Ue];if(vt===ie&&(vt=Re(Ue)),typeof vt>"u"&&!re)throw new te("intrinsic "+Me+" exists, but is not available. Please file an issue!");return{alias:Qe,name:Ue,value:vt}}throw new c("intrinsic "+Me+" does not exist!")};Be.exports=function(Me,re){if("string"!=typeof Me||0===Me.length)throw new te("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof re)throw new te('"allowMissing" argument must be a boolean');if(null===st(/^%?[^%]*%?$/,Me))throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Ue=De(Me),Qe=Ue.length>0?Ue[0]:"",vt=Ye("%"+Qe+"%",re),dn=vt.name,We=vt.value,O=!1,ye=vt.alias;ye&&(Qe=ye[0],fe(Ue,K([0,1],ye)));for(var nt=1,rt=!0;nt<Ue.length;nt+=1){var Ve=Ue[nt],q=de(Ve,0,1),_e=de(Ve,-1);if(('"'===q||"'"===q||"`"===q||'"'===_e||"'"===_e||"`"===_e)&&q!==_e)throw new c("property names with quotes must have matching quotes");if(("constructor"===Ve||!rt)&&(O=!0),W($,dn="%"+(Qe+="."+Ve)+"%"))We=$[dn];else if(null!=We){if(!(Ve in We)){if(!re)throw new te("base intrinsic for "+Me+" exists, but the property is not available.");return}if(X&&nt+1>=Ue.length){var pt=X(We,Ve);We=(rt=!!pt)&&"get"in pt&&!("originalValue"in pt.get)?pt.get:We[Ve]}else rt=W(We,Ve),We=We[Ve];rt&&!O&&($[dn]=We)}}return We}},253:(Be,Ge,P)=>{"use strict";var c=P(9903)("%Object.getOwnPropertyDescriptor%",!0);if(c)try{c([],"length")}catch{c=null}Be.exports=c},5861:Be=>{"use strict";var Ge=typeof BigInt<"u"&&BigInt;Be.exports=function(){return"function"==typeof Ge&&"function"==typeof BigInt&&"bigint"==typeof Ge(42)&&"bigint"==typeof BigInt(42)}},9006:(Be,Ge,P)=>{"use strict";var c=P(9903)("%Object.defineProperty%",!0),oe=function(){if(c)try{return c({},"a",{value:1}),!0}catch{return!1}return!1};oe.hasArrayLengthDefineBug=function(){if(!oe())return null;try{return 1!==c([],"length",{value:1}).length}catch{return!0}},Be.exports=oe},524:(Be,Ge,P)=>{"use strict";var I=typeof Symbol<"u"&&Symbol,c=P(6858);Be.exports=function(){return"function"==typeof I&&"function"==typeof Symbol&&"symbol"==typeof I("foo")&&"symbol"==typeof Symbol("bar")&&c()}},6858:Be=>{"use strict";Be.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var P={},I=Symbol("test"),c=Object(I);if("string"==typeof I||"[object Symbol]"!==Object.prototype.toString.call(I)||"[object Symbol]"!==Object.prototype.toString.call(c))return!1;for(I in P[I]=42,P)return!1;if("function"==typeof Object.keys&&0!==Object.keys(P).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(P).length)return!1;var te=Object.getOwnPropertySymbols(P);if(1!==te.length||te[0]!==I||!Object.prototype.propertyIsEnumerable.call(P,I))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var z=Object.getOwnPropertyDescriptor(P,I);if(42!==z.value||!0!==z.enumerable)return!1}return!0}},3261:(Be,Ge,P)=>{"use strict";var I=P(6858);Be.exports=function(){return I()&&!!Symbol.toStringTag}},4031:(Be,Ge,P)=>{"use strict";var I=P(224);Be.exports=I.call(Function.call,Object.prototype.hasOwnProperty)},5847:(Be,Ge,P)=>{"use strict";var I=P(9903),c=P(4031),oe=P(8432)(),te=I("%TypeError%"),z={assert:function(X,L){if(!X||"object"!=typeof X&&"function"!=typeof X)throw new te("`O` is not an object");if("string"!=typeof L)throw new te("`slot` must be a string");if(oe.assert(X),!z.has(X,L))throw new te("`slot` is not present on `O`")},get:function(X,L){if(!X||"object"!=typeof X&&"function"!=typeof X)throw new te("`O` is not an object");if("string"!=typeof L)throw new te("`slot` must be a string");var V=oe.get(X);return V&&V["$"+L]},has:function(X,L){if(!X||"object"!=typeof X&&"function"!=typeof X)throw new te("`O` is not an object");if("string"!=typeof L)throw new te("`slot` must be a string");var V=oe.get(X);return!!V&&c(V,"$"+L)},set:function(X,L,V){if(!X||"object"!=typeof X&&"function"!=typeof X)throw new te("`O` is not an object");if("string"!=typeof L)throw new te("`slot` must be a string");var ue=oe.get(X);ue||oe.set(X,ue={}),ue["$"+L]=V}};Object.freeze&&Object.freeze(z),Be.exports=z},9102:(Be,Ge,P)=>{"use strict";var I=P(3261)(),oe=P(4263)("Object.prototype.toString"),te=function(V){return!(I&&V&&"object"==typeof V&&Symbol.toStringTag in V)&&"[object Arguments]"===oe(V)},z=function(V){return!!te(V)||null!==V&&"object"==typeof V&&"number"==typeof V.length&&V.length>=0&&"[object Array]"!==oe(V)&&"[object Function]"===oe(V.callee)},X=function(){return te(arguments)}();te.isLegacyArguments=z,Be.exports=X?te:z},2805:(Be,Ge,P)=>{"use strict";var I=P(3855),c=P(4263),oe=P(9903),te=P(7673),z=oe("ArrayBuffer",!0),X=oe("Float32Array",!0),L=c("ArrayBuffer.prototype.byteLength",!0),V=z&&!L&&(new z).slice,ue=V&&I(V);Be.exports=L||ue?function(ie){if(!ie||"object"!=typeof ie)return!1;try{return L?L(ie):ue(ie,0),!0}catch{return!1}}:X?function(ie){try{return new X(ie).buffer===ie&&!te(ie)}catch{return!1}}:function(ie){return!1}},3:(Be,Ge,P)=>{"use strict";if(P(5861)()){var c=BigInt.prototype.valueOf;Be.exports=function(z){return!(null===z||typeof z>"u"||"boolean"==typeof z||"string"==typeof z||"number"==typeof z||"symbol"==typeof z||"function"==typeof z)&&("bigint"==typeof z||function(z){try{return c.call(z),!0}catch{}return!1}(z))}}else Be.exports=function(z){return!1}},6180:(Be,Ge,P)=>{"use strict";var I=P(4263),c=I("Boolean.prototype.toString"),oe=I("Object.prototype.toString"),X=P(3261)();Be.exports=function(V){return"boolean"==typeof V||null!==V&&"object"==typeof V&&(X&&Symbol.toStringTag in V?function(V){try{return c(V),!0}catch{return!1}}(V):"[object Boolean]"===oe(V))}},5057:Be=>{function Ge(I){return!!I.constructor&&"function"==typeof I.constructor.isBuffer&&I.constructor.isBuffer(I)}Be.exports=function(I){return null!=I&&(Ge(I)||function P(I){return"function"==typeof I.readFloatLE&&"function"==typeof I.slice&&Ge(I.slice(0,0))}(I)||!!I._isBuffer)}},8642:Be=>{"use strict";var I,c,Ge=Function.prototype.toString,P="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof P&&"function"==typeof Object.defineProperty)try{I=Object.defineProperty({},"length",{get:function(){throw c}}),c={},P(function(){throw 42},null,I)}catch(me){me!==c&&(P=null)}else P=null;var oe=/^\s*class\b/,te=function(W){try{var K=Ge.call(W);return oe.test(K)}catch{return!1}},z=function(W){try{return!te(W)&&(Ge.call(W),!0)}catch{return!1}},X=Object.prototype.toString,$="function"==typeof Symbol&&!!Symbol.toStringTag,j=!(0 in[,]),Re=function(){return!1};if("object"==typeof document){var Le=document.all;X.call(Le)===X.call(document.all)&&(Re=function(W){if((j||!W)&&(typeof W>"u"||"object"==typeof W))try{var K=X.call(W);return("[object HTMLAllCollection]"===K||"[object HTML document.all class]"===K||"[object HTMLCollection]"===K||"[object Object]"===K)&&null==W("")}catch{}return!1})}Be.exports=P?function(W){if(Re(W))return!0;if(!W||"function"!=typeof W&&"object"!=typeof W)return!1;try{P(W,null,I)}catch(K){if(K!==c)return!1}return!te(W)&&z(W)}:function(W){if(Re(W))return!0;if(!W||"function"!=typeof W&&"object"!=typeof W)return!1;if($)return z(W);if(te(W))return!1;var K=X.call(W);return!("[object Function]"!==K&&"[object GeneratorFunction]"!==K&&!/^\[object HTML/.test(K))&&z(W)}},4666:(Be,Ge,P)=>{"use strict";var I=Date.prototype.getDay,oe=Object.prototype.toString,z=P(3261)();Be.exports=function(L){return"object"==typeof L&&null!==L&&(z?function(L){try{return I.call(L),!0}catch{return!1}}(L):"[object Date]"===oe.call(L))}},9898:Be=>{"use strict";var I,Ge="function"==typeof Map&&Map.prototype?Map:null,P="function"==typeof Set&&Set.prototype?Set:null;Ge||(I=function(z){return!1});var c=Ge?Map.prototype.has:null,oe=P?Set.prototype.has:null;!I&&!c&&(I=function(z){return!1}),Be.exports=I||function(z){if(!z||"object"!=typeof z)return!1;try{if(c.call(z),oe)try{oe.call(z)}catch{return!0}return z instanceof Ge}catch{}return!1}},1046:(Be,Ge,P)=>{"use strict";var I=Number.prototype.toString,oe=Object.prototype.toString,z=P(3261)();Be.exports=function(L){return"number"==typeof L||"object"==typeof L&&(z?function(L){try{return I.call(L),!0}catch{return!1}}(L):"[object Number]"===oe.call(L))}},6687:(Be,Ge,P)=>{"use strict";var oe,te,z,X,I=P(4263),c=P(3261)();if(c){oe=I("Object.prototype.hasOwnProperty"),te=I("RegExp.prototype.exec"),z={};var L=function(){throw z};X={toString:L,valueOf:L},"symbol"==typeof Symbol.toPrimitive&&(X[Symbol.toPrimitive]=L)}var V=I("Object.prototype.toString"),ue=Object.getOwnPropertyDescriptor;Be.exports=c?function(B){if(!B||"object"!=typeof B)return!1;var $=ue(B,"lastIndex");if(!$||!oe($,"value"))return!1;try{te(B,X)}catch(Re){return Re===z}}:function(B){return!(!B||"object"!=typeof B&&"function"!=typeof B)&&"[object RegExp]"===V(B)}},3870:Be=>{"use strict";var I,Ge="function"==typeof Map&&Map.prototype?Map:null,P="function"==typeof Set&&Set.prototype?Set:null;P||(I=function(z){return!1});var c=Ge?Map.prototype.has:null,oe=P?Set.prototype.has:null;!I&&!oe&&(I=function(z){return!1}),Be.exports=I||function(z){if(!z||"object"!=typeof z)return!1;try{if(oe.call(z),c)try{c.call(z)}catch{return!0}return z instanceof P}catch{}return!1}},3163:(Be,Ge,P)=>{"use strict";var c=P(4263)("SharedArrayBuffer.prototype.byteLength",!0);Be.exports=c?function(te){if(!te||"object"!=typeof te)return!1;try{return c(te),!0}catch{return!1}}:function(te){return!1}},4764:(Be,Ge,P)=>{"use strict";var I=String.prototype.valueOf,oe=Object.prototype.toString,z=P(3261)();Be.exports=function(L){return"string"==typeof L||"object"==typeof L&&(z?function(L){try{return I.call(L),!0}catch{return!1}}(L):"[object String]"===oe.call(L))}},6434:(Be,Ge,P)=>{"use strict";var I=Object.prototype.toString;if(P(524)()){var oe=Symbol.prototype.toString,te=/^Symbol\(.*\)$/;Be.exports=function(L){if("symbol"==typeof L)return!0;if("[object Symbol]"!==I.call(L))return!1;try{return function(L){return"symbol"==typeof L.valueOf()&&te.test(oe.call(L))}(L)}catch{return!1}}}else Be.exports=function(L){return!1}},7673:(Be,Ge,P)=>{"use strict";var I=P(3037),c=P(5271),oe=P(4263),te=oe("Object.prototype.toString"),z=P(3261)(),X=P(253),L=typeof globalThis>"u"?global:globalThis,V=c(),ue=oe("Array.prototype.indexOf",!0)||function(Re,Le){for(var me=0;me<Re.length;me+=1)if(Re[me]===Le)return me;return-1},Y=oe("String.prototype.slice"),ie={},B=Object.getPrototypeOf;z&&X&&B&&I(V,function(j){var Re=new L[j];if(Symbol.toStringTag in Re){var Le=B(Re),me=X(Le,Symbol.toStringTag);if(!me){var W=B(Le);me=X(W,Symbol.toStringTag)}ie[j]=me.get}}),Be.exports=function(Re){if(!Re||"object"!=typeof Re)return!1;if(!z||!(Symbol.toStringTag in Re)){var Le=Y(te(Re),8,-1);return ue(V,Le)>-1}return!!X&&function(Re){var Le=!1;return I(ie,function(me,W){if(!Le)try{Le=me.call(Re)===W}catch{}}),Le}(Re)}},5585:Be=>{"use strict";var I,Ge="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,P="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;Ge||(I=function(z){return!1});var c=Ge?Ge.prototype.has:null,oe=P?P.prototype.has:null;!I&&!c&&(I=function(z){return!1}),Be.exports=I||function(z){if(!z||"object"!=typeof z)return!1;try{if(c.call(z,c),oe)try{oe.call(z,oe)}catch{return!0}return z instanceof Ge}catch{}return!1}},1902:(Be,Ge,P)=>{"use strict";var I=P(9903),c=P(4263),oe=I("%WeakSet%",!0),te=c("WeakSet.prototype.has",!0);if(te){var z=c("WeakMap.prototype.has",!0);Be.exports=function(L){if(!L||"object"!=typeof L)return!1;try{if(te(L,te),z)try{z(L,z)}catch{return!0}return L instanceof oe}catch{}return!1}}else Be.exports=function(L){return!1}},8266:Be=>{var Ge={}.toString;Be.exports=Array.isArray||function(P){return"[object Array]"==Ge.call(P)}},5023:(Be,Ge,P)=>{var I,c,oe,te,z;I=P(7175),c=P(5107).utf8,oe=P(5057),te=P(5107).bin,(z=function(X,L){X.constructor==String?X=L&&"binary"===L.encoding?te.stringToBytes(X):c.stringToBytes(X):oe(X)?X=Array.prototype.slice.call(X,0):!Array.isArray(X)&&X.constructor!==Uint8Array&&(X=X.toString());for(var V=I.bytesToWords(X),ue=8*X.length,Y=1732584193,ie=-271733879,B=-1732584194,$=271733878,j=0;j<V.length;j++)V[j]=16711935&(V[j]<<8|V[j]>>>24)|4278255360&(V[j]<<24|V[j]>>>8);V[ue>>>5]|=128<<ue%32,V[14+(ue+64>>>9<<4)]=ue;var Re=z._ff,Le=z._gg,me=z._hh,W=z._ii;for(j=0;j<V.length;j+=16){var K=Y,fe=ie,Fe=B,de=$;Y=Re(Y,ie,B,$,V[j+0],7,-680876936),$=Re($,Y,ie,B,V[j+1],12,-389564586),B=Re(B,$,Y,ie,V[j+2],17,606105819),ie=Re(ie,B,$,Y,V[j+3],22,-1044525330),Y=Re(Y,ie,B,$,V[j+4],7,-176418897),$=Re($,Y,ie,B,V[j+5],12,1200080426),B=Re(B,$,Y,ie,V[j+6],17,-1473231341),ie=Re(ie,B,$,Y,V[j+7],22,-45705983),Y=Re(Y,ie,B,$,V[j+8],7,1770035416),$=Re($,Y,ie,B,V[j+9],12,-1958414417),B=Re(B,$,Y,ie,V[j+10],17,-42063),ie=Re(ie,B,$,Y,V[j+11],22,-1990404162),Y=Re(Y,ie,B,$,V[j+12],7,1804603682),$=Re($,Y,ie,B,V[j+13],12,-40341101),B=Re(B,$,Y,ie,V[j+14],17,-1502002290),Y=Le(Y,ie=Re(ie,B,$,Y,V[j+15],22,1236535329),B,$,V[j+1],5,-165796510),$=Le($,Y,ie,B,V[j+6],9,-1069501632),B=Le(B,$,Y,ie,V[j+11],14,643717713),ie=Le(ie,B,$,Y,V[j+0],20,-373897302),Y=Le(Y,ie,B,$,V[j+5],5,-701558691),$=Le($,Y,ie,B,V[j+10],9,38016083),B=Le(B,$,Y,ie,V[j+15],14,-660478335),ie=Le(ie,B,$,Y,V[j+4],20,-405537848),Y=Le(Y,ie,B,$,V[j+9],5,568446438),$=Le($,Y,ie,B,V[j+14],9,-1019803690),B=Le(B,$,Y,ie,V[j+3],14,-187363961),ie=Le(ie,B,$,Y,V[j+8],20,1163531501),Y=Le(Y,ie,B,$,V[j+13],5,-1444681467),$=Le($,Y,ie,B,V[j+2],9,-51403784),B=Le(B,$,Y,ie,V[j+7],14,1735328473),Y=me(Y,ie=Le(ie,B,$,Y,V[j+12],20,-1926607734),B,$,V[j+5],4,-378558),$=me($,Y,ie,B,V[j+8],11,-2022574463),B=me(B,$,Y,ie,V[j+11],16,1839030562),ie=me(ie,B,$,Y,V[j+14],23,-35309556),Y=me(Y,ie,B,$,V[j+1],4,-1530992060),$=me($,Y,ie,B,V[j+4],11,1272893353),B=me(B,$,Y,ie,V[j+7],16,-155497632),ie=me(ie,B,$,Y,V[j+10],23,-1094730640),Y=me(Y,ie,B,$,V[j+13],4,681279174),$=me($,Y,ie,B,V[j+0],11,-358537222),B=me(B,$,Y,ie,V[j+3],16,-722521979),ie=me(ie,B,$,Y,V[j+6],23,76029189),Y=me(Y,ie,B,$,V[j+9],4,-640364487),$=me($,Y,ie,B,V[j+12],11,-421815835),B=me(B,$,Y,ie,V[j+15],16,530742520),Y=W(Y,ie=me(ie,B,$,Y,V[j+2],23,-995338651),B,$,V[j+0],6,-198630844),$=W($,Y,ie,B,V[j+7],10,1126891415),B=W(B,$,Y,ie,V[j+14],15,-1416354905),ie=W(ie,B,$,Y,V[j+5],21,-57434055),Y=W(Y,ie,B,$,V[j+12],6,1700485571),$=W($,Y,ie,B,V[j+3],10,-1894986606),B=W(B,$,Y,ie,V[j+10],15,-1051523),ie=W(ie,B,$,Y,V[j+1],21,-2054922799),Y=W(Y,ie,B,$,V[j+8],6,1873313359),$=W($,Y,ie,B,V[j+15],10,-30611744),B=W(B,$,Y,ie,V[j+6],15,-1560198380),ie=W(ie,B,$,Y,V[j+13],21,1309151649),Y=W(Y,ie,B,$,V[j+4],6,-145523070),$=W($,Y,ie,B,V[j+11],10,-1120210379),B=W(B,$,Y,ie,V[j+2],15,718787259),ie=W(ie,B,$,Y,V[j+9],21,-343485551),Y=Y+K>>>0,ie=ie+fe>>>0,B=B+Fe>>>0,$=$+de>>>0}return I.endian([Y,ie,B,$])})._ff=function(X,L,V,ue,Y,ie,B){var $=X+(L&V|~L&ue)+(Y>>>0)+B;return($<<ie|$>>>32-ie)+L},z._gg=function(X,L,V,ue,Y,ie,B){var $=X+(L&ue|V&~ue)+(Y>>>0)+B;return($<<ie|$>>>32-ie)+L},z._hh=function(X,L,V,ue,Y,ie,B){var $=X+(L^V^ue)+(Y>>>0)+B;return($<<ie|$>>>32-ie)+L},z._ii=function(X,L,V,ue,Y,ie,B){var $=X+(V^(L|~ue))+(Y>>>0)+B;return($<<ie|$>>>32-ie)+L},z._blocksize=16,z._digestsize=16,Be.exports=function(X,L){if(null==X)throw new Error("Illegal argument "+X);var V=I.wordsToBytes(z(X,L));return L&&L.asBytes?V:L&&L.asString?te.bytesToString(V):I.bytesToHex(V)}},9052:(Be,Ge)=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});var P=[];P[0]=function(){return function(){}},P[1]=function(te,z){return typeof z>"u"?te:function(L){te(L,z)}};var oe=function(){function te(){this.hasHandlers=!1,this._handlers=[],this._contexts=[],this._createDispatcher()}return te.prototype.addHandler=function(z,X){return this.isHandlerAttached(z,X)||(this._handlers.push(z),this._contexts.push(X),this._createDispatcher(),this._updateHasHandlers()),this},te.prototype.removeHandler=function(z,X){var L=this._getHandlerIndex(z,X);return typeof L<"u"&&(this._handlers.splice(L,1),this._contexts.splice(L,1),this._createDispatcher(),this._updateHasHandlers()),this},te.prototype.isHandlerAttached=function(z,X){return typeof this._getHandlerIndex(z,X)<"u"},te.prototype._updateHasHandlers=function(){this.hasHandlers=!!this._handlers.length},te.prototype._getHandlerIndex=function(z,X){var V,L=this._handlers.length;for(V=0;V<L&&(this._handlers[V]!==z||this._contexts[V]!==X);V++);return V<L?V:void 0},te.prototype._createDispatcher=function(){this.dispatch=function I(te){return P[te]||(P[te]=function c(te){for(var z="return function dispatcher"+te+"(payload) {\n",X=[],L=[],V=0;V<te;V++)X.push("cb"+V),L.push("ctx"+V),z+="    cb"+V+"(payload, ctx"+V+");\n";return z+="};",new(Function.bind.apply(Function,[void 0].concat(X.concat(L),[z])))}(te)),P[te]}(this._handlers.length).apply(this,this._handlers.concat(this._contexts))},te}();Ge.default=oe},1158:(Be,Ge,P)=>{"use strict";var c=P(9052);Ge.j=c.default},8597:(Be,Ge,P)=>{var I="function"==typeof Map&&Map.prototype,c=Object.getOwnPropertyDescriptor&&I?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,oe=I&&c&&"function"==typeof c.get?c.get:null,te=I&&Map.prototype.forEach,z="function"==typeof Set&&Set.prototype,X=Object.getOwnPropertyDescriptor&&z?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,L=z&&X&&"function"==typeof X.get?X.get:null,V=z&&Set.prototype.forEach,Y="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,B="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,j="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,Re=Boolean.prototype.valueOf,Le=Object.prototype.toString,me=Function.prototype.toString,W=String.prototype.match,K=String.prototype.slice,fe=String.prototype.replace,Fe=String.prototype.toUpperCase,de=String.prototype.toLowerCase,st=RegExp.prototype.test,ce=Array.prototype.concat,we=Array.prototype.join,De=Array.prototype.slice,Ye=Math.floor,$e="function"==typeof BigInt?BigInt.prototype.valueOf:null,Me=Object.getOwnPropertySymbols,re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,Ue="function"==typeof Symbol&&"object"==typeof Symbol.iterator,Qe="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,vt=Object.prototype.propertyIsEnumerable,dn=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(le){return le.__proto__}:null);function We(le,ze){if(le===1/0||le===-1/0||le!=le||le&&le>-1e3&&le<1e3||st.call(/e/,ze))return ze;var Pn=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof le){var $n=le<0?-Ye(-le):Ye(le);if($n!==le){var Kt=String($n),xt=K.call(ze,Kt.length+1);return fe.call(Kt,Pn,"$&_")+"."+fe.call(fe.call(xt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return fe.call(ze,Pn,"$&_")}var O=P(4654),ye=O.custom,nt=rn(ye)?ye:null;function rt(le,ze,Pn){var $n="double"===(Pn.quoteStyle||ze)?'"':"'";return $n+le+$n}function Ve(le){return fe.call(String(le),/"/g,"&quot;")}function q(le){return!("[object Array]"!==Qn(le)||Qe&&"object"==typeof le&&Qe in le)}function pt(le){return!("[object RegExp]"!==Qn(le)||Qe&&"object"==typeof le&&Qe in le)}function rn(le){if(Ue)return le&&"object"==typeof le&&le instanceof Symbol;if("symbol"==typeof le)return!0;if(!le||"object"!=typeof le||!re)return!1;try{return re.call(le),!0}catch{}return!1}Be.exports=function le(ze,Pn,$n,Kt){var xt=Pn||{};if(dr(xt,"quoteStyle")&&"single"!==xt.quoteStyle&&"double"!==xt.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(dr(xt,"maxStringLength")&&("number"==typeof xt.maxStringLength?xt.maxStringLength<0&&xt.maxStringLength!==1/0:null!==xt.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var hr=!dr(xt,"customInspect")||xt.customInspect;if("boolean"!=typeof hr&&"symbol"!==hr)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(dr(xt,"indent")&&null!==xt.indent&&"\t"!==xt.indent&&!(parseInt(xt.indent,10)===xt.indent&&xt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(dr(xt,"numericSeparator")&&"boolean"!=typeof xt.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var tn=xt.numericSeparator;if(typeof ze>"u")return"undefined";if(null===ze)return"null";if("boolean"==typeof ze)return ze?"true":"false";if("string"==typeof ze)return Pr(ze,xt);if("number"==typeof ze){if(0===ze)return 1/0/ze>0?"0":"-0";var Jn=String(ze);return tn?We(ze,Jn):Jn}if("bigint"==typeof ze){var er=String(ze)+"n";return tn?We(ze,er):er}var un=typeof xt.depth>"u"?5:xt.depth;if(typeof $n>"u"&&($n=0),$n>=un&&un>0&&"object"==typeof ze)return q(ze)?"[Array]":"[Object]";var zt=function Xi(le,ze){var Pn;if("\t"===le.indent)Pn="\t";else{if(!("number"==typeof le.indent&&le.indent>0))return null;Pn=we.call(Array(le.indent+1)," ")}return{base:Pn,prev:we.call(Array(ze+1),Pn)}}(xt,$n);if(typeof Kt>"u")Kt=[];else if(Kr(Kt,ze)>=0)return"[Circular]";function E(li,Qo,wo){if(Qo&&(Kt=De.call(Kt)).push(Qo),wo){var Zr={depth:xt.depth};return dr(xt,"quoteStyle")&&(Zr.quoteStyle=xt.quoteStyle),le(li,Zr,$n+1,Kt)}return le(li,xt,$n+1,Kt)}if("function"==typeof ze&&!pt(ze)){var S=function No(le){if(le.name)return le.name;var ze=W.call(me.call(le),/^function\s*([\w$]+)/);return ze?ze[1]:null}(ze),qn=ct(ze,E);return"[Function"+(S?": "+S:" (anonymous)")+"]"+(qn.length>0?" { "+we.call(qn,", ")+" }":"")}if(rn(ze)){var D=Ue?fe.call(String(ze),/^(Symbol\(.*\))_[^)]*$/,"$1"):re.call(ze);return"object"!=typeof ze||Ue?D:Vr(D)}if(function Wr(le){return!(!le||"object"!=typeof le)&&(typeof HTMLElement<"u"&&le instanceof HTMLElement||"string"==typeof le.nodeName&&"function"==typeof le.getAttribute)}(ze)){for(var On="<"+de.call(String(ze.nodeName)),Lo=ze.attributes||[],Xo=0;Xo<Lo.length;Xo++)On+=" "+Lo[Xo].name+"="+rt(Ve(Lo[Xo].value),"double",xt);return On+=">",ze.childNodes&&ze.childNodes.length&&(On+="..."),On+"</"+de.call(String(ze.nodeName))+">"}if(q(ze)){if(0===ze.length)return"[]";var bo=ct(ze,E);return zt&&!function Yr(le){for(var ze=0;ze<le.length;ze++)if(Kr(le[ze],"\n")>=0)return!1;return!0}(bo)?"["+Ur(bo,zt)+"]":"[ "+we.call(bo,", ")+" ]"}if(function Pe(le){return!("[object Error]"!==Qn(le)||Qe&&"object"==typeof le&&Qe in le)}(ze)){var Pi=ct(ze,E);return"cause"in Error.prototype||!("cause"in ze)||vt.call(ze,"cause")?0===Pi.length?"["+String(ze)+"]":"{ ["+String(ze)+"] "+we.call(Pi,", ")+" }":"{ ["+String(ze)+"] "+we.call(ce.call("[cause]: "+E(ze.cause),Pi),", ")+" }"}if("object"==typeof ze&&hr){if(nt&&"function"==typeof ze[nt]&&O)return O(ze,{depth:un-$n});if("symbol"!==hr&&"function"==typeof ze.inspect)return ze.inspect()}if(function _i(le){if(!oe||!le||"object"!=typeof le)return!1;try{oe.call(le);try{L.call(le)}catch{return!0}return le instanceof Map}catch{}return!1}(ze)){var $o=[];return te&&te.call(ze,function(li,Qo){$o.push(E(Qo,ze,!0)+" => "+E(li,ze))}),gn("Map",oe.call(ze),$o,zt)}if(function Un(le){if(!L||!le||"object"!=typeof le)return!1;try{L.call(le);try{oe.call(le)}catch{return!0}return le instanceof Set}catch{}return!1}(ze)){var bi=[];return V&&V.call(ze,function(li){bi.push(E(li,ze))}),gn("Set",L.call(ze),bi,zt)}if(function xn(le){if(!Y||!le||"object"!=typeof le)return!1;try{Y.call(le,Y);try{B.call(le,B)}catch{return!0}return le instanceof WeakMap}catch{}return!1}(ze))return to("WeakMap");if(function vi(le){if(!B||!le||"object"!=typeof le)return!1;try{B.call(le,B);try{Y.call(le,Y)}catch{return!0}return le instanceof WeakSet}catch{}return!1}(ze))return to("WeakSet");if(function uo(le){if(!j||!le||"object"!=typeof le)return!1;try{return j.call(le),!0}catch{}return!1}(ze))return to("WeakRef");if(function cn(le){return!("[object Number]"!==Qn(le)||Qe&&"object"==typeof le&&Qe in le)}(ze))return Vr(E(Number(ze)));if(function G(le){if(!le||"object"!=typeof le||!$e)return!1;try{return $e.call(le),!0}catch{}return!1}(ze))return Vr(E($e.call(ze)));if(function en(le){return!("[object Boolean]"!==Qn(le)||Qe&&"object"==typeof le&&Qe in le)}(ze))return Vr(Re.call(ze));if(function Mt(le){return!("[object String]"!==Qn(le)||Qe&&"object"==typeof le&&Qe in le)}(ze))return Vr(E(String(ze)));if(!function _e(le){return!("[object Date]"!==Qn(le)||Qe&&"object"==typeof le&&Qe in le)}(ze)&&!pt(ze)){var wi=ct(ze,E),no=dn?dn(ze)===Object.prototype:ze instanceof Object||ze.constructor===Object,Bo=ze instanceof Object?"":"null prototype",mr=!no&&Qe&&Object(ze)===ze&&Qe in ze?K.call(Qn(ze),8,-1):Bo?"Object":"",Xr=(no||"function"!=typeof ze.constructor?"":ze.constructor.name?ze.constructor.name+" ":"")+(mr||Bo?"["+we.call(ce.call([],mr||[],Bo||[]),": ")+"] ":"");return 0===wi.length?Xr+"{}":zt?Xr+"{"+Ur(wi,zt)+"}":Xr+"{ "+we.call(wi,", ")+" }"}return String(ze)};var vn=Object.prototype.hasOwnProperty||function(le){return le in this};function dr(le,ze){return vn.call(le,ze)}function Qn(le){return Le.call(le)}function Kr(le,ze){if(le.indexOf)return le.indexOf(ze);for(var Pn=0,$n=le.length;Pn<$n;Pn++)if(le[Pn]===ze)return Pn;return-1}function Pr(le,ze){if(le.length>ze.maxStringLength){var Pn=le.length-ze.maxStringLength,$n="... "+Pn+" more character"+(Pn>1?"s":"");return Pr(K.call(le,0,ze.maxStringLength),ze)+$n}return rt(fe.call(fe.call(le,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,ir),"single",ze)}function ir(le){var ze=le.charCodeAt(0),Pn={8:"b",9:"t",10:"n",12:"f",13:"r"}[ze];return Pn?"\\"+Pn:"\\x"+(ze<16?"0":"")+Fe.call(ze.toString(16))}function Vr(le){return"Object("+le+")"}function to(le){return le+" { ? }"}function gn(le,ze,Pn,$n){return le+" ("+ze+") {"+($n?Ur(Pn,$n):we.call(Pn,", "))+"}"}function Ur(le,ze){if(0===le.length)return"";var Pn="\n"+ze.prev+ze.base;return Pn+we.call(le,","+Pn)+"\n"+ze.prev}function ct(le,ze){var Pn=q(le),$n=[];if(Pn){$n.length=le.length;for(var Kt=0;Kt<le.length;Kt++)$n[Kt]=dr(le,Kt)?ze(le[Kt],le):""}var hr,xt="function"==typeof Me?Me(le):[];if(Ue){hr={};for(var tn=0;tn<xt.length;tn++)hr["$"+xt[tn]]=xt[tn]}for(var Jn in le)dr(le,Jn)&&(Pn&&String(Number(Jn))===Jn&&Jn<le.length||Ue&&hr["$"+Jn]instanceof Symbol||(st.call(/[^\w$]/,Jn)?$n.push(ze(Jn,le)+": "+ze(le[Jn],le)):$n.push(Jn+": "+ze(le[Jn],le))));if("function"==typeof Me)for(var er=0;er<xt.length;er++)vt.call(le,xt[er])&&$n.push("["+ze(xt[er])+"]: "+ze(le[xt[er]],le));return $n}},6872:Be=>{"use strict";var Ge=function(P){return P!=P};Be.exports=function(I,c){return 0===I&&0===c?1/I==1/c:!!(I===c||Ge(I)&&Ge(c))}},5734:(Be,Ge,P)=>{"use strict";var I=P(1790),c=P(3855),oe=P(6872),te=P(3306),z=P(7715),X=c(te(),Object);I(X,{getPolyfill:te,implementation:oe,shim:z}),Be.exports=X},3306:(Be,Ge,P)=>{"use strict";var I=P(6872);Be.exports=function(){return"function"==typeof Object.is?Object.is:I}},7715:(Be,Ge,P)=>{"use strict";var I=P(3306),c=P(1790);Be.exports=function(){var te=I();return c(Object,{is:te},{is:function(){return Object.is!==te}}),te}},7010:(Be,Ge,P)=>{"use strict";var I;if(!Object.keys){var c=Object.prototype.hasOwnProperty,oe=Object.prototype.toString,te=P(5185),z=Object.prototype.propertyIsEnumerable,X=!z.call({toString:null},"toString"),L=z.call(function(){},"prototype"),V=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],ue=function($){var j=$.constructor;return j&&j.prototype===$},Y={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},ie=function(){if(typeof window>"u")return!1;for(var $ in window)try{if(!Y["$"+$]&&c.call(window,$)&&null!==window[$]&&"object"==typeof window[$])try{ue(window[$])}catch{return!0}}catch{return!0}return!1}();I=function(j){var Re=null!==j&&"object"==typeof j,Le="[object Function]"===oe.call(j),me=te(j),W=Re&&"[object String]"===oe.call(j),K=[];if(!Re&&!Le&&!me)throw new TypeError("Object.keys called on a non-object");var fe=L&&Le;if(W&&j.length>0&&!c.call(j,0))for(var Fe=0;Fe<j.length;++Fe)K.push(String(Fe));if(me&&j.length>0)for(var de=0;de<j.length;++de)K.push(String(de));else for(var st in j)(!fe||"prototype"!==st)&&c.call(j,st)&&K.push(String(st));if(X)for(var ce=function($){if(typeof window>"u"||!ie)return ue($);try{return ue($)}catch{return!1}}(j),we=0;we<V.length;++we)(!ce||"constructor"!==V[we])&&c.call(j,V[we])&&K.push(V[we]);return K}}Be.exports=I},2093:(Be,Ge,P)=>{"use strict";var I=Array.prototype.slice,c=P(5185),oe=Object.keys,te=oe?function(L){return oe(L)}:P(7010),z=Object.keys;te.shim=function(){if(Object.keys){var L=function(){var V=Object.keys(arguments);return V&&V.length===arguments.length}(1,2);L||(Object.keys=function(ue){return c(ue)?z(I.call(ue)):z(ue)})}else Object.keys=te;return Object.keys||te},Be.exports=te},5185:Be=>{"use strict";var Ge=Object.prototype.toString;Be.exports=function(I){var c=Ge.call(I),oe="[object Arguments]"===c;return oe||(oe="[object Array]"!==c&&null!==I&&"object"==typeof I&&"number"==typeof I.length&&I.length>=0&&"[object Function]"===Ge.call(I.callee)),oe}},2461:(Be,Ge,P)=>{"use strict";var I=P(2093),c=P(6858)(),oe=P(4263),te=Object,z=oe("Array.prototype.push"),X=oe("Object.prototype.propertyIsEnumerable"),L=c?Object.getOwnPropertySymbols:null;Be.exports=function(ue,Y){if(null==ue)throw new TypeError("target must be an object");var ie=te(ue);if(1===arguments.length)return ie;for(var B=1;B<arguments.length;++B){var $=te(arguments[B]),j=I($),Re=c&&(Object.getOwnPropertySymbols||L);if(Re)for(var Le=Re($),me=0;me<Le.length;++me){var W=Le[me];X($,W)&&z(j,W)}for(var K=0;K<j.length;++K){var fe=j[K];if(X($,fe)){var Fe=$[fe];ie[fe]=Fe}}}return ie}},6189:(Be,Ge,P)=>{"use strict";var I=P(1790),c=P(3855),oe=P(2461),te=P(6255),z=P(152),X=c.apply(te()),L=function(ue,Y){return X(Object,arguments)};I(L,{getPolyfill:te,implementation:oe,shim:z}),Be.exports=L},6255:(Be,Ge,P)=>{"use strict";var I=P(2461);Be.exports=function(){return!Object.assign||function(){if(!Object.assign)return!1;for(var te="abcdefghijklmnopqrst",z=te.split(""),X={},L=0;L<z.length;++L)X[z[L]]=z[L];var V=Object.assign({},X),ue="";for(var Y in V)ue+=Y;return te!==ue}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var te=Object.preventExtensions({1:2});try{Object.assign(te,"xy")}catch{return"y"===te[1]}return!1}()?I:Object.assign}},152:(Be,Ge,P)=>{"use strict";var I=P(1790),c=P(6255);Be.exports=function(){var te=c();return I(Object,{assign:te},{assign:function(){return Object.assign!==te}}),te}},151:(Be,Ge)=>{"use strict";var P=Object.prototype.hasOwnProperty;function c(X){try{return decodeURIComponent(X.replace(/\+/g," "))}catch{return null}}function oe(X){try{return encodeURIComponent(X)}catch{return null}}Ge.stringify=function z(X,L){L=L||"";var ue,Y,V=[];for(Y in"string"!=typeof L&&(L="?"),X)if(P.call(X,Y)){if(!(ue=X[Y])&&(null==ue||isNaN(ue))&&(ue=""),Y=oe(Y),ue=oe(ue),null===Y||null===ue)continue;V.push(Y+"="+ue)}return V.length?L+V.join("&"):""},Ge.parse=function te(X){for(var ue,L=/([^=?#&]+)=?([^&]*)/g,V={};ue=L.exec(X);){var Y=c(ue[1]),ie=c(ue[2]);null===Y||null===ie||Y in V||(V[Y]=ie)}return V}},4040:(Be,Ge,P)=>{"use strict";var I=P(3677).functionsHaveConfigurableNames(),c=Object,oe=TypeError;Be.exports=function(){if(null!=this&&this!==c(this))throw new oe("RegExp.prototype.flags getter called on non-object");var z="";return this.hasIndices&&(z+="d"),this.global&&(z+="g"),this.ignoreCase&&(z+="i"),this.multiline&&(z+="m"),this.dotAll&&(z+="s"),this.unicode&&(z+="u"),this.sticky&&(z+="y"),z},I&&Object.defineProperty&&Object.defineProperty(Be.exports,"name",{value:"get flags"})},8704:(Be,Ge,P)=>{"use strict";var I=P(1790),c=P(3855),oe=P(4040),te=P(9783),z=P(9369),X=c(te());I(X,{getPolyfill:te,implementation:oe,shim:z}),Be.exports=X},9783:(Be,Ge,P)=>{"use strict";var I=P(4040),c=P(1790).supportsDescriptors,oe=Object.getOwnPropertyDescriptor;Be.exports=function(){if(c&&"gim"===/a/gim.flags){var z=oe(RegExp.prototype,"flags");if(z&&"function"==typeof z.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var X="",L={};if(Object.defineProperty(L,"hasIndices",{get:function(){X+="d"}}),Object.defineProperty(L,"sticky",{get:function(){X+="y"}}),"dy"===X)return z.get}}return I}},9369:(Be,Ge,P)=>{"use strict";var I=P(1790).supportsDescriptors,c=P(9783),oe=Object.getOwnPropertyDescriptor,te=Object.defineProperty,z=TypeError,X=Object.getPrototypeOf,L=/a/;Be.exports=function(){if(!I||!X)throw new z("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var ue=c(),Y=X(L),ie=oe(Y,"flags");return(!ie||ie.get!==ue)&&te(Y,"flags",{configurable:!0,enumerable:!1,get:ue}),ue}},47:Be=>{"use strict";Be.exports=function(P,I){if(I=I.split(":")[0],!(P=+P))return!1;switch(I){case"http":case"ws":return 80!==P;case"https":case"wss":return 443!==P;case"ftp":return 21!==P;case"gopher":return 70!==P;case"file":return!1}return 0!==P}},8432:(Be,Ge,P)=>{"use strict";var I=P(9903),c=P(4263),oe=P(8597),te=I("%TypeError%"),z=I("%WeakMap%",!0),X=I("%Map%",!0),L=c("WeakMap.prototype.get",!0),V=c("WeakMap.prototype.set",!0),ue=c("WeakMap.prototype.has",!0),Y=c("Map.prototype.get",!0),ie=c("Map.prototype.set",!0),B=c("Map.prototype.has",!0),$=function(me,W){for(var fe,K=me;null!==(fe=K.next);K=fe)if(fe.key===W)return K.next=fe.next,fe.next=me.next,me.next=fe,fe};Be.exports=function(){var W,K,fe,Fe={assert:function(de){if(!Fe.has(de))throw new te("Side channel does not contain "+oe(de))},get:function(de){if(z&&de&&("object"==typeof de||"function"==typeof de)){if(W)return L(W,de)}else if(X){if(K)return Y(K,de)}else if(fe)return function(me,W){var K=$(me,W);return K&&K.value}(fe,de)},has:function(de){if(z&&de&&("object"==typeof de||"function"==typeof de)){if(W)return ue(W,de)}else if(X){if(K)return B(K,de)}else if(fe)return function(me,W){return!!$(me,W)}(fe,de);return!1},set:function(de,st){z&&de&&("object"==typeof de||"function"==typeof de)?(W||(W=new z),V(W,de,st)):X?(K||(K=new X),ie(K,de,st)):(fe||(fe={key:{},next:null}),function(me,W,K){var fe=$(me,W);fe?fe.value=K:me.next={key:W,next:me.next,value:K}}(fe,de,st))}};return Fe}},8519:(Be,Ge,P)=>{"use strict";var I=P(5847),c=SyntaxError,oe="object"==typeof StopIteration?StopIteration:null;Be.exports=function(z){if(!oe)throw new c("this environment lacks StopIteration");I.set(z,"[[Done]]",!1);var X={next:function(){var V=I.get(this,"[[Iterator]]"),ue=I.get(V,"[[Done]]");try{return{done:ue,value:ue?void 0:V.next()}}catch(Y){if(I.set(V,"[[Done]]",!0),Y!==oe)throw Y;return{done:!0,value:void 0}}}};return I.set(X,"[[Iterator]]",z),X}},9233:(Be,Ge,P)=>{"use strict";var I=P(47),c=P(151),oe=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,te=/[\n\r\t]/g,z=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,X=/:\d+$/,L=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,V=/^[a-zA-Z]:/;function ue(K){return(K||"").toString().replace(oe,"")}var Y=[["#","hash"],["?","query"],function(fe,Fe){return $(Fe.protocol)?fe.replace(/\\/g,"/"):fe},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],ie={hash:1,query:1};function B(K){var fe;fe=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ce,de={},st=typeof(K=K||fe.location||{});if("blob:"===K.protocol)de=new Le(unescape(K.pathname),{});else if("string"===st)for(ce in de=new Le(K,{}),ie)delete de[ce];else if("object"===st){for(ce in K)ce in ie||(de[ce]=K[ce]);void 0===de.slashes&&(de.slashes=z.test(K.href))}return de}function $(K){return"file:"===K||"ftp:"===K||"http:"===K||"https:"===K||"ws:"===K||"wss:"===K}function j(K,fe){K=(K=ue(K)).replace(te,""),fe=fe||{};var De,Fe=L.exec(K),de=Fe[1]?Fe[1].toLowerCase():"",st=!!Fe[2],ce=!!Fe[3],we=0;return st?ce?(De=Fe[2]+Fe[3]+Fe[4],we=Fe[2].length+Fe[3].length):(De=Fe[2]+Fe[4],we=Fe[2].length):ce?(De=Fe[3]+Fe[4],we=Fe[3].length):De=Fe[4],"file:"===de?we>=2&&(De=De.slice(2)):$(de)?De=Fe[4]:de?st&&(De=De.slice(2)):we>=2&&$(fe.protocol)&&(De=Fe[4]),{protocol:de,slashes:st||$(de),slashesCount:we,rest:De}}function Le(K,fe,Fe){if(K=(K=ue(K)).replace(te,""),!(this instanceof Le))return new Le(K,fe,Fe);var de,st,ce,we,De,Ye,$e=Y.slice(),Me=typeof fe,re=this,Ue=0;for("object"!==Me&&"string"!==Me&&(Fe=fe,fe=null),Fe&&"function"!=typeof Fe&&(Fe=c.parse),de=!(st=j(K||"",fe=B(fe))).protocol&&!st.slashes,re.slashes=st.slashes||de&&fe.slashes,re.protocol=st.protocol||fe.protocol||"",K=st.rest,("file:"===st.protocol&&(2!==st.slashesCount||V.test(K))||!st.slashes&&(st.protocol||st.slashesCount<2||!$(re.protocol)))&&($e[3]=[/(.*)/,"pathname"]);Ue<$e.length;Ue++)"function"!=typeof(we=$e[Ue])?(Ye=we[1],(ce=we[0])!=ce?re[Ye]=K:"string"==typeof ce?~(De="@"===ce?K.lastIndexOf(ce):K.indexOf(ce))&&("number"==typeof we[2]?(re[Ye]=K.slice(0,De),K=K.slice(De+we[2])):(re[Ye]=K.slice(De),K=K.slice(0,De))):(De=ce.exec(K))&&(re[Ye]=De[1],K=K.slice(0,De.index)),re[Ye]=re[Ye]||de&&we[3]&&fe[Ye]||"",we[4]&&(re[Ye]=re[Ye].toLowerCase())):K=we(K,re);Fe&&(re.query=Fe(re.query)),de&&fe.slashes&&"/"!==re.pathname.charAt(0)&&(""!==re.pathname||""!==fe.pathname)&&(re.pathname=function Re(K,fe){if(""===K)return fe;for(var Fe=(fe||"/").split("/").slice(0,-1).concat(K.split("/")),de=Fe.length,st=Fe[de-1],ce=!1,we=0;de--;)"."===Fe[de]?Fe.splice(de,1):".."===Fe[de]?(Fe.splice(de,1),we++):we&&(0===de&&(ce=!0),Fe.splice(de,1),we--);return ce&&Fe.unshift(""),("."===st||".."===st)&&Fe.push(""),Fe.join("/")}(re.pathname,fe.pathname)),"/"!==re.pathname.charAt(0)&&$(re.protocol)&&(re.pathname="/"+re.pathname),I(re.port,re.protocol)||(re.host=re.hostname,re.port=""),re.username=re.password="",re.auth&&(~(De=re.auth.indexOf(":"))?(re.username=re.auth.slice(0,De),re.username=encodeURIComponent(decodeURIComponent(re.username)),re.password=re.auth.slice(De+1),re.password=encodeURIComponent(decodeURIComponent(re.password))):re.username=encodeURIComponent(decodeURIComponent(re.auth)),re.auth=re.password?re.username+":"+re.password:re.username),re.origin="file:"!==re.protocol&&$(re.protocol)&&re.host?re.protocol+"//"+re.host:"null",re.href=re.toString()}Le.prototype={set:function me(K,fe,Fe){var de=this;switch(K){case"query":"string"==typeof fe&&fe.length&&(fe=(Fe||c.parse)(fe)),de[K]=fe;break;case"port":de[K]=fe,I(fe,de.protocol)?fe&&(de.host=de.hostname+":"+fe):(de.host=de.hostname,de[K]="");break;case"hostname":de[K]=fe,de.port&&(fe+=":"+de.port),de.host=fe;break;case"host":de[K]=fe,X.test(fe)?(fe=fe.split(":"),de.port=fe.pop(),de.hostname=fe.join(":")):(de.hostname=fe,de.port="");break;case"protocol":de.protocol=fe.toLowerCase(),de.slashes=!Fe;break;case"pathname":case"hash":if(fe){var st="pathname"===K?"/":"#";de[K]=fe.charAt(0)!==st?st+fe:fe}else de[K]=fe;break;case"username":case"password":de[K]=encodeURIComponent(fe);break;case"auth":var ce=fe.indexOf(":");~ce?(de.username=fe.slice(0,ce),de.username=encodeURIComponent(decodeURIComponent(de.username)),de.password=fe.slice(ce+1),de.password=encodeURIComponent(decodeURIComponent(de.password))):de.username=encodeURIComponent(decodeURIComponent(fe))}for(var we=0;we<Y.length;we++){var De=Y[we];De[4]&&(de[De[1]]=de[De[1]].toLowerCase())}return de.auth=de.password?de.username+":"+de.password:de.username,de.origin="file:"!==de.protocol&&$(de.protocol)&&de.host?de.protocol+"//"+de.host:"null",de.href=de.toString(),de},toString:function W(K){(!K||"function"!=typeof K)&&(K=c.stringify);var fe,Fe=this,de=Fe.host,st=Fe.protocol;st&&":"!==st.charAt(st.length-1)&&(st+=":");var ce=st+(Fe.protocol&&Fe.slashes||$(Fe.protocol)?"//":"");return Fe.username?(ce+=Fe.username,Fe.password&&(ce+=":"+Fe.password),ce+="@"):Fe.password?(ce+=":"+Fe.password,ce+="@"):"file:"!==Fe.protocol&&$(Fe.protocol)&&!de&&"/"!==Fe.pathname&&(ce+="@"),(":"===de[de.length-1]||X.test(Fe.hostname)&&!Fe.port)&&(de+=":"),ce+=de+Fe.pathname,(fe="object"==typeof Fe.query?K(Fe.query):Fe.query)&&(ce+="?"!==fe.charAt(0)?"?"+fe:fe),Fe.hash&&(ce+=Fe.hash),ce}},Le.extractProtocol=j,Le.location=B,Le.trimLeft=ue,Le.qs=c,Be.exports=Le},2086:(Be,Ge,P)=>{"use strict";var I=P(4764),c=P(1046),oe=P(6180),te=P(6434),z=P(3);Be.exports=function(L){return null==L||"object"!=typeof L&&"function"!=typeof L?null:I(L)?"String":c(L)?"Number":oe(L)?"Boolean":te(L)?"Symbol":z(L)?"BigInt":void 0}},5709:(Be,Ge,P)=>{"use strict";var I=P(3037),c=P(5271),oe=P(4263),te=P(253),z=oe("Object.prototype.toString"),X=P(3261)(),L=typeof globalThis>"u"?global:globalThis,V=c(),ue=oe("String.prototype.slice"),Y={},ie=Object.getPrototypeOf;X&&te&&ie&&I(V,function(j){if("function"==typeof L[j]){var Re=new L[j];if(Symbol.toStringTag in Re){var Le=ie(Re),me=te(Le,Symbol.toStringTag);if(!me){var W=ie(Le);me=te(W,Symbol.toStringTag)}Y[j]=me.get}}});var $=P(7673);Be.exports=function(Re){return!!$(Re)&&(X&&Symbol.toStringTag in Re?function(Re){var Le=!1;return I(Y,function(me,W){if(!Le)try{var K=me.call(Re);K===W&&(Le=K)}catch{}}),Le}(Re):ue(z(Re),8,-1))}},863:(Be,Ge,P)=>{var I={"./ion-accordion_2.entry.js":[79,8592,79],"./ion-action-sheet.entry.js":[5593,8592,5593],"./ion-alert.entry.js":[3225,8592,3225],"./ion-app_8.entry.js":[4812,8592,4017],"./ion-avatar_3.entry.js":[6655,6655],"./ion-back-button.entry.js":[4856,8592,4856],"./ion-backdrop.entry.js":[3059,3059],"./ion-breadcrumb_2.entry.js":[8648,8592,8648],"./ion-button_2.entry.js":[8308,8308],"./ion-card_5.entry.js":[4690,4690],"./ion-checkbox.entry.js":[4090,4090],"./ion-chip.entry.js":[6214,6214],"./ion-col_3.entry.js":[9447,9447],"./ion-datetime-button.entry.js":[7950,5523,7950],"./ion-datetime_3.entry.js":[9689,5523,8592,9689],"./ion-fab_3.entry.js":[8840,8592,8840],"./ion-img.entry.js":[749,749],"./ion-infinite-scroll_2.entry.js":[9667,8592,9544],"./ion-input.entry.js":[3288,8592,3288],"./ion-item-option_3.entry.js":[5473,8592,6108],"./ion-item_8.entry.js":[3634,8592,3634],"./ion-loading.entry.js":[2855,8592,2855],"./ion-menu_3.entry.js":[495,8592,495],"./ion-modal.entry.js":[8737,8592,8737],"./ion-nav_2.entry.js":[9632,8592,9632],"./ion-picker-column-internal.entry.js":[4446,8592,4446],"./ion-picker-internal.entry.js":[2275,2275],"./ion-popover.entry.js":[8050,8592,8050],"./ion-progress-bar.entry.js":[8994,8994],"./ion-radio_2.entry.js":[3592,3592],"./ion-range.entry.js":[5454,8592,5454],"./ion-refresher_2.entry.js":[290,8592,4210],"./ion-reorder_2.entry.js":[2666,8592,8718],"./ion-ripple-effect.entry.js":[4816,4816],"./ion-route_4.entry.js":[5534,5534],"./ion-searchbar.entry.js":[4902,8592,4902],"./ion-segment_2.entry.js":[1938,8592,1938],"./ion-select_3.entry.js":[8179,8179],"./ion-slide_2.entry.js":[668,668],"./ion-spinner.entry.js":[1624,8592,1624],"./ion-split-pane.entry.js":[9989,9989],"./ion-tab-bar_2.entry.js":[8902,8592,8902],"./ion-tab_2.entry.js":[199,8592,199],"./ion-text.entry.js":[8395,8395],"./ion-textarea.entry.js":[6357,6357],"./ion-toast.entry.js":[8268,8592,8268],"./ion-toggle.entry.js":[5269,8592,5269],"./ion-virtual-scroll.entry.js":[2875,2875]};function c(oe){if(!P.o(I,oe))return Promise.resolve().then(()=>{var X=new Error("Cannot find module '"+oe+"'");throw X.code="MODULE_NOT_FOUND",X});var te=I[oe],z=te[0];return Promise.all(te.slice(1).map(P.e)).then(()=>P(z))}c.keys=()=>Object.keys(I),c.id=863,Be.exports=c},4654:()=>{},5271:Be=>{"use strict";var Ge=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],P=typeof globalThis>"u"?global:globalThis;Be.exports=function(){for(var c=[],oe=0;oe<Ge.length;oe++)"function"==typeof P[Ge[oe]]&&(c[c.length]=Ge[oe]);return c}},2069:(Be,Ge,P)=>{"use strict";var I=P(9102),c=P(8519);if(P(524)()||P(6858)()){var oe=Symbol.iterator;Be.exports=function(De){return null!=De&&typeof De[oe]<"u"?De[oe]():I(De)?Array.prototype[oe].call(De):void 0}}else{var te=P(8266),z=P(4764),X=P(9903),L=X("%Map%",!0),V=X("%Set%",!0),ue=P(4263),Y=ue("Array.prototype.push"),ie=ue("String.prototype.charCodeAt"),B=ue("String.prototype.slice"),j=function(De){var Ye=0;return{next:function(){var re,Me=Ye>=De.length;return Me||(re=De[Ye],Ye+=1),{done:Me,value:re}}}},Re=function(De,Ye){if(te(De)||I(De))return j(De);if(z(De)){var $e=0;return{next:function(){var re=function(De,Ye){if(Ye+1>=De.length)return Ye+1;var Me=ie(De,Ye);if(Me<55296||Me>56319)return Ye+1;var re=ie(De,Ye+1);return re<56320||re>57343?Ye+1:Ye+2}(De,$e),Ue=B(De,$e,re);return $e=re,{done:re>De.length,value:Ue}}}}return Ye&&typeof De["_es6-shim iterator_"]<"u"?De["_es6-shim iterator_"]():void 0};if(L||V){var Le=P(9898),me=P(3870),W=ue("Map.prototype.forEach",!0),K=ue("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var fe=ue("Map.prototype.iterator",!0),Fe=ue("Set.prototype.iterator",!0);var de=ue("Map.prototype.@@iterator",!0)||ue("Map.prototype._es6-shim iterator_",!0),st=ue("Set.prototype.@@iterator",!0)||ue("Set.prototype._es6-shim iterator_",!0);Be.exports=function(De){return function(De){if(Le(De)){if(fe)return c(fe(De));if(de)return de(De);if(W){var Ye=[];return W(De,function(Me,re){Y(Ye,[re,Me])}),j(Ye)}}if(me(De)){if(Fe)return c(Fe(De));if(st)return st(De);if(K){var $e=[];return K(De,function(Me){Y($e,Me)}),j($e)}}}(De)||Re(De)}}else Be.exports=function(De){if(null!=De)return Re(De,!0)}}},2107:(Be,Ge,P)=>{"use strict";var I=P(9898),c=P(3870),oe=P(5585),te=P(1902);Be.exports=function(X){if(X&&"object"==typeof X){if(I(X))return"Map";if(c(X))return"Set";if(oe(X))return"WeakMap";if(te(X))return"WeakSet"}return!1}},3918:(Be,Ge,P)=>{"use strict";function I(oe,te,z,X,L,V,ue){try{var Y=oe[V](ue),ie=Y.value}catch(B){return void z(B)}Y.done?te(ie):Promise.resolve(ie).then(X,L)}function c(oe){return function(){var te=this,z=arguments;return new Promise(function(X,L){var V=oe.apply(te,z);function ue(ie){I(V,X,L,ue,Y,"next",ie)}function Y(ie){I(V,X,L,ue,Y,"throw",ie)}ue(void 0)})}}P.d(Ge,{Z:()=>c})}},Be=>{Be(Be.s=6467)}]);
//# sourceMappingURL=main.682d701baf3f9740.js.map