(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{919:($e,ze,T)=>{"use strict";function D(n){return"function"==typeof n}function l(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const ne=l(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function J(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class H{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const i of t)i.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(D(r))try{r()}catch(i){e=i instanceof ne?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{B(i)}catch(s){e=e??[],s instanceof ne?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ne(e)}}add(e){var t;if(e&&e!==this)if(this.closed)B(e);else{if(e instanceof H){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&J(t,e)}remove(e){const{_finalizers:t}=this;t&&J(t,e),e instanceof H&&e._removeParent(this)}}H.EMPTY=(()=>{const n=new H;return n.closed=!0,n})();const X=H.EMPTY;function N(n){return n instanceof H||n&&"closed"in n&&D(n.remove)&&D(n.add)&&D(n.unsubscribe)}function B(n){D(n)?n():n.unsubscribe()}const ce={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Y={setTimeout(n,e,...t){const{delegate:r}=Y;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Y;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ie(n){Y.setTimeout(()=>{const{onUnhandledError:e}=ce;if(!e)throw n;e(n)})}function $(){}const L=Le("C",void 0,void 0);function Le(n,e,t){return{kind:n,value:e,error:t}}let pe=null;function W(n){if(ce.useDeprecatedSynchronousErrorHandling){const e=!pe;if(e&&(pe={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=pe;if(pe=null,t)throw r}}else n()}class de extends H{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,N(e)&&e.add(this)):this.destination=Te}static create(e,t,r){return new le(e,t,r)}next(e){this.isStopped?Xe(function Pe(n){return Le("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Xe(function j(n){return Le("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Xe(L,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fe=Function.prototype.bind;function ue(n,e){return Fe.call(n,e)}class it{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){be(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){be(r)}else be(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){be(t)}}}class le extends de{constructor(e,t,r){let o;if(super(),D(e)||!e)o={next:e??void 0,error:t??void 0,complete:r??void 0};else{let i;this&&ce.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&ue(e.next,i),error:e.error&&ue(e.error,i),complete:e.complete&&ue(e.complete,i)}):o=e}this.destination=new it(o)}}function be(n){ce.useDeprecatedSynchronousErrorHandling?function q(n){ce.useDeprecatedSynchronousErrorHandling&&pe&&(pe.errorThrown=!0,pe.error=n)}(n):ie(n)}function Xe(n,e){const{onStoppedNotification:t}=ce;t&&Y.setTimeout(()=>t(n,e))}const Te={closed:!0,next:$,error:function Ee(n){throw n},complete:$},Me="function"==typeof Symbol&&Symbol.observable||"@@observable";function ee(n){return n}function Qe(n){return 0===n.length?ee:1===n.length?n[0]:function(t){return n.reduce((r,o)=>o(r),t)}}let bt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,o){const i=function F(n){return n&&n instanceof de||function We(n){return n&&D(n.next)&&D(n.error)&&D(n.complete)}(n)&&N(n)}(t)?t:new le(t,r,o);return W(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=cn(r))((o,i)=>{const s=new le({next:a=>{try{t(a)}catch(u){i(u),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Me](){return this}pipe(...t){return Qe(t)(this)}toPromise(t){return new(t=cn(t))((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return n.create=e=>new n(e),n})();function cn(n){var e;return null!==(e=n??ce.Promise)&&void 0!==e?e:Promise}const me=l(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let et=(()=>{class n extends bt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new tt(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new me}next(t){W(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){W(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){W(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:o,observers:i}=this;return r||o?X:(this.currentObservers=null,i.push(t),new H(()=>{this.currentObservers=null,J(i,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:o,isStopped:i}=this;r?t.error(o):i&&t.complete()}asObservable(){const t=new bt;return t.source=this,t}}return n.create=(e,t)=>new tt(e,t),n})();class tt extends et{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:X}}function Ve(n){return D(n?.lift)}function Z(n){return e=>{if(Ve(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ge(n,e,t,r,o){return new ft(n,e,t,r,o)}class ft extends de{constructor(e,t,r,o,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=o?function(a){try{o(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ae(n,e){return Z((t,r)=>{let o=0;t.subscribe(ge(r,i=>{r.next(n.call(e,i,o++))}))})}function U(n,e,t,r){var s,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i}function An(n,e,t,r){return new(t||(t=Promise))(function(i,s){function a(g){try{f(r.next(g))}catch(v){s(v)}}function u(g){try{f(r.throw(g))}catch(v){s(v)}}function f(g){g.done?i(g.value):function o(i){return i instanceof t?i:new t(function(s){s(i)})}(g.value).then(a,u)}f((r=r.apply(n,e||[])).next())})}function pn(n){return this instanceof pn?(this.v=n,this):new pn(n)}function uo(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=t.apply(n,e||[]),i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(I){r[I]&&(o[I]=function(k){return new Promise(function(K,ye){i.push([I,k,K,ye])>1||a(I,k)})})}function a(I,k){try{!function u(I){I.value instanceof pn?Promise.resolve(I.value.v).then(f,g):v(i[0][2],I)}(r[I](k))}catch(K){v(i[0][3],K)}}function f(I){a("next",I)}function g(I){a("throw",I)}function v(I,k){I(k),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Jr(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function oo(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(i){t[i]=n[i]&&function(s){return new Promise(function(a,u){!function o(i,s,a,u){Promise.resolve(u).then(function(f){i({value:f,done:a})},s)}(a,u,(s=n[i](s)).done,s.value)})}}}const fo=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Vt(n){return D(n?.then)}function _r(n){return D(n[Me])}function Vn(n){return Symbol.asyncIterator&&D(n?.[Symbol.asyncIterator])}function Do(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ar=function dt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function p(n){return D(n?.[Ar])}function Tn(n){return uo(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:o}=yield pn(t.read());if(o)return yield pn(void 0);yield yield pn(r)}}finally{t.releaseLock()}})}function E(n){return D(n?.getReader)}function Rn(n){if(n instanceof bt)return n;if(null!=n){if(_r(n))return function zi(n){return new bt(e=>{const t=n[Me]();if(D(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(fo(n))return function Io(n){return new bt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Vt(n))return function Po(n){return new bt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ie)})}(n);if(Vn(n))return ei(n);if(p(n))return function Wi(n){return new bt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(E(n))return function Zi(n){return ei(Tn(n))}(n)}throw Do(n)}function ei(n){return new bt(e=>{(function yi(n,e){var t,r,o,i;return An(this,void 0,void 0,function*(){try{for(t=Jr(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=t.return)&&(yield i.call(t))}finally{if(o)throw o.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function yo(n,e,t,r=0,o=!1){const i=e.schedule(function(){t(),o?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(i),!o)return i}function yr(n,e,t=1/0){return D(e)?yr((r,o)=>Ae((i,s)=>e(r,i,o,s))(Rn(n(r,o))),t):("number"==typeof e&&(t=e),Z((r,o)=>function vi(n,e,t,r,o,i,s,a){const u=[];let f=0,g=0,v=!1;const I=()=>{v&&!u.length&&!f&&e.complete()},k=ye=>f<r?K(ye):u.push(ye),K=ye=>{i&&e.next(ye),f++;let Ge=!1;Rn(t(ye,g++)).subscribe(ge(e,Ye=>{o?.(Ye),i?k(Ye):e.next(Ye)},()=>{Ge=!0},void 0,()=>{if(Ge)try{for(f--;u.length&&f<r;){const Ye=u.shift();s?yo(e,s,()=>K(Ye)):K(Ye)}I()}catch(Ye){e.error(Ye)}}))};return n.subscribe(ge(e,k,()=>{v=!0,I()})),()=>{a?.()}}(r,o,n,t)))}function ti(n=1/0){return yr(ee,n)}const po=new bt(n=>n.complete());function Ro(n){return n&&D(n.schedule)}function io(n){return n[n.length-1]}function $s(n){return D(io(n))?n.pop():void 0}function Bo(n){return Ro(io(n))?n.pop():void 0}function zr(n,e=0){return Z((t,r)=>{t.subscribe(ge(r,o=>yo(r,n,()=>r.next(o),e),()=>yo(r,n,()=>r.complete(),e),o=>yo(r,n,()=>r.error(o),e)))})}function cs(n,e=0){return Z((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function us(n,e){if(!n)throw new Error("Iterable cannot be null");return new bt(t=>{yo(t,e,()=>{const r=n[Symbol.asyncIterator]();yo(t,e,()=>{r.next().then(o=>{o.done?t.complete():t.next(o.value)})},0,!0)})})}function vr(n,e){return e?function Us(n,e){if(null!=n){if(_r(n))return function ko(n,e){return Rn(n).pipe(cs(e),zr(e))}(n,e);if(fo(n))return function Bs(n,e){return new bt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(Vt(n))return function Fi(n,e){return Rn(n).pipe(cs(e),zr(e))}(n,e);if(Vn(n))return us(n,e);if(p(n))return function ui(n,e){return new bt(t=>{let r;return yo(t,e,()=>{r=n[Ar](),yo(t,e,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){return void t.error(s)}i?t.complete():t.next(o)},0,!0)}),()=>D(r?.return)&&r.return()})}(n,e);if(E(n))return function Vs(n,e){return us(Tn(n),e)}(n,e)}throw Do(n)}(n,e):Rn(n)}function Ci(...n){const e=Bo(n),t=function Ri(n,e){return"number"==typeof io(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Rn(r[0]):ti(t)(vr(r,e)):po}function ws(n={}){const{connector:e=(()=>new et),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=n;return i=>{let s,a,u,f=0,g=!1,v=!1;const I=()=>{a?.unsubscribe(),a=void 0},k=()=>{I(),s=u=void 0,g=v=!1},K=()=>{const ye=s;k(),ye?.unsubscribe()};return Z((ye,Ge)=>{f++,!v&&!g&&I();const Ye=u=u??e();Ge.add(()=>{f--,0===f&&!v&&!g&&(a=qi(K,o))}),Ye.subscribe(Ge),!s&&f>0&&(s=new le({next:vt=>Ye.next(vt),error:vt=>{v=!0,I(),a=qi(k,t,vt),Ye.error(vt)},complete:()=>{g=!0,I(),a=qi(k,r),Ye.complete()}}),Rn(ye).subscribe(s))})(i)}}function qi(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new le({next:()=>{r.unsubscribe(),n()}});return Rn(e(...t)).subscribe(r)}function nr(n){for(let e in n)if(n[e]===nr)return e;throw Error("Could not find renamed property on target object.")}function M(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function O(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(O).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function he(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Se=nr({__forward_ref__:nr});function Oe(n){return n.__forward_ref__=Oe,n.toString=function(){return O(this())},n}function R(n){return fe(n)?n():n}function fe(n){return"function"==typeof n&&n.hasOwnProperty(Se)&&n.__forward_ref__===Oe}function ke(n){return n&&!!n.\u0275providers}const ot="https://g.co/ng/security#xss";class xe extends Error{constructor(e,t){super(function Bt(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function St(n){return"string"==typeof n?n:null==n?"":String(n)}function wi(n,e){throw new xe(-201,!1)}function Uo(n,e){null==n&&function Zn(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function mt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Er(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ss(n){return ta(n,Es)||ta(n,ra)}function ta(n,e){return n.hasOwnProperty(e)?n[e]:null}function na(n){return n&&(n.hasOwnProperty(js)||n.hasOwnProperty(wa))?n[js]:null}const Es=nr({\u0275prov:nr}),js=nr({\u0275inj:nr}),ra=nr({ngInjectableDef:nr}),wa=nr({ngInjectorDef:nr});var dn=(()=>((dn=dn||{})[dn.Default=0]="Default",dn[dn.Host=1]="Host",dn[dn.Self=2]="Self",dn[dn.SkipSelf=4]="SkipSelf",dn[dn.Optional=8]="Optional",dn))();let Gs;function jo(n){const e=Gs;return Gs=n,e}function il(n,e,t){const r=Ss(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&dn.Optional?null:void 0!==e?e:void wi(O(n))}const rr=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Br={},di="__NG_DI_FLAG__",mo="ngTempTokenPath",cl=/\n/gm,Sa="__source";let Ds;function zn(n){const e=Ds;return Ds=n,e}function Ea(n,e=dn.Default){if(void 0===Ds)throw new xe(-203,!1);return null===Ds?il(n,void 0,e):Ds.get(n,e&dn.Optional?null:void 0,e)}function se(n,e=dn.Default){return(function ol(){return Gs}()||Ea)(R(n),e)}function on(n,e=dn.Default){return se(n,Ir(e))}function Ir(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Dr(n){const e=[];for(let t=0;t<n.length;t++){const r=R(n[t]);if(Array.isArray(r)){if(0===r.length)throw new xe(900,!1);let o,i=dn.Default;for(let s=0;s<r.length;s++){const a=r[s],u=h(a);"number"==typeof u?-1===u?o=a.token:i|=u:o=a}e.push(se(o,i))}else e.push(se(r))}return e}function Kn(n,e){return n[di]=e,n.prototype[di]=e,n}function h(n){return n[di]}function P(n){return{toString:n}.toString()}var V=(()=>((V=V||{})[V.OnPush=0]="OnPush",V[V.Default=1]="Default",V))(),Be=(()=>{return(n=Be||(Be={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Be;var n})();const Ct={},Et=[],kn=nr({\u0275cmp:nr}),Fn=nr({\u0275dir:nr}),Gt=nr({\u0275pipe:nr}),jt=nr({\u0275mod:nr}),Sn=nr({\u0275fac:nr}),kr=nr({__NG_ELEMENT_ID__:nr});let fi=0;function nt(n){return P(()=>{const t=!0===n.standalone,r={},o={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===V.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Et,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Be.Emulated,id:"c"+fi++,styles:n.styles||Et,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},i=n.dependencies,s=n.features;return o.inputs=fr(n.inputs,r),o.outputs=fr(n.outputs),s&&s.forEach(a=>a(o)),o.directiveDefs=i?()=>("function"==typeof i?i():i).map(Jt).filter(Wr):null,o.pipeDefs=i?()=>("function"==typeof i?i():i).map(Go).filter(Wr):null,o})}function Jt(n){return pr(n)||Fo(n)}function Wr(n){return null!==n}function vn(n){return P(()=>({type:n.type,bootstrap:n.bootstrap||Et,declarations:n.declarations||Et,imports:n.imports||Et,exports:n.exports||Et,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function fr(n,e){if(null==n)return Ct;const t={};for(const r in n)if(n.hasOwnProperty(r)){let o=n[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),t[o]=r,e&&(e[o]=i)}return t}const Tt=nt;function vo(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function pr(n){return n[kn]||null}function Fo(n){return n[Fn]||null}function Go(n){return n[Gt]||null}function hn(n,e){const t=n[jt]||null;if(!t&&!0===e)throw new Error(`Type ${O(n)} does not have '\u0275mod' property.`);return t}const C=11;function Vr(n){return Array.isArray(n)&&"object"==typeof n[1]}function Cr(n){return Array.isArray(n)&&!0===n[1]}function su(n){return 0!=(4&n.flags)}function Gl(n){return n.componentOffset>-1}function vc(n){return 1==(1&n.flags)}function fs(n){return null!==n.template}function Tp(n){return 0!=(256&n[2])}function Da(n,e){return n.hasOwnProperty(Sn)?n[Sn]:null}class Rp{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Ho(){return Ad}function Ad(n){return n.type.prototype.ngOnChanges&&(n.setInput=Op),Fp}function Fp(){const n=Rd(this),e=n?.current;if(e){const t=n.previous;if(t===Ct)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Op(n,e,t,r){const o=this.declaredInputs[t],i=Rd(n)||function Np(n,e){return n[Pd]=e}(n,{previous:Ct,current:null}),s=i.current||(i.current={}),a=i.previous,u=a[o];s[o]=new Rp(u&&u.currentValue,e,a===Ct),n[r]=e}Ho.ngInherit=!0;const Pd="__ngSimpleChanges__";function Rd(n){return n[Pd]||null}function zo(n){for(;Array.isArray(n);)n=n[0];return n}function bc(n,e){return zo(e[n])}function Ni(n,e){return zo(e[n.index])}function Nd(n,e){return n.data[e]}function dl(n,e){return n[e]}function Li(n,e){const t=e[n];return Vr(t)?t:t[0]}function Cc(n){return 64==(64&n[2])}function ia(n,e){return null==e?null:n[e]}function jp(n){n[18]=0}function Gp(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const On={lFrame:Un(null),bindingsEnabled:!0};function Hs(){return On.bindingsEnabled}function ht(){return On.lFrame.lView}function ur(){return On.lFrame.tView}function sn(n){return On.lFrame.contextLView=n,n[8]}function an(n){return On.lFrame.contextLView=null,n}function ln(){let n=Oo();for(;null!==n&&64===n.type;)n=n.parent;return n}function Oo(){return On.lFrame.currentTNode}function Ze(n,e){const t=On.lFrame;t.currentTNode=n,t.isParent=e}function to(){return On.lFrame.isParent}function Xn(){On.lFrame.isParent=!1}function jr(){return On.lFrame.bindingIndex}function qr(){return On.lFrame.bindingIndex++}function en(n){const e=On.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function c(n,e){const t=On.lFrame;t.bindingIndex=t.bindingRootIndex=n,b(e)}function b(n){On.lFrame.currentDirectiveIndex=n}function G(){return On.lFrame.currentQueryIndex}function _e(n){On.lFrame.currentQueryIndex=n}function De(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function je(n,e,t){if(t&dn.SkipSelf){let o=e,i=n;for(;!(o=o.parent,null!==o||t&dn.Host||(o=De(i),null===o||(i=i[15],10&o.type))););if(null===o)return!1;e=o,n=i}const r=On.lFrame=mn();return r.currentTNode=e,r.lView=n,!0}function Dt(n){const e=mn(),t=n[1];On.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function mn(){const n=On.lFrame,e=null===n?null:n.child;return null===e?Un(n):e}function Un(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Qn(){const n=On.lFrame;return On.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const fn=Qn;function rn(){const n=Qn();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Gr(){return On.lFrame.selectedIndex}function Co(n){On.lFrame.selectedIndex=n}function lt(){const n=On.lFrame;return Nd(n.tView,n.selectedIndex)}function Wp(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const i=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:f,ngOnDestroy:g}=i;s&&(n.contentHooks||(n.contentHooks=[])).push(-t,s),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-t,u),f&&((n.viewHooks||(n.viewHooks=[])).push(t,f),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,f)),null!=g&&(n.destroyHooks||(n.destroyHooks=[])).push(t,g)}}function Zp(n,e,t){Hb(n,e,3,t)}function qp(n,e,t,r){(3&n[2])===t&&Hb(n,e,t,r)}function Mg(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function Hb(n,e,t,r){const i=r??-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&n[18]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[18]+=65536),(a<i||-1==i)&&(nM(n,t,e,u),n[18]=(4294901760&n[18])+u+2),u++}function nM(n,e,t,r){const o=t[r]<0,i=t[r+1],a=n[o?-t[r]:t[r]];if(o){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{i.call(a)}finally{}}}else try{i.call(a)}finally{}}class Ld{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Ag(n,e,t){let r=0;for(;r<t.length;){const o=t[r];if("number"==typeof o){if(0!==o)break;r++;const i=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,i)}else{const i=o,s=t[++r];Wb(i)?n.setProperty(e,i,s):n.setAttribute(e,i,s),r++}}return r}function zb(n){return 3===n||4===n||6===n}function Wb(n){return 64===n.charCodeAt(0)}function $d(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const o=e[r];"number"==typeof o?t=o:0===t||Zb(n,t,o,null,-1===t||2===t?e[++r]:null)}}return n}function Zb(n,e,t,r,o){let i=0,s=n.length;if(-1===e)s=-1;else for(;i<n.length;){const a=n[i++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=i-1;break}}}for(;i<n.length;){const a=n[i];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==o&&(n[i+1]=o));if(r===n[i+1])return void(n[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==s&&(n.splice(s,0,e),i=s+1),n.splice(i++,0,t),null!==r&&n.splice(i++,0,r),null!==o&&n.splice(i++,0,o)}function qb(n){return-1!==n}function Yp(n){return 32767&n}function Kp(n,e){let t=function sM(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let Pg=!0;function Xp(n){const e=Pg;return Pg=n,e}let aM=0;const Ia={};function Qp(n,e){const t=Xb(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,Rg(r.data,n),Rg(e,null),Rg(r.blueprint,null));const o=Fg(n,e),i=n.injectorIndex;if(qb(o)){const s=Yp(o),a=Kp(o,e),u=a[1].data;for(let f=0;f<8;f++)e[i+f]=a[s+f]|u[s+f]}return e[i+8]=o,i}function Rg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Xb(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Fg(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,o=e;for(;null!==o;){if(r=o0(o),null===r)return-1;if(t++,o=o[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Og(n,e,t){!function lM(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(kr)&&(r=t[kr]),null==r&&(r=t[kr]=aM++);const o=255&r;e.data[n+(o>>5)]|=1<<o}(n,e,t)}function Qb(n,e,t){if(t&dn.Optional||void 0!==n)return n;wi()}function Jb(n,e,t,r){if(t&dn.Optional&&void 0===r&&(r=null),!(t&(dn.Self|dn.Host))){const o=n[9],i=jo(void 0);try{return o?o.get(e,r,t&dn.Optional):il(e,r,t&dn.Optional)}finally{jo(i)}}return Qb(r,0,t)}function e0(n,e,t,r=dn.Default,o){if(null!==n){if(1024&e[2]){const s=function pM(n,e,t,r,o){let i=n,s=e;for(;null!==i&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=t0(i,s,t,r|dn.Self,Ia);if(a!==Ia)return a;let u=i.parent;if(!u){const f=s[21];if(f){const g=f.get(t,Ia,r);if(g!==Ia)return g}u=o0(s),s=s[15]}i=u}return o}(n,e,t,r,Ia);if(s!==Ia)return s}const i=t0(n,e,t,r,Ia);if(i!==Ia)return i}return Jb(e,t,r,o)}function t0(n,e,t,r,o){const i=function dM(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(kr)?n[kr]:void 0;return"number"==typeof e?e>=0?255&e:fM:e}(t);if("function"==typeof i){if(!je(e,n,r))return r&dn.Host?Qb(o,0,r):Jb(e,t,r,o);try{const s=i(r);if(null!=s||r&dn.Optional)return s;wi()}finally{fn()}}else if("number"==typeof i){let s=null,a=Xb(n,e),u=-1,f=r&dn.Host?e[16][6]:null;for((-1===a||r&dn.SkipSelf)&&(u=-1===a?Fg(n,e):e[a+8],-1!==u&&r0(r,!1)?(s=e[1],a=Yp(u),e=Kp(u,e)):a=-1);-1!==a;){const g=e[1];if(n0(i,a,g.data)){const v=uM(a,e,t,s,r,f);if(v!==Ia)return v}u=e[a+8],-1!==u&&r0(r,e[1].data[a+8]===f)&&n0(i,a,e)?(s=g,a=Yp(u),e=Kp(u,e)):a=-1}}return o}function uM(n,e,t,r,o,i){const s=e[1],a=s.data[n+8],g=Jp(a,s,t,null==r?Gl(a)&&Pg:r!=s&&0!=(3&a.type),o&dn.Host&&i===a);return null!==g?Sc(e,s,g,a):Ia}function Jp(n,e,t,r,o){const i=n.providerIndexes,s=e.data,a=1048575&i,u=n.directiveStart,g=i>>20,I=o?a+g:n.directiveEnd;for(let k=r?a:a+g;k<I;k++){const K=s[k];if(k<u&&t===K||k>=u&&K.type===t)return k}if(o){const k=s[u];if(k&&fs(k)&&k.type===t)return u}return null}function Sc(n,e,t,r){let o=n[t];const i=e.data;if(function rM(n){return n instanceof Ld}(o)){const s=o;s.resolving&&function ni(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new xe(-200,`Circular dependency in DI detected for ${n}${t}`)}(function un(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():St(n)}(i[t]));const a=Xp(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?jo(s.injectImpl):null;je(n,r,dn.Default);try{o=n[t]=s.factory(void 0,i,n,r),e.firstCreatePass&&t>=r.directiveStart&&function tM(n,e,t){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=e.type.prototype;if(r){const s=Ad(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s)}o&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,o),i&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,i),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,i))}(t,i[t],e)}finally{null!==u&&jo(u),Xp(a),s.resolving=!1,fn()}}return o}function n0(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function r0(n,e){return!(n&dn.Self||n&dn.Host&&e)}class cu{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return e0(this._tNode,this._lView,e,Ir(r),t)}}function fM(){return new cu(ln(),ht())}function hi(n){return P(()=>{const e=n.prototype.constructor,t=e[Sn]||Ng(e),r=Object.prototype;let o=Object.getPrototypeOf(n.prototype).constructor;for(;o&&o!==r;){const i=o[Sn]||Ng(o);if(i&&i!==t)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Ng(n){return fe(n)?()=>{const e=Ng(R(n));return e&&e()}:Da(n)}function o0(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}function uu(n){return function cM(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let o=0;for(;o<r;){const i=t[o];if(zb(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<r&&"string"==typeof t[o];)o++;else{if(i===e)return t[o+1];o+=2}}}return null}(ln(),n)}const fu="__parameters__";function hu(n,e,t){return P(()=>{const r=function Lg(n){return function(...t){if(n){const r=n(...t);for(const o in r)this[o]=r[o]}}}(e);function o(...i){if(this instanceof o)return r.apply(this,i),this;const s=new o(...i);return a.annotation=s,a;function a(u,f,g){const v=u.hasOwnProperty(fu)?u[fu]:Object.defineProperty(u,fu,{value:[]})[fu];for(;v.length<=g;)v.push(null);return(v[g]=v[g]||[]).push(s),u}}return t&&(o.prototype=Object.create(t.prototype)),o.prototype.ngMetadataName=n,o.annotationCls=o,o})}class Qt{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=mt({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ec(n,e){n.forEach(t=>Array.isArray(t)?Ec(t,e):e(t))}function a0(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function eh(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Ud(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function ks(n,e,t){let r=mu(n,e);return r>=0?n[1|r]=t:(r=~r,function _M(n,e,t,r){let o=n.length;if(o==e)n.push(t,r);else if(1===o)n.push(r,n[0]),n[0]=t;else{for(o--,n.push(n[o-1],n[o]);o>e;)n[o]=n[o-2],o--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Bg(n,e){const t=mu(n,e);if(t>=0)return n[1|t]}function mu(n,e){return function l0(n,e,t){let r=0,o=n.length>>t;for(;o!==r;){const i=r+(o-r>>1),s=n[i<<t];if(e===s)return i<<t;s>e?o=i:r=i+1}return~(o<<t)}(n,e,1)}const jd=Kn(hu("Optional"),8),Gd=Kn(hu("SkipSelf"),4);var ps=(()=>((ps=ps||{})[ps.Important=1]="Important",ps[ps.DashCase=2]="DashCase",ps))();const zg=new Map;let BM=0;const Zg="__ngContext__";function Bi(n,e){Vr(e)?(n[Zg]=e[20],function UM(n){zg.set(n[20],n)}(e)):n[Zg]=e}function Yg(n,e){return undefined(n,e)}function Zd(n){const e=n[3];return Cr(e)?e[3]:e}function Kg(n){return x0(n[13])}function Xg(n){return x0(n[4])}function x0(n){for(;null!==n&&!Cr(n);)n=n[4];return n}function _u(n,e,t,r,o){if(null!=r){let i,s=!1;Cr(r)?i=r:Vr(r)&&(s=!0,r=r[0]);const a=zo(r);0===n&&null!==t?null==o?F0(e,t,a):Dc(e,t,a,o||null,!0):1===n&&null!==t?Dc(e,t,a,o||null,!0):2===n?function o_(n,e,t){const r=oh(n,e);r&&function aT(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=i&&function uT(n,e,t,r,o){const i=t[7];i!==zo(t)&&_u(e,n,r,i,o);for(let a=10;a<t.length;a++){const u=t[a];qd(u[1],u,n,e,r,i)}}(e,n,i,t,o)}}function Jg(n,e,t){return n.createElement(e,t)}function T0(n,e){const t=n[9],r=t.indexOf(e),o=e[3];512&e[2]&&(e[2]&=-513,Gp(o,-1)),t.splice(r,1)}function e_(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const o=r[17];null!==o&&o!==n&&T0(o,r),e>0&&(n[t-1][4]=r[4]);const i=eh(n,10+e);!function JM(n,e){qd(n,e,e[C],2,null,null),e[0]=null,e[6]=null}(r[1],r);const s=i[19];null!==s&&s.detachView(i[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function A0(n,e){if(!(128&e[2])){const t=e[C];t.destroyNode&&qd(n,e,t,3,null,null),function nT(n){let e=n[13];if(!e)return t_(n[1],n);for(;e;){let t=null;if(Vr(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Vr(e)&&t_(e[1],e),e=e[3];null===e&&(e=n),Vr(e)&&t_(e[1],e),t=e&&e[4]}e=t}}(e)}}function t_(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function sT(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const o=e[t[r]];if(!(o instanceof Ld)){const i=t[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],u=i[s+1];try{u.call(a)}finally{}}else try{i.call(o)}finally{}}}}(n,e),function iT(n,e){const t=n.cleanup,r=e[7];let o=-1;if(null!==t)for(let i=0;i<t.length-1;i+=2)if("string"==typeof t[i]){const s=t[i+3];s>=0?r[o=s]():r[o=-s].unsubscribe(),i+=2}else{const s=r[o=t[i+1]];t[i].call(s)}if(null!==r){for(let i=o+1;i<r.length;i++)(0,r[i])();e[7]=null}}(n,e),1===e[1].type&&e[C].destroy();const t=e[17];if(null!==t&&Cr(e[3])){t!==e[3]&&T0(t,e);const r=e[19];null!==r&&r.detachView(n)}!function jM(n){zg.delete(n[20])}(e)}}function P0(n,e,t){return function R0(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:i}=n.data[r.directiveStart+o];if(i===Be.None||i===Be.Emulated)return null}return Ni(r,t)}}(n,e.parent,t)}function Dc(n,e,t,r,o){n.insertBefore(e,t,r,o)}function F0(n,e,t){n.appendChild(e,t)}function O0(n,e,t,r,o){null!==r?Dc(n,e,t,r,o):F0(n,e,t)}function oh(n,e){return n.parentNode(e)}function N0(n,e,t){return $0(n,e,t)}let ah,a_,$0=function L0(n,e,t){return 40&n.type?Ni(n,t):null};function ih(n,e,t,r){const o=P0(n,r,e),i=e[C],a=N0(r.parent||e[6],r,e);if(null!=o)if(Array.isArray(t))for(let u=0;u<t.length;u++)O0(i,o,t[u],a,!1);else O0(i,o,t,a,!1)}function sh(n,e){if(null!==e){const t=e.type;if(3&t)return Ni(e,n);if(4&t)return r_(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return sh(n,r);{const o=n[e.index];return Cr(o)?r_(-1,o):zo(o)}}if(32&t)return Yg(e,n)()||zo(n[e.index]);{const r=V0(n,e);return null!==r?Array.isArray(r)?r[0]:sh(Zd(n[16]),r):sh(n,e.next)}}return null}function V0(n,e){return null!==e?n[16][6].projection[e.projection]:null}function r_(n,e){const t=10+n+1;if(t<e.length){const r=e[t],o=r[1].firstChild;if(null!==o)return sh(r,o)}return e[7]}function i_(n,e,t,r,o,i,s){for(;null!=t;){const a=r[t.index],u=t.type;if(s&&0===e&&(a&&Bi(zo(a),r),t.flags|=2),32!=(32&t.flags))if(8&u)i_(n,e,t.child,r,o,i,!1),_u(e,n,o,a,i);else if(32&u){const f=Yg(t,r);let g;for(;g=f();)_u(e,n,o,g,i);_u(e,n,o,a,i)}else 16&u?U0(n,e,r,t,o,i):_u(e,n,o,a,i);t=s?t.projectionNext:t.next}}function qd(n,e,t,r,o,i){i_(t,r,n.firstChild,e,o,i,!1)}function U0(n,e,t,r,o,i){const s=t[16],u=s[6].projection[r.projection];if(Array.isArray(u))for(let f=0;f<u.length;f++)_u(e,n,o,u[f],i);else i_(n,e,u,s[3],o,i,!0)}function j0(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function G0(n,e,t){const{mergedAttrs:r,classes:o,styles:i}=t;null!==r&&Ag(n,e,r),null!==o&&j0(n,e,o),null!==i&&function fT(n,e,t){n.setAttribute(e,"style",t)}(n,e,i)}function Ic(n){return function s_(){if(void 0===ah&&(ah=null,rr.trustedTypes))try{ah=rr.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ah}()?.createHTML(n)||n}class kc{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ot})`}}class _T extends kc{getTypeName(){return"HTML"}}class yT extends kc{getTypeName(){return"Style"}}class vT extends kc{getTypeName(){return"Script"}}class bT extends kc{getTypeName(){return"URL"}}class CT extends kc{getTypeName(){return"ResourceURL"}}function xs(n){return n instanceof kc?n.changingThisBreaksApplicationSecurity:n}function ka(n,e){const t=function wT(n){return n instanceof kc&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${ot})`)}return t===e}class xT{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Ic(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class MT{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Ic(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=Ic(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let o=t.length-1;0<o;o--){const s=t.item(o).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&e.removeAttribute(s)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const AT=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function ch(n){return(n=String(n)).match(AT)?n:"unsafe:"+n}function fl(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Yd(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const Y0=fl("area,br,col,hr,img,wbr"),K0=fl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),X0=fl("rp,rt"),c_=Yd(Y0,Yd(K0,fl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Yd(X0,fl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Yd(X0,K0)),u_=fl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Q0=Yd(u_,fl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),fl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),PT=fl("script,style,template");class RT{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=this.checkClobberedElement(t,t.nextSibling);if(o){t=o;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!c_.hasOwnProperty(t))return this.sanitizedSomething=!0,!PT.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let o=0;o<r.length;o++){const i=r.item(o),s=i.name,a=s.toLowerCase();if(!Q0.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=i.value;u_[a]&&(u=ch(u)),this.buf.push(" ",s,'="',J0(u),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();c_.hasOwnProperty(t)&&!Y0.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(J0(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const FT=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,OT=/([^\#-~ |!])/g;function J0(n){return n.replace(/&/g,"&amp;").replace(FT,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(OT,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let uh;function eC(n,e){let t=null;try{uh=uh||function q0(n){const e=new MT(n);return function TT(){try{return!!(new window.DOMParser).parseFromString(Ic(""),"text/html")}catch{return!1}}()?new xT(e):e}(n);let r=e?String(e):"";t=uh.getInertBodyElement(r);let o=5,i=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=t.innerHTML,t=uh.getInertBodyElement(r)}while(r!==i);return Ic((new RT).sanitizeChildren(d_(t)||t))}finally{if(t){const r=d_(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function d_(n){return"content"in n&&function NT(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Kr=(()=>((Kr=Kr||{})[Kr.NONE=0]="NONE",Kr[Kr.HTML=1]="HTML",Kr[Kr.STYLE=2]="STYLE",Kr[Kr.SCRIPT=3]="SCRIPT",Kr[Kr.URL=4]="URL",Kr[Kr.RESOURCE_URL=5]="RESOURCE_URL",Kr))();const dh=new Qt("ENVIRONMENT_INITIALIZER"),oC=new Qt("INJECTOR",-1),iC=new Qt("INJECTOR_DEF_TYPES");class sC{get(e,t=Br){if(t===Br){const r=new Error(`NullInjectorError: No provider for ${O(e)}!`);throw r.name="NullInjectorError",r}return t}}function HT(...n){return{\u0275providers:aC(0,n),\u0275fromNgModule:!0}}function aC(n,...e){const t=[],r=new Set;let o;return Ec(e,i=>{const s=i;f_(s,t,[],r)&&(o||(o=[]),o.push(s))}),void 0!==o&&lC(o,t),t}function lC(n,e){for(let t=0;t<n.length;t++){const{providers:o}=n[t];p_(o,i=>{e.push(i)})}}function f_(n,e,t,r){if(!(n=R(n)))return!1;let o=null,i=na(n);const s=!i&&pr(n);if(i||s){if(s&&!s.standalone)return!1;o=n}else{const u=n.ngModule;if(i=na(u),!i)return!1;o=u}const a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const f of u)f_(f,e,t,r)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let f;r.add(o);try{Ec(i.imports,g=>{f_(g,e,t,r)&&(f||(f=[]),f.push(g))})}finally{}void 0!==f&&lC(f,e)}if(!a){const f=Da(o)||(()=>new o);e.push({provide:o,useFactory:f,deps:Et},{provide:iC,useValue:o,multi:!0},{provide:dh,useValue:()=>se(o),multi:!0})}const u=i.providers;null==u||a||p_(u,g=>{e.push(g)})}}return o!==n&&void 0!==n.providers}function p_(n,e){for(let t of n)ke(t)&&(t=t.\u0275providers),Array.isArray(t)?p_(t,e):e(t)}const zT=nr({provide:String,useValue:nr});function h_(n){return null!==n&&"object"==typeof n&&zT in n}function xc(n){return"function"==typeof n}const m_=new Qt("Set Injector scope."),fh={},ZT={};let g_;function ph(){return void 0===g_&&(g_=new sC),g_}class xa{}class dC extends xa{get destroyed(){return this._destroyed}constructor(e,t,r,o){super(),this.parent=t,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,y_(e,s=>this.processProvider(s)),this.records.set(oC,yu(void 0,this)),o.has("environment")&&this.records.set(xa,yu(void 0,this));const i=this.records.get(m_);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(iC.multi,Et,dn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=zn(this),r=jo(void 0);try{return e()}finally{zn(t),jo(r)}}get(e,t=Br,r=dn.Default){this.assertNotDestroyed(),r=Ir(r);const o=zn(this),i=jo(void 0);try{if(!(r&dn.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function QT(n){return"function"==typeof n||"object"==typeof n&&n instanceof Qt}(e)&&Ss(e);a=u&&this.injectableDefInScope(u)?yu(__(e),fh):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&dn.Self?ph():this.parent).get(e,t=r&dn.Optional&&t===Br?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[mo]=s[mo]||[]).unshift(O(e)),o)throw s;return function y(n,e,t,r){const o=n[mo];throw e[Sa]&&o.unshift(e[Sa]),n.message=function w(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let o=O(e);if(Array.isArray(e))o=e.map(O).join(" -> ");else if("object"==typeof e){let i=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):O(a)))}o=`{${i.join(", ")}}`}return`${t}${r?"("+r+")":""}[${o}]: ${n.replace(cl,"\n  ")}`}("\n"+n.message,o,t,r),n.ngTokenPath=o,n[mo]=null,n}(s,e,"R3InjectorError",this.source)}throw s}finally{jo(i),zn(o)}}resolveInjectorInitializers(){const e=zn(this),t=jo(void 0);try{const r=this.get(dh.multi,Et,dn.Self);for(const o of r)o()}finally{zn(e),jo(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(O(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processProvider(e){let t=xc(e=R(e))?e:R(e&&e.provide);const r=function YT(n){return h_(n)?yu(void 0,n.useValue):yu(fC(n),fh)}(e);if(xc(e)||!0!==e.multi)this.records.get(t);else{let o=this.records.get(t);o||(o=yu(void 0,fh,!0),o.factory=()=>Dr(o.multi),this.records.set(t,o)),t=e,o.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===fh&&(t.value=ZT,t.value=t.factory()),"object"==typeof t.value&&t.value&&function XT(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=R(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function __(n){const e=Ss(n),t=null!==e?e.factory:Da(n);if(null!==t)return t;if(n instanceof Qt)throw new xe(204,!1);if(n instanceof Function)return function qT(n){const e=n.length;if(e>0)throw Ud(e,"?"),new xe(204,!1);const t=function ba(n){const e=n&&(n[Es]||n[ra]);if(e){const t=function Ca(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new xe(204,!1)}function fC(n,e,t){let r;if(xc(n)){const o=R(n);return Da(o)||__(o)}if(h_(n))r=()=>R(n.useValue);else if(function uC(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Dr(n.deps||[]));else if(function cC(n){return!(!n||!n.useExisting)}(n))r=()=>se(R(n.useExisting));else{const o=R(n&&(n.useClass||n.provide));if(!function KT(n){return!!n.deps}(n))return Da(o)||__(o);r=()=>new o(...Dr(n.deps))}return r}function yu(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function y_(n,e){for(const t of n)Array.isArray(t)?y_(t,e):t&&ke(t)?y_(t.\u0275providers,e):e(t)}class JT{}class pC{}class tA{resolveComponentFactory(e){throw function eA(n){const e=Error(`No component factory found for ${O(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let pl=(()=>{class n{}return n.NULL=new tA,n})();function nA(){return vu(ln(),ht())}function vu(n,e){return new yt(Ni(n,e))}let yt=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=nA,n})();function rA(n){return n instanceof yt?n.nativeElement:n}class mC{}let hl=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function oA(){const n=ht(),t=Li(ln().index,n);return(Vr(t)?t:n)[C]}(),n})(),iA=(()=>{class n{}return n.\u0275prov=mt({token:n,providedIn:"root",factory:()=>null}),n})();class Xd{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const sA=new Xd("15.1.3"),v_={};function C_(n){return n.ngOriginalError}class bu{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&C_(e);for(;t&&C_(t);)t=C_(t);return t||null}}function ml(n){return n instanceof Function?n():n}function _C(n,e,t){let r=n.length;for(;;){const o=n.indexOf(e,t);if(-1===o)return o;if(0===o||n.charCodeAt(o-1)<=32){const i=e.length;if(o+i===r||n.charCodeAt(o+i)<=32)return o}t=o+1}}const yC="ng-template";function _A(n,e,t){let r=0;for(;r<n.length;){let o=n[r++];if(t&&"class"===o){if(o=n[r],-1!==_C(o.toLowerCase(),e,0))return!0}else if(1===o){for(;r<n.length&&"string"==typeof(o=n[r++]);)if(o.toLowerCase()===e)return!0;return!1}}return!1}function vC(n){return 4===n.type&&n.value!==yC}function yA(n,e,t){return e===(4!==n.type||t?n.value:yC)}function vA(n,e,t){let r=4;const o=n.attrs||[],i=function wA(n){for(let e=0;e<n.length;e++)if(zb(n[e]))return e;return n.length}(o);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!yA(n,u,t)||""===u&&1===e.length){if(sa(r))return!1;s=!0}}else{const f=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!_A(n.attrs,f,t)){if(sa(r))return!1;s=!0}continue}const v=bA(8&r?"class":u,o,vC(n),t);if(-1===v){if(sa(r))return!1;s=!0;continue}if(""!==f){let I;I=v>i?"":o[v+1].toLowerCase();const k=8&r?I:null;if(k&&-1!==_C(k,f,0)||2&r&&f!==I){if(sa(r))return!1;s=!0}}}}else{if(!s&&!sa(r)&&!sa(u))return!1;if(s&&sa(u))continue;s=!1,r=u|1&r}}return sa(r)||s}function sa(n){return 0==(1&n)}function bA(n,e,t,r){if(null===e)return-1;let o=0;if(r||!t){let i=!1;for(;o<e.length;){const s=e[o];if(s===n)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=e[++o];for(;"string"==typeof a;)a=e[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function SA(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function bC(n,e,t=!1){for(let r=0;r<e.length;r++)if(vA(n,e[r],t))return!0;return!1}function EA(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let o=0;o<n.length;o++)if(n[o]!==r[o])continue e;return!0}}return!1}function CC(n,e){return n?":not("+e.trim()+")":e}function DA(n){let e=n[0],t=1,r=2,o="",i=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""!==o&&!sa(s)&&(e+=CC(i,o),o=""),r=s,i=i||!sa(r);t++}return""!==o&&(e+=CC(i,o)),e}const Ln={};function Ke(n){wC(ur(),ht(),Gr()+n,!1)}function wC(n,e,t,r){if(!r)if(3==(3&e[2])){const i=n.preOrderCheckHooks;null!==i&&Zp(e,i,t)}else{const i=n.preOrderHooks;null!==i&&qp(e,i,0,t)}Co(t)}function IC(n,e=null,t=null,r){const o=kC(n,e,t,r);return o.resolveInjectorInitializers(),o}function kC(n,e=null,t=null,r,o=new Set){const i=[t||Et,HT(n)];return r=r||("object"==typeof n?void 0:O(n)),new dC(i,e||ph(),r||null,o)}let wo=(()=>{class n{static create(t,r){if(Array.isArray(t))return IC({name:""},r,t,"");{const o=t.name??"";return IC({name:o},t.parent,t.providers,o)}}}return n.THROW_IF_NOT_FOUND=Br,n.NULL=new sC,n.\u0275prov=mt({token:n,providedIn:"any",factory:()=>se(oC)}),n.__NG_ELEMENT_ID__=-1,n})();function S(n,e=dn.Default){const t=ht();return null===t?se(n,e):e0(ln(),t,R(n),e)}function OC(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r+1];if(-1!==i){const s=n.data[i];_e(t[r]),s.contentQueries(2,e[i],i)}}}function mh(n,e,t,r,o,i,s,a,u,f,g){const v=e.blueprint.slice();return v[0]=o,v[2]=76|r,(null!==g||n&&1024&n[2])&&(v[2]|=1024),jp(v),v[3]=v[15]=n,v[8]=t,v[10]=s||n&&n[10],v[C]=a||n&&n[C],v[12]=u||n&&n[12]||null,v[9]=f||n&&n[9]||null,v[6]=i,v[20]=function VM(){return BM++}(),v[21]=g,v[16]=2==e.type?n[16]:v,v}function Su(n,e,t,r,o){let i=n.data[e];if(null===i)i=function I_(n,e,t,r,o){const i=Oo(),s=to(),u=n.data[e]=function XA(n,e,t,r,o,i){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,t,e,r,o);return null===n.firstChild&&(n.firstChild=u),null!==i&&(s?null==i.child&&null!==u.parent&&(i.child=u):null===i.next&&(i.next=u)),u}(n,e,t,r,o),function $i(){return On.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=t,i.value=r,i.attrs=o;const s=function mr(){const n=On.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return Ze(i,!0),i}function Qd(n,e,t,r){if(0===t)return-1;const o=e.length;for(let i=0;i<t;i++)e.push(r),n.blueprint.push(r),n.data.push(null);return o}function k_(n,e,t){Dt(e);try{const r=n.viewQuery;null!==r&&L_(1,r,t);const o=n.template;null!==o&&NC(n,e,o,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&OC(n,e),n.staticViewQueries&&L_(2,n.viewQuery,t);const i=n.components;null!==i&&function qA(n,e){for(let t=0;t<e.length;t++)gP(n,e[t])}(e,i)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,rn()}}function gh(n,e,t,r){const o=e[2];if(128!=(128&o)){Dt(e);try{jp(e),function ao(n){return On.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&NC(n,e,t,2,r);const s=3==(3&o);if(s){const f=n.preOrderCheckHooks;null!==f&&Zp(e,f,null)}else{const f=n.preOrderHooks;null!==f&&qp(e,f,0,null),Mg(e,0)}if(function hP(n){for(let e=Kg(n);null!==e;e=Xg(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const o=t[r];512&o[2]||Gp(o[3],1),o[2]|=512}}}(e),function pP(n){for(let e=Kg(n);null!==e;e=Xg(e))for(let t=10;t<e.length;t++){const r=e[t],o=r[1];Cc(r)&&gh(o,r,o.template,r[8])}}(e),null!==n.contentQueries&&OC(n,e),s){const f=n.contentCheckHooks;null!==f&&Zp(e,f)}else{const f=n.contentHooks;null!==f&&qp(e,f,1),Mg(e,1)}!function WA(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const o=t[r];if(o<0)Co(~o);else{const i=o,s=t[++r],a=t[++r];c(s,i),a(2,e[i])}}}finally{Co(-1)}}(n,e);const a=n.components;null!==a&&function ZA(n,e){for(let t=0;t<e.length;t++)mP(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&L_(2,u,r),s){const f=n.viewCheckHooks;null!==f&&Zp(e,f)}else{const f=n.viewHooks;null!==f&&qp(e,f,2),Mg(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Gp(e[3],-1))}finally{rn()}}}function NC(n,e,t,r,o){const i=Gr(),s=2&r;try{Co(-1),s&&e.length>22&&wC(n,e,22,!1),t(r,o)}finally{Co(i)}}function x_(n,e,t){if(su(e)){const o=e.directiveEnd;for(let i=e.directiveStart;i<o;i++){const s=n.data[i];s.contentQueries&&s.contentQueries(1,t[i],i)}}}function M_(n,e,t){Hs()&&(function rP(n,e,t,r){const o=t.directiveStart,i=t.directiveEnd;Gl(t)&&function uP(n,e,t){const r=Ni(e,n),o=LC(t),i=n[10],s=_h(n,mh(n,o,null,t.onPush?32:16,r,e,i,i.createRenderer(r,t),null,null,null));n[e.index]=s}(e,t,n.data[o+t.componentOffset]),n.firstCreatePass||Qp(t,e),Bi(r,e);const s=t.initialInputs;for(let a=o;a<i;a++){const u=n.data[a],f=Sc(e,n,a,t);Bi(f,e),null!==s&&dP(0,a-o,f,u,0,s),fs(u)&&(Li(t.index,e)[8]=Sc(e,n,a,t))}}(n,e,t,Ni(t,e)),64==(64&t.flags)&&GC(n,e,t))}function T_(n,e,t=Ni){const r=e.localNames;if(null!==r){let o=e.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],a=-1===s?t(e,n):n[s];n[o++]=a}}}function LC(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=A_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function A_(n,e,t,r,o,i,s,a,u,f){const g=22+r,v=g+o,I=function YA(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Ln);return t}(g,v),k="function"==typeof f?f():f;return I[1]={type:n,blueprint:I,template:t,queries:null,viewQuery:a,declTNode:e,data:I.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:k,incompleteFirstPass:!1}}function $C(n,e,t,r){const o=zC(e);null===t?o.push(r):(o.push(t),n.firstCreatePass&&WC(n).push(r,o.length-1))}function BC(n,e,t,r){for(let o in n)if(n.hasOwnProperty(o)){t=null===t?{}:t;const i=n[o];null===r?VC(t,e,o,i):r.hasOwnProperty(o)&&VC(t,e,r[o],i)}return t}function VC(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function Ms(n,e,t,r,o,i,s,a){const u=Ni(e,t);let g,f=e.inputs;!a&&null!=f&&(g=f[r])?($_(n,t,g,r,o),Gl(e)&&UC(t,e.index)):3&e.type&&(r=function JA(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),o=null!=s?s(o,e.value||"",r):o,i.setProperty(u,r,o))}function UC(n,e){const t=Li(e,n);16&t[2]||(t[2]|=32)}function P_(n,e,t,r){let o=!1;if(Hs()){const i=null===r?null:{"":-1},s=function iP(n,e){const t=n.directiveRegistry;let r=null,o=null;if(t)for(let i=0;i<t.length;i++){const s=t[i];if(bC(e,s.selectors,!1))if(r||(r=[]),fs(s))if(null!==s.findHostDirectiveDefs){const a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),r.unshift(...a,s),R_(n,e,a.length)}else r.unshift(s),R_(n,e,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,r,o),r.push(s)}return null===r?null:[r,o]}(n,t);let a,u;null===s?a=u=null:[a,u]=s,null!==a&&(o=!0,jC(n,e,t,a,i,u)),i&&function sP(n,e,t){if(e){const r=n.localNames=[];for(let o=0;o<e.length;o+=2){const i=t[e[o+1]];if(null==i)throw new xe(-301,!1);r.push(e[o],i)}}}(t,r,i)}return t.mergedAttrs=$d(t.mergedAttrs,t.attrs),o}function jC(n,e,t,r,o,i){for(let f=0;f<r.length;f++)Og(Qp(t,e),n,r[f].type);!function lP(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let f=0;f<r.length;f++){const g=r[f];g.providersResolver&&g.providersResolver(g)}let s=!1,a=!1,u=Qd(n,e,r.length,null);for(let f=0;f<r.length;f++){const g=r[f];t.mergedAttrs=$d(t.mergedAttrs,g.hostAttrs),cP(n,t,e,u,g),aP(u,g,o),null!==g.contentQueries&&(t.flags|=4),(null!==g.hostBindings||null!==g.hostAttrs||0!==g.hostVars)&&(t.flags|=64);const v=g.type.prototype;!s&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),s=!0),!a&&(v.ngOnChanges||v.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),a=!0),u++}!function QA(n,e,t){const o=e.directiveEnd,i=n.data,s=e.attrs,a=[];let u=null,f=null;for(let g=e.directiveStart;g<o;g++){const v=i[g],I=t?t.get(v):null,K=I?I.outputs:null;u=BC(v.inputs,g,u,I?I.inputs:null),f=BC(v.outputs,g,f,K);const ye=null===u||null===s||vC(e)?null:fP(u,g,s);a.push(ye)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=f}(n,t,i)}function GC(n,e,t){const r=t.directiveStart,o=t.directiveEnd,i=t.index,s=function m(){return On.lFrame.currentDirectiveIndex}();try{Co(i);for(let a=r;a<o;a++){const u=n.data[a],f=e[a];b(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&oP(u,f)}}finally{Co(-1),b(s)}}function oP(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function R_(n,e,t){e.componentOffset=t,(n.components||(n.components=[])).push(e.index)}function aP(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;fs(e)&&(t[""]=n)}}function cP(n,e,t,r,o){n.data[r]=o;const i=o.factory||(o.factory=Da(o.type)),s=new Ld(i,fs(o),S);n.blueprint[r]=s,t[r]=s,function tP(n,e,t,r,o){const i=o.hostBindings;if(i){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function nP(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,i)}}(n,e,r,Qd(n,t,o.hostVars,Ln),o)}function Ma(n,e,t,r,o,i){const s=Ni(n,e);!function F_(n,e,t,r,o,i,s){if(null==i)n.removeAttribute(e,o,t);else{const a=null==s?St(i):s(i,r||"",o);n.setAttribute(e,o,a,t)}}(e[C],s,i,n.value,t,r,o)}function dP(n,e,t,r,o,i){const s=i[e];if(null!==s){const a=r.setInput;for(let u=0;u<s.length;){const f=s[u++],g=s[u++],v=s[u++];null!==a?r.setInput(t,v,f,g):t[g]=v}}}function fP(n,e,t){let r=null,o=0;for(;o<t.length;){const i=t[o];if(0!==i)if(5!==i){if("number"==typeof i)break;if(n.hasOwnProperty(i)){null===r&&(r=[]);const s=n[i];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(i,s[a+1],t[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function HC(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function mP(n,e){const t=Li(e,n);if(Cc(t)){const r=t[1];48&t[2]?gh(r,t,r.template,t[8]):t[5]>0&&O_(t)}}function O_(n){for(let r=Kg(n);null!==r;r=Xg(r))for(let o=10;o<r.length;o++){const i=r[o];if(Cc(i))if(512&i[2]){const s=i[1];gh(s,i,s.template,i[8])}else i[5]>0&&O_(i)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const o=Li(t[r],n);Cc(o)&&o[5]>0&&O_(o)}}function gP(n,e){const t=Li(e,n),r=t[1];(function _P(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),k_(r,t,t[8])}function _h(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function N_(n){for(;n;){n[2]|=32;const e=Zd(n);if(Tp(n)&&!e)return n;n=e}return null}function yh(n,e,t,r=!0){const o=e[10];o.begin&&o.begin();try{gh(n,e,n.template,t)}catch(s){throw r&&qC(e,s),s}finally{o.end&&o.end()}}function L_(n,e,t){_e(0),e(n,t)}function zC(n){return n[7]||(n[7]=[])}function WC(n){return n.cleanup||(n.cleanup=[])}function qC(n,e){const t=n[9],r=t?t.get(bu,null):null;r&&r.handleError(e)}function $_(n,e,t,r,o){for(let i=0;i<t.length;){const s=t[i++],a=t[i++],u=e[s],f=n.data[s];null!==f.setInput?f.setInput(u,o,r,a):u[a]=o}}function gl(n,e,t){const r=bc(e,n);!function M0(n,e,t){n.setValue(e,t)}(n[C],r,t)}function vh(n,e,t){let r=t?n.styles:null,o=t?n.classes:null,i=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?i=a:1==i?o=he(o,a):2==i&&(r=he(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=o:n.classesWithoutHost=o}function bh(n,e,t,r,o=!1){for(;null!==t;){const i=e[t.index];if(null!==i&&r.push(zo(i)),Cr(i))for(let a=10;a<i.length;a++){const u=i[a],f=u[1].firstChild;null!==f&&bh(u[1],u,f,r)}const s=t.type;if(8&s)bh(n,e,t.child,r);else if(32&s){const a=Yg(t,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=V0(e,t);if(Array.isArray(a))r.push(...a);else{const u=Zd(e[16]);bh(u[1],u,a,r,!0)}}t=o?t.projectionNext:t.next}return r}class Jd{get rootNodes(){const e=this._lView,t=e[1];return bh(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Cr(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(e_(e,r),eh(t,r))}this._attachedToViewContainer=!1}A0(this._lView[1],this._lView)}onDestroy(e){$C(this._lView[1],this._lView,null,e)}markForCheck(){N_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){yh(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function tT(n,e){qd(n,e,e[C],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new xe(902,!1);this._appRef=e}}class yP extends Jd{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;yh(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class YC extends pl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=pr(e);return new ef(t,this.ngModule)}}function KC(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class bP{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Ir(r);const o=this.injector.get(e,v_,r);return o!==v_||t===v_?o:this.parentInjector.get(e,t,r)}}class ef extends pC{get inputs(){return KC(this.componentDef.inputs)}get outputs(){return KC(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function IA(n){return n.map(DA).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,o){let i=(o=o||this.ngModule)instanceof xa?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const s=i?new bP(e,i):e,a=s.get(mC,null);if(null===a)throw new xe(407,!1);const u=s.get(iA,null),f=a.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",v=r?function KA(n,e,t){return n.selectRootElement(e,t===Be.ShadowDom)}(f,r,this.componentDef.encapsulation):Jg(f,g,function vP(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(g)),I=this.componentDef.onPush?288:272,k=A_(0,null,null,1,0,null,null,null,null,null),K=mh(null,k,null,I,null,null,a,f,u,s,null);let ye,Ge;Dt(K);try{const Ye=this.componentDef;let vt,Ne=null;Ye.findHostDirectiveDefs?(vt=[],Ne=new Map,Ye.findHostDirectiveDefs(Ye,vt,Ne),vt.push(Ye)):vt=[Ye];const Ot=function wP(n,e){const t=n[1];return n[22]=e,Su(t,22,2,"#host",null)}(K,v),Cn=function SP(n,e,t,r,o,i,s,a){const u=o[1];!function EP(n,e,t,r){for(const o of n)e.mergedAttrs=$d(e.mergedAttrs,o.hostAttrs);null!==e.mergedAttrs&&(vh(e,e.mergedAttrs,!0),null!==t&&G0(r,t,e))}(r,n,e,s);const f=i.createRenderer(e,t),g=mh(o,LC(t),null,t.onPush?32:16,o[n.index],n,i,f,a||null,null,null);return u.firstCreatePass&&R_(u,n,r.length-1),_h(o,g),o[n.index]=g}(Ot,v,Ye,vt,K,a,f);Ge=Nd(k,22),v&&function IP(n,e,t,r){if(r)Ag(n,t,["ng-version",sA.full]);else{const{attrs:o,classes:i}=function kA(n){const e=[],t=[];let r=1,o=2;for(;r<n.length;){let i=n[r];if("string"==typeof i)2===o?""!==i&&e.push(i,n[++r]):8===o&&t.push(i);else{if(!sa(o))break;o=i}r++}return{attrs:e,classes:t}}(e.selectors[0]);o&&Ag(n,t,o),i&&i.length>0&&j0(n,t,i.join(" "))}}(f,Ye,v,r),void 0!==t&&function kP(n,e,t){const r=n.projection=[];for(let o=0;o<e.length;o++){const i=t[o];r.push(null!=i?Array.from(i):null)}}(Ge,this.ngContentSelectors,t),ye=function DP(n,e,t,r,o,i){const s=ln(),a=o[1],u=Ni(s,o);jC(a,o,s,t,null,r);for(let g=0;g<t.length;g++)Bi(Sc(o,a,s.directiveStart+g,s),o);GC(a,o,s),u&&Bi(u,o);const f=Sc(o,a,s.directiveStart+s.componentOffset,s);if(n[8]=o[8]=f,null!==i)for(const g of i)g(f,e);return x_(a,s,n),f}(Cn,Ye,vt,Ne,K,[xP]),k_(k,K,null)}finally{rn()}return new CP(this.componentType,ye,vu(Ge,K),K,Ge)}}class CP extends JT{constructor(e,t,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.instance=t,this.hostView=this.changeDetectorRef=new yP(o),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[e])){const i=this._rootLView;$_(i[1],i,o,e,t),UC(i,this._tNode.index)}}get injector(){return new cu(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function xP(){const n=ln();Wp(ht()[1],n)}function wr(n){let e=function XC(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let o;if(fs(n))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new xe(903,!1);o=e.\u0275dir}if(o){if(t){r.push(o);const s=n;s.inputs=B_(n.inputs),s.declaredInputs=B_(n.declaredInputs),s.outputs=B_(n.outputs);const a=o.hostBindings;a&&PP(n,a);const u=o.viewQuery,f=o.contentQueries;if(u&&TP(n,u),f&&AP(n,f),M(n.inputs,o.inputs),M(n.declaredInputs,o.declaredInputs),M(n.outputs,o.outputs),fs(o)&&o.data.animation){const g=n.data;g.animation=(g.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(n),a===wr&&(t=!1)}}e=Object.getPrototypeOf(e)}!function MP(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const o=n[r];o.hostVars=e+=o.hostVars,o.hostAttrs=$d(o.hostAttrs,t=$d(t,o.hostAttrs))}}(r)}function B_(n){return n===Ct?{}:n===Et?[]:n}function TP(n,e){const t=n.viewQuery;n.viewQuery=t?(r,o)=>{e(r,o),t(r,o)}:e}function AP(n,e){const t=n.contentQueries;n.contentQueries=t?(r,o,i)=>{e(r,o,i),t(r,o,i)}:e}function PP(n,e){const t=n.hostBindings;n.hostBindings=t?(r,o)=>{e(r,o),t(r,o)}:e}let Ch=null;function Mc(){if(!Ch){const n=rr.Symbol;if(n&&n.iterator)Ch=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Ch=r)}}}return Ch}function wh(n){return!!function V_(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Mc()in n)}function Vi(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Tc(n,e,t,r){const o=Vi(n,e,t);return Vi(n,e+1,r)||o}function Aa(n,e,t,r){const o=ht();return Vi(o,qr(),e)&&(ur(),Ma(lt(),o,n,e,t,r)),Aa}function Du(n,e,t,r){return Vi(n,qr(),t)?e+St(t)+r:Ln}function ku(n,e,t,r,o,i,s,a){const f=function Sh(n,e,t,r,o){const i=Tc(n,e,t,r);return Vi(n,e+2,o)||i}(n,jr(),t,o,s);return en(3),f?e+St(t)+r+St(o)+i+St(s)+a:Ln}function Yt(n,e,t,r,o,i,s,a){const u=ht(),f=ur(),g=n+22,v=f.firstCreatePass?function jP(n,e,t,r,o,i,s,a,u){const f=e.consts,g=Su(e,n,4,s||null,ia(f,a));P_(e,t,g,ia(f,u)),Wp(e,g);const v=g.tViews=A_(2,g,r,o,i,e.directiveRegistry,e.pipeRegistry,null,e.schemas,f);return null!==e.queries&&(e.queries.template(e,g),v.queries=e.queries.embeddedTView(g)),g}(g,f,u,e,t,r,o,i,s):f.data[g];Ze(v,!1);const I=u[C].createComment("");ih(f,u,I,v),Bi(I,u),_h(u,u[g]=HC(I,u,I,v)),vc(v)&&M_(f,u,v),null!=s&&T_(u,v,a)}function Ts(n){return dl(function Ur(){return On.lFrame.contextLView}(),22+n)}function rt(n,e,t){const r=ht();return Vi(r,qr(),e)&&Ms(ur(),lt(),r,n,e,r[C],t,!1),rt}function U_(n,e,t,r,o){const s=o?"class":"style";$_(n,t,e.inputs[s],s,r)}function re(n,e,t,r){const o=ht(),i=ur(),s=22+n,a=o[C],u=o[s]=Jg(a,e,function No(){return On.lFrame.currentNamespace}()),f=i.firstCreatePass?function HP(n,e,t,r,o,i,s){const a=e.consts,f=Su(e,n,2,o,ia(a,i));return P_(e,t,f,ia(a,s)),null!==f.attrs&&vh(f,f.attrs,!1),null!==f.mergedAttrs&&vh(f,f.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,f),f}(s,i,o,0,e,t,r):i.data[s];return Ze(f,!0),G0(a,u,f),32!=(32&f.flags)&&ih(i,o,u,f),0===function Hp(){return On.lFrame.elementDepthCount}()&&Bi(u,o),function zp(){On.lFrame.elementDepthCount++}(),vc(f)&&(M_(i,o,f),x_(i,f,o)),null!==r&&T_(o,f),re}function Q(){let n=ln();to()?Xn():(n=n.parent,Ze(n,!1));const e=n;!function eo(){On.lFrame.elementDepthCount--}();const t=ur();return t.firstCreatePass&&(Wp(t,n),su(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function oM(n){return 0!=(8&n.flags)}(e)&&U_(t,e,ht(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function iM(n){return 0!=(16&n.flags)}(e)&&U_(t,e,ht(),e.stylesWithoutHost,!1),Q}function ct(n,e,t,r){return re(n,e,t,r),Q(),ct}function nf(n,e,t){const r=ht(),o=ur(),i=n+22,s=o.firstCreatePass?function zP(n,e,t,r,o){const i=e.consts,s=ia(i,r),a=Su(e,n,8,"ng-container",s);return null!==s&&vh(a,s,!0),P_(e,t,a,ia(i,o)),null!==e.queries&&e.queries.elementStart(e,a),a}(i,o,r,e,t):o.data[i];Ze(s,!0);const a=r[i]=r[C].createComment("");return ih(o,r,a,s),Bi(a,r),vc(s)&&(M_(o,r,s),x_(o,s,r)),null!=t&&T_(r,s),nf}function rf(){let n=ln();const e=ur();return to()?Xn():(n=n.parent,Ze(n,!1)),e.firstCreatePass&&(Wp(e,n),su(n)&&e.queries.elementEnd(n)),rf}function Fr(){return ht()}function sf(n){return!!n&&"function"==typeof n.then}function uw(n){return!!n&&"function"==typeof n.subscribe}const j_=uw;function st(n,e,t,r){const o=ht(),i=ur(),s=ln();return function fw(n,e,t,r,o,i,s){const a=vc(r),f=n.firstCreatePass&&WC(n),g=e[8],v=zC(e);let I=!0;if(3&r.type||s){const ye=Ni(r,e),Ge=s?s(ye):ye,Ye=v.length,vt=s?Ot=>s(zo(Ot[r.index])):r.index;let Ne=null;if(!s&&a&&(Ne=function WP(n,e,t,r){const o=n.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===t&&o[i+1]===r){const a=e[7],u=o[i+2];return a.length>u?a[u]:null}"string"==typeof s&&(i+=2)}return null}(n,e,o,r.index)),null!==Ne)(Ne.__ngLastListenerFn__||Ne).__ngNextListenerFn__=i,Ne.__ngLastListenerFn__=i,I=!1;else{i=hw(r,e,g,i,!1);const Ot=t.listen(Ge,o,i);v.push(i,Ot),f&&f.push(o,vt,Ye,Ye+1)}}else i=hw(r,e,g,i,!1);const k=r.outputs;let K;if(I&&null!==k&&(K=k[o])){const ye=K.length;if(ye)for(let Ge=0;Ge<ye;Ge+=2){const Cn=e[K[Ge]][K[Ge+1]].subscribe(i),Wn=v.length;v.push(i,Cn),f&&f.push(o,r.index,Wn,-(Wn+1))}}}(i,o,o[C],s,n,e,r),st}function pw(n,e,t,r){try{return!1!==t(r)}catch(o){return qC(n,o),!1}}function hw(n,e,t,r,o){return function i(s){if(s===Function)return r;N_(n.componentOffset>-1?Li(n.index,e):e);let u=pw(e,0,r,s),f=i.__ngNextListenerFn__;for(;f;)u=pw(e,0,f,s)&&u,f=f.__ngNextListenerFn__;return o&&!1===u&&(s.preventDefault(),s.returnValue=!1),u}}function Lt(n=1){return function Yn(n){return(On.lFrame.contextLView=function xo(n,e){for(;n>0;)e=e[15],n--;return e}(n,On.lFrame.contextLView))[8]}(n)}function ZP(n,e){let t=null;const r=function CA(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let o=0;o<e.length;o++){const i=e[o];if("*"!==i){if(null===r?bC(n,i,!0):EA(r,i))return o}else t=o}return t}function Rt(n){const e=ht()[16][6];if(!e.projection){const r=e.projection=Ud(n?n.length:1,null),o=r.slice();let i=e.child;for(;null!==i;){const s=n?ZP(i,n):0;null!==s&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i),i=i.next}}}function Pt(n,e=0,t){const r=ht(),o=ur(),i=Su(o,22+n,16,null,t||null);null===i.projection&&(i.projection=e),Xn(),32!=(32&i.flags)&&function cT(n,e,t){U0(e[C],0,e,t,P0(n,t,e),N0(t.parent||e[6],t,e))}(o,r,i)}function Dh(n,e,t,r,o){const i=ht(),s=Du(i,e,t,r);return s!==Ln&&Ms(ur(),lt(),i,n,s,i[C],o,!1),Dh}function Ih(n,e){return n<<17|e<<2}function Hl(n){return n>>17&32767}function G_(n){return 2|n}function Ac(n){return(131068&n)>>2}function H_(n,e){return-131069&n|e<<2}function z_(n){return 1|n}function Ew(n,e,t,r,o){const i=n[t+1],s=null===e;let a=r?Hl(i):Ac(i),u=!1;for(;0!==a&&(!1===u||s);){const g=n[a+1];JP(n[a],e)&&(u=!0,n[a+1]=r?z_(g):G_(g)),a=r?Hl(g):Ac(g)}u&&(n[t+1]=r?G_(i):z_(i))}function JP(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&mu(n,e)>=0}function af(n,e,t){return aa(n,e,t,!1),af}function _l(n,e){return aa(n,e,null,!0),_l}function aa(n,e,t,r){const o=ht(),i=ur(),s=en(2);i.firstUpdatePass&&function Pw(n,e,t,r){const o=n.data;if(null===o[t+1]){const i=o[Gr()],s=function Aw(n,e){return e>=n.expandoStartIndex}(n,t);(function Nw(n,e){return 0!=(n.flags&(e?8:16))})(i,r)&&null===e&&!s&&(e=!1),e=function lR(n,e,t,r){const o=function x(n){const e=On.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let i=r?e.residualClasses:e.residualStyles;if(null===o)0===(r?e.classBindings:e.styleBindings)&&(t=lf(t=W_(null,n,e,t,r),e.attrs,r),i=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==o)if(t=W_(o,n,e,t,r),null===i){let u=function cR(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Ac(r))return n[Hl(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=W_(null,n,e,u[1],r),u=lf(u,e.attrs,r),function uR(n,e,t,r){n[Hl(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else i=function dR(n,e,t){let r;const o=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<o;i++)r=lf(r,n[i].hostAttrs,t);return lf(r,e.attrs,t)}(n,e,r)}return void 0!==i&&(r?e.residualClasses=i:e.residualStyles=i),t}(o,i,e,r),function XP(n,e,t,r,o,i){let s=i?e.classBindings:e.styleBindings,a=Hl(s),u=Ac(s);n[r]=t;let g,f=!1;if(Array.isArray(t)?(g=t[1],(null===g||mu(t,g)>0)&&(f=!0)):g=t,o)if(0!==u){const I=Hl(n[a+1]);n[r+1]=Ih(I,a),0!==I&&(n[I+1]=H_(n[I+1],r)),n[a+1]=function YP(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Ih(a,0),0!==a&&(n[a+1]=H_(n[a+1],r)),a=r;else n[r+1]=Ih(u,0),0===a?a=r:n[u+1]=H_(n[u+1],r),u=r;f&&(n[r+1]=G_(n[r+1])),Ew(n,g,r,!0),Ew(n,g,r,!1),function QP(n,e,t,r,o){const i=o?n.residualClasses:n.residualStyles;null!=i&&"string"==typeof e&&mu(i,e)>=0&&(t[r+1]=z_(t[r+1]))}(e,g,n,r,i),s=Ih(a,u),i?e.classBindings=s:e.styleBindings=s}(o,i,e,t,s,r)}}(i,n,s,r),e!==Ln&&Vi(o,s,e)&&function Fw(n,e,t,r,o,i,s,a){if(!(3&e.type))return;const u=n.data,f=u[a+1],g=function KP(n){return 1==(1&n)}(f)?Ow(u,e,t,o,Ac(f),s):void 0;kh(g)||(kh(i)||function qP(n){return 2==(2&n)}(f)&&(i=Ow(u,null,t,o,a,s)),function dT(n,e,t,r,o){if(e)o?n.addClass(t,r):n.removeClass(t,r);else{let i=-1===r.indexOf("-")?void 0:ps.DashCase;null==o?n.removeStyle(t,r,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=ps.Important),n.setStyle(t,r,o,i))}}(r,s,bc(Gr(),t),o,i))}(i,i.data[Gr()],o,o[C],n,o[s+1]=function hR(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=O(xs(n)))),n}(e,t),r,s)}function W_(n,e,t,r,o){let i=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(i=e[a],r=lf(r,i.hostAttrs,o),i!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function lf(n,e,t){const r=t?1:2;let o=-1;if(null!==e)for(let i=0;i<e.length;i++){const s=e[i];"number"==typeof s?o=s:o===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ks(n,s,!!t||e[++i]))}return void 0===n?null:n}function Ow(n,e,t,r,o,i){const s=null===e;let a;for(;o>0;){const u=n[o],f=Array.isArray(u),g=f?u[1]:u,v=null===g;let I=t[o+1];I===Ln&&(I=v?Et:void 0);let k=v?Bg(I,r):g===r?I:void 0;if(f&&!kh(k)&&(k=Bg(u,r)),kh(k)&&(a=k,s))return a;const K=n[o+1];o=s?Hl(K):Ac(K)}if(null!==e){let u=i?e.residualClasses:e.residualStyles;null!=u&&(a=Bg(u,r))}return a}function kh(n){return void 0!==n}function qe(n,e=""){const t=ht(),r=ur(),o=n+22,i=r.firstCreatePass?Su(r,o,1,e,null):r.data[o],s=t[o]=function Qg(n,e){return n.createText(e)}(t[C],e);ih(r,t,s,i),Ze(i,!1)}function As(n){return Ui("",n,""),As}function Ui(n,e,t){const r=ht(),o=Du(r,n,e,t);return o!==Ln&&gl(r,Gr(),o),Ui}function cf(n,e,t,r,o){const i=ht(),s=function Iu(n,e,t,r,o,i){const a=Tc(n,jr(),t,o);return en(2),a?e+St(t)+r+St(o)+i:Ln}(i,n,e,t,r,o);return s!==Ln&&gl(i,Gr(),s),cf}function Z_(n,e,t,r,o,i,s){const a=ht(),u=ku(a,n,e,t,r,o,i,s);return u!==Ln&&gl(a,Gr(),u),Z_}const Ou="en-US";let nS=Ou;function K_(n,e,t,r,o){if(n=R(n),Array.isArray(n))for(let i=0;i<n.length;i++)K_(n[i],e,t,r,o);else{const i=ur(),s=ht();let a=xc(n)?n:R(n.provide),u=fC(n);const f=ln(),g=1048575&f.providerIndexes,v=f.directiveStart,I=f.providerIndexes>>20;if(xc(n)||!n.multi){const k=new Ld(u,o,S),K=Q_(a,e,o?g:g+I,v);-1===K?(Og(Qp(f,s),i,a),X_(i,n,e.length),e.push(a),f.directiveStart++,f.directiveEnd++,o&&(f.providerIndexes+=1048576),t.push(k),s.push(k)):(t[K]=k,s[K]=k)}else{const k=Q_(a,e,g+I,v),K=Q_(a,e,g,g+I),Ge=K>=0&&t[K];if(o&&!Ge||!o&&!(k>=0&&t[k])){Og(Qp(f,s),i,a);const Ye=function PF(n,e,t,r,o){const i=new Ld(n,t,S);return i.multi=[],i.index=e,i.componentProviders=0,kS(i,o,r&&!t),i}(o?AF:TF,t.length,o,r,u);!o&&Ge&&(t[K].providerFactory=Ye),X_(i,n,e.length,0),e.push(a),f.directiveStart++,f.directiveEnd++,o&&(f.providerIndexes+=1048576),t.push(Ye),s.push(Ye)}else X_(i,n,k>-1?k:K,kS(t[o?K:k],u,!o&&r));!o&&r&&Ge&&t[K].componentProviders++}}}function X_(n,e,t,r){const o=xc(e),i=function WT(n){return!!n.useClass}(e);if(o||i){const u=(i?R(e.useClass):e).prototype.ngOnDestroy;if(u){const f=n.destroyHooks||(n.destroyHooks=[]);if(!o&&e.multi){const g=f.indexOf(t);-1===g?f.push(t,[r,u]):f[g+1].push(r,u)}else f.push(t,u)}}}function kS(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Q_(n,e,t,r){for(let o=t;o<r;o++)if(e[o]===n)return o;return-1}function TF(n,e,t,r){return J_(this.multi,[])}function AF(n,e,t,r){const o=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Sc(t,t[1],this.providerFactory.index,r);i=a.slice(0,s),J_(o,i);for(let u=s;u<a.length;u++)i.push(a[u])}else i=[],J_(o,i);return i}function J_(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function $r(n,e=[]){return t=>{t.providersResolver=(r,o)=>function MF(n,e,t){const r=ur();if(r.firstCreatePass){const o=fs(n);K_(t,r.data,r.blueprint,o,!0),K_(e,r.data,r.blueprint,o,!1)}}(r,o?o(n):n,e)}}class Nu{}class xS{}class MS extends Nu{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new YC(this);const r=hn(e);this._bootstrapComponents=ml(r.bootstrap),this._r3Injector=kC(e,t,[{provide:Nu,useValue:this},{provide:pl,useValue:this.componentFactoryResolver}],O(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class ey extends xS{constructor(e){super(),this.moduleType=e}create(e){return new MS(this.moduleType,e)}}class FF extends Nu{constructor(e,t,r){super(),this.componentFactoryResolver=new YC(this),this.instance=null;const o=new dC([...e,{provide:Nu,useValue:this},{provide:pl,useValue:this.componentFactoryResolver}],t||ph(),r,new Set(["environment"]));this.injector=o,o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Ph(n,e,t=null){return new FF(n,e,t).injector}let OF=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=aC(0,t.type),o=r.length>0?Ph([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,o)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=mt({token:n,providedIn:"environment",factory:()=>new n(se(xa))}),n})();function TS(n){n.getStandaloneInjector=e=>e.get(OF).getOrCreateStandaloneInjector(n)}function LS(n,e,t,r,o,i){const s=e+t;return Vi(n,s,o)?function Ta(n,e,t){return n[e]=t}(n,s+1,i?r.call(i,o):r(o)):function mf(n,e){const t=n[e];return t===Ln?void 0:t}(n,s+1)}function Fa(n,e){const t=ur();let r;const o=n+22;t.firstCreatePass?(r=function e2(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[o]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(o,r.onDestroy)):r=t.data[o];const i=r.factory||(r.factory=Da(r.type)),s=jo(S);try{const a=Xp(!1),u=i();return Xp(a),function GP(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,ht(),o,u),u}finally{jo(s)}}function Oa(n,e,t){const r=n+22,o=ht(),i=dl(o,r);return function gf(n,e){return n[1].data[e].pure}(o,r)?LS(o,function Rr(){const n=On.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),e,i.transform,t,i):i.transform(t)}function ny(n){return e=>{setTimeout(n,void 0,e)}}const xn=class i2 extends et{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let o=e,i=t||(()=>null),s=r;if(e&&"object"==typeof e){const u=e;o=u.next?.bind(u),i=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(i=ny(i),o&&(o=ny(o)),s&&(s=ny(s)));const a=super.subscribe({next:o,error:i,complete:s});return e instanceof H&&e.add(a),a}};function s2(){return this._results[Mc()]()}class ry{get changes(){return this._changes||(this._changes=new xn)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Mc(),r=ry.prototype;r[t]||(r[t]=s2)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const o=function zs(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function mM(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let o=n[r],i=e[r];if(t&&(o=t(o),i=t(i)),i!==o)return!1}return!0}(r._results,o,t))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ms=(()=>{class n{}return n.__NG_ELEMENT_ID__=c2,n})();const a2=ms,l2=class extends a2{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,o=mh(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);o[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(o[19]=s.createEmbeddedView(r)),k_(r,o,e),new Jd(o)}};function c2(){return Rh(ln(),ht())}function Rh(n,e){return 4&n.type?new l2(e,n,vu(n,e)):null}let ji=(()=>{class n{}return n.__NG_ELEMENT_ID__=u2,n})();function u2(){return HS(ln(),ht())}const d2=ji,jS=class extends d2{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return vu(this._hostTNode,this._hostLView)}get injector(){return new cu(this._hostTNode,this._hostLView)}get parentInjector(){const e=Fg(this._hostTNode,this._hostLView);if(qb(e)){const t=Kp(e,this._hostLView),r=Yp(e);return new cu(t[1].data[r+8],t)}return new cu(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=GS(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const s=e.createEmbeddedView(t||{},i);return this.insert(s,o),s}createComponent(e,t,r,o,i){const s=e&&!function Vd(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const v=t||{};a=v.index,r=v.injector,o=v.projectableNodes,i=v.environmentInjector||v.ngModuleRef}const u=s?e:new ef(pr(e)),f=r||this.parentInjector;if(!i&&null==u.ngModule){const I=(s?f:this.parentInjector).get(xa,null);I&&(i=I)}const g=u.create(f,o,void 0,i);return this.insert(g.hostView,a),g}insert(e,t){const r=e._lView,o=r[1];if(function Up(n){return Cr(n[3])}(r)){const g=this.indexOf(e);if(-1!==g)this.detach(g);else{const v=r[3],I=new jS(v,v[6],v[3]);I.detach(I.indexOf(e))}}const i=this._adjustIndex(t),s=this._lContainer;!function rT(n,e,t,r){const o=10+r,i=t.length;r>0&&(t[o-1][4]=e),r<i-10?(e[4]=t[o],a0(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const s=e[17];null!==s&&t!==s&&function oT(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(o,r,s,i);const a=r_(i,s),u=r[C],f=oh(u,s[7]);return null!==f&&function eT(n,e,t,r,o,i){r[0]=o,r[6]=e,qd(n,r,t,1,o,i)}(o,s[6],u,r,f,a),e.attachToViewContainerRef(),a0(oy(s),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=GS(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=e_(this._lContainer,t);r&&(eh(oy(this._lContainer),t),A0(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=e_(this._lContainer,t);return r&&null!=eh(oy(this._lContainer),t)?new Jd(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function GS(n){return n[8]}function oy(n){return n[8]||(n[8]=[])}function HS(n,e){let t;const r=e[n.index];if(Cr(r))t=r;else{let o;if(8&n.type)o=zo(r);else{const i=e[C];o=i.createComment("");const s=Ni(n,e);Dc(i,oh(i,s),o,function lT(n,e){return n.nextSibling(e)}(i,s),!1)}e[n.index]=t=HC(r,e,o,n),_h(e,t)}return new jS(t,n,e)}class iy{constructor(e){this.queryList=e,this.matches=null}clone(){return new iy(this.queryList)}setDirty(){this.queryList.setDirty()}}class sy{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,o=[];for(let i=0;i<r;i++){const s=t.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new sy(o)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==YS(e,t).matches&&this.queries[t].setDirty()}}class zS{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class ay{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const o=null!==t?t.length:0,i=this.getByIndex(r).embeddedTView(e,o);i&&(i.indexInDeclarationView=r,null!==t?t.push(i):t=[i])}return null!==t?new ay(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class ly{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new ly(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const i=r[o];this.matchTNodeWithReadOption(e,t,f2(t,i)),this.matchTNodeWithReadOption(e,t,Jp(t,e,i,!1,!1))}else r===ms?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Jp(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===yt||o===ji||o===ms&&4&t.type)this.addMatch(t.index,-2);else{const i=Jp(t,e,o,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function f2(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function h2(n,e,t,r){return-1===t?function p2(n,e){return 11&n.type?vu(n,e):4&n.type?Rh(n,e):null}(e,n):-2===t?function m2(n,e,t){return t===yt?vu(e,n):t===ms?Rh(e,n):t===ji?HS(e,n):void 0}(n,e,r):Sc(n,n[1],t,e)}function WS(n,e,t,r){const o=e[19].queries[r];if(null===o.matches){const i=n.data,s=t.matches,a=[];for(let u=0;u<s.length;u+=2){const f=s[u];a.push(f<0?null:h2(e,i[f],s[u+1],t.metadata.read))}o.matches=a}return o.matches}function cy(n,e,t,r){const o=n.queries.getByIndex(t),i=o.matches;if(null!==i){const s=WS(n,e,o,t);for(let a=0;a<i.length;a+=2){const u=i[a];if(u>0)r.push(s[a/2]);else{const f=i[a+1],g=e[-u];for(let v=10;v<g.length;v++){const I=g[v];I[17]===I[3]&&cy(I[1],I,f,r)}if(null!==g[9]){const v=g[9];for(let I=0;I<v.length;I++){const k=v[I];cy(k[1],k,f,r)}}}}}return r}function Ps(n){const e=ht(),t=ur(),r=G();_e(r+1);const o=YS(t,r);if(n.dirty&&function Vp(n){return 4==(4&n[2])}(e)===(2==(2&o.metadata.flags))){if(null===o.matches)n.reset([]);else{const i=o.crossesNgTemplate?cy(t,e,r,[]):WS(t,e,o,r);n.reset(i,rA),n.notifyOnChanges()}return!0}return!1}function Lu(n,e,t){const r=ur();r.firstCreatePass&&(qS(r,new zS(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),ZS(r,ht(),e)}function Rs(){return function g2(n,e){return n[19].queries[e].queryList}(ht(),G())}function ZS(n,e,t){const r=new ry(4==(4&t));$C(n,e,r,r.destroy),null===e[19]&&(e[19]=new sy),e[19].queries.push(new iy(r))}function qS(n,e,t){null===n.queries&&(n.queries=new ay),n.queries.track(new ly(e,t))}function YS(n,e){return n.queries.getByIndex(e)}function Oh(...n){}const Rc=new Qt("Application Initializer");let Nh=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Oh,this.reject=Oh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let o=0;o<this.appInits.length;o++){const i=this.appInits[o]();if(sf(i))t.push(i);else if(j_(i)){const s=new Promise((a,u)=>{i.subscribe({complete:a,error:u})});t.push(s)}}Promise.all(t).then(()=>{r()}).catch(o=>{this.reject(o)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(se(Rc,8))},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yf=new Qt("AppId",{providedIn:"root",factory:function hE(){return`${hy()}${hy()}${hy()}`}});function hy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const mE=new Qt("Platform Initializer"),Vu=new Qt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),gE=new Qt("appBootstrapListener");let $2=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const yl=new Qt("LocaleId",{providedIn:"root",factory:()=>on(yl,dn.Optional|dn.SkipSelf)||function B2(){return typeof $localize<"u"&&$localize.locale||Ou}()});class U2{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let _E=(()=>{class n{compileModuleSync(t){return new ey(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),i=ml(hn(t).declarations).reduce((s,a)=>{const u=pr(a);return u&&s.push(new ef(u)),s},[]);return new U2(r,i)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const H2=(()=>Promise.resolve(0))();function my(n){typeof Zone>"u"?H2.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class ut{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xn(!1),this.onMicrotaskEmpty=new xn(!1),this.onStable=new xn(!1),this.onError=new xn(!1),typeof Zone>"u")throw new xe(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&t,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function z2(){let n=rr.requestAnimationFrame,e=rr.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function q2(n){const e=()=>{!function Z2(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(rr,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,_y(n),n.isCheckStableRunning=!0,gy(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),_y(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,o,i,s,a)=>{try{return bE(n),t.invokeTask(o,i,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||n.shouldCoalesceRunChangeDetection)&&e(),CE(n)}},onInvoke:(t,r,o,i,s,a,u)=>{try{return bE(n),t.invoke(o,i,s,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),CE(n)}},onHasTask:(t,r,o,i)=>{t.hasTask(o,i),r===o&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,_y(n),gy(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,r,o,i)=>(t.handleError(o,i),n.runOutsideAngular(()=>n.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ut.isInAngularZone())throw new xe(909,!1)}static assertNotInAngularZone(){if(ut.isInAngularZone())throw new xe(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,e,W2,Oh,Oh);try{return i.runTask(s,t,r)}finally{i.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const W2={};function gy(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function _y(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function bE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function CE(n){n._nesting--,gy(n)}class Y2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xn,this.onMicrotaskEmpty=new xn,this.onStable=new xn,this.onError=new xn}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,o){return e.apply(t,r)}}const wE=new Qt(""),Lh=new Qt("");let by,yy=(()=>{class n{constructor(t,r,o){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,by||(function K2(n){by=n}(o),o.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ut.assertNotInAngularZone(),my(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())my(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==i),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:o})}whenStable(t,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,o){return[]}}return n.\u0275fac=function(t){return new(t||n)(se(ut),se(vy),se(Lh))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})(),vy=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return by?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Wl=null;const SE=new Qt("AllowMultipleToken"),Cy=new Qt("PlatformDestroyListeners");class EE{constructor(e,t){this.name=e,this.token=t}}function IE(n,e,t=[]){const r=`Platform: ${e}`,o=new Qt(r);return(i=[])=>{let s=wy();if(!s||s.injector.get(SE,!1)){const a=[...t,...i,{provide:o,useValue:!0}];n?n(a):function J2(n){if(Wl&&!Wl.get(SE,!1))throw new xe(400,!1);Wl=n;const e=n.get(xE);(function DE(n){const e=n.get(mE,null);e&&e.forEach(t=>t())})(n)}(function kE(n=[],e){return wo.create({name:e,providers:[{provide:m_,useValue:"platform"},{provide:Cy,useValue:new Set([()=>Wl=null])},...n]})}(a,r))}return function tO(n){const e=wy();if(!e)throw new xe(401,!1);return e}()}}function wy(){return Wl?.get(xE)??null}let xE=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const o=function TE(n,e){let t;return t="noop"===n?new Y2:("zone.js"===n?void 0:n)||new ut(e),t}(r?.ngZone,function ME(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),i=[{provide:ut,useValue:o}];return o.run(()=>{const s=wo.create({providers:i,parent:this.injector,name:t.moduleType.name}),a=t.create(s),u=a.injector.get(bu,null);if(!u)throw new xe(402,!1);return o.runOutsideAngular(()=>{const f=o.onError.subscribe({next:g=>{u.handleError(g)}});a.onDestroy(()=>{$h(this._modules,a),f.unsubscribe()})}),function AE(n,e,t){try{const r=t();return sf(r)?r.catch(o=>{throw e.runOutsideAngular(()=>n.handleError(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,o,()=>{const f=a.injector.get(Nh);return f.runInitializers(),f.donePromise.then(()=>(function rS(n){Uo(n,"Expected localeId to be defined"),"string"==typeof n&&(nS=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(yl,Ou)||Ou),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const o=PE({},r);return function X2(n,e,t){const r=new ey(t);return Promise.resolve(r)}(0,0,t).then(i=>this.bootstrapModuleFactory(i,o))}_moduleDoBootstrap(t){const r=t.injector.get(Zl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!t.instance.ngDoBootstrap)throw new xe(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(Cy,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(se(wo))},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function PE(n,e){return Array.isArray(e)?e.reduce(PE,n):{...n,...e}}let Zl=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,o){this._zone=t,this._injector=r,this._exceptionHandler=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const i=new bt(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new bt(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{ut.assertNotInAngularZone(),my(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const f=this._zone.onUnstable.subscribe(()=>{ut.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),f.unsubscribe()}});this.isStable=Ci(i,s.pipe(ws()))}bootstrap(t,r){const o=t instanceof pC;if(!this._injector.get(Nh).done)throw!o&&function oa(n){const e=pr(n)||Fo(n)||Go(n);return null!==e&&e.standalone}(t),new xe(405,false);let s;s=o?t:this._injector.get(pl).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function Q2(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Nu),f=s.create(wo.NULL,[],r||s.selector,a),g=f.location.nativeElement,v=f.injector.get(wE,null);return v?.registerApplication(g),f.onDestroy(()=>{this.detachView(f.hostView),$h(this.components,f),v?.unregisterApplication(g)}),this._loadComponent(f),f}tick(){if(this._runningTick)throw new xe(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;$h(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(gE,[]);r.push(...this._bootstrapListeners),r.forEach(o=>o(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>$h(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new xe(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(se(ut),se(xa),se(bu))},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $h(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let Mt=(()=>{class n{}return n.__NG_ELEMENT_ID__=rO,n})();function rO(n){return function oO(n,e,t){if(Gl(n)&&!t){const r=Li(n.index,e);return new Jd(r,r)}return 47&n.type?new Jd(e[16],e):null}(ln(),ht(),16==(16&n))}class LE{constructor(){}supports(e){return wh(e)}create(e){return new uO(e)}}const cO=(n,e)=>e;class uO{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||cO}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,o=0,i=null;for(;t||r;){const s=!r||t&&t.currentIndex<BE(r,o,i)?t:r,a=BE(s,o,i),u=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)o++;else{i||(i=[]);const f=a-o,g=u-o;if(f!=g){for(let I=0;I<f;I++){const k=I<i.length?i[I]:i[I]=0,K=k+I;g<=K&&K<f&&(i[I]=k+1)}i[s.previousIndex]=g-f}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!wh(e))throw new xe(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let o,i,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)i=e[a],s=this._trackByFn(a,i),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,i,s,a)),Object.is(t.item,i)||this._addIdentityChange(t,i)):(t=this._mismatch(t,i,s,a),r=!0),t=t._next}else o=0,function BP(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Mc()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(o,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,o)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,o),r=!0),t=t._next,o++}),this.length=o;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,o){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,o)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,o)):e=this._addAfter(new dO(t,r),i,o),e}_verifyReinsertion(e,t,r,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?e=this._reinsertAfter(i,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const o=e._prevRemoved,i=e._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const o=null===t?this._itHead:t._next;return e._next=o,e._prev=t,null===o?this._itTail=e:o._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new $E),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $E),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class dO{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class fO{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class $E{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new fO,this.map.set(t,r)),r.add(e)}get(e,t){const o=this.map.get(e);return o?o.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function BE(n,e,t){const r=n.previousIndex;if(null===r)return r;let o=0;return t&&r<t.length&&(o=t[r]),r+e+o}function UE(){return new vf([new LE])}let vf=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const o=r.factories.slice();t=t.concat(o)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||UE()),deps:[[n,new Gd,new jd]]}}find(t){const r=this.factories.find(o=>o.supports(t));if(null!=r)return r;throw new xe(901,!1)}}return n.\u0275prov=mt({token:n,providedIn:"root",factory:UE}),n})();const _O=IE(null,"core",[]);let yO=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(se(Zl))},n.\u0275mod=vn({type:n}),n.\u0275inj=Er({}),n})(),ky=null;function Na(){return ky}class CO{}const ii=new Qt("DocumentToken");let xy=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:function(){return function wO(){return se(GE)}()},providedIn:"platform"}),n})();const SO=new Qt("Location Initialized");let GE=(()=>{class n extends xy{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Na().getBaseHref(this._doc)}onPopState(t){const r=Na().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Na().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){HE()?this._history.pushState(t,r,o):this._location.hash=o}replaceState(t,r,o){HE()?this._history.replaceState(t,r,o):this._location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(se(ii))},n.\u0275prov=mt({token:n,factory:function(){return function EO(){return new GE(se(ii))}()},providedIn:"platform"}),n})();function HE(){return!!window.history.pushState}function My(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function zE(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function bl(n){return n&&"?"!==n[0]?"?"+n:n}let La=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:function(){return on(ZE)},providedIn:"root"}),n})();const WE=new Qt("appBaseHref");let ZE=(()=>{class n extends La{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??on(ii).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return My(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+bl(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,i){const s=this.prepareExternalUrl(o+bl(i));this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){const s=this.prepareExternalUrl(o+bl(i));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(se(xy),se(WE,8))},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qE=(()=>{class n extends La{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=My(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,i){let s=this.prepareExternalUrl(o+bl(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){let s=this.prepareExternalUrl(o+bl(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(se(xy),se(WE,8))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})(),Cf=(()=>{class n{constructor(t){this._subject=new xn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function kO(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(zE(YE(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+bl(r))}normalize(t){return n.stripTrailingSlash(function IO(n,e){return n&&new RegExp(`^${n}([/;?#]|$)`).test(e)?e.substring(n.length):e}(this._basePath,YE(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+bl(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+bl(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=bl,n.joinWithSlash=My,n.stripTrailingSlash=zE,n.\u0275fac=function(t){return new(t||n)(se(La))},n.\u0275prov=mt({token:n,factory:function(){return function DO(){return new Cf(se(La))}()},providedIn:"root"}),n})();function YE(n){return n.replace(/\/index.html$/,"")}function oD(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,i]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(i)}return null}class fN{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Oc=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,i,s)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new fN(o.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===i?void 0:i);else if(null!==i){const a=r.get(i);r.move(a,s),lD(a,o)}});for(let o=0,i=r.length;o<i;o++){const a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{lD(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(S(ji),S(ms),S(vf))},n.\u0275dir=Tt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function lD(n,e){n.context.$implicit=e.item}let mi=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new hN,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){cD("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){cD("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(S(ji),S(ms))},n.\u0275dir=Tt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class hN{constructor(){this.$implicit=null,this.ngIf=null}}function cD(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${O(e)}'.`)}class Vy{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Kh=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const r of this._defaultViews)r.enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Tt({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),uD=(()=>{class n{constructor(t,r,o){this.ngSwitch=o,o._addCase(),this._view=new Vy(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(S(ji),S(ms),S(Kh,9))},n.\u0275dir=Tt({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),dD=(()=>{class n{constructor(t,r,o){o._addDefault(new Vy(t,r))}}return n.\u0275fac=function(t){return new(t||n)(S(ji),S(ms),S(Kh,9))},n.\u0275dir=Tt({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})();class _N{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class yN{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const vN=new yN,bN=new _N;let pD=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(sf(t))return vN;if(uw(t))return bN;throw function da(n,e){return new xe(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(S(Mt,16))},n.\u0275pipe=vo({name:"async",type:n,pure:!1,standalone:!0}),n})(),$a=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=vn({type:n}),n.\u0275inj=Er({}),n})();const mD="browser";function ql(n){return n===mD}let UN=(()=>{class n{}return n.\u0275prov=mt({token:n,providedIn:"root",factory:()=>new jN(se(ii),window)}),n})();class jN{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function GN(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(e)||i.querySelector(`[name="${e}"]`);if(s)return s}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=gD(this.window.history)||gD(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function gD(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class _D{}class gL extends CO{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Zy extends gL{static makeCurrent(){!function bO(n){ky||(ky=n)}(new Zy)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function _L(){return Df=Df||document.querySelector("base"),Df?Df.getAttribute("href"):null}();return null==t?null:function yL(n){Qh=Qh||document.createElement("a"),Qh.setAttribute("href",n);const e=Qh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Df=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return oD(document.cookie,e)}}let Qh,Df=null;const wD=new Qt("TRANSITION_ID"),bL=[{provide:Rc,useFactory:function vL(n,e,t){return()=>{t.get(Nh).donePromise.then(()=>{const r=Na(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let i=0;i<o.length;i++)r.remove(o[i])})}},deps:[wD,ii,wo],multi:!0}];let wL=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})();const Jh=new Qt("EventManagerPlugins");let em=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let i=0;i<o.length;i++){const s=o[i];if(s.supports(t))return this._eventNameToPlugin.set(t,s),s}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(se(Jh),se(ut))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})();class SD{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=Na().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let ED=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})(),If=(()=>{class n extends ED{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(i=>{const s=this._doc.createElement("style");s.textContent=i,o.push(r.appendChild(s))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(DD),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(DD))}}return n.\u0275fac=function(t){return new(t||n)(se(ii))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})();function DD(n){Na().remove(n)}const qy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Yy=/%COMP%/g;function Ky(n,e){return e.flat(100).map(t=>t.replace(Yy,n))}function xD(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Xy=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Qy(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Be.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new xL(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case Be.ShadowDom:return new ML(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=Ky(r.id,r.styles);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(se(em),se(If),se(yf))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})();class Qy{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(qy[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(TD(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(TD(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const i=qy[o];i?e.setAttributeNS(i,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=qy[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(ps.DashCase|ps.Important)?e.style.setProperty(t,r,o&ps.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ps.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,xD(r)):this.eventManager.addEventListener(e,t,xD(r))}}function TD(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class xL extends Qy{constructor(e,t,r,o){super(e),this.component=r;const i=Ky(o+"-"+r.id,r.styles);t.addStyles(i),this.contentAttr=function DL(n){return"_ngcontent-%COMP%".replace(Yy,n)}(o+"-"+r.id),this.hostAttr=function IL(n){return"_nghost-%COMP%".replace(Yy,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class ML extends Qy{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=Ky(o.id,o.styles);for(let s=0;s<i.length;s++){const a=document.createElement("style");a.textContent=i[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let TL=(()=>{class n extends SD{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(se(ii))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})();const AD=["alt","control","meta","shift"],AL={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},PL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let RL=(()=>{class n extends SD{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const i=n.parseEventName(r),s=n.eventCallback(i.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Na().onAndCancel(t,i.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const i=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),AD.forEach(f=>{const g=r.indexOf(f);g>-1&&(r.splice(g,1),s+=f+".")}),s+=i,0!=r.length||0===i.length)return null;const u={};return u.domEventName=o,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let o=AL[t.key]||t.key,i="";return r.indexOf("code.")>-1&&(o=t.code,i="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),AD.forEach(s=>{s!==o&&(0,PL[s])(t)&&(i+=s+".")}),i+=o,i===r)}static eventCallback(t,r,o){return i=>{n.matchEventFullKeyCode(i,t)&&o.runGuarded(()=>r(i))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(se(ii))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})();const LL=IE(_O,"browser",[{provide:Vu,useValue:mD},{provide:mE,useValue:function FL(){Zy.makeCurrent()},multi:!0},{provide:ii,useFactory:function NL(){return function gT(n){a_=n}(document),document},deps:[]}]),FD=new Qt(""),OD=[{provide:Lh,useClass:class CL{addToWindow(e){rr.getAngularTestability=(r,o=!0)=>{const i=e.findTestabilityInTree(r,o);if(null==i)throw new Error("Could not find testability for element.");return i},rr.getAllAngularTestabilities=()=>e.getAllTestabilities(),rr.getAllAngularRootElements=()=>e.getAllRootElements(),rr.frameworkStabilizers||(rr.frameworkStabilizers=[]),rr.frameworkStabilizers.push(r=>{const o=rr.getAllAngularTestabilities();let i=o.length,s=!1;const a=function(u){s=s||u,i--,0==i&&r(s)};o.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Na().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:wE,useClass:yy,deps:[ut,vy,Lh]},{provide:yy,useClass:yy,deps:[ut,vy,Lh]}],ND=[{provide:m_,useValue:"root"},{provide:bu,useFactory:function OL(){return new bu},deps:[]},{provide:Jh,useClass:TL,multi:!0,deps:[ii,ut,Vu]},{provide:Jh,useClass:RL,multi:!0,deps:[ii]},{provide:Xy,useClass:Xy,deps:[em,If,yf]},{provide:mC,useExisting:Xy},{provide:ED,useExisting:If},{provide:If,useClass:If,deps:[ii]},{provide:em,useClass:em,deps:[Jh,ut]},{provide:_D,useClass:wL,deps:[]},[]];let $L=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:yf,useValue:t.appId},{provide:wD,useExisting:yf},bL]}}}return n.\u0275fac=function(t){return new(t||n)(se(FD,12))},n.\u0275mod=vn({type:n}),n.\u0275inj=Er({providers:[...ND,...OD],imports:[$a,yO]}),n})(),LD=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(se(ii))},n.\u0275prov=mt({token:n,factory:function(t){let r=null;return r=t?new t:function VL(){return new LD(se(ii))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let tv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:function(t){let r=null;return r=t?new(t||n):se(VD),r},providedIn:"root"}),n})(),VD=(()=>{class n extends tv{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case Kr.NONE:return r;case Kr.HTML:return ka(r,"HTML")?xs(r):eC(this._doc,String(r)).toString();case Kr.STYLE:return ka(r,"Style")?xs(r):r;case Kr.SCRIPT:if(ka(r,"Script"))return xs(r);throw new Error("unsafe value used in a script context");case Kr.URL:return ka(r,"URL")?xs(r):ch(String(r));case Kr.RESOURCE_URL:if(ka(r,"ResourceURL"))return xs(r);throw new Error(`unsafe value used in a resource URL context (see ${ot})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${ot})`)}}bypassSecurityTrustHtml(t){return function ST(n){return new _T(n)}(t)}bypassSecurityTrustStyle(t){return function ET(n){return new yT(n)}(t)}bypassSecurityTrustScript(t){return function DT(n){return new vT(n)}(t)}bypassSecurityTrustUrl(t){return function IT(n){return new bT(n)}(t)}bypassSecurityTrustResourceUrl(t){return function kT(n){return new CT(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(se(ii))},n.\u0275prov=mt({token:n,factory:function(t){let r=null;return r=t?new t:function ZL(n){return new VD(n.get(ii))}(se(wo)),r},providedIn:"root"}),n})();var Ko=T(1158),qL=T(9233),ju=T.n(qL);let tm,nm;function UD(n){if(!window.location.hash.startsWith(n))return;const e=window.location.hash.split("?")[1];if(!e)return;const t=e.split("&").map(r=>r.split("="));for(const[r,o]of t)if("url"===r&&o)try{return decodeURIComponent(o)}catch{continue}}function jD(){return void 0!==nm}class GD{constructor(){this.requestEvent=new Ko.j}dispatchRequest(e){if(e){try{e=new(ju())(e).toString()}catch{return void console.error(`invalid URL: ${e}`)}this.url=e,this.requestEvent.dispatch()}}hasPendingRequest(){return void 0!==this.url}receivePendingUrl(){const e=this.url;return this.url=void 0,e}}class Kl{constructor(){this.installation=new GD,this.import=new GD,tm&&this.installation.dispatchRequest(tm),nm&&this.import.dispatchRequest(nm)}}function _n(...n){return vr(n,Bo(n))}function Xl(n,e){return D(e)?yr(n,e,1):yr(n,1)}function Di(n,e){return Z((t,r)=>{let o=0;t.subscribe(ge(r,i=>n.call(e,i,o++)&&r.next(i)))})}Kl.\u0275fac=function(e){return new(e||Kl)},Kl.\u0275prov=mt({token:Kl,factory:Kl.\u0275fac,providedIn:"root"});class rm{}class nv{}class wl{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const o=t.slice(0,r),i=o.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const o=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(t,o))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof wl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new wl;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof wl?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":const i=e.value;if(i){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class XL{encodeKey(e){return HD(e)}encodeValue(e){return HD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const JL=/%(\d[a-f0-9])/gi,e3={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function HD(n){return encodeURIComponent(n).replace(JL,(e,t)=>e3[t]??e)}function om(n){return`${n}`}class Ql{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new XL,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function QL(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,i)),e.decodeValue(o.slice(i+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],o=Array.isArray(r)?r.map(om):[om(r)];this.map.set(t,o)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(i=>{t.push({param:r,value:i,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Ql({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(om(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const o=r.indexOf(om(e.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class t3{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function zD(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function WD(n){return typeof Blob<"u"&&n instanceof Blob}function ZD(n){return typeof FormData<"u"&&n instanceof FormData}class kf{constructor(e,t,r,o){let i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function n3(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,i=o):i=r,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new wl),this.context||(this.context=new t3),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Ql,this.urlWithParams=t}serializeBody(){return null===this.body?null:zD(this.body)||WD(this.body)||ZD(this.body)||function r3(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ql?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ZD(this.body)?null:WD(this.body)?this.body.type||null:zD(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ql?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,o=e.responseType||this.responseType,i=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,f=e.params||this.params;const g=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((v,I)=>v.set(I,e.setHeaders[I]),u)),e.setParams&&(f=Object.keys(e.setParams).reduce((v,I)=>v.set(I,e.setParams[I]),f)),new kf(t,r,i,{params:f,headers:u,context:g,reportProgress:a,responseType:o,withCredentials:s})}}var Xo=(()=>((Xo=Xo||{})[Xo.Sent=0]="Sent",Xo[Xo.UploadProgress=1]="UploadProgress",Xo[Xo.ResponseHeader=2]="ResponseHeader",Xo[Xo.DownloadProgress=3]="DownloadProgress",Xo[Xo.Response=4]="Response",Xo[Xo.User=5]="User",Xo))();class rv{constructor(e,t=200,r="OK"){this.headers=e.headers||new wl,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class ov extends rv{constructor(e={}){super(e),this.type=Xo.ResponseHeader}clone(e={}){return new ov({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class im extends rv{constructor(e={}){super(e),this.type=Xo.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new im({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class qD extends rv{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function iv(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let sv=(()=>{class n{constructor(t){this.handler=t}request(t,r,o={}){let i;if(t instanceof kf)i=t;else{let u,f;u=o.headers instanceof wl?o.headers:new wl(o.headers),o.params&&(f=o.params instanceof Ql?o.params:new Ql({fromObject:o.params})),i=new kf(t,r,void 0!==o.body?o.body:null,{headers:u,context:o.context,params:f,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const s=_n(i).pipe(Xl(u=>this.handler.handle(u)));if(t instanceof kf||"events"===o.observe)return s;const a=s.pipe(Di(u=>u instanceof im));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(Ae(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(Ae(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(Ae(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(Ae(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Ql).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,iv(o,r))}post(t,r,o={}){return this.request("POST",t,iv(o,r))}put(t,r,o={}){return this.request("PUT",t,iv(o,r))}}return n.\u0275fac=function(t){return new(t||n)(se(rm))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})();function YD(n,e){return e(n)}function o3(n,e){return(t,r)=>e.intercept(t,{handle:o=>n(o,r)})}const s3=new Qt("HTTP_INTERCEPTORS"),xf=new Qt("HTTP_INTERCEPTOR_FNS");function a3(){let n=null;return(e,t)=>(null===n&&(n=(on(s3,{optional:!0})??[]).reduceRight(o3,YD)),n(e,t))}let KD=(()=>{class n extends rm{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(xf)));this.chain=r.reduceRight((o,i)=>function i3(n,e,t){return(r,o)=>t.runInContext(()=>e(r,i=>n(i,o)))}(o,i,this.injector),YD)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(se(nv),se(xa))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})();const d3=/^\)\]\}',?\n/;let QD=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new bt(r=>{const o=this.xhrFactory.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((k,K)=>o.setRequestHeader(k,K.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const k=t.detectContentTypeHeader();null!==k&&o.setRequestHeader("Content-Type",k)}if(t.responseType){const k=t.responseType.toLowerCase();o.responseType="json"!==k?k:"text"}const i=t.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const k=o.statusText||"OK",K=new wl(o.getAllResponseHeaders()),ye=function f3(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return s=new ov({headers:K,status:o.status,statusText:k,url:ye}),s},u=()=>{let{headers:k,status:K,statusText:ye,url:Ge}=a(),Ye=null;204!==K&&(Ye=typeof o.response>"u"?o.responseText:o.response),0===K&&(K=Ye?200:0);let vt=K>=200&&K<300;if("json"===t.responseType&&"string"==typeof Ye){const Ne=Ye;Ye=Ye.replace(d3,"");try{Ye=""!==Ye?JSON.parse(Ye):null}catch(Ot){Ye=Ne,vt&&(vt=!1,Ye={error:Ot,text:Ye})}}vt?(r.next(new im({body:Ye,headers:k,status:K,statusText:ye,url:Ge||void 0})),r.complete()):r.error(new qD({error:Ye,headers:k,status:K,statusText:ye,url:Ge||void 0}))},f=k=>{const{url:K}=a(),ye=new qD({error:k,status:o.status||0,statusText:o.statusText||"Unknown Error",url:K||void 0});r.error(ye)};let g=!1;const v=k=>{g||(r.next(a()),g=!0);let K={type:Xo.DownloadProgress,loaded:k.loaded};k.lengthComputable&&(K.total=k.total),"text"===t.responseType&&o.responseText&&(K.partialText=o.responseText),r.next(K)},I=k=>{let K={type:Xo.UploadProgress,loaded:k.loaded};k.lengthComputable&&(K.total=k.total),r.next(K)};return o.addEventListener("load",u),o.addEventListener("error",f),o.addEventListener("timeout",f),o.addEventListener("abort",f),t.reportProgress&&(o.addEventListener("progress",v),null!==i&&o.upload&&o.upload.addEventListener("progress",I)),o.send(i),r.next({type:Xo.Sent}),()=>{o.removeEventListener("error",f),o.removeEventListener("abort",f),o.removeEventListener("load",u),o.removeEventListener("timeout",f),t.reportProgress&&(o.removeEventListener("progress",v),null!==i&&o.upload&&o.upload.removeEventListener("progress",I)),o.readyState!==o.DONE&&o.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(se(_D))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})();const av=new Qt("XSRF_ENABLED"),JD="XSRF-TOKEN",e1=new Qt("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>JD}),t1="X-XSRF-TOKEN",n1=new Qt("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>t1});class r1{}let p3=(()=>{class n{constructor(t,r,o){this.doc=t,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=oD(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(se(ii),se(Vu),se(e1))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})();function h3(n,e){const t=n.url.toLowerCase();if(!on(av)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=on(r1).getToken(),o=on(n1);return null!=r&&!n.headers.has(o)&&(n=n.clone({headers:n.headers.set(o,r)})),e(n)}var $o=(()=>(($o=$o||{})[$o.Interceptors=0]="Interceptors",$o[$o.LegacyInterceptors=1]="LegacyInterceptors",$o[$o.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",$o[$o.NoXsrfProtection=3]="NoXsrfProtection",$o[$o.JsonpSupport=4]="JsonpSupport",$o[$o.RequestsMadeViaParent=5]="RequestsMadeViaParent",$o))();function Gu(n,e){return{\u0275kind:n,\u0275providers:e}}function m3(...n){const e=[sv,QD,KD,{provide:rm,useExisting:KD},{provide:nv,useExisting:QD},{provide:xf,useValue:h3,multi:!0},{provide:av,useValue:!0},{provide:r1,useClass:p3}];for(const t of n)e.push(...t.\u0275providers);return function GT(n){return{\u0275providers:n}}(e)}const o1=new Qt("LEGACY_INTERCEPTOR_FN");function _3({cookieName:n,headerName:e}){const t=[];return void 0!==n&&t.push({provide:e1,useValue:n}),void 0!==e&&t.push({provide:n1,useValue:e}),Gu($o.CustomXsrfConfiguration,t)}let y3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=vn({type:n}),n.\u0275inj=Er({providers:[m3(Gu($o.LegacyInterceptors,[{provide:o1,useFactory:a3},{provide:xf,useExisting:o1,multi:!0}]),_3({cookieName:JD,headerName:t1}))]}),n})();const{isArray:v3}=Array,{getPrototypeOf:b3,prototype:C3,keys:w3}=Object;function i1(n){if(1===n.length){const e=n[0];if(v3(e))return{args:e,keys:null};if(function S3(n){return n&&"object"==typeof n&&b3(n)===C3}(e)){const t=w3(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:E3}=Array;function lv(n){return Ae(e=>function D3(n,e){return E3(e)?n(...e):n(e)}(n,e))}function s1(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}let a1=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(S(hl),S(yt))},n.\u0275dir=Tt({type:n}),n})(),Nc=(()=>{class n extends a1{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=hi(n)))(r||n)}}(),n.\u0275dir=Tt({type:n,features:[wr]}),n})();const Qi=new Qt("NgValueAccessor"),x3={provide:Qi,useExisting:Oe(()=>cv),multi:!0},T3=new Qt("CompositionEventMode");let cv=(()=>{class n extends a1{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function M3(){const n=Na()?Na().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(S(hl),S(yt),S(T3,8))},n.\u0275dir=Tt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&st("input",function(i){return r._handleInput(i.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(i){return r._compositionEnd(i.target.value)})},features:[$r([x3]),wr]}),n})();function Jl(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function c1(n){return null!=n&&"number"==typeof n.length}const Gi=new Qt("NgValidators"),ec=new Qt("NgAsyncValidators"),P3=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Mf{static min(e){return function u1(n){return e=>{if(Jl(e.value)||Jl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function d1(n){return e=>{if(Jl(e.value)||Jl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function f1(n){return Jl(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function p1(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function h1(n){return Jl(n.value)||P3.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function m1(n){return e=>Jl(e.value)||!c1(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return g1(e)}static pattern(e){return function _1(n){if(!n)return sm;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Jl(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(e)}static nullValidator(e){return null}static compose(e){return S1(e)}static composeAsync(e){return E1(e)}}function g1(n){return e=>c1(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function sm(n){return null}function y1(n){return null!=n}function v1(n){return sf(n)?vr(n):n}function b1(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function C1(n,e){return e.map(t=>t(n))}function w1(n){return n.map(e=>function R3(n){return!n.validate}(e)?e:t=>e.validate(t))}function S1(n){if(!n)return null;const e=n.filter(y1);return 0==e.length?null:function(t){return b1(C1(t,e))}}function uv(n){return null!=n?S1(w1(n)):null}function E1(n){if(!n)return null;const e=n.filter(y1);return 0==e.length?null:function(t){return function I3(...n){const e=$s(n),{args:t,keys:r}=i1(n),o=new bt(i=>{const{length:s}=t;if(!s)return void i.complete();const a=new Array(s);let u=s,f=s;for(let g=0;g<s;g++){let v=!1;Rn(t[g]).subscribe(ge(i,I=>{v||(v=!0,f--),a[g]=I},()=>u--,void 0,()=>{(!u||!v)&&(f||i.next(r?s1(r,a):a),i.complete())}))}});return e?o.pipe(lv(e)):o}(C1(t,e).map(v1)).pipe(Ae(b1))}}function dv(n){return null!=n?E1(w1(n)):null}function D1(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function I1(n){return n._rawValidators}function k1(n){return n._rawAsyncValidators}function fv(n){return n?Array.isArray(n)?n:[n]:[]}function am(n,e){return Array.isArray(n)?n.includes(e):n===e}function x1(n,e){const t=fv(e);return fv(n).forEach(o=>{am(t,o)||t.push(o)}),t}function M1(n,e){return fv(e).filter(t=>!am(n,t))}class T1{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=uv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=dv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ji extends T1{get formDirective(){return null}get path(){return null}}class Sl extends T1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class A1{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let El=(()=>{class n extends A1{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(S(Sl,2))},n.\u0275dir=Tt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&_l("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[wr]}),n})(),Dl=(()=>{class n extends A1{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(S(Ji,10))},n.\u0275dir=Tt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&_l("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[wr]}),n})();const Tf="VALID",cm="INVALID",Hu="PENDING",Af="DISABLED";function gv(n){return(um(n)?n.validators:n)||null}function _v(n,e){return(um(e)?e.asyncValidators:n)||null}function um(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class O1{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Tf}get invalid(){return this.status===cm}get pending(){return this.status==Hu}get disabled(){return this.status===Af}get enabled(){return this.status!==Af}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(x1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(x1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(M1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(M1(e,this._rawAsyncValidators))}hasValidator(e){return am(this._rawValidators,e)}hasAsyncValidator(e){return am(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Hu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Af,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Tf,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Tf||this.status===Hu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Af:Tf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Hu,this._hasOwnPendingAsyncValidator=!0;const t=v1(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new xn,this.statusChanges=new xn}_calculateStatus(){return this._allControlsDisabled()?Af:this.errors?cm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Hu)?Hu:this._anyControlsHaveStatus(cm)?cm:Tf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){um(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function V3(n){return Array.isArray(n)?uv(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function U3(n){return Array.isArray(n)?dv(n):n||null}(this._rawAsyncValidators)}}class tc extends O1{constructor(e,t,r){super(gv(t),_v(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function F1(n,e,t){n._forEachChild((r,o)=>{if(void 0===t[o])throw new xe(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function R1(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new xe(1e3,"");if(!r[t])throw new xe(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,i)=>{r=t(r,o,i)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const dm=tc,zu=new Qt("CallSetDisabledState",{providedIn:"root",factory:()=>fm}),fm="always";function Pf(n,e,t=fm){yv(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function H3(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&N1(n,e)})}(n,e),function W3(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function z3(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&N1(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function G3(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function hm(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),gm(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function mm(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function yv(n,e){const t=I1(n);null!==e.validator?n.setValidators(D1(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=k1(n);null!==e.asyncValidator?n.setAsyncValidators(D1(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();mm(e._rawValidators,o),mm(e._rawAsyncValidators,o)}function gm(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=I1(n);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==e.validator);i.length!==o.length&&(t=!0,n.setValidators(i))}}if(null!==e.asyncValidator){const o=k1(n);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==e.asyncValidator);i.length!==o.length&&(t=!0,n.setAsyncValidators(i))}}}const r=()=>{};return mm(e._rawValidators,r),mm(e._rawAsyncValidators,r),t}function N1(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function B1(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function V1(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const _s=class extends O1{constructor(e=null,t,r){super(gv(t),_v(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),um(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=V1(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){B1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){B1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){V1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},gi=_s;let Il=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Tt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),W1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=vn({type:n}),n.\u0275inj=Er({}),n})();const Sv=new Qt("NgModelWithFormControlWarning"),s$={provide:Ji,useExisting:Oe(()=>fa)};let fa=(()=>{class n extends Ji{constructor(t,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new xn,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(gm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Pf(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){hm(t.control||null,t,!1),function K3(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function $1(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(hm(r||null,t),(n=>n instanceof _s)(o)&&(Pf(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function L1(n,e){yv(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Z3(n,e){return gm(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){yv(this.form,this),this._oldForm&&gm(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(S(Gi,10),S(ec,10),S(zu,8))},n.\u0275dir=Tt({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&st("submit",function(i){return r.onSubmit(i)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$r([s$]),wr,Ho]}),n})();const c$={provide:Sl,useExisting:Oe(()=>Ba)};let Ba=(()=>{class n extends Sl{set isDisabled(t){}constructor(t,r,o,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new xn,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function Cv(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(i=>{i.constructor===cv?t=i:function Y3(n){return Object.getPrototypeOf(n.constructor)===Nc}(i)?r=i:o=i}),o||r||t||null}(0,i)}ngOnChanges(t){this._added||this._setUpControl(),function bv(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function pm(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(S(Ji,13),S(Gi,10),S(ec,10),S(Qi,10),S(Sv,8))},n.\u0275dir=Tt({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[$r([c$]),wr,Ho]}),n})();let Lc=(()=>{class n{constructor(){this._validator=sm}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):sm,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Tt({type:n,features:[Ho]}),n})();const w$={provide:Gi,useExisting:Oe(()=>Mv),multi:!0};let Mv=(()=>{class n extends Lc{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function J1(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>g1(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=hi(n)))(r||n)}}(),n.\u0275dir=Tt({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&Aa("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[$r([w$]),wr]}),n})(),aI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=vn({type:n}),n.\u0275inj=Er({imports:[W1]}),n})(),$c=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:zu,useValue:t.callSetDisabledState??fm}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=vn({type:n}),n.\u0275inj=Er({imports:[aI]}),n})(),_m=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Sv,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:zu,useValue:t.callSetDisabledState??fm}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=vn({type:n}),n.\u0275inj=Er({imports:[aI]}),n})();const D$=["addListener","removeListener"],I$=["addEventListener","removeEventListener"],k$=["on","off"];function Ff(n,e,t,r){if(D(t)&&(r=t,t=void 0),r)return Ff(n,e,t).pipe(lv(r));const[o,i]=function T$(n){return D(n.addEventListener)&&D(n.removeEventListener)}(n)?I$.map(s=>a=>n[s](e,a,t)):function x$(n){return D(n.addListener)&&D(n.removeListener)}(n)?D$.map(lI(n,e)):function M$(n){return D(n.on)&&D(n.off)}(n)?k$.map(lI(n,e)):[];if(!o&&fo(n))return yr(s=>Ff(s,e,t))(Rn(n));if(!o)throw new TypeError("Invalid event target");return new bt(s=>{const a=(...u)=>s.next(1<u.length?u:u[0]);return o(a),()=>i(a)})}function lI(n,e){return t=>r=>n[t](e,r)}class Fs extends et{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const ym=l(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function cI(...n){const e=Bo(n),t=$s(n),{args:r,keys:o}=i1(n);if(0===r.length)return vr([],e);const i=new bt(function A$(n,e,t=ee){return r=>{uI(e,()=>{const{length:o}=n,i=new Array(o);let s=o,a=o;for(let u=0;u<o;u++)uI(e,()=>{const f=vr(n[u],e);let g=!1;f.subscribe(ge(r,v=>{i[u]=v,g||(g=!0,a--),a||r.next(t(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,o?s=>s1(o,s):ee));return t?i.pipe(lv(t)):i}function uI(n,e,t){n?yo(t,n,e):e()}function Of(...n){return function P$(){return ti(1)}()(vr(n,Bo(n)))}function vm(n){return new bt(e=>{Rn(n()).subscribe(e)})}function Wu(n,e){const t=D(n)?n:()=>n,r=o=>o.error(t());return new bt(e?o=>e.schedule(r,0,o):r)}function Tv(){return Z((n,e)=>{let t=null;n._refCount++;const r=ge(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,i=t;t=null,o&&(!i||o===i)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Av extends bt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Ve(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new H;const t=this.getSubject();e.add(this.source.subscribe(ge(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=H.EMPTY)}return e}refCount(){return Tv()(this)}}function Ii(n,e){return Z((t,r)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&r.complete();t.subscribe(ge(r,u=>{o?.unsubscribe();let f=0;const g=i++;Rn(n(u,g)).subscribe(o=ge(r,v=>r.next(e?e(u,v,g,f++):v),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Os(n){return n<=0?()=>po:Z((e,t)=>{let r=0;e.subscribe(ge(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function dI(...n){const e=Bo(n);return Z((t,r)=>{(e?Of(n,t,e):Of(n,t)).subscribe(r)})}function bm(n){return Z((e,t)=>{let r=!1;e.subscribe(ge(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function fI(n=R$){return Z((e,t)=>{let r=!1;e.subscribe(ge(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function R$(){return new ym}function kl(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Di((o,i)=>n(o,i,r)):ee,Os(1),t?bm(e):fI(()=>new ym))}function ki(n,e,t){const r=D(n)||e||t?{next:n,error:e,complete:t}:n;return r?Z((o,i)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;o.subscribe(ge(i,u=>{var f;null===(f=r.next)||void 0===f||f.call(r,u),i.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),i.complete()},u=>{var f;a=!1,null===(f=r.error)||void 0===f||f.call(r,u),i.error(u)},()=>{var u,f;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(f=r.finalize)||void 0===f||f.call(r)}))}):ee}function xl(n){return Z((e,t)=>{let i,r=null,o=!1;r=e.subscribe(ge(t,void 0,void 0,s=>{i=Rn(n(s,xl(n)(e))),r?(r.unsubscribe(),r=null,i.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(t))})}function F$(n,e,t,r,o){return(i,s)=>{let a=t,u=e,f=0;i.subscribe(ge(s,g=>{const v=f++;u=a?n(u,g,v):(a=!0,g),r&&s.next(u)},o&&(()=>{a&&s.next(u),s.complete()})))}}function pI(n,e){return Z(F$(n,e,arguments.length>=2,!0))}function Pv(n){return n<=0?()=>po:Z((e,t)=>{let r=[];e.subscribe(ge(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function hI(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Di((o,i)=>n(o,i,r)):ee,Pv(1),t?bm(e):fI(()=>new ym))}function Rv(n){return Ae(()=>n)}function Fv(n){return Z((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const $n="primary",Nf=Symbol("RouteTitle");class N${constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Zu(n){return new N$(n)}function L$(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let i=0;i<r.length;i++){const s=r[i],a=n[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Va(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let i=0;i<t.length;i++)if(o=t[i],!mI(n[o],e[o]))return!1;return!0}function mI(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,i)=>r[i]===o)}return n===e}function gI(n){return Array.prototype.concat.apply([],n)}function _I(n){return n.length>0?n[n.length-1]:null}function xi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function nc(n){return j_(n)?n:sf(n)?vr(Promise.resolve(n)):_n(n)}const Cm=!1,B$={exact:function bI(n,e,t){if(!Vc(n.segments,e.segments)||!wm(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!bI(n.children[r],e.children[r],t))return!1;return!0},subset:CI},yI={exact:function V$(n,e){return Va(n,e)},subset:function U$(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>mI(n[t],e[t]))},ignored:()=>!0};function vI(n,e,t){return B$[t.paths](n.root,e.root,t.matrixParams)&&yI[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function CI(n,e,t){return wI(n,e,e.segments,t)}function wI(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!Vc(o,t)||e.hasChildren()||!wm(o,t,r))}if(n.segments.length===t.length){if(!Vc(n.segments,t)||!wm(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!CI(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),i=t.slice(n.segments.length);return!!(Vc(n.segments,o)&&wm(n.segments,o,r)&&n.children[$n])&&wI(n.children[$n],e,i,r)}}function wm(n,e,t){return e.every((r,o)=>yI[t](n[o].parameters,r.parameters))}class Bc{constructor(e=new Jn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zu(this.queryParams)),this._queryParamMap}toString(){return H$.serialize(this)}}class Jn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,xi(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Sm(this)}}class Lf{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Zu(this.parameters)),this._parameterMap}toString(){return DI(this)}}function Vc(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let qu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:function(){return new Ov},providedIn:"root"}),n})();class Ov{parse(e){const t=new J$(e);return new Bc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${$f(e.root,!0)}`,r=function Z$(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${Em(t)}=${Em(o)}`).join("&"):`${Em(t)}=${Em(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function z$(n){return encodeURI(n)}(e.fragment)}`:""}`}}const H$=new Ov;function Sm(n){return n.segments.map(e=>DI(e)).join("/")}function $f(n,e){if(!n.hasChildren())return Sm(n);if(e){const t=n.children[$n]?$f(n.children[$n],!1):"",r=[];return xi(n.children,(o,i)=>{i!==$n&&r.push(`${i}:${$f(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function G$(n,e){let t=[];return xi(n.children,(r,o)=>{o===$n&&(t=t.concat(e(r,o)))}),xi(n.children,(r,o)=>{o!==$n&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===$n?[$f(n.children[$n],!1)]:[`${o}:${$f(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[$n]?`${Sm(n)}/${t[0]}`:`${Sm(n)}/(${t.join("//")})`}}function SI(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Em(n){return SI(n).replace(/%3B/gi,";")}function Nv(n){return SI(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dm(n){return decodeURIComponent(n)}function EI(n){return Dm(n.replace(/\+/g,"%20"))}function DI(n){return`${Nv(n.path)}${function W$(n){return Object.keys(n).map(e=>`;${Nv(e)}=${Nv(n[e])}`).join("")}(n.parameters)}`}const q$=/^[^\/()?;=#]+/;function Im(n){const e=n.match(q$);return e?e[0]:""}const Y$=/^[^=?&#]+/,X$=/^[^&#]+/;class J${constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Jn([],{}):new Jn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[$n]=new Jn(e,t)),r}parseSegment(){const e=Im(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new xe(4009,Cm);return this.capture(e),new Lf(Dm(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Im(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=Im(this.remaining);o&&(r=o,this.capture(r))}e[Dm(t)]=Dm(r)}parseQueryParam(e){const t=function K$(n){const e=n.match(Y$);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function Q$(n){const e=n.match(X$);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const o=EI(t),i=EI(r);if(e.hasOwnProperty(o)){let s=e[o];Array.isArray(s)||(s=[s],e[o]=s),s.push(i)}else e[o]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Im(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new xe(4010,Cm);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=$n);const s=this.parseChildren();t[i]=1===Object.keys(s).length?s[$n]:new Jn([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new xe(4011,Cm)}}function Lv(n){return n.segments.length>0?new Jn([],{[$n]:n}):n}function km(n){const e={};for(const r of Object.keys(n.children)){const i=km(n.children[r]);(i.segments.length>0||i.hasChildren())&&(e[r]=i)}return function e4(n){if(1===n.numberOfChildren&&n.children[$n]){const e=n.children[$n];return new Jn(n.segments.concat(e.segments),e.children)}return n}(new Jn(n.segments,e))}function Uc(n){return n instanceof Bc}function r4(n,e,t,r,o){if(0===t.length)return Yu(e.root,e.root,e.root,r,o);const i=function xI(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new kI(!0,0,n);let e=0,t=!1;const r=n.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return xi(i.outlets,(u,f)=>{a[f]="string"==typeof u?u.split("/"):u}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new kI(t,e,r)}(t);return i.toRoot()?Yu(e.root,e.root,new Jn([],{}),r,o):function s(u){const f=function i4(n,e,t,r){if(n.isAbsolute)return new Ku(e.root,!0,0);if(-1===r)return new Ku(t,t===e.root,0);return function MI(n,e,t){let r=n,o=e,i=t;for(;i>o;){if(i-=o,r=r.parent,!r)throw new xe(4005,!1);o=r.segments.length}return new Ku(r,!1,o-i)}(t,r+(Bf(n.commands[0])?0:1),n.numberOfDoubleDots)}(i,e,n.snapshot?._urlSegment,u),g=f.processChildren?Xu(f.segmentGroup,f.index,i.commands):Bv(f.segmentGroup,f.index,i.commands);return Yu(e.root,f.segmentGroup,g,r,o)}(n.snapshot?._lastPathIndex)}function Bf(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Vf(n){return"object"==typeof n&&null!=n&&n.outlets}function Yu(n,e,t,r,o){let s,i={};r&&xi(r,(u,f)=>{i[f]=Array.isArray(u)?u.map(g=>`${g}`):`${u}`}),s=n===e?t:II(n,e,t);const a=Lv(km(s));return new Bc(a,i,o)}function II(n,e,t){const r={};return xi(n.children,(o,i)=>{r[i]=o===e?t:II(o,e,t)}),new Jn(n.segments,r)}class kI{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Bf(r[0]))throw new xe(4003,!1);const o=r.find(Vf);if(o&&o!==_I(r))throw new xe(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ku{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Bv(n,e,t){if(n||(n=new Jn([],{})),0===n.segments.length&&n.hasChildren())return Xu(n,e,t);const r=function a4(n,e,t){let r=0,o=e;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return i;const s=n.segments[o],a=t[r];if(Vf(a))break;const u=`${a}`,f=r<t.length-1?t[r+1]:null;if(o>0&&void 0===u)break;if(u&&f&&"object"==typeof f&&void 0===f.outlets){if(!AI(u,f,s))return i;r+=2}else{if(!AI(u,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const i=new Jn(n.segments.slice(0,r.pathIndex),{});return i.children[$n]=new Jn(n.segments.slice(r.pathIndex),n.children),Xu(i,0,o)}return r.match&&0===o.length?new Jn(n.segments,{}):r.match&&!n.hasChildren()?Vv(n,e,t):r.match?Xu(n,0,o):Vv(n,e,t)}function Xu(n,e,t){if(0===t.length)return new Jn(n.segments,{});{const r=function s4(n){return Vf(n[0])?n[0].outlets:{[$n]:n}}(t),o={};return!r[$n]&&n.children[$n]&&1===n.numberOfChildren&&0===n.children[$n].segments.length?Xu(n.children[$n],e,t):(xi(r,(i,s)=>{"string"==typeof i&&(i=[i]),null!==i&&(o[s]=Bv(n.children[s],e,i))}),xi(n.children,(i,s)=>{void 0===r[s]&&(o[s]=i)}),new Jn(n.segments,o))}}function Vv(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const i=t[o];if(Vf(i)){const u=l4(i.outlets);return new Jn(r,u)}if(0===o&&Bf(t[0])){r.push(new Lf(n.segments[e].path,TI(t[0]))),o++;continue}const s=Vf(i)?i.outlets[$n]:`${i}`,a=o<t.length-1?t[o+1]:null;s&&a&&Bf(a)?(r.push(new Lf(s,TI(a))),o+=2):(r.push(new Lf(s,{})),o++)}return new Jn(r,{})}function l4(n){const e={};return xi(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Vv(new Jn([],{}),0,t))}),e}function TI(n){const e={};return xi(n,(t,r)=>e[r]=`${t}`),e}function AI(n,e,t){return n==t.path&&Va(e,t.parameters)}const Uf="imperative";class Ua{constructor(e,t){this.id=e,this.url=t}}class xm extends Ua{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class jc extends Ua{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Mm extends Ua{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class PI extends Ua{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=16}}class RI extends Ua{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class c4 extends Ua{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class u4 extends Ua{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class d4 extends Ua{constructor(e,t,r,o,i){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class f4 extends Ua{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class p4 extends Ua{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class h4{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class m4{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class g4{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _4{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class y4{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class v4{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class FI{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let C4=(()=>{class n{createUrlTree(t,r,o,i,s,a){return r4(t||r.root,o,i,s,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})(),w4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:function(e){return C4.\u0275fac(e)},providedIn:"root"}),n})();class OI{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Uv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Uv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=jv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return jv(e,this._root).map(t=>t.value)}}function Uv(n,e){if(n===e.value)return e;for(const t of e.children){const r=Uv(n,t);if(r)return r}return null}function jv(n,e){if(n===e.value)return[e];for(const t of e.children){const r=jv(n,t);if(r.length)return r.unshift(e),r}return[]}class Ml{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Qu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class NI extends OI{constructor(e,t){super(e),this.snapshot=t,Gv(this,e)}toString(){return this.snapshot.toString()}}function LI(n,e){const t=function S4(n,e){const s=new Tm([],{},{},"",{},$n,e,null,n.root,-1,{});return new BI("",new Ml(s,[]))}(n,e),r=new Fs([new Lf("",{})]),o=new Fs({}),i=new Fs({}),s=new Fs({}),a=new Fs(""),u=new Tl(r,o,s,a,i,$n,e,t.root);return u.snapshot=t.root,new NI(new Ml(u,[]),t)}class Tl{constructor(e,t,r,o,i,s,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.title=this.data?.pipe(Ae(f=>f[Nf]))??_n(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ae(e=>Zu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ae(e=>Zu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $I(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],i=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(i.component)break;r--}}return function E4(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Tm{get title(){return this.data?.[Nf]}constructor(e,t,r,o,i,s,a,u,f,g,v){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=u,this._urlSegment=f,this._lastPathIndex=g,this._resolve=v}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Zu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class BI extends OI{constructor(e,t){super(t),this.url=e,Gv(this,t)}toString(){return VI(this._root)}}function Gv(n,e){e.value._routerState=n,e.children.forEach(t=>Gv(n,t))}function VI(n){const e=n.children.length>0?` { ${n.children.map(VI).join(", ")} } `:"";return`${n.value}${e}`}function Hv(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Va(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Va(e.params,t.params)||n.params.next(t.params),function $$(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Va(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Va(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function zv(n,e){const t=Va(n.params,e.params)&&function j$(n,e){return Vc(n,e)&&n.every((t,r)=>Va(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||zv(n.parent,e.parent))}function jf(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function I4(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return jf(n,r,o);return jf(n,r)})}(n,e,t);return new Ml(r,o)}{if(n.shouldAttach(e.value)){const i=n.retrieve(e.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>jf(n,a)),s}}const r=function k4(n){return new Tl(new Fs(n.url),new Fs(n.params),new Fs(n.queryParams),new Fs(n.fragment),new Fs(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(i=>jf(n,i));return new Ml(r,o)}}const Wv="ngNavigationCancelingError";function UI(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Uc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=jI(!1,0,e);return o.url=t,o.navigationBehaviorOptions=r,o}function jI(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Wv]=!0,r.cancellationCode=e,t&&(r.url=t),r}function GI(n){return HI(n)&&Uc(n.url)}function HI(n){return n&&n[Wv]}class x4{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Gc,this.attachRef=null}}let Gc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new x4,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Am=!1;let zI=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=$n,this.activateEvents=new xn,this.deactivateEvents=new xn,this.attachEvents=new xn,this.detachEvents=new xn,this.parentContexts=on(Gc),this.location=on(ji),this.changeDetector=on(Mt),this.environmentInjector=on(xa)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new xe(4012,Am);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new xe(4012,Am);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new xe(4012,Am);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new xe(4013,Am);this._activatedRoute=t;const o=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new M4(t,a,o.injector);if(r&&function T4(n){return!!n.resolveComponentFactory}(r)){const f=r.resolveComponentFactory(s);this.activated=o.createComponent(f,o.length,u)}else this.activated=o.createComponent(s,{index:o.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Tt({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ho]}),n})();class M4{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Tl?this.route:e===Gc?this.childContexts:this.parent.get(e,t)}}let Zv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=nt({type:n,selectors:[["ng-component"]],standalone:!0,features:[TS],decls:1,vars:0,template:function(t,r){1&t&&ct(0,"router-outlet")},dependencies:[zI],encapsulation:2}),n})();function WI(n,e){return n.providers&&!n._injector&&(n._injector=Ph(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Yv(n){const e=n.children&&n.children.map(Yv),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==$n&&(t.component=Zv),t}function Ys(n){return n.outlet||$n}function ZI(n,e){const t=n.filter(r=>Ys(r)===e);return t.push(...n.filter(r=>Ys(r)!==e)),t}function Gf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class O4{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Hv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Qu(t);e.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),xi(o,(i,s)=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(e,t,r){const o=e.value,i=t?t.value:null;if(o===i)if(o.component){const s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else i&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,i=Qu(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,i=Qu(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Qu(t);e.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new v4(i.value.snapshot))}),e.children.length&&this.forwardEvent(new _4(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,i=t?t.value:null;if(Hv(o),o===i)if(o.component){const s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Hv(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Gf(o.snapshot),u=a?.get(pl)??null;s.attachRef=null,s.route=o,s.resolver=u,s.injector=a,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class qI{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Pm{constructor(e,t){this.component=e,this.route=t}}function N4(n,e,t){const r=n._root;return Hf(r,e?e._root:null,t,[r.value])}function Ju(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function va(n){return null!==Ss(n)}(n)?e.get(n):n:r}function Hf(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=Qu(e);return n.children.forEach(s=>{(function $4(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const u=function B4(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Vc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Vc(n.url,e.url)||!Va(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zv(n,e)||!Va(n.queryParams,e.queryParams);default:return!zv(n,e)}}(s,i,i.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new qI(r)):(i.data=s.data,i._resolvedData=s._resolvedData),Hf(n,e,i.component?a?a.children:null:t,r,o),u&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Pm(a.outlet.component,s))}else s&&zf(e,a,o),o.canActivateChecks.push(new qI(r)),Hf(n,null,i.component?a?a.children:null:t,r,o)})(s,i[s.value.outlet],t,r.concat([s.value]),o),delete i[s.value.outlet]}),xi(i,(s,a)=>zf(s,t.getContext(a),o)),o}function zf(n,e,t){const r=Qu(n),o=n.value;xi(r,(i,s)=>{zf(i,o.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new Pm(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function Wf(n){return"function"==typeof n}function Kv(n){return n instanceof ym||"EmptyError"===n?.name}const Rm=Symbol("INITIAL_VALUE");function ed(){return Ii(n=>cI(n.map(e=>e.pipe(Os(1),dI(Rm)))).pipe(Ae(e=>{for(const t of e)if(!0!==t){if(t===Rm)return Rm;if(!1===t||t instanceof Bc)return t}return!0}),Di(e=>e!==Rm),Os(1)))}function YI(n){return function Ue(...n){return Qe(n)}(ki(e=>{if(Uc(e))throw UI(0,e)}),Ae(e=>!0===e))}const Xv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function KI(n,e,t,r,o){const i=Qv(n,e,t);return i.matched?function nB(n,e,t,r){const o=e.canMatch;return o&&0!==o.length?_n(o.map(s=>{const a=Ju(s,n);return nc(function z4(n){return n&&Wf(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(ed(),YI()):_n(!0)}(r=WI(e,r),e,t).pipe(Ae(s=>!0===s?i:{...Xv})):_n(i)}function Qv(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Xv}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||L$)(t,n,e);if(!o)return{...Xv};const i={};xi(o.posParams,(a,u)=>{i[u]=a.path});const s=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function Fm(n,e,t,r){if(t.length>0&&function iB(n,e,t){return t.some(r=>Om(n,e,r)&&Ys(r)!==$n)}(n,t,r)){const i=new Jn(e,function oB(n,e,t,r){const o={};o[$n]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const i of t)if(""===i.path&&Ys(i)!==$n){const s=new Jn([],{});s._sourceSegment=n,s._segmentIndexShift=e.length,o[Ys(i)]=s}return o}(n,e,r,new Jn(t,n.children)));return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===t.length&&function sB(n,e,t){return t.some(r=>Om(n,e,r))}(n,t,r)){const i=new Jn(n.segments,function rB(n,e,t,r,o){const i={};for(const s of r)if(Om(n,t,s)&&!o[Ys(s)]){const a=new Jn([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,i[Ys(s)]=a}return{...o,...i}}(n,e,t,r,n.children));return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}const o=new Jn(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function Om(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function XI(n,e,t,r){return!!(Ys(n)===r||r!==$n&&Om(e,t,n))&&("**"===n.path||Qv(e,n,t).matched)}function QI(n,e,t){return 0===e.length&&!n.children[t]}const Nm=!1;class Lm{constructor(e){this.segmentGroup=e||null}}class JI{constructor(e){this.urlTree=e}}function Zf(n){return Wu(new Lm(n))}function ek(n){return Wu(new JI(n))}class uB{constructor(e,t,r,o,i){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=i,this.allowRedirects=!0}apply(){const e=Fm(this.urlTree.root,[],[],this.config).segmentGroup,t=new Jn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,$n).pipe(Ae(i=>this.createUrlTree(km(i),this.urlTree.queryParams,this.urlTree.fragment))).pipe(xl(i=>{if(i instanceof JI)return this.allowRedirects=!1,this.match(i.urlTree);throw i instanceof Lm?this.noMatchError(i):i}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,$n).pipe(Ae(o=>this.createUrlTree(km(o),e.queryParams,e.fragment))).pipe(xl(o=>{throw o instanceof Lm?this.noMatchError(o):o}))}noMatchError(e){return new xe(4002,Nm)}createUrlTree(e,t,r){const o=Lv(e);return new Bc(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(Ae(i=>new Jn([],i))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const i of Object.keys(r.children))"primary"===i?o.unshift(i):o.push(i);return vr(o).pipe(Xl(i=>{const s=r.children[i],a=ZI(t,i);return this.expandSegmentGroup(e,a,s,i).pipe(Ae(u=>({segment:u,outlet:i})))}),pI((i,s)=>(i[s.outlet]=s.segment,i),{}),hI())}expandSegment(e,t,r,o,i,s){return vr(r).pipe(Xl(a=>this.expandSegmentAgainstRoute(e,t,r,a,o,i,s).pipe(xl(f=>{if(f instanceof Lm)return _n(null);throw f}))),kl(a=>!!a),xl((a,u)=>{if(Kv(a))return QI(t,o,i)?_n(new Jn([],{})):Zf(t);throw a}))}expandSegmentAgainstRoute(e,t,r,o,i,s,a){return XI(o,t,i,s)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,i,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s):Zf(t):Zf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const i=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?ek(i):this.lineralizeSegments(r,i).pipe(yr(s=>{const a=new Jn(s,{});return this.expandSegment(e,a,t,s,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s){const{matched:a,consumedSegments:u,remainingSegments:f,positionalParamSegments:g}=Qv(t,o,i);if(!a)return Zf(t);const v=this.applyRedirectCommands(u,o.redirectTo,g);return o.redirectTo.startsWith("/")?ek(v):this.lineralizeSegments(o,v).pipe(yr(I=>this.expandSegment(e,t,r,I.concat(f),s,!1)))}matchSegmentAgainstRoute(e,t,r,o,i){return"**"===r.path?(e=WI(r,e),r.loadChildren?(r._loadedRoutes?_n({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(Ae(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new Jn(o,{})))):_n(new Jn(o,{}))):KI(t,r,o,e).pipe(Ii(({matched:s,consumedSegments:a,remainingSegments:u})=>s?this.getChildConfig(e=r._injector??e,r,o).pipe(yr(g=>{const v=g.injector??e,I=g.routes,{segmentGroup:k,slicedSegments:K}=Fm(t,a,u,I),ye=new Jn(k.segments,k.children);if(0===K.length&&ye.hasChildren())return this.expandChildren(v,I,ye).pipe(Ae(Ne=>new Jn(a,Ne)));if(0===I.length&&0===K.length)return _n(new Jn(a,{}));const Ge=Ys(r)===i;return this.expandSegment(v,ye,I,K,Ge?$n:i,!0).pipe(Ae(vt=>new Jn(a.concat(vt.segments),vt.children)))})):Zf(t)))}getChildConfig(e,t,r){return t.children?_n({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?_n({routes:t._loadedRoutes,injector:t._loadedInjector}):function tB(n,e,t,r){const o=e.canLoad;return void 0===o||0===o.length?_n(!0):_n(o.map(s=>{const a=Ju(s,n);return nc(function U4(n){return n&&Wf(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(ed(),YI())}(e,t,r).pipe(yr(o=>o?this.configLoader.loadChildren(e,t).pipe(ki(i=>{t._loadedRoutes=i.routes,t._loadedInjector=i.injector})):function lB(n){return Wu(jI(Nm,3))}())):_n({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return _n(r);if(o.numberOfChildren>1||!o.children[$n])return Wu(new xe(4e3,Nm));o=o.children[$n]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,o){const i=this.createSegmentGroup(e,t.root,r,o);return new Bc(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return xi(e,(o,i)=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,o){const i=this.createSegments(e,t.segments,r,o);let s={};return xi(t.children,(a,u)=>{s[u]=this.createSegmentGroup(e,a,r,o)}),new Jn(i,s)}createSegments(e,t,r,o){return t.map(i=>i.path.startsWith(":")?this.findPosParam(e,i,o):this.findOrReturn(i,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new xe(4001,Nm);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}class fB{}class mB{constructor(e,t,r,o,i,s,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=o,this.url=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a}recognize(){const e=Fm(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,$n).pipe(Ae(t=>{if(null===t)return null;const r=new Tm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},$n,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Ml(r,t),i=new BI(this.url,o);return this.inheritParamsAndData(i._root),i}))}inheritParamsAndData(e){const t=e.value,r=$I(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,o)}processChildren(e,t,r){return vr(Object.keys(r.children)).pipe(Xl(o=>{const i=r.children[o],s=ZI(t,o);return this.processSegmentGroup(e,s,i,o)}),pI((o,i)=>o&&i?(o.push(...i),o):null),function O$(n,e=!1){return Z((t,r)=>{let o=0;t.subscribe(ge(r,i=>{const s=n(i,o++);(s||e)&&r.next(i),!s&&r.complete()}))})}(o=>null!==o),bm(null),hI(),Ae(o=>{if(null===o)return null;const i=nk(o);return function gB(n){n.sort((e,t)=>e.value.outlet===$n?-1:t.value.outlet===$n?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}))}processSegment(e,t,r,o,i){return vr(t).pipe(Xl(s=>this.processSegmentAgainstRoute(s._injector??e,s,r,o,i)),kl(s=>!!s),xl(s=>{if(Kv(s))return QI(r,o,i)?_n([]):_n(null);throw s}))}processSegmentAgainstRoute(e,t,r,o,i){if(t.redirectTo||!XI(t,r,o,i))return _n(null);let s;if("**"===t.path){const a=o.length>0?_I(o).parameters:{},u=ok(r)+o.length;s=_n({snapshot:new Tm(o,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ik(t),Ys(t),t.component??t._loadedComponent??null,t,rk(r),u,sk(t)),consumedSegments:[],remainingSegments:[]})}else s=KI(r,t,o,e).pipe(Ae(({matched:a,consumedSegments:u,remainingSegments:f,parameters:g})=>{if(!a)return null;const v=ok(r)+u.length;return{snapshot:new Tm(u,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ik(t),Ys(t),t.component??t._loadedComponent??null,t,rk(r),v,sk(t)),consumedSegments:u,remainingSegments:f}}));return s.pipe(Ii(a=>{if(null===a)return _n(null);const{snapshot:u,consumedSegments:f,remainingSegments:g}=a;e=t._injector??e;const v=t._loadedInjector??e,I=function _B(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:k,slicedSegments:K}=Fm(r,f,g,I.filter(Ge=>void 0===Ge.redirectTo));if(0===K.length&&k.hasChildren())return this.processChildren(v,I,k).pipe(Ae(Ge=>null===Ge?null:[new Ml(u,Ge)]));if(0===I.length&&0===K.length)return _n([new Ml(u,[])]);const ye=Ys(t)===i;return this.processSegment(v,I,k,K,ye?$n:i).pipe(Ae(Ge=>null===Ge?null:[new Ml(u,Ge)]))}))}}function yB(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function nk(n){const e=[],t=new Set;for(const r of n){if(!yB(r)){e.push(r);continue}const o=e.find(i=>r.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=nk(r.children);e.push(new Ml(r.value,o))}return e.filter(r=>!t.has(r))}function rk(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ok(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function ik(n){return n.data||{}}function sk(n){return n.resolve||{}}function ak(n){return"string"==typeof n.title||null===n.title}function Jv(n){return Ii(e=>{const t=n(e);return t?vr(t).pipe(Ae(()=>e)):_n(e)})}const td=new Qt("ROUTES");let eb=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return _n(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=nc(t.loadComponent()).pipe(Ae(ck),ki(i=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=i}),Fv(()=>{this.componentLoaders.delete(t)})),o=new Av(r,()=>new et).pipe(Tv());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return _n({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const i=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Ae(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,f,g=!1;Array.isArray(a)?f=a:(u=a.create(t).injector,f=gI(u.get(td,[],dn.Self|dn.Optional)));return{routes:f.map(Yv),injector:u}}),Fv(()=>{this.childrenLoaders.delete(r)})),s=new Av(i,()=>new et).pipe(Tv());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(t){return nc(t()).pipe(Ae(ck),yr(o=>o instanceof xS||Array.isArray(o)?_n(o):vr(this.compiler.compileModuleAsync(o))))}}return n.\u0275fac=function(t){return new(t||n)(se(wo),se(_E))},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ck(n){return function kB(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Bm=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new et,this.configLoader=on(eb),this.environmentInjector=on(xa),this.urlSerializer=on(qu),this.rootContexts=on(Gc),this.navigationId=0,this.afterPreactivation=()=>_n(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new m4(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new h4(o))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Fs({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Uf,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Di(r=>0!==r.id),Ae(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Ii(r=>{let o=!1,i=!1;return _n(r).pipe(ki(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ii(s=>{const a=t.browserUrlTree.toString(),u=!t.navigated||s.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!u&&"reload"!==(s.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const g="";return this.events.next(new PI(s.id,t.serializeUrl(r.rawUrl),g,0)),t.rawUrlTree=s.rawUrl,s.resolve(null),po}if(t.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return uk(s.source)&&(t.browserUrlTree=s.extractedUrl),_n(s).pipe(Ii(g=>{const v=this.transitions?.getValue();return this.events.next(new xm(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),v!==this.transitions?.getValue()?po:Promise.resolve(g)}),function dB(n,e,t,r){return Ii(o=>function cB(n,e,t,r,o){return new uB(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe(Ae(i=>({...o,urlAfterRedirects:i}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),ki(g=>{this.currentNavigation={...this.currentNavigation,finalUrl:g.urlAfterRedirects},r.urlAfterRedirects=g.urlAfterRedirects}),function bB(n,e,t,r,o){return yr(i=>function hB(n,e,t,r,o,i,s="emptyOnly"){return new mB(n,e,t,r,o,s,i).recognize().pipe(Ii(a=>null===a?function pB(n){return new bt(e=>e.error(n))}(new fB):_n(a)))}(n,e,t,i.urlAfterRedirects,r.serialize(i.urlAfterRedirects),r,o).pipe(Ae(s=>({...i,targetSnapshot:s}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),ki(g=>{if(r.targetSnapshot=g.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!g.extras.skipLocationChange){const I=t.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl);t.setBrowserUrl(I,g)}t.browserUrlTree=g.urlAfterRedirects}const v=new c4(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(v)}));if(u&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:g,extractedUrl:v,source:I,restoredState:k,extras:K}=s,ye=new xm(g,this.urlSerializer.serialize(v),I,k);this.events.next(ye);const Ge=LI(v,this.rootComponentType).snapshot;return _n(r={...s,targetSnapshot:Ge,urlAfterRedirects:v,extras:{...K,skipLocationChange:!1,replaceUrl:!1}})}{const g="";return this.events.next(new PI(s.id,t.serializeUrl(r.extractedUrl),g,1)),t.rawUrlTree=s.rawUrl,s.resolve(null),po}}),ki(s=>{const a=new u4(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Ae(s=>r={...s,guards:N4(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function Z4(n,e){return yr(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=t;return 0===s.length&&0===i.length?_n({...t,guardsResult:!0}):function q4(n,e,t,r){return vr(n).pipe(yr(o=>function eB(n,e,t,r,o){const i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return i&&0!==i.length?_n(i.map(a=>{const u=Gf(e)??o,f=Ju(a,u);return nc(function H4(n){return n&&Wf(n.canDeactivate)}(f)?f.canDeactivate(n,e,t,r):u.runInContext(()=>f(n,e,t,r))).pipe(kl())})).pipe(ed()):_n(!0)}(o.component,o.route,t,e,r)),kl(o=>!0!==o,!0))}(s,r,o,n).pipe(yr(a=>a&&function V4(n){return"boolean"==typeof n}(a)?function Y4(n,e,t,r){return vr(e).pipe(Xl(o=>Of(function X4(n,e){return null!==n&&e&&e(new g4(n)),_n(!0)}(o.route.parent,r),function K4(n,e){return null!==n&&e&&e(new y4(n)),_n(!0)}(o.route,r),function J4(n,e,t){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(s=>function L4(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>vm(()=>_n(s.guards.map(u=>{const f=Gf(s.node)??t,g=Ju(u,f);return nc(function G4(n){return n&&Wf(n.canActivateChild)}(g)?g.canActivateChild(r,n):f.runInContext(()=>g(r,n))).pipe(kl())})).pipe(ed())));return _n(i).pipe(ed())}(n,o.path,t),function Q4(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return _n(!0);const o=r.map(i=>vm(()=>{const s=Gf(e)??t,a=Ju(i,s);return nc(function j4(n){return n&&Wf(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(kl())}));return _n(o).pipe(ed())}(n,o.route,t))),kl(o=>!0!==o,!0))}(r,i,n,e):_n(a)),Ae(a=>({...t,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),ki(s=>{if(r.guardsResult=s.guardsResult,Uc(s.guardsResult))throw UI(0,s.guardsResult);const a=new d4(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Di(s=>!!s.guardsResult||(t.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),Jv(s=>{if(s.guards.canActivateChecks.length)return _n(s).pipe(ki(a=>{const u=new f4(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Ii(a=>{let u=!1;return _n(a).pipe(function CB(n,e){return yr(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return _n(t);let i=0;return vr(o).pipe(Xl(s=>function wB(n,e,t,r){const o=n.routeConfig,i=n._resolve;return void 0!==o?.title&&!ak(o)&&(i[Nf]=o.title),function SB(n,e,t,r){const o=function EB(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return _n({});const i={};return vr(o).pipe(yr(s=>function DB(n,e,t,r){const o=Gf(e)??r,i=Ju(n,o);return nc(i.resolve?i.resolve(e,t):o.runInContext(()=>i(e,t)))}(n[s],e,t,r).pipe(kl(),ki(a=>{i[s]=a}))),Pv(1),Rv(i),xl(s=>Kv(s)?po:Wu(s)))}(i,n,e,r).pipe(Ae(s=>(n._resolvedData=s,n.data=$I(n,t).resolve,o&&ak(o)&&(n.data[Nf]=o.title),null)))}(s.route,r,n,e)),ki(()=>i++),Pv(1),yr(s=>i===o.length?_n(t):po))})}(t.paramsInheritanceStrategy,this.environmentInjector),ki({next:()=>u=!0,complete:()=>{u||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),ki(a=>{const u=new p4(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Jv(s=>{const a=u=>{const f=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(u.routeConfig).pipe(ki(g=>{u.component=g}),Ae(()=>{})));for(const g of u.children)f.push(...a(g));return f};return cI(a(s.targetSnapshot.root)).pipe(bm(),Os(1))}),Jv(()=>this.afterPreactivation()),Ae(s=>{const a=function D4(n,e,t){const r=jf(n,e._root,t?t._root:void 0);return new NI(r,e)}(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return r={...s,targetRouterState:a}}),ki(s=>{t.currentUrlTree=s.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),t.routerState=s.targetRouterState,"deferred"===t.urlUpdateStrategy&&(s.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,s),t.browserUrlTree=s.urlAfterRedirects)}),((n,e,t)=>Ae(r=>(new O4(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s)),ki({next:s=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new jc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{o=!0}}),Fv(()=>{o||i||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),xl(s=>{if(i=!0,HI(s)){GI(s)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new Mm(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode);if(this.events.next(a),GI(s)){const u=t.urlHandlingStrategy.merge(s.url,t.rawUrlTree),f={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||uk(r.source)};t.scheduleNavigation(u,Uf,null,f,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new RI(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(s))}catch(u){r.reject(u)}}return po}))}))}cancelNavigationTransition(t,r,o){const i=new Mm(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(i),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function uk(n){return n!==Uf}let dk=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===$n);return r}getResolvedTitleForRoute(t){return t.data[Nf]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:function(){return on(xB)},providedIn:"root"}),n})(),xB=(()=>{class n extends dk{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(se(LD))},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:function(){return on(TB)},providedIn:"root"}),n})();class MB{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let TB=(()=>{class n extends MB{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=hi(n)))(r||n)}}(),n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Vm=new Qt("",{providedIn:"root",factory:()=>({})});let PB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:function(){return on(RB)},providedIn:"root"}),n})(),RB=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function FB(n){throw n}function OB(n,e,t){return e.parse("/")}const NB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},LB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Qo=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=on($2),this.isNgZoneEnabled=!1,this.options=on(Vm,{optional:!0})||{},this.errorHandler=this.options.errorHandler||FB,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||OB,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=on(PB),this.routeReuseStrategy=on(fk),this.urlCreationStrategy=on(w4),this.titleStrategy=on(dk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=gI(on(td,{optional:!0})??[]),this.navigationTransitions=on(Bm),this.urlSerializer=on(qu),this.location=on(Cf),this.isNgZoneEnabled=on(ut)instanceof ut&&ut.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Bc,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=LI(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Uf,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,o){const i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){const u={...o};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(i.state=u)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Yv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,f=u?this.currentUrlTree.fragment:s;let g=null;switch(a){case"merge":g={...this.currentUrlTree.queryParams,...i};break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=i||null}return null!==g&&(g=this.removeEmptyProps(g)),this.urlCreationStrategy.createUrlTree(o,this.routerState,this.currentUrlTree,t,g,f??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Uc(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,Uf,null,r)}navigate(t,r={skipLocationChange:!1}){return function $B(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new xe(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...NB}:!1===r?{...LB}:r,Uc(t))return vI(this.currentUrlTree,t,o);const i=this.parseUrl(t);return vI(this.currentUrlTree,i,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const i=t[o];return null!=i&&(r[o]=i),r},{})}scheduleNavigation(t,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,u,f,g;return s?(a=s.resolve,u=s.reject,f=s.promise):f=new Promise((v,I)=>{a=v,u=I}),g="computed"===this.canceledNavigationResolution?o&&o.\u0275routerPageId?o.\u0275routerPageId:i.replaceUrl||i.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:g,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:i,resolve:a,reject:u,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(v=>Promise.reject(v))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),i={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",i):this.location.go(o,"",i)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===o?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class hk{}let UB=(()=>{class n{preload(t,r){return r().pipe(xl(()=>_n(null)))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jB=(()=>{class n{constructor(t,r,o,i,s){this.router=t,this.injector=o,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Di(t=>t instanceof jc),Xl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const i of r){i.providers&&!i._injector&&(i._injector=Ph(i.providers,t,`Route: ${i.path}`));const s=i._injector??t,a=i._loadedInjector??s;i.loadChildren&&!i._loadedRoutes&&void 0===i.canLoad||i.loadComponent&&!i._loadedComponent?o.push(this.preloadConfig(s,i)):(i.children||i._loadedRoutes)&&o.push(this.processRoutes(a,i.children??i._loadedRoutes))}return vr(o).pipe(ti())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):_n(null);const i=o.pipe(yr(s=>null===s?_n(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?vr([i,this.loader.loadComponent(r)]).pipe(ti()):i})}}return n.\u0275fac=function(t){return new(t||n)(se(Qo),se(_E),se(xa),se(hk),se(eb))},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const tb=new Qt("");let mk=(()=>{class n{constructor(t,r,o,i,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof xm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof jc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof FI&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new FI(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function FC(){throw new Error("invalid")}()},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})();function Hc(n,e){return{\u0275kind:n,\u0275providers:e}}function _k(){const n=on(wo);return e=>{const t=n.get(Zl);if(e!==t.components[0])return;const r=n.get(Qo),o=n.get(yk);1===n.get(rb)&&r.initialNavigation(),n.get(vk,null,dn.Optional)?.setUpPreloading(),n.get(tb,null,dn.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.unsubscribe())}}const yk=new Qt("",{factory:()=>new et}),rb=new Qt("",{providedIn:"root",factory:()=>1});const vk=new Qt("");function ZB(n){return Hc(0,[{provide:vk,useExisting:jB},{provide:hk,useExisting:n}])}const bk=new Qt("ROUTER_FORROOT_GUARD"),qB=[Cf,{provide:qu,useClass:Ov},Qo,Gc,{provide:Tl,useFactory:function gk(n){return n.routerState.root},deps:[Qo]},eb,[]];function YB(){return new EE("Router",Qo)}let Um=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[qB,[],{provide:td,multi:!0,useValue:t},{provide:bk,useFactory:JB,deps:[[Qo,new jd,new Gd]]},{provide:Vm,useValue:r||{}},r?.useHash?{provide:La,useClass:qE}:{provide:La,useClass:ZE},{provide:tb,useFactory:()=>{const n=on(UN),e=on(ut),t=on(Vm),r=on(Bm),o=on(qu);return t.scrollOffset&&n.setOffset(t.scrollOffset),new mk(o,r,n,e,t)}},r?.preloadingStrategy?ZB(r.preloadingStrategy).\u0275providers:[],{provide:EE,multi:!0,useFactory:YB},r?.initialNavigation?eV(r):[],[{provide:Ck,useFactory:_k},{provide:gE,multi:!0,useExisting:Ck}]]}}static forChild(t){return{ngModule:n,providers:[{provide:td,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(se(bk,8))},n.\u0275mod=vn({type:n}),n.\u0275inj=Er({imports:[Zv]}),n})();function JB(n){return"guarded"}function eV(n){return["disabled"===n.initialNavigation?Hc(3,[{provide:Rc,multi:!0,useFactory:()=>{const e=on(Qo);return()=>{e.setUpLocationChangeListener()}}},{provide:rb,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Hc(2,[{provide:rb,useValue:0},{provide:Rc,multi:!0,deps:[wo],useFactory:e=>{const t=e.get(SO,Promise.resolve());return()=>t.then(()=>new Promise(o=>{const i=e.get(Qo),s=e.get(yk);(function r(o){e.get(Qo).events.pipe(Di(s=>s instanceof jc||s instanceof Mm||s instanceof RI),Ae(s=>s instanceof jc||s instanceof Mm&&(0===s.code||1===s.code)&&null),Di(s=>null!==s),Os(1)).subscribe(()=>{o()})})(()=>{o(!0)}),e.get(Bm).afterPreactivation=()=>(o(!0),s.closed?_n(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const Ck=new Qt("");T(5933),T(9078),T(4199),T(8759);var ob=T(5823),rd=T(9259),Kf=T(609),Xf=(T(7351),T(7580)),wk=(T(2286),T(6379),T(1559));function Ek(n,e=ee){return n=n??rV,Z((t,r)=>{let o,i=!0;t.subscribe(ge(r,s=>{const a=e(s);(i||!n(o,a))&&(i=!1,o=a,r.next(s))}))})}function rV(n,e){return n===e}const iV=ob.i,Nt=["*"],lV=["outlet"],cV=[[["","slot","top"]],"*"],uV=["[slot=top]","*"],Dk=n=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(n):"function"==typeof requestAnimationFrame?requestAnimationFrame(n):setTimeout(n),Ik=n=>!!n.resolveComponentFactory;let Qf=(()=>{class n{constructor(t,r){this.injector=t,this.el=r,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(t){this.el.nativeElement.value=this.lastValue=t??"",od(this.el)}handleChangeEvent(t,r){t===this.el.nativeElement&&(r!==this.lastValue&&(this.lastValue=r,this.onChange(r)),od(this.el))}_handleBlurEvent(t){t===this.el.nativeElement&&(this.onTouched(),od(this.el))}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.el.nativeElement.disabled=t}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let t;try{t=this.injector.get(Sl)}catch{}if(!t)return;t.statusChanges&&(this.statusChanges=t.statusChanges.subscribe(()=>od(this.el)));const r=t.control;r&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(i=>{if(typeof r[i]<"u"){const s=r[i].bind(r);r[i]=(...a)=>{s(...a),od(this.el)}}})}}return n.\u0275fac=function(t){return new(t||n)(S(wo),S(yt))},n.\u0275dir=Tt({type:n,hostBindings:function(t,r){1&t&&st("ionBlur",function(i){return r._handleBlurEvent(i.target)})}}),n})();const od=n=>{Dk(()=>{const e=n.nativeElement,t=null!=e.value&&e.value.toString().length>0,r=pV(e);ib(e,r);const o=e.closest("ion-item");o&&ib(o,t?[...r,"item-has-value"]:r)})},pV=n=>{const e=n.classList,t=[];for(let r=0;r<e.length;r++){const o=e.item(r);null!==o&&hV(o,"ng-")&&t.push(`ion-${o.substring(3)}`)}return t},ib=(n,e)=>{const t=n.classList;t.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),t.add(...e)},hV=(n,e)=>n.substring(0,e.length)===e;let id=(()=>{class n extends Qf{constructor(t,r){super(t,r)}writeValue(t){this.el.nativeElement.checked=this.lastValue=t??!1,od(this.el)}_handleIonChange(t){this.handleChangeEvent(t,t.checked)}}return n.\u0275fac=function(t){return new(t||n)(S(wo),S(yt))},n.\u0275dir=Tt({type:n,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(t,r){1&t&&st("ionChange",function(i){return r._handleIonChange(i.target)})},features:[$r([{provide:Qi,useExisting:n,multi:!0}]),wr]}),n})(),Jf=(()=>{class n extends Qf{constructor(t,r){super(t,r)}_handleChangeEvent(t){this.handleChangeEvent(t,t.value)}}return n.\u0275fac=function(t){return new(t||n)(S(wo),S(yt))},n.\u0275dir=Tt({type:n,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(t,r){1&t&&st("ionChange",function(i){return r._handleChangeEvent(i.target)})},features:[$r([{provide:Qi,useExisting:n,multi:!0}]),wr]}),n})(),Al=(()=>{class n extends Qf{constructor(t,r){super(t,r)}_handleInputEvent(t){this.handleChangeEvent(t,t.value)}}return n.\u0275fac=function(t){return new(t||n)(S(wo),S(yt))},n.\u0275dir=Tt({type:n,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(t,r){1&t&&st("ionChange",function(i){return r._handleInputEvent(i.target)})},features:[$r([{provide:Qi,useExisting:n,multi:!0}]),wr]}),n})();const _V=(n,e)=>{const t=n.prototype;e.forEach(r=>{Object.defineProperty(t,r,{get(){return this.el[r]},set(o){this.z.runOutsideAngular(()=>this.el[r]=o)}})})},yV=(n,e)=>{const t=n.prototype;e.forEach(r=>{t[r]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,o))}})},xr=(n,e,t)=>{t.forEach(r=>n[r]=Ff(e,r))};function Ft(n){return function(t){const{defineCustomElementFn:r,inputs:o,methods:i}=n;return void 0!==r&&r(),o&&_V(t,o),i&&yV(t,i),t}}let kk=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(Mt),S(yt),S(ut))},n.\u0275cmp=nt({type:n,selectors:[["ion-app"]],ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),Pt(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0})],n),n})(),xk=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(Mt),S(yt),S(ut))},n.\u0275cmp=nt({type:n,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),Pt(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],n),n})(),es=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,xr(this,this.el,["ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(S(Mt),S(yt),S(ut))},n.\u0275cmp=nt({type:n,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),Pt(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],n),n})(),ts=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(Mt),S(yt),S(ut))},n.\u0275cmp=nt({type:n,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),Pt(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["collapse"]})],n),n})(),Mk=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,xr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(S(Mt),S(yt),S(ut))},n.\u0275cmp=nt({type:n,selectors:[["ion-checkbox"]],inputs:{checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",mode:"mode",name:"name",value:"value"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),Pt(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["checked","color","disabled","indeterminate","mode","name","value"]})],n),n})(),ns=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,xr(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return n.\u0275fac=function(t){return new(t||n)(S(Mt),S(yt),S(ut))},n.\u0275cmp=nt({type:n,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),Pt(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],n),n})(),rs=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(Mt),S(yt),S(ut))},n.\u0275cmp=nt({type:n,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),Pt(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],n),n})(),_i=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(Mt),S(yt),S(ut))},n.\u0275cmp=nt({type:n,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),Pt(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],n),n})(),Pl=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,xr(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return n.\u0275fac=function(t){return new(t||n)(S(Mt),S(yt),S(ut))},n.\u0275cmp=nt({type:n,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),Pt(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],n),n})(),ai=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(Mt),S(yt),S(ut))},n.\u0275cmp=nt({type:n,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),Pt(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],n),n})(),jm=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(Mt),S(yt),S(ut))},n.\u0275cmp=nt({type:n,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),Pt(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],n),n})(),Gm=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,xr(this,this.el,["ionSwipe"])}};return n.\u0275fac=function(t){return new(t||n)(S(Mt),S(yt),S(ut))},n.\u0275cmp=nt({type:n,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),Pt(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["side"]})],n),n})(),Hm=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,xr(this,this.el,["ionDrag"])}};return n.\u0275fac=function(t){return new(t||n)(S(Mt),S(yt),S(ut))},n.\u0275cmp=nt({type:n,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),Pt(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],n),n})(),os=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(Mt),S(yt),S(ut))},n.\u0275cmp=nt({type:n,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),Pt(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],n),n})(),ja=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(Mt),S(yt),S(ut))},n.\u0275cmp=nt({type:n,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),Pt(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],n),n})(),Tk=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,xr(this,this.el,["ionNavWillChange","ionNavDidChange"])}};return n.\u0275fac=function(t){return new(t||n)(S(Mt),S(yt),S(ut))},n.\u0275cmp=nt({type:n,selectors:[["ion-nav"]],inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),Pt(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],n),n})(),sb=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,xr(this,this.el,["ionChange","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}};return n.\u0275fac=function(t){return new(t||n)(S(Mt),S(yt),S(ut))},n.\u0275cmp=nt({type:n,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),Pt(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["activeBarStart","color","debounce","disabled","dualKnobs","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],n),n})(),zm=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,xr(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(S(Mt),S(yt),S(ut))},n.\u0275cmp=nt({type:n,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),Pt(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],n),n})(),Wm=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(Mt),S(yt),S(ut))},n.\u0275cmp=nt({type:n,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),Pt(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["disabled","value"]})],n),n})(),ep=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(Mt),S(yt),S(ut))},n.\u0275cmp=nt({type:n,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),Pt(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["color","duration","name","paused"]})],n),n})(),ab=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(Mt),S(yt),S(ut))},n.\u0275cmp=nt({type:n,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),Pt(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["color","mode","selectedTab","translucent"]})],n),n})(),Ak=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(Mt),S(yt),S(ut))},n.\u0275cmp=nt({type:n,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),Pt(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],n),n})(),is=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(Mt),S(yt),S(ut))},n.\u0275cmp=nt({type:n,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),Pt(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["color","size"]})],n),n})(),tp=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,xr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(S(Mt),S(yt),S(ut))},n.\u0275cmp=nt({type:n,selectors:[["ion-toggle"]],inputs:{checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",mode:"mode",name:"name",value:"value"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),Pt(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["checked","color","disabled","enableOnOffLabels","mode","name","value"]})],n),n})(),ss=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(Mt),S(yt),S(ut))},n.\u0275cmp=nt({type:n,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Nt,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),Pt(0))},encapsulation:2,changeDetection:0}),n=U([Ft({defineCustomElementFn:void 0,inputs:["color","mode"]})],n),n})();class Pk{constructor(e={}){this.data=e}get(e){return this.data[e]}}let Zm=(()=>{class n{constructor(t,r){this.zone=t,this.appRef=r}create(t,r,o,i){return new gU(t,r,o,this.appRef,this.zone,i)}}return n.\u0275fac=function(t){return new(t||n)(se(ut),se(Zl))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})();class gU{constructor(e,t,r,o,i,s){this.resolverOrInjector=e,this.injector=t,this.location=r,this.appRef=o,this.zone=i,this.elementReferenceKey=s,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(e,t,r,o){return this.zone.run(()=>new Promise(i=>{const s=Object.assign({},r);void 0!==this.elementReferenceKey&&(s[this.elementReferenceKey]=e),i(_U(this.zone,this.resolverOrInjector,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,e,t,s,o))}))}removeViewFromDom(e,t){return this.zone.run(()=>new Promise(r=>{const o=this.elRefMap.get(t);if(o){o.destroy(),this.elRefMap.delete(t);const i=this.elEventsMap.get(t);i&&(i(),this.elEventsMap.delete(t))}r()}))}}const _U=(n,e,t,r,o,i,s,a,u,f,g)=>{let v;const I=wo.create({providers:vU(f),parent:t});if(e&&Ik(e)){const Ge=e.resolveComponentFactory(u);v=r?r.createComponent(Ge,r.length,I):Ge.create(I)}else{if(!r)return null;v=r.createComponent(u,{index:r.indexOf,injector:I,environmentInjector:e})}const k=v.instance,K=v.location.nativeElement;if(f&&Object.assign(k,f),g)for(const Ge of g)K.classList.add(Ge);const ye=Rk(n,k,K);return a.appendChild(K),r||o.attachView(v.hostView),v.changeDetectorRef.reattach(),i.set(K,v),s.set(K,ye),K},yU=[Kf.L,Kf.a,Kf.b,Kf.c,Kf.d],Rk=(n,e,t)=>n.run(()=>{const r=yU.filter(o=>"function"==typeof e[o]).map(o=>{const i=s=>e[o](s.detail);return t.addEventListener(o,i),()=>t.removeEventListener(o,i)});return()=>r.forEach(o=>o())}),Fk=new Qt("NavParamsToken"),vU=n=>[{provide:Fk,useValue:n},{provide:Pk,useFactory:bU,deps:[Fk]}],bU=n=>new Pk(n),Ok=(n,e)=>((n=n.filter(t=>t.stackId!==e.stackId)).push(e),n),lb=(n,e)=>{const t=n.createUrlTree(["."],{relativeTo:e});return n.serializeUrl(t)},DU=(n,e)=>{if(!n)return;const t=Nk(e);for(let r=0;r<t.length;r++){if(r>=n.length)return t[r];if(t[r]!==n[r])return}},Nk=n=>n.split("/").map(e=>e.trim()).filter(e=>""!==e),Lk=n=>{n&&(n.ref.destroy(),n.unlistenEvents())};class IU{constructor(e,t,r,o,i,s){this.containerEl=t,this.router=r,this.navCtrl=o,this.zone=i,this.location=s,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==e?Nk(e):void 0}createView(e,t){var r;const o=lb(this.router,t),i=null===(r=e?.location)||void 0===r?void 0:r.nativeElement,s=Rk(this.zone,e.instance,i);return{id:this.nextId++,stackId:DU(this.tabsPrefix,o),unlistenEvents:s,element:i,ref:e,url:o}}getExistingView(e){const t=lb(this.router,e),r=this.views.find(o=>o.url===t);return r&&r.ref.changeDetectorRef.reattach(),r}setActive(e){var t,r;const o=this.navCtrl.consumeTransition();let{direction:i,animation:s,animationBuilder:a}=o;const u=this.activeView,f=((n,e)=>!e||n.stackId!==e.stackId)(e,u);f&&(i="back",s=void 0);const g=this.views.slice();let v;const I=this.router;I.getCurrentNavigation?v=I.getCurrentNavigation():!(null===(t=I.navigations)||void 0===t)&&t.value&&(v=I.navigations.value),null!==(r=v?.extras)&&void 0!==r&&r.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const k=this.views.includes(e),K=this.insertView(e,i);k||e.ref.changeDetectorRef.detectChanges();const ye=e.animationBuilder;return void 0===a&&"back"===i&&!f&&void 0!==ye&&(a=ye),u&&(u.animationBuilder=a),this.zone.runOutsideAngular(()=>this.wait(()=>(u&&u.ref.changeDetectorRef.detach(),e.ref.changeDetectorRef.reattach(),this.transition(e,u,s,this.canGoBack(1),!1,a).then(()=>kU(e,K,g,this.location,this.zone)).then(()=>({enteringView:e,direction:i,animation:s,tabSwitch:f})))))}canGoBack(e,t=this.getActiveStackId()){return this.getStack(t).length>e}pop(e,t=this.getActiveStackId()){return this.zone.run(()=>{var r,o;const i=this.getStack(t);if(i.length<=e)return Promise.resolve(!1);const s=i[i.length-e-1];let a=s.url;const u=s.savedData;if(u){const g=u.get("primary");null!==(o=null===(r=g?.route)||void 0===r?void 0:r._routerState)&&void 0!==o&&o.snapshot.url&&(a=g.route._routerState.snapshot.url)}const{animationBuilder:f}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(a,Object.assign(Object.assign({},s.savedExtras),{animation:f})).then(()=>!0)})}startBackTransition(){const e=this.activeView;if(e){const t=this.getStack(e.stackId),r=t[t.length-2],o=r.animationBuilder;return this.wait(()=>this.transition(r,e,"back",this.canGoBack(2),!0,o))}return Promise.resolve()}endBackTransition(e){e?(this.skipTransition=!0,this.pop(1)):this.activeView&&$k(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(e){const t=this.getStack(e);return t.length>0?t[t.length-1]:void 0}getRootUrl(e){const t=this.getStack(e);return t.length>0?t[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Lk),this.activeView=void 0,this.views=[]}getStack(e){return this.views.filter(t=>t.stackId===e)}insertView(e,t){return this.activeView=e,this.views=((n,e,t)=>"root"===t?Ok(n,e):"forward"===t?((n,e)=>(n.indexOf(e)>=0?n=n.filter(r=>r.stackId!==e.stackId||r.id<=e.id):n.push(e),n))(n,e):((n,e)=>n.indexOf(e)>=0?n.filter(r=>r.stackId!==e.stackId||r.id<=e.id):Ok(n,e))(n,e))(this.views,e,t),this.views.slice()}transition(e,t,r,o,i,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(t===e)return Promise.resolve(!1);const a=e?e.element:void 0,u=t?t.element:void 0,f=this.containerEl;return a&&a!==u&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),a.parentElement!==f&&f.appendChild(a),f.commit)?f.commit(a,u,{deepWait:!0,duration:void 0===r?0:void 0,direction:r,showGoBack:o,progressAnimation:i,animationBuilder:s}):Promise.resolve(!1)}wait(e){return An(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const t=this.runningTask=e();return t.finally(()=>this.runningTask=void 0),t})}}const kU=(n,e,t,r,o)=>"function"==typeof requestAnimationFrame?new Promise(i=>{requestAnimationFrame(()=>{$k(n,e,t,r,o),i()})}):Promise.resolve(),$k=(n,e,t,r,o)=>{o.run(()=>t.filter(i=>!e.includes(i)).forEach(Lk)),e.forEach(i=>{const a=r.path().split("?")[0].split("#")[0];if(i!==n&&i.url!==a){const u=i.element;u.setAttribute("aria-hidden","true"),u.classList.add("ion-page-hidden"),i.ref.changeDetectorRef.detach()}})};let cb=(()=>{class n{get(t,r){const o=ub();return o?o.get(t,r):null}getBoolean(t,r){const o=ub();return!!o&&o.getBoolean(t,r)}getNumber(t,r){const o=ub();return o?o.getNumber(t,r):0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Bk=new Qt("USERCONFIG"),ub=()=>{if(typeof window<"u"){const n=window.Ionic;if(n?.config)return n.config}return null};let xU=(()=>{class n{constructor(t,r){this.doc=t,this.backButton=new et,this.keyboardDidShow=new et,this.keyboardDidHide=new et,this.pause=new et,this.resume=new et,this.resize=new et,r.run(()=>{var o;let i;this.win=t.defaultView,this.backButton.subscribeWithPriority=function(s,a){return this.subscribe(u=>u.register(s,f=>r.run(()=>a(f))))},sd(this.pause,t,"pause"),sd(this.resume,t,"resume"),sd(this.backButton,t,"ionBackButton"),sd(this.resize,this.win,"resize"),sd(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),sd(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(s=>{i=s}),null!==(o=this.win)&&void 0!==o&&o.cordova?t.addEventListener("deviceready",()=>{i("cordova")},{once:!0}):i("dom")})}is(t){return(0,ob.a)(this.win,t)}platforms(){return(0,ob.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(t){return MU(this.win.location.href,t)}isLandscape(){return!this.isPortrait()}isPortrait(){var t,r;return null===(r=(t=this.win).matchMedia)||void 0===r?void 0:r.call(t,"(orientation: portrait)").matches}testUserAgent(t){const r=this.win.navigator;return!!(r?.userAgent&&r.userAgent.indexOf(t)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return n.\u0275fac=function(t){return new(t||n)(se(ii),se(ut))},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const MU=(n,e)=>{e=e.replace(/[[\]\\]/g,"\\$&");const r=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(n);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null},sd=(n,e,t)=>{e&&e.addEventListener(t,r=>{n.next(r?.detail)})};let np=(()=>{class n{constructor(t,r,o,i){this.location=r,this.serializer=o,this.router=i,this.direction=Vk,this.animated=Uk,this.guessDirection="forward",this.lastNavId=-1,i&&i.events.subscribe(s=>{if(s instanceof xm){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=a<this.lastNavId?"back":"forward",this.guessAnimation=s.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?s.id:a}}),t.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(t,r={}){return this.setDirection("forward",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}navigateBack(t,r={}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}navigateRoot(t,r={}){return this.setDirection("root",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}back(t={animated:!0,animationDirection:"back"}){return this.setDirection("back",t.animated,t.animationDirection,t.animation),this.location.back()}pop(){return An(this,void 0,void 0,function*(){let t=this.topOutlet;for(;t&&!(yield t.pop());)t=t.parentOutlet})}setDirection(t,r,o,i){this.direction=t,this.animated=TU(t,r,o),this.animationBuilder=i}setTopOutlet(t){this.topOutlet=t}consumeTransition(){let r,t="root";const o=this.animationBuilder;return"auto"===this.direction?(t=this.guessDirection,r=this.guessAnimation):(r=this.animated,t=this.direction),this.direction=Vk,this.animated=Uk,this.animationBuilder=void 0,{direction:t,animation:r,animationBuilder:o}}navigate(t,r){if(Array.isArray(t))return this.router.navigate(t,r);{const o=this.serializer.parse(t.toString());return void 0!==r.queryParams&&(o.queryParams=Object.assign({},r.queryParams)),void 0!==r.fragment&&(o.fragment=r.fragment),this.router.navigateByUrl(o,r)}}}return n.\u0275fac=function(t){return new(t||n)(se(xU),se(Cf),se(qu),se(Qo,8))},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const TU=(n,e,t)=>{if(!1!==e){if(void 0!==t)return t;if("forward"===n||"back"===n)return n;if("root"===n&&!0===e)return"forward"}},Vk="auto",Uk=void 0;let rp=(()=>{class n{constructor(t,r,o,i,s,a,u,f,g,v,I,k,K){this.parentContexts=t,this.location=r,this.config=s,this.navCtrl=a,this.componentFactoryResolver=u,this.parentOutlet=K,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new Fs(null),this.stackEvents=new xn,this.activateEvents=new xn,this.deactivateEvents=new xn,this.nativeEl=g.nativeElement,this.name=o||$n,this.tabsPrefix="true"===i?lb(v,k):void 0,this.stackCtrl=new IU(this.tabsPrefix,this.nativeEl,v,a,I,f),t.onChildOutletCreated(this.name,this)}set animation(t){this.nativeEl.animation=t}set animated(t){this.nativeEl.animated=t}set swipeGesture(t){this._swipeGesture=t,this.nativeEl.swipeHandler=t?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:r=>this.stackCtrl.endBackTransition(r)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const t=this.getContext();t?.route&&this.activateWith(t.route,t.resolver||null)}new Promise(t=>(0,rd.c)(this.nativeEl,t)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(t,r){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const r=this.getContext();this.activatedView.savedData=new Map(r.children.contexts);const o=this.activatedView.savedData.get("primary");if(o&&r.route&&(o.route=Object.assign({},r.route)),this.activatedView.savedExtras={},r.route){const i=r.route.snapshot;this.activatedView.savedExtras.queryParams=i.queryParams,this.activatedView.savedExtras.fragment=i.fragment}}const t=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){var o;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;let i,s=this.stackCtrl.getExistingView(t);if(s){i=this.activated=s.ref;const a=s.savedData;a&&(this.getContext().children.contexts=a),this.updateActivatedRouteProxy(i.instance,t)}else{const a=t._futureSnapshot;if(null==a.routeConfig.component&&null==this.environmentInjector)return void console.warn('[Ionic Warning]: You must supply an environmentInjector to use standalone components with routing:\n\nIn your component class, add:\n\n   import { EnvironmentInjector } from \'@angular/core\';\n   constructor(public environmentInjector: EnvironmentInjector) {}\n\nIn your router outlet template, add:\n\n   <ion-router-outlet [environmentInjector]="environmentInjector"></ion-router-outlet>\n\nAlternatively, if you are routing within ion-tabs:\n\n   <ion-tabs [environmentInjector]="environmentInjector"></ion-tabs>');const u=this.parentContexts.getOrCreateContext(this.name).children,f=new Fs(null),g=this.createActivatedRouteProxy(f,t),v=new AU(g,u,this.location.injector),I=null!==(o=a.routeConfig.component)&&void 0!==o?o:a.component;if((r=r||this.componentFactoryResolver)&&Ik(r)){const k=r.resolveComponentFactory(I);i=this.activated=this.location.createComponent(k,this.location.length,v)}else i=this.activated=this.location.createComponent(I,{index:this.location.length,injector:v,environmentInjector:r??this.environmentInjector});f.next(i.instance),s=this.stackCtrl.createView(this.activated,t),this.proxyMap.set(i.instance,g),this.currentActivatedRoute$.next({component:i.instance,activatedRoute:t})}this.activatedView=s,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(s).then(a=>{this.activateEvents.emit(i.instance),this.stackEvents.emit(a)})}canGoBack(t=1,r){return this.stackCtrl.canGoBack(t,r)}pop(t=1,r){return this.stackCtrl.pop(t,r)}getLastUrl(t){const r=this.stackCtrl.getLastUrl(t);return r?r.url:void 0}getLastRouteView(t){return this.stackCtrl.getLastUrl(t)}getRootView(t){return this.stackCtrl.getRootUrl(t)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(t,r){const o=new Tl;return o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,o._paramMap=this.proxyObservable(t,"paramMap"),o._queryParamMap=this.proxyObservable(t,"queryParamMap"),o.url=this.proxyObservable(t,"url"),o.params=this.proxyObservable(t,"params"),o.queryParams=this.proxyObservable(t,"queryParams"),o.fragment=this.proxyObservable(t,"fragment"),o.data=this.proxyObservable(t,"data"),o}proxyObservable(t,r){return t.pipe(Di(o=>!!o),Ii(o=>this.currentActivatedRoute$.pipe(Di(i=>null!==i&&i.component===o),Ii(i=>i&&i.activatedRoute[r]),Ek())))}updateActivatedRouteProxy(t,r){const o=this.proxyMap.get(t);if(!o)throw new Error("Could not find activated route proxy for view");o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,this.currentActivatedRoute$.next({component:t,activatedRoute:r})}}return n.\u0275fac=function(t){return new(t||n)(S(Gc),S(ji),uu("name"),uu("tabs"),S(cb),S(np),S(pl,8),S(Cf),S(yt),S(Qo),S(ut),S(Tl),S(n,12))},n.\u0275dir=Tt({type:n,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",environmentInjector:"environmentInjector"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class AU{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Tl?this.route:e===Gc?this.childContexts:this.parent.get(e,t)}}let jk=(()=>{class n{constructor(t){this.navCtrl=t,this.ionTabsWillChange=new xn,this.ionTabsDidChange=new xn}onPageSelected(t){const r=t.enteringView.stackId;t.tabSwitch&&void 0!==r&&(this.ionTabsWillChange.emit({tab:r}),this.tabBar&&(this.tabBar.selectedTab=r),this.ionTabsDidChange.emit({tab:r}))}select(t){const r="string"==typeof t,o=r?t:t.detail.tab,i=this.outlet.getActiveStackId()===o,s=`${this.outlet.tabsPrefix}/${o}`;if(r||t.stopPropagation(),i){const a=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(a)?.url===s)return;const f=this.outlet.getRootView(o);return this.navCtrl.navigateRoot(s,Object.assign(Object.assign({},f&&s===f.url&&f.savedExtras),{animated:!0,animationDirection:"back"}))}{const a=this.outlet.getLastRouteView(o),f=a?.savedExtras;return this.navCtrl.navigateRoot(a?.url||s,Object.assign(Object.assign({},f),{animated:!0,animationDirection:"back"}))}}getSelected(){return this.outlet.getActiveStackId()}}return n.\u0275fac=function(t){return new(t||n)(S(np))},n.\u0275cmp=nt({type:n,selectors:[["ion-tabs"]],contentQueries:function(t,r,o){if(1&t&&function zl(n,e,t,r){const o=ur();if(o.firstCreatePass){const i=ln();qS(o,new zS(e,t,r),i.index),function _2(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(o,n),2==(2&t)&&(o.staticContentQueries=!0)}ZS(o,ht(),t)}(o,ab,5),2&t){let i;Ps(i=Rs())&&(r.tabBar=i.first)}},viewQuery:function(t,r){if(1&t&&Lu(lV,5,rp),2&t){let o;Ps(o=Rs())&&(r.outlet=o.first)}},hostBindings:function(t,r){1&t&&st("ionTabButtonClick",function(i){return r.select(i)})},inputs:{environmentInjector:"environmentInjector"},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:uV,decls:5,vars:1,consts:[[1,"tabs-inner"],["tabs","true",3,"environmentInjector","stackEvents"],["outlet",""]],template:function(t,r){1&t&&(Rt(cV),Pt(0),re(1,"div",0)(2,"ion-router-outlet",1,2),st("stackEvents",function(i){return r.onPageSelected(i)}),Q()(),Pt(4,1)),2&t&&(Ke(2),rt("environmentInjector",r.environmentInjector))},dependencies:[rp],styles:["[_nghost-%COMP%] {\n        display: flex;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n\n        flex-direction: column;\n\n        width: 100%;\n        height: 100%;\n\n        contain: layout size style;\n        z-index: $z-index-page-container;\n      }\n      .tabs-inner[_ngcontent-%COMP%] {\n        position: relative;\n\n        flex: 1;\n\n        contain: layout size style;\n      }"]}),n})(),Gk=(()=>{class n{constructor(t,r,o){this.routerOutlet=t,this.navCtrl=r,this.config=o}onClick(t){var r;const o=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(r=this.routerOutlet)&&void 0!==r&&r.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),t.preventDefault()):null!=o&&(this.navCtrl.navigateBack(o,{animation:this.routerAnimation}),t.preventDefault())}}return n.\u0275fac=function(t){return new(t||n)(S(rp,8),S(np),S(cb))},n.\u0275dir=Tt({type:n,selectors:[["ion-back-button"]],hostBindings:function(t,r){1&t&&st("click",function(i){return r.onClick(i)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),n})(),Hk=(()=>{let n=class{constructor(t,r,o,i,s){this.el=t.nativeElement,t.nativeElement.delegate=i.create(r,o,s),xr(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return n.\u0275fac=function(t){return new(t||n)(S(yt),S(pl),S(wo),S(Zm),S(ji))},n.\u0275dir=Tt({type:n,selectors:[["ion-nav"]]}),n=U([Ft({inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],n),n})();class op{constructor(e){this.ctrl=e}create(e){return this.ctrl.create(e||{})}dismiss(e,t,r){return this.ctrl.dismiss(e,t,r)}getTop(){return this.ctrl.getTop()}}let ip=(()=>{class n extends op{constructor(){super(Xf.b)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zc=(()=>{class n extends op{constructor(){super(Xf.a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rl=(()=>{class n extends op{constructor(){super(Xf.l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=mt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class qk{}let ys=(()=>{class n extends op{constructor(t,r,o,i){super(Xf.m),this.angularDelegate=t,this.resolver=r,this.injector=o,this.environmentInjector=i}create(t){var r;return super.create(Object.assign(Object.assign({},t),{delegate:this.angularDelegate.create(null!==(r=this.resolver)&&void 0!==r?r:this.environmentInjector,this.injector,void 0,"modal")}))}}return n.\u0275fac=function(t){return new(t||n)(se(Zm),se(pl),se(wo),se(qk,8))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})(),Wc=(()=>{class n extends op{constructor(t,r,o,i){super(Xf.c),this.angularDelegate=t,this.resolver=r,this.injector=o,this.environmentInjector=i}create(t){var r;return super.create(Object.assign(Object.assign({},t),{delegate:this.angularDelegate.create(null!==(r=this.resolver)&&void 0!==r?r:this.environmentInjector,this.injector,void 0,"popover")}))}}return n.\u0275fac=function(t){return new(t||n)(se(Zm),se(pl),se(wo),se(qk,8))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})();const BU=(n,e,t)=>()=>{if(e.defaultView&&typeof window<"u"){(n=>{const e=window,t=e.Ionic;t&&t.config&&"Object"!==t.config.constructor.name||(e.Ionic=e.Ionic||{},e.Ionic.config=Object.assign(Object.assign({},e.Ionic.config),n))})(Object.assign(Object.assign({},n),{_zoneGate:i=>t.run(i)}));const o="__zone_symbol__addEventListener"in e.body?"__zone_symbol__addEventListener":"addEventListener";return function oV(){var n=[];if(typeof window<"u"){var e=window;(!e.customElements||e.Element&&(!e.Element.prototype.closest||!e.Element.prototype.matches||!e.Element.prototype.remove||!e.Element.prototype.getRootNode))&&n.push(T.e(6748).then(T.t.bind(T,3314,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||e.NodeList&&!e.NodeList.prototype.forEach||!e.fetch||!function(){try{var r=new URL("b","http://a");return r.pathname="c%20d","http://a/c%20d"===r.href&&r.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&n.push(T.e(2214).then(T.t.bind(T,7320,23)))}return Promise.all(n)}().then(()=>((n,e)=>typeof window>"u"?Promise.resolve():(0,wk.p)().then(()=>(iV(),(0,wk.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"activated":[32]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),e))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Dk,jmp:i=>t.runOutsideAngular(i),ael(i,s,a,u){i[o](s,a,u)},rel(i,s,a,u){i.removeEventListener(s,a,u)}}))}};let rc=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:Bk,useValue:t},{provide:Rc,useFactory:BU,multi:!0,deps:[Bk,ii,ut]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=vn({type:n}),n.\u0275inj=Er({providers:[Zm,ys,Wc],imports:[[$a]]}),n})();let ad={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const Kk=/[&<>"']/,UU=new RegExp(Kk.source,"g"),Xk=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,jU=new RegExp(Xk.source,"g"),GU={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Qk=n=>GU[n];function Mi(n,e){if(e){if(Kk.test(n))return n.replace(UU,Qk)}else if(Xk.test(n))return n.replace(jU,Qk);return n}const HU=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function Jk(n){return n.replace(HU,(e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")}const zU=/(^|[^\[])\^/g;function Xr(n,e){n="string"==typeof n?n:n.source,e=e||"";const t={replace:(r,o)=>(o=(o=o.source||o).replace(zU,"$1"),n=n.replace(r,o),t),getRegex:()=>new RegExp(n,e)};return t}const WU=/[^\w:]/g,ZU=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function ex(n,e,t){if(n){let r;try{r=decodeURIComponent(Jk(t)).replace(WU,"").toLowerCase()}catch{return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}e&&!ZU.test(t)&&(t=function XU(n,e){qm[" "+n]||(qm[" "+n]=qU.test(n)?n+"/":Km(n,"/",!0));const t=-1===(n=qm[" "+n]).indexOf(":");return"//"===e.substring(0,2)?t?e:n.replace(YU,"$1")+e:"/"===e.charAt(0)?t?e:n.replace(KU,"$1")+e:n+e}(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const qm={},qU=/^[^:]+:\/*[^/]*$/,YU=/^([^:]+:)[\s\S]*$/,KU=/^([^:]+:\/*[^/]*)[\s\S]*$/,Ym={exec:function(){}};function pa(n){let t,r,e=1;for(;e<arguments.length;e++)for(r in t=arguments[e],t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function tx(n,e){const r=n.replace(/\|/g,(i,s,a)=>{let u=!1,f=s;for(;--f>=0&&"\\"===a[f];)u=!u;return u?"|":" |"}).split(/ \|/);let o=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;o<r.length;o++)r[o]=r[o].trim().replace(/\\\|/g,"|");return r}function Km(n,e,t){const r=n.length;if(0===r)return"";let o=0;for(;o<r;){const i=n.charAt(r-o-1);if(i!==e||t){if(i===e||!t)break;o++}else o++}return n.slice(0,r-o)}function nx(n){n&&n.sanitize&&!n.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function rx(n,e){if(e<1)return"";let t="";for(;e>1;)1&e&&(t+=n),e>>=1,n+=n;return t+n}function ox(n,e,t,r){const o=e.href,i=e.title?Mi(e.title):null,s=n[1].replace(/\\([\[\]])/g,"$1");if("!"!==n[0].charAt(0)){r.state.inLink=!0;const a={type:"link",raw:t,href:o,title:i,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,a}return{type:"image",raw:t,href:o,title:i,text:Mi(s)}}class db{constructor(e){this.options=e||ad}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const r=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Km(r,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const r=t[0],o=function JU(n,e){const t=n.match(/^(\s+)(?:```)/);if(null===t)return e;const r=t[1];return e.split("\n").map(o=>{const i=o.match(/^\s+/);if(null===i)return o;const[s]=i;return s.length>=r.length?o.slice(r.length):o}).join("\n")}(r,t[3]||"");return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:o}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(/#$/.test(r)){const o=Km(r,"#");(this.options.pedantic||!o||/ $/.test(o))&&(r=o.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const r=t[0].replace(/^ *>[ \t]?/gm,""),o=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(r);return this.lexer.state.top=o,{type:"blockquote",raw:t[0],tokens:i,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r,o,i,s,a,u,f,g,v,I,k,K,ye=t[1].trim();const Ge=ye.length>1,Ye={type:"list",raw:"",ordered:Ge,start:Ge?+ye.slice(0,-1):"",loose:!1,items:[]};ye=Ge?`\\d{1,9}\\${ye.slice(-1)}`:`\\${ye}`,this.options.pedantic&&(ye=Ge?ye:"[*+-]");const vt=new RegExp(`^( {0,3}${ye})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;e&&(K=!1,(t=vt.exec(e))&&!this.rules.block.hr.test(e));){if(r=t[0],e=e.substring(r.length),g=t[2].split("\n",1)[0].replace(/^\t+/,Ot=>" ".repeat(3*Ot.length)),v=e.split("\n",1)[0],this.options.pedantic?(s=2,k=g.trimLeft()):(s=t[2].search(/[^ ]/),s=s>4?1:s,k=g.slice(s),s+=t[1].length),u=!1,!g&&/^ *$/.test(v)&&(r+=v+"\n",e=e.substring(v.length+1),K=!0),!K){const Ot=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),Cn=new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Wn=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),Cs=new RegExp(`^ {0,${Math.min(3,s-1)}}#`);for(;e&&(I=e.split("\n",1)[0],v=I,this.options.pedantic&&(v=v.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Wn.test(v)||Cs.test(v)||Ot.test(v)||Cn.test(e)));){if(v.search(/[^ ]/)>=s||!v.trim())k+="\n"+v.slice(s);else{if(u||g.search(/[^ ]/)>=4||Wn.test(g)||Cs.test(g)||Cn.test(g))break;k+="\n"+v}!u&&!v.trim()&&(u=!0),r+=I+"\n",e=e.substring(I.length+1),g=v.slice(s)}}Ye.loose||(f?Ye.loose=!0:/\n *\n *$/.test(r)&&(f=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(k),o&&(i="[ ] "!==o[0],k=k.replace(/^\[[ xX]\] +/,""))),Ye.items.push({type:"list_item",raw:r,task:!!o,checked:i,loose:!1,text:k}),Ye.raw+=r}Ye.items[Ye.items.length-1].raw=r.trimRight(),Ye.items[Ye.items.length-1].text=k.trimRight(),Ye.raw=Ye.raw.trimRight();const Ne=Ye.items.length;for(a=0;a<Ne;a++)if(this.lexer.state.top=!1,Ye.items[a].tokens=this.lexer.blockTokens(Ye.items[a].text,[]),!Ye.loose){const Ot=Ye.items[a].tokens.filter(Wn=>"space"===Wn.type),Cn=Ot.length>0&&Ot.some(Wn=>/\n.*\n/.test(Wn.raw));Ye.loose=Cn}if(Ye.loose)for(a=0;a<Ne;a++)Ye.items[a].loose=!0;return Ye}}html(e){const t=this.rules.block.html.exec(e);if(t){const r={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){const o=this.options.sanitizer?this.options.sanitizer(t[0]):Mi(t[0]);r.type="paragraph",r.text=o,r.tokens=this.lexer.inline(o)}return r}}def(e){const t=this.rules.block.def.exec(e);if(t){const r=t[1].toLowerCase().replace(/\s+/g," "),o=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:o,title:i}}}table(e){const t=this.rules.block.table.exec(e);if(t){const r={type:"table",header:tx(t[1]).map(o=>({text:o})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(r.header.length===r.align.length){r.raw=t[0];let i,s,a,u,o=r.align.length;for(i=0;i<o;i++)r.align[i]=/^ *-+: *$/.test(r.align[i])?"right":/^ *:-+: *$/.test(r.align[i])?"center":/^ *:-+ *$/.test(r.align[i])?"left":null;for(o=r.rows.length,i=0;i<o;i++)r.rows[i]=tx(r.rows[i],r.header.length).map(f=>({text:f}));for(o=r.header.length,s=0;s<o;s++)r.header[s].tokens=this.lexer.inline(r.header[s].text);for(o=r.rows.length,s=0;s<o;s++)for(u=r.rows[s],a=0;a<u.length;a++)u[a].tokens=this.lexer.inline(u[a].text);return r}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const r="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Mi(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):Mi(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const r=t[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const s=Km(r.slice(0,-1),"\\");if((r.length-s.length)%2==0)return}else{const s=function QU(n,e){if(-1===n.indexOf(e[1]))return-1;const t=n.length;let r=0,o=0;for(;o<t;o++)if("\\"===n[o])o++;else if(n[o]===e[0])r++;else if(n[o]===e[1]&&(r--,r<0))return o;return-1}(t[2],"()");if(s>-1){const u=(0===t[0].indexOf("!")?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,u).trim(),t[3]=""}}let o=t[2],i="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);s&&(o=s[1],i=s[3])}else i=t[3]?t[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(r)?o.slice(1):o.slice(1,-1)),ox(t,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let o=(r[2]||r[1]).replace(/\s+/g," ");if(o=t[o.toLowerCase()],!o){const i=r[0].charAt(0);return{type:"text",raw:i,text:i}}return ox(r,o,r[0],this.lexer)}}emStrong(e,t,r=""){let o=this.rules.inline.emStrong.lDelim.exec(e);if(!o||o[3]&&r.match(/[\p{L}\p{N}]/u))return;const i=o[1]||o[2]||"";if(!i||i&&(""===r||this.rules.inline.punctuation.exec(r))){const s=o[0].length-1;let a,u,f=s,g=0;const v="*"===o[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(v.lastIndex=0,t=t.slice(-1*e.length+s);null!=(o=v.exec(t));){if(a=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!a)continue;if(u=a.length,o[3]||o[4]){f+=u;continue}if((o[5]||o[6])&&s%3&&!((s+u)%3)){g+=u;continue}if(f-=u,f>0)continue;u=Math.min(u,u+f+g);const I=e.slice(0,s+o.index+(o[0].length-a.length)+u);if(Math.min(s,u)%2){const K=I.slice(1,-1);return{type:"em",raw:I,text:K,tokens:this.lexer.inlineTokens(K)}}const k=I.slice(2,-2);return{type:"strong",raw:I,text:k,tokens:this.lexer.inlineTokens(k)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(/\n/g," ");const o=/[^ ]/.test(r),i=/^ /.test(r)&&/ $/.test(r);return o&&i&&(r=r.substring(1,r.length-1)),r=Mi(r,!0),{type:"codespan",raw:t[0],text:r}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const r=this.rules.inline.autolink.exec(e);if(r){let o,i;return"@"===r[2]?(o=Mi(this.options.mangle?t(r[1]):r[1]),i="mailto:"+o):(o=Mi(r[1]),i=o),{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}url(e,t){let r;if(r=this.rules.inline.url.exec(e)){let o,i;if("@"===r[2])o=Mi(this.options.mangle?t(r[0]):r[0]),i="mailto:"+o;else{let s;do{s=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(s!==r[0]);o=Mi(r[0]),i="www."===r[1]?"http://"+r[0]:r[0]}return{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(e,t){const r=this.rules.inline.text.exec(e);if(r){let o;return o=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):Mi(r[0]):r[0]:Mi(this.options.smartypants?t(r[0]):r[0]),{type:"text",raw:r[0],text:o}}}}const En={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Ym,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};En.def=Xr(En.def).replace("label",En._label).replace("title",En._title).getRegex(),En.bullet=/(?:[*+-]|\d{1,9}[.)])/,En.listItemStart=Xr(/^( *)(bull) */).replace("bull",En.bullet).getRegex(),En.list=Xr(En.list).replace(/bull/g,En.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+En.def.source+")").getRegex(),En._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",En._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,En.html=Xr(En.html,"i").replace("comment",En._comment).replace("tag",En._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),En.paragraph=Xr(En._paragraph).replace("hr",En.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",En._tag).getRegex(),En.blockquote=Xr(En.blockquote).replace("paragraph",En.paragraph).getRegex(),En.normal=pa({},En),En.gfm=pa({},En.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),En.gfm.table=Xr(En.gfm.table).replace("hr",En.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",En._tag).getRegex(),En.gfm.paragraph=Xr(En._paragraph).replace("hr",En.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",En.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",En._tag).getRegex(),En.pedantic=pa({},En.normal,{html:Xr("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",En._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ym,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Xr(En.normal._paragraph).replace("hr",En.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",En.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const zt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Ym,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Ym,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function ej(n){return n.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function ix(n){let t,r,e="";const o=n.length;for(t=0;t<o;t++)r=n.charCodeAt(t),Math.random()>.5&&(r="x"+r.toString(16)),e+="&#"+r+";";return e}zt._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",zt.punctuation=Xr(zt.punctuation).replace(/punctuation/g,zt._punctuation).getRegex(),zt.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,zt.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,zt._comment=Xr(En._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),zt.emStrong.lDelim=Xr(zt.emStrong.lDelim).replace(/punct/g,zt._punctuation).getRegex(),zt.emStrong.rDelimAst=Xr(zt.emStrong.rDelimAst,"g").replace(/punct/g,zt._punctuation).getRegex(),zt.emStrong.rDelimUnd=Xr(zt.emStrong.rDelimUnd,"g").replace(/punct/g,zt._punctuation).getRegex(),zt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,zt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,zt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,zt.autolink=Xr(zt.autolink).replace("scheme",zt._scheme).replace("email",zt._email).getRegex(),zt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,zt.tag=Xr(zt.tag).replace("comment",zt._comment).replace("attribute",zt._attribute).getRegex(),zt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,zt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,zt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,zt.link=Xr(zt.link).replace("label",zt._label).replace("href",zt._href).replace("title",zt._title).getRegex(),zt.reflink=Xr(zt.reflink).replace("label",zt._label).replace("ref",En._label).getRegex(),zt.nolink=Xr(zt.nolink).replace("ref",En._label).getRegex(),zt.reflinkSearch=Xr(zt.reflinkSearch,"g").replace("reflink",zt.reflink).replace("nolink",zt.nolink).getRegex(),zt.normal=pa({},zt),zt.pedantic=pa({},zt.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Xr(/^!?\[(label)\]\((.*?)\)/).replace("label",zt._label).getRegex(),reflink:Xr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",zt._label).getRegex()}),zt.gfm=pa({},zt.normal,{escape:Xr(zt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),zt.gfm.url=Xr(zt.gfm.url,"i").replace("email",zt.gfm._extended_email).getRegex(),zt.breaks=pa({},zt.gfm,{br:Xr(zt.br).replace("{2,}","*").getRegex(),text:Xr(zt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class Fl{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||ad,this.options.tokenizer=this.options.tokenizer||new db,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:En.normal,inline:zt.normal};this.options.pedantic?(t.block=En.pedantic,t.inline=zt.pedantic):this.options.gfm&&(t.block=En.gfm,t.inline=this.options.breaks?zt.breaks:zt.gfm),this.tokenizer.rules=t}static get rules(){return{block:En,inline:zt}}static lex(e,t){return new Fl(t).lex(e)}static lexInline(e,t){return new Fl(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let r,o,i,s;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(a,u,f)=>u+"    ".repeat(f.length));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(r=a.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),1===r.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),o=t[t.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?t.push(r):(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),o=t[t.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title}):(o.raw+="\n"+r.raw,o.text+="\n"+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(i=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const u=e.slice(1);let f;this.options.extensions.startBlock.forEach(function(g){f=g.call({lexer:this},u),"number"==typeof f&&f>=0&&(a=Math.min(a,f))}),a<1/0&&a>=0&&(i=e.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){o=t[t.length-1],s&&"paragraph"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(r),s=i.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),o=t[t.length-1],o&&"text"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(r);continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let r,o,i,a,u,f,s=e;if(this.tokens.links){const g=Object.keys(this.tokens.links);if(g.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(s));)g.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+rx("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,a.index)+"["+rx("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.escapedEmSt.exec(s));)s=s.slice(0,a.index+a[0].length-2)+"++"+s.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(u||(f=""),u=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(g=>!!(r=g.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),o=t[t.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):t.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),o=t[t.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):t.push(r);continue}if(r=this.tokenizer.emStrong(e,s,f)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.autolink(e,ix)){e=e.substring(r.raw.length),t.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e,ix))){e=e.substring(r.raw.length),t.push(r);continue}if(i=e,this.options.extensions&&this.options.extensions.startInline){let g=1/0;const v=e.slice(1);let I;this.options.extensions.startInline.forEach(function(k){I=k.call({lexer:this},v),"number"==typeof I&&I>=0&&(g=Math.min(g,I))}),g<1/0&&g>=0&&(i=e.substring(0,g+1))}if(r=this.tokenizer.inlineText(i,ej)){e=e.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(f=r.raw.slice(-1)),u=!0,o=t[t.length-1],o&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):t.push(r);continue}if(e){const g="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(g);break}throw new Error(g)}}return t}}class ld{constructor(e){this.options=e||ad}code(e,t,r){const o=(t||"").match(/\S*/)[0];if(this.options.highlight){const i=this.options.highlight(e,o);null!=i&&i!==e&&(r=!0,e=i)}return e=e.replace(/\n$/,"")+"\n",o?'<pre><code class="'+this.options.langPrefix+Mi(o)+'">'+(r?e:Mi(e,!0))+"</code></pre>\n":"<pre><code>"+(r?e:Mi(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e){return e}heading(e,t,r,o){return this.options.headerIds?`<h${t} id="${this.options.headerPrefix+o.slug(r)}">${e}</h${t}>\n`:`<h${t}>${e}</h${t}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,r){const o=t?"ol":"ul";return"<"+o+(t&&1!==r?' start="'+r+'"':"")+">\n"+e+"</"+o+">\n"}listitem(e){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,r){if(null===(e=ex(this.options.sanitize,this.options.baseUrl,e)))return r;let o='<a href="'+e+'"';return t&&(o+=' title="'+t+'"'),o+=">"+r+"</a>",o}image(e,t,r){if(null===(e=ex(this.options.sanitize,this.options.baseUrl,e)))return r;let o=`<img src="${e}" alt="${r}"`;return t&&(o+=` title="${t}"`),o+=this.options.xhtml?"/>":">",o}text(e){return e}}class sx{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,r){return""+r}image(e,t,r){return""+r}br(){return""}}class ax{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let r=e,o=0;if(this.seen.hasOwnProperty(r)){o=this.seen[e];do{o++,r=e+"-"+o}while(this.seen.hasOwnProperty(r))}return t||(this.seen[e]=o,this.seen[r]=0),r}slug(e,t={}){const r=this.serialize(e);return this.getNextSafeSlug(r,t.dryrun)}}class Ga{constructor(e){this.options=e||ad,this.options.renderer=this.options.renderer||new ld,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new sx,this.slugger=new ax}static parse(e,t){return new Ga(t).parse(e)}static parseInline(e,t){return new Ga(t).parseInline(e)}parse(e,t=!0){let o,i,s,a,u,f,g,v,I,k,K,ye,Ge,Ye,vt,Ne,Ot,Cn,Wn,r="";const Cs=e.length;for(o=0;o<Cs;o++)if(k=e[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[k.type]&&(Wn=this.options.extensions.renderers[k.type].call({parser:this},k),!1!==Wn||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(k.type)))r+=Wn||"";else switch(k.type){case"space":continue;case"hr":r+=this.renderer.hr();continue;case"heading":r+=this.renderer.heading(this.parseInline(k.tokens),k.depth,Jk(this.parseInline(k.tokens,this.textRenderer)),this.slugger);continue;case"code":r+=this.renderer.code(k.text,k.lang,k.escaped);continue;case"table":for(v="",g="",a=k.header.length,i=0;i<a;i++)g+=this.renderer.tablecell(this.parseInline(k.header[i].tokens),{header:!0,align:k.align[i]});for(v+=this.renderer.tablerow(g),I="",a=k.rows.length,i=0;i<a;i++){for(f=k.rows[i],g="",u=f.length,s=0;s<u;s++)g+=this.renderer.tablecell(this.parseInline(f[s].tokens),{header:!1,align:k.align[s]});I+=this.renderer.tablerow(g)}r+=this.renderer.table(v,I);continue;case"blockquote":I=this.parse(k.tokens),r+=this.renderer.blockquote(I);continue;case"list":for(K=k.ordered,ye=k.start,Ge=k.loose,a=k.items.length,I="",i=0;i<a;i++)vt=k.items[i],Ne=vt.checked,Ot=vt.task,Ye="",vt.task&&(Cn=this.renderer.checkbox(Ne),Ge?vt.tokens.length>0&&"paragraph"===vt.tokens[0].type?(vt.tokens[0].text=Cn+" "+vt.tokens[0].text,vt.tokens[0].tokens&&vt.tokens[0].tokens.length>0&&"text"===vt.tokens[0].tokens[0].type&&(vt.tokens[0].tokens[0].text=Cn+" "+vt.tokens[0].tokens[0].text)):vt.tokens.unshift({type:"text",text:Cn}):Ye+=Cn),Ye+=this.parse(vt.tokens,Ge),I+=this.renderer.listitem(Ye,Ot,Ne);r+=this.renderer.list(I,K,ye);continue;case"html":r+=this.renderer.html(k.text);continue;case"paragraph":r+=this.renderer.paragraph(this.parseInline(k.tokens));continue;case"text":for(I=k.tokens?this.parseInline(k.tokens):k.text;o+1<Cs&&"text"===e[o+1].type;)k=e[++o],I+="\n"+(k.tokens?this.parseInline(k.tokens):k.text);r+=t?this.renderer.paragraph(I):I;continue;default:{const dg='Token with "'+k.type+'" type was not found.';if(this.options.silent)return void console.error(dg);throw new Error(dg)}}return r}parseInline(e,t){t=t||this.renderer;let o,i,s,r="";const a=e.length;for(o=0;o<a;o++)if(i=e[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]&&(s=this.options.extensions.renderers[i.type].call({parser:this},i),!1!==s||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)))r+=s||"";else switch(i.type){case"escape":case"text":r+=t.text(i.text);break;case"html":r+=t.html(i.text);break;case"link":r+=t.link(i.href,i.title,this.parseInline(i.tokens,t));break;case"image":r+=t.image(i.href,i.title,i.text);break;case"strong":r+=t.strong(this.parseInline(i.tokens,t));break;case"em":r+=t.em(this.parseInline(i.tokens,t));break;case"codespan":r+=t.codespan(i.text);break;case"br":r+=t.br();break;case"del":r+=t.del(this.parseInline(i.tokens,t));break;default:{const u='Token with "'+i.type+'" type was not found.';if(this.options.silent)return void console.error(u);throw new Error(u)}}return r}}function In(n,e,t){if(typeof n>"u"||null===n)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof n)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");if("function"==typeof e&&(t=e,e=null),nx(e=pa({},In.defaults,e||{})),t){const o=e.highlight;let i;try{i=Fl.lex(n,e)}catch(u){return t(u)}const s=function(u){let f;if(!u)try{e.walkTokens&&In.walkTokens(i,e.walkTokens),f=Ga.parse(i,e)}catch(g){u=g}return e.highlight=o,u?t(u):t(null,f)};if(!o||o.length<3||(delete e.highlight,!i.length))return s();let a=0;return In.walkTokens(i,function(u){"code"===u.type&&(a++,setTimeout(()=>{o(u.text,u.lang,function(f,g){if(f)return s(f);null!=g&&g!==u.text&&(u.text=g,u.escaped=!0),a--,0===a&&s()})},0))}),void(0===a&&s())}function r(o){if(o.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+Mi(o.message+"",!0)+"</pre>";throw o}try{const o=Fl.lex(n,e);if(e.walkTokens){if(e.async)return Promise.all(In.walkTokens(o,e.walkTokens)).then(()=>Ga.parse(o,e)).catch(r);In.walkTokens(o,e.walkTokens)}return Ga.parse(o,e)}catch(o){r(o)}}In.options=In.setOptions=function(n){return pa(In.defaults,n),function VU(n){ad=n}(In.defaults),In},In.getDefaults=function Yk(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},In.defaults=ad,In.use=function(...n){const e=In.defaults.extensions||{renderers:{},childTokens:{}};n.forEach(t=>{const r=pa({},t);if(r.async=In.defaults.async||r.async,t.extensions&&(t.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if(o.renderer){const i=e.renderers[o.name];e.renderers[o.name]=i?function(...s){let a=o.renderer.apply(this,s);return!1===a&&(a=i.apply(this,s)),a}:o.renderer}if(o.tokenizer){if(!o.level||"block"!==o.level&&"inline"!==o.level)throw new Error("extension level must be 'block' or 'inline'");e[o.level]?e[o.level].unshift(o.tokenizer):e[o.level]=[o.tokenizer],o.start&&("block"===o.level?e.startBlock?e.startBlock.push(o.start):e.startBlock=[o.start]:"inline"===o.level&&(e.startInline?e.startInline.push(o.start):e.startInline=[o.start]))}o.childTokens&&(e.childTokens[o.name]=o.childTokens)}),r.extensions=e),t.renderer){const o=In.defaults.renderer||new ld;for(const i in t.renderer){const s=o[i];o[i]=(...a)=>{let u=t.renderer[i].apply(o,a);return!1===u&&(u=s.apply(o,a)),u}}r.renderer=o}if(t.tokenizer){const o=In.defaults.tokenizer||new db;for(const i in t.tokenizer){const s=o[i];o[i]=(...a)=>{let u=t.tokenizer[i].apply(o,a);return!1===u&&(u=s.apply(o,a)),u}}r.tokenizer=o}if(t.walkTokens){const o=In.defaults.walkTokens;r.walkTokens=function(i){let s=[];return s.push(t.walkTokens.call(this,i)),o&&(s=s.concat(o.call(this,i))),s}}In.setOptions(r)})},In.walkTokens=function(n,e){let t=[];for(const r of n)switch(t=t.concat(e.call(In,r)),r.type){case"table":for(const o of r.header)t=t.concat(In.walkTokens(o.tokens,e));for(const o of r.rows)for(const i of o)t=t.concat(In.walkTokens(i.tokens,e));break;case"list":t=t.concat(In.walkTokens(r.items,e));break;default:In.defaults.extensions&&In.defaults.extensions.childTokens&&In.defaults.extensions.childTokens[r.type]?In.defaults.extensions.childTokens[r.type].forEach(function(o){t=t.concat(In.walkTokens(r[o],e))}):r.tokens&&(t=t.concat(In.walkTokens(r.tokens,e)))}return t},In.parseInline=function(n,e){if(typeof n>"u"||null===n)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof n)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");nx(e=pa({},In.defaults,e||{}));try{const t=Fl.lexInline(n,e);return e.walkTokens&&In.walkTokens(t,e.walkTokens),Ga.parseInline(t,e)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+Mi(t.message+"",!0)+"</pre>";throw t}},In.Parser=Ga,In.parser=Ga.parse,In.Renderer=ld,In.TextRenderer=sx,In.Lexer=Fl,In.lexer=Fl.lex,In.Tokenizer=db,In.Slugger=ax,In.parse=In;class tj extends H{constructor(e,t){super()}schedule(e,t=0){return this}}const Xm={setInterval(n,e,...t){const{delegate:r}=Xm;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Xm;return(e?.clearInterval||clearInterval)(n)},delegate:void 0},fb={now:()=>(fb.delegate||Date).now(),delegate:void 0};class sp{constructor(e,t=sp.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}sp.now=fb.now;const lx=new class rj extends sp{constructor(e,t=sp.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}(class nj extends tj{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const o=this.id,i=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(i,o,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return Xm.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Xm.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let o,r=!1;try{this.work(e)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,J(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}),oj=lx;function cx(n=0,e,t=oj){let r=-1;return null!=e&&(Ro(e)?t=e:r=e),new bt(o=>{let i=function ij(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;i<0&&(i=0);let s=0;return t.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}class sj extends et{constructor(e=1/0,t=1/0,r=fb){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;t||(r.push(e),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!e.closed;s+=r?1:2)e.next(i[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*e;if(e<1/0&&i<r.length&&r.splice(0,r.length-i),!o){const s=t.now();let a=0;for(let u=1;u<r.length&&r[u]<=s;u+=2)a=u;a&&r.splice(0,a+1)}}}const cj=["*"];let pb=(()=>{class n{constructor(){this._buttonClick$=new et,this.copied$=this._buttonClick$.pipe(Ii(()=>Ci(_n(!0),cx(3e3).pipe(Rv(!1)))),Ek(),function aj(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,ws({connector:()=>new sj(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(1)),this.copiedText$=this.copied$.pipe(dI(!1),Ae(t=>t?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=nt({type:n,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(t,r){1&t&&(re(0,"button",0),st("click",function(){return r.onCopyToClipboardClick()}),Fa(1,"async"),qe(2),Fa(3,"async"),Q()),2&t&&(_l("copied",Oa(1,3,r.copied$)),Ke(2),As(Oa(3,5,r.copiedText$)))},dependencies:[pD],encapsulation:2,changeDetection:0}),n})();class fj{}var ap=(()=>{return(n=ap||(ap={})).CommandLine="command-line",n.LineHighlight="line-highlight",n.LineNumbers="line-numbers",ap;var n})();class ux{}const dx=new Qt("SECURITY_CONTEXT");let hb=(()=>{class n{constructor(t,r,o,i,s,a){this.platform=t,this.securityContext=r,this.http=o,this.clipboardOptions=i,this.sanitizer=a,this.DEFAULT_MARKED_OPTIONS={renderer:new ld},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:this.DEFAULT_MARKED_OPTIONS,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new et,this.reload$=this._reload$.asObservable(),this.options=s}get options(){return this._options}set options(t){this._options={...this.DEFAULT_MARKED_OPTIONS,...t}}get renderer(){return this.options.renderer}set renderer(t){this.options.renderer=t}parse(t,r=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:o,inline:i,emoji:s,mermaid:a,disableSanitizer:u}=r,f={...this.options,...r.markedOptions};a&&(this.renderer=this.extendRenderer(f.renderer||new ld));const g=this.trimIndentation(t),v=o?this.decodeHtml(g):g,I=s?this.parseEmoji(v):v,k=this.parseMarked(I,f,i);return(u?k:this.sanitizer.sanitize(this.securityContext,k))||""}render(t,r=this.DEFAULT_RENDER_OPTIONS,o){const{clipboard:i,clipboardOptions:s,katex:a,katexOptions:u,mermaid:f,mermaidOptions:g}=r;i&&this.renderClipboard(t,o,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...s}),a&&this.renderKatex(t,{...this.DEFAULT_KATEX_OPTIONS,...u}),f&&this.renderMermaid(t,{...this.DEFAULT_MERMAID_OPTIONS,...g}),this.highlight(t)}reload(){this._reload$.next()}getSource(t){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(t,{responseType:"text"}).pipe(Ae(r=>this.handleExtension(t,r)))}highlight(t){if(!ql(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;t||(t=document);const r=t.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(r,o=>o.classList.add("language-none")),Prism.highlightAllUnder(t)}decodeHtml(t){if(!ql(this.platform))return t;const r=document.createElement("textarea");return r.innerHTML=t,r.value}extendRenderer(t){const r=t;if(!0===r.\u0275NgxMarkdownRendererExtended)return t;const o=t.code;return t.code=function(i,s,a){return"mermaid"===s?`<div class="mermaid">${i}</div>`:o.call(this,i,s,a)},r.\u0275NgxMarkdownRendererExtended=!0,t}handleExtension(t,r){const o=t.lastIndexOf("://"),i=o>-1?t.substring(o+4):t,s=i.lastIndexOf("/"),a=s>-1?i.substring(s+1).split("?")[0]:"",u=a.lastIndexOf("."),f=u>-1?a.substring(u+1):"";return f&&"md"!==f?"```"+f+"\n"+r+"\n```":r}parseMarked(t,r,o=!1){return o?In.parseInline(t,r):In.parse(t,r)}parseEmoji(t){if(!ql(this.platform))return t;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(t)}renderKatex(t,r){if(ql(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(t,r)}}renderClipboard(t,r,o){if(!ql(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!r)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:i,buttonTemplate:s}=o,a=t.querySelectorAll("pre");for(let u=0;u<a.length;u++){const f=a.item(u),g=document.createElement("div");g.style.position="relative",f.parentNode.insertBefore(g,f),g.appendChild(f);const v=document.createElement("div");let I,k;v.style.position="absolute",v.style.top=".5em",v.style.right=".5em",v.style.opacity="0",v.style.transition="opacity 250ms ease-out",g.insertAdjacentElement("beforeend",v),f.onmouseover=()=>v.style.opacity="1",f.onmouseout=()=>v.style.opacity="0",I=i?r.createComponent(i).hostView:s?r.createEmbeddedView(s):r.createComponent(pb).hostView,I.rootNodes.forEach(K=>{K.onmouseover=()=>v.style.opacity="1",v.appendChild(K),k=new ClipboardJS(K,{text:()=>f.innerText})}),I.onDestroy(()=>k.destroy())}}renderMermaid(t,r=this.DEFAULT_MERMAID_OPTIONS){if(!ql(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.init>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const o=t.querySelectorAll(".mermaid");0!==o.length&&(mermaid.initialize(r),mermaid.init(o))}trimIndentation(t){if(!t)return"";let r;return t.split("\n").map(o=>{let i=r;return o.length>0&&(i=isNaN(i)?o.search(/\S|$/):Math.min(o.search(/\S|$/),i)),isNaN(r)&&(r=i),i?o.substring(i):o}).join("\n")}}return n.\u0275fac=function(t){return new(t||n)(se(Vu),se(dx),se(sv,8),se(fj,8),se(ux,8),se(tv))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})(),mb=(()=>{class n{constructor(t,r,o){this.element=t,this.markdownService=r,this.viewContainerRef=o,this.error=new xn,this.load=new xn,this.ready=new xn,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this._srcRelativeLink=!1,this.destroyed$=new et}get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(t){this._disableSanitizer=this.coerceBooleanProperty(t)}get inline(){return this._inline}set inline(t){this._inline=this.coerceBooleanProperty(t)}get srcRelativeLink(){return this._srcRelativeLink}set srcRelativeLink(t){this._srcRelativeLink=this.coerceBooleanProperty(t)}get clipboard(){return this._clipboard}set clipboard(t){this._clipboard=this.coerceBooleanProperty(t)}get emoji(){return this._emoji}set emoji(t){this._emoji=this.coerceBooleanProperty(t)}get katex(){return this._katex}set katex(t){this._katex=this.coerceBooleanProperty(t)}get mermaid(){return this._mermaid}set mermaid(t){this._mermaid=this.coerceBooleanProperty(t)}get lineHighlight(){return this._lineHighlight}set lineHighlight(t){this._lineHighlight=this.coerceBooleanProperty(t)}get lineNumbers(){return this._lineNumbers}set lineNumbers(t){this._lineNumbers=this.coerceBooleanProperty(t)}get commandLine(){return this._commandLine}set commandLine(t){this._commandLine=this.coerceBooleanProperty(t)}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(function lj(n){return Z((e,t)=>{Rn(n).subscribe(ge(t,()=>t.complete(),$)),!t.closed&&e.subscribe(t)})}(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(t,r=!1){let o;this.src&&this.srcRelativeLink&&(o={baseUrl:new URL(this.src,location.origin).pathname});const s={clipboard:this.clipboard,clipboardOptions:{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate},katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},a=this.markdownService.parse(t,{decodeHtml:r,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid,markedOptions:o,disableSanitizer:this.disableSanitizer});this.element.nativeElement.innerHTML=a,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,s,this.viewContainerRef),this.ready.emit()}coerceBooleanProperty(t){return null!=t&&"false"!=`${String(t)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:t=>{this.render(t),this.load.emit(t)},error:t=>this.error.emit(t)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,ap.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,ap.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(t,r){const o=t.querySelectorAll("pre");for(let i=0;i<o.length;i++){const s=r instanceof Array?r:[r];o.item(i).classList.add(...s)}}setPluginOptions(t,r){const o=t.querySelectorAll("pre");for(let i=0;i<o.length;i++)Object.keys(r).forEach(s=>{const a=r[s];if(a){const u=this.toLispCase(s);o.item(i).setAttribute(u,a.toString())}})}toLispCase(t){const r=t.match(/([A-Z])/g);if(!r)return t;let o=t.toString();for(let i=0,s=r.length;i<s;i++)o=o.replace(new RegExp(r[i]),"-"+r[i].toLowerCase());return"-"===o.slice(0,1)&&(o=o.slice(1)),o}}return n.\u0275fac=function(t){return new(t||n)(S(yt),S(hb),S(ji))},n.\u0275cmp=nt({type:n,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",srcRelativeLink:"srcRelativeLink",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[Ho],ngContentSelectors:cj,decls:1,vars:0,template:function(t,r){1&t&&(Rt(),Pt(0))},encapsulation:2}),n})(),gb=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[hb,t&&t.loader||[],t&&t.clipboardOptions||[],t&&t.markedOptions||[],{provide:dx,useValue:t&&null!=t.sanitize?t.sanitize:Kr.HTML}]}}static forChild(){return{ngModule:n}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=vn({type:n}),n.\u0275inj=Er({imports:[$a]}),n})();var fx;!function(n){let e;var o;let t,r;(o=e=n.SecurityLevel||(n.SecurityLevel={})).Strict="strict",o.Loose="loose",o.Antiscript="antiscript",o.Sandbox="sandbox",function(o){o.Base="base",o.Forest="forest",o.Dark="dark",o.Default="default",o.Neutral="neutral"}(t=n.Theme||(n.Theme={})),function(o){o[o.Debug=1]="Debug",o[o.Info=2]="Info",o[o.Warn=3]="Warn",o[o.Error=4]="Error",o[o.Fatal=5]="Fatal"}(r=n.LogLevel||(n.LogLevel={}))}(fx||(fx={}));var te=T(3918);const bj="safari"in window,px=!navigator.userAgent.match(/(crios)|(fxios)/i),ha=!!navigator.platform.match(/iPhone|iPad|iPod/)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,hx=!!navigator.userAgent.match(/android/i),Cj=navigator.userAgent.toLowerCase().indexOf("firefox")>=0;var oc=(()=>{return(n=oc||(oc={})).web="web",n.pwa="pwa",n.twa="twa",oc;var n})();new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked");const Ej=new Error("request for lock canceled");class Ij{constructor(e,t=Ej){this._value=e,this._cancelError=t,this._weightedQueues=[],this._weightedWaiters=[]}acquire(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise((t,r)=>{this._weightedQueues[e-1]||(this._weightedQueues[e-1]=[]),this._weightedQueues[e-1].push({resolve:t,reject:r}),this._dispatch()})}runExclusive(e,t=1){return function(n,e,t,r){return new(t||(t=Promise))(function(i,s){function a(g){try{f(r.next(g))}catch(v){s(v)}}function u(g){try{f(r.throw(g))}catch(v){s(v)}}function f(g){g.done?i(g.value):function o(i){return i instanceof t?i:new t(function(s){s(i)})}(g.value).then(a,u)}f((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){const[r,o]=yield this.acquire(t);try{return yield e(r)}finally{o()}})}waitForUnlock(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise(t=>{this._weightedWaiters[e-1]||(this._weightedWaiters[e-1]=[]),this._weightedWaiters[e-1].push(t),this._dispatch()})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(e){this._value=e,this._dispatch()}release(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);this._value+=e,this._dispatch()}cancel(){this._weightedQueues.forEach(e=>e.forEach(t=>t.reject(this._cancelError))),this._weightedQueues=[]}_dispatch(){var e;for(let t=this._value;t>0;t--){const r=null===(e=this._weightedQueues[t-1])||void 0===e?void 0:e.shift();if(!r)continue;const o=this._value,i=t;this._value-=t,t=this._value+1,r.resolve([o,this._newReleaser(i)])}this._drainUnlockWaiters()}_newReleaser(e){let t=!1;return()=>{t||(t=!0,this.release(e))}}_drainUnlockWaiters(){for(let e=this._value;e>0;e--)this._weightedWaiters[e-1]&&(this._weightedWaiters[e-1].forEach(t=>t()),this._weightedWaiters[e-1]=[])}}class Ha{constructor(e){this._semaphore=new Ij(1,e)}acquire(){return n=this,e=void 0,r=function*(){const[,e]=yield this._semaphore.acquire();return e},new((t=void 0)||(t=Promise))(function(i,s){function a(g){try{f(r.next(g))}catch(v){s(v)}}function u(g){try{f(r.throw(g))}catch(v){s(v)}}function f(g){g.done?i(g.value):function o(i){return i instanceof t?i:new t(function(s){s(i)})}(g.value).then(a,u)}f((r=r.apply(n,e||[])).next())});var n,e,t,r}runExclusive(e){return this._semaphore.runExclusive(()=>e())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const Qm="cloudpilot-session-preview";function gx(){localStorage.removeItem(Qm)}function go(){return(n,e,t)=>{const r=t.value;let o=!1;return t.value=(0,te.Z)(function*(){if(!o){o=!0;try{return yield r.apply(this,arguments)}finally{o=!1}}}),t}}class vs{constructor(){}getCurrentSession(){return this.currentSession}setCurrentSession(e){this.currentSession=e}}vs.\u0275fac=function(e){return new(e||vs)},vs.\u0275prov=mt({token:vs,factory:vs.\u0275fac,providedIn:"root"});class ro{constructor(e,t){this.alertController=e,this.emulationState=t,this.emergencySaveEvent=new Ko.j}errorMessage(e){var t=this;return(0,te.Z)(function*(){yield(yield t.alertController.create({header:"Error",backdropDismiss:!1,message:e,buttons:[{text:"Close",role:"cancel"}],cssClass:"alert-error"})).present()})()}message(e,t,r={},o="Close"){var i=this;return(0,te.Z)(function*(){const s=yield i.alertController.create({header:e,message:t,backdropDismiss:!1,buttons:[...Object.keys(r).map(a=>({text:a,handler:()=>{r[a](),s.dismiss()}})),{text:o,role:"cancel"}]});yield s.present(),yield s.onDidDismiss()})()}updateAvailable(){var e=this;return(0,te.Z)(function*(){const t=yield e.alertController.create({header:"Update available",message:"An update is available. Please close CloudpilotEmu and reload in order to update.",backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()},{text:"Close",role:"cancel"}]});yield t.present(),yield t.onDidDismiss()})()}fatalError(e,t=!0){var r=this;return(0,te.Z)(function*(){const o=!!r.emulationState.getCurrentSession(),i=yield r.alertController.create({header:"Error",message:`\n                ${e}\n                <br/><br/>\n                Please close or reload this window.\n                ${o&&t?" You may save an image of your current session before reloading.":""}\n            `,backdropDismiss:!1,buttons:[...o&&t?[{text:"Save image",handler:()=>(r.emergencySaveEvent.dispatch(),!1)}]:[],{text:"Reload",handler:()=>window.location.reload()}],cssClass:"alert-error"});yield i.present(),yield i.onDidDismiss()})()}errorInNativeCode(e){var t=this;return(0,te.Z)(function*(){const r=yield t.alertController.create({header:"Error",message:`\n                You encountered a bug in CloudpilotEmu:\n                <br/><br/>\n                ${e}.\n                <br/><br/>\n                Please close or reload this window.\n            `,backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()}]});yield r.present(),yield r.onDidDismiss()})()}proxyVersionMismatchError(){return this.errorMessage("\n            Server version does not match CloudpilotEmu. Please make sure that you are using the latest\n            versions of CloudpilotEmu and of the server.\n        ")}cardHasNoValidFileSystem(){return this.message("No filesystem","This card does not contain a valid filesystem.",{},"Continue")}cardHasUncorrectableErrors(){return this.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors.",{},"Continue")}cardIsClean(){return this.message("Card clean","No filesystem errors were found.",{},"Continue")}}ro.\u0275fac=function(e){return new(e||ro)(se(zc),se(vs))},ro.\u0275prov=mt({token:ro,factory:ro.\u0275fac,providedIn:"root"}),U([go()],ro.prototype,"updateAvailable",null),U([go()],ro.prototype,"fatalError",null),U([go()],ro.prototype,"errorInNativeCode",null);class Ks{constructor(e,t){this.alertService=e,this.ngZone=t,this.fatalPageLockLost=()=>this.fatalWithMessage("CloudpilotEmu was opened in another tab or window.",!1),this.fatalIDBDead=()=>this.fatalWithMessage("IndexedDB access failed. This is most likely a browser bug.",!1),this.fatalVersionMismatch=()=>this.fatalWithMessage("\n        Database was written by a newer version of CloudpilotEmu. Please wait for a few seconds before reloading\n        while the latest version downloads in the background.\n    ",!1),this.fatalBug=r=>this.fatalWithMessage(`You encountered a bug in CloudpilotEmu:<br/><br/>${r}.`),this.fatalInNativeCode=r=>this.fatalWithMessage(r.message,!0,!1),this.fatalWithMessage=(r,o=!0,i=!0)=>this.ngZone.run(()=>{this.fatalErrorTriggered||(this.fatalErrorTriggered=!0,o&&gx(),this.fatalErrorEvent.dispatch(),this.alertService.fatalError(r,i))}),this.fatalErrorEvent=new Ko.j,this.fatalErrorTriggered=!1}hasFatalError(){return this.fatalErrorTriggered}}Ks.\u0275fac=function(e){return new(e||Ks)(se(ro),se(ut))},Ks.\u0275prov=mt({token:Ks,factory:Ks.\u0275fac,providedIn:"root"});var Mr=(()=>{return(n=Mr||(Mr={})).cloudpilot="cloudpilot",n.fstools="fstools",n.vfs="vfs",n.none="none",Mr;var n})();class za{constructor(e){this.errorService=e,this.ownershipMmap=new Map}getOwner(e){return this.ownershipMmap.get(e)??Mr.none}claim(e,t){this.assertOwnership(e,Mr.none),this.ownershipMmap.set(e,t)}release(e,t){this.assertOwnership(e,t),this.ownershipMmap.delete(e)}assertOwnership(e,t){if(this.getOwner(e)===t)return;const r=t===Mr.none?`Card alread claimed for ${this.getOwner(e)}.`:`Expected card ownership to be ${t}, but is ${this.getOwner(e)}.`;throw this.errorService.fatalBug(r),new Error(r)}transferOwnership(e,t,r){this.assertOwnership(e,t),this.ownershipMmap.set(e,r)}}za.\u0275fac=function(e){return new(e||za)(se(Ks))},za.\u0275prov=mt({token:za,factory:za.\u0275fac,providedIn:"root"});const sc="session",cd="rom",ac="memory",Ol="state",Jm="kvs",lc="memory-meta",Wa="storage",Ns="storage-card",lp="lock";class ud extends Error{constructor(e){super(e)}}function gr(n){return new Promise((e,t)=>{!function Rj(n){return!!n.abort}(n)?n.onsuccess=()=>e(n.result):n.oncomplete=()=>e(void 0),n.onerror=()=>t(new ud(n.error?.message))})}function yx(n){let e=255&n[0];e|=e<<8,e|=e<<16;for(let t=1;t<256;t++)if(n[t]!==e)return n;return 255&n[0]}function Fj(n){const e=n[0];for(let t=1;t<2048;t++)if(n[t]!==e)return n;return e}const eg="session",yb="memory",Nj="memory-meta",Lj="storage",bx="storage-meta",Cx="storage-card",Bj="storageId";function vb(){return(vb=(0,te.Z)(function*(n,e){function t(i){switch(i){case"PalmIIIc":case"PalmM505":case"PalmM515":return 81920;case"PalmI710":case"PalmM130":return 262144;default:return 0}}if(!e)throw new Error("no version change transaction!");const o=e.objectStore(eg).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const u=a.value,f={...u,totalMemory:1024*u.ram*1024+t(u.device)};a.update(f),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function bb(){return(bb=(0,te.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");const t=e.objectStore("kvs"),r=yield new Promise((o,i)=>{const s=t.get("proxyCredentials");s.onsuccess=()=>o(s.result),s.onerror=()=>i(new Error(s.error?.message))});r&&(t.put(r,"credentials"),t.delete("proxyCredentials"))})).apply(this,arguments)}function Cb(){return(Cb=(0,te.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");const t=n.createObjectStore(Nj,{keyPath:"sessionId"});n.createObjectStore(Lj),n.createObjectStore(bx,{keyPath:"id",autoIncrement:!0});const o=e.objectStore(eg).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const u=a.value;void 0!==u.totalMemory&&(t.put({sessionId:u.id,totalSize:u.totalMemory}),delete u.totalMemory,a.update(u)),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function wb(){return(wb=(0,te.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");e.objectStore(bx).name=Cx})).apply(this,arguments)}function Sb(){return(Sb=(0,te.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");e.objectStore(Cx).createIndex(Bj,"storageId")})).apply(this,arguments)}function Eb(){return(Eb=(0,te.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");n.createObjectStore("lock")})).apply(this,arguments)}var qj=T(5023),Yj=T.n(qj);const wx={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let tg;const Kj=new Uint8Array(16);function Xj(){if(!tg&&(tg=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!tg))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return tg(Kj)}const Ti=[];for(let n=0;n<256;++n)Ti.push((n+256).toString(16).slice(1));const Db=function Qj(n,e,t){if(wx.randomUUID&&!e&&!n)return wx.randomUUID();const r=(n=n||{}).random||(n.rng||Xj)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){t=t||0;for(let o=0;o<16;++o)e[t+o]=r[o];return e}return function Sx(n,e=0){return(Ti[n[e+0]]+Ti[n[e+1]]+Ti[n[e+2]]+Ti[n[e+3]]+"-"+Ti[n[e+4]]+Ti[n[e+5]]+"-"+Ti[n[e+6]]+Ti[n[e+7]]+"-"+Ti[n[e+8]]+Ti[n[e+9]]+"-"+Ti[n[e+10]]+Ti[n[e+11]]+Ti[n[e+12]]+Ti[n[e+13]]+Ti[n[e+14]]+Ti[n[e+15]]).toLowerCase()}(r)},Ib=new Error("page lock lost"),Ex=new Error("version mismatch"),Dx=Db();function To(){return(n,e,t)=>{const r=t.value;return t.value=(0,te.Z)(function*(){const o=this.errorService;try{return yield r.apply(this,arguments)}catch(i){throw i instanceof ud?o.fatalIDBDead():i===Ex?o.fatalVersionMismatch():i===Ib?o.fatalPageLockLost():o.fatalBug(i?.message),i}}),t}}class er{constructor(e,t,r){this.ngZone=e,this.errorService=t,this.storageCardContext=r,this.saveMemory=(o,i,s)=>this.ngZone.runOutsideAngular(()=>{const a=o.objectStore(ac),u=o.objectStore(lc),f=new Uint32Array(256),g=new Uint8Array(f.buffer);a.delete(IDBKeyRange.bound([i,0],[i+1,0],!1,!0)),u.put({sessionId:i,totalSize:s.length});const I=s.length>>>10;for(let k=0;k<I;k++){g.set(s.subarray(1024*k,1024*(k+1)));const K=yx(f);if("number"==typeof K)a.put(K,[i,k]);else{const ye=new Uint32Array(256);ye.set(K),a.put(ye,[i,k])}}}),this.loadMemory=(o,i)=>this.ngZone.runOutsideAngular((0,te.Z)(function*(){const s=o.objectStore(lc),a=yield gr(s.get(i));if(a)return new Promise(function(){var u=(0,te.Z)(function*(f,g){const v=o.objectStore(ac),I=new Uint32Array(a.totalSize>>>2),k=v.openCursor(IDBKeyRange.bound([i,0],[i+1,0],!1,!0));k.onsuccess=()=>{const K=k.result;if(!K)return f(new Uint8Array(I.buffer));const ye=K.value,[,Ge]=K.key;"number"==typeof ye?I.subarray(256*Ge,256*(Ge+1)).fill(ye|ye<<8|ye<<16|ye<<24):I.subarray(256*Ge,256*(Ge+1)).set(1024===ye.length?new Uint32Array(ye.buffer):ye),K.continue()},k.onerror=()=>g(new ud(k.error?.message))});return function(f,g){return u.apply(this,arguments)}}())})),this.sessionChangeEvent=new Ko.j,this.storageCardChangeEvent=new Ko.j,this.sessionUpdateMutex=new Ha,this.db=this.requestPersistentStorage().then(()=>e.runOutsideAngular(()=>this.setupDb()))}getDb(){return this.db}addSession(e,t,r,o){var i=this;return(0,te.Z)(function*(){const s=Yj()(t),a=yield i.newTransaction(sc,cd,Ol,ac,lc),u=a.objectStore(sc),f=a.objectStore(cd);(yield gr(f.get(s)))||f.put(t,s);const{id:v,...I}=e,k=yield gr(u.add({...I,rom:s})),K=yield gr(u.get(k));return r&&i.saveMemory(a,K.id,r),o&&i.saveState(a,K.id,o),yield gr(a),K})()}getAllSessions(){var e=this;return(0,te.Z)(function*(){const[t]=yield e.prepareObjectStore(sc);return yield gr(t.getAll())})()}getSession(e){var t=this;return(0,te.Z)(function*(){const[r]=yield t.prepareObjectStore(sc);return yield gr(r.get(e))})()}deleteSession(e){var t=this;return(0,te.Z)(function*(){const r=yield t.newTransaction(sc,cd,Ol,ac,lc),o=r.objectStore(sc),i=r.objectStore(cd);(e=yield gr(o.get(e.id)))&&(o.delete(e.id),0===(yield gr(o.index("rom").getAll(e.rom))).length&&i.delete(e.rom),t.deleteMemory(r,e.id),t.deleteState(r,e.id),yield gr(r),t.sessionChangeEvent.dispatch([e.id,void 0]))})()}updateSessionPartial(e,t){var r=this;return this.sessionUpdateMutex.runExclusive((0,te.Z)(function*(){const{id:o,rom:i,ram:s,device:a,...u}=t,[f,g]=yield r.prepareObjectStore(sc),v=yield gr(f.get(e));if(!v)throw new Error(`no session with id ${e}`);const I={...v,...u};f.put(I),yield gr(g),r.sessionChangeEvent.dispatch([v.id,I])}))}updateSession(e){var t=this;return this.sessionUpdateMutex.runExclusive((0,te.Z)(function*(){const[r,o]=yield t.prepareObjectStore(sc),i=yield gr(r.get(e.id));if(!i)throw new Error(`no session with id ${e.id}`);if(i.rom!==e.rom)throw new Error("attempt to change ROM reference");if(i.ram!==e.ram)throw new Error("attempt to change RAM size");if(i.device!==e.device)throw new Error("attempt to change device type");r.put(e),yield gr(o),t.sessionChangeEvent.dispatch([e.id,e])}))}loadSession(e){var t=this;return(0,te.Z)(function*(){const r=yield t.newTransaction(cd,Ol,ac,lc),o=r.objectStore(cd);return[yield gr(o.get(e.rom)),yield t.loadMemory(r,e.id),yield t.loadState(r,e.id)]})()}deleteStateForSession(e){var t=this;return(0,te.Z)(function*(){const[r,o]=yield t.prepareObjectStore(Ol);r.delete(e.id),yield gr(o)})()}addEmptyStorageCard(e){var t=this;return(0,te.Z)(function*(){const[r]=yield t.prepareObjectStore(Ns),o=yield gr(r.add(e)),i=yield gr(r.get(o));return t.storageCardChangeEvent.dispatch(i.id),i})()}importStorageCard(e,t){var r=this;return(0,te.Z)(function*(){return r.ngZone.runOutsideAngular((0,te.Z)(function*(){const o=yield r.newTransaction(Ns,Wa),i=o.objectStore(Ns),s=o.objectStore(Wa),a=yield gr(i.add(e)),u=(e.size>>>13)+(t.length%8192==0?0:1),f=new Uint32Array(2048);for(let v=0;v<u;v++){const I=t.subarray(2048*v,2048*(v+1));v===u-1&&f.set(I);const k=Fj(v===u-1?f:I);0!==k&&s.put("number"==typeof k?k:k?.slice(),[a,v])}const g=yield gr(i.get(a));return yield gr(o),r.storageCardChangeEvent.dispatch(g.id),g}))})()}getAllStorageCards(){var e=this;return(0,te.Z)(function*(){const[t]=yield e.prepareObjectStore(Ns);return gr(t.getAll())})()}getCard(e){var t=this;return(0,te.Z)(function*(){const[r]=yield t.prepareObjectStore(Ns);return gr(r.get(e))})()}updateStorageCardPartial(e,t){var r=this;return(0,te.Z)(function*(){const{storageId:o,size:i,id:s,...a}=t,[u,f]=yield r.prepareObjectStore(Ns),g=yield gr(u.get(e));if(!g)throw new Error(`no card with id ${e}`);const v={...g,...a};u.put(v),yield gr(f),r.storageCardChangeEvent.dispatch(e)})()}deleteStorageCard(e){var t=this;return(0,te.Z)(function*(){const r=yield t.newTransaction(Ns,Wa);t.storageCardContext.assertOwnership(e,Mr.none);const o=r.objectStore(Ns),i=r.objectStore(Wa);o.delete(e),i.delete(IDBKeyRange.bound([e,0],[e+1,0],!1,!0)),yield gr(r),t.storageCardChangeEvent.dispatch(e)})()}loadCardData(e,t,r){var o=this;return this.ngZone.runOutsideAngular((0,te.Z)(function*(){const i=yield o.newTransaction(Ns,Wa);o.storageCardContext.assertOwnership(e,r);const s=i.objectStore(Wa);yield new Promise(function(){var a=(0,te.Z)(function*(u,f){const g=s.openCursor(IDBKeyRange.bound([e,0],[e+1,0],!1,!0));g.onsuccess=()=>{const v=g.result;if(!v)return u();let I=v.value;const[,k]=v.key;"number"==typeof I?t.subarray(2048*k,2048*(k+1)).fill(I):(2048*(k+1)>t.length&&(I=I.subarray(0,2048-2048*(k+1)+t.length)),t.subarray(2048*k,2048*(k+1)).set(I)),v.continue()},g.onerror=()=>f(new ud(g.error?.message))});return function(u,f){return a.apply(this,arguments)}}())}))}updateCardData(e,t,r,o){var i=this;return this.ngZone.runOutsideAngular((0,te.Z)(function*(){const s=yield i.newTransaction(Ns,Wa);i.storageCardContext.assertOwnership(e,o);const a=s.objectStore(Ns),u=s.objectStore(Wa),f=yield gr(a.get(e));if(!f)throw new Error(`no card with ID ${e}`);if(t.length!==f.size>>>2)throw new Error("data size mismatch");const g=(f.size>>>13)+(f.size%8192>0?1:0);if((g>>>3)+(g%8>0?1:0)!==r.length)throw new Error("dirty pages size mismatch");let v=0;for(let I=0;I<r.length;I++)for(let k=1;k<256&&!(v>=g);k<<=1)r[I]&k&&u.put(t.subarray(2048*v,2048*(v+1)).slice(),[f.id,v]),v++;yield gr(s)}))}kvsGet(e){var t=this;return(0,te.Z)(function*(){const[r]=yield t.prepareObjectStore(Jm);return gr(r.get(e))})()}kvsSet(e){var t=this;return(0,te.Z)(function*(){const[r,o]=yield t.prepareObjectStore(Jm);for(const i of Object.keys(e))r.put(e[i],i);yield gr(o)})()}kvsLoad(){var e=this;return(0,te.Z)(function*(){const[t]=yield e.prepareObjectStore(Jm);return new Promise((r,o)=>{const i={},s=t.openCursor();s.onsuccess=()=>{const a=s.result;if(!a)return r(i);i[a.key]=a.value,a.continue()},s.onerror=()=>o(new ud(s.error?.message))})})()}kvsDelete(e){var t=this;return(0,te.Z)(function*(){const[r,o]=yield t.prepareObjectStore(Jm);r.delete(e),yield gr(o)})()}acquireLock(e){var t=this;return(0,te.Z)(function*(){if(t.errorService.hasFatalError())throw new Error("fatal error detected --- refusing DB access");if((yield gr(e.objectStore(lp).get(0)))!==Dx)throw e.abort(),e.db.close(),Ib})()}newTransaction(...e){var t=this;return(0,te.Z)(function*(){const r=(yield t.db).transaction([lp,...e],"readwrite",{durability:"relaxed"});return yield t.acquireLock(r),r})()}prepareObjectStore(e){var t=this;return(0,te.Z)(function*(){const r=yield t.newTransaction(e);return[r.objectStore(e),r]})()}saveState(e,t,r){const o=e.objectStore(Ol);r?o.put(r,t):o.delete(t)}deleteState(e,t){e.objectStore(Ol).delete(t)}loadState(e,t){return gr(e.objectStore(Ol).get(t))}deleteMemory(e,t){const r=e.objectStore(ac),o=e.objectStore(lc);r.delete(IDBKeyRange.bound([t,0],[t+1,0],!1,!0)),o.delete(t)}initializeLock(e){return(0,te.Z)(function*(){const t=e.transaction(lp,"readwrite");yield gr(t.objectStore(lp).put(Dx,0))})()}setupDb(){var e=this;return(0,te.Z)(function*(){const t=setTimeout(()=>ha&&window.location.reload(),500);try{if(indexedDB.databases){const o=(yield indexedDB.databases()).find(i=>"cloudpilot-preview"===i.name);if(clearTimeout(t),o&&void 0!==o.version&&o.version>9)throw Ex}const r=yield new Promise((o,i)=>{const s=indexedDB.open("cloudpilot-preview",9);s.onerror=()=>{i(new ud("failed to open DB"))},s.onsuccess=()=>{o(s.result)},s.onupgradeneeded=function(){var a=(0,te.Z)(function*(u){clearTimeout(t),u.oldVersion<1&&function Vj(n){n.createObjectStore(eg,{keyPath:"id",autoIncrement:!0}).createIndex("rom","rom"),n.createObjectStore("state")}(s.result),u.oldVersion<2&&function Uj(n,e){if(!e)throw new Error("no version change transaction!");n.objectStoreNames.contains("rom")&&n.deleteObjectStore("rom"),n.objectStoreNames.contains(yb)&&n.deleteObjectStore(yb),e.objectStore(eg).clear(),n.createObjectStore("rom"),n.createObjectStore(yb),n.createObjectStore("kvs")}(s.result,s.transaction),u.oldVersion<4&&(yield function jj(n,e){return vb.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<5&&(yield function Gj(n,e){return bb.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<6&&(yield function Hj(n,e){return Cb.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<7&&(yield function zj(n,e){return wb.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<8&&(yield function Wj(n,e){return Sb.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<9&&(yield function Zj(n,e){return Eb.apply(this,arguments)}(s.result,s.transaction))});return function(u){return a.apply(this,arguments)}}()});return yield e.initializeLock(r),r}finally{clearTimeout(t)}})()}requestPersistentStorage(){return(0,te.Z)(function*(){(!navigator.storage?.persist||!navigator.storage?.persisted)&&console.log("storage manager not supported; unable to request persistent storage");try{(yield navigator.storage.persisted())||(yield navigator.storage.persist())?console.log("persistent storage enabled"):console.log("request for persistent storage denied by browser")}catch(e){console.warn(e),console.log("failed to request persistent storage")}})()}}er.\u0275fac=function(e){return new(e||er)(se(ut),se(Ks),se(za))},er.\u0275prov=mt({token:er,factory:er.\u0275fac,providedIn:"root"}),U([To()],er.prototype,"addSession",null),U([To()],er.prototype,"getAllSessions",null),U([To()],er.prototype,"getSession",null),U([To()],er.prototype,"deleteSession",null),U([To()],er.prototype,"updateSessionPartial",null),U([To()],er.prototype,"updateSession",null),U([To()],er.prototype,"loadSession",null),U([To()],er.prototype,"deleteStateForSession",null),U([To()],er.prototype,"addEmptyStorageCard",null),U([To()],er.prototype,"importStorageCard",null),U([To()],er.prototype,"getAllStorageCards",null),U([To()],er.prototype,"getCard",null),U([To()],er.prototype,"updateStorageCardPartial",null),U([To()],er.prototype,"deleteStorageCard",null),U([To()],er.prototype,"loadCardData",null),U([To()],er.prototype,"kvsGet",null),U([To()],er.prototype,"kvsSet",null),U([To()],er.prototype,"kvsDelete",null),U([To()],er.prototype,"newTransaction",null),U([To()],er.prototype,"prepareObjectStore",null),U([To()],er.prototype,"initializeLock",null),U([To()],er.prototype,"setupDb",null);const Ix={volume:.5,showStatistics:!1,clipboardIntegration:!1,networkRedirection:!1,proxyServer:"",credentials:{},runHidden:!1,autoLockUI:!1,enableRemoteInstall:!1,enableAudioOnFirstInteraction:!1};class li{constructor(e){var t=this;this.storageService=e,this.set=r=>this.storageMutex.runExclusive((0,te.Z)(function*(){yield t.storageService.kvsSet(r);for(const o of Object.keys(r))t.rawKvs[o]=r[o];t.updateEvent.dispatch()})),this.updateEvent=new Ko.j,this.mutex=new Ha,this.storageMutex=new Ha,this.initializationPromise=this.startInitialiation()}initialize(){var e=this;return(0,te.Z)(function*(){return e.initializationPromise})()}get kvs(){return this.kvsProxy}startInitialiation(){var e=this;return(0,te.Z)(function*(){const t=e;try{const r={...Ix,...yield e.storageService.kvsLoad()};e.rawKvs=r,e.kvsProxy=new Proxy(r,{set:(o,i,s)=>(o[i]=s,t.storageMutex.runExclusive(()=>t.storageService.kvsSet({[i]:s})),t.updateEvent.dispatch(),!0),deleteProperty:(o,i)=>(delete o[i],t.storageMutex.runExclusive(()=>t.storageService.kvsDelete(i)),t.updateEvent.dispatch(),!0)})}catch(r){console.error("failed to load KVS"),console.error(r),e.kvsProxy={...Ix}}})()}}li.\u0275fac=function(e){return new(e||li)(se(er))},li.\u0275prov=mt({token:li,factory:li.\u0275fac,providedIn:"root"});class Zc{constructor(e,t){var r=this;this.kvsService=e,this.alertService=t,this.serviceWorkerKeepalive=(0,te.Z)(function*(){if(navigator.serviceWorker)try{const o=yield navigator.serviceWorker.getRegistration();o?.active?.postMessage&&o.active.postMessage({})}catch{}setTimeout(r.serviceWorkerKeepalive,9e5)}),this.installationMode=this.determineInstallationMode(),this.serviceWorkerKeepalive()}promptForInstall(){return(ha||hx)&&this.installationMode===oc.web}getInstallationMode(){return this.installationMode}install(){this.alertService.message("Install app",this.getInstallMessage())}invite(){this.promptForInstall()&&(this.kvsService.kvs.didShowInvitation||(this.kvsService.kvs.didShowInvitation=!0,window.hasOwnProperty("onbeforeinstallprompt")||this.alertService.message("App available",this.getInviteMessage())))}getInstallMessage(){return ha&&px?'\n    Tap the "Share" icon on the bottom of the screen (the little box with the arrow)\n    and select "Add to Home Screen" in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':ha?'\n    Open CloudpilotEmu in Safari, tap the "Share" icon on the bottom of the screen\n    (the little box with the arrow) and select "Add to Home Screen" in order to install\n    CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Open your browser\'s menu and tap "Add to Home screen" or "Install App"\n    in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}getInviteMessage(){return ha&&px?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by tapping the "Share" icon\n    at the bottom of the screen (the little box with the arrow) and selecting\n    "Add to Home Screen".\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':ha?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by opening it in Safari,\n    tapping the "Share" icon at the bottom of the screen (the little box with the arrow)\n    and selecting "Add to Home Screen"\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Howdy! It seems that you are using CloudpilotEmu on an Android device. You can\n    install CloudpilotEmu as an app by opening your browser\'s menu\n    and tapping "Add to Home screen".\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}determineInstallationMode(){return window.navigator.standalone?oc.pwa:document.referrer.startsWith("android-app://")?oc.twa:window.matchMedia("(display-mode: standalone)").matches?oc.pwa:oc.web}}function sG(n,e){1&n&&(re(0,"div",6),ct(1,"ion-spinner"),Q())}Zc.\u0275fac=function(e){return new(e||Zc)(se(li),se(ro))},Zc.\u0275prov=mt({token:Zc,factory:Zc.\u0275fac,providedIn:"root"});class ma{constructor(e){this.modalController=e,this.title="Help",this.loading=!0}}ma.\u0275fac=function(e){return new(e||ma)(S(ys))},ma.\u0275cmp=nt({type:ma,selectors:[["app-help"]],inputs:{url:"url",title:"title"},decls:10,vars:3,consts:[["translucent",""],["slot","primary"],[3,"click"],["fullscreen",""],["class","loader",4,"ngIf"],[3,"src","load"],[1,"loader"]],template:function(e,t){1&e&&(re(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3),Q(),re(4,"ion-buttons",1)(5,"ion-button",2),st("click",function(){return t.modalController.dismiss()}),qe(6,"Close"),Q()()()(),re(7,"ion-content",3),Yt(8,sG,2,0,"div",4),re(9,"markdown",5),st("load",function(){return t.loading=!1}),Q()()),2&e&&(Ke(3),As(t.title),Ke(5),rt("ngIf",t.loading),Ke(1),rt("src",t.url))},dependencies:[mi,mb,es,ts,ns,rs,ep,is,ss],styles:["markdown[_ngcontent-%COMP%]{display:block;padding-left:1em;padding-right:1em}.loader[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}"]});const qc="1.8.0-464d728 (preview)";var ng=T(9897);const rg=((n,e)=>{let t=null;return()=>{if(null!==t)return t;const r=new Blob(['(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error(\'The given type "\'.concat(i,\'" is not supported\'));(e=>{const r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error(\'The given method "\'.concat(s.method,\'" is not supported\'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error(\'The given type "\'.concat(d,\'" is not supported\'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();'],{type:"application/javascript; charset=utf-8"}),o=URL.createObjectURL(r);return t=(n=>{const e=new Map([[0,()=>{}]]),t=new Map([[0,()=>{}]]),r=new Map,o=new Worker(n);return o.addEventListener("message",({data:f})=>{if((n=>void 0!==n.method&&"call"===n.method)(f)){const{params:{timerId:g,timerType:v}}=f;if("interval"===v){const I=e.get(g);if("number"==typeof I){const k=r.get(I);if(void 0===k||k.timerId!==g||k.timerType!==v)throw new Error("The timer is in an undefined state.")}else{if(!(typeof I<"u"))throw new Error("The timer is in an undefined state.");I()}}else if("timeout"===v){const I=t.get(g);if("number"==typeof I){const k=r.get(I);if(void 0===k||k.timerId!==g||k.timerType!==v)throw new Error("The timer is in an undefined state.")}else{if(!(typeof I<"u"))throw new Error("The timer is in an undefined state.");I(),t.delete(g)}}}else{if(!(n=>null===n.error&&"number"==typeof n.id)(f)){const{error:{message:g}}=f;throw new Error(g)}{const{id:g}=f,v=r.get(g);if(void 0===v)throw new Error("The timer is in an undefined state.");const{timerId:I,timerType:k}=v;r.delete(g),"interval"===k?e.delete(I):t.delete(I)}}}),{clearInterval:f=>{const g=(0,ng.generateUniqueNumber)(r);r.set(g,{timerId:f,timerType:"interval"}),e.set(f,g),o.postMessage({id:g,method:"clear",params:{timerId:f,timerType:"interval"}})},clearTimeout:f=>{const g=(0,ng.generateUniqueNumber)(r);r.set(g,{timerId:f,timerType:"timeout"}),t.set(f,g),o.postMessage({id:g,method:"clear",params:{timerId:f,timerType:"timeout"}})},setInterval:(f,g)=>{const v=(0,ng.generateUniqueNumber)(e);return e.set(v,()=>{f(),"function"==typeof e.get(v)&&o.postMessage({id:null,method:"set",params:{delay:g,now:performance.now(),timerId:v,timerType:"interval"}})}),o.postMessage({id:null,method:"set",params:{delay:g,now:performance.now(),timerId:v,timerType:"interval"}}),v},setTimeout:(f,g)=>{const v=(0,ng.generateUniqueNumber)(t);return t.set(v,f),o.postMessage({id:null,method:"set",params:{delay:g,now:performance.now(),timerId:v,timerType:"timeout"}}),v}}})(o),setTimeout(()=>URL.revokeObjectURL(o)),t}})();var cc=(()=>{return(n=cc||(cc={}))[n.animationFrame=0]="animationFrame",n[n.timeout=1]="timeout",cc;var n})();class xx{constructor(e){this.callback=e}schedule(){void 0===this.handle&&(this.handle=requestAnimationFrame(e=>{this.handle=void 0,this.callback(e)}))}cancel(){void 0!==this.handle&&(cancelAnimationFrame(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return cc.animationFrame}}class fG{constructor(e,t=60){this.callback=e,this.fps=t}schedule(){if(void 0!==this.handle)return;const e=performance.now(),t=1e3*Math.ceil(e/1e3*this.fps)/this.fps;this.handle=((n,e)=>rg().setTimeout(n,e))(()=>{this.handle=void 0,this.callback(performance.now())},Math.max(t-e,0))}cancel(){var n;void 0!==this.handle&&(n=this.handle,rg().clearTimeout(n),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return cc.timeout}}const pG=[135,135,105],hG=[0,0,0],uc=new Array(16).fill(0).map((n,e)=>hG.map((t,r)=>Math.floor((e*t+(15-e)*pG[r])/15))).map(([n,e,t])=>4278190080|t<<16|e<<8|n),kb=uc.map(n=>"#"+(16777215&n).toString(16).padStart(6,"0").match(/(..?)/g)?.reverse().join(""));var oe=(()=>{return(n=oe||(oe={})).palmPilot="PalmPilot",n.pilot="Pilot",n.iii="PalmIII",n.palmVx="PalmVx",n.palmV="PalmV",n.palmVII="PalmVII",n.palmVIIEZ="PalmVIIEZ",n.palmVIIx="PalmVIIx",n.iiic="PalmIIIc",n.iiix="PalmIIIx",n.iiixe="PalmIIIxe",n.iiie="PalmIIIe",n.m500="PalmM500",n.m505="PalmM505",n.m515="PalmM515",n.m520="PalmM520",n.m100="PalmM100",n.m105="PalmM105",n.m125="PalmM125",n.m130="PalmM130",n.i705="Palmi705",n.i710="PalmI710",n.handera330="HandEra330",n.handera330c="HandEra330c",n.pegS300="PEG-S300",n.pegS320="PEG-S320",n.pegS500c="PEG-S500C",n.pegT400="PEG-T400",n.pegN600c="PEG-N600C/N610C",n.pegT600c="PEG-T600",n.pegN700c="PEG-N700C/N710C",n.pegT650c="YSX1230",n.pegNR70="NR70",n.acerS11="Acer-S11",oe;var n})(),dc=(()=>{return(n=dc||(dc={})).sdcard="sdcard",n.memorystick="memorystick",n.none="none",dc;var n})();function cp(n){switch(n){case oe.i710:case oe.m520:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case oe.handera330:case oe.handera330c:return{screenSize:2,width:240,height:320,silkscreenHeight:0};case oe.pegS300:case oe.pegS320:case oe.pegS500c:return{screenSize:0,width:160,height:160,silkscreenHeight:76};case oe.pegT600c:case oe.pegT400:case oe.pegT650c:return{screenSize:1,width:320,height:320,silkscreenHeight:140,silkscreenOvershoot:10};case oe.pegN600c:case oe.pegN700c:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case oe.pegNR70:return{screenSize:3,width:320,height:480,silkscreenHeight:0};case oe.acerS11:return{screenSize:0,width:160,height:160,silkscreenHeight:60,siklscreenShift:8};default:return{screenSize:0,width:160,height:160,silkscreenHeight:60}}}function xb(n){switch(n){case oe.pilot:case oe.palmPilot:case oe.iii:case oe.palmV:case oe.palmVx:case oe.iiix:case oe.iiixe:case oe.iiie:case oe.m100:case oe.m105:case oe.m125:case oe.m500:case oe.palmVII:case oe.palmVIIEZ:case oe.palmVIIx:case oe.i705:case oe.handera330:case oe.pegS300:case oe.pegS320:case oe.pegT400:case oe.acerS11:return!1;default:return!0}}function Mx(n){switch(n){case oe.pilot:return"Pilot";case oe.palmPilot:return"Palm Pilot";case oe.iii:return"Palm III";case oe.m500:return"Palm m500";case oe.m505:return"Palm m505";case oe.m515:return"Palm m515";case oe.m520:return"Palm m520";case oe.palmVx:return"Palm Vx";case oe.iiix:return"Palm IIIx";case oe.iiixe:return"Palm IIIxe";case oe.iiie:return"Palm IIIe";case oe.palmV:return"Palm V";case oe.palmVII:return"Palm VII";case oe.palmVIIEZ:return"Palm VII EZ";case oe.palmVIIx:return"Palm VIIx";case oe.iiic:return"Palm IIIc";case oe.m100:return"Palm m100";case oe.m105:return"Palm m105";case oe.m125:return"Palm m125";case oe.m130:return"Palm m130";case oe.i705:return"Palm i705";case oe.i710:return"Tungsten W";case oe.handera330:return"Handera 330";case oe.handera330c:return"Handera 330c";case oe.pegS300:return"Sony PEG-S300";case oe.pegS320:return"Sony PEG-S320";case oe.pegT400:return"Sony PEG-T400 series";case oe.pegN600c:return"Sony PEG-N600C series";case oe.pegT600c:return"Sony PEG-T600C series";case oe.pegN700c:return"Sony PEG-N700C series";case oe.pegT650c:return"Sony PEG-T650C series";case oe.pegNR70:return"Sony PEG-NR70 series";case oe.pegS500c:return"Sony PEG-S500C series";case oe.acerS11:return"Acer S1x series";default:throw new Error("bad device ID")}}function Tx(n){switch(n){case oe.m500:case oe.m505:case oe.m515:case oe.m520:case oe.m125:case oe.m130:case oe.i705:case oe.i710:case oe.handera330:case oe.handera330c:return dc.sdcard;case oe.pegS300:case oe.pegS500c:case oe.pegS320:case oe.pegT400:case oe.pegN600c:case oe.pegT600c:case oe.pegN700c:case oe.pegT650c:case oe.pegNR70:case oe.acerS11:return dc.memorystick;default:return dc.none}}class Ax{constructor(e,t){this.queue=new Array(e).fill(0),this.reset(t)}reset(e=0){this.next=1,this.size=1,this.queue[0]=e}push(e){return this.queue[this.next]=e,this.next=(this.next+1)%this.queue.length,this.size<this.queue.length&&this.size++,this}calculateAverage(){let e=0;for(let t=0;t<this.size;t++)e+=this.queue[t];return e/this.size}}class _G{constructor(e){this.start=0,this.size=0,this.buffer=new Array(e)}push(e){return this.size<this.buffer.length?this.buffer[(this.start+this.size++)%this.buffer.length]=e:(this.start=(this.start+1)%this.buffer.length,this.buffer[(this.start+this.size-1)%this.buffer.length]=e),this}pop(){if(0===this.size)return;const e=this.buffer[this.start];return this.start=(this.start+1)%this.buffer.length,this.size--,e}peekLast(){if(0!==this.size)return this.buffer[(this.start+this.size-1)%this.buffer.length]}replaceLast(e){return this.size>0&&(this.buffer[(this.start+this.size-1)%this.buffer.length]=e),this}count(){return this.size}flush(){return this.start=0,this.size=0,this}}class EG{constructor(){this.onPwmUpdate=e=>{this.pendingPwmUpdates.count()>0&&this.pendingPwmUpdates.peekLast().frequency<0?this.pendingPwmUpdates.replaceLast(e):this.pendingPwmUpdates.push(e)},this.advanceEmulation=e=>{if(this.isDirty=!1,!this.cloudpilotInstance||this.hasFatalError()||e<this.clockEmulator)return;const t=this.cloudpilotInstance.isSuspended();let r=!1;this.cloudpilotInstance.setClockFactor(this.emulationSpeed*this.getConfiguredSpeed()),e-this.clockEmulator>1e3/30&&(this.clockEmulator=e-1e3/30);const o=(e-this.clockEmulator)/1e3*this.cloudpilotInstance.cyclesPerSecond(),i=performance.now();let s=0;for(;s<o;)if(s+=this.cloudpilotInstance.runEmulation(Math.ceil(o-s)),this.cloudpilotInstance.isSuspended()){r=!0;break}const a=s/this.cloudpilotInstance.cyclesPerSecond()*1e3,u=performance.now()-i;if(this.clockEmulator+=Math.max(a,u),this.speedAverage.push(a/(u>0?u:a/1e3)*this.emulationSpeed),this.updateEmulationSpeed(this.speedAverage.calculateAverage()),r&&!t)return void this.handleSuspend();const f=this.cloudpilotInstance.isPowerOff(),g=this.cloudpilotInstance.isUiInitialized();if(f!==this.powerOff||g!==this.uiInitialized){const v=this.powerOff;this.powerOff=f,this.uiInitialized=g,v!==this.powerOff&&this.powerOffChangeEvent.dispatch(this.powerOff),this.isDirty=!0}g&&!f&&this.manageHotsyncName()&&this.checkAndUpdateHotsyncName(),this.onAfterAdvanceEmulation(e,s)},this.newFrameEvent=new Ko.j,this.pwmUpdateEvent=new Ko.j,this.emulationStateChangeEvent=new Ko.j,this.powerOffChangeEvent=new Ko.j,this.deviceId=oe.m515,this.clockEmulator=0,this.scheduler=new xx(e=>this.onSchedule(e)),this.canvas=document.createElement("canvas"),this.canvasTmp=document.createElement("canvas"),this.lastPenUpdate=0,this.penDown=!1,this.running=!1,this.powerOff=!1,this.uiInitialized=!1,this.pendingPwmUpdates=new _G(10),this.lastPwmUpdateEvent=0,this.emulationSpeed=1,this.speedAverage=new Ax(20),this.timePerFrameAverage=new Ax(60),this.timestampLastFrame=0,this.frameCounter=0,this.isDirty=!1}handlePointerMove(e,t,r){if(!this.handleInput())return;const o=performance.now();if(this.penDown=!0,!(o-this.lastPenUpdate<25)&&this.cloudpilotInstance){if(r){const i=cp(this.deviceId);e=this.transformSilkscreenX(e,i),t=this.transformSilkscreenY(t,i)}this.cloudpilotInstance.queuePenMove(Math.floor(e),Math.floor(t)),this.lastPenUpdate=o}}handlePointerUp(){this.handleInput()&&(this.cloudpilotInstance&&this.penDown&&this.cloudpilotInstance.queuePenUp(),this.lastPenUpdate=0,this.penDown=!1)}handleButtonDown(e){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonDown(e)}handleButtonUp(e){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonUp(e)}handleKeyDown(e,t=!1){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueKeyboardEvent(e,t)}reset(){this.cloudpilotInstance&&this.cloudpilotInstance.reset()}resetNoExtensions(){this.cloudpilotInstance&&this.cloudpilotInstance.resetNoExtensions()}resetHard(){this.cloudpilotInstance&&this.cloudpilotInstance.resetHard()}isRunning(){return this.running}isPowerOff(){return this.powerOff}isUiInitialized(){return this.uiInitialized}getCanvas(){return this.canvas}getStatistics(){return{hostSpeed:this.speedAverage.calculateAverage(),emulationSpeed:this.emulationSpeed,averageFps:this.calculateFPS()}}getEmulationSpeed(){return this.emulationSpeed}isSuspended(){return!!this.cloudpilotInstance&&this.cloudpilotInstance.isSuspended()}onAfterAdvanceEmulation(e,t){}handleSuspend(){}callScheduler(){this.scheduler.schedule()}handleInput(){return!0}openSession(e,t,r,o,i){let s=!1;return!!e.initializeSession(t,r)&&(o&&(o.length%4!=0?console.warn("memory size is not a multiple of 4; ignoring image"):(s=e.loadMemory(new Uint32Array(o.buffer,o.byteOffset,o.length>>>2)),s||console.warn("failed to load memory"))),s&&i&&e.loadState(i),e.remountCards(),this.cloudpilotInstance&&this.cloudpilotInstance.pwmUpdateEvent.removeHandler(this.onPwmUpdate),e.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.cloudpilotInstance=e,this.deviceId=r,this.resetCanvas(),this.pendingPwmUpdates.flush(),this.lastPwmUpdateEvent=0,this.deviceHotsyncName=void 0,this.emulationSpeed=1,this.frameCounter=0,this.speedAverage.reset(1),this.powerOff=e.isPowerOff(),this.uiInitialized=e.isUiInitialized(),this.frameCounter=0,!0)}resetCanvas(){const e=cp(this.deviceId);this.canvas.width=this.canvasTmp.width=e.width,this.canvas.height=this.canvasTmp.height=e.height;const t=this.canvas.getContext("2d");if(!t)throw new Error("get a new browser");this.context=t;const r=this.canvasTmp.getContext("2d");if(!r)throw new Error("get a new browser");this.contextTmp=r,this.clearCanvas(),this.imageData=void 0}doResume(){this.cloudpilotInstance&&(this.clockEmulator=performance.now(),this.schedule(),this.setRunning(!0),this.resetFPS())}doPause(){this.stopLoop()}doStop(){this.stopLoop()}stopLoop(){this.running&&(this.scheduler.cancel(),void 0!==this.advanceEmulationHandle&&(window.clearTimeout(this.advanceEmulationHandle),this.advanceEmulationHandle=void 0),this.setRunning(!1))}resetFPS(){this.timePerFrameAverage.reset(),this.timestampLastFrame=performance.now()}calculateFPS(){const e=this.timePerFrameAverage.calculateAverage();return e&&1e3/e}transformSilkscreenX(e,t){return void 0===t.silkscreenOvershoot?e:(e-t.width/2)/(t.width/(t.width+2*t.silkscreenOvershoot))+t.width/2}transformSilkscreenY(e,t){return void 0===t.siklscreenShift?e:e+t.siklscreenShift}setRunning(e){e!==this.running&&(this.running=e,this.emulationStateChangeEvent.dispatch(e))}updateEmulationSpeed(e){if(e>=1&&this.emulationSpeed>=1)return;const t=Math.min(Math.max(Math.floor(10*e)/10,.1),1);this.emulationSpeed=t<=this.emulationSpeed||e-t>=.05?t:this.emulationSpeed}performScreenUpdate(){this.cloudpilotInstance?.isScreenDirty()&&(this.updateScreen(),this.cloudpilotInstance.markScreenClean(),this.frameCounter++)}onSchedule(e){this.hasFatalError()||(this.skipEmulationUpdate()||(this.performScreenUpdate(),this.pendingPwmUpdates.count()>0&&e-this.lastPwmUpdateEvent>10&&(this.pwmUpdateEvent.dispatch(this.pendingPwmUpdates.pop()),this.lastPwmUpdateEvent=e),void 0===this.advanceEmulationHandle&&(this.advanceEmulationHandle=window.setTimeout(()=>{this.advanceEmulationHandle=void 0,this.advanceEmulation(e)},0)),this.timePerFrameAverage.push(Math.max(0,e-this.timestampLastFrame)),this.timestampLastFrame=e),this.schedule())}schedule(){this.scheduler.cancel(),this.getConfiguredSchdedulerKind()!==this.scheduler.getKind()&&(this.scheduler=this.getConfiguredSchdedulerKind()===cc.animationFrame?new xx(e=>this.onSchedule(e)):new fG(e=>this.onSchedule(e))),this.callScheduler()}checkAndUpdateHotsyncName(){if(!this.cloudpilotInstance)return;void 0===this.deviceHotsyncName&&(this.deviceHotsyncName=this.cloudpilotInstance.getHotsyncName());const e=this.getConfiguredHotsyncName();void 0===e?this.updateConfiguredHotsyncName(this.deviceHotsyncName):e!==this.deviceHotsyncName&&e.length<=40&&this.cloudpilotInstance.isSetupComplete()&&(this.cloudpilotInstance.setHotsyncName(e),this.deviceHotsyncName=e)}clearCanvas(){const e=this.deviceId,t=cp(e);this.context.beginPath(),this.context.rect(0,0,t.width,t.height),this.context.fillStyle=xb(e)?"white":kb[0],this.context.fill()}updateScreen(){if(!this.cloudpilotInstance)return;const e=this.cloudpilotInstance.getFrame();if(this.cloudpilotInstance.isPowerOff())return this.clearCanvas(),void this.newFrameEvent.dispatch(this.canvas);if(!e.hasChanges)return;if(e.lines*e.scaleY===this.canvas.height&&e.lineWidth*e.scaleX===this.canvas.width){(!this.imageData||this.imageData.width!==e.lineWidth||this.imageData.height!==e.lines)&&(this.imageData=new ImageData(e.lineWidth,e.lines));const r=new Uint32Array(this.imageData.data.buffer);switch(e.bpp){case 1:{const o=uc[15],i=uc[0];let s=0;for(let a=e.firstDirtyLine;a<=e.lastDirtyLine;a++){const u=a*e.bytesPerLine;for(let f=e.margin;f<e.lineWidth+e.margin;f++)r[s++]=e.buffer[u+(f>>>3)]&128>>>(7&f)?o:i}break}case 2:{const o=this.cloudpilotInstance.getPalette2bitMapping(),i=[uc[15&o],uc[o>>>4&15],uc[o>>>8&15],uc[o>>>12&15]];let s=0;for(let a=e.firstDirtyLine;a<=e.lastDirtyLine;a++){const u=a*e.bytesPerLine;for(let f=e.margin;f<e.lineWidth+e.margin;f++)r[s++]=i[e.buffer[u+(f>>>2)]>>6-2*(3&f)&3]}break}case 4:{let o=0;for(let i=e.firstDirtyLine;i<=e.lastDirtyLine;i++){const s=i*e.bytesPerLine;for(let a=e.margin;a<e.lineWidth+e.margin;a++)r[o++]=uc[e.buffer[s+(a>>>1)]>>>4-4*(1&a)&15]}break}case 24:{const o=new Uint32Array(e.buffer.buffer,e.buffer.byteOffset,e.buffer.byteLength>>>2);if(0===e.margin)r.subarray(0,e.lineWidth*(e.lastDirtyLine-e.firstDirtyLine+1)).set(o.subarray(e.firstDirtyLine*e.lineWidth,e.lineWidth*(e.lastDirtyLine+1)));else{let i=0;for(let s=e.firstDirtyLine;s<=e.lastDirtyLine;s++){let a=s*(e.bytesPerLine>>>2)+e.margin;for(let u=0;u<e.lineWidth;u++)r[i++]=o[a++]}}}}}if(!this.imageData)return;const t=1!==e.scaleX||1!==e.scaleY;(t?this.contextTmp:this.context).putImageData(this.imageData,0,e.firstDirtyLine,0,0,e.lineWidth,e.lastDirtyLine-e.firstDirtyLine+1),t&&(this.context.imageSmoothingEnabled=!1,this.context.drawImage(this.canvasTmp,0,e.firstDirtyLine,e.lineWidth,e.lastDirtyLine-e.firstDirtyLine+1,0,e.firstDirtyLine*e.scaleY,e.lineWidth*e.scaleX,(e.lastDirtyLine-e.firstDirtyLine+1)*e.scaleY)),this.newFrameEvent.dispatch(this.canvas)}}class DG{constructor(e,t){this.timeoutRemaining=e,this.cb=t,this.onTimeout=()=>{const r=performance.now();if(this.timeoutRemaining-=r-this.timeoutTimestamp,this.timeoutRemaining>0)return this.timeoutTimestamp=performance.now(),void(this.handle=window.setTimeout(this.onTimeout,this.timeoutTimestamp));this.cb()},this.timeoutTimestamp=performance.now(),this.handle=window.setTimeout(this.onTimeout,e)}increase(e){this.timeoutRemaining+=e}cancel(){clearTimeout(this.handle)}}const xG=new Error("transaction timeout"),Fx=new Error("session does not match emulation");class Za{constructor(e,t,r,o,i){var s=this;this.storageService=e,this.emulationState=t,this.errorService=r,this.storageCardContext=o,this.ngZone=i,this.triggerSnapshot=()=>this.ngZone.runOutsideAngular(()=>this.sessionId<0||this.cloudpilot.isSuspended()?Promise.resolve():this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():(this.snapshotInProgress=!0,this.pendingSnapshotPromise=(0,te.Z)(function*(){try{yield s.triggerSnapshotUnguarded()}finally{s.snapshotInProgress=!1}})(),this.pendingSnapshotPromise)),this.snapshotEvent=new Ko.j,this.sessionId=-1,this.consecutiveErrorCount=0,this.snapshotInProgress=!1,this.pendingSnapshotPromise=Promise.resolve(void 0),this.cardPagePool=[]}initialize(e,t){var r=this;return(0,te.Z)(function*(){r.errorService.hasFatalError()||(r.sessionId=e.id,r.dirtyPages=void 0,r.pages=void 0,r.state=void 0,r.db=yield r.storageService.getDb(),r.cloudpilot=t,r.resetCard())})()}resetCard(){this.cardPagePool=[],this.cardDirtyPages=void 0}waitForPendingSnapshot(){return this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():Promise.resolve()}triggerSnapshotUnguarded(){var e=this;return(0,te.Z)(function*(){for(;;)try{return yield e.triggerSnapshotOnce(),void(e.consecutiveErrorCount=0)}catch(t){if(console.error("snapshot error",t),t===Fx)throw e.errorService.fatalBug("attempting to snapshot a session that is not currently running"),t;if(t===Ib)throw e.errorService.fatalPageLockLost(),t;if(++e.consecutiveErrorCount>3)throw e.errorService.fatalIDBDead(),t}})()}triggerSnapshotOnce(){var e=this;return(0,te.Z)(function*(){const t=e.db.transaction([ac,lc,Ol,Wa,Ns,lp],"readwrite",{durability:"relaxed"});if(yield e.storageService.acquireLock(t),e.cloudpilot.isSuspended())return;if(e.emulationState.getCurrentSession()?.id!==e.sessionId)throw Fx;let r;const o=e.cloudpilot.getMountedKey();o&&(r=yield gr(t.objectStore(Ns).index("storageId").get(o)));const i=yield new Promise((s,a)=>{let u=!1;const f=performance.now();let g=0,v=0,I=0,k=new DG(500,()=>{u=!0;try{t.abort()}catch{}a(xG)});t.oncomplete=(0,te.Z)(function*(){k.cancel(),e.dirtyPages?.fill(0),e.cardDirtyPages?.fill(0),s({timestamp:Date.now(),pages:I,timeBlocking:v-g,timeTotal:performance.now()-f})}),t.onerror=()=>{k.cancel(),a(new Error(t.error?.message))};try{g=performance.now(),I=e.saveDirtyMemory(t,k),r&&(I+=e.saveDirtyStorage(r,t,k)),e.saveSession(t),v=performance.now()}catch(K){throw u||(k.cancel(),t.abort()),K}});e.snapshotEvent.dispatch(i)})()}saveDirtyMemory(e,t){let r=0;const o=e.objectStore(ac),i=e.objectStore(lc),s=this.cloudpilot.getDirtyPages(),a=this.cloudpilot.getMemory32();let u=0;if(!this.dirtyPages||!this.pages){const g=a.length>>>8;this.dirtyPages=new Uint8Array(s.length),this.pages=new Array(g);for(let v=0;v<g;v++)this.pages[v]=new Uint32Array(256)}i.put({sessionId:this.sessionId,totalSize:a.length<<2});for(let g=0;g<s.length;g++)if(this.dirtyPages[g]|=s[g],s[g]=0,0!==this.dirtyPages[g])for(let v=1;v<256&&!(r>=this.pages.length);v<<=1){if(this.dirtyPages[g]&v){const I=yx(a.subarray(256*r,256*(r+1)));"number"==typeof I?o.put(I,[this.sessionId,r]):(this.pages[r].set(I),o.put(this.pages[r],[this.sessionId,r])),t.increase(.5),u++}r++}else r+=8;return u}saveDirtyStorage(e,t,r){const o=this.cloudpilot.getCardDirtyPages(e.storageId),i=this.cloudpilot.getCardData(e.storageId);if(!i)return console.log(`seems ${e.name} was unmounted`),0;if(this.storageCardContext.assertOwnership(e.id,Mr.cloudpilot),!o)throw new Error(`failed to retrieve dirty pages for card ${e.name}`);if(i.length!==e.size>>>2)throw new Error("card size mismatch");if(this.cardDirtyPages||(this.cardDirtyPages=new Uint8Array(o.length)),this.cardDirtyPages.length!==o.length)throw new Error("card size has changed without notification");let s=0,a=0,u=0;const f=t.objectStore(Wa),g=(i.length>>11)+(i.length%2048>0?1:0);for(let v=0;v<o.length;v++)if(this.cardDirtyPages[v]|=o[v],o[v]=0,0!==this.cardDirtyPages[v])for(let I=1;I<256&&!(s>=g);I<<=1){if(this.cardDirtyPages[v]&I){a>=this.cardPagePool.length&&this.cardPagePool.push(new Uint32Array(2048));const k=this.cardPagePool[a++];k.set(i.subarray(2048*s,2048*(s+1))),f.put(k,[e.id,s]),r.increase(4),u++}s++}else s+=8;return 8*u}saveSession(e){const t=e.objectStore(Ol);if(this.cloudpilot.saveState()){const r=this.cloudpilot.getSavestate();this.state||(this.state=new Uint8Array(r.length)),this.state.set(r),t.put(this.state,this.sessionId)}else console.log("save state failed"),t.delete(this.sessionId)}}function MG(n,e){1&n&&(re(0,"p",11),qe(1," ERROR: URL must be served via HTTPS. "),Q())}function TG(n){if(!n.value)return{url:"URL empty"};let e;try{e=new(ju())(n.value)}catch{return{url:"URL invalid"}}return"https:"===location.protocol&&"https:"!==e.protocol?{url:"mixed content"}:null}Za.\u0275fac=function(e){return new(e||Za)(se(er),se(vs),se(Ks),se(za),se(ut))},Za.\u0275prov=mt({token:Za,factory:Za.\u0275fac,providedIn:"root"});class up{constructor(){this.onContinue=()=>{},this.onCancel=()=>{}}ngOnInit(){this.createFormGroup()}formKeyDown(e){"Enter"===e.key&&this.continue()}continue(){this.onContinue(new(ju())(this.formGroup.get("url")?.value).toString())}get isMixedContent(){const e=this.formGroup.get("url")?.value;if(!e)return!1;try{const t=new(ju())(e);return"https:"===location.protocol&&"https:"!==t.protocol}catch{}return!1}createFormGroup(){this.formGroup=new dm({url:new gi("",TG)})}}function og(n){const e=new Date;return`${n}_${e.getFullYear()}${(e.getMonth()+1).toString().padStart(2,"0")}${e.getDate().toString().padStart(2,"0")}-${e.getHours().toString().padStart(2,"0")}${e.getMinutes().toString().padStart(2,"0")}${e.getSeconds().toString().padStart(2,"0")}`}function Ox(n){return`${og(n.name)}.bin`}function Nx(n,e){return`backup_${og(n.name)}${e?"_with_rom":""}.zip`}function Mb(n,e=3){return 0===n.length?"":1===n.length?n[0]:`${n.slice(0,n.length>e?e:n.length-1).join(", ")} and ${n.length>e?n.length-e+" more files":n[n.length-1]}`}function Lx(n){const{name:e,hotsyncName:t,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}=n;return{name:e,hotsyncName:t,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}}up.\u0275fac=function(e){return new(e||up)},up.\u0275cmp=nt({type:up,selectors:[["app-remote-url-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel"},decls:21,vars:3,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter URL","formControlName","url"],["class","error",4,"ngIf"],[1,"error"]],template:function(e,t){1&e&&(re(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"Enter download URL"),Q(),re(4,"ion-buttons",1)(5,"ion-button",2),st("click",function(){return t.continue()}),qe(6,"OK"),Q()(),re(7,"ion-buttons",3)(8,"ion-button",4),st("click",function(){return t.onCancel()}),qe(9,"Cancel"),Q()()()(),re(10,"ion-content",5)(11,"form",6),st("keydown",function(o){return t.formKeyDown(o)}),re(12,"p"),qe(13," Please enter the URL from which to download: "),Q(),re(14,"ion-item",7)(15,"ion-label",8),qe(16,"URL"),Q(),ct(17,"ion-input",9),Q(),Yt(18,MG,2,0,"p",10),re(19,"p"),qe(20," Note that the remote server needs to support the CORS protocol. "),Q()()()),2&e&&(Ke(5),rt("disabled",t.formGroup.invalid),Ke(6),rt("formGroup",t.formGroup),Ke(7),rt("ngIf",t.isMixedContent))},dependencies:[mi,es,ts,ns,rs,Pl,ai,os,is,ss,Al,Il,El,Dl,fa,Ba],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}.error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]});class dp{constructor(e){this.kvs=e,this.onContinue=()=>{},this.onCancel=()=>{},this.origin=""}ngOnInit(){this.createFormGroup()}formKeyDown(e){"Enter"===e.key&&this.saveAndContinue()}saveAndContinue(){this.kvs.kvs.credentials={...this.kvs.kvs.credentials,[this.origin]:{username:this.formGroup.get("username")?.value??"",password:this.formGroup.get("password")?.value??""}},this.onContinue()}createFormGroup(){const e=this.kvs.kvs.credentials[this.origin];this.formGroup=new dm({username:new gi(e?.username??""),password:new gi(e?.password??"")})}}dp.\u0275fac=function(e){return new(e||dp)(S(li))},dp.\u0275cmp=nt({type:dp,selectors:[["app-credentials-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel",origin:"origin"},decls:22,vars:1,consts:[["translucent",""],["slot","primary"],[3,"click"],["slot","secondary"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter username","formControlName","username"],["placeholder","Enter password","formControlName","password","type","password"]],template:function(e,t){1&e&&(re(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"Authenticate"),Q(),re(4,"ion-buttons",1)(5,"ion-button",2),st("click",function(){return t.saveAndContinue()}),qe(6,"OK"),Q()(),re(7,"ion-buttons",3)(8,"ion-button",2),st("click",function(){return t.onCancel()}),qe(9,"Cancel"),Q()()()(),re(10,"ion-content",4)(11,"form",5),st("keydown",function(o){return t.formKeyDown(o)}),re(12,"p"),qe(13," The server requires authentication. "),Q(),re(14,"ion-item",6)(15,"ion-label",7),qe(16,"Username"),Q(),ct(17,"ion-input",8),Q(),re(18,"ion-item",6)(19,"ion-label",7),qe(20,"Password"),Q(),ct(21,"ion-input",9),Q()()()),2&e&&(Ke(11),rt("formGroup",t.formGroup))},dependencies:[es,ts,ns,rs,Pl,ai,os,is,ss,Al,Il,El,Dl,fa,Ba],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}"]});class Yc{constructor(e,t,r){this.loadingController=e,this.kvsService=t,this.modalController=r}fetch(e,t){var r=this;return(0,te.Z)(function*(){let o=t?.loaderDelay;const i=void 0===t?.timeout?5e3:t?.timeout,s=new(ju())("string"==typeof e?e:e.url);let a,u,f=!1;for(;;)try{void 0!==o&&o>=0&&!a&&(a=yield r.loadingController.create({message:"Loading..."}),u=window.setTimeout(()=>a.present(),o));const g=r.kvsService.kvs.credentials[s.origin],v=new AbortController,I=window.setTimeout(()=>v.abort(),i),k=yield fetch(e,{...r.requestInit(t),signal:v.signal,headers:{...t?.headers||{},...f&&g?{Authorization:"Basic "+btoa(`${g.username}:${g.password}`)}:{}}});if(clearTimeout(I),401===k.status){if(!f&&g){f=!0;continue}if(a&&(a.dismiss(),clearTimeout(u),o=0,a=void 0),f=!0,yield r.authenticate(s.origin))continue}return k}finally{a&&(yield a.dismiss()),clearTimeout(u)}})()}requestInit(e){if(!e)return;const{timeout:t,loaderDelay:r,...o}=e;return o}authenticate(e){var t=this;return(0,te.Z)(function*(){const r=yield new Promise(o=>t.modalController.create({component:dp,backdropDismiss:!1,componentProps:{origin:e,onContinue:()=>o(!0),onCancel:()=>o(!1)}}).then(i=>i.present()));return t.modalController.dismiss(),r})()}}Yc.\u0275fac=function(e){return new(e||Yc)(se(Rl),se(li),se(ys))},Yc.\u0275prov=mt({token:Yc,factory:Yc.\u0275fac,providedIn:"root"});var RG=T(3272),FG=T.n(RG);function Tb(n){const e=(n>>>13)+(n%8192>0?1:0);return(e>>>3)+(e%8>0?1:0)}const $x=[oe.palmPilot,oe.pilot,oe.iii,oe.palmVx,oe.palmV,oe.palmVII,oe.palmVIIEZ,oe.palmVIIx,oe.iiixe,oe.iiix,oe.iiie,oe.m500,oe.m505,oe.m515,oe.m520,oe.iiic,oe.m100,oe.m105,oe.m125,oe.m130,oe.i705,oe.i710,oe.handera330,oe.handera330c,oe.pegS300,oe.pegS320,oe.pegS500c,oe.pegT400,oe.pegN600c,oe.pegT600c,oe.pegN700c,oe.pegT650c,oe.pegNR70,oe.acerS11];function Wt(){return(n,e,t)=>{const r=t.value;return t.value=function(o,i){return this.guard(()=>r.call(this,o,i))},t}}class Ut{constructor(e){this.module=e,this.fatalErrorEvent=new Ko.j,this.pwmUpdateEvent=new Ko.j,this.proxyDisconnectEvent=new Ko.j,this.amIdead=!1,this.cloudpilot=new e.Cloudpilot,this.cloudpilot.RegisterPwmHandler(e.addFunction((t,r)=>this.pwmUpdateEvent.dispatch({frequency:t,dutyCycle:r}),"vdd")),this.cloudpilot.RegisterProxyDisconnectHandler(e.addFunction(t=>this.proxyDisconnectEvent.dispatch(e.UTF8ToString(t)),"vi"))}static create(e){return(0,te.Z)(function*(){return new Ut(yield FG()({print:t=>console.log(t),printErr:t=>console.error(t),..."string"==typeof e?{locateFile:()=>e}:{},..."function"==typeof e?{instantiateWasm:e}:{}}))})()}destroy(){this.module.destroy(this.cloudpilot)}hasFatalError(){return this.amIdead}getRomInfo(e){const t=this.copyIn(e),r=new this.module.RomInfo(t,e.length);let o;return r.IsValid()&&(o={cardVersion:r.CardVersion(),cardName:r.CardName(),romVersion:r.RomVersion(),romVersionString:r.RomVersionString(),supportedDevices:$x.filter(r.Supports.bind(r))}),this.cloudpilot.Free(t),this.module.destroy(r),o}initializeSession(e,t){const r=this.copyIn(e),o=this.cloudpilot.InitializeSession(r,e.length,t);return this.cloudpilot.Free(r),o}cyclesPerSecond(){return this.cloudpilot.GetCyclesPerSecond()}runEmulation(e){return this.cloudpilot.RunEmulation(e)}getFrame(){const e=this.cloudpilot.CopyFrame(),t=this.module.getPointer(e.GetBuffer());return{bpp:e.GetBpp(),bytesPerLine:e.GetBytesPerLine(),lines:e.GetLines(),lineWidth:e.GetLineWidth(),margin:e.GetMargin(),firstDirtyLine:e.GetFirstDirtyLine(),lastDirtyLine:e.GetLastDirtyLine(),hasChanges:e.GetHasChanges(),scaleX:e.GetScaleX(),scaleY:e.GetScaleY(),buffer:this.module.HEAPU8.subarray(t,t+e.GetBufferSize())}}isScreenDirty(){return this.cloudpilot.IsScreenDirty()}markScreenClean(){this.cloudpilot.MarkScreenClean()}minRamForDevice(e){return 1024*this.cloudpilot.MinMemoryForDevice(e)}framebufferSizeForDevice(e){return 1024*this.cloudpilot.FramebufferSizeForDevice(e)}totalMemorySizeForDevice(e){return 1024*this.cloudpilot.TotalMemoryForDevice(e)}queuePenMove(e,t){this.cloudpilot.QueuePenMove(e,t)}queuePenUp(){this.cloudpilot.QueuePenUp()}queueButtonDown(e){this.cloudpilot.QueueButtonDown(e)}queueButtonUp(e){this.cloudpilot.QueueButtonUp(e)}queueKeyboardEvent(e,t){this.cloudpilot.QueueKeyboardEvent(e,t)}isPowerOff(){return!!this.cloudpilot.IsPowerOff()}isUiInitialized(){return!!this.cloudpilot.IsUIInitialized()}isSetupComplete(){return!!this.cloudpilot.IsSetupComplete()}getOSVersion(){return this.cloudpilot.GetOSVersion()}reset(){this.cloudpilot.Reset()}resetNoExtensions(){this.cloudpilot.ResetNoExtensions()}resetHard(){this.cloudpilot.ResetHard()}installDb(e){const t=this.copyIn(e),r=this.cloudpilot.InstallDb(t,e.length);return this.cloudpilot.Free(t),r}getPalette2bitMapping(){return this.cloudpilot.GetPalette2bitMapping()}getMemory(){const e=this.module.getPointer(this.cloudpilot.GetMemoryPtr());return this.module.HEAPU8.subarray(e,e+this.cloudpilot.GetMemorySize())}getMemory32(){let e=this.module.getPointer(this.cloudpilot.GetMemoryPtr());if(3&e)throw new Error("unaligned pointer");return e>>>=2,this.module.HEAPU32.subarray(e,e+(this.cloudpilot.GetMemorySize()>>>2))}getDirtyPages(){const e=this.module.getPointer(this.cloudpilot.GetDirtyPagesPtr()),t=this.cloudpilot.GetMemorySize();return this.module.HEAPU8.subarray(e,e+((t>>>13)+(t%8192==0?0:1)))}loadMemory(e){const t=this.getMemory32();if((()=>{if(e.length!==t.length||e.length<256)return!1;for(let o=256;o>0;o--){if(e[e.length-o]!==t[t.length-o])return!1;if(4294967295===t[t.length-o])break}return!0})())return t.set(e),!0;{const o=this.copyIn32(e),i=this.cloudpilot.ImportMemoryImage(o,e.length<<2);return this.cloudpilot.Free(o),i}}getRomImage(){const e=this.module.getPointer(this.cloudpilot.GetRomPtr());return this.module.HEAPU8.subarray(e,e+this.cloudpilot.GetRomSize())}getSavestate(){const e=this.module.getPointer(this.cloudpilot.GetSavestatePtr());return this.module.HEAPU8.subarray(e,e+this.cloudpilot.GetSavestateSize())}saveState(){return!!this.cloudpilot.SaveState()}loadState(e){const t=this.copyIn(e),r=this.cloudpilot.LoadState(t,e.length);return this.cloudpilot.Free(t),r}getHotsyncName(){return this.cloudpilot.GetHotsyncName()}setClockFactor(e){this.cloudpilot.SetClockFactor(e)}setHotsyncName(e){this.cloudpilot.SetHotsyncName(e)}backup(e){var t=this;return(0,te.Z)(function*(){const r=t.guard(()=>t.cloudpilot.StartBackup());try{return yield e(t.wrap(r))}finally{t.module.destroy(r)}})()}getArchive(e){const t=e.GetArchiveSize();return this.copyOut(e.GetArchivePtr(),t)}setClipboardIntegration(e){this.cloudpilot.SetClipboardIntegration(e)}getClipboardIntegration(){return this.cloudpilot.GetClipboardIntegration()}isSuspended(){return this.cloudpilot.IsSuspended()}getSuspendKind(){return this.cloudpilot.GetSuspendContext().GetKind()}cancelSuspend(){this.cloudpilot.GetSuspendContext().Cancel()}getSuspendContextClipboardCopy(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardCopy())}getSuspendContextClipboardPaste(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardPaste())}setNetworkRedirection(e){this.cloudpilot.SetNetworkRedirection(e)}getNetworkRedirection(){return this.cloudpilot.GetNetworkRedirection()}getSuspendContextNetworkConnect(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkConnect())}getSuspendContextNetworkRpc(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkRpc())}copyBuffer(e){return this.copyIn(e)}freeBuffer(e){this.cloudpilot.Free(e)}setHotsyncNameManagement(e){this.cloudpilot.SetHotsyncNameManagement(e)}resolveBuffer(e,t){const r=this.module.getPointer(e);return this.module.HEAPU8.subarray(r,r+t)}withZipfileWalker(e,t){var r=this;return(0,te.Z)(function*(){const o=r.guard(()=>{const i=r.copyIn(e),s=new r.module.ZipfileWalker(e.length,i);return r.cloudpilot.Free(i),s});try{return yield t(r.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>r.copyOut(o.GetCurrentEntryContent(),o.GetCurrentEntrySize())},o)))}finally{r.module.destroy(o)}})()}withZipfileWalkerSync(e,t){const r=this.guard(()=>{const o=this.copyIn(e),i=new this.module.ZipfileWalker(e.length,o);return this.cloudpilot.Free(o),i});try{return t(this.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>this.copyOut(r.GetCurrentEntryContent(),r.GetCurrentEntrySize())},r)))}finally{this.module.destroy(r)}}serializeSessionImage(e){const t=new this.module.SessionImage,r=this.cloudpilot.Nullptr(),o=this.copyIn(e.rom),i=e.memory?this.copyIn(e.memory):r,s=void 0!==e.savestate?this.copyIn(e.savestate):r;let a=r,u=0;if(void 0!==e.metadata){const g=(new TextEncoder).encode(JSON.stringify(e.metadata));u=g.length,a=this.copyIn(g)}t.SetRomImage(o,e.rom.length),t.SetMemoryImage(i,e.memory?.length||0),t.SetDeviceId(e.deviceId),t.SetSavestate(s,e.savestate?.length||0),t.SetMetadata(a,u);const f=t.Serialize()?this.copyOut(t.GetSerializedImage(),t.GetSerializedImageSize()):void 0;return this.module.destroy(t),[o,i,s,a].forEach(g=>this.cloudpilot.Free(g)),f}deserializeSessionImage(e){const t=new this.module.SessionImage,r=this.copyIn(e),o=(()=>{if(!t.Deserialize(r,e.length))return;const i=this.copyOut(t.GetRomImage(),t.GetRomImageSize()),s=this.copyOut(t.GetMemoryImage(),t.GetMemoryImageSize()),a=this.copyOut(t.GetSavestate(),t.GetSavestateSize()),u=t.GetDeviceId();if(!$x.includes(u))return void console.warn(`unsupported device ${u}`);let f;const g=this.copyOut(t.GetMetadata(),t.GetMetadataSize());if(g)try{f=JSON.parse((new TextDecoder).decode(g))}catch(v){console.warn("invalid metadata",v)}return{deviceId:u,rom:i,memory:s,savestate:a,metadata:f,version:t.GetVersion()}})();return this.module.destroy(t),this.cloudpilot.Free(r),o}launchAppByName(e){return this.cloudpilot.LaunchAppByName(e)}launchAppByDbHeader(e){if(e.length<32)return!1;const t=this.copyIn(e.subarray(0,32)),r=this.cloudpilot.LaunchAppByDbHeader(t,32);return this.cloudpilot.Free(t),r}deviceSupportsCardSize(e){return this.cloudpilot.DeviceSupportsCardSize(e)}clearExternalStorage(){this.cloudpilot.ClearExternalStorage()}allocateCard(e,t){return this.cloudpilot.AllocateCard(e,t>>>9)}decompressCard(e,t){const r=this.copyIn(t);let o;try{for(o=new this.module.GunzipContext(r,t.length,524288);0===o.GetState();)o.Continue();return-1===o.GetState()?(console.error(`gunzip failed: ${o.GetError()}`),!1):o.GetUncompressedSize()%512!=0?(console.error("failed to allocate card: invalid size of decompressed image"),!1):this.cloudpilot.AdoptCard(e,o.ReleaseUncompressedData(),o.GetUncompressedSize()>>>9)}finally{this.cloudpilot.Free(r),o&&this.module.destroy(o)}}getCardData(e){const t=this.module.getPointer(this.cloudpilot.GetCardData(e));if(0!==t)return this.module.HEAPU32.subarray(t>>>2,t+this.cloudpilot.GetCardSize(e)>>2)}getCardDirtyPages(e){const t=this.module.getPointer(this.cloudpilot.GetCardDirtyPages(e));if(0===t)return;const r=Tb(this.cloudpilot.GetCardSize(e));return this.module.HEAPU8.subarray(t,t+r)}getMountedKey(){return this.cloudpilot.GetMountedKey()}mountCard(e){return this.cloudpilot.MountCard(e)}removeCard(e){return this.cloudpilot.RemoveCard(e)}remountCards(){this.cloudpilot.RemountCards()}getCardSupportLevel(e){return this.cloudpilot.GetSupportLevel(e)}loadSkin(e){const t=new this.module.SkinLoader(e);try{const r=this.module.getPointer(t.GetData());return 0===r?void 0:(new TextDecoder).decode(this.module.HEAPU8.subarray(r,r+t.GetSize()))}finally{this.module.destroy(t)}}copyIn(e){const t=this.cloudpilot.Malloc(e.length),r=this.module.getPointer(t);return this.module.HEAPU8.subarray(r,r+e.length).set(e),t}copyIn32(e){const t=this.cloudpilot.Malloc(e.length<<2),r=this.module.getPointer(t);return this.module.HEAPU32.subarray(r>>>2,(r>>>2)+e.length).set(e),t}copyOut(e,t){const r=this.module.getPointer(e);return r>0&&t>0?this.module.HEAPU8.subarray(r,r+t).slice():void 0}wrap(e){return new Proxy(e,{get:(t,r)=>{const o=t[r];return"function"!=typeof o?o:(...i)=>this.guard(()=>o.apply(t,i))}})}guard(e){if(this.amIdead)throw new Error("cloudpilot instance is dead");try{return e()}catch(t){throw this.amIdead=!0,this.cloudpilot=void 0,this.fatalErrorEvent.dispatch(t instanceof Error?t:new Error("unknown error")),t}}}U([Wt()],Ut.prototype,"getRomInfo",null),U([Wt()],Ut.prototype,"initializeSession",null),U([Wt()],Ut.prototype,"cyclesPerSecond",null),U([Wt()],Ut.prototype,"runEmulation",null),U([Wt()],Ut.prototype,"getFrame",null),U([Wt()],Ut.prototype,"isScreenDirty",null),U([Wt()],Ut.prototype,"markScreenClean",null),U([Wt()],Ut.prototype,"minRamForDevice",null),U([Wt()],Ut.prototype,"framebufferSizeForDevice",null),U([Wt()],Ut.prototype,"totalMemorySizeForDevice",null),U([Wt()],Ut.prototype,"queuePenMove",null),U([Wt()],Ut.prototype,"queuePenUp",null),U([Wt()],Ut.prototype,"queueButtonDown",null),U([Wt()],Ut.prototype,"queueButtonUp",null),U([Wt()],Ut.prototype,"queueKeyboardEvent",null),U([Wt()],Ut.prototype,"isPowerOff",null),U([Wt()],Ut.prototype,"isUiInitialized",null),U([Wt()],Ut.prototype,"isSetupComplete",null),U([Wt()],Ut.prototype,"getOSVersion",null),U([Wt()],Ut.prototype,"reset",null),U([Wt()],Ut.prototype,"resetNoExtensions",null),U([Wt()],Ut.prototype,"resetHard",null),U([Wt()],Ut.prototype,"installDb",null),U([Wt()],Ut.prototype,"getPalette2bitMapping",null),U([Wt()],Ut.prototype,"getMemory",null),U([Wt()],Ut.prototype,"getMemory32",null),U([Wt()],Ut.prototype,"getDirtyPages",null),U([Wt()],Ut.prototype,"loadMemory",null),U([Wt()],Ut.prototype,"getRomImage",null),U([Wt()],Ut.prototype,"getSavestate",null),U([Wt()],Ut.prototype,"saveState",null),U([Wt()],Ut.prototype,"loadState",null),U([Wt()],Ut.prototype,"getHotsyncName",null),U([Wt()],Ut.prototype,"setClockFactor",null),U([Wt()],Ut.prototype,"setHotsyncName",null),U([Wt()],Ut.prototype,"setClipboardIntegration",null),U([Wt()],Ut.prototype,"getClipboardIntegration",null),U([Wt()],Ut.prototype,"isSuspended",null),U([Wt()],Ut.prototype,"getSuspendKind",null),U([Wt()],Ut.prototype,"cancelSuspend",null),U([Wt()],Ut.prototype,"getSuspendContextClipboardCopy",null),U([Wt()],Ut.prototype,"getSuspendContextClipboardPaste",null),U([Wt()],Ut.prototype,"setNetworkRedirection",null),U([Wt()],Ut.prototype,"getNetworkRedirection",null),U([Wt()],Ut.prototype,"getSuspendContextNetworkConnect",null),U([Wt()],Ut.prototype,"getSuspendContextNetworkRpc",null),U([Wt()],Ut.prototype,"copyBuffer",null),U([Wt()],Ut.prototype,"freeBuffer",null),U([Wt()],Ut.prototype,"setHotsyncNameManagement",null),U([Wt()],Ut.prototype,"resolveBuffer",null),U([Wt()],Ut.prototype,"serializeSessionImage",null),U([Wt()],Ut.prototype,"deserializeSessionImage",null),U([Wt()],Ut.prototype,"launchAppByName",null),U([Wt()],Ut.prototype,"launchAppByDbHeader",null),U([Wt()],Ut.prototype,"deviceSupportsCardSize",null),U([Wt()],Ut.prototype,"clearExternalStorage",null),U([Wt()],Ut.prototype,"allocateCard",null),U([Wt()],Ut.prototype,"decompressCard",null),U([Wt()],Ut.prototype,"getCardData",null),U([Wt()],Ut.prototype,"getCardDirtyPages",null),U([Wt()],Ut.prototype,"getMountedKey",null),U([Wt()],Ut.prototype,"mountCard",null),U([Wt()],Ut.prototype,"removeCard",null),U([Wt()],Ut.prototype,"remountCards",null),U([Wt()],Ut.prototype,"getCardSupportLevel",null),U([Wt()],Ut.prototype,"loadSkin",null);class Hi{constructor(){this.cloudpilot=Ut.create()}}Hi.\u0275fac=function(e){return new(e||Hi)},Hi.\u0275prov=mt({token:Hi,factory:Hi.\u0275fac,providedIn:"root"});class Ls{constructor(e,t,r,o,i,s,a,u){this.storageService=e,this.loadingController=t,this.actionSheetController=r,this.kvsService=o,this.modalController=i,this.alertService=s,this.fetchService=a,this.cloudpilotService=u}openFile(e){this.openFilesImpl(!1,t=>{t.length>0&&e(t[0])})}openFiles(e){this.openFilesImpl(!0,e)}openFromDrop(e,t){"drop"!==e.type||!e.dataTransfer?.files||t(Array.from(e.dataTransfer.files).map(this.readFile.bind(this)))}saveSession(e){var t=this;return(0,te.Z)(function*(){const r=yield t.loadingController.create({message:"Exporting..."});yield r.present();try{const[o,i,s]=yield t.storageService.loadSession(e);if(!o)throw new Error(`invalid ROM ${e.rom}`);const a={deviceId:e.device,metadata:Lx(e),rom:o,memory:i,savestate:s},u=(yield t.cloudpilotService.cloudpilot).serializeSessionImage(a);u?t.saveFile(Ox(e),u):(yield r.dismiss(),t.alertService.errorMessage("Failed to save session."))}finally{r.dismiss()}})()}emergencySaveSession(e,t){var r=this;return(0,te.Z)(function*(){const o=yield r.loadingController.create({message:"Exporting..."});o.style.zIndex="10000000",yield o.present();try{const i=t.getRomImage().slice(),s=t.getMemory().slice(),a=t.saveState()?t.getSavestate().slice():void 0;if(t.framebufferSizeForDevice(e.device)<0)throw new Error(`invalid device ID ${e.device}`);const f={deviceId:e.device,metadata:Lx(e),rom:i,memory:s,savestate:a},g=(yield r.cloudpilotService.cloudpilot).serializeSessionImage(f);g&&r.saveFile(Ox(e),g)}finally{o.dismiss()}})()}saveFile(e,t){const r=new Blob([t],{type:"application/octet-stream"}),o=URL.createObjectURL(r),i=document.createElement("a");i.href=o,i.download=e,i.click()}openUrl(e,t){var r=this;return(0,te.Z)(function*(){let o;try{o=new(ju())(e)}catch{return void(yield r.alertService.errorMessage(`Invalid URL: ${e}`))}try{const i=yield r.fetchService.fetch(e);if(!i.ok)throw new Error("request failed");const s=i.arrayBuffer().then(a=>new Uint8Array(a));return void t({name:o.pathname.replace(/.*\//,""),getContent:()=>s})}catch{yield r.alertService.errorMessage(`Download from ${e} failed.`)}})()}openFilesImpl(e,t){var r=this;return(0,te.Z)(function*(){r.kvsService.kvs.enableRemoteInstall?(yield r.actionSheetController.create({header:"What source do you want to open?",buttons:[{text:"Local files",handler:()=>r.openFilesLocal(e,t)},{text:"File on remote server",handler:()=>r.queryAndOpenFileRemote(t)},{text:"Cancel"}]})).present():r.openFilesLocal(e,t)})()}queryAndOpenFileRemote(e){var t=this;return(0,te.Z)(function*(){let r;try{r=yield new Promise((o,i)=>t.modalController.create({component:up,backdropDismiss:!1,componentProps:{onContinue:o,onCancel:i}}).then(s=>s.present()))}catch{return}finally{t.modalController.dismiss()}yield t.openUrl(r,o=>e([o]))})()}openFilesLocal(e,t){var r=this;this.input&&document.body.removeChild(this.input),this.input=document.createElement("input"),this.input.style.display="none",this.input.multiple=e,this.input.type="file",this.input.addEventListener("change",function(){var o=(0,te.Z)(function*(i){const s=i.target;s?.files&&t(Array.from(s.files).map(r.readFile.bind(r)))});return function(i){return o.apply(this,arguments)}}()),document.body.appendChild(this.input),this.input.click()}readFile(e){let t,r=function(){var o=(0,te.Z)(function*(){return t||(t=new Promise((i,s)=>{const a=new FileReader;a.onload=()=>i(new Uint8Array(a.result)),a.onerror=()=>{console.warn(a.error),s(a.error)},a.readAsArrayBuffer(e)}),t)});return function(){return o.apply(this,arguments)}}();return{name:e.name,getContent:r}}}Ls.\u0275fac=function(e){return new(e||Ls)(se(er),se(Rl),se(ip),se(li),se(ys),se(ro),se(Yc),se(Hi))},Ls.\u0275prov=mt({token:Ls,factory:Ls.\u0275fac,providedIn:"root"});class fc{constructor(e){this.zone=e,this.modalVisibilityChangeEvent=new Ko.j,this.modalActive=!1,this.update(),this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}isModalActive(){return this.modalActive}update(){const e=document.querySelectorAll("ion-alert, ion-modal").length>0;e!==this.modalActive&&this.zone.run(()=>{this.modalActive=e,this.modalVisibilityChangeEvent.dispatch(e)})}}fc.\u0275fac=function(e){return new(e||fc)(se(ut))},fc.\u0275prov=mt({token:fc,factory:fc.\u0275fac,providedIn:"root"});const ig=new Error("permission denied");class Kc{constructor(e,t){this.alertController=e,this.alertService=t,this.clipboardContent="",this.lastClipboardReadAt=performance.now()}isSupported(){return!!navigator.clipboard?.readText&&!!navigator.clipboard?.writeText}handleSuspend(e){if(e.isSuspended())switch(e.getSuspendKind()){case 1:this.handleCopy(e);break;case 2:this.handlePaste(e)}}handleCopy(e){var t=this;return(0,te.Z)(function*(){const r=e.getSuspendContextClipboardCopy(),o=r.GetClipboardContent();try{return yield t.tryCopyDirect(o),void r.Resume()}catch(i){if(i===ig)return r.Cancel(),t.msgPermissionDenied()}try{yield t.tryCopyWithInteraction(o),r.Resume()}catch{yield t.msgCopyFailed(),r.Cancel()}})()}tryCopyDirect(e){var t=this;return(0,te.Z)(function*(){try{yield navigator.clipboard.writeText(e)}catch(r){throw(yield t.isPermissionDenied("clipboard-write"))?ig:r}})()}tryCopyWithInteraction(e){var t=this;return new Promise(function(){var r=(0,te.Z)(function*(o,i){try{const s=yield t.alertController.create({header:"Confirm Copy",message:"Please confirm that you want to copy to the host clipboard",backdropDismiss:!1,buttons:[{text:"Copy",handler:(a=(0,te.Z)(function*(){s.dismiss();try{yield navigator.clipboard.writeText(e),o(!0)}catch(u){i(u)}}),function(){return a.apply(this,arguments)})},{text:"Cancel",handler:()=>{s.dismiss(),o(!1)}}]});s.present()}catch(s){i(s)}var a});return function(o,i){return r.apply(this,arguments)}}())}handlePaste(e){var t=this;return(0,te.Z)(function*(){const r=yield t.tryPaste();e.getSuspendContextClipboardPaste().Resume(r??""),void 0!==r&&(t.clipboardContent=r,t.lastClipboardReadAt=performance.now())})()}tryPaste(){var e=this;return(0,te.Z)(function*(){if(performance.now()-e.lastClipboardReadAt<3e3)return e.clipboardContent;try{return yield e.tryPasteDirect()}catch(t){if(t===ig)return void(yield e.msgPermissionDenied())}try{return yield e.tryPasteWithInteraction()}catch{return void(yield e.msgPasteFailed())}})()}tryPasteDirect(){var e=this;return(0,te.Z)(function*(){try{return yield navigator.clipboard.readText()}catch(t){throw(yield e.isPermissionDenied("clipboard-read"))?ig:t}})()}tryPasteWithInteraction(){var e=this;return new Promise(function(){var t=(0,te.Z)(function*(r,o){try{const i=yield e.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard",backdropDismiss:!1,buttons:[{text:"Paste",handler:(s=(0,te.Z)(function*(){i.dismiss();try{r(yield navigator.clipboard.readText())}catch(a){o(a)}}),function(){return s.apply(this,arguments)})},{text:"Cancel",handler:()=>{i.dismiss(),r(void 0)}}]});i.present()}catch(i){o(i)}var s});return function(r,o){return t.apply(this,arguments)}}())}handlePasteSafari(e){var t=this;return(0,te.Z)(function*(){const r=yield t.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard.",backdropDismiss:!1,buttons:[{text:"Paste",handler:(o=(0,te.Z)(function*(){try{t.clipboardContent=yield navigator.clipboard.readText(),t.lastClipboardReadAt=performance.now(),r.dismiss(),e.Resume(t.clipboardContent)}catch{r.dismiss(),yield t.alertService.errorMessage("Paste from host clipboard failed."),e.Resume("")}}),function(){return o.apply(this,arguments)})},{text:"Cancel",handler:()=>{r.dismiss(),e.Resume("")}}]});var o;yield r.present()})()}isPermissionDenied(e){return(0,te.Z)(function*(){if(navigator.permissions)try{return"denied"===(yield navigator.permissions.query({name:e}))?.state}catch{return!1}return!1})()}msgPermissionDenied(){return this.alertService.errorMessage(`\n        CloudpilotEmu has no permission to access the clipboard. Please check your browser's settings\n        and grant the necessary permission to ${location.origin} .\n    `)}msgCopyFailed(){return this.alertService.errorMessage("Failed to copy to the host clipboard.")}msgPasteFailed(){return this.alertService.errorMessage("Failed to paste from the host clipboard.")}}Kc.\u0275fac=function(e){return new(e||Kc)(se(zc),se(ro))},Kc.\u0275prov=mt({token:Kc,factory:Kc.\u0275fac,providedIn:"root"});const NG="https:"===window.location.protocol?8667:8666,LG=/^[\da-z\-\.]+$/i,$G=/^[\da-z\-\.]+:\d+$/i;function Ab(n){if(!n)return;const e=window.location.protocol;if(n.match(LG))return`${e}//${n}:${NG}`;if(n.match($G))return`${e}//${n}`;try{const t=new URL(n);if("https:"===t.protocol||"http:"===t.protocol)return t.toString().replace(/\/+$/,"")}catch{}}function BG(n){return void 0!==Ab(n.value)?null:{proxyAddress:"invalid"}}class pc{constructor(e,t,r,o){var i=this;this.kvsService=e,this.alertService=t,this.ngZone=r,this.fetchService=o,this.handleConnect=()=>this.mutex.runExclusive((0,te.Z)(function*(){i.socket&&i.disconnect(i.socket);const s=Ab(i.kvsService.kvs.proxyServer);if(!s)return yield i.alertService.errorMessage(`Invalid proxy address: ${i.kvsService.kvs.proxyServer}`),void i.cloudpilot.getSuspendContextNetworkConnect().Cancel();const a=yield i.handshake(void 0,500);switch(a.status){case"failed":return void i.onSocketError(void 0);case"version_mismatch":return yield i.alertService.proxyVersionMismatchError(),void i.cancelSuspend();case"success":break;default:throw new Error("unreachable")}i.socket=new WebSocket(`${s.replace(/^http/,"ws")}/network-proxy/connect?token=${encodeURIComponent(a.token)}`),i.socket.binaryType="arraybuffer",i.bindListeners(i.socket),i.ngZone.run(()=>i.connectTimeoutHandle=setTimeout(i.onSocketError,5e3))})),this.onSocketOpen=()=>{if(this.cancelConnectTimeout(),!this.cloudpilot.isSuspended()||4!==this.cloudpilot.getSuspendKind())return console.error("ERROR: socket connected, but emulation is not waiting for connect"),void this.disconnect(this.socket);this.sessionId=Db(),this.cloudpilot.getSuspendContextNetworkConnect().Resume(this.sessionId),this.resumeEvent.dispatch()},this.onSocketMessage=s=>{if(!this.cloudpilot.isSuspended()||3!==this.cloudpilot.getSuspendKind())return void console.error("ERROR: socket received message, but emulation is not waiting for rpc");if(!(s.data instanceof ArrayBuffer))return console.error("ERROR: socket received a text frame"),this.disconnect(this.socket),this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),void this.cancelSuspend();const a=this.cloudpilot.copyBuffer(new Uint8Array(s.data));this.cloudpilot.getSuspendContextNetworkRpc().ReceiveResponse(a,s.data.byteLength),this.cloudpilot.freeBuffer(a),this.resumeEvent.dispatch()},this.onSocketError=s=>{this.cancelConnectTimeout(),this.cloudpilot.isSuspended()&&4===this.cloudpilot.getSuspendKind()?this.alertService.errorMessage("Failed to connect to proxy."):this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(this.socket),this.cancelSuspend(),console.error("ERROR: socket error",s)},this.onSocketClose=()=>{this.cancelConnectTimeout(),this.alertService.errorMessage("Connection to proxy closed unexpectedly"),this.unbindListeners(this.socket),this.cancelSuspend(),this.sessionId="",this.socket=void 0},this.onProxyDisconnect=s=>{s!==this.sessionId||!this.socket||this.ngZone.run(()=>this.disconnect(this.socket))},this.resumeEvent=new Ko.j,this.mutex=new Ha,this.sessionId=""}initialize(e){this.cloudpilot=e,e.proxyDisconnectEvent.addHandler(this.onProxyDisconnect)}reset(){this.socket&&this.disconnect(this.socket)}handleSuspend(){if(this.cloudpilot&&this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:this.handleConnect();break;case 3:this.handleRpc()}}isConnected(){return!!this.socket}handshake(e=this.kvsService.kvs.proxyServer,t=-1){var r=this;return(0,te.Z)(function*(){const o=Ab(e);if(!o)return{status:"failed"};try{const i=yield r.fetchService.fetch(`${o}/network-proxy/handshake`,{method:"POST",loaderDelay:t});if(!i.ok)return{status:"failed"};const s=yield i.json();return s.version<3||s.compatVersion>3?{status:"version_mismatch"}:{status:"success",token:s.token}}catch{return{status:"failed"}}})()}handleRpc(){const e=this.cloudpilot.getSuspendContextNetworkRpc();this.socket?this.socket.send(this.cloudpilot.resolveBuffer(e.GetRequestData(),e.GetRequestSize())):e.Cancel()}disconnect(e){e&&(this.unbindListeners(e),e.close()),this.sessionId="",this.socket=void 0}bindListeners(e){this.ngZone.run(()=>{e.addEventListener("open",this.onSocketOpen),e.addEventListener("error",this.onSocketError),e.addEventListener("close",this.onSocketClose)}),this.ngZone.runOutsideAngular(()=>e.addEventListener("message",this.onSocketMessage))}unbindListeners(e){e&&(e.removeEventListener("message",this.onSocketMessage),e.removeEventListener("open",this.onSocketOpen),e.removeEventListener("error",this.onSocketError),e.removeEventListener("close",this.onSocketClose))}cancelSuspend(){if(this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:case 3:this.cloudpilot.cancelSuspend()}}cancelConnectTimeout(){void 0!==this.connectTimeoutHandle&&clearTimeout(this.connectTimeoutHandle),this.connectTimeoutHandle=void 0}}pc.\u0275fac=function(e){return new(e||pc)(se(li),se(ro),se(ut),se(Yc))},pc.\u0275prov=mt({token:pc,factory:pc.\u0275fac,providedIn:"root"});class Xc{constructor(){this.buttons=new Map}reset(e){this.cloudpilot=e,this.buttons.clear(),[6,7].forEach(t=>e.queueButtonUp(t))}engage(e){this.cloudpilot&&(this.buttons.has(e)?this.buttons.get(e).timer=0:(this.buttons.set(e,{button:e,timer:0}),this.cloudpilot?.queueButtonDown(e)))}tick(e){if(this.cloudpilot)for(const[t,r]of this.buttons)r.timer+=1e3*e,r.timer>250&&(this.cloudpilot.queueButtonUp(t),this.buttons.delete(t))}}Xc.\u0275fac=function(e){return new(e||Xc)},Xc.\u0275prov=mt({token:Xc,factory:Xc.\u0275fac,providedIn:"root"});class Qc{constructor(){this.hasRenderedPromise=new Promise(e=>this.hasRenderedResolve=e)}notifyHasRendered(){this.hasRenderedResolve()}hasRendered(){return this.hasRenderedPromise}}Qc.\u0275fac=function(e){return new(e||Qc)},Qc.\u0275prov=mt({token:Qc,factory:Qc.\u0275fac,providedIn:"root"});var GG=T(9084),sg=T.n(GG);const ag=function HG(n){const e=WebAssembly.compileStreaming?WebAssembly.compileStreaming(fetch(n)):fetch(n).then(t=>t.arrayBuffer()).then(t=>WebAssembly.compile(t));return function(){var t=(0,te.Z)(function*(r,o){return o(yield WebAssembly.instantiate(yield e,r))});return function(r,o){return t.apply(this,arguments)}}()}("fstools_web.wasm");function Pb(){return(Pb=(0,te.Z)(function*(n){const e=yield Fb.create();if(e.mkfs(n))return e.getImage()})).apply(this,arguments)}function Rb(){return(Rb=(0,te.Z)(function*(n){const e=yield Ob.create(n);if(yield e.gunzip())return e.getDecompressedData()})).apply(this,arguments)}class Fb{constructor(e){this.module=e,this.nativeContext=new e.MkfsContext}static create(){return(0,te.Z)(function*(){return new Fb(yield sg()({print:e=>console.log(e),printErr:e=>console.error(e),instantiateWasm:ag}))})()}mkfs(e){return this.nativeContext.Mkfs(e,"card")}getImage(){const e=this.nativeContext.GetImageSize(),t=this.module.getPointer(this.nativeContext.GetImage());if(0!==e&&0!==t)return this.module.HEAPU32.subarray(t>>>2,t+e>>>2)}}class lg{constructor(e,t){this.module=e,this.result=0,this.nativeContext=new e.FsckContext(t>>>9)}static create(e){return(0,te.Z)(function*(){const t=yield sg()({print:r=>console.log(r),printErr:r=>console.error(r),instantiateWasm:ag});return new lg(t,e)})()}getImageData(){const e=this.nativeContext.GetImageSize(),t=this.module.getPointer(this.nativeContext.GetImage());return this.module.HEAPU32.subarray(t>>>2,t+e>>2)}getDirtyPages(){const e=this.module.getPointer(this.nativeContext.GetDirtyPages()),t=Tb(this.nativeContext.GetImageSize());return this.module.HEAPU8.subarray(e,e+t)}fsck(){if(0!==this.result)return this.result;try{return this.result=this.nativeContext.Fsck(),this.result}catch(e){return console.warn("fsck failed",e),this.result=4,this.result}}getResult(){return this.result}}class Ob{constructor(e,t){this.module=e;const r=new e.FSTools,o=r.Malloc(t.length),i=e.getPointer(o);e.HEAPU8.subarray(i,i+t.length).set(t),e.destroy(r),this.nativeContext=new e.GunzipContext(o,t.length,524288)}static create(e){return(0,te.Z)(function*(){const t=yield sg()({print:r=>console.log(r),printErr:r=>console.error(r),instantiateWasm:ag});return new Ob(t,e)})()}gunzip(){var e=this;return(0,te.Z)(function*(){for(;0===e.nativeContext.Continue();)yield new Promise(t=>setTimeout(t,0));return-1!==e.nativeContext.GetState()||(console.error(`gunzip failed: ${e.nativeContext.GetError()}`),!1)})()}getDecompressedData(){const e=this.nativeContext.GetUncompressedSize(),t=this.nativeContext.GetUncompressedData(),r=this.module.getPointer(t);return this.module.HEAPU8.subarray(r,r+e)}}class Nb{constructor(e,t){this.module=e,this.uncompressedDataSize=t;const r=new e.FSTools,o=r.Malloc(t);this.uncompressedDataPtr=e.getPointer(o),e.destroy(r),this.nativeContext=new e.GzipContext(o,t,524288)}static create(e){return(0,te.Z)(function*(){const t=yield sg()({print:r=>console.log(r),printErr:r=>console.error(r),instantiateWasm:ag});return new Nb(t,e)})()}getBuffer(){return this.module.HEAPU8.subarray(this.uncompressedDataPtr,this.uncompressedDataPtr+this.uncompressedDataSize)}setFilename(e){return this.nativeContext.SetFilename(e),this}setMtime(e){return this.nativeContext.SetMtime(e),this}gzip(){var e=this;return(0,te.Z)(function*(){for(e.nativeContext.Continue();1===e.nativeContext.Continue();)yield new Promise(t=>setTimeout(t,0));return-1!==e.nativeContext.GetState()||(console.error(`gzip failed: ${e.nativeContext.GetError()}`),!1)})()}getGzipData(){const e=this.nativeContext.GetGzipSize(),t=this.nativeContext.GetGzipData(),r=this.module.getPointer(t);return this.module.HEAPU8.subarray(r,r+e)}}var Tr=(()=>{return(n=Tr||(Tr={})).dirty="dirty",n.clean="clean",n.unformatted="unformatted",n.unfixable="unfixable",Tr;var n})(),Or=(()=>{return(n=Or||(Or={})).portrait="portrait",n.landscape90="landscape90",n.landscape270="landscape270",n.portrait180="portrait180",Or;var n})();class qa{constructor(e,t,r){this.cloudpilotService=e,this.storageService=t,this.loadingController=r,this.sessions=[],this.loading=!0,this.updateMutex=new Ha,this.updateSessionsFromStorage().then(()=>this.loading=!1),this.storageService.sessionChangeEvent.addHandler(this.updateSessionsFromStorage.bind(this))}isLoading(){return this.loading}addSessionFromImage(e,t,r={}){var o=this;return(0,te.Z)(function*(){const i={hotsyncName:e.metadata?.hotsyncName,dontManageHotsyncName:!1,speed:1,deviceOrientation:Or.portrait,...r,id:-1,name:t,device:e.deviceId,ram:(yield o.cloudpilotService.cloudpilot).minRamForDevice(e.deviceId)/1024/1024,rom:"",osVersion:e?.metadata?.osVersion},s=yield o.loadingController.create({message:"Importing..."});yield s.present();const a=yield o.storageService.addSession(i,e.rom,e.memory,e.savestate);return yield o.updateSessionsFromStorage(),yield s.dismiss(),a})()}addSessionFromRom(e,t,r,o={}){var i=this;return(0,te.Z)(function*(){const s={hotsyncName:"",dontManageHotsyncName:!1,speed:1,deviceOrientation:Or.portrait,...o,id:-1,name:t,device:r,ram:(yield i.cloudpilotService.cloudpilot).minRamForDevice(r)/1024/1024,rom:""},a=yield i.loadingController.create({message:"Importing..."});yield a.present();const u=yield i.storageService.addSession(s,e);return yield i.updateSessionsFromStorage(),yield a.dismiss(),u})()}getSessions(){return this.sessions}deleteSession(e){var t=this;return(0,te.Z)(function*(){yield t.storageService.deleteSession(e)})()}updateSession(e){var t=this;return(0,te.Z)(function*(){yield t.storageService.updateSession(e)})()}updateSessionsFromStorage(){var e=this;return(0,te.Z)(function*(){e.sessions=yield e.updateMutex.runExclusive((0,te.Z)(function*(){return(yield e.storageService.getAllSessions()).sort((t,r)=>t.name.localeCompare(r.name))}))})()}}qa.\u0275fac=function(e){return new(e||qa)(se(Hi),se(er),se(Rl))},qa.\u0275prov=mt({token:qa,factory:qa.\u0275fac,providedIn:"root"});var YG=T(7971),KG=T.n(YG),Xs=(()=>{return(n=Xs||(Xs={}))[n.success=0]="success",n[n.zipfileError=1]="zipfileError",n[n.ioError=2]="ioError",n[n.cardFull=3]="cardFull",Xs;var n})(),Nl=(()=>{return(n=Nl||(Nl={}))[n.success=0]="success",n[n.ioError=1]="ioError",n[n.cardFull=2]="cardFull",Nl;var n})();function XG(n){return{readonly:0!=(1&n),hidden:0!=(2&n),system:0!=(4&n)}}function Vx(n,e){const t=n.GetName(),r=n.GetModifiedTS();return{path:e,name:t,size:n.GetSize(),lastModifiedTS:r,lastModifiedLocalDate:new Date(1e3*r).toLocaleDateString(),isDirectory:n.IsDirectory(),attributes:XG(n.GetAttributes())}}class Lb{constructor(e){this.module=e,this.vfsNative=new e.Vfs}static create(){return(0,te.Z)(function*(){return new Lb(yield KG()({print:e=>console.log(e),printErr:e=>console.error(e)}))})()}allocateImage(e){this.vfsNative.AllocateImage(e>>>9)}mountImage(e){return this.vfsNative.MountImage(e)}unmountImage(e){this.vfsNative.UnmountImage(e)}getPendingImage(){const e=this.module.getPointer(this.vfsNative.GetPendingImage()),t=this.vfsNative.GetPendingImageSize();if(0!==e&&0!==t)return this.module.HEAPU32.subarray(e>>>2,e+t>>>2)}getImageInSlot(e){const t=this.module.getPointer(this.vfsNative.GetImage(e)),r=this.vfsNative.GetSize(e);if(0!==t&&0!==r)return this.module.HEAPU32.subarray(t>>>2,t+r>>>2)}getDirtyPagesForSlot(e){const t=this.module.getPointer(this.vfsNative.GetDirtyPages(e));if(0===t)return;const r=Tb(this.vfsNative.GetSize(e));return this.module.HEAPU8.subarray(t,t+r)}readdir(e){const t=new this.module.ReaddirContext(e);try{const r=[];for(;0===t.GetStatus();){const o=t.GetEntry();r.push(Vx(o,`${e.replace(/\/*$/,"")}/${o.GetName()}`)),t.Next()}if(2===t.GetStatus()){console.warn(`readdir failed: ${t.GetErrorDescription()}`);const o=t.GetError();return{error:0===o?2:o,reason:t.GetErrorDescription()}}return{error:0,entries:r}}finally{this.module.destroy(t)}}rename(e,t){return this.vfsNative.RenameFile(e,t)}chmod(e,t){let r=0,o=0,i=(s,a)=>{void 0!==s&&(o|=a,s&&(r|=a))};return i(t.hidden,2),i(t.readonly,1),i(t.system,4),this.vfsNative.ChmodFile(e,r,o)}stat(e){const t=this.vfsNative.StatFile(e);return 0!==t?{result:t,entry:void 0}:{entry:Vx(this.vfsNative.GetEntry(),e),result:t}}bytesFree(e){return this.vfsNative.BytesFree(e)}bytesTotal(e){return this.vfsNative.BytesTotal(e)}readFile(e){if(!this.vfsNative.ReadFile(e))return;const t=this.module.getPointer(this.vfsNative.GetCurrentFileContent()),r=this.vfsNative.GetCurrentFileSize(),o=this.module.HEAPU8.subarray(t,t+r).slice();return this.vfsNative.ReleaseCurrentFile(),o}unlinkFile(e){return this.vfsNative.UnlinkFile(e)}mkdir(e){return this.vfsNative.Mkdir(e)}switchSlot(e){this.vfsNative.SwitchSlot(e)}createZipArchive({files:e,directories:t,prefix:r}){var o=this;return(0,te.Z)(function*(){const i=new o.module.CreateZipContext(r,25),s=[];try{for(e&&e.forEach(g=>i.AddFile(g)),t&&t.forEach(g=>i.AddDirectory(g));2!==i.GetState();){switch(i.Continue()){case-2:case-1:s.push(i.GetErrorItem())}2!==i.GetState()&&(yield new Promise(g=>setTimeout(g,0)))}let a;const u=o.module.getPointer(i.GetZipContent()),f=i.GetZipSize();return 0!==u&&0!==f&&(a=o.module.HEAPU8.subarray(u,u+f).slice()),{archive:a,failedItems:s}}finally{o.module.destroy(i)}})()}deleteRecursive(e){var t=this;return(0,te.Z)(function*(){const r=new t.module.DeleteRecursiveContext(25);try{for(e.forEach(o=>r.AddFile(o));1===r.Continue();)yield new Promise(o=>setTimeout(o,0));return 2===r.GetState()?{success:!0}:{success:!1,failingItem:r.GetFailingPath()}}finally{t.module.destroy(r)}})()}writeFile(e,t){const r=this.copyIn(t);try{return this.vfsNative.WriteFile(e,t.length,r)}finally{this.vfsNative.Free(r)}}unzipArchive(e,t,r){var o=this;return(0,te.Z)(function*(){const i=o.copyIn(t),s=new o.module.UnzipContext(25,e,i,t.length),a=u=>({result:u,entriesTotal:s.GetEntriesTotal(),entriesSuccess:s.GetEntriesSuccess()});try{for(;;)switch(yield new Promise(f=>setTimeout(f,0)),s.GetState()){case 1:return a(Xs.success);case-3:return a(Xs.cardFull);case-1:return a(Xs.ioError);case-2:return a(Xs.zipfileError);case 2:(yield r.onFileCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;case 4:(yield r.onDirectoryCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;default:s.Continue()}}finally{o.module.destroy(s),o.vfsNative.Free(i)}})()}paste(e,t,r,o,i){var s=this;return(0,te.Z)(function*(){const a=new s.module.PasteContext(25,e,t);r.forEach(u=>a.AddFile(u)),a.SetDeleteAfterCopy("cut"===o);try{for(;;)switch(yield new Promise(f=>setTimeout(f,0)),a.GetState()){case 1:return Nl.success;case-2:return Nl.cardFull;case-1:return Nl.ioError;case 2:(yield i.onFileCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;case 4:(yield i.onDirectoryCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;default:a.Continue()}}finally{s.module.destroy(a)}})()}copyIn(e){const t=this.vfsNative.Malloc(e.length),r=this.module.getPointer(t);return this.module.HEAPU8.subarray(r,r+e.length).set(e),t}}var QG=T(5541),Ux=T.n(QG);function jx(n){return 0===n.length?n:n[0].toUpperCase()+n.substring(1)}class Qs{constructor(e,t,r,o,i,s){this.storageService=e,this.storageCardContext=t,this.fileService=r,this.loadingController=o,this.alertController=i,this.alertService=s,this.onReleaseCard=new Ko.j,this.mountedCards=new Array(2),this.primarySlot=0,this.vfs=Lb.create(),this.directoryCache=new Map,this.bytesFree=0,this.bytesTotal=0,this.clipboard=void 0,this.clipboardSet=new Set,this.vfs.then(a=>this.vfsInstance=a)}setStorageCardService(e){this.storageCardService=e,e.mountCardEvent.addHandler(this.invalidateClipboardForCard.bind(this)),e.deleteCardEvent.addHandler(this.invalidateClipboardForCard.bind(this))}normalizePath(e){return("/"+e).replace(/\/{2,}/g,"/").replace(/\/*$/,"")}splitPath(e){return this.normalizePath(e).replace(/^\/+/,"").split("/")}dirname(e){return this.normalizePath(e).replace(/\/[^\/]*$/,"")}isFilenameValid(e){return void 0===e||!/[\/\\]/.test(e)}isEntryInClipboard(e){if(this.clipboard&&this.clipboard.storageId===this.primaryCard?.storageId)return this.clipboardSet.has(e.path)?this.clipboard.operation:void 0}activateCard(e){var t=this;return(0,te.Z)(function*(){if(t.primaryCard?.id!==e){if(t.secondaryCard?.id===e)return t.primarySlot=t.secondarySlot,void(yield t.activatePrimaryCard());throw new Error(`card ${e} not mounted in VFS`)}})()}mountCardUnchecked(e,t,r){var o=this;return(0,te.Z)(function*(){const i=yield o.storageService.getCard(e);if(!i)throw new Error(`no card with id ${e}`);if(o.primaryCard?.id===e||o.secondaryCard?.id===e)throw new Error(`card ${e} already mounted in VFS`);o.storageCardContext.claim(e,Mr.vfs),o.primaryCard&&o.primaryCard.storageId===o.clipboard?.storageId&&(o.primarySlot=o.secondarySlot),o.primaryCard&&(yield o.releaseCard(o.primaryCard.id));const s=yield o.vfs;s.allocateImage(i.size);const a=s.getPendingImage();if(!a)throw new Error("failed to allocate image");return r?a.set(r):yield o.storageService.loadCardData(e,a,Mr.vfs),s.mountImage(o.primarySlot)?(o.primaryCard=i,yield o.activatePrimaryCard(),!0):(o.storageCardContext.release(e,Mr.vfs),!1)})()}releaseCard(e){var t=this;return(0,te.Z)(function*(){let r;if(t.primaryCard?.id===e)r=t.primarySlot;else{if(t.secondaryCard?.id!==e)return;r=t.secondarySlot}(yield t.vfs).unmountImage(r),t.mountedCards[r]=void 0,t.storageCardContext.release(e,Mr.vfs),t.onReleaseCard.dispatch(e)})()}readdir(e){if(!this.vfsInstance)return[];const t=this.normalizePath(e);if(!this.directoryCache.has(t)){const r=this.vfsInstance.readdir(e);this.directoryCache.set(t,0===r.error?r.entries:[])}return this.directoryCache.get(t)||[]}updateFileEntry(e,t){var r=this;return(0,te.Z)(function*(){const o=yield r.vfs;if(e=r.normalizePath(e),!r.isFilenameValid(t.name))return void(yield r.error("The provided file name is invalid."));const{result:i,entry:s}=o.stat(e);if(0===i)if(void 0===t.attributes||Ux()(t.attributes,s.attributes)||0===(r.directoryCache.delete(r.dirname(e)),o.chmod(e,t.attributes))){if(void 0!==t.name&&t.name!==s.name)switch(r.directoryCache.delete(r.dirname(e)),o.rename(e,`${r.dirname(e)}/${t.name}`)){case 0:break;case 6:return void(yield r.error("The provided file name is invalid."));default:return void(yield r.fatalError("Unable to write the updated file attributes."))}yield r.sync()}else yield r.fatalError("Unable to write the updated file attributes.");else yield r.error(`The path ${e} is invalid. This is a bug in Cloudpilot.`)})()}saveFile(e){var t=this;return(0,te.Z)(function*(){const r=yield t.loadingController.create();yield r.present();try{const i=(yield t.vfs).readFile(e.path);if(!i)return void(yield t.alertService.errorMessage(`Could not read file '${e.name}'.`));t.fileService.saveFile(e.name,i)}finally{yield r.dismiss()}})()}archiveFiles(e,t){var r=this;return(0,te.Z)(function*(){if(0===e.length||!r.primaryCard)return;const o=yield r.loadingController.create({message:"Creating archive..."});yield o.present();try{const i=yield r.vfs,s=e.filter(v=>v.isDirectory).map(v=>r.normalizePath(v.path)),a=e.filter(v=>!v.isDirectory).map(v=>r.normalizePath(v.path)),u=1===e.length?`${e[0].name}.zip`:function AG(n){return`files_${og(n.name)}.zip`}(r.primaryCard),{archive:f,failedItems:g}=yield i.createZipArchive({directories:s,files:a,prefix:t});yield o.dismiss(),g.length>0&&(g.length<=3?yield r.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${g.join("<br>")}`):yield r.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${g.slice(0,3).join("<br>")}<br><br> and ${g.length-3} other file`)),f&&r.fileService.saveFile(u,f)}finally{yield o.dismiss()}})()}unlinkEntry(e){var t=this;return(0,te.Z)(function*(){if(e.isDirectory)return;const o=(yield t.vfs).unlinkFile(e.path);if(0!==o)return console.error(`failed to unlink ${e.path}: ${o}`),void(yield t.error(`Failed to delete: ${e.path}`));yield t.updateBytesFree(),yield t.sync(),t.directoryCache.delete(t.dirname(e.path))})()}deleteRecursive(e){var t=this;return(0,te.Z)(function*(){const r=e.map(i=>t.normalizePath(i.path)),o=yield t.loadingController.create({message:"Deleting..."});yield o.present();try{const s=yield(yield t.vfs).deleteRecursive(r);if(!s.success)return yield o.dismiss(),void(yield t.fatalError(`Failed to delete ${s.failingItem}`));yield t.updateBytesFree(),yield t.sync(),e.map(a=>a.path).forEach(a=>t.directoryCache.delete(t.dirname(a)))}finally{yield o.dismiss()}})()}mkdir(e){var t=this;return(0,te.Z)(function*(){switch((yield t.vfs).mkdir(e)){case 6:return void(yield t.alertService.errorMessage("Invalid name."));case 7:return void(yield t.alertService.errorMessage("No space left on card."));case 8:return void(yield t.alertService.errorMessage("Name already taken."));case 0:break;default:return void(yield t.error(`Failed to create ${e}.`))}yield t.updateBytesFree(),yield t.sync(),t.directoryCache.delete(t.dirname(e))})()}getBytesFree(){return this.bytesFree}getBytesTotal(){return this.bytesTotal}isClipboardPopulated(){if(!this.clipboard||!this.storageCardService)return!1;const e=this.storageCardService.getAllCards().find(t=>t.storageId===this.clipboard?.storageId);return!!e&&(e.status===Tr.clean||e.status===Tr.dirty&&!!e.dontFsckAutomatically)}invalidateClipboardForCard(e){this.clipboard?.storageId===e.storageId&&(this.clipboard=void 0,this.clipboardSet.clear())}copyToClipboard(e,t,r){this.primaryCard&&(this.clipboard&&this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)),this.clipboard={operation:r,prefix:this.normalizePath(e),storageId:this.primaryCard.storageId,items:t.map(o=>({name:o,path:this.normalizePath(`${e}/${o}`)}))},this.clipboardSet.clear(),this.clipboard.items.map(o=>o.path).forEach(o=>this.clipboardSet.add(o)),this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)))}unpackArchive(e,t){var r=this;return(0,te.Z)(function*(){const o=yield r.loadingController.create();yield o.present();try{const{entriesTotal:i,entriesSuccess:s,result:a}=yield r.unpackArchiveUnchecked(e,t);let u,f;switch(yield o.dismiss(),a){case Xs.success:u="The archive was extracted successfully, but some entries were skipped.",f="Skipped entries";break;case Xs.ioError:return void(yield r.fatalError("There was an error writing to the card."));case Xs.cardFull:u="No space left on card.",f="No space left";break;case Xs.zipfileError:u="There was an error reading from the archive.",f="Error reading archive";break;default:throw new Error("unreachable")}const g=i-s,v=I=>I>1?`${I} entries`:"one entry";i>0&&g===i&&(yield r.alertService.message(f,`\n                    ${u}\n                    <br><br>\n                    The archive contains ${v(i)}, but none could be unpacked.\n                `)),g>0&&s>0&&(yield r.alertService.message(f,`\n                    ${u}\n                    <br><br>\n                    ${jx(v(s))} unpacked succesfully, but ${v(g)} could not be unpacked.\n                `))}finally{o.dismiss()}})()}paste(e){var t=this;return(0,te.Z)(function*(){if(!t.isClipboardPopulated())return;const r=yield t.loadingController.create();yield r.present();try{const o=yield t.pasteUnchecked(e);switch(yield r.dismiss(),o){case Nl.cardFull:yield t.alertService.message("No space left","No space left on card.");break;case Nl.ioError:return void(yield t.fatalError("There was an error copying files to the card."))}}catch(o){yield t.alertService.errorMessage(o?.message||"Unknown error.")}finally{r.dismiss()}})()}addFiles(e,t){var r=this;return(0,te.Z)(function*(){if(0===e.length)return;const o=yield r.loadingController.create();yield o.present();try{const i=yield r.addFilesUnchecked(e,t);yield o.dismiss();const s=a=>a>1?`${a} entries`:"one file";i.length===e.length?yield r.alertService.message("Skipped files","No files were added to the card."):0!==i.length&&(yield r.alertService.message("Skipped files",`Successfully added ${s(e.length-i.length)} to card. ${jx(s(i.length))} could not be added.\n                `))}finally{o.dismiss()}})()}addFilesUnchecked(e,t){var r=this;return(0,te.Z)(function*(){const o=r.readdir(t),i=[],s=yield r.vfs;let a=!1,u=!1,f=!1,g=!1;e:for(let v=0;v<e.length;v++){const I=e[v],k=o.find(ye=>ye.name===I.name);if(k&&k.isDirectory){if(!f){const{overwrite:Ge,rememberChoice:Ye}=yield r.overwriteFileDialog(I.name,"directory");g=Ge,f=Ye}let ye=!0;if(g&&(ye=!(yield s.deleteRecursive([r.normalizePath(`${t}/${I.name}`)])).success),ye){i.push(I.name);continue}}if(k&&!k.isDirectory){if(!a){const{overwrite:ye,rememberChoice:Ge}=yield r.overwriteFileDialog(I.name,"file");u=ye,a=Ge}if(!u){i.push(I.name);continue}}let K;try{K=yield I.getContent()}catch(ye){console.warn(ye),i.push(I.name),yield r.alertService.errorMessage(`Unable to open ${I.name}`);continue}switch(s.writeFile(r.normalizePath(`${t}/${I.name}`),K)){case 3:yield r.alertService.errorMessage("Card full."),i.push(...e.slice(v).map(ye=>ye.name));break e;case 4:throw yield r.fatalError("Unable to write file."),new Error;case 0:break;default:i.push(I.name)}}return yield r.updateBytesFree(),yield r.sync(),r.directoryCache.delete(r.normalizePath(t)),i})()}collisionHandlers(){var e=this;let t=!1,r=!1,o=!1,i=!1;return{onFileCollision:(s=(0,te.Z)(function*(a){if(r)return t;const{overwrite:u,rememberChoice:f}=yield e.overwriteFileDialog(a,"file");return t=u,r=f,t}),function(u){return s.apply(this,arguments)}),onDirectoryCollision:function(){var s=(0,te.Z)(function*(a){if(i)return o;const{overwrite:u,rememberChoice:f}=yield e.overwriteFileDialog(a,"directory");return o=u,i=f,o});return function(u){return s.apply(this,arguments)}}()};var s}unpackArchiveUnchecked(e,t){var r=this;return(0,te.Z)(function*(){const i=yield(yield r.vfs).unzipArchive(r.normalizePath(t),e,{...r.collisionHandlers(),onInvalidEntry:(s=(0,te.Z)(function*(a){yield r.alertService.message("Invalid entry",`Could not extract ${a}`,{},"Continue")}),function(u){return s.apply(this,arguments)})});var s;return i.result!==Xs.ioError&&(yield r.updateBytesFree(),yield r.sync(),r.directoryCache.clear()),i})()}pasteUnchecked(e){var t=this;return(0,te.Z)(function*(){if(!t.clipboard||!t.primaryCard)throw new Error("invalid state for paste");const r=yield t.mountClipboard(),i=yield(yield t.vfs).paste(`${t.primarySlot}:${t.normalizePath(e)}`,`${r}:${t.normalizePath(t.clipboard.prefix)}`,t.clipboard.items.map(s=>s.name),t.clipboard.operation,t.collisionHandlers());return i===Nl.ioError||(yield t.updateBytesFree(),yield t.sync(t.primarySlot),r!==t.primarySlot&&(yield t.sync(r)),t.directoryCache.clear(),"cut"===t.clipboard.operation&&(t.clipboard=void 0,t.clipboardSet.clear())),i})()}mountClipboard(){var e=this;return(0,te.Z)(function*(){if(!e.clipboard||!e.primaryCard||!e.storageCardService)throw new Error("invalid state for paste");if(e.clipboard.storageId===e.primaryCard.storageId)return e.primarySlot;if(e.secondaryCard&&e.clipboard.storageId===e.secondaryCard.storageId)return e.secondarySlot;e.secondaryCard&&(yield e.releaseCard(e.secondaryCard.id));const t=e.storageCardService.getAllCards().find(i=>i.storageId===e.clipboard?.storageId);if(!t)throw new Error("invalid storage card in clipboard");const r=yield e.vfs;r.allocateImage(t.size);const o=r.getPendingImage();if(!o)throw new Error("failed to allocate image");if(e.storageCardContext.claim(t.id,Mr.vfs),yield e.storageService.loadCardData(t.id,o,Mr.vfs),!r.mountImage(e.secondarySlot))throw e.storageCardContext.release(t.id,Mr.vfs),new Error("unable to mount card");return e.secondaryCard=t,e.secondarySlot})()}overwriteFileDialog(e,t){var r=this;return(0,te.Z)(function*(){let o=!1,i=!1;const s=yield r.alertController.create({header:"File collision",backdropDismiss:!1,cssClass:"alert-checkbox-no-border installation-error",message:"file"===t?`Do you want to overwrite the existing file ${e}?`:`\n                    Do you want to overwrite the existing directory ${e}?\n                    <br><br>\n                    WARNING: All files in this directory will be lost.\n                    `,buttons:[{text:"No",role:"cancel"},{text:"Yes",handler:()=>o=!0}],inputs:[{type:"checkbox",label:"Remember choice",checked:!1,handler:a=>i=!0===a.checked,cssClass:"alert-checkbox"}]});return yield s.present(),yield s.onDidDismiss(),{overwrite:o,rememberChoice:i}})()}error(e){var t=this;return(0,te.Z)(function*(){yield t.alertService.errorMessage(e)})()}fatalError(e){var t=this;return(0,te.Z)(function*(){t.primaryCard&&(yield t.storageService.updateStorageCardPartial(t.primaryCard.id,{status:Tr.dirty}),yield t.releaseCard(t.primaryCard.id),t.alertService.errorMessage(`${e}\n        <br><br>\n        No changes have been written, and the card has been unmounted to prevent damage to the file system.\n        `))})()}sync(e=this.primarySlot){var t=this;return(0,te.Z)(function*(){const r=t.mountedCards[e];if(!r)return;const o=yield t.vfs,i=o.getImageInSlot(e),s=o.getDirtyPagesForSlot(e);!i||!s||(yield t.storageService.updateCardData(r.id,i,s,Mr.vfs),s.fill(0))})()}activatePrimaryCard(){var e=this;return(0,te.Z)(function*(){const t=yield e.vfs;t.switchSlot(e.primarySlot),e.bytesFree=t.bytesFree(e.primarySlot),e.bytesTotal=t.bytesTotal(e.primarySlot),e.directoryCache.clear()})()}updateBytesFree(){var e=this;return(0,te.Z)(function*(){e.bytesFree=(yield e.vfs).bytesFree(e.primarySlot)})()}get secondarySlot(){return 1-this.primarySlot}get primaryCard(){return this.mountedCards[this.primarySlot]}set primaryCard(e){this.mountedCards[this.primarySlot]=e}get secondaryCard(){return this.mountedCards[this.secondarySlot]}set secondaryCard(e){this.mountedCards[this.secondarySlot]=e}}Qs.\u0275fac=function(e){return new(e||Qs)(se(er),se(za),se(Ls),se(Rl),se(zc),se(ro))},Qs.\u0275prov=mt({token:Qs,factory:Qs.\u0275fac,providedIn:"root"});var Ao=(()=>{return(n=Ao||(Ao={}))[n.mb4=0]="mb4",n[n.mb8=1]="mb8",n[n.mb16=2]="mb16",n[n.mb32=3]="mb32",n[n.mb64=4]="mb64",n[n.mb128=5]="mb128",Ao;var n})();function Gx(){return Db().replace(/-/g,"")}class ga{constructor(e,t,r,o,i,s,a,u,f,g,v){this.sessionService=e,this.storageService=t,this.emulationStateService=r,this.cloudpilotService=o,this.loadingController=i,this.snapshotService=s,this.alertService=a,this.errorService=u,this.fileService=f,this.vfsService=g,this.storageCardContext=v,this.mountCardEvent=new Ko.j,this.deleteCardEvent=new Ko.j,this.loading=!0,this.cards=[],this.updateMutex=new Ha,this.vfsService.setStorageCardService(this),this.updateCardsFromDB().then(()=>this.loading=!1),t.storageCardChangeEvent.addHandler(()=>this.updateCardsFromDB())}getAllCards(){return this.cards}createEmptyCard(e,t,r){var o=this;return(0,te.Z)(function*(){const i=yield o.loadingController.create({message:"Formatting..."});try{yield i.present();const s=yield function ZG(n){return Pb.apply(this,arguments)}(function JG(n){switch(n){case Ao.mb4:return 4;case Ao.mb8:return 8;case Ao.mb16:return 16;case Ao.mb32:return 32;case Ao.mb64:return 64;case Ao.mb128:return 128;default:throw new Error(`bad card size ${n}`)}}(t));if(!s)throw new Error("failed to create image");const a={storageId:Gx(),name:e,size:4*s.length,status:Tr.clean,dontFsckAutomatically:r};return yield o.storageService.importStorageCard(a,s)}finally{i.dismiss()}})()}createCardFromImage(e,t,r){var o=this;return(0,te.Z)(function*(){const i={storageId:Gx(),name:e,size:t.length,status:Tr.clean,dontFsckAutomatically:r},s=new Uint32Array(t.buffer,t.byteOffset,t.byteLength>>>2),a=yield o.loadingController.create({message:"Importing..."});try{if(r)yield a.present(),yield o.storageService.importStorageCard(i,s);else{const[u,f]=yield o.fsckNewCard(s,i);yield a.present(),yield o.storageService.importStorageCard(f,u)}}finally{a.dismiss()}})()}onEmulatorStop(){const e=this.emulationStateService.getCurrentSession()?.mountedCard;void 0!==e&&this.storageCardContext.release(e,Mr.cloudpilot)}loadCardInEmulator(e,t){var r=this;return(0,te.Z)(function*(){const o=yield r.storageService.getCard(e);if(!o)throw new Error(`no card with id ${e}`);yield r.vfsService.releaseCard(e);const i=yield r.cloudpilotService.cloudpilot;if(i.getMountedKey())throw new Error("attempt to mount a card while another card is mounted");if(!i.allocateCard(o.storageId,o.size))throw new Error("failed to allocate card");const s=i.getCardData(o.storageId);if(!s)throw new Error("failed to access card data");return r.storageCardContext.claim(e,Mr.cloudpilot),t?s.set(t):yield r.storageService.loadCardData(o.id,s,Mr.cloudpilot),o})()}ejectCurrentCard(){var e=this;return(0,te.Z)(function*(){const t=e.emulationStateService.getCurrentSession();if(!t)throw new Error("no running session");const r=t?.mountedCard;if(void 0===r)throw new Error("no mounted card");const o=yield e.storageService.getCard(r);if(!o)throw new Error(`no card with id ${r}`);yield e.storageService.updateStorageCardPartial(r,{status:Tr.dirty}),yield e.snapshotService.waitForPendingSnapshot(),yield e.snapshotService.triggerSnapshot(),yield e.storageService.updateSessionPartial(t.id,{mountedCard:void 0}),(yield e.cloudpilotService.cloudpilot).removeCard(o.storageId),e.snapshotService.resetCard(),e.storageCardContext.release(r,Mr.cloudpilot)})()}checkCard(e){var t=this;return(0,te.Z)(function*(){const r=t.mountedInSession(e.id);if(r){let i=!1;if(yield t.alertService.message("Card is attached",`This card needs to be ejected from session '${r.name}' before it can be checked.`,{"Eject now":()=>i=!0},"Cancel"),!i)return;yield t.ejectCard(e.id)}const o=yield t.executeFsckAndUpdateCard(e.id);switch(o.getResult()){case 1:return void t.alertService.cardIsClean();case 3:return void t.alertService.cardHasNoValidFileSystem();case 4:t.alertService.cardHasUncorrectableErrors();break;case 2:{let i=!1;return yield t.alertService.message("Filesystem errors",`The filesystem on this card contains errors${e.dontFsckAutomatically?"":"  that need to be fixed before it can be used"}. Do you want to fix them now?`,{"Fix now":()=>i=!0},"Cancel"),void(i?yield t.applyFsckResult(e.id,o):t.storageCardContext.release(e.id,Mr.fstools))}}})()}insertCard(e){return this.checkAndClaimCard(e,"insert")}browseCard(e){var t=this;return(0,te.Z)(function*(){if(t.storageCardContext.getOwner(e.id)===Mr.vfs)return yield t.vfsService.activateCard(e.id),!0;const r=t.mountedInSession(e.id);if(r){let o=!1;if(yield t.alertService.message("Card is attached",`This card needs to be ejected from session '${r.name}' before it can be browsed.`,{"Eject now":()=>o=!0},"Cancel"),!o)return!1;yield t.ejectCard(e.id)}return t.checkAndClaimCard(e.id,"vfs")})()}updateCard(e,t){var r=this;return(0,te.Z)(function*(){const o=yield r.storageService.getCard(e);if(!o)throw new Error(`no card with id ${e}`);return!t.dontFsckAutomatically&&o.dontFsckAutomatically&&(t.status=Tr.dirty),r.storageService.updateStorageCardPartial(e,t)})()}deleteCard(e){var t=this;return(0,te.Z)(function*(){const r=yield t.loadingController.create();yield r.present();try{const o=t.cards.find(i=>i.id===e);yield t.vfsService.releaseCard(e),yield t.ejectCard(e),yield t.storageService.deleteStorageCard(e),o&&t.deleteCardEvent.dispatch(o)}finally{r.dismiss()}})()}saveCard(e,t,r){var o=this;return(0,te.Z)(function*(){const i=yield o.getCard(e);if(!i)throw new Error(`no card with id ${e}`);const s=yield o.loadingController.create({message:"Exporting..."});let a,u=r?yield Nb.create(i.size):void 0;if(u){let f=u.getBuffer();a=new Uint32Array(f.buffer,f.byteOffset,f.byteLength>>2)}try{yield s.present();const f=o.mountedInSession(e);let g;if(f&&f.id===o.emulationStateService.getCurrentSession()?.id&&(yield o.snapshotService.waitForPendingSnapshot(),yield o.snapshotService.triggerSnapshot(),g=(yield o.cloudpilotService.cloudpilot).getCardData(i.storageId),g&&(a?a.set(g):a=g)),g||(a||(a=new Uint32Array(i.size>>>2)),yield o.storageService.loadCardData(i.id,a,o.storageCardContext.getOwner(e))),u){if(u.setFilename(t).setMtime(Math.floor(Date.now()/1e3)),!(yield u.gzip()))return void o.alertService.errorMessage("Failed to compress card image.");t+=".gz"}}finally{s.dismiss()}o.fileService.saveFile(t,u?u.getGzipData():new Uint8Array(a.buffer,a.byteOffset,a.length<<2))})()}getCard(e){var t=this;return(0,te.Z)(function*(){return t.storageService.getCard(e)})()}mountedInSession(e){return this.sessionService.getSessions().find(t=>t.mountedCard===e)}isLoading(){return this.loading}updateCardsFromDB(){var e=this;return(0,te.Z)(function*(){e.cards=yield e.updateMutex.runExclusive((0,te.Z)(function*(){return(yield e.storageService.getAllStorageCards()).sort((t,r)=>t.name.localeCompare(r.name))}))})()}cardIsMounted(e){var t=this;return(0,te.Z)(function*(){return(yield t.storageService.getAllSessions()).some(o=>o.mountedCard===e)})()}checkAndClaimCard(e,t){var r=this;return(0,te.Z)(function*(){if(yield r.cardIsMounted(e))throw new Error("card already mounted");let o=yield r.getCard(e);if(!o)throw new Error(`no card with id ${e}`);let i,s=!0,a=!1;if(!o.dontFsckAutomatically){if(o.status===Tr.dirty){if(i=yield r.executeFsckAndUpdateCard(e),2===i.getResult()){if(s=!1,yield r.alertService.message("Filesystem errors",`The filesystem on this card contains errors that have to fixed before it can be ${"insert"===t?"inserted":"browsed"}. Do you want to fix them now?`,{"Fix now":()=>s=!0},"Cancel"),!s)return r.storageCardContext.release(e,Mr.fstools),!1;yield r.applyFsckResult(o.id,i)}if(o=yield r.getCard(e),!o)throw new Error(`no card with id ${e}`)}switch(o.status){case Tr.clean:break;case Tr.unformatted:if("vfs"===t)return yield r.alertService.message("Card unformatted","This card is unformatted and cannot be browsed. Insert it into a device and format it."),!1;case Tr.dirty:return yield r.alertService.message("Card requires check",`This card needs to be checked before it can be ${"insert"===t?"inserted":"browsed"}.`),!1;case Tr.unfixable:if(s=!1,a=!0,yield r.alertService.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors. Writing could cause further damage. Do you want to insert it nevertheless?",{"Insert card":()=>s=!0},"Cancel"),!s)return!1;break;default:throw new Error("unreachable: bad card status")}}try{"insert"===t?(yield r.vfsService.releaseCard(e),yield r.mountCardInEmulator(e,i?.getImageData())):(yield r.mountCardForBrowsing(e,a,i?.getImageData()))||(yield r.alertService.message("Failed to mount card","The card could not be mounted for browsing."))}catch(u){return r.errorService.fatalBug(u instanceof Error?u.message:"mount failed"),!1}return!0})()}executeFsckAndUpdateCard(e){var t=this;return(0,te.Z)(function*(){const r=yield t.loadingController.create({message:"Checking card..."});try{if(yield r.present(),yield t.cardIsMounted(e))throw new Error("attempt to fsck a mounted card");const o=yield t.storageService.getCard(e);if(!o)throw new Error(`no card with id ${e}`);yield t.vfsService.releaseCard(e),t.storageCardContext.claim(e,Mr.fstools);const i=yield lg.create(o.size);switch(yield t.storageService.loadCardData(o.id,i.getImageData(),Mr.fstools),i.fsck()){case 1:yield t.storageService.updateStorageCardPartial(e,{status:Tr.clean}),t.storageCardContext.release(e,Mr.fstools);break;case 3:yield t.storageService.updateStorageCardPartial(e,{status:Tr.unformatted}),t.storageCardContext.release(e,Mr.fstools);break;case 2:yield t.storageService.updateStorageCardPartial(e,{status:Tr.dirty});break;case 4:yield t.storageService.updateStorageCardPartial(e,{status:Tr.unfixable}),t.storageCardContext.release(e,Mr.fstools);break;default:throw new Error("unrachable: invalid fsck result")}return i}finally{r.dismiss()}})()}applyFsckResult(e,t){var r=this;return(0,te.Z)(function*(){if(2!==t.getResult())return;const o=yield r.loadingController.create({message:"Fixing errors..."});try{yield o.present(),yield r.storageService.updateCardData(e,t.getImageData(),t.getDirtyPages(),Mr.fstools),yield r.storageService.updateStorageCardPartial(e,{status:Tr.clean}),r.storageCardContext.release(e,Mr.fstools)}finally{o.dismiss()}})()}fsckNewCard(e,t){var r=this;return(0,te.Z)(function*(){const o=yield r.loadingController.create({message:"Checking card..."});let i,s;try{yield o.present(),i=yield lg.create(t.size),i.getImageData().set(e),s=i.fsck()}finally{o.dismiss()}switch(s){case 1:return[e,{...t,status:Tr.clean}];case 2:{let a=!1;return yield r.alertService.message("Filesystem errors","The filesystem on this card contains errors that must be fixed before the card can be used. Do you want to fix them now?",{"Fix now":()=>a=!0},"Skip"),a?[i.getImageData(),{...t,status:Tr.clean}]:[e,{...t,status:Tr.dirty}]}case 3:return yield r.alertService.cardHasNoValidFileSystem(),[e,{...t,status:Tr.unformatted}];case 4:return yield r.alertService.cardHasUncorrectableErrors(),[e,{...t,status:Tr.unfixable}];default:throw new Error("unreachable: bad fsck result")}})()}ejectCard(e){var t=this;return(0,te.Z)(function*(){const r=t.mountedInSession(e),o=yield t.storageService.getCard(e);!r||!o||(r.id===t.emulationStateService.getCurrentSession()?.id?yield t.ejectCurrentCard():(yield t.storageService.updateSessionPartial(r.id,{mountedCard:void 0}),yield t.storageService.updateStorageCardPartial(e,{status:Tr.dirty})))})()}mountCardInEmulator(e,t){var r=this;return(0,te.Z)(function*(){if(yield r.cardIsMounted(e))throw new Error("card already mounted");const o=yield r.loadingController.create({message:"Inserting..."});try{yield o.present(),yield r.vfsService.releaseCard(e);const i=r.emulationStateService.getCurrentSession();if(!i)throw new Error("no current session");if(void 0!==i.mountedCard)throw new Error("session already has a mounted card");const s=yield r.loadCardInEmulator(e,t),a=yield r.cloudpilotService.cloudpilot;if(yield r.storageService.updateStorageCardPartial(e,{status:Tr.dirty}),yield r.storageService.updateSessionPartial(i.id,{mountedCard:e}),!a.mountCard(s.storageId))throw a.removeCard(s.storageId),new Error("failed to mount card");return r.mountCardEvent.dispatch(s),s}finally{o.dismiss()}})()}mountCardForBrowsing(e,t,r){var o=this;return(0,te.Z)(function*(){const i=yield o.loadingController.create({message:"Mounting..."});try{return yield i.present(),yield o.vfsService.mountCardUnchecked(e,t,r)}finally{i.dismiss()}})()}}ga.\u0275fac=function(e){return new(e||ga)(se(qa),se(er),se(vs),se(Hi),se(Rl),se(Za),se(ro),se(Ks),se(Ls),se(Qs),se(za))},ga.\u0275prov=mt({token:ga,factory:ga.\u0275fac,providedIn:"root"});class as extends EG{constructor(e,t,r,o,i,s,a,u,f,g,v,I,k,K,ye,Ge,Ye,vt){var Ne;super(),Ne=this,this.storageService=e,this.ngZone=t,this.loadingController=r,this.emulationState=o,this.snapshotService=i,this.errorService=s,this.fileService=a,this.alertService=u,this.modalWatcher=f,this.clipboardService=g,this.kvsService=v,this.proxyService=I,this.buttonService=k,this.bootstrapService=K,this.cloudpilotService=ye,this.storageCardService=Ge,this.storageCardContext=Ye,this.app=vt,this.switchSession=Cn=>this.mutex.runExclusive((0,te.Z)(function*(){if(Cn===Ne.emulationState.getCurrentSession()?.id)return!0;yield Ne.stopUnchecked(),yield Ne.bootstrapService.hasRendered();const Wn=yield Ne.loadingController.create({message:"Loading..."});yield Wn.present();try{const Cs=yield Ne.storageService.getSession(Cn);if(!Cs)throw new Error(`invalid session ${Cn}`);Ne.emulationState.setCurrentSession(void 0);const dg=yield Ne.cloudpilotService.cloudpilot;if(!(yield Ne.restoreSession(Cs,dg)))return Ne.alertService.errorMessage("Failed to launch session. This may be the result of a bad ROM file."),!1;Ne.emulationState.setCurrentSession(Cs),function Aj(n){localStorage.setItem(Qm,n+"")}(Cn)}finally{yield Wn.dismiss()}return!0})),this.resume=()=>this.mutex.runExclusive((0,te.Z)(function*(){!Ne.emulationState.getCurrentSession()||Ne.running||Ne.errorService.hasFatalError()||!Ne.cloudpilotInstance||(yield Ne.kvsService.mutex.runExclusive(()=>Ne.updateFeatures()),Ne.doResume(),Ne.lastSnapshotAt=performance.now())})),this.pause=()=>this.mutex.runExclusive((0,te.Z)(function*(){Ne.doPause(),!Ne.errorService.hasFatalError()&&Ne.emulationState.getCurrentSession()&&(yield Ne.snapshotService.waitForPendingSnapshot(),yield Ne.snapshotService.triggerSnapshot())})),this.stop=()=>this.mutex.runExclusive(()=>this.stopUnchecked()),this.onSessionChange=([Cn,Wn])=>this.mutex.runExclusive((0,te.Z)(function*(){const Cs=Ne.emulationState.getCurrentSession();Cn===Cs?.id&&(void 0!==Cs.mountedCard&&void 0===Wn&&Ne.storageCardContext.release(Cs.mountedCard,Mr.cloudpilot),Ne.emulationState.setCurrentSession(Wn),Ne.emulationState.getCurrentSession()||(gx(),Ne.stopLoop()))})),this.onEmergencySave=()=>this.mutex.runExclusive((0,te.Z)(function*(){const Cn=Ne.emulationState.getCurrentSession();Cn&&Ne.fileService.emergencySaveSession(Cn,yield Ne.cloudpilotService.cloudpilot)})),this.mutex=new Ha,this.lastSnapshotAt=0,e.sessionChangeEvent.addHandler(this.onSessionChange),s.fatalErrorEvent.addHandler(this.pause),this.alertService.emergencySaveEvent.addHandler(this.onEmergencySave),this.cloudpilotService.cloudpilot.then(Cn=>{Cn.fatalErrorEvent.addHandler(this.errorService.fatalInNativeCode),this.proxyService.initialize(Cn),this.proxyService.resumeEvent.addHandler(()=>this.running&&this.advanceEmulation(performance.now()))});const Ot=function Tj(){const n=localStorage.getItem(Qm);return n?parseInt(n,10):void 0}();this.bootstrapCompletePromise=Promise.resolve(),void 0!==Ot&&!jD()&&(this.bootstrapCompletePromise=this.recoverStoredSession(Ot))}bootstrapComplete(){return this.bootstrapCompletePromise}getConfiguredSpeed(){return this.emulationState.getCurrentSession()?.speed||1}manageHotsyncName(){return!this.emulationState.getCurrentSession()?.dontManageHotsyncName}getConfiguredHotsyncName(){return this.emulationState.getCurrentSession()?.hotsyncName}updateConfiguredHotsyncName(e){const t=this.emulationState.getCurrentSession();t&&this.storageService.updateSessionPartial(t.id,{hotsyncName:e})}getConfiguredSchdedulerKind(){return this.kvsService.kvs.runHidden?cc.timeout:cc.animationFrame}hasFatalError(){return this.errorService.hasFatalError()}skipEmulationUpdate(){return this.modalWatcher.isModalActive()&&0!==this.frameCounter}onAfterAdvanceEmulation(e,t){if(!this.cloudpilotInstance)return;const r=this.emulationState.getCurrentSession();this.uiInitialized&&r&&void 0===r.osVersion&&this.storageService.updateSessionPartial(r.id,{osVersion:this.cloudpilotInstance.getOSVersion()}),this.buttonService.tick(t/this.cloudpilotInstance.cyclesPerSecond()),e-this.lastSnapshotAt>1e3&&!this.cloudpilotInstance.isSuspended()&&(this.snapshotService.triggerSnapshot(),this.lastSnapshotAt=e),this.isDirty&&this.app.tick()}handleSuspend(){this.cloudpilotInstance&&(this.clipboardService.handleSuspend(this.cloudpilotInstance),this.proxyService.handleSuspend())}callScheduler(){this.ngZone.runOutsideAngular(()=>this.scheduler.schedule())}stopUnchecked(){var e=this;return(0,te.Z)(function*(){e.emulationState.getCurrentSession()&&(e.doStop(),yield e.snapshotService.waitForPendingSnapshot(),e.storageCardService.onEmulatorStop(),e.emulationState.setCurrentSession(void 0))})()}updateFeatures(){if(!this.cloudpilotInstance)return;const e=this.kvsService.kvs.clipboardIntegration&&this.clipboardService.isSupported();this.cloudpilotInstance.getClipboardIntegration()!==e&&this.cloudpilotInstance.setClipboardIntegration(e),this.cloudpilotInstance.getNetworkRedirection()!==this.kvsService.kvs.networkRedirection&&(this.cloudpilotInstance.setNetworkRedirection(this.kvsService.kvs.networkRedirection),this.proxyService.reset()),this.cloudpilotInstance.setHotsyncNameManagement(!this.emulationState.getCurrentSession()?.dontManageHotsyncName)}recoverStoredSession(e){var t=this;return(0,te.Z)(function*(){try{yield t.switchSession(e)}catch{ha&&t.alertService.message("Possible iOS bug","It seems that you hit an iOS bug that ocassionally\ncauses the database to come up empty when the app starts. If this happens to you, please force close\nthe app in the app switcher and reopen it; your data will be back on the second attempt.\n<br/><br/>\nSorry for the inconvenience.")}})()}restoreSession(e,t){var r=this;return(0,te.Z)(function*(){const[o,i,s]=yield r.storageService.loadSession(e);if(!o)throw new Error(`invalid ROM ${e.rom}`);return t.clearExternalStorage(),void 0!==e.mountedCard&&(yield r.storageCardService.loadCardInEmulator(e.mountedCard)),!!r.openSession(t,o,e.device,i,s)&&(r.proxyService.reset(),r.buttonService.reset(t),yield r.snapshotService.initialize(e,yield r.cloudpilotService.cloudpilot),!0)})()}}as.\u0275fac=function(e){return new(e||as)(se(er),se(ut),se(Rl),se(vs),se(Za),se(Ks),se(Ls),se(ro),se(fc),se(Kc),se(li),se(pc),se(Xc),se(Qc),se(Hi),se(ga),se(za),se(Zl))},as.\u0275prov=mt({token:as,factory:as.\u0275fac,providedIn:"root"});const hc=new bt($),r6={connector:()=>new et};function Hx(n,e=r6){const{connector:t}=e;return Z((r,o)=>{const i=t();Rn(n(function n6(n){return new bt(e=>n.subscribe(e))}(i))).subscribe(o),o.add(r.subscribe(i))})}function zx(n,e){return e?t=>Of(e.pipe(Os(1),function s6(){return Z((n,e)=>{n.subscribe(ge(e,$))})}()),t.pipe(zx(n))):yr((t,r)=>Rn(n(t,r)).pipe(Os(1),Rv(t)))}const fp="Service workers are disabled or not supported by this browser";class ug{constructor(e){if(this.serviceWorker=e,e){const r=Ff(e,"controllerchange").pipe(Ae(()=>e.controller)),i=Of(vm(()=>_n(e.controller)),r);this.worker=i.pipe(Di(g=>!!g)),this.registration=this.worker.pipe(Ii(()=>e.getRegistration()));const f=Ff(e,"message").pipe(Ae(g=>g.data)).pipe(Di(g=>g&&g.type)).pipe(function i6(n){return n?e=>Hx(n)(e):e=>function o6(n,e){const t=D(n)?n:()=>n;return D(e)?Hx(e,{connector:t}):r=>new Av(r,t)}(new et)(e)}());f.connect(),this.events=f}else this.worker=this.events=this.registration=function l6(n){return vm(()=>Wu(new Error(n)))}(fp)}postMessage(e,t){return this.worker.pipe(Os(1),ki(r=>{r.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){const o=this.waitForOperationCompleted(r),i=this.postMessage(e,t);return Promise.all([i,o]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(Di(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(Os(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Di(t=>t.nonce===e),Os(1),Ae(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let c6=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new et,!t.isEnabled)return this.messages=hc,this.notificationClicks=hc,void(this.subscription=hc);this.messages=this.sw.eventsOfType("PUSH").pipe(Ae(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Ae(o=>o.data)),this.pushManager=this.sw.registration.pipe(Ae(o=>o.pushManager));const r=this.pushManager.pipe(Ii(o=>o.getSubscription()));this.subscription=Ci(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(fp));const r={userVisibleOnly:!0};let o=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),i=new Uint8Array(new ArrayBuffer(o.length));for(let s=0;s<o.length;s++)i[s]=o.charCodeAt(s);return r.applicationServerKey=i,this.pushManager.pipe(Ii(s=>s.subscribe(r)),Os(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Os(1),Ii(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(fp))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(se(ug))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})(),$b=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=hc,this.available=hc,this.activated=hc,void(this.unrecoverable=hc);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(Di(r=>"VERSION_READY"===r.type),Ae(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(fp));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(fp));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(se(ug))},n.\u0275prov=mt({token:n,factory:n.\u0275fac}),n})();class Bb{}const Wx=new Qt("NGSW_REGISTER_SCRIPT");function u6(n,e,t,r){return()=>{if(!ql(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let o;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)o=t.registrationStrategy();else{const[s,...a]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":o=_n(null);break;case"registerWithDelay":o=Zx(+a[0]||0);break;case"registerWhenStable":o=a[0]?Ci(qx(n),Zx(+a[0])):qx(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(ut).runOutsideAngular(()=>o.pipe(Os(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function Zx(n){return _n(null).pipe(function a6(n,e=lx){const t=cx(n,e);return zx(()=>t)}(n))}function qx(n){return n.get(Zl).isStable.pipe(Di(t=>t))}function d6(n,e){return new ug(ql(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let f6=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[{provide:Wx,useValue:t},{provide:Bb,useValue:r},{provide:ug,useFactory:d6,deps:[Bb,Vu]},{provide:Rc,useFactory:u6,deps:[wo,Wx,Bb,Vu],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=vn({type:n}),n.\u0275inj=Er({providers:[c6,$b]}),n})();class Jc{constructor(e,t,r,o,i){var s=this;this.kvsService=e,this.emulationService=t,this.alertService=r,this.modalController=o,this.updates=i,this.checkForUpgrade=()=>this.mutex.runExclusive((0,te.Z)(function*(){const a=s.kvsService.kvs.version;void 0!==a?a!==qc&&(yield s.kvsService.set({version:qc,previousVersion:a,latestVersion:qc}),yield s.emulationService.bootstrapComplete(),s.alertService.message("Update complete",`CloudpilotEmu was updated to version ${qc}.`,{Changes:()=>s.showChangelog()})):s.kvsService.kvs.version=qc})),this.mutex=new Ha,this.mutex.runExclusive(this.checkForDowngrade.bind(this))}start(){this.checkForUpgrade(),this.startUpdateCheck(),this.registerForUpdates()}startUpdateCheck(){this.scheduleUpdateCheck()}registerForUpdates(){var e=this;this.updates.available.subscribe((0,te.Z)(function*(){yield e.emulationService.bootstrapComplete(),e.alertService.updateAvailable()}))}checkForDowngrade(){var e=this;return(0,te.Z)(function*(){if(yield e.kvsService.initialize(),e.kvsService.kvs.previousVersion===qc){const t=yield window.navigator.serviceWorker.getRegistration();console.log("downgrade detected"),t&&(yield t.unregister())&&(yield e.kvsService.set({previousVersion:void 0}),console.log("worker derigstered, reloading..."),window.location.reload())}})()}showChangelog(){var e=this;return(0,te.Z)(function*(){yield(yield e.modalController.create({component:ma,componentProps:{url:"assets/doc/CHANGELOG.md",title:"Changelog"}})).present()})()}scheduleUpdateCheck(){setTimeout(()=>{this.updates.checkForUpdate(),this.scheduleUpdateCheck()},9e5)}}Jc.\u0275fac=function(e){return new(e||Jc)(se(li),se(as),se(ro),se(ys),se($b))},Jc.\u0275prov=mt({token:Jc,factory:Jc.\u0275fac,providedIn:"root"});class pp{constructor(e,t,r){this.pwaService=e,this.updateService=t,this.bootstrapService=r}ngAfterViewInit(){this.bootstrapService.notifyHasRendered(),this.pwaService.invite(),this.updateService.start()}}pp.\u0275fac=function(e){return new(e||pp)(S(Zc),S(Jc),S(Qc))},pp.\u0275cmp=nt({type:pp,selectors:[["app-root"]],decls:2,vars:0,template:function(e,t){1&e&&(re(0,"ion-app"),ct(1,"ion-router-outlet"),Q())},dependencies:[kk,rp]});class dd{constructor(){}}dd.\u0275fac=function(e){return new(e||dd)},dd.\u0275cmp=nt({type:dd,selectors:[["app-dummy"]],decls:2,vars:0,template:function(e,t){1&e&&(re(0,"div"),qe(1,"Dummy"),Q())},encapsulation:2});class eu{constructor(e,t){this.linkApi=e,this.router=t}canActivate(e){return e.url[0]?.path?.startsWith("install")?(this.linkApi.installation.dispatchRequest(e.queryParams.url),this.router.navigateByUrl("/tab/emulation"),!1):!e.url[0]?.path?.startsWith("import")||(this.linkApi.import.dispatchRequest(e.queryParams.url),this.router.navigateByUrl("/tab/sessions"),!1)}}eu.\u0275fac=function(e){return new(e||eu)(se(Kl),se(Qo))},eu.\u0275prov=mt({token:eu,factory:eu.\u0275fac,providedIn:"root"});const Vb=oe.m515,h6=kb[2],m6=kb[0],fd="rgba(0,0,0,0.2)";function Yx(n){const e=cp(n),t=(0===e.screenSize?3:2)*devicePixelRatio,r={frameDevice:1,frameCanvas:t},o=u=>({frameDevice:u,frameCanvas:u*t}),i=u=>({frameDevice:u,frameCanvas:r.frameCanvas+u*t}),s=o(e.silkscreenHeight>0?1:0),a=o(function v6(n){switch(n){case 3:case 1:return 60;case 2:return 45;default:return 30}}(e.screenSize));return{scale:t,borderWidth:r,height:o(2*r.frameDevice+e.height+s.frameDevice+e.silkscreenHeight+a.frameDevice),width:o(2*r.frameDevice+e.width),screenHeight:o(e.height),screenWidth:o(e.width),screenLeft:i(0),screenTop:i(0),screenBottom:i(e.height),separatorHeight:s,silkscreenHeight:o(e.silkscreenHeight),silkscreenTop:i(e.height+s.frameDevice),silkscreenBottom:i(e.height+s.frameDevice+e.silkscreenHeight),softSilkscreenHeight:o(e.silkscreenHeight>0?0:e.height-e.width),buttonHeight:a,buttonWidth:a,buttonTop:i(e.height+s.frameDevice+e.silkscreenHeight),buttonBottom:i(e.height+s.frameDevice+e.silkscreenHeight+a.frameDevice)}}class b6{constructor(e){this.skinLoader=e,this.layout=Yx(Vb),this.onResize=new Ko.j}get width(){switch(this.getOrientation()){case Or.portrait:case Or.portrait180:case void 0:return this.layout.width.frameCanvas;default:return this.layout.height.frameCanvas}}get height(){switch(this.getOrientation()){case Or.portrait:case Or.portrait180:case void 0:return this.layout.height.frameCanvas;default:return this.layout.width.frameCanvas}}updateEmulationCanvas(e){this.drawEmulationCanvas(e),this.onAfterUpdateCanvas()}eventToPalmCoordinates(e,t=!1){if(!this.ctx)return;const r=this.ctx.canvas.getBoundingClientRect();let o,i,s,a;r.width/r.height>this.width/this.height?(a=r.height,s=this.width/this.height*r.height,i=r.top,o=r.left+(r.width-s)/2):(s=r.width,a=this.height/this.width*r.width,o=r.left,i=r.top+(r.height-a)/2);let u=(e.clientX-o)/s*this.width/this.layout.scale,f=(e.clientY-i)/a*this.height/this.layout.scale;switch(this.getOrientation()){case Or.landscape90:{const v=f;f=this.layout.height.frameDevice-u,u=v;break}case Or.landscape270:{const v=f;f=u,u=this.layout.width.frameDevice-v;break}case Or.portrait180:u=this.layout.width.frameDevice-u,f=this.layout.height.frameDevice-f}u-=this.layout.borderWidth.frameDevice,f-=this.layout.borderWidth.frameDevice,f>=this.layout.screenHeight.frameDevice&&(f<=this.layout.screenHeight.frameDevice+this.layout.separatorHeight.frameDevice?f=this.layout.screenHeight.frameDevice:f-=this.layout.separatorHeight.frameDevice);const g=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice;if(t)u<0&&(u=0),u>=this.layout.screenWidth.frameDevice&&(u=this.layout.screenWidth.frameDevice-1),f<0&&(f=0),f>=g&&(f=g-1);else if(u<0||u>=this.layout.screenWidth.frameDevice||f<0||f>=g)return;return[u,f]}isSilkscreen(e){const[,t]=e;return!this.isButtons(e)&&t>=this.layout.screenHeight.frameDevice}isButtons([,e]){return e>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice}determineButton([e,t]){return e>=this.layout.screenWidth.frameDevice-this.layout.buttonWidth.frameDevice?3:e>=this.layout.screenWidth.frameDevice-2*this.layout.buttonWidth.frameDevice?2:e>=2*this.layout.buttonWidth.frameDevice?t>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice/2?5:4:e>=this.layout.buttonWidth.frameDevice?1:0}initWithCanvas(e=this.ctx?.canvas){var t=this;return(0,te.Z)(function*(){if(!e)return;t.layout=Yx(t.getDeviceId()),t.onResize.dispatch(),e.width=t.width,e.height=t.height;const r=e.getContext("2d");if(!r)throw new Error("canvas not supported - get a new browser");t.ctx=r,t.setupTransformation(),t.fillCanvasRect(0,0,t.layout.width.frameCanvas,t.layout.height.frameCanvas,t.frameColor()),t.fillRect(0,0,t.layout.screenWidth.frameDevice,t.layout.screenHeight.frameDevice+t.layout.silkscreenHeight.frameDevice+t.layout.separatorHeight.frameDevice+t.layout.buttonHeight.frameDevice,t.backgroundColor()),t.drawEmulationCanvas(),yield Promise.all([t.drawSilkscreen(),t.drawButtons()])})()}drawButtons(e=[]){var t=this;return(0,te.Z)(function*(){t.ctx&&(t.setupTransformation(),t.ctx.imageSmoothingEnabled=!0,t.ctx.imageSmoothingQuality="high",t.ctx.drawImage(yield t.buttonsImage()(t.layout.screenWidth.frameCanvas,t.layout.buttonHeight.frameCanvas),t.layout.screenLeft.frameCanvas,t.layout.buttonTop.frameCanvas,t.layout.screenWidth.frameCanvas,t.layout.buttonHeight.frameCanvas),e.includes(0)&&t.fillRect(0,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,fd),e.includes(1)&&t.fillRect(t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,fd),e.includes(2)&&t.fillRect(t.layout.screenWidth.frameDevice-2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,fd),e.includes(3)&&t.fillRect(t.layout.screenWidth.frameDevice-t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,fd),e.includes(4)&&t.fillRect(2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.screenWidth.frameDevice-4*t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice/2,fd),e.includes(5)&&t.fillRect(2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice+t.layout.buttonHeight.frameDevice/2,t.layout.screenWidth.frameDevice-4*t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice/2,fd))})()}onAfterUpdateCanvas(){}setupTransformation(){if(this.ctx)switch(this.ctx?.resetTransform(),this.getOrientation()){case Or.portrait:case void 0:break;case Or.landscape90:this.ctx.translate(this.layout.height.frameCanvas,0),this.ctx.rotate(Math.PI/2);break;case Or.landscape270:this.ctx.translate(0,this.layout.width.frameCanvas),this.ctx.rotate(3*Math.PI/2);break;case Or.portrait180:this.ctx.translate(this.layout.width.frameCanvas,this.layout.height.frameCanvas),this.ctx.rotate(Math.PI)}}drawSilkscreen(){var e=this;return(0,te.Z)(function*(){0===e.layout.silkscreenHeight.frameCanvas||!e.ctx||(e.setupTransformation(),e.fillRect(e.layout.screenLeft.frameDevice,e.layout.silkscreenTop.frameDevice,e.layout.screenWidth.frameDevice,e.layout.silkscreenHeight.frameDevice,h6),e.ctx.imageSmoothingEnabled=!0,e.ctx.imageSmoothingQuality="high",e.ctx.drawImage(yield e.silkscreenImage()(e.layout.screenWidth.frameCanvas,e.layout.silkscreenHeight.frameCanvas),e.layout.borderWidth.frameCanvas,e.layout.silkscreenTop.frameCanvas,e.layout.screenWidth.frameCanvas,e.layout.silkscreenHeight.frameCanvas))})()}drawEmulationCanvas(e=this.lastEmulationCanvas){!e||!this.ctx||(this.lastEmulationCanvas=e,this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(e,this.layout.screenLeft.frameCanvas,this.layout.screenTop.frameCanvas,this.layout.screenWidth.frameCanvas,this.layout.screenHeight.frameCanvas))}fillRect(e,t,r,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(this.layout.borderWidth.frameCanvas+this.layout.scale*e,this.layout.borderWidth.frameCanvas+this.layout.scale*t,this.layout.scale*r,this.layout.scale*o),this.ctx.fillStyle=i,this.ctx.fill())}fillCanvasRect(e,t,r,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(e,t,r,o),this.ctx.fillStyle=i,this.ctx.fill())}silkscreenImage(){return this.skinLoader.loadSkinElement(this.silkscreenSkinElement())}silkscreenSkinElement(){switch(this.getDeviceId()){case oe.pegT600c:case oe.pegT650c:return"silkscreen/clie-t600.svg";case oe.pegN700c:case oe.pegN600c:return"silkscreen/clie-n610.svg";case oe.pegS320:case oe.pegS300:return"silkscreen/clie-s300.svg";case oe.pegS500c:return"silkscreen/clie-s500.svg";case oe.pegT400:return"silkscreen/clie-t415.svg";case oe.acerS11:return"silkscreen/acer-s10.svg";case oe.palmPilot:case oe.pilot:case oe.iii:case oe.palmVII:return"silkscreen/pilot.svg";case oe.m500:return"silkscreen/m500.svg";case oe.m505:case oe.m515:case oe.m520:return"silkscreen/m515.svg";case oe.iiic:return"silkscreen/iiic.svg";case oe.m100:case oe.m105:case oe.m125:return"silkscreen/m100.svg";case oe.m130:return"silkscreen/m130.svg";case oe.i710:return"silkscreen/tungstenw.svg";case oe.i705:return"silkscreen/i705.svg";default:return"silkscreen/v.svg"}}buttonsImage(){return this.skinLoader.loadSkinElement(this.buttonsSkinElement())}buttonsSkinElement(){switch(this.getDeviceId()){case oe.acerS11:return"hard-buttons/acer-s10.svg";case oe.pegNR70:return"hard-buttons/clie-nr70.svg";case oe.pegN700c:return"hard-buttons/clie-n700.svg";case oe.pegN600c:return"hard-buttons/clie-n610.svg";case oe.pegS300:return"hard-buttons/clie-s300.svg";case oe.pegS500c:return"hard-buttons/clie-s500.svg";case oe.pegS320:return"hard-buttons/clie-s320.svg";case oe.pegT400:case oe.pegT600c:case oe.pegT650c:return"hard-buttons/clie-t415.svg";case oe.pilot:case oe.palmPilot:return"hard-buttons/pilot.svg";case oe.m500:return"hard-buttons/m500.svg";case oe.m505:case oe.m515:case oe.m520:return"hard-buttons/m515.svg";case oe.iiic:return"hard-buttons/iiic.svg";case oe.m100:case oe.m105:return"hard-buttons/m100.svg";case oe.m125:return"hard-buttons/m125.svg";case oe.m130:return"hard-buttons/m130.svg";case oe.i710:return"hard-buttons/tungstenw.svg";case oe.iii:case oe.iiix:case oe.iiixe:case oe.palmVII:case oe.palmVIIEZ:case oe.palmVIIx:return"hard-buttons/iiix.svg";case oe.iiie:return"hard-buttons/iiie.svg";case oe.i705:return"hard-buttons/i705.svg";case oe.handera330:return"hard-buttons/handera330.svg";case oe.handera330c:return"hard-buttons/handera330c.svg";default:return"hard-buttons/v.svg"}}backgroundColor(){return xb(this.getDeviceId())?"white":m6}frameColor(){return xb(this.getDeviceId())?"white":"#ccc"}}function w6(n){return new Promise((e,t)=>{const r=new Image;r.onload=()=>e(r),r.onerror=()=>t(),r.src=n})}class E6{constructor(e){this.cloudpilot=e,this.images=new Map}loadSkinElement(e){if(this.images.has(e))return this.images.get(e);const t=this.cloudpilot.then(o=>o.loadSkin(e)).then(o=>{return o?Promise.all([o,w6((n=o,`data:image/svg+xml;base64,${btoa(n)}`))]):Promise.reject(new Error(`failed to load skin ${e}`));var n}),r=function C6(n,e){let t,r;const o=document.createElement("canvas");return function(){var i=(0,te.Z)(function*(s,a){if(t===s&&r===a)return o;o.width=s,o.height=a;const u=o.getContext("2d");if(!u)throw new Error("get a new browser");return u.drawImage(yield n,0,0,o.width,o.height),(bj||ha)&&(yield e).indexOf("data:image")>=0&&(yield new Promise(f=>setTimeout(f,0)),u.drawImage(yield n,0,0,o.width,o.height)),t=s,r=a,o});return function(s,a){return i.apply(this,arguments)}}()}(t.then(([,o])=>o),t.then(([o])=>o));return this.images.set(e,r),r}}class Ll extends b6{constructor(e){super(new E6(e.cloudpilot)),this.cloudpilotService=e,this.statisticsVisible=!1}initialize(e,t=this.session){var r=this;return(0,te.Z)(function*(){r.session=t,yield r.initWithCanvas(e)})()}clearStatistics(){var e=this;return(0,te.Z)(function*(){e.statisticsVisible=!1,e.layout.silkscreenHeight.frameCanvas>0?yield e.drawSilkscreen():yield e.drawEmulationCanvas()})()}updateStatistics(e,t){var r=this;return(0,te.Z)(function*(){yield r.clearStatistics(),r.drawStatistics(e,t),r.lastEmulationStatistics=t,r.lastSnapshotStatistics=e,r.statisticsVisible=!0})()}getDeviceId(){return this.session?.device??Vb}getOrientation(){return this.session?.deviceOrientation??Or.portrait}onAfterUpdateCanvas(){this.statisticsVisible&&0===this.layout.silkscreenHeight.frameCanvas&&this.drawStatistics(this.lastSnapshotStatistics,this.lastEmulationStatistics)}drawStatistics(e,t){if(!this.ctx)return;this.setupTransformation();const r=this.layout.silkscreenHeight.frameDevice>0?this.layout.silkscreenHeight:this.layout.softSilkscreenHeight,o=this.layout.silkscreenHeight.frameCanvas>0?this.layout.silkscreenTop:{frameCanvas:this.layout.screenBottom.frameCanvas-r.frameCanvas,frameDevice:this.layout.screenBottom.frameDevice-r.frameDevice};this.ctx.beginPath(),this.fillRect(this.layout.screenLeft.frameDevice,o.frameDevice,this.layout.screenWidth.frameDevice,r.frameDevice,"rgba(255,255,255,0.6)");const s=function D6(n){switch(n){case 1:case 3:return 2;case 2:return 1.5;default:return 1}}(cp(this.session?.device??Vb).screenSize);this.ctx.font=6*this.layout.scale*s+"px monospace",this.ctx.fillStyle="black",[...e||t?[]:["collecting statistics..."],...e?[`last snapshot          : ${new Date(e.timestamp).toLocaleTimeString()}`,`snapshot pages         : ${e.pages}`,`snapshot time total    : ${e.timeTotal.toFixed(2)} msec`,`snapshot time blocking : ${e.timeBlocking.toFixed(2)} msec`]:[],...t?[`host speed             : ${t.hostSpeed.toFixed(2)}x`,`emulation speed        : ${t.emulationSpeed.toFixed(2)}x`,`average FPS            : ${t.averageFps.toFixed(2)}`]:[]].forEach((a,u)=>this.ctx.fillText(a,this.layout.screenLeft.frameCanvas+s*this.layout.scale,o.frameCanvas+s*this.layout.scale*(8+6*u)))}}Ll.\u0275fac=function(e){return new(e||Ll)(se(Hi))},Ll.\u0275prov=mt({token:Ll,factory:Ll.\u0275fac,providedIn:"root"});class tu{constructor(e,t,r){this.router=e,this.canvasDisplayService=t,this.emulationStateService=r,this.updateUseSmallUI=()=>{const o=!!document.querySelector("html.md"),i=o?56:44;this.useSmallUI=this.canvasArea(window.innerHeight-i-(o?57:51)-6,window.innerWidth-6)<this.canvasArea(window.innerHeight-i-25-6,window.innerWidth-6)},this.useSmallUI=!1,this.isLockedFlag=!1,window.addEventListener("resize",this.updateUseSmallUI),window.addEventListener("orientationchange",this.updateUseSmallUI),t.onResize.addHandler(()=>this.updateUseSmallUI()),this.updateUseSmallUI()}get smallUI(){return"/tab/emulation"===this.router.url&&this.useSmallUI&&void 0!==this.emulationStateService.getCurrentSession()}lock(){this.isLockedFlag=!0}unlock(){this.isLockedFlag=!1}isLocked(){return this.isLockedFlag}canvasArea(e,t){let r,o;return e=Math.min(e,this.canvasDisplayService.height/devicePixelRatio),(t=Math.min(t,this.canvasDisplayService.width/devicePixelRatio))/e>this.canvasDisplayService.width/this.canvasDisplayService.height?(o=e,r=e/this.canvasDisplayService.height*this.canvasDisplayService.width):(r=t,o=t/this.canvasDisplayService.width*this.canvasDisplayService.height),r*o}}tu.\u0275fac=function(e){return new(e||tu)(S(Qo),S(Ll),S(vs))},tu.\u0275cmp=nt({type:tu,selectors:[["app-tabs"]],decls:23,vars:4,consts:[[1,"overflow-wrapper"],["slot","bottom"],["tab","emulation"],["name","phone-portrait-outline"],["tab","sessions"],["name","albums-outline"],["tab","storage"],["name","folder-outline"],["tab","settings"],["name","cog-outline"],["tab","about"],["name","help-outline"]],template:function(e,t){1&e&&(re(0,"ion-tabs")(1,"div",0)(2,"ion-tab-bar",1)(3,"ion-tab-button",2),ct(4,"ion-icon",3),re(5,"ion-label"),qe(6,"Emulator"),Q()(),re(7,"ion-tab-button",4),ct(8,"ion-icon",5),re(9,"ion-label"),qe(10,"Sessions"),Q()(),re(11,"ion-tab-button",6),ct(12,"ion-icon",7),re(13,"ion-label"),qe(14,"Cards"),Q()(),re(15,"ion-tab-button",8),ct(16,"ion-icon",9),re(17,"ion-label"),qe(18,"Settings"),Q()(),re(19,"ion-tab-button",10),ct(20,"ion-icon",11),re(21,"ion-label"),qe(22,"About"),Q()()()()()),2&e&&(Ke(2),_l("small-ui",t.smallUI)("disabled",t.isLocked()))},dependencies:[_i,os,ab,Ak,jk],styles:["ion-tab-bar[_ngcontent-%COMP%]{min-width:280px}ion-tab-bar.small-ui[_ngcontent-%COMP%]{height:25px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:21px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon.md[_ngcontent-%COMP%]{margin-top:3px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:none}ion-tab-bar.disabled[_ngcontent-%COMP%]{display:none}.overflow-wrapper[_ngcontent-%COMP%]{overflow-x:auto}ion-icon[_ngcontent-%COMP%]{font-size:25px}"]});class Ya{}Ya.\u0275fac=function(e){return new(e||Ya)},Ya.\u0275mod=vn({type:Ya}),Ya.\u0275inj=Er({imports:[$a,gb.forChild(),rc,$c,_m]});class pd{}pd.\u0275fac=function(e){return new(e||pd)},pd.\u0275mod=vn({type:pd}),pd.\u0275inj=Er({imports:[$a,$c,rc,Ya,gb.forChild()]});class hd{}hd.\u0275fac=function(e){return new(e||hd)},hd.\u0275mod=vn({type:hd}),hd.\u0275inj=Er({imports:[$a,$c,rc,Ya]});class md{}md.\u0275fac=function(e){return new(e||md)},md.\u0275mod=vn({type:md}),md.\u0275inj=Er({imports:[$a,$c,rc,_m,Ya]});class gd{}gd.\u0275fac=function(e){return new(e||gd)},gd.\u0275mod=vn({type:gd}),gd.\u0275inj=Er({imports:[$a,$c,rc,Ya,_m]});class _d{}function I6(n,e){if(1&n){const t=Fr();re(0,"ion-button",1),st("click",function(){return sn(t),an(Lt().onClick())}),ct(1,"ion-icon",2),Q()}if(2&n){const t=Lt();Ke(1),rt("name",t.iconName)}}_d.\u0275fac=function(e){return new(e||_d)},_d.\u0275mod=vn({type:_d}),_d.\u0275inj=Er({imports:[$a,rc,$c,_m,Ya]});class mc{constructor(e){this.pwaService=e}onClick(){this.pwaService.install()}get iconName(){return ha?"logo-apple-appstore":hx?"logo-google-playstore":"apps-outline"}get show(){return this.pwaService.promptForInstall()}}function k6(n,e){1&n&&(re(0,"div",11),ct(1,"ion-spinner"),Q())}function x6(n,e){1&n&&(re(0,"div"),qe(1,"app cached for offline use"),Q())}mc.\u0275fac=function(e){return new(e||mc)(S(Zc))},mc.\u0275cmp=nt({type:mc,selectors:[["app-pwa-prompt"]],decls:1,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"],[3,"name"]],template:function(e,t){1&e&&Yt(0,I6,2,1,"ion-button",0),2&e&&rt("ngIf",t.show)},dependencies:[mi,es,_i]});class hp{constructor(e,t){this.modalController=e,this.updates=t,this.loading=!0}get version(){return qc}showChangelog(){var e=this;return(0,te.Z)(function*(){yield(yield e.modalController.create({component:ma,componentProps:{url:"assets/doc/CHANGELOG.md",title:"Changelog"}})).present()})()}get serviceWorkerAvailable(){return this.updates.isEnabled}}function M6(n,e){if(1&n&&(re(0,"ion-select-option",17),qe(1),Q()),2&n){const t=e.$implicit;rt("value",t[0]),Ke(1),Ui("",t[1]," ")}}function T6(n,e){if(1&n&&(re(0,"ion-select-option",17),qe(1),Q()),2&n){const t=e.$implicit;rt("value",t[0]),Ke(1),Ui("",t[1]," ")}}function A6(n,e){if(1&n&&(re(0,"ion-item",7)(1,"ion-label",8),qe(2,"Hotsync name"),Q(),ct(3,"ion-input",18),Q()),2&n){const t=Lt();Ke(3),rt("placeholder",t.placeholder)}}hp.\u0275fac=function(e){return new(e||hp)(S(ys),S($b))},hp.\u0275cmp=nt({type:hp,selectors:[["app-about"]],decls:21,vars:4,consts:[[3,"translucent"],["slot","secondary"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],[1,"markdown-container"],["src","assets/doc/about.md",3,"load"],[1,"version"],["href","javascript:",3,"click"],[4,"ngIf"],["src","assets/logo.svg",1,"logo"],[1,"loader"]],template:function(e,t){1&e&&(re(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"About"),Q(),re(4,"ion-buttons",1),ct(5,"app-pwa-prompt"),Q()()(),re(6,"ion-content")(7,"ion-header",2)(8,"ion-toolbar")(9,"ion-title",3),qe(10,"About"),Q()()(),Yt(11,k6,2,0,"div",4),re(12,"div",5)(13,"markdown",6),st("load",function(){return t.loading=!1}),Q()(),re(14,"div",7),qe(15),ct(16,"br"),re(17,"a",8),st("click",function(){return t.showChangelog()}),qe(18,"Changelog"),Q(),Yt(19,x6,2,0,"div",9),Q(),ct(20,"img",10),Q()),2&e&&(rt("translucent",!0),Ke(11),rt("ngIf",t.loading),Ke(4),Ui(" CloudpilotEmu version ",t.version," "),Ke(4),rt("ngIf",t.serviceWorkerAvailable))},dependencies:[mi,ts,ns,rs,ep,is,ss,mc,mb],styles:[".version[_ngcontent-%COMP%]{width:100%;bottom:1em;text-align:center;font-size:.75em;margin-top:3em;margin-bottom:1em}.markdown-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:center}markdown[_ngcontent-%COMP%]{display:block;margin-left:.5em;margin-right:.5em;max-width:40em}.loader[_ngcontent-%COMP%]{width:100%;height:10em;display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{width:10em;height:10em;margin:1em auto;display:block}@media (prefers-color-scheme: dark){.logo[_ngcontent-%COMP%]{filter:invert(100%)}}"]});class yd{constructor(e,t){this.sessionService=e,this.alertService=t,this.validateNameUnique=r=>r.value!==this.session.name&&this.sessionService.getSessions().some(o=>o.name===r.value)?{name:"already taken"}:null,this.onSave=()=>{},this.onCancel=()=>{},this.orientations=[[Or.portrait,"Portrait"],[Or.landscape90,"Landscape 90\xb0"],[Or.landscape270,"Landscape 270\xb0"],[Or.portrait180,"Upside down"]]}get formControlName(){return this.formGroup.get("name")}get formControlHotsyncName(){return this.formGroup.get("hotsyncName")}get formControlDevice(){return this.formGroup.get("device")}get formControlManageHotsyncName(){return this.formGroup.get("manageHotsyncName")}get formControlSpeed(){return this.formGroup.get("speed")}get formControlOrientation(){return this.formGroup.get("orientation")}get showHotsyncNameInput(){return this.formControlManageHotsyncName.value}get placeholder(){return this.formControlHotsyncName.value?this.formControlName.value:void 0!==this.session.hotsyncName||this.session.dontManageHotsyncName?"Enter hotsync name":"use setting from device"}get deviceList(){return this.availableDevices.map(e=>[e,Mx(e)])}ngOnInit(){this.createFormGroup()}save(){this.formGroup.invalid||(this.session.name=this.formControlName.value,this.formControlManageHotsyncName.value?this.session.dontManageHotsyncName?(this.session.dontManageHotsyncName=!1,this.session.hotsyncName=this.formControlHotsyncName.value||"",this.alertService.message("Reset required","Please reset the virtual device in order to make sure that the hotsync name is synced properly again.")):this.session.hotsyncName=this.formControlHotsyncName.value||(void 0===this.session.hotsyncName?void 0:""):this.session.dontManageHotsyncName=!0,this.session.device=this.formControlDevice.value,this.session.speed=this.speedValue,this.session.deviceOrientation=this.formControlOrientation.value,this.onSave())}onEnter(){this.save()}get speedValue(){const e=this.formControlSpeed.value||0;return e>=0?1+e:1/(1-e)}get speedLabel(){return"Clock: "+(0===this.formControlSpeed.value?"default":`${Math.round(this.speedValue*function mG(n){switch(n){case oe.palmPilot:case oe.pilot:case oe.iii:case oe.palmVII:case oe.palmVx:case oe.palmV:case oe.palmVIIEZ:case oe.palmVIIx:case oe.iiic:case oe.iiix:case oe.iiixe:case oe.iiie:case oe.m100:case oe.m105:case oe.pegS300:case oe.pegS500c:return 16;case oe.m500:case oe.m505:case oe.m515:case oe.m520:case oe.m125:case oe.m130:case oe.i705:case oe.i710:case oe.handera330:case oe.handera330c:case oe.pegS320:case oe.pegT400:case oe.pegN600c:case oe.pegT600c:case oe.pegN700c:case oe.acerS11:return 33;case oe.pegT650c:case oe.pegNR70:return 66}}(this.formControlDevice.value))}MHz`)}createFormGroup(){this.formGroup=new dm({name:new gi(this.session.name,{validators:[Mf.required,this.validateNameUnique]}),manageHotsyncName:new gi(!this.session.dontManageHotsyncName),hotsyncName:new gi(this.session.hotsyncName||""),device:new gi({value:this.session.device,disabled:1===this.availableDevices.length}),speed:new gi((this.session.speed||1)>=1?(this.session.speed||1)-1:1-1/this.session.speed),orientation:new gi(this.session.deviceOrientation||Or.portrait)})}}yd.\u0275fac=function(e){return new(e||yd)(S(qa),S(ro))},yd.\u0275cmp=nt({type:yd,selectors:[["app-session-settings"]],inputs:{onSave:"onSave",onCancel:"onCancel",session:"session",availableDevices:"availableDevices"},decls:41,vars:6,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter session name","formControlName","name"],["formControlName","device"],[3,"value",4,"ngFor","ngForOf"],["formControlName","orientation"],[1,"label-speed"],["min","-4","max","4","step","0.25","snaps","true","ticks","false","formControlName","speed"],["formControlName","manageHotsyncName"],["lines","none",4,"ngIf"],[3,"value"],["formControlName","hotsyncName","maxlength","40",3,"placeholder"]],template:function(e,t){1&e&&(re(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"Session settings"),Q(),re(4,"ion-buttons",1)(5,"ion-button",2),st("click",function(){return t.save()}),qe(6,"Save"),Q()(),re(7,"ion-buttons",3)(8,"ion-button",4),st("click",function(){return t.onCancel()}),qe(9,"Cancel"),Q()()()(),re(10,"ion-content",5)(11,"form",6),st("keydown.enter",function(){return t.onEnter()}),re(12,"h1"),qe(13,"Session"),Q(),re(14,"ion-item",7)(15,"ion-label",8),qe(16,"Session name"),Q(),ct(17,"ion-input",9),Q(),re(18,"h1"),qe(19,"Device"),Q(),re(20,"ion-item",7)(21,"ion-label",8),qe(22,"Device type"),Q(),re(23,"ion-select",10),Yt(24,M6,2,2,"ion-select-option",11),Q()(),re(25,"ion-item",7)(26,"ion-label",8),qe(27,"Orientation"),Q(),re(28,"ion-select",12),Yt(29,T6,2,2,"ion-select-option",11),Q()(),re(30,"ion-item",7)(31,"ion-label",13),qe(32),Q(),ct(33,"ion-range",14),Q(),re(34,"h1"),qe(35,"Hotsync"),Q(),re(36,"ion-item",7)(37,"ion-label"),qe(38,"Manage hotsync name"),Q(),ct(39,"ion-toggle",15),Q(),Yt(40,A6,4,1,"ion-item",16),Q()()),2&e&&(Ke(5),rt("disabled",t.formGroup.invalid),Ke(6),rt("formGroup",t.formGroup),Ke(13),rt("ngForOf",t.deviceList),Ke(5),rt("ngForOf",t.orientations),Ke(3),As(t.speedLabel),Ke(8),rt("ngIf",t.showHotsyncNameInput))},dependencies:[Oc,mi,es,ts,ns,rs,Pl,ai,os,sb,zm,Wm,is,tp,ss,id,Jf,Al,Il,El,Dl,Mv,fa,Ba],styles:["ion-item[_ngcontent-%COMP%]{--highlight-color-valid: var(--highlight-color-focused);--background: none}.label-speed[_ngcontent-%COMP%]{min-width:7.5rem}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}"]});class vd{constructor(e,t,r,o,i,s,a){this.emulationService=e,this.loadingController=t,this.snapshotService=r,this.fileService=o,this.emulationStateService=i,this.alertService=s,this.cloudpilotService=a}saveBackup(e){var t=this;return(0,te.Z)(function*(){const r=t.emulationStateService.getCurrentSession();if(!r)return;const o=yield t.loadingController.create({message:"Backing up..."});yield o.present();let s,i=[];yield t.emulationService.pause(),yield t.snapshotService.waitForPendingSnapshot();try{const a=yield t.cloudpilotService.cloudpilot;yield a.backup(function(){var u=(0,te.Z)(function*(f){for(f.Init(e);f.IsInProgress();){const g=f.GetCurrentDatabase();f.Save()||i.push(g),yield new Promise(v=>setTimeout(v,0))}s=a.getArchive(f)});return function(f){return u.apply(this,arguments)}}())}finally{yield o.dismiss(),yield t.emulationService.resume()}s?i.length>0?yield t.alertService.message("Backup complete",`\n                    ${Mb(i)} failed  to backup.\n                    <br/><br/>\n                    Open databases cannot be backuped. Please run backup from the launcher\n                    in order to backup all databases.\n                `,{"Save Backup":()=>t.fileService.saveFile(Nx(r,e),s)},"Cancel"):t.fileService.saveFile(Nx(r,e),s):yield t.alertService.errorMessage("Backup failed.")})()}}vd.\u0275fac=function(e){return new(e||vd)(se(as),se(Rl),se(Za),se(Ls),se(vs),se(ro),se(Hi))},vd.\u0275prov=mt({token:vd,factory:vd.\u0275fac,providedIn:"root"});const P6=window.AudioContext||window.webkitAudioContext;function Ub(n,e=100){return new Promise((t,r)=>{setTimeout(()=>r(new Error("timeout")),e),n.then(t,r)})}class R6{constructor(e){var t=this;this.emulationService=e,this.initialize=()=>this.mutex.runExclusive((0,te.Z)(function*(){if(!t.initialized){try{t.context=new P6}catch(r){return console.error(r),void console.error("web audio not available")}try{t.context.destination.channelCount=1}catch{console.warn("audio driver: failed to set channel count")}try{yield t.start()}catch(r){return console.error(r),void console.error("failed to initialize audio context")}t.context.addEventListener("statechange",()=>{"interrupted"===t.context?.state&&t.updateState()}),t.gainNode=t.context.createGain(),t.gainNode.channelCount=1,t.gainNode.channelInterpretation="speakers",t.gainNode.gain.value=t.gain(),t.gainNode.connect(t.context.destination),t.applyPwmUpdate(),t.initialized=!0}})),this.updateState=(r=!1)=>this.mutex.runExclusive((0,te.Z)(function*(){if(!t.context||t.isRunning()===t.shouldRun())return;!r&&!t.isRunning()&&t.shouldRun()&&t.applyPwmUpdate();const o=t.context.state;if(t.shouldRun())try{t.updateGain(),yield Ub(t.context.resume()),console.log("resume audio context")}catch{console.error(`failed to resume audio from state ${o}`)}else try{yield Ub(t.context.suspend()),console.log("suspend audio context")}catch{console.error(`failed to suspend audio from state ${o}`)}console.log(`audio context state change ${o} -> ${t.context.state}`)})),this.onPwmUpdate=function(){var r=(0,te.Z)(function*(o){t.pendingPwmUpdate=o,t.initialized&&(t.shouldRun()!==t.isRunning()&&t.updateState(!0),t.shouldRun()&&t.applyPwmUpdate())});return function(o){return r.apply(this,arguments)}}(),this.mutex=new Ha,this.initialized=!1,this.muted=!1,this.emulationService.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.emulationService.emulationStateChangeEvent.addHandler(()=>this.updateState()),this.emulationService.powerOffChangeEvent.addHandler(()=>this.updateState()),ha||document.addEventListener("visibilitychange",()=>this.updateState())}isInitialized(){return this.initialized}mute(e){this.muted=e,this.updateState()}isMuted(){return this.muted}shouldRun(){return this.emulationService.isRunning()&&!this.emulationService.isPowerOff()&&!this.muted&&this.gain()>0&&("hidden"!==document.visibilityState||ha||this.runHidden())}updateGain(){this.gainNode&&(this.gainNode.gain.value=this.gain())}start(){var e=this;return(0,te.Z)(function*(){e.context&&(yield Ub(e.context.resume()),e.updateState(),console.log("audio context initialized"))})()}isRunning(){return"running"===this.context?.state}applyPwmUpdate(){if(!this.context||!this.pendingPwmUpdate)return;const{frequency:e,dutyCycle:t}=this.pendingPwmUpdate,r=this.context.sampleRate;if(this.pendingPwmUpdate=void 0,e<=0||t<=0||e>=r)return void this.disconnectSource();const o=this.context.createBuffer(1,Math.round(r/e),r),i=o.getChannelData(0);for(let a=0;a<i.length;a++)i[a]=a/i.length<t?1:0;const s=this.context.createBufferSource();s.channelCount=1,s.channelInterpretation="speakers",s.loop=!0,s.buffer=o,this.disconnectSource(),s.connect(this.gainNode),s.start(),this.bufferSourceNode=s,this.pendingPwmUpdate=void 0}disconnectSource(){this.bufferSourceNode&&(this.bufferSourceNode.stop(),this.bufferSourceNode.disconnect(),this.bufferSourceNode=void 0)}gain(){return this.getVolume()/2}}class gc extends R6{constructor(e,t,r){super(e),this.kvs=t,this.modalWatcher=r,this.modalWatcher.modalVisibilityChangeEvent.addHandler(()=>this.updateState())}getVolume(){return this.kvs.kvs.volume}runHidden(){return this.kvs.kvs.runHidden}shouldRun(){return!this.modalWatcher.isModalActive()&&super.shouldRun()}}gc.\u0275fac=function(e){return new(e||gc)(se(as),se(li),se(fc))},gc.\u0275prov=mt({token:gc,factory:gc.\u0275fac,providedIn:"root"});class nu{constructor(e,t){this.emulationService=e,this.ngZone=t,this.onInterval=()=>{this.emulationService.getEmulationSpeed()<1?(this.level<3&&this.level++,3===this.level&&this.ngZone.run(()=>this.slowdownDetected=!0)):(this.level>0&&this.level--,0===this.level&&this.ngZone.run(()=>this.slowdownDetected=!1))},this.onEmulationStateChanged=r=>{this.reset(),r&&void 0===this.intervalHandle&&(this.onInterval(),this.ngZone.runOutsideAngular(()=>this.intervalHandle=window.setInterval(this.onInterval,1e3))),!r&&void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)},this.slowdownDetected=!1,this.level=0,this.onEmulationStateChanged(this.emulationService.isRunning()),this.emulationService.emulationStateChangeEvent.addHandler(this.onEmulationStateChanged)}isSlowdownDetected(){return this.slowdownDetected}reset(){this.slowdownDetected=!1,this.level=0}ngOnDestroy(){this.emulationService.emulationStateChangeEvent.removeHandler(this.onEmulationStateChanged),void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)}}function O6(n,e){if(1&n){const t=Fr();re(0,"ion-item",4),st("click",function(){return sn(t),an(Lt().power())}),re(1,"ion-label"),qe(2,"Power"),Q(),ct(3,"ion-icon",5),Q()}if(2&n){const t=Lt();rt("detail",!1)("disabled",!t.emulationService.isRunning())}}function N6(n,e){if(1&n){const t=Fr();re(0,"ion-item",4),st("click",function(){return sn(t),an(Lt().hotsync())}),re(1,"ion-label"),qe(2,"Hotsync"),Q(),ct(3,"ion-icon",6),Q()}if(2&n){const t=Lt();rt("detail",!1)("disabled",!t.emulationService.isRunning())}}function L6(n,e){if(1&n){const t=Fr();re(0,"ion-item",4),st("click",function(){return sn(t),an(Lt().reset())}),re(1,"ion-label"),qe(2,"Reset"),Q(),ct(3,"ion-icon",7),Q()}if(2&n){const t=Lt();rt("detail",!1)("disabled",!t.emulationService.isRunning())}}function $6(n,e){if(1&n){const t=Fr();re(0,"ion-item",8),st("click",function(){return sn(t),an(Lt().insertCard())}),re(1,"ion-label"),qe(2),Q(),ct(3,"ion-icon",9),Q()}if(2&n){const t=Lt();rt("detail",!1),Ke(2),Ui("Insert ",t.hasMemorystick?"stick":"SD card","")}}function B6(n,e){if(1&n){const t=Fr();re(0,"ion-item",8),st("click",function(){return sn(t),an(Lt().ejectCard())}),re(1,"ion-label"),qe(2),Q(),ct(3,"ion-icon",10),Q()}if(2&n){const t=Lt();rt("detail",!1),Ke(2),Ui("Eject ",t.hasMemorystick?"stick":"SD card","")}}function V6(n,e){if(1&n){const t=Fr();re(0,"ion-item",8),st("click",function(){return sn(t),an(Lt().mute(!1))}),re(1,"ion-label"),qe(2,"Enable audio"),Q(),ct(3,"ion-icon",11),Q()}2&n&&rt("detail",!1)}function U6(n,e){if(1&n){const t=Fr();re(0,"ion-item",8),st("click",function(){return sn(t),an(Lt().mute(!0))}),re(1,"ion-label"),qe(2,"Disable audio"),Q(),ct(3,"ion-icon",12),Q()}2&n&&rt("detail",!1)}function j6(n,e){if(1&n){const t=Fr();re(0,"ion-item",4),st("click",function(){return sn(t),an(Lt().backup())}),re(1,"ion-label"),qe(2,"Save backup"),Q(),ct(3,"ion-icon",13),Q()}if(2&n){const t=Lt();rt("detail",!1)("disabled",t.backupDisabled)}}function G6(n,e){if(1&n){const t=Fr();re(0,"ion-item",8),st("click",function(){return sn(t),an(Lt().rotate())}),re(1,"ion-label"),qe(2,"Rotate"),Q(),ct(3,"ion-icon",14),Q()}2&n&&rt("detail",!1)}function H6(n,e){if(1&n){const t=Fr();re(0,"ion-item",8),st("click",function(){return sn(t),an(Lt().editSettings())}),re(1,"ion-label"),qe(2,"Settings"),Q(),ct(3,"ion-icon",15),Q()}2&n&&rt("detail",!1)}function z6(n){switch(n){case Or.portrait:case void 0:return Or.landscape90;case Or.landscape90:return Or.portrait180;case Or.portrait180:return Or.landscape270;case Or.landscape270:return Or.portrait;default:throw new Error("cannot happen")}}nu.\u0275fac=function(e){return new(e||nu)(se(as),se(ut))},nu.\u0275prov=mt({token:nu,factory:nu.\u0275fac,providedIn:"root"});class mp{constructor(e,t,r,o,i,s,a,u,f,g,v,I,k,K,ye,Ge,Ye,vt){this.emulationService=e,this.emulationStateService=t,this.backupService=r,this.buttonService=o,this.actionSheetController=i,this.popoverController=s,this.audioService=a,this.kvsService=u,this.modalController=f,this.sessionService=g,this.performanceWatchdogService=v,this.canvasDisplayService=I,this.cloudpilotService=k,this.storageCardService=K,this.alertService=ye,this.alertController=Ge,this.storageService=Ye,this.errorService=vt,this.showHelp=()=>{}}reset(){var e=this;return(0,te.Z)(function*(){e.popoverController.dismiss(),(yield e.actionSheetController.create({header:"How do you want to reset?",buttons:[{text:"Normal boot",handler:()=>e.emulationService.reset()},{text:"No extensions",handler:()=>e.emulationService.resetNoExtensions()},{text:"Hard reset",handler:()=>e.emulationService.resetHard()},{text:"Cancel",role:"cancel"}]})).present()})()}power(){this.buttonService.engage(6),this.popoverController.dismiss()}hotsync(){this.buttonService.engage(7),this.popoverController.dismiss()}help(){this.showHelp(),this.popoverController.dismiss()}backup(){var e=this;return(0,te.Z)(function*(){e.popoverController.dismiss(),(yield e.actionSheetController.create({header:"What do you want to backup?",buttons:[{text:"Only RAM (default)",handler:()=>e.backupService.saveBackup(!1)},{text:"Include ROM",handler:()=>e.backupService.saveBackup(!0)},{text:"Cancel",role:"cancel"}]})).present()})()}get isMuted(){return!this.audioService.isInitialized()||this.audioService.isMuted()}get isAudioOff(){return this.kvsService.kvs.volume<=0}mute(e){e?this.audioService.mute(!0):this.audioService.isInitialized()?this.audioService.mute(!1):this.audioService.initialize()}get backupDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get powerDisabled(){const e=this.emulationStateService.getCurrentSession();return!!e&&function gG(n){return[oe.i705,oe.i710,oe.pegNR70,oe.pegT650c].includes(n)}(e.device)}get hasActiveSession(){return!!this.emulationStateService.getCurrentSession()}get supportsStorageCard(){const e=this.emulationStateService.getCurrentSession();return!!e&&Tx(e.device)!==dc.none}get hasMemorystick(){const e=this.emulationStateService.getCurrentSession();return!!e&&Tx(e.device)===dc.memorystick}get hasMountedCard(){return void 0!==this.emulationStateService.getCurrentSession()?.mountedCard}editSettings(){var e=this;return(0,te.Z)(function*(){const t=e.emulationStateService.getCurrentSession();if(!t)return;const r=t.speed,o=t.deviceOrientation,i=yield e.modalController.create({component:yd,backdropDismiss:!1,componentProps:{session:t,availableDevices:[t.device],onSave:(s=(0,te.Z)(function*(){r!==t.speed&&e.performanceWatchdogService.reset(),o!==t.deviceOrientation&&(e.canvasDisplayService.initialize(void 0,t),e.canvasDisplayService.updateEmulationCanvas()),yield e.sessionService.updateSession(t),i.dismiss()}),function(){return s.apply(this,arguments)}),onCancel:()=>i.dismiss()}});var s;yield e.popoverController.dismiss(),yield i.present()})()}rotate(){var e=this;return(0,te.Z)(function*(){const t=e.emulationStateService.getCurrentSession();if(!t)return;yield e.storageService.updateSessionPartial(t.id,{deviceOrientation:z6(t.deviceOrientation)});const r=e.emulationStateService.getCurrentSession();yield e.canvasDisplayService.initialize(void 0,r),e.canvasDisplayService.updateEmulationCanvas()})()}insertCard(){var e=this;return(0,te.Z)(function*(){if(e.popoverController.dismiss(),void 0===e.emulationStateService.getCurrentSession()?.device)return;const r=yield e.cloudpilotService.cloudpilot,o=e.storageCardService.getAllCards().filter(s=>r.deviceSupportsCardSize(s.size)&&!e.storageCardService.mountedInSession(s.id));0!==o.length?yield(yield e.alertController.create({header:"Choose image for insertion",buttons:[{text:"Cancel",role:"cancel"},{text:"Insert",handler:s=>e.storageCardService.insertCard(s)}],inputs:o.map((s,a)=>({label:s.name,type:"radio",value:s.id,checked:0===a})),backdropDismiss:!1})).present():e.alertService.message("No image available",`There is no ${e.hasMemorystick?"memory stick":"SD card"} image available. Please go to the "Storage" tab in order to create new one.`)})()}ejectCard(){var e=this;return(0,te.Z)(function*(){try{yield e.storageCardService.ejectCurrentCard()}catch(t){e.errorService.fatalBug(t instanceof Error?t.message:"eject failed")}e.popoverController.dismiss()})()}}mp.\u0275fac=function(e){return new(e||mp)(S(as),S(vs),S(vd),S(Xc),S(ip),S(Wc),S(gc),S(li),S(ys),S(qa),S(nu),S(Ll),S(Hi),S(ga),S(ro),S(zc),S(er),S(Ks))},mp.\u0275cmp=nt({type:mp,selectors:[["app-emulation-context-menu"]],inputs:{showHelp:"showHelp"},decls:15,vars:11,consts:[["lines","full","button","",3,"detail","disabled","click",4,"ngIf"],["lines","full","button","",3,"detail","click",4,"ngIf"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"],["lines","full","button","",3,"detail","disabled","click"],["name","power-outline","slot","end"],["name","sync-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","log-in-outline","slot","end"],["name","log-out-outline","slot","end"],["name","volume-high-outline","slot","end"],["name","volume-mute-outline","slot","end"],["name","share-outline","slot","end"],["name","reload-outline","slot","end"],["name","cog-outline","slot","end"]],template:function(e,t){1&e&&(re(0,"ion-list"),Yt(1,O6,4,2,"ion-item",0),Yt(2,N6,4,2,"ion-item",0),Yt(3,L6,4,2,"ion-item",0),Yt(4,$6,4,2,"ion-item",1),Yt(5,B6,4,2,"ion-item",1),Yt(6,V6,4,1,"ion-item",1),Yt(7,U6,4,1,"ion-item",1),Yt(8,j6,4,2,"ion-item",0),Yt(9,G6,4,1,"ion-item",1),Yt(10,H6,4,1,"ion-item",1),re(11,"ion-item",2),st("click",function(){return t.help()}),re(12,"ion-label"),qe(13,"Help"),Q(),ct(14,"ion-icon",3),Q()()),2&e&&(Ke(1),rt("ngIf",t.hasActiveSession&&!t.powerDisabled),Ke(1),rt("ngIf",t.hasActiveSession),Ke(1),rt("ngIf",t.hasActiveSession),Ke(1),rt("ngIf",t.supportsStorageCard&&!t.hasMountedCard),Ke(1),rt("ngIf",t.supportsStorageCard&&t.hasMountedCard),Ke(1),rt("ngIf",t.isMuted&&!t.isAudioOff),Ke(1),rt("ngIf",!t.isMuted&&!t.isAudioOff),Ke(1),rt("ngIf",t.hasActiveSession),Ke(1),rt("ngIf",t.hasActiveSession),Ke(1),rt("ngIf",t.hasActiveSession),Ke(1),rt("detail",!1))},dependencies:[mi,_i,ai,os,ja]});class W6{constructor(e,t){this.emulationService=e,this.canvasDisplayService=t,this.handleMouseDown=r=>{if(0!==r.button)return;const o=this.canvasDisplayService.eventToPalmCoordinates(r);if(!o)return;const i=this.determineArea(o);if(2===i){const s=this.canvasDisplayService.determineButton(o);this.interactionMouse={area:i,buttonPrimary:s},this.handleButtonDown(s)}else this.interactionMouse={area:i},this.emulationService.handlePointerMove(...o,1===i)},this.handleMouseMove=r=>{if(!(1&r.buttons&&this.interactionMouse&&2!==this.interactionMouse?.area))return;const o=this.canvasDisplayService.eventToPalmCoordinates(r,!0);o&&this.emulationService.handlePointerMove(...o,1===this.interactionMouse?.area)},this.handeMouseUp=r=>{if(0!==r.button)return;const o=this.interactionMouse;switch(this.interactionMouse=void 0,o?.area){case 2:this.handleButtonUp(o.buttonPrimary);break;case 0:case 1:this.emulationService.handlePointerUp()}},this.handleTouchStart=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.canvasDisplayService.eventToPalmCoordinates(s);if(!a)continue;o=!0;const u=this.determineArea(a);if(2===u){const f=this.canvasDisplayService.determineButton(a);this.interactionsTouch.set(s.identifier,{area:u,buttonPrimary:f}),this.handleButtonDown(f)}else this.interactionsTouch.set(s.identifier,{area:u}),this.emulationService.handlePointerMove(...a,1===u)}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchMove=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);if(!a)continue;o=!0;const u=a.area;switch(u){case 2:{const f=this.canvasDisplayService.eventToPalmCoordinates(s);if(!f||2!==this.determineArea(f)){this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0;break}const g=this.canvasDisplayService.determineButton(f);g===a.buttonPrimary?(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0):g!==a.buttonSecondary&&(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=g,this.handleButtonDown(g));break}case 0:case 1:{const f=this.canvasDisplayService.eventToPalmCoordinates(s,!0);if(!f)continue;this.emulationService.handlePointerMove(...f,1===u);break}default:continue}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchEnd=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);switch(a&&(o=!0),this.interactionsTouch.delete(s.identifier),a?.area){case 2:this.handleButtonUp(a.buttonPrimary),this.handleButtonUp(a.buttonSecondary);break;case 0:case 1:this.emulationService.handlePointerUp()}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleKeyDown=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;if(this.isToggleGameMode(r))return r.preventDefault(),this.gameMode=!this.gameMode,void this.onToggleGameMode();const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonDown(o),void r.preventDefault();const i=this.keyCodeFromEvent(r);void 0!==i&&(this.emulationService.handleKeyDown(i),r.preventDefault())},this.handleKeyUp=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonUp(o),void r.preventDefault();if("Control"===r.key){for(const i of this.activeButtons)this.emulationService.handleButtonUp(i);this.activeButtons.clear(),this.canvasDisplayService.drawButtons([])}},this.keyEventTarget=window,this.interactionsTouch=new Map,this.activeButtons=new Set,this.gameMode=!1,this.enableGamemodeHotkey=!0}bind(e,t=window){this.pointerEventTarget&&this.release(),this.pointerEventTarget=e,this.keyEventTarget=t||window,this.addEventListener(e,"mousedown",this.handleMouseDown),this.addEventListener(window,"mouseup",this.handeMouseUp),this.addEventListener(window,"mousemove",this.handleMouseMove),this.addEventListener(e,"touchstart",this.handleTouchStart),this.addEventListener(e,"touchmove",this.handleTouchMove),this.addEventListener(e,"touchend",this.handleTouchEnd),this.addEventListener(e,"touchcancel",this.handleTouchEnd),this.addEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.addEventListener(this.keyEventTarget,"keyup",this.handleKeyUp)}release(){if(this.pointerEventTarget){this.removeEventListener(this.pointerEventTarget,"mousedown",this.handleMouseDown),this.removeEventListener(window,"mouseup",this.handeMouseUp),this.removeEventListener(window,"mousemove",this.handleMouseMove),this.removeEventListener(this.pointerEventTarget,"touchstart",this.handleTouchStart),this.removeEventListener(this.pointerEventTarget,"touchmove",this.handleTouchMove),this.removeEventListener(this.pointerEventTarget,"touchend",this.handleTouchEnd),this.removeEventListener(this.pointerEventTarget,"touchcancel",this.handleTouchEnd),this.removeEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.removeEventListener(this.keyEventTarget,"keyup",this.handleKeyUp);for(const e of this.activeButtons)this.handleButtonUp(e);this.activeButtons.clear(),this.interactionsTouch.clear(),this.interactionMouse=void 0,this.pointerEventTarget=void 0}}isGameMode(){return this.gameMode}setGameMode(e){this.gameMode=e,this.onToggleGameMode()}setGameModeHotkeyEnabled(e){this.enableGamemodeHotkey=e}isGameModeHotkeyEnabled(){return this.enableGamemodeHotkey}enableKeyboardEvents(){return!0}onToggleGameMode(){}addEventListener(e,t,r,o){e.addEventListener(t,r,o)}removeEventListener(e,t,r,o){e.removeEventListener(t,r,o)}determineArea(e){return this.canvasDisplayService.isButtons(e)?2:this.canvasDisplayService.isSilkscreen(e)?1:0}handleButtonDown(e){this.activeButtons.has(e)||(this.activeButtons.add(e),this.emulationService.handleButtonDown(e),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}handleButtonUp(e){void 0===e||!this.activeButtons.has(e)||(this.activeButtons.delete(e),this.emulationService.handleButtonUp(e),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}isToggleGameMode(e){return this.isGameModeHotkeyEnabled()&&("Shift"===e.key&&e.ctrlKey||"Control"===e.key&&e.shiftKey)}isGameModeActive(e){return!this.gameMode&&e.ctrlKey||this.gameMode&&!e.ctrlKey}buttonFromEvent(e){switch(e.key){case"PageUp":return 4;case"PageDown":return 5}if(this.isGameModeActive(e))switch(e.key){case"w":case"i":case"ArrowUp":return 4;case"s":case"k":case"ArrowDown":return 5;case"a":case"j":case"y":case"z":case"ArrowLeft":return 0;case"q":case"u":case"x":return 1;case"e":case"o":case"c":return 2;case"d":case"l":case"v":case"ArrowRight":return 3}}keyCodeFromEvent(e){if(!this.isGameModeActive(e)){if(1===e.key.length&&e.key.charCodeAt(0)<=255)return e.key.charCodeAt(0);switch(e.key){case"ArrowLeft":return 28;case"ArrowRight":return 29;case"ArrowUp":return 30;case"ArrowDown":return 31;case"Backspace":return 8;case"Tab":return 9;case"Enter":return 10;default:return}}}}class bd extends W6{constructor(e,t,r,o,i){super(e,t),this.modalWatcher=r,this.ngZone=o,this.app=i}enableKeyboardEvents(){return!this.modalWatcher.isModalActive()}onToggleGameMode(){this.app.tick()}addEventListener(e,t,r,o){this.ngZone.runOutsideAngular(()=>e.addEventListener(t,r,o))}}function Xx(n){return/\.(prc|pdb|pqa)$/i.test(n)}bd.\u0275fac=function(e){return new(e||bd)(se(as),se(Ll),se(fc),se(ut),se(Zl))},bd.\u0275prov=mt({token:bd,factory:bd.\u0275fac,providedIn:"root"});class X6{constructor(e,t,r,o){this.cloudpilotService=e,this.alertController=t,this.snapshotService=r,this.files=o,this.filesSuccess=[],this.filesFail=[],this.filesRequireReset=[],this.sizeInstalledSinceLastsnapshot=0,this.skipErrors=!1,this.installedDatabases=new Map}run(){var e=this;return(0,te.Z)(function*(){for(const t of e.files){let r;try{r=yield t.getContent()}catch(o){console.warn(o),e.filesFail.push(t.name);continue}if(/\.zip/i.test(t.name)&&r.length<33554432)try{yield e.installZip(t)}catch{e.filesFail.push(t.name)}else Xx(t.name)?yield e.installOne(t.name,r):e.filesFail.push(t.name)}return[e.filesSuccess,e.filesRequireReset,e.filesFail]})()}installOne(e,t){var r=this;return(0,te.Z)(function*(){const i=yield(yield r.cloudpilotService.cloudpilot).installDb(t);switch(i){case 2:r.filesRequireReset.push(e),r.filesSuccess.push(e),r.sizeInstalledSinceLastsnapshot+=t.length;break;case 1:r.filesSuccess.push(e),r.sizeInstalledSinceLastsnapshot+=t.length;break;default:r.filesFail.push(e),yield r.reportError(e,i)}if(2===i||1===i)try{const s=function K6(n){if(n.length<32)throw new Error("not a database");let e;for(e=0;e<32&&0!==n[e];e++);if(e>31)throw new Error("not a database");return new TextDecoder("latin1",{fatal:!1}).decode(n.subarray(0,e))}(t);r.installedDatabases.has(s)&&(yield r.errorDialog("Duplicate item",`${e} overwrites previously installed database ${r.installedDatabases.get(s)}`)),r.installedDatabases.set(s,e)}catch{}r.sizeInstalledSinceLastsnapshot>4194304&&(yield r.snapshotService.triggerSnapshot(),r.sizeInstalledSinceLastsnapshot=0),yield new Promise(s=>setTimeout(s,0))})()}installZip(e){var t=this;return(0,te.Z)(function*(){yield(yield t.cloudpilotService.cloudpilot).withZipfileWalker(yield e.getContent(),function(){var o=(0,te.Z)(function*(i){let s=0;for(;0===i.GetState();){const a=i.GetCurrentEntryName().replace(/^.*\//,"");if(!Xx(i.GetCurrentEntryName())){i.Next();continue}const u=i.GetCurrentEntryContent();u?(yield t.installOne(a,u),s++):t.filesFail.push(a),i.Next()}if(0===s)throw new Error("no installable files in archive")});return function(i){return o.apply(this,arguments)}}())})()}reportError(e,t){return this.errorDialog("Item failed to install",`Could not install ${e}: ${function Y6(n){switch(n){case-6:return"database exists on device and could not be overwritten";case-4:return"database file is corrupt";case-3:return"database is open on device";case-5:return"internal PalmOS error";case-2:return"not enough memory on device";default:return"unknown reason"}}(t)}.`)}errorDialog(e,t){return this.skipErrors?Promise.resolve():new Promise(r=>{this.alertController.create({header:e,backdropDismiss:!1,cssClass:"alert-checkbox-no-border installation-error",message:t,buttons:[{text:"Continue",role:"cancel",handler:()=>{this.alertController.dismiss(),r()}}],inputs:[{type:"checkbox",label:"Skip any remaining errors",cssClass:"alert-checkbox",checked:!1,handler:i=>this.skipErrors=!0===i.checked}]}).then(i=>i.present())})}}class Cd{constructor(e,t,r,o,i,s){this.cloudpilotService=e,this.emulationService=t,this.loadingController=r,this.snapshotService=o,this.alertService=i,this.alertController=s}installFiles(e){var t=this;return(0,te.Z)(function*(){const r=yield t.loadingController.create({message:"Installing..."});yield r.present(),yield t.emulationService.pause(),yield t.snapshotService.waitForPendingSnapshot();let o=[],i=[],s=[];try{[o,s,i]=yield new X6(t.cloudpilotService,t.alertController,t.snapshotService,e).run()}finally{r.dismiss(),t.emulationService.resume()}const a=[t.messageSucces(o),t.messageFailed(i),t.messageRequireReset(s)].filter(f=>!!f).join("<br/><br/>");let u;u=0===i.length?"Installation successful":0===o.length?"Installation failed":"Installation errors",t.alertService.message(u,a,s.length>0?{"Reset now":()=>t.emulationService.reset()}:void 0)})()}messageSucces(e){switch(e.length){case 0:return;case 1:return`Installation of ${e[0]} successful.`;default:return`Installation of ${e.length} items successful.`}}messageFailed(e){return e.length>0?`Installation of  ${Mb(e)} failed.`:void 0}messageRequireReset(e){return e.length>0?`${Mb(e)} require a device reset.`:void 0}}Cd.\u0275fac=function(e){return new(e||Cd)(se(Hi),se(as),se(Rl),se(Za),se(ro),se(zc))},Cd.\u0275prov=mt({token:Cd,factory:Cd.\u0275fac,providedIn:"root"});class _c{constructor(){this.onDragOver=e=>{e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.currentClient?"copy":"none")},this.onDrop=e=>{e.preventDefault(),this.currentClient&&this.currentClient.handleDragDropEvent(e)},document.addEventListener("drop",this.onDrop),document.addEventListener("dragover",this.onDragOver)}registerClient(e){this.currentClient=e}unregisterClient(e){e===this.currentClient&&(this.currentClient=void 0)}}_c.\u0275fac=function(e){return new(e||_c)},_c.\u0275prov=mt({token:_c,factory:_c.\u0275fac,providedIn:"root"});const Q6=["canvas"];function J6(n,e){if(1&n){const t=Fr();re(0,"ion-button",5),st("click",function(){return sn(t),an(Lt().navigation.lock())}),ct(1,"ion-icon",10),Q()}}function eH(n,e){if(1&n){const t=Fr();re(0,"ion-button",5),st("click",function(){return sn(t),an(Lt().navigation.unlock())}),ct(1,"ion-icon",11),Q()}}function tH(n,e){if(1&n){const t=Fr();re(0,"ion-button",5),st("click",function(){return sn(t),an(Lt().showGameModeHint())}),ct(1,"ion-icon",12),Q()}}function nH(n,e){if(1&n){const t=Fr();re(0,"ion-button",5),st("click",function(){return sn(t),an(Lt().showProxyConnectedHint())}),ct(1,"ion-icon",13),Q()}}function rH(n,e){if(1&n){const t=Fr();re(0,"ion-button",5),st("click",function(){return sn(t),an(Lt().showSlowdowndHint())}),ct(1,"ion-icon",14),Q()}}function oH(n,e){if(1&n){const t=Fr();re(0,"div",15),qe(1," The device was reset forcefully. How do you want to boot? "),re(2,"ion-button",16),st("click",function(){return sn(t),an(Lt().bootAfterForcefulReset())}),qe(3,"Normal boot"),Q(),re(4,"ion-button",16),st("click",function(){return sn(t),an(Lt().bootAfterForcefulResetNoExtensions())}),qe(5,"No extensions"),Q(),re(6,"ion-button",16),st("click",function(){return sn(t),an(Lt().bootAfterForcefulResetHardReset())}),qe(7,"Hard reset"),Q()()}}function iH(n,e){1&n&&(re(0,"div",15)(1,"div"),qe(2,"No session selected"),Q()())}class gp{constructor(e,t,r,o,i,s,a,u,f,g,v,I,k,K,ye,Ge,Ye,vt){var Ne=this;this.emulationService=e,this.emulationState=t,this.storageService=r,this.eventHandlingService=o,this.canvasDisplayService=i,this.kvsService=s,this.popoverController=a,this.modalController=u,this.alertService=f,this.fileService=g,this.snapshotService=v,this.installlationService=I,this.proxyService=k,this.navigation=K,this.linkApi=ye,this.performanceWatchdogService=Ge,this.cloudpilotService=Ye,this.dragDropService=vt,this.ionViewDidEnter=()=>this.mutex.runExclusive((0,te.Z)(function*(){yield Ne.emulationService.bootstrapComplete(),Ne.boostrapComplete=!0;const Ot=Ne.emulationState.getCurrentSession();Ot&&!Ot.wasResetForcefully&&(yield Ne.launchEmulator()),Ne.linkApi.installation.requestEvent.addHandler(Ne.handleLinkApiInstallationRequest),Ne.handleLinkApiInstallationRequest(),Ne.dragDropService.registerClient(Ne)})),this.ionViewWillLeave=()=>this.mutex.runExclusive(()=>{this.dragDropService.unregisterClient(this),this.linkApi.installation.requestEvent.removeHandler(this.handleLinkApiInstallationRequest),this.emulationService.isRunning()&&(this.autoLockUI=!1),this.emulationService.pause(),this.emulationService.newFrameEvent.removeHandler(this.onNewFrame),this.snapshotService.snapshotEvent.removeHandler(this.onSnapshot),this.kvsService.updateEvent.removeHandler(this.onKvsUpdate),this.eventHandlingService.release(),this.navigation.unlock()}),this.onKvsUpdate=()=>{this.kvsService.kvs.showStatistics?this.canvasDisplayService.updateStatistics():this.canvasDisplayService.clearStatistics()},this.onSnapshot=Ot=>{this.kvsService.kvs.showStatistics&&this.canvasDisplayService.updateStatistics(Ot,this.emulationService.getStatistics())},this.onNewFrame=Ot=>{this.canvasDisplayService.updateEmulationCanvas(Ot)},this.handleLinkApiInstallationRequest=()=>{if(!this.linkApi.installation.hasPendingRequest())return;const Ot=this.linkApi.installation.receivePendingUrl();Ot&&(this.installFileDisabled?this.alertService.message("Unable to install","Installation is currently not possible.",{},"Cancel"):this.emulationState.getCurrentSession()&&this.emulationService.isRunning()?this.alertService.message("Installation request",`Do you want to install<br>${Ot} ?`,{OK:()=>this.fileService.openUrl(Ot,Wn=>this.installlationService.installFiles([Wn]))},"Cancel"):this.alertService.message("Unable to install",`Please start a session in order to install ${Ot} .`,{},"Cancel"))},this.boostrapComplete=!1,this.autoLockUI=!0,this.mutex=new Ha}get cssWidth(){return this.canvasDisplayService.width/devicePixelRatio+"px"}get cssHeight(){return this.canvasDisplayService.height/devicePixelRatio+"px"}openContextMenu(e){var t=this;return(0,te.Z)(function*(){(yield t.popoverController.create({component:mp,event:e,componentProps:{showHelp:()=>t.showHelp()},arrow:!1})).present()})()}handleDragDropEvent(e){this.installFileDisabled||this.fileService.openFromDrop(e,this.installlationService.installFiles.bind(this.installlationService))}installFiles(){this.fileService.openFiles(this.installlationService.installFiles.bind(this.installlationService))}showHelp(){var e=this;return(0,te.Z)(function*(){yield(yield e.modalController.create({component:ma,componentProps:{url:"assets/doc/emulation.md"}})).present()})()}showGameModeHint(){var e=this;return(0,te.Z)(function*(){yield e.alertService.message("Game mode","\n                The keyboard is in game mode and controls the hardware buttons.\n                Press ctrl-shift in order to exit game mode.\n                <br/><br/>\n                Check the help page for a description of the different keyboard mappings.\n            ",{Help:()=>e.showHelp()})})()}showProxyConnectedHint(){var e=this;return(0,te.Z)(function*(){yield e.alertService.message("Proxy connected","Network proxy connected.")})()}showSlowdowndHint(){var e=this;return(0,te.Z)(function*(){yield e.alertService.message("Speed throttled","\n                Your host is too slow to run your virtual device at full speed, and the clock\n                has been throttled in order to compensate. You can avoid this by reducing the speed of your\n                virtual device in the session settings.\n        ")})()}get installFileDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get title(){return this.emulationState.getCurrentSession()?.name||""}bootAfterForcefulReset(){var e=this;return(0,te.Z)(function*(){yield e.clearForcefulReset(),yield e.launchEmulator()})()}bootAfterForcefulResetNoExtensions(){var e=this;return(0,te.Z)(function*(){yield e.clearForcefulReset(),(yield e.cloudpilotService.cloudpilot).resetNoExtensions(),yield e.launchEmulator()})()}bootAfterForcefulResetHardReset(){var e=this;return(0,te.Z)(function*(){yield e.clearForcefulReset(),(yield e.cloudpilotService.cloudpilot).resetHard(),yield e.launchEmulator()})()}cancelIfEmulationActive(e){this.emulationState.getCurrentSession()&&!this.emulationState.getCurrentSession()?.wasResetForcefully&&e.cancelable&&e.preventDefault()}clearForcefulReset(){var e=this;return(0,te.Z)(function*(){const t=e.emulationState.getCurrentSession();t&&(yield e.storageService.updateSessionPartial(t.id,{wasResetForcefully:!1}))})()}launchEmulator(){var e=this;return(0,te.Z)(function*(){const t=e.emulationState.getCurrentSession();t&&(yield e.kvsService.mutex.runExclusive(()=>e.kvsService.kvs.autoLockUI&&e.autoLockUI&&e.navigation.lock()),e.canvasDisplayService.initialize(e.canvasRef.nativeElement,t).then(()=>{e.onKvsUpdate(),e.kvsService.updateEvent.addHandler(e.onKvsUpdate)}),e.onNewFrame(e.emulationService.getCanvas()),e.emulationService.newFrameEvent.addHandler(e.onNewFrame),e.snapshotService.snapshotEvent.addHandler(e.onSnapshot),yield e.emulationService.resume(),e.eventHandlingService.bind(e.canvasRef.nativeElement))})()}}function jb(n,e,t){return()=>{const r=t();r!==e&&(n.markForCheck(),e=r)}}function Qx(n,e){let t=n,r=1;for(;e(t);)t=`${n} (${r++})`;return t}gp.\u0275fac=function(e){return new(e||gp)(S(as),S(vs),S(er),S(bd),S(Ll),S(li),S(Wc),S(ys),S(ro),S(Ls),S(Za),S(Cd),S(pc),S(tu),S(Kl),S(nu),S(Hi),S(_c))},gp.\u0275cmp=nt({type:gp,selectors:[["app-emulation"]],viewQuery:function(e,t){if(1&e&&Lu(Q6,5),2&e){let r;Ps(r=Rs())&&(t.canvasRef=r.first)}},decls:21,vars:19,consts:[["slot","end"],[3,"disabled","click"],["name","download-outline"],[3,"click",4,"ngIf"],["slot","start"],[3,"click"],["name","ellipsis-vertical-outline"],[1,"container","running-session",3,"touchstart","touchmove"],["canvas",""],["class","container no-session",4,"ngIf"],["name","lock-open-outline"],["name","lock-closed-outline"],["name","game-controller-outline"],["name","swap-vertical-outline"],["name","speedometer-outline"],[1,"container","no-session"],["type","button","color","light",3,"click"]],template:function(e,t){if(1&e&&(re(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),qe(3),Q(),re(4,"ion-buttons",0)(5,"ion-button",1),st("click",function(){return t.installFiles()}),ct(6,"ion-icon",2),Q(),Yt(7,J6,2,0,"ion-button",3),Yt(8,eH,2,0,"ion-button",3),Q(),re(9,"ion-buttons",4)(10,"ion-button",5),st("click",function(o){return t.openContextMenu(o)}),ct(11,"ion-icon",6),Q(),Yt(12,tH,2,0,"ion-button",3),Yt(13,nH,2,0,"ion-button",3),Yt(14,rH,2,0,"ion-button",3),Q()()(),re(15,"ion-content")(16,"div",7),st("touchstart",function(o){return t.cancelIfEmulationActive(o)})("touchmove",function(o){return t.cancelIfEmulationActive(o)}),ct(17,"canvas",null,8),Q(),Yt(19,oH,8,0,"div",9),Yt(20,iH,3,0,"div",9),Q()),2&e){let r,o;Ke(3),As(t.title),Ke(2),rt("disabled",t.installFileDisabled),Ke(2),rt("ngIf",!t.navigation.isLocked()),Ke(1),rt("ngIf",t.navigation.isLocked()),Ke(4),rt("ngIf",t.eventHandlingService.isGameMode()),Ke(1),rt("ngIf",t.proxyService.isConnected()),Ke(1),rt("ngIf",t.performanceWatchdogService.isSlowdownDetected()),Ke(1),_l("locked",t.navigation.isLocked()),Ke(1),af("display",!t.emulationState.getCurrentSession()||null!=(r=t.emulationState.getCurrentSession())&&r.wasResetForcefully?"none":void 0),Ke(1),af("width",t.cssWidth)("height",t.cssHeight)("display",t.emulationState.getCurrentSession()?"block":"none"),Ke(2),rt("ngIf",null!=(o=t.emulationState.getCurrentSession())&&o.wasResetForcefully?"none":void 0),Ke(1),rt("ngIf",!t.emulationState.getCurrentSession()&&t.boostrapComplete)}},dependencies:[mi,es,ts,ns,rs,_i,is,ss],styles:["ion-title[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:3px}.container.no-session[_ngcontent-%COMP%]{text-align:center;padding:1em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:1em;width:100%;max-width:20em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-of-type{margin-top:3em}ion-content.locked[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-bottom:var(--ion-safe-area-bottom, 0)}.container.running-session[_ngcontent-%COMP%]{background:radial-gradient(circle,#ccc 0%,#eee 100%)}@media (prefers-color-scheme: dark){.container.running-session[_ngcontent-%COMP%]{background:none}}canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}"]});class _p{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onDelete=()=>{},this.onReset=()=>{}}}_p.\u0275fac=function(e){return new(e||_p)},_p.\u0275cmp=nt({type:_p,selectors:[["app-session-context-menu"]],inputs:{onEdit:"onEdit",onSave:"onSave",onDelete:"onDelete",onReset:"onReset"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,t){1&e&&(re(0,"ion-list")(1,"ion-item",0),st("click",function(){return t.onEdit()}),ct(2,"ion-icon",1),qe(3," Edit "),Q(),re(4,"ion-item",0),st("click",function(){return t.onSave()}),ct(5,"ion-icon",2),qe(6," Save "),Q(),re(7,"ion-item",0),st("click",function(){return t.onReset()}),ct(8,"ion-icon",3),qe(9," Reset "),Q(),re(10,"ion-item",4),st("click",function(){return t.onDelete()}),ct(11,"ion-icon",5),qe(12," Delete "),Q()()),2&e&&(Ke(1),rt("detail",!1),Ke(3),rt("detail",!1),Ke(3),rt("detail",!1),Ke(3),rt("detail",!1))},dependencies:[_i,ai,ja]});const aH=["slidingItem"];function lH(n,e){if(1&n&&(re(0,"span"),qe(1),Q()),2&n){const t=Lt();Ke(1),Ui(", OS ",t.decodeVersion(null==t.session?null:t.session.osVersion),"")}}class yp{constructor(e){this.popoverController=e,this.selected=!1,this.touched=!1,this.delete=new xn,this.resetSession=new xn,this.edit=new xn,this.save=new xn,this.selectItem=new xn,this.interaction=new xn}get device(){return this.session?Mx(this.session.device):""}onContextmenu(e){var t=this;return(0,te.Z)(function*(){e.stopPropagation(),e.preventDefault(),t.interaction.emit(),(yield t.popoverController.create({component:_p,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>t.edit.emit(),onSave:()=>t.save.emit(),onDelete:()=>t.delete.emit(),onReset:()=>t.resetSession.emit()},reference:"event"})).present()})()}decodeVersion(e){if(void 0===e)return"";const t=function sH(n){return{major:n>>>24&255,minor:n>>>20&15,fix:n>>>16&15,stage:n>>>12&15,build:4095&n}}(e);return`${t.major}.${t.minor}`}get color(){return this.selected?"primary":this.touched?"light":void 0}}function cH(n,e){1&n&&(re(0,"div",10),ct(1,"ion-spinner"),Q())}function uH(n,e){1&n&&(re(0,"div",11)(1,"div",12),qe(2," No sessions. Select the \u201e+\u201c icon in the upper right corner in order to import a ROM file or a session image. "),ct(3,"br")(4,"br"),qe(5," You can find a collection of compatible ROMs on "),re(6,"a",13),qe(7,"PalmDB"),Q(),qe(8,". "),Q()())}function dH(n,e){if(1&n){const t=Fr();re(0,"app-session-item",15),st("delete",function(){const i=sn(t).$implicit;return an(Lt(2).deleteSession(i))})("selectItem",function(){const i=sn(t).$implicit;return an(Lt(2).launchSession(i))})("edit",function(){const i=sn(t).$implicit;return an(Lt(2).editSession(i))})("save",function(){const i=sn(t).$implicit;return an(Lt(2).saveSession(i))})("resetSession",function(){const i=sn(t).$implicit;return an(Lt(2).resetSession(i))})("interaction",function(){const i=sn(t).$implicit;return an(Lt(2).lastSessionTouched=i.id)}),Q()}if(2&n){const t=e.$implicit,r=Lt(2);rt("session",t)("selected",r.currentSessionId===t.id)("touched",t.id===r.lastSessionTouched)}}function fH(n,e){if(1&n&&(re(0,"ion-list"),Yt(1,dH,1,3,"app-session-item",14),Q()),2&n){const t=Lt();Ke(1),rt("ngForOf",t.sessions)("ngForTrackBy",t.trackSessionBy)}}yp.\u0275fac=function(e){return new(e||yp)(S(Wc))},yp.\u0275cmp=nt({type:yp,selectors:[["app-session-item"]],viewQuery:function(e,t){if(1&e&&Lu(aH,5),2&e){let r;Ps(r=Rs())&&(t.slidingItem=r.first)}},inputs:{session:"session",selected:"selected",touched:"touched"},outputs:{delete:"delete",resetSession:"resetSession",edit:"edit",save:"save",selectItem:"selectItem",interaction:"interaction"},decls:19,vars:7,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","refresh-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],[4,"ngIf"]],template:function(e,t){if(1&e){const r=Fr();re(0,"ion-item-sliding",0,1),st("contextmenu",function(i){return t.onContextmenu(i)})("ionDrag",function(){return t.interaction.emit()}),re(2,"ion-item-options",2)(3,"ion-item-option",3),st("click",function(){return sn(r),Ts(1).close(),an(t.edit.emit(t.session))}),ct(4,"ion-icon",4),Q(),re(5,"ion-item-option",5),st("click",function(){return sn(r),Ts(1).close(),an(t.save.emit(t.session))}),ct(6,"ion-icon",6),Q()(),re(7,"ion-item-options",7)(8,"ion-item-option",8),st("click",function(){return sn(r),Ts(1).close(),an(t.resetSession.emit(t.session))}),ct(9,"ion-icon",9),Q(),re(10,"ion-item-option",10),st("click",function(){return sn(r),Ts(1).close(),an(t.delete.emit(t.session))}),ct(11,"ion-icon",11),Q()(),re(12,"ion-item",12),st("click",function(){return t.selectItem.emit()}),re(13,"ion-label")(14,"h2"),qe(15),Q(),re(16,"p"),qe(17),Yt(18,lH,2,1,"span",13),Q()()()()}2&e&&(Ke(12),rt("color",t.color),Ke(1),_l("in-item-color",t.selected),Ke(2),As(null==t.session?null:t.session.name),Ke(2),cf("",t.device,", ",null==t.session?null:t.session.ram,"MB RAM"),Ke(1),rt("ngIf",null==t.session?null:t.session.osVersion))},dependencies:[mi,_i,ai,jm,Gm,Hm,os],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}"],changeDetection:0});class Ka{constructor(e,t,r,o,i,s,a,u,f,g,v,I,k){this.sessionService=e,this.fileService=t,this.alertController=r,this.alertService=o,this.emulationService=i,this.emulationState=s,this.storageService=a,this.modalController=u,this.linkApi=f,this.router=g,this.cloudpilotService=v,this.dragDropService=I,this.cd=k,this.handleLinkApiImportRequest=()=>{if(!this.linkApi.import.hasPendingRequest())return;const K=this.linkApi.import.receivePendingUrl();K&&this.alertService.message("Import request",`Do you want to import<br>${K} ?`,{OK:()=>this.fileService.openUrl(K,this.processFile.bind(this))},"Cancel")},this.lastSessionTouched=-1,this.checkSessions=jb(k,[],()=>this.sessionService.getSessions())}ngDoCheck(){this.checkSessions()}ionViewDidEnter(){this.linkApi.import.requestEvent.addHandler(this.handleLinkApiImportRequest),this.handleLinkApiImportRequest(),this.dragDropService.registerClient(this)}ionViewWillLeave(){this.dragDropService.unregisterClient(this),this.linkApi.import.requestEvent.removeHandler(this.handleLinkApiImportRequest)}get sessions(){return this.sessionService.getSessions().sort((e,t)=>e.name.localeCompare(t.name))}deleteSession(e){var t=this;return(0,te.Z)(function*(){yield(yield t.alertController.create({header:"Warning",message:`Deleting the session '${e.name}' will remove all associated data. This cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:()=>t.sessionService.deleteSession(e)}],backdropDismiss:!1})).present()})()}editSession(e){var t=this;return(0,te.Z)(function*(){const r={...e};(yield t.editSettings(e))&&!Ux()(e,r)&&(yield t.sessionService.updateSession(e))})()}importSession(){this.fileService.openFile(this.processFile.bind(this))}saveSession(e){return this.fileService.saveSession(e)}trackSessionBy(e,t){return t.id}launchSession(e){var t=this;return(0,te.Z)(function*(){t.lastSessionTouched=e.id,t.currentSessionOverride=e.id,t.cd.markForCheck();const r=yield t.emulationService.switchSession(e.id);t.currentSessionOverride=void 0,t.cd.markForCheck(),r&&t.router.navigateByUrl("/tab/emulation")})()}resetSession(e){var t=this;return(0,te.Z)(function*(){const r=e.id===t.emulationState.getCurrentSession()?.id;r&&(yield t.emulationService.stop()),yield t.storageService.deleteStateForSession(e),yield t.storageService.updateSessionPartial(e.id,{wasResetForcefully:!0}),r&&(yield t.emulationService.switchSession(e.id)),yield(yield t.alertController.create({header:"Done",message:`Session ${e.name} has been reset.`,buttons:[{text:"Close",role:"cancel"}],backdropDismiss:!1})).present()})()}get currentSessionId(){return this.currentSessionOverride??this.emulationState.getCurrentSession()?.id}showHelp(){var e=this;return(0,te.Z)(function*(){yield(yield e.modalController.create({component:ma,componentProps:{url:"assets/doc/sessions.md"}})).present()})()}handleDragDropEvent(e){this.fileService.openFromDrop(e,this.handleDropFiles.bind(this))}handleDropFiles(e){if(0!==e.length){if(e.length>1)return void this.alertService.errorMessage("Drop a single ROM or session image in order to create a new session.");this.processFile(e[0])}}processFile(e){var t=this;return(0,te.Z)(function*(){if(!/\.(img|rom|bin)$/i.test(e.name))return void t.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .img and .rom.");let r;try{r=yield e.getContent()}catch(i){return console.warn(i),void(yield t.alertService.errorMessage(`Unable to open ${e.name}.`))}const o=(yield t.cloudpilotService.cloudpilot).deserializeSessionImage(r);if(o){const i={name:t.disambiguateSessionName(o.metadata?.name??e.name),hotsyncName:o.metadata?.hotsyncName,device:o.deviceId,dontManageHotsyncName:o.metadata?.dontManageHotsyncName,speed:o.metadata?.speed,deviceOrientation:o.metadata?.deviceOrientation};if(yield t.editSettings(i)){const s=yield t.sessionService.addSessionFromImage(o,i.name,i);t.lastSessionTouched=s.id}}else{const i=(yield t.cloudpilotService.cloudpilot).getRomInfo(r);if(!i)return void t.alertService.errorMessage("Not a valid session file or ROM image.");if(0===i.supportedDevices.length)return void t.alertService.errorMessage("No supported device for this ROM.");const s={name:t.disambiguateSessionName(e.name),hotsyncName:"",device:i.supportedDevices[0]};if(yield t.editSettings(s,i.supportedDevices)){const a=yield t.sessionService.addSessionFromRom(r,s.name,s.device,s);t.lastSessionTouched=a.id}}})()}editSettings(e,t=[e.device]){return new Promise(r=>{let o;this.modalController.create({component:yd,backdropDismiss:!1,componentProps:{session:e,availableDevices:t,onSave:()=>{o.dismiss(),r(!0)},onCancel:()=>{o.dismiss(),r(!1)}}}).then(i=>{o=i,o.present()})})}disambiguateSessionName(e){const t=this.sessionService.getSessions();return Qx(e,r=>t.some(o=>o.name===r))}}function pH(n,e){1&n&&(re(0,"ion-item",8)(1,"ion-label"),qe(2,"Clipboard integration"),Q(),ct(3,"ion-toggle",17),Q())}function hH(n,e){if(1&n){const t=Fr();re(0,"ion-item",8)(1,"ion-label",18),qe(2,"Proxy server"),Q(),re(3,"div",19),ct(4,"ion-input",20),re(5,"ion-button",21),st("click",function(o){sn(t);const i=Lt();return o.preventDefault(),o.stopPropagation(),an(i.testProxyConnection())})("touchstart",function(o){sn(t);const i=Lt();return o.preventDefault(),o.stopPropagation(),an(i.testProxyConnection())}),qe(6," Test "),Q()()()}if(2&n){const t=Lt();Ke(5),rt("disabled",!t.proxyServerValid)}}Ka.\u0275fac=function(e){return new(e||Ka)(S(qa),S(Ls),S(zc),S(ro),S(as),S(vs),S(er),S(ys),S(Kl),S(Qo),S(Hi),S(_c),S(Mt))},Ka.\u0275cmp=nt({type:Ka,selectors:[["app-sessions"]],decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],["href","https://palmdb.net/app/palm-roms-complete","target","_blank","rel","external"],[3,"session","selected","touched","delete","selectItem","edit","save","resetSession","interaction",4,"ngFor","ngForOf","ngForTrackBy"],[3,"session","selected","touched","delete","selectItem","edit","save","resetSession","interaction"]],template:function(e,t){1&e&&(re(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),qe(3,"Sessions"),Q(),re(4,"ion-buttons",0)(5,"ion-button",1),st("click",function(){return t.importSession()}),ct(6,"ion-icon",2),Q()(),re(7,"ion-buttons",3)(8,"ion-button",1),st("click",function(){return t.showHelp()}),ct(9,"ion-icon",4),Q(),ct(10,"app-pwa-prompt"),Q()()(),re(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),qe(15,"Sessions"),Q()()(),Yt(16,cH,2,0,"div",7),Yt(17,uH,9,0,"div",8),Yt(18,fH,2,2,"ion-list",9),Q()),2&e&&(Ke(16),rt("ngIf",t.sessionService.isLoading()),Ke(1),rt("ngIf",!t.sessionService.isLoading()&&0===t.sessions.length),Ke(1),rt("ngIf",!t.sessionService.isLoading()&&t.sessions.length>0))},dependencies:[Oc,mi,es,ts,ns,rs,_i,ja,ep,is,ss,mc,yp],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"]}),U([go()],Ka.prototype,"deleteSession",null),U([go()],Ka.prototype,"editSession",null),U([go()],Ka.prototype,"saveSession",null),U([go()],Ka.prototype,"launchSession",null),U([go()],Ka.prototype,"resetSession",null);class vp{constructor(e,t,r,o,i){this.modalController=e,this.kvsService=t,this.clipboardService=r,this.alertService=o,this.proxyService=i,this.onAudioOnStartChange=s=>{this.kvsService.kvs.enableAudioOnFirstInteraction=s,s&&this.alertService.message("Enable audio on start","\n            Audio will automatically turn on after the first interaction with the application\n            (i.e. touch, click or keyboard event). This option will only take effect the next time\n            Coudpilot is restarts.\n        ")},this.connectionTestInProgress=!1}ngOnInit(){this.createFormGroup()}showHelp(){var e=this;return(0,te.Z)(function*(){yield(yield e.modalController.create({component:ma,componentProps:{url:"assets/doc/settings.md"}})).present()})()}ionViewWillEnter(){this.mutexReleasePromise=this.kvsService.mutex.acquire()}ionViewWillLeave(){var e=this;return(0,te.Z)(function*(){e.formGroup.get("networkRedirection")?.value&&!e.formGroup.get("proxyServer")?.valid&&(e.alertService.message("Invalid proxy server","The proxy server you specified is invalid. Network redirection will be disabled."),e.formGroup.get("networkRedirection").setValue(!1)),e.formGroup.get("networkRedirection")?.value||e.formGroup.get("proxyServer")?.setValue(e.kvsService.kvs.proxyServer),yield e.kvsService.set({volume:e.formGroup.get("volume").value,showStatistics:e.formGroup.get("showStatistics").value,clipboardIntegration:e.formGroup.get("clipboardIntegration")?.value,networkRedirection:e.formGroup.get("networkRedirection")?.value,proxyServer:e.formGroup.get("proxyServer")?.value,runHidden:e.formGroup.get("runHidden")?.value,autoLockUI:e.formGroup.get("autoLockUI")?.value,enableRemoteInstall:e.formGroup.get("enableRemoteInstall")?.value,enableAudioOnFirstInteraction:e.formGroup.get("audioOnStart")?.value}),e.mutexReleasePromise&&(yield e.mutexReleasePromise)()})()}testProxyConnection(){var e=this;return(0,te.Z)(function*(){if(!e.connectionTestInProgress){e.connectionTestInProgress=!0;try{switch((yield e.proxyService.handshake(e.formGroup.get("proxyServer")?.value,0)).status){case"failed":e.alertService.errorMessage("Unable to connect to proxy");break;case"version_mismatch":e.alertService.proxyVersionMismatchError();break;default:e.alertService.message("Success","Connection to proxy successful.")}}finally{e.connectionTestInProgress=!1}}})()}get showProxyServer(){return this.formGroup.get("networkRedirection")?.value}get proxyServerValid(){const e=this.formGroup.get("proxyServer");return!(!e?.value||!e?.valid)}createFormGroup(){this.formGroup=new dm({volume:new gi(this.kvsService.kvs.volume),showStatistics:new gi(this.kvsService.kvs.showStatistics),runHidden:new gi(this.kvsService.kvs.runHidden),clipboardIntegration:new gi(this.kvsService.kvs.clipboardIntegration),networkRedirection:new gi(this.kvsService.kvs.networkRedirection),proxyServer:new gi(this.kvsService.kvs.proxyServer,{validators:[BG]}),autoLockUI:new gi(this.kvsService.kvs.autoLockUI),enableRemoteInstall:new gi(this.kvsService.kvs.enableRemoteInstall),audioOnStart:new gi(this.kvsService.kvs.enableAudioOnFirstInteraction)}),this.formGroup.get("audioOnStart")?.valueChanges.subscribe(this.onAudioOnStartChange)}}vp.\u0275fac=function(e){return new(e||vp)(S(ys),S(li),S(Kc),S(ro),S(pc))},vp.\u0275cmp=nt({type:vp,selectors:[["app-settings"]],decls:51,vars:4,consts:[[3,"translucent"],["slot","secondary"],[3,"click"],["name","help-outline"],["collapse","condense"],["size","large"],[1,"settings-container"],[1,"settings-form",3,"formGroup"],["lines","none"],["min","0","max","1","step","0.1","formControlName","volume"],["formControlName","audioOnStart"],["formControlName","runHidden"],["lines","none",4,"ngIf"],["formControlName","networkRedirection"],["formControlName","autoLockUI"],["formControlName","showStatistics"],["formControlName","enableRemoteInstall"],["formControlName","clipboardIntegration"],["position","stacked"],[1,"server-container"],["placeholder","Proxy server host or URL","formControlName","proxyServer"],[3,"disabled","click","touchstart"]],template:function(e,t){1&e&&(re(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"Settings"),Q(),re(4,"ion-buttons",1)(5,"ion-button",2),st("click",function(){return t.showHelp()}),ct(6,"ion-icon",3),Q(),ct(7,"app-pwa-prompt"),Q()()(),re(8,"ion-content")(9,"ion-header",4)(10,"ion-toolbar")(11,"ion-title",5),qe(12,"Settings"),Q()()(),re(13,"div",6)(14,"form",7)(15,"h1"),qe(16,"Emulation"),Q(),re(17,"ion-item",8)(18,"ion-label"),qe(19,"Volume"),Q(),ct(20,"ion-range",9),Q(),re(21,"ion-item",8)(22,"ion-label"),qe(23,"Enable audio on start"),Q(),ct(24,"ion-toggle",10),Q(),re(25,"ion-item",8)(26,"ion-label"),qe(27,"Run when hidden"),Q(),ct(28,"ion-toggle",11),Q(),re(29,"h1"),qe(30,"Host integration"),Q(),Yt(31,pH,4,0,"ion-item",12),re(32,"ion-item",8)(33,"ion-label"),qe(34,"Network redirection"),Q(),ct(35,"ion-toggle",13),Q(),Yt(36,hH,7,1,"ion-item",12),re(37,"h1"),qe(38,"UI"),Q(),re(39,"ion-item",8)(40,"ion-label"),qe(41,"Auto-lock UI"),Q(),ct(42,"ion-toggle",14),Q(),re(43,"ion-item",8)(44,"ion-label"),qe(45,"Show statistics"),Q(),ct(46,"ion-toggle",15),Q(),re(47,"ion-item",8)(48,"ion-label"),qe(49,"Open from remote sources"),Q(),ct(50,"ion-toggle",16),Q()()()()),2&e&&(rt("translucent",!0),Ke(14),rt("formGroup",t.formGroup),Ke(17),rt("ngIf",t.clipboardService.isSupported()),Ke(5),rt("ngIf",t.showProxyServer))},dependencies:[mi,Il,El,Dl,es,ts,ns,rs,_i,Pl,ai,os,sb,is,tp,ss,id,Jf,Al,mc,fa,Ba],styles:[".server-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.server-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex-grow:1}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.settings-form[_ngcontent-%COMP%]{max-width:40em;flex-basis:100%}ion-item[_ngcontent-%COMP%]{--background: none}"]});class ru{transform(e){return void 0!==e?`${Math.round(e/1024/1024)} MB`:""}}function mH(n,e){1&n&&(re(0,"div",14)(1,"b"),qe(2,"WARNING:"),Q(),qe(3," This image cannot be used as a memory stick image."),Q())}ru.\u0275fac=function(e){return new(e||ru)},ru.\u0275pipe=vo({name:"cardSize",type:ru,pure:!0});class wd{constructor(e){this.storageCardService=e,this.validateNameUnique=t=>this.storageCardService.getAllCards().some(r=>r.name===t.value&&r.name!==this.card?.name)?{name:"already taken"}:null,this.formGroup=new tc({name:new _s("",{nonNullable:!0,validators:[Mf.required,this.validateNameUnique]}),size:new _s({value:"dummy",disabled:!0}),checkAutomatically:new _s(!0,{nonNullable:!0})}),this.newCard=!1,this.cardSupportLevel=2,this.onCancel=()=>{},this.onSave=()=>{}}ngOnInit(){this.card&&(this.formGroup.controls.name.setValue(this.card.name),this.formGroup.controls.checkAutomatically.setValue(!this.card.dontFsckAutomatically))}save(){!this.formGroup.valid||!this.formGroup.value.name||!this.card||this.onSave({name:this.formGroup.value.name,dontFsckAutomatically:!this.formGroup.value.checkAutomatically})}onEnter(){this.save()}get memoryStickSupported(){return 2===this.cardSupportLevel}}function gH(n,e){if(1&n&&(re(0,"ion-select-option",13),qe(1),Fa(2,"cardSize"),Q()),2&n){const t=e.$implicit,r=Lt();rt("value",t),Ke(1),Ui("",Oa(2,2,r.sizeBytes(t))," ")}}wd.\u0275fac=function(e){return new(e||wd)(S(ga))},wd.\u0275cmp=nt({type:wd,selectors:[["app-edit-card-dialog"]],inputs:{card:"card",newCard:"newCard",cardSupportLevel:"cardSupportLevel",onCancel:"onCancel",onSave:"onSave"},decls:28,vars:7,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],["value","dummy"],["formControlName","checkAutomatically"],["class","sd-only-warning",4,"ngIf"],[1,"sd-only-warning"]],template:function(e,t){1&e&&(re(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3),Q(),re(4,"ion-buttons",1)(5,"ion-button",2),st("click",function(){return t.save()}),qe(6,"Save"),Q()(),re(7,"ion-buttons",3)(8,"ion-button",4),st("click",function(){return t.onCancel()}),qe(9,"Cancel"),Q()()()(),re(10,"ion-content",5)(11,"form",6),st("keydown.enter",function(){return t.onEnter()}),re(12,"ion-item",7)(13,"ion-label",8),qe(14,"Card name"),Q(),ct(15,"ion-input",9),Q(),re(16,"ion-item",7)(17,"ion-label",8),qe(18,"Card size"),Q(),re(19,"ion-select",10)(20,"ion-select-option",11),qe(21),Fa(22,"cardSize"),Q()()(),re(23,"ion-item",7)(24,"ion-label"),qe(25,"Check for errors automatically"),Q(),ct(26,"ion-toggle",12),Q()(),Yt(27,mH,4,0,"div",13),Q()),2&e&&(Ke(3),As(t.newCard?"New memory card":"Edit memory card"),Ke(2),rt("disabled",t.formGroup.invalid),Ke(6),rt("formGroup",t.formGroup),Ke(10),Ui("",Oa(22,5,null==t.card?null:t.card.size)," "),Ke(6),rt("ngIf",!t.memoryStickSupported))},dependencies:[mi,es,ts,ns,rs,Pl,ai,os,zm,Wm,is,tp,ss,id,Jf,Al,Il,El,Dl,fa,Ba,ru],styles:[".sd-only-warning[_ngcontent-%COMP%]{padding:2em 1em}"]});const _H=[Ao.mb4,Ao.mb8,Ao.mb16,Ao.mb32,Ao.mb64,Ao.mb128];class bp{constructor(e){this.storageCardService=e,this.validateNameUnique=t=>this.storageCardService.getAllCards().some(r=>r.name===t.value)?{name:"already taken"}:null,this.onCreate=()=>{},this.onCancel=()=>{},this.formGroup=new tc({name:new _s("",{nonNullable:!0,validators:[Mf.required,this.validateNameUnique]}),size:new _s(Ao.mb32,{nonNullable:!0}),checkAutomatically:new _s(!0,{nonNullable:!0})})}get sizes(){return _H}sizeBytes(e){return function e6(n){switch(n){case Ao.mb4:return 4046848;case Ao.mb8:return 8110080;case Ao.mb16:return 16220160;case Ao.mb32:return 32473088;case Ao.mb64:return 64978944;case Ao.mb128:return 129990656;default:throw new Error(`bad card size ${n}`)}}(e)}create(){!this.formGroup.valid||void 0===this.formGroup.value.name||void 0===this.formGroup.value.size||this.onCreate(this.formGroup.value.name,this.formGroup.value.size,!this.formGroup.value.checkAutomatically)}onEnter(){this.create()}}bp.\u0275fac=function(e){return new(e||bp)(S(ga))},bp.\u0275cmp=nt({type:bp,selectors:[["app-new-card-dialog"]],inputs:{onCreate:"onCreate",onCancel:"onCancel"},decls:25,vars:3,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],[3,"value",4,"ngFor","ngForOf"],["formControlName","checkAutomatically"],[3,"value"]],template:function(e,t){1&e&&(re(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"New memory card"),Q(),re(4,"ion-buttons",1)(5,"ion-button",2),st("click",function(){return t.create()}),qe(6,"Create"),Q()(),re(7,"ion-buttons",3)(8,"ion-button",4),st("click",function(){return t.onCancel()}),qe(9,"Cancel"),Q()()()(),re(10,"ion-content",5)(11,"form",6),st("keydown.enter",function(){return t.onEnter()}),re(12,"ion-item",7)(13,"ion-label",8),qe(14,"Card name"),Q(),ct(15,"ion-input",9),Q(),re(16,"ion-item",7)(17,"ion-label",8),qe(18,"Card size"),Q(),re(19,"ion-select",10),Yt(20,gH,3,4,"ion-select-option",11),Q()(),re(21,"ion-item",7)(22,"ion-label"),qe(23,"Check for errors automatically"),Q(),ct(24,"ion-toggle",12),Q()()()),2&e&&(Ke(5),rt("disabled",t.formGroup.invalid),Ke(6),rt("formGroup",t.formGroup),Ke(9),rt("ngForOf",t.sizes))},dependencies:[Oc,es,ts,ns,rs,Pl,ai,os,zm,Wm,is,tp,ss,id,Jf,Al,Il,El,Dl,fa,Ba,ru]});class Cp{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCheck=()=>{},this.onDelete=()=>{}}}Cp.\u0275fac=function(e){return new(e||Cp)},Cp.\u0275cmp=nt({type:Cp,selectors:[["app-storage-context-menu-card"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCheck:"onCheck",onDelete:"onDelete"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","medkit-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,t){1&e&&(re(0,"ion-list")(1,"ion-item",0),st("click",function(){return t.onEdit()}),ct(2,"ion-icon",1),qe(3," Edit "),Q(),re(4,"ion-item",0),st("click",function(){return t.onSave()}),ct(5,"ion-icon",2),qe(6," Save "),Q(),re(7,"ion-item",0),st("click",function(){return t.onCheck()}),ct(8,"ion-icon",3),qe(9," Check "),Q(),re(10,"ion-item",4),st("click",function(){return t.onDelete()}),ct(11,"ion-icon",5),qe(12," Delete "),Q()()),2&e&&(Ke(1),rt("detail",!1),Ke(3),rt("detail",!1),Ke(3),rt("detail",!1),Ke(3),rt("detail",!1))},dependencies:[_i,ai,ja]});class wp{constructor(e,t){this.storageCardService=e,this.popoverController=t,this.touched=!1,this.interaction=new xn,this.selectCard=new xn,this.edit=new xn,this.check=new xn,this.delete=new xn,this.save=new xn}onContextmenu(e){var t=this;return(0,te.Z)(function*(){e.stopPropagation(),e.preventDefault(),t.interaction.emit(),(yield t.popoverController.create({component:Cp,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>t.edit.emit(t.card),onSave:()=>t.save.emit(t.card),onCheck:()=>t.check.emit(),onDelete:()=>t.delete.emit()},reference:"event"})).present()})()}get color(){if(this.touched)return"light"}get status(){if(!this.card)return"";const e=this.storageCardService.mountedInSession(this.card?.id);if(e)return`attached to '${e.name}'`;if(this.card.dontFsckAutomatically)return"not checked automatically";switch(this.card.status){case Tr.dirty:return"needs check";case Tr.clean:return"no errors";case Tr.unformatted:return"no filesystem";case Tr.unfixable:return"uncorrectable errors";default:throw new Error("unreachable")}}}function yH(n,e){1&n&&(re(0,"div",10),ct(1,"ion-spinner"),Q())}function vH(n,e){1&n&&(re(0,"div",11)(1,"div",12),qe(2," No memory cards. Select the \u201e+\u201c icon in the upper right corner in order to create a new card. "),Q()())}function bH(n,e){if(1&n){const t=Fr();re(0,"app-storage-card",14),st("delete",function(){const i=sn(t).$implicit;return an(Lt(2).deleteCard(i))})("selectCard",function(){const i=sn(t).$implicit;return an(Lt(2).selectCard(i))})("edit",function(){const i=sn(t).$implicit;return an(Lt(2).editCard(i))})("check",function(){const i=sn(t).$implicit;return an(Lt(2).checkCard(i))})("interaction",function(){const i=sn(t).$implicit;return an(Lt(2).lastCardTouched=i.id)})("save",function(){const i=sn(t).$implicit;return an(Lt(2).saveCard(i))}),Q()}if(2&n){const t=e.$implicit,r=Lt(2);rt("card",t)("touched",t.id===r.lastCardTouched)}}function CH(n,e){if(1&n&&(re(0,"ion-list"),Yt(1,bH,1,2,"app-storage-card",13),Q()),2&n){const t=Lt();Ke(1),rt("ngForOf",t.cards)("ngForTrackBy",t.trackCardBy)}}wp.\u0275fac=function(e){return new(e||wp)(S(ga),S(Wc))},wp.\u0275cmp=nt({type:wp,selectors:[["app-storage-card"]],inputs:{card:"card",touched:"touched"},outputs:{interaction:"interaction",selectCard:"selectCard",edit:"edit",check:"check",delete:"delete",save:"save"},decls:19,vars:6,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","medkit-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"]],template:function(e,t){if(1&e){const r=Fr();re(0,"ion-item-sliding",0,1),st("contextmenu",function(i){return t.onContextmenu(i)})("ionDrag",function(){return t.interaction.emit(t.card)}),re(2,"ion-item-options",2)(3,"ion-item-option",3),st("click",function(){return sn(r),Ts(1).close(),an(t.edit.emit(t.card))}),ct(4,"ion-icon",4),Q(),re(5,"ion-item-option",5),st("click",function(){return sn(r),Ts(1).close(),an(t.save.emit(t.card))}),ct(6,"ion-icon",6),Q()(),re(7,"ion-item-options",7)(8,"ion-item-option",8),st("click",function(){return sn(r),Ts(1).close(),an(t.check.emit(t.card))}),ct(9,"ion-icon",9),Q(),re(10,"ion-item-option",10),st("click",function(){return sn(r),Ts(1).close(),an(t.delete.emit(t.card))}),ct(11,"ion-icon",11),Q()(),re(12,"ion-item",12),st("click",function(){return t.selectCard.emit(),t.interaction.emit()}),re(13,"ion-label")(14,"h2"),qe(15),Q(),re(16,"p"),qe(17),Fa(18,"cardSize"),Q()()()()}2&e&&(Ke(12),rt("color",t.color),Ke(3),As(null==t.card?null:t.card.name),Ke(2),cf("",Oa(18,4,null==t.card?null:t.card.size),", ",t.status,""))},dependencies:[_i,ai,jm,Gm,Hm,os,ru],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}"],changeDetection:0});class _a{constructor(e,t,r,o,i,s,a,u,f,g){var v=this;this.actionSheetController=e,this.storageCardService=t,this.modalController=r,this.alertController=o,this.cloudpilotService=i,this.alertService=s,this.errorService=a,this.fileService=u,this.loadingController=f,this.handleCardImport=function(){var I=(0,te.Z)(function*(k){const K=yield v.cloudpilotService.cloudpilot;let ye;try{ye=yield k.getContent()}catch(vt){return console.warn(vt),void(yield v.alertService.errorMessage(`Unable to open ${k.name}".`))}if(/\.gz$/.test(k.name)){const vt=yield v.loadingController.create({message:"Unpacking..."});yield vt.present();try{ye=yield function qG(n){return Rb.apply(this,arguments)}(ye)}finally{yield vt.dismiss()}}const Ge=ye?K.getCardSupportLevel(ye.length):0;if(void 0===ye||0===Ge)return void v.alertService.errorMessage("This is not a supported card image.");const Ye=yield new Promise(function(){var vt=(0,te.Z)(function*(Ne){const Ot=yield v.modalController.create({component:wd,backdropDismiss:!1,componentProps:{card:{name:v.disambiguateName(k.name.replace(/\.gz$/,"")),size:ye.length},cardSupportLevel:Ge,newCard:!0,onCancel:()=>{Ot.dismiss(),Ne(void 0)},onSave:Cn=>{Ne(Cn),Ot.dismiss()}}});yield Ot.present()});return function(Ne){return vt.apply(this,arguments)}}());Ye&&(yield v.storageCardService.createCardFromImage(Ye.name,ye,!!Ye.dontFsckAutomatically))});return function(k){return I.apply(this,arguments)}}(),this.lastCardTouched=void 0,this.onMountForBrowse=()=>{},this.checkCards=jb(g,[],()=>this.storageCardService.getAllCards())}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkCards()}get cards(){return this.storageCardService.getAllCards()}handleDragDropEvent(e){this.fileService.openFromDrop(e,this.handleFilesFromDrop.bind(this))}addCardImage(){var e=this;return(0,te.Z)(function*(){(yield e.actionSheetController.create({header:"What type of image do you want to create?",buttons:[{text:"Empty image",handler:()=>e.createNewCardImage()},{text:"Import an existing image",handler:()=>e.importCardImage()},{text:"Cancel"}]})).present()})()}showHelp(){var e=this;return(0,te.Z)(function*(){yield(yield e.modalController.create({component:ma,componentProps:{url:"assets/doc/cards.md"}})).present()})()}selectCard(e){var t=this;return(0,te.Z)(function*(){(yield t.storageCardService.browseCard(e))&&t.onMountForBrowse(e)})()}editCard(e){var t=this;return(0,te.Z)(function*(){const r=yield t.cloudpilotService.cloudpilot,o=yield t.modalController.create({component:wd,backdropDismiss:!1,componentProps:{card:e,cardSupportLevel:r.getCardSupportLevel(e.size),onCancel:()=>o.dismiss(),onSave:(i=(0,te.Z)(function*(s){yield t.storageCardService.updateCard(e.id,s),yield o.dismiss()}),function(a){return i.apply(this,arguments)})}});var i;yield o.present()})()}saveCard(e){var t=this;return(0,te.Z)(function*(){const r=`${og(e.name.replace(/\.img$/,""))}.img`;yield(yield t.actionSheetController.create({header:"How do you want to save the image?",buttons:[{text:"Save gzip compressed image",handler:()=>t.storageCardService.saveCard(e.id,r,!0)},{text:"Save uncompressed image",handler:()=>t.storageCardService.saveCard(e.id,r,!1)},{text:"Cancel"}]})).present()})()}checkCard(e){return this.storageCardService.checkCard(e)}deleteCard(e){var t=this;return(0,te.Z)(function*(){var o;yield(yield t.alertController.create({header:"Warning",backdropDismiss:!1,message:`Deleting the card '${e.name}' cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:(o=(0,te.Z)(function*(){try{yield t.storageCardService.deleteCard(e.id)}catch(i){t.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}}),function(){return o.apply(this,arguments)})}]})).present()})()}trackCardBy(e,t){return t.id}handleFilesFromDrop(e){if(0!==e.length){if(e.length>1)return void this.alertService.errorMessage("Drop a single file system image in order to import it as a new memory card.");this.handleCardImport(e[0])}}importCardImage(){this.fileService.openFile(this.handleCardImport)}createNewCardImage(){var e=this;return(0,te.Z)(function*(){const t=yield e.modalController.create({component:bp,backdropDismiss:!1,componentProps:{onCancel:()=>t.dismiss(),onCreate:(r=(0,te.Z)(function*(o,i,s){yield e.storageCardService.createEmptyCard(o,i,s),yield t.dismiss()}),function(i,s,a){return r.apply(this,arguments)})}});var r;yield t.present()})()}disambiguateName(e){const t=this.storageCardService.getAllCards();return Qx(e,r=>t.some(o=>o.name===r))}}function wH(n,e){1&n&&ct(0,"ion-icon",8)}function SH(n,e){1&n&&ct(0,"ion-icon",9)}function EH(n,e){1&n&&ct(0,"ion-icon",10)}function DH(n,e){if(1&n){const t=Fr();re(0,"ion-item",2),st("click",function(){const i=sn(t).index;return an(Lt(2).onSelect(i))}),nf(1,3),Yt(2,wH,1,0,"ion-icon",4),Yt(3,SH,1,0,"ion-icon",5),Yt(4,EH,1,0,"ion-icon",6),rf(),re(5,"div",7),qe(6),Q()()}if(2&n){const t=e.$implicit,r=e.index,o=Lt(2);rt("detail",!1)("lines",r===o.entries.length-1?"none":"full"),Ke(1),rt("ngSwitch",o.entries.length),Ke(1),rt("ngSwitchCase",r+1),Ke(1),rt("ngSwitchCase",r+2),Ke(3),As(t)}}function IH(n,e){if(1&n&&(re(0,"ion-list"),Yt(1,DH,7,6,"ion-item",1),Q()),2&n){const t=Lt();Ke(1),rt("ngForOf",t.entries)}}_a.\u0275fac=function(e){return new(e||_a)(S(ip),S(ga),S(ys),S(zc),S(Hi),S(ro),S(Ks),S(Ls),S(Rl),S(Mt))},_a.\u0275cmp=nt({type:_a,selectors:[["app-subpage-cards"]],inputs:{onMountForBrowse:"onMountForBrowse",selfReference:"selfReference"},decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],[3,"card","touched","delete","selectCard","edit","check","interaction","save",4,"ngFor","ngForOf","ngForTrackBy"],[3,"card","touched","delete","selectCard","edit","check","interaction","save"]],template:function(e,t){1&e&&(re(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),qe(3,"Memory cards"),Q(),re(4,"ion-buttons",0)(5,"ion-button",1),st("click",function(){return t.addCardImage()}),ct(6,"ion-icon",2),Q()(),re(7,"ion-buttons",3)(8,"ion-button",1),st("click",function(){return t.showHelp()}),ct(9,"ion-icon",4),Q(),ct(10,"app-pwa-prompt"),Q()()(),re(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),qe(15,"Memory cards"),Q()()(),Yt(16,yH,2,0,"div",7),Yt(17,vH,3,0,"div",8),Yt(18,CH,2,2,"ion-list",9),Q()),2&e&&(Ke(16),rt("ngIf",t.storageCardService.isLoading()),Ke(1),rt("ngIf",!t.storageCardService.isLoading()&&0===t.cards.length),Ke(1),rt("ngIf",!t.storageCardService.isLoading()&&t.cards.length>0))},dependencies:[Oc,mi,es,ts,ns,rs,_i,ja,ep,is,ss,mc,wp],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}),U([go()],_a.prototype,"addCardImage",null),U([go()],_a.prototype,"selectCard",null),U([go()],_a.prototype,"editCard",null),U([go()],_a.prototype,"saveCard",null),U([go()],_a.prototype,"checkCard",null),U([go()],_a.prototype,"deleteCard",null);class Sp{constructor(){this.onSelect=()=>{}}}Sp.\u0275fac=function(e){return new(e||Sp)},Sp.\u0275cmp=nt({type:Sp,selectors:[["app-context-menu-breadcrumb"]],inputs:{entries:"entries"},decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"detail","lines","click"],[3,"ngSwitch"],["name","list-outline","slot","end",4,"ngSwitchCase"],["name","file-tray-outline","slot","end",4,"ngSwitchCase"],["name","folder-outline","slot","end",4,"ngSwitchDefault"],[1,"text-wrapper"],["name","list-outline","slot","end"],["name","file-tray-outline","slot","end"],["name","folder-outline","slot","end"]],template:function(e,t){1&e&&Yt(0,IH,2,1,"ion-list",0),2&e&&rt("ngIf",t.entries)},dependencies:[Oc,mi,Kh,uD,dD,_i,ai,ja],styles:[".text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]});class Ep{constructor(e){this.vfsService=e,this.onStartSelection=()=>{},this.onAddFiles=()=>{},this.onCreateDirectry=()=>{},this.onExtractZipfile=()=>{},this.onPaste=()=>{},this.onHelp=()=>{},this.emptyDirectory=!1}}Ep.\u0275fac=function(e){return new(e||Ep)(S(Qs))},Ep.\u0275cmp=nt({type:Ep,selectors:[["app-context-menu-directory"]],inputs:{onStartSelection:"onStartSelection",onAddFiles:"onAddFiles",onCreateDirectry:"onCreateDirectry",onExtractZipfile:"onExtractZipfile",onPaste:"onPaste",onHelp:"onHelp",emptyDirectory:"emptyDirectory"},decls:19,vars:8,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","checkmark-circle-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","document-outline","slot","end"],["name","folder-outline","slot","end"],["name","download-outline","slot","end"],["name","clipboard-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(e,t){1&e&&(re(0,"ion-list")(1,"ion-item",0),st("click",function(){return t.onStartSelection()}),ct(2,"ion-icon",1),qe(3," Start selection "),Q(),re(4,"ion-item",2),st("click",function(){return t.onAddFiles()}),ct(5,"ion-icon",3),qe(6," Add files "),Q(),re(7,"ion-item",2),st("click",function(){return t.onCreateDirectry()}),ct(8,"ion-icon",4),qe(9," Add directory "),Q(),re(10,"ion-item",2),st("click",function(){return t.onExtractZipfile()}),ct(11,"ion-icon",5),qe(12," Extract zip "),Q(),re(13,"ion-item",0),st("click",function(){return t.onPaste()}),ct(14,"ion-icon",6),qe(15," Paste "),Q(),re(16,"ion-item",7),st("click",function(){return t.onHelp()}),ct(17,"ion-icon",8),qe(18," Help "),Q()()),2&e&&(Ke(1),rt("detail",!1)("disabled",t.emptyDirectory),Ke(3),rt("detail",!1),Ke(3),rt("detail",!1),Ke(3),rt("detail",!1),Ke(3),rt("detail",!1)("disabled",!t.vfsService.isClipboardPopulated()),Ke(3),rt("detail",!1))},dependencies:[_i,ai,ja]});class ou{constructor(e,t){this.modalController=e,this.vfsService=t,this.validateNameUnique=r=>this.entry&&this.vfsService.readdir(this.vfsService.dirname(this.entry.path)).some(o=>o.name.toLocaleLowerCase()===r.value.toLocaleLowerCase()&&o.name.toLocaleLowerCase()!==this.entry?.name?.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=r=>this.vfsService.isFilenameValid(r.value)?null:{name:"invalid file name"},this.onSave=()=>{},this.formGroup=new tc({name:new _s("",{nonNullable:!0,validators:[Mf.required,this.validateNameUnique,this.validateNameValid]}),attrReadonly:new _s(!1,{nonNullable:!0}),attrHidden:new _s(!1,{nonNullable:!0}),attrSystem:new _s(!1,{nonNullable:!0})})}ngOnInit(){this.entry&&(this.formGroup.controls.name.setValue(this.entry.name),this.formGroup.controls.attrHidden.setValue(this.entry.attributes.hidden),this.formGroup.controls.attrReadonly.setValue(this.entry.attributes.readonly),this.formGroup.controls.attrSystem.setValue(this.entry.attributes.system))}get subjectName(){return this.entry?.isDirectory?"Directory":"File"}onSaveClick(){var e=this;return(0,te.Z)(function*(){yield e.save()})()}onCancelClick(){this.modalController.dismiss()}onEnter(){var e=this;return(0,te.Z)(function*(){yield e.save()})()}save(){var e=this;return(0,te.Z)(function*(){e.entry&&e.formGroup.valid&&(yield e.vfsService.updateFileEntry(e.entry.path,{name:e.formGroup.controls.name.value??"",attributes:{hidden:!!e.formGroup.controls.attrHidden.value,readonly:!!e.formGroup.controls.attrReadonly.value,system:!!e.formGroup.controls.attrSystem.value}}),e.onSave(),e.modalController.dismiss())})()}}ou.\u0275fac=function(e){return new(e||ou)(S(ys),S(Qs))},ou.\u0275cmp=nt({type:ou,selectors:[["app-edit-file-dialog"]],inputs:{entry:"entry"},decls:34,vars:5,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["formControlName","name",3,"placeholder"],["name","lock-closed-outline","size","small"],["formControlName","attrReadonly"],["name","eye-off-outline","size","small"],["formControlName","attrHidden"],["name","cog-outline","size","small"],["formControlName","attrSystem"]],template:function(e,t){1&e&&(re(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3),Q(),re(4,"ion-buttons",1)(5,"ion-button",2),st("click",function(){return t.onSaveClick()}),qe(6,"Save"),Q()(),re(7,"ion-buttons",3)(8,"ion-button",4),st("click",function(){return t.onCancelClick()}),qe(9,"Cancel"),Q()()()(),re(10,"ion-content",5)(11,"form",6),st("keydown.enter",function(){return t.onEnter()}),re(12,"ion-item",7)(13,"ion-label",8),qe(14),Q(),ct(15,"ion-input",9),Q(),re(16,"ion-item",7)(17,"h2"),qe(18,"Attributes"),Q()(),re(19,"ion-item",7)(20,"ion-label"),ct(21,"ion-icon",10),qe(22,"Readonly"),Q(),ct(23,"ion-checkbox",11),Q(),re(24,"ion-item",7)(25,"ion-label"),ct(26,"ion-icon",12),qe(27,"Hidden"),Q(),ct(28,"ion-checkbox",13),Q(),re(29,"ion-item",7)(30,"ion-label"),ct(31,"ion-icon",14),qe(32,"System"),Q(),ct(33,"ion-checkbox",15),Q()()()),2&e&&(Ke(3),Ui("Edit ",t.subjectName.toLowerCase(),""),Ke(2),rt("disabled",t.formGroup.invalid),Ke(6),rt("formGroup",t.formGroup),Ke(3),Ui("",t.subjectName," name"),Ke(1),Dh("placeholder","Enter ",t.subjectName.toLowerCase()," name"))},dependencies:[es,ts,Mk,ns,rs,_i,Pl,ai,os,is,ss,id,Al,Il,El,Dl,fa,Ba],styles:["ion-icon[_ngcontent-%COMP%]{margin-right:1em;position:relative;top:2px}"]}),U([go()],ou.prototype,"onSaveClick",null),U([go()],ou.prototype,"onEnter",null);class Dp{constructor(e,t){this.el=e,this.zone=t;const r=e.nativeElement.querySelector("input");r?r.focus():this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}ngOnDestroy(){this.observer?.disconnect()}update(){const e=this.el.nativeElement.querySelector("input");e&&(setTimeout(()=>e.focus(),100),this.observer?.disconnect())}}Dp.\u0275fac=function(e){return new(e||Dp)(S(yt),S(ut))},Dp.\u0275dir=Tt({type:Dp,selectors:[["","appAutofocus",""]]});class Ip{constructor(e,t){this.vfsService=e,this.modalController=t,this.validateNameUnique=r=>this.parentPath&&this.vfsService.readdir(this.parentPath).some(o=>o.name.toLocaleLowerCase()===r.value.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=r=>this.vfsService.isFilenameValid(r.value)?null:{name:"invalid file name"},this.onCreate=()=>{},this.formGroup=new tc({name:new _s("",{nonNullable:!0,validators:[Mf.required,this.validateNameUnique,this.validateNameValid]})})}onCreateClick(){this.createDir()}onEnter(){this.createDir()}onCancelClick(){this.modalController.dismiss()}createDir(){this.formGroup.controls.name.valid&&(this.onCreate(this.formGroup.controls.name.value),this.modalController.dismiss())}}function Jx(n){let e,t,r=!1;return o=>((!r||o!==e)&&(e=o,r=!0,t=n(o)),t)}Ip.\u0275fac=function(e){return new(e||Ip)(S(Qs),S(ys))},Ip.\u0275cmp=nt({type:Ip,selectors:[["app-new-directory-dialog"]],inputs:{parentPath:"parentPath",onCreate:"onCreate"},decls:16,vars:2,consts:[["translucent",""],["slot","primary"],["tabindex","-1",3,"disabled","click"],["slot","secondary"],["tabindex","-1",3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter directory name","formControlName","name","appAutofocus","","tabindex","1"]],template:function(e,t){1&e&&(re(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"Create directory"),Q(),re(4,"ion-buttons",1)(5,"ion-button",2),st("click",function(){return t.onCreateClick()}),qe(6,"Create"),Q()(),re(7,"ion-buttons",3)(8,"ion-button",4),st("click",function(){return t.onCancelClick()}),qe(9,"Cancel"),Q()()()(),re(10,"ion-content",5)(11,"form",6),st("keydown.enter",function(){return t.onEnter()}),re(12,"ion-item",7)(13,"ion-label",8),qe(14,"Directory name"),Q(),ct(15,"ion-input",9),Q()()()),2&e&&(Ke(5),rt("disabled",t.formGroup.invalid),Ke(6),rt("formGroup",t.formGroup))},dependencies:[es,ts,ns,rs,Pl,ai,os,is,ss,Al,Il,El,Dl,fa,Ba,Dp]});class kp{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCopy=()=>{},this.onCut=()=>{},this.onDelete=()=>{}}}kp.\u0275fac=function(e){return new(e||kp)},kp.\u0275cmp=nt({type:kp,selectors:[["app-context-menu-file-entry"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCopy:"onCopy",onCut:"onCut",onDelete:"onDelete"},decls:16,vars:5,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","copy-outline","slot","end"],["name","cut-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,t){1&e&&(re(0,"ion-list")(1,"ion-item",0),st("click",function(){return t.onEdit()}),ct(2,"ion-icon",1),qe(3," Edit "),Q(),re(4,"ion-item",0),st("click",function(){return t.onSave()}),ct(5,"ion-icon",2),qe(6," Save "),Q(),re(7,"ion-item",0),st("click",function(){return t.onCopy()}),ct(8,"ion-icon",3),qe(9," Copy "),Q(),re(10,"ion-item",0),st("click",function(){return t.onCut()}),ct(11,"ion-icon",4),qe(12," Cut "),Q(),re(13,"ion-item",5),st("click",function(){return t.onDelete()}),ct(14,"ion-icon",6),qe(15," Delete "),Q()()),2&e&&(Ke(1),rt("detail",!1),Ke(3),rt("detail",!1),Ke(3),rt("detail",!1),Ke(3),rt("detail",!1),Ke(3),rt("detail",!1))},dependencies:[_i,ai,ja]});class Sd{transform(e){return void 0===e?"":e<1024?`${e} bytes`:e<1048576?`${(e/1024).toFixed(1)} kB`:`${(e/1024/1024).toFixed(1)} MB`}}Sd.\u0275fac=function(e){return new(e||Sd)},Sd.\u0275pipe=vo({name:"fileSize",type:Sd,pure:!0});const kH=["slidingItem"];function xH(n,e){1&n&&ct(0,"ion-icon",23)}function MH(n,e){1&n&&ct(0,"ion-icon",24)}function TH(n,e){1&n&&ct(0,"ion-icon",25)}function AH(n,e){1&n&&ct(0,"ion-icon",26)}function PH(n,e){1&n&&ct(0,"ion-icon",27)}function RH(n,e){1&n&&ct(0,"ion-icon",28)}function FH(n,e){1&n&&ct(0,"ion-icon",29)}function OH(n,e){1&n&&ct(0,"ion-icon",30)}function NH(n,e){1&n&&ct(0,"ion-icon",31)}function LH(n,e){if(1&n&&(nf(0),qe(1),Fa(2,"fileSize"),rf()),2&n){const t=Lt();Ke(1),Ui(" - ",Oa(2,1,null==t.entry?null:t.entry.size)," ")}}class xp{constructor(e,t,r){this.actionSheetController=e,this.popoverController=t,this.vfsService=r,this.touched=!1,this.selecting=!1,this.selected=!1,this.interaction=new xn,this.selectEntry=new xn,this.editEntry=new xn,this.copyEntry=new xn,this.cutEntry=new xn,this.deleteEntry=new xn,this.saveEntry=new xn}ngOnChanges(e){e.selecting&&e.selecting.currentValue&&!e.selecting.previousValue&&this.slidingItem?.close()}onContextmenu(e){var t=this;return(0,te.Z)(function*(){e.stopPropagation(),e.preventDefault(),t.interaction.emit(),(yield t.popoverController.create({component:kp,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>t.editEntry.emit(t.entry),onSave:()=>t.saveEntry.emit(t.entry),onCopy:()=>t.copyEntry.emit(t.entry),onCut:()=>t.cutEntry.emit(t.entry),onDelete:()=>t.deleteEntry.emit(t.entry)},reference:"event"})).present()})()}get color(){if(!this.selecting&&this.touched||this.selecting&&this.selected)return"light"}get markedForCut(){return!!this.entry&&"cut"===this.vfsService.isEntryInClipboard(this.entry)}get markedForCopy(){return!!this.entry&&"copy"===this.vfsService.isEntryInClipboard(this.entry)}cutOrCopyEntry(){var e=this;return(0,te.Z)(function*(){const t=e.entry?.isDirectory?"directory":"file";(yield e.actionSheetController.create({header:"Do you want to cut or copy?",buttons:[{text:`Copy ${t}`,handler:()=>e.copyEntry.emit(e.entry)},{text:`Cut ${t}`,handler:()=>e.cutEntry.emit(e.entry)},{text:"Cancel"}]})).present()})()}}function $H(n,e){if(1&n){const t=Fr();re(0,"ion-toolbar")(1,"ion-title",6),st("click",function(o){return sn(t),an(Lt().openBreadcrumbMenu(o))}),re(2,"div",7)(3,"div",8),qe(4),Q(),ct(5,"div",9),Q()(),re(6,"ion-buttons",10),ct(7,"ion-back-button"),Q(),re(8,"ion-buttons",11)(9,"ion-button",12),st("click",function(o){return sn(t),an(Lt().openContextMenu(o,"trigger"))}),ct(10,"ion-icon",13),Q()()()}if(2&n){const t=Lt();Ke(1),rt("id",t.breadcrumbTriggerId),Ke(3),As(t.title)}}function BH(n,e){if(1&n){const t=Fr();re(0,"ion-buttons",15)(1,"ion-button",12),st("click",function(){return sn(t),an(Lt(2).onSelectAll())}),qe(2,"Select all"),Q()()}}function VH(n,e){if(1&n){const t=Fr();re(0,"ion-buttons",15)(1,"ion-button",12),st("click",function(){return sn(t),an(Lt(2).selection.clear())}),qe(2,"Clear"),Q()()}}function UH(n,e){if(1&n){const t=Fr();re(0,"ion-toolbar")(1,"ion-title"),qe(2,"Selection"),Q(),re(3,"ion-buttons",11)(4,"ion-button",12),st("click",function(){return sn(t),an(Lt().onSelectionDone())}),qe(5),Q()(),Yt(6,BH,3,0,"ion-buttons",14),Yt(7,VH,3,0,"ion-buttons",14),Q()}if(2&n){const t=Lt();Ke(5),As(0===t.selection.size?"Cancel":"Done"),Ke(1),rt("ngIf",t.selection.size!==(null==t.entries?null:t.entries.length)),Ke(1),rt("ngIf",t.selection.size===(null==t.entries?null:t.entries.length))}}function jH(n,e){if(1&n&&(re(0,"div",16)(1,"div",17),qe(2),Q()()),2&n){const t=Lt();Ke(2),Ui(" empty ",t.isRoot?"card":"directory"," ")}}function GH(n,e){if(1&n){const t=Fr();re(0,"app-file-entry",18),st("selectEntry",function(){const i=sn(t).$implicit;return an(Lt().onSelect(i))})("editEntry",function(){const i=sn(t).$implicit;return an(Lt().onEditEntry(i))})("saveEntry",function(){const i=sn(t).$implicit;return an(Lt().onSaveEntry(i))})("copyEntry",function(){const i=sn(t).$implicit;return an(Lt().onCopyEntry(i))})("cutEntry",function(){const i=sn(t).$implicit;return an(Lt().onCutEntry(i))})("deleteEntry",function(){const i=sn(t).$implicit;return an(Lt().onDeleteEntry(i))})("interaction",function(){const i=sn(t).$implicit;return an(Lt().lastEntryTouched=i.name)}),Q()}if(2&n){const t=e.$implicit,r=Lt();rt("entry",t)("selecting","select"===r.mode)("selected",r.selection.has(t.name))("touched",t.name===r.lastEntryTouched)}}function HH(n,e){if(1&n&&(re(0,"p"),qe(1),Fa(2,"fileSize"),Fa(3,"fileSize"),Q()),2&n){const t=Lt(2);Ke(1),cf(" ",Oa(2,2,t.bytesFree)," free, ",Oa(3,4,t.bytesTotal)," total ")}}function zH(n,e){if(1&n&&(re(0,"p"),qe(1),Fa(2,"fileSize"),Q()),2&n){const t=Lt(2);Ke(1),Z_(" ",Oa(2,3,t.bytesInFiles)," in ",t.fileCount," ",1===t.fileCount?"file":"files"," ")}}function WH(n,e){if(1&n&&(re(0,"ion-item",19)(1,"ion-label"),Yt(2,HH,4,6,"p",0),Yt(3,zH,3,5,"p",0),Q()()),2&n){const t=Lt();Ke(2),rt("ngIf",t.isRoot),Ke(1),rt("ngIf",t.fileCount>0)}}function ZH(n,e){return n.isDirectory&&!e.isDirectory?-1:!n.isDirectory&&e.isDirectory?1:n.name.localeCompare(e.name)}xp.\u0275fac=function(e){return new(e||xp)(S(ip),S(Wc),S(Qs))},xp.\u0275cmp=nt({type:xp,selectors:[["app-file-entry"]],viewQuery:function(e,t){if(1&e&&Lu(kH,5),2&e){let r;Ps(r=Rs())&&(t.slidingItem=r.first)}},inputs:{entry:"entry",touched:"touched",selecting:"selecting",selected:"selected"},outputs:{interaction:"interaction",selectEntry:"selectEntry",editEntry:"editEntry",copyEntry:"copyEntry",cutEntry:"cutEntry",deleteEntry:"deleteEntry",saveEntry:"saveEntry"},features:[Ho],decls:28,vars:19,consts:[[3,"disabled","contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","copy-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","detail","click"],["name","folder-outline","slot","start",4,"ngIf"],["name","document-outline","slot","start",4,"ngIf"],["class","attribute-icon","name","lock-closed-outline","size","small","slot","end",4,"ngIf"],["class","attribute-icon","name","eye-off-outline","size","small","slot","end",4,"ngIf"],["class","attribute-icon","name","cog-outline","size","small","slot","end",4,"ngIf"],["class","attribute-icon","name","clipboard-outline","size","small","slot","end",4,"ngIf"],["class","attribute-icon","name","cut-outline","size","small","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",4,"ngIf"],["name","radio-button-on-outline","slot","end",4,"ngIf"],[4,"ngIf"],["name","folder-outline","slot","start"],["name","document-outline","slot","start"],["name","lock-closed-outline","size","small","slot","end",1,"attribute-icon"],["name","eye-off-outline","size","small","slot","end",1,"attribute-icon"],["name","cog-outline","size","small","slot","end",1,"attribute-icon"],["name","clipboard-outline","size","small","slot","end",1,"attribute-icon"],["name","cut-outline","size","small","slot","end",1,"attribute-icon"],["name","radio-button-off-outline","slot","end"],["name","radio-button-on-outline","slot","end"]],template:function(e,t){if(1&e){const r=Fr();re(0,"ion-item-sliding",0,1),st("contextmenu",function(i){return t.onContextmenu(i)})("ionDrag",function(){return t.interaction.emit(t.entry)}),re(2,"ion-item-options",2)(3,"ion-item-option",3),st("click",function(){return sn(r),Ts(1).close(),an(t.editEntry.emit(t.entry))}),ct(4,"ion-icon",4),Q(),re(5,"ion-item-option",5),st("click",function(){return sn(r),Ts(1).close(),an(t.saveEntry.emit(t.entry))}),ct(6,"ion-icon",6),Q()(),re(7,"ion-item-options",7)(8,"ion-item-option",8),st("click",function(){return sn(r),Ts(1).close(),an(t.cutOrCopyEntry())}),ct(9,"ion-icon",9),Q(),re(10,"ion-item-option",10),st("click",function(){return sn(r),Ts(1).close(),an(t.deleteEntry.emit(t.entry))}),ct(11,"ion-icon",11),Q()(),re(12,"ion-item",12),st("click",function(){return t.selectEntry.emit(),t.interaction.emit()}),Yt(13,xH,1,0,"ion-icon",13),Yt(14,MH,1,0,"ion-icon",14),Yt(15,TH,1,0,"ion-icon",15),Yt(16,AH,1,0,"ion-icon",16),Yt(17,PH,1,0,"ion-icon",17),Yt(18,RH,1,0,"ion-icon",18),Yt(19,FH,1,0,"ion-icon",19),Yt(20,OH,1,0,"ion-icon",20),Yt(21,NH,1,0,"ion-icon",21),re(22,"ion-label")(23,"h2"),qe(24),Q(),re(25,"p"),qe(26),Yt(27,LH,3,3,"ng-container",22),Q()()()()}2&e&&(rt("disabled",t.selecting),Ke(12),af("opacity",t.touched?1:.99999),_l("is-directory",null==t.entry?null:t.entry.isDirectory),rt("color",t.color)("detail",(null==t.entry?null:t.entry.isDirectory)&&!t.selecting),Ke(1),rt("ngIf",null==t.entry?null:t.entry.isDirectory),Ke(1),rt("ngIf",!(null!=t.entry&&t.entry.isDirectory)),Ke(1),rt("ngIf",null==t.entry||null==t.entry.attributes?null:t.entry.attributes.readonly),Ke(1),rt("ngIf",null==t.entry||null==t.entry.attributes?null:t.entry.attributes.hidden),Ke(1),rt("ngIf",null==t.entry||null==t.entry.attributes?null:t.entry.attributes.system),Ke(1),rt("ngIf",t.markedForCopy),Ke(1),rt("ngIf",t.markedForCut),Ke(1),rt("ngIf",t.selecting&&!t.selected),Ke(1),rt("ngIf",t.selecting&&t.selected),Ke(3),As(null==t.entry?null:t.entry.name),Ke(2),Ui(" ",null==t.entry?null:t.entry.lastModifiedLocalDate," "),Ke(1),rt("ngIf",!(null!=t.entry&&t.entry.isDirectory)))},dependencies:[mi,_i,ai,jm,Gm,Hm,os,Sd],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-icon.attribute-icon[_ngcontent-%COMP%]{color:var(--ion-color-step-600);margin-left:.7em}ion-icon.attribute-icon[name=lock-closed-outline][_ngcontent-%COMP%]{position:relative;top:-2px}.ios[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]{color:rgba(var(--ion-text-color-rgb, 0, 0, 0),.4);margin-left:0}ion-icon.attribute-icon[_ngcontent-%COMP%]:last-of-type{margin-right:1.75em}.is-directory[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]:last-of-type{margin-right:.75em}"],changeDetection:0});let qH=0;class bs{constructor(e,t,r,o,i,s,a,u){this.vfsService=e,this.popoverController=t,this.config=r,this.alertService=o,this.actionSheetController=i,this.modalController=s,this.fileService=a,this.cd=u,this.bytesInFilesMemoized=Jx(f=>f?.reduce((g,v)=>g+(v.isDirectory?0:v.size),0)??0),this.fileCountMemoized=Jx(f=>f?.filter(g=>!g.isDirectory)?.length??0),this.onNavigate=()=>{},this.onNavigateBreadcrumb=()=>{},this.lastEntryTouched=void 0,this.mode="browse",this.selection=new Set,this.breadcrumbTriggerId="breadcrumb-trigger-"+qH++,this.checkEntries=jb(u,void 0,()=>void 0!==this.path?e.readdir(this.path):void 0)}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkEntries()}handleDragDropEvent(e){this.fileService.openFromDrop(e,t=>this.vfsService.addFiles(t,this.path||""))}get title(){switch(this.path){case"/":return this.card?.name??"";case void 0:return"";default:{const e=this.vfsService.splitPath(this.path);return e[e.length-1]??""}}}get bytesFree(){return this.vfsService.getBytesFree()}get bytesTotal(){return this.vfsService.getBytesTotal()}get bytesInFiles(){return this.bytesInFilesMemoized(this.entries)}get isRoot(){return"/"===this.path}get fileCount(){return this.fileCountMemoized(this.entries)}get entries(){return void 0!==this.path?[...this.vfsService.readdir(this.path)].sort(ZH):[]}trackEntryBy(e,t){return t.name}onSelect(e){"browse"===this.mode?e.isDirectory&&this.onNavigate(e.path):this.selection?.has(e.name)?this.selection.delete(e.name):this.selection.add(e.name)}onEditEntry(e){var t=this;return(0,te.Z)(function*(){yield(yield t.modalController.create({component:ou,backdropDismiss:!1,componentProps:{entry:e}})).present()})()}onSaveEntry(e){var t=this;return(0,te.Z)(function*(){t.path&&(e.isDirectory?yield t.vfsService.archiveFiles([e],t.path):yield t.vfsService.saveFile(e))})()}onCopyEntry(e){this.path&&this.vfsService.copyToClipboard(this.path,[e.name],"copy")}onCutEntry(e){this.path&&this.vfsService.copyToClipboard(this.path,[e.name],"cut")}onDeleteEntry(e){var t=this;return(0,te.Z)(function*(){e.isDirectory?yield t.vfsService.deleteRecursive([e]):yield t.vfsService.unlinkEntry(e)})()}onAddFiles(){this.fileService.openFiles(e=>this.vfsService.addFiles(e,this.path||"/"))}onCreateDirectory(){var e=this;return(0,te.Z)(function*(){yield(yield e.modalController.create({component:Ip,backdropDismiss:!1,componentProps:{parentPath:e.path,onCreate:r=>e.vfsService.mkdir(`${e.path}/${r}`)}})).present()})()}onExtractZipfile(){this.fileService.openFile(this.extractZipArchive.bind(this))}onPaste(){var e=this;return(0,te.Z)(function*(){e.path&&(yield e.vfsService.paste(e.path))})()}onHelp(){var e=this;return(0,te.Z)(function*(){yield(yield e.modalController.create({component:ma,componentProps:{url:"assets/doc/card-browser.md"}})).present()})()}onStartSelection(){0!==this.entries?.length&&(this.selection.clear(),this.mode="select",this.cd.markForCheck())}onSelectionDone(){var e=this;return(0,te.Z)(function*(){if(!e.entries)return;const t=Array.from(e.selection),r=new Map(e.entries.map(a=>[a.name,a])),o=t.every(a=>!r.get(a)?.isDirectory),i=t.every(a=>r.get(a)?.isDirectory);let s=`${e.selection.size} items`;if(o&&(s=1===e.selection.size?"file":`${e.selection.size} files`),i&&(s=1===e.selection.size?"directory":`${e.selection.size} directories`),0!==e.selection.size){const a=yield e.actionSheetController.create({header:"What do you want to do?",buttons:[{text:`Copy ${s}`,handler:e.onCopySelection.bind(e)},{text:`Cut ${s}`,handler:e.onCutSelection.bind(e)},{text:`Save ${s} as zip`,handler:e.onSaveZip.bind(e)},{text:`Delete ${s}`,handler:e.onDeleteSelection.bind(e)},{text:"Cancel"}]});yield a.present(),yield a.onWillDismiss()}e.mode="browse",e.cd.markForCheck()})()}onSelectAll(){this.entries?.forEach(e=>this.selection.add(e.name))}onCopySelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"copy")}onCutSelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"cut")}onSaveZip(){var e=this;return(0,te.Z)(function*(){const t=e.materializeSelection();!t||!e.path||(yield e.vfsService.archiveFiles(t,e.path))})()}onDeleteSelection(){var e=this;return(0,te.Z)(function*(){const t=e.materializeSelection();!t||!e.path||(yield e.vfsService.deleteRecursive(t))})()}openBreadcrumbMenu(e){var t=this;return(0,te.Z)(function*(){if(!t.card||!t.path)return;const r=[..."/"===t.path?[]:[...t.vfsService.splitPath(t.path).reverse().slice(1),t.card.name],"Memory cards"];(yield t.popoverController.create({component:Sp,event:e,componentProps:{entries:r,onSelect:i=>t.onNavigateBreadcrumb(r.length-1-i)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===t.config.get("mode")?"center":"start",trigger:t.breadcrumbTriggerId})).present()})()}openContextMenu(e,t){var r=this;return(0,te.Z)(function*(){(yield r.popoverController.create({component:Ep,componentProps:{emptyDirectory:0===r.entries?.length,onStartSelection:r.onStartSelection.bind(r),onAddFiles:r.onAddFiles.bind(r),onCreateDirectry:r.onCreateDirectory.bind(r),onExtractZipfile:r.onExtractZipfile.bind(r),onPaste:r.onPaste.bind(r),onHelp:r.onHelp.bind(r)},event:e,dismissOnSelect:!0,arrow:!1,reference:t})).present()})()}materializeSelection(){if(!this.path)return;const e=new Map(this.vfsService.readdir(this.path).map(t=>[t.name,t]));return Array.from(this.selection).map(t=>e.get(t)).filter(t=>!!t)}extractZipArchive(e){var t=this;return(0,te.Z)(function*(){/\.zip$/.test(e.name)?t.vfsService.unpackArchive(yield e.getContent(),t.path||"/"):yield t.alertService.errorMessage("File does not have the correct extension. Only .zip files are supported")})()}}bs.\u0275fac=function(e){return new(e||bs)(S(Qs),S(Wc),S(cb),S(ro),S(ip),S(ys),S(Ls),S(Mt))},bs.\u0275cmp=nt({type:bs,selectors:[["app-subpage-directory"]],inputs:{card:"card",path:"path",selfReference:"selfReference",onNavigate:"onNavigate",onNavigateBreadcrumb:"onNavigateBreadcrumb"},decls:9,vars:6,consts:[[4,"ngIf"],[3,"contextmenu"],[1,"container"],["class","placeholder-wrapper",4,"ngIf"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction",4,"ngFor","ngForOf","ngForTrackBy"],["class","metadata","lines","none",4,"ngIf"],[1,"breadcrumb",3,"id","click"],[1,"breadcrumb-container"],[1,"breadcrumb-current"],[1,"select-arrow"],["slot","start"],["slot","primary"],[3,"click"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["slot","secondary"],[1,"placeholder-wrapper"],[1,"placeholder"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction"],["lines","none",1,"metadata"]],template:function(e,t){1&e&&(re(0,"ion-header"),Yt(1,$H,11,2,"ion-toolbar",0),Yt(2,UH,8,3,"ion-toolbar",0),Q(),re(3,"ion-content",1),st("contextmenu",function(o){return o.preventDefault(),t.openContextMenu(o,"event")}),re(4,"div",2),Yt(5,jH,3,1,"div",3),re(6,"ion-list"),Yt(7,GH,1,4,"app-file-entry",4),Yt(8,WH,4,2,"ion-item",5),Q()()()),2&e&&(Ke(1),rt("ngIf","browse"===t.mode),Ke(1),rt("ngIf","select"===t.mode),Ke(3),rt("ngIf",0===(null==t.entries?null:t.entries.length)),Ke(2),rt("ngForOf",t.entries)("ngForTrackBy",t.trackEntryBy),Ke(1),rt("ngIf",t.isRoot||t.fileCount>0))},dependencies:[Oc,mi,xk,es,ts,ns,rs,_i,ai,os,ja,is,ss,Gk,xp,Sd],styles:[".breadcrumb[_ngcontent-%COMP%]{cursor:pointer}.breadcrumb-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.ios[_ngcontent-%COMP%]   .breadcrumb-container[_ngcontent-%COMP%]{justify-content:center}.breadcrumb-current[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis}.container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}.placeholder-wrapper[_ngcontent-%COMP%]{flex:1;width:100%;display:flex;align-items:center;justify-content:center}.placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}ion-list[_ngcontent-%COMP%]{background:none;flex:0}.select-arrow[_ngcontent-%COMP%]{border-top:5px solid;border-left:5px solid transparent;border-right:5px solid transparent;display:inline-block;opacity:.33;margin-left:.5em;vertical-align:middle}.md[_ngcontent-%COMP%]   .select-arrow[_ngcontent-%COMP%]{opacity:.55}ion-item.metadata[_ngcontent-%COMP%]{text-align:center}"],changeDetection:0}),U([go()],bs.prototype,"onSaveEntry",null),U([go()],bs.prototype,"onDeleteEntry",null),U([go()],bs.prototype,"onCreateDirectory",null),U([go()],bs.prototype,"onPaste",null),U([go()],bs.prototype,"onHelp",null),U([go()],bs.prototype,"onSelectionDone",null),U([go()],bs.prototype,"onSaveZip",null),U([go()],bs.prototype,"onDeleteSelection",null);const YH=["nav"];class Mp{constructor(e,t){this.vfsService=e,this.dragDropService=t,this.navRootProps={onMountForBrowse:r=>this.browseCard(r),selfReference:{}},this.onNavigate=r=>{this.currentlyBrowsingCard&&this.nav?.push(bs,{card:this.currentlyBrowsingCard,path:r,onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})},this.onNavigateBreadcrumb=r=>{this.currentlyBrowsingCard&&this.nav?.popTo(r,{animated:this.animateNav})},this.navRoot=_a,this.isVisible=!1}ngOnInit(){this.vfsService.onReleaseCard.addHandler(this.onReleaseCard.bind(this))}ionViewDidEnter(){this.isVisible=!0,this.dragDropService.registerClient(this)}ionViewWillLeave(){this.isVisible=!1,this.dragDropService.unregisterClient(this)}handleDragDropEvent(e){var t=this;return(0,te.Z)(function*(){yield(yield t.nav?.getActive())?.params?.selfReference?.ref?.handleDragDropEvent?.(e)})()}get animateNav(){return!Cj}browseCard(e){this.currentlyBrowsingCard=e,this.nav?.push(bs,{card:e,path:"/",onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})}onReleaseCard(e){e!==this.currentlyBrowsingCard?.id||!this.nav||(this.isVisible||(this.nav.animated=!1),this.nav.popToRoot(void 0,()=>this.nav&&(this.nav.animated=this.animateNav)))}}Mp.\u0275fac=function(e){return new(e||Mp)(S(Qs),S(_c))},Mp.\u0275cmp=nt({type:Mp,selectors:[["app-storage"]],viewQuery:function(e,t){if(1&e&&Lu(YH,5),2&e){let r;Ps(r=Rs())&&(t.nav=r.first)}},decls:2,vars:3,consts:[[3,"animated","root","rootParams"],["nav",""]],template:function(e,t){1&e&&ct(0,"ion-nav",0,1),2&e&&rt("animated",t.animateNav)("root",t.navRoot)("rootParams",t.navRootProps)},dependencies:[Tk,Hk]});const KH=[{path:"tab",component:tu,children:[{path:"emulation",component:gp},{path:"sessions",component:Ka},{path:"storage",component:Mp},{path:"settings",component:vp},{path:"about",component:hp},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}]},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}];class Ed{}Ed.\u0275fac=function(e){return new(e||Ed)},Ed.\u0275mod=vn({type:Ed}),Ed.\u0275inj=Er({imports:[Um.forChild(KH),Um]});class Dd{}Dd.\u0275fac=function(e){return new(e||Dd)},Dd.\u0275mod=vn({type:Dd}),Dd.\u0275inj=Er({imports:[rc,$a,$c,Ed,hd,md,gd,_d,pd]});class iu extends qE{pushState(e,t,r,o){this.replaceState(e,t,r,o)}}iu.\u0275fac=function(){let n;return function(t){return(n||(n=hi(iu)))(t||iu)}}(),iu.\u0275prov=mt({token:iu,factory:iu.\u0275fac});const XH=[{path:"install",component:dd,canActivate:[eu]},{path:"import",component:dd,canActivate:[eu]},{path:"",component:tu}];class Id{}Id.\u0275fac=function(e){return new(e||Id)},Id.\u0275mod=vn({type:Id}),Id.\u0275inj=Er({providers:[{provide:La,useClass:iu}],imports:[Um.forRoot(XH,{preloadingStrategy:UB,useHash:!0}),Dd,Um]});const eM=["touch","click","keydown"];class kd{constructor(e,t){this.kvsService=e,this.audioService=t,this.initialize()}initialize(){var e=this;return(0,te.Z)(function*(){if(yield e.kvsService.initialize(),!e.kvsService.kvs.enableAudioOnFirstInteraction)return;const t=()=>{eM.forEach(r=>window.removeEventListener(r,t,!0)),e.audioService.initialize()};eM.forEach(r=>window.addEventListener(r,t,!0))})()}}kd.\u0275fac=function(e){return new(e||kd)(se(li),se(gc))},kd.\u0275prov=mt({token:kd,factory:kd.\u0275fac,providedIn:"root"});class xd{constructor(e,t,r,o,i,s,a){}}xd.\u0275fac=function(e){return new(e||xd)(se(er),se(as),se(gc),se(qa),se(li),se(Jc),se(kd))},xd.\u0275mod=vn({type:xd,bootstrap:[pp]}),xd.\u0275inj=Er({providers:[{provide:fk,useClass:class $U{shouldDetach(e){return!1}shouldAttach(e){return!1}store(e,t){}retrieve(e){return null}shouldReuseRoute(e,t){if(e.routeConfig!==t.routeConfig)return!1;const r=e.params,o=t.params,i=Object.keys(r),s=Object.keys(o);if(i.length!==s.length)return!1;for(const a of i)if(o[a]!==r[a])return!1;return!0}}},{provide:Rc,multi:!0,useFactory:n=>n.initialize.bind(n),deps:[li]}],imports:[$L,rc.forRoot(),Id,f6.register("ngsw-worker.js",{enabled:!0}),gb.forRoot({loader:sv,markedOptions:{provide:ux,useFactory:()=>{const n=new ld;return n.link=(e,t,r)=>`<a href="${e}" target="_blank" rel="external">${r||e}</a>`,{renderer:n,gfm:!0,breaks:!1,pedantic:!1,smartLists:!0,smartypants:!1}}}}),y3]}),window.global=window,function YL(){tm=UD("#/install?"),nm=UD("#/import?")}(),function Mj(){return!!localStorage.getItem(Qm)}()&&!jD()||function KL(){return void 0!==tm}()?location.replace(`${location.origin}${location.pathname}#/tab/emulation`):location.replace(`${location.origin}${location.pathname}#/tab/sessions`),window.addEventListener("orientationchange",()=>setTimeout(()=>{document.body.style.height=window.innerHeight+"px"},100)),window.addEventListener("scroll",()=>window.scrollTo(0,0)),document.body.addEventListener("contextmenu",n=>n.preventDefault()),LL().bootstrapModule(xd).catch(n=>console.log(n))},3272:$e=>{var T,ze=(T=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(D){var ne,J,l=typeof(D=D||{})<"u"?D:{};l.ready=new Promise(function(c,m){ne=c,J=m});var j,Pe,Le,H=Object.assign({},l),X=[],N="./this.program",B=(c,m)=>{throw m},ce="object"==typeof window,Y="function"==typeof importScripts,$=("object"==typeof process&&"object"==typeof process.versions&&process,"");(ce||Y)&&(Y?$=self.location.href:typeof document<"u"&&document.currentScript&&($=document.currentScript.src),T&&($=T),$=0!==$.indexOf("blob:")?$.substr(0,$.replace(/[?#].*/,"").lastIndexOf("/")+1):"",j=c=>{var m=new XMLHttpRequest;return m.open("GET",c,!1),m.send(null),m.responseText},Y&&(Le=c=>{var m=new XMLHttpRequest;return m.open("GET",c,!1),m.responseType="arraybuffer",m.send(null),new Uint8Array(m.response)}),Pe=(c,m,b)=>{var x=new XMLHttpRequest;x.open("GET",c,!0),x.responseType="arraybuffer",x.onload=()=>{200==x.status||0==x.status&&x.response?m(x.response):b()},x.onerror=b,x.send(null)});var de,W=l.print||console.log.bind(console),q=l.printErr||console.warn.bind(console);Object.assign(l,H),H=null,l.arguments&&(X=l.arguments),l.thisProgram&&(N=l.thisProgram),l.quit&&(B=l.quit),l.wasmBinary&&(de=l.wasmBinary);var Fe=l.noExitRuntime||!0;"object"!=typeof WebAssembly&&lr("no native wasm support detected");var ue,le,it=!1;function be(c,m){c||lr(m)}var Ue,Qe,bt,F,me,tt,Ee=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Xe(c,m,b){for(var x=m+b,G=m;c[G]&&!(G>=x);)++G;if(G-m>16&&c.buffer&&Ee)return Ee.decode(c.subarray(m,G));for(var _e="";m<G;){var De=c[m++];if(128&De){var je=63&c[m++];if(192!=(224&De)){var Dt=63&c[m++];if((De=224==(240&De)?(15&De)<<12|je<<6|Dt:(7&De)<<18|je<<12|Dt<<6|63&c[m++])<65536)_e+=String.fromCharCode(De);else{var mn=De-65536;_e+=String.fromCharCode(55296|mn>>10,56320|1023&mn)}}else _e+=String.fromCharCode((31&De)<<6|je)}else _e+=String.fromCharCode(De)}return _e}function Te(c,m){return c?Xe(bt,c,m):""}function Me(c,m,b,x){if(!(x>0))return 0;for(var G=b,_e=b+x-1,De=0;De<c.length;++De){var je=c.charCodeAt(De);if(je>=55296&&je<=57343&&(je=65536+((1023&je)<<10)|1023&c.charCodeAt(++De)),je<=127){if(b>=_e)break;m[b++]=je}else if(je<=2047){if(b+1>=_e)break;m[b++]=192|je>>6,m[b++]=128|63&je}else if(je<=65535){if(b+2>=_e)break;m[b++]=224|je>>12,m[b++]=128|je>>6&63,m[b++]=128|63&je}else{if(b+3>=_e)break;m[b++]=240|je>>18,m[b++]=128|je>>12&63,m[b++]=128|je>>6&63,m[b++]=128|63&je}}return m[b]=0,b-G}function ee(c){for(var m=0,b=0;b<c.length;++b){var x=c.charCodeAt(b);x<=127?m++:x<=2047?m+=2:x>=55296&&x<=57343?(m+=4,++b):m+=3}return m}function Ve(c){Ue=c,l.HEAP8=Qe=new Int8Array(c),l.HEAP16=new Int16Array(c),l.HEAP32=F=new Int32Array(c),l.HEAPU8=bt=new Uint8Array(c),l.HEAPU16=new Uint16Array(c),l.HEAPU32=me=new Uint32Array(c),l.HEAPF32=new Float32Array(c),l.HEAPF64=tt=new Float64Array(c)}var ge,pn,ft=[],Ae=[],At=[],tn=[],An=0,Eo=null,jn=null;function oo(c){An++,l.monitorRunDependencies&&l.monitorRunDependencies(An)}function Hr(c){if(An--,l.monitorRunDependencies&&l.monitorRunDependencies(An),0==An&&(null!==Eo&&(clearInterval(Eo),Eo=null),jn)){var m=jn;jn=null,m()}}function lr(c){l.onAbort&&l.onAbort(c),q(c="Aborted("+c+")"),it=!0,le=1,c+=". Build with -sASSERTIONS for more info.";var m=new WebAssembly.RuntimeError(c);throw J(m),m}function _o(c){return c.startsWith("data:application/octet-stream;base64,")}function uo(c){try{if(c==pn&&de)return new Uint8Array(de);if(Le)return Le(c);throw"both async and sync fetching of the wasm failed"}catch(m){lr(m)}}_o(pn="cloudpilot_web.wasm")||(pn=function L(c){return l.locateFile?l.locateFile(c,$):$+c}(pn));var at,ae,He={418052:c=>{ge.grow(65536);for(let m=0;m<=65535;m++)ge.set(ge.length-65535-1+m,ge.get(me[(c>>>2)+m]));return ge.length-65535-1}};function Bn(c){this.name="ExitStatus",this.message="Program terminated with exit("+c+")",this.status=c}function cr(c){for(;c.length>0;)c.shift()(l)}function fo(c,m){return m+2097152>>>0<4194305-!!c?(c>>>0)+4294967296*m:NaN}var Vt={isAbs:c=>"/"===c.charAt(0),splitPath:c=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(c).slice(1),normalizeArray:(c,m)=>{for(var b=0,x=c.length-1;x>=0;x--){var G=c[x];"."===G?c.splice(x,1):".."===G?(c.splice(x,1),b++):b&&(c.splice(x,1),b--)}if(m)for(;b;b--)c.unshift("..");return c},normalize:c=>{var m=Vt.isAbs(c),b="/"===c.substr(-1);return!(c=Vt.normalizeArray(c.split("/").filter(x=>!!x),!m).join("/"))&&!m&&(c="."),c&&b&&(c+="/"),(m?"/":"")+c},dirname:c=>{var m=Vt.splitPath(c),b=m[0],x=m[1];return b||x?(x&&(x=x.substr(0,x.length-1)),b+x):"."},basename:c=>{if("/"===c)return"/";var m=(c=(c=Vt.normalize(c)).replace(/\/$/,"")).lastIndexOf("/");return-1===m?c:c.substr(m+1)},join:function(){var c=Array.prototype.slice.call(arguments);return Vt.normalize(c.join("/"))},join2:(c,m)=>Vt.normalize(c+"/"+m)},Vn={resolve:function(){for(var c="",m=!1,b=arguments.length-1;b>=-1&&!m;b--){var x=b>=0?arguments[b]:E.cwd();if("string"!=typeof x)throw new TypeError("Arguments to path.resolve must be strings");if(!x)return"";c=x+"/"+c,m=Vt.isAbs(x)}return(m?"/":"")+(c=Vt.normalizeArray(c.split("/").filter(G=>!!G),!m).join("/"))||"."},relative:(c,m)=>{function b(mn){for(var Un=0;Un<mn.length&&""===mn[Un];Un++);for(var Qn=mn.length-1;Qn>=0&&""===mn[Qn];Qn--);return Un>Qn?[]:mn.slice(Un,Qn-Un+1)}c=Vn.resolve(c).substr(1),m=Vn.resolve(m).substr(1);for(var x=b(c.split("/")),G=b(m.split("/")),_e=Math.min(x.length,G.length),De=_e,je=0;je<_e;je++)if(x[je]!==G[je]){De=je;break}var Dt=[];for(je=De;je<x.length;je++)Dt.push("..");return(Dt=Dt.concat(G.slice(De))).join("/")}};function Do(c,m,b){var x=b>0?b:ee(c)+1,G=new Array(x),_e=Me(c,G,0,G.length);return m&&(G.length=_e),G}var dt={ttys:[],init:function(){},shutdown:function(){},register:function(c,m){dt.ttys[c]={input:[],output:[],ops:m},E.registerDevice(c,dt.stream_ops)},stream_ops:{open:function(c){var m=dt.ttys[c.node.rdev];if(!m)throw new E.ErrnoError(43);c.tty=m,c.seekable=!1},close:function(c){c.tty.ops.fsync(c.tty)},fsync:function(c){c.tty.ops.fsync(c.tty)},read:function(c,m,b,x,G){if(!c.tty||!c.tty.ops.get_char)throw new E.ErrnoError(60);for(var _e=0,De=0;De<x;De++){var je;try{je=c.tty.ops.get_char(c.tty)}catch{throw new E.ErrnoError(29)}if(void 0===je&&0===_e)throw new E.ErrnoError(6);if(null==je)break;_e++,m[b+De]=je}return _e&&(c.node.timestamp=Date.now()),_e},write:function(c,m,b,x,G){if(!c.tty||!c.tty.ops.put_char)throw new E.ErrnoError(60);try{for(var _e=0;_e<x;_e++)c.tty.ops.put_char(c.tty,m[b+_e])}catch{throw new E.ErrnoError(29)}return x&&(c.node.timestamp=Date.now()),_e}},default_tty_ops:{get_char:function(c){if(!c.input.length){var m=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(m=window.prompt("Input: "))&&(m+="\n"):"function"==typeof readline&&null!==(m=readline())&&(m+="\n"),!m)return null;c.input=Do(m,!0)}return c.input.shift()},put_char:function(c,m){null===m||10===m?(W(Xe(c.output,0)),c.output=[]):0!=m&&c.output.push(m)},fsync:function(c){c.output&&c.output.length>0&&(W(Xe(c.output,0)),c.output=[])}},default_tty1_ops:{put_char:function(c,m){null===m||10===m?(q(Xe(c.output,0)),c.output=[]):0!=m&&c.output.push(m)},fsync:function(c){c.output&&c.output.length>0&&(q(Xe(c.output,0)),c.output=[])}}};function Ar(c){lr()}var p={ops_table:null,mount:function(c){return p.createNode(null,"/",16895,0)},createNode:function(c,m,b,x){if(E.isBlkdev(b)||E.isFIFO(b))throw new E.ErrnoError(63);p.ops_table||(p.ops_table={dir:{node:{getattr:p.node_ops.getattr,setattr:p.node_ops.setattr,lookup:p.node_ops.lookup,mknod:p.node_ops.mknod,rename:p.node_ops.rename,unlink:p.node_ops.unlink,rmdir:p.node_ops.rmdir,readdir:p.node_ops.readdir,symlink:p.node_ops.symlink},stream:{llseek:p.stream_ops.llseek}},file:{node:{getattr:p.node_ops.getattr,setattr:p.node_ops.setattr},stream:{llseek:p.stream_ops.llseek,read:p.stream_ops.read,write:p.stream_ops.write,allocate:p.stream_ops.allocate,mmap:p.stream_ops.mmap,msync:p.stream_ops.msync}},link:{node:{getattr:p.node_ops.getattr,setattr:p.node_ops.setattr,readlink:p.node_ops.readlink},stream:{}},chrdev:{node:{getattr:p.node_ops.getattr,setattr:p.node_ops.setattr},stream:E.chrdev_stream_ops}});var G=E.createNode(c,m,b,x);return E.isDir(G.mode)?(G.node_ops=p.ops_table.dir.node,G.stream_ops=p.ops_table.dir.stream,G.contents={}):E.isFile(G.mode)?(G.node_ops=p.ops_table.file.node,G.stream_ops=p.ops_table.file.stream,G.usedBytes=0,G.contents=null):E.isLink(G.mode)?(G.node_ops=p.ops_table.link.node,G.stream_ops=p.ops_table.link.stream):E.isChrdev(G.mode)&&(G.node_ops=p.ops_table.chrdev.node,G.stream_ops=p.ops_table.chrdev.stream),G.timestamp=Date.now(),c&&(c.contents[m]=G,c.timestamp=G.timestamp),G},getFileDataAsTypedArray:function(c){return c.contents?c.contents.subarray?c.contents.subarray(0,c.usedBytes):new Uint8Array(c.contents):new Uint8Array(0)},expandFileStorage:function(c,m){var b=c.contents?c.contents.length:0;if(!(b>=m)){m=Math.max(m,b*(b<1048576?2:1.125)>>>0),0!=b&&(m=Math.max(m,256));var G=c.contents;c.contents=new Uint8Array(m),c.usedBytes>0&&c.contents.set(G.subarray(0,c.usedBytes),0)}},resizeFileStorage:function(c,m){if(c.usedBytes!=m)if(0==m)c.contents=null,c.usedBytes=0;else{var b=c.contents;c.contents=new Uint8Array(m),b&&c.contents.set(b.subarray(0,Math.min(m,c.usedBytes))),c.usedBytes=m}},node_ops:{getattr:function(c){var m={};return m.dev=E.isChrdev(c.mode)?c.id:1,m.ino=c.id,m.mode=c.mode,m.nlink=1,m.uid=0,m.gid=0,m.rdev=c.rdev,m.size=E.isDir(c.mode)?4096:E.isFile(c.mode)?c.usedBytes:E.isLink(c.mode)?c.link.length:0,m.atime=new Date(c.timestamp),m.mtime=new Date(c.timestamp),m.ctime=new Date(c.timestamp),m.blksize=4096,m.blocks=Math.ceil(m.size/m.blksize),m},setattr:function(c,m){void 0!==m.mode&&(c.mode=m.mode),void 0!==m.timestamp&&(c.timestamp=m.timestamp),void 0!==m.size&&p.resizeFileStorage(c,m.size)},lookup:function(c,m){throw E.genericErrors[44]},mknod:function(c,m,b,x){return p.createNode(c,m,b,x)},rename:function(c,m,b){if(E.isDir(c.mode)){var x;try{x=E.lookupNode(m,b)}catch{}if(x)for(var G in x.contents)throw new E.ErrnoError(55)}delete c.parent.contents[c.name],c.parent.timestamp=Date.now(),c.name=b,m.contents[b]=c,m.timestamp=c.parent.timestamp,c.parent=m},unlink:function(c,m){delete c.contents[m],c.timestamp=Date.now()},rmdir:function(c,m){var b=E.lookupNode(c,m);for(var x in b.contents)throw new E.ErrnoError(55);delete c.contents[m],c.timestamp=Date.now()},readdir:function(c){var m=[".",".."];for(var b in c.contents)c.contents.hasOwnProperty(b)&&m.push(b);return m},symlink:function(c,m,b){var x=p.createNode(c,m,41471,0);return x.link=b,x},readlink:function(c){if(!E.isLink(c.mode))throw new E.ErrnoError(28);return c.link}},stream_ops:{read:function(c,m,b,x,G){var _e=c.node.contents;if(G>=c.node.usedBytes)return 0;var De=Math.min(c.node.usedBytes-G,x);if(De>8&&_e.subarray)m.set(_e.subarray(G,G+De),b);else for(var je=0;je<De;je++)m[b+je]=_e[G+je];return De},write:function(c,m,b,x,G,_e){if(m.buffer===Qe.buffer&&(_e=!1),!x)return 0;var De=c.node;if(De.timestamp=Date.now(),m.subarray&&(!De.contents||De.contents.subarray)){if(_e)return De.contents=m.subarray(b,b+x),De.usedBytes=x,x;if(0===De.usedBytes&&0===G)return De.contents=m.slice(b,b+x),De.usedBytes=x,x;if(G+x<=De.usedBytes)return De.contents.set(m.subarray(b,b+x),G),x}if(p.expandFileStorage(De,G+x),De.contents.subarray&&m.subarray)De.contents.set(m.subarray(b,b+x),G);else for(var je=0;je<x;je++)De.contents[G+je]=m[b+je];return De.usedBytes=Math.max(De.usedBytes,G+x),x},llseek:function(c,m,b){var x=m;if(1===b?x+=c.position:2===b&&E.isFile(c.node.mode)&&(x+=c.node.usedBytes),x<0)throw new E.ErrnoError(28);return x},allocate:function(c,m,b){p.expandFileStorage(c.node,m+b),c.node.usedBytes=Math.max(c.node.usedBytes,m+b)},mmap:function(c,m,b,x,G){if(!E.isFile(c.node.mode))throw new E.ErrnoError(43);var _e,De,je=c.node.contents;if(2&G||je.buffer!==Ue){if((b>0||b+m<je.length)&&(je=je.subarray?je.subarray(b,b+m):Array.prototype.slice.call(je,b,b+m)),De=!0,!(_e=Ar()))throw new E.ErrnoError(48);Qe.set(je,_e)}else De=!1,_e=je.byteOffset;return{ptr:_e,allocated:De}},msync:function(c,m,b,x,G){return p.stream_ops.write(c,m,0,x,b,!1),0}}},E={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(c,m={})=>{if(!(c=Vn.resolve(c)))return{path:"",node:null};if((m=Object.assign({follow_mount:!0,recurse_count:0},m)).recurse_count>8)throw new E.ErrnoError(32);for(var x=c.split("/").filter(Qn=>!!Qn),G=E.root,_e="/",De=0;De<x.length;De++){var je=De===x.length-1;if(je&&m.parent)break;if(G=E.lookupNode(G,x[De]),_e=Vt.join2(_e,x[De]),E.isMountpoint(G)&&(!je||je&&m.follow_mount)&&(G=G.mounted.root),!je||m.follow)for(var Dt=0;E.isLink(G.mode);){var mn=E.readlink(_e);if(_e=Vn.resolve(Vt.dirname(_e),mn),G=E.lookupPath(_e,{recurse_count:m.recurse_count+1}).node,Dt++>40)throw new E.ErrnoError(32)}}return{path:_e,node:G}},getPath:c=>{for(var m;;){if(E.isRoot(c)){var b=c.mount.mountpoint;return m?"/"!==b[b.length-1]?b+"/"+m:b+m:b}m=m?c.name+"/"+m:c.name,c=c.parent}},hashName:(c,m)=>{for(var b=0,x=0;x<m.length;x++)b=(b<<5)-b+m.charCodeAt(x)|0;return(c+b>>>0)%E.nameTable.length},hashAddNode:c=>{var m=E.hashName(c.parent.id,c.name);c.name_next=E.nameTable[m],E.nameTable[m]=c},hashRemoveNode:c=>{var m=E.hashName(c.parent.id,c.name);if(E.nameTable[m]===c)E.nameTable[m]=c.name_next;else for(var b=E.nameTable[m];b;){if(b.name_next===c){b.name_next=c.name_next;break}b=b.name_next}},lookupNode:(c,m)=>{var b=E.mayLookup(c);if(b)throw new E.ErrnoError(b,c);for(var x=E.hashName(c.id,m),G=E.nameTable[x];G;G=G.name_next)if(G.parent.id===c.id&&G.name===m)return G;return E.lookup(c,m)},createNode:(c,m,b,x)=>{var G=new E.FSNode(c,m,b,x);return E.hashAddNode(G),G},destroyNode:c=>{E.hashRemoveNode(c)},isRoot:c=>c===c.parent,isMountpoint:c=>!!c.mounted,isFile:c=>32768==(61440&c),isDir:c=>16384==(61440&c),isLink:c=>40960==(61440&c),isChrdev:c=>8192==(61440&c),isBlkdev:c=>24576==(61440&c),isFIFO:c=>4096==(61440&c),isSocket:c=>49152==(49152&c),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:c=>{var m=E.flagModes[c];if(typeof m>"u")throw new Error("Unknown file open mode: "+c);return m},flagsToPermissionString:c=>{var m=["r","w","rw"][3&c];return 512&c&&(m+="w"),m},nodePermissions:(c,m)=>E.ignorePermissions?0:m.includes("r")&&!(292&c.mode)||m.includes("w")&&!(146&c.mode)||m.includes("x")&&!(73&c.mode)?2:0,mayLookup:c=>E.nodePermissions(c,"x")||(c.node_ops.lookup?0:2),mayCreate:(c,m)=>{try{return E.lookupNode(c,m),20}catch{}return E.nodePermissions(c,"wx")},mayDelete:(c,m,b)=>{var x;try{x=E.lookupNode(c,m)}catch(_e){return _e.errno}var G=E.nodePermissions(c,"wx");if(G)return G;if(b){if(!E.isDir(x.mode))return 54;if(E.isRoot(x)||E.getPath(x)===E.cwd())return 10}else if(E.isDir(x.mode))return 31;return 0},mayOpen:(c,m)=>c?E.isLink(c.mode)?32:E.isDir(c.mode)&&("r"!==E.flagsToPermissionString(m)||512&m)?31:E.nodePermissions(c,E.flagsToPermissionString(m)):44,MAX_OPEN_FDS:4096,nextfd:(c=0,m=E.MAX_OPEN_FDS)=>{for(var b=c;b<=m;b++)if(!E.streams[b])return b;throw new E.ErrnoError(33)},getStream:c=>E.streams[c],createStream:(c,m,b)=>{E.FSStream||(E.FSStream=function(){this.shared={}},E.FSStream.prototype={},Object.defineProperties(E.FSStream.prototype,{object:{get:function(){return this.node},set:function(G){this.node=G}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(G){this.shared.flags=G}},position:{get:function(){return this.shared.position},set:function(G){this.shared.position=G}}})),c=Object.assign(new E.FSStream,c);var x=E.nextfd(m,b);return c.fd=x,E.streams[x]=c,c},closeStream:c=>{E.streams[c]=null},chrdev_stream_ops:{open:c=>{var m=E.getDevice(c.node.rdev);c.stream_ops=m.stream_ops,c.stream_ops.open&&c.stream_ops.open(c)},llseek:()=>{throw new E.ErrnoError(70)}},major:c=>c>>8,minor:c=>255&c,makedev:(c,m)=>c<<8|m,registerDevice:(c,m)=>{E.devices[c]={stream_ops:m}},getDevice:c=>E.devices[c],getMounts:c=>{for(var m=[],b=[c];b.length;){var x=b.pop();m.push(x),b.push.apply(b,x.mounts)}return m},syncfs:(c,m)=>{"function"==typeof c&&(m=c,c=!1),E.syncFSRequests++,E.syncFSRequests>1&&q("warning: "+E.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var b=E.getMounts(E.root.mount),x=0;function G(De){return E.syncFSRequests--,m(De)}function _e(De){if(De)return _e.errored?void 0:(_e.errored=!0,G(De));++x>=b.length&&G(null)}b.forEach(De=>{if(!De.type.syncfs)return _e(null);De.type.syncfs(De,c,_e)})},mount:(c,m,b)=>{var _e,x="/"===b,G=!b;if(x&&E.root)throw new E.ErrnoError(10);if(!x&&!G){var De=E.lookupPath(b,{follow_mount:!1});if(b=De.path,E.isMountpoint(_e=De.node))throw new E.ErrnoError(10);if(!E.isDir(_e.mode))throw new E.ErrnoError(54)}var je={type:c,opts:m,mountpoint:b,mounts:[]},Dt=c.mount(je);return Dt.mount=je,je.root=Dt,x?E.root=Dt:_e&&(_e.mounted=je,_e.mount&&_e.mount.mounts.push(je)),Dt},unmount:c=>{var m=E.lookupPath(c,{follow_mount:!1});if(!E.isMountpoint(m.node))throw new E.ErrnoError(28);var b=m.node,x=b.mounted,G=E.getMounts(x);Object.keys(E.nameTable).forEach(De=>{for(var je=E.nameTable[De];je;){var Dt=je.name_next;G.includes(je.mount)&&E.destroyNode(je),je=Dt}}),b.mounted=null;var _e=b.mount.mounts.indexOf(x);b.mount.mounts.splice(_e,1)},lookup:(c,m)=>c.node_ops.lookup(c,m),mknod:(c,m,b)=>{var G=E.lookupPath(c,{parent:!0}).node,_e=Vt.basename(c);if(!_e||"."===_e||".."===_e)throw new E.ErrnoError(28);var De=E.mayCreate(G,_e);if(De)throw new E.ErrnoError(De);if(!G.node_ops.mknod)throw new E.ErrnoError(63);return G.node_ops.mknod(G,_e,m,b)},create:(c,m)=>(m=void 0!==m?m:438,m&=4095,E.mknod(c,m|=32768,0)),mkdir:(c,m)=>(m=void 0!==m?m:511,m&=1023,E.mknod(c,m|=16384,0)),mkdirTree:(c,m)=>{for(var b=c.split("/"),x="",G=0;G<b.length;++G)if(b[G]){x+="/"+b[G];try{E.mkdir(x,m)}catch(_e){if(20!=_e.errno)throw _e}}},mkdev:(c,m,b)=>(typeof b>"u"&&(b=m,m=438),E.mknod(c,m|=8192,b)),symlink:(c,m)=>{if(!Vn.resolve(c))throw new E.ErrnoError(44);var x=E.lookupPath(m,{parent:!0}).node;if(!x)throw new E.ErrnoError(44);var G=Vt.basename(m),_e=E.mayCreate(x,G);if(_e)throw new E.ErrnoError(_e);if(!x.node_ops.symlink)throw new E.ErrnoError(63);return x.node_ops.symlink(x,G,c)},rename:(c,m)=>{var je,Dt,b=Vt.dirname(c),x=Vt.dirname(m),G=Vt.basename(c),_e=Vt.basename(m);if(je=E.lookupPath(c,{parent:!0}).node,Dt=E.lookupPath(m,{parent:!0}).node,!je||!Dt)throw new E.ErrnoError(44);if(je.mount!==Dt.mount)throw new E.ErrnoError(75);var Qn,mn=E.lookupNode(je,G),Un=Vn.relative(c,x);if("."!==Un.charAt(0))throw new E.ErrnoError(28);if("."!==(Un=Vn.relative(m,b)).charAt(0))throw new E.ErrnoError(55);try{Qn=E.lookupNode(Dt,_e)}catch{}if(mn!==Qn){var fn=E.isDir(mn.mode),rn=E.mayDelete(je,G,fn);if(rn)throw new E.ErrnoError(rn);if(rn=Qn?E.mayDelete(Dt,_e,fn):E.mayCreate(Dt,_e))throw new E.ErrnoError(rn);if(!je.node_ops.rename)throw new E.ErrnoError(63);if(E.isMountpoint(mn)||Qn&&E.isMountpoint(Qn))throw new E.ErrnoError(10);if(Dt!==je&&(rn=E.nodePermissions(je,"w")))throw new E.ErrnoError(rn);E.hashRemoveNode(mn);try{je.node_ops.rename(mn,Dt,_e)}catch(Yn){throw Yn}finally{E.hashAddNode(mn)}}},rmdir:c=>{var b=E.lookupPath(c,{parent:!0}).node,x=Vt.basename(c),G=E.lookupNode(b,x),_e=E.mayDelete(b,x,!0);if(_e)throw new E.ErrnoError(_e);if(!b.node_ops.rmdir)throw new E.ErrnoError(63);if(E.isMountpoint(G))throw new E.ErrnoError(10);b.node_ops.rmdir(b,x),E.destroyNode(G)},readdir:c=>{var b=E.lookupPath(c,{follow:!0}).node;if(!b.node_ops.readdir)throw new E.ErrnoError(54);return b.node_ops.readdir(b)},unlink:c=>{var b=E.lookupPath(c,{parent:!0}).node;if(!b)throw new E.ErrnoError(44);var x=Vt.basename(c),G=E.lookupNode(b,x),_e=E.mayDelete(b,x,!1);if(_e)throw new E.ErrnoError(_e);if(!b.node_ops.unlink)throw new E.ErrnoError(63);if(E.isMountpoint(G))throw new E.ErrnoError(10);b.node_ops.unlink(b,x),E.destroyNode(G)},readlink:c=>{var b=E.lookupPath(c).node;if(!b)throw new E.ErrnoError(44);if(!b.node_ops.readlink)throw new E.ErrnoError(28);return Vn.resolve(E.getPath(b.parent),b.node_ops.readlink(b))},stat:(c,m)=>{var x=E.lookupPath(c,{follow:!m}).node;if(!x)throw new E.ErrnoError(44);if(!x.node_ops.getattr)throw new E.ErrnoError(63);return x.node_ops.getattr(x)},lstat:c=>E.stat(c,!0),chmod:(c,m,b)=>{var x;if(!(x="string"==typeof c?E.lookupPath(c,{follow:!b}).node:c).node_ops.setattr)throw new E.ErrnoError(63);x.node_ops.setattr(x,{mode:4095&m|-4096&x.mode,timestamp:Date.now()})},lchmod:(c,m)=>{E.chmod(c,m,!0)},fchmod:(c,m)=>{var b=E.getStream(c);if(!b)throw new E.ErrnoError(8);E.chmod(b.node,m)},chown:(c,m,b,x)=>{var G;if(!(G="string"==typeof c?E.lookupPath(c,{follow:!x}).node:c).node_ops.setattr)throw new E.ErrnoError(63);G.node_ops.setattr(G,{timestamp:Date.now()})},lchown:(c,m,b)=>{E.chown(c,m,b,!0)},fchown:(c,m,b)=>{var x=E.getStream(c);if(!x)throw new E.ErrnoError(8);E.chown(x.node,m,b)},truncate:(c,m)=>{if(m<0)throw new E.ErrnoError(28);var b;if(!(b="string"==typeof c?E.lookupPath(c,{follow:!0}).node:c).node_ops.setattr)throw new E.ErrnoError(63);if(E.isDir(b.mode))throw new E.ErrnoError(31);if(!E.isFile(b.mode))throw new E.ErrnoError(28);var G=E.nodePermissions(b,"w");if(G)throw new E.ErrnoError(G);b.node_ops.setattr(b,{size:m,timestamp:Date.now()})},ftruncate:(c,m)=>{var b=E.getStream(c);if(!b)throw new E.ErrnoError(8);if(!(2097155&b.flags))throw new E.ErrnoError(28);E.truncate(b.node,m)},utime:(c,m,b)=>{var G=E.lookupPath(c,{follow:!0}).node;G.node_ops.setattr(G,{timestamp:Math.max(m,b)})},open:(c,m,b)=>{if(""===c)throw new E.ErrnoError(44);var x;if(b=typeof b>"u"?438:b,b=64&(m="string"==typeof m?E.modeStringToFlags(m):m)?4095&b|32768:0,"object"==typeof c)x=c;else{c=Vt.normalize(c);try{x=E.lookupPath(c,{follow:!(131072&m)}).node}catch{}}var _e=!1;if(64&m)if(x){if(128&m)throw new E.ErrnoError(20)}else x=E.mknod(c,b,0),_e=!0;if(!x)throw new E.ErrnoError(44);if(E.isChrdev(x.mode)&&(m&=-513),65536&m&&!E.isDir(x.mode))throw new E.ErrnoError(54);if(!_e){var De=E.mayOpen(x,m);if(De)throw new E.ErrnoError(De)}512&m&&!_e&&E.truncate(x,0),m&=-131713;var je=E.createStream({node:x,path:E.getPath(x),flags:m,seekable:!0,position:0,stream_ops:x.stream_ops,ungotten:[],error:!1});return je.stream_ops.open&&je.stream_ops.open(je),l.logReadFiles&&!(1&m)&&(E.readFiles||(E.readFiles={}),c in E.readFiles||(E.readFiles[c]=1)),je},close:c=>{if(E.isClosed(c))throw new E.ErrnoError(8);c.getdents&&(c.getdents=null);try{c.stream_ops.close&&c.stream_ops.close(c)}catch(m){throw m}finally{E.closeStream(c.fd)}c.fd=null},isClosed:c=>null===c.fd,llseek:(c,m,b)=>{if(E.isClosed(c))throw new E.ErrnoError(8);if(!c.seekable||!c.stream_ops.llseek)throw new E.ErrnoError(70);if(0!=b&&1!=b&&2!=b)throw new E.ErrnoError(28);return c.position=c.stream_ops.llseek(c,m,b),c.ungotten=[],c.position},read:(c,m,b,x,G)=>{if(x<0||G<0)throw new E.ErrnoError(28);if(E.isClosed(c))throw new E.ErrnoError(8);if(1==(2097155&c.flags))throw new E.ErrnoError(8);if(E.isDir(c.node.mode))throw new E.ErrnoError(31);if(!c.stream_ops.read)throw new E.ErrnoError(28);var _e=typeof G<"u";if(_e){if(!c.seekable)throw new E.ErrnoError(70)}else G=c.position;var De=c.stream_ops.read(c,m,b,x,G);return _e||(c.position+=De),De},write:(c,m,b,x,G,_e)=>{if(x<0||G<0)throw new E.ErrnoError(28);if(E.isClosed(c))throw new E.ErrnoError(8);if(!(2097155&c.flags))throw new E.ErrnoError(8);if(E.isDir(c.node.mode))throw new E.ErrnoError(31);if(!c.stream_ops.write)throw new E.ErrnoError(28);c.seekable&&1024&c.flags&&E.llseek(c,0,2);var De=typeof G<"u";if(De){if(!c.seekable)throw new E.ErrnoError(70)}else G=c.position;var je=c.stream_ops.write(c,m,b,x,G,_e);return De||(c.position+=je),je},allocate:(c,m,b)=>{if(E.isClosed(c))throw new E.ErrnoError(8);if(m<0||b<=0)throw new E.ErrnoError(28);if(!(2097155&c.flags))throw new E.ErrnoError(8);if(!E.isFile(c.node.mode)&&!E.isDir(c.node.mode))throw new E.ErrnoError(43);if(!c.stream_ops.allocate)throw new E.ErrnoError(138);c.stream_ops.allocate(c,m,b)},mmap:(c,m,b,x,G)=>{if(2&x&&!(2&G)&&2!=(2097155&c.flags))throw new E.ErrnoError(2);if(1==(2097155&c.flags))throw new E.ErrnoError(2);if(!c.stream_ops.mmap)throw new E.ErrnoError(43);return c.stream_ops.mmap(c,m,b,x,G)},msync:(c,m,b,x,G)=>c.stream_ops.msync?c.stream_ops.msync(c,m,b,x,G):0,munmap:c=>0,ioctl:(c,m,b)=>{if(!c.stream_ops.ioctl)throw new E.ErrnoError(59);return c.stream_ops.ioctl(c,m,b)},readFile:(c,m={})=>{if(m.flags=m.flags||0,m.encoding=m.encoding||"binary","utf8"!==m.encoding&&"binary"!==m.encoding)throw new Error('Invalid encoding type "'+m.encoding+'"');var b,x=E.open(c,m.flags),_e=E.stat(c).size,De=new Uint8Array(_e);return E.read(x,De,0,_e,0),"utf8"===m.encoding?b=Xe(De,0):"binary"===m.encoding&&(b=De),E.close(x),b},writeFile:(c,m,b={})=>{b.flags=b.flags||577;var x=E.open(c,b.flags,b.mode);if("string"==typeof m){var G=new Uint8Array(ee(m)+1),_e=Me(m,G,0,G.length);E.write(x,G,0,_e,void 0,b.canOwn)}else{if(!ArrayBuffer.isView(m))throw new Error("Unsupported data type");E.write(x,m,0,m.byteLength,void 0,b.canOwn)}E.close(x)},cwd:()=>E.currentPath,chdir:c=>{var m=E.lookupPath(c,{follow:!0});if(null===m.node)throw new E.ErrnoError(44);if(!E.isDir(m.node.mode))throw new E.ErrnoError(54);var b=E.nodePermissions(m.node,"x");if(b)throw new E.ErrnoError(b);E.currentPath=m.path},createDefaultDirectories:()=>{E.mkdir("/tmp"),E.mkdir("/home"),E.mkdir("/home/web_user")},createDefaultDevices:()=>{E.mkdir("/dev"),E.registerDevice(E.makedev(1,3),{read:()=>0,write:(m,b,x,G,_e)=>G}),E.mkdev("/dev/null",E.makedev(1,3)),dt.register(E.makedev(5,0),dt.default_tty_ops),dt.register(E.makedev(6,0),dt.default_tty1_ops),E.mkdev("/dev/tty",E.makedev(5,0)),E.mkdev("/dev/tty1",E.makedev(6,0));var c=function _r(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var c=new Uint8Array(1);return()=>(crypto.getRandomValues(c),c[0])}return()=>lr("randomDevice")}();E.createDevice("/dev","random",c),E.createDevice("/dev","urandom",c),E.mkdir("/dev/shm"),E.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{E.mkdir("/proc");var c=E.mkdir("/proc/self");E.mkdir("/proc/self/fd"),E.mount({mount:()=>{var m=E.createNode(c,"fd",16895,73);return m.node_ops={lookup:(b,x)=>{var _e=E.getStream(+x);if(!_e)throw new E.ErrnoError(8);var De={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>_e.path}};return De.parent=De,De}},m}},{},"/proc/self/fd")},createStandardStreams:()=>{l.stdin?E.createDevice("/dev","stdin",l.stdin):E.symlink("/dev/tty","/dev/stdin"),l.stdout?E.createDevice("/dev","stdout",null,l.stdout):E.symlink("/dev/tty","/dev/stdout"),l.stderr?E.createDevice("/dev","stderr",null,l.stderr):E.symlink("/dev/tty1","/dev/stderr"),E.open("/dev/stdin",0),E.open("/dev/stdout",1),E.open("/dev/stderr",1)},ensureErrnoError:()=>{E.ErrnoError||(E.ErrnoError=function(m,b){this.node=b,this.setErrno=function(x){this.errno=x},this.setErrno(m),this.message="FS error"},E.ErrnoError.prototype=new Error,E.ErrnoError.prototype.constructor=E.ErrnoError,[44].forEach(c=>{E.genericErrors[c]=new E.ErrnoError(c),E.genericErrors[c].stack="<generic error, no stack>"}))},staticInit:()=>{E.ensureErrnoError(),E.nameTable=new Array(4096),E.mount(p,{},"/"),E.createDefaultDirectories(),E.createDefaultDevices(),E.createSpecialDirectories(),E.filesystems={MEMFS:p}},init:(c,m,b)=>{E.init.initialized=!0,E.ensureErrnoError(),l.stdin=c||l.stdin,l.stdout=m||l.stdout,l.stderr=b||l.stderr,E.createStandardStreams()},quit:()=>{E.init.initialized=!1;for(var c=0;c<E.streams.length;c++){var m=E.streams[c];m&&E.close(m)}},getMode:(c,m)=>{var b=0;return c&&(b|=365),m&&(b|=146),b},findObject:(c,m)=>{var b=E.analyzePath(c,m);return b.exists?b.object:null},analyzePath:(c,m)=>{try{c=(b=E.lookupPath(c,{follow:!m})).path}catch{}var x={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var b=E.lookupPath(c,{parent:!0});x.parentExists=!0,x.parentPath=b.path,x.parentObject=b.node,x.name=Vt.basename(c),b=E.lookupPath(c,{follow:!m}),x.exists=!0,x.path=b.path,x.object=b.node,x.name=b.node.name,x.isRoot="/"===b.path}catch(G){x.error=G.errno}return x},createPath:(c,m,b,x)=>{c="string"==typeof c?c:E.getPath(c);for(var G=m.split("/").reverse();G.length;){var _e=G.pop();if(_e){var De=Vt.join2(c,_e);try{E.mkdir(De)}catch{}c=De}}return De},createFile:(c,m,b,x,G)=>{var _e=Vt.join2("string"==typeof c?c:E.getPath(c),m),De=E.getMode(x,G);return E.create(_e,De)},createDataFile:(c,m,b,x,G,_e)=>{var De=m;c&&(c="string"==typeof c?c:E.getPath(c),De=m?Vt.join2(c,m):c);var je=E.getMode(x,G),Dt=E.create(De,je);if(b){if("string"==typeof b){for(var mn=new Array(b.length),Un=0,Qn=b.length;Un<Qn;++Un)mn[Un]=b.charCodeAt(Un);b=mn}E.chmod(Dt,146|je);var fn=E.open(Dt,577);E.write(fn,b,0,b.length,0,_e),E.close(fn),E.chmod(Dt,je)}return Dt},createDevice:(c,m,b,x)=>{var G=Vt.join2("string"==typeof c?c:E.getPath(c),m),_e=E.getMode(!!b,!!x);E.createDevice.major||(E.createDevice.major=64);var De=E.makedev(E.createDevice.major++,0);return E.registerDevice(De,{open:je=>{je.seekable=!1},close:je=>{x&&x.buffer&&x.buffer.length&&x(10)},read:(je,Dt,mn,Un,Qn)=>{for(var fn=0,rn=0;rn<Un;rn++){var Yn;try{Yn=b()}catch{throw new E.ErrnoError(29)}if(void 0===Yn&&0===fn)throw new E.ErrnoError(6);if(null==Yn)break;fn++,Dt[mn+rn]=Yn}return fn&&(je.node.timestamp=Date.now()),fn},write:(je,Dt,mn,Un,Qn)=>{for(var fn=0;fn<Un;fn++)try{x(Dt[mn+fn])}catch{throw new E.ErrnoError(29)}return Un&&(je.node.timestamp=Date.now()),fn}}),E.mkdev(G,_e,De)},forceLoadFile:c=>{if(c.isDevice||c.isFolder||c.link||c.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!j)throw new Error("Cannot load without read() or XMLHttpRequest.");try{c.contents=Do(j(c.url),!0),c.usedBytes=c.contents.length}catch{throw new E.ErrnoError(29)}},createLazyFile:(c,m,b,x,G)=>{function _e(){this.lengthKnown=!1,this.chunks=[]}if(_e.prototype.get=function(rn){if(!(rn>this.length-1||rn<0)){var Yn=rn%this.chunkSize;return this.getter(rn/this.chunkSize|0)[Yn]}},_e.prototype.setDataGetter=function(rn){this.getter=rn},_e.prototype.cacheLength=function(){var rn=new XMLHttpRequest;if(rn.open("HEAD",b,!1),rn.send(null),!(rn.status>=200&&rn.status<300||304===rn.status))throw new Error("Couldn't load "+b+". Status: "+rn.status);var xo,Yn=Number(rn.getResponseHeader("Content-length")),Gr=(xo=rn.getResponseHeader("Accept-Ranges"))&&"bytes"===xo,Co=(xo=rn.getResponseHeader("Content-Encoding"))&&"gzip"===xo,lt=1048576;Gr||(lt=Yn);var Wo=this;Wo.setDataGetter(Yr=>{var Is=Yr*lt,No=(Yr+1)*lt-1;if(No=Math.min(No,Yn-1),typeof Wo.chunks[Yr]>"u"&&(Wo.chunks[Yr]=((Yr,Is)=>{if(Yr>Is)throw new Error("invalid range ("+Yr+", "+Is+") or no bytes requested!");if(Is>Yn-1)throw new Error("only "+Yn+" bytes available! programmer error!");var No=new XMLHttpRequest;if(No.open("GET",b,!1),Yn!==lt&&No.setRequestHeader("Range","bytes="+Yr+"-"+Is),No.responseType="arraybuffer",No.overrideMimeType&&No.overrideMimeType("text/plain; charset=x-user-defined"),No.send(null),!(No.status>=200&&No.status<300||304===No.status))throw new Error("Couldn't load "+b+". Status: "+No.status);return void 0!==No.response?new Uint8Array(No.response||[]):Do(No.responseText||"",!0)})(Is,No)),typeof Wo.chunks[Yr]>"u")throw new Error("doXHR failed!");return Wo.chunks[Yr]}),(Co||!Yn)&&(lt=Yn=1,Yn=this.getter(0).length,lt=Yn,W("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Yn,this._chunkSize=lt,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!Y)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var De=new _e;Object.defineProperties(De,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var je={isDevice:!1,contents:De}}else je={isDevice:!1,url:b};var Dt=E.createFile(c,m,je,x,G);je.contents?Dt.contents=je.contents:je.url&&(Dt.contents=null,Dt.url=je.url),Object.defineProperties(Dt,{usedBytes:{get:function(){return this.contents.length}}});var mn={};function Qn(fn,rn,Yn,xo,Gr){var Co=fn.node.contents;if(Gr>=Co.length)return 0;var lt=Math.min(Co.length-Gr,xo);if(Co.slice)for(var gn=0;gn<lt;gn++)rn[Yn+gn]=Co[Gr+gn];else for(gn=0;gn<lt;gn++)rn[Yn+gn]=Co.get(Gr+gn);return lt}return Object.keys(Dt.stream_ops).forEach(fn=>{var rn=Dt.stream_ops[fn];mn[fn]=function(){return E.forceLoadFile(Dt),rn.apply(null,arguments)}}),mn.read=(fn,rn,Yn,xo,Gr)=>(E.forceLoadFile(Dt),Qn(fn,rn,Yn,xo,Gr)),mn.mmap=(fn,rn,Yn,xo,Gr)=>{E.forceLoadFile(Dt);var Co=Ar();if(!Co)throw new E.ErrnoError(48);return Qn(fn,Qe,Co,rn,Yn),{ptr:Co,allocated:!0}},Dt.stream_ops=mn,Dt},createPreloadedFile:(c,m,b,x,G,_e,De,je,Dt,mn)=>{var Un=m?Vn.resolve(Vt.join2(c,m)):c;function fn(rn){function Yn(xo){mn&&mn(),je||E.createDataFile(c,m,xo,x,G,Dt),_e&&_e(),Hr()}Browser.handledByPreloadPlugin(rn,Un,Yn,()=>{De&&De(),Hr()})||Yn(rn)}oo(),"string"==typeof b?function Tn(c,m,b,x){var G=x?"":"al "+c;Pe(c,_e=>{be(_e,'Loading data file "'+c+'" failed (no arrayBuffer).'),m(new Uint8Array(_e)),G&&Hr()},_e=>{if(!b)throw'Loading data file "'+c+'" failed.';b()}),G&&oo()}(b,rn=>fn(rn),De):fn(b)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(c,m,b)=>{m=m||(()=>{}),b=b||(()=>{});var x=E.indexedDB();try{var G=x.open(E.DB_NAME(),E.DB_VERSION)}catch(_e){return b(_e)}G.onupgradeneeded=()=>{W("creating db"),G.result.createObjectStore(E.DB_STORE_NAME)},G.onsuccess=()=>{var De=G.result.transaction([E.DB_STORE_NAME],"readwrite"),je=De.objectStore(E.DB_STORE_NAME),Dt=0,mn=0,Un=c.length;function Qn(){0==mn?m():b()}c.forEach(fn=>{var rn=je.put(E.analyzePath(fn).object.contents,fn);rn.onsuccess=()=>{++Dt+mn==Un&&Qn()},rn.onerror=()=>{mn++,Dt+mn==Un&&Qn()}}),De.onerror=b},G.onerror=b},loadFilesFromDB:(c,m,b)=>{m=m||(()=>{}),b=b||(()=>{});var x=E.indexedDB();try{var G=x.open(E.DB_NAME(),E.DB_VERSION)}catch(_e){return b(_e)}G.onupgradeneeded=b,G.onsuccess=()=>{var _e=G.result;try{var De=_e.transaction([E.DB_STORE_NAME],"readonly")}catch(fn){return void b(fn)}var je=De.objectStore(E.DB_STORE_NAME),Dt=0,mn=0,Un=c.length;function Qn(){0==mn?m():b()}c.forEach(fn=>{var rn=je.get(fn);rn.onsuccess=()=>{E.analyzePath(fn).exists&&E.unlink(fn),E.createDataFile(Vt.dirname(fn),Vt.basename(fn),rn.result,!0,!0,!0),++Dt+mn==Un&&Qn()},rn.onerror=()=>{mn++,Dt+mn==Un&&Qn()}}),De.onerror=b},G.onerror=b}},Rn={DEFAULT_POLLMASK:5,calculateAt:function(c,m,b){if(Vt.isAbs(m))return m;var x;if(x=-100===c?E.cwd():Rn.getStreamFromFD(c).path,0==m.length){if(!b)throw new E.ErrnoError(44);return x}return Vt.join2(x,m)},doStat:function(c,m,b){try{var x=c(m)}catch(G){if(G&&G.node&&Vt.normalize(m)!==Vt.normalize(E.getPath(G.node)))return-54;throw G}return F[b>>2]=x.dev,F[b+8>>2]=x.ino,F[b+12>>2]=x.mode,me[b+16>>2]=x.nlink,F[b+20>>2]=x.uid,F[b+24>>2]=x.gid,F[b+28>>2]=x.rdev,ae=[x.size>>>0,(at=x.size,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],F[b+40>>2]=ae[0],F[b+44>>2]=ae[1],F[b+48>>2]=4096,F[b+52>>2]=x.blocks,ae=[Math.floor(x.atime.getTime()/1e3)>>>0,(at=Math.floor(x.atime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],F[b+56>>2]=ae[0],F[b+60>>2]=ae[1],me[b+64>>2]=0,ae=[Math.floor(x.mtime.getTime()/1e3)>>>0,(at=Math.floor(x.mtime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],F[b+72>>2]=ae[0],F[b+76>>2]=ae[1],me[b+80>>2]=0,ae=[Math.floor(x.ctime.getTime()/1e3)>>>0,(at=Math.floor(x.ctime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],F[b+88>>2]=ae[0],F[b+92>>2]=ae[1],me[b+96>>2]=0,ae=[x.ino>>>0,(at=x.ino,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],F[b+104>>2]=ae[0],F[b+108>>2]=ae[1],0},doMsync:function(c,m,b,x,G){if(!E.isFile(m.node.mode))throw new E.ErrnoError(43);if(2&x)return 0;var _e=bt.slice(c,c+b);E.msync(m,_e,G,b,x)},varargs:void 0,get:function(){return Rn.varargs+=4,F[Rn.varargs-4>>2]},getStr:function(c){return Te(c)},getStreamFromFD:function(c){var m=E.getStream(c);if(!m)throw new E.ErrnoError(8);return m}};function ei(c){return c%4==0&&(c%100!=0||c%400==0)}var Zi=[0,31,60,91,121,152,182,213,244,274,305,335],yi=[0,31,59,90,120,151,181,212,243,273,304,334];function yo(c){return(ei(c.getFullYear())?Zi:yi)[c.getMonth()]+c.getDate()-1}function ti(c){var m=ee(c)+1,b=ya(m);return b&&Me(c,Qe,b,m),b}var ci=[];function cs(c){try{return ue.grow(c-Ue.byteLength+65535>>>16),Ve(ue.buffer),1}catch{}}var Fi={};function ui(){if(!ui.strings){var m={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:N||"./this.program"};for(var b in Fi)void 0===Fi[b]?delete m[b]:m[b]=Fi[b];var x=[];for(var b in m)x.push(b+"="+m[b]);ui.strings=x}return ui.strings}var he=[31,29,31,30,31,30,31,31,30,31,30,31],Se=[31,28,31,30,31,30,31,31,30,31,30,31];function Bt(c,m){c<128?m.push(c):m.push(c%128|128,c>>7)}var ho=[];function Vo(c){var m=ho[c];return m||(c>=ho.length&&(ho.length=c+1),ho[c]=m=ge.get(c)),m}var Nr=void 0,ds=[];function Qa(c,m){ge.set(c,m),ho[c]=ge.get(c)}var Ja=function(c,m,b,x){c||(c=this),this.parent=c,this.mount=c.mount,this.mounted=null,this.id=E.nextInode++,this.name=m,this.mode=b,this.node_ops={},this.stream_ops={},this.rdev=x};Object.defineProperties(Ja.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(c){c?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(c){c?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return E.isDir(this.mode)}},isDevice:{get:function(){return E.isChrdev(this.mode)}}}),E.FSNode=Ja,E.staticInit();var wc,$l={b:function pt(c,m,b,x){lr("Assertion failed: "+Te(c)+", at: "+[m?Te(m):"unknown filename",b,x?Te(x):"unknown function"])},i:function Pn(c){const m=new Error(Te(c));throw m.isAssert=!0,m},k:function zi(c,m,b){try{var x=fo(m,b);return isNaN(x)?-61:(E.ftruncate(c,x),0)}catch(G){if(typeof E>"u"||!(G instanceof E.ErrnoError))throw G;return-G.errno}},e:function Po(){return!0},f:function vi(c,m){var b=new Date(1e3*function Wi(c){return me[c>>2]+4294967296*F[c+4>>2]}(c));F[m>>2]=b.getSeconds(),F[m+4>>2]=b.getMinutes(),F[m+8>>2]=b.getHours(),F[m+12>>2]=b.getDate(),F[m+16>>2]=b.getMonth(),F[m+20>>2]=b.getFullYear()-1900,F[m+24>>2]=b.getDay();var x=0|yo(b);F[m+28>>2]=x,F[m+36>>2]=-60*b.getTimezoneOffset();var G=new Date(b.getFullYear(),0,1),_e=new Date(b.getFullYear(),6,1).getTimezoneOffset(),De=G.getTimezoneOffset(),je=0|(_e!=De&&b.getTimezoneOffset()==Math.min(De,_e));F[m+32>>2]=je},g:function yr(c){var m=new Date(F[c+20>>2]+1900,F[c+16>>2],F[c+12>>2],F[c+8>>2],F[c+4>>2],F[c>>2],0),b=F[c+32>>2],x=m.getTimezoneOffset(),G=new Date(m.getFullYear(),0,1),_e=new Date(m.getFullYear(),6,1).getTimezoneOffset(),De=G.getTimezoneOffset(),je=Math.min(De,_e);if(b<0)F[c+32>>2]=Number(_e!=De&&je==x);else if(b>0!=(je==x)){var Dt=Math.max(De,_e),mn=b>0?je:Dt;m.setTime(m.getTime()+6e4*(mn-x))}F[c+24>>2]=m.getDay();var Un=0|yo(m);return F[c+28>>2]=Un,F[c>>2]=m.getSeconds(),F[c+4>>2]=m.getMinutes(),F[c+8>>2]=m.getHours(),F[c+12>>2]=m.getDate(),F[c+16>>2]=m.getMonth(),F[c+20>>2]=m.getYear(),m.getTime()/1e3|0},h:function po(c,m,b){var x=(new Date).getFullYear(),G=new Date(x,0,1),_e=new Date(x,6,1),De=G.getTimezoneOffset(),je=_e.getTimezoneOffset(),Dt=Math.max(De,je);function mn(Yn){var xo=Yn.toTimeString().match(/\(([A-Za-z ]+)\)$/);return xo?xo[1]:"GMT"}me[c>>2]=60*Dt,F[m>>2]=Number(De!=je);var Un=mn(G),Qn=mn(_e),fn=ti(Un),rn=ti(Qn);je<De?(me[b>>2]=fn,me[b+4>>2]=rn):(me[b>>2]=rn,me[b+4>>2]=fn)},a:function bi(){lr("")},s:function io(c,m,b){var x=function Ro(c,m){var b;for(ci.length=0,m>>=2;b=bt[c++];)m+=105!=b&m,ci.push(105==b?F[m]:tt[m++>>1]),++m;return ci}(m,b);return He[c].apply(null,x)},c:function $s(){return Date.now()},p:function Ri(c,m,b){bt.copyWithin(c,m,m+b)},o:function ko(c){var Dt,m=bt.length,b=2147483648;if((c>>>=0)>b)return!1;for(var G=1;G<=4;G*=2){var _e=m*(1+.2/G);if(_e=Math.min(_e,c+100663296),cs(Math.min(b,(Dt=Math.max(c,_e))+(65536-Dt%65536)%65536)))return!0}return!1},m:function Vs(c,m){var b=0;return ui().forEach(function(x,G){var _e=m+b;me[c+4*G>>2]=_e,function us(c,m,b){for(var x=0;x<c.length;++x)Qe[m++>>0]=c.charCodeAt(x);b||(Qe[m>>0]=0)}(x,_e),b+=x.length+1}),0},n:function Us(c,m){var b=ui();me[c>>2]=b.length;var x=0;return b.forEach(function(G){x+=G.length+1}),me[m>>2]=x,0},q:function vr(c){try{var m=Rn.getStreamFromFD(c);return E.close(m),0}catch(b){if(typeof E>"u"||!(b instanceof E.ErrnoError))throw b;return b.errno}},d:function ws(c,m,b,x){try{var _e=function Ci(c,m,b,x){for(var G=0,_e=0;_e<b;_e++){var De=me[m>>2],je=me[m+4>>2];m+=8;var Dt=E.read(c,Qe,De,je,x);if(Dt<0)return-1;if(G+=Dt,Dt<je)break}return G}(Rn.getStreamFromFD(c),m,b);return me[x>>2]=_e,0}catch(De){if(typeof E>"u"||!(De instanceof E.ErrnoError))throw De;return De.errno}},j:function qi(c,m,b,x,G){try{var _e=fo(m,b);if(isNaN(_e))return 61;var De=Rn.getStreamFromFD(c);return E.llseek(De,_e,x),ae=[De.position>>>0,(at=De.position,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],F[G>>2]=ae[0],F[G+4>>2]=ae[1],De.getdents&&0===_e&&0===x&&(De.getdents=null),0}catch(je){if(typeof E>"u"||!(je instanceof E.ErrnoError))throw je;return je.errno}},r:function M(c,m,b,x){try{var _e=function nr(c,m,b,x){for(var G=0,_e=0;_e<b;_e++){var De=me[m>>2],je=me[m+4>>2];m+=8;var Dt=E.write(c,Qe,De,je,x);if(Dt<0)return-1;G+=Dt}return G}(Rn.getStreamFromFD(c),m,b);return me[x>>2]=_e,0}catch(De){if(typeof E>"u"||!(De instanceof E.ErrnoError))throw De;return De.errno}},l:function ke(c,m,b,x,G){return function fe(c,m,b,x){var G=F[x+40>>2],_e={tm_sec:F[x>>2],tm_min:F[x+4>>2],tm_hour:F[x+8>>2],tm_mday:F[x+12>>2],tm_mon:F[x+16>>2],tm_year:F[x+20>>2],tm_wday:F[x+24>>2],tm_yday:F[x+28>>2],tm_isdst:F[x+32>>2],tm_gmtoff:F[x+36>>2],tm_zone:G?Te(G):""},De=Te(b),je={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Dt in je)De=De.replace(new RegExp(Dt,"g"),je[Dt]);var mn=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Un=["January","February","March","April","May","June","July","August","September","October","November","December"];function Qn(lt,gn,Wo){for(var Yr="number"==typeof lt?lt.toString():lt||"";Yr.length<gn;)Yr=Wo[0]+Yr;return Yr}function fn(lt,gn){return Qn(lt,gn,"0")}function rn(lt,gn){function Wo(Is){return Is<0?-1:Is>0?1:0}var Yr;return 0===(Yr=Wo(lt.getFullYear()-gn.getFullYear()))&&0===(Yr=Wo(lt.getMonth()-gn.getMonth()))&&(Yr=Wo(lt.getDate()-gn.getDate())),Yr}function Yn(lt){switch(lt.getDay()){case 0:return new Date(lt.getFullYear()-1,11,29);case 1:return lt;case 2:return new Date(lt.getFullYear(),0,3);case 3:return new Date(lt.getFullYear(),0,2);case 4:return new Date(lt.getFullYear(),0,1);case 5:return new Date(lt.getFullYear()-1,11,31);case 6:return new Date(lt.getFullYear()-1,11,30)}}function xo(lt){var gn=function Oe(c,m){for(var b=new Date(c.getTime());m>0;){var x=ei(b.getFullYear()),G=b.getMonth(),_e=(x?he:Se)[G];if(!(m>_e-b.getDate()))return b.setDate(b.getDate()+m),b;m-=_e-b.getDate()+1,b.setDate(1),G<11?b.setMonth(G+1):(b.setMonth(0),b.setFullYear(b.getFullYear()+1))}return b}(new Date(lt.tm_year+1900,0,1),lt.tm_yday),Wo=new Date(gn.getFullYear(),0,4),Yr=new Date(gn.getFullYear()+1,0,4),Is=Yn(Wo),No=Yn(Yr);return rn(Is,gn)<=0?rn(No,gn)<=0?gn.getFullYear()+1:gn.getFullYear():gn.getFullYear()-1}var Gr={"%a":function(lt){return mn[lt.tm_wday].substring(0,3)},"%A":function(lt){return mn[lt.tm_wday]},"%b":function(lt){return Un[lt.tm_mon].substring(0,3)},"%B":function(lt){return Un[lt.tm_mon]},"%C":function(lt){return fn((lt.tm_year+1900)/100|0,2)},"%d":function(lt){return fn(lt.tm_mday,2)},"%e":function(lt){return Qn(lt.tm_mday,2," ")},"%g":function(lt){return xo(lt).toString().substring(2)},"%G":function(lt){return xo(lt)},"%H":function(lt){return fn(lt.tm_hour,2)},"%I":function(lt){var gn=lt.tm_hour;return 0==gn?gn=12:gn>12&&(gn-=12),fn(gn,2)},"%j":function(lt){return fn(lt.tm_mday+function O(c,m){for(var b=0,x=0;x<=m;b+=c[x++]);return b}(ei(lt.tm_year+1900)?he:Se,lt.tm_mon-1),3)},"%m":function(lt){return fn(lt.tm_mon+1,2)},"%M":function(lt){return fn(lt.tm_min,2)},"%n":function(){return"\n"},"%p":function(lt){return lt.tm_hour>=0&&lt.tm_hour<12?"AM":"PM"},"%S":function(lt){return fn(lt.tm_sec,2)},"%t":function(){return"\t"},"%u":function(lt){return lt.tm_wday||7},"%U":function(lt){return fn(Math.floor((lt.tm_yday+7-lt.tm_wday)/7),2)},"%V":function(lt){var gn=Math.floor((lt.tm_yday+7-(lt.tm_wday+6)%7)/7);if((lt.tm_wday+371-lt.tm_yday-2)%7<=2&&gn++,gn){if(53==gn){var Yr=(lt.tm_wday+371-lt.tm_yday)%7;4!=Yr&&(3!=Yr||!ei(lt.tm_year))&&(gn=1)}}else{gn=52;var Wo=(lt.tm_wday+7-lt.tm_yday-1)%7;(4==Wo||5==Wo&&ei(lt.tm_year%400-1))&&gn++}return fn(gn,2)},"%w":function(lt){return lt.tm_wday},"%W":function(lt){return fn(Math.floor((lt.tm_yday+7-(lt.tm_wday+6)%7)/7),2)},"%y":function(lt){return(lt.tm_year+1900).toString().substring(2)},"%Y":function(lt){return lt.tm_year+1900},"%z":function(lt){var gn=lt.tm_gmtoff,Wo=gn>=0;return gn=(gn=Math.abs(gn)/60)/60*100+gn%60,(Wo?"+":"-")+String("0000"+gn).slice(-4)},"%Z":function(lt){return lt.tm_zone},"%%":function(){return"%"}};for(var Dt in De=De.replace(/%%/g,"\0\0"),Gr)De.includes(Dt)&&(De=De.replace(new RegExp(Dt,"g"),Gr[Dt](_e)));var Co=Do(De=De.replace(/\0\0/g,"%"),!1);return Co.length>m?0:(function R(c,m){Qe.set(c,m)}(Co,c),Co.length-1)}(c,m,b,x)}},ya=(function Jr(){var c={a:$l};function m(De,je){l.asm=De.exports,Ve((ue=l.asm.t).buffer),ge=l.asm.uc,function co(c){Ae.unshift(c)}(l.asm.u),Hr()}function b(De){m(De.instance)}function x(De){return function ls(){return de||!ce&&!Y||"function"!=typeof fetch?Promise.resolve().then(function(){return uo(pn)}):fetch(pn,{credentials:"same-origin"}).then(function(c){if(!c.ok)throw"failed to load wasm binary file at '"+pn+"'";return c.arrayBuffer()}).catch(function(){return uo(pn)})}().then(function(je){return WebAssembly.instantiate(je,c)}).then(function(je){return je}).then(De,function(je){q("failed to asynchronously prepare wasm: "+je),lr(je)})}if(oo(),l.instantiateWasm)try{return l.instantiateWasm(c,m)}catch(De){q("Module.instantiateWasm callback failed with error: "+De),J(De)}(function G(){return de||"function"!=typeof WebAssembly.instantiateStreaming||_o(pn)||"function"!=typeof fetch?x(b):fetch(pn,{credentials:"same-origin"}).then(function(De){return WebAssembly.instantiateStreaming(De,c).then(b,function(Dt){return q("wasm streaming compile failed: "+Dt),q("falling back to ArrayBuffer instantiation"),x(b)})})})().catch(J)}(),l.___wasm_call_ctors=function(){return(l.___wasm_call_ctors=l.asm.u).apply(null,arguments)},l._malloc=function(){return(ya=l._malloc=l.asm.v).apply(null,arguments)}),Zn=(l._free=function(){return(l._free=l.asm.w).apply(null,arguments)},l._main=function(){return(l._main=l.asm.x).apply(null,arguments)},l._emscripten_bind_VoidPtr___destroy___0=function(){return(Zn=l._emscripten_bind_VoidPtr___destroy___0=l.asm.y).apply(null,arguments)}),el=l._emscripten_bind_Cloudpilot_Cloudpilot_0=function(){return(el=l._emscripten_bind_Cloudpilot_Cloudpilot_0=l.asm.z).apply(null,arguments)},tl=l._emscripten_bind_Cloudpilot_Malloc_1=function(){return(tl=l._emscripten_bind_Cloudpilot_Malloc_1=l.asm.A).apply(null,arguments)},nl=l._emscripten_bind_Cloudpilot_Free_1=function(){return(nl=l._emscripten_bind_Cloudpilot_Free_1=l.asm.B).apply(null,arguments)},mt=l._emscripten_bind_Cloudpilot_Nullptr_0=function(){return(mt=l._emscripten_bind_Cloudpilot_Nullptr_0=l.asm.C).apply(null,arguments)},rl=l._emscripten_bind_Cloudpilot_InitializeSession_3=function(){return(rl=l._emscripten_bind_Cloudpilot_InitializeSession_3=l.asm.D).apply(null,arguments)},Er=l._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=function(){return(Er=l._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=l.asm.E).apply(null,arguments)},Ss=l._emscripten_bind_Cloudpilot_RunEmulation_1=function(){return(Ss=l._emscripten_bind_Cloudpilot_RunEmulation_1=l.asm.F).apply(null,arguments)},va=l._emscripten_bind_Cloudpilot_SetClockFactor_1=function(){return(va=l._emscripten_bind_Cloudpilot_SetClockFactor_1=l.asm.G).apply(null,arguments)},ta=l._emscripten_bind_Cloudpilot_CopyFrame_0=function(){return(ta=l._emscripten_bind_Cloudpilot_CopyFrame_0=l.asm.H).apply(null,arguments)},ba=l._emscripten_bind_Cloudpilot_IsScreenDirty_0=function(){return(ba=l._emscripten_bind_Cloudpilot_IsScreenDirty_0=l.asm.I).apply(null,arguments)},Ca=l._emscripten_bind_Cloudpilot_MarkScreenClean_0=function(){return(Ca=l._emscripten_bind_Cloudpilot_MarkScreenClean_0=l.asm.J).apply(null,arguments)},na=l._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=function(){return(na=l._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=l.asm.K).apply(null,arguments)},Es=l._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=function(){return(Es=l._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=l.asm.L).apply(null,arguments)},js=l._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=function(){return(js=l._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=l.asm.M).apply(null,arguments)},ra=l._emscripten_bind_Cloudpilot_QueuePenMove_2=function(){return(ra=l._emscripten_bind_Cloudpilot_QueuePenMove_2=l.asm.N).apply(null,arguments)},wa=l._emscripten_bind_Cloudpilot_QueuePenUp_0=function(){return(wa=l._emscripten_bind_Cloudpilot_QueuePenUp_0=l.asm.O).apply(null,arguments)},dn=l._emscripten_bind_Cloudpilot_QueueButtonDown_1=function(){return(dn=l._emscripten_bind_Cloudpilot_QueueButtonDown_1=l.asm.P).apply(null,arguments)},Gs=l._emscripten_bind_Cloudpilot_QueueButtonUp_1=function(){return(Gs=l._emscripten_bind_Cloudpilot_QueueButtonUp_1=l.asm.Q).apply(null,arguments)},ol=l._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=function(){return(ol=l._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=l.asm.R).apply(null,arguments)},jo=l._emscripten_bind_Cloudpilot_IsPowerOff_0=function(){return(jo=l._emscripten_bind_Cloudpilot_IsPowerOff_0=l.asm.S).apply(null,arguments)},il=l._emscripten_bind_Cloudpilot_IsUIInitialized_0=function(){return(il=l._emscripten_bind_Cloudpilot_IsUIInitialized_0=l.asm.T).apply(null,arguments)},yc=l._emscripten_bind_Cloudpilot_GetOSVersion_0=function(){return(yc=l._emscripten_bind_Cloudpilot_GetOSVersion_0=l.asm.U).apply(null,arguments)},rr=l._emscripten_bind_Cloudpilot_IsSetupComplete_0=function(){return(rr=l._emscripten_bind_Cloudpilot_IsSetupComplete_0=l.asm.V).apply(null,arguments)},jl=l._emscripten_bind_Cloudpilot_Reset_0=function(){return(jl=l._emscripten_bind_Cloudpilot_Reset_0=l.asm.W).apply(null,arguments)},sl=l._emscripten_bind_Cloudpilot_ResetNoExtensions_0=function(){return(sl=l._emscripten_bind_Cloudpilot_ResetNoExtensions_0=l.asm.X).apply(null,arguments)},al=l._emscripten_bind_Cloudpilot_ResetHard_0=function(){return(al=l._emscripten_bind_Cloudpilot_ResetHard_0=l.asm.Y).apply(null,arguments)},Br=l._emscripten_bind_Cloudpilot_InstallDb_2=function(){return(Br=l._emscripten_bind_Cloudpilot_InstallDb_2=l.asm.Z).apply(null,arguments)},di=l._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=function(){return(di=l._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=l.asm._).apply(null,arguments)},mo=l._emscripten_bind_Cloudpilot_GetMemoryPtr_0=function(){return(mo=l._emscripten_bind_Cloudpilot_GetMemoryPtr_0=l.asm.$).apply(null,arguments)},ll=l._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=function(){return(ll=l._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=l.asm.aa).apply(null,arguments)},cl=l._emscripten_bind_Cloudpilot_GetMemorySize_0=function(){return(cl=l._emscripten_bind_Cloudpilot_GetMemorySize_0=l.asm.ba).apply(null,arguments)},ul=l._emscripten_bind_Cloudpilot_ImportMemoryImage_2=function(){return(ul=l._emscripten_bind_Cloudpilot_ImportMemoryImage_2=l.asm.ca).apply(null,arguments)},Sa=l._emscripten_bind_Cloudpilot_GetRomPtr_0=function(){return(Sa=l._emscripten_bind_Cloudpilot_GetRomPtr_0=l.asm.da).apply(null,arguments)},Ds=l._emscripten_bind_Cloudpilot_GetRomSize_0=function(){return(Ds=l._emscripten_bind_Cloudpilot_GetRomSize_0=l.asm.ea).apply(null,arguments)},zn=l._emscripten_bind_Cloudpilot_GetSavestatePtr_0=function(){return(zn=l._emscripten_bind_Cloudpilot_GetSavestatePtr_0=l.asm.fa).apply(null,arguments)},Ea=l._emscripten_bind_Cloudpilot_GetSavestateSize_0=function(){return(Ea=l._emscripten_bind_Cloudpilot_GetSavestateSize_0=l.asm.ga).apply(null,arguments)},se=l._emscripten_bind_Cloudpilot_SaveState_0=function(){return(se=l._emscripten_bind_Cloudpilot_SaveState_0=l.asm.ha).apply(null,arguments)},so=l._emscripten_bind_Cloudpilot_LoadState_2=function(){return(so=l._emscripten_bind_Cloudpilot_LoadState_2=l.asm.ia).apply(null,arguments)},on=l._emscripten_bind_Cloudpilot_GetHotsyncName_0=function(){return(on=l._emscripten_bind_Cloudpilot_GetHotsyncName_0=l.asm.ja).apply(null,arguments)},Ir=l._emscripten_bind_Cloudpilot_SetHotsyncName_1=function(){return(Ir=l._emscripten_bind_Cloudpilot_SetHotsyncName_1=l.asm.ka).apply(null,arguments)},Dr=l._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=function(){return(Dr=l._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=l.asm.la).apply(null,arguments)},Kn=l._emscripten_bind_Cloudpilot_StartBackup_0=function(){return(Kn=l._emscripten_bind_Cloudpilot_StartBackup_0=l.asm.ma).apply(null,arguments)},h=l._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=function(){return(h=l._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=l.asm.na).apply(null,arguments)},y=l._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=function(){return(y=l._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=l.asm.oa).apply(null,arguments)},w=l._emscripten_bind_Cloudpilot_IsSuspended_0=function(){return(w=l._emscripten_bind_Cloudpilot_IsSuspended_0=l.asm.pa).apply(null,arguments)},P=l._emscripten_bind_Cloudpilot_GetSuspendContext_0=function(){return(P=l._emscripten_bind_Cloudpilot_GetSuspendContext_0=l.asm.qa).apply(null,arguments)},V=l._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=function(){return(V=l._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=l.asm.ra).apply(null,arguments)},ve=l._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=function(){return(ve=l._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=l.asm.sa).apply(null,arguments)},Ie=l._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=function(){return(Ie=l._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=l.asm.ta).apply(null,arguments)},Be=l._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=function(){return(Be=l._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=l.asm.ua).apply(null,arguments)},Ct=l._emscripten_bind_Cloudpilot_LaunchAppByName_1=function(){return(Ct=l._emscripten_bind_Cloudpilot_LaunchAppByName_1=l.asm.va).apply(null,arguments)},Et=l._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=function(){return(Et=l._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=l.asm.wa).apply(null,arguments)},kn=l._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=function(){return(kn=l._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=l.asm.xa).apply(null,arguments)},Fn=l._emscripten_bind_Cloudpilot_ClearExternalStorage_0=function(){return(Fn=l._emscripten_bind_Cloudpilot_ClearExternalStorage_0=l.asm.ya).apply(null,arguments)},Gt=l._emscripten_bind_Cloudpilot_AllocateCard_2=function(){return(Gt=l._emscripten_bind_Cloudpilot_AllocateCard_2=l.asm.za).apply(null,arguments)},jt=l._emscripten_bind_Cloudpilot_AdoptCard_3=function(){return(jt=l._emscripten_bind_Cloudpilot_AdoptCard_3=l.asm.Aa).apply(null,arguments)},Sn=l._emscripten_bind_Cloudpilot_MountCard_1=function(){return(Sn=l._emscripten_bind_Cloudpilot_MountCard_1=l.asm.Ba).apply(null,arguments)},kr=l._emscripten_bind_Cloudpilot_RemoveCard_1=function(){return(kr=l._emscripten_bind_Cloudpilot_RemoveCard_1=l.asm.Ca).apply(null,arguments)},fi=l._emscripten_bind_Cloudpilot_GetCardData_1=function(){return(fi=l._emscripten_bind_Cloudpilot_GetCardData_1=l.asm.Da).apply(null,arguments)},nt=l._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=function(){return(nt=l._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=l.asm.Ea).apply(null,arguments)},gt=l._emscripten_bind_Cloudpilot_GetCardSize_1=function(){return(gt=l._emscripten_bind_Cloudpilot_GetCardSize_1=l.asm.Fa).apply(null,arguments)},Jt=l._emscripten_bind_Cloudpilot_RemountCards_0=function(){return(Jt=l._emscripten_bind_Cloudpilot_RemountCards_0=l.asm.Ga).apply(null,arguments)},Wr=l._emscripten_bind_Cloudpilot_GetSupportLevel_1=function(){return(Wr=l._emscripten_bind_Cloudpilot_GetSupportLevel_1=l.asm.Ha).apply(null,arguments)},vn=l._emscripten_bind_Cloudpilot_GetMountedKey_0=function(){return(vn=l._emscripten_bind_Cloudpilot_GetMountedKey_0=l.asm.Ia).apply(null,arguments)},dr=l._emscripten_bind_Cloudpilot___destroy___0=function(){return(dr=l._emscripten_bind_Cloudpilot___destroy___0=l.asm.Ja).apply(null,arguments)},fr=l._emscripten_bind_RomInfo_RomInfo_2=function(){return(fr=l._emscripten_bind_RomInfo_RomInfo_2=l.asm.Ka).apply(null,arguments)},Tt=l._emscripten_bind_RomInfo_IsValid_0=function(){return(Tt=l._emscripten_bind_RomInfo_IsValid_0=l.asm.La).apply(null,arguments)},vo=l._emscripten_bind_RomInfo_CardVersion_0=function(){return(vo=l._emscripten_bind_RomInfo_CardVersion_0=l.asm.Ma).apply(null,arguments)},pr=l._emscripten_bind_RomInfo_CardName_0=function(){return(pr=l._emscripten_bind_RomInfo_CardName_0=l.asm.Na).apply(null,arguments)},Fo=l._emscripten_bind_RomInfo_RomVersion_0=function(){return(Fo=l._emscripten_bind_RomInfo_RomVersion_0=l.asm.Oa).apply(null,arguments)},Go=l._emscripten_bind_RomInfo_RomVersionString_0=function(){return(Go=l._emscripten_bind_RomInfo_RomVersionString_0=l.asm.Pa).apply(null,arguments)},oa=l._emscripten_bind_RomInfo_Supports_1=function(){return(oa=l._emscripten_bind_RomInfo_Supports_1=l.asm.Qa).apply(null,arguments)},hn=l._emscripten_bind_RomInfo___destroy___0=function(){return(hn=l._emscripten_bind_RomInfo___destroy___0=l.asm.Ra).apply(null,arguments)},Pr=l._emscripten_bind_Frame_GetLineWidth_0=function(){return(Pr=l._emscripten_bind_Frame_GetLineWidth_0=l.asm.Sa).apply(null,arguments)},It=l._emscripten_bind_Frame_GetBpp_0=function(){return(It=l._emscripten_bind_Frame_GetBpp_0=l.asm.Ta).apply(null,arguments)},Ht=l._emscripten_bind_Frame_GetLines_0=function(){return(Ht=l._emscripten_bind_Frame_GetLines_0=l.asm.Ua).apply(null,arguments)},xt=l._emscripten_bind_Frame_GetMargin_0=function(){return(xt=l._emscripten_bind_Frame_GetMargin_0=l.asm.Va).apply(null,arguments)},hr=l._emscripten_bind_Frame_GetBytesPerLine_0=function(){return(hr=l._emscripten_bind_Frame_GetBytesPerLine_0=l.asm.Wa).apply(null,arguments)},or=l._emscripten_bind_Frame_GetFirstDirtyLine_0=function(){return(or=l._emscripten_bind_Frame_GetFirstDirtyLine_0=l.asm.Xa).apply(null,arguments)},qn=l._emscripten_bind_Frame_GetLastDirtyLine_0=function(){return(qn=l._emscripten_bind_Frame_GetLastDirtyLine_0=l.asm.Ya).apply(null,arguments)},br=l._emscripten_bind_Frame_GetHasChanges_0=function(){return(br=l._emscripten_bind_Frame_GetHasChanges_0=l.asm.Za).apply(null,arguments)},wn=l._emscripten_bind_Frame_GetBuffer_0=function(){return(wn=l._emscripten_bind_Frame_GetBuffer_0=l.asm._a).apply(null,arguments)},d=l._emscripten_bind_Frame_GetBufferSize_0=function(){return(d=l._emscripten_bind_Frame_GetBufferSize_0=l.asm.$a).apply(null,arguments)},_=l._emscripten_bind_Frame_GetScaleX_0=function(){return(_=l._emscripten_bind_Frame_GetScaleX_0=l.asm.ab).apply(null,arguments)},C=l._emscripten_bind_Frame_GetScaleY_0=function(){return(C=l._emscripten_bind_Frame_GetScaleY_0=l.asm.bb).apply(null,arguments)},A=l._emscripten_bind_Frame___destroy___0=function(){return(A=l._emscripten_bind_Frame___destroy___0=l.asm.cb).apply(null,arguments)},z=l._emscripten_bind_DbBackup_Init_1=function(){return(z=l._emscripten_bind_DbBackup_Init_1=l.asm.db).apply(null,arguments)},Ce=l._emscripten_bind_DbBackup_IsInProgress_0=function(){return(Ce=l._emscripten_bind_DbBackup_IsInProgress_0=l.asm.eb).apply(null,arguments)},we=l._emscripten_bind_DbBackup_IsDone_0=function(){return(we=l._emscripten_bind_DbBackup_IsDone_0=l.asm.fb).apply(null,arguments)},Re=l._emscripten_bind_DbBackup_GetCurrentDatabase_0=function(){return(Re=l._emscripten_bind_DbBackup_GetCurrentDatabase_0=l.asm.gb).apply(null,arguments)},wt=l._emscripten_bind_DbBackup_Save_0=function(){return(wt=l._emscripten_bind_DbBackup_Save_0=l.asm.hb).apply(null,arguments)},Xt=l._emscripten_bind_DbBackup_Skip_0=function(){return(Xt=l._emscripten_bind_DbBackup_Skip_0=l.asm.ib).apply(null,arguments)},bn=l._emscripten_bind_DbBackup_GetArchivePtr_0=function(){return(bn=l._emscripten_bind_DbBackup_GetArchivePtr_0=l.asm.jb).apply(null,arguments)},Nn=l._emscripten_bind_DbBackup_GetArchiveSize_0=function(){return(Nn=l._emscripten_bind_DbBackup_GetArchiveSize_0=l.asm.kb).apply(null,arguments)},nn=l._emscripten_bind_DbBackup___destroy___0=function(){return(nn=l._emscripten_bind_DbBackup___destroy___0=l.asm.lb).apply(null,arguments)},kt=l._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=function(){return(kt=l._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=l.asm.mb).apply(null,arguments)},Gn=l._emscripten_bind_SuspendContextClipboardCopy_Resume_0=function(){return(Gn=l._emscripten_bind_SuspendContextClipboardCopy_Resume_0=l.asm.nb).apply(null,arguments)},Zr=l._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=function(){return(Zr=l._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=l.asm.ob).apply(null,arguments)},pi=l._emscripten_bind_SuspendContextClipboardCopy___destroy___0=function(){return(pi=l._emscripten_bind_SuspendContextClipboardCopy___destroy___0=l.asm.pb).apply(null,arguments)},bo=l._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=function(){return(bo=l._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=l.asm.qb).apply(null,arguments)},_t=l._emscripten_bind_SuspendContextClipboardPaste_Resume_1=function(){return(_t=l._emscripten_bind_SuspendContextClipboardPaste_Resume_1=l.asm.rb).apply(null,arguments)},qt=l._emscripten_bind_SuspendContextClipboardPaste___destroy___0=function(){return(qt=l._emscripten_bind_SuspendContextClipboardPaste___destroy___0=l.asm.sb).apply(null,arguments)},ir=l._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=function(){return(ir=l._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=l.asm.tb).apply(null,arguments)},Lr=l._emscripten_bind_SuspendContextNetworkConnect_Resume_1=function(){return(Lr=l._emscripten_bind_SuspendContextNetworkConnect_Resume_1=l.asm.ub).apply(null,arguments)},Vr=l._emscripten_bind_SuspendContextNetworkConnect___destroy___0=function(){return(Vr=l._emscripten_bind_SuspendContextNetworkConnect___destroy___0=l.asm.vb).apply(null,arguments)},Cr=l._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=function(){return(Cr=l._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=l.asm.wb).apply(null,arguments)},su=l._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=function(){return(su=l._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=l.asm.xb).apply(null,arguments)},Gl=l._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=function(){return(Gl=l._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=l.asm.yb).apply(null,arguments)},vc=l._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=function(){return(vc=l._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=l.asm.zb).apply(null,arguments)},fs=l._emscripten_bind_SuspendContextNetworkRpc___destroy___0=function(){return(fs=l._emscripten_bind_SuspendContextNetworkRpc___destroy___0=l.asm.Ab).apply(null,arguments)},Tp=l._emscripten_bind_SuspendContext_GetKind_0=function(){return(Tp=l._emscripten_bind_SuspendContext_GetKind_0=l.asm.Bb).apply(null,arguments)},fg=l._emscripten_bind_SuspendContext_Cancel_0=function(){return(fg=l._emscripten_bind_SuspendContext_Cancel_0=l.asm.Cb).apply(null,arguments)},Ap=l._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=function(){return(Ap=l._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=l.asm.Db).apply(null,arguments)},Pp=l._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=function(){return(Pp=l._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=l.asm.Eb).apply(null,arguments)},pg=l._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=function(){return(pg=l._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=l.asm.Fb).apply(null,arguments)},hg=l._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=function(){return(hg=l._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=l.asm.Gb).apply(null,arguments)},mg=l._emscripten_bind_SuspendContext___destroy___0=function(){return(mg=l._emscripten_bind_SuspendContext___destroy___0=l.asm.Hb).apply(null,arguments)},gg=l._emscripten_bind_ZipfileWalker_ZipfileWalker_2=function(){return(gg=l._emscripten_bind_ZipfileWalker_ZipfileWalker_2=l.asm.Ib).apply(null,arguments)},_g=l._emscripten_bind_ZipfileWalker_GetState_0=function(){return(_g=l._emscripten_bind_ZipfileWalker_GetState_0=l.asm.Jb).apply(null,arguments)},yg=l._emscripten_bind_ZipfileWalker_Next_0=function(){return(yg=l._emscripten_bind_ZipfileWalker_Next_0=l.asm.Kb).apply(null,arguments)},vg=l._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=function(){return(vg=l._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=l.asm.Lb).apply(null,arguments)},bg=l._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=function(){return(bg=l._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=l.asm.Mb).apply(null,arguments)},Cg=l._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=function(){return(Cg=l._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=l.asm.Nb).apply(null,arguments)},wg=l._emscripten_bind_ZipfileWalker___destroy___0=function(){return(wg=l._emscripten_bind_ZipfileWalker___destroy___0=l.asm.Ob).apply(null,arguments)},Sg=l._emscripten_bind_SessionImage_SessionImage_0=function(){return(Sg=l._emscripten_bind_SessionImage_SessionImage_0=l.asm.Pb).apply(null,arguments)},Eg=l._emscripten_bind_SessionImage_GetDeviceId_0=function(){return(Eg=l._emscripten_bind_SessionImage_GetDeviceId_0=l.asm.Qb).apply(null,arguments)},Md=l._emscripten_bind_SessionImage_SetDeviceId_1=function(){return(Md=l._emscripten_bind_SessionImage_SetDeviceId_1=l.asm.Rb).apply(null,arguments)},Td=l._emscripten_bind_SessionImage_GetRomImage_0=function(){return(Td=l._emscripten_bind_SessionImage_GetRomImage_0=l.asm.Sb).apply(null,arguments)},Dg=l._emscripten_bind_SessionImage_GetRomImageSize_0=function(){return(Dg=l._emscripten_bind_SessionImage_GetRomImageSize_0=l.asm.Tb).apply(null,arguments)},Ig=l._emscripten_bind_SessionImage_SetRomImage_2=function(){return(Ig=l._emscripten_bind_SessionImage_SetRomImage_2=l.asm.Ub).apply(null,arguments)},kg=l._emscripten_bind_SessionImage_GetMemoryImage_0=function(){return(kg=l._emscripten_bind_SessionImage_GetMemoryImage_0=l.asm.Vb).apply(null,arguments)},Da=l._emscripten_bind_SessionImage_GetMemoryImageSize_0=function(){return(Da=l._emscripten_bind_SessionImage_GetMemoryImageSize_0=l.asm.Wb).apply(null,arguments)},Rp=l._emscripten_bind_SessionImage_SetMemoryImage_2=function(){return(Rp=l._emscripten_bind_SessionImage_SetMemoryImage_2=l.asm.Xb).apply(null,arguments)},Ho=l._emscripten_bind_SessionImage_GetMetadata_0=function(){return(Ho=l._emscripten_bind_SessionImage_GetMetadata_0=l.asm.Yb).apply(null,arguments)},Ad=l._emscripten_bind_SessionImage_GetMetadataSize_0=function(){return(Ad=l._emscripten_bind_SessionImage_GetMetadataSize_0=l.asm.Zb).apply(null,arguments)},Fp=l._emscripten_bind_SessionImage_SetMetadata_2=function(){return(Fp=l._emscripten_bind_SessionImage_SetMetadata_2=l.asm._b).apply(null,arguments)},Op=l._emscripten_bind_SessionImage_GetSavestate_0=function(){return(Op=l._emscripten_bind_SessionImage_GetSavestate_0=l.asm.$b).apply(null,arguments)},Pd=l._emscripten_bind_SessionImage_GetSavestateSize_0=function(){return(Pd=l._emscripten_bind_SessionImage_GetSavestateSize_0=l.asm.ac).apply(null,arguments)},Rd=l._emscripten_bind_SessionImage_SetSavestate_2=function(){return(Rd=l._emscripten_bind_SessionImage_SetSavestate_2=l.asm.bc).apply(null,arguments)},Np=l._emscripten_bind_SessionImage_GetVersion_0=function(){return(Np=l._emscripten_bind_SessionImage_GetVersion_0=l.asm.cc).apply(null,arguments)},au=l._emscripten_bind_SessionImage_Serialize_0=function(){return(au=l._emscripten_bind_SessionImage_Serialize_0=l.asm.dc).apply(null,arguments)},Lp=l._emscripten_bind_SessionImage_GetSerializedImage_0=function(){return(Lp=l._emscripten_bind_SessionImage_GetSerializedImage_0=l.asm.ec).apply(null,arguments)},Yi=l._emscripten_bind_SessionImage_GetSerializedImageSize_0=function(){return(Yi=l._emscripten_bind_SessionImage_GetSerializedImageSize_0=l.asm.fc).apply(null,arguments)},Fd=l._emscripten_bind_SessionImage_Deserialize_2=function(){return(Fd=l._emscripten_bind_SessionImage_Deserialize_2=l.asm.gc).apply(null,arguments)},Od=l._emscripten_bind_SessionImage___destroy___0=function(){return(Od=l._emscripten_bind_SessionImage___destroy___0=l.asm.hc).apply(null,arguments)},zo=l._emscripten_bind_SkinLoader_SkinLoader_1=function(){return(zo=l._emscripten_bind_SkinLoader_SkinLoader_1=l.asm.ic).apply(null,arguments)},$p=l._emscripten_bind_SkinLoader_GetData_0=function(){return($p=l._emscripten_bind_SkinLoader_GetData_0=l.asm.jc).apply(null,arguments)},bc=l._emscripten_bind_SkinLoader_GetSize_0=function(){return(bc=l._emscripten_bind_SkinLoader_GetSize_0=l.asm.kc).apply(null,arguments)},Ni=l._emscripten_bind_SkinLoader___destroy___0=function(){return(Ni=l._emscripten_bind_SkinLoader___destroy___0=l.asm.lc).apply(null,arguments)},Bp=l._emscripten_bind_GunzipContext_GunzipContext_3=function(){return(Bp=l._emscripten_bind_GunzipContext_GunzipContext_3=l.asm.mc).apply(null,arguments)},Nd=l._emscripten_bind_GunzipContext_GetState_0=function(){return(Nd=l._emscripten_bind_GunzipContext_GetState_0=l.asm.nc).apply(null,arguments)},dl=l._emscripten_bind_GunzipContext_Continue_0=function(){return(dl=l._emscripten_bind_GunzipContext_Continue_0=l.asm.oc).apply(null,arguments)},Li=l._emscripten_bind_GunzipContext_GetUncompressedData_0=function(){return(Li=l._emscripten_bind_GunzipContext_GetUncompressedData_0=l.asm.pc).apply(null,arguments)},Vp=l._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=function(){return(Vp=l._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=l.asm.qc).apply(null,arguments)},Cc=l._emscripten_bind_GunzipContext_GetUncompressedSize_0=function(){return(Cc=l._emscripten_bind_GunzipContext_GetUncompressedSize_0=l.asm.rc).apply(null,arguments)},Up=l._emscripten_bind_GunzipContext_GetError_0=function(){return(Up=l._emscripten_bind_GunzipContext_GetError_0=l.asm.sc).apply(null,arguments)},ia=l._emscripten_bind_GunzipContext___destroy___0=function(){return(ia=l._emscripten_bind_GunzipContext___destroy___0=l.asm.tc).apply(null,arguments)};function Gb(c){var m=l._main;try{var G=m(0,0);return function ot(c,m){le=c,function Je(c){le=c,function Kt(){return Fe}()||(l.onExit&&l.onExit(c),it=!0),B(c,new Bn(c))}(c)}(G),G}catch(_e){return function xe(c){if(c instanceof Bn||"unwind"==c)return le;B(1,c)}(_e)}}function Hp(c){function m(){wc||(wc=!0,l.calledRun=!0,!it&&(function yn(){!l.noFSInit&&!E.init.initialized&&E.init(),E.ignorePermissions=!1,dt.init(),cr(Ae)}(),function Sr(){cr(At)}(),ne(l),l.onRuntimeInitialized&&l.onRuntimeInitialized(),zp&&Gb(),function tr(){if(l.postRun)for("function"==typeof l.postRun&&(l.postRun=[l.postRun]);l.postRun.length;)c=l.postRun.shift(),tn.unshift(c);var c;cr(tn)}()))}c=c||X,An>0||(function U(){if(l.preRun)for("function"==typeof l.preRun&&(l.preRun=[l.preRun]);l.preRun.length;)c=l.preRun.shift(),ft.unshift(c);var c;cr(ft)}(),An>0)||(l.setStatus?(l.setStatus("Running..."),setTimeout(function(){setTimeout(function(){l.setStatus("")},1),m()},1)):m())}if(l.___original_main=function(){return(l.___original_main=l.asm.vc).apply(null,arguments)},l.___start_em_js=418243,l.___stop_em_js=418440,l.UTF8ToString=Te,l.addFunction=function Oi(c,m){if(Nr||(Nr=new WeakMap,function wi(c,m){if(Nr)for(var b=c;b<c+m;b++){var x=Vo(b);x&&Nr.set(x,b)}}(0,ge.length)),Nr.has(c))return Nr.get(c);var b=function Xa(){if(ds.length)return ds.pop();try{ge.grow(1)}catch(c){throw c instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":c}return ge.length-1}();try{Qa(b,c)}catch(G){if(!(G instanceof TypeError))throw G;Qa(b,function ni(c,m){if("function"==typeof WebAssembly.Function)return new WebAssembly.Function(function St(c){for(var m={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},b={parameters:[],results:"v"==c[0]?[]:[m[c[0]]]},x=1;x<c.length;++x)b.parameters.push(m[c[x]]),"j"===c[x]&&b.parameters.push("i32");return b}(m),c);var b=[1];!function un(c,m){var b=c.slice(0,1),x=c.slice(1),G={i:127,p:127,j:126,f:125,d:124};m.push(96),Bt(x.length,m);for(var _e=0;_e<x.length;++_e)m.push(G[x[_e]]);"v"==b?m.push(0):m.push(1,G[b])}(m,b);var x=[0,97,115,109,1,0,0,0,1];Bt(b.length,x),x.push.apply(x,b),x.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var G=new WebAssembly.Module(new Uint8Array(x));return new WebAssembly.Instance(G,{e:{f:c}}).exports.f}(c,m))}return Nr.set(c,b),b},jn=function c(){wc||Hp(),wc||(jn=c)},l.preInit)for("function"==typeof l.preInit&&(l.preInit=[l.preInit]);l.preInit.length>0;)l.preInit.pop()();var zp=!0;function eo(){}function Hs(c){return(c||eo).__cache__}function sr(c,m){var b=Hs(m),x=b[c];return x||((x=Object.create((m||eo).prototype)).ptr=c,b[c]=x)}l.noInitialRun&&(zp=!1),Hp(),(eo.prototype=Object.create(eo.prototype)).constructor=eo,eo.prototype.__class__=eo,eo.__cache__={},l.WrapperObject=eo,l.getCache=Hs,l.wrapPointer=sr,l.castObject=function xg(c,m){return sr(c.ptr,m)},l.NULL=sr(0),l.destroy=function ht(c){if(!c.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";c.__destroy__(),delete Hs(c.__class__)[c.ptr]},l.compare=function ur(c,m){return c.ptr===m.ptr},l.getPointer=function sn(c){return c.ptr},l.getClass=function an(c){return c.__class__};var ln={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(ln.needed){for(var c=0;c<ln.temps.length;c++)l._free(ln.temps[c]);ln.temps.length=0,l._free(ln.buffer),ln.buffer=0,ln.size+=ln.needed,ln.needed=0}ln.buffer||(ln.size+=128,ln.buffer=l._malloc(ln.size),be(ln.buffer)),ln.pos=0},alloc:function(c,m){be(ln.buffer);var G,x=c.length*m.BYTES_PER_ELEMENT;return ln.pos+(x=x+7&-8)>=ln.size?(be(x>0),ln.needed+=x,G=l._malloc(x),ln.temps.push(G)):(G=ln.buffer+ln.pos,ln.pos+=x),G},copy:function(c,m,b){switch(b>>>=0,m.BYTES_PER_ELEMENT){case 2:b>>>=1;break;case 4:b>>>=2;break;case 8:b>>>=3}for(var G=0;G<c.length;G++)m[b+G]=c[G]}};function Oo(c){if("string"==typeof c){var m=Do(c),b=ln.alloc(m,Qe);return ln.copy(m,Qe,b),b}return c}function mr(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Ze(){this.ptr=el(),Hs(Ze)[this.ptr]=this}function to(c,m){c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),this.ptr=fr(c,m),Hs(to)[this.ptr]=this}function Xn(){throw"cannot construct a Frame, no constructor in IDL"}function Ur(){throw"cannot construct a DbBackup, no constructor in IDL"}function Si(){throw"cannot construct a SuspendContextClipboardCopy, no constructor in IDL"}function Ei(){throw"cannot construct a SuspendContextClipboardPaste, no constructor in IDL"}function Rr(){throw"cannot construct a SuspendContextNetworkConnect, no constructor in IDL"}function jr(){throw"cannot construct a SuspendContextNetworkRpc, no constructor in IDL"}function ao(){throw"cannot construct a SuspendContext, no constructor in IDL"}function qr(c,m){c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),this.ptr=gg(c,m),Hs(qr)[this.ptr]=this}function en(){this.ptr=Sg(),Hs(en)[this.ptr]=this}function $i(c){ln.prepare(),c=c&&"object"==typeof c?c.ptr:Oo(c),this.ptr=zo(c),Hs($i)[this.ptr]=this}function lo(c,m,b){c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),b&&"object"==typeof b&&(b=b.ptr),this.ptr=Bp(c,m,b),Hs(lo)[this.ptr]=this}return(mr.prototype=Object.create(eo.prototype)).constructor=mr,mr.prototype.__class__=mr,mr.__cache__={},l.VoidPtr=mr,mr.prototype.__destroy__=mr.prototype.__destroy__=function(){Zn(this.ptr)},(Ze.prototype=Object.create(eo.prototype)).constructor=Ze,Ze.prototype.__class__=Ze,Ze.__cache__={},l.Cloudpilot=Ze,Ze.prototype.Malloc=Ze.prototype.Malloc=function(c){return c&&"object"==typeof c&&(c=c.ptr),sr(tl(this.ptr,c),mr)},Ze.prototype.Free=Ze.prototype.Free=function(c){c&&"object"==typeof c&&(c=c.ptr),nl(this.ptr,c)},Ze.prototype.Nullptr=Ze.prototype.Nullptr=function(){return sr(mt(this.ptr),mr)},Ze.prototype.InitializeSession=Ze.prototype.InitializeSession=function(c,m,b){var x=this.ptr;return ln.prepare(),c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),b=b&&"object"==typeof b?b.ptr:Oo(b),!!rl(x,c,m,b)},Ze.prototype.GetCyclesPerSecond=Ze.prototype.GetCyclesPerSecond=function(){return Er(this.ptr)},Ze.prototype.RunEmulation=Ze.prototype.RunEmulation=function(c){return c&&"object"==typeof c&&(c=c.ptr),Ss(this.ptr,c)},Ze.prototype.SetClockFactor=Ze.prototype.SetClockFactor=function(c){c&&"object"==typeof c&&(c=c.ptr),va(this.ptr,c)},Ze.prototype.CopyFrame=Ze.prototype.CopyFrame=function(){return sr(ta(this.ptr),Xn)},Ze.prototype.IsScreenDirty=Ze.prototype.IsScreenDirty=function(){return!!ba(this.ptr)},Ze.prototype.MarkScreenClean=Ze.prototype.MarkScreenClean=function(){Ca(this.ptr)},Ze.prototype.MinMemoryForDevice=Ze.prototype.MinMemoryForDevice=function(c){var m=this.ptr;return ln.prepare(),c=c&&"object"==typeof c?c.ptr:Oo(c),na(m,c)},Ze.prototype.FramebufferSizeForDevice=Ze.prototype.FramebufferSizeForDevice=function(c){var m=this.ptr;return ln.prepare(),c=c&&"object"==typeof c?c.ptr:Oo(c),Es(m,c)},Ze.prototype.TotalMemoryForDevice=Ze.prototype.TotalMemoryForDevice=function(c){var m=this.ptr;return ln.prepare(),c=c&&"object"==typeof c?c.ptr:Oo(c),js(m,c)},Ze.prototype.QueuePenMove=Ze.prototype.QueuePenMove=function(c,m){c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),ra(this.ptr,c,m)},Ze.prototype.QueuePenUp=Ze.prototype.QueuePenUp=function(){wa(this.ptr)},Ze.prototype.QueueButtonDown=Ze.prototype.QueueButtonDown=function(c){c&&"object"==typeof c&&(c=c.ptr),dn(this.ptr,c)},Ze.prototype.QueueButtonUp=Ze.prototype.QueueButtonUp=function(c){c&&"object"==typeof c&&(c=c.ptr),Gs(this.ptr,c)},Ze.prototype.QueueKeyboardEvent=Ze.prototype.QueueKeyboardEvent=function(c,m){c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),ol(this.ptr,c,m)},Ze.prototype.IsPowerOff=Ze.prototype.IsPowerOff=function(){return!!jo(this.ptr)},Ze.prototype.IsUIInitialized=Ze.prototype.IsUIInitialized=function(){return!!il(this.ptr)},Ze.prototype.GetOSVersion=Ze.prototype.GetOSVersion=function(){return yc(this.ptr)},Ze.prototype.IsSetupComplete=Ze.prototype.IsSetupComplete=function(){return!!rr(this.ptr)},Ze.prototype.Reset=Ze.prototype.Reset=function(){jl(this.ptr)},Ze.prototype.ResetNoExtensions=Ze.prototype.ResetNoExtensions=function(){sl(this.ptr)},Ze.prototype.ResetHard=Ze.prototype.ResetHard=function(){al(this.ptr)},Ze.prototype.InstallDb=Ze.prototype.InstallDb=function(c,m){return c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),Br(this.ptr,c,m)},Ze.prototype.GetPalette2bitMapping=Ze.prototype.GetPalette2bitMapping=function(){return di(this.ptr)},Ze.prototype.GetMemoryPtr=Ze.prototype.GetMemoryPtr=function(){return sr(mo(this.ptr),mr)},Ze.prototype.GetDirtyPagesPtr=Ze.prototype.GetDirtyPagesPtr=function(){return sr(ll(this.ptr),mr)},Ze.prototype.GetMemorySize=Ze.prototype.GetMemorySize=function(){return cl(this.ptr)},Ze.prototype.ImportMemoryImage=Ze.prototype.ImportMemoryImage=function(c,m){return c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),!!ul(this.ptr,c,m)},Ze.prototype.GetRomPtr=Ze.prototype.GetRomPtr=function(){return sr(Sa(this.ptr),mr)},Ze.prototype.GetRomSize=Ze.prototype.GetRomSize=function(){return Ds(this.ptr)},Ze.prototype.GetSavestatePtr=Ze.prototype.GetSavestatePtr=function(){return sr(zn(this.ptr),mr)},Ze.prototype.GetSavestateSize=Ze.prototype.GetSavestateSize=function(){return Ea(this.ptr)},Ze.prototype.SaveState=Ze.prototype.SaveState=function(){return!!se(this.ptr)},Ze.prototype.LoadState=Ze.prototype.LoadState=function(c,m){return c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),!!so(this.ptr,c,m)},Ze.prototype.GetHotsyncName=Ze.prototype.GetHotsyncName=function(){return Te(on(this.ptr))},Ze.prototype.SetHotsyncName=Ze.prototype.SetHotsyncName=function(c){var m=this.ptr;ln.prepare(),c=c&&"object"==typeof c?c.ptr:Oo(c),Ir(m,c)},Ze.prototype.RegisterPwmHandler=Ze.prototype.RegisterPwmHandler=function(c){c&&"object"==typeof c&&(c=c.ptr),Dr(this.ptr,c)},Ze.prototype.StartBackup=Ze.prototype.StartBackup=function(){return sr(Kn(this.ptr),Ur)},Ze.prototype.SetClipboardIntegration=Ze.prototype.SetClipboardIntegration=function(c){c&&"object"==typeof c&&(c=c.ptr),h(this.ptr,c)},Ze.prototype.GetClipboardIntegration=Ze.prototype.GetClipboardIntegration=function(){return!!y(this.ptr)},Ze.prototype.IsSuspended=Ze.prototype.IsSuspended=function(){return!!w(this.ptr)},Ze.prototype.GetSuspendContext=Ze.prototype.GetSuspendContext=function(){return sr(P(this.ptr),ao)},Ze.prototype.SetNetworkRedirection=Ze.prototype.SetNetworkRedirection=function(c){c&&"object"==typeof c&&(c=c.ptr),V(this.ptr,c)},Ze.prototype.GetNetworkRedirection=Ze.prototype.GetNetworkRedirection=function(){return!!ve(this.ptr)},Ze.prototype.RegisterProxyDisconnectHandler=Ze.prototype.RegisterProxyDisconnectHandler=function(c){c&&"object"==typeof c&&(c=c.ptr),Ie(this.ptr,c)},Ze.prototype.SetHotsyncNameManagement=Ze.prototype.SetHotsyncNameManagement=function(c){c&&"object"==typeof c&&(c=c.ptr),Be(this.ptr,c)},Ze.prototype.LaunchAppByName=Ze.prototype.LaunchAppByName=function(c){var m=this.ptr;return ln.prepare(),c=c&&"object"==typeof c?c.ptr:Oo(c),!!Ct(m,c)},Ze.prototype.LaunchAppByDbHeader=Ze.prototype.LaunchAppByDbHeader=function(c,m){return c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),!!Et(this.ptr,c,m)},Ze.prototype.DeviceSupportsCardSize=Ze.prototype.DeviceSupportsCardSize=function(c){return c&&"object"==typeof c&&(c=c.ptr),!!kn(this.ptr,c)},Ze.prototype.ClearExternalStorage=Ze.prototype.ClearExternalStorage=function(){Fn(this.ptr)},Ze.prototype.AllocateCard=Ze.prototype.AllocateCard=function(c,m){var b=this.ptr;return ln.prepare(),c=c&&"object"==typeof c?c.ptr:Oo(c),m&&"object"==typeof m&&(m=m.ptr),!!Gt(b,c,m)},Ze.prototype.AdoptCard=Ze.prototype.AdoptCard=function(c,m,b){var x=this.ptr;return ln.prepare(),c=c&&"object"==typeof c?c.ptr:Oo(c),m&&"object"==typeof m&&(m=m.ptr),b&&"object"==typeof b&&(b=b.ptr),!!jt(x,c,m,b)},Ze.prototype.MountCard=Ze.prototype.MountCard=function(c){var m=this.ptr;return ln.prepare(),c=c&&"object"==typeof c?c.ptr:Oo(c),!!Sn(m,c)},Ze.prototype.RemoveCard=Ze.prototype.RemoveCard=function(c){var m=this.ptr;return ln.prepare(),c=c&&"object"==typeof c?c.ptr:Oo(c),!!kr(m,c)},Ze.prototype.GetCardData=Ze.prototype.GetCardData=function(c){var m=this.ptr;return ln.prepare(),c=c&&"object"==typeof c?c.ptr:Oo(c),sr(fi(m,c),mr)},Ze.prototype.GetCardDirtyPages=Ze.prototype.GetCardDirtyPages=function(c){var m=this.ptr;return ln.prepare(),c=c&&"object"==typeof c?c.ptr:Oo(c),sr(nt(m,c),mr)},Ze.prototype.GetCardSize=Ze.prototype.GetCardSize=function(c){var m=this.ptr;return ln.prepare(),c=c&&"object"==typeof c?c.ptr:Oo(c),gt(m,c)},Ze.prototype.RemountCards=Ze.prototype.RemountCards=function(){Jt(this.ptr)},Ze.prototype.GetSupportLevel=Ze.prototype.GetSupportLevel=function(c){return c&&"object"==typeof c&&(c=c.ptr),Wr(this.ptr,c)},Ze.prototype.GetMountedKey=Ze.prototype.GetMountedKey=function(){return Te(vn(this.ptr))},Ze.prototype.__destroy__=Ze.prototype.__destroy__=function(){dr(this.ptr)},(to.prototype=Object.create(eo.prototype)).constructor=to,to.prototype.__class__=to,to.__cache__={},l.RomInfo=to,to.prototype.IsValid=to.prototype.IsValid=function(){return!!Tt(this.ptr)},to.prototype.CardVersion=to.prototype.CardVersion=function(){return vo(this.ptr)},to.prototype.CardName=to.prototype.CardName=function(){return Te(pr(this.ptr))},to.prototype.RomVersion=to.prototype.RomVersion=function(){return Fo(this.ptr)},to.prototype.RomVersionString=to.prototype.RomVersionString=function(){return Te(Go(this.ptr))},to.prototype.Supports=to.prototype.Supports=function(c){var m=this.ptr;return ln.prepare(),c=c&&"object"==typeof c?c.ptr:Oo(c),!!oa(m,c)},to.prototype.__destroy__=to.prototype.__destroy__=function(){hn(this.ptr)},(Xn.prototype=Object.create(eo.prototype)).constructor=Xn,Xn.prototype.__class__=Xn,Xn.__cache__={},l.Frame=Xn,Xn.prototype.GetLineWidth=Xn.prototype.GetLineWidth=function(){return Pr(this.ptr)},Xn.prototype.GetBpp=Xn.prototype.GetBpp=function(){return It(this.ptr)},Xn.prototype.GetLines=Xn.prototype.GetLines=function(){return Ht(this.ptr)},Xn.prototype.GetMargin=Xn.prototype.GetMargin=function(){return xt(this.ptr)},Xn.prototype.GetBytesPerLine=Xn.prototype.GetBytesPerLine=function(){return hr(this.ptr)},Xn.prototype.GetFirstDirtyLine=Xn.prototype.GetFirstDirtyLine=function(){return or(this.ptr)},Xn.prototype.GetLastDirtyLine=Xn.prototype.GetLastDirtyLine=function(){return qn(this.ptr)},Xn.prototype.GetHasChanges=Xn.prototype.GetHasChanges=function(){return!!br(this.ptr)},Xn.prototype.GetBuffer=Xn.prototype.GetBuffer=function(){return sr(wn(this.ptr),mr)},Xn.prototype.GetBufferSize=Xn.prototype.GetBufferSize=function(){return d(this.ptr)},Xn.prototype.GetScaleX=Xn.prototype.GetScaleX=function(){return _(this.ptr)},Xn.prototype.GetScaleY=Xn.prototype.GetScaleY=function(){return C(this.ptr)},Xn.prototype.__destroy__=Xn.prototype.__destroy__=function(){A(this.ptr)},(Ur.prototype=Object.create(eo.prototype)).constructor=Ur,Ur.prototype.__class__=Ur,Ur.__cache__={},l.DbBackup=Ur,Ur.prototype.Init=Ur.prototype.Init=function(c){return c&&"object"==typeof c&&(c=c.ptr),!!z(this.ptr,c)},Ur.prototype.IsInProgress=Ur.prototype.IsInProgress=function(){return!!Ce(this.ptr)},Ur.prototype.IsDone=Ur.prototype.IsDone=function(){return!!we(this.ptr)},Ur.prototype.GetCurrentDatabase=Ur.prototype.GetCurrentDatabase=function(){return Te(Re(this.ptr))},Ur.prototype.Save=Ur.prototype.Save=function(){return!!wt(this.ptr)},Ur.prototype.Skip=Ur.prototype.Skip=function(){Xt(this.ptr)},Ur.prototype.GetArchivePtr=Ur.prototype.GetArchivePtr=function(){return sr(bn(this.ptr),mr)},Ur.prototype.GetArchiveSize=Ur.prototype.GetArchiveSize=function(){return Nn(this.ptr)},Ur.prototype.__destroy__=Ur.prototype.__destroy__=function(){nn(this.ptr)},(Si.prototype=Object.create(eo.prototype)).constructor=Si,Si.prototype.__class__=Si,Si.__cache__={},l.SuspendContextClipboardCopy=Si,Si.prototype.Cancel=Si.prototype.Cancel=function(){kt(this.ptr)},Si.prototype.Resume=Si.prototype.Resume=function(){Gn(this.ptr)},Si.prototype.GetClipboardContent=Si.prototype.GetClipboardContent=function(){return Te(Zr(this.ptr))},Si.prototype.__destroy__=Si.prototype.__destroy__=function(){pi(this.ptr)},(Ei.prototype=Object.create(eo.prototype)).constructor=Ei,Ei.prototype.__class__=Ei,Ei.__cache__={},l.SuspendContextClipboardPaste=Ei,Ei.prototype.Cancel=Ei.prototype.Cancel=function(){bo(this.ptr)},Ei.prototype.Resume=Ei.prototype.Resume=function(c){var m=this.ptr;ln.prepare(),c=c&&"object"==typeof c?c.ptr:Oo(c),_t(m,c)},Ei.prototype.__destroy__=Ei.prototype.__destroy__=function(){qt(this.ptr)},(Rr.prototype=Object.create(eo.prototype)).constructor=Rr,Rr.prototype.__class__=Rr,Rr.__cache__={},l.SuspendContextNetworkConnect=Rr,Rr.prototype.Cancel=Rr.prototype.Cancel=function(){ir(this.ptr)},Rr.prototype.Resume=Rr.prototype.Resume=function(c){var m=this.ptr;ln.prepare(),c=c&&"object"==typeof c?c.ptr:Oo(c),Lr(m,c)},Rr.prototype.__destroy__=Rr.prototype.__destroy__=function(){Vr(this.ptr)},(jr.prototype=Object.create(eo.prototype)).constructor=jr,jr.prototype.__class__=jr,jr.__cache__={},l.SuspendContextNetworkRpc=jr,jr.prototype.Cancel=jr.prototype.Cancel=function(){Cr(this.ptr)},jr.prototype.GetRequestSize=jr.prototype.GetRequestSize=function(){return su(this.ptr)},jr.prototype.GetRequestData=jr.prototype.GetRequestData=function(){return sr(Gl(this.ptr),mr)},jr.prototype.ReceiveResponse=jr.prototype.ReceiveResponse=function(c,m){c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),vc(this.ptr,c,m)},jr.prototype.__destroy__=jr.prototype.__destroy__=function(){fs(this.ptr)},(ao.prototype=Object.create(eo.prototype)).constructor=ao,ao.prototype.__class__=ao,ao.__cache__={},l.SuspendContext=ao,ao.prototype.GetKind=ao.prototype.GetKind=function(){return Tp(this.ptr)},ao.prototype.Cancel=ao.prototype.Cancel=function(){fg(this.ptr)},ao.prototype.AsContextClipboardCopy=ao.prototype.AsContextClipboardCopy=function(){return sr(Ap(this.ptr),Si)},ao.prototype.AsContextClipboardPaste=ao.prototype.AsContextClipboardPaste=function(){return sr(Pp(this.ptr),Ei)},ao.prototype.AsContextNetworkConnect=ao.prototype.AsContextNetworkConnect=function(){return sr(pg(this.ptr),Rr)},ao.prototype.AsContextNetworkRpc=ao.prototype.AsContextNetworkRpc=function(){return sr(hg(this.ptr),jr)},ao.prototype.__destroy__=ao.prototype.__destroy__=function(){mg(this.ptr)},(qr.prototype=Object.create(eo.prototype)).constructor=qr,qr.prototype.__class__=qr,qr.__cache__={},l.ZipfileWalker=qr,qr.prototype.GetState=qr.prototype.GetState=function(){return _g(this.ptr)},qr.prototype.Next=qr.prototype.Next=function(){return yg(this.ptr)},qr.prototype.GetCurrentEntrySize=qr.prototype.GetCurrentEntrySize=function(){return vg(this.ptr)},qr.prototype.GetCurrentEntryName=qr.prototype.GetCurrentEntryName=function(){return Te(bg(this.ptr))},qr.prototype.GetCurrentEntryContent=qr.prototype.GetCurrentEntryContent=function(){return sr(Cg(this.ptr),mr)},qr.prototype.__destroy__=qr.prototype.__destroy__=function(){wg(this.ptr)},(en.prototype=Object.create(eo.prototype)).constructor=en,en.prototype.__class__=en,en.__cache__={},l.SessionImage=en,en.prototype.GetDeviceId=en.prototype.GetDeviceId=function(){return Te(Eg(this.ptr))},en.prototype.SetDeviceId=en.prototype.SetDeviceId=function(c){var m=this.ptr;return ln.prepare(),c=c&&"object"==typeof c?c.ptr:Oo(c),sr(Md(m,c),en)},en.prototype.GetRomImage=en.prototype.GetRomImage=function(){return sr(Td(this.ptr),mr)},en.prototype.GetRomImageSize=en.prototype.GetRomImageSize=function(){return Dg(this.ptr)},en.prototype.SetRomImage=en.prototype.SetRomImage=function(c,m){return c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),sr(Ig(this.ptr,c,m),en)},en.prototype.GetMemoryImage=en.prototype.GetMemoryImage=function(){return sr(kg(this.ptr),mr)},en.prototype.GetMemoryImageSize=en.prototype.GetMemoryImageSize=function(){return Da(this.ptr)},en.prototype.SetMemoryImage=en.prototype.SetMemoryImage=function(c,m){return c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),sr(Rp(this.ptr,c,m),en)},en.prototype.GetMetadata=en.prototype.GetMetadata=function(){return sr(Ho(this.ptr),mr)},en.prototype.GetMetadataSize=en.prototype.GetMetadataSize=function(){return Ad(this.ptr)},en.prototype.SetMetadata=en.prototype.SetMetadata=function(c,m){return c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),sr(Fp(this.ptr,c,m),en)},en.prototype.GetSavestate=en.prototype.GetSavestate=function(){return sr(Op(this.ptr),mr)},en.prototype.GetSavestateSize=en.prototype.GetSavestateSize=function(){return Pd(this.ptr)},en.prototype.SetSavestate=en.prototype.SetSavestate=function(c,m){return c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),sr(Rd(this.ptr,c,m),en)},en.prototype.GetVersion=en.prototype.GetVersion=function(){return Np(this.ptr)},en.prototype.Serialize=en.prototype.Serialize=function(){return!!au(this.ptr)},en.prototype.GetSerializedImage=en.prototype.GetSerializedImage=function(){return sr(Lp(this.ptr),mr)},en.prototype.GetSerializedImageSize=en.prototype.GetSerializedImageSize=function(){return Yi(this.ptr)},en.prototype.Deserialize=en.prototype.Deserialize=function(c,m){return c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),!!Fd(this.ptr,c,m)},en.prototype.__destroy__=en.prototype.__destroy__=function(){Od(this.ptr)},($i.prototype=Object.create(eo.prototype)).constructor=$i,$i.prototype.__class__=$i,$i.__cache__={},l.SkinLoader=$i,$i.prototype.GetData=$i.prototype.GetData=function(){return sr($p(this.ptr),mr)},$i.prototype.GetSize=$i.prototype.GetSize=function(){return bc(this.ptr)},$i.prototype.__destroy__=$i.prototype.__destroy__=function(){Ni(this.ptr)},(lo.prototype=Object.create(eo.prototype)).constructor=lo,lo.prototype.__class__=lo,lo.__cache__={},l.GunzipContext=lo,lo.prototype.GetState=lo.prototype.GetState=function(){return Nd(this.ptr)},lo.prototype.Continue=lo.prototype.Continue=function(){return dl(this.ptr)},lo.prototype.GetUncompressedData=lo.prototype.GetUncompressedData=function(){return sr(Li(this.ptr),mr)},lo.prototype.ReleaseUncompressedData=lo.prototype.ReleaseUncompressedData=function(){return sr(Vp(this.ptr),mr)},lo.prototype.GetUncompressedSize=lo.prototype.GetUncompressedSize=function(){return Cc(this.ptr)},lo.prototype.GetError=lo.prototype.GetError=function(){return Te(Up(this.ptr))},lo.prototype.__destroy__=lo.prototype.__destroy__=function(){ia(this.ptr)},D.ready});$e.exports=ze},9084:$e=>{var T,ze=(T=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(D){var ne,J,l=typeof(D=D||{})<"u"?D:{};l.ready=new Promise(function(h,y){ne=h,J=y});var j,Pe,Le,H=Object.assign({},l),X=[],N="./this.program",B=(h,y)=>{throw y},ce="object"==typeof window,Y="function"==typeof importScripts,$=("object"==typeof process&&"object"==typeof process.versions&&process,"");(ce||Y)&&(Y?$=self.location.href:typeof document<"u"&&document.currentScript&&($=document.currentScript.src),T&&($=T),$=0!==$.indexOf("blob:")?$.substr(0,$.replace(/[?#].*/,"").lastIndexOf("/")+1):"",j=h=>{var y=new XMLHttpRequest;return y.open("GET",h,!1),y.send(null),y.responseText},Y&&(Le=h=>{var y=new XMLHttpRequest;return y.open("GET",h,!1),y.responseType="arraybuffer",y.send(null),new Uint8Array(y.response)}),Pe=(h,y,w)=>{var P=new XMLHttpRequest;P.open("GET",h,!0),P.responseType="arraybuffer",P.onload=()=>{200==P.status||0==P.status&&P.response?y(P.response):w()},P.onerror=w,P.send(null)});var de,W=l.print||console.log.bind(console),q=l.printErr||console.warn.bind(console);Object.assign(l,H),H=null,l.arguments&&(X=l.arguments),l.thisProgram&&(N=l.thisProgram),l.quit&&(B=l.quit),l.wasmBinary&&(de=l.wasmBinary);var Fe=l.noExitRuntime||!0;"object"!=typeof WebAssembly&&lr("no native wasm support detected");var ue,le,it=!1;function be(h,y){h||lr(y)}var Ue,Qe,bt,F,me,tt,Ee=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Xe(h,y,w){for(var P=y+w,V=y;h[V]&&!(V>=P);)++V;if(V-y>16&&h.buffer&&Ee)return Ee.decode(h.subarray(y,V));for(var ve="";y<V;){var Ie=h[y++];if(128&Ie){var Be=63&h[y++];if(192!=(224&Ie)){var Ct=63&h[y++];if((Ie=224==(240&Ie)?(15&Ie)<<12|Be<<6|Ct:(7&Ie)<<18|Be<<12|Ct<<6|63&h[y++])<65536)ve+=String.fromCharCode(Ie);else{var Et=Ie-65536;ve+=String.fromCharCode(55296|Et>>10,56320|1023&Et)}}else ve+=String.fromCharCode((31&Ie)<<6|Be)}else ve+=String.fromCharCode(Ie)}return ve}function Te(h,y){return h?Xe(bt,h,y):""}function Me(h,y,w,P){if(!(P>0))return 0;for(var V=w,ve=w+P-1,Ie=0;Ie<h.length;++Ie){var Be=h.charCodeAt(Ie);if(Be>=55296&&Be<=57343&&(Be=65536+((1023&Be)<<10)|1023&h.charCodeAt(++Ie)),Be<=127){if(w>=ve)break;y[w++]=Be}else if(Be<=2047){if(w+1>=ve)break;y[w++]=192|Be>>6,y[w++]=128|63&Be}else if(Be<=65535){if(w+2>=ve)break;y[w++]=224|Be>>12,y[w++]=128|Be>>6&63,y[w++]=128|63&Be}else{if(w+3>=ve)break;y[w++]=240|Be>>18,y[w++]=128|Be>>12&63,y[w++]=128|Be>>6&63,y[w++]=128|63&Be}}return y[w]=0,w-V}function ee(h){for(var y=0,w=0;w<h.length;++w){var P=h.charCodeAt(w);P<=127?y++:P<=2047?y+=2:P>=55296&&P<=57343?(y+=4,++w):y+=3}return y}function Ve(h){Ue=h,l.HEAP8=Qe=new Int8Array(h),l.HEAP16=new Int16Array(h),l.HEAP32=F=new Int32Array(h),l.HEAPU8=bt=new Uint8Array(h),l.HEAPU16=new Uint16Array(h),l.HEAPU32=me=new Uint32Array(h),l.HEAPF32=new Float32Array(h),l.HEAPF64=tt=new Float64Array(h)}var pn,ft=[],Ae=[],At=[],tn=[],An=0,Eo=null,jn=null;function oo(h){An++,l.monitorRunDependencies&&l.monitorRunDependencies(An)}function Hr(h){if(An--,l.monitorRunDependencies&&l.monitorRunDependencies(An),0==An&&(null!==Eo&&(clearInterval(Eo),Eo=null),jn)){var y=jn;jn=null,y()}}function lr(h){l.onAbort&&l.onAbort(h),q(h="Aborted("+h+")"),it=!0,le=1,h+=". Build with -sASSERTIONS for more info.";var y=new WebAssembly.RuntimeError(h);throw J(y),y}function _o(h){return h.startsWith("data:application/octet-stream;base64,")}function uo(h){try{if(h==pn&&de)return new Uint8Array(de);if(Le)return Le(h);throw"both async and sync fetching of the wasm failed"}catch(y){lr(y)}}_o(pn="fstools_web.wasm")||(pn=function L(h){return l.locateFile?l.locateFile(h,$):$+h}(pn));var at,ae,He={44894:()=>{throw new Error("terminated")}};function Pn(h){this.name="ExitStatus",this.message="Program terminated with exit("+h+")",this.status=h}function Bn(h){for(;h.length>0;)h.shift()(l)}var pt={isAbs:h=>"/"===h.charAt(0),splitPath:h=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(h).slice(1),normalizeArray:(h,y)=>{for(var w=0,P=h.length-1;P>=0;P--){var V=h[P];"."===V?h.splice(P,1):".."===V?(h.splice(P,1),w++):w&&(h.splice(P,1),w--)}if(y)for(;w;w--)h.unshift("..");return h},normalize:h=>{var y=pt.isAbs(h),w="/"===h.substr(-1);return!(h=pt.normalizeArray(h.split("/").filter(P=>!!P),!y).join("/"))&&!y&&(h="."),h&&w&&(h+="/"),(y?"/":"")+h},dirname:h=>{var y=pt.splitPath(h),w=y[0],P=y[1];return w||P?(P&&(P=P.substr(0,P.length-1)),w+P):"."},basename:h=>{if("/"===h)return"/";var y=(h=(h=pt.normalize(h)).replace(/\/$/,"")).lastIndexOf("/");return-1===y?h:h.substr(y+1)},join:function(){var h=Array.prototype.slice.call(arguments);return pt.normalize(h.join("/"))},join2:(h,y)=>pt.normalize(h+"/"+y)},Vt={resolve:function(){for(var h="",y=!1,w=arguments.length-1;w>=-1&&!y;w--){var P=w>=0?arguments[w]:p.cwd();if("string"!=typeof P)throw new TypeError("Arguments to path.resolve must be strings");if(!P)return"";h=P+"/"+h,y=pt.isAbs(P)}return(y?"/":"")+(h=pt.normalizeArray(h.split("/").filter(V=>!!V),!y).join("/"))||"."},relative:(h,y)=>{function w(Et){for(var kn=0;kn<Et.length&&""===Et[kn];kn++);for(var Fn=Et.length-1;Fn>=0&&""===Et[Fn];Fn--);return kn>Fn?[]:Et.slice(kn,Fn-kn+1)}h=Vt.resolve(h).substr(1),y=Vt.resolve(y).substr(1);for(var P=w(h.split("/")),V=w(y.split("/")),ve=Math.min(P.length,V.length),Ie=ve,Be=0;Be<ve;Be++)if(P[Be]!==V[Be]){Ie=Be;break}var Ct=[];for(Be=Ie;Be<P.length;Be++)Ct.push("..");return(Ct=Ct.concat(V.slice(Ie))).join("/")}};function _r(h,y,w){var P=w>0?w:ee(h)+1,V=new Array(P),ve=Me(h,V,0,V.length);return y&&(V.length=ve),V}var Vn={ttys:[],init:function(){},shutdown:function(){},register:function(h,y){Vn.ttys[h]={input:[],output:[],ops:y},p.registerDevice(h,Vn.stream_ops)},stream_ops:{open:function(h){var y=Vn.ttys[h.node.rdev];if(!y)throw new p.ErrnoError(43);h.tty=y,h.seekable=!1},close:function(h){h.tty.ops.fsync(h.tty)},fsync:function(h){h.tty.ops.fsync(h.tty)},read:function(h,y,w,P,V){if(!h.tty||!h.tty.ops.get_char)throw new p.ErrnoError(60);for(var ve=0,Ie=0;Ie<P;Ie++){var Be;try{Be=h.tty.ops.get_char(h.tty)}catch{throw new p.ErrnoError(29)}if(void 0===Be&&0===ve)throw new p.ErrnoError(6);if(null==Be)break;ve++,y[w+Ie]=Be}return ve&&(h.node.timestamp=Date.now()),ve},write:function(h,y,w,P,V){if(!h.tty||!h.tty.ops.put_char)throw new p.ErrnoError(60);try{for(var ve=0;ve<P;ve++)h.tty.ops.put_char(h.tty,y[w+ve])}catch{throw new p.ErrnoError(29)}return P&&(h.node.timestamp=Date.now()),ve}},default_tty_ops:{get_char:function(h){if(!h.input.length){var y=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(y=window.prompt("Input: "))&&(y+="\n"):"function"==typeof readline&&null!==(y=readline())&&(y+="\n"),!y)return null;h.input=_r(y,!0)}return h.input.shift()},put_char:function(h,y){null===y||10===y?(W(Xe(h.output,0)),h.output=[]):0!=y&&h.output.push(y)},fsync:function(h){h.output&&h.output.length>0&&(W(Xe(h.output,0)),h.output=[])}},default_tty1_ops:{put_char:function(h,y){null===y||10===y?(q(Xe(h.output,0)),h.output=[]):0!=y&&h.output.push(y)},fsync:function(h){h.output&&h.output.length>0&&(q(Xe(h.output,0)),h.output=[])}}};function Do(h){lr()}var dt={ops_table:null,mount:function(h){return dt.createNode(null,"/",16895,0)},createNode:function(h,y,w,P){if(p.isBlkdev(w)||p.isFIFO(w))throw new p.ErrnoError(63);dt.ops_table||(dt.ops_table={dir:{node:{getattr:dt.node_ops.getattr,setattr:dt.node_ops.setattr,lookup:dt.node_ops.lookup,mknod:dt.node_ops.mknod,rename:dt.node_ops.rename,unlink:dt.node_ops.unlink,rmdir:dt.node_ops.rmdir,readdir:dt.node_ops.readdir,symlink:dt.node_ops.symlink},stream:{llseek:dt.stream_ops.llseek}},file:{node:{getattr:dt.node_ops.getattr,setattr:dt.node_ops.setattr},stream:{llseek:dt.stream_ops.llseek,read:dt.stream_ops.read,write:dt.stream_ops.write,allocate:dt.stream_ops.allocate,mmap:dt.stream_ops.mmap,msync:dt.stream_ops.msync}},link:{node:{getattr:dt.node_ops.getattr,setattr:dt.node_ops.setattr,readlink:dt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:dt.node_ops.getattr,setattr:dt.node_ops.setattr},stream:p.chrdev_stream_ops}});var V=p.createNode(h,y,w,P);return p.isDir(V.mode)?(V.node_ops=dt.ops_table.dir.node,V.stream_ops=dt.ops_table.dir.stream,V.contents={}):p.isFile(V.mode)?(V.node_ops=dt.ops_table.file.node,V.stream_ops=dt.ops_table.file.stream,V.usedBytes=0,V.contents=null):p.isLink(V.mode)?(V.node_ops=dt.ops_table.link.node,V.stream_ops=dt.ops_table.link.stream):p.isChrdev(V.mode)&&(V.node_ops=dt.ops_table.chrdev.node,V.stream_ops=dt.ops_table.chrdev.stream),V.timestamp=Date.now(),h&&(h.contents[y]=V,h.timestamp=V.timestamp),V},getFileDataAsTypedArray:function(h){return h.contents?h.contents.subarray?h.contents.subarray(0,h.usedBytes):new Uint8Array(h.contents):new Uint8Array(0)},expandFileStorage:function(h,y){var w=h.contents?h.contents.length:0;if(!(w>=y)){y=Math.max(y,w*(w<1048576?2:1.125)>>>0),0!=w&&(y=Math.max(y,256));var V=h.contents;h.contents=new Uint8Array(y),h.usedBytes>0&&h.contents.set(V.subarray(0,h.usedBytes),0)}},resizeFileStorage:function(h,y){if(h.usedBytes!=y)if(0==y)h.contents=null,h.usedBytes=0;else{var w=h.contents;h.contents=new Uint8Array(y),w&&h.contents.set(w.subarray(0,Math.min(y,h.usedBytes))),h.usedBytes=y}},node_ops:{getattr:function(h){var y={};return y.dev=p.isChrdev(h.mode)?h.id:1,y.ino=h.id,y.mode=h.mode,y.nlink=1,y.uid=0,y.gid=0,y.rdev=h.rdev,y.size=p.isDir(h.mode)?4096:p.isFile(h.mode)?h.usedBytes:p.isLink(h.mode)?h.link.length:0,y.atime=new Date(h.timestamp),y.mtime=new Date(h.timestamp),y.ctime=new Date(h.timestamp),y.blksize=4096,y.blocks=Math.ceil(y.size/y.blksize),y},setattr:function(h,y){void 0!==y.mode&&(h.mode=y.mode),void 0!==y.timestamp&&(h.timestamp=y.timestamp),void 0!==y.size&&dt.resizeFileStorage(h,y.size)},lookup:function(h,y){throw p.genericErrors[44]},mknod:function(h,y,w,P){return dt.createNode(h,y,w,P)},rename:function(h,y,w){if(p.isDir(h.mode)){var P;try{P=p.lookupNode(y,w)}catch{}if(P)for(var V in P.contents)throw new p.ErrnoError(55)}delete h.parent.contents[h.name],h.parent.timestamp=Date.now(),h.name=w,y.contents[w]=h,y.timestamp=h.parent.timestamp,h.parent=y},unlink:function(h,y){delete h.contents[y],h.timestamp=Date.now()},rmdir:function(h,y){var w=p.lookupNode(h,y);for(var P in w.contents)throw new p.ErrnoError(55);delete h.contents[y],h.timestamp=Date.now()},readdir:function(h){var y=[".",".."];for(var w in h.contents)h.contents.hasOwnProperty(w)&&y.push(w);return y},symlink:function(h,y,w){var P=dt.createNode(h,y,41471,0);return P.link=w,P},readlink:function(h){if(!p.isLink(h.mode))throw new p.ErrnoError(28);return h.link}},stream_ops:{read:function(h,y,w,P,V){var ve=h.node.contents;if(V>=h.node.usedBytes)return 0;var Ie=Math.min(h.node.usedBytes-V,P);if(Ie>8&&ve.subarray)y.set(ve.subarray(V,V+Ie),w);else for(var Be=0;Be<Ie;Be++)y[w+Be]=ve[V+Be];return Ie},write:function(h,y,w,P,V,ve){if(y.buffer===Qe.buffer&&(ve=!1),!P)return 0;var Ie=h.node;if(Ie.timestamp=Date.now(),y.subarray&&(!Ie.contents||Ie.contents.subarray)){if(ve)return Ie.contents=y.subarray(w,w+P),Ie.usedBytes=P,P;if(0===Ie.usedBytes&&0===V)return Ie.contents=y.slice(w,w+P),Ie.usedBytes=P,P;if(V+P<=Ie.usedBytes)return Ie.contents.set(y.subarray(w,w+P),V),P}if(dt.expandFileStorage(Ie,V+P),Ie.contents.subarray&&y.subarray)Ie.contents.set(y.subarray(w,w+P),V);else for(var Be=0;Be<P;Be++)Ie.contents[V+Be]=y[w+Be];return Ie.usedBytes=Math.max(Ie.usedBytes,V+P),P},llseek:function(h,y,w){var P=y;if(1===w?P+=h.position:2===w&&p.isFile(h.node.mode)&&(P+=h.node.usedBytes),P<0)throw new p.ErrnoError(28);return P},allocate:function(h,y,w){dt.expandFileStorage(h.node,y+w),h.node.usedBytes=Math.max(h.node.usedBytes,y+w)},mmap:function(h,y,w,P,V){if(!p.isFile(h.node.mode))throw new p.ErrnoError(43);var ve,Ie,Be=h.node.contents;if(2&V||Be.buffer!==Ue){if((w>0||w+y<Be.length)&&(Be=Be.subarray?Be.subarray(w,w+y):Array.prototype.slice.call(Be,w,w+y)),Ie=!0,!(ve=Do()))throw new p.ErrnoError(48);Qe.set(Be,ve)}else Ie=!1,ve=Be.byteOffset;return{ptr:ve,allocated:Ie}},msync:function(h,y,w,P,V){return dt.stream_ops.write(h,y,0,P,w,!1),0}}},p={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(h,y={})=>{if(!(h=Vt.resolve(h)))return{path:"",node:null};if((y=Object.assign({follow_mount:!0,recurse_count:0},y)).recurse_count>8)throw new p.ErrnoError(32);for(var P=h.split("/").filter(Fn=>!!Fn),V=p.root,ve="/",Ie=0;Ie<P.length;Ie++){var Be=Ie===P.length-1;if(Be&&y.parent)break;if(V=p.lookupNode(V,P[Ie]),ve=pt.join2(ve,P[Ie]),p.isMountpoint(V)&&(!Be||Be&&y.follow_mount)&&(V=V.mounted.root),!Be||y.follow)for(var Ct=0;p.isLink(V.mode);){var Et=p.readlink(ve);if(ve=Vt.resolve(pt.dirname(ve),Et),V=p.lookupPath(ve,{recurse_count:y.recurse_count+1}).node,Ct++>40)throw new p.ErrnoError(32)}}return{path:ve,node:V}},getPath:h=>{for(var y;;){if(p.isRoot(h)){var w=h.mount.mountpoint;return y?"/"!==w[w.length-1]?w+"/"+y:w+y:w}y=y?h.name+"/"+y:h.name,h=h.parent}},hashName:(h,y)=>{for(var w=0,P=0;P<y.length;P++)w=(w<<5)-w+y.charCodeAt(P)|0;return(h+w>>>0)%p.nameTable.length},hashAddNode:h=>{var y=p.hashName(h.parent.id,h.name);h.name_next=p.nameTable[y],p.nameTable[y]=h},hashRemoveNode:h=>{var y=p.hashName(h.parent.id,h.name);if(p.nameTable[y]===h)p.nameTable[y]=h.name_next;else for(var w=p.nameTable[y];w;){if(w.name_next===h){w.name_next=h.name_next;break}w=w.name_next}},lookupNode:(h,y)=>{var w=p.mayLookup(h);if(w)throw new p.ErrnoError(w,h);for(var P=p.hashName(h.id,y),V=p.nameTable[P];V;V=V.name_next)if(V.parent.id===h.id&&V.name===y)return V;return p.lookup(h,y)},createNode:(h,y,w,P)=>{var V=new p.FSNode(h,y,w,P);return p.hashAddNode(V),V},destroyNode:h=>{p.hashRemoveNode(h)},isRoot:h=>h===h.parent,isMountpoint:h=>!!h.mounted,isFile:h=>32768==(61440&h),isDir:h=>16384==(61440&h),isLink:h=>40960==(61440&h),isChrdev:h=>8192==(61440&h),isBlkdev:h=>24576==(61440&h),isFIFO:h=>4096==(61440&h),isSocket:h=>49152==(49152&h),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:h=>{var y=p.flagModes[h];if(typeof y>"u")throw new Error("Unknown file open mode: "+h);return y},flagsToPermissionString:h=>{var y=["r","w","rw"][3&h];return 512&h&&(y+="w"),y},nodePermissions:(h,y)=>p.ignorePermissions?0:y.includes("r")&&!(292&h.mode)||y.includes("w")&&!(146&h.mode)||y.includes("x")&&!(73&h.mode)?2:0,mayLookup:h=>p.nodePermissions(h,"x")||(h.node_ops.lookup?0:2),mayCreate:(h,y)=>{try{return p.lookupNode(h,y),20}catch{}return p.nodePermissions(h,"wx")},mayDelete:(h,y,w)=>{var P;try{P=p.lookupNode(h,y)}catch(ve){return ve.errno}var V=p.nodePermissions(h,"wx");if(V)return V;if(w){if(!p.isDir(P.mode))return 54;if(p.isRoot(P)||p.getPath(P)===p.cwd())return 10}else if(p.isDir(P.mode))return 31;return 0},mayOpen:(h,y)=>h?p.isLink(h.mode)?32:p.isDir(h.mode)&&("r"!==p.flagsToPermissionString(y)||512&y)?31:p.nodePermissions(h,p.flagsToPermissionString(y)):44,MAX_OPEN_FDS:4096,nextfd:(h=0,y=p.MAX_OPEN_FDS)=>{for(var w=h;w<=y;w++)if(!p.streams[w])return w;throw new p.ErrnoError(33)},getStream:h=>p.streams[h],createStream:(h,y,w)=>{p.FSStream||(p.FSStream=function(){this.shared={}},p.FSStream.prototype={},Object.defineProperties(p.FSStream.prototype,{object:{get:function(){return this.node},set:function(V){this.node=V}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(V){this.shared.flags=V}},position:{get:function(){return this.shared.position},set:function(V){this.shared.position=V}}})),h=Object.assign(new p.FSStream,h);var P=p.nextfd(y,w);return h.fd=P,p.streams[P]=h,h},closeStream:h=>{p.streams[h]=null},chrdev_stream_ops:{open:h=>{var y=p.getDevice(h.node.rdev);h.stream_ops=y.stream_ops,h.stream_ops.open&&h.stream_ops.open(h)},llseek:()=>{throw new p.ErrnoError(70)}},major:h=>h>>8,minor:h=>255&h,makedev:(h,y)=>h<<8|y,registerDevice:(h,y)=>{p.devices[h]={stream_ops:y}},getDevice:h=>p.devices[h],getMounts:h=>{for(var y=[],w=[h];w.length;){var P=w.pop();y.push(P),w.push.apply(w,P.mounts)}return y},syncfs:(h,y)=>{"function"==typeof h&&(y=h,h=!1),p.syncFSRequests++,p.syncFSRequests>1&&q("warning: "+p.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var w=p.getMounts(p.root.mount),P=0;function V(Ie){return p.syncFSRequests--,y(Ie)}function ve(Ie){if(Ie)return ve.errored?void 0:(ve.errored=!0,V(Ie));++P>=w.length&&V(null)}w.forEach(Ie=>{if(!Ie.type.syncfs)return ve(null);Ie.type.syncfs(Ie,h,ve)})},mount:(h,y,w)=>{var ve,P="/"===w,V=!w;if(P&&p.root)throw new p.ErrnoError(10);if(!P&&!V){var Ie=p.lookupPath(w,{follow_mount:!1});if(w=Ie.path,p.isMountpoint(ve=Ie.node))throw new p.ErrnoError(10);if(!p.isDir(ve.mode))throw new p.ErrnoError(54)}var Be={type:h,opts:y,mountpoint:w,mounts:[]},Ct=h.mount(Be);return Ct.mount=Be,Be.root=Ct,P?p.root=Ct:ve&&(ve.mounted=Be,ve.mount&&ve.mount.mounts.push(Be)),Ct},unmount:h=>{var y=p.lookupPath(h,{follow_mount:!1});if(!p.isMountpoint(y.node))throw new p.ErrnoError(28);var w=y.node,P=w.mounted,V=p.getMounts(P);Object.keys(p.nameTable).forEach(Ie=>{for(var Be=p.nameTable[Ie];Be;){var Ct=Be.name_next;V.includes(Be.mount)&&p.destroyNode(Be),Be=Ct}}),w.mounted=null;var ve=w.mount.mounts.indexOf(P);w.mount.mounts.splice(ve,1)},lookup:(h,y)=>h.node_ops.lookup(h,y),mknod:(h,y,w)=>{var V=p.lookupPath(h,{parent:!0}).node,ve=pt.basename(h);if(!ve||"."===ve||".."===ve)throw new p.ErrnoError(28);var Ie=p.mayCreate(V,ve);if(Ie)throw new p.ErrnoError(Ie);if(!V.node_ops.mknod)throw new p.ErrnoError(63);return V.node_ops.mknod(V,ve,y,w)},create:(h,y)=>(y=void 0!==y?y:438,y&=4095,p.mknod(h,y|=32768,0)),mkdir:(h,y)=>(y=void 0!==y?y:511,y&=1023,p.mknod(h,y|=16384,0)),mkdirTree:(h,y)=>{for(var w=h.split("/"),P="",V=0;V<w.length;++V)if(w[V]){P+="/"+w[V];try{p.mkdir(P,y)}catch(ve){if(20!=ve.errno)throw ve}}},mkdev:(h,y,w)=>(typeof w>"u"&&(w=y,y=438),p.mknod(h,y|=8192,w)),symlink:(h,y)=>{if(!Vt.resolve(h))throw new p.ErrnoError(44);var P=p.lookupPath(y,{parent:!0}).node;if(!P)throw new p.ErrnoError(44);var V=pt.basename(y),ve=p.mayCreate(P,V);if(ve)throw new p.ErrnoError(ve);if(!P.node_ops.symlink)throw new p.ErrnoError(63);return P.node_ops.symlink(P,V,h)},rename:(h,y)=>{var Be,Ct,w=pt.dirname(h),P=pt.dirname(y),V=pt.basename(h),ve=pt.basename(y);if(Be=p.lookupPath(h,{parent:!0}).node,Ct=p.lookupPath(y,{parent:!0}).node,!Be||!Ct)throw new p.ErrnoError(44);if(Be.mount!==Ct.mount)throw new p.ErrnoError(75);var Fn,Et=p.lookupNode(Be,V),kn=Vt.relative(h,P);if("."!==kn.charAt(0))throw new p.ErrnoError(28);if("."!==(kn=Vt.relative(y,w)).charAt(0))throw new p.ErrnoError(55);try{Fn=p.lookupNode(Ct,ve)}catch{}if(Et!==Fn){var Gt=p.isDir(Et.mode),jt=p.mayDelete(Be,V,Gt);if(jt)throw new p.ErrnoError(jt);if(jt=Fn?p.mayDelete(Ct,ve,Gt):p.mayCreate(Ct,ve))throw new p.ErrnoError(jt);if(!Be.node_ops.rename)throw new p.ErrnoError(63);if(p.isMountpoint(Et)||Fn&&p.isMountpoint(Fn))throw new p.ErrnoError(10);if(Ct!==Be&&(jt=p.nodePermissions(Be,"w")))throw new p.ErrnoError(jt);p.hashRemoveNode(Et);try{Be.node_ops.rename(Et,Ct,ve)}catch(Sn){throw Sn}finally{p.hashAddNode(Et)}}},rmdir:h=>{var w=p.lookupPath(h,{parent:!0}).node,P=pt.basename(h),V=p.lookupNode(w,P),ve=p.mayDelete(w,P,!0);if(ve)throw new p.ErrnoError(ve);if(!w.node_ops.rmdir)throw new p.ErrnoError(63);if(p.isMountpoint(V))throw new p.ErrnoError(10);w.node_ops.rmdir(w,P),p.destroyNode(V)},readdir:h=>{var w=p.lookupPath(h,{follow:!0}).node;if(!w.node_ops.readdir)throw new p.ErrnoError(54);return w.node_ops.readdir(w)},unlink:h=>{var w=p.lookupPath(h,{parent:!0}).node;if(!w)throw new p.ErrnoError(44);var P=pt.basename(h),V=p.lookupNode(w,P),ve=p.mayDelete(w,P,!1);if(ve)throw new p.ErrnoError(ve);if(!w.node_ops.unlink)throw new p.ErrnoError(63);if(p.isMountpoint(V))throw new p.ErrnoError(10);w.node_ops.unlink(w,P),p.destroyNode(V)},readlink:h=>{var w=p.lookupPath(h).node;if(!w)throw new p.ErrnoError(44);if(!w.node_ops.readlink)throw new p.ErrnoError(28);return Vt.resolve(p.getPath(w.parent),w.node_ops.readlink(w))},stat:(h,y)=>{var P=p.lookupPath(h,{follow:!y}).node;if(!P)throw new p.ErrnoError(44);if(!P.node_ops.getattr)throw new p.ErrnoError(63);return P.node_ops.getattr(P)},lstat:h=>p.stat(h,!0),chmod:(h,y,w)=>{var P;if(!(P="string"==typeof h?p.lookupPath(h,{follow:!w}).node:h).node_ops.setattr)throw new p.ErrnoError(63);P.node_ops.setattr(P,{mode:4095&y|-4096&P.mode,timestamp:Date.now()})},lchmod:(h,y)=>{p.chmod(h,y,!0)},fchmod:(h,y)=>{var w=p.getStream(h);if(!w)throw new p.ErrnoError(8);p.chmod(w.node,y)},chown:(h,y,w,P)=>{var V;if(!(V="string"==typeof h?p.lookupPath(h,{follow:!P}).node:h).node_ops.setattr)throw new p.ErrnoError(63);V.node_ops.setattr(V,{timestamp:Date.now()})},lchown:(h,y,w)=>{p.chown(h,y,w,!0)},fchown:(h,y,w)=>{var P=p.getStream(h);if(!P)throw new p.ErrnoError(8);p.chown(P.node,y,w)},truncate:(h,y)=>{if(y<0)throw new p.ErrnoError(28);var w;if(!(w="string"==typeof h?p.lookupPath(h,{follow:!0}).node:h).node_ops.setattr)throw new p.ErrnoError(63);if(p.isDir(w.mode))throw new p.ErrnoError(31);if(!p.isFile(w.mode))throw new p.ErrnoError(28);var V=p.nodePermissions(w,"w");if(V)throw new p.ErrnoError(V);w.node_ops.setattr(w,{size:y,timestamp:Date.now()})},ftruncate:(h,y)=>{var w=p.getStream(h);if(!w)throw new p.ErrnoError(8);if(!(2097155&w.flags))throw new p.ErrnoError(28);p.truncate(w.node,y)},utime:(h,y,w)=>{var V=p.lookupPath(h,{follow:!0}).node;V.node_ops.setattr(V,{timestamp:Math.max(y,w)})},open:(h,y,w)=>{if(""===h)throw new p.ErrnoError(44);var P;if(w=typeof w>"u"?438:w,w=64&(y="string"==typeof y?p.modeStringToFlags(y):y)?4095&w|32768:0,"object"==typeof h)P=h;else{h=pt.normalize(h);try{P=p.lookupPath(h,{follow:!(131072&y)}).node}catch{}}var ve=!1;if(64&y)if(P){if(128&y)throw new p.ErrnoError(20)}else P=p.mknod(h,w,0),ve=!0;if(!P)throw new p.ErrnoError(44);if(p.isChrdev(P.mode)&&(y&=-513),65536&y&&!p.isDir(P.mode))throw new p.ErrnoError(54);if(!ve){var Ie=p.mayOpen(P,y);if(Ie)throw new p.ErrnoError(Ie)}512&y&&!ve&&p.truncate(P,0),y&=-131713;var Be=p.createStream({node:P,path:p.getPath(P),flags:y,seekable:!0,position:0,stream_ops:P.stream_ops,ungotten:[],error:!1});return Be.stream_ops.open&&Be.stream_ops.open(Be),l.logReadFiles&&!(1&y)&&(p.readFiles||(p.readFiles={}),h in p.readFiles||(p.readFiles[h]=1)),Be},close:h=>{if(p.isClosed(h))throw new p.ErrnoError(8);h.getdents&&(h.getdents=null);try{h.stream_ops.close&&h.stream_ops.close(h)}catch(y){throw y}finally{p.closeStream(h.fd)}h.fd=null},isClosed:h=>null===h.fd,llseek:(h,y,w)=>{if(p.isClosed(h))throw new p.ErrnoError(8);if(!h.seekable||!h.stream_ops.llseek)throw new p.ErrnoError(70);if(0!=w&&1!=w&&2!=w)throw new p.ErrnoError(28);return h.position=h.stream_ops.llseek(h,y,w),h.ungotten=[],h.position},read:(h,y,w,P,V)=>{if(P<0||V<0)throw new p.ErrnoError(28);if(p.isClosed(h))throw new p.ErrnoError(8);if(1==(2097155&h.flags))throw new p.ErrnoError(8);if(p.isDir(h.node.mode))throw new p.ErrnoError(31);if(!h.stream_ops.read)throw new p.ErrnoError(28);var ve=typeof V<"u";if(ve){if(!h.seekable)throw new p.ErrnoError(70)}else V=h.position;var Ie=h.stream_ops.read(h,y,w,P,V);return ve||(h.position+=Ie),Ie},write:(h,y,w,P,V,ve)=>{if(P<0||V<0)throw new p.ErrnoError(28);if(p.isClosed(h))throw new p.ErrnoError(8);if(!(2097155&h.flags))throw new p.ErrnoError(8);if(p.isDir(h.node.mode))throw new p.ErrnoError(31);if(!h.stream_ops.write)throw new p.ErrnoError(28);h.seekable&&1024&h.flags&&p.llseek(h,0,2);var Ie=typeof V<"u";if(Ie){if(!h.seekable)throw new p.ErrnoError(70)}else V=h.position;var Be=h.stream_ops.write(h,y,w,P,V,ve);return Ie||(h.position+=Be),Be},allocate:(h,y,w)=>{if(p.isClosed(h))throw new p.ErrnoError(8);if(y<0||w<=0)throw new p.ErrnoError(28);if(!(2097155&h.flags))throw new p.ErrnoError(8);if(!p.isFile(h.node.mode)&&!p.isDir(h.node.mode))throw new p.ErrnoError(43);if(!h.stream_ops.allocate)throw new p.ErrnoError(138);h.stream_ops.allocate(h,y,w)},mmap:(h,y,w,P,V)=>{if(2&P&&!(2&V)&&2!=(2097155&h.flags))throw new p.ErrnoError(2);if(1==(2097155&h.flags))throw new p.ErrnoError(2);if(!h.stream_ops.mmap)throw new p.ErrnoError(43);return h.stream_ops.mmap(h,y,w,P,V)},msync:(h,y,w,P,V)=>h.stream_ops.msync?h.stream_ops.msync(h,y,w,P,V):0,munmap:h=>0,ioctl:(h,y,w)=>{if(!h.stream_ops.ioctl)throw new p.ErrnoError(59);return h.stream_ops.ioctl(h,y,w)},readFile:(h,y={})=>{if(y.flags=y.flags||0,y.encoding=y.encoding||"binary","utf8"!==y.encoding&&"binary"!==y.encoding)throw new Error('Invalid encoding type "'+y.encoding+'"');var w,P=p.open(h,y.flags),ve=p.stat(h).size,Ie=new Uint8Array(ve);return p.read(P,Ie,0,ve,0),"utf8"===y.encoding?w=Xe(Ie,0):"binary"===y.encoding&&(w=Ie),p.close(P),w},writeFile:(h,y,w={})=>{w.flags=w.flags||577;var P=p.open(h,w.flags,w.mode);if("string"==typeof y){var V=new Uint8Array(ee(y)+1),ve=Me(y,V,0,V.length);p.write(P,V,0,ve,void 0,w.canOwn)}else{if(!ArrayBuffer.isView(y))throw new Error("Unsupported data type");p.write(P,y,0,y.byteLength,void 0,w.canOwn)}p.close(P)},cwd:()=>p.currentPath,chdir:h=>{var y=p.lookupPath(h,{follow:!0});if(null===y.node)throw new p.ErrnoError(44);if(!p.isDir(y.node.mode))throw new p.ErrnoError(54);var w=p.nodePermissions(y.node,"x");if(w)throw new p.ErrnoError(w);p.currentPath=y.path},createDefaultDirectories:()=>{p.mkdir("/tmp"),p.mkdir("/home"),p.mkdir("/home/web_user")},createDefaultDevices:()=>{p.mkdir("/dev"),p.registerDevice(p.makedev(1,3),{read:()=>0,write:(y,w,P,V,ve)=>V}),p.mkdev("/dev/null",p.makedev(1,3)),Vn.register(p.makedev(5,0),Vn.default_tty_ops),Vn.register(p.makedev(6,0),Vn.default_tty1_ops),p.mkdev("/dev/tty",p.makedev(5,0)),p.mkdev("/dev/tty1",p.makedev(6,0));var h=function fo(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var h=new Uint8Array(1);return()=>(crypto.getRandomValues(h),h[0])}return()=>lr("randomDevice")}();p.createDevice("/dev","random",h),p.createDevice("/dev","urandom",h),p.mkdir("/dev/shm"),p.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{p.mkdir("/proc");var h=p.mkdir("/proc/self");p.mkdir("/proc/self/fd"),p.mount({mount:()=>{var y=p.createNode(h,"fd",16895,73);return y.node_ops={lookup:(w,P)=>{var ve=p.getStream(+P);if(!ve)throw new p.ErrnoError(8);var Ie={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>ve.path}};return Ie.parent=Ie,Ie}},y}},{},"/proc/self/fd")},createStandardStreams:()=>{l.stdin?p.createDevice("/dev","stdin",l.stdin):p.symlink("/dev/tty","/dev/stdin"),l.stdout?p.createDevice("/dev","stdout",null,l.stdout):p.symlink("/dev/tty","/dev/stdout"),l.stderr?p.createDevice("/dev","stderr",null,l.stderr):p.symlink("/dev/tty1","/dev/stderr"),p.open("/dev/stdin",0),p.open("/dev/stdout",1),p.open("/dev/stderr",1)},ensureErrnoError:()=>{p.ErrnoError||(p.ErrnoError=function(y,w){this.node=w,this.setErrno=function(P){this.errno=P},this.setErrno(y),this.message="FS error"},p.ErrnoError.prototype=new Error,p.ErrnoError.prototype.constructor=p.ErrnoError,[44].forEach(h=>{p.genericErrors[h]=new p.ErrnoError(h),p.genericErrors[h].stack="<generic error, no stack>"}))},staticInit:()=>{p.ensureErrnoError(),p.nameTable=new Array(4096),p.mount(dt,{},"/"),p.createDefaultDirectories(),p.createDefaultDevices(),p.createSpecialDirectories(),p.filesystems={MEMFS:dt}},init:(h,y,w)=>{p.init.initialized=!0,p.ensureErrnoError(),l.stdin=h||l.stdin,l.stdout=y||l.stdout,l.stderr=w||l.stderr,p.createStandardStreams()},quit:()=>{p.init.initialized=!1;for(var h=0;h<p.streams.length;h++){var y=p.streams[h];y&&p.close(y)}},getMode:(h,y)=>{var w=0;return h&&(w|=365),y&&(w|=146),w},findObject:(h,y)=>{var w=p.analyzePath(h,y);return w.exists?w.object:null},analyzePath:(h,y)=>{try{h=(w=p.lookupPath(h,{follow:!y})).path}catch{}var P={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var w=p.lookupPath(h,{parent:!0});P.parentExists=!0,P.parentPath=w.path,P.parentObject=w.node,P.name=pt.basename(h),w=p.lookupPath(h,{follow:!y}),P.exists=!0,P.path=w.path,P.object=w.node,P.name=w.node.name,P.isRoot="/"===w.path}catch(V){P.error=V.errno}return P},createPath:(h,y,w,P)=>{h="string"==typeof h?h:p.getPath(h);for(var V=y.split("/").reverse();V.length;){var ve=V.pop();if(ve){var Ie=pt.join2(h,ve);try{p.mkdir(Ie)}catch{}h=Ie}}return Ie},createFile:(h,y,w,P,V)=>{var ve=pt.join2("string"==typeof h?h:p.getPath(h),y),Ie=p.getMode(P,V);return p.create(ve,Ie)},createDataFile:(h,y,w,P,V,ve)=>{var Ie=y;h&&(h="string"==typeof h?h:p.getPath(h),Ie=y?pt.join2(h,y):h);var Be=p.getMode(P,V),Ct=p.create(Ie,Be);if(w){if("string"==typeof w){for(var Et=new Array(w.length),kn=0,Fn=w.length;kn<Fn;++kn)Et[kn]=w.charCodeAt(kn);w=Et}p.chmod(Ct,146|Be);var Gt=p.open(Ct,577);p.write(Gt,w,0,w.length,0,ve),p.close(Gt),p.chmod(Ct,Be)}return Ct},createDevice:(h,y,w,P)=>{var V=pt.join2("string"==typeof h?h:p.getPath(h),y),ve=p.getMode(!!w,!!P);p.createDevice.major||(p.createDevice.major=64);var Ie=p.makedev(p.createDevice.major++,0);return p.registerDevice(Ie,{open:Be=>{Be.seekable=!1},close:Be=>{P&&P.buffer&&P.buffer.length&&P(10)},read:(Be,Ct,Et,kn,Fn)=>{for(var Gt=0,jt=0;jt<kn;jt++){var Sn;try{Sn=w()}catch{throw new p.ErrnoError(29)}if(void 0===Sn&&0===Gt)throw new p.ErrnoError(6);if(null==Sn)break;Gt++,Ct[Et+jt]=Sn}return Gt&&(Be.node.timestamp=Date.now()),Gt},write:(Be,Ct,Et,kn,Fn)=>{for(var Gt=0;Gt<kn;Gt++)try{P(Ct[Et+Gt])}catch{throw new p.ErrnoError(29)}return kn&&(Be.node.timestamp=Date.now()),Gt}}),p.mkdev(V,ve,Ie)},forceLoadFile:h=>{if(h.isDevice||h.isFolder||h.link||h.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!j)throw new Error("Cannot load without read() or XMLHttpRequest.");try{h.contents=_r(j(h.url),!0),h.usedBytes=h.contents.length}catch{throw new p.ErrnoError(29)}},createLazyFile:(h,y,w,P,V)=>{function ve(){this.lengthKnown=!1,this.chunks=[]}if(ve.prototype.get=function(jt){if(!(jt>this.length-1||jt<0)){var Sn=jt%this.chunkSize;return this.getter(jt/this.chunkSize|0)[Sn]}},ve.prototype.setDataGetter=function(jt){this.getter=jt},ve.prototype.cacheLength=function(){var jt=new XMLHttpRequest;if(jt.open("HEAD",w,!1),jt.send(null),!(jt.status>=200&&jt.status<300||304===jt.status))throw new Error("Couldn't load "+w+". Status: "+jt.status);var kr,Sn=Number(jt.getResponseHeader("Content-length")),fi=(kr=jt.getResponseHeader("Accept-Ranges"))&&"bytes"===kr,nt=(kr=jt.getResponseHeader("Content-Encoding"))&&"gzip"===kr,gt=1048576;fi||(gt=Sn);var Wr=this;Wr.setDataGetter(vn=>{var dr=vn*gt,fr=(vn+1)*gt-1;if(fr=Math.min(fr,Sn-1),typeof Wr.chunks[vn]>"u"&&(Wr.chunks[vn]=((vn,dr)=>{if(vn>dr)throw new Error("invalid range ("+vn+", "+dr+") or no bytes requested!");if(dr>Sn-1)throw new Error("only "+Sn+" bytes available! programmer error!");var fr=new XMLHttpRequest;if(fr.open("GET",w,!1),Sn!==gt&&fr.setRequestHeader("Range","bytes="+vn+"-"+dr),fr.responseType="arraybuffer",fr.overrideMimeType&&fr.overrideMimeType("text/plain; charset=x-user-defined"),fr.send(null),!(fr.status>=200&&fr.status<300||304===fr.status))throw new Error("Couldn't load "+w+". Status: "+fr.status);return void 0!==fr.response?new Uint8Array(fr.response||[]):_r(fr.responseText||"",!0)})(dr,fr)),typeof Wr.chunks[vn]>"u")throw new Error("doXHR failed!");return Wr.chunks[vn]}),(nt||!Sn)&&(gt=Sn=1,Sn=this.getter(0).length,gt=Sn,W("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Sn,this._chunkSize=gt,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!Y)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var Ie=new ve;Object.defineProperties(Ie,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var Be={isDevice:!1,contents:Ie}}else Be={isDevice:!1,url:w};var Ct=p.createFile(h,y,Be,P,V);Be.contents?Ct.contents=Be.contents:Be.url&&(Ct.contents=null,Ct.url=Be.url),Object.defineProperties(Ct,{usedBytes:{get:function(){return this.contents.length}}});var Et={};function Fn(Gt,jt,Sn,kr,fi){var nt=Gt.node.contents;if(fi>=nt.length)return 0;var gt=Math.min(nt.length-fi,kr);if(nt.slice)for(var Jt=0;Jt<gt;Jt++)jt[Sn+Jt]=nt[fi+Jt];else for(Jt=0;Jt<gt;Jt++)jt[Sn+Jt]=nt.get(fi+Jt);return gt}return Object.keys(Ct.stream_ops).forEach(Gt=>{var jt=Ct.stream_ops[Gt];Et[Gt]=function(){return p.forceLoadFile(Ct),jt.apply(null,arguments)}}),Et.read=(Gt,jt,Sn,kr,fi)=>(p.forceLoadFile(Ct),Fn(Gt,jt,Sn,kr,fi)),Et.mmap=(Gt,jt,Sn,kr,fi)=>{p.forceLoadFile(Ct);var nt=Do();if(!nt)throw new p.ErrnoError(48);return Fn(Gt,Qe,nt,jt,Sn),{ptr:nt,allocated:!0}},Ct.stream_ops=Et,Ct},createPreloadedFile:(h,y,w,P,V,ve,Ie,Be,Ct,Et)=>{var kn=y?Vt.resolve(pt.join2(h,y)):h;function Gt(jt){function Sn(kr){Et&&Et(),Be||p.createDataFile(h,y,kr,P,V,Ct),ve&&ve(),Hr()}Browser.handledByPreloadPlugin(jt,kn,Sn,()=>{Ie&&Ie(),Hr()})||Sn(jt)}oo(),"string"==typeof w?function Ar(h,y,w,P){var V=P?"":"al "+h;Pe(h,ve=>{be(ve,'Loading data file "'+h+'" failed (no arrayBuffer).'),y(new Uint8Array(ve)),V&&Hr()},ve=>{if(!w)throw'Loading data file "'+h+'" failed.';w()}),V&&oo()}(w,jt=>Gt(jt),Ie):Gt(w)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(h,y,w)=>{y=y||(()=>{}),w=w||(()=>{});var P=p.indexedDB();try{var V=P.open(p.DB_NAME(),p.DB_VERSION)}catch(ve){return w(ve)}V.onupgradeneeded=()=>{W("creating db"),V.result.createObjectStore(p.DB_STORE_NAME)},V.onsuccess=()=>{var Ie=V.result.transaction([p.DB_STORE_NAME],"readwrite"),Be=Ie.objectStore(p.DB_STORE_NAME),Ct=0,Et=0,kn=h.length;function Fn(){0==Et?y():w()}h.forEach(Gt=>{var jt=Be.put(p.analyzePath(Gt).object.contents,Gt);jt.onsuccess=()=>{++Ct+Et==kn&&Fn()},jt.onerror=()=>{Et++,Ct+Et==kn&&Fn()}}),Ie.onerror=w},V.onerror=w},loadFilesFromDB:(h,y,w)=>{y=y||(()=>{}),w=w||(()=>{});var P=p.indexedDB();try{var V=P.open(p.DB_NAME(),p.DB_VERSION)}catch(ve){return w(ve)}V.onupgradeneeded=w,V.onsuccess=()=>{var ve=V.result;try{var Ie=ve.transaction([p.DB_STORE_NAME],"readonly")}catch(Gt){return void w(Gt)}var Be=Ie.objectStore(p.DB_STORE_NAME),Ct=0,Et=0,kn=h.length;function Fn(){0==Et?y():w()}h.forEach(Gt=>{var jt=Be.get(Gt);jt.onsuccess=()=>{p.analyzePath(Gt).exists&&p.unlink(Gt),p.createDataFile(pt.dirname(Gt),pt.basename(Gt),jt.result,!0,!0,!0),++Ct+Et==kn&&Fn()},jt.onerror=()=>{Et++,Ct+Et==kn&&Fn()}}),Ie.onerror=w},V.onerror=w}},Tn={DEFAULT_POLLMASK:5,calculateAt:function(h,y,w){if(pt.isAbs(y))return y;var P;if(P=-100===h?p.cwd():Tn.getStreamFromFD(h).path,0==y.length){if(!w)throw new p.ErrnoError(44);return P}return pt.join2(P,y)},doStat:function(h,y,w){try{var P=h(y)}catch(V){if(V&&V.node&&pt.normalize(y)!==pt.normalize(p.getPath(V.node)))return-54;throw V}return F[w>>2]=P.dev,F[w+8>>2]=P.ino,F[w+12>>2]=P.mode,me[w+16>>2]=P.nlink,F[w+20>>2]=P.uid,F[w+24>>2]=P.gid,F[w+28>>2]=P.rdev,ae=[P.size>>>0,(at=P.size,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],F[w+40>>2]=ae[0],F[w+44>>2]=ae[1],F[w+48>>2]=4096,F[w+52>>2]=P.blocks,ae=[Math.floor(P.atime.getTime()/1e3)>>>0,(at=Math.floor(P.atime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],F[w+56>>2]=ae[0],F[w+60>>2]=ae[1],me[w+64>>2]=0,ae=[Math.floor(P.mtime.getTime()/1e3)>>>0,(at=Math.floor(P.mtime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],F[w+72>>2]=ae[0],F[w+76>>2]=ae[1],me[w+80>>2]=0,ae=[Math.floor(P.ctime.getTime()/1e3)>>>0,(at=Math.floor(P.ctime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],F[w+88>>2]=ae[0],F[w+92>>2]=ae[1],me[w+96>>2]=0,ae=[P.ino>>>0,(at=P.ino,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],F[w+104>>2]=ae[0],F[w+108>>2]=ae[1],0},doMsync:function(h,y,w,P,V){if(!p.isFile(y.node.mode))throw new p.ErrnoError(43);if(2&P)return 0;var ve=bt.slice(h,h+w);p.msync(y,ve,V,w,P)},varargs:void 0,get:function(){return Tn.varargs+=4,F[Tn.varargs-4>>2]},getStr:function(h){return Te(h)},getStreamFromFD:function(h){var y=p.getStream(h);if(!y)throw new p.ErrnoError(8);return y}};function Rn(h){return me[h>>2]+4294967296*F[h+4>>2]}function Io(h){return h%4==0&&(h%100!=0||h%400==0)}var Po=[0,31,60,91,121,152,182,213,244,274,305,335],Wi=[0,31,59,90,120,151,181,212,243,273,304,334];function yi(h){var y=ee(h)+1,w=ho(y);return w&&Me(h,Qe,w,y),w}var yr=[];function io(h){try{return ue.grow(h-Ue.byteLength+65535>>>16),Ve(ue.buffer),1}catch{}}var Bo={};function zr(){if(!zr.strings){var y={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:N||"./this.program"};for(var w in Bo)void 0===Bo[w]?delete y[w]:y[w]=Bo[w];var P=[];for(var w in y)P.push(w+"="+y[w]);zr.strings=P}return zr.strings}function ui(h,y){le=h,function Bs(h){le=h,function Kt(){return Fe}()||(l.onExit&&l.onExit(h),it=!0),B(h,new Pn(h))}(h)}var us=ui,O=[31,29,31,30,31,30,31,31,30,31,30,31],he=[31,28,31,30,31,30,31,31,30,31,30,31];var Je=function(h,y,w,P){h||(h=this),this.parent=h,this.mount=h.mount,this.mounted=null,this.id=p.nextInode++,this.name=y,this.mode=w,this.node_ops={},this.stream_ops={},this.rdev=P};Object.defineProperties(Je.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(h){h?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(h){h?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return p.isDir(this.mode)}},isDevice:{get:function(){return p.isChrdev(this.mode)}}}),p.FSNode=Je,p.staticInit();var rr,Bt={b:function cr(h,y,w,P){lr("Assertion failed: "+Te(h)+", at: "+[y?Te(y):"unknown filename",w,P?Te(P):"unknown function"])},g:function E(h,y,w,P){Tn.varargs=P;try{y=Tn.getStr(y),y=Tn.calculateAt(h,y);var V=P?Tn.get():0;return p.open(y,w,V).fd}catch(ve){if(typeof p>"u"||!(ve instanceof p.ErrnoError))throw ve;return-ve.errno}},h:function zi(h,y){var w=new Date(1e3*Rn(h));F[y>>2]=w.getUTCSeconds(),F[y+4>>2]=w.getUTCMinutes(),F[y+8>>2]=w.getUTCHours(),F[y+12>>2]=w.getUTCDate(),F[y+16>>2]=w.getUTCMonth(),F[y+20>>2]=w.getUTCFullYear()-1900,F[y+24>>2]=w.getUTCDay();var P=Date.UTC(w.getUTCFullYear(),0,1,0,0,0,0),V=(w.getTime()-P)/864e5|0;F[y+28>>2]=V},i:function Zi(h,y){var w=new Date(1e3*Rn(h));F[y>>2]=w.getSeconds(),F[y+4>>2]=w.getMinutes(),F[y+8>>2]=w.getHours(),F[y+12>>2]=w.getDate(),F[y+16>>2]=w.getMonth(),F[y+20>>2]=w.getFullYear()-1900,F[y+24>>2]=w.getDay();var P=0|function ei(h){return(Io(h.getFullYear())?Po:Wi)[h.getMonth()]+h.getDate()-1}(w);F[y+28>>2]=P,F[y+36>>2]=-60*w.getTimezoneOffset();var V=new Date(w.getFullYear(),0,1),ve=new Date(w.getFullYear(),6,1).getTimezoneOffset(),Ie=V.getTimezoneOffset(),Be=0|(ve!=Ie&&w.getTimezoneOffset()==Math.min(Ie,ve));F[y+32>>2]=Be},j:function yo(h,y,w){var P=(new Date).getFullYear(),V=new Date(P,0,1),ve=new Date(P,6,1),Ie=V.getTimezoneOffset(),Be=ve.getTimezoneOffset(),Ct=Math.max(Ie,Be);function Et(Sn){var kr=Sn.toTimeString().match(/\(([A-Za-z ]+)\)$/);return kr?kr[1]:"GMT"}me[h>>2]=60*Ct,F[y>>2]=Number(Ie!=Be);var kn=Et(V),Fn=Et(ve),Gt=yi(kn),jt=yi(Fn);Be<Ie?(me[w>>2]=Gt,me[w+4>>2]=jt):(me[w>>2]=jt,me[w+4>>2]=Gt)},c:function vi(){lr("")},a:function po(h,y,w){var P=function ti(h,y){var w;for(yr.length=0,y>>=2;w=bt[h++];)y+=105!=w&y,yr.push(105==w?F[y]:tt[y++>>1]),++y;return yr}(y,w);return He[h].apply(null,P)},d:function bi(){return Date.now()},p:function ci(h,y,w){bt.copyWithin(h,y,y+w)},m:function $s(h){var Ct,y=bt.length,w=2147483648;if((h>>>=0)>w)return!1;for(var V=1;V<=4;V*=2){var ve=y*(1+.2/V);if(ve=Math.min(ve,h+100663296),io(Math.min(w,(Ct=Math.max(h,ve))+(65536-Ct%65536)%65536)))return!0}return!1},n:function ko(h,y){var w=0;return zr().forEach(function(P,V){var ve=y+w;me[h+4*V>>2]=ve,function cs(h,y,w){for(var P=0;P<h.length;++P)Qe[y++>>0]=h.charCodeAt(P);w||(Qe[y>>0]=0)}(P,ve),w+=P.length+1}),0},o:function Fi(h,y){var w=zr();me[h>>2]=w.length;var P=0;return w.forEach(function(V){P+=V.length+1}),me[y>>2]=P,0},r:us,e:function Vs(h){try{var y=Tn.getStreamFromFD(h);return p.close(y),0}catch(w){if(typeof p>"u"||!(w instanceof p.ErrnoError))throw w;return w.errno}},f:function vr(h,y,w,P){try{var ve=function Us(h,y,w,P){for(var V=0,ve=0;ve<w;ve++){var Ie=me[y>>2],Be=me[y+4>>2];y+=8;var Ct=p.read(h,Qe,Ie,Be,P);if(Ct<0)return-1;if(V+=Ct,Ct<Be)break}return V}(Tn.getStreamFromFD(h),y,w);return me[P>>2]=ve,0}catch(Ie){if(typeof p>"u"||!(Ie instanceof p.ErrnoError))throw Ie;return Ie.errno}},k:function ws(h,y,w,P,V){try{var ve=function Ci(h,y){return y+2097152>>>0<4194305-!!h?(h>>>0)+4294967296*y:NaN}(y,w);if(isNaN(ve))return 61;var Ie=Tn.getStreamFromFD(h);return p.llseek(Ie,ve,P),ae=[Ie.position>>>0,(at=Ie.position,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],F[V>>2]=ae[0],F[V+4>>2]=ae[1],Ie.getdents&&0===ve&&0===P&&(Ie.getdents=null),0}catch(Be){if(typeof p>"u"||!(Be instanceof p.ErrnoError))throw Be;return Be.errno}},q:function nr(h,y,w,P){try{var ve=function qi(h,y,w,P){for(var V=0,ve=0;ve<w;ve++){var Ie=me[y>>2],Be=me[y+4>>2];y+=8;var Ct=p.write(h,Qe,Ie,Be,P);if(Ct<0)return-1;V+=Ct}return V}(Tn.getStreamFromFD(h),y,w);return me[P>>2]=ve,0}catch(Ie){if(typeof p>"u"||!(Ie instanceof p.ErrnoError))throw Ie;return Ie.errno}},l:function fe(h,y,w,P,V){return function R(h,y,w,P){var V=F[P+40>>2],ve={tm_sec:F[P>>2],tm_min:F[P+4>>2],tm_hour:F[P+8>>2],tm_mday:F[P+12>>2],tm_mon:F[P+16>>2],tm_year:F[P+20>>2],tm_wday:F[P+24>>2],tm_yday:F[P+28>>2],tm_isdst:F[P+32>>2],tm_gmtoff:F[P+36>>2],tm_zone:V?Te(V):""},Ie=Te(w),Be={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Ct in Be)Ie=Ie.replace(new RegExp(Ct,"g"),Be[Ct]);var Et=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],kn=["January","February","March","April","May","June","July","August","September","October","November","December"];function Fn(gt,Jt,Wr){for(var vn="number"==typeof gt?gt.toString():gt||"";vn.length<Jt;)vn=Wr[0]+vn;return vn}function Gt(gt,Jt){return Fn(gt,Jt,"0")}function jt(gt,Jt){function Wr(dr){return dr<0?-1:dr>0?1:0}var vn;return 0===(vn=Wr(gt.getFullYear()-Jt.getFullYear()))&&0===(vn=Wr(gt.getMonth()-Jt.getMonth()))&&(vn=Wr(gt.getDate()-Jt.getDate())),vn}function Sn(gt){switch(gt.getDay()){case 0:return new Date(gt.getFullYear()-1,11,29);case 1:return gt;case 2:return new Date(gt.getFullYear(),0,3);case 3:return new Date(gt.getFullYear(),0,2);case 4:return new Date(gt.getFullYear(),0,1);case 5:return new Date(gt.getFullYear()-1,11,31);case 6:return new Date(gt.getFullYear()-1,11,30)}}function kr(gt){var Jt=function Se(h,y){for(var w=new Date(h.getTime());y>0;){var P=Io(w.getFullYear()),V=w.getMonth(),ve=(P?O:he)[V];if(!(y>ve-w.getDate()))return w.setDate(w.getDate()+y),w;y-=ve-w.getDate()+1,w.setDate(1),V<11?w.setMonth(V+1):(w.setMonth(0),w.setFullYear(w.getFullYear()+1))}return w}(new Date(gt.tm_year+1900,0,1),gt.tm_yday),Wr=new Date(Jt.getFullYear(),0,4),vn=new Date(Jt.getFullYear()+1,0,4),dr=Sn(Wr),fr=Sn(vn);return jt(dr,Jt)<=0?jt(fr,Jt)<=0?Jt.getFullYear()+1:Jt.getFullYear():Jt.getFullYear()-1}var fi={"%a":function(gt){return Et[gt.tm_wday].substring(0,3)},"%A":function(gt){return Et[gt.tm_wday]},"%b":function(gt){return kn[gt.tm_mon].substring(0,3)},"%B":function(gt){return kn[gt.tm_mon]},"%C":function(gt){return Gt((gt.tm_year+1900)/100|0,2)},"%d":function(gt){return Gt(gt.tm_mday,2)},"%e":function(gt){return Fn(gt.tm_mday,2," ")},"%g":function(gt){return kr(gt).toString().substring(2)},"%G":function(gt){return kr(gt)},"%H":function(gt){return Gt(gt.tm_hour,2)},"%I":function(gt){var Jt=gt.tm_hour;return 0==Jt?Jt=12:Jt>12&&(Jt-=12),Gt(Jt,2)},"%j":function(gt){return Gt(gt.tm_mday+function M(h,y){for(var w=0,P=0;P<=y;w+=h[P++]);return w}(Io(gt.tm_year+1900)?O:he,gt.tm_mon-1),3)},"%m":function(gt){return Gt(gt.tm_mon+1,2)},"%M":function(gt){return Gt(gt.tm_min,2)},"%n":function(){return"\n"},"%p":function(gt){return gt.tm_hour>=0&&gt.tm_hour<12?"AM":"PM"},"%S":function(gt){return Gt(gt.tm_sec,2)},"%t":function(){return"\t"},"%u":function(gt){return gt.tm_wday||7},"%U":function(gt){return Gt(Math.floor((gt.tm_yday+7-gt.tm_wday)/7),2)},"%V":function(gt){var Jt=Math.floor((gt.tm_yday+7-(gt.tm_wday+6)%7)/7);if((gt.tm_wday+371-gt.tm_yday-2)%7<=2&&Jt++,Jt){if(53==Jt){var vn=(gt.tm_wday+371-gt.tm_yday)%7;4!=vn&&(3!=vn||!Io(gt.tm_year))&&(Jt=1)}}else{Jt=52;var Wr=(gt.tm_wday+7-gt.tm_yday-1)%7;(4==Wr||5==Wr&&Io(gt.tm_year%400-1))&&Jt++}return Gt(Jt,2)},"%w":function(gt){return gt.tm_wday},"%W":function(gt){return Gt(Math.floor((gt.tm_yday+7-(gt.tm_wday+6)%7)/7),2)},"%y":function(gt){return(gt.tm_year+1900).toString().substring(2)},"%Y":function(gt){return gt.tm_year+1900},"%z":function(gt){var Jt=gt.tm_gmtoff,Wr=Jt>=0;return Jt=(Jt=Math.abs(Jt)/60)/60*100+Jt%60,(Wr?"+":"-")+String("0000"+Jt).slice(-4)},"%Z":function(gt){return gt.tm_zone},"%%":function(){return"%"}};for(var Ct in Ie=Ie.replace(/%%/g,"\0\0"),fi)Ie.includes(Ct)&&(Ie=Ie.replace(new RegExp(Ct,"g"),fi[Ct](ve)));var nt=_r(Ie=Ie.replace(/\0\0/g,"%"),!1);return nt.length>y?0:(function Oe(h,y){Qe.set(h,y)}(nt,h),nt.length-1)}(h,y,w,P)}},ho=(function Jr(){var h={a:Bt};function y(Ie,Be){l.asm=Ie.exports,Ve((ue=l.asm.s).buffer),function co(h){Ae.unshift(h)}(l.asm.t),Hr()}function w(Ie){y(Ie.instance)}function P(Ie){return function ls(){return de||!ce&&!Y||"function"!=typeof fetch?Promise.resolve().then(function(){return uo(pn)}):fetch(pn,{credentials:"same-origin"}).then(function(h){if(!h.ok)throw"failed to load wasm binary file at '"+pn+"'";return h.arrayBuffer()}).catch(function(){return uo(pn)})}().then(function(Be){return WebAssembly.instantiate(Be,h)}).then(function(Be){return Be}).then(Ie,function(Be){q("failed to asynchronously prepare wasm: "+Be),lr(Be)})}if(oo(),l.instantiateWasm)try{return l.instantiateWasm(h,y)}catch(Ie){q("Module.instantiateWasm callback failed with error: "+Ie),J(Ie)}(function V(){return de||"function"!=typeof WebAssembly.instantiateStreaming||_o(pn)||"function"!=typeof fetch?P(w):fetch(pn,{credentials:"same-origin"}).then(function(Ie){return WebAssembly.instantiateStreaming(Ie,h).then(w,function(Ct){return q("wasm streaming compile failed: "+Ct),q("falling back to ArrayBuffer instantiation"),P(w)})})})().catch(J)}(),l.___wasm_call_ctors=function(){return(l.___wasm_call_ctors=l.asm.t).apply(null,arguments)},l._free=function(){return(l._free=l.asm.u).apply(null,arguments)},l._malloc=function(){return(ho=l._malloc=l.asm.v).apply(null,arguments)}),Vo=l._emscripten_bind_VoidPtr___destroy___0=function(){return(Vo=l._emscripten_bind_VoidPtr___destroy___0=l.asm.w).apply(null,arguments)},wi=l._emscripten_bind_FSTools_FSTools_0=function(){return(wi=l._emscripten_bind_FSTools_FSTools_0=l.asm.x).apply(null,arguments)},Nr=l._emscripten_bind_FSTools_Malloc_1=function(){return(Nr=l._emscripten_bind_FSTools_Malloc_1=l.asm.y).apply(null,arguments)},ds=l._emscripten_bind_FSTools_Free_1=function(){return(ds=l._emscripten_bind_FSTools_Free_1=l.asm.z).apply(null,arguments)},Xa=l._emscripten_bind_FSTools_Nullptr_0=function(){return(Xa=l._emscripten_bind_FSTools_Nullptr_0=l.asm.A).apply(null,arguments)},Qa=l._emscripten_bind_FSTools___destroy___0=function(){return(Qa=l._emscripten_bind_FSTools___destroy___0=l.asm.B).apply(null,arguments)},Oi=l._emscripten_bind_MkfsContext_MkfsContext_0=function(){return(Oi=l._emscripten_bind_MkfsContext_MkfsContext_0=l.asm.C).apply(null,arguments)},Ja=l._emscripten_bind_MkfsContext_Mkfs_2=function(){return(Ja=l._emscripten_bind_MkfsContext_Mkfs_2=l.asm.D).apply(null,arguments)},Js=l._emscripten_bind_MkfsContext_GetImage_0=function(){return(Js=l._emscripten_bind_MkfsContext_GetImage_0=l.asm.E).apply(null,arguments)},ea=l._emscripten_bind_MkfsContext_GetImageSize_0=function(){return(ea=l._emscripten_bind_MkfsContext_GetImageSize_0=l.asm.F).apply(null,arguments)},$l=l._emscripten_bind_MkfsContext___destroy___0=function(){return($l=l._emscripten_bind_MkfsContext___destroy___0=l.asm.G).apply(null,arguments)},Bl=l._emscripten_bind_FsckContext_FsckContext_1=function(){return(Bl=l._emscripten_bind_FsckContext_FsckContext_1=l.asm.H).apply(null,arguments)},Vl=l._emscripten_bind_FsckContext_GetImage_0=function(){return(Vl=l._emscripten_bind_FsckContext_GetImage_0=l.asm.I).apply(null,arguments)},ya=l._emscripten_bind_FsckContext_GetDirtyPages_0=function(){return(ya=l._emscripten_bind_FsckContext_GetDirtyPages_0=l.asm.J).apply(null,arguments)},Ul=l._emscripten_bind_FsckContext_GetImageSize_0=function(){return(Ul=l._emscripten_bind_FsckContext_GetImageSize_0=l.asm.K).apply(null,arguments)},Uo=l._emscripten_bind_FsckContext_Fsck_0=function(){return(Uo=l._emscripten_bind_FsckContext_Fsck_0=l.asm.L).apply(null,arguments)},Zn=l._emscripten_bind_FsckContext_GetResult_0=function(){return(Zn=l._emscripten_bind_FsckContext_GetResult_0=l.asm.M).apply(null,arguments)},el=l._emscripten_bind_FsckContext___destroy___0=function(){return(el=l._emscripten_bind_FsckContext___destroy___0=l.asm.N).apply(null,arguments)},tl=l._emscripten_bind_GunzipContext_GunzipContext_3=function(){return(tl=l._emscripten_bind_GunzipContext_GunzipContext_3=l.asm.O).apply(null,arguments)},nl=l._emscripten_bind_GunzipContext_GetState_0=function(){return(nl=l._emscripten_bind_GunzipContext_GetState_0=l.asm.P).apply(null,arguments)},mt=l._emscripten_bind_GunzipContext_Continue_0=function(){return(mt=l._emscripten_bind_GunzipContext_Continue_0=l.asm.Q).apply(null,arguments)},rl=l._emscripten_bind_GunzipContext_GetUncompressedData_0=function(){return(rl=l._emscripten_bind_GunzipContext_GetUncompressedData_0=l.asm.R).apply(null,arguments)},Er=l._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=function(){return(Er=l._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=l.asm.S).apply(null,arguments)},Ss=l._emscripten_bind_GunzipContext_GetUncompressedSize_0=function(){return(Ss=l._emscripten_bind_GunzipContext_GetUncompressedSize_0=l.asm.T).apply(null,arguments)},va=l._emscripten_bind_GunzipContext_GetError_0=function(){return(va=l._emscripten_bind_GunzipContext_GetError_0=l.asm.U).apply(null,arguments)},ta=l._emscripten_bind_GunzipContext___destroy___0=function(){return(ta=l._emscripten_bind_GunzipContext___destroy___0=l.asm.V).apply(null,arguments)},ba=l._emscripten_bind_GzipContext_GzipContext_3=function(){return(ba=l._emscripten_bind_GzipContext_GzipContext_3=l.asm.W).apply(null,arguments)},Ca=l._emscripten_bind_GzipContext_SetFilename_1=function(){return(Ca=l._emscripten_bind_GzipContext_SetFilename_1=l.asm.X).apply(null,arguments)},na=l._emscripten_bind_GzipContext_SetMtime_1=function(){return(na=l._emscripten_bind_GzipContext_SetMtime_1=l.asm.Y).apply(null,arguments)},Es=l._emscripten_bind_GzipContext_Continue_0=function(){return(Es=l._emscripten_bind_GzipContext_Continue_0=l.asm.Z).apply(null,arguments)},js=l._emscripten_bind_GzipContext_GetState_0=function(){return(js=l._emscripten_bind_GzipContext_GetState_0=l.asm._).apply(null,arguments)},ra=l._emscripten_bind_GzipContext_GetGzipData_0=function(){return(ra=l._emscripten_bind_GzipContext_GetGzipData_0=l.asm.$).apply(null,arguments)},wa=l._emscripten_bind_GzipContext_GetGzipSize_0=function(){return(wa=l._emscripten_bind_GzipContext_GetGzipSize_0=l.asm.aa).apply(null,arguments)},dn=l._emscripten_bind_GzipContext_GetError_0=function(){return(dn=l._emscripten_bind_GzipContext_GetError_0=l.asm.ba).apply(null,arguments)},Gs=l._emscripten_bind_GzipContext___destroy___0=function(){return(Gs=l._emscripten_bind_GzipContext___destroy___0=l.asm.ca).apply(null,arguments)};function sl(h){function y(){rr||(rr=!0,l.calledRun=!0,!it&&(function yn(){!l.noFSInit&&!p.init.initialized&&p.init(),p.ignorePermissions=!1,Vn.init(),Bn(Ae)}(),function Sr(){Bn(At)}(),ne(l),l.onRuntimeInitialized&&l.onRuntimeInitialized(),al&&function jl(h){var y=l._main;try{var V=y(0,0);return ui(V),V}catch(ve){return function ke(h){if(h instanceof Pn||"unwind"==h)return le;B(1,h)}(ve)}}(),function tr(){if(l.postRun)for("function"==typeof l.postRun&&(l.postRun=[l.postRun]);l.postRun.length;)h=l.postRun.shift(),tn.unshift(h);var h;Bn(tn)}()))}h=h||X,An>0||(function U(){if(l.preRun)for("function"==typeof l.preRun&&(l.preRun=[l.preRun]);l.preRun.length;)h=l.preRun.shift(),ft.unshift(h);var h;Bn(ft)}(),An>0)||(l.setStatus?(l.setStatus("Running..."),setTimeout(function(){setTimeout(function(){l.setStatus("")},1),y()},1)):y())}if(l._main=function(){return(l._main=l.asm.da).apply(null,arguments)},l.___original_main=function(){return(l.___original_main=l.asm.fa).apply(null,arguments)},l.___start_em_js=44796,l.___stop_em_js=44894,jn=function h(){rr||sl(),rr||(jn=h)},l.preInit)for("function"==typeof l.preInit&&(l.preInit=[l.preInit]);l.preInit.length>0;)l.preInit.pop()();var al=!0;function Br(){}function di(h){return(h||Br).__cache__}function mo(h,y){var w=di(y),P=w[h];return P||((P=Object.create((y||Br).prototype)).ptr=h,w[h]=P)}l.noInitialRun&&(al=!1),sl(),(Br.prototype=Object.create(Br.prototype)).constructor=Br,Br.prototype.__class__=Br,Br.__cache__={},l.WrapperObject=Br,l.getCache=di,l.wrapPointer=mo,l.castObject=function ll(h,y){return mo(h.ptr,y)},l.NULL=mo(0),l.destroy=function cl(h){if(!h.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";h.__destroy__(),delete di(h.__class__)[h.ptr]},l.compare=function ul(h,y){return h.ptr===y.ptr},l.getPointer=function Sa(h){return h.ptr},l.getClass=function Ds(h){return h.__class__};var zn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(zn.needed){for(var h=0;h<zn.temps.length;h++)l._free(zn.temps[h]);zn.temps.length=0,l._free(zn.buffer),zn.buffer=0,zn.size+=zn.needed,zn.needed=0}zn.buffer||(zn.size+=128,zn.buffer=l._malloc(zn.size),be(zn.buffer)),zn.pos=0},alloc:function(h,y){be(zn.buffer);var V,P=h.length*y.BYTES_PER_ELEMENT;return zn.pos+(P=P+7&-8)>=zn.size?(be(P>0),zn.needed+=P,V=l._malloc(P),zn.temps.push(V)):(V=zn.buffer+zn.pos,zn.pos+=P),V},copy:function(h,y,w){switch(w>>>=0,y.BYTES_PER_ELEMENT){case 2:w>>>=1;break;case 4:w>>>=2;break;case 8:w>>>=3}for(var V=0;V<h.length;V++)y[w+V]=h[V]}};function Ea(h){if("string"==typeof h){var y=_r(h),w=zn.alloc(y,Qe);return zn.copy(y,Qe,w),w}return h}function se(){throw"cannot construct a VoidPtr, no constructor in IDL"}function so(){this.ptr=wi(),di(so)[this.ptr]=this}function on(){this.ptr=Oi(),di(on)[this.ptr]=this}function Ir(h){h&&"object"==typeof h&&(h=h.ptr),this.ptr=Bl(h),di(Ir)[this.ptr]=this}function Dr(h,y,w){h&&"object"==typeof h&&(h=h.ptr),y&&"object"==typeof y&&(y=y.ptr),w&&"object"==typeof w&&(w=w.ptr),this.ptr=tl(h,y,w),di(Dr)[this.ptr]=this}function Kn(h,y,w){h&&"object"==typeof h&&(h=h.ptr),y&&"object"==typeof y&&(y=y.ptr),w&&"object"==typeof w&&(w=w.ptr),this.ptr=ba(h,y,w),di(Kn)[this.ptr]=this}return(se.prototype=Object.create(Br.prototype)).constructor=se,se.prototype.__class__=se,se.__cache__={},l.VoidPtr=se,se.prototype.__destroy__=se.prototype.__destroy__=function(){Vo(this.ptr)},(so.prototype=Object.create(Br.prototype)).constructor=so,so.prototype.__class__=so,so.__cache__={},l.FSTools=so,so.prototype.Malloc=so.prototype.Malloc=function(h){return h&&"object"==typeof h&&(h=h.ptr),mo(Nr(this.ptr,h),se)},so.prototype.Free=so.prototype.Free=function(h){h&&"object"==typeof h&&(h=h.ptr),ds(this.ptr,h)},so.prototype.Nullptr=so.prototype.Nullptr=function(){return mo(Xa(this.ptr),se)},so.prototype.__destroy__=so.prototype.__destroy__=function(){Qa(this.ptr)},(on.prototype=Object.create(Br.prototype)).constructor=on,on.prototype.__class__=on,on.__cache__={},l.MkfsContext=on,on.prototype.Mkfs=on.prototype.Mkfs=function(h,y){var w=this.ptr;return zn.prepare(),h&&"object"==typeof h&&(h=h.ptr),y=y&&"object"==typeof y?y.ptr:Ea(y),!!Ja(w,h,y)},on.prototype.GetImage=on.prototype.GetImage=function(){return mo(Js(this.ptr),se)},on.prototype.GetImageSize=on.prototype.GetImageSize=function(){return ea(this.ptr)},on.prototype.__destroy__=on.prototype.__destroy__=function(){$l(this.ptr)},(Ir.prototype=Object.create(Br.prototype)).constructor=Ir,Ir.prototype.__class__=Ir,Ir.__cache__={},l.FsckContext=Ir,Ir.prototype.GetImage=Ir.prototype.GetImage=function(){return mo(Vl(this.ptr),se)},Ir.prototype.GetDirtyPages=Ir.prototype.GetDirtyPages=function(){return mo(ya(this.ptr),se)},Ir.prototype.GetImageSize=Ir.prototype.GetImageSize=function(){return Ul(this.ptr)},Ir.prototype.Fsck=Ir.prototype.Fsck=function(){return Uo(this.ptr)},Ir.prototype.GetResult=Ir.prototype.GetResult=function(){return Zn(this.ptr)},Ir.prototype.__destroy__=Ir.prototype.__destroy__=function(){el(this.ptr)},(Dr.prototype=Object.create(Br.prototype)).constructor=Dr,Dr.prototype.__class__=Dr,Dr.__cache__={},l.GunzipContext=Dr,Dr.prototype.GetState=Dr.prototype.GetState=function(){return nl(this.ptr)},Dr.prototype.Continue=Dr.prototype.Continue=function(){return mt(this.ptr)},Dr.prototype.GetUncompressedData=Dr.prototype.GetUncompressedData=function(){return mo(rl(this.ptr),se)},Dr.prototype.ReleaseUncompressedData=Dr.prototype.ReleaseUncompressedData=function(){return mo(Er(this.ptr),se)},Dr.prototype.GetUncompressedSize=Dr.prototype.GetUncompressedSize=function(){return Ss(this.ptr)},Dr.prototype.GetError=Dr.prototype.GetError=function(){return Te(va(this.ptr))},Dr.prototype.__destroy__=Dr.prototype.__destroy__=function(){ta(this.ptr)},(Kn.prototype=Object.create(Br.prototype)).constructor=Kn,Kn.prototype.__class__=Kn,Kn.__cache__={},l.GzipContext=Kn,Kn.prototype.SetFilename=Kn.prototype.SetFilename=function(h){var y=this.ptr;return zn.prepare(),h=h&&"object"==typeof h?h.ptr:Ea(h),mo(Ca(y,h),Kn)},Kn.prototype.SetMtime=Kn.prototype.SetMtime=function(h){return h&&"object"==typeof h&&(h=h.ptr),mo(na(this.ptr,h),Kn)},Kn.prototype.Continue=Kn.prototype.Continue=function(){return Es(this.ptr)},Kn.prototype.GetState=Kn.prototype.GetState=function(){return js(this.ptr)},Kn.prototype.GetGzipData=Kn.prototype.GetGzipData=function(){return mo(ra(this.ptr),se)},Kn.prototype.GetGzipSize=Kn.prototype.GetGzipSize=function(){return wa(this.ptr)},Kn.prototype.GetError=Kn.prototype.GetError=function(){return Te(dn(this.ptr))},Kn.prototype.__destroy__=Kn.prototype.__destroy__=function(){Gs(this.ptr)},D.ready});$e.exports=ze},7971:$e=>{var T,ze=(T=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(D){var ne,J,l=typeof(D=D||{})<"u"?D:{};l.ready=new Promise(function(d,_){ne=d,J=_});var j,Pe,Le,H=Object.assign({},l),X=[],N="./this.program",B=(d,_)=>{throw _},ce="object"==typeof window,Y="function"==typeof importScripts,$=("object"==typeof process&&"object"==typeof process.versions&&process,"");(ce||Y)&&(Y?$=self.location.href:typeof document<"u"&&document.currentScript&&($=document.currentScript.src),T&&($=T),$=0!==$.indexOf("blob:")?$.substr(0,$.replace(/[?#].*/,"").lastIndexOf("/")+1):"",j=d=>{var _=new XMLHttpRequest;return _.open("GET",d,!1),_.send(null),_.responseText},Y&&(Le=d=>{var _=new XMLHttpRequest;return _.open("GET",d,!1),_.responseType="arraybuffer",_.send(null),new Uint8Array(_.response)}),Pe=(d,_,C)=>{var A=new XMLHttpRequest;A.open("GET",d,!0),A.responseType="arraybuffer",A.onload=()=>{200==A.status||0==A.status&&A.response?_(A.response):C()},A.onerror=C,A.send(null)});var de,W=l.print||console.log.bind(console),q=l.printErr||console.warn.bind(console);Object.assign(l,H),H=null,l.arguments&&(X=l.arguments),l.thisProgram&&(N=l.thisProgram),l.quit&&(B=l.quit),l.wasmBinary&&(de=l.wasmBinary);var Fe=l.noExitRuntime||!0;"object"!=typeof WebAssembly&&lr("no native wasm support detected");var ue,le,it=!1;function be(d,_){d||lr(_)}var Ue,Qe,bt,F,me,Ee=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Xe(d,_,C){for(var A=_+C,z=_;d[z]&&!(z>=A);)++z;if(z-_>16&&d.buffer&&Ee)return Ee.decode(d.subarray(_,z));for(var Ce="";_<z;){var we=d[_++];if(128&we){var Re=63&d[_++];if(192!=(224&we)){var wt=63&d[_++];if((we=224==(240&we)?(15&we)<<12|Re<<6|wt:(7&we)<<18|Re<<12|wt<<6|63&d[_++])<65536)Ce+=String.fromCharCode(we);else{var Xt=we-65536;Ce+=String.fromCharCode(55296|Xt>>10,56320|1023&Xt)}}else Ce+=String.fromCharCode((31&we)<<6|Re)}else Ce+=String.fromCharCode(we)}return Ce}function Te(d,_){return d?Xe(bt,d,_):""}function Me(d,_,C,A){if(!(A>0))return 0;for(var z=C,Ce=C+A-1,we=0;we<d.length;++we){var Re=d.charCodeAt(we);if(Re>=55296&&Re<=57343&&(Re=65536+((1023&Re)<<10)|1023&d.charCodeAt(++we)),Re<=127){if(C>=Ce)break;_[C++]=Re}else if(Re<=2047){if(C+1>=Ce)break;_[C++]=192|Re>>6,_[C++]=128|63&Re}else if(Re<=65535){if(C+2>=Ce)break;_[C++]=224|Re>>12,_[C++]=128|Re>>6&63,_[C++]=128|63&Re}else{if(C+3>=Ce)break;_[C++]=240|Re>>18,_[C++]=128|Re>>12&63,_[C++]=128|Re>>6&63,_[C++]=128|63&Re}}return _[C]=0,C-z}function ee(d){for(var _=0,C=0;C<d.length;++C){var A=d.charCodeAt(C);A<=127?_++:A<=2047?_+=2:A>=55296&&A<=57343?(_+=4,++C):_+=3}return _}function Ve(d){Ue=d,l.HEAP8=Qe=new Int8Array(d),l.HEAP16=new Int16Array(d),l.HEAP32=F=new Int32Array(d),l.HEAPU8=bt=new Uint8Array(d),l.HEAPU16=new Uint16Array(d),l.HEAPU32=me=new Uint32Array(d),l.HEAPF32=new Float32Array(d),l.HEAPF64=new Float64Array(d)}var pn,at,ae,ft=[],Ae=[],At=[],tn=[],An=0,Eo=null,jn=null;function oo(d){An++,l.monitorRunDependencies&&l.monitorRunDependencies(An)}function Hr(d){if(An--,l.monitorRunDependencies&&l.monitorRunDependencies(An),0==An&&(null!==Eo&&(clearInterval(Eo),Eo=null),jn)){var _=jn;jn=null,_()}}function lr(d){l.onAbort&&l.onAbort(d),q(d="Aborted("+d+")"),it=!0,le=1,d+=". Build with -sASSERTIONS for more info.";var _=new WebAssembly.RuntimeError(d);throw J(_),_}function _o(d){return d.startsWith("data:application/octet-stream;base64,")}function uo(d){try{if(d==pn&&de)return new Uint8Array(de);if(Le)return Le(d);throw"both async and sync fetching of the wasm failed"}catch(_){lr(_)}}function He(d){this.name="ExitStatus",this.message="Program terminated with exit("+d+")",this.status=d}function Pn(d){for(;d.length>0;)d.shift()(l)}function cr(d,_){return _+2097152>>>0<4194305-!!d?(d>>>0)+4294967296*_:NaN}_o(pn="vfs_web.wasm")||(pn=function L(d){return l.locateFile?l.locateFile(d,$):$+d}(pn));var pt={isAbs:d=>"/"===d.charAt(0),splitPath:d=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(d).slice(1),normalizeArray:(d,_)=>{for(var C=0,A=d.length-1;A>=0;A--){var z=d[A];"."===z?d.splice(A,1):".."===z?(d.splice(A,1),C++):C&&(d.splice(A,1),C--)}if(_)for(;C;C--)d.unshift("..");return d},normalize:d=>{var _=pt.isAbs(d),C="/"===d.substr(-1);return!(d=pt.normalizeArray(d.split("/").filter(A=>!!A),!_).join("/"))&&!_&&(d="."),d&&C&&(d+="/"),(_?"/":"")+d},dirname:d=>{var _=pt.splitPath(d),C=_[0],A=_[1];return C||A?(A&&(A=A.substr(0,A.length-1)),C+A):"."},basename:d=>{if("/"===d)return"/";var _=(d=(d=pt.normalize(d)).replace(/\/$/,"")).lastIndexOf("/");return-1===_?d:d.substr(_+1)},join:function(){var d=Array.prototype.slice.call(arguments);return pt.normalize(d.join("/"))},join2:(d,_)=>pt.normalize(d+"/"+_)},Vt={resolve:function(){for(var d="",_=!1,C=arguments.length-1;C>=-1&&!_;C--){var A=C>=0?arguments[C]:p.cwd();if("string"!=typeof A)throw new TypeError("Arguments to path.resolve must be strings");if(!A)return"";d=A+"/"+d,_=pt.isAbs(A)}return(_?"/":"")+(d=pt.normalizeArray(d.split("/").filter(z=>!!z),!_).join("/"))||"."},relative:(d,_)=>{function C(Xt){for(var bn=0;bn<Xt.length&&""===Xt[bn];bn++);for(var Nn=Xt.length-1;Nn>=0&&""===Xt[Nn];Nn--);return bn>Nn?[]:Xt.slice(bn,Nn-bn+1)}d=Vt.resolve(d).substr(1),_=Vt.resolve(_).substr(1);for(var A=C(d.split("/")),z=C(_.split("/")),Ce=Math.min(A.length,z.length),we=Ce,Re=0;Re<Ce;Re++)if(A[Re]!==z[Re]){we=Re;break}var wt=[];for(Re=we;Re<A.length;Re++)wt.push("..");return(wt=wt.concat(z.slice(we))).join("/")}};function _r(d,_,C){var A=C>0?C:ee(d)+1,z=new Array(A),Ce=Me(d,z,0,z.length);return _&&(z.length=Ce),z}var Vn={ttys:[],init:function(){},shutdown:function(){},register:function(d,_){Vn.ttys[d]={input:[],output:[],ops:_},p.registerDevice(d,Vn.stream_ops)},stream_ops:{open:function(d){var _=Vn.ttys[d.node.rdev];if(!_)throw new p.ErrnoError(43);d.tty=_,d.seekable=!1},close:function(d){d.tty.ops.fsync(d.tty)},fsync:function(d){d.tty.ops.fsync(d.tty)},read:function(d,_,C,A,z){if(!d.tty||!d.tty.ops.get_char)throw new p.ErrnoError(60);for(var Ce=0,we=0;we<A;we++){var Re;try{Re=d.tty.ops.get_char(d.tty)}catch{throw new p.ErrnoError(29)}if(void 0===Re&&0===Ce)throw new p.ErrnoError(6);if(null==Re)break;Ce++,_[C+we]=Re}return Ce&&(d.node.timestamp=Date.now()),Ce},write:function(d,_,C,A,z){if(!d.tty||!d.tty.ops.put_char)throw new p.ErrnoError(60);try{for(var Ce=0;Ce<A;Ce++)d.tty.ops.put_char(d.tty,_[C+Ce])}catch{throw new p.ErrnoError(29)}return A&&(d.node.timestamp=Date.now()),Ce}},default_tty_ops:{get_char:function(d){if(!d.input.length){var _=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(_=window.prompt("Input: "))&&(_+="\n"):"function"==typeof readline&&null!==(_=readline())&&(_+="\n"),!_)return null;d.input=_r(_,!0)}return d.input.shift()},put_char:function(d,_){null===_||10===_?(W(Xe(d.output,0)),d.output=[]):0!=_&&d.output.push(_)},fsync:function(d){d.output&&d.output.length>0&&(W(Xe(d.output,0)),d.output=[])}},default_tty1_ops:{put_char:function(d,_){null===_||10===_?(q(Xe(d.output,0)),d.output=[]):0!=_&&d.output.push(_)},fsync:function(d){d.output&&d.output.length>0&&(q(Xe(d.output,0)),d.output=[])}}};function Do(d){lr()}var dt={ops_table:null,mount:function(d){return dt.createNode(null,"/",16895,0)},createNode:function(d,_,C,A){if(p.isBlkdev(C)||p.isFIFO(C))throw new p.ErrnoError(63);dt.ops_table||(dt.ops_table={dir:{node:{getattr:dt.node_ops.getattr,setattr:dt.node_ops.setattr,lookup:dt.node_ops.lookup,mknod:dt.node_ops.mknod,rename:dt.node_ops.rename,unlink:dt.node_ops.unlink,rmdir:dt.node_ops.rmdir,readdir:dt.node_ops.readdir,symlink:dt.node_ops.symlink},stream:{llseek:dt.stream_ops.llseek}},file:{node:{getattr:dt.node_ops.getattr,setattr:dt.node_ops.setattr},stream:{llseek:dt.stream_ops.llseek,read:dt.stream_ops.read,write:dt.stream_ops.write,allocate:dt.stream_ops.allocate,mmap:dt.stream_ops.mmap,msync:dt.stream_ops.msync}},link:{node:{getattr:dt.node_ops.getattr,setattr:dt.node_ops.setattr,readlink:dt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:dt.node_ops.getattr,setattr:dt.node_ops.setattr},stream:p.chrdev_stream_ops}});var z=p.createNode(d,_,C,A);return p.isDir(z.mode)?(z.node_ops=dt.ops_table.dir.node,z.stream_ops=dt.ops_table.dir.stream,z.contents={}):p.isFile(z.mode)?(z.node_ops=dt.ops_table.file.node,z.stream_ops=dt.ops_table.file.stream,z.usedBytes=0,z.contents=null):p.isLink(z.mode)?(z.node_ops=dt.ops_table.link.node,z.stream_ops=dt.ops_table.link.stream):p.isChrdev(z.mode)&&(z.node_ops=dt.ops_table.chrdev.node,z.stream_ops=dt.ops_table.chrdev.stream),z.timestamp=Date.now(),d&&(d.contents[_]=z,d.timestamp=z.timestamp),z},getFileDataAsTypedArray:function(d){return d.contents?d.contents.subarray?d.contents.subarray(0,d.usedBytes):new Uint8Array(d.contents):new Uint8Array(0)},expandFileStorage:function(d,_){var C=d.contents?d.contents.length:0;if(!(C>=_)){_=Math.max(_,C*(C<1048576?2:1.125)>>>0),0!=C&&(_=Math.max(_,256));var z=d.contents;d.contents=new Uint8Array(_),d.usedBytes>0&&d.contents.set(z.subarray(0,d.usedBytes),0)}},resizeFileStorage:function(d,_){if(d.usedBytes!=_)if(0==_)d.contents=null,d.usedBytes=0;else{var C=d.contents;d.contents=new Uint8Array(_),C&&d.contents.set(C.subarray(0,Math.min(_,d.usedBytes))),d.usedBytes=_}},node_ops:{getattr:function(d){var _={};return _.dev=p.isChrdev(d.mode)?d.id:1,_.ino=d.id,_.mode=d.mode,_.nlink=1,_.uid=0,_.gid=0,_.rdev=d.rdev,_.size=p.isDir(d.mode)?4096:p.isFile(d.mode)?d.usedBytes:p.isLink(d.mode)?d.link.length:0,_.atime=new Date(d.timestamp),_.mtime=new Date(d.timestamp),_.ctime=new Date(d.timestamp),_.blksize=4096,_.blocks=Math.ceil(_.size/_.blksize),_},setattr:function(d,_){void 0!==_.mode&&(d.mode=_.mode),void 0!==_.timestamp&&(d.timestamp=_.timestamp),void 0!==_.size&&dt.resizeFileStorage(d,_.size)},lookup:function(d,_){throw p.genericErrors[44]},mknod:function(d,_,C,A){return dt.createNode(d,_,C,A)},rename:function(d,_,C){if(p.isDir(d.mode)){var A;try{A=p.lookupNode(_,C)}catch{}if(A)for(var z in A.contents)throw new p.ErrnoError(55)}delete d.parent.contents[d.name],d.parent.timestamp=Date.now(),d.name=C,_.contents[C]=d,_.timestamp=d.parent.timestamp,d.parent=_},unlink:function(d,_){delete d.contents[_],d.timestamp=Date.now()},rmdir:function(d,_){var C=p.lookupNode(d,_);for(var A in C.contents)throw new p.ErrnoError(55);delete d.contents[_],d.timestamp=Date.now()},readdir:function(d){var _=[".",".."];for(var C in d.contents)d.contents.hasOwnProperty(C)&&_.push(C);return _},symlink:function(d,_,C){var A=dt.createNode(d,_,41471,0);return A.link=C,A},readlink:function(d){if(!p.isLink(d.mode))throw new p.ErrnoError(28);return d.link}},stream_ops:{read:function(d,_,C,A,z){var Ce=d.node.contents;if(z>=d.node.usedBytes)return 0;var we=Math.min(d.node.usedBytes-z,A);if(we>8&&Ce.subarray)_.set(Ce.subarray(z,z+we),C);else for(var Re=0;Re<we;Re++)_[C+Re]=Ce[z+Re];return we},write:function(d,_,C,A,z,Ce){if(_.buffer===Qe.buffer&&(Ce=!1),!A)return 0;var we=d.node;if(we.timestamp=Date.now(),_.subarray&&(!we.contents||we.contents.subarray)){if(Ce)return we.contents=_.subarray(C,C+A),we.usedBytes=A,A;if(0===we.usedBytes&&0===z)return we.contents=_.slice(C,C+A),we.usedBytes=A,A;if(z+A<=we.usedBytes)return we.contents.set(_.subarray(C,C+A),z),A}if(dt.expandFileStorage(we,z+A),we.contents.subarray&&_.subarray)we.contents.set(_.subarray(C,C+A),z);else for(var Re=0;Re<A;Re++)we.contents[z+Re]=_[C+Re];return we.usedBytes=Math.max(we.usedBytes,z+A),A},llseek:function(d,_,C){var A=_;if(1===C?A+=d.position:2===C&&p.isFile(d.node.mode)&&(A+=d.node.usedBytes),A<0)throw new p.ErrnoError(28);return A},allocate:function(d,_,C){dt.expandFileStorage(d.node,_+C),d.node.usedBytes=Math.max(d.node.usedBytes,_+C)},mmap:function(d,_,C,A,z){if(!p.isFile(d.node.mode))throw new p.ErrnoError(43);var Ce,we,Re=d.node.contents;if(2&z||Re.buffer!==Ue){if((C>0||C+_<Re.length)&&(Re=Re.subarray?Re.subarray(C,C+_):Array.prototype.slice.call(Re,C,C+_)),we=!0,!(Ce=Do()))throw new p.ErrnoError(48);Qe.set(Re,Ce)}else we=!1,Ce=Re.byteOffset;return{ptr:Ce,allocated:we}},msync:function(d,_,C,A,z){return dt.stream_ops.write(d,_,0,A,C,!1),0}}},p={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(d,_={})=>{if(!(d=Vt.resolve(d)))return{path:"",node:null};if((_=Object.assign({follow_mount:!0,recurse_count:0},_)).recurse_count>8)throw new p.ErrnoError(32);for(var A=d.split("/").filter(Nn=>!!Nn),z=p.root,Ce="/",we=0;we<A.length;we++){var Re=we===A.length-1;if(Re&&_.parent)break;if(z=p.lookupNode(z,A[we]),Ce=pt.join2(Ce,A[we]),p.isMountpoint(z)&&(!Re||Re&&_.follow_mount)&&(z=z.mounted.root),!Re||_.follow)for(var wt=0;p.isLink(z.mode);){var Xt=p.readlink(Ce);if(Ce=Vt.resolve(pt.dirname(Ce),Xt),z=p.lookupPath(Ce,{recurse_count:_.recurse_count+1}).node,wt++>40)throw new p.ErrnoError(32)}}return{path:Ce,node:z}},getPath:d=>{for(var _;;){if(p.isRoot(d)){var C=d.mount.mountpoint;return _?"/"!==C[C.length-1]?C+"/"+_:C+_:C}_=_?d.name+"/"+_:d.name,d=d.parent}},hashName:(d,_)=>{for(var C=0,A=0;A<_.length;A++)C=(C<<5)-C+_.charCodeAt(A)|0;return(d+C>>>0)%p.nameTable.length},hashAddNode:d=>{var _=p.hashName(d.parent.id,d.name);d.name_next=p.nameTable[_],p.nameTable[_]=d},hashRemoveNode:d=>{var _=p.hashName(d.parent.id,d.name);if(p.nameTable[_]===d)p.nameTable[_]=d.name_next;else for(var C=p.nameTable[_];C;){if(C.name_next===d){C.name_next=d.name_next;break}C=C.name_next}},lookupNode:(d,_)=>{var C=p.mayLookup(d);if(C)throw new p.ErrnoError(C,d);for(var A=p.hashName(d.id,_),z=p.nameTable[A];z;z=z.name_next)if(z.parent.id===d.id&&z.name===_)return z;return p.lookup(d,_)},createNode:(d,_,C,A)=>{var z=new p.FSNode(d,_,C,A);return p.hashAddNode(z),z},destroyNode:d=>{p.hashRemoveNode(d)},isRoot:d=>d===d.parent,isMountpoint:d=>!!d.mounted,isFile:d=>32768==(61440&d),isDir:d=>16384==(61440&d),isLink:d=>40960==(61440&d),isChrdev:d=>8192==(61440&d),isBlkdev:d=>24576==(61440&d),isFIFO:d=>4096==(61440&d),isSocket:d=>49152==(49152&d),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:d=>{var _=p.flagModes[d];if(typeof _>"u")throw new Error("Unknown file open mode: "+d);return _},flagsToPermissionString:d=>{var _=["r","w","rw"][3&d];return 512&d&&(_+="w"),_},nodePermissions:(d,_)=>p.ignorePermissions?0:_.includes("r")&&!(292&d.mode)||_.includes("w")&&!(146&d.mode)||_.includes("x")&&!(73&d.mode)?2:0,mayLookup:d=>p.nodePermissions(d,"x")||(d.node_ops.lookup?0:2),mayCreate:(d,_)=>{try{return p.lookupNode(d,_),20}catch{}return p.nodePermissions(d,"wx")},mayDelete:(d,_,C)=>{var A;try{A=p.lookupNode(d,_)}catch(Ce){return Ce.errno}var z=p.nodePermissions(d,"wx");if(z)return z;if(C){if(!p.isDir(A.mode))return 54;if(p.isRoot(A)||p.getPath(A)===p.cwd())return 10}else if(p.isDir(A.mode))return 31;return 0},mayOpen:(d,_)=>d?p.isLink(d.mode)?32:p.isDir(d.mode)&&("r"!==p.flagsToPermissionString(_)||512&_)?31:p.nodePermissions(d,p.flagsToPermissionString(_)):44,MAX_OPEN_FDS:4096,nextfd:(d=0,_=p.MAX_OPEN_FDS)=>{for(var C=d;C<=_;C++)if(!p.streams[C])return C;throw new p.ErrnoError(33)},getStream:d=>p.streams[d],createStream:(d,_,C)=>{p.FSStream||(p.FSStream=function(){this.shared={}},p.FSStream.prototype={},Object.defineProperties(p.FSStream.prototype,{object:{get:function(){return this.node},set:function(z){this.node=z}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(z){this.shared.flags=z}},position:{get:function(){return this.shared.position},set:function(z){this.shared.position=z}}})),d=Object.assign(new p.FSStream,d);var A=p.nextfd(_,C);return d.fd=A,p.streams[A]=d,d},closeStream:d=>{p.streams[d]=null},chrdev_stream_ops:{open:d=>{var _=p.getDevice(d.node.rdev);d.stream_ops=_.stream_ops,d.stream_ops.open&&d.stream_ops.open(d)},llseek:()=>{throw new p.ErrnoError(70)}},major:d=>d>>8,minor:d=>255&d,makedev:(d,_)=>d<<8|_,registerDevice:(d,_)=>{p.devices[d]={stream_ops:_}},getDevice:d=>p.devices[d],getMounts:d=>{for(var _=[],C=[d];C.length;){var A=C.pop();_.push(A),C.push.apply(C,A.mounts)}return _},syncfs:(d,_)=>{"function"==typeof d&&(_=d,d=!1),p.syncFSRequests++,p.syncFSRequests>1&&q("warning: "+p.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var C=p.getMounts(p.root.mount),A=0;function z(we){return p.syncFSRequests--,_(we)}function Ce(we){if(we)return Ce.errored?void 0:(Ce.errored=!0,z(we));++A>=C.length&&z(null)}C.forEach(we=>{if(!we.type.syncfs)return Ce(null);we.type.syncfs(we,d,Ce)})},mount:(d,_,C)=>{var Ce,A="/"===C,z=!C;if(A&&p.root)throw new p.ErrnoError(10);if(!A&&!z){var we=p.lookupPath(C,{follow_mount:!1});if(C=we.path,p.isMountpoint(Ce=we.node))throw new p.ErrnoError(10);if(!p.isDir(Ce.mode))throw new p.ErrnoError(54)}var Re={type:d,opts:_,mountpoint:C,mounts:[]},wt=d.mount(Re);return wt.mount=Re,Re.root=wt,A?p.root=wt:Ce&&(Ce.mounted=Re,Ce.mount&&Ce.mount.mounts.push(Re)),wt},unmount:d=>{var _=p.lookupPath(d,{follow_mount:!1});if(!p.isMountpoint(_.node))throw new p.ErrnoError(28);var C=_.node,A=C.mounted,z=p.getMounts(A);Object.keys(p.nameTable).forEach(we=>{for(var Re=p.nameTable[we];Re;){var wt=Re.name_next;z.includes(Re.mount)&&p.destroyNode(Re),Re=wt}}),C.mounted=null;var Ce=C.mount.mounts.indexOf(A);C.mount.mounts.splice(Ce,1)},lookup:(d,_)=>d.node_ops.lookup(d,_),mknod:(d,_,C)=>{var z=p.lookupPath(d,{parent:!0}).node,Ce=pt.basename(d);if(!Ce||"."===Ce||".."===Ce)throw new p.ErrnoError(28);var we=p.mayCreate(z,Ce);if(we)throw new p.ErrnoError(we);if(!z.node_ops.mknod)throw new p.ErrnoError(63);return z.node_ops.mknod(z,Ce,_,C)},create:(d,_)=>(_=void 0!==_?_:438,_&=4095,p.mknod(d,_|=32768,0)),mkdir:(d,_)=>(_=void 0!==_?_:511,_&=1023,p.mknod(d,_|=16384,0)),mkdirTree:(d,_)=>{for(var C=d.split("/"),A="",z=0;z<C.length;++z)if(C[z]){A+="/"+C[z];try{p.mkdir(A,_)}catch(Ce){if(20!=Ce.errno)throw Ce}}},mkdev:(d,_,C)=>(typeof C>"u"&&(C=_,_=438),p.mknod(d,_|=8192,C)),symlink:(d,_)=>{if(!Vt.resolve(d))throw new p.ErrnoError(44);var A=p.lookupPath(_,{parent:!0}).node;if(!A)throw new p.ErrnoError(44);var z=pt.basename(_),Ce=p.mayCreate(A,z);if(Ce)throw new p.ErrnoError(Ce);if(!A.node_ops.symlink)throw new p.ErrnoError(63);return A.node_ops.symlink(A,z,d)},rename:(d,_)=>{var Re,wt,C=pt.dirname(d),A=pt.dirname(_),z=pt.basename(d),Ce=pt.basename(_);if(Re=p.lookupPath(d,{parent:!0}).node,wt=p.lookupPath(_,{parent:!0}).node,!Re||!wt)throw new p.ErrnoError(44);if(Re.mount!==wt.mount)throw new p.ErrnoError(75);var Nn,Xt=p.lookupNode(Re,z),bn=Vt.relative(d,A);if("."!==bn.charAt(0))throw new p.ErrnoError(28);if("."!==(bn=Vt.relative(_,C)).charAt(0))throw new p.ErrnoError(55);try{Nn=p.lookupNode(wt,Ce)}catch{}if(Xt!==Nn){var nn=p.isDir(Xt.mode),kt=p.mayDelete(Re,z,nn);if(kt)throw new p.ErrnoError(kt);if(kt=Nn?p.mayDelete(wt,Ce,nn):p.mayCreate(wt,Ce))throw new p.ErrnoError(kt);if(!Re.node_ops.rename)throw new p.ErrnoError(63);if(p.isMountpoint(Xt)||Nn&&p.isMountpoint(Nn))throw new p.ErrnoError(10);if(wt!==Re&&(kt=p.nodePermissions(Re,"w")))throw new p.ErrnoError(kt);p.hashRemoveNode(Xt);try{Re.node_ops.rename(Xt,wt,Ce)}catch(Gn){throw Gn}finally{p.hashAddNode(Xt)}}},rmdir:d=>{var C=p.lookupPath(d,{parent:!0}).node,A=pt.basename(d),z=p.lookupNode(C,A),Ce=p.mayDelete(C,A,!0);if(Ce)throw new p.ErrnoError(Ce);if(!C.node_ops.rmdir)throw new p.ErrnoError(63);if(p.isMountpoint(z))throw new p.ErrnoError(10);C.node_ops.rmdir(C,A),p.destroyNode(z)},readdir:d=>{var C=p.lookupPath(d,{follow:!0}).node;if(!C.node_ops.readdir)throw new p.ErrnoError(54);return C.node_ops.readdir(C)},unlink:d=>{var C=p.lookupPath(d,{parent:!0}).node;if(!C)throw new p.ErrnoError(44);var A=pt.basename(d),z=p.lookupNode(C,A),Ce=p.mayDelete(C,A,!1);if(Ce)throw new p.ErrnoError(Ce);if(!C.node_ops.unlink)throw new p.ErrnoError(63);if(p.isMountpoint(z))throw new p.ErrnoError(10);C.node_ops.unlink(C,A),p.destroyNode(z)},readlink:d=>{var C=p.lookupPath(d).node;if(!C)throw new p.ErrnoError(44);if(!C.node_ops.readlink)throw new p.ErrnoError(28);return Vt.resolve(p.getPath(C.parent),C.node_ops.readlink(C))},stat:(d,_)=>{var A=p.lookupPath(d,{follow:!_}).node;if(!A)throw new p.ErrnoError(44);if(!A.node_ops.getattr)throw new p.ErrnoError(63);return A.node_ops.getattr(A)},lstat:d=>p.stat(d,!0),chmod:(d,_,C)=>{var A;if(!(A="string"==typeof d?p.lookupPath(d,{follow:!C}).node:d).node_ops.setattr)throw new p.ErrnoError(63);A.node_ops.setattr(A,{mode:4095&_|-4096&A.mode,timestamp:Date.now()})},lchmod:(d,_)=>{p.chmod(d,_,!0)},fchmod:(d,_)=>{var C=p.getStream(d);if(!C)throw new p.ErrnoError(8);p.chmod(C.node,_)},chown:(d,_,C,A)=>{var z;if(!(z="string"==typeof d?p.lookupPath(d,{follow:!A}).node:d).node_ops.setattr)throw new p.ErrnoError(63);z.node_ops.setattr(z,{timestamp:Date.now()})},lchown:(d,_,C)=>{p.chown(d,_,C,!0)},fchown:(d,_,C)=>{var A=p.getStream(d);if(!A)throw new p.ErrnoError(8);p.chown(A.node,_,C)},truncate:(d,_)=>{if(_<0)throw new p.ErrnoError(28);var C;if(!(C="string"==typeof d?p.lookupPath(d,{follow:!0}).node:d).node_ops.setattr)throw new p.ErrnoError(63);if(p.isDir(C.mode))throw new p.ErrnoError(31);if(!p.isFile(C.mode))throw new p.ErrnoError(28);var z=p.nodePermissions(C,"w");if(z)throw new p.ErrnoError(z);C.node_ops.setattr(C,{size:_,timestamp:Date.now()})},ftruncate:(d,_)=>{var C=p.getStream(d);if(!C)throw new p.ErrnoError(8);if(!(2097155&C.flags))throw new p.ErrnoError(28);p.truncate(C.node,_)},utime:(d,_,C)=>{var z=p.lookupPath(d,{follow:!0}).node;z.node_ops.setattr(z,{timestamp:Math.max(_,C)})},open:(d,_,C)=>{if(""===d)throw new p.ErrnoError(44);var A;if(C=typeof C>"u"?438:C,C=64&(_="string"==typeof _?p.modeStringToFlags(_):_)?4095&C|32768:0,"object"==typeof d)A=d;else{d=pt.normalize(d);try{A=p.lookupPath(d,{follow:!(131072&_)}).node}catch{}}var Ce=!1;if(64&_)if(A){if(128&_)throw new p.ErrnoError(20)}else A=p.mknod(d,C,0),Ce=!0;if(!A)throw new p.ErrnoError(44);if(p.isChrdev(A.mode)&&(_&=-513),65536&_&&!p.isDir(A.mode))throw new p.ErrnoError(54);if(!Ce){var we=p.mayOpen(A,_);if(we)throw new p.ErrnoError(we)}512&_&&!Ce&&p.truncate(A,0),_&=-131713;var Re=p.createStream({node:A,path:p.getPath(A),flags:_,seekable:!0,position:0,stream_ops:A.stream_ops,ungotten:[],error:!1});return Re.stream_ops.open&&Re.stream_ops.open(Re),l.logReadFiles&&!(1&_)&&(p.readFiles||(p.readFiles={}),d in p.readFiles||(p.readFiles[d]=1)),Re},close:d=>{if(p.isClosed(d))throw new p.ErrnoError(8);d.getdents&&(d.getdents=null);try{d.stream_ops.close&&d.stream_ops.close(d)}catch(_){throw _}finally{p.closeStream(d.fd)}d.fd=null},isClosed:d=>null===d.fd,llseek:(d,_,C)=>{if(p.isClosed(d))throw new p.ErrnoError(8);if(!d.seekable||!d.stream_ops.llseek)throw new p.ErrnoError(70);if(0!=C&&1!=C&&2!=C)throw new p.ErrnoError(28);return d.position=d.stream_ops.llseek(d,_,C),d.ungotten=[],d.position},read:(d,_,C,A,z)=>{if(A<0||z<0)throw new p.ErrnoError(28);if(p.isClosed(d))throw new p.ErrnoError(8);if(1==(2097155&d.flags))throw new p.ErrnoError(8);if(p.isDir(d.node.mode))throw new p.ErrnoError(31);if(!d.stream_ops.read)throw new p.ErrnoError(28);var Ce=typeof z<"u";if(Ce){if(!d.seekable)throw new p.ErrnoError(70)}else z=d.position;var we=d.stream_ops.read(d,_,C,A,z);return Ce||(d.position+=we),we},write:(d,_,C,A,z,Ce)=>{if(A<0||z<0)throw new p.ErrnoError(28);if(p.isClosed(d))throw new p.ErrnoError(8);if(!(2097155&d.flags))throw new p.ErrnoError(8);if(p.isDir(d.node.mode))throw new p.ErrnoError(31);if(!d.stream_ops.write)throw new p.ErrnoError(28);d.seekable&&1024&d.flags&&p.llseek(d,0,2);var we=typeof z<"u";if(we){if(!d.seekable)throw new p.ErrnoError(70)}else z=d.position;var Re=d.stream_ops.write(d,_,C,A,z,Ce);return we||(d.position+=Re),Re},allocate:(d,_,C)=>{if(p.isClosed(d))throw new p.ErrnoError(8);if(_<0||C<=0)throw new p.ErrnoError(28);if(!(2097155&d.flags))throw new p.ErrnoError(8);if(!p.isFile(d.node.mode)&&!p.isDir(d.node.mode))throw new p.ErrnoError(43);if(!d.stream_ops.allocate)throw new p.ErrnoError(138);d.stream_ops.allocate(d,_,C)},mmap:(d,_,C,A,z)=>{if(2&A&&!(2&z)&&2!=(2097155&d.flags))throw new p.ErrnoError(2);if(1==(2097155&d.flags))throw new p.ErrnoError(2);if(!d.stream_ops.mmap)throw new p.ErrnoError(43);return d.stream_ops.mmap(d,_,C,A,z)},msync:(d,_,C,A,z)=>d.stream_ops.msync?d.stream_ops.msync(d,_,C,A,z):0,munmap:d=>0,ioctl:(d,_,C)=>{if(!d.stream_ops.ioctl)throw new p.ErrnoError(59);return d.stream_ops.ioctl(d,_,C)},readFile:(d,_={})=>{if(_.flags=_.flags||0,_.encoding=_.encoding||"binary","utf8"!==_.encoding&&"binary"!==_.encoding)throw new Error('Invalid encoding type "'+_.encoding+'"');var C,A=p.open(d,_.flags),Ce=p.stat(d).size,we=new Uint8Array(Ce);return p.read(A,we,0,Ce,0),"utf8"===_.encoding?C=Xe(we,0):"binary"===_.encoding&&(C=we),p.close(A),C},writeFile:(d,_,C={})=>{C.flags=C.flags||577;var A=p.open(d,C.flags,C.mode);if("string"==typeof _){var z=new Uint8Array(ee(_)+1),Ce=Me(_,z,0,z.length);p.write(A,z,0,Ce,void 0,C.canOwn)}else{if(!ArrayBuffer.isView(_))throw new Error("Unsupported data type");p.write(A,_,0,_.byteLength,void 0,C.canOwn)}p.close(A)},cwd:()=>p.currentPath,chdir:d=>{var _=p.lookupPath(d,{follow:!0});if(null===_.node)throw new p.ErrnoError(44);if(!p.isDir(_.node.mode))throw new p.ErrnoError(54);var C=p.nodePermissions(_.node,"x");if(C)throw new p.ErrnoError(C);p.currentPath=_.path},createDefaultDirectories:()=>{p.mkdir("/tmp"),p.mkdir("/home"),p.mkdir("/home/web_user")},createDefaultDevices:()=>{p.mkdir("/dev"),p.registerDevice(p.makedev(1,3),{read:()=>0,write:(_,C,A,z,Ce)=>z}),p.mkdev("/dev/null",p.makedev(1,3)),Vn.register(p.makedev(5,0),Vn.default_tty_ops),Vn.register(p.makedev(6,0),Vn.default_tty1_ops),p.mkdev("/dev/tty",p.makedev(5,0)),p.mkdev("/dev/tty1",p.makedev(6,0));var d=function fo(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var d=new Uint8Array(1);return()=>(crypto.getRandomValues(d),d[0])}return()=>lr("randomDevice")}();p.createDevice("/dev","random",d),p.createDevice("/dev","urandom",d),p.mkdir("/dev/shm"),p.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{p.mkdir("/proc");var d=p.mkdir("/proc/self");p.mkdir("/proc/self/fd"),p.mount({mount:()=>{var _=p.createNode(d,"fd",16895,73);return _.node_ops={lookup:(C,A)=>{var Ce=p.getStream(+A);if(!Ce)throw new p.ErrnoError(8);var we={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>Ce.path}};return we.parent=we,we}},_}},{},"/proc/self/fd")},createStandardStreams:()=>{l.stdin?p.createDevice("/dev","stdin",l.stdin):p.symlink("/dev/tty","/dev/stdin"),l.stdout?p.createDevice("/dev","stdout",null,l.stdout):p.symlink("/dev/tty","/dev/stdout"),l.stderr?p.createDevice("/dev","stderr",null,l.stderr):p.symlink("/dev/tty1","/dev/stderr"),p.open("/dev/stdin",0),p.open("/dev/stdout",1),p.open("/dev/stderr",1)},ensureErrnoError:()=>{p.ErrnoError||(p.ErrnoError=function(_,C){this.node=C,this.setErrno=function(A){this.errno=A},this.setErrno(_),this.message="FS error"},p.ErrnoError.prototype=new Error,p.ErrnoError.prototype.constructor=p.ErrnoError,[44].forEach(d=>{p.genericErrors[d]=new p.ErrnoError(d),p.genericErrors[d].stack="<generic error, no stack>"}))},staticInit:()=>{p.ensureErrnoError(),p.nameTable=new Array(4096),p.mount(dt,{},"/"),p.createDefaultDirectories(),p.createDefaultDevices(),p.createSpecialDirectories(),p.filesystems={MEMFS:dt}},init:(d,_,C)=>{p.init.initialized=!0,p.ensureErrnoError(),l.stdin=d||l.stdin,l.stdout=_||l.stdout,l.stderr=C||l.stderr,p.createStandardStreams()},quit:()=>{p.init.initialized=!1;for(var d=0;d<p.streams.length;d++){var _=p.streams[d];_&&p.close(_)}},getMode:(d,_)=>{var C=0;return d&&(C|=365),_&&(C|=146),C},findObject:(d,_)=>{var C=p.analyzePath(d,_);return C.exists?C.object:null},analyzePath:(d,_)=>{try{d=(C=p.lookupPath(d,{follow:!_})).path}catch{}var A={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var C=p.lookupPath(d,{parent:!0});A.parentExists=!0,A.parentPath=C.path,A.parentObject=C.node,A.name=pt.basename(d),C=p.lookupPath(d,{follow:!_}),A.exists=!0,A.path=C.path,A.object=C.node,A.name=C.node.name,A.isRoot="/"===C.path}catch(z){A.error=z.errno}return A},createPath:(d,_,C,A)=>{d="string"==typeof d?d:p.getPath(d);for(var z=_.split("/").reverse();z.length;){var Ce=z.pop();if(Ce){var we=pt.join2(d,Ce);try{p.mkdir(we)}catch{}d=we}}return we},createFile:(d,_,C,A,z)=>{var Ce=pt.join2("string"==typeof d?d:p.getPath(d),_),we=p.getMode(A,z);return p.create(Ce,we)},createDataFile:(d,_,C,A,z,Ce)=>{var we=_;d&&(d="string"==typeof d?d:p.getPath(d),we=_?pt.join2(d,_):d);var Re=p.getMode(A,z),wt=p.create(we,Re);if(C){if("string"==typeof C){for(var Xt=new Array(C.length),bn=0,Nn=C.length;bn<Nn;++bn)Xt[bn]=C.charCodeAt(bn);C=Xt}p.chmod(wt,146|Re);var nn=p.open(wt,577);p.write(nn,C,0,C.length,0,Ce),p.close(nn),p.chmod(wt,Re)}return wt},createDevice:(d,_,C,A)=>{var z=pt.join2("string"==typeof d?d:p.getPath(d),_),Ce=p.getMode(!!C,!!A);p.createDevice.major||(p.createDevice.major=64);var we=p.makedev(p.createDevice.major++,0);return p.registerDevice(we,{open:Re=>{Re.seekable=!1},close:Re=>{A&&A.buffer&&A.buffer.length&&A(10)},read:(Re,wt,Xt,bn,Nn)=>{for(var nn=0,kt=0;kt<bn;kt++){var Gn;try{Gn=C()}catch{throw new p.ErrnoError(29)}if(void 0===Gn&&0===nn)throw new p.ErrnoError(6);if(null==Gn)break;nn++,wt[Xt+kt]=Gn}return nn&&(Re.node.timestamp=Date.now()),nn},write:(Re,wt,Xt,bn,Nn)=>{for(var nn=0;nn<bn;nn++)try{A(wt[Xt+nn])}catch{throw new p.ErrnoError(29)}return bn&&(Re.node.timestamp=Date.now()),nn}}),p.mkdev(z,Ce,we)},forceLoadFile:d=>{if(d.isDevice||d.isFolder||d.link||d.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!j)throw new Error("Cannot load without read() or XMLHttpRequest.");try{d.contents=_r(j(d.url),!0),d.usedBytes=d.contents.length}catch{throw new p.ErrnoError(29)}},createLazyFile:(d,_,C,A,z)=>{function Ce(){this.lengthKnown=!1,this.chunks=[]}if(Ce.prototype.get=function(kt){if(!(kt>this.length-1||kt<0)){var Gn=kt%this.chunkSize;return this.getter(kt/this.chunkSize|0)[Gn]}},Ce.prototype.setDataGetter=function(kt){this.getter=kt},Ce.prototype.cacheLength=function(){var kt=new XMLHttpRequest;if(kt.open("HEAD",C,!1),kt.send(null),!(kt.status>=200&&kt.status<300||304===kt.status))throw new Error("Couldn't load "+C+". Status: "+kt.status);var Zr,Gn=Number(kt.getResponseHeader("Content-length")),pi=(Zr=kt.getResponseHeader("Accept-Ranges"))&&"bytes"===Zr,bo=(Zr=kt.getResponseHeader("Content-Encoding"))&&"gzip"===Zr,_t=1048576;pi||(_t=Gn);var ir=this;ir.setDataGetter(Lr=>{var Vr=Lr*_t,Cr=(Lr+1)*_t-1;if(Cr=Math.min(Cr,Gn-1),typeof ir.chunks[Lr]>"u"&&(ir.chunks[Lr]=((Lr,Vr)=>{if(Lr>Vr)throw new Error("invalid range ("+Lr+", "+Vr+") or no bytes requested!");if(Vr>Gn-1)throw new Error("only "+Gn+" bytes available! programmer error!");var Cr=new XMLHttpRequest;if(Cr.open("GET",C,!1),Gn!==_t&&Cr.setRequestHeader("Range","bytes="+Lr+"-"+Vr),Cr.responseType="arraybuffer",Cr.overrideMimeType&&Cr.overrideMimeType("text/plain; charset=x-user-defined"),Cr.send(null),!(Cr.status>=200&&Cr.status<300||304===Cr.status))throw new Error("Couldn't load "+C+". Status: "+Cr.status);return void 0!==Cr.response?new Uint8Array(Cr.response||[]):_r(Cr.responseText||"",!0)})(Vr,Cr)),typeof ir.chunks[Lr]>"u")throw new Error("doXHR failed!");return ir.chunks[Lr]}),(bo||!Gn)&&(_t=Gn=1,Gn=this.getter(0).length,_t=Gn,W("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Gn,this._chunkSize=_t,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!Y)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var we=new Ce;Object.defineProperties(we,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var Re={isDevice:!1,contents:we}}else Re={isDevice:!1,url:C};var wt=p.createFile(d,_,Re,A,z);Re.contents?wt.contents=Re.contents:Re.url&&(wt.contents=null,wt.url=Re.url),Object.defineProperties(wt,{usedBytes:{get:function(){return this.contents.length}}});var Xt={};function Nn(nn,kt,Gn,Zr,pi){var bo=nn.node.contents;if(pi>=bo.length)return 0;var _t=Math.min(bo.length-pi,Zr);if(bo.slice)for(var qt=0;qt<_t;qt++)kt[Gn+qt]=bo[pi+qt];else for(qt=0;qt<_t;qt++)kt[Gn+qt]=bo.get(pi+qt);return _t}return Object.keys(wt.stream_ops).forEach(nn=>{var kt=wt.stream_ops[nn];Xt[nn]=function(){return p.forceLoadFile(wt),kt.apply(null,arguments)}}),Xt.read=(nn,kt,Gn,Zr,pi)=>(p.forceLoadFile(wt),Nn(nn,kt,Gn,Zr,pi)),Xt.mmap=(nn,kt,Gn,Zr,pi)=>{p.forceLoadFile(wt);var bo=Do();if(!bo)throw new p.ErrnoError(48);return Nn(nn,Qe,bo,kt,Gn),{ptr:bo,allocated:!0}},wt.stream_ops=Xt,wt},createPreloadedFile:(d,_,C,A,z,Ce,we,Re,wt,Xt)=>{var bn=_?Vt.resolve(pt.join2(d,_)):d;function nn(kt){function Gn(Zr){Xt&&Xt(),Re||p.createDataFile(d,_,Zr,A,z,wt),Ce&&Ce(),Hr()}Browser.handledByPreloadPlugin(kt,bn,Gn,()=>{we&&we(),Hr()})||Gn(kt)}oo(),"string"==typeof C?function Ar(d,_,C,A){var z=A?"":"al "+d;Pe(d,Ce=>{be(Ce,'Loading data file "'+d+'" failed (no arrayBuffer).'),_(new Uint8Array(Ce)),z&&Hr()},Ce=>{if(!C)throw'Loading data file "'+d+'" failed.';C()}),z&&oo()}(C,kt=>nn(kt),we):nn(C)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(d,_,C)=>{_=_||(()=>{}),C=C||(()=>{});var A=p.indexedDB();try{var z=A.open(p.DB_NAME(),p.DB_VERSION)}catch(Ce){return C(Ce)}z.onupgradeneeded=()=>{W("creating db"),z.result.createObjectStore(p.DB_STORE_NAME)},z.onsuccess=()=>{var we=z.result.transaction([p.DB_STORE_NAME],"readwrite"),Re=we.objectStore(p.DB_STORE_NAME),wt=0,Xt=0,bn=d.length;function Nn(){0==Xt?_():C()}d.forEach(nn=>{var kt=Re.put(p.analyzePath(nn).object.contents,nn);kt.onsuccess=()=>{++wt+Xt==bn&&Nn()},kt.onerror=()=>{Xt++,wt+Xt==bn&&Nn()}}),we.onerror=C},z.onerror=C},loadFilesFromDB:(d,_,C)=>{_=_||(()=>{}),C=C||(()=>{});var A=p.indexedDB();try{var z=A.open(p.DB_NAME(),p.DB_VERSION)}catch(Ce){return C(Ce)}z.onupgradeneeded=C,z.onsuccess=()=>{var Ce=z.result;try{var we=Ce.transaction([p.DB_STORE_NAME],"readonly")}catch(nn){return void C(nn)}var Re=we.objectStore(p.DB_STORE_NAME),wt=0,Xt=0,bn=d.length;function Nn(){0==Xt?_():C()}d.forEach(nn=>{var kt=Re.get(nn);kt.onsuccess=()=>{p.analyzePath(nn).exists&&p.unlink(nn),p.createDataFile(pt.dirname(nn),pt.basename(nn),kt.result,!0,!0,!0),++wt+Xt==bn&&Nn()},kt.onerror=()=>{Xt++,wt+Xt==bn&&Nn()}}),we.onerror=C},z.onerror=C}},Tn={DEFAULT_POLLMASK:5,calculateAt:function(d,_,C){if(pt.isAbs(_))return _;var A;if(A=-100===d?p.cwd():Tn.getStreamFromFD(d).path,0==_.length){if(!C)throw new p.ErrnoError(44);return A}return pt.join2(A,_)},doStat:function(d,_,C){try{var A=d(_)}catch(z){if(z&&z.node&&pt.normalize(_)!==pt.normalize(p.getPath(z.node)))return-54;throw z}return F[C>>2]=A.dev,F[C+8>>2]=A.ino,F[C+12>>2]=A.mode,me[C+16>>2]=A.nlink,F[C+20>>2]=A.uid,F[C+24>>2]=A.gid,F[C+28>>2]=A.rdev,ae=[A.size>>>0,(at=A.size,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],F[C+40>>2]=ae[0],F[C+44>>2]=ae[1],F[C+48>>2]=4096,F[C+52>>2]=A.blocks,ae=[Math.floor(A.atime.getTime()/1e3)>>>0,(at=Math.floor(A.atime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],F[C+56>>2]=ae[0],F[C+60>>2]=ae[1],me[C+64>>2]=0,ae=[Math.floor(A.mtime.getTime()/1e3)>>>0,(at=Math.floor(A.mtime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],F[C+72>>2]=ae[0],F[C+76>>2]=ae[1],me[C+80>>2]=0,ae=[Math.floor(A.ctime.getTime()/1e3)>>>0,(at=Math.floor(A.ctime.getTime()/1e3),+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],F[C+88>>2]=ae[0],F[C+92>>2]=ae[1],me[C+96>>2]=0,ae=[A.ino>>>0,(at=A.ino,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],F[C+104>>2]=ae[0],F[C+108>>2]=ae[1],0},doMsync:function(d,_,C,A,z){if(!p.isFile(_.node.mode))throw new p.ErrnoError(43);if(2&A)return 0;var Ce=bt.slice(d,d+C);p.msync(_,Ce,z,C,A)},varargs:void 0,get:function(){return Tn.varargs+=4,F[Tn.varargs-4>>2]},getStr:function(d){return Te(d)},getStreamFromFD:function(d){var _=p.getStream(d);if(!_)throw new p.ErrnoError(8);return _}};function Po(d){return d%4==0&&(d%100!=0||d%400==0)}var Wi=[0,31,60,91,121,152,182,213,244,274,305,335],ei=[0,31,59,90,120,151,181,212,243,273,304,334];function Zi(d){return(Po(d.getFullYear())?Wi:ei)[d.getMonth()]+d.getDate()-1}function vi(d){var _=ee(d)+1,C=St(_);return C&&Me(d,Qe,C,_),C}function io(d){try{return ue.grow(d-Ue.byteLength+65535>>>16),Ve(ue.buffer),1}catch{}}var Bo={};function zr(){if(!zr.strings){var _={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:N||"./this.program"};for(var C in Bo)void 0===Bo[C]?delete _[C]:_[C]=Bo[C];var A=[];for(var C in _)A.push(C+"="+_[C]);zr.strings=A}return zr.strings}var ws=[31,29,31,30,31,30,31,31,30,31,30,31],qi=[31,28,31,30,31,30,31,31,30,31,30,31];var fe=function(d,_,C,A){d||(d=this),this.parent=d,this.mount=d.mount,this.mounted=null,this.id=p.nextInode++,this.name=_,this.mode=C,this.node_ops={},this.stream_ops={},this.rdev=A};Object.defineProperties(fe.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(d){d?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(d){d?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return p.isDir(this.mode)}},isDevice:{get:function(){return p.isChrdev(this.mode)}}}),p.FSNode=fe,p.staticInit();var gt,ot={a:function Bn(d,_,C,A){lr("Assertion failed: "+Te(d)+", at: "+[_?Te(_):"unknown filename",C,A?Te(A):"unknown function"])},l:function E(d,_,C){try{var A=cr(_,C);return isNaN(A)?-61:(p.ftruncate(d,A),0)}catch(z){if(typeof p>"u"||!(z instanceof p.ErrnoError))throw z;return-z.errno}},g:function zi(){return!0},h:function yi(d,_){var C=new Date(1e3*function Io(d){return me[d>>2]+4294967296*F[d+4>>2]}(d));F[_>>2]=C.getSeconds(),F[_+4>>2]=C.getMinutes(),F[_+8>>2]=C.getHours(),F[_+12>>2]=C.getDate(),F[_+16>>2]=C.getMonth(),F[_+20>>2]=C.getFullYear()-1900,F[_+24>>2]=C.getDay();var A=0|Zi(C);F[_+28>>2]=A,F[_+36>>2]=-60*C.getTimezoneOffset();var z=new Date(C.getFullYear(),0,1),Ce=new Date(C.getFullYear(),6,1).getTimezoneOffset(),we=z.getTimezoneOffset(),Re=0|(Ce!=we&&C.getTimezoneOffset()==Math.min(we,Ce));F[_+32>>2]=Re},i:function yo(d){var _=new Date(F[d+20>>2]+1900,F[d+16>>2],F[d+12>>2],F[d+8>>2],F[d+4>>2],F[d>>2],0),C=F[d+32>>2],A=_.getTimezoneOffset(),z=new Date(_.getFullYear(),0,1),Ce=new Date(_.getFullYear(),6,1).getTimezoneOffset(),we=z.getTimezoneOffset(),Re=Math.min(we,Ce);if(C<0)F[d+32>>2]=Number(Ce!=we&&Re==A);else if(C>0!=(Re==A)){var wt=Math.max(we,Ce),Xt=C>0?Re:wt;_.setTime(_.getTime()+6e4*(Xt-A))}F[d+24>>2]=_.getDay();var bn=0|Zi(_);return F[d+28>>2]=bn,F[d>>2]=_.getSeconds(),F[d+4>>2]=_.getMinutes(),F[d+8>>2]=_.getHours(),F[d+12>>2]=_.getDate(),F[d+16>>2]=_.getMonth(),F[d+20>>2]=_.getYear(),_.getTime()/1e3|0},j:function yr(d,_,C){var A=(new Date).getFullYear(),z=new Date(A,0,1),Ce=new Date(A,6,1),we=z.getTimezoneOffset(),Re=Ce.getTimezoneOffset(),wt=Math.max(we,Re);function Xt(Gn){var Zr=Gn.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Zr?Zr[1]:"GMT"}me[d>>2]=60*wt,F[_>>2]=Number(we!=Re);var bn=Xt(z),Nn=Xt(Ce),nn=vi(bn),kt=vi(Nn);Re<we?(me[C>>2]=nn,me[C+4>>2]=kt):(me[C>>2]=kt,me[C+4>>2]=nn)},b:function ti(){lr("")},c:function po(){return Date.now()},q:function ci(d,_,C){bt.copyWithin(d,_,_+C)},p:function $s(d){var wt,_=bt.length,C=2147483648;if((d>>>=0)>C)return!1;for(var z=1;z<=4;z*=2){var Ce=_*(1+.2/z);if(Ce=Math.min(Ce,d+100663296),io(Math.min(C,(wt=Math.max(d,Ce))+(65536-wt%65536)%65536)))return!0}return!1},n:function ko(d,_){var C=0;return zr().forEach(function(A,z){var Ce=_+C;me[d+4*z>>2]=Ce,function cs(d,_,C){for(var A=0;A<d.length;++A)Qe[_++>>0]=d.charCodeAt(A);C||(Qe[_>>0]=0)}(A,Ce),C+=A.length+1}),0},o:function Fi(d,_){var C=zr();me[d>>2]=C.length;var A=0;return C.forEach(function(z){A+=z.length+1}),me[_>>2]=A,0},d:function Bs(d){try{var _=Tn.getStreamFromFD(d);return p.close(_),0}catch(C){if(typeof p>"u"||!(C instanceof p.ErrnoError))throw C;return C.errno}},f:function us(d,_,C,A){try{var Ce=function ui(d,_,C,A){for(var z=0,Ce=0;Ce<C;Ce++){var we=me[_>>2],Re=me[_+4>>2];_+=8;var wt=p.read(d,Qe,we,Re,A);if(wt<0)return-1;if(z+=wt,wt<Re)break}return z}(Tn.getStreamFromFD(d),_,C);return me[A>>2]=Ce,0}catch(we){if(typeof p>"u"||!(we instanceof p.ErrnoError))throw we;return we.errno}},k:function Vs(d,_,C,A,z){try{var Ce=cr(_,C);if(isNaN(Ce))return 61;var we=Tn.getStreamFromFD(d);return p.llseek(we,Ce,A),ae=[we.position>>>0,(at=we.position,+Math.abs(at)>=1?at>0?(0|Math.min(+Math.floor(at/4294967296),4294967295))>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],F[z>>2]=ae[0],F[z+4>>2]=ae[1],we.getdents&&0===Ce&&0===A&&(we.getdents=null),0}catch(Re){if(typeof p>"u"||!(Re instanceof p.ErrnoError))throw Re;return Re.errno}},e:function vr(d,_,C,A){try{var Ce=function Us(d,_,C,A){for(var z=0,Ce=0;Ce<C;Ce++){var we=me[_>>2],Re=me[_+4>>2];_+=8;var wt=p.write(d,Qe,we,Re,A);if(wt<0)return-1;z+=wt}return z}(Tn.getStreamFromFD(d),_,C);return me[A>>2]=Ce,0}catch(we){if(typeof p>"u"||!(we instanceof p.ErrnoError))throw we;return we.errno}},m:function he(d,_,C,A,z){return function O(d,_,C,A){var z=F[A+40>>2],Ce={tm_sec:F[A>>2],tm_min:F[A+4>>2],tm_hour:F[A+8>>2],tm_mday:F[A+12>>2],tm_mon:F[A+16>>2],tm_year:F[A+20>>2],tm_wday:F[A+24>>2],tm_yday:F[A+28>>2],tm_isdst:F[A+32>>2],tm_gmtoff:F[A+36>>2],tm_zone:z?Te(z):""},we=Te(C),Re={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var wt in Re)we=we.replace(new RegExp(wt,"g"),Re[wt]);var Xt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],bn=["January","February","March","April","May","June","July","August","September","October","November","December"];function Nn(_t,qt,ir){for(var Lr="number"==typeof _t?_t.toString():_t||"";Lr.length<qt;)Lr=ir[0]+Lr;return Lr}function nn(_t,qt){return Nn(_t,qt,"0")}function kt(_t,qt){function ir(Vr){return Vr<0?-1:Vr>0?1:0}var Lr;return 0===(Lr=ir(_t.getFullYear()-qt.getFullYear()))&&0===(Lr=ir(_t.getMonth()-qt.getMonth()))&&(Lr=ir(_t.getDate()-qt.getDate())),Lr}function Gn(_t){switch(_t.getDay()){case 0:return new Date(_t.getFullYear()-1,11,29);case 1:return _t;case 2:return new Date(_t.getFullYear(),0,3);case 3:return new Date(_t.getFullYear(),0,2);case 4:return new Date(_t.getFullYear(),0,1);case 5:return new Date(_t.getFullYear()-1,11,31);case 6:return new Date(_t.getFullYear()-1,11,30)}}function Zr(_t){var qt=function nr(d,_){for(var C=new Date(d.getTime());_>0;){var A=Po(C.getFullYear()),z=C.getMonth(),Ce=(A?ws:qi)[z];if(!(_>Ce-C.getDate()))return C.setDate(C.getDate()+_),C;_-=Ce-C.getDate()+1,C.setDate(1),z<11?C.setMonth(z+1):(C.setMonth(0),C.setFullYear(C.getFullYear()+1))}return C}(new Date(_t.tm_year+1900,0,1),_t.tm_yday),ir=new Date(qt.getFullYear(),0,4),Lr=new Date(qt.getFullYear()+1,0,4),Vr=Gn(ir),Cr=Gn(Lr);return kt(Vr,qt)<=0?kt(Cr,qt)<=0?qt.getFullYear()+1:qt.getFullYear():qt.getFullYear()-1}var pi={"%a":function(_t){return Xt[_t.tm_wday].substring(0,3)},"%A":function(_t){return Xt[_t.tm_wday]},"%b":function(_t){return bn[_t.tm_mon].substring(0,3)},"%B":function(_t){return bn[_t.tm_mon]},"%C":function(_t){return nn((_t.tm_year+1900)/100|0,2)},"%d":function(_t){return nn(_t.tm_mday,2)},"%e":function(_t){return Nn(_t.tm_mday,2," ")},"%g":function(_t){return Zr(_t).toString().substring(2)},"%G":function(_t){return Zr(_t)},"%H":function(_t){return nn(_t.tm_hour,2)},"%I":function(_t){var qt=_t.tm_hour;return 0==qt?qt=12:qt>12&&(qt-=12),nn(qt,2)},"%j":function(_t){return nn(_t.tm_mday+function Ci(d,_){for(var C=0,A=0;A<=_;C+=d[A++]);return C}(Po(_t.tm_year+1900)?ws:qi,_t.tm_mon-1),3)},"%m":function(_t){return nn(_t.tm_mon+1,2)},"%M":function(_t){return nn(_t.tm_min,2)},"%n":function(){return"\n"},"%p":function(_t){return _t.tm_hour>=0&&_t.tm_hour<12?"AM":"PM"},"%S":function(_t){return nn(_t.tm_sec,2)},"%t":function(){return"\t"},"%u":function(_t){return _t.tm_wday||7},"%U":function(_t){return nn(Math.floor((_t.tm_yday+7-_t.tm_wday)/7),2)},"%V":function(_t){var qt=Math.floor((_t.tm_yday+7-(_t.tm_wday+6)%7)/7);if((_t.tm_wday+371-_t.tm_yday-2)%7<=2&&qt++,qt){if(53==qt){var Lr=(_t.tm_wday+371-_t.tm_yday)%7;4!=Lr&&(3!=Lr||!Po(_t.tm_year))&&(qt=1)}}else{qt=52;var ir=(_t.tm_wday+7-_t.tm_yday-1)%7;(4==ir||5==ir&&Po(_t.tm_year%400-1))&&qt++}return nn(qt,2)},"%w":function(_t){return _t.tm_wday},"%W":function(_t){return nn(Math.floor((_t.tm_yday+7-(_t.tm_wday+6)%7)/7),2)},"%y":function(_t){return(_t.tm_year+1900).toString().substring(2)},"%Y":function(_t){return _t.tm_year+1900},"%z":function(_t){var qt=_t.tm_gmtoff,ir=qt>=0;return qt=(qt=Math.abs(qt)/60)/60*100+qt%60,(ir?"+":"-")+String("0000"+qt).slice(-4)},"%Z":function(_t){return _t.tm_zone},"%%":function(){return"%"}};for(var wt in we=we.replace(/%%/g,"\0\0"),pi)we.includes(wt)&&(we=we.replace(new RegExp(wt,"g"),pi[wt](Ce)));var bo=_r(we=we.replace(/\0\0/g,"%"),!1);return bo.length>_?0:(function M(d,_){Qe.set(d,_)}(bo,d),bo.length-1)}(d,_,C,A)}},St=(function Jr(){var d={a:ot};function _(we,Re){l.asm=we.exports,Ve((ue=l.asm.r).buffer),function co(d){Ae.unshift(d)}(l.asm.s),Hr()}function C(we){_(we.instance)}function A(we){return function ls(){return de||!ce&&!Y||"function"!=typeof fetch?Promise.resolve().then(function(){return uo(pn)}):fetch(pn,{credentials:"same-origin"}).then(function(d){if(!d.ok)throw"failed to load wasm binary file at '"+pn+"'";return d.arrayBuffer()}).catch(function(){return uo(pn)})}().then(function(Re){return WebAssembly.instantiate(Re,d)}).then(function(Re){return Re}).then(we,function(Re){q("failed to asynchronously prepare wasm: "+Re),lr(Re)})}if(oo(),l.instantiateWasm)try{return l.instantiateWasm(d,_)}catch(we){q("Module.instantiateWasm callback failed with error: "+we),J(we)}(function z(){return de||"function"!=typeof WebAssembly.instantiateStreaming||_o(pn)||"function"!=typeof fetch?A(C):fetch(pn,{credentials:"same-origin"}).then(function(we){return WebAssembly.instantiateStreaming(we,d).then(C,function(wt){return q("wasm streaming compile failed: "+wt),q("falling back to ArrayBuffer instantiation"),A(C)})})})().catch(J)}(),l.___wasm_call_ctors=function(){return(l.___wasm_call_ctors=l.asm.s).apply(null,arguments)},l._malloc=function(){return(St=l._malloc=l.asm.t).apply(null,arguments)}),ni=(l._free=function(){return(l._free=l.asm.u).apply(null,arguments)},l._emscripten_bind_VoidPtr___destroy___0=function(){return(ni=l._emscripten_bind_VoidPtr___destroy___0=l.asm.v).apply(null,arguments)}),ho=l._emscripten_bind_FileEntry_GetName_0=function(){return(ho=l._emscripten_bind_FileEntry_GetName_0=l.asm.w).apply(null,arguments)},Vo=l._emscripten_bind_FileEntry_IsDirectory_0=function(){return(Vo=l._emscripten_bind_FileEntry_IsDirectory_0=l.asm.x).apply(null,arguments)},wi=l._emscripten_bind_FileEntry_GetSize_0=function(){return(wi=l._emscripten_bind_FileEntry_GetSize_0=l.asm.y).apply(null,arguments)},Nr=l._emscripten_bind_FileEntry_GetModifiedTS_0=function(){return(Nr=l._emscripten_bind_FileEntry_GetModifiedTS_0=l.asm.z).apply(null,arguments)},ds=l._emscripten_bind_FileEntry_GetAttributes_0=function(){return(ds=l._emscripten_bind_FileEntry_GetAttributes_0=l.asm.A).apply(null,arguments)},Xa=l._emscripten_bind_FileEntry___destroy___0=function(){return(Xa=l._emscripten_bind_FileEntry___destroy___0=l.asm.B).apply(null,arguments)},Qa=l._emscripten_bind_Vfs_Vfs_0=function(){return(Qa=l._emscripten_bind_Vfs_Vfs_0=l.asm.C).apply(null,arguments)},Oi=l._emscripten_bind_Vfs_Malloc_1=function(){return(Oi=l._emscripten_bind_Vfs_Malloc_1=l.asm.D).apply(null,arguments)},Ja=l._emscripten_bind_Vfs_Free_1=function(){return(Ja=l._emscripten_bind_Vfs_Free_1=l.asm.E).apply(null,arguments)},Js=l._emscripten_bind_Vfs_Nullptr_0=function(){return(Js=l._emscripten_bind_Vfs_Nullptr_0=l.asm.F).apply(null,arguments)},ea=l._emscripten_bind_Vfs_AllocateImage_1=function(){return(ea=l._emscripten_bind_Vfs_AllocateImage_1=l.asm.G).apply(null,arguments)},$l=l._emscripten_bind_Vfs_MountImage_1=function(){return($l=l._emscripten_bind_Vfs_MountImage_1=l.asm.H).apply(null,arguments)},Bl=l._emscripten_bind_Vfs_UnmountImage_1=function(){return(Bl=l._emscripten_bind_Vfs_UnmountImage_1=l.asm.I).apply(null,arguments)},Vl=l._emscripten_bind_Vfs_SwitchSlot_1=function(){return(Vl=l._emscripten_bind_Vfs_SwitchSlot_1=l.asm.J).apply(null,arguments)},ya=l._emscripten_bind_Vfs_GetPendingImageSize_0=function(){return(ya=l._emscripten_bind_Vfs_GetPendingImageSize_0=l.asm.K).apply(null,arguments)},Ul=l._emscripten_bind_Vfs_GetSize_1=function(){return(Ul=l._emscripten_bind_Vfs_GetSize_1=l.asm.L).apply(null,arguments)},Uo=l._emscripten_bind_Vfs_GetPendingImage_0=function(){return(Uo=l._emscripten_bind_Vfs_GetPendingImage_0=l.asm.M).apply(null,arguments)},Zn=l._emscripten_bind_Vfs_GetImage_1=function(){return(Zn=l._emscripten_bind_Vfs_GetImage_1=l.asm.N).apply(null,arguments)},el=l._emscripten_bind_Vfs_GetDirtyPages_1=function(){return(el=l._emscripten_bind_Vfs_GetDirtyPages_1=l.asm.O).apply(null,arguments)},tl=l._emscripten_bind_Vfs_RenameFile_2=function(){return(tl=l._emscripten_bind_Vfs_RenameFile_2=l.asm.P).apply(null,arguments)},nl=l._emscripten_bind_Vfs_ChmodFile_3=function(){return(nl=l._emscripten_bind_Vfs_ChmodFile_3=l.asm.Q).apply(null,arguments)},mt=l._emscripten_bind_Vfs_StatFile_1=function(){return(mt=l._emscripten_bind_Vfs_StatFile_1=l.asm.R).apply(null,arguments)},rl=l._emscripten_bind_Vfs_UnlinkFile_1=function(){return(rl=l._emscripten_bind_Vfs_UnlinkFile_1=l.asm.S).apply(null,arguments)},Er=l._emscripten_bind_Vfs_Mkdir_1=function(){return(Er=l._emscripten_bind_Vfs_Mkdir_1=l.asm.T).apply(null,arguments)},Ss=l._emscripten_bind_Vfs_GetEntry_0=function(){return(Ss=l._emscripten_bind_Vfs_GetEntry_0=l.asm.U).apply(null,arguments)},va=l._emscripten_bind_Vfs_BytesFree_1=function(){return(va=l._emscripten_bind_Vfs_BytesFree_1=l.asm.V).apply(null,arguments)},ta=l._emscripten_bind_Vfs_BytesTotal_1=function(){return(ta=l._emscripten_bind_Vfs_BytesTotal_1=l.asm.W).apply(null,arguments)},ba=l._emscripten_bind_Vfs_ReadFile_1=function(){return(ba=l._emscripten_bind_Vfs_ReadFile_1=l.asm.X).apply(null,arguments)},Ca=l._emscripten_bind_Vfs_GetCurrentFileSize_0=function(){return(Ca=l._emscripten_bind_Vfs_GetCurrentFileSize_0=l.asm.Y).apply(null,arguments)},na=l._emscripten_bind_Vfs_GetCurrentFileContent_0=function(){return(na=l._emscripten_bind_Vfs_GetCurrentFileContent_0=l.asm.Z).apply(null,arguments)},Es=l._emscripten_bind_Vfs_ReleaseCurrentFile_0=function(){return(Es=l._emscripten_bind_Vfs_ReleaseCurrentFile_0=l.asm._).apply(null,arguments)},js=l._emscripten_bind_Vfs_WriteFile_3=function(){return(js=l._emscripten_bind_Vfs_WriteFile_3=l.asm.$).apply(null,arguments)},ra=l._emscripten_bind_Vfs___destroy___0=function(){return(ra=l._emscripten_bind_Vfs___destroy___0=l.asm.aa).apply(null,arguments)},wa=l._emscripten_bind_ReaddirContext_ReaddirContext_1=function(){return(wa=l._emscripten_bind_ReaddirContext_ReaddirContext_1=l.asm.ba).apply(null,arguments)},dn=l._emscripten_bind_ReaddirContext_Next_0=function(){return(dn=l._emscripten_bind_ReaddirContext_Next_0=l.asm.ca).apply(null,arguments)},Gs=l._emscripten_bind_ReaddirContext_GetEntry_0=function(){return(Gs=l._emscripten_bind_ReaddirContext_GetEntry_0=l.asm.da).apply(null,arguments)},ol=l._emscripten_bind_ReaddirContext_GetStatus_0=function(){return(ol=l._emscripten_bind_ReaddirContext_GetStatus_0=l.asm.ea).apply(null,arguments)},jo=l._emscripten_bind_ReaddirContext_GetError_0=function(){return(jo=l._emscripten_bind_ReaddirContext_GetError_0=l.asm.fa).apply(null,arguments)},il=l._emscripten_bind_ReaddirContext_GetErrorDescription_0=function(){return(il=l._emscripten_bind_ReaddirContext_GetErrorDescription_0=l.asm.ga).apply(null,arguments)},yc=l._emscripten_bind_ReaddirContext___destroy___0=function(){return(yc=l._emscripten_bind_ReaddirContext___destroy___0=l.asm.ha).apply(null,arguments)},rr=l._emscripten_bind_CreateZipContext_CreateZipContext_2=function(){return(rr=l._emscripten_bind_CreateZipContext_CreateZipContext_2=l.asm.ia).apply(null,arguments)},jl=l._emscripten_bind_CreateZipContext_AddFile_1=function(){return(jl=l._emscripten_bind_CreateZipContext_AddFile_1=l.asm.ja).apply(null,arguments)},sl=l._emscripten_bind_CreateZipContext_AddDirectory_1=function(){return(sl=l._emscripten_bind_CreateZipContext_AddDirectory_1=l.asm.ka).apply(null,arguments)},al=l._emscripten_bind_CreateZipContext_Continue_0=function(){return(al=l._emscripten_bind_CreateZipContext_Continue_0=l.asm.la).apply(null,arguments)},Br=l._emscripten_bind_CreateZipContext_GetState_0=function(){return(Br=l._emscripten_bind_CreateZipContext_GetState_0=l.asm.ma).apply(null,arguments)},di=l._emscripten_bind_CreateZipContext_GetZipContent_0=function(){return(di=l._emscripten_bind_CreateZipContext_GetZipContent_0=l.asm.na).apply(null,arguments)},mo=l._emscripten_bind_CreateZipContext_GetZipSize_0=function(){return(mo=l._emscripten_bind_CreateZipContext_GetZipSize_0=l.asm.oa).apply(null,arguments)},ll=l._emscripten_bind_CreateZipContext_GetErrorItem_0=function(){return(ll=l._emscripten_bind_CreateZipContext_GetErrorItem_0=l.asm.pa).apply(null,arguments)},cl=l._emscripten_bind_CreateZipContext___destroy___0=function(){return(cl=l._emscripten_bind_CreateZipContext___destroy___0=l.asm.qa).apply(null,arguments)},ul=l._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=function(){return(ul=l._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=l.asm.ra).apply(null,arguments)},Sa=l._emscripten_bind_DeleteRecursiveContext_AddFile_1=function(){return(Sa=l._emscripten_bind_DeleteRecursiveContext_AddFile_1=l.asm.sa).apply(null,arguments)},Ds=l._emscripten_bind_DeleteRecursiveContext_Continue_0=function(){return(Ds=l._emscripten_bind_DeleteRecursiveContext_Continue_0=l.asm.ta).apply(null,arguments)},zn=l._emscripten_bind_DeleteRecursiveContext_GetState_0=function(){return(zn=l._emscripten_bind_DeleteRecursiveContext_GetState_0=l.asm.ua).apply(null,arguments)},Ea=l._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=function(){return(Ea=l._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=l.asm.va).apply(null,arguments)},se=l._emscripten_bind_DeleteRecursiveContext___destroy___0=function(){return(se=l._emscripten_bind_DeleteRecursiveContext___destroy___0=l.asm.wa).apply(null,arguments)},so=l._emscripten_bind_UnzipContext_UnzipContext_4=function(){return(so=l._emscripten_bind_UnzipContext_UnzipContext_4=l.asm.xa).apply(null,arguments)},on=l._emscripten_bind_UnzipContext_GetState_0=function(){return(on=l._emscripten_bind_UnzipContext_GetState_0=l.asm.ya).apply(null,arguments)},Ir=l._emscripten_bind_UnzipContext_Continue_0=function(){return(Ir=l._emscripten_bind_UnzipContext_Continue_0=l.asm.za).apply(null,arguments)},Dr=l._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=function(){return(Dr=l._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=l.asm.Aa).apply(null,arguments)},Kn=l._emscripten_bind_UnzipContext_GetCurrentEntry_0=function(){return(Kn=l._emscripten_bind_UnzipContext_GetCurrentEntry_0=l.asm.Ba).apply(null,arguments)},h=l._emscripten_bind_UnzipContext_GetCollisionPath_0=function(){return(h=l._emscripten_bind_UnzipContext_GetCollisionPath_0=l.asm.Ca).apply(null,arguments)},y=l._emscripten_bind_UnzipContext_GetEntriesTotal_0=function(){return(y=l._emscripten_bind_UnzipContext_GetEntriesTotal_0=l.asm.Da).apply(null,arguments)},w=l._emscripten_bind_UnzipContext_GetEntriesSuccess_0=function(){return(w=l._emscripten_bind_UnzipContext_GetEntriesSuccess_0=l.asm.Ea).apply(null,arguments)},P=l._emscripten_bind_UnzipContext___destroy___0=function(){return(P=l._emscripten_bind_UnzipContext___destroy___0=l.asm.Fa).apply(null,arguments)},V=l._emscripten_bind_PasteContext_PasteContext_3=function(){return(V=l._emscripten_bind_PasteContext_PasteContext_3=l.asm.Ga).apply(null,arguments)},ve=l._emscripten_bind_PasteContext_AddFile_1=function(){return(ve=l._emscripten_bind_PasteContext_AddFile_1=l.asm.Ha).apply(null,arguments)},Ie=l._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=function(){return(Ie=l._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=l.asm.Ia).apply(null,arguments)},Be=l._emscripten_bind_PasteContext_GetState_0=function(){return(Be=l._emscripten_bind_PasteContext_GetState_0=l.asm.Ja).apply(null,arguments)},Ct=l._emscripten_bind_PasteContext_Continue_0=function(){return(Ct=l._emscripten_bind_PasteContext_Continue_0=l.asm.Ka).apply(null,arguments)},Et=l._emscripten_bind_PasteContext_ContinueWithOverwrite_0=function(){return(Et=l._emscripten_bind_PasteContext_ContinueWithOverwrite_0=l.asm.La).apply(null,arguments)},kn=l._emscripten_bind_PasteContext_GetCurrentEntry_0=function(){return(kn=l._emscripten_bind_PasteContext_GetCurrentEntry_0=l.asm.Ma).apply(null,arguments)},Fn=l._emscripten_bind_PasteContext_GetCollisionPath_0=function(){return(Fn=l._emscripten_bind_PasteContext_GetCollisionPath_0=l.asm.Na).apply(null,arguments)},Gt=l._emscripten_bind_PasteContext_GetEntriesSuccess_0=function(){return(Gt=l._emscripten_bind_PasteContext_GetEntriesSuccess_0=l.asm.Oa).apply(null,arguments)},jt=l._emscripten_bind_PasteContext___destroy___0=function(){return(jt=l._emscripten_bind_PasteContext___destroy___0=l.asm.Pa).apply(null,arguments)};function Jt(d){var _=l._main;try{var z=_(0,0);return function Oe(d,_){le=d,function Se(d){le=d,function Kt(){return Fe}()||(l.onExit&&l.onExit(d),it=!0),B(d,new He(d))}(d)}(z),z}catch(Ce){return function R(d){if(d instanceof He||"unwind"==d)return le;B(1,d)}(Ce)}}function Wr(d){function _(){gt||(gt=!0,l.calledRun=!0,!it&&(function yn(){!l.noFSInit&&!p.init.initialized&&p.init(),p.ignorePermissions=!1,Vn.init(),Pn(Ae)}(),function Sr(){Pn(At)}(),ne(l),l.onRuntimeInitialized&&l.onRuntimeInitialized(),vn&&Jt(),function tr(){if(l.postRun)for("function"==typeof l.postRun&&(l.postRun=[l.postRun]);l.postRun.length;)d=l.postRun.shift(),tn.unshift(d);var d;Pn(tn)}()))}d=d||X,An>0||(function U(){if(l.preRun)for("function"==typeof l.preRun&&(l.preRun=[l.preRun]);l.preRun.length;)d=l.preRun.shift(),ft.unshift(d);var d;Pn(ft)}(),An>0)||(l.setStatus?(l.setStatus("Running..."),setTimeout(function(){setTimeout(function(){l.setStatus("")},1),_()},1)):_())}if(l._main=function(){return(l._main=l.asm.Qa).apply(null,arguments)},l.___original_main=function(){return(l.___original_main=l.asm.Sa).apply(null,arguments)},l.___start_em_js=20120,l.___stop_em_js=20218,jn=function d(){gt||Wr(),gt||(jn=d)},l.preInit)for("function"==typeof l.preInit&&(l.preInit=[l.preInit]);l.preInit.length>0;)l.preInit.pop()();var vn=!0;function dr(){}function fr(d){return(d||dr).__cache__}function Tt(d,_){var C=fr(_),A=C[d];return A||((A=Object.create((_||dr).prototype)).ptr=d,C[d]=A)}l.noInitialRun&&(vn=!1),Wr(),(dr.prototype=Object.create(dr.prototype)).constructor=dr,dr.prototype.__class__=dr,dr.__cache__={},l.WrapperObject=dr,l.getCache=fr,l.wrapPointer=Tt,l.castObject=function vo(d,_){return Tt(d.ptr,_)},l.NULL=Tt(0),l.destroy=function pr(d){if(!d.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";d.__destroy__(),delete fr(d.__class__)[d.ptr]},l.compare=function Fo(d,_){return d.ptr===_.ptr},l.getPointer=function Go(d){return d.ptr},l.getClass=function oa(d){return d.__class__};var hn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(hn.needed){for(var d=0;d<hn.temps.length;d++)l._free(hn.temps[d]);hn.temps.length=0,l._free(hn.buffer),hn.buffer=0,hn.size+=hn.needed,hn.needed=0}hn.buffer||(hn.size+=128,hn.buffer=l._malloc(hn.size),be(hn.buffer)),hn.pos=0},alloc:function(d,_){be(hn.buffer);var z,A=d.length*_.BYTES_PER_ELEMENT;return hn.pos+(A=A+7&-8)>=hn.size?(be(A>0),hn.needed+=A,z=l._malloc(A),hn.temps.push(z)):(z=hn.buffer+hn.pos,hn.pos+=A),z},copy:function(d,_,C){switch(C>>>=0,_.BYTES_PER_ELEMENT){case 2:C>>>=1;break;case 4:C>>>=2;break;case 8:C>>>=3}for(var z=0;z<d.length;z++)_[C+z]=d[z]}};function Pr(d){if("string"==typeof d){var _=_r(d),C=hn.alloc(_,Qe);return hn.copy(_,Qe,C),C}return d}function It(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Ht(){throw"cannot construct a FileEntry, no constructor in IDL"}function xt(){this.ptr=Qa(),fr(xt)[this.ptr]=this}function hr(d){hn.prepare(),d=d&&"object"==typeof d?d.ptr:Pr(d),this.ptr=wa(d),fr(hr)[this.ptr]=this}function or(d,_){hn.prepare(),d=d&&"object"==typeof d?d.ptr:Pr(d),_&&"object"==typeof _&&(_=_.ptr),this.ptr=rr(d,_),fr(or)[this.ptr]=this}function qn(d){d&&"object"==typeof d&&(d=d.ptr),this.ptr=ul(d),fr(qn)[this.ptr]=this}function br(d,_,C,A){hn.prepare(),d&&"object"==typeof d&&(d=d.ptr),_=_&&"object"==typeof _?_.ptr:Pr(_),C&&"object"==typeof C&&(C=C.ptr),A&&"object"==typeof A&&(A=A.ptr),this.ptr=so(d,_,C,A),fr(br)[this.ptr]=this}function wn(d,_,C){hn.prepare(),d&&"object"==typeof d&&(d=d.ptr),_=_&&"object"==typeof _?_.ptr:Pr(_),C=C&&"object"==typeof C?C.ptr:Pr(C),this.ptr=V(d,_,C),fr(wn)[this.ptr]=this}return(It.prototype=Object.create(dr.prototype)).constructor=It,It.prototype.__class__=It,It.__cache__={},l.VoidPtr=It,It.prototype.__destroy__=It.prototype.__destroy__=function(){ni(this.ptr)},(Ht.prototype=Object.create(dr.prototype)).constructor=Ht,Ht.prototype.__class__=Ht,Ht.__cache__={},l.FileEntry=Ht,Ht.prototype.GetName=Ht.prototype.GetName=function(){return Te(ho(this.ptr))},Ht.prototype.IsDirectory=Ht.prototype.IsDirectory=function(){return!!Vo(this.ptr)},Ht.prototype.GetSize=Ht.prototype.GetSize=function(){return wi(this.ptr)},Ht.prototype.GetModifiedTS=Ht.prototype.GetModifiedTS=function(){return Nr(this.ptr)},Ht.prototype.GetAttributes=Ht.prototype.GetAttributes=function(){return ds(this.ptr)},Ht.prototype.__destroy__=Ht.prototype.__destroy__=function(){Xa(this.ptr)},(xt.prototype=Object.create(dr.prototype)).constructor=xt,xt.prototype.__class__=xt,xt.__cache__={},l.Vfs=xt,xt.prototype.Malloc=xt.prototype.Malloc=function(d){return d&&"object"==typeof d&&(d=d.ptr),Tt(Oi(this.ptr,d),It)},xt.prototype.Free=xt.prototype.Free=function(d){d&&"object"==typeof d&&(d=d.ptr),Ja(this.ptr,d)},xt.prototype.Nullptr=xt.prototype.Nullptr=function(){return Tt(Js(this.ptr),It)},xt.prototype.AllocateImage=xt.prototype.AllocateImage=function(d){d&&"object"==typeof d&&(d=d.ptr),ea(this.ptr,d)},xt.prototype.MountImage=xt.prototype.MountImage=function(d){return d&&"object"==typeof d&&(d=d.ptr),!!$l(this.ptr,d)},xt.prototype.UnmountImage=xt.prototype.UnmountImage=function(d){d&&"object"==typeof d&&(d=d.ptr),Bl(this.ptr,d)},xt.prototype.SwitchSlot=xt.prototype.SwitchSlot=function(d){d&&"object"==typeof d&&(d=d.ptr),Vl(this.ptr,d)},xt.prototype.GetPendingImageSize=xt.prototype.GetPendingImageSize=function(){return ya(this.ptr)},xt.prototype.GetSize=xt.prototype.GetSize=function(d){return d&&"object"==typeof d&&(d=d.ptr),Ul(this.ptr,d)},xt.prototype.GetPendingImage=xt.prototype.GetPendingImage=function(){return Tt(Uo(this.ptr),It)},xt.prototype.GetImage=xt.prototype.GetImage=function(d){return d&&"object"==typeof d&&(d=d.ptr),Tt(Zn(this.ptr,d),It)},xt.prototype.GetDirtyPages=xt.prototype.GetDirtyPages=function(d){return d&&"object"==typeof d&&(d=d.ptr),Tt(el(this.ptr,d),It)},xt.prototype.RenameFile=xt.prototype.RenameFile=function(d,_){var C=this.ptr;return hn.prepare(),d=d&&"object"==typeof d?d.ptr:Pr(d),_=_&&"object"==typeof _?_.ptr:Pr(_),tl(C,d,_)},xt.prototype.ChmodFile=xt.prototype.ChmodFile=function(d,_,C){var A=this.ptr;return hn.prepare(),d=d&&"object"==typeof d?d.ptr:Pr(d),_&&"object"==typeof _&&(_=_.ptr),C&&"object"==typeof C&&(C=C.ptr),nl(A,d,_,C)},xt.prototype.StatFile=xt.prototype.StatFile=function(d){var _=this.ptr;return hn.prepare(),d=d&&"object"==typeof d?d.ptr:Pr(d),mt(_,d)},xt.prototype.UnlinkFile=xt.prototype.UnlinkFile=function(d){var _=this.ptr;return hn.prepare(),d=d&&"object"==typeof d?d.ptr:Pr(d),rl(_,d)},xt.prototype.Mkdir=xt.prototype.Mkdir=function(d){var _=this.ptr;return hn.prepare(),d=d&&"object"==typeof d?d.ptr:Pr(d),Er(_,d)},xt.prototype.GetEntry=xt.prototype.GetEntry=function(){return Tt(Ss(this.ptr),Ht)},xt.prototype.BytesFree=xt.prototype.BytesFree=function(d){return d&&"object"==typeof d&&(d=d.ptr),va(this.ptr,d)},xt.prototype.BytesTotal=xt.prototype.BytesTotal=function(d){return d&&"object"==typeof d&&(d=d.ptr),ta(this.ptr,d)},xt.prototype.ReadFile=xt.prototype.ReadFile=function(d){var _=this.ptr;return hn.prepare(),d=d&&"object"==typeof d?d.ptr:Pr(d),!!ba(_,d)},xt.prototype.GetCurrentFileSize=xt.prototype.GetCurrentFileSize=function(){return Ca(this.ptr)},xt.prototype.GetCurrentFileContent=xt.prototype.GetCurrentFileContent=function(){return Tt(na(this.ptr),It)},xt.prototype.ReleaseCurrentFile=xt.prototype.ReleaseCurrentFile=function(){Es(this.ptr)},xt.prototype.WriteFile=xt.prototype.WriteFile=function(d,_,C){var A=this.ptr;return hn.prepare(),d=d&&"object"==typeof d?d.ptr:Pr(d),_&&"object"==typeof _&&(_=_.ptr),C&&"object"==typeof C&&(C=C.ptr),js(A,d,_,C)},xt.prototype.__destroy__=xt.prototype.__destroy__=function(){ra(this.ptr)},(hr.prototype=Object.create(dr.prototype)).constructor=hr,hr.prototype.__class__=hr,hr.__cache__={},l.ReaddirContext=hr,hr.prototype.Next=hr.prototype.Next=function(){return dn(this.ptr)},hr.prototype.GetEntry=hr.prototype.GetEntry=function(){return Tt(Gs(this.ptr),Ht)},hr.prototype.GetStatus=hr.prototype.GetStatus=function(){return ol(this.ptr)},hr.prototype.GetError=hr.prototype.GetError=function(){return jo(this.ptr)},hr.prototype.GetErrorDescription=hr.prototype.GetErrorDescription=function(){return Te(il(this.ptr))},hr.prototype.__destroy__=hr.prototype.__destroy__=function(){yc(this.ptr)},(or.prototype=Object.create(dr.prototype)).constructor=or,or.prototype.__class__=or,or.__cache__={},l.CreateZipContext=or,or.prototype.AddFile=or.prototype.AddFile=function(d){var _=this.ptr;return hn.prepare(),d=d&&"object"==typeof d?d.ptr:Pr(d),Tt(jl(_,d),or)},or.prototype.AddDirectory=or.prototype.AddDirectory=function(d){var _=this.ptr;return hn.prepare(),d=d&&"object"==typeof d?d.ptr:Pr(d),Tt(sl(_,d),or)},or.prototype.Continue=or.prototype.Continue=function(){return al(this.ptr)},or.prototype.GetState=or.prototype.GetState=function(){return Br(this.ptr)},or.prototype.GetZipContent=or.prototype.GetZipContent=function(){return Tt(di(this.ptr),It)},or.prototype.GetZipSize=or.prototype.GetZipSize=function(){return mo(this.ptr)},or.prototype.GetErrorItem=or.prototype.GetErrorItem=function(){return Te(ll(this.ptr))},or.prototype.__destroy__=or.prototype.__destroy__=function(){cl(this.ptr)},(qn.prototype=Object.create(dr.prototype)).constructor=qn,qn.prototype.__class__=qn,qn.__cache__={},l.DeleteRecursiveContext=qn,qn.prototype.AddFile=qn.prototype.AddFile=function(d){var _=this.ptr;return hn.prepare(),d=d&&"object"==typeof d?d.ptr:Pr(d),Tt(Sa(_,d),qn)},qn.prototype.Continue=qn.prototype.Continue=function(){return Ds(this.ptr)},qn.prototype.GetState=qn.prototype.GetState=function(){return zn(this.ptr)},qn.prototype.GetFailingPath=qn.prototype.GetFailingPath=function(){return Te(Ea(this.ptr))},qn.prototype.__destroy__=qn.prototype.__destroy__=function(){se(this.ptr)},(br.prototype=Object.create(dr.prototype)).constructor=br,br.prototype.__class__=br,br.__cache__={},l.UnzipContext=br,br.prototype.GetState=br.prototype.GetState=function(){return on(this.ptr)},br.prototype.Continue=br.prototype.Continue=function(){return Ir(this.ptr)},br.prototype.ContinueWithOverwrite=br.prototype.ContinueWithOverwrite=function(){return Dr(this.ptr)},br.prototype.GetCurrentEntry=br.prototype.GetCurrentEntry=function(){return Te(Kn(this.ptr))},br.prototype.GetCollisionPath=br.prototype.GetCollisionPath=function(){return Te(h(this.ptr))},br.prototype.GetEntriesTotal=br.prototype.GetEntriesTotal=function(){return y(this.ptr)},br.prototype.GetEntriesSuccess=br.prototype.GetEntriesSuccess=function(){return w(this.ptr)},br.prototype.__destroy__=br.prototype.__destroy__=function(){P(this.ptr)},(wn.prototype=Object.create(dr.prototype)).constructor=wn,wn.prototype.__class__=wn,wn.__cache__={},l.PasteContext=wn,wn.prototype.AddFile=wn.prototype.AddFile=function(d){var _=this.ptr;return hn.prepare(),d=d&&"object"==typeof d?d.ptr:Pr(d),Tt(ve(_,d),wn)},wn.prototype.SetDeleteAfterCopy=wn.prototype.SetDeleteAfterCopy=function(d){return d&&"object"==typeof d&&(d=d.ptr),Tt(Ie(this.ptr,d),wn)},wn.prototype.GetState=wn.prototype.GetState=function(){return Be(this.ptr)},wn.prototype.Continue=wn.prototype.Continue=function(){return Ct(this.ptr)},wn.prototype.ContinueWithOverwrite=wn.prototype.ContinueWithOverwrite=function(){return Et(this.ptr)},wn.prototype.GetCurrentEntry=wn.prototype.GetCurrentEntry=function(){return Te(kn(this.ptr))},wn.prototype.GetCollisionPath=wn.prototype.GetCollisionPath=function(){return Te(Fn(this.ptr))},wn.prototype.GetEntriesSuccess=wn.prototype.GetEntriesSuccess=function(){return Gt(this.ptr)},wn.prototype.__destroy__=wn.prototype.__destroy__=function(){jt(this.ptr)},D.ready});$e.exports=ze},5933:($e,ze,T)=>{"use strict";T.d(ze,{c:()=>Le});var D=T(9259),l=T(2286);let ne;const H=pe=>pe.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),X=pe=>(void 0===ne&&(ne=void 0===pe.style.animationName&&void 0!==pe.style.webkitAnimationName?"-webkit-":""),ne),N=(pe,W,q)=>{const de=W.startsWith("animation")?X(pe):"";pe.style.setProperty(de+W,q)},B=(pe,W)=>{const q=W.startsWith("animation")?X(pe):"";pe.style.removeProperty(q+W)},ie=[],Pe=(pe=[],W)=>{if(void 0!==W){const q=Array.isArray(W)?W:[W];return[...pe,...q]}return pe},Le=pe=>{let W,q,de,Fe,ue,it,Te,F,me,et,tt,ft,Ae,le=[],be=[],Ee=[],Xe=!1,Me={},ee=[],Ue=[],Qe={},bt=0,cn=!1,We=!1,Ve=!0,Z=!1,ge=!0,At=!1;const tn=pe,Zt=[],Kt=[],U=[],yn=[],Sr=[],tr=[],Jo=[],co=[],Ai=[],An=[],Eo="function"==typeof AnimationEffect||void 0!==l.w&&"function"==typeof l.w.AnimationEffect,jn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Eo,oo=()=>An,pn=(R,fe)=>((fe?.oneTimeCallback?Kt:Zt).push({c:R,o:fe}),Ae),ls=()=>{if(jn)An.forEach(R=>{R.cancel()}),An.length=0;else{const R=U.slice();(0,D.r)(()=>{R.forEach(fe=>{B(fe,"animation-name"),B(fe,"animation-duration"),B(fe,"animation-timing-function"),B(fe,"animation-iteration-count"),B(fe,"animation-delay"),B(fe,"animation-play-state"),B(fe,"animation-fill-mode"),B(fe,"animation-direction")})})}},Jr=()=>{Sr.forEach(R=>{R?.parentNode&&R.parentNode.removeChild(R)}),Sr.length=0},dt=()=>void 0!==ue?ue:Te?Te.getFill():"both",Ar=()=>void 0!==me?me:void 0!==it?it:Te?Te.getDirection():"normal",p=()=>cn?"linear":void 0!==de?de:Te?Te.getEasing():"linear",Tn=()=>We?0:void 0!==et?et:void 0!==q?q:Te?Te.getDuration():0,E=()=>void 0!==Fe?Fe:Te?Te.getIterations():1,Rn=()=>void 0!==tt?tt:void 0!==W?W:Te?Te.getDelay():0,Ro=()=>{0!==bt&&(bt--,0===bt&&((()=>{vr(),co.forEach(ot=>ot()),Ai.forEach(ot=>ot());const R=Ve?1:0,fe=ee,ke=Ue,Je=Qe;U.forEach(ot=>{const xe=ot.classList;fe.forEach(Bt=>xe.add(Bt)),ke.forEach(Bt=>xe.remove(Bt));for(const Bt in Je)Je.hasOwnProperty(Bt)&&N(ot,Bt,Je[Bt])}),Zt.forEach(ot=>ot.c(R,Ae)),Kt.forEach(ot=>ot.c(R,Ae)),Kt.length=0,ge=!0,Ve&&(Z=!0),Ve=!0})(),Te&&Te.animationFinish()))},io=(R=!0)=>{Jr();const fe=(pe=>(pe.forEach(W=>{for(const q in W)if(W.hasOwnProperty(q)){const de=W[q];if("easing"===q)W["animation-timing-function"]=de,delete W[q];else{const Fe=H(q);Fe!==q&&(W[Fe]=de,delete W[q])}}}),pe))(le);U.forEach(ke=>{if(fe.length>0){const Je=((pe=[])=>pe.map(W=>{const q=W.offset,de=[];for(const Fe in W)W.hasOwnProperty(Fe)&&"offset"!==Fe&&de.push(`${Fe}: ${W[Fe]};`);return`${100*q}% { ${de.join(" ")} }`}).join(" "))(fe);ft=void 0!==pe?pe:(pe=>{let W=ie.indexOf(pe);return W<0&&(W=ie.push(pe)-1),`ion-animation-${W}`})(Je);const ot=((pe,W,q)=>{var de;const Fe=(pe=>{const W=void 0!==pe.getRootNode?pe.getRootNode():pe;return W.head||W})(q),ue=X(q),it=Fe.querySelector("#"+pe);if(it)return it;const le=(null!==(de=q.ownerDocument)&&void 0!==de?de:document).createElement("style");return le.id=pe,le.textContent=`@${ue}keyframes ${pe} { ${W} } @${ue}keyframes ${pe}-alt { ${W} }`,Fe.appendChild(le),le})(ft,Je,ke);Sr.push(ot),N(ke,"animation-duration",`${Tn()}ms`),N(ke,"animation-timing-function",p()),N(ke,"animation-delay",`${Rn()}ms`),N(ke,"animation-fill-mode",dt()),N(ke,"animation-direction",Ar());const xe=E()===1/0?"infinite":E().toString();N(ke,"animation-iteration-count",xe),N(ke,"animation-play-state","paused"),R&&N(ke,"animation-name",`${ot.id}-alt`),(0,D.r)(()=>{N(ke,"animation-name",ot.id||null)})}})},Bo=(R=!0)=>{(()=>{tr.forEach(Je=>Je()),Jo.forEach(Je=>Je());const R=be,fe=Ee,ke=Me;U.forEach(Je=>{const ot=Je.classList;R.forEach(xe=>ot.add(xe)),fe.forEach(xe=>ot.remove(xe));for(const xe in ke)ke.hasOwnProperty(xe)&&N(Je,xe,ke[xe])})})(),le.length>0&&(jn?(U.forEach(R=>{const fe=R.animate(le,{id:tn,delay:Rn(),duration:Tn(),easing:p(),iterations:E(),fill:dt(),direction:Ar()});fe.pause(),An.push(fe)}),An.length>0&&(An[0].onfinish=()=>{Ro()})):io(R)),Xe=!0},Ri=R=>{if(R=Math.min(Math.max(R,0),.9999),jn)An.forEach(fe=>{fe.currentTime=fe.effect.getComputedTiming().delay+Tn()*R,fe.pause()});else{const fe=`-${Tn()*R}ms`;U.forEach(ke=>{le.length>0&&(N(ke,"animation-delay",fe),N(ke,"animation-play-state","paused"))})}},zr=R=>{An.forEach(fe=>{fe.effect.updateTiming({delay:Rn(),duration:Tn(),easing:p(),iterations:E(),fill:dt(),direction:Ar()})}),void 0!==R&&Ri(R)},cs=(R=!0,fe)=>{(0,D.r)(()=>{U.forEach(ke=>{N(ke,"animation-name",ft||null),N(ke,"animation-duration",`${Tn()}ms`),N(ke,"animation-timing-function",p()),N(ke,"animation-delay",void 0!==fe?`-${fe*Tn()}ms`:`${Rn()}ms`),N(ke,"animation-fill-mode",dt()||null),N(ke,"animation-direction",Ar()||null);const Je=E()===1/0?"infinite":E().toString();N(ke,"animation-iteration-count",Je),R&&N(ke,"animation-name",`${ft}-alt`),(0,D.r)(()=>{N(ke,"animation-name",ft||null)})})})},ko=(R=!1,fe=!0,ke)=>(R&&yn.forEach(Je=>{Je.update(R,fe,ke)}),jn?zr(ke):cs(fe,ke),Ae),us=()=>{Xe&&(jn?An.forEach(R=>{R.pause()}):U.forEach(R=>{N(R,"animation-play-state","paused")}),At=!0)},Us=()=>{F=void 0,Ro()},vr=()=>{F&&clearTimeout(F)},M=R=>new Promise(fe=>{R?.sync&&(We=!0,pn(()=>We=!1,{oneTimeCallback:!0})),Xe||Bo(),Z&&(jn?(Ri(0),zr()):cs(),Z=!1),ge&&(bt=yn.length+1,ge=!1),pn(()=>fe(),{oneTimeCallback:!0}),yn.forEach(ke=>{ke.play()}),jn?(An.forEach(R=>{R.play()}),(0===le.length||0===U.length)&&Ro()):(()=>{if(vr(),(0,D.r)(()=>{U.forEach(R=>{le.length>0&&N(R,"animation-play-state","running")})}),0===le.length||0===U.length)Ro();else{const R=Rn()||0,fe=Tn()||0,ke=E()||1;isFinite(ke)&&(F=setTimeout(Us,R+fe*ke+100)),((pe,W)=>{let q;const de={passive:!0},ue=it=>{pe===it.target&&(q&&q(),vr(),(0,D.r)(()=>{U.forEach(R=>{B(R,"animation-duration"),B(R,"animation-delay"),B(R,"animation-play-state")}),(0,D.r)(Ro)}))};pe&&(pe.addEventListener("webkitAnimationEnd",ue,de),pe.addEventListener("animationend",ue,de),q=()=>{pe.removeEventListener("webkitAnimationEnd",ue,de),pe.removeEventListener("animationend",ue,de)})})(U[0])}})(),At=!1}),he=(R,fe)=>{const ke=le[0];return void 0===ke||void 0!==ke.offset&&0!==ke.offset?le=[{offset:0,[R]:fe},...le]:ke[R]=fe,Ae};return Ae={parentAnimation:Te,elements:U,childAnimations:yn,id:tn,animationFinish:Ro,from:he,to:(R,fe)=>{const ke=le[le.length-1];return void 0===ke||void 0!==ke.offset&&1!==ke.offset?le=[...le,{offset:1,[R]:fe}]:ke[R]=fe,Ae},fromTo:(R,fe,ke)=>he(R,fe).to(R,ke),parent:R=>(Te=R,Ae),play:M,pause:()=>(yn.forEach(R=>{R.pause()}),us(),Ae),stop:()=>{yn.forEach(R=>{R.stop()}),Xe&&(ls(),Xe=!1),cn=!1,We=!1,ge=!0,me=void 0,et=void 0,tt=void 0,bt=0,Z=!1,Ve=!0,At=!1},destroy:R=>(yn.forEach(fe=>{fe.destroy(R)}),(R=>{ls(),R&&Jr()})(R),U.length=0,yn.length=0,le.length=0,Zt.length=0,Kt.length=0,Xe=!1,ge=!0,Ae),keyframes:R=>{const fe=le!==R;return le=R,fe&&(R=>{jn?oo().forEach(fe=>{if(fe.effect.setKeyframes)fe.effect.setKeyframes(R);else{const ke=new KeyframeEffect(fe.effect.target,R,fe.effect.getTiming());fe.effect=ke}}):io()})(le),Ae},addAnimation:R=>{if(null!=R)if(Array.isArray(R))for(const fe of R)fe.parent(Ae),yn.push(fe);else R.parent(Ae),yn.push(R);return Ae},addElement:R=>{if(null!=R)if(1===R.nodeType)U.push(R);else if(R.length>=0)for(let fe=0;fe<R.length;fe++)U.push(R[fe]);else console.error("Invalid addElement value");return Ae},update:ko,fill:R=>(ue=R,ko(!0),Ae),direction:R=>(it=R,ko(!0),Ae),iterations:R=>(Fe=R,ko(!0),Ae),duration:R=>(!jn&&0===R&&(R=1),q=R,ko(!0),Ae),easing:R=>(de=R,ko(!0),Ae),delay:R=>(W=R,ko(!0),Ae),getWebAnimations:oo,getKeyframes:()=>le,getFill:dt,getDirection:Ar,getDelay:Rn,getIterations:E,getEasing:p,getDuration:Tn,afterAddRead:R=>(co.push(R),Ae),afterAddWrite:R=>(Ai.push(R),Ae),afterClearStyles:(R=[])=>{for(const fe of R)Qe[fe]="";return Ae},afterStyles:(R={})=>(Qe=R,Ae),afterRemoveClass:R=>(Ue=Pe(Ue,R),Ae),afterAddClass:R=>(ee=Pe(ee,R),Ae),beforeAddRead:R=>(tr.push(R),Ae),beforeAddWrite:R=>(Jo.push(R),Ae),beforeClearStyles:(R=[])=>{for(const fe of R)Me[fe]="";return Ae},beforeStyles:(R={})=>(Me=R,Ae),beforeRemoveClass:R=>(Ee=Pe(Ee,R),Ae),beforeAddClass:R=>(be=Pe(be,R),Ae),onFinish:pn,isRunning:()=>0!==bt&&!At,progressStart:(R=!1,fe)=>(yn.forEach(ke=>{ke.progressStart(R,fe)}),us(),cn=R,Xe||Bo(),ko(!1,!0,fe),Ae),progressStep:R=>(yn.forEach(fe=>{fe.progressStep(R)}),Ri(R),Ae),progressEnd:(R,fe,ke)=>(cn=!1,yn.forEach(Je=>{Je.progressEnd(R,fe,ke)}),void 0!==ke&&(et=ke),Z=!1,Ve=!0,0===R?(me="reverse"===Ar()?"normal":"reverse","reverse"===me&&(Ve=!1),jn?(ko(),Ri(1-fe)):(tt=(1-fe)*Tn()*-1,ko(!1,!1))):1===R&&(jn?(ko(),Ri(fe)):(tt=fe*Tn()*-1,ko(!1,!1))),void 0!==R&&(pn(()=>{et=void 0,me=void 0,tt=void 0},{oneTimeCallback:!0}),Te||M()),Ae)}}},6379:($e,ze,T)=>{"use strict";T.d(ze,{G:()=>H});class l{constructor(N,B,ce,Y,ie){this.id=B,this.name=ce,this.disableScroll=ie,this.priority=1e6*Y+B,this.ctrl=N}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const N=this.ctrl.capture(this.name,this.id,this.priority);return N&&this.disableScroll&&this.ctrl.disableScroll(this.id),N}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class ne{constructor(N,B,ce,Y){this.id=B,this.disable=ce,this.disableScroll=Y,this.ctrl=N}block(){if(this.ctrl){if(this.disable)for(const N of this.disable)this.ctrl.disableGesture(N,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const N of this.disable)this.ctrl.enableGesture(N,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const J="backdrop-no-scroll",H=new class D{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(N){var B;return new l(this,this.newID(),N.name,null!==(B=N.priority)&&void 0!==B?B:0,!!N.disableScroll)}createBlocker(N={}){return new ne(this,this.newID(),N.disable,!!N.disableScroll)}start(N,B,ce){return this.canStart(N)?(this.requestedStart.set(B,ce),!0):(this.requestedStart.delete(B),!1)}capture(N,B,ce){if(!this.start(N,B,ce))return!1;const Y=this.requestedStart;let ie=-1e4;if(Y.forEach($=>{ie=Math.max(ie,$)}),ie===ce){this.capturedId=B,Y.clear();const $=new CustomEvent("ionGestureCaptured",{detail:{gestureName:N}});return document.dispatchEvent($),!0}return Y.delete(B),!1}release(N){this.requestedStart.delete(N),this.capturedId===N&&(this.capturedId=void 0)}disableGesture(N,B){let ce=this.disabledGestures.get(N);void 0===ce&&(ce=new Set,this.disabledGestures.set(N,ce)),ce.add(B)}enableGesture(N,B){const ce=this.disabledGestures.get(N);void 0!==ce&&ce.delete(B)}disableScroll(N){this.disabledScroll.add(N),1===this.disabledScroll.size&&document.body.classList.add(J)}enableScroll(N){this.disabledScroll.delete(N),0===this.disabledScroll.size&&document.body.classList.remove(J)}canStart(N){return!(void 0!==this.capturedId||this.isDisabled(N))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(N){const B=this.disabledGestures.get(N);return!!(B&&B.size>0)}newID(){return this.gestureId++,this.gestureId}}},159:($e,ze,T)=>{"use strict";T.r(ze),T.d(ze,{MENU_BACK_BUTTON_PRIORITY:()=>H,OVERLAY_BACK_BUTTON_PRIORITY:()=>J,blockHardwareBackButton:()=>l,startHardwareBackButton:()=>ne});var D=T(3918);const l=()=>{document.addEventListener("backbutton",()=>{})},ne=()=>{const X=document;let N=!1;X.addEventListener("backbutton",()=>{if(N)return;let B=0,ce=[];const Y=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(L,j){ce.push({priority:L,handler:j,id:B++})}}});X.dispatchEvent(Y);const ie=function(){var L=(0,D.Z)(function*(j){try{if(j?.handler){const Pe=j.handler($);null!=Pe&&(yield Pe)}}catch(Pe){console.error(Pe)}});return function(Pe){return L.apply(this,arguments)}}(),$=()=>{if(ce.length>0){let L={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};ce.forEach(j=>{j.priority>=L.priority&&(L=j)}),N=!0,ce=ce.filter(j=>j.id!==L.id),ie(L).then(()=>N=!1)}};$()})},J=100,H=99},9259:($e,ze,T)=>{"use strict";T.d(ze,{a:()=>N,b:()=>B,c:()=>ne,d:()=>j,e:()=>Pe,f:()=>L,g:()=>ce,h:()=>Fe,i:()=>X,j:()=>J,k:()=>$,l:()=>Le,m:()=>ie,n:()=>pe,o:()=>de,p:()=>q,q:()=>ue,r:()=>Y,s:()=>it,t:()=>D,u:()=>W});const D=(le,be=0)=>new Promise(Ee=>{l(le,be,Ee)}),l=(le,be=0,Ee)=>{let Xe,Te;const Me={passive:!0},Ue=()=>{Xe&&Xe()},Qe=bt=>{(void 0===bt||le===bt.target)&&(Ue(),Ee(bt))};return le&&(le.addEventListener("webkitTransitionEnd",Qe,Me),le.addEventListener("transitionend",Qe,Me),Te=setTimeout(Qe,be+500),Xe=()=>{Te&&(clearTimeout(Te),Te=void 0),le.removeEventListener("webkitTransitionEnd",Qe,Me),le.removeEventListener("transitionend",Qe,Me)}),Ue},ne=(le,be)=>{le.componentOnReady?le.componentOnReady().then(Ee=>be(Ee)):Y(()=>be(le))},J=(le,be=[])=>{const Ee={};return be.forEach(Xe=>{le.hasAttribute(Xe)&&(null!==le.getAttribute(Xe)&&(Ee[Xe]=le.getAttribute(Xe)),le.removeAttribute(Xe))}),Ee},H=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],X=(le,be)=>{let Ee=H;return be&&be.length>0&&(Ee=Ee.filter(Xe=>!be.includes(Xe))),J(le,Ee)},N=(le,be,Ee,Xe)=>{var Te;if(typeof window<"u"){const ee=null===(Te=window?.Ionic)||void 0===Te?void 0:Te.config;if(ee){const Ue=ee.get("_ael");if(Ue)return Ue(le,be,Ee,Xe);if(ee._ael)return ee._ael(le,be,Ee,Xe)}}return le.addEventListener(be,Ee,Xe)},B=(le,be,Ee,Xe)=>{var Te;if(typeof window<"u"){const ee=null===(Te=window?.Ionic)||void 0===Te?void 0:Te.config;if(ee){const Ue=ee.get("_rel");if(Ue)return Ue(le,be,Ee,Xe);if(ee._rel)return ee._rel(le,be,Ee,Xe)}}return le.removeEventListener(be,Ee,Xe)},ce=(le,be=le)=>le.shadowRoot||be,Y=le=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(le):"function"==typeof requestAnimationFrame?requestAnimationFrame(le):setTimeout(le),ie=le=>!!le.shadowRoot&&!!le.attachShadow,$=le=>{const be=le.closest("ion-item");return be?be.querySelector("ion-label"):null},L=le=>{if(le.focus(),le.classList.contains("ion-focusable")){const be=le.closest("ion-app");be&&be.setFocus([le])}},j=(le,be)=>{let Ee;const Xe=le.getAttribute("aria-labelledby"),Te=le.id;let Me=null!==Xe&&""!==Xe.trim()?Xe:be+"-lbl",ee=null!==Xe&&""!==Xe.trim()?document.getElementById(Xe):$(le);return ee?(null===Xe&&(ee.id=Me),Ee=ee.textContent,ee.setAttribute("aria-hidden","true")):""!==Te.trim()&&(ee=document.querySelector(`label[for="${Te}"]`),ee&&(""!==ee.id?Me=ee.id:ee.id=Me=`${Te}-lbl`,Ee=ee.textContent)),{label:ee,labelId:Me,labelText:Ee}},Pe=(le,be,Ee,Xe,Te)=>{if(le||ie(be)){let Me=be.querySelector("input.aux-input");Me||(Me=be.ownerDocument.createElement("input"),Me.type="hidden",Me.classList.add("aux-input"),be.appendChild(Me)),Me.disabled=Te,Me.name=Ee,Me.value=Xe||""}},Le=(le,be,Ee)=>Math.max(le,Math.min(be,Ee)),pe=(le,be)=>{if(!le){const Ee="ASSERT: "+be;throw console.error(Ee),new Error(Ee)}},W=le=>le.timeStamp||Date.now(),q=le=>{if(le){const be=le.changedTouches;if(be&&be.length>0){const Ee=be[0];return{x:Ee.clientX,y:Ee.clientY}}if(void 0!==le.pageX)return{x:le.pageX,y:le.pageY}}return{x:0,y:0}},de=le=>{const be="rtl"===document.dir;switch(le){case"start":return be;case"end":return!be;default:throw new Error(`"${le}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Fe=(le,be)=>{const Ee=le._original||le;return{_original:le,emit:ue(Ee.emit.bind(Ee),be)}},ue=(le,be=0)=>{let Ee;return(...Xe)=>{clearTimeout(Ee),Ee=setTimeout(le,be,...Xe)}},it=(le,be)=>{if(le??(le={}),be??(be={}),le===be)return!0;const Ee=Object.keys(le);if(Ee.length!==Object.keys(be).length)return!1;for(const Xe of Ee)if(!(Xe in be)||le[Xe]!==be[Xe])return!1;return!0}},609:($e,ze,T)=>{"use strict";T.d(ze,{L:()=>J,a:()=>H,b:()=>X,c:()=>N,d:()=>B,e:()=>be,g:()=>Te,l:()=>it,s:()=>Ee,t:()=>ie});var D=T(3918),l=T(1559),ne=T(9259);const J="ionViewWillEnter",H="ionViewDidEnter",X="ionViewWillLeave",N="ionViewDidLeave",B="ionViewWillUnload",ie=Me=>new Promise((ee,Ue)=>{(0,l.c)(()=>{$(Me),L(Me).then(Qe=>{Qe.animation&&Qe.animation.destroy(),j(Me),ee(Qe)},Qe=>{j(Me),Ue(Qe)})})}),$=Me=>{const ee=Me.enteringEl,Ue=Me.leavingEl;Xe(ee,Ue,Me.direction),Me.showGoBack?ee.classList.add("can-go-back"):ee.classList.remove("can-go-back"),Ee(ee,!1),ee.style.setProperty("pointer-events","none"),Ue&&(Ee(Ue,!1),Ue.style.setProperty("pointer-events","none"))},L=function(){var Me=(0,D.Z)(function*(ee){const Ue=yield Pe(ee);return Ue&&l.B.isBrowser?Le(Ue,ee):pe(ee)});return function(Ue){return Me.apply(this,arguments)}}(),j=Me=>{const ee=Me.enteringEl,Ue=Me.leavingEl;ee.classList.remove("ion-page-invisible"),ee.style.removeProperty("pointer-events"),void 0!==Ue&&(Ue.classList.remove("ion-page-invisible"),Ue.style.removeProperty("pointer-events"))},Pe=function(){var Me=(0,D.Z)(function*(ee){return ee.leavingEl&&ee.animated&&0!==ee.duration?ee.animationBuilder?ee.animationBuilder:"ios"===ee.mode?(yield Promise.resolve().then(T.bind(T,9078))).iosTransitionAnimation:(yield Promise.resolve().then(T.bind(T,4199))).mdTransitionAnimation:void 0});return function(Ue){return Me.apply(this,arguments)}}(),Le=function(){var Me=(0,D.Z)(function*(ee,Ue){yield W(Ue,!0);const Qe=ee(Ue.baseEl,Ue);Fe(Ue.enteringEl,Ue.leavingEl);const bt=yield de(Qe,Ue);return Ue.progressCallback&&Ue.progressCallback(void 0),bt&&ue(Ue.enteringEl,Ue.leavingEl),{hasCompleted:bt,animation:Qe}});return function(Ue,Qe){return Me.apply(this,arguments)}}(),pe=function(){var Me=(0,D.Z)(function*(ee){const Ue=ee.enteringEl,Qe=ee.leavingEl;return yield W(ee,!1),Fe(Ue,Qe),ue(Ue,Qe),{hasCompleted:!0}});return function(Ue){return Me.apply(this,arguments)}}(),W=function(){var Me=(0,D.Z)(function*(ee,Ue){const bt=(void 0!==ee.deepWait?ee.deepWait:Ue)?[be(ee.enteringEl),be(ee.leavingEl)]:[le(ee.enteringEl),le(ee.leavingEl)];yield Promise.all(bt),yield q(ee.viewIsReady,ee.enteringEl)});return function(Ue,Qe){return Me.apply(this,arguments)}}(),q=function(){var Me=(0,D.Z)(function*(ee,Ue){ee&&(yield ee(Ue))});return function(Ue,Qe){return Me.apply(this,arguments)}}(),de=(Me,ee)=>{const Ue=ee.progressCallback,Qe=new Promise(bt=>{Me.onFinish(cn=>bt(1===cn))});return Ue?(Me.progressStart(!0),Ue(Me)):Me.play(),Qe},Fe=(Me,ee)=>{it(ee,X),it(Me,J)},ue=(Me,ee)=>{it(Me,H),it(ee,N)},it=(Me,ee)=>{if(Me){const Ue=new CustomEvent(ee,{bubbles:!1,cancelable:!1});Me.dispatchEvent(Ue)}},le=Me=>Me?new Promise(ee=>(0,ne.c)(Me,ee)):Promise.resolve(),be=function(){var Me=(0,D.Z)(function*(ee){const Ue=ee;if(Ue){if(null!=Ue.componentOnReady){if(null!=(yield Ue.componentOnReady()))return}else if(null!=Ue.__registerHost)return void(yield new Promise(bt=>(0,ne.r)(bt)));yield Promise.all(Array.from(Ue.children).map(be))}});return function(Ue){return Me.apply(this,arguments)}}(),Ee=(Me,ee)=>{ee?(Me.setAttribute("aria-hidden","true"),Me.classList.add("ion-page-hidden")):(Me.hidden=!1,Me.removeAttribute("aria-hidden"),Me.classList.remove("ion-page-hidden"))},Xe=(Me,ee,Ue)=>{void 0!==Me&&(Me.style.zIndex="back"===Ue?"99":"101"),void 0!==ee&&(ee.style.zIndex="100")},Te=Me=>Me.classList.contains("ion-page")?Me:Me.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Me},7351:($e,ze,T)=>{"use strict";T.d(ze,{m:()=>ie});var D=T(3918),l=T(159),ne=T(9259),J=T(5823),H=T(5933);const X=$=>(0,H.c)().duration($?400:300),N=$=>{let L,j;const Pe=$.width+8,Le=(0,H.c)(),pe=(0,H.c)();$.isEndSide?(L=Pe+"px",j="0px"):(L=-Pe+"px",j="0px"),Le.addElement($.menuInnerEl).fromTo("transform",`translateX(${L})`,`translateX(${j})`);const q="ios"===(0,J.b)($),de=q?.2:.25;return pe.addElement($.backdropEl).fromTo("opacity",.01,de),X(q).addAnimation([Le,pe])},B=$=>{let L,j;const Pe=(0,J.b)($),Le=$.width;$.isEndSide?(L=-Le+"px",j=Le+"px"):(L=Le+"px",j=-Le+"px");const pe=(0,H.c)().addElement($.menuInnerEl).fromTo("transform",`translateX(${j})`,"translateX(0px)"),W=(0,H.c)().addElement($.contentEl).fromTo("transform","translateX(0px)",`translateX(${L})`),q=(0,H.c)().addElement($.backdropEl).fromTo("opacity",.01,.32);return X("ios"===Pe).addAnimation([pe,W,q])},ce=$=>{const L=(0,J.b)($),j=$.width*($.isEndSide?-1:1)+"px",Pe=(0,H.c)().addElement($.contentEl).fromTo("transform","translateX(0px)",`translateX(${j})`);return X("ios"===L).addAnimation(Pe)},ie=(()=>{const $=new Map,L=[],j=function(){var F=(0,D.Z)(function*(me){const et=yield Fe(me);return!!et&&et.open()});return function(et){return F.apply(this,arguments)}}(),Pe=function(){var F=(0,D.Z)(function*(me){const et=yield void 0!==me?Fe(me):ue();return void 0!==et&&et.close()});return function(et){return F.apply(this,arguments)}}(),Le=function(){var F=(0,D.Z)(function*(me){const et=yield Fe(me);return!!et&&et.toggle()});return function(et){return F.apply(this,arguments)}}(),pe=function(){var F=(0,D.Z)(function*(me,et){const tt=yield Fe(et);return tt&&(tt.disabled=!me),tt});return function(et,tt){return F.apply(this,arguments)}}(),W=function(){var F=(0,D.Z)(function*(me,et){const tt=yield Fe(et);return tt&&(tt.swipeGesture=me),tt});return function(et,tt){return F.apply(this,arguments)}}(),q=function(){var F=(0,D.Z)(function*(me){if(null!=me){const et=yield Fe(me);return void 0!==et&&et.isOpen()}return void 0!==(yield ue())});return function(et){return F.apply(this,arguments)}}(),de=function(){var F=(0,D.Z)(function*(me){const et=yield Fe(me);return!!et&&!et.disabled});return function(et){return F.apply(this,arguments)}}(),Fe=function(){var F=(0,D.Z)(function*(me){return yield We(),"start"===me||"end"===me?cn(Ve=>Ve.side===me&&!Ve.disabled)||cn(Ve=>Ve.side===me):null!=me?cn(tt=>tt.menuId===me):cn(tt=>!tt.disabled)||(L.length>0?L[0].el:void 0)});return function(et){return F.apply(this,arguments)}}(),ue=function(){var F=(0,D.Z)(function*(){return yield We(),Ue()});return function(){return F.apply(this,arguments)}}(),it=function(){var F=(0,D.Z)(function*(){return yield We(),Qe()});return function(){return F.apply(this,arguments)}}(),le=function(){var F=(0,D.Z)(function*(){return yield We(),bt()});return function(){return F.apply(this,arguments)}}(),be=(F,me)=>{$.set(F,me)},Te=F=>{const me=F.side;L.filter(et=>et.side===me&&et!==F).forEach(et=>et.disabled=!0)},Me=function(){var F=(0,D.Z)(function*(me,et,tt){if(bt())return!1;if(et){const Ve=yield ue();Ve&&me.el!==Ve&&(yield Ve.setOpen(!1,!1))}return me._setOpen(et,tt)});return function(et,tt,Ve){return F.apply(this,arguments)}}(),Ue=()=>cn(F=>F._isOpen),Qe=()=>L.map(F=>F.el),bt=()=>L.some(F=>F.isAnimating),cn=F=>{const me=L.find(F);if(void 0!==me)return me.el},We=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(F=>new Promise(me=>(0,ne.c)(F,me))));return be("reveal",ce),be("push",B),be("overlay",N),typeof document<"u"&&document.addEventListener("ionBackButton",F=>{const me=Ue();me&&F.detail.register(l.MENU_BACK_BUTTON_PRIORITY,()=>me.close())}),{registerAnimation:be,get:Fe,getMenus:it,getOpen:ue,isEnabled:de,swipeGesture:W,isAnimating:le,isOpen:q,enable:pe,toggle:Le,close:Pe,open:j,_getOpenSync:Ue,_createAnimation:(F,me)=>{const et=$.get(F);if(!et)throw new Error("animation not registered");return et(me)},_register:F=>{L.indexOf(F)<0&&(F.disabled||Te(F),L.push(F))},_unregister:F=>{const me=L.indexOf(F);me>-1&&L.splice(me,1)},_setOpen:Me,_setActiveMenu:Te}})()},2286:($e,ze,T)=>{"use strict";T.d(ze,{w:()=>D});const D=typeof window<"u"?window:void 0},8759:($e,ze,T)=>{"use strict";T.r(ze),T.d(ze,{GESTURE_CONTROLLER:()=>D.G,createGesture:()=>ce});var D=T(6379);const l=(L,j,Pe,Le)=>{const pe=ne(L)?{capture:!!Le.capture,passive:!!Le.passive}:!!Le.capture;let W,q;return L.__zone_symbol__addEventListener?(W="__zone_symbol__addEventListener",q="__zone_symbol__removeEventListener"):(W="addEventListener",q="removeEventListener"),L[W](j,Pe,pe),()=>{L[q](j,Pe,pe)}},ne=L=>{if(void 0===J)try{const j=Object.defineProperty({},"passive",{get:()=>{J=!0}});L.addEventListener("optsTest",()=>{},j)}catch{J=!1}return!!J};let J;const N=L=>L instanceof Document?L:L.ownerDocument,ce=L=>{let j=!1,Pe=!1,Le=!0,pe=!1;const W=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},L),q=W.canStart,de=W.onWillStart,Fe=W.onStart,ue=W.onEnd,it=W.notCaptured,le=W.onMove,be=W.threshold,Ee=W.passive,Xe=W.blurOnStart,Te={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Me=((L,j,Pe)=>{const Le=Pe*(Math.PI/180),pe="x"===L,W=Math.cos(Le),q=j*j;let de=0,Fe=0,ue=!1,it=0;return{start(le,be){de=le,Fe=be,it=0,ue=!0},detect(le,be){if(!ue)return!1;const Ee=le-de,Xe=be-Fe,Te=Ee*Ee+Xe*Xe;if(Te<q)return!1;const Me=Math.sqrt(Te),ee=(pe?Ee:Xe)/Me;return it=ee>W?1:ee<-W?-1:0,ue=!1,!0},isGesture:()=>0!==it,getDirection:()=>it}})(W.direction,W.threshold,W.maxAngle),ee=D.G.createGesture({name:L.gestureName,priority:L.gesturePriority,disableScroll:L.disableScroll}),bt=()=>{j&&(pe=!1,le&&le(Te))},cn=()=>!!ee.capture()&&(j=!0,Le=!1,Te.startX=Te.currentX,Te.startY=Te.currentY,Te.startTime=Te.currentTime,de?de(Te).then(F):F(),!0),F=()=>{Xe&&(()=>{if(typeof document<"u"){const Z=document.activeElement;Z?.blur&&Z.blur()}})(),Fe&&Fe(Te),Le=!0},me=()=>{j=!1,Pe=!1,pe=!1,Le=!0,ee.release()},et=Z=>{const ge=j,ft=Le;if(me(),ft){if(Y(Te,Z),ge)return void(ue&&ue(Te));it&&it(Te)}},tt=((L,j,Pe,Le,pe)=>{let W,q,de,Fe,ue,it,le,be=0;const Ee=We=>{be=Date.now()+2e3,j(We)&&(!q&&Pe&&(q=l(L,"touchmove",Pe,pe)),de||(de=l(We.target,"touchend",Te,pe)),Fe||(Fe=l(We.target,"touchcancel",Te,pe)))},Xe=We=>{be>Date.now()||j(We)&&(!it&&Pe&&(it=l(N(L),"mousemove",Pe,pe)),le||(le=l(N(L),"mouseup",Me,pe)))},Te=We=>{ee(),Le&&Le(We)},Me=We=>{Ue(),Le&&Le(We)},ee=()=>{q&&q(),de&&de(),Fe&&Fe(),q=de=Fe=void 0},Ue=()=>{it&&it(),le&&le(),it=le=void 0},Qe=()=>{ee(),Ue()},bt=(We=!0)=>{We?(W||(W=l(L,"touchstart",Ee,pe)),ue||(ue=l(L,"mousedown",Xe,pe))):(W&&W(),ue&&ue(),W=ue=void 0,Qe())};return{enable:bt,stop:Qe,destroy:()=>{bt(!1),Le=Pe=j=void 0}}})(W.el,Z=>{const ge=$(Z);return!(Pe||!Le||(ie(Z,Te),Te.startX=Te.currentX,Te.startY=Te.currentY,Te.startTime=Te.currentTime=ge,Te.velocityX=Te.velocityY=Te.deltaX=Te.deltaY=0,Te.event=Z,q&&!1===q(Te))||(ee.release(),!ee.start()))&&(Pe=!0,0===be?cn():(Me.start(Te.startX,Te.startY),!0))},Z=>{j?!pe&&Le&&(pe=!0,Y(Te,Z),requestAnimationFrame(bt)):(Y(Te,Z),Me.detect(Te.currentX,Te.currentY)&&(!Me.isGesture()||!cn())&&Ve())},et,{capture:!1,passive:Ee}),Ve=()=>{me(),tt.stop(),it&&it(Te)};return{enable(Z=!0){Z||(j&&et(void 0),me()),tt.enable(Z)},destroy(){ee.destroy(),tt.destroy()}}},Y=(L,j)=>{if(!j)return;const Pe=L.currentX,Le=L.currentY,pe=L.currentTime;ie(j,L);const W=L.currentX,q=L.currentY,Fe=(L.currentTime=$(j))-pe;if(Fe>0&&Fe<100){const it=(q-Le)/Fe;L.velocityX=(W-Pe)/Fe*.7+.3*L.velocityX,L.velocityY=.7*it+.3*L.velocityY}L.deltaX=W-L.startX,L.deltaY=q-L.startY,L.event=j},ie=(L,j)=>{let Pe=0,Le=0;if(L){const pe=L.changedTouches;if(pe&&pe.length>0){const W=pe[0];Pe=W.clientX,Le=W.clientY}else void 0!==L.pageX&&(Pe=L.pageX,Le=L.pageY)}j.currentX=Pe,j.currentY=Le},$=L=>L.timeStamp||Date.now()},1559:($e,ze,T)=>{"use strict";T.d(ze,{B:()=>nr,H:()=>U,a:()=>Ve,b:()=>bi,c:()=>qi,e:()=>cr,f:()=>ws,g:()=>Z,h:()=>Zt,i:()=>Bn,j:()=>Ar,k:()=>ci,p:()=>Le,r:()=>$s,s:()=>j});var D=T(3918);let ne,J,H,X=!1,N=!1,B=!1,ce=!1,Y=!1;const ie=typeof window<"u"?window:{},$=ie.document||{head:{}},L={$flags$:0,$resourcesUrl$:"",jmp:M=>M(),raf:M=>requestAnimationFrame(M),ael:(M,O,he,Se)=>M.addEventListener(O,he,Se),rel:(M,O,he,Se)=>M.removeEventListener(O,he,Se),ce:(M,O)=>new CustomEvent(M,O)},j=M=>{Object.assign(L,M)},Le=M=>Promise.resolve(M),pe=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),W=(M,O,he,Se)=>{he&&he.map(([Oe,R,fe])=>{const ke=de(M,Oe),Je=q(O,fe),ot=Fe(Oe);L.ael(ke,R,Je,ot),(O.$rmListeners$=O.$rmListeners$||[]).push(()=>L.rel(ke,R,Je,ot))})},q=(M,O)=>he=>{try{256&M.$flags$?M.$lazyInstance$[O](he):(M.$queuedListeners$=M.$queuedListeners$||[]).push([O,he])}catch(Se){zr(Se)}},de=(M,O)=>4&O?$:8&O?ie:16&O?$.body:M,Fe=M=>0!=(2&M),Ee="s-id",Xe="sty-id",ee="http://www.w3.org/1999/xlink",bt=new WeakMap,cn=(M,O,he)=>{let Se=Fi.get(M);pe&&he?(Se=Se||new CSSStyleSheet,"string"==typeof Se?Se=O:Se.replaceSync(O)):Se=O,Fi.set(M,Se)},We=(M,O,he,Se)=>{let Oe=me(O,he);const R=Fi.get(Oe);if(M=11===M.nodeType?M:$,R)if("string"==typeof R){let ke,fe=bt.get(M=M.head||M);fe||bt.set(M,fe=new Set),fe.has(Oe)||(M.host&&(ke=M.querySelector(`[${Xe}="${Oe}"]`))?ke.innerHTML=R:(ke=$.createElement("style"),ke.innerHTML=R,M.insertBefore(ke,M.querySelector("link"))),fe&&fe.add(Oe))}else M.adoptedStyleSheets.includes(R)||(M.adoptedStyleSheets=[...M.adoptedStyleSheets,R]);return Oe},me=(M,O)=>"sc-"+(O&&32&M.$flags$?M.$tagName$+"-"+O:M.$tagName$),et=M=>M.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Ve=M=>Bs.push(M),Z=M=>io(M).$modeName$,ge={},tn=M=>"object"==(M=typeof M)||"function"===M,Zt=(M,O,...he)=>{let Se=null,Oe=null,R=null,fe=!1,ke=!1;const Je=[],ot=Bt=>{for(let St=0;St<Bt.length;St++)Se=Bt[St],Array.isArray(Se)?ot(Se):null!=Se&&"boolean"!=typeof Se&&((fe="function"!=typeof M&&!tn(Se))&&(Se=String(Se)),fe&&ke?Je[Je.length-1].$text$+=Se:Je.push(fe?Kt(null,Se):Se),ke=fe)};if(ot(he),O){O.key&&(Oe=O.key),O.name&&(R=O.name);{const Bt=O.className||O.class;Bt&&(O.class="object"!=typeof Bt?Bt:Object.keys(Bt).filter(St=>Bt[St]).join(" "))}}if("function"==typeof M)return M(null===O?{}:O,Je,Sr);const xe=Kt(M,null);return xe.$attrs$=O,Je.length>0&&(xe.$children$=Je),xe.$key$=Oe,xe.$name$=R,xe},Kt=(M,O)=>({$flags$:0,$tag$:M,$text$:O,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),U={},Sr={forEach:(M,O)=>M.map(tr).forEach(O),map:(M,O)=>M.map(tr).map(O).map(Jo)},tr=M=>({vattrs:M.$attrs$,vchildren:M.$children$,vkey:M.$key$,vname:M.$name$,vtag:M.$tag$,vtext:M.$text$}),Jo=M=>{if("function"==typeof M.vtag){const he=Object.assign({},M.vattrs);return M.vkey&&(he.key=M.vkey),M.vname&&(he.name=M.vname),Zt(M.vtag,he,...M.vchildren||[])}const O=Kt(M.vtag,M.vtext);return O.$attrs$=M.vattrs,O.$children$=M.vchildren,O.$key$=M.vkey,O.$name$=M.vname,O},co=(M,O,he,Se,Oe,R)=>{if(he!==Se){let fe=Ri(M,O),ke=O.toLowerCase();if("class"===O){const Je=M.classList,ot=An(he),xe=An(Se);Je.remove(...ot.filter(Bt=>Bt&&!xe.includes(Bt))),Je.add(...xe.filter(Bt=>Bt&&!ot.includes(Bt)))}else if("style"===O){for(const Je in he)(!Se||null==Se[Je])&&(Je.includes("-")?M.style.removeProperty(Je):M.style[Je]="");for(const Je in Se)(!he||Se[Je]!==he[Je])&&(Je.includes("-")?M.style.setProperty(Je,Se[Je]):M.style[Je]=Se[Je])}else if("key"!==O)if("ref"===O)Se&&Se(M);else if(fe||"o"!==O[0]||"n"!==O[1]){const Je=tn(Se);if((fe||Je&&null!==Se)&&!Oe)try{if(M.tagName.includes("-"))M[O]=Se;else{const xe=Se??"";"list"===O?fe=!1:(null==he||M[O]!=xe)&&(M[O]=xe)}}catch{}let ot=!1;ke!==(ke=ke.replace(/^xlink\:?/,""))&&(O=ke,ot=!0),null==Se||!1===Se?(!1!==Se||""===M.getAttribute(O))&&(ot?M.removeAttributeNS(ee,O):M.removeAttribute(O)):(!fe||4&R||Oe)&&!Je&&(Se=!0===Se?"":Se,ot?M.setAttributeNS(ee,O,Se):M.setAttribute(O,Se))}else O="-"===O[2]?O.slice(3):Ri(ie,ke)?ke.slice(2):ke[2]+O.slice(3),he&&L.rel(M,O,he,!1),Se&&L.ael(M,O,Se,!1)}},Ai=/\s/,An=M=>M?M.split(Ai):[],Eo=(M,O,he,Se)=>{const Oe=11===O.$elm$.nodeType&&O.$elm$.host?O.$elm$.host:O.$elm$,R=M&&M.$attrs$||ge,fe=O.$attrs$||ge;for(Se in R)Se in fe||co(Oe,Se,R[Se],void 0,he,O.$flags$);for(Se in fe)co(Oe,Se,R[Se],fe[Se],he,O.$flags$)},jn=(M,O,he,Se)=>{const Oe=O.$children$[he];let fe,ke,Je,R=0;if(X||(B=!0,"slot"===Oe.$tag$&&(ne&&Se.classList.add(ne+"-s"),Oe.$flags$|=Oe.$children$?2:1)),null!==Oe.$text$)fe=Oe.$elm$=$.createTextNode(Oe.$text$);else if(1&Oe.$flags$)fe=Oe.$elm$=$.createTextNode("");else{if(ce||(ce="svg"===Oe.$tag$),fe=Oe.$elm$=$.createElementNS(ce?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Oe.$flags$?"slot-fb":Oe.$tag$),ce&&"foreignObject"===Oe.$tag$&&(ce=!1),Eo(null,Oe,ce),(M=>null!=M)(ne)&&fe["s-si"]!==ne&&fe.classList.add(fe["s-si"]=ne),Oe.$children$)for(R=0;R<Oe.$children$.length;++R)ke=jn(M,Oe,R,fe),ke&&fe.appendChild(ke);"svg"===Oe.$tag$?ce=!1:"foreignObject"===fe.tagName&&(ce=!0)}return fe["s-hn"]=H,3&Oe.$flags$&&(fe["s-sr"]=!0,fe["s-cr"]=J,fe["s-sn"]=Oe.$name$||"",Je=M&&M.$children$&&M.$children$[he],Je&&Je.$tag$===Oe.$tag$&&M.$elm$&&Pi(M.$elm$,!1)),fe},Pi=(M,O)=>{L.$flags$|=1;const he=M.childNodes;for(let Se=he.length-1;Se>=0;Se--){const Oe=he[Se];Oe["s-hn"]!==H&&Oe["s-ol"]&&(pn(Oe).insertBefore(Oe,_o(Oe)),Oe["s-ol"].remove(),Oe["s-ol"]=void 0,B=!0),O&&Pi(Oe,O)}L.$flags$&=-2},oo=(M,O,he,Se,Oe,R)=>{let ke,fe=M["s-cr"]&&M["s-cr"].parentNode||M;for(fe.shadowRoot&&fe.tagName===H&&(fe=fe.shadowRoot);Oe<=R;++Oe)Se[Oe]&&(ke=jn(null,he,Oe,M),ke&&(Se[Oe].$elm$=ke,fe.insertBefore(ke,_o(O))))},Hr=(M,O,he,Se,Oe)=>{for(;O<=he;++O)(Se=M[O])&&(Oe=Se.$elm$,He(Se),N=!0,Oe["s-ol"]?Oe["s-ol"].remove():Pi(Oe,!0),Oe.remove())},Qr=(M,O)=>M.$tag$===O.$tag$&&("slot"===M.$tag$?M.$name$===O.$name$:M.$key$===O.$key$),_o=M=>M&&M["s-ol"]||M,pn=M=>(M["s-ol"]?M["s-ol"]:M).parentNode,uo=(M,O)=>{const he=O.$elm$=M.$elm$,Se=M.$children$,Oe=O.$children$,R=O.$tag$,fe=O.$text$;let ke;null===fe?(ce="svg"===R||"foreignObject"!==R&&ce,"slot"===R||Eo(M,O,ce),null!==Se&&null!==Oe?((M,O,he,Se)=>{let ni,ho,Oe=0,R=0,fe=0,ke=0,Je=O.length-1,ot=O[0],xe=O[Je],Bt=Se.length-1,St=Se[0],un=Se[Bt];for(;Oe<=Je&&R<=Bt;)if(null==ot)ot=O[++Oe];else if(null==xe)xe=O[--Je];else if(null==St)St=Se[++R];else if(null==un)un=Se[--Bt];else if(Qr(ot,St))uo(ot,St),ot=O[++Oe],St=Se[++R];else if(Qr(xe,un))uo(xe,un),xe=O[--Je],un=Se[--Bt];else if(Qr(ot,un))("slot"===ot.$tag$||"slot"===un.$tag$)&&Pi(ot.$elm$.parentNode,!1),uo(ot,un),M.insertBefore(ot.$elm$,xe.$elm$.nextSibling),ot=O[++Oe],un=Se[--Bt];else if(Qr(xe,St))("slot"===ot.$tag$||"slot"===un.$tag$)&&Pi(xe.$elm$.parentNode,!1),uo(xe,St),M.insertBefore(xe.$elm$,ot.$elm$),xe=O[--Je],St=Se[++R];else{for(fe=-1,ke=Oe;ke<=Je;++ke)if(O[ke]&&null!==O[ke].$key$&&O[ke].$key$===St.$key$){fe=ke;break}fe>=0?(ho=O[fe],ho.$tag$!==St.$tag$?ni=jn(O&&O[R],he,fe,M):(uo(ho,St),O[fe]=void 0,ni=ho.$elm$),St=Se[++R]):(ni=jn(O&&O[R],he,R,M),St=Se[++R]),ni&&pn(ot.$elm$).insertBefore(ni,_o(ot.$elm$))}Oe>Je?oo(M,null==Se[Bt+1]?null:Se[Bt+1].$elm$,he,Se,R,Bt):R>Bt&&Hr(O,Oe,Je)})(he,Se,O,Oe):null!==Oe?(null!==M.$text$&&(he.textContent=""),oo(he,null,O,Oe,0,Oe.length-1)):null!==Se&&Hr(Se,0,Se.length-1),ce&&"svg"===R&&(ce=!1)):(ke=he["s-cr"])?ke.parentNode.textContent=fe:M.$text$!==fe&&(he.data=fe)},ls=M=>{const O=M.childNodes;let he,Se,Oe,R,fe,ke;for(Se=0,Oe=O.length;Se<Oe;Se++)if(he=O[Se],1===he.nodeType){if(he["s-sr"])for(fe=he["s-sn"],he.hidden=!1,R=0;R<Oe;R++)if(ke=O[R].nodeType,O[R]["s-hn"]!==he["s-hn"]||""!==fe){if(1===ke&&fe===O[R].getAttribute("slot")){he.hidden=!0;break}}else if(1===ke||3===ke&&""!==O[R].textContent.trim()){he.hidden=!0;break}ls(he)}},Jr=[],at=M=>{let O,he,Se,Oe,R,fe,ke=0;const Je=M.childNodes,ot=Je.length;for(;ke<ot;ke++){if(O=Je[ke],O["s-sr"]&&(he=O["s-cr"])&&he.parentNode)for(Se=he.parentNode.childNodes,Oe=O["s-sn"],fe=Se.length-1;fe>=0;fe--)he=Se[fe],!he["s-cn"]&&!he["s-nr"]&&he["s-hn"]!==O["s-hn"]&&(ae(he,Oe)?(R=Jr.find(xe=>xe.$nodeToRelocate$===he),N=!0,he["s-sn"]=he["s-sn"]||Oe,R?R.$slotRefNode$=O:Jr.push({$slotRefNode$:O,$nodeToRelocate$:he}),he["s-sr"]&&Jr.map(xe=>{ae(xe.$nodeToRelocate$,he["s-sn"])&&(R=Jr.find(Bt=>Bt.$nodeToRelocate$===he),R&&!xe.$slotRefNode$&&(xe.$slotRefNode$=R.$slotRefNode$))})):Jr.some(xe=>xe.$nodeToRelocate$===he)||Jr.push({$nodeToRelocate$:he}));1===O.nodeType&&at(O)}},ae=(M,O)=>1===M.nodeType?null===M.getAttribute("slot")&&""===O||M.getAttribute("slot")===O:M["s-sn"]===O||""===O,He=M=>{M.$attrs$&&M.$attrs$.ref&&M.$attrs$.ref(null),M.$children$&&M.$children$.map(He)},Bn=M=>io(M).$hostElement$,cr=(M,O,he)=>{const Se=Bn(M);return{emit:Oe=>pt(Se,O,{bubbles:!!(4&he),composed:!!(2&he),cancelable:!!(1&he),detail:Oe})}},pt=(M,O,he)=>{const Se=L.ce(O,he);return M.dispatchEvent(Se),Se},fo=(M,O)=>{O&&!M.$onRenderResolve$&&O["s-p"]&&O["s-p"].push(new Promise(he=>M.$onRenderResolve$=he))},Vt=(M,O)=>{if(M.$flags$|=16,!(4&M.$flags$))return fo(M,M.$ancestorComponent$),qi(()=>_r(M,O));M.$flags$|=512},_r=(M,O)=>{const Se=M.$lazyInstance$;let Oe;return O&&(M.$flags$|=256,M.$queuedListeners$&&(M.$queuedListeners$.map(([R,fe])=>Tn(Se,R,fe)),M.$queuedListeners$=null),Oe=Tn(Se,"componentWillLoad")),Oe=E(Oe,()=>Tn(Se,"componentWillRender")),E(Oe,()=>Vn(M,Se,O))},Vn=function(){var M=(0,D.Z)(function*(O,he,Se){const Oe=O.$hostElement$,fe=Oe["s-rc"];Se&&(M=>{const O=M.$cmpMeta$,he=M.$hostElement$,Se=O.$flags$,R=We(he.shadowRoot?he.shadowRoot:he.getRootNode(),O,M.$modeName$);10&Se&&(he["s-sc"]=R,he.classList.add(R+"-h"),2&Se&&he.classList.add(R+"-s"))})(O);Do(O,he),fe&&(fe.map(Je=>Je()),Oe["s-rc"]=void 0);{const Je=Oe["s-p"],ot=()=>dt(O);0===Je.length?ot():(Promise.all(Je).then(ot),O.$flags$|=4,Je.length=0)}});return function(he,Se,Oe){return M.apply(this,arguments)}}(),Do=(M,O,he)=>{try{O=O.render&&O.render(),M.$flags$&=-17,M.$flags$|=2,((M,O)=>{const he=M.$hostElement$,Se=M.$cmpMeta$,Oe=M.$vnode$||Kt(null,null),R=(M=>M&&M.$tag$===U)(O)?O:Zt(null,null,O);if(H=he.tagName,Se.$attrsToReflect$&&(R.$attrs$=R.$attrs$||{},Se.$attrsToReflect$.map(([fe,ke])=>R.$attrs$[ke]=he[fe])),R.$tag$=null,R.$flags$|=4,M.$vnode$=R,R.$elm$=Oe.$elm$=he.shadowRoot||he,ne=he["s-sc"],J=he["s-cr"],X=0!=(1&Se.$flags$),N=!1,uo(Oe,R),L.$flags$|=1,B){at(R.$elm$);let fe,ke,Je,ot,xe,Bt,St=0;for(;St<Jr.length;St++)fe=Jr[St],ke=fe.$nodeToRelocate$,ke["s-ol"]||(Je=$.createTextNode(""),Je["s-nr"]=ke,ke.parentNode.insertBefore(ke["s-ol"]=Je,ke));for(St=0;St<Jr.length;St++)if(fe=Jr[St],ke=fe.$nodeToRelocate$,fe.$slotRefNode$){for(ot=fe.$slotRefNode$.parentNode,xe=fe.$slotRefNode$.nextSibling,Je=ke["s-ol"];Je=Je.previousSibling;)if(Bt=Je["s-nr"],Bt&&Bt["s-sn"]===ke["s-sn"]&&ot===Bt.parentNode&&(Bt=Bt.nextSibling,!Bt||!Bt["s-nr"])){xe=Bt;break}(!xe&&ot!==ke.parentNode||ke.nextSibling!==xe)&&ke!==xe&&(!ke["s-hn"]&&ke["s-ol"]&&(ke["s-hn"]=ke["s-ol"].parentNode.nodeName),ot.insertBefore(ke,xe))}else 1===ke.nodeType&&(ke.hidden=!0)}N&&ls(R.$elm$),L.$flags$&=-2,Jr.length=0})(M,O)}catch(Se){zr(Se,M.$hostElement$)}return null},dt=M=>{const he=M.$hostElement$,Oe=M.$lazyInstance$,R=M.$ancestorComponent$;Tn(Oe,"componentDidRender"),64&M.$flags$?Tn(Oe,"componentDidUpdate"):(M.$flags$|=64,Rn(he),Tn(Oe,"componentDidLoad"),M.$onReadyResolve$(he),R||p()),M.$onInstanceResolve$(he),M.$onRenderResolve$&&(M.$onRenderResolve$(),M.$onRenderResolve$=void 0),512&M.$flags$&&Ci(()=>Vt(M,!1)),M.$flags$&=-517},Ar=M=>{{const O=io(M),he=O.$hostElement$.isConnected;return he&&2==(18&O.$flags$)&&Vt(O,!1),he}},p=M=>{Rn($.documentElement),Ci(()=>pt(ie,"appload",{detail:{namespace:"ionic"}}))},Tn=(M,O,he)=>{if(M&&M[O])try{return M[O](he)}catch(Se){zr(Se)}},E=(M,O)=>M&&M.then?M.then(O):O(),Rn=M=>M.classList.add("hydrated"),Io=(M,O,he,Se,Oe,R,fe)=>{let ke,Je,ot,xe;if(1===R.nodeType){for(ke=R.getAttribute("c-id"),ke&&(Je=ke.split("."),(Je[0]===fe||"0"===Je[0])&&(ot={$flags$:0,$hostId$:Je[0],$nodeId$:Je[1],$depth$:Je[2],$index$:Je[3],$tag$:R.tagName.toLowerCase(),$elm$:R,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},O.push(ot),R.removeAttribute("c-id"),M.$children$||(M.$children$=[]),M.$children$[ot.$index$]=ot,M=ot,Se&&"0"===ot.$depth$&&(Se[ot.$index$]=ot.$elm$))),xe=R.childNodes.length-1;xe>=0;xe--)Io(M,O,he,Se,Oe,R.childNodes[xe],fe);if(R.shadowRoot)for(xe=R.shadowRoot.childNodes.length-1;xe>=0;xe--)Io(M,O,he,Se,Oe,R.shadowRoot.childNodes[xe],fe)}else if(8===R.nodeType)Je=R.nodeValue.split("."),(Je[1]===fe||"0"===Je[1])&&(ke=Je[0],ot={$flags$:0,$hostId$:Je[1],$nodeId$:Je[2],$depth$:Je[3],$index$:Je[4],$elm$:R,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===ke?(ot.$elm$=R.nextSibling,ot.$elm$&&3===ot.$elm$.nodeType&&(ot.$text$=ot.$elm$.textContent,O.push(ot),R.remove(),M.$children$||(M.$children$=[]),M.$children$[ot.$index$]=ot,Se&&"0"===ot.$depth$&&(Se[ot.$index$]=ot.$elm$))):ot.$hostId$===fe&&("s"===ke?(ot.$tag$="slot",R["s-sn"]=Je[5]?ot.$name$=Je[5]:"",R["s-sr"]=!0,Se&&(ot.$elm$=$.createElement(ot.$tag$),ot.$name$&&ot.$elm$.setAttribute("name",ot.$name$),R.parentNode.insertBefore(ot.$elm$,R),R.remove(),"0"===ot.$depth$&&(Se[ot.$index$]=ot.$elm$)),he.push(ot),M.$children$||(M.$children$=[]),M.$children$[ot.$index$]=ot):"r"===ke&&(Se?R.remove():(Oe["s-cr"]=R,R["s-cn"]=!0))));else if(M&&"style"===M.$tag$){const Bt=Kt(null,R.textContent);Bt.$elm$=R,Bt.$index$="0",M.$children$=[Bt]}},Po=(M,O)=>{if(1===M.nodeType){let he=0;for(;he<M.childNodes.length;he++)Po(M.childNodes[he],O);if(M.shadowRoot)for(he=0;he<M.shadowRoot.childNodes.length;he++)Po(M.shadowRoot.childNodes[he],O)}else if(8===M.nodeType){const he=M.nodeValue.split(".");"o"===he[0]&&(O.set(he[1]+"."+he[2],M),M.nodeValue="",M["s-en"]=he[3])}},yi=(M,O,he)=>{if(O.$members$){M.watchers&&(O.$watchers$=M.watchers);const Se=Object.entries(O.$members$),Oe=M.prototype;if(Se.map(([R,[fe]])=>{31&fe||2&he&&32&fe?Object.defineProperty(Oe,R,{get(){return((M,O)=>io(this).$instanceValues$.get(O))(0,R)},set(ke){((M,O,he,Se)=>{const Oe=io(M),R=Oe.$hostElement$,fe=Oe.$instanceValues$.get(O),ke=Oe.$flags$,Je=Oe.$lazyInstance$;he=((M,O)=>null==M||tn(M)?M:4&O?"false"!==M&&(""===M||!!M):2&O?parseFloat(M):1&O?String(M):M)(he,Se.$members$[O][0]);const ot=Number.isNaN(fe)&&Number.isNaN(he);if((!(8&ke)||void 0===fe)&&he!==fe&&!ot&&(Oe.$instanceValues$.set(O,he),Je)){if(Se.$watchers$&&128&ke){const Bt=Se.$watchers$[O];Bt&&Bt.map(St=>{try{Je[St](he,fe,O)}catch(un){zr(un,R)}})}2==(18&ke)&&Vt(Oe,!1)}})(this,R,ke,O)},configurable:!0,enumerable:!0}):1&he&&64&fe&&Object.defineProperty(Oe,R,{value(...ke){const Je=io(this);return Je.$onInstancePromise$.then(()=>Je.$lazyInstance$[R](...ke))}})}),1&he){const R=new Map;Oe.attributeChangedCallback=function(fe,ke,Je){L.jmp(()=>{const ot=R.get(fe);if(this.hasOwnProperty(ot))Je=this[ot],delete this[ot];else if(Oe.hasOwnProperty(ot)&&"number"==typeof this[ot]&&this[ot]==Je)return;this[ot]=(null!==Je||"boolean"!=typeof this[ot])&&Je})},M.observedAttributes=Se.filter(([fe,ke])=>15&ke[0]).map(([fe,ke])=>{const Je=ke[1]||fe;return R.set(Je,fe),512&ke[0]&&O.$attrsToReflect$.push([fe,Je]),Je})}}return M},yo=function(){var M=(0,D.Z)(function*(O,he,Se,Oe,R){if(!(32&he.$flags$)){{if(he.$flags$|=32,(R=ko(Se)).then){const ot=()=>{};R=yield R,ot()}R.isProxied||(Se.$watchers$=R.watchers,yi(R,Se,2),R.isProxied=!0);const Je=()=>{};he.$flags$|=8;try{new R(he)}catch(ot){zr(ot)}he.$flags$&=-9,he.$flags$|=128,Je(),vi(he.$lazyInstance$)}if(R.style){let Je=R.style;"string"!=typeof Je&&(Je=Je[he.$modeName$=(M=>Bs.map(O=>O(M)).find(O=>!!O))(O)]);const ot=me(Se,he.$modeName$);if(!Fi.has(ot)){const xe=()=>{};cn(ot,Je,!!(1&Se.$flags$)),xe()}}}const fe=he.$ancestorComponent$,ke=()=>Vt(he,!0);fe&&fe["s-rc"]?fe["s-rc"].push(ke):ke()});return function(he,Se,Oe,R,fe){return M.apply(this,arguments)}}(),vi=M=>{Tn(M,"connectedCallback")},ti=M=>{const O=M["s-cr"]=$.createComment("");O["s-cn"]=!0,M.insertBefore(O,M.firstChild)},bi=(M,O={})=>{const Se=[],Oe=O.exclude||[],R=ie.customElements,fe=$.head,ke=fe.querySelector("meta[charset]"),Je=$.createElement("style"),ot=[],xe=$.querySelectorAll(`[${Xe}]`);let Bt,St=!0,un=0;for(Object.assign(L,O),L.$resourcesUrl$=new URL(O.resourcesUrl||"./",$.baseURI).href,L.$flags$|=2;un<xe.length;un++)cn(xe[un].getAttribute(Xe),et(xe[un].innerHTML),!0);M.map(ni=>{ni[1].map(ho=>{const Vo={$flags$:ho[0],$tagName$:ho[1],$members$:ho[2],$listeners$:ho[3]};Vo.$members$=ho[2],Vo.$listeners$=ho[3],Vo.$attrsToReflect$=[],Vo.$watchers$={};const wi=Vo.$tagName$,Nr=class extends HTMLElement{constructor(ds){super(ds),Bo(ds=this,Vo),1&Vo.$flags$&&ds.attachShadow({mode:"open",delegatesFocus:!!(16&Vo.$flags$)})}connectedCallback(){Bt&&(clearTimeout(Bt),Bt=null),St?ot.push(this):L.jmp(()=>(M=>{if(!(1&L.$flags$)){const O=io(M),he=O.$cmpMeta$,Se=()=>{};if(1&O.$flags$)W(M,O,he.$listeners$),vi(O.$lazyInstance$);else{let Oe;if(O.$flags$|=1,Oe=M.getAttribute(Ee),Oe){if(1&he.$flags$){const R=We(M.shadowRoot,he,M.getAttribute("s-mode"));M.classList.remove(R+"-h",R+"-s")}((M,O,he,Se)=>{const R=M.shadowRoot,fe=[],Je=R?[]:null,ot=Se.$vnode$=Kt(O,null);L.$orgLocNodes$||Po($.body,L.$orgLocNodes$=new Map),M[Ee]=he,M.removeAttribute(Ee),Io(ot,fe,[],Je,M,M,he),fe.map(xe=>{const Bt=xe.$hostId$+"."+xe.$nodeId$,St=L.$orgLocNodes$.get(Bt),un=xe.$elm$;St&&""===St["s-en"]&&St.parentNode.insertBefore(un,St.nextSibling),R||(un["s-hn"]=O,St&&(un["s-ol"]=St,un["s-ol"]["s-nr"]=un)),L.$orgLocNodes$.delete(Bt)}),R&&Je.map(xe=>{xe&&R.appendChild(xe)})})(M,he.$tagName$,Oe,O)}Oe||12&he.$flags$&&ti(M);{let R=M;for(;R=R.parentNode||R.host;)if(1===R.nodeType&&R.hasAttribute("s-id")&&R["s-p"]||R["s-p"]){fo(O,O.$ancestorComponent$=R);break}}he.$members$&&Object.entries(he.$members$).map(([R,[fe]])=>{if(31&fe&&M.hasOwnProperty(R)){const ke=M[R];delete M[R],M[R]=ke}}),Ci(()=>yo(M,O,he))}Se()}})(this))}disconnectedCallback(){L.jmp(()=>(M=>{if(!(1&L.$flags$)){const O=io(this),he=O.$lazyInstance$;O.$rmListeners$&&(O.$rmListeners$.map(Se=>Se()),O.$rmListeners$=void 0),Tn(he,"disconnectedCallback")}})())}componentOnReady(){return io(this).$onReadyPromise$}};Vo.$lazyBundleId$=ni[0],!Oe.includes(wi)&&!R.get(wi)&&(Se.push(wi),R.define(wi,yi(Nr,Vo,1)))})}),Je.innerHTML=Se+"{visibility:hidden}.hydrated{visibility:inherit}",Je.setAttribute("data-styles",""),fe.insertBefore(Je,ke?ke.nextSibling:fe.firstChild),St=!1,ot.length?ot.map(ni=>ni.connectedCallback()):L.jmp(()=>Bt=setTimeout(p,30))},ci=M=>{const O=new URL(M,L.$resourcesUrl$);return O.origin!==ie.location.origin?O.href:O.pathname},Ro=new WeakMap,io=M=>Ro.get(M),$s=(M,O)=>Ro.set(O.$lazyInstance$=M,O),Bo=(M,O)=>{const he={$flags$:0,$hostElement$:M,$cmpMeta$:O,$instanceValues$:new Map};return he.$onInstancePromise$=new Promise(Se=>he.$onInstanceResolve$=Se),he.$onReadyPromise$=new Promise(Se=>he.$onReadyResolve$=Se),M["s-p"]=[],M["s-rc"]=[],W(M,he,O.$listeners$),Ro.set(M,he)},Ri=(M,O)=>O in M,zr=(M,O)=>(0,console.error)(M,O),cs=new Map,ko=(M,O,he)=>{const Se=M.$tagName$.replace(/-/g,"_"),Oe=M.$lazyBundleId$,R=cs.get(Oe);return R?R[Se]:T(863)(`./${Oe}.entry.js`).then(fe=>(cs.set(Oe,fe),fe[Se]),zr)},Fi=new Map,Bs=[],ui=[],us=[],Vs=(M,O)=>he=>{M.push(he),Y||(Y=!0,O&&4&L.$flags$?Ci(vr):L.raf(vr))},Us=M=>{for(let O=0;O<M.length;O++)try{M[O](performance.now())}catch(he){zr(he)}M.length=0},vr=()=>{Us(ui),Us(us),(Y=ui.length>0)&&L.raf(vr)},Ci=M=>Le().then(M),ws=Vs(ui,!1),qi=Vs(us,!0),nr={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},5823:($e,ze,T)=>{"use strict";T.d(ze,{a:()=>ie,b:()=>bt,c:()=>ne,g:()=>Y,i:()=>cn});var D=T(1559);class l{constructor(){this.m=new Map}reset(F){this.m=new Map(Object.entries(F))}get(F,me){const et=this.m.get(F);return void 0!==et?et:me}getBoolean(F,me=!1){const et=this.m.get(F);return void 0===et?me:"string"==typeof et?"true"===et:!!et}getNumber(F,me){const et=parseFloat(this.m.get(F));return isNaN(et)?void 0!==me?me:NaN:et}set(F,me){this.m.set(F,me)}}const ne=new l,B="ionic:",ce="ionic-persist-config",Y=We=>$(We),ie=(We,F)=>("string"==typeof We&&(F=We,We=void 0),Y(We).includes(F)),$=(We=window)=>{if(typeof We>"u")return[];We.Ionic=We.Ionic||{};let F=We.Ionic.platforms;return null==F&&(F=We.Ionic.platforms=L(We),F.forEach(me=>We.document.documentElement.classList.add(`plt-${me}`))),F},L=We=>{const F=ne.get("platform");return Object.keys(Ue).filter(me=>{const et=F?.[me];return"function"==typeof et?et(We):Ue[me](We)})},Pe=We=>!!(Me(We,/iPad/i)||Me(We,/Macintosh/i)&&ue(We)),W=We=>Me(We,/android|sink/i),ue=We=>ee(We,"(any-pointer:coarse)"),le=We=>be(We)||Ee(We),be=We=>!!(We.cordova||We.phonegap||We.PhoneGap),Ee=We=>!!We.Capacitor?.isNative,Me=(We,F)=>F.test(We.navigator.userAgent),ee=(We,F)=>{var me;return null===(me=We.matchMedia)||void 0===me?void 0:me.call(We,F).matches},Ue={ipad:Pe,iphone:We=>Me(We,/iPhone/i),ios:We=>Me(We,/iPhone|iPod/i)||Pe(We),android:W,phablet:We=>{const F=We.innerWidth,me=We.innerHeight,et=Math.min(F,me),tt=Math.max(F,me);return et>390&&et<520&&tt>620&&tt<800},tablet:We=>{const F=We.innerWidth,me=We.innerHeight,et=Math.min(F,me),tt=Math.max(F,me);return Pe(We)||(We=>W(We)&&!Me(We,/mobile/i))(We)||et>460&&et<820&&tt>780&&tt<1400},cordova:be,capacitor:Ee,electron:We=>Me(We,/electron/i),pwa:We=>{var F;return!!(null!==(F=We.matchMedia)&&void 0!==F&&F.call(We,"(display-mode: standalone)").matches||We.navigator.standalone)},mobile:ue,mobileweb:We=>ue(We)&&!le(We),desktop:We=>!ue(We),hybrid:le};let Qe;const bt=We=>We&&(0,D.g)(We)||Qe,cn=(We={})=>{if(typeof window>"u")return;const F=window.document,me=window,et=me.Ionic=me.Ionic||{},tt={};We._ael&&(tt.ael=We._ael),We._rel&&(tt.rel=We._rel),We._ce&&(tt.ce=We._ce),(0,D.s)(tt);const Ve=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(We=>{try{const F=We.sessionStorage.getItem(ce);return null!==F?JSON.parse(F):{}}catch{return{}}})(me)),{persistConfig:!1}),et.config),(We=>{const F={};return We.location.search.slice(1).split("&").map(me=>me.split("=")).map(([me,et])=>[decodeURIComponent(me),decodeURIComponent(et)]).filter(([me])=>((We,F)=>We.substr(0,F.length)===F)(me,B)).map(([me,et])=>[me.slice(B.length),et]).forEach(([me,et])=>{F[me]=et}),F})(me)),We);ne.reset(Ve),ne.getBoolean("persistConfig")&&((We,F)=>{try{We.sessionStorage.setItem(ce,JSON.stringify(F))}catch{return}})(me,Ve),$(me),et.config=ne,et.mode=Qe=ne.get("mode",F.documentElement.getAttribute("mode")||(ie(me,"ios")?"ios":"md")),ne.set("mode",Qe),F.documentElement.setAttribute("mode",Qe),F.documentElement.classList.add(Qe),ne.getBoolean("_testing")&&ne.set("animated",!1);const Z=ft=>{var Ae;return null===(Ae=ft.tagName)||void 0===Ae?void 0:Ae.startsWith("ION-")},ge=ft=>["ios","md"].includes(ft);(0,D.a)(ft=>{for(;ft;){const Ae=ft.mode||ft.getAttribute("mode");if(Ae){if(ge(Ae))return Ae;Z(ft)&&console.warn('Invalid ionic mode: "'+Ae+'", expected: "ios" or "md"')}ft=ft.parentElement}return Qe})}},9078:($e,ze,T)=>{"use strict";T.r(ze),T.d(ze,{iosTransitionAnimation:()=>L,shadow:()=>N});var D=T(5933),l=T(609);T(2286),T(1559);const X=j=>document.querySelector(`${j}.ion-cloned-element`),N=j=>j.shadowRoot||j,B=j=>{const Pe="ION-TABS"===j.tagName?j:j.querySelector("ion-tabs"),Le="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Pe){const pe=Pe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=pe?pe.querySelector(Le):null}return j.querySelector(Le)},ce=(j,Pe)=>{const Le="ION-TABS"===j.tagName?j:j.querySelector("ion-tabs");let pe=[];if(null!=Le){const W=Le.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=W&&(pe=W.querySelectorAll("ion-buttons"))}else pe=j.querySelectorAll("ion-buttons");for(const W of pe){const q=W.closest("ion-header"),de=q&&!q.classList.contains("header-collapse-condense-inactive"),Fe=W.querySelector("ion-back-button"),ue=W.classList.contains("buttons-collapse");if(null!==Fe&&("start"===W.slot||""===W.slot)&&(ue&&de&&Pe||!ue))return Fe}return null},ie=(j,Pe,Le,pe,W,q)=>{const de=Pe?`calc(100% - ${q.right+4}px)`:q.left-4+"px",Fe=Pe?"7px":"-7px",ue=Pe?"-4px":"4px",it=Pe?"-4px":"4px",le=Pe?"right":"left",be=Pe?"left":"right",Te=Le?[{offset:0,opacity:1,transform:`translate3d(${ue}, ${q.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Fe}, ${W.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${Fe}, ${W.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${ue}, ${q.top-46}px, 0) scale(1)`}],Ue=Le?[{offset:0,opacity:1,transform:`translate3d(${it}, ${q.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${it}, ${q.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${it}, ${q.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${it}, ${q.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${it}, ${q.top-46}px, 0) scale(1)`}],Qe=(0,D.c)(),bt=(0,D.c)(),cn=X("ion-back-button"),We=N(cn).querySelector(".button-text"),F=N(cn).querySelector("ion-icon");cn.text=pe.text,cn.mode=pe.mode,cn.icon=pe.icon,cn.color=pe.color,cn.disabled=pe.disabled,cn.style.setProperty("display","block"),cn.style.setProperty("position","fixed"),bt.addElement(F),Qe.addElement(We),Qe.beforeStyles({"transform-origin":`${le} center`}).beforeAddWrite(()=>{pe.style.setProperty("display","none"),cn.style.setProperty(le,de)}).afterAddWrite(()=>{pe.style.setProperty("display",""),cn.style.setProperty("display","none"),cn.style.removeProperty(le)}).keyframes(Te),bt.beforeStyles({"transform-origin":`${be} center`}).keyframes(Ue),j.addAnimation([Qe,bt])},$=(j,Pe,Le,pe,W,q)=>{const de=Pe?`calc(100% - ${W.right}px)`:`${W.left}px`,Fe=Pe?"-18px":"18px",ue=Pe?"right":"left",be=Le?[{offset:0,opacity:0,transform:`translate3d(${Fe}, ${q.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${W.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${W.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Fe}, ${q.top-4}px, 0) scale(0.5)`}],Ee=X("ion-title"),Xe=(0,D.c)();Ee.innerText=pe.innerText,Ee.size=pe.size,Ee.color=pe.color,Xe.addElement(Ee),Xe.beforeStyles({"transform-origin":`${ue} center`,height:"46px",display:"",position:"relative",[ue]:de}).beforeAddWrite(()=>{pe.style.setProperty("display","none")}).afterAddWrite(()=>{pe.style.setProperty("display",""),Ee.style.setProperty("display","none")}).keyframes(be),j.addAnimation(Xe)},L=(j,Pe)=>{var Le;try{const pe="cubic-bezier(0.32,0.72,0,1)",W="opacity",q="transform",de="0%",ue="rtl"===j.ownerDocument.dir,it=ue?"-99.5%":"99.5%",le=ue?"33%":"-33%",be=Pe.enteringEl,Ee=Pe.leavingEl,Xe="back"===Pe.direction,Te=be.querySelector(":scope > ion-content"),Me=be.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),ee=be.querySelectorAll(":scope > ion-header > ion-toolbar"),Ue=(0,D.c)(),Qe=(0,D.c)();if(Ue.addElement(be).duration((null!==(Le=Pe.duration)&&void 0!==Le?Le:0)||540).easing(Pe.easing||pe).fill("both").beforeRemoveClass("ion-page-invisible"),Ee&&null!=j){const F=(0,D.c)();F.addElement(j),Ue.addAnimation(F)}if(Te||0!==ee.length||0!==Me.length?(Qe.addElement(Te),Qe.addElement(Me)):Qe.addElement(be.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Ue.addAnimation(Qe),Xe?Qe.beforeClearStyles([W]).fromTo("transform",`translateX(${le})`,`translateX(${de})`).fromTo(W,.8,1):Qe.beforeClearStyles([W]).fromTo("transform",`translateX(${it})`,`translateX(${de})`),Te){const F=N(Te).querySelector(".transition-effect");if(F){const me=F.querySelector(".transition-cover"),et=F.querySelector(".transition-shadow"),tt=(0,D.c)(),Ve=(0,D.c)(),Z=(0,D.c)();tt.addElement(F).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ve.addElement(me).beforeClearStyles([W]).fromTo(W,0,.1),Z.addElement(et).beforeClearStyles([W]).fromTo(W,.03,.7),tt.addAnimation([Ve,Z]),Qe.addAnimation([tt])}}const bt=be.querySelector("ion-header.header-collapse-condense"),{forward:cn,backward:We}=((j,Pe,Le,pe,W)=>{const q=ce(pe,Le),de=B(W),Fe=B(pe),ue=ce(W,Le),it=null!==q&&null!==de&&!Le,le=null!==Fe&&null!==ue&&Le;if(it){const be=de.getBoundingClientRect(),Ee=q.getBoundingClientRect();$(j,Pe,Le,de,be,Ee),ie(j,Pe,Le,q,be,Ee)}else if(le){const be=Fe.getBoundingClientRect(),Ee=ue.getBoundingClientRect();$(j,Pe,Le,Fe,be,Ee),ie(j,Pe,Le,ue,be,Ee)}return{forward:it,backward:le}})(Ue,ue,Xe,be,Ee);if(ee.forEach(F=>{const me=(0,D.c)();me.addElement(F),Ue.addAnimation(me);const et=(0,D.c)();et.addElement(F.querySelector("ion-title"));const tt=(0,D.c)(),Ve=Array.from(F.querySelectorAll("ion-buttons,[menuToggle]")),Z=F.closest("ion-header"),ge=Z?.classList.contains("header-collapse-condense-inactive");let ft;ft=Ve.filter(Xe?Kt=>{const U=Kt.classList.contains("buttons-collapse");return U&&!ge||!U}:Kt=>!Kt.classList.contains("buttons-collapse")),tt.addElement(ft);const Ae=(0,D.c)();Ae.addElement(F.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const At=(0,D.c)();At.addElement(N(F).querySelector(".toolbar-background"));const tn=(0,D.c)(),Zt=F.querySelector("ion-back-button");if(Zt&&tn.addElement(Zt),me.addAnimation([et,tt,Ae,At,tn]),tt.fromTo(W,.01,1),Ae.fromTo(W,.01,1),Xe)ge||et.fromTo("transform",`translateX(${le})`,`translateX(${de})`).fromTo(W,.01,1),Ae.fromTo("transform",`translateX(${le})`,`translateX(${de})`),tn.fromTo(W,.01,1);else if(bt||et.fromTo("transform",`translateX(${it})`,`translateX(${de})`).fromTo(W,.01,1),Ae.fromTo("transform",`translateX(${it})`,`translateX(${de})`),At.beforeClearStyles([W,"transform"]),Z?.translucent?At.fromTo("transform",ue?"translateX(-100%)":"translateX(100%)","translateX(0px)"):At.fromTo(W,.01,"var(--opacity)"),cn||tn.fromTo(W,.01,1),Zt&&!cn){const U=(0,D.c)();U.addElement(N(Zt).querySelector(".button-text")).fromTo("transform",ue?"translateX(-100px)":"translateX(100px)","translateX(0px)"),me.addAnimation(U)}}),Ee){const F=(0,D.c)(),me=Ee.querySelector(":scope > ion-content"),et=Ee.querySelectorAll(":scope > ion-header > ion-toolbar"),tt=Ee.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(me||0!==et.length||0!==tt.length?(F.addElement(me),F.addElement(tt)):F.addElement(Ee.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Ue.addAnimation(F),Xe){F.beforeClearStyles([W]).fromTo("transform",`translateX(${de})`,ue?"translateX(-100%)":"translateX(100%)");const Ve=(0,l.g)(Ee);Ue.afterAddWrite(()=>{"normal"===Ue.getDirection()&&Ve.style.setProperty("display","none")})}else F.fromTo("transform",`translateX(${de})`,`translateX(${le})`).fromTo(W,1,.8);if(me){const Ve=N(me).querySelector(".transition-effect");if(Ve){const Z=Ve.querySelector(".transition-cover"),ge=Ve.querySelector(".transition-shadow"),ft=(0,D.c)(),Ae=(0,D.c)(),At=(0,D.c)();ft.addElement(Ve).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ae.addElement(Z).beforeClearStyles([W]).fromTo(W,.1,0),At.addElement(ge).beforeClearStyles([W]).fromTo(W,.7,.03),ft.addAnimation([Ae,At]),F.addAnimation([ft])}}et.forEach(Ve=>{const Z=(0,D.c)();Z.addElement(Ve);const ge=(0,D.c)();ge.addElement(Ve.querySelector("ion-title"));const ft=(0,D.c)(),Ae=Ve.querySelectorAll("ion-buttons,[menuToggle]"),At=Ve.closest("ion-header"),tn=At?.classList.contains("header-collapse-condense-inactive"),Zt=Array.from(Ae).filter(Jo=>{const co=Jo.classList.contains("buttons-collapse");return co&&!tn||!co});ft.addElement(Zt);const Kt=(0,D.c)(),U=Ve.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");U.length>0&&Kt.addElement(U);const yn=(0,D.c)();yn.addElement(N(Ve).querySelector(".toolbar-background"));const Sr=(0,D.c)(),tr=Ve.querySelector("ion-back-button");if(tr&&Sr.addElement(tr),Z.addAnimation([ge,ft,Kt,Sr,yn]),Ue.addAnimation(Z),Sr.fromTo(W,.99,0),ft.fromTo(W,.99,0),Kt.fromTo(W,.99,0),Xe){if(tn||ge.fromTo("transform",`translateX(${de})`,ue?"translateX(-100%)":"translateX(100%)").fromTo(W,.99,0),Kt.fromTo("transform",`translateX(${de})`,ue?"translateX(-100%)":"translateX(100%)"),yn.beforeClearStyles([W,"transform"]),At?.translucent?yn.fromTo("transform","translateX(0px)",ue?"translateX(-100%)":"translateX(100%)"):yn.fromTo(W,"var(--opacity)",0),tr&&!We){const co=(0,D.c)();co.addElement(N(tr).querySelector(".button-text")).fromTo("transform",`translateX(${de})`,`translateX(${(ue?-124:124)+"px"})`),Z.addAnimation(co)}}else tn||ge.fromTo("transform",`translateX(${de})`,`translateX(${le})`).fromTo(W,.99,0).afterClearStyles([q,W]),Kt.fromTo("transform",`translateX(${de})`,`translateX(${le})`).afterClearStyles([q,W]),Sr.afterClearStyles([W]),ge.afterClearStyles([W]),ft.afterClearStyles([W])})}return Ue}catch(pe){throw pe}}},4199:($e,ze,T)=>{"use strict";T.r(ze),T.d(ze,{mdTransitionAnimation:()=>H});var D=T(5933),l=T(609);T(2286),T(1559);const H=(X,N)=>{var B,ce,Y;const L="back"===N.direction,Pe=N.leavingEl,Le=(0,l.g)(N.enteringEl),pe=Le.querySelector("ion-toolbar"),W=(0,D.c)();if(W.addElement(Le).fill("both").beforeRemoveClass("ion-page-invisible"),L?W.duration((null!==(B=N.duration)&&void 0!==B?B:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):W.duration((null!==(ce=N.duration)&&void 0!==ce?ce:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),pe){const q=(0,D.c)();q.addElement(pe),W.addAnimation(q)}if(Pe&&L){W.duration((null!==(Y=N.duration)&&void 0!==Y?Y:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const q=(0,D.c)();q.addElement((0,l.g)(Pe)).onFinish(de=>{1===de&&q.elements.length>0&&q.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),W.addAnimation(q)}return W}},7580:($e,ze,T)=>{"use strict";T.d(ze,{B:()=>me,G:()=>et,a:()=>B,b:()=>ce,c:()=>L,d:()=>Xe,e:()=>Pe,f:()=>Me,g:()=>Qe,h:()=>X,i:()=>cn,j:()=>W,k:()=>be,l:()=>Y,m:()=>ie,s:()=>F});var D=T(3918),l=T(5823),ne=T(159),J=T(9259);let H=0;const X=new WeakMap,N=tt=>({create:Ve=>Le(tt,Ve),dismiss:(Ve,Z,ge)=>it(document,Ve,Z,tt,ge),getTop:()=>(0,D.Z)(function*(){return be(document,tt)})()}),B=N("ion-alert"),ce=N("ion-action-sheet"),Y=N("ion-loading"),ie=N("ion-modal"),L=N("ion-popover"),Pe=tt=>{typeof document<"u"&&ue(document);const Ve=H++;tt.overlayIndex=Ve,tt.hasAttribute("id")||(tt.id=`ion-overlay-${Ve}`)},Le=(tt,Ve)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(tt).then(()=>{const Z=document.createElement(tt);return Z.classList.add("overlay-hidden"),Object.assign(Z,Object.assign(Object.assign({},Ve),{hasController:!0})),ee(document).appendChild(Z),new Promise(ge=>(0,J.c)(Z,ge))}):Promise.resolve(),pe='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',W=(tt,Ve)=>{let Z=tt.querySelector(pe);const ge=Z?.shadowRoot;ge&&(Z=ge.querySelector(pe)||Z),Z?(0,J.f)(Z):Ve.focus()},de=(tt,Ve)=>{const Z=Array.from(tt.querySelectorAll(pe));let ge=Z.length>0?Z[Z.length-1]:null;const ft=ge?.shadowRoot;ft&&(ge=ft.querySelector(pe)||ge),ge?ge.focus():Ve.focus()},ue=tt=>{0===H&&(H=1,tt.addEventListener("focus",Ve=>{((tt,Ve)=>{const Z=be(Ve,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),ge=tt.target;Z&&ge&&!Z.classList.contains("ion-disable-focus-trap")&&(Z.shadowRoot?(()=>{if(Z.contains(ge))Z.lastFocus=ge;else{const At=Z.lastFocus;W(Z,Z),At===Ve.activeElement&&de(Z,Z),Z.lastFocus=Ve.activeElement}})():(()=>{if(Z===ge)Z.lastFocus=void 0;else{const At=(0,J.g)(Z);if(!At.contains(ge))return;const tn=At.querySelector(".ion-overlay-wrapper");if(!tn)return;if(tn.contains(ge))Z.lastFocus=ge;else{const Zt=Z.lastFocus;W(tn,Z),Zt===Ve.activeElement&&de(tn,Z),Z.lastFocus=Ve.activeElement}}})())})(Ve,tt)},!0),tt.addEventListener("ionBackButton",Ve=>{const Z=be(tt);Z?.backdropDismiss&&Ve.detail.register(ne.OVERLAY_BACK_BUTTON_PRIORITY,()=>Z.dismiss(void 0,me))}),tt.addEventListener("keyup",Ve=>{if("Escape"===Ve.key){const Z=be(tt);Z?.backdropDismiss&&Z.dismiss(void 0,me)}}))},it=(tt,Ve,Z,ge,ft)=>{const Ae=be(tt,ge,ft);return Ae?Ae.dismiss(Ve,Z):Promise.reject("overlay does not exist")},be=(tt,Ve,Z)=>{const ge=((tt,Ve)=>(void 0===Ve&&(Ve="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(tt.querySelectorAll(Ve)).filter(Z=>Z.overlayIndex>0)))(tt,Ve).filter(ft=>!(tt=>tt.classList.contains("overlay-hidden"))(ft));return void 0===Z?ge[ge.length-1]:ge.find(ft=>ft.id===Z)},Ee=(tt=!1)=>{const Z=ee(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Z&&(tt?Z.setAttribute("aria-hidden","true"):Z.removeAttribute("aria-hidden"))},Xe=function(){var tt=(0,D.Z)(function*(Ve,Z,ge,ft,Ae){var At,tn;if(Ve.presented)return;Ee(!0),Ve.presented=!0,Ve.willPresent.emit(),null===(At=Ve.willPresentShorthand)||void 0===At||At.emit();const Zt=(0,l.b)(Ve),Kt=Ve.enterAnimation?Ve.enterAnimation:l.c.get(Z,"ios"===Zt?ge:ft);(yield Ue(Ve,Kt,Ve.el,Ae))&&(Ve.didPresent.emit(),null===(tn=Ve.didPresentShorthand)||void 0===tn||tn.emit()),"ION-TOAST"!==Ve.el.tagName&&Te(Ve.el),Ve.keyboardClose&&(null===document.activeElement||!Ve.el.contains(document.activeElement))&&Ve.el.focus()});return function(Z,ge,ft,Ae,At){return tt.apply(this,arguments)}}(),Te=function(){var tt=(0,D.Z)(function*(Ve){let Z=document.activeElement;if(!Z)return;const ge=Z?.shadowRoot;ge&&(Z=ge.querySelector(pe)||Z),yield Ve.onDidDismiss(),Z.focus()});return function(Z){return tt.apply(this,arguments)}}(),Me=function(){var tt=(0,D.Z)(function*(Ve,Z,ge,ft,Ae,At,tn){var Zt,Kt;if(!Ve.presented)return!1;Ee(!1),Ve.presented=!1;try{Ve.el.style.setProperty("pointer-events","none"),Ve.willDismiss.emit({data:Z,role:ge}),null===(Zt=Ve.willDismissShorthand)||void 0===Zt||Zt.emit({data:Z,role:ge});const U=(0,l.b)(Ve),yn=Ve.leaveAnimation?Ve.leaveAnimation:l.c.get(ft,"ios"===U?Ae:At);ge!==et&&(yield Ue(Ve,yn,Ve.el,tn)),Ve.didDismiss.emit({data:Z,role:ge}),null===(Kt=Ve.didDismissShorthand)||void 0===Kt||Kt.emit({data:Z,role:ge}),X.delete(Ve),Ve.el.classList.add("overlay-hidden"),Ve.el.style.removeProperty("pointer-events")}catch(U){console.error(U)}return Ve.el.remove(),!0});return function(Z,ge,ft,Ae,At,tn,Zt){return tt.apply(this,arguments)}}(),ee=tt=>tt.querySelector("ion-app")||tt.body,Ue=function(){var tt=(0,D.Z)(function*(Ve,Z,ge,ft){ge.classList.remove("overlay-hidden");const At=Z(Ve.el,ft);(!Ve.animated||!l.c.getBoolean("animated",!0))&&At.duration(0),Ve.keyboardClose&&At.beforeAddWrite(()=>{const Zt=ge.ownerDocument.activeElement;Zt?.matches("input,ion-input, ion-textarea")&&Zt.blur()});const tn=X.get(Ve)||[];return X.set(Ve,[...tn,At]),yield At.play(),!0});return function(Z,ge,ft,Ae){return tt.apply(this,arguments)}}(),Qe=(tt,Ve)=>{let Z;const ge=new Promise(ft=>Z=ft);return bt(tt,Ve,ft=>{Z(ft.detail)}),ge},bt=(tt,Ve,Z)=>{const ge=ft=>{(0,J.b)(tt,Ve,ge),Z(ft)};(0,J.a)(tt,Ve,ge)},cn=tt=>"cancel"===tt||tt===me,We=tt=>tt(),F=(tt,Ve)=>{if("function"==typeof tt)return l.c.get("_zoneGate",We)(()=>{try{return tt(Ve)}catch(ge){throw ge}})},me="backdrop",et="gesture"},4263:($e,ze,T)=>{"use strict";var D=T(9903),l=T(3855),ne=l(D("String.prototype.indexOf"));$e.exports=function(H,X){var N=D(H,!!X);return"function"==typeof N&&ne(H,".prototype.")>-1?l(N):N}},3855:($e,ze,T)=>{"use strict";var D=T(224),l=T(9903),ne=l("%Function.prototype.apply%"),J=l("%Function.prototype.call%"),H=l("%Reflect.apply%",!0)||D.call(J,ne),X=l("%Object.getOwnPropertyDescriptor%",!0),N=l("%Object.defineProperty%",!0),B=l("%Math.max%");if(N)try{N({},"a",{value:1})}catch{N=null}$e.exports=function(ie){var $=H(D,J,arguments);if(X&&N){var L=X($,"length");L.configurable&&N($,"length",{value:1+B(0,ie.length-(arguments.length-1))})}return $};var ce=function(){return H(D,ne,arguments)};N?N($e.exports,"apply",{value:ce}):$e.exports.apply=ce},5107:$e=>{var ze={utf8:{stringToBytes:function(T){return ze.bin.stringToBytes(unescape(encodeURIComponent(T)))},bytesToString:function(T){return decodeURIComponent(escape(ze.bin.bytesToString(T)))}},bin:{stringToBytes:function(T){for(var D=[],l=0;l<T.length;l++)D.push(255&T.charCodeAt(l));return D},bytesToString:function(T){for(var D=[],l=0;l<T.length;l++)D.push(String.fromCharCode(T[l]));return D.join("")}}};$e.exports=ze},7175:$e=>{var ze,T;ze="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$e.exports=T={rotl:function(D,l){return D<<l|D>>>32-l},rotr:function(D,l){return D<<32-l|D>>>l},endian:function(D){if(D.constructor==Number)return 16711935&T.rotl(D,8)|4278255360&T.rotl(D,24);for(var l=0;l<D.length;l++)D[l]=T.endian(D[l]);return D},randomBytes:function(D){for(var l=[];D>0;D--)l.push(Math.floor(256*Math.random()));return l},bytesToWords:function(D){for(var l=[],ne=0,J=0;ne<D.length;ne++,J+=8)l[J>>>5]|=D[ne]<<24-J%32;return l},wordsToBytes:function(D){for(var l=[],ne=0;ne<32*D.length;ne+=8)l.push(D[ne>>>5]>>>24-ne%32&255);return l},bytesToHex:function(D){for(var l=[],ne=0;ne<D.length;ne++)l.push((D[ne]>>>4).toString(16)),l.push((15&D[ne]).toString(16));return l.join("")},hexToBytes:function(D){for(var l=[],ne=0;ne<D.length;ne+=2)l.push(parseInt(D.substr(ne,2),16));return l},bytesToBase64:function(D){for(var l=[],ne=0;ne<D.length;ne+=3)for(var J=D[ne]<<16|D[ne+1]<<8|D[ne+2],H=0;H<4;H++)l.push(8*ne+6*H<=8*D.length?ze.charAt(J>>>6*(3-H)&63):"=");return l.join("")},base64ToBytes:function(D){D=D.replace(/[^A-Z0-9+\/]/gi,"");for(var l=[],ne=0,J=0;ne<D.length;J=++ne%4)0!=J&&l.push((ze.indexOf(D.charAt(ne-1))&Math.pow(2,-2*J+8)-1)<<2*J|ze.indexOf(D.charAt(ne))>>>6-2*J);return l}}},5541:($e,ze,T)=>{"use strict";var D=T(6189),l=T(4263),ne=T(8704),J=T(9903),H=T(2069),X=T(8432),N=T(5734),B=T(9102),ce=T(8266),Y=T(2805),ie=T(4666),$=T(6687),L=T(3163),j=T(2093),Pe=T(2086),Le=T(2107),pe=T(5709),W=l("ArrayBuffer.prototype.byteLength",!0)||function(ge){return ge.byteLength},q=l("SharedArrayBuffer.prototype.byteLength",!0),de=l("Date.prototype.getTime"),Fe=Object.getPrototypeOf,ue=l("Object.prototype.toString"),it=J("%Set%",!0),le=l("Map.prototype.has",!0),be=l("Map.prototype.get",!0),Ee=l("Map.prototype.size",!0),Xe=l("Set.prototype.add",!0),Te=l("Set.prototype.delete",!0),Me=l("Set.prototype.has",!0),ee=l("Set.prototype.size",!0);function Ue(Z,ge,ft,Ae){for(var tn,At=H(Z);(tn=At.next())&&!tn.done;)if(F(ge,tn.value,ft,Ae))return Te(Z,tn.value),!0;return!1}function Qe(Z){return typeof Z>"u"?null:"object"!=typeof Z?"symbol"!=typeof Z&&("string"!=typeof Z&&"number"!=typeof Z||+Z==+Z):void 0}function bt(Z,ge,ft,Ae,At,tn){var Zt=Qe(ft);if(null!=Zt)return Zt;var Kt=be(ge,Zt),U=D({},At,{strict:!1});return!(typeof Kt>"u"&&!le(ge,Zt)||!F(Ae,Kt,U,tn))&&!le(Z,Zt)&&F(Ae,Kt,U,tn)}function cn(Z,ge,ft){var Ae=Qe(ft);return Ae??(Me(ge,Ae)&&!Me(Z,Ae))}function We(Z,ge,ft,Ae,At,tn){for(var Kt,U,Zt=H(Z);(Kt=Zt.next())&&!Kt.done;)if(F(ft,U=Kt.value,At,tn)&&F(Ae,be(ge,U),At,tn))return Te(Z,U),!0;return!1}function F(Z,ge,ft,Ae){var At=ft||{};if(At.strict?N(Z,ge):Z===ge)return!0;if(Pe(Z)!==Pe(ge))return!1;if(!Z||!ge||"object"!=typeof Z&&"object"!=typeof ge)return At.strict?N(Z,ge):Z==ge;var yn,Kt=Ae.has(Z),U=Ae.has(ge);if(Kt&&U){if(Ae.get(Z)===Ae.get(ge))return!0}else yn={};return Kt||Ae.set(Z,yn),U||Ae.set(ge,yn),function Ve(Z,ge,ft,Ae){var At,tn;if(typeof Z!=typeof ge||null==Z||null==ge||ue(Z)!==ue(ge)||B(Z)!==B(ge))return!1;if(ce(Z)!==ce(ge))return!1;var U=Z instanceof Error,yn=ge instanceof Error;if(U!==yn||(U||yn)&&(Z.name!==ge.name||Z.message!==ge.message))return!1;var Sr=$(Z),tr=$(ge);if(Sr!==tr||(Sr||tr)&&(Z.source!==ge.source||ne(Z)!==ne(ge)))return!1;var Jo=ie(Z),co=ie(ge);if(Jo!==co||(Jo||co)&&de(Z)!==de(ge)||ft.strict&&Fe&&Fe(Z)!==Fe(ge))return!1;var Ai=pe(Z),An=pe(ge);if((Ai||An)&&Ai!==An)return!1;var Eo=me(Z),jn=me(ge);if(Eo!==jn)return!1;if(Eo||jn){if(Z.length!==ge.length)return!1;for(At=0;At<Z.length;At++)if(Z[At]!==ge[At])return!1;return!0}var Pi=Y(Z),oo=Y(ge);if(Pi!==oo)return!1;if(Pi||oo)return W(Z)===W(ge)&&"function"==typeof Uint8Array&&F(new Uint8Array(Z),new Uint8Array(ge),ft,Ae);var Hr=L(Z),lr=L(ge);if(Hr!==lr)return!1;if(Hr||lr)return q(Z)===q(ge)&&"function"==typeof Uint8Array&&F(new Uint8Array(Z),new Uint8Array(ge),ft,Ae);if(typeof Z!=typeof ge)return!1;var Qr=j(Z),_o=j(ge);if(Qr.length!==_o.length)return!1;for(Qr.sort(),_o.sort(),At=Qr.length-1;At>=0;At--)if(Qr[At]!=_o[At])return!1;for(At=Qr.length-1;At>=0;At--)if(!F(Z[tn=Qr[At]],ge[tn],ft,Ae))return!1;var pn=Le(Z),uo=Le(ge);return pn===uo&&("Set"===pn||"Set"===uo?function et(Z,ge,ft,Ae){if(ee(Z)!==ee(ge))return!1;for(var Zt,Kt,U,At=H(Z),tn=H(ge);(Zt=At.next())&&!Zt.done;)if(Zt.value&&"object"==typeof Zt.value)U||(U=new it),Xe(U,Zt.value);else if(!Me(ge,Zt.value)){if(ft.strict||!cn(Z,ge,Zt.value))return!1;U||(U=new it),Xe(U,Zt.value)}if(U){for(;(Kt=tn.next())&&!Kt.done;)if(Kt.value&&"object"==typeof Kt.value){if(!Ue(U,Kt.value,ft.strict,Ae))return!1}else if(!ft.strict&&!Me(Z,Kt.value)&&!Ue(U,Kt.value,ft.strict,Ae))return!1;return 0===ee(U)}return!0}(Z,ge,ft,Ae):"Map"!==pn||function tt(Z,ge,ft,Ae){if(Ee(Z)!==Ee(ge))return!1;for(var Zt,Kt,U,yn,Sr,tr,At=H(Z),tn=H(ge);(Zt=At.next())&&!Zt.done;)if(Sr=Zt.value[1],(yn=Zt.value[0])&&"object"==typeof yn)U||(U=new it),Xe(U,yn);else if(typeof(tr=be(ge,yn))>"u"&&!le(ge,yn)||!F(Sr,tr,ft,Ae)){if(ft.strict||!bt(Z,ge,yn,Sr,ft,Ae))return!1;U||(U=new it),Xe(U,yn)}if(U){for(;(Kt=tn.next())&&!Kt.done;)if(tr=Kt.value[1],(yn=Kt.value[0])&&"object"==typeof yn){if(!We(U,Z,yn,tr,ft,Ae))return!1}else if(!(ft.strict||Z.has(yn)&&F(be(Z,yn),tr,ft,Ae)||We(U,Z,yn,tr,D({},ft,{strict:!1}),Ae)))return!1;return 0===ee(U)}return!0}(Z,ge,ft,Ae))}(Z,ge,At,Ae)}function me(Z){return!(!Z||"object"!=typeof Z||"number"!=typeof Z.length||"function"!=typeof Z.copy||"function"!=typeof Z.slice||Z.length>0&&"number"!=typeof Z[0]||!(Z.constructor&&Z.constructor.isBuffer&&Z.constructor.isBuffer(Z)))}$e.exports=function(ge,ft,Ae){return F(ge,ft,Ae,X())}},1790:($e,ze,T)=>{"use strict";var D=T(2093),l="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),ne=Object.prototype.toString,J=Array.prototype.concat,H=Object.defineProperty,N=T(9006)(),B=H&&N,ce=function(ie,$,L,j){$ in ie&&(!function(ie){return"function"==typeof ie&&"[object Function]"===ne.call(ie)}(j)||!j())||(B?H(ie,$,{configurable:!0,enumerable:!1,value:L,writable:!0}):ie[$]=L)},Y=function(ie,$){var L=arguments.length>2?arguments[2]:{},j=D($);l&&(j=J.call(j,Object.getOwnPropertySymbols($)));for(var Pe=0;Pe<j.length;Pe+=1)ce(ie,j[Pe],$[j[Pe]],L[j[Pe]])};Y.supportsDescriptors=!!B,$e.exports=Y},9897:function($e,ze){!function(T){"use strict";var $,ne=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,J=536870912,H=2*J,N=new WeakMap,ce=function($,L){return function(j){var Pe=L.get(j),Le=void 0===Pe?j.size:Pe<H?Pe+1:0;if(!j.has(Le))return $(j,Le);if(j.size<J){for(;j.has(Le);)Le=Math.floor(Math.random()*H);return $(j,Le)}if(j.size>ne)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;j.has(Le);)Le=Math.floor(Math.random()*ne);return $(j,Le)}}(($=N,function(L,j){return $.set(L,j),j}),N),Y=function($){return function(L){var j=$(L);return L.add(j),j}}(ce);T.addUniqueNumber=Y,T.generateUniqueNumber=ce}(ze)},3037:($e,ze,T)=>{"use strict";var D=T(8642),l=Object.prototype.toString,ne=Object.prototype.hasOwnProperty,J=function(ce,Y,ie){for(var $=0,L=ce.length;$<L;$++)ne.call(ce,$)&&(null==ie?Y(ce[$],$,ce):Y.call(ie,ce[$],$,ce))},H=function(ce,Y,ie){for(var $=0,L=ce.length;$<L;$++)null==ie?Y(ce.charAt($),$,ce):Y.call(ie,ce.charAt($),$,ce)},X=function(ce,Y,ie){for(var $ in ce)ne.call(ce,$)&&(null==ie?Y(ce[$],$,ce):Y.call(ie,ce[$],$,ce))};$e.exports=function(ce,Y,ie){if(!D(Y))throw new TypeError("iterator must be a function");var $;arguments.length>=3&&($=ie),"[object Array]"===l.call(ce)?J(ce,Y,$):"string"==typeof ce?H(ce,Y,$):X(ce,Y,$)}},2199:$e=>{"use strict";var ze="Function.prototype.bind called on incompatible ",T=Array.prototype.slice,D=Object.prototype.toString,l="[object Function]";$e.exports=function(J){var H=this;if("function"!=typeof H||D.call(H)!==l)throw new TypeError(ze+H);for(var N,X=T.call(arguments,1),B=function(){if(this instanceof N){var L=H.apply(this,X.concat(T.call(arguments)));return Object(L)===L?L:this}return H.apply(J,X.concat(T.call(arguments)))},ce=Math.max(0,H.length-X.length),Y=[],ie=0;ie<ce;ie++)Y.push("$"+ie);if(N=Function("binder","return function ("+Y.join(",")+"){ return binder.apply(this,arguments); }")(B),H.prototype){var $=function(){};$.prototype=H.prototype,N.prototype=new $,$.prototype=null}return N}},224:($e,ze,T)=>{"use strict";var D=T(2199);$e.exports=Function.prototype.bind||D},3677:$e=>{"use strict";var ze=function(){return"string"==typeof function(){}.name},T=Object.getOwnPropertyDescriptor;if(T)try{T([],"length")}catch{T=null}ze.functionsHaveConfigurableNames=function(){if(!ze()||!T)return!1;var ne=T(function(){},"name");return!!ne&&!!ne.configurable};var D=Function.prototype.bind;ze.boundFunctionsHaveNames=function(){return ze()&&"function"==typeof D&&""!==function(){}.bind().name},$e.exports=ze},9903:($e,ze,T)=>{"use strict";var D,l=SyntaxError,ne=Function,J=TypeError,H=function(Te){try{return ne('"use strict"; return ('+Te+").constructor;")()}catch{}},X=Object.getOwnPropertyDescriptor;if(X)try{X({},"")}catch{X=null}var N=function(){throw new J},B=X?function(){try{return N}catch{try{return X(arguments,"callee").get}catch{return N}}}():N,ce=T(524)(),Y=Object.getPrototypeOf||function(Te){return Te.__proto__},ie={},$=typeof Uint8Array>"u"?D:Y(Uint8Array),L={"%AggregateError%":typeof AggregateError>"u"?D:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?D:ArrayBuffer,"%ArrayIteratorPrototype%":ce?Y([][Symbol.iterator]()):D,"%AsyncFromSyncIteratorPrototype%":D,"%AsyncFunction%":ie,"%AsyncGenerator%":ie,"%AsyncGeneratorFunction%":ie,"%AsyncIteratorPrototype%":ie,"%Atomics%":typeof Atomics>"u"?D:Atomics,"%BigInt%":typeof BigInt>"u"?D:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?D:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?D:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?D:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?D:Float32Array,"%Float64Array%":typeof Float64Array>"u"?D:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?D:FinalizationRegistry,"%Function%":ne,"%GeneratorFunction%":ie,"%Int8Array%":typeof Int8Array>"u"?D:Int8Array,"%Int16Array%":typeof Int16Array>"u"?D:Int16Array,"%Int32Array%":typeof Int32Array>"u"?D:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ce?Y(Y([][Symbol.iterator]())):D,"%JSON%":"object"==typeof JSON?JSON:D,"%Map%":typeof Map>"u"?D:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ce?D:Y((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?D:Promise,"%Proxy%":typeof Proxy>"u"?D:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?D:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?D:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ce?D:Y((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?D:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ce?Y(""[Symbol.iterator]()):D,"%Symbol%":ce?Symbol:D,"%SyntaxError%":l,"%ThrowTypeError%":B,"%TypedArray%":$,"%TypeError%":J,"%Uint8Array%":typeof Uint8Array>"u"?D:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?D:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?D:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?D:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?D:WeakMap,"%WeakRef%":typeof WeakRef>"u"?D:WeakRef,"%WeakSet%":typeof WeakSet>"u"?D:WeakSet};try{null.error}catch(Te){var j=Y(Y(Te));L["%Error.prototype%"]=j}var Pe=function Te(Me){var ee;if("%AsyncFunction%"===Me)ee=H("async function () {}");else if("%GeneratorFunction%"===Me)ee=H("function* () {}");else if("%AsyncGeneratorFunction%"===Me)ee=H("async function* () {}");else if("%AsyncGenerator%"===Me){var Ue=Te("%AsyncGeneratorFunction%");Ue&&(ee=Ue.prototype)}else if("%AsyncIteratorPrototype%"===Me){var Qe=Te("%AsyncGenerator%");Qe&&(ee=Y(Qe.prototype))}return L[Me]=ee,ee},Le={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},pe=T(224),W=T(4031),q=pe.call(Function.call,Array.prototype.concat),de=pe.call(Function.apply,Array.prototype.splice),Fe=pe.call(Function.call,String.prototype.replace),ue=pe.call(Function.call,String.prototype.slice),it=pe.call(Function.call,RegExp.prototype.exec),le=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,be=/\\(\\)?/g,Ee=function(Me){var ee=ue(Me,0,1),Ue=ue(Me,-1);if("%"===ee&&"%"!==Ue)throw new l("invalid intrinsic syntax, expected closing `%`");if("%"===Ue&&"%"!==ee)throw new l("invalid intrinsic syntax, expected opening `%`");var Qe=[];return Fe(Me,le,function(bt,cn,We,F){Qe[Qe.length]=We?Fe(F,be,"$1"):cn||bt}),Qe},Xe=function(Me,ee){var Qe,Ue=Me;if(W(Le,Ue)&&(Ue="%"+(Qe=Le[Ue])[0]+"%"),W(L,Ue)){var bt=L[Ue];if(bt===ie&&(bt=Pe(Ue)),typeof bt>"u"&&!ee)throw new J("intrinsic "+Me+" exists, but is not available. Please file an issue!");return{alias:Qe,name:Ue,value:bt}}throw new l("intrinsic "+Me+" does not exist!")};$e.exports=function(Me,ee){if("string"!=typeof Me||0===Me.length)throw new J("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof ee)throw new J('"allowMissing" argument must be a boolean');if(null===it(/^%?[^%]*%?$/,Me))throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Ue=Ee(Me),Qe=Ue.length>0?Ue[0]:"",bt=Xe("%"+Qe+"%",ee),cn=bt.name,We=bt.value,F=!1,me=bt.alias;me&&(Qe=me[0],de(Ue,q([0,1],me)));for(var et=1,tt=!0;et<Ue.length;et+=1){var Ve=Ue[et],Z=ue(Ve,0,1),ge=ue(Ve,-1);if(('"'===Z||"'"===Z||"`"===Z||'"'===ge||"'"===ge||"`"===ge)&&Z!==ge)throw new l("property names with quotes must have matching quotes");if(("constructor"===Ve||!tt)&&(F=!0),W(L,cn="%"+(Qe+="."+Ve)+"%"))We=L[cn];else if(null!=We){if(!(Ve in We)){if(!ee)throw new J("base intrinsic for "+Me+" exists, but the property is not available.");return}if(X&&et+1>=Ue.length){var ft=X(We,Ve);We=(tt=!!ft)&&"get"in ft&&!("originalValue"in ft.get)?ft.get:We[Ve]}else tt=W(We,Ve),We=We[Ve];tt&&!F&&(L[cn]=We)}}return We}},253:($e,ze,T)=>{"use strict";var l=T(9903)("%Object.getOwnPropertyDescriptor%",!0);if(l)try{l([],"length")}catch{l=null}$e.exports=l},5861:$e=>{"use strict";var ze=typeof BigInt<"u"&&BigInt;$e.exports=function(){return"function"==typeof ze&&"function"==typeof BigInt&&"bigint"==typeof ze(42)&&"bigint"==typeof BigInt(42)}},9006:($e,ze,T)=>{"use strict";var l=T(9903)("%Object.defineProperty%",!0),ne=function(){if(l)try{return l({},"a",{value:1}),!0}catch{return!1}return!1};ne.hasArrayLengthDefineBug=function(){if(!ne())return null;try{return 1!==l([],"length",{value:1}).length}catch{return!0}},$e.exports=ne},524:($e,ze,T)=>{"use strict";var D=typeof Symbol<"u"&&Symbol,l=T(6858);$e.exports=function(){return"function"==typeof D&&"function"==typeof Symbol&&"symbol"==typeof D("foo")&&"symbol"==typeof Symbol("bar")&&l()}},6858:$e=>{"use strict";$e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var T={},D=Symbol("test"),l=Object(D);if("string"==typeof D||"[object Symbol]"!==Object.prototype.toString.call(D)||"[object Symbol]"!==Object.prototype.toString.call(l))return!1;for(D in T[D]=42,T)return!1;if("function"==typeof Object.keys&&0!==Object.keys(T).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(T).length)return!1;var J=Object.getOwnPropertySymbols(T);if(1!==J.length||J[0]!==D||!Object.prototype.propertyIsEnumerable.call(T,D))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var H=Object.getOwnPropertyDescriptor(T,D);if(42!==H.value||!0!==H.enumerable)return!1}return!0}},3261:($e,ze,T)=>{"use strict";var D=T(6858);$e.exports=function(){return D()&&!!Symbol.toStringTag}},4031:($e,ze,T)=>{"use strict";var D=T(224);$e.exports=D.call(Function.call,Object.prototype.hasOwnProperty)},5847:($e,ze,T)=>{"use strict";var D=T(9903),l=T(4031),ne=T(8432)(),J=D("%TypeError%"),H={assert:function(X,N){if(!X||"object"!=typeof X&&"function"!=typeof X)throw new J("`O` is not an object");if("string"!=typeof N)throw new J("`slot` must be a string");if(ne.assert(X),!H.has(X,N))throw new J("`slot` is not present on `O`")},get:function(X,N){if(!X||"object"!=typeof X&&"function"!=typeof X)throw new J("`O` is not an object");if("string"!=typeof N)throw new J("`slot` must be a string");var B=ne.get(X);return B&&B["$"+N]},has:function(X,N){if(!X||"object"!=typeof X&&"function"!=typeof X)throw new J("`O` is not an object");if("string"!=typeof N)throw new J("`slot` must be a string");var B=ne.get(X);return!!B&&l(B,"$"+N)},set:function(X,N,B){if(!X||"object"!=typeof X&&"function"!=typeof X)throw new J("`O` is not an object");if("string"!=typeof N)throw new J("`slot` must be a string");var ce=ne.get(X);ce||ne.set(X,ce={}),ce["$"+N]=B}};Object.freeze&&Object.freeze(H),$e.exports=H},9102:($e,ze,T)=>{"use strict";var D=T(3261)(),ne=T(4263)("Object.prototype.toString"),J=function(B){return!(D&&B&&"object"==typeof B&&Symbol.toStringTag in B)&&"[object Arguments]"===ne(B)},H=function(B){return!!J(B)||null!==B&&"object"==typeof B&&"number"==typeof B.length&&B.length>=0&&"[object Array]"!==ne(B)&&"[object Function]"===ne(B.callee)},X=function(){return J(arguments)}();J.isLegacyArguments=H,$e.exports=X?J:H},2805:($e,ze,T)=>{"use strict";var D=T(3855),l=T(4263),ne=T(9903),J=T(7673),H=ne("ArrayBuffer",!0),X=ne("Float32Array",!0),N=l("ArrayBuffer.prototype.byteLength",!0),B=H&&!N&&(new H).slice,ce=B&&D(B);$e.exports=N||ce?function(ie){if(!ie||"object"!=typeof ie)return!1;try{return N?N(ie):ce(ie,0),!0}catch{return!1}}:X?function(ie){try{return new X(ie).buffer===ie&&!J(ie)}catch{return!1}}:function(ie){return!1}},3:($e,ze,T)=>{"use strict";if(T(5861)()){var l=BigInt.prototype.valueOf;$e.exports=function(H){return!(null===H||typeof H>"u"||"boolean"==typeof H||"string"==typeof H||"number"==typeof H||"symbol"==typeof H||"function"==typeof H)&&("bigint"==typeof H||function(H){try{return l.call(H),!0}catch{}return!1}(H))}}else $e.exports=function(H){return!1}},6180:($e,ze,T)=>{"use strict";var D=T(4263),l=D("Boolean.prototype.toString"),ne=D("Object.prototype.toString"),X=T(3261)();$e.exports=function(B){return"boolean"==typeof B||null!==B&&"object"==typeof B&&(X&&Symbol.toStringTag in B?function(B){try{return l(B),!0}catch{return!1}}(B):"[object Boolean]"===ne(B))}},5057:$e=>{function ze(D){return!!D.constructor&&"function"==typeof D.constructor.isBuffer&&D.constructor.isBuffer(D)}$e.exports=function(D){return null!=D&&(ze(D)||function T(D){return"function"==typeof D.readFloatLE&&"function"==typeof D.slice&&ze(D.slice(0,0))}(D)||!!D._isBuffer)}},8642:$e=>{"use strict";var D,l,ze=Function.prototype.toString,T="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof T&&"function"==typeof Object.defineProperty)try{D=Object.defineProperty({},"length",{get:function(){throw l}}),l={},T(function(){throw 42},null,D)}catch(pe){pe!==l&&(T=null)}else T=null;var ne=/^\s*class\b/,J=function(W){try{var q=ze.call(W);return ne.test(q)}catch{return!1}},H=function(W){try{return!J(W)&&(ze.call(W),!0)}catch{return!1}},X=Object.prototype.toString,L="function"==typeof Symbol&&!!Symbol.toStringTag,j=!(0 in[,]),Pe=function(){return!1};if("object"==typeof document){var Le=document.all;X.call(Le)===X.call(document.all)&&(Pe=function(W){if((j||!W)&&(typeof W>"u"||"object"==typeof W))try{var q=X.call(W);return("[object HTMLAllCollection]"===q||"[object HTML document.all class]"===q||"[object HTMLCollection]"===q||"[object Object]"===q)&&null==W("")}catch{}return!1})}$e.exports=T?function(W){if(Pe(W))return!0;if(!W||"function"!=typeof W&&"object"!=typeof W)return!1;try{T(W,null,D)}catch(q){if(q!==l)return!1}return!J(W)&&H(W)}:function(W){if(Pe(W))return!0;if(!W||"function"!=typeof W&&"object"!=typeof W)return!1;if(L)return H(W);if(J(W))return!1;var q=X.call(W);return!("[object Function]"!==q&&"[object GeneratorFunction]"!==q&&!/^\[object HTML/.test(q))&&H(W)}},4666:($e,ze,T)=>{"use strict";var D=Date.prototype.getDay,ne=Object.prototype.toString,H=T(3261)();$e.exports=function(N){return"object"==typeof N&&null!==N&&(H?function(N){try{return D.call(N),!0}catch{return!1}}(N):"[object Date]"===ne.call(N))}},9898:$e=>{"use strict";var D,ze="function"==typeof Map&&Map.prototype?Map:null,T="function"==typeof Set&&Set.prototype?Set:null;ze||(D=function(H){return!1});var l=ze?Map.prototype.has:null,ne=T?Set.prototype.has:null;!D&&!l&&(D=function(H){return!1}),$e.exports=D||function(H){if(!H||"object"!=typeof H)return!1;try{if(l.call(H),ne)try{ne.call(H)}catch{return!0}return H instanceof ze}catch{}return!1}},1046:($e,ze,T)=>{"use strict";var D=Number.prototype.toString,ne=Object.prototype.toString,H=T(3261)();$e.exports=function(N){return"number"==typeof N||"object"==typeof N&&(H?function(N){try{return D.call(N),!0}catch{return!1}}(N):"[object Number]"===ne.call(N))}},6687:($e,ze,T)=>{"use strict";var ne,J,H,X,D=T(4263),l=T(3261)();if(l){ne=D("Object.prototype.hasOwnProperty"),J=D("RegExp.prototype.exec"),H={};var N=function(){throw H};X={toString:N,valueOf:N},"symbol"==typeof Symbol.toPrimitive&&(X[Symbol.toPrimitive]=N)}var B=D("Object.prototype.toString"),ce=Object.getOwnPropertyDescriptor;$e.exports=l?function($){if(!$||"object"!=typeof $)return!1;var L=ce($,"lastIndex");if(!L||!ne(L,"value"))return!1;try{J($,X)}catch(Pe){return Pe===H}}:function($){return!(!$||"object"!=typeof $&&"function"!=typeof $)&&"[object RegExp]"===B($)}},3870:$e=>{"use strict";var D,ze="function"==typeof Map&&Map.prototype?Map:null,T="function"==typeof Set&&Set.prototype?Set:null;T||(D=function(H){return!1});var l=ze?Map.prototype.has:null,ne=T?Set.prototype.has:null;!D&&!ne&&(D=function(H){return!1}),$e.exports=D||function(H){if(!H||"object"!=typeof H)return!1;try{if(ne.call(H),l)try{l.call(H)}catch{return!0}return H instanceof T}catch{}return!1}},3163:($e,ze,T)=>{"use strict";var l=T(4263)("SharedArrayBuffer.prototype.byteLength",!0);$e.exports=l?function(J){if(!J||"object"!=typeof J)return!1;try{return l(J),!0}catch{return!1}}:function(J){return!1}},4764:($e,ze,T)=>{"use strict";var D=String.prototype.valueOf,ne=Object.prototype.toString,H=T(3261)();$e.exports=function(N){return"string"==typeof N||"object"==typeof N&&(H?function(N){try{return D.call(N),!0}catch{return!1}}(N):"[object String]"===ne.call(N))}},6434:($e,ze,T)=>{"use strict";var D=Object.prototype.toString;if(T(524)()){var ne=Symbol.prototype.toString,J=/^Symbol\(.*\)$/;$e.exports=function(N){if("symbol"==typeof N)return!0;if("[object Symbol]"!==D.call(N))return!1;try{return function(N){return"symbol"==typeof N.valueOf()&&J.test(ne.call(N))}(N)}catch{return!1}}}else $e.exports=function(N){return!1}},7673:($e,ze,T)=>{"use strict";var D=T(3037),l=T(5271),ne=T(4263),J=ne("Object.prototype.toString"),H=T(3261)(),X=T(253),N=typeof globalThis>"u"?global:globalThis,B=l(),ce=ne("Array.prototype.indexOf",!0)||function(Pe,Le){for(var pe=0;pe<Pe.length;pe+=1)if(Pe[pe]===Le)return pe;return-1},Y=ne("String.prototype.slice"),ie={},$=Object.getPrototypeOf;H&&X&&$&&D(B,function(j){var Pe=new N[j];if(Symbol.toStringTag in Pe){var Le=$(Pe),pe=X(Le,Symbol.toStringTag);if(!pe){var W=$(Le);pe=X(W,Symbol.toStringTag)}ie[j]=pe.get}}),$e.exports=function(Pe){if(!Pe||"object"!=typeof Pe)return!1;if(!H||!(Symbol.toStringTag in Pe)){var Le=Y(J(Pe),8,-1);return ce(B,Le)>-1}return!!X&&function(Pe){var Le=!1;return D(ie,function(pe,W){if(!Le)try{Le=pe.call(Pe)===W}catch{}}),Le}(Pe)}},5585:$e=>{"use strict";var D,ze="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,T="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;ze||(D=function(H){return!1});var l=ze?ze.prototype.has:null,ne=T?T.prototype.has:null;!D&&!l&&(D=function(H){return!1}),$e.exports=D||function(H){if(!H||"object"!=typeof H)return!1;try{if(l.call(H,l),ne)try{ne.call(H,ne)}catch{return!0}return H instanceof ze}catch{}return!1}},1902:($e,ze,T)=>{"use strict";var D=T(9903),l=T(4263),ne=D("%WeakSet%",!0),J=l("WeakSet.prototype.has",!0);if(J){var H=l("WeakMap.prototype.has",!0);$e.exports=function(N){if(!N||"object"!=typeof N)return!1;try{if(J(N,J),H)try{H(N,H)}catch{return!0}return N instanceof ne}catch{}return!1}}else $e.exports=function(N){return!1}},8266:$e=>{var ze={}.toString;$e.exports=Array.isArray||function(T){return"[object Array]"==ze.call(T)}},5023:($e,ze,T)=>{var D,l,ne,J,H;D=T(7175),l=T(5107).utf8,ne=T(5057),J=T(5107).bin,(H=function(X,N){X.constructor==String?X=N&&"binary"===N.encoding?J.stringToBytes(X):l.stringToBytes(X):ne(X)?X=Array.prototype.slice.call(X,0):!Array.isArray(X)&&X.constructor!==Uint8Array&&(X=X.toString());for(var B=D.bytesToWords(X),ce=8*X.length,Y=1732584193,ie=-271733879,$=-1732584194,L=271733878,j=0;j<B.length;j++)B[j]=16711935&(B[j]<<8|B[j]>>>24)|4278255360&(B[j]<<24|B[j]>>>8);B[ce>>>5]|=128<<ce%32,B[14+(ce+64>>>9<<4)]=ce;var Pe=H._ff,Le=H._gg,pe=H._hh,W=H._ii;for(j=0;j<B.length;j+=16){var q=Y,de=ie,Fe=$,ue=L;Y=Pe(Y,ie,$,L,B[j+0],7,-680876936),L=Pe(L,Y,ie,$,B[j+1],12,-389564586),$=Pe($,L,Y,ie,B[j+2],17,606105819),ie=Pe(ie,$,L,Y,B[j+3],22,-1044525330),Y=Pe(Y,ie,$,L,B[j+4],7,-176418897),L=Pe(L,Y,ie,$,B[j+5],12,1200080426),$=Pe($,L,Y,ie,B[j+6],17,-1473231341),ie=Pe(ie,$,L,Y,B[j+7],22,-45705983),Y=Pe(Y,ie,$,L,B[j+8],7,1770035416),L=Pe(L,Y,ie,$,B[j+9],12,-1958414417),$=Pe($,L,Y,ie,B[j+10],17,-42063),ie=Pe(ie,$,L,Y,B[j+11],22,-1990404162),Y=Pe(Y,ie,$,L,B[j+12],7,1804603682),L=Pe(L,Y,ie,$,B[j+13],12,-40341101),$=Pe($,L,Y,ie,B[j+14],17,-1502002290),Y=Le(Y,ie=Pe(ie,$,L,Y,B[j+15],22,1236535329),$,L,B[j+1],5,-165796510),L=Le(L,Y,ie,$,B[j+6],9,-1069501632),$=Le($,L,Y,ie,B[j+11],14,643717713),ie=Le(ie,$,L,Y,B[j+0],20,-373897302),Y=Le(Y,ie,$,L,B[j+5],5,-701558691),L=Le(L,Y,ie,$,B[j+10],9,38016083),$=Le($,L,Y,ie,B[j+15],14,-660478335),ie=Le(ie,$,L,Y,B[j+4],20,-405537848),Y=Le(Y,ie,$,L,B[j+9],5,568446438),L=Le(L,Y,ie,$,B[j+14],9,-1019803690),$=Le($,L,Y,ie,B[j+3],14,-187363961),ie=Le(ie,$,L,Y,B[j+8],20,1163531501),Y=Le(Y,ie,$,L,B[j+13],5,-1444681467),L=Le(L,Y,ie,$,B[j+2],9,-51403784),$=Le($,L,Y,ie,B[j+7],14,1735328473),Y=pe(Y,ie=Le(ie,$,L,Y,B[j+12],20,-1926607734),$,L,B[j+5],4,-378558),L=pe(L,Y,ie,$,B[j+8],11,-2022574463),$=pe($,L,Y,ie,B[j+11],16,1839030562),ie=pe(ie,$,L,Y,B[j+14],23,-35309556),Y=pe(Y,ie,$,L,B[j+1],4,-1530992060),L=pe(L,Y,ie,$,B[j+4],11,1272893353),$=pe($,L,Y,ie,B[j+7],16,-155497632),ie=pe(ie,$,L,Y,B[j+10],23,-1094730640),Y=pe(Y,ie,$,L,B[j+13],4,681279174),L=pe(L,Y,ie,$,B[j+0],11,-358537222),$=pe($,L,Y,ie,B[j+3],16,-722521979),ie=pe(ie,$,L,Y,B[j+6],23,76029189),Y=pe(Y,ie,$,L,B[j+9],4,-640364487),L=pe(L,Y,ie,$,B[j+12],11,-421815835),$=pe($,L,Y,ie,B[j+15],16,530742520),Y=W(Y,ie=pe(ie,$,L,Y,B[j+2],23,-995338651),$,L,B[j+0],6,-198630844),L=W(L,Y,ie,$,B[j+7],10,1126891415),$=W($,L,Y,ie,B[j+14],15,-1416354905),ie=W(ie,$,L,Y,B[j+5],21,-57434055),Y=W(Y,ie,$,L,B[j+12],6,1700485571),L=W(L,Y,ie,$,B[j+3],10,-1894986606),$=W($,L,Y,ie,B[j+10],15,-1051523),ie=W(ie,$,L,Y,B[j+1],21,-2054922799),Y=W(Y,ie,$,L,B[j+8],6,1873313359),L=W(L,Y,ie,$,B[j+15],10,-30611744),$=W($,L,Y,ie,B[j+6],15,-1560198380),ie=W(ie,$,L,Y,B[j+13],21,1309151649),Y=W(Y,ie,$,L,B[j+4],6,-145523070),L=W(L,Y,ie,$,B[j+11],10,-1120210379),$=W($,L,Y,ie,B[j+2],15,718787259),ie=W(ie,$,L,Y,B[j+9],21,-343485551),Y=Y+q>>>0,ie=ie+de>>>0,$=$+Fe>>>0,L=L+ue>>>0}return D.endian([Y,ie,$,L])})._ff=function(X,N,B,ce,Y,ie,$){var L=X+(N&B|~N&ce)+(Y>>>0)+$;return(L<<ie|L>>>32-ie)+N},H._gg=function(X,N,B,ce,Y,ie,$){var L=X+(N&ce|B&~ce)+(Y>>>0)+$;return(L<<ie|L>>>32-ie)+N},H._hh=function(X,N,B,ce,Y,ie,$){var L=X+(N^B^ce)+(Y>>>0)+$;return(L<<ie|L>>>32-ie)+N},H._ii=function(X,N,B,ce,Y,ie,$){var L=X+(B^(N|~ce))+(Y>>>0)+$;return(L<<ie|L>>>32-ie)+N},H._blocksize=16,H._digestsize=16,$e.exports=function(X,N){if(null==X)throw new Error("Illegal argument "+X);var B=D.wordsToBytes(H(X,N));return N&&N.asBytes?B:N&&N.asString?J.bytesToString(B):D.bytesToHex(B)}},9052:($e,ze)=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});var T=[];T[0]=function(){return function(){}},T[1]=function(J,H){return typeof H>"u"?J:function(N){J(N,H)}};var ne=function(){function J(){this.hasHandlers=!1,this._handlers=[],this._contexts=[],this._createDispatcher()}return J.prototype.addHandler=function(H,X){return this.isHandlerAttached(H,X)||(this._handlers.push(H),this._contexts.push(X),this._createDispatcher(),this._updateHasHandlers()),this},J.prototype.removeHandler=function(H,X){var N=this._getHandlerIndex(H,X);return typeof N<"u"&&(this._handlers.splice(N,1),this._contexts.splice(N,1),this._createDispatcher(),this._updateHasHandlers()),this},J.prototype.isHandlerAttached=function(H,X){return typeof this._getHandlerIndex(H,X)<"u"},J.prototype._updateHasHandlers=function(){this.hasHandlers=!!this._handlers.length},J.prototype._getHandlerIndex=function(H,X){var B,N=this._handlers.length;for(B=0;B<N&&(this._handlers[B]!==H||this._contexts[B]!==X);B++);return B<N?B:void 0},J.prototype._createDispatcher=function(){this.dispatch=function D(J){return T[J]||(T[J]=function l(J){for(var H="return function dispatcher"+J+"(payload) {\n",X=[],N=[],B=0;B<J;B++)X.push("cb"+B),N.push("ctx"+B),H+="    cb"+B+"(payload, ctx"+B+");\n";return H+="};",new(Function.bind.apply(Function,[void 0].concat(X.concat(N),[H])))}(J)),T[J]}(this._handlers.length).apply(this,this._handlers.concat(this._contexts))},J}();ze.default=ne},1158:($e,ze,T)=>{"use strict";var l=T(9052);ze.j=l.default},8597:($e,ze,T)=>{var D="function"==typeof Map&&Map.prototype,l=Object.getOwnPropertyDescriptor&&D?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ne=D&&l&&"function"==typeof l.get?l.get:null,J=D&&Map.prototype.forEach,H="function"==typeof Set&&Set.prototype,X=Object.getOwnPropertyDescriptor&&H?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,N=H&&X&&"function"==typeof X.get?X.get:null,B=H&&Set.prototype.forEach,Y="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,$="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,j="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,Pe=Boolean.prototype.valueOf,Le=Object.prototype.toString,pe=Function.prototype.toString,W=String.prototype.match,q=String.prototype.slice,de=String.prototype.replace,Fe=String.prototype.toUpperCase,ue=String.prototype.toLowerCase,it=RegExp.prototype.test,le=Array.prototype.concat,be=Array.prototype.join,Ee=Array.prototype.slice,Xe=Math.floor,Te="function"==typeof BigInt?BigInt.prototype.valueOf:null,Me=Object.getOwnPropertySymbols,ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,Ue="function"==typeof Symbol&&"object"==typeof Symbol.iterator,Qe="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,bt=Object.prototype.propertyIsEnumerable,cn=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(ae){return ae.__proto__}:null);function We(ae,He){if(ae===1/0||ae===-1/0||ae!=ae||ae&&ae>-1e3&&ae<1e3||it.call(/e/,He))return He;var Pn=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof ae){var Bn=ae<0?-Xe(-ae):Xe(ae);if(Bn!==ae){var cr=String(Bn),pt=q.call(He,cr.length+1);return de.call(cr,Pn,"$&_")+"."+de.call(de.call(pt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return de.call(He,Pn,"$&_")}var F=T(4654),me=F.custom,et=Kt(me)?me:null;function tt(ae,He,Pn){var Bn="double"===(Pn.quoteStyle||He)?'"':"'";return Bn+ae+Bn}function Ve(ae){return de.call(String(ae),/"/g,"&quot;")}function Z(ae){return!("[object Array]"!==tr(ae)||Qe&&"object"==typeof ae&&Qe in ae)}function ft(ae){return!("[object RegExp]"!==tr(ae)||Qe&&"object"==typeof ae&&Qe in ae)}function Kt(ae){if(Ue)return ae&&"object"==typeof ae&&ae instanceof Symbol;if("symbol"==typeof ae)return!0;if(!ae||"object"!=typeof ae||!ee)return!1;try{return ee.call(ae),!0}catch{}return!1}$e.exports=function ae(He,Pn,Bn,cr){var pt=Pn||{};if(Sr(pt,"quoteStyle")&&"single"!==pt.quoteStyle&&"double"!==pt.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Sr(pt,"maxStringLength")&&("number"==typeof pt.maxStringLength?pt.maxStringLength<0&&pt.maxStringLength!==1/0:null!==pt.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var fo=!Sr(pt,"customInspect")||pt.customInspect;if("boolean"!=typeof fo&&"symbol"!==fo)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Sr(pt,"indent")&&null!==pt.indent&&"\t"!==pt.indent&&!(parseInt(pt.indent,10)===pt.indent&&pt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Sr(pt,"numericSeparator")&&"boolean"!=typeof pt.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Vt=pt.numericSeparator;if(typeof He>"u")return"undefined";if(null===He)return"null";if("boolean"==typeof He)return He?"true":"false";if("string"==typeof He)return Hr(He,pt);if("number"==typeof He){if(0===He)return 1/0/He>0?"0":"-0";var _r=String(He);return Vt?We(He,_r):_r}if("bigint"==typeof He){var Vn=String(He)+"n";return Vt?We(He,Vn):Vn}var Do=typeof pt.depth>"u"?5:pt.depth;if(typeof Bn>"u"&&(Bn=0),Bn>=Do&&Do>0&&"object"==typeof He)return Z(He)?"[Array]":"[Object]";var dt=function ls(ae,He){var Pn;if("\t"===ae.indent)Pn="\t";else{if(!("number"==typeof ae.indent&&ae.indent>0))return null;Pn=be.call(Array(ae.indent+1)," ")}return{base:Pn,prev:be.call(Array(He+1),Pn)}}(pt,Bn);if(typeof cr>"u")cr=[];else if(co(cr,He)>=0)return"[Circular]";function Ar(bi,ci,Ro){if(ci&&(cr=Ee.call(cr)).push(ci),Ro){var io={depth:pt.depth};return Sr(pt,"quoteStyle")&&(io.quoteStyle=pt.quoteStyle),ae(bi,io,Bn+1,cr)}return ae(bi,pt,Bn+1,cr)}if("function"==typeof He&&!ft(He)){var p=function Jo(ae){if(ae.name)return ae.name;var He=W.call(pe.call(ae),/^function\s*([\w$]+)/);return He?He[1]:null}(He),Tn=at(He,Ar);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(Tn.length>0?" { "+be.call(Tn,", ")+" }":"")}if(Kt(He)){var E=Ue?de.call(String(He),/^(Symbol\(.*\))_[^)]*$/,"$1"):ee.call(He);return"object"!=typeof He||Ue?E:Qr(E)}if(function oo(ae){return!(!ae||"object"!=typeof ae)&&(typeof HTMLElement<"u"&&ae instanceof HTMLElement||"string"==typeof ae.nodeName&&"function"==typeof ae.getAttribute)}(He)){for(var Rn="<"+ue.call(String(He.nodeName)),zi=He.attributes||[],Io=0;Io<zi.length;Io++)Rn+=" "+zi[Io].name+"="+tt(Ve(zi[Io].value),"double",pt);return Rn+=">",He.childNodes&&He.childNodes.length&&(Rn+="..."),Rn+"</"+ue.call(String(He.nodeName))+">"}if(Z(He)){if(0===He.length)return"[]";var Po=at(He,Ar);return dt&&!function uo(ae){for(var He=0;He<ae.length;He++)if(co(ae[He],"\n")>=0)return!1;return!0}(Po)?"["+Jr(Po,dt)+"]":"[ "+be.call(Po,", ")+" ]"}if(function Ae(ae){return!("[object Error]"!==tr(ae)||Qe&&"object"==typeof ae&&Qe in ae)}(He)){var Wi=at(He,Ar);return"cause"in Error.prototype||!("cause"in He)||bt.call(He,"cause")?0===Wi.length?"["+String(He)+"]":"{ ["+String(He)+"] "+be.call(Wi,", ")+" }":"{ ["+String(He)+"] "+be.call(le.call("[cause]: "+Ar(He.cause),Wi),", ")+" }"}if("object"==typeof He&&fo){if(et&&"function"==typeof He[et]&&F)return F(He,{depth:Do-Bn});if("symbol"!==fo&&"function"==typeof He.inspect)return He.inspect()}if(function Ai(ae){if(!ne||!ae||"object"!=typeof ae)return!1;try{ne.call(ae);try{N.call(ae)}catch{return!0}return ae instanceof Map}catch{}return!1}(He)){var ei=[];return J&&J.call(He,function(bi,ci){ei.push(Ar(ci,He,!0)+" => "+Ar(bi,He))}),pn("Map",ne.call(He),ei,dt)}if(function jn(ae){if(!N||!ae||"object"!=typeof ae)return!1;try{N.call(ae);try{ne.call(ae)}catch{return!0}return ae instanceof Set}catch{}return!1}(He)){var Zi=[];return B&&B.call(He,function(bi){Zi.push(Ar(bi,He))}),pn("Set",N.call(He),Zi,dt)}if(function An(ae){if(!Y||!ae||"object"!=typeof ae)return!1;try{Y.call(ae,Y);try{$.call(ae,$)}catch{return!0}return ae instanceof WeakMap}catch{}return!1}(He))return _o("WeakMap");if(function Pi(ae){if(!$||!ae||"object"!=typeof ae)return!1;try{$.call(ae,$);try{Y.call(ae,Y)}catch{return!0}return ae instanceof WeakSet}catch{}return!1}(He))return _o("WeakSet");if(function Eo(ae){if(!j||!ae||"object"!=typeof ae)return!1;try{return j.call(ae),!0}catch{}return!1}(He))return _o("WeakRef");if(function tn(ae){return!("[object Number]"!==tr(ae)||Qe&&"object"==typeof ae&&Qe in ae)}(He))return Qr(Ar(Number(He)));if(function U(ae){if(!ae||"object"!=typeof ae||!Te)return!1;try{return Te.call(ae),!0}catch{}return!1}(He))return Qr(Ar(Te.call(He)));if(function Zt(ae){return!("[object Boolean]"!==tr(ae)||Qe&&"object"==typeof ae&&Qe in ae)}(He))return Qr(Pe.call(He));if(function At(ae){return!("[object String]"!==tr(ae)||Qe&&"object"==typeof ae&&Qe in ae)}(He))return Qr(Ar(String(He)));if(!function ge(ae){return!("[object Date]"!==tr(ae)||Qe&&"object"==typeof ae&&Qe in ae)}(He)&&!ft(He)){var yi=at(He,Ar),yo=cn?cn(He)===Object.prototype:He instanceof Object||He.constructor===Object,vi=He instanceof Object?"":"null prototype",yr=!yo&&Qe&&Object(He)===He&&Qe in He?q.call(tr(He),8,-1):vi?"Object":"",po=(yo||"function"!=typeof He.constructor?"":He.constructor.name?He.constructor.name+" ":"")+(yr||vi?"["+be.call(le.call([],yr||[],vi||[]),": ")+"] ":"");return 0===yi.length?po+"{}":dt?po+"{"+Jr(yi,dt)+"}":po+"{ "+be.call(yi,", ")+" }"}return String(He)};var yn=Object.prototype.hasOwnProperty||function(ae){return ae in this};function Sr(ae,He){return yn.call(ae,He)}function tr(ae){return Le.call(ae)}function co(ae,He){if(ae.indexOf)return ae.indexOf(He);for(var Pn=0,Bn=ae.length;Pn<Bn;Pn++)if(ae[Pn]===He)return Pn;return-1}function Hr(ae,He){if(ae.length>He.maxStringLength){var Pn=ae.length-He.maxStringLength,Bn="... "+Pn+" more character"+(Pn>1?"s":"");return Hr(q.call(ae,0,He.maxStringLength),He)+Bn}return tt(de.call(de.call(ae,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,lr),"single",He)}function lr(ae){var He=ae.charCodeAt(0),Pn={8:"b",9:"t",10:"n",12:"f",13:"r"}[He];return Pn?"\\"+Pn:"\\x"+(He<16?"0":"")+Fe.call(He.toString(16))}function Qr(ae){return"Object("+ae+")"}function _o(ae){return ae+" { ? }"}function pn(ae,He,Pn,Bn){return ae+" ("+He+") {"+(Bn?Jr(Pn,Bn):be.call(Pn,", "))+"}"}function Jr(ae,He){if(0===ae.length)return"";var Pn="\n"+He.prev+He.base;return Pn+be.call(ae,","+Pn)+"\n"+He.prev}function at(ae,He){var Pn=Z(ae),Bn=[];if(Pn){Bn.length=ae.length;for(var cr=0;cr<ae.length;cr++)Bn[cr]=Sr(ae,cr)?He(ae[cr],ae):""}var fo,pt="function"==typeof Me?Me(ae):[];if(Ue){fo={};for(var Vt=0;Vt<pt.length;Vt++)fo["$"+pt[Vt]]=pt[Vt]}for(var _r in ae)Sr(ae,_r)&&(Pn&&String(Number(_r))===_r&&_r<ae.length||Ue&&fo["$"+_r]instanceof Symbol||(it.call(/[^\w$]/,_r)?Bn.push(He(_r,ae)+": "+He(ae[_r],ae)):Bn.push(_r+": "+He(ae[_r],ae))));if("function"==typeof Me)for(var Vn=0;Vn<pt.length;Vn++)bt.call(ae,pt[Vn])&&Bn.push("["+He(pt[Vn])+"]: "+He(ae[pt[Vn]],ae));return Bn}},6872:$e=>{"use strict";var ze=function(T){return T!=T};$e.exports=function(D,l){return 0===D&&0===l?1/D==1/l:!!(D===l||ze(D)&&ze(l))}},5734:($e,ze,T)=>{"use strict";var D=T(1790),l=T(3855),ne=T(6872),J=T(3306),H=T(7715),X=l(J(),Object);D(X,{getPolyfill:J,implementation:ne,shim:H}),$e.exports=X},3306:($e,ze,T)=>{"use strict";var D=T(6872);$e.exports=function(){return"function"==typeof Object.is?Object.is:D}},7715:($e,ze,T)=>{"use strict";var D=T(3306),l=T(1790);$e.exports=function(){var J=D();return l(Object,{is:J},{is:function(){return Object.is!==J}}),J}},7010:($e,ze,T)=>{"use strict";var D;if(!Object.keys){var l=Object.prototype.hasOwnProperty,ne=Object.prototype.toString,J=T(5185),H=Object.prototype.propertyIsEnumerable,X=!H.call({toString:null},"toString"),N=H.call(function(){},"prototype"),B=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],ce=function(L){var j=L.constructor;return j&&j.prototype===L},Y={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},ie=function(){if(typeof window>"u")return!1;for(var L in window)try{if(!Y["$"+L]&&l.call(window,L)&&null!==window[L]&&"object"==typeof window[L])try{ce(window[L])}catch{return!0}}catch{return!0}return!1}();D=function(j){var Pe=null!==j&&"object"==typeof j,Le="[object Function]"===ne.call(j),pe=J(j),W=Pe&&"[object String]"===ne.call(j),q=[];if(!Pe&&!Le&&!pe)throw new TypeError("Object.keys called on a non-object");var de=N&&Le;if(W&&j.length>0&&!l.call(j,0))for(var Fe=0;Fe<j.length;++Fe)q.push(String(Fe));if(pe&&j.length>0)for(var ue=0;ue<j.length;++ue)q.push(String(ue));else for(var it in j)(!de||"prototype"!==it)&&l.call(j,it)&&q.push(String(it));if(X)for(var le=function(L){if(typeof window>"u"||!ie)return ce(L);try{return ce(L)}catch{return!1}}(j),be=0;be<B.length;++be)(!le||"constructor"!==B[be])&&l.call(j,B[be])&&q.push(B[be]);return q}}$e.exports=D},2093:($e,ze,T)=>{"use strict";var D=Array.prototype.slice,l=T(5185),ne=Object.keys,J=ne?function(N){return ne(N)}:T(7010),H=Object.keys;J.shim=function(){if(Object.keys){var N=function(){var B=Object.keys(arguments);return B&&B.length===arguments.length}(1,2);N||(Object.keys=function(ce){return l(ce)?H(D.call(ce)):H(ce)})}else Object.keys=J;return Object.keys||J},$e.exports=J},5185:$e=>{"use strict";var ze=Object.prototype.toString;$e.exports=function(D){var l=ze.call(D),ne="[object Arguments]"===l;return ne||(ne="[object Array]"!==l&&null!==D&&"object"==typeof D&&"number"==typeof D.length&&D.length>=0&&"[object Function]"===ze.call(D.callee)),ne}},2461:($e,ze,T)=>{"use strict";var D=T(2093),l=T(6858)(),ne=T(4263),J=Object,H=ne("Array.prototype.push"),X=ne("Object.prototype.propertyIsEnumerable"),N=l?Object.getOwnPropertySymbols:null;$e.exports=function(ce,Y){if(null==ce)throw new TypeError("target must be an object");var ie=J(ce);if(1===arguments.length)return ie;for(var $=1;$<arguments.length;++$){var L=J(arguments[$]),j=D(L),Pe=l&&(Object.getOwnPropertySymbols||N);if(Pe)for(var Le=Pe(L),pe=0;pe<Le.length;++pe){var W=Le[pe];X(L,W)&&H(j,W)}for(var q=0;q<j.length;++q){var de=j[q];if(X(L,de)){var Fe=L[de];ie[de]=Fe}}}return ie}},6189:($e,ze,T)=>{"use strict";var D=T(1790),l=T(3855),ne=T(2461),J=T(6255),H=T(152),X=l.apply(J()),N=function(ce,Y){return X(Object,arguments)};D(N,{getPolyfill:J,implementation:ne,shim:H}),$e.exports=N},6255:($e,ze,T)=>{"use strict";var D=T(2461);$e.exports=function(){return!Object.assign||function(){if(!Object.assign)return!1;for(var J="abcdefghijklmnopqrst",H=J.split(""),X={},N=0;N<H.length;++N)X[H[N]]=H[N];var B=Object.assign({},X),ce="";for(var Y in B)ce+=Y;return J!==ce}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var J=Object.preventExtensions({1:2});try{Object.assign(J,"xy")}catch{return"y"===J[1]}return!1}()?D:Object.assign}},152:($e,ze,T)=>{"use strict";var D=T(1790),l=T(6255);$e.exports=function(){var J=l();return D(Object,{assign:J},{assign:function(){return Object.assign!==J}}),J}},151:($e,ze)=>{"use strict";var T=Object.prototype.hasOwnProperty;function l(X){try{return decodeURIComponent(X.replace(/\+/g," "))}catch{return null}}function ne(X){try{return encodeURIComponent(X)}catch{return null}}ze.stringify=function H(X,N){N=N||"";var ce,Y,B=[];for(Y in"string"!=typeof N&&(N="?"),X)if(T.call(X,Y)){if(!(ce=X[Y])&&(null==ce||isNaN(ce))&&(ce=""),Y=ne(Y),ce=ne(ce),null===Y||null===ce)continue;B.push(Y+"="+ce)}return B.length?N+B.join("&"):""},ze.parse=function J(X){for(var ce,N=/([^=?#&]+)=?([^&]*)/g,B={};ce=N.exec(X);){var Y=l(ce[1]),ie=l(ce[2]);null===Y||null===ie||Y in B||(B[Y]=ie)}return B}},4040:($e,ze,T)=>{"use strict";var D=T(3677).functionsHaveConfigurableNames(),l=Object,ne=TypeError;$e.exports=function(){if(null!=this&&this!==l(this))throw new ne("RegExp.prototype.flags getter called on non-object");var H="";return this.hasIndices&&(H+="d"),this.global&&(H+="g"),this.ignoreCase&&(H+="i"),this.multiline&&(H+="m"),this.dotAll&&(H+="s"),this.unicode&&(H+="u"),this.sticky&&(H+="y"),H},D&&Object.defineProperty&&Object.defineProperty($e.exports,"name",{value:"get flags"})},8704:($e,ze,T)=>{"use strict";var D=T(1790),l=T(3855),ne=T(4040),J=T(9783),H=T(9369),X=l(J());D(X,{getPolyfill:J,implementation:ne,shim:H}),$e.exports=X},9783:($e,ze,T)=>{"use strict";var D=T(4040),l=T(1790).supportsDescriptors,ne=Object.getOwnPropertyDescriptor;$e.exports=function(){if(l&&"gim"===/a/gim.flags){var H=ne(RegExp.prototype,"flags");if(H&&"function"==typeof H.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var X="",N={};if(Object.defineProperty(N,"hasIndices",{get:function(){X+="d"}}),Object.defineProperty(N,"sticky",{get:function(){X+="y"}}),"dy"===X)return H.get}}return D}},9369:($e,ze,T)=>{"use strict";var D=T(1790).supportsDescriptors,l=T(9783),ne=Object.getOwnPropertyDescriptor,J=Object.defineProperty,H=TypeError,X=Object.getPrototypeOf,N=/a/;$e.exports=function(){if(!D||!X)throw new H("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var ce=l(),Y=X(N),ie=ne(Y,"flags");return(!ie||ie.get!==ce)&&J(Y,"flags",{configurable:!0,enumerable:!1,get:ce}),ce}},47:$e=>{"use strict";$e.exports=function(T,D){if(D=D.split(":")[0],!(T=+T))return!1;switch(D){case"http":case"ws":return 80!==T;case"https":case"wss":return 443!==T;case"ftp":return 21!==T;case"gopher":return 70!==T;case"file":return!1}return 0!==T}},8432:($e,ze,T)=>{"use strict";var D=T(9903),l=T(4263),ne=T(8597),J=D("%TypeError%"),H=D("%WeakMap%",!0),X=D("%Map%",!0),N=l("WeakMap.prototype.get",!0),B=l("WeakMap.prototype.set",!0),ce=l("WeakMap.prototype.has",!0),Y=l("Map.prototype.get",!0),ie=l("Map.prototype.set",!0),$=l("Map.prototype.has",!0),L=function(pe,W){for(var de,q=pe;null!==(de=q.next);q=de)if(de.key===W)return q.next=de.next,de.next=pe.next,pe.next=de,de};$e.exports=function(){var W,q,de,Fe={assert:function(ue){if(!Fe.has(ue))throw new J("Side channel does not contain "+ne(ue))},get:function(ue){if(H&&ue&&("object"==typeof ue||"function"==typeof ue)){if(W)return N(W,ue)}else if(X){if(q)return Y(q,ue)}else if(de)return function(pe,W){var q=L(pe,W);return q&&q.value}(de,ue)},has:function(ue){if(H&&ue&&("object"==typeof ue||"function"==typeof ue)){if(W)return ce(W,ue)}else if(X){if(q)return $(q,ue)}else if(de)return function(pe,W){return!!L(pe,W)}(de,ue);return!1},set:function(ue,it){H&&ue&&("object"==typeof ue||"function"==typeof ue)?(W||(W=new H),B(W,ue,it)):X?(q||(q=new X),ie(q,ue,it)):(de||(de={key:{},next:null}),function(pe,W,q){var de=L(pe,W);de?de.value=q:pe.next={key:W,next:pe.next,value:q}}(de,ue,it))}};return Fe}},8519:($e,ze,T)=>{"use strict";var D=T(5847),l=SyntaxError,ne="object"==typeof StopIteration?StopIteration:null;$e.exports=function(H){if(!ne)throw new l("this environment lacks StopIteration");D.set(H,"[[Done]]",!1);var X={next:function(){var B=D.get(this,"[[Iterator]]"),ce=D.get(B,"[[Done]]");try{return{done:ce,value:ce?void 0:B.next()}}catch(Y){if(D.set(B,"[[Done]]",!0),Y!==ne)throw Y;return{done:!0,value:void 0}}}};return D.set(X,"[[Iterator]]",H),X}},9233:($e,ze,T)=>{"use strict";var D=T(47),l=T(151),ne=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,J=/[\n\r\t]/g,H=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,X=/:\d+$/,N=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,B=/^[a-zA-Z]:/;function ce(q){return(q||"").toString().replace(ne,"")}var Y=[["#","hash"],["?","query"],function(de,Fe){return L(Fe.protocol)?de.replace(/\\/g,"/"):de},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],ie={hash:1,query:1};function $(q){var de;de=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var le,ue={},it=typeof(q=q||de.location||{});if("blob:"===q.protocol)ue=new Le(unescape(q.pathname),{});else if("string"===it)for(le in ue=new Le(q,{}),ie)delete ue[le];else if("object"===it){for(le in q)le in ie||(ue[le]=q[le]);void 0===ue.slashes&&(ue.slashes=H.test(q.href))}return ue}function L(q){return"file:"===q||"ftp:"===q||"http:"===q||"https:"===q||"ws:"===q||"wss:"===q}function j(q,de){q=(q=ce(q)).replace(J,""),de=de||{};var Ee,Fe=N.exec(q),ue=Fe[1]?Fe[1].toLowerCase():"",it=!!Fe[2],le=!!Fe[3],be=0;return it?le?(Ee=Fe[2]+Fe[3]+Fe[4],be=Fe[2].length+Fe[3].length):(Ee=Fe[2]+Fe[4],be=Fe[2].length):le?(Ee=Fe[3]+Fe[4],be=Fe[3].length):Ee=Fe[4],"file:"===ue?be>=2&&(Ee=Ee.slice(2)):L(ue)?Ee=Fe[4]:ue?it&&(Ee=Ee.slice(2)):be>=2&&L(de.protocol)&&(Ee=Fe[4]),{protocol:ue,slashes:it||L(ue),slashesCount:be,rest:Ee}}function Le(q,de,Fe){if(q=(q=ce(q)).replace(J,""),!(this instanceof Le))return new Le(q,de,Fe);var ue,it,le,be,Ee,Xe,Te=Y.slice(),Me=typeof de,ee=this,Ue=0;for("object"!==Me&&"string"!==Me&&(Fe=de,de=null),Fe&&"function"!=typeof Fe&&(Fe=l.parse),ue=!(it=j(q||"",de=$(de))).protocol&&!it.slashes,ee.slashes=it.slashes||ue&&de.slashes,ee.protocol=it.protocol||de.protocol||"",q=it.rest,("file:"===it.protocol&&(2!==it.slashesCount||B.test(q))||!it.slashes&&(it.protocol||it.slashesCount<2||!L(ee.protocol)))&&(Te[3]=[/(.*)/,"pathname"]);Ue<Te.length;Ue++)"function"!=typeof(be=Te[Ue])?(Xe=be[1],(le=be[0])!=le?ee[Xe]=q:"string"==typeof le?~(Ee="@"===le?q.lastIndexOf(le):q.indexOf(le))&&("number"==typeof be[2]?(ee[Xe]=q.slice(0,Ee),q=q.slice(Ee+be[2])):(ee[Xe]=q.slice(Ee),q=q.slice(0,Ee))):(Ee=le.exec(q))&&(ee[Xe]=Ee[1],q=q.slice(0,Ee.index)),ee[Xe]=ee[Xe]||ue&&be[3]&&de[Xe]||"",be[4]&&(ee[Xe]=ee[Xe].toLowerCase())):q=be(q,ee);Fe&&(ee.query=Fe(ee.query)),ue&&de.slashes&&"/"!==ee.pathname.charAt(0)&&(""!==ee.pathname||""!==de.pathname)&&(ee.pathname=function Pe(q,de){if(""===q)return de;for(var Fe=(de||"/").split("/").slice(0,-1).concat(q.split("/")),ue=Fe.length,it=Fe[ue-1],le=!1,be=0;ue--;)"."===Fe[ue]?Fe.splice(ue,1):".."===Fe[ue]?(Fe.splice(ue,1),be++):be&&(0===ue&&(le=!0),Fe.splice(ue,1),be--);return le&&Fe.unshift(""),("."===it||".."===it)&&Fe.push(""),Fe.join("/")}(ee.pathname,de.pathname)),"/"!==ee.pathname.charAt(0)&&L(ee.protocol)&&(ee.pathname="/"+ee.pathname),D(ee.port,ee.protocol)||(ee.host=ee.hostname,ee.port=""),ee.username=ee.password="",ee.auth&&(~(Ee=ee.auth.indexOf(":"))?(ee.username=ee.auth.slice(0,Ee),ee.username=encodeURIComponent(decodeURIComponent(ee.username)),ee.password=ee.auth.slice(Ee+1),ee.password=encodeURIComponent(decodeURIComponent(ee.password))):ee.username=encodeURIComponent(decodeURIComponent(ee.auth)),ee.auth=ee.password?ee.username+":"+ee.password:ee.username),ee.origin="file:"!==ee.protocol&&L(ee.protocol)&&ee.host?ee.protocol+"//"+ee.host:"null",ee.href=ee.toString()}Le.prototype={set:function pe(q,de,Fe){var ue=this;switch(q){case"query":"string"==typeof de&&de.length&&(de=(Fe||l.parse)(de)),ue[q]=de;break;case"port":ue[q]=de,D(de,ue.protocol)?de&&(ue.host=ue.hostname+":"+de):(ue.host=ue.hostname,ue[q]="");break;case"hostname":ue[q]=de,ue.port&&(de+=":"+ue.port),ue.host=de;break;case"host":ue[q]=de,X.test(de)?(de=de.split(":"),ue.port=de.pop(),ue.hostname=de.join(":")):(ue.hostname=de,ue.port="");break;case"protocol":ue.protocol=de.toLowerCase(),ue.slashes=!Fe;break;case"pathname":case"hash":if(de){var it="pathname"===q?"/":"#";ue[q]=de.charAt(0)!==it?it+de:de}else ue[q]=de;break;case"username":case"password":ue[q]=encodeURIComponent(de);break;case"auth":var le=de.indexOf(":");~le?(ue.username=de.slice(0,le),ue.username=encodeURIComponent(decodeURIComponent(ue.username)),ue.password=de.slice(le+1),ue.password=encodeURIComponent(decodeURIComponent(ue.password))):ue.username=encodeURIComponent(decodeURIComponent(de))}for(var be=0;be<Y.length;be++){var Ee=Y[be];Ee[4]&&(ue[Ee[1]]=ue[Ee[1]].toLowerCase())}return ue.auth=ue.password?ue.username+":"+ue.password:ue.username,ue.origin="file:"!==ue.protocol&&L(ue.protocol)&&ue.host?ue.protocol+"//"+ue.host:"null",ue.href=ue.toString(),ue},toString:function W(q){(!q||"function"!=typeof q)&&(q=l.stringify);var de,Fe=this,ue=Fe.host,it=Fe.protocol;it&&":"!==it.charAt(it.length-1)&&(it+=":");var le=it+(Fe.protocol&&Fe.slashes||L(Fe.protocol)?"//":"");return Fe.username?(le+=Fe.username,Fe.password&&(le+=":"+Fe.password),le+="@"):Fe.password?(le+=":"+Fe.password,le+="@"):"file:"!==Fe.protocol&&L(Fe.protocol)&&!ue&&"/"!==Fe.pathname&&(le+="@"),(":"===ue[ue.length-1]||X.test(Fe.hostname)&&!Fe.port)&&(ue+=":"),le+=ue+Fe.pathname,(de="object"==typeof Fe.query?q(Fe.query):Fe.query)&&(le+="?"!==de.charAt(0)?"?"+de:de),Fe.hash&&(le+=Fe.hash),le}},Le.extractProtocol=j,Le.location=$,Le.trimLeft=ce,Le.qs=l,$e.exports=Le},2086:($e,ze,T)=>{"use strict";var D=T(4764),l=T(1046),ne=T(6180),J=T(6434),H=T(3);$e.exports=function(N){return null==N||"object"!=typeof N&&"function"!=typeof N?null:D(N)?"String":l(N)?"Number":ne(N)?"Boolean":J(N)?"Symbol":H(N)?"BigInt":void 0}},5709:($e,ze,T)=>{"use strict";var D=T(3037),l=T(5271),ne=T(4263),J=T(253),H=ne("Object.prototype.toString"),X=T(3261)(),N=typeof globalThis>"u"?global:globalThis,B=l(),ce=ne("String.prototype.slice"),Y={},ie=Object.getPrototypeOf;X&&J&&ie&&D(B,function(j){if("function"==typeof N[j]){var Pe=new N[j];if(Symbol.toStringTag in Pe){var Le=ie(Pe),pe=J(Le,Symbol.toStringTag);if(!pe){var W=ie(Le);pe=J(W,Symbol.toStringTag)}Y[j]=pe.get}}});var L=T(7673);$e.exports=function(Pe){return!!L(Pe)&&(X&&Symbol.toStringTag in Pe?function(Pe){var Le=!1;return D(Y,function(pe,W){if(!Le)try{var q=pe.call(Pe);q===W&&(Le=q)}catch{}}),Le}(Pe):ce(H(Pe),8,-1))}},863:($e,ze,T)=>{var D={"./ion-accordion_2.entry.js":[79,8592,79],"./ion-action-sheet.entry.js":[5593,8592,5593],"./ion-alert.entry.js":[3225,8592,3225],"./ion-app_8.entry.js":[4812,8592,4017],"./ion-avatar_3.entry.js":[6655,6655],"./ion-back-button.entry.js":[4856,8592,4856],"./ion-backdrop.entry.js":[3059,3059],"./ion-breadcrumb_2.entry.js":[8648,8592,8648],"./ion-button_2.entry.js":[8308,8308],"./ion-card_5.entry.js":[4690,4690],"./ion-checkbox.entry.js":[4090,4090],"./ion-chip.entry.js":[6214,6214],"./ion-col_3.entry.js":[9447,9447],"./ion-datetime-button.entry.js":[7950,5523,7950],"./ion-datetime_3.entry.js":[9689,5523,8592,9689],"./ion-fab_3.entry.js":[8840,8592,8840],"./ion-img.entry.js":[749,749],"./ion-infinite-scroll_2.entry.js":[9667,8592,9544],"./ion-input.entry.js":[3288,8592,3288],"./ion-item-option_3.entry.js":[5473,8592,6108],"./ion-item_8.entry.js":[3634,8592,3634],"./ion-loading.entry.js":[2855,8592,2855],"./ion-menu_3.entry.js":[495,8592,495],"./ion-modal.entry.js":[8737,8592,8737],"./ion-nav_2.entry.js":[9632,8592,9632],"./ion-picker-column-internal.entry.js":[4446,8592,4446],"./ion-picker-internal.entry.js":[2275,2275],"./ion-popover.entry.js":[8050,8592,8050],"./ion-progress-bar.entry.js":[8994,8994],"./ion-radio_2.entry.js":[3592,3592],"./ion-range.entry.js":[5454,8592,5454],"./ion-refresher_2.entry.js":[290,8592,4210],"./ion-reorder_2.entry.js":[2666,8592,8718],"./ion-ripple-effect.entry.js":[4816,4816],"./ion-route_4.entry.js":[5534,5534],"./ion-searchbar.entry.js":[4902,8592,4902],"./ion-segment_2.entry.js":[1938,8592,1938],"./ion-select_3.entry.js":[8179,8179],"./ion-slide_2.entry.js":[668,668],"./ion-spinner.entry.js":[1624,8592,1624],"./ion-split-pane.entry.js":[9989,9989],"./ion-tab-bar_2.entry.js":[8902,8592,8902],"./ion-tab_2.entry.js":[199,8592,199],"./ion-text.entry.js":[8395,8395],"./ion-textarea.entry.js":[6357,6357],"./ion-toast.entry.js":[8268,8592,8268],"./ion-toggle.entry.js":[5269,8592,5269],"./ion-virtual-scroll.entry.js":[2875,2875]};function l(ne){if(!T.o(D,ne))return Promise.resolve().then(()=>{var X=new Error("Cannot find module '"+ne+"'");throw X.code="MODULE_NOT_FOUND",X});var J=D[ne],H=J[0];return Promise.all(J.slice(1).map(T.e)).then(()=>T(H))}l.keys=()=>Object.keys(D),l.id=863,$e.exports=l},4654:()=>{},5271:$e=>{"use strict";var ze=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],T=typeof globalThis>"u"?global:globalThis;$e.exports=function(){for(var l=[],ne=0;ne<ze.length;ne++)"function"==typeof T[ze[ne]]&&(l[l.length]=ze[ne]);return l}},2069:($e,ze,T)=>{"use strict";var D=T(9102),l=T(8519);if(T(524)()||T(6858)()){var ne=Symbol.iterator;$e.exports=function(Ee){return null!=Ee&&typeof Ee[ne]<"u"?Ee[ne]():D(Ee)?Array.prototype[ne].call(Ee):void 0}}else{var J=T(8266),H=T(4764),X=T(9903),N=X("%Map%",!0),B=X("%Set%",!0),ce=T(4263),Y=ce("Array.prototype.push"),ie=ce("String.prototype.charCodeAt"),$=ce("String.prototype.slice"),j=function(Ee){var Xe=0;return{next:function(){var ee,Me=Xe>=Ee.length;return Me||(ee=Ee[Xe],Xe+=1),{done:Me,value:ee}}}},Pe=function(Ee,Xe){if(J(Ee)||D(Ee))return j(Ee);if(H(Ee)){var Te=0;return{next:function(){var ee=function(Ee,Xe){if(Xe+1>=Ee.length)return Xe+1;var Me=ie(Ee,Xe);if(Me<55296||Me>56319)return Xe+1;var ee=ie(Ee,Xe+1);return ee<56320||ee>57343?Xe+1:Xe+2}(Ee,Te),Ue=$(Ee,Te,ee);return Te=ee,{done:ee>Ee.length,value:Ue}}}}return Xe&&typeof Ee["_es6-shim iterator_"]<"u"?Ee["_es6-shim iterator_"]():void 0};if(N||B){var Le=T(9898),pe=T(3870),W=ce("Map.prototype.forEach",!0),q=ce("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var de=ce("Map.prototype.iterator",!0),Fe=ce("Set.prototype.iterator",!0);var ue=ce("Map.prototype.@@iterator",!0)||ce("Map.prototype._es6-shim iterator_",!0),it=ce("Set.prototype.@@iterator",!0)||ce("Set.prototype._es6-shim iterator_",!0);$e.exports=function(Ee){return function(Ee){if(Le(Ee)){if(de)return l(de(Ee));if(ue)return ue(Ee);if(W){var Xe=[];return W(Ee,function(Me,ee){Y(Xe,[ee,Me])}),j(Xe)}}if(pe(Ee)){if(Fe)return l(Fe(Ee));if(it)return it(Ee);if(q){var Te=[];return q(Ee,function(Me){Y(Te,Me)}),j(Te)}}}(Ee)||Pe(Ee)}}else $e.exports=function(Ee){if(null!=Ee)return Pe(Ee,!0)}}},2107:($e,ze,T)=>{"use strict";var D=T(9898),l=T(3870),ne=T(5585),J=T(1902);$e.exports=function(X){if(X&&"object"==typeof X){if(D(X))return"Map";if(l(X))return"Set";if(ne(X))return"WeakMap";if(J(X))return"WeakSet"}return!1}},3918:($e,ze,T)=>{"use strict";function D(ne,J,H,X,N,B,ce){try{var Y=ne[B](ce),ie=Y.value}catch($){return void H($)}Y.done?J(ie):Promise.resolve(ie).then(X,N)}function l(ne){return function(){var J=this,H=arguments;return new Promise(function(X,N){var B=ne.apply(J,H);function ce(ie){D(B,X,N,ce,Y,"next",ie)}function Y(ie){D(B,X,N,ce,Y,"throw",ie)}ce(void 0)})}}T.d(ze,{Z:()=>l})}},$e=>{$e($e.s=919)}]);
//# sourceMappingURL=main.d9ec13db00e989ce.js.map