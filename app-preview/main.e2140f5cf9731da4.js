(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{4926:(Be,We,A)=>{"use strict";function I(n){return"function"==typeof n}function l(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const re=l(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function te(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class z{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const i of t)i.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(I(r))try{r()}catch(i){e=i instanceof re?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{V(i)}catch(s){e=e??[],s instanceof re?e=[...e,...s.errors]:e.push(s)}}if(e)throw new re(e)}}add(e){var t;if(e&&e!==this)if(this.closed)V(e);else{if(e instanceof z){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&te(t,e)}remove(e){const{_finalizers:t}=this;t&&te(t,e),e instanceof z&&e._removeParent(this)}}z.EMPTY=(()=>{const n=new z;return n.closed=!0,n})();const Q=z.EMPTY;function L(n){return n instanceof z||n&&"closed"in n&&I(n.remove)&&I(n.add)&&I(n.unsubscribe)}function V(n){I(n)?n():n.unsubscribe()}const ue={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},X={setTimeout(n,e,...t){const{delegate:r}=X;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=X;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ie(n){X.setTimeout(()=>{const{onUnhandledError:e}=ue;if(!e)throw n;e(n)})}function B(){}const $=$e("C",void 0,void 0);function $e(n,e,t){return{kind:n,value:e,error:t}}let he=null;function Z(n){if(ue.useDeprecatedSynchronousErrorHandling){const e=!he;if(e&&(he={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=he;if(he=null,t)throw r}}else n()}class fe extends z{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,L(e)&&e.add(this)):this.destination=Oe}static create(e,t,r){return new ce(e,t,r)}next(e){this.isStopped?Xe(function Pe(n){return $e("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Xe(function j(n){return $e("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Xe($,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fe=Function.prototype.bind;function de(n,e){return Fe.call(n,e)}class it{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){be(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){be(r)}else be(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){be(t)}}}class ce extends fe{constructor(e,t,r){let o;if(super(),I(e)||!e)o={next:e??void 0,error:t??void 0,complete:r??void 0};else{let i;this&&ue.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&de(e.next,i),error:e.error&&de(e.error,i),complete:e.complete&&de(e.complete,i)}):o=e}this.destination=new it(o)}}function be(n){ue.useDeprecatedSynchronousErrorHandling?function K(n){ue.useDeprecatedSynchronousErrorHandling&&he&&(he.errorThrown=!0,he.error=n)}(n):ie(n)}function Xe(n,e){const{onStoppedNotification:t}=ue;t&&X.setTimeout(()=>t(n,e))}const Oe={closed:!0,next:B,error:function Ie(n){throw n},complete:B},Me="function"==typeof Symbol&&Symbol.observable||"@@observable";function ne(n){return n}function Qe(n){return 0===n.length?ne:1===n.length?n[0]:function(t){return n.reduce((r,o)=>o(r),t)}}let yt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,o){const i=function O(n){return n&&n instanceof fe||function Ze(n){return n&&I(n.next)&&I(n.error)&&I(n.complete)}(n)&&L(n)}(t)?t:new ce(t,r,o);return Z(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=fn(r))((o,i)=>{const s=new ce({next:a=>{try{t(a)}catch(u){i(u),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Me](){return this}pipe(...t){return Qe(t)(this)}toPromise(t){return new(t=fn(t))((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return n.create=e=>new n(e),n})();function fn(n){var e;return null!==(e=n??ue.Promise)&&void 0!==e?e:Promise}const ge=l(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let tt=(()=>{class n extends yt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new nt(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new ge}next(t){Z(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Z(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Z(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:o,observers:i}=this;return r||o?Q:(this.currentObservers=null,i.push(t),new z(()=>{this.currentObservers=null,te(i,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:o,isStopped:i}=this;r?t.error(o):i&&t.complete()}asObservable(){const t=new yt;return t.source=this,t}}return n.create=(e,t)=>new nt(e,t),n})();class nt extends tt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:Q}}function Ve(n){return I(n?.lift)}function q(n){return e=>{if(Ve(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ye(n,e,t,r,o){return new ft(n,e,t,r,o)}class ft extends fe{constructor(e,t,r,o,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=o?function(a){try{o(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ae(n,e){return q((t,r)=>{let o=0;t.subscribe(ye(r,i=>{r.next(n.call(e,i,o++))}))})}function H(n,e,t,r){var s,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i}function Rn(n,e,t,r){return new(t||(t=Promise))(function(i,s){function a(m){try{f(r.next(m))}catch(_){s(_)}}function u(m){try{f(r.throw(m))}catch(_){s(_)}}function f(m){m.done?i(m.value):function o(i){return i instanceof t?i:new t(function(s){s(i)})}(m.value).then(a,u)}f((r=r.apply(n,e||[])).next())})}function gn(n){return this instanceof gn?(this.v=n,this):new gn(n)}function eo(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=t.apply(n,e||[]),i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(k){r[k]&&(o[k]=function(M){return new Promise(function(Y,Se){i.push([k,M,Y,Se])>1||a(k,M)})})}function a(k,M){try{!function u(k){k.value instanceof gn?Promise.resolve(k.value.v).then(f,m):_(i[0][2],k)}(r[k](M))}catch(Y){_(i[0][3],Y)}}function f(k){a("next",k)}function m(k){a("throw",k)}function _(k,M){k(M),i.shift(),i.length&&a(i[0][0],i[0][1])}}function zr(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Yr(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(i){t[i]=n[i]&&function(s){return new Promise(function(a,u){!function o(i,s,a,u){Promise.resolve(u).then(function(f){i({value:f,done:a})},s)}(a,u,(s=n[i](s)).done,s.value)})}}}const br=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function en(n){return I(n?.then)}function Jn(n){return I(n[Me])}function er(n){return Symbol.asyncIterator&&I(n?.[Symbol.asyncIterator])}function un(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const E=function Ht(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function S(n){return I(n?.[E])}function Kn(n){return eo(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:o}=yield gn(t.read());if(o)return yield gn(void 0);yield yield gn(r)}}finally{t.releaseLock()}})}function D(n){return I(n?.getReader)}function On(n){if(n instanceof yt)return n;if(null!=n){if(Jn(n))return function Go(n){return new yt(e=>{const t=n[Me]();if(I(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(br(n))return function ri(n){return new yt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(en(n))return function Do(n){return new yt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ie)})}(n);if(er(n))return zo(n);if(S(n))return function $i(n){return new yt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(D(n))return function Ii(n){return zo(Kn(n))}(n)}throw un(n)}function zo(n){return new yt(e=>{(function ki(n,e){var t,r,o,i;return Rn(this,void 0,void 0,function*(){try{for(t=zr(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=t.return)&&(yield i.call(t))}finally{if(o)throw o.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function io(n,e,t,r=0,o=!1){const i=e.schedule(function(){t(),o?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(i),!o)return i}function Cr(n,e,t=1/0){return I(e)?Cr((r,o)=>Ae((i,s)=>e(r,i,o,s))(On(n(r,o))),t):("number"==typeof e&&(t=e),q((r,o)=>function Wo(n,e,t,r,o,i,s,a){const u=[];let f=0,m=0,_=!1;const k=()=>{_&&!u.length&&!f&&e.complete()},M=Se=>f<r?Y(Se):u.push(Se),Y=Se=>{i&&e.next(Se),f++;let Ge=!1;On(t(Se,m++)).subscribe(ye(e,Ke=>{o?.(Ke),i?M(Ke):e.next(Ke)},()=>{Ge=!0},void 0,()=>{if(Ge)try{for(f--;u.length&&f<r;){const Ke=u.shift();s?io(e,s,()=>Y(Ke)):Y(Ke)}k()}catch(Ke){e.error(Ke)}}))};return n.subscribe(ye(e,M,()=>{_=!0,k()})),()=>{a?.()}}(r,o,n,t)))}function Zo(n=1/0){return Cr(ne,n)}const to=new yt(n=>n.complete());function Io(n){return n&&I(n.schedule)}function Xr(n){return n[n.length-1]}function is(n){return I(Xr(n))?n.pop():void 0}function ii(n){return Io(Xr(n))?n.pop():void 0}function so(n,e=0){return q((t,r)=>{t.subscribe(ye(r,o=>io(r,n,()=>r.next(o),e),()=>io(r,n,()=>r.complete(),e),o=>io(r,n,()=>r.error(o),e)))})}function ss(n,e=0){return q((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function as(n,e){if(!n)throw new Error("Iterable cannot be null");return new yt(t=>{io(t,e,()=>{const r=n[Symbol.asyncIterator]();io(t,e,()=>{r.next().then(o=>{o.done?t.complete():t.next(o.value)})},0,!0)})})}function fr(n,e){return e?function $s(n,e){if(null!=n){if(Jn(n))return function _o(n,e){return On(n).pipe(ss(e),so(e))}(n,e);if(br(n))return function ws(n,e){return new yt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(en(n))return function Ti(n,e){return On(n).pipe(ss(e),so(e))}(n,e);if(er(n))return as(n,e);if(S(n))return function hi(n,e){return new yt(t=>{let r;return io(t,e,()=>{r=n[E](),io(t,e,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){return void t.error(s)}i?t.complete():t.next(o)},0,!0)}),()=>I(r?.return)&&r.return()})}(n,e);if(D(n))return function Ls(n,e){return as(Kn(n),e)}(n,e)}throw un(n)}(n,e):On(n)}function mi(...n){const e=ii(n),t=function Ao(n,e){return"number"==typeof Xr(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?On(r[0]):Zo(t)(fr(r,e)):to}function Ss(n={}){const{connector:e=(()=>new tt),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=n;return i=>{let s,a,u,f=0,m=!1,_=!1;const k=()=>{a?.unsubscribe(),a=void 0},M=()=>{k(),s=u=void 0,m=_=!1},Y=()=>{const Se=s;M(),Se?.unsubscribe()};return q((Se,Ge)=>{f++,!_&&!m&&k();const Ke=u=u??e();Ge.add(()=>{f--,0===f&&!_&&!m&&(a=Bi(Y,o))}),Ke.subscribe(Ge),!s&&f>0&&(s=new ce({next:bt=>Ke.next(bt),error:bt=>{_=!0,k(),a=Bi(M,t,bt),Ke.error(bt)},complete:()=>{m=!0,k(),a=Bi(M,r),Ke.complete()}}),On(Se).subscribe(s))})(i)}}function Bi(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new ce({next:()=>{r.unsubscribe(),n()}});return On(e(...t)).subscribe(r)}function tr(n){for(let e in n)if(n[e]===tr)return e;throw Error("Could not find renamed property on target object.")}function x(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function N(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(N).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function me(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Ee=tr({__forward_ref__:tr});function Ne(n){return n.__forward_ref__=Ne,n.toString=function(){return N(this())},n}function R(n){return pe(n)?n():n}function pe(n){return"function"==typeof n&&n.hasOwnProperty(Ee)&&n.__forward_ref__===Ne}function ke(n){return n&&!!n.\u0275providers}const ot="https://g.co/ng/security#xss";class xe extends Error{constructor(e,t){super(function Gt(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function wt(n){return"string"==typeof n?n:null==n?"":String(n)}function gi(n,e){throw new xe(-201,!1)}function Fo(n,e){null==n&&function Zn(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function ht(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function wr(n){return{providers:n.providers||[],imports:n.imports||[]}}function Es(n){return ao(n,Bs)||ao(n,ha)}function ao(n,e){return n.hasOwnProperty(e)?n[e]:null}function pa(n){return n&&(n.hasOwnProperty(Xs)||n.hasOwnProperty(Za))?n[Xs]:null}const Bs=tr({\u0275prov:tr}),Xs=tr({\u0275inj:tr}),ha=tr({ngInjectableDef:tr}),Za=tr({ngInjectorDef:tr});var Mt=(()=>((Mt=Mt||{})[Mt.Default=0]="Default",Mt[Mt.Host=1]="Host",Mt[Mt.Self=2]="Self",Mt[Mt.SkipSelf=4]="SkipSelf",Mt[Mt.Optional=8]="Optional",Mt))();let Qs;function lr(n){const e=Qs;return Qs=n,e}function Qr(n,e,t){const r=Es(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Mt.Optional?null:void 0!==e?e:void gi(N(n))}const p=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),G={},_e="__NG_DI_FLAG__",De="ngTempTokenPath",St=/\n/gm,An="__source";let Pn;function zt(n){const e=Pn;return Pn=n,e}function Kt(n,e=Mt.Default){if(void 0===Pn)throw new xe(-203,!1);return null===Pn?Qr(n,void 0,e):Pn.get(n,e&Mt.Optional?null:void 0,e)}function ee(n,e=Mt.Default){return(function vo(){return Qs}()||Kt)(R(n),e)}function _n(n,e=Mt.Default){return ee(n,Wr(e))}function Wr(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function pt(n){const e=[];for(let t=0;t<n.length;t++){const r=R(n[t]);if(Array.isArray(r)){if(0===r.length)throw new xe(900,!1);let o,i=Mt.Default;for(let s=0;s<r.length;s++){const a=r[s],u=Zr(a);"number"==typeof u?-1===u?o=a.token:i|=u:o=a}e.push(ee(o,i))}else e.push(ee(r))}return e}function Wt(n,e){return n[_e]=e,n.prototype[_e]=e,n}function Zr(n){return n[_e]}function pr(n){return{toString:n}.toString()}var yi=(()=>((yi=yi||{})[yi.OnPush=0]="OnPush",yi[yi.Default=1]="Default",yi))(),Ai=(()=>{return(n=Ai||(Ai={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Ai;var n})();const Vi={},nr=[],ma=tr({\u0275cmp:tr}),qa=tr({\u0275dir:tr}),Ka=tr({\u0275pipe:tr}),xl=tr({\u0275mod:tr}),us=tr({\u0275fac:tr}),ga=tr({__NG_ELEMENT_ID__:tr});let Cd=0;function ut(n){return pr(()=>{const t=!0===n.standalone,r={},o={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===yi.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||nr,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Ai.Emulated,id:"c"+Cd++,styles:n.styles||nr,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},i=n.dependencies,s=n.features;return o.inputs=Ui(n.inputs,r),o.outputs=Ui(n.outputs),s&&s.forEach(a=>a(o)),o.directiveDefs=i?()=>("function"==typeof i?i():i).map(cc).filter(Al):null,o.pipeDefs=i?()=>("function"==typeof i?i():i).map(Oo).filter(Al):null,o})}function cc(n){return cr(n)||ko(n)}function Al(n){return null!==n}function Ar(n){return pr(()=>({type:n.type,bootstrap:n.bootstrap||nr,declarations:n.declarations||nr,imports:n.imports||nr,exports:n.exports||nr,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Ui(n,e){if(null==n)return Vi;const t={};for(const r in n)if(n.hasOwnProperty(r)){let o=n[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),t[o]=r,e&&(e[o]=i)}return t}const xt=ut;function co(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function cr(n){return n[ma]||null}function ko(n){return n[qa]||null}function Oo(n){return n[Ka]||null}function vn(n,e){const t=n[xl]||null;if(!t&&!0===e)throw new Error(`Type ${N(n)} does not have '\u0275mod' property.`);return t}const v=11;function Nr(n){return Array.isArray(n)&&"object"==typeof n[1]}function mr(n){return Array.isArray(n)&&!0===n[1]}function Xc(n){return 0!=(4&n.flags)}function Pl(n){return n.componentOffset>-1}function uc(n){return 1==(1&n.flags)}function ds(n){return null!==n.template}function Sp(n){return 0!=(256&n[2])}function ya(n,e){return n.hasOwnProperty(us)?n[us]:null}class Ip{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function No(){return Ed}function Ed(n){return n.type.prototype.ngOnChanges&&(n.setInput=Tp),kp}function kp(){const n=Id(this),e=n?.current;if(e){const t=n.previous;if(t===Vi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Tp(n,e,t,r){const o=this.declaredInputs[t],i=Id(n)||function Mp(n,e){return n[Dd]=e}(n,{previous:Vi,current:null}),s=i.current||(i.current={}),a=i.previous,u=a[o];s[o]=new Ip(u&&u.currentValue,e,a===Vi),n[r]=e}No.ngInherit=!0;const Dd="__ngSimpleChanges__";function Id(n){return n[Dd]||null}function ai(n){for(;Array.isArray(n);)n=n[0];return n}function Xa(n,e){return ai(e[n])}function Hi(n,e){return ai(e[n.index])}function Td(n,e){return n.data[e]}function Rr(n,e){return n[e]}function To(n,e){const t=e[n];return Nr(t)?t:t[0]}function Jc(n){return 64==(64&n[2])}function _a(n,e){return null==e?null:n[e]}function Rp(n){n[18]=0}function Md(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const kt={lFrame:x0(null),bindingsEnabled:!0};function Fr(){return kt.bindingsEnabled}function at(){return kt.lFrame.lView}function En(){return kt.lFrame.tView}function Pt(n){return kt.lFrame.contextLView=n,n[8]}function Ot(n){return kt.lFrame.contextLView=null,n}function jt(){let n=c();for(;null!==n&&64===n.type;)n=n.parent;return n}function c(){return kt.lFrame.currentTNode}function b(n,e){const t=kt.lFrame;t.currentTNode=n,t.isParent=e}function T(){return kt.lFrame.isParent}function U(){kt.lFrame.isParent=!1}function sn(){return kt.lFrame.bindingIndex}function jn(){return kt.lFrame.bindingIndex++}function Xt(n){const e=kt.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function bo(n,e){const t=kt.lFrame;t.bindingIndex=t.bindingRootIndex=n,Yo(e)}function Yo(n){kt.lFrame.currentDirectiveIndex=n}function yn(){return kt.lFrame.currentQueryIndex}function Co(n){kt.lFrame.currentQueryIndex=n}function Ur(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function ps(n,e,t){if(t&Mt.SkipSelf){let o=e,i=n;for(;!(o=o.parent,null!==o||t&Mt.Host||(o=Ur(i),null===o||(i=i[15],10&o.type))););if(null===o)return!1;e=o,n=i}const r=kt.lFrame=M0();return r.currentTNode=e,r.lView=n,!0}function fo(n){const e=M0(),t=n[1];kt.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function M0(){const n=kt.lFrame,e=null===n?null:n.child;return null===e?x0(n):e}function x0(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function A0(){const n=kt.lFrame;return kt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const P0=A0;function mg(){const n=A0();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Gi(){return kt.lFrame.selectedIndex}function dc(n){kt.lFrame.selectedIndex=n}function po(){const n=kt.lFrame;return Td(n.tView,n.selectedIndex)}function Fp(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const i=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:f,ngOnDestroy:m}=i;s&&(n.contentHooks||(n.contentHooks=[])).push(-t,s),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-t,u),f&&((n.viewHooks||(n.viewHooks=[])).push(t,f),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,f)),null!=m&&(n.destroyHooks||(n.destroyHooks=[])).push(t,m)}}function Op(n,e,t){R0(n,e,3,t)}function Np(n,e,t,r){(3&n[2])===t&&R0(n,e,t,r)}function gg(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function R0(n,e,t,r){const i=r??-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&n[18]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[18]+=65536),(a<i||-1==i)&&(eM(n,t,e,u),n[18]=(4294901760&n[18])+u+2),u++}function eM(n,e,t,r){const o=t[r]<0,i=t[r+1],a=n[o?-t[r]:t[r]];if(o){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{i.call(a)}finally{}}}else try{i.call(a)}finally{}}class xd{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function _g(n,e,t){let r=0;for(;r<t.length;){const o=t[r];if("number"==typeof o){if(0!==o)break;r++;const i=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,i)}else{const i=o,s=t[++r];O0(i)?n.setProperty(e,i,s):n.setAttribute(e,i,s),r++}}return r}function F0(n){return 3===n||4===n||6===n}function O0(n){return 64===n.charCodeAt(0)}function Ad(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const o=e[r];"number"==typeof o?t=o:0===t||N0(n,t,o,null,-1===t||2===t?e[++r]:null)}}return n}function N0(n,e,t,r,o){let i=0,s=n.length;if(-1===e)s=-1;else for(;i<n.length;){const a=n[i++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=i-1;break}}}for(;i<n.length;){const a=n[i];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==o&&(n[i+1]=o));if(r===n[i+1])return void(n[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==s&&(n.splice(s,0,e),i=s+1),n.splice(i++,0,t),null!==r&&n.splice(i++,0,r),null!==o&&n.splice(i++,0,o)}function L0(n){return-1!==n}function Lp(n){return 32767&n}function $p(n,e){let t=function oM(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let vg=!0;function Bp(n){const e=vg;return vg=n,e}let iM=0;const va={};function Vp(n,e){const t=V0(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,bg(r.data,n),bg(e,null),bg(r.blueprint,null));const o=Cg(n,e),i=n.injectorIndex;if(L0(o)){const s=Lp(o),a=$p(o,e),u=a[1].data;for(let f=0;f<8;f++)e[i+f]=a[s+f]|u[s+f]}return e[i+8]=o,i}function bg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function V0(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Cg(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,o=e;for(;null!==o;){if(r=Z0(o),null===r)return-1;if(t++,o=o[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function wg(n,e,t){!function sM(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(ga)&&(r=t[ga]),null==r&&(r=t[ga]=iM++);const o=255&r;e.data[n+(o>>5)]|=1<<o}(n,e,t)}function U0(n,e,t){if(t&Mt.Optional||void 0!==n)return n;gi()}function j0(n,e,t,r){if(t&Mt.Optional&&void 0===r&&(r=null),!(t&(Mt.Self|Mt.Host))){const o=n[9],i=lr(void 0);try{return o?o.get(e,r,t&Mt.Optional):Qr(e,r,t&Mt.Optional)}finally{lr(i)}}return U0(r,0,t)}function H0(n,e,t,r=Mt.Default,o){if(null!==n){if(1024&e[2]){const s=function dM(n,e,t,r,o){let i=n,s=e;for(;null!==i&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=G0(i,s,t,r|Mt.Self,va);if(a!==va)return a;let u=i.parent;if(!u){const f=s[21];if(f){const m=f.get(t,va,r);if(m!==va)return m}u=Z0(s),s=s[15]}i=u}return o}(n,e,t,r,va);if(s!==va)return s}const i=G0(n,e,t,r,va);if(i!==va)return i}return j0(e,t,r,o)}function G0(n,e,t,r,o){const i=function cM(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(ga)?n[ga]:void 0;return"number"==typeof e?e>=0?255&e:uM:e}(t);if("function"==typeof i){if(!ps(e,n,r))return r&Mt.Host?U0(o,0,r):j0(e,t,r,o);try{const s=i(r);if(null!=s||r&Mt.Optional)return s;gi()}finally{P0()}}else if("number"==typeof i){let s=null,a=V0(n,e),u=-1,f=r&Mt.Host?e[16][6]:null;for((-1===a||r&Mt.SkipSelf)&&(u=-1===a?Cg(n,e):e[a+8],-1!==u&&W0(r,!1)?(s=e[1],a=Lp(u),e=$p(u,e)):a=-1);-1!==a;){const m=e[1];if(z0(i,a,m.data)){const _=lM(a,e,t,s,r,f);if(_!==va)return _}u=e[a+8],-1!==u&&W0(r,e[1].data[a+8]===f)&&z0(i,a,e)?(s=m,a=Lp(u),e=$p(u,e)):a=-1}}return o}function lM(n,e,t,r,o,i){const s=e[1],a=s.data[n+8],m=Up(a,s,t,null==r?Pl(a)&&vg:r!=s&&0!=(3&a.type),o&Mt.Host&&i===a);return null!==m?fc(e,s,m,a):va}function Up(n,e,t,r,o){const i=n.providerIndexes,s=e.data,a=1048575&i,u=n.directiveStart,m=i>>20,k=o?a+m:n.directiveEnd;for(let M=r?a:a+m;M<k;M++){const Y=s[M];if(M<u&&t===Y||M>=u&&Y.type===t)return M}if(o){const M=s[u];if(M&&ds(M)&&M.type===t)return u}return null}function fc(n,e,t,r){let o=n[t];const i=e.data;if(function tM(n){return n instanceof xd}(o)){const s=o;s.resolving&&function Po(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new xe(-200,`Circular dependency in DI detected for ${n}${t}`)}(function pn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():wt(n)}(i[t]));const a=Bp(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?lr(s.injectImpl):null;ps(n,r,Mt.Default);try{o=n[t]=s.factory(void 0,i,n,r),e.firstCreatePass&&t>=r.directiveStart&&function JT(n,e,t){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=e.type.prototype;if(r){const s=Ed(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s)}o&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,o),i&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,i),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,i))}(t,i[t],e)}finally{null!==u&&lr(u),Bp(a),s.resolving=!1,P0()}}return o}function z0(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function W0(n,e){return!(n&Mt.Self||n&Mt.Host&&e)}class tu{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return H0(this._tNode,this._lView,e,Wr(r),t)}}function uM(){return new tu(jt(),at())}function ci(n){return pr(()=>{const e=n.prototype.constructor,t=e[us]||Sg(e),r=Object.prototype;let o=Object.getPrototypeOf(n.prototype).constructor;for(;o&&o!==r;){const i=o[us]||Sg(o);if(i&&i!==t)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Sg(n){return pe(n)?()=>{const e=Sg(R(n));return e&&e()}:ya(n)}function Z0(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}function nu(n){return function aM(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let o=0;for(;o<r;){const i=t[o];if(F0(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<r&&"string"==typeof t[o];)o++;else{if(i===e)return t[o+1];o+=2}}}return null}(jt(),n)}const ou="__parameters__";function su(n,e,t){return pr(()=>{const r=function Eg(n){return function(...t){if(n){const r=n(...t);for(const o in r)this[o]=r[o]}}}(e);function o(...i){if(this instanceof o)return r.apply(this,i),this;const s=new o(...i);return a.annotation=s,a;function a(u,f,m){const _=u.hasOwnProperty(ou)?u[ou]:Object.defineProperty(u,ou,{value:[]})[ou];for(;_.length<=m;)_.push(null);return(_[m]=_[m]||[]).push(s),u}}return t&&(o.prototype=Object.create(t.prototype)),o.prototype.ngMetadataName=n,o.annotationCls=o,o})}class an{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ht({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function pc(n,e){n.forEach(t=>Array.isArray(t)?pc(t,e):e(t))}function K0(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function jp(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Fd(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function Ds(n,e,t){let r=au(n,e);return r>=0?n[1|r]=t:(r=~r,function mM(n,e,t,r){let o=n.length;if(o==e)n.push(t,r);else if(1===o)n.push(r,n[0]),n[0]=t;else{for(o--,n.push(n[o-1],n[o]);o>e;)n[o]=n[o-2],o--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Ig(n,e){const t=au(n,e);if(t>=0)return n[1|t]}function au(n,e){return function Y0(n,e,t){let r=0,o=n.length>>t;for(;o!==r;){const i=r+(o-r>>1),s=n[i<<t];if(e===s)return i<<t;s>e?o=i:r=i+1}return~(o<<t)}(n,e,1)}const Od=Wt(su("Optional"),8),Nd=Wt(su("SkipSelf"),4);var hs=(()=>((hs=hs||{})[hs.Important=1]="Important",hs[hs.DashCase=2]="DashCase",hs))();const Pg=new Map;let LM=0;const Fg="__ngContext__";function Ri(n,e){Nr(e)?(n[Fg]=e[20],function BM(n){Pg.set(n[20],n)}(e)):n[Fg]=e}function Ng(n,e){return undefined(n,e)}function Vd(n){const e=n[3];return mr(e)?e[3]:e}function Lg(n){return gb(n[13])}function $g(n){return gb(n[4])}function gb(n){for(;null!==n&&!mr(n);)n=n[4];return n}function cu(n,e,t,r,o){if(null!=r){let i,s=!1;mr(r)?i=r:Nr(r)&&(s=!0,r=r[0]);const a=ai(r);0===n&&null!==t?null==o?wb(e,t,a):hc(e,t,a,o||null,!0):1===n&&null!==t?hc(e,t,a,o||null,!0):2===n?function zg(n,e,t){const r=Wp(n,e);r&&function ix(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=i&&function lx(n,e,t,r,o){const i=t[7];i!==ai(t)&&cu(e,n,r,i,o);for(let a=10;a<t.length;a++){const u=t[a];Ud(u[1],u,n,e,r,i)}}(e,n,i,t,o)}}function Vg(n,e,t){return n.createElement(e,t)}function _b(n,e){const t=n[9],r=t.indexOf(e),o=e[3];512&e[2]&&(e[2]&=-513,Md(o,-1)),t.splice(r,1)}function Ug(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const o=r[17];null!==o&&o!==n&&_b(o,r),e>0&&(n[t-1][4]=r[4]);const i=jp(n,10+e);!function XM(n,e){Ud(n,e,e[v],2,null,null),e[0]=null,e[6]=null}(r[1],r);const s=i[19];null!==s&&s.detachView(i[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function vb(n,e){if(!(128&e[2])){const t=e[v];t.destroyNode&&Ud(n,e,t,3,null,null),function ex(n){let e=n[13];if(!e)return jg(n[1],n);for(;e;){let t=null;if(Nr(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Nr(e)&&jg(e[1],e),e=e[3];null===e&&(e=n),Nr(e)&&jg(e[1],e),t=e&&e[4]}e=t}}(e)}}function jg(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function ox(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const o=e[t[r]];if(!(o instanceof xd)){const i=t[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],u=i[s+1];try{u.call(a)}finally{}}else try{i.call(o)}finally{}}}}(n,e),function rx(n,e){const t=n.cleanup,r=e[7];let o=-1;if(null!==t)for(let i=0;i<t.length-1;i+=2)if("string"==typeof t[i]){const s=t[i+3];s>=0?r[o=s]():r[o=-s].unsubscribe(),i+=2}else{const s=r[o=t[i+1]];t[i].call(s)}if(null!==r){for(let i=o+1;i<r.length;i++)(0,r[i])();e[7]=null}}(n,e),1===e[1].type&&e[v].destroy();const t=e[17];if(null!==t&&mr(e[3])){t!==e[3]&&_b(t,e);const r=e[19];null!==r&&r.detachView(n)}!function VM(n){Pg.delete(n[20])}(e)}}function bb(n,e,t){return function Cb(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:i}=n.data[r.directiveStart+o];if(i===Ai.None||i===Ai.Emulated)return null}return Hi(r,t)}}(n,e.parent,t)}function hc(n,e,t,r,o){n.insertBefore(e,t,r,o)}function wb(n,e,t){n.appendChild(e,t)}function Sb(n,e,t,r,o){null!==r?hc(n,e,t,r,o):wb(n,e,t)}function Wp(n,e){return n.parentNode(e)}function Eb(n,e,t){return Ib(n,e,t)}let Kp,qg,Ib=function Db(n,e,t){return 40&n.type?Hi(n,t):null};function Zp(n,e,t,r){const o=bb(n,r,e),i=e[v],a=Eb(r.parent||e[6],r,e);if(null!=o)if(Array.isArray(t))for(let u=0;u<t.length;u++)Sb(i,o,t[u],a,!1);else Sb(i,o,t,a,!1)}function qp(n,e){if(null!==e){const t=e.type;if(3&t)return Hi(e,n);if(4&t)return Gg(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return qp(n,r);{const o=n[e.index];return mr(o)?Gg(-1,o):ai(o)}}if(32&t)return Ng(e,n)()||ai(n[e.index]);{const r=Tb(n,e);return null!==r?Array.isArray(r)?r[0]:qp(Vd(n[16]),r):qp(n,e.next)}}return null}function Tb(n,e){return null!==e?n[16][6].projection[e.projection]:null}function Gg(n,e){const t=10+n+1;if(t<e.length){const r=e[t],o=r[1].firstChild;if(null!==o)return qp(r,o)}return e[7]}function Wg(n,e,t,r,o,i,s){for(;null!=t;){const a=r[t.index],u=t.type;if(s&&0===e&&(a&&Ri(ai(a),r),t.flags|=2),32!=(32&t.flags))if(8&u)Wg(n,e,t.child,r,o,i,!1),cu(e,n,o,a,i);else if(32&u){const f=Ng(t,r);let m;for(;m=f();)cu(e,n,o,m,i);cu(e,n,o,a,i)}else 16&u?Mb(n,e,r,t,o,i):cu(e,n,o,a,i);t=s?t.projectionNext:t.next}}function Ud(n,e,t,r,o,i){Wg(t,r,n.firstChild,e,o,i,!1)}function Mb(n,e,t,r,o,i){const s=t[16],u=s[6].projection[r.projection];if(Array.isArray(u))for(let f=0;f<u.length;f++)cu(e,n,o,u[f],i);else Wg(n,e,u,s[3],o,i,!0)}function xb(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Ab(n,e,t){const{mergedAttrs:r,classes:o,styles:i}=t;null!==r&&_g(n,e,r),null!==o&&xb(n,e,o),null!==i&&function ux(n,e,t){n.setAttribute(e,"style",t)}(n,e,i)}function mc(n){return function Zg(){if(void 0===Kp&&(Kp=null,p.trustedTypes))try{Kp=p.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Kp}()?.createHTML(n)||n}class gc{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ot})`}}class mx extends gc{getTypeName(){return"HTML"}}class gx extends gc{getTypeName(){return"Style"}}class yx extends gc{getTypeName(){return"Script"}}class _x extends gc{getTypeName(){return"URL"}}class vx extends gc{getTypeName(){return"ResourceURL"}}function Is(n){return n instanceof gc?n.changingThisBreaksApplicationSecurity:n}function ba(n,e){const t=function bx(n){return n instanceof gc&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${ot})`)}return t===e}class Ix{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(mc(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class kx{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=mc(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=mc(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let o=t.length-1;0<o;o--){const s=t.item(o).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&e.removeAttribute(s)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const Mx=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Xp(n){return(n=String(n)).match(Mx)?n:"unsafe:"+n}function Qa(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function jd(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const Lb=Qa("area,br,col,hr,img,wbr"),$b=Qa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Bb=Qa("rp,rt"),Yg=jd(Lb,jd($b,Qa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),jd(Bb,Qa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),jd(Bb,$b)),Xg=Qa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Vb=jd(Xg,Qa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Qa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),xx=Qa("script,style,template");class Ax{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=this.checkClobberedElement(t,t.nextSibling);if(o){t=o;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Yg.hasOwnProperty(t))return this.sanitizedSomething=!0,!xx.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let o=0;o<r.length;o++){const i=r.item(o),s=i.name,a=s.toLowerCase();if(!Vb.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=i.value;Xg[a]&&(u=Xp(u)),this.buf.push(" ",s,'="',Ub(u),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Yg.hasOwnProperty(t)&&!Lb.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Ub(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const Px=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Rx=/([^\#-~ |!])/g;function Ub(n){return n.replace(/&/g,"&amp;").replace(Px,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Rx,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Qp;function jb(n,e){let t=null;try{Qp=Qp||function Nb(n){const e=new kx(n);return function Tx(){try{return!!(new window.DOMParser).parseFromString(mc(""),"text/html")}catch{return!1}}()?new Ix(e):e}(n);let r=e?String(e):"";t=Qp.getInertBodyElement(r);let o=5,i=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=t.innerHTML,t=Qp.getInertBodyElement(r)}while(r!==i);return mc((new Ax).sanitizeChildren(Qg(t)||t))}finally{if(t){const r=Qg(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Qg(n){return"content"in n&&function Fx(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var jr=(()=>((jr=jr||{})[jr.NONE=0]="NONE",jr[jr.HTML=1]="HTML",jr[jr.STYLE=2]="STYLE",jr[jr.SCRIPT=3]="SCRIPT",jr[jr.URL=4]="URL",jr[jr.RESOURCE_URL=5]="RESOURCE_URL",jr))();const Jp=new an("ENVIRONMENT_INITIALIZER"),Wb=new an("INJECTOR",-1),Zb=new an("INJECTOR_DEF_TYPES");class qb{get(e,t=G){if(t===G){const r=new Error(`NullInjectorError: No provider for ${N(e)}!`);throw r.name="NullInjectorError",r}return t}}function jx(...n){return{\u0275providers:Kb(0,n),\u0275fromNgModule:!0}}function Kb(n,...e){const t=[],r=new Set;let o;return pc(e,i=>{const s=i;Jg(s,t,[],r)&&(o||(o=[]),o.push(s))}),void 0!==o&&Yb(o,t),t}function Yb(n,e){for(let t=0;t<n.length;t++){const{providers:o}=n[t];ey(o,i=>{e.push(i)})}}function Jg(n,e,t,r){if(!(n=R(n)))return!1;let o=null,i=pa(n);const s=!i&&cr(n);if(i||s){if(s&&!s.standalone)return!1;o=n}else{const u=n.ngModule;if(i=pa(u),!i)return!1;o=u}const a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const f of u)Jg(f,e,t,r)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let f;r.add(o);try{pc(i.imports,m=>{Jg(m,e,t,r)&&(f||(f=[]),f.push(m))})}finally{}void 0!==f&&Yb(f,e)}if(!a){const f=ya(o)||(()=>new o);e.push({provide:o,useFactory:f,deps:nr},{provide:Zb,useValue:o,multi:!0},{provide:Jp,useValue:()=>ee(o),multi:!0})}const u=i.providers;null==u||a||ey(u,m=>{e.push(m)})}}return o!==n&&void 0!==n.providers}function ey(n,e){for(let t of n)ke(t)&&(t=t.\u0275providers),Array.isArray(t)?ey(t,e):e(t)}const Hx=tr({provide:String,useValue:tr});function ty(n){return null!==n&&"object"==typeof n&&Hx in n}function yc(n){return"function"==typeof n}const ny=new an("Set Injector scope."),eh={},zx={};let ry;function th(){return void 0===ry&&(ry=new qb),ry}class Ca{}class Jb extends Ca{get destroyed(){return this._destroyed}constructor(e,t,r,o){super(),this.parent=t,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,iy(e,s=>this.processProvider(s)),this.records.set(Wb,uu(void 0,this)),o.has("environment")&&this.records.set(Ca,uu(void 0,this));const i=this.records.get(ny);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Zb.multi,nr,Mt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=zt(this),r=lr(void 0);try{return e()}finally{zt(t),lr(r)}}get(e,t=G,r=Mt.Default){this.assertNotDestroyed(),r=Wr(r);const o=zt(this),i=lr(void 0);try{if(!(r&Mt.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function Yx(n){return"function"==typeof n||"object"==typeof n&&n instanceof an}(e)&&Es(e);a=u&&this.injectableDefInScope(u)?uu(oy(e),eh):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&Mt.Self?th():this.parent).get(e,t=r&Mt.Optional&&t===G?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[De]=s[De]||[]).unshift(N(e)),o)throw s;return function vr(n,e,t,r){const o=n[De];throw e[An]&&o.unshift(e[An]),n.message=function qo(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let o=N(e);if(Array.isArray(e))o=e.map(N).join(" -> ");else if("object"==typeof e){let i=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):N(a)))}o=`{${i.join(", ")}}`}return`${t}${r?"("+r+")":""}[${o}]: ${n.replace(St,"\n  ")}`}("\n"+n.message,o,t,r),n.ngTokenPath=o,n[De]=null,n}(s,e,"R3InjectorError",this.source)}throw s}finally{lr(i),zt(o)}}resolveInjectorInitializers(){const e=zt(this),t=lr(void 0);try{const r=this.get(Jp.multi,nr,Mt.Self);for(const o of r)o()}finally{zt(e),lr(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(N(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processProvider(e){let t=yc(e=R(e))?e:R(e&&e.provide);const r=function Zx(n){return ty(n)?uu(void 0,n.useValue):uu(eC(n),eh)}(e);if(yc(e)||!0!==e.multi)this.records.get(t);else{let o=this.records.get(t);o||(o=uu(void 0,eh,!0),o.factory=()=>pt(o.multi),this.records.set(t,o)),t=e,o.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===eh&&(t.value=zx,t.value=t.factory()),"object"==typeof t.value&&t.value&&function Kx(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=R(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function oy(n){const e=Es(n),t=null!==e?e.factory:ya(n);if(null!==t)return t;if(n instanceof an)throw new xe(204,!1);if(n instanceof Function)return function Wx(n){const e=n.length;if(e>0)throw Fd(e,"?"),new xe(204,!1);const t=function cs(n){const e=n&&(n[Bs]||n[ha]);if(e){const t=function xi(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new xe(204,!1)}function eC(n,e,t){let r;if(yc(n)){const o=R(n);return ya(o)||oy(o)}if(ty(n))r=()=>R(n.useValue);else if(function Qb(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...pt(n.deps||[]));else if(function Xb(n){return!(!n||!n.useExisting)}(n))r=()=>ee(R(n.useExisting));else{const o=R(n&&(n.useClass||n.provide));if(!function qx(n){return!!n.deps}(n))return ya(o)||oy(o);r=()=>new o(...pt(n.deps))}return r}function uu(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function iy(n,e){for(const t of n)Array.isArray(t)?iy(t,e):t&&ke(t)?iy(t.\u0275providers,e):e(t)}class Xx{}class tC{}class Jx{resolveComponentFactory(e){throw function Qx(n){const e=Error(`No component factory found for ${N(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Ja=(()=>{class n{}return n.NULL=new Jx,n})();function eA(){return du(jt(),at())}function du(n,e){return new gt(Hi(n,e))}let gt=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=eA,n})();function tA(n){return n instanceof gt?n.nativeElement:n}class rC{}let el=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function nA(){const n=at(),t=To(jt().index,n);return(Nr(t)?t:n)[v]}(),n})(),rA=(()=>{class n{}return n.\u0275prov=ht({token:n,providedIn:"root",factory:()=>null}),n})();class Gd{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const oA=new Gd("15.1.3"),sy={};function ly(n){return n.ngOriginalError}class fu{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&ly(e);for(;t&&ly(t);)t=ly(t);return t||null}}function tl(n){return n instanceof Function?n():n}function iC(n,e,t){let r=n.length;for(;;){const o=n.indexOf(e,t);if(-1===o)return o;if(0===o||n.charCodeAt(o-1)<=32){const i=e.length;if(o+i===r||n.charCodeAt(o+i)<=32)return o}t=o+1}}const sC="ng-template";function mA(n,e,t){let r=0;for(;r<n.length;){let o=n[r++];if(t&&"class"===o){if(o=n[r],-1!==iC(o.toLowerCase(),e,0))return!0}else if(1===o){for(;r<n.length&&"string"==typeof(o=n[r++]);)if(o.toLowerCase()===e)return!0;return!1}}return!1}function aC(n){return 4===n.type&&n.value!==sC}function gA(n,e,t){return e===(4!==n.type||t?n.value:sC)}function yA(n,e,t){let r=4;const o=n.attrs||[],i=function bA(n){for(let e=0;e<n.length;e++)if(F0(n[e]))return e;return n.length}(o);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!gA(n,u,t)||""===u&&1===e.length){if(ea(r))return!1;s=!0}}else{const f=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!mA(n.attrs,f,t)){if(ea(r))return!1;s=!0}continue}const _=_A(8&r?"class":u,o,aC(n),t);if(-1===_){if(ea(r))return!1;s=!0;continue}if(""!==f){let k;k=_>i?"":o[_+1].toLowerCase();const M=8&r?k:null;if(M&&-1!==iC(M,f,0)||2&r&&f!==k){if(ea(r))return!1;s=!0}}}}else{if(!s&&!ea(r)&&!ea(u))return!1;if(s&&ea(u))continue;s=!1,r=u|1&r}}return ea(r)||s}function ea(n){return 0==(1&n)}function _A(n,e,t,r){if(null===e)return-1;let o=0;if(r||!t){let i=!1;for(;o<e.length;){const s=e[o];if(s===n)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=e[++o];for(;"string"==typeof a;)a=e[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function CA(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function lC(n,e,t=!1){for(let r=0;r<e.length;r++)if(yA(n,e[r],t))return!0;return!1}function wA(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let o=0;o<n.length;o++)if(n[o]!==r[o])continue e;return!0}}return!1}function cC(n,e){return n?":not("+e.trim()+")":e}function SA(n){let e=n[0],t=1,r=2,o="",i=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""!==o&&!ea(s)&&(e+=cC(i,o),o=""),r=s,i=i||!ea(r);t++}return""!==o&&(e+=cC(i,o)),e}const Ln={};function Ye(n){uC(En(),at(),Gi()+n,!1)}function uC(n,e,t,r){if(!r)if(3==(3&e[2])){const i=n.preOrderCheckHooks;null!==i&&Op(e,i,t)}else{const i=n.preOrderHooks;null!==i&&Np(e,i,0,t)}dc(t)}function hC(n,e=null,t=null,r){const o=mC(n,e,t,r);return o.resolveInjectorInitializers(),o}function mC(n,e=null,t=null,r,o=new Set){const i=[t||nr,jx(n)];return r=r||("object"==typeof n?void 0:N(n)),new Jb(i,e||th(),r||null,o)}let ho=(()=>{class n{static create(t,r){if(Array.isArray(t))return hC({name:""},r,t,"");{const o=t.name??"";return hC({name:o},t.parent,t.providers,o)}}}return n.THROW_IF_NOT_FOUND=G,n.NULL=new qb,n.\u0275prov=ht({token:n,providedIn:"any",factory:()=>ee(Wb)}),n.__NG_ELEMENT_ID__=-1,n})();function C(n,e=Mt.Default){const t=at();return null===t?ee(n,e):H0(jt(),t,R(n),e)}function SC(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r+1];if(-1!==i){const s=n.data[i];Co(t[r]),s.contentQueries(2,e[i],i)}}}function rh(n,e,t,r,o,i,s,a,u,f,m){const _=e.blueprint.slice();return _[0]=o,_[2]=76|r,(null!==m||n&&1024&n[2])&&(_[2]|=1024),Rp(_),_[3]=_[15]=n,_[8]=t,_[10]=s||n&&n[10],_[v]=a||n&&n[v],_[12]=u||n&&n[12]||null,_[9]=f||n&&n[9]||null,_[6]=i,_[20]=function $M(){return LM++}(),_[21]=m,_[16]=2==e.type?n[16]:_,_}function mu(n,e,t,r,o){let i=n.data[e];if(null===i)i=function py(n,e,t,r,o){const i=c(),s=T(),u=n.data[e]=function KA(n,e,t,r,o,i){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,t,e,r,o);return null===n.firstChild&&(n.firstChild=u),null!==i&&(s?null==i.child&&null!==u.parent&&(i.child=u):null===i.next&&(i.next=u)),u}(n,e,t,r,o),function mn(){return kt.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=t,i.value=r,i.attrs=o;const s=function h(){const n=kt.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return b(i,!0),i}function zd(n,e,t,r){if(0===t)return-1;const o=e.length;for(let i=0;i<t;i++)e.push(r),n.blueprint.push(r),n.data.push(null);return o}function hy(n,e,t){fo(e);try{const r=n.viewQuery;null!==r&&Ey(1,r,t);const o=n.template;null!==o&&EC(n,e,o,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&SC(n,e),n.staticViewQueries&&Ey(2,n.viewQuery,t);const i=n.components;null!==i&&function WA(n,e){for(let t=0;t<e.length;t++)hP(n,e[t])}(e,i)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,mg()}}function oh(n,e,t,r){const o=e[2];if(128!=(128&o)){fo(e);try{Rp(e),function Vn(n){return kt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&EC(n,e,t,2,r);const s=3==(3&o);if(s){const f=n.preOrderCheckHooks;null!==f&&Op(e,f,null)}else{const f=n.preOrderHooks;null!==f&&Np(e,f,0,null),gg(e,0)}if(function fP(n){for(let e=Lg(n);null!==e;e=$g(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const o=t[r];512&o[2]||Md(o[3],1),o[2]|=512}}}(e),function dP(n){for(let e=Lg(n);null!==e;e=$g(e))for(let t=10;t<e.length;t++){const r=e[t],o=r[1];Jc(r)&&oh(o,r,o.template,r[8])}}(e),null!==n.contentQueries&&SC(n,e),s){const f=n.contentCheckHooks;null!==f&&Op(e,f)}else{const f=n.contentHooks;null!==f&&Np(e,f,1),gg(e,1)}!function GA(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const o=t[r];if(o<0)dc(~o);else{const i=o,s=t[++r],a=t[++r];bo(s,i),a(2,e[i])}}}finally{dc(-1)}}(n,e);const a=n.components;null!==a&&function zA(n,e){for(let t=0;t<e.length;t++)pP(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&Ey(2,u,r),s){const f=n.viewCheckHooks;null!==f&&Op(e,f)}else{const f=n.viewHooks;null!==f&&Np(e,f,2),gg(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Md(e[3],-1))}finally{mg()}}}function EC(n,e,t,r,o){const i=Gi(),s=2&r;try{dc(-1),s&&e.length>22&&uC(n,e,22,!1),t(r,o)}finally{dc(i)}}function my(n,e,t){if(Xc(e)){const o=e.directiveEnd;for(let i=e.directiveStart;i<o;i++){const s=n.data[i];s.contentQueries&&s.contentQueries(1,t[i],i)}}}function gy(n,e,t){Fr()&&(function tP(n,e,t,r){const o=t.directiveStart,i=t.directiveEnd;Pl(t)&&function lP(n,e,t){const r=Hi(e,n),o=DC(t),i=n[10],s=ih(n,rh(n,o,null,t.onPush?32:16,r,e,i,i.createRenderer(r,t),null,null,null));n[e.index]=s}(e,t,n.data[o+t.componentOffset]),n.firstCreatePass||Vp(t,e),Ri(r,e);const s=t.initialInputs;for(let a=o;a<i;a++){const u=n.data[a],f=fc(e,n,a,t);Ri(f,e),null!==s&&cP(0,a-o,f,u,0,s),ds(u)&&(To(t.index,e)[8]=fc(e,n,a,t))}}(n,e,t,Hi(t,e)),64==(64&t.flags)&&AC(n,e,t))}function yy(n,e,t=Hi){const r=e.localNames;if(null!==r){let o=e.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],a=-1===s?t(e,n):n[s];n[o++]=a}}}function DC(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=_y(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function _y(n,e,t,r,o,i,s,a,u,f){const m=22+r,_=m+o,k=function ZA(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Ln);return t}(m,_),M="function"==typeof f?f():f;return k[1]={type:n,blueprint:k,template:t,queries:null,viewQuery:a,declTNode:e,data:k.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:M,incompleteFirstPass:!1}}function IC(n,e,t,r){const o=RC(e);null===t?o.push(r):(o.push(t),n.firstCreatePass&&FC(n).push(r,o.length-1))}function kC(n,e,t,r){for(let o in n)if(n.hasOwnProperty(o)){t=null===t?{}:t;const i=n[o];null===r?TC(t,e,o,i):r.hasOwnProperty(o)&&TC(t,e,r[o],i)}return t}function TC(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function ks(n,e,t,r,o,i,s,a){const u=Hi(e,t);let m,f=e.inputs;!a&&null!=f&&(m=f[r])?(Dy(n,t,m,r,o),Pl(e)&&MC(t,e.index)):3&e.type&&(r=function XA(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),o=null!=s?s(o,e.value||"",r):o,i.setProperty(u,r,o))}function MC(n,e){const t=To(e,n);16&t[2]||(t[2]|=32)}function vy(n,e,t,r){let o=!1;if(Fr()){const i=null===r?null:{"":-1},s=function rP(n,e){const t=n.directiveRegistry;let r=null,o=null;if(t)for(let i=0;i<t.length;i++){const s=t[i];if(lC(e,s.selectors,!1))if(r||(r=[]),ds(s))if(null!==s.findHostDirectiveDefs){const a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),r.unshift(...a,s),by(n,e,a.length)}else r.unshift(s),by(n,e,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,r,o),r.push(s)}return null===r?null:[r,o]}(n,t);let a,u;null===s?a=u=null:[a,u]=s,null!==a&&(o=!0,xC(n,e,t,a,i,u)),i&&function oP(n,e,t){if(e){const r=n.localNames=[];for(let o=0;o<e.length;o+=2){const i=t[e[o+1]];if(null==i)throw new xe(-301,!1);r.push(e[o],i)}}}(t,r,i)}return t.mergedAttrs=Ad(t.mergedAttrs,t.attrs),o}function xC(n,e,t,r,o,i){for(let f=0;f<r.length;f++)wg(Vp(t,e),n,r[f].type);!function sP(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let f=0;f<r.length;f++){const m=r[f];m.providersResolver&&m.providersResolver(m)}let s=!1,a=!1,u=zd(n,e,r.length,null);for(let f=0;f<r.length;f++){const m=r[f];t.mergedAttrs=Ad(t.mergedAttrs,m.hostAttrs),aP(n,t,e,u,m),iP(u,m,o),null!==m.contentQueries&&(t.flags|=4),(null!==m.hostBindings||null!==m.hostAttrs||0!==m.hostVars)&&(t.flags|=64);const _=m.type.prototype;!s&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),s=!0),!a&&(_.ngOnChanges||_.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),a=!0),u++}!function YA(n,e,t){const o=e.directiveEnd,i=n.data,s=e.attrs,a=[];let u=null,f=null;for(let m=e.directiveStart;m<o;m++){const _=i[m],k=t?t.get(_):null,Y=k?k.outputs:null;u=kC(_.inputs,m,u,k?k.inputs:null),f=kC(_.outputs,m,f,Y);const Se=null===u||null===s||aC(e)?null:uP(u,m,s);a.push(Se)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=f}(n,t,i)}function AC(n,e,t){const r=t.directiveStart,o=t.directiveEnd,i=t.index,s=function fs(){return kt.lFrame.currentDirectiveIndex}();try{dc(i);for(let a=r;a<o;a++){const u=n.data[a],f=e[a];Yo(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&nP(u,f)}}finally{dc(-1),Yo(s)}}function nP(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function by(n,e,t){e.componentOffset=t,(n.components||(n.components=[])).push(e.index)}function iP(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ds(e)&&(t[""]=n)}}function aP(n,e,t,r,o){n.data[r]=o;const i=o.factory||(o.factory=ya(o.type)),s=new xd(i,ds(o),C);n.blueprint[r]=s,t[r]=s,function JA(n,e,t,r,o){const i=o.hostBindings;if(i){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function eP(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,i)}}(n,e,r,zd(n,t,o.hostVars,Ln),o)}function wa(n,e,t,r,o,i){const s=Hi(n,e);!function Cy(n,e,t,r,o,i,s){if(null==i)n.removeAttribute(e,o,t);else{const a=null==s?wt(i):s(i,r||"",o);n.setAttribute(e,o,a,t)}}(e[v],s,i,n.value,t,r,o)}function cP(n,e,t,r,o,i){const s=i[e];if(null!==s){const a=r.setInput;for(let u=0;u<s.length;){const f=s[u++],m=s[u++],_=s[u++];null!==a?r.setInput(t,_,f,m):t[m]=_}}}function uP(n,e,t){let r=null,o=0;for(;o<t.length;){const i=t[o];if(0!==i)if(5!==i){if("number"==typeof i)break;if(n.hasOwnProperty(i)){null===r&&(r=[]);const s=n[i];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(i,s[a+1],t[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function PC(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function pP(n,e){const t=To(e,n);if(Jc(t)){const r=t[1];48&t[2]?oh(r,t,r.template,t[8]):t[5]>0&&wy(t)}}function wy(n){for(let r=Lg(n);null!==r;r=$g(r))for(let o=10;o<r.length;o++){const i=r[o];if(Jc(i))if(512&i[2]){const s=i[1];oh(s,i,s.template,i[8])}else i[5]>0&&wy(i)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const o=To(t[r],n);Jc(o)&&o[5]>0&&wy(o)}}function hP(n,e){const t=To(e,n),r=t[1];(function mP(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),hy(r,t,t[8])}function ih(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function Sy(n){for(;n;){n[2]|=32;const e=Vd(n);if(Sp(n)&&!e)return n;n=e}return null}function sh(n,e,t,r=!0){const o=e[10];o.begin&&o.begin();try{oh(n,e,n.template,t)}catch(s){throw r&&NC(e,s),s}finally{o.end&&o.end()}}function Ey(n,e,t){Co(0),e(n,t)}function RC(n){return n[7]||(n[7]=[])}function FC(n){return n.cleanup||(n.cleanup=[])}function NC(n,e){const t=n[9],r=t?t.get(fu,null):null;r&&r.handleError(e)}function Dy(n,e,t,r,o){for(let i=0;i<t.length;){const s=t[i++],a=t[i++],u=e[s],f=n.data[s];null!==f.setInput?f.setInput(u,o,r,a):u[a]=o}}function nl(n,e,t){const r=Xa(e,n);!function yb(n,e,t){n.setValue(e,t)}(n[v],r,t)}function ah(n,e,t){let r=t?n.styles:null,o=t?n.classes:null,i=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?i=a:1==i?o=me(o,a):2==i&&(r=me(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=o:n.classesWithoutHost=o}function lh(n,e,t,r,o=!1){for(;null!==t;){const i=e[t.index];if(null!==i&&r.push(ai(i)),mr(i))for(let a=10;a<i.length;a++){const u=i[a],f=u[1].firstChild;null!==f&&lh(u[1],u,f,r)}const s=t.type;if(8&s)lh(n,e,t.child,r);else if(32&s){const a=Ng(t,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=Tb(e,t);if(Array.isArray(a))r.push(...a);else{const u=Vd(e[16]);lh(u[1],u,a,r,!0)}}t=o?t.projectionNext:t.next}return r}class Wd{get rootNodes(){const e=this._lView,t=e[1];return lh(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(mr(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Ug(e,r),jp(t,r))}this._attachedToViewContainer=!1}vb(this._lView[1],this._lView)}onDestroy(e){IC(this._lView[1],this._lView,null,e)}markForCheck(){Sy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){sh(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function JM(n,e){Ud(n,e,e[v],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new xe(902,!1);this._appRef=e}}class gP extends Wd{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;sh(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class LC extends Ja{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=cr(e);return new Zd(t,this.ngModule)}}function $C(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class _P{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Wr(r);const o=this.injector.get(e,sy,r);return o!==sy||t===sy?o:this.parentInjector.get(e,t,r)}}class Zd extends tC{get inputs(){return $C(this.componentDef.inputs)}get outputs(){return $C(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function EA(n){return n.map(SA).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,o){let i=(o=o||this.ngModule)instanceof Ca?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const s=i?new _P(e,i):e,a=s.get(rC,null);if(null===a)throw new xe(407,!1);const u=s.get(rA,null),f=a.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",_=r?function qA(n,e,t){return n.selectRootElement(e,t===Ai.ShadowDom)}(f,r,this.componentDef.encapsulation):Vg(f,m,function yP(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(m)),k=this.componentDef.onPush?288:272,M=_y(0,null,null,1,0,null,null,null,null,null),Y=rh(null,M,null,k,null,null,a,f,u,s,null);let Se,Ge;fo(Y);try{const Ke=this.componentDef;let bt,Le=null;Ke.findHostDirectiveDefs?(bt=[],Le=new Map,Ke.findHostDirectiveDefs(Ke,bt,Le),bt.push(Ke)):bt=[Ke];const $t=function bP(n,e){const t=n[1];return n[22]=e,mu(t,22,2,"#host",null)}(Y,_),In=function CP(n,e,t,r,o,i,s,a){const u=o[1];!function wP(n,e,t,r){for(const o of n)e.mergedAttrs=Ad(e.mergedAttrs,o.hostAttrs);null!==e.mergedAttrs&&(ah(e,e.mergedAttrs,!0),null!==t&&Ab(r,t,e))}(r,n,e,s);const f=i.createRenderer(e,t),m=rh(o,DC(t),null,t.onPush?32:16,o[n.index],n,i,f,a||null,null,null);return u.firstCreatePass&&by(u,n,r.length-1),ih(o,m),o[n.index]=m}($t,_,Ke,bt,Y,a,f);Ge=Td(M,22),_&&function EP(n,e,t,r){if(r)_g(n,t,["ng-version",oA.full]);else{const{attrs:o,classes:i}=function DA(n){const e=[],t=[];let r=1,o=2;for(;r<n.length;){let i=n[r];if("string"==typeof i)2===o?""!==i&&e.push(i,n[++r]):8===o&&t.push(i);else{if(!ea(o))break;o=i}r++}return{attrs:e,classes:t}}(e.selectors[0]);o&&_g(n,t,o),i&&i.length>0&&xb(n,t,i.join(" "))}}(f,Ke,_,r),void 0!==t&&function DP(n,e,t){const r=n.projection=[];for(let o=0;o<e.length;o++){const i=t[o];r.push(null!=i?Array.from(i):null)}}(Ge,this.ngContentSelectors,t),Se=function SP(n,e,t,r,o,i){const s=jt(),a=o[1],u=Hi(s,o);xC(a,o,s,t,null,r);for(let m=0;m<t.length;m++)Ri(fc(o,a,s.directiveStart+m,s),o);AC(a,o,s),u&&Ri(u,o);const f=fc(o,a,s.directiveStart+s.componentOffset,s);if(n[8]=o[8]=f,null!==i)for(const m of i)m(f,e);return my(a,s,n),f}(In,Ke,bt,Le,Y,[IP]),hy(M,Y,null)}finally{mg()}return new vP(this.componentType,Se,du(Ge,Y),Y,Ge)}}class vP extends Xx{constructor(e,t,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.instance=t,this.hostView=this.changeDetectorRef=new gP(o),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[e])){const i=this._rootLView;Dy(i[1],i,o,e,t),MC(i,this._tNode.index)}}get injector(){return new tu(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function IP(){const n=jt();Fp(at()[1],n)}function yr(n){let e=function BC(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let o;if(ds(n))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new xe(903,!1);o=e.\u0275dir}if(o){if(t){r.push(o);const s=n;s.inputs=Iy(n.inputs),s.declaredInputs=Iy(n.declaredInputs),s.outputs=Iy(n.outputs);const a=o.hostBindings;a&&xP(n,a);const u=o.viewQuery,f=o.contentQueries;if(u&&TP(n,u),f&&MP(n,f),x(n.inputs,o.inputs),x(n.declaredInputs,o.declaredInputs),x(n.outputs,o.outputs),ds(o)&&o.data.animation){const m=n.data;m.animation=(m.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(n),a===yr&&(t=!1)}}e=Object.getPrototypeOf(e)}!function kP(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const o=n[r];o.hostVars=e+=o.hostVars,o.hostAttrs=Ad(o.hostAttrs,t=Ad(t,o.hostAttrs))}}(r)}function Iy(n){return n===Vi?{}:n===nr?[]:n}function TP(n,e){const t=n.viewQuery;n.viewQuery=t?(r,o)=>{e(r,o),t(r,o)}:e}function MP(n,e){const t=n.contentQueries;n.contentQueries=t?(r,o,i)=>{e(r,o,i),t(r,o,i)}:e}function xP(n,e){const t=n.hostBindings;n.hostBindings=t?(r,o)=>{e(r,o),t(r,o)}:e}let ch=null;function _c(){if(!ch){const n=p.Symbol;if(n&&n.iterator)ch=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(ch=r)}}}return ch}function uh(n){return!!function ky(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&_c()in n)}function Fi(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function vc(n,e,t,r){const o=Fi(n,e,t);return Fi(n,e+1,r)||o}function Ea(n,e,t,r){const o=at();return Fi(o,jn(),e)&&(En(),wa(po(),o,n,e,t,r)),Ea}function yu(n,e,t,r){return Fi(n,jn(),t)?e+wt(t)+r:Ln}function vu(n,e,t,r,o,i,s,a){const f=function dh(n,e,t,r,o){const i=vc(n,e,t,r);return Fi(n,e+2,o)||i}(n,sn(),t,o,s);return Xt(3),f?e+wt(t)+r+wt(o)+i+wt(s)+a:Ln}function nn(n,e,t,r,o,i,s,a){const u=at(),f=En(),m=n+22,_=f.firstCreatePass?function VP(n,e,t,r,o,i,s,a,u){const f=e.consts,m=mu(e,n,4,s||null,_a(f,a));vy(e,t,m,_a(f,u)),Fp(e,m);const _=m.tViews=_y(2,m,r,o,i,e.directiveRegistry,e.pipeRegistry,null,e.schemas,f);return null!==e.queries&&(e.queries.template(e,m),_.queries=e.queries.embeddedTView(m)),m}(m,f,u,e,t,r,o,i,s):f.data[m];b(_,!1);const k=u[v].createComment("");Zp(f,u,k,_),Ri(k,u),ih(u,u[m]=PC(k,u,k,_)),uc(_)&&gy(f,u,_),null!=s&&yy(u,_,a)}function Ts(n){return Rr(function ve(){return kt.lFrame.contextLView}(),22+n)}function rt(n,e,t){const r=at();return Fi(r,jn(),e)&&ks(En(),po(),r,n,e,r[v],t,!1),rt}function Ty(n,e,t,r,o){const s=o?"class":"style";Dy(n,t,e.inputs[s],s,r)}function se(n,e,t,r){const o=at(),i=En(),s=22+n,a=o[v],u=o[s]=Vg(a,e,function QT(){return kt.lFrame.currentNamespace}()),f=i.firstCreatePass?function jP(n,e,t,r,o,i,s){const a=e.consts,f=mu(e,n,2,o,_a(a,i));return vy(e,t,f,_a(a,s)),null!==f.attrs&&ah(f,f.attrs,!1),null!==f.mergedAttrs&&ah(f,f.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,f),f}(s,i,o,0,e,t,r):i.data[s];return b(f,!0),Ab(a,u,f),32!=(32&f.flags)&&Zp(i,o,u,f),0===function et(){return kt.lFrame.elementDepthCount}()&&Ri(u,o),function ro(){kt.lFrame.elementDepthCount++}(),uc(f)&&(gy(i,o,f),my(i,f,o)),null!==r&&yy(o,f),se}function J(){let n=jt();T()?U():(n=n.parent,b(n,!1));const e=n;!function sr(){kt.lFrame.elementDepthCount--}();const t=En();return t.firstCreatePass&&(Fp(t,n),Xc(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function nM(n){return 0!=(8&n.flags)}(e)&&Ty(t,e,at(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function rM(n){return 0!=(16&n.flags)}(e)&&Ty(t,e,at(),e.stylesWithoutHost,!1),J}function ct(n,e,t,r){return se(n,e,t,r),J(),ct}function Kd(n,e,t){const r=at(),o=En(),i=n+22,s=o.firstCreatePass?function HP(n,e,t,r,o){const i=e.consts,s=_a(i,r),a=mu(e,n,8,"ng-container",s);return null!==s&&ah(a,s,!0),vy(e,t,a,_a(i,o)),null!==e.queries&&e.queries.elementStart(e,a),a}(i,o,r,e,t):o.data[i];b(s,!0);const a=r[i]=r[v].createComment("");return Zp(o,r,a,s),Ri(a,r),uc(s)&&(gy(o,r,s),my(o,s,r)),null!=t&&yy(r,s),Kd}function Yd(){let n=jt();const e=En();return T()?U():(n=n.parent,b(n,!1)),e.firstCreatePass&&(Fp(e,n),Xc(n)&&e.queries.elementEnd(n)),Yd}function kr(){return at()}function Xd(n){return!!n&&"function"==typeof n.then}function QC(n){return!!n&&"function"==typeof n.subscribe}const My=QC;function st(n,e,t,r){const o=at(),i=En(),s=jt();return function ew(n,e,t,r,o,i,s){const a=uc(r),f=n.firstCreatePass&&FC(n),m=e[8],_=RC(e);let k=!0;if(3&r.type||s){const Se=Hi(r,e),Ge=s?s(Se):Se,Ke=_.length,bt=s?$t=>s(ai($t[r.index])):r.index;let Le=null;if(!s&&a&&(Le=function GP(n,e,t,r){const o=n.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===t&&o[i+1]===r){const a=e[7],u=o[i+2];return a.length>u?a[u]:null}"string"==typeof s&&(i+=2)}return null}(n,e,o,r.index)),null!==Le)(Le.__ngLastListenerFn__||Le).__ngNextListenerFn__=i,Le.__ngLastListenerFn__=i,k=!1;else{i=nw(r,e,m,i,!1);const $t=t.listen(Ge,o,i);_.push(i,$t),f&&f.push(o,bt,Ke,Ke+1)}}else i=nw(r,e,m,i,!1);const M=r.outputs;let Y;if(k&&null!==M&&(Y=M[o])){const Se=Y.length;if(Se)for(let Ge=0;Ge<Se;Ge+=2){const In=e[Y[Ge]][Y[Ge+1]].subscribe(i),Wn=_.length;_.push(i,In),f&&f.push(o,r.index,Wn,-(Wn+1))}}}(i,o,o[v],s,n,e,r),st}function tw(n,e,t,r){try{return!1!==t(r)}catch(o){return NC(n,o),!1}}function nw(n,e,t,r,o){return function i(s){if(s===Function)return r;Sy(n.componentOffset>-1?To(n.index,e):e);let u=tw(e,0,r,s),f=i.__ngNextListenerFn__;for(;f;)u=tw(e,0,f,s)&&u,f=f.__ngNextListenerFn__;return o&&!1===u&&(s.preventDefault(),s.returnValue=!1),u}}function Vt(n=1){return function WT(n){return(kt.lFrame.contextLView=function ZT(n,e){for(;n>0;)e=e[15],n--;return e}(n,kt.lFrame.contextLView))[8]}(n)}function zP(n,e){let t=null;const r=function vA(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let o=0;o<e.length;o++){const i=e[o];if("*"!==i){if(null===r?lC(n,i,!0):wA(r,i))return o}else t=o}return t}function Nt(n){const e=at()[16][6];if(!e.projection){const r=e.projection=Fd(n?n.length:1,null),o=r.slice();let i=e.child;for(;null!==i;){const s=n?zP(i,n):0;null!==s&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i),i=i.next}}}function Rt(n,e=0,t){const r=at(),o=En(),i=mu(o,22+n,16,null,t||null);null===i.projection&&(i.projection=e),U(),32!=(32&i.flags)&&function ax(n,e,t){Mb(e[v],0,e,t,bb(n,t,e),Eb(t.parent||e[6],t,e))}(o,r,i)}function ph(n,e,t,r,o){const i=at(),s=yu(i,e,t,r);return s!==Ln&&ks(En(),po(),i,n,s,i[v],o,!1),ph}function hh(n,e){return n<<17|e<<2}function Rl(n){return n>>17&32767}function xy(n){return 2|n}function bc(n){return(131068&n)>>2}function Ay(n,e){return-131069&n|e<<2}function Py(n){return 1|n}function fw(n,e,t,r,o){const i=n[t+1],s=null===e;let a=r?Rl(i):bc(i),u=!1;for(;0!==a&&(!1===u||s);){const m=n[a+1];XP(n[a],e)&&(u=!0,n[a+1]=r?Py(m):xy(m)),a=r?Rl(m):bc(m)}u&&(n[t+1]=r?xy(i):Py(i))}function XP(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&au(n,e)>=0}function Qd(n,e,t){return ta(n,e,t,!1),Qd}function rl(n,e){return ta(n,e,null,!0),rl}function ta(n,e,t,r){const o=at(),i=En(),s=Xt(2);i.firstUpdatePass&&function bw(n,e,t,r){const o=n.data;if(null===o[t+1]){const i=o[Gi()],s=function vw(n,e){return e>=n.expandoStartIndex}(n,t);(function Ew(n,e){return 0!=(n.flags&(e?8:16))})(i,r)&&null===e&&!s&&(e=!1),e=function sR(n,e,t,r){const o=function vt(n){const e=kt.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let i=r?e.residualClasses:e.residualStyles;if(null===o)0===(r?e.classBindings:e.styleBindings)&&(t=Jd(t=Ry(null,n,e,t,r),e.attrs,r),i=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==o)if(t=Ry(o,n,e,t,r),null===i){let u=function aR(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==bc(r))return n[Rl(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=Ry(null,n,e,u[1],r),u=Jd(u,e.attrs,r),function lR(n,e,t,r){n[Rl(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else i=function cR(n,e,t){let r;const o=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<o;i++)r=Jd(r,n[i].hostAttrs,t);return Jd(r,e.attrs,t)}(n,e,r)}return void 0!==i&&(r?e.residualClasses=i:e.residualStyles=i),t}(o,i,e,r),function KP(n,e,t,r,o,i){let s=i?e.classBindings:e.styleBindings,a=Rl(s),u=bc(s);n[r]=t;let m,f=!1;if(Array.isArray(t)?(m=t[1],(null===m||au(t,m)>0)&&(f=!0)):m=t,o)if(0!==u){const k=Rl(n[a+1]);n[r+1]=hh(k,a),0!==k&&(n[k+1]=Ay(n[k+1],r)),n[a+1]=function ZP(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=hh(a,0),0!==a&&(n[a+1]=Ay(n[a+1],r)),a=r;else n[r+1]=hh(u,0),0===a?a=r:n[u+1]=Ay(n[u+1],r),u=r;f&&(n[r+1]=xy(n[r+1])),fw(n,m,r,!0),fw(n,m,r,!1),function YP(n,e,t,r,o){const i=o?n.residualClasses:n.residualStyles;null!=i&&"string"==typeof e&&au(i,e)>=0&&(t[r+1]=Py(t[r+1]))}(e,m,n,r,i),s=hh(a,u),i?e.classBindings=s:e.styleBindings=s}(o,i,e,t,s,r)}}(i,n,s,r),e!==Ln&&Fi(o,s,e)&&function ww(n,e,t,r,o,i,s,a){if(!(3&e.type))return;const u=n.data,f=u[a+1],m=function qP(n){return 1==(1&n)}(f)?Sw(u,e,t,o,bc(f),s):void 0;mh(m)||(mh(i)||function WP(n){return 2==(2&n)}(f)&&(i=Sw(u,null,t,o,a,s)),function cx(n,e,t,r,o){if(e)o?n.addClass(t,r):n.removeClass(t,r);else{let i=-1===r.indexOf("-")?void 0:hs.DashCase;null==o?n.removeStyle(t,r,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=hs.Important),n.setStyle(t,r,o,i))}}(r,s,Xa(Gi(),t),o,i))}(i,i.data[Gi()],o,o[v],n,o[s+1]=function fR(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=N(Is(n)))),n}(e,t),r,s)}function Ry(n,e,t,r,o){let i=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(i=e[a],r=Jd(r,i.hostAttrs,o),i!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Jd(n,e,t){const r=t?1:2;let o=-1;if(null!==e)for(let i=0;i<e.length;i++){const s=e[i];"number"==typeof s?o=s:o===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ds(n,s,!!t||e[++i]))}return void 0===n?null:n}function Sw(n,e,t,r,o,i){const s=null===e;let a;for(;o>0;){const u=n[o],f=Array.isArray(u),m=f?u[1]:u,_=null===m;let k=t[o+1];k===Ln&&(k=_?nr:void 0);let M=_?Ig(k,r):m===r?k:void 0;if(f&&!mh(M)&&(M=Ig(u,r)),mh(M)&&(a=M,s))return a;const Y=n[o+1];o=s?Rl(Y):bc(Y)}if(null!==e){let u=i?e.residualClasses:e.residualStyles;null!=u&&(a=Ig(u,r))}return a}function mh(n){return void 0!==n}function qe(n,e=""){const t=at(),r=En(),o=n+22,i=r.firstCreatePass?mu(r,o,1,e,null):r.data[o],s=t[o]=function Bg(n,e){return n.createText(e)}(t[v],e);Zp(r,t,s,i),b(i,!1)}function Ms(n){return Oi("",n,""),Ms}function Oi(n,e,t){const r=at(),o=yu(r,n,e,t);return o!==Ln&&nl(r,Gi(),o),Oi}function ef(n,e,t,r,o){const i=at(),s=function _u(n,e,t,r,o,i){const a=vc(n,sn(),t,o);return Xt(2),a?e+wt(t)+r+wt(o)+i:Ln}(i,n,e,t,r,o);return s!==Ln&&nl(i,Gi(),s),ef}function Fy(n,e,t,r,o,i,s){const a=at(),u=vu(a,n,e,t,r,o,i,s);return u!==Ln&&nl(a,Gi(),u),Fy}const ku="en-US";let Gw=ku;function Ly(n,e,t,r,o){if(n=R(n),Array.isArray(n))for(let i=0;i<n.length;i++)Ly(n[i],e,t,r,o);else{const i=En(),s=at();let a=yc(n)?n:R(n.provide),u=eC(n);const f=jt(),m=1048575&f.providerIndexes,_=f.directiveStart,k=f.providerIndexes>>20;if(yc(n)||!n.multi){const M=new xd(u,o,C),Y=By(a,e,o?m:m+k,_);-1===Y?(wg(Vp(f,s),i,a),$y(i,n,e.length),e.push(a),f.directiveStart++,f.directiveEnd++,o&&(f.providerIndexes+=1048576),t.push(M),s.push(M)):(t[Y]=M,s[Y]=M)}else{const M=By(a,e,m+k,_),Y=By(a,e,m,m+k),Ge=Y>=0&&t[Y];if(o&&!Ge||!o&&!(M>=0&&t[M])){wg(Vp(f,s),i,a);const Ke=function xF(n,e,t,r,o){const i=new xd(n,t,C);return i.multi=[],i.index=e,i.componentProviders=0,mS(i,o,r&&!t),i}(o?MF:TF,t.length,o,r,u);!o&&Ge&&(t[Y].providerFactory=Ke),$y(i,n,e.length,0),e.push(a),f.directiveStart++,f.directiveEnd++,o&&(f.providerIndexes+=1048576),t.push(Ke),s.push(Ke)}else $y(i,n,M>-1?M:Y,mS(t[o?Y:M],u,!o&&r));!o&&r&&Ge&&t[Y].componentProviders++}}}function $y(n,e,t,r){const o=yc(e),i=function Gx(n){return!!n.useClass}(e);if(o||i){const u=(i?R(e.useClass):e).prototype.ngOnDestroy;if(u){const f=n.destroyHooks||(n.destroyHooks=[]);if(!o&&e.multi){const m=f.indexOf(t);-1===m?f.push(t,[r,u]):f[m+1].push(r,u)}else f.push(t,u)}}}function mS(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function By(n,e,t,r){for(let o=t;o<r;o++)if(e[o]===n)return o;return-1}function TF(n,e,t,r){return Vy(this.multi,[])}function MF(n,e,t,r){const o=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=fc(t,t[1],this.providerFactory.index,r);i=a.slice(0,s),Vy(o,i);for(let u=s;u<a.length;u++)i.push(a[u])}else i=[],Vy(o,i);return i}function Vy(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Or(n,e=[]){return t=>{t.providersResolver=(r,o)=>function kF(n,e,t){const r=En();if(r.firstCreatePass){const o=ds(n);Ly(t,r.data,r.blueprint,o,!0),Ly(e,r.data,r.blueprint,o,!1)}}(r,o?o(n):n,e)}}class Tu{}class gS{}class yS extends Tu{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new LC(this);const r=vn(e);this._bootstrapComponents=tl(r.bootstrap),this._r3Injector=mC(e,t,[{provide:Tu,useValue:this},{provide:Ja,useValue:this.componentFactoryResolver}],N(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Uy extends gS{constructor(e){super(),this.moduleType=e}create(e){return new yS(this.moduleType,e)}}class PF extends Tu{constructor(e,t,r){super(),this.componentFactoryResolver=new LC(this),this.instance=null;const o=new Jb([...e,{provide:Tu,useValue:this},{provide:Ja,useValue:this.componentFactoryResolver}],t||th(),r,new Set(["environment"]));this.injector=o,o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function bh(n,e,t=null){return new PF(n,e,t).injector}let RF=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=Kb(0,t.type),o=r.length>0?bh([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,o)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=ht({token:n,providedIn:"environment",factory:()=>new n(ee(Ca))}),n})();function _S(n){n.getStandaloneInjector=e=>e.get(RF).getOrCreateStandaloneInjector(n)}function DS(n,e,t,r,o,i){const s=e+t;return Fi(n,s,o)?function Sa(n,e,t){return n[e]=t}(n,s+1,i?r.call(i,o):r(o)):function lf(n,e){const t=n[e];return t===Ln?void 0:t}(n,s+1)}function ka(n,e){const t=En();let r;const o=n+22;t.firstCreatePass?(r=function QF(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[o]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(o,r.onDestroy)):r=t.data[o];const i=r.factory||(r.factory=ya(r.type)),s=lr(C);try{const a=Bp(!1),u=i();return Bp(a),function UP(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,at(),o,u),u}finally{lr(s)}}function Ta(n,e,t){const r=n+22,o=at(),i=Rr(o,r);return function cf(n,e){return n[1].data[e].pure}(o,r)?DS(o,function _t(){const n=kt.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),e,i.transform,t,i):i.transform(t)}function Hy(n){return e=>{setTimeout(n,void 0,e)}}const Mn=class r2 extends tt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let o=e,i=t||(()=>null),s=r;if(e&&"object"==typeof e){const u=e;o=u.next?.bind(u),i=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(i=Hy(i),o&&(o=Hy(o)),s&&(s=Hy(s)));const a=super.subscribe({next:o,error:i,complete:s});return e instanceof z&&e.add(a),a}};function o2(){return this._results[_c()]()}class Gy{get changes(){return this._changes||(this._changes=new Mn)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=_c(),r=Gy.prototype;r[t]||(r[t]=o2)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const o=function Vs(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function pM(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let o=n[r],i=e[r];if(t&&(o=t(o),i=t(i)),i!==o)return!1}return!0}(r._results,o,t))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let gs=(()=>{class n{}return n.__NG_ELEMENT_ID__=a2,n})();const i2=gs,s2=class extends i2{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,o=rh(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);o[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(o[19]=s.createEmbeddedView(r)),hy(r,o,e),new Wd(o)}};function a2(){return Ch(jt(),at())}function Ch(n,e){return 4&n.type?new s2(e,n,du(n,e)):null}let Ni=(()=>{class n{}return n.__NG_ELEMENT_ID__=l2,n})();function l2(){return PS(jt(),at())}const c2=Ni,xS=class extends c2{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return du(this._hostTNode,this._hostLView)}get injector(){return new tu(this._hostTNode,this._hostLView)}get parentInjector(){const e=Cg(this._hostTNode,this._hostLView);if(L0(e)){const t=$p(e,this._hostLView),r=Lp(e);return new tu(t[1].data[r+8],t)}return new tu(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=AS(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const s=e.createEmbeddedView(t||{},i);return this.insert(s,o),s}createComponent(e,t,r,o,i){const s=e&&!function Rd(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const _=t||{};a=_.index,r=_.injector,o=_.projectableNodes,i=_.environmentInjector||_.ngModuleRef}const u=s?e:new Zd(cr(e)),f=r||this.parentInjector;if(!i&&null==u.ngModule){const k=(s?f:this.parentInjector).get(Ca,null);k&&(i=k)}const m=u.create(f,o,void 0,i);return this.insert(m.hostView,a),m}insert(e,t){const r=e._lView,o=r[1];if(function hg(n){return mr(n[3])}(r)){const m=this.indexOf(e);if(-1!==m)this.detach(m);else{const _=r[3],k=new xS(_,_[6],_[3]);k.detach(k.indexOf(e))}}const i=this._adjustIndex(t),s=this._lContainer;!function tx(n,e,t,r){const o=10+r,i=t.length;r>0&&(t[o-1][4]=e),r<i-10?(e[4]=t[o],K0(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const s=e[17];null!==s&&t!==s&&function nx(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(o,r,s,i);const a=Gg(i,s),u=r[v],f=Wp(u,s[7]);return null!==f&&function QM(n,e,t,r,o,i){r[0]=o,r[6]=e,Ud(n,r,t,1,o,i)}(o,s[6],u,r,f,a),e.attachToViewContainerRef(),K0(zy(s),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=AS(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Ug(this._lContainer,t);r&&(jp(zy(this._lContainer),t),vb(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=Ug(this._lContainer,t);return r&&null!=jp(zy(this._lContainer),t)?new Wd(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function AS(n){return n[8]}function zy(n){return n[8]||(n[8]=[])}function PS(n,e){let t;const r=e[n.index];if(mr(r))t=r;else{let o;if(8&n.type)o=ai(r);else{const i=e[v];o=i.createComment("");const s=Hi(n,e);hc(i,Wp(i,s),o,function sx(n,e){return n.nextSibling(e)}(i,s),!1)}e[n.index]=t=PC(r,e,o,n),ih(e,t)}return new xS(t,n,e)}class Wy{constructor(e){this.queryList=e,this.matches=null}clone(){return new Wy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Zy{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,o=[];for(let i=0;i<r;i++){const s=t.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new Zy(o)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==LS(e,t).matches&&this.queries[t].setDirty()}}class RS{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class qy{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const o=null!==t?t.length:0,i=this.getByIndex(r).embeddedTView(e,o);i&&(i.indexInDeclarationView=r,null!==t?t.push(i):t=[i])}return null!==t?new qy(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Ky{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Ky(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const i=r[o];this.matchTNodeWithReadOption(e,t,u2(t,i)),this.matchTNodeWithReadOption(e,t,Up(t,e,i,!1,!1))}else r===gs?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Up(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===gt||o===Ni||o===gs&&4&t.type)this.addMatch(t.index,-2);else{const i=Up(t,e,o,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function u2(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function f2(n,e,t,r){return-1===t?function d2(n,e){return 11&n.type?du(n,e):4&n.type?Ch(n,e):null}(e,n):-2===t?function p2(n,e,t){return t===gt?du(e,n):t===gs?Ch(e,n):t===Ni?PS(e,n):void 0}(n,e,r):fc(n,n[1],t,e)}function FS(n,e,t,r){const o=e[19].queries[r];if(null===o.matches){const i=n.data,s=t.matches,a=[];for(let u=0;u<s.length;u+=2){const f=s[u];a.push(f<0?null:f2(e,i[f],s[u+1],t.metadata.read))}o.matches=a}return o.matches}function Yy(n,e,t,r){const o=n.queries.getByIndex(t),i=o.matches;if(null!==i){const s=FS(n,e,o,t);for(let a=0;a<i.length;a+=2){const u=i[a];if(u>0)r.push(s[a/2]);else{const f=i[a+1],m=e[-u];for(let _=10;_<m.length;_++){const k=m[_];k[17]===k[3]&&Yy(k[1],k,f,r)}if(null!==m[9]){const _=m[9];for(let k=0;k<_.length;k++){const M=_[k];Yy(M[1],M,f,r)}}}}}return r}function xs(n){const e=at(),t=En(),r=yn();Co(r+1);const o=LS(t,r);if(n.dirty&&function gr(n){return 4==(4&n[2])}(e)===(2==(2&o.metadata.flags))){if(null===o.matches)n.reset([]);else{const i=o.crossesNgTemplate?Yy(t,e,r,[]):FS(t,e,o,r);n.reset(i,tA),n.notifyOnChanges()}return!0}return!1}function Mu(n,e,t){const r=En();r.firstCreatePass&&(NS(r,new RS(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),OS(r,at(),e)}function As(){return function h2(n,e){return n[19].queries[e].queryList}(at(),yn())}function OS(n,e,t){const r=new Gy(4==(4&t));IC(n,e,r,r.destroy),null===e[19]&&(e[19]=new Zy),e[19].queries.push(new Wy(r))}function NS(n,e,t){null===n.queries&&(n.queries=new qy),n.queries.track(new Ky(e,t))}function LS(n,e){return n.queries.getByIndex(e)}function Sh(...n){}const wc=new an("Application Initializer");let Eh=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Sh,this.reject=Sh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let o=0;o<this.appInits.length;o++){const i=this.appInits[o]();if(Xd(i))t.push(i);else if(My(i)){const s=new Promise((a,u)=>{i.subscribe({complete:a,error:u})});t.push(s)}}Promise.all(t).then(()=>{r()}).catch(o=>{this.reject(o)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(ee(wc,8))},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const df=new an("AppId",{providedIn:"root",factory:function nE(){return`${t_()}${t_()}${t_()}`}});function t_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const rE=new an("Platform Initializer"),Pu=new an("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),oE=new an("appBootstrapListener");let N2=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const ol=new an("LocaleId",{providedIn:"root",factory:()=>_n(ol,Mt.Optional|Mt.SkipSelf)||function L2(){return typeof $localize<"u"&&$localize.locale||ku}()});class B2{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let iE=(()=>{class n{compileModuleSync(t){return new Uy(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),i=tl(vn(t).declarations).reduce((s,a)=>{const u=cr(a);return u&&s.push(new Zd(u)),s},[]);return new B2(r,i)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const j2=(()=>Promise.resolve(0))();function n_(n){typeof Zone>"u"?j2.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class dt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Mn(!1),this.onMicrotaskEmpty=new Mn(!1),this.onStable=new Mn(!1),this.onError=new Mn(!1),typeof Zone>"u")throw new xe(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&t,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function H2(){let n=p.requestAnimationFrame,e=p.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function W2(n){const e=()=>{!function z2(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(p,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,o_(n),n.isCheckStableRunning=!0,r_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),o_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,o,i,s,a)=>{try{return lE(n),t.invokeTask(o,i,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||n.shouldCoalesceRunChangeDetection)&&e(),cE(n)}},onInvoke:(t,r,o,i,s,a,u)=>{try{return lE(n),t.invoke(o,i,s,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),cE(n)}},onHasTask:(t,r,o,i)=>{t.hasTask(o,i),r===o&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,o_(n),r_(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,r,o,i)=>(t.handleError(o,i),n.runOutsideAngular(()=>n.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!dt.isInAngularZone())throw new xe(909,!1)}static assertNotInAngularZone(){if(dt.isInAngularZone())throw new xe(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,e,G2,Sh,Sh);try{return i.runTask(s,t,r)}finally{i.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const G2={};function r_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function o_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function lE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function cE(n){n._nesting--,r_(n)}class Z2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Mn,this.onMicrotaskEmpty=new Mn,this.onStable=new Mn,this.onError=new Mn}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,o){return e.apply(t,r)}}const uE=new an(""),Dh=new an("");let a_,i_=(()=>{class n{constructor(t,r,o){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,a_||(function q2(n){a_=n}(o),o.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{dt.assertNotInAngularZone(),n_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())n_(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==i),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:o})}whenStable(t,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,o){return[]}}return n.\u0275fac=function(t){return new(t||n)(ee(dt),ee(s_),ee(Dh))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})(),s_=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return a_?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Ol=null;const dE=new an("AllowMultipleToken"),l_=new an("PlatformDestroyListeners");class fE{constructor(e,t){this.name=e,this.token=t}}function hE(n,e,t=[]){const r=`Platform: ${e}`,o=new an(r);return(i=[])=>{let s=c_();if(!s||s.injector.get(dE,!1)){const a=[...t,...i,{provide:o,useValue:!0}];n?n(a):function X2(n){if(Ol&&!Ol.get(dE,!1))throw new xe(400,!1);Ol=n;const e=n.get(gE);(function pE(n){const e=n.get(rE,null);e&&e.forEach(t=>t())})(n)}(function mE(n=[],e){return ho.create({name:e,providers:[{provide:ny,useValue:"platform"},{provide:l_,useValue:new Set([()=>Ol=null])},...n]})}(a,r))}return function J2(n){const e=c_();if(!e)throw new xe(401,!1);return e}()}}function c_(){return Ol?.get(gE)??null}let gE=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const o=function _E(n,e){let t;return t="noop"===n?new Z2:("zone.js"===n?void 0:n)||new dt(e),t}(r?.ngZone,function yE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),i=[{provide:dt,useValue:o}];return o.run(()=>{const s=ho.create({providers:i,parent:this.injector,name:t.moduleType.name}),a=t.create(s),u=a.injector.get(fu,null);if(!u)throw new xe(402,!1);return o.runOutsideAngular(()=>{const f=o.onError.subscribe({next:m=>{u.handleError(m)}});a.onDestroy(()=>{Ih(this._modules,a),f.unsubscribe()})}),function vE(n,e,t){try{const r=t();return Xd(r)?r.catch(o=>{throw e.runOutsideAngular(()=>n.handleError(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,o,()=>{const f=a.injector.get(Eh);return f.runInitializers(),f.donePromise.then(()=>(function zw(n){Fo(n,"Expected localeId to be defined"),"string"==typeof n&&(Gw=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(ol,ku)||ku),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const o=bE({},r);return function K2(n,e,t){const r=new Uy(t);return Promise.resolve(r)}(0,0,t).then(i=>this.bootstrapModuleFactory(i,o))}_moduleDoBootstrap(t){const r=t.injector.get(Nl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!t.instance.ngDoBootstrap)throw new xe(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(l_,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(ee(ho))},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function bE(n,e){return Array.isArray(e)?e.reduce(bE,n):{...n,...e}}let Nl=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,o){this._zone=t,this._injector=r,this._exceptionHandler=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const i=new yt(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new yt(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{dt.assertNotInAngularZone(),n_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const f=this._zone.onUnstable.subscribe(()=>{dt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),f.unsubscribe()}});this.isStable=mi(i,s.pipe(Ss()))}bootstrap(t,r){const o=t instanceof tC;if(!this._injector.get(Eh).done)throw!o&&function Js(n){const e=cr(n)||ko(n)||Oo(n);return null!==e&&e.standalone}(t),new xe(405,false);let s;s=o?t:this._injector.get(Ja).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function Y2(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Tu),f=s.create(ho.NULL,[],r||s.selector,a),m=f.location.nativeElement,_=f.injector.get(uE,null);return _?.registerApplication(m),f.onDestroy(()=>{this.detachView(f.hostView),Ih(this.components,f),_?.unregisterApplication(m)}),this._loadComponent(f),f}tick(){if(this._runningTick)throw new xe(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Ih(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(oE,[]);r.push(...this._bootstrapListeners),r.forEach(o=>o(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Ih(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new xe(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(ee(dt),ee(Ca),ee(fu))},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ih(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let Tt=(()=>{class n{}return n.__NG_ELEMENT_ID__=tO,n})();function tO(n){return function nO(n,e,t){if(Pl(n)&&!t){const r=To(n.index,e);return new Wd(r,r)}return 47&n.type?new Wd(e[16],e):null}(jt(),at(),16==(16&n))}class DE{constructor(){}supports(e){return uh(e)}create(e){return new lO(e)}}const aO=(n,e)=>e;class lO{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||aO}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,o=0,i=null;for(;t||r;){const s=!r||t&&t.currentIndex<kE(r,o,i)?t:r,a=kE(s,o,i),u=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)o++;else{i||(i=[]);const f=a-o,m=u-o;if(f!=m){for(let k=0;k<f;k++){const M=k<i.length?i[k]:i[k]=0,Y=M+k;m<=Y&&Y<f&&(i[k]=M+1)}i[s.previousIndex]=m-f}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!uh(e))throw new xe(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let o,i,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)i=e[a],s=this._trackByFn(a,i),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,i,s,a)),Object.is(t.item,i)||this._addIdentityChange(t,i)):(t=this._mismatch(t,i,s,a),r=!0),t=t._next}else o=0,function LP(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[_c()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(o,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,o)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,o),r=!0),t=t._next,o++}),this.length=o;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,o){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,o)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,o)):e=this._addAfter(new cO(t,r),i,o),e}_verifyReinsertion(e,t,r,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?e=this._reinsertAfter(i,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const o=e._prevRemoved,i=e._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const o=null===t?this._itHead:t._next;return e._next=o,e._prev=t,null===o?this._itTail=e:o._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new IE),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new IE),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class cO{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class uO{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class IE{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new uO,this.map.set(t,r)),r.add(e)}get(e,t){const o=this.map.get(e);return o?o.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function kE(n,e,t){const r=n.previousIndex;if(null===r)return r;let o=0;return t&&r<t.length&&(o=t[r]),r+e+o}function ME(){return new ff([new DE])}let ff=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const o=r.factories.slice();t=t.concat(o)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||ME()),deps:[[n,new Nd,new Od]]}}find(t){const r=this.factories.find(o=>o.supports(t));if(null!=r)return r;throw new xe(901,!1)}}return n.\u0275prov=ht({token:n,providedIn:"root",factory:ME}),n})();const mO=hE(null,"core",[]);let gO=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(ee(Nl))},n.\u0275mod=Ar({type:n}),n.\u0275inj=wr({}),n})(),h_=null;function Ma(){return h_}class vO{}const Jo=new an("DocumentToken");let m_=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:function(){return function bO(){return ee(AE)}()},providedIn:"platform"}),n})();const CO=new an("Location Initialized");let AE=(()=>{class n extends m_{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ma().getBaseHref(this._doc)}onPopState(t){const r=Ma().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Ma().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){PE()?this._history.pushState(t,r,o):this._location.hash=o}replaceState(t,r,o){PE()?this._history.replaceState(t,r,o):this._location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(ee(Jo))},n.\u0275prov=ht({token:n,factory:function(){return function wO(){return new AE(ee(Jo))}()},providedIn:"platform"}),n})();function PE(){return!!window.history.pushState}function g_(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function RE(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function sl(n){return n&&"?"!==n[0]?"?"+n:n}let xa=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:function(){return _n(OE)},providedIn:"root"}),n})();const FE=new an("appBaseHref");let OE=(()=>{class n extends xa{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??_n(Jo).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return g_(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+sl(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,i){const s=this.prepareExternalUrl(o+sl(i));this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){const s=this.prepareExternalUrl(o+sl(i));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(ee(m_),ee(FE,8))},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NE=(()=>{class n extends xa{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=g_(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,i){let s=this.prepareExternalUrl(o+sl(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){let s=this.prepareExternalUrl(o+sl(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(ee(m_),ee(FE,8))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})(),hf=(()=>{class n{constructor(t){this._subject=new Mn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function DO(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(RE(LE(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+sl(r))}normalize(t){return n.stripTrailingSlash(function EO(n,e){return n&&new RegExp(`^${n}([/;?#]|$)`).test(e)?e.substring(n.length):e}(this._basePath,LE(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+sl(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+sl(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=sl,n.joinWithSlash=g_,n.stripTrailingSlash=RE,n.\u0275fac=function(t){return new(t||n)(ee(xa))},n.\u0275prov=ht({token:n,factory:function(){return function SO(){return new hf(ee(xa))}()},providedIn:"root"}),n})();function LE(n){return n.replace(/\/index.html$/,"")}function WE(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,i]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(i)}return null}class uN{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ec=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,i,s)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new uN(o.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===i?void 0:i);else if(null!==i){const a=r.get(i);r.move(a,s),YE(a,o)}});for(let o=0,i=r.length;o<i;o++){const a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{YE(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(C(Ni),C(gs),C(ff))},n.\u0275dir=xt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function YE(n,e){n.context.$implicit=e.item}let ui=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new fN,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){XE("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){XE("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(C(Ni),C(gs))},n.\u0275dir=xt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class fN{constructor(){this.$implicit=null,this.ngIf=null}}function XE(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${N(e)}'.`)}class k_{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let $h=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const r of this._defaultViews)r.enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=xt({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),QE=(()=>{class n{constructor(t,r,o){this.ngSwitch=o,o._addCase(),this._view=new k_(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(C(Ni),C(gs),C($h,9))},n.\u0275dir=xt({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),JE=(()=>{class n{constructor(t,r,o){o._addDefault(new k_(t,r))}}return n.\u0275fac=function(t){return new(t||n)(C(Ni),C(gs),C($h,9))},n.\u0275dir=xt({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})();class mN{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class gN{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const yN=new gN,_N=new mN;let tD=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(Xd(t))return yN;if(QC(t))return _N;throw function ia(n,e){return new xe(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(C(Tt,16))},n.\u0275pipe=co({name:"async",type:n,pure:!1,standalone:!0}),n})(),Aa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ar({type:n}),n.\u0275inj=wr({}),n})();const rD="browser";function Ll(n){return n===rD}let BN=(()=>{class n{}return n.\u0275prov=ht({token:n,providedIn:"root",factory:()=>new VN(ee(Jo),window)}),n})();class VN{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function UN(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(e)||i.querySelector(`[name="${e}"]`);if(s)return s}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=oD(this.window.history)||oD(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function oD(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class iD{}class hL extends vO{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class F_ extends hL{static makeCurrent(){!function _O(n){h_||(h_=n)}(new F_)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function mL(){return _f=_f||document.querySelector("base"),_f?_f.getAttribute("href"):null}();return null==t?null:function gL(n){Vh=Vh||document.createElement("a"),Vh.setAttribute("href",n);const e=Vh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){_f=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return WE(document.cookie,e)}}let Vh,_f=null;const uD=new an("TRANSITION_ID"),_L=[{provide:wc,useFactory:function yL(n,e,t){return()=>{t.get(Eh).donePromise.then(()=>{const r=Ma(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let i=0;i<o.length;i++)r.remove(o[i])})}},deps:[uD,Jo,ho],multi:!0}];let bL=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();const Uh=new an("EventManagerPlugins");let jh=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let i=0;i<o.length;i++){const s=o[i];if(s.supports(t))return this._eventNameToPlugin.set(t,s),s}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(ee(Uh),ee(dt))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();class dD{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=Ma().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let fD=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})(),vf=(()=>{class n extends fD{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(i=>{const s=this._doc.createElement("style");s.textContent=i,o.push(r.appendChild(s))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(pD),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(pD))}}return n.\u0275fac=function(t){return new(t||n)(ee(Jo))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();function pD(n){Ma().remove(n)}const O_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},N_=/%COMP%/g;function L_(n,e){return e.flat(100).map(t=>t.replace(N_,n))}function gD(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let $_=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new B_(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Ai.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new IL(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case Ai.ShadowDom:return new kL(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=L_(r.id,r.styles);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(ee(jh),ee(vf),ee(df))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();class B_{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(O_[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(_D(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(_D(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const i=O_[o];i?e.setAttributeNS(i,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=O_[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(hs.DashCase|hs.Important)?e.style.setProperty(t,r,o&hs.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&hs.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,gD(r)):this.eventManager.addEventListener(e,t,gD(r))}}function _D(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class IL extends B_{constructor(e,t,r,o){super(e),this.component=r;const i=L_(o+"-"+r.id,r.styles);t.addStyles(i),this.contentAttr=function SL(n){return"_ngcontent-%COMP%".replace(N_,n)}(o+"-"+r.id),this.hostAttr=function EL(n){return"_nghost-%COMP%".replace(N_,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class kL extends B_{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=L_(o.id,o.styles);for(let s=0;s<i.length;s++){const a=document.createElement("style");a.textContent=i[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let TL=(()=>{class n extends dD{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(ee(Jo))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();const vD=["alt","control","meta","shift"],ML={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let AL=(()=>{class n extends dD{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const i=n.parseEventName(r),s=n.eventCallback(i.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ma().onAndCancel(t,i.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const i=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),vD.forEach(f=>{const m=r.indexOf(f);m>-1&&(r.splice(m,1),s+=f+".")}),s+=i,0!=r.length||0===i.length)return null;const u={};return u.domEventName=o,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let o=ML[t.key]||t.key,i="";return r.indexOf("code.")>-1&&(o=t.code,i="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),vD.forEach(s=>{s!==o&&(0,xL[s])(t)&&(i+=s+".")}),i+=o,i===r)}static eventCallback(t,r,o){return i=>{n.matchEventFullKeyCode(i,t)&&o.runGuarded(()=>r(i))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(ee(Jo))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();const OL=hE(mO,"browser",[{provide:Pu,useValue:rD},{provide:rE,useValue:function PL(){F_.makeCurrent()},multi:!0},{provide:Jo,useFactory:function FL(){return function hx(n){qg=n}(document),document},deps:[]}]),wD=new an(""),SD=[{provide:Dh,useClass:class vL{addToWindow(e){p.getAngularTestability=(r,o=!0)=>{const i=e.findTestabilityInTree(r,o);if(null==i)throw new Error("Could not find testability for element.");return i},p.getAllAngularTestabilities=()=>e.getAllTestabilities(),p.getAllAngularRootElements=()=>e.getAllRootElements(),p.frameworkStabilizers||(p.frameworkStabilizers=[]),p.frameworkStabilizers.push(r=>{const o=p.getAllAngularTestabilities();let i=o.length,s=!1;const a=function(u){s=s||u,i--,0==i&&r(s)};o.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Ma().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:uE,useClass:i_,deps:[dt,s_,Dh]},{provide:i_,useClass:i_,deps:[dt,s_,Dh]}],ED=[{provide:ny,useValue:"root"},{provide:fu,useFactory:function RL(){return new fu},deps:[]},{provide:Uh,useClass:TL,multi:!0,deps:[Jo,dt,Pu]},{provide:Uh,useClass:AL,multi:!0,deps:[Jo]},{provide:$_,useClass:$_,deps:[jh,vf,df]},{provide:rC,useExisting:$_},{provide:fD,useExisting:vf},{provide:vf,useClass:vf,deps:[Jo]},{provide:jh,useClass:jh,deps:[Uh,dt]},{provide:iD,useClass:bL,deps:[]},[]];let NL=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:df,useValue:t.appId},{provide:uD,useExisting:df},_L]}}}return n.\u0275fac=function(t){return new(t||n)(ee(wD,12))},n.\u0275mod=Ar({type:n}),n.\u0275inj=wr({providers:[...ED,...SD],imports:[Aa,gO]}),n})(),DD=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(ee(Jo))},n.\u0275prov=ht({token:n,factory:function(t){let r=null;return r=t?new t:function $L(){return new DD(ee(Jo))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let j_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:function(t){let r=null;return r=t?new(t||n):ee(TD),r},providedIn:"root"}),n})(),TD=(()=>{class n extends j_{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case jr.NONE:return r;case jr.HTML:return ba(r,"HTML")?Is(r):jb(this._doc,String(r)).toString();case jr.STYLE:return ba(r,"Style")?Is(r):r;case jr.SCRIPT:if(ba(r,"Script"))return Is(r);throw new Error("unsafe value used in a script context");case jr.URL:return ba(r,"URL")?Is(r):Xp(String(r));case jr.RESOURCE_URL:if(ba(r,"ResourceURL"))return Is(r);throw new Error(`unsafe value used in a resource URL context (see ${ot})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${ot})`)}}bypassSecurityTrustHtml(t){return function Cx(n){return new mx(n)}(t)}bypassSecurityTrustStyle(t){return function wx(n){return new gx(n)}(t)}bypassSecurityTrustScript(t){return function Sx(n){return new yx(n)}(t)}bypassSecurityTrustUrl(t){return function Ex(n){return new _x(n)}(t)}bypassSecurityTrustResourceUrl(t){return function Dx(n){return new vx(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(ee(Jo))},n.\u0275prov=ht({token:n,factory:function(t){let r=null;return r=t?new t:function zL(n){return new TD(n.get(Jo))}(ee(ho)),r},providedIn:"root"}),n})();var Vo=A(1158),WL=A(9233),Fu=A.n(WL);let Hh,Gh;function MD(n){if(!window.location.hash.startsWith(n))return;const e=window.location.hash.split("?")[1];if(!e)return;const t=e.split("&").map(r=>r.split("="));for(const[r,o]of t)if("url"===r&&o)try{return decodeURIComponent(o)}catch{continue}}function xD(){return void 0!==Gh}class AD{constructor(){this.requestEvent=new Vo.j}dispatchRequest(e){if(e){try{e=new(Fu())(e).toString()}catch{return void console.error(`invalid URL: ${e}`)}this.url=e,this.requestEvent.dispatch()}}hasPendingRequest(){return void 0!==this.url}receivePendingUrl(){const e=this.url;return this.url=void 0,e}}class Bl{constructor(){this.installation=new AD,this.import=new AD,Hh&&this.installation.dispatchRequest(Hh),Gh&&this.import.dispatchRequest(Gh)}}function bn(...n){return fr(n,ii(n))}function Vl(n,e){return I(e)?Cr(n,e,1):Cr(n,1)}function _i(n,e){return q((t,r)=>{let o=0;t.subscribe(ye(r,i=>n.call(e,i,o++)&&r.next(i)))})}Bl.\u0275fac=function(e){return new(e||Bl)},Bl.\u0275prov=ht({token:Bl,factory:Bl.\u0275fac,providedIn:"root"});class zh{}class H_{}class ll{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const o=t.slice(0,r),i=o.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const o=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(t,o))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof ll?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new ll;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ll?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":const i=e.value;if(i){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class KL{encodeKey(e){return PD(e)}encodeValue(e){return PD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const XL=/%(\d[a-f0-9])/gi,QL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function PD(n){return encodeURIComponent(n).replace(XL,(e,t)=>QL[t]??e)}function Wh(n){return`${n}`}class Ul{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new KL,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function YL(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,i)),e.decodeValue(o.slice(i+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],o=Array.isArray(r)?r.map(Wh):[Wh(r)];this.map.set(t,o)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(i=>{t.push({param:r,value:i,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Ul({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Wh(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const o=r.indexOf(Wh(e.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class JL{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function RD(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function FD(n){return typeof Blob<"u"&&n instanceof Blob}function OD(n){return typeof FormData<"u"&&n instanceof FormData}class bf{constructor(e,t,r,o){let i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function e3(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,i=o):i=r,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new ll),this.context||(this.context=new JL),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Ul,this.urlWithParams=t}serializeBody(){return null===this.body?null:RD(this.body)||FD(this.body)||OD(this.body)||function t3(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ul?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||OD(this.body)?null:FD(this.body)?this.body.type||null:RD(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ul?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,o=e.responseType||this.responseType,i=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,f=e.params||this.params;const m=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((_,k)=>_.set(k,e.setHeaders[k]),u)),e.setParams&&(f=Object.keys(e.setParams).reduce((_,k)=>_.set(k,e.setParams[k]),f)),new bf(t,r,i,{params:f,headers:u,context:m,reportProgress:a,responseType:o,withCredentials:s})}}var Uo=(()=>((Uo=Uo||{})[Uo.Sent=0]="Sent",Uo[Uo.UploadProgress=1]="UploadProgress",Uo[Uo.ResponseHeader=2]="ResponseHeader",Uo[Uo.DownloadProgress=3]="DownloadProgress",Uo[Uo.Response=4]="Response",Uo[Uo.User=5]="User",Uo))();class G_{constructor(e,t=200,r="OK"){this.headers=e.headers||new ll,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class z_ extends G_{constructor(e={}){super(e),this.type=Uo.ResponseHeader}clone(e={}){return new z_({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Zh extends G_{constructor(e={}){super(e),this.type=Uo.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Zh({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class ND extends G_{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function W_(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Z_=(()=>{class n{constructor(t){this.handler=t}request(t,r,o={}){let i;if(t instanceof bf)i=t;else{let u,f;u=o.headers instanceof ll?o.headers:new ll(o.headers),o.params&&(f=o.params instanceof Ul?o.params:new Ul({fromObject:o.params})),i=new bf(t,r,void 0!==o.body?o.body:null,{headers:u,context:o.context,params:f,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const s=bn(i).pipe(Vl(u=>this.handler.handle(u)));if(t instanceof bf||"events"===o.observe)return s;const a=s.pipe(_i(u=>u instanceof Zh));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(Ae(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(Ae(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(Ae(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(Ae(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Ul).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,W_(o,r))}post(t,r,o={}){return this.request("POST",t,W_(o,r))}put(t,r,o={}){return this.request("PUT",t,W_(o,r))}}return n.\u0275fac=function(t){return new(t||n)(ee(zh))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();function LD(n,e){return e(n)}function n3(n,e){return(t,r)=>e.intercept(t,{handle:o=>n(o,r)})}const o3=new an("HTTP_INTERCEPTORS"),Cf=new an("HTTP_INTERCEPTOR_FNS");function i3(){let n=null;return(e,t)=>(null===n&&(n=(_n(o3,{optional:!0})??[]).reduceRight(n3,LD)),n(e,t))}let $D=(()=>{class n extends zh{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(Cf)));this.chain=r.reduceRight((o,i)=>function r3(n,e,t){return(r,o)=>t.runInContext(()=>e(r,i=>n(i,o)))}(o,i,this.injector),LD)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(ee(H_),ee(Ca))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();const c3=/^\)\]\}',?\n/;let VD=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new yt(r=>{const o=this.xhrFactory.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((M,Y)=>o.setRequestHeader(M,Y.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const M=t.detectContentTypeHeader();null!==M&&o.setRequestHeader("Content-Type",M)}if(t.responseType){const M=t.responseType.toLowerCase();o.responseType="json"!==M?M:"text"}const i=t.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const M=o.statusText||"OK",Y=new ll(o.getAllResponseHeaders()),Se=function u3(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return s=new z_({headers:Y,status:o.status,statusText:M,url:Se}),s},u=()=>{let{headers:M,status:Y,statusText:Se,url:Ge}=a(),Ke=null;204!==Y&&(Ke=typeof o.response>"u"?o.responseText:o.response),0===Y&&(Y=Ke?200:0);let bt=Y>=200&&Y<300;if("json"===t.responseType&&"string"==typeof Ke){const Le=Ke;Ke=Ke.replace(c3,"");try{Ke=""!==Ke?JSON.parse(Ke):null}catch($t){Ke=Le,bt&&(bt=!1,Ke={error:$t,text:Ke})}}bt?(r.next(new Zh({body:Ke,headers:M,status:Y,statusText:Se,url:Ge||void 0})),r.complete()):r.error(new ND({error:Ke,headers:M,status:Y,statusText:Se,url:Ge||void 0}))},f=M=>{const{url:Y}=a(),Se=new ND({error:M,status:o.status||0,statusText:o.statusText||"Unknown Error",url:Y||void 0});r.error(Se)};let m=!1;const _=M=>{m||(r.next(a()),m=!0);let Y={type:Uo.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(Y.total=M.total),"text"===t.responseType&&o.responseText&&(Y.partialText=o.responseText),r.next(Y)},k=M=>{let Y={type:Uo.UploadProgress,loaded:M.loaded};M.lengthComputable&&(Y.total=M.total),r.next(Y)};return o.addEventListener("load",u),o.addEventListener("error",f),o.addEventListener("timeout",f),o.addEventListener("abort",f),t.reportProgress&&(o.addEventListener("progress",_),null!==i&&o.upload&&o.upload.addEventListener("progress",k)),o.send(i),r.next({type:Uo.Sent}),()=>{o.removeEventListener("error",f),o.removeEventListener("abort",f),o.removeEventListener("load",u),o.removeEventListener("timeout",f),t.reportProgress&&(o.removeEventListener("progress",_),null!==i&&o.upload&&o.upload.removeEventListener("progress",k)),o.readyState!==o.DONE&&o.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(ee(iD))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();const q_=new an("XSRF_ENABLED"),UD="XSRF-TOKEN",jD=new an("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>UD}),HD="X-XSRF-TOKEN",GD=new an("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>HD});class zD{}let d3=(()=>{class n{constructor(t,r,o){this.doc=t,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=WE(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(ee(Jo),ee(Pu),ee(jD))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();function f3(n,e){const t=n.url.toLowerCase();if(!_n(q_)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=_n(zD).getToken(),o=_n(GD);return null!=r&&!n.headers.has(o)&&(n=n.clone({headers:n.headers.set(o,r)})),e(n)}var xo=(()=>((xo=xo||{})[xo.Interceptors=0]="Interceptors",xo[xo.LegacyInterceptors=1]="LegacyInterceptors",xo[xo.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",xo[xo.NoXsrfProtection=3]="NoXsrfProtection",xo[xo.JsonpSupport=4]="JsonpSupport",xo[xo.RequestsMadeViaParent=5]="RequestsMadeViaParent",xo))();function Ou(n,e){return{\u0275kind:n,\u0275providers:e}}function p3(...n){const e=[Z_,VD,$D,{provide:zh,useExisting:$D},{provide:H_,useExisting:VD},{provide:Cf,useValue:f3,multi:!0},{provide:q_,useValue:!0},{provide:zD,useClass:d3}];for(const t of n)e.push(...t.\u0275providers);return function Ux(n){return{\u0275providers:n}}(e)}const WD=new an("LEGACY_INTERCEPTOR_FN");function m3({cookieName:n,headerName:e}){const t=[];return void 0!==n&&t.push({provide:jD,useValue:n}),void 0!==e&&t.push({provide:GD,useValue:e}),Ou(xo.CustomXsrfConfiguration,t)}let g3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ar({type:n}),n.\u0275inj=wr({providers:[p3(Ou(xo.LegacyInterceptors,[{provide:WD,useFactory:i3},{provide:Cf,useExisting:WD,multi:!0}]),m3({cookieName:UD,headerName:HD}))]}),n})();const{isArray:y3}=Array,{getPrototypeOf:_3,prototype:v3,keys:b3}=Object;function ZD(n){if(1===n.length){const e=n[0];if(y3(e))return{args:e,keys:null};if(function C3(n){return n&&"object"==typeof n&&_3(n)===v3}(e)){const t=b3(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:w3}=Array;function K_(n){return Ae(e=>function S3(n,e){return w3(e)?n(...e):n(e)}(n,e))}function qD(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}let KD=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(C(el),C(gt))},n.\u0275dir=xt({type:n}),n})(),Dc=(()=>{class n extends KD{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ci(n)))(r||n)}}(),n.\u0275dir=xt({type:n,features:[yr]}),n})();const Zi=new an("NgValueAccessor"),I3={provide:Zi,useExisting:Ne(()=>Y_),multi:!0},T3=new an("CompositionEventMode");let Y_=(()=>{class n extends KD{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function k3(){const n=Ma()?Ma().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(C(el),C(gt),C(T3,8))},n.\u0275dir=xt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&st("input",function(i){return r._handleInput(i.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(i){return r._compositionEnd(i.target.value)})},features:[Or([I3]),yr]}),n})();function jl(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function XD(n){return null!=n&&"number"==typeof n.length}const Li=new an("NgValidators"),Hl=new an("NgAsyncValidators"),x3=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class wf{static min(e){return function QD(n){return e=>{if(jl(e.value)||jl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function JD(n){return e=>{if(jl(e.value)||jl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function e1(n){return jl(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function t1(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function n1(n){return jl(n.value)||x3.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function r1(n){return e=>jl(e.value)||!XD(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return o1(e)}static pattern(e){return function i1(n){if(!n)return qh;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(jl(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(e)}static nullValidator(e){return null}static compose(e){return d1(e)}static composeAsync(e){return f1(e)}}function o1(n){return e=>XD(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function qh(n){return null}function s1(n){return null!=n}function a1(n){return Xd(n)?fr(n):n}function l1(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function c1(n,e){return e.map(t=>t(n))}function u1(n){return n.map(e=>function A3(n){return!n.validate}(e)?e:t=>e.validate(t))}function d1(n){if(!n)return null;const e=n.filter(s1);return 0==e.length?null:function(t){return l1(c1(t,e))}}function X_(n){return null!=n?d1(u1(n)):null}function f1(n){if(!n)return null;const e=n.filter(s1);return 0==e.length?null:function(t){return function E3(...n){const e=is(n),{args:t,keys:r}=ZD(n),o=new yt(i=>{const{length:s}=t;if(!s)return void i.complete();const a=new Array(s);let u=s,f=s;for(let m=0;m<s;m++){let _=!1;On(t[m]).subscribe(ye(i,k=>{_||(_=!0,f--),a[m]=k},()=>u--,void 0,()=>{(!u||!_)&&(f||i.next(r?qD(r,a):a),i.complete())}))}});return e?o.pipe(K_(e)):o}(c1(t,e).map(a1)).pipe(Ae(l1))}}function Q_(n){return null!=n?f1(u1(n)):null}function p1(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function h1(n){return n._rawValidators}function m1(n){return n._rawAsyncValidators}function J_(n){return n?Array.isArray(n)?n:[n]:[]}function Kh(n,e){return Array.isArray(n)?n.includes(e):n===e}function g1(n,e){const t=J_(e);return J_(n).forEach(o=>{Kh(t,o)||t.push(o)}),t}function y1(n,e){return J_(e).filter(t=>!Kh(n,t))}class _1{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=X_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Q_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class qi extends _1{get formDirective(){return null}get path(){return null}}class cl extends _1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class v1{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ul=(()=>{class n extends v1{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(C(cl,2))},n.\u0275dir=xt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&rl("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[yr]}),n})(),dl=(()=>{class n extends v1{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(C(qi,10))},n.\u0275dir=xt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&rl("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[yr]}),n})();const Sf="VALID",Xh="INVALID",Nu="PENDING",Ef="DISABLED";function rv(n){return(Qh(n)?n.validators:n)||null}function ov(n,e){return(Qh(e)?e.asyncValidators:n)||null}function Qh(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class S1{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Sf}get invalid(){return this.status===Xh}get pending(){return this.status==Nu}get disabled(){return this.status===Ef}get enabled(){return this.status!==Ef}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(g1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(g1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(y1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(y1(e,this._rawAsyncValidators))}hasValidator(e){return Kh(this._rawValidators,e)}hasAsyncValidator(e){return Kh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Nu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ef,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Sf,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Sf||this.status===Nu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ef:Sf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Nu,this._hasOwnPendingAsyncValidator=!0;const t=a1(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Mn,this.statusChanges=new Mn}_calculateStatus(){return this._allControlsDisabled()?Ef:this.errors?Xh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Nu)?Nu:this._anyControlsHaveStatus(Xh)?Xh:Sf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Qh(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function $3(n){return Array.isArray(n)?X_(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function B3(n){return Array.isArray(n)?Q_(n):n||null}(this._rawAsyncValidators)}}class Gl extends S1{constructor(e,t,r){super(rv(t),ov(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function w1(n,e,t){n._forEachChild((r,o)=>{if(void 0===t[o])throw new xe(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function C1(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new xe(1e3,"");if(!r[t])throw new xe(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,i)=>{r=t(r,o,i)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Jh=Gl,Lu=new an("CallSetDisabledState",{providedIn:"root",factory:()=>em}),em="always";function Df(n,e,t=em){iv(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function j3(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&E1(n,e)})}(n,e),function G3(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function H3(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&E1(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function U3(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function nm(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),om(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function rm(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function iv(n,e){const t=h1(n);null!==e.validator?n.setValidators(p1(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=m1(n);null!==e.asyncValidator?n.setAsyncValidators(p1(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();rm(e._rawValidators,o),rm(e._rawAsyncValidators,o)}function om(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=h1(n);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==e.validator);i.length!==o.length&&(t=!0,n.setValidators(i))}}if(null!==e.asyncValidator){const o=m1(n);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==e.asyncValidator);i.length!==o.length&&(t=!0,n.setAsyncValidators(i))}}}const r=()=>{};return rm(e._rawValidators,r),rm(e._rawAsyncValidators,r),t}function E1(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function k1(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function T1(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const _s=class extends S1{constructor(e=null,t,r){super(rv(t),ov(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Qh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=T1(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){k1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){k1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){T1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},di=_s;let fl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=xt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),F1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ar({type:n}),n.\u0275inj=wr({}),n})();const uv=new an("NgModelWithFormControlWarning"),o$={provide:qi,useExisting:Ne(()=>sa)};let sa=(()=>{class n extends qi{constructor(t,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Mn,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(om(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Df(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){nm(t.control||null,t,!1),function q3(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function I1(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(nm(r||null,t),(n=>n instanceof _s)(o)&&(Df(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function D1(n,e){iv(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function z3(n,e){return om(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){iv(this.form,this),this._oldForm&&om(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(C(Li,10),C(Hl,10),C(Lu,8))},n.\u0275dir=xt({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&st("submit",function(i){return r.onSubmit(i)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Or([o$]),yr,No]}),n})();const a$={provide:cl,useExisting:Ne(()=>Pa)};let Pa=(()=>{class n extends cl{set isDisabled(t){}constructor(t,r,o,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new Mn,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function lv(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(i=>{i.constructor===Y_?t=i:function Z3(n){return Object.getPrototypeOf(n.constructor)===Dc}(i)?r=i:o=i}),o||r||t||null}(0,i)}ngOnChanges(t){this._added||this._setUpControl(),function av(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function tm(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(C(qi,13),C(Li,10),C(Hl,10),C(Zi,10),C(uv,8))},n.\u0275dir=xt({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Or([a$]),yr,No]}),n})();let Ic=(()=>{class n{constructor(){this._validator=qh}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):qh,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=xt({type:n,features:[No]}),n})();const b$={provide:Li,useExisting:Ne(()=>gv),multi:!0};let gv=(()=>{class n extends Ic{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function U1(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>o1(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ci(n)))(r||n)}}(),n.\u0275dir=xt({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&Ea("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Or([b$]),yr]}),n})(),K1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ar({type:n}),n.\u0275inj=wr({imports:[F1]}),n})(),kc=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Lu,useValue:t.callSetDisabledState??em}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ar({type:n}),n.\u0275inj=wr({imports:[K1]}),n})(),im=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:uv,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Lu,useValue:t.callSetDisabledState??em}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ar({type:n}),n.\u0275inj=wr({imports:[K1]}),n})();const S$=["addListener","removeListener"],E$=["addEventListener","removeEventListener"],D$=["on","off"];function kf(n,e,t,r){if(I(t)&&(r=t,t=void 0),r)return kf(n,e,t).pipe(K_(r));const[o,i]=function T$(n){return I(n.addEventListener)&&I(n.removeEventListener)}(n)?E$.map(s=>a=>n[s](e,a,t)):function I$(n){return I(n.addListener)&&I(n.removeListener)}(n)?S$.map(Y1(n,e)):function k$(n){return I(n.on)&&I(n.off)}(n)?D$.map(Y1(n,e)):[];if(!o&&br(n))return Cr(s=>kf(s,e,t))(On(n));if(!o)throw new TypeError("Invalid event target");return new yt(s=>{const a=(...u)=>s.next(1<u.length?u:u[0]);return o(a),()=>i(a)})}function Y1(n,e){return t=>r=>n[t](e,r)}class Ps extends tt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const sm=l(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function X1(...n){const e=ii(n),t=is(n),{args:r,keys:o}=ZD(n);if(0===r.length)return fr([],e);const i=new yt(function M$(n,e,t=ne){return r=>{Q1(e,()=>{const{length:o}=n,i=new Array(o);let s=o,a=o;for(let u=0;u<o;u++)Q1(e,()=>{const f=fr(n[u],e);let m=!1;f.subscribe(ye(r,_=>{i[u]=_,m||(m=!0,a--),a||r.next(t(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,o?s=>qD(o,s):ne));return t?i.pipe(K_(t)):i}function Q1(n,e,t){n?io(t,n,e):e()}function Tf(...n){return function x$(){return Zo(1)}()(fr(n,ii(n)))}function am(n){return new yt(e=>{On(n()).subscribe(e)})}function $u(n,e){const t=I(n)?n:()=>n,r=o=>o.error(t());return new yt(e?o=>e.schedule(r,0,o):r)}function yv(){return q((n,e)=>{let t=null;n._refCount++;const r=ye(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,i=t;t=null,o&&(!i||o===i)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class _v extends yt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Ve(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new z;const t=this.getSubject();e.add(this.source.subscribe(ye(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=z.EMPTY)}return e}refCount(){return yv()(this)}}function vi(n,e){return q((t,r)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&r.complete();t.subscribe(ye(r,u=>{o?.unsubscribe();let f=0;const m=i++;On(n(u,m)).subscribe(o=ye(r,_=>r.next(e?e(u,_,m,f++):_),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Rs(n){return n<=0?()=>to:q((e,t)=>{let r=0;e.subscribe(ye(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function J1(...n){const e=ii(n);return q((t,r)=>{(e?Tf(n,t,e):Tf(n,t)).subscribe(r)})}function lm(n){return q((e,t)=>{let r=!1;e.subscribe(ye(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function eI(n=A$){return q((e,t)=>{let r=!1;e.subscribe(ye(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function A$(){return new sm}function pl(n,e){const t=arguments.length>=2;return r=>r.pipe(n?_i((o,i)=>n(o,i,r)):ne,Rs(1),t?lm(e):eI(()=>new sm))}function bi(n,e,t){const r=I(n)||e||t?{next:n,error:e,complete:t}:n;return r?q((o,i)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;o.subscribe(ye(i,u=>{var f;null===(f=r.next)||void 0===f||f.call(r,u),i.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),i.complete()},u=>{var f;a=!1,null===(f=r.error)||void 0===f||f.call(r,u),i.error(u)},()=>{var u,f;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(f=r.finalize)||void 0===f||f.call(r)}))}):ne}function hl(n){return q((e,t)=>{let i,r=null,o=!1;r=e.subscribe(ye(t,void 0,void 0,s=>{i=On(n(s,hl(n)(e))),r?(r.unsubscribe(),r=null,i.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(t))})}function P$(n,e,t,r,o){return(i,s)=>{let a=t,u=e,f=0;i.subscribe(ye(s,m=>{const _=f++;u=a?n(u,m,_):(a=!0,m),r&&s.next(u)},o&&(()=>{a&&s.next(u),s.complete()})))}}function tI(n,e){return q(P$(n,e,arguments.length>=2,!0))}function vv(n){return n<=0?()=>to:q((e,t)=>{let r=[];e.subscribe(ye(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function nI(n,e){const t=arguments.length>=2;return r=>r.pipe(n?_i((o,i)=>n(o,i,r)):ne,vv(1),t?lm(e):eI(()=>new sm))}function bv(n){return Ae(()=>n)}function Cv(n){return q((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const $n="primary",Mf=Symbol("RouteTitle");class F${constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Bu(n){return new F$(n)}function O$(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let i=0;i<r.length;i++){const s=r[i],a=n[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Ra(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let i=0;i<t.length;i++)if(o=t[i],!rI(n[o],e[o]))return!1;return!0}function rI(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,i)=>r[i]===o)}return n===e}function oI(n){return Array.prototype.concat.apply([],n)}function iI(n){return n.length>0?n[n.length-1]:null}function Ci(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function zl(n){return My(n)?n:Xd(n)?fr(Promise.resolve(n)):bn(n)}const cm=!1,L$={exact:function lI(n,e,t){if(!Mc(n.segments,e.segments)||!um(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!lI(n.children[r],e.children[r],t))return!1;return!0},subset:cI},sI={exact:function $$(n,e){return Ra(n,e)},subset:function B$(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>rI(n[t],e[t]))},ignored:()=>!0};function aI(n,e,t){return L$[t.paths](n.root,e.root,t.matrixParams)&&sI[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function cI(n,e,t){return uI(n,e,e.segments,t)}function uI(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!Mc(o,t)||e.hasChildren()||!um(o,t,r))}if(n.segments.length===t.length){if(!Mc(n.segments,t)||!um(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!cI(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),i=t.slice(n.segments.length);return!!(Mc(n.segments,o)&&um(n.segments,o,r)&&n.children[$n])&&uI(n.children[$n],e,i,r)}}function um(n,e,t){return e.every((r,o)=>sI[t](n[o].parameters,r.parameters))}class Tc{constructor(e=new Yn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bu(this.queryParams)),this._queryParamMap}toString(){return j$.serialize(this)}}class Yn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Ci(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dm(this)}}class xf{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Bu(this.parameters)),this._parameterMap}toString(){return pI(this)}}function Mc(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Vu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:function(){return new wv},providedIn:"root"}),n})();class wv{parse(e){const t=new X$(e);return new Tc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Af(e.root,!0)}`,r=function z$(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${fm(t)}=${fm(o)}`).join("&"):`${fm(t)}=${fm(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function H$(n){return encodeURI(n)}(e.fragment)}`:""}`}}const j$=new wv;function dm(n){return n.segments.map(e=>pI(e)).join("/")}function Af(n,e){if(!n.hasChildren())return dm(n);if(e){const t=n.children[$n]?Af(n.children[$n],!1):"",r=[];return Ci(n.children,(o,i)=>{i!==$n&&r.push(`${i}:${Af(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function U$(n,e){let t=[];return Ci(n.children,(r,o)=>{o===$n&&(t=t.concat(e(r,o)))}),Ci(n.children,(r,o)=>{o!==$n&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===$n?[Af(n.children[$n],!1)]:[`${o}:${Af(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[$n]?`${dm(n)}/${t[0]}`:`${dm(n)}/(${t.join("//")})`}}function dI(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function fm(n){return dI(n).replace(/%3B/gi,";")}function Sv(n){return dI(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pm(n){return decodeURIComponent(n)}function fI(n){return pm(n.replace(/\+/g,"%20"))}function pI(n){return`${Sv(n.path)}${function G$(n){return Object.keys(n).map(e=>`;${Sv(e)}=${Sv(n[e])}`).join("")}(n.parameters)}`}const W$=/^[^\/()?;=#]+/;function hm(n){const e=n.match(W$);return e?e[0]:""}const Z$=/^[^=?&#]+/,K$=/^[^&#]+/;class X${constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yn([],{}):new Yn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[$n]=new Yn(e,t)),r}parseSegment(){const e=hm(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new xe(4009,cm);return this.capture(e),new xf(pm(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=hm(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=hm(this.remaining);o&&(r=o,this.capture(r))}e[pm(t)]=pm(r)}parseQueryParam(e){const t=function q$(n){const e=n.match(Z$);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function Y$(n){const e=n.match(K$);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const o=fI(t),i=fI(r);if(e.hasOwnProperty(o)){let s=e[o];Array.isArray(s)||(s=[s],e[o]=s),s.push(i)}else e[o]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=hm(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new xe(4010,cm);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=$n);const s=this.parseChildren();t[i]=1===Object.keys(s).length?s[$n]:new Yn([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new xe(4011,cm)}}function Ev(n){return n.segments.length>0?new Yn([],{[$n]:n}):n}function mm(n){const e={};for(const r of Object.keys(n.children)){const i=mm(n.children[r]);(i.segments.length>0||i.hasChildren())&&(e[r]=i)}return function Q$(n){if(1===n.numberOfChildren&&n.children[$n]){const e=n.children[$n];return new Yn(n.segments.concat(e.segments),e.children)}return n}(new Yn(n.segments,e))}function xc(n){return n instanceof Tc}function t4(n,e,t,r,o){if(0===t.length)return Uu(e.root,e.root,e.root,r,o);const i=function gI(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new mI(!0,0,n);let e=0,t=!1;const r=n.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return Ci(i.outlets,(u,f)=>{a[f]="string"==typeof u?u.split("/"):u}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new mI(t,e,r)}(t);return i.toRoot()?Uu(e.root,e.root,new Yn([],{}),r,o):function s(u){const f=function r4(n,e,t,r){if(n.isAbsolute)return new ju(e.root,!0,0);if(-1===r)return new ju(t,t===e.root,0);return function yI(n,e,t){let r=n,o=e,i=t;for(;i>o;){if(i-=o,r=r.parent,!r)throw new xe(4005,!1);o=r.segments.length}return new ju(r,!1,o-i)}(t,r+(Pf(n.commands[0])?0:1),n.numberOfDoubleDots)}(i,e,n.snapshot?._urlSegment,u),m=f.processChildren?Hu(f.segmentGroup,f.index,i.commands):Iv(f.segmentGroup,f.index,i.commands);return Uu(e.root,f.segmentGroup,m,r,o)}(n.snapshot?._lastPathIndex)}function Pf(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Rf(n){return"object"==typeof n&&null!=n&&n.outlets}function Uu(n,e,t,r,o){let s,i={};r&&Ci(r,(u,f)=>{i[f]=Array.isArray(u)?u.map(m=>`${m}`):`${u}`}),s=n===e?t:hI(n,e,t);const a=Ev(mm(s));return new Tc(a,i,o)}function hI(n,e,t){const r={};return Ci(n.children,(o,i)=>{r[i]=o===e?t:hI(o,e,t)}),new Yn(n.segments,r)}class mI{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Pf(r[0]))throw new xe(4003,!1);const o=r.find(Rf);if(o&&o!==iI(r))throw new xe(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ju{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Iv(n,e,t){if(n||(n=new Yn([],{})),0===n.segments.length&&n.hasChildren())return Hu(n,e,t);const r=function i4(n,e,t){let r=0,o=e;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return i;const s=n.segments[o],a=t[r];if(Rf(a))break;const u=`${a}`,f=r<t.length-1?t[r+1]:null;if(o>0&&void 0===u)break;if(u&&f&&"object"==typeof f&&void 0===f.outlets){if(!vI(u,f,s))return i;r+=2}else{if(!vI(u,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const i=new Yn(n.segments.slice(0,r.pathIndex),{});return i.children[$n]=new Yn(n.segments.slice(r.pathIndex),n.children),Hu(i,0,o)}return r.match&&0===o.length?new Yn(n.segments,{}):r.match&&!n.hasChildren()?kv(n,e,t):r.match?Hu(n,0,o):kv(n,e,t)}function Hu(n,e,t){if(0===t.length)return new Yn(n.segments,{});{const r=function o4(n){return Rf(n[0])?n[0].outlets:{[$n]:n}}(t),o={};return!r[$n]&&n.children[$n]&&1===n.numberOfChildren&&0===n.children[$n].segments.length?Hu(n.children[$n],e,t):(Ci(r,(i,s)=>{"string"==typeof i&&(i=[i]),null!==i&&(o[s]=Iv(n.children[s],e,i))}),Ci(n.children,(i,s)=>{void 0===r[s]&&(o[s]=i)}),new Yn(n.segments,o))}}function kv(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const i=t[o];if(Rf(i)){const u=s4(i.outlets);return new Yn(r,u)}if(0===o&&Pf(t[0])){r.push(new xf(n.segments[e].path,_I(t[0]))),o++;continue}const s=Rf(i)?i.outlets[$n]:`${i}`,a=o<t.length-1?t[o+1]:null;s&&a&&Pf(a)?(r.push(new xf(s,_I(a))),o+=2):(r.push(new xf(s,{})),o++)}return new Yn(r,{})}function s4(n){const e={};return Ci(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=kv(new Yn([],{}),0,t))}),e}function _I(n){const e={};return Ci(n,(t,r)=>e[r]=`${t}`),e}function vI(n,e,t){return n==t.path&&Ra(e,t.parameters)}const Ff="imperative";class Fa{constructor(e,t){this.id=e,this.url=t}}class gm extends Fa{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ac extends Fa{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ym extends Fa{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class bI extends Fa{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=16}}class CI extends Fa{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class a4 extends Fa{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class l4 extends Fa{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class c4 extends Fa{constructor(e,t,r,o,i){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class u4 extends Fa{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class d4 extends Fa{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class f4{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class p4{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class h4{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class m4{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class g4{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class y4{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wI{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let v4=(()=>{class n{createUrlTree(t,r,o,i,s,a){return t4(t||r.root,o,i,s,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})(),b4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:function(e){return v4.\u0275fac(e)},providedIn:"root"}),n})();class SI{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Tv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Tv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Mv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Mv(e,this._root).map(t=>t.value)}}function Tv(n,e){if(n===e.value)return e;for(const t of e.children){const r=Tv(n,t);if(r)return r}return null}function Mv(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Mv(n,t);if(r.length)return r.unshift(e),r}return[]}class ml{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Gu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class EI extends SI{constructor(e,t){super(e),this.snapshot=t,xv(this,e)}toString(){return this.snapshot.toString()}}function DI(n,e){const t=function C4(n,e){const s=new _m([],{},{},"",{},$n,e,null,n.root,-1,{});return new kI("",new ml(s,[]))}(n,e),r=new Ps([new xf("",{})]),o=new Ps({}),i=new Ps({}),s=new Ps({}),a=new Ps(""),u=new gl(r,o,s,a,i,$n,e,t.root);return u.snapshot=t.root,new EI(new ml(u,[]),t)}class gl{constructor(e,t,r,o,i,s,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.title=this.data?.pipe(Ae(f=>f[Mf]))??bn(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ae(e=>Bu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ae(e=>Bu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function II(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],i=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(i.component)break;r--}}return function w4(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class _m{get title(){return this.data?.[Mf]}constructor(e,t,r,o,i,s,a,u,f,m,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=u,this._urlSegment=f,this._lastPathIndex=m,this._resolve=_}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Bu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class kI extends SI{constructor(e,t){super(t),this.url=e,xv(this,t)}toString(){return TI(this._root)}}function xv(n,e){e.value._routerState=n,e.children.forEach(t=>xv(n,t))}function TI(n){const e=n.children.length>0?` { ${n.children.map(TI).join(", ")} } `:"";return`${n.value}${e}`}function Av(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ra(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ra(e.params,t.params)||n.params.next(t.params),function N$(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ra(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ra(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Pv(n,e){const t=Ra(n.params,e.params)&&function V$(n,e){return Mc(n,e)&&n.every((t,r)=>Ra(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Pv(n.parent,e.parent))}function Of(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function E4(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Of(n,r,o);return Of(n,r)})}(n,e,t);return new ml(r,o)}{if(n.shouldAttach(e.value)){const i=n.retrieve(e.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Of(n,a)),s}}const r=function D4(n){return new gl(new Ps(n.url),new Ps(n.params),new Ps(n.queryParams),new Ps(n.fragment),new Ps(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(i=>Of(n,i));return new ml(r,o)}}const Rv="ngNavigationCancelingError";function MI(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=xc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=xI(!1,0,e);return o.url=t,o.navigationBehaviorOptions=r,o}function xI(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Rv]=!0,r.cancellationCode=e,t&&(r.url=t),r}function AI(n){return PI(n)&&xc(n.url)}function PI(n){return n&&n[Rv]}class I4{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Pc,this.attachRef=null}}let Pc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new I4,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vm=!1;let RI=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=$n,this.activateEvents=new Mn,this.deactivateEvents=new Mn,this.attachEvents=new Mn,this.detachEvents=new Mn,this.parentContexts=_n(Pc),this.location=_n(Ni),this.changeDetector=_n(Tt),this.environmentInjector=_n(Ca)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new xe(4012,vm);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new xe(4012,vm);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new xe(4012,vm);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new xe(4013,vm);this._activatedRoute=t;const o=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new k4(t,a,o.injector);if(r&&function T4(n){return!!n.resolveComponentFactory}(r)){const f=r.resolveComponentFactory(s);this.activated=o.createComponent(f,o.length,u)}else this.activated=o.createComponent(s,{index:o.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=xt({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[No]}),n})();class k4{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===gl?this.route:e===Pc?this.childContexts:this.parent.get(e,t)}}let Fv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ut({type:n,selectors:[["ng-component"]],standalone:!0,features:[_S],decls:1,vars:0,template:function(t,r){1&t&&ct(0,"router-outlet")},dependencies:[RI],encapsulation:2}),n})();function FI(n,e){return n.providers&&!n._injector&&(n._injector=bh(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Nv(n){const e=n.children&&n.children.map(Nv),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==$n&&(t.component=Fv),t}function Gs(n){return n.outlet||$n}function OI(n,e){const t=n.filter(r=>Gs(r)===e);return t.push(...n.filter(r=>Gs(r)!==e)),t}function Nf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class R4{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Av(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Gu(t);e.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Ci(o,(i,s)=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(e,t,r){const o=e.value,i=t?t.value:null;if(o===i)if(o.component){const s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else i&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,i=Gu(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,i=Gu(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Gu(t);e.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new y4(i.value.snapshot))}),e.children.length&&this.forwardEvent(new m4(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,i=t?t.value:null;if(Av(o),o===i)if(o.component){const s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Av(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Nf(o.snapshot),u=a?.get(Ja)??null;s.attachRef=null,s.route=o,s.resolver=u,s.injector=a,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class NI{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class bm{constructor(e,t){this.component=e,this.route=t}}function F4(n,e,t){const r=n._root;return Lf(r,e?e._root:null,t,[r.value])}function zu(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function fa(n){return null!==Es(n)}(n)?e.get(n):n:r}function Lf(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=Gu(e);return n.children.forEach(s=>{(function N4(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const u=function L4(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Mc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Mc(n.url,e.url)||!Ra(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Pv(n,e)||!Ra(n.queryParams,e.queryParams);default:return!Pv(n,e)}}(s,i,i.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new NI(r)):(i.data=s.data,i._resolvedData=s._resolvedData),Lf(n,e,i.component?a?a.children:null:t,r,o),u&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new bm(a.outlet.component,s))}else s&&$f(e,a,o),o.canActivateChecks.push(new NI(r)),Lf(n,null,i.component?a?a.children:null:t,r,o)})(s,i[s.value.outlet],t,r.concat([s.value]),o),delete i[s.value.outlet]}),Ci(i,(s,a)=>$f(s,t.getContext(a),o)),o}function $f(n,e,t){const r=Gu(n),o=n.value;Ci(r,(i,s)=>{$f(i,o.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new bm(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function Bf(n){return"function"==typeof n}function Lv(n){return n instanceof sm||"EmptyError"===n?.name}const Cm=Symbol("INITIAL_VALUE");function Wu(){return vi(n=>X1(n.map(e=>e.pipe(Rs(1),J1(Cm)))).pipe(Ae(e=>{for(const t of e)if(!0!==t){if(t===Cm)return Cm;if(!1===t||t instanceof Tc)return t}return!0}),_i(e=>e!==Cm),Rs(1)))}function LI(n){return function Ue(...n){return Qe(n)}(bi(e=>{if(xc(e))throw MI(0,e)}),Ae(e=>!0===e))}const $v={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $I(n,e,t,r,o){const i=Bv(n,e,t);return i.matched?function eB(n,e,t,r){const o=e.canMatch;return o&&0!==o.length?bn(o.map(s=>{const a=zu(s,n);return zl(function H4(n){return n&&Bf(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Wu(),LI()):bn(!0)}(r=FI(e,r),e,t).pipe(Ae(s=>!0===s?i:{...$v})):bn(i)}function Bv(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...$v}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||O$)(t,n,e);if(!o)return{...$v};const i={};Ci(o.posParams,(a,u)=>{i[u]=a.path});const s=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function wm(n,e,t,r){if(t.length>0&&function rB(n,e,t){return t.some(r=>Sm(n,e,r)&&Gs(r)!==$n)}(n,t,r)){const i=new Yn(e,function nB(n,e,t,r){const o={};o[$n]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const i of t)if(""===i.path&&Gs(i)!==$n){const s=new Yn([],{});s._sourceSegment=n,s._segmentIndexShift=e.length,o[Gs(i)]=s}return o}(n,e,r,new Yn(t,n.children)));return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===t.length&&function oB(n,e,t){return t.some(r=>Sm(n,e,r))}(n,t,r)){const i=new Yn(n.segments,function tB(n,e,t,r,o){const i={};for(const s of r)if(Sm(n,t,s)&&!o[Gs(s)]){const a=new Yn([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,i[Gs(s)]=a}return{...o,...i}}(n,e,t,r,n.children));return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}const o=new Yn(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function Sm(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function BI(n,e,t,r){return!!(Gs(n)===r||r!==$n&&Sm(e,t,n))&&("**"===n.path||Bv(e,n,t).matched)}function VI(n,e,t){return 0===e.length&&!n.children[t]}const Em=!1;class Dm{constructor(e){this.segmentGroup=e||null}}class UI{constructor(e){this.urlTree=e}}function Vf(n){return $u(new Dm(n))}function jI(n){return $u(new UI(n))}class lB{constructor(e,t,r,o,i){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=i,this.allowRedirects=!0}apply(){const e=wm(this.urlTree.root,[],[],this.config).segmentGroup,t=new Yn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,$n).pipe(Ae(i=>this.createUrlTree(mm(i),this.urlTree.queryParams,this.urlTree.fragment))).pipe(hl(i=>{if(i instanceof UI)return this.allowRedirects=!1,this.match(i.urlTree);throw i instanceof Dm?this.noMatchError(i):i}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,$n).pipe(Ae(o=>this.createUrlTree(mm(o),e.queryParams,e.fragment))).pipe(hl(o=>{throw o instanceof Dm?this.noMatchError(o):o}))}noMatchError(e){return new xe(4002,Em)}createUrlTree(e,t,r){const o=Ev(e);return new Tc(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(Ae(i=>new Yn([],i))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const i of Object.keys(r.children))"primary"===i?o.unshift(i):o.push(i);return fr(o).pipe(Vl(i=>{const s=r.children[i],a=OI(t,i);return this.expandSegmentGroup(e,a,s,i).pipe(Ae(u=>({segment:u,outlet:i})))}),tI((i,s)=>(i[s.outlet]=s.segment,i),{}),nI())}expandSegment(e,t,r,o,i,s){return fr(r).pipe(Vl(a=>this.expandSegmentAgainstRoute(e,t,r,a,o,i,s).pipe(hl(f=>{if(f instanceof Dm)return bn(null);throw f}))),pl(a=>!!a),hl((a,u)=>{if(Lv(a))return VI(t,o,i)?bn(new Yn([],{})):Vf(t);throw a}))}expandSegmentAgainstRoute(e,t,r,o,i,s,a){return BI(o,t,i,s)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,i,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s):Vf(t):Vf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const i=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?jI(i):this.lineralizeSegments(r,i).pipe(Cr(s=>{const a=new Yn(s,{});return this.expandSegment(e,a,t,s,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s){const{matched:a,consumedSegments:u,remainingSegments:f,positionalParamSegments:m}=Bv(t,o,i);if(!a)return Vf(t);const _=this.applyRedirectCommands(u,o.redirectTo,m);return o.redirectTo.startsWith("/")?jI(_):this.lineralizeSegments(o,_).pipe(Cr(k=>this.expandSegment(e,t,r,k.concat(f),s,!1)))}matchSegmentAgainstRoute(e,t,r,o,i){return"**"===r.path?(e=FI(r,e),r.loadChildren?(r._loadedRoutes?bn({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(Ae(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new Yn(o,{})))):bn(new Yn(o,{}))):$I(t,r,o,e).pipe(vi(({matched:s,consumedSegments:a,remainingSegments:u})=>s?this.getChildConfig(e=r._injector??e,r,o).pipe(Cr(m=>{const _=m.injector??e,k=m.routes,{segmentGroup:M,slicedSegments:Y}=wm(t,a,u,k),Se=new Yn(M.segments,M.children);if(0===Y.length&&Se.hasChildren())return this.expandChildren(_,k,Se).pipe(Ae(Le=>new Yn(a,Le)));if(0===k.length&&0===Y.length)return bn(new Yn(a,{}));const Ge=Gs(r)===i;return this.expandSegment(_,Se,k,Y,Ge?$n:i,!0).pipe(Ae(bt=>new Yn(a.concat(bt.segments),bt.children)))})):Vf(t)))}getChildConfig(e,t,r){return t.children?bn({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?bn({routes:t._loadedRoutes,injector:t._loadedInjector}):function J4(n,e,t,r){const o=e.canLoad;return void 0===o||0===o.length?bn(!0):bn(o.map(s=>{const a=zu(s,n);return zl(function B4(n){return n&&Bf(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Wu(),LI())}(e,t,r).pipe(Cr(o=>o?this.configLoader.loadChildren(e,t).pipe(bi(i=>{t._loadedRoutes=i.routes,t._loadedInjector=i.injector})):function sB(n){return $u(xI(Em,3))}())):bn({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return bn(r);if(o.numberOfChildren>1||!o.children[$n])return $u(new xe(4e3,Em));o=o.children[$n]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,o){const i=this.createSegmentGroup(e,t.root,r,o);return new Tc(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Ci(e,(o,i)=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,o){const i=this.createSegments(e,t.segments,r,o);let s={};return Ci(t.children,(a,u)=>{s[u]=this.createSegmentGroup(e,a,r,o)}),new Yn(i,s)}createSegments(e,t,r,o){return t.map(i=>i.path.startsWith(":")?this.findPosParam(e,i,o):this.findOrReturn(i,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new xe(4001,Em);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}class uB{}class pB{constructor(e,t,r,o,i,s,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=o,this.url=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a}recognize(){const e=wm(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,$n).pipe(Ae(t=>{if(null===t)return null;const r=new _m([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},$n,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new ml(r,t),i=new kI(this.url,o);return this.inheritParamsAndData(i._root),i}))}inheritParamsAndData(e){const t=e.value,r=II(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,o)}processChildren(e,t,r){return fr(Object.keys(r.children)).pipe(Vl(o=>{const i=r.children[o],s=OI(t,o);return this.processSegmentGroup(e,s,i,o)}),tI((o,i)=>o&&i?(o.push(...i),o):null),function R$(n,e=!1){return q((t,r)=>{let o=0;t.subscribe(ye(r,i=>{const s=n(i,o++);(s||e)&&r.next(i),!s&&r.complete()}))})}(o=>null!==o),lm(null),nI(),Ae(o=>{if(null===o)return null;const i=GI(o);return function hB(n){n.sort((e,t)=>e.value.outlet===$n?-1:t.value.outlet===$n?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}))}processSegment(e,t,r,o,i){return fr(t).pipe(Vl(s=>this.processSegmentAgainstRoute(s._injector??e,s,r,o,i)),pl(s=>!!s),hl(s=>{if(Lv(s))return VI(r,o,i)?bn([]):bn(null);throw s}))}processSegmentAgainstRoute(e,t,r,o,i){if(t.redirectTo||!BI(t,r,o,i))return bn(null);let s;if("**"===t.path){const a=o.length>0?iI(o).parameters:{},u=WI(r)+o.length;s=bn({snapshot:new _m(o,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ZI(t),Gs(t),t.component??t._loadedComponent??null,t,zI(r),u,qI(t)),consumedSegments:[],remainingSegments:[]})}else s=$I(r,t,o,e).pipe(Ae(({matched:a,consumedSegments:u,remainingSegments:f,parameters:m})=>{if(!a)return null;const _=WI(r)+u.length;return{snapshot:new _m(u,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ZI(t),Gs(t),t.component??t._loadedComponent??null,t,zI(r),_,qI(t)),consumedSegments:u,remainingSegments:f}}));return s.pipe(vi(a=>{if(null===a)return bn(null);const{snapshot:u,consumedSegments:f,remainingSegments:m}=a;e=t._injector??e;const _=t._loadedInjector??e,k=function mB(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:M,slicedSegments:Y}=wm(r,f,m,k.filter(Ge=>void 0===Ge.redirectTo));if(0===Y.length&&M.hasChildren())return this.processChildren(_,k,M).pipe(Ae(Ge=>null===Ge?null:[new ml(u,Ge)]));if(0===k.length&&0===Y.length)return bn([new ml(u,[])]);const Se=Gs(t)===i;return this.processSegment(_,k,M,Y,Se?$n:i).pipe(Ae(Ge=>null===Ge?null:[new ml(u,Ge)]))}))}}function gB(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function GI(n){const e=[],t=new Set;for(const r of n){if(!gB(r)){e.push(r);continue}const o=e.find(i=>r.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=GI(r.children);e.push(new ml(r.value,o))}return e.filter(r=>!t.has(r))}function zI(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function WI(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function ZI(n){return n.data||{}}function qI(n){return n.resolve||{}}function KI(n){return"string"==typeof n.title||null===n.title}function Vv(n){return vi(e=>{const t=n(e);return t?fr(t).pipe(Ae(()=>e)):bn(e)})}const Zu=new an("ROUTES");let Uv=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return bn(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=zl(t.loadComponent()).pipe(Ae(XI),bi(i=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=i}),Cv(()=>{this.componentLoaders.delete(t)})),o=new _v(r,()=>new tt).pipe(yv());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return bn({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const i=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Ae(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,f,m=!1;Array.isArray(a)?f=a:(u=a.create(t).injector,f=oI(u.get(Zu,[],Mt.Self|Mt.Optional)));return{routes:f.map(Nv),injector:u}}),Cv(()=>{this.childrenLoaders.delete(r)})),s=new _v(i,()=>new tt).pipe(yv());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(t){return zl(t()).pipe(Ae(XI),Cr(o=>o instanceof gS||Array.isArray(o)?bn(o):fr(this.compiler.compileModuleAsync(o))))}}return n.\u0275fac=function(t){return new(t||n)(ee(ho),ee(iE))},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function XI(n){return function DB(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let km=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new tt,this.configLoader=_n(Uv),this.environmentInjector=_n(Ca),this.urlSerializer=_n(Vu),this.rootContexts=_n(Pc),this.navigationId=0,this.afterPreactivation=()=>bn(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new p4(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new f4(o))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Ps({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ff,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(_i(r=>0!==r.id),Ae(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),vi(r=>{let o=!1,i=!1;return bn(r).pipe(bi(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),vi(s=>{const a=t.browserUrlTree.toString(),u=!t.navigated||s.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!u&&"reload"!==(s.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const m="";return this.events.next(new bI(s.id,t.serializeUrl(r.rawUrl),m,0)),t.rawUrlTree=s.rawUrl,s.resolve(null),to}if(t.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return QI(s.source)&&(t.browserUrlTree=s.extractedUrl),bn(s).pipe(vi(m=>{const _=this.transitions?.getValue();return this.events.next(new gm(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),_!==this.transitions?.getValue()?to:Promise.resolve(m)}),function cB(n,e,t,r){return vi(o=>function aB(n,e,t,r,o){return new lB(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe(Ae(i=>({...o,urlAfterRedirects:i}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),bi(m=>{this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects},r.urlAfterRedirects=m.urlAfterRedirects}),function _B(n,e,t,r,o){return Cr(i=>function fB(n,e,t,r,o,i,s="emptyOnly"){return new pB(n,e,t,r,o,s,i).recognize().pipe(vi(a=>null===a?function dB(n){return new yt(e=>e.error(n))}(new uB):bn(a)))}(n,e,t,i.urlAfterRedirects,r.serialize(i.urlAfterRedirects),r,o).pipe(Ae(s=>({...i,targetSnapshot:s}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),bi(m=>{if(r.targetSnapshot=m.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!m.extras.skipLocationChange){const k=t.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl);t.setBrowserUrl(k,m)}t.browserUrlTree=m.urlAfterRedirects}const _=new a4(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}));if(u&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:m,extractedUrl:_,source:k,restoredState:M,extras:Y}=s,Se=new gm(m,this.urlSerializer.serialize(_),k,M);this.events.next(Se);const Ge=DI(_,this.rootComponentType).snapshot;return bn(r={...s,targetSnapshot:Ge,urlAfterRedirects:_,extras:{...Y,skipLocationChange:!1,replaceUrl:!1}})}{const m="";return this.events.next(new bI(s.id,t.serializeUrl(r.extractedUrl),m,1)),t.rawUrlTree=s.rawUrl,s.resolve(null),to}}),bi(s=>{const a=new l4(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Ae(s=>r={...s,guards:F4(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function z4(n,e){return Cr(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=t;return 0===s.length&&0===i.length?bn({...t,guardsResult:!0}):function W4(n,e,t,r){return fr(n).pipe(Cr(o=>function Q4(n,e,t,r,o){const i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return i&&0!==i.length?bn(i.map(a=>{const u=Nf(e)??o,f=zu(a,u);return zl(function j4(n){return n&&Bf(n.canDeactivate)}(f)?f.canDeactivate(n,e,t,r):u.runInContext(()=>f(n,e,t,r))).pipe(pl())})).pipe(Wu()):bn(!0)}(o.component,o.route,t,e,r)),pl(o=>!0!==o,!0))}(s,r,o,n).pipe(Cr(a=>a&&function $4(n){return"boolean"==typeof n}(a)?function Z4(n,e,t,r){return fr(e).pipe(Vl(o=>Tf(function K4(n,e){return null!==n&&e&&e(new h4(n)),bn(!0)}(o.route.parent,r),function q4(n,e){return null!==n&&e&&e(new g4(n)),bn(!0)}(o.route,r),function X4(n,e,t){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(s=>function O4(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>am(()=>bn(s.guards.map(u=>{const f=Nf(s.node)??t,m=zu(u,f);return zl(function U4(n){return n&&Bf(n.canActivateChild)}(m)?m.canActivateChild(r,n):f.runInContext(()=>m(r,n))).pipe(pl())})).pipe(Wu())));return bn(i).pipe(Wu())}(n,o.path,t),function Y4(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return bn(!0);const o=r.map(i=>am(()=>{const s=Nf(e)??t,a=zu(i,s);return zl(function V4(n){return n&&Bf(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(pl())}));return bn(o).pipe(Wu())}(n,o.route,t))),pl(o=>!0!==o,!0))}(r,i,n,e):bn(a)),Ae(a=>({...t,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),bi(s=>{if(r.guardsResult=s.guardsResult,xc(s.guardsResult))throw MI(0,s.guardsResult);const a=new c4(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),_i(s=>!!s.guardsResult||(t.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),Vv(s=>{if(s.guards.canActivateChecks.length)return bn(s).pipe(bi(a=>{const u=new u4(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),vi(a=>{let u=!1;return bn(a).pipe(function vB(n,e){return Cr(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return bn(t);let i=0;return fr(o).pipe(Vl(s=>function bB(n,e,t,r){const o=n.routeConfig,i=n._resolve;return void 0!==o?.title&&!KI(o)&&(i[Mf]=o.title),function CB(n,e,t,r){const o=function wB(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return bn({});const i={};return fr(o).pipe(Cr(s=>function SB(n,e,t,r){const o=Nf(e)??r,i=zu(n,o);return zl(i.resolve?i.resolve(e,t):o.runInContext(()=>i(e,t)))}(n[s],e,t,r).pipe(pl(),bi(a=>{i[s]=a}))),vv(1),bv(i),hl(s=>Lv(s)?to:$u(s)))}(i,n,e,r).pipe(Ae(s=>(n._resolvedData=s,n.data=II(n,t).resolve,o&&KI(o)&&(n.data[Mf]=o.title),null)))}(s.route,r,n,e)),bi(()=>i++),vv(1),Cr(s=>i===o.length?bn(t):to))})}(t.paramsInheritanceStrategy,this.environmentInjector),bi({next:()=>u=!0,complete:()=>{u||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),bi(a=>{const u=new d4(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Vv(s=>{const a=u=>{const f=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(u.routeConfig).pipe(bi(m=>{u.component=m}),Ae(()=>{})));for(const m of u.children)f.push(...a(m));return f};return X1(a(s.targetSnapshot.root)).pipe(lm(),Rs(1))}),Vv(()=>this.afterPreactivation()),Ae(s=>{const a=function S4(n,e,t){const r=Of(n,e._root,t?t._root:void 0);return new EI(r,e)}(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return r={...s,targetRouterState:a}}),bi(s=>{t.currentUrlTree=s.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),t.routerState=s.targetRouterState,"deferred"===t.urlUpdateStrategy&&(s.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,s),t.browserUrlTree=s.urlAfterRedirects)}),((n,e,t)=>Ae(r=>(new R4(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s)),bi({next:s=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Ac(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{o=!0}}),Cv(()=>{o||i||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),hl(s=>{if(i=!0,PI(s)){AI(s)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new ym(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode);if(this.events.next(a),AI(s)){const u=t.urlHandlingStrategy.merge(s.url,t.rawUrlTree),f={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||QI(r.source)};t.scheduleNavigation(u,Ff,null,f,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new CI(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(s))}catch(u){r.reject(u)}}return to}))}))}cancelNavigationTransition(t,r,o){const i=new ym(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(i),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function QI(n){return n!==Ff}let JI=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===$n);return r}getResolvedTitleForRoute(t){return t.data[Mf]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:function(){return _n(IB)},providedIn:"root"}),n})(),IB=(()=>{class n extends JI{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(ee(DD))},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ek=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:function(){return _n(TB)},providedIn:"root"}),n})();class kB{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let TB=(()=>{class n extends kB{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=ci(n)))(r||n)}}(),n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Tm=new an("",{providedIn:"root",factory:()=>({})});let xB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:function(){return _n(AB)},providedIn:"root"}),n})(),AB=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function PB(n){throw n}function RB(n,e,t){return e.parse("/")}const FB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},OB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let jo=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=_n(N2),this.isNgZoneEnabled=!1,this.options=_n(Tm,{optional:!0})||{},this.errorHandler=this.options.errorHandler||PB,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||RB,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=_n(xB),this.routeReuseStrategy=_n(ek),this.urlCreationStrategy=_n(b4),this.titleStrategy=_n(JI),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=oI(_n(Zu,{optional:!0})??[]),this.navigationTransitions=_n(km),this.urlSerializer=_n(Vu),this.location=_n(hf),this.isNgZoneEnabled=_n(dt)instanceof dt&&dt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Tc,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=DI(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ff,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,o){const i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){const u={...o};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(i.state=u)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Nv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,f=u?this.currentUrlTree.fragment:s;let m=null;switch(a){case"merge":m={...this.currentUrlTree.queryParams,...i};break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=i||null}return null!==m&&(m=this.removeEmptyProps(m)),this.urlCreationStrategy.createUrlTree(o,this.routerState,this.currentUrlTree,t,m,f??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=xc(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,Ff,null,r)}navigate(t,r={skipLocationChange:!1}){return function NB(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new xe(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...FB}:!1===r?{...OB}:r,xc(t))return aI(this.currentUrlTree,t,o);const i=this.parseUrl(t);return aI(this.currentUrlTree,i,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const i=t[o];return null!=i&&(r[o]=i),r},{})}scheduleNavigation(t,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,u,f,m;return s?(a=s.resolve,u=s.reject,f=s.promise):f=new Promise((_,k)=>{a=_,u=k}),m="computed"===this.canceledNavigationResolution?o&&o.\u0275routerPageId?o.\u0275routerPageId:i.replaceUrl||i.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:m,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:i,resolve:a,reject:u,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(_=>Promise.reject(_))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),i={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",i):this.location.go(o,"",i)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===o?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class nk{}let BB=(()=>{class n{preload(t,r){return r().pipe(hl(()=>bn(null)))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VB=(()=>{class n{constructor(t,r,o,i,s){this.router=t,this.injector=o,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(_i(t=>t instanceof Ac),Vl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const i of r){i.providers&&!i._injector&&(i._injector=bh(i.providers,t,`Route: ${i.path}`));const s=i._injector??t,a=i._loadedInjector??s;i.loadChildren&&!i._loadedRoutes&&void 0===i.canLoad||i.loadComponent&&!i._loadedComponent?o.push(this.preloadConfig(s,i)):(i.children||i._loadedRoutes)&&o.push(this.processRoutes(a,i.children??i._loadedRoutes))}return fr(o).pipe(Zo())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):bn(null);const i=o.pipe(Cr(s=>null===s?bn(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?fr([i,this.loader.loadComponent(r)]).pipe(Zo()):i})}}return n.\u0275fac=function(t){return new(t||n)(ee(jo),ee(iE),ee(Ca),ee(nk),ee(Uv))},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jv=new an("");let rk=(()=>{class n{constructor(t,r,o,i,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof gm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ac&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof wI&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new wI(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function wC(){throw new Error("invalid")}()},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();function Rc(n,e){return{\u0275kind:n,\u0275providers:e}}function ik(){const n=_n(ho);return e=>{const t=n.get(Nl);if(e!==t.components[0])return;const r=n.get(jo),o=n.get(sk);1===n.get(Gv)&&r.initialNavigation(),n.get(ak,null,Mt.Optional)?.setUpPreloading(),n.get(jv,null,Mt.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.unsubscribe())}}const sk=new an("",{factory:()=>new tt}),Gv=new an("",{providedIn:"root",factory:()=>1});const ak=new an("");function zB(n){return Rc(0,[{provide:ak,useExisting:VB},{provide:nk,useExisting:n}])}const lk=new an("ROUTER_FORROOT_GUARD"),WB=[hf,{provide:Vu,useClass:wv},jo,Pc,{provide:gl,useFactory:function ok(n){return n.routerState.root},deps:[jo]},Uv,[]];function ZB(){return new fE("Router",jo)}let Mm=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[WB,[],{provide:Zu,multi:!0,useValue:t},{provide:lk,useFactory:XB,deps:[[jo,new Od,new Nd]]},{provide:Tm,useValue:r||{}},r?.useHash?{provide:xa,useClass:NE}:{provide:xa,useClass:OE},{provide:jv,useFactory:()=>{const n=_n(BN),e=_n(dt),t=_n(Tm),r=_n(km),o=_n(Vu);return t.scrollOffset&&n.setOffset(t.scrollOffset),new rk(o,r,n,e,t)}},r?.preloadingStrategy?zB(r.preloadingStrategy).\u0275providers:[],{provide:fE,multi:!0,useFactory:ZB},r?.initialNavigation?QB(r):[],[{provide:ck,useFactory:ik},{provide:oE,multi:!0,useExisting:ck}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Zu,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(ee(lk,8))},n.\u0275mod=Ar({type:n}),n.\u0275inj=wr({imports:[Fv]}),n})();function XB(n){return"guarded"}function QB(n){return["disabled"===n.initialNavigation?Rc(3,[{provide:wc,multi:!0,useFactory:()=>{const e=_n(jo);return()=>{e.setUpLocationChangeListener()}}},{provide:Gv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Rc(2,[{provide:Gv,useValue:0},{provide:wc,multi:!0,deps:[ho],useFactory:e=>{const t=e.get(CO,Promise.resolve());return()=>t.then(()=>new Promise(o=>{const i=e.get(jo),s=e.get(sk);(function r(o){e.get(jo).events.pipe(_i(s=>s instanceof Ac||s instanceof ym||s instanceof CI),Ae(s=>s instanceof Ac||s instanceof ym&&(0===s.code||1===s.code)&&null),_i(s=>null!==s),Rs(1)).subscribe(()=>{o()})})(()=>{o(!0)}),e.get(km).afterPreactivation=()=>(o(!0),s.closed?bn(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const ck=new an("");A(5933),A(9078),A(4199),A(8759);var zv=A(5823),Ku=A(9259),Hf=A(919),Gf=(A(7351),A(7580)),uk=(A(2286),A(6379),A(1559));function fk(n,e=ne){return n=n??tV,q((t,r)=>{let o,i=!0;t.subscribe(ye(r,s=>{const a=e(s);(i||!n(o,a))&&(i=!1,o=a,r.next(s))}))})}function tV(n,e){return n===e}const rV=zv.i,Bt=["*"],sV=["outlet"],aV=[[["","slot","top"]],"*"],lV=["[slot=top]","*"],pk=n=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(n):"function"==typeof requestAnimationFrame?requestAnimationFrame(n):setTimeout(n),hk=n=>!!n.resolveComponentFactory;let zf=(()=>{class n{constructor(t,r){this.injector=t,this.el=r,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(t){this.el.nativeElement.value=this.lastValue=t??"",Yu(this.el)}handleChangeEvent(t,r){t===this.el.nativeElement&&(r!==this.lastValue&&(this.lastValue=r,this.onChange(r)),Yu(this.el))}_handleBlurEvent(t){t===this.el.nativeElement&&(this.onTouched(),Yu(this.el))}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.el.nativeElement.disabled=t}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let t;try{t=this.injector.get(cl)}catch{}if(!t)return;t.statusChanges&&(this.statusChanges=t.statusChanges.subscribe(()=>Yu(this.el)));const r=t.control;r&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(i=>{if(typeof r[i]<"u"){const s=r[i].bind(r);r[i]=(...a)=>{s(...a),Yu(this.el)}}})}}return n.\u0275fac=function(t){return new(t||n)(C(ho),C(gt))},n.\u0275dir=xt({type:n,hostBindings:function(t,r){1&t&&st("ionBlur",function(i){return r._handleBlurEvent(i.target)})}}),n})();const Yu=n=>{pk(()=>{const e=n.nativeElement,t=null!=e.value&&e.value.toString().length>0,r=dV(e);Wv(e,r);const o=e.closest("ion-item");o&&Wv(o,t?[...r,"item-has-value"]:r)})},dV=n=>{const e=n.classList,t=[];for(let r=0;r<e.length;r++){const o=e.item(r);null!==o&&fV(o,"ng-")&&t.push(`ion-${o.substring(3)}`)}return t},Wv=(n,e)=>{const t=n.classList;t.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),t.add(...e)},fV=(n,e)=>n.substring(0,e.length)===e;let Xu=(()=>{class n extends zf{constructor(t,r){super(t,r)}writeValue(t){this.el.nativeElement.checked=this.lastValue=t??!1,Yu(this.el)}_handleIonChange(t){this.handleChangeEvent(t,t.checked)}}return n.\u0275fac=function(t){return new(t||n)(C(ho),C(gt))},n.\u0275dir=xt({type:n,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(t,r){1&t&&st("ionChange",function(i){return r._handleIonChange(i.target)})},features:[Or([{provide:Zi,useExisting:n,multi:!0}]),yr]}),n})(),Wf=(()=>{class n extends zf{constructor(t,r){super(t,r)}_handleChangeEvent(t){this.handleChangeEvent(t,t.value)}}return n.\u0275fac=function(t){return new(t||n)(C(ho),C(gt))},n.\u0275dir=xt({type:n,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(t,r){1&t&&st("ionChange",function(i){return r._handleChangeEvent(i.target)})},features:[Or([{provide:Zi,useExisting:n,multi:!0}]),yr]}),n})(),yl=(()=>{class n extends zf{constructor(t,r){super(t,r)}_handleInputEvent(t){this.handleChangeEvent(t,t.value)}}return n.\u0275fac=function(t){return new(t||n)(C(ho),C(gt))},n.\u0275dir=xt({type:n,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(t,r){1&t&&st("ionChange",function(i){return r._handleInputEvent(i.target)})},features:[Or([{provide:Zi,useExisting:n,multi:!0}]),yr]}),n})();const mV=(n,e)=>{const t=n.prototype;e.forEach(r=>{Object.defineProperty(t,r,{get(){return this.el[r]},set(o){this.z.runOutsideAngular(()=>this.el[r]=o)}})})},gV=(n,e)=>{const t=n.prototype;e.forEach(r=>{t[r]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,o))}})},Sr=(n,e,t)=>{t.forEach(r=>n[r]=kf(e,r))};function Lt(n){return function(t){const{defineCustomElementFn:r,inputs:o,methods:i}=n;return void 0!==r&&r(),o&&mV(t,o),i&&gV(t,i),t}}let mk=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(Tt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-app"]],ngContentSelectors:Bt,decls:1,vars:0,template:function(t,r){1&t&&(Nt(),Rt(0))},encapsulation:2,changeDetection:0}),n=H([Lt({defineCustomElementFn:void 0})],n),n})(),gk=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(Tt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:Bt,decls:1,vars:0,template:function(t,r){1&t&&(Nt(),Rt(0))},encapsulation:2,changeDetection:0}),n=H([Lt({defineCustomElementFn:void 0,inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],n),n})(),Ki=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,Sr(this,this.el,["ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(C(Tt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Bt,decls:1,vars:0,template:function(t,r){1&t&&(Nt(),Rt(0))},encapsulation:2,changeDetection:0}),n=H([Lt({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],n),n})(),Yi=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(Tt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Bt,decls:1,vars:0,template:function(t,r){1&t&&(Nt(),Rt(0))},encapsulation:2,changeDetection:0}),n=H([Lt({defineCustomElementFn:void 0,inputs:["collapse"]})],n),n})(),yk=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,Sr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(C(Tt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-checkbox"]],inputs:{checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",mode:"mode",name:"name",value:"value"},ngContentSelectors:Bt,decls:1,vars:0,template:function(t,r){1&t&&(Nt(),Rt(0))},encapsulation:2,changeDetection:0}),n=H([Lt({defineCustomElementFn:void 0,inputs:["checked","color","disabled","indeterminate","mode","name","value"]})],n),n})(),Xi=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,Sr(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return n.\u0275fac=function(t){return new(t||n)(C(Tt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Bt,decls:1,vars:0,template:function(t,r){1&t&&(Nt(),Rt(0))},encapsulation:2,changeDetection:0}),n=H([Lt({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],n),n})(),Qi=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(Tt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Bt,decls:1,vars:0,template:function(t,r){1&t&&(Nt(),Rt(0))},encapsulation:2,changeDetection:0}),n=H([Lt({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],n),n})(),fi=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(Tt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Bt,decls:1,vars:0,template:function(t,r){1&t&&(Nt(),Rt(0))},encapsulation:2,changeDetection:0}),n=H([Lt({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],n),n})(),_l=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,Sr(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return n.\u0275fac=function(t){return new(t||n)(C(Tt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Bt,decls:1,vars:0,template:function(t,r){1&t&&(Nt(),Rt(0))},encapsulation:2,changeDetection:0}),n=H([Lt({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],n),n})(),ti=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(Tt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Bt,decls:1,vars:0,template:function(t,r){1&t&&(Nt(),Rt(0))},encapsulation:2,changeDetection:0}),n=H([Lt({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],n),n})(),xm=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(Tt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:Bt,decls:1,vars:0,template:function(t,r){1&t&&(Nt(),Rt(0))},encapsulation:2,changeDetection:0}),n=H([Lt({defineCustomElementFn:void 0,inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],n),n})(),Am=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,Sr(this,this.el,["ionSwipe"])}};return n.\u0275fac=function(t){return new(t||n)(C(Tt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:Bt,decls:1,vars:0,template:function(t,r){1&t&&(Nt(),Rt(0))},encapsulation:2,changeDetection:0}),n=H([Lt({defineCustomElementFn:void 0,inputs:["side"]})],n),n})(),Pm=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,Sr(this,this.el,["ionDrag"])}};return n.\u0275fac=function(t){return new(t||n)(C(Tt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:Bt,decls:1,vars:0,template:function(t,r){1&t&&(Nt(),Rt(0))},encapsulation:2,changeDetection:0}),n=H([Lt({defineCustomElementFn:void 0,inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],n),n})(),Ji=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(Tt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Bt,decls:1,vars:0,template:function(t,r){1&t&&(Nt(),Rt(0))},encapsulation:2,changeDetection:0}),n=H([Lt({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],n),n})(),Oa=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(Tt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Bt,decls:1,vars:0,template:function(t,r){1&t&&(Nt(),Rt(0))},encapsulation:2,changeDetection:0}),n=H([Lt({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],n),n})(),_k=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,Sr(this,this.el,["ionNavWillChange","ionNavDidChange"])}};return n.\u0275fac=function(t){return new(t||n)(C(Tt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-nav"]],inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"},ngContentSelectors:Bt,decls:1,vars:0,template:function(t,r){1&t&&(Nt(),Rt(0))},encapsulation:2,changeDetection:0}),n=H([Lt({defineCustomElementFn:void 0,inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],n),n})(),Zv=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,Sr(this,this.el,["ionChange","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}};return n.\u0275fac=function(t){return new(t||n)(C(Tt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:Bt,decls:1,vars:0,template:function(t,r){1&t&&(Nt(),Rt(0))},encapsulation:2,changeDetection:0}),n=H([Lt({defineCustomElementFn:void 0,inputs:["activeBarStart","color","debounce","disabled","dualKnobs","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],n),n})(),Rm=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,Sr(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(C(Tt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:Bt,decls:1,vars:0,template:function(t,r){1&t&&(Nt(),Rt(0))},encapsulation:2,changeDetection:0}),n=H([Lt({defineCustomElementFn:void 0,inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],n),n})(),Fm=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(Tt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:Bt,decls:1,vars:0,template:function(t,r){1&t&&(Nt(),Rt(0))},encapsulation:2,changeDetection:0}),n=H([Lt({defineCustomElementFn:void 0,inputs:["disabled","value"]})],n),n})(),Zf=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(Tt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:Bt,decls:1,vars:0,template:function(t,r){1&t&&(Nt(),Rt(0))},encapsulation:2,changeDetection:0}),n=H([Lt({defineCustomElementFn:void 0,inputs:["color","duration","name","paused"]})],n),n})(),qv=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(Tt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Bt,decls:1,vars:0,template:function(t,r){1&t&&(Nt(),Rt(0))},encapsulation:2,changeDetection:0}),n=H([Lt({defineCustomElementFn:void 0,inputs:["color","mode","selectedTab","translucent"]})],n),n})(),vk=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(Tt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Bt,decls:1,vars:0,template:function(t,r){1&t&&(Nt(),Rt(0))},encapsulation:2,changeDetection:0}),n=H([Lt({defineCustomElementFn:void 0,inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],n),n})(),es=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(Tt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Bt,decls:1,vars:0,template:function(t,r){1&t&&(Nt(),Rt(0))},encapsulation:2,changeDetection:0}),n=H([Lt({defineCustomElementFn:void 0,inputs:["color","size"]})],n),n})(),qf=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,Sr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(C(Tt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-toggle"]],inputs:{checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",mode:"mode",name:"name",value:"value"},ngContentSelectors:Bt,decls:1,vars:0,template:function(t,r){1&t&&(Nt(),Rt(0))},encapsulation:2,changeDetection:0}),n=H([Lt({defineCustomElementFn:void 0,inputs:["checked","color","disabled","enableOnOffLabels","mode","name","value"]})],n),n})(),ts=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(Tt),C(gt),C(dt))},n.\u0275cmp=ut({type:n,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Bt,decls:1,vars:0,template:function(t,r){1&t&&(Nt(),Rt(0))},encapsulation:2,changeDetection:0}),n=H([Lt({defineCustomElementFn:void 0,inputs:["color","mode"]})],n),n})();class bk{constructor(e={}){this.data=e}get(e){return this.data[e]}}let Om=(()=>{class n{constructor(t,r){this.zone=t,this.appRef=r}create(t,r,o,i){return new hU(t,r,o,this.appRef,this.zone,i)}}return n.\u0275fac=function(t){return new(t||n)(ee(dt),ee(Nl))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();class hU{constructor(e,t,r,o,i,s){this.resolverOrInjector=e,this.injector=t,this.location=r,this.appRef=o,this.zone=i,this.elementReferenceKey=s,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(e,t,r,o){return this.zone.run(()=>new Promise(i=>{const s=Object.assign({},r);void 0!==this.elementReferenceKey&&(s[this.elementReferenceKey]=e),i(mU(this.zone,this.resolverOrInjector,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,e,t,s,o))}))}removeViewFromDom(e,t){return this.zone.run(()=>new Promise(r=>{const o=this.elRefMap.get(t);if(o){o.destroy(),this.elRefMap.delete(t);const i=this.elEventsMap.get(t);i&&(i(),this.elEventsMap.delete(t))}r()}))}}const mU=(n,e,t,r,o,i,s,a,u,f,m)=>{let _;const k=ho.create({providers:yU(f),parent:t});if(e&&hk(e)){const Ge=e.resolveComponentFactory(u);_=r?r.createComponent(Ge,r.length,k):Ge.create(k)}else{if(!r)return null;_=r.createComponent(u,{index:r.indexOf,injector:k,environmentInjector:e})}const M=_.instance,Y=_.location.nativeElement;if(f&&Object.assign(M,f),m)for(const Ge of m)Y.classList.add(Ge);const Se=Ck(n,M,Y);return a.appendChild(Y),r||o.attachView(_.hostView),_.changeDetectorRef.reattach(),i.set(Y,_),s.set(Y,Se),Y},gU=[Hf.L,Hf.a,Hf.b,Hf.c,Hf.d],Ck=(n,e,t)=>n.run(()=>{const r=gU.filter(o=>"function"==typeof e[o]).map(o=>{const i=s=>e[o](s.detail);return t.addEventListener(o,i),()=>t.removeEventListener(o,i)});return()=>r.forEach(o=>o())}),wk=new an("NavParamsToken"),yU=n=>[{provide:wk,useValue:n},{provide:bk,useFactory:_U,deps:[wk]}],_U=n=>new bk(n),Sk=(n,e)=>((n=n.filter(t=>t.stackId!==e.stackId)).push(e),n),Kv=(n,e)=>{const t=n.createUrlTree(["."],{relativeTo:e});return n.serializeUrl(t)},SU=(n,e)=>{if(!n)return;const t=Ek(e);for(let r=0;r<t.length;r++){if(r>=n.length)return t[r];if(t[r]!==n[r])return}},Ek=n=>n.split("/").map(e=>e.trim()).filter(e=>""!==e),Dk=n=>{n&&(n.ref.destroy(),n.unlistenEvents())};class EU{constructor(e,t,r,o,i,s){this.containerEl=t,this.router=r,this.navCtrl=o,this.zone=i,this.location=s,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==e?Ek(e):void 0}createView(e,t){var r;const o=Kv(this.router,t),i=null===(r=e?.location)||void 0===r?void 0:r.nativeElement,s=Ck(this.zone,e.instance,i);return{id:this.nextId++,stackId:SU(this.tabsPrefix,o),unlistenEvents:s,element:i,ref:e,url:o}}getExistingView(e){const t=Kv(this.router,e),r=this.views.find(o=>o.url===t);return r&&r.ref.changeDetectorRef.reattach(),r}setActive(e){var t,r;const o=this.navCtrl.consumeTransition();let{direction:i,animation:s,animationBuilder:a}=o;const u=this.activeView,f=((n,e)=>!e||n.stackId!==e.stackId)(e,u);f&&(i="back",s=void 0);const m=this.views.slice();let _;const k=this.router;k.getCurrentNavigation?_=k.getCurrentNavigation():!(null===(t=k.navigations)||void 0===t)&&t.value&&(_=k.navigations.value),null!==(r=_?.extras)&&void 0!==r&&r.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const M=this.views.includes(e),Y=this.insertView(e,i);M||e.ref.changeDetectorRef.detectChanges();const Se=e.animationBuilder;return void 0===a&&"back"===i&&!f&&void 0!==Se&&(a=Se),u&&(u.animationBuilder=a),this.zone.runOutsideAngular(()=>this.wait(()=>(u&&u.ref.changeDetectorRef.detach(),e.ref.changeDetectorRef.reattach(),this.transition(e,u,s,this.canGoBack(1),!1,a).then(()=>DU(e,Y,m,this.location,this.zone)).then(()=>({enteringView:e,direction:i,animation:s,tabSwitch:f})))))}canGoBack(e,t=this.getActiveStackId()){return this.getStack(t).length>e}pop(e,t=this.getActiveStackId()){return this.zone.run(()=>{var r,o;const i=this.getStack(t);if(i.length<=e)return Promise.resolve(!1);const s=i[i.length-e-1];let a=s.url;const u=s.savedData;if(u){const m=u.get("primary");null!==(o=null===(r=m?.route)||void 0===r?void 0:r._routerState)&&void 0!==o&&o.snapshot.url&&(a=m.route._routerState.snapshot.url)}const{animationBuilder:f}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(a,Object.assign(Object.assign({},s.savedExtras),{animation:f})).then(()=>!0)})}startBackTransition(){const e=this.activeView;if(e){const t=this.getStack(e.stackId),r=t[t.length-2],o=r.animationBuilder;return this.wait(()=>this.transition(r,e,"back",this.canGoBack(2),!0,o))}return Promise.resolve()}endBackTransition(e){e?(this.skipTransition=!0,this.pop(1)):this.activeView&&Ik(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(e){const t=this.getStack(e);return t.length>0?t[t.length-1]:void 0}getRootUrl(e){const t=this.getStack(e);return t.length>0?t[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Dk),this.activeView=void 0,this.views=[]}getStack(e){return this.views.filter(t=>t.stackId===e)}insertView(e,t){return this.activeView=e,this.views=((n,e,t)=>"root"===t?Sk(n,e):"forward"===t?((n,e)=>(n.indexOf(e)>=0?n=n.filter(r=>r.stackId!==e.stackId||r.id<=e.id):n.push(e),n))(n,e):((n,e)=>n.indexOf(e)>=0?n.filter(r=>r.stackId!==e.stackId||r.id<=e.id):Sk(n,e))(n,e))(this.views,e,t),this.views.slice()}transition(e,t,r,o,i,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(t===e)return Promise.resolve(!1);const a=e?e.element:void 0,u=t?t.element:void 0,f=this.containerEl;return a&&a!==u&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),a.parentElement!==f&&f.appendChild(a),f.commit)?f.commit(a,u,{deepWait:!0,duration:void 0===r?0:void 0,direction:r,showGoBack:o,progressAnimation:i,animationBuilder:s}):Promise.resolve(!1)}wait(e){return Rn(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const t=this.runningTask=e();return t.finally(()=>this.runningTask=void 0),t})}}const DU=(n,e,t,r,o)=>"function"==typeof requestAnimationFrame?new Promise(i=>{requestAnimationFrame(()=>{Ik(n,e,t,r,o),i()})}):Promise.resolve(),Ik=(n,e,t,r,o)=>{o.run(()=>t.filter(i=>!e.includes(i)).forEach(Dk)),e.forEach(i=>{const a=r.path().split("?")[0].split("#")[0];if(i!==n&&i.url!==a){const u=i.element;u.setAttribute("aria-hidden","true"),u.classList.add("ion-page-hidden"),i.ref.changeDetectorRef.detach()}})};let Yv=(()=>{class n{get(t,r){const o=Xv();return o?o.get(t,r):null}getBoolean(t,r){const o=Xv();return!!o&&o.getBoolean(t,r)}getNumber(t,r){const o=Xv();return o?o.getNumber(t,r):0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kk=new an("USERCONFIG"),Xv=()=>{if(typeof window<"u"){const n=window.Ionic;if(n?.config)return n.config}return null};let IU=(()=>{class n{constructor(t,r){this.doc=t,this.backButton=new tt,this.keyboardDidShow=new tt,this.keyboardDidHide=new tt,this.pause=new tt,this.resume=new tt,this.resize=new tt,r.run(()=>{var o;let i;this.win=t.defaultView,this.backButton.subscribeWithPriority=function(s,a){return this.subscribe(u=>u.register(s,f=>r.run(()=>a(f))))},Qu(this.pause,t,"pause"),Qu(this.resume,t,"resume"),Qu(this.backButton,t,"ionBackButton"),Qu(this.resize,this.win,"resize"),Qu(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Qu(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(s=>{i=s}),null!==(o=this.win)&&void 0!==o&&o.cordova?t.addEventListener("deviceready",()=>{i("cordova")},{once:!0}):i("dom")})}is(t){return(0,zv.a)(this.win,t)}platforms(){return(0,zv.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(t){return kU(this.win.location.href,t)}isLandscape(){return!this.isPortrait()}isPortrait(){var t,r;return null===(r=(t=this.win).matchMedia)||void 0===r?void 0:r.call(t,"(orientation: portrait)").matches}testUserAgent(t){const r=this.win.navigator;return!!(r?.userAgent&&r.userAgent.indexOf(t)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return n.\u0275fac=function(t){return new(t||n)(ee(Jo),ee(dt))},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kU=(n,e)=>{e=e.replace(/[[\]\\]/g,"\\$&");const r=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(n);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null},Qu=(n,e,t)=>{e&&e.addEventListener(t,r=>{n.next(r?.detail)})};let Kf=(()=>{class n{constructor(t,r,o,i){this.location=r,this.serializer=o,this.router=i,this.direction=Tk,this.animated=Mk,this.guessDirection="forward",this.lastNavId=-1,i&&i.events.subscribe(s=>{if(s instanceof gm){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=a<this.lastNavId?"back":"forward",this.guessAnimation=s.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?s.id:a}}),t.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(t,r={}){return this.setDirection("forward",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}navigateBack(t,r={}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}navigateRoot(t,r={}){return this.setDirection("root",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}back(t={animated:!0,animationDirection:"back"}){return this.setDirection("back",t.animated,t.animationDirection,t.animation),this.location.back()}pop(){return Rn(this,void 0,void 0,function*(){let t=this.topOutlet;for(;t&&!(yield t.pop());)t=t.parentOutlet})}setDirection(t,r,o,i){this.direction=t,this.animated=TU(t,r,o),this.animationBuilder=i}setTopOutlet(t){this.topOutlet=t}consumeTransition(){let r,t="root";const o=this.animationBuilder;return"auto"===this.direction?(t=this.guessDirection,r=this.guessAnimation):(r=this.animated,t=this.direction),this.direction=Tk,this.animated=Mk,this.animationBuilder=void 0,{direction:t,animation:r,animationBuilder:o}}navigate(t,r){if(Array.isArray(t))return this.router.navigate(t,r);{const o=this.serializer.parse(t.toString());return void 0!==r.queryParams&&(o.queryParams=Object.assign({},r.queryParams)),void 0!==r.fragment&&(o.fragment=r.fragment),this.router.navigateByUrl(o,r)}}}return n.\u0275fac=function(t){return new(t||n)(ee(IU),ee(hf),ee(Vu),ee(jo,8))},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const TU=(n,e,t)=>{if(!1!==e){if(void 0!==t)return t;if("forward"===n||"back"===n)return n;if("root"===n&&!0===e)return"forward"}},Tk="auto",Mk=void 0;let Yf=(()=>{class n{constructor(t,r,o,i,s,a,u,f,m,_,k,M,Y){this.parentContexts=t,this.location=r,this.config=s,this.navCtrl=a,this.componentFactoryResolver=u,this.parentOutlet=Y,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new Ps(null),this.stackEvents=new Mn,this.activateEvents=new Mn,this.deactivateEvents=new Mn,this.nativeEl=m.nativeElement,this.name=o||$n,this.tabsPrefix="true"===i?Kv(_,M):void 0,this.stackCtrl=new EU(this.tabsPrefix,this.nativeEl,_,a,k,f),t.onChildOutletCreated(this.name,this)}set animation(t){this.nativeEl.animation=t}set animated(t){this.nativeEl.animated=t}set swipeGesture(t){this._swipeGesture=t,this.nativeEl.swipeHandler=t?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:r=>this.stackCtrl.endBackTransition(r)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const t=this.getContext();t?.route&&this.activateWith(t.route,t.resolver||null)}new Promise(t=>(0,Ku.c)(this.nativeEl,t)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(t,r){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const r=this.getContext();this.activatedView.savedData=new Map(r.children.contexts);const o=this.activatedView.savedData.get("primary");if(o&&r.route&&(o.route=Object.assign({},r.route)),this.activatedView.savedExtras={},r.route){const i=r.route.snapshot;this.activatedView.savedExtras.queryParams=i.queryParams,this.activatedView.savedExtras.fragment=i.fragment}}const t=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){var o;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;let i,s=this.stackCtrl.getExistingView(t);if(s){i=this.activated=s.ref;const a=s.savedData;a&&(this.getContext().children.contexts=a),this.updateActivatedRouteProxy(i.instance,t)}else{const a=t._futureSnapshot;if(null==a.routeConfig.component&&null==this.environmentInjector)return void console.warn('[Ionic Warning]: You must supply an environmentInjector to use standalone components with routing:\n\nIn your component class, add:\n\n   import { EnvironmentInjector } from \'@angular/core\';\n   constructor(public environmentInjector: EnvironmentInjector) {}\n\nIn your router outlet template, add:\n\n   <ion-router-outlet [environmentInjector]="environmentInjector"></ion-router-outlet>\n\nAlternatively, if you are routing within ion-tabs:\n\n   <ion-tabs [environmentInjector]="environmentInjector"></ion-tabs>');const u=this.parentContexts.getOrCreateContext(this.name).children,f=new Ps(null),m=this.createActivatedRouteProxy(f,t),_=new MU(m,u,this.location.injector),k=null!==(o=a.routeConfig.component)&&void 0!==o?o:a.component;if((r=r||this.componentFactoryResolver)&&hk(r)){const M=r.resolveComponentFactory(k);i=this.activated=this.location.createComponent(M,this.location.length,_)}else i=this.activated=this.location.createComponent(k,{index:this.location.length,injector:_,environmentInjector:r??this.environmentInjector});f.next(i.instance),s=this.stackCtrl.createView(this.activated,t),this.proxyMap.set(i.instance,m),this.currentActivatedRoute$.next({component:i.instance,activatedRoute:t})}this.activatedView=s,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(s).then(a=>{this.activateEvents.emit(i.instance),this.stackEvents.emit(a)})}canGoBack(t=1,r){return this.stackCtrl.canGoBack(t,r)}pop(t=1,r){return this.stackCtrl.pop(t,r)}getLastUrl(t){const r=this.stackCtrl.getLastUrl(t);return r?r.url:void 0}getLastRouteView(t){return this.stackCtrl.getLastUrl(t)}getRootView(t){return this.stackCtrl.getRootUrl(t)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(t,r){const o=new gl;return o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,o._paramMap=this.proxyObservable(t,"paramMap"),o._queryParamMap=this.proxyObservable(t,"queryParamMap"),o.url=this.proxyObservable(t,"url"),o.params=this.proxyObservable(t,"params"),o.queryParams=this.proxyObservable(t,"queryParams"),o.fragment=this.proxyObservable(t,"fragment"),o.data=this.proxyObservable(t,"data"),o}proxyObservable(t,r){return t.pipe(_i(o=>!!o),vi(o=>this.currentActivatedRoute$.pipe(_i(i=>null!==i&&i.component===o),vi(i=>i&&i.activatedRoute[r]),fk())))}updateActivatedRouteProxy(t,r){const o=this.proxyMap.get(t);if(!o)throw new Error("Could not find activated route proxy for view");o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,this.currentActivatedRoute$.next({component:t,activatedRoute:r})}}return n.\u0275fac=function(t){return new(t||n)(C(Pc),C(Ni),nu("name"),nu("tabs"),C(Yv),C(Kf),C(Ja,8),C(hf),C(gt),C(jo),C(dt),C(gl),C(n,12))},n.\u0275dir=xt({type:n,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",environmentInjector:"environmentInjector"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class MU{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===gl?this.route:e===Pc?this.childContexts:this.parent.get(e,t)}}let xk=(()=>{class n{constructor(t){this.navCtrl=t,this.ionTabsWillChange=new Mn,this.ionTabsDidChange=new Mn}onPageSelected(t){const r=t.enteringView.stackId;t.tabSwitch&&void 0!==r&&(this.ionTabsWillChange.emit({tab:r}),this.tabBar&&(this.tabBar.selectedTab=r),this.ionTabsDidChange.emit({tab:r}))}select(t){const r="string"==typeof t,o=r?t:t.detail.tab,i=this.outlet.getActiveStackId()===o,s=`${this.outlet.tabsPrefix}/${o}`;if(r||t.stopPropagation(),i){const a=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(a)?.url===s)return;const f=this.outlet.getRootView(o);return this.navCtrl.navigateRoot(s,Object.assign(Object.assign({},f&&s===f.url&&f.savedExtras),{animated:!0,animationDirection:"back"}))}{const a=this.outlet.getLastRouteView(o),f=a?.savedExtras;return this.navCtrl.navigateRoot(a?.url||s,Object.assign(Object.assign({},f),{animated:!0,animationDirection:"back"}))}}getSelected(){return this.outlet.getActiveStackId()}}return n.\u0275fac=function(t){return new(t||n)(C(Kf))},n.\u0275cmp=ut({type:n,selectors:[["ion-tabs"]],contentQueries:function(t,r,o){if(1&t&&function Fl(n,e,t,r){const o=En();if(o.firstCreatePass){const i=jt();NS(o,new RS(e,t,r),i.index),function m2(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(o,n),2==(2&t)&&(o.staticContentQueries=!0)}OS(o,at(),t)}(o,qv,5),2&t){let i;xs(i=As())&&(r.tabBar=i.first)}},viewQuery:function(t,r){if(1&t&&Mu(sV,5,Yf),2&t){let o;xs(o=As())&&(r.outlet=o.first)}},hostBindings:function(t,r){1&t&&st("ionTabButtonClick",function(i){return r.select(i)})},inputs:{environmentInjector:"environmentInjector"},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:lV,decls:5,vars:1,consts:[[1,"tabs-inner"],["tabs","true",3,"environmentInjector","stackEvents"],["outlet",""]],template:function(t,r){1&t&&(Nt(aV),Rt(0),se(1,"div",0)(2,"ion-router-outlet",1,2),st("stackEvents",function(i){return r.onPageSelected(i)}),J()(),Rt(4,1)),2&t&&(Ye(2),rt("environmentInjector",r.environmentInjector))},dependencies:[Yf],styles:["[_nghost-%COMP%] {\n        display: flex;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n\n        flex-direction: column;\n\n        width: 100%;\n        height: 100%;\n\n        contain: layout size style;\n        z-index: $z-index-page-container;\n      }\n      .tabs-inner[_ngcontent-%COMP%] {\n        position: relative;\n\n        flex: 1;\n\n        contain: layout size style;\n      }"]}),n})(),Ak=(()=>{class n{constructor(t,r,o){this.routerOutlet=t,this.navCtrl=r,this.config=o}onClick(t){var r;const o=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(r=this.routerOutlet)&&void 0!==r&&r.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),t.preventDefault()):null!=o&&(this.navCtrl.navigateBack(o,{animation:this.routerAnimation}),t.preventDefault())}}return n.\u0275fac=function(t){return new(t||n)(C(Yf,8),C(Kf),C(Yv))},n.\u0275dir=xt({type:n,selectors:[["ion-back-button"]],hostBindings:function(t,r){1&t&&st("click",function(i){return r.onClick(i)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),n})(),Pk=(()=>{let n=class{constructor(t,r,o,i,s){this.el=t.nativeElement,t.nativeElement.delegate=i.create(r,o,s),Sr(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return n.\u0275fac=function(t){return new(t||n)(C(gt),C(Ja),C(ho),C(Om),C(Ni))},n.\u0275dir=xt({type:n,selectors:[["ion-nav"]]}),n=H([Lt({inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],n),n})();class Xf{constructor(e){this.ctrl=e}create(e){return this.ctrl.create(e||{})}dismiss(e,t,r){return this.ctrl.dismiss(e,t,r)}getTop(){return this.ctrl.getTop()}}let Qf=(()=>{class n extends Xf{constructor(){super(Gf.b)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Fc=(()=>{class n extends Xf{constructor(){super(Gf.a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wl=(()=>{class n extends Xf{constructor(){super(Gf.l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ht({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Nk{}let vs=(()=>{class n extends Xf{constructor(t,r,o,i){super(Gf.m),this.angularDelegate=t,this.resolver=r,this.injector=o,this.environmentInjector=i}create(t){var r;return super.create(Object.assign(Object.assign({},t),{delegate:this.angularDelegate.create(null!==(r=this.resolver)&&void 0!==r?r:this.environmentInjector,this.injector,void 0,"modal")}))}}return n.\u0275fac=function(t){return new(t||n)(ee(Om),ee(Ja),ee(ho),ee(Nk,8))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})(),Oc=(()=>{class n extends Xf{constructor(t,r,o,i){super(Gf.c),this.angularDelegate=t,this.resolver=r,this.injector=o,this.environmentInjector=i}create(t){var r;return super.create(Object.assign(Object.assign({},t),{delegate:this.angularDelegate.create(null!==(r=this.resolver)&&void 0!==r?r:this.environmentInjector,this.injector,void 0,"popover")}))}}return n.\u0275fac=function(t){return new(t||n)(ee(Om),ee(Ja),ee(ho),ee(Nk,8))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();const LU=(n,e,t)=>()=>{if(e.defaultView&&typeof window<"u"){(n=>{const e=window,t=e.Ionic;t&&t.config&&"Object"!==t.config.constructor.name||(e.Ionic=e.Ionic||{},e.Ionic.config=Object.assign(Object.assign({},e.Ionic.config),n))})(Object.assign(Object.assign({},n),{_zoneGate:i=>t.run(i)}));const o="__zone_symbol__addEventListener"in e.body?"__zone_symbol__addEventListener":"addEventListener";return function nV(){var n=[];if(typeof window<"u"){var e=window;(!e.customElements||e.Element&&(!e.Element.prototype.closest||!e.Element.prototype.matches||!e.Element.prototype.remove||!e.Element.prototype.getRootNode))&&n.push(A.e(6748).then(A.t.bind(A,3314,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||e.NodeList&&!e.NodeList.prototype.forEach||!e.fetch||!function(){try{var r=new URL("b","http://a");return r.pathname="c%20d","http://a/c%20d"===r.href&&r.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&n.push(A.e(2214).then(A.t.bind(A,7320,23)))}return Promise.all(n)}().then(()=>((n,e)=>typeof window>"u"?Promise.resolve():(0,uk.p)().then(()=>(rV(),(0,uk.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"activated":[32]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),e))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:pk,jmp:i=>t.runOutsideAngular(i),ael(i,s,a,u){i[o](s,a,u)},rel(i,s,a,u){i.removeEventListener(s,a,u)}}))}};let Zl=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:kk,useValue:t},{provide:wc,useFactory:LU,multi:!0,deps:[kk,Jo,dt]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ar({type:n}),n.\u0275inj=wr({providers:[Om,vs,Oc],imports:[[Aa]]}),n})();let Ju={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const $k=/[&<>"']/,BU=new RegExp($k.source,"g"),Bk=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,VU=new RegExp(Bk.source,"g"),UU={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Vk=n=>UU[n];function wi(n,e){if(e){if($k.test(n))return n.replace(BU,Vk)}else if(Bk.test(n))return n.replace(VU,Vk);return n}const jU=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function Uk(n){return n.replace(jU,(e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")}const HU=/(^|[^\[])\^/g;function Hr(n,e){n="string"==typeof n?n:n.source,e=e||"";const t={replace:(r,o)=>(o=(o=o.source||o).replace(HU,"$1"),n=n.replace(r,o),t),getRegex:()=>new RegExp(n,e)};return t}const GU=/[^\w:]/g,zU=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function jk(n,e,t){if(n){let r;try{r=decodeURIComponent(Uk(t)).replace(GU,"").toLowerCase()}catch{return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}e&&!zU.test(t)&&(t=function KU(n,e){Nm[" "+n]||(Nm[" "+n]=WU.test(n)?n+"/":$m(n,"/",!0));const t=-1===(n=Nm[" "+n]).indexOf(":");return"//"===e.substring(0,2)?t?e:n.replace(ZU,"$1")+e:"/"===e.charAt(0)?t?e:n.replace(qU,"$1")+e:n+e}(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const Nm={},WU=/^[^:]+:\/*[^/]*$/,ZU=/^([^:]+:)[\s\S]*$/,qU=/^([^:]+:\/*[^/]*)[\s\S]*$/,Lm={exec:function(){}};function aa(n){let t,r,e=1;for(;e<arguments.length;e++)for(r in t=arguments[e],t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function Hk(n,e){const r=n.replace(/\|/g,(i,s,a)=>{let u=!1,f=s;for(;--f>=0&&"\\"===a[f];)u=!u;return u?"|":" |"}).split(/ \|/);let o=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;o<r.length;o++)r[o]=r[o].trim().replace(/\\\|/g,"|");return r}function $m(n,e,t){const r=n.length;if(0===r)return"";let o=0;for(;o<r;){const i=n.charAt(r-o-1);if(i!==e||t){if(i===e||!t)break;o++}else o++}return n.slice(0,r-o)}function Gk(n){n&&n.sanitize&&!n.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function zk(n,e){if(e<1)return"";let t="";for(;e>1;)1&e&&(t+=n),e>>=1,n+=n;return t+n}function Wk(n,e,t,r){const o=e.href,i=e.title?wi(e.title):null,s=n[1].replace(/\\([\[\]])/g,"$1");if("!"!==n[0].charAt(0)){r.state.inLink=!0;const a={type:"link",raw:t,href:o,title:i,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,a}return{type:"image",raw:t,href:o,title:i,text:wi(s)}}class Qv{constructor(e){this.options=e||Ju}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const r=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:$m(r,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const r=t[0],o=function XU(n,e){const t=n.match(/^(\s+)(?:```)/);if(null===t)return e;const r=t[1];return e.split("\n").map(o=>{const i=o.match(/^\s+/);if(null===i)return o;const[s]=i;return s.length>=r.length?o.slice(r.length):o}).join("\n")}(r,t[3]||"");return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:o}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(/#$/.test(r)){const o=$m(r,"#");(this.options.pedantic||!o||/ $/.test(o))&&(r=o.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const r=t[0].replace(/^ *>[ \t]?/gm,""),o=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(r);return this.lexer.state.top=o,{type:"blockquote",raw:t[0],tokens:i,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r,o,i,s,a,u,f,m,_,k,M,Y,Se=t[1].trim();const Ge=Se.length>1,Ke={type:"list",raw:"",ordered:Ge,start:Ge?+Se.slice(0,-1):"",loose:!1,items:[]};Se=Ge?`\\d{1,9}\\${Se.slice(-1)}`:`\\${Se}`,this.options.pedantic&&(Se=Ge?Se:"[*+-]");const bt=new RegExp(`^( {0,3}${Se})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;e&&(Y=!1,(t=bt.exec(e))&&!this.rules.block.hr.test(e));){if(r=t[0],e=e.substring(r.length),m=t[2].split("\n",1)[0].replace(/^\t+/,$t=>" ".repeat(3*$t.length)),_=e.split("\n",1)[0],this.options.pedantic?(s=2,M=m.trimLeft()):(s=t[2].search(/[^ ]/),s=s>4?1:s,M=m.slice(s),s+=t[1].length),u=!1,!m&&/^ *$/.test(_)&&(r+=_+"\n",e=e.substring(_.length+1),Y=!0),!Y){const $t=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),In=new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Wn=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),Cs=new RegExp(`^ {0,${Math.min(3,s-1)}}#`);for(;e&&(k=e.split("\n",1)[0],_=k,this.options.pedantic&&(_=_.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Wn.test(_)||Cs.test(_)||$t.test(_)||In.test(e)));){if(_.search(/[^ ]/)>=s||!_.trim())M+="\n"+_.slice(s);else{if(u||m.search(/[^ ]/)>=4||Wn.test(m)||Cs.test(m)||In.test(m))break;M+="\n"+_}!u&&!_.trim()&&(u=!0),r+=k+"\n",e=e.substring(k.length+1),m=_.slice(s)}}Ke.loose||(f?Ke.loose=!0:/\n *\n *$/.test(r)&&(f=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(M),o&&(i="[ ] "!==o[0],M=M.replace(/^\[[ xX]\] +/,""))),Ke.items.push({type:"list_item",raw:r,task:!!o,checked:i,loose:!1,text:M}),Ke.raw+=r}Ke.items[Ke.items.length-1].raw=r.trimRight(),Ke.items[Ke.items.length-1].text=M.trimRight(),Ke.raw=Ke.raw.trimRight();const Le=Ke.items.length;for(a=0;a<Le;a++)if(this.lexer.state.top=!1,Ke.items[a].tokens=this.lexer.blockTokens(Ke.items[a].text,[]),!Ke.loose){const $t=Ke.items[a].tokens.filter(Wn=>"space"===Wn.type),In=$t.length>0&&$t.some(Wn=>/\n.*\n/.test(Wn.raw));Ke.loose=In}if(Ke.loose)for(a=0;a<Le;a++)Ke.items[a].loose=!0;return Ke}}html(e){const t=this.rules.block.html.exec(e);if(t){const r={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){const o=this.options.sanitizer?this.options.sanitizer(t[0]):wi(t[0]);r.type="paragraph",r.text=o,r.tokens=this.lexer.inline(o)}return r}}def(e){const t=this.rules.block.def.exec(e);if(t){const r=t[1].toLowerCase().replace(/\s+/g," "),o=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:o,title:i}}}table(e){const t=this.rules.block.table.exec(e);if(t){const r={type:"table",header:Hk(t[1]).map(o=>({text:o})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(r.header.length===r.align.length){r.raw=t[0];let i,s,a,u,o=r.align.length;for(i=0;i<o;i++)r.align[i]=/^ *-+: *$/.test(r.align[i])?"right":/^ *:-+: *$/.test(r.align[i])?"center":/^ *:-+ *$/.test(r.align[i])?"left":null;for(o=r.rows.length,i=0;i<o;i++)r.rows[i]=Hk(r.rows[i],r.header.length).map(f=>({text:f}));for(o=r.header.length,s=0;s<o;s++)r.header[s].tokens=this.lexer.inline(r.header[s].text);for(o=r.rows.length,s=0;s<o;s++)for(u=r.rows[s],a=0;a<u.length;a++)u[a].tokens=this.lexer.inline(u[a].text);return r}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const r="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:wi(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):wi(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const r=t[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const s=$m(r.slice(0,-1),"\\");if((r.length-s.length)%2==0)return}else{const s=function YU(n,e){if(-1===n.indexOf(e[1]))return-1;const t=n.length;let r=0,o=0;for(;o<t;o++)if("\\"===n[o])o++;else if(n[o]===e[0])r++;else if(n[o]===e[1]&&(r--,r<0))return o;return-1}(t[2],"()");if(s>-1){const u=(0===t[0].indexOf("!")?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,u).trim(),t[3]=""}}let o=t[2],i="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);s&&(o=s[1],i=s[3])}else i=t[3]?t[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(r)?o.slice(1):o.slice(1,-1)),Wk(t,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let o=(r[2]||r[1]).replace(/\s+/g," ");if(o=t[o.toLowerCase()],!o){const i=r[0].charAt(0);return{type:"text",raw:i,text:i}}return Wk(r,o,r[0],this.lexer)}}emStrong(e,t,r=""){let o=this.rules.inline.emStrong.lDelim.exec(e);if(!o||o[3]&&r.match(/[\p{L}\p{N}]/u))return;const i=o[1]||o[2]||"";if(!i||i&&(""===r||this.rules.inline.punctuation.exec(r))){const s=o[0].length-1;let a,u,f=s,m=0;const _="*"===o[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(_.lastIndex=0,t=t.slice(-1*e.length+s);null!=(o=_.exec(t));){if(a=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!a)continue;if(u=a.length,o[3]||o[4]){f+=u;continue}if((o[5]||o[6])&&s%3&&!((s+u)%3)){m+=u;continue}if(f-=u,f>0)continue;u=Math.min(u,u+f+m);const k=e.slice(0,s+o.index+(o[0].length-a.length)+u);if(Math.min(s,u)%2){const Y=k.slice(1,-1);return{type:"em",raw:k,text:Y,tokens:this.lexer.inlineTokens(Y)}}const M=k.slice(2,-2);return{type:"strong",raw:k,text:M,tokens:this.lexer.inlineTokens(M)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(/\n/g," ");const o=/[^ ]/.test(r),i=/^ /.test(r)&&/ $/.test(r);return o&&i&&(r=r.substring(1,r.length-1)),r=wi(r,!0),{type:"codespan",raw:t[0],text:r}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const r=this.rules.inline.autolink.exec(e);if(r){let o,i;return"@"===r[2]?(o=wi(this.options.mangle?t(r[1]):r[1]),i="mailto:"+o):(o=wi(r[1]),i=o),{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}url(e,t){let r;if(r=this.rules.inline.url.exec(e)){let o,i;if("@"===r[2])o=wi(this.options.mangle?t(r[0]):r[0]),i="mailto:"+o;else{let s;do{s=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(s!==r[0]);o=wi(r[0]),i="www."===r[1]?"http://"+r[0]:r[0]}return{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(e,t){const r=this.rules.inline.text.exec(e);if(r){let o;return o=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):wi(r[0]):r[0]:wi(this.options.smartypants?t(r[0]):r[0]),{type:"text",raw:r[0],text:o}}}}const Dn={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Lm,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Dn.def=Hr(Dn.def).replace("label",Dn._label).replace("title",Dn._title).getRegex(),Dn.bullet=/(?:[*+-]|\d{1,9}[.)])/,Dn.listItemStart=Hr(/^( *)(bull) */).replace("bull",Dn.bullet).getRegex(),Dn.list=Hr(Dn.list).replace(/bull/g,Dn.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Dn.def.source+")").getRegex(),Dn._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Dn._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Dn.html=Hr(Dn.html,"i").replace("comment",Dn._comment).replace("tag",Dn._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Dn.paragraph=Hr(Dn._paragraph).replace("hr",Dn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Dn._tag).getRegex(),Dn.blockquote=Hr(Dn.blockquote).replace("paragraph",Dn.paragraph).getRegex(),Dn.normal=aa({},Dn),Dn.gfm=aa({},Dn.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Dn.gfm.table=Hr(Dn.gfm.table).replace("hr",Dn.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Dn._tag).getRegex(),Dn.gfm.paragraph=Hr(Dn._paragraph).replace("hr",Dn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Dn.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Dn._tag).getRegex(),Dn.pedantic=aa({},Dn.normal,{html:Hr("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Dn._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Lm,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Hr(Dn.normal._paragraph).replace("hr",Dn.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Dn.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const Qt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Lm,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Lm,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function QU(n){return n.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function Zk(n){let t,r,e="";const o=n.length;for(t=0;t<o;t++)r=n.charCodeAt(t),Math.random()>.5&&(r="x"+r.toString(16)),e+="&#"+r+";";return e}Qt._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Qt.punctuation=Hr(Qt.punctuation).replace(/punctuation/g,Qt._punctuation).getRegex(),Qt.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Qt.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,Qt._comment=Hr(Dn._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Qt.emStrong.lDelim=Hr(Qt.emStrong.lDelim).replace(/punct/g,Qt._punctuation).getRegex(),Qt.emStrong.rDelimAst=Hr(Qt.emStrong.rDelimAst,"g").replace(/punct/g,Qt._punctuation).getRegex(),Qt.emStrong.rDelimUnd=Hr(Qt.emStrong.rDelimUnd,"g").replace(/punct/g,Qt._punctuation).getRegex(),Qt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Qt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Qt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Qt.autolink=Hr(Qt.autolink).replace("scheme",Qt._scheme).replace("email",Qt._email).getRegex(),Qt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Qt.tag=Hr(Qt.tag).replace("comment",Qt._comment).replace("attribute",Qt._attribute).getRegex(),Qt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Qt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Qt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Qt.link=Hr(Qt.link).replace("label",Qt._label).replace("href",Qt._href).replace("title",Qt._title).getRegex(),Qt.reflink=Hr(Qt.reflink).replace("label",Qt._label).replace("ref",Dn._label).getRegex(),Qt.nolink=Hr(Qt.nolink).replace("ref",Dn._label).getRegex(),Qt.reflinkSearch=Hr(Qt.reflinkSearch,"g").replace("reflink",Qt.reflink).replace("nolink",Qt.nolink).getRegex(),Qt.normal=aa({},Qt),Qt.pedantic=aa({},Qt.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Hr(/^!?\[(label)\]\((.*?)\)/).replace("label",Qt._label).getRegex(),reflink:Hr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Qt._label).getRegex()}),Qt.gfm=aa({},Qt.normal,{escape:Hr(Qt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Qt.gfm.url=Hr(Qt.gfm.url,"i").replace("email",Qt.gfm._extended_email).getRegex(),Qt.breaks=aa({},Qt.gfm,{br:Hr(Qt.br).replace("{2,}","*").getRegex(),text:Hr(Qt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class vl{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Ju,this.options.tokenizer=this.options.tokenizer||new Qv,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:Dn.normal,inline:Qt.normal};this.options.pedantic?(t.block=Dn.pedantic,t.inline=Qt.pedantic):this.options.gfm&&(t.block=Dn.gfm,t.inline=this.options.breaks?Qt.breaks:Qt.gfm),this.tokenizer.rules=t}static get rules(){return{block:Dn,inline:Qt}}static lex(e,t){return new vl(t).lex(e)}static lexInline(e,t){return new vl(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let r,o,i,s;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(a,u,f)=>u+"    ".repeat(f.length));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(r=a.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),1===r.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),o=t[t.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?t.push(r):(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),o=t[t.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title}):(o.raw+="\n"+r.raw,o.text+="\n"+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(i=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const u=e.slice(1);let f;this.options.extensions.startBlock.forEach(function(m){f=m.call({lexer:this},u),"number"==typeof f&&f>=0&&(a=Math.min(a,f))}),a<1/0&&a>=0&&(i=e.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){o=t[t.length-1],s&&"paragraph"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(r),s=i.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),o=t[t.length-1],o&&"text"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(r);continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let r,o,i,a,u,f,s=e;if(this.tokens.links){const m=Object.keys(this.tokens.links);if(m.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(s));)m.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+zk("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,a.index)+"["+zk("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.escapedEmSt.exec(s));)s=s.slice(0,a.index+a[0].length-2)+"++"+s.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(u||(f=""),u=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(m=>!!(r=m.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),o=t[t.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):t.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),o=t[t.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):t.push(r);continue}if(r=this.tokenizer.emStrong(e,s,f)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.autolink(e,Zk)){e=e.substring(r.raw.length),t.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e,Zk))){e=e.substring(r.raw.length),t.push(r);continue}if(i=e,this.options.extensions&&this.options.extensions.startInline){let m=1/0;const _=e.slice(1);let k;this.options.extensions.startInline.forEach(function(M){k=M.call({lexer:this},_),"number"==typeof k&&k>=0&&(m=Math.min(m,k))}),m<1/0&&m>=0&&(i=e.substring(0,m+1))}if(r=this.tokenizer.inlineText(i,QU)){e=e.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(f=r.raw.slice(-1)),u=!0,o=t[t.length-1],o&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):t.push(r);continue}if(e){const m="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(m);break}throw new Error(m)}}return t}}class ed{constructor(e){this.options=e||Ju}code(e,t,r){const o=(t||"").match(/\S*/)[0];if(this.options.highlight){const i=this.options.highlight(e,o);null!=i&&i!==e&&(r=!0,e=i)}return e=e.replace(/\n$/,"")+"\n",o?'<pre><code class="'+this.options.langPrefix+wi(o)+'">'+(r?e:wi(e,!0))+"</code></pre>\n":"<pre><code>"+(r?e:wi(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e){return e}heading(e,t,r,o){return this.options.headerIds?`<h${t} id="${this.options.headerPrefix+o.slug(r)}">${e}</h${t}>\n`:`<h${t}>${e}</h${t}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,r){const o=t?"ol":"ul";return"<"+o+(t&&1!==r?' start="'+r+'"':"")+">\n"+e+"</"+o+">\n"}listitem(e){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,r){if(null===(e=jk(this.options.sanitize,this.options.baseUrl,e)))return r;let o='<a href="'+e+'"';return t&&(o+=' title="'+t+'"'),o+=">"+r+"</a>",o}image(e,t,r){if(null===(e=jk(this.options.sanitize,this.options.baseUrl,e)))return r;let o=`<img src="${e}" alt="${r}"`;return t&&(o+=` title="${t}"`),o+=this.options.xhtml?"/>":">",o}text(e){return e}}class qk{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,r){return""+r}image(e,t,r){return""+r}br(){return""}}class Kk{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let r=e,o=0;if(this.seen.hasOwnProperty(r)){o=this.seen[e];do{o++,r=e+"-"+o}while(this.seen.hasOwnProperty(r))}return t||(this.seen[e]=o,this.seen[r]=0),r}slug(e,t={}){const r=this.serialize(e);return this.getNextSafeSlug(r,t.dryrun)}}class Na{constructor(e){this.options=e||Ju,this.options.renderer=this.options.renderer||new ed,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new qk,this.slugger=new Kk}static parse(e,t){return new Na(t).parse(e)}static parseInline(e,t){return new Na(t).parseInline(e)}parse(e,t=!0){let o,i,s,a,u,f,m,_,k,M,Y,Se,Ge,Ke,bt,Le,$t,In,Wn,r="";const Cs=e.length;for(o=0;o<Cs;o++)if(M=e[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[M.type]&&(Wn=this.options.extensions.renderers[M.type].call({parser:this},M),!1!==Wn||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(M.type)))r+=Wn||"";else switch(M.type){case"space":continue;case"hr":r+=this.renderer.hr();continue;case"heading":r+=this.renderer.heading(this.parseInline(M.tokens),M.depth,Uk(this.parseInline(M.tokens,this.textRenderer)),this.slugger);continue;case"code":r+=this.renderer.code(M.text,M.lang,M.escaped);continue;case"table":for(_="",m="",a=M.header.length,i=0;i<a;i++)m+=this.renderer.tablecell(this.parseInline(M.header[i].tokens),{header:!0,align:M.align[i]});for(_+=this.renderer.tablerow(m),k="",a=M.rows.length,i=0;i<a;i++){for(f=M.rows[i],m="",u=f.length,s=0;s<u;s++)m+=this.renderer.tablecell(this.parseInline(f[s].tokens),{header:!1,align:M.align[s]});k+=this.renderer.tablerow(m)}r+=this.renderer.table(_,k);continue;case"blockquote":k=this.parse(M.tokens),r+=this.renderer.blockquote(k);continue;case"list":for(Y=M.ordered,Se=M.start,Ge=M.loose,a=M.items.length,k="",i=0;i<a;i++)bt=M.items[i],Le=bt.checked,$t=bt.task,Ke="",bt.task&&(In=this.renderer.checkbox(Le),Ge?bt.tokens.length>0&&"paragraph"===bt.tokens[0].type?(bt.tokens[0].text=In+" "+bt.tokens[0].text,bt.tokens[0].tokens&&bt.tokens[0].tokens.length>0&&"text"===bt.tokens[0].tokens[0].type&&(bt.tokens[0].tokens[0].text=In+" "+bt.tokens[0].tokens[0].text)):bt.tokens.unshift({type:"text",text:In}):Ke+=In),Ke+=this.parse(bt.tokens,Ge),k+=this.renderer.listitem(Ke,$t,Le);r+=this.renderer.list(k,Y,Se);continue;case"html":r+=this.renderer.html(M.text);continue;case"paragraph":r+=this.renderer.paragraph(this.parseInline(M.tokens));continue;case"text":for(k=M.tokens?this.parseInline(M.tokens):M.text;o+1<Cs&&"text"===e[o+1].type;)M=e[++o],k+="\n"+(M.tokens?this.parseInline(M.tokens):M.text);r+=t?this.renderer.paragraph(k):k;continue;default:{const Xm='Token with "'+M.type+'" type was not found.';if(this.options.silent)return void console.error(Xm);throw new Error(Xm)}}return r}parseInline(e,t){t=t||this.renderer;let o,i,s,r="";const a=e.length;for(o=0;o<a;o++)if(i=e[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]&&(s=this.options.extensions.renderers[i.type].call({parser:this},i),!1!==s||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)))r+=s||"";else switch(i.type){case"escape":case"text":r+=t.text(i.text);break;case"html":r+=t.html(i.text);break;case"link":r+=t.link(i.href,i.title,this.parseInline(i.tokens,t));break;case"image":r+=t.image(i.href,i.title,i.text);break;case"strong":r+=t.strong(this.parseInline(i.tokens,t));break;case"em":r+=t.em(this.parseInline(i.tokens,t));break;case"codespan":r+=t.codespan(i.text);break;case"br":r+=t.br();break;case"del":r+=t.del(this.parseInline(i.tokens,t));break;default:{const u='Token with "'+i.type+'" type was not found.';if(this.options.silent)return void console.error(u);throw new Error(u)}}return r}}function Tn(n,e,t){if(typeof n>"u"||null===n)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof n)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");if("function"==typeof e&&(t=e,e=null),Gk(e=aa({},Tn.defaults,e||{})),t){const o=e.highlight;let i;try{i=vl.lex(n,e)}catch(u){return t(u)}const s=function(u){let f;if(!u)try{e.walkTokens&&Tn.walkTokens(i,e.walkTokens),f=Na.parse(i,e)}catch(m){u=m}return e.highlight=o,u?t(u):t(null,f)};if(!o||o.length<3||(delete e.highlight,!i.length))return s();let a=0;return Tn.walkTokens(i,function(u){"code"===u.type&&(a++,setTimeout(()=>{o(u.text,u.lang,function(f,m){if(f)return s(f);null!=m&&m!==u.text&&(u.text=m,u.escaped=!0),a--,0===a&&s()})},0))}),void(0===a&&s())}function r(o){if(o.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+wi(o.message+"",!0)+"</pre>";throw o}try{const o=vl.lex(n,e);if(e.walkTokens){if(e.async)return Promise.all(Tn.walkTokens(o,e.walkTokens)).then(()=>Na.parse(o,e)).catch(r);Tn.walkTokens(o,e.walkTokens)}return Na.parse(o,e)}catch(o){r(o)}}Tn.options=Tn.setOptions=function(n){return aa(Tn.defaults,n),function $U(n){Ju=n}(Tn.defaults),Tn},Tn.getDefaults=function Lk(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},Tn.defaults=Ju,Tn.use=function(...n){const e=Tn.defaults.extensions||{renderers:{},childTokens:{}};n.forEach(t=>{const r=aa({},t);if(r.async=Tn.defaults.async||r.async,t.extensions&&(t.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if(o.renderer){const i=e.renderers[o.name];e.renderers[o.name]=i?function(...s){let a=o.renderer.apply(this,s);return!1===a&&(a=i.apply(this,s)),a}:o.renderer}if(o.tokenizer){if(!o.level||"block"!==o.level&&"inline"!==o.level)throw new Error("extension level must be 'block' or 'inline'");e[o.level]?e[o.level].unshift(o.tokenizer):e[o.level]=[o.tokenizer],o.start&&("block"===o.level?e.startBlock?e.startBlock.push(o.start):e.startBlock=[o.start]:"inline"===o.level&&(e.startInline?e.startInline.push(o.start):e.startInline=[o.start]))}o.childTokens&&(e.childTokens[o.name]=o.childTokens)}),r.extensions=e),t.renderer){const o=Tn.defaults.renderer||new ed;for(const i in t.renderer){const s=o[i];o[i]=(...a)=>{let u=t.renderer[i].apply(o,a);return!1===u&&(u=s.apply(o,a)),u}}r.renderer=o}if(t.tokenizer){const o=Tn.defaults.tokenizer||new Qv;for(const i in t.tokenizer){const s=o[i];o[i]=(...a)=>{let u=t.tokenizer[i].apply(o,a);return!1===u&&(u=s.apply(o,a)),u}}r.tokenizer=o}if(t.walkTokens){const o=Tn.defaults.walkTokens;r.walkTokens=function(i){let s=[];return s.push(t.walkTokens.call(this,i)),o&&(s=s.concat(o.call(this,i))),s}}Tn.setOptions(r)})},Tn.walkTokens=function(n,e){let t=[];for(const r of n)switch(t=t.concat(e.call(Tn,r)),r.type){case"table":for(const o of r.header)t=t.concat(Tn.walkTokens(o.tokens,e));for(const o of r.rows)for(const i of o)t=t.concat(Tn.walkTokens(i.tokens,e));break;case"list":t=t.concat(Tn.walkTokens(r.items,e));break;default:Tn.defaults.extensions&&Tn.defaults.extensions.childTokens&&Tn.defaults.extensions.childTokens[r.type]?Tn.defaults.extensions.childTokens[r.type].forEach(function(o){t=t.concat(Tn.walkTokens(r[o],e))}):r.tokens&&(t=t.concat(Tn.walkTokens(r.tokens,e)))}return t},Tn.parseInline=function(n,e){if(typeof n>"u"||null===n)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof n)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");Gk(e=aa({},Tn.defaults,e||{}));try{const t=vl.lexInline(n,e);return e.walkTokens&&Tn.walkTokens(t,e.walkTokens),Na.parseInline(t,e)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+wi(t.message+"",!0)+"</pre>";throw t}},Tn.Parser=Na,Tn.parser=Na.parse,Tn.Renderer=ed,Tn.TextRenderer=qk,Tn.Lexer=vl,Tn.lexer=vl.lex,Tn.Tokenizer=Qv,Tn.Slugger=Kk,Tn.parse=Tn;class JU extends z{constructor(e,t){super()}schedule(e,t=0){return this}}const Bm={setInterval(n,e,...t){const{delegate:r}=Bm;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Bm;return(e?.clearInterval||clearInterval)(n)},delegate:void 0},Jv={now:()=>(Jv.delegate||Date).now(),delegate:void 0};class Jf{constructor(e,t=Jf.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Jf.now=Jv.now;const Yk=new class tj extends Jf{constructor(e,t=Jf.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}(class ej extends JU{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const o=this.id,i=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(i,o,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return Bm.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Bm.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let o,r=!1;try{this.work(e)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,te(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}),nj=Yk;function Xk(n=0,e,t=nj){let r=-1;return null!=e&&(Io(e)?t=e:r=e),new yt(o=>{let i=function rj(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;i<0&&(i=0);let s=0;return t.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}class oj extends tt{constructor(e=1/0,t=1/0,r=Jv){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;t||(r.push(e),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!e.closed;s+=r?1:2)e.next(i[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*e;if(e<1/0&&i<r.length&&r.splice(0,r.length-i),!o){const s=t.now();let a=0;for(let u=1;u<r.length&&r[u]<=s;u+=2)a=u;a&&r.splice(0,a+1)}}}const aj=["*"];let e0=(()=>{class n{constructor(){this._buttonClick$=new tt,this.copied$=this._buttonClick$.pipe(vi(()=>mi(bn(!0),Xk(3e3).pipe(bv(!1)))),fk(),function ij(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,Ss({connector:()=>new oj(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(1)),this.copiedText$=this.copied$.pipe(J1(!1),Ae(t=>t?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ut({type:n,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(t,r){1&t&&(se(0,"button",0),st("click",function(){return r.onCopyToClipboardClick()}),ka(1,"async"),qe(2),ka(3,"async"),J()),2&t&&(rl("copied",Ta(1,3,r.copied$)),Ye(2),Ms(Ta(3,5,r.copiedText$)))},dependencies:[tD],encapsulation:2,changeDetection:0}),n})();class uj{}var ep=(()=>{return(n=ep||(ep={})).CommandLine="command-line",n.LineHighlight="line-highlight",n.LineNumbers="line-numbers",ep;var n})();class Qk{}const Jk=new an("SECURITY_CONTEXT");let t0=(()=>{class n{constructor(t,r,o,i,s,a){this.platform=t,this.securityContext=r,this.http=o,this.clipboardOptions=i,this.sanitizer=a,this.DEFAULT_MARKED_OPTIONS={renderer:new ed},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:this.DEFAULT_MARKED_OPTIONS,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new tt,this.reload$=this._reload$.asObservable(),this.options=s}get options(){return this._options}set options(t){this._options={...this.DEFAULT_MARKED_OPTIONS,...t}}get renderer(){return this.options.renderer}set renderer(t){this.options.renderer=t}parse(t,r=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:o,inline:i,emoji:s,mermaid:a,disableSanitizer:u}=r,f={...this.options,...r.markedOptions};a&&(this.renderer=this.extendRenderer(f.renderer||new ed));const m=this.trimIndentation(t),_=o?this.decodeHtml(m):m,k=s?this.parseEmoji(_):_,M=this.parseMarked(k,f,i);return(u?M:this.sanitizer.sanitize(this.securityContext,M))||""}render(t,r=this.DEFAULT_RENDER_OPTIONS,o){const{clipboard:i,clipboardOptions:s,katex:a,katexOptions:u,mermaid:f,mermaidOptions:m}=r;i&&this.renderClipboard(t,o,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...s}),a&&this.renderKatex(t,{...this.DEFAULT_KATEX_OPTIONS,...u}),f&&this.renderMermaid(t,{...this.DEFAULT_MERMAID_OPTIONS,...m}),this.highlight(t)}reload(){this._reload$.next()}getSource(t){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(t,{responseType:"text"}).pipe(Ae(r=>this.handleExtension(t,r)))}highlight(t){if(!Ll(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;t||(t=document);const r=t.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(r,o=>o.classList.add("language-none")),Prism.highlightAllUnder(t)}decodeHtml(t){if(!Ll(this.platform))return t;const r=document.createElement("textarea");return r.innerHTML=t,r.value}extendRenderer(t){const r=t;if(!0===r.\u0275NgxMarkdownRendererExtended)return t;const o=t.code;return t.code=function(i,s,a){return"mermaid"===s?`<div class="mermaid">${i}</div>`:o.call(this,i,s,a)},r.\u0275NgxMarkdownRendererExtended=!0,t}handleExtension(t,r){const o=t.lastIndexOf("://"),i=o>-1?t.substring(o+4):t,s=i.lastIndexOf("/"),a=s>-1?i.substring(s+1).split("?")[0]:"",u=a.lastIndexOf("."),f=u>-1?a.substring(u+1):"";return f&&"md"!==f?"```"+f+"\n"+r+"\n```":r}parseMarked(t,r,o=!1){return o?Tn.parseInline(t,r):Tn.parse(t,r)}parseEmoji(t){if(!Ll(this.platform))return t;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(t)}renderKatex(t,r){if(Ll(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(t,r)}}renderClipboard(t,r,o){if(!Ll(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!r)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:i,buttonTemplate:s}=o,a=t.querySelectorAll("pre");for(let u=0;u<a.length;u++){const f=a.item(u),m=document.createElement("div");m.style.position="relative",f.parentNode.insertBefore(m,f),m.appendChild(f);const _=document.createElement("div");let k,M;_.style.position="absolute",_.style.top=".5em",_.style.right=".5em",_.style.opacity="0",_.style.transition="opacity 250ms ease-out",m.insertAdjacentElement("beforeend",_),f.onmouseover=()=>_.style.opacity="1",f.onmouseout=()=>_.style.opacity="0",k=i?r.createComponent(i).hostView:s?r.createEmbeddedView(s):r.createComponent(e0).hostView,k.rootNodes.forEach(Y=>{Y.onmouseover=()=>_.style.opacity="1",_.appendChild(Y),M=new ClipboardJS(Y,{text:()=>f.innerText})}),k.onDestroy(()=>M.destroy())}}renderMermaid(t,r=this.DEFAULT_MERMAID_OPTIONS){if(!Ll(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.init>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const o=t.querySelectorAll(".mermaid");0!==o.length&&(mermaid.initialize(r),mermaid.init(o))}trimIndentation(t){if(!t)return"";let r;return t.split("\n").map(o=>{let i=r;return o.length>0&&(i=isNaN(i)?o.search(/\S|$/):Math.min(o.search(/\S|$/),i)),isNaN(r)&&(r=i),i?o.substring(i):o}).join("\n")}}return n.\u0275fac=function(t){return new(t||n)(ee(Pu),ee(Jk),ee(Z_,8),ee(uj,8),ee(Qk,8),ee(j_))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})(),n0=(()=>{class n{constructor(t,r,o){this.element=t,this.markdownService=r,this.viewContainerRef=o,this.error=new Mn,this.load=new Mn,this.ready=new Mn,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this._srcRelativeLink=!1,this.destroyed$=new tt}get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(t){this._disableSanitizer=this.coerceBooleanProperty(t)}get inline(){return this._inline}set inline(t){this._inline=this.coerceBooleanProperty(t)}get srcRelativeLink(){return this._srcRelativeLink}set srcRelativeLink(t){this._srcRelativeLink=this.coerceBooleanProperty(t)}get clipboard(){return this._clipboard}set clipboard(t){this._clipboard=this.coerceBooleanProperty(t)}get emoji(){return this._emoji}set emoji(t){this._emoji=this.coerceBooleanProperty(t)}get katex(){return this._katex}set katex(t){this._katex=this.coerceBooleanProperty(t)}get mermaid(){return this._mermaid}set mermaid(t){this._mermaid=this.coerceBooleanProperty(t)}get lineHighlight(){return this._lineHighlight}set lineHighlight(t){this._lineHighlight=this.coerceBooleanProperty(t)}get lineNumbers(){return this._lineNumbers}set lineNumbers(t){this._lineNumbers=this.coerceBooleanProperty(t)}get commandLine(){return this._commandLine}set commandLine(t){this._commandLine=this.coerceBooleanProperty(t)}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(function sj(n){return q((e,t)=>{On(n).subscribe(ye(t,()=>t.complete(),B)),!t.closed&&e.subscribe(t)})}(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(t,r=!1){let o;this.src&&this.srcRelativeLink&&(o={baseUrl:new URL(this.src,location.origin).pathname});const s={clipboard:this.clipboard,clipboardOptions:{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate},katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},a=this.markdownService.parse(t,{decodeHtml:r,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid,markedOptions:o,disableSanitizer:this.disableSanitizer});this.element.nativeElement.innerHTML=a,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,s,this.viewContainerRef),this.ready.emit()}coerceBooleanProperty(t){return null!=t&&"false"!=`${String(t)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:t=>{this.render(t),this.load.emit(t)},error:t=>this.error.emit(t)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,ep.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,ep.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(t,r){const o=t.querySelectorAll("pre");for(let i=0;i<o.length;i++){const s=r instanceof Array?r:[r];o.item(i).classList.add(...s)}}setPluginOptions(t,r){const o=t.querySelectorAll("pre");for(let i=0;i<o.length;i++)Object.keys(r).forEach(s=>{const a=r[s];if(a){const u=this.toLispCase(s);o.item(i).setAttribute(u,a.toString())}})}toLispCase(t){const r=t.match(/([A-Z])/g);if(!r)return t;let o=t.toString();for(let i=0,s=r.length;i<s;i++)o=o.replace(new RegExp(r[i]),"-"+r[i].toLowerCase());return"-"===o.slice(0,1)&&(o=o.slice(1)),o}}return n.\u0275fac=function(t){return new(t||n)(C(gt),C(t0),C(Ni))},n.\u0275cmp=ut({type:n,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",srcRelativeLink:"srcRelativeLink",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[No],ngContentSelectors:aj,decls:1,vars:0,template:function(t,r){1&t&&(Nt(),Rt(0))},encapsulation:2}),n})(),r0=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[t0,t&&t.loader||[],t&&t.clipboardOptions||[],t&&t.markedOptions||[],{provide:Jk,useValue:t&&null!=t.sanitize?t.sanitize:jr.HTML}]}}static forChild(){return{ngModule:n}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ar({type:n}),n.\u0275inj=wr({imports:[Aa]}),n})();var eT;!function(n){let e;var o;let t,r;(o=e=n.SecurityLevel||(n.SecurityLevel={})).Strict="strict",o.Loose="loose",o.Antiscript="antiscript",o.Sandbox="sandbox",function(o){o.Base="base",o.Forest="forest",o.Dark="dark",o.Default="default",o.Neutral="neutral"}(t=n.Theme||(n.Theme={})),function(o){o[o.Debug=1]="Debug",o[o.Info=2]="Info",o[o.Warn=3]="Warn",o[o.Error=4]="Error",o[o.Fatal=5]="Fatal"}(r=n.LogLevel||(n.LogLevel={}))}(eT||(eT={}));var ae=A(3918);const _j="safari"in window,tT=!navigator.userAgent.match(/(crios)|(fxios)/i),la=!!navigator.platform.match(/iPhone|iPad|iPod/)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,nT=!!navigator.userAgent.match(/android/i),vj=navigator.userAgent.toLowerCase().indexOf("firefox")>=0;var ql=(()=>{return(n=ql||(ql={})).web="web",n.pwa="pwa",n.twa="twa",ql;var n})();new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked");const wj=new Error("request for lock canceled");class Ej{constructor(e,t=wj){this._value=e,this._cancelError=t,this._weightedQueues=[],this._weightedWaiters=[]}acquire(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise((t,r)=>{this._weightedQueues[e-1]||(this._weightedQueues[e-1]=[]),this._weightedQueues[e-1].push({resolve:t,reject:r}),this._dispatch()})}runExclusive(e,t=1){return function(n,e,t,r){return new(t||(t=Promise))(function(i,s){function a(m){try{f(r.next(m))}catch(_){s(_)}}function u(m){try{f(r.throw(m))}catch(_){s(_)}}function f(m){m.done?i(m.value):function o(i){return i instanceof t?i:new t(function(s){s(i)})}(m.value).then(a,u)}f((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){const[r,o]=yield this.acquire(t);try{return yield e(r)}finally{o()}})}waitForUnlock(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise(t=>{this._weightedWaiters[e-1]||(this._weightedWaiters[e-1]=[]),this._weightedWaiters[e-1].push(t),this._dispatch()})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(e){this._value=e,this._dispatch()}release(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);this._value+=e,this._dispatch()}cancel(){this._weightedQueues.forEach(e=>e.forEach(t=>t.reject(this._cancelError))),this._weightedQueues=[]}_dispatch(){var e;for(let t=this._value;t>0;t--){const r=null===(e=this._weightedQueues[t-1])||void 0===e?void 0:e.shift();if(!r)continue;const o=this._value,i=t;this._value-=t,t=this._value+1,r.resolve([o,this._newReleaser(i)])}this._drainUnlockWaiters()}_newReleaser(e){let t=!1;return()=>{t||(t=!0,this.release(e))}}_drainUnlockWaiters(){for(let e=this._value;e>0;e--)this._weightedWaiters[e-1]&&(this._weightedWaiters[e-1].forEach(t=>t()),this._weightedWaiters[e-1]=[])}}class La{constructor(e){this._semaphore=new Ej(1,e)}acquire(){return n=this,e=void 0,r=function*(){const[,e]=yield this._semaphore.acquire();return e},new((t=void 0)||(t=Promise))(function(i,s){function a(m){try{f(r.next(m))}catch(_){s(_)}}function u(m){try{f(r.throw(m))}catch(_){s(_)}}function f(m){m.done?i(m.value):function o(i){return i instanceof t?i:new t(function(s){s(i)})}(m.value).then(a,u)}f((r=r.apply(n,e||[])).next())});var n,e,t,r}runExclusive(e){return this._semaphore.runExclusive(()=>e())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const Vm="cloudpilot-session-preview";function oT(){localStorage.removeItem(Vm)}function go(){return(n,e,t)=>{const r=t.value;let o=!1;return t.value=(0,ae.Z)(function*(){if(!o){o=!0;try{return yield r.apply(this,arguments)}finally{o=!1}}}),t}}class bs{constructor(){}getCurrentSession(){return this.currentSession}setCurrentSession(e){this.currentSession=e}}bs.\u0275fac=function(e){return new(e||bs)},bs.\u0275prov=ht({token:bs,factory:bs.\u0275fac,providedIn:"root"});class Kr{constructor(e,t){this.alertController=e,this.emulationState=t,this.emergencySaveEvent=new Vo.j}errorMessage(e){var t=this;return(0,ae.Z)(function*(){yield(yield t.alertController.create({header:"Error",backdropDismiss:!1,message:e,buttons:[{text:"Close",role:"cancel"}],cssClass:"alert-error"})).present()})()}message(e,t,r={},o="Close"){var i=this;return(0,ae.Z)(function*(){const s=yield i.alertController.create({header:e,message:t,backdropDismiss:!1,buttons:[...Object.keys(r).map(a=>({text:a,handler:()=>{r[a](),s.dismiss()}})),{text:o,role:"cancel"}]});yield s.present(),yield s.onDidDismiss()})()}updateAvailable(){var e=this;return(0,ae.Z)(function*(){const t=yield e.alertController.create({header:"Update available",message:"An update is available. Please close CloudpilotEmu and reload in order to update.",backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()},{text:"Close",role:"cancel"}]});yield t.present(),yield t.onDidDismiss()})()}fatalError(e,t=!0){var r=this;return(0,ae.Z)(function*(){const o=!!r.emulationState.getCurrentSession(),i=yield r.alertController.create({header:"Error",message:`\n                ${e}\n                <br/><br/>\n                Please close or reload this window.\n                ${o&&t?" You may save an image of your current session before reloading.":""}\n            `,backdropDismiss:!1,buttons:[...o&&t?[{text:"Save image",handler:()=>(r.emergencySaveEvent.dispatch(),!1)}]:[],{text:"Reload",handler:()=>window.location.reload()}],cssClass:"alert-error"});yield i.present(),yield i.onDidDismiss()})()}errorInNativeCode(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.alertController.create({header:"Error",message:`\n                You encountered a bug in CloudpilotEmu:\n                <br/><br/>\n                ${e}.\n                <br/><br/>\n                Please close or reload this window.\n            `,backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()}]});yield r.present(),yield r.onDidDismiss()})()}proxyVersionMismatchError(){return this.errorMessage("\n            Server version does not match CloudpilotEmu. Please make sure that you are using the latest\n            versions of CloudpilotEmu and of the server.\n        ")}cardHasNoValidFileSystem(){return this.message("No filesystem","This card does not contain a valid filesystem.",{},"Continue")}cardHasUncorrectableErrors(){return this.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors.",{},"Continue")}cardIsClean(){return this.message("Card clean","No filesystem errors were found.",{},"Continue")}}Kr.\u0275fac=function(e){return new(e||Kr)(ee(Fc),ee(bs))},Kr.\u0275prov=ht({token:Kr,factory:Kr.\u0275fac,providedIn:"root"}),H([go()],Kr.prototype,"updateAvailable",null),H([go()],Kr.prototype,"fatalError",null),H([go()],Kr.prototype,"errorInNativeCode",null);class zs{constructor(e,t){this.alertService=e,this.ngZone=t,this.fatalPageLockLost=()=>this.fatalWithMessage("CloudpilotEmu was opened in another tab or window.",!1),this.fatalIDBDead=()=>this.fatalWithMessage("IndexedDB access failed. This is most likely a browser bug.",!1),this.fatalVersionMismatch=()=>this.fatalWithMessage("\n        Database was written by a newer version of CloudpilotEmu. Please wait for a few seconds before reloading\n        while the latest version downloads in the background.\n    ",!1),this.fatalBug=r=>this.fatalWithMessage(`You encountered a bug in CloudpilotEmu:<br/><br/>${r}.`),this.fatalInNativeCode=r=>this.fatalWithMessage(r.message,!0,!1),this.fatalWithMessage=(r,o=!0,i=!0)=>this.ngZone.run(()=>{this.fatalErrorTriggered||(this.fatalErrorTriggered=!0,o&&oT(),this.fatalErrorEvent.dispatch(),this.alertService.fatalError(r,i))}),this.fatalErrorEvent=new Vo.j,this.fatalErrorTriggered=!1}hasFatalError(){return this.fatalErrorTriggered}}zs.\u0275fac=function(e){return new(e||zs)(ee(Kr),ee(dt))},zs.\u0275prov=ht({token:zs,factory:zs.\u0275fac,providedIn:"root"});var Er=(()=>{return(n=Er||(Er={})).cloudpilot="cloudpilot",n.fstools="fstools",n.vfs="vfs",n.none="none",Er;var n})();class $a{constructor(e){this.errorService=e,this.ownershipMmap=new Map}getOwner(e){return this.ownershipMmap.get(e)??Er.none}claim(e,t){this.assertOwnership(e,Er.none),this.ownershipMmap.set(e,t)}release(e,t){this.assertOwnership(e,t),this.ownershipMmap.delete(e)}assertOwnership(e,t){if(this.getOwner(e)===t)return;const r=t===Er.none?`Card alread claimed for ${this.getOwner(e)}.`:`Expected card ownership to be ${t}, but is ${this.getOwner(e)}.`;throw this.errorService.fatalBug(r),new Error(r)}transferOwnership(e,t,r){this.assertOwnership(e,t),this.ownershipMmap.set(e,r)}}$a.\u0275fac=function(e){return new(e||$a)(ee(zs))},$a.\u0275prov=ht({token:$a,factory:$a.\u0275fac,providedIn:"root"});const Yl="session",td="rom",Xl="memory",bl="state",Um="kvs",Ql="memory-meta",Ba="storage",Fs="storage-card",tp="lock";class nd extends Error{constructor(e){super(e)}}function dr(n){return new Promise((e,t)=>{!function Aj(n){return!!n.abort}(n)?n.onsuccess=()=>e(n.result):n.oncomplete=()=>e(void 0),n.onerror=()=>t(new nd(n.error?.message))})}function sT(n){let e=255&n[0];e|=e<<8,e|=e<<16;for(let t=1;t<256;t++)if(n[t]!==e)return n;return 255&n[0]}function Pj(n){const e=n[0];for(let t=1;t<2048;t++)if(n[t]!==e)return n;return e}const jm="session",s0="memory",Fj="memory-meta",Oj="storage",lT="storage-meta",cT="storage-card",Lj="storageId";function a0(){return(a0=(0,ae.Z)(function*(n,e){function t(i){switch(i){case"PalmIIIc":case"PalmM505":case"PalmM515":return 81920;case"PalmI710":case"PalmM130":return 262144;default:return 0}}if(!e)throw new Error("no version change transaction!");const o=e.objectStore(jm).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const u=a.value,f={...u,totalMemory:1024*u.ram*1024+t(u.device)};a.update(f),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function l0(){return(l0=(0,ae.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");const t=e.objectStore("kvs"),r=yield new Promise((o,i)=>{const s=t.get("proxyCredentials");s.onsuccess=()=>o(s.result),s.onerror=()=>i(new Error(s.error?.message))});r&&(t.put(r,"credentials"),t.delete("proxyCredentials"))})).apply(this,arguments)}function c0(){return(c0=(0,ae.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");const t=n.createObjectStore(Fj,{keyPath:"sessionId"});n.createObjectStore(Oj),n.createObjectStore(lT,{keyPath:"id",autoIncrement:!0});const o=e.objectStore(jm).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const u=a.value;void 0!==u.totalMemory&&(t.put({sessionId:u.id,totalSize:u.totalMemory}),delete u.totalMemory,a.update(u)),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function u0(){return(u0=(0,ae.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");e.objectStore(lT).name=cT})).apply(this,arguments)}function d0(){return(d0=(0,ae.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");e.objectStore(cT).createIndex(Lj,"storageId")})).apply(this,arguments)}function f0(){return(f0=(0,ae.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");n.createObjectStore("lock")})).apply(this,arguments)}var Wj=A(5023),Zj=A.n(Wj);const uT={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Hm;const qj=new Uint8Array(16);function Kj(){if(!Hm&&(Hm=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Hm))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Hm(qj)}const Si=[];for(let n=0;n<256;++n)Si.push((n+256).toString(16).slice(1));const p0=function Yj(n,e,t){if(uT.randomUUID&&!e&&!n)return uT.randomUUID();const r=(n=n||{}).random||(n.rng||Kj)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){t=t||0;for(let o=0;o<16;++o)e[t+o]=r[o];return e}return function dT(n,e=0){return(Si[n[e+0]]+Si[n[e+1]]+Si[n[e+2]]+Si[n[e+3]]+"-"+Si[n[e+4]]+Si[n[e+5]]+"-"+Si[n[e+6]]+Si[n[e+7]]+"-"+Si[n[e+8]]+Si[n[e+9]]+"-"+Si[n[e+10]]+Si[n[e+11]]+Si[n[e+12]]+Si[n[e+13]]+Si[n[e+14]]+Si[n[e+15]]).toLowerCase()}(r)},h0=new Error("page lock lost"),fT=new Error("version mismatch"),pT=p0();function So(){return(n,e,t)=>{const r=t.value;return t.value=(0,ae.Z)(function*(){const o=this.errorService;try{return yield r.apply(this,arguments)}catch(i){throw i instanceof nd?o.fatalIDBDead():i===fT?o.fatalVersionMismatch():i===h0?o.fatalPageLockLost():o.fatalBug(i?.message),i}}),t}}class Xn{constructor(e,t,r){this.ngZone=e,this.errorService=t,this.storageCardContext=r,this.saveMemory=(o,i,s)=>this.ngZone.runOutsideAngular(()=>{const a=o.objectStore(Xl),u=o.objectStore(Ql),f=new Uint32Array(256),m=new Uint8Array(f.buffer);a.delete(IDBKeyRange.bound([i,0],[i+1,0],!1,!0)),u.put({sessionId:i,totalSize:s.length});const k=s.length>>>10;for(let M=0;M<k;M++){m.set(s.subarray(1024*M,1024*(M+1)));const Y=sT(f);if("number"==typeof Y)a.put(Y,[i,M]);else{const Se=new Uint32Array(256);Se.set(Y),a.put(Se,[i,M])}}}),this.loadMemory=(o,i)=>this.ngZone.runOutsideAngular((0,ae.Z)(function*(){const s=o.objectStore(Ql),a=yield dr(s.get(i));if(a)return new Promise(function(){var u=(0,ae.Z)(function*(f,m){const _=o.objectStore(Xl),k=new Uint32Array(a.totalSize>>>2),M=_.openCursor(IDBKeyRange.bound([i,0],[i+1,0],!1,!0));M.onsuccess=()=>{const Y=M.result;if(!Y)return f(new Uint8Array(k.buffer));const Se=Y.value,[,Ge]=Y.key;"number"==typeof Se?k.subarray(256*Ge,256*(Ge+1)).fill(Se|Se<<8|Se<<16|Se<<24):k.subarray(256*Ge,256*(Ge+1)).set(1024===Se.length?new Uint32Array(Se.buffer):Se),Y.continue()},M.onerror=()=>m(new nd(M.error?.message))});return function(f,m){return u.apply(this,arguments)}}())})),this.sessionChangeEvent=new Vo.j,this.storageCardChangeEvent=new Vo.j,this.sessionUpdateMutex=new La,this.db=this.requestPersistentStorage().then(()=>e.runOutsideAngular(()=>this.setupDb()))}getDb(){return this.db}addSession(e,t,r,o){var i=this;return(0,ae.Z)(function*(){const s=Zj()(t),a=yield i.newTransaction(Yl,td,bl,Xl,Ql),u=a.objectStore(Yl),f=a.objectStore(td);(yield dr(f.get(s)))||f.put(t,s);const{id:_,...k}=e,M=yield dr(u.add({...k,rom:s})),Y=yield dr(u.get(M));return r&&i.saveMemory(a,Y.id,r),o&&i.saveState(a,Y.id,o),yield dr(a),Y})()}getAllSessions(){var e=this;return(0,ae.Z)(function*(){const[t]=yield e.prepareObjectStore(Yl);return yield dr(t.getAll())})()}getSession(e){var t=this;return(0,ae.Z)(function*(){const[r]=yield t.prepareObjectStore(Yl);return yield dr(r.get(e))})()}deleteSession(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.newTransaction(Yl,td,bl,Xl,Ql),o=r.objectStore(Yl),i=r.objectStore(td);(e=yield dr(o.get(e.id)))&&(o.delete(e.id),0===(yield dr(o.index("rom").getAll(e.rom))).length&&i.delete(e.rom),t.deleteMemory(r,e.id),t.deleteState(r,e.id),yield dr(r),t.sessionChangeEvent.dispatch([e.id,void 0]))})()}updateSessionPartial(e,t){var r=this;return this.sessionUpdateMutex.runExclusive((0,ae.Z)(function*(){const{id:o,rom:i,ram:s,device:a,...u}=t,[f,m]=yield r.prepareObjectStore(Yl),_=yield dr(f.get(e));if(!_)throw new Error(`no session with id ${e}`);const k={..._,...u};f.put(k),yield dr(m),r.sessionChangeEvent.dispatch([_.id,k])}))}updateSession(e){var t=this;return this.sessionUpdateMutex.runExclusive((0,ae.Z)(function*(){const[r,o]=yield t.prepareObjectStore(Yl),i=yield dr(r.get(e.id));if(!i)throw new Error(`no session with id ${e.id}`);if(i.rom!==e.rom)throw new Error("attempt to change ROM reference");if(i.ram!==e.ram)throw new Error("attempt to change RAM size");if(i.device!==e.device)throw new Error("attempt to change device type");r.put(e),yield dr(o),t.sessionChangeEvent.dispatch([e.id,e])}))}loadSession(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.newTransaction(td,bl,Xl,Ql),o=r.objectStore(td);return[yield dr(o.get(e.rom)),yield t.loadMemory(r,e.id),yield t.loadState(r,e.id)]})()}deleteStateForSession(e){var t=this;return(0,ae.Z)(function*(){const[r,o]=yield t.prepareObjectStore(bl);r.delete(e.id),yield dr(o)})()}addEmptyStorageCard(e){var t=this;return(0,ae.Z)(function*(){const[r]=yield t.prepareObjectStore(Fs),o=yield dr(r.add(e)),i=yield dr(r.get(o));return t.storageCardChangeEvent.dispatch(i.id),i})()}importStorageCard(e,t){var r=this;return(0,ae.Z)(function*(){return r.ngZone.runOutsideAngular((0,ae.Z)(function*(){const o=yield r.newTransaction(Fs,Ba),i=o.objectStore(Fs),s=o.objectStore(Ba),a=yield dr(i.add(e)),u=(e.size>>>13)+(t.length%8192==0?0:1),f=new Uint32Array(2048);for(let _=0;_<u;_++){const k=t.subarray(2048*_,2048*(_+1));_===u-1&&f.set(k);const M=Pj(_===u-1?f:k);0!==M&&s.put("number"==typeof M?M:M?.slice(),[a,_])}const m=yield dr(i.get(a));return yield dr(o),r.storageCardChangeEvent.dispatch(m.id),m}))})()}getAllStorageCards(){var e=this;return(0,ae.Z)(function*(){const[t]=yield e.prepareObjectStore(Fs);return dr(t.getAll())})()}getCard(e){var t=this;return(0,ae.Z)(function*(){const[r]=yield t.prepareObjectStore(Fs);return dr(r.get(e))})()}updateStorageCardPartial(e,t){var r=this;return(0,ae.Z)(function*(){const{storageId:o,size:i,id:s,...a}=t,[u,f]=yield r.prepareObjectStore(Fs),m=yield dr(u.get(e));if(!m)throw new Error(`no card with id ${e}`);const _={...m,...a};u.put(_),yield dr(f),r.storageCardChangeEvent.dispatch(e)})()}deleteStorageCard(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.newTransaction(Fs,Ba);t.storageCardContext.assertOwnership(e,Er.none);const o=r.objectStore(Fs),i=r.objectStore(Ba);o.delete(e),i.delete(IDBKeyRange.bound([e,0],[e+1,0],!1,!0)),yield dr(r),t.storageCardChangeEvent.dispatch(e)})()}loadCardData(e,t,r){var o=this;return this.ngZone.runOutsideAngular((0,ae.Z)(function*(){const i=yield o.newTransaction(Fs,Ba);o.storageCardContext.assertOwnership(e,r);const s=i.objectStore(Ba);yield new Promise(function(){var a=(0,ae.Z)(function*(u,f){const m=s.openCursor(IDBKeyRange.bound([e,0],[e+1,0],!1,!0));m.onsuccess=()=>{const _=m.result;if(!_)return u();let k=_.value;const[,M]=_.key;"number"==typeof k?t.subarray(2048*M,2048*(M+1)).fill(k):(2048*(M+1)>t.length&&(k=k.subarray(0,2048-2048*(M+1)+t.length)),t.subarray(2048*M,2048*(M+1)).set(k)),_.continue()},m.onerror=()=>f(new nd(m.error?.message))});return function(u,f){return a.apply(this,arguments)}}())}))}updateCardData(e,t,r,o){var i=this;return this.ngZone.runOutsideAngular((0,ae.Z)(function*(){const s=yield i.newTransaction(Fs,Ba);i.storageCardContext.assertOwnership(e,o);const a=s.objectStore(Fs),u=s.objectStore(Ba),f=yield dr(a.get(e));if(!f)throw new Error(`no card with ID ${e}`);if(t.length!==f.size>>>2)throw new Error("data size mismatch");const m=(f.size>>>13)+(f.size%8192>0?1:0);if((m>>>3)+(m%8>0?1:0)!==r.length)throw new Error("dirty pages size mismatch");let _=0;for(let k=0;k<r.length;k++)for(let M=1;M<256&&!(_>=m);M<<=1)r[k]&M&&u.put(t.subarray(2048*_,2048*(_+1)).slice(),[f.id,_]),_++;yield dr(s)}))}kvsGet(e){var t=this;return(0,ae.Z)(function*(){const[r]=yield t.prepareObjectStore(Um);return dr(r.get(e))})()}kvsSet(e){var t=this;return(0,ae.Z)(function*(){const[r,o]=yield t.prepareObjectStore(Um);for(const i of Object.keys(e))r.put(e[i],i);yield dr(o)})()}kvsLoad(){var e=this;return(0,ae.Z)(function*(){const[t]=yield e.prepareObjectStore(Um);return new Promise((r,o)=>{const i={},s=t.openCursor();s.onsuccess=()=>{const a=s.result;if(!a)return r(i);i[a.key]=a.value,a.continue()},s.onerror=()=>o(new nd(s.error?.message))})})()}kvsDelete(e){var t=this;return(0,ae.Z)(function*(){const[r,o]=yield t.prepareObjectStore(Um);r.delete(e),yield dr(o)})()}acquireLock(e){var t=this;return(0,ae.Z)(function*(){if(t.errorService.hasFatalError())throw new Error("fatal error detected --- refusing DB access");if((yield dr(e.objectStore(tp).get(0)))!==pT)throw e.abort(),e.db.close(),h0})()}newTransaction(...e){var t=this;return(0,ae.Z)(function*(){const r=(yield t.db).transaction([tp,...e],"readwrite",{durability:"relaxed"});return yield t.acquireLock(r),r})()}prepareObjectStore(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.newTransaction(e);return[r.objectStore(e),r]})()}saveState(e,t,r){const o=e.objectStore(bl);r?o.put(r,t):o.delete(t)}deleteState(e,t){e.objectStore(bl).delete(t)}loadState(e,t){return dr(e.objectStore(bl).get(t))}deleteMemory(e,t){const r=e.objectStore(Xl),o=e.objectStore(Ql);r.delete(IDBKeyRange.bound([t,0],[t+1,0],!1,!0)),o.delete(t)}initializeLock(e){return(0,ae.Z)(function*(){const t=e.transaction(tp,"readwrite");yield dr(t.objectStore(tp).put(pT,0))})()}setupDb(){var e=this;return(0,ae.Z)(function*(){const t=setTimeout(()=>la&&window.location.reload(),500);try{if(indexedDB.databases){const o=(yield indexedDB.databases()).find(i=>"cloudpilot-preview"===i.name);if(clearTimeout(t),o&&void 0!==o.version&&o.version>9)throw fT}const r=yield new Promise((o,i)=>{const s=indexedDB.open("cloudpilot-preview",9);s.onerror=()=>{i(new nd("failed to open DB"))},s.onsuccess=()=>{o(s.result)},s.onupgradeneeded=function(){var a=(0,ae.Z)(function*(u){clearTimeout(t),u.oldVersion<1&&function $j(n){n.createObjectStore(jm,{keyPath:"id",autoIncrement:!0}).createIndex("rom","rom"),n.createObjectStore("state")}(s.result),u.oldVersion<2&&function Bj(n,e){if(!e)throw new Error("no version change transaction!");n.objectStoreNames.contains("rom")&&n.deleteObjectStore("rom"),n.objectStoreNames.contains(s0)&&n.deleteObjectStore(s0),e.objectStore(jm).clear(),n.createObjectStore("rom"),n.createObjectStore(s0),n.createObjectStore("kvs")}(s.result,s.transaction),u.oldVersion<4&&(yield function Vj(n,e){return a0.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<5&&(yield function Uj(n,e){return l0.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<6&&(yield function jj(n,e){return c0.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<7&&(yield function Hj(n,e){return u0.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<8&&(yield function Gj(n,e){return d0.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<9&&(yield function zj(n,e){return f0.apply(this,arguments)}(s.result,s.transaction))});return function(u){return a.apply(this,arguments)}}()});return yield e.initializeLock(r),r}finally{clearTimeout(t)}})()}requestPersistentStorage(){return(0,ae.Z)(function*(){(!navigator.storage?.persist||!navigator.storage?.persisted)&&console.log("storage manager not supported; unable to request persistent storage");try{(yield navigator.storage.persisted())||(yield navigator.storage.persist())?console.log("persistent storage enabled"):console.log("request for persistent storage denied by browser")}catch(e){console.warn(e),console.log("failed to request persistent storage")}})()}}Xn.\u0275fac=function(e){return new(e||Xn)(ee(dt),ee(zs),ee($a))},Xn.\u0275prov=ht({token:Xn,factory:Xn.\u0275fac,providedIn:"root"}),H([So()],Xn.prototype,"addSession",null),H([So()],Xn.prototype,"getAllSessions",null),H([So()],Xn.prototype,"getSession",null),H([So()],Xn.prototype,"deleteSession",null),H([So()],Xn.prototype,"updateSessionPartial",null),H([So()],Xn.prototype,"updateSession",null),H([So()],Xn.prototype,"loadSession",null),H([So()],Xn.prototype,"deleteStateForSession",null),H([So()],Xn.prototype,"addEmptyStorageCard",null),H([So()],Xn.prototype,"importStorageCard",null),H([So()],Xn.prototype,"getAllStorageCards",null),H([So()],Xn.prototype,"getCard",null),H([So()],Xn.prototype,"updateStorageCardPartial",null),H([So()],Xn.prototype,"deleteStorageCard",null),H([So()],Xn.prototype,"loadCardData",null),H([So()],Xn.prototype,"kvsGet",null),H([So()],Xn.prototype,"kvsSet",null),H([So()],Xn.prototype,"kvsDelete",null),H([So()],Xn.prototype,"newTransaction",null),H([So()],Xn.prototype,"prepareObjectStore",null),H([So()],Xn.prototype,"initializeLock",null),H([So()],Xn.prototype,"setupDb",null);const hT={volume:.5,showStatistics:!1,clipboardIntegration:!1,networkRedirection:!1,proxyServer:"",credentials:{},runHidden:!1,autoLockUI:!1,enableRemoteInstall:!1,enableAudioOnFirstInteraction:!1};class ni{constructor(e){var t=this;this.storageService=e,this.set=r=>this.storageMutex.runExclusive((0,ae.Z)(function*(){yield t.storageService.kvsSet(r);for(const o of Object.keys(r))t.rawKvs[o]=r[o];t.updateEvent.dispatch()})),this.updateEvent=new Vo.j,this.mutex=new La,this.storageMutex=new La,this.initializationPromise=this.startInitialiation()}initialize(){var e=this;return(0,ae.Z)(function*(){return e.initializationPromise})()}get kvs(){return this.kvsProxy}startInitialiation(){var e=this;return(0,ae.Z)(function*(){const t=e;try{const r={...hT,...yield e.storageService.kvsLoad()};e.rawKvs=r,e.kvsProxy=new Proxy(r,{set:(o,i,s)=>(o[i]=s,t.storageMutex.runExclusive(()=>t.storageService.kvsSet({[i]:s})),t.updateEvent.dispatch(),!0),deleteProperty:(o,i)=>(delete o[i],t.storageMutex.runExclusive(()=>t.storageService.kvsDelete(i)),t.updateEvent.dispatch(),!0)})}catch(r){console.error("failed to load KVS"),console.error(r),e.kvsProxy={...hT}}})()}}ni.\u0275fac=function(e){return new(e||ni)(ee(Xn))},ni.\u0275prov=ht({token:ni,factory:ni.\u0275fac,providedIn:"root"});class Nc{constructor(e,t){var r=this;this.kvsService=e,this.alertService=t,this.serviceWorkerKeepalive=(0,ae.Z)(function*(){if(navigator.serviceWorker)try{const o=yield navigator.serviceWorker.getRegistration();o?.active?.postMessage&&o.active.postMessage({})}catch{}setTimeout(r.serviceWorkerKeepalive,9e5)}),this.installationMode=this.determineInstallationMode(),this.serviceWorkerKeepalive()}promptForInstall(){return(la||nT)&&this.installationMode===ql.web}getInstallationMode(){return this.installationMode}install(){this.alertService.message("Install app",this.getInstallMessage())}invite(){this.promptForInstall()&&(this.kvsService.kvs.didShowInvitation||(this.kvsService.kvs.didShowInvitation=!0,window.hasOwnProperty("onbeforeinstallprompt")||this.alertService.message("App available",this.getInviteMessage())))}getInstallMessage(){return la&&tT?'\n    Tap the "Share" icon on the bottom of the screen (the little box with the arrow)\n    and select "Add to Home Screen" in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':la?'\n    Open CloudpilotEmu in Safari, tap the "Share" icon on the bottom of the screen\n    (the little box with the arrow) and select "Add to Home Screen" in order to install\n    CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Open your browser\'s menu and tap "Add to Home screen" or "Install App"\n    in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}getInviteMessage(){return la&&tT?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by tapping the "Share" icon\n    at the bottom of the screen (the little box with the arrow) and selecting\n    "Add to Home Screen".\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':la?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by opening it in Safari,\n    tapping the "Share" icon at the bottom of the screen (the little box with the arrow)\n    and selecting "Add to Home Screen"\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Howdy! It seems that you are using CloudpilotEmu on an Android device. You can\n    install CloudpilotEmu as an app by opening your browser\'s menu\n    and tapping "Add to Home screen".\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}determineInstallationMode(){return window.navigator.standalone?ql.pwa:document.referrer.startsWith("android-app://")?ql.twa:window.matchMedia("(display-mode: standalone)").matches?ql.pwa:ql.web}}function oH(n,e){1&n&&(se(0,"div",6),ct(1,"ion-spinner"),J())}Nc.\u0275fac=function(e){return new(e||Nc)(ee(ni),ee(Kr))},Nc.\u0275prov=ht({token:Nc,factory:Nc.\u0275fac,providedIn:"root"});class Cl{constructor(e){this.modalController=e,this.title="Help",this.loading=!0}}Cl.\u0275fac=function(e){return new(e||Cl)(C(vs))},Cl.\u0275cmp=ut({type:Cl,selectors:[["app-help"]],inputs:{url:"url",title:"title"},decls:10,vars:3,consts:[["translucent",""],["slot","primary"],[3,"click"],["fullscreen",""],["class","loader",4,"ngIf"],[3,"src","load"],[1,"loader"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3),J(),se(4,"ion-buttons",1)(5,"ion-button",2),st("click",function(){return t.modalController.dismiss()}),qe(6,"Close"),J()()()(),se(7,"ion-content",3),nn(8,oH,2,0,"div",4),se(9,"markdown",5),st("load",function(){return t.loading=!1}),J()()),2&e&&(Ye(3),Ms(t.title),Ye(5),rt("ngIf",t.loading),Ye(1),rt("src",t.url))},dependencies:[ui,n0,Ki,Yi,Xi,Qi,Zf,es,ts],styles:["markdown[_ngcontent-%COMP%]{display:block;padding-left:1em;padding-right:1em}.loader[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}"]});const Lc="1.7.13-8aad1e2 (preview)";var Gm=A(9897);const zm=((n,e)=>{let t=null;return()=>{if(null!==t)return t;const r=new Blob(['(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error(\'The given type "\'.concat(i,\'" is not supported\'));(e=>{const r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error(\'The given method "\'.concat(s.method,\'" is not supported\'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error(\'The given type "\'.concat(d,\'" is not supported\'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();'],{type:"application/javascript; charset=utf-8"}),o=URL.createObjectURL(r);return t=(n=>{const e=new Map([[0,()=>{}]]),t=new Map([[0,()=>{}]]),r=new Map,o=new Worker(n);return o.addEventListener("message",({data:f})=>{if((n=>void 0!==n.method&&"call"===n.method)(f)){const{params:{timerId:m,timerType:_}}=f;if("interval"===_){const k=e.get(m);if("number"==typeof k){const M=r.get(k);if(void 0===M||M.timerId!==m||M.timerType!==_)throw new Error("The timer is in an undefined state.")}else{if(!(typeof k<"u"))throw new Error("The timer is in an undefined state.");k()}}else if("timeout"===_){const k=t.get(m);if("number"==typeof k){const M=r.get(k);if(void 0===M||M.timerId!==m||M.timerType!==_)throw new Error("The timer is in an undefined state.")}else{if(!(typeof k<"u"))throw new Error("The timer is in an undefined state.");k(),t.delete(m)}}}else{if(!(n=>null===n.error&&"number"==typeof n.id)(f)){const{error:{message:m}}=f;throw new Error(m)}{const{id:m}=f,_=r.get(m);if(void 0===_)throw new Error("The timer is in an undefined state.");const{timerId:k,timerType:M}=_;r.delete(m),"interval"===M?e.delete(k):t.delete(k)}}}),{clearInterval:f=>{const m=(0,Gm.generateUniqueNumber)(r);r.set(m,{timerId:f,timerType:"interval"}),e.set(f,m),o.postMessage({id:m,method:"clear",params:{timerId:f,timerType:"interval"}})},clearTimeout:f=>{const m=(0,Gm.generateUniqueNumber)(r);r.set(m,{timerId:f,timerType:"timeout"}),t.set(f,m),o.postMessage({id:m,method:"clear",params:{timerId:f,timerType:"timeout"}})},setInterval:(f,m)=>{const _=(0,Gm.generateUniqueNumber)(e);return e.set(_,()=>{f(),"function"==typeof e.get(_)&&o.postMessage({id:null,method:"set",params:{delay:m,now:performance.now(),timerId:_,timerType:"interval"}})}),o.postMessage({id:null,method:"set",params:{delay:m,now:performance.now(),timerId:_,timerType:"interval"}}),_},setTimeout:(f,m)=>{const _=(0,Gm.generateUniqueNumber)(t);return t.set(_,f),o.postMessage({id:null,method:"set",params:{delay:m,now:performance.now(),timerId:_,timerType:"timeout"}}),_}}})(o),setTimeout(()=>URL.revokeObjectURL(o)),t}})();var Jl=(()=>{return(n=Jl||(Jl={}))[n.animationFrame=0]="animationFrame",n[n.timeout=1]="timeout",Jl;var n})();class gT{constructor(e){this.callback=e}schedule(){void 0===this.handle&&(this.handle=requestAnimationFrame(e=>{this.handle=void 0,this.callback(e)}))}cancel(){void 0!==this.handle&&(cancelAnimationFrame(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return Jl.animationFrame}}class uH{constructor(e,t=60){this.callback=e,this.fps=t}schedule(){if(void 0!==this.handle)return;const e=performance.now(),t=1e3*Math.ceil(e/1e3*this.fps)/this.fps;this.handle=((n,e)=>zm().setTimeout(n,e))(()=>{this.handle=void 0,this.callback(performance.now())},Math.max(t-e,0))}cancel(){var n;void 0!==this.handle&&(n=this.handle,zm().clearTimeout(n),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return Jl.timeout}}const dH=[135,135,105],fH=[0,0,0],ec=new Array(16).fill(0).map((n,e)=>fH.map((t,r)=>Math.floor((e*t+(15-e)*dH[r])/15))).map(([n,e,t])=>4278190080|t<<16|e<<8|n),m0=ec.map(n=>"#"+(16777215&n).toString(16).padStart(6,"0").match(/(..?)/g)?.reverse().join(""));var oe=(()=>{return(n=oe||(oe={})).palmPilot="PalmPilot",n.pilot="Pilot",n.iii="PalmIII",n.palmVx="PalmVx",n.palmV="PalmV",n.palmVII="PalmVII",n.palmVIIEZ="PalmVIIEZ",n.palmVIIx="PalmVIIx",n.iiic="PalmIIIc",n.iiix="PalmIIIx",n.iiixe="PalmIIIxe",n.iiie="PalmIIIe",n.m500="PalmM500",n.m505="PalmM505",n.m515="PalmM515",n.m520="PalmM520",n.m100="PalmM100",n.m105="PalmM105",n.m125="PalmM125",n.m130="PalmM130",n.i705="Palmi705",n.i710="PalmI710",n.handera330="HandEra330",n.handera330c="HandEra330c",n.pegS300="PEG-S300",n.pegS320="PEG-S320",n.pegS500c="PEG-S500C",n.pegT400="PEG-T400",n.pegN600c="PEG-N600C/N610C",n.pegT600c="PEG-T600",n.pegN700c="PEG-N700C/N710C",n.pegT650c="YSX1230",n.pegNR70="NR70",n.acerS11="Acer-S11",oe;var n})(),tc=(()=>{return(n=tc||(tc={})).sdcard="sdcard",n.memorystick="memorystick",n.none="none",tc;var n})();function np(n){switch(n){case oe.i710:case oe.m520:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case oe.handera330:case oe.handera330c:return{screenSize:2,width:240,height:320,silkscreenHeight:0};case oe.pegS300:case oe.pegS320:case oe.pegS500c:return{screenSize:0,width:160,height:160,silkscreenHeight:76};case oe.pegT600c:case oe.pegT400:case oe.pegT650c:return{screenSize:1,width:320,height:320,silkscreenHeight:140,silkscreenOvershoot:10};case oe.pegN600c:case oe.pegN700c:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case oe.pegNR70:return{screenSize:3,width:320,height:480,silkscreenHeight:0};case oe.acerS11:return{screenSize:0,width:160,height:160,silkscreenHeight:60,siklscreenShift:8};default:return{screenSize:0,width:160,height:160,silkscreenHeight:60}}}function g0(n){switch(n){case oe.pilot:case oe.palmPilot:case oe.iii:case oe.palmV:case oe.palmVx:case oe.iiix:case oe.iiixe:case oe.iiie:case oe.m100:case oe.m105:case oe.m125:case oe.m500:case oe.palmVII:case oe.palmVIIEZ:case oe.palmVIIx:case oe.i705:case oe.handera330:case oe.pegS300:case oe.pegS320:case oe.pegT400:case oe.acerS11:return!1;default:return!0}}function yT(n){switch(n){case oe.pilot:return"Pilot";case oe.palmPilot:return"Palm Pilot";case oe.iii:return"Palm III";case oe.m500:return"Palm m500";case oe.m505:return"Palm m505";case oe.m515:return"Palm m515";case oe.m520:return"Palm m520";case oe.palmVx:return"Palm Vx";case oe.iiix:return"Palm IIIx";case oe.iiixe:return"Palm IIIxe";case oe.iiie:return"Palm IIIe";case oe.palmV:return"Palm V";case oe.palmVII:return"Palm VII";case oe.palmVIIEZ:return"Palm VII EZ";case oe.palmVIIx:return"Palm VIIx";case oe.iiic:return"Palm IIIc";case oe.m100:return"Palm m100";case oe.m105:return"Palm m105";case oe.m125:return"Palm m125";case oe.m130:return"Palm m130";case oe.i705:return"Palm i705";case oe.i710:return"Tungsten W";case oe.handera330:return"Handera 330";case oe.handera330c:return"Handera 330c";case oe.pegS300:return"Sony PEG-S300";case oe.pegS320:return"Sony PEG-S320";case oe.pegT400:return"Sony PEG-T400 series";case oe.pegN600c:return"Sony PEG-N600C series";case oe.pegT600c:return"Sony PEG-T600C series";case oe.pegN700c:return"Sony PEG-N700C series";case oe.pegT650c:return"Sony PEG-T650C series";case oe.pegNR70:return"Sony PEG-NR70 series";case oe.pegS500c:return"Sony PEG-S500C series";case oe.acerS11:return"Acer S1x series";default:throw new Error("bad device ID")}}function _T(n){switch(n){case oe.m500:case oe.m505:case oe.m515:case oe.m520:case oe.m125:case oe.m130:case oe.i705:case oe.i710:case oe.handera330:case oe.handera330c:return tc.sdcard;case oe.pegS300:case oe.pegS500c:case oe.pegS320:case oe.pegT400:case oe.pegN600c:case oe.pegT600c:case oe.pegN700c:case oe.pegT650c:case oe.pegNR70:case oe.acerS11:return tc.memorystick;default:return tc.none}}class vT{constructor(e,t){this.queue=new Array(e).fill(0),this.reset(t)}reset(e=0){this.next=1,this.size=1,this.queue[0]=e}push(e){return this.queue[this.next]=e,this.next=(this.next+1)%this.queue.length,this.size<this.queue.length&&this.size++,this}calculateAverage(){let e=0;for(let t=0;t<this.size;t++)e+=this.queue[t];return e/this.size}}class mH{constructor(e){this.start=0,this.size=0,this.buffer=new Array(e)}push(e){return this.size<this.buffer.length?this.buffer[(this.start+this.size++)%this.buffer.length]=e:(this.start=(this.start+1)%this.buffer.length,this.buffer[(this.start+this.size-1)%this.buffer.length]=e),this}pop(){if(0===this.size)return;const e=this.buffer[this.start];return this.start=(this.start+1)%this.buffer.length,this.size--,e}peekLast(){if(0!==this.size)return this.buffer[(this.start+this.size-1)%this.buffer.length]}replaceLast(e){return this.size>0&&(this.buffer[(this.start+this.size-1)%this.buffer.length]=e),this}count(){return this.size}flush(){return this.start=0,this.size=0,this}}class wH{constructor(){this.onPwmUpdate=e=>{this.pendingPwmUpdates.count()>0&&this.pendingPwmUpdates.peekLast().frequency<0?this.pendingPwmUpdates.replaceLast(e):this.pendingPwmUpdates.push(e)},this.advanceEmulation=e=>{if(this.isDirty=!1,!this.cloudpilotInstance||this.hasFatalError()||e<this.clockEmulator)return;const t=this.cloudpilotInstance.isSuspended();let r=!1;this.cloudpilotInstance.setClockFactor(this.emulationSpeed*this.getConfiguredSpeed()),e-this.clockEmulator>1e3/30&&(this.clockEmulator=e-1e3/30);const o=(e-this.clockEmulator)/1e3*this.cloudpilotInstance.cyclesPerSecond(),i=performance.now();let s=0;for(;s<o;)if(s+=this.cloudpilotInstance.runEmulation(Math.ceil(o-s)),this.cloudpilotInstance.isSuspended()){r=!0;break}const a=s/this.cloudpilotInstance.cyclesPerSecond()*1e3,u=performance.now()-i;if(this.clockEmulator+=Math.max(a,u),this.speedAverage.push(a/(u>0?u:a/1e3)*this.emulationSpeed),this.updateEmulationSpeed(this.speedAverage.calculateAverage()),r&&!t)return void this.handleSuspend();const f=this.cloudpilotInstance.isPowerOff(),m=this.cloudpilotInstance.isUiInitialized();if(f!==this.powerOff||m!==this.uiInitialized){const _=this.powerOff;this.powerOff=f,this.uiInitialized=m,_!==this.powerOff&&this.powerOffChangeEvent.dispatch(this.powerOff),this.isDirty=!0}m&&!f&&this.manageHotsyncName()&&this.checkAndUpdateHotsyncName(),this.onAfterAdvanceEmulation(e,s)},this.newFrameEvent=new Vo.j,this.pwmUpdateEvent=new Vo.j,this.emulationStateChangeEvent=new Vo.j,this.powerOffChangeEvent=new Vo.j,this.deviceId=oe.m515,this.clockEmulator=0,this.scheduler=new gT(e=>this.onSchedule(e)),this.canvas=document.createElement("canvas"),this.canvasTmp=document.createElement("canvas"),this.lastPenUpdate=0,this.penDown=!1,this.running=!1,this.powerOff=!1,this.uiInitialized=!1,this.pendingPwmUpdates=new mH(10),this.lastPwmUpdateEvent=0,this.emulationSpeed=1,this.speedAverage=new vT(20),this.timePerFrameAverage=new vT(60),this.timestampLastFrame=0,this.frameCounter=0,this.isDirty=!1}handlePointerMove(e,t,r){if(!this.handleInput())return;const o=performance.now();if(this.penDown=!0,!(o-this.lastPenUpdate<25)&&this.cloudpilotInstance){if(r){const i=np(this.deviceId);e=this.transformSilkscreenX(e,i),t=this.transformSilkscreenY(t,i)}this.cloudpilotInstance.queuePenMove(Math.floor(e),Math.floor(t)),this.lastPenUpdate=o}}handlePointerUp(){this.handleInput()&&(this.cloudpilotInstance&&this.penDown&&this.cloudpilotInstance.queuePenUp(),this.lastPenUpdate=0,this.penDown=!1)}handleButtonDown(e){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonDown(e)}handleButtonUp(e){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonUp(e)}handleKeyDown(e,t=!1){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueKeyboardEvent(e,t)}reset(){this.cloudpilotInstance&&this.cloudpilotInstance.reset()}resetNoExtensions(){this.cloudpilotInstance&&this.cloudpilotInstance.resetNoExtensions()}resetHard(){this.cloudpilotInstance&&this.cloudpilotInstance.resetHard()}isRunning(){return this.running}isPowerOff(){return this.powerOff}isUiInitialized(){return this.uiInitialized}getCanvas(){return this.canvas}getStatistics(){return{hostSpeed:this.speedAverage.calculateAverage(),emulationSpeed:this.emulationSpeed,averageFps:this.calculateFPS()}}getEmulationSpeed(){return this.emulationSpeed}isSuspended(){return!!this.cloudpilotInstance&&this.cloudpilotInstance.isSuspended()}onAfterAdvanceEmulation(e,t){}handleSuspend(){}callScheduler(){this.scheduler.schedule()}handleInput(){return!0}openSession(e,t,r,o,i){let s=!1;return!!e.initializeSession(t,r)&&(o&&(o.length%4!=0?console.warn("memory size is not a multiple of 4; ignoring image"):(s=e.loadMemory(new Uint32Array(o.buffer,o.byteOffset,o.length>>>2)),s||console.warn("failed to load memory"))),s&&i&&e.loadState(i),e.remountCards(),this.cloudpilotInstance&&this.cloudpilotInstance.pwmUpdateEvent.removeHandler(this.onPwmUpdate),e.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.cloudpilotInstance=e,this.deviceId=r,this.resetCanvas(),this.pendingPwmUpdates.flush(),this.lastPwmUpdateEvent=0,this.deviceHotsyncName=void 0,this.emulationSpeed=1,this.frameCounter=0,this.speedAverage.reset(1),this.powerOff=e.isPowerOff(),this.uiInitialized=e.isUiInitialized(),this.frameCounter=0,!0)}resetCanvas(){const e=np(this.deviceId);this.canvas.width=this.canvasTmp.width=e.width,this.canvas.height=this.canvasTmp.height=e.height;const t=this.canvas.getContext("2d");if(!t)throw new Error("get a new browser");this.context=t;const r=this.canvasTmp.getContext("2d");if(!r)throw new Error("get a new browser");this.contextTmp=r,this.clearCanvas(),this.imageData=void 0}doResume(){this.cloudpilotInstance&&(this.clockEmulator=performance.now(),this.schedule(),this.setRunning(!0),this.resetFPS())}doPause(){this.stopLoop()}doStop(){this.stopLoop()}stopLoop(){this.running&&(this.scheduler.cancel(),void 0!==this.advanceEmulationHandle&&(window.clearTimeout(this.advanceEmulationHandle),this.advanceEmulationHandle=void 0),this.setRunning(!1))}resetFPS(){this.timePerFrameAverage.reset(),this.timestampLastFrame=performance.now()}calculateFPS(){const e=this.timePerFrameAverage.calculateAverage();return e&&1e3/e}transformSilkscreenX(e,t){return void 0===t.silkscreenOvershoot?e:(e-t.width/2)/(t.width/(t.width+2*t.silkscreenOvershoot))+t.width/2}transformSilkscreenY(e,t){return void 0===t.siklscreenShift?e:e+t.siklscreenShift}setRunning(e){e!==this.running&&(this.running=e,this.emulationStateChangeEvent.dispatch(e))}updateEmulationSpeed(e){if(e>=1&&this.emulationSpeed>=1)return;const t=Math.min(Math.max(Math.floor(10*e)/10,.1),1);this.emulationSpeed=t<=this.emulationSpeed||e-t>=.05?t:this.emulationSpeed}performScreenUpdate(){this.cloudpilotInstance?.isScreenDirty()&&(this.updateScreen(),this.cloudpilotInstance.markScreenClean(),this.frameCounter++)}onSchedule(e){this.hasFatalError()||(this.skipEmulationUpdate()||(this.performScreenUpdate(),this.pendingPwmUpdates.count()>0&&e-this.lastPwmUpdateEvent>10&&(this.pwmUpdateEvent.dispatch(this.pendingPwmUpdates.pop()),this.lastPwmUpdateEvent=e),void 0===this.advanceEmulationHandle&&(this.advanceEmulationHandle=window.setTimeout(()=>{this.advanceEmulationHandle=void 0,this.advanceEmulation(e)},0)),this.timePerFrameAverage.push(Math.max(0,e-this.timestampLastFrame)),this.timestampLastFrame=e),this.schedule())}schedule(){this.scheduler.cancel(),this.getConfiguredSchdedulerKind()!==this.scheduler.getKind()&&(this.scheduler=this.getConfiguredSchdedulerKind()===Jl.animationFrame?new gT(e=>this.onSchedule(e)):new uH(e=>this.onSchedule(e))),this.callScheduler()}checkAndUpdateHotsyncName(){if(!this.cloudpilotInstance)return;void 0===this.deviceHotsyncName&&(this.deviceHotsyncName=this.cloudpilotInstance.getHotsyncName());const e=this.getConfiguredHotsyncName();void 0===e?this.updateConfiguredHotsyncName(this.deviceHotsyncName):e!==this.deviceHotsyncName&&e.length<=40&&this.cloudpilotInstance.isSetupComplete()&&(this.cloudpilotInstance.setHotsyncName(e),this.deviceHotsyncName=e)}clearCanvas(){const e=this.deviceId,t=np(e);this.context.beginPath(),this.context.rect(0,0,t.width,t.height),this.context.fillStyle=g0(e)?"white":m0[0],this.context.fill()}updateScreen(){if(!this.cloudpilotInstance)return;const e=this.cloudpilotInstance.getFrame();if(this.cloudpilotInstance.isPowerOff())return this.clearCanvas(),void this.newFrameEvent.dispatch(this.canvas);if(!e.hasChanges)return;if(e.lines*e.scaleY===this.canvas.height&&e.lineWidth*e.scaleX===this.canvas.width){(!this.imageData||this.imageData.width!==e.lineWidth||this.imageData.height!==e.lines)&&(this.imageData=new ImageData(e.lineWidth,e.lines));const r=new Uint32Array(this.imageData.data.buffer);switch(e.bpp){case 1:{const o=ec[15],i=ec[0];let s=0;for(let a=e.firstDirtyLine;a<=e.lastDirtyLine;a++){const u=a*e.bytesPerLine;for(let f=e.margin;f<e.lineWidth+e.margin;f++)r[s++]=e.buffer[u+(f>>>3)]&128>>>(7&f)?o:i}break}case 2:{const o=this.cloudpilotInstance.getPalette2bitMapping(),i=[ec[15&o],ec[o>>>4&15],ec[o>>>8&15],ec[o>>>12&15]];let s=0;for(let a=e.firstDirtyLine;a<=e.lastDirtyLine;a++){const u=a*e.bytesPerLine;for(let f=e.margin;f<e.lineWidth+e.margin;f++)r[s++]=i[e.buffer[u+(f>>>2)]>>6-2*(3&f)&3]}break}case 4:{let o=0;for(let i=e.firstDirtyLine;i<=e.lastDirtyLine;i++){const s=i*e.bytesPerLine;for(let a=e.margin;a<e.lineWidth+e.margin;a++)r[o++]=ec[e.buffer[s+(a>>>1)]>>>4-4*(1&a)&15]}break}case 24:{const o=new Uint32Array(e.buffer.buffer,e.buffer.byteOffset,e.buffer.byteLength>>>2);if(0===e.margin)r.subarray(0,e.lineWidth*(e.lastDirtyLine-e.firstDirtyLine+1)).set(o.subarray(e.firstDirtyLine*e.lineWidth,e.lineWidth*(e.lastDirtyLine+1)));else{let i=0;for(let s=e.firstDirtyLine;s<=e.lastDirtyLine;s++){let a=s*(e.bytesPerLine>>>2)+e.margin;for(let u=0;u<e.lineWidth;u++)r[i++]=o[a++]}}}}}if(!this.imageData)return;const t=1!==e.scaleX||1!==e.scaleY;(t?this.contextTmp:this.context).putImageData(this.imageData,0,e.firstDirtyLine,0,0,e.lineWidth,e.lastDirtyLine-e.firstDirtyLine+1),t&&(this.context.imageSmoothingEnabled=!1,this.context.drawImage(this.canvasTmp,0,e.firstDirtyLine,e.lineWidth,e.lastDirtyLine-e.firstDirtyLine+1,0,e.firstDirtyLine*e.scaleY,e.lineWidth*e.scaleX,(e.lastDirtyLine-e.firstDirtyLine+1)*e.scaleY)),this.newFrameEvent.dispatch(this.canvas)}}class SH{constructor(e,t){this.timeoutRemaining=e,this.cb=t,this.onTimeout=()=>{const r=performance.now();if(this.timeoutRemaining-=r-this.timeoutTimestamp,this.timeoutRemaining>0)return this.timeoutTimestamp=performance.now(),void(this.handle=window.setTimeout(this.onTimeout,this.timeoutTimestamp));this.cb()},this.timeoutTimestamp=performance.now(),this.handle=window.setTimeout(this.onTimeout,e)}increase(e){this.timeoutRemaining+=e}cancel(){clearTimeout(this.handle)}}const IH=new Error("transaction timeout"),wT=new Error("session does not match emulation");class Va{constructor(e,t,r,o,i){var s=this;this.storageService=e,this.emulationState=t,this.errorService=r,this.storageCardContext=o,this.ngZone=i,this.triggerSnapshot=()=>this.ngZone.runOutsideAngular(()=>this.sessionId<0||this.cloudpilot.isSuspended()?Promise.resolve():this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():(this.snapshotInProgress=!0,this.pendingSnapshotPromise=(0,ae.Z)(function*(){try{yield s.triggerSnapshotUnguarded()}finally{s.snapshotInProgress=!1}})(),this.pendingSnapshotPromise)),this.snapshotEvent=new Vo.j,this.sessionId=-1,this.consecutiveErrorCount=0,this.snapshotInProgress=!1,this.pendingSnapshotPromise=Promise.resolve(void 0),this.cardPagePool=[]}initialize(e,t){var r=this;return(0,ae.Z)(function*(){r.errorService.hasFatalError()||(r.sessionId=e.id,r.dirtyPages=void 0,r.pages=void 0,r.state=void 0,r.db=yield r.storageService.getDb(),r.cloudpilot=t,r.resetCard())})()}resetCard(){this.cardPagePool=[],this.cardDirtyPages=void 0}waitForPendingSnapshot(){return this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():Promise.resolve()}triggerSnapshotUnguarded(){var e=this;return(0,ae.Z)(function*(){for(;;)try{return yield e.triggerSnapshotOnce(),void(e.consecutiveErrorCount=0)}catch(t){if(console.error("snapshot error",t),t===wT)throw e.errorService.fatalBug("attempting to snapshot a session that is not currently running"),t;if(t===h0)throw e.errorService.fatalPageLockLost(),t;if(++e.consecutiveErrorCount>3)throw e.errorService.fatalIDBDead(),t}})()}triggerSnapshotOnce(){var e=this;return(0,ae.Z)(function*(){const t=e.db.transaction([Xl,Ql,bl,Ba,Fs,tp],"readwrite",{durability:"relaxed"});if(yield e.storageService.acquireLock(t),e.cloudpilot.isSuspended())return;if(e.emulationState.getCurrentSession()?.id!==e.sessionId)throw wT;let r;const o=e.cloudpilot.getMountedKey();o&&(r=yield dr(t.objectStore(Fs).index("storageId").get(o)));const i=yield new Promise((s,a)=>{let u=!1;const f=performance.now();let m=0,_=0,k=0,M=new SH(500,()=>{u=!0;try{t.abort()}catch{}a(IH)});t.oncomplete=(0,ae.Z)(function*(){M.cancel(),e.dirtyPages?.fill(0),e.cardDirtyPages?.fill(0),s({timestamp:Date.now(),pages:k,timeBlocking:_-m,timeTotal:performance.now()-f})}),t.onerror=()=>{M.cancel(),a(new Error(t.error?.message))};try{m=performance.now(),k=e.saveDirtyMemory(t,M),r&&(k+=e.saveDirtyStorage(r,t,M)),e.saveSession(t),_=performance.now()}catch(Y){throw u||(M.cancel(),t.abort()),Y}});e.snapshotEvent.dispatch(i)})()}saveDirtyMemory(e,t){let r=0;const o=e.objectStore(Xl),i=e.objectStore(Ql),s=this.cloudpilot.getDirtyPages(),a=this.cloudpilot.getMemory32();let u=0;if(!this.dirtyPages||!this.pages){const m=a.length>>>8;this.dirtyPages=new Uint8Array(s.length),this.pages=new Array(m);for(let _=0;_<m;_++)this.pages[_]=new Uint32Array(256)}i.put({sessionId:this.sessionId,totalSize:a.length<<2});for(let m=0;m<s.length;m++)if(this.dirtyPages[m]|=s[m],s[m]=0,0!==this.dirtyPages[m])for(let _=1;_<256&&!(r>=this.pages.length);_<<=1){if(this.dirtyPages[m]&_){const k=sT(a.subarray(256*r,256*(r+1)));"number"==typeof k?o.put(k,[this.sessionId,r]):(this.pages[r].set(k),o.put(this.pages[r],[this.sessionId,r])),t.increase(.5),u++}r++}else r+=8;return u}saveDirtyStorage(e,t,r){const o=this.cloudpilot.getCardDirtyPages(e.storageId),i=this.cloudpilot.getCardData(e.storageId);if(!i)return console.log(`seems ${e.name} was unmounted`),0;if(this.storageCardContext.assertOwnership(e.id,Er.cloudpilot),!o)throw new Error(`failed to retrieve dirty pages for card ${e.name}`);if(i.length!==e.size>>>2)throw new Error("card size mismatch");if(this.cardDirtyPages||(this.cardDirtyPages=new Uint8Array(o.length)),this.cardDirtyPages.length!==o.length)throw new Error("card size has changed without notification");let s=0,a=0,u=0;const f=t.objectStore(Ba),m=(i.length>>11)+(i.length%2048>0?1:0);for(let _=0;_<o.length;_++)if(this.cardDirtyPages[_]|=o[_],o[_]=0,0!==this.cardDirtyPages[_])for(let k=1;k<256&&!(s>=m);k<<=1){if(this.cardDirtyPages[_]&k){a>=this.cardPagePool.length&&this.cardPagePool.push(new Uint32Array(2048));const M=this.cardPagePool[a++];M.set(i.subarray(2048*s,2048*(s+1))),f.put(M,[e.id,s]),r.increase(4),u++}s++}else s+=8;return 8*u}saveSession(e){const t=e.objectStore(bl);if(this.cloudpilot.saveState()){const r=this.cloudpilot.getSavestate();this.state||(this.state=new Uint8Array(r.length)),this.state.set(r),t.put(this.state,this.sessionId)}else console.log("save state failed"),t.delete(this.sessionId)}}function kH(n,e){1&n&&(se(0,"p",11),qe(1," ERROR: URL must be served via HTTPS. "),J())}function TH(n){if(!n.value)return{url:"URL empty"};let e;try{e=new(Fu())(n.value)}catch{return{url:"URL invalid"}}return"https:"===location.protocol&&"https:"!==e.protocol?{url:"mixed content"}:null}Va.\u0275fac=function(e){return new(e||Va)(ee(Xn),ee(bs),ee(zs),ee($a),ee(dt))},Va.\u0275prov=ht({token:Va,factory:Va.\u0275fac,providedIn:"root"});class rp{constructor(){this.onContinue=()=>{},this.onCancel=()=>{}}ngOnInit(){this.createFormGroup()}formKeyDown(e){"Enter"===e.key&&this.continue()}continue(){this.onContinue(new(Fu())(this.formGroup.get("url")?.value).toString())}get isMixedContent(){const e=this.formGroup.get("url")?.value;if(!e)return!1;try{const t=new(Fu())(e);return"https:"===location.protocol&&"https:"!==t.protocol}catch{}return!1}createFormGroup(){this.formGroup=new Jh({url:new di("",TH)})}}function Wm(n){const e=new Date;return`${n}_${e.getFullYear()}${(e.getMonth()+1).toString().padStart(2,"0")}${e.getDate().toString().padStart(2,"0")}-${e.getHours().toString().padStart(2,"0")}${e.getMinutes().toString().padStart(2,"0")}${e.getSeconds().toString().padStart(2,"0")}`}function ST(n){return`${Wm(n.name)}.bin`}function ET(n,e){return`backup_${Wm(n.name)}${e?"_with_rom":""}.zip`}function y0(n,e=3){return 0===n.length?"":1===n.length?n[0]:`${n.slice(0,n.length>e?e:n.length-1).join(", ")} and ${n.length>e?n.length-e+" more files":n[n.length-1]}`}function DT(n){const{name:e,hotsyncName:t,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}=n;return{name:e,hotsyncName:t,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}}rp.\u0275fac=function(e){return new(e||rp)},rp.\u0275cmp=ut({type:rp,selectors:[["app-remote-url-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel"},decls:21,vars:3,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter URL","formControlName","url"],["class","error",4,"ngIf"],[1,"error"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"Enter download URL"),J(),se(4,"ion-buttons",1)(5,"ion-button",2),st("click",function(){return t.continue()}),qe(6,"OK"),J()(),se(7,"ion-buttons",3)(8,"ion-button",4),st("click",function(){return t.onCancel()}),qe(9,"Cancel"),J()()()(),se(10,"ion-content",5)(11,"form",6),st("keydown",function(o){return t.formKeyDown(o)}),se(12,"p"),qe(13," Please enter the URL from which to download: "),J(),se(14,"ion-item",7)(15,"ion-label",8),qe(16,"URL"),J(),ct(17,"ion-input",9),J(),nn(18,kH,2,0,"p",10),se(19,"p"),qe(20," Note that the remote server needs to support the CORS protocol. "),J()()()),2&e&&(Ye(5),rt("disabled",t.formGroup.invalid),Ye(6),rt("formGroup",t.formGroup),Ye(7),rt("ngIf",t.isMixedContent))},dependencies:[ui,Ki,Yi,Xi,Qi,_l,ti,Ji,es,ts,yl,fl,ul,dl,sa,Pa],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}.error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]});class op{constructor(e){this.kvs=e,this.onContinue=()=>{},this.onCancel=()=>{},this.origin=""}ngOnInit(){this.createFormGroup()}formKeyDown(e){"Enter"===e.key&&this.saveAndContinue()}saveAndContinue(){this.kvs.kvs.credentials={...this.kvs.kvs.credentials,[this.origin]:{username:this.formGroup.get("username")?.value??"",password:this.formGroup.get("password")?.value??""}},this.onContinue()}createFormGroup(){const e=this.kvs.kvs.credentials[this.origin];this.formGroup=new Jh({username:new di(e?.username??""),password:new di(e?.password??"")})}}op.\u0275fac=function(e){return new(e||op)(C(ni))},op.\u0275cmp=ut({type:op,selectors:[["app-credentials-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel",origin:"origin"},decls:22,vars:1,consts:[["translucent",""],["slot","primary"],[3,"click"],["slot","secondary"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter username","formControlName","username"],["placeholder","Enter password","formControlName","password","type","password"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"Authenticate"),J(),se(4,"ion-buttons",1)(5,"ion-button",2),st("click",function(){return t.saveAndContinue()}),qe(6,"OK"),J()(),se(7,"ion-buttons",3)(8,"ion-button",2),st("click",function(){return t.onCancel()}),qe(9,"Cancel"),J()()()(),se(10,"ion-content",4)(11,"form",5),st("keydown",function(o){return t.formKeyDown(o)}),se(12,"p"),qe(13," The server requires authentication. "),J(),se(14,"ion-item",6)(15,"ion-label",7),qe(16,"Username"),J(),ct(17,"ion-input",8),J(),se(18,"ion-item",6)(19,"ion-label",7),qe(20,"Password"),J(),ct(21,"ion-input",9),J()()()),2&e&&(Ye(11),rt("formGroup",t.formGroup))},dependencies:[Ki,Yi,Xi,Qi,_l,ti,Ji,es,ts,yl,fl,ul,dl,sa,Pa],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}"]});class $c{constructor(e,t,r){this.loadingController=e,this.kvsService=t,this.modalController=r}fetch(e,t){var r=this;return(0,ae.Z)(function*(){let o=t?.loaderDelay;const i=void 0===t?.timeout?5e3:t?.timeout,s=new(Fu())("string"==typeof e?e:e.url);let a,u,f=!1;for(;;)try{void 0!==o&&o>=0&&!a&&(a=yield r.loadingController.create({message:"Loading..."}),u=window.setTimeout(()=>a.present(),o));const m=r.kvsService.kvs.credentials[s.origin],_=new AbortController,k=window.setTimeout(()=>_.abort(),i),M=yield fetch(e,{...r.requestInit(t),signal:_.signal,headers:{...t?.headers||{},...f&&m?{Authorization:"Basic "+btoa(`${m.username}:${m.password}`)}:{}}});if(clearTimeout(k),401===M.status){if(!f&&m){f=!0;continue}if(a&&(a.dismiss(),clearTimeout(u),o=0,a=void 0),f=!0,yield r.authenticate(s.origin))continue}return M}finally{a&&(yield a.dismiss()),clearTimeout(u)}})()}requestInit(e){if(!e)return;const{timeout:t,loaderDelay:r,...o}=e;return o}authenticate(e){var t=this;return(0,ae.Z)(function*(){const r=yield new Promise(o=>t.modalController.create({component:op,backdropDismiss:!1,componentProps:{origin:e,onContinue:()=>o(!0),onCancel:()=>o(!1)}}).then(i=>i.present()));return t.modalController.dismiss(),r})()}}$c.\u0275fac=function(e){return new(e||$c)(ee(Wl),ee(ni),ee(vs))},$c.\u0275prov=ht({token:$c,factory:$c.\u0275fac,providedIn:"root"});var AH=A(3272),PH=A.n(AH);function _0(n){const e=(n>>>13)+(n%8192>0?1:0);return(e>>>3)+(e%8>0?1:0)}const IT=[oe.palmPilot,oe.pilot,oe.iii,oe.palmVx,oe.palmV,oe.palmVII,oe.palmVIIEZ,oe.palmVIIx,oe.iiixe,oe.iiix,oe.iiie,oe.m500,oe.m505,oe.m515,oe.m520,oe.iiic,oe.m100,oe.m105,oe.m125,oe.m130,oe.i705,oe.i710,oe.handera330,oe.handera330c,oe.pegS300,oe.pegS320,oe.pegS500c,oe.pegT400,oe.pegN600c,oe.pegT600c,oe.pegN700c,oe.pegT650c,oe.pegNR70,oe.acerS11];function ln(){return(n,e,t)=>{const r=t.value;return t.value=function(o,i){return this.guard(()=>r.call(this,o,i))},t}}class Zt{constructor(e){this.module=e,this.fatalErrorEvent=new Vo.j,this.pwmUpdateEvent=new Vo.j,this.proxyDisconnectEvent=new Vo.j,this.amIdead=!1,this.cloudpilot=new e.Cloudpilot,this.cloudpilot.RegisterPwmHandler(e.addFunction((t,r)=>this.pwmUpdateEvent.dispatch({frequency:t,dutyCycle:r}),"vdd")),this.cloudpilot.RegisterProxyDisconnectHandler(e.addFunction(t=>this.proxyDisconnectEvent.dispatch(e.UTF8ToString(t)),"vi"))}static create(e){return(0,ae.Z)(function*(){return new Zt(yield PH()({print:t=>console.log(t),printErr:t=>console.error(t),...void 0!==e?{locateFile:()=>e}:{}}))})()}destroy(){this.module.destroy(this.cloudpilot)}hasFatalError(){return this.amIdead}getRomInfo(e){const t=this.copyIn(e),r=new this.module.RomInfo(t,e.length);let o;return r.IsValid()&&(o={cardVersion:r.CardVersion(),cardName:r.CardName(),romVersion:r.RomVersion(),romVersionString:r.RomVersionString(),supportedDevices:IT.filter(r.Supports.bind(r))}),this.cloudpilot.Free(t),this.module.destroy(r),o}initializeSession(e,t){const r=this.copyIn(e),o=this.cloudpilot.InitializeSession(r,e.length,t);return this.cloudpilot.Free(r),o}cyclesPerSecond(){return this.cloudpilot.GetCyclesPerSecond()}runEmulation(e){return this.cloudpilot.RunEmulation(e)}getFrame(){const e=this.cloudpilot.CopyFrame(),t=this.module.getPointer(e.GetBuffer());return{bpp:e.GetBpp(),bytesPerLine:e.GetBytesPerLine(),lines:e.GetLines(),lineWidth:e.GetLineWidth(),margin:e.GetMargin(),firstDirtyLine:e.GetFirstDirtyLine(),lastDirtyLine:e.GetLastDirtyLine(),hasChanges:e.GetHasChanges(),scaleX:e.GetScaleX(),scaleY:e.GetScaleY(),buffer:this.module.HEAPU8.subarray(t,t+e.GetBufferSize())}}isScreenDirty(){return this.cloudpilot.IsScreenDirty()}markScreenClean(){this.cloudpilot.MarkScreenClean()}minRamForDevice(e){return 1024*this.cloudpilot.MinMemoryForDevice(e)}framebufferSizeForDevice(e){return 1024*this.cloudpilot.FramebufferSizeForDevice(e)}totalMemorySizeForDevice(e){return 1024*this.cloudpilot.TotalMemoryForDevice(e)}queuePenMove(e,t){this.cloudpilot.QueuePenMove(e,t)}queuePenUp(){this.cloudpilot.QueuePenUp()}queueButtonDown(e){this.cloudpilot.QueueButtonDown(e)}queueButtonUp(e){this.cloudpilot.QueueButtonUp(e)}queueKeyboardEvent(e,t){this.cloudpilot.QueueKeyboardEvent(e,t)}isPowerOff(){return!!this.cloudpilot.IsPowerOff()}isUiInitialized(){return!!this.cloudpilot.IsUIInitialized()}isSetupComplete(){return!!this.cloudpilot.IsSetupComplete()}getOSVersion(){return this.cloudpilot.GetOSVersion()}reset(){this.cloudpilot.Reset()}resetNoExtensions(){this.cloudpilot.ResetNoExtensions()}resetHard(){this.cloudpilot.ResetHard()}installDb(e){const t=this.copyIn(e),r=this.cloudpilot.InstallDb(t,e.length);return this.cloudpilot.Free(t),r}getPalette2bitMapping(){return this.cloudpilot.GetPalette2bitMapping()}getMemory(){const e=this.module.getPointer(this.cloudpilot.GetMemoryPtr());return this.module.HEAPU8.subarray(e,e+this.cloudpilot.GetMemorySize())}getMemory32(){let e=this.module.getPointer(this.cloudpilot.GetMemoryPtr());if(3&e)throw new Error("unaligned pointer");return e>>>=2,this.module.HEAPU32.subarray(e,e+(this.cloudpilot.GetMemorySize()>>>2))}getDirtyPages(){const e=this.module.getPointer(this.cloudpilot.GetDirtyPagesPtr()),t=this.cloudpilot.GetMemorySize();return this.module.HEAPU8.subarray(e,e+((t>>>13)+(t%8192==0?0:1)))}loadMemory(e){const t=this.getMemory32();if((()=>{if(e.length!==t.length||e.length<256)return!1;for(let o=256;o>0;o--){if(e[e.length-o]!==t[t.length-o])return!1;if(4294967295===t[t.length-o])break}return!0})())return t.set(e),!0;{const o=this.copyIn32(e),i=this.cloudpilot.ImportMemoryImage(o,e.length<<2);return this.cloudpilot.Free(o),i}}getRomImage(){const e=this.module.getPointer(this.cloudpilot.GetRomPtr());return this.module.HEAPU8.subarray(e,e+this.cloudpilot.GetRomSize())}getSavestate(){const e=this.module.getPointer(this.cloudpilot.GetSavestatePtr());return this.module.HEAPU8.subarray(e,e+this.cloudpilot.GetSavestateSize())}saveState(){return!!this.cloudpilot.SaveState()}loadState(e){const t=this.copyIn(e),r=this.cloudpilot.LoadState(t,e.length);return this.cloudpilot.Free(t),r}getHotsyncName(){return this.cloudpilot.GetHotsyncName()}setClockFactor(e){this.cloudpilot.SetClockFactor(e)}setHotsyncName(e){this.cloudpilot.SetHotsyncName(e)}backup(e){var t=this;return(0,ae.Z)(function*(){const r=t.guard(()=>t.cloudpilot.StartBackup());try{return yield e(t.wrap(r))}finally{t.module.destroy(r)}})()}getArchive(e){const t=e.GetArchiveSize();return this.copyOut(e.GetArchivePtr(),t)}setClipboardIntegration(e){this.cloudpilot.SetClipboardIntegration(e)}getClipboardIntegration(){return this.cloudpilot.GetClipboardIntegration()}isSuspended(){return this.cloudpilot.IsSuspended()}getSuspendKind(){return this.cloudpilot.GetSuspendContext().GetKind()}cancelSuspend(){this.cloudpilot.GetSuspendContext().Cancel()}getSuspendContextClipboardCopy(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardCopy())}getSuspendContextClipboardPaste(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardPaste())}setNetworkRedirection(e){this.cloudpilot.SetNetworkRedirection(e)}getNetworkRedirection(){return this.cloudpilot.GetNetworkRedirection()}getSuspendContextNetworkConnect(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkConnect())}getSuspendContextNetworkRpc(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkRpc())}copyBuffer(e){return this.copyIn(e)}freeBuffer(e){this.cloudpilot.Free(e)}setHotsyncNameManagement(e){this.cloudpilot.SetHotsyncNameManagement(e)}resolveBuffer(e,t){const r=this.module.getPointer(e);return this.module.HEAPU8.subarray(r,r+t)}withZipfileWalker(e,t){var r=this;return(0,ae.Z)(function*(){const o=r.guard(()=>{const i=r.copyIn(e),s=new r.module.ZipfileWalker(e.length,i);return r.cloudpilot.Free(i),s});try{return yield t(r.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>r.copyOut(o.GetCurrentEntryContent(),o.GetCurrentEntrySize())},o)))}finally{r.module.destroy(o)}})()}withZipfileWalkerSync(e,t){const r=this.guard(()=>{const o=this.copyIn(e),i=new this.module.ZipfileWalker(e.length,o);return this.cloudpilot.Free(o),i});try{return t(this.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>this.copyOut(r.GetCurrentEntryContent(),r.GetCurrentEntrySize())},r)))}finally{this.module.destroy(r)}}serializeSessionImage(e){const t=new this.module.SessionImage,r=this.cloudpilot.Nullptr(),o=this.copyIn(e.rom),i=e.memory?this.copyIn(e.memory):r,s=void 0!==e.savestate?this.copyIn(e.savestate):r;let a=r,u=0;if(void 0!==e.metadata){const m=(new TextEncoder).encode(JSON.stringify(e.metadata));u=m.length,a=this.copyIn(m)}t.SetRomImage(o,e.rom.length),t.SetMemoryImage(i,e.memory?.length||0),t.SetDeviceId(e.deviceId),t.SetSavestate(s,e.savestate?.length||0),t.SetMetadata(a,u);const f=t.Serialize()?this.copyOut(t.GetSerializedImage(),t.GetSerializedImageSize()):void 0;return this.module.destroy(t),[o,i,s,a].forEach(m=>this.cloudpilot.Free(m)),f}deserializeSessionImage(e){const t=new this.module.SessionImage,r=this.copyIn(e),o=(()=>{if(!t.Deserialize(r,e.length))return;const i=this.copyOut(t.GetRomImage(),t.GetRomImageSize()),s=this.copyOut(t.GetMemoryImage(),t.GetMemoryImageSize()),a=this.copyOut(t.GetSavestate(),t.GetSavestateSize()),u=t.GetDeviceId();if(!IT.includes(u))return void console.warn(`unsupported device ${u}`);let f;const m=this.copyOut(t.GetMetadata(),t.GetMetadataSize());if(m)try{f=JSON.parse((new TextDecoder).decode(m))}catch(_){console.warn("invalid metadata",_)}return{deviceId:u,rom:i,memory:s,savestate:a,metadata:f,version:t.GetVersion()}})();return this.module.destroy(t),this.cloudpilot.Free(r),o}launchAppByName(e){return this.cloudpilot.LaunchAppByName(e)}launchAppByDbHeader(e){if(e.length<32)return!1;const t=this.copyIn(e.subarray(0,32)),r=this.cloudpilot.LaunchAppByDbHeader(t,32);return this.cloudpilot.Free(t),r}deviceSupportsCardSize(e){return this.cloudpilot.DeviceSupportsCardSize(e)}clearExternalStorage(){this.cloudpilot.ClearExternalStorage()}allocateCard(e,t){return this.cloudpilot.AllocateCard(e,t>>>9)}getCardData(e){const t=this.module.getPointer(this.cloudpilot.GetCardData(e));if(0!==t)return this.module.HEAPU32.subarray(t>>>2,t+this.cloudpilot.GetCardSize(e)>>2)}getCardDirtyPages(e){const t=this.module.getPointer(this.cloudpilot.GetCardDirtyPages(e));if(0===t)return;const r=_0(this.cloudpilot.GetCardSize(e));return this.module.HEAPU8.subarray(t,t+r)}getMountedKey(){return this.cloudpilot.GetMountedKey()}mountCard(e){return this.cloudpilot.MountCard(e)}removeCard(e){return this.cloudpilot.RemoveCard(e)}remountCards(){this.cloudpilot.RemountCards()}getCardSupportLevel(e){return this.cloudpilot.GetSupportLevel(e)}copyIn(e){const t=this.cloudpilot.Malloc(e.length),r=this.module.getPointer(t);return this.module.HEAPU8.subarray(r,r+e.length).set(e),t}copyIn32(e){const t=this.cloudpilot.Malloc(e.length<<2),r=this.module.getPointer(t);return this.module.HEAPU32.subarray(r>>>2,(r>>>2)+e.length).set(e),t}copyOut(e,t){const r=this.module.getPointer(e);return r>0&&t>0?this.module.HEAPU8.subarray(r,r+t).slice():void 0}wrap(e){return new Proxy(e,{get:(t,r)=>{const o=t[r];return"function"!=typeof o?o:(...i)=>this.guard(()=>o.apply(t,i))}})}guard(e){if(this.amIdead)throw new Error("cloudpilot instance is dead");try{return e()}catch(t){throw this.amIdead=!0,this.cloudpilot=void 0,this.fatalErrorEvent.dispatch(t instanceof Error?t:new Error("unknown error")),t}}}H([ln()],Zt.prototype,"getRomInfo",null),H([ln()],Zt.prototype,"initializeSession",null),H([ln()],Zt.prototype,"cyclesPerSecond",null),H([ln()],Zt.prototype,"runEmulation",null),H([ln()],Zt.prototype,"getFrame",null),H([ln()],Zt.prototype,"isScreenDirty",null),H([ln()],Zt.prototype,"markScreenClean",null),H([ln()],Zt.prototype,"minRamForDevice",null),H([ln()],Zt.prototype,"framebufferSizeForDevice",null),H([ln()],Zt.prototype,"totalMemorySizeForDevice",null),H([ln()],Zt.prototype,"queuePenMove",null),H([ln()],Zt.prototype,"queuePenUp",null),H([ln()],Zt.prototype,"queueButtonDown",null),H([ln()],Zt.prototype,"queueButtonUp",null),H([ln()],Zt.prototype,"queueKeyboardEvent",null),H([ln()],Zt.prototype,"isPowerOff",null),H([ln()],Zt.prototype,"isUiInitialized",null),H([ln()],Zt.prototype,"isSetupComplete",null),H([ln()],Zt.prototype,"getOSVersion",null),H([ln()],Zt.prototype,"reset",null),H([ln()],Zt.prototype,"resetNoExtensions",null),H([ln()],Zt.prototype,"resetHard",null),H([ln()],Zt.prototype,"installDb",null),H([ln()],Zt.prototype,"getPalette2bitMapping",null),H([ln()],Zt.prototype,"getMemory",null),H([ln()],Zt.prototype,"getMemory32",null),H([ln()],Zt.prototype,"getDirtyPages",null),H([ln()],Zt.prototype,"loadMemory",null),H([ln()],Zt.prototype,"getRomImage",null),H([ln()],Zt.prototype,"getSavestate",null),H([ln()],Zt.prototype,"saveState",null),H([ln()],Zt.prototype,"loadState",null),H([ln()],Zt.prototype,"getHotsyncName",null),H([ln()],Zt.prototype,"setClockFactor",null),H([ln()],Zt.prototype,"setHotsyncName",null),H([ln()],Zt.prototype,"setClipboardIntegration",null),H([ln()],Zt.prototype,"getClipboardIntegration",null),H([ln()],Zt.prototype,"isSuspended",null),H([ln()],Zt.prototype,"getSuspendKind",null),H([ln()],Zt.prototype,"cancelSuspend",null),H([ln()],Zt.prototype,"getSuspendContextClipboardCopy",null),H([ln()],Zt.prototype,"getSuspendContextClipboardPaste",null),H([ln()],Zt.prototype,"setNetworkRedirection",null),H([ln()],Zt.prototype,"getNetworkRedirection",null),H([ln()],Zt.prototype,"getSuspendContextNetworkConnect",null),H([ln()],Zt.prototype,"getSuspendContextNetworkRpc",null),H([ln()],Zt.prototype,"copyBuffer",null),H([ln()],Zt.prototype,"freeBuffer",null),H([ln()],Zt.prototype,"setHotsyncNameManagement",null),H([ln()],Zt.prototype,"resolveBuffer",null),H([ln()],Zt.prototype,"serializeSessionImage",null),H([ln()],Zt.prototype,"deserializeSessionImage",null),H([ln()],Zt.prototype,"launchAppByName",null),H([ln()],Zt.prototype,"launchAppByDbHeader",null),H([ln()],Zt.prototype,"deviceSupportsCardSize",null),H([ln()],Zt.prototype,"clearExternalStorage",null),H([ln()],Zt.prototype,"allocateCard",null),H([ln()],Zt.prototype,"getCardData",null),H([ln()],Zt.prototype,"getCardDirtyPages",null),H([ln()],Zt.prototype,"getMountedKey",null),H([ln()],Zt.prototype,"mountCard",null),H([ln()],Zt.prototype,"removeCard",null),H([ln()],Zt.prototype,"remountCards",null),H([ln()],Zt.prototype,"getCardSupportLevel",null);class ns{constructor(){this.cloudpilot=Zt.create()}}ns.\u0275fac=function(e){return new(e||ns)},ns.\u0275prov=ht({token:ns,factory:ns.\u0275fac,providedIn:"root"});class Os{constructor(e,t,r,o,i,s,a,u){this.storageService=e,this.loadingController=t,this.actionSheetController=r,this.kvsService=o,this.modalController=i,this.alertService=s,this.fetchService=a,this.cloudpilotService=u}openFile(e){this.openFilesImpl(!1,t=>{t.length>0&&e(t[0])})}openFiles(e){this.openFilesImpl(!0,e)}openFromDrop(e,t){"drop"!==e.type||!e.dataTransfer?.files||t(Array.from(e.dataTransfer.files).map(this.readFile.bind(this)))}saveSession(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.loadingController.create({message:"Exporting..."});yield r.present();try{const[o,i,s]=yield t.storageService.loadSession(e);if(!o)throw new Error(`invalid ROM ${e.rom}`);const a={deviceId:e.device,metadata:DT(e),rom:o,memory:i,savestate:s},u=(yield t.cloudpilotService.cloudpilot).serializeSessionImage(a);u?t.saveFile(ST(e),u):(yield r.dismiss(),t.alertService.errorMessage("Failed to save session."))}finally{r.dismiss()}})()}emergencySaveSession(e,t){var r=this;return(0,ae.Z)(function*(){const o=yield r.loadingController.create({message:"Exporting..."});o.style.zIndex="10000000",yield o.present();try{const i=t.getRomImage().slice(),s=t.getMemory().slice(),a=t.saveState()?t.getSavestate().slice():void 0;if(t.framebufferSizeForDevice(e.device)<0)throw new Error(`invalid device ID ${e.device}`);const f={deviceId:e.device,metadata:DT(e),rom:i,memory:s,savestate:a},m=(yield r.cloudpilotService.cloudpilot).serializeSessionImage(f);m&&r.saveFile(ST(e),m)}finally{o.dismiss()}})()}saveFile(e,t){const r=new Blob([t],{type:"application/octet-stream"}),o=URL.createObjectURL(r),i=document.createElement("a");i.href=o,i.download=e,i.click()}openUrl(e,t){var r=this;return(0,ae.Z)(function*(){let o;try{o=new(Fu())(e)}catch{return void(yield r.alertService.errorMessage(`Invalid URL: ${e}`))}try{const i=yield r.fetchService.fetch(e);if(!i.ok)throw new Error("request failed");const s=i.arrayBuffer().then(a=>new Uint8Array(a));return void t({name:o.pathname.replace(/.*\//,""),getContent:()=>s})}catch{yield r.alertService.errorMessage(`Download from ${e} failed.`)}})()}openFilesImpl(e,t){var r=this;return(0,ae.Z)(function*(){r.kvsService.kvs.enableRemoteInstall?(yield r.actionSheetController.create({header:"What source do you want to open?",buttons:[{text:"Local files",handler:()=>r.openFilesLocal(e,t)},{text:"File on remote server",handler:()=>r.queryAndOpenFileRemote(t)},{text:"Cancel"}]})).present():r.openFilesLocal(e,t)})()}queryAndOpenFileRemote(e){var t=this;return(0,ae.Z)(function*(){let r;try{r=yield new Promise((o,i)=>t.modalController.create({component:rp,backdropDismiss:!1,componentProps:{onContinue:o,onCancel:i}}).then(s=>s.present()))}catch{return}finally{t.modalController.dismiss()}yield t.openUrl(r,o=>e([o]))})()}openFilesLocal(e,t){var r=this;this.input&&document.body.removeChild(this.input),this.input=document.createElement("input"),this.input.style.display="none",this.input.multiple=e,this.input.type="file",this.input.addEventListener("change",function(){var o=(0,ae.Z)(function*(i){const s=i.target;s?.files&&t(Array.from(s.files).map(r.readFile.bind(r)))});return function(i){return o.apply(this,arguments)}}()),document.body.appendChild(this.input),this.input.click()}readFile(e){let t,r=function(){var o=(0,ae.Z)(function*(){return t||(t=new Promise((i,s)=>{const a=new FileReader;a.onload=()=>i(new Uint8Array(a.result)),a.onerror=()=>{console.warn(a.error),s(a.error)},a.readAsArrayBuffer(e)}),t)});return function(){return o.apply(this,arguments)}}();return{name:e.name,getContent:r}}}Os.\u0275fac=function(e){return new(e||Os)(ee(Xn),ee(Wl),ee(Qf),ee(ni),ee(vs),ee(Kr),ee($c),ee(ns))},Os.\u0275prov=ht({token:Os,factory:Os.\u0275fac,providedIn:"root"});class nc{constructor(e){this.zone=e,this.modalVisibilityChangeEvent=new Vo.j,this.modalActive=!1,this.update(),this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}isModalActive(){return this.modalActive}update(){const e=document.querySelectorAll("ion-alert, ion-modal").length>0;e!==this.modalActive&&this.zone.run(()=>{this.modalActive=e,this.modalVisibilityChangeEvent.dispatch(e)})}}nc.\u0275fac=function(e){return new(e||nc)(ee(dt))},nc.\u0275prov=ht({token:nc,factory:nc.\u0275fac,providedIn:"root"});const Zm=new Error("permission denied");class Bc{constructor(e,t){this.alertController=e,this.alertService=t,this.clipboardContent="",this.lastClipboardReadAt=performance.now()}isSupported(){return!!navigator.clipboard?.readText&&!!navigator.clipboard?.writeText}handleSuspend(e){if(e.isSuspended())switch(e.getSuspendKind()){case 1:this.handleCopy(e);break;case 2:this.handlePaste(e)}}handleCopy(e){var t=this;return(0,ae.Z)(function*(){const r=e.getSuspendContextClipboardCopy(),o=r.GetClipboardContent();try{return yield t.tryCopyDirect(o),void r.Resume()}catch(i){if(i===Zm)return r.Cancel(),t.msgPermissionDenied()}try{yield t.tryCopyWithInteraction(o),r.Resume()}catch{yield t.msgCopyFailed(),r.Cancel()}})()}tryCopyDirect(e){var t=this;return(0,ae.Z)(function*(){try{yield navigator.clipboard.writeText(e)}catch(r){throw(yield t.isPermissionDenied("clipboard-write"))?Zm:r}})()}tryCopyWithInteraction(e){var t=this;return new Promise(function(){var r=(0,ae.Z)(function*(o,i){try{const s=yield t.alertController.create({header:"Confirm Copy",message:"Please confirm that you want to copy to the host clipboard",backdropDismiss:!1,buttons:[{text:"Copy",handler:(a=(0,ae.Z)(function*(){s.dismiss();try{yield navigator.clipboard.writeText(e),o(!0)}catch(u){i(u)}}),function(){return a.apply(this,arguments)})},{text:"Cancel",handler:()=>{s.dismiss(),o(!1)}}]});s.present()}catch(s){i(s)}var a});return function(o,i){return r.apply(this,arguments)}}())}handlePaste(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.tryPaste();e.getSuspendContextClipboardPaste().Resume(r??""),void 0!==r&&(t.clipboardContent=r,t.lastClipboardReadAt=performance.now())})()}tryPaste(){var e=this;return(0,ae.Z)(function*(){if(performance.now()-e.lastClipboardReadAt<3e3)return e.clipboardContent;try{return yield e.tryPasteDirect()}catch(t){if(t===Zm)return void(yield e.msgPermissionDenied())}try{return yield e.tryPasteWithInteraction()}catch{return void(yield e.msgPasteFailed())}})()}tryPasteDirect(){var e=this;return(0,ae.Z)(function*(){try{return yield navigator.clipboard.readText()}catch(t){throw(yield e.isPermissionDenied("clipboard-read"))?Zm:t}})()}tryPasteWithInteraction(){var e=this;return new Promise(function(){var t=(0,ae.Z)(function*(r,o){try{const i=yield e.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard",backdropDismiss:!1,buttons:[{text:"Paste",handler:(s=(0,ae.Z)(function*(){i.dismiss();try{r(yield navigator.clipboard.readText())}catch(a){o(a)}}),function(){return s.apply(this,arguments)})},{text:"Cancel",handler:()=>{i.dismiss(),r(void 0)}}]});i.present()}catch(i){o(i)}var s});return function(r,o){return t.apply(this,arguments)}}())}handlePasteSafari(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard.",backdropDismiss:!1,buttons:[{text:"Paste",handler:(o=(0,ae.Z)(function*(){try{t.clipboardContent=yield navigator.clipboard.readText(),t.lastClipboardReadAt=performance.now(),r.dismiss(),e.Resume(t.clipboardContent)}catch{r.dismiss(),yield t.alertService.errorMessage("Paste from host clipboard failed."),e.Resume("")}}),function(){return o.apply(this,arguments)})},{text:"Cancel",handler:()=>{r.dismiss(),e.Resume("")}}]});var o;yield r.present()})()}isPermissionDenied(e){return(0,ae.Z)(function*(){if(navigator.permissions)try{return"denied"===(yield navigator.permissions.query({name:e}))?.state}catch{return!1}return!1})()}msgPermissionDenied(){return this.alertService.errorMessage(`\n        CloudpilotEmu has no permission to access the clipboard. Please check your browser's settings\n        and grant the necessary permission to ${location.origin} .\n    `)}msgCopyFailed(){return this.alertService.errorMessage("Failed to copy to the host clipboard.")}msgPasteFailed(){return this.alertService.errorMessage("Failed to paste from the host clipboard.")}}Bc.\u0275fac=function(e){return new(e||Bc)(ee(Fc),ee(Kr))},Bc.\u0275prov=ht({token:Bc,factory:Bc.\u0275fac,providedIn:"root"});const FH="https:"===window.location.protocol?8667:8666,OH=/^[\da-z\-\.]+$/i,NH=/^[\da-z\-\.]+:\d+$/i;function v0(n){if(!n)return;const e=window.location.protocol;if(n.match(OH))return`${e}//${n}:${FH}`;if(n.match(NH))return`${e}//${n}`;try{const t=new URL(n);if("https:"===t.protocol||"http:"===t.protocol)return t.toString().replace(/\/+$/,"")}catch{}}function LH(n){return void 0!==v0(n.value)?null:{proxyAddress:"invalid"}}class rc{constructor(e,t,r,o){var i=this;this.kvsService=e,this.alertService=t,this.ngZone=r,this.fetchService=o,this.handleConnect=()=>this.mutex.runExclusive((0,ae.Z)(function*(){i.socket&&i.disconnect(i.socket);const s=v0(i.kvsService.kvs.proxyServer);if(!s)return yield i.alertService.errorMessage(`Invalid proxy address: ${i.kvsService.kvs.proxyServer}`),void i.cloudpilot.getSuspendContextNetworkConnect().Cancel();const a=yield i.handshake(void 0,500);switch(a.status){case"failed":return void i.onSocketError(void 0);case"version_mismatch":return yield i.alertService.proxyVersionMismatchError(),void i.cancelSuspend();case"success":break;default:throw new Error("unreachable")}i.socket=new WebSocket(`${s.replace(/^http/,"ws")}/network-proxy/connect?token=${encodeURIComponent(a.token)}`),i.socket.binaryType="arraybuffer",i.bindListeners(i.socket),i.ngZone.run(()=>i.connectTimeoutHandle=setTimeout(i.onSocketError,5e3))})),this.onSocketOpen=()=>{if(this.cancelConnectTimeout(),!this.cloudpilot.isSuspended()||4!==this.cloudpilot.getSuspendKind())return console.error("ERROR: socket connected, but emulation is not waiting for connect"),void this.disconnect(this.socket);this.sessionId=p0(),this.cloudpilot.getSuspendContextNetworkConnect().Resume(this.sessionId),this.resumeEvent.dispatch()},this.onSocketMessage=s=>{if(!this.cloudpilot.isSuspended()||3!==this.cloudpilot.getSuspendKind())return void console.error("ERROR: socket received message, but emulation is not waiting for rpc");if(!(s.data instanceof ArrayBuffer))return console.error("ERROR: socket received a text frame"),this.disconnect(this.socket),this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),void this.cancelSuspend();const a=this.cloudpilot.copyBuffer(new Uint8Array(s.data));this.cloudpilot.getSuspendContextNetworkRpc().ReceiveResponse(a,s.data.byteLength),this.cloudpilot.freeBuffer(a),this.resumeEvent.dispatch()},this.onSocketError=s=>{this.cancelConnectTimeout(),this.cloudpilot.isSuspended()&&4===this.cloudpilot.getSuspendKind()?this.alertService.errorMessage("Failed to connect to proxy."):this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(this.socket),this.cancelSuspend(),console.error("ERROR: socket error",s)},this.onSocketClose=()=>{this.cancelConnectTimeout(),this.alertService.errorMessage("Connection to proxy closed unexpectedly"),this.unbindListeners(this.socket),this.cancelSuspend(),this.sessionId="",this.socket=void 0},this.onProxyDisconnect=s=>{s!==this.sessionId||!this.socket||this.ngZone.run(()=>this.disconnect(this.socket))},this.resumeEvent=new Vo.j,this.mutex=new La,this.sessionId=""}initialize(e){this.cloudpilot=e,e.proxyDisconnectEvent.addHandler(this.onProxyDisconnect)}reset(){this.socket&&this.disconnect(this.socket)}handleSuspend(){if(this.cloudpilot&&this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:this.handleConnect();break;case 3:this.handleRpc()}}isConnected(){return!!this.socket}handshake(e=this.kvsService.kvs.proxyServer,t=-1){var r=this;return(0,ae.Z)(function*(){const o=v0(e);if(!o)return{status:"failed"};try{const i=yield r.fetchService.fetch(`${o}/network-proxy/handshake`,{method:"POST",loaderDelay:t});if(!i.ok)return{status:"failed"};const s=yield i.json();return s.version<3||s.compatVersion>3?{status:"version_mismatch"}:{status:"success",token:s.token}}catch{return{status:"failed"}}})()}handleRpc(){const e=this.cloudpilot.getSuspendContextNetworkRpc();this.socket?this.socket.send(this.cloudpilot.resolveBuffer(e.GetRequestData(),e.GetRequestSize())):e.Cancel()}disconnect(e){e&&(this.unbindListeners(e),e.close()),this.sessionId="",this.socket=void 0}bindListeners(e){this.ngZone.run(()=>{e.addEventListener("open",this.onSocketOpen),e.addEventListener("error",this.onSocketError),e.addEventListener("close",this.onSocketClose)}),this.ngZone.runOutsideAngular(()=>e.addEventListener("message",this.onSocketMessage))}unbindListeners(e){e&&(e.removeEventListener("message",this.onSocketMessage),e.removeEventListener("open",this.onSocketOpen),e.removeEventListener("error",this.onSocketError),e.removeEventListener("close",this.onSocketClose))}cancelSuspend(){if(this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:case 3:this.cloudpilot.cancelSuspend()}}cancelConnectTimeout(){void 0!==this.connectTimeoutHandle&&clearTimeout(this.connectTimeoutHandle),this.connectTimeoutHandle=void 0}}rc.\u0275fac=function(e){return new(e||rc)(ee(ni),ee(Kr),ee(dt),ee($c))},rc.\u0275prov=ht({token:rc,factory:rc.\u0275fac,providedIn:"root"});class Vc{constructor(){this.buttons=new Map}reset(e){this.cloudpilot=e,this.buttons.clear(),[6,7].forEach(t=>e.queueButtonUp(t))}engage(e){this.cloudpilot&&(this.buttons.has(e)?this.buttons.get(e).timer=0:(this.buttons.set(e,{button:e,timer:0}),this.cloudpilot?.queueButtonDown(e)))}tick(e){if(this.cloudpilot)for(const[t,r]of this.buttons)r.timer+=1e3*e,r.timer>250&&(this.cloudpilot.queueButtonUp(t),this.buttons.delete(t))}}Vc.\u0275fac=function(e){return new(e||Vc)},Vc.\u0275prov=ht({token:Vc,factory:Vc.\u0275fac,providedIn:"root"});class Uc{constructor(){this.hasRenderedPromise=new Promise(e=>this.hasRenderedResolve=e)}notifyHasRendered(){this.hasRenderedResolve()}hasRendered(){return this.hasRenderedPromise}}Uc.\u0275fac=function(e){return new(e||Uc)},Uc.\u0275prov=ht({token:Uc,factory:Uc.\u0275fac,providedIn:"root"});var UH=A(9084),TT=A.n(UH);function b0(){return(b0=(0,ae.Z)(function*(n){const e=yield C0.create();if(e.mkfs(n))return e.getImage()})).apply(this,arguments)}const MT="fstools_web.wasm",xT=WebAssembly.compileStreaming?WebAssembly.compileStreaming(fetch(MT)):fetch(MT).then(n=>n.arrayBuffer()).then(n=>WebAssembly.compile(n));class C0{constructor(e){this.module=e,this.nativeContext=new e.MkfsContext}static create(){return(0,ae.Z)(function*(){return new C0(yield TT()({print:e=>console.log(e),printErr:e=>console.error(e),instantiateWasm:(e=(0,ae.Z)(function*(t,r){return r(yield WebAssembly.instantiate(yield xT,t))}),function(r,o){return e.apply(this,arguments)})}));var e})()}mkfs(e){return this.nativeContext.Mkfs(e,"card")}getImage(){const e=this.nativeContext.GetImageSize(),t=this.module.getPointer(this.nativeContext.GetImage());if(0!==e&&0!==t)return this.module.HEAPU32.subarray(t>>>2,t+e>>>2)}}class qm{constructor(e,t){this.module=e,this.result=0,this.nativeContext=new e.FsckContext(t>>>9)}static create(e){return(0,ae.Z)(function*(){const t=yield TT()({print:r=>console.log(r),printErr:r=>console.error(r),instantiateWasm:(r=(0,ae.Z)(function*(o,i){return i(yield WebAssembly.instantiate(yield xT,o))}),function(i,s){return r.apply(this,arguments)})});var r;return new qm(t,e)})()}getImageData(){const e=this.nativeContext.GetImageSize(),t=this.module.getPointer(this.nativeContext.GetImage());return this.module.HEAPU32.subarray(t>>>2,t+e>>2)}getDirtyPages(){const e=this.module.getPointer(this.nativeContext.GetDirtyPages()),t=_0(this.nativeContext.GetImageSize());return this.module.HEAPU8.subarray(e,e+t)}fsck(){if(0!==this.result)return this.result;try{return this.result=this.nativeContext.Fsck(),this.result}catch(e){return console.warn("fsck failed",e),this.result=4,this.result}}getResult(){return this.result}}var Dr=(()=>{return(n=Dr||(Dr={})).dirty="dirty",n.clean="clean",n.unformatted="unformatted",n.unfixable="unfixable",Dr;var n})(),Tr=(()=>{return(n=Tr||(Tr={})).portrait="portrait",n.landscape90="landscape90",n.landscape270="landscape270",n.portrait180="portrait180",Tr;var n})();class Ua{constructor(e,t,r){this.cloudpilotService=e,this.storageService=t,this.loadingController=r,this.sessions=[],this.loading=!0,this.updateMutex=new La,this.updateSessionsFromStorage().then(()=>this.loading=!1),this.storageService.sessionChangeEvent.addHandler(this.updateSessionsFromStorage.bind(this))}isLoading(){return this.loading}addSessionFromImage(e,t,r={}){var o=this;return(0,ae.Z)(function*(){const i={hotsyncName:e.metadata?.hotsyncName,dontManageHotsyncName:!1,speed:1,deviceOrientation:Tr.portrait,...r,id:-1,name:t,device:e.deviceId,ram:(yield o.cloudpilotService.cloudpilot).minRamForDevice(e.deviceId)/1024/1024,rom:"",osVersion:e?.metadata?.osVersion},s=yield o.loadingController.create({message:"Importing..."});yield s.present();const a=yield o.storageService.addSession(i,e.rom,e.memory,e.savestate);return yield o.updateSessionsFromStorage(),yield s.dismiss(),a})()}addSessionFromRom(e,t,r,o={}){var i=this;return(0,ae.Z)(function*(){const s={hotsyncName:"",dontManageHotsyncName:!1,speed:1,deviceOrientation:Tr.portrait,...o,id:-1,name:t,device:r,ram:(yield i.cloudpilotService.cloudpilot).minRamForDevice(r)/1024/1024,rom:""},a=yield i.loadingController.create({message:"Importing..."});yield a.present();const u=yield i.storageService.addSession(s,e);return yield i.updateSessionsFromStorage(),yield a.dismiss(),u})()}getSessions(){return this.sessions}deleteSession(e){var t=this;return(0,ae.Z)(function*(){yield t.storageService.deleteSession(e)})()}updateSession(e){var t=this;return(0,ae.Z)(function*(){yield t.storageService.updateSession(e)})()}updateSessionsFromStorage(){var e=this;return(0,ae.Z)(function*(){e.sessions=yield e.updateMutex.runExclusive((0,ae.Z)(function*(){return(yield e.storageService.getAllSessions()).sort((t,r)=>t.name.localeCompare(r.name))}))})()}}Ua.\u0275fac=function(e){return new(e||Ua)(ee(ns),ee(Xn),ee(Wl))},Ua.\u0275prov=ht({token:Ua,factory:Ua.\u0275fac,providedIn:"root"});var HH=A(7971),GH=A.n(HH),Ws=(()=>{return(n=Ws||(Ws={}))[n.success=0]="success",n[n.zipfileError=1]="zipfileError",n[n.ioError=2]="ioError",n[n.cardFull=3]="cardFull",Ws;var n})(),wl=(()=>{return(n=wl||(wl={}))[n.success=0]="success",n[n.ioError=1]="ioError",n[n.cardFull=2]="cardFull",wl;var n})();function zH(n){return{readonly:0!=(1&n),hidden:0!=(2&n),system:0!=(4&n)}}function AT(n,e){const t=n.GetName(),r=n.GetModifiedTS();return{path:e,name:t,size:n.GetSize(),lastModifiedTS:r,lastModifiedLocalDate:new Date(1e3*r).toLocaleDateString(),isDirectory:n.IsDirectory(),attributes:zH(n.GetAttributes())}}class w0{constructor(e){this.module=e,this.vfsNative=new e.Vfs}static create(){return(0,ae.Z)(function*(){return new w0(yield GH()({print:e=>console.log(e),printErr:e=>console.error(e)}))})()}allocateImage(e){this.vfsNative.AllocateImage(e>>>9)}mountImage(e){return this.vfsNative.MountImage(e)}unmountImage(e){this.vfsNative.UnmountImage(e)}getPendingImage(){const e=this.module.getPointer(this.vfsNative.GetPendingImage()),t=this.vfsNative.GetPendingImageSize();if(0!==e&&0!==t)return this.module.HEAPU32.subarray(e>>>2,e+t>>>2)}getImageInSlot(e){const t=this.module.getPointer(this.vfsNative.GetImage(e)),r=this.vfsNative.GetSize(e);if(0!==t&&0!==r)return this.module.HEAPU32.subarray(t>>>2,t+r>>>2)}getDirtyPagesForSlot(e){const t=this.module.getPointer(this.vfsNative.GetDirtyPages(e));if(0===t)return;const r=_0(this.vfsNative.GetSize(e));return this.module.HEAPU8.subarray(t,t+r)}readdir(e){const t=new this.module.ReaddirContext(e);try{const r=[];for(;0===t.GetStatus();){const o=t.GetEntry();r.push(AT(o,`${e.replace(/\/*$/,"")}/${o.GetName()}`)),t.Next()}if(2===t.GetStatus()){console.warn(`readdir failed: ${t.GetErrorDescription()}`);const o=t.GetError();return{error:0===o?2:o,reason:t.GetErrorDescription()}}return{error:0,entries:r}}finally{this.module.destroy(t)}}rename(e,t){return this.vfsNative.RenameFile(e,t)}chmod(e,t){let r=0,o=0,i=(s,a)=>{void 0!==s&&(o|=a,s&&(r|=a))};return i(t.hidden,2),i(t.readonly,1),i(t.system,4),this.vfsNative.ChmodFile(e,r,o)}stat(e){const t=this.vfsNative.StatFile(e);return 0!==t?{result:t,entry:void 0}:{entry:AT(this.vfsNative.GetEntry(),e),result:t}}bytesFree(e){return this.vfsNative.BytesFree(e)}bytesTotal(e){return this.vfsNative.BytesTotal(e)}readFile(e){if(!this.vfsNative.ReadFile(e))return;const t=this.module.getPointer(this.vfsNative.GetCurrentFileContent()),r=this.vfsNative.GetCurrentFileSize(),o=this.module.HEAPU8.subarray(t,t+r).slice();return this.vfsNative.ReleaseCurrentFile(),o}unlinkFile(e){return this.vfsNative.UnlinkFile(e)}mkdir(e){return this.vfsNative.Mkdir(e)}switchSlot(e){this.vfsNative.SwitchSlot(e)}createZipArchive({files:e,directories:t,prefix:r}){var o=this;return(0,ae.Z)(function*(){const i=new o.module.CreateZipContext(r,25),s=[];try{for(e&&e.forEach(m=>i.AddFile(m)),t&&t.forEach(m=>i.AddDirectory(m));2!==i.GetState();){switch(i.Continue()){case-2:case-1:s.push(i.GetErrorItem())}2!==i.GetState()&&(yield new Promise(m=>setTimeout(m,0)))}let a;const u=o.module.getPointer(i.GetZipContent()),f=i.GetZipSize();return 0!==u&&0!==f&&(a=o.module.HEAPU8.subarray(u,u+f).slice()),{archive:a,failedItems:s}}finally{o.module.destroy(i)}})()}deleteRecursive(e){var t=this;return(0,ae.Z)(function*(){const r=new t.module.DeleteRecursiveContext(25);try{for(e.forEach(o=>r.AddFile(o));1===r.Continue();)yield new Promise(o=>setTimeout(o,0));return 2===r.GetState()?{success:!0}:{success:!1,failingItem:r.GetFailingPath()}}finally{t.module.destroy(r)}})()}writeFile(e,t){const r=this.copyIn(t);try{return this.vfsNative.WriteFile(e,t.length,r)}finally{this.vfsNative.Free(r)}}unzipArchive(e,t,r){var o=this;return(0,ae.Z)(function*(){const i=o.copyIn(t),s=new o.module.UnzipContext(25,e,i,t.length),a=u=>({result:u,entriesTotal:s.GetEntriesTotal(),entriesSuccess:s.GetEntriesSuccess()});try{for(;;)switch(yield new Promise(f=>setTimeout(f,0)),s.GetState()){case 1:return a(Ws.success);case-3:return a(Ws.cardFull);case-1:return a(Ws.ioError);case-2:return a(Ws.zipfileError);case 2:(yield r.onFileCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;case 4:(yield r.onDirectoryCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;default:s.Continue()}}finally{o.module.destroy(s),o.vfsNative.Free(i)}})()}paste(e,t,r,o,i){var s=this;return(0,ae.Z)(function*(){const a=new s.module.PasteContext(25,e,t);r.forEach(u=>a.AddFile(u)),a.SetDeleteAfterCopy("cut"===o);try{for(;;)switch(yield new Promise(f=>setTimeout(f,0)),a.GetState()){case 1:return wl.success;case-2:return wl.cardFull;case-1:return wl.ioError;case 2:(yield i.onFileCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;case 4:(yield i.onDirectoryCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;default:a.Continue()}}finally{s.module.destroy(a)}})()}copyIn(e){const t=this.vfsNative.Malloc(e.length),r=this.module.getPointer(t);return this.module.HEAPU8.subarray(r,r+e.length).set(e),t}}var WH=A(5541),PT=A.n(WH);function RT(n){return 0===n.length?n:n[0].toUpperCase()+n.substring(1)}class Zs{constructor(e,t,r,o,i,s){this.storageService=e,this.storageCardContext=t,this.fileService=r,this.loadingController=o,this.alertController=i,this.alertService=s,this.onReleaseCard=new Vo.j,this.mountedCards=new Array(2),this.primarySlot=0,this.vfs=w0.create(),this.directoryCache=new Map,this.bytesFree=0,this.bytesTotal=0,this.clipboard=void 0,this.clipboardSet=new Set,this.vfs.then(a=>this.vfsInstance=a)}setStorageCardService(e){this.storageCardService=e,e.mountCardEvent.addHandler(this.invalidateClipboardForCard.bind(this)),e.deleteCardEvent.addHandler(this.invalidateClipboardForCard.bind(this))}normalizePath(e){return("/"+e).replace(/\/{2,}/g,"/").replace(/\/*$/,"")}splitPath(e){return this.normalizePath(e).replace(/^\/+/,"").split("/")}dirname(e){return this.normalizePath(e).replace(/\/[^\/]*$/,"")}isFilenameValid(e){return void 0===e||!/[\/\\]/.test(e)}isEntryInClipboard(e){if(this.clipboard&&this.clipboard.storageId===this.primaryCard?.storageId)return this.clipboardSet.has(e.path)?this.clipboard.operation:void 0}activateCard(e){var t=this;return(0,ae.Z)(function*(){if(t.primaryCard?.id!==e){if(t.secondaryCard?.id===e)return t.primarySlot=t.secondarySlot,void(yield t.activatePrimaryCard());throw new Error(`card ${e} not mounted in VFS`)}})()}mountCardUnchecked(e,t,r){var o=this;return(0,ae.Z)(function*(){const i=yield o.storageService.getCard(e);if(!i)throw new Error(`no card with id ${e}`);if(o.primaryCard?.id===e||o.secondaryCard?.id===e)throw new Error(`card ${e} already mounted in VFS`);o.storageCardContext.claim(e,Er.vfs),o.primaryCard&&o.primaryCard.storageId===o.clipboard?.storageId&&(o.primarySlot=o.secondarySlot),o.primaryCard&&(yield o.releaseCard(o.primaryCard.id));const s=yield o.vfs;s.allocateImage(i.size);const a=s.getPendingImage();if(!a)throw new Error("failed to allocate image");return r?a.set(r):yield o.storageService.loadCardData(e,a,Er.vfs),s.mountImage(o.primarySlot)?(o.primaryCard=i,yield o.activatePrimaryCard(),!0):(o.storageCardContext.release(e,Er.vfs),!1)})()}releaseCard(e){var t=this;return(0,ae.Z)(function*(){let r;if(t.primaryCard?.id===e)r=t.primarySlot;else{if(t.secondaryCard?.id!==e)return;r=t.secondarySlot}(yield t.vfs).unmountImage(r),t.mountedCards[r]=void 0,t.storageCardContext.release(e,Er.vfs),t.onReleaseCard.dispatch(e)})()}readdir(e){if(!this.vfsInstance)return[];const t=this.normalizePath(e);if(!this.directoryCache.has(t)){const r=this.vfsInstance.readdir(e);this.directoryCache.set(t,0===r.error?r.entries:[])}return this.directoryCache.get(t)||[]}updateFileEntry(e,t){var r=this;return(0,ae.Z)(function*(){const o=yield r.vfs;if(e=r.normalizePath(e),!r.isFilenameValid(t.name))return void(yield r.error("The provided file name is invalid."));const{result:i,entry:s}=o.stat(e);if(0===i)if(void 0===t.attributes||PT()(t.attributes,s.attributes)||0===(r.directoryCache.delete(r.dirname(e)),o.chmod(e,t.attributes))){if(void 0!==t.name&&t.name!==s.name)switch(r.directoryCache.delete(r.dirname(e)),o.rename(e,`${r.dirname(e)}/${t.name}`)){case 0:break;case 6:return void(yield r.error("The provided file name is invalid."));default:return void(yield r.fatalError("Unable to write the updated file attributes."))}yield r.sync()}else yield r.fatalError("Unable to write the updated file attributes.");else yield r.error(`The path ${e} is invalid. This is a bug in Cloudpilot.`)})()}saveFile(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.loadingController.create();yield r.present();try{const i=(yield t.vfs).readFile(e.path);if(!i)return void(yield t.alertService.errorMessage(`Could not read file '${e.name}'.`));t.fileService.saveFile(e.name,i)}finally{yield r.dismiss()}})()}archiveFiles(e,t){var r=this;return(0,ae.Z)(function*(){if(0===e.length||!r.primaryCard)return;const o=yield r.loadingController.create({message:"Creating archive..."});yield o.present();try{const i=yield r.vfs,s=e.filter(_=>_.isDirectory).map(_=>r.normalizePath(_.path)),a=e.filter(_=>!_.isDirectory).map(_=>r.normalizePath(_.path)),u=1===e.length?`${e[0].name}.zip`:function MH(n){return`files_${Wm(n.name)}.zip`}(r.primaryCard),{archive:f,failedItems:m}=yield i.createZipArchive({directories:s,files:a,prefix:t});yield o.dismiss(),m.length>0&&(m.length<=3?yield r.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${m.join("<br>")}`):yield r.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${m.slice(0,3).join("<br>")}<br><br> and ${m.length-3} other file`)),f&&r.fileService.saveFile(u,f)}finally{yield o.dismiss()}})()}unlinkEntry(e){var t=this;return(0,ae.Z)(function*(){if(e.isDirectory)return;const o=(yield t.vfs).unlinkFile(e.path);if(0!==o)return console.error(`failed to unlink ${e.path}: ${o}`),void(yield t.error(`Failed to delete: ${e.path}`));yield t.updateBytesFree(),yield t.sync(),t.directoryCache.delete(t.dirname(e.path))})()}deleteRecursive(e){var t=this;return(0,ae.Z)(function*(){const r=e.map(i=>t.normalizePath(i.path)),o=yield t.loadingController.create({message:"Deleting..."});yield o.present();try{const s=yield(yield t.vfs).deleteRecursive(r);if(!s.success)return yield o.dismiss(),void(yield t.fatalError(`Failed to delete ${s.failingItem}`));yield t.updateBytesFree(),yield t.sync(),e.map(a=>a.path).forEach(a=>t.directoryCache.delete(t.dirname(a)))}finally{yield o.dismiss()}})()}mkdir(e){var t=this;return(0,ae.Z)(function*(){switch((yield t.vfs).mkdir(e)){case 6:return void(yield t.alertService.errorMessage("Invalid name."));case 7:return void(yield t.alertService.errorMessage("No space left on card."));case 8:return void(yield t.alertService.errorMessage("Name already taken."));case 0:break;default:return void(yield t.error(`Failed to create ${e}.`))}yield t.updateBytesFree(),yield t.sync(),t.directoryCache.delete(t.dirname(e))})()}getBytesFree(){return this.bytesFree}getBytesTotal(){return this.bytesTotal}isClipboardPopulated(){if(!this.clipboard||!this.storageCardService)return!1;const e=this.storageCardService.getAllCards().find(t=>t.storageId===this.clipboard?.storageId);return!!e&&(e.status===Dr.clean||e.status===Dr.dirty&&!!e.dontFsckAutomatically)}invalidateClipboardForCard(e){this.clipboard?.storageId===e.storageId&&(this.clipboard=void 0,this.clipboardSet.clear())}copyToClipboard(e,t,r){this.primaryCard&&(this.clipboard&&this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)),this.clipboard={operation:r,prefix:this.normalizePath(e),storageId:this.primaryCard.storageId,items:t.map(o=>({name:o,path:this.normalizePath(`${e}/${o}`)}))},this.clipboardSet.clear(),this.clipboard.items.map(o=>o.path).forEach(o=>this.clipboardSet.add(o)),this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)))}unpackArchive(e,t){var r=this;return(0,ae.Z)(function*(){const o=yield r.loadingController.create();yield o.present();try{const{entriesTotal:i,entriesSuccess:s,result:a}=yield r.unpackArchiveUnchecked(e,t);let u,f;switch(yield o.dismiss(),a){case Ws.success:u="The archive was extracted successfully, but some entries were skipped.",f="Skipped entries";break;case Ws.ioError:return void(yield r.fatalError("There was an error writing to the card."));case Ws.cardFull:u="No space left on card.",f="No space left";break;case Ws.zipfileError:u="There was an error reading from the archive.",f="Error reading archive";break;default:throw new Error("unreachable")}const m=i-s,_=k=>k>1?`${k} entries`:"one entry";i>0&&m===i&&(yield r.alertService.message(f,`\n                    ${u}\n                    <br><br>\n                    The archive contains ${_(i)}, but none could be unpacked.\n                `)),m>0&&s>0&&(yield r.alertService.message(f,`\n                    ${u}\n                    <br><br>\n                    ${RT(_(s))} unpacked succesfully, but ${_(s)} could not be unpacked.\n                `))}finally{o.dismiss()}})()}paste(e){var t=this;return(0,ae.Z)(function*(){if(!t.isClipboardPopulated())return;const r=yield t.loadingController.create();yield r.present();try{const o=yield t.pasteUnchecked(e);switch(yield r.dismiss(),o){case wl.cardFull:yield t.alertService.message("No space left","No space left on card.");break;case wl.ioError:return void(yield t.fatalError("There was an error writing to the card."))}}catch(o){yield t.alertService.errorMessage(o?.message||"Unknown error.")}finally{r.dismiss()}})()}addFiles(e,t){var r=this;return(0,ae.Z)(function*(){if(0===e.length)return;const o=yield r.loadingController.create();yield o.present();try{const i=yield r.addFilesUnchecked(e,t);yield o.dismiss();const s=a=>a>1?`${a} entries`:"one file";i.length===e.length?yield r.alertService.message("Skipped files","No files were added to the card."):0!==i.length&&(yield r.alertService.message("Skipped files",`Successfully added ${s(e.length-i.length)} to card. ${RT(s(i.length))} could not be added.\n                `))}finally{o.dismiss()}})()}addFilesUnchecked(e,t){var r=this;return(0,ae.Z)(function*(){const o=r.readdir(t),i=[],s=yield r.vfs;let a=!1,u=!1,f=!1,m=!1;e:for(let _=0;_<e.length;_++){const k=e[_],M=o.find(Se=>Se.name===k.name);if(M&&M.isDirectory){if(!f){const{overwrite:Ge,rememberChoice:Ke}=yield r.overwriteFileDialog(k.name,"directory");m=Ge,f=Ke}let Se=!0;if(m&&(Se=!(yield s.deleteRecursive([r.normalizePath(`${t}/${k.name}`)])).success),Se){i.push(k.name);continue}}if(M&&!M.isDirectory){if(!a){const{overwrite:Se,rememberChoice:Ge}=yield r.overwriteFileDialog(k.name,"file");u=Se,a=Ge}if(!u){i.push(k.name);continue}}let Y;try{Y=yield k.getContent()}catch(Se){console.warn(Se),i.push(k.name),yield r.alertService.errorMessage(`Unable to open ${k.name}`);continue}switch(s.writeFile(r.normalizePath(`${t}/${k.name}`),Y)){case 3:yield r.alertService.errorMessage("Card full."),i.push(...e.slice(_).map(Se=>Se.name));break e;case 4:throw yield r.fatalError("Unable to write file."),new Error;case 0:break;default:i.push(k.name)}}return yield r.updateBytesFree(),yield r.sync(),r.directoryCache.delete(r.normalizePath(t)),i})()}collisionHandlers(){var e=this;let t=!1,r=!1,o=!1,i=!1;return{onFileCollision:(s=(0,ae.Z)(function*(a){if(r)return t;const{overwrite:u,rememberChoice:f}=yield e.overwriteFileDialog(a,"file");return t=u,r=f,t}),function(u){return s.apply(this,arguments)}),onDirectoryCollision:function(){var s=(0,ae.Z)(function*(a){if(i)return o;const{overwrite:u,rememberChoice:f}=yield e.overwriteFileDialog(a,"directory");return o=u,i=f,o});return function(u){return s.apply(this,arguments)}}()};var s}unpackArchiveUnchecked(e,t){var r=this;return(0,ae.Z)(function*(){const i=yield(yield r.vfs).unzipArchive(r.normalizePath(t),e,{...r.collisionHandlers(),onInvalidEntry:(s=(0,ae.Z)(function*(a){yield r.alertService.message("Invalid entry",`Could not extract ${a}`,{},"Continue")}),function(u){return s.apply(this,arguments)})});var s;return i.result!==Ws.ioError&&(yield r.updateBytesFree(),yield r.sync(),r.directoryCache.delete(r.normalizePath(t))),i})()}pasteUnchecked(e){var t=this;return(0,ae.Z)(function*(){if(!t.clipboard||!t.primaryCard)throw new Error("invalid state for paste");const r=yield t.mountClipboard(),i=yield(yield t.vfs).paste(`${t.primarySlot}:${t.normalizePath(e)}`,`${r}:${t.normalizePath(t.clipboard.prefix)}`,t.clipboard.items.map(s=>s.name),t.clipboard.operation,t.collisionHandlers());return i===wl.ioError||(yield t.updateBytesFree(),yield t.sync(t.primarySlot),r!==t.primarySlot&&(yield t.sync(r)),t.directoryCache.delete(t.normalizePath(e)),t.clipboard.storageId===t.primaryCard.storageId&&t.directoryCache.delete(t.normalizePath(t.clipboard.prefix)),"cut"===t.clipboard.operation&&(t.clipboard=void 0,t.clipboardSet.clear())),i})()}mountClipboard(){var e=this;return(0,ae.Z)(function*(){if(!e.clipboard||!e.primaryCard||!e.storageCardService)throw new Error("invalid state for paste");if(e.clipboard.storageId===e.primaryCard.storageId)return e.primarySlot;if(e.secondaryCard&&e.clipboard.storageId===e.secondaryCard.storageId)return e.secondarySlot;e.secondaryCard&&(yield e.releaseCard(e.secondaryCard.id));const t=e.storageCardService.getAllCards().find(i=>i.storageId===e.clipboard?.storageId);if(!t)throw new Error("invalid storage card in clipboard");const r=yield e.vfs;r.allocateImage(t.size);const o=r.getPendingImage();if(!o)throw new Error("failed to allocate image");if(e.storageCardContext.claim(t.id,Er.vfs),yield e.storageService.loadCardData(t.id,o,Er.vfs),!r.mountImage(e.secondarySlot))throw e.storageCardContext.release(t.id,Er.vfs),new Error("unable to mount card");return e.secondaryCard=t,e.secondarySlot})()}overwriteFileDialog(e,t){var r=this;return(0,ae.Z)(function*(){let o=!1,i=!1;const s=yield r.alertController.create({header:"File collision",backdropDismiss:!1,cssClass:"alert-checkbox-no-border installation-error",message:"file"===t?`Do you want to overwrite the existing file ${e}?`:`\n                    Do you want to overwrite the existing directory ${e}?\n                    <br><br>\n                    WARNING: All files in this directory will be lost.\n                    `,buttons:[{text:"No",role:"cancel"},{text:"Yes",handler:()=>o=!0}],inputs:[{type:"checkbox",label:"Remember choice",checked:!1,handler:a=>i=!0===a.checked,cssClass:"alert-checkbox"}]});return yield s.present(),yield s.onDidDismiss(),{overwrite:o,rememberChoice:i}})()}error(e){var t=this;return(0,ae.Z)(function*(){yield t.alertService.errorMessage(e)})()}fatalError(e){var t=this;return(0,ae.Z)(function*(){t.primaryCard&&(yield t.storageService.updateStorageCardPartial(t.primaryCard.id,{status:Dr.dirty}),yield t.releaseCard(t.primaryCard.id),t.alertService.errorMessage(`${e}\n        <br><br>\n        No changes have been written, and the card has been unmounted to prevent damage to the file system.\n        `))})()}sync(e=this.primarySlot){var t=this;return(0,ae.Z)(function*(){const r=t.mountedCards[e];if(!r)return;const o=yield t.vfs,i=o.getImageInSlot(e),s=o.getDirtyPagesForSlot(e);!i||!s||(yield t.storageService.updateCardData(r.id,i,s,Er.vfs),s.fill(0))})()}activatePrimaryCard(){var e=this;return(0,ae.Z)(function*(){const t=yield e.vfs;t.switchSlot(e.primarySlot),e.bytesFree=t.bytesFree(e.primarySlot),e.bytesTotal=t.bytesTotal(e.primarySlot),e.directoryCache.clear()})()}updateBytesFree(){var e=this;return(0,ae.Z)(function*(){e.bytesFree=(yield e.vfs).bytesFree(e.primarySlot)})()}get secondarySlot(){return 1-this.primarySlot}get primaryCard(){return this.mountedCards[this.primarySlot]}set primaryCard(e){this.mountedCards[this.primarySlot]=e}get secondaryCard(){return this.mountedCards[this.secondarySlot]}set secondaryCard(e){this.mountedCards[this.secondarySlot]=e}}Zs.\u0275fac=function(e){return new(e||Zs)(ee(Xn),ee($a),ee(Os),ee(Wl),ee(Fc),ee(Kr))},Zs.\u0275prov=ht({token:Zs,factory:Zs.\u0275fac,providedIn:"root"});var Eo=(()=>{return(n=Eo||(Eo={}))[n.mb4=0]="mb4",n[n.mb8=1]="mb8",n[n.mb16=2]="mb16",n[n.mb32=3]="mb32",n[n.mb64=4]="mb64",n[n.mb128=5]="mb128",Eo;var n})();function FT(){return p0().replace(/-/g,"")}class ca{constructor(e,t,r,o,i,s,a,u,f,m,_){this.sessionService=e,this.storageService=t,this.emulationStateService=r,this.cloudpilotService=o,this.loadingController=i,this.snapshotService=s,this.alertService=a,this.errorService=u,this.fileService=f,this.vfsService=m,this.storageCardContext=_,this.mountCardEvent=new Vo.j,this.deleteCardEvent=new Vo.j,this.loading=!0,this.cards=[],this.updateMutex=new La,this.vfsService.setStorageCardService(this),this.updateCardsFromDB().then(()=>this.loading=!1),t.storageCardChangeEvent.addHandler(()=>this.updateCardsFromDB())}getAllCards(){return this.cards}createEmptyCard(e,t,r){var o=this;return(0,ae.Z)(function*(){const i=yield o.loadingController.create({message:"Formatting..."});try{yield i.present();const s=yield function jH(n){return b0.apply(this,arguments)}(function ZH(n){switch(n){case Eo.mb4:return 4;case Eo.mb8:return 8;case Eo.mb16:return 16;case Eo.mb32:return 32;case Eo.mb64:return 64;case Eo.mb128:return 128;default:throw new Error(`bad card size ${n}`)}}(t));if(!s)throw new Error("failed to create image");const a={storageId:FT(),name:e,size:4*s.length,status:Dr.clean,dontFsckAutomatically:r};return yield o.storageService.importStorageCard(a,s)}finally{i.dismiss()}})()}createCardFromImage(e,t,r){var o=this;return(0,ae.Z)(function*(){const i={storageId:FT(),name:e,size:t.length,status:Dr.clean,dontFsckAutomatically:r},s=new Uint32Array(t.buffer,t.byteOffset,t.byteLength>>>2),a=yield o.loadingController.create({message:"Importing..."});try{if(r)yield a.present(),yield o.storageService.importStorageCard(i,s);else{const[u,f]=yield o.fsckNewCard(s,i);yield a.present(),yield o.storageService.importStorageCard(f,u)}}finally{a.dismiss()}})()}onEmulatorStop(){const e=this.emulationStateService.getCurrentSession()?.mountedCard;void 0!==e&&this.storageCardContext.release(e,Er.cloudpilot)}loadCardInEmulator(e,t){var r=this;return(0,ae.Z)(function*(){const o=yield r.storageService.getCard(e);if(!o)throw new Error(`no card with id ${e}`);yield r.vfsService.releaseCard(e);const i=yield r.cloudpilotService.cloudpilot;if(i.getMountedKey())throw new Error("attempt to mount a card while another card is mounted");if(!i.allocateCard(o.storageId,o.size))throw new Error("failed to allocate card");const s=i.getCardData(o.storageId);if(!s)throw new Error("failed to access card data");return r.storageCardContext.claim(e,Er.cloudpilot),t?s.set(t):yield r.storageService.loadCardData(o.id,s,Er.cloudpilot),o})()}ejectCurrentCard(){var e=this;return(0,ae.Z)(function*(){const t=e.emulationStateService.getCurrentSession();if(!t)throw new Error("no running session");const r=t?.mountedCard;if(void 0===r)throw new Error("no mounted card");const o=yield e.storageService.getCard(r);if(!o)throw new Error(`no card with id ${r}`);yield e.storageService.updateStorageCardPartial(r,{status:Dr.dirty}),yield e.snapshotService.waitForPendingSnapshot(),yield e.snapshotService.triggerSnapshot(),yield e.storageService.updateSessionPartial(t.id,{mountedCard:void 0}),(yield e.cloudpilotService.cloudpilot).removeCard(o.storageId),e.snapshotService.resetCard(),e.storageCardContext.release(r,Er.cloudpilot)})()}checkCard(e){var t=this;return(0,ae.Z)(function*(){const r=t.mountedInSession(e.id);if(r){let i=!1;if(yield t.alertService.message("Card is attached",`This card needs to be ejected from session '${r.name}' before it can be checked.`,{"Eject now":()=>i=!0},"Cancel"),!i)return;yield t.ejectCard(e.id)}const o=yield t.executeFsckAndUpdateCard(e.id);switch(o.getResult()){case 1:return void t.alertService.cardIsClean();case 3:return void t.alertService.cardHasNoValidFileSystem();case 4:t.alertService.cardHasUncorrectableErrors();break;case 2:{let i=!1;return yield t.alertService.message("Filesystem errors",`The filesystem on this card contains errors${e.dontFsckAutomatically?"":"  that need to be fixed before it can be used"}. Do you want to fix them now?`,{"Fix now":()=>i=!0},"Cancel"),void(i?yield t.applyFsckResult(e.id,o):t.storageCardContext.release(e.id,Er.fstools))}}})()}insertCard(e){return this.checkAndClaimCard(e,"insert")}browseCard(e){var t=this;return(0,ae.Z)(function*(){if(t.storageCardContext.getOwner(e.id)===Er.vfs)return yield t.vfsService.activateCard(e.id),!0;const r=t.mountedInSession(e.id);if(r){let o=!1;if(yield t.alertService.message("Card is attached",`This card needs to be ejected from session '${r.name}' before it can be browsed.`,{"Eject now":()=>o=!0},"Cancel"),!o)return!1;yield t.ejectCard(e.id)}return t.checkAndClaimCard(e.id,"vfs")})()}updateCard(e,t){var r=this;return(0,ae.Z)(function*(){const o=yield r.storageService.getCard(e);if(!o)throw new Error(`no card with id ${e}`);return!t.dontFsckAutomatically&&o.dontFsckAutomatically&&(t.status=Dr.dirty),r.storageService.updateStorageCardPartial(e,t)})()}deleteCard(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.loadingController.create();yield r.present();try{const o=t.cards.find(i=>i.id===e);yield t.vfsService.releaseCard(e),yield t.ejectCard(e),yield t.storageService.deleteStorageCard(e),o&&t.deleteCardEvent.dispatch(o)}finally{r.dismiss()}})()}saveCard(e,t){var r=this;return(0,ae.Z)(function*(){const o=yield r.getCard(e);if(!o)throw new Error(`no card with id ${e}`);const i=yield r.loadingController.create({message:"Exporting..."});let s;try{yield i.present();const a=r.mountedInSession(e);a&&a.id===r.emulationStateService.getCurrentSession()?.id&&(yield r.snapshotService.waitForPendingSnapshot(),yield r.snapshotService.triggerSnapshot(),s=(yield r.cloudpilotService.cloudpilot).getCardData(o.storageId)),s||(s=new Uint32Array(o.size>>>2),yield r.storageService.loadCardData(o.id,s,r.storageCardContext.getOwner(e)))}finally{i.dismiss()}r.fileService.saveFile(t,new Uint8Array(s.buffer,s.byteOffset,s.length<<2))})()}getCard(e){var t=this;return(0,ae.Z)(function*(){return t.storageService.getCard(e)})()}mountedInSession(e){return this.sessionService.getSessions().find(t=>t.mountedCard===e)}isLoading(){return this.loading}updateCardsFromDB(){var e=this;return(0,ae.Z)(function*(){e.cards=yield e.updateMutex.runExclusive((0,ae.Z)(function*(){return(yield e.storageService.getAllStorageCards()).sort((t,r)=>t.name.localeCompare(r.name))}))})()}cardIsMounted(e){var t=this;return(0,ae.Z)(function*(){return(yield t.storageService.getAllSessions()).some(o=>o.mountedCard===e)})()}checkAndClaimCard(e,t){var r=this;return(0,ae.Z)(function*(){if(yield r.cardIsMounted(e))throw new Error("card already mounted");let o=yield r.getCard(e);if(!o)throw new Error(`no card with id ${e}`);let i,s=!0,a=!1;if(!o.dontFsckAutomatically){if(o.status===Dr.dirty){if(i=yield r.executeFsckAndUpdateCard(e),2===i.getResult()){if(s=!1,yield r.alertService.message("Filesystem errors",`The filesystem on this card contains errors that have to fixed before it can be ${"insert"===t?"inserted":"browsed"}. Do you want to fix them now?`,{"Fix now":()=>s=!0},"Cancel"),!s)return r.storageCardContext.release(e,Er.fstools),!1;yield r.applyFsckResult(o.id,i)}if(o=yield r.getCard(e),!o)throw new Error(`no card with id ${e}`)}switch(o.status){case Dr.clean:break;case Dr.unformatted:if("vfs"===t)return yield r.alertService.message("Card unformatted","This card is unformatted and cannot be browsed. Insert it into a device and format it."),!1;case Dr.dirty:return yield r.alertService.message("Card requires check",`This card needs to be checked before it can be ${"insert"===t?"inserted":"browsed"}.`),!1;case Dr.unfixable:if(s=!1,a=!0,yield r.alertService.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors. Writing could cause further damage. Do you want to insert it nevertheless?",{"Insert card":()=>s=!0},"Cancel"),!s)return!1;break;default:throw new Error("unreachable: bad card status")}}try{"insert"===t?(yield r.vfsService.releaseCard(e),yield r.mountCardInEmulator(e,i?.getImageData())):(yield r.mountCardForBrowsing(e,a,i?.getImageData()))||(yield r.alertService.message("Failed to mount card","The card could not be mounted for browsing."))}catch(u){return r.errorService.fatalBug(u instanceof Error?u.message:"mount failed"),!1}return!0})()}executeFsckAndUpdateCard(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.loadingController.create({message:"Checking card..."});try{if(yield r.present(),yield t.cardIsMounted(e))throw new Error("attempt to fsck a mounted card");const o=yield t.storageService.getCard(e);if(!o)throw new Error(`no card with id ${e}`);yield t.vfsService.releaseCard(e),t.storageCardContext.claim(e,Er.fstools);const i=yield qm.create(o.size);switch(yield t.storageService.loadCardData(o.id,i.getImageData(),Er.fstools),i.fsck()){case 1:yield t.storageService.updateStorageCardPartial(e,{status:Dr.clean}),t.storageCardContext.release(e,Er.fstools);break;case 3:yield t.storageService.updateStorageCardPartial(e,{status:Dr.unformatted}),t.storageCardContext.release(e,Er.fstools);break;case 2:yield t.storageService.updateStorageCardPartial(e,{status:Dr.dirty});break;case 4:yield t.storageService.updateStorageCardPartial(e,{status:Dr.unfixable}),t.storageCardContext.release(e,Er.fstools);break;default:throw new Error("unrachable: invalid fsck result")}return i}finally{r.dismiss()}})()}applyFsckResult(e,t){var r=this;return(0,ae.Z)(function*(){if(2!==t.getResult())return;const o=yield r.loadingController.create({message:"Fixing errors..."});try{yield o.present(),yield r.storageService.updateCardData(e,t.getImageData(),t.getDirtyPages(),Er.fstools),yield r.storageService.updateStorageCardPartial(e,{status:Dr.clean}),r.storageCardContext.release(e,Er.fstools)}finally{o.dismiss()}})()}fsckNewCard(e,t){var r=this;return(0,ae.Z)(function*(){const o=yield r.loadingController.create({message:"Checking card..."});let i,s;try{yield o.present(),i=yield qm.create(t.size),i.getImageData().set(e),s=i.fsck()}finally{o.dismiss()}switch(s){case 1:return[e,{...t,status:Dr.clean}];case 2:{let a=!1;return yield r.alertService.message("Filesystem errors","The filesystem on this card contains errors that must be fixed before the card can be used. Do you want to fix them now?",{"Fix now":()=>a=!0},"Skip"),a?[i.getImageData(),{...t,status:Dr.clean}]:[e,{...t,status:Dr.dirty}]}case 3:return yield r.alertService.cardHasNoValidFileSystem(),[e,{...t,status:Dr.unformatted}];case 4:return yield r.alertService.cardHasUncorrectableErrors(),[e,{...t,status:Dr.unfixable}];default:throw new Error("unreachable: bad fsck result")}})()}ejectCard(e){var t=this;return(0,ae.Z)(function*(){const r=t.mountedInSession(e),o=yield t.storageService.getCard(e);!r||!o||(r.id===t.emulationStateService.getCurrentSession()?.id?yield t.ejectCurrentCard():(yield t.storageService.updateSessionPartial(r.id,{mountedCard:void 0}),yield t.storageService.updateStorageCardPartial(e,{status:Dr.dirty})))})()}mountCardInEmulator(e,t){var r=this;return(0,ae.Z)(function*(){if(yield r.cardIsMounted(e))throw new Error("card already mounted");const o=yield r.loadingController.create({message:"Inserting..."});try{yield o.present(),yield r.vfsService.releaseCard(e);const i=r.emulationStateService.getCurrentSession();if(!i)throw new Error("no current session");if(void 0!==i.mountedCard)throw new Error("session already has a mounted card");const s=yield r.loadCardInEmulator(e,t),a=yield r.cloudpilotService.cloudpilot;if(yield r.storageService.updateStorageCardPartial(e,{status:Dr.dirty}),yield r.storageService.updateSessionPartial(i.id,{mountedCard:e}),!a.mountCard(s.storageId))throw a.removeCard(s.storageId),new Error("failed to mount card");return r.mountCardEvent.dispatch(s),s}finally{o.dismiss()}})()}mountCardForBrowsing(e,t,r){var o=this;return(0,ae.Z)(function*(){const i=yield o.loadingController.create({message:"Mounting..."});try{return yield i.present(),yield o.vfsService.mountCardUnchecked(e,t,r)}finally{i.dismiss()}})()}}ca.\u0275fac=function(e){return new(e||ca)(ee(Ua),ee(Xn),ee(bs),ee(ns),ee(Wl),ee(Va),ee(Kr),ee(zs),ee(Os),ee(Zs),ee($a))},ca.\u0275prov=ht({token:ca,factory:ca.\u0275fac,providedIn:"root"});class rs extends wH{constructor(e,t,r,o,i,s,a,u,f,m,_,k,M,Y,Se,Ge,Ke,bt){var Le;super(),Le=this,this.storageService=e,this.ngZone=t,this.loadingController=r,this.emulationState=o,this.snapshotService=i,this.errorService=s,this.fileService=a,this.alertService=u,this.modalWatcher=f,this.clipboardService=m,this.kvsService=_,this.proxyService=k,this.buttonService=M,this.bootstrapService=Y,this.cloudpilotService=Se,this.storageCardService=Ge,this.storageCardContext=Ke,this.app=bt,this.switchSession=In=>this.mutex.runExclusive((0,ae.Z)(function*(){if(In===Le.emulationState.getCurrentSession()?.id)return!0;yield Le.stopUnchecked(),yield Le.bootstrapService.hasRendered();const Wn=yield Le.loadingController.create({message:"Loading..."});yield Wn.present();try{const Cs=yield Le.storageService.getSession(In);if(!Cs)throw new Error(`invalid session ${In}`);Le.emulationState.setCurrentSession(void 0);const Xm=yield Le.cloudpilotService.cloudpilot;if(!(yield Le.restoreSession(Cs,Xm)))return Le.alertService.errorMessage("Failed to launch session. This may be the result of a bad ROM file."),!1;Le.emulationState.setCurrentSession(Cs),function Mj(n){localStorage.setItem(Vm,n+"")}(In)}finally{yield Wn.dismiss()}return!0})),this.resume=()=>this.mutex.runExclusive((0,ae.Z)(function*(){!Le.emulationState.getCurrentSession()||Le.running||Le.errorService.hasFatalError()||!Le.cloudpilotInstance||(yield Le.kvsService.mutex.runExclusive(()=>Le.updateFeatures()),Le.doResume(),Le.lastSnapshotAt=performance.now())})),this.pause=()=>this.mutex.runExclusive((0,ae.Z)(function*(){Le.doPause(),!Le.errorService.hasFatalError()&&Le.emulationState.getCurrentSession()&&(yield Le.snapshotService.waitForPendingSnapshot(),yield Le.snapshotService.triggerSnapshot())})),this.stop=()=>this.mutex.runExclusive(()=>this.stopUnchecked()),this.onSessionChange=([In,Wn])=>this.mutex.runExclusive((0,ae.Z)(function*(){const Cs=Le.emulationState.getCurrentSession();In===Cs?.id&&(void 0!==Cs.mountedCard&&void 0===Wn&&Le.storageCardContext.release(Cs.mountedCard,Er.cloudpilot),Le.emulationState.setCurrentSession(Wn),Le.emulationState.getCurrentSession()||(oT(),Le.stopLoop()))})),this.onEmergencySave=()=>this.mutex.runExclusive((0,ae.Z)(function*(){const In=Le.emulationState.getCurrentSession();In&&Le.fileService.emergencySaveSession(In,yield Le.cloudpilotService.cloudpilot)})),this.mutex=new La,this.lastSnapshotAt=0,e.sessionChangeEvent.addHandler(this.onSessionChange),s.fatalErrorEvent.addHandler(this.pause),this.alertService.emergencySaveEvent.addHandler(this.onEmergencySave),this.cloudpilotService.cloudpilot.then(In=>{In.fatalErrorEvent.addHandler(this.errorService.fatalInNativeCode),this.proxyService.initialize(In),this.proxyService.resumeEvent.addHandler(()=>this.running&&this.advanceEmulation(performance.now()))});const $t=function Tj(){const n=localStorage.getItem(Vm);return n?parseInt(n,10):void 0}();this.bootstrapCompletePromise=Promise.resolve(),void 0!==$t&&!xD()&&(this.bootstrapCompletePromise=this.recoverStoredSession($t))}bootstrapComplete(){return this.bootstrapCompletePromise}getConfiguredSpeed(){return this.emulationState.getCurrentSession()?.speed||1}manageHotsyncName(){return!this.emulationState.getCurrentSession()?.dontManageHotsyncName}getConfiguredHotsyncName(){return this.emulationState.getCurrentSession()?.hotsyncName}updateConfiguredHotsyncName(e){const t=this.emulationState.getCurrentSession();t&&this.storageService.updateSessionPartial(t.id,{hotsyncName:e})}getConfiguredSchdedulerKind(){return this.kvsService.kvs.runHidden?Jl.timeout:Jl.animationFrame}hasFatalError(){return this.errorService.hasFatalError()}skipEmulationUpdate(){return this.modalWatcher.isModalActive()&&0!==this.frameCounter}onAfterAdvanceEmulation(e,t){if(!this.cloudpilotInstance)return;const r=this.emulationState.getCurrentSession();this.uiInitialized&&r&&void 0===r.osVersion&&this.storageService.updateSessionPartial(r.id,{osVersion:this.cloudpilotInstance.getOSVersion()}),this.buttonService.tick(t/this.cloudpilotInstance.cyclesPerSecond()),e-this.lastSnapshotAt>1e3&&!this.cloudpilotInstance.isSuspended()&&(this.snapshotService.triggerSnapshot(),this.lastSnapshotAt=e),this.isDirty&&this.app.tick()}handleSuspend(){this.cloudpilotInstance&&(this.clipboardService.handleSuspend(this.cloudpilotInstance),this.proxyService.handleSuspend())}callScheduler(){this.ngZone.runOutsideAngular(()=>this.scheduler.schedule())}stopUnchecked(){var e=this;return(0,ae.Z)(function*(){e.emulationState.getCurrentSession()&&(e.doStop(),yield e.snapshotService.waitForPendingSnapshot(),e.storageCardService.onEmulatorStop(),e.emulationState.setCurrentSession(void 0))})()}updateFeatures(){if(!this.cloudpilotInstance)return;const e=this.kvsService.kvs.clipboardIntegration&&this.clipboardService.isSupported();this.cloudpilotInstance.getClipboardIntegration()!==e&&this.cloudpilotInstance.setClipboardIntegration(e),this.cloudpilotInstance.getNetworkRedirection()!==this.kvsService.kvs.networkRedirection&&(this.cloudpilotInstance.setNetworkRedirection(this.kvsService.kvs.networkRedirection),this.proxyService.reset()),this.cloudpilotInstance.setHotsyncNameManagement(!this.emulationState.getCurrentSession()?.dontManageHotsyncName)}recoverStoredSession(e){var t=this;return(0,ae.Z)(function*(){try{yield t.switchSession(e)}catch{la&&t.alertService.message("Possible iOS bug","It seems that you hit an iOS bug that ocassionally\ncauses the database to come up empty when the app starts. If this happens to you, please force close\nthe app in the app switcher and reopen it; your data will be back on the second attempt.\n<br/><br/>\nSorry for the inconvenience.")}})()}restoreSession(e,t){var r=this;return(0,ae.Z)(function*(){const[o,i,s]=yield r.storageService.loadSession(e);if(!o)throw new Error(`invalid ROM ${e.rom}`);return t.clearExternalStorage(),void 0!==e.mountedCard&&(yield r.storageCardService.loadCardInEmulator(e.mountedCard)),!!r.openSession(t,o,e.device,i,s)&&(r.proxyService.reset(),r.buttonService.reset(t),yield r.snapshotService.initialize(e,yield r.cloudpilotService.cloudpilot),!0)})()}}rs.\u0275fac=function(e){return new(e||rs)(ee(Xn),ee(dt),ee(Wl),ee(bs),ee(Va),ee(zs),ee(Os),ee(Kr),ee(nc),ee(Bc),ee(ni),ee(rc),ee(Vc),ee(Uc),ee(ns),ee(ca),ee($a),ee(Nl))},rs.\u0275prov=ht({token:rs,factory:rs.\u0275fac,providedIn:"root"});const oc=new yt(B),XH={connector:()=>new tt};function OT(n,e=XH){const{connector:t}=e;return q((r,o)=>{const i=t();On(n(function YH(n){return new yt(e=>n.subscribe(e))}(i))).subscribe(o),o.add(r.subscribe(i))})}function NT(n,e){return e?t=>Tf(e.pipe(Rs(1),function e6(){return q((n,e)=>{n.subscribe(ye(e,B))})}()),t.pipe(NT(n))):Cr((t,r)=>On(n(t,r)).pipe(Rs(1),bv(t)))}const ip="Service workers are disabled or not supported by this browser";class Ym{constructor(e){if(this.serviceWorker=e,e){const r=kf(e,"controllerchange").pipe(Ae(()=>e.controller)),i=Tf(am(()=>bn(e.controller)),r);this.worker=i.pipe(_i(m=>!!m)),this.registration=this.worker.pipe(vi(()=>e.getRegistration()));const f=kf(e,"message").pipe(Ae(m=>m.data)).pipe(_i(m=>m&&m.type)).pipe(function JH(n){return n?e=>OT(n)(e):e=>function QH(n,e){const t=I(n)?n:()=>n;return I(e)?OT(e,{connector:t}):r=>new _v(r,t)}(new tt)(e)}());f.connect(),this.events=f}else this.worker=this.events=this.registration=function n6(n){return am(()=>$u(new Error(n)))}(ip)}postMessage(e,t){return this.worker.pipe(Rs(1),bi(r=>{r.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){const o=this.waitForOperationCompleted(r),i=this.postMessage(e,t);return Promise.all([i,o]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(_i(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(Rs(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(_i(t=>t.nonce===e),Rs(1),Ae(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let r6=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new tt,!t.isEnabled)return this.messages=oc,this.notificationClicks=oc,void(this.subscription=oc);this.messages=this.sw.eventsOfType("PUSH").pipe(Ae(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Ae(o=>o.data)),this.pushManager=this.sw.registration.pipe(Ae(o=>o.pushManager));const r=this.pushManager.pipe(vi(o=>o.getSubscription()));this.subscription=mi(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(ip));const r={userVisibleOnly:!0};let o=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),i=new Uint8Array(new ArrayBuffer(o.length));for(let s=0;s<o.length;s++)i[s]=o.charCodeAt(s);return r.applicationServerKey=i,this.pushManager.pipe(vi(s=>s.subscribe(r)),Rs(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Rs(1),vi(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(ip))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(ee(Ym))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})(),S0=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=oc,this.available=oc,this.activated=oc,void(this.unrecoverable=oc);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(_i(r=>"VERSION_READY"===r.type),Ae(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ip));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ip));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(ee(Ym))},n.\u0275prov=ht({token:n,factory:n.\u0275fac}),n})();class E0{}const LT=new an("NGSW_REGISTER_SCRIPT");function o6(n,e,t,r){return()=>{if(!Ll(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let o;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)o=t.registrationStrategy();else{const[s,...a]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":o=bn(null);break;case"registerWithDelay":o=$T(+a[0]||0);break;case"registerWhenStable":o=a[0]?mi(BT(n),$T(+a[0])):BT(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(dt).runOutsideAngular(()=>o.pipe(Rs(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function $T(n){return bn(null).pipe(function t6(n,e=Yk){const t=Xk(n,e);return NT(()=>t)}(n))}function BT(n){return n.get(Nl).isStable.pipe(_i(t=>t))}function i6(n,e){return new Ym(Ll(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let s6=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[{provide:LT,useValue:t},{provide:E0,useValue:r},{provide:Ym,useFactory:i6,deps:[E0,Pu]},{provide:wc,useFactory:o6,deps:[ho,LT,E0,Pu],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Ar({type:n}),n.\u0275inj=wr({providers:[r6,S0]}),n})();class jc{constructor(e,t,r,o,i){var s=this;this.kvsService=e,this.emulationService=t,this.alertService=r,this.modalController=o,this.updates=i,this.checkForUpgrade=()=>this.mutex.runExclusive((0,ae.Z)(function*(){const a=s.kvsService.kvs.version;void 0!==a?a!==Lc&&(yield s.kvsService.set({version:Lc,previousVersion:a,latestVersion:Lc}),yield s.emulationService.bootstrapComplete(),s.alertService.message("Update complete",`CloudpilotEmu was updated to version ${Lc}.`,{Changes:()=>s.showChangelog()})):s.kvsService.kvs.version=Lc})),this.mutex=new La,this.mutex.runExclusive(this.checkForDowngrade.bind(this))}start(){this.checkForUpgrade(),this.startUpdateCheck(),this.registerForUpdates()}startUpdateCheck(){this.scheduleUpdateCheck()}registerForUpdates(){var e=this;this.updates.available.subscribe((0,ae.Z)(function*(){yield e.emulationService.bootstrapComplete(),e.alertService.updateAvailable()}))}checkForDowngrade(){var e=this;return(0,ae.Z)(function*(){if(yield e.kvsService.initialize(),e.kvsService.kvs.previousVersion===Lc){const t=yield window.navigator.serviceWorker.getRegistration();console.log("downgrade detected"),t&&(yield t.unregister())&&(yield e.kvsService.set({previousVersion:void 0}),console.log("worker derigstered, reloading..."),window.location.reload())}})()}showChangelog(){var e=this;return(0,ae.Z)(function*(){yield(yield e.modalController.create({component:Cl,componentProps:{url:"assets/doc/CHANGELOG.md",title:"Changelog"}})).present()})()}scheduleUpdateCheck(){setTimeout(()=>{this.updates.checkForUpdate(),this.scheduleUpdateCheck()},9e5)}}jc.\u0275fac=function(e){return new(e||jc)(ee(ni),ee(rs),ee(Kr),ee(vs),ee(S0))},jc.\u0275prov=ht({token:jc,factory:jc.\u0275fac,providedIn:"root"});class sp{constructor(e,t,r){this.pwaService=e,this.updateService=t,this.bootstrapService=r}ngAfterViewInit(){this.bootstrapService.notifyHasRendered(),this.pwaService.invite(),this.updateService.start()}}sp.\u0275fac=function(e){return new(e||sp)(C(Nc),C(jc),C(Uc))},sp.\u0275cmp=ut({type:sp,selectors:[["app-root"]],decls:2,vars:0,template:function(e,t){1&e&&(se(0,"ion-app"),ct(1,"ion-router-outlet"),J())},dependencies:[mk,Yf]});class rd{constructor(){}}rd.\u0275fac=function(e){return new(e||rd)},rd.\u0275cmp=ut({type:rd,selectors:[["app-dummy"]],decls:2,vars:0,template:function(e,t){1&e&&(se(0,"div"),qe(1,"Dummy"),J())},encapsulation:2});class Hc{constructor(e,t){this.linkApi=e,this.router=t}canActivate(e){return e.url[0]?.path?.startsWith("install")?(this.linkApi.installation.dispatchRequest(e.queryParams.url),this.router.navigateByUrl("/tab/emulation"),!1):!e.url[0]?.path?.startsWith("import")||(this.linkApi.import.dispatchRequest(e.queryParams.url),this.router.navigateByUrl("/tab/sessions"),!1)}}Hc.\u0275fac=function(e){return new(e||Hc)(ee(Bl),ee(jo))},Hc.\u0275prov=ht({token:Hc,factory:Hc.\u0275fac,providedIn:"root"});const D0=oe.m515,l6=m0[2],c6=m0[0],od="rgba(0,0,0,0.2)";function VT(n){const e=np(n),t=(0===e.screenSize?3:2)*devicePixelRatio,r={frameDevice:1,frameCanvas:t},o=u=>({frameDevice:u,frameCanvas:u*t}),i=u=>({frameDevice:u,frameCanvas:r.frameCanvas+u*t}),s=o(e.silkscreenHeight>0?1:0),a=o(function p6(n){switch(n){case 3:case 1:return 60;case 2:return 45;default:return 30}}(e.screenSize));return{scale:t,borderWidth:r,height:o(2*r.frameDevice+e.height+s.frameDevice+e.silkscreenHeight+a.frameDevice),width:o(2*r.frameDevice+e.width),screenHeight:o(e.height),screenWidth:o(e.width),screenLeft:i(0),screenTop:i(0),screenBottom:i(e.height),separatorHeight:s,silkscreenHeight:o(e.silkscreenHeight),silkscreenTop:i(e.height+s.frameDevice),silkscreenBottom:i(e.height+s.frameDevice+e.silkscreenHeight),softSilkscreenHeight:o(e.silkscreenHeight>0?0:e.height-e.width),buttonHeight:a,buttonWidth:a,buttonTop:i(e.height+s.frameDevice+e.silkscreenHeight),buttonBottom:i(e.height+s.frameDevice+e.silkscreenHeight+a.frameDevice)}}class h6{constructor(e){this.skin=e,this.layout=VT(D0),this.onResize=new Vo.j}get width(){switch(this.getOrientation()){case Tr.portrait:case Tr.portrait180:case void 0:return this.layout.width.frameCanvas;default:return this.layout.height.frameCanvas}}get height(){switch(this.getOrientation()){case Tr.portrait:case Tr.portrait180:case void 0:return this.layout.height.frameCanvas;default:return this.layout.width.frameCanvas}}updateEmulationCanvas(e){this.drawEmulationCanvas(e),this.onAfterUpdateCanvas()}eventToPalmCoordinates(e,t=!1){if(!this.ctx)return;const r=this.ctx.canvas.getBoundingClientRect();let o,i,s,a;r.width/r.height>this.width/this.height?(a=r.height,s=this.width/this.height*r.height,i=r.top,o=r.left+(r.width-s)/2):(s=r.width,a=this.height/this.width*r.width,o=r.left,i=r.top+(r.height-a)/2);let u=(e.clientX-o)/s*this.width/this.layout.scale,f=(e.clientY-i)/a*this.height/this.layout.scale;switch(this.getOrientation()){case Tr.landscape90:{const _=f;f=this.layout.height.frameDevice-u,u=_;break}case Tr.landscape270:{const _=f;f=u,u=this.layout.width.frameDevice-_;break}case Tr.portrait180:u=this.layout.width.frameDevice-u,f=this.layout.height.frameDevice-f}u-=this.layout.borderWidth.frameDevice,f-=this.layout.borderWidth.frameDevice,f>=this.layout.screenHeight.frameDevice&&(f<=this.layout.screenHeight.frameDevice+this.layout.separatorHeight.frameDevice?f=this.layout.screenHeight.frameDevice:f-=this.layout.separatorHeight.frameDevice);const m=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice;if(t)u<0&&(u=0),u>=this.layout.screenWidth.frameDevice&&(u=this.layout.screenWidth.frameDevice-1),f<0&&(f=0),f>=m&&(f=m-1);else if(u<0||u>=this.layout.screenWidth.frameDevice||f<0||f>=m)return;return[u,f]}isSilkscreen(e){const[,t]=e;return!this.isButtons(e)&&t>=this.layout.screenHeight.frameDevice}isButtons([,e]){return e>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice}determineButton([e,t]){return e>=this.layout.screenWidth.frameDevice-this.layout.buttonWidth.frameDevice?3:e>=this.layout.screenWidth.frameDevice-2*this.layout.buttonWidth.frameDevice?2:e>=2*this.layout.buttonWidth.frameDevice?t>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice/2?5:4:e>=this.layout.buttonWidth.frameDevice?1:0}initWithCanvas(e=this.ctx?.canvas){var t=this;return(0,ae.Z)(function*(){if(!e)return;t.layout=VT(t.getDeviceId()),t.onResize.dispatch(),e.width=t.width,e.height=t.height;const r=e.getContext("2d");if(!r)throw new Error("canvas not supported - get a new browser");t.ctx=r,t.setupTransformation(),t.fillCanvasRect(0,0,t.layout.width.frameCanvas,t.layout.height.frameCanvas,t.frameColor()),t.fillRect(0,0,t.layout.screenWidth.frameDevice,t.layout.screenHeight.frameDevice+t.layout.silkscreenHeight.frameDevice+t.layout.separatorHeight.frameDevice+t.layout.buttonHeight.frameDevice,t.backgroundColor()),t.drawEmulationCanvas(),yield Promise.all([t.drawSilkscreen(),t.drawButtons()])})()}drawButtons(e=[]){var t=this;return(0,ae.Z)(function*(){t.ctx&&(t.setupTransformation(),t.ctx.imageSmoothingEnabled=!0,t.ctx.imageSmoothingQuality="high",t.ctx.drawImage(yield t.buttonsImage()(t.layout.screenWidth.frameCanvas,t.layout.buttonHeight.frameCanvas),t.layout.screenLeft.frameCanvas,t.layout.buttonTop.frameCanvas,t.layout.screenWidth.frameCanvas,t.layout.buttonHeight.frameCanvas),e.includes(0)&&t.fillRect(0,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,od),e.includes(1)&&t.fillRect(t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,od),e.includes(2)&&t.fillRect(t.layout.screenWidth.frameDevice-2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,od),e.includes(3)&&t.fillRect(t.layout.screenWidth.frameDevice-t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,od),e.includes(4)&&t.fillRect(2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.screenWidth.frameDevice-4*t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice/2,od),e.includes(5)&&t.fillRect(2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice+t.layout.buttonHeight.frameDevice/2,t.layout.screenWidth.frameDevice-4*t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice/2,od))})()}onAfterUpdateCanvas(){}setupTransformation(){if(this.ctx)switch(this.ctx?.resetTransform(),this.getOrientation()){case Tr.portrait:case void 0:break;case Tr.landscape90:this.ctx.translate(this.layout.height.frameCanvas,0),this.ctx.rotate(Math.PI/2);break;case Tr.landscape270:this.ctx.translate(0,this.layout.width.frameCanvas),this.ctx.rotate(3*Math.PI/2);break;case Tr.portrait180:this.ctx.translate(this.layout.width.frameCanvas,this.layout.height.frameCanvas),this.ctx.rotate(Math.PI)}}drawSilkscreen(){var e=this;return(0,ae.Z)(function*(){0===e.layout.silkscreenHeight.frameCanvas||!e.ctx||(e.setupTransformation(),e.fillRect(e.layout.screenLeft.frameDevice,e.layout.silkscreenTop.frameDevice,e.layout.screenWidth.frameDevice,e.layout.silkscreenHeight.frameDevice,l6),e.ctx.imageSmoothingEnabled=!0,e.ctx.imageSmoothingQuality="high",e.ctx.drawImage(yield e.silkscreenImage()(e.layout.screenWidth.frameCanvas,e.layout.silkscreenHeight.frameCanvas),e.layout.borderWidth.frameCanvas,e.layout.silkscreenTop.frameCanvas,e.layout.screenWidth.frameCanvas,e.layout.silkscreenHeight.frameCanvas))})()}drawEmulationCanvas(e=this.lastEmulationCanvas){!e||!this.ctx||(this.lastEmulationCanvas=e,this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(e,this.layout.screenLeft.frameCanvas,this.layout.screenTop.frameCanvas,this.layout.screenWidth.frameCanvas,this.layout.screenHeight.frameCanvas))}fillRect(e,t,r,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(this.layout.borderWidth.frameCanvas+this.layout.scale*e,this.layout.borderWidth.frameCanvas+this.layout.scale*t,this.layout.scale*r,this.layout.scale*o),this.ctx.fillStyle=i,this.ctx.fill())}fillCanvasRect(e,t,r,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(e,t,r,o),this.ctx.fillStyle=i,this.ctx.fill())}silkscreenImage(){switch(this.getDeviceId()){case oe.pegT600c:case oe.pegT650c:return this.skin.SILKSCREEN_PEG_T600;case oe.pegN700c:case oe.pegN600c:return this.skin.SILKSCREEN_PEG_N610;case oe.pegS320:case oe.pegS300:return this.skin.SILKSCREEN_PEG_S300;case oe.pegS500c:return this.skin.SILKSCREEN_PEG_S500;case oe.pegT400:return this.skin.SILKSCREEN_PEG_T415;case oe.acerS11:return this.skin.SILKSCREEN_ACER_S10;case oe.palmPilot:case oe.pilot:case oe.iii:case oe.palmVII:return this.skin.SILKSCREEN_PILOT;case oe.m500:return this.skin.SILKSCREEN_M500;case oe.m505:case oe.m515:case oe.m520:return this.skin.SILKSCREEN_M515;case oe.iiic:return this.skin.SILKSCREEN_IIIC;case oe.m100:case oe.m105:case oe.m125:return this.skin.SILKSCREEN_M100;case oe.m130:return this.skin.SILKSCREEN_M130;case oe.i710:return this.skin.SILKSCREEN_TUNGSTEN_W;case oe.i705:return this.skin.SILKSCREEN_I705;default:return this.skin.SILKSCREEN_V}}buttonsImage(){switch(this.getDeviceId()){case oe.acerS11:return this.skin.HARD_BUTTONS_ACER_S10;case oe.pegNR70:return this.skin.HARD_BUTTONS_PEG_NR70;case oe.pegN700c:return this.skin.HARD_BUTTONS_PEG_N700;case oe.pegN600c:return this.skin.HARD_BUTTONS_PEG_N610;case oe.pegS300:return this.skin.HARD_BUTTONS_PEG_S300;case oe.pegS500c:return this.skin.HARD_BUTTONS_PEG_S500;case oe.pegS320:return this.skin.HARD_BUTTONS_PEG_S320;case oe.pegT400:case oe.pegT600c:case oe.pegT650c:return this.skin.HARD_BUTTONS_PEG_T415;case oe.pilot:case oe.palmPilot:return this.skin.HARD_BUTTONS_PILOT;case oe.m500:return this.skin.HARD_BUTTONS_M500;case oe.m505:case oe.m515:case oe.m520:return this.skin.HARD_BUTTONS_M515;case oe.iiic:return this.skin.HARD_BUTTONS_IIIC;case oe.m100:case oe.m105:return this.skin.HARD_BUTTONS_M100;case oe.m125:return this.skin.HARD_BUTTONS_M125;case oe.m130:return this.skin.HARD_BUTTONS_M130;case oe.i710:return this.skin.HARD_BUTTONS_TUNGSTEN_W;case oe.iii:case oe.iiix:case oe.iiixe:case oe.palmVII:case oe.palmVIIEZ:case oe.palmVIIx:return this.skin.HARD_BUTTONS_IIIX;case oe.iiie:return this.skin.HARD_BUTTONS_IIIE;case oe.i705:return this.skin.HARD_BUTTONS_I705;case oe.handera330:return this.skin.HARD_BUTTONS_HANDERA330;case oe.handera330c:return this.skin.HARD_BUTTONS_HANDERA330C;default:return this.skin.HARD_BUTTONS_PALM_V}}backgroundColor(){return g0(this.getDeviceId())?"white":c6}frameColor(){return g0(this.getDeviceId())?"white":"#ccc"}}const _6=["SILKSCREEN_V","SILKSCREEN_M500","SILKSCREEN_M515","SILKSCREEN_IIIC","SILKSCREEN_M100","SILKSCREEN_M130","SILKSCREEN_TUNGSTEN_W","SILKSCREEN_PILOT","SILKSCREEN_I705","SILKSCREEN_PEG_S300","SILKSCREEN_PEG_S500","SILKSCREEN_PEG_T415","SILKSCREEN_PEG_N610","SILKSCREEN_PEG_T600","SILKSCREEN_ACER_S10","HARD_BUTTONS_PALM_V","HARD_BUTTONS_M515","HARD_BUTTONS_M500","HARD_BUTTONS_IIIC","HARD_BUTTONS_IIIX","HARD_BUTTONS_IIIE","HARD_BUTTONS_M100","HARD_BUTTONS_M125","HARD_BUTTONS_M130","HARD_BUTTONS_TUNGSTEN_W","HARD_BUTTONS_PILOT","HARD_BUTTONS_I705","HARD_BUTTONS_HANDERA330","HARD_BUTTONS_HANDERA330C","HARD_BUTTONS_PEG_S300","HARD_BUTTONS_PEG_S500","HARD_BUTTONS_PEG_S320","HARD_BUTTONS_PEG_T415","HARD_BUTTONS_PEG_N610","HARD_BUTTONS_PEG_N700","HARD_BUTTONS_PEG_NR70","HARD_BUTTONS_ACER_S10"];function v6(n){const t=o=>function m6(n,e){let t,r;const o=document.createElement("canvas");return function(){var i=(0,ae.Z)(function*(s,a){if(t===s&&r===a)return o;o.width=s,o.height=a;const u=o.getContext("2d");if(!u)throw new Error("get a new browser");return u.drawImage(yield n(),0,0,o.width,o.height),(_j||la)&&(yield e).indexOf("data:image")>=0&&(yield new Promise(f=>setTimeout(f,0)),u.drawImage(yield n(),0,0,o.width,o.height)),t=s,r=a,o});return function(s,a){return i.apply(this,arguments)}}()}(function e(o){let i;return(0,ae.Z)(function*(){if(!i){const s=(yield n)[o];i=function g6(n){return()=>new Promise((e,t)=>{const r=new Image;r.onload=()=>e(r),r.onerror=()=>t(),r.src=n})}((n=>`data:image/svg+xml;base64,${btoa(n)}`)(s))()}return i})}(o),n.then(i=>i[o])),r={};for(const o of _6)r[o]=t(o);return r}class Sl extends h6{constructor(){super(v6(A.e(6116).then(A.bind(A,6116)))),this.statisticsVisible=!1}initialize(e,t=this.session){var r=this;return(0,ae.Z)(function*(){r.session=t,yield r.initWithCanvas(e)})()}clearStatistics(){var e=this;return(0,ae.Z)(function*(){e.statisticsVisible=!1,e.layout.silkscreenHeight.frameCanvas>0?yield e.drawSilkscreen():yield e.drawEmulationCanvas()})()}updateStatistics(e,t){var r=this;return(0,ae.Z)(function*(){yield r.clearStatistics(),r.drawStatistics(e,t),r.lastEmulationStatistics=t,r.lastSnapshotStatistics=e,r.statisticsVisible=!0})()}getDeviceId(){return this.session?.device??D0}getOrientation(){return this.session?.deviceOrientation??Tr.portrait}onAfterUpdateCanvas(){this.statisticsVisible&&0===this.layout.silkscreenHeight.frameCanvas&&this.drawStatistics(this.lastSnapshotStatistics,this.lastEmulationStatistics)}drawStatistics(e,t){if(!this.ctx)return;this.setupTransformation();const r=this.layout.silkscreenHeight.frameDevice>0?this.layout.silkscreenHeight:this.layout.softSilkscreenHeight,o=this.layout.silkscreenHeight.frameCanvas>0?this.layout.silkscreenTop:{frameCanvas:this.layout.screenBottom.frameCanvas-r.frameCanvas,frameDevice:this.layout.screenBottom.frameDevice-r.frameDevice};this.ctx.beginPath(),this.fillRect(this.layout.screenLeft.frameDevice,o.frameDevice,this.layout.screenWidth.frameDevice,r.frameDevice,"rgba(255,255,255,0.6)");const s=function b6(n){switch(n){case 1:case 3:return 2;case 2:return 1.5;default:return 1}}(np(this.session?.device??D0).screenSize);this.ctx.font=6*this.layout.scale*s+"px monospace",this.ctx.fillStyle="black",[...e||t?[]:["collecting statistics..."],...e?[`last snapshot          : ${new Date(e.timestamp).toLocaleTimeString()}`,`snapshot pages         : ${e.pages}`,`snapshot time total    : ${e.timeTotal.toFixed(2)} msec`,`snapshot time blocking : ${e.timeBlocking.toFixed(2)} msec`]:[],...t?[`host speed             : ${t.hostSpeed.toFixed(2)}x`,`emulation speed        : ${t.emulationSpeed.toFixed(2)}x`,`average FPS            : ${t.averageFps.toFixed(2)}`]:[]].forEach((a,u)=>this.ctx.fillText(a,this.layout.screenLeft.frameCanvas+s*this.layout.scale,o.frameCanvas+s*this.layout.scale*(8+6*u)))}}Sl.\u0275fac=function(e){return new(e||Sl)},Sl.\u0275prov=ht({token:Sl,factory:Sl.\u0275fac,providedIn:"root"});class Gc{constructor(e,t,r){this.router=e,this.canvasDisplayService=t,this.emulationStateService=r,this.updateUseSmallUI=()=>{const o=!!document.querySelector("html.md"),i=o?56:44;this.useSmallUI=this.canvasArea(window.innerHeight-i-(o?57:51)-6,window.innerWidth-6)<this.canvasArea(window.innerHeight-i-25-6,window.innerWidth-6)},this.useSmallUI=!1,this.isLockedFlag=!1,window.addEventListener("resize",this.updateUseSmallUI),window.addEventListener("orientationchange",this.updateUseSmallUI),t.onResize.addHandler(()=>this.updateUseSmallUI()),this.updateUseSmallUI()}get smallUI(){return"/tab/emulation"===this.router.url&&this.useSmallUI&&void 0!==this.emulationStateService.getCurrentSession()}lock(){this.isLockedFlag=!0}unlock(){this.isLockedFlag=!1}isLocked(){return this.isLockedFlag}canvasArea(e,t){let r,o;return e=Math.min(e,this.canvasDisplayService.height/devicePixelRatio),(t=Math.min(t,this.canvasDisplayService.width/devicePixelRatio))/e>this.canvasDisplayService.width/this.canvasDisplayService.height?(o=e,r=e/this.canvasDisplayService.height*this.canvasDisplayService.width):(r=t,o=t/this.canvasDisplayService.width*this.canvasDisplayService.height),r*o}}Gc.\u0275fac=function(e){return new(e||Gc)(C(jo),C(Sl),C(bs))},Gc.\u0275cmp=ut({type:Gc,selectors:[["app-tabs"]],decls:23,vars:4,consts:[[1,"overflow-wrapper"],["slot","bottom"],["tab","emulation"],["name","phone-portrait-outline"],["tab","sessions"],["name","albums-outline"],["tab","storage"],["name","folder-outline"],["tab","settings"],["name","cog-outline"],["tab","about"],["name","help-outline"]],template:function(e,t){1&e&&(se(0,"ion-tabs")(1,"div",0)(2,"ion-tab-bar",1)(3,"ion-tab-button",2),ct(4,"ion-icon",3),se(5,"ion-label"),qe(6,"Emulator"),J()(),se(7,"ion-tab-button",4),ct(8,"ion-icon",5),se(9,"ion-label"),qe(10,"Sessions"),J()(),se(11,"ion-tab-button",6),ct(12,"ion-icon",7),se(13,"ion-label"),qe(14,"Cards"),J()(),se(15,"ion-tab-button",8),ct(16,"ion-icon",9),se(17,"ion-label"),qe(18,"Settings"),J()(),se(19,"ion-tab-button",10),ct(20,"ion-icon",11),se(21,"ion-label"),qe(22,"About"),J()()()()()),2&e&&(Ye(2),rl("small-ui",t.smallUI)("disabled",t.isLocked()))},dependencies:[fi,Ji,qv,vk,xk],styles:["ion-tab-bar[_ngcontent-%COMP%]{min-width:280px}ion-tab-bar.small-ui[_ngcontent-%COMP%]{height:25px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:21px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon.md[_ngcontent-%COMP%]{margin-top:3px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:none}ion-tab-bar.disabled[_ngcontent-%COMP%]{display:none}.overflow-wrapper[_ngcontent-%COMP%]{overflow-x:auto}ion-icon[_ngcontent-%COMP%]{font-size:25px}"]});class ja{}ja.\u0275fac=function(e){return new(e||ja)},ja.\u0275mod=Ar({type:ja}),ja.\u0275inj=wr({imports:[Aa,r0.forChild(),Zl,kc,im]});class id{}id.\u0275fac=function(e){return new(e||id)},id.\u0275mod=Ar({type:id}),id.\u0275inj=wr({imports:[Aa,kc,Zl,ja,r0.forChild()]});class sd{}sd.\u0275fac=function(e){return new(e||sd)},sd.\u0275mod=Ar({type:sd}),sd.\u0275inj=wr({imports:[Aa,kc,Zl,ja]});class ad{}ad.\u0275fac=function(e){return new(e||ad)},ad.\u0275mod=Ar({type:ad}),ad.\u0275inj=wr({imports:[Aa,kc,Zl,im,ja]});class ld{}ld.\u0275fac=function(e){return new(e||ld)},ld.\u0275mod=Ar({type:ld}),ld.\u0275inj=wr({imports:[Aa,kc,Zl,ja,im]});class cd{}function C6(n,e){if(1&n){const t=kr();se(0,"ion-button",1),st("click",function(){return Pt(t),Ot(Vt().onClick())}),ct(1,"ion-icon",2),J()}if(2&n){const t=Vt();Ye(1),rt("name",t.iconName)}}cd.\u0275fac=function(e){return new(e||cd)},cd.\u0275mod=Ar({type:cd}),cd.\u0275inj=wr({imports:[Aa,Zl,kc,im,ja]});class ic{constructor(e){this.pwaService=e}onClick(){this.pwaService.install()}get iconName(){return la?"logo-apple-appstore":nT?"logo-google-playstore":"apps-outline"}get show(){return this.pwaService.promptForInstall()}}function w6(n,e){1&n&&(se(0,"div",11),ct(1,"ion-spinner"),J())}function S6(n,e){1&n&&(se(0,"div"),qe(1,"app cached for offline use"),J())}ic.\u0275fac=function(e){return new(e||ic)(C(Nc))},ic.\u0275cmp=ut({type:ic,selectors:[["app-pwa-prompt"]],decls:1,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"],[3,"name"]],template:function(e,t){1&e&&nn(0,C6,2,1,"ion-button",0),2&e&&rt("ngIf",t.show)},dependencies:[ui,Ki,fi]});class ap{constructor(e,t){this.modalController=e,this.updates=t,this.loading=!0}get version(){return Lc}showChangelog(){var e=this;return(0,ae.Z)(function*(){yield(yield e.modalController.create({component:Cl,componentProps:{url:"assets/doc/CHANGELOG.md",title:"Changelog"}})).present()})()}get serviceWorkerAvailable(){return this.updates.isEnabled}}function E6(n,e){if(1&n&&(se(0,"ion-select-option",17),qe(1),J()),2&n){const t=e.$implicit;rt("value",t[0]),Ye(1),Oi("",t[1]," ")}}function D6(n,e){if(1&n&&(se(0,"ion-select-option",17),qe(1),J()),2&n){const t=e.$implicit;rt("value",t[0]),Ye(1),Oi("",t[1]," ")}}function I6(n,e){if(1&n&&(se(0,"ion-item",7)(1,"ion-label",8),qe(2,"Hotsync name"),J(),ct(3,"ion-input",18),J()),2&n){const t=Vt();Ye(3),rt("placeholder",t.placeholder)}}ap.\u0275fac=function(e){return new(e||ap)(C(vs),C(S0))},ap.\u0275cmp=ut({type:ap,selectors:[["app-about"]],decls:21,vars:4,consts:[[3,"translucent"],["slot","secondary"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],[1,"markdown-container"],["src","assets/doc/about.md",3,"load"],[1,"version"],["href","javascript:",3,"click"],[4,"ngIf"],["src","assets/logo.svg",1,"logo"],[1,"loader"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"About"),J(),se(4,"ion-buttons",1),ct(5,"app-pwa-prompt"),J()()(),se(6,"ion-content")(7,"ion-header",2)(8,"ion-toolbar")(9,"ion-title",3),qe(10,"About"),J()()(),nn(11,w6,2,0,"div",4),se(12,"div",5)(13,"markdown",6),st("load",function(){return t.loading=!1}),J()(),se(14,"div",7),qe(15),ct(16,"br"),se(17,"a",8),st("click",function(){return t.showChangelog()}),qe(18,"Changelog"),J(),nn(19,S6,2,0,"div",9),J(),ct(20,"img",10),J()),2&e&&(rt("translucent",!0),Ye(11),rt("ngIf",t.loading),Ye(4),Oi(" CloudpilotEmu version ",t.version," "),Ye(4),rt("ngIf",t.serviceWorkerAvailable))},dependencies:[ui,Yi,Xi,Qi,Zf,es,ts,ic,n0],styles:[".version[_ngcontent-%COMP%]{width:100%;bottom:1em;text-align:center;font-size:.75em;margin-top:3em;margin-bottom:1em}.markdown-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:center}markdown[_ngcontent-%COMP%]{display:block;margin-left:.5em;margin-right:.5em;max-width:40em}.loader[_ngcontent-%COMP%]{width:100%;height:10em;display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{width:10em;height:10em;margin:1em auto;display:block}@media (prefers-color-scheme: dark){.logo[_ngcontent-%COMP%]{filter:invert(100%)}}"]});class ud{constructor(e,t){this.sessionService=e,this.alertService=t,this.validateNameUnique=r=>r.value!==this.session.name&&this.sessionService.getSessions().some(o=>o.name===r.value)?{name:"already taken"}:null,this.onSave=()=>{},this.onCancel=()=>{},this.orientations=[[Tr.portrait,"Portrait"],[Tr.landscape90,"Landscape 90\xb0"],[Tr.landscape270,"Landscape 270\xb0"],[Tr.portrait180,"Upside down"]]}get formControlName(){return this.formGroup.get("name")}get formControlHotsyncName(){return this.formGroup.get("hotsyncName")}get formControlDevice(){return this.formGroup.get("device")}get formControlManageHotsyncName(){return this.formGroup.get("manageHotsyncName")}get formControlSpeed(){return this.formGroup.get("speed")}get formControlOrientation(){return this.formGroup.get("orientation")}get showHotsyncNameInput(){return this.formControlManageHotsyncName.value}get placeholder(){return this.formControlHotsyncName.value?this.formControlName.value:void 0!==this.session.hotsyncName||this.session.dontManageHotsyncName?"Enter hotsync name":"use setting from device"}get deviceList(){return this.availableDevices.map(e=>[e,yT(e)])}ngOnInit(){this.createFormGroup()}save(){this.formGroup.invalid||(this.session.name=this.formControlName.value,this.formControlManageHotsyncName.value?this.session.dontManageHotsyncName?(this.session.dontManageHotsyncName=!1,this.session.hotsyncName=this.formControlHotsyncName.value||"",this.alertService.message("Reset required","Please reset the virtual device in order to make sure that the hotsync name is synced properly again.")):this.session.hotsyncName=this.formControlHotsyncName.value||(void 0===this.session.hotsyncName?void 0:""):this.session.dontManageHotsyncName=!0,this.session.device=this.formControlDevice.value,this.session.speed=this.speedValue,this.session.deviceOrientation=this.formControlOrientation.value,this.onSave())}onEnter(){this.save()}get speedValue(){const e=this.formControlSpeed.value||0;return e>=0?1+e:1/(1-e)}get speedLabel(){return"Clock: "+(0===this.formControlSpeed.value?"default":`${Math.round(this.speedValue*function pH(n){switch(n){case oe.palmPilot:case oe.pilot:case oe.iii:case oe.palmVII:case oe.palmVx:case oe.palmV:case oe.palmVIIEZ:case oe.palmVIIx:case oe.iiic:case oe.iiix:case oe.iiixe:case oe.iiie:case oe.m100:case oe.m105:case oe.pegS300:case oe.pegS500c:return 16;case oe.m500:case oe.m505:case oe.m515:case oe.m520:case oe.m125:case oe.m130:case oe.i705:case oe.i710:case oe.handera330:case oe.handera330c:case oe.pegS320:case oe.pegT400:case oe.pegN600c:case oe.pegT600c:case oe.pegN700c:case oe.acerS11:return 33;case oe.pegT650c:case oe.pegNR70:return 66}}(this.formControlDevice.value))}MHz`)}createFormGroup(){this.formGroup=new Jh({name:new di(this.session.name,{validators:[wf.required,this.validateNameUnique]}),manageHotsyncName:new di(!this.session.dontManageHotsyncName),hotsyncName:new di(this.session.hotsyncName||""),device:new di({value:this.session.device,disabled:1===this.availableDevices.length}),speed:new di((this.session.speed||1)>=1?(this.session.speed||1)-1:1-1/this.session.speed),orientation:new di(this.session.deviceOrientation||Tr.portrait)})}}ud.\u0275fac=function(e){return new(e||ud)(C(Ua),C(Kr))},ud.\u0275cmp=ut({type:ud,selectors:[["app-session-settings"]],inputs:{onSave:"onSave",onCancel:"onCancel",session:"session",availableDevices:"availableDevices"},decls:41,vars:6,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter session name","formControlName","name"],["formControlName","device"],[3,"value",4,"ngFor","ngForOf"],["formControlName","orientation"],[1,"label-speed"],["min","-4","max","4","step","0.25","snaps","true","ticks","false","formControlName","speed"],["formControlName","manageHotsyncName"],["lines","none",4,"ngIf"],[3,"value"],["formControlName","hotsyncName","maxlength","40",3,"placeholder"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"Session settings"),J(),se(4,"ion-buttons",1)(5,"ion-button",2),st("click",function(){return t.save()}),qe(6,"Save"),J()(),se(7,"ion-buttons",3)(8,"ion-button",4),st("click",function(){return t.onCancel()}),qe(9,"Cancel"),J()()()(),se(10,"ion-content",5)(11,"form",6),st("keydown.enter",function(){return t.onEnter()}),se(12,"h1"),qe(13,"Session"),J(),se(14,"ion-item",7)(15,"ion-label",8),qe(16,"Session name"),J(),ct(17,"ion-input",9),J(),se(18,"h1"),qe(19,"Device"),J(),se(20,"ion-item",7)(21,"ion-label",8),qe(22,"Device type"),J(),se(23,"ion-select",10),nn(24,E6,2,2,"ion-select-option",11),J()(),se(25,"ion-item",7)(26,"ion-label",8),qe(27,"Orientation"),J(),se(28,"ion-select",12),nn(29,D6,2,2,"ion-select-option",11),J()(),se(30,"ion-item",7)(31,"ion-label",13),qe(32),J(),ct(33,"ion-range",14),J(),se(34,"h1"),qe(35,"Hotsync"),J(),se(36,"ion-item",7)(37,"ion-label"),qe(38,"Manage hotsync name"),J(),ct(39,"ion-toggle",15),J(),nn(40,I6,4,1,"ion-item",16),J()()),2&e&&(Ye(5),rt("disabled",t.formGroup.invalid),Ye(6),rt("formGroup",t.formGroup),Ye(13),rt("ngForOf",t.deviceList),Ye(5),rt("ngForOf",t.orientations),Ye(3),Ms(t.speedLabel),Ye(8),rt("ngIf",t.showHotsyncNameInput))},dependencies:[Ec,ui,Ki,Yi,Xi,Qi,_l,ti,Ji,Zv,Rm,Fm,es,qf,ts,Xu,Wf,yl,fl,ul,dl,gv,sa,Pa],styles:["ion-item[_ngcontent-%COMP%]{--highlight-color-valid: var(--highlight-color-focused);--background: none}.label-speed[_ngcontent-%COMP%]{min-width:7.5rem}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}"]});class dd{constructor(e,t,r,o,i,s,a){this.emulationService=e,this.loadingController=t,this.snapshotService=r,this.fileService=o,this.emulationStateService=i,this.alertService=s,this.cloudpilotService=a}saveBackup(e){var t=this;return(0,ae.Z)(function*(){const r=t.emulationStateService.getCurrentSession();if(!r)return;const o=yield t.loadingController.create({message:"Backing up..."});yield o.present();let s,i=[];yield t.emulationService.pause(),yield t.snapshotService.waitForPendingSnapshot();try{const a=yield t.cloudpilotService.cloudpilot;yield a.backup(function(){var u=(0,ae.Z)(function*(f){for(f.Init(e);f.IsInProgress();){const m=f.GetCurrentDatabase();f.Save()||i.push(m),yield new Promise(_=>setTimeout(_,0))}s=a.getArchive(f)});return function(f){return u.apply(this,arguments)}}())}finally{yield o.dismiss(),yield t.emulationService.resume()}s?i.length>0?yield t.alertService.message("Backup complete",`\n                    ${y0(i)} failed  to backup.\n                    <br/><br/>\n                    Open databases cannot be backuped. Please run backup from the launcher\n                    in order to backup all databases.\n                `,{"Save Backup":()=>t.fileService.saveFile(ET(r,e),s)},"Cancel"):t.fileService.saveFile(ET(r,e),s):yield t.alertService.errorMessage("Backup failed.")})()}}dd.\u0275fac=function(e){return new(e||dd)(ee(rs),ee(Wl),ee(Va),ee(Os),ee(bs),ee(Kr),ee(ns))},dd.\u0275prov=ht({token:dd,factory:dd.\u0275fac,providedIn:"root"});const k6=window.AudioContext||window.webkitAudioContext;function I0(n,e=100){return new Promise((t,r)=>{setTimeout(()=>r(new Error("timeout")),e),n.then(t,r)})}class T6{constructor(e){var t=this;this.emulationService=e,this.initialize=()=>this.mutex.runExclusive((0,ae.Z)(function*(){if(!t.initialized){try{t.context=new k6}catch(r){return console.error(r),void console.error("web audio not available")}try{t.context.destination.channelCount=1}catch{console.warn("audio driver: failed to set channel count")}try{yield t.start()}catch(r){return console.error(r),void console.error("failed to initialize audio context")}t.context.addEventListener("statechange",()=>{"interrupted"===t.context?.state&&t.updateState()}),t.gainNode=t.context.createGain(),t.gainNode.channelCount=1,t.gainNode.channelInterpretation="speakers",t.gainNode.gain.value=t.gain(),t.gainNode.connect(t.context.destination),t.applyPwmUpdate(),t.initialized=!0}})),this.updateState=(r=!1)=>this.mutex.runExclusive((0,ae.Z)(function*(){if(!t.context||t.isRunning()===t.shouldRun())return;!r&&!t.isRunning()&&t.shouldRun()&&t.applyPwmUpdate();const o=t.context.state;if(t.shouldRun())try{t.updateGain(),yield I0(t.context.resume()),console.log("resume audio context")}catch{console.error(`failed to resume audio from state ${o}`)}else try{yield I0(t.context.suspend()),console.log("suspend audio context")}catch{console.error(`failed to suspend audio from state ${o}`)}console.log(`audio context state change ${o} -> ${t.context.state}`)})),this.onPwmUpdate=function(){var r=(0,ae.Z)(function*(o){t.pendingPwmUpdate=o,t.initialized&&(t.shouldRun()!==t.isRunning()&&t.updateState(!0),t.shouldRun()&&t.applyPwmUpdate())});return function(o){return r.apply(this,arguments)}}(),this.mutex=new La,this.initialized=!1,this.muted=!1,this.emulationService.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.emulationService.emulationStateChangeEvent.addHandler(()=>this.updateState()),this.emulationService.powerOffChangeEvent.addHandler(()=>this.updateState()),la||document.addEventListener("visibilitychange",()=>this.updateState())}isInitialized(){return this.initialized}mute(e){this.muted=e,this.updateState()}isMuted(){return this.muted}shouldRun(){return this.emulationService.isRunning()&&!this.emulationService.isPowerOff()&&!this.muted&&this.gain()>0&&("hidden"!==document.visibilityState||la||this.runHidden())}updateGain(){this.gainNode&&(this.gainNode.gain.value=this.gain())}start(){var e=this;return(0,ae.Z)(function*(){e.context&&(yield I0(e.context.resume()),e.updateState(),console.log("audio context initialized"))})()}isRunning(){return"running"===this.context?.state}applyPwmUpdate(){if(!this.context||!this.pendingPwmUpdate)return;const{frequency:e,dutyCycle:t}=this.pendingPwmUpdate,r=this.context.sampleRate;if(this.pendingPwmUpdate=void 0,e<=0||t<=0||e>=r)return void this.disconnectSource();const o=this.context.createBuffer(1,Math.round(r/e),r),i=o.getChannelData(0);for(let a=0;a<i.length;a++)i[a]=a/i.length<t?1:0;const s=this.context.createBufferSource();s.channelCount=1,s.channelInterpretation="speakers",s.loop=!0,s.buffer=o,this.disconnectSource(),s.connect(this.gainNode),s.start(),this.bufferSourceNode=s,this.pendingPwmUpdate=void 0}disconnectSource(){this.bufferSourceNode&&(this.bufferSourceNode.stop(),this.bufferSourceNode.disconnect(),this.bufferSourceNode=void 0)}gain(){return this.getVolume()/2}}class sc extends T6{constructor(e,t,r){super(e),this.kvs=t,this.modalWatcher=r,this.modalWatcher.modalVisibilityChangeEvent.addHandler(()=>this.updateState())}getVolume(){return this.kvs.kvs.volume}runHidden(){return this.kvs.kvs.runHidden}shouldRun(){return!this.modalWatcher.isModalActive()&&super.shouldRun()}}sc.\u0275fac=function(e){return new(e||sc)(ee(rs),ee(ni),ee(nc))},sc.\u0275prov=ht({token:sc,factory:sc.\u0275fac,providedIn:"root"});class zc{constructor(e,t){this.emulationService=e,this.ngZone=t,this.onInterval=()=>{this.emulationService.getEmulationSpeed()<1?(this.level<3&&this.level++,3===this.level&&this.ngZone.run(()=>this.slowdownDetected=!0)):(this.level>0&&this.level--,0===this.level&&this.ngZone.run(()=>this.slowdownDetected=!1))},this.onEmulationStateChanged=r=>{this.reset(),r&&void 0===this.intervalHandle&&(this.onInterval(),this.ngZone.runOutsideAngular(()=>this.intervalHandle=window.setInterval(this.onInterval,1e3))),!r&&void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)},this.slowdownDetected=!1,this.level=0,this.onEmulationStateChanged(this.emulationService.isRunning()),this.emulationService.emulationStateChangeEvent.addHandler(this.onEmulationStateChanged)}isSlowdownDetected(){return this.slowdownDetected}reset(){this.slowdownDetected=!1,this.level=0}ngOnDestroy(){this.emulationService.emulationStateChangeEvent.removeHandler(this.onEmulationStateChanged),void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)}}function x6(n,e){if(1&n){const t=kr();se(0,"ion-item",4),st("click",function(){return Pt(t),Ot(Vt().power())}),se(1,"ion-label"),qe(2,"Power"),J(),ct(3,"ion-icon",5),J()}if(2&n){const t=Vt();rt("detail",!1)("disabled",!t.emulationService.isRunning())}}function A6(n,e){if(1&n){const t=kr();se(0,"ion-item",4),st("click",function(){return Pt(t),Ot(Vt().hotsync())}),se(1,"ion-label"),qe(2,"Hotsync"),J(),ct(3,"ion-icon",6),J()}if(2&n){const t=Vt();rt("detail",!1)("disabled",!t.emulationService.isRunning())}}function P6(n,e){if(1&n){const t=kr();se(0,"ion-item",4),st("click",function(){return Pt(t),Ot(Vt().reset())}),se(1,"ion-label"),qe(2,"Reset"),J(),ct(3,"ion-icon",7),J()}if(2&n){const t=Vt();rt("detail",!1)("disabled",!t.emulationService.isRunning())}}function R6(n,e){if(1&n){const t=kr();se(0,"ion-item",8),st("click",function(){return Pt(t),Ot(Vt().insertCard())}),se(1,"ion-label"),qe(2),J(),ct(3,"ion-icon",9),J()}if(2&n){const t=Vt();rt("detail",!1),Ye(2),Oi("Insert ",t.hasMemorystick?"stick":"SD card","")}}function F6(n,e){if(1&n){const t=kr();se(0,"ion-item",8),st("click",function(){return Pt(t),Ot(Vt().ejectCard())}),se(1,"ion-label"),qe(2),J(),ct(3,"ion-icon",10),J()}if(2&n){const t=Vt();rt("detail",!1),Ye(2),Oi("Eject ",t.hasMemorystick?"stick":"SD card","")}}function O6(n,e){if(1&n){const t=kr();se(0,"ion-item",8),st("click",function(){return Pt(t),Ot(Vt().mute(!1))}),se(1,"ion-label"),qe(2,"Enable audio"),J(),ct(3,"ion-icon",11),J()}2&n&&rt("detail",!1)}function N6(n,e){if(1&n){const t=kr();se(0,"ion-item",8),st("click",function(){return Pt(t),Ot(Vt().mute(!0))}),se(1,"ion-label"),qe(2,"Disable audio"),J(),ct(3,"ion-icon",12),J()}2&n&&rt("detail",!1)}function L6(n,e){if(1&n){const t=kr();se(0,"ion-item",4),st("click",function(){return Pt(t),Ot(Vt().backup())}),se(1,"ion-label"),qe(2,"Save backup"),J(),ct(3,"ion-icon",13),J()}if(2&n){const t=Vt();rt("detail",!1)("disabled",t.backupDisabled)}}function $6(n,e){if(1&n){const t=kr();se(0,"ion-item",8),st("click",function(){return Pt(t),Ot(Vt().rotate())}),se(1,"ion-label"),qe(2,"Rotate"),J(),ct(3,"ion-icon",14),J()}2&n&&rt("detail",!1)}function B6(n,e){if(1&n){const t=kr();se(0,"ion-item",8),st("click",function(){return Pt(t),Ot(Vt().editSettings())}),se(1,"ion-label"),qe(2,"Settings"),J(),ct(3,"ion-icon",15),J()}2&n&&rt("detail",!1)}function V6(n){switch(n){case Tr.portrait:case void 0:return Tr.landscape90;case Tr.landscape90:return Tr.portrait180;case Tr.portrait180:return Tr.landscape270;case Tr.landscape270:return Tr.portrait;default:throw new Error("cannot happen")}}zc.\u0275fac=function(e){return new(e||zc)(ee(rs),ee(dt))},zc.\u0275prov=ht({token:zc,factory:zc.\u0275fac,providedIn:"root"});class lp{constructor(e,t,r,o,i,s,a,u,f,m,_,k,M,Y,Se,Ge,Ke,bt){this.emulationService=e,this.emulationStateService=t,this.backupService=r,this.buttonService=o,this.actionSheetController=i,this.popoverController=s,this.audioService=a,this.kvsService=u,this.modalController=f,this.sessionService=m,this.performanceWatchdogService=_,this.canvasDisplayService=k,this.cloudpilotService=M,this.storageCardService=Y,this.alertService=Se,this.alertController=Ge,this.storageService=Ke,this.errorService=bt,this.showHelp=()=>{}}reset(){var e=this;return(0,ae.Z)(function*(){e.popoverController.dismiss(),(yield e.actionSheetController.create({header:"How do you want to reset?",buttons:[{text:"Normal boot",handler:()=>e.emulationService.reset()},{text:"No extensions",handler:()=>e.emulationService.resetNoExtensions()},{text:"Hard reset",handler:()=>e.emulationService.resetHard()},{text:"Cancel",role:"cancel"}]})).present()})()}power(){this.buttonService.engage(6),this.popoverController.dismiss()}hotsync(){this.buttonService.engage(7),this.popoverController.dismiss()}help(){this.showHelp(),this.popoverController.dismiss()}backup(){var e=this;return(0,ae.Z)(function*(){e.popoverController.dismiss(),(yield e.actionSheetController.create({header:"What do you want to backup?",buttons:[{text:"Only RAM (default)",handler:()=>e.backupService.saveBackup(!1)},{text:"Include ROM",handler:()=>e.backupService.saveBackup(!0)},{text:"Cancel",role:"cancel"}]})).present()})()}get isMuted(){return!this.audioService.isInitialized()||this.audioService.isMuted()}get isAudioOff(){return this.kvsService.kvs.volume<=0}mute(e){e?this.audioService.mute(!0):this.audioService.isInitialized()?this.audioService.mute(!1):this.audioService.initialize()}get backupDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get powerDisabled(){const e=this.emulationStateService.getCurrentSession();return!!e&&function hH(n){return[oe.i705,oe.i710,oe.pegNR70,oe.pegT650c].includes(n)}(e.device)}get hasActiveSession(){return!!this.emulationStateService.getCurrentSession()}get supportsStorageCard(){const e=this.emulationStateService.getCurrentSession();return!!e&&_T(e.device)!==tc.none}get hasMemorystick(){const e=this.emulationStateService.getCurrentSession();return!!e&&_T(e.device)===tc.memorystick}get hasMountedCard(){return void 0!==this.emulationStateService.getCurrentSession()?.mountedCard}editSettings(){var e=this;return(0,ae.Z)(function*(){const t=e.emulationStateService.getCurrentSession();if(!t)return;const r=t.speed,o=t.deviceOrientation,i=yield e.modalController.create({component:ud,backdropDismiss:!1,componentProps:{session:t,availableDevices:[t.device],onSave:(s=(0,ae.Z)(function*(){r!==t.speed&&e.performanceWatchdogService.reset(),o!==t.deviceOrientation&&(e.canvasDisplayService.initialize(void 0,t),e.canvasDisplayService.updateEmulationCanvas()),yield e.sessionService.updateSession(t),i.dismiss()}),function(){return s.apply(this,arguments)}),onCancel:()=>i.dismiss()}});var s;yield e.popoverController.dismiss(),yield i.present()})()}rotate(){var e=this;return(0,ae.Z)(function*(){const t=e.emulationStateService.getCurrentSession();if(!t)return;yield e.storageService.updateSessionPartial(t.id,{deviceOrientation:V6(t.deviceOrientation)});const r=e.emulationStateService.getCurrentSession();yield e.canvasDisplayService.initialize(void 0,r),e.canvasDisplayService.updateEmulationCanvas()})()}insertCard(){var e=this;return(0,ae.Z)(function*(){if(e.popoverController.dismiss(),void 0===e.emulationStateService.getCurrentSession()?.device)return;const r=yield e.cloudpilotService.cloudpilot,o=e.storageCardService.getAllCards().filter(s=>r.deviceSupportsCardSize(s.size)&&!e.storageCardService.mountedInSession(s.id));0!==o.length?yield(yield e.alertController.create({header:"Choose image for insertion",buttons:[{text:"Cancel",role:"cancel"},{text:"Insert",handler:s=>e.storageCardService.insertCard(s)}],inputs:o.map((s,a)=>({label:s.name,type:"radio",value:s.id,checked:0===a})),backdropDismiss:!1})).present():e.alertService.message("No image available",`There is no ${e.hasMemorystick?"memory stick":"SD card"} image available. Please go to the "Storage" tab in order to create new one.`)})()}ejectCard(){var e=this;return(0,ae.Z)(function*(){try{yield e.storageCardService.ejectCurrentCard()}catch(t){e.errorService.fatalBug(t instanceof Error?t.message:"eject failed")}e.popoverController.dismiss()})()}}lp.\u0275fac=function(e){return new(e||lp)(C(rs),C(bs),C(dd),C(Vc),C(Qf),C(Oc),C(sc),C(ni),C(vs),C(Ua),C(zc),C(Sl),C(ns),C(ca),C(Kr),C(Fc),C(Xn),C(zs))},lp.\u0275cmp=ut({type:lp,selectors:[["app-emulation-context-menu"]],inputs:{showHelp:"showHelp"},decls:15,vars:11,consts:[["lines","full","button","",3,"detail","disabled","click",4,"ngIf"],["lines","full","button","",3,"detail","click",4,"ngIf"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"],["lines","full","button","",3,"detail","disabled","click"],["name","power-outline","slot","end"],["name","sync-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","log-in-outline","slot","end"],["name","log-out-outline","slot","end"],["name","volume-high-outline","slot","end"],["name","volume-mute-outline","slot","end"],["name","share-outline","slot","end"],["name","reload-outline","slot","end"],["name","cog-outline","slot","end"]],template:function(e,t){1&e&&(se(0,"ion-list"),nn(1,x6,4,2,"ion-item",0),nn(2,A6,4,2,"ion-item",0),nn(3,P6,4,2,"ion-item",0),nn(4,R6,4,2,"ion-item",1),nn(5,F6,4,2,"ion-item",1),nn(6,O6,4,1,"ion-item",1),nn(7,N6,4,1,"ion-item",1),nn(8,L6,4,2,"ion-item",0),nn(9,$6,4,1,"ion-item",1),nn(10,B6,4,1,"ion-item",1),se(11,"ion-item",2),st("click",function(){return t.help()}),se(12,"ion-label"),qe(13,"Help"),J(),ct(14,"ion-icon",3),J()()),2&e&&(Ye(1),rt("ngIf",t.hasActiveSession&&!t.powerDisabled),Ye(1),rt("ngIf",t.hasActiveSession),Ye(1),rt("ngIf",t.hasActiveSession),Ye(1),rt("ngIf",t.supportsStorageCard&&!t.hasMountedCard),Ye(1),rt("ngIf",t.supportsStorageCard&&t.hasMountedCard),Ye(1),rt("ngIf",t.isMuted&&!t.isAudioOff),Ye(1),rt("ngIf",!t.isMuted&&!t.isAudioOff),Ye(1),rt("ngIf",t.hasActiveSession),Ye(1),rt("ngIf",t.hasActiveSession),Ye(1),rt("ngIf",t.hasActiveSession),Ye(1),rt("detail",!1))},dependencies:[ui,fi,ti,Ji,Oa]});class U6{constructor(e,t){this.emulationService=e,this.canvasDisplayService=t,this.handleMouseDown=r=>{if(0!==r.button)return;const o=this.canvasDisplayService.eventToPalmCoordinates(r);if(!o)return;const i=this.determineArea(o);if(2===i){const s=this.canvasDisplayService.determineButton(o);this.interactionMouse={area:i,buttonPrimary:s},this.handleButtonDown(s)}else this.interactionMouse={area:i},this.emulationService.handlePointerMove(...o,1===i)},this.handleMouseMove=r=>{if(!(1&r.buttons&&this.interactionMouse&&2!==this.interactionMouse?.area))return;const o=this.canvasDisplayService.eventToPalmCoordinates(r,!0);o&&this.emulationService.handlePointerMove(...o,1===this.interactionMouse?.area)},this.handeMouseUp=r=>{if(0!==r.button)return;const o=this.interactionMouse;switch(this.interactionMouse=void 0,o?.area){case 2:this.handleButtonUp(o.buttonPrimary);break;case 0:case 1:this.emulationService.handlePointerUp()}},this.handleTouchStart=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.canvasDisplayService.eventToPalmCoordinates(s);if(!a)continue;o=!0;const u=this.determineArea(a);if(2===u){const f=this.canvasDisplayService.determineButton(a);this.interactionsTouch.set(s.identifier,{area:u,buttonPrimary:f}),this.handleButtonDown(f)}else this.interactionsTouch.set(s.identifier,{area:u}),this.emulationService.handlePointerMove(...a,1===u)}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchMove=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);if(!a)continue;o=!0;const u=a.area;switch(u){case 2:{const f=this.canvasDisplayService.eventToPalmCoordinates(s);if(!f||2!==this.determineArea(f)){this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0;break}const m=this.canvasDisplayService.determineButton(f);m===a.buttonPrimary?(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0):m!==a.buttonSecondary&&(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=m,this.handleButtonDown(m));break}case 0:case 1:{const f=this.canvasDisplayService.eventToPalmCoordinates(s,!0);if(!f)continue;this.emulationService.handlePointerMove(...f,1===u);break}default:continue}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchEnd=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);switch(a&&(o=!0),this.interactionsTouch.delete(s.identifier),a?.area){case 2:this.handleButtonUp(a.buttonPrimary),this.handleButtonUp(a.buttonSecondary);break;case 0:case 1:this.emulationService.handlePointerUp()}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleKeyDown=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;if(this.isToggleGameMode(r))return r.preventDefault(),this.gameMode=!this.gameMode,void this.onToggleGameMode();const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonDown(o),void r.preventDefault();const i=this.keyCodeFromEvent(r);void 0!==i&&(this.emulationService.handleKeyDown(i),r.preventDefault())},this.handleKeyUp=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonUp(o),void r.preventDefault();if("Control"===r.key){for(const i of this.activeButtons)this.emulationService.handleButtonUp(i);this.activeButtons.clear(),this.canvasDisplayService.drawButtons([])}},this.keyEventTarget=window,this.interactionsTouch=new Map,this.activeButtons=new Set,this.gameMode=!1,this.enableGamemodeHotkey=!0}bind(e,t=window){this.pointerEventTarget&&this.release(),this.pointerEventTarget=e,this.keyEventTarget=t||window,this.addEventListener(e,"mousedown",this.handleMouseDown),this.addEventListener(window,"mouseup",this.handeMouseUp),this.addEventListener(window,"mousemove",this.handleMouseMove),this.addEventListener(e,"touchstart",this.handleTouchStart),this.addEventListener(e,"touchmove",this.handleTouchMove),this.addEventListener(e,"touchend",this.handleTouchEnd),this.addEventListener(e,"touchcancel",this.handleTouchEnd),this.addEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.addEventListener(this.keyEventTarget,"keyup",this.handleKeyUp)}release(){if(this.pointerEventTarget){this.removeEventListener(this.pointerEventTarget,"mousedown",this.handleMouseDown),this.removeEventListener(window,"mouseup",this.handeMouseUp),this.removeEventListener(window,"mousemove",this.handleMouseMove),this.removeEventListener(this.pointerEventTarget,"touchstart",this.handleTouchStart),this.removeEventListener(this.pointerEventTarget,"touchmove",this.handleTouchMove),this.removeEventListener(this.pointerEventTarget,"touchend",this.handleTouchEnd),this.removeEventListener(this.pointerEventTarget,"touchcancel",this.handleTouchEnd),this.removeEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.removeEventListener(this.keyEventTarget,"keyup",this.handleKeyUp);for(const e of this.activeButtons)this.handleButtonUp(e);this.activeButtons.clear(),this.interactionsTouch.clear(),this.interactionMouse=void 0,this.pointerEventTarget=void 0}}isGameMode(){return this.gameMode}setGameMode(e){this.gameMode=e,this.onToggleGameMode()}setGameModeHotkeyEnabled(e){this.enableGamemodeHotkey=e}isGameModeHotkeyEnabled(){return this.enableGamemodeHotkey}enableKeyboardEvents(){return!0}onToggleGameMode(){}addEventListener(e,t,r,o){e.addEventListener(t,r,o)}removeEventListener(e,t,r,o){e.removeEventListener(t,r,o)}determineArea(e){return this.canvasDisplayService.isButtons(e)?2:this.canvasDisplayService.isSilkscreen(e)?1:0}handleButtonDown(e){this.activeButtons.has(e)||(this.activeButtons.add(e),this.emulationService.handleButtonDown(e),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}handleButtonUp(e){void 0===e||!this.activeButtons.has(e)||(this.activeButtons.delete(e),this.emulationService.handleButtonUp(e),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}isToggleGameMode(e){return this.isGameModeHotkeyEnabled()&&("Shift"===e.key&&e.ctrlKey||"Control"===e.key&&e.shiftKey)}isGameModeActive(e){return!this.gameMode&&e.ctrlKey||this.gameMode&&!e.ctrlKey}buttonFromEvent(e){switch(e.key){case"PageUp":return 4;case"PageDown":return 5}if(this.isGameModeActive(e))switch(e.key){case"w":case"i":case"ArrowUp":return 4;case"s":case"k":case"ArrowDown":return 5;case"a":case"j":case"y":case"z":case"ArrowLeft":return 0;case"q":case"u":case"x":return 1;case"e":case"o":case"c":return 2;case"d":case"l":case"v":case"ArrowRight":return 3}}keyCodeFromEvent(e){if(!this.isGameModeActive(e)){if(1===e.key.length&&e.key.charCodeAt(0)<=255)return e.key.charCodeAt(0);switch(e.key){case"ArrowLeft":return 28;case"ArrowRight":return 29;case"ArrowUp":return 30;case"ArrowDown":return 31;case"Backspace":return 8;case"Tab":return 9;case"Enter":return 10;default:return}}}}class fd extends U6{constructor(e,t,r,o,i){super(e,t),this.modalWatcher=r,this.ngZone=o,this.app=i}enableKeyboardEvents(){return!this.modalWatcher.isModalActive()}onToggleGameMode(){this.app.tick()}addEventListener(e,t,r,o){this.ngZone.runOutsideAngular(()=>e.addEventListener(t,r,o))}}function jT(n){return/\.(prc|pdb|pqa)$/i.test(n)}fd.\u0275fac=function(e){return new(e||fd)(ee(rs),ee(Sl),ee(nc),ee(dt),ee(Nl))},fd.\u0275prov=ht({token:fd,factory:fd.\u0275fac,providedIn:"root"});class W6{constructor(e,t,r,o){this.cloudpilotService=e,this.alertController=t,this.snapshotService=r,this.files=o,this.filesSuccess=[],this.filesFail=[],this.filesRequireReset=[],this.sizeInstalledSinceLastsnapshot=0,this.skipErrors=!1,this.installedDatabases=new Map}run(){var e=this;return(0,ae.Z)(function*(){for(const t of e.files){let r;try{r=yield t.getContent()}catch(o){console.warn(o),e.filesFail.push(t.name);continue}if(/\.zip/i.test(t.name)&&r.length<33554432)try{yield e.installZip(t)}catch{e.filesFail.push(t.name)}else jT(t.name)?yield e.installOne(t.name,r):e.filesFail.push(t.name)}return[e.filesSuccess,e.filesRequireReset,e.filesFail]})()}installOne(e,t){var r=this;return(0,ae.Z)(function*(){const i=yield(yield r.cloudpilotService.cloudpilot).installDb(t);switch(i){case 2:r.filesRequireReset.push(e),r.filesSuccess.push(e),r.sizeInstalledSinceLastsnapshot+=t.length;break;case 1:r.filesSuccess.push(e),r.sizeInstalledSinceLastsnapshot+=t.length;break;default:r.filesFail.push(e),yield r.reportError(e,i)}if(2===i||1===i)try{const s=function z6(n){if(n.length<32)throw new Error("not a database");let e;for(e=0;e<32&&0!==n[e];e++);if(e>31)throw new Error("not a database");return new TextDecoder("latin1",{fatal:!1}).decode(n.subarray(0,e))}(t);r.installedDatabases.has(s)&&(yield r.errorDialog("Duplicate item",`${e} overwrites previously installed database ${r.installedDatabases.get(s)}`)),r.installedDatabases.set(s,e)}catch{}r.sizeInstalledSinceLastsnapshot>4194304&&(yield r.snapshotService.triggerSnapshot(),r.sizeInstalledSinceLastsnapshot=0),yield new Promise(s=>setTimeout(s,0))})()}installZip(e){var t=this;return(0,ae.Z)(function*(){yield(yield t.cloudpilotService.cloudpilot).withZipfileWalker(yield e.getContent(),function(){var o=(0,ae.Z)(function*(i){let s=0;for(;0===i.GetState();){const a=i.GetCurrentEntryName().replace(/^.*\//,"");if(!jT(i.GetCurrentEntryName())){i.Next();continue}const u=i.GetCurrentEntryContent();u?(yield t.installOne(a,u),s++):t.filesFail.push(a),i.Next()}if(0===s)throw new Error("no installable files in archive")});return function(i){return o.apply(this,arguments)}}())})()}reportError(e,t){return this.errorDialog("Item failed to install",`Could not install ${e}: ${function G6(n){switch(n){case-6:return"database exists on device and could not be overwritten";case-4:return"database file is corrupt";case-3:return"database is open on device";case-5:return"internal PalmOS error";case-2:return"not enough memory on device";default:return"unknown reason"}}(t)}.`)}errorDialog(e,t){return this.skipErrors?Promise.resolve():new Promise(r=>{this.alertController.create({header:e,backdropDismiss:!1,cssClass:"alert-checkbox-no-border installation-error",message:t,buttons:[{text:"Continue",role:"cancel",handler:()=>{this.alertController.dismiss(),r()}}],inputs:[{type:"checkbox",label:"Skip any remaining errors",cssClass:"alert-checkbox",checked:!1,handler:i=>this.skipErrors=!0===i.checked}]}).then(i=>i.present())})}}class pd{constructor(e,t,r,o,i,s){this.cloudpilotService=e,this.emulationService=t,this.loadingController=r,this.snapshotService=o,this.alertService=i,this.alertController=s}installFiles(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.loadingController.create({message:"Installing..."});yield r.present(),yield t.emulationService.pause(),yield t.snapshotService.waitForPendingSnapshot();let o=[],i=[],s=[];try{[o,s,i]=yield new W6(t.cloudpilotService,t.alertController,t.snapshotService,e).run()}finally{r.dismiss(),t.emulationService.resume()}const a=[t.messageSucces(o),t.messageFailed(i),t.messageRequireReset(s)].filter(f=>!!f).join("<br/><br/>");let u;u=0===i.length?"Installation successful":0===o.length?"Installation failed":"Installation errors",t.alertService.message(u,a,s.length>0?{"Reset now":()=>t.emulationService.reset()}:void 0)})()}messageSucces(e){switch(e.length){case 0:return;case 1:return`Installation of ${e[0]} successful.`;default:return`Installation of ${e.length} items successful.`}}messageFailed(e){return e.length>0?`Installation of  ${y0(e)} failed.`:void 0}messageRequireReset(e){return e.length>0?`${y0(e)} require a device reset.`:void 0}}pd.\u0275fac=function(e){return new(e||pd)(ee(ns),ee(rs),ee(Wl),ee(Va),ee(Kr),ee(Fc))},pd.\u0275prov=ht({token:pd,factory:pd.\u0275fac,providedIn:"root"});class ac{constructor(){this.onDragOver=e=>{e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.currentClient?"copy":"none")},this.onDrop=e=>{e.preventDefault(),this.currentClient&&this.currentClient.handleDragDropEvent(e)},document.addEventListener("drop",this.onDrop),document.addEventListener("dragover",this.onDragOver)}registerClient(e){this.currentClient=e}unregisterClient(e){e===this.currentClient&&(this.currentClient=void 0)}}ac.\u0275fac=function(e){return new(e||ac)},ac.\u0275prov=ht({token:ac,factory:ac.\u0275fac,providedIn:"root"});const Z6=["canvas"];function q6(n,e){if(1&n){const t=kr();se(0,"ion-button",5),st("click",function(){return Pt(t),Ot(Vt().navigation.lock())}),ct(1,"ion-icon",10),J()}}function K6(n,e){if(1&n){const t=kr();se(0,"ion-button",5),st("click",function(){return Pt(t),Ot(Vt().navigation.unlock())}),ct(1,"ion-icon",11),J()}}function Y6(n,e){if(1&n){const t=kr();se(0,"ion-button",5),st("click",function(){return Pt(t),Ot(Vt().showGameModeHint())}),ct(1,"ion-icon",12),J()}}function X6(n,e){if(1&n){const t=kr();se(0,"ion-button",5),st("click",function(){return Pt(t),Ot(Vt().showProxyConnectedHint())}),ct(1,"ion-icon",13),J()}}function Q6(n,e){if(1&n){const t=kr();se(0,"ion-button",5),st("click",function(){return Pt(t),Ot(Vt().showSlowdowndHint())}),ct(1,"ion-icon",14),J()}}function J6(n,e){if(1&n){const t=kr();se(0,"div",15),qe(1," The device was reset forcefully. How do you want to boot? "),se(2,"ion-button",16),st("click",function(){return Pt(t),Ot(Vt().bootAfterForcefulReset())}),qe(3,"Normal boot"),J(),se(4,"ion-button",16),st("click",function(){return Pt(t),Ot(Vt().bootAfterForcefulResetNoExtensions())}),qe(5,"No extensions"),J(),se(6,"ion-button",16),st("click",function(){return Pt(t),Ot(Vt().bootAfterForcefulResetHardReset())}),qe(7,"Hard reset"),J()()}}function e5(n,e){1&n&&(se(0,"div",15)(1,"div"),qe(2,"No session selected"),J()())}class cp{constructor(e,t,r,o,i,s,a,u,f,m,_,k,M,Y,Se,Ge,Ke,bt){var Le=this;this.emulationService=e,this.emulationState=t,this.storageService=r,this.eventHandlingService=o,this.canvasDisplayService=i,this.kvsService=s,this.popoverController=a,this.modalController=u,this.alertService=f,this.fileService=m,this.snapshotService=_,this.installlationService=k,this.proxyService=M,this.navigation=Y,this.linkApi=Se,this.performanceWatchdogService=Ge,this.cloudpilotService=Ke,this.dragDropService=bt,this.ionViewDidEnter=()=>this.mutex.runExclusive((0,ae.Z)(function*(){yield Le.emulationService.bootstrapComplete(),Le.boostrapComplete=!0;const $t=Le.emulationState.getCurrentSession();$t&&!$t.wasResetForcefully&&(yield Le.launchEmulator()),Le.linkApi.installation.requestEvent.addHandler(Le.handleLinkApiInstallationRequest),Le.handleLinkApiInstallationRequest(),Le.dragDropService.registerClient(Le)})),this.ionViewWillLeave=()=>this.mutex.runExclusive(()=>{this.dragDropService.unregisterClient(this),this.linkApi.installation.requestEvent.removeHandler(this.handleLinkApiInstallationRequest),this.emulationService.isRunning()&&(this.autoLockUI=!1),this.emulationService.pause(),this.emulationService.newFrameEvent.removeHandler(this.onNewFrame),this.snapshotService.snapshotEvent.removeHandler(this.onSnapshot),this.kvsService.updateEvent.removeHandler(this.onKvsUpdate),this.eventHandlingService.release(),this.navigation.unlock()}),this.onKvsUpdate=()=>{this.kvsService.kvs.showStatistics?this.canvasDisplayService.updateStatistics():this.canvasDisplayService.clearStatistics()},this.onSnapshot=$t=>{this.kvsService.kvs.showStatistics&&this.canvasDisplayService.updateStatistics($t,this.emulationService.getStatistics())},this.onNewFrame=$t=>{this.canvasDisplayService.updateEmulationCanvas($t)},this.handleLinkApiInstallationRequest=()=>{if(!this.linkApi.installation.hasPendingRequest())return;const $t=this.linkApi.installation.receivePendingUrl();$t&&(this.installFileDisabled?this.alertService.message("Unable to install","Installation is currently not possible.",{},"Cancel"):this.emulationState.getCurrentSession()&&this.emulationService.isRunning()?this.alertService.message("Installation request",`Do you want to install<br>${$t} ?`,{OK:()=>this.fileService.openUrl($t,Wn=>this.installlationService.installFiles([Wn]))},"Cancel"):this.alertService.message("Unable to install",`Please start a session in order to install ${$t} .`,{},"Cancel"))},this.boostrapComplete=!1,this.autoLockUI=!0,this.mutex=new La}get cssWidth(){return this.canvasDisplayService.width/devicePixelRatio+"px"}get cssHeight(){return this.canvasDisplayService.height/devicePixelRatio+"px"}openContextMenu(e){var t=this;return(0,ae.Z)(function*(){(yield t.popoverController.create({component:lp,event:e,componentProps:{showHelp:()=>t.showHelp()},arrow:!1})).present()})()}handleDragDropEvent(e){this.installFileDisabled||this.fileService.openFromDrop(e,this.installlationService.installFiles.bind(this.installlationService))}installFiles(){this.fileService.openFiles(this.installlationService.installFiles.bind(this.installlationService))}showHelp(){var e=this;return(0,ae.Z)(function*(){yield(yield e.modalController.create({component:Cl,componentProps:{url:"assets/doc/emulation.md"}})).present()})()}showGameModeHint(){var e=this;return(0,ae.Z)(function*(){yield e.alertService.message("Game mode","\n                The keyboard is in game mode and controls the hardware buttons.\n                Press ctrl-shift in order to exit game mode.\n                <br/><br/>\n                Check the help page for a description of the different keyboard mappings.\n            ",{Help:()=>e.showHelp()})})()}showProxyConnectedHint(){var e=this;return(0,ae.Z)(function*(){yield e.alertService.message("Proxy connected","Network proxy connected.")})()}showSlowdowndHint(){var e=this;return(0,ae.Z)(function*(){yield e.alertService.message("Speed throttled","\n                Your host is too slow to run your virtual device at full speed, and the clock\n                has been throttled in order to compensate. You can avoid this by reducing the speed of your\n                virtual device in the session settings.\n        ")})()}get installFileDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get title(){return this.emulationState.getCurrentSession()?.name||""}bootAfterForcefulReset(){var e=this;return(0,ae.Z)(function*(){yield e.clearForcefulReset(),yield e.launchEmulator()})()}bootAfterForcefulResetNoExtensions(){var e=this;return(0,ae.Z)(function*(){yield e.clearForcefulReset(),(yield e.cloudpilotService.cloudpilot).resetNoExtensions(),yield e.launchEmulator()})()}bootAfterForcefulResetHardReset(){var e=this;return(0,ae.Z)(function*(){yield e.clearForcefulReset(),(yield e.cloudpilotService.cloudpilot).resetHard(),yield e.launchEmulator()})()}cancelIfEmulationActive(e){this.emulationState.getCurrentSession()&&!this.emulationState.getCurrentSession()?.wasResetForcefully&&e.cancelable&&e.preventDefault()}clearForcefulReset(){var e=this;return(0,ae.Z)(function*(){const t=e.emulationState.getCurrentSession();t&&(yield e.storageService.updateSessionPartial(t.id,{wasResetForcefully:!1}))})()}launchEmulator(){var e=this;return(0,ae.Z)(function*(){const t=e.emulationState.getCurrentSession();t&&(yield e.kvsService.mutex.runExclusive(()=>e.kvsService.kvs.autoLockUI&&e.autoLockUI&&e.navigation.lock()),e.canvasDisplayService.initialize(e.canvasRef.nativeElement,t).then(()=>{e.onKvsUpdate(),e.kvsService.updateEvent.addHandler(e.onKvsUpdate)}),e.onNewFrame(e.emulationService.getCanvas()),e.emulationService.newFrameEvent.addHandler(e.onNewFrame),e.snapshotService.snapshotEvent.addHandler(e.onSnapshot),yield e.emulationService.resume(),e.eventHandlingService.bind(e.canvasRef.nativeElement))})()}}function k0(n,e,t){return()=>{const r=t();r!==e&&(n.markForCheck(),e=r)}}function HT(n,e){let t=n,r=1;for(;e(t);)t=`${n} (${r++})`;return t}cp.\u0275fac=function(e){return new(e||cp)(C(rs),C(bs),C(Xn),C(fd),C(Sl),C(ni),C(Oc),C(vs),C(Kr),C(Os),C(Va),C(pd),C(rc),C(Gc),C(Bl),C(zc),C(ns),C(ac))},cp.\u0275cmp=ut({type:cp,selectors:[["app-emulation"]],viewQuery:function(e,t){if(1&e&&Mu(Z6,5),2&e){let r;xs(r=As())&&(t.canvasRef=r.first)}},decls:21,vars:19,consts:[["slot","end"],[3,"disabled","click"],["name","download-outline"],[3,"click",4,"ngIf"],["slot","start"],[3,"click"],["name","ellipsis-vertical-outline"],[1,"container","running-session",3,"touchstart","touchmove"],["canvas",""],["class","container no-session",4,"ngIf"],["name","lock-open-outline"],["name","lock-closed-outline"],["name","game-controller-outline"],["name","swap-vertical-outline"],["name","speedometer-outline"],[1,"container","no-session"],["type","button","color","light",3,"click"]],template:function(e,t){if(1&e&&(se(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),qe(3),J(),se(4,"ion-buttons",0)(5,"ion-button",1),st("click",function(){return t.installFiles()}),ct(6,"ion-icon",2),J(),nn(7,q6,2,0,"ion-button",3),nn(8,K6,2,0,"ion-button",3),J(),se(9,"ion-buttons",4)(10,"ion-button",5),st("click",function(o){return t.openContextMenu(o)}),ct(11,"ion-icon",6),J(),nn(12,Y6,2,0,"ion-button",3),nn(13,X6,2,0,"ion-button",3),nn(14,Q6,2,0,"ion-button",3),J()()(),se(15,"ion-content")(16,"div",7),st("touchstart",function(o){return t.cancelIfEmulationActive(o)})("touchmove",function(o){return t.cancelIfEmulationActive(o)}),ct(17,"canvas",null,8),J(),nn(19,J6,8,0,"div",9),nn(20,e5,3,0,"div",9),J()),2&e){let r,o;Ye(3),Ms(t.title),Ye(2),rt("disabled",t.installFileDisabled),Ye(2),rt("ngIf",!t.navigation.isLocked()),Ye(1),rt("ngIf",t.navigation.isLocked()),Ye(4),rt("ngIf",t.eventHandlingService.isGameMode()),Ye(1),rt("ngIf",t.proxyService.isConnected()),Ye(1),rt("ngIf",t.performanceWatchdogService.isSlowdownDetected()),Ye(1),rl("locked",t.navigation.isLocked()),Ye(1),Qd("display",!t.emulationState.getCurrentSession()||null!=(r=t.emulationState.getCurrentSession())&&r.wasResetForcefully?"none":void 0),Ye(1),Qd("width",t.cssWidth)("height",t.cssHeight)("display",t.emulationState.getCurrentSession()?"block":"none"),Ye(2),rt("ngIf",null!=(o=t.emulationState.getCurrentSession())&&o.wasResetForcefully?"none":void 0),Ye(1),rt("ngIf",!t.emulationState.getCurrentSession()&&t.boostrapComplete)}},dependencies:[ui,Ki,Yi,Xi,Qi,fi,es,ts],styles:["ion-title[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:3px}.container.no-session[_ngcontent-%COMP%]{text-align:center;padding:1em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:1em;width:100%;max-width:20em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-of-type{margin-top:3em}ion-content.locked[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-bottom:var(--ion-safe-area-bottom, 0)}.container.running-session[_ngcontent-%COMP%]{background:radial-gradient(circle,#ccc 0%,#eee 100%)}@media (prefers-color-scheme: dark){.container.running-session[_ngcontent-%COMP%]{background:none}}canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}"]});class up{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onDelete=()=>{},this.onReset=()=>{}}}up.\u0275fac=function(e){return new(e||up)},up.\u0275cmp=ut({type:up,selectors:[["app-session-context-menu"]],inputs:{onEdit:"onEdit",onSave:"onSave",onDelete:"onDelete",onReset:"onReset"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,t){1&e&&(se(0,"ion-list")(1,"ion-item",0),st("click",function(){return t.onEdit()}),ct(2,"ion-icon",1),qe(3," Edit "),J(),se(4,"ion-item",0),st("click",function(){return t.onSave()}),ct(5,"ion-icon",2),qe(6," Save "),J(),se(7,"ion-item",0),st("click",function(){return t.onReset()}),ct(8,"ion-icon",3),qe(9," Reset "),J(),se(10,"ion-item",4),st("click",function(){return t.onDelete()}),ct(11,"ion-icon",5),qe(12," Delete "),J()()),2&e&&(Ye(1),rt("detail",!1),Ye(3),rt("detail",!1),Ye(3),rt("detail",!1),Ye(3),rt("detail",!1))},dependencies:[fi,ti,Oa]});const n5=["slidingItem"];function r5(n,e){if(1&n&&(se(0,"span"),qe(1),J()),2&n){const t=Vt();Ye(1),Oi(", OS ",t.decodeVersion(null==t.session?null:t.session.osVersion),"")}}class dp{constructor(e){this.popoverController=e,this.selected=!1,this.touched=!1,this.delete=new Mn,this.resetSession=new Mn,this.edit=new Mn,this.save=new Mn,this.selectItem=new Mn,this.interaction=new Mn}get device(){return this.session?yT(this.session.device):""}onContextmenu(e){var t=this;return(0,ae.Z)(function*(){e.stopPropagation(),e.preventDefault(),t.interaction.emit(),(yield t.popoverController.create({component:up,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>t.edit.emit(),onSave:()=>t.save.emit(),onDelete:()=>t.delete.emit(),onReset:()=>t.resetSession.emit()}})).present()})()}decodeVersion(e){if(void 0===e)return"";const t=function t5(n){return{major:n>>>24&255,minor:n>>>20&15,fix:n>>>16&15,stage:n>>>12&15,build:4095&n}}(e);return`${t.major}.${t.minor}`}get color(){return this.selected?"primary":this.touched?"light":void 0}}function o5(n,e){1&n&&(se(0,"div",10),ct(1,"ion-spinner"),J())}function i5(n,e){1&n&&(se(0,"div",11)(1,"div",12),qe(2," No sessions. Select the \u201e+\u201c icon in the upper right corner in order to import a ROM file or a session image. "),ct(3,"br")(4,"br"),qe(5," You can find a collection of compatible ROMs on "),se(6,"a",13),qe(7,"PalmDB"),J(),qe(8,". "),J()())}function s5(n,e){if(1&n){const t=kr();se(0,"app-session-item",15),st("delete",function(){const i=Pt(t).$implicit;return Ot(Vt(2).deleteSession(i))})("selectItem",function(){const i=Pt(t).$implicit;return Ot(Vt(2).launchSession(i))})("edit",function(){const i=Pt(t).$implicit;return Ot(Vt(2).editSession(i))})("save",function(){const i=Pt(t).$implicit;return Ot(Vt(2).saveSession(i))})("resetSession",function(){const i=Pt(t).$implicit;return Ot(Vt(2).resetSession(i))})("interaction",function(){const i=Pt(t).$implicit;return Ot(Vt(2).lastSessionTouched=i.id)}),J()}if(2&n){const t=e.$implicit,r=Vt(2);rt("session",t)("selected",r.currentSessionId===t.id)("touched",t.id===r.lastSessionTouched)}}function a5(n,e){if(1&n&&(se(0,"ion-list"),nn(1,s5,1,3,"app-session-item",14),J()),2&n){const t=Vt();Ye(1),rt("ngForOf",t.sessions)("ngForTrackBy",t.trackSessionBy)}}dp.\u0275fac=function(e){return new(e||dp)(C(Oc))},dp.\u0275cmp=ut({type:dp,selectors:[["app-session-item"]],viewQuery:function(e,t){if(1&e&&Mu(n5,5),2&e){let r;xs(r=As())&&(t.slidingItem=r.first)}},inputs:{session:"session",selected:"selected",touched:"touched"},outputs:{delete:"delete",resetSession:"resetSession",edit:"edit",save:"save",selectItem:"selectItem",interaction:"interaction"},decls:19,vars:7,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","refresh-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],[4,"ngIf"]],template:function(e,t){if(1&e){const r=kr();se(0,"ion-item-sliding",0,1),st("contextmenu",function(i){return t.onContextmenu(i)})("ionDrag",function(){return t.interaction.emit()}),se(2,"ion-item-options",2)(3,"ion-item-option",3),st("click",function(){return Pt(r),Ts(1).close(),Ot(t.edit.emit(t.session))}),ct(4,"ion-icon",4),J(),se(5,"ion-item-option",5),st("click",function(){return Pt(r),Ts(1).close(),Ot(t.save.emit(t.session))}),ct(6,"ion-icon",6),J()(),se(7,"ion-item-options",7)(8,"ion-item-option",8),st("click",function(){return Pt(r),Ts(1).close(),Ot(t.resetSession.emit(t.session))}),ct(9,"ion-icon",9),J(),se(10,"ion-item-option",10),st("click",function(){return Pt(r),Ts(1).close(),Ot(t.delete.emit(t.session))}),ct(11,"ion-icon",11),J()(),se(12,"ion-item",12),st("click",function(){return t.selectItem.emit()}),se(13,"ion-label")(14,"h2"),qe(15),J(),se(16,"p"),qe(17),nn(18,r5,2,1,"span",13),J()()()()}2&e&&(Ye(12),rt("color",t.color),Ye(1),rl("in-item-color",t.selected),Ye(2),Ms(null==t.session?null:t.session.name),Ye(2),ef("",t.device,", ",null==t.session?null:t.session.ram,"MB RAM"),Ye(1),rt("ngIf",null==t.session?null:t.session.osVersion))},dependencies:[ui,fi,ti,xm,Am,Pm,Ji],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}"],changeDetection:0});class Ha{constructor(e,t,r,o,i,s,a,u,f,m,_,k,M){this.sessionService=e,this.fileService=t,this.alertController=r,this.alertService=o,this.emulationService=i,this.emulationState=s,this.storageService=a,this.modalController=u,this.linkApi=f,this.router=m,this.cloudpilotService=_,this.dragDropService=k,this.cd=M,this.handleLinkApiImportRequest=()=>{if(!this.linkApi.import.hasPendingRequest())return;const Y=this.linkApi.import.receivePendingUrl();Y&&this.alertService.message("Import request",`Do you want to import<br>${Y} ?`,{OK:()=>this.fileService.openUrl(Y,this.processFile.bind(this))},"Cancel")},this.lastSessionTouched=-1,this.checkSessions=k0(M,[],()=>this.sessionService.getSessions())}ngDoCheck(){this.checkSessions()}ionViewDidEnter(){this.linkApi.import.requestEvent.addHandler(this.handleLinkApiImportRequest),this.handleLinkApiImportRequest(),this.dragDropService.registerClient(this)}ionViewWillLeave(){this.dragDropService.unregisterClient(this),this.linkApi.import.requestEvent.removeHandler(this.handleLinkApiImportRequest)}get sessions(){return this.sessionService.getSessions().sort((e,t)=>e.name.localeCompare(t.name))}deleteSession(e){var t=this;return(0,ae.Z)(function*(){yield(yield t.alertController.create({header:"Warning",message:`Deleting the session '${e.name}' will remove all associated data. This cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:()=>t.sessionService.deleteSession(e)}],backdropDismiss:!1})).present()})()}editSession(e){var t=this;return(0,ae.Z)(function*(){const r={...e};(yield t.editSettings(e))&&!PT()(e,r)&&(yield t.sessionService.updateSession(e))})()}importSession(){this.fileService.openFile(this.processFile.bind(this))}saveSession(e){return this.fileService.saveSession(e)}trackSessionBy(e,t){return t.id}launchSession(e){var t=this;return(0,ae.Z)(function*(){t.lastSessionTouched=e.id,t.currentSessionOverride=e.id,t.cd.markForCheck();const r=yield t.emulationService.switchSession(e.id);t.currentSessionOverride=void 0,t.cd.markForCheck(),r&&t.router.navigateByUrl("/tab/emulation")})()}resetSession(e){var t=this;return(0,ae.Z)(function*(){const r=e.id===t.emulationState.getCurrentSession()?.id;r&&(yield t.emulationService.stop()),yield t.storageService.deleteStateForSession(e),yield t.storageService.updateSessionPartial(e.id,{wasResetForcefully:!0}),r&&(yield t.emulationService.switchSession(e.id)),yield(yield t.alertController.create({header:"Done",message:`Session ${e.name} has been reset.`,buttons:[{text:"Close",role:"cancel"}],backdropDismiss:!1})).present()})()}get currentSessionId(){return this.currentSessionOverride??this.emulationState.getCurrentSession()?.id}showHelp(){var e=this;return(0,ae.Z)(function*(){yield(yield e.modalController.create({component:Cl,componentProps:{url:"assets/doc/sessions.md"}})).present()})()}handleDragDropEvent(e){this.fileService.openFromDrop(e,this.handleDropFiles.bind(this))}handleDropFiles(e){if(0!==e.length){if(e.length>1)return void this.alertService.errorMessage("Drop a single ROM or session image in order to create a new session.");this.processFile(e[0])}}processFile(e){var t=this;return(0,ae.Z)(function*(){if(!/\.(img|rom|bin)$/i.test(e.name))return void t.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .img and .rom.");let r;try{r=yield e.getContent()}catch(i){return console.warn(i),void(yield t.alertService.errorMessage(`Unable to open ${e.name}.`))}const o=(yield t.cloudpilotService.cloudpilot).deserializeSessionImage(r);if(o){const i={name:t.disambiguateSessionName(o.metadata?.name??e.name),hotsyncName:o.metadata?.hotsyncName,device:o.deviceId,dontManageHotsyncName:o.metadata?.dontManageHotsyncName,speed:o.metadata?.speed,deviceOrientation:o.metadata?.deviceOrientation};if(yield t.editSettings(i)){const s=yield t.sessionService.addSessionFromImage(o,i.name,i);t.lastSessionTouched=s.id}}else{const i=(yield t.cloudpilotService.cloudpilot).getRomInfo(r);if(!i)return void t.alertService.errorMessage("Not a valid session file or ROM image.");if(0===i.supportedDevices.length)return void t.alertService.errorMessage("No supported device for this ROM.");const s={name:t.disambiguateSessionName(e.name),hotsyncName:"",device:i.supportedDevices[0]};if(yield t.editSettings(s,i.supportedDevices)){const a=yield t.sessionService.addSessionFromRom(r,s.name,s.device,s);t.lastSessionTouched=a.id}}})()}editSettings(e,t=[e.device]){return new Promise(r=>{let o;this.modalController.create({component:ud,backdropDismiss:!1,componentProps:{session:e,availableDevices:t,onSave:()=>{o.dismiss(),r(!0)},onCancel:()=>{o.dismiss(),r(!1)}}}).then(i=>{o=i,o.present()})})}disambiguateSessionName(e){const t=this.sessionService.getSessions();return HT(e,r=>t.some(o=>o.name===r))}}function l5(n,e){1&n&&(se(0,"ion-item",8)(1,"ion-label"),qe(2,"Clipboard integration"),J(),ct(3,"ion-toggle",17),J())}function c5(n,e){if(1&n){const t=kr();se(0,"ion-item",8)(1,"ion-label",18),qe(2,"Proxy server"),J(),se(3,"div",19),ct(4,"ion-input",20),se(5,"ion-button",21),st("click",function(o){Pt(t);const i=Vt();return o.preventDefault(),o.stopPropagation(),Ot(i.testProxyConnection())})("touchstart",function(o){Pt(t);const i=Vt();return o.preventDefault(),o.stopPropagation(),Ot(i.testProxyConnection())}),qe(6," Test "),J()()()}if(2&n){const t=Vt();Ye(5),rt("disabled",!t.proxyServerValid)}}Ha.\u0275fac=function(e){return new(e||Ha)(C(Ua),C(Os),C(Fc),C(Kr),C(rs),C(bs),C(Xn),C(vs),C(Bl),C(jo),C(ns),C(ac),C(Tt))},Ha.\u0275cmp=ut({type:Ha,selectors:[["app-sessions"]],decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],["href","https://palmdb.net/app/palm-roms-complete","target","_blank","rel","external"],[3,"session","selected","touched","delete","selectItem","edit","save","resetSession","interaction",4,"ngFor","ngForOf","ngForTrackBy"],[3,"session","selected","touched","delete","selectItem","edit","save","resetSession","interaction"]],template:function(e,t){1&e&&(se(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),qe(3,"Sessions"),J(),se(4,"ion-buttons",0)(5,"ion-button",1),st("click",function(){return t.importSession()}),ct(6,"ion-icon",2),J()(),se(7,"ion-buttons",3)(8,"ion-button",1),st("click",function(){return t.showHelp()}),ct(9,"ion-icon",4),J(),ct(10,"app-pwa-prompt"),J()()(),se(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),qe(15,"Sessions"),J()()(),nn(16,o5,2,0,"div",7),nn(17,i5,9,0,"div",8),nn(18,a5,2,2,"ion-list",9),J()),2&e&&(Ye(16),rt("ngIf",t.sessionService.isLoading()),Ye(1),rt("ngIf",!t.sessionService.isLoading()&&0===t.sessions.length),Ye(1),rt("ngIf",!t.sessionService.isLoading()&&t.sessions.length>0))},dependencies:[Ec,ui,Ki,Yi,Xi,Qi,fi,Oa,Zf,es,ts,ic,dp],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"]}),H([go()],Ha.prototype,"deleteSession",null),H([go()],Ha.prototype,"editSession",null),H([go()],Ha.prototype,"saveSession",null),H([go()],Ha.prototype,"launchSession",null),H([go()],Ha.prototype,"resetSession",null);class fp{constructor(e,t,r,o,i){this.modalController=e,this.kvsService=t,this.clipboardService=r,this.alertService=o,this.proxyService=i,this.onAudioOnStartChange=s=>{this.kvsService.kvs.enableAudioOnFirstInteraction=s,s&&this.alertService.message("Enable audio on start","\n            Audio will automatically turn on after the first interaction with the application\n            (i.e. touch, click or keyboard event). This option will only take effect the next time\n            Coudpilot is restarts.\n        ")},this.connectionTestInProgress=!1}ngOnInit(){this.createFormGroup()}showHelp(){var e=this;return(0,ae.Z)(function*(){yield(yield e.modalController.create({component:Cl,componentProps:{url:"assets/doc/settings.md"}})).present()})()}ionViewWillEnter(){this.mutexReleasePromise=this.kvsService.mutex.acquire()}ionViewWillLeave(){var e=this;return(0,ae.Z)(function*(){e.formGroup.get("networkRedirection")?.value&&!e.formGroup.get("proxyServer")?.valid&&(e.alertService.message("Invalid proxy server","The proxy server you specified is invalid. Network redirection will be disabled."),e.formGroup.get("networkRedirection").setValue(!1)),e.formGroup.get("networkRedirection")?.value||e.formGroup.get("proxyServer")?.setValue(e.kvsService.kvs.proxyServer),yield e.kvsService.set({volume:e.formGroup.get("volume").value,showStatistics:e.formGroup.get("showStatistics").value,clipboardIntegration:e.formGroup.get("clipboardIntegration")?.value,networkRedirection:e.formGroup.get("networkRedirection")?.value,proxyServer:e.formGroup.get("proxyServer")?.value,runHidden:e.formGroup.get("runHidden")?.value,autoLockUI:e.formGroup.get("autoLockUI")?.value,enableRemoteInstall:e.formGroup.get("enableRemoteInstall")?.value,enableAudioOnFirstInteraction:e.formGroup.get("audioOnStart")?.value}),e.mutexReleasePromise&&(yield e.mutexReleasePromise)()})()}testProxyConnection(){var e=this;return(0,ae.Z)(function*(){if(!e.connectionTestInProgress){e.connectionTestInProgress=!0;try{switch((yield e.proxyService.handshake(e.formGroup.get("proxyServer")?.value,0)).status){case"failed":e.alertService.errorMessage("Unable to connect to proxy");break;case"version_mismatch":e.alertService.proxyVersionMismatchError();break;default:e.alertService.message("Success","Connection to proxy successful.")}}finally{e.connectionTestInProgress=!1}}})()}get showProxyServer(){return this.formGroup.get("networkRedirection")?.value}get proxyServerValid(){const e=this.formGroup.get("proxyServer");return!(!e?.value||!e?.valid)}createFormGroup(){this.formGroup=new Jh({volume:new di(this.kvsService.kvs.volume),showStatistics:new di(this.kvsService.kvs.showStatistics),runHidden:new di(this.kvsService.kvs.runHidden),clipboardIntegration:new di(this.kvsService.kvs.clipboardIntegration),networkRedirection:new di(this.kvsService.kvs.networkRedirection),proxyServer:new di(this.kvsService.kvs.proxyServer,{validators:[LH]}),autoLockUI:new di(this.kvsService.kvs.autoLockUI),enableRemoteInstall:new di(this.kvsService.kvs.enableRemoteInstall),audioOnStart:new di(this.kvsService.kvs.enableAudioOnFirstInteraction)}),this.formGroup.get("audioOnStart")?.valueChanges.subscribe(this.onAudioOnStartChange)}}fp.\u0275fac=function(e){return new(e||fp)(C(vs),C(ni),C(Bc),C(Kr),C(rc))},fp.\u0275cmp=ut({type:fp,selectors:[["app-settings"]],decls:51,vars:4,consts:[[3,"translucent"],["slot","secondary"],[3,"click"],["name","help-outline"],["collapse","condense"],["size","large"],[1,"settings-container"],[1,"settings-form",3,"formGroup"],["lines","none"],["min","0","max","1","step","0.1","formControlName","volume"],["formControlName","audioOnStart"],["formControlName","runHidden"],["lines","none",4,"ngIf"],["formControlName","networkRedirection"],["formControlName","autoLockUI"],["formControlName","showStatistics"],["formControlName","enableRemoteInstall"],["formControlName","clipboardIntegration"],["position","stacked"],[1,"server-container"],["placeholder","Proxy server host or URL","formControlName","proxyServer"],[3,"disabled","click","touchstart"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"Settings"),J(),se(4,"ion-buttons",1)(5,"ion-button",2),st("click",function(){return t.showHelp()}),ct(6,"ion-icon",3),J(),ct(7,"app-pwa-prompt"),J()()(),se(8,"ion-content")(9,"ion-header",4)(10,"ion-toolbar")(11,"ion-title",5),qe(12,"Settings"),J()()(),se(13,"div",6)(14,"form",7)(15,"h1"),qe(16,"Emulation"),J(),se(17,"ion-item",8)(18,"ion-label"),qe(19,"Volume"),J(),ct(20,"ion-range",9),J(),se(21,"ion-item",8)(22,"ion-label"),qe(23,"Enable audio on start"),J(),ct(24,"ion-toggle",10),J(),se(25,"ion-item",8)(26,"ion-label"),qe(27,"Run when hidden"),J(),ct(28,"ion-toggle",11),J(),se(29,"h1"),qe(30,"Host integration"),J(),nn(31,l5,4,0,"ion-item",12),se(32,"ion-item",8)(33,"ion-label"),qe(34,"Network redirection"),J(),ct(35,"ion-toggle",13),J(),nn(36,c5,7,1,"ion-item",12),se(37,"h1"),qe(38,"UI"),J(),se(39,"ion-item",8)(40,"ion-label"),qe(41,"Auto-lock UI"),J(),ct(42,"ion-toggle",14),J(),se(43,"ion-item",8)(44,"ion-label"),qe(45,"Show statistics"),J(),ct(46,"ion-toggle",15),J(),se(47,"ion-item",8)(48,"ion-label"),qe(49,"Open from remote sources"),J(),ct(50,"ion-toggle",16),J()()()()),2&e&&(rt("translucent",!0),Ye(14),rt("formGroup",t.formGroup),Ye(17),rt("ngIf",t.clipboardService.isSupported()),Ye(5),rt("ngIf",t.showProxyServer))},dependencies:[ui,fl,ul,dl,Ki,Yi,Xi,Qi,fi,_l,ti,Ji,Zv,es,qf,ts,Xu,Wf,yl,ic,sa,Pa],styles:[".server-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.server-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex-grow:1}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.settings-form[_ngcontent-%COMP%]{max-width:40em;flex-basis:100%}ion-item[_ngcontent-%COMP%]{--background: none}"]});class Wc{transform(e){return void 0!==e?`${Math.round(e/1024/1024)} MB`:""}}function u5(n,e){1&n&&(se(0,"div",14)(1,"b"),qe(2,"WARNING:"),J(),qe(3," This image cannot be used as a memory stick image."),J())}Wc.\u0275fac=function(e){return new(e||Wc)},Wc.\u0275pipe=co({name:"cardSize",type:Wc,pure:!0});class hd{constructor(e){this.storageCardService=e,this.validateNameUnique=t=>this.storageCardService.getAllCards().some(r=>r.name===t.value&&r.name!==this.card?.name)?{name:"already taken"}:null,this.formGroup=new Gl({name:new _s("",{nonNullable:!0,validators:[wf.required,this.validateNameUnique]}),size:new _s({value:"dummy",disabled:!0}),checkAutomatically:new _s(!0,{nonNullable:!0})}),this.newCard=!1,this.cardSupportLevel=2,this.onCancel=()=>{},this.onSave=()=>{}}ngOnInit(){this.card&&(this.formGroup.controls.name.setValue(this.card.name),this.formGroup.controls.checkAutomatically.setValue(!this.card.dontFsckAutomatically))}save(){!this.formGroup.valid||!this.formGroup.value.name||!this.card||this.onSave({name:this.formGroup.value.name,dontFsckAutomatically:!this.formGroup.value.checkAutomatically})}onEnter(){this.save()}get memoryStickSupported(){return 2===this.cardSupportLevel}}function d5(n,e){if(1&n&&(se(0,"ion-select-option",13),qe(1),ka(2,"cardSize"),J()),2&n){const t=e.$implicit,r=Vt();rt("value",t),Ye(1),Oi("",Ta(2,2,r.sizeBytes(t))," ")}}hd.\u0275fac=function(e){return new(e||hd)(C(ca))},hd.\u0275cmp=ut({type:hd,selectors:[["app-edit-card-dialog"]],inputs:{card:"card",newCard:"newCard",cardSupportLevel:"cardSupportLevel",onCancel:"onCancel",onSave:"onSave"},decls:28,vars:7,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],["value","dummy"],["formControlName","checkAutomatically"],["class","sd-only-warning",4,"ngIf"],[1,"sd-only-warning"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3),J(),se(4,"ion-buttons",1)(5,"ion-button",2),st("click",function(){return t.save()}),qe(6,"Save"),J()(),se(7,"ion-buttons",3)(8,"ion-button",4),st("click",function(){return t.onCancel()}),qe(9,"Cancel"),J()()()(),se(10,"ion-content",5)(11,"form",6),st("keydown.enter",function(){return t.onEnter()}),se(12,"ion-item",7)(13,"ion-label",8),qe(14,"Card name"),J(),ct(15,"ion-input",9),J(),se(16,"ion-item",7)(17,"ion-label",8),qe(18,"Card size"),J(),se(19,"ion-select",10)(20,"ion-select-option",11),qe(21),ka(22,"cardSize"),J()()(),se(23,"ion-item",7)(24,"ion-label"),qe(25,"Check for errors automatically"),J(),ct(26,"ion-toggle",12),J()(),nn(27,u5,4,0,"div",13),J()),2&e&&(Ye(3),Ms(t.newCard?"New memory card":"Edit memory card"),Ye(2),rt("disabled",t.formGroup.invalid),Ye(6),rt("formGroup",t.formGroup),Ye(10),Oi("",Ta(22,5,null==t.card?null:t.card.size)," "),Ye(6),rt("ngIf",!t.memoryStickSupported))},dependencies:[ui,Ki,Yi,Xi,Qi,_l,ti,Ji,Rm,Fm,es,qf,ts,Xu,Wf,yl,fl,ul,dl,sa,Pa,Wc],styles:[".sd-only-warning[_ngcontent-%COMP%]{padding:2em 1em}"]});const f5=[Eo.mb4,Eo.mb8,Eo.mb16,Eo.mb32,Eo.mb64,Eo.mb128];class pp{constructor(e){this.storageCardService=e,this.validateNameUnique=t=>this.storageCardService.getAllCards().some(r=>r.name===t.value)?{name:"already taken"}:null,this.onCreate=()=>{},this.onCancel=()=>{},this.formGroup=new Gl({name:new _s("",{nonNullable:!0,validators:[wf.required,this.validateNameUnique]}),size:new _s(Eo.mb32,{nonNullable:!0}),checkAutomatically:new _s(!0,{nonNullable:!0})})}get sizes(){return f5}sizeBytes(e){return function qH(n){switch(n){case Eo.mb4:return 4046848;case Eo.mb8:return 8110080;case Eo.mb16:return 16220160;case Eo.mb32:return 32473088;case Eo.mb64:return 64978944;case Eo.mb128:return 129990656;default:throw new Error(`bad card size ${n}`)}}(e)}create(){!this.formGroup.valid||void 0===this.formGroup.value.name||void 0===this.formGroup.value.size||this.onCreate(this.formGroup.value.name,this.formGroup.value.size,!this.formGroup.value.checkAutomatically)}onEnter(){this.create()}}pp.\u0275fac=function(e){return new(e||pp)(C(ca))},pp.\u0275cmp=ut({type:pp,selectors:[["app-new-card-dialog"]],inputs:{onCreate:"onCreate",onCancel:"onCancel"},decls:25,vars:3,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],[3,"value",4,"ngFor","ngForOf"],["formControlName","checkAutomatically"],[3,"value"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"New memory card"),J(),se(4,"ion-buttons",1)(5,"ion-button",2),st("click",function(){return t.create()}),qe(6,"Create"),J()(),se(7,"ion-buttons",3)(8,"ion-button",4),st("click",function(){return t.onCancel()}),qe(9,"Cancel"),J()()()(),se(10,"ion-content",5)(11,"form",6),st("keydown.enter",function(){return t.onEnter()}),se(12,"ion-item",7)(13,"ion-label",8),qe(14,"Card name"),J(),ct(15,"ion-input",9),J(),se(16,"ion-item",7)(17,"ion-label",8),qe(18,"Card size"),J(),se(19,"ion-select",10),nn(20,d5,3,4,"ion-select-option",11),J()(),se(21,"ion-item",7)(22,"ion-label"),qe(23,"Check for errors automatically"),J(),ct(24,"ion-toggle",12),J()()()),2&e&&(Ye(5),rt("disabled",t.formGroup.invalid),Ye(6),rt("formGroup",t.formGroup),Ye(9),rt("ngForOf",t.sizes))},dependencies:[Ec,Ki,Yi,Xi,Qi,_l,ti,Ji,Rm,Fm,es,qf,ts,Xu,Wf,yl,fl,ul,dl,sa,Pa,Wc]});class hp{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCheck=()=>{},this.onDelete=()=>{}}}hp.\u0275fac=function(e){return new(e||hp)},hp.\u0275cmp=ut({type:hp,selectors:[["app-storage-context-menu-card"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCheck:"onCheck",onDelete:"onDelete"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","medkit-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,t){1&e&&(se(0,"ion-list")(1,"ion-item",0),st("click",function(){return t.onEdit()}),ct(2,"ion-icon",1),qe(3," Edit "),J(),se(4,"ion-item",0),st("click",function(){return t.onSave()}),ct(5,"ion-icon",2),qe(6," Save "),J(),se(7,"ion-item",0),st("click",function(){return t.onCheck()}),ct(8,"ion-icon",3),qe(9," Check "),J(),se(10,"ion-item",4),st("click",function(){return t.onDelete()}),ct(11,"ion-icon",5),qe(12," Delete "),J()()),2&e&&(Ye(1),rt("detail",!1),Ye(3),rt("detail",!1),Ye(3),rt("detail",!1),Ye(3),rt("detail",!1))},dependencies:[fi,ti,Oa]});class mp{constructor(e,t){this.storageCardService=e,this.popoverController=t,this.touched=!1,this.interaction=new Mn,this.selectCard=new Mn,this.edit=new Mn,this.check=new Mn,this.delete=new Mn,this.save=new Mn}onContextmenu(e){var t=this;return(0,ae.Z)(function*(){e.stopPropagation(),e.preventDefault(),t.interaction.emit(),(yield t.popoverController.create({component:hp,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>t.edit.emit(t.card),onSave:()=>t.save.emit(t.card),onCheck:()=>t.check.emit(),onDelete:()=>t.delete.emit()}})).present()})()}get color(){if(this.touched)return"light"}get status(){if(!this.card)return"";const e=this.storageCardService.mountedInSession(this.card?.id);if(e)return`attached to '${e.name}'`;if(this.card.dontFsckAutomatically)return"not checked automatically";switch(this.card.status){case Dr.dirty:return"needs check";case Dr.clean:return"no errors";case Dr.unformatted:return"no filesystem";case Dr.unfixable:return"uncorrectable errors";default:throw new Error("unreachable")}}}function p5(n,e){1&n&&(se(0,"div",10),ct(1,"ion-spinner"),J())}function h5(n,e){1&n&&(se(0,"div",11)(1,"div",12),qe(2," No memory cards. Select the \u201e+\u201c icon in the upper right corner in order to create a new card. "),J()())}function m5(n,e){if(1&n){const t=kr();se(0,"app-storage-card",14),st("delete",function(){const i=Pt(t).$implicit;return Ot(Vt(2).deleteCard(i))})("selectCard",function(){const i=Pt(t).$implicit;return Ot(Vt(2).selectCard(i))})("edit",function(){const i=Pt(t).$implicit;return Ot(Vt(2).editCard(i))})("check",function(){const i=Pt(t).$implicit;return Ot(Vt(2).checkCard(i))})("interaction",function(){const i=Pt(t).$implicit;return Ot(Vt(2).lastCardTouched=i.id)})("save",function(){const i=Pt(t).$implicit;return Ot(Vt(2).saveCard(i))}),J()}if(2&n){const t=e.$implicit,r=Vt(2);rt("card",t)("touched",t.id===r.lastCardTouched)}}function g5(n,e){if(1&n&&(se(0,"ion-list"),nn(1,m5,1,2,"app-storage-card",13),J()),2&n){const t=Vt();Ye(1),rt("ngForOf",t.cards)("ngForTrackBy",t.trackCardBy)}}mp.\u0275fac=function(e){return new(e||mp)(C(ca),C(Oc))},mp.\u0275cmp=ut({type:mp,selectors:[["app-storage-card"]],inputs:{card:"card",touched:"touched"},outputs:{interaction:"interaction",selectCard:"selectCard",edit:"edit",check:"check",delete:"delete",save:"save"},decls:19,vars:6,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","medkit-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"]],template:function(e,t){if(1&e){const r=kr();se(0,"ion-item-sliding",0,1),st("contextmenu",function(i){return t.onContextmenu(i)})("ionDrag",function(){return t.interaction.emit(t.card)}),se(2,"ion-item-options",2)(3,"ion-item-option",3),st("click",function(){return Pt(r),Ts(1).close(),Ot(t.edit.emit(t.card))}),ct(4,"ion-icon",4),J(),se(5,"ion-item-option",5),st("click",function(){return Pt(r),Ts(1).close(),Ot(t.save.emit(t.card))}),ct(6,"ion-icon",6),J()(),se(7,"ion-item-options",7)(8,"ion-item-option",8),st("click",function(){return Pt(r),Ts(1).close(),Ot(t.check.emit(t.card))}),ct(9,"ion-icon",9),J(),se(10,"ion-item-option",10),st("click",function(){return Pt(r),Ts(1).close(),Ot(t.delete.emit(t.card))}),ct(11,"ion-icon",11),J()(),se(12,"ion-item",12),st("click",function(){return t.selectCard.emit(),t.interaction.emit()}),se(13,"ion-label")(14,"h2"),qe(15),J(),se(16,"p"),qe(17),ka(18,"cardSize"),J()()()()}2&e&&(Ye(12),rt("color",t.color),Ye(3),Ms(null==t.card?null:t.card.name),Ye(2),ef("",Ta(18,4,null==t.card?null:t.card.size),", ",t.status,""))},dependencies:[fi,ti,xm,Am,Pm,Ji,Wc],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}"],changeDetection:0});class ua{constructor(e,t,r,o,i,s,a,u,f){var m=this;this.actionSheetController=e,this.storageCardService=t,this.modalController=r,this.alertController=o,this.cloudpilotService=i,this.alertService=s,this.errorService=a,this.fileService=u,this.handleCardImport=function(){var _=(0,ae.Z)(function*(k){const M=yield m.cloudpilotService.cloudpilot;let Y;try{Y=yield k.getContent()}catch(Ke){return console.warn(Ke),void(yield m.alertService.errorMessage(`Unable to open ${k.name}".`))}const Se=M.getCardSupportLevel(Y.length);if(0===Se)return void m.alertService.errorMessage("This is not a supported card image.");const Ge=yield new Promise(function(){var Ke=(0,ae.Z)(function*(bt){const Le=yield m.modalController.create({component:hd,backdropDismiss:!1,componentProps:{card:{name:m.disambiguateName(k.name),size:Y.length},cardSupportLevel:Se,newCard:!0,onCancel:()=>{Le.dismiss(),bt(void 0)},onSave:$t=>{bt($t),Le.dismiss()}}});yield Le.present()});return function(bt){return Ke.apply(this,arguments)}}());Ge&&(yield m.storageCardService.createCardFromImage(Ge.name,Y,!!Ge.dontFsckAutomatically))});return function(k){return _.apply(this,arguments)}}(),this.lastCardTouched=void 0,this.onMountForBrowse=()=>{},this.checkCards=k0(f,[],()=>this.storageCardService.getAllCards())}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkCards()}get cards(){return this.storageCardService.getAllCards()}handleDragDropEvent(e){this.fileService.openFromDrop(e,this.handleFilesFromDrop.bind(this))}addCardImage(){var e=this;return(0,ae.Z)(function*(){(yield e.actionSheetController.create({header:"What type of image do you want to create?",buttons:[{text:"Empty image",handler:()=>e.createNewCardImage()},{text:"Import an existing image",handler:()=>e.importCardImage()},{text:"Cancel"}]})).present()})()}showHelp(){}selectCard(e){var t=this;return(0,ae.Z)(function*(){(yield t.storageCardService.browseCard(e))&&t.onMountForBrowse(e)})()}editCard(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.cloudpilotService.cloudpilot,o=yield t.modalController.create({component:hd,backdropDismiss:!1,componentProps:{card:e,cardSupportLevel:r.getCardSupportLevel(e.size),onCancel:()=>o.dismiss(),onSave:(i=(0,ae.Z)(function*(s){yield t.storageCardService.updateCard(e.id,s),yield o.dismiss()}),function(a){return i.apply(this,arguments)})}});var i;yield o.present()})()}saveCard(e){return this.storageCardService.saveCard(e.id,`${Wm(e.name.replace(/\.img$/,""))}.img`)}checkCard(e){return this.storageCardService.checkCard(e)}deleteCard(e){var t=this;return(0,ae.Z)(function*(){var o;yield(yield t.alertController.create({header:"Warning",backdropDismiss:!1,message:`Deleting the card '${e.name}' cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:(o=(0,ae.Z)(function*(){try{yield t.storageCardService.deleteCard(e.id)}catch(i){t.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}}),function(){return o.apply(this,arguments)})}]})).present()})()}trackCardBy(e,t){return t.id}handleFilesFromDrop(e){if(0!==e.length){if(e.length>1)return void this.alertService.errorMessage("Drop a single file system image in order to import it as a new memory card.");this.handleCardImport(e[0])}}importCardImage(){this.fileService.openFile(this.handleCardImport)}createNewCardImage(){var e=this;return(0,ae.Z)(function*(){const t=yield e.modalController.create({component:pp,backdropDismiss:!1,componentProps:{onCancel:()=>t.dismiss(),onCreate:(r=(0,ae.Z)(function*(o,i,s){yield e.storageCardService.createEmptyCard(o,i,s),yield t.dismiss()}),function(i,s,a){return r.apply(this,arguments)})}});var r;yield t.present()})()}disambiguateName(e){const t=this.storageCardService.getAllCards();return HT(e,r=>t.some(o=>o.name===r))}}function y5(n,e){1&n&&ct(0,"ion-icon",8)}function _5(n,e){1&n&&ct(0,"ion-icon",9)}function v5(n,e){1&n&&ct(0,"ion-icon",10)}function b5(n,e){if(1&n){const t=kr();se(0,"ion-item",2),st("click",function(){const i=Pt(t).index;return Ot(Vt(2).onSelect(i))}),Kd(1,3),nn(2,y5,1,0,"ion-icon",4),nn(3,_5,1,0,"ion-icon",5),nn(4,v5,1,0,"ion-icon",6),Yd(),se(5,"div",7),qe(6),J()()}if(2&n){const t=e.$implicit,r=e.index,o=Vt(2);rt("detail",!1)("lines",r===o.entries.length-1?"none":"full"),Ye(1),rt("ngSwitch",o.entries.length),Ye(1),rt("ngSwitchCase",r+1),Ye(1),rt("ngSwitchCase",r+2),Ye(3),Ms(t)}}function C5(n,e){if(1&n&&(se(0,"ion-list"),nn(1,b5,7,6,"ion-item",1),J()),2&n){const t=Vt();Ye(1),rt("ngForOf",t.entries)}}ua.\u0275fac=function(e){return new(e||ua)(C(Qf),C(ca),C(vs),C(Fc),C(ns),C(Kr),C(zs),C(Os),C(Tt))},ua.\u0275cmp=ut({type:ua,selectors:[["app-subpage-cards"]],inputs:{onMountForBrowse:"onMountForBrowse",selfReference:"selfReference"},decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],[3,"card","touched","delete","selectCard","edit","check","interaction","save",4,"ngFor","ngForOf","ngForTrackBy"],[3,"card","touched","delete","selectCard","edit","check","interaction","save"]],template:function(e,t){1&e&&(se(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),qe(3,"Memory cards"),J(),se(4,"ion-buttons",0)(5,"ion-button",1),st("click",function(){return t.addCardImage()}),ct(6,"ion-icon",2),J()(),se(7,"ion-buttons",3)(8,"ion-button",1),st("click",function(){return t.showHelp()}),ct(9,"ion-icon",4),J(),ct(10,"app-pwa-prompt"),J()()(),se(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),qe(15,"Memory cards"),J()()(),nn(16,p5,2,0,"div",7),nn(17,h5,3,0,"div",8),nn(18,g5,2,2,"ion-list",9),J()),2&e&&(Ye(16),rt("ngIf",t.storageCardService.isLoading()),Ye(1),rt("ngIf",!t.storageCardService.isLoading()&&0===t.cards.length),Ye(1),rt("ngIf",!t.storageCardService.isLoading()&&t.cards.length>0))},dependencies:[Ec,ui,Ki,Yi,Xi,Qi,fi,Oa,Zf,es,ts,ic,mp],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}),H([go()],ua.prototype,"addCardImage",null),H([go()],ua.prototype,"selectCard",null),H([go()],ua.prototype,"editCard",null),H([go()],ua.prototype,"saveCard",null),H([go()],ua.prototype,"checkCard",null),H([go()],ua.prototype,"deleteCard",null);class gp{constructor(){this.onSelect=()=>{}}}gp.\u0275fac=function(e){return new(e||gp)},gp.\u0275cmp=ut({type:gp,selectors:[["app-context-menu-breadcrumb"]],inputs:{entries:"entries"},decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"detail","lines","click"],[3,"ngSwitch"],["name","list-outline","slot","end",4,"ngSwitchCase"],["name","file-tray-outline","slot","end",4,"ngSwitchCase"],["name","folder-outline","slot","end",4,"ngSwitchDefault"],[1,"text-wrapper"],["name","list-outline","slot","end"],["name","file-tray-outline","slot","end"],["name","folder-outline","slot","end"]],template:function(e,t){1&e&&nn(0,C5,2,1,"ion-list",0),2&e&&rt("ngIf",t.entries)},dependencies:[Ec,ui,$h,QE,JE,fi,ti,Oa],styles:[".text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]});class yp{constructor(e){this.vfsService=e,this.onStartSelection=()=>{},this.onAddFiles=()=>{},this.onCreateDirectry=()=>{},this.onExtractZipfile=()=>{},this.onPaste=()=>{},this.onHelp=()=>{},this.emptyDirectory=!1}}yp.\u0275fac=function(e){return new(e||yp)(C(Zs))},yp.\u0275cmp=ut({type:yp,selectors:[["app-context-menu-directory"]],inputs:{onStartSelection:"onStartSelection",onAddFiles:"onAddFiles",onCreateDirectry:"onCreateDirectry",onExtractZipfile:"onExtractZipfile",onPaste:"onPaste",onHelp:"onHelp",emptyDirectory:"emptyDirectory"},decls:19,vars:8,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","checkmark-circle-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","document-outline","slot","end"],["name","folder-outline","slot","end"],["name","download-outline","slot","end"],["name","clipboard-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(e,t){1&e&&(se(0,"ion-list")(1,"ion-item",0),st("click",function(){return t.onStartSelection()}),ct(2,"ion-icon",1),qe(3," Start selection "),J(),se(4,"ion-item",2),st("click",function(){return t.onAddFiles()}),ct(5,"ion-icon",3),qe(6," Add files "),J(),se(7,"ion-item",2),st("click",function(){return t.onCreateDirectry()}),ct(8,"ion-icon",4),qe(9," Add directory "),J(),se(10,"ion-item",2),st("click",function(){return t.onExtractZipfile()}),ct(11,"ion-icon",5),qe(12," Extract zip "),J(),se(13,"ion-item",0),st("click",function(){return t.onPaste()}),ct(14,"ion-icon",6),qe(15," Paste "),J(),se(16,"ion-item",7),st("click",function(){return t.onHelp()}),ct(17,"ion-icon",8),qe(18," Help "),J()()),2&e&&(Ye(1),rt("detail",!1)("disabled",t.emptyDirectory),Ye(3),rt("detail",!1),Ye(3),rt("detail",!1),Ye(3),rt("detail",!1),Ye(3),rt("detail",!1)("disabled",!t.vfsService.isClipboardPopulated()),Ye(3),rt("detail",!1))},dependencies:[fi,ti,Oa]});class Zc{constructor(e,t){this.modalController=e,this.vfsService=t,this.validateNameUnique=r=>this.entry&&this.vfsService.readdir(this.vfsService.dirname(this.entry.path)).some(o=>o.name.toLocaleLowerCase()===r.value.toLocaleLowerCase()&&o.name.toLocaleLowerCase()!==this.entry?.name?.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=r=>this.vfsService.isFilenameValid(r.value)?null:{name:"invalid file name"},this.onSave=()=>{},this.formGroup=new Gl({name:new _s("",{nonNullable:!0,validators:[wf.required,this.validateNameUnique,this.validateNameValid]}),attrReadonly:new _s(!1,{nonNullable:!0}),attrHidden:new _s(!1,{nonNullable:!0}),attrSystem:new _s(!1,{nonNullable:!0})})}ngOnInit(){this.entry&&(this.formGroup.controls.name.setValue(this.entry.name),this.formGroup.controls.attrHidden.setValue(this.entry.attributes.hidden),this.formGroup.controls.attrReadonly.setValue(this.entry.attributes.readonly),this.formGroup.controls.attrSystem.setValue(this.entry.attributes.system))}get subjectName(){return this.entry?.isDirectory?"Directory":"File"}onSaveClick(){var e=this;return(0,ae.Z)(function*(){yield e.save()})()}onCancelClick(){this.modalController.dismiss()}onEnter(){var e=this;return(0,ae.Z)(function*(){yield e.save()})()}save(){var e=this;return(0,ae.Z)(function*(){e.entry&&e.formGroup.valid&&(yield e.vfsService.updateFileEntry(e.entry.path,{name:e.formGroup.controls.name.value??"",attributes:{hidden:!!e.formGroup.controls.attrHidden.value,readonly:!!e.formGroup.controls.attrReadonly.value,system:!!e.formGroup.controls.attrSystem.value}}),e.onSave(),e.modalController.dismiss())})()}}Zc.\u0275fac=function(e){return new(e||Zc)(C(vs),C(Zs))},Zc.\u0275cmp=ut({type:Zc,selectors:[["app-edit-file-dialog"]],inputs:{entry:"entry"},decls:34,vars:5,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["formControlName","name",3,"placeholder"],["name","lock-closed-outline","size","small"],["formControlName","attrReadonly"],["name","eye-off-outline","size","small"],["formControlName","attrHidden"],["name","cog-outline","size","small"],["formControlName","attrSystem"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3),J(),se(4,"ion-buttons",1)(5,"ion-button",2),st("click",function(){return t.onSaveClick()}),qe(6,"Save"),J()(),se(7,"ion-buttons",3)(8,"ion-button",4),st("click",function(){return t.onCancelClick()}),qe(9,"Cancel"),J()()()(),se(10,"ion-content",5)(11,"form",6),st("keydown.enter",function(){return t.onEnter()}),se(12,"ion-item",7)(13,"ion-label",8),qe(14),J(),ct(15,"ion-input",9),J(),se(16,"ion-item",7)(17,"h2"),qe(18,"Attributes"),J()(),se(19,"ion-item",7)(20,"ion-label"),ct(21,"ion-icon",10),qe(22,"Readonly"),J(),ct(23,"ion-checkbox",11),J(),se(24,"ion-item",7)(25,"ion-label"),ct(26,"ion-icon",12),qe(27,"Hidden"),J(),ct(28,"ion-checkbox",13),J(),se(29,"ion-item",7)(30,"ion-label"),ct(31,"ion-icon",14),qe(32,"System"),J(),ct(33,"ion-checkbox",15),J()()()),2&e&&(Ye(3),Oi("Edit ",t.subjectName.toLowerCase(),""),Ye(2),rt("disabled",t.formGroup.invalid),Ye(6),rt("formGroup",t.formGroup),Ye(3),Oi("",t.subjectName," name"),Ye(1),ph("placeholder","Enter ",t.subjectName.toLowerCase()," name"))},dependencies:[Ki,Yi,yk,Xi,Qi,fi,_l,ti,Ji,es,ts,Xu,yl,fl,ul,dl,sa,Pa],styles:["ion-icon[_ngcontent-%COMP%]{margin-right:1em;position:relative;top:2px}"]}),H([go()],Zc.prototype,"onSaveClick",null),H([go()],Zc.prototype,"onEnter",null);class _p{constructor(e,t){this.el=e,this.zone=t;const r=e.nativeElement.querySelector("input");r?r.focus():this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}ngOnDestroy(){this.observer?.disconnect()}update(){const e=this.el.nativeElement.querySelector("input");e&&(setTimeout(()=>e.focus(),100),this.observer?.disconnect())}}_p.\u0275fac=function(e){return new(e||_p)(C(gt),C(dt))},_p.\u0275dir=xt({type:_p,selectors:[["","appAutofocus",""]]});class vp{constructor(e,t){this.vfsService=e,this.modalController=t,this.validateNameUnique=r=>this.parentPath&&this.vfsService.readdir(this.parentPath).some(o=>o.name.toLocaleLowerCase()===r.value.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=r=>this.vfsService.isFilenameValid(r.value)?null:{name:"invalid file name"},this.onCreate=()=>{},this.formGroup=new Gl({name:new _s("",{nonNullable:!0,validators:[wf.required,this.validateNameUnique,this.validateNameValid]})})}onCreateClick(){this.createDir()}onEnter(){this.createDir()}onCancelClick(){this.modalController.dismiss()}createDir(){this.formGroup.controls.name.valid&&(this.onCreate(this.formGroup.controls.name.value),this.modalController.dismiss())}}function GT(n){let e,t,r=!1;return o=>((!r||o!==e)&&(e=o,r=!0,t=n(o)),t)}vp.\u0275fac=function(e){return new(e||vp)(C(Zs),C(vs))},vp.\u0275cmp=ut({type:vp,selectors:[["app-new-directory-dialog"]],inputs:{parentPath:"parentPath",onCreate:"onCreate"},decls:16,vars:2,consts:[["translucent",""],["slot","primary"],["tabindex","-1",3,"disabled","click"],["slot","secondary"],["tabindex","-1",3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter directory name","formControlName","name","appAutofocus","","tabindex","1"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"Create directory"),J(),se(4,"ion-buttons",1)(5,"ion-button",2),st("click",function(){return t.onCreateClick()}),qe(6,"Create"),J()(),se(7,"ion-buttons",3)(8,"ion-button",4),st("click",function(){return t.onCancelClick()}),qe(9,"Cancel"),J()()()(),se(10,"ion-content",5)(11,"form",6),st("keydown.enter",function(){return t.onEnter()}),se(12,"ion-item",7)(13,"ion-label",8),qe(14,"Directory name"),J(),ct(15,"ion-input",9),J()()()),2&e&&(Ye(5),rt("disabled",t.formGroup.invalid),Ye(6),rt("formGroup",t.formGroup))},dependencies:[Ki,Yi,Xi,Qi,_l,ti,Ji,es,ts,yl,fl,ul,dl,sa,Pa,_p]});class bp{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCopy=()=>{},this.onCut=()=>{},this.onDelete=()=>{}}}bp.\u0275fac=function(e){return new(e||bp)},bp.\u0275cmp=ut({type:bp,selectors:[["app-context-menu-file-entry"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCopy:"onCopy",onCut:"onCut",onDelete:"onDelete"},decls:16,vars:5,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","copy-outline","slot","end"],["name","cut-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,t){1&e&&(se(0,"ion-list")(1,"ion-item",0),st("click",function(){return t.onEdit()}),ct(2,"ion-icon",1),qe(3," Edit "),J(),se(4,"ion-item",0),st("click",function(){return t.onSave()}),ct(5,"ion-icon",2),qe(6," Save "),J(),se(7,"ion-item",0),st("click",function(){return t.onCopy()}),ct(8,"ion-icon",3),qe(9," Copy "),J(),se(10,"ion-item",0),st("click",function(){return t.onCut()}),ct(11,"ion-icon",4),qe(12," Cut "),J(),se(13,"ion-item",5),st("click",function(){return t.onDelete()}),ct(14,"ion-icon",6),qe(15," Delete "),J()()),2&e&&(Ye(1),rt("detail",!1),Ye(3),rt("detail",!1),Ye(3),rt("detail",!1),Ye(3),rt("detail",!1),Ye(3),rt("detail",!1))},dependencies:[fi,ti,Oa]});class md{transform(e){return void 0===e?"":e<1024?`${e} bytes`:e<1048576?`${(e/1024).toFixed(1)} kB`:`${(e/1024/1024).toFixed(1)} MB`}}md.\u0275fac=function(e){return new(e||md)},md.\u0275pipe=co({name:"fileSize",type:md,pure:!0});const w5=["slidingItem"];function S5(n,e){1&n&&ct(0,"ion-icon",23)}function E5(n,e){1&n&&ct(0,"ion-icon",24)}function D5(n,e){1&n&&ct(0,"ion-icon",25)}function I5(n,e){1&n&&ct(0,"ion-icon",26)}function k5(n,e){1&n&&ct(0,"ion-icon",27)}function T5(n,e){1&n&&ct(0,"ion-icon",28)}function M5(n,e){1&n&&ct(0,"ion-icon",29)}function x5(n,e){1&n&&ct(0,"ion-icon",30)}function A5(n,e){1&n&&ct(0,"ion-icon",31)}function P5(n,e){if(1&n&&(Kd(0),qe(1),ka(2,"fileSize"),Yd()),2&n){const t=Vt();Ye(1),Oi(" - ",Ta(2,1,null==t.entry?null:t.entry.size)," ")}}class Cp{constructor(e,t,r){this.actionSheetController=e,this.popoverController=t,this.vfsService=r,this.touched=!1,this.selecting=!1,this.selected=!1,this.interaction=new Mn,this.selectEntry=new Mn,this.editEntry=new Mn,this.copyEntry=new Mn,this.cutEntry=new Mn,this.deleteEntry=new Mn,this.saveEntry=new Mn}ngOnChanges(e){e.selecting&&e.selecting.currentValue&&!e.selecting.previousValue&&this.slidingItem?.close()}onContextmenu(e){var t=this;return(0,ae.Z)(function*(){e.stopPropagation(),e.preventDefault(),t.interaction.emit(),(yield t.popoverController.create({component:bp,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>t.editEntry.emit(t.entry),onSave:()=>t.saveEntry.emit(t.entry),onCopy:()=>t.copyEntry.emit(t.entry),onCut:()=>t.cutEntry.emit(t.entry),onDelete:()=>t.deleteEntry.emit(t.entry)}})).present()})()}get color(){if(!this.selecting&&this.touched||this.selecting&&this.selected)return"light"}get markedForCut(){return!!this.entry&&"cut"===this.vfsService.isEntryInClipboard(this.entry)}get markedForCopy(){return!!this.entry&&"copy"===this.vfsService.isEntryInClipboard(this.entry)}cutOrCopyEntry(){var e=this;return(0,ae.Z)(function*(){const t=e.entry?.isDirectory?"directory":"file";(yield e.actionSheetController.create({header:"Do you want to cut or copy?",buttons:[{text:`Copy ${t}`,handler:()=>e.copyEntry.emit(e.entry)},{text:`Cut ${t}`,handler:()=>e.cutEntry.emit(e.entry)},{text:"Cancel"}]})).present()})()}}function R5(n,e){if(1&n){const t=kr();se(0,"ion-toolbar")(1,"ion-title",5),st("click",function(o){return Pt(t),Ot(Vt().openBreadcrumbMenu(o))}),se(2,"div",6)(3,"div",7),qe(4),J(),ct(5,"div",8),J()(),se(6,"ion-buttons",9),ct(7,"ion-back-button"),J(),se(8,"ion-buttons",10)(9,"ion-button",11),st("click",function(o){return Pt(t),Ot(Vt().openContextMenu(o))}),ct(10,"ion-icon",12),J()()()}if(2&n){const t=Vt();Ye(1),rt("id",t.breadcrumbTriggerId),Ye(3),Ms(t.title)}}function F5(n,e){if(1&n){const t=kr();se(0,"ion-buttons",14)(1,"ion-button",11),st("click",function(){return Pt(t),Ot(Vt(2).onSelectAll())}),qe(2,"Select all"),J()()}}function O5(n,e){if(1&n){const t=kr();se(0,"ion-buttons",14)(1,"ion-button",11),st("click",function(){return Pt(t),Ot(Vt(2).selection.clear())}),qe(2,"Clear"),J()()}}function N5(n,e){if(1&n){const t=kr();se(0,"ion-toolbar")(1,"ion-title"),qe(2,"Selection"),J(),se(3,"ion-buttons",10)(4,"ion-button",11),st("click",function(){return Pt(t),Ot(Vt().onSelectionDone())}),qe(5),J()(),nn(6,F5,3,0,"ion-buttons",13),nn(7,O5,3,0,"ion-buttons",13),J()}if(2&n){const t=Vt();Ye(5),Ms(0===t.selection.size?"Cancel":"Done"),Ye(1),rt("ngIf",t.selection.size!==(null==t.entries?null:t.entries.length)),Ye(1),rt("ngIf",t.selection.size===(null==t.entries?null:t.entries.length))}}function L5(n,e){if(1&n&&(se(0,"div",15)(1,"div",16),qe(2),J()()),2&n){const t=Vt();Ye(2),Oi(" empty ",t.isRoot?"card":"directory"," ")}}function $5(n,e){if(1&n){const t=kr();se(0,"app-file-entry",17),st("selectEntry",function(){const i=Pt(t).$implicit;return Ot(Vt().onSelect(i))})("editEntry",function(){const i=Pt(t).$implicit;return Ot(Vt().onEditEntry(i))})("saveEntry",function(){const i=Pt(t).$implicit;return Ot(Vt().onSaveEntry(i))})("copyEntry",function(){const i=Pt(t).$implicit;return Ot(Vt().onCopyEntry(i))})("cutEntry",function(){const i=Pt(t).$implicit;return Ot(Vt().onCutEntry(i))})("deleteEntry",function(){const i=Pt(t).$implicit;return Ot(Vt().onDeleteEntry(i))})("interaction",function(){const i=Pt(t).$implicit;return Ot(Vt().lastEntryTouched=i.name)}),J()}if(2&n){const t=e.$implicit,r=Vt();rt("entry",t)("selecting","select"===r.mode)("selected",r.selection.has(t.name))("touched",t.name===r.lastEntryTouched)}}function B5(n,e){if(1&n&&(se(0,"p"),qe(1),ka(2,"fileSize"),ka(3,"fileSize"),J()),2&n){const t=Vt(2);Ye(1),ef(" ",Ta(2,2,t.bytesFree)," free, ",Ta(3,4,t.bytesTotal)," total ")}}function V5(n,e){if(1&n&&(se(0,"p"),qe(1),ka(2,"fileSize"),J()),2&n){const t=Vt(2);Ye(1),Fy(" ",Ta(2,3,t.bytesInFiles)," in ",t.fileCount," ",1===t.fileCount?"file":"files"," ")}}function U5(n,e){if(1&n&&(se(0,"ion-item",18)(1,"ion-label"),nn(2,B5,4,6,"p",0),nn(3,V5,3,5,"p",0),J()()),2&n){const t=Vt();Ye(2),rt("ngIf",t.isRoot),Ye(1),rt("ngIf",t.fileCount>0)}}function j5(n,e){return n.isDirectory&&!e.isDirectory?-1:!n.isDirectory&&e.isDirectory?1:n.name.localeCompare(e.name)}Cp.\u0275fac=function(e){return new(e||Cp)(C(Qf),C(Oc),C(Zs))},Cp.\u0275cmp=ut({type:Cp,selectors:[["app-file-entry"]],viewQuery:function(e,t){if(1&e&&Mu(w5,5),2&e){let r;xs(r=As())&&(t.slidingItem=r.first)}},inputs:{entry:"entry",touched:"touched",selecting:"selecting",selected:"selected"},outputs:{interaction:"interaction",selectEntry:"selectEntry",editEntry:"editEntry",copyEntry:"copyEntry",cutEntry:"cutEntry",deleteEntry:"deleteEntry",saveEntry:"saveEntry"},features:[No],decls:28,vars:19,consts:[[3,"disabled","contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","copy-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","detail","click"],["name","folder-outline","slot","start",4,"ngIf"],["name","document-outline","slot","start",4,"ngIf"],["class","attribute-icon","name","lock-closed-outline","size","small","slot","end",4,"ngIf"],["class","attribute-icon","name","eye-off-outline","size","small","slot","end",4,"ngIf"],["class","attribute-icon","name","cog-outline","size","small","slot","end",4,"ngIf"],["class","attribute-icon","name","clipboard-outline","size","small","slot","end",4,"ngIf"],["class","attribute-icon","name","cut-outline","size","small","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",4,"ngIf"],["name","radio-button-on-outline","slot","end",4,"ngIf"],[4,"ngIf"],["name","folder-outline","slot","start"],["name","document-outline","slot","start"],["name","lock-closed-outline","size","small","slot","end",1,"attribute-icon"],["name","eye-off-outline","size","small","slot","end",1,"attribute-icon"],["name","cog-outline","size","small","slot","end",1,"attribute-icon"],["name","clipboard-outline","size","small","slot","end",1,"attribute-icon"],["name","cut-outline","size","small","slot","end",1,"attribute-icon"],["name","radio-button-off-outline","slot","end"],["name","radio-button-on-outline","slot","end"]],template:function(e,t){if(1&e){const r=kr();se(0,"ion-item-sliding",0,1),st("contextmenu",function(i){return t.onContextmenu(i)})("ionDrag",function(){return t.interaction.emit(t.entry)}),se(2,"ion-item-options",2)(3,"ion-item-option",3),st("click",function(){return Pt(r),Ts(1).close(),Ot(t.editEntry.emit(t.entry))}),ct(4,"ion-icon",4),J(),se(5,"ion-item-option",5),st("click",function(){return Pt(r),Ts(1).close(),Ot(t.saveEntry.emit(t.entry))}),ct(6,"ion-icon",6),J()(),se(7,"ion-item-options",7)(8,"ion-item-option",8),st("click",function(){return Pt(r),Ts(1).close(),Ot(t.cutOrCopyEntry())}),ct(9,"ion-icon",9),J(),se(10,"ion-item-option",10),st("click",function(){return Pt(r),Ts(1).close(),Ot(t.deleteEntry.emit(t.entry))}),ct(11,"ion-icon",11),J()(),se(12,"ion-item",12),st("click",function(){return t.selectEntry.emit(),t.interaction.emit()}),nn(13,S5,1,0,"ion-icon",13),nn(14,E5,1,0,"ion-icon",14),nn(15,D5,1,0,"ion-icon",15),nn(16,I5,1,0,"ion-icon",16),nn(17,k5,1,0,"ion-icon",17),nn(18,T5,1,0,"ion-icon",18),nn(19,M5,1,0,"ion-icon",19),nn(20,x5,1,0,"ion-icon",20),nn(21,A5,1,0,"ion-icon",21),se(22,"ion-label")(23,"h2"),qe(24),J(),se(25,"p"),qe(26),nn(27,P5,3,3,"ng-container",22),J()()()()}2&e&&(rt("disabled",t.selecting),Ye(12),Qd("opacity",t.touched?1:.99999),rl("is-directory",null==t.entry?null:t.entry.isDirectory),rt("color",t.color)("detail",(null==t.entry?null:t.entry.isDirectory)&&!t.selecting),Ye(1),rt("ngIf",null==t.entry?null:t.entry.isDirectory),Ye(1),rt("ngIf",!(null!=t.entry&&t.entry.isDirectory)),Ye(1),rt("ngIf",null==t.entry||null==t.entry.attributes?null:t.entry.attributes.readonly),Ye(1),rt("ngIf",null==t.entry||null==t.entry.attributes?null:t.entry.attributes.hidden),Ye(1),rt("ngIf",null==t.entry||null==t.entry.attributes?null:t.entry.attributes.system),Ye(1),rt("ngIf",t.markedForCopy),Ye(1),rt("ngIf",t.markedForCut),Ye(1),rt("ngIf",t.selecting&&!t.selected),Ye(1),rt("ngIf",t.selecting&&t.selected),Ye(3),Ms(null==t.entry?null:t.entry.name),Ye(2),Oi(" ",null==t.entry?null:t.entry.lastModifiedLocalDate," "),Ye(1),rt("ngIf",!(null!=t.entry&&t.entry.isDirectory)))},dependencies:[ui,fi,ti,xm,Am,Pm,Ji,md],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-icon.attribute-icon[_ngcontent-%COMP%]{color:var(--ion-color-step-600);margin-left:.7em}ion-icon.attribute-icon[name=lock-closed-outline][_ngcontent-%COMP%]{position:relative;top:-2px}.ios[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]{color:rgba(var(--ion-text-color-rgb, 0, 0, 0),.4);margin-left:0}ion-icon.attribute-icon[_ngcontent-%COMP%]:last-of-type{margin-right:1.75em}.is-directory[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]:last-of-type{margin-right:.75em}"],changeDetection:0});let H5=0;class Ns{constructor(e,t,r,o,i,s,a,u){this.vfsService=e,this.popoverController=t,this.config=r,this.alertService=o,this.actionSheetController=i,this.modalController=s,this.fileService=a,this.cd=u,this.bytesInFilesMemoized=GT(f=>f?.reduce((m,_)=>m+(_.isDirectory?0:_.size),0)??0),this.fileCountMemoized=GT(f=>f?.filter(m=>!m.isDirectory)?.length??0),this.onNavigate=()=>{},this.onNavigateBreadcrumb=()=>{},this.lastEntryTouched=void 0,this.mode="browse",this.selection=new Set,this.breadcrumbTriggerId="breadcrumb-trigger-"+H5++,this.checkEntries=k0(u,void 0,()=>void 0!==this.path?e.readdir(this.path):void 0)}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkEntries()}handleDragDropEvent(e){this.fileService.openFromDrop(e,t=>this.vfsService.addFiles(t,this.path||""))}get title(){switch(this.path){case"/":return this.card?.name??"";case void 0:return"";default:{const e=this.vfsService.splitPath(this.path);return e[e.length-1]??""}}}get bytesFree(){return this.vfsService.getBytesFree()}get bytesTotal(){return this.vfsService.getBytesTotal()}get bytesInFiles(){return this.bytesInFilesMemoized(this.entries)}get isRoot(){return"/"===this.path}get fileCount(){return this.fileCountMemoized(this.entries)}get entries(){return void 0!==this.path?[...this.vfsService.readdir(this.path)].sort(j5):[]}trackEntryBy(e,t){return t.name}onSelect(e){"browse"===this.mode?e.isDirectory&&this.onNavigate(e.path):this.selection?.has(e.name)?this.selection.delete(e.name):this.selection.add(e.name)}onEditEntry(e){var t=this;return(0,ae.Z)(function*(){yield(yield t.modalController.create({component:Zc,backdropDismiss:!1,componentProps:{entry:e}})).present()})()}onSaveEntry(e){var t=this;return(0,ae.Z)(function*(){t.path&&(e.isDirectory?yield t.vfsService.archiveFiles([e],t.path):yield t.vfsService.saveFile(e))})()}onCopyEntry(e){this.path&&this.vfsService.copyToClipboard(this.path,[e.name],"copy")}onCutEntry(e){this.path&&this.vfsService.copyToClipboard(this.path,[e.name],"cut")}onDeleteEntry(e){var t=this;return(0,ae.Z)(function*(){e.isDirectory?yield t.vfsService.deleteRecursive([e]):yield t.vfsService.unlinkEntry(e)})()}onAddFiles(){this.fileService.openFiles(e=>this.vfsService.addFiles(e,this.path||"/"))}onCreateDirectory(){var e=this;return(0,ae.Z)(function*(){yield(yield e.modalController.create({component:vp,backdropDismiss:!1,componentProps:{parentPath:e.path,onCreate:r=>e.vfsService.mkdir(`${e.path}/${r}`)}})).present()})()}onExtractZipfile(){this.fileService.openFile(this.extractZipArchive.bind(this))}onPaste(){var e=this;return(0,ae.Z)(function*(){e.path&&(yield e.vfsService.paste(e.path))})()}onHelp(){this.alertService.message("Not implemented","Help: not implemented.")}onStartSelection(){0!==this.entries?.length&&(this.selection.clear(),this.mode="select",this.cd.markForCheck())}onSelectionDone(){var e=this;return(0,ae.Z)(function*(){if(!e.entries)return;const t=Array.from(e.selection),r=new Map(e.entries.map(a=>[a.name,a])),o=t.every(a=>!r.get(a)?.isDirectory),i=t.every(a=>r.get(a)?.isDirectory);let s=`${e.selection.size} items`;if(o&&(s=1===e.selection.size?"file":`${e.selection.size} files`),i&&(s=1===e.selection.size?"directory":`${e.selection.size} directories`),0!==e.selection.size){const a=yield e.actionSheetController.create({header:"What do you want to do?",buttons:[{text:`Copy ${s}`,handler:e.onCopySelection.bind(e)},{text:`Cut ${s}`,handler:e.onCutSelection.bind(e)},{text:`Save ${s} as zip`,handler:e.onSaveZip.bind(e)},{text:`Delete ${s}`,handler:e.onDeleteSelection.bind(e)},{text:"Cancel"}]});yield a.present(),yield a.onWillDismiss()}e.mode="browse",e.cd.markForCheck()})()}onSelectAll(){this.entries?.forEach(e=>this.selection.add(e.name))}onCopySelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"copy")}onCutSelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"cut")}onSaveZip(){var e=this;return(0,ae.Z)(function*(){const t=e.materializeSelection();!t||!e.path||(yield e.vfsService.archiveFiles(t,e.path))})()}onDeleteSelection(){var e=this;return(0,ae.Z)(function*(){const t=e.materializeSelection();!t||!e.path||(yield e.vfsService.deleteRecursive(t))})()}openBreadcrumbMenu(e){var t=this;return(0,ae.Z)(function*(){if(!t.card||!t.path)return;const r=[..."/"===t.path?[]:[...t.vfsService.splitPath(t.path).reverse().slice(1),t.card.name],"Memory cards"];(yield t.popoverController.create({component:gp,event:e,componentProps:{entries:r,onSelect:i=>t.onNavigateBreadcrumb(r.length-1-i)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===t.config.get("mode")?"center":"start",trigger:t.breadcrumbTriggerId})).present()})()}openContextMenu(e){var t=this;return(0,ae.Z)(function*(){(yield t.popoverController.create({component:yp,componentProps:{emptyDirectory:0===t.entries?.length,onStartSelection:t.onStartSelection.bind(t),onAddFiles:t.onAddFiles.bind(t),onCreateDirectry:t.onCreateDirectory.bind(t),onExtractZipfile:t.onExtractZipfile.bind(t),onPaste:t.onPaste.bind(t),onHelp:t.onHelp.bind(t)},event:e,dismissOnSelect:!0,arrow:!1})).present()})()}materializeSelection(){if(!this.path)return;const e=new Map(this.vfsService.readdir(this.path).map(t=>[t.name,t]));return Array.from(this.selection).map(t=>e.get(t)).filter(t=>!!t)}extractZipArchive(e){var t=this;return(0,ae.Z)(function*(){/\.zip$/.test(e.name)?t.vfsService.unpackArchive(yield e.getContent(),t.path||"/"):yield t.alertService.errorMessage("File does not have the correct extension. Only .zip files are supported")})()}}Ns.\u0275fac=function(e){return new(e||Ns)(C(Zs),C(Oc),C(Yv),C(Kr),C(Qf),C(vs),C(Os),C(Tt))},Ns.\u0275cmp=ut({type:Ns,selectors:[["app-subpage-directory"]],inputs:{card:"card",path:"path",selfReference:"selfReference",onNavigate:"onNavigate",onNavigateBreadcrumb:"onNavigateBreadcrumb"},decls:9,vars:6,consts:[[4,"ngIf"],[1,"container"],["class","placeholder-wrapper",4,"ngIf"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction",4,"ngFor","ngForOf","ngForTrackBy"],["class","metadata","lines","none",4,"ngIf"],[1,"breadcrumb",3,"id","click"],[1,"breadcrumb-container"],[1,"breadcrumb-current"],[1,"select-arrow"],["slot","start"],["slot","primary"],[3,"click"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["slot","secondary"],[1,"placeholder-wrapper"],[1,"placeholder"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction"],["lines","none",1,"metadata"]],template:function(e,t){1&e&&(se(0,"ion-header"),nn(1,R5,11,2,"ion-toolbar",0),nn(2,N5,8,3,"ion-toolbar",0),J(),se(3,"ion-content")(4,"div",1),nn(5,L5,3,1,"div",2),se(6,"ion-list"),nn(7,$5,1,4,"app-file-entry",3),nn(8,U5,4,2,"ion-item",4),J()()()),2&e&&(Ye(1),rt("ngIf","browse"===t.mode),Ye(1),rt("ngIf","select"===t.mode),Ye(3),rt("ngIf",0===(null==t.entries?null:t.entries.length)),Ye(2),rt("ngForOf",t.entries)("ngForTrackBy",t.trackEntryBy),Ye(1),rt("ngIf",t.isRoot||t.fileCount>0))},dependencies:[Ec,ui,gk,Ki,Yi,Xi,Qi,fi,ti,Ji,Oa,es,ts,Ak,Cp,md],styles:[".breadcrumb[_ngcontent-%COMP%]{cursor:pointer}.breadcrumb-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.ios[_ngcontent-%COMP%]   .breadcrumb-container[_ngcontent-%COMP%]{justify-content:center}.breadcrumb-current[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis}.container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}.placeholder-wrapper[_ngcontent-%COMP%]{flex:1;width:100%;display:flex;align-items:center;justify-content:center}.placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}ion-list[_ngcontent-%COMP%]{background:none;flex:0}.select-arrow[_ngcontent-%COMP%]{border-top:5px solid;border-left:5px solid transparent;border-right:5px solid transparent;display:inline-block;opacity:.33;margin-left:.5em;vertical-align:middle}.md[_ngcontent-%COMP%]   .select-arrow[_ngcontent-%COMP%]{opacity:.55}ion-item.metadata[_ngcontent-%COMP%]{text-align:center}"],changeDetection:0}),H([go()],Ns.prototype,"onSaveEntry",null),H([go()],Ns.prototype,"onDeleteEntry",null),H([go()],Ns.prototype,"onCreateDirectory",null),H([go()],Ns.prototype,"onPaste",null),H([go()],Ns.prototype,"onSelectionDone",null),H([go()],Ns.prototype,"onSaveZip",null),H([go()],Ns.prototype,"onDeleteSelection",null);const G5=["nav"];class wp{constructor(e,t){this.vfsService=e,this.dragDropService=t,this.navRootProps={onMountForBrowse:r=>this.browseCard(r),selfReference:{}},this.onNavigate=r=>{this.currentlyBrowsingCard&&this.nav?.push(Ns,{card:this.currentlyBrowsingCard,path:r,onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})},this.onNavigateBreadcrumb=r=>{this.currentlyBrowsingCard&&this.nav?.popTo(r,{animated:this.animateNav})},this.navRoot=ua,this.isVisible=!1}ngOnInit(){this.vfsService.onReleaseCard.addHandler(this.onReleaseCard.bind(this))}ionViewDidEnter(){this.isVisible=!0,this.dragDropService.registerClient(this)}ionViewWillLeave(){this.isVisible=!1,this.dragDropService.unregisterClient(this)}handleDragDropEvent(e){var t=this;return(0,ae.Z)(function*(){yield(yield t.nav?.getActive())?.params?.selfReference?.ref?.handleDragDropEvent?.(e)})()}get animateNav(){return!vj}browseCard(e){this.currentlyBrowsingCard=e,this.nav?.push(Ns,{card:e,path:"/",onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})}onReleaseCard(e){e!==this.currentlyBrowsingCard?.id||!this.nav||(this.isVisible||(this.nav.animated=!1),this.nav.popToRoot(void 0,()=>this.nav&&(this.nav.animated=this.animateNav)))}}wp.\u0275fac=function(e){return new(e||wp)(C(Zs),C(ac))},wp.\u0275cmp=ut({type:wp,selectors:[["app-storage"]],viewQuery:function(e,t){if(1&e&&Mu(G5,5),2&e){let r;xs(r=As())&&(t.nav=r.first)}},decls:2,vars:3,consts:[[3,"animated","root","rootParams"],["nav",""]],template:function(e,t){1&e&&ct(0,"ion-nav",0,1),2&e&&rt("animated",t.animateNav)("root",t.navRoot)("rootParams",t.navRootProps)},dependencies:[_k,Pk]});const z5=[{path:"tab",component:Gc,children:[{path:"emulation",component:cp},{path:"sessions",component:Ha},{path:"storage",component:wp},{path:"settings",component:fp},{path:"about",component:ap},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}]},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}];class gd{}gd.\u0275fac=function(e){return new(e||gd)},gd.\u0275mod=Ar({type:gd}),gd.\u0275inj=wr({imports:[Mm.forChild(z5),Mm]});class yd{}yd.\u0275fac=function(e){return new(e||yd)},yd.\u0275mod=Ar({type:yd}),yd.\u0275inj=wr({imports:[Zl,Aa,kc,gd,sd,ad,ld,cd,id]});class qc extends NE{pushState(e,t,r,o){this.replaceState(e,t,r,o)}}qc.\u0275fac=function(){let n;return function(t){return(n||(n=ci(qc)))(t||qc)}}(),qc.\u0275prov=ht({token:qc,factory:qc.\u0275fac});const W5=[{path:"install",component:rd,canActivate:[Hc]},{path:"import",component:rd,canActivate:[Hc]},{path:"",component:Gc}];class _d{}_d.\u0275fac=function(e){return new(e||_d)},_d.\u0275mod=Ar({type:_d}),_d.\u0275inj=wr({providers:[{provide:xa,useClass:qc}],imports:[Mm.forRoot(W5,{preloadingStrategy:BB,useHash:!0}),yd,Mm]});const zT=["touch","click","keydown"];class vd{constructor(e,t){this.kvsService=e,this.audioService=t,this.initialize()}initialize(){var e=this;return(0,ae.Z)(function*(){if(yield e.kvsService.initialize(),!e.kvsService.kvs.enableAudioOnFirstInteraction)return;const t=()=>{zT.forEach(r=>window.removeEventListener(r,t,!0)),e.audioService.initialize()};zT.forEach(r=>window.addEventListener(r,t,!0))})()}}vd.\u0275fac=function(e){return new(e||vd)(ee(ni),ee(sc))},vd.\u0275prov=ht({token:vd,factory:vd.\u0275fac,providedIn:"root"});class bd{constructor(e,t,r,o,i,s,a){}}bd.\u0275fac=function(e){return new(e||bd)(ee(Xn),ee(rs),ee(sc),ee(Ua),ee(ni),ee(jc),ee(vd))},bd.\u0275mod=Ar({type:bd,bootstrap:[sp]}),bd.\u0275inj=wr({providers:[{provide:ek,useClass:class NU{shouldDetach(e){return!1}shouldAttach(e){return!1}store(e,t){}retrieve(e){return null}shouldReuseRoute(e,t){if(e.routeConfig!==t.routeConfig)return!1;const r=e.params,o=t.params,i=Object.keys(r),s=Object.keys(o);if(i.length!==s.length)return!1;for(const a of i)if(o[a]!==r[a])return!1;return!0}}},{provide:wc,multi:!0,useFactory:n=>n.initialize.bind(n),deps:[ni]}],imports:[NL,Zl.forRoot(),_d,s6.register("ngsw-worker.js",{enabled:!0}),r0.forRoot({loader:Z_,markedOptions:{provide:Qk,useFactory:()=>{const n=new ed;return n.link=(e,t,r)=>`<a href="${e}" target="_blank" rel="external">${r||e}</a>`,{renderer:n,gfm:!0,breaks:!1,pedantic:!1,smartLists:!0,smartypants:!1}}}}),g3]}),window.global=window,function ZL(){Hh=MD("#/install?"),Gh=MD("#/import?")}(),function kj(){return!!localStorage.getItem(Vm)}()&&!xD()||function qL(){return void 0!==Hh}()?location.replace(`${location.origin}${location.pathname}#/tab/emulation`):location.replace(`${location.origin}${location.pathname}#/tab/sessions`),window.addEventListener("orientationchange",()=>setTimeout(()=>{document.body.style.height=window.innerHeight+"px"},100)),window.addEventListener("scroll",()=>window.scrollTo(0,0)),OL().bootstrapModule(bd).catch(n=>console.log(n))},3272:Be=>{var A,We=(A=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(I){var re,te,l=typeof(I=I||{})<"u"?I:{};l.ready=new Promise(function(c,h){re=c,te=h});var j,Pe,$e,z=Object.assign({},l),Q=[],L="./this.program",V=(c,h)=>{throw h},ue="object"==typeof window,X="function"==typeof importScripts,B=("object"==typeof process&&"object"==typeof process.versions&&process,"");(ue||X)&&(X?B=self.location.href:typeof document<"u"&&document.currentScript&&(B=document.currentScript.src),A&&(B=A),B=0!==B.indexOf("blob:")?B.substr(0,B.replace(/[?#].*/,"").lastIndexOf("/")+1):"",j=c=>{var h=new XMLHttpRequest;return h.open("GET",c,!1),h.send(null),h.responseText},X&&($e=c=>{var h=new XMLHttpRequest;return h.open("GET",c,!1),h.responseType="arraybuffer",h.send(null),new Uint8Array(h.response)}),Pe=(c,h,b)=>{var T=new XMLHttpRequest;T.open("GET",c,!0),T.responseType="arraybuffer",T.onload=()=>{200==T.status||0==T.status&&T.response?h(T.response):b()},T.onerror=b,T.send(null)});var fe,Z=l.print||console.log.bind(console),K=l.printErr||console.warn.bind(console);Object.assign(l,z),z=null,l.arguments&&(Q=l.arguments),l.thisProgram&&(L=l.thisProgram),l.quit&&(V=l.quit),l.wasmBinary&&(fe=l.wasmBinary);var Fe=l.noExitRuntime||!0;"object"!=typeof WebAssembly&&ar("no native wasm support detected");var de,ce,it=!1;function be(c,h){c||ar(h)}var Ue,Qe,yt,O,ge,nt,Ie=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Xe(c,h,b){for(var T=h+b,U=h;c[U]&&!(U>=T);)++U;if(U-h>16&&c.buffer&&Ie)return Ie.decode(c.subarray(h,U));for(var ve="";h<U;){var Te=c[h++];if(128&Te){var He=63&c[h++];if(192!=(224&Te)){var _t=63&c[h++];if((Te=224==(240&Te)?(15&Te)<<12|He<<6|_t:(7&Te)<<18|He<<12|_t<<6|63&c[h++])<65536)ve+=String.fromCharCode(Te);else{var sn=Te-65536;ve+=String.fromCharCode(55296|sn>>10,56320|1023&sn)}}else ve+=String.fromCharCode((31&Te)<<6|He)}else ve+=String.fromCharCode(Te)}return ve}function Oe(c,h){return c?Xe(yt,c,h):""}function Me(c,h,b,T){if(!(T>0))return 0;for(var U=b,ve=b+T-1,Te=0;Te<c.length;++Te){var He=c.charCodeAt(Te);if(He>=55296&&He<=57343&&(He=65536+((1023&He)<<10)|1023&c.charCodeAt(++Te)),He<=127){if(b>=ve)break;h[b++]=He}else if(He<=2047){if(b+1>=ve)break;h[b++]=192|He>>6,h[b++]=128|63&He}else if(He<=65535){if(b+2>=ve)break;h[b++]=224|He>>12,h[b++]=128|He>>6&63,h[b++]=128|63&He}else{if(b+3>=ve)break;h[b++]=240|He>>18,h[b++]=128|He>>12&63,h[b++]=128|He>>6&63,h[b++]=128|63&He}}return h[b]=0,b-U}function ne(c){for(var h=0,b=0;b<c.length;++b){var T=c.charCodeAt(b);T<=127?h++:T<=2047?h+=2:T>=55296&&T<=57343?(h+=4,++b):h+=3}return h}function Ve(c){Ue=c,l.HEAP8=Qe=new Int8Array(c),l.HEAP16=new Int16Array(c),l.HEAP32=O=new Int32Array(c),l.HEAPU8=yt=new Uint8Array(c),l.HEAPU16=new Uint16Array(c),l.HEAPU32=ge=new Uint32Array(c),l.HEAPF32=new Float32Array(c),l.HEAPF64=nt=new Float64Array(c)}var ye,gn,ft=[],Ae=[],At=[],cn=[],Rn=0,yo=null,Un=null;function Yr(c){Rn++,l.monitorRunDependencies&&l.monitorRunDependencies(Rn)}function Lr(c){if(Rn--,l.monitorRunDependencies&&l.monitorRunDependencies(Rn),0==Rn&&(null!==yo&&(clearInterval(yo),yo=null),Un)){var h=Un;Un=null,h()}}function ar(c){l.onAbort&&l.onAbort(c),K(c="Aborted("+c+")"),it=!0,ce=1,c+=". Build with -sASSERTIONS for more info.";var h=new WebAssembly.RuntimeError(c);throw te(h),h}function oo(c){return c.startsWith("data:application/octet-stream;base64,")}function eo(c){try{if(c==gn&&fe)return new Uint8Array(fe);if($e)return $e(c);throw"both async and sync fetching of the wasm failed"}catch(h){ar(h)}}oo(gn="cloudpilot_web.wasm")||(gn=function $(c){return l.locateFile?l.locateFile(c,B):B+c}(gn));var lt,le,ze={243812:c=>{ye.grow(65536);for(let h=0;h<=65535;h++)ye.set(ye.length-65535-1+h,ye.get(ge[(c>>>2)+h]));return ye.length-65535-1}};function Bn(c){this.name="ExitStatus",this.message="Program terminated with exit("+c+")",this.status=c}function qt(c){for(;c.length>0;)c.shift()(l)}function br(c,h){return h+2097152>>>0<4194305-!!c?(c>>>0)+4294967296*h:NaN}var en={isAbs:c=>"/"===c.charAt(0),splitPath:c=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(c).slice(1),normalizeArray:(c,h)=>{for(var b=0,T=c.length-1;T>=0;T--){var U=c[T];"."===U?c.splice(T,1):".."===U?(c.splice(T,1),b++):b&&(c.splice(T,1),b--)}if(h)for(;b;b--)c.unshift("..");return c},normalize:c=>{var h=en.isAbs(c),b="/"===c.substr(-1);return!(c=en.normalizeArray(c.split("/").filter(T=>!!T),!h).join("/"))&&!h&&(c="."),c&&b&&(c+="/"),(h?"/":"")+c},dirname:c=>{var h=en.splitPath(c),b=h[0],T=h[1];return b||T?(T&&(T=T.substr(0,T.length-1)),b+T):"."},basename:c=>{if("/"===c)return"/";var h=(c=(c=en.normalize(c)).replace(/\/$/,"")).lastIndexOf("/");return-1===h?c:c.substr(h+1)},join:function(){var c=Array.prototype.slice.call(arguments);return en.normalize(c.join("/"))},join2:(c,h)=>en.normalize(c+"/"+h)},er={resolve:function(){for(var c="",h=!1,b=arguments.length-1;b>=-1&&!h;b--){var T=b>=0?arguments[b]:D.cwd();if("string"!=typeof T)throw new TypeError("Arguments to path.resolve must be strings");if(!T)return"";c=T+"/"+c,h=en.isAbs(T)}return(h?"/":"")+(c=en.normalizeArray(c.split("/").filter(U=>!!U),!h).join("/"))||"."},relative:(c,h)=>{function b(sn){for(var Vn=0;Vn<sn.length&&""===sn[Vn];Vn++);for(var jn=sn.length-1;jn>=0&&""===sn[jn];jn--);return Vn>jn?[]:sn.slice(Vn,jn-Vn+1)}c=er.resolve(c).substr(1),h=er.resolve(h).substr(1);for(var T=b(c.split("/")),U=b(h.split("/")),ve=Math.min(T.length,U.length),Te=ve,He=0;He<ve;He++)if(T[He]!==U[He]){Te=He;break}var _t=[];for(He=Te;He<T.length;He++)_t.push("..");return(_t=_t.concat(U.slice(Te))).join("/")}};function un(c,h,b){var T=b>0?b:ne(c)+1,U=new Array(T),ve=Me(c,U,0,U.length);return h&&(U.length=ve),U}var Ht={ttys:[],init:function(){},shutdown:function(){},register:function(c,h){Ht.ttys[c]={input:[],output:[],ops:h},D.registerDevice(c,Ht.stream_ops)},stream_ops:{open:function(c){var h=Ht.ttys[c.node.rdev];if(!h)throw new D.ErrnoError(43);c.tty=h,c.seekable=!1},close:function(c){c.tty.ops.fsync(c.tty)},fsync:function(c){c.tty.ops.fsync(c.tty)},read:function(c,h,b,T,U){if(!c.tty||!c.tty.ops.get_char)throw new D.ErrnoError(60);for(var ve=0,Te=0;Te<T;Te++){var He;try{He=c.tty.ops.get_char(c.tty)}catch{throw new D.ErrnoError(29)}if(void 0===He&&0===ve)throw new D.ErrnoError(6);if(null==He)break;ve++,h[b+Te]=He}return ve&&(c.node.timestamp=Date.now()),ve},write:function(c,h,b,T,U){if(!c.tty||!c.tty.ops.put_char)throw new D.ErrnoError(60);try{for(var ve=0;ve<T;ve++)c.tty.ops.put_char(c.tty,h[b+ve])}catch{throw new D.ErrnoError(29)}return T&&(c.node.timestamp=Date.now()),ve}},default_tty_ops:{get_char:function(c){if(!c.input.length){var h=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(h=window.prompt("Input: "))&&(h+="\n"):"function"==typeof readline&&null!==(h=readline())&&(h+="\n"),!h)return null;c.input=un(h,!0)}return c.input.shift()},put_char:function(c,h){null===h||10===h?(Z(Xe(c.output,0)),c.output=[]):0!=h&&c.output.push(h)},fsync:function(c){c.output&&c.output.length>0&&(Z(Xe(c.output,0)),c.output=[])}},default_tty1_ops:{put_char:function(c,h){null===h||10===h?(K(Xe(c.output,0)),c.output=[]):0!=h&&c.output.push(h)},fsync:function(c){c.output&&c.output.length>0&&(K(Xe(c.output,0)),c.output=[])}}};function E(c){ar()}var S={ops_table:null,mount:function(c){return S.createNode(null,"/",16895,0)},createNode:function(c,h,b,T){if(D.isBlkdev(b)||D.isFIFO(b))throw new D.ErrnoError(63);S.ops_table||(S.ops_table={dir:{node:{getattr:S.node_ops.getattr,setattr:S.node_ops.setattr,lookup:S.node_ops.lookup,mknod:S.node_ops.mknod,rename:S.node_ops.rename,unlink:S.node_ops.unlink,rmdir:S.node_ops.rmdir,readdir:S.node_ops.readdir,symlink:S.node_ops.symlink},stream:{llseek:S.stream_ops.llseek}},file:{node:{getattr:S.node_ops.getattr,setattr:S.node_ops.setattr},stream:{llseek:S.stream_ops.llseek,read:S.stream_ops.read,write:S.stream_ops.write,allocate:S.stream_ops.allocate,mmap:S.stream_ops.mmap,msync:S.stream_ops.msync}},link:{node:{getattr:S.node_ops.getattr,setattr:S.node_ops.setattr,readlink:S.node_ops.readlink},stream:{}},chrdev:{node:{getattr:S.node_ops.getattr,setattr:S.node_ops.setattr},stream:D.chrdev_stream_ops}});var U=D.createNode(c,h,b,T);return D.isDir(U.mode)?(U.node_ops=S.ops_table.dir.node,U.stream_ops=S.ops_table.dir.stream,U.contents={}):D.isFile(U.mode)?(U.node_ops=S.ops_table.file.node,U.stream_ops=S.ops_table.file.stream,U.usedBytes=0,U.contents=null):D.isLink(U.mode)?(U.node_ops=S.ops_table.link.node,U.stream_ops=S.ops_table.link.stream):D.isChrdev(U.mode)&&(U.node_ops=S.ops_table.chrdev.node,U.stream_ops=S.ops_table.chrdev.stream),U.timestamp=Date.now(),c&&(c.contents[h]=U,c.timestamp=U.timestamp),U},getFileDataAsTypedArray:function(c){return c.contents?c.contents.subarray?c.contents.subarray(0,c.usedBytes):new Uint8Array(c.contents):new Uint8Array(0)},expandFileStorage:function(c,h){var b=c.contents?c.contents.length:0;if(!(b>=h)){h=Math.max(h,b*(b<1048576?2:1.125)>>>0),0!=b&&(h=Math.max(h,256));var U=c.contents;c.contents=new Uint8Array(h),c.usedBytes>0&&c.contents.set(U.subarray(0,c.usedBytes),0)}},resizeFileStorage:function(c,h){if(c.usedBytes!=h)if(0==h)c.contents=null,c.usedBytes=0;else{var b=c.contents;c.contents=new Uint8Array(h),b&&c.contents.set(b.subarray(0,Math.min(h,c.usedBytes))),c.usedBytes=h}},node_ops:{getattr:function(c){var h={};return h.dev=D.isChrdev(c.mode)?c.id:1,h.ino=c.id,h.mode=c.mode,h.nlink=1,h.uid=0,h.gid=0,h.rdev=c.rdev,h.size=D.isDir(c.mode)?4096:D.isFile(c.mode)?c.usedBytes:D.isLink(c.mode)?c.link.length:0,h.atime=new Date(c.timestamp),h.mtime=new Date(c.timestamp),h.ctime=new Date(c.timestamp),h.blksize=4096,h.blocks=Math.ceil(h.size/h.blksize),h},setattr:function(c,h){void 0!==h.mode&&(c.mode=h.mode),void 0!==h.timestamp&&(c.timestamp=h.timestamp),void 0!==h.size&&S.resizeFileStorage(c,h.size)},lookup:function(c,h){throw D.genericErrors[44]},mknod:function(c,h,b,T){return S.createNode(c,h,b,T)},rename:function(c,h,b){if(D.isDir(c.mode)){var T;try{T=D.lookupNode(h,b)}catch{}if(T)for(var U in T.contents)throw new D.ErrnoError(55)}delete c.parent.contents[c.name],c.parent.timestamp=Date.now(),c.name=b,h.contents[b]=c,h.timestamp=c.parent.timestamp,c.parent=h},unlink:function(c,h){delete c.contents[h],c.timestamp=Date.now()},rmdir:function(c,h){var b=D.lookupNode(c,h);for(var T in b.contents)throw new D.ErrnoError(55);delete c.contents[h],c.timestamp=Date.now()},readdir:function(c){var h=[".",".."];for(var b in c.contents)c.contents.hasOwnProperty(b)&&h.push(b);return h},symlink:function(c,h,b){var T=S.createNode(c,h,41471,0);return T.link=b,T},readlink:function(c){if(!D.isLink(c.mode))throw new D.ErrnoError(28);return c.link}},stream_ops:{read:function(c,h,b,T,U){var ve=c.node.contents;if(U>=c.node.usedBytes)return 0;var Te=Math.min(c.node.usedBytes-U,T);if(Te>8&&ve.subarray)h.set(ve.subarray(U,U+Te),b);else for(var He=0;He<Te;He++)h[b+He]=ve[U+He];return Te},write:function(c,h,b,T,U,ve){if(h.buffer===Qe.buffer&&(ve=!1),!T)return 0;var Te=c.node;if(Te.timestamp=Date.now(),h.subarray&&(!Te.contents||Te.contents.subarray)){if(ve)return Te.contents=h.subarray(b,b+T),Te.usedBytes=T,T;if(0===Te.usedBytes&&0===U)return Te.contents=h.slice(b,b+T),Te.usedBytes=T,T;if(U+T<=Te.usedBytes)return Te.contents.set(h.subarray(b,b+T),U),T}if(S.expandFileStorage(Te,U+T),Te.contents.subarray&&h.subarray)Te.contents.set(h.subarray(b,b+T),U);else for(var He=0;He<T;He++)Te.contents[U+He]=h[b+He];return Te.usedBytes=Math.max(Te.usedBytes,U+T),T},llseek:function(c,h,b){var T=h;if(1===b?T+=c.position:2===b&&D.isFile(c.node.mode)&&(T+=c.node.usedBytes),T<0)throw new D.ErrnoError(28);return T},allocate:function(c,h,b){S.expandFileStorage(c.node,h+b),c.node.usedBytes=Math.max(c.node.usedBytes,h+b)},mmap:function(c,h,b,T,U){if(!D.isFile(c.node.mode))throw new D.ErrnoError(43);var ve,Te,He=c.node.contents;if(2&U||He.buffer!==Ue){if((b>0||b+h<He.length)&&(He=He.subarray?He.subarray(b,b+h):Array.prototype.slice.call(He,b,b+h)),Te=!0,!(ve=E()))throw new D.ErrnoError(48);Qe.set(He,ve)}else Te=!1,ve=He.byteOffset;return{ptr:ve,allocated:Te}},msync:function(c,h,b,T,U){return S.stream_ops.write(c,h,0,T,b,!1),0}}},D={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(c,h={})=>{if(!(c=er.resolve(c)))return{path:"",node:null};if((h=Object.assign({follow_mount:!0,recurse_count:0},h)).recurse_count>8)throw new D.ErrnoError(32);for(var T=c.split("/").filter(jn=>!!jn),U=D.root,ve="/",Te=0;Te<T.length;Te++){var He=Te===T.length-1;if(He&&h.parent)break;if(U=D.lookupNode(U,T[Te]),ve=en.join2(ve,T[Te]),D.isMountpoint(U)&&(!He||He&&h.follow_mount)&&(U=U.mounted.root),!He||h.follow)for(var _t=0;D.isLink(U.mode);){var sn=D.readlink(ve);if(ve=er.resolve(en.dirname(ve),sn),U=D.lookupPath(ve,{recurse_count:h.recurse_count+1}).node,_t++>40)throw new D.ErrnoError(32)}}return{path:ve,node:U}},getPath:c=>{for(var h;;){if(D.isRoot(c)){var b=c.mount.mountpoint;return h?"/"!==b[b.length-1]?b+"/"+h:b+h:b}h=h?c.name+"/"+h:c.name,c=c.parent}},hashName:(c,h)=>{for(var b=0,T=0;T<h.length;T++)b=(b<<5)-b+h.charCodeAt(T)|0;return(c+b>>>0)%D.nameTable.length},hashAddNode:c=>{var h=D.hashName(c.parent.id,c.name);c.name_next=D.nameTable[h],D.nameTable[h]=c},hashRemoveNode:c=>{var h=D.hashName(c.parent.id,c.name);if(D.nameTable[h]===c)D.nameTable[h]=c.name_next;else for(var b=D.nameTable[h];b;){if(b.name_next===c){b.name_next=c.name_next;break}b=b.name_next}},lookupNode:(c,h)=>{var b=D.mayLookup(c);if(b)throw new D.ErrnoError(b,c);for(var T=D.hashName(c.id,h),U=D.nameTable[T];U;U=U.name_next)if(U.parent.id===c.id&&U.name===h)return U;return D.lookup(c,h)},createNode:(c,h,b,T)=>{var U=new D.FSNode(c,h,b,T);return D.hashAddNode(U),U},destroyNode:c=>{D.hashRemoveNode(c)},isRoot:c=>c===c.parent,isMountpoint:c=>!!c.mounted,isFile:c=>32768==(61440&c),isDir:c=>16384==(61440&c),isLink:c=>40960==(61440&c),isChrdev:c=>8192==(61440&c),isBlkdev:c=>24576==(61440&c),isFIFO:c=>4096==(61440&c),isSocket:c=>49152==(49152&c),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:c=>{var h=D.flagModes[c];if(typeof h>"u")throw new Error("Unknown file open mode: "+c);return h},flagsToPermissionString:c=>{var h=["r","w","rw"][3&c];return 512&c&&(h+="w"),h},nodePermissions:(c,h)=>D.ignorePermissions?0:h.includes("r")&&!(292&c.mode)||h.includes("w")&&!(146&c.mode)||h.includes("x")&&!(73&c.mode)?2:0,mayLookup:c=>D.nodePermissions(c,"x")||(c.node_ops.lookup?0:2),mayCreate:(c,h)=>{try{return D.lookupNode(c,h),20}catch{}return D.nodePermissions(c,"wx")},mayDelete:(c,h,b)=>{var T;try{T=D.lookupNode(c,h)}catch(ve){return ve.errno}var U=D.nodePermissions(c,"wx");if(U)return U;if(b){if(!D.isDir(T.mode))return 54;if(D.isRoot(T)||D.getPath(T)===D.cwd())return 10}else if(D.isDir(T.mode))return 31;return 0},mayOpen:(c,h)=>c?D.isLink(c.mode)?32:D.isDir(c.mode)&&("r"!==D.flagsToPermissionString(h)||512&h)?31:D.nodePermissions(c,D.flagsToPermissionString(h)):44,MAX_OPEN_FDS:4096,nextfd:(c=0,h=D.MAX_OPEN_FDS)=>{for(var b=c;b<=h;b++)if(!D.streams[b])return b;throw new D.ErrnoError(33)},getStream:c=>D.streams[c],createStream:(c,h,b)=>{D.FSStream||(D.FSStream=function(){this.shared={}},D.FSStream.prototype={},Object.defineProperties(D.FSStream.prototype,{object:{get:function(){return this.node},set:function(U){this.node=U}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(U){this.shared.flags=U}},position:{get:function(){return this.shared.position},set:function(U){this.shared.position=U}}})),c=Object.assign(new D.FSStream,c);var T=D.nextfd(h,b);return c.fd=T,D.streams[T]=c,c},closeStream:c=>{D.streams[c]=null},chrdev_stream_ops:{open:c=>{var h=D.getDevice(c.node.rdev);c.stream_ops=h.stream_ops,c.stream_ops.open&&c.stream_ops.open(c)},llseek:()=>{throw new D.ErrnoError(70)}},major:c=>c>>8,minor:c=>255&c,makedev:(c,h)=>c<<8|h,registerDevice:(c,h)=>{D.devices[c]={stream_ops:h}},getDevice:c=>D.devices[c],getMounts:c=>{for(var h=[],b=[c];b.length;){var T=b.pop();h.push(T),b.push.apply(b,T.mounts)}return h},syncfs:(c,h)=>{"function"==typeof c&&(h=c,c=!1),D.syncFSRequests++,D.syncFSRequests>1&&K("warning: "+D.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var b=D.getMounts(D.root.mount),T=0;function U(Te){return D.syncFSRequests--,h(Te)}function ve(Te){if(Te)return ve.errored?void 0:(ve.errored=!0,U(Te));++T>=b.length&&U(null)}b.forEach(Te=>{if(!Te.type.syncfs)return ve(null);Te.type.syncfs(Te,c,ve)})},mount:(c,h,b)=>{var ve,T="/"===b,U=!b;if(T&&D.root)throw new D.ErrnoError(10);if(!T&&!U){var Te=D.lookupPath(b,{follow_mount:!1});if(b=Te.path,D.isMountpoint(ve=Te.node))throw new D.ErrnoError(10);if(!D.isDir(ve.mode))throw new D.ErrnoError(54)}var He={type:c,opts:h,mountpoint:b,mounts:[]},_t=c.mount(He);return _t.mount=He,He.root=_t,T?D.root=_t:ve&&(ve.mounted=He,ve.mount&&ve.mount.mounts.push(He)),_t},unmount:c=>{var h=D.lookupPath(c,{follow_mount:!1});if(!D.isMountpoint(h.node))throw new D.ErrnoError(28);var b=h.node,T=b.mounted,U=D.getMounts(T);Object.keys(D.nameTable).forEach(Te=>{for(var He=D.nameTable[Te];He;){var _t=He.name_next;U.includes(He.mount)&&D.destroyNode(He),He=_t}}),b.mounted=null;var ve=b.mount.mounts.indexOf(T);b.mount.mounts.splice(ve,1)},lookup:(c,h)=>c.node_ops.lookup(c,h),mknod:(c,h,b)=>{var U=D.lookupPath(c,{parent:!0}).node,ve=en.basename(c);if(!ve||"."===ve||".."===ve)throw new D.ErrnoError(28);var Te=D.mayCreate(U,ve);if(Te)throw new D.ErrnoError(Te);if(!U.node_ops.mknod)throw new D.ErrnoError(63);return U.node_ops.mknod(U,ve,h,b)},create:(c,h)=>(h=void 0!==h?h:438,h&=4095,D.mknod(c,h|=32768,0)),mkdir:(c,h)=>(h=void 0!==h?h:511,h&=1023,D.mknod(c,h|=16384,0)),mkdirTree:(c,h)=>{for(var b=c.split("/"),T="",U=0;U<b.length;++U)if(b[U]){T+="/"+b[U];try{D.mkdir(T,h)}catch(ve){if(20!=ve.errno)throw ve}}},mkdev:(c,h,b)=>(typeof b>"u"&&(b=h,h=438),D.mknod(c,h|=8192,b)),symlink:(c,h)=>{if(!er.resolve(c))throw new D.ErrnoError(44);var T=D.lookupPath(h,{parent:!0}).node;if(!T)throw new D.ErrnoError(44);var U=en.basename(h),ve=D.mayCreate(T,U);if(ve)throw new D.ErrnoError(ve);if(!T.node_ops.symlink)throw new D.ErrnoError(63);return T.node_ops.symlink(T,U,c)},rename:(c,h)=>{var He,_t,b=en.dirname(c),T=en.dirname(h),U=en.basename(c),ve=en.basename(h);if(He=D.lookupPath(c,{parent:!0}).node,_t=D.lookupPath(h,{parent:!0}).node,!He||!_t)throw new D.ErrnoError(44);if(He.mount!==_t.mount)throw new D.ErrnoError(75);var jn,sn=D.lookupNode(He,U),Vn=er.relative(c,T);if("."!==Vn.charAt(0))throw new D.ErrnoError(28);if("."!==(Vn=er.relative(h,b)).charAt(0))throw new D.ErrnoError(55);try{jn=D.lookupNode(_t,ve)}catch{}if(sn!==jn){var Xt=D.isDir(sn.mode),mn=D.mayDelete(He,U,Xt);if(mn)throw new D.ErrnoError(mn);if(mn=jn?D.mayDelete(_t,ve,Xt):D.mayCreate(_t,ve))throw new D.ErrnoError(mn);if(!He.node_ops.rename)throw new D.ErrnoError(63);if(D.isMountpoint(sn)||jn&&D.isMountpoint(jn))throw new D.ErrnoError(10);if(_t!==He&&(mn=D.nodePermissions(He,"w")))throw new D.ErrnoError(mn);D.hashRemoveNode(sn);try{He.node_ops.rename(sn,_t,ve)}catch(zn){throw zn}finally{D.hashAddNode(sn)}}},rmdir:c=>{var b=D.lookupPath(c,{parent:!0}).node,T=en.basename(c),U=D.lookupNode(b,T),ve=D.mayDelete(b,T,!0);if(ve)throw new D.ErrnoError(ve);if(!b.node_ops.rmdir)throw new D.ErrnoError(63);if(D.isMountpoint(U))throw new D.ErrnoError(10);b.node_ops.rmdir(b,T),D.destroyNode(U)},readdir:c=>{var b=D.lookupPath(c,{follow:!0}).node;if(!b.node_ops.readdir)throw new D.ErrnoError(54);return b.node_ops.readdir(b)},unlink:c=>{var b=D.lookupPath(c,{parent:!0}).node;if(!b)throw new D.ErrnoError(44);var T=en.basename(c),U=D.lookupNode(b,T),ve=D.mayDelete(b,T,!1);if(ve)throw new D.ErrnoError(ve);if(!b.node_ops.unlink)throw new D.ErrnoError(63);if(D.isMountpoint(U))throw new D.ErrnoError(10);b.node_ops.unlink(b,T),D.destroyNode(U)},readlink:c=>{var b=D.lookupPath(c).node;if(!b)throw new D.ErrnoError(44);if(!b.node_ops.readlink)throw new D.ErrnoError(28);return er.resolve(D.getPath(b.parent),b.node_ops.readlink(b))},stat:(c,h)=>{var T=D.lookupPath(c,{follow:!h}).node;if(!T)throw new D.ErrnoError(44);if(!T.node_ops.getattr)throw new D.ErrnoError(63);return T.node_ops.getattr(T)},lstat:c=>D.stat(c,!0),chmod:(c,h,b)=>{var T;if(!(T="string"==typeof c?D.lookupPath(c,{follow:!b}).node:c).node_ops.setattr)throw new D.ErrnoError(63);T.node_ops.setattr(T,{mode:4095&h|-4096&T.mode,timestamp:Date.now()})},lchmod:(c,h)=>{D.chmod(c,h,!0)},fchmod:(c,h)=>{var b=D.getStream(c);if(!b)throw new D.ErrnoError(8);D.chmod(b.node,h)},chown:(c,h,b,T)=>{var U;if(!(U="string"==typeof c?D.lookupPath(c,{follow:!T}).node:c).node_ops.setattr)throw new D.ErrnoError(63);U.node_ops.setattr(U,{timestamp:Date.now()})},lchown:(c,h,b)=>{D.chown(c,h,b,!0)},fchown:(c,h,b)=>{var T=D.getStream(c);if(!T)throw new D.ErrnoError(8);D.chown(T.node,h,b)},truncate:(c,h)=>{if(h<0)throw new D.ErrnoError(28);var b;if(!(b="string"==typeof c?D.lookupPath(c,{follow:!0}).node:c).node_ops.setattr)throw new D.ErrnoError(63);if(D.isDir(b.mode))throw new D.ErrnoError(31);if(!D.isFile(b.mode))throw new D.ErrnoError(28);var U=D.nodePermissions(b,"w");if(U)throw new D.ErrnoError(U);b.node_ops.setattr(b,{size:h,timestamp:Date.now()})},ftruncate:(c,h)=>{var b=D.getStream(c);if(!b)throw new D.ErrnoError(8);if(!(2097155&b.flags))throw new D.ErrnoError(28);D.truncate(b.node,h)},utime:(c,h,b)=>{var U=D.lookupPath(c,{follow:!0}).node;U.node_ops.setattr(U,{timestamp:Math.max(h,b)})},open:(c,h,b)=>{if(""===c)throw new D.ErrnoError(44);var T;if(b=typeof b>"u"?438:b,b=64&(h="string"==typeof h?D.modeStringToFlags(h):h)?4095&b|32768:0,"object"==typeof c)T=c;else{c=en.normalize(c);try{T=D.lookupPath(c,{follow:!(131072&h)}).node}catch{}}var ve=!1;if(64&h)if(T){if(128&h)throw new D.ErrnoError(20)}else T=D.mknod(c,b,0),ve=!0;if(!T)throw new D.ErrnoError(44);if(D.isChrdev(T.mode)&&(h&=-513),65536&h&&!D.isDir(T.mode))throw new D.ErrnoError(54);if(!ve){var Te=D.mayOpen(T,h);if(Te)throw new D.ErrnoError(Te)}512&h&&!ve&&D.truncate(T,0),h&=-131713;var He=D.createStream({node:T,path:D.getPath(T),flags:h,seekable:!0,position:0,stream_ops:T.stream_ops,ungotten:[],error:!1});return He.stream_ops.open&&He.stream_ops.open(He),l.logReadFiles&&!(1&h)&&(D.readFiles||(D.readFiles={}),c in D.readFiles||(D.readFiles[c]=1)),He},close:c=>{if(D.isClosed(c))throw new D.ErrnoError(8);c.getdents&&(c.getdents=null);try{c.stream_ops.close&&c.stream_ops.close(c)}catch(h){throw h}finally{D.closeStream(c.fd)}c.fd=null},isClosed:c=>null===c.fd,llseek:(c,h,b)=>{if(D.isClosed(c))throw new D.ErrnoError(8);if(!c.seekable||!c.stream_ops.llseek)throw new D.ErrnoError(70);if(0!=b&&1!=b&&2!=b)throw new D.ErrnoError(28);return c.position=c.stream_ops.llseek(c,h,b),c.ungotten=[],c.position},read:(c,h,b,T,U)=>{if(T<0||U<0)throw new D.ErrnoError(28);if(D.isClosed(c))throw new D.ErrnoError(8);if(1==(2097155&c.flags))throw new D.ErrnoError(8);if(D.isDir(c.node.mode))throw new D.ErrnoError(31);if(!c.stream_ops.read)throw new D.ErrnoError(28);var ve=typeof U<"u";if(ve){if(!c.seekable)throw new D.ErrnoError(70)}else U=c.position;var Te=c.stream_ops.read(c,h,b,T,U);return ve||(c.position+=Te),Te},write:(c,h,b,T,U,ve)=>{if(T<0||U<0)throw new D.ErrnoError(28);if(D.isClosed(c))throw new D.ErrnoError(8);if(!(2097155&c.flags))throw new D.ErrnoError(8);if(D.isDir(c.node.mode))throw new D.ErrnoError(31);if(!c.stream_ops.write)throw new D.ErrnoError(28);c.seekable&&1024&c.flags&&D.llseek(c,0,2);var Te=typeof U<"u";if(Te){if(!c.seekable)throw new D.ErrnoError(70)}else U=c.position;var He=c.stream_ops.write(c,h,b,T,U,ve);return Te||(c.position+=He),He},allocate:(c,h,b)=>{if(D.isClosed(c))throw new D.ErrnoError(8);if(h<0||b<=0)throw new D.ErrnoError(28);if(!(2097155&c.flags))throw new D.ErrnoError(8);if(!D.isFile(c.node.mode)&&!D.isDir(c.node.mode))throw new D.ErrnoError(43);if(!c.stream_ops.allocate)throw new D.ErrnoError(138);c.stream_ops.allocate(c,h,b)},mmap:(c,h,b,T,U)=>{if(2&T&&!(2&U)&&2!=(2097155&c.flags))throw new D.ErrnoError(2);if(1==(2097155&c.flags))throw new D.ErrnoError(2);if(!c.stream_ops.mmap)throw new D.ErrnoError(43);return c.stream_ops.mmap(c,h,b,T,U)},msync:(c,h,b,T,U)=>c.stream_ops.msync?c.stream_ops.msync(c,h,b,T,U):0,munmap:c=>0,ioctl:(c,h,b)=>{if(!c.stream_ops.ioctl)throw new D.ErrnoError(59);return c.stream_ops.ioctl(c,h,b)},readFile:(c,h={})=>{if(h.flags=h.flags||0,h.encoding=h.encoding||"binary","utf8"!==h.encoding&&"binary"!==h.encoding)throw new Error('Invalid encoding type "'+h.encoding+'"');var b,T=D.open(c,h.flags),ve=D.stat(c).size,Te=new Uint8Array(ve);return D.read(T,Te,0,ve,0),"utf8"===h.encoding?b=Xe(Te,0):"binary"===h.encoding&&(b=Te),D.close(T),b},writeFile:(c,h,b={})=>{b.flags=b.flags||577;var T=D.open(c,b.flags,b.mode);if("string"==typeof h){var U=new Uint8Array(ne(h)+1),ve=Me(h,U,0,U.length);D.write(T,U,0,ve,void 0,b.canOwn)}else{if(!ArrayBuffer.isView(h))throw new Error("Unsupported data type");D.write(T,h,0,h.byteLength,void 0,b.canOwn)}D.close(T)},cwd:()=>D.currentPath,chdir:c=>{var h=D.lookupPath(c,{follow:!0});if(null===h.node)throw new D.ErrnoError(44);if(!D.isDir(h.node.mode))throw new D.ErrnoError(54);var b=D.nodePermissions(h.node,"x");if(b)throw new D.ErrnoError(b);D.currentPath=h.path},createDefaultDirectories:()=>{D.mkdir("/tmp"),D.mkdir("/home"),D.mkdir("/home/web_user")},createDefaultDevices:()=>{D.mkdir("/dev"),D.registerDevice(D.makedev(1,3),{read:()=>0,write:(h,b,T,U,ve)=>U}),D.mkdev("/dev/null",D.makedev(1,3)),Ht.register(D.makedev(5,0),Ht.default_tty_ops),Ht.register(D.makedev(6,0),Ht.default_tty1_ops),D.mkdev("/dev/tty",D.makedev(5,0)),D.mkdev("/dev/tty1",D.makedev(6,0));var c=function Jn(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var c=new Uint8Array(1);return()=>(crypto.getRandomValues(c),c[0])}return()=>ar("randomDevice")}();D.createDevice("/dev","random",c),D.createDevice("/dev","urandom",c),D.mkdir("/dev/shm"),D.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{D.mkdir("/proc");var c=D.mkdir("/proc/self");D.mkdir("/proc/self/fd"),D.mount({mount:()=>{var h=D.createNode(c,"fd",16895,73);return h.node_ops={lookup:(b,T)=>{var ve=D.getStream(+T);if(!ve)throw new D.ErrnoError(8);var Te={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>ve.path}};return Te.parent=Te,Te}},h}},{},"/proc/self/fd")},createStandardStreams:()=>{l.stdin?D.createDevice("/dev","stdin",l.stdin):D.symlink("/dev/tty","/dev/stdin"),l.stdout?D.createDevice("/dev","stdout",null,l.stdout):D.symlink("/dev/tty","/dev/stdout"),l.stderr?D.createDevice("/dev","stderr",null,l.stderr):D.symlink("/dev/tty1","/dev/stderr"),D.open("/dev/stdin",0),D.open("/dev/stdout",1),D.open("/dev/stderr",1)},ensureErrnoError:()=>{D.ErrnoError||(D.ErrnoError=function(h,b){this.node=b,this.setErrno=function(T){this.errno=T},this.setErrno(h),this.message="FS error"},D.ErrnoError.prototype=new Error,D.ErrnoError.prototype.constructor=D.ErrnoError,[44].forEach(c=>{D.genericErrors[c]=new D.ErrnoError(c),D.genericErrors[c].stack="<generic error, no stack>"}))},staticInit:()=>{D.ensureErrnoError(),D.nameTable=new Array(4096),D.mount(S,{},"/"),D.createDefaultDirectories(),D.createDefaultDevices(),D.createSpecialDirectories(),D.filesystems={MEMFS:S}},init:(c,h,b)=>{D.init.initialized=!0,D.ensureErrnoError(),l.stdin=c||l.stdin,l.stdout=h||l.stdout,l.stderr=b||l.stderr,D.createStandardStreams()},quit:()=>{D.init.initialized=!1;for(var c=0;c<D.streams.length;c++){var h=D.streams[c];h&&D.close(h)}},getMode:(c,h)=>{var b=0;return c&&(b|=365),h&&(b|=146),b},findObject:(c,h)=>{var b=D.analyzePath(c,h);return b.exists?b.object:null},analyzePath:(c,h)=>{try{c=(b=D.lookupPath(c,{follow:!h})).path}catch{}var T={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var b=D.lookupPath(c,{parent:!0});T.parentExists=!0,T.parentPath=b.path,T.parentObject=b.node,T.name=en.basename(c),b=D.lookupPath(c,{follow:!h}),T.exists=!0,T.path=b.path,T.object=b.node,T.name=b.node.name,T.isRoot="/"===b.path}catch(U){T.error=U.errno}return T},createPath:(c,h,b,T)=>{c="string"==typeof c?c:D.getPath(c);for(var U=h.split("/").reverse();U.length;){var ve=U.pop();if(ve){var Te=en.join2(c,ve);try{D.mkdir(Te)}catch{}c=Te}}return Te},createFile:(c,h,b,T,U)=>{var ve=en.join2("string"==typeof c?c:D.getPath(c),h),Te=D.getMode(T,U);return D.create(ve,Te)},createDataFile:(c,h,b,T,U,ve)=>{var Te=h;c&&(c="string"==typeof c?c:D.getPath(c),Te=h?en.join2(c,h):c);var He=D.getMode(T,U),_t=D.create(Te,He);if(b){if("string"==typeof b){for(var sn=new Array(b.length),Vn=0,jn=b.length;Vn<jn;++Vn)sn[Vn]=b.charCodeAt(Vn);b=sn}D.chmod(_t,146|He);var Xt=D.open(_t,577);D.write(Xt,b,0,b.length,0,ve),D.close(Xt),D.chmod(_t,He)}return _t},createDevice:(c,h,b,T)=>{var U=en.join2("string"==typeof c?c:D.getPath(c),h),ve=D.getMode(!!b,!!T);D.createDevice.major||(D.createDevice.major=64);var Te=D.makedev(D.createDevice.major++,0);return D.registerDevice(Te,{open:He=>{He.seekable=!1},close:He=>{T&&T.buffer&&T.buffer.length&&T(10)},read:(He,_t,sn,Vn,jn)=>{for(var Xt=0,mn=0;mn<Vn;mn++){var zn;try{zn=b()}catch{throw new D.ErrnoError(29)}if(void 0===zn&&0===Xt)throw new D.ErrnoError(6);if(null==zn)break;Xt++,_t[sn+mn]=zn}return Xt&&(He.node.timestamp=Date.now()),Xt},write:(He,_t,sn,Vn,jn)=>{for(var Xt=0;Xt<Vn;Xt++)try{T(_t[sn+Xt])}catch{throw new D.ErrnoError(29)}return Vn&&(He.node.timestamp=Date.now()),Xt}}),D.mkdev(U,ve,Te)},forceLoadFile:c=>{if(c.isDevice||c.isFolder||c.link||c.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!j)throw new Error("Cannot load without read() or XMLHttpRequest.");try{c.contents=un(j(c.url),!0),c.usedBytes=c.contents.length}catch{throw new D.ErrnoError(29)}},createLazyFile:(c,h,b,T,U)=>{function ve(){this.lengthKnown=!1,this.chunks=[]}if(ve.prototype.get=function(mn){if(!(mn>this.length-1||mn<0)){var zn=mn%this.chunkSize;return this.getter(mn/this.chunkSize|0)[zn]}},ve.prototype.setDataGetter=function(mn){this.getter=mn},ve.prototype.cacheLength=function(){var mn=new XMLHttpRequest;if(mn.open("HEAD",b,!1),mn.send(null),!(mn.status>=200&&mn.status<300||304===mn.status))throw new Error("Couldn't load "+b+". Status: "+mn.status);var bo,zn=Number(mn.getResponseHeader("Content-length")),fs=(bo=mn.getResponseHeader("Accept-Ranges"))&&"bytes"===bo,Yo=(bo=mn.getResponseHeader("Content-Encoding"))&&"gzip"===bo,vt=1048576;fs||(vt=zn);var Co=this;Co.setDataGetter(Ur=>{var ps=Ur*vt,fo=(Ur+1)*vt-1;if(fo=Math.min(fo,zn-1),typeof Co.chunks[Ur]>"u"&&(Co.chunks[Ur]=((Ur,ps)=>{if(Ur>ps)throw new Error("invalid range ("+Ur+", "+ps+") or no bytes requested!");if(ps>zn-1)throw new Error("only "+zn+" bytes available! programmer error!");var fo=new XMLHttpRequest;if(fo.open("GET",b,!1),zn!==vt&&fo.setRequestHeader("Range","bytes="+Ur+"-"+ps),fo.responseType="arraybuffer",fo.overrideMimeType&&fo.overrideMimeType("text/plain; charset=x-user-defined"),fo.send(null),!(fo.status>=200&&fo.status<300||304===fo.status))throw new Error("Couldn't load "+b+". Status: "+fo.status);return void 0!==fo.response?new Uint8Array(fo.response||[]):un(fo.responseText||"",!0)})(ps,fo)),typeof Co.chunks[Ur]>"u")throw new Error("doXHR failed!");return Co.chunks[Ur]}),(Yo||!zn)&&(vt=zn=1,zn=this.getter(0).length,vt=zn,Z("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=zn,this._chunkSize=vt,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!X)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var Te=new ve;Object.defineProperties(Te,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var He={isDevice:!1,contents:Te}}else He={isDevice:!1,url:b};var _t=D.createFile(c,h,He,T,U);He.contents?_t.contents=He.contents:He.url&&(_t.contents=null,_t.url=He.url),Object.defineProperties(_t,{usedBytes:{get:function(){return this.contents.length}}});var sn={};function jn(Xt,mn,zn,bo,fs){var Yo=Xt.node.contents;if(fs>=Yo.length)return 0;var vt=Math.min(Yo.length-fs,bo);if(Yo.slice)for(var yn=0;yn<vt;yn++)mn[zn+yn]=Yo[fs+yn];else for(yn=0;yn<vt;yn++)mn[zn+yn]=Yo.get(fs+yn);return vt}return Object.keys(_t.stream_ops).forEach(Xt=>{var mn=_t.stream_ops[Xt];sn[Xt]=function(){return D.forceLoadFile(_t),mn.apply(null,arguments)}}),sn.read=(Xt,mn,zn,bo,fs)=>(D.forceLoadFile(_t),jn(Xt,mn,zn,bo,fs)),sn.mmap=(Xt,mn,zn,bo,fs)=>{D.forceLoadFile(_t);var Yo=E();if(!Yo)throw new D.ErrnoError(48);return jn(Xt,Qe,Yo,mn,zn),{ptr:Yo,allocated:!0}},_t.stream_ops=sn,_t},createPreloadedFile:(c,h,b,T,U,ve,Te,He,_t,sn)=>{var Vn=h?er.resolve(en.join2(c,h)):c;function Xt(mn){function zn(bo){sn&&sn(),He||D.createDataFile(c,h,bo,T,U,_t),ve&&ve(),Lr()}Browser.handledByPreloadPlugin(mn,Vn,zn,()=>{Te&&Te(),Lr()})||zn(mn)}Yr(),"string"==typeof b?function Kn(c,h,b,T){var U=T?"":"al "+c;Pe(c,ve=>{be(ve,'Loading data file "'+c+'" failed (no arrayBuffer).'),h(new Uint8Array(ve)),U&&Lr()},ve=>{if(!b)throw'Loading data file "'+c+'" failed.';b()}),U&&Yr()}(b,mn=>Xt(mn),Te):Xt(b)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(c,h,b)=>{h=h||(()=>{}),b=b||(()=>{});var T=D.indexedDB();try{var U=T.open(D.DB_NAME(),D.DB_VERSION)}catch(ve){return b(ve)}U.onupgradeneeded=()=>{Z("creating db"),U.result.createObjectStore(D.DB_STORE_NAME)},U.onsuccess=()=>{var Te=U.result.transaction([D.DB_STORE_NAME],"readwrite"),He=Te.objectStore(D.DB_STORE_NAME),_t=0,sn=0,Vn=c.length;function jn(){0==sn?h():b()}c.forEach(Xt=>{var mn=He.put(D.analyzePath(Xt).object.contents,Xt);mn.onsuccess=()=>{++_t+sn==Vn&&jn()},mn.onerror=()=>{sn++,_t+sn==Vn&&jn()}}),Te.onerror=b},U.onerror=b},loadFilesFromDB:(c,h,b)=>{h=h||(()=>{}),b=b||(()=>{});var T=D.indexedDB();try{var U=T.open(D.DB_NAME(),D.DB_VERSION)}catch(ve){return b(ve)}U.onupgradeneeded=b,U.onsuccess=()=>{var ve=U.result;try{var Te=ve.transaction([D.DB_STORE_NAME],"readonly")}catch(Xt){return void b(Xt)}var He=Te.objectStore(D.DB_STORE_NAME),_t=0,sn=0,Vn=c.length;function jn(){0==sn?h():b()}c.forEach(Xt=>{var mn=He.get(Xt);mn.onsuccess=()=>{D.analyzePath(Xt).exists&&D.unlink(Xt),D.createDataFile(en.dirname(Xt),en.basename(Xt),mn.result,!0,!0,!0),++_t+sn==Vn&&jn()},mn.onerror=()=>{sn++,_t+sn==Vn&&jn()}}),Te.onerror=b},U.onerror=b}},On={DEFAULT_POLLMASK:5,calculateAt:function(c,h,b){if(en.isAbs(h))return h;var T;if(T=-100===c?D.cwd():On.getStreamFromFD(c).path,0==h.length){if(!b)throw new D.ErrnoError(44);return T}return en.join2(T,h)},doStat:function(c,h,b){try{var T=c(h)}catch(U){if(U&&U.node&&en.normalize(h)!==en.normalize(D.getPath(U.node)))return-54;throw U}return O[b>>2]=T.dev,O[b+8>>2]=T.ino,O[b+12>>2]=T.mode,ge[b+16>>2]=T.nlink,O[b+20>>2]=T.uid,O[b+24>>2]=T.gid,O[b+28>>2]=T.rdev,le=[T.size>>>0,(lt=T.size,+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[b+40>>2]=le[0],O[b+44>>2]=le[1],O[b+48>>2]=4096,O[b+52>>2]=T.blocks,le=[Math.floor(T.atime.getTime()/1e3)>>>0,(lt=Math.floor(T.atime.getTime()/1e3),+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[b+56>>2]=le[0],O[b+60>>2]=le[1],ge[b+64>>2]=0,le=[Math.floor(T.mtime.getTime()/1e3)>>>0,(lt=Math.floor(T.mtime.getTime()/1e3),+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[b+72>>2]=le[0],O[b+76>>2]=le[1],ge[b+80>>2]=0,le=[Math.floor(T.ctime.getTime()/1e3)>>>0,(lt=Math.floor(T.ctime.getTime()/1e3),+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[b+88>>2]=le[0],O[b+92>>2]=le[1],ge[b+96>>2]=0,le=[T.ino>>>0,(lt=T.ino,+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[b+104>>2]=le[0],O[b+108>>2]=le[1],0},doMsync:function(c,h,b,T,U){if(!D.isFile(h.node.mode))throw new D.ErrnoError(43);if(2&T)return 0;var ve=yt.slice(c,c+b);D.msync(h,ve,U,b,T)},varargs:void 0,get:function(){return On.varargs+=4,O[On.varargs-4>>2]},getStr:function(c){return Oe(c)},getStreamFromFD:function(c){var h=D.getStream(c);if(!h)throw new D.ErrnoError(8);return h}};function zo(c){return c%4==0&&(c%100!=0||c%400==0)}var Ii=[0,31,60,91,121,152,182,213,244,274,305,335],ki=[0,31,59,90,120,151,181,212,243,273,304,334];function io(c){return(zo(c.getFullYear())?Ii:ki)[c.getMonth()]+c.getDate()-1}function Zo(c){var h=ne(c)+1,b=da(h);return b&&Me(c,Qe,b,h),b}var oi=[];function ss(c){try{return de.grow(c-Ue.byteLength+65535>>>16),Ve(de.buffer),1}catch{}}var Ti={};function hi(){if(!hi.strings){var h={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:L||"./this.program"};for(var b in Ti)void 0===Ti[b]?delete h[b]:h[b]=Ti[b];var T=[];for(var b in h)T.push(b+"="+h[b]);hi.strings=T}return hi.strings}var me=[31,29,31,30,31,30,31,31,30,31,30,31],Ee=[31,28,31,30,31,30,31,31,30,31,30,31];function Gt(c,h){c<128?h.push(c):h.push(c%128|128,c>>7)}var no=[];function Ro(c){var h=no[c];return h||(c>=no.length&&(no.length=c+1),no[c]=h=ye.get(c)),h}var Mr=void 0,ls=[];function za(c,h){ye.set(c,h),no[c]=ye.get(c)}var Wa=function(c,h,b,T){c||(c=this),this.parent=c,this.mount=c.mount,this.mounted=null,this.id=D.nextInode++,this.name=h,this.mode=b,this.node_ops={},this.stream_ops={},this.rdev=T};Object.defineProperties(Wa.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(c){c?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(c){c?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return D.isDir(this.mode)}},isDevice:{get:function(){return D.isChrdev(this.mode)}}}),D.FSNode=Wa,D.staticInit();var Xa,El={b:function Ft(c,h,b,T){ar("Assertion failed: "+Oe(c)+", at: "+[h?Oe(h):"unknown filename",b,T?Oe(T):"unknown function"])},i:function Fn(c){const h=new Error(Oe(c));throw h.isAssert=!0,h},k:function Go(c,h,b){try{var T=br(h,b);return isNaN(T)?-61:(D.ftruncate(c,T),0)}catch(U){if(typeof D>"u"||!(U instanceof D.ErrnoError))throw U;return-U.errno}},e:function Do(){return!0},f:function Wo(c,h){var b=new Date(1e3*function $i(c){return ge[c>>2]+4294967296*O[c+4>>2]}(c));O[h>>2]=b.getSeconds(),O[h+4>>2]=b.getMinutes(),O[h+8>>2]=b.getHours(),O[h+12>>2]=b.getDate(),O[h+16>>2]=b.getMonth(),O[h+20>>2]=b.getFullYear()-1900,O[h+24>>2]=b.getDay();var T=0|io(b);O[h+28>>2]=T,O[h+36>>2]=-60*b.getTimezoneOffset();var U=new Date(b.getFullYear(),0,1),ve=new Date(b.getFullYear(),6,1).getTimezoneOffset(),Te=U.getTimezoneOffset(),He=0|(ve!=Te&&b.getTimezoneOffset()==Math.min(Te,ve));O[h+32>>2]=He},g:function Cr(c){var h=new Date(O[c+20>>2]+1900,O[c+16>>2],O[c+12>>2],O[c+8>>2],O[c+4>>2],O[c>>2],0),b=O[c+32>>2],T=h.getTimezoneOffset(),U=new Date(h.getFullYear(),0,1),ve=new Date(h.getFullYear(),6,1).getTimezoneOffset(),Te=U.getTimezoneOffset(),He=Math.min(Te,ve);if(b<0)O[c+32>>2]=Number(ve!=Te&&He==T);else if(b>0!=(He==T)){var _t=Math.max(Te,ve),sn=b>0?He:_t;h.setTime(h.getTime()+6e4*(sn-T))}O[c+24>>2]=h.getDay();var Vn=0|io(h);return O[c+28>>2]=Vn,O[c>>2]=h.getSeconds(),O[c+4>>2]=h.getMinutes(),O[c+8>>2]=h.getHours(),O[c+12>>2]=h.getDate(),O[c+16>>2]=h.getMonth(),O[c+20>>2]=h.getYear(),h.getTime()/1e3|0},h:function to(c,h,b){var T=(new Date).getFullYear(),U=new Date(T,0,1),ve=new Date(T,6,1),Te=U.getTimezoneOffset(),He=ve.getTimezoneOffset(),_t=Math.max(Te,He);function sn(zn){var bo=zn.toTimeString().match(/\(([A-Za-z ]+)\)$/);return bo?bo[1]:"GMT"}ge[c>>2]=60*_t,O[h>>2]=Number(Te!=He);var Vn=sn(U),jn=sn(ve),Xt=Zo(Vn),mn=Zo(jn);He<Te?(ge[b>>2]=Xt,ge[b+4>>2]=mn):(ge[b>>2]=mn,ge[b+4>>2]=Xt)},a:function pi(){ar("")},s:function Xr(c,h,b){var T=function Io(c,h){var b;for(oi.length=0,h>>=2;b=yt[c++];)h+=105!=b&h,oi.push(105==b?O[h]:nt[h++>>1]),++h;return oi}(h,b);return ze[c].apply(null,T)},c:function is(){return Date.now()},p:function Ao(c,h,b){yt.copyWithin(c,h,h+b)},o:function _o(c){var _t,h=yt.length,b=2147483648;if((c>>>=0)>b)return!1;for(var U=1;U<=4;U*=2){var ve=h*(1+.2/U);if(ve=Math.min(ve,c+100663296),ss(Math.min(b,(_t=Math.max(c,ve))+(65536-_t%65536)%65536)))return!0}return!1},m:function Ls(c,h){var b=0;return hi().forEach(function(T,U){var ve=h+b;ge[c+4*U>>2]=ve,function as(c,h,b){for(var T=0;T<c.length;++T)Qe[h++>>0]=c.charCodeAt(T);b||(Qe[h>>0]=0)}(T,ve),b+=T.length+1}),0},n:function $s(c,h){var b=hi();ge[c>>2]=b.length;var T=0;return b.forEach(function(U){T+=U.length+1}),ge[h>>2]=T,0},q:function fr(c){try{var h=On.getStreamFromFD(c);return D.close(h),0}catch(b){if(typeof D>"u"||!(b instanceof D.ErrnoError))throw b;return b.errno}},d:function Ss(c,h,b,T){try{var ve=function mi(c,h,b,T){for(var U=0,ve=0;ve<b;ve++){var Te=ge[h>>2],He=ge[h+4>>2];h+=8;var _t=D.read(c,Qe,Te,He,T);if(_t<0)return-1;if(U+=_t,_t<He)break}return U}(On.getStreamFromFD(c),h,b);return ge[T>>2]=ve,0}catch(Te){if(typeof D>"u"||!(Te instanceof D.ErrnoError))throw Te;return Te.errno}},j:function Bi(c,h,b,T,U){try{var ve=br(h,b);if(isNaN(ve))return 61;var Te=On.getStreamFromFD(c);return D.llseek(Te,ve,T),le=[Te.position>>>0,(lt=Te.position,+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[U>>2]=le[0],O[U+4>>2]=le[1],Te.getdents&&0===ve&&0===T&&(Te.getdents=null),0}catch(He){if(typeof D>"u"||!(He instanceof D.ErrnoError))throw He;return He.errno}},r:function x(c,h,b,T){try{var ve=function tr(c,h,b,T){for(var U=0,ve=0;ve<b;ve++){var Te=ge[h>>2],He=ge[h+4>>2];h+=8;var _t=D.write(c,Qe,Te,He,T);if(_t<0)return-1;U+=_t}return U}(On.getStreamFromFD(c),h,b);return ge[T>>2]=ve,0}catch(Te){if(typeof D>"u"||!(Te instanceof D.ErrnoError))throw Te;return Te.errno}},l:function ke(c,h,b,T,U){return function pe(c,h,b,T){var U=O[T+40>>2],ve={tm_sec:O[T>>2],tm_min:O[T+4>>2],tm_hour:O[T+8>>2],tm_mday:O[T+12>>2],tm_mon:O[T+16>>2],tm_year:O[T+20>>2],tm_wday:O[T+24>>2],tm_yday:O[T+28>>2],tm_isdst:O[T+32>>2],tm_gmtoff:O[T+36>>2],tm_zone:U?Oe(U):""},Te=Oe(b),He={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var _t in He)Te=Te.replace(new RegExp(_t,"g"),He[_t]);var sn=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Vn=["January","February","March","April","May","June","July","August","September","October","November","December"];function jn(vt,yn,Co){for(var Ur="number"==typeof vt?vt.toString():vt||"";Ur.length<yn;)Ur=Co[0]+Ur;return Ur}function Xt(vt,yn){return jn(vt,yn,"0")}function mn(vt,yn){function Co(ps){return ps<0?-1:ps>0?1:0}var Ur;return 0===(Ur=Co(vt.getFullYear()-yn.getFullYear()))&&0===(Ur=Co(vt.getMonth()-yn.getMonth()))&&(Ur=Co(vt.getDate()-yn.getDate())),Ur}function zn(vt){switch(vt.getDay()){case 0:return new Date(vt.getFullYear()-1,11,29);case 1:return vt;case 2:return new Date(vt.getFullYear(),0,3);case 3:return new Date(vt.getFullYear(),0,2);case 4:return new Date(vt.getFullYear(),0,1);case 5:return new Date(vt.getFullYear()-1,11,31);case 6:return new Date(vt.getFullYear()-1,11,30)}}function bo(vt){var yn=function Ne(c,h){for(var b=new Date(c.getTime());h>0;){var T=zo(b.getFullYear()),U=b.getMonth(),ve=(T?me:Ee)[U];if(!(h>ve-b.getDate()))return b.setDate(b.getDate()+h),b;h-=ve-b.getDate()+1,b.setDate(1),U<11?b.setMonth(U+1):(b.setMonth(0),b.setFullYear(b.getFullYear()+1))}return b}(new Date(vt.tm_year+1900,0,1),vt.tm_yday),Co=new Date(yn.getFullYear(),0,4),Ur=new Date(yn.getFullYear()+1,0,4),ps=zn(Co),fo=zn(Ur);return mn(ps,yn)<=0?mn(fo,yn)<=0?yn.getFullYear()+1:yn.getFullYear():yn.getFullYear()-1}var fs={"%a":function(vt){return sn[vt.tm_wday].substring(0,3)},"%A":function(vt){return sn[vt.tm_wday]},"%b":function(vt){return Vn[vt.tm_mon].substring(0,3)},"%B":function(vt){return Vn[vt.tm_mon]},"%C":function(vt){return Xt((vt.tm_year+1900)/100|0,2)},"%d":function(vt){return Xt(vt.tm_mday,2)},"%e":function(vt){return jn(vt.tm_mday,2," ")},"%g":function(vt){return bo(vt).toString().substring(2)},"%G":function(vt){return bo(vt)},"%H":function(vt){return Xt(vt.tm_hour,2)},"%I":function(vt){var yn=vt.tm_hour;return 0==yn?yn=12:yn>12&&(yn-=12),Xt(yn,2)},"%j":function(vt){return Xt(vt.tm_mday+function N(c,h){for(var b=0,T=0;T<=h;b+=c[T++]);return b}(zo(vt.tm_year+1900)?me:Ee,vt.tm_mon-1),3)},"%m":function(vt){return Xt(vt.tm_mon+1,2)},"%M":function(vt){return Xt(vt.tm_min,2)},"%n":function(){return"\n"},"%p":function(vt){return vt.tm_hour>=0&&vt.tm_hour<12?"AM":"PM"},"%S":function(vt){return Xt(vt.tm_sec,2)},"%t":function(){return"\t"},"%u":function(vt){return vt.tm_wday||7},"%U":function(vt){return Xt(Math.floor((vt.tm_yday+7-vt.tm_wday)/7),2)},"%V":function(vt){var yn=Math.floor((vt.tm_yday+7-(vt.tm_wday+6)%7)/7);if((vt.tm_wday+371-vt.tm_yday-2)%7<=2&&yn++,yn){if(53==yn){var Ur=(vt.tm_wday+371-vt.tm_yday)%7;4!=Ur&&(3!=Ur||!zo(vt.tm_year))&&(yn=1)}}else{yn=52;var Co=(vt.tm_wday+7-vt.tm_yday-1)%7;(4==Co||5==Co&&zo(vt.tm_year%400-1))&&yn++}return Xt(yn,2)},"%w":function(vt){return vt.tm_wday},"%W":function(vt){return Xt(Math.floor((vt.tm_yday+7-(vt.tm_wday+6)%7)/7),2)},"%y":function(vt){return(vt.tm_year+1900).toString().substring(2)},"%Y":function(vt){return vt.tm_year+1900},"%z":function(vt){var yn=vt.tm_gmtoff,Co=yn>=0;return yn=(yn=Math.abs(yn)/60)/60*100+yn%60,(Co?"+":"-")+String("0000"+yn).slice(-4)},"%Z":function(vt){return vt.tm_zone},"%%":function(){return"%"}};for(var _t in Te=Te.replace(/%%/g,"\0\0"),fs)Te.includes(_t)&&(Te=Te.replace(new RegExp(_t,"g"),fs[_t](ve)));var Yo=un(Te=Te.replace(/\0\0/g,"%"),!1);return Yo.length>h?0:(function R(c,h){Qe.set(c,h)}(Yo,c),Yo.length-1)}(c,h,b,T)}},da=(function zr(){var c={a:El};function h(Te,He){l.asm=Te.exports,Ve((de=l.asm.t).buffer),ye=l.asm.hc,function Jr(c){Ae.unshift(c)}(l.asm.u),Lr()}function b(Te){h(Te.instance)}function T(Te){return function os(){return fe||!ue&&!X||"function"!=typeof fetch?Promise.resolve().then(function(){return eo(gn)}):fetch(gn,{credentials:"same-origin"}).then(function(c){if(!c.ok)throw"failed to load wasm binary file at '"+gn+"'";return c.arrayBuffer()}).catch(function(){return eo(gn)})}().then(function(He){return WebAssembly.instantiate(He,c)}).then(function(He){return He}).then(Te,function(He){K("failed to asynchronously prepare wasm: "+He),ar(He)})}if(Yr(),l.instantiateWasm)try{return l.instantiateWasm(c,h)}catch(Te){K("Module.instantiateWasm callback failed with error: "+Te),te(Te)}(function U(){return fe||"function"!=typeof WebAssembly.instantiateStreaming||oo(gn)||"function"!=typeof fetch?T(b):fetch(gn,{credentials:"same-origin"}).then(function(Te){return WebAssembly.instantiateStreaming(Te,c).then(b,function(_t){return K("wasm streaming compile failed: "+_t),K("falling back to ArrayBuffer instantiation"),T(b)})})})().catch(te)}(),l.___wasm_call_ctors=function(){return(l.___wasm_call_ctors=l.asm.u).apply(null,arguments)},l._malloc=function(){return(da=l._malloc=l.asm.v).apply(null,arguments)}),Zn=(l._free=function(){return(l._free=l.asm.w).apply(null,arguments)},l._main=function(){return(l._main=l.asm.x).apply(null,arguments)},l._emscripten_bind_VoidPtr___destroy___0=function(){return(Zn=l._emscripten_bind_VoidPtr___destroy___0=l.asm.y).apply(null,arguments)}),Tl=l._emscripten_bind_Cloudpilot_Cloudpilot_0=function(){return(Tl=l._emscripten_bind_Cloudpilot_Cloudpilot_0=l.asm.z).apply(null,arguments)},Ml=l._emscripten_bind_Cloudpilot_Malloc_1=function(){return(Ml=l._emscripten_bind_Cloudpilot_Malloc_1=l.asm.A).apply(null,arguments)},lc=l._emscripten_bind_Cloudpilot_Free_1=function(){return(lc=l._emscripten_bind_Cloudpilot_Free_1=l.asm.B).apply(null,arguments)},ht=l._emscripten_bind_Cloudpilot_Nullptr_0=function(){return(ht=l._emscripten_bind_Cloudpilot_Nullptr_0=l.asm.C).apply(null,arguments)},Ys=l._emscripten_bind_Cloudpilot_InitializeSession_3=function(){return(Ys=l._emscripten_bind_Cloudpilot_InitializeSession_3=l.asm.D).apply(null,arguments)},wr=l._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=function(){return(wr=l._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=l.asm.E).apply(null,arguments)},Es=l._emscripten_bind_Cloudpilot_RunEmulation_1=function(){return(Es=l._emscripten_bind_Cloudpilot_RunEmulation_1=l.asm.F).apply(null,arguments)},fa=l._emscripten_bind_Cloudpilot_SetClockFactor_1=function(){return(fa=l._emscripten_bind_Cloudpilot_SetClockFactor_1=l.asm.G).apply(null,arguments)},ao=l._emscripten_bind_Cloudpilot_CopyFrame_0=function(){return(ao=l._emscripten_bind_Cloudpilot_CopyFrame_0=l.asm.H).apply(null,arguments)},cs=l._emscripten_bind_Cloudpilot_IsScreenDirty_0=function(){return(cs=l._emscripten_bind_Cloudpilot_IsScreenDirty_0=l.asm.I).apply(null,arguments)},xi=l._emscripten_bind_Cloudpilot_MarkScreenClean_0=function(){return(xi=l._emscripten_bind_Cloudpilot_MarkScreenClean_0=l.asm.J).apply(null,arguments)},pa=l._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=function(){return(pa=l._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=l.asm.K).apply(null,arguments)},Bs=l._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=function(){return(Bs=l._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=l.asm.L).apply(null,arguments)},Xs=l._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=function(){return(Xs=l._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=l.asm.M).apply(null,arguments)},ha=l._emscripten_bind_Cloudpilot_QueuePenMove_2=function(){return(ha=l._emscripten_bind_Cloudpilot_QueuePenMove_2=l.asm.N).apply(null,arguments)},Za=l._emscripten_bind_Cloudpilot_QueuePenUp_0=function(){return(Za=l._emscripten_bind_Cloudpilot_QueuePenUp_0=l.asm.O).apply(null,arguments)},Mt=l._emscripten_bind_Cloudpilot_QueueButtonDown_1=function(){return(Mt=l._emscripten_bind_Cloudpilot_QueueButtonDown_1=l.asm.P).apply(null,arguments)},Qs=l._emscripten_bind_Cloudpilot_QueueButtonUp_1=function(){return(Qs=l._emscripten_bind_Cloudpilot_QueueButtonUp_1=l.asm.Q).apply(null,arguments)},vo=l._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=function(){return(vo=l._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=l.asm.R).apply(null,arguments)},lr=l._emscripten_bind_Cloudpilot_IsPowerOff_0=function(){return(lr=l._emscripten_bind_Cloudpilot_IsPowerOff_0=l.asm.S).apply(null,arguments)},Qr=l._emscripten_bind_Cloudpilot_IsUIInitialized_0=function(){return(Qr=l._emscripten_bind_Cloudpilot_IsUIInitialized_0=l.asm.T).apply(null,arguments)},$r=l._emscripten_bind_Cloudpilot_GetOSVersion_0=function(){return($r=l._emscripten_bind_Cloudpilot_GetOSVersion_0=l.asm.U).apply(null,arguments)},p=l._emscripten_bind_Cloudpilot_IsSetupComplete_0=function(){return(p=l._emscripten_bind_Cloudpilot_IsSetupComplete_0=l.asm.V).apply(null,arguments)},y=l._emscripten_bind_Cloudpilot_Reset_0=function(){return(y=l._emscripten_bind_Cloudpilot_Reset_0=l.asm.W).apply(null,arguments)},w=l._emscripten_bind_Cloudpilot_ResetNoExtensions_0=function(){return(w=l._emscripten_bind_Cloudpilot_ResetNoExtensions_0=l.asm.X).apply(null,arguments)},F=l._emscripten_bind_Cloudpilot_ResetHard_0=function(){return(F=l._emscripten_bind_Cloudpilot_ResetHard_0=l.asm.Y).apply(null,arguments)},G=l._emscripten_bind_Cloudpilot_InstallDb_2=function(){return(G=l._emscripten_bind_Cloudpilot_InstallDb_2=l.asm.Z).apply(null,arguments)},_e=l._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=function(){return(_e=l._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=l.asm._).apply(null,arguments)},De=l._emscripten_bind_Cloudpilot_GetMemoryPtr_0=function(){return(De=l._emscripten_bind_Cloudpilot_GetMemoryPtr_0=l.asm.$).apply(null,arguments)},je=l._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=function(){return(je=l._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=l.asm.aa).apply(null,arguments)},St=l._emscripten_bind_Cloudpilot_GetMemorySize_0=function(){return(St=l._emscripten_bind_Cloudpilot_GetMemorySize_0=l.asm.ba).apply(null,arguments)},hn=l._emscripten_bind_Cloudpilot_ImportMemoryImage_2=function(){return(hn=l._emscripten_bind_Cloudpilot_ImportMemoryImage_2=l.asm.ca).apply(null,arguments)},An=l._emscripten_bind_Cloudpilot_GetRomPtr_0=function(){return(An=l._emscripten_bind_Cloudpilot_GetRomPtr_0=l.asm.da).apply(null,arguments)},Pn=l._emscripten_bind_Cloudpilot_GetRomSize_0=function(){return(Pn=l._emscripten_bind_Cloudpilot_GetRomSize_0=l.asm.ea).apply(null,arguments)},zt=l._emscripten_bind_Cloudpilot_GetSavestatePtr_0=function(){return(zt=l._emscripten_bind_Cloudpilot_GetSavestatePtr_0=l.asm.fa).apply(null,arguments)},Kt=l._emscripten_bind_Cloudpilot_GetSavestateSize_0=function(){return(Kt=l._emscripten_bind_Cloudpilot_GetSavestateSize_0=l.asm.ga).apply(null,arguments)},ee=l._emscripten_bind_Cloudpilot_SaveState_0=function(){return(ee=l._emscripten_bind_Cloudpilot_SaveState_0=l.asm.ha).apply(null,arguments)},xr=l._emscripten_bind_Cloudpilot_LoadState_2=function(){return(xr=l._emscripten_bind_Cloudpilot_LoadState_2=l.asm.ia).apply(null,arguments)},_n=l._emscripten_bind_Cloudpilot_GetHotsyncName_0=function(){return(_n=l._emscripten_bind_Cloudpilot_GetHotsyncName_0=l.asm.ja).apply(null,arguments)},Wr=l._emscripten_bind_Cloudpilot_SetHotsyncName_1=function(){return(Wr=l._emscripten_bind_Cloudpilot_SetHotsyncName_1=l.asm.ka).apply(null,arguments)},pt=l._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=function(){return(pt=l._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=l.asm.la).apply(null,arguments)},Wt=l._emscripten_bind_Cloudpilot_StartBackup_0=function(){return(Wt=l._emscripten_bind_Cloudpilot_StartBackup_0=l.asm.ma).apply(null,arguments)},Zr=l._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=function(){return(Zr=l._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=l.asm.na).apply(null,arguments)},vr=l._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=function(){return(vr=l._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=l.asm.oa).apply(null,arguments)},qo=l._emscripten_bind_Cloudpilot_IsSuspended_0=function(){return(qo=l._emscripten_bind_Cloudpilot_IsSuspended_0=l.asm.pa).apply(null,arguments)},pr=l._emscripten_bind_Cloudpilot_GetSuspendContext_0=function(){return(pr=l._emscripten_bind_Cloudpilot_GetSuspendContext_0=l.asm.qa).apply(null,arguments)},yi=l._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=function(){return(yi=l._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=l.asm.ra).apply(null,arguments)},Kc=l._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=function(){return(Kc=l._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=l.asm.sa).apply(null,arguments)},Yc=l._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=function(){return(Yc=l._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=l.asm.ta).apply(null,arguments)},Ai=l._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=function(){return(Ai=l._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=l.asm.ua).apply(null,arguments)},Vi=l._emscripten_bind_Cloudpilot_LaunchAppByName_1=function(){return(Vi=l._emscripten_bind_Cloudpilot_LaunchAppByName_1=l.asm.va).apply(null,arguments)},nr=l._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=function(){return(nr=l._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=l.asm.wa).apply(null,arguments)},ma=l._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=function(){return(ma=l._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=l.asm.xa).apply(null,arguments)},qa=l._emscripten_bind_Cloudpilot_ClearExternalStorage_0=function(){return(qa=l._emscripten_bind_Cloudpilot_ClearExternalStorage_0=l.asm.ya).apply(null,arguments)},Ka=l._emscripten_bind_Cloudpilot_AllocateCard_2=function(){return(Ka=l._emscripten_bind_Cloudpilot_AllocateCard_2=l.asm.za).apply(null,arguments)},xl=l._emscripten_bind_Cloudpilot_MountCard_1=function(){return(xl=l._emscripten_bind_Cloudpilot_MountCard_1=l.asm.Aa).apply(null,arguments)},us=l._emscripten_bind_Cloudpilot_RemoveCard_1=function(){return(us=l._emscripten_bind_Cloudpilot_RemoveCard_1=l.asm.Ba).apply(null,arguments)},ga=l._emscripten_bind_Cloudpilot_GetCardData_1=function(){return(ga=l._emscripten_bind_Cloudpilot_GetCardData_1=l.asm.Ca).apply(null,arguments)},Cd=l._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=function(){return(Cd=l._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=l.asm.Da).apply(null,arguments)},ut=l._emscripten_bind_Cloudpilot_GetCardSize_1=function(){return(ut=l._emscripten_bind_Cloudpilot_GetCardSize_1=l.asm.Ea).apply(null,arguments)},Ya=l._emscripten_bind_Cloudpilot_RemountCards_0=function(){return(Ya=l._emscripten_bind_Cloudpilot_RemountCards_0=l.asm.Fa).apply(null,arguments)},cc=l._emscripten_bind_Cloudpilot_GetSupportLevel_1=function(){return(cc=l._emscripten_bind_Cloudpilot_GetSupportLevel_1=l.asm.Ga).apply(null,arguments)},Al=l._emscripten_bind_Cloudpilot_GetMountedKey_0=function(){return(Al=l._emscripten_bind_Cloudpilot_GetMountedKey_0=l.asm.Ha).apply(null,arguments)},Ar=l._emscripten_bind_Cloudpilot___destroy___0=function(){return(Ar=l._emscripten_bind_Cloudpilot___destroy___0=l.asm.Ia).apply(null,arguments)},lo=l._emscripten_bind_RomInfo_RomInfo_2=function(){return(lo=l._emscripten_bind_RomInfo_RomInfo_2=l.asm.Ja).apply(null,arguments)},Ui=l._emscripten_bind_RomInfo_IsValid_0=function(){return(Ui=l._emscripten_bind_RomInfo_IsValid_0=l.asm.Ka).apply(null,arguments)},xt=l._emscripten_bind_RomInfo_CardVersion_0=function(){return(xt=l._emscripten_bind_RomInfo_CardVersion_0=l.asm.La).apply(null,arguments)},co=l._emscripten_bind_RomInfo_CardName_0=function(){return(co=l._emscripten_bind_RomInfo_CardName_0=l.asm.Ma).apply(null,arguments)},cr=l._emscripten_bind_RomInfo_RomVersion_0=function(){return(cr=l._emscripten_bind_RomInfo_RomVersion_0=l.asm.Na).apply(null,arguments)},ko=l._emscripten_bind_RomInfo_RomVersionString_0=function(){return(ko=l._emscripten_bind_RomInfo_RomVersionString_0=l.asm.Oa).apply(null,arguments)},Oo=l._emscripten_bind_RomInfo_Supports_1=function(){return(Oo=l._emscripten_bind_RomInfo_Supports_1=l.asm.Pa).apply(null,arguments)},Js=l._emscripten_bind_RomInfo___destroy___0=function(){return(Js=l._emscripten_bind_RomInfo___destroy___0=l.asm.Qa).apply(null,arguments)},vn=l._emscripten_bind_Frame_GetLineWidth_0=function(){return(vn=l._emscripten_bind_Frame_GetLineWidth_0=l.asm.Ra).apply(null,arguments)},Ir=l._emscripten_bind_Frame_GetBpp_0=function(){return(Ir=l._emscripten_bind_Frame_GetBpp_0=l.asm.Sa).apply(null,arguments)},Et=l._emscripten_bind_Frame_GetLines_0=function(){return(Et=l._emscripten_bind_Frame_GetLines_0=l.asm.Ta).apply(null,arguments)},Yt=l._emscripten_bind_Frame_GetMargin_0=function(){return(Yt=l._emscripten_bind_Frame_GetMargin_0=l.asm.Ua).apply(null,arguments)},It=l._emscripten_bind_Frame_GetBytesPerLine_0=function(){return(It=l._emscripten_bind_Frame_GetBytesPerLine_0=l.asm.Va).apply(null,arguments)},ur=l._emscripten_bind_Frame_GetFirstDirtyLine_0=function(){return(ur=l._emscripten_bind_Frame_GetFirstDirtyLine_0=l.asm.Wa).apply(null,arguments)},rr=l._emscripten_bind_Frame_GetLastDirtyLine_0=function(){return(rr=l._emscripten_bind_Frame_GetLastDirtyLine_0=l.asm.Xa).apply(null,arguments)},qn=l._emscripten_bind_Frame_GetHasChanges_0=function(){return(qn=l._emscripten_bind_Frame_GetHasChanges_0=l.asm.Ya).apply(null,arguments)},hr=l._emscripten_bind_Frame_GetBuffer_0=function(){return(hr=l._emscripten_bind_Frame_GetBuffer_0=l.asm.Za).apply(null,arguments)},Sn=l._emscripten_bind_Frame_GetBufferSize_0=function(){return(Sn=l._emscripten_bind_Frame_GetBufferSize_0=l.asm._a).apply(null,arguments)},d=l._emscripten_bind_Frame_GetScaleX_0=function(){return(d=l._emscripten_bind_Frame_GetScaleX_0=l.asm.$a).apply(null,arguments)},g=l._emscripten_bind_Frame_GetScaleY_0=function(){return(g=l._emscripten_bind_Frame_GetScaleY_0=l.asm.ab).apply(null,arguments)},v=l._emscripten_bind_Frame___destroy___0=function(){return(v=l._emscripten_bind_Frame___destroy___0=l.asm.bb).apply(null,arguments)},P=l._emscripten_bind_DbBackup_Init_1=function(){return(P=l._emscripten_bind_DbBackup_Init_1=l.asm.cb).apply(null,arguments)},W=l._emscripten_bind_DbBackup_IsInProgress_0=function(){return(W=l._emscripten_bind_DbBackup_IsInProgress_0=l.asm.db).apply(null,arguments)},Ce=l._emscripten_bind_DbBackup_IsDone_0=function(){return(Ce=l._emscripten_bind_DbBackup_IsDone_0=l.asm.eb).apply(null,arguments)},we=l._emscripten_bind_DbBackup_GetCurrentDatabase_0=function(){return(we=l._emscripten_bind_DbBackup_GetCurrentDatabase_0=l.asm.fb).apply(null,arguments)},Re=l._emscripten_bind_DbBackup_Save_0=function(){return(Re=l._emscripten_bind_DbBackup_Save_0=l.asm.gb).apply(null,arguments)},Ct=l._emscripten_bind_DbBackup_Skip_0=function(){return(Ct=l._emscripten_bind_DbBackup_Skip_0=l.asm.hb).apply(null,arguments)},on=l._emscripten_bind_DbBackup_GetArchivePtr_0=function(){return(on=l._emscripten_bind_DbBackup_GetArchivePtr_0=l.asm.ib).apply(null,arguments)},wn=l._emscripten_bind_DbBackup_GetArchiveSize_0=function(){return(wn=l._emscripten_bind_DbBackup_GetArchiveSize_0=l.asm.jb).apply(null,arguments)},Nn=l._emscripten_bind_DbBackup___destroy___0=function(){return(Nn=l._emscripten_bind_DbBackup___destroy___0=l.asm.kb).apply(null,arguments)},dn=l._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=function(){return(dn=l._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=l.asm.lb).apply(null,arguments)},Dt=l._emscripten_bind_SuspendContextClipboardCopy_Resume_0=function(){return(Dt=l._emscripten_bind_SuspendContextClipboardCopy_Resume_0=l.asm.mb).apply(null,arguments)},Hn=l._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=function(){return(Hn=l._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=l.asm.nb).apply(null,arguments)},Br=l._emscripten_bind_SuspendContextClipboardCopy___destroy___0=function(){return(Br=l._emscripten_bind_SuspendContextClipboardCopy___destroy___0=l.asm.ob).apply(null,arguments)},si=l._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=function(){return(si=l._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=l.asm.pb).apply(null,arguments)},uo=l._emscripten_bind_SuspendContextClipboardPaste_Resume_1=function(){return(uo=l._emscripten_bind_SuspendContextClipboardPaste_Resume_1=l.asm.qb).apply(null,arguments)},mt=l._emscripten_bind_SuspendContextClipboardPaste___destroy___0=function(){return(mt=l._emscripten_bind_SuspendContextClipboardPaste___destroy___0=l.asm.rb).apply(null,arguments)},tn=l._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=function(){return(tn=l._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=l.asm.sb).apply(null,arguments)},or=l._emscripten_bind_SuspendContextNetworkConnect_Resume_1=function(){return(or=l._emscripten_bind_SuspendContextNetworkConnect_Resume_1=l.asm.tb).apply(null,arguments)},Pr=l._emscripten_bind_SuspendContextNetworkConnect___destroy___0=function(){return(Pr=l._emscripten_bind_SuspendContextNetworkConnect___destroy___0=l.asm.ub).apply(null,arguments)},Nr=l._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=function(){return(Nr=l._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=l.asm.vb).apply(null,arguments)},mr=l._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=function(){return(mr=l._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=l.asm.wb).apply(null,arguments)},Xc=l._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=function(){return(Xc=l._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=l.asm.xb).apply(null,arguments)},Pl=l._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=function(){return(Pl=l._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=l.asm.yb).apply(null,arguments)},uc=l._emscripten_bind_SuspendContextNetworkRpc___destroy___0=function(){return(uc=l._emscripten_bind_SuspendContextNetworkRpc___destroy___0=l.asm.zb).apply(null,arguments)},ds=l._emscripten_bind_SuspendContext_GetKind_0=function(){return(ds=l._emscripten_bind_SuspendContext_GetKind_0=l.asm.Ab).apply(null,arguments)},Sp=l._emscripten_bind_SuspendContext_Cancel_0=function(){return(Sp=l._emscripten_bind_SuspendContext_Cancel_0=l.asm.Bb).apply(null,arguments)},Qm=l._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=function(){return(Qm=l._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=l.asm.Cb).apply(null,arguments)},Ep=l._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=function(){return(Ep=l._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=l.asm.Db).apply(null,arguments)},Dp=l._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=function(){return(Dp=l._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=l.asm.Eb).apply(null,arguments)},Jm=l._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=function(){return(Jm=l._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=l.asm.Fb).apply(null,arguments)},eg=l._emscripten_bind_SuspendContext___destroy___0=function(){return(eg=l._emscripten_bind_SuspendContext___destroy___0=l.asm.Gb).apply(null,arguments)},tg=l._emscripten_bind_ZipfileWalker_ZipfileWalker_2=function(){return(tg=l._emscripten_bind_ZipfileWalker_ZipfileWalker_2=l.asm.Hb).apply(null,arguments)},ng=l._emscripten_bind_ZipfileWalker_GetState_0=function(){return(ng=l._emscripten_bind_ZipfileWalker_GetState_0=l.asm.Ib).apply(null,arguments)},rg=l._emscripten_bind_ZipfileWalker_Next_0=function(){return(rg=l._emscripten_bind_ZipfileWalker_Next_0=l.asm.Jb).apply(null,arguments)},og=l._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=function(){return(og=l._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=l.asm.Kb).apply(null,arguments)},ig=l._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=function(){return(ig=l._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=l.asm.Lb).apply(null,arguments)},sg=l._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=function(){return(sg=l._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=l.asm.Mb).apply(null,arguments)},ag=l._emscripten_bind_ZipfileWalker___destroy___0=function(){return(ag=l._emscripten_bind_ZipfileWalker___destroy___0=l.asm.Nb).apply(null,arguments)},lg=l._emscripten_bind_SessionImage_SessionImage_0=function(){return(lg=l._emscripten_bind_SessionImage_SessionImage_0=l.asm.Ob).apply(null,arguments)},cg=l._emscripten_bind_SessionImage_GetDeviceId_0=function(){return(cg=l._emscripten_bind_SessionImage_GetDeviceId_0=l.asm.Pb).apply(null,arguments)},ug=l._emscripten_bind_SessionImage_SetDeviceId_1=function(){return(ug=l._emscripten_bind_SessionImage_SetDeviceId_1=l.asm.Qb).apply(null,arguments)},wd=l._emscripten_bind_SessionImage_GetRomImage_0=function(){return(wd=l._emscripten_bind_SessionImage_GetRomImage_0=l.asm.Rb).apply(null,arguments)},Sd=l._emscripten_bind_SessionImage_GetRomImageSize_0=function(){return(Sd=l._emscripten_bind_SessionImage_GetRomImageSize_0=l.asm.Sb).apply(null,arguments)},dg=l._emscripten_bind_SessionImage_SetRomImage_2=function(){return(dg=l._emscripten_bind_SessionImage_SetRomImage_2=l.asm.Tb).apply(null,arguments)},fg=l._emscripten_bind_SessionImage_GetMemoryImage_0=function(){return(fg=l._emscripten_bind_SessionImage_GetMemoryImage_0=l.asm.Ub).apply(null,arguments)},pg=l._emscripten_bind_SessionImage_GetMemoryImageSize_0=function(){return(pg=l._emscripten_bind_SessionImage_GetMemoryImageSize_0=l.asm.Vb).apply(null,arguments)},ya=l._emscripten_bind_SessionImage_SetMemoryImage_2=function(){return(ya=l._emscripten_bind_SessionImage_SetMemoryImage_2=l.asm.Wb).apply(null,arguments)},Ip=l._emscripten_bind_SessionImage_GetMetadata_0=function(){return(Ip=l._emscripten_bind_SessionImage_GetMetadata_0=l.asm.Xb).apply(null,arguments)},No=l._emscripten_bind_SessionImage_GetMetadataSize_0=function(){return(No=l._emscripten_bind_SessionImage_GetMetadataSize_0=l.asm.Yb).apply(null,arguments)},Ed=l._emscripten_bind_SessionImage_SetMetadata_2=function(){return(Ed=l._emscripten_bind_SessionImage_SetMetadata_2=l.asm.Zb).apply(null,arguments)},kp=l._emscripten_bind_SessionImage_GetSavestate_0=function(){return(kp=l._emscripten_bind_SessionImage_GetSavestate_0=l.asm._b).apply(null,arguments)},Tp=l._emscripten_bind_SessionImage_GetSavestateSize_0=function(){return(Tp=l._emscripten_bind_SessionImage_GetSavestateSize_0=l.asm.$b).apply(null,arguments)},Dd=l._emscripten_bind_SessionImage_SetSavestate_2=function(){return(Dd=l._emscripten_bind_SessionImage_SetSavestate_2=l.asm.ac).apply(null,arguments)},Id=l._emscripten_bind_SessionImage_GetVersion_0=function(){return(Id=l._emscripten_bind_SessionImage_GetVersion_0=l.asm.bc).apply(null,arguments)},Mp=l._emscripten_bind_SessionImage_Serialize_0=function(){return(Mp=l._emscripten_bind_SessionImage_Serialize_0=l.asm.cc).apply(null,arguments)},Qc=l._emscripten_bind_SessionImage_GetSerializedImage_0=function(){return(Qc=l._emscripten_bind_SessionImage_GetSerializedImage_0=l.asm.dc).apply(null,arguments)},xp=l._emscripten_bind_SessionImage_GetSerializedImageSize_0=function(){return(xp=l._emscripten_bind_SessionImage_GetSerializedImageSize_0=l.asm.ec).apply(null,arguments)},ji=l._emscripten_bind_SessionImage_Deserialize_2=function(){return(ji=l._emscripten_bind_SessionImage_Deserialize_2=l.asm.fc).apply(null,arguments)},kd=l._emscripten_bind_SessionImage___destroy___0=function(){return(kd=l._emscripten_bind_SessionImage___destroy___0=l.asm.gc).apply(null,arguments)};function Hi(c){var h=l._main;try{var U=h(0,0);return function ot(c,h){ce=c,function Je(c){ce=c,function rn(){return Fe}()||(l.onExit&&l.onExit(c),it=!0),V(c,new Bn(c))}(c)}(U),U}catch(ve){return function xe(c){if(c instanceof Bn||"unwind"==c)return ce;V(1,c)}(ve)}}function Pp(c){function h(){Xa||(Xa=!0,l.calledRun=!0,!it&&(function Cn(){!l.noFSInit&&!D.init.initialized&&D.init(),D.ignorePermissions=!1,Ht.init(),qt(Ae)}(),function _r(){qt(At)}(),re(l),l.onRuntimeInitialized&&l.onRuntimeInitialized(),Td&&Hi(),function Qn(){if(l.postRun)for("function"==typeof l.postRun&&(l.postRun=[l.postRun]);l.postRun.length;)c=l.postRun.shift(),cn.unshift(c);var c;qt(cn)}()))}c=c||Q,Rn>0||(function H(){if(l.preRun)for("function"==typeof l.preRun&&(l.preRun=[l.preRun]);l.preRun.length;)c=l.preRun.shift(),ft.unshift(c);var c;qt(ft)}(),Rn>0)||(l.setStatus?(l.setStatus("Running..."),setTimeout(function(){setTimeout(function(){l.setStatus("")},1),h()},1)):h())}if(l.___original_main=function(){return(l.___original_main=l.asm.ic).apply(null,arguments)},l.___start_em_js=244003,l.___stop_em_js=244200,l.UTF8ToString=Oe,l.addFunction=function Mi(c,h){if(Mr||(Mr=new WeakMap,function gi(c,h){if(Mr)for(var b=c;b<c+h;b++){var T=Ro(b);T&&Mr.set(T,b)}}(0,ye.length)),Mr.has(c))return Mr.get(c);var b=function Ga(){if(ls.length)return ls.pop();try{ye.grow(1)}catch(c){throw c instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":c}return ye.length-1}();try{za(b,c)}catch(U){if(!(U instanceof TypeError))throw U;za(b,function Po(c,h){if("function"==typeof WebAssembly.Function)return new WebAssembly.Function(function wt(c){for(var h={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},b={parameters:[],results:"v"==c[0]?[]:[h[c[0]]]},T=1;T<c.length;++T)b.parameters.push(h[c[T]]),"j"===c[T]&&b.parameters.push("i32");return b}(h),c);var b=[1];!function pn(c,h){var b=c.slice(0,1),T=c.slice(1),U={i:127,p:127,j:126,f:125,d:124};h.push(96),Gt(T.length,h);for(var ve=0;ve<T.length;++ve)h.push(U[T[ve]]);"v"==b?h.push(0):h.push(1,U[b])}(h,b);var T=[0,97,115,109,1,0,0,0,1];Gt(b.length,T),T.push.apply(T,b),T.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var U=new WebAssembly.Module(new Uint8Array(T));return new WebAssembly.Instance(U,{e:{f:c}}).exports.f}(c,h))}return Mr.set(c,b),b},Un=function c(){Xa||Pp(),Xa||(Un=c)},l.preInit)for("function"==typeof l.preInit&&(l.preInit=[l.preInit]);l.preInit.length>0;)l.preInit.pop()();var Td=!0;function Rr(){}function To(c){return(c||Rr).__cache__}function gr(c,h){var b=To(h),T=b[c];return T||((T=Object.create((h||Rr).prototype)).ptr=c,b[c]=T)}l.noInitialRun&&(Td=!1),Pp(),(Rr.prototype=Object.create(Rr.prototype)).constructor=Rr,Rr.prototype.__class__=Rr,Rr.__cache__={},l.WrapperObject=Rr,l.getCache=To,l.wrapPointer=gr,l.castObject=function Jc(c,h){return gr(c.ptr,h)},l.NULL=gr(0),l.destroy=function hg(c){if(!c.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";c.__destroy__(),delete To(c.__class__)[c.ptr]},l.compare=function _a(c,h){return c.ptr===h.ptr},l.getPointer=function Rp(c){return c.ptr},l.getClass=function Md(c){return c.__class__};var kt={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(kt.needed){for(var c=0;c<kt.temps.length;c++)l._free(kt.temps[c]);kt.temps.length=0,l._free(kt.buffer),kt.buffer=0,kt.size+=kt.needed,kt.needed=0}kt.buffer||(kt.size+=128,kt.buffer=l._malloc(kt.size),be(kt.buffer)),kt.pos=0},alloc:function(c,h){be(kt.buffer);var U,T=c.length*h.BYTES_PER_ELEMENT;return kt.pos+(T=T+7&-8)>=kt.size?(be(T>0),kt.needed+=T,U=l._malloc(T),kt.temps.push(U)):(U=kt.buffer+kt.pos,kt.pos+=T),U},copy:function(c,h,b){switch(b>>>=0,h.BYTES_PER_ELEMENT){case 2:b>>>=1;break;case 4:b>>>=2;break;case 8:b>>>=3}for(var U=0;U<c.length;U++)h[b+U]=c[U]}};function Ko(c){if("string"==typeof c){var h=un(c),b=kt.alloc(h,Qe);return kt.copy(h,Qe,b),b}return c}function Vr(){throw"cannot construct a VoidPtr, no constructor in IDL"}function et(){this.ptr=Tl(),To(et)[this.ptr]=this}function ro(c,h){c&&"object"==typeof c&&(c=c.ptr),h&&"object"==typeof h&&(h=h.ptr),this.ptr=lo(c,h),To(ro)[this.ptr]=this}function sr(){throw"cannot construct a Frame, no constructor in IDL"}function Fr(){throw"cannot construct a DbBackup, no constructor in IDL"}function li(){throw"cannot construct a SuspendContextClipboardCopy, no constructor in IDL"}function Pi(){throw"cannot construct a SuspendContextClipboardPaste, no constructor in IDL"}function at(){throw"cannot construct a SuspendContextNetworkConnect, no constructor in IDL"}function En(){throw"cannot construct a SuspendContextNetworkRpc, no constructor in IDL"}function Pt(){throw"cannot construct a SuspendContext, no constructor in IDL"}function Ot(c,h){c&&"object"==typeof c&&(c=c.ptr),h&&"object"==typeof h&&(h=h.ptr),this.ptr=tg(c,h),To(Ot)[this.ptr]=this}function jt(){this.ptr=lg(),To(jt)[this.ptr]=this}return(Vr.prototype=Object.create(Rr.prototype)).constructor=Vr,Vr.prototype.__class__=Vr,Vr.__cache__={},l.VoidPtr=Vr,Vr.prototype.__destroy__=Vr.prototype.__destroy__=function(){Zn(this.ptr)},(et.prototype=Object.create(Rr.prototype)).constructor=et,et.prototype.__class__=et,et.__cache__={},l.Cloudpilot=et,et.prototype.Malloc=et.prototype.Malloc=function(c){return c&&"object"==typeof c&&(c=c.ptr),gr(Ml(this.ptr,c),Vr)},et.prototype.Free=et.prototype.Free=function(c){c&&"object"==typeof c&&(c=c.ptr),lc(this.ptr,c)},et.prototype.Nullptr=et.prototype.Nullptr=function(){return gr(ht(this.ptr),Vr)},et.prototype.InitializeSession=et.prototype.InitializeSession=function(c,h,b){var T=this.ptr;return kt.prepare(),c&&"object"==typeof c&&(c=c.ptr),h&&"object"==typeof h&&(h=h.ptr),b=b&&"object"==typeof b?b.ptr:Ko(b),!!Ys(T,c,h,b)},et.prototype.GetCyclesPerSecond=et.prototype.GetCyclesPerSecond=function(){return wr(this.ptr)},et.prototype.RunEmulation=et.prototype.RunEmulation=function(c){return c&&"object"==typeof c&&(c=c.ptr),Es(this.ptr,c)},et.prototype.SetClockFactor=et.prototype.SetClockFactor=function(c){c&&"object"==typeof c&&(c=c.ptr),fa(this.ptr,c)},et.prototype.CopyFrame=et.prototype.CopyFrame=function(){return gr(ao(this.ptr),sr)},et.prototype.IsScreenDirty=et.prototype.IsScreenDirty=function(){return!!cs(this.ptr)},et.prototype.MarkScreenClean=et.prototype.MarkScreenClean=function(){xi(this.ptr)},et.prototype.MinMemoryForDevice=et.prototype.MinMemoryForDevice=function(c){var h=this.ptr;return kt.prepare(),c=c&&"object"==typeof c?c.ptr:Ko(c),pa(h,c)},et.prototype.FramebufferSizeForDevice=et.prototype.FramebufferSizeForDevice=function(c){var h=this.ptr;return kt.prepare(),c=c&&"object"==typeof c?c.ptr:Ko(c),Bs(h,c)},et.prototype.TotalMemoryForDevice=et.prototype.TotalMemoryForDevice=function(c){var h=this.ptr;return kt.prepare(),c=c&&"object"==typeof c?c.ptr:Ko(c),Xs(h,c)},et.prototype.QueuePenMove=et.prototype.QueuePenMove=function(c,h){c&&"object"==typeof c&&(c=c.ptr),h&&"object"==typeof h&&(h=h.ptr),ha(this.ptr,c,h)},et.prototype.QueuePenUp=et.prototype.QueuePenUp=function(){Za(this.ptr)},et.prototype.QueueButtonDown=et.prototype.QueueButtonDown=function(c){c&&"object"==typeof c&&(c=c.ptr),Mt(this.ptr,c)},et.prototype.QueueButtonUp=et.prototype.QueueButtonUp=function(c){c&&"object"==typeof c&&(c=c.ptr),Qs(this.ptr,c)},et.prototype.QueueKeyboardEvent=et.prototype.QueueKeyboardEvent=function(c,h){c&&"object"==typeof c&&(c=c.ptr),h&&"object"==typeof h&&(h=h.ptr),vo(this.ptr,c,h)},et.prototype.IsPowerOff=et.prototype.IsPowerOff=function(){return!!lr(this.ptr)},et.prototype.IsUIInitialized=et.prototype.IsUIInitialized=function(){return!!Qr(this.ptr)},et.prototype.GetOSVersion=et.prototype.GetOSVersion=function(){return $r(this.ptr)},et.prototype.IsSetupComplete=et.prototype.IsSetupComplete=function(){return!!p(this.ptr)},et.prototype.Reset=et.prototype.Reset=function(){y(this.ptr)},et.prototype.ResetNoExtensions=et.prototype.ResetNoExtensions=function(){w(this.ptr)},et.prototype.ResetHard=et.prototype.ResetHard=function(){F(this.ptr)},et.prototype.InstallDb=et.prototype.InstallDb=function(c,h){return c&&"object"==typeof c&&(c=c.ptr),h&&"object"==typeof h&&(h=h.ptr),G(this.ptr,c,h)},et.prototype.GetPalette2bitMapping=et.prototype.GetPalette2bitMapping=function(){return _e(this.ptr)},et.prototype.GetMemoryPtr=et.prototype.GetMemoryPtr=function(){return gr(De(this.ptr),Vr)},et.prototype.GetDirtyPagesPtr=et.prototype.GetDirtyPagesPtr=function(){return gr(je(this.ptr),Vr)},et.prototype.GetMemorySize=et.prototype.GetMemorySize=function(){return St(this.ptr)},et.prototype.ImportMemoryImage=et.prototype.ImportMemoryImage=function(c,h){return c&&"object"==typeof c&&(c=c.ptr),h&&"object"==typeof h&&(h=h.ptr),!!hn(this.ptr,c,h)},et.prototype.GetRomPtr=et.prototype.GetRomPtr=function(){return gr(An(this.ptr),Vr)},et.prototype.GetRomSize=et.prototype.GetRomSize=function(){return Pn(this.ptr)},et.prototype.GetSavestatePtr=et.prototype.GetSavestatePtr=function(){return gr(zt(this.ptr),Vr)},et.prototype.GetSavestateSize=et.prototype.GetSavestateSize=function(){return Kt(this.ptr)},et.prototype.SaveState=et.prototype.SaveState=function(){return!!ee(this.ptr)},et.prototype.LoadState=et.prototype.LoadState=function(c,h){return c&&"object"==typeof c&&(c=c.ptr),h&&"object"==typeof h&&(h=h.ptr),!!xr(this.ptr,c,h)},et.prototype.GetHotsyncName=et.prototype.GetHotsyncName=function(){return Oe(_n(this.ptr))},et.prototype.SetHotsyncName=et.prototype.SetHotsyncName=function(c){var h=this.ptr;kt.prepare(),c=c&&"object"==typeof c?c.ptr:Ko(c),Wr(h,c)},et.prototype.RegisterPwmHandler=et.prototype.RegisterPwmHandler=function(c){c&&"object"==typeof c&&(c=c.ptr),pt(this.ptr,c)},et.prototype.StartBackup=et.prototype.StartBackup=function(){return gr(Wt(this.ptr),Fr)},et.prototype.SetClipboardIntegration=et.prototype.SetClipboardIntegration=function(c){c&&"object"==typeof c&&(c=c.ptr),Zr(this.ptr,c)},et.prototype.GetClipboardIntegration=et.prototype.GetClipboardIntegration=function(){return!!vr(this.ptr)},et.prototype.IsSuspended=et.prototype.IsSuspended=function(){return!!qo(this.ptr)},et.prototype.GetSuspendContext=et.prototype.GetSuspendContext=function(){return gr(pr(this.ptr),Pt)},et.prototype.SetNetworkRedirection=et.prototype.SetNetworkRedirection=function(c){c&&"object"==typeof c&&(c=c.ptr),yi(this.ptr,c)},et.prototype.GetNetworkRedirection=et.prototype.GetNetworkRedirection=function(){return!!Kc(this.ptr)},et.prototype.RegisterProxyDisconnectHandler=et.prototype.RegisterProxyDisconnectHandler=function(c){c&&"object"==typeof c&&(c=c.ptr),Yc(this.ptr,c)},et.prototype.SetHotsyncNameManagement=et.prototype.SetHotsyncNameManagement=function(c){c&&"object"==typeof c&&(c=c.ptr),Ai(this.ptr,c)},et.prototype.LaunchAppByName=et.prototype.LaunchAppByName=function(c){var h=this.ptr;return kt.prepare(),c=c&&"object"==typeof c?c.ptr:Ko(c),!!Vi(h,c)},et.prototype.LaunchAppByDbHeader=et.prototype.LaunchAppByDbHeader=function(c,h){return c&&"object"==typeof c&&(c=c.ptr),h&&"object"==typeof h&&(h=h.ptr),!!nr(this.ptr,c,h)},et.prototype.DeviceSupportsCardSize=et.prototype.DeviceSupportsCardSize=function(c){return c&&"object"==typeof c&&(c=c.ptr),!!ma(this.ptr,c)},et.prototype.ClearExternalStorage=et.prototype.ClearExternalStorage=function(){qa(this.ptr)},et.prototype.AllocateCard=et.prototype.AllocateCard=function(c,h){var b=this.ptr;return kt.prepare(),c=c&&"object"==typeof c?c.ptr:Ko(c),h&&"object"==typeof h&&(h=h.ptr),!!Ka(b,c,h)},et.prototype.MountCard=et.prototype.MountCard=function(c){var h=this.ptr;return kt.prepare(),c=c&&"object"==typeof c?c.ptr:Ko(c),!!xl(h,c)},et.prototype.RemoveCard=et.prototype.RemoveCard=function(c){var h=this.ptr;return kt.prepare(),c=c&&"object"==typeof c?c.ptr:Ko(c),!!us(h,c)},et.prototype.GetCardData=et.prototype.GetCardData=function(c){var h=this.ptr;return kt.prepare(),c=c&&"object"==typeof c?c.ptr:Ko(c),gr(ga(h,c),Vr)},et.prototype.GetCardDirtyPages=et.prototype.GetCardDirtyPages=function(c){var h=this.ptr;return kt.prepare(),c=c&&"object"==typeof c?c.ptr:Ko(c),gr(Cd(h,c),Vr)},et.prototype.GetCardSize=et.prototype.GetCardSize=function(c){var h=this.ptr;return kt.prepare(),c=c&&"object"==typeof c?c.ptr:Ko(c),ut(h,c)},et.prototype.RemountCards=et.prototype.RemountCards=function(){Ya(this.ptr)},et.prototype.GetSupportLevel=et.prototype.GetSupportLevel=function(c){return c&&"object"==typeof c&&(c=c.ptr),cc(this.ptr,c)},et.prototype.GetMountedKey=et.prototype.GetMountedKey=function(){return Oe(Al(this.ptr))},et.prototype.__destroy__=et.prototype.__destroy__=function(){Ar(this.ptr)},(ro.prototype=Object.create(Rr.prototype)).constructor=ro,ro.prototype.__class__=ro,ro.__cache__={},l.RomInfo=ro,ro.prototype.IsValid=ro.prototype.IsValid=function(){return!!Ui(this.ptr)},ro.prototype.CardVersion=ro.prototype.CardVersion=function(){return xt(this.ptr)},ro.prototype.CardName=ro.prototype.CardName=function(){return Oe(co(this.ptr))},ro.prototype.RomVersion=ro.prototype.RomVersion=function(){return cr(this.ptr)},ro.prototype.RomVersionString=ro.prototype.RomVersionString=function(){return Oe(ko(this.ptr))},ro.prototype.Supports=ro.prototype.Supports=function(c){var h=this.ptr;return kt.prepare(),c=c&&"object"==typeof c?c.ptr:Ko(c),!!Oo(h,c)},ro.prototype.__destroy__=ro.prototype.__destroy__=function(){Js(this.ptr)},(sr.prototype=Object.create(Rr.prototype)).constructor=sr,sr.prototype.__class__=sr,sr.__cache__={},l.Frame=sr,sr.prototype.GetLineWidth=sr.prototype.GetLineWidth=function(){return vn(this.ptr)},sr.prototype.GetBpp=sr.prototype.GetBpp=function(){return Ir(this.ptr)},sr.prototype.GetLines=sr.prototype.GetLines=function(){return Et(this.ptr)},sr.prototype.GetMargin=sr.prototype.GetMargin=function(){return Yt(this.ptr)},sr.prototype.GetBytesPerLine=sr.prototype.GetBytesPerLine=function(){return It(this.ptr)},sr.prototype.GetFirstDirtyLine=sr.prototype.GetFirstDirtyLine=function(){return ur(this.ptr)},sr.prototype.GetLastDirtyLine=sr.prototype.GetLastDirtyLine=function(){return rr(this.ptr)},sr.prototype.GetHasChanges=sr.prototype.GetHasChanges=function(){return!!qn(this.ptr)},sr.prototype.GetBuffer=sr.prototype.GetBuffer=function(){return gr(hr(this.ptr),Vr)},sr.prototype.GetBufferSize=sr.prototype.GetBufferSize=function(){return Sn(this.ptr)},sr.prototype.GetScaleX=sr.prototype.GetScaleX=function(){return d(this.ptr)},sr.prototype.GetScaleY=sr.prototype.GetScaleY=function(){return g(this.ptr)},sr.prototype.__destroy__=sr.prototype.__destroy__=function(){v(this.ptr)},(Fr.prototype=Object.create(Rr.prototype)).constructor=Fr,Fr.prototype.__class__=Fr,Fr.__cache__={},l.DbBackup=Fr,Fr.prototype.Init=Fr.prototype.Init=function(c){return c&&"object"==typeof c&&(c=c.ptr),!!P(this.ptr,c)},Fr.prototype.IsInProgress=Fr.prototype.IsInProgress=function(){return!!W(this.ptr)},Fr.prototype.IsDone=Fr.prototype.IsDone=function(){return!!Ce(this.ptr)},Fr.prototype.GetCurrentDatabase=Fr.prototype.GetCurrentDatabase=function(){return Oe(we(this.ptr))},Fr.prototype.Save=Fr.prototype.Save=function(){return!!Re(this.ptr)},Fr.prototype.Skip=Fr.prototype.Skip=function(){Ct(this.ptr)},Fr.prototype.GetArchivePtr=Fr.prototype.GetArchivePtr=function(){return gr(on(this.ptr),Vr)},Fr.prototype.GetArchiveSize=Fr.prototype.GetArchiveSize=function(){return wn(this.ptr)},Fr.prototype.__destroy__=Fr.prototype.__destroy__=function(){Nn(this.ptr)},(li.prototype=Object.create(Rr.prototype)).constructor=li,li.prototype.__class__=li,li.__cache__={},l.SuspendContextClipboardCopy=li,li.prototype.Cancel=li.prototype.Cancel=function(){dn(this.ptr)},li.prototype.Resume=li.prototype.Resume=function(){Dt(this.ptr)},li.prototype.GetClipboardContent=li.prototype.GetClipboardContent=function(){return Oe(Hn(this.ptr))},li.prototype.__destroy__=li.prototype.__destroy__=function(){Br(this.ptr)},(Pi.prototype=Object.create(Rr.prototype)).constructor=Pi,Pi.prototype.__class__=Pi,Pi.__cache__={},l.SuspendContextClipboardPaste=Pi,Pi.prototype.Cancel=Pi.prototype.Cancel=function(){si(this.ptr)},Pi.prototype.Resume=Pi.prototype.Resume=function(c){var h=this.ptr;kt.prepare(),c=c&&"object"==typeof c?c.ptr:Ko(c),uo(h,c)},Pi.prototype.__destroy__=Pi.prototype.__destroy__=function(){mt(this.ptr)},(at.prototype=Object.create(Rr.prototype)).constructor=at,at.prototype.__class__=at,at.__cache__={},l.SuspendContextNetworkConnect=at,at.prototype.Cancel=at.prototype.Cancel=function(){tn(this.ptr)},at.prototype.Resume=at.prototype.Resume=function(c){var h=this.ptr;kt.prepare(),c=c&&"object"==typeof c?c.ptr:Ko(c),or(h,c)},at.prototype.__destroy__=at.prototype.__destroy__=function(){Pr(this.ptr)},(En.prototype=Object.create(Rr.prototype)).constructor=En,En.prototype.__class__=En,En.__cache__={},l.SuspendContextNetworkRpc=En,En.prototype.Cancel=En.prototype.Cancel=function(){Nr(this.ptr)},En.prototype.GetRequestSize=En.prototype.GetRequestSize=function(){return mr(this.ptr)},En.prototype.GetRequestData=En.prototype.GetRequestData=function(){return gr(Xc(this.ptr),Vr)},En.prototype.ReceiveResponse=En.prototype.ReceiveResponse=function(c,h){c&&"object"==typeof c&&(c=c.ptr),h&&"object"==typeof h&&(h=h.ptr),Pl(this.ptr,c,h)},En.prototype.__destroy__=En.prototype.__destroy__=function(){uc(this.ptr)},(Pt.prototype=Object.create(Rr.prototype)).constructor=Pt,Pt.prototype.__class__=Pt,Pt.__cache__={},l.SuspendContext=Pt,Pt.prototype.GetKind=Pt.prototype.GetKind=function(){return ds(this.ptr)},Pt.prototype.Cancel=Pt.prototype.Cancel=function(){Sp(this.ptr)},Pt.prototype.AsContextClipboardCopy=Pt.prototype.AsContextClipboardCopy=function(){return gr(Qm(this.ptr),li)},Pt.prototype.AsContextClipboardPaste=Pt.prototype.AsContextClipboardPaste=function(){return gr(Ep(this.ptr),Pi)},Pt.prototype.AsContextNetworkConnect=Pt.prototype.AsContextNetworkConnect=function(){return gr(Dp(this.ptr),at)},Pt.prototype.AsContextNetworkRpc=Pt.prototype.AsContextNetworkRpc=function(){return gr(Jm(this.ptr),En)},Pt.prototype.__destroy__=Pt.prototype.__destroy__=function(){eg(this.ptr)},(Ot.prototype=Object.create(Rr.prototype)).constructor=Ot,Ot.prototype.__class__=Ot,Ot.__cache__={},l.ZipfileWalker=Ot,Ot.prototype.GetState=Ot.prototype.GetState=function(){return ng(this.ptr)},Ot.prototype.Next=Ot.prototype.Next=function(){return rg(this.ptr)},Ot.prototype.GetCurrentEntrySize=Ot.prototype.GetCurrentEntrySize=function(){return og(this.ptr)},Ot.prototype.GetCurrentEntryName=Ot.prototype.GetCurrentEntryName=function(){return Oe(ig(this.ptr))},Ot.prototype.GetCurrentEntryContent=Ot.prototype.GetCurrentEntryContent=function(){return gr(sg(this.ptr),Vr)},Ot.prototype.__destroy__=Ot.prototype.__destroy__=function(){ag(this.ptr)},(jt.prototype=Object.create(Rr.prototype)).constructor=jt,jt.prototype.__class__=jt,jt.__cache__={},l.SessionImage=jt,jt.prototype.GetDeviceId=jt.prototype.GetDeviceId=function(){return Oe(cg(this.ptr))},jt.prototype.SetDeviceId=jt.prototype.SetDeviceId=function(c){var h=this.ptr;return kt.prepare(),c=c&&"object"==typeof c?c.ptr:Ko(c),gr(ug(h,c),jt)},jt.prototype.GetRomImage=jt.prototype.GetRomImage=function(){return gr(wd(this.ptr),Vr)},jt.prototype.GetRomImageSize=jt.prototype.GetRomImageSize=function(){return Sd(this.ptr)},jt.prototype.SetRomImage=jt.prototype.SetRomImage=function(c,h){return c&&"object"==typeof c&&(c=c.ptr),h&&"object"==typeof h&&(h=h.ptr),gr(dg(this.ptr,c,h),jt)},jt.prototype.GetMemoryImage=jt.prototype.GetMemoryImage=function(){return gr(fg(this.ptr),Vr)},jt.prototype.GetMemoryImageSize=jt.prototype.GetMemoryImageSize=function(){return pg(this.ptr)},jt.prototype.SetMemoryImage=jt.prototype.SetMemoryImage=function(c,h){return c&&"object"==typeof c&&(c=c.ptr),h&&"object"==typeof h&&(h=h.ptr),gr(ya(this.ptr,c,h),jt)},jt.prototype.GetMetadata=jt.prototype.GetMetadata=function(){return gr(Ip(this.ptr),Vr)},jt.prototype.GetMetadataSize=jt.prototype.GetMetadataSize=function(){return No(this.ptr)},jt.prototype.SetMetadata=jt.prototype.SetMetadata=function(c,h){return c&&"object"==typeof c&&(c=c.ptr),h&&"object"==typeof h&&(h=h.ptr),gr(Ed(this.ptr,c,h),jt)},jt.prototype.GetSavestate=jt.prototype.GetSavestate=function(){return gr(kp(this.ptr),Vr)},jt.prototype.GetSavestateSize=jt.prototype.GetSavestateSize=function(){return Tp(this.ptr)},jt.prototype.SetSavestate=jt.prototype.SetSavestate=function(c,h){return c&&"object"==typeof c&&(c=c.ptr),h&&"object"==typeof h&&(h=h.ptr),gr(Dd(this.ptr,c,h),jt)},jt.prototype.GetVersion=jt.prototype.GetVersion=function(){return Id(this.ptr)},jt.prototype.Serialize=jt.prototype.Serialize=function(){return!!Mp(this.ptr)},jt.prototype.GetSerializedImage=jt.prototype.GetSerializedImage=function(){return gr(Qc(this.ptr),Vr)},jt.prototype.GetSerializedImageSize=jt.prototype.GetSerializedImageSize=function(){return xp(this.ptr)},jt.prototype.Deserialize=jt.prototype.Deserialize=function(c,h){return c&&"object"==typeof c&&(c=c.ptr),h&&"object"==typeof h&&(h=h.ptr),!!ji(this.ptr,c,h)},jt.prototype.__destroy__=jt.prototype.__destroy__=function(){kd(this.ptr)},I.ready});Be.exports=We},9084:Be=>{var A,We=(A=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(I){var re,te,l=typeof(I=I||{})<"u"?I:{};l.ready=new Promise(function(p,y){re=p,te=y});var j,Pe,$e,z=Object.assign({},l),Q=[],L="./this.program",V=(p,y)=>{throw y},ue="object"==typeof window,X="function"==typeof importScripts,B=("object"==typeof process&&"object"==typeof process.versions&&process,"");(ue||X)&&(X?B=self.location.href:typeof document<"u"&&document.currentScript&&(B=document.currentScript.src),A&&(B=A),B=0!==B.indexOf("blob:")?B.substr(0,B.replace(/[?#].*/,"").lastIndexOf("/")+1):"",j=p=>{var y=new XMLHttpRequest;return y.open("GET",p,!1),y.send(null),y.responseText},X&&($e=p=>{var y=new XMLHttpRequest;return y.open("GET",p,!1),y.responseType="arraybuffer",y.send(null),new Uint8Array(y.response)}),Pe=(p,y,w)=>{var F=new XMLHttpRequest;F.open("GET",p,!0),F.responseType="arraybuffer",F.onload=()=>{200==F.status||0==F.status&&F.response?y(F.response):w()},F.onerror=w,F.send(null)});var fe,Z=l.print||console.log.bind(console),K=l.printErr||console.warn.bind(console);Object.assign(l,z),z=null,l.arguments&&(Q=l.arguments),l.thisProgram&&(L=l.thisProgram),l.quit&&(V=l.quit),l.wasmBinary&&(fe=l.wasmBinary);var Fe=l.noExitRuntime||!0;"object"!=typeof WebAssembly&&ar("no native wasm support detected");var de,ce,it=!1;function be(p,y){p||ar(y)}var Ue,Qe,yt,O,ge,nt,Ie=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Xe(p,y,w){for(var F=y+w,G=y;p[G]&&!(G>=F);)++G;if(G-y>16&&p.buffer&&Ie)return Ie.decode(p.subarray(y,G));for(var _e="";y<G;){var De=p[y++];if(128&De){var je=63&p[y++];if(192!=(224&De)){var St=63&p[y++];if((De=224==(240&De)?(15&De)<<12|je<<6|St:(7&De)<<18|je<<12|St<<6|63&p[y++])<65536)_e+=String.fromCharCode(De);else{var hn=De-65536;_e+=String.fromCharCode(55296|hn>>10,56320|1023&hn)}}else _e+=String.fromCharCode((31&De)<<6|je)}else _e+=String.fromCharCode(De)}return _e}function Oe(p,y){return p?Xe(yt,p,y):""}function Me(p,y,w,F){if(!(F>0))return 0;for(var G=w,_e=w+F-1,De=0;De<p.length;++De){var je=p.charCodeAt(De);if(je>=55296&&je<=57343&&(je=65536+((1023&je)<<10)|1023&p.charCodeAt(++De)),je<=127){if(w>=_e)break;y[w++]=je}else if(je<=2047){if(w+1>=_e)break;y[w++]=192|je>>6,y[w++]=128|63&je}else if(je<=65535){if(w+2>=_e)break;y[w++]=224|je>>12,y[w++]=128|je>>6&63,y[w++]=128|63&je}else{if(w+3>=_e)break;y[w++]=240|je>>18,y[w++]=128|je>>12&63,y[w++]=128|je>>6&63,y[w++]=128|63&je}}return y[w]=0,w-G}function ne(p){for(var y=0,w=0;w<p.length;++w){var F=p.charCodeAt(w);F<=127?y++:F<=2047?y+=2:F>=55296&&F<=57343?(y+=4,++w):y+=3}return y}function Ve(p){Ue=p,l.HEAP8=Qe=new Int8Array(p),l.HEAP16=new Int16Array(p),l.HEAP32=O=new Int32Array(p),l.HEAPU8=yt=new Uint8Array(p),l.HEAPU16=new Uint16Array(p),l.HEAPU32=ge=new Uint32Array(p),l.HEAPF32=new Float32Array(p),l.HEAPF64=nt=new Float64Array(p)}var gn,ft=[],Ae=[],At=[],cn=[],Rn=0,yo=null,Un=null;function Yr(p){Rn++,l.monitorRunDependencies&&l.monitorRunDependencies(Rn)}function Lr(p){if(Rn--,l.monitorRunDependencies&&l.monitorRunDependencies(Rn),0==Rn&&(null!==yo&&(clearInterval(yo),yo=null),Un)){var y=Un;Un=null,y()}}function ar(p){l.onAbort&&l.onAbort(p),K(p="Aborted("+p+")"),it=!0,ce=1,p+=". Build with -sASSERTIONS for more info.";var y=new WebAssembly.RuntimeError(p);throw te(y),y}function oo(p){return p.startsWith("data:application/octet-stream;base64,")}function eo(p){try{if(p==gn&&fe)return new Uint8Array(fe);if($e)return $e(p);throw"both async and sync fetching of the wasm failed"}catch(y){ar(y)}}oo(gn="fstools_web.wasm")||(gn=function $(p){return l.locateFile?l.locateFile(p,B):B+p}(gn));var lt,le,ze={40318:()=>{throw new Error("terminated")}};function Fn(p){this.name="ExitStatus",this.message="Program terminated with exit("+p+")",this.status=p}function Bn(p){for(;p.length>0;)p.shift()(l)}var qt={isAbs:p=>"/"===p.charAt(0),splitPath:p=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(p).slice(1),normalizeArray:(p,y)=>{for(var w=0,F=p.length-1;F>=0;F--){var G=p[F];"."===G?p.splice(F,1):".."===G?(p.splice(F,1),w++):w&&(p.splice(F,1),w--)}if(y)for(;w;w--)p.unshift("..");return p},normalize:p=>{var y=qt.isAbs(p),w="/"===p.substr(-1);return!(p=qt.normalizeArray(p.split("/").filter(F=>!!F),!y).join("/"))&&!y&&(p="."),p&&w&&(p+="/"),(y?"/":"")+p},dirname:p=>{var y=qt.splitPath(p),w=y[0],F=y[1];return w||F?(F&&(F=F.substr(0,F.length-1)),w+F):"."},basename:p=>{if("/"===p)return"/";var y=(p=(p=qt.normalize(p)).replace(/\/$/,"")).lastIndexOf("/");return-1===y?p:p.substr(y+1)},join:function(){var p=Array.prototype.slice.call(arguments);return qt.normalize(p.join("/"))},join2:(p,y)=>qt.normalize(p+"/"+y)},br={resolve:function(){for(var p="",y=!1,w=arguments.length-1;w>=-1&&!y;w--){var F=w>=0?arguments[w]:E.cwd();if("string"!=typeof F)throw new TypeError("Arguments to path.resolve must be strings");if(!F)return"";p=F+"/"+p,y=qt.isAbs(F)}return(y?"/":"")+(p=qt.normalizeArray(p.split("/").filter(G=>!!G),!y).join("/"))||"."},relative:(p,y)=>{function w(hn){for(var An=0;An<hn.length&&""===hn[An];An++);for(var Pn=hn.length-1;Pn>=0&&""===hn[Pn];Pn--);return An>Pn?[]:hn.slice(An,Pn-An+1)}p=br.resolve(p).substr(1),y=br.resolve(y).substr(1);for(var F=w(p.split("/")),G=w(y.split("/")),_e=Math.min(F.length,G.length),De=_e,je=0;je<_e;je++)if(F[je]!==G[je]){De=je;break}var St=[];for(je=De;je<F.length;je++)St.push("..");return(St=St.concat(G.slice(De))).join("/")}};function en(p,y,w){var F=w>0?w:ne(p)+1,G=new Array(F),_e=Me(p,G,0,G.length);return y&&(G.length=_e),G}var Jn={ttys:[],init:function(){},shutdown:function(){},register:function(p,y){Jn.ttys[p]={input:[],output:[],ops:y},E.registerDevice(p,Jn.stream_ops)},stream_ops:{open:function(p){var y=Jn.ttys[p.node.rdev];if(!y)throw new E.ErrnoError(43);p.tty=y,p.seekable=!1},close:function(p){p.tty.ops.fsync(p.tty)},fsync:function(p){p.tty.ops.fsync(p.tty)},read:function(p,y,w,F,G){if(!p.tty||!p.tty.ops.get_char)throw new E.ErrnoError(60);for(var _e=0,De=0;De<F;De++){var je;try{je=p.tty.ops.get_char(p.tty)}catch{throw new E.ErrnoError(29)}if(void 0===je&&0===_e)throw new E.ErrnoError(6);if(null==je)break;_e++,y[w+De]=je}return _e&&(p.node.timestamp=Date.now()),_e},write:function(p,y,w,F,G){if(!p.tty||!p.tty.ops.put_char)throw new E.ErrnoError(60);try{for(var _e=0;_e<F;_e++)p.tty.ops.put_char(p.tty,y[w+_e])}catch{throw new E.ErrnoError(29)}return F&&(p.node.timestamp=Date.now()),_e}},default_tty_ops:{get_char:function(p){if(!p.input.length){var y=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(y=window.prompt("Input: "))&&(y+="\n"):"function"==typeof readline&&null!==(y=readline())&&(y+="\n"),!y)return null;p.input=en(y,!0)}return p.input.shift()},put_char:function(p,y){null===y||10===y?(Z(Xe(p.output,0)),p.output=[]):0!=y&&p.output.push(y)},fsync:function(p){p.output&&p.output.length>0&&(Z(Xe(p.output,0)),p.output=[])}},default_tty1_ops:{put_char:function(p,y){null===y||10===y?(K(Xe(p.output,0)),p.output=[]):0!=y&&p.output.push(y)},fsync:function(p){p.output&&p.output.length>0&&(K(Xe(p.output,0)),p.output=[])}}};function er(p){ar()}var un={ops_table:null,mount:function(p){return un.createNode(null,"/",16895,0)},createNode:function(p,y,w,F){if(E.isBlkdev(w)||E.isFIFO(w))throw new E.ErrnoError(63);un.ops_table||(un.ops_table={dir:{node:{getattr:un.node_ops.getattr,setattr:un.node_ops.setattr,lookup:un.node_ops.lookup,mknod:un.node_ops.mknod,rename:un.node_ops.rename,unlink:un.node_ops.unlink,rmdir:un.node_ops.rmdir,readdir:un.node_ops.readdir,symlink:un.node_ops.symlink},stream:{llseek:un.stream_ops.llseek}},file:{node:{getattr:un.node_ops.getattr,setattr:un.node_ops.setattr},stream:{llseek:un.stream_ops.llseek,read:un.stream_ops.read,write:un.stream_ops.write,allocate:un.stream_ops.allocate,mmap:un.stream_ops.mmap,msync:un.stream_ops.msync}},link:{node:{getattr:un.node_ops.getattr,setattr:un.node_ops.setattr,readlink:un.node_ops.readlink},stream:{}},chrdev:{node:{getattr:un.node_ops.getattr,setattr:un.node_ops.setattr},stream:E.chrdev_stream_ops}});var G=E.createNode(p,y,w,F);return E.isDir(G.mode)?(G.node_ops=un.ops_table.dir.node,G.stream_ops=un.ops_table.dir.stream,G.contents={}):E.isFile(G.mode)?(G.node_ops=un.ops_table.file.node,G.stream_ops=un.ops_table.file.stream,G.usedBytes=0,G.contents=null):E.isLink(G.mode)?(G.node_ops=un.ops_table.link.node,G.stream_ops=un.ops_table.link.stream):E.isChrdev(G.mode)&&(G.node_ops=un.ops_table.chrdev.node,G.stream_ops=un.ops_table.chrdev.stream),G.timestamp=Date.now(),p&&(p.contents[y]=G,p.timestamp=G.timestamp),G},getFileDataAsTypedArray:function(p){return p.contents?p.contents.subarray?p.contents.subarray(0,p.usedBytes):new Uint8Array(p.contents):new Uint8Array(0)},expandFileStorage:function(p,y){var w=p.contents?p.contents.length:0;if(!(w>=y)){y=Math.max(y,w*(w<1048576?2:1.125)>>>0),0!=w&&(y=Math.max(y,256));var G=p.contents;p.contents=new Uint8Array(y),p.usedBytes>0&&p.contents.set(G.subarray(0,p.usedBytes),0)}},resizeFileStorage:function(p,y){if(p.usedBytes!=y)if(0==y)p.contents=null,p.usedBytes=0;else{var w=p.contents;p.contents=new Uint8Array(y),w&&p.contents.set(w.subarray(0,Math.min(y,p.usedBytes))),p.usedBytes=y}},node_ops:{getattr:function(p){var y={};return y.dev=E.isChrdev(p.mode)?p.id:1,y.ino=p.id,y.mode=p.mode,y.nlink=1,y.uid=0,y.gid=0,y.rdev=p.rdev,y.size=E.isDir(p.mode)?4096:E.isFile(p.mode)?p.usedBytes:E.isLink(p.mode)?p.link.length:0,y.atime=new Date(p.timestamp),y.mtime=new Date(p.timestamp),y.ctime=new Date(p.timestamp),y.blksize=4096,y.blocks=Math.ceil(y.size/y.blksize),y},setattr:function(p,y){void 0!==y.mode&&(p.mode=y.mode),void 0!==y.timestamp&&(p.timestamp=y.timestamp),void 0!==y.size&&un.resizeFileStorage(p,y.size)},lookup:function(p,y){throw E.genericErrors[44]},mknod:function(p,y,w,F){return un.createNode(p,y,w,F)},rename:function(p,y,w){if(E.isDir(p.mode)){var F;try{F=E.lookupNode(y,w)}catch{}if(F)for(var G in F.contents)throw new E.ErrnoError(55)}delete p.parent.contents[p.name],p.parent.timestamp=Date.now(),p.name=w,y.contents[w]=p,y.timestamp=p.parent.timestamp,p.parent=y},unlink:function(p,y){delete p.contents[y],p.timestamp=Date.now()},rmdir:function(p,y){var w=E.lookupNode(p,y);for(var F in w.contents)throw new E.ErrnoError(55);delete p.contents[y],p.timestamp=Date.now()},readdir:function(p){var y=[".",".."];for(var w in p.contents)p.contents.hasOwnProperty(w)&&y.push(w);return y},symlink:function(p,y,w){var F=un.createNode(p,y,41471,0);return F.link=w,F},readlink:function(p){if(!E.isLink(p.mode))throw new E.ErrnoError(28);return p.link}},stream_ops:{read:function(p,y,w,F,G){var _e=p.node.contents;if(G>=p.node.usedBytes)return 0;var De=Math.min(p.node.usedBytes-G,F);if(De>8&&_e.subarray)y.set(_e.subarray(G,G+De),w);else for(var je=0;je<De;je++)y[w+je]=_e[G+je];return De},write:function(p,y,w,F,G,_e){if(y.buffer===Qe.buffer&&(_e=!1),!F)return 0;var De=p.node;if(De.timestamp=Date.now(),y.subarray&&(!De.contents||De.contents.subarray)){if(_e)return De.contents=y.subarray(w,w+F),De.usedBytes=F,F;if(0===De.usedBytes&&0===G)return De.contents=y.slice(w,w+F),De.usedBytes=F,F;if(G+F<=De.usedBytes)return De.contents.set(y.subarray(w,w+F),G),F}if(un.expandFileStorage(De,G+F),De.contents.subarray&&y.subarray)De.contents.set(y.subarray(w,w+F),G);else for(var je=0;je<F;je++)De.contents[G+je]=y[w+je];return De.usedBytes=Math.max(De.usedBytes,G+F),F},llseek:function(p,y,w){var F=y;if(1===w?F+=p.position:2===w&&E.isFile(p.node.mode)&&(F+=p.node.usedBytes),F<0)throw new E.ErrnoError(28);return F},allocate:function(p,y,w){un.expandFileStorage(p.node,y+w),p.node.usedBytes=Math.max(p.node.usedBytes,y+w)},mmap:function(p,y,w,F,G){if(!E.isFile(p.node.mode))throw new E.ErrnoError(43);var _e,De,je=p.node.contents;if(2&G||je.buffer!==Ue){if((w>0||w+y<je.length)&&(je=je.subarray?je.subarray(w,w+y):Array.prototype.slice.call(je,w,w+y)),De=!0,!(_e=er()))throw new E.ErrnoError(48);Qe.set(je,_e)}else De=!1,_e=je.byteOffset;return{ptr:_e,allocated:De}},msync:function(p,y,w,F,G){return un.stream_ops.write(p,y,0,F,w,!1),0}}},E={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(p,y={})=>{if(!(p=br.resolve(p)))return{path:"",node:null};if((y=Object.assign({follow_mount:!0,recurse_count:0},y)).recurse_count>8)throw new E.ErrnoError(32);for(var F=p.split("/").filter(Pn=>!!Pn),G=E.root,_e="/",De=0;De<F.length;De++){var je=De===F.length-1;if(je&&y.parent)break;if(G=E.lookupNode(G,F[De]),_e=qt.join2(_e,F[De]),E.isMountpoint(G)&&(!je||je&&y.follow_mount)&&(G=G.mounted.root),!je||y.follow)for(var St=0;E.isLink(G.mode);){var hn=E.readlink(_e);if(_e=br.resolve(qt.dirname(_e),hn),G=E.lookupPath(_e,{recurse_count:y.recurse_count+1}).node,St++>40)throw new E.ErrnoError(32)}}return{path:_e,node:G}},getPath:p=>{for(var y;;){if(E.isRoot(p)){var w=p.mount.mountpoint;return y?"/"!==w[w.length-1]?w+"/"+y:w+y:w}y=y?p.name+"/"+y:p.name,p=p.parent}},hashName:(p,y)=>{for(var w=0,F=0;F<y.length;F++)w=(w<<5)-w+y.charCodeAt(F)|0;return(p+w>>>0)%E.nameTable.length},hashAddNode:p=>{var y=E.hashName(p.parent.id,p.name);p.name_next=E.nameTable[y],E.nameTable[y]=p},hashRemoveNode:p=>{var y=E.hashName(p.parent.id,p.name);if(E.nameTable[y]===p)E.nameTable[y]=p.name_next;else for(var w=E.nameTable[y];w;){if(w.name_next===p){w.name_next=p.name_next;break}w=w.name_next}},lookupNode:(p,y)=>{var w=E.mayLookup(p);if(w)throw new E.ErrnoError(w,p);for(var F=E.hashName(p.id,y),G=E.nameTable[F];G;G=G.name_next)if(G.parent.id===p.id&&G.name===y)return G;return E.lookup(p,y)},createNode:(p,y,w,F)=>{var G=new E.FSNode(p,y,w,F);return E.hashAddNode(G),G},destroyNode:p=>{E.hashRemoveNode(p)},isRoot:p=>p===p.parent,isMountpoint:p=>!!p.mounted,isFile:p=>32768==(61440&p),isDir:p=>16384==(61440&p),isLink:p=>40960==(61440&p),isChrdev:p=>8192==(61440&p),isBlkdev:p=>24576==(61440&p),isFIFO:p=>4096==(61440&p),isSocket:p=>49152==(49152&p),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:p=>{var y=E.flagModes[p];if(typeof y>"u")throw new Error("Unknown file open mode: "+p);return y},flagsToPermissionString:p=>{var y=["r","w","rw"][3&p];return 512&p&&(y+="w"),y},nodePermissions:(p,y)=>E.ignorePermissions?0:y.includes("r")&&!(292&p.mode)||y.includes("w")&&!(146&p.mode)||y.includes("x")&&!(73&p.mode)?2:0,mayLookup:p=>E.nodePermissions(p,"x")||(p.node_ops.lookup?0:2),mayCreate:(p,y)=>{try{return E.lookupNode(p,y),20}catch{}return E.nodePermissions(p,"wx")},mayDelete:(p,y,w)=>{var F;try{F=E.lookupNode(p,y)}catch(_e){return _e.errno}var G=E.nodePermissions(p,"wx");if(G)return G;if(w){if(!E.isDir(F.mode))return 54;if(E.isRoot(F)||E.getPath(F)===E.cwd())return 10}else if(E.isDir(F.mode))return 31;return 0},mayOpen:(p,y)=>p?E.isLink(p.mode)?32:E.isDir(p.mode)&&("r"!==E.flagsToPermissionString(y)||512&y)?31:E.nodePermissions(p,E.flagsToPermissionString(y)):44,MAX_OPEN_FDS:4096,nextfd:(p=0,y=E.MAX_OPEN_FDS)=>{for(var w=p;w<=y;w++)if(!E.streams[w])return w;throw new E.ErrnoError(33)},getStream:p=>E.streams[p],createStream:(p,y,w)=>{E.FSStream||(E.FSStream=function(){this.shared={}},E.FSStream.prototype={},Object.defineProperties(E.FSStream.prototype,{object:{get:function(){return this.node},set:function(G){this.node=G}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(G){this.shared.flags=G}},position:{get:function(){return this.shared.position},set:function(G){this.shared.position=G}}})),p=Object.assign(new E.FSStream,p);var F=E.nextfd(y,w);return p.fd=F,E.streams[F]=p,p},closeStream:p=>{E.streams[p]=null},chrdev_stream_ops:{open:p=>{var y=E.getDevice(p.node.rdev);p.stream_ops=y.stream_ops,p.stream_ops.open&&p.stream_ops.open(p)},llseek:()=>{throw new E.ErrnoError(70)}},major:p=>p>>8,minor:p=>255&p,makedev:(p,y)=>p<<8|y,registerDevice:(p,y)=>{E.devices[p]={stream_ops:y}},getDevice:p=>E.devices[p],getMounts:p=>{for(var y=[],w=[p];w.length;){var F=w.pop();y.push(F),w.push.apply(w,F.mounts)}return y},syncfs:(p,y)=>{"function"==typeof p&&(y=p,p=!1),E.syncFSRequests++,E.syncFSRequests>1&&K("warning: "+E.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var w=E.getMounts(E.root.mount),F=0;function G(De){return E.syncFSRequests--,y(De)}function _e(De){if(De)return _e.errored?void 0:(_e.errored=!0,G(De));++F>=w.length&&G(null)}w.forEach(De=>{if(!De.type.syncfs)return _e(null);De.type.syncfs(De,p,_e)})},mount:(p,y,w)=>{var _e,F="/"===w,G=!w;if(F&&E.root)throw new E.ErrnoError(10);if(!F&&!G){var De=E.lookupPath(w,{follow_mount:!1});if(w=De.path,E.isMountpoint(_e=De.node))throw new E.ErrnoError(10);if(!E.isDir(_e.mode))throw new E.ErrnoError(54)}var je={type:p,opts:y,mountpoint:w,mounts:[]},St=p.mount(je);return St.mount=je,je.root=St,F?E.root=St:_e&&(_e.mounted=je,_e.mount&&_e.mount.mounts.push(je)),St},unmount:p=>{var y=E.lookupPath(p,{follow_mount:!1});if(!E.isMountpoint(y.node))throw new E.ErrnoError(28);var w=y.node,F=w.mounted,G=E.getMounts(F);Object.keys(E.nameTable).forEach(De=>{for(var je=E.nameTable[De];je;){var St=je.name_next;G.includes(je.mount)&&E.destroyNode(je),je=St}}),w.mounted=null;var _e=w.mount.mounts.indexOf(F);w.mount.mounts.splice(_e,1)},lookup:(p,y)=>p.node_ops.lookup(p,y),mknod:(p,y,w)=>{var G=E.lookupPath(p,{parent:!0}).node,_e=qt.basename(p);if(!_e||"."===_e||".."===_e)throw new E.ErrnoError(28);var De=E.mayCreate(G,_e);if(De)throw new E.ErrnoError(De);if(!G.node_ops.mknod)throw new E.ErrnoError(63);return G.node_ops.mknod(G,_e,y,w)},create:(p,y)=>(y=void 0!==y?y:438,y&=4095,E.mknod(p,y|=32768,0)),mkdir:(p,y)=>(y=void 0!==y?y:511,y&=1023,E.mknod(p,y|=16384,0)),mkdirTree:(p,y)=>{for(var w=p.split("/"),F="",G=0;G<w.length;++G)if(w[G]){F+="/"+w[G];try{E.mkdir(F,y)}catch(_e){if(20!=_e.errno)throw _e}}},mkdev:(p,y,w)=>(typeof w>"u"&&(w=y,y=438),E.mknod(p,y|=8192,w)),symlink:(p,y)=>{if(!br.resolve(p))throw new E.ErrnoError(44);var F=E.lookupPath(y,{parent:!0}).node;if(!F)throw new E.ErrnoError(44);var G=qt.basename(y),_e=E.mayCreate(F,G);if(_e)throw new E.ErrnoError(_e);if(!F.node_ops.symlink)throw new E.ErrnoError(63);return F.node_ops.symlink(F,G,p)},rename:(p,y)=>{var je,St,w=qt.dirname(p),F=qt.dirname(y),G=qt.basename(p),_e=qt.basename(y);if(je=E.lookupPath(p,{parent:!0}).node,St=E.lookupPath(y,{parent:!0}).node,!je||!St)throw new E.ErrnoError(44);if(je.mount!==St.mount)throw new E.ErrnoError(75);var Pn,hn=E.lookupNode(je,G),An=br.relative(p,F);if("."!==An.charAt(0))throw new E.ErrnoError(28);if("."!==(An=br.relative(y,w)).charAt(0))throw new E.ErrnoError(55);try{Pn=E.lookupNode(St,_e)}catch{}if(hn!==Pn){var zt=E.isDir(hn.mode),Kt=E.mayDelete(je,G,zt);if(Kt)throw new E.ErrnoError(Kt);if(Kt=Pn?E.mayDelete(St,_e,zt):E.mayCreate(St,_e))throw new E.ErrnoError(Kt);if(!je.node_ops.rename)throw new E.ErrnoError(63);if(E.isMountpoint(hn)||Pn&&E.isMountpoint(Pn))throw new E.ErrnoError(10);if(St!==je&&(Kt=E.nodePermissions(je,"w")))throw new E.ErrnoError(Kt);E.hashRemoveNode(hn);try{je.node_ops.rename(hn,St,_e)}catch(ee){throw ee}finally{E.hashAddNode(hn)}}},rmdir:p=>{var w=E.lookupPath(p,{parent:!0}).node,F=qt.basename(p),G=E.lookupNode(w,F),_e=E.mayDelete(w,F,!0);if(_e)throw new E.ErrnoError(_e);if(!w.node_ops.rmdir)throw new E.ErrnoError(63);if(E.isMountpoint(G))throw new E.ErrnoError(10);w.node_ops.rmdir(w,F),E.destroyNode(G)},readdir:p=>{var w=E.lookupPath(p,{follow:!0}).node;if(!w.node_ops.readdir)throw new E.ErrnoError(54);return w.node_ops.readdir(w)},unlink:p=>{var w=E.lookupPath(p,{parent:!0}).node;if(!w)throw new E.ErrnoError(44);var F=qt.basename(p),G=E.lookupNode(w,F),_e=E.mayDelete(w,F,!1);if(_e)throw new E.ErrnoError(_e);if(!w.node_ops.unlink)throw new E.ErrnoError(63);if(E.isMountpoint(G))throw new E.ErrnoError(10);w.node_ops.unlink(w,F),E.destroyNode(G)},readlink:p=>{var w=E.lookupPath(p).node;if(!w)throw new E.ErrnoError(44);if(!w.node_ops.readlink)throw new E.ErrnoError(28);return br.resolve(E.getPath(w.parent),w.node_ops.readlink(w))},stat:(p,y)=>{var F=E.lookupPath(p,{follow:!y}).node;if(!F)throw new E.ErrnoError(44);if(!F.node_ops.getattr)throw new E.ErrnoError(63);return F.node_ops.getattr(F)},lstat:p=>E.stat(p,!0),chmod:(p,y,w)=>{var F;if(!(F="string"==typeof p?E.lookupPath(p,{follow:!w}).node:p).node_ops.setattr)throw new E.ErrnoError(63);F.node_ops.setattr(F,{mode:4095&y|-4096&F.mode,timestamp:Date.now()})},lchmod:(p,y)=>{E.chmod(p,y,!0)},fchmod:(p,y)=>{var w=E.getStream(p);if(!w)throw new E.ErrnoError(8);E.chmod(w.node,y)},chown:(p,y,w,F)=>{var G;if(!(G="string"==typeof p?E.lookupPath(p,{follow:!F}).node:p).node_ops.setattr)throw new E.ErrnoError(63);G.node_ops.setattr(G,{timestamp:Date.now()})},lchown:(p,y,w)=>{E.chown(p,y,w,!0)},fchown:(p,y,w)=>{var F=E.getStream(p);if(!F)throw new E.ErrnoError(8);E.chown(F.node,y,w)},truncate:(p,y)=>{if(y<0)throw new E.ErrnoError(28);var w;if(!(w="string"==typeof p?E.lookupPath(p,{follow:!0}).node:p).node_ops.setattr)throw new E.ErrnoError(63);if(E.isDir(w.mode))throw new E.ErrnoError(31);if(!E.isFile(w.mode))throw new E.ErrnoError(28);var G=E.nodePermissions(w,"w");if(G)throw new E.ErrnoError(G);w.node_ops.setattr(w,{size:y,timestamp:Date.now()})},ftruncate:(p,y)=>{var w=E.getStream(p);if(!w)throw new E.ErrnoError(8);if(!(2097155&w.flags))throw new E.ErrnoError(28);E.truncate(w.node,y)},utime:(p,y,w)=>{var G=E.lookupPath(p,{follow:!0}).node;G.node_ops.setattr(G,{timestamp:Math.max(y,w)})},open:(p,y,w)=>{if(""===p)throw new E.ErrnoError(44);var F;if(w=typeof w>"u"?438:w,w=64&(y="string"==typeof y?E.modeStringToFlags(y):y)?4095&w|32768:0,"object"==typeof p)F=p;else{p=qt.normalize(p);try{F=E.lookupPath(p,{follow:!(131072&y)}).node}catch{}}var _e=!1;if(64&y)if(F){if(128&y)throw new E.ErrnoError(20)}else F=E.mknod(p,w,0),_e=!0;if(!F)throw new E.ErrnoError(44);if(E.isChrdev(F.mode)&&(y&=-513),65536&y&&!E.isDir(F.mode))throw new E.ErrnoError(54);if(!_e){var De=E.mayOpen(F,y);if(De)throw new E.ErrnoError(De)}512&y&&!_e&&E.truncate(F,0),y&=-131713;var je=E.createStream({node:F,path:E.getPath(F),flags:y,seekable:!0,position:0,stream_ops:F.stream_ops,ungotten:[],error:!1});return je.stream_ops.open&&je.stream_ops.open(je),l.logReadFiles&&!(1&y)&&(E.readFiles||(E.readFiles={}),p in E.readFiles||(E.readFiles[p]=1)),je},close:p=>{if(E.isClosed(p))throw new E.ErrnoError(8);p.getdents&&(p.getdents=null);try{p.stream_ops.close&&p.stream_ops.close(p)}catch(y){throw y}finally{E.closeStream(p.fd)}p.fd=null},isClosed:p=>null===p.fd,llseek:(p,y,w)=>{if(E.isClosed(p))throw new E.ErrnoError(8);if(!p.seekable||!p.stream_ops.llseek)throw new E.ErrnoError(70);if(0!=w&&1!=w&&2!=w)throw new E.ErrnoError(28);return p.position=p.stream_ops.llseek(p,y,w),p.ungotten=[],p.position},read:(p,y,w,F,G)=>{if(F<0||G<0)throw new E.ErrnoError(28);if(E.isClosed(p))throw new E.ErrnoError(8);if(1==(2097155&p.flags))throw new E.ErrnoError(8);if(E.isDir(p.node.mode))throw new E.ErrnoError(31);if(!p.stream_ops.read)throw new E.ErrnoError(28);var _e=typeof G<"u";if(_e){if(!p.seekable)throw new E.ErrnoError(70)}else G=p.position;var De=p.stream_ops.read(p,y,w,F,G);return _e||(p.position+=De),De},write:(p,y,w,F,G,_e)=>{if(F<0||G<0)throw new E.ErrnoError(28);if(E.isClosed(p))throw new E.ErrnoError(8);if(!(2097155&p.flags))throw new E.ErrnoError(8);if(E.isDir(p.node.mode))throw new E.ErrnoError(31);if(!p.stream_ops.write)throw new E.ErrnoError(28);p.seekable&&1024&p.flags&&E.llseek(p,0,2);var De=typeof G<"u";if(De){if(!p.seekable)throw new E.ErrnoError(70)}else G=p.position;var je=p.stream_ops.write(p,y,w,F,G,_e);return De||(p.position+=je),je},allocate:(p,y,w)=>{if(E.isClosed(p))throw new E.ErrnoError(8);if(y<0||w<=0)throw new E.ErrnoError(28);if(!(2097155&p.flags))throw new E.ErrnoError(8);if(!E.isFile(p.node.mode)&&!E.isDir(p.node.mode))throw new E.ErrnoError(43);if(!p.stream_ops.allocate)throw new E.ErrnoError(138);p.stream_ops.allocate(p,y,w)},mmap:(p,y,w,F,G)=>{if(2&F&&!(2&G)&&2!=(2097155&p.flags))throw new E.ErrnoError(2);if(1==(2097155&p.flags))throw new E.ErrnoError(2);if(!p.stream_ops.mmap)throw new E.ErrnoError(43);return p.stream_ops.mmap(p,y,w,F,G)},msync:(p,y,w,F,G)=>p.stream_ops.msync?p.stream_ops.msync(p,y,w,F,G):0,munmap:p=>0,ioctl:(p,y,w)=>{if(!p.stream_ops.ioctl)throw new E.ErrnoError(59);return p.stream_ops.ioctl(p,y,w)},readFile:(p,y={})=>{if(y.flags=y.flags||0,y.encoding=y.encoding||"binary","utf8"!==y.encoding&&"binary"!==y.encoding)throw new Error('Invalid encoding type "'+y.encoding+'"');var w,F=E.open(p,y.flags),_e=E.stat(p).size,De=new Uint8Array(_e);return E.read(F,De,0,_e,0),"utf8"===y.encoding?w=Xe(De,0):"binary"===y.encoding&&(w=De),E.close(F),w},writeFile:(p,y,w={})=>{w.flags=w.flags||577;var F=E.open(p,w.flags,w.mode);if("string"==typeof y){var G=new Uint8Array(ne(y)+1),_e=Me(y,G,0,G.length);E.write(F,G,0,_e,void 0,w.canOwn)}else{if(!ArrayBuffer.isView(y))throw new Error("Unsupported data type");E.write(F,y,0,y.byteLength,void 0,w.canOwn)}E.close(F)},cwd:()=>E.currentPath,chdir:p=>{var y=E.lookupPath(p,{follow:!0});if(null===y.node)throw new E.ErrnoError(44);if(!E.isDir(y.node.mode))throw new E.ErrnoError(54);var w=E.nodePermissions(y.node,"x");if(w)throw new E.ErrnoError(w);E.currentPath=y.path},createDefaultDirectories:()=>{E.mkdir("/tmp"),E.mkdir("/home"),E.mkdir("/home/web_user")},createDefaultDevices:()=>{E.mkdir("/dev"),E.registerDevice(E.makedev(1,3),{read:()=>0,write:(y,w,F,G,_e)=>G}),E.mkdev("/dev/null",E.makedev(1,3)),Jn.register(E.makedev(5,0),Jn.default_tty_ops),Jn.register(E.makedev(6,0),Jn.default_tty1_ops),E.mkdev("/dev/tty",E.makedev(5,0)),E.mkdev("/dev/tty1",E.makedev(6,0));var p=function Ft(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var p=new Uint8Array(1);return()=>(crypto.getRandomValues(p),p[0])}return()=>ar("randomDevice")}();E.createDevice("/dev","random",p),E.createDevice("/dev","urandom",p),E.mkdir("/dev/shm"),E.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{E.mkdir("/proc");var p=E.mkdir("/proc/self");E.mkdir("/proc/self/fd"),E.mount({mount:()=>{var y=E.createNode(p,"fd",16895,73);return y.node_ops={lookup:(w,F)=>{var _e=E.getStream(+F);if(!_e)throw new E.ErrnoError(8);var De={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>_e.path}};return De.parent=De,De}},y}},{},"/proc/self/fd")},createStandardStreams:()=>{l.stdin?E.createDevice("/dev","stdin",l.stdin):E.symlink("/dev/tty","/dev/stdin"),l.stdout?E.createDevice("/dev","stdout",null,l.stdout):E.symlink("/dev/tty","/dev/stdout"),l.stderr?E.createDevice("/dev","stderr",null,l.stderr):E.symlink("/dev/tty1","/dev/stderr"),E.open("/dev/stdin",0),E.open("/dev/stdout",1),E.open("/dev/stderr",1)},ensureErrnoError:()=>{E.ErrnoError||(E.ErrnoError=function(y,w){this.node=w,this.setErrno=function(F){this.errno=F},this.setErrno(y),this.message="FS error"},E.ErrnoError.prototype=new Error,E.ErrnoError.prototype.constructor=E.ErrnoError,[44].forEach(p=>{E.genericErrors[p]=new E.ErrnoError(p),E.genericErrors[p].stack="<generic error, no stack>"}))},staticInit:()=>{E.ensureErrnoError(),E.nameTable=new Array(4096),E.mount(un,{},"/"),E.createDefaultDirectories(),E.createDefaultDevices(),E.createSpecialDirectories(),E.filesystems={MEMFS:un}},init:(p,y,w)=>{E.init.initialized=!0,E.ensureErrnoError(),l.stdin=p||l.stdin,l.stdout=y||l.stdout,l.stderr=w||l.stderr,E.createStandardStreams()},quit:()=>{E.init.initialized=!1;for(var p=0;p<E.streams.length;p++){var y=E.streams[p];y&&E.close(y)}},getMode:(p,y)=>{var w=0;return p&&(w|=365),y&&(w|=146),w},findObject:(p,y)=>{var w=E.analyzePath(p,y);return w.exists?w.object:null},analyzePath:(p,y)=>{try{p=(w=E.lookupPath(p,{follow:!y})).path}catch{}var F={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var w=E.lookupPath(p,{parent:!0});F.parentExists=!0,F.parentPath=w.path,F.parentObject=w.node,F.name=qt.basename(p),w=E.lookupPath(p,{follow:!y}),F.exists=!0,F.path=w.path,F.object=w.node,F.name=w.node.name,F.isRoot="/"===w.path}catch(G){F.error=G.errno}return F},createPath:(p,y,w,F)=>{p="string"==typeof p?p:E.getPath(p);for(var G=y.split("/").reverse();G.length;){var _e=G.pop();if(_e){var De=qt.join2(p,_e);try{E.mkdir(De)}catch{}p=De}}return De},createFile:(p,y,w,F,G)=>{var _e=qt.join2("string"==typeof p?p:E.getPath(p),y),De=E.getMode(F,G);return E.create(_e,De)},createDataFile:(p,y,w,F,G,_e)=>{var De=y;p&&(p="string"==typeof p?p:E.getPath(p),De=y?qt.join2(p,y):p);var je=E.getMode(F,G),St=E.create(De,je);if(w){if("string"==typeof w){for(var hn=new Array(w.length),An=0,Pn=w.length;An<Pn;++An)hn[An]=w.charCodeAt(An);w=hn}E.chmod(St,146|je);var zt=E.open(St,577);E.write(zt,w,0,w.length,0,_e),E.close(zt),E.chmod(St,je)}return St},createDevice:(p,y,w,F)=>{var G=qt.join2("string"==typeof p?p:E.getPath(p),y),_e=E.getMode(!!w,!!F);E.createDevice.major||(E.createDevice.major=64);var De=E.makedev(E.createDevice.major++,0);return E.registerDevice(De,{open:je=>{je.seekable=!1},close:je=>{F&&F.buffer&&F.buffer.length&&F(10)},read:(je,St,hn,An,Pn)=>{for(var zt=0,Kt=0;Kt<An;Kt++){var ee;try{ee=w()}catch{throw new E.ErrnoError(29)}if(void 0===ee&&0===zt)throw new E.ErrnoError(6);if(null==ee)break;zt++,St[hn+Kt]=ee}return zt&&(je.node.timestamp=Date.now()),zt},write:(je,St,hn,An,Pn)=>{for(var zt=0;zt<An;zt++)try{F(St[hn+zt])}catch{throw new E.ErrnoError(29)}return An&&(je.node.timestamp=Date.now()),zt}}),E.mkdev(G,_e,De)},forceLoadFile:p=>{if(p.isDevice||p.isFolder||p.link||p.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!j)throw new Error("Cannot load without read() or XMLHttpRequest.");try{p.contents=en(j(p.url),!0),p.usedBytes=p.contents.length}catch{throw new E.ErrnoError(29)}},createLazyFile:(p,y,w,F,G)=>{function _e(){this.lengthKnown=!1,this.chunks=[]}if(_e.prototype.get=function(Kt){if(!(Kt>this.length-1||Kt<0)){var ee=Kt%this.chunkSize;return this.getter(Kt/this.chunkSize|0)[ee]}},_e.prototype.setDataGetter=function(Kt){this.getter=Kt},_e.prototype.cacheLength=function(){var Kt=new XMLHttpRequest;if(Kt.open("HEAD",w,!1),Kt.send(null),!(Kt.status>=200&&Kt.status<300||304===Kt.status))throw new Error("Couldn't load "+w+". Status: "+Kt.status);var xr,ee=Number(Kt.getResponseHeader("Content-length")),_n=(xr=Kt.getResponseHeader("Accept-Ranges"))&&"bytes"===xr,Wr=(xr=Kt.getResponseHeader("Content-Encoding"))&&"gzip"===xr,pt=1048576;_n||(pt=ee);var Zr=this;Zr.setDataGetter(vr=>{var qo=vr*pt,pr=(vr+1)*pt-1;if(pr=Math.min(pr,ee-1),typeof Zr.chunks[vr]>"u"&&(Zr.chunks[vr]=((vr,qo)=>{if(vr>qo)throw new Error("invalid range ("+vr+", "+qo+") or no bytes requested!");if(qo>ee-1)throw new Error("only "+ee+" bytes available! programmer error!");var pr=new XMLHttpRequest;if(pr.open("GET",w,!1),ee!==pt&&pr.setRequestHeader("Range","bytes="+vr+"-"+qo),pr.responseType="arraybuffer",pr.overrideMimeType&&pr.overrideMimeType("text/plain; charset=x-user-defined"),pr.send(null),!(pr.status>=200&&pr.status<300||304===pr.status))throw new Error("Couldn't load "+w+". Status: "+pr.status);return void 0!==pr.response?new Uint8Array(pr.response||[]):en(pr.responseText||"",!0)})(qo,pr)),typeof Zr.chunks[vr]>"u")throw new Error("doXHR failed!");return Zr.chunks[vr]}),(Wr||!ee)&&(pt=ee=1,ee=this.getter(0).length,pt=ee,Z("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=ee,this._chunkSize=pt,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!X)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var De=new _e;Object.defineProperties(De,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var je={isDevice:!1,contents:De}}else je={isDevice:!1,url:w};var St=E.createFile(p,y,je,F,G);je.contents?St.contents=je.contents:je.url&&(St.contents=null,St.url=je.url),Object.defineProperties(St,{usedBytes:{get:function(){return this.contents.length}}});var hn={};function Pn(zt,Kt,ee,xr,_n){var Wr=zt.node.contents;if(_n>=Wr.length)return 0;var pt=Math.min(Wr.length-_n,xr);if(Wr.slice)for(var Wt=0;Wt<pt;Wt++)Kt[ee+Wt]=Wr[_n+Wt];else for(Wt=0;Wt<pt;Wt++)Kt[ee+Wt]=Wr.get(_n+Wt);return pt}return Object.keys(St.stream_ops).forEach(zt=>{var Kt=St.stream_ops[zt];hn[zt]=function(){return E.forceLoadFile(St),Kt.apply(null,arguments)}}),hn.read=(zt,Kt,ee,xr,_n)=>(E.forceLoadFile(St),Pn(zt,Kt,ee,xr,_n)),hn.mmap=(zt,Kt,ee,xr,_n)=>{E.forceLoadFile(St);var Wr=er();if(!Wr)throw new E.ErrnoError(48);return Pn(zt,Qe,Wr,Kt,ee),{ptr:Wr,allocated:!0}},St.stream_ops=hn,St},createPreloadedFile:(p,y,w,F,G,_e,De,je,St,hn)=>{var An=y?br.resolve(qt.join2(p,y)):p;function zt(Kt){function ee(xr){hn&&hn(),je||E.createDataFile(p,y,xr,F,G,St),_e&&_e(),Lr()}Browser.handledByPreloadPlugin(Kt,An,ee,()=>{De&&De(),Lr()})||ee(Kt)}Yr(),"string"==typeof w?function Ht(p,y,w,F){var G=F?"":"al "+p;Pe(p,_e=>{be(_e,'Loading data file "'+p+'" failed (no arrayBuffer).'),y(new Uint8Array(_e)),G&&Lr()},_e=>{if(!w)throw'Loading data file "'+p+'" failed.';w()}),G&&Yr()}(w,Kt=>zt(Kt),De):zt(w)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(p,y,w)=>{y=y||(()=>{}),w=w||(()=>{});var F=E.indexedDB();try{var G=F.open(E.DB_NAME(),E.DB_VERSION)}catch(_e){return w(_e)}G.onupgradeneeded=()=>{Z("creating db"),G.result.createObjectStore(E.DB_STORE_NAME)},G.onsuccess=()=>{var De=G.result.transaction([E.DB_STORE_NAME],"readwrite"),je=De.objectStore(E.DB_STORE_NAME),St=0,hn=0,An=p.length;function Pn(){0==hn?y():w()}p.forEach(zt=>{var Kt=je.put(E.analyzePath(zt).object.contents,zt);Kt.onsuccess=()=>{++St+hn==An&&Pn()},Kt.onerror=()=>{hn++,St+hn==An&&Pn()}}),De.onerror=w},G.onerror=w},loadFilesFromDB:(p,y,w)=>{y=y||(()=>{}),w=w||(()=>{});var F=E.indexedDB();try{var G=F.open(E.DB_NAME(),E.DB_VERSION)}catch(_e){return w(_e)}G.onupgradeneeded=w,G.onsuccess=()=>{var _e=G.result;try{var De=_e.transaction([E.DB_STORE_NAME],"readonly")}catch(zt){return void w(zt)}var je=De.objectStore(E.DB_STORE_NAME),St=0,hn=0,An=p.length;function Pn(){0==hn?y():w()}p.forEach(zt=>{var Kt=je.get(zt);Kt.onsuccess=()=>{E.analyzePath(zt).exists&&E.unlink(zt),E.createDataFile(qt.dirname(zt),qt.basename(zt),Kt.result,!0,!0,!0),++St+hn==An&&Pn()},Kt.onerror=()=>{hn++,St+hn==An&&Pn()}}),De.onerror=w},G.onerror=w}},S={DEFAULT_POLLMASK:5,calculateAt:function(p,y,w){if(qt.isAbs(y))return y;var F;if(F=-100===p?E.cwd():S.getStreamFromFD(p).path,0==y.length){if(!w)throw new E.ErrnoError(44);return F}return qt.join2(F,y)},doStat:function(p,y,w){try{var F=p(y)}catch(G){if(G&&G.node&&qt.normalize(y)!==qt.normalize(E.getPath(G.node)))return-54;throw G}return O[w>>2]=F.dev,O[w+8>>2]=F.ino,O[w+12>>2]=F.mode,ge[w+16>>2]=F.nlink,O[w+20>>2]=F.uid,O[w+24>>2]=F.gid,O[w+28>>2]=F.rdev,le=[F.size>>>0,(lt=F.size,+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[w+40>>2]=le[0],O[w+44>>2]=le[1],O[w+48>>2]=4096,O[w+52>>2]=F.blocks,le=[Math.floor(F.atime.getTime()/1e3)>>>0,(lt=Math.floor(F.atime.getTime()/1e3),+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[w+56>>2]=le[0],O[w+60>>2]=le[1],ge[w+64>>2]=0,le=[Math.floor(F.mtime.getTime()/1e3)>>>0,(lt=Math.floor(F.mtime.getTime()/1e3),+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[w+72>>2]=le[0],O[w+76>>2]=le[1],ge[w+80>>2]=0,le=[Math.floor(F.ctime.getTime()/1e3)>>>0,(lt=Math.floor(F.ctime.getTime()/1e3),+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[w+88>>2]=le[0],O[w+92>>2]=le[1],ge[w+96>>2]=0,le=[F.ino>>>0,(lt=F.ino,+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[w+104>>2]=le[0],O[w+108>>2]=le[1],0},doMsync:function(p,y,w,F,G){if(!E.isFile(y.node.mode))throw new E.ErrnoError(43);if(2&F)return 0;var _e=yt.slice(p,p+w);E.msync(y,_e,G,w,F)},varargs:void 0,get:function(){return S.varargs+=4,O[S.varargs-4>>2]},getStr:function(p){return Oe(p)},getStreamFromFD:function(p){var y=E.getStream(p);if(!y)throw new E.ErrnoError(8);return y}};function D(p){return ge[p>>2]+4294967296*O[p+4>>2]}function Go(p){return p%4==0&&(p%100!=0||p%400==0)}var ri=[0,31,60,91,121,152,182,213,244,274,305,335],Do=[0,31,59,90,120,151,181,212,243,273,304,334];function Ii(p){var y=ne(p)+1,w=Po(y);return w&&Me(p,Qe,w,y),w}var Wo=[];function Io(p){try{return de.grow(p-Ue.byteLength+65535>>>16),Ve(de.buffer),1}catch{}}var is={};function Ao(){if(!Ao.strings){var y={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:L||"./this.program"};for(var w in is)void 0===is[w]?delete y[w]:y[w]=is[w];var F=[];for(var w in y)F.push(w+"="+y[w]);Ao.strings=F}return Ao.strings}function ws(p,y){ce=p,function Ti(p){ce=p,function rn(){return Fe}()||(l.onExit&&l.onExit(p),it=!0),V(p,new Fn(p))}(p)}var hi=ws,x=[31,29,31,30,31,30,31,31,30,31,30,31],N=[31,28,31,30,31,30,31,31,30,31,30,31];var ke=function(p,y,w,F){p||(p=this),this.parent=p,this.mount=p.mount,this.mounted=null,this.id=E.nextInode++,this.name=y,this.mode=w,this.node_ops={},this.stream_ops={},this.rdev=F};Object.defineProperties(ke.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(p){p?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(p){p?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return E.isDir(this.mode)}},isDevice:{get:function(){return E.isChrdev(this.mode)}}}),E.FSNode=ke,E.staticInit();var Ys,xe={o:function Kn(p,y,w,F){S.varargs=F;try{y=S.getStr(y),y=S.calculateAt(p,y);var G=F?S.get():0;return E.open(y,w,G).fd}catch(_e){if(typeof E>"u"||!(_e instanceof E.ErrnoError))throw _e;return-_e.errno}},h:function On(p,y){var w=new Date(1e3*D(p));O[y>>2]=w.getUTCSeconds(),O[y+4>>2]=w.getUTCMinutes(),O[y+8>>2]=w.getUTCHours(),O[y+12>>2]=w.getUTCDate(),O[y+16>>2]=w.getUTCMonth(),O[y+20>>2]=w.getUTCFullYear()-1900,O[y+24>>2]=w.getUTCDay();var F=Date.UTC(w.getUTCFullYear(),0,1,0,0,0,0),G=(w.getTime()-F)/864e5|0;O[y+28>>2]=G},i:function zo(p,y){var w=new Date(1e3*D(p));O[y>>2]=w.getSeconds(),O[y+4>>2]=w.getMinutes(),O[y+8>>2]=w.getHours(),O[y+12>>2]=w.getDate(),O[y+16>>2]=w.getMonth(),O[y+20>>2]=w.getFullYear()-1900,O[y+24>>2]=w.getDay();var F=0|function $i(p){return(Go(p.getFullYear())?ri:Do)[p.getMonth()]+p.getDate()-1}(w);O[y+28>>2]=F,O[y+36>>2]=-60*w.getTimezoneOffset();var G=new Date(w.getFullYear(),0,1),_e=new Date(w.getFullYear(),6,1).getTimezoneOffset(),De=G.getTimezoneOffset(),je=0|(_e!=De&&w.getTimezoneOffset()==Math.min(De,_e));O[y+32>>2]=je},j:function ki(p,y,w){var F=(new Date).getFullYear(),G=new Date(F,0,1),_e=new Date(F,6,1),De=G.getTimezoneOffset(),je=_e.getTimezoneOffset(),St=Math.max(De,je);function hn(ee){var xr=ee.toTimeString().match(/\(([A-Za-z ]+)\)$/);return xr?xr[1]:"GMT"}ge[p>>2]=60*St,O[y>>2]=Number(De!=je);var An=hn(G),Pn=hn(_e),zt=Ii(An),Kt=Ii(Pn);je<De?(ge[w>>2]=zt,ge[w+4>>2]=Kt):(ge[w>>2]=Kt,ge[w+4>>2]=zt)},b:function io(){ar("")},a:function Zo(p,y,w){var F=function Cr(p,y){var w;for(Wo.length=0,y>>=2;w=yt[p++];)y+=105!=w&y,Wo.push(105==w?O[y]:nt[y++>>1]),++y;return Wo}(y,w);return ze[p].apply(null,F)},c:function to(){return Date.now()},g:function pi(p,y,w){yt.copyWithin(p,y,y+w)},m:function Xr(p){var St,y=yt.length,w=2147483648;if((p>>>=0)>w)return!1;for(var G=1;G<=4;G*=2){var _e=y*(1+.2/G);if(_e=Math.min(_e,p+100663296),Io(Math.min(w,(St=Math.max(p,_e))+(65536-St%65536)%65536)))return!0}return!1},p:function ss(p,y){var w=0;return Ao().forEach(function(F,G){var _e=y+w;ge[p+4*G>>2]=_e,function so(p,y,w){for(var F=0;F<p.length;++F)Qe[y++>>0]=p.charCodeAt(F);w||(Qe[y>>0]=0)}(F,_e),w+=F.length+1}),0},f:function _o(p,y){var w=Ao();ge[p>>2]=w.length;var F=0;return w.forEach(function(G){F+=G.length+1}),ge[y>>2]=F,0},q:hi,d:function as(p){try{var y=S.getStreamFromFD(p);return E.close(y),0}catch(w){if(typeof E>"u"||!(w instanceof E.ErrnoError))throw w;return w.errno}},e:function $s(p,y,w,F){try{var _e=function Ls(p,y,w,F){for(var G=0,_e=0;_e<w;_e++){var De=ge[y>>2],je=ge[y+4>>2];y+=8;var St=E.read(p,Qe,De,je,F);if(St<0)return-1;if(G+=St,St<je)break}return G}(S.getStreamFromFD(p),y,w);return ge[F>>2]=_e,0}catch(De){if(typeof E>"u"||!(De instanceof E.ErrnoError))throw De;return De.errno}},k:function mi(p,y,w,F,G){try{var _e=function fr(p,y){return y+2097152>>>0<4194305-!!p?(p>>>0)+4294967296*y:NaN}(y,w);if(isNaN(_e))return 61;var De=S.getStreamFromFD(p);return E.llseek(De,_e,F),le=[De.position>>>0,(lt=De.position,+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[G>>2]=le[0],O[G+4>>2]=le[1],De.getdents&&0===_e&&0===F&&(De.getdents=null),0}catch(je){if(typeof E>"u"||!(je instanceof E.ErrnoError))throw je;return je.errno}},n:function Bi(p,y,w,F){try{var _e=function Ss(p,y,w,F){for(var G=0,_e=0;_e<w;_e++){var De=ge[y>>2],je=ge[y+4>>2];y+=8;var St=E.write(p,Qe,De,je,F);if(St<0)return-1;G+=St}return G}(S.getStreamFromFD(p),y,w);return ge[F>>2]=_e,0}catch(De){if(typeof E>"u"||!(De instanceof E.ErrnoError))throw De;return De.errno}},l:function R(p,y,w,F,G){return function Ne(p,y,w,F){var G=O[F+40>>2],_e={tm_sec:O[F>>2],tm_min:O[F+4>>2],tm_hour:O[F+8>>2],tm_mday:O[F+12>>2],tm_mon:O[F+16>>2],tm_year:O[F+20>>2],tm_wday:O[F+24>>2],tm_yday:O[F+28>>2],tm_isdst:O[F+32>>2],tm_gmtoff:O[F+36>>2],tm_zone:G?Oe(G):""},De=Oe(w),je={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var St in je)De=De.replace(new RegExp(St,"g"),je[St]);var hn=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],An=["January","February","March","April","May","June","July","August","September","October","November","December"];function Pn(pt,Wt,Zr){for(var vr="number"==typeof pt?pt.toString():pt||"";vr.length<Wt;)vr=Zr[0]+vr;return vr}function zt(pt,Wt){return Pn(pt,Wt,"0")}function Kt(pt,Wt){function Zr(qo){return qo<0?-1:qo>0?1:0}var vr;return 0===(vr=Zr(pt.getFullYear()-Wt.getFullYear()))&&0===(vr=Zr(pt.getMonth()-Wt.getMonth()))&&(vr=Zr(pt.getDate()-Wt.getDate())),vr}function ee(pt){switch(pt.getDay()){case 0:return new Date(pt.getFullYear()-1,11,29);case 1:return pt;case 2:return new Date(pt.getFullYear(),0,3);case 3:return new Date(pt.getFullYear(),0,2);case 4:return new Date(pt.getFullYear(),0,1);case 5:return new Date(pt.getFullYear()-1,11,31);case 6:return new Date(pt.getFullYear()-1,11,30)}}function xr(pt){var Wt=function me(p,y){for(var w=new Date(p.getTime());y>0;){var F=Go(w.getFullYear()),G=w.getMonth(),_e=(F?x:N)[G];if(!(y>_e-w.getDate()))return w.setDate(w.getDate()+y),w;y-=_e-w.getDate()+1,w.setDate(1),G<11?w.setMonth(G+1):(w.setMonth(0),w.setFullYear(w.getFullYear()+1))}return w}(new Date(pt.tm_year+1900,0,1),pt.tm_yday),Zr=new Date(Wt.getFullYear(),0,4),vr=new Date(Wt.getFullYear()+1,0,4),qo=ee(Zr),pr=ee(vr);return Kt(qo,Wt)<=0?Kt(pr,Wt)<=0?Wt.getFullYear()+1:Wt.getFullYear():Wt.getFullYear()-1}var _n={"%a":function(pt){return hn[pt.tm_wday].substring(0,3)},"%A":function(pt){return hn[pt.tm_wday]},"%b":function(pt){return An[pt.tm_mon].substring(0,3)},"%B":function(pt){return An[pt.tm_mon]},"%C":function(pt){return zt((pt.tm_year+1900)/100|0,2)},"%d":function(pt){return zt(pt.tm_mday,2)},"%e":function(pt){return Pn(pt.tm_mday,2," ")},"%g":function(pt){return xr(pt).toString().substring(2)},"%G":function(pt){return xr(pt)},"%H":function(pt){return zt(pt.tm_hour,2)},"%I":function(pt){var Wt=pt.tm_hour;return 0==Wt?Wt=12:Wt>12&&(Wt-=12),zt(Wt,2)},"%j":function(pt){return zt(pt.tm_mday+function tr(p,y){for(var w=0,F=0;F<=y;w+=p[F++]);return w}(Go(pt.tm_year+1900)?x:N,pt.tm_mon-1),3)},"%m":function(pt){return zt(pt.tm_mon+1,2)},"%M":function(pt){return zt(pt.tm_min,2)},"%n":function(){return"\n"},"%p":function(pt){return pt.tm_hour>=0&&pt.tm_hour<12?"AM":"PM"},"%S":function(pt){return zt(pt.tm_sec,2)},"%t":function(){return"\t"},"%u":function(pt){return pt.tm_wday||7},"%U":function(pt){return zt(Math.floor((pt.tm_yday+7-pt.tm_wday)/7),2)},"%V":function(pt){var Wt=Math.floor((pt.tm_yday+7-(pt.tm_wday+6)%7)/7);if((pt.tm_wday+371-pt.tm_yday-2)%7<=2&&Wt++,Wt){if(53==Wt){var vr=(pt.tm_wday+371-pt.tm_yday)%7;4!=vr&&(3!=vr||!Go(pt.tm_year))&&(Wt=1)}}else{Wt=52;var Zr=(pt.tm_wday+7-pt.tm_yday-1)%7;(4==Zr||5==Zr&&Go(pt.tm_year%400-1))&&Wt++}return zt(Wt,2)},"%w":function(pt){return pt.tm_wday},"%W":function(pt){return zt(Math.floor((pt.tm_yday+7-(pt.tm_wday+6)%7)/7),2)},"%y":function(pt){return(pt.tm_year+1900).toString().substring(2)},"%Y":function(pt){return pt.tm_year+1900},"%z":function(pt){var Wt=pt.tm_gmtoff,Zr=Wt>=0;return Wt=(Wt=Math.abs(Wt)/60)/60*100+Wt%60,(Zr?"+":"-")+String("0000"+Wt).slice(-4)},"%Z":function(pt){return pt.tm_zone},"%%":function(){return"%"}};for(var St in De=De.replace(/%%/g,"\0\0"),_n)De.includes(St)&&(De=De.replace(new RegExp(St,"g"),_n[St](_e)));var Wr=en(De=De.replace(/\0\0/g,"%"),!1);return Wr.length>y?0:(function Ee(p,y){Qe.set(p,y)}(Wr,p),Wr.length-1)}(p,y,w,F)}},Po=(function zr(){var p={a:xe};function y(De,je){l.asm=De.exports,Ve((de=l.asm.r).buffer),function Jr(p){Ae.unshift(p)}(l.asm.s),Lr()}function w(De){y(De.instance)}function F(De){return function os(){return fe||!ue&&!X||"function"!=typeof fetch?Promise.resolve().then(function(){return eo(gn)}):fetch(gn,{credentials:"same-origin"}).then(function(p){if(!p.ok)throw"failed to load wasm binary file at '"+gn+"'";return p.arrayBuffer()}).catch(function(){return eo(gn)})}().then(function(je){return WebAssembly.instantiate(je,p)}).then(function(je){return je}).then(De,function(je){K("failed to asynchronously prepare wasm: "+je),ar(je)})}if(Yr(),l.instantiateWasm)try{return l.instantiateWasm(p,y)}catch(De){K("Module.instantiateWasm callback failed with error: "+De),te(De)}(function G(){return fe||"function"!=typeof WebAssembly.instantiateStreaming||oo(gn)||"function"!=typeof fetch?F(w):fetch(gn,{credentials:"same-origin"}).then(function(De){return WebAssembly.instantiateStreaming(De,p).then(w,function(St){return K("wasm streaming compile failed: "+St),K("falling back to ArrayBuffer instantiation"),F(w)})})})().catch(te)}(),l.___wasm_call_ctors=function(){return(l.___wasm_call_ctors=l.asm.s).apply(null,arguments)},l._free=function(){return(l._free=l.asm.t).apply(null,arguments)},l._malloc=function(){return(Po=l._malloc=l.asm.u).apply(null,arguments)}),no=l._emscripten_bind_VoidPtr___destroy___0=function(){return(no=l._emscripten_bind_VoidPtr___destroy___0=l.asm.v).apply(null,arguments)},Ro=l._emscripten_bind_FSTools_FSTools_0=function(){return(Ro=l._emscripten_bind_FSTools_FSTools_0=l.asm.w).apply(null,arguments)},gi=l._emscripten_bind_FSTools_Malloc_1=function(){return(gi=l._emscripten_bind_FSTools_Malloc_1=l.asm.x).apply(null,arguments)},Mr=l._emscripten_bind_FSTools_Free_1=function(){return(Mr=l._emscripten_bind_FSTools_Free_1=l.asm.y).apply(null,arguments)},ls=l._emscripten_bind_FSTools_Nullptr_0=function(){return(ls=l._emscripten_bind_FSTools_Nullptr_0=l.asm.z).apply(null,arguments)},Ga=l._emscripten_bind_FSTools___destroy___0=function(){return(Ga=l._emscripten_bind_FSTools___destroy___0=l.asm.A).apply(null,arguments)},za=l._emscripten_bind_MkfsContext_MkfsContext_0=function(){return(za=l._emscripten_bind_MkfsContext_MkfsContext_0=l.asm.B).apply(null,arguments)},Mi=l._emscripten_bind_MkfsContext_Mkfs_2=function(){return(Mi=l._emscripten_bind_MkfsContext_Mkfs_2=l.asm.C).apply(null,arguments)},Wa=l._emscripten_bind_MkfsContext_GetImage_0=function(){return(Wa=l._emscripten_bind_MkfsContext_GetImage_0=l.asm.D).apply(null,arguments)},qs=l._emscripten_bind_MkfsContext_GetImageSize_0=function(){return(qs=l._emscripten_bind_MkfsContext_GetImageSize_0=l.asm.E).apply(null,arguments)},Ks=l._emscripten_bind_MkfsContext___destroy___0=function(){return(Ks=l._emscripten_bind_MkfsContext___destroy___0=l.asm.F).apply(null,arguments)},El=l._emscripten_bind_FsckContext_FsckContext_1=function(){return(El=l._emscripten_bind_FsckContext_FsckContext_1=l.asm.G).apply(null,arguments)},Dl=l._emscripten_bind_FsckContext_GetImage_0=function(){return(Dl=l._emscripten_bind_FsckContext_GetImage_0=l.asm.H).apply(null,arguments)},Il=l._emscripten_bind_FsckContext_GetDirtyPages_0=function(){return(Il=l._emscripten_bind_FsckContext_GetDirtyPages_0=l.asm.I).apply(null,arguments)},da=l._emscripten_bind_FsckContext_GetImageSize_0=function(){return(da=l._emscripten_bind_FsckContext_GetImageSize_0=l.asm.J).apply(null,arguments)},kl=l._emscripten_bind_FsckContext_Fsck_0=function(){return(kl=l._emscripten_bind_FsckContext_Fsck_0=l.asm.K).apply(null,arguments)},Fo=l._emscripten_bind_FsckContext_GetResult_0=function(){return(Fo=l._emscripten_bind_FsckContext_GetResult_0=l.asm.L).apply(null,arguments)},Zn=l._emscripten_bind_FsckContext___destroy___0=function(){return(Zn=l._emscripten_bind_FsckContext___destroy___0=l.asm.M).apply(null,arguments)};function Es(p){function y(){Ys||(Ys=!0,l.calledRun=!0,!it&&(function Cn(){!l.noFSInit&&!E.init.initialized&&E.init(),E.ignorePermissions=!1,Jn.init(),Bn(Ae)}(),function _r(){Bn(At)}(),re(l),l.onRuntimeInitialized&&l.onRuntimeInitialized(),fa&&function wr(p){var y=l._main;try{var G=y(0,0);return ws(G),G}catch(_e){return function pe(p){if(p instanceof Fn||"unwind"==p)return ce;V(1,p)}(_e)}}(),function Qn(){if(l.postRun)for("function"==typeof l.postRun&&(l.postRun=[l.postRun]);l.postRun.length;)p=l.postRun.shift(),cn.unshift(p);var p;Bn(cn)}()))}p=p||Q,Rn>0||(function H(){if(l.preRun)for("function"==typeof l.preRun&&(l.preRun=[l.preRun]);l.preRun.length;)p=l.preRun.shift(),ft.unshift(p);var p;Bn(ft)}(),Rn>0)||(l.setStatus?(l.setStatus("Running..."),setTimeout(function(){setTimeout(function(){l.setStatus("")},1),y()},1)):y())}if(l._main=function(){return(l._main=l.asm.N).apply(null,arguments)},l.___original_main=function(){return(l.___original_main=l.asm.P).apply(null,arguments)},l.___start_em_js=40220,l.___stop_em_js=40318,Un=function p(){Ys||Es(),Ys||(Un=p)},l.preInit)for("function"==typeof l.preInit&&(l.preInit=[l.preInit]);l.preInit.length>0;)l.preInit.pop()();var fa=!0;function ao(){}function cs(p){return(p||ao).__cache__}function xi(p,y){var w=cs(y),F=w[p];return F||((F=Object.create((y||ao).prototype)).ptr=p,w[p]=F)}l.noInitialRun&&(fa=!1),Es(),(ao.prototype=Object.create(ao.prototype)).constructor=ao,ao.prototype.__class__=ao,ao.__cache__={},l.WrapperObject=ao,l.getCache=cs,l.wrapPointer=xi,l.castObject=function pa(p,y){return xi(p.ptr,y)},l.NULL=xi(0),l.destroy=function Bs(p){if(!p.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";p.__destroy__(),delete cs(p.__class__)[p.ptr]},l.compare=function Xs(p,y){return p.ptr===y.ptr},l.getPointer=function ha(p){return p.ptr},l.getClass=function Za(p){return p.__class__};var Mt={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(Mt.needed){for(var p=0;p<Mt.temps.length;p++)l._free(Mt.temps[p]);Mt.temps.length=0,l._free(Mt.buffer),Mt.buffer=0,Mt.size+=Mt.needed,Mt.needed=0}Mt.buffer||(Mt.size+=128,Mt.buffer=l._malloc(Mt.size),be(Mt.buffer)),Mt.pos=0},alloc:function(p,y){be(Mt.buffer);var G,F=p.length*y.BYTES_PER_ELEMENT;return Mt.pos+(F=F+7&-8)>=Mt.size?(be(F>0),Mt.needed+=F,G=l._malloc(F),Mt.temps.push(G)):(G=Mt.buffer+Mt.pos,Mt.pos+=F),G},copy:function(p,y,w){switch(w>>>=0,y.BYTES_PER_ELEMENT){case 2:w>>>=1;break;case 4:w>>>=2;break;case 8:w>>>=3}for(var G=0;G<p.length;G++)y[w+G]=p[G]}};function vo(){throw"cannot construct a VoidPtr, no constructor in IDL"}function lr(){this.ptr=Ro(),cs(lr)[this.ptr]=this}function Qr(){this.ptr=za(),cs(Qr)[this.ptr]=this}function $r(p){p&&"object"==typeof p&&(p=p.ptr),this.ptr=El(p),cs($r)[this.ptr]=this}return(vo.prototype=Object.create(ao.prototype)).constructor=vo,vo.prototype.__class__=vo,vo.__cache__={},l.VoidPtr=vo,vo.prototype.__destroy__=vo.prototype.__destroy__=function(){no(this.ptr)},(lr.prototype=Object.create(ao.prototype)).constructor=lr,lr.prototype.__class__=lr,lr.__cache__={},l.FSTools=lr,lr.prototype.Malloc=lr.prototype.Malloc=function(p){return p&&"object"==typeof p&&(p=p.ptr),xi(gi(this.ptr,p),vo)},lr.prototype.Free=lr.prototype.Free=function(p){p&&"object"==typeof p&&(p=p.ptr),Mr(this.ptr,p)},lr.prototype.Nullptr=lr.prototype.Nullptr=function(){return xi(ls(this.ptr),vo)},lr.prototype.__destroy__=lr.prototype.__destroy__=function(){Ga(this.ptr)},(Qr.prototype=Object.create(ao.prototype)).constructor=Qr,Qr.prototype.__class__=Qr,Qr.__cache__={},l.MkfsContext=Qr,Qr.prototype.Mkfs=Qr.prototype.Mkfs=function(p,y){var w=this.ptr;return Mt.prepare(),p&&"object"==typeof p&&(p=p.ptr),y=y&&"object"==typeof y?y.ptr:function Qs(p){if("string"==typeof p){var y=en(p),w=Mt.alloc(y,Qe);return Mt.copy(y,Qe,w),w}return p}(y),!!Mi(w,p,y)},Qr.prototype.GetImage=Qr.prototype.GetImage=function(){return xi(Wa(this.ptr),vo)},Qr.prototype.GetImageSize=Qr.prototype.GetImageSize=function(){return qs(this.ptr)},Qr.prototype.__destroy__=Qr.prototype.__destroy__=function(){Ks(this.ptr)},($r.prototype=Object.create(ao.prototype)).constructor=$r,$r.prototype.__class__=$r,$r.__cache__={},l.FsckContext=$r,$r.prototype.GetImage=$r.prototype.GetImage=function(){return xi(Dl(this.ptr),vo)},$r.prototype.GetDirtyPages=$r.prototype.GetDirtyPages=function(){return xi(Il(this.ptr),vo)},$r.prototype.GetImageSize=$r.prototype.GetImageSize=function(){return da(this.ptr)},$r.prototype.Fsck=$r.prototype.Fsck=function(){return kl(this.ptr)},$r.prototype.GetResult=$r.prototype.GetResult=function(){return Fo(this.ptr)},$r.prototype.__destroy__=$r.prototype.__destroy__=function(){Zn(this.ptr)},I.ready});Be.exports=We},7971:Be=>{var A,We=(A=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(I){var re,te,l=typeof(I=I||{})<"u"?I:{};l.ready=new Promise(function(d,g){re=d,te=g});var j,Pe,$e,z=Object.assign({},l),Q=[],L="./this.program",V=(d,g)=>{throw g},ue="object"==typeof window,X="function"==typeof importScripts,B=("object"==typeof process&&"object"==typeof process.versions&&process,"");(ue||X)&&(X?B=self.location.href:typeof document<"u"&&document.currentScript&&(B=document.currentScript.src),A&&(B=A),B=0!==B.indexOf("blob:")?B.substr(0,B.replace(/[?#].*/,"").lastIndexOf("/")+1):"",j=d=>{var g=new XMLHttpRequest;return g.open("GET",d,!1),g.send(null),g.responseText},X&&($e=d=>{var g=new XMLHttpRequest;return g.open("GET",d,!1),g.responseType="arraybuffer",g.send(null),new Uint8Array(g.response)}),Pe=(d,g,v)=>{var P=new XMLHttpRequest;P.open("GET",d,!0),P.responseType="arraybuffer",P.onload=()=>{200==P.status||0==P.status&&P.response?g(P.response):v()},P.onerror=v,P.send(null)});var fe,Z=l.print||console.log.bind(console),K=l.printErr||console.warn.bind(console);Object.assign(l,z),z=null,l.arguments&&(Q=l.arguments),l.thisProgram&&(L=l.thisProgram),l.quit&&(V=l.quit),l.wasmBinary&&(fe=l.wasmBinary);var Fe=l.noExitRuntime||!0;"object"!=typeof WebAssembly&&ar("no native wasm support detected");var de,ce,it=!1;function be(d,g){d||ar(g)}var Ue,Qe,yt,O,ge,Ie=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Xe(d,g,v){for(var P=g+v,W=g;d[W]&&!(W>=P);)++W;if(W-g>16&&d.buffer&&Ie)return Ie.decode(d.subarray(g,W));for(var Ce="";g<W;){var we=d[g++];if(128&we){var Re=63&d[g++];if(192!=(224&we)){var Ct=63&d[g++];if((we=224==(240&we)?(15&we)<<12|Re<<6|Ct:(7&we)<<18|Re<<12|Ct<<6|63&d[g++])<65536)Ce+=String.fromCharCode(we);else{var on=we-65536;Ce+=String.fromCharCode(55296|on>>10,56320|1023&on)}}else Ce+=String.fromCharCode((31&we)<<6|Re)}else Ce+=String.fromCharCode(we)}return Ce}function Oe(d,g){return d?Xe(yt,d,g):""}function Me(d,g,v,P){if(!(P>0))return 0;for(var W=v,Ce=v+P-1,we=0;we<d.length;++we){var Re=d.charCodeAt(we);if(Re>=55296&&Re<=57343&&(Re=65536+((1023&Re)<<10)|1023&d.charCodeAt(++we)),Re<=127){if(v>=Ce)break;g[v++]=Re}else if(Re<=2047){if(v+1>=Ce)break;g[v++]=192|Re>>6,g[v++]=128|63&Re}else if(Re<=65535){if(v+2>=Ce)break;g[v++]=224|Re>>12,g[v++]=128|Re>>6&63,g[v++]=128|63&Re}else{if(v+3>=Ce)break;g[v++]=240|Re>>18,g[v++]=128|Re>>12&63,g[v++]=128|Re>>6&63,g[v++]=128|63&Re}}return g[v]=0,v-W}function ne(d){for(var g=0,v=0;v<d.length;++v){var P=d.charCodeAt(v);P<=127?g++:P<=2047?g+=2:P>=55296&&P<=57343?(g+=4,++v):g+=3}return g}function Ve(d){Ue=d,l.HEAP8=Qe=new Int8Array(d),l.HEAP16=new Int16Array(d),l.HEAP32=O=new Int32Array(d),l.HEAPU8=yt=new Uint8Array(d),l.HEAPU16=new Uint16Array(d),l.HEAPU32=ge=new Uint32Array(d),l.HEAPF32=new Float32Array(d),l.HEAPF64=new Float64Array(d)}var gn,lt,le,ft=[],Ae=[],At=[],cn=[],Rn=0,yo=null,Un=null;function Yr(d){Rn++,l.monitorRunDependencies&&l.monitorRunDependencies(Rn)}function Lr(d){if(Rn--,l.monitorRunDependencies&&l.monitorRunDependencies(Rn),0==Rn&&(null!==yo&&(clearInterval(yo),yo=null),Un)){var g=Un;Un=null,g()}}function ar(d){l.onAbort&&l.onAbort(d),K(d="Aborted("+d+")"),it=!0,ce=1,d+=". Build with -sASSERTIONS for more info.";var g=new WebAssembly.RuntimeError(d);throw te(g),g}function oo(d){return d.startsWith("data:application/octet-stream;base64,")}function eo(d){try{if(d==gn&&fe)return new Uint8Array(fe);if($e)return $e(d);throw"both async and sync fetching of the wasm failed"}catch(g){ar(g)}}function ze(d){this.name="ExitStatus",this.message="Program terminated with exit("+d+")",this.status=d}function Fn(d){for(;d.length>0;)d.shift()(l)}function qt(d,g){return g+2097152>>>0<4194305-!!d?(d>>>0)+4294967296*g:NaN}oo(gn="vfs_web.wasm")||(gn=function $(d){return l.locateFile?l.locateFile(d,B):B+d}(gn));var Ft={isAbs:d=>"/"===d.charAt(0),splitPath:d=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(d).slice(1),normalizeArray:(d,g)=>{for(var v=0,P=d.length-1;P>=0;P--){var W=d[P];"."===W?d.splice(P,1):".."===W?(d.splice(P,1),v++):v&&(d.splice(P,1),v--)}if(g)for(;v;v--)d.unshift("..");return d},normalize:d=>{var g=Ft.isAbs(d),v="/"===d.substr(-1);return!(d=Ft.normalizeArray(d.split("/").filter(P=>!!P),!g).join("/"))&&!g&&(d="."),d&&v&&(d+="/"),(g?"/":"")+d},dirname:d=>{var g=Ft.splitPath(d),v=g[0],P=g[1];return v||P?(P&&(P=P.substr(0,P.length-1)),v+P):"."},basename:d=>{if("/"===d)return"/";var g=(d=(d=Ft.normalize(d)).replace(/\/$/,"")).lastIndexOf("/");return-1===g?d:d.substr(g+1)},join:function(){var d=Array.prototype.slice.call(arguments);return Ft.normalize(d.join("/"))},join2:(d,g)=>Ft.normalize(d+"/"+g)},en={resolve:function(){for(var d="",g=!1,v=arguments.length-1;v>=-1&&!g;v--){var P=v>=0?arguments[v]:S.cwd();if("string"!=typeof P)throw new TypeError("Arguments to path.resolve must be strings");if(!P)return"";d=P+"/"+d,g=Ft.isAbs(P)}return(g?"/":"")+(d=Ft.normalizeArray(d.split("/").filter(W=>!!W),!g).join("/"))||"."},relative:(d,g)=>{function v(on){for(var wn=0;wn<on.length&&""===on[wn];wn++);for(var Nn=on.length-1;Nn>=0&&""===on[Nn];Nn--);return wn>Nn?[]:on.slice(wn,Nn-wn+1)}d=en.resolve(d).substr(1),g=en.resolve(g).substr(1);for(var P=v(d.split("/")),W=v(g.split("/")),Ce=Math.min(P.length,W.length),we=Ce,Re=0;Re<Ce;Re++)if(P[Re]!==W[Re]){we=Re;break}var Ct=[];for(Re=we;Re<P.length;Re++)Ct.push("..");return(Ct=Ct.concat(W.slice(we))).join("/")}};function Jn(d,g,v){var P=v>0?v:ne(d)+1,W=new Array(P),Ce=Me(d,W,0,W.length);return g&&(W.length=Ce),W}var er={ttys:[],init:function(){},shutdown:function(){},register:function(d,g){er.ttys[d]={input:[],output:[],ops:g},S.registerDevice(d,er.stream_ops)},stream_ops:{open:function(d){var g=er.ttys[d.node.rdev];if(!g)throw new S.ErrnoError(43);d.tty=g,d.seekable=!1},close:function(d){d.tty.ops.fsync(d.tty)},fsync:function(d){d.tty.ops.fsync(d.tty)},read:function(d,g,v,P,W){if(!d.tty||!d.tty.ops.get_char)throw new S.ErrnoError(60);for(var Ce=0,we=0;we<P;we++){var Re;try{Re=d.tty.ops.get_char(d.tty)}catch{throw new S.ErrnoError(29)}if(void 0===Re&&0===Ce)throw new S.ErrnoError(6);if(null==Re)break;Ce++,g[v+we]=Re}return Ce&&(d.node.timestamp=Date.now()),Ce},write:function(d,g,v,P,W){if(!d.tty||!d.tty.ops.put_char)throw new S.ErrnoError(60);try{for(var Ce=0;Ce<P;Ce++)d.tty.ops.put_char(d.tty,g[v+Ce])}catch{throw new S.ErrnoError(29)}return P&&(d.node.timestamp=Date.now()),Ce}},default_tty_ops:{get_char:function(d){if(!d.input.length){var g=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(g=window.prompt("Input: "))&&(g+="\n"):"function"==typeof readline&&null!==(g=readline())&&(g+="\n"),!g)return null;d.input=Jn(g,!0)}return d.input.shift()},put_char:function(d,g){null===g||10===g?(Z(Xe(d.output,0)),d.output=[]):0!=g&&d.output.push(g)},fsync:function(d){d.output&&d.output.length>0&&(Z(Xe(d.output,0)),d.output=[])}},default_tty1_ops:{put_char:function(d,g){null===g||10===g?(K(Xe(d.output,0)),d.output=[]):0!=g&&d.output.push(g)},fsync:function(d){d.output&&d.output.length>0&&(K(Xe(d.output,0)),d.output=[])}}};function un(d){ar()}var Ht={ops_table:null,mount:function(d){return Ht.createNode(null,"/",16895,0)},createNode:function(d,g,v,P){if(S.isBlkdev(v)||S.isFIFO(v))throw new S.ErrnoError(63);Ht.ops_table||(Ht.ops_table={dir:{node:{getattr:Ht.node_ops.getattr,setattr:Ht.node_ops.setattr,lookup:Ht.node_ops.lookup,mknod:Ht.node_ops.mknod,rename:Ht.node_ops.rename,unlink:Ht.node_ops.unlink,rmdir:Ht.node_ops.rmdir,readdir:Ht.node_ops.readdir,symlink:Ht.node_ops.symlink},stream:{llseek:Ht.stream_ops.llseek}},file:{node:{getattr:Ht.node_ops.getattr,setattr:Ht.node_ops.setattr},stream:{llseek:Ht.stream_ops.llseek,read:Ht.stream_ops.read,write:Ht.stream_ops.write,allocate:Ht.stream_ops.allocate,mmap:Ht.stream_ops.mmap,msync:Ht.stream_ops.msync}},link:{node:{getattr:Ht.node_ops.getattr,setattr:Ht.node_ops.setattr,readlink:Ht.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Ht.node_ops.getattr,setattr:Ht.node_ops.setattr},stream:S.chrdev_stream_ops}});var W=S.createNode(d,g,v,P);return S.isDir(W.mode)?(W.node_ops=Ht.ops_table.dir.node,W.stream_ops=Ht.ops_table.dir.stream,W.contents={}):S.isFile(W.mode)?(W.node_ops=Ht.ops_table.file.node,W.stream_ops=Ht.ops_table.file.stream,W.usedBytes=0,W.contents=null):S.isLink(W.mode)?(W.node_ops=Ht.ops_table.link.node,W.stream_ops=Ht.ops_table.link.stream):S.isChrdev(W.mode)&&(W.node_ops=Ht.ops_table.chrdev.node,W.stream_ops=Ht.ops_table.chrdev.stream),W.timestamp=Date.now(),d&&(d.contents[g]=W,d.timestamp=W.timestamp),W},getFileDataAsTypedArray:function(d){return d.contents?d.contents.subarray?d.contents.subarray(0,d.usedBytes):new Uint8Array(d.contents):new Uint8Array(0)},expandFileStorage:function(d,g){var v=d.contents?d.contents.length:0;if(!(v>=g)){g=Math.max(g,v*(v<1048576?2:1.125)>>>0),0!=v&&(g=Math.max(g,256));var W=d.contents;d.contents=new Uint8Array(g),d.usedBytes>0&&d.contents.set(W.subarray(0,d.usedBytes),0)}},resizeFileStorage:function(d,g){if(d.usedBytes!=g)if(0==g)d.contents=null,d.usedBytes=0;else{var v=d.contents;d.contents=new Uint8Array(g),v&&d.contents.set(v.subarray(0,Math.min(g,d.usedBytes))),d.usedBytes=g}},node_ops:{getattr:function(d){var g={};return g.dev=S.isChrdev(d.mode)?d.id:1,g.ino=d.id,g.mode=d.mode,g.nlink=1,g.uid=0,g.gid=0,g.rdev=d.rdev,g.size=S.isDir(d.mode)?4096:S.isFile(d.mode)?d.usedBytes:S.isLink(d.mode)?d.link.length:0,g.atime=new Date(d.timestamp),g.mtime=new Date(d.timestamp),g.ctime=new Date(d.timestamp),g.blksize=4096,g.blocks=Math.ceil(g.size/g.blksize),g},setattr:function(d,g){void 0!==g.mode&&(d.mode=g.mode),void 0!==g.timestamp&&(d.timestamp=g.timestamp),void 0!==g.size&&Ht.resizeFileStorage(d,g.size)},lookup:function(d,g){throw S.genericErrors[44]},mknod:function(d,g,v,P){return Ht.createNode(d,g,v,P)},rename:function(d,g,v){if(S.isDir(d.mode)){var P;try{P=S.lookupNode(g,v)}catch{}if(P)for(var W in P.contents)throw new S.ErrnoError(55)}delete d.parent.contents[d.name],d.parent.timestamp=Date.now(),d.name=v,g.contents[v]=d,g.timestamp=d.parent.timestamp,d.parent=g},unlink:function(d,g){delete d.contents[g],d.timestamp=Date.now()},rmdir:function(d,g){var v=S.lookupNode(d,g);for(var P in v.contents)throw new S.ErrnoError(55);delete d.contents[g],d.timestamp=Date.now()},readdir:function(d){var g=[".",".."];for(var v in d.contents)d.contents.hasOwnProperty(v)&&g.push(v);return g},symlink:function(d,g,v){var P=Ht.createNode(d,g,41471,0);return P.link=v,P},readlink:function(d){if(!S.isLink(d.mode))throw new S.ErrnoError(28);return d.link}},stream_ops:{read:function(d,g,v,P,W){var Ce=d.node.contents;if(W>=d.node.usedBytes)return 0;var we=Math.min(d.node.usedBytes-W,P);if(we>8&&Ce.subarray)g.set(Ce.subarray(W,W+we),v);else for(var Re=0;Re<we;Re++)g[v+Re]=Ce[W+Re];return we},write:function(d,g,v,P,W,Ce){if(g.buffer===Qe.buffer&&(Ce=!1),!P)return 0;var we=d.node;if(we.timestamp=Date.now(),g.subarray&&(!we.contents||we.contents.subarray)){if(Ce)return we.contents=g.subarray(v,v+P),we.usedBytes=P,P;if(0===we.usedBytes&&0===W)return we.contents=g.slice(v,v+P),we.usedBytes=P,P;if(W+P<=we.usedBytes)return we.contents.set(g.subarray(v,v+P),W),P}if(Ht.expandFileStorage(we,W+P),we.contents.subarray&&g.subarray)we.contents.set(g.subarray(v,v+P),W);else for(var Re=0;Re<P;Re++)we.contents[W+Re]=g[v+Re];return we.usedBytes=Math.max(we.usedBytes,W+P),P},llseek:function(d,g,v){var P=g;if(1===v?P+=d.position:2===v&&S.isFile(d.node.mode)&&(P+=d.node.usedBytes),P<0)throw new S.ErrnoError(28);return P},allocate:function(d,g,v){Ht.expandFileStorage(d.node,g+v),d.node.usedBytes=Math.max(d.node.usedBytes,g+v)},mmap:function(d,g,v,P,W){if(!S.isFile(d.node.mode))throw new S.ErrnoError(43);var Ce,we,Re=d.node.contents;if(2&W||Re.buffer!==Ue){if((v>0||v+g<Re.length)&&(Re=Re.subarray?Re.subarray(v,v+g):Array.prototype.slice.call(Re,v,v+g)),we=!0,!(Ce=un()))throw new S.ErrnoError(48);Qe.set(Re,Ce)}else we=!1,Ce=Re.byteOffset;return{ptr:Ce,allocated:we}},msync:function(d,g,v,P,W){return Ht.stream_ops.write(d,g,0,P,v,!1),0}}},S={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(d,g={})=>{if(!(d=en.resolve(d)))return{path:"",node:null};if((g=Object.assign({follow_mount:!0,recurse_count:0},g)).recurse_count>8)throw new S.ErrnoError(32);for(var P=d.split("/").filter(Nn=>!!Nn),W=S.root,Ce="/",we=0;we<P.length;we++){var Re=we===P.length-1;if(Re&&g.parent)break;if(W=S.lookupNode(W,P[we]),Ce=Ft.join2(Ce,P[we]),S.isMountpoint(W)&&(!Re||Re&&g.follow_mount)&&(W=W.mounted.root),!Re||g.follow)for(var Ct=0;S.isLink(W.mode);){var on=S.readlink(Ce);if(Ce=en.resolve(Ft.dirname(Ce),on),W=S.lookupPath(Ce,{recurse_count:g.recurse_count+1}).node,Ct++>40)throw new S.ErrnoError(32)}}return{path:Ce,node:W}},getPath:d=>{for(var g;;){if(S.isRoot(d)){var v=d.mount.mountpoint;return g?"/"!==v[v.length-1]?v+"/"+g:v+g:v}g=g?d.name+"/"+g:d.name,d=d.parent}},hashName:(d,g)=>{for(var v=0,P=0;P<g.length;P++)v=(v<<5)-v+g.charCodeAt(P)|0;return(d+v>>>0)%S.nameTable.length},hashAddNode:d=>{var g=S.hashName(d.parent.id,d.name);d.name_next=S.nameTable[g],S.nameTable[g]=d},hashRemoveNode:d=>{var g=S.hashName(d.parent.id,d.name);if(S.nameTable[g]===d)S.nameTable[g]=d.name_next;else for(var v=S.nameTable[g];v;){if(v.name_next===d){v.name_next=d.name_next;break}v=v.name_next}},lookupNode:(d,g)=>{var v=S.mayLookup(d);if(v)throw new S.ErrnoError(v,d);for(var P=S.hashName(d.id,g),W=S.nameTable[P];W;W=W.name_next)if(W.parent.id===d.id&&W.name===g)return W;return S.lookup(d,g)},createNode:(d,g,v,P)=>{var W=new S.FSNode(d,g,v,P);return S.hashAddNode(W),W},destroyNode:d=>{S.hashRemoveNode(d)},isRoot:d=>d===d.parent,isMountpoint:d=>!!d.mounted,isFile:d=>32768==(61440&d),isDir:d=>16384==(61440&d),isLink:d=>40960==(61440&d),isChrdev:d=>8192==(61440&d),isBlkdev:d=>24576==(61440&d),isFIFO:d=>4096==(61440&d),isSocket:d=>49152==(49152&d),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:d=>{var g=S.flagModes[d];if(typeof g>"u")throw new Error("Unknown file open mode: "+d);return g},flagsToPermissionString:d=>{var g=["r","w","rw"][3&d];return 512&d&&(g+="w"),g},nodePermissions:(d,g)=>S.ignorePermissions?0:g.includes("r")&&!(292&d.mode)||g.includes("w")&&!(146&d.mode)||g.includes("x")&&!(73&d.mode)?2:0,mayLookup:d=>S.nodePermissions(d,"x")||(d.node_ops.lookup?0:2),mayCreate:(d,g)=>{try{return S.lookupNode(d,g),20}catch{}return S.nodePermissions(d,"wx")},mayDelete:(d,g,v)=>{var P;try{P=S.lookupNode(d,g)}catch(Ce){return Ce.errno}var W=S.nodePermissions(d,"wx");if(W)return W;if(v){if(!S.isDir(P.mode))return 54;if(S.isRoot(P)||S.getPath(P)===S.cwd())return 10}else if(S.isDir(P.mode))return 31;return 0},mayOpen:(d,g)=>d?S.isLink(d.mode)?32:S.isDir(d.mode)&&("r"!==S.flagsToPermissionString(g)||512&g)?31:S.nodePermissions(d,S.flagsToPermissionString(g)):44,MAX_OPEN_FDS:4096,nextfd:(d=0,g=S.MAX_OPEN_FDS)=>{for(var v=d;v<=g;v++)if(!S.streams[v])return v;throw new S.ErrnoError(33)},getStream:d=>S.streams[d],createStream:(d,g,v)=>{S.FSStream||(S.FSStream=function(){this.shared={}},S.FSStream.prototype={},Object.defineProperties(S.FSStream.prototype,{object:{get:function(){return this.node},set:function(W){this.node=W}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(W){this.shared.flags=W}},position:{get:function(){return this.shared.position},set:function(W){this.shared.position=W}}})),d=Object.assign(new S.FSStream,d);var P=S.nextfd(g,v);return d.fd=P,S.streams[P]=d,d},closeStream:d=>{S.streams[d]=null},chrdev_stream_ops:{open:d=>{var g=S.getDevice(d.node.rdev);d.stream_ops=g.stream_ops,d.stream_ops.open&&d.stream_ops.open(d)},llseek:()=>{throw new S.ErrnoError(70)}},major:d=>d>>8,minor:d=>255&d,makedev:(d,g)=>d<<8|g,registerDevice:(d,g)=>{S.devices[d]={stream_ops:g}},getDevice:d=>S.devices[d],getMounts:d=>{for(var g=[],v=[d];v.length;){var P=v.pop();g.push(P),v.push.apply(v,P.mounts)}return g},syncfs:(d,g)=>{"function"==typeof d&&(g=d,d=!1),S.syncFSRequests++,S.syncFSRequests>1&&K("warning: "+S.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var v=S.getMounts(S.root.mount),P=0;function W(we){return S.syncFSRequests--,g(we)}function Ce(we){if(we)return Ce.errored?void 0:(Ce.errored=!0,W(we));++P>=v.length&&W(null)}v.forEach(we=>{if(!we.type.syncfs)return Ce(null);we.type.syncfs(we,d,Ce)})},mount:(d,g,v)=>{var Ce,P="/"===v,W=!v;if(P&&S.root)throw new S.ErrnoError(10);if(!P&&!W){var we=S.lookupPath(v,{follow_mount:!1});if(v=we.path,S.isMountpoint(Ce=we.node))throw new S.ErrnoError(10);if(!S.isDir(Ce.mode))throw new S.ErrnoError(54)}var Re={type:d,opts:g,mountpoint:v,mounts:[]},Ct=d.mount(Re);return Ct.mount=Re,Re.root=Ct,P?S.root=Ct:Ce&&(Ce.mounted=Re,Ce.mount&&Ce.mount.mounts.push(Re)),Ct},unmount:d=>{var g=S.lookupPath(d,{follow_mount:!1});if(!S.isMountpoint(g.node))throw new S.ErrnoError(28);var v=g.node,P=v.mounted,W=S.getMounts(P);Object.keys(S.nameTable).forEach(we=>{for(var Re=S.nameTable[we];Re;){var Ct=Re.name_next;W.includes(Re.mount)&&S.destroyNode(Re),Re=Ct}}),v.mounted=null;var Ce=v.mount.mounts.indexOf(P);v.mount.mounts.splice(Ce,1)},lookup:(d,g)=>d.node_ops.lookup(d,g),mknod:(d,g,v)=>{var W=S.lookupPath(d,{parent:!0}).node,Ce=Ft.basename(d);if(!Ce||"."===Ce||".."===Ce)throw new S.ErrnoError(28);var we=S.mayCreate(W,Ce);if(we)throw new S.ErrnoError(we);if(!W.node_ops.mknod)throw new S.ErrnoError(63);return W.node_ops.mknod(W,Ce,g,v)},create:(d,g)=>(g=void 0!==g?g:438,g&=4095,S.mknod(d,g|=32768,0)),mkdir:(d,g)=>(g=void 0!==g?g:511,g&=1023,S.mknod(d,g|=16384,0)),mkdirTree:(d,g)=>{for(var v=d.split("/"),P="",W=0;W<v.length;++W)if(v[W]){P+="/"+v[W];try{S.mkdir(P,g)}catch(Ce){if(20!=Ce.errno)throw Ce}}},mkdev:(d,g,v)=>(typeof v>"u"&&(v=g,g=438),S.mknod(d,g|=8192,v)),symlink:(d,g)=>{if(!en.resolve(d))throw new S.ErrnoError(44);var P=S.lookupPath(g,{parent:!0}).node;if(!P)throw new S.ErrnoError(44);var W=Ft.basename(g),Ce=S.mayCreate(P,W);if(Ce)throw new S.ErrnoError(Ce);if(!P.node_ops.symlink)throw new S.ErrnoError(63);return P.node_ops.symlink(P,W,d)},rename:(d,g)=>{var Re,Ct,v=Ft.dirname(d),P=Ft.dirname(g),W=Ft.basename(d),Ce=Ft.basename(g);if(Re=S.lookupPath(d,{parent:!0}).node,Ct=S.lookupPath(g,{parent:!0}).node,!Re||!Ct)throw new S.ErrnoError(44);if(Re.mount!==Ct.mount)throw new S.ErrnoError(75);var Nn,on=S.lookupNode(Re,W),wn=en.relative(d,P);if("."!==wn.charAt(0))throw new S.ErrnoError(28);if("."!==(wn=en.relative(g,v)).charAt(0))throw new S.ErrnoError(55);try{Nn=S.lookupNode(Ct,Ce)}catch{}if(on!==Nn){var dn=S.isDir(on.mode),Dt=S.mayDelete(Re,W,dn);if(Dt)throw new S.ErrnoError(Dt);if(Dt=Nn?S.mayDelete(Ct,Ce,dn):S.mayCreate(Ct,Ce))throw new S.ErrnoError(Dt);if(!Re.node_ops.rename)throw new S.ErrnoError(63);if(S.isMountpoint(on)||Nn&&S.isMountpoint(Nn))throw new S.ErrnoError(10);if(Ct!==Re&&(Dt=S.nodePermissions(Re,"w")))throw new S.ErrnoError(Dt);S.hashRemoveNode(on);try{Re.node_ops.rename(on,Ct,Ce)}catch(Hn){throw Hn}finally{S.hashAddNode(on)}}},rmdir:d=>{var v=S.lookupPath(d,{parent:!0}).node,P=Ft.basename(d),W=S.lookupNode(v,P),Ce=S.mayDelete(v,P,!0);if(Ce)throw new S.ErrnoError(Ce);if(!v.node_ops.rmdir)throw new S.ErrnoError(63);if(S.isMountpoint(W))throw new S.ErrnoError(10);v.node_ops.rmdir(v,P),S.destroyNode(W)},readdir:d=>{var v=S.lookupPath(d,{follow:!0}).node;if(!v.node_ops.readdir)throw new S.ErrnoError(54);return v.node_ops.readdir(v)},unlink:d=>{var v=S.lookupPath(d,{parent:!0}).node;if(!v)throw new S.ErrnoError(44);var P=Ft.basename(d),W=S.lookupNode(v,P),Ce=S.mayDelete(v,P,!1);if(Ce)throw new S.ErrnoError(Ce);if(!v.node_ops.unlink)throw new S.ErrnoError(63);if(S.isMountpoint(W))throw new S.ErrnoError(10);v.node_ops.unlink(v,P),S.destroyNode(W)},readlink:d=>{var v=S.lookupPath(d).node;if(!v)throw new S.ErrnoError(44);if(!v.node_ops.readlink)throw new S.ErrnoError(28);return en.resolve(S.getPath(v.parent),v.node_ops.readlink(v))},stat:(d,g)=>{var P=S.lookupPath(d,{follow:!g}).node;if(!P)throw new S.ErrnoError(44);if(!P.node_ops.getattr)throw new S.ErrnoError(63);return P.node_ops.getattr(P)},lstat:d=>S.stat(d,!0),chmod:(d,g,v)=>{var P;if(!(P="string"==typeof d?S.lookupPath(d,{follow:!v}).node:d).node_ops.setattr)throw new S.ErrnoError(63);P.node_ops.setattr(P,{mode:4095&g|-4096&P.mode,timestamp:Date.now()})},lchmod:(d,g)=>{S.chmod(d,g,!0)},fchmod:(d,g)=>{var v=S.getStream(d);if(!v)throw new S.ErrnoError(8);S.chmod(v.node,g)},chown:(d,g,v,P)=>{var W;if(!(W="string"==typeof d?S.lookupPath(d,{follow:!P}).node:d).node_ops.setattr)throw new S.ErrnoError(63);W.node_ops.setattr(W,{timestamp:Date.now()})},lchown:(d,g,v)=>{S.chown(d,g,v,!0)},fchown:(d,g,v)=>{var P=S.getStream(d);if(!P)throw new S.ErrnoError(8);S.chown(P.node,g,v)},truncate:(d,g)=>{if(g<0)throw new S.ErrnoError(28);var v;if(!(v="string"==typeof d?S.lookupPath(d,{follow:!0}).node:d).node_ops.setattr)throw new S.ErrnoError(63);if(S.isDir(v.mode))throw new S.ErrnoError(31);if(!S.isFile(v.mode))throw new S.ErrnoError(28);var W=S.nodePermissions(v,"w");if(W)throw new S.ErrnoError(W);v.node_ops.setattr(v,{size:g,timestamp:Date.now()})},ftruncate:(d,g)=>{var v=S.getStream(d);if(!v)throw new S.ErrnoError(8);if(!(2097155&v.flags))throw new S.ErrnoError(28);S.truncate(v.node,g)},utime:(d,g,v)=>{var W=S.lookupPath(d,{follow:!0}).node;W.node_ops.setattr(W,{timestamp:Math.max(g,v)})},open:(d,g,v)=>{if(""===d)throw new S.ErrnoError(44);var P;if(v=typeof v>"u"?438:v,v=64&(g="string"==typeof g?S.modeStringToFlags(g):g)?4095&v|32768:0,"object"==typeof d)P=d;else{d=Ft.normalize(d);try{P=S.lookupPath(d,{follow:!(131072&g)}).node}catch{}}var Ce=!1;if(64&g)if(P){if(128&g)throw new S.ErrnoError(20)}else P=S.mknod(d,v,0),Ce=!0;if(!P)throw new S.ErrnoError(44);if(S.isChrdev(P.mode)&&(g&=-513),65536&g&&!S.isDir(P.mode))throw new S.ErrnoError(54);if(!Ce){var we=S.mayOpen(P,g);if(we)throw new S.ErrnoError(we)}512&g&&!Ce&&S.truncate(P,0),g&=-131713;var Re=S.createStream({node:P,path:S.getPath(P),flags:g,seekable:!0,position:0,stream_ops:P.stream_ops,ungotten:[],error:!1});return Re.stream_ops.open&&Re.stream_ops.open(Re),l.logReadFiles&&!(1&g)&&(S.readFiles||(S.readFiles={}),d in S.readFiles||(S.readFiles[d]=1)),Re},close:d=>{if(S.isClosed(d))throw new S.ErrnoError(8);d.getdents&&(d.getdents=null);try{d.stream_ops.close&&d.stream_ops.close(d)}catch(g){throw g}finally{S.closeStream(d.fd)}d.fd=null},isClosed:d=>null===d.fd,llseek:(d,g,v)=>{if(S.isClosed(d))throw new S.ErrnoError(8);if(!d.seekable||!d.stream_ops.llseek)throw new S.ErrnoError(70);if(0!=v&&1!=v&&2!=v)throw new S.ErrnoError(28);return d.position=d.stream_ops.llseek(d,g,v),d.ungotten=[],d.position},read:(d,g,v,P,W)=>{if(P<0||W<0)throw new S.ErrnoError(28);if(S.isClosed(d))throw new S.ErrnoError(8);if(1==(2097155&d.flags))throw new S.ErrnoError(8);if(S.isDir(d.node.mode))throw new S.ErrnoError(31);if(!d.stream_ops.read)throw new S.ErrnoError(28);var Ce=typeof W<"u";if(Ce){if(!d.seekable)throw new S.ErrnoError(70)}else W=d.position;var we=d.stream_ops.read(d,g,v,P,W);return Ce||(d.position+=we),we},write:(d,g,v,P,W,Ce)=>{if(P<0||W<0)throw new S.ErrnoError(28);if(S.isClosed(d))throw new S.ErrnoError(8);if(!(2097155&d.flags))throw new S.ErrnoError(8);if(S.isDir(d.node.mode))throw new S.ErrnoError(31);if(!d.stream_ops.write)throw new S.ErrnoError(28);d.seekable&&1024&d.flags&&S.llseek(d,0,2);var we=typeof W<"u";if(we){if(!d.seekable)throw new S.ErrnoError(70)}else W=d.position;var Re=d.stream_ops.write(d,g,v,P,W,Ce);return we||(d.position+=Re),Re},allocate:(d,g,v)=>{if(S.isClosed(d))throw new S.ErrnoError(8);if(g<0||v<=0)throw new S.ErrnoError(28);if(!(2097155&d.flags))throw new S.ErrnoError(8);if(!S.isFile(d.node.mode)&&!S.isDir(d.node.mode))throw new S.ErrnoError(43);if(!d.stream_ops.allocate)throw new S.ErrnoError(138);d.stream_ops.allocate(d,g,v)},mmap:(d,g,v,P,W)=>{if(2&P&&!(2&W)&&2!=(2097155&d.flags))throw new S.ErrnoError(2);if(1==(2097155&d.flags))throw new S.ErrnoError(2);if(!d.stream_ops.mmap)throw new S.ErrnoError(43);return d.stream_ops.mmap(d,g,v,P,W)},msync:(d,g,v,P,W)=>d.stream_ops.msync?d.stream_ops.msync(d,g,v,P,W):0,munmap:d=>0,ioctl:(d,g,v)=>{if(!d.stream_ops.ioctl)throw new S.ErrnoError(59);return d.stream_ops.ioctl(d,g,v)},readFile:(d,g={})=>{if(g.flags=g.flags||0,g.encoding=g.encoding||"binary","utf8"!==g.encoding&&"binary"!==g.encoding)throw new Error('Invalid encoding type "'+g.encoding+'"');var v,P=S.open(d,g.flags),Ce=S.stat(d).size,we=new Uint8Array(Ce);return S.read(P,we,0,Ce,0),"utf8"===g.encoding?v=Xe(we,0):"binary"===g.encoding&&(v=we),S.close(P),v},writeFile:(d,g,v={})=>{v.flags=v.flags||577;var P=S.open(d,v.flags,v.mode);if("string"==typeof g){var W=new Uint8Array(ne(g)+1),Ce=Me(g,W,0,W.length);S.write(P,W,0,Ce,void 0,v.canOwn)}else{if(!ArrayBuffer.isView(g))throw new Error("Unsupported data type");S.write(P,g,0,g.byteLength,void 0,v.canOwn)}S.close(P)},cwd:()=>S.currentPath,chdir:d=>{var g=S.lookupPath(d,{follow:!0});if(null===g.node)throw new S.ErrnoError(44);if(!S.isDir(g.node.mode))throw new S.ErrnoError(54);var v=S.nodePermissions(g.node,"x");if(v)throw new S.ErrnoError(v);S.currentPath=g.path},createDefaultDirectories:()=>{S.mkdir("/tmp"),S.mkdir("/home"),S.mkdir("/home/web_user")},createDefaultDevices:()=>{S.mkdir("/dev"),S.registerDevice(S.makedev(1,3),{read:()=>0,write:(g,v,P,W,Ce)=>W}),S.mkdev("/dev/null",S.makedev(1,3)),er.register(S.makedev(5,0),er.default_tty_ops),er.register(S.makedev(6,0),er.default_tty1_ops),S.mkdev("/dev/tty",S.makedev(5,0)),S.mkdev("/dev/tty1",S.makedev(6,0));var d=function br(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var d=new Uint8Array(1);return()=>(crypto.getRandomValues(d),d[0])}return()=>ar("randomDevice")}();S.createDevice("/dev","random",d),S.createDevice("/dev","urandom",d),S.mkdir("/dev/shm"),S.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{S.mkdir("/proc");var d=S.mkdir("/proc/self");S.mkdir("/proc/self/fd"),S.mount({mount:()=>{var g=S.createNode(d,"fd",16895,73);return g.node_ops={lookup:(v,P)=>{var Ce=S.getStream(+P);if(!Ce)throw new S.ErrnoError(8);var we={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>Ce.path}};return we.parent=we,we}},g}},{},"/proc/self/fd")},createStandardStreams:()=>{l.stdin?S.createDevice("/dev","stdin",l.stdin):S.symlink("/dev/tty","/dev/stdin"),l.stdout?S.createDevice("/dev","stdout",null,l.stdout):S.symlink("/dev/tty","/dev/stdout"),l.stderr?S.createDevice("/dev","stderr",null,l.stderr):S.symlink("/dev/tty1","/dev/stderr"),S.open("/dev/stdin",0),S.open("/dev/stdout",1),S.open("/dev/stderr",1)},ensureErrnoError:()=>{S.ErrnoError||(S.ErrnoError=function(g,v){this.node=v,this.setErrno=function(P){this.errno=P},this.setErrno(g),this.message="FS error"},S.ErrnoError.prototype=new Error,S.ErrnoError.prototype.constructor=S.ErrnoError,[44].forEach(d=>{S.genericErrors[d]=new S.ErrnoError(d),S.genericErrors[d].stack="<generic error, no stack>"}))},staticInit:()=>{S.ensureErrnoError(),S.nameTable=new Array(4096),S.mount(Ht,{},"/"),S.createDefaultDirectories(),S.createDefaultDevices(),S.createSpecialDirectories(),S.filesystems={MEMFS:Ht}},init:(d,g,v)=>{S.init.initialized=!0,S.ensureErrnoError(),l.stdin=d||l.stdin,l.stdout=g||l.stdout,l.stderr=v||l.stderr,S.createStandardStreams()},quit:()=>{S.init.initialized=!1;for(var d=0;d<S.streams.length;d++){var g=S.streams[d];g&&S.close(g)}},getMode:(d,g)=>{var v=0;return d&&(v|=365),g&&(v|=146),v},findObject:(d,g)=>{var v=S.analyzePath(d,g);return v.exists?v.object:null},analyzePath:(d,g)=>{try{d=(v=S.lookupPath(d,{follow:!g})).path}catch{}var P={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var v=S.lookupPath(d,{parent:!0});P.parentExists=!0,P.parentPath=v.path,P.parentObject=v.node,P.name=Ft.basename(d),v=S.lookupPath(d,{follow:!g}),P.exists=!0,P.path=v.path,P.object=v.node,P.name=v.node.name,P.isRoot="/"===v.path}catch(W){P.error=W.errno}return P},createPath:(d,g,v,P)=>{d="string"==typeof d?d:S.getPath(d);for(var W=g.split("/").reverse();W.length;){var Ce=W.pop();if(Ce){var we=Ft.join2(d,Ce);try{S.mkdir(we)}catch{}d=we}}return we},createFile:(d,g,v,P,W)=>{var Ce=Ft.join2("string"==typeof d?d:S.getPath(d),g),we=S.getMode(P,W);return S.create(Ce,we)},createDataFile:(d,g,v,P,W,Ce)=>{var we=g;d&&(d="string"==typeof d?d:S.getPath(d),we=g?Ft.join2(d,g):d);var Re=S.getMode(P,W),Ct=S.create(we,Re);if(v){if("string"==typeof v){for(var on=new Array(v.length),wn=0,Nn=v.length;wn<Nn;++wn)on[wn]=v.charCodeAt(wn);v=on}S.chmod(Ct,146|Re);var dn=S.open(Ct,577);S.write(dn,v,0,v.length,0,Ce),S.close(dn),S.chmod(Ct,Re)}return Ct},createDevice:(d,g,v,P)=>{var W=Ft.join2("string"==typeof d?d:S.getPath(d),g),Ce=S.getMode(!!v,!!P);S.createDevice.major||(S.createDevice.major=64);var we=S.makedev(S.createDevice.major++,0);return S.registerDevice(we,{open:Re=>{Re.seekable=!1},close:Re=>{P&&P.buffer&&P.buffer.length&&P(10)},read:(Re,Ct,on,wn,Nn)=>{for(var dn=0,Dt=0;Dt<wn;Dt++){var Hn;try{Hn=v()}catch{throw new S.ErrnoError(29)}if(void 0===Hn&&0===dn)throw new S.ErrnoError(6);if(null==Hn)break;dn++,Ct[on+Dt]=Hn}return dn&&(Re.node.timestamp=Date.now()),dn},write:(Re,Ct,on,wn,Nn)=>{for(var dn=0;dn<wn;dn++)try{P(Ct[on+dn])}catch{throw new S.ErrnoError(29)}return wn&&(Re.node.timestamp=Date.now()),dn}}),S.mkdev(W,Ce,we)},forceLoadFile:d=>{if(d.isDevice||d.isFolder||d.link||d.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!j)throw new Error("Cannot load without read() or XMLHttpRequest.");try{d.contents=Jn(j(d.url),!0),d.usedBytes=d.contents.length}catch{throw new S.ErrnoError(29)}},createLazyFile:(d,g,v,P,W)=>{function Ce(){this.lengthKnown=!1,this.chunks=[]}if(Ce.prototype.get=function(Dt){if(!(Dt>this.length-1||Dt<0)){var Hn=Dt%this.chunkSize;return this.getter(Dt/this.chunkSize|0)[Hn]}},Ce.prototype.setDataGetter=function(Dt){this.getter=Dt},Ce.prototype.cacheLength=function(){var Dt=new XMLHttpRequest;if(Dt.open("HEAD",v,!1),Dt.send(null),!(Dt.status>=200&&Dt.status<300||304===Dt.status))throw new Error("Couldn't load "+v+". Status: "+Dt.status);var Br,Hn=Number(Dt.getResponseHeader("Content-length")),si=(Br=Dt.getResponseHeader("Accept-Ranges"))&&"bytes"===Br,uo=(Br=Dt.getResponseHeader("Content-Encoding"))&&"gzip"===Br,mt=1048576;si||(mt=Hn);var or=this;or.setDataGetter(Pr=>{var Nr=Pr*mt,mr=(Pr+1)*mt-1;if(mr=Math.min(mr,Hn-1),typeof or.chunks[Pr]>"u"&&(or.chunks[Pr]=((Pr,Nr)=>{if(Pr>Nr)throw new Error("invalid range ("+Pr+", "+Nr+") or no bytes requested!");if(Nr>Hn-1)throw new Error("only "+Hn+" bytes available! programmer error!");var mr=new XMLHttpRequest;if(mr.open("GET",v,!1),Hn!==mt&&mr.setRequestHeader("Range","bytes="+Pr+"-"+Nr),mr.responseType="arraybuffer",mr.overrideMimeType&&mr.overrideMimeType("text/plain; charset=x-user-defined"),mr.send(null),!(mr.status>=200&&mr.status<300||304===mr.status))throw new Error("Couldn't load "+v+". Status: "+mr.status);return void 0!==mr.response?new Uint8Array(mr.response||[]):Jn(mr.responseText||"",!0)})(Nr,mr)),typeof or.chunks[Pr]>"u")throw new Error("doXHR failed!");return or.chunks[Pr]}),(uo||!Hn)&&(mt=Hn=1,Hn=this.getter(0).length,mt=Hn,Z("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Hn,this._chunkSize=mt,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!X)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var we=new Ce;Object.defineProperties(we,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var Re={isDevice:!1,contents:we}}else Re={isDevice:!1,url:v};var Ct=S.createFile(d,g,Re,P,W);Re.contents?Ct.contents=Re.contents:Re.url&&(Ct.contents=null,Ct.url=Re.url),Object.defineProperties(Ct,{usedBytes:{get:function(){return this.contents.length}}});var on={};function Nn(dn,Dt,Hn,Br,si){var uo=dn.node.contents;if(si>=uo.length)return 0;var mt=Math.min(uo.length-si,Br);if(uo.slice)for(var tn=0;tn<mt;tn++)Dt[Hn+tn]=uo[si+tn];else for(tn=0;tn<mt;tn++)Dt[Hn+tn]=uo.get(si+tn);return mt}return Object.keys(Ct.stream_ops).forEach(dn=>{var Dt=Ct.stream_ops[dn];on[dn]=function(){return S.forceLoadFile(Ct),Dt.apply(null,arguments)}}),on.read=(dn,Dt,Hn,Br,si)=>(S.forceLoadFile(Ct),Nn(dn,Dt,Hn,Br,si)),on.mmap=(dn,Dt,Hn,Br,si)=>{S.forceLoadFile(Ct);var uo=un();if(!uo)throw new S.ErrnoError(48);return Nn(dn,Qe,uo,Dt,Hn),{ptr:uo,allocated:!0}},Ct.stream_ops=on,Ct},createPreloadedFile:(d,g,v,P,W,Ce,we,Re,Ct,on)=>{var wn=g?en.resolve(Ft.join2(d,g)):d;function dn(Dt){function Hn(Br){on&&on(),Re||S.createDataFile(d,g,Br,P,W,Ct),Ce&&Ce(),Lr()}Browser.handledByPreloadPlugin(Dt,wn,Hn,()=>{we&&we(),Lr()})||Hn(Dt)}Yr(),"string"==typeof v?function E(d,g,v,P){var W=P?"":"al "+d;Pe(d,Ce=>{be(Ce,'Loading data file "'+d+'" failed (no arrayBuffer).'),g(new Uint8Array(Ce)),W&&Lr()},Ce=>{if(!v)throw'Loading data file "'+d+'" failed.';v()}),W&&Yr()}(v,Dt=>dn(Dt),we):dn(v)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(d,g,v)=>{g=g||(()=>{}),v=v||(()=>{});var P=S.indexedDB();try{var W=P.open(S.DB_NAME(),S.DB_VERSION)}catch(Ce){return v(Ce)}W.onupgradeneeded=()=>{Z("creating db"),W.result.createObjectStore(S.DB_STORE_NAME)},W.onsuccess=()=>{var we=W.result.transaction([S.DB_STORE_NAME],"readwrite"),Re=we.objectStore(S.DB_STORE_NAME),Ct=0,on=0,wn=d.length;function Nn(){0==on?g():v()}d.forEach(dn=>{var Dt=Re.put(S.analyzePath(dn).object.contents,dn);Dt.onsuccess=()=>{++Ct+on==wn&&Nn()},Dt.onerror=()=>{on++,Ct+on==wn&&Nn()}}),we.onerror=v},W.onerror=v},loadFilesFromDB:(d,g,v)=>{g=g||(()=>{}),v=v||(()=>{});var P=S.indexedDB();try{var W=P.open(S.DB_NAME(),S.DB_VERSION)}catch(Ce){return v(Ce)}W.onupgradeneeded=v,W.onsuccess=()=>{var Ce=W.result;try{var we=Ce.transaction([S.DB_STORE_NAME],"readonly")}catch(dn){return void v(dn)}var Re=we.objectStore(S.DB_STORE_NAME),Ct=0,on=0,wn=d.length;function Nn(){0==on?g():v()}d.forEach(dn=>{var Dt=Re.get(dn);Dt.onsuccess=()=>{S.analyzePath(dn).exists&&S.unlink(dn),S.createDataFile(Ft.dirname(dn),Ft.basename(dn),Dt.result,!0,!0,!0),++Ct+on==wn&&Nn()},Dt.onerror=()=>{on++,Ct+on==wn&&Nn()}}),we.onerror=v},W.onerror=v}},Kn={DEFAULT_POLLMASK:5,calculateAt:function(d,g,v){if(Ft.isAbs(g))return g;var P;if(P=-100===d?S.cwd():Kn.getStreamFromFD(d).path,0==g.length){if(!v)throw new S.ErrnoError(44);return P}return Ft.join2(P,g)},doStat:function(d,g,v){try{var P=d(g)}catch(W){if(W&&W.node&&Ft.normalize(g)!==Ft.normalize(S.getPath(W.node)))return-54;throw W}return O[v>>2]=P.dev,O[v+8>>2]=P.ino,O[v+12>>2]=P.mode,ge[v+16>>2]=P.nlink,O[v+20>>2]=P.uid,O[v+24>>2]=P.gid,O[v+28>>2]=P.rdev,le=[P.size>>>0,(lt=P.size,+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[v+40>>2]=le[0],O[v+44>>2]=le[1],O[v+48>>2]=4096,O[v+52>>2]=P.blocks,le=[Math.floor(P.atime.getTime()/1e3)>>>0,(lt=Math.floor(P.atime.getTime()/1e3),+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[v+56>>2]=le[0],O[v+60>>2]=le[1],ge[v+64>>2]=0,le=[Math.floor(P.mtime.getTime()/1e3)>>>0,(lt=Math.floor(P.mtime.getTime()/1e3),+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[v+72>>2]=le[0],O[v+76>>2]=le[1],ge[v+80>>2]=0,le=[Math.floor(P.ctime.getTime()/1e3)>>>0,(lt=Math.floor(P.ctime.getTime()/1e3),+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[v+88>>2]=le[0],O[v+92>>2]=le[1],ge[v+96>>2]=0,le=[P.ino>>>0,(lt=P.ino,+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[v+104>>2]=le[0],O[v+108>>2]=le[1],0},doMsync:function(d,g,v,P,W){if(!S.isFile(g.node.mode))throw new S.ErrnoError(43);if(2&P)return 0;var Ce=yt.slice(d,d+v);S.msync(g,Ce,W,v,P)},varargs:void 0,get:function(){return Kn.varargs+=4,O[Kn.varargs-4>>2]},getStr:function(d){return Oe(d)},getStreamFromFD:function(d){var g=S.getStream(d);if(!g)throw new S.ErrnoError(8);return g}};function Do(d){return d%4==0&&(d%100!=0||d%400==0)}var $i=[0,31,60,91,121,152,182,213,244,274,305,335],zo=[0,31,59,90,120,151,181,212,243,273,304,334];function Ii(d){return(Do(d.getFullYear())?$i:zo)[d.getMonth()]+d.getDate()-1}function Wo(d){var g=ne(d)+1,v=wt(g);return v&&Me(d,Qe,v,g),v}function Xr(d){try{return de.grow(d-Ue.byteLength+65535>>>16),Ve(de.buffer),1}catch{}}var ii={};function so(){if(!so.strings){var g={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:L||"./this.program"};for(var v in ii)void 0===ii[v]?delete g[v]:g[v]=ii[v];var P=[];for(var v in g)P.push(v+"="+g[v]);so.strings=P}return so.strings}var Ss=[31,29,31,30,31,30,31,31,30,31,30,31],Bi=[31,28,31,30,31,30,31,31,30,31,30,31];var pe=function(d,g,v,P){d||(d=this),this.parent=d,this.mount=d.mount,this.mounted=null,this.id=S.nextInode++,this.name=g,this.mode=v,this.node_ops={},this.stream_ops={},this.rdev=P};Object.defineProperties(pe.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(d){d?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(d){d?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return S.isDir(this.mode)}},isDevice:{get:function(){return S.isChrdev(this.mode)}}}),S.FSNode=pe,S.staticInit();var Ya,ot={a:function Bn(d,g,v,P){ar("Assertion failed: "+Oe(d)+", at: "+[g?Oe(g):"unknown filename",v,P?Oe(P):"unknown function"])},l:function D(d,g,v){try{var P=qt(g,v);return isNaN(P)?-61:(S.ftruncate(d,P),0)}catch(W){if(typeof S>"u"||!(W instanceof S.ErrnoError))throw W;return-W.errno}},g:function Go(){return!0},h:function ki(d,g){var v=new Date(1e3*function ri(d){return ge[d>>2]+4294967296*O[d+4>>2]}(d));O[g>>2]=v.getSeconds(),O[g+4>>2]=v.getMinutes(),O[g+8>>2]=v.getHours(),O[g+12>>2]=v.getDate(),O[g+16>>2]=v.getMonth(),O[g+20>>2]=v.getFullYear()-1900,O[g+24>>2]=v.getDay();var P=0|Ii(v);O[g+28>>2]=P,O[g+36>>2]=-60*v.getTimezoneOffset();var W=new Date(v.getFullYear(),0,1),Ce=new Date(v.getFullYear(),6,1).getTimezoneOffset(),we=W.getTimezoneOffset(),Re=0|(Ce!=we&&v.getTimezoneOffset()==Math.min(we,Ce));O[g+32>>2]=Re},i:function io(d){var g=new Date(O[d+20>>2]+1900,O[d+16>>2],O[d+12>>2],O[d+8>>2],O[d+4>>2],O[d>>2],0),v=O[d+32>>2],P=g.getTimezoneOffset(),W=new Date(g.getFullYear(),0,1),Ce=new Date(g.getFullYear(),6,1).getTimezoneOffset(),we=W.getTimezoneOffset(),Re=Math.min(we,Ce);if(v<0)O[d+32>>2]=Number(Ce!=we&&Re==P);else if(v>0!=(Re==P)){var Ct=Math.max(we,Ce),on=v>0?Re:Ct;g.setTime(g.getTime()+6e4*(on-P))}O[d+24>>2]=g.getDay();var wn=0|Ii(g);return O[d+28>>2]=wn,O[d>>2]=g.getSeconds(),O[d+4>>2]=g.getMinutes(),O[d+8>>2]=g.getHours(),O[d+12>>2]=g.getDate(),O[d+16>>2]=g.getMonth(),O[d+20>>2]=g.getYear(),g.getTime()/1e3|0},j:function Cr(d,g,v){var P=(new Date).getFullYear(),W=new Date(P,0,1),Ce=new Date(P,6,1),we=W.getTimezoneOffset(),Re=Ce.getTimezoneOffset(),Ct=Math.max(we,Re);function on(Hn){var Br=Hn.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Br?Br[1]:"GMT"}ge[d>>2]=60*Ct,O[g>>2]=Number(we!=Re);var wn=on(W),Nn=on(Ce),dn=Wo(wn),Dt=Wo(Nn);Re<we?(ge[v>>2]=dn,ge[v+4>>2]=Dt):(ge[v>>2]=Dt,ge[v+4>>2]=dn)},b:function Zo(){ar("")},c:function to(){return Date.now()},q:function oi(d,g,v){yt.copyWithin(d,g,g+v)},p:function is(d){var Ct,g=yt.length,v=2147483648;if((d>>>=0)>v)return!1;for(var W=1;W<=4;W*=2){var Ce=g*(1+.2/W);if(Ce=Math.min(Ce,d+100663296),Xr(Math.min(v,(Ct=Math.max(d,Ce))+(65536-Ct%65536)%65536)))return!0}return!1},n:function _o(d,g){var v=0;return so().forEach(function(P,W){var Ce=g+v;ge[d+4*W>>2]=Ce,function ss(d,g,v){for(var P=0;P<d.length;++P)Qe[g++>>0]=d.charCodeAt(P);v||(Qe[g>>0]=0)}(P,Ce),v+=P.length+1}),0},o:function Ti(d,g){var v=so();ge[d>>2]=v.length;var P=0;return v.forEach(function(W){P+=W.length+1}),ge[g>>2]=P,0},d:function ws(d){try{var g=Kn.getStreamFromFD(d);return S.close(g),0}catch(v){if(typeof S>"u"||!(v instanceof S.ErrnoError))throw v;return v.errno}},f:function as(d,g,v,P){try{var Ce=function hi(d,g,v,P){for(var W=0,Ce=0;Ce<v;Ce++){var we=ge[g>>2],Re=ge[g+4>>2];g+=8;var Ct=S.read(d,Qe,we,Re,P);if(Ct<0)return-1;if(W+=Ct,Ct<Re)break}return W}(Kn.getStreamFromFD(d),g,v);return ge[P>>2]=Ce,0}catch(we){if(typeof S>"u"||!(we instanceof S.ErrnoError))throw we;return we.errno}},k:function Ls(d,g,v,P,W){try{var Ce=qt(g,v);if(isNaN(Ce))return 61;var we=Kn.getStreamFromFD(d);return S.llseek(we,Ce,P),le=[we.position>>>0,(lt=we.position,+Math.abs(lt)>=1?lt>0?(0|Math.min(+Math.floor(lt/4294967296),4294967295))>>>0:~~+Math.ceil((lt-+(~~lt>>>0))/4294967296)>>>0:0)],O[W>>2]=le[0],O[W+4>>2]=le[1],we.getdents&&0===Ce&&0===P&&(we.getdents=null),0}catch(Re){if(typeof S>"u"||!(Re instanceof S.ErrnoError))throw Re;return Re.errno}},e:function fr(d,g,v,P){try{var Ce=function $s(d,g,v,P){for(var W=0,Ce=0;Ce<v;Ce++){var we=ge[g>>2],Re=ge[g+4>>2];g+=8;var Ct=S.write(d,Qe,we,Re,P);if(Ct<0)return-1;W+=Ct}return W}(Kn.getStreamFromFD(d),g,v);return ge[P>>2]=Ce,0}catch(we){if(typeof S>"u"||!(we instanceof S.ErrnoError))throw we;return we.errno}},m:function me(d,g,v,P,W){return function N(d,g,v,P){var W=O[P+40>>2],Ce={tm_sec:O[P>>2],tm_min:O[P+4>>2],tm_hour:O[P+8>>2],tm_mday:O[P+12>>2],tm_mon:O[P+16>>2],tm_year:O[P+20>>2],tm_wday:O[P+24>>2],tm_yday:O[P+28>>2],tm_isdst:O[P+32>>2],tm_gmtoff:O[P+36>>2],tm_zone:W?Oe(W):""},we=Oe(v),Re={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Ct in Re)we=we.replace(new RegExp(Ct,"g"),Re[Ct]);var on=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],wn=["January","February","March","April","May","June","July","August","September","October","November","December"];function Nn(mt,tn,or){for(var Pr="number"==typeof mt?mt.toString():mt||"";Pr.length<tn;)Pr=or[0]+Pr;return Pr}function dn(mt,tn){return Nn(mt,tn,"0")}function Dt(mt,tn){function or(Nr){return Nr<0?-1:Nr>0?1:0}var Pr;return 0===(Pr=or(mt.getFullYear()-tn.getFullYear()))&&0===(Pr=or(mt.getMonth()-tn.getMonth()))&&(Pr=or(mt.getDate()-tn.getDate())),Pr}function Hn(mt){switch(mt.getDay()){case 0:return new Date(mt.getFullYear()-1,11,29);case 1:return mt;case 2:return new Date(mt.getFullYear(),0,3);case 3:return new Date(mt.getFullYear(),0,2);case 4:return new Date(mt.getFullYear(),0,1);case 5:return new Date(mt.getFullYear()-1,11,31);case 6:return new Date(mt.getFullYear()-1,11,30)}}function Br(mt){var tn=function tr(d,g){for(var v=new Date(d.getTime());g>0;){var P=Do(v.getFullYear()),W=v.getMonth(),Ce=(P?Ss:Bi)[W];if(!(g>Ce-v.getDate()))return v.setDate(v.getDate()+g),v;g-=Ce-v.getDate()+1,v.setDate(1),W<11?v.setMonth(W+1):(v.setMonth(0),v.setFullYear(v.getFullYear()+1))}return v}(new Date(mt.tm_year+1900,0,1),mt.tm_yday),or=new Date(tn.getFullYear(),0,4),Pr=new Date(tn.getFullYear()+1,0,4),Nr=Hn(or),mr=Hn(Pr);return Dt(Nr,tn)<=0?Dt(mr,tn)<=0?tn.getFullYear()+1:tn.getFullYear():tn.getFullYear()-1}var si={"%a":function(mt){return on[mt.tm_wday].substring(0,3)},"%A":function(mt){return on[mt.tm_wday]},"%b":function(mt){return wn[mt.tm_mon].substring(0,3)},"%B":function(mt){return wn[mt.tm_mon]},"%C":function(mt){return dn((mt.tm_year+1900)/100|0,2)},"%d":function(mt){return dn(mt.tm_mday,2)},"%e":function(mt){return Nn(mt.tm_mday,2," ")},"%g":function(mt){return Br(mt).toString().substring(2)},"%G":function(mt){return Br(mt)},"%H":function(mt){return dn(mt.tm_hour,2)},"%I":function(mt){var tn=mt.tm_hour;return 0==tn?tn=12:tn>12&&(tn-=12),dn(tn,2)},"%j":function(mt){return dn(mt.tm_mday+function mi(d,g){for(var v=0,P=0;P<=g;v+=d[P++]);return v}(Do(mt.tm_year+1900)?Ss:Bi,mt.tm_mon-1),3)},"%m":function(mt){return dn(mt.tm_mon+1,2)},"%M":function(mt){return dn(mt.tm_min,2)},"%n":function(){return"\n"},"%p":function(mt){return mt.tm_hour>=0&&mt.tm_hour<12?"AM":"PM"},"%S":function(mt){return dn(mt.tm_sec,2)},"%t":function(){return"\t"},"%u":function(mt){return mt.tm_wday||7},"%U":function(mt){return dn(Math.floor((mt.tm_yday+7-mt.tm_wday)/7),2)},"%V":function(mt){var tn=Math.floor((mt.tm_yday+7-(mt.tm_wday+6)%7)/7);if((mt.tm_wday+371-mt.tm_yday-2)%7<=2&&tn++,tn){if(53==tn){var Pr=(mt.tm_wday+371-mt.tm_yday)%7;4!=Pr&&(3!=Pr||!Do(mt.tm_year))&&(tn=1)}}else{tn=52;var or=(mt.tm_wday+7-mt.tm_yday-1)%7;(4==or||5==or&&Do(mt.tm_year%400-1))&&tn++}return dn(tn,2)},"%w":function(mt){return mt.tm_wday},"%W":function(mt){return dn(Math.floor((mt.tm_yday+7-(mt.tm_wday+6)%7)/7),2)},"%y":function(mt){return(mt.tm_year+1900).toString().substring(2)},"%Y":function(mt){return mt.tm_year+1900},"%z":function(mt){var tn=mt.tm_gmtoff,or=tn>=0;return tn=(tn=Math.abs(tn)/60)/60*100+tn%60,(or?"+":"-")+String("0000"+tn).slice(-4)},"%Z":function(mt){return mt.tm_zone},"%%":function(){return"%"}};for(var Ct in we=we.replace(/%%/g,"\0\0"),si)we.includes(Ct)&&(we=we.replace(new RegExp(Ct,"g"),si[Ct](Ce)));var uo=Jn(we=we.replace(/\0\0/g,"%"),!1);return uo.length>g?0:(function x(d,g){Qe.set(d,g)}(uo,d),uo.length-1)}(d,g,v,P)}},wt=(function zr(){var d={a:ot};function g(we,Re){l.asm=we.exports,Ve((de=l.asm.r).buffer),function Jr(d){Ae.unshift(d)}(l.asm.s),Lr()}function v(we){g(we.instance)}function P(we){return function os(){return fe||!ue&&!X||"function"!=typeof fetch?Promise.resolve().then(function(){return eo(gn)}):fetch(gn,{credentials:"same-origin"}).then(function(d){if(!d.ok)throw"failed to load wasm binary file at '"+gn+"'";return d.arrayBuffer()}).catch(function(){return eo(gn)})}().then(function(Re){return WebAssembly.instantiate(Re,d)}).then(function(Re){return Re}).then(we,function(Re){K("failed to asynchronously prepare wasm: "+Re),ar(Re)})}if(Yr(),l.instantiateWasm)try{return l.instantiateWasm(d,g)}catch(we){K("Module.instantiateWasm callback failed with error: "+we),te(we)}(function W(){return fe||"function"!=typeof WebAssembly.instantiateStreaming||oo(gn)||"function"!=typeof fetch?P(v):fetch(gn,{credentials:"same-origin"}).then(function(we){return WebAssembly.instantiateStreaming(we,d).then(v,function(Ct){return K("wasm streaming compile failed: "+Ct),K("falling back to ArrayBuffer instantiation"),P(v)})})})().catch(te)}(),l.___wasm_call_ctors=function(){return(l.___wasm_call_ctors=l.asm.s).apply(null,arguments)},l._malloc=function(){return(wt=l._malloc=l.asm.t).apply(null,arguments)}),Po=(l._free=function(){return(l._free=l.asm.u).apply(null,arguments)},l._emscripten_bind_VoidPtr___destroy___0=function(){return(Po=l._emscripten_bind_VoidPtr___destroy___0=l.asm.v).apply(null,arguments)}),no=l._emscripten_bind_FileEntry_GetName_0=function(){return(no=l._emscripten_bind_FileEntry_GetName_0=l.asm.w).apply(null,arguments)},Ro=l._emscripten_bind_FileEntry_IsDirectory_0=function(){return(Ro=l._emscripten_bind_FileEntry_IsDirectory_0=l.asm.x).apply(null,arguments)},gi=l._emscripten_bind_FileEntry_GetSize_0=function(){return(gi=l._emscripten_bind_FileEntry_GetSize_0=l.asm.y).apply(null,arguments)},Mr=l._emscripten_bind_FileEntry_GetModifiedTS_0=function(){return(Mr=l._emscripten_bind_FileEntry_GetModifiedTS_0=l.asm.z).apply(null,arguments)},ls=l._emscripten_bind_FileEntry_GetAttributes_0=function(){return(ls=l._emscripten_bind_FileEntry_GetAttributes_0=l.asm.A).apply(null,arguments)},Ga=l._emscripten_bind_FileEntry___destroy___0=function(){return(Ga=l._emscripten_bind_FileEntry___destroy___0=l.asm.B).apply(null,arguments)},za=l._emscripten_bind_Vfs_Vfs_0=function(){return(za=l._emscripten_bind_Vfs_Vfs_0=l.asm.C).apply(null,arguments)},Mi=l._emscripten_bind_Vfs_Malloc_1=function(){return(Mi=l._emscripten_bind_Vfs_Malloc_1=l.asm.D).apply(null,arguments)},Wa=l._emscripten_bind_Vfs_Free_1=function(){return(Wa=l._emscripten_bind_Vfs_Free_1=l.asm.E).apply(null,arguments)},qs=l._emscripten_bind_Vfs_Nullptr_0=function(){return(qs=l._emscripten_bind_Vfs_Nullptr_0=l.asm.F).apply(null,arguments)},Ks=l._emscripten_bind_Vfs_AllocateImage_1=function(){return(Ks=l._emscripten_bind_Vfs_AllocateImage_1=l.asm.G).apply(null,arguments)},El=l._emscripten_bind_Vfs_MountImage_1=function(){return(El=l._emscripten_bind_Vfs_MountImage_1=l.asm.H).apply(null,arguments)},Dl=l._emscripten_bind_Vfs_UnmountImage_1=function(){return(Dl=l._emscripten_bind_Vfs_UnmountImage_1=l.asm.I).apply(null,arguments)},Il=l._emscripten_bind_Vfs_SwitchSlot_1=function(){return(Il=l._emscripten_bind_Vfs_SwitchSlot_1=l.asm.J).apply(null,arguments)},da=l._emscripten_bind_Vfs_GetPendingImageSize_0=function(){return(da=l._emscripten_bind_Vfs_GetPendingImageSize_0=l.asm.K).apply(null,arguments)},kl=l._emscripten_bind_Vfs_GetSize_1=function(){return(kl=l._emscripten_bind_Vfs_GetSize_1=l.asm.L).apply(null,arguments)},Fo=l._emscripten_bind_Vfs_GetPendingImage_0=function(){return(Fo=l._emscripten_bind_Vfs_GetPendingImage_0=l.asm.M).apply(null,arguments)},Zn=l._emscripten_bind_Vfs_GetImage_1=function(){return(Zn=l._emscripten_bind_Vfs_GetImage_1=l.asm.N).apply(null,arguments)},Tl=l._emscripten_bind_Vfs_GetDirtyPages_1=function(){return(Tl=l._emscripten_bind_Vfs_GetDirtyPages_1=l.asm.O).apply(null,arguments)},Ml=l._emscripten_bind_Vfs_RenameFile_2=function(){return(Ml=l._emscripten_bind_Vfs_RenameFile_2=l.asm.P).apply(null,arguments)},lc=l._emscripten_bind_Vfs_ChmodFile_3=function(){return(lc=l._emscripten_bind_Vfs_ChmodFile_3=l.asm.Q).apply(null,arguments)},ht=l._emscripten_bind_Vfs_StatFile_1=function(){return(ht=l._emscripten_bind_Vfs_StatFile_1=l.asm.R).apply(null,arguments)},Ys=l._emscripten_bind_Vfs_UnlinkFile_1=function(){return(Ys=l._emscripten_bind_Vfs_UnlinkFile_1=l.asm.S).apply(null,arguments)},wr=l._emscripten_bind_Vfs_Mkdir_1=function(){return(wr=l._emscripten_bind_Vfs_Mkdir_1=l.asm.T).apply(null,arguments)},Es=l._emscripten_bind_Vfs_GetEntry_0=function(){return(Es=l._emscripten_bind_Vfs_GetEntry_0=l.asm.U).apply(null,arguments)},fa=l._emscripten_bind_Vfs_BytesFree_1=function(){return(fa=l._emscripten_bind_Vfs_BytesFree_1=l.asm.V).apply(null,arguments)},ao=l._emscripten_bind_Vfs_BytesTotal_1=function(){return(ao=l._emscripten_bind_Vfs_BytesTotal_1=l.asm.W).apply(null,arguments)},cs=l._emscripten_bind_Vfs_ReadFile_1=function(){return(cs=l._emscripten_bind_Vfs_ReadFile_1=l.asm.X).apply(null,arguments)},xi=l._emscripten_bind_Vfs_GetCurrentFileSize_0=function(){return(xi=l._emscripten_bind_Vfs_GetCurrentFileSize_0=l.asm.Y).apply(null,arguments)},pa=l._emscripten_bind_Vfs_GetCurrentFileContent_0=function(){return(pa=l._emscripten_bind_Vfs_GetCurrentFileContent_0=l.asm.Z).apply(null,arguments)},Bs=l._emscripten_bind_Vfs_ReleaseCurrentFile_0=function(){return(Bs=l._emscripten_bind_Vfs_ReleaseCurrentFile_0=l.asm._).apply(null,arguments)},Xs=l._emscripten_bind_Vfs_WriteFile_3=function(){return(Xs=l._emscripten_bind_Vfs_WriteFile_3=l.asm.$).apply(null,arguments)},ha=l._emscripten_bind_Vfs___destroy___0=function(){return(ha=l._emscripten_bind_Vfs___destroy___0=l.asm.aa).apply(null,arguments)},Za=l._emscripten_bind_ReaddirContext_ReaddirContext_1=function(){return(Za=l._emscripten_bind_ReaddirContext_ReaddirContext_1=l.asm.ba).apply(null,arguments)},Mt=l._emscripten_bind_ReaddirContext_Next_0=function(){return(Mt=l._emscripten_bind_ReaddirContext_Next_0=l.asm.ca).apply(null,arguments)},Qs=l._emscripten_bind_ReaddirContext_GetEntry_0=function(){return(Qs=l._emscripten_bind_ReaddirContext_GetEntry_0=l.asm.da).apply(null,arguments)},vo=l._emscripten_bind_ReaddirContext_GetStatus_0=function(){return(vo=l._emscripten_bind_ReaddirContext_GetStatus_0=l.asm.ea).apply(null,arguments)},lr=l._emscripten_bind_ReaddirContext_GetError_0=function(){return(lr=l._emscripten_bind_ReaddirContext_GetError_0=l.asm.fa).apply(null,arguments)},Qr=l._emscripten_bind_ReaddirContext_GetErrorDescription_0=function(){return(Qr=l._emscripten_bind_ReaddirContext_GetErrorDescription_0=l.asm.ga).apply(null,arguments)},$r=l._emscripten_bind_ReaddirContext___destroy___0=function(){return($r=l._emscripten_bind_ReaddirContext___destroy___0=l.asm.ha).apply(null,arguments)},p=l._emscripten_bind_CreateZipContext_CreateZipContext_2=function(){return(p=l._emscripten_bind_CreateZipContext_CreateZipContext_2=l.asm.ia).apply(null,arguments)},y=l._emscripten_bind_CreateZipContext_AddFile_1=function(){return(y=l._emscripten_bind_CreateZipContext_AddFile_1=l.asm.ja).apply(null,arguments)},w=l._emscripten_bind_CreateZipContext_AddDirectory_1=function(){return(w=l._emscripten_bind_CreateZipContext_AddDirectory_1=l.asm.ka).apply(null,arguments)},F=l._emscripten_bind_CreateZipContext_Continue_0=function(){return(F=l._emscripten_bind_CreateZipContext_Continue_0=l.asm.la).apply(null,arguments)},G=l._emscripten_bind_CreateZipContext_GetState_0=function(){return(G=l._emscripten_bind_CreateZipContext_GetState_0=l.asm.ma).apply(null,arguments)},_e=l._emscripten_bind_CreateZipContext_GetZipContent_0=function(){return(_e=l._emscripten_bind_CreateZipContext_GetZipContent_0=l.asm.na).apply(null,arguments)},De=l._emscripten_bind_CreateZipContext_GetZipSize_0=function(){return(De=l._emscripten_bind_CreateZipContext_GetZipSize_0=l.asm.oa).apply(null,arguments)},je=l._emscripten_bind_CreateZipContext_GetErrorItem_0=function(){return(je=l._emscripten_bind_CreateZipContext_GetErrorItem_0=l.asm.pa).apply(null,arguments)},St=l._emscripten_bind_CreateZipContext___destroy___0=function(){return(St=l._emscripten_bind_CreateZipContext___destroy___0=l.asm.qa).apply(null,arguments)},hn=l._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=function(){return(hn=l._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=l.asm.ra).apply(null,arguments)},An=l._emscripten_bind_DeleteRecursiveContext_AddFile_1=function(){return(An=l._emscripten_bind_DeleteRecursiveContext_AddFile_1=l.asm.sa).apply(null,arguments)},Pn=l._emscripten_bind_DeleteRecursiveContext_Continue_0=function(){return(Pn=l._emscripten_bind_DeleteRecursiveContext_Continue_0=l.asm.ta).apply(null,arguments)},zt=l._emscripten_bind_DeleteRecursiveContext_GetState_0=function(){return(zt=l._emscripten_bind_DeleteRecursiveContext_GetState_0=l.asm.ua).apply(null,arguments)},Kt=l._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=function(){return(Kt=l._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=l.asm.va).apply(null,arguments)},ee=l._emscripten_bind_DeleteRecursiveContext___destroy___0=function(){return(ee=l._emscripten_bind_DeleteRecursiveContext___destroy___0=l.asm.wa).apply(null,arguments)},xr=l._emscripten_bind_UnzipContext_UnzipContext_4=function(){return(xr=l._emscripten_bind_UnzipContext_UnzipContext_4=l.asm.xa).apply(null,arguments)},_n=l._emscripten_bind_UnzipContext_GetState_0=function(){return(_n=l._emscripten_bind_UnzipContext_GetState_0=l.asm.ya).apply(null,arguments)},Wr=l._emscripten_bind_UnzipContext_Continue_0=function(){return(Wr=l._emscripten_bind_UnzipContext_Continue_0=l.asm.za).apply(null,arguments)},pt=l._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=function(){return(pt=l._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=l.asm.Aa).apply(null,arguments)},Wt=l._emscripten_bind_UnzipContext_GetCurrentEntry_0=function(){return(Wt=l._emscripten_bind_UnzipContext_GetCurrentEntry_0=l.asm.Ba).apply(null,arguments)},Zr=l._emscripten_bind_UnzipContext_GetCollisionPath_0=function(){return(Zr=l._emscripten_bind_UnzipContext_GetCollisionPath_0=l.asm.Ca).apply(null,arguments)},vr=l._emscripten_bind_UnzipContext_GetEntriesTotal_0=function(){return(vr=l._emscripten_bind_UnzipContext_GetEntriesTotal_0=l.asm.Da).apply(null,arguments)},qo=l._emscripten_bind_UnzipContext_GetEntriesSuccess_0=function(){return(qo=l._emscripten_bind_UnzipContext_GetEntriesSuccess_0=l.asm.Ea).apply(null,arguments)},pr=l._emscripten_bind_UnzipContext___destroy___0=function(){return(pr=l._emscripten_bind_UnzipContext___destroy___0=l.asm.Fa).apply(null,arguments)},yi=l._emscripten_bind_PasteContext_PasteContext_3=function(){return(yi=l._emscripten_bind_PasteContext_PasteContext_3=l.asm.Ga).apply(null,arguments)},Kc=l._emscripten_bind_PasteContext_AddFile_1=function(){return(Kc=l._emscripten_bind_PasteContext_AddFile_1=l.asm.Ha).apply(null,arguments)},Yc=l._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=function(){return(Yc=l._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=l.asm.Ia).apply(null,arguments)},Ai=l._emscripten_bind_PasteContext_GetState_0=function(){return(Ai=l._emscripten_bind_PasteContext_GetState_0=l.asm.Ja).apply(null,arguments)},Vi=l._emscripten_bind_PasteContext_Continue_0=function(){return(Vi=l._emscripten_bind_PasteContext_Continue_0=l.asm.Ka).apply(null,arguments)},nr=l._emscripten_bind_PasteContext_ContinueWithOverwrite_0=function(){return(nr=l._emscripten_bind_PasteContext_ContinueWithOverwrite_0=l.asm.La).apply(null,arguments)},ma=l._emscripten_bind_PasteContext_GetCurrentEntry_0=function(){return(ma=l._emscripten_bind_PasteContext_GetCurrentEntry_0=l.asm.Ma).apply(null,arguments)},qa=l._emscripten_bind_PasteContext_GetCollisionPath_0=function(){return(qa=l._emscripten_bind_PasteContext_GetCollisionPath_0=l.asm.Na).apply(null,arguments)},Ka=l._emscripten_bind_PasteContext_GetEntriesSuccess_0=function(){return(Ka=l._emscripten_bind_PasteContext_GetEntriesSuccess_0=l.asm.Oa).apply(null,arguments)},xl=l._emscripten_bind_PasteContext___destroy___0=function(){return(xl=l._emscripten_bind_PasteContext___destroy___0=l.asm.Pa).apply(null,arguments)};function cc(d){var g=l._main;try{var W=g(0,0);return function Ne(d,g){ce=d,function Ee(d){ce=d,function rn(){return Fe}()||(l.onExit&&l.onExit(d),it=!0),V(d,new ze(d))}(d)}(W),W}catch(Ce){return function R(d){if(d instanceof ze||"unwind"==d)return ce;V(1,d)}(Ce)}}function Al(d){function g(){Ya||(Ya=!0,l.calledRun=!0,!it&&(function Cn(){!l.noFSInit&&!S.init.initialized&&S.init(),S.ignorePermissions=!1,er.init(),Fn(Ae)}(),function _r(){Fn(At)}(),re(l),l.onRuntimeInitialized&&l.onRuntimeInitialized(),Ar&&cc(),function Qn(){if(l.postRun)for("function"==typeof l.postRun&&(l.postRun=[l.postRun]);l.postRun.length;)d=l.postRun.shift(),cn.unshift(d);var d;Fn(cn)}()))}d=d||Q,Rn>0||(function H(){if(l.preRun)for("function"==typeof l.preRun&&(l.preRun=[l.preRun]);l.preRun.length;)d=l.preRun.shift(),ft.unshift(d);var d;Fn(ft)}(),Rn>0)||(l.setStatus?(l.setStatus("Running..."),setTimeout(function(){setTimeout(function(){l.setStatus("")},1),g()},1)):g())}if(l._main=function(){return(l._main=l.asm.Qa).apply(null,arguments)},l.___original_main=function(){return(l.___original_main=l.asm.Sa).apply(null,arguments)},l.___start_em_js=20152,l.___stop_em_js=20250,Un=function d(){Ya||Al(),Ya||(Un=d)},l.preInit)for("function"==typeof l.preInit&&(l.preInit=[l.preInit]);l.preInit.length>0;)l.preInit.pop()();var Ar=!0;function lo(){}function Ui(d){return(d||lo).__cache__}function xt(d,g){var v=Ui(g),P=v[d];return P||((P=Object.create((g||lo).prototype)).ptr=d,v[d]=P)}l.noInitialRun&&(Ar=!1),Al(),(lo.prototype=Object.create(lo.prototype)).constructor=lo,lo.prototype.__class__=lo,lo.__cache__={},l.WrapperObject=lo,l.getCache=Ui,l.wrapPointer=xt,l.castObject=function co(d,g){return xt(d.ptr,g)},l.NULL=xt(0),l.destroy=function cr(d){if(!d.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";d.__destroy__(),delete Ui(d.__class__)[d.ptr]},l.compare=function ko(d,g){return d.ptr===g.ptr},l.getPointer=function Oo(d){return d.ptr},l.getClass=function Js(d){return d.__class__};var vn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(vn.needed){for(var d=0;d<vn.temps.length;d++)l._free(vn.temps[d]);vn.temps.length=0,l._free(vn.buffer),vn.buffer=0,vn.size+=vn.needed,vn.needed=0}vn.buffer||(vn.size+=128,vn.buffer=l._malloc(vn.size),be(vn.buffer)),vn.pos=0},alloc:function(d,g){be(vn.buffer);var W,P=d.length*g.BYTES_PER_ELEMENT;return vn.pos+(P=P+7&-8)>=vn.size?(be(P>0),vn.needed+=P,W=l._malloc(P),vn.temps.push(W)):(W=vn.buffer+vn.pos,vn.pos+=P),W},copy:function(d,g,v){switch(v>>>=0,g.BYTES_PER_ELEMENT){case 2:v>>>=1;break;case 4:v>>>=2;break;case 8:v>>>=3}for(var W=0;W<d.length;W++)g[v+W]=d[W]}};function Ir(d){if("string"==typeof d){var g=Jn(d),v=vn.alloc(g,Qe);return vn.copy(g,Qe,v),v}return d}function Et(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Yt(){throw"cannot construct a FileEntry, no constructor in IDL"}function It(){this.ptr=za(),Ui(It)[this.ptr]=this}function ur(d){vn.prepare(),d=d&&"object"==typeof d?d.ptr:Ir(d),this.ptr=Za(d),Ui(ur)[this.ptr]=this}function rr(d,g){vn.prepare(),d=d&&"object"==typeof d?d.ptr:Ir(d),g&&"object"==typeof g&&(g=g.ptr),this.ptr=p(d,g),Ui(rr)[this.ptr]=this}function qn(d){d&&"object"==typeof d&&(d=d.ptr),this.ptr=hn(d),Ui(qn)[this.ptr]=this}function hr(d,g,v,P){vn.prepare(),d&&"object"==typeof d&&(d=d.ptr),g=g&&"object"==typeof g?g.ptr:Ir(g),v&&"object"==typeof v&&(v=v.ptr),P&&"object"==typeof P&&(P=P.ptr),this.ptr=xr(d,g,v,P),Ui(hr)[this.ptr]=this}function Sn(d,g,v){vn.prepare(),d&&"object"==typeof d&&(d=d.ptr),g=g&&"object"==typeof g?g.ptr:Ir(g),v=v&&"object"==typeof v?v.ptr:Ir(v),this.ptr=yi(d,g,v),Ui(Sn)[this.ptr]=this}return(Et.prototype=Object.create(lo.prototype)).constructor=Et,Et.prototype.__class__=Et,Et.__cache__={},l.VoidPtr=Et,Et.prototype.__destroy__=Et.prototype.__destroy__=function(){Po(this.ptr)},(Yt.prototype=Object.create(lo.prototype)).constructor=Yt,Yt.prototype.__class__=Yt,Yt.__cache__={},l.FileEntry=Yt,Yt.prototype.GetName=Yt.prototype.GetName=function(){return Oe(no(this.ptr))},Yt.prototype.IsDirectory=Yt.prototype.IsDirectory=function(){return!!Ro(this.ptr)},Yt.prototype.GetSize=Yt.prototype.GetSize=function(){return gi(this.ptr)},Yt.prototype.GetModifiedTS=Yt.prototype.GetModifiedTS=function(){return Mr(this.ptr)},Yt.prototype.GetAttributes=Yt.prototype.GetAttributes=function(){return ls(this.ptr)},Yt.prototype.__destroy__=Yt.prototype.__destroy__=function(){Ga(this.ptr)},(It.prototype=Object.create(lo.prototype)).constructor=It,It.prototype.__class__=It,It.__cache__={},l.Vfs=It,It.prototype.Malloc=It.prototype.Malloc=function(d){return d&&"object"==typeof d&&(d=d.ptr),xt(Mi(this.ptr,d),Et)},It.prototype.Free=It.prototype.Free=function(d){d&&"object"==typeof d&&(d=d.ptr),Wa(this.ptr,d)},It.prototype.Nullptr=It.prototype.Nullptr=function(){return xt(qs(this.ptr),Et)},It.prototype.AllocateImage=It.prototype.AllocateImage=function(d){d&&"object"==typeof d&&(d=d.ptr),Ks(this.ptr,d)},It.prototype.MountImage=It.prototype.MountImage=function(d){return d&&"object"==typeof d&&(d=d.ptr),!!El(this.ptr,d)},It.prototype.UnmountImage=It.prototype.UnmountImage=function(d){d&&"object"==typeof d&&(d=d.ptr),Dl(this.ptr,d)},It.prototype.SwitchSlot=It.prototype.SwitchSlot=function(d){d&&"object"==typeof d&&(d=d.ptr),Il(this.ptr,d)},It.prototype.GetPendingImageSize=It.prototype.GetPendingImageSize=function(){return da(this.ptr)},It.prototype.GetSize=It.prototype.GetSize=function(d){return d&&"object"==typeof d&&(d=d.ptr),kl(this.ptr,d)},It.prototype.GetPendingImage=It.prototype.GetPendingImage=function(){return xt(Fo(this.ptr),Et)},It.prototype.GetImage=It.prototype.GetImage=function(d){return d&&"object"==typeof d&&(d=d.ptr),xt(Zn(this.ptr,d),Et)},It.prototype.GetDirtyPages=It.prototype.GetDirtyPages=function(d){return d&&"object"==typeof d&&(d=d.ptr),xt(Tl(this.ptr,d),Et)},It.prototype.RenameFile=It.prototype.RenameFile=function(d,g){var v=this.ptr;return vn.prepare(),d=d&&"object"==typeof d?d.ptr:Ir(d),g=g&&"object"==typeof g?g.ptr:Ir(g),Ml(v,d,g)},It.prototype.ChmodFile=It.prototype.ChmodFile=function(d,g,v){var P=this.ptr;return vn.prepare(),d=d&&"object"==typeof d?d.ptr:Ir(d),g&&"object"==typeof g&&(g=g.ptr),v&&"object"==typeof v&&(v=v.ptr),lc(P,d,g,v)},It.prototype.StatFile=It.prototype.StatFile=function(d){var g=this.ptr;return vn.prepare(),d=d&&"object"==typeof d?d.ptr:Ir(d),ht(g,d)},It.prototype.UnlinkFile=It.prototype.UnlinkFile=function(d){var g=this.ptr;return vn.prepare(),d=d&&"object"==typeof d?d.ptr:Ir(d),Ys(g,d)},It.prototype.Mkdir=It.prototype.Mkdir=function(d){var g=this.ptr;return vn.prepare(),d=d&&"object"==typeof d?d.ptr:Ir(d),wr(g,d)},It.prototype.GetEntry=It.prototype.GetEntry=function(){return xt(Es(this.ptr),Yt)},It.prototype.BytesFree=It.prototype.BytesFree=function(d){return d&&"object"==typeof d&&(d=d.ptr),fa(this.ptr,d)},It.prototype.BytesTotal=It.prototype.BytesTotal=function(d){return d&&"object"==typeof d&&(d=d.ptr),ao(this.ptr,d)},It.prototype.ReadFile=It.prototype.ReadFile=function(d){var g=this.ptr;return vn.prepare(),d=d&&"object"==typeof d?d.ptr:Ir(d),!!cs(g,d)},It.prototype.GetCurrentFileSize=It.prototype.GetCurrentFileSize=function(){return xi(this.ptr)},It.prototype.GetCurrentFileContent=It.prototype.GetCurrentFileContent=function(){return xt(pa(this.ptr),Et)},It.prototype.ReleaseCurrentFile=It.prototype.ReleaseCurrentFile=function(){Bs(this.ptr)},It.prototype.WriteFile=It.prototype.WriteFile=function(d,g,v){var P=this.ptr;return vn.prepare(),d=d&&"object"==typeof d?d.ptr:Ir(d),g&&"object"==typeof g&&(g=g.ptr),v&&"object"==typeof v&&(v=v.ptr),Xs(P,d,g,v)},It.prototype.__destroy__=It.prototype.__destroy__=function(){ha(this.ptr)},(ur.prototype=Object.create(lo.prototype)).constructor=ur,ur.prototype.__class__=ur,ur.__cache__={},l.ReaddirContext=ur,ur.prototype.Next=ur.prototype.Next=function(){return Mt(this.ptr)},ur.prototype.GetEntry=ur.prototype.GetEntry=function(){return xt(Qs(this.ptr),Yt)},ur.prototype.GetStatus=ur.prototype.GetStatus=function(){return vo(this.ptr)},ur.prototype.GetError=ur.prototype.GetError=function(){return lr(this.ptr)},ur.prototype.GetErrorDescription=ur.prototype.GetErrorDescription=function(){return Oe(Qr(this.ptr))},ur.prototype.__destroy__=ur.prototype.__destroy__=function(){$r(this.ptr)},(rr.prototype=Object.create(lo.prototype)).constructor=rr,rr.prototype.__class__=rr,rr.__cache__={},l.CreateZipContext=rr,rr.prototype.AddFile=rr.prototype.AddFile=function(d){var g=this.ptr;return vn.prepare(),d=d&&"object"==typeof d?d.ptr:Ir(d),xt(y(g,d),rr)},rr.prototype.AddDirectory=rr.prototype.AddDirectory=function(d){var g=this.ptr;return vn.prepare(),d=d&&"object"==typeof d?d.ptr:Ir(d),xt(w(g,d),rr)},rr.prototype.Continue=rr.prototype.Continue=function(){return F(this.ptr)},rr.prototype.GetState=rr.prototype.GetState=function(){return G(this.ptr)},rr.prototype.GetZipContent=rr.prototype.GetZipContent=function(){return xt(_e(this.ptr),Et)},rr.prototype.GetZipSize=rr.prototype.GetZipSize=function(){return De(this.ptr)},rr.prototype.GetErrorItem=rr.prototype.GetErrorItem=function(){return Oe(je(this.ptr))},rr.prototype.__destroy__=rr.prototype.__destroy__=function(){St(this.ptr)},(qn.prototype=Object.create(lo.prototype)).constructor=qn,qn.prototype.__class__=qn,qn.__cache__={},l.DeleteRecursiveContext=qn,qn.prototype.AddFile=qn.prototype.AddFile=function(d){var g=this.ptr;return vn.prepare(),d=d&&"object"==typeof d?d.ptr:Ir(d),xt(An(g,d),qn)},qn.prototype.Continue=qn.prototype.Continue=function(){return Pn(this.ptr)},qn.prototype.GetState=qn.prototype.GetState=function(){return zt(this.ptr)},qn.prototype.GetFailingPath=qn.prototype.GetFailingPath=function(){return Oe(Kt(this.ptr))},qn.prototype.__destroy__=qn.prototype.__destroy__=function(){ee(this.ptr)},(hr.prototype=Object.create(lo.prototype)).constructor=hr,hr.prototype.__class__=hr,hr.__cache__={},l.UnzipContext=hr,hr.prototype.GetState=hr.prototype.GetState=function(){return _n(this.ptr)},hr.prototype.Continue=hr.prototype.Continue=function(){return Wr(this.ptr)},hr.prototype.ContinueWithOverwrite=hr.prototype.ContinueWithOverwrite=function(){return pt(this.ptr)},hr.prototype.GetCurrentEntry=hr.prototype.GetCurrentEntry=function(){return Oe(Wt(this.ptr))},hr.prototype.GetCollisionPath=hr.prototype.GetCollisionPath=function(){return Oe(Zr(this.ptr))},hr.prototype.GetEntriesTotal=hr.prototype.GetEntriesTotal=function(){return vr(this.ptr)},hr.prototype.GetEntriesSuccess=hr.prototype.GetEntriesSuccess=function(){return qo(this.ptr)},hr.prototype.__destroy__=hr.prototype.__destroy__=function(){pr(this.ptr)},(Sn.prototype=Object.create(lo.prototype)).constructor=Sn,Sn.prototype.__class__=Sn,Sn.__cache__={},l.PasteContext=Sn,Sn.prototype.AddFile=Sn.prototype.AddFile=function(d){var g=this.ptr;return vn.prepare(),d=d&&"object"==typeof d?d.ptr:Ir(d),xt(Kc(g,d),Sn)},Sn.prototype.SetDeleteAfterCopy=Sn.prototype.SetDeleteAfterCopy=function(d){return d&&"object"==typeof d&&(d=d.ptr),xt(Yc(this.ptr,d),Sn)},Sn.prototype.GetState=Sn.prototype.GetState=function(){return Ai(this.ptr)},Sn.prototype.Continue=Sn.prototype.Continue=function(){return Vi(this.ptr)},Sn.prototype.ContinueWithOverwrite=Sn.prototype.ContinueWithOverwrite=function(){return nr(this.ptr)},Sn.prototype.GetCurrentEntry=Sn.prototype.GetCurrentEntry=function(){return Oe(ma(this.ptr))},Sn.prototype.GetCollisionPath=Sn.prototype.GetCollisionPath=function(){return Oe(qa(this.ptr))},Sn.prototype.GetEntriesSuccess=Sn.prototype.GetEntriesSuccess=function(){return Ka(this.ptr)},Sn.prototype.__destroy__=Sn.prototype.__destroy__=function(){xl(this.ptr)},I.ready});Be.exports=We},5933:(Be,We,A)=>{"use strict";A.d(We,{c:()=>$e});var I=A(9259),l=A(2286);let re;const z=he=>he.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Q=he=>(void 0===re&&(re=void 0===he.style.animationName&&void 0!==he.style.webkitAnimationName?"-webkit-":""),re),L=(he,Z,K)=>{const fe=Z.startsWith("animation")?Q(he):"";he.style.setProperty(fe+Z,K)},V=(he,Z)=>{const K=Z.startsWith("animation")?Q(he):"";he.style.removeProperty(K+Z)},ie=[],Pe=(he=[],Z)=>{if(void 0!==Z){const K=Array.isArray(Z)?Z:[Z];return[...he,...K]}return he},$e=he=>{let Z,K,fe,Fe,de,it,Oe,O,ge,tt,nt,ft,Ae,ce=[],be=[],Ie=[],Xe=!1,Me={},ne=[],Ue=[],Qe={},yt=0,fn=!1,Ze=!1,Ve=!0,q=!1,ye=!0,At=!1;const cn=he,Jt=[],rn=[],H=[],Cn=[],_r=[],Qn=[],Ho=[],Jr=[],Ei=[],Rn=[],yo="function"==typeof AnimationEffect||void 0!==l.w&&"function"==typeof l.w.AnimationEffect,Un="function"==typeof Element&&"function"==typeof Element.prototype.animate&&yo,Yr=()=>Rn,gn=(R,pe)=>((pe?.oneTimeCallback?rn:Jt).push({c:R,o:pe}),Ae),os=()=>{if(Un)Rn.forEach(R=>{R.cancel()}),Rn.length=0;else{const R=H.slice();(0,I.r)(()=>{R.forEach(pe=>{V(pe,"animation-name"),V(pe,"animation-duration"),V(pe,"animation-timing-function"),V(pe,"animation-iteration-count"),V(pe,"animation-delay"),V(pe,"animation-play-state"),V(pe,"animation-fill-mode"),V(pe,"animation-direction")})})}},zr=()=>{_r.forEach(R=>{R?.parentNode&&R.parentNode.removeChild(R)}),_r.length=0},Ht=()=>void 0!==de?de:Oe?Oe.getFill():"both",E=()=>void 0!==ge?ge:void 0!==it?it:Oe?Oe.getDirection():"normal",S=()=>fn?"linear":void 0!==fe?fe:Oe?Oe.getEasing():"linear",Kn=()=>Ze?0:void 0!==tt?tt:void 0!==K?K:Oe?Oe.getDuration():0,D=()=>void 0!==Fe?Fe:Oe?Oe.getIterations():1,On=()=>void 0!==nt?nt:void 0!==Z?Z:Oe?Oe.getDelay():0,Io=()=>{0!==yt&&(yt--,0===yt&&((()=>{fr(),Jr.forEach(ot=>ot()),Ei.forEach(ot=>ot());const R=Ve?1:0,pe=ne,ke=Ue,Je=Qe;H.forEach(ot=>{const xe=ot.classList;pe.forEach(Gt=>xe.add(Gt)),ke.forEach(Gt=>xe.remove(Gt));for(const Gt in Je)Je.hasOwnProperty(Gt)&&L(ot,Gt,Je[Gt])}),Jt.forEach(ot=>ot.c(R,Ae)),rn.forEach(ot=>ot.c(R,Ae)),rn.length=0,ye=!0,Ve&&(q=!0),Ve=!0})(),Oe&&Oe.animationFinish()))},Xr=(R=!0)=>{zr();const pe=(he=>(he.forEach(Z=>{for(const K in Z)if(Z.hasOwnProperty(K)){const fe=Z[K];if("easing"===K)Z["animation-timing-function"]=fe,delete Z[K];else{const Fe=z(K);Fe!==K&&(Z[Fe]=fe,delete Z[K])}}}),he))(ce);H.forEach(ke=>{if(pe.length>0){const Je=((he=[])=>he.map(Z=>{const K=Z.offset,fe=[];for(const Fe in Z)Z.hasOwnProperty(Fe)&&"offset"!==Fe&&fe.push(`${Fe}: ${Z[Fe]};`);return`${100*K}% { ${fe.join(" ")} }`}).join(" "))(pe);ft=void 0!==he?he:(he=>{let Z=ie.indexOf(he);return Z<0&&(Z=ie.push(he)-1),`ion-animation-${Z}`})(Je);const ot=((he,Z,K)=>{var fe;const Fe=(he=>{const Z=void 0!==he.getRootNode?he.getRootNode():he;return Z.head||Z})(K),de=Q(K),it=Fe.querySelector("#"+he);if(it)return it;const ce=(null!==(fe=K.ownerDocument)&&void 0!==fe?fe:document).createElement("style");return ce.id=he,ce.textContent=`@${de}keyframes ${he} { ${Z} } @${de}keyframes ${he}-alt { ${Z} }`,Fe.appendChild(ce),ce})(ft,Je,ke);_r.push(ot),L(ke,"animation-duration",`${Kn()}ms`),L(ke,"animation-timing-function",S()),L(ke,"animation-delay",`${On()}ms`),L(ke,"animation-fill-mode",Ht()),L(ke,"animation-direction",E());const xe=D()===1/0?"infinite":D().toString();L(ke,"animation-iteration-count",xe),L(ke,"animation-play-state","paused"),R&&L(ke,"animation-name",`${ot.id}-alt`),(0,I.r)(()=>{L(ke,"animation-name",ot.id||null)})}})},ii=(R=!0)=>{(()=>{Qn.forEach(Je=>Je()),Ho.forEach(Je=>Je());const R=be,pe=Ie,ke=Me;H.forEach(Je=>{const ot=Je.classList;R.forEach(xe=>ot.add(xe)),pe.forEach(xe=>ot.remove(xe));for(const xe in ke)ke.hasOwnProperty(xe)&&L(Je,xe,ke[xe])})})(),ce.length>0&&(Un?(H.forEach(R=>{const pe=R.animate(ce,{id:cn,delay:On(),duration:Kn(),easing:S(),iterations:D(),fill:Ht(),direction:E()});pe.pause(),Rn.push(pe)}),Rn.length>0&&(Rn[0].onfinish=()=>{Io()})):Xr(R)),Xe=!0},Ao=R=>{if(R=Math.min(Math.max(R,0),.9999),Un)Rn.forEach(pe=>{pe.currentTime=pe.effect.getComputedTiming().delay+Kn()*R,pe.pause()});else{const pe=`-${Kn()*R}ms`;H.forEach(ke=>{ce.length>0&&(L(ke,"animation-delay",pe),L(ke,"animation-play-state","paused"))})}},so=R=>{Rn.forEach(pe=>{pe.effect.updateTiming({delay:On(),duration:Kn(),easing:S(),iterations:D(),fill:Ht(),direction:E()})}),void 0!==R&&Ao(R)},ss=(R=!0,pe)=>{(0,I.r)(()=>{H.forEach(ke=>{L(ke,"animation-name",ft||null),L(ke,"animation-duration",`${Kn()}ms`),L(ke,"animation-timing-function",S()),L(ke,"animation-delay",void 0!==pe?`-${pe*Kn()}ms`:`${On()}ms`),L(ke,"animation-fill-mode",Ht()||null),L(ke,"animation-direction",E()||null);const Je=D()===1/0?"infinite":D().toString();L(ke,"animation-iteration-count",Je),R&&L(ke,"animation-name",`${ft}-alt`),(0,I.r)(()=>{L(ke,"animation-name",ft||null)})})})},_o=(R=!1,pe=!0,ke)=>(R&&Cn.forEach(Je=>{Je.update(R,pe,ke)}),Un?so(ke):ss(pe,ke),Ae),as=()=>{Xe&&(Un?Rn.forEach(R=>{R.pause()}):H.forEach(R=>{L(R,"animation-play-state","paused")}),At=!0)},$s=()=>{O=void 0,Io()},fr=()=>{O&&clearTimeout(O)},x=R=>new Promise(pe=>{R?.sync&&(Ze=!0,gn(()=>Ze=!1,{oneTimeCallback:!0})),Xe||ii(),q&&(Un?(Ao(0),so()):ss(),q=!1),ye&&(yt=Cn.length+1,ye=!1),gn(()=>pe(),{oneTimeCallback:!0}),Cn.forEach(ke=>{ke.play()}),Un?(Rn.forEach(R=>{R.play()}),(0===ce.length||0===H.length)&&Io()):(()=>{if(fr(),(0,I.r)(()=>{H.forEach(R=>{ce.length>0&&L(R,"animation-play-state","running")})}),0===ce.length||0===H.length)Io();else{const R=On()||0,pe=Kn()||0,ke=D()||1;isFinite(ke)&&(O=setTimeout($s,R+pe*ke+100)),((he,Z)=>{let K;const fe={passive:!0},de=it=>{he===it.target&&(K&&K(),fr(),(0,I.r)(()=>{H.forEach(R=>{V(R,"animation-duration"),V(R,"animation-delay"),V(R,"animation-play-state")}),(0,I.r)(Io)}))};he&&(he.addEventListener("webkitAnimationEnd",de,fe),he.addEventListener("animationend",de,fe),K=()=>{he.removeEventListener("webkitAnimationEnd",de,fe),he.removeEventListener("animationend",de,fe)})})(H[0])}})(),At=!1}),me=(R,pe)=>{const ke=ce[0];return void 0===ke||void 0!==ke.offset&&0!==ke.offset?ce=[{offset:0,[R]:pe},...ce]:ke[R]=pe,Ae};return Ae={parentAnimation:Oe,elements:H,childAnimations:Cn,id:cn,animationFinish:Io,from:me,to:(R,pe)=>{const ke=ce[ce.length-1];return void 0===ke||void 0!==ke.offset&&1!==ke.offset?ce=[...ce,{offset:1,[R]:pe}]:ke[R]=pe,Ae},fromTo:(R,pe,ke)=>me(R,pe).to(R,ke),parent:R=>(Oe=R,Ae),play:x,pause:()=>(Cn.forEach(R=>{R.pause()}),as(),Ae),stop:()=>{Cn.forEach(R=>{R.stop()}),Xe&&(os(),Xe=!1),fn=!1,Ze=!1,ye=!0,ge=void 0,tt=void 0,nt=void 0,yt=0,q=!1,Ve=!0,At=!1},destroy:R=>(Cn.forEach(pe=>{pe.destroy(R)}),(R=>{os(),R&&zr()})(R),H.length=0,Cn.length=0,ce.length=0,Jt.length=0,rn.length=0,Xe=!1,ye=!0,Ae),keyframes:R=>{const pe=ce!==R;return ce=R,pe&&(R=>{Un?Yr().forEach(pe=>{if(pe.effect.setKeyframes)pe.effect.setKeyframes(R);else{const ke=new KeyframeEffect(pe.effect.target,R,pe.effect.getTiming());pe.effect=ke}}):Xr()})(ce),Ae},addAnimation:R=>{if(null!=R)if(Array.isArray(R))for(const pe of R)pe.parent(Ae),Cn.push(pe);else R.parent(Ae),Cn.push(R);return Ae},addElement:R=>{if(null!=R)if(1===R.nodeType)H.push(R);else if(R.length>=0)for(let pe=0;pe<R.length;pe++)H.push(R[pe]);else console.error("Invalid addElement value");return Ae},update:_o,fill:R=>(de=R,_o(!0),Ae),direction:R=>(it=R,_o(!0),Ae),iterations:R=>(Fe=R,_o(!0),Ae),duration:R=>(!Un&&0===R&&(R=1),K=R,_o(!0),Ae),easing:R=>(fe=R,_o(!0),Ae),delay:R=>(Z=R,_o(!0),Ae),getWebAnimations:Yr,getKeyframes:()=>ce,getFill:Ht,getDirection:E,getDelay:On,getIterations:D,getEasing:S,getDuration:Kn,afterAddRead:R=>(Jr.push(R),Ae),afterAddWrite:R=>(Ei.push(R),Ae),afterClearStyles:(R=[])=>{for(const pe of R)Qe[pe]="";return Ae},afterStyles:(R={})=>(Qe=R,Ae),afterRemoveClass:R=>(Ue=Pe(Ue,R),Ae),afterAddClass:R=>(ne=Pe(ne,R),Ae),beforeAddRead:R=>(Qn.push(R),Ae),beforeAddWrite:R=>(Ho.push(R),Ae),beforeClearStyles:(R=[])=>{for(const pe of R)Me[pe]="";return Ae},beforeStyles:(R={})=>(Me=R,Ae),beforeRemoveClass:R=>(Ie=Pe(Ie,R),Ae),beforeAddClass:R=>(be=Pe(be,R),Ae),onFinish:gn,isRunning:()=>0!==yt&&!At,progressStart:(R=!1,pe)=>(Cn.forEach(ke=>{ke.progressStart(R,pe)}),as(),fn=R,Xe||ii(),_o(!1,!0,pe),Ae),progressStep:R=>(Cn.forEach(pe=>{pe.progressStep(R)}),Ao(R),Ae),progressEnd:(R,pe,ke)=>(fn=!1,Cn.forEach(Je=>{Je.progressEnd(R,pe,ke)}),void 0!==ke&&(tt=ke),q=!1,Ve=!0,0===R?(ge="reverse"===E()?"normal":"reverse","reverse"===ge&&(Ve=!1),Un?(_o(),Ao(1-pe)):(nt=(1-pe)*Kn()*-1,_o(!1,!1))):1===R&&(Un?(_o(),Ao(pe)):(nt=pe*Kn()*-1,_o(!1,!1))),void 0!==R&&(gn(()=>{tt=void 0,ge=void 0,nt=void 0},{oneTimeCallback:!0}),Oe||x()),Ae)}}},6379:(Be,We,A)=>{"use strict";A.d(We,{G:()=>z});class l{constructor(L,V,ue,X,ie){this.id=V,this.name=ue,this.disableScroll=ie,this.priority=1e6*X+V,this.ctrl=L}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const L=this.ctrl.capture(this.name,this.id,this.priority);return L&&this.disableScroll&&this.ctrl.disableScroll(this.id),L}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class re{constructor(L,V,ue,X){this.id=V,this.disable=ue,this.disableScroll=X,this.ctrl=L}block(){if(this.ctrl){if(this.disable)for(const L of this.disable)this.ctrl.disableGesture(L,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const L of this.disable)this.ctrl.enableGesture(L,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const te="backdrop-no-scroll",z=new class I{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(L){var V;return new l(this,this.newID(),L.name,null!==(V=L.priority)&&void 0!==V?V:0,!!L.disableScroll)}createBlocker(L={}){return new re(this,this.newID(),L.disable,!!L.disableScroll)}start(L,V,ue){return this.canStart(L)?(this.requestedStart.set(V,ue),!0):(this.requestedStart.delete(V),!1)}capture(L,V,ue){if(!this.start(L,V,ue))return!1;const X=this.requestedStart;let ie=-1e4;if(X.forEach(B=>{ie=Math.max(ie,B)}),ie===ue){this.capturedId=V,X.clear();const B=new CustomEvent("ionGestureCaptured",{detail:{gestureName:L}});return document.dispatchEvent(B),!0}return X.delete(V),!1}release(L){this.requestedStart.delete(L),this.capturedId===L&&(this.capturedId=void 0)}disableGesture(L,V){let ue=this.disabledGestures.get(L);void 0===ue&&(ue=new Set,this.disabledGestures.set(L,ue)),ue.add(V)}enableGesture(L,V){const ue=this.disabledGestures.get(L);void 0!==ue&&ue.delete(V)}disableScroll(L){this.disabledScroll.add(L),1===this.disabledScroll.size&&document.body.classList.add(te)}enableScroll(L){this.disabledScroll.delete(L),0===this.disabledScroll.size&&document.body.classList.remove(te)}canStart(L){return!(void 0!==this.capturedId||this.isDisabled(L))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(L){const V=this.disabledGestures.get(L);return!!(V&&V.size>0)}newID(){return this.gestureId++,this.gestureId}}},159:(Be,We,A)=>{"use strict";A.r(We),A.d(We,{MENU_BACK_BUTTON_PRIORITY:()=>z,OVERLAY_BACK_BUTTON_PRIORITY:()=>te,blockHardwareBackButton:()=>l,startHardwareBackButton:()=>re});var I=A(3918);const l=()=>{document.addEventListener("backbutton",()=>{})},re=()=>{const Q=document;let L=!1;Q.addEventListener("backbutton",()=>{if(L)return;let V=0,ue=[];const X=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register($,j){ue.push({priority:$,handler:j,id:V++})}}});Q.dispatchEvent(X);const ie=function(){var $=(0,I.Z)(function*(j){try{if(j?.handler){const Pe=j.handler(B);null!=Pe&&(yield Pe)}}catch(Pe){console.error(Pe)}});return function(Pe){return $.apply(this,arguments)}}(),B=()=>{if(ue.length>0){let $={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};ue.forEach(j=>{j.priority>=$.priority&&($=j)}),L=!0,ue=ue.filter(j=>j.id!==$.id),ie($).then(()=>L=!1)}};B()})},te=100,z=99},9259:(Be,We,A)=>{"use strict";A.d(We,{a:()=>L,b:()=>V,c:()=>re,d:()=>j,e:()=>Pe,f:()=>$,g:()=>ue,h:()=>Fe,i:()=>Q,j:()=>te,k:()=>B,l:()=>$e,m:()=>ie,n:()=>he,o:()=>fe,p:()=>K,q:()=>de,r:()=>X,s:()=>it,t:()=>I,u:()=>Z});const I=(ce,be=0)=>new Promise(Ie=>{l(ce,be,Ie)}),l=(ce,be=0,Ie)=>{let Xe,Oe;const Me={passive:!0},Ue=()=>{Xe&&Xe()},Qe=yt=>{(void 0===yt||ce===yt.target)&&(Ue(),Ie(yt))};return ce&&(ce.addEventListener("webkitTransitionEnd",Qe,Me),ce.addEventListener("transitionend",Qe,Me),Oe=setTimeout(Qe,be+500),Xe=()=>{Oe&&(clearTimeout(Oe),Oe=void 0),ce.removeEventListener("webkitTransitionEnd",Qe,Me),ce.removeEventListener("transitionend",Qe,Me)}),Ue},re=(ce,be)=>{ce.componentOnReady?ce.componentOnReady().then(Ie=>be(Ie)):X(()=>be(ce))},te=(ce,be=[])=>{const Ie={};return be.forEach(Xe=>{ce.hasAttribute(Xe)&&(null!==ce.getAttribute(Xe)&&(Ie[Xe]=ce.getAttribute(Xe)),ce.removeAttribute(Xe))}),Ie},z=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Q=(ce,be)=>{let Ie=z;return be&&be.length>0&&(Ie=Ie.filter(Xe=>!be.includes(Xe))),te(ce,Ie)},L=(ce,be,Ie,Xe)=>{var Oe;if(typeof window<"u"){const ne=null===(Oe=window?.Ionic)||void 0===Oe?void 0:Oe.config;if(ne){const Ue=ne.get("_ael");if(Ue)return Ue(ce,be,Ie,Xe);if(ne._ael)return ne._ael(ce,be,Ie,Xe)}}return ce.addEventListener(be,Ie,Xe)},V=(ce,be,Ie,Xe)=>{var Oe;if(typeof window<"u"){const ne=null===(Oe=window?.Ionic)||void 0===Oe?void 0:Oe.config;if(ne){const Ue=ne.get("_rel");if(Ue)return Ue(ce,be,Ie,Xe);if(ne._rel)return ne._rel(ce,be,Ie,Xe)}}return ce.removeEventListener(be,Ie,Xe)},ue=(ce,be=ce)=>ce.shadowRoot||be,X=ce=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ce):"function"==typeof requestAnimationFrame?requestAnimationFrame(ce):setTimeout(ce),ie=ce=>!!ce.shadowRoot&&!!ce.attachShadow,B=ce=>{const be=ce.closest("ion-item");return be?be.querySelector("ion-label"):null},$=ce=>{if(ce.focus(),ce.classList.contains("ion-focusable")){const be=ce.closest("ion-app");be&&be.setFocus([ce])}},j=(ce,be)=>{let Ie;const Xe=ce.getAttribute("aria-labelledby"),Oe=ce.id;let Me=null!==Xe&&""!==Xe.trim()?Xe:be+"-lbl",ne=null!==Xe&&""!==Xe.trim()?document.getElementById(Xe):B(ce);return ne?(null===Xe&&(ne.id=Me),Ie=ne.textContent,ne.setAttribute("aria-hidden","true")):""!==Oe.trim()&&(ne=document.querySelector(`label[for="${Oe}"]`),ne&&(""!==ne.id?Me=ne.id:ne.id=Me=`${Oe}-lbl`,Ie=ne.textContent)),{label:ne,labelId:Me,labelText:Ie}},Pe=(ce,be,Ie,Xe,Oe)=>{if(ce||ie(be)){let Me=be.querySelector("input.aux-input");Me||(Me=be.ownerDocument.createElement("input"),Me.type="hidden",Me.classList.add("aux-input"),be.appendChild(Me)),Me.disabled=Oe,Me.name=Ie,Me.value=Xe||""}},$e=(ce,be,Ie)=>Math.max(ce,Math.min(be,Ie)),he=(ce,be)=>{if(!ce){const Ie="ASSERT: "+be;throw console.error(Ie),new Error(Ie)}},Z=ce=>ce.timeStamp||Date.now(),K=ce=>{if(ce){const be=ce.changedTouches;if(be&&be.length>0){const Ie=be[0];return{x:Ie.clientX,y:Ie.clientY}}if(void 0!==ce.pageX)return{x:ce.pageX,y:ce.pageY}}return{x:0,y:0}},fe=ce=>{const be="rtl"===document.dir;switch(ce){case"start":return be;case"end":return!be;default:throw new Error(`"${ce}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Fe=(ce,be)=>{const Ie=ce._original||ce;return{_original:ce,emit:de(Ie.emit.bind(Ie),be)}},de=(ce,be=0)=>{let Ie;return(...Xe)=>{clearTimeout(Ie),Ie=setTimeout(ce,be,...Xe)}},it=(ce,be)=>{if(ce??(ce={}),be??(be={}),ce===be)return!0;const Ie=Object.keys(ce);if(Ie.length!==Object.keys(be).length)return!1;for(const Xe of Ie)if(!(Xe in be)||ce[Xe]!==be[Xe])return!1;return!0}},919:(Be,We,A)=>{"use strict";A.d(We,{L:()=>te,a:()=>z,b:()=>Q,c:()=>L,d:()=>V,e:()=>be,g:()=>Oe,l:()=>it,s:()=>Ie,t:()=>ie});var I=A(3918),l=A(1559),re=A(9259);const te="ionViewWillEnter",z="ionViewDidEnter",Q="ionViewWillLeave",L="ionViewDidLeave",V="ionViewWillUnload",ie=Me=>new Promise((ne,Ue)=>{(0,l.c)(()=>{B(Me),$(Me).then(Qe=>{Qe.animation&&Qe.animation.destroy(),j(Me),ne(Qe)},Qe=>{j(Me),Ue(Qe)})})}),B=Me=>{const ne=Me.enteringEl,Ue=Me.leavingEl;Xe(ne,Ue,Me.direction),Me.showGoBack?ne.classList.add("can-go-back"):ne.classList.remove("can-go-back"),Ie(ne,!1),ne.style.setProperty("pointer-events","none"),Ue&&(Ie(Ue,!1),Ue.style.setProperty("pointer-events","none"))},$=function(){var Me=(0,I.Z)(function*(ne){const Ue=yield Pe(ne);return Ue&&l.B.isBrowser?$e(Ue,ne):he(ne)});return function(Ue){return Me.apply(this,arguments)}}(),j=Me=>{const ne=Me.enteringEl,Ue=Me.leavingEl;ne.classList.remove("ion-page-invisible"),ne.style.removeProperty("pointer-events"),void 0!==Ue&&(Ue.classList.remove("ion-page-invisible"),Ue.style.removeProperty("pointer-events"))},Pe=function(){var Me=(0,I.Z)(function*(ne){return ne.leavingEl&&ne.animated&&0!==ne.duration?ne.animationBuilder?ne.animationBuilder:"ios"===ne.mode?(yield Promise.resolve().then(A.bind(A,9078))).iosTransitionAnimation:(yield Promise.resolve().then(A.bind(A,4199))).mdTransitionAnimation:void 0});return function(Ue){return Me.apply(this,arguments)}}(),$e=function(){var Me=(0,I.Z)(function*(ne,Ue){yield Z(Ue,!0);const Qe=ne(Ue.baseEl,Ue);Fe(Ue.enteringEl,Ue.leavingEl);const yt=yield fe(Qe,Ue);return Ue.progressCallback&&Ue.progressCallback(void 0),yt&&de(Ue.enteringEl,Ue.leavingEl),{hasCompleted:yt,animation:Qe}});return function(Ue,Qe){return Me.apply(this,arguments)}}(),he=function(){var Me=(0,I.Z)(function*(ne){const Ue=ne.enteringEl,Qe=ne.leavingEl;return yield Z(ne,!1),Fe(Ue,Qe),de(Ue,Qe),{hasCompleted:!0}});return function(Ue){return Me.apply(this,arguments)}}(),Z=function(){var Me=(0,I.Z)(function*(ne,Ue){const yt=(void 0!==ne.deepWait?ne.deepWait:Ue)?[be(ne.enteringEl),be(ne.leavingEl)]:[ce(ne.enteringEl),ce(ne.leavingEl)];yield Promise.all(yt),yield K(ne.viewIsReady,ne.enteringEl)});return function(Ue,Qe){return Me.apply(this,arguments)}}(),K=function(){var Me=(0,I.Z)(function*(ne,Ue){ne&&(yield ne(Ue))});return function(Ue,Qe){return Me.apply(this,arguments)}}(),fe=(Me,ne)=>{const Ue=ne.progressCallback,Qe=new Promise(yt=>{Me.onFinish(fn=>yt(1===fn))});return Ue?(Me.progressStart(!0),Ue(Me)):Me.play(),Qe},Fe=(Me,ne)=>{it(ne,Q),it(Me,te)},de=(Me,ne)=>{it(Me,z),it(ne,L)},it=(Me,ne)=>{if(Me){const Ue=new CustomEvent(ne,{bubbles:!1,cancelable:!1});Me.dispatchEvent(Ue)}},ce=Me=>Me?new Promise(ne=>(0,re.c)(Me,ne)):Promise.resolve(),be=function(){var Me=(0,I.Z)(function*(ne){const Ue=ne;if(Ue){if(null!=Ue.componentOnReady){if(null!=(yield Ue.componentOnReady()))return}else if(null!=Ue.__registerHost)return void(yield new Promise(yt=>(0,re.r)(yt)));yield Promise.all(Array.from(Ue.children).map(be))}});return function(Ue){return Me.apply(this,arguments)}}(),Ie=(Me,ne)=>{ne?(Me.setAttribute("aria-hidden","true"),Me.classList.add("ion-page-hidden")):(Me.hidden=!1,Me.removeAttribute("aria-hidden"),Me.classList.remove("ion-page-hidden"))},Xe=(Me,ne,Ue)=>{void 0!==Me&&(Me.style.zIndex="back"===Ue?"99":"101"),void 0!==ne&&(ne.style.zIndex="100")},Oe=Me=>Me.classList.contains("ion-page")?Me:Me.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Me},7351:(Be,We,A)=>{"use strict";A.d(We,{m:()=>ie});var I=A(3918),l=A(159),re=A(9259),te=A(5823),z=A(5933);const Q=B=>(0,z.c)().duration(B?400:300),L=B=>{let $,j;const Pe=B.width+8,$e=(0,z.c)(),he=(0,z.c)();B.isEndSide?($=Pe+"px",j="0px"):($=-Pe+"px",j="0px"),$e.addElement(B.menuInnerEl).fromTo("transform",`translateX(${$})`,`translateX(${j})`);const K="ios"===(0,te.b)(B),fe=K?.2:.25;return he.addElement(B.backdropEl).fromTo("opacity",.01,fe),Q(K).addAnimation([$e,he])},V=B=>{let $,j;const Pe=(0,te.b)(B),$e=B.width;B.isEndSide?($=-$e+"px",j=$e+"px"):($=$e+"px",j=-$e+"px");const he=(0,z.c)().addElement(B.menuInnerEl).fromTo("transform",`translateX(${j})`,"translateX(0px)"),Z=(0,z.c)().addElement(B.contentEl).fromTo("transform","translateX(0px)",`translateX(${$})`),K=(0,z.c)().addElement(B.backdropEl).fromTo("opacity",.01,.32);return Q("ios"===Pe).addAnimation([he,Z,K])},ue=B=>{const $=(0,te.b)(B),j=B.width*(B.isEndSide?-1:1)+"px",Pe=(0,z.c)().addElement(B.contentEl).fromTo("transform","translateX(0px)",`translateX(${j})`);return Q("ios"===$).addAnimation(Pe)},ie=(()=>{const B=new Map,$=[],j=function(){var O=(0,I.Z)(function*(ge){const tt=yield Fe(ge);return!!tt&&tt.open()});return function(tt){return O.apply(this,arguments)}}(),Pe=function(){var O=(0,I.Z)(function*(ge){const tt=yield void 0!==ge?Fe(ge):de();return void 0!==tt&&tt.close()});return function(tt){return O.apply(this,arguments)}}(),$e=function(){var O=(0,I.Z)(function*(ge){const tt=yield Fe(ge);return!!tt&&tt.toggle()});return function(tt){return O.apply(this,arguments)}}(),he=function(){var O=(0,I.Z)(function*(ge,tt){const nt=yield Fe(tt);return nt&&(nt.disabled=!ge),nt});return function(tt,nt){return O.apply(this,arguments)}}(),Z=function(){var O=(0,I.Z)(function*(ge,tt){const nt=yield Fe(tt);return nt&&(nt.swipeGesture=ge),nt});return function(tt,nt){return O.apply(this,arguments)}}(),K=function(){var O=(0,I.Z)(function*(ge){if(null!=ge){const tt=yield Fe(ge);return void 0!==tt&&tt.isOpen()}return void 0!==(yield de())});return function(tt){return O.apply(this,arguments)}}(),fe=function(){var O=(0,I.Z)(function*(ge){const tt=yield Fe(ge);return!!tt&&!tt.disabled});return function(tt){return O.apply(this,arguments)}}(),Fe=function(){var O=(0,I.Z)(function*(ge){return yield Ze(),"start"===ge||"end"===ge?fn(Ve=>Ve.side===ge&&!Ve.disabled)||fn(Ve=>Ve.side===ge):null!=ge?fn(nt=>nt.menuId===ge):fn(nt=>!nt.disabled)||($.length>0?$[0].el:void 0)});return function(tt){return O.apply(this,arguments)}}(),de=function(){var O=(0,I.Z)(function*(){return yield Ze(),Ue()});return function(){return O.apply(this,arguments)}}(),it=function(){var O=(0,I.Z)(function*(){return yield Ze(),Qe()});return function(){return O.apply(this,arguments)}}(),ce=function(){var O=(0,I.Z)(function*(){return yield Ze(),yt()});return function(){return O.apply(this,arguments)}}(),be=(O,ge)=>{B.set(O,ge)},Oe=O=>{const ge=O.side;$.filter(tt=>tt.side===ge&&tt!==O).forEach(tt=>tt.disabled=!0)},Me=function(){var O=(0,I.Z)(function*(ge,tt,nt){if(yt())return!1;if(tt){const Ve=yield de();Ve&&ge.el!==Ve&&(yield Ve.setOpen(!1,!1))}return ge._setOpen(tt,nt)});return function(tt,nt,Ve){return O.apply(this,arguments)}}(),Ue=()=>fn(O=>O._isOpen),Qe=()=>$.map(O=>O.el),yt=()=>$.some(O=>O.isAnimating),fn=O=>{const ge=$.find(O);if(void 0!==ge)return ge.el},Ze=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(O=>new Promise(ge=>(0,re.c)(O,ge))));return be("reveal",ue),be("push",V),be("overlay",L),typeof document<"u"&&document.addEventListener("ionBackButton",O=>{const ge=Ue();ge&&O.detail.register(l.MENU_BACK_BUTTON_PRIORITY,()=>ge.close())}),{registerAnimation:be,get:Fe,getMenus:it,getOpen:de,isEnabled:fe,swipeGesture:Z,isAnimating:ce,isOpen:K,enable:he,toggle:$e,close:Pe,open:j,_getOpenSync:Ue,_createAnimation:(O,ge)=>{const tt=B.get(O);if(!tt)throw new Error("animation not registered");return tt(ge)},_register:O=>{$.indexOf(O)<0&&(O.disabled||Oe(O),$.push(O))},_unregister:O=>{const ge=$.indexOf(O);ge>-1&&$.splice(ge,1)},_setOpen:Me,_setActiveMenu:Oe}})()},2286:(Be,We,A)=>{"use strict";A.d(We,{w:()=>I});const I=typeof window<"u"?window:void 0},8759:(Be,We,A)=>{"use strict";A.r(We),A.d(We,{GESTURE_CONTROLLER:()=>I.G,createGesture:()=>ue});var I=A(6379);const l=($,j,Pe,$e)=>{const he=re($)?{capture:!!$e.capture,passive:!!$e.passive}:!!$e.capture;let Z,K;return $.__zone_symbol__addEventListener?(Z="__zone_symbol__addEventListener",K="__zone_symbol__removeEventListener"):(Z="addEventListener",K="removeEventListener"),$[Z](j,Pe,he),()=>{$[K](j,Pe,he)}},re=$=>{if(void 0===te)try{const j=Object.defineProperty({},"passive",{get:()=>{te=!0}});$.addEventListener("optsTest",()=>{},j)}catch{te=!1}return!!te};let te;const L=$=>$ instanceof Document?$:$.ownerDocument,ue=$=>{let j=!1,Pe=!1,$e=!0,he=!1;const Z=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},$),K=Z.canStart,fe=Z.onWillStart,Fe=Z.onStart,de=Z.onEnd,it=Z.notCaptured,ce=Z.onMove,be=Z.threshold,Ie=Z.passive,Xe=Z.blurOnStart,Oe={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Me=(($,j,Pe)=>{const $e=Pe*(Math.PI/180),he="x"===$,Z=Math.cos($e),K=j*j;let fe=0,Fe=0,de=!1,it=0;return{start(ce,be){fe=ce,Fe=be,it=0,de=!0},detect(ce,be){if(!de)return!1;const Ie=ce-fe,Xe=be-Fe,Oe=Ie*Ie+Xe*Xe;if(Oe<K)return!1;const Me=Math.sqrt(Oe),ne=(he?Ie:Xe)/Me;return it=ne>Z?1:ne<-Z?-1:0,de=!1,!0},isGesture:()=>0!==it,getDirection:()=>it}})(Z.direction,Z.threshold,Z.maxAngle),ne=I.G.createGesture({name:$.gestureName,priority:$.gesturePriority,disableScroll:$.disableScroll}),yt=()=>{j&&(he=!1,ce&&ce(Oe))},fn=()=>!!ne.capture()&&(j=!0,$e=!1,Oe.startX=Oe.currentX,Oe.startY=Oe.currentY,Oe.startTime=Oe.currentTime,fe?fe(Oe).then(O):O(),!0),O=()=>{Xe&&(()=>{if(typeof document<"u"){const q=document.activeElement;q?.blur&&q.blur()}})(),Fe&&Fe(Oe),$e=!0},ge=()=>{j=!1,Pe=!1,he=!1,$e=!0,ne.release()},tt=q=>{const ye=j,ft=$e;if(ge(),ft){if(X(Oe,q),ye)return void(de&&de(Oe));it&&it(Oe)}},nt=(($,j,Pe,$e,he)=>{let Z,K,fe,Fe,de,it,ce,be=0;const Ie=Ze=>{be=Date.now()+2e3,j(Ze)&&(!K&&Pe&&(K=l($,"touchmove",Pe,he)),fe||(fe=l(Ze.target,"touchend",Oe,he)),Fe||(Fe=l(Ze.target,"touchcancel",Oe,he)))},Xe=Ze=>{be>Date.now()||j(Ze)&&(!it&&Pe&&(it=l(L($),"mousemove",Pe,he)),ce||(ce=l(L($),"mouseup",Me,he)))},Oe=Ze=>{ne(),$e&&$e(Ze)},Me=Ze=>{Ue(),$e&&$e(Ze)},ne=()=>{K&&K(),fe&&fe(),Fe&&Fe(),K=fe=Fe=void 0},Ue=()=>{it&&it(),ce&&ce(),it=ce=void 0},Qe=()=>{ne(),Ue()},yt=(Ze=!0)=>{Ze?(Z||(Z=l($,"touchstart",Ie,he)),de||(de=l($,"mousedown",Xe,he))):(Z&&Z(),de&&de(),Z=de=void 0,Qe())};return{enable:yt,stop:Qe,destroy:()=>{yt(!1),$e=Pe=j=void 0}}})(Z.el,q=>{const ye=B(q);return!(Pe||!$e||(ie(q,Oe),Oe.startX=Oe.currentX,Oe.startY=Oe.currentY,Oe.startTime=Oe.currentTime=ye,Oe.velocityX=Oe.velocityY=Oe.deltaX=Oe.deltaY=0,Oe.event=q,K&&!1===K(Oe))||(ne.release(),!ne.start()))&&(Pe=!0,0===be?fn():(Me.start(Oe.startX,Oe.startY),!0))},q=>{j?!he&&$e&&(he=!0,X(Oe,q),requestAnimationFrame(yt)):(X(Oe,q),Me.detect(Oe.currentX,Oe.currentY)&&(!Me.isGesture()||!fn())&&Ve())},tt,{capture:!1,passive:Ie}),Ve=()=>{ge(),nt.stop(),it&&it(Oe)};return{enable(q=!0){q||(j&&tt(void 0),ge()),nt.enable(q)},destroy(){ne.destroy(),nt.destroy()}}},X=($,j)=>{if(!j)return;const Pe=$.currentX,$e=$.currentY,he=$.currentTime;ie(j,$);const Z=$.currentX,K=$.currentY,Fe=($.currentTime=B(j))-he;if(Fe>0&&Fe<100){const it=(K-$e)/Fe;$.velocityX=(Z-Pe)/Fe*.7+.3*$.velocityX,$.velocityY=.7*it+.3*$.velocityY}$.deltaX=Z-$.startX,$.deltaY=K-$.startY,$.event=j},ie=($,j)=>{let Pe=0,$e=0;if($){const he=$.changedTouches;if(he&&he.length>0){const Z=he[0];Pe=Z.clientX,$e=Z.clientY}else void 0!==$.pageX&&(Pe=$.pageX,$e=$.pageY)}j.currentX=Pe,j.currentY=$e},B=$=>$.timeStamp||Date.now()},1559:(Be,We,A)=>{"use strict";A.d(We,{B:()=>tr,H:()=>H,a:()=>Ve,b:()=>pi,c:()=>Bi,e:()=>qt,f:()=>Ss,g:()=>q,h:()=>Jt,i:()=>Bn,j:()=>E,k:()=>oi,p:()=>$e,r:()=>is,s:()=>j});var I=A(3918);let re,te,z,Q=!1,L=!1,V=!1,ue=!1,X=!1;const ie=typeof window<"u"?window:{},B=ie.document||{head:{}},$={$flags$:0,$resourcesUrl$:"",jmp:x=>x(),raf:x=>requestAnimationFrame(x),ael:(x,N,me,Ee)=>x.addEventListener(N,me,Ee),rel:(x,N,me,Ee)=>x.removeEventListener(N,me,Ee),ce:(x,N)=>new CustomEvent(x,N)},j=x=>{Object.assign($,x)},$e=x=>Promise.resolve(x),he=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Z=(x,N,me,Ee)=>{me&&me.map(([Ne,R,pe])=>{const ke=fe(x,Ne),Je=K(N,pe),ot=Fe(Ne);$.ael(ke,R,Je,ot),(N.$rmListeners$=N.$rmListeners$||[]).push(()=>$.rel(ke,R,Je,ot))})},K=(x,N)=>me=>{try{256&x.$flags$?x.$lazyInstance$[N](me):(x.$queuedListeners$=x.$queuedListeners$||[]).push([N,me])}catch(Ee){so(Ee)}},fe=(x,N)=>4&N?B:8&N?ie:16&N?B.body:x,Fe=x=>0!=(2&x),Ie="s-id",Xe="sty-id",ne="http://www.w3.org/1999/xlink",yt=new WeakMap,fn=(x,N,me)=>{let Ee=Ti.get(x);he&&me?(Ee=Ee||new CSSStyleSheet,"string"==typeof Ee?Ee=N:Ee.replaceSync(N)):Ee=N,Ti.set(x,Ee)},Ze=(x,N,me,Ee)=>{let Ne=ge(N,me);const R=Ti.get(Ne);if(x=11===x.nodeType?x:B,R)if("string"==typeof R){let ke,pe=yt.get(x=x.head||x);pe||yt.set(x,pe=new Set),pe.has(Ne)||(x.host&&(ke=x.querySelector(`[${Xe}="${Ne}"]`))?ke.innerHTML=R:(ke=B.createElement("style"),ke.innerHTML=R,x.insertBefore(ke,x.querySelector("link"))),pe&&pe.add(Ne))}else x.adoptedStyleSheets.includes(R)||(x.adoptedStyleSheets=[...x.adoptedStyleSheets,R]);return Ne},ge=(x,N)=>"sc-"+(N&&32&x.$flags$?x.$tagName$+"-"+N:x.$tagName$),tt=x=>x.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Ve=x=>ws.push(x),q=x=>Xr(x).$modeName$,ye={},cn=x=>"object"==(x=typeof x)||"function"===x,Jt=(x,N,...me)=>{let Ee=null,Ne=null,R=null,pe=!1,ke=!1;const Je=[],ot=Gt=>{for(let wt=0;wt<Gt.length;wt++)Ee=Gt[wt],Array.isArray(Ee)?ot(Ee):null!=Ee&&"boolean"!=typeof Ee&&((pe="function"!=typeof x&&!cn(Ee))&&(Ee=String(Ee)),pe&&ke?Je[Je.length-1].$text$+=Ee:Je.push(pe?rn(null,Ee):Ee),ke=pe)};if(ot(me),N){N.key&&(Ne=N.key),N.name&&(R=N.name);{const Gt=N.className||N.class;Gt&&(N.class="object"!=typeof Gt?Gt:Object.keys(Gt).filter(wt=>Gt[wt]).join(" "))}}if("function"==typeof x)return x(null===N?{}:N,Je,_r);const xe=rn(x,null);return xe.$attrs$=N,Je.length>0&&(xe.$children$=Je),xe.$key$=Ne,xe.$name$=R,xe},rn=(x,N)=>({$flags$:0,$tag$:x,$text$:N,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),H={},_r={forEach:(x,N)=>x.map(Qn).forEach(N),map:(x,N)=>x.map(Qn).map(N).map(Ho)},Qn=x=>({vattrs:x.$attrs$,vchildren:x.$children$,vkey:x.$key$,vname:x.$name$,vtag:x.$tag$,vtext:x.$text$}),Ho=x=>{if("function"==typeof x.vtag){const me=Object.assign({},x.vattrs);return x.vkey&&(me.key=x.vkey),x.vname&&(me.name=x.vname),Jt(x.vtag,me,...x.vchildren||[])}const N=rn(x.vtag,x.vtext);return N.$attrs$=x.vattrs,N.$children$=x.vchildren,N.$key$=x.vkey,N.$name$=x.vname,N},Jr=(x,N,me,Ee,Ne,R)=>{if(me!==Ee){let pe=Ao(x,N),ke=N.toLowerCase();if("class"===N){const Je=x.classList,ot=Rn(me),xe=Rn(Ee);Je.remove(...ot.filter(Gt=>Gt&&!xe.includes(Gt))),Je.add(...xe.filter(Gt=>Gt&&!ot.includes(Gt)))}else if("style"===N){for(const Je in me)(!Ee||null==Ee[Je])&&(Je.includes("-")?x.style.removeProperty(Je):x.style[Je]="");for(const Je in Ee)(!me||Ee[Je]!==me[Je])&&(Je.includes("-")?x.style.setProperty(Je,Ee[Je]):x.style[Je]=Ee[Je])}else if("key"!==N)if("ref"===N)Ee&&Ee(x);else if(pe||"o"!==N[0]||"n"!==N[1]){const Je=cn(Ee);if((pe||Je&&null!==Ee)&&!Ne)try{if(x.tagName.includes("-"))x[N]=Ee;else{const xe=Ee??"";"list"===N?pe=!1:(null==me||x[N]!=xe)&&(x[N]=xe)}}catch{}let ot=!1;ke!==(ke=ke.replace(/^xlink\:?/,""))&&(N=ke,ot=!0),null==Ee||!1===Ee?(!1!==Ee||""===x.getAttribute(N))&&(ot?x.removeAttributeNS(ne,N):x.removeAttribute(N)):(!pe||4&R||Ne)&&!Je&&(Ee=!0===Ee?"":Ee,ot?x.setAttributeNS(ne,N,Ee):x.setAttribute(N,Ee))}else N="-"===N[2]?N.slice(3):Ao(ie,ke)?ke.slice(2):ke[2]+N.slice(3),me&&$.rel(x,N,me,!1),Ee&&$.ael(x,N,Ee,!1)}},Ei=/\s/,Rn=x=>x?x.split(Ei):[],yo=(x,N,me,Ee)=>{const Ne=11===N.$elm$.nodeType&&N.$elm$.host?N.$elm$.host:N.$elm$,R=x&&x.$attrs$||ye,pe=N.$attrs$||ye;for(Ee in R)Ee in pe||Jr(Ne,Ee,R[Ee],void 0,me,N.$flags$);for(Ee in pe)Jr(Ne,Ee,R[Ee],pe[Ee],me,N.$flags$)},Un=(x,N,me,Ee)=>{const Ne=N.$children$[me];let pe,ke,Je,R=0;if(Q||(V=!0,"slot"===Ne.$tag$&&(re&&Ee.classList.add(re+"-s"),Ne.$flags$|=Ne.$children$?2:1)),null!==Ne.$text$)pe=Ne.$elm$=B.createTextNode(Ne.$text$);else if(1&Ne.$flags$)pe=Ne.$elm$=B.createTextNode("");else{if(ue||(ue="svg"===Ne.$tag$),pe=Ne.$elm$=B.createElementNS(ue?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Ne.$flags$?"slot-fb":Ne.$tag$),ue&&"foreignObject"===Ne.$tag$&&(ue=!1),yo(null,Ne,ue),(x=>null!=x)(re)&&pe["s-si"]!==re&&pe.classList.add(pe["s-si"]=re),Ne.$children$)for(R=0;R<Ne.$children$.length;++R)ke=Un(x,Ne,R,pe),ke&&pe.appendChild(ke);"svg"===Ne.$tag$?ue=!1:"foreignObject"===pe.tagName&&(ue=!0)}return pe["s-hn"]=z,3&Ne.$flags$&&(pe["s-sr"]=!0,pe["s-cr"]=te,pe["s-sn"]=Ne.$name$||"",Je=x&&x.$children$&&x.$children$[me],Je&&Je.$tag$===Ne.$tag$&&x.$elm$&&Di(x.$elm$,!1)),pe},Di=(x,N)=>{$.$flags$|=1;const me=x.childNodes;for(let Ee=me.length-1;Ee>=0;Ee--){const Ne=me[Ee];Ne["s-hn"]!==z&&Ne["s-ol"]&&(gn(Ne).insertBefore(Ne,oo(Ne)),Ne["s-ol"].remove(),Ne["s-ol"]=void 0,V=!0),N&&Di(Ne,N)}$.$flags$&=-2},Yr=(x,N,me,Ee,Ne,R)=>{let ke,pe=x["s-cr"]&&x["s-cr"].parentNode||x;for(pe.shadowRoot&&pe.tagName===z&&(pe=pe.shadowRoot);Ne<=R;++Ne)Ee[Ne]&&(ke=Un(null,me,Ne,x),ke&&(Ee[Ne].$elm$=ke,pe.insertBefore(ke,oo(N))))},Lr=(x,N,me,Ee,Ne)=>{for(;N<=me;++N)(Ee=x[N])&&(Ne=Ee.$elm$,ze(Ee),L=!0,Ne["s-ol"]?Ne["s-ol"].remove():Di(Ne,!0),Ne.remove())},Gr=(x,N)=>x.$tag$===N.$tag$&&("slot"===x.$tag$?x.$name$===N.$name$:x.$key$===N.$key$),oo=x=>x&&x["s-ol"]||x,gn=x=>(x["s-ol"]?x["s-ol"]:x).parentNode,eo=(x,N)=>{const me=N.$elm$=x.$elm$,Ee=x.$children$,Ne=N.$children$,R=N.$tag$,pe=N.$text$;let ke;null===pe?(ue="svg"===R||"foreignObject"!==R&&ue,"slot"===R||yo(x,N,ue),null!==Ee&&null!==Ne?((x,N,me,Ee)=>{let Po,no,Ne=0,R=0,pe=0,ke=0,Je=N.length-1,ot=N[0],xe=N[Je],Gt=Ee.length-1,wt=Ee[0],pn=Ee[Gt];for(;Ne<=Je&&R<=Gt;)if(null==ot)ot=N[++Ne];else if(null==xe)xe=N[--Je];else if(null==wt)wt=Ee[++R];else if(null==pn)pn=Ee[--Gt];else if(Gr(ot,wt))eo(ot,wt),ot=N[++Ne],wt=Ee[++R];else if(Gr(xe,pn))eo(xe,pn),xe=N[--Je],pn=Ee[--Gt];else if(Gr(ot,pn))("slot"===ot.$tag$||"slot"===pn.$tag$)&&Di(ot.$elm$.parentNode,!1),eo(ot,pn),x.insertBefore(ot.$elm$,xe.$elm$.nextSibling),ot=N[++Ne],pn=Ee[--Gt];else if(Gr(xe,wt))("slot"===ot.$tag$||"slot"===pn.$tag$)&&Di(xe.$elm$.parentNode,!1),eo(xe,wt),x.insertBefore(xe.$elm$,ot.$elm$),xe=N[--Je],wt=Ee[++R];else{for(pe=-1,ke=Ne;ke<=Je;++ke)if(N[ke]&&null!==N[ke].$key$&&N[ke].$key$===wt.$key$){pe=ke;break}pe>=0?(no=N[pe],no.$tag$!==wt.$tag$?Po=Un(N&&N[R],me,pe,x):(eo(no,wt),N[pe]=void 0,Po=no.$elm$),wt=Ee[++R]):(Po=Un(N&&N[R],me,R,x),wt=Ee[++R]),Po&&gn(ot.$elm$).insertBefore(Po,oo(ot.$elm$))}Ne>Je?Yr(x,null==Ee[Gt+1]?null:Ee[Gt+1].$elm$,me,Ee,R,Gt):R>Gt&&Lr(N,Ne,Je)})(me,Ee,N,Ne):null!==Ne?(null!==x.$text$&&(me.textContent=""),Yr(me,null,N,Ne,0,Ne.length-1)):null!==Ee&&Lr(Ee,0,Ee.length-1),ue&&"svg"===R&&(ue=!1)):(ke=me["s-cr"])?ke.parentNode.textContent=pe:x.$text$!==pe&&(me.data=pe)},os=x=>{const N=x.childNodes;let me,Ee,Ne,R,pe,ke;for(Ee=0,Ne=N.length;Ee<Ne;Ee++)if(me=N[Ee],1===me.nodeType){if(me["s-sr"])for(pe=me["s-sn"],me.hidden=!1,R=0;R<Ne;R++)if(ke=N[R].nodeType,N[R]["s-hn"]!==me["s-hn"]||""!==pe){if(1===ke&&pe===N[R].getAttribute("slot")){me.hidden=!0;break}}else if(1===ke||3===ke&&""!==N[R].textContent.trim()){me.hidden=!0;break}os(me)}},zr=[],lt=x=>{let N,me,Ee,Ne,R,pe,ke=0;const Je=x.childNodes,ot=Je.length;for(;ke<ot;ke++){if(N=Je[ke],N["s-sr"]&&(me=N["s-cr"])&&me.parentNode)for(Ee=me.parentNode.childNodes,Ne=N["s-sn"],pe=Ee.length-1;pe>=0;pe--)me=Ee[pe],!me["s-cn"]&&!me["s-nr"]&&me["s-hn"]!==N["s-hn"]&&(le(me,Ne)?(R=zr.find(xe=>xe.$nodeToRelocate$===me),L=!0,me["s-sn"]=me["s-sn"]||Ne,R?R.$slotRefNode$=N:zr.push({$slotRefNode$:N,$nodeToRelocate$:me}),me["s-sr"]&&zr.map(xe=>{le(xe.$nodeToRelocate$,me["s-sn"])&&(R=zr.find(Gt=>Gt.$nodeToRelocate$===me),R&&!xe.$slotRefNode$&&(xe.$slotRefNode$=R.$slotRefNode$))})):zr.some(xe=>xe.$nodeToRelocate$===me)||zr.push({$nodeToRelocate$:me}));1===N.nodeType&&lt(N)}},le=(x,N)=>1===x.nodeType?null===x.getAttribute("slot")&&""===N||x.getAttribute("slot")===N:x["s-sn"]===N||""===N,ze=x=>{x.$attrs$&&x.$attrs$.ref&&x.$attrs$.ref(null),x.$children$&&x.$children$.map(ze)},Bn=x=>Xr(x).$hostElement$,qt=(x,N,me)=>{const Ee=Bn(x);return{emit:Ne=>Ft(Ee,N,{bubbles:!!(4&me),composed:!!(2&me),cancelable:!!(1&me),detail:Ne})}},Ft=(x,N,me)=>{const Ee=$.ce(N,me);return x.dispatchEvent(Ee),Ee},br=(x,N)=>{N&&!x.$onRenderResolve$&&N["s-p"]&&N["s-p"].push(new Promise(me=>x.$onRenderResolve$=me))},en=(x,N)=>{if(x.$flags$|=16,!(4&x.$flags$))return br(x,x.$ancestorComponent$),Bi(()=>Jn(x,N));x.$flags$|=512},Jn=(x,N)=>{const Ee=x.$lazyInstance$;let Ne;return N&&(x.$flags$|=256,x.$queuedListeners$&&(x.$queuedListeners$.map(([R,pe])=>Kn(Ee,R,pe)),x.$queuedListeners$=null),Ne=Kn(Ee,"componentWillLoad")),Ne=D(Ne,()=>Kn(Ee,"componentWillRender")),D(Ne,()=>er(x,Ee,N))},er=function(){var x=(0,I.Z)(function*(N,me,Ee){const Ne=N.$hostElement$,pe=Ne["s-rc"];Ee&&(x=>{const N=x.$cmpMeta$,me=x.$hostElement$,Ee=N.$flags$,R=Ze(me.shadowRoot?me.shadowRoot:me.getRootNode(),N,x.$modeName$);10&Ee&&(me["s-sc"]=R,me.classList.add(R+"-h"),2&Ee&&me.classList.add(R+"-s"))})(N);un(N,me),pe&&(pe.map(Je=>Je()),Ne["s-rc"]=void 0);{const Je=Ne["s-p"],ot=()=>Ht(N);0===Je.length?ot():(Promise.all(Je).then(ot),N.$flags$|=4,Je.length=0)}});return function(me,Ee,Ne){return x.apply(this,arguments)}}(),un=(x,N,me)=>{try{N=N.render&&N.render(),x.$flags$&=-17,x.$flags$|=2,((x,N)=>{const me=x.$hostElement$,Ee=x.$cmpMeta$,Ne=x.$vnode$||rn(null,null),R=(x=>x&&x.$tag$===H)(N)?N:Jt(null,null,N);if(z=me.tagName,Ee.$attrsToReflect$&&(R.$attrs$=R.$attrs$||{},Ee.$attrsToReflect$.map(([pe,ke])=>R.$attrs$[ke]=me[pe])),R.$tag$=null,R.$flags$|=4,x.$vnode$=R,R.$elm$=Ne.$elm$=me.shadowRoot||me,re=me["s-sc"],te=me["s-cr"],Q=0!=(1&Ee.$flags$),L=!1,eo(Ne,R),$.$flags$|=1,V){lt(R.$elm$);let pe,ke,Je,ot,xe,Gt,wt=0;for(;wt<zr.length;wt++)pe=zr[wt],ke=pe.$nodeToRelocate$,ke["s-ol"]||(Je=B.createTextNode(""),Je["s-nr"]=ke,ke.parentNode.insertBefore(ke["s-ol"]=Je,ke));for(wt=0;wt<zr.length;wt++)if(pe=zr[wt],ke=pe.$nodeToRelocate$,pe.$slotRefNode$){for(ot=pe.$slotRefNode$.parentNode,xe=pe.$slotRefNode$.nextSibling,Je=ke["s-ol"];Je=Je.previousSibling;)if(Gt=Je["s-nr"],Gt&&Gt["s-sn"]===ke["s-sn"]&&ot===Gt.parentNode&&(Gt=Gt.nextSibling,!Gt||!Gt["s-nr"])){xe=Gt;break}(!xe&&ot!==ke.parentNode||ke.nextSibling!==xe)&&ke!==xe&&(!ke["s-hn"]&&ke["s-ol"]&&(ke["s-hn"]=ke["s-ol"].parentNode.nodeName),ot.insertBefore(ke,xe))}else 1===ke.nodeType&&(ke.hidden=!0)}L&&os(R.$elm$),$.$flags$&=-2,zr.length=0})(x,N)}catch(Ee){so(Ee,x.$hostElement$)}return null},Ht=x=>{const me=x.$hostElement$,Ne=x.$lazyInstance$,R=x.$ancestorComponent$;Kn(Ne,"componentDidRender"),64&x.$flags$?Kn(Ne,"componentDidUpdate"):(x.$flags$|=64,On(me),Kn(Ne,"componentDidLoad"),x.$onReadyResolve$(me),R||S()),x.$onInstanceResolve$(me),x.$onRenderResolve$&&(x.$onRenderResolve$(),x.$onRenderResolve$=void 0),512&x.$flags$&&mi(()=>en(x,!1)),x.$flags$&=-517},E=x=>{{const N=Xr(x),me=N.$hostElement$.isConnected;return me&&2==(18&N.$flags$)&&en(N,!1),me}},S=x=>{On(B.documentElement),mi(()=>Ft(ie,"appload",{detail:{namespace:"ionic"}}))},Kn=(x,N,me)=>{if(x&&x[N])try{return x[N](me)}catch(Ee){so(Ee)}},D=(x,N)=>x&&x.then?x.then(N):N(),On=x=>x.classList.add("hydrated"),ri=(x,N,me,Ee,Ne,R,pe)=>{let ke,Je,ot,xe;if(1===R.nodeType){for(ke=R.getAttribute("c-id"),ke&&(Je=ke.split("."),(Je[0]===pe||"0"===Je[0])&&(ot={$flags$:0,$hostId$:Je[0],$nodeId$:Je[1],$depth$:Je[2],$index$:Je[3],$tag$:R.tagName.toLowerCase(),$elm$:R,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},N.push(ot),R.removeAttribute("c-id"),x.$children$||(x.$children$=[]),x.$children$[ot.$index$]=ot,x=ot,Ee&&"0"===ot.$depth$&&(Ee[ot.$index$]=ot.$elm$))),xe=R.childNodes.length-1;xe>=0;xe--)ri(x,N,me,Ee,Ne,R.childNodes[xe],pe);if(R.shadowRoot)for(xe=R.shadowRoot.childNodes.length-1;xe>=0;xe--)ri(x,N,me,Ee,Ne,R.shadowRoot.childNodes[xe],pe)}else if(8===R.nodeType)Je=R.nodeValue.split("."),(Je[1]===pe||"0"===Je[1])&&(ke=Je[0],ot={$flags$:0,$hostId$:Je[1],$nodeId$:Je[2],$depth$:Je[3],$index$:Je[4],$elm$:R,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===ke?(ot.$elm$=R.nextSibling,ot.$elm$&&3===ot.$elm$.nodeType&&(ot.$text$=ot.$elm$.textContent,N.push(ot),R.remove(),x.$children$||(x.$children$=[]),x.$children$[ot.$index$]=ot,Ee&&"0"===ot.$depth$&&(Ee[ot.$index$]=ot.$elm$))):ot.$hostId$===pe&&("s"===ke?(ot.$tag$="slot",R["s-sn"]=Je[5]?ot.$name$=Je[5]:"",R["s-sr"]=!0,Ee&&(ot.$elm$=B.createElement(ot.$tag$),ot.$name$&&ot.$elm$.setAttribute("name",ot.$name$),R.parentNode.insertBefore(ot.$elm$,R),R.remove(),"0"===ot.$depth$&&(Ee[ot.$index$]=ot.$elm$)),me.push(ot),x.$children$||(x.$children$=[]),x.$children$[ot.$index$]=ot):"r"===ke&&(Ee?R.remove():(Ne["s-cr"]=R,R["s-cn"]=!0))));else if(x&&"style"===x.$tag$){const Gt=rn(null,R.textContent);Gt.$elm$=R,Gt.$index$="0",x.$children$=[Gt]}},Do=(x,N)=>{if(1===x.nodeType){let me=0;for(;me<x.childNodes.length;me++)Do(x.childNodes[me],N);if(x.shadowRoot)for(me=0;me<x.shadowRoot.childNodes.length;me++)Do(x.shadowRoot.childNodes[me],N)}else if(8===x.nodeType){const me=x.nodeValue.split(".");"o"===me[0]&&(N.set(me[1]+"."+me[2],x),x.nodeValue="",x["s-en"]=me[3])}},ki=(x,N,me)=>{if(N.$members$){x.watchers&&(N.$watchers$=x.watchers);const Ee=Object.entries(N.$members$),Ne=x.prototype;if(Ee.map(([R,[pe]])=>{31&pe||2&me&&32&pe?Object.defineProperty(Ne,R,{get(){return((x,N)=>Xr(this).$instanceValues$.get(N))(0,R)},set(ke){((x,N,me,Ee)=>{const Ne=Xr(x),R=Ne.$hostElement$,pe=Ne.$instanceValues$.get(N),ke=Ne.$flags$,Je=Ne.$lazyInstance$;me=((x,N)=>null==x||cn(x)?x:4&N?"false"!==x&&(""===x||!!x):2&N?parseFloat(x):1&N?String(x):x)(me,Ee.$members$[N][0]);const ot=Number.isNaN(pe)&&Number.isNaN(me);if((!(8&ke)||void 0===pe)&&me!==pe&&!ot&&(Ne.$instanceValues$.set(N,me),Je)){if(Ee.$watchers$&&128&ke){const Gt=Ee.$watchers$[N];Gt&&Gt.map(wt=>{try{Je[wt](me,pe,N)}catch(pn){so(pn,R)}})}2==(18&ke)&&en(Ne,!1)}})(this,R,ke,N)},configurable:!0,enumerable:!0}):1&me&&64&pe&&Object.defineProperty(Ne,R,{value(...ke){const Je=Xr(this);return Je.$onInstancePromise$.then(()=>Je.$lazyInstance$[R](...ke))}})}),1&me){const R=new Map;Ne.attributeChangedCallback=function(pe,ke,Je){$.jmp(()=>{const ot=R.get(pe);if(this.hasOwnProperty(ot))Je=this[ot],delete this[ot];else if(Ne.hasOwnProperty(ot)&&"number"==typeof this[ot]&&this[ot]==Je)return;this[ot]=(null!==Je||"boolean"!=typeof this[ot])&&Je})},x.observedAttributes=Ee.filter(([pe,ke])=>15&ke[0]).map(([pe,ke])=>{const Je=ke[1]||pe;return R.set(Je,pe),512&ke[0]&&N.$attrsToReflect$.push([pe,Je]),Je})}}return x},io=function(){var x=(0,I.Z)(function*(N,me,Ee,Ne,R){if(!(32&me.$flags$)){{if(me.$flags$|=32,(R=_o(Ee)).then){const ot=()=>{};R=yield R,ot()}R.isProxied||(Ee.$watchers$=R.watchers,ki(R,Ee,2),R.isProxied=!0);const Je=()=>{};me.$flags$|=8;try{new R(me)}catch(ot){so(ot)}me.$flags$&=-9,me.$flags$|=128,Je(),Wo(me.$lazyInstance$)}if(R.style){let Je=R.style;"string"!=typeof Je&&(Je=Je[me.$modeName$=(x=>ws.map(N=>N(x)).find(N=>!!N))(N)]);const ot=ge(Ee,me.$modeName$);if(!Ti.has(ot)){const xe=()=>{};fn(ot,Je,!!(1&Ee.$flags$)),xe()}}}const pe=me.$ancestorComponent$,ke=()=>en(me,!0);pe&&pe["s-rc"]?pe["s-rc"].push(ke):ke()});return function(me,Ee,Ne,R,pe){return x.apply(this,arguments)}}(),Wo=x=>{Kn(x,"connectedCallback")},Zo=x=>{const N=x["s-cr"]=B.createComment("");N["s-cn"]=!0,x.insertBefore(N,x.firstChild)},pi=(x,N={})=>{const Ee=[],Ne=N.exclude||[],R=ie.customElements,pe=B.head,ke=pe.querySelector("meta[charset]"),Je=B.createElement("style"),ot=[],xe=B.querySelectorAll(`[${Xe}]`);let Gt,wt=!0,pn=0;for(Object.assign($,N),$.$resourcesUrl$=new URL(N.resourcesUrl||"./",B.baseURI).href,$.$flags$|=2;pn<xe.length;pn++)fn(xe[pn].getAttribute(Xe),tt(xe[pn].innerHTML),!0);x.map(Po=>{Po[1].map(no=>{const Ro={$flags$:no[0],$tagName$:no[1],$members$:no[2],$listeners$:no[3]};Ro.$members$=no[2],Ro.$listeners$=no[3],Ro.$attrsToReflect$=[],Ro.$watchers$={};const gi=Ro.$tagName$,Mr=class extends HTMLElement{constructor(ls){super(ls),ii(ls=this,Ro),1&Ro.$flags$&&ls.attachShadow({mode:"open",delegatesFocus:!!(16&Ro.$flags$)})}connectedCallback(){Gt&&(clearTimeout(Gt),Gt=null),wt?ot.push(this):$.jmp(()=>(x=>{if(!(1&$.$flags$)){const N=Xr(x),me=N.$cmpMeta$,Ee=()=>{};if(1&N.$flags$)Z(x,N,me.$listeners$),Wo(N.$lazyInstance$);else{let Ne;if(N.$flags$|=1,Ne=x.getAttribute(Ie),Ne){if(1&me.$flags$){const R=Ze(x.shadowRoot,me,x.getAttribute("s-mode"));x.classList.remove(R+"-h",R+"-s")}((x,N,me,Ee)=>{const R=x.shadowRoot,pe=[],Je=R?[]:null,ot=Ee.$vnode$=rn(N,null);$.$orgLocNodes$||Do(B.body,$.$orgLocNodes$=new Map),x[Ie]=me,x.removeAttribute(Ie),ri(ot,pe,[],Je,x,x,me),pe.map(xe=>{const Gt=xe.$hostId$+"."+xe.$nodeId$,wt=$.$orgLocNodes$.get(Gt),pn=xe.$elm$;wt&&""===wt["s-en"]&&wt.parentNode.insertBefore(pn,wt.nextSibling),R||(pn["s-hn"]=N,wt&&(pn["s-ol"]=wt,pn["s-ol"]["s-nr"]=pn)),$.$orgLocNodes$.delete(Gt)}),R&&Je.map(xe=>{xe&&R.appendChild(xe)})})(x,me.$tagName$,Ne,N)}Ne||12&me.$flags$&&Zo(x);{let R=x;for(;R=R.parentNode||R.host;)if(1===R.nodeType&&R.hasAttribute("s-id")&&R["s-p"]||R["s-p"]){br(N,N.$ancestorComponent$=R);break}}me.$members$&&Object.entries(me.$members$).map(([R,[pe]])=>{if(31&pe&&x.hasOwnProperty(R)){const ke=x[R];delete x[R],x[R]=ke}}),mi(()=>io(x,N,me))}Ee()}})(this))}disconnectedCallback(){$.jmp(()=>(x=>{if(!(1&$.$flags$)){const N=Xr(this),me=N.$lazyInstance$;N.$rmListeners$&&(N.$rmListeners$.map(Ee=>Ee()),N.$rmListeners$=void 0),Kn(me,"disconnectedCallback")}})())}componentOnReady(){return Xr(this).$onReadyPromise$}};Ro.$lazyBundleId$=Po[0],!Ne.includes(gi)&&!R.get(gi)&&(Ee.push(gi),R.define(gi,ki(Mr,Ro,1)))})}),Je.innerHTML=Ee+"{visibility:hidden}.hydrated{visibility:inherit}",Je.setAttribute("data-styles",""),pe.insertBefore(Je,ke?ke.nextSibling:pe.firstChild),wt=!1,ot.length?ot.map(Po=>Po.connectedCallback()):$.jmp(()=>Gt=setTimeout(S,30))},oi=x=>{const N=new URL(x,$.$resourcesUrl$);return N.origin!==ie.location.origin?N.href:N.pathname},Io=new WeakMap,Xr=x=>Io.get(x),is=(x,N)=>Io.set(N.$lazyInstance$=x,N),ii=(x,N)=>{const me={$flags$:0,$hostElement$:x,$cmpMeta$:N,$instanceValues$:new Map};return me.$onInstancePromise$=new Promise(Ee=>me.$onInstanceResolve$=Ee),me.$onReadyPromise$=new Promise(Ee=>me.$onReadyResolve$=Ee),x["s-p"]=[],x["s-rc"]=[],Z(x,me,N.$listeners$),Io.set(x,me)},Ao=(x,N)=>N in x,so=(x,N)=>(0,console.error)(x,N),ss=new Map,_o=(x,N,me)=>{const Ee=x.$tagName$.replace(/-/g,"_"),Ne=x.$lazyBundleId$,R=ss.get(Ne);return R?R[Ee]:A(863)(`./${Ne}.entry.js`).then(pe=>(ss.set(Ne,pe),pe[Ee]),so)},Ti=new Map,ws=[],hi=[],as=[],Ls=(x,N)=>me=>{x.push(me),X||(X=!0,N&&4&$.$flags$?mi(fr):$.raf(fr))},$s=x=>{for(let N=0;N<x.length;N++)try{x[N](performance.now())}catch(me){so(me)}x.length=0},fr=()=>{$s(hi),$s(as),(X=hi.length>0)&&$.raf(fr)},mi=x=>$e().then(x),Ss=Ls(hi,!1),Bi=Ls(as,!0),tr={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},5823:(Be,We,A)=>{"use strict";A.d(We,{a:()=>ie,b:()=>yt,c:()=>re,g:()=>X,i:()=>fn});var I=A(1559);class l{constructor(){this.m=new Map}reset(O){this.m=new Map(Object.entries(O))}get(O,ge){const tt=this.m.get(O);return void 0!==tt?tt:ge}getBoolean(O,ge=!1){const tt=this.m.get(O);return void 0===tt?ge:"string"==typeof tt?"true"===tt:!!tt}getNumber(O,ge){const tt=parseFloat(this.m.get(O));return isNaN(tt)?void 0!==ge?ge:NaN:tt}set(O,ge){this.m.set(O,ge)}}const re=new l,V="ionic:",ue="ionic-persist-config",X=Ze=>B(Ze),ie=(Ze,O)=>("string"==typeof Ze&&(O=Ze,Ze=void 0),X(Ze).includes(O)),B=(Ze=window)=>{if(typeof Ze>"u")return[];Ze.Ionic=Ze.Ionic||{};let O=Ze.Ionic.platforms;return null==O&&(O=Ze.Ionic.platforms=$(Ze),O.forEach(ge=>Ze.document.documentElement.classList.add(`plt-${ge}`))),O},$=Ze=>{const O=re.get("platform");return Object.keys(Ue).filter(ge=>{const tt=O?.[ge];return"function"==typeof tt?tt(Ze):Ue[ge](Ze)})},Pe=Ze=>!!(Me(Ze,/iPad/i)||Me(Ze,/Macintosh/i)&&de(Ze)),Z=Ze=>Me(Ze,/android|sink/i),de=Ze=>ne(Ze,"(any-pointer:coarse)"),ce=Ze=>be(Ze)||Ie(Ze),be=Ze=>!!(Ze.cordova||Ze.phonegap||Ze.PhoneGap),Ie=Ze=>!!Ze.Capacitor?.isNative,Me=(Ze,O)=>O.test(Ze.navigator.userAgent),ne=(Ze,O)=>{var ge;return null===(ge=Ze.matchMedia)||void 0===ge?void 0:ge.call(Ze,O).matches},Ue={ipad:Pe,iphone:Ze=>Me(Ze,/iPhone/i),ios:Ze=>Me(Ze,/iPhone|iPod/i)||Pe(Ze),android:Z,phablet:Ze=>{const O=Ze.innerWidth,ge=Ze.innerHeight,tt=Math.min(O,ge),nt=Math.max(O,ge);return tt>390&&tt<520&&nt>620&&nt<800},tablet:Ze=>{const O=Ze.innerWidth,ge=Ze.innerHeight,tt=Math.min(O,ge),nt=Math.max(O,ge);return Pe(Ze)||(Ze=>Z(Ze)&&!Me(Ze,/mobile/i))(Ze)||tt>460&&tt<820&&nt>780&&nt<1400},cordova:be,capacitor:Ie,electron:Ze=>Me(Ze,/electron/i),pwa:Ze=>{var O;return!!(null!==(O=Ze.matchMedia)&&void 0!==O&&O.call(Ze,"(display-mode: standalone)").matches||Ze.navigator.standalone)},mobile:de,mobileweb:Ze=>de(Ze)&&!ce(Ze),desktop:Ze=>!de(Ze),hybrid:ce};let Qe;const yt=Ze=>Ze&&(0,I.g)(Ze)||Qe,fn=(Ze={})=>{if(typeof window>"u")return;const O=window.document,ge=window,tt=ge.Ionic=ge.Ionic||{},nt={};Ze._ael&&(nt.ael=Ze._ael),Ze._rel&&(nt.rel=Ze._rel),Ze._ce&&(nt.ce=Ze._ce),(0,I.s)(nt);const Ve=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Ze=>{try{const O=Ze.sessionStorage.getItem(ue);return null!==O?JSON.parse(O):{}}catch{return{}}})(ge)),{persistConfig:!1}),tt.config),(Ze=>{const O={};return Ze.location.search.slice(1).split("&").map(ge=>ge.split("=")).map(([ge,tt])=>[decodeURIComponent(ge),decodeURIComponent(tt)]).filter(([ge])=>((Ze,O)=>Ze.substr(0,O.length)===O)(ge,V)).map(([ge,tt])=>[ge.slice(V.length),tt]).forEach(([ge,tt])=>{O[ge]=tt}),O})(ge)),Ze);re.reset(Ve),re.getBoolean("persistConfig")&&((Ze,O)=>{try{Ze.sessionStorage.setItem(ue,JSON.stringify(O))}catch{return}})(ge,Ve),B(ge),tt.config=re,tt.mode=Qe=re.get("mode",O.documentElement.getAttribute("mode")||(ie(ge,"ios")?"ios":"md")),re.set("mode",Qe),O.documentElement.setAttribute("mode",Qe),O.documentElement.classList.add(Qe),re.getBoolean("_testing")&&re.set("animated",!1);const q=ft=>{var Ae;return null===(Ae=ft.tagName)||void 0===Ae?void 0:Ae.startsWith("ION-")},ye=ft=>["ios","md"].includes(ft);(0,I.a)(ft=>{for(;ft;){const Ae=ft.mode||ft.getAttribute("mode");if(Ae){if(ye(Ae))return Ae;q(ft)&&console.warn('Invalid ionic mode: "'+Ae+'", expected: "ios" or "md"')}ft=ft.parentElement}return Qe})}},9078:(Be,We,A)=>{"use strict";A.r(We),A.d(We,{iosTransitionAnimation:()=>$,shadow:()=>L});var I=A(5933),l=A(919);A(2286),A(1559);const Q=j=>document.querySelector(`${j}.ion-cloned-element`),L=j=>j.shadowRoot||j,V=j=>{const Pe="ION-TABS"===j.tagName?j:j.querySelector("ion-tabs"),$e="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Pe){const he=Pe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=he?he.querySelector($e):null}return j.querySelector($e)},ue=(j,Pe)=>{const $e="ION-TABS"===j.tagName?j:j.querySelector("ion-tabs");let he=[];if(null!=$e){const Z=$e.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Z&&(he=Z.querySelectorAll("ion-buttons"))}else he=j.querySelectorAll("ion-buttons");for(const Z of he){const K=Z.closest("ion-header"),fe=K&&!K.classList.contains("header-collapse-condense-inactive"),Fe=Z.querySelector("ion-back-button"),de=Z.classList.contains("buttons-collapse");if(null!==Fe&&("start"===Z.slot||""===Z.slot)&&(de&&fe&&Pe||!de))return Fe}return null},ie=(j,Pe,$e,he,Z,K)=>{const fe=Pe?`calc(100% - ${K.right+4}px)`:K.left-4+"px",Fe=Pe?"7px":"-7px",de=Pe?"-4px":"4px",it=Pe?"-4px":"4px",ce=Pe?"right":"left",be=Pe?"left":"right",Oe=$e?[{offset:0,opacity:1,transform:`translate3d(${de}, ${K.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Fe}, ${Z.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${Fe}, ${Z.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${de}, ${K.top-46}px, 0) scale(1)`}],Ue=$e?[{offset:0,opacity:1,transform:`translate3d(${it}, ${K.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${it}, ${K.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${it}, ${K.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${it}, ${K.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${it}, ${K.top-46}px, 0) scale(1)`}],Qe=(0,I.c)(),yt=(0,I.c)(),fn=Q("ion-back-button"),Ze=L(fn).querySelector(".button-text"),O=L(fn).querySelector("ion-icon");fn.text=he.text,fn.mode=he.mode,fn.icon=he.icon,fn.color=he.color,fn.disabled=he.disabled,fn.style.setProperty("display","block"),fn.style.setProperty("position","fixed"),yt.addElement(O),Qe.addElement(Ze),Qe.beforeStyles({"transform-origin":`${ce} center`}).beforeAddWrite(()=>{he.style.setProperty("display","none"),fn.style.setProperty(ce,fe)}).afterAddWrite(()=>{he.style.setProperty("display",""),fn.style.setProperty("display","none"),fn.style.removeProperty(ce)}).keyframes(Oe),yt.beforeStyles({"transform-origin":`${be} center`}).keyframes(Ue),j.addAnimation([Qe,yt])},B=(j,Pe,$e,he,Z,K)=>{const fe=Pe?`calc(100% - ${Z.right}px)`:`${Z.left}px`,Fe=Pe?"-18px":"18px",de=Pe?"right":"left",be=$e?[{offset:0,opacity:0,transform:`translate3d(${Fe}, ${K.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${Z.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${Z.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Fe}, ${K.top-4}px, 0) scale(0.5)`}],Ie=Q("ion-title"),Xe=(0,I.c)();Ie.innerText=he.innerText,Ie.size=he.size,Ie.color=he.color,Xe.addElement(Ie),Xe.beforeStyles({"transform-origin":`${de} center`,height:"46px",display:"",position:"relative",[de]:fe}).beforeAddWrite(()=>{he.style.setProperty("display","none")}).afterAddWrite(()=>{he.style.setProperty("display",""),Ie.style.setProperty("display","none")}).keyframes(be),j.addAnimation(Xe)},$=(j,Pe)=>{var $e;try{const he="cubic-bezier(0.32,0.72,0,1)",Z="opacity",K="transform",fe="0%",de="rtl"===j.ownerDocument.dir,it=de?"-99.5%":"99.5%",ce=de?"33%":"-33%",be=Pe.enteringEl,Ie=Pe.leavingEl,Xe="back"===Pe.direction,Oe=be.querySelector(":scope > ion-content"),Me=be.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),ne=be.querySelectorAll(":scope > ion-header > ion-toolbar"),Ue=(0,I.c)(),Qe=(0,I.c)();if(Ue.addElement(be).duration((null!==($e=Pe.duration)&&void 0!==$e?$e:0)||540).easing(Pe.easing||he).fill("both").beforeRemoveClass("ion-page-invisible"),Ie&&null!=j){const O=(0,I.c)();O.addElement(j),Ue.addAnimation(O)}if(Oe||0!==ne.length||0!==Me.length?(Qe.addElement(Oe),Qe.addElement(Me)):Qe.addElement(be.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Ue.addAnimation(Qe),Xe?Qe.beforeClearStyles([Z]).fromTo("transform",`translateX(${ce})`,`translateX(${fe})`).fromTo(Z,.8,1):Qe.beforeClearStyles([Z]).fromTo("transform",`translateX(${it})`,`translateX(${fe})`),Oe){const O=L(Oe).querySelector(".transition-effect");if(O){const ge=O.querySelector(".transition-cover"),tt=O.querySelector(".transition-shadow"),nt=(0,I.c)(),Ve=(0,I.c)(),q=(0,I.c)();nt.addElement(O).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ve.addElement(ge).beforeClearStyles([Z]).fromTo(Z,0,.1),q.addElement(tt).beforeClearStyles([Z]).fromTo(Z,.03,.7),nt.addAnimation([Ve,q]),Qe.addAnimation([nt])}}const yt=be.querySelector("ion-header.header-collapse-condense"),{forward:fn,backward:Ze}=((j,Pe,$e,he,Z)=>{const K=ue(he,$e),fe=V(Z),Fe=V(he),de=ue(Z,$e),it=null!==K&&null!==fe&&!$e,ce=null!==Fe&&null!==de&&$e;if(it){const be=fe.getBoundingClientRect(),Ie=K.getBoundingClientRect();B(j,Pe,$e,fe,be,Ie),ie(j,Pe,$e,K,be,Ie)}else if(ce){const be=Fe.getBoundingClientRect(),Ie=de.getBoundingClientRect();B(j,Pe,$e,Fe,be,Ie),ie(j,Pe,$e,de,be,Ie)}return{forward:it,backward:ce}})(Ue,de,Xe,be,Ie);if(ne.forEach(O=>{const ge=(0,I.c)();ge.addElement(O),Ue.addAnimation(ge);const tt=(0,I.c)();tt.addElement(O.querySelector("ion-title"));const nt=(0,I.c)(),Ve=Array.from(O.querySelectorAll("ion-buttons,[menuToggle]")),q=O.closest("ion-header"),ye=q?.classList.contains("header-collapse-condense-inactive");let ft;ft=Ve.filter(Xe?rn=>{const H=rn.classList.contains("buttons-collapse");return H&&!ye||!H}:rn=>!rn.classList.contains("buttons-collapse")),nt.addElement(ft);const Ae=(0,I.c)();Ae.addElement(O.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const At=(0,I.c)();At.addElement(L(O).querySelector(".toolbar-background"));const cn=(0,I.c)(),Jt=O.querySelector("ion-back-button");if(Jt&&cn.addElement(Jt),ge.addAnimation([tt,nt,Ae,At,cn]),nt.fromTo(Z,.01,1),Ae.fromTo(Z,.01,1),Xe)ye||tt.fromTo("transform",`translateX(${ce})`,`translateX(${fe})`).fromTo(Z,.01,1),Ae.fromTo("transform",`translateX(${ce})`,`translateX(${fe})`),cn.fromTo(Z,.01,1);else if(yt||tt.fromTo("transform",`translateX(${it})`,`translateX(${fe})`).fromTo(Z,.01,1),Ae.fromTo("transform",`translateX(${it})`,`translateX(${fe})`),At.beforeClearStyles([Z,"transform"]),q?.translucent?At.fromTo("transform",de?"translateX(-100%)":"translateX(100%)","translateX(0px)"):At.fromTo(Z,.01,"var(--opacity)"),fn||cn.fromTo(Z,.01,1),Jt&&!fn){const H=(0,I.c)();H.addElement(L(Jt).querySelector(".button-text")).fromTo("transform",de?"translateX(-100px)":"translateX(100px)","translateX(0px)"),ge.addAnimation(H)}}),Ie){const O=(0,I.c)(),ge=Ie.querySelector(":scope > ion-content"),tt=Ie.querySelectorAll(":scope > ion-header > ion-toolbar"),nt=Ie.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(ge||0!==tt.length||0!==nt.length?(O.addElement(ge),O.addElement(nt)):O.addElement(Ie.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Ue.addAnimation(O),Xe){O.beforeClearStyles([Z]).fromTo("transform",`translateX(${fe})`,de?"translateX(-100%)":"translateX(100%)");const Ve=(0,l.g)(Ie);Ue.afterAddWrite(()=>{"normal"===Ue.getDirection()&&Ve.style.setProperty("display","none")})}else O.fromTo("transform",`translateX(${fe})`,`translateX(${ce})`).fromTo(Z,1,.8);if(ge){const Ve=L(ge).querySelector(".transition-effect");if(Ve){const q=Ve.querySelector(".transition-cover"),ye=Ve.querySelector(".transition-shadow"),ft=(0,I.c)(),Ae=(0,I.c)(),At=(0,I.c)();ft.addElement(Ve).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ae.addElement(q).beforeClearStyles([Z]).fromTo(Z,.1,0),At.addElement(ye).beforeClearStyles([Z]).fromTo(Z,.7,.03),ft.addAnimation([Ae,At]),O.addAnimation([ft])}}tt.forEach(Ve=>{const q=(0,I.c)();q.addElement(Ve);const ye=(0,I.c)();ye.addElement(Ve.querySelector("ion-title"));const ft=(0,I.c)(),Ae=Ve.querySelectorAll("ion-buttons,[menuToggle]"),At=Ve.closest("ion-header"),cn=At?.classList.contains("header-collapse-condense-inactive"),Jt=Array.from(Ae).filter(Ho=>{const Jr=Ho.classList.contains("buttons-collapse");return Jr&&!cn||!Jr});ft.addElement(Jt);const rn=(0,I.c)(),H=Ve.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");H.length>0&&rn.addElement(H);const Cn=(0,I.c)();Cn.addElement(L(Ve).querySelector(".toolbar-background"));const _r=(0,I.c)(),Qn=Ve.querySelector("ion-back-button");if(Qn&&_r.addElement(Qn),q.addAnimation([ye,ft,rn,_r,Cn]),Ue.addAnimation(q),_r.fromTo(Z,.99,0),ft.fromTo(Z,.99,0),rn.fromTo(Z,.99,0),Xe){if(cn||ye.fromTo("transform",`translateX(${fe})`,de?"translateX(-100%)":"translateX(100%)").fromTo(Z,.99,0),rn.fromTo("transform",`translateX(${fe})`,de?"translateX(-100%)":"translateX(100%)"),Cn.beforeClearStyles([Z,"transform"]),At?.translucent?Cn.fromTo("transform","translateX(0px)",de?"translateX(-100%)":"translateX(100%)"):Cn.fromTo(Z,"var(--opacity)",0),Qn&&!Ze){const Jr=(0,I.c)();Jr.addElement(L(Qn).querySelector(".button-text")).fromTo("transform",`translateX(${fe})`,`translateX(${(de?-124:124)+"px"})`),q.addAnimation(Jr)}}else cn||ye.fromTo("transform",`translateX(${fe})`,`translateX(${ce})`).fromTo(Z,.99,0).afterClearStyles([K,Z]),rn.fromTo("transform",`translateX(${fe})`,`translateX(${ce})`).afterClearStyles([K,Z]),_r.afterClearStyles([Z]),ye.afterClearStyles([Z]),ft.afterClearStyles([Z])})}return Ue}catch(he){throw he}}},4199:(Be,We,A)=>{"use strict";A.r(We),A.d(We,{mdTransitionAnimation:()=>z});var I=A(5933),l=A(919);A(2286),A(1559);const z=(Q,L)=>{var V,ue,X;const $="back"===L.direction,Pe=L.leavingEl,$e=(0,l.g)(L.enteringEl),he=$e.querySelector("ion-toolbar"),Z=(0,I.c)();if(Z.addElement($e).fill("both").beforeRemoveClass("ion-page-invisible"),$?Z.duration((null!==(V=L.duration)&&void 0!==V?V:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Z.duration((null!==(ue=L.duration)&&void 0!==ue?ue:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),he){const K=(0,I.c)();K.addElement(he),Z.addAnimation(K)}if(Pe&&$){Z.duration((null!==(X=L.duration)&&void 0!==X?X:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const K=(0,I.c)();K.addElement((0,l.g)(Pe)).onFinish(fe=>{1===fe&&K.elements.length>0&&K.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Z.addAnimation(K)}return Z}},7580:(Be,We,A)=>{"use strict";A.d(We,{B:()=>ge,G:()=>tt,a:()=>V,b:()=>ue,c:()=>$,d:()=>Xe,e:()=>Pe,f:()=>Me,g:()=>Qe,h:()=>Q,i:()=>fn,j:()=>Z,k:()=>be,l:()=>X,m:()=>ie,s:()=>O});var I=A(3918),l=A(5823),re=A(159),te=A(9259);let z=0;const Q=new WeakMap,L=nt=>({create:Ve=>$e(nt,Ve),dismiss:(Ve,q,ye)=>it(document,Ve,q,nt,ye),getTop:()=>(0,I.Z)(function*(){return be(document,nt)})()}),V=L("ion-alert"),ue=L("ion-action-sheet"),X=L("ion-loading"),ie=L("ion-modal"),$=L("ion-popover"),Pe=nt=>{typeof document<"u"&&de(document);const Ve=z++;nt.overlayIndex=Ve,nt.hasAttribute("id")||(nt.id=`ion-overlay-${Ve}`)},$e=(nt,Ve)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(nt).then(()=>{const q=document.createElement(nt);return q.classList.add("overlay-hidden"),Object.assign(q,Object.assign(Object.assign({},Ve),{hasController:!0})),ne(document).appendChild(q),new Promise(ye=>(0,te.c)(q,ye))}):Promise.resolve(),he='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Z=(nt,Ve)=>{let q=nt.querySelector(he);const ye=q?.shadowRoot;ye&&(q=ye.querySelector(he)||q),q?(0,te.f)(q):Ve.focus()},fe=(nt,Ve)=>{const q=Array.from(nt.querySelectorAll(he));let ye=q.length>0?q[q.length-1]:null;const ft=ye?.shadowRoot;ft&&(ye=ft.querySelector(he)||ye),ye?ye.focus():Ve.focus()},de=nt=>{0===z&&(z=1,nt.addEventListener("focus",Ve=>{((nt,Ve)=>{const q=be(Ve,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),ye=nt.target;q&&ye&&!q.classList.contains("ion-disable-focus-trap")&&(q.shadowRoot?(()=>{if(q.contains(ye))q.lastFocus=ye;else{const At=q.lastFocus;Z(q,q),At===Ve.activeElement&&fe(q,q),q.lastFocus=Ve.activeElement}})():(()=>{if(q===ye)q.lastFocus=void 0;else{const At=(0,te.g)(q);if(!At.contains(ye))return;const cn=At.querySelector(".ion-overlay-wrapper");if(!cn)return;if(cn.contains(ye))q.lastFocus=ye;else{const Jt=q.lastFocus;Z(cn,q),Jt===Ve.activeElement&&fe(cn,q),q.lastFocus=Ve.activeElement}}})())})(Ve,nt)},!0),nt.addEventListener("ionBackButton",Ve=>{const q=be(nt);q?.backdropDismiss&&Ve.detail.register(re.OVERLAY_BACK_BUTTON_PRIORITY,()=>q.dismiss(void 0,ge))}),nt.addEventListener("keyup",Ve=>{if("Escape"===Ve.key){const q=be(nt);q?.backdropDismiss&&q.dismiss(void 0,ge)}}))},it=(nt,Ve,q,ye,ft)=>{const Ae=be(nt,ye,ft);return Ae?Ae.dismiss(Ve,q):Promise.reject("overlay does not exist")},be=(nt,Ve,q)=>{const ye=((nt,Ve)=>(void 0===Ve&&(Ve="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(nt.querySelectorAll(Ve)).filter(q=>q.overlayIndex>0)))(nt,Ve).filter(ft=>!(nt=>nt.classList.contains("overlay-hidden"))(ft));return void 0===q?ye[ye.length-1]:ye.find(ft=>ft.id===q)},Ie=(nt=!1)=>{const q=ne(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");q&&(nt?q.setAttribute("aria-hidden","true"):q.removeAttribute("aria-hidden"))},Xe=function(){var nt=(0,I.Z)(function*(Ve,q,ye,ft,Ae){var At,cn;if(Ve.presented)return;Ie(!0),Ve.presented=!0,Ve.willPresent.emit(),null===(At=Ve.willPresentShorthand)||void 0===At||At.emit();const Jt=(0,l.b)(Ve),rn=Ve.enterAnimation?Ve.enterAnimation:l.c.get(q,"ios"===Jt?ye:ft);(yield Ue(Ve,rn,Ve.el,Ae))&&(Ve.didPresent.emit(),null===(cn=Ve.didPresentShorthand)||void 0===cn||cn.emit()),"ION-TOAST"!==Ve.el.tagName&&Oe(Ve.el),Ve.keyboardClose&&(null===document.activeElement||!Ve.el.contains(document.activeElement))&&Ve.el.focus()});return function(q,ye,ft,Ae,At){return nt.apply(this,arguments)}}(),Oe=function(){var nt=(0,I.Z)(function*(Ve){let q=document.activeElement;if(!q)return;const ye=q?.shadowRoot;ye&&(q=ye.querySelector(he)||q),yield Ve.onDidDismiss(),q.focus()});return function(q){return nt.apply(this,arguments)}}(),Me=function(){var nt=(0,I.Z)(function*(Ve,q,ye,ft,Ae,At,cn){var Jt,rn;if(!Ve.presented)return!1;Ie(!1),Ve.presented=!1;try{Ve.el.style.setProperty("pointer-events","none"),Ve.willDismiss.emit({data:q,role:ye}),null===(Jt=Ve.willDismissShorthand)||void 0===Jt||Jt.emit({data:q,role:ye});const H=(0,l.b)(Ve),Cn=Ve.leaveAnimation?Ve.leaveAnimation:l.c.get(ft,"ios"===H?Ae:At);ye!==tt&&(yield Ue(Ve,Cn,Ve.el,cn)),Ve.didDismiss.emit({data:q,role:ye}),null===(rn=Ve.didDismissShorthand)||void 0===rn||rn.emit({data:q,role:ye}),Q.delete(Ve),Ve.el.classList.add("overlay-hidden"),Ve.el.style.removeProperty("pointer-events")}catch(H){console.error(H)}return Ve.el.remove(),!0});return function(q,ye,ft,Ae,At,cn,Jt){return nt.apply(this,arguments)}}(),ne=nt=>nt.querySelector("ion-app")||nt.body,Ue=function(){var nt=(0,I.Z)(function*(Ve,q,ye,ft){ye.classList.remove("overlay-hidden");const At=q(Ve.el,ft);(!Ve.animated||!l.c.getBoolean("animated",!0))&&At.duration(0),Ve.keyboardClose&&At.beforeAddWrite(()=>{const Jt=ye.ownerDocument.activeElement;Jt?.matches("input,ion-input, ion-textarea")&&Jt.blur()});const cn=Q.get(Ve)||[];return Q.set(Ve,[...cn,At]),yield At.play(),!0});return function(q,ye,ft,Ae){return nt.apply(this,arguments)}}(),Qe=(nt,Ve)=>{let q;const ye=new Promise(ft=>q=ft);return yt(nt,Ve,ft=>{q(ft.detail)}),ye},yt=(nt,Ve,q)=>{const ye=ft=>{(0,te.b)(nt,Ve,ye),q(ft)};(0,te.a)(nt,Ve,ye)},fn=nt=>"cancel"===nt||nt===ge,Ze=nt=>nt(),O=(nt,Ve)=>{if("function"==typeof nt)return l.c.get("_zoneGate",Ze)(()=>{try{return nt(Ve)}catch(ye){throw ye}})},ge="backdrop",tt="gesture"},4263:(Be,We,A)=>{"use strict";var I=A(9903),l=A(3855),re=l(I("String.prototype.indexOf"));Be.exports=function(z,Q){var L=I(z,!!Q);return"function"==typeof L&&re(z,".prototype.")>-1?l(L):L}},3855:(Be,We,A)=>{"use strict";var I=A(224),l=A(9903),re=l("%Function.prototype.apply%"),te=l("%Function.prototype.call%"),z=l("%Reflect.apply%",!0)||I.call(te,re),Q=l("%Object.getOwnPropertyDescriptor%",!0),L=l("%Object.defineProperty%",!0),V=l("%Math.max%");if(L)try{L({},"a",{value:1})}catch{L=null}Be.exports=function(ie){var B=z(I,te,arguments);if(Q&&L){var $=Q(B,"length");$.configurable&&L(B,"length",{value:1+V(0,ie.length-(arguments.length-1))})}return B};var ue=function(){return z(I,re,arguments)};L?L(Be.exports,"apply",{value:ue}):Be.exports.apply=ue},5107:Be=>{var We={utf8:{stringToBytes:function(A){return We.bin.stringToBytes(unescape(encodeURIComponent(A)))},bytesToString:function(A){return decodeURIComponent(escape(We.bin.bytesToString(A)))}},bin:{stringToBytes:function(A){for(var I=[],l=0;l<A.length;l++)I.push(255&A.charCodeAt(l));return I},bytesToString:function(A){for(var I=[],l=0;l<A.length;l++)I.push(String.fromCharCode(A[l]));return I.join("")}}};Be.exports=We},7175:Be=>{var We,A;We="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Be.exports=A={rotl:function(I,l){return I<<l|I>>>32-l},rotr:function(I,l){return I<<32-l|I>>>l},endian:function(I){if(I.constructor==Number)return 16711935&A.rotl(I,8)|4278255360&A.rotl(I,24);for(var l=0;l<I.length;l++)I[l]=A.endian(I[l]);return I},randomBytes:function(I){for(var l=[];I>0;I--)l.push(Math.floor(256*Math.random()));return l},bytesToWords:function(I){for(var l=[],re=0,te=0;re<I.length;re++,te+=8)l[te>>>5]|=I[re]<<24-te%32;return l},wordsToBytes:function(I){for(var l=[],re=0;re<32*I.length;re+=8)l.push(I[re>>>5]>>>24-re%32&255);return l},bytesToHex:function(I){for(var l=[],re=0;re<I.length;re++)l.push((I[re]>>>4).toString(16)),l.push((15&I[re]).toString(16));return l.join("")},hexToBytes:function(I){for(var l=[],re=0;re<I.length;re+=2)l.push(parseInt(I.substr(re,2),16));return l},bytesToBase64:function(I){for(var l=[],re=0;re<I.length;re+=3)for(var te=I[re]<<16|I[re+1]<<8|I[re+2],z=0;z<4;z++)l.push(8*re+6*z<=8*I.length?We.charAt(te>>>6*(3-z)&63):"=");return l.join("")},base64ToBytes:function(I){I=I.replace(/[^A-Z0-9+\/]/gi,"");for(var l=[],re=0,te=0;re<I.length;te=++re%4)0!=te&&l.push((We.indexOf(I.charAt(re-1))&Math.pow(2,-2*te+8)-1)<<2*te|We.indexOf(I.charAt(re))>>>6-2*te);return l}}},5541:(Be,We,A)=>{"use strict";var I=A(6189),l=A(4263),re=A(8704),te=A(9903),z=A(2069),Q=A(8432),L=A(5734),V=A(9102),ue=A(8266),X=A(2805),ie=A(4666),B=A(6687),$=A(3163),j=A(2093),Pe=A(2086),$e=A(2107),he=A(5709),Z=l("ArrayBuffer.prototype.byteLength",!0)||function(ye){return ye.byteLength},K=l("SharedArrayBuffer.prototype.byteLength",!0),fe=l("Date.prototype.getTime"),Fe=Object.getPrototypeOf,de=l("Object.prototype.toString"),it=te("%Set%",!0),ce=l("Map.prototype.has",!0),be=l("Map.prototype.get",!0),Ie=l("Map.prototype.size",!0),Xe=l("Set.prototype.add",!0),Oe=l("Set.prototype.delete",!0),Me=l("Set.prototype.has",!0),ne=l("Set.prototype.size",!0);function Ue(q,ye,ft,Ae){for(var cn,At=z(q);(cn=At.next())&&!cn.done;)if(O(ye,cn.value,ft,Ae))return Oe(q,cn.value),!0;return!1}function Qe(q){return typeof q>"u"?null:"object"!=typeof q?"symbol"!=typeof q&&("string"!=typeof q&&"number"!=typeof q||+q==+q):void 0}function yt(q,ye,ft,Ae,At,cn){var Jt=Qe(ft);if(null!=Jt)return Jt;var rn=be(ye,Jt),H=I({},At,{strict:!1});return!(typeof rn>"u"&&!ce(ye,Jt)||!O(Ae,rn,H,cn))&&!ce(q,Jt)&&O(Ae,rn,H,cn)}function fn(q,ye,ft){var Ae=Qe(ft);return Ae??(Me(ye,Ae)&&!Me(q,Ae))}function Ze(q,ye,ft,Ae,At,cn){for(var rn,H,Jt=z(q);(rn=Jt.next())&&!rn.done;)if(O(ft,H=rn.value,At,cn)&&O(Ae,be(ye,H),At,cn))return Oe(q,H),!0;return!1}function O(q,ye,ft,Ae){var At=ft||{};if(At.strict?L(q,ye):q===ye)return!0;if(Pe(q)!==Pe(ye))return!1;if(!q||!ye||"object"!=typeof q&&"object"!=typeof ye)return At.strict?L(q,ye):q==ye;var Cn,rn=Ae.has(q),H=Ae.has(ye);if(rn&&H){if(Ae.get(q)===Ae.get(ye))return!0}else Cn={};return rn||Ae.set(q,Cn),H||Ae.set(ye,Cn),function Ve(q,ye,ft,Ae){var At,cn;if(typeof q!=typeof ye||null==q||null==ye||de(q)!==de(ye)||V(q)!==V(ye))return!1;if(ue(q)!==ue(ye))return!1;var H=q instanceof Error,Cn=ye instanceof Error;if(H!==Cn||(H||Cn)&&(q.name!==ye.name||q.message!==ye.message))return!1;var _r=B(q),Qn=B(ye);if(_r!==Qn||(_r||Qn)&&(q.source!==ye.source||re(q)!==re(ye)))return!1;var Ho=ie(q),Jr=ie(ye);if(Ho!==Jr||(Ho||Jr)&&fe(q)!==fe(ye)||ft.strict&&Fe&&Fe(q)!==Fe(ye))return!1;var Ei=he(q),Rn=he(ye);if((Ei||Rn)&&Ei!==Rn)return!1;var yo=ge(q),Un=ge(ye);if(yo!==Un)return!1;if(yo||Un){if(q.length!==ye.length)return!1;for(At=0;At<q.length;At++)if(q[At]!==ye[At])return!1;return!0}var Di=X(q),Yr=X(ye);if(Di!==Yr)return!1;if(Di||Yr)return Z(q)===Z(ye)&&"function"==typeof Uint8Array&&O(new Uint8Array(q),new Uint8Array(ye),ft,Ae);var Lr=$(q),ar=$(ye);if(Lr!==ar)return!1;if(Lr||ar)return K(q)===K(ye)&&"function"==typeof Uint8Array&&O(new Uint8Array(q),new Uint8Array(ye),ft,Ae);if(typeof q!=typeof ye)return!1;var Gr=j(q),oo=j(ye);if(Gr.length!==oo.length)return!1;for(Gr.sort(),oo.sort(),At=Gr.length-1;At>=0;At--)if(Gr[At]!=oo[At])return!1;for(At=Gr.length-1;At>=0;At--)if(!O(q[cn=Gr[At]],ye[cn],ft,Ae))return!1;var gn=$e(q),eo=$e(ye);return gn===eo&&("Set"===gn||"Set"===eo?function tt(q,ye,ft,Ae){if(ne(q)!==ne(ye))return!1;for(var Jt,rn,H,At=z(q),cn=z(ye);(Jt=At.next())&&!Jt.done;)if(Jt.value&&"object"==typeof Jt.value)H||(H=new it),Xe(H,Jt.value);else if(!Me(ye,Jt.value)){if(ft.strict||!fn(q,ye,Jt.value))return!1;H||(H=new it),Xe(H,Jt.value)}if(H){for(;(rn=cn.next())&&!rn.done;)if(rn.value&&"object"==typeof rn.value){if(!Ue(H,rn.value,ft.strict,Ae))return!1}else if(!ft.strict&&!Me(q,rn.value)&&!Ue(H,rn.value,ft.strict,Ae))return!1;return 0===ne(H)}return!0}(q,ye,ft,Ae):"Map"!==gn||function nt(q,ye,ft,Ae){if(Ie(q)!==Ie(ye))return!1;for(var Jt,rn,H,Cn,_r,Qn,At=z(q),cn=z(ye);(Jt=At.next())&&!Jt.done;)if(_r=Jt.value[1],(Cn=Jt.value[0])&&"object"==typeof Cn)H||(H=new it),Xe(H,Cn);else if(typeof(Qn=be(ye,Cn))>"u"&&!ce(ye,Cn)||!O(_r,Qn,ft,Ae)){if(ft.strict||!yt(q,ye,Cn,_r,ft,Ae))return!1;H||(H=new it),Xe(H,Cn)}if(H){for(;(rn=cn.next())&&!rn.done;)if(Qn=rn.value[1],(Cn=rn.value[0])&&"object"==typeof Cn){if(!Ze(H,q,Cn,Qn,ft,Ae))return!1}else if(!(ft.strict||q.has(Cn)&&O(be(q,Cn),Qn,ft,Ae)||Ze(H,q,Cn,Qn,I({},ft,{strict:!1}),Ae)))return!1;return 0===ne(H)}return!0}(q,ye,ft,Ae))}(q,ye,At,Ae)}function ge(q){return!(!q||"object"!=typeof q||"number"!=typeof q.length||"function"!=typeof q.copy||"function"!=typeof q.slice||q.length>0&&"number"!=typeof q[0]||!(q.constructor&&q.constructor.isBuffer&&q.constructor.isBuffer(q)))}Be.exports=function(ye,ft,Ae){return O(ye,ft,Ae,Q())}},1790:(Be,We,A)=>{"use strict";var I=A(2093),l="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),re=Object.prototype.toString,te=Array.prototype.concat,z=Object.defineProperty,L=A(9006)(),V=z&&L,ue=function(ie,B,$,j){B in ie&&(!function(ie){return"function"==typeof ie&&"[object Function]"===re.call(ie)}(j)||!j())||(V?z(ie,B,{configurable:!0,enumerable:!1,value:$,writable:!0}):ie[B]=$)},X=function(ie,B){var $=arguments.length>2?arguments[2]:{},j=I(B);l&&(j=te.call(j,Object.getOwnPropertySymbols(B)));for(var Pe=0;Pe<j.length;Pe+=1)ue(ie,j[Pe],B[j[Pe]],$[j[Pe]])};X.supportsDescriptors=!!V,Be.exports=X},9897:function(Be,We){!function(A){"use strict";var B,re=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,te=536870912,z=2*te,L=new WeakMap,ue=function(B,$){return function(j){var Pe=$.get(j),$e=void 0===Pe?j.size:Pe<z?Pe+1:0;if(!j.has($e))return B(j,$e);if(j.size<te){for(;j.has($e);)$e=Math.floor(Math.random()*z);return B(j,$e)}if(j.size>re)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;j.has($e);)$e=Math.floor(Math.random()*re);return B(j,$e)}}((B=L,function($,j){return B.set($,j),j}),L),X=function(B){return function($){var j=B($);return $.add(j),j}}(ue);A.addUniqueNumber=X,A.generateUniqueNumber=ue}(We)},3037:(Be,We,A)=>{"use strict";var I=A(8642),l=Object.prototype.toString,re=Object.prototype.hasOwnProperty,te=function(ue,X,ie){for(var B=0,$=ue.length;B<$;B++)re.call(ue,B)&&(null==ie?X(ue[B],B,ue):X.call(ie,ue[B],B,ue))},z=function(ue,X,ie){for(var B=0,$=ue.length;B<$;B++)null==ie?X(ue.charAt(B),B,ue):X.call(ie,ue.charAt(B),B,ue)},Q=function(ue,X,ie){for(var B in ue)re.call(ue,B)&&(null==ie?X(ue[B],B,ue):X.call(ie,ue[B],B,ue))};Be.exports=function(ue,X,ie){if(!I(X))throw new TypeError("iterator must be a function");var B;arguments.length>=3&&(B=ie),"[object Array]"===l.call(ue)?te(ue,X,B):"string"==typeof ue?z(ue,X,B):Q(ue,X,B)}},2199:Be=>{"use strict";var We="Function.prototype.bind called on incompatible ",A=Array.prototype.slice,I=Object.prototype.toString,l="[object Function]";Be.exports=function(te){var z=this;if("function"!=typeof z||I.call(z)!==l)throw new TypeError(We+z);for(var L,Q=A.call(arguments,1),V=function(){if(this instanceof L){var $=z.apply(this,Q.concat(A.call(arguments)));return Object($)===$?$:this}return z.apply(te,Q.concat(A.call(arguments)))},ue=Math.max(0,z.length-Q.length),X=[],ie=0;ie<ue;ie++)X.push("$"+ie);if(L=Function("binder","return function ("+X.join(",")+"){ return binder.apply(this,arguments); }")(V),z.prototype){var B=function(){};B.prototype=z.prototype,L.prototype=new B,B.prototype=null}return L}},224:(Be,We,A)=>{"use strict";var I=A(2199);Be.exports=Function.prototype.bind||I},3677:Be=>{"use strict";var We=function(){return"string"==typeof function(){}.name},A=Object.getOwnPropertyDescriptor;if(A)try{A([],"length")}catch{A=null}We.functionsHaveConfigurableNames=function(){if(!We()||!A)return!1;var re=A(function(){},"name");return!!re&&!!re.configurable};var I=Function.prototype.bind;We.boundFunctionsHaveNames=function(){return We()&&"function"==typeof I&&""!==function(){}.bind().name},Be.exports=We},9903:(Be,We,A)=>{"use strict";var I,l=SyntaxError,re=Function,te=TypeError,z=function(Oe){try{return re('"use strict"; return ('+Oe+").constructor;")()}catch{}},Q=Object.getOwnPropertyDescriptor;if(Q)try{Q({},"")}catch{Q=null}var L=function(){throw new te},V=Q?function(){try{return L}catch{try{return Q(arguments,"callee").get}catch{return L}}}():L,ue=A(524)(),X=Object.getPrototypeOf||function(Oe){return Oe.__proto__},ie={},B=typeof Uint8Array>"u"?I:X(Uint8Array),$={"%AggregateError%":typeof AggregateError>"u"?I:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?I:ArrayBuffer,"%ArrayIteratorPrototype%":ue?X([][Symbol.iterator]()):I,"%AsyncFromSyncIteratorPrototype%":I,"%AsyncFunction%":ie,"%AsyncGenerator%":ie,"%AsyncGeneratorFunction%":ie,"%AsyncIteratorPrototype%":ie,"%Atomics%":typeof Atomics>"u"?I:Atomics,"%BigInt%":typeof BigInt>"u"?I:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?I:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?I:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?I:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?I:Float32Array,"%Float64Array%":typeof Float64Array>"u"?I:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?I:FinalizationRegistry,"%Function%":re,"%GeneratorFunction%":ie,"%Int8Array%":typeof Int8Array>"u"?I:Int8Array,"%Int16Array%":typeof Int16Array>"u"?I:Int16Array,"%Int32Array%":typeof Int32Array>"u"?I:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ue?X(X([][Symbol.iterator]())):I,"%JSON%":"object"==typeof JSON?JSON:I,"%Map%":typeof Map>"u"?I:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ue?I:X((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?I:Promise,"%Proxy%":typeof Proxy>"u"?I:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?I:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?I:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ue?I:X((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?I:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ue?X(""[Symbol.iterator]()):I,"%Symbol%":ue?Symbol:I,"%SyntaxError%":l,"%ThrowTypeError%":V,"%TypedArray%":B,"%TypeError%":te,"%Uint8Array%":typeof Uint8Array>"u"?I:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?I:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?I:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?I:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?I:WeakMap,"%WeakRef%":typeof WeakRef>"u"?I:WeakRef,"%WeakSet%":typeof WeakSet>"u"?I:WeakSet};try{null.error}catch(Oe){var j=X(X(Oe));$["%Error.prototype%"]=j}var Pe=function Oe(Me){var ne;if("%AsyncFunction%"===Me)ne=z("async function () {}");else if("%GeneratorFunction%"===Me)ne=z("function* () {}");else if("%AsyncGeneratorFunction%"===Me)ne=z("async function* () {}");else if("%AsyncGenerator%"===Me){var Ue=Oe("%AsyncGeneratorFunction%");Ue&&(ne=Ue.prototype)}else if("%AsyncIteratorPrototype%"===Me){var Qe=Oe("%AsyncGenerator%");Qe&&(ne=X(Qe.prototype))}return $[Me]=ne,ne},$e={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},he=A(224),Z=A(4031),K=he.call(Function.call,Array.prototype.concat),fe=he.call(Function.apply,Array.prototype.splice),Fe=he.call(Function.call,String.prototype.replace),de=he.call(Function.call,String.prototype.slice),it=he.call(Function.call,RegExp.prototype.exec),ce=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,be=/\\(\\)?/g,Ie=function(Me){var ne=de(Me,0,1),Ue=de(Me,-1);if("%"===ne&&"%"!==Ue)throw new l("invalid intrinsic syntax, expected closing `%`");if("%"===Ue&&"%"!==ne)throw new l("invalid intrinsic syntax, expected opening `%`");var Qe=[];return Fe(Me,ce,function(yt,fn,Ze,O){Qe[Qe.length]=Ze?Fe(O,be,"$1"):fn||yt}),Qe},Xe=function(Me,ne){var Qe,Ue=Me;if(Z($e,Ue)&&(Ue="%"+(Qe=$e[Ue])[0]+"%"),Z($,Ue)){var yt=$[Ue];if(yt===ie&&(yt=Pe(Ue)),typeof yt>"u"&&!ne)throw new te("intrinsic "+Me+" exists, but is not available. Please file an issue!");return{alias:Qe,name:Ue,value:yt}}throw new l("intrinsic "+Me+" does not exist!")};Be.exports=function(Me,ne){if("string"!=typeof Me||0===Me.length)throw new te("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof ne)throw new te('"allowMissing" argument must be a boolean');if(null===it(/^%?[^%]*%?$/,Me))throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Ue=Ie(Me),Qe=Ue.length>0?Ue[0]:"",yt=Xe("%"+Qe+"%",ne),fn=yt.name,Ze=yt.value,O=!1,ge=yt.alias;ge&&(Qe=ge[0],fe(Ue,K([0,1],ge)));for(var tt=1,nt=!0;tt<Ue.length;tt+=1){var Ve=Ue[tt],q=de(Ve,0,1),ye=de(Ve,-1);if(('"'===q||"'"===q||"`"===q||'"'===ye||"'"===ye||"`"===ye)&&q!==ye)throw new l("property names with quotes must have matching quotes");if(("constructor"===Ve||!nt)&&(O=!0),Z($,fn="%"+(Qe+="."+Ve)+"%"))Ze=$[fn];else if(null!=Ze){if(!(Ve in Ze)){if(!ne)throw new te("base intrinsic for "+Me+" exists, but the property is not available.");return}if(Q&&tt+1>=Ue.length){var ft=Q(Ze,Ve);Ze=(nt=!!ft)&&"get"in ft&&!("originalValue"in ft.get)?ft.get:Ze[Ve]}else nt=Z(Ze,Ve),Ze=Ze[Ve];nt&&!O&&($[fn]=Ze)}}return Ze}},253:(Be,We,A)=>{"use strict";var l=A(9903)("%Object.getOwnPropertyDescriptor%",!0);if(l)try{l([],"length")}catch{l=null}Be.exports=l},5861:Be=>{"use strict";var We=typeof BigInt<"u"&&BigInt;Be.exports=function(){return"function"==typeof We&&"function"==typeof BigInt&&"bigint"==typeof We(42)&&"bigint"==typeof BigInt(42)}},9006:(Be,We,A)=>{"use strict";var l=A(9903)("%Object.defineProperty%",!0),re=function(){if(l)try{return l({},"a",{value:1}),!0}catch{return!1}return!1};re.hasArrayLengthDefineBug=function(){if(!re())return null;try{return 1!==l([],"length",{value:1}).length}catch{return!0}},Be.exports=re},524:(Be,We,A)=>{"use strict";var I=typeof Symbol<"u"&&Symbol,l=A(6858);Be.exports=function(){return"function"==typeof I&&"function"==typeof Symbol&&"symbol"==typeof I("foo")&&"symbol"==typeof Symbol("bar")&&l()}},6858:Be=>{"use strict";Be.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var A={},I=Symbol("test"),l=Object(I);if("string"==typeof I||"[object Symbol]"!==Object.prototype.toString.call(I)||"[object Symbol]"!==Object.prototype.toString.call(l))return!1;for(I in A[I]=42,A)return!1;if("function"==typeof Object.keys&&0!==Object.keys(A).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(A).length)return!1;var te=Object.getOwnPropertySymbols(A);if(1!==te.length||te[0]!==I||!Object.prototype.propertyIsEnumerable.call(A,I))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var z=Object.getOwnPropertyDescriptor(A,I);if(42!==z.value||!0!==z.enumerable)return!1}return!0}},3261:(Be,We,A)=>{"use strict";var I=A(6858);Be.exports=function(){return I()&&!!Symbol.toStringTag}},4031:(Be,We,A)=>{"use strict";var I=A(224);Be.exports=I.call(Function.call,Object.prototype.hasOwnProperty)},5847:(Be,We,A)=>{"use strict";var I=A(9903),l=A(4031),re=A(8432)(),te=I("%TypeError%"),z={assert:function(Q,L){if(!Q||"object"!=typeof Q&&"function"!=typeof Q)throw new te("`O` is not an object");if("string"!=typeof L)throw new te("`slot` must be a string");if(re.assert(Q),!z.has(Q,L))throw new te("`slot` is not present on `O`")},get:function(Q,L){if(!Q||"object"!=typeof Q&&"function"!=typeof Q)throw new te("`O` is not an object");if("string"!=typeof L)throw new te("`slot` must be a string");var V=re.get(Q);return V&&V["$"+L]},has:function(Q,L){if(!Q||"object"!=typeof Q&&"function"!=typeof Q)throw new te("`O` is not an object");if("string"!=typeof L)throw new te("`slot` must be a string");var V=re.get(Q);return!!V&&l(V,"$"+L)},set:function(Q,L,V){if(!Q||"object"!=typeof Q&&"function"!=typeof Q)throw new te("`O` is not an object");if("string"!=typeof L)throw new te("`slot` must be a string");var ue=re.get(Q);ue||re.set(Q,ue={}),ue["$"+L]=V}};Object.freeze&&Object.freeze(z),Be.exports=z},9102:(Be,We,A)=>{"use strict";var I=A(3261)(),re=A(4263)("Object.prototype.toString"),te=function(V){return!(I&&V&&"object"==typeof V&&Symbol.toStringTag in V)&&"[object Arguments]"===re(V)},z=function(V){return!!te(V)||null!==V&&"object"==typeof V&&"number"==typeof V.length&&V.length>=0&&"[object Array]"!==re(V)&&"[object Function]"===re(V.callee)},Q=function(){return te(arguments)}();te.isLegacyArguments=z,Be.exports=Q?te:z},2805:(Be,We,A)=>{"use strict";var I=A(3855),l=A(4263),re=A(9903),te=A(7673),z=re("ArrayBuffer",!0),Q=re("Float32Array",!0),L=l("ArrayBuffer.prototype.byteLength",!0),V=z&&!L&&(new z).slice,ue=V&&I(V);Be.exports=L||ue?function(ie){if(!ie||"object"!=typeof ie)return!1;try{return L?L(ie):ue(ie,0),!0}catch{return!1}}:Q?function(ie){try{return new Q(ie).buffer===ie&&!te(ie)}catch{return!1}}:function(ie){return!1}},3:(Be,We,A)=>{"use strict";if(A(5861)()){var l=BigInt.prototype.valueOf;Be.exports=function(z){return!(null===z||typeof z>"u"||"boolean"==typeof z||"string"==typeof z||"number"==typeof z||"symbol"==typeof z||"function"==typeof z)&&("bigint"==typeof z||function(z){try{return l.call(z),!0}catch{}return!1}(z))}}else Be.exports=function(z){return!1}},6180:(Be,We,A)=>{"use strict";var I=A(4263),l=I("Boolean.prototype.toString"),re=I("Object.prototype.toString"),Q=A(3261)();Be.exports=function(V){return"boolean"==typeof V||null!==V&&"object"==typeof V&&(Q&&Symbol.toStringTag in V?function(V){try{return l(V),!0}catch{return!1}}(V):"[object Boolean]"===re(V))}},5057:Be=>{function We(I){return!!I.constructor&&"function"==typeof I.constructor.isBuffer&&I.constructor.isBuffer(I)}Be.exports=function(I){return null!=I&&(We(I)||function A(I){return"function"==typeof I.readFloatLE&&"function"==typeof I.slice&&We(I.slice(0,0))}(I)||!!I._isBuffer)}},8642:Be=>{"use strict";var I,l,We=Function.prototype.toString,A="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof A&&"function"==typeof Object.defineProperty)try{I=Object.defineProperty({},"length",{get:function(){throw l}}),l={},A(function(){throw 42},null,I)}catch(he){he!==l&&(A=null)}else A=null;var re=/^\s*class\b/,te=function(Z){try{var K=We.call(Z);return re.test(K)}catch{return!1}},z=function(Z){try{return!te(Z)&&(We.call(Z),!0)}catch{return!1}},Q=Object.prototype.toString,$="function"==typeof Symbol&&!!Symbol.toStringTag,j=!(0 in[,]),Pe=function(){return!1};if("object"==typeof document){var $e=document.all;Q.call($e)===Q.call(document.all)&&(Pe=function(Z){if((j||!Z)&&(typeof Z>"u"||"object"==typeof Z))try{var K=Q.call(Z);return("[object HTMLAllCollection]"===K||"[object HTML document.all class]"===K||"[object HTMLCollection]"===K||"[object Object]"===K)&&null==Z("")}catch{}return!1})}Be.exports=A?function(Z){if(Pe(Z))return!0;if(!Z||"function"!=typeof Z&&"object"!=typeof Z)return!1;try{A(Z,null,I)}catch(K){if(K!==l)return!1}return!te(Z)&&z(Z)}:function(Z){if(Pe(Z))return!0;if(!Z||"function"!=typeof Z&&"object"!=typeof Z)return!1;if($)return z(Z);if(te(Z))return!1;var K=Q.call(Z);return!("[object Function]"!==K&&"[object GeneratorFunction]"!==K&&!/^\[object HTML/.test(K))&&z(Z)}},4666:(Be,We,A)=>{"use strict";var I=Date.prototype.getDay,re=Object.prototype.toString,z=A(3261)();Be.exports=function(L){return"object"==typeof L&&null!==L&&(z?function(L){try{return I.call(L),!0}catch{return!1}}(L):"[object Date]"===re.call(L))}},9898:Be=>{"use strict";var I,We="function"==typeof Map&&Map.prototype?Map:null,A="function"==typeof Set&&Set.prototype?Set:null;We||(I=function(z){return!1});var l=We?Map.prototype.has:null,re=A?Set.prototype.has:null;!I&&!l&&(I=function(z){return!1}),Be.exports=I||function(z){if(!z||"object"!=typeof z)return!1;try{if(l.call(z),re)try{re.call(z)}catch{return!0}return z instanceof We}catch{}return!1}},1046:(Be,We,A)=>{"use strict";var I=Number.prototype.toString,re=Object.prototype.toString,z=A(3261)();Be.exports=function(L){return"number"==typeof L||"object"==typeof L&&(z?function(L){try{return I.call(L),!0}catch{return!1}}(L):"[object Number]"===re.call(L))}},6687:(Be,We,A)=>{"use strict";var re,te,z,Q,I=A(4263),l=A(3261)();if(l){re=I("Object.prototype.hasOwnProperty"),te=I("RegExp.prototype.exec"),z={};var L=function(){throw z};Q={toString:L,valueOf:L},"symbol"==typeof Symbol.toPrimitive&&(Q[Symbol.toPrimitive]=L)}var V=I("Object.prototype.toString"),ue=Object.getOwnPropertyDescriptor;Be.exports=l?function(B){if(!B||"object"!=typeof B)return!1;var $=ue(B,"lastIndex");if(!$||!re($,"value"))return!1;try{te(B,Q)}catch(Pe){return Pe===z}}:function(B){return!(!B||"object"!=typeof B&&"function"!=typeof B)&&"[object RegExp]"===V(B)}},3870:Be=>{"use strict";var I,We="function"==typeof Map&&Map.prototype?Map:null,A="function"==typeof Set&&Set.prototype?Set:null;A||(I=function(z){return!1});var l=We?Map.prototype.has:null,re=A?Set.prototype.has:null;!I&&!re&&(I=function(z){return!1}),Be.exports=I||function(z){if(!z||"object"!=typeof z)return!1;try{if(re.call(z),l)try{l.call(z)}catch{return!0}return z instanceof A}catch{}return!1}},3163:(Be,We,A)=>{"use strict";var l=A(4263)("SharedArrayBuffer.prototype.byteLength",!0);Be.exports=l?function(te){if(!te||"object"!=typeof te)return!1;try{return l(te),!0}catch{return!1}}:function(te){return!1}},4764:(Be,We,A)=>{"use strict";var I=String.prototype.valueOf,re=Object.prototype.toString,z=A(3261)();Be.exports=function(L){return"string"==typeof L||"object"==typeof L&&(z?function(L){try{return I.call(L),!0}catch{return!1}}(L):"[object String]"===re.call(L))}},6434:(Be,We,A)=>{"use strict";var I=Object.prototype.toString;if(A(524)()){var re=Symbol.prototype.toString,te=/^Symbol\(.*\)$/;Be.exports=function(L){if("symbol"==typeof L)return!0;if("[object Symbol]"!==I.call(L))return!1;try{return function(L){return"symbol"==typeof L.valueOf()&&te.test(re.call(L))}(L)}catch{return!1}}}else Be.exports=function(L){return!1}},7673:(Be,We,A)=>{"use strict";var I=A(3037),l=A(5271),re=A(4263),te=re("Object.prototype.toString"),z=A(3261)(),Q=A(253),L=typeof globalThis>"u"?global:globalThis,V=l(),ue=re("Array.prototype.indexOf",!0)||function(Pe,$e){for(var he=0;he<Pe.length;he+=1)if(Pe[he]===$e)return he;return-1},X=re("String.prototype.slice"),ie={},B=Object.getPrototypeOf;z&&Q&&B&&I(V,function(j){var Pe=new L[j];if(Symbol.toStringTag in Pe){var $e=B(Pe),he=Q($e,Symbol.toStringTag);if(!he){var Z=B($e);he=Q(Z,Symbol.toStringTag)}ie[j]=he.get}}),Be.exports=function(Pe){if(!Pe||"object"!=typeof Pe)return!1;if(!z||!(Symbol.toStringTag in Pe)){var $e=X(te(Pe),8,-1);return ue(V,$e)>-1}return!!Q&&function(Pe){var $e=!1;return I(ie,function(he,Z){if(!$e)try{$e=he.call(Pe)===Z}catch{}}),$e}(Pe)}},5585:Be=>{"use strict";var I,We="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,A="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;We||(I=function(z){return!1});var l=We?We.prototype.has:null,re=A?A.prototype.has:null;!I&&!l&&(I=function(z){return!1}),Be.exports=I||function(z){if(!z||"object"!=typeof z)return!1;try{if(l.call(z,l),re)try{re.call(z,re)}catch{return!0}return z instanceof We}catch{}return!1}},1902:(Be,We,A)=>{"use strict";var I=A(9903),l=A(4263),re=I("%WeakSet%",!0),te=l("WeakSet.prototype.has",!0);if(te){var z=l("WeakMap.prototype.has",!0);Be.exports=function(L){if(!L||"object"!=typeof L)return!1;try{if(te(L,te),z)try{z(L,z)}catch{return!0}return L instanceof re}catch{}return!1}}else Be.exports=function(L){return!1}},8266:Be=>{var We={}.toString;Be.exports=Array.isArray||function(A){return"[object Array]"==We.call(A)}},5023:(Be,We,A)=>{var I,l,re,te,z;I=A(7175),l=A(5107).utf8,re=A(5057),te=A(5107).bin,(z=function(Q,L){Q.constructor==String?Q=L&&"binary"===L.encoding?te.stringToBytes(Q):l.stringToBytes(Q):re(Q)?Q=Array.prototype.slice.call(Q,0):!Array.isArray(Q)&&Q.constructor!==Uint8Array&&(Q=Q.toString());for(var V=I.bytesToWords(Q),ue=8*Q.length,X=1732584193,ie=-271733879,B=-1732584194,$=271733878,j=0;j<V.length;j++)V[j]=16711935&(V[j]<<8|V[j]>>>24)|4278255360&(V[j]<<24|V[j]>>>8);V[ue>>>5]|=128<<ue%32,V[14+(ue+64>>>9<<4)]=ue;var Pe=z._ff,$e=z._gg,he=z._hh,Z=z._ii;for(j=0;j<V.length;j+=16){var K=X,fe=ie,Fe=B,de=$;X=Pe(X,ie,B,$,V[j+0],7,-680876936),$=Pe($,X,ie,B,V[j+1],12,-389564586),B=Pe(B,$,X,ie,V[j+2],17,606105819),ie=Pe(ie,B,$,X,V[j+3],22,-1044525330),X=Pe(X,ie,B,$,V[j+4],7,-176418897),$=Pe($,X,ie,B,V[j+5],12,1200080426),B=Pe(B,$,X,ie,V[j+6],17,-1473231341),ie=Pe(ie,B,$,X,V[j+7],22,-45705983),X=Pe(X,ie,B,$,V[j+8],7,1770035416),$=Pe($,X,ie,B,V[j+9],12,-1958414417),B=Pe(B,$,X,ie,V[j+10],17,-42063),ie=Pe(ie,B,$,X,V[j+11],22,-1990404162),X=Pe(X,ie,B,$,V[j+12],7,1804603682),$=Pe($,X,ie,B,V[j+13],12,-40341101),B=Pe(B,$,X,ie,V[j+14],17,-1502002290),X=$e(X,ie=Pe(ie,B,$,X,V[j+15],22,1236535329),B,$,V[j+1],5,-165796510),$=$e($,X,ie,B,V[j+6],9,-1069501632),B=$e(B,$,X,ie,V[j+11],14,643717713),ie=$e(ie,B,$,X,V[j+0],20,-373897302),X=$e(X,ie,B,$,V[j+5],5,-701558691),$=$e($,X,ie,B,V[j+10],9,38016083),B=$e(B,$,X,ie,V[j+15],14,-660478335),ie=$e(ie,B,$,X,V[j+4],20,-405537848),X=$e(X,ie,B,$,V[j+9],5,568446438),$=$e($,X,ie,B,V[j+14],9,-1019803690),B=$e(B,$,X,ie,V[j+3],14,-187363961),ie=$e(ie,B,$,X,V[j+8],20,1163531501),X=$e(X,ie,B,$,V[j+13],5,-1444681467),$=$e($,X,ie,B,V[j+2],9,-51403784),B=$e(B,$,X,ie,V[j+7],14,1735328473),X=he(X,ie=$e(ie,B,$,X,V[j+12],20,-1926607734),B,$,V[j+5],4,-378558),$=he($,X,ie,B,V[j+8],11,-2022574463),B=he(B,$,X,ie,V[j+11],16,1839030562),ie=he(ie,B,$,X,V[j+14],23,-35309556),X=he(X,ie,B,$,V[j+1],4,-1530992060),$=he($,X,ie,B,V[j+4],11,1272893353),B=he(B,$,X,ie,V[j+7],16,-155497632),ie=he(ie,B,$,X,V[j+10],23,-1094730640),X=he(X,ie,B,$,V[j+13],4,681279174),$=he($,X,ie,B,V[j+0],11,-358537222),B=he(B,$,X,ie,V[j+3],16,-722521979),ie=he(ie,B,$,X,V[j+6],23,76029189),X=he(X,ie,B,$,V[j+9],4,-640364487),$=he($,X,ie,B,V[j+12],11,-421815835),B=he(B,$,X,ie,V[j+15],16,530742520),X=Z(X,ie=he(ie,B,$,X,V[j+2],23,-995338651),B,$,V[j+0],6,-198630844),$=Z($,X,ie,B,V[j+7],10,1126891415),B=Z(B,$,X,ie,V[j+14],15,-1416354905),ie=Z(ie,B,$,X,V[j+5],21,-57434055),X=Z(X,ie,B,$,V[j+12],6,1700485571),$=Z($,X,ie,B,V[j+3],10,-1894986606),B=Z(B,$,X,ie,V[j+10],15,-1051523),ie=Z(ie,B,$,X,V[j+1],21,-2054922799),X=Z(X,ie,B,$,V[j+8],6,1873313359),$=Z($,X,ie,B,V[j+15],10,-30611744),B=Z(B,$,X,ie,V[j+6],15,-1560198380),ie=Z(ie,B,$,X,V[j+13],21,1309151649),X=Z(X,ie,B,$,V[j+4],6,-145523070),$=Z($,X,ie,B,V[j+11],10,-1120210379),B=Z(B,$,X,ie,V[j+2],15,718787259),ie=Z(ie,B,$,X,V[j+9],21,-343485551),X=X+K>>>0,ie=ie+fe>>>0,B=B+Fe>>>0,$=$+de>>>0}return I.endian([X,ie,B,$])})._ff=function(Q,L,V,ue,X,ie,B){var $=Q+(L&V|~L&ue)+(X>>>0)+B;return($<<ie|$>>>32-ie)+L},z._gg=function(Q,L,V,ue,X,ie,B){var $=Q+(L&ue|V&~ue)+(X>>>0)+B;return($<<ie|$>>>32-ie)+L},z._hh=function(Q,L,V,ue,X,ie,B){var $=Q+(L^V^ue)+(X>>>0)+B;return($<<ie|$>>>32-ie)+L},z._ii=function(Q,L,V,ue,X,ie,B){var $=Q+(V^(L|~ue))+(X>>>0)+B;return($<<ie|$>>>32-ie)+L},z._blocksize=16,z._digestsize=16,Be.exports=function(Q,L){if(null==Q)throw new Error("Illegal argument "+Q);var V=I.wordsToBytes(z(Q,L));return L&&L.asBytes?V:L&&L.asString?te.bytesToString(V):I.bytesToHex(V)}},9052:(Be,We)=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});var A=[];A[0]=function(){return function(){}},A[1]=function(te,z){return typeof z>"u"?te:function(L){te(L,z)}};var re=function(){function te(){this.hasHandlers=!1,this._handlers=[],this._contexts=[],this._createDispatcher()}return te.prototype.addHandler=function(z,Q){return this.isHandlerAttached(z,Q)||(this._handlers.push(z),this._contexts.push(Q),this._createDispatcher(),this._updateHasHandlers()),this},te.prototype.removeHandler=function(z,Q){var L=this._getHandlerIndex(z,Q);return typeof L<"u"&&(this._handlers.splice(L,1),this._contexts.splice(L,1),this._createDispatcher(),this._updateHasHandlers()),this},te.prototype.isHandlerAttached=function(z,Q){return typeof this._getHandlerIndex(z,Q)<"u"},te.prototype._updateHasHandlers=function(){this.hasHandlers=!!this._handlers.length},te.prototype._getHandlerIndex=function(z,Q){var V,L=this._handlers.length;for(V=0;V<L&&(this._handlers[V]!==z||this._contexts[V]!==Q);V++);return V<L?V:void 0},te.prototype._createDispatcher=function(){this.dispatch=function I(te){return A[te]||(A[te]=function l(te){for(var z="return function dispatcher"+te+"(payload) {\n",Q=[],L=[],V=0;V<te;V++)Q.push("cb"+V),L.push("ctx"+V),z+="    cb"+V+"(payload, ctx"+V+");\n";return z+="};",new(Function.bind.apply(Function,[void 0].concat(Q.concat(L),[z])))}(te)),A[te]}(this._handlers.length).apply(this,this._handlers.concat(this._contexts))},te}();We.default=re},1158:(Be,We,A)=>{"use strict";var l=A(9052);We.j=l.default},8597:(Be,We,A)=>{var I="function"==typeof Map&&Map.prototype,l=Object.getOwnPropertyDescriptor&&I?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,re=I&&l&&"function"==typeof l.get?l.get:null,te=I&&Map.prototype.forEach,z="function"==typeof Set&&Set.prototype,Q=Object.getOwnPropertyDescriptor&&z?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,L=z&&Q&&"function"==typeof Q.get?Q.get:null,V=z&&Set.prototype.forEach,X="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,B="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,j="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,Pe=Boolean.prototype.valueOf,$e=Object.prototype.toString,he=Function.prototype.toString,Z=String.prototype.match,K=String.prototype.slice,fe=String.prototype.replace,Fe=String.prototype.toUpperCase,de=String.prototype.toLowerCase,it=RegExp.prototype.test,ce=Array.prototype.concat,be=Array.prototype.join,Ie=Array.prototype.slice,Xe=Math.floor,Oe="function"==typeof BigInt?BigInt.prototype.valueOf:null,Me=Object.getOwnPropertySymbols,ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,Ue="function"==typeof Symbol&&"object"==typeof Symbol.iterator,Qe="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,yt=Object.prototype.propertyIsEnumerable,fn=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(le){return le.__proto__}:null);function Ze(le,ze){if(le===1/0||le===-1/0||le!=le||le&&le>-1e3&&le<1e3||it.call(/e/,ze))return ze;var Fn=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof le){var Bn=le<0?-Xe(-le):Xe(le);if(Bn!==le){var qt=String(Bn),Ft=K.call(ze,qt.length+1);return fe.call(qt,Fn,"$&_")+"."+fe.call(fe.call(Ft,/([0-9]{3})/g,"$&_"),/_$/,"")}}return fe.call(ze,Fn,"$&_")}var O=A(4654),ge=O.custom,tt=rn(ge)?ge:null;function nt(le,ze,Fn){var Bn="double"===(Fn.quoteStyle||ze)?'"':"'";return Bn+le+Bn}function Ve(le){return fe.call(String(le),/"/g,"&quot;")}function q(le){return!("[object Array]"!==Qn(le)||Qe&&"object"==typeof le&&Qe in le)}function ft(le){return!("[object RegExp]"!==Qn(le)||Qe&&"object"==typeof le&&Qe in le)}function rn(le){if(Ue)return le&&"object"==typeof le&&le instanceof Symbol;if("symbol"==typeof le)return!0;if(!le||"object"!=typeof le||!ne)return!1;try{return ne.call(le),!0}catch{}return!1}Be.exports=function le(ze,Fn,Bn,qt){var Ft=Fn||{};if(_r(Ft,"quoteStyle")&&"single"!==Ft.quoteStyle&&"double"!==Ft.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(_r(Ft,"maxStringLength")&&("number"==typeof Ft.maxStringLength?Ft.maxStringLength<0&&Ft.maxStringLength!==1/0:null!==Ft.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var br=!_r(Ft,"customInspect")||Ft.customInspect;if("boolean"!=typeof br&&"symbol"!==br)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(_r(Ft,"indent")&&null!==Ft.indent&&"\t"!==Ft.indent&&!(parseInt(Ft.indent,10)===Ft.indent&&Ft.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(_r(Ft,"numericSeparator")&&"boolean"!=typeof Ft.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var en=Ft.numericSeparator;if(typeof ze>"u")return"undefined";if(null===ze)return"null";if("boolean"==typeof ze)return ze?"true":"false";if("string"==typeof ze)return Lr(ze,Ft);if("number"==typeof ze){if(0===ze)return 1/0/ze>0?"0":"-0";var Jn=String(ze);return en?Ze(ze,Jn):Jn}if("bigint"==typeof ze){var er=String(ze)+"n";return en?Ze(ze,er):er}var un=typeof Ft.depth>"u"?5:Ft.depth;if(typeof Bn>"u"&&(Bn=0),Bn>=un&&un>0&&"object"==typeof ze)return q(ze)?"[Array]":"[Object]";var Ht=function os(le,ze){var Fn;if("\t"===le.indent)Fn="\t";else{if(!("number"==typeof le.indent&&le.indent>0))return null;Fn=be.call(Array(le.indent+1)," ")}return{base:Fn,prev:be.call(Array(ze+1),Fn)}}(Ft,Bn);if(typeof qt>"u")qt=[];else if(Jr(qt,ze)>=0)return"[Circular]";function E(pi,oi,Io){if(oi&&(qt=Ie.call(qt)).push(oi),Io){var Xr={depth:Ft.depth};return _r(Ft,"quoteStyle")&&(Xr.quoteStyle=Ft.quoteStyle),le(pi,Xr,Bn+1,qt)}return le(pi,Ft,Bn+1,qt)}if("function"==typeof ze&&!ft(ze)){var S=function Ho(le){if(le.name)return le.name;var ze=Z.call(he.call(le),/^function\s*([\w$]+)/);return ze?ze[1]:null}(ze),Kn=lt(ze,E);return"[Function"+(S?": "+S:" (anonymous)")+"]"+(Kn.length>0?" { "+be.call(Kn,", ")+" }":"")}if(rn(ze)){var D=Ue?fe.call(String(ze),/^(Symbol\(.*\))_[^)]*$/,"$1"):ne.call(ze);return"object"!=typeof ze||Ue?D:Gr(D)}if(function Yr(le){return!(!le||"object"!=typeof le)&&(typeof HTMLElement<"u"&&le instanceof HTMLElement||"string"==typeof le.nodeName&&"function"==typeof le.getAttribute)}(ze)){for(var On="<"+de.call(String(ze.nodeName)),Go=ze.attributes||[],ri=0;ri<Go.length;ri++)On+=" "+Go[ri].name+"="+nt(Ve(Go[ri].value),"double",Ft);return On+=">",ze.childNodes&&ze.childNodes.length&&(On+="..."),On+"</"+de.call(String(ze.nodeName))+">"}if(q(ze)){if(0===ze.length)return"[]";var Do=lt(ze,E);return Ht&&!function eo(le){for(var ze=0;ze<le.length;ze++)if(Jr(le[ze],"\n")>=0)return!1;return!0}(Do)?"["+zr(Do,Ht)+"]":"[ "+be.call(Do,", ")+" ]"}if(function Ae(le){return!("[object Error]"!==Qn(le)||Qe&&"object"==typeof le&&Qe in le)}(ze)){var $i=lt(ze,E);return"cause"in Error.prototype||!("cause"in ze)||yt.call(ze,"cause")?0===$i.length?"["+String(ze)+"]":"{ ["+String(ze)+"] "+be.call($i,", ")+" }":"{ ["+String(ze)+"] "+be.call(ce.call("[cause]: "+E(ze.cause),$i),", ")+" }"}if("object"==typeof ze&&br){if(tt&&"function"==typeof ze[tt]&&O)return O(ze,{depth:un-Bn});if("symbol"!==br&&"function"==typeof ze.inspect)return ze.inspect()}if(function Ei(le){if(!re||!le||"object"!=typeof le)return!1;try{re.call(le);try{L.call(le)}catch{return!0}return le instanceof Map}catch{}return!1}(ze)){var zo=[];return te&&te.call(ze,function(pi,oi){zo.push(E(oi,ze,!0)+" => "+E(pi,ze))}),gn("Map",re.call(ze),zo,Ht)}if(function Un(le){if(!L||!le||"object"!=typeof le)return!1;try{L.call(le);try{re.call(le)}catch{return!0}return le instanceof Set}catch{}return!1}(ze)){var Ii=[];return V&&V.call(ze,function(pi){Ii.push(E(pi,ze))}),gn("Set",L.call(ze),Ii,Ht)}if(function Rn(le){if(!X||!le||"object"!=typeof le)return!1;try{X.call(le,X);try{B.call(le,B)}catch{return!0}return le instanceof WeakMap}catch{}return!1}(ze))return oo("WeakMap");if(function Di(le){if(!B||!le||"object"!=typeof le)return!1;try{B.call(le,B);try{X.call(le,X)}catch{return!0}return le instanceof WeakSet}catch{}return!1}(ze))return oo("WeakSet");if(function yo(le){if(!j||!le||"object"!=typeof le)return!1;try{return j.call(le),!0}catch{}return!1}(ze))return oo("WeakRef");if(function cn(le){return!("[object Number]"!==Qn(le)||Qe&&"object"==typeof le&&Qe in le)}(ze))return Gr(E(Number(ze)));if(function H(le){if(!le||"object"!=typeof le||!Oe)return!1;try{return Oe.call(le),!0}catch{}return!1}(ze))return Gr(E(Oe.call(ze)));if(function Jt(le){return!("[object Boolean]"!==Qn(le)||Qe&&"object"==typeof le&&Qe in le)}(ze))return Gr(Pe.call(ze));if(function At(le){return!("[object String]"!==Qn(le)||Qe&&"object"==typeof le&&Qe in le)}(ze))return Gr(E(String(ze)));if(!function ye(le){return!("[object Date]"!==Qn(le)||Qe&&"object"==typeof le&&Qe in le)}(ze)&&!ft(ze)){var ki=lt(ze,E),io=fn?fn(ze)===Object.prototype:ze instanceof Object||ze.constructor===Object,Wo=ze instanceof Object?"":"null prototype",Cr=!io&&Qe&&Object(ze)===ze&&Qe in ze?K.call(Qn(ze),8,-1):Wo?"Object":"",to=(io||"function"!=typeof ze.constructor?"":ze.constructor.name?ze.constructor.name+" ":"")+(Cr||Wo?"["+be.call(ce.call([],Cr||[],Wo||[]),": ")+"] ":"");return 0===ki.length?to+"{}":Ht?to+"{"+zr(ki,Ht)+"}":to+"{ "+be.call(ki,", ")+" }"}return String(ze)};var Cn=Object.prototype.hasOwnProperty||function(le){return le in this};function _r(le,ze){return Cn.call(le,ze)}function Qn(le){return $e.call(le)}function Jr(le,ze){if(le.indexOf)return le.indexOf(ze);for(var Fn=0,Bn=le.length;Fn<Bn;Fn++)if(le[Fn]===ze)return Fn;return-1}function Lr(le,ze){if(le.length>ze.maxStringLength){var Fn=le.length-ze.maxStringLength,Bn="... "+Fn+" more character"+(Fn>1?"s":"");return Lr(K.call(le,0,ze.maxStringLength),ze)+Bn}return nt(fe.call(fe.call(le,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,ar),"single",ze)}function ar(le){var ze=le.charCodeAt(0),Fn={8:"b",9:"t",10:"n",12:"f",13:"r"}[ze];return Fn?"\\"+Fn:"\\x"+(ze<16?"0":"")+Fe.call(ze.toString(16))}function Gr(le){return"Object("+le+")"}function oo(le){return le+" { ? }"}function gn(le,ze,Fn,Bn){return le+" ("+ze+") {"+(Bn?zr(Fn,Bn):be.call(Fn,", "))+"}"}function zr(le,ze){if(0===le.length)return"";var Fn="\n"+ze.prev+ze.base;return Fn+be.call(le,","+Fn)+"\n"+ze.prev}function lt(le,ze){var Fn=q(le),Bn=[];if(Fn){Bn.length=le.length;for(var qt=0;qt<le.length;qt++)Bn[qt]=_r(le,qt)?ze(le[qt],le):""}var br,Ft="function"==typeof Me?Me(le):[];if(Ue){br={};for(var en=0;en<Ft.length;en++)br["$"+Ft[en]]=Ft[en]}for(var Jn in le)_r(le,Jn)&&(Fn&&String(Number(Jn))===Jn&&Jn<le.length||Ue&&br["$"+Jn]instanceof Symbol||(it.call(/[^\w$]/,Jn)?Bn.push(ze(Jn,le)+": "+ze(le[Jn],le)):Bn.push(Jn+": "+ze(le[Jn],le))));if("function"==typeof Me)for(var er=0;er<Ft.length;er++)yt.call(le,Ft[er])&&Bn.push("["+ze(Ft[er])+"]: "+ze(le[Ft[er]],le));return Bn}},6872:Be=>{"use strict";var We=function(A){return A!=A};Be.exports=function(I,l){return 0===I&&0===l?1/I==1/l:!!(I===l||We(I)&&We(l))}},5734:(Be,We,A)=>{"use strict";var I=A(1790),l=A(3855),re=A(6872),te=A(3306),z=A(7715),Q=l(te(),Object);I(Q,{getPolyfill:te,implementation:re,shim:z}),Be.exports=Q},3306:(Be,We,A)=>{"use strict";var I=A(6872);Be.exports=function(){return"function"==typeof Object.is?Object.is:I}},7715:(Be,We,A)=>{"use strict";var I=A(3306),l=A(1790);Be.exports=function(){var te=I();return l(Object,{is:te},{is:function(){return Object.is!==te}}),te}},7010:(Be,We,A)=>{"use strict";var I;if(!Object.keys){var l=Object.prototype.hasOwnProperty,re=Object.prototype.toString,te=A(5185),z=Object.prototype.propertyIsEnumerable,Q=!z.call({toString:null},"toString"),L=z.call(function(){},"prototype"),V=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],ue=function($){var j=$.constructor;return j&&j.prototype===$},X={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},ie=function(){if(typeof window>"u")return!1;for(var $ in window)try{if(!X["$"+$]&&l.call(window,$)&&null!==window[$]&&"object"==typeof window[$])try{ue(window[$])}catch{return!0}}catch{return!0}return!1}();I=function(j){var Pe=null!==j&&"object"==typeof j,$e="[object Function]"===re.call(j),he=te(j),Z=Pe&&"[object String]"===re.call(j),K=[];if(!Pe&&!$e&&!he)throw new TypeError("Object.keys called on a non-object");var fe=L&&$e;if(Z&&j.length>0&&!l.call(j,0))for(var Fe=0;Fe<j.length;++Fe)K.push(String(Fe));if(he&&j.length>0)for(var de=0;de<j.length;++de)K.push(String(de));else for(var it in j)(!fe||"prototype"!==it)&&l.call(j,it)&&K.push(String(it));if(Q)for(var ce=function($){if(typeof window>"u"||!ie)return ue($);try{return ue($)}catch{return!1}}(j),be=0;be<V.length;++be)(!ce||"constructor"!==V[be])&&l.call(j,V[be])&&K.push(V[be]);return K}}Be.exports=I},2093:(Be,We,A)=>{"use strict";var I=Array.prototype.slice,l=A(5185),re=Object.keys,te=re?function(L){return re(L)}:A(7010),z=Object.keys;te.shim=function(){if(Object.keys){var L=function(){var V=Object.keys(arguments);return V&&V.length===arguments.length}(1,2);L||(Object.keys=function(ue){return l(ue)?z(I.call(ue)):z(ue)})}else Object.keys=te;return Object.keys||te},Be.exports=te},5185:Be=>{"use strict";var We=Object.prototype.toString;Be.exports=function(I){var l=We.call(I),re="[object Arguments]"===l;return re||(re="[object Array]"!==l&&null!==I&&"object"==typeof I&&"number"==typeof I.length&&I.length>=0&&"[object Function]"===We.call(I.callee)),re}},2461:(Be,We,A)=>{"use strict";var I=A(2093),l=A(6858)(),re=A(4263),te=Object,z=re("Array.prototype.push"),Q=re("Object.prototype.propertyIsEnumerable"),L=l?Object.getOwnPropertySymbols:null;Be.exports=function(ue,X){if(null==ue)throw new TypeError("target must be an object");var ie=te(ue);if(1===arguments.length)return ie;for(var B=1;B<arguments.length;++B){var $=te(arguments[B]),j=I($),Pe=l&&(Object.getOwnPropertySymbols||L);if(Pe)for(var $e=Pe($),he=0;he<$e.length;++he){var Z=$e[he];Q($,Z)&&z(j,Z)}for(var K=0;K<j.length;++K){var fe=j[K];if(Q($,fe)){var Fe=$[fe];ie[fe]=Fe}}}return ie}},6189:(Be,We,A)=>{"use strict";var I=A(1790),l=A(3855),re=A(2461),te=A(6255),z=A(152),Q=l.apply(te()),L=function(ue,X){return Q(Object,arguments)};I(L,{getPolyfill:te,implementation:re,shim:z}),Be.exports=L},6255:(Be,We,A)=>{"use strict";var I=A(2461);Be.exports=function(){return!Object.assign||function(){if(!Object.assign)return!1;for(var te="abcdefghijklmnopqrst",z=te.split(""),Q={},L=0;L<z.length;++L)Q[z[L]]=z[L];var V=Object.assign({},Q),ue="";for(var X in V)ue+=X;return te!==ue}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var te=Object.preventExtensions({1:2});try{Object.assign(te,"xy")}catch{return"y"===te[1]}return!1}()?I:Object.assign}},152:(Be,We,A)=>{"use strict";var I=A(1790),l=A(6255);Be.exports=function(){var te=l();return I(Object,{assign:te},{assign:function(){return Object.assign!==te}}),te}},151:(Be,We)=>{"use strict";var A=Object.prototype.hasOwnProperty;function l(Q){try{return decodeURIComponent(Q.replace(/\+/g," "))}catch{return null}}function re(Q){try{return encodeURIComponent(Q)}catch{return null}}We.stringify=function z(Q,L){L=L||"";var ue,X,V=[];for(X in"string"!=typeof L&&(L="?"),Q)if(A.call(Q,X)){if(!(ue=Q[X])&&(null==ue||isNaN(ue))&&(ue=""),X=re(X),ue=re(ue),null===X||null===ue)continue;V.push(X+"="+ue)}return V.length?L+V.join("&"):""},We.parse=function te(Q){for(var ue,L=/([^=?#&]+)=?([^&]*)/g,V={};ue=L.exec(Q);){var X=l(ue[1]),ie=l(ue[2]);null===X||null===ie||X in V||(V[X]=ie)}return V}},4040:(Be,We,A)=>{"use strict";var I=A(3677).functionsHaveConfigurableNames(),l=Object,re=TypeError;Be.exports=function(){if(null!=this&&this!==l(this))throw new re("RegExp.prototype.flags getter called on non-object");var z="";return this.hasIndices&&(z+="d"),this.global&&(z+="g"),this.ignoreCase&&(z+="i"),this.multiline&&(z+="m"),this.dotAll&&(z+="s"),this.unicode&&(z+="u"),this.sticky&&(z+="y"),z},I&&Object.defineProperty&&Object.defineProperty(Be.exports,"name",{value:"get flags"})},8704:(Be,We,A)=>{"use strict";var I=A(1790),l=A(3855),re=A(4040),te=A(9783),z=A(9369),Q=l(te());I(Q,{getPolyfill:te,implementation:re,shim:z}),Be.exports=Q},9783:(Be,We,A)=>{"use strict";var I=A(4040),l=A(1790).supportsDescriptors,re=Object.getOwnPropertyDescriptor;Be.exports=function(){if(l&&"gim"===/a/gim.flags){var z=re(RegExp.prototype,"flags");if(z&&"function"==typeof z.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var Q="",L={};if(Object.defineProperty(L,"hasIndices",{get:function(){Q+="d"}}),Object.defineProperty(L,"sticky",{get:function(){Q+="y"}}),"dy"===Q)return z.get}}return I}},9369:(Be,We,A)=>{"use strict";var I=A(1790).supportsDescriptors,l=A(9783),re=Object.getOwnPropertyDescriptor,te=Object.defineProperty,z=TypeError,Q=Object.getPrototypeOf,L=/a/;Be.exports=function(){if(!I||!Q)throw new z("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var ue=l(),X=Q(L),ie=re(X,"flags");return(!ie||ie.get!==ue)&&te(X,"flags",{configurable:!0,enumerable:!1,get:ue}),ue}},47:Be=>{"use strict";Be.exports=function(A,I){if(I=I.split(":")[0],!(A=+A))return!1;switch(I){case"http":case"ws":return 80!==A;case"https":case"wss":return 443!==A;case"ftp":return 21!==A;case"gopher":return 70!==A;case"file":return!1}return 0!==A}},8432:(Be,We,A)=>{"use strict";var I=A(9903),l=A(4263),re=A(8597),te=I("%TypeError%"),z=I("%WeakMap%",!0),Q=I("%Map%",!0),L=l("WeakMap.prototype.get",!0),V=l("WeakMap.prototype.set",!0),ue=l("WeakMap.prototype.has",!0),X=l("Map.prototype.get",!0),ie=l("Map.prototype.set",!0),B=l("Map.prototype.has",!0),$=function(he,Z){for(var fe,K=he;null!==(fe=K.next);K=fe)if(fe.key===Z)return K.next=fe.next,fe.next=he.next,he.next=fe,fe};Be.exports=function(){var Z,K,fe,Fe={assert:function(de){if(!Fe.has(de))throw new te("Side channel does not contain "+re(de))},get:function(de){if(z&&de&&("object"==typeof de||"function"==typeof de)){if(Z)return L(Z,de)}else if(Q){if(K)return X(K,de)}else if(fe)return function(he,Z){var K=$(he,Z);return K&&K.value}(fe,de)},has:function(de){if(z&&de&&("object"==typeof de||"function"==typeof de)){if(Z)return ue(Z,de)}else if(Q){if(K)return B(K,de)}else if(fe)return function(he,Z){return!!$(he,Z)}(fe,de);return!1},set:function(de,it){z&&de&&("object"==typeof de||"function"==typeof de)?(Z||(Z=new z),V(Z,de,it)):Q?(K||(K=new Q),ie(K,de,it)):(fe||(fe={key:{},next:null}),function(he,Z,K){var fe=$(he,Z);fe?fe.value=K:he.next={key:Z,next:he.next,value:K}}(fe,de,it))}};return Fe}},8519:(Be,We,A)=>{"use strict";var I=A(5847),l=SyntaxError,re="object"==typeof StopIteration?StopIteration:null;Be.exports=function(z){if(!re)throw new l("this environment lacks StopIteration");I.set(z,"[[Done]]",!1);var Q={next:function(){var V=I.get(this,"[[Iterator]]"),ue=I.get(V,"[[Done]]");try{return{done:ue,value:ue?void 0:V.next()}}catch(X){if(I.set(V,"[[Done]]",!0),X!==re)throw X;return{done:!0,value:void 0}}}};return I.set(Q,"[[Iterator]]",z),Q}},9233:(Be,We,A)=>{"use strict";var I=A(47),l=A(151),re=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,te=/[\n\r\t]/g,z=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,Q=/:\d+$/,L=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,V=/^[a-zA-Z]:/;function ue(K){return(K||"").toString().replace(re,"")}var X=[["#","hash"],["?","query"],function(fe,Fe){return $(Fe.protocol)?fe.replace(/\\/g,"/"):fe},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],ie={hash:1,query:1};function B(K){var fe;fe=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ce,de={},it=typeof(K=K||fe.location||{});if("blob:"===K.protocol)de=new $e(unescape(K.pathname),{});else if("string"===it)for(ce in de=new $e(K,{}),ie)delete de[ce];else if("object"===it){for(ce in K)ce in ie||(de[ce]=K[ce]);void 0===de.slashes&&(de.slashes=z.test(K.href))}return de}function $(K){return"file:"===K||"ftp:"===K||"http:"===K||"https:"===K||"ws:"===K||"wss:"===K}function j(K,fe){K=(K=ue(K)).replace(te,""),fe=fe||{};var Ie,Fe=L.exec(K),de=Fe[1]?Fe[1].toLowerCase():"",it=!!Fe[2],ce=!!Fe[3],be=0;return it?ce?(Ie=Fe[2]+Fe[3]+Fe[4],be=Fe[2].length+Fe[3].length):(Ie=Fe[2]+Fe[4],be=Fe[2].length):ce?(Ie=Fe[3]+Fe[4],be=Fe[3].length):Ie=Fe[4],"file:"===de?be>=2&&(Ie=Ie.slice(2)):$(de)?Ie=Fe[4]:de?it&&(Ie=Ie.slice(2)):be>=2&&$(fe.protocol)&&(Ie=Fe[4]),{protocol:de,slashes:it||$(de),slashesCount:be,rest:Ie}}function $e(K,fe,Fe){if(K=(K=ue(K)).replace(te,""),!(this instanceof $e))return new $e(K,fe,Fe);var de,it,ce,be,Ie,Xe,Oe=X.slice(),Me=typeof fe,ne=this,Ue=0;for("object"!==Me&&"string"!==Me&&(Fe=fe,fe=null),Fe&&"function"!=typeof Fe&&(Fe=l.parse),de=!(it=j(K||"",fe=B(fe))).protocol&&!it.slashes,ne.slashes=it.slashes||de&&fe.slashes,ne.protocol=it.protocol||fe.protocol||"",K=it.rest,("file:"===it.protocol&&(2!==it.slashesCount||V.test(K))||!it.slashes&&(it.protocol||it.slashesCount<2||!$(ne.protocol)))&&(Oe[3]=[/(.*)/,"pathname"]);Ue<Oe.length;Ue++)"function"!=typeof(be=Oe[Ue])?(Xe=be[1],(ce=be[0])!=ce?ne[Xe]=K:"string"==typeof ce?~(Ie="@"===ce?K.lastIndexOf(ce):K.indexOf(ce))&&("number"==typeof be[2]?(ne[Xe]=K.slice(0,Ie),K=K.slice(Ie+be[2])):(ne[Xe]=K.slice(Ie),K=K.slice(0,Ie))):(Ie=ce.exec(K))&&(ne[Xe]=Ie[1],K=K.slice(0,Ie.index)),ne[Xe]=ne[Xe]||de&&be[3]&&fe[Xe]||"",be[4]&&(ne[Xe]=ne[Xe].toLowerCase())):K=be(K,ne);Fe&&(ne.query=Fe(ne.query)),de&&fe.slashes&&"/"!==ne.pathname.charAt(0)&&(""!==ne.pathname||""!==fe.pathname)&&(ne.pathname=function Pe(K,fe){if(""===K)return fe;for(var Fe=(fe||"/").split("/").slice(0,-1).concat(K.split("/")),de=Fe.length,it=Fe[de-1],ce=!1,be=0;de--;)"."===Fe[de]?Fe.splice(de,1):".."===Fe[de]?(Fe.splice(de,1),be++):be&&(0===de&&(ce=!0),Fe.splice(de,1),be--);return ce&&Fe.unshift(""),("."===it||".."===it)&&Fe.push(""),Fe.join("/")}(ne.pathname,fe.pathname)),"/"!==ne.pathname.charAt(0)&&$(ne.protocol)&&(ne.pathname="/"+ne.pathname),I(ne.port,ne.protocol)||(ne.host=ne.hostname,ne.port=""),ne.username=ne.password="",ne.auth&&(~(Ie=ne.auth.indexOf(":"))?(ne.username=ne.auth.slice(0,Ie),ne.username=encodeURIComponent(decodeURIComponent(ne.username)),ne.password=ne.auth.slice(Ie+1),ne.password=encodeURIComponent(decodeURIComponent(ne.password))):ne.username=encodeURIComponent(decodeURIComponent(ne.auth)),ne.auth=ne.password?ne.username+":"+ne.password:ne.username),ne.origin="file:"!==ne.protocol&&$(ne.protocol)&&ne.host?ne.protocol+"//"+ne.host:"null",ne.href=ne.toString()}$e.prototype={set:function he(K,fe,Fe){var de=this;switch(K){case"query":"string"==typeof fe&&fe.length&&(fe=(Fe||l.parse)(fe)),de[K]=fe;break;case"port":de[K]=fe,I(fe,de.protocol)?fe&&(de.host=de.hostname+":"+fe):(de.host=de.hostname,de[K]="");break;case"hostname":de[K]=fe,de.port&&(fe+=":"+de.port),de.host=fe;break;case"host":de[K]=fe,Q.test(fe)?(fe=fe.split(":"),de.port=fe.pop(),de.hostname=fe.join(":")):(de.hostname=fe,de.port="");break;case"protocol":de.protocol=fe.toLowerCase(),de.slashes=!Fe;break;case"pathname":case"hash":if(fe){var it="pathname"===K?"/":"#";de[K]=fe.charAt(0)!==it?it+fe:fe}else de[K]=fe;break;case"username":case"password":de[K]=encodeURIComponent(fe);break;case"auth":var ce=fe.indexOf(":");~ce?(de.username=fe.slice(0,ce),de.username=encodeURIComponent(decodeURIComponent(de.username)),de.password=fe.slice(ce+1),de.password=encodeURIComponent(decodeURIComponent(de.password))):de.username=encodeURIComponent(decodeURIComponent(fe))}for(var be=0;be<X.length;be++){var Ie=X[be];Ie[4]&&(de[Ie[1]]=de[Ie[1]].toLowerCase())}return de.auth=de.password?de.username+":"+de.password:de.username,de.origin="file:"!==de.protocol&&$(de.protocol)&&de.host?de.protocol+"//"+de.host:"null",de.href=de.toString(),de},toString:function Z(K){(!K||"function"!=typeof K)&&(K=l.stringify);var fe,Fe=this,de=Fe.host,it=Fe.protocol;it&&":"!==it.charAt(it.length-1)&&(it+=":");var ce=it+(Fe.protocol&&Fe.slashes||$(Fe.protocol)?"//":"");return Fe.username?(ce+=Fe.username,Fe.password&&(ce+=":"+Fe.password),ce+="@"):Fe.password?(ce+=":"+Fe.password,ce+="@"):"file:"!==Fe.protocol&&$(Fe.protocol)&&!de&&"/"!==Fe.pathname&&(ce+="@"),(":"===de[de.length-1]||Q.test(Fe.hostname)&&!Fe.port)&&(de+=":"),ce+=de+Fe.pathname,(fe="object"==typeof Fe.query?K(Fe.query):Fe.query)&&(ce+="?"!==fe.charAt(0)?"?"+fe:fe),Fe.hash&&(ce+=Fe.hash),ce}},$e.extractProtocol=j,$e.location=B,$e.trimLeft=ue,$e.qs=l,Be.exports=$e},2086:(Be,We,A)=>{"use strict";var I=A(4764),l=A(1046),re=A(6180),te=A(6434),z=A(3);Be.exports=function(L){return null==L||"object"!=typeof L&&"function"!=typeof L?null:I(L)?"String":l(L)?"Number":re(L)?"Boolean":te(L)?"Symbol":z(L)?"BigInt":void 0}},5709:(Be,We,A)=>{"use strict";var I=A(3037),l=A(5271),re=A(4263),te=A(253),z=re("Object.prototype.toString"),Q=A(3261)(),L=typeof globalThis>"u"?global:globalThis,V=l(),ue=re("String.prototype.slice"),X={},ie=Object.getPrototypeOf;Q&&te&&ie&&I(V,function(j){if("function"==typeof L[j]){var Pe=new L[j];if(Symbol.toStringTag in Pe){var $e=ie(Pe),he=te($e,Symbol.toStringTag);if(!he){var Z=ie($e);he=te(Z,Symbol.toStringTag)}X[j]=he.get}}});var $=A(7673);Be.exports=function(Pe){return!!$(Pe)&&(Q&&Symbol.toStringTag in Pe?function(Pe){var $e=!1;return I(X,function(he,Z){if(!$e)try{var K=he.call(Pe);K===Z&&($e=K)}catch{}}),$e}(Pe):ue(z(Pe),8,-1))}},863:(Be,We,A)=>{var I={"./ion-accordion_2.entry.js":[79,8592,79],"./ion-action-sheet.entry.js":[5593,8592,5593],"./ion-alert.entry.js":[3225,8592,3225],"./ion-app_8.entry.js":[4812,8592,4017],"./ion-avatar_3.entry.js":[6655,6655],"./ion-back-button.entry.js":[4856,8592,4856],"./ion-backdrop.entry.js":[3059,3059],"./ion-breadcrumb_2.entry.js":[8648,8592,8648],"./ion-button_2.entry.js":[8308,8308],"./ion-card_5.entry.js":[4690,4690],"./ion-checkbox.entry.js":[4090,4090],"./ion-chip.entry.js":[6214,6214],"./ion-col_3.entry.js":[9447,9447],"./ion-datetime-button.entry.js":[7950,5523,7950],"./ion-datetime_3.entry.js":[9689,5523,8592,9689],"./ion-fab_3.entry.js":[8840,8592,8840],"./ion-img.entry.js":[749,749],"./ion-infinite-scroll_2.entry.js":[9667,8592,9544],"./ion-input.entry.js":[3288,8592,3288],"./ion-item-option_3.entry.js":[5473,8592,6108],"./ion-item_8.entry.js":[3634,8592,3634],"./ion-loading.entry.js":[2855,8592,2855],"./ion-menu_3.entry.js":[495,8592,495],"./ion-modal.entry.js":[8737,8592,8737],"./ion-nav_2.entry.js":[9632,8592,9632],"./ion-picker-column-internal.entry.js":[4446,8592,4446],"./ion-picker-internal.entry.js":[2275,2275],"./ion-popover.entry.js":[8050,8592,8050],"./ion-progress-bar.entry.js":[8994,8994],"./ion-radio_2.entry.js":[3592,3592],"./ion-range.entry.js":[5454,8592,5454],"./ion-refresher_2.entry.js":[290,8592,4210],"./ion-reorder_2.entry.js":[2666,8592,8718],"./ion-ripple-effect.entry.js":[4816,4816],"./ion-route_4.entry.js":[5534,5534],"./ion-searchbar.entry.js":[4902,8592,4902],"./ion-segment_2.entry.js":[1938,8592,1938],"./ion-select_3.entry.js":[8179,8179],"./ion-slide_2.entry.js":[668,668],"./ion-spinner.entry.js":[1624,8592,1624],"./ion-split-pane.entry.js":[9989,9989],"./ion-tab-bar_2.entry.js":[8902,8592,8902],"./ion-tab_2.entry.js":[199,8592,199],"./ion-text.entry.js":[8395,8395],"./ion-textarea.entry.js":[6357,6357],"./ion-toast.entry.js":[8268,8592,8268],"./ion-toggle.entry.js":[5269,8592,5269],"./ion-virtual-scroll.entry.js":[2875,2875]};function l(re){if(!A.o(I,re))return Promise.resolve().then(()=>{var Q=new Error("Cannot find module '"+re+"'");throw Q.code="MODULE_NOT_FOUND",Q});var te=I[re],z=te[0];return Promise.all(te.slice(1).map(A.e)).then(()=>A(z))}l.keys=()=>Object.keys(I),l.id=863,Be.exports=l},4654:()=>{},5271:Be=>{"use strict";var We=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],A=typeof globalThis>"u"?global:globalThis;Be.exports=function(){for(var l=[],re=0;re<We.length;re++)"function"==typeof A[We[re]]&&(l[l.length]=We[re]);return l}},2069:(Be,We,A)=>{"use strict";var I=A(9102),l=A(8519);if(A(524)()||A(6858)()){var re=Symbol.iterator;Be.exports=function(Ie){return null!=Ie&&typeof Ie[re]<"u"?Ie[re]():I(Ie)?Array.prototype[re].call(Ie):void 0}}else{var te=A(8266),z=A(4764),Q=A(9903),L=Q("%Map%",!0),V=Q("%Set%",!0),ue=A(4263),X=ue("Array.prototype.push"),ie=ue("String.prototype.charCodeAt"),B=ue("String.prototype.slice"),j=function(Ie){var Xe=0;return{next:function(){var ne,Me=Xe>=Ie.length;return Me||(ne=Ie[Xe],Xe+=1),{done:Me,value:ne}}}},Pe=function(Ie,Xe){if(te(Ie)||I(Ie))return j(Ie);if(z(Ie)){var Oe=0;return{next:function(){var ne=function(Ie,Xe){if(Xe+1>=Ie.length)return Xe+1;var Me=ie(Ie,Xe);if(Me<55296||Me>56319)return Xe+1;var ne=ie(Ie,Xe+1);return ne<56320||ne>57343?Xe+1:Xe+2}(Ie,Oe),Ue=B(Ie,Oe,ne);return Oe=ne,{done:ne>Ie.length,value:Ue}}}}return Xe&&typeof Ie["_es6-shim iterator_"]<"u"?Ie["_es6-shim iterator_"]():void 0};if(L||V){var $e=A(9898),he=A(3870),Z=ue("Map.prototype.forEach",!0),K=ue("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var fe=ue("Map.prototype.iterator",!0),Fe=ue("Set.prototype.iterator",!0);var de=ue("Map.prototype.@@iterator",!0)||ue("Map.prototype._es6-shim iterator_",!0),it=ue("Set.prototype.@@iterator",!0)||ue("Set.prototype._es6-shim iterator_",!0);Be.exports=function(Ie){return function(Ie){if($e(Ie)){if(fe)return l(fe(Ie));if(de)return de(Ie);if(Z){var Xe=[];return Z(Ie,function(Me,ne){X(Xe,[ne,Me])}),j(Xe)}}if(he(Ie)){if(Fe)return l(Fe(Ie));if(it)return it(Ie);if(K){var Oe=[];return K(Ie,function(Me){X(Oe,Me)}),j(Oe)}}}(Ie)||Pe(Ie)}}else Be.exports=function(Ie){if(null!=Ie)return Pe(Ie,!0)}}},2107:(Be,We,A)=>{"use strict";var I=A(9898),l=A(3870),re=A(5585),te=A(1902);Be.exports=function(Q){if(Q&&"object"==typeof Q){if(I(Q))return"Map";if(l(Q))return"Set";if(re(Q))return"WeakMap";if(te(Q))return"WeakSet"}return!1}},3918:(Be,We,A)=>{"use strict";function I(re,te,z,Q,L,V,ue){try{var X=re[V](ue),ie=X.value}catch(B){return void z(B)}X.done?te(ie):Promise.resolve(ie).then(Q,L)}function l(re){return function(){var te=this,z=arguments;return new Promise(function(Q,L){var V=re.apply(te,z);function ue(ie){I(V,Q,L,ue,X,"next",ie)}function X(ie){I(V,Q,L,ue,X,"throw",ie)}ue(void 0)})}}A.d(We,{Z:()=>l})}},Be=>{Be(Be.s=4926)}]);
//# sourceMappingURL=main.e2140f5cf9731da4.js.map