!function(){function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,n){if(!t)return;if("string"==typeof t)return e(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return e(t,n)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{hO9l:function(t,e,i){"use strict";i.r(e),i.d(e,"TabsPageModule",function(){return g});var o=i("ofXK"),a=i("3Pt+"),s=i("TEn/"),c=i("tyNb"),u=i("pEgL"),l=i("fXoL");function h(t,e){var n,i;return t=Math.min(t,u.c/devicePixelRatio),(e=Math.min(e,u.e/devicePixelRatio))/t>u.e/u.c?(i=t,n=t/u.c*u.e):(n=e,i=e/u.e*u.c),n*i}var b,f,d,m=[{path:"tab",component:(b=function(){function t(e){var i=this;n(this,t),this.router=e,this.updateUseSmallUI=function(){var t=!!document.querySelector("html.md"),e=t?56:44;i.useSmallUI=h(window.innerHeight-e-(t?57:51)-6,window.innerWidth-6)<h(window.innerHeight-e-25-6,window.innerWidth-6)},this.useSmallUI=!1,window.addEventListener("resize",this.updateUseSmallUI),this.updateUseSmallUI()}return r(t,[{key:"smallUI",get:function(){return"/tab/emulation"===this.router.url&&this.useSmallUI}}]),t}(),b.\u0275fac=function(t){return new(t||b)(l.Jb(c.g))},b.\u0275cmp=l.Db({type:b,selectors:[["app-tabs"]],decls:19,vars:2,consts:[[1,"overflow-wrapper"],["slot","bottom"],["tab","emulation"],["name","phone-portrait-outline"],["tab","sessions"],["name","albums-outline"],["tab","settings"],["name","cog-outline"],["tab","about"],["name","help-outline"]],template:function(t,e){1&t&&(l.Mb(0,"ion-tabs"),l.Mb(1,"div",0),l.Mb(2,"ion-tab-bar",1),l.Mb(3,"ion-tab-button",2),l.Kb(4,"ion-icon",3),l.Mb(5,"ion-label"),l.hc(6,"Emulator"),l.Lb(),l.Lb(),l.Mb(7,"ion-tab-button",4),l.Kb(8,"ion-icon",5),l.Mb(9,"ion-label"),l.hc(10,"Sessions"),l.Lb(),l.Lb(),l.Mb(11,"ion-tab-button",6),l.Kb(12,"ion-icon",7),l.Mb(13,"ion-label"),l.hc(14,"Settings"),l.Lb(),l.Lb(),l.Mb(15,"ion-tab-button",8),l.Kb(16,"ion-icon",9),l.Mb(17,"ion-label"),l.hc(18,"About"),l.Lb(),l.Lb(),l.Lb(),l.Lb(),l.Lb()),2&t&&(l.zb(2),l.Bb("small-ui",e.smallUI))},directives:[s.u,s.s,s.t,s.h,s.n],styles:["ion-tab-bar[_ngcontent-%COMP%]{min-width:280px}ion-tab-bar.small-ui[_ngcontent-%COMP%]{height:25px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:21px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon.md[_ngcontent-%COMP%]{margin-top:3px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:none}.overflow-wrapper[_ngcontent-%COMP%]{overflow-x:auto}"]}),b),children:[{path:"emulation",loadChildren:function(){return Promise.all([i.e(0),i.e(13)]).then(i.bind(null,"6aA7")).then(function(t){return t.EmulationPageModule})}},{path:"sessions",loadChildren:function(){return Promise.all([i.e(0),i.e(10)]).then(i.bind(null,"/NlI")).then(function(t){return t.SessionsPageModule})}},{path:"settings",loadChildren:function(){return Promise.all([i.e(0),i.e(14)]).then(i.bind(null,"07hj")).then(function(t){return t.SettingsPageModule})}},{path:"about",loadChildren:function(){return Promise.all([i.e(0),i.e(12)]).then(i.bind(null,"Ht3H")).then(function(t){return t.AboutPageModule})}},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}]},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}],p=((d=function t(){n(this,t)}).\u0275fac=function(t){return new(t||d)},d.\u0275mod=l.Hb({type:d}),d.\u0275inj=l.Gb({imports:[[c.i.forChild(m)],c.i]}),d),g=((f=function t(){n(this,t)}).\u0275fac=function(t){return new(t||f)},f.\u0275mod=l.Hb({type:f}),f.\u0275inj=l.Gb({imports:[[s.y,o.b,a.e,p]]}),f)},pEgL:function(e,i,o){"use strict";o.d(i,"d",function(){return b}),o.d(i,"a",function(){return f}),o.d(i,"e",function(){return d}),o.d(i,"c",function(){return m}),o.d(i,"b",function(){return k});var a=o("mrSG"),s=o("z9fa"),c=o("bucj"),u=o("fXoL"),l=c.b[2],h=c.b[0],b=3*devicePixelRatio,f=Math.round(1*b),d=160*b+2*f,m=251*b+2*f;function p(t){return new Promise(function(e,n){var i=new Image;i.onload=function(){return e(i)},i.onerror=function(){return n()},i.src=t})}function g(t){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((n=document.createElement("canvas")).width=160*b,n.height=30*b,i=n.getContext("2d")){e.next=5;break}throw new Error("get a new browser");case 5:return e.t0=i,e.next=8,p(t);case 8:return e.t1=e.sent,e.t2=160*b,e.t3=30*b,e.t0.drawImage.call(e.t0,e.t1,0,0,e.t2,e.t3),e.abrupt("return",n);case 13:case"end":return e.stop()}},e)}))}var v=p("assets/silkscreen-default.svg"),w=p("assets/silkscreen-m515.svg"),x=g("assets/hard-buttons-default.svg"),y=g("assets/hard-buttons-m515.svg"),k=function(){var e=function(){function e(){n(this,e)}return r(e,[{key:"initialize",value:function(t,e){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(i=t.getContext("2d")){n.next=3;break}throw new Error("canvas not supported - get a new browser");case 3:return this.ctx=i,this.session=e,this.fillCanvasRect(0,0,d,m,this.backgroundColor()),n.next=8,this.drawSilkscreen();case 8:return n.next=10,this.drawButtons();case 10:case"end":return n.stop()}},n,this)}))}},{key:"drawSilkscreen",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.ctx){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.silkscreenImage();case 4:e=t.sent,this.fillRect(0,161,160,60,l),this.ctx.imageSmoothingEnabled=!0,this.ctx.imageSmoothingQuality="high",this.ctx.drawImage(e,f,f+161*b,160*b,60*b);case 6:case"end":return t.stop()}},t,this)}))}},{key:"drawStatistics",value:function(e,n){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark(function i(){var r=this;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.ctx,!i.t0){i.next=9;break}return i.next=4,this.drawSilkscreen();case 4:this.ctx.beginPath(),this.fillRect(0,161,160,60,"rgba(255,255,255,0.6)"),this.ctx.font=6*b+"px monospace",this.ctx.fillStyle="black",["Statistics","=========="].concat(t(e?["last snapshot          : ".concat(new Date(e.timestamp).toLocaleTimeString()),"snapshot pages         : ".concat(e.pages),"snapshot time total    : ".concat(e.timeTotal.toFixed(2)," msec"),"snapshot time blocking : ".concat(e.timeBlocking.toFixed(2)," msec")]:[]),t(n?["host speed             : ".concat(n.hostSpeed.toFixed(2),"x"),"emulation speed        : ".concat(n.emulationSpeed.toFixed(2),"x")]:[])).forEach(function(t,e){return r.ctx.fillText(t,f+1*b,f+(168+6*e)*b)});case 9:case"end":return i.stop()}},i,this)}))}},{key:"drawButtons",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.ctx,!e.t0){e.next=17;break}return e.t1=this.ctx,e.next=5,this.buttonsImage();case 5:e.t2=e.sent,e.t3=f,e.t4=f+221*b,e.t5=160*b,e.t6=30*b,e.t1.drawImage.call(e.t1,e.t2,e.t3,e.t4,e.t5,e.t6),t.includes(0)&&this.fillRect(0,221,30,30,"rgba(0,0,0,0.2)"),t.includes(1)&&this.fillRect(30,221,30,30,"rgba(0,0,0,0.2)"),t.includes(2)&&this.fillRect(100,221,30,30,"rgba(0,0,0,0.2)"),t.includes(3)&&this.fillRect(130,221,30,30,"rgba(0,0,0,0.2)"),t.includes(4)&&this.fillRect(60,221,40,15,"rgba(0,0,0,0.2)"),t.includes(5)&&this.fillRect(60,236,40,15,"rgba(0,0,0,0.2)");case 17:case"end":return e.stop()}},e,this)}))}},{key:"drawEmulationCanvas",value:function(t){this.ctx&&(this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(t,f,f,160*b,160*b))}},{key:"fillRect",value:function(t,e,n,i,r){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(f+b*t,f+b*e,b*n,b*i),this.ctx.fillStyle=r,this.ctx.fill())}},{key:"fillCanvasRect",value:function(t,e,n,i,r){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(t,e,n,i),this.ctx.fillStyle=r,this.ctx.fill())}},{key:"silkscreenImage",value:function(){var t;switch(null===(t=this.session)||void 0===t?void 0:t.device){case s.a.m515:return w;default:return v}}},{key:"buttonsImage",value:function(){var t;switch(null===(t=this.session)||void 0===t?void 0:t.device){case s.a.m515:return y;default:return x}}},{key:"backgroundColor",value:function(){var t;switch(null===(t=this.session)||void 0===t?void 0:t.device){case s.a.m515:return"white";default:return h}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=u.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}}])}();
//# sourceMappingURL=11-es5.5bdcafcc392ed0dd645d.js.map