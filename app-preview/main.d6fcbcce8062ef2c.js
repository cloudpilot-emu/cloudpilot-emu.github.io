(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{919:($e,ze,R)=>{"use strict";function E(n){return"function"==typeof n}function l(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const te=l(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function J(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class G{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const i of t)i.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(E(r))try{r()}catch(i){e=i instanceof te?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{B(i)}catch(s){e=e??[],s instanceof te?e=[...e,...s.errors]:e.push(s)}}if(e)throw new te(e)}}add(e){var t;if(e&&e!==this)if(this.closed)B(e);else{if(e instanceof G){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&J(t,e)}remove(e){const{_finalizers:t}=this;t&&J(t,e),e instanceof G&&e._removeParent(this)}}G.EMPTY=(()=>{const n=new G;return n.closed=!0,n})();const Q=G.EMPTY;function N(n){return n instanceof G||n&&"closed"in n&&E(n.remove)&&E(n.add)&&E(n.unsubscribe)}function B(n){E(n)?n():n.unsubscribe()}const se={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Y={setTimeout(n,e,...t){const{delegate:r}=Y;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Y;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function oe(n){Y.setTimeout(()=>{const{onUnhandledError:e}=se;if(!e)throw n;e(n)})}function $(){}const L=Ne("C",void 0,void 0);function Ne(n,e,t){return{kind:n,value:e,error:t}}let de=null;function H(n){if(se.useDeprecatedSynchronousErrorHandling){const e=!de;if(e&&(de={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=de;if(de=null,t)throw r}}else n()}class ce extends G{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,N(e)&&e.add(this)):this.destination=Qe}static create(e,t,r){return new ie(e,t,r)}next(e){this.isStopped?Ke(function Me(n){return Ne("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Ke(function j(n){return Ne("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ke(L,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Te=Function.prototype.bind;function ae(n,e){return Te.call(n,e)}class ot{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){_e(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){_e(r)}else _e(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){_e(t)}}}class ie extends ce{constructor(e,t,r){let o;if(super(),E(e)||!e)o={next:e??void 0,error:t??void 0,complete:r??void 0};else{let i;this&&se.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&ae(e.next,i),error:e.error&&ae(e.error,i),complete:e.complete&&ae(e.complete,i)}):o=e}this.destination=new ot(o)}}function _e(n){se.useDeprecatedSynchronousErrorHandling?function q(n){se.useDeprecatedSynchronousErrorHandling&&de&&(de.errorThrown=!0,de.error=n)}(n):oe(n)}function Ke(n,e){const{onStoppedNotification:t}=se;t&&Y.setTimeout(()=>t(n,e))}const Qe={closed:!0,next:$,error:function ue(n){throw n},complete:$},Ae="function"==typeof Symbol&&Symbol.observable||"@@observable";function k(n){return n}function mt(n){return 0===n.length?k:1===n.length?n[0]:function(t){return n.reduce((r,o)=>o(r),t)}}let Ct=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,o){const i=function Ee(n){return n&&n instanceof ce||function Be(n){return n&&E(n.next)&&E(n.error)&&E(n.complete)}(n)&&N(n)}(t)?t:new ie(t,r,o);return H(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=tn(r))((o,i)=>{const s=new ie({next:a=>{try{t(a)}catch(u){i(u),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Ae](){return this}pipe(...t){return mt(t)(this)}toPromise(t){return new(t=tn(t))((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return n.create=e=>new n(e),n})();function tn(n){var e;return null!==(e=n??se.Promise)&&void 0!==e?e:Promise}const He=l(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let et=(()=>{class n extends Ct{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new Je(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new He}next(t){H(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){H(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){H(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:o,observers:i}=this;return r||o?Q:(this.currentObservers=null,i.push(t),new G(()=>{this.currentObservers=null,J(i,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:o,isStopped:i}=this;r?t.error(o):i&&t.complete()}asObservable(){const t=new Ct;return t.source=this,t}}return n.create=(e,t)=>new Je(e,t),n})();class Je extends et{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:Q}}function Ve(n){return E(n?.lift)}function z(n){return e=>{if(Ve(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ce(n,e,t,r,o){return new ht(n,e,t,r,o)}class ht extends ce{constructor(e,t,r,o,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=o?function(a){try{o(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Pe(n,e){return z((t,r)=>{let o=0;t.subscribe(Ce(r,i=>{r.next(n.call(e,i,o++))}))})}function U(n,e,t,r){var s,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i}function kn(n,e,t,r){return new(t||(t=Promise))(function(i,s){function a(g){try{f(r.next(g))}catch(v){s(v)}}function u(g){try{f(r.throw(g))}catch(v){s(v)}}function f(g){g.done?i(g.value):function o(i){return i instanceof t?i:new t(function(s){s(i)})}(g.value).then(a,u)}f((r=r.apply(n,e||[])).next())})}function tt(n){return this instanceof tt?(this.v=n,this):new tt(n)}function Vt(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=t.apply(n,e||[]),i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(D){r[D]&&(o[D]=function(T){return new Promise(function(K,me){i.push([D,T,K,me])>1||a(D,T)})})}function a(D,T){try{!function u(D){D.value instanceof tt?Promise.resolve(D.value.v).then(f,g):v(i[0][2],D)}(r[D](T))}catch(K){v(i[0][3],K)}}function f(D){a("next",D)}function g(D){a("throw",D)}function v(D,T){D(T),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Nr(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function bo(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(i){t[i]=n[i]&&function(s){return new Promise(function(a,u){!function o(i,s,a,u){Promise.resolve(u).then(function(f){i({value:f,done:a})},s)}(a,u,(s=n[i](s)).done,s.value)})}}}const _n=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Yn(n){return E(n?.then)}function Tr(n){return E(n[Ae])}function Sr(n){return Symbol.asyncIterator&&E(n?.[Symbol.asyncIterator])}function Kr(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const fr=function Qn(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ft(n){return E(n?.[fr])}function Er(n){return Vt(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:o}=yield tt(t.read());if(o)return yield tt(void 0);yield yield tt(r)}}finally{t.releaseLock()}})}function h(n){return E(n?.getReader)}function mn(n){if(n instanceof Ct)return n;if(null!=n){if(Tr(n))return function I(n){return new Ct(e=>{const t=n[Ae]();if(E(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(_n(n))return function no(n){return new Ct(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Yn(n))return function mi(n){return new Ct(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,oe)})}(n);if(Sr(n))return qo(n);if(ft(n))return function Zo(n){return new Ct(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(h(n))return function ls(n){return qo(Er(n))}(n)}throw Kr(n)}function qo(n){return new Ct(e=>{(function Oo(n,e){var t,r,o,i;return kn(this,void 0,void 0,function*(){try{for(t=Nr(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=t.return)&&(yield i.call(t))}finally{if(o)throw o.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function go(n,e,t,r=0,o=!1){const i=e.schedule(function(){t(),o?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(i),!o)return i}function _r(n,e,t=1/0){return E(e)?_r((r,o)=>Pe((i,s)=>e(r,i,o,s))(mn(n(r,o))),t):("number"==typeof e&&(t=e),z((r,o)=>function Ai(n,e,t,r,o,i,s,a){const u=[];let f=0,g=0,v=!1;const D=()=>{v&&!u.length&&!f&&e.complete()},T=me=>f<r?K(me):u.push(me),K=me=>{i&&e.next(me),f++;let je=!1;mn(t(me,g++)).subscribe(Ce(e,Ye=>{o?.(Ye),i?T(Ye):e.next(Ye)},()=>{je=!0},void 0,()=>{if(je)try{for(f--;u.length&&f<r;){const Ye=u.shift();s?go(e,s,()=>K(Ye)):K(Ye)}D()}catch(Ye){e.error(Ye)}}))};return n.subscribe(Ce(e,T,()=>{v=!0,D()})),()=>{a?.()}}(r,o,n,t)))}function li(n=1/0){return _r(k,n)}const ro=new Ct(n=>n.complete());function xo(n){return n&&E(n.schedule)}function oo(n){return n[n.length-1]}function cs(n){return E(oo(n))?n.pop():void 0}function Pi(n){return xo(oo(n))?n.pop():void 0}function Ko(n,e=0){return z((t,r)=>{t.subscribe(Ce(r,o=>go(r,n,()=>r.next(o),e),()=>go(r,n,()=>r.complete(),e),o=>go(r,n,()=>r.error(o),e)))})}function Fi(n,e=0){return z((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function us(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ct(t=>{go(t,e,()=>{const r=n[Symbol.asyncIterator]();go(t,e,()=>{r.next().then(o=>{o.done?t.complete():t.next(o.value)})},0,!0)})})}function Kn(n,e){return e?function Vs(n,e){if(null!=n){if(Tr(n))return function lo(n,e){return mn(n).pipe(Fi(e),Ko(e))}(n,e);if(_n(n))return function Oi(n,e){return new Ct(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(Yn(n))return function ci(n,e){return mn(n).pipe(Fi(e),Ko(e))}(n,e);if(Sr(n))return us(n,e);if(ft(n))return function Is(n,e){return new Ct(t=>{let r;return go(t,e,()=>{r=n[fr](),go(t,e,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){return void t.error(s)}i?t.complete():t.next(o)},0,!0)}),()=>E(r?.return)&&r.return()})}(n,e);if(h(n))return function ds(n,e){return us(Er(n),e)}(n,e)}throw Kr(n)}(n,e):mn(n)}function _i(...n){const e=Pi(n),t=function Ri(n,e){return"number"==typeof oo(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?mn(r[0]):li(t)(Kn(r,e)):ro}function Us(n={}){const{connector:e=(()=>new et),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=n;return i=>{let s,a,u,f=0,g=!1,v=!1;const D=()=>{a?.unsubscribe(),a=void 0},T=()=>{D(),s=u=void 0,g=v=!1},K=()=>{const me=s;T(),me?.unsubscribe()};return z((me,je)=>{f++,!v&&!g&&D();const Ye=u=u??e();je.add(()=>{f--,0===f&&!v&&!g&&(a=fs(K,o))}),Ye.subscribe(je),!s&&f>0&&(s=new ie({next:yt=>Ye.next(yt),error:yt=>{v=!0,D(),a=fs(T,t,yt),Ye.error(yt)},complete:()=>{g=!0,D(),a=fs(T,r),Ye.complete()}}),mn(me).subscribe(s))})(i)}}function fs(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new ie({next:()=>{r.unsubscribe(),n()}});return mn(e(...t)).subscribe(r)}function rr(n){for(let e in n)if(n[e]===rr)return e;throw Error("Could not find renamed property on target object.")}function P(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function O(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(O).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function pe(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const be=rr({__forward_ref__:rr});function Fe(n){return n.__forward_ref__=Fe,n.toString=function(){return O(this())},n}function F(n){return le(n)?n():n}function le(n){return"function"==typeof n&&n.hasOwnProperty(be)&&n.__forward_ref__===Fe}function Ie(n){return n&&!!n.\u0275providers}const it="https://g.co/ng/security#xss";class Se extends Error{constructor(e,t){super(function Lt(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function bt(n){return"string"==typeof n?n:null==n?"":String(n)}function Ni(n,e){throw new Se(-201,!1)}function Lo(n,e){null==n&&function or(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function pt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Dr(n){return{providers:n.providers||[],imports:n.imports||[]}}function ks(n){return oa(n,xs)||oa(n,sa)}function oa(n,e){return n.hasOwnProperty(e)?n[e]:null}function ia(n){return n&&(n.hasOwnProperty(Gs)||n.hasOwnProperty(Da))?n[Gs]:null}const xs=rr({\u0275prov:rr}),Gs=rr({\u0275inj:rr}),sa=rr({ngInjectableDef:rr}),Da=rr({ngInjectorDef:rr});var sn=(()=>((sn=sn||{})[sn.Default=0]="Default",sn[sn.Host=1]="Host",sn[sn.Self=2]="Self",sn[sn.SkipSelf=4]="SkipSelf",sn[sn.Optional=8]="Optional",sn))();let Hs;function Ao(n){const e=Hs;return Hs=n,e}function aa(n,e,t){const r=ks(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&sn.Optional?null:void 0!==e?e:void Ni(O(n))}const pr=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),zs={},ps="__NG_DI_FLAG__",Ws="ngTempTokenPath",xa=/\n/gm,vi="__source";let io;function hs(n){const e=io;return io=n,e}function dl(n,e=sn.Default){if(void 0===io)throw new Se(-203,!1);return null===io?aa(n,void 0,e):io.get(n,e&sn.Optional?null:void 0,e)}function he(n,e=sn.Default){return(function Ia(){return Hs}()||dl)(F(n),e)}function An(n,e=sn.Default){return he(n,Jn(e))}function Jn(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Zs(n){const e=[];for(let t=0;t<n.length;t++){const r=F(n[t]);if(Array.isArray(r)){if(0===r.length)throw new Se(900,!1);let o,i=sn.Default;for(let s=0;s<r.length;s++){const a=r[s],u=uo(a);"number"==typeof u?-1===u?o=a.token:i|=u:o=a}e.push(he(o,i))}else e.push(he(r))}return e}function Ur(n,e){return n[ps]=e,n.prototype[ps]=e,n}function uo(n){return n[ps]}function ir(n){return{toString:n}.toString()}var $n=(()=>(($n=$n||{})[$n.OnPush=0]="OnPush",$n[$n.Default=1]="Default",$n))(),C=(()=>{return(n=C||(C={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",C;var n})();const A={},V=[],ye=rr({\u0275cmp:rr}),ke=rr({\u0275dir:rr}),We=rr({\u0275pipe:rr}),It=rr({\u0275mod:rr}),ln=rr({\u0275fac:rr}),Bn=rr({__NG_ELEMENT_ID__:rr});let sr=0;function Le(n){return ir(()=>{const t=!0===n.standalone,r={},o={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===$n.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||V,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||C.Emulated,id:"c"+sr++,styles:n.styles||V,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},i=n.dependencies,s=n.features;return o.inputs=gt(n.inputs,r),o.outputs=gt(n.outputs),s&&s.forEach(a=>a(o)),o.directiveDefs=i?()=>("function"==typeof i?i():i).map(Fn).filter(Hr):null,o.pipeDefs=i?()=>("function"==typeof i?i():i).map(pn).filter(Hr):null,o})}function Fn(n){return Pt(n)||Gn(n)}function Hr(n){return null!==n}function Wn(n){return ir(()=>({type:n.type,bootstrap:n.bootstrap||V,declarations:n.declarations||V,imports:n.imports||V,exports:n.exports||V,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function gt(n,e){if(null==n)return A;const t={};for(const r in n)if(n.hasOwnProperty(r)){let o=n[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),t[o]=r,e&&(e[o]=i)}return t}const at=Le;function jn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Pt(n){return n[ye]||null}function Gn(n){return n[ke]||null}function pn(n){return n[We]||null}function ui(n,e){const t=n[It]||null;if(!t&&!0===e)throw new Error(`Type ${O(n)} does not have '\u0275mod' property.`);return t}const w=15,M=16;function ct(n){return Array.isArray(n)&&"object"==typeof n[1]}function Gt(n){return Array.isArray(n)&&!0===n[1]}function ao(n){return 0!=(4&n.flags)}function vr(n){return n.componentOffset>-1}function Qo(n){return 1==(1&n.flags)}function br(n){return null!==n.template}function Op(n){return 0!=(256&n[2])}function Ta(n,e){return n.hasOwnProperty(ln)?n[ln]:null}class $p{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function $o(){return Pd}function Pd(n){return n.type.prototype.ngOnChanges&&(n.setInput=Vp),Bp}function Bp(){const n=Fd(this),e=n?.current;if(e){const t=n.previous;if(t===A)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Vp(n,e,t,r){const o=this.declaredInputs[t],i=Fd(n)||function Up(n,e){return n[Rd]=e}(n,{previous:A,current:null}),s=i.current||(i.current={}),a=i.previous,u=a[o];s[o]=new $p(u&&u.currentValue,e,a===A),n[r]=e}$o.ngInherit=!0;const Rd="__ngSimpleChanges__";function Fd(n){return n[Rd]||null}function Bo(n){for(;Array.isArray(n);)n=n[0];return n}function bc(n,e){return Bo(e[n])}function $i(n,e){return Bo(e[n.index])}function Ld(n,e){return n.data[e]}function fl(n,e){return n[e]}function Bi(n,e){const t=e[n];return ct(t)?t:t[0]}function Cc(n){return 64==(64&n[2])}function ca(n,e){return null==e?null:n[e]}function $d(n){n[18]=0}function au(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const Tn={lFrame:W(null),bindingsEnabled:!0};function Tg(){return Tn.bindingsEnabled}function dt(){return Tn.lFrame.lView}function ar(){return Tn.lFrame.tView}function Et(n){return Tn.lFrame.contextLView=n,n[8]}function Ht(n){return Tn.lFrame.contextLView=null,n}function yn(){let n=Zp();for(;null!==n&&64===n.type;)n=n.parent;return n}function Zp(){return Tn.lFrame.currentTNode}function qs(n,e){const t=Tn.lFrame;t.currentTNode=n,t.isParent=e}function Vd(){return Tn.lFrame.isParent}function Ud(){Tn.lFrame.isParent=!1}function Mr(){return Tn.lFrame.bindingIndex}function Ir(){return Tn.lFrame.bindingIndex++}function Xr(n){const e=Tn.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Vo(n,e){const t=Tn.lFrame;t.bindingIndex=t.bindingRootIndex=n,ho(e)}function ho(n){Tn.lFrame.currentDirectiveIndex=n}function Ci(){return Tn.lFrame.currentQueryIndex}function Qr(n){Tn.lFrame.currentQueryIndex=n}function c(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function m(n,e,t){if(t&sn.SkipSelf){let o=e,i=n;for(;!(o=o.parent,null!==o||t&sn.Host||(o=c(i),null===o||(i=i[w],10&o.type))););if(null===o)return!1;e=o,n=i}const r=Tn.lFrame=x();return r.currentTNode=e,r.lView=n,!0}function b(n){const e=x(),t=n[1];Tn.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function x(){const n=Tn.lFrame,e=null===n?null:n.child;return null===e?W(n):e}function W(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function ge(){const n=Tn.lFrame;return Tn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const xe=ge;function qe(){const n=ge();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function En(){return Tn.lFrame.selectedIndex}function cr(n){Tn.lFrame.selectedIndex=n}function zt(){const n=Tn.lFrame;return Ld(n.tView,n.selectedIndex)}function rn(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const i=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:f,ngOnDestroy:g}=i;s&&(n.contentHooks||(n.contentHooks=[])).push(-t,s),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-t,u),f&&((n.viewHooks||(n.viewHooks=[])).push(t,f),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,f)),null!=g&&(n.destroyHooks||(n.destroyHooks=[])).push(t,g)}}function _o(n,e,t){So(n,e,3,t)}function $r(n,e,t,r){(3&n[2])===t&&So(n,e,t,r)}function Yi(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function So(n,e,t,r){const i=r??-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&n[18]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[18]+=65536),(a<i||-1==i)&&(nM(n,t,e,u),n[18]=(4294901760&n[18])+u+2),u++}function nM(n,e,t,r){const o=t[r]<0,i=t[r+1],a=n[o?-t[r]:t[r]];if(o){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{i.call(a)}finally{}}}else try{i.call(a)}finally{}}class jd{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Rg(n,e,t){let r=0;for(;r<t.length;){const o=t[r];if("number"==typeof o){if(0!==o)break;r++;const i=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,i)}else{const i=o,s=t[++r];Zb(i)?n.setProperty(e,i,s):n.setAttribute(e,i,s),r++}}return r}function Wb(n){return 3===n||4===n||6===n}function Zb(n){return 64===n.charCodeAt(0)}function Gd(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const o=e[r];"number"==typeof o?t=o:0===t||qb(n,t,o,null,-1===t||2===t?e[++r]:null)}}return n}function qb(n,e,t,r,o){let i=0,s=n.length;if(-1===e)s=-1;else for(;i<n.length;){const a=n[i++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=i-1;break}}}for(;i<n.length;){const a=n[i];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==o&&(n[i+1]=o));if(r===n[i+1])return void(n[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==s&&(n.splice(s,0,e),i=s+1),n.splice(i++,0,t),null!==r&&n.splice(i++,0,r),null!==o&&n.splice(i++,0,o)}function Yb(n){return-1!==n}function qp(n){return 32767&n}function Yp(n,e){let t=function sM(n){return n>>16}(n),r=e;for(;t>0;)r=r[w],t--;return r}let Fg=!0;function Kp(n){const e=Fg;return Fg=n,e}let aM=0;const Aa={};function Xp(n,e){const t=Qb(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,Og(r.data,n),Og(e,null),Og(r.blueprint,null));const o=Ng(n,e),i=n.injectorIndex;if(Yb(o)){const s=qp(o),a=Yp(o,e),u=a[1].data;for(let f=0;f<8;f++)e[i+f]=a[s+f]|u[s+f]}return e[i+8]=o,i}function Og(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Qb(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Ng(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,o=e;for(;null!==o;){if(r=s0(o),null===r)return-1;if(t++,o=o[w],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Lg(n,e,t){!function lM(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Bn)&&(r=t[Bn]),null==r&&(r=t[Bn]=aM++);const o=255&r;e.data[n+(o>>5)]|=1<<o}(n,e,t)}function Jb(n,e,t){if(t&sn.Optional||void 0!==n)return n;Ni()}function e0(n,e,t,r){if(t&sn.Optional&&void 0===r&&(r=null),!(t&(sn.Self|sn.Host))){const o=n[9],i=Ao(void 0);try{return o?o.get(e,r,t&sn.Optional):aa(e,r,t&sn.Optional)}finally{Ao(i)}}return Jb(r,0,t)}function t0(n,e,t,r=sn.Default,o){if(null!==n){if(1024&e[2]){const s=function pM(n,e,t,r,o){let i=n,s=e;for(;null!==i&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=n0(i,s,t,r|sn.Self,Aa);if(a!==Aa)return a;let u=i.parent;if(!u){const f=s[21];if(f){const g=f.get(t,Aa,r);if(g!==Aa)return g}u=s0(s),s=s[w]}i=u}return o}(n,e,t,r,Aa);if(s!==Aa)return s}const i=n0(n,e,t,r,Aa);if(i!==Aa)return i}return e0(e,t,r,o)}function n0(n,e,t,r,o){const i=function dM(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Bn)?n[Bn]:void 0;return"number"==typeof e?e>=0?255&e:fM:e}(t);if("function"==typeof i){if(!m(e,n,r))return r&sn.Host?Jb(o,0,r):e0(e,t,r,o);try{const s=i(r);if(null!=s||r&sn.Optional)return s;Ni()}finally{xe()}}else if("number"==typeof i){let s=null,a=Qb(n,e),u=-1,f=r&sn.Host?e[M][6]:null;for((-1===a||r&sn.SkipSelf)&&(u=-1===a?Ng(n,e):e[a+8],-1!==u&&o0(r,!1)?(s=e[1],a=qp(u),e=Yp(u,e)):a=-1);-1!==a;){const g=e[1];if(r0(i,a,g.data)){const v=uM(a,e,t,s,r,f);if(v!==Aa)return v}u=e[a+8],-1!==u&&o0(r,e[1].data[a+8]===f)&&r0(i,a,e)?(s=g,a=qp(u),e=Yp(u,e)):a=-1}}return o}function uM(n,e,t,r,o,i){const s=e[1],a=s.data[n+8],g=Qp(a,s,t,null==r?vr(a)&&Fg:r!=s&&0!=(3&a.type),o&sn.Host&&i===a);return null!==g?Sc(e,s,g,a):Aa}function Qp(n,e,t,r,o){const i=n.providerIndexes,s=e.data,a=1048575&i,u=n.directiveStart,g=i>>20,D=o?a+g:n.directiveEnd;for(let T=r?a:a+g;T<D;T++){const K=s[T];if(T<u&&t===K||T>=u&&K.type===t)return T}if(o){const T=s[u];if(T&&br(T)&&T.type===t)return u}return null}function Sc(n,e,t,r){let o=n[t];const i=e.data;if(function rM(n){return n instanceof jd}(o)){const s=o;s.resolving&&function Mo(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Se(-200,`Circular dependency in DI detected for ${n}${t}`)}(function nn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():bt(n)}(i[t]));const a=Kp(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?Ao(s.injectImpl):null;m(n,r,sn.Default);try{o=n[t]=s.factory(void 0,i,n,r),e.firstCreatePass&&t>=r.directiveStart&&function vt(n,e,t){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=e.type.prototype;if(r){const s=Pd(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s)}o&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,o),i&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,i),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,i))}(t,i[t],e)}finally{null!==u&&Ao(u),Kp(a),s.resolving=!1,xe()}}return o}function r0(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function o0(n,e){return!(n&sn.Self||n&sn.Host&&e)}class uu{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return t0(this._tNode,this._lView,e,Jn(r),t)}}function fM(){return new uu(yn(),dt())}function di(n){return ir(()=>{const e=n.prototype.constructor,t=e[ln]||$g(e),r=Object.prototype;let o=Object.getPrototypeOf(n.prototype).constructor;for(;o&&o!==r;){const i=o[ln]||$g(o);if(i&&i!==t)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function $g(n){return le(n)?()=>{const e=$g(F(n));return e&&e()}:Ta(n)}function s0(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}function du(n){return function cM(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let o=0;for(;o<r;){const i=t[o];if(Wb(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<r&&"string"==typeof t[o];)o++;else{if(i===e)return t[o+1];o+=2}}}return null}(yn(),n)}const pu="__parameters__";function mu(n,e,t){return ir(()=>{const r=function Bg(n){return function(...t){if(n){const r=n(...t);for(const o in r)this[o]=r[o]}}}(e);function o(...i){if(this instanceof o)return r.apply(this,i),this;const s=new o(...i);return a.annotation=s,a;function a(u,f,g){const v=u.hasOwnProperty(pu)?u[pu]:Object.defineProperty(u,pu,{value:[]})[pu];for(;v.length<=g;)v.push(null);return(v[g]=v[g]||[]).push(s),u}}return t&&(o.prototype=Object.create(t.prototype)),o.prototype.ngMetadataName=n,o.annotationCls=o,o})}class en{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=pt({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ec(n,e){n.forEach(t=>Array.isArray(t)?Ec(t,e):e(t))}function l0(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Jp(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Wd(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function Ms(n,e,t){let r=gu(n,e);return r>=0?n[1|r]=t:(r=~r,function _M(n,e,t,r){let o=n.length;if(o==e)n.push(t,r);else if(1===o)n.push(r,n[0]),n[0]=t;else{for(o--,n.push(n[o-1],n[o]);o>e;)n[o]=n[o-2],o--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Ug(n,e){const t=gu(n,e);if(t>=0)return n[1|t]}function gu(n,e){return function c0(n,e,t){let r=0,o=n.length>>t;for(;o!==r;){const i=r+(o-r>>1),s=n[i<<t];if(e===s)return i<<t;s>e?o=i:r=i+1}return~(o<<t)}(n,e,1)}const Zd=Ur(mu("Optional"),8),qd=Ur(mu("SkipSelf"),4);var _s=(()=>((_s=_s||{})[_s.Important=1]="Important",_s[_s.DashCase=2]="DashCase",_s))();const Zg=new Map;let BM=0;const Yg="__ngContext__";function Ui(n,e){ct(e)?(n[Yg]=e[20],function UM(n){Zg.set(n[20],n)}(e)):n[Yg]=e}function Xg(n,e){return undefined(n,e)}function Qd(n){const e=n[3];return Gt(e)?e[3]:e}function Qg(n){return M0(n[13])}function Jg(n){return M0(n[4])}function M0(n){for(;null!==n&&!Gt(n);)n=n[4];return n}function yu(n,e,t,r,o){if(null!=r){let i,s=!1;Gt(r)?i=r:ct(r)&&(s=!0,r=r[0]);const a=Bo(r);0===n&&null!==t?null==o?O0(e,t,a):Dc(e,t,a,o||null,!0):1===n&&null!==t?Dc(e,t,a,o||null,!0):2===n?function s_(n,e,t){const r=rh(n,e);r&&function aT(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=i&&function uT(n,e,t,r,o){const i=t[7];i!==Bo(t)&&yu(e,n,r,i,o);for(let a=10;a<t.length;a++){const u=t[a];Jd(u[1],u,n,e,r,i)}}(e,n,i,t,o)}}function t_(n,e,t){return n.createElement(e,t)}function A0(n,e){const t=n[9],r=t.indexOf(e),o=e[3];512&e[2]&&(e[2]&=-513,au(o,-1)),t.splice(r,1)}function n_(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const o=r[17];null!==o&&o!==n&&A0(o,r),e>0&&(n[t-1][4]=r[4]);const i=Jp(n,10+e);!function JM(n,e){Jd(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const s=i[19];null!==s&&s.detachView(i[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function P0(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&Jd(n,e,t,3,null,null),function nT(n){let e=n[13];if(!e)return r_(n[1],n);for(;e;){let t=null;if(ct(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)ct(e)&&r_(e[1],e),e=e[3];null===e&&(e=n),ct(e)&&r_(e[1],e),t=e&&e[4]}e=t}}(e)}}function r_(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function sT(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const o=e[t[r]];if(!(o instanceof jd)){const i=t[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],u=i[s+1];try{u.call(a)}finally{}}else try{i.call(o)}finally{}}}}(n,e),function iT(n,e){const t=n.cleanup,r=e[7];let o=-1;if(null!==t)for(let i=0;i<t.length-1;i+=2)if("string"==typeof t[i]){const s=t[i+3];s>=0?r[o=s]():r[o=-s].unsubscribe(),i+=2}else{const s=r[o=t[i+1]];t[i].call(s)}if(null!==r){for(let i=o+1;i<r.length;i++)(0,r[i])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&Gt(e[3])){t!==e[3]&&A0(t,e);const r=e[19];null!==r&&r.detachView(n)}!function jM(n){Zg.delete(n[20])}(e)}}function R0(n,e,t){return function F0(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:i}=n.data[r.directiveStart+o];if(i===C.None||i===C.Emulated)return null}return $i(r,t)}}(n,e.parent,t)}function Dc(n,e,t,r,o){n.insertBefore(e,t,r,o)}function O0(n,e,t){n.appendChild(e,t)}function N0(n,e,t,r,o){null!==r?Dc(n,e,t,r,o):O0(n,e,t)}function rh(n,e){return n.parentNode(e)}function L0(n,e,t){return B0(n,e,t)}let sh,c_,B0=function $0(n,e,t){return 40&n.type?$i(n,t):null};function oh(n,e,t,r){const o=R0(n,r,e),i=e[11],a=L0(r.parent||e[6],r,e);if(null!=o)if(Array.isArray(t))for(let u=0;u<t.length;u++)N0(i,o,t[u],a,!1);else N0(i,o,t,a,!1)}function ih(n,e){if(null!==e){const t=e.type;if(3&t)return $i(e,n);if(4&t)return i_(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return ih(n,r);{const o=n[e.index];return Gt(o)?i_(-1,o):Bo(o)}}if(32&t)return Xg(e,n)()||Bo(n[e.index]);{const r=U0(n,e);return null!==r?Array.isArray(r)?r[0]:ih(Qd(n[M]),r):ih(n,e.next)}}return null}function U0(n,e){return null!==e?n[M][6].projection[e.projection]:null}function i_(n,e){const t=10+n+1;if(t<e.length){const r=e[t],o=r[1].firstChild;if(null!==o)return ih(r,o)}return e[7]}function a_(n,e,t,r,o,i,s){for(;null!=t;){const a=r[t.index],u=t.type;if(s&&0===e&&(a&&Ui(Bo(a),r),t.flags|=2),32!=(32&t.flags))if(8&u)a_(n,e,t.child,r,o,i,!1),yu(e,n,o,a,i);else if(32&u){const f=Xg(t,r);let g;for(;g=f();)yu(e,n,o,g,i);yu(e,n,o,a,i)}else 16&u?j0(n,e,r,t,o,i):yu(e,n,o,a,i);t=s?t.projectionNext:t.next}}function Jd(n,e,t,r,o,i){a_(t,r,n.firstChild,e,o,i,!1)}function j0(n,e,t,r,o,i){const s=t[M],u=s[6].projection[r.projection];if(Array.isArray(u))for(let f=0;f<u.length;f++)yu(e,n,o,u[f],i);else a_(n,e,u,s[3],o,i,!0)}function G0(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function H0(n,e,t){const{mergedAttrs:r,classes:o,styles:i}=t;null!==r&&Rg(n,e,r),null!==o&&G0(n,e,o),null!==i&&function fT(n,e,t){n.setAttribute(e,"style",t)}(n,e,i)}function Ic(n){return function l_(){if(void 0===sh&&(sh=null,pr.trustedTypes))try{sh=pr.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return sh}()?.createHTML(n)||n}class kc{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${it})`}}class _T extends kc{getTypeName(){return"HTML"}}class yT extends kc{getTypeName(){return"Style"}}class vT extends kc{getTypeName(){return"Script"}}class bT extends kc{getTypeName(){return"URL"}}class CT extends kc{getTypeName(){return"ResourceURL"}}function Ts(n){return n instanceof kc?n.changingThisBreaksApplicationSecurity:n}function Pa(n,e){const t=function wT(n){return n instanceof kc&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${it})`)}return t===e}class xT{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Ic(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class MT{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Ic(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=Ic(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let o=t.length-1;0<o;o--){const s=t.item(o).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&e.removeAttribute(s)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const AT=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function lh(n){return(n=String(n)).match(AT)?n:"unsafe:"+n}function pl(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function ef(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const K0=pl("area,br,col,hr,img,wbr"),X0=pl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Q0=pl("rp,rt"),d_=ef(K0,ef(X0,pl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ef(Q0,pl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ef(Q0,X0)),f_=pl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),J0=ef(f_,pl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),pl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),PT=pl("script,style,template");class RT{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=this.checkClobberedElement(t,t.nextSibling);if(o){t=o;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!d_.hasOwnProperty(t))return this.sanitizedSomething=!0,!PT.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let o=0;o<r.length;o++){const i=r.item(o),s=i.name,a=s.toLowerCase();if(!J0.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=i.value;f_[a]&&(u=lh(u)),this.buf.push(" ",s,'="',eC(u),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();d_.hasOwnProperty(t)&&!K0.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(eC(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const FT=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,OT=/([^\#-~ |!])/g;function eC(n){return n.replace(/&/g,"&amp;").replace(FT,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(OT,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ch;function tC(n,e){let t=null;try{ch=ch||function Y0(n){const e=new MT(n);return function TT(){try{return!!(new window.DOMParser).parseFromString(Ic(""),"text/html")}catch{return!1}}()?new xT(e):e}(n);let r=e?String(e):"";t=ch.getInertBodyElement(r);let o=5,i=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=t.innerHTML,t=ch.getInertBodyElement(r)}while(r!==i);return Ic((new RT).sanitizeChildren(p_(t)||t))}finally{if(t){const r=p_(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function p_(n){return"content"in n&&function NT(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Zr=(()=>((Zr=Zr||{})[Zr.NONE=0]="NONE",Zr[Zr.HTML=1]="HTML",Zr[Zr.STYLE=2]="STYLE",Zr[Zr.SCRIPT=3]="SCRIPT",Zr[Zr.URL=4]="URL",Zr[Zr.RESOURCE_URL=5]="RESOURCE_URL",Zr))();const uh=new en("ENVIRONMENT_INITIALIZER"),iC=new en("INJECTOR",-1),sC=new en("INJECTOR_DEF_TYPES");class aC{get(e,t=zs){if(t===zs){const r=new Error(`NullInjectorError: No provider for ${O(e)}!`);throw r.name="NullInjectorError",r}return t}}function HT(...n){return{\u0275providers:lC(0,n),\u0275fromNgModule:!0}}function lC(n,...e){const t=[],r=new Set;let o;return Ec(e,i=>{const s=i;h_(s,t,[],r)&&(o||(o=[]),o.push(s))}),void 0!==o&&cC(o,t),t}function cC(n,e){for(let t=0;t<n.length;t++){const{providers:o}=n[t];m_(o,i=>{e.push(i)})}}function h_(n,e,t,r){if(!(n=F(n)))return!1;let o=null,i=ia(n);const s=!i&&Pt(n);if(i||s){if(s&&!s.standalone)return!1;o=n}else{const u=n.ngModule;if(i=ia(u),!i)return!1;o=u}const a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const f of u)h_(f,e,t,r)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let f;r.add(o);try{Ec(i.imports,g=>{h_(g,e,t,r)&&(f||(f=[]),f.push(g))})}finally{}void 0!==f&&cC(f,e)}if(!a){const f=Ta(o)||(()=>new o);e.push({provide:o,useFactory:f,deps:V},{provide:sC,useValue:o,multi:!0},{provide:uh,useValue:()=>he(o),multi:!0})}const u=i.providers;null==u||a||m_(u,g=>{e.push(g)})}}return o!==n&&void 0!==n.providers}function m_(n,e){for(let t of n)Ie(t)&&(t=t.\u0275providers),Array.isArray(t)?m_(t,e):e(t)}const zT=rr({provide:String,useValue:rr});function g_(n){return null!==n&&"object"==typeof n&&zT in n}function xc(n){return"function"==typeof n}const __=new en("Set Injector scope."),dh={},ZT={};let y_;function fh(){return void 0===y_&&(y_=new aC),y_}class Ra{}class fC extends Ra{get destroyed(){return this._destroyed}constructor(e,t,r,o){super(),this.parent=t,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,b_(e,s=>this.processProvider(s)),this.records.set(iC,vu(void 0,this)),o.has("environment")&&this.records.set(Ra,vu(void 0,this));const i=this.records.get(__);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(sC.multi,V,sn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=hs(this),r=Ao(void 0);try{return e()}finally{hs(t),Ao(r)}}get(e,t=zs,r=sn.Default){this.assertNotDestroyed(),r=Jn(r);const o=hs(this),i=Ao(void 0);try{if(!(r&sn.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function QT(n){return"function"==typeof n||"object"==typeof n&&n instanceof en}(e)&&ks(e);a=u&&this.injectableDefInScope(u)?vu(v_(e),dh):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&sn.Self?fh():this.parent).get(e,t=r&sn.Optional&&t===zs?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[Ws]=s[Ws]||[]).unshift(O(e)),o)throw s;return function fo(n,e,t,r){const o=n[Ws];throw e[vi]&&o.unshift(e[vi]),n.message=function Gr(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let o=O(e);if(Array.isArray(e))o=e.map(O).join(" -> ");else if("object"==typeof e){let i=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):O(a)))}o=`{${i.join(", ")}}`}return`${t}${r?"("+r+")":""}[${o}]: ${n.replace(xa,"\n  ")}`}("\n"+n.message,o,t,r),n.ngTokenPath=o,n[Ws]=null,n}(s,e,"R3InjectorError",this.source)}throw s}finally{Ao(i),hs(o)}}resolveInjectorInitializers(){const e=hs(this),t=Ao(void 0);try{const r=this.get(uh.multi,V,sn.Self);for(const o of r)o()}finally{hs(e),Ao(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(O(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Se(205,!1)}processProvider(e){let t=xc(e=F(e))?e:F(e&&e.provide);const r=function YT(n){return g_(n)?vu(void 0,n.useValue):vu(pC(n),dh)}(e);if(xc(e)||!0!==e.multi)this.records.get(t);else{let o=this.records.get(t);o||(o=vu(void 0,dh,!0),o.factory=()=>Zs(o.multi),this.records.set(t,o)),t=e,o.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===dh&&(t.value=ZT,t.value=t.factory()),"object"==typeof t.value&&t.value&&function XT(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=F(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function v_(n){const e=ks(n),t=null!==e?e.factory:Ta(n);if(null!==t)return t;if(n instanceof en)throw new Se(204,!1);if(n instanceof Function)return function qT(n){const e=n.length;if(e>0)throw Wd(e,"?"),new Se(204,!1);const t=function Sa(n){const e=n&&(n[xs]||n[sa]);if(e){const t=function Ea(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Se(204,!1)}function pC(n,e,t){let r;if(xc(n)){const o=F(n);return Ta(o)||v_(o)}if(g_(n))r=()=>F(n.useValue);else if(function dC(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Zs(n.deps||[]));else if(function uC(n){return!(!n||!n.useExisting)}(n))r=()=>he(F(n.useExisting));else{const o=F(n&&(n.useClass||n.provide));if(!function KT(n){return!!n.deps}(n))return Ta(o)||v_(o);r=()=>new o(...Zs(n.deps))}return r}function vu(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function b_(n,e){for(const t of n)Array.isArray(t)?b_(t,e):t&&Ie(t)?b_(t.\u0275providers,e):e(t)}class JT{}class hC{}class tA{resolveComponentFactory(e){throw function eA(n){const e=Error(`No component factory found for ${O(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let hl=(()=>{class n{}return n.NULL=new tA,n})();function nA(){return bu(yn(),dt())}function bu(n,e){return new _t($i(n,e))}let _t=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=nA,n})();function rA(n){return n instanceof _t?n.nativeElement:n}class gC{}let ml=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function oA(){const n=dt(),t=Bi(yn().index,n);return(ct(t)?t:n)[11]}(),n})(),iA=(()=>{class n{}return n.\u0275prov=pt({token:n,providedIn:"root",factory:()=>null}),n})();class nf{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const sA=new nf("15.1.3"),C_={};function S_(n){return n.ngOriginalError}class Cu{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&S_(e);for(;t&&S_(t);)t=S_(t);return t||null}}function gl(n){return n instanceof Function?n():n}function yC(n,e,t){let r=n.length;for(;;){const o=n.indexOf(e,t);if(-1===o)return o;if(0===o||n.charCodeAt(o-1)<=32){const i=e.length;if(o+i===r||n.charCodeAt(o+i)<=32)return o}t=o+1}}const vC="ng-template";function _A(n,e,t){let r=0;for(;r<n.length;){let o=n[r++];if(t&&"class"===o){if(o=n[r],-1!==yC(o.toLowerCase(),e,0))return!0}else if(1===o){for(;r<n.length&&"string"==typeof(o=n[r++]);)if(o.toLowerCase()===e)return!0;return!1}}return!1}function bC(n){return 4===n.type&&n.value!==vC}function yA(n,e,t){return e===(4!==n.type||t?n.value:vC)}function vA(n,e,t){let r=4;const o=n.attrs||[],i=function wA(n){for(let e=0;e<n.length;e++)if(Wb(n[e]))return e;return n.length}(o);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!yA(n,u,t)||""===u&&1===e.length){if(ua(r))return!1;s=!0}}else{const f=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!_A(n.attrs,f,t)){if(ua(r))return!1;s=!0}continue}const v=bA(8&r?"class":u,o,bC(n),t);if(-1===v){if(ua(r))return!1;s=!0;continue}if(""!==f){let D;D=v>i?"":o[v+1].toLowerCase();const T=8&r?D:null;if(T&&-1!==yC(T,f,0)||2&r&&f!==D){if(ua(r))return!1;s=!0}}}}else{if(!s&&!ua(r)&&!ua(u))return!1;if(s&&ua(u))continue;s=!1,r=u|1&r}}return ua(r)||s}function ua(n){return 0==(1&n)}function bA(n,e,t,r){if(null===e)return-1;let o=0;if(r||!t){let i=!1;for(;o<e.length;){const s=e[o];if(s===n)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=e[++o];for(;"string"==typeof a;)a=e[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function SA(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function CC(n,e,t=!1){for(let r=0;r<e.length;r++)if(vA(n,e[r],t))return!0;return!1}function EA(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let o=0;o<n.length;o++)if(n[o]!==r[o])continue e;return!0}}return!1}function wC(n,e){return n?":not("+e.trim()+")":e}function DA(n){let e=n[0],t=1,r=2,o="",i=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""!==o&&!ua(s)&&(e+=wC(i,o),o=""),r=s,i=i||!ua(r);t++}return""!==o&&(e+=wC(i,o)),e}const Vn={};function Xe(n){SC(ar(),dt(),En()+n,!1)}function SC(n,e,t,r){if(!r)if(3==(3&e[2])){const i=n.preOrderCheckHooks;null!==i&&_o(e,i,t)}else{const i=n.preOrderHooks;null!==i&&$r(e,i,0,t)}cr(t)}function kC(n,e=null,t=null,r){const o=xC(n,e,t,r);return o.resolveInjectorInitializers(),o}function xC(n,e=null,t=null,r,o=new Set){const i=[t||V,HT(n)];return r=r||("object"==typeof n?void 0:O(n)),new fC(i,e||fh(),r||null,o)}let yo=(()=>{class n{static create(t,r){if(Array.isArray(t))return kC({name:""},r,t,"");{const o=t.name??"";return kC({name:o},t.parent,t.providers,o)}}}return n.THROW_IF_NOT_FOUND=zs,n.NULL=new aC,n.\u0275prov=pt({token:n,providedIn:"any",factory:()=>he(iC)}),n.__NG_ELEMENT_ID__=-1,n})();function S(n,e=sn.Default){const t=dt();return null===t?he(n,e):t0(yn(),t,F(n),e)}function NC(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r+1];if(-1!==i){const s=n.data[i];Qr(t[r]),s.contentQueries(2,e[i],i)}}}function hh(n,e,t,r,o,i,s,a,u,f,g){const v=e.blueprint.slice();return v[0]=o,v[2]=76|r,(null!==g||n&&1024&n[2])&&(v[2]|=1024),$d(v),v[3]=v[w]=n,v[8]=t,v[10]=s||n&&n[10],v[11]=a||n&&n[11],v[12]=u||n&&n[12]||null,v[9]=f||n&&n[9]||null,v[6]=i,v[20]=function VM(){return BM++}(),v[21]=g,v[M]=2==e.type?n[M]:v,v}function Eu(n,e,t,r,o){let i=n.data[e];if(null===i)i=function x_(n,e,t,r,o){const i=Zp(),s=Vd(),u=n.data[e]=function XA(n,e,t,r,o,i){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,t,e,r,o);return null===n.firstChild&&(n.firstChild=u),null!==i&&(s?null==i.child&&null!==u.parent&&(i.child=u):null===i.next&&(i.next=u)),u}(n,e,t,r,o),function Vi(){return Tn.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=t,i.value=r,i.attrs=o;const s=function wc(){const n=Tn.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return qs(i,!0),i}function rf(n,e,t,r){if(0===t)return-1;const o=e.length;for(let i=0;i<t;i++)e.push(r),n.blueprint.push(r),n.data.push(null);return o}function M_(n,e,t){b(e);try{const r=n.viewQuery;null!==r&&B_(1,r,t);const o=n.template;null!==o&&LC(n,e,o,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&NC(n,e),n.staticViewQueries&&B_(2,n.viewQuery,t);const i=n.components;null!==i&&function qA(n,e){for(let t=0;t<e.length;t++)gP(n,e[t])}(e,i)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,qe()}}function mh(n,e,t,r){const o=e[2];if(128!=(128&o)){b(e);try{$d(e),function lr(n){return Tn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&LC(n,e,t,2,r);const s=3==(3&o);if(s){const f=n.preOrderCheckHooks;null!==f&&_o(e,f,null)}else{const f=n.preOrderHooks;null!==f&&$r(e,f,0,null),Yi(e,0)}if(function hP(n){for(let e=Qg(n);null!==e;e=Jg(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const o=t[r];512&o[2]||au(o[3],1),o[2]|=512}}}(e),function pP(n){for(let e=Qg(n);null!==e;e=Jg(e))for(let t=10;t<e.length;t++){const r=e[t],o=r[1];Cc(r)&&mh(o,r,o.template,r[8])}}(e),null!==n.contentQueries&&NC(n,e),s){const f=n.contentCheckHooks;null!==f&&_o(e,f)}else{const f=n.contentHooks;null!==f&&$r(e,f,1),Yi(e,1)}!function WA(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const o=t[r];if(o<0)cr(~o);else{const i=o,s=t[++r],a=t[++r];Vo(s,i),a(2,e[i])}}}finally{cr(-1)}}(n,e);const a=n.components;null!==a&&function ZA(n,e){for(let t=0;t<e.length;t++)mP(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&B_(2,u,r),s){const f=n.viewCheckHooks;null!==f&&_o(e,f)}else{const f=n.viewHooks;null!==f&&$r(e,f,2),Yi(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,au(e[3],-1))}finally{qe()}}}function LC(n,e,t,r,o){const i=En(),s=2&r;try{cr(-1),s&&e.length>22&&SC(n,e,22,!1),t(r,o)}finally{cr(i)}}function T_(n,e,t){if(ao(e)){const o=e.directiveEnd;for(let i=e.directiveStart;i<o;i++){const s=n.data[i];s.contentQueries&&s.contentQueries(1,t[i],i)}}}function A_(n,e,t){Tg()&&(function rP(n,e,t,r){const o=t.directiveStart,i=t.directiveEnd;vr(t)&&function uP(n,e,t){const r=$i(e,n),o=$C(t),i=n[10],s=gh(n,hh(n,o,null,t.onPush?32:16,r,e,i,i.createRenderer(r,t),null,null,null));n[e.index]=s}(e,t,n.data[o+t.componentOffset]),n.firstCreatePass||Xp(t,e),Ui(r,e);const s=t.initialInputs;for(let a=o;a<i;a++){const u=n.data[a],f=Sc(e,n,a,t);Ui(f,e),null!==s&&dP(0,a-o,f,u,0,s),br(u)&&(Bi(t.index,e)[8]=Sc(e,n,a,t))}}(n,e,t,$i(t,e)),64==(64&t.flags)&&HC(n,e,t))}function P_(n,e,t=$i){const r=e.localNames;if(null!==r){let o=e.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],a=-1===s?t(e,n):n[s];n[o++]=a}}}function $C(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=R_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function R_(n,e,t,r,o,i,s,a,u,f){const g=22+r,v=g+o,D=function YA(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Vn);return t}(g,v),T="function"==typeof f?f():f;return D[1]={type:n,blueprint:D,template:t,queries:null,viewQuery:a,declTNode:e,data:D.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:T,incompleteFirstPass:!1}}function BC(n,e,t,r){const o=WC(e);null===t?o.push(r):(o.push(t),n.firstCreatePass&&ZC(n).push(r,o.length-1))}function VC(n,e,t,r){for(let o in n)if(n.hasOwnProperty(o)){t=null===t?{}:t;const i=n[o];null===r?UC(t,e,o,i):r.hasOwnProperty(o)&&UC(t,e,r[o],i)}return t}function UC(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function As(n,e,t,r,o,i,s,a){const u=$i(e,t);let g,f=e.inputs;!a&&null!=f&&(g=f[r])?(V_(n,t,g,r,o),vr(e)&&jC(t,e.index)):3&e.type&&(r=function JA(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),o=null!=s?s(o,e.value||"",r):o,i.setProperty(u,r,o))}function jC(n,e){const t=Bi(e,n);16&t[2]||(t[2]|=32)}function F_(n,e,t,r){let o=!1;if(Tg()){const i=null===r?null:{"":-1},s=function iP(n,e){const t=n.directiveRegistry;let r=null,o=null;if(t)for(let i=0;i<t.length;i++){const s=t[i];if(CC(e,s.selectors,!1))if(r||(r=[]),br(s))if(null!==s.findHostDirectiveDefs){const a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),r.unshift(...a,s),O_(n,e,a.length)}else r.unshift(s),O_(n,e,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,r,o),r.push(s)}return null===r?null:[r,o]}(n,t);let a,u;null===s?a=u=null:[a,u]=s,null!==a&&(o=!0,GC(n,e,t,a,i,u)),i&&function sP(n,e,t){if(e){const r=n.localNames=[];for(let o=0;o<e.length;o+=2){const i=t[e[o+1]];if(null==i)throw new Se(-301,!1);r.push(e[o],i)}}}(t,r,i)}return t.mergedAttrs=Gd(t.mergedAttrs,t.attrs),o}function GC(n,e,t,r,o,i){for(let f=0;f<r.length;f++)Lg(Xp(t,e),n,r[f].type);!function lP(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let f=0;f<r.length;f++){const g=r[f];g.providersResolver&&g.providersResolver(g)}let s=!1,a=!1,u=rf(n,e,r.length,null);for(let f=0;f<r.length;f++){const g=r[f];t.mergedAttrs=Gd(t.mergedAttrs,g.hostAttrs),cP(n,t,e,u,g),aP(u,g,o),null!==g.contentQueries&&(t.flags|=4),(null!==g.hostBindings||null!==g.hostAttrs||0!==g.hostVars)&&(t.flags|=64);const v=g.type.prototype;!s&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),s=!0),!a&&(v.ngOnChanges||v.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),a=!0),u++}!function QA(n,e,t){const o=e.directiveEnd,i=n.data,s=e.attrs,a=[];let u=null,f=null;for(let g=e.directiveStart;g<o;g++){const v=i[g],D=t?t.get(v):null,K=D?D.outputs:null;u=VC(v.inputs,g,u,D?D.inputs:null),f=VC(v.outputs,g,f,K);const me=null===u||null===s||bC(e)?null:fP(u,g,s);a.push(me)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=f}(n,t,i)}function HC(n,e,t){const r=t.directiveStart,o=t.directiveEnd,i=t.index,s=function po(){return Tn.lFrame.currentDirectiveIndex}();try{cr(i);for(let a=r;a<o;a++){const u=n.data[a],f=e[a];ho(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&oP(u,f)}}finally{cr(-1),ho(s)}}function oP(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function O_(n,e,t){e.componentOffset=t,(n.components||(n.components=[])).push(e.index)}function aP(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;br(e)&&(t[""]=n)}}function cP(n,e,t,r,o){n.data[r]=o;const i=o.factory||(o.factory=Ta(o.type)),s=new jd(i,br(o),S);n.blueprint[r]=s,t[r]=s,function tP(n,e,t,r,o){const i=o.hostBindings;if(i){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function nP(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,i)}}(n,e,r,rf(n,t,o.hostVars,Vn),o)}function Fa(n,e,t,r,o,i){const s=$i(n,e);!function N_(n,e,t,r,o,i,s){if(null==i)n.removeAttribute(e,o,t);else{const a=null==s?bt(i):s(i,r||"",o);n.setAttribute(e,o,a,t)}}(e[11],s,i,n.value,t,r,o)}function dP(n,e,t,r,o,i){const s=i[e];if(null!==s){const a=r.setInput;for(let u=0;u<s.length;){const f=s[u++],g=s[u++],v=s[u++];null!==a?r.setInput(t,v,f,g):t[g]=v}}}function fP(n,e,t){let r=null,o=0;for(;o<t.length;){const i=t[o];if(0!==i)if(5!==i){if("number"==typeof i)break;if(n.hasOwnProperty(i)){null===r&&(r=[]);const s=n[i];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(i,s[a+1],t[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function zC(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function mP(n,e){const t=Bi(e,n);if(Cc(t)){const r=t[1];48&t[2]?mh(r,t,r.template,t[8]):t[5]>0&&L_(t)}}function L_(n){for(let r=Qg(n);null!==r;r=Jg(r))for(let o=10;o<r.length;o++){const i=r[o];if(Cc(i))if(512&i[2]){const s=i[1];mh(s,i,s.template,i[8])}else i[5]>0&&L_(i)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const o=Bi(t[r],n);Cc(o)&&o[5]>0&&L_(o)}}function gP(n,e){const t=Bi(e,n),r=t[1];(function _P(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),M_(r,t,t[8])}function gh(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function $_(n){for(;n;){n[2]|=32;const e=Qd(n);if(Op(n)&&!e)return n;n=e}return null}function _h(n,e,t,r=!0){const o=e[10];o.begin&&o.begin();try{mh(n,e,n.template,t)}catch(s){throw r&&YC(e,s),s}finally{o.end&&o.end()}}function B_(n,e,t){Qr(0),e(n,t)}function WC(n){return n[7]||(n[7]=[])}function ZC(n){return n.cleanup||(n.cleanup=[])}function YC(n,e){const t=n[9],r=t?t.get(Cu,null):null;r&&r.handleError(e)}function V_(n,e,t,r,o){for(let i=0;i<t.length;){const s=t[i++],a=t[i++],u=e[s],f=n.data[s];null!==f.setInput?f.setInput(u,o,r,a):u[a]=o}}function _l(n,e,t){const r=bc(e,n);!function T0(n,e,t){n.setValue(e,t)}(n[11],r,t)}function yh(n,e,t){let r=t?n.styles:null,o=t?n.classes:null,i=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?i=a:1==i?o=pe(o,a):2==i&&(r=pe(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=o:n.classesWithoutHost=o}function vh(n,e,t,r,o=!1){for(;null!==t;){const i=e[t.index];if(null!==i&&r.push(Bo(i)),Gt(i))for(let a=10;a<i.length;a++){const u=i[a],f=u[1].firstChild;null!==f&&vh(u[1],u,f,r)}const s=t.type;if(8&s)vh(n,e,t.child,r);else if(32&s){const a=Xg(t,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=U0(e,t);if(Array.isArray(a))r.push(...a);else{const u=Qd(e[M]);vh(u[1],u,a,r,!0)}}t=o?t.projectionNext:t.next}return r}class sf{get rootNodes(){const e=this._lView,t=e[1];return vh(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Gt(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(n_(e,r),Jp(t,r))}this._attachedToViewContainer=!1}P0(this._lView[1],this._lView)}onDestroy(e){BC(this._lView[1],this._lView,null,e)}markForCheck(){$_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){_h(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function tT(n,e){Jd(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Se(902,!1);this._appRef=e}}class yP extends sf{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;_h(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class KC extends hl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Pt(e);return new af(t,this.ngModule)}}function XC(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class bP{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Jn(r);const o=this.injector.get(e,C_,r);return o!==C_||t===C_?o:this.parentInjector.get(e,t,r)}}class af extends hC{get inputs(){return XC(this.componentDef.inputs)}get outputs(){return XC(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function IA(n){return n.map(DA).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,o){let i=(o=o||this.ngModule)instanceof Ra?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const s=i?new bP(e,i):e,a=s.get(gC,null);if(null===a)throw new Se(407,!1);const u=s.get(iA,null),f=a.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",v=r?function KA(n,e,t){return n.selectRootElement(e,t===C.ShadowDom)}(f,r,this.componentDef.encapsulation):t_(f,g,function vP(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(g)),D=this.componentDef.onPush?288:272,T=R_(0,null,null,1,0,null,null,null,null,null),K=hh(null,T,null,D,null,null,a,f,u,s,null);let me,je;b(K);try{const Ye=this.componentDef;let yt,Oe=null;Ye.findHostDirectiveDefs?(yt=[],Oe=new Map,Ye.findHostDirectiveDefs(Ye,yt,Oe),yt.push(Ye)):yt=[Ye];const At=function wP(n,e){const t=n[1];return n[22]=e,Eu(t,22,2,"#host",null)}(K,v),gn=function SP(n,e,t,r,o,i,s,a){const u=o[1];!function EP(n,e,t,r){for(const o of n)e.mergedAttrs=Gd(e.mergedAttrs,o.hostAttrs);null!==e.mergedAttrs&&(yh(e,e.mergedAttrs,!0),null!==t&&H0(r,t,e))}(r,n,e,s);const f=i.createRenderer(e,t),g=hh(o,$C(t),null,t.onPush?32:16,o[n.index],n,i,f,a||null,null,null);return u.firstCreatePass&&O_(u,n,r.length-1),gh(o,g),o[n.index]=g}(At,v,Ye,yt,K,a,f);je=Ld(T,22),v&&function IP(n,e,t,r){if(r)Rg(n,t,["ng-version",sA.full]);else{const{attrs:o,classes:i}=function kA(n){const e=[],t=[];let r=1,o=2;for(;r<n.length;){let i=n[r];if("string"==typeof i)2===o?""!==i&&e.push(i,n[++r]):8===o&&t.push(i);else{if(!ua(o))break;o=i}r++}return{attrs:e,classes:t}}(e.selectors[0]);o&&Rg(n,t,o),i&&i.length>0&&G0(n,t,i.join(" "))}}(f,Ye,v,r),void 0!==t&&function kP(n,e,t){const r=n.projection=[];for(let o=0;o<e.length;o++){const i=t[o];r.push(null!=i?Array.from(i):null)}}(je,this.ngContentSelectors,t),me=function DP(n,e,t,r,o,i){const s=yn(),a=o[1],u=$i(s,o);GC(a,o,s,t,null,r);for(let g=0;g<t.length;g++)Ui(Sc(o,a,s.directiveStart+g,s),o);HC(a,o,s),u&&Ui(u,o);const f=Sc(o,a,s.directiveStart+s.componentOffset,s);if(n[8]=o[8]=f,null!==i)for(const g of i)g(f,e);return T_(a,s,n),f}(gn,Ye,yt,Oe,K,[xP]),M_(T,K,null)}finally{qe()}return new CP(this.componentType,me,bu(je,K),K,je)}}class CP extends JT{constructor(e,t,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.instance=t,this.hostView=this.changeDetectorRef=new yP(o),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[e])){const i=this._rootLView;V_(i[1],i,o,e,t),jC(i,this._tNode.index)}}get injector(){return new uu(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function xP(){const n=yn();rn(dt()[1],n)}function Cr(n){let e=function QC(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let o;if(br(n))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Se(903,!1);o=e.\u0275dir}if(o){if(t){r.push(o);const s=n;s.inputs=U_(n.inputs),s.declaredInputs=U_(n.declaredInputs),s.outputs=U_(n.outputs);const a=o.hostBindings;a&&PP(n,a);const u=o.viewQuery,f=o.contentQueries;if(u&&TP(n,u),f&&AP(n,f),P(n.inputs,o.inputs),P(n.declaredInputs,o.declaredInputs),P(n.outputs,o.outputs),br(o)&&o.data.animation){const g=n.data;g.animation=(g.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(n),a===Cr&&(t=!1)}}e=Object.getPrototypeOf(e)}!function MP(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const o=n[r];o.hostVars=e+=o.hostVars,o.hostAttrs=Gd(o.hostAttrs,t=Gd(t,o.hostAttrs))}}(r)}function U_(n){return n===A?{}:n===V?[]:n}function TP(n,e){const t=n.viewQuery;n.viewQuery=t?(r,o)=>{e(r,o),t(r,o)}:e}function AP(n,e){const t=n.contentQueries;n.contentQueries=t?(r,o,i)=>{e(r,o,i),t(r,o,i)}:e}function PP(n,e){const t=n.hostBindings;n.hostBindings=t?(r,o)=>{e(r,o),t(r,o)}:e}let bh=null;function Mc(){if(!bh){const n=pr.Symbol;if(n&&n.iterator)bh=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(bh=r)}}}return bh}function Ch(n){return!!function j_(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Mc()in n)}function ji(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Tc(n,e,t,r){const o=ji(n,e,t);return ji(n,e+1,r)||o}function Na(n,e,t,r){const o=dt();return ji(o,Ir(),e)&&(ar(),Fa(zt(),o,n,e,t,r)),Na}function Iu(n,e,t,r){return ji(n,Ir(),t)?e+bt(t)+r:Vn}function xu(n,e,t,r,o,i,s,a){const f=function wh(n,e,t,r,o){const i=Tc(n,e,t,r);return ji(n,e+2,o)||i}(n,Mr(),t,o,s);return Xr(3),f?e+bt(t)+r+bt(o)+i+bt(s)+a:Vn}function Qt(n,e,t,r,o,i,s,a){const u=dt(),f=ar(),g=n+22,v=f.firstCreatePass?function jP(n,e,t,r,o,i,s,a,u){const f=e.consts,g=Eu(e,n,4,s||null,ca(f,a));F_(e,t,g,ca(f,u)),rn(e,g);const v=g.tViews=R_(2,g,r,o,i,e.directiveRegistry,e.pipeRegistry,null,e.schemas,f);return null!==e.queries&&(e.queries.template(e,g),v.queries=e.queries.embeddedTView(g)),g}(g,f,u,e,t,r,o,i,s):f.data[g];qs(v,!1);const D=u[11].createComment("");oh(f,u,D,v),Ui(D,u),gh(u,u[g]=zC(D,u,D,v)),Qo(v)&&A_(f,u,v),null!=s&&P_(u,v,a)}function Ps(n){return fl(function Ln(){return Tn.lFrame.contextLView}(),22+n)}function nt(n,e,t){const r=dt();return ji(r,Ir(),e)&&As(ar(),zt(),r,n,e,r[11],t,!1),nt}function G_(n,e,t,r,o){const s=o?"class":"style";V_(n,t,e.inputs[s],s,r)}function ne(n,e,t,r){const o=dt(),i=ar(),s=22+n,a=o[11],u=o[s]=t_(a,e,function wi(){return Tn.lFrame.currentNamespace}()),f=i.firstCreatePass?function HP(n,e,t,r,o,i,s){const a=e.consts,f=Eu(e,n,2,o,ca(a,i));return F_(e,t,f,ca(a,s)),null!==f.attrs&&yh(f,f.attrs,!1),null!==f.mergedAttrs&&yh(f,f.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,f),f}(s,i,o,0,e,t,r):i.data[s];return qs(f,!0),H0(a,u,f),32!=(32&f.flags)&&oh(i,o,u,f),0===function xg(){return Tn.lFrame.elementDepthCount}()&&Ui(u,o),function Mg(){Tn.lFrame.elementDepthCount++}(),Qo(f)&&(A_(i,o,f),T_(i,f,o)),null!==r&&P_(o,f),ne}function X(){let n=yn();Vd()?Ud():(n=n.parent,qs(n,!1));const e=n;!function zb(){Tn.lFrame.elementDepthCount--}();const t=ar();return t.firstCreatePass&&(rn(t,n),ao(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function oM(n){return 0!=(8&n.flags)}(e)&&G_(t,e,dt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function iM(n){return 0!=(16&n.flags)}(e)&&G_(t,e,dt(),e.stylesWithoutHost,!1),X}function lt(n,e,t,r){return ne(n,e,t,r),X(),lt}function cf(n,e,t){const r=dt(),o=ar(),i=n+22,s=o.firstCreatePass?function zP(n,e,t,r,o){const i=e.consts,s=ca(i,r),a=Eu(e,n,8,"ng-container",s);return null!==s&&yh(a,s,!0),F_(e,t,a,ca(i,o)),null!==e.queries&&e.queries.elementStart(e,a),a}(i,o,r,e,t):o.data[i];qs(s,!0);const a=r[i]=r[11].createComment("");return oh(o,r,a,s),Ui(a,r),Qo(s)&&(A_(o,r,s),T_(o,s,r)),null!=t&&P_(r,s),cf}function uf(){let n=yn();const e=ar();return Vd()?Ud():(n=n.parent,qs(n,!1)),e.firstCreatePass&&(rn(e,n),ao(n)&&e.queries.elementEnd(n)),uf}function Br(){return dt()}function df(n){return!!n&&"function"==typeof n.then}function dw(n){return!!n&&"function"==typeof n.subscribe}const H_=dw;function st(n,e,t,r){const o=dt(),i=ar(),s=yn();return function pw(n,e,t,r,o,i,s){const a=Qo(r),f=n.firstCreatePass&&ZC(n),g=e[8],v=WC(e);let D=!0;if(3&r.type||s){const me=$i(r,e),je=s?s(me):me,Ye=v.length,yt=s?At=>s(Bo(At[r.index])):r.index;let Oe=null;if(!s&&a&&(Oe=function WP(n,e,t,r){const o=n.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===t&&o[i+1]===r){const a=e[7],u=o[i+2];return a.length>u?a[u]:null}"string"==typeof s&&(i+=2)}return null}(n,e,o,r.index)),null!==Oe)(Oe.__ngLastListenerFn__||Oe).__ngNextListenerFn__=i,Oe.__ngLastListenerFn__=i,D=!1;else{i=mw(r,e,g,i,!1);const At=t.listen(je,o,i);v.push(i,At),f&&f.push(o,yt,Ye,Ye+1)}}else i=mw(r,e,g,i,!1);const T=r.outputs;let K;if(D&&null!==T&&(K=T[o])){const me=K.length;if(me)for(let je=0;je<me;je+=2){const gn=e[K[je]][K[je+1]].subscribe(i),Zn=v.length;v.push(i,gn),f&&f.push(o,r.index,Zn,-(Zn+1))}}}(i,o,o[11],s,n,e,r),st}function hw(n,e,t,r){try{return!1!==t(r)}catch(o){return YC(n,o),!1}}function mw(n,e,t,r,o){return function i(s){if(s===Function)return r;$_(n.componentOffset>-1?Bi(n.index,e):e);let u=hw(e,0,r,s),f=i.__ngNextListenerFn__;for(;f;)u=hw(e,0,f,s)&&u,f=f.__ngNextListenerFn__;return o&&!1===u&&(s.preventDefault(),s.returnValue=!1),u}}function Ot(n=1){return function Rt(n){return(Tn.lFrame.contextLView=function Rn(n,e){for(;n>0;)e=e[w],n--;return e}(n,Tn.lFrame.contextLView))[8]}(n)}function ZP(n,e){let t=null;const r=function CA(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let o=0;o<e.length;o++){const i=e[o];if("*"!==i){if(null===r?CC(n,i,!0):EA(r,i))return o}else t=o}return t}function Mt(n){const e=dt()[M][6];if(!e.projection){const r=e.projection=Wd(n?n.length:1,null),o=r.slice();let i=e.child;for(;null!==i;){const s=n?ZP(i,n):0;null!==s&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i),i=i.next}}}function xt(n,e=0,t){const r=dt(),o=ar(),i=Eu(o,22+n,16,null,t||null);null===i.projection&&(i.projection=e),Ud(),32!=(32&i.flags)&&function cT(n,e,t){j0(e[11],0,e,t,R0(n,t,e),L0(t.parent||e[6],t,e))}(o,r,i)}function Eh(n,e,t,r,o){const i=dt(),s=Iu(i,e,t,r);return s!==Vn&&As(ar(),zt(),i,n,s,i[11],o,!1),Eh}function Dh(n,e){return n<<17|e<<2}function zl(n){return n>>17&32767}function z_(n){return 2|n}function Ac(n){return(131068&n)>>2}function W_(n,e){return-131069&n|e<<2}function Z_(n){return 1|n}function Dw(n,e,t,r,o){const i=n[t+1],s=null===e;let a=r?zl(i):Ac(i),u=!1;for(;0!==a&&(!1===u||s);){const g=n[a+1];JP(n[a],e)&&(u=!0,n[a+1]=r?Z_(g):z_(g)),a=r?zl(g):Ac(g)}u&&(n[t+1]=r?z_(i):Z_(i))}function JP(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&gu(n,e)>=0}function ff(n,e,t){return da(n,e,t,!1),ff}function yl(n,e){return da(n,e,null,!0),yl}function da(n,e,t,r){const o=dt(),i=ar(),s=Xr(2);i.firstUpdatePass&&function Rw(n,e,t,r){const o=n.data;if(null===o[t+1]){const i=o[En()],s=function Pw(n,e){return e>=n.expandoStartIndex}(n,t);(function Lw(n,e){return 0!=(n.flags&(e?8:16))})(i,r)&&null===e&&!s&&(e=!1),e=function lR(n,e,t,r){const o=function un(n){const e=Tn.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let i=r?e.residualClasses:e.residualStyles;if(null===o)0===(r?e.classBindings:e.styleBindings)&&(t=pf(t=q_(null,n,e,t,r),e.attrs,r),i=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==o)if(t=q_(o,n,e,t,r),null===i){let u=function cR(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Ac(r))return n[zl(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=q_(null,n,e,u[1],r),u=pf(u,e.attrs,r),function uR(n,e,t,r){n[zl(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else i=function dR(n,e,t){let r;const o=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<o;i++)r=pf(r,n[i].hostAttrs,t);return pf(r,e.attrs,t)}(n,e,r)}return void 0!==i&&(r?e.residualClasses=i:e.residualStyles=i),t}(o,i,e,r),function XP(n,e,t,r,o,i){let s=i?e.classBindings:e.styleBindings,a=zl(s),u=Ac(s);n[r]=t;let g,f=!1;if(Array.isArray(t)?(g=t[1],(null===g||gu(t,g)>0)&&(f=!0)):g=t,o)if(0!==u){const D=zl(n[a+1]);n[r+1]=Dh(D,a),0!==D&&(n[D+1]=W_(n[D+1],r)),n[a+1]=function YP(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Dh(a,0),0!==a&&(n[a+1]=W_(n[a+1],r)),a=r;else n[r+1]=Dh(u,0),0===a?a=r:n[u+1]=W_(n[u+1],r),u=r;f&&(n[r+1]=z_(n[r+1])),Dw(n,g,r,!0),Dw(n,g,r,!1),function QP(n,e,t,r,o){const i=o?n.residualClasses:n.residualStyles;null!=i&&"string"==typeof e&&gu(i,e)>=0&&(t[r+1]=Z_(t[r+1]))}(e,g,n,r,i),s=Dh(a,u),i?e.classBindings=s:e.styleBindings=s}(o,i,e,t,s,r)}}(i,n,s,r),e!==Vn&&ji(o,s,e)&&function Ow(n,e,t,r,o,i,s,a){if(!(3&e.type))return;const u=n.data,f=u[a+1],g=function KP(n){return 1==(1&n)}(f)?Nw(u,e,t,o,Ac(f),s):void 0;Ih(g)||(Ih(i)||function qP(n){return 2==(2&n)}(f)&&(i=Nw(u,null,t,o,a,s)),function dT(n,e,t,r,o){if(e)o?n.addClass(t,r):n.removeClass(t,r);else{let i=-1===r.indexOf("-")?void 0:_s.DashCase;null==o?n.removeStyle(t,r,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=_s.Important),n.setStyle(t,r,o,i))}}(r,s,bc(En(),t),o,i))}(i,i.data[En()],o,o[11],n,o[s+1]=function hR(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=O(Ts(n)))),n}(e,t),r,s)}function q_(n,e,t,r,o){let i=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(i=e[a],r=pf(r,i.hostAttrs,o),i!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function pf(n,e,t){const r=t?1:2;let o=-1;if(null!==e)for(let i=0;i<e.length;i++){const s=e[i];"number"==typeof s?o=s:o===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ms(n,s,!!t||e[++i]))}return void 0===n?null:n}function Nw(n,e,t,r,o,i){const s=null===e;let a;for(;o>0;){const u=n[o],f=Array.isArray(u),g=f?u[1]:u,v=null===g;let D=t[o+1];D===Vn&&(D=v?V:void 0);let T=v?Ug(D,r):g===r?D:void 0;if(f&&!Ih(T)&&(T=Ug(u,r)),Ih(T)&&(a=T,s))return a;const K=n[o+1];o=s?zl(K):Ac(K)}if(null!==e){let u=i?e.residualClasses:e.residualStyles;null!=u&&(a=Ug(u,r))}return a}function Ih(n){return void 0!==n}function Ze(n,e=""){const t=dt(),r=ar(),o=n+22,i=r.firstCreatePass?Eu(r,o,1,e,null):r.data[o],s=t[o]=function e_(n,e){return n.createText(e)}(t[11],e);oh(r,t,s,i),qs(i,!1)}function Rs(n){return Gi("",n,""),Rs}function Gi(n,e,t){const r=dt(),o=Iu(r,n,e,t);return o!==Vn&&_l(r,En(),o),Gi}function hf(n,e,t,r,o){const i=dt(),s=function ku(n,e,t,r,o,i){const a=Tc(n,Mr(),t,o);return Xr(2),a?e+bt(t)+r+bt(o)+i:Vn}(i,n,e,t,r,o);return s!==Vn&&_l(i,En(),s),hf}function Y_(n,e,t,r,o,i,s){const a=dt(),u=xu(a,n,e,t,r,o,i,s);return u!==Vn&&_l(a,En(),u),Y_}const Nu="en-US";let rS=Nu;function Q_(n,e,t,r,o){if(n=F(n),Array.isArray(n))for(let i=0;i<n.length;i++)Q_(n[i],e,t,r,o);else{const i=ar(),s=dt();let a=xc(n)?n:F(n.provide),u=pC(n);const f=yn(),g=1048575&f.providerIndexes,v=f.directiveStart,D=f.providerIndexes>>20;if(xc(n)||!n.multi){const T=new jd(u,o,S),K=ey(a,e,o?g:g+D,v);-1===K?(Lg(Xp(f,s),i,a),J_(i,n,e.length),e.push(a),f.directiveStart++,f.directiveEnd++,o&&(f.providerIndexes+=1048576),t.push(T),s.push(T)):(t[K]=T,s[K]=T)}else{const T=ey(a,e,g+D,v),K=ey(a,e,g,g+D),je=K>=0&&t[K];if(o&&!je||!o&&!(T>=0&&t[T])){Lg(Xp(f,s),i,a);const Ye=function PF(n,e,t,r,o){const i=new jd(n,t,S);return i.multi=[],i.index=e,i.componentProviders=0,xS(i,o,r&&!t),i}(o?AF:TF,t.length,o,r,u);!o&&je&&(t[K].providerFactory=Ye),J_(i,n,e.length,0),e.push(a),f.directiveStart++,f.directiveEnd++,o&&(f.providerIndexes+=1048576),t.push(Ye),s.push(Ye)}else J_(i,n,T>-1?T:K,xS(t[o?K:T],u,!o&&r));!o&&r&&je&&t[K].componentProviders++}}}function J_(n,e,t,r){const o=xc(e),i=function WT(n){return!!n.useClass}(e);if(o||i){const u=(i?F(e.useClass):e).prototype.ngOnDestroy;if(u){const f=n.destroyHooks||(n.destroyHooks=[]);if(!o&&e.multi){const g=f.indexOf(t);-1===g?f.push(t,[r,u]):f[g+1].push(r,u)}else f.push(t,u)}}}function xS(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function ey(n,e,t,r){for(let o=t;o<r;o++)if(e[o]===n)return o;return-1}function TF(n,e,t,r){return ty(this.multi,[])}function AF(n,e,t,r){const o=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Sc(t,t[1],this.providerFactory.index,r);i=a.slice(0,s),ty(o,i);for(let u=s;u<a.length;u++)i.push(a[u])}else i=[],ty(o,i);return i}function ty(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function jr(n,e=[]){return t=>{t.providersResolver=(r,o)=>function MF(n,e,t){const r=ar();if(r.firstCreatePass){const o=br(n);Q_(t,r.data,r.blueprint,o,!0),Q_(e,r.data,r.blueprint,o,!1)}}(r,o?o(n):n,e)}}class Lu{}class MS{}class TS extends Lu{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new KC(this);const r=ui(e);this._bootstrapComponents=gl(r.bootstrap),this._r3Injector=xC(e,t,[{provide:Lu,useValue:this},{provide:hl,useValue:this.componentFactoryResolver}],O(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class ny extends MS{constructor(e){super(),this.moduleType=e}create(e){return new TS(this.moduleType,e)}}class FF extends Lu{constructor(e,t,r){super(),this.componentFactoryResolver=new KC(this),this.instance=null;const o=new fC([...e,{provide:Lu,useValue:this},{provide:hl,useValue:this.componentFactoryResolver}],t||fh(),r,new Set(["environment"]));this.injector=o,o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Ah(n,e,t=null){return new FF(n,e,t).injector}let OF=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=lC(0,t.type),o=r.length>0?Ah([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,o)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=pt({token:n,providedIn:"environment",factory:()=>new n(he(Ra))}),n})();function AS(n){n.getStandaloneInjector=e=>e.get(OF).getOrCreateStandaloneInjector(n)}function $S(n,e,t,r,o,i){const s=e+t;return ji(n,s,o)?function Oa(n,e,t){return n[e]=t}(n,s+1,i?r.call(i,o):r(o)):function bf(n,e){const t=n[e];return t===Vn?void 0:t}(n,s+1)}function Ba(n,e){const t=ar();let r;const o=n+22;t.firstCreatePass?(r=function e2(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[o]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(o,r.onDestroy)):r=t.data[o];const i=r.factory||(r.factory=Ta(r.type)),s=Ao(S);try{const a=Kp(!1),u=i();return Kp(a),function GP(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,dt(),o,u),u}finally{Ao(s)}}function Va(n,e,t){const r=n+22,o=dt(),i=fl(o,r);return function Cf(n,e){return n[1].data[e].pure}(o,r)?$S(o,function Ue(){const n=Tn.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),e,i.transform,t,i):i.transform(t)}function oy(n){return e=>{setTimeout(n,void 0,e)}}const xn=class i2 extends et{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let o=e,i=t||(()=>null),s=r;if(e&&"object"==typeof e){const u=e;o=u.next?.bind(u),i=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(i=oy(i),o&&(o=oy(o)),s&&(s=oy(s)));const a=super.subscribe({next:o,error:i,complete:s});return e instanceof G&&e.add(a),a}};function s2(){return this._results[Mc()]()}class iy{get changes(){return this._changes||(this._changes=new xn)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Mc(),r=iy.prototype;r[t]||(r[t]=s2)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const o=function Ys(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function mM(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let o=n[r],i=e[r];if(t&&(o=t(o),i=t(i)),i!==o)return!1}return!0}(r._results,o,t))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let vs=(()=>{class n{}return n.__NG_ELEMENT_ID__=c2,n})();const a2=vs,l2=class extends a2{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,o=hh(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);o[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(o[19]=s.createEmbeddedView(r)),M_(r,o,e),new sf(o)}};function c2(){return Ph(yn(),dt())}function Ph(n,e){return 4&n.type?new l2(e,n,bu(n,e)):null}let Hi=(()=>{class n{}return n.__NG_ELEMENT_ID__=u2,n})();function u2(){return zS(yn(),dt())}const d2=Hi,GS=class extends d2{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return bu(this._hostTNode,this._hostLView)}get injector(){return new uu(this._hostTNode,this._hostLView)}get parentInjector(){const e=Ng(this._hostTNode,this._hostLView);if(Yb(e)){const t=Yp(e,this._hostLView),r=qp(e);return new uu(t[1].data[r+8],t)}return new uu(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=HS(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const s=e.createEmbeddedView(t||{},i);return this.insert(s,o),s}createComponent(e,t,r,o,i){const s=e&&!function zd(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const v=t||{};a=v.index,r=v.injector,o=v.projectableNodes,i=v.environmentInjector||v.ngModuleRef}const u=s?e:new af(Pt(e)),f=r||this.parentInjector;if(!i&&null==u.ngModule){const D=(s?f:this.parentInjector).get(Ra,null);D&&(i=D)}const g=u.create(f,o,void 0,i);return this.insert(g.hostView,a),g}insert(e,t){const r=e._lView,o=r[1];if(function Wp(n){return Gt(n[3])}(r)){const g=this.indexOf(e);if(-1!==g)this.detach(g);else{const v=r[3],D=new GS(v,v[6],v[3]);D.detach(D.indexOf(e))}}const i=this._adjustIndex(t),s=this._lContainer;!function rT(n,e,t,r){const o=10+r,i=t.length;r>0&&(t[o-1][4]=e),r<i-10?(e[4]=t[o],l0(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const s=e[17];null!==s&&t!==s&&function oT(n,e){const t=n[9];e[M]!==e[3][3][M]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(o,r,s,i);const a=i_(i,s),u=r[11],f=rh(u,s[7]);return null!==f&&function eT(n,e,t,r,o,i){r[0]=o,r[6]=e,Jd(n,r,t,1,o,i)}(o,s[6],u,r,f,a),e.attachToViewContainerRef(),l0(sy(s),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=HS(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=n_(this._lContainer,t);r&&(Jp(sy(this._lContainer),t),P0(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=n_(this._lContainer,t);return r&&null!=Jp(sy(this._lContainer),t)?new sf(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function HS(n){return n[8]}function sy(n){return n[8]||(n[8]=[])}function zS(n,e){let t;const r=e[n.index];if(Gt(r))t=r;else{let o;if(8&n.type)o=Bo(r);else{const i=e[11];o=i.createComment("");const s=$i(n,e);Dc(i,rh(i,s),o,function lT(n,e){return n.nextSibling(e)}(i,s),!1)}e[n.index]=t=zC(r,e,o,n),gh(e,t)}return new GS(t,n,e)}class ay{constructor(e){this.queryList=e,this.matches=null}clone(){return new ay(this.queryList)}setDirty(){this.queryList.setDirty()}}class ly{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,o=[];for(let i=0;i<r;i++){const s=t.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new ly(o)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==KS(e,t).matches&&this.queries[t].setDirty()}}class WS{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class cy{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const o=null!==t?t.length:0,i=this.getByIndex(r).embeddedTView(e,o);i&&(i.indexInDeclarationView=r,null!==t?t.push(i):t=[i])}return null!==t?new cy(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class uy{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new uy(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const i=r[o];this.matchTNodeWithReadOption(e,t,f2(t,i)),this.matchTNodeWithReadOption(e,t,Qp(t,e,i,!1,!1))}else r===vs?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Qp(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===_t||o===Hi||o===vs&&4&t.type)this.addMatch(t.index,-2);else{const i=Qp(t,e,o,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function f2(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function h2(n,e,t,r){return-1===t?function p2(n,e){return 11&n.type?bu(n,e):4&n.type?Ph(n,e):null}(e,n):-2===t?function m2(n,e,t){return t===_t?bu(e,n):t===vs?Ph(e,n):t===Hi?zS(e,n):void 0}(n,e,r):Sc(n,n[1],t,e)}function ZS(n,e,t,r){const o=e[19].queries[r];if(null===o.matches){const i=n.data,s=t.matches,a=[];for(let u=0;u<s.length;u+=2){const f=s[u];a.push(f<0?null:h2(e,i[f],s[u+1],t.metadata.read))}o.matches=a}return o.matches}function dy(n,e,t,r){const o=n.queries.getByIndex(t),i=o.matches;if(null!==i){const s=ZS(n,e,o,t);for(let a=0;a<i.length;a+=2){const u=i[a];if(u>0)r.push(s[a/2]);else{const f=i[a+1],g=e[-u];for(let v=10;v<g.length;v++){const D=g[v];D[17]===D[3]&&dy(D[1],D,f,r)}if(null!==g[9]){const v=g[9];for(let D=0;D<v.length;D++){const T=v[D];dy(T[1],T,f,r)}}}}}return r}function Fs(n){const e=dt(),t=ar(),r=Ci();Qr(r+1);const o=KS(t,r);if(n.dirty&&function zp(n){return 4==(4&n[2])}(e)===(2==(2&o.metadata.flags))){if(null===o.matches)n.reset([]);else{const i=o.crossesNgTemplate?dy(t,e,r,[]):ZS(t,e,o,r);n.reset(i,rA),n.notifyOnChanges()}return!0}return!1}function $u(n,e,t){const r=ar();r.firstCreatePass&&(YS(r,new WS(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),qS(r,dt(),e)}function Os(){return function g2(n,e){return n[19].queries[e].queryList}(dt(),Ci())}function qS(n,e,t){const r=new iy(4==(4&t));BC(n,e,r,r.destroy),null===e[19]&&(e[19]=new ly),e[19].queries.push(new ay(r))}function YS(n,e,t){null===n.queries&&(n.queries=new cy),n.queries.track(new uy(e,t))}function KS(n,e){return n.queries.getByIndex(e)}function Fh(...n){}const Rc=new en("Application Initializer");let Oh=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Fh,this.reject=Fh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let o=0;o<this.appInits.length;o++){const i=this.appInits[o]();if(df(i))t.push(i);else if(H_(i)){const s=new Promise((a,u)=>{i.subscribe({complete:a,error:u})});t.push(s)}}Promise.all(t).then(()=>{r()}).catch(o=>{this.reject(o)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(he(Rc,8))},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Sf=new en("AppId",{providedIn:"root",factory:function mE(){return`${gy()}${gy()}${gy()}`}});function gy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const gE=new en("Platform Initializer"),Uu=new en("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),_E=new en("appBootstrapListener");let $2=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const vl=new en("LocaleId",{providedIn:"root",factory:()=>An(vl,sn.Optional|sn.SkipSelf)||function B2(){return typeof $localize<"u"&&$localize.locale||Nu}()});class U2{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let yE=(()=>{class n{compileModuleSync(t){return new ny(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),i=gl(ui(t).declarations).reduce((s,a)=>{const u=Pt(a);return u&&s.push(new af(u)),s},[]);return new U2(r,i)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const H2=(()=>Promise.resolve(0))();function _y(n){typeof Zone>"u"?H2.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class ut{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xn(!1),this.onMicrotaskEmpty=new xn(!1),this.onStable=new xn(!1),this.onError=new xn(!1),typeof Zone>"u")throw new Se(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&t,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function z2(){let n=pr.requestAnimationFrame,e=pr.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function q2(n){const e=()=>{!function Z2(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(pr,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,vy(n),n.isCheckStableRunning=!0,yy(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),vy(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,o,i,s,a)=>{try{return CE(n),t.invokeTask(o,i,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||n.shouldCoalesceRunChangeDetection)&&e(),wE(n)}},onInvoke:(t,r,o,i,s,a,u)=>{try{return CE(n),t.invoke(o,i,s,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),wE(n)}},onHasTask:(t,r,o,i)=>{t.hasTask(o,i),r===o&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,vy(n),yy(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,r,o,i)=>(t.handleError(o,i),n.runOutsideAngular(()=>n.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ut.isInAngularZone())throw new Se(909,!1)}static assertNotInAngularZone(){if(ut.isInAngularZone())throw new Se(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,e,W2,Fh,Fh);try{return i.runTask(s,t,r)}finally{i.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const W2={};function yy(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function vy(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function CE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function wE(n){n._nesting--,yy(n)}class Y2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xn,this.onMicrotaskEmpty=new xn,this.onStable=new xn,this.onError=new xn}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,o){return e.apply(t,r)}}const SE=new en(""),Nh=new en("");let wy,by=(()=>{class n{constructor(t,r,o){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,wy||(function K2(n){wy=n}(o),o.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ut.assertNotInAngularZone(),_y(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())_y(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==i),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:o})}whenStable(t,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,o){return[]}}return n.\u0275fac=function(t){return new(t||n)(he(ut),he(Cy),he(Nh))},n.\u0275prov=pt({token:n,factory:n.\u0275fac}),n})(),Cy=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return wy?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Zl=null;const EE=new en("AllowMultipleToken"),Sy=new en("PlatformDestroyListeners");class DE{constructor(e,t){this.name=e,this.token=t}}function kE(n,e,t=[]){const r=`Platform: ${e}`,o=new en(r);return(i=[])=>{let s=Ey();if(!s||s.injector.get(EE,!1)){const a=[...t,...i,{provide:o,useValue:!0}];n?n(a):function J2(n){if(Zl&&!Zl.get(EE,!1))throw new Se(400,!1);Zl=n;const e=n.get(ME);(function IE(n){const e=n.get(gE,null);e&&e.forEach(t=>t())})(n)}(function xE(n=[],e){return yo.create({name:e,providers:[{provide:__,useValue:"platform"},{provide:Sy,useValue:new Set([()=>Zl=null])},...n]})}(a,r))}return function tO(n){const e=Ey();if(!e)throw new Se(401,!1);return e}()}}function Ey(){return Zl?.get(ME)??null}let ME=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const o=function AE(n,e){let t;return t="noop"===n?new Y2:("zone.js"===n?void 0:n)||new ut(e),t}(r?.ngZone,function TE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),i=[{provide:ut,useValue:o}];return o.run(()=>{const s=yo.create({providers:i,parent:this.injector,name:t.moduleType.name}),a=t.create(s),u=a.injector.get(Cu,null);if(!u)throw new Se(402,!1);return o.runOutsideAngular(()=>{const f=o.onError.subscribe({next:g=>{u.handleError(g)}});a.onDestroy(()=>{Lh(this._modules,a),f.unsubscribe()})}),function PE(n,e,t){try{const r=t();return df(r)?r.catch(o=>{throw e.runOutsideAngular(()=>n.handleError(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,o,()=>{const f=a.injector.get(Oh);return f.runInitializers(),f.donePromise.then(()=>(function oS(n){Lo(n,"Expected localeId to be defined"),"string"==typeof n&&(rS=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(vl,Nu)||Nu),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const o=RE({},r);return function X2(n,e,t){const r=new ny(t);return Promise.resolve(r)}(0,0,t).then(i=>this.bootstrapModuleFactory(i,o))}_moduleDoBootstrap(t){const r=t.injector.get(ql);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!t.instance.ngDoBootstrap)throw new Se(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Se(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(Sy,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(he(yo))},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function RE(n,e){return Array.isArray(e)?e.reduce(RE,n):{...n,...e}}let ql=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,o){this._zone=t,this._injector=r,this._exceptionHandler=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const i=new Ct(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new Ct(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{ut.assertNotInAngularZone(),_y(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const f=this._zone.onUnstable.subscribe(()=>{ut.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),f.unsubscribe()}});this.isStable=_i(i,s.pipe(Us()))}bootstrap(t,r){const o=t instanceof hC;if(!this._injector.get(Oh).done)throw!o&&function la(n){const e=Pt(n)||Gn(n)||pn(n);return null!==e&&e.standalone}(t),new Se(405,false);let s;s=o?t:this._injector.get(hl).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function Q2(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Lu),f=s.create(yo.NULL,[],r||s.selector,a),g=f.location.nativeElement,v=f.injector.get(SE,null);return v?.registerApplication(g),f.onDestroy(()=>{this.detachView(f.hostView),Lh(this.components,f),v?.unregisterApplication(g)}),this._loadComponent(f),f}tick(){if(this._runningTick)throw new Se(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Lh(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(_E,[]);r.push(...this._bootstrapListeners),r.forEach(o=>o(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Lh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Se(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(he(ut),he(Ra),he(Cu))},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Lh(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let St=(()=>{class n{}return n.__NG_ELEMENT_ID__=rO,n})();function rO(n){return function oO(n,e,t){if(vr(n)&&!t){const r=Bi(n.index,e);return new sf(r,r)}return 47&n.type?new sf(e[M],e):null}(yn(),dt(),16==(16&n))}class $E{constructor(){}supports(e){return Ch(e)}create(e){return new uO(e)}}const cO=(n,e)=>e;class uO{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||cO}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,o=0,i=null;for(;t||r;){const s=!r||t&&t.currentIndex<VE(r,o,i)?t:r,a=VE(s,o,i),u=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)o++;else{i||(i=[]);const f=a-o,g=u-o;if(f!=g){for(let D=0;D<f;D++){const T=D<i.length?i[D]:i[D]=0,K=T+D;g<=K&&K<f&&(i[D]=T+1)}i[s.previousIndex]=g-f}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Ch(e))throw new Se(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let o,i,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)i=e[a],s=this._trackByFn(a,i),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,i,s,a)),Object.is(t.item,i)||this._addIdentityChange(t,i)):(t=this._mismatch(t,i,s,a),r=!0),t=t._next}else o=0,function BP(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Mc()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(o,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,o)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,o),r=!0),t=t._next,o++}),this.length=o;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,o){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,o)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,o)):e=this._addAfter(new dO(t,r),i,o),e}_verifyReinsertion(e,t,r,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?e=this._reinsertAfter(i,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const o=e._prevRemoved,i=e._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const o=null===t?this._itHead:t._next;return e._next=o,e._prev=t,null===o?this._itTail=e:o._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new BE),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new BE),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class dO{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class fO{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class BE{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new fO,this.map.set(t,r)),r.add(e)}get(e,t){const o=this.map.get(e);return o?o.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function VE(n,e,t){const r=n.previousIndex;if(null===r)return r;let o=0;return t&&r<t.length&&(o=t[r]),r+e+o}function jE(){return new Ef([new $E])}let Ef=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const o=r.factories.slice();t=t.concat(o)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||jE()),deps:[[n,new qd,new Zd]]}}find(t){const r=this.factories.find(o=>o.supports(t));if(null!=r)return r;throw new Se(901,!1)}}return n.\u0275prov=pt({token:n,providedIn:"root",factory:jE}),n})();const _O=kE(null,"core",[]);let yO=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(he(ql))},n.\u0275mod=Wn({type:n}),n.\u0275inj=Dr({}),n})(),My=null;function Ua(){return My}class CO{}const ni=new en("DocumentToken");let Ty=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:function(){return function wO(){return he(HE)}()},providedIn:"platform"}),n})();const SO=new en("Location Initialized");let HE=(()=>{class n extends Ty{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ua().getBaseHref(this._doc)}onPopState(t){const r=Ua().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Ua().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){zE()?this._history.pushState(t,r,o):this._location.hash=o}replaceState(t,r,o){zE()?this._history.replaceState(t,r,o):this._location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(he(ni))},n.\u0275prov=pt({token:n,factory:function(){return function EO(){return new HE(he(ni))}()},providedIn:"platform"}),n})();function zE(){return!!window.history.pushState}function Ay(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function WE(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Cl(n){return n&&"?"!==n[0]?"?"+n:n}let ja=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:function(){return An(qE)},providedIn:"root"}),n})();const ZE=new en("appBaseHref");let qE=(()=>{class n extends ja{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??An(ni).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ay(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Cl(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,i){const s=this.prepareExternalUrl(o+Cl(i));this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){const s=this.prepareExternalUrl(o+Cl(i));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(he(Ty),he(ZE,8))},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YE=(()=>{class n extends ja{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ay(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,i){let s=this.prepareExternalUrl(o+Cl(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){let s=this.prepareExternalUrl(o+Cl(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(he(Ty),he(ZE,8))},n.\u0275prov=pt({token:n,factory:n.\u0275fac}),n})(),If=(()=>{class n{constructor(t){this._subject=new xn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function kO(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(WE(KE(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Cl(r))}normalize(t){return n.stripTrailingSlash(function IO(n,e){return n&&new RegExp(`^${n}([/;?#]|$)`).test(e)?e.substring(n.length):e}(this._basePath,KE(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Cl(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Cl(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=Cl,n.joinWithSlash=Ay,n.stripTrailingSlash=WE,n.\u0275fac=function(t){return new(t||n)(he(ja))},n.\u0275prov=pt({token:n,factory:function(){return function DO(){return new If(he(ja))}()},providedIn:"root"}),n})();function KE(n){return n.replace(/\/index.html$/,"")}function iD(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,i]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(i)}return null}class fN{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Oc=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,i,s)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new fN(o.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===i?void 0:i);else if(null!==i){const a=r.get(i);r.move(a,s),cD(a,o)}});for(let o=0,i=r.length;o<i;o++){const a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{cD(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(S(Hi),S(vs),S(Ef))},n.\u0275dir=at({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function cD(n,e){n.context.$implicit=e.item}let fi=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new hN,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){uD("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){uD("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(S(Hi),S(vs))},n.\u0275dir=at({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class hN{constructor(){this.$implicit=null,this.ngIf=null}}function uD(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${O(e)}'.`)}class jy{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Yh=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const r of this._defaultViews)r.enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=at({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),dD=(()=>{class n{constructor(t,r,o){this.ngSwitch=o,o._addCase(),this._view=new jy(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(S(Hi),S(vs),S(Yh,9))},n.\u0275dir=at({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),fD=(()=>{class n{constructor(t,r,o){o._addDefault(new jy(t,r))}}return n.\u0275fac=function(t){return new(t||n)(S(Hi),S(vs),S(Yh,9))},n.\u0275dir=at({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})();class _N{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class yN{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const vN=new yN,bN=new _N;let hD=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(df(t))return vN;if(dw(t))return bN;throw function ma(n,e){return new Se(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(S(St,16))},n.\u0275pipe=jn({name:"async",type:n,pure:!1,standalone:!0}),n})(),Ga=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Dr({}),n})();const gD="browser";function Yl(n){return n===gD}let UN=(()=>{class n{}return n.\u0275prov=pt({token:n,providedIn:"root",factory:()=>new jN(he(ni),window)}),n})();class jN{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function GN(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(e)||i.querySelector(`[name="${e}"]`);if(s)return s}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=_D(this.window.history)||_D(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function _D(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class yD{}class gL extends CO{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Yy extends gL{static makeCurrent(){!function bO(n){My||(My=n)}(new Yy)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function _L(){return Tf=Tf||document.querySelector("base"),Tf?Tf.getAttribute("href"):null}();return null==t?null:function yL(n){Xh=Xh||document.createElement("a"),Xh.setAttribute("href",n);const e=Xh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Tf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return iD(document.cookie,e)}}let Xh,Tf=null;const SD=new en("TRANSITION_ID"),bL=[{provide:Rc,useFactory:function vL(n,e,t){return()=>{t.get(Oh).donePromise.then(()=>{const r=Ua(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let i=0;i<o.length;i++)r.remove(o[i])})}},deps:[SD,ni,yo],multi:!0}];let wL=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:n.\u0275fac}),n})();const Qh=new en("EventManagerPlugins");let Jh=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let i=0;i<o.length;i++){const s=o[i];if(s.supports(t))return this._eventNameToPlugin.set(t,s),s}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(he(Qh),he(ut))},n.\u0275prov=pt({token:n,factory:n.\u0275fac}),n})();class ED{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=Ua().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let DD=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:n.\u0275fac}),n})(),Af=(()=>{class n extends DD{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(i=>{const s=this._doc.createElement("style");s.textContent=i,o.push(r.appendChild(s))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(ID),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(ID))}}return n.\u0275fac=function(t){return new(t||n)(he(ni))},n.\u0275prov=pt({token:n,factory:n.\u0275fac}),n})();function ID(n){Ua().remove(n)}const Ky={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Xy=/%COMP%/g;function Qy(n,e){return e.flat(100).map(t=>t.replace(Xy,n))}function MD(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Jy=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new ev(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case C.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new xL(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case C.ShadowDom:return new ML(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=Qy(r.id,r.styles);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(he(Jh),he(Af),he(Sf))},n.\u0275prov=pt({token:n,factory:n.\u0275fac}),n})();class ev{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ky[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(AD(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(AD(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const i=Ky[o];i?e.setAttributeNS(i,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=Ky[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(_s.DashCase|_s.Important)?e.style.setProperty(t,r,o&_s.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&_s.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,MD(r)):this.eventManager.addEventListener(e,t,MD(r))}}function AD(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class xL extends ev{constructor(e,t,r,o){super(e),this.component=r;const i=Qy(o+"-"+r.id,r.styles);t.addStyles(i),this.contentAttr=function DL(n){return"_ngcontent-%COMP%".replace(Xy,n)}(o+"-"+r.id),this.hostAttr=function IL(n){return"_nghost-%COMP%".replace(Xy,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class ML extends ev{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=Qy(o.id,o.styles);for(let s=0;s<i.length;s++){const a=document.createElement("style");a.textContent=i[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let TL=(()=>{class n extends ED{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(he(ni))},n.\u0275prov=pt({token:n,factory:n.\u0275fac}),n})();const PD=["alt","control","meta","shift"],AL={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},PL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let RL=(()=>{class n extends ED{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const i=n.parseEventName(r),s=n.eventCallback(i.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ua().onAndCancel(t,i.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const i=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),PD.forEach(f=>{const g=r.indexOf(f);g>-1&&(r.splice(g,1),s+=f+".")}),s+=i,0!=r.length||0===i.length)return null;const u={};return u.domEventName=o,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let o=AL[t.key]||t.key,i="";return r.indexOf("code.")>-1&&(o=t.code,i="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),PD.forEach(s=>{s!==o&&(0,PL[s])(t)&&(i+=s+".")}),i+=o,i===r)}static eventCallback(t,r,o){return i=>{n.matchEventFullKeyCode(i,t)&&o.runGuarded(()=>r(i))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(he(ni))},n.\u0275prov=pt({token:n,factory:n.\u0275fac}),n})();const LL=kE(_O,"browser",[{provide:Uu,useValue:gD},{provide:gE,useValue:function FL(){Yy.makeCurrent()},multi:!0},{provide:ni,useFactory:function NL(){return function gT(n){c_=n}(document),document},deps:[]}]),OD=new en(""),ND=[{provide:Nh,useClass:class CL{addToWindow(e){pr.getAngularTestability=(r,o=!0)=>{const i=e.findTestabilityInTree(r,o);if(null==i)throw new Error("Could not find testability for element.");return i},pr.getAllAngularTestabilities=()=>e.getAllTestabilities(),pr.getAllAngularRootElements=()=>e.getAllRootElements(),pr.frameworkStabilizers||(pr.frameworkStabilizers=[]),pr.frameworkStabilizers.push(r=>{const o=pr.getAllAngularTestabilities();let i=o.length,s=!1;const a=function(u){s=s||u,i--,0==i&&r(s)};o.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Ua().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:SE,useClass:by,deps:[ut,Cy,Nh]},{provide:by,useClass:by,deps:[ut,Cy,Nh]}],LD=[{provide:__,useValue:"root"},{provide:Cu,useFactory:function OL(){return new Cu},deps:[]},{provide:Qh,useClass:TL,multi:!0,deps:[ni,ut,Uu]},{provide:Qh,useClass:RL,multi:!0,deps:[ni]},{provide:Jy,useClass:Jy,deps:[Jh,Af,Sf]},{provide:gC,useExisting:Jy},{provide:DD,useExisting:Af},{provide:Af,useClass:Af,deps:[ni]},{provide:Jh,useClass:Jh,deps:[Qh,ut]},{provide:yD,useClass:wL,deps:[]},[]];let $L=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Sf,useValue:t.appId},{provide:SD,useExisting:Sf},bL]}}}return n.\u0275fac=function(t){return new(t||n)(he(OD,12))},n.\u0275mod=Wn({type:n}),n.\u0275inj=Dr({providers:[...LD,...ND],imports:[Ga,yO]}),n})(),$D=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(he(ni))},n.\u0275prov=pt({token:n,factory:function(t){let r=null;return r=t?new t:function VL(){return new $D(he(ni))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let rv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:function(t){let r=null;return r=t?new(t||n):he(UD),r},providedIn:"root"}),n})(),UD=(()=>{class n extends rv{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case Zr.NONE:return r;case Zr.HTML:return Pa(r,"HTML")?Ts(r):tC(this._doc,String(r)).toString();case Zr.STYLE:return Pa(r,"Style")?Ts(r):r;case Zr.SCRIPT:if(Pa(r,"Script"))return Ts(r);throw new Error("unsafe value used in a script context");case Zr.URL:return Pa(r,"URL")?Ts(r):lh(String(r));case Zr.RESOURCE_URL:if(Pa(r,"ResourceURL"))return Ts(r);throw new Error(`unsafe value used in a resource URL context (see ${it})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${it})`)}}bypassSecurityTrustHtml(t){return function ST(n){return new _T(n)}(t)}bypassSecurityTrustStyle(t){return function ET(n){return new yT(n)}(t)}bypassSecurityTrustScript(t){return function DT(n){return new vT(n)}(t)}bypassSecurityTrustUrl(t){return function IT(n){return new bT(n)}(t)}bypassSecurityTrustResourceUrl(t){return function kT(n){return new CT(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(he(ni))},n.\u0275prov=pt({token:n,factory:function(t){let r=null;return r=t?new t:function ZL(n){return new UD(n.get(ni))}(he(yo)),r},providedIn:"root"}),n})();var Ho=R(1158),qL=R(9233),Gu=R.n(qL);let em,tm;function jD(n){if(!window.location.hash.startsWith(n))return;const e=window.location.hash.split("?")[1];if(!e)return;const t=e.split("&").map(r=>r.split("="));for(const[r,o]of t)if("url"===r&&o)try{return decodeURIComponent(o)}catch{continue}}function GD(){return void 0!==tm}class HD{constructor(){this.requestEvent=new Ho.j}dispatchRequest(e){if(e){try{e=new(Gu())(e).toString()}catch{return void console.error(`invalid URL: ${e}`)}this.url=e,this.requestEvent.dispatch()}}hasPendingRequest(){return void 0!==this.url}receivePendingUrl(){const e=this.url;return this.url=void 0,e}}class Xl{constructor(){this.installation=new HD,this.import=new HD,em&&this.installation.dispatchRequest(em),tm&&this.import.dispatchRequest(tm)}}function dn(...n){return Kn(n,Pi(n))}function Ql(n,e){return E(e)?_r(n,e,1):_r(n,1)}function Si(n,e){return z((t,r)=>{let o=0;t.subscribe(Ce(r,i=>n.call(e,i,o++)&&r.next(i)))})}Xl.\u0275fac=function(e){return new(e||Xl)},Xl.\u0275prov=pt({token:Xl,factory:Xl.\u0275fac,providedIn:"root"});class nm{}class ov{}class Sl{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const o=t.slice(0,r),i=o.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const o=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(t,o))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Sl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Sl;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Sl?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":const i=e.value;if(i){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class XL{encodeKey(e){return zD(e)}encodeValue(e){return zD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const JL=/%(\d[a-f0-9])/gi,e3={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function zD(n){return encodeURIComponent(n).replace(JL,(e,t)=>e3[t]??e)}function rm(n){return`${n}`}class Jl{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new XL,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function QL(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,i)),e.decodeValue(o.slice(i+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],o=Array.isArray(r)?r.map(rm):[rm(r)];this.map.set(t,o)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(i=>{t.push({param:r,value:i,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Jl({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(rm(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const o=r.indexOf(rm(e.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class t3{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function WD(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function ZD(n){return typeof Blob<"u"&&n instanceof Blob}function qD(n){return typeof FormData<"u"&&n instanceof FormData}class Pf{constructor(e,t,r,o){let i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function n3(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,i=o):i=r,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new Sl),this.context||(this.context=new t3),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Jl,this.urlWithParams=t}serializeBody(){return null===this.body?null:WD(this.body)||ZD(this.body)||qD(this.body)||function r3(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Jl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||qD(this.body)?null:ZD(this.body)?this.body.type||null:WD(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Jl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,o=e.responseType||this.responseType,i=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,f=e.params||this.params;const g=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((v,D)=>v.set(D,e.setHeaders[D]),u)),e.setParams&&(f=Object.keys(e.setParams).reduce((v,D)=>v.set(D,e.setParams[D]),f)),new Pf(t,r,i,{params:f,headers:u,context:g,reportProgress:a,responseType:o,withCredentials:s})}}var zo=(()=>((zo=zo||{})[zo.Sent=0]="Sent",zo[zo.UploadProgress=1]="UploadProgress",zo[zo.ResponseHeader=2]="ResponseHeader",zo[zo.DownloadProgress=3]="DownloadProgress",zo[zo.Response=4]="Response",zo[zo.User=5]="User",zo))();class iv{constructor(e,t=200,r="OK"){this.headers=e.headers||new Sl,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class sv extends iv{constructor(e={}){super(e),this.type=zo.ResponseHeader}clone(e={}){return new sv({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class om extends iv{constructor(e={}){super(e),this.type=zo.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new om({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class YD extends iv{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function av(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let lv=(()=>{class n{constructor(t){this.handler=t}request(t,r,o={}){let i;if(t instanceof Pf)i=t;else{let u,f;u=o.headers instanceof Sl?o.headers:new Sl(o.headers),o.params&&(f=o.params instanceof Jl?o.params:new Jl({fromObject:o.params})),i=new Pf(t,r,void 0!==o.body?o.body:null,{headers:u,context:o.context,params:f,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const s=dn(i).pipe(Ql(u=>this.handler.handle(u)));if(t instanceof Pf||"events"===o.observe)return s;const a=s.pipe(Si(u=>u instanceof om));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(Pe(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(Pe(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(Pe(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(Pe(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Jl).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,av(o,r))}post(t,r,o={}){return this.request("POST",t,av(o,r))}put(t,r,o={}){return this.request("PUT",t,av(o,r))}}return n.\u0275fac=function(t){return new(t||n)(he(nm))},n.\u0275prov=pt({token:n,factory:n.\u0275fac}),n})();function KD(n,e){return e(n)}function o3(n,e){return(t,r)=>e.intercept(t,{handle:o=>n(o,r)})}const s3=new en("HTTP_INTERCEPTORS"),Rf=new en("HTTP_INTERCEPTOR_FNS");function a3(){let n=null;return(e,t)=>(null===n&&(n=(An(s3,{optional:!0})??[]).reduceRight(o3,KD)),n(e,t))}let XD=(()=>{class n extends nm{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(Rf)));this.chain=r.reduceRight((o,i)=>function i3(n,e,t){return(r,o)=>t.runInContext(()=>e(r,i=>n(i,o)))}(o,i,this.injector),KD)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(he(ov),he(Ra))},n.\u0275prov=pt({token:n,factory:n.\u0275fac}),n})();const d3=/^\)\]\}',?\n/;let JD=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ct(r=>{const o=this.xhrFactory.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((T,K)=>o.setRequestHeader(T,K.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const T=t.detectContentTypeHeader();null!==T&&o.setRequestHeader("Content-Type",T)}if(t.responseType){const T=t.responseType.toLowerCase();o.responseType="json"!==T?T:"text"}const i=t.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const T=o.statusText||"OK",K=new Sl(o.getAllResponseHeaders()),me=function f3(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return s=new sv({headers:K,status:o.status,statusText:T,url:me}),s},u=()=>{let{headers:T,status:K,statusText:me,url:je}=a(),Ye=null;204!==K&&(Ye=typeof o.response>"u"?o.responseText:o.response),0===K&&(K=Ye?200:0);let yt=K>=200&&K<300;if("json"===t.responseType&&"string"==typeof Ye){const Oe=Ye;Ye=Ye.replace(d3,"");try{Ye=""!==Ye?JSON.parse(Ye):null}catch(At){Ye=Oe,yt&&(yt=!1,Ye={error:At,text:Ye})}}yt?(r.next(new om({body:Ye,headers:T,status:K,statusText:me,url:je||void 0})),r.complete()):r.error(new YD({error:Ye,headers:T,status:K,statusText:me,url:je||void 0}))},f=T=>{const{url:K}=a(),me=new YD({error:T,status:o.status||0,statusText:o.statusText||"Unknown Error",url:K||void 0});r.error(me)};let g=!1;const v=T=>{g||(r.next(a()),g=!0);let K={type:zo.DownloadProgress,loaded:T.loaded};T.lengthComputable&&(K.total=T.total),"text"===t.responseType&&o.responseText&&(K.partialText=o.responseText),r.next(K)},D=T=>{let K={type:zo.UploadProgress,loaded:T.loaded};T.lengthComputable&&(K.total=T.total),r.next(K)};return o.addEventListener("load",u),o.addEventListener("error",f),o.addEventListener("timeout",f),o.addEventListener("abort",f),t.reportProgress&&(o.addEventListener("progress",v),null!==i&&o.upload&&o.upload.addEventListener("progress",D)),o.send(i),r.next({type:zo.Sent}),()=>{o.removeEventListener("error",f),o.removeEventListener("abort",f),o.removeEventListener("load",u),o.removeEventListener("timeout",f),t.reportProgress&&(o.removeEventListener("progress",v),null!==i&&o.upload&&o.upload.removeEventListener("progress",D)),o.readyState!==o.DONE&&o.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(he(yD))},n.\u0275prov=pt({token:n,factory:n.\u0275fac}),n})();const cv=new en("XSRF_ENABLED"),e1="XSRF-TOKEN",t1=new en("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>e1}),n1="X-XSRF-TOKEN",r1=new en("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>n1});class o1{}let p3=(()=>{class n{constructor(t,r,o){this.doc=t,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=iD(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(he(ni),he(Uu),he(t1))},n.\u0275prov=pt({token:n,factory:n.\u0275fac}),n})();function h3(n,e){const t=n.url.toLowerCase();if(!An(cv)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=An(o1).getToken(),o=An(r1);return null!=r&&!n.headers.has(o)&&(n=n.clone({headers:n.headers.set(o,r)})),e(n)}var Ro=(()=>((Ro=Ro||{})[Ro.Interceptors=0]="Interceptors",Ro[Ro.LegacyInterceptors=1]="LegacyInterceptors",Ro[Ro.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ro[Ro.NoXsrfProtection=3]="NoXsrfProtection",Ro[Ro.JsonpSupport=4]="JsonpSupport",Ro[Ro.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ro))();function Hu(n,e){return{\u0275kind:n,\u0275providers:e}}function m3(...n){const e=[lv,JD,XD,{provide:nm,useExisting:XD},{provide:ov,useExisting:JD},{provide:Rf,useValue:h3,multi:!0},{provide:cv,useValue:!0},{provide:o1,useClass:p3}];for(const t of n)e.push(...t.\u0275providers);return function GT(n){return{\u0275providers:n}}(e)}const i1=new en("LEGACY_INTERCEPTOR_FN");function _3({cookieName:n,headerName:e}){const t=[];return void 0!==n&&t.push({provide:t1,useValue:n}),void 0!==e&&t.push({provide:r1,useValue:e}),Hu(Ro.CustomXsrfConfiguration,t)}let y3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Dr({providers:[m3(Hu(Ro.LegacyInterceptors,[{provide:i1,useFactory:a3},{provide:Rf,useExisting:i1,multi:!0}]),_3({cookieName:e1,headerName:n1}))]}),n})();const{isArray:v3}=Array,{getPrototypeOf:b3,prototype:C3,keys:w3}=Object;function s1(n){if(1===n.length){const e=n[0];if(v3(e))return{args:e,keys:null};if(function S3(n){return n&&"object"==typeof n&&b3(n)===C3}(e)){const t=w3(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:E3}=Array;function uv(n){return Pe(e=>function D3(n,e){return E3(e)?n(...e):n(e)}(n,e))}function a1(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}let l1=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(S(ml),S(_t))},n.\u0275dir=at({type:n}),n})(),Nc=(()=>{class n extends l1{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=di(n)))(r||n)}}(),n.\u0275dir=at({type:n,features:[Cr]}),n})();const Qi=new en("NgValueAccessor"),x3={provide:Qi,useExisting:Fe(()=>dv),multi:!0},T3=new en("CompositionEventMode");let dv=(()=>{class n extends l1{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function M3(){const n=Ua()?Ua().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(S(ml),S(_t),S(T3,8))},n.\u0275dir=at({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&st("input",function(i){return r._handleInput(i.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(i){return r._compositionEnd(i.target.value)})},features:[jr([x3]),Cr]}),n})();function ec(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function u1(n){return null!=n&&"number"==typeof n.length}const zi=new en("NgValidators"),tc=new en("NgAsyncValidators"),P3=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ff{static min(e){return function d1(n){return e=>{if(ec(e.value)||ec(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function f1(n){return e=>{if(ec(e.value)||ec(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function p1(n){return ec(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function h1(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function m1(n){return ec(n.value)||P3.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function g1(n){return e=>ec(e.value)||!u1(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return _1(e)}static pattern(e){return function y1(n){if(!n)return im;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(ec(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(e)}static nullValidator(e){return null}static compose(e){return E1(e)}static composeAsync(e){return D1(e)}}function _1(n){return e=>u1(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function im(n){return null}function v1(n){return null!=n}function b1(n){return df(n)?Kn(n):n}function C1(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function w1(n,e){return e.map(t=>t(n))}function S1(n){return n.map(e=>function R3(n){return!n.validate}(e)?e:t=>e.validate(t))}function E1(n){if(!n)return null;const e=n.filter(v1);return 0==e.length?null:function(t){return C1(w1(t,e))}}function fv(n){return null!=n?E1(S1(n)):null}function D1(n){if(!n)return null;const e=n.filter(v1);return 0==e.length?null:function(t){return function I3(...n){const e=cs(n),{args:t,keys:r}=s1(n),o=new Ct(i=>{const{length:s}=t;if(!s)return void i.complete();const a=new Array(s);let u=s,f=s;for(let g=0;g<s;g++){let v=!1;mn(t[g]).subscribe(Ce(i,D=>{v||(v=!0,f--),a[g]=D},()=>u--,void 0,()=>{(!u||!v)&&(f||i.next(r?a1(r,a):a),i.complete())}))}});return e?o.pipe(uv(e)):o}(w1(t,e).map(b1)).pipe(Pe(C1))}}function pv(n){return null!=n?D1(S1(n)):null}function I1(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function k1(n){return n._rawValidators}function x1(n){return n._rawAsyncValidators}function hv(n){return n?Array.isArray(n)?n:[n]:[]}function sm(n,e){return Array.isArray(n)?n.includes(e):n===e}function M1(n,e){const t=hv(e);return hv(n).forEach(o=>{sm(t,o)||t.push(o)}),t}function T1(n,e){return hv(e).filter(t=>!sm(n,t))}class A1{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=fv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=pv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ji extends A1{get formDirective(){return null}get path(){return null}}class El extends A1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class P1{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Dl=(()=>{class n extends P1{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(S(El,2))},n.\u0275dir=at({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&yl("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Cr]}),n})(),Il=(()=>{class n extends P1{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(S(Ji,10))},n.\u0275dir=at({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&yl("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Cr]}),n})();const Of="VALID",lm="INVALID",zu="PENDING",Nf="DISABLED";function yv(n){return(cm(n)?n.validators:n)||null}function vv(n,e){return(cm(e)?e.asyncValidators:n)||null}function cm(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class N1{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Of}get invalid(){return this.status===lm}get pending(){return this.status==zu}get disabled(){return this.status===Nf}get enabled(){return this.status!==Nf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(M1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(M1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(T1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(T1(e,this._rawAsyncValidators))}hasValidator(e){return sm(this._rawValidators,e)}hasAsyncValidator(e){return sm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=zu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Nf,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Of,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Of||this.status===zu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Nf:Of}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=zu,this._hasOwnPendingAsyncValidator=!0;const t=b1(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new xn,this.statusChanges=new xn}_calculateStatus(){return this._allControlsDisabled()?Nf:this.errors?lm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zu)?zu:this._anyControlsHaveStatus(lm)?lm:Of}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){cm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function V3(n){return Array.isArray(n)?fv(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function U3(n){return Array.isArray(n)?pv(n):n||null}(this._rawAsyncValidators)}}class nc extends N1{constructor(e,t,r){super(yv(t),vv(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function O1(n,e,t){n._forEachChild((r,o)=>{if(void 0===t[o])throw new Se(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function F1(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new Se(1e3,"");if(!r[t])throw new Se(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,i)=>{r=t(r,o,i)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const um=nc,Wu=new en("CallSetDisabledState",{providedIn:"root",factory:()=>dm}),dm="always";function Lf(n,e,t=dm){bv(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function H3(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&L1(n,e)})}(n,e),function W3(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function z3(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&L1(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function G3(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function pm(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),mm(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function hm(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function bv(n,e){const t=k1(n);null!==e.validator?n.setValidators(I1(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=x1(n);null!==e.asyncValidator?n.setAsyncValidators(I1(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();hm(e._rawValidators,o),hm(e._rawAsyncValidators,o)}function mm(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=k1(n);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==e.validator);i.length!==o.length&&(t=!0,n.setValidators(i))}}if(null!==e.asyncValidator){const o=x1(n);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==e.asyncValidator);i.length!==o.length&&(t=!0,n.setAsyncValidators(i))}}}const r=()=>{};return hm(e._rawValidators,r),hm(e._rawAsyncValidators,r),t}function L1(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function V1(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function U1(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Cs=class extends N1{constructor(e=null,t,r){super(yv(t),vv(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),cm(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=U1(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){V1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){V1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){U1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},pi=Cs;let kl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=at({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Z1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Dr({}),n})();const Dv=new en("NgModelWithFormControlWarning"),s$={provide:Ji,useExisting:Fe(()=>ga)};let ga=(()=>{class n extends Ji{constructor(t,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new xn,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(mm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Lf(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){pm(t.control||null,t,!1),function K3(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function B1(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(pm(r||null,t),(n=>n instanceof Cs)(o)&&(Lf(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function $1(n,e){bv(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Z3(n,e){return mm(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){bv(this.form,this),this._oldForm&&mm(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(S(zi,10),S(tc,10),S(Wu,8))},n.\u0275dir=at({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&st("submit",function(i){return r.onSubmit(i)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[jr([s$]),Cr,$o]}),n})();const c$={provide:El,useExisting:Fe(()=>Ha)};let Ha=(()=>{class n extends El{set isDisabled(t){}constructor(t,r,o,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new xn,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function Sv(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(i=>{i.constructor===dv?t=i:function Y3(n){return Object.getPrototypeOf(n.constructor)===Nc}(i)?r=i:o=i}),o||r||t||null}(0,i)}ngOnChanges(t){this._added||this._setUpControl(),function wv(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function fm(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(S(Ji,13),S(zi,10),S(tc,10),S(Qi,10),S(Dv,8))},n.\u0275dir=at({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[jr([c$]),Cr,$o]}),n})();let Lc=(()=>{class n{constructor(){this._validator=im}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):im,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=at({type:n,features:[$o]}),n})();const w$={provide:zi,useExisting:Fe(()=>Av),multi:!0};let Av=(()=>{class n extends Lc{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function eI(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>_1(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=di(n)))(r||n)}}(),n.\u0275dir=at({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&Na("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[jr([w$]),Cr]}),n})(),lI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Dr({imports:[Z1]}),n})(),$c=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Wu,useValue:t.callSetDisabledState??dm}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Dr({imports:[lI]}),n})(),gm=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Dv,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Wu,useValue:t.callSetDisabledState??dm}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Dr({imports:[lI]}),n})();const D$=["addListener","removeListener"],I$=["addEventListener","removeEventListener"],k$=["on","off"];function Bf(n,e,t,r){if(E(t)&&(r=t,t=void 0),r)return Bf(n,e,t).pipe(uv(r));const[o,i]=function T$(n){return E(n.addEventListener)&&E(n.removeEventListener)}(n)?I$.map(s=>a=>n[s](e,a,t)):function x$(n){return E(n.addListener)&&E(n.removeListener)}(n)?D$.map(cI(n,e)):function M$(n){return E(n.on)&&E(n.off)}(n)?k$.map(cI(n,e)):[];if(!o&&_n(n))return _r(s=>Bf(s,e,t))(mn(n));if(!o)throw new TypeError("Invalid event target");return new Ct(s=>{const a=(...u)=>s.next(1<u.length?u:u[0]);return o(a),()=>i(a)})}function cI(n,e){return t=>r=>n[t](e,r)}class Ns extends et{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const _m=l(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function uI(...n){const e=Pi(n),t=cs(n),{args:r,keys:o}=s1(n);if(0===r.length)return Kn([],e);const i=new Ct(function A$(n,e,t=k){return r=>{dI(e,()=>{const{length:o}=n,i=new Array(o);let s=o,a=o;for(let u=0;u<o;u++)dI(e,()=>{const f=Kn(n[u],e);let g=!1;f.subscribe(Ce(r,v=>{i[u]=v,g||(g=!0,a--),a||r.next(t(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,o?s=>a1(o,s):k));return t?i.pipe(uv(t)):i}function dI(n,e,t){n?go(t,n,e):e()}function Vf(...n){return function P$(){return li(1)}()(Kn(n,Pi(n)))}function ym(n){return new Ct(e=>{mn(n()).subscribe(e)})}function Zu(n,e){const t=E(n)?n:()=>n,r=o=>o.error(t());return new Ct(e?o=>e.schedule(r,0,o):r)}function Pv(){return z((n,e)=>{let t=null;n._refCount++;const r=Ce(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,i=t;t=null,o&&(!i||o===i)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Rv extends Ct{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Ve(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new G;const t=this.getSubject();e.add(this.source.subscribe(Ce(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=G.EMPTY)}return e}refCount(){return Pv()(this)}}function Ei(n,e){return z((t,r)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&r.complete();t.subscribe(Ce(r,u=>{o?.unsubscribe();let f=0;const g=i++;mn(n(u,g)).subscribe(o=Ce(r,v=>r.next(e?e(u,v,g,f++):v),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Ls(n){return n<=0?()=>ro:z((e,t)=>{let r=0;e.subscribe(Ce(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function fI(...n){const e=Pi(n);return z((t,r)=>{(e?Vf(n,t,e):Vf(n,t)).subscribe(r)})}function vm(n){return z((e,t)=>{let r=!1;e.subscribe(Ce(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function pI(n=R$){return z((e,t)=>{let r=!1;e.subscribe(Ce(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function R$(){return new _m}function xl(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Si((o,i)=>n(o,i,r)):k,Ls(1),t?vm(e):pI(()=>new _m))}function Di(n,e,t){const r=E(n)||e||t?{next:n,error:e,complete:t}:n;return r?z((o,i)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;o.subscribe(Ce(i,u=>{var f;null===(f=r.next)||void 0===f||f.call(r,u),i.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),i.complete()},u=>{var f;a=!1,null===(f=r.error)||void 0===f||f.call(r,u),i.error(u)},()=>{var u,f;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(f=r.finalize)||void 0===f||f.call(r)}))}):k}function Ml(n){return z((e,t)=>{let i,r=null,o=!1;r=e.subscribe(Ce(t,void 0,void 0,s=>{i=mn(n(s,Ml(n)(e))),r?(r.unsubscribe(),r=null,i.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(t))})}function F$(n,e,t,r,o){return(i,s)=>{let a=t,u=e,f=0;i.subscribe(Ce(s,g=>{const v=f++;u=a?n(u,g,v):(a=!0,g),r&&s.next(u)},o&&(()=>{a&&s.next(u),s.complete()})))}}function hI(n,e){return z(F$(n,e,arguments.length>=2,!0))}function Fv(n){return n<=0?()=>ro:z((e,t)=>{let r=[];e.subscribe(Ce(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function mI(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Si((o,i)=>n(o,i,r)):k,Fv(1),t?vm(e):pI(()=>new _m))}function Ov(n){return Pe(()=>n)}function Nv(n){return z((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Un="primary",Uf=Symbol("RouteTitle");class N${constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function qu(n){return new N$(n)}function L$(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let i=0;i<r.length;i++){const s=r[i],a=n[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function za(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let i=0;i<t.length;i++)if(o=t[i],!gI(n[o],e[o]))return!1;return!0}function gI(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,i)=>r[i]===o)}return n===e}function _I(n){return Array.prototype.concat.apply([],n)}function yI(n){return n.length>0?n[n.length-1]:null}function Ii(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function rc(n){return H_(n)?n:df(n)?Kn(Promise.resolve(n)):dn(n)}const bm=!1,B$={exact:function CI(n,e,t){if(!Vc(n.segments,e.segments)||!Cm(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!CI(n.children[r],e.children[r],t))return!1;return!0},subset:wI},vI={exact:function V$(n,e){return za(n,e)},subset:function U$(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>gI(n[t],e[t]))},ignored:()=>!0};function bI(n,e,t){return B$[t.paths](n.root,e.root,t.matrixParams)&&vI[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function wI(n,e,t){return SI(n,e,e.segments,t)}function SI(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!Vc(o,t)||e.hasChildren()||!Cm(o,t,r))}if(n.segments.length===t.length){if(!Vc(n.segments,t)||!Cm(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!wI(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),i=t.slice(n.segments.length);return!!(Vc(n.segments,o)&&Cm(n.segments,o,r)&&n.children[Un])&&SI(n.children[Un],e,i,r)}}function Cm(n,e,t){return e.every((r,o)=>vI[t](n[o].parameters,r.parameters))}class Bc{constructor(e=new tr([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qu(this.queryParams)),this._queryParamMap}toString(){return H$.serialize(this)}}class tr{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Ii(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wm(this)}}class jf{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=qu(this.parameters)),this._parameterMap}toString(){return II(this)}}function Vc(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Yu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:function(){return new Lv},providedIn:"root"}),n})();class Lv{parse(e){const t=new J$(e);return new Bc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Gf(e.root,!0)}`,r=function Z$(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${Sm(t)}=${Sm(o)}`).join("&"):`${Sm(t)}=${Sm(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function z$(n){return encodeURI(n)}(e.fragment)}`:""}`}}const H$=new Lv;function wm(n){return n.segments.map(e=>II(e)).join("/")}function Gf(n,e){if(!n.hasChildren())return wm(n);if(e){const t=n.children[Un]?Gf(n.children[Un],!1):"",r=[];return Ii(n.children,(o,i)=>{i!==Un&&r.push(`${i}:${Gf(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function G$(n,e){let t=[];return Ii(n.children,(r,o)=>{o===Un&&(t=t.concat(e(r,o)))}),Ii(n.children,(r,o)=>{o!==Un&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===Un?[Gf(n.children[Un],!1)]:[`${o}:${Gf(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Un]?`${wm(n)}/${t[0]}`:`${wm(n)}/(${t.join("//")})`}}function EI(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sm(n){return EI(n).replace(/%3B/gi,";")}function $v(n){return EI(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Em(n){return decodeURIComponent(n)}function DI(n){return Em(n.replace(/\+/g,"%20"))}function II(n){return`${$v(n.path)}${function W$(n){return Object.keys(n).map(e=>`;${$v(e)}=${$v(n[e])}`).join("")}(n.parameters)}`}const q$=/^[^\/()?;=#]+/;function Dm(n){const e=n.match(q$);return e?e[0]:""}const Y$=/^[^=?&#]+/,X$=/^[^&#]+/;class J${constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new tr([],{}):new tr([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Un]=new tr(e,t)),r}parseSegment(){const e=Dm(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Se(4009,bm);return this.capture(e),new jf(Em(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Dm(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=Dm(this.remaining);o&&(r=o,this.capture(r))}e[Em(t)]=Em(r)}parseQueryParam(e){const t=function K$(n){const e=n.match(Y$);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function Q$(n){const e=n.match(X$);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const o=DI(t),i=DI(r);if(e.hasOwnProperty(o)){let s=e[o];Array.isArray(s)||(s=[s],e[o]=s),s.push(i)}else e[o]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Dm(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Se(4010,bm);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=Un);const s=this.parseChildren();t[i]=1===Object.keys(s).length?s[Un]:new tr([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Se(4011,bm)}}function Bv(n){return n.segments.length>0?new tr([],{[Un]:n}):n}function Im(n){const e={};for(const r of Object.keys(n.children)){const i=Im(n.children[r]);(i.segments.length>0||i.hasChildren())&&(e[r]=i)}return function e4(n){if(1===n.numberOfChildren&&n.children[Un]){const e=n.children[Un];return new tr(n.segments.concat(e.segments),e.children)}return n}(new tr(n.segments,e))}function Uc(n){return n instanceof Bc}function r4(n,e,t,r,o){if(0===t.length)return Ku(e.root,e.root,e.root,r,o);const i=function MI(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new xI(!0,0,n);let e=0,t=!1;const r=n.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return Ii(i.outlets,(u,f)=>{a[f]="string"==typeof u?u.split("/"):u}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new xI(t,e,r)}(t);return i.toRoot()?Ku(e.root,e.root,new tr([],{}),r,o):function s(u){const f=function i4(n,e,t,r){if(n.isAbsolute)return new Xu(e.root,!0,0);if(-1===r)return new Xu(t,t===e.root,0);return function TI(n,e,t){let r=n,o=e,i=t;for(;i>o;){if(i-=o,r=r.parent,!r)throw new Se(4005,!1);o=r.segments.length}return new Xu(r,!1,o-i)}(t,r+(Hf(n.commands[0])?0:1),n.numberOfDoubleDots)}(i,e,n.snapshot?._urlSegment,u),g=f.processChildren?Qu(f.segmentGroup,f.index,i.commands):Uv(f.segmentGroup,f.index,i.commands);return Ku(e.root,f.segmentGroup,g,r,o)}(n.snapshot?._lastPathIndex)}function Hf(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function zf(n){return"object"==typeof n&&null!=n&&n.outlets}function Ku(n,e,t,r,o){let s,i={};r&&Ii(r,(u,f)=>{i[f]=Array.isArray(u)?u.map(g=>`${g}`):`${u}`}),s=n===e?t:kI(n,e,t);const a=Bv(Im(s));return new Bc(a,i,o)}function kI(n,e,t){const r={};return Ii(n.children,(o,i)=>{r[i]=o===e?t:kI(o,e,t)}),new tr(n.segments,r)}class xI{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Hf(r[0]))throw new Se(4003,!1);const o=r.find(zf);if(o&&o!==yI(r))throw new Se(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Xu{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Uv(n,e,t){if(n||(n=new tr([],{})),0===n.segments.length&&n.hasChildren())return Qu(n,e,t);const r=function a4(n,e,t){let r=0,o=e;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return i;const s=n.segments[o],a=t[r];if(zf(a))break;const u=`${a}`,f=r<t.length-1?t[r+1]:null;if(o>0&&void 0===u)break;if(u&&f&&"object"==typeof f&&void 0===f.outlets){if(!PI(u,f,s))return i;r+=2}else{if(!PI(u,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const i=new tr(n.segments.slice(0,r.pathIndex),{});return i.children[Un]=new tr(n.segments.slice(r.pathIndex),n.children),Qu(i,0,o)}return r.match&&0===o.length?new tr(n.segments,{}):r.match&&!n.hasChildren()?jv(n,e,t):r.match?Qu(n,0,o):jv(n,e,t)}function Qu(n,e,t){if(0===t.length)return new tr(n.segments,{});{const r=function s4(n){return zf(n[0])?n[0].outlets:{[Un]:n}}(t),o={};return!r[Un]&&n.children[Un]&&1===n.numberOfChildren&&0===n.children[Un].segments.length?Qu(n.children[Un],e,t):(Ii(r,(i,s)=>{"string"==typeof i&&(i=[i]),null!==i&&(o[s]=Uv(n.children[s],e,i))}),Ii(n.children,(i,s)=>{void 0===r[s]&&(o[s]=i)}),new tr(n.segments,o))}}function jv(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const i=t[o];if(zf(i)){const u=l4(i.outlets);return new tr(r,u)}if(0===o&&Hf(t[0])){r.push(new jf(n.segments[e].path,AI(t[0]))),o++;continue}const s=zf(i)?i.outlets[Un]:`${i}`,a=o<t.length-1?t[o+1]:null;s&&a&&Hf(a)?(r.push(new jf(s,AI(a))),o+=2):(r.push(new jf(s,{})),o++)}return new tr(r,{})}function l4(n){const e={};return Ii(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=jv(new tr([],{}),0,t))}),e}function AI(n){const e={};return Ii(n,(t,r)=>e[r]=`${t}`),e}function PI(n,e,t){return n==t.path&&za(e,t.parameters)}const Wf="imperative";class Wa{constructor(e,t){this.id=e,this.url=t}}class km extends Wa{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class jc extends Wa{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class xm extends Wa{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class RI extends Wa{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=16}}class FI extends Wa{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class c4 extends Wa{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class u4 extends Wa{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class d4 extends Wa{constructor(e,t,r,o,i){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class f4 extends Wa{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class p4 extends Wa{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class h4{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class m4{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class g4{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _4{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class y4{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class v4{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class OI{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let C4=(()=>{class n{createUrlTree(t,r,o,i,s,a){return r4(t||r.root,o,i,s,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:n.\u0275fac}),n})(),w4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:function(e){return C4.\u0275fac(e)},providedIn:"root"}),n})();class NI{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Gv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Gv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Hv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Hv(e,this._root).map(t=>t.value)}}function Gv(n,e){if(n===e.value)return e;for(const t of e.children){const r=Gv(n,t);if(r)return r}return null}function Hv(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Hv(n,t);if(r.length)return r.unshift(e),r}return[]}class Tl{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ju(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class LI extends NI{constructor(e,t){super(e),this.snapshot=t,zv(this,e)}toString(){return this.snapshot.toString()}}function $I(n,e){const t=function S4(n,e){const s=new Mm([],{},{},"",{},Un,e,null,n.root,-1,{});return new VI("",new Tl(s,[]))}(n,e),r=new Ns([new jf("",{})]),o=new Ns({}),i=new Ns({}),s=new Ns({}),a=new Ns(""),u=new Al(r,o,s,a,i,Un,e,t.root);return u.snapshot=t.root,new LI(new Tl(u,[]),t)}class Al{constructor(e,t,r,o,i,s,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.title=this.data?.pipe(Pe(f=>f[Uf]))??dn(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Pe(e=>qu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Pe(e=>qu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function BI(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],i=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(i.component)break;r--}}return function E4(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Mm{get title(){return this.data?.[Uf]}constructor(e,t,r,o,i,s,a,u,f,g,v){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=u,this._urlSegment=f,this._lastPathIndex=g,this._resolve=v}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=qu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class VI extends NI{constructor(e,t){super(t),this.url=e,zv(this,t)}toString(){return UI(this._root)}}function zv(n,e){e.value._routerState=n,e.children.forEach(t=>zv(n,t))}function UI(n){const e=n.children.length>0?` { ${n.children.map(UI).join(", ")} } `:"";return`${n.value}${e}`}function Wv(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,za(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),za(e.params,t.params)||n.params.next(t.params),function $$(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!za(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),za(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Zv(n,e){const t=za(n.params,e.params)&&function j$(n,e){return Vc(n,e)&&n.every((t,r)=>za(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Zv(n.parent,e.parent))}function Zf(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function I4(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Zf(n,r,o);return Zf(n,r)})}(n,e,t);return new Tl(r,o)}{if(n.shouldAttach(e.value)){const i=n.retrieve(e.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Zf(n,a)),s}}const r=function k4(n){return new Al(new Ns(n.url),new Ns(n.params),new Ns(n.queryParams),new Ns(n.fragment),new Ns(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(i=>Zf(n,i));return new Tl(r,o)}}const qv="ngNavigationCancelingError";function jI(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Uc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=GI(!1,0,e);return o.url=t,o.navigationBehaviorOptions=r,o}function GI(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[qv]=!0,r.cancellationCode=e,t&&(r.url=t),r}function HI(n){return zI(n)&&Uc(n.url)}function zI(n){return n&&n[qv]}class x4{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Gc,this.attachRef=null}}let Gc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new x4,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Tm=!1;let WI=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Un,this.activateEvents=new xn,this.deactivateEvents=new xn,this.attachEvents=new xn,this.detachEvents=new xn,this.parentContexts=An(Gc),this.location=An(Hi),this.changeDetector=An(St),this.environmentInjector=An(Ra)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Se(4012,Tm);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Se(4012,Tm);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Se(4012,Tm);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Se(4013,Tm);this._activatedRoute=t;const o=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new M4(t,a,o.injector);if(r&&function T4(n){return!!n.resolveComponentFactory}(r)){const f=r.resolveComponentFactory(s);this.activated=o.createComponent(f,o.length,u)}else this.activated=o.createComponent(s,{index:o.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=at({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[$o]}),n})();class M4{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Al?this.route:e===Gc?this.childContexts:this.parent.get(e,t)}}let Yv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Le({type:n,selectors:[["ng-component"]],standalone:!0,features:[AS],decls:1,vars:0,template:function(t,r){1&t&&lt(0,"router-outlet")},dependencies:[WI],encapsulation:2}),n})();function ZI(n,e){return n.providers&&!n._injector&&(n._injector=Ah(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Xv(n){const e=n.children&&n.children.map(Xv),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Un&&(t.component=Yv),t}function Js(n){return n.outlet||Un}function qI(n,e){const t=n.filter(r=>Js(r)===e);return t.push(...n.filter(r=>Js(r)!==e)),t}function qf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class O4{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Wv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Ju(t);e.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Ii(o,(i,s)=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(e,t,r){const o=e.value,i=t?t.value:null;if(o===i)if(o.component){const s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else i&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,i=Ju(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,i=Ju(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Ju(t);e.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new v4(i.value.snapshot))}),e.children.length&&this.forwardEvent(new _4(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,i=t?t.value:null;if(Wv(o),o===i)if(o.component){const s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Wv(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=qf(o.snapshot),u=a?.get(hl)??null;s.attachRef=null,s.route=o,s.resolver=u,s.injector=a,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class YI{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Am{constructor(e,t){this.component=e,this.route=t}}function N4(n,e,t){const r=n._root;return Yf(r,e?e._root:null,t,[r.value])}function ed(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function wa(n){return null!==ks(n)}(n)?e.get(n):n:r}function Yf(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=Ju(e);return n.children.forEach(s=>{(function $4(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const u=function B4(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Vc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Vc(n.url,e.url)||!za(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zv(n,e)||!za(n.queryParams,e.queryParams);default:return!Zv(n,e)}}(s,i,i.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new YI(r)):(i.data=s.data,i._resolvedData=s._resolvedData),Yf(n,e,i.component?a?a.children:null:t,r,o),u&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Am(a.outlet.component,s))}else s&&Kf(e,a,o),o.canActivateChecks.push(new YI(r)),Yf(n,null,i.component?a?a.children:null:t,r,o)})(s,i[s.value.outlet],t,r.concat([s.value]),o),delete i[s.value.outlet]}),Ii(i,(s,a)=>Kf(s,t.getContext(a),o)),o}function Kf(n,e,t){const r=Ju(n),o=n.value;Ii(r,(i,s)=>{Kf(i,o.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new Am(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function Xf(n){return"function"==typeof n}function Qv(n){return n instanceof _m||"EmptyError"===n?.name}const Pm=Symbol("INITIAL_VALUE");function td(){return Ei(n=>uI(n.map(e=>e.pipe(Ls(1),fI(Pm)))).pipe(Pe(e=>{for(const t of e)if(!0!==t){if(t===Pm)return Pm;if(!1===t||t instanceof Bc)return t}return!0}),Si(e=>e!==Pm),Ls(1)))}function KI(n){return function fe(...n){return mt(n)}(Di(e=>{if(Uc(e))throw jI(0,e)}),Pe(e=>!0===e))}const Jv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function XI(n,e,t,r,o){const i=eb(n,e,t);return i.matched?function nB(n,e,t,r){const o=e.canMatch;return o&&0!==o.length?dn(o.map(s=>{const a=ed(s,n);return rc(function z4(n){return n&&Xf(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(td(),KI()):dn(!0)}(r=ZI(e,r),e,t).pipe(Pe(s=>!0===s?i:{...Jv})):dn(i)}function eb(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Jv}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||L$)(t,n,e);if(!o)return{...Jv};const i={};Ii(o.posParams,(a,u)=>{i[u]=a.path});const s=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function Rm(n,e,t,r){if(t.length>0&&function iB(n,e,t){return t.some(r=>Fm(n,e,r)&&Js(r)!==Un)}(n,t,r)){const i=new tr(e,function oB(n,e,t,r){const o={};o[Un]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const i of t)if(""===i.path&&Js(i)!==Un){const s=new tr([],{});s._sourceSegment=n,s._segmentIndexShift=e.length,o[Js(i)]=s}return o}(n,e,r,new tr(t,n.children)));return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===t.length&&function sB(n,e,t){return t.some(r=>Fm(n,e,r))}(n,t,r)){const i=new tr(n.segments,function rB(n,e,t,r,o){const i={};for(const s of r)if(Fm(n,t,s)&&!o[Js(s)]){const a=new tr([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,i[Js(s)]=a}return{...o,...i}}(n,e,t,r,n.children));return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}const o=new tr(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function Fm(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function QI(n,e,t,r){return!!(Js(n)===r||r!==Un&&Fm(e,t,n))&&("**"===n.path||eb(e,n,t).matched)}function JI(n,e,t){return 0===e.length&&!n.children[t]}const Om=!1;class Nm{constructor(e){this.segmentGroup=e||null}}class ek{constructor(e){this.urlTree=e}}function Qf(n){return Zu(new Nm(n))}function tk(n){return Zu(new ek(n))}class uB{constructor(e,t,r,o,i){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=i,this.allowRedirects=!0}apply(){const e=Rm(this.urlTree.root,[],[],this.config).segmentGroup,t=new tr(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Un).pipe(Pe(i=>this.createUrlTree(Im(i),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ml(i=>{if(i instanceof ek)return this.allowRedirects=!1,this.match(i.urlTree);throw i instanceof Nm?this.noMatchError(i):i}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Un).pipe(Pe(o=>this.createUrlTree(Im(o),e.queryParams,e.fragment))).pipe(Ml(o=>{throw o instanceof Nm?this.noMatchError(o):o}))}noMatchError(e){return new Se(4002,Om)}createUrlTree(e,t,r){const o=Bv(e);return new Bc(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(Pe(i=>new tr([],i))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const i of Object.keys(r.children))"primary"===i?o.unshift(i):o.push(i);return Kn(o).pipe(Ql(i=>{const s=r.children[i],a=qI(t,i);return this.expandSegmentGroup(e,a,s,i).pipe(Pe(u=>({segment:u,outlet:i})))}),hI((i,s)=>(i[s.outlet]=s.segment,i),{}),mI())}expandSegment(e,t,r,o,i,s){return Kn(r).pipe(Ql(a=>this.expandSegmentAgainstRoute(e,t,r,a,o,i,s).pipe(Ml(f=>{if(f instanceof Nm)return dn(null);throw f}))),xl(a=>!!a),Ml((a,u)=>{if(Qv(a))return JI(t,o,i)?dn(new tr([],{})):Qf(t);throw a}))}expandSegmentAgainstRoute(e,t,r,o,i,s,a){return QI(o,t,i,s)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,i,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s):Qf(t):Qf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const i=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?tk(i):this.lineralizeSegments(r,i).pipe(_r(s=>{const a=new tr(s,{});return this.expandSegment(e,a,t,s,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s){const{matched:a,consumedSegments:u,remainingSegments:f,positionalParamSegments:g}=eb(t,o,i);if(!a)return Qf(t);const v=this.applyRedirectCommands(u,o.redirectTo,g);return o.redirectTo.startsWith("/")?tk(v):this.lineralizeSegments(o,v).pipe(_r(D=>this.expandSegment(e,t,r,D.concat(f),s,!1)))}matchSegmentAgainstRoute(e,t,r,o,i){return"**"===r.path?(e=ZI(r,e),r.loadChildren?(r._loadedRoutes?dn({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(Pe(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new tr(o,{})))):dn(new tr(o,{}))):XI(t,r,o,e).pipe(Ei(({matched:s,consumedSegments:a,remainingSegments:u})=>s?this.getChildConfig(e=r._injector??e,r,o).pipe(_r(g=>{const v=g.injector??e,D=g.routes,{segmentGroup:T,slicedSegments:K}=Rm(t,a,u,D),me=new tr(T.segments,T.children);if(0===K.length&&me.hasChildren())return this.expandChildren(v,D,me).pipe(Pe(Oe=>new tr(a,Oe)));if(0===D.length&&0===K.length)return dn(new tr(a,{}));const je=Js(r)===i;return this.expandSegment(v,me,D,K,je?Un:i,!0).pipe(Pe(yt=>new tr(a.concat(yt.segments),yt.children)))})):Qf(t)))}getChildConfig(e,t,r){return t.children?dn({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?dn({routes:t._loadedRoutes,injector:t._loadedInjector}):function tB(n,e,t,r){const o=e.canLoad;return void 0===o||0===o.length?dn(!0):dn(o.map(s=>{const a=ed(s,n);return rc(function U4(n){return n&&Xf(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(td(),KI())}(e,t,r).pipe(_r(o=>o?this.configLoader.loadChildren(e,t).pipe(Di(i=>{t._loadedRoutes=i.routes,t._loadedInjector=i.injector})):function lB(n){return Zu(GI(Om,3))}())):dn({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return dn(r);if(o.numberOfChildren>1||!o.children[Un])return Zu(new Se(4e3,Om));o=o.children[Un]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,o){const i=this.createSegmentGroup(e,t.root,r,o);return new Bc(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Ii(e,(o,i)=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,o){const i=this.createSegments(e,t.segments,r,o);let s={};return Ii(t.children,(a,u)=>{s[u]=this.createSegmentGroup(e,a,r,o)}),new tr(i,s)}createSegments(e,t,r,o){return t.map(i=>i.path.startsWith(":")?this.findPosParam(e,i,o):this.findOrReturn(i,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Se(4001,Om);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}class fB{}class mB{constructor(e,t,r,o,i,s,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=o,this.url=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a}recognize(){const e=Rm(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Un).pipe(Pe(t=>{if(null===t)return null;const r=new Mm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Un,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Tl(r,t),i=new VI(this.url,o);return this.inheritParamsAndData(i._root),i}))}inheritParamsAndData(e){const t=e.value,r=BI(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,o)}processChildren(e,t,r){return Kn(Object.keys(r.children)).pipe(Ql(o=>{const i=r.children[o],s=qI(t,o);return this.processSegmentGroup(e,s,i,o)}),hI((o,i)=>o&&i?(o.push(...i),o):null),function O$(n,e=!1){return z((t,r)=>{let o=0;t.subscribe(Ce(r,i=>{const s=n(i,o++);(s||e)&&r.next(i),!s&&r.complete()}))})}(o=>null!==o),vm(null),mI(),Pe(o=>{if(null===o)return null;const i=rk(o);return function gB(n){n.sort((e,t)=>e.value.outlet===Un?-1:t.value.outlet===Un?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}))}processSegment(e,t,r,o,i){return Kn(t).pipe(Ql(s=>this.processSegmentAgainstRoute(s._injector??e,s,r,o,i)),xl(s=>!!s),Ml(s=>{if(Qv(s))return JI(r,o,i)?dn([]):dn(null);throw s}))}processSegmentAgainstRoute(e,t,r,o,i){if(t.redirectTo||!QI(t,r,o,i))return dn(null);let s;if("**"===t.path){const a=o.length>0?yI(o).parameters:{},u=ik(r)+o.length;s=dn({snapshot:new Mm(o,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sk(t),Js(t),t.component??t._loadedComponent??null,t,ok(r),u,ak(t)),consumedSegments:[],remainingSegments:[]})}else s=XI(r,t,o,e).pipe(Pe(({matched:a,consumedSegments:u,remainingSegments:f,parameters:g})=>{if(!a)return null;const v=ik(r)+u.length;return{snapshot:new Mm(u,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sk(t),Js(t),t.component??t._loadedComponent??null,t,ok(r),v,ak(t)),consumedSegments:u,remainingSegments:f}}));return s.pipe(Ei(a=>{if(null===a)return dn(null);const{snapshot:u,consumedSegments:f,remainingSegments:g}=a;e=t._injector??e;const v=t._loadedInjector??e,D=function _B(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:T,slicedSegments:K}=Rm(r,f,g,D.filter(je=>void 0===je.redirectTo));if(0===K.length&&T.hasChildren())return this.processChildren(v,D,T).pipe(Pe(je=>null===je?null:[new Tl(u,je)]));if(0===D.length&&0===K.length)return dn([new Tl(u,[])]);const me=Js(t)===i;return this.processSegment(v,D,T,K,me?Un:i).pipe(Pe(je=>null===je?null:[new Tl(u,je)]))}))}}function yB(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function rk(n){const e=[],t=new Set;for(const r of n){if(!yB(r)){e.push(r);continue}const o=e.find(i=>r.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=rk(r.children);e.push(new Tl(r.value,o))}return e.filter(r=>!t.has(r))}function ok(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ik(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function sk(n){return n.data||{}}function ak(n){return n.resolve||{}}function lk(n){return"string"==typeof n.title||null===n.title}function tb(n){return Ei(e=>{const t=n(e);return t?Kn(t).pipe(Pe(()=>e)):dn(e)})}const nd=new en("ROUTES");let nb=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return dn(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=rc(t.loadComponent()).pipe(Pe(uk),Di(i=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=i}),Nv(()=>{this.componentLoaders.delete(t)})),o=new Rv(r,()=>new et).pipe(Pv());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return dn({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const i=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Pe(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,f,g=!1;Array.isArray(a)?f=a:(u=a.create(t).injector,f=_I(u.get(nd,[],sn.Self|sn.Optional)));return{routes:f.map(Xv),injector:u}}),Nv(()=>{this.childrenLoaders.delete(r)})),s=new Rv(i,()=>new et).pipe(Pv());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(t){return rc(t()).pipe(Pe(uk),_r(o=>o instanceof MS||Array.isArray(o)?dn(o):Kn(this.compiler.compileModuleAsync(o))))}}return n.\u0275fac=function(t){return new(t||n)(he(yo),he(yE))},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function uk(n){return function kB(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let $m=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new et,this.configLoader=An(nb),this.environmentInjector=An(Ra),this.urlSerializer=An(Yu),this.rootContexts=An(Gc),this.navigationId=0,this.afterPreactivation=()=>dn(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new m4(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new h4(o))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Ns({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Wf,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Si(r=>0!==r.id),Pe(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Ei(r=>{let o=!1,i=!1;return dn(r).pipe(Di(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ei(s=>{const a=t.browserUrlTree.toString(),u=!t.navigated||s.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!u&&"reload"!==(s.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const g="";return this.events.next(new RI(s.id,t.serializeUrl(r.rawUrl),g,0)),t.rawUrlTree=s.rawUrl,s.resolve(null),ro}if(t.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return dk(s.source)&&(t.browserUrlTree=s.extractedUrl),dn(s).pipe(Ei(g=>{const v=this.transitions?.getValue();return this.events.next(new km(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),v!==this.transitions?.getValue()?ro:Promise.resolve(g)}),function dB(n,e,t,r){return Ei(o=>function cB(n,e,t,r,o){return new uB(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe(Pe(i=>({...o,urlAfterRedirects:i}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),Di(g=>{this.currentNavigation={...this.currentNavigation,finalUrl:g.urlAfterRedirects},r.urlAfterRedirects=g.urlAfterRedirects}),function bB(n,e,t,r,o){return _r(i=>function hB(n,e,t,r,o,i,s="emptyOnly"){return new mB(n,e,t,r,o,s,i).recognize().pipe(Ei(a=>null===a?function pB(n){return new Ct(e=>e.error(n))}(new fB):dn(a)))}(n,e,t,i.urlAfterRedirects,r.serialize(i.urlAfterRedirects),r,o).pipe(Pe(s=>({...i,targetSnapshot:s}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Di(g=>{if(r.targetSnapshot=g.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!g.extras.skipLocationChange){const D=t.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl);t.setBrowserUrl(D,g)}t.browserUrlTree=g.urlAfterRedirects}const v=new c4(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(v)}));if(u&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:g,extractedUrl:v,source:D,restoredState:T,extras:K}=s,me=new km(g,this.urlSerializer.serialize(v),D,T);this.events.next(me);const je=$I(v,this.rootComponentType).snapshot;return dn(r={...s,targetSnapshot:je,urlAfterRedirects:v,extras:{...K,skipLocationChange:!1,replaceUrl:!1}})}{const g="";return this.events.next(new RI(s.id,t.serializeUrl(r.extractedUrl),g,1)),t.rawUrlTree=s.rawUrl,s.resolve(null),ro}}),Di(s=>{const a=new u4(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Pe(s=>r={...s,guards:N4(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function Z4(n,e){return _r(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=t;return 0===s.length&&0===i.length?dn({...t,guardsResult:!0}):function q4(n,e,t,r){return Kn(n).pipe(_r(o=>function eB(n,e,t,r,o){const i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return i&&0!==i.length?dn(i.map(a=>{const u=qf(e)??o,f=ed(a,u);return rc(function H4(n){return n&&Xf(n.canDeactivate)}(f)?f.canDeactivate(n,e,t,r):u.runInContext(()=>f(n,e,t,r))).pipe(xl())})).pipe(td()):dn(!0)}(o.component,o.route,t,e,r)),xl(o=>!0!==o,!0))}(s,r,o,n).pipe(_r(a=>a&&function V4(n){return"boolean"==typeof n}(a)?function Y4(n,e,t,r){return Kn(e).pipe(Ql(o=>Vf(function X4(n,e){return null!==n&&e&&e(new g4(n)),dn(!0)}(o.route.parent,r),function K4(n,e){return null!==n&&e&&e(new y4(n)),dn(!0)}(o.route,r),function J4(n,e,t){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(s=>function L4(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>ym(()=>dn(s.guards.map(u=>{const f=qf(s.node)??t,g=ed(u,f);return rc(function G4(n){return n&&Xf(n.canActivateChild)}(g)?g.canActivateChild(r,n):f.runInContext(()=>g(r,n))).pipe(xl())})).pipe(td())));return dn(i).pipe(td())}(n,o.path,t),function Q4(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return dn(!0);const o=r.map(i=>ym(()=>{const s=qf(e)??t,a=ed(i,s);return rc(function j4(n){return n&&Xf(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(xl())}));return dn(o).pipe(td())}(n,o.route,t))),xl(o=>!0!==o,!0))}(r,i,n,e):dn(a)),Pe(a=>({...t,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),Di(s=>{if(r.guardsResult=s.guardsResult,Uc(s.guardsResult))throw jI(0,s.guardsResult);const a=new d4(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Si(s=>!!s.guardsResult||(t.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),tb(s=>{if(s.guards.canActivateChecks.length)return dn(s).pipe(Di(a=>{const u=new f4(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Ei(a=>{let u=!1;return dn(a).pipe(function CB(n,e){return _r(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return dn(t);let i=0;return Kn(o).pipe(Ql(s=>function wB(n,e,t,r){const o=n.routeConfig,i=n._resolve;return void 0!==o?.title&&!lk(o)&&(i[Uf]=o.title),function SB(n,e,t,r){const o=function EB(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return dn({});const i={};return Kn(o).pipe(_r(s=>function DB(n,e,t,r){const o=qf(e)??r,i=ed(n,o);return rc(i.resolve?i.resolve(e,t):o.runInContext(()=>i(e,t)))}(n[s],e,t,r).pipe(xl(),Di(a=>{i[s]=a}))),Fv(1),Ov(i),Ml(s=>Qv(s)?ro:Zu(s)))}(i,n,e,r).pipe(Pe(s=>(n._resolvedData=s,n.data=BI(n,t).resolve,o&&lk(o)&&(n.data[Uf]=o.title),null)))}(s.route,r,n,e)),Di(()=>i++),Fv(1),_r(s=>i===o.length?dn(t):ro))})}(t.paramsInheritanceStrategy,this.environmentInjector),Di({next:()=>u=!0,complete:()=>{u||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Di(a=>{const u=new p4(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),tb(s=>{const a=u=>{const f=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(u.routeConfig).pipe(Di(g=>{u.component=g}),Pe(()=>{})));for(const g of u.children)f.push(...a(g));return f};return uI(a(s.targetSnapshot.root)).pipe(vm(),Ls(1))}),tb(()=>this.afterPreactivation()),Pe(s=>{const a=function D4(n,e,t){const r=Zf(n,e._root,t?t._root:void 0);return new LI(r,e)}(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return r={...s,targetRouterState:a}}),Di(s=>{t.currentUrlTree=s.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),t.routerState=s.targetRouterState,"deferred"===t.urlUpdateStrategy&&(s.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,s),t.browserUrlTree=s.urlAfterRedirects)}),((n,e,t)=>Pe(r=>(new O4(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s)),Di({next:s=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new jc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{o=!0}}),Nv(()=>{o||i||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Ml(s=>{if(i=!0,zI(s)){HI(s)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new xm(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode);if(this.events.next(a),HI(s)){const u=t.urlHandlingStrategy.merge(s.url,t.rawUrlTree),f={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||dk(r.source)};t.scheduleNavigation(u,Wf,null,f,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new FI(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(s))}catch(u){r.reject(u)}}return ro}))}))}cancelNavigationTransition(t,r,o){const i=new xm(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(i),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function dk(n){return n!==Wf}let fk=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===Un);return r}getResolvedTitleForRoute(t){return t.data[Uf]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:function(){return An(xB)},providedIn:"root"}),n})(),xB=(()=>{class n extends fk{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(he($D))},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:function(){return An(TB)},providedIn:"root"}),n})();class MB{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let TB=(()=>{class n extends MB{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=di(n)))(r||n)}}(),n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Bm=new en("",{providedIn:"root",factory:()=>({})});let PB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:function(){return An(RB)},providedIn:"root"}),n})(),RB=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function FB(n){throw n}function OB(n,e,t){return e.parse("/")}const NB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},LB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Wo=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=An($2),this.isNgZoneEnabled=!1,this.options=An(Bm,{optional:!0})||{},this.errorHandler=this.options.errorHandler||FB,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||OB,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=An(PB),this.routeReuseStrategy=An(pk),this.urlCreationStrategy=An(w4),this.titleStrategy=An(fk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=_I(An(nd,{optional:!0})??[]),this.navigationTransitions=An($m),this.urlSerializer=An(Yu),this.location=An(If),this.isNgZoneEnabled=An(ut)instanceof ut&&ut.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Bc,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=$I(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Wf,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,o){const i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){const u={...o};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(i.state=u)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Xv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,f=u?this.currentUrlTree.fragment:s;let g=null;switch(a){case"merge":g={...this.currentUrlTree.queryParams,...i};break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=i||null}return null!==g&&(g=this.removeEmptyProps(g)),this.urlCreationStrategy.createUrlTree(o,this.routerState,this.currentUrlTree,t,g,f??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Uc(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,Wf,null,r)}navigate(t,r={skipLocationChange:!1}){return function $B(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new Se(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...NB}:!1===r?{...LB}:r,Uc(t))return bI(this.currentUrlTree,t,o);const i=this.parseUrl(t);return bI(this.currentUrlTree,i,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const i=t[o];return null!=i&&(r[o]=i),r},{})}scheduleNavigation(t,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,u,f,g;return s?(a=s.resolve,u=s.reject,f=s.promise):f=new Promise((v,D)=>{a=v,u=D}),g="computed"===this.canceledNavigationResolution?o&&o.\u0275routerPageId?o.\u0275routerPageId:i.replaceUrl||i.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:g,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:i,resolve:a,reject:u,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(v=>Promise.reject(v))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),i={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",i):this.location.go(o,"",i)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===o?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class mk{}let UB=(()=>{class n{preload(t,r){return r().pipe(Ml(()=>dn(null)))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jB=(()=>{class n{constructor(t,r,o,i,s){this.router=t,this.injector=o,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Si(t=>t instanceof jc),Ql(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const i of r){i.providers&&!i._injector&&(i._injector=Ah(i.providers,t,`Route: ${i.path}`));const s=i._injector??t,a=i._loadedInjector??s;i.loadChildren&&!i._loadedRoutes&&void 0===i.canLoad||i.loadComponent&&!i._loadedComponent?o.push(this.preloadConfig(s,i)):(i.children||i._loadedRoutes)&&o.push(this.processRoutes(a,i.children??i._loadedRoutes))}return Kn(o).pipe(li())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):dn(null);const i=o.pipe(_r(s=>null===s?dn(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?Kn([i,this.loader.loadComponent(r)]).pipe(li()):i})}}return n.\u0275fac=function(t){return new(t||n)(he(Wo),he(yE),he(Ra),he(mk),he(nb))},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rb=new en("");let gk=(()=>{class n{constructor(t,r,o,i,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof km?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof jc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof OI&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new OI(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function OC(){throw new Error("invalid")}()},n.\u0275prov=pt({token:n,factory:n.\u0275fac}),n})();function Hc(n,e){return{\u0275kind:n,\u0275providers:e}}function yk(){const n=An(yo);return e=>{const t=n.get(ql);if(e!==t.components[0])return;const r=n.get(Wo),o=n.get(vk);1===n.get(ib)&&r.initialNavigation(),n.get(bk,null,sn.Optional)?.setUpPreloading(),n.get(rb,null,sn.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.unsubscribe())}}const vk=new en("",{factory:()=>new et}),ib=new en("",{providedIn:"root",factory:()=>1});const bk=new en("");function ZB(n){return Hc(0,[{provide:bk,useExisting:jB},{provide:mk,useExisting:n}])}const Ck=new en("ROUTER_FORROOT_GUARD"),qB=[If,{provide:Yu,useClass:Lv},Wo,Gc,{provide:Al,useFactory:function _k(n){return n.routerState.root},deps:[Wo]},nb,[]];function YB(){return new DE("Router",Wo)}let Vm=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[qB,[],{provide:nd,multi:!0,useValue:t},{provide:Ck,useFactory:JB,deps:[[Wo,new Zd,new qd]]},{provide:Bm,useValue:r||{}},r?.useHash?{provide:ja,useClass:YE}:{provide:ja,useClass:qE},{provide:rb,useFactory:()=>{const n=An(UN),e=An(ut),t=An(Bm),r=An($m),o=An(Yu);return t.scrollOffset&&n.setOffset(t.scrollOffset),new gk(o,r,n,e,t)}},r?.preloadingStrategy?ZB(r.preloadingStrategy).\u0275providers:[],{provide:DE,multi:!0,useFactory:YB},r?.initialNavigation?eV(r):[],[{provide:wk,useFactory:yk},{provide:_E,multi:!0,useExisting:wk}]]}}static forChild(t){return{ngModule:n,providers:[{provide:nd,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(he(Ck,8))},n.\u0275mod=Wn({type:n}),n.\u0275inj=Dr({imports:[Yv]}),n})();function JB(n){return"guarded"}function eV(n){return["disabled"===n.initialNavigation?Hc(3,[{provide:Rc,multi:!0,useFactory:()=>{const e=An(Wo);return()=>{e.setUpLocationChangeListener()}}},{provide:ib,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Hc(2,[{provide:ib,useValue:0},{provide:Rc,multi:!0,deps:[yo],useFactory:e=>{const t=e.get(SO,Promise.resolve());return()=>t.then(()=>new Promise(o=>{const i=e.get(Wo),s=e.get(vk);(function r(o){e.get(Wo).events.pipe(Si(s=>s instanceof jc||s instanceof xm||s instanceof FI),Pe(s=>s instanceof jc||s instanceof xm&&(0===s.code||1===s.code)&&null),Si(s=>null!==s),Ls(1)).subscribe(()=>{o()})})(()=>{o(!0)}),e.get($m).afterPreactivation=()=>(o(!0),s.closed?dn(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const wk=new en("");R(5933),R(9078),R(4199),R(8759);var sb=R(5823),od=R(9259),tp=R(609),np=(R(7351),R(7580)),Sk=(R(2286),R(6379),R(1559));function Dk(n,e=k){return n=n??rV,z((t,r)=>{let o,i=!0;t.subscribe(Ce(r,s=>{const a=e(s);(i||!n(o,a))&&(i=!1,o=a,r.next(s))}))})}function rV(n,e){return n===e}const iV=sb.i,Ft=["*"],lV=["outlet"],cV=[[["","slot","top"]],"*"],uV=["[slot=top]","*"],Ik=n=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(n):"function"==typeof requestAnimationFrame?requestAnimationFrame(n):setTimeout(n),kk=n=>!!n.resolveComponentFactory;let rp=(()=>{class n{constructor(t,r){this.injector=t,this.el=r,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(t){this.el.nativeElement.value=this.lastValue=t??"",id(this.el)}handleChangeEvent(t,r){t===this.el.nativeElement&&(r!==this.lastValue&&(this.lastValue=r,this.onChange(r)),id(this.el))}_handleBlurEvent(t){t===this.el.nativeElement&&(this.onTouched(),id(this.el))}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.el.nativeElement.disabled=t}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let t;try{t=this.injector.get(El)}catch{}if(!t)return;t.statusChanges&&(this.statusChanges=t.statusChanges.subscribe(()=>id(this.el)));const r=t.control;r&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(i=>{if(typeof r[i]<"u"){const s=r[i].bind(r);r[i]=(...a)=>{s(...a),id(this.el)}}})}}return n.\u0275fac=function(t){return new(t||n)(S(yo),S(_t))},n.\u0275dir=at({type:n,hostBindings:function(t,r){1&t&&st("ionBlur",function(i){return r._handleBlurEvent(i.target)})}}),n})();const id=n=>{Ik(()=>{const e=n.nativeElement,t=null!=e.value&&e.value.toString().length>0,r=pV(e);ab(e,r);const o=e.closest("ion-item");o&&ab(o,t?[...r,"item-has-value"]:r)})},pV=n=>{const e=n.classList,t=[];for(let r=0;r<e.length;r++){const o=e.item(r);null!==o&&hV(o,"ng-")&&t.push(`ion-${o.substring(3)}`)}return t},ab=(n,e)=>{const t=n.classList;t.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),t.add(...e)},hV=(n,e)=>n.substring(0,e.length)===e;let sd=(()=>{class n extends rp{constructor(t,r){super(t,r)}writeValue(t){this.el.nativeElement.checked=this.lastValue=t??!1,id(this.el)}_handleIonChange(t){this.handleChangeEvent(t,t.checked)}}return n.\u0275fac=function(t){return new(t||n)(S(yo),S(_t))},n.\u0275dir=at({type:n,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(t,r){1&t&&st("ionChange",function(i){return r._handleIonChange(i.target)})},features:[jr([{provide:Qi,useExisting:n,multi:!0}]),Cr]}),n})(),op=(()=>{class n extends rp{constructor(t,r){super(t,r)}_handleChangeEvent(t){this.handleChangeEvent(t,t.value)}}return n.\u0275fac=function(t){return new(t||n)(S(yo),S(_t))},n.\u0275dir=at({type:n,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(t,r){1&t&&st("ionChange",function(i){return r._handleChangeEvent(i.target)})},features:[jr([{provide:Qi,useExisting:n,multi:!0}]),Cr]}),n})(),Pl=(()=>{class n extends rp{constructor(t,r){super(t,r)}_handleInputEvent(t){this.handleChangeEvent(t,t.value)}}return n.\u0275fac=function(t){return new(t||n)(S(yo),S(_t))},n.\u0275dir=at({type:n,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(t,r){1&t&&st("ionChange",function(i){return r._handleInputEvent(i.target)})},features:[jr([{provide:Qi,useExisting:n,multi:!0}]),Cr]}),n})();const _V=(n,e)=>{const t=n.prototype;e.forEach(r=>{Object.defineProperty(t,r,{get(){return this.el[r]},set(o){this.z.runOutsideAngular(()=>this.el[r]=o)}})})},yV=(n,e)=>{const t=n.prototype;e.forEach(r=>{t[r]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,o))}})},Pr=(n,e,t)=>{t.forEach(r=>n[r]=Bf(e,r))};function Tt(n){return function(t){const{defineCustomElementFn:r,inputs:o,methods:i}=n;return void 0!==r&&r(),o&&_V(t,o),i&&yV(t,i),t}}let xk=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(St),S(_t),S(ut))},n.\u0275cmp=Le({type:n,selectors:[["ion-app"]],ngContentSelectors:Ft,decls:1,vars:0,template:function(t,r){1&t&&(Mt(),xt(0))},encapsulation:2,changeDetection:0}),n=U([Tt({defineCustomElementFn:void 0})],n),n})(),Mk=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(St),S(_t),S(ut))},n.\u0275cmp=Le({type:n,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:Ft,decls:1,vars:0,template:function(t,r){1&t&&(Mt(),xt(0))},encapsulation:2,changeDetection:0}),n=U([Tt({defineCustomElementFn:void 0,inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],n),n})(),es=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,Pr(this,this.el,["ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(S(St),S(_t),S(ut))},n.\u0275cmp=Le({type:n,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Ft,decls:1,vars:0,template:function(t,r){1&t&&(Mt(),xt(0))},encapsulation:2,changeDetection:0}),n=U([Tt({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],n),n})(),ts=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(St),S(_t),S(ut))},n.\u0275cmp=Le({type:n,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Ft,decls:1,vars:0,template:function(t,r){1&t&&(Mt(),xt(0))},encapsulation:2,changeDetection:0}),n=U([Tt({defineCustomElementFn:void 0,inputs:["collapse"]})],n),n})(),Tk=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,Pr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(S(St),S(_t),S(ut))},n.\u0275cmp=Le({type:n,selectors:[["ion-checkbox"]],inputs:{checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",mode:"mode",name:"name",value:"value"},ngContentSelectors:Ft,decls:1,vars:0,template:function(t,r){1&t&&(Mt(),xt(0))},encapsulation:2,changeDetection:0}),n=U([Tt({defineCustomElementFn:void 0,inputs:["checked","color","disabled","indeterminate","mode","name","value"]})],n),n})(),ns=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,Pr(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return n.\u0275fac=function(t){return new(t||n)(S(St),S(_t),S(ut))},n.\u0275cmp=Le({type:n,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Ft,decls:1,vars:0,template:function(t,r){1&t&&(Mt(),xt(0))},encapsulation:2,changeDetection:0}),n=U([Tt({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],n),n})(),rs=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(St),S(_t),S(ut))},n.\u0275cmp=Le({type:n,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Ft,decls:1,vars:0,template:function(t,r){1&t&&(Mt(),xt(0))},encapsulation:2,changeDetection:0}),n=U([Tt({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],n),n})(),hi=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(St),S(_t),S(ut))},n.\u0275cmp=Le({type:n,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Ft,decls:1,vars:0,template:function(t,r){1&t&&(Mt(),xt(0))},encapsulation:2,changeDetection:0}),n=U([Tt({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],n),n})(),Rl=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,Pr(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return n.\u0275fac=function(t){return new(t||n)(S(St),S(_t),S(ut))},n.\u0275cmp=Le({type:n,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Ft,decls:1,vars:0,template:function(t,r){1&t&&(Mt(),xt(0))},encapsulation:2,changeDetection:0}),n=U([Tt({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],n),n})(),oi=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(St),S(_t),S(ut))},n.\u0275cmp=Le({type:n,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Ft,decls:1,vars:0,template:function(t,r){1&t&&(Mt(),xt(0))},encapsulation:2,changeDetection:0}),n=U([Tt({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],n),n})(),Um=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(St),S(_t),S(ut))},n.\u0275cmp=Le({type:n,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:Ft,decls:1,vars:0,template:function(t,r){1&t&&(Mt(),xt(0))},encapsulation:2,changeDetection:0}),n=U([Tt({defineCustomElementFn:void 0,inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],n),n})(),jm=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,Pr(this,this.el,["ionSwipe"])}};return n.\u0275fac=function(t){return new(t||n)(S(St),S(_t),S(ut))},n.\u0275cmp=Le({type:n,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:Ft,decls:1,vars:0,template:function(t,r){1&t&&(Mt(),xt(0))},encapsulation:2,changeDetection:0}),n=U([Tt({defineCustomElementFn:void 0,inputs:["side"]})],n),n})(),Gm=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,Pr(this,this.el,["ionDrag"])}};return n.\u0275fac=function(t){return new(t||n)(S(St),S(_t),S(ut))},n.\u0275cmp=Le({type:n,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:Ft,decls:1,vars:0,template:function(t,r){1&t&&(Mt(),xt(0))},encapsulation:2,changeDetection:0}),n=U([Tt({defineCustomElementFn:void 0,inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],n),n})(),os=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(St),S(_t),S(ut))},n.\u0275cmp=Le({type:n,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Ft,decls:1,vars:0,template:function(t,r){1&t&&(Mt(),xt(0))},encapsulation:2,changeDetection:0}),n=U([Tt({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],n),n})(),Za=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(St),S(_t),S(ut))},n.\u0275cmp=Le({type:n,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Ft,decls:1,vars:0,template:function(t,r){1&t&&(Mt(),xt(0))},encapsulation:2,changeDetection:0}),n=U([Tt({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],n),n})(),Ak=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,Pr(this,this.el,["ionNavWillChange","ionNavDidChange"])}};return n.\u0275fac=function(t){return new(t||n)(S(St),S(_t),S(ut))},n.\u0275cmp=Le({type:n,selectors:[["ion-nav"]],inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"},ngContentSelectors:Ft,decls:1,vars:0,template:function(t,r){1&t&&(Mt(),xt(0))},encapsulation:2,changeDetection:0}),n=U([Tt({defineCustomElementFn:void 0,inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],n),n})(),lb=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,Pr(this,this.el,["ionChange","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}};return n.\u0275fac=function(t){return new(t||n)(S(St),S(_t),S(ut))},n.\u0275cmp=Le({type:n,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:Ft,decls:1,vars:0,template:function(t,r){1&t&&(Mt(),xt(0))},encapsulation:2,changeDetection:0}),n=U([Tt({defineCustomElementFn:void 0,inputs:["activeBarStart","color","debounce","disabled","dualKnobs","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],n),n})(),Hm=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,Pr(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(S(St),S(_t),S(ut))},n.\u0275cmp=Le({type:n,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:Ft,decls:1,vars:0,template:function(t,r){1&t&&(Mt(),xt(0))},encapsulation:2,changeDetection:0}),n=U([Tt({defineCustomElementFn:void 0,inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],n),n})(),zm=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(St),S(_t),S(ut))},n.\u0275cmp=Le({type:n,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:Ft,decls:1,vars:0,template:function(t,r){1&t&&(Mt(),xt(0))},encapsulation:2,changeDetection:0}),n=U([Tt({defineCustomElementFn:void 0,inputs:["disabled","value"]})],n),n})(),ip=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(St),S(_t),S(ut))},n.\u0275cmp=Le({type:n,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:Ft,decls:1,vars:0,template:function(t,r){1&t&&(Mt(),xt(0))},encapsulation:2,changeDetection:0}),n=U([Tt({defineCustomElementFn:void 0,inputs:["color","duration","name","paused"]})],n),n})(),cb=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(St),S(_t),S(ut))},n.\u0275cmp=Le({type:n,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Ft,decls:1,vars:0,template:function(t,r){1&t&&(Mt(),xt(0))},encapsulation:2,changeDetection:0}),n=U([Tt({defineCustomElementFn:void 0,inputs:["color","mode","selectedTab","translucent"]})],n),n})(),Pk=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(St),S(_t),S(ut))},n.\u0275cmp=Le({type:n,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Ft,decls:1,vars:0,template:function(t,r){1&t&&(Mt(),xt(0))},encapsulation:2,changeDetection:0}),n=U([Tt({defineCustomElementFn:void 0,inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],n),n})(),is=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(St),S(_t),S(ut))},n.\u0275cmp=Le({type:n,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Ft,decls:1,vars:0,template:function(t,r){1&t&&(Mt(),xt(0))},encapsulation:2,changeDetection:0}),n=U([Tt({defineCustomElementFn:void 0,inputs:["color","size"]})],n),n})(),sp=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,Pr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(S(St),S(_t),S(ut))},n.\u0275cmp=Le({type:n,selectors:[["ion-toggle"]],inputs:{checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",mode:"mode",name:"name",value:"value"},ngContentSelectors:Ft,decls:1,vars:0,template:function(t,r){1&t&&(Mt(),xt(0))},encapsulation:2,changeDetection:0}),n=U([Tt({defineCustomElementFn:void 0,inputs:["checked","color","disabled","enableOnOffLabels","mode","name","value"]})],n),n})(),ss=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(S(St),S(_t),S(ut))},n.\u0275cmp=Le({type:n,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ft,decls:1,vars:0,template:function(t,r){1&t&&(Mt(),xt(0))},encapsulation:2,changeDetection:0}),n=U([Tt({defineCustomElementFn:void 0,inputs:["color","mode"]})],n),n})();class Rk{constructor(e={}){this.data=e}get(e){return this.data[e]}}let Wm=(()=>{class n{constructor(t,r){this.zone=t,this.appRef=r}create(t,r,o,i){return new gU(t,r,o,this.appRef,this.zone,i)}}return n.\u0275fac=function(t){return new(t||n)(he(ut),he(ql))},n.\u0275prov=pt({token:n,factory:n.\u0275fac}),n})();class gU{constructor(e,t,r,o,i,s){this.resolverOrInjector=e,this.injector=t,this.location=r,this.appRef=o,this.zone=i,this.elementReferenceKey=s,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(e,t,r,o){return this.zone.run(()=>new Promise(i=>{const s=Object.assign({},r);void 0!==this.elementReferenceKey&&(s[this.elementReferenceKey]=e),i(_U(this.zone,this.resolverOrInjector,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,e,t,s,o))}))}removeViewFromDom(e,t){return this.zone.run(()=>new Promise(r=>{const o=this.elRefMap.get(t);if(o){o.destroy(),this.elRefMap.delete(t);const i=this.elEventsMap.get(t);i&&(i(),this.elEventsMap.delete(t))}r()}))}}const _U=(n,e,t,r,o,i,s,a,u,f,g)=>{let v;const D=yo.create({providers:vU(f),parent:t});if(e&&kk(e)){const je=e.resolveComponentFactory(u);v=r?r.createComponent(je,r.length,D):je.create(D)}else{if(!r)return null;v=r.createComponent(u,{index:r.indexOf,injector:D,environmentInjector:e})}const T=v.instance,K=v.location.nativeElement;if(f&&Object.assign(T,f),g)for(const je of g)K.classList.add(je);const me=Fk(n,T,K);return a.appendChild(K),r||o.attachView(v.hostView),v.changeDetectorRef.reattach(),i.set(K,v),s.set(K,me),K},yU=[tp.L,tp.a,tp.b,tp.c,tp.d],Fk=(n,e,t)=>n.run(()=>{const r=yU.filter(o=>"function"==typeof e[o]).map(o=>{const i=s=>e[o](s.detail);return t.addEventListener(o,i),()=>t.removeEventListener(o,i)});return()=>r.forEach(o=>o())}),Ok=new en("NavParamsToken"),vU=n=>[{provide:Ok,useValue:n},{provide:Rk,useFactory:bU,deps:[Ok]}],bU=n=>new Rk(n),Nk=(n,e)=>((n=n.filter(t=>t.stackId!==e.stackId)).push(e),n),ub=(n,e)=>{const t=n.createUrlTree(["."],{relativeTo:e});return n.serializeUrl(t)},DU=(n,e)=>{if(!n)return;const t=Lk(e);for(let r=0;r<t.length;r++){if(r>=n.length)return t[r];if(t[r]!==n[r])return}},Lk=n=>n.split("/").map(e=>e.trim()).filter(e=>""!==e),$k=n=>{n&&(n.ref.destroy(),n.unlistenEvents())};class IU{constructor(e,t,r,o,i,s){this.containerEl=t,this.router=r,this.navCtrl=o,this.zone=i,this.location=s,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==e?Lk(e):void 0}createView(e,t){var r;const o=ub(this.router,t),i=null===(r=e?.location)||void 0===r?void 0:r.nativeElement,s=Fk(this.zone,e.instance,i);return{id:this.nextId++,stackId:DU(this.tabsPrefix,o),unlistenEvents:s,element:i,ref:e,url:o}}getExistingView(e){const t=ub(this.router,e),r=this.views.find(o=>o.url===t);return r&&r.ref.changeDetectorRef.reattach(),r}setActive(e){var t,r;const o=this.navCtrl.consumeTransition();let{direction:i,animation:s,animationBuilder:a}=o;const u=this.activeView,f=((n,e)=>!e||n.stackId!==e.stackId)(e,u);f&&(i="back",s=void 0);const g=this.views.slice();let v;const D=this.router;D.getCurrentNavigation?v=D.getCurrentNavigation():!(null===(t=D.navigations)||void 0===t)&&t.value&&(v=D.navigations.value),null!==(r=v?.extras)&&void 0!==r&&r.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const T=this.views.includes(e),K=this.insertView(e,i);T||e.ref.changeDetectorRef.detectChanges();const me=e.animationBuilder;return void 0===a&&"back"===i&&!f&&void 0!==me&&(a=me),u&&(u.animationBuilder=a),this.zone.runOutsideAngular(()=>this.wait(()=>(u&&u.ref.changeDetectorRef.detach(),e.ref.changeDetectorRef.reattach(),this.transition(e,u,s,this.canGoBack(1),!1,a).then(()=>kU(e,K,g,this.location,this.zone)).then(()=>({enteringView:e,direction:i,animation:s,tabSwitch:f})))))}canGoBack(e,t=this.getActiveStackId()){return this.getStack(t).length>e}pop(e,t=this.getActiveStackId()){return this.zone.run(()=>{var r,o;const i=this.getStack(t);if(i.length<=e)return Promise.resolve(!1);const s=i[i.length-e-1];let a=s.url;const u=s.savedData;if(u){const g=u.get("primary");null!==(o=null===(r=g?.route)||void 0===r?void 0:r._routerState)&&void 0!==o&&o.snapshot.url&&(a=g.route._routerState.snapshot.url)}const{animationBuilder:f}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(a,Object.assign(Object.assign({},s.savedExtras),{animation:f})).then(()=>!0)})}startBackTransition(){const e=this.activeView;if(e){const t=this.getStack(e.stackId),r=t[t.length-2],o=r.animationBuilder;return this.wait(()=>this.transition(r,e,"back",this.canGoBack(2),!0,o))}return Promise.resolve()}endBackTransition(e){e?(this.skipTransition=!0,this.pop(1)):this.activeView&&Bk(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(e){const t=this.getStack(e);return t.length>0?t[t.length-1]:void 0}getRootUrl(e){const t=this.getStack(e);return t.length>0?t[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach($k),this.activeView=void 0,this.views=[]}getStack(e){return this.views.filter(t=>t.stackId===e)}insertView(e,t){return this.activeView=e,this.views=((n,e,t)=>"root"===t?Nk(n,e):"forward"===t?((n,e)=>(n.indexOf(e)>=0?n=n.filter(r=>r.stackId!==e.stackId||r.id<=e.id):n.push(e),n))(n,e):((n,e)=>n.indexOf(e)>=0?n.filter(r=>r.stackId!==e.stackId||r.id<=e.id):Nk(n,e))(n,e))(this.views,e,t),this.views.slice()}transition(e,t,r,o,i,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(t===e)return Promise.resolve(!1);const a=e?e.element:void 0,u=t?t.element:void 0,f=this.containerEl;return a&&a!==u&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),a.parentElement!==f&&f.appendChild(a),f.commit)?f.commit(a,u,{deepWait:!0,duration:void 0===r?0:void 0,direction:r,showGoBack:o,progressAnimation:i,animationBuilder:s}):Promise.resolve(!1)}wait(e){return kn(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const t=this.runningTask=e();return t.finally(()=>this.runningTask=void 0),t})}}const kU=(n,e,t,r,o)=>"function"==typeof requestAnimationFrame?new Promise(i=>{requestAnimationFrame(()=>{Bk(n,e,t,r,o),i()})}):Promise.resolve(),Bk=(n,e,t,r,o)=>{o.run(()=>t.filter(i=>!e.includes(i)).forEach($k)),e.forEach(i=>{const a=r.path().split("?")[0].split("#")[0];if(i!==n&&i.url!==a){const u=i.element;u.setAttribute("aria-hidden","true"),u.classList.add("ion-page-hidden"),i.ref.changeDetectorRef.detach()}})};let db=(()=>{class n{get(t,r){const o=fb();return o?o.get(t,r):null}getBoolean(t,r){const o=fb();return!!o&&o.getBoolean(t,r)}getNumber(t,r){const o=fb();return o?o.getNumber(t,r):0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Vk=new en("USERCONFIG"),fb=()=>{if(typeof window<"u"){const n=window.Ionic;if(n?.config)return n.config}return null};let xU=(()=>{class n{constructor(t,r){this.doc=t,this.backButton=new et,this.keyboardDidShow=new et,this.keyboardDidHide=new et,this.pause=new et,this.resume=new et,this.resize=new et,r.run(()=>{var o;let i;this.win=t.defaultView,this.backButton.subscribeWithPriority=function(s,a){return this.subscribe(u=>u.register(s,f=>r.run(()=>a(f))))},ad(this.pause,t,"pause"),ad(this.resume,t,"resume"),ad(this.backButton,t,"ionBackButton"),ad(this.resize,this.win,"resize"),ad(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),ad(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(s=>{i=s}),null!==(o=this.win)&&void 0!==o&&o.cordova?t.addEventListener("deviceready",()=>{i("cordova")},{once:!0}):i("dom")})}is(t){return(0,sb.a)(this.win,t)}platforms(){return(0,sb.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(t){return MU(this.win.location.href,t)}isLandscape(){return!this.isPortrait()}isPortrait(){var t,r;return null===(r=(t=this.win).matchMedia)||void 0===r?void 0:r.call(t,"(orientation: portrait)").matches}testUserAgent(t){const r=this.win.navigator;return!!(r?.userAgent&&r.userAgent.indexOf(t)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return n.\u0275fac=function(t){return new(t||n)(he(ni),he(ut))},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const MU=(n,e)=>{e=e.replace(/[[\]\\]/g,"\\$&");const r=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(n);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null},ad=(n,e,t)=>{e&&e.addEventListener(t,r=>{n.next(r?.detail)})};let ap=(()=>{class n{constructor(t,r,o,i){this.location=r,this.serializer=o,this.router=i,this.direction=Uk,this.animated=jk,this.guessDirection="forward",this.lastNavId=-1,i&&i.events.subscribe(s=>{if(s instanceof km){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=a<this.lastNavId?"back":"forward",this.guessAnimation=s.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?s.id:a}}),t.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(t,r={}){return this.setDirection("forward",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}navigateBack(t,r={}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}navigateRoot(t,r={}){return this.setDirection("root",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}back(t={animated:!0,animationDirection:"back"}){return this.setDirection("back",t.animated,t.animationDirection,t.animation),this.location.back()}pop(){return kn(this,void 0,void 0,function*(){let t=this.topOutlet;for(;t&&!(yield t.pop());)t=t.parentOutlet})}setDirection(t,r,o,i){this.direction=t,this.animated=TU(t,r,o),this.animationBuilder=i}setTopOutlet(t){this.topOutlet=t}consumeTransition(){let r,t="root";const o=this.animationBuilder;return"auto"===this.direction?(t=this.guessDirection,r=this.guessAnimation):(r=this.animated,t=this.direction),this.direction=Uk,this.animated=jk,this.animationBuilder=void 0,{direction:t,animation:r,animationBuilder:o}}navigate(t,r){if(Array.isArray(t))return this.router.navigate(t,r);{const o=this.serializer.parse(t.toString());return void 0!==r.queryParams&&(o.queryParams=Object.assign({},r.queryParams)),void 0!==r.fragment&&(o.fragment=r.fragment),this.router.navigateByUrl(o,r)}}}return n.\u0275fac=function(t){return new(t||n)(he(xU),he(If),he(Yu),he(Wo,8))},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const TU=(n,e,t)=>{if(!1!==e){if(void 0!==t)return t;if("forward"===n||"back"===n)return n;if("root"===n&&!0===e)return"forward"}},Uk="auto",jk=void 0;let lp=(()=>{class n{constructor(t,r,o,i,s,a,u,f,g,v,D,T,K){this.parentContexts=t,this.location=r,this.config=s,this.navCtrl=a,this.componentFactoryResolver=u,this.parentOutlet=K,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new Ns(null),this.stackEvents=new xn,this.activateEvents=new xn,this.deactivateEvents=new xn,this.nativeEl=g.nativeElement,this.name=o||Un,this.tabsPrefix="true"===i?ub(v,T):void 0,this.stackCtrl=new IU(this.tabsPrefix,this.nativeEl,v,a,D,f),t.onChildOutletCreated(this.name,this)}set animation(t){this.nativeEl.animation=t}set animated(t){this.nativeEl.animated=t}set swipeGesture(t){this._swipeGesture=t,this.nativeEl.swipeHandler=t?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:r=>this.stackCtrl.endBackTransition(r)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const t=this.getContext();t?.route&&this.activateWith(t.route,t.resolver||null)}new Promise(t=>(0,od.c)(this.nativeEl,t)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(t,r){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const r=this.getContext();this.activatedView.savedData=new Map(r.children.contexts);const o=this.activatedView.savedData.get("primary");if(o&&r.route&&(o.route=Object.assign({},r.route)),this.activatedView.savedExtras={},r.route){const i=r.route.snapshot;this.activatedView.savedExtras.queryParams=i.queryParams,this.activatedView.savedExtras.fragment=i.fragment}}const t=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){var o;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;let i,s=this.stackCtrl.getExistingView(t);if(s){i=this.activated=s.ref;const a=s.savedData;a&&(this.getContext().children.contexts=a),this.updateActivatedRouteProxy(i.instance,t)}else{const a=t._futureSnapshot;if(null==a.routeConfig.component&&null==this.environmentInjector)return void console.warn('[Ionic Warning]: You must supply an environmentInjector to use standalone components with routing:\n\nIn your component class, add:\n\n   import { EnvironmentInjector } from \'@angular/core\';\n   constructor(public environmentInjector: EnvironmentInjector) {}\n\nIn your router outlet template, add:\n\n   <ion-router-outlet [environmentInjector]="environmentInjector"></ion-router-outlet>\n\nAlternatively, if you are routing within ion-tabs:\n\n   <ion-tabs [environmentInjector]="environmentInjector"></ion-tabs>');const u=this.parentContexts.getOrCreateContext(this.name).children,f=new Ns(null),g=this.createActivatedRouteProxy(f,t),v=new AU(g,u,this.location.injector),D=null!==(o=a.routeConfig.component)&&void 0!==o?o:a.component;if((r=r||this.componentFactoryResolver)&&kk(r)){const T=r.resolveComponentFactory(D);i=this.activated=this.location.createComponent(T,this.location.length,v)}else i=this.activated=this.location.createComponent(D,{index:this.location.length,injector:v,environmentInjector:r??this.environmentInjector});f.next(i.instance),s=this.stackCtrl.createView(this.activated,t),this.proxyMap.set(i.instance,g),this.currentActivatedRoute$.next({component:i.instance,activatedRoute:t})}this.activatedView=s,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(s).then(a=>{this.activateEvents.emit(i.instance),this.stackEvents.emit(a)})}canGoBack(t=1,r){return this.stackCtrl.canGoBack(t,r)}pop(t=1,r){return this.stackCtrl.pop(t,r)}getLastUrl(t){const r=this.stackCtrl.getLastUrl(t);return r?r.url:void 0}getLastRouteView(t){return this.stackCtrl.getLastUrl(t)}getRootView(t){return this.stackCtrl.getRootUrl(t)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(t,r){const o=new Al;return o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,o._paramMap=this.proxyObservable(t,"paramMap"),o._queryParamMap=this.proxyObservable(t,"queryParamMap"),o.url=this.proxyObservable(t,"url"),o.params=this.proxyObservable(t,"params"),o.queryParams=this.proxyObservable(t,"queryParams"),o.fragment=this.proxyObservable(t,"fragment"),o.data=this.proxyObservable(t,"data"),o}proxyObservable(t,r){return t.pipe(Si(o=>!!o),Ei(o=>this.currentActivatedRoute$.pipe(Si(i=>null!==i&&i.component===o),Ei(i=>i&&i.activatedRoute[r]),Dk())))}updateActivatedRouteProxy(t,r){const o=this.proxyMap.get(t);if(!o)throw new Error("Could not find activated route proxy for view");o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,this.currentActivatedRoute$.next({component:t,activatedRoute:r})}}return n.\u0275fac=function(t){return new(t||n)(S(Gc),S(Hi),du("name"),du("tabs"),S(db),S(ap),S(hl,8),S(If),S(_t),S(Wo),S(ut),S(Al),S(n,12))},n.\u0275dir=at({type:n,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",environmentInjector:"environmentInjector"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class AU{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Al?this.route:e===Gc?this.childContexts:this.parent.get(e,t)}}let Gk=(()=>{class n{constructor(t){this.navCtrl=t,this.ionTabsWillChange=new xn,this.ionTabsDidChange=new xn}onPageSelected(t){const r=t.enteringView.stackId;t.tabSwitch&&void 0!==r&&(this.ionTabsWillChange.emit({tab:r}),this.tabBar&&(this.tabBar.selectedTab=r),this.ionTabsDidChange.emit({tab:r}))}select(t){const r="string"==typeof t,o=r?t:t.detail.tab,i=this.outlet.getActiveStackId()===o,s=`${this.outlet.tabsPrefix}/${o}`;if(r||t.stopPropagation(),i){const a=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(a)?.url===s)return;const f=this.outlet.getRootView(o);return this.navCtrl.navigateRoot(s,Object.assign(Object.assign({},f&&s===f.url&&f.savedExtras),{animated:!0,animationDirection:"back"}))}{const a=this.outlet.getLastRouteView(o),f=a?.savedExtras;return this.navCtrl.navigateRoot(a?.url||s,Object.assign(Object.assign({},f),{animated:!0,animationDirection:"back"}))}}getSelected(){return this.outlet.getActiveStackId()}}return n.\u0275fac=function(t){return new(t||n)(S(ap))},n.\u0275cmp=Le({type:n,selectors:[["ion-tabs"]],contentQueries:function(t,r,o){if(1&t&&function Wl(n,e,t,r){const o=ar();if(o.firstCreatePass){const i=yn();YS(o,new WS(e,t,r),i.index),function _2(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(o,n),2==(2&t)&&(o.staticContentQueries=!0)}qS(o,dt(),t)}(o,cb,5),2&t){let i;Fs(i=Os())&&(r.tabBar=i.first)}},viewQuery:function(t,r){if(1&t&&$u(lV,5,lp),2&t){let o;Fs(o=Os())&&(r.outlet=o.first)}},hostBindings:function(t,r){1&t&&st("ionTabButtonClick",function(i){return r.select(i)})},inputs:{environmentInjector:"environmentInjector"},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:uV,decls:5,vars:1,consts:[[1,"tabs-inner"],["tabs","true",3,"environmentInjector","stackEvents"],["outlet",""]],template:function(t,r){1&t&&(Mt(cV),xt(0),ne(1,"div",0)(2,"ion-router-outlet",1,2),st("stackEvents",function(i){return r.onPageSelected(i)}),X()(),xt(4,1)),2&t&&(Xe(2),nt("environmentInjector",r.environmentInjector))},dependencies:[lp],styles:["[_nghost-%COMP%] {\n        display: flex;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n\n        flex-direction: column;\n\n        width: 100%;\n        height: 100%;\n\n        contain: layout size style;\n        z-index: $z-index-page-container;\n      }\n      .tabs-inner[_ngcontent-%COMP%] {\n        position: relative;\n\n        flex: 1;\n\n        contain: layout size style;\n      }"]}),n})(),Hk=(()=>{class n{constructor(t,r,o){this.routerOutlet=t,this.navCtrl=r,this.config=o}onClick(t){var r;const o=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(r=this.routerOutlet)&&void 0!==r&&r.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),t.preventDefault()):null!=o&&(this.navCtrl.navigateBack(o,{animation:this.routerAnimation}),t.preventDefault())}}return n.\u0275fac=function(t){return new(t||n)(S(lp,8),S(ap),S(db))},n.\u0275dir=at({type:n,selectors:[["ion-back-button"]],hostBindings:function(t,r){1&t&&st("click",function(i){return r.onClick(i)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),n})(),zk=(()=>{let n=class{constructor(t,r,o,i,s){this.el=t.nativeElement,t.nativeElement.delegate=i.create(r,o,s),Pr(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return n.\u0275fac=function(t){return new(t||n)(S(_t),S(hl),S(yo),S(Wm),S(Hi))},n.\u0275dir=at({type:n,selectors:[["ion-nav"]]}),n=U([Tt({inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],n),n})();class cp{constructor(e){this.ctrl=e}create(e){return this.ctrl.create(e||{})}dismiss(e,t,r){return this.ctrl.dismiss(e,t,r)}getTop(){return this.ctrl.getTop()}}let up=(()=>{class n extends cp{constructor(){super(np.b)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zc=(()=>{class n extends cp{constructor(){super(np.a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Fl=(()=>{class n extends cp{constructor(){super(np.l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Yk{}let ws=(()=>{class n extends cp{constructor(t,r,o,i){super(np.m),this.angularDelegate=t,this.resolver=r,this.injector=o,this.environmentInjector=i}create(t){var r;return super.create(Object.assign(Object.assign({},t),{delegate:this.angularDelegate.create(null!==(r=this.resolver)&&void 0!==r?r:this.environmentInjector,this.injector,void 0,"modal")}))}}return n.\u0275fac=function(t){return new(t||n)(he(Wm),he(hl),he(yo),he(Yk,8))},n.\u0275prov=pt({token:n,factory:n.\u0275fac}),n})(),Wc=(()=>{class n extends cp{constructor(t,r,o,i){super(np.c),this.angularDelegate=t,this.resolver=r,this.injector=o,this.environmentInjector=i}create(t){var r;return super.create(Object.assign(Object.assign({},t),{delegate:this.angularDelegate.create(null!==(r=this.resolver)&&void 0!==r?r:this.environmentInjector,this.injector,void 0,"popover")}))}}return n.\u0275fac=function(t){return new(t||n)(he(Wm),he(hl),he(yo),he(Yk,8))},n.\u0275prov=pt({token:n,factory:n.\u0275fac}),n})();const BU=(n,e,t)=>()=>{if(e.defaultView&&typeof window<"u"){(n=>{const e=window,t=e.Ionic;t&&t.config&&"Object"!==t.config.constructor.name||(e.Ionic=e.Ionic||{},e.Ionic.config=Object.assign(Object.assign({},e.Ionic.config),n))})(Object.assign(Object.assign({},n),{_zoneGate:i=>t.run(i)}));const o="__zone_symbol__addEventListener"in e.body?"__zone_symbol__addEventListener":"addEventListener";return function oV(){var n=[];if(typeof window<"u"){var e=window;(!e.customElements||e.Element&&(!e.Element.prototype.closest||!e.Element.prototype.matches||!e.Element.prototype.remove||!e.Element.prototype.getRootNode))&&n.push(R.e(6748).then(R.t.bind(R,3314,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||e.NodeList&&!e.NodeList.prototype.forEach||!e.fetch||!function(){try{var r=new URL("b","http://a");return r.pathname="c%20d","http://a/c%20d"===r.href&&r.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&n.push(R.e(2214).then(R.t.bind(R,7320,23)))}return Promise.all(n)}().then(()=>((n,e)=>typeof window>"u"?Promise.resolve():(0,Sk.p)().then(()=>(iV(),(0,Sk.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"activated":[32]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),e))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Ik,jmp:i=>t.runOutsideAngular(i),ael(i,s,a,u){i[o](s,a,u)},rel(i,s,a,u){i.removeEventListener(s,a,u)}}))}};let oc=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:Vk,useValue:t},{provide:Rc,useFactory:BU,multi:!0,deps:[Vk,ni,ut]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Dr({providers:[Wm,ws,Wc],imports:[[Ga]]}),n})();let ld={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const Xk=/[&<>"']/,UU=new RegExp(Xk.source,"g"),Qk=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,jU=new RegExp(Qk.source,"g"),GU={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Jk=n=>GU[n];function ki(n,e){if(e){if(Xk.test(n))return n.replace(UU,Jk)}else if(Qk.test(n))return n.replace(jU,Jk);return n}const HU=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function ex(n){return n.replace(HU,(e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")}const zU=/(^|[^\[])\^/g;function qr(n,e){n="string"==typeof n?n:n.source,e=e||"";const t={replace:(r,o)=>(o=(o=o.source||o).replace(zU,"$1"),n=n.replace(r,o),t),getRegex:()=>new RegExp(n,e)};return t}const WU=/[^\w:]/g,ZU=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function tx(n,e,t){if(n){let r;try{r=decodeURIComponent(ex(t)).replace(WU,"").toLowerCase()}catch{return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}e&&!ZU.test(t)&&(t=function XU(n,e){Zm[" "+n]||(Zm[" "+n]=qU.test(n)?n+"/":Ym(n,"/",!0));const t=-1===(n=Zm[" "+n]).indexOf(":");return"//"===e.substring(0,2)?t?e:n.replace(YU,"$1")+e:"/"===e.charAt(0)?t?e:n.replace(KU,"$1")+e:n+e}(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const Zm={},qU=/^[^:]+:\/*[^/]*$/,YU=/^([^:]+:)[\s\S]*$/,KU=/^([^:]+:\/*[^/]*)[\s\S]*$/,qm={exec:function(){}};function _a(n){let t,r,e=1;for(;e<arguments.length;e++)for(r in t=arguments[e],t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function nx(n,e){const r=n.replace(/\|/g,(i,s,a)=>{let u=!1,f=s;for(;--f>=0&&"\\"===a[f];)u=!u;return u?"|":" |"}).split(/ \|/);let o=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;o<r.length;o++)r[o]=r[o].trim().replace(/\\\|/g,"|");return r}function Ym(n,e,t){const r=n.length;if(0===r)return"";let o=0;for(;o<r;){const i=n.charAt(r-o-1);if(i!==e||t){if(i===e||!t)break;o++}else o++}return n.slice(0,r-o)}function rx(n){n&&n.sanitize&&!n.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function ox(n,e){if(e<1)return"";let t="";for(;e>1;)1&e&&(t+=n),e>>=1,n+=n;return t+n}function ix(n,e,t,r){const o=e.href,i=e.title?ki(e.title):null,s=n[1].replace(/\\([\[\]])/g,"$1");if("!"!==n[0].charAt(0)){r.state.inLink=!0;const a={type:"link",raw:t,href:o,title:i,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,a}return{type:"image",raw:t,href:o,title:i,text:ki(s)}}class pb{constructor(e){this.options=e||ld}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const r=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Ym(r,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const r=t[0],o=function JU(n,e){const t=n.match(/^(\s+)(?:```)/);if(null===t)return e;const r=t[1];return e.split("\n").map(o=>{const i=o.match(/^\s+/);if(null===i)return o;const[s]=i;return s.length>=r.length?o.slice(r.length):o}).join("\n")}(r,t[3]||"");return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:o}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(/#$/.test(r)){const o=Ym(r,"#");(this.options.pedantic||!o||/ $/.test(o))&&(r=o.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const r=t[0].replace(/^ *>[ \t]?/gm,""),o=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(r);return this.lexer.state.top=o,{type:"blockquote",raw:t[0],tokens:i,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r,o,i,s,a,u,f,g,v,D,T,K,me=t[1].trim();const je=me.length>1,Ye={type:"list",raw:"",ordered:je,start:je?+me.slice(0,-1):"",loose:!1,items:[]};me=je?`\\d{1,9}\\${me.slice(-1)}`:`\\${me}`,this.options.pedantic&&(me=je?me:"[*+-]");const yt=new RegExp(`^( {0,3}${me})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;e&&(K=!1,(t=yt.exec(e))&&!this.rules.block.hr.test(e));){if(r=t[0],e=e.substring(r.length),g=t[2].split("\n",1)[0].replace(/^\t+/,At=>" ".repeat(3*At.length)),v=e.split("\n",1)[0],this.options.pedantic?(s=2,T=g.trimLeft()):(s=t[2].search(/[^ ]/),s=s>4?1:s,T=g.slice(s),s+=t[1].length),u=!1,!g&&/^ *$/.test(v)&&(r+=v+"\n",e=e.substring(v.length+1),K=!0),!K){const At=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),gn=new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Zn=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),Ds=new RegExp(`^ {0,${Math.min(3,s-1)}}#`);for(;e&&(D=e.split("\n",1)[0],v=D,this.options.pedantic&&(v=v.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Zn.test(v)||Ds.test(v)||At.test(v)||gn.test(e)));){if(v.search(/[^ ]/)>=s||!v.trim())T+="\n"+v.slice(s);else{if(u||g.search(/[^ ]/)>=4||Zn.test(g)||Ds.test(g)||gn.test(g))break;T+="\n"+v}!u&&!v.trim()&&(u=!0),r+=D+"\n",e=e.substring(D.length+1),g=v.slice(s)}}Ye.loose||(f?Ye.loose=!0:/\n *\n *$/.test(r)&&(f=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(T),o&&(i="[ ] "!==o[0],T=T.replace(/^\[[ xX]\] +/,""))),Ye.items.push({type:"list_item",raw:r,task:!!o,checked:i,loose:!1,text:T}),Ye.raw+=r}Ye.items[Ye.items.length-1].raw=r.trimRight(),Ye.items[Ye.items.length-1].text=T.trimRight(),Ye.raw=Ye.raw.trimRight();const Oe=Ye.items.length;for(a=0;a<Oe;a++)if(this.lexer.state.top=!1,Ye.items[a].tokens=this.lexer.blockTokens(Ye.items[a].text,[]),!Ye.loose){const At=Ye.items[a].tokens.filter(Zn=>"space"===Zn.type),gn=At.length>0&&At.some(Zn=>/\n.*\n/.test(Zn.raw));Ye.loose=gn}if(Ye.loose)for(a=0;a<Oe;a++)Ye.items[a].loose=!0;return Ye}}html(e){const t=this.rules.block.html.exec(e);if(t){const r={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){const o=this.options.sanitizer?this.options.sanitizer(t[0]):ki(t[0]);r.type="paragraph",r.text=o,r.tokens=this.lexer.inline(o)}return r}}def(e){const t=this.rules.block.def.exec(e);if(t){const r=t[1].toLowerCase().replace(/\s+/g," "),o=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:o,title:i}}}table(e){const t=this.rules.block.table.exec(e);if(t){const r={type:"table",header:nx(t[1]).map(o=>({text:o})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(r.header.length===r.align.length){r.raw=t[0];let i,s,a,u,o=r.align.length;for(i=0;i<o;i++)r.align[i]=/^ *-+: *$/.test(r.align[i])?"right":/^ *:-+: *$/.test(r.align[i])?"center":/^ *:-+ *$/.test(r.align[i])?"left":null;for(o=r.rows.length,i=0;i<o;i++)r.rows[i]=nx(r.rows[i],r.header.length).map(f=>({text:f}));for(o=r.header.length,s=0;s<o;s++)r.header[s].tokens=this.lexer.inline(r.header[s].text);for(o=r.rows.length,s=0;s<o;s++)for(u=r.rows[s],a=0;a<u.length;a++)u[a].tokens=this.lexer.inline(u[a].text);return r}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const r="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:ki(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):ki(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const r=t[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const s=Ym(r.slice(0,-1),"\\");if((r.length-s.length)%2==0)return}else{const s=function QU(n,e){if(-1===n.indexOf(e[1]))return-1;const t=n.length;let r=0,o=0;for(;o<t;o++)if("\\"===n[o])o++;else if(n[o]===e[0])r++;else if(n[o]===e[1]&&(r--,r<0))return o;return-1}(t[2],"()");if(s>-1){const u=(0===t[0].indexOf("!")?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,u).trim(),t[3]=""}}let o=t[2],i="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);s&&(o=s[1],i=s[3])}else i=t[3]?t[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(r)?o.slice(1):o.slice(1,-1)),ix(t,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let o=(r[2]||r[1]).replace(/\s+/g," ");if(o=t[o.toLowerCase()],!o){const i=r[0].charAt(0);return{type:"text",raw:i,text:i}}return ix(r,o,r[0],this.lexer)}}emStrong(e,t,r=""){let o=this.rules.inline.emStrong.lDelim.exec(e);if(!o||o[3]&&r.match(/[\p{L}\p{N}]/u))return;const i=o[1]||o[2]||"";if(!i||i&&(""===r||this.rules.inline.punctuation.exec(r))){const s=o[0].length-1;let a,u,f=s,g=0;const v="*"===o[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(v.lastIndex=0,t=t.slice(-1*e.length+s);null!=(o=v.exec(t));){if(a=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!a)continue;if(u=a.length,o[3]||o[4]){f+=u;continue}if((o[5]||o[6])&&s%3&&!((s+u)%3)){g+=u;continue}if(f-=u,f>0)continue;u=Math.min(u,u+f+g);const D=e.slice(0,s+o.index+(o[0].length-a.length)+u);if(Math.min(s,u)%2){const K=D.slice(1,-1);return{type:"em",raw:D,text:K,tokens:this.lexer.inlineTokens(K)}}const T=D.slice(2,-2);return{type:"strong",raw:D,text:T,tokens:this.lexer.inlineTokens(T)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(/\n/g," ");const o=/[^ ]/.test(r),i=/^ /.test(r)&&/ $/.test(r);return o&&i&&(r=r.substring(1,r.length-1)),r=ki(r,!0),{type:"codespan",raw:t[0],text:r}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const r=this.rules.inline.autolink.exec(e);if(r){let o,i;return"@"===r[2]?(o=ki(this.options.mangle?t(r[1]):r[1]),i="mailto:"+o):(o=ki(r[1]),i=o),{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}url(e,t){let r;if(r=this.rules.inline.url.exec(e)){let o,i;if("@"===r[2])o=ki(this.options.mangle?t(r[0]):r[0]),i="mailto:"+o;else{let s;do{s=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(s!==r[0]);o=ki(r[0]),i="www."===r[1]?"http://"+r[0]:r[0]}return{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(e,t){const r=this.rules.inline.text.exec(e);if(r){let o;return o=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):ki(r[0]):r[0]:ki(this.options.smartypants?t(r[0]):r[0]),{type:"text",raw:r[0],text:o}}}}const bn={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:qm,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};bn.def=qr(bn.def).replace("label",bn._label).replace("title",bn._title).getRegex(),bn.bullet=/(?:[*+-]|\d{1,9}[.)])/,bn.listItemStart=qr(/^( *)(bull) */).replace("bull",bn.bullet).getRegex(),bn.list=qr(bn.list).replace(/bull/g,bn.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+bn.def.source+")").getRegex(),bn._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",bn._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,bn.html=qr(bn.html,"i").replace("comment",bn._comment).replace("tag",bn._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),bn.paragraph=qr(bn._paragraph).replace("hr",bn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",bn._tag).getRegex(),bn.blockquote=qr(bn.blockquote).replace("paragraph",bn.paragraph).getRegex(),bn.normal=_a({},bn),bn.gfm=_a({},bn.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),bn.gfm.table=qr(bn.gfm.table).replace("hr",bn.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",bn._tag).getRegex(),bn.gfm.paragraph=qr(bn._paragraph).replace("hr",bn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",bn.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",bn._tag).getRegex(),bn.pedantic=_a({},bn.normal,{html:qr("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",bn._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:qm,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:qr(bn.normal._paragraph).replace("hr",bn.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",bn.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const Yt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:qm,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:qm,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function ej(n){return n.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function sx(n){let t,r,e="";const o=n.length;for(t=0;t<o;t++)r=n.charCodeAt(t),Math.random()>.5&&(r="x"+r.toString(16)),e+="&#"+r+";";return e}Yt._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Yt.punctuation=qr(Yt.punctuation).replace(/punctuation/g,Yt._punctuation).getRegex(),Yt.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Yt.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,Yt._comment=qr(bn._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Yt.emStrong.lDelim=qr(Yt.emStrong.lDelim).replace(/punct/g,Yt._punctuation).getRegex(),Yt.emStrong.rDelimAst=qr(Yt.emStrong.rDelimAst,"g").replace(/punct/g,Yt._punctuation).getRegex(),Yt.emStrong.rDelimUnd=qr(Yt.emStrong.rDelimUnd,"g").replace(/punct/g,Yt._punctuation).getRegex(),Yt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Yt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Yt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Yt.autolink=qr(Yt.autolink).replace("scheme",Yt._scheme).replace("email",Yt._email).getRegex(),Yt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Yt.tag=qr(Yt.tag).replace("comment",Yt._comment).replace("attribute",Yt._attribute).getRegex(),Yt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Yt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Yt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Yt.link=qr(Yt.link).replace("label",Yt._label).replace("href",Yt._href).replace("title",Yt._title).getRegex(),Yt.reflink=qr(Yt.reflink).replace("label",Yt._label).replace("ref",bn._label).getRegex(),Yt.nolink=qr(Yt.nolink).replace("ref",bn._label).getRegex(),Yt.reflinkSearch=qr(Yt.reflinkSearch,"g").replace("reflink",Yt.reflink).replace("nolink",Yt.nolink).getRegex(),Yt.normal=_a({},Yt),Yt.pedantic=_a({},Yt.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:qr(/^!?\[(label)\]\((.*?)\)/).replace("label",Yt._label).getRegex(),reflink:qr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Yt._label).getRegex()}),Yt.gfm=_a({},Yt.normal,{escape:qr(Yt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Yt.gfm.url=qr(Yt.gfm.url,"i").replace("email",Yt.gfm._extended_email).getRegex(),Yt.breaks=_a({},Yt.gfm,{br:qr(Yt.br).replace("{2,}","*").getRegex(),text:qr(Yt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class Ol{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||ld,this.options.tokenizer=this.options.tokenizer||new pb,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:bn.normal,inline:Yt.normal};this.options.pedantic?(t.block=bn.pedantic,t.inline=Yt.pedantic):this.options.gfm&&(t.block=bn.gfm,t.inline=this.options.breaks?Yt.breaks:Yt.gfm),this.tokenizer.rules=t}static get rules(){return{block:bn,inline:Yt}}static lex(e,t){return new Ol(t).lex(e)}static lexInline(e,t){return new Ol(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let r,o,i,s;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(a,u,f)=>u+"    ".repeat(f.length));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(r=a.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),1===r.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),o=t[t.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?t.push(r):(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),o=t[t.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title}):(o.raw+="\n"+r.raw,o.text+="\n"+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(i=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const u=e.slice(1);let f;this.options.extensions.startBlock.forEach(function(g){f=g.call({lexer:this},u),"number"==typeof f&&f>=0&&(a=Math.min(a,f))}),a<1/0&&a>=0&&(i=e.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){o=t[t.length-1],s&&"paragraph"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(r),s=i.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),o=t[t.length-1],o&&"text"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(r);continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let r,o,i,a,u,f,s=e;if(this.tokens.links){const g=Object.keys(this.tokens.links);if(g.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(s));)g.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+ox("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,a.index)+"["+ox("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.escapedEmSt.exec(s));)s=s.slice(0,a.index+a[0].length-2)+"++"+s.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(u||(f=""),u=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(g=>!!(r=g.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),o=t[t.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):t.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),o=t[t.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):t.push(r);continue}if(r=this.tokenizer.emStrong(e,s,f)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.autolink(e,sx)){e=e.substring(r.raw.length),t.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e,sx))){e=e.substring(r.raw.length),t.push(r);continue}if(i=e,this.options.extensions&&this.options.extensions.startInline){let g=1/0;const v=e.slice(1);let D;this.options.extensions.startInline.forEach(function(T){D=T.call({lexer:this},v),"number"==typeof D&&D>=0&&(g=Math.min(g,D))}),g<1/0&&g>=0&&(i=e.substring(0,g+1))}if(r=this.tokenizer.inlineText(i,ej)){e=e.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(f=r.raw.slice(-1)),u=!0,o=t[t.length-1],o&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):t.push(r);continue}if(e){const g="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(g);break}throw new Error(g)}}return t}}class cd{constructor(e){this.options=e||ld}code(e,t,r){const o=(t||"").match(/\S*/)[0];if(this.options.highlight){const i=this.options.highlight(e,o);null!=i&&i!==e&&(r=!0,e=i)}return e=e.replace(/\n$/,"")+"\n",o?'<pre><code class="'+this.options.langPrefix+ki(o)+'">'+(r?e:ki(e,!0))+"</code></pre>\n":"<pre><code>"+(r?e:ki(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e){return e}heading(e,t,r,o){return this.options.headerIds?`<h${t} id="${this.options.headerPrefix+o.slug(r)}">${e}</h${t}>\n`:`<h${t}>${e}</h${t}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,r){const o=t?"ol":"ul";return"<"+o+(t&&1!==r?' start="'+r+'"':"")+">\n"+e+"</"+o+">\n"}listitem(e){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,r){if(null===(e=tx(this.options.sanitize,this.options.baseUrl,e)))return r;let o='<a href="'+e+'"';return t&&(o+=' title="'+t+'"'),o+=">"+r+"</a>",o}image(e,t,r){if(null===(e=tx(this.options.sanitize,this.options.baseUrl,e)))return r;let o=`<img src="${e}" alt="${r}"`;return t&&(o+=` title="${t}"`),o+=this.options.xhtml?"/>":">",o}text(e){return e}}class ax{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,r){return""+r}image(e,t,r){return""+r}br(){return""}}class lx{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let r=e,o=0;if(this.seen.hasOwnProperty(r)){o=this.seen[e];do{o++,r=e+"-"+o}while(this.seen.hasOwnProperty(r))}return t||(this.seen[e]=o,this.seen[r]=0),r}slug(e,t={}){const r=this.serialize(e);return this.getNextSafeSlug(r,t.dryrun)}}class qa{constructor(e){this.options=e||ld,this.options.renderer=this.options.renderer||new cd,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new ax,this.slugger=new lx}static parse(e,t){return new qa(t).parse(e)}static parseInline(e,t){return new qa(t).parseInline(e)}parse(e,t=!0){let o,i,s,a,u,f,g,v,D,T,K,me,je,Ye,yt,Oe,At,gn,Zn,r="";const Ds=e.length;for(o=0;o<Ds;o++)if(T=e[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[T.type]&&(Zn=this.options.extensions.renderers[T.type].call({parser:this},T),!1!==Zn||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(T.type)))r+=Zn||"";else switch(T.type){case"space":continue;case"hr":r+=this.renderer.hr();continue;case"heading":r+=this.renderer.heading(this.parseInline(T.tokens),T.depth,ex(this.parseInline(T.tokens,this.textRenderer)),this.slugger);continue;case"code":r+=this.renderer.code(T.text,T.lang,T.escaped);continue;case"table":for(v="",g="",a=T.header.length,i=0;i<a;i++)g+=this.renderer.tablecell(this.parseInline(T.header[i].tokens),{header:!0,align:T.align[i]});for(v+=this.renderer.tablerow(g),D="",a=T.rows.length,i=0;i<a;i++){for(f=T.rows[i],g="",u=f.length,s=0;s<u;s++)g+=this.renderer.tablecell(this.parseInline(f[s].tokens),{header:!1,align:T.align[s]});D+=this.renderer.tablerow(g)}r+=this.renderer.table(v,D);continue;case"blockquote":D=this.parse(T.tokens),r+=this.renderer.blockquote(D);continue;case"list":for(K=T.ordered,me=T.start,je=T.loose,a=T.items.length,D="",i=0;i<a;i++)yt=T.items[i],Oe=yt.checked,At=yt.task,Ye="",yt.task&&(gn=this.renderer.checkbox(Oe),je?yt.tokens.length>0&&"paragraph"===yt.tokens[0].type?(yt.tokens[0].text=gn+" "+yt.tokens[0].text,yt.tokens[0].tokens&&yt.tokens[0].tokens.length>0&&"text"===yt.tokens[0].tokens[0].type&&(yt.tokens[0].tokens[0].text=gn+" "+yt.tokens[0].tokens[0].text)):yt.tokens.unshift({type:"text",text:gn}):Ye+=gn),Ye+=this.parse(yt.tokens,je),D+=this.renderer.listitem(Ye,At,Oe);r+=this.renderer.list(D,K,me);continue;case"html":r+=this.renderer.html(T.text);continue;case"paragraph":r+=this.renderer.paragraph(this.parseInline(T.tokens));continue;case"text":for(D=T.tokens?this.parseInline(T.tokens):T.text;o+1<Ds&&"text"===e[o+1].type;)T=e[++o],D+="\n"+(T.tokens?this.parseInline(T.tokens):T.text);r+=t?this.renderer.paragraph(D):D;continue;default:{const ug='Token with "'+T.type+'" type was not found.';if(this.options.silent)return void console.error(ug);throw new Error(ug)}}return r}parseInline(e,t){t=t||this.renderer;let o,i,s,r="";const a=e.length;for(o=0;o<a;o++)if(i=e[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]&&(s=this.options.extensions.renderers[i.type].call({parser:this},i),!1!==s||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)))r+=s||"";else switch(i.type){case"escape":case"text":r+=t.text(i.text);break;case"html":r+=t.html(i.text);break;case"link":r+=t.link(i.href,i.title,this.parseInline(i.tokens,t));break;case"image":r+=t.image(i.href,i.title,i.text);break;case"strong":r+=t.strong(this.parseInline(i.tokens,t));break;case"em":r+=t.em(this.parseInline(i.tokens,t));break;case"codespan":r+=t.codespan(i.text);break;case"br":r+=t.br();break;case"del":r+=t.del(this.parseInline(i.tokens,t));break;default:{const u='Token with "'+i.type+'" type was not found.';if(this.options.silent)return void console.error(u);throw new Error(u)}}return r}}function Dn(n,e,t){if(typeof n>"u"||null===n)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof n)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");if("function"==typeof e&&(t=e,e=null),rx(e=_a({},Dn.defaults,e||{})),t){const o=e.highlight;let i;try{i=Ol.lex(n,e)}catch(u){return t(u)}const s=function(u){let f;if(!u)try{e.walkTokens&&Dn.walkTokens(i,e.walkTokens),f=qa.parse(i,e)}catch(g){u=g}return e.highlight=o,u?t(u):t(null,f)};if(!o||o.length<3||(delete e.highlight,!i.length))return s();let a=0;return Dn.walkTokens(i,function(u){"code"===u.type&&(a++,setTimeout(()=>{o(u.text,u.lang,function(f,g){if(f)return s(f);null!=g&&g!==u.text&&(u.text=g,u.escaped=!0),a--,0===a&&s()})},0))}),void(0===a&&s())}function r(o){if(o.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+ki(o.message+"",!0)+"</pre>";throw o}try{const o=Ol.lex(n,e);if(e.walkTokens){if(e.async)return Promise.all(Dn.walkTokens(o,e.walkTokens)).then(()=>qa.parse(o,e)).catch(r);Dn.walkTokens(o,e.walkTokens)}return qa.parse(o,e)}catch(o){r(o)}}Dn.options=Dn.setOptions=function(n){return _a(Dn.defaults,n),function VU(n){ld=n}(Dn.defaults),Dn},Dn.getDefaults=function Kk(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},Dn.defaults=ld,Dn.use=function(...n){const e=Dn.defaults.extensions||{renderers:{},childTokens:{}};n.forEach(t=>{const r=_a({},t);if(r.async=Dn.defaults.async||r.async,t.extensions&&(t.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if(o.renderer){const i=e.renderers[o.name];e.renderers[o.name]=i?function(...s){let a=o.renderer.apply(this,s);return!1===a&&(a=i.apply(this,s)),a}:o.renderer}if(o.tokenizer){if(!o.level||"block"!==o.level&&"inline"!==o.level)throw new Error("extension level must be 'block' or 'inline'");e[o.level]?e[o.level].unshift(o.tokenizer):e[o.level]=[o.tokenizer],o.start&&("block"===o.level?e.startBlock?e.startBlock.push(o.start):e.startBlock=[o.start]:"inline"===o.level&&(e.startInline?e.startInline.push(o.start):e.startInline=[o.start]))}o.childTokens&&(e.childTokens[o.name]=o.childTokens)}),r.extensions=e),t.renderer){const o=Dn.defaults.renderer||new cd;for(const i in t.renderer){const s=o[i];o[i]=(...a)=>{let u=t.renderer[i].apply(o,a);return!1===u&&(u=s.apply(o,a)),u}}r.renderer=o}if(t.tokenizer){const o=Dn.defaults.tokenizer||new pb;for(const i in t.tokenizer){const s=o[i];o[i]=(...a)=>{let u=t.tokenizer[i].apply(o,a);return!1===u&&(u=s.apply(o,a)),u}}r.tokenizer=o}if(t.walkTokens){const o=Dn.defaults.walkTokens;r.walkTokens=function(i){let s=[];return s.push(t.walkTokens.call(this,i)),o&&(s=s.concat(o.call(this,i))),s}}Dn.setOptions(r)})},Dn.walkTokens=function(n,e){let t=[];for(const r of n)switch(t=t.concat(e.call(Dn,r)),r.type){case"table":for(const o of r.header)t=t.concat(Dn.walkTokens(o.tokens,e));for(const o of r.rows)for(const i of o)t=t.concat(Dn.walkTokens(i.tokens,e));break;case"list":t=t.concat(Dn.walkTokens(r.items,e));break;default:Dn.defaults.extensions&&Dn.defaults.extensions.childTokens&&Dn.defaults.extensions.childTokens[r.type]?Dn.defaults.extensions.childTokens[r.type].forEach(function(o){t=t.concat(Dn.walkTokens(r[o],e))}):r.tokens&&(t=t.concat(Dn.walkTokens(r.tokens,e)))}return t},Dn.parseInline=function(n,e){if(typeof n>"u"||null===n)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof n)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");rx(e=_a({},Dn.defaults,e||{}));try{const t=Ol.lexInline(n,e);return e.walkTokens&&Dn.walkTokens(t,e.walkTokens),qa.parseInline(t,e)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+ki(t.message+"",!0)+"</pre>";throw t}},Dn.Parser=qa,Dn.parser=qa.parse,Dn.Renderer=cd,Dn.TextRenderer=ax,Dn.Lexer=Ol,Dn.lexer=Ol.lex,Dn.Tokenizer=pb,Dn.Slugger=lx,Dn.parse=Dn;class tj extends G{constructor(e,t){super()}schedule(e,t=0){return this}}const Km={setInterval(n,e,...t){const{delegate:r}=Km;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Km;return(e?.clearInterval||clearInterval)(n)},delegate:void 0},hb={now:()=>(hb.delegate||Date).now(),delegate:void 0};class dp{constructor(e,t=dp.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}dp.now=hb.now;const cx=new class rj extends dp{constructor(e,t=dp.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}(class nj extends tj{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const o=this.id,i=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(i,o,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return Km.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Km.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let o,r=!1;try{this.work(e)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,J(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}),oj=cx;function ux(n=0,e,t=oj){let r=-1;return null!=e&&(xo(e)?t=e:r=e),new Ct(o=>{let i=function ij(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;i<0&&(i=0);let s=0;return t.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}class sj extends et{constructor(e=1/0,t=1/0,r=hb){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;t||(r.push(e),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!e.closed;s+=r?1:2)e.next(i[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*e;if(e<1/0&&i<r.length&&r.splice(0,r.length-i),!o){const s=t.now();let a=0;for(let u=1;u<r.length&&r[u]<=s;u+=2)a=u;a&&r.splice(0,a+1)}}}const cj=["*"];let mb=(()=>{class n{constructor(){this._buttonClick$=new et,this.copied$=this._buttonClick$.pipe(Ei(()=>_i(dn(!0),ux(3e3).pipe(Ov(!1)))),Dk(),function aj(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,Us({connector:()=>new sj(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(1)),this.copiedText$=this.copied$.pipe(fI(!1),Pe(t=>t?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Le({type:n,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(t,r){1&t&&(ne(0,"button",0),st("click",function(){return r.onCopyToClipboardClick()}),Ba(1,"async"),Ze(2),Ba(3,"async"),X()),2&t&&(yl("copied",Va(1,3,r.copied$)),Xe(2),Rs(Va(3,5,r.copiedText$)))},dependencies:[hD],encapsulation:2,changeDetection:0}),n})();class fj{}var fp=(()=>{return(n=fp||(fp={})).CommandLine="command-line",n.LineHighlight="line-highlight",n.LineNumbers="line-numbers",fp;var n})();class dx{}const fx=new en("SECURITY_CONTEXT");let gb=(()=>{class n{constructor(t,r,o,i,s,a){this.platform=t,this.securityContext=r,this.http=o,this.clipboardOptions=i,this.sanitizer=a,this.DEFAULT_MARKED_OPTIONS={renderer:new cd},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:this.DEFAULT_MARKED_OPTIONS,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new et,this.reload$=this._reload$.asObservable(),this.options=s}get options(){return this._options}set options(t){this._options={...this.DEFAULT_MARKED_OPTIONS,...t}}get renderer(){return this.options.renderer}set renderer(t){this.options.renderer=t}parse(t,r=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:o,inline:i,emoji:s,mermaid:a,disableSanitizer:u}=r,f={...this.options,...r.markedOptions};a&&(this.renderer=this.extendRenderer(f.renderer||new cd));const g=this.trimIndentation(t),v=o?this.decodeHtml(g):g,D=s?this.parseEmoji(v):v,T=this.parseMarked(D,f,i);return(u?T:this.sanitizer.sanitize(this.securityContext,T))||""}render(t,r=this.DEFAULT_RENDER_OPTIONS,o){const{clipboard:i,clipboardOptions:s,katex:a,katexOptions:u,mermaid:f,mermaidOptions:g}=r;i&&this.renderClipboard(t,o,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...s}),a&&this.renderKatex(t,{...this.DEFAULT_KATEX_OPTIONS,...u}),f&&this.renderMermaid(t,{...this.DEFAULT_MERMAID_OPTIONS,...g}),this.highlight(t)}reload(){this._reload$.next()}getSource(t){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(t,{responseType:"text"}).pipe(Pe(r=>this.handleExtension(t,r)))}highlight(t){if(!Yl(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;t||(t=document);const r=t.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(r,o=>o.classList.add("language-none")),Prism.highlightAllUnder(t)}decodeHtml(t){if(!Yl(this.platform))return t;const r=document.createElement("textarea");return r.innerHTML=t,r.value}extendRenderer(t){const r=t;if(!0===r.\u0275NgxMarkdownRendererExtended)return t;const o=t.code;return t.code=function(i,s,a){return"mermaid"===s?`<div class="mermaid">${i}</div>`:o.call(this,i,s,a)},r.\u0275NgxMarkdownRendererExtended=!0,t}handleExtension(t,r){const o=t.lastIndexOf("://"),i=o>-1?t.substring(o+4):t,s=i.lastIndexOf("/"),a=s>-1?i.substring(s+1).split("?")[0]:"",u=a.lastIndexOf("."),f=u>-1?a.substring(u+1):"";return f&&"md"!==f?"```"+f+"\n"+r+"\n```":r}parseMarked(t,r,o=!1){return o?Dn.parseInline(t,r):Dn.parse(t,r)}parseEmoji(t){if(!Yl(this.platform))return t;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(t)}renderKatex(t,r){if(Yl(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(t,r)}}renderClipboard(t,r,o){if(!Yl(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!r)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:i,buttonTemplate:s}=o,a=t.querySelectorAll("pre");for(let u=0;u<a.length;u++){const f=a.item(u),g=document.createElement("div");g.style.position="relative",f.parentNode.insertBefore(g,f),g.appendChild(f);const v=document.createElement("div");let D,T;v.style.position="absolute",v.style.top=".5em",v.style.right=".5em",v.style.opacity="0",v.style.transition="opacity 250ms ease-out",g.insertAdjacentElement("beforeend",v),f.onmouseover=()=>v.style.opacity="1",f.onmouseout=()=>v.style.opacity="0",D=i?r.createComponent(i).hostView:s?r.createEmbeddedView(s):r.createComponent(mb).hostView,D.rootNodes.forEach(K=>{K.onmouseover=()=>v.style.opacity="1",v.appendChild(K),T=new ClipboardJS(K,{text:()=>f.innerText})}),D.onDestroy(()=>T.destroy())}}renderMermaid(t,r=this.DEFAULT_MERMAID_OPTIONS){if(!Yl(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.init>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const o=t.querySelectorAll(".mermaid");0!==o.length&&(mermaid.initialize(r),mermaid.init(o))}trimIndentation(t){if(!t)return"";let r;return t.split("\n").map(o=>{let i=r;return o.length>0&&(i=isNaN(i)?o.search(/\S|$/):Math.min(o.search(/\S|$/),i)),isNaN(r)&&(r=i),i?o.substring(i):o}).join("\n")}}return n.\u0275fac=function(t){return new(t||n)(he(Uu),he(fx),he(lv,8),he(fj,8),he(dx,8),he(rv))},n.\u0275prov=pt({token:n,factory:n.\u0275fac}),n})(),_b=(()=>{class n{constructor(t,r,o){this.element=t,this.markdownService=r,this.viewContainerRef=o,this.error=new xn,this.load=new xn,this.ready=new xn,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this._srcRelativeLink=!1,this.destroyed$=new et}get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(t){this._disableSanitizer=this.coerceBooleanProperty(t)}get inline(){return this._inline}set inline(t){this._inline=this.coerceBooleanProperty(t)}get srcRelativeLink(){return this._srcRelativeLink}set srcRelativeLink(t){this._srcRelativeLink=this.coerceBooleanProperty(t)}get clipboard(){return this._clipboard}set clipboard(t){this._clipboard=this.coerceBooleanProperty(t)}get emoji(){return this._emoji}set emoji(t){this._emoji=this.coerceBooleanProperty(t)}get katex(){return this._katex}set katex(t){this._katex=this.coerceBooleanProperty(t)}get mermaid(){return this._mermaid}set mermaid(t){this._mermaid=this.coerceBooleanProperty(t)}get lineHighlight(){return this._lineHighlight}set lineHighlight(t){this._lineHighlight=this.coerceBooleanProperty(t)}get lineNumbers(){return this._lineNumbers}set lineNumbers(t){this._lineNumbers=this.coerceBooleanProperty(t)}get commandLine(){return this._commandLine}set commandLine(t){this._commandLine=this.coerceBooleanProperty(t)}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(function lj(n){return z((e,t)=>{mn(n).subscribe(Ce(t,()=>t.complete(),$)),!t.closed&&e.subscribe(t)})}(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(t,r=!1){let o;this.src&&this.srcRelativeLink&&(o={baseUrl:new URL(this.src,location.origin).pathname});const s={clipboard:this.clipboard,clipboardOptions:{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate},katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},a=this.markdownService.parse(t,{decodeHtml:r,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid,markedOptions:o,disableSanitizer:this.disableSanitizer});this.element.nativeElement.innerHTML=a,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,s,this.viewContainerRef),this.ready.emit()}coerceBooleanProperty(t){return null!=t&&"false"!=`${String(t)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:t=>{this.render(t),this.load.emit(t)},error:t=>this.error.emit(t)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,fp.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,fp.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(t,r){const o=t.querySelectorAll("pre");for(let i=0;i<o.length;i++){const s=r instanceof Array?r:[r];o.item(i).classList.add(...s)}}setPluginOptions(t,r){const o=t.querySelectorAll("pre");for(let i=0;i<o.length;i++)Object.keys(r).forEach(s=>{const a=r[s];if(a){const u=this.toLispCase(s);o.item(i).setAttribute(u,a.toString())}})}toLispCase(t){const r=t.match(/([A-Z])/g);if(!r)return t;let o=t.toString();for(let i=0,s=r.length;i<s;i++)o=o.replace(new RegExp(r[i]),"-"+r[i].toLowerCase());return"-"===o.slice(0,1)&&(o=o.slice(1)),o}}return n.\u0275fac=function(t){return new(t||n)(S(_t),S(gb),S(Hi))},n.\u0275cmp=Le({type:n,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",srcRelativeLink:"srcRelativeLink",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[$o],ngContentSelectors:cj,decls:1,vars:0,template:function(t,r){1&t&&(Mt(),xt(0))},encapsulation:2}),n})(),yb=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[gb,t&&t.loader||[],t&&t.clipboardOptions||[],t&&t.markedOptions||[],{provide:fx,useValue:t&&null!=t.sanitize?t.sanitize:Zr.HTML}]}}static forChild(){return{ngModule:n}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Dr({imports:[Ga]}),n})();var px;!function(n){let e;var o;let t,r;(o=e=n.SecurityLevel||(n.SecurityLevel={})).Strict="strict",o.Loose="loose",o.Antiscript="antiscript",o.Sandbox="sandbox",function(o){o.Base="base",o.Forest="forest",o.Dark="dark",o.Default="default",o.Neutral="neutral"}(t=n.Theme||(n.Theme={})),function(o){o[o.Debug=1]="Debug",o[o.Info=2]="Info",o[o.Warn=3]="Warn",o[o.Error=4]="Error",o[o.Fatal=5]="Fatal"}(r=n.LogLevel||(n.LogLevel={}))}(px||(px={}));var ee=R(3918);const bj="safari"in window,hx=!navigator.userAgent.match(/(crios)|(fxios)/i),ya=!!navigator.platform.match(/iPhone|iPad|iPod/)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,mx=!!navigator.userAgent.match(/android/i),Cj=navigator.userAgent.toLowerCase().indexOf("firefox")>=0;var ic=(()=>{return(n=ic||(ic={})).web="web",n.pwa="pwa",n.twa="twa",ic;var n})();new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked");const Ej=new Error("request for lock canceled");class Ij{constructor(e,t=Ej){this._value=e,this._cancelError=t,this._weightedQueues=[],this._weightedWaiters=[]}acquire(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise((t,r)=>{this._weightedQueues[e-1]||(this._weightedQueues[e-1]=[]),this._weightedQueues[e-1].push({resolve:t,reject:r}),this._dispatch()})}runExclusive(e,t=1){return function(n,e,t,r){return new(t||(t=Promise))(function(i,s){function a(g){try{f(r.next(g))}catch(v){s(v)}}function u(g){try{f(r.throw(g))}catch(v){s(v)}}function f(g){g.done?i(g.value):function o(i){return i instanceof t?i:new t(function(s){s(i)})}(g.value).then(a,u)}f((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){const[r,o]=yield this.acquire(t);try{return yield e(r)}finally{o()}})}waitForUnlock(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise(t=>{this._weightedWaiters[e-1]||(this._weightedWaiters[e-1]=[]),this._weightedWaiters[e-1].push(t),this._dispatch()})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(e){this._value=e,this._dispatch()}release(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);this._value+=e,this._dispatch()}cancel(){this._weightedQueues.forEach(e=>e.forEach(t=>t.reject(this._cancelError))),this._weightedQueues=[]}_dispatch(){var e;for(let t=this._value;t>0;t--){const r=null===(e=this._weightedQueues[t-1])||void 0===e?void 0:e.shift();if(!r)continue;const o=this._value,i=t;this._value-=t,t=this._value+1,r.resolve([o,this._newReleaser(i)])}this._drainUnlockWaiters()}_newReleaser(e){let t=!1;return()=>{t||(t=!0,this.release(e))}}_drainUnlockWaiters(){for(let e=this._value;e>0;e--)this._weightedWaiters[e-1]&&(this._weightedWaiters[e-1].forEach(t=>t()),this._weightedWaiters[e-1]=[])}}class Ya{constructor(e){this._semaphore=new Ij(1,e)}acquire(){return n=this,e=void 0,r=function*(){const[,e]=yield this._semaphore.acquire();return e},new((t=void 0)||(t=Promise))(function(i,s){function a(g){try{f(r.next(g))}catch(v){s(v)}}function u(g){try{f(r.throw(g))}catch(v){s(v)}}function f(g){g.done?i(g.value):function o(i){return i instanceof t?i:new t(function(s){s(i)})}(g.value).then(a,u)}f((r=r.apply(n,e||[])).next())});var n,e,t,r}runExclusive(e){return this._semaphore.runExclusive(()=>e())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const Xm="cloudpilot-session-preview";function _x(){localStorage.removeItem(Xm)}function mo(){return(n,e,t)=>{const r=t.value;let o=!1;return t.value=(0,ee.Z)(function*(){if(!o){o=!0;try{return yield r.apply(this,arguments)}finally{o=!1}}}),t}}class Ss{constructor(){}getCurrentSession(){return this.currentSession}setCurrentSession(e){this.currentSession=e}}Ss.\u0275fac=function(e){return new(e||Ss)},Ss.\u0275prov=pt({token:Ss,factory:Ss.\u0275fac,providedIn:"root"});class eo{constructor(e,t){this.alertController=e,this.emulationState=t,this.emergencySaveEvent=new Ho.j}errorMessage(e){var t=this;return(0,ee.Z)(function*(){yield(yield t.alertController.create({header:"Error",backdropDismiss:!1,message:e,buttons:[{text:"Close",role:"cancel"}],cssClass:"alert-error"})).present()})()}message(e,t,r={},o="Close"){var i=this;return(0,ee.Z)(function*(){const s=yield i.alertController.create({header:e,message:t,backdropDismiss:!1,buttons:[...Object.keys(r).map(a=>({text:a,handler:()=>{r[a](),s.dismiss()}})),{text:o,role:"cancel"}]});yield s.present(),yield s.onDidDismiss()})()}updateAvailable(){var e=this;return(0,ee.Z)(function*(){const t=yield e.alertController.create({header:"Update available",message:"An update is available. Please close CloudpilotEmu and reload in order to update.",backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()},{text:"Close",role:"cancel"}]});yield t.present(),yield t.onDidDismiss()})()}fatalError(e,t=!0){var r=this;return(0,ee.Z)(function*(){const o=!!r.emulationState.getCurrentSession(),i=yield r.alertController.create({header:"Error",message:`\n                ${e}\n                <br/><br/>\n                Please close or reload this window.\n                ${o&&t?" You may save an image of your current session before reloading.":""}\n            `,backdropDismiss:!1,buttons:[...o&&t?[{text:"Save image",handler:()=>(r.emergencySaveEvent.dispatch(),!1)}]:[],{text:"Reload",handler:()=>window.location.reload()}],cssClass:"alert-error"});yield i.present(),yield i.onDidDismiss()})()}errorInNativeCode(e){var t=this;return(0,ee.Z)(function*(){const r=yield t.alertController.create({header:"Error",message:`\n                You encountered a bug in CloudpilotEmu:\n                <br/><br/>\n                ${e}.\n                <br/><br/>\n                Please close or reload this window.\n            `,backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()}]});yield r.present(),yield r.onDidDismiss()})()}proxyVersionMismatchError(){return this.errorMessage("\n            Server version does not match CloudpilotEmu. Please make sure that you are using the latest\n            versions of CloudpilotEmu and of the server.\n        ")}cardHasNoValidFileSystem(){return this.message("No filesystem","This card does not contain a valid filesystem.",{},"Continue")}cardHasUncorrectableErrors(){return this.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors.",{},"Continue")}cardIsClean(){return this.message("Card clean","No filesystem errors were found.",{},"Continue")}}eo.\u0275fac=function(e){return new(e||eo)(he(zc),he(Ss))},eo.\u0275prov=pt({token:eo,factory:eo.\u0275fac,providedIn:"root"}),U([mo()],eo.prototype,"updateAvailable",null),U([mo()],eo.prototype,"fatalError",null),U([mo()],eo.prototype,"errorInNativeCode",null);class ea{constructor(e,t){this.alertService=e,this.ngZone=t,this.fatalPageLockLost=()=>this.fatalWithMessage("CloudpilotEmu was opened in another tab or window.",!1),this.fatalIDBDead=()=>this.fatalWithMessage("IndexedDB access failed. This is most likely a browser bug.",!1),this.fatalVersionMismatch=()=>this.fatalWithMessage("\n        Database was written by a newer version of CloudpilotEmu. Please wait for a few seconds before reloading\n        while the latest version downloads in the background.\n    ",!1),this.fatalBug=r=>this.fatalWithMessage(`You encountered a bug in CloudpilotEmu:<br/><br/>${r}.`),this.fatalInNativeCode=r=>this.fatalWithMessage(r.message,!0,!1),this.fatalWithMessage=(r,o=!0,i=!0)=>this.ngZone.run(()=>{this.fatalErrorTriggered||(this.fatalErrorTriggered=!0,o&&_x(),this.fatalErrorEvent.dispatch(),this.alertService.fatalError(r,i))}),this.fatalErrorEvent=new Ho.j,this.fatalErrorTriggered=!1}hasFatalError(){return this.fatalErrorTriggered}}ea.\u0275fac=function(e){return new(e||ea)(he(eo),he(ut))},ea.\u0275prov=pt({token:ea,factory:ea.\u0275fac,providedIn:"root"});var Rr=(()=>{return(n=Rr||(Rr={})).cloudpilot="cloudpilot",n.fstools="fstools",n.vfs="vfs",n.none="none",Rr;var n})();class Ka{constructor(e){this.errorService=e,this.ownershipMmap=new Map}getOwner(e){return this.ownershipMmap.get(e)??Rr.none}claim(e,t){this.assertOwnership(e,Rr.none),this.ownershipMmap.set(e,t)}release(e,t){this.assertOwnership(e,t),this.ownershipMmap.delete(e)}assertOwnership(e,t){if(this.getOwner(e)===t)return;const r=t===Rr.none?`Card alread claimed for ${this.getOwner(e)}.`:`Expected card ownership to be ${t}, but is ${this.getOwner(e)}.`;throw this.errorService.fatalBug(r),new Error(r)}transferOwnership(e,t,r){this.assertOwnership(e,t),this.ownershipMmap.set(e,r)}}Ka.\u0275fac=function(e){return new(e||Ka)(he(ea))},Ka.\u0275prov=pt({token:Ka,factory:Ka.\u0275fac,providedIn:"root"});const ac="session",ud="rom",lc="memory",Nl="state",Qm="kvs",cc="memory-meta",Xa="storage",$s="storage-card",pp="lock";class dd extends Error{constructor(e){super(e)}}function mr(n){return new Promise((e,t)=>{!function Rj(n){return!!n.abort}(n)?n.onsuccess=()=>e(n.result):n.oncomplete=()=>e(void 0),n.onerror=()=>t(new dd(n.error?.message))})}function vx(n){let e=255&n[0];e|=e<<8,e|=e<<16;for(let t=1;t<256;t++)if(n[t]!==e)return n;return 255&n[0]}function Fj(n){const e=n[0];for(let t=1;t<2048;t++)if(n[t]!==e)return n;return e}const Jm="session",bb="memory",Nj="memory-meta",Lj="storage",Cx="storage-meta",wx="storage-card",Bj="storageId";function Cb(){return(Cb=(0,ee.Z)(function*(n,e){function t(i){switch(i){case"PalmIIIc":case"PalmM505":case"PalmM515":return 81920;case"PalmI710":case"PalmM130":return 262144;default:return 0}}if(!e)throw new Error("no version change transaction!");const o=e.objectStore(Jm).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const u=a.value,f={...u,totalMemory:1024*u.ram*1024+t(u.device)};a.update(f),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function wb(){return(wb=(0,ee.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");const t=e.objectStore("kvs"),r=yield new Promise((o,i)=>{const s=t.get("proxyCredentials");s.onsuccess=()=>o(s.result),s.onerror=()=>i(new Error(s.error?.message))});r&&(t.put(r,"credentials"),t.delete("proxyCredentials"))})).apply(this,arguments)}function Sb(){return(Sb=(0,ee.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");const t=n.createObjectStore(Nj,{keyPath:"sessionId"});n.createObjectStore(Lj),n.createObjectStore(Cx,{keyPath:"id",autoIncrement:!0});const o=e.objectStore(Jm).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const u=a.value;void 0!==u.totalMemory&&(t.put({sessionId:u.id,totalSize:u.totalMemory}),delete u.totalMemory,a.update(u)),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function Eb(){return(Eb=(0,ee.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");e.objectStore(Cx).name=wx})).apply(this,arguments)}function Db(){return(Db=(0,ee.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");e.objectStore(wx).createIndex(Bj,"storageId")})).apply(this,arguments)}function Ib(){return(Ib=(0,ee.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");n.createObjectStore("lock")})).apply(this,arguments)}var qj=R(5023),Yj=R.n(qj);const Sx={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let eg;const Kj=new Uint8Array(16);function Xj(){if(!eg&&(eg=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!eg))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return eg(Kj)}const xi=[];for(let n=0;n<256;++n)xi.push((n+256).toString(16).slice(1));const kb=function Qj(n,e,t){if(Sx.randomUUID&&!e&&!n)return Sx.randomUUID();const r=(n=n||{}).random||(n.rng||Xj)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){t=t||0;for(let o=0;o<16;++o)e[t+o]=r[o];return e}return function Ex(n,e=0){return(xi[n[e+0]]+xi[n[e+1]]+xi[n[e+2]]+xi[n[e+3]]+"-"+xi[n[e+4]]+xi[n[e+5]]+"-"+xi[n[e+6]]+xi[n[e+7]]+"-"+xi[n[e+8]]+xi[n[e+9]]+"-"+xi[n[e+10]]+xi[n[e+11]]+xi[n[e+12]]+xi[n[e+13]]+xi[n[e+14]]+xi[n[e+15]]).toLowerCase()}(r)},xb=new Error("page lock lost"),Dx=new Error("version mismatch"),Ix=kb();function Do(){return(n,e,t)=>{const r=t.value;return t.value=(0,ee.Z)(function*(){const o=this.errorService;try{return yield r.apply(this,arguments)}catch(i){throw i instanceof dd?o.fatalIDBDead():i===Dx?o.fatalVersionMismatch():i===xb?o.fatalPageLockLost():o.fatalBug(i?.message),i}}),t}}class nr{constructor(e,t,r){this.ngZone=e,this.errorService=t,this.storageCardContext=r,this.saveMemory=(o,i,s)=>this.ngZone.runOutsideAngular(()=>{const a=o.objectStore(lc),u=o.objectStore(cc),f=new Uint32Array(256),g=new Uint8Array(f.buffer);a.delete(IDBKeyRange.bound([i,0],[i+1,0],!1,!0)),u.put({sessionId:i,totalSize:s.length});const D=s.length>>>10;for(let T=0;T<D;T++){g.set(s.subarray(1024*T,1024*(T+1)));const K=vx(f);if("number"==typeof K)a.put(K,[i,T]);else{const me=new Uint32Array(256);me.set(K),a.put(me,[i,T])}}}),this.loadMemory=(o,i)=>this.ngZone.runOutsideAngular((0,ee.Z)(function*(){const s=o.objectStore(cc),a=yield mr(s.get(i));if(a)return new Promise(function(){var u=(0,ee.Z)(function*(f,g){const v=o.objectStore(lc),D=new Uint32Array(a.totalSize>>>2),T=v.openCursor(IDBKeyRange.bound([i,0],[i+1,0],!1,!0));T.onsuccess=()=>{const K=T.result;if(!K)return f(new Uint8Array(D.buffer));const me=K.value,[,je]=K.key;"number"==typeof me?D.subarray(256*je,256*(je+1)).fill(me|me<<8|me<<16|me<<24):D.subarray(256*je,256*(je+1)).set(1024===me.length?new Uint32Array(me.buffer):me),K.continue()},T.onerror=()=>g(new dd(T.error?.message))});return function(f,g){return u.apply(this,arguments)}}())})),this.sessionChangeEvent=new Ho.j,this.storageCardChangeEvent=new Ho.j,this.sessionUpdateMutex=new Ya,this.db=this.requestPersistentStorage().then(()=>e.runOutsideAngular(()=>this.setupDb()))}getDb(){return this.db}addSession(e,t,r,o){var i=this;return(0,ee.Z)(function*(){const s=Yj()(t),a=yield i.newTransaction(ac,ud,Nl,lc,cc),u=a.objectStore(ac),f=a.objectStore(ud);(yield mr(f.get(s)))||f.put(t,s);const{id:v,...D}=e,T=yield mr(u.add({...D,rom:s})),K=yield mr(u.get(T));return r&&i.saveMemory(a,K.id,r),o&&i.saveState(a,K.id,o),yield mr(a),K})()}getAllSessions(){var e=this;return(0,ee.Z)(function*(){const[t]=yield e.prepareObjectStore(ac);return yield mr(t.getAll())})()}getSession(e){var t=this;return(0,ee.Z)(function*(){const[r]=yield t.prepareObjectStore(ac);return yield mr(r.get(e))})()}deleteSession(e){var t=this;return(0,ee.Z)(function*(){const r=yield t.newTransaction(ac,ud,Nl,lc,cc),o=r.objectStore(ac),i=r.objectStore(ud);(e=yield mr(o.get(e.id)))&&(o.delete(e.id),0===(yield mr(o.index("rom").getAll(e.rom))).length&&i.delete(e.rom),t.deleteMemory(r,e.id),t.deleteState(r,e.id),yield mr(r),t.sessionChangeEvent.dispatch([e.id,void 0]))})()}updateSessionPartial(e,t){var r=this;return this.sessionUpdateMutex.runExclusive((0,ee.Z)(function*(){const{id:o,rom:i,ram:s,device:a,...u}=t,[f,g]=yield r.prepareObjectStore(ac),v=yield mr(f.get(e));if(!v)throw new Error(`no session with id ${e}`);const D={...v,...u};f.put(D),yield mr(g),r.sessionChangeEvent.dispatch([v.id,D])}))}updateSession(e){var t=this;return this.sessionUpdateMutex.runExclusive((0,ee.Z)(function*(){const[r,o]=yield t.prepareObjectStore(ac),i=yield mr(r.get(e.id));if(!i)throw new Error(`no session with id ${e.id}`);if(i.rom!==e.rom)throw new Error("attempt to change ROM reference");if(i.ram!==e.ram)throw new Error("attempt to change RAM size");if(i.device!==e.device)throw new Error("attempt to change device type");r.put(e),yield mr(o),t.sessionChangeEvent.dispatch([e.id,e])}))}loadSession(e){var t=this;return(0,ee.Z)(function*(){const r=yield t.newTransaction(ud,Nl,lc,cc),o=r.objectStore(ud);return[yield mr(o.get(e.rom)),yield t.loadMemory(r,e.id),yield t.loadState(r,e.id)]})()}deleteStateForSession(e){var t=this;return(0,ee.Z)(function*(){const[r,o]=yield t.prepareObjectStore(Nl);r.delete(e.id),yield mr(o)})()}addEmptyStorageCard(e){var t=this;return(0,ee.Z)(function*(){const[r]=yield t.prepareObjectStore($s),o=yield mr(r.add(e)),i=yield mr(r.get(o));return t.storageCardChangeEvent.dispatch(i.id),i})()}importStorageCard(e,t){var r=this;return(0,ee.Z)(function*(){return r.ngZone.runOutsideAngular((0,ee.Z)(function*(){const o=yield r.newTransaction($s,Xa),i=o.objectStore($s),s=o.objectStore(Xa),a=yield mr(i.add(e)),u=(e.size>>>13)+(t.length%8192==0?0:1),f=new Uint32Array(2048);for(let v=0;v<u;v++){const D=t.subarray(2048*v,2048*(v+1));v===u-1&&f.set(D);const T=Fj(v===u-1?f:D);0!==T&&s.put("number"==typeof T?T:T?.slice(),[a,v])}const g=yield mr(i.get(a));return yield mr(o),r.storageCardChangeEvent.dispatch(g.id),g}))})()}getAllStorageCards(){var e=this;return(0,ee.Z)(function*(){const[t]=yield e.prepareObjectStore($s);return mr(t.getAll())})()}getCard(e){var t=this;return(0,ee.Z)(function*(){const[r]=yield t.prepareObjectStore($s);return mr(r.get(e))})()}updateStorageCardPartial(e,t){var r=this;return(0,ee.Z)(function*(){const{storageId:o,size:i,id:s,...a}=t,[u,f]=yield r.prepareObjectStore($s),g=yield mr(u.get(e));if(!g)throw new Error(`no card with id ${e}`);const v={...g,...a};u.put(v),yield mr(f),r.storageCardChangeEvent.dispatch(e)})()}deleteStorageCard(e){var t=this;return(0,ee.Z)(function*(){const r=yield t.newTransaction($s,Xa);t.storageCardContext.assertOwnership(e,Rr.none);const o=r.objectStore($s),i=r.objectStore(Xa);o.delete(e),i.delete(IDBKeyRange.bound([e,0],[e+1,0],!1,!0)),yield mr(r),t.storageCardChangeEvent.dispatch(e)})()}loadCardData(e,t,r){var o=this;return this.ngZone.runOutsideAngular((0,ee.Z)(function*(){const i=yield o.newTransaction($s,Xa);o.storageCardContext.assertOwnership(e,r);const s=i.objectStore(Xa);yield new Promise(function(){var a=(0,ee.Z)(function*(u,f){const g=s.openCursor(IDBKeyRange.bound([e,0],[e+1,0],!1,!0));g.onsuccess=()=>{const v=g.result;if(!v)return u();let D=v.value;const[,T]=v.key;"number"==typeof D?t.subarray(2048*T,2048*(T+1)).fill(D):(2048*(T+1)>t.length&&(D=D.subarray(0,2048-2048*(T+1)+t.length)),t.subarray(2048*T,2048*(T+1)).set(D)),v.continue()},g.onerror=()=>f(new dd(g.error?.message))});return function(u,f){return a.apply(this,arguments)}}())}))}updateCardData(e,t,r,o){var i=this;return this.ngZone.runOutsideAngular((0,ee.Z)(function*(){const s=yield i.newTransaction($s,Xa);i.storageCardContext.assertOwnership(e,o);const a=s.objectStore($s),u=s.objectStore(Xa),f=yield mr(a.get(e));if(!f)throw new Error(`no card with ID ${e}`);if(t.length!==f.size>>>2)throw new Error("data size mismatch");const g=(f.size>>>13)+(f.size%8192>0?1:0);if((g>>>3)+(g%8>0?1:0)!==r.length)throw new Error("dirty pages size mismatch");let v=0;for(let D=0;D<r.length;D++)for(let T=1;T<256&&!(v>=g);T<<=1)r[D]&T&&u.put(t.subarray(2048*v,2048*(v+1)).slice(),[f.id,v]),v++;yield mr(s)}))}kvsGet(e){var t=this;return(0,ee.Z)(function*(){const[r]=yield t.prepareObjectStore(Qm);return mr(r.get(e))})()}kvsSet(e){var t=this;return(0,ee.Z)(function*(){const[r,o]=yield t.prepareObjectStore(Qm);for(const i of Object.keys(e))r.put(e[i],i);yield mr(o)})()}kvsLoad(){var e=this;return(0,ee.Z)(function*(){const[t]=yield e.prepareObjectStore(Qm);return new Promise((r,o)=>{const i={},s=t.openCursor();s.onsuccess=()=>{const a=s.result;if(!a)return r(i);i[a.key]=a.value,a.continue()},s.onerror=()=>o(new dd(s.error?.message))})})()}kvsDelete(e){var t=this;return(0,ee.Z)(function*(){const[r,o]=yield t.prepareObjectStore(Qm);r.delete(e),yield mr(o)})()}acquireLock(e){var t=this;return(0,ee.Z)(function*(){if(t.errorService.hasFatalError())throw new Error("fatal error detected --- refusing DB access");if((yield mr(e.objectStore(pp).get(0)))!==Ix)throw e.abort(),e.db.close(),xb})()}newTransaction(...e){var t=this;return(0,ee.Z)(function*(){const r=(yield t.db).transaction([pp,...e],"readwrite",{durability:"relaxed"});return yield t.acquireLock(r),r})()}prepareObjectStore(e){var t=this;return(0,ee.Z)(function*(){const r=yield t.newTransaction(e);return[r.objectStore(e),r]})()}saveState(e,t,r){const o=e.objectStore(Nl);r?o.put(r,t):o.delete(t)}deleteState(e,t){e.objectStore(Nl).delete(t)}loadState(e,t){return mr(e.objectStore(Nl).get(t))}deleteMemory(e,t){const r=e.objectStore(lc),o=e.objectStore(cc);r.delete(IDBKeyRange.bound([t,0],[t+1,0],!1,!0)),o.delete(t)}initializeLock(e){return(0,ee.Z)(function*(){const t=e.transaction(pp,"readwrite");yield mr(t.objectStore(pp).put(Ix,0))})()}setupDb(){var e=this;return(0,ee.Z)(function*(){const t=setTimeout(()=>ya&&window.location.reload(),500);try{if(indexedDB.databases){const o=(yield indexedDB.databases()).find(i=>"cloudpilot-preview"===i.name);if(clearTimeout(t),o&&void 0!==o.version&&o.version>9)throw Dx}const r=yield new Promise((o,i)=>{const s=indexedDB.open("cloudpilot-preview",9);s.onerror=()=>{i(new dd("failed to open DB"))},s.onsuccess=()=>{o(s.result)},s.onupgradeneeded=function(){var a=(0,ee.Z)(function*(u){clearTimeout(t),u.oldVersion<1&&function Vj(n){n.createObjectStore(Jm,{keyPath:"id",autoIncrement:!0}).createIndex("rom","rom"),n.createObjectStore("state")}(s.result),u.oldVersion<2&&function Uj(n,e){if(!e)throw new Error("no version change transaction!");n.objectStoreNames.contains("rom")&&n.deleteObjectStore("rom"),n.objectStoreNames.contains(bb)&&n.deleteObjectStore(bb),e.objectStore(Jm).clear(),n.createObjectStore("rom"),n.createObjectStore(bb),n.createObjectStore("kvs")}(s.result,s.transaction),u.oldVersion<4&&(yield function jj(n,e){return Cb.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<5&&(yield function Gj(n,e){return wb.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<6&&(yield function Hj(n,e){return Sb.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<7&&(yield function zj(n,e){return Eb.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<8&&(yield function Wj(n,e){return Db.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<9&&(yield function Zj(n,e){return Ib.apply(this,arguments)}(s.result,s.transaction))});return function(u){return a.apply(this,arguments)}}()});return yield e.initializeLock(r),r}finally{clearTimeout(t)}})()}requestPersistentStorage(){return(0,ee.Z)(function*(){(!navigator.storage?.persist||!navigator.storage?.persisted)&&console.log("storage manager not supported; unable to request persistent storage");try{(yield navigator.storage.persisted())||(yield navigator.storage.persist())?console.log("persistent storage enabled"):console.log("request for persistent storage denied by browser")}catch(e){console.warn(e),console.log("failed to request persistent storage")}})()}}nr.\u0275fac=function(e){return new(e||nr)(he(ut),he(ea),he(Ka))},nr.\u0275prov=pt({token:nr,factory:nr.\u0275fac,providedIn:"root"}),U([Do()],nr.prototype,"addSession",null),U([Do()],nr.prototype,"getAllSessions",null),U([Do()],nr.prototype,"getSession",null),U([Do()],nr.prototype,"deleteSession",null),U([Do()],nr.prototype,"updateSessionPartial",null),U([Do()],nr.prototype,"updateSession",null),U([Do()],nr.prototype,"loadSession",null),U([Do()],nr.prototype,"deleteStateForSession",null),U([Do()],nr.prototype,"addEmptyStorageCard",null),U([Do()],nr.prototype,"importStorageCard",null),U([Do()],nr.prototype,"getAllStorageCards",null),U([Do()],nr.prototype,"getCard",null),U([Do()],nr.prototype,"updateStorageCardPartial",null),U([Do()],nr.prototype,"deleteStorageCard",null),U([Do()],nr.prototype,"loadCardData",null),U([Do()],nr.prototype,"kvsGet",null),U([Do()],nr.prototype,"kvsSet",null),U([Do()],nr.prototype,"kvsDelete",null),U([Do()],nr.prototype,"newTransaction",null),U([Do()],nr.prototype,"prepareObjectStore",null),U([Do()],nr.prototype,"initializeLock",null),U([Do()],nr.prototype,"setupDb",null);const kx={volume:.5,showStatistics:!1,clipboardIntegration:!1,networkRedirection:!1,proxyServer:"",credentials:{},runHidden:!1,autoLockUI:!1,enableRemoteInstall:!1,enableAudioOnFirstInteraction:!1};class ii{constructor(e){var t=this;this.storageService=e,this.set=r=>this.storageMutex.runExclusive((0,ee.Z)(function*(){yield t.storageService.kvsSet(r);for(const o of Object.keys(r))t.rawKvs[o]=r[o];t.updateEvent.dispatch()})),this.updateEvent=new Ho.j,this.mutex=new Ya,this.storageMutex=new Ya,this.initializationPromise=this.startInitialiation()}initialize(){var e=this;return(0,ee.Z)(function*(){return e.initializationPromise})()}get kvs(){return this.kvsProxy}startInitialiation(){var e=this;return(0,ee.Z)(function*(){const t=e;try{const r={...kx,...yield e.storageService.kvsLoad()};e.rawKvs=r,e.kvsProxy=new Proxy(r,{set:(o,i,s)=>(o[i]=s,t.storageMutex.runExclusive(()=>t.storageService.kvsSet({[i]:s})),t.updateEvent.dispatch(),!0),deleteProperty:(o,i)=>(delete o[i],t.storageMutex.runExclusive(()=>t.storageService.kvsDelete(i)),t.updateEvent.dispatch(),!0)})}catch(r){console.error("failed to load KVS"),console.error(r),e.kvsProxy={...kx}}})()}}ii.\u0275fac=function(e){return new(e||ii)(he(nr))},ii.\u0275prov=pt({token:ii,factory:ii.\u0275fac,providedIn:"root"});class Zc{constructor(e,t){var r=this;this.kvsService=e,this.alertService=t,this.serviceWorkerKeepalive=(0,ee.Z)(function*(){if(navigator.serviceWorker)try{const o=yield navigator.serviceWorker.getRegistration();o?.active?.postMessage&&o.active.postMessage({})}catch{}setTimeout(r.serviceWorkerKeepalive,9e5)}),this.installationMode=this.determineInstallationMode(),this.serviceWorkerKeepalive()}promptForInstall(){return(ya||mx)&&this.installationMode===ic.web}getInstallationMode(){return this.installationMode}install(){this.alertService.message("Install app",this.getInstallMessage())}invite(){this.promptForInstall()&&(this.kvsService.kvs.didShowInvitation||(this.kvsService.kvs.didShowInvitation=!0,window.hasOwnProperty("onbeforeinstallprompt")||this.alertService.message("App available",this.getInviteMessage())))}getInstallMessage(){return ya&&hx?'\n    Tap the "Share" icon on the bottom of the screen (the little box with the arrow)\n    and select "Add to Home Screen" in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':ya?'\n    Open CloudpilotEmu in Safari, tap the "Share" icon on the bottom of the screen\n    (the little box with the arrow) and select "Add to Home Screen" in order to install\n    CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Open your browser\'s menu and tap "Add to Home screen" or "Install App"\n    in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}getInviteMessage(){return ya&&hx?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by tapping the "Share" icon\n    at the bottom of the screen (the little box with the arrow) and selecting\n    "Add to Home Screen".\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':ya?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by opening it in Safari,\n    tapping the "Share" icon at the bottom of the screen (the little box with the arrow)\n    and selecting "Add to Home Screen"\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Howdy! It seems that you are using CloudpilotEmu on an Android device. You can\n    install CloudpilotEmu as an app by opening your browser\'s menu\n    and tapping "Add to Home screen".\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}determineInstallationMode(){return window.navigator.standalone?ic.pwa:document.referrer.startsWith("android-app://")?ic.twa:window.matchMedia("(display-mode: standalone)").matches?ic.pwa:ic.web}}function sG(n,e){1&n&&(ne(0,"div",6),lt(1,"ion-spinner"),X())}Zc.\u0275fac=function(e){return new(e||Zc)(he(ii),he(eo))},Zc.\u0275prov=pt({token:Zc,factory:Zc.\u0275fac,providedIn:"root"});class va{constructor(e){this.modalController=e,this.title="Help",this.loading=!0}}va.\u0275fac=function(e){return new(e||va)(S(ws))},va.\u0275cmp=Le({type:va,selectors:[["app-help"]],inputs:{url:"url",title:"title"},decls:10,vars:3,consts:[["translucent",""],["slot","primary"],[3,"click"],["fullscreen",""],["class","loader",4,"ngIf"],[3,"src","load"],[1,"loader"]],template:function(e,t){1&e&&(ne(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ze(3),X(),ne(4,"ion-buttons",1)(5,"ion-button",2),st("click",function(){return t.modalController.dismiss()}),Ze(6,"Close"),X()()()(),ne(7,"ion-content",3),Qt(8,sG,2,0,"div",4),ne(9,"markdown",5),st("load",function(){return t.loading=!1}),X()()),2&e&&(Xe(3),Rs(t.title),Xe(5),nt("ngIf",t.loading),Xe(1),nt("src",t.url))},dependencies:[fi,_b,es,ts,ns,rs,ip,is,ss],styles:["markdown[_ngcontent-%COMP%]{display:block;padding-left:1em;padding-right:1em}.loader[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}"]});const qc="1.8.0-18188d1 (preview)";var tg=R(9897);const ng=((n,e)=>{let t=null;return()=>{if(null!==t)return t;const r=new Blob(['(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error(\'The given type "\'.concat(i,\'" is not supported\'));(e=>{const r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error(\'The given method "\'.concat(s.method,\'" is not supported\'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error(\'The given type "\'.concat(d,\'" is not supported\'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();'],{type:"application/javascript; charset=utf-8"}),o=URL.createObjectURL(r);return t=(n=>{const e=new Map([[0,()=>{}]]),t=new Map([[0,()=>{}]]),r=new Map,o=new Worker(n);return o.addEventListener("message",({data:f})=>{if((n=>void 0!==n.method&&"call"===n.method)(f)){const{params:{timerId:g,timerType:v}}=f;if("interval"===v){const D=e.get(g);if("number"==typeof D){const T=r.get(D);if(void 0===T||T.timerId!==g||T.timerType!==v)throw new Error("The timer is in an undefined state.")}else{if(!(typeof D<"u"))throw new Error("The timer is in an undefined state.");D()}}else if("timeout"===v){const D=t.get(g);if("number"==typeof D){const T=r.get(D);if(void 0===T||T.timerId!==g||T.timerType!==v)throw new Error("The timer is in an undefined state.")}else{if(!(typeof D<"u"))throw new Error("The timer is in an undefined state.");D(),t.delete(g)}}}else{if(!(n=>null===n.error&&"number"==typeof n.id)(f)){const{error:{message:g}}=f;throw new Error(g)}{const{id:g}=f,v=r.get(g);if(void 0===v)throw new Error("The timer is in an undefined state.");const{timerId:D,timerType:T}=v;r.delete(g),"interval"===T?e.delete(D):t.delete(D)}}}),{clearInterval:f=>{const g=(0,tg.generateUniqueNumber)(r);r.set(g,{timerId:f,timerType:"interval"}),e.set(f,g),o.postMessage({id:g,method:"clear",params:{timerId:f,timerType:"interval"}})},clearTimeout:f=>{const g=(0,tg.generateUniqueNumber)(r);r.set(g,{timerId:f,timerType:"timeout"}),t.set(f,g),o.postMessage({id:g,method:"clear",params:{timerId:f,timerType:"timeout"}})},setInterval:(f,g)=>{const v=(0,tg.generateUniqueNumber)(e);return e.set(v,()=>{f(),"function"==typeof e.get(v)&&o.postMessage({id:null,method:"set",params:{delay:g,now:performance.now(),timerId:v,timerType:"interval"}})}),o.postMessage({id:null,method:"set",params:{delay:g,now:performance.now(),timerId:v,timerType:"interval"}}),v},setTimeout:(f,g)=>{const v=(0,tg.generateUniqueNumber)(t);return t.set(v,f),o.postMessage({id:null,method:"set",params:{delay:g,now:performance.now(),timerId:v,timerType:"timeout"}}),v}}})(o),setTimeout(()=>URL.revokeObjectURL(o)),t}})();var uc=(()=>{return(n=uc||(uc={}))[n.animationFrame=0]="animationFrame",n[n.timeout=1]="timeout",uc;var n})();class Mx{constructor(e){this.callback=e}schedule(){void 0===this.handle&&(this.handle=requestAnimationFrame(e=>{this.handle=void 0,this.callback(e)}))}cancel(){void 0!==this.handle&&(cancelAnimationFrame(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return uc.animationFrame}}class fG{constructor(e,t=60){this.callback=e,this.fps=t}schedule(){if(void 0!==this.handle)return;const e=performance.now(),t=1e3*Math.ceil(e/1e3*this.fps)/this.fps;this.handle=((n,e)=>ng().setTimeout(n,e))(()=>{this.handle=void 0,this.callback(performance.now())},Math.max(t-e,0))}cancel(){var n;void 0!==this.handle&&(n=this.handle,ng().clearTimeout(n),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return uc.timeout}}const pG=[135,135,105],hG=[0,0,0],dc=new Array(16).fill(0).map((n,e)=>hG.map((t,r)=>Math.floor((e*t+(15-e)*pG[r])/15))).map(([n,e,t])=>4278190080|t<<16|e<<8|n),Mb=dc.map(n=>"#"+(16777215&n).toString(16).padStart(6,"0").match(/(..?)/g)?.reverse().join(""));var re=(()=>{return(n=re||(re={})).palmPilot="PalmPilot",n.pilot="Pilot",n.iii="PalmIII",n.palmVx="PalmVx",n.palmV="PalmV",n.palmVII="PalmVII",n.palmVIIEZ="PalmVIIEZ",n.palmVIIx="PalmVIIx",n.iiic="PalmIIIc",n.iiix="PalmIIIx",n.iiixe="PalmIIIxe",n.iiie="PalmIIIe",n.m500="PalmM500",n.m505="PalmM505",n.m515="PalmM515",n.m520="PalmM520",n.m100="PalmM100",n.m105="PalmM105",n.m125="PalmM125",n.m130="PalmM130",n.i705="Palmi705",n.i710="PalmI710",n.handera330="HandEra330",n.handera330c="HandEra330c",n.pegS300="PEG-S300",n.pegS320="PEG-S320",n.pegS500c="PEG-S500C",n.pegT400="PEG-T400",n.pegN600c="PEG-N600C/N610C",n.pegT600c="PEG-T600",n.pegN700c="PEG-N700C/N710C",n.pegT650c="YSX1230",n.pegNR70="NR70",n.acerS11="Acer-S11",re;var n})(),fc=(()=>{return(n=fc||(fc={})).sdcard="sdcard",n.memorystick="memorystick",n.none="none",fc;var n})();function hp(n){switch(n){case re.i710:case re.m520:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case re.handera330:case re.handera330c:return{screenSize:2,width:240,height:320,silkscreenHeight:0};case re.pegS300:case re.pegS320:case re.pegS500c:return{screenSize:0,width:160,height:160,silkscreenHeight:76};case re.pegT600c:case re.pegT400:case re.pegT650c:return{screenSize:1,width:320,height:320,silkscreenHeight:140,silkscreenOvershoot:10};case re.pegN600c:case re.pegN700c:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case re.pegNR70:return{screenSize:3,width:320,height:480,silkscreenHeight:0};case re.acerS11:return{screenSize:0,width:160,height:160,silkscreenHeight:60,siklscreenShift:8};default:return{screenSize:0,width:160,height:160,silkscreenHeight:60}}}function Tb(n){switch(n){case re.pilot:case re.palmPilot:case re.iii:case re.palmV:case re.palmVx:case re.iiix:case re.iiixe:case re.iiie:case re.m100:case re.m105:case re.m125:case re.m500:case re.palmVII:case re.palmVIIEZ:case re.palmVIIx:case re.i705:case re.handera330:case re.pegS300:case re.pegS320:case re.pegT400:case re.acerS11:return!1;default:return!0}}function Tx(n){switch(n){case re.pilot:return"Pilot";case re.palmPilot:return"Palm Pilot";case re.iii:return"Palm III";case re.m500:return"Palm m500";case re.m505:return"Palm m505";case re.m515:return"Palm m515";case re.m520:return"Palm m520";case re.palmVx:return"Palm Vx";case re.iiix:return"Palm IIIx";case re.iiixe:return"Palm IIIxe";case re.iiie:return"Palm IIIe";case re.palmV:return"Palm V";case re.palmVII:return"Palm VII";case re.palmVIIEZ:return"Palm VII EZ";case re.palmVIIx:return"Palm VIIx";case re.iiic:return"Palm IIIc";case re.m100:return"Palm m100";case re.m105:return"Palm m105";case re.m125:return"Palm m125";case re.m130:return"Palm m130";case re.i705:return"Palm i705";case re.i710:return"Tungsten W";case re.handera330:return"Handera 330";case re.handera330c:return"Handera 330c";case re.pegS300:return"Sony PEG-S300";case re.pegS320:return"Sony PEG-S320";case re.pegT400:return"Sony PEG-T400 series";case re.pegN600c:return"Sony PEG-N600C series";case re.pegT600c:return"Sony PEG-T600C series";case re.pegN700c:return"Sony PEG-N700C series";case re.pegT650c:return"Sony PEG-T650C series";case re.pegNR70:return"Sony PEG-NR70 series";case re.pegS500c:return"Sony PEG-S500C series";case re.acerS11:return"Acer S1x series";default:throw new Error("bad device ID")}}function Ax(n){switch(n){case re.m500:case re.m505:case re.m515:case re.m520:case re.m125:case re.m130:case re.i705:case re.i710:case re.handera330:case re.handera330c:return fc.sdcard;case re.pegS300:case re.pegS500c:case re.pegS320:case re.pegT400:case re.pegN600c:case re.pegT600c:case re.pegN700c:case re.pegT650c:case re.pegNR70:case re.acerS11:return fc.memorystick;default:return fc.none}}class Px{constructor(e,t){this.queue=new Array(e).fill(0),this.reset(t)}reset(e=0){this.next=1,this.size=1,this.queue[0]=e}push(e){return this.queue[this.next]=e,this.next=(this.next+1)%this.queue.length,this.size<this.queue.length&&this.size++,this}calculateAverage(){let e=0;for(let t=0;t<this.size;t++)e+=this.queue[t];return e/this.size}}class _G{constructor(e){this.start=0,this.size=0,this.buffer=new Array(e)}push(e){return this.size<this.buffer.length?this.buffer[(this.start+this.size++)%this.buffer.length]=e:(this.start=(this.start+1)%this.buffer.length,this.buffer[(this.start+this.size-1)%this.buffer.length]=e),this}pop(){if(0===this.size)return;const e=this.buffer[this.start];return this.start=(this.start+1)%this.buffer.length,this.size--,e}peekLast(){if(0!==this.size)return this.buffer[(this.start+this.size-1)%this.buffer.length]}replaceLast(e){return this.size>0&&(this.buffer[(this.start+this.size-1)%this.buffer.length]=e),this}count(){return this.size}flush(){return this.start=0,this.size=0,this}}class EG{constructor(){this.onPwmUpdate=e=>{this.pendingPwmUpdates.count()>0&&this.pendingPwmUpdates.peekLast().frequency<0?this.pendingPwmUpdates.replaceLast(e):this.pendingPwmUpdates.push(e)},this.advanceEmulation=e=>{if(this.isDirty=!1,!this.cloudpilotInstance||this.hasFatalError()||e<this.clockEmulator)return;const t=this.cloudpilotInstance.isSuspended();let r=!1;this.cloudpilotInstance.setClockFactor(this.emulationSpeed*this.getConfiguredSpeed()),e-this.clockEmulator>1e3/30&&(this.clockEmulator=e-1e3/30);const o=(e-this.clockEmulator)/1e3*this.cloudpilotInstance.cyclesPerSecond(),i=performance.now();let s=0;for(;s<o;)if(s+=this.cloudpilotInstance.runEmulation(Math.ceil(o-s)),this.cloudpilotInstance.isSuspended()){r=!0;break}const a=s/this.cloudpilotInstance.cyclesPerSecond()*1e3,u=performance.now()-i;if(this.clockEmulator+=Math.max(a,u),this.speedAverage.push(a/(u>0?u:a/1e3)*this.emulationSpeed),this.updateEmulationSpeed(this.speedAverage.calculateAverage()),r&&!t)return void this.handleSuspend();const f=this.cloudpilotInstance.isPowerOff(),g=this.cloudpilotInstance.isUiInitialized();if(f!==this.powerOff||g!==this.uiInitialized){const v=this.powerOff;this.powerOff=f,this.uiInitialized=g,v!==this.powerOff&&this.powerOffChangeEvent.dispatch(this.powerOff),this.isDirty=!0}g&&!f&&this.manageHotsyncName()&&this.checkAndUpdateHotsyncName(),this.onAfterAdvanceEmulation(e,s)},this.newFrameEvent=new Ho.j,this.pwmUpdateEvent=new Ho.j,this.emulationStateChangeEvent=new Ho.j,this.powerOffChangeEvent=new Ho.j,this.deviceId=re.m515,this.clockEmulator=0,this.scheduler=new Mx(e=>this.onSchedule(e)),this.canvas=document.createElement("canvas"),this.canvasTmp=document.createElement("canvas"),this.lastPenUpdate=0,this.penDown=!1,this.running=!1,this.powerOff=!1,this.uiInitialized=!1,this.pendingPwmUpdates=new _G(10),this.lastPwmUpdateEvent=0,this.emulationSpeed=1,this.speedAverage=new Px(20),this.timePerFrameAverage=new Px(60),this.timestampLastFrame=0,this.frameCounter=0,this.isDirty=!1}handlePointerMove(e,t,r){if(!this.handleInput())return;const o=performance.now();if(this.penDown=!0,!(o-this.lastPenUpdate<25)&&this.cloudpilotInstance){if(r){const i=hp(this.deviceId);e=this.transformSilkscreenX(e,i),t=this.transformSilkscreenY(t,i)}this.cloudpilotInstance.queuePenMove(Math.floor(e),Math.floor(t)),this.lastPenUpdate=o}}handlePointerUp(){this.handleInput()&&(this.cloudpilotInstance&&this.penDown&&this.cloudpilotInstance.queuePenUp(),this.lastPenUpdate=0,this.penDown=!1)}handleButtonDown(e){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonDown(e)}handleButtonUp(e){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonUp(e)}handleKeyDown(e,t=!1){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueKeyboardEvent(e,t)}reset(){this.cloudpilotInstance&&this.cloudpilotInstance.reset()}resetNoExtensions(){this.cloudpilotInstance&&this.cloudpilotInstance.resetNoExtensions()}resetHard(){this.cloudpilotInstance&&this.cloudpilotInstance.resetHard()}isRunning(){return this.running}isPowerOff(){return this.powerOff}isUiInitialized(){return this.uiInitialized}getCanvas(){return this.canvas}getStatistics(){return{hostSpeed:this.speedAverage.calculateAverage(),emulationSpeed:this.emulationSpeed,averageFps:this.calculateFPS()}}getEmulationSpeed(){return this.emulationSpeed}isSuspended(){return!!this.cloudpilotInstance&&this.cloudpilotInstance.isSuspended()}onAfterAdvanceEmulation(e,t){}handleSuspend(){}callScheduler(){this.scheduler.schedule()}handleInput(){return!0}openSession(e,t,r,o,i){let s=!1;return!!e.initializeSession(t,r)&&(o&&(o.length%4!=0?console.warn("memory size is not a multiple of 4; ignoring image"):(s=e.loadMemory(new Uint32Array(o.buffer,o.byteOffset,o.length>>>2)),s||console.warn("failed to load memory"))),s&&i&&e.loadState(i),e.remountCards(),this.cloudpilotInstance&&this.cloudpilotInstance.pwmUpdateEvent.removeHandler(this.onPwmUpdate),e.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.cloudpilotInstance=e,this.deviceId=r,this.resetCanvas(),this.pendingPwmUpdates.flush(),this.lastPwmUpdateEvent=0,this.deviceHotsyncName=void 0,this.emulationSpeed=1,this.frameCounter=0,this.speedAverage.reset(1),this.powerOff=e.isPowerOff(),this.uiInitialized=e.isUiInitialized(),this.frameCounter=0,!0)}resetCanvas(){const e=hp(this.deviceId);this.canvas.width=this.canvasTmp.width=e.width,this.canvas.height=this.canvasTmp.height=e.height;const t=this.canvas.getContext("2d");if(!t)throw new Error("get a new browser");this.context=t;const r=this.canvasTmp.getContext("2d");if(!r)throw new Error("get a new browser");this.contextTmp=r,this.clearCanvas(),this.imageData=void 0}doResume(){this.cloudpilotInstance&&(this.clockEmulator=performance.now(),this.schedule(),this.setRunning(!0),this.resetFPS())}doPause(){this.stopLoop()}doStop(){this.stopLoop()}stopLoop(){this.running&&(this.scheduler.cancel(),void 0!==this.advanceEmulationHandle&&(window.clearTimeout(this.advanceEmulationHandle),this.advanceEmulationHandle=void 0),this.setRunning(!1))}resetFPS(){this.timePerFrameAverage.reset(),this.timestampLastFrame=performance.now()}calculateFPS(){const e=this.timePerFrameAverage.calculateAverage();return e&&1e3/e}transformSilkscreenX(e,t){return void 0===t.silkscreenOvershoot?e:(e-t.width/2)/(t.width/(t.width+2*t.silkscreenOvershoot))+t.width/2}transformSilkscreenY(e,t){return void 0===t.siklscreenShift?e:e+t.siklscreenShift}setRunning(e){e!==this.running&&(this.running=e,this.emulationStateChangeEvent.dispatch(e))}updateEmulationSpeed(e){if(e>=1&&this.emulationSpeed>=1)return;const t=Math.min(Math.max(Math.floor(10*e)/10,.1),1);this.emulationSpeed=t<=this.emulationSpeed||e-t>=.05?t:this.emulationSpeed}performScreenUpdate(){this.cloudpilotInstance?.isScreenDirty()&&(this.updateScreen(),this.cloudpilotInstance.markScreenClean(),this.frameCounter++)}onSchedule(e){this.hasFatalError()||(this.skipEmulationUpdate()||(this.performScreenUpdate(),this.pendingPwmUpdates.count()>0&&e-this.lastPwmUpdateEvent>10&&(this.pwmUpdateEvent.dispatch(this.pendingPwmUpdates.pop()),this.lastPwmUpdateEvent=e),void 0===this.advanceEmulationHandle&&(this.advanceEmulationHandle=window.setTimeout(()=>{this.advanceEmulationHandle=void 0,this.advanceEmulation(e)},0)),this.timePerFrameAverage.push(Math.max(0,e-this.timestampLastFrame)),this.timestampLastFrame=e),this.schedule())}schedule(){this.scheduler.cancel(),this.getConfiguredSchdedulerKind()!==this.scheduler.getKind()&&(this.scheduler=this.getConfiguredSchdedulerKind()===uc.animationFrame?new Mx(e=>this.onSchedule(e)):new fG(e=>this.onSchedule(e))),this.callScheduler()}checkAndUpdateHotsyncName(){if(!this.cloudpilotInstance)return;void 0===this.deviceHotsyncName&&(this.deviceHotsyncName=this.cloudpilotInstance.getHotsyncName());const e=this.getConfiguredHotsyncName();void 0===e?this.updateConfiguredHotsyncName(this.deviceHotsyncName):e!==this.deviceHotsyncName&&e.length<=40&&this.cloudpilotInstance.isSetupComplete()&&(this.cloudpilotInstance.setHotsyncName(e),this.deviceHotsyncName=e)}clearCanvas(){const e=this.deviceId,t=hp(e);this.context.beginPath(),this.context.rect(0,0,t.width,t.height),this.context.fillStyle=Tb(e)?"white":Mb[0],this.context.fill()}updateScreen(){if(!this.cloudpilotInstance)return;const e=this.cloudpilotInstance.getFrame();if(this.cloudpilotInstance.isPowerOff())return this.clearCanvas(),void this.newFrameEvent.dispatch(this.canvas);if(!e.hasChanges)return;if(e.lines*e.scaleY===this.canvas.height&&e.lineWidth*e.scaleX===this.canvas.width){(!this.imageData||this.imageData.width!==e.lineWidth||this.imageData.height!==e.lines)&&(this.imageData=new ImageData(e.lineWidth,e.lines));const r=new Uint32Array(this.imageData.data.buffer);switch(e.bpp){case 1:{const o=dc[15],i=dc[0];let s=0;for(let a=e.firstDirtyLine;a<=e.lastDirtyLine;a++){const u=a*e.bytesPerLine;for(let f=e.margin;f<e.lineWidth+e.margin;f++)r[s++]=e.buffer[u+(f>>>3)]&128>>>(7&f)?o:i}break}case 2:{const o=this.cloudpilotInstance.getPalette2bitMapping(),i=[dc[15&o],dc[o>>>4&15],dc[o>>>8&15],dc[o>>>12&15]];let s=0;for(let a=e.firstDirtyLine;a<=e.lastDirtyLine;a++){const u=a*e.bytesPerLine;for(let f=e.margin;f<e.lineWidth+e.margin;f++)r[s++]=i[e.buffer[u+(f>>>2)]>>6-2*(3&f)&3]}break}case 4:{let o=0;for(let i=e.firstDirtyLine;i<=e.lastDirtyLine;i++){const s=i*e.bytesPerLine;for(let a=e.margin;a<e.lineWidth+e.margin;a++)r[o++]=dc[e.buffer[s+(a>>>1)]>>>4-4*(1&a)&15]}break}case 24:{const o=new Uint32Array(e.buffer.buffer,e.buffer.byteOffset,e.buffer.byteLength>>>2);if(0===e.margin)r.subarray(0,e.lineWidth*(e.lastDirtyLine-e.firstDirtyLine+1)).set(o.subarray(e.firstDirtyLine*e.lineWidth,e.lineWidth*(e.lastDirtyLine+1)));else{let i=0;for(let s=e.firstDirtyLine;s<=e.lastDirtyLine;s++){let a=s*(e.bytesPerLine>>>2)+e.margin;for(let u=0;u<e.lineWidth;u++)r[i++]=o[a++]}}}}}if(!this.imageData)return;const t=1!==e.scaleX||1!==e.scaleY;(t?this.contextTmp:this.context).putImageData(this.imageData,0,e.firstDirtyLine,0,0,e.lineWidth,e.lastDirtyLine-e.firstDirtyLine+1),t&&(this.context.imageSmoothingEnabled=!1,this.context.drawImage(this.canvasTmp,0,e.firstDirtyLine,e.lineWidth,e.lastDirtyLine-e.firstDirtyLine+1,0,e.firstDirtyLine*e.scaleY,e.lineWidth*e.scaleX,(e.lastDirtyLine-e.firstDirtyLine+1)*e.scaleY)),this.newFrameEvent.dispatch(this.canvas)}}class DG{constructor(e,t){this.timeoutRemaining=e,this.cb=t,this.onTimeout=()=>{const r=performance.now();if(this.timeoutRemaining-=r-this.timeoutTimestamp,this.timeoutRemaining>0)return this.timeoutTimestamp=performance.now(),void(this.handle=window.setTimeout(this.onTimeout,this.timeoutTimestamp));this.cb()},this.timeoutTimestamp=performance.now(),this.handle=window.setTimeout(this.onTimeout,e)}increase(e){this.timeoutRemaining+=e}cancel(){clearTimeout(this.handle)}}const xG=new Error("transaction timeout"),Ox=new Error("session does not match emulation");class Qa{constructor(e,t,r,o,i){var s=this;this.storageService=e,this.emulationState=t,this.errorService=r,this.storageCardContext=o,this.ngZone=i,this.triggerSnapshot=()=>this.ngZone.runOutsideAngular(()=>this.sessionId<0||this.cloudpilot.isSuspended()?Promise.resolve():this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():(this.snapshotInProgress=!0,this.pendingSnapshotPromise=(0,ee.Z)(function*(){try{yield s.triggerSnapshotUnguarded()}finally{s.snapshotInProgress=!1}})(),this.pendingSnapshotPromise)),this.snapshotEvent=new Ho.j,this.sessionId=-1,this.consecutiveErrorCount=0,this.snapshotInProgress=!1,this.pendingSnapshotPromise=Promise.resolve(void 0),this.cardPagePool=[]}initialize(e,t){var r=this;return(0,ee.Z)(function*(){r.errorService.hasFatalError()||(r.sessionId=e.id,r.dirtyPages=void 0,r.pages=void 0,r.state=void 0,r.db=yield r.storageService.getDb(),r.cloudpilot=t,r.resetCard())})()}resetCard(){this.cardPagePool=[],this.cardDirtyPages=void 0}waitForPendingSnapshot(){return this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():Promise.resolve()}triggerSnapshotUnguarded(){var e=this;return(0,ee.Z)(function*(){for(;;)try{return yield e.triggerSnapshotOnce(),void(e.consecutiveErrorCount=0)}catch(t){if(console.error("snapshot error",t),t===Ox)throw e.errorService.fatalBug("attempting to snapshot a session that is not currently running"),t;if(t===xb)throw e.errorService.fatalPageLockLost(),t;if(++e.consecutiveErrorCount>3)throw e.errorService.fatalIDBDead(),t}})()}triggerSnapshotOnce(){var e=this;return(0,ee.Z)(function*(){const t=e.db.transaction([lc,cc,Nl,Xa,$s,pp],"readwrite",{durability:"relaxed"});if(yield e.storageService.acquireLock(t),e.cloudpilot.isSuspended())return;if(e.emulationState.getCurrentSession()?.id!==e.sessionId)throw Ox;let r;const o=e.cloudpilot.getMountedKey();o&&(r=yield mr(t.objectStore($s).index("storageId").get(o)));const i=yield new Promise((s,a)=>{let u=!1;const f=performance.now();let g=0,v=0,D=0,T=new DG(500,()=>{u=!0;try{t.abort()}catch{}a(xG)});t.oncomplete=(0,ee.Z)(function*(){T.cancel(),e.dirtyPages?.fill(0),e.cardDirtyPages?.fill(0),s({timestamp:Date.now(),pages:D,timeBlocking:v-g,timeTotal:performance.now()-f})}),t.onerror=()=>{T.cancel(),a(new Error(t.error?.message))};try{g=performance.now(),D=e.saveDirtyMemory(t,T),r&&(D+=e.saveDirtyStorage(r,t,T)),e.saveSession(t),v=performance.now()}catch(K){throw u||(T.cancel(),t.abort()),K}});e.snapshotEvent.dispatch(i)})()}saveDirtyMemory(e,t){let r=0;const o=e.objectStore(lc),i=e.objectStore(cc),s=this.cloudpilot.getDirtyPages(),a=this.cloudpilot.getMemory32();let u=0;if(!this.dirtyPages||!this.pages){const g=a.length>>>8;this.dirtyPages=new Uint8Array(s.length),this.pages=new Array(g);for(let v=0;v<g;v++)this.pages[v]=new Uint32Array(256)}i.put({sessionId:this.sessionId,totalSize:a.length<<2});for(let g=0;g<s.length;g++)if(this.dirtyPages[g]|=s[g],s[g]=0,0!==this.dirtyPages[g])for(let v=1;v<256&&!(r>=this.pages.length);v<<=1){if(this.dirtyPages[g]&v){const D=vx(a.subarray(256*r,256*(r+1)));"number"==typeof D?o.put(D,[this.sessionId,r]):(this.pages[r].set(D),o.put(this.pages[r],[this.sessionId,r])),t.increase(.5),u++}r++}else r+=8;return u}saveDirtyStorage(e,t,r){const o=this.cloudpilot.getCardDirtyPages(e.storageId),i=this.cloudpilot.getCardData(e.storageId);if(!i)return console.log(`seems ${e.name} was unmounted`),0;if(this.storageCardContext.assertOwnership(e.id,Rr.cloudpilot),!o)throw new Error(`failed to retrieve dirty pages for card ${e.name}`);if(i.length!==e.size>>>2)throw new Error("card size mismatch");if(this.cardDirtyPages||(this.cardDirtyPages=new Uint8Array(o.length)),this.cardDirtyPages.length!==o.length)throw new Error("card size has changed without notification");let s=0,a=0,u=0;const f=t.objectStore(Xa),g=(i.length>>11)+(i.length%2048>0?1:0);for(let v=0;v<o.length;v++)if(this.cardDirtyPages[v]|=o[v],o[v]=0,0!==this.cardDirtyPages[v])for(let D=1;D<256&&!(s>=g);D<<=1){if(this.cardDirtyPages[v]&D){a>=this.cardPagePool.length&&this.cardPagePool.push(new Uint32Array(2048));const T=this.cardPagePool[a++];T.set(i.subarray(2048*s,2048*(s+1))),f.put(T,[e.id,s]),r.increase(4),u++}s++}else s+=8;return 8*u}saveSession(e){const t=e.objectStore(Nl);if(this.cloudpilot.saveState()){const r=this.cloudpilot.getSavestate();this.state||(this.state=new Uint8Array(r.length)),this.state.set(r),t.put(this.state,this.sessionId)}else console.log("save state failed"),t.delete(this.sessionId)}}function MG(n,e){1&n&&(ne(0,"p",11),Ze(1," ERROR: URL must be served via HTTPS. "),X())}function TG(n){if(!n.value)return{url:"URL empty"};let e;try{e=new(Gu())(n.value)}catch{return{url:"URL invalid"}}return"https:"===location.protocol&&"https:"!==e.protocol?{url:"mixed content"}:null}Qa.\u0275fac=function(e){return new(e||Qa)(he(nr),he(Ss),he(ea),he(Ka),he(ut))},Qa.\u0275prov=pt({token:Qa,factory:Qa.\u0275fac,providedIn:"root"});class mp{constructor(){this.onContinue=()=>{},this.onCancel=()=>{}}ngOnInit(){this.createFormGroup()}formKeyDown(e){"Enter"===e.key&&this.continue()}continue(){this.onContinue(new(Gu())(this.formGroup.get("url")?.value).toString())}get isMixedContent(){const e=this.formGroup.get("url")?.value;if(!e)return!1;try{const t=new(Gu())(e);return"https:"===location.protocol&&"https:"!==t.protocol}catch{}return!1}createFormGroup(){this.formGroup=new um({url:new pi("",TG)})}}function rg(n){const e=new Date;return`${n}_${e.getFullYear()}${(e.getMonth()+1).toString().padStart(2,"0")}${e.getDate().toString().padStart(2,"0")}-${e.getHours().toString().padStart(2,"0")}${e.getMinutes().toString().padStart(2,"0")}${e.getSeconds().toString().padStart(2,"0")}`}function Nx(n){return`${rg(n.name)}.bin`}function Lx(n,e){return`backup_${rg(n.name)}${e?"_with_rom":""}.zip`}function Ab(n,e=3){return 0===n.length?"":1===n.length?n[0]:`${n.slice(0,n.length>e?e:n.length-1).join(", ")} and ${n.length>e?n.length-e+" more files":n[n.length-1]}`}function $x(n){const{name:e,hotsyncName:t,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}=n;return{name:e,hotsyncName:t,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}}mp.\u0275fac=function(e){return new(e||mp)},mp.\u0275cmp=Le({type:mp,selectors:[["app-remote-url-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel"},decls:21,vars:3,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter URL","formControlName","url"],["class","error",4,"ngIf"],[1,"error"]],template:function(e,t){1&e&&(ne(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ze(3,"Enter download URL"),X(),ne(4,"ion-buttons",1)(5,"ion-button",2),st("click",function(){return t.continue()}),Ze(6,"OK"),X()(),ne(7,"ion-buttons",3)(8,"ion-button",4),st("click",function(){return t.onCancel()}),Ze(9,"Cancel"),X()()()(),ne(10,"ion-content",5)(11,"form",6),st("keydown",function(o){return t.formKeyDown(o)}),ne(12,"p"),Ze(13," Please enter the URL from which to download: "),X(),ne(14,"ion-item",7)(15,"ion-label",8),Ze(16,"URL"),X(),lt(17,"ion-input",9),X(),Qt(18,MG,2,0,"p",10),ne(19,"p"),Ze(20," Note that the remote server needs to support the CORS protocol. "),X()()()),2&e&&(Xe(5),nt("disabled",t.formGroup.invalid),Xe(6),nt("formGroup",t.formGroup),Xe(7),nt("ngIf",t.isMixedContent))},dependencies:[fi,es,ts,ns,rs,Rl,oi,os,is,ss,Pl,kl,Dl,Il,ga,Ha],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}.error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]});class gp{constructor(e){this.kvs=e,this.onContinue=()=>{},this.onCancel=()=>{},this.origin=""}ngOnInit(){this.createFormGroup()}formKeyDown(e){"Enter"===e.key&&this.saveAndContinue()}saveAndContinue(){this.kvs.kvs.credentials={...this.kvs.kvs.credentials,[this.origin]:{username:this.formGroup.get("username")?.value??"",password:this.formGroup.get("password")?.value??""}},this.onContinue()}createFormGroup(){const e=this.kvs.kvs.credentials[this.origin];this.formGroup=new um({username:new pi(e?.username??""),password:new pi(e?.password??"")})}}gp.\u0275fac=function(e){return new(e||gp)(S(ii))},gp.\u0275cmp=Le({type:gp,selectors:[["app-credentials-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel",origin:"origin"},decls:22,vars:1,consts:[["translucent",""],["slot","primary"],[3,"click"],["slot","secondary"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter username","formControlName","username"],["placeholder","Enter password","formControlName","password","type","password"]],template:function(e,t){1&e&&(ne(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ze(3,"Authenticate"),X(),ne(4,"ion-buttons",1)(5,"ion-button",2),st("click",function(){return t.saveAndContinue()}),Ze(6,"OK"),X()(),ne(7,"ion-buttons",3)(8,"ion-button",2),st("click",function(){return t.onCancel()}),Ze(9,"Cancel"),X()()()(),ne(10,"ion-content",4)(11,"form",5),st("keydown",function(o){return t.formKeyDown(o)}),ne(12,"p"),Ze(13," The server requires authentication. "),X(),ne(14,"ion-item",6)(15,"ion-label",7),Ze(16,"Username"),X(),lt(17,"ion-input",8),X(),ne(18,"ion-item",6)(19,"ion-label",7),Ze(20,"Password"),X(),lt(21,"ion-input",9),X()()()),2&e&&(Xe(11),nt("formGroup",t.formGroup))},dependencies:[es,ts,ns,rs,Rl,oi,os,is,ss,Pl,kl,Dl,Il,ga,Ha],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}"]});class Yc{constructor(e,t,r){this.loadingController=e,this.kvsService=t,this.modalController=r}fetch(e,t){var r=this;return(0,ee.Z)(function*(){let o=t?.loaderDelay;const i=void 0===t?.timeout?5e3:t?.timeout,s=new(Gu())("string"==typeof e?e:e.url);let a,u,f=!1;for(;;)try{void 0!==o&&o>=0&&!a&&(a=yield r.loadingController.create({message:"Loading..."}),u=window.setTimeout(()=>a.present(),o));const g=r.kvsService.kvs.credentials[s.origin],v=new AbortController,D=window.setTimeout(()=>v.abort(),i),T=yield fetch(e,{...r.requestInit(t),signal:v.signal,headers:{...t?.headers||{},...f&&g?{Authorization:"Basic "+btoa(`${g.username}:${g.password}`)}:{}}});if(clearTimeout(D),401===T.status){if(!f&&g){f=!0;continue}if(a&&(a.dismiss(),clearTimeout(u),o=0,a=void 0),f=!0,yield r.authenticate(s.origin))continue}return T}finally{a&&(yield a.dismiss()),clearTimeout(u)}})()}requestInit(e){if(!e)return;const{timeout:t,loaderDelay:r,...o}=e;return o}authenticate(e){var t=this;return(0,ee.Z)(function*(){const r=yield new Promise(o=>t.modalController.create({component:gp,backdropDismiss:!1,componentProps:{origin:e,onContinue:()=>o(!0),onCancel:()=>o(!1)}}).then(i=>i.present()));return t.modalController.dismiss(),r})()}}Yc.\u0275fac=function(e){return new(e||Yc)(he(Fl),he(ii),he(ws))},Yc.\u0275prov=pt({token:Yc,factory:Yc.\u0275fac,providedIn:"root"});var RG=R(3272),FG=R.n(RG);function Pb(n){const e=(n>>>13)+(n%8192>0?1:0);return(e>>>3)+(e%8>0?1:0)}const Bx=[re.palmPilot,re.pilot,re.iii,re.palmVx,re.palmV,re.palmVII,re.palmVIIEZ,re.palmVIIx,re.iiixe,re.iiix,re.iiie,re.m500,re.m505,re.m515,re.m520,re.iiic,re.m100,re.m105,re.m125,re.m130,re.i705,re.i710,re.handera330,re.handera330c,re.pegS300,re.pegS320,re.pegS500c,re.pegT400,re.pegN600c,re.pegT600c,re.pegN700c,re.pegT650c,re.pegNR70,re.acerS11];function Kt(){return(n,e,t)=>{const r=t.value;return t.value=function(o,i){return this.guard(()=>r.call(this,o,i))},t}}class Wt{constructor(e){this.module=e,this.fatalErrorEvent=new Ho.j,this.pwmUpdateEvent=new Ho.j,this.proxyDisconnectEvent=new Ho.j,this.amIdead=!1,this.cloudpilot=new e.Cloudpilot,this.cloudpilot.RegisterPwmHandler(e.addFunction((t,r)=>this.pwmUpdateEvent.dispatch({frequency:t,dutyCycle:r}),"vdd")),this.cloudpilot.RegisterProxyDisconnectHandler(e.addFunction(t=>this.proxyDisconnectEvent.dispatch(e.UTF8ToString(t)),"vi"))}static create(e){return(0,ee.Z)(function*(){return new Wt(yield FG()({print:t=>console.log(t),printErr:t=>console.error(t),..."string"==typeof e?{locateFile:()=>e}:{},..."function"==typeof e?{instantiateWasm:e}:{}}))})()}destroy(){this.module.destroy(this.cloudpilot)}hasFatalError(){return this.amIdead}getRomInfo(e){const t=this.copyIn(e),r=new this.module.RomInfo(t,e.length);let o;return r.IsValid()&&(o={cardVersion:r.CardVersion(),cardName:r.CardName(),romVersion:r.RomVersion(),romVersionString:r.RomVersionString(),supportedDevices:Bx.filter(r.Supports.bind(r))}),this.cloudpilot.Free(t),this.module.destroy(r),o}initializeSession(e,t){const r=this.copyIn(e),o=this.cloudpilot.InitializeSession(r,e.length,t);return this.cloudpilot.Free(r),o}cyclesPerSecond(){return this.cloudpilot.GetCyclesPerSecond()}runEmulation(e){return this.cloudpilot.RunEmulation(e)}getFrame(){const e=this.cloudpilot.CopyFrame(),t=this.module.getPointer(e.GetBuffer());return{bpp:e.GetBpp(),bytesPerLine:e.GetBytesPerLine(),lines:e.GetLines(),lineWidth:e.GetLineWidth(),margin:e.GetMargin(),firstDirtyLine:e.GetFirstDirtyLine(),lastDirtyLine:e.GetLastDirtyLine(),hasChanges:e.GetHasChanges(),scaleX:e.GetScaleX(),scaleY:e.GetScaleY(),buffer:this.module.HEAPU8.subarray(t,t+e.GetBufferSize())}}isScreenDirty(){return this.cloudpilot.IsScreenDirty()}markScreenClean(){this.cloudpilot.MarkScreenClean()}minRamForDevice(e){return 1024*this.cloudpilot.MinMemoryForDevice(e)}framebufferSizeForDevice(e){return 1024*this.cloudpilot.FramebufferSizeForDevice(e)}totalMemorySizeForDevice(e){return 1024*this.cloudpilot.TotalMemoryForDevice(e)}queuePenMove(e,t){this.cloudpilot.QueuePenMove(e,t)}queuePenUp(){this.cloudpilot.QueuePenUp()}queueButtonDown(e){this.cloudpilot.QueueButtonDown(e)}queueButtonUp(e){this.cloudpilot.QueueButtonUp(e)}queueKeyboardEvent(e,t){this.cloudpilot.QueueKeyboardEvent(e,t)}isPowerOff(){return!!this.cloudpilot.IsPowerOff()}isUiInitialized(){return!!this.cloudpilot.IsUIInitialized()}isSetupComplete(){return!!this.cloudpilot.IsSetupComplete()}getOSVersion(){return this.cloudpilot.GetOSVersion()}reset(){this.cloudpilot.Reset()}resetNoExtensions(){this.cloudpilot.ResetNoExtensions()}resetHard(){this.cloudpilot.ResetHard()}installDb(e){const t=this.copyIn(e),r=this.cloudpilot.InstallDb(t,e.length);return this.cloudpilot.Free(t),r}getPalette2bitMapping(){return this.cloudpilot.GetPalette2bitMapping()}getMemory(){const e=this.module.getPointer(this.cloudpilot.GetMemoryPtr());return this.module.HEAPU8.subarray(e,e+this.cloudpilot.GetMemorySize())}getMemory32(){let e=this.module.getPointer(this.cloudpilot.GetMemoryPtr());if(3&e)throw new Error("unaligned pointer");return e>>>=2,this.module.HEAPU32.subarray(e,e+(this.cloudpilot.GetMemorySize()>>>2))}getDirtyPages(){const e=this.module.getPointer(this.cloudpilot.GetDirtyPagesPtr()),t=this.cloudpilot.GetMemorySize();return this.module.HEAPU8.subarray(e,e+((t>>>13)+(t%8192==0?0:1)))}loadMemory(e){const t=this.getMemory32();if((()=>{if(e.length!==t.length||e.length<256)return!1;for(let o=256;o>0;o--){if(e[e.length-o]!==t[t.length-o])return!1;if(4294967295===t[t.length-o])break}return!0})())return t.set(e),!0;{const o=this.copyIn32(e),i=this.cloudpilot.ImportMemoryImage(o,e.length<<2);return this.cloudpilot.Free(o),i}}getRomImage(){const e=this.module.getPointer(this.cloudpilot.GetRomPtr());return this.module.HEAPU8.subarray(e,e+this.cloudpilot.GetRomSize())}getSavestate(){const e=this.module.getPointer(this.cloudpilot.GetSavestatePtr());return this.module.HEAPU8.subarray(e,e+this.cloudpilot.GetSavestateSize())}saveState(){return!!this.cloudpilot.SaveState()}loadState(e){const t=this.copyIn(e),r=this.cloudpilot.LoadState(t,e.length);return this.cloudpilot.Free(t),r}getHotsyncName(){return this.cloudpilot.GetHotsyncName()}setClockFactor(e){this.cloudpilot.SetClockFactor(e)}setHotsyncName(e){this.cloudpilot.SetHotsyncName(e)}backup(e){var t=this;return(0,ee.Z)(function*(){const r=t.guard(()=>t.cloudpilot.StartBackup());try{return yield e(t.wrap(r))}finally{t.module.destroy(r)}})()}getArchive(e){const t=e.GetArchiveSize();return this.copyOut(e.GetArchivePtr(),t)}setClipboardIntegration(e){this.cloudpilot.SetClipboardIntegration(e)}getClipboardIntegration(){return this.cloudpilot.GetClipboardIntegration()}isSuspended(){return this.cloudpilot.IsSuspended()}getSuspendKind(){return this.cloudpilot.GetSuspendContext().GetKind()}cancelSuspend(){this.cloudpilot.GetSuspendContext().Cancel()}getSuspendContextClipboardCopy(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardCopy())}getSuspendContextClipboardPaste(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardPaste())}setNetworkRedirection(e){this.cloudpilot.SetNetworkRedirection(e)}getNetworkRedirection(){return this.cloudpilot.GetNetworkRedirection()}getSuspendContextNetworkConnect(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkConnect())}getSuspendContextNetworkRpc(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkRpc())}copyBuffer(e){return this.copyIn(e)}freeBuffer(e){this.cloudpilot.Free(e)}setHotsyncNameManagement(e){this.cloudpilot.SetHotsyncNameManagement(e)}resolveBuffer(e,t){const r=this.module.getPointer(e);return this.module.HEAPU8.subarray(r,r+t)}withZipfileWalker(e,t){var r=this;return(0,ee.Z)(function*(){const o=r.guard(()=>{const i=r.copyIn(e),s=new r.module.ZipfileWalker(e.length,i);return r.cloudpilot.Free(i),s});try{return yield t(r.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>r.copyOut(o.GetCurrentEntryContent(),o.GetCurrentEntrySize())},o)))}finally{r.module.destroy(o)}})()}withZipfileWalkerSync(e,t){const r=this.guard(()=>{const o=this.copyIn(e),i=new this.module.ZipfileWalker(e.length,o);return this.cloudpilot.Free(o),i});try{return t(this.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>this.copyOut(r.GetCurrentEntryContent(),r.GetCurrentEntrySize())},r)))}finally{this.module.destroy(r)}}serializeSessionImage(e){const t=new this.module.SessionImage,r=this.cloudpilot.Nullptr(),o=this.copyIn(e.rom),i=e.memory?this.copyIn(e.memory):r,s=void 0!==e.savestate?this.copyIn(e.savestate):r;let a=r,u=0;if(void 0!==e.metadata){const g=(new TextEncoder).encode(JSON.stringify(e.metadata));u=g.length,a=this.copyIn(g)}t.SetRomImage(o,e.rom.length),t.SetMemoryImage(i,e.memory?.length||0),t.SetDeviceId(e.deviceId),t.SetSavestate(s,e.savestate?.length||0),t.SetMetadata(a,u);const f=t.Serialize()?this.copyOut(t.GetSerializedImage(),t.GetSerializedImageSize()):void 0;return this.module.destroy(t),[o,i,s,a].forEach(g=>this.cloudpilot.Free(g)),f}deserializeSessionImage(e){const t=new this.module.SessionImage,r=this.copyIn(e),o=(()=>{if(!t.Deserialize(r,e.length))return;const i=this.copyOut(t.GetRomImage(),t.GetRomImageSize()),s=this.copyOut(t.GetMemoryImage(),t.GetMemoryImageSize()),a=this.copyOut(t.GetSavestate(),t.GetSavestateSize()),u=t.GetDeviceId();if(!Bx.includes(u))return void console.warn(`unsupported device ${u}`);let f;const g=this.copyOut(t.GetMetadata(),t.GetMetadataSize());if(g)try{f=JSON.parse((new TextDecoder).decode(g))}catch(v){console.warn("invalid metadata",v)}return{deviceId:u,rom:i,memory:s,savestate:a,metadata:f,version:t.GetVersion()}})();return this.module.destroy(t),this.cloudpilot.Free(r),o}launchAppByName(e){return this.cloudpilot.LaunchAppByName(e)}launchAppByDbHeader(e){if(e.length<32)return!1;const t=this.copyIn(e.subarray(0,32)),r=this.cloudpilot.LaunchAppByDbHeader(t,32);return this.cloudpilot.Free(t),r}deviceSupportsCardSize(e){return this.cloudpilot.DeviceSupportsCardSize(e)}clearExternalStorage(){this.cloudpilot.ClearExternalStorage()}allocateCard(e,t){return this.cloudpilot.AllocateCard(e,t>>>9)}decompressCard(e,t){const r=this.copyIn(t);let o;try{for(o=new this.module.GunzipContext(r,t.length,524288);0===o.GetState();)o.Continue();return-1===o.GetState()?(console.error(`gunzip failed: ${o.GetError()}`),!1):o.GetUncompressedSize()%512!=0?(console.error("failed to allocate card: invalid size of decompressed image"),!1):this.cloudpilot.AdoptCard(e,o.ReleaseUncompressedData(),o.GetUncompressedSize()>>>9)}finally{this.cloudpilot.Free(r),o&&this.module.destroy(o)}}getCardData(e){const t=this.module.getPointer(this.cloudpilot.GetCardData(e));if(0!==t)return this.module.HEAPU32.subarray(t>>>2,t+this.cloudpilot.GetCardSize(e)>>2)}getCardDirtyPages(e){const t=this.module.getPointer(this.cloudpilot.GetCardDirtyPages(e));if(0===t)return;const r=Pb(this.cloudpilot.GetCardSize(e));return this.module.HEAPU8.subarray(t,t+r)}getMountedKey(){return this.cloudpilot.GetMountedKey()}mountCard(e){return this.cloudpilot.MountCard(e)}removeCard(e){return this.cloudpilot.RemoveCard(e)}remountCards(){this.cloudpilot.RemountCards()}getCardSupportLevel(e){return this.cloudpilot.GetSupportLevel(e)}loadSkin(e){const t=new this.module.SkinLoader(e);try{const r=this.module.getPointer(t.GetData());return 0===r?void 0:(new TextDecoder).decode(this.module.HEAPU8.subarray(r,r+t.GetSize()))}finally{this.module.destroy(t)}}copyIn(e){const t=this.cloudpilot.Malloc(e.length),r=this.module.getPointer(t);return this.module.HEAPU8.subarray(r,r+e.length).set(e),t}copyIn32(e){const t=this.cloudpilot.Malloc(e.length<<2),r=this.module.getPointer(t);return this.module.HEAPU32.subarray(r>>>2,(r>>>2)+e.length).set(e),t}copyOut(e,t){const r=this.module.getPointer(e);return r>0&&t>0?this.module.HEAPU8.subarray(r,r+t).slice():void 0}wrap(e){return new Proxy(e,{get:(t,r)=>{const o=t[r];return"function"!=typeof o?o:(...i)=>this.guard(()=>o.apply(t,i))}})}guard(e){if(this.amIdead)throw new Error("cloudpilot instance is dead");try{return e()}catch(t){throw this.amIdead=!0,this.cloudpilot=void 0,this.fatalErrorEvent.dispatch(t instanceof Error?t:new Error("unknown error")),t}}}U([Kt()],Wt.prototype,"getRomInfo",null),U([Kt()],Wt.prototype,"initializeSession",null),U([Kt()],Wt.prototype,"cyclesPerSecond",null),U([Kt()],Wt.prototype,"runEmulation",null),U([Kt()],Wt.prototype,"getFrame",null),U([Kt()],Wt.prototype,"isScreenDirty",null),U([Kt()],Wt.prototype,"markScreenClean",null),U([Kt()],Wt.prototype,"minRamForDevice",null),U([Kt()],Wt.prototype,"framebufferSizeForDevice",null),U([Kt()],Wt.prototype,"totalMemorySizeForDevice",null),U([Kt()],Wt.prototype,"queuePenMove",null),U([Kt()],Wt.prototype,"queuePenUp",null),U([Kt()],Wt.prototype,"queueButtonDown",null),U([Kt()],Wt.prototype,"queueButtonUp",null),U([Kt()],Wt.prototype,"queueKeyboardEvent",null),U([Kt()],Wt.prototype,"isPowerOff",null),U([Kt()],Wt.prototype,"isUiInitialized",null),U([Kt()],Wt.prototype,"isSetupComplete",null),U([Kt()],Wt.prototype,"getOSVersion",null),U([Kt()],Wt.prototype,"reset",null),U([Kt()],Wt.prototype,"resetNoExtensions",null),U([Kt()],Wt.prototype,"resetHard",null),U([Kt()],Wt.prototype,"installDb",null),U([Kt()],Wt.prototype,"getPalette2bitMapping",null),U([Kt()],Wt.prototype,"getMemory",null),U([Kt()],Wt.prototype,"getMemory32",null),U([Kt()],Wt.prototype,"getDirtyPages",null),U([Kt()],Wt.prototype,"loadMemory",null),U([Kt()],Wt.prototype,"getRomImage",null),U([Kt()],Wt.prototype,"getSavestate",null),U([Kt()],Wt.prototype,"saveState",null),U([Kt()],Wt.prototype,"loadState",null),U([Kt()],Wt.prototype,"getHotsyncName",null),U([Kt()],Wt.prototype,"setClockFactor",null),U([Kt()],Wt.prototype,"setHotsyncName",null),U([Kt()],Wt.prototype,"setClipboardIntegration",null),U([Kt()],Wt.prototype,"getClipboardIntegration",null),U([Kt()],Wt.prototype,"isSuspended",null),U([Kt()],Wt.prototype,"getSuspendKind",null),U([Kt()],Wt.prototype,"cancelSuspend",null),U([Kt()],Wt.prototype,"getSuspendContextClipboardCopy",null),U([Kt()],Wt.prototype,"getSuspendContextClipboardPaste",null),U([Kt()],Wt.prototype,"setNetworkRedirection",null),U([Kt()],Wt.prototype,"getNetworkRedirection",null),U([Kt()],Wt.prototype,"getSuspendContextNetworkConnect",null),U([Kt()],Wt.prototype,"getSuspendContextNetworkRpc",null),U([Kt()],Wt.prototype,"copyBuffer",null),U([Kt()],Wt.prototype,"freeBuffer",null),U([Kt()],Wt.prototype,"setHotsyncNameManagement",null),U([Kt()],Wt.prototype,"resolveBuffer",null),U([Kt()],Wt.prototype,"serializeSessionImage",null),U([Kt()],Wt.prototype,"deserializeSessionImage",null),U([Kt()],Wt.prototype,"launchAppByName",null),U([Kt()],Wt.prototype,"launchAppByDbHeader",null),U([Kt()],Wt.prototype,"deviceSupportsCardSize",null),U([Kt()],Wt.prototype,"clearExternalStorage",null),U([Kt()],Wt.prototype,"allocateCard",null),U([Kt()],Wt.prototype,"decompressCard",null),U([Kt()],Wt.prototype,"getCardData",null),U([Kt()],Wt.prototype,"getCardDirtyPages",null),U([Kt()],Wt.prototype,"getMountedKey",null),U([Kt()],Wt.prototype,"mountCard",null),U([Kt()],Wt.prototype,"removeCard",null),U([Kt()],Wt.prototype,"remountCards",null),U([Kt()],Wt.prototype,"getCardSupportLevel",null),U([Kt()],Wt.prototype,"loadSkin",null);class Wi{constructor(){this.cloudpilot=Wt.create()}}Wi.\u0275fac=function(e){return new(e||Wi)},Wi.\u0275prov=pt({token:Wi,factory:Wi.\u0275fac,providedIn:"root"});class Bs{constructor(e,t,r,o,i,s,a,u){this.storageService=e,this.loadingController=t,this.actionSheetController=r,this.kvsService=o,this.modalController=i,this.alertService=s,this.fetchService=a,this.cloudpilotService=u}openFile(e){this.openFilesImpl(!1,t=>{t.length>0&&e(t[0])})}openFiles(e){this.openFilesImpl(!0,e)}openFromDrop(e,t){"drop"!==e.type||!e.dataTransfer?.files||t(Array.from(e.dataTransfer.files).map(this.readFile.bind(this)))}saveSession(e){var t=this;return(0,ee.Z)(function*(){const r=yield t.loadingController.create({message:"Exporting..."});yield r.present();try{const[o,i,s]=yield t.storageService.loadSession(e);if(!o)throw new Error(`invalid ROM ${e.rom}`);const a={deviceId:e.device,metadata:$x(e),rom:o,memory:i,savestate:s},u=(yield t.cloudpilotService.cloudpilot).serializeSessionImage(a);u?t.saveFile(Nx(e),u):(yield r.dismiss(),t.alertService.errorMessage("Failed to save session."))}finally{r.dismiss()}})()}emergencySaveSession(e,t){var r=this;return(0,ee.Z)(function*(){const o=yield r.loadingController.create({message:"Exporting..."});o.style.zIndex="10000000",yield o.present();try{const i=t.getRomImage().slice(),s=t.getMemory().slice(),a=t.saveState()?t.getSavestate().slice():void 0;if(t.framebufferSizeForDevice(e.device)<0)throw new Error(`invalid device ID ${e.device}`);const f={deviceId:e.device,metadata:$x(e),rom:i,memory:s,savestate:a},g=(yield r.cloudpilotService.cloudpilot).serializeSessionImage(f);g&&r.saveFile(Nx(e),g)}finally{o.dismiss()}})()}saveFile(e,t){const r=new Blob([t],{type:"application/octet-stream"}),o=URL.createObjectURL(r),i=document.createElement("a");i.href=o,i.download=e,i.click()}openUrl(e,t){var r=this;return(0,ee.Z)(function*(){let o;try{o=new(Gu())(e)}catch{return void(yield r.alertService.errorMessage(`Invalid URL: ${e}`))}try{const i=yield r.fetchService.fetch(e);if(!i.ok)throw new Error("request failed");const s=i.arrayBuffer().then(a=>new Uint8Array(a));return void t({name:o.pathname.replace(/.*\//,""),getContent:()=>s})}catch{yield r.alertService.errorMessage(`Download from ${e} failed.`)}})()}openFilesImpl(e,t){var r=this;return(0,ee.Z)(function*(){r.kvsService.kvs.enableRemoteInstall?(yield r.actionSheetController.create({header:"What source do you want to open?",buttons:[{text:"Local files",handler:()=>r.openFilesLocal(e,t)},{text:"File on remote server",handler:()=>r.queryAndOpenFileRemote(t)},{text:"Cancel"}]})).present():r.openFilesLocal(e,t)})()}queryAndOpenFileRemote(e){var t=this;return(0,ee.Z)(function*(){let r;try{r=yield new Promise((o,i)=>t.modalController.create({component:mp,backdropDismiss:!1,componentProps:{onContinue:o,onCancel:i}}).then(s=>s.present()))}catch{return}finally{t.modalController.dismiss()}yield t.openUrl(r,o=>e([o]))})()}openFilesLocal(e,t){var r=this;this.input&&document.body.removeChild(this.input),this.input=document.createElement("input"),this.input.style.display="none",this.input.multiple=e,this.input.type="file",this.input.addEventListener("change",function(){var o=(0,ee.Z)(function*(i){const s=i.target;s?.files&&t(Array.from(s.files).map(r.readFile.bind(r)))});return function(i){return o.apply(this,arguments)}}()),document.body.appendChild(this.input),this.input.click()}readFile(e){let t,r=function(){var o=(0,ee.Z)(function*(){return t||(t=new Promise((i,s)=>{const a=new FileReader;a.onload=()=>i(new Uint8Array(a.result)),a.onerror=()=>{console.warn(a.error),s(a.error)},a.readAsArrayBuffer(e)}),t)});return function(){return o.apply(this,arguments)}}();return{name:e.name,getContent:r}}}Bs.\u0275fac=function(e){return new(e||Bs)(he(nr),he(Fl),he(up),he(ii),he(ws),he(eo),he(Yc),he(Wi))},Bs.\u0275prov=pt({token:Bs,factory:Bs.\u0275fac,providedIn:"root"});class pc{constructor(e){this.zone=e,this.modalVisibilityChangeEvent=new Ho.j,this.modalActive=!1,this.update(),this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}isModalActive(){return this.modalActive}update(){const e=document.querySelectorAll("ion-alert, ion-modal").length>0;e!==this.modalActive&&this.zone.run(()=>{this.modalActive=e,this.modalVisibilityChangeEvent.dispatch(e)})}}pc.\u0275fac=function(e){return new(e||pc)(he(ut))},pc.\u0275prov=pt({token:pc,factory:pc.\u0275fac,providedIn:"root"});const og=new Error("permission denied");class Kc{constructor(e,t){this.alertController=e,this.alertService=t,this.clipboardContent="",this.lastClipboardReadAt=performance.now()}isSupported(){return!!navigator.clipboard?.readText&&!!navigator.clipboard?.writeText}handleSuspend(e){if(e.isSuspended())switch(e.getSuspendKind()){case 1:this.handleCopy(e);break;case 2:this.handlePaste(e)}}handleCopy(e){var t=this;return(0,ee.Z)(function*(){const r=e.getSuspendContextClipboardCopy(),o=r.GetClipboardContent();try{return yield t.tryCopyDirect(o),void r.Resume()}catch(i){if(i===og)return r.Cancel(),t.msgPermissionDenied()}try{yield t.tryCopyWithInteraction(o),r.Resume()}catch{yield t.msgCopyFailed(),r.Cancel()}})()}tryCopyDirect(e){var t=this;return(0,ee.Z)(function*(){try{yield navigator.clipboard.writeText(e)}catch(r){throw(yield t.isPermissionDenied("clipboard-write"))?og:r}})()}tryCopyWithInteraction(e){var t=this;return new Promise(function(){var r=(0,ee.Z)(function*(o,i){try{const s=yield t.alertController.create({header:"Confirm Copy",message:"Please confirm that you want to copy to the host clipboard",backdropDismiss:!1,buttons:[{text:"Copy",handler:(a=(0,ee.Z)(function*(){s.dismiss();try{yield navigator.clipboard.writeText(e),o(!0)}catch(u){i(u)}}),function(){return a.apply(this,arguments)})},{text:"Cancel",handler:()=>{s.dismiss(),o(!1)}}]});s.present()}catch(s){i(s)}var a});return function(o,i){return r.apply(this,arguments)}}())}handlePaste(e){var t=this;return(0,ee.Z)(function*(){const r=yield t.tryPaste();e.getSuspendContextClipboardPaste().Resume(r??""),void 0!==r&&(t.clipboardContent=r,t.lastClipboardReadAt=performance.now())})()}tryPaste(){var e=this;return(0,ee.Z)(function*(){if(performance.now()-e.lastClipboardReadAt<3e3)return e.clipboardContent;try{return yield e.tryPasteDirect()}catch(t){if(t===og)return void(yield e.msgPermissionDenied())}try{return yield e.tryPasteWithInteraction()}catch{return void(yield e.msgPasteFailed())}})()}tryPasteDirect(){var e=this;return(0,ee.Z)(function*(){try{return yield navigator.clipboard.readText()}catch(t){throw(yield e.isPermissionDenied("clipboard-read"))?og:t}})()}tryPasteWithInteraction(){var e=this;return new Promise(function(){var t=(0,ee.Z)(function*(r,o){try{const i=yield e.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard",backdropDismiss:!1,buttons:[{text:"Paste",handler:(s=(0,ee.Z)(function*(){i.dismiss();try{r(yield navigator.clipboard.readText())}catch(a){o(a)}}),function(){return s.apply(this,arguments)})},{text:"Cancel",handler:()=>{i.dismiss(),r(void 0)}}]});i.present()}catch(i){o(i)}var s});return function(r,o){return t.apply(this,arguments)}}())}handlePasteSafari(e){var t=this;return(0,ee.Z)(function*(){const r=yield t.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard.",backdropDismiss:!1,buttons:[{text:"Paste",handler:(o=(0,ee.Z)(function*(){try{t.clipboardContent=yield navigator.clipboard.readText(),t.lastClipboardReadAt=performance.now(),r.dismiss(),e.Resume(t.clipboardContent)}catch{r.dismiss(),yield t.alertService.errorMessage("Paste from host clipboard failed."),e.Resume("")}}),function(){return o.apply(this,arguments)})},{text:"Cancel",handler:()=>{r.dismiss(),e.Resume("")}}]});var o;yield r.present()})()}isPermissionDenied(e){return(0,ee.Z)(function*(){if(navigator.permissions)try{return"denied"===(yield navigator.permissions.query({name:e}))?.state}catch{return!1}return!1})()}msgPermissionDenied(){return this.alertService.errorMessage(`\n        CloudpilotEmu has no permission to access the clipboard. Please check your browser's settings\n        and grant the necessary permission to ${location.origin} .\n    `)}msgCopyFailed(){return this.alertService.errorMessage("Failed to copy to the host clipboard.")}msgPasteFailed(){return this.alertService.errorMessage("Failed to paste from the host clipboard.")}}Kc.\u0275fac=function(e){return new(e||Kc)(he(zc),he(eo))},Kc.\u0275prov=pt({token:Kc,factory:Kc.\u0275fac,providedIn:"root"});const NG="https:"===window.location.protocol?8667:8666,LG=/^[\da-z\-\.]+$/i,$G=/^[\da-z\-\.]+:\d+$/i;function Rb(n){if(!n)return;const e=window.location.protocol;if(n.match(LG))return`${e}//${n}:${NG}`;if(n.match($G))return`${e}//${n}`;try{const t=new URL(n);if("https:"===t.protocol||"http:"===t.protocol)return t.toString().replace(/\/+$/,"")}catch{}}function BG(n){return void 0!==Rb(n.value)?null:{proxyAddress:"invalid"}}class hc{constructor(e,t,r,o){var i=this;this.kvsService=e,this.alertService=t,this.ngZone=r,this.fetchService=o,this.handleConnect=()=>this.mutex.runExclusive((0,ee.Z)(function*(){i.socket&&i.disconnect(i.socket);const s=Rb(i.kvsService.kvs.proxyServer);if(!s)return yield i.alertService.errorMessage(`Invalid proxy address: ${i.kvsService.kvs.proxyServer}`),void i.cloudpilot.getSuspendContextNetworkConnect().Cancel();const a=yield i.handshake(void 0,500);switch(a.status){case"failed":return void i.onSocketError(void 0);case"version_mismatch":return yield i.alertService.proxyVersionMismatchError(),void i.cancelSuspend();case"success":break;default:throw new Error("unreachable")}i.socket=new WebSocket(`${s.replace(/^http/,"ws")}/network-proxy/connect?token=${encodeURIComponent(a.token)}`),i.socket.binaryType="arraybuffer",i.bindListeners(i.socket),i.ngZone.run(()=>i.connectTimeoutHandle=setTimeout(i.onSocketError,5e3))})),this.onSocketOpen=()=>{if(this.cancelConnectTimeout(),!this.cloudpilot.isSuspended()||4!==this.cloudpilot.getSuspendKind())return console.error("ERROR: socket connected, but emulation is not waiting for connect"),void this.disconnect(this.socket);this.sessionId=kb(),this.cloudpilot.getSuspendContextNetworkConnect().Resume(this.sessionId),this.resumeEvent.dispatch()},this.onSocketMessage=s=>{if(!this.cloudpilot.isSuspended()||3!==this.cloudpilot.getSuspendKind())return void console.error("ERROR: socket received message, but emulation is not waiting for rpc");if(!(s.data instanceof ArrayBuffer))return console.error("ERROR: socket received a text frame"),this.disconnect(this.socket),this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),void this.cancelSuspend();const a=this.cloudpilot.copyBuffer(new Uint8Array(s.data));this.cloudpilot.getSuspendContextNetworkRpc().ReceiveResponse(a,s.data.byteLength),this.cloudpilot.freeBuffer(a),this.resumeEvent.dispatch()},this.onSocketError=s=>{this.cancelConnectTimeout(),this.cloudpilot.isSuspended()&&4===this.cloudpilot.getSuspendKind()?this.alertService.errorMessage("Failed to connect to proxy."):this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(this.socket),this.cancelSuspend(),console.error("ERROR: socket error",s)},this.onSocketClose=()=>{this.cancelConnectTimeout(),this.alertService.errorMessage("Connection to proxy closed unexpectedly"),this.unbindListeners(this.socket),this.cancelSuspend(),this.sessionId="",this.socket=void 0},this.onProxyDisconnect=s=>{s!==this.sessionId||!this.socket||this.ngZone.run(()=>this.disconnect(this.socket))},this.resumeEvent=new Ho.j,this.mutex=new Ya,this.sessionId=""}initialize(e){this.cloudpilot=e,e.proxyDisconnectEvent.addHandler(this.onProxyDisconnect)}reset(){this.socket&&this.disconnect(this.socket)}handleSuspend(){if(this.cloudpilot&&this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:this.handleConnect();break;case 3:this.handleRpc()}}isConnected(){return!!this.socket}handshake(e=this.kvsService.kvs.proxyServer,t=-1){var r=this;return(0,ee.Z)(function*(){const o=Rb(e);if(!o)return{status:"failed"};try{const i=yield r.fetchService.fetch(`${o}/network-proxy/handshake`,{method:"POST",loaderDelay:t});if(!i.ok)return{status:"failed"};const s=yield i.json();return s.version<3||s.compatVersion>3?{status:"version_mismatch"}:{status:"success",token:s.token}}catch{return{status:"failed"}}})()}handleRpc(){const e=this.cloudpilot.getSuspendContextNetworkRpc();this.socket?this.socket.send(this.cloudpilot.resolveBuffer(e.GetRequestData(),e.GetRequestSize())):e.Cancel()}disconnect(e){e&&(this.unbindListeners(e),e.close()),this.sessionId="",this.socket=void 0}bindListeners(e){this.ngZone.run(()=>{e.addEventListener("open",this.onSocketOpen),e.addEventListener("error",this.onSocketError),e.addEventListener("close",this.onSocketClose)}),this.ngZone.runOutsideAngular(()=>e.addEventListener("message",this.onSocketMessage))}unbindListeners(e){e&&(e.removeEventListener("message",this.onSocketMessage),e.removeEventListener("open",this.onSocketOpen),e.removeEventListener("error",this.onSocketError),e.removeEventListener("close",this.onSocketClose))}cancelSuspend(){if(this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:case 3:this.cloudpilot.cancelSuspend()}}cancelConnectTimeout(){void 0!==this.connectTimeoutHandle&&clearTimeout(this.connectTimeoutHandle),this.connectTimeoutHandle=void 0}}hc.\u0275fac=function(e){return new(e||hc)(he(ii),he(eo),he(ut),he(Yc))},hc.\u0275prov=pt({token:hc,factory:hc.\u0275fac,providedIn:"root"});class Xc{constructor(){this.buttons=new Map}reset(e){this.cloudpilot=e,this.buttons.clear(),[6,7].forEach(t=>e.queueButtonUp(t))}engage(e){this.cloudpilot&&(this.buttons.has(e)?this.buttons.get(e).timer=0:(this.buttons.set(e,{button:e,timer:0}),this.cloudpilot?.queueButtonDown(e)))}tick(e){if(this.cloudpilot)for(const[t,r]of this.buttons)r.timer+=1e3*e,r.timer>250&&(this.cloudpilot.queueButtonUp(t),this.buttons.delete(t))}}Xc.\u0275fac=function(e){return new(e||Xc)},Xc.\u0275prov=pt({token:Xc,factory:Xc.\u0275fac,providedIn:"root"});class Qc{constructor(){this.hasRenderedPromise=new Promise(e=>this.hasRenderedResolve=e)}notifyHasRendered(){this.hasRenderedResolve()}hasRendered(){return this.hasRenderedPromise}}Qc.\u0275fac=function(e){return new(e||Qc)},Qc.\u0275prov=pt({token:Qc,factory:Qc.\u0275fac,providedIn:"root"});var GG=R(9084),ig=R.n(GG);const sg=function HG(n){const e=WebAssembly.compileStreaming?WebAssembly.compileStreaming(fetch(n)):fetch(n).then(t=>t.arrayBuffer()).then(t=>WebAssembly.compile(t));return function(){var t=(0,ee.Z)(function*(r,o){return o(yield WebAssembly.instantiate(yield e,r))});return function(r,o){return t.apply(this,arguments)}}()}("fstools_web.wasm");function Fb(){return(Fb=(0,ee.Z)(function*(n){const e=yield Nb.create();if(e.mkfs(n))return e.getImage()})).apply(this,arguments)}function Ob(){return(Ob=(0,ee.Z)(function*(n){const e=yield Lb.create(n);if(yield e.gunzip())return e.getDecompressedData()})).apply(this,arguments)}class Nb{constructor(e){this.module=e,this.nativeContext=new e.MkfsContext}static create(){return(0,ee.Z)(function*(){return new Nb(yield ig()({print:e=>console.log(e),printErr:e=>console.error(e),instantiateWasm:sg}))})()}mkfs(e){return this.nativeContext.Mkfs(e,"card")}getImage(){const e=this.nativeContext.GetImageSize(),t=this.module.getPointer(this.nativeContext.GetImage());if(0!==e&&0!==t)return this.module.HEAPU32.subarray(t>>>2,t+e>>>2)}}class ag{constructor(e,t){this.module=e,this.result=0,this.nativeContext=new e.FsckContext(t>>>9)}static create(e){return(0,ee.Z)(function*(){const t=yield ig()({print:r=>console.log(r),printErr:r=>console.error(r),instantiateWasm:sg});return new ag(t,e)})()}getImageData(){const e=this.nativeContext.GetImageSize(),t=this.module.getPointer(this.nativeContext.GetImage());return this.module.HEAPU32.subarray(t>>>2,t+e>>2)}getDirtyPages(){const e=this.module.getPointer(this.nativeContext.GetDirtyPages()),t=Pb(this.nativeContext.GetImageSize());return this.module.HEAPU8.subarray(e,e+t)}fsck(){if(0!==this.result)return this.result;try{return this.result=this.nativeContext.Fsck(),this.result}catch(e){return console.warn("fsck failed",e),this.result=4,this.result}}getResult(){return this.result}}class Lb{constructor(e,t){this.module=e;const r=new e.FSTools,o=r.Malloc(t.length),i=e.getPointer(o);e.HEAPU8.subarray(i,i+t.length).set(t),e.destroy(r),this.nativeContext=new e.GunzipContext(o,t.length,524288)}static create(e){return(0,ee.Z)(function*(){const t=yield ig()({print:r=>console.log(r),printErr:r=>console.error(r),instantiateWasm:sg});return new Lb(t,e)})()}gunzip(){var e=this;return(0,ee.Z)(function*(){for(;0===e.nativeContext.Continue();)yield new Promise(t=>setTimeout(t,0));return-1!==e.nativeContext.GetState()||(console.error(`gunzip failed: ${e.nativeContext.GetError()}`),!1)})()}getDecompressedData(){const e=this.nativeContext.GetUncompressedSize(),t=this.nativeContext.GetUncompressedData(),r=this.module.getPointer(t);return this.module.HEAPU8.subarray(r,r+e)}}class $b{constructor(e,t){this.module=e,this.uncompressedDataSize=t;const r=new e.FSTools,o=r.Malloc(t);this.uncompressedDataPtr=e.getPointer(o),e.destroy(r),this.nativeContext=new e.GzipContext(o,t,524288)}static create(e){return(0,ee.Z)(function*(){const t=yield ig()({print:r=>console.log(r),printErr:r=>console.error(r),instantiateWasm:sg});return new $b(t,e)})()}getBuffer(){return this.module.HEAPU8.subarray(this.uncompressedDataPtr,this.uncompressedDataPtr+this.uncompressedDataSize)}setFilename(e){return this.nativeContext.SetFilename(e),this}setMtime(e){return this.nativeContext.SetMtime(e),this}gzip(){var e=this;return(0,ee.Z)(function*(){for(e.nativeContext.Continue();1===e.nativeContext.Continue();)yield new Promise(t=>setTimeout(t,0));return-1!==e.nativeContext.GetState()||(console.error(`gzip failed: ${e.nativeContext.GetError()}`),!1)})()}getGzipData(){const e=this.nativeContext.GetGzipSize(),t=this.nativeContext.GetGzipData(),r=this.module.getPointer(t);return this.module.HEAPU8.subarray(r,r+e)}}var Fr=(()=>{return(n=Fr||(Fr={})).dirty="dirty",n.clean="clean",n.unformatted="unformatted",n.unfixable="unfixable",Fr;var n})(),Vr=(()=>{return(n=Vr||(Vr={})).portrait="portrait",n.landscape90="landscape90",n.landscape270="landscape270",n.portrait180="portrait180",Vr;var n})();class Ja{constructor(e,t,r){this.cloudpilotService=e,this.storageService=t,this.loadingController=r,this.sessions=[],this.loading=!0,this.updateMutex=new Ya,this.updateSessionsFromStorage().then(()=>this.loading=!1),this.storageService.sessionChangeEvent.addHandler(this.updateSessionsFromStorage.bind(this))}isLoading(){return this.loading}addSessionFromImage(e,t,r={}){var o=this;return(0,ee.Z)(function*(){const i={hotsyncName:e.metadata?.hotsyncName,dontManageHotsyncName:!1,speed:1,deviceOrientation:Vr.portrait,...r,id:-1,name:t,device:e.deviceId,ram:(yield o.cloudpilotService.cloudpilot).minRamForDevice(e.deviceId)/1024/1024,rom:"",osVersion:e?.metadata?.osVersion},s=yield o.loadingController.create({message:"Importing..."});yield s.present();const a=yield o.storageService.addSession(i,e.rom,e.memory,e.savestate);return yield o.updateSessionsFromStorage(),yield s.dismiss(),a})()}addSessionFromRom(e,t,r,o={}){var i=this;return(0,ee.Z)(function*(){const s={hotsyncName:"",dontManageHotsyncName:!1,speed:1,deviceOrientation:Vr.portrait,...o,id:-1,name:t,device:r,ram:(yield i.cloudpilotService.cloudpilot).minRamForDevice(r)/1024/1024,rom:""},a=yield i.loadingController.create({message:"Importing..."});yield a.present();const u=yield i.storageService.addSession(s,e);return yield i.updateSessionsFromStorage(),yield a.dismiss(),u})()}getSessions(){return this.sessions}deleteSession(e){var t=this;return(0,ee.Z)(function*(){yield t.storageService.deleteSession(e)})()}updateSession(e){var t=this;return(0,ee.Z)(function*(){yield t.storageService.updateSession(e)})()}updateSessionsFromStorage(){var e=this;return(0,ee.Z)(function*(){e.sessions=yield e.updateMutex.runExclusive((0,ee.Z)(function*(){return(yield e.storageService.getAllSessions()).sort((t,r)=>t.name.localeCompare(r.name))}))})()}}Ja.\u0275fac=function(e){return new(e||Ja)(he(Wi),he(nr),he(Fl))},Ja.\u0275prov=pt({token:Ja,factory:Ja.\u0275fac,providedIn:"root"});var YG=R(7971),KG=R.n(YG),ta=(()=>{return(n=ta||(ta={}))[n.success=0]="success",n[n.zipfileError=1]="zipfileError",n[n.ioError=2]="ioError",n[n.cardFull=3]="cardFull",ta;var n})(),Ll=(()=>{return(n=Ll||(Ll={}))[n.success=0]="success",n[n.ioError=1]="ioError",n[n.cardFull=2]="cardFull",Ll;var n})();function XG(n){return{readonly:0!=(1&n),hidden:0!=(2&n),system:0!=(4&n)}}function Ux(n,e){const t=n.GetName(),r=n.GetModifiedTS();return{path:e,name:t,size:n.GetSize(),lastModifiedTS:r,lastModifiedLocalDate:new Date(1e3*r).toLocaleDateString(),isDirectory:n.IsDirectory(),attributes:XG(n.GetAttributes())}}class Bb{constructor(e){this.module=e,this.vfsNative=new e.Vfs}static create(){return(0,ee.Z)(function*(){return new Bb(yield KG()({print:e=>console.log(e),printErr:e=>console.error(e)}))})()}allocateImage(e){this.vfsNative.AllocateImage(e>>>9)}mountImage(e){return this.vfsNative.MountImage(e)}unmountImage(e){this.vfsNative.UnmountImage(e)}getPendingImage(){const e=this.module.getPointer(this.vfsNative.GetPendingImage()),t=this.vfsNative.GetPendingImageSize();if(0!==e&&0!==t)return this.module.HEAPU32.subarray(e>>>2,e+t>>>2)}getImageInSlot(e){const t=this.module.getPointer(this.vfsNative.GetImage(e)),r=this.vfsNative.GetSize(e);if(0!==t&&0!==r)return this.module.HEAPU32.subarray(t>>>2,t+r>>>2)}getDirtyPagesForSlot(e){const t=this.module.getPointer(this.vfsNative.GetDirtyPages(e));if(0===t)return;const r=Pb(this.vfsNative.GetSize(e));return this.module.HEAPU8.subarray(t,t+r)}readdir(e){const t=new this.module.ReaddirContext(e);try{const r=[];for(;0===t.GetStatus();){const o=t.GetEntry();r.push(Ux(o,`${e.replace(/\/*$/,"")}/${o.GetName()}`)),t.Next()}if(2===t.GetStatus()){console.warn(`readdir failed: ${t.GetErrorDescription()}`);const o=t.GetError();return{error:0===o?2:o,reason:t.GetErrorDescription()}}return{error:0,entries:r}}finally{this.module.destroy(t)}}rename(e,t){return this.vfsNative.RenameFile(e,t)}chmod(e,t){let r=0,o=0,i=(s,a)=>{void 0!==s&&(o|=a,s&&(r|=a))};return i(t.hidden,2),i(t.readonly,1),i(t.system,4),this.vfsNative.ChmodFile(e,r,o)}stat(e){const t=this.vfsNative.StatFile(e);return 0!==t?{result:t,entry:void 0}:{entry:Ux(this.vfsNative.GetEntry(),e),result:t}}bytesFree(e){return this.vfsNative.BytesFree(e)}bytesTotal(e){return this.vfsNative.BytesTotal(e)}readFile(e){if(!this.vfsNative.ReadFile(e))return;const t=this.module.getPointer(this.vfsNative.GetCurrentFileContent()),r=this.vfsNative.GetCurrentFileSize(),o=this.module.HEAPU8.subarray(t,t+r).slice();return this.vfsNative.ReleaseCurrentFile(),o}unlinkFile(e){return this.vfsNative.UnlinkFile(e)}mkdir(e){return this.vfsNative.Mkdir(e)}switchSlot(e){this.vfsNative.SwitchSlot(e)}createZipArchive({files:e,directories:t,prefix:r}){var o=this;return(0,ee.Z)(function*(){const i=new o.module.CreateZipContext(r,25),s=[];try{for(e&&e.forEach(g=>i.AddFile(g)),t&&t.forEach(g=>i.AddDirectory(g));2!==i.GetState();){switch(i.Continue()){case-2:case-1:s.push(i.GetErrorItem())}2!==i.GetState()&&(yield new Promise(g=>setTimeout(g,0)))}let a;const u=o.module.getPointer(i.GetZipContent()),f=i.GetZipSize();return 0!==u&&0!==f&&(a=o.module.HEAPU8.subarray(u,u+f).slice()),{archive:a,failedItems:s}}finally{o.module.destroy(i)}})()}deleteRecursive(e){var t=this;return(0,ee.Z)(function*(){const r=new t.module.DeleteRecursiveContext(25);try{for(e.forEach(o=>r.AddFile(o));1===r.Continue();)yield new Promise(o=>setTimeout(o,0));return 2===r.GetState()?{success:!0}:{success:!1,failingItem:r.GetFailingPath()}}finally{t.module.destroy(r)}})()}writeFile(e,t){const r=this.copyIn(t);try{return this.vfsNative.WriteFile(e,t.length,r)}finally{this.vfsNative.Free(r)}}unzipArchive(e,t,r){var o=this;return(0,ee.Z)(function*(){const i=o.copyIn(t),s=new o.module.UnzipContext(25,e,i,t.length),a=u=>({result:u,entriesTotal:s.GetEntriesTotal(),entriesSuccess:s.GetEntriesSuccess()});try{for(;;)switch(yield new Promise(f=>setTimeout(f,0)),s.GetState()){case 1:return a(ta.success);case-3:return a(ta.cardFull);case-1:return a(ta.ioError);case-2:return a(ta.zipfileError);case 2:(yield r.onFileCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;case 4:(yield r.onDirectoryCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;default:s.Continue()}}finally{o.module.destroy(s),o.vfsNative.Free(i)}})()}paste(e,t,r,o,i){var s=this;return(0,ee.Z)(function*(){const a=new s.module.PasteContext(25,e,t);r.forEach(u=>a.AddFile(u)),a.SetDeleteAfterCopy("cut"===o);try{for(;;)switch(yield new Promise(f=>setTimeout(f,0)),a.GetState()){case 1:return Ll.success;case-2:return Ll.cardFull;case-1:return Ll.ioError;case 2:(yield i.onFileCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;case 4:(yield i.onDirectoryCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;default:a.Continue()}}finally{s.module.destroy(a)}})()}copyIn(e){const t=this.vfsNative.Malloc(e.length),r=this.module.getPointer(t);return this.module.HEAPU8.subarray(r,r+e.length).set(e),t}}var QG=R(5541),jx=R.n(QG);function Gx(n){return 0===n.length?n:n[0].toUpperCase()+n.substring(1)}class na{constructor(e,t,r,o,i,s){this.storageService=e,this.storageCardContext=t,this.fileService=r,this.loadingController=o,this.alertController=i,this.alertService=s,this.onReleaseCard=new Ho.j,this.mountedCards=new Array(2),this.primarySlot=0,this.vfs=Bb.create(),this.directoryCache=new Map,this.bytesFree=0,this.bytesTotal=0,this.clipboard=void 0,this.clipboardSet=new Set,this.vfs.then(a=>this.vfsInstance=a)}setStorageCardService(e){this.storageCardService=e,e.mountCardEvent.addHandler(this.invalidateClipboardForCard.bind(this)),e.deleteCardEvent.addHandler(this.invalidateClipboardForCard.bind(this))}normalizePath(e){return("/"+e).replace(/\/{2,}/g,"/").replace(/\/*$/,"")}splitPath(e){return this.normalizePath(e).replace(/^\/+/,"").split("/")}dirname(e){return this.normalizePath(e).replace(/\/[^\/]*$/,"")}isFilenameValid(e){return void 0===e||!/[\/\\]/.test(e)}isEntryInClipboard(e){if(this.clipboard&&this.clipboard.storageId===this.primaryCard?.storageId)return this.clipboardSet.has(e.path)?this.clipboard.operation:void 0}activateCard(e){var t=this;return(0,ee.Z)(function*(){if(t.primaryCard?.id!==e){if(t.secondaryCard?.id===e)return t.primarySlot=t.secondarySlot,void(yield t.activatePrimaryCard());throw new Error(`card ${e} not mounted in VFS`)}})()}mountCardUnchecked(e,t,r){var o=this;return(0,ee.Z)(function*(){const i=yield o.storageService.getCard(e);if(!i)throw new Error(`no card with id ${e}`);if(o.primaryCard?.id===e||o.secondaryCard?.id===e)throw new Error(`card ${e} already mounted in VFS`);o.storageCardContext.claim(e,Rr.vfs),o.primaryCard&&o.primaryCard.storageId===o.clipboard?.storageId&&(o.primarySlot=o.secondarySlot),o.primaryCard&&(yield o.releaseCard(o.primaryCard.id));const s=yield o.vfs;s.allocateImage(i.size);const a=s.getPendingImage();if(!a)throw new Error("failed to allocate image");return r?a.set(r):yield o.storageService.loadCardData(e,a,Rr.vfs),s.mountImage(o.primarySlot)?(o.primaryCard=i,yield o.activatePrimaryCard(),!0):(o.storageCardContext.release(e,Rr.vfs),!1)})()}releaseCard(e){var t=this;return(0,ee.Z)(function*(){let r;if(t.primaryCard?.id===e)r=t.primarySlot;else{if(t.secondaryCard?.id!==e)return;r=t.secondarySlot}(yield t.vfs).unmountImage(r),t.mountedCards[r]=void 0,t.storageCardContext.release(e,Rr.vfs),t.onReleaseCard.dispatch(e)})()}readdir(e){if(!this.vfsInstance)return[];const t=this.normalizePath(e);if(!this.directoryCache.has(t)){const r=this.vfsInstance.readdir(e);this.directoryCache.set(t,0===r.error?r.entries:[])}return this.directoryCache.get(t)||[]}updateFileEntry(e,t){var r=this;return(0,ee.Z)(function*(){const o=yield r.vfs;if(e=r.normalizePath(e),!r.isFilenameValid(t.name))return void(yield r.error("The provided file name is invalid."));const{result:i,entry:s}=o.stat(e);if(0===i)if(void 0===t.attributes||jx()(t.attributes,s.attributes)||0===(r.directoryCache.delete(r.dirname(e)),o.chmod(e,t.attributes))){if(void 0!==t.name&&t.name!==s.name)switch(r.directoryCache.delete(r.dirname(e)),o.rename(e,`${r.dirname(e)}/${t.name}`)){case 0:break;case 6:return void(yield r.error("The provided file name is invalid."));default:return void(yield r.fatalError("Unable to write the updated file attributes."))}yield r.sync()}else yield r.fatalError("Unable to write the updated file attributes.");else yield r.error(`The path ${e} is invalid. This is a bug in Cloudpilot.`)})()}saveFile(e){var t=this;return(0,ee.Z)(function*(){const r=yield t.loadingController.create();yield r.present();try{const i=(yield t.vfs).readFile(e.path);if(!i)return void(yield t.alertService.errorMessage(`Could not read file '${e.name}'.`));t.fileService.saveFile(e.name,i)}finally{yield r.dismiss()}})()}archiveFiles(e,t){var r=this;return(0,ee.Z)(function*(){if(0===e.length||!r.primaryCard)return;const o=yield r.loadingController.create({message:"Creating archive..."});yield o.present();try{const i=yield r.vfs,s=e.filter(v=>v.isDirectory).map(v=>r.normalizePath(v.path)),a=e.filter(v=>!v.isDirectory).map(v=>r.normalizePath(v.path)),u=1===e.length?`${e[0].name}.zip`:function AG(n){return`files_${rg(n.name)}.zip`}(r.primaryCard),{archive:f,failedItems:g}=yield i.createZipArchive({directories:s,files:a,prefix:t});yield o.dismiss(),g.length>0&&(g.length<=3?yield r.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${g.join("<br>")}`):yield r.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${g.slice(0,3).join("<br>")}<br><br> and ${g.length-3} other file`)),f&&r.fileService.saveFile(u,f)}finally{yield o.dismiss()}})()}unlinkEntry(e){var t=this;return(0,ee.Z)(function*(){if(e.isDirectory)return;const o=(yield t.vfs).unlinkFile(e.path);if(0!==o)return console.error(`failed to unlink ${e.path}: ${o}`),void(yield t.error(`Failed to delete: ${e.path}`));yield t.updateBytesFree(),yield t.sync(),t.directoryCache.delete(t.dirname(e.path))})()}deleteRecursive(e){var t=this;return(0,ee.Z)(function*(){const r=e.map(i=>t.normalizePath(i.path)),o=yield t.loadingController.create({message:"Deleting..."});yield o.present();try{const s=yield(yield t.vfs).deleteRecursive(r);if(!s.success)return yield o.dismiss(),void(yield t.fatalError(`Failed to delete ${s.failingItem}`));yield t.updateBytesFree(),yield t.sync(),e.map(a=>a.path).forEach(a=>t.directoryCache.delete(t.dirname(a)))}finally{yield o.dismiss()}})()}mkdir(e){var t=this;return(0,ee.Z)(function*(){switch((yield t.vfs).mkdir(e)){case 6:return void(yield t.alertService.errorMessage("Invalid name."));case 7:return void(yield t.alertService.errorMessage("No space left on card."));case 8:return void(yield t.alertService.errorMessage("Name already taken."));case 0:break;default:return void(yield t.error(`Failed to create ${e}.`))}yield t.updateBytesFree(),yield t.sync(),t.directoryCache.delete(t.dirname(e))})()}getBytesFree(){return this.bytesFree}getBytesTotal(){return this.bytesTotal}isClipboardPopulated(){if(!this.clipboard||!this.storageCardService)return!1;const e=this.storageCardService.getAllCards().find(t=>t.storageId===this.clipboard?.storageId);return!!e&&(e.status===Fr.clean||e.status===Fr.dirty&&!!e.dontFsckAutomatically)}invalidateClipboardForCard(e){this.clipboard?.storageId===e.storageId&&(this.clipboard=void 0,this.clipboardSet.clear())}copyToClipboard(e,t,r){this.primaryCard&&(this.clipboard&&this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)),this.clipboard={operation:r,prefix:this.normalizePath(e),storageId:this.primaryCard.storageId,items:t.map(o=>({name:o,path:this.normalizePath(`${e}/${o}`)}))},this.clipboardSet.clear(),this.clipboard.items.map(o=>o.path).forEach(o=>this.clipboardSet.add(o)),this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)))}unpackArchive(e,t){var r=this;return(0,ee.Z)(function*(){const o=yield r.loadingController.create();yield o.present();try{const{entriesTotal:i,entriesSuccess:s,result:a}=yield r.unpackArchiveUnchecked(e,t);let u,f;switch(yield o.dismiss(),a){case ta.success:u="The archive was extracted successfully, but some entries were skipped.",f="Skipped entries";break;case ta.ioError:return void(yield r.fatalError("There was an error writing to the card."));case ta.cardFull:u="No space left on card.",f="No space left";break;case ta.zipfileError:u="There was an error reading from the archive.",f="Error reading archive";break;default:throw new Error("unreachable")}const g=i-s,v=D=>D>1?`${D} entries`:"one entry";i>0&&g===i&&(yield r.alertService.message(f,`\n                    ${u}\n                    <br><br>\n                    The archive contains ${v(i)}, but none could be unpacked.\n                `)),g>0&&s>0&&(yield r.alertService.message(f,`\n                    ${u}\n                    <br><br>\n                    ${Gx(v(s))} unpacked succesfully, but ${v(g)} could not be unpacked.\n                `))}finally{o.dismiss()}})()}paste(e){var t=this;return(0,ee.Z)(function*(){if(!t.isClipboardPopulated())return;const r=yield t.loadingController.create();yield r.present();try{const o=yield t.pasteUnchecked(e);switch(yield r.dismiss(),o){case Ll.cardFull:yield t.alertService.message("No space left","No space left on card.");break;case Ll.ioError:return void(yield t.fatalError("There was an error copying files to the card."))}}catch(o){yield t.alertService.errorMessage(o?.message||"Unknown error.")}finally{r.dismiss()}})()}addFiles(e,t){var r=this;return(0,ee.Z)(function*(){if(0===e.length)return;const o=yield r.loadingController.create();yield o.present();try{const i=yield r.addFilesUnchecked(e,t);yield o.dismiss();const s=a=>a>1?`${a} entries`:"one file";i.length===e.length?yield r.alertService.message("Skipped files","No files were added to the card."):0!==i.length&&(yield r.alertService.message("Skipped files",`Successfully added ${s(e.length-i.length)} to card. ${Gx(s(i.length))} could not be added.\n                `))}finally{o.dismiss()}})()}addFilesUnchecked(e,t){var r=this;return(0,ee.Z)(function*(){const o=r.readdir(t),i=[],s=yield r.vfs;let a=!1,u=!1,f=!1,g=!1;e:for(let v=0;v<e.length;v++){const D=e[v],T=o.find(me=>me.name===D.name);if(T&&T.isDirectory){if(!f){const{overwrite:je,rememberChoice:Ye}=yield r.overwriteFileDialog(D.name,"directory");g=je,f=Ye}let me=!0;if(g&&(me=!(yield s.deleteRecursive([r.normalizePath(`${t}/${D.name}`)])).success),me){i.push(D.name);continue}}if(T&&!T.isDirectory){if(!a){const{overwrite:me,rememberChoice:je}=yield r.overwriteFileDialog(D.name,"file");u=me,a=je}if(!u){i.push(D.name);continue}}let K;try{K=yield D.getContent()}catch(me){console.warn(me),i.push(D.name),yield r.alertService.errorMessage(`Unable to open ${D.name}`);continue}switch(s.writeFile(r.normalizePath(`${t}/${D.name}`),K)){case 3:yield r.alertService.errorMessage("Card full."),i.push(...e.slice(v).map(me=>me.name));break e;case 4:throw yield r.fatalError("Unable to write file."),new Error;case 0:break;default:i.push(D.name)}}return yield r.updateBytesFree(),yield r.sync(),r.directoryCache.delete(r.normalizePath(t)),i})()}collisionHandlers(){var e=this;let t=!1,r=!1,o=!1,i=!1;return{onFileCollision:(s=(0,ee.Z)(function*(a){if(r)return t;const{overwrite:u,rememberChoice:f}=yield e.overwriteFileDialog(a,"file");return t=u,r=f,t}),function(u){return s.apply(this,arguments)}),onDirectoryCollision:function(){var s=(0,ee.Z)(function*(a){if(i)return o;const{overwrite:u,rememberChoice:f}=yield e.overwriteFileDialog(a,"directory");return o=u,i=f,o});return function(u){return s.apply(this,arguments)}}()};var s}unpackArchiveUnchecked(e,t){var r=this;return(0,ee.Z)(function*(){const i=yield(yield r.vfs).unzipArchive(r.normalizePath(t),e,{...r.collisionHandlers(),onInvalidEntry:(s=(0,ee.Z)(function*(a){yield r.alertService.message("Invalid entry",`Could not extract ${a}`,{},"Continue")}),function(u){return s.apply(this,arguments)})});var s;return i.result!==ta.ioError&&(yield r.updateBytesFree(),yield r.sync(),r.directoryCache.clear()),i})()}pasteUnchecked(e){var t=this;return(0,ee.Z)(function*(){if(!t.clipboard||!t.primaryCard)throw new Error("invalid state for paste");const r=yield t.mountClipboard(),i=yield(yield t.vfs).paste(`${t.primarySlot}:${t.normalizePath(e)}`,`${r}:${t.normalizePath(t.clipboard.prefix)}`,t.clipboard.items.map(s=>s.name),t.clipboard.operation,t.collisionHandlers());return i===Ll.ioError||(yield t.updateBytesFree(),yield t.sync(t.primarySlot),r!==t.primarySlot&&(yield t.sync(r)),t.directoryCache.clear(),"cut"===t.clipboard.operation&&(t.clipboard=void 0,t.clipboardSet.clear())),i})()}mountClipboard(){var e=this;return(0,ee.Z)(function*(){if(!e.clipboard||!e.primaryCard||!e.storageCardService)throw new Error("invalid state for paste");if(e.clipboard.storageId===e.primaryCard.storageId)return e.primarySlot;if(e.secondaryCard&&e.clipboard.storageId===e.secondaryCard.storageId)return e.secondarySlot;e.secondaryCard&&(yield e.releaseCard(e.secondaryCard.id));const t=e.storageCardService.getAllCards().find(i=>i.storageId===e.clipboard?.storageId);if(!t)throw new Error("invalid storage card in clipboard");const r=yield e.vfs;r.allocateImage(t.size);const o=r.getPendingImage();if(!o)throw new Error("failed to allocate image");if(e.storageCardContext.claim(t.id,Rr.vfs),yield e.storageService.loadCardData(t.id,o,Rr.vfs),!r.mountImage(e.secondarySlot))throw e.storageCardContext.release(t.id,Rr.vfs),new Error("unable to mount card");return e.secondaryCard=t,e.secondarySlot})()}overwriteFileDialog(e,t){var r=this;return(0,ee.Z)(function*(){let o=!1,i=!1;const s=yield r.alertController.create({header:"File collision",backdropDismiss:!1,cssClass:"alert-checkbox-no-border installation-error",message:"file"===t?`Do you want to overwrite the existing file ${e}?`:`\n                    Do you want to overwrite the existing directory ${e}?\n                    <br><br>\n                    WARNING: All files in this directory will be lost.\n                    `,buttons:[{text:"No",role:"cancel"},{text:"Yes",handler:()=>o=!0}],inputs:[{type:"checkbox",label:"Remember choice",checked:!1,handler:a=>i=!0===a.checked,cssClass:"alert-checkbox"}]});return yield s.present(),yield s.onDidDismiss(),{overwrite:o,rememberChoice:i}})()}error(e){var t=this;return(0,ee.Z)(function*(){yield t.alertService.errorMessage(e)})()}fatalError(e){var t=this;return(0,ee.Z)(function*(){t.primaryCard&&(yield t.storageService.updateStorageCardPartial(t.primaryCard.id,{status:Fr.dirty}),yield t.releaseCard(t.primaryCard.id),t.alertService.errorMessage(`${e}\n        <br><br>\n        No changes have been written, and the card has been unmounted to prevent damage to the file system.\n        `))})()}sync(e=this.primarySlot){var t=this;return(0,ee.Z)(function*(){const r=t.mountedCards[e];if(!r)return;const o=yield t.vfs,i=o.getImageInSlot(e),s=o.getDirtyPagesForSlot(e);!i||!s||(yield t.storageService.updateCardData(r.id,i,s,Rr.vfs),s.fill(0))})()}activatePrimaryCard(){var e=this;return(0,ee.Z)(function*(){const t=yield e.vfs;t.switchSlot(e.primarySlot),e.bytesFree=t.bytesFree(e.primarySlot),e.bytesTotal=t.bytesTotal(e.primarySlot),e.directoryCache.clear()})()}updateBytesFree(){var e=this;return(0,ee.Z)(function*(){e.bytesFree=(yield e.vfs).bytesFree(e.primarySlot)})()}get secondarySlot(){return 1-this.primarySlot}get primaryCard(){return this.mountedCards[this.primarySlot]}set primaryCard(e){this.mountedCards[this.primarySlot]=e}get secondaryCard(){return this.mountedCards[this.secondarySlot]}set secondaryCard(e){this.mountedCards[this.secondarySlot]=e}}na.\u0275fac=function(e){return new(e||na)(he(nr),he(Ka),he(Bs),he(Fl),he(zc),he(eo))},na.\u0275prov=pt({token:na,factory:na.\u0275fac,providedIn:"root"});var Io=(()=>{return(n=Io||(Io={}))[n.mb4=0]="mb4",n[n.mb8=1]="mb8",n[n.mb16=2]="mb16",n[n.mb32=3]="mb32",n[n.mb64=4]="mb64",n[n.mb128=5]="mb128",Io;var n})();function Hx(){return kb().replace(/-/g,"")}class ba{constructor(e,t,r,o,i,s,a,u,f,g,v){this.sessionService=e,this.storageService=t,this.emulationStateService=r,this.cloudpilotService=o,this.loadingController=i,this.snapshotService=s,this.alertService=a,this.errorService=u,this.fileService=f,this.vfsService=g,this.storageCardContext=v,this.mountCardEvent=new Ho.j,this.deleteCardEvent=new Ho.j,this.loading=!0,this.cards=[],this.updateMutex=new Ya,this.vfsService.setStorageCardService(this),this.updateCardsFromDB().then(()=>this.loading=!1),t.storageCardChangeEvent.addHandler(()=>this.updateCardsFromDB())}getAllCards(){return this.cards}createEmptyCard(e,t,r){var o=this;return(0,ee.Z)(function*(){const i=yield o.loadingController.create({message:"Formatting..."});try{yield i.present();const s=yield function ZG(n){return Fb.apply(this,arguments)}(function JG(n){switch(n){case Io.mb4:return 4;case Io.mb8:return 8;case Io.mb16:return 16;case Io.mb32:return 32;case Io.mb64:return 64;case Io.mb128:return 128;default:throw new Error(`bad card size ${n}`)}}(t));if(!s)throw new Error("failed to create image");const a={storageId:Hx(),name:e,size:4*s.length,status:Fr.clean,dontFsckAutomatically:r};return yield o.storageService.importStorageCard(a,s)}finally{i.dismiss()}})()}createCardFromImage(e,t,r){var o=this;return(0,ee.Z)(function*(){const i={storageId:Hx(),name:e,size:t.length,status:Fr.clean,dontFsckAutomatically:r},s=new Uint32Array(t.buffer,t.byteOffset,t.byteLength>>>2),a=yield o.loadingController.create({message:"Importing..."});try{if(r)yield a.present(),yield o.storageService.importStorageCard(i,s);else{const[u,f]=yield o.fsckNewCard(s,i);yield a.present(),yield o.storageService.importStorageCard(f,u)}}finally{a.dismiss()}})()}onEmulatorStop(){const e=this.emulationStateService.getCurrentSession()?.mountedCard;void 0!==e&&this.storageCardContext.release(e,Rr.cloudpilot)}loadCardInEmulator(e,t){var r=this;return(0,ee.Z)(function*(){const o=yield r.storageService.getCard(e);if(!o)throw new Error(`no card with id ${e}`);yield r.vfsService.releaseCard(e);const i=yield r.cloudpilotService.cloudpilot;if(i.getMountedKey())throw new Error("attempt to mount a card while another card is mounted");if(!i.allocateCard(o.storageId,o.size))throw new Error("failed to allocate card");const s=i.getCardData(o.storageId);if(!s)throw new Error("failed to access card data");return r.storageCardContext.claim(e,Rr.cloudpilot),t?s.set(t):yield r.storageService.loadCardData(o.id,s,Rr.cloudpilot),o})()}ejectCurrentCard(){var e=this;return(0,ee.Z)(function*(){const t=e.emulationStateService.getCurrentSession();if(!t)throw new Error("no running session");const r=t?.mountedCard;if(void 0===r)throw new Error("no mounted card");const o=yield e.storageService.getCard(r);if(!o)throw new Error(`no card with id ${r}`);yield e.storageService.updateStorageCardPartial(r,{status:Fr.dirty}),yield e.snapshotService.waitForPendingSnapshot(),yield e.snapshotService.triggerSnapshot(),yield e.storageService.updateSessionPartial(t.id,{mountedCard:void 0}),(yield e.cloudpilotService.cloudpilot).removeCard(o.storageId),e.snapshotService.resetCard(),e.storageCardContext.release(r,Rr.cloudpilot)})()}checkCard(e){var t=this;return(0,ee.Z)(function*(){const r=t.mountedInSession(e.id);if(r){let i=!1;if(yield t.alertService.message("Card is attached",`This card needs to be ejected from session '${r.name}' before it can be checked.`,{"Eject now":()=>i=!0},"Cancel"),!i)return;yield t.ejectCard(e.id)}const o=yield t.executeFsckAndUpdateCard(e.id);switch(o.getResult()){case 1:return void t.alertService.cardIsClean();case 3:return void t.alertService.cardHasNoValidFileSystem();case 4:t.alertService.cardHasUncorrectableErrors();break;case 2:{let i=!1;return yield t.alertService.message("Filesystem errors",`The filesystem on this card contains errors${e.dontFsckAutomatically?"":"  that need to be fixed before it can be used"}. Do you want to fix them now?`,{"Fix now":()=>i=!0},"Cancel"),void(i?yield t.applyFsckResult(e.id,o):t.storageCardContext.release(e.id,Rr.fstools))}}})()}insertCard(e){return this.checkAndClaimCard(e,"insert")}browseCard(e){var t=this;return(0,ee.Z)(function*(){if(t.storageCardContext.getOwner(e.id)===Rr.vfs)return yield t.vfsService.activateCard(e.id),!0;const r=t.mountedInSession(e.id);if(r){let o=!1;if(yield t.alertService.message("Card is attached",`This card needs to be ejected from session '${r.name}' before it can be browsed.`,{"Eject now":()=>o=!0},"Cancel"),!o)return!1;yield t.ejectCard(e.id)}return t.checkAndClaimCard(e.id,"vfs")})()}updateCard(e,t){var r=this;return(0,ee.Z)(function*(){const o=yield r.storageService.getCard(e);if(!o)throw new Error(`no card with id ${e}`);return!t.dontFsckAutomatically&&o.dontFsckAutomatically&&(t.status=Fr.dirty),r.storageService.updateStorageCardPartial(e,t)})()}deleteCard(e){var t=this;return(0,ee.Z)(function*(){const r=yield t.loadingController.create();yield r.present();try{const o=t.cards.find(i=>i.id===e);yield t.vfsService.releaseCard(e),yield t.ejectCard(e),yield t.storageService.deleteStorageCard(e),o&&t.deleteCardEvent.dispatch(o)}finally{r.dismiss()}})()}saveCard(e,t,r){var o=this;return(0,ee.Z)(function*(){const i=yield o.getCard(e);if(!i)throw new Error(`no card with id ${e}`);const s=yield o.loadingController.create({message:"Exporting..."});let a,u=r?yield $b.create(i.size):void 0;if(u){let f=u.getBuffer();a=new Uint32Array(f.buffer,f.byteOffset,f.byteLength>>2)}try{yield s.present();const f=o.mountedInSession(e);let g;if(f&&f.id===o.emulationStateService.getCurrentSession()?.id&&(yield o.snapshotService.waitForPendingSnapshot(),yield o.snapshotService.triggerSnapshot(),g=(yield o.cloudpilotService.cloudpilot).getCardData(i.storageId),g&&(a?a.set(g):a=g)),g||(a||(a=new Uint32Array(i.size>>>2)),yield o.storageService.loadCardData(i.id,a,o.storageCardContext.getOwner(e))),u){if(u.setFilename(t).setMtime(Math.floor(Date.now()/1e3)),!(yield u.gzip()))return void o.alertService.errorMessage("Failed to compress card image.");t+=".gz"}}finally{s.dismiss()}o.fileService.saveFile(t,u?u.getGzipData():new Uint8Array(a.buffer,a.byteOffset,a.length<<2))})()}getCard(e){var t=this;return(0,ee.Z)(function*(){return t.storageService.getCard(e)})()}mountedInSession(e){return this.sessionService.getSessions().find(t=>t.mountedCard===e)}isLoading(){return this.loading}updateCardsFromDB(){var e=this;return(0,ee.Z)(function*(){e.cards=yield e.updateMutex.runExclusive((0,ee.Z)(function*(){return(yield e.storageService.getAllStorageCards()).sort((t,r)=>t.name.localeCompare(r.name))}))})()}cardIsMounted(e){var t=this;return(0,ee.Z)(function*(){return(yield t.storageService.getAllSessions()).some(o=>o.mountedCard===e)})()}checkAndClaimCard(e,t){var r=this;return(0,ee.Z)(function*(){if(yield r.cardIsMounted(e))throw new Error("card already mounted");let o=yield r.getCard(e);if(!o)throw new Error(`no card with id ${e}`);let i,s=!0,a=!1;if(!o.dontFsckAutomatically){if(o.status===Fr.dirty){if(i=yield r.executeFsckAndUpdateCard(e),2===i.getResult()){if(s=!1,yield r.alertService.message("Filesystem errors",`The filesystem on this card contains errors that have to fixed before it can be ${"insert"===t?"inserted":"browsed"}. Do you want to fix them now?`,{"Fix now":()=>s=!0},"Cancel"),!s)return r.storageCardContext.release(e,Rr.fstools),!1;yield r.applyFsckResult(o.id,i)}if(o=yield r.getCard(e),!o)throw new Error(`no card with id ${e}`)}switch(o.status){case Fr.clean:break;case Fr.unformatted:if("vfs"===t)return yield r.alertService.message("Card unformatted","This card is unformatted and cannot be browsed. Insert it into a device and format it."),!1;case Fr.dirty:return yield r.alertService.message("Card requires check",`This card needs to be checked before it can be ${"insert"===t?"inserted":"browsed"}.`),!1;case Fr.unfixable:if(s=!1,a=!0,yield r.alertService.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors. Writing could cause further damage. Do you want to insert it nevertheless?",{"Insert card":()=>s=!0},"Cancel"),!s)return!1;break;default:throw new Error("unreachable: bad card status")}}try{"insert"===t?(yield r.vfsService.releaseCard(e),yield r.mountCardInEmulator(e,i?.getImageData())):(yield r.mountCardForBrowsing(e,a,i?.getImageData()))||(yield r.alertService.message("Failed to mount card","The card could not be mounted for browsing."))}catch(u){return r.errorService.fatalBug(u instanceof Error?u.message:"mount failed"),!1}return!0})()}executeFsckAndUpdateCard(e){var t=this;return(0,ee.Z)(function*(){const r=yield t.loadingController.create({message:"Checking card..."});try{if(yield r.present(),yield t.cardIsMounted(e))throw new Error("attempt to fsck a mounted card");const o=yield t.storageService.getCard(e);if(!o)throw new Error(`no card with id ${e}`);yield t.vfsService.releaseCard(e),t.storageCardContext.claim(e,Rr.fstools);const i=yield ag.create(o.size);switch(yield t.storageService.loadCardData(o.id,i.getImageData(),Rr.fstools),i.fsck()){case 1:yield t.storageService.updateStorageCardPartial(e,{status:Fr.clean}),t.storageCardContext.release(e,Rr.fstools);break;case 3:yield t.storageService.updateStorageCardPartial(e,{status:Fr.unformatted}),t.storageCardContext.release(e,Rr.fstools);break;case 2:yield t.storageService.updateStorageCardPartial(e,{status:Fr.dirty});break;case 4:yield t.storageService.updateStorageCardPartial(e,{status:Fr.unfixable}),t.storageCardContext.release(e,Rr.fstools);break;default:throw new Error("unrachable: invalid fsck result")}return i}finally{r.dismiss()}})()}applyFsckResult(e,t){var r=this;return(0,ee.Z)(function*(){if(2!==t.getResult())return;const o=yield r.loadingController.create({message:"Fixing errors..."});try{yield o.present(),yield r.storageService.updateCardData(e,t.getImageData(),t.getDirtyPages(),Rr.fstools),yield r.storageService.updateStorageCardPartial(e,{status:Fr.clean}),r.storageCardContext.release(e,Rr.fstools)}finally{o.dismiss()}})()}fsckNewCard(e,t){var r=this;return(0,ee.Z)(function*(){const o=yield r.loadingController.create({message:"Checking card..."});let i,s;try{yield o.present(),i=yield ag.create(t.size),i.getImageData().set(e),s=i.fsck()}finally{o.dismiss()}switch(s){case 1:return[e,{...t,status:Fr.clean}];case 2:{let a=!1;return yield r.alertService.message("Filesystem errors","The filesystem on this card contains errors that must be fixed before the card can be used. Do you want to fix them now?",{"Fix now":()=>a=!0},"Skip"),a?[i.getImageData(),{...t,status:Fr.clean}]:[e,{...t,status:Fr.dirty}]}case 3:return yield r.alertService.cardHasNoValidFileSystem(),[e,{...t,status:Fr.unformatted}];case 4:return yield r.alertService.cardHasUncorrectableErrors(),[e,{...t,status:Fr.unfixable}];default:throw new Error("unreachable: bad fsck result")}})()}ejectCard(e){var t=this;return(0,ee.Z)(function*(){const r=t.mountedInSession(e),o=yield t.storageService.getCard(e);!r||!o||(r.id===t.emulationStateService.getCurrentSession()?.id?yield t.ejectCurrentCard():(yield t.storageService.updateSessionPartial(r.id,{mountedCard:void 0}),yield t.storageService.updateStorageCardPartial(e,{status:Fr.dirty})))})()}mountCardInEmulator(e,t){var r=this;return(0,ee.Z)(function*(){if(yield r.cardIsMounted(e))throw new Error("card already mounted");const o=yield r.loadingController.create({message:"Inserting..."});try{yield o.present(),yield r.vfsService.releaseCard(e);const i=r.emulationStateService.getCurrentSession();if(!i)throw new Error("no current session");if(void 0!==i.mountedCard)throw new Error("session already has a mounted card");const s=yield r.loadCardInEmulator(e,t),a=yield r.cloudpilotService.cloudpilot;if(yield r.storageService.updateStorageCardPartial(e,{status:Fr.dirty}),yield r.storageService.updateSessionPartial(i.id,{mountedCard:e}),!a.mountCard(s.storageId))throw a.removeCard(s.storageId),new Error("failed to mount card");return r.mountCardEvent.dispatch(s),s}finally{o.dismiss()}})()}mountCardForBrowsing(e,t,r){var o=this;return(0,ee.Z)(function*(){const i=yield o.loadingController.create({message:"Mounting..."});try{return yield i.present(),yield o.vfsService.mountCardUnchecked(e,t,r)}finally{i.dismiss()}})()}}ba.\u0275fac=function(e){return new(e||ba)(he(Ja),he(nr),he(Ss),he(Wi),he(Fl),he(Qa),he(eo),he(ea),he(Bs),he(na),he(Ka))},ba.\u0275prov=pt({token:ba,factory:ba.\u0275fac,providedIn:"root"});class as extends EG{constructor(e,t,r,o,i,s,a,u,f,g,v,D,T,K,me,je,Ye,yt){var Oe;super(),Oe=this,this.storageService=e,this.ngZone=t,this.loadingController=r,this.emulationState=o,this.snapshotService=i,this.errorService=s,this.fileService=a,this.alertService=u,this.modalWatcher=f,this.clipboardService=g,this.kvsService=v,this.proxyService=D,this.buttonService=T,this.bootstrapService=K,this.cloudpilotService=me,this.storageCardService=je,this.storageCardContext=Ye,this.app=yt,this.switchSession=gn=>this.mutex.runExclusive((0,ee.Z)(function*(){if(gn===Oe.emulationState.getCurrentSession()?.id)return!0;yield Oe.stopUnchecked(),yield Oe.bootstrapService.hasRendered();const Zn=yield Oe.loadingController.create({message:"Loading..."});yield Zn.present();try{const Ds=yield Oe.storageService.getSession(gn);if(!Ds)throw new Error(`invalid session ${gn}`);Oe.emulationState.setCurrentSession(void 0);const ug=yield Oe.cloudpilotService.cloudpilot;if(!(yield Oe.restoreSession(Ds,ug)))return Oe.alertService.errorMessage("Failed to launch session. This may be the result of a bad ROM file."),!1;Oe.emulationState.setCurrentSession(Ds),function Aj(n){localStorage.setItem(Xm,n+"")}(gn)}finally{yield Zn.dismiss()}return!0})),this.resume=()=>this.mutex.runExclusive((0,ee.Z)(function*(){!Oe.emulationState.getCurrentSession()||Oe.running||Oe.errorService.hasFatalError()||!Oe.cloudpilotInstance||(yield Oe.kvsService.mutex.runExclusive(()=>Oe.updateFeatures()),Oe.doResume(),Oe.lastSnapshotAt=performance.now())})),this.pause=()=>this.mutex.runExclusive((0,ee.Z)(function*(){Oe.doPause(),!Oe.errorService.hasFatalError()&&Oe.emulationState.getCurrentSession()&&(yield Oe.snapshotService.waitForPendingSnapshot(),yield Oe.snapshotService.triggerSnapshot())})),this.stop=()=>this.mutex.runExclusive(()=>this.stopUnchecked()),this.onSessionChange=([gn,Zn])=>this.mutex.runExclusive((0,ee.Z)(function*(){const Ds=Oe.emulationState.getCurrentSession();gn===Ds?.id&&(void 0!==Ds.mountedCard&&void 0===Zn&&Oe.storageCardContext.release(Ds.mountedCard,Rr.cloudpilot),Oe.emulationState.setCurrentSession(Zn),Oe.emulationState.getCurrentSession()||(_x(),Oe.stopLoop()))})),this.onEmergencySave=()=>this.mutex.runExclusive((0,ee.Z)(function*(){const gn=Oe.emulationState.getCurrentSession();gn&&Oe.fileService.emergencySaveSession(gn,yield Oe.cloudpilotService.cloudpilot)})),this.mutex=new Ya,this.lastSnapshotAt=0,e.sessionChangeEvent.addHandler(this.onSessionChange),s.fatalErrorEvent.addHandler(this.pause),this.alertService.emergencySaveEvent.addHandler(this.onEmergencySave),this.cloudpilotService.cloudpilot.then(gn=>{gn.fatalErrorEvent.addHandler(this.errorService.fatalInNativeCode),this.proxyService.initialize(gn),this.proxyService.resumeEvent.addHandler(()=>this.running&&this.advanceEmulation(performance.now()))});const At=function Tj(){const n=localStorage.getItem(Xm);return n?parseInt(n,10):void 0}();this.bootstrapCompletePromise=Promise.resolve(),void 0!==At&&!GD()&&(this.bootstrapCompletePromise=this.recoverStoredSession(At))}bootstrapComplete(){return this.bootstrapCompletePromise}getConfiguredSpeed(){return this.emulationState.getCurrentSession()?.speed||1}manageHotsyncName(){return!this.emulationState.getCurrentSession()?.dontManageHotsyncName}getConfiguredHotsyncName(){return this.emulationState.getCurrentSession()?.hotsyncName}updateConfiguredHotsyncName(e){const t=this.emulationState.getCurrentSession();t&&this.storageService.updateSessionPartial(t.id,{hotsyncName:e})}getConfiguredSchdedulerKind(){return this.kvsService.kvs.runHidden?uc.timeout:uc.animationFrame}hasFatalError(){return this.errorService.hasFatalError()}skipEmulationUpdate(){return this.modalWatcher.isModalActive()&&0!==this.frameCounter}onAfterAdvanceEmulation(e,t){if(!this.cloudpilotInstance)return;const r=this.emulationState.getCurrentSession();this.uiInitialized&&r&&void 0===r.osVersion&&this.storageService.updateSessionPartial(r.id,{osVersion:this.cloudpilotInstance.getOSVersion()}),this.buttonService.tick(t/this.cloudpilotInstance.cyclesPerSecond()),e-this.lastSnapshotAt>1e3&&!this.cloudpilotInstance.isSuspended()&&(this.snapshotService.triggerSnapshot(),this.lastSnapshotAt=e),this.isDirty&&this.app.tick()}handleSuspend(){this.cloudpilotInstance&&(this.clipboardService.handleSuspend(this.cloudpilotInstance),this.proxyService.handleSuspend())}callScheduler(){this.ngZone.runOutsideAngular(()=>this.scheduler.schedule())}stopUnchecked(){var e=this;return(0,ee.Z)(function*(){e.emulationState.getCurrentSession()&&(e.doStop(),yield e.snapshotService.waitForPendingSnapshot(),e.storageCardService.onEmulatorStop(),e.emulationState.setCurrentSession(void 0))})()}updateFeatures(){if(!this.cloudpilotInstance)return;const e=this.kvsService.kvs.clipboardIntegration&&this.clipboardService.isSupported();this.cloudpilotInstance.getClipboardIntegration()!==e&&this.cloudpilotInstance.setClipboardIntegration(e),this.cloudpilotInstance.getNetworkRedirection()!==this.kvsService.kvs.networkRedirection&&(this.cloudpilotInstance.setNetworkRedirection(this.kvsService.kvs.networkRedirection),this.proxyService.reset()),this.cloudpilotInstance.setHotsyncNameManagement(!this.emulationState.getCurrentSession()?.dontManageHotsyncName)}recoverStoredSession(e){var t=this;return(0,ee.Z)(function*(){try{yield t.switchSession(e)}catch{ya&&t.alertService.message("Possible iOS bug","It seems that you hit an iOS bug that ocassionally\ncauses the database to come up empty when the app starts. If this happens to you, please force close\nthe app in the app switcher and reopen it; your data will be back on the second attempt.\n<br/><br/>\nSorry for the inconvenience.")}})()}restoreSession(e,t){var r=this;return(0,ee.Z)(function*(){const[o,i,s]=yield r.storageService.loadSession(e);if(!o)throw new Error(`invalid ROM ${e.rom}`);return t.clearExternalStorage(),void 0!==e.mountedCard&&(yield r.storageCardService.loadCardInEmulator(e.mountedCard)),!!r.openSession(t,o,e.device,i,s)&&(r.proxyService.reset(),r.buttonService.reset(t),yield r.snapshotService.initialize(e,yield r.cloudpilotService.cloudpilot),!0)})()}}as.\u0275fac=function(e){return new(e||as)(he(nr),he(ut),he(Fl),he(Ss),he(Qa),he(ea),he(Bs),he(eo),he(pc),he(Kc),he(ii),he(hc),he(Xc),he(Qc),he(Wi),he(ba),he(Ka),he(ql))},as.\u0275prov=pt({token:as,factory:as.\u0275fac,providedIn:"root"});const mc=new Ct($),r6={connector:()=>new et};function zx(n,e=r6){const{connector:t}=e;return z((r,o)=>{const i=t();mn(n(function n6(n){return new Ct(e=>n.subscribe(e))}(i))).subscribe(o),o.add(r.subscribe(i))})}function Wx(n,e){return e?t=>Vf(e.pipe(Ls(1),function s6(){return z((n,e)=>{n.subscribe(Ce(e,$))})}()),t.pipe(Wx(n))):_r((t,r)=>mn(n(t,r)).pipe(Ls(1),Ov(t)))}const _p="Service workers are disabled or not supported by this browser";class cg{constructor(e){if(this.serviceWorker=e,e){const r=Bf(e,"controllerchange").pipe(Pe(()=>e.controller)),i=Vf(ym(()=>dn(e.controller)),r);this.worker=i.pipe(Si(g=>!!g)),this.registration=this.worker.pipe(Ei(()=>e.getRegistration()));const f=Bf(e,"message").pipe(Pe(g=>g.data)).pipe(Si(g=>g&&g.type)).pipe(function i6(n){return n?e=>zx(n)(e):e=>function o6(n,e){const t=E(n)?n:()=>n;return E(e)?zx(e,{connector:t}):r=>new Rv(r,t)}(new et)(e)}());f.connect(),this.events=f}else this.worker=this.events=this.registration=function l6(n){return ym(()=>Zu(new Error(n)))}(_p)}postMessage(e,t){return this.worker.pipe(Ls(1),Di(r=>{r.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){const o=this.waitForOperationCompleted(r),i=this.postMessage(e,t);return Promise.all([i,o]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(Si(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(Ls(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Si(t=>t.nonce===e),Ls(1),Pe(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let c6=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new et,!t.isEnabled)return this.messages=mc,this.notificationClicks=mc,void(this.subscription=mc);this.messages=this.sw.eventsOfType("PUSH").pipe(Pe(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Pe(o=>o.data)),this.pushManager=this.sw.registration.pipe(Pe(o=>o.pushManager));const r=this.pushManager.pipe(Ei(o=>o.getSubscription()));this.subscription=_i(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(_p));const r={userVisibleOnly:!0};let o=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),i=new Uint8Array(new ArrayBuffer(o.length));for(let s=0;s<o.length;s++)i[s]=o.charCodeAt(s);return r.applicationServerKey=i,this.pushManager.pipe(Ei(s=>s.subscribe(r)),Ls(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Ls(1),Ei(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(_p))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(he(cg))},n.\u0275prov=pt({token:n,factory:n.\u0275fac}),n})(),Vb=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=mc,this.available=mc,this.activated=mc,void(this.unrecoverable=mc);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(Si(r=>"VERSION_READY"===r.type),Pe(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(_p));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(_p));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(he(cg))},n.\u0275prov=pt({token:n,factory:n.\u0275fac}),n})();class Ub{}const Zx=new en("NGSW_REGISTER_SCRIPT");function u6(n,e,t,r){return()=>{if(!Yl(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let o;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)o=t.registrationStrategy();else{const[s,...a]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":o=dn(null);break;case"registerWithDelay":o=qx(+a[0]||0);break;case"registerWhenStable":o=a[0]?_i(Yx(n),qx(+a[0])):Yx(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(ut).runOutsideAngular(()=>o.pipe(Ls(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function qx(n){return dn(null).pipe(function a6(n,e=cx){const t=ux(n,e);return Wx(()=>t)}(n))}function Yx(n){return n.get(ql).isStable.pipe(Si(t=>t))}function d6(n,e){return new cg(Yl(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let f6=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[{provide:Zx,useValue:t},{provide:Ub,useValue:r},{provide:cg,useFactory:d6,deps:[Ub,Uu]},{provide:Rc,useFactory:u6,deps:[yo,Zx,Ub,Uu],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Wn({type:n}),n.\u0275inj=Dr({providers:[c6,Vb]}),n})();class Jc{constructor(e,t,r,o,i){var s=this;this.kvsService=e,this.emulationService=t,this.alertService=r,this.modalController=o,this.updates=i,this.checkForUpgrade=()=>this.mutex.runExclusive((0,ee.Z)(function*(){const a=s.kvsService.kvs.version;void 0!==a?a!==qc&&(yield s.kvsService.set({version:qc,previousVersion:a,latestVersion:qc}),yield s.emulationService.bootstrapComplete(),s.alertService.message("Update complete",`CloudpilotEmu was updated to version ${qc}.`,{Changes:()=>s.showChangelog()})):s.kvsService.kvs.version=qc})),this.mutex=new Ya,this.mutex.runExclusive(this.checkForDowngrade.bind(this))}start(){this.checkForUpgrade(),this.startUpdateCheck(),this.registerForUpdates()}startUpdateCheck(){this.scheduleUpdateCheck()}registerForUpdates(){var e=this;this.updates.available.subscribe((0,ee.Z)(function*(){yield e.emulationService.bootstrapComplete(),e.alertService.updateAvailable()}))}checkForDowngrade(){var e=this;return(0,ee.Z)(function*(){if(yield e.kvsService.initialize(),e.kvsService.kvs.previousVersion===qc){const t=yield window.navigator.serviceWorker.getRegistration();console.log("downgrade detected"),t&&(yield t.unregister())&&(yield e.kvsService.set({previousVersion:void 0}),console.log("worker derigstered, reloading..."),window.location.reload())}})()}showChangelog(){var e=this;return(0,ee.Z)(function*(){yield(yield e.modalController.create({component:va,componentProps:{url:"assets/doc/CHANGELOG.md",title:"Changelog"}})).present()})()}scheduleUpdateCheck(){setTimeout(()=>{this.updates.checkForUpdate(),this.scheduleUpdateCheck()},9e5)}}Jc.\u0275fac=function(e){return new(e||Jc)(he(ii),he(as),he(eo),he(ws),he(Vb))},Jc.\u0275prov=pt({token:Jc,factory:Jc.\u0275fac,providedIn:"root"});class yp{constructor(e,t,r){this.pwaService=e,this.updateService=t,this.bootstrapService=r}ngAfterViewInit(){this.bootstrapService.notifyHasRendered(),this.pwaService.invite(),this.updateService.start()}}yp.\u0275fac=function(e){return new(e||yp)(S(Zc),S(Jc),S(Qc))},yp.\u0275cmp=Le({type:yp,selectors:[["app-root"]],decls:2,vars:0,template:function(e,t){1&e&&(ne(0,"ion-app"),lt(1,"ion-router-outlet"),X())},dependencies:[xk,lp]});class fd{constructor(){}}fd.\u0275fac=function(e){return new(e||fd)},fd.\u0275cmp=Le({type:fd,selectors:[["app-dummy"]],decls:2,vars:0,template:function(e,t){1&e&&(ne(0,"div"),Ze(1,"Dummy"),X())},encapsulation:2});class eu{constructor(e,t){this.linkApi=e,this.router=t}canActivate(e){return e.url[0]?.path?.startsWith("install")?(this.linkApi.installation.dispatchRequest(e.queryParams.url),this.router.navigateByUrl("/tab/emulation"),!1):!e.url[0]?.path?.startsWith("import")||(this.linkApi.import.dispatchRequest(e.queryParams.url),this.router.navigateByUrl("/tab/sessions"),!1)}}eu.\u0275fac=function(e){return new(e||eu)(he(Xl),he(Wo))},eu.\u0275prov=pt({token:eu,factory:eu.\u0275fac,providedIn:"root"});const jb=re.m515,h6=Mb[2],m6=Mb[0],pd="rgba(0,0,0,0.2)";function Kx(n){const e=hp(n),t=(0===e.screenSize?3:2)*devicePixelRatio,r={frameDevice:1,frameCanvas:t},o=u=>({frameDevice:u,frameCanvas:u*t}),i=u=>({frameDevice:u,frameCanvas:r.frameCanvas+u*t}),s=o(e.silkscreenHeight>0?1:0),a=o(function v6(n){switch(n){case 3:case 1:return 60;case 2:return 45;default:return 30}}(e.screenSize));return{scale:t,borderWidth:r,height:o(2*r.frameDevice+e.height+s.frameDevice+e.silkscreenHeight+a.frameDevice),width:o(2*r.frameDevice+e.width),screenHeight:o(e.height),screenWidth:o(e.width),screenLeft:i(0),screenTop:i(0),screenBottom:i(e.height),separatorHeight:s,silkscreenHeight:o(e.silkscreenHeight),silkscreenTop:i(e.height+s.frameDevice),silkscreenBottom:i(e.height+s.frameDevice+e.silkscreenHeight),softSilkscreenHeight:o(e.silkscreenHeight>0?0:e.height-e.width),buttonHeight:a,buttonWidth:a,buttonTop:i(e.height+s.frameDevice+e.silkscreenHeight),buttonBottom:i(e.height+s.frameDevice+e.silkscreenHeight+a.frameDevice)}}class b6{constructor(e){this.skinLoader=e,this.layout=Kx(jb),this.onResize=new Ho.j}get width(){switch(this.getOrientation()){case Vr.portrait:case Vr.portrait180:case void 0:return this.layout.width.frameCanvas;default:return this.layout.height.frameCanvas}}get height(){switch(this.getOrientation()){case Vr.portrait:case Vr.portrait180:case void 0:return this.layout.height.frameCanvas;default:return this.layout.width.frameCanvas}}updateEmulationCanvas(e){this.drawEmulationCanvas(e),this.onAfterUpdateCanvas()}eventToPalmCoordinates(e,t=!1){if(!this.ctx)return;const r=this.ctx.canvas.getBoundingClientRect();let o,i,s,a;r.width/r.height>this.width/this.height?(a=r.height,s=this.width/this.height*r.height,i=r.top,o=r.left+(r.width-s)/2):(s=r.width,a=this.height/this.width*r.width,o=r.left,i=r.top+(r.height-a)/2);let u=(e.clientX-o)/s*this.width/this.layout.scale,f=(e.clientY-i)/a*this.height/this.layout.scale;switch(this.getOrientation()){case Vr.landscape90:{const v=f;f=this.layout.height.frameDevice-u,u=v;break}case Vr.landscape270:{const v=f;f=u,u=this.layout.width.frameDevice-v;break}case Vr.portrait180:u=this.layout.width.frameDevice-u,f=this.layout.height.frameDevice-f}u-=this.layout.borderWidth.frameDevice,f-=this.layout.borderWidth.frameDevice,f>=this.layout.screenHeight.frameDevice&&(f<=this.layout.screenHeight.frameDevice+this.layout.separatorHeight.frameDevice?f=this.layout.screenHeight.frameDevice:f-=this.layout.separatorHeight.frameDevice);const g=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice;if(t)u<0&&(u=0),u>=this.layout.screenWidth.frameDevice&&(u=this.layout.screenWidth.frameDevice-1),f<0&&(f=0),f>=g&&(f=g-1);else if(u<0||u>=this.layout.screenWidth.frameDevice||f<0||f>=g)return;return[u,f]}isSilkscreen(e){const[,t]=e;return!this.isButtons(e)&&t>=this.layout.screenHeight.frameDevice}isButtons([,e]){return e>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice}determineButton([e,t]){return e>=this.layout.screenWidth.frameDevice-this.layout.buttonWidth.frameDevice?3:e>=this.layout.screenWidth.frameDevice-2*this.layout.buttonWidth.frameDevice?2:e>=2*this.layout.buttonWidth.frameDevice?t>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice/2?5:4:e>=this.layout.buttonWidth.frameDevice?1:0}initWithCanvas(e=this.ctx?.canvas){var t=this;return(0,ee.Z)(function*(){if(!e)return;t.layout=Kx(t.getDeviceId()),t.onResize.dispatch(),e.width=t.width,e.height=t.height;const r=e.getContext("2d");if(!r)throw new Error("canvas not supported - get a new browser");t.ctx=r,t.setupTransformation(),t.fillCanvasRect(0,0,t.layout.width.frameCanvas,t.layout.height.frameCanvas,t.frameColor()),t.fillRect(0,0,t.layout.screenWidth.frameDevice,t.layout.screenHeight.frameDevice+t.layout.silkscreenHeight.frameDevice+t.layout.separatorHeight.frameDevice+t.layout.buttonHeight.frameDevice,t.backgroundColor()),t.drawEmulationCanvas(),yield Promise.all([t.drawSilkscreen(),t.drawButtons()])})()}drawButtons(e=[]){var t=this;return(0,ee.Z)(function*(){t.ctx&&(t.setupTransformation(),t.ctx.imageSmoothingEnabled=!0,t.ctx.imageSmoothingQuality="high",t.ctx.drawImage(yield t.buttonsImage()(t.layout.screenWidth.frameCanvas,t.layout.buttonHeight.frameCanvas),t.layout.screenLeft.frameCanvas,t.layout.buttonTop.frameCanvas,t.layout.screenWidth.frameCanvas,t.layout.buttonHeight.frameCanvas),e.includes(0)&&t.fillRect(0,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,pd),e.includes(1)&&t.fillRect(t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,pd),e.includes(2)&&t.fillRect(t.layout.screenWidth.frameDevice-2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,pd),e.includes(3)&&t.fillRect(t.layout.screenWidth.frameDevice-t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,pd),e.includes(4)&&t.fillRect(2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.screenWidth.frameDevice-4*t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice/2,pd),e.includes(5)&&t.fillRect(2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice+t.layout.buttonHeight.frameDevice/2,t.layout.screenWidth.frameDevice-4*t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice/2,pd))})()}onAfterUpdateCanvas(){}setupTransformation(){if(this.ctx)switch(this.ctx?.resetTransform(),this.getOrientation()){case Vr.portrait:case void 0:break;case Vr.landscape90:this.ctx.translate(this.layout.height.frameCanvas,0),this.ctx.rotate(Math.PI/2);break;case Vr.landscape270:this.ctx.translate(0,this.layout.width.frameCanvas),this.ctx.rotate(3*Math.PI/2);break;case Vr.portrait180:this.ctx.translate(this.layout.width.frameCanvas,this.layout.height.frameCanvas),this.ctx.rotate(Math.PI)}}drawSilkscreen(){var e=this;return(0,ee.Z)(function*(){0===e.layout.silkscreenHeight.frameCanvas||!e.ctx||(e.setupTransformation(),e.fillRect(e.layout.screenLeft.frameDevice,e.layout.silkscreenTop.frameDevice,e.layout.screenWidth.frameDevice,e.layout.silkscreenHeight.frameDevice,h6),e.ctx.imageSmoothingEnabled=!0,e.ctx.imageSmoothingQuality="high",e.ctx.drawImage(yield e.silkscreenImage()(e.layout.screenWidth.frameCanvas,e.layout.silkscreenHeight.frameCanvas),e.layout.borderWidth.frameCanvas,e.layout.silkscreenTop.frameCanvas,e.layout.screenWidth.frameCanvas,e.layout.silkscreenHeight.frameCanvas))})()}drawEmulationCanvas(e=this.lastEmulationCanvas){!e||!this.ctx||(this.lastEmulationCanvas=e,this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(e,this.layout.screenLeft.frameCanvas,this.layout.screenTop.frameCanvas,this.layout.screenWidth.frameCanvas,this.layout.screenHeight.frameCanvas))}fillRect(e,t,r,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(this.layout.borderWidth.frameCanvas+this.layout.scale*e,this.layout.borderWidth.frameCanvas+this.layout.scale*t,this.layout.scale*r,this.layout.scale*o),this.ctx.fillStyle=i,this.ctx.fill())}fillCanvasRect(e,t,r,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(e,t,r,o),this.ctx.fillStyle=i,this.ctx.fill())}silkscreenImage(){return this.skinLoader.loadSkinElement(this.silkscreenSkinElement())}silkscreenSkinElement(){switch(this.getDeviceId()){case re.pegT600c:case re.pegT650c:return"silkscreen/clie-t600.svg";case re.pegN700c:case re.pegN600c:return"silkscreen/clie-n610.svg";case re.pegS320:case re.pegS300:return"silkscreen/clie-s300.svg";case re.pegS500c:return"silkscreen/clie-s500.svg";case re.pegT400:return"silkscreen/clie-t415.svg";case re.acerS11:return"silkscreen/acer-s10.svg";case re.palmPilot:case re.pilot:case re.iii:case re.palmVII:return"silkscreen/pilot.svg";case re.m500:return"silkscreen/m500.svg";case re.m505:case re.m515:case re.m520:return"silkscreen/m515.svg";case re.iiic:return"silkscreen/iiic.svg";case re.m100:case re.m105:case re.m125:return"silkscreen/m100.svg";case re.m130:return"silkscreen/m130.svg";case re.i710:return"silkscreen/tungstenw.svg";case re.i705:return"silkscreen/i705.svg";default:return"silkscreen/v.svg"}}buttonsImage(){return this.skinLoader.loadSkinElement(this.buttonsSkinElement())}buttonsSkinElement(){switch(this.getDeviceId()){case re.acerS11:return"hard-buttons/acer-s10.svg";case re.pegNR70:return"hard-buttons/clie-nr70.svg";case re.pegN700c:return"hard-buttons/clie-n700.svg";case re.pegN600c:return"hard-buttons/clie-n610.svg";case re.pegS300:return"hard-buttons/clie-s300.svg";case re.pegS500c:return"hard-buttons/clie-s500.svg";case re.pegS320:return"hard-buttons/clie-s320.svg";case re.pegT400:case re.pegT600c:case re.pegT650c:return"hard-buttons/clie-t415.svg";case re.pilot:case re.palmPilot:return"hard-buttons/pilot.svg";case re.m500:return"hard-buttons/m500.svg";case re.m505:case re.m515:case re.m520:return"hard-buttons/m515.svg";case re.iiic:return"hard-buttons/iiic.svg";case re.m100:case re.m105:return"hard-buttons/m100.svg";case re.m125:return"hard-buttons/m125.svg";case re.m130:return"hard-buttons/m130.svg";case re.i710:return"hard-buttons/tungstenw.svg";case re.iii:case re.iiix:case re.iiixe:case re.palmVII:case re.palmVIIEZ:case re.palmVIIx:return"hard-buttons/iiix.svg";case re.iiie:return"hard-buttons/iiie.svg";case re.i705:return"hard-buttons/i705.svg";case re.handera330:return"hard-buttons/handera330.svg";case re.handera330c:return"hard-buttons/handera330c.svg";default:return"hard-buttons/v.svg"}}backgroundColor(){return Tb(this.getDeviceId())?"white":m6}frameColor(){return Tb(this.getDeviceId())?"white":"#ccc"}}function w6(n){return new Promise((e,t)=>{const r=new Image;r.onload=()=>e(r),r.onerror=()=>t(),r.src=n})}class E6{constructor(e){this.cloudpilot=e,this.images=new Map}loadSkinElement(e){if(this.images.has(e))return this.images.get(e);const t=this.cloudpilot.then(o=>o.loadSkin(e)).then(o=>{return o?Promise.all([o,w6((n=o,`data:image/svg+xml;base64,${btoa(n)}`))]):Promise.reject(new Error(`failed to load skin ${e}`));var n}),r=function C6(n,e){let t,r;const o=document.createElement("canvas");return function(){var i=(0,ee.Z)(function*(s,a){if(t===s&&r===a)return o;o.width=s,o.height=a;const u=o.getContext("2d");if(!u)throw new Error("get a new browser");return u.drawImage(yield n,0,0,o.width,o.height),(bj||ya)&&(yield e).indexOf("data:image")>=0&&(yield new Promise(f=>setTimeout(f,0)),u.drawImage(yield n,0,0,o.width,o.height)),t=s,r=a,o});return function(s,a){return i.apply(this,arguments)}}()}(t.then(([,o])=>o),t.then(([o])=>o));return this.images.set(e,r),r}}class $l extends b6{constructor(e){super(new E6(e.cloudpilot)),this.cloudpilotService=e,this.statisticsVisible=!1}initialize(e,t=this.session){var r=this;return(0,ee.Z)(function*(){r.session=t,yield r.initWithCanvas(e)})()}clearStatistics(){var e=this;return(0,ee.Z)(function*(){e.statisticsVisible=!1,e.layout.silkscreenHeight.frameCanvas>0?yield e.drawSilkscreen():yield e.drawEmulationCanvas()})()}updateStatistics(e,t){var r=this;return(0,ee.Z)(function*(){yield r.clearStatistics(),r.drawStatistics(e,t),r.lastEmulationStatistics=t,r.lastSnapshotStatistics=e,r.statisticsVisible=!0})()}getDeviceId(){return this.session?.device??jb}getOrientation(){return this.session?.deviceOrientation??Vr.portrait}onAfterUpdateCanvas(){this.statisticsVisible&&0===this.layout.silkscreenHeight.frameCanvas&&this.drawStatistics(this.lastSnapshotStatistics,this.lastEmulationStatistics)}drawStatistics(e,t){if(!this.ctx)return;this.setupTransformation();const r=this.layout.silkscreenHeight.frameDevice>0?this.layout.silkscreenHeight:this.layout.softSilkscreenHeight,o=this.layout.silkscreenHeight.frameCanvas>0?this.layout.silkscreenTop:{frameCanvas:this.layout.screenBottom.frameCanvas-r.frameCanvas,frameDevice:this.layout.screenBottom.frameDevice-r.frameDevice};this.ctx.beginPath(),this.fillRect(this.layout.screenLeft.frameDevice,o.frameDevice,this.layout.screenWidth.frameDevice,r.frameDevice,"rgba(255,255,255,0.6)");const s=function D6(n){switch(n){case 1:case 3:return 2;case 2:return 1.5;default:return 1}}(hp(this.session?.device??jb).screenSize);this.ctx.font=6*this.layout.scale*s+"px monospace",this.ctx.fillStyle="black",[...e||t?[]:["collecting statistics..."],...e?[`last snapshot          : ${new Date(e.timestamp).toLocaleTimeString()}`,`snapshot pages         : ${e.pages}`,`snapshot time total    : ${e.timeTotal.toFixed(2)} msec`,`snapshot time blocking : ${e.timeBlocking.toFixed(2)} msec`]:[],...t?[`host speed             : ${t.hostSpeed.toFixed(2)}x`,`emulation speed        : ${t.emulationSpeed.toFixed(2)}x`,`average FPS            : ${t.averageFps.toFixed(2)}`]:[]].forEach((a,u)=>this.ctx.fillText(a,this.layout.screenLeft.frameCanvas+s*this.layout.scale,o.frameCanvas+s*this.layout.scale*(8+6*u)))}}$l.\u0275fac=function(e){return new(e||$l)(he(Wi))},$l.\u0275prov=pt({token:$l,factory:$l.\u0275fac,providedIn:"root"});class tu{constructor(e,t,r){this.router=e,this.canvasDisplayService=t,this.emulationStateService=r,this.updateUseSmallUI=()=>{const o=!!document.querySelector("html.md"),i=o?56:44;this.useSmallUI=this.canvasArea(window.innerHeight-i-(o?57:51)-6,window.innerWidth-6)<this.canvasArea(window.innerHeight-i-25-6,window.innerWidth-6)},this.useSmallUI=!1,this.isLockedFlag=!1,window.addEventListener("resize",this.updateUseSmallUI),window.addEventListener("orientationchange",this.updateUseSmallUI),t.onResize.addHandler(()=>this.updateUseSmallUI()),this.updateUseSmallUI()}get smallUI(){return"/tab/emulation"===this.router.url&&this.useSmallUI&&void 0!==this.emulationStateService.getCurrentSession()}lock(){this.isLockedFlag=!0}unlock(){this.isLockedFlag=!1}isLocked(){return this.isLockedFlag}canvasArea(e,t){let r,o;return e=Math.min(e,this.canvasDisplayService.height/devicePixelRatio),(t=Math.min(t,this.canvasDisplayService.width/devicePixelRatio))/e>this.canvasDisplayService.width/this.canvasDisplayService.height?(o=e,r=e/this.canvasDisplayService.height*this.canvasDisplayService.width):(r=t,o=t/this.canvasDisplayService.width*this.canvasDisplayService.height),r*o}}tu.\u0275fac=function(e){return new(e||tu)(S(Wo),S($l),S(Ss))},tu.\u0275cmp=Le({type:tu,selectors:[["app-tabs"]],decls:23,vars:4,consts:[[1,"overflow-wrapper"],["slot","bottom"],["tab","emulation"],["name","phone-portrait-outline"],["tab","sessions"],["name","albums-outline"],["tab","storage"],["name","folder-outline"],["tab","settings"],["name","cog-outline"],["tab","about"],["name","help-outline"]],template:function(e,t){1&e&&(ne(0,"ion-tabs")(1,"div",0)(2,"ion-tab-bar",1)(3,"ion-tab-button",2),lt(4,"ion-icon",3),ne(5,"ion-label"),Ze(6,"Emulator"),X()(),ne(7,"ion-tab-button",4),lt(8,"ion-icon",5),ne(9,"ion-label"),Ze(10,"Sessions"),X()(),ne(11,"ion-tab-button",6),lt(12,"ion-icon",7),ne(13,"ion-label"),Ze(14,"Cards"),X()(),ne(15,"ion-tab-button",8),lt(16,"ion-icon",9),ne(17,"ion-label"),Ze(18,"Settings"),X()(),ne(19,"ion-tab-button",10),lt(20,"ion-icon",11),ne(21,"ion-label"),Ze(22,"About"),X()()()()()),2&e&&(Xe(2),yl("small-ui",t.smallUI)("disabled",t.isLocked()))},dependencies:[hi,os,cb,Pk,Gk],styles:["ion-tab-bar[_ngcontent-%COMP%]{min-width:280px}ion-tab-bar.small-ui[_ngcontent-%COMP%]{height:25px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:21px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon.md[_ngcontent-%COMP%]{margin-top:3px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:none}ion-tab-bar.disabled[_ngcontent-%COMP%]{display:none}.overflow-wrapper[_ngcontent-%COMP%]{overflow-x:auto}ion-icon[_ngcontent-%COMP%]{font-size:25px}"]});class el{}el.\u0275fac=function(e){return new(e||el)},el.\u0275mod=Wn({type:el}),el.\u0275inj=Dr({imports:[Ga,yb.forChild(),oc,$c,gm]});class hd{}hd.\u0275fac=function(e){return new(e||hd)},hd.\u0275mod=Wn({type:hd}),hd.\u0275inj=Dr({imports:[Ga,$c,oc,el,yb.forChild()]});class md{}md.\u0275fac=function(e){return new(e||md)},md.\u0275mod=Wn({type:md}),md.\u0275inj=Dr({imports:[Ga,$c,oc,el]});class gd{}gd.\u0275fac=function(e){return new(e||gd)},gd.\u0275mod=Wn({type:gd}),gd.\u0275inj=Dr({imports:[Ga,$c,oc,gm,el]});class _d{}_d.\u0275fac=function(e){return new(e||_d)},_d.\u0275mod=Wn({type:_d}),_d.\u0275inj=Dr({imports:[Ga,$c,oc,el,gm]});class yd{}function I6(n,e){if(1&n){const t=Br();ne(0,"ion-button",1),st("click",function(){return Et(t),Ht(Ot().onClick())}),lt(1,"ion-icon",2),X()}if(2&n){const t=Ot();Xe(1),nt("name",t.iconName)}}yd.\u0275fac=function(e){return new(e||yd)},yd.\u0275mod=Wn({type:yd}),yd.\u0275inj=Dr({imports:[Ga,oc,$c,gm,el]});class gc{constructor(e){this.pwaService=e}onClick(){this.pwaService.install()}get iconName(){return ya?"logo-apple-appstore":mx?"logo-google-playstore":"apps-outline"}get show(){return this.pwaService.promptForInstall()}}function k6(n,e){1&n&&(ne(0,"div",11),lt(1,"ion-spinner"),X())}function x6(n,e){1&n&&(ne(0,"div"),Ze(1,"app cached for offline use"),X())}gc.\u0275fac=function(e){return new(e||gc)(S(Zc))},gc.\u0275cmp=Le({type:gc,selectors:[["app-pwa-prompt"]],decls:1,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"],[3,"name"]],template:function(e,t){1&e&&Qt(0,I6,2,1,"ion-button",0),2&e&&nt("ngIf",t.show)},dependencies:[fi,es,hi]});class vp{constructor(e,t){this.modalController=e,this.updates=t,this.loading=!0}get version(){return qc}showChangelog(){var e=this;return(0,ee.Z)(function*(){yield(yield e.modalController.create({component:va,componentProps:{url:"assets/doc/CHANGELOG.md",title:"Changelog"}})).present()})()}get serviceWorkerAvailable(){return this.updates.isEnabled}}function M6(n,e){if(1&n&&(ne(0,"ion-select-option",17),Ze(1),X()),2&n){const t=e.$implicit;nt("value",t[0]),Xe(1),Gi("",t[1]," ")}}function T6(n,e){if(1&n&&(ne(0,"ion-select-option",17),Ze(1),X()),2&n){const t=e.$implicit;nt("value",t[0]),Xe(1),Gi("",t[1]," ")}}function A6(n,e){if(1&n&&(ne(0,"ion-item",7)(1,"ion-label",8),Ze(2,"Hotsync name"),X(),lt(3,"ion-input",18),X()),2&n){const t=Ot();Xe(3),nt("placeholder",t.placeholder)}}vp.\u0275fac=function(e){return new(e||vp)(S(ws),S(Vb))},vp.\u0275cmp=Le({type:vp,selectors:[["app-about"]],decls:21,vars:4,consts:[[3,"translucent"],["slot","secondary"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],[1,"markdown-container"],["src","assets/doc/about.md",3,"load"],[1,"version"],["href","javascript:",3,"click"],[4,"ngIf"],["src","assets/logo.svg",1,"logo"],[1,"loader"]],template:function(e,t){1&e&&(ne(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ze(3,"About"),X(),ne(4,"ion-buttons",1),lt(5,"app-pwa-prompt"),X()()(),ne(6,"ion-content")(7,"ion-header",2)(8,"ion-toolbar")(9,"ion-title",3),Ze(10,"About"),X()()(),Qt(11,k6,2,0,"div",4),ne(12,"div",5)(13,"markdown",6),st("load",function(){return t.loading=!1}),X()(),ne(14,"div",7),Ze(15),lt(16,"br"),ne(17,"a",8),st("click",function(){return t.showChangelog()}),Ze(18,"Changelog"),X(),Qt(19,x6,2,0,"div",9),X(),lt(20,"img",10),X()),2&e&&(nt("translucent",!0),Xe(11),nt("ngIf",t.loading),Xe(4),Gi(" CloudpilotEmu version ",t.version," "),Xe(4),nt("ngIf",t.serviceWorkerAvailable))},dependencies:[fi,ts,ns,rs,ip,is,ss,gc,_b],styles:[".version[_ngcontent-%COMP%]{width:100%;bottom:1em;text-align:center;font-size:.75em;margin-top:3em;margin-bottom:1em}.markdown-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:center}markdown[_ngcontent-%COMP%]{display:block;margin-left:.5em;margin-right:.5em;max-width:40em}.loader[_ngcontent-%COMP%]{width:100%;height:10em;display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{width:10em;height:10em;margin:1em auto;display:block}@media (prefers-color-scheme: dark){.logo[_ngcontent-%COMP%]{filter:invert(100%)}}"]});class vd{constructor(e,t){this.sessionService=e,this.alertService=t,this.validateNameUnique=r=>r.value!==this.session.name&&this.sessionService.getSessions().some(o=>o.name===r.value)?{name:"already taken"}:null,this.onSave=()=>{},this.onCancel=()=>{},this.orientations=[[Vr.portrait,"Portrait"],[Vr.landscape90,"Landscape 90\xb0"],[Vr.landscape270,"Landscape 270\xb0"],[Vr.portrait180,"Upside down"]]}get formControlName(){return this.formGroup.get("name")}get formControlHotsyncName(){return this.formGroup.get("hotsyncName")}get formControlDevice(){return this.formGroup.get("device")}get formControlManageHotsyncName(){return this.formGroup.get("manageHotsyncName")}get formControlSpeed(){return this.formGroup.get("speed")}get formControlOrientation(){return this.formGroup.get("orientation")}get showHotsyncNameInput(){return this.formControlManageHotsyncName.value}get placeholder(){return this.formControlHotsyncName.value?this.formControlName.value:void 0!==this.session.hotsyncName||this.session.dontManageHotsyncName?"Enter hotsync name":"use setting from device"}get deviceList(){return this.availableDevices.map(e=>[e,Tx(e)])}ngOnInit(){this.createFormGroup()}save(){this.formGroup.invalid||(this.session.name=this.formControlName.value,this.formControlManageHotsyncName.value?this.session.dontManageHotsyncName?(this.session.dontManageHotsyncName=!1,this.session.hotsyncName=this.formControlHotsyncName.value||"",this.alertService.message("Reset required","Please reset the virtual device in order to make sure that the hotsync name is synced properly again.")):this.session.hotsyncName=this.formControlHotsyncName.value||(void 0===this.session.hotsyncName?void 0:""):this.session.dontManageHotsyncName=!0,this.session.device=this.formControlDevice.value,this.session.speed=this.speedValue,this.session.deviceOrientation=this.formControlOrientation.value,this.onSave())}onEnter(){this.save()}get speedValue(){const e=this.formControlSpeed.value||0;return e>=0?1+e:1/(1-e)}get speedLabel(){return"Clock: "+(0===this.formControlSpeed.value?"default":`${Math.round(this.speedValue*function mG(n){switch(n){case re.palmPilot:case re.pilot:case re.iii:case re.palmVII:case re.palmVx:case re.palmV:case re.palmVIIEZ:case re.palmVIIx:case re.iiic:case re.iiix:case re.iiixe:case re.iiie:case re.m100:case re.m105:case re.pegS300:case re.pegS500c:return 16;case re.m500:case re.m505:case re.m515:case re.m520:case re.m125:case re.m130:case re.i705:case re.i710:case re.handera330:case re.handera330c:case re.pegS320:case re.pegT400:case re.pegN600c:case re.pegT600c:case re.pegN700c:case re.acerS11:return 33;case re.pegT650c:case re.pegNR70:return 66}}(this.formControlDevice.value))}MHz`)}createFormGroup(){this.formGroup=new um({name:new pi(this.session.name,{validators:[Ff.required,this.validateNameUnique]}),manageHotsyncName:new pi(!this.session.dontManageHotsyncName),hotsyncName:new pi(this.session.hotsyncName||""),device:new pi({value:this.session.device,disabled:1===this.availableDevices.length}),speed:new pi((this.session.speed||1)>=1?(this.session.speed||1)-1:1-1/this.session.speed),orientation:new pi(this.session.deviceOrientation||Vr.portrait)})}}vd.\u0275fac=function(e){return new(e||vd)(S(Ja),S(eo))},vd.\u0275cmp=Le({type:vd,selectors:[["app-session-settings"]],inputs:{onSave:"onSave",onCancel:"onCancel",session:"session",availableDevices:"availableDevices"},decls:41,vars:6,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter session name","formControlName","name"],["formControlName","device"],[3,"value",4,"ngFor","ngForOf"],["formControlName","orientation"],[1,"label-speed"],["min","-4","max","4","step","0.25","snaps","true","ticks","false","formControlName","speed"],["formControlName","manageHotsyncName"],["lines","none",4,"ngIf"],[3,"value"],["formControlName","hotsyncName","maxlength","40",3,"placeholder"]],template:function(e,t){1&e&&(ne(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ze(3,"Session settings"),X(),ne(4,"ion-buttons",1)(5,"ion-button",2),st("click",function(){return t.save()}),Ze(6,"Save"),X()(),ne(7,"ion-buttons",3)(8,"ion-button",4),st("click",function(){return t.onCancel()}),Ze(9,"Cancel"),X()()()(),ne(10,"ion-content",5)(11,"form",6),st("keydown.enter",function(){return t.onEnter()}),ne(12,"h1"),Ze(13,"Session"),X(),ne(14,"ion-item",7)(15,"ion-label",8),Ze(16,"Session name"),X(),lt(17,"ion-input",9),X(),ne(18,"h1"),Ze(19,"Device"),X(),ne(20,"ion-item",7)(21,"ion-label",8),Ze(22,"Device type"),X(),ne(23,"ion-select",10),Qt(24,M6,2,2,"ion-select-option",11),X()(),ne(25,"ion-item",7)(26,"ion-label",8),Ze(27,"Orientation"),X(),ne(28,"ion-select",12),Qt(29,T6,2,2,"ion-select-option",11),X()(),ne(30,"ion-item",7)(31,"ion-label",13),Ze(32),X(),lt(33,"ion-range",14),X(),ne(34,"h1"),Ze(35,"Hotsync"),X(),ne(36,"ion-item",7)(37,"ion-label"),Ze(38,"Manage hotsync name"),X(),lt(39,"ion-toggle",15),X(),Qt(40,A6,4,1,"ion-item",16),X()()),2&e&&(Xe(5),nt("disabled",t.formGroup.invalid),Xe(6),nt("formGroup",t.formGroup),Xe(13),nt("ngForOf",t.deviceList),Xe(5),nt("ngForOf",t.orientations),Xe(3),Rs(t.speedLabel),Xe(8),nt("ngIf",t.showHotsyncNameInput))},dependencies:[Oc,fi,es,ts,ns,rs,Rl,oi,os,lb,Hm,zm,is,sp,ss,sd,op,Pl,kl,Dl,Il,Av,ga,Ha],styles:["ion-item[_ngcontent-%COMP%]{--highlight-color-valid: var(--highlight-color-focused);--background: none}.label-speed[_ngcontent-%COMP%]{min-width:7.5rem}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}"]});class bd{constructor(e,t,r,o,i,s,a){this.emulationService=e,this.loadingController=t,this.snapshotService=r,this.fileService=o,this.emulationStateService=i,this.alertService=s,this.cloudpilotService=a}saveBackup(e){var t=this;return(0,ee.Z)(function*(){const r=t.emulationStateService.getCurrentSession();if(!r)return;const o=yield t.loadingController.create({message:"Backing up..."});yield o.present();let s,i=[];yield t.emulationService.pause(),yield t.snapshotService.waitForPendingSnapshot();try{const a=yield t.cloudpilotService.cloudpilot;yield a.backup(function(){var u=(0,ee.Z)(function*(f){for(f.Init(e);f.IsInProgress();){const g=f.GetCurrentDatabase();f.Save()||i.push(g),yield new Promise(v=>setTimeout(v,0))}s=a.getArchive(f)});return function(f){return u.apply(this,arguments)}}())}finally{yield o.dismiss(),yield t.emulationService.resume()}s?i.length>0?yield t.alertService.message("Backup complete",`\n                    ${Ab(i)} failed  to backup.\n                    <br/><br/>\n                    Open databases cannot be backuped. Please run backup from the launcher\n                    in order to backup all databases.\n                `,{"Save Backup":()=>t.fileService.saveFile(Lx(r,e),s)},"Cancel"):t.fileService.saveFile(Lx(r,e),s):yield t.alertService.errorMessage("Backup failed.")})()}}bd.\u0275fac=function(e){return new(e||bd)(he(as),he(Fl),he(Qa),he(Bs),he(Ss),he(eo),he(Wi))},bd.\u0275prov=pt({token:bd,factory:bd.\u0275fac,providedIn:"root"});const P6=window.AudioContext||window.webkitAudioContext;function Gb(n,e=100){return new Promise((t,r)=>{setTimeout(()=>r(new Error("timeout")),e),n.then(t,r)})}class R6{constructor(e){var t=this;this.emulationService=e,this.initialize=()=>this.mutex.runExclusive((0,ee.Z)(function*(){if(!t.initialized){try{t.context=new P6}catch(r){return console.error(r),void console.error("web audio not available")}try{t.context.destination.channelCount=1}catch{console.warn("audio driver: failed to set channel count")}try{yield t.start()}catch(r){return console.error(r),void console.error("failed to initialize audio context")}t.context.addEventListener("statechange",()=>{"interrupted"===t.context?.state&&t.updateState()}),t.gainNode=t.context.createGain(),t.gainNode.channelCount=1,t.gainNode.channelInterpretation="speakers",t.gainNode.gain.value=t.gain(),t.gainNode.connect(t.context.destination),t.applyPwmUpdate(),t.initialized=!0}})),this.updateState=(r=!1)=>this.mutex.runExclusive((0,ee.Z)(function*(){if(!t.context||t.isRunning()===t.shouldRun())return;!r&&!t.isRunning()&&t.shouldRun()&&t.applyPwmUpdate();const o=t.context.state;if(t.shouldRun())try{t.updateGain(),yield Gb(t.context.resume()),console.log("resume audio context")}catch{console.error(`failed to resume audio from state ${o}`)}else try{yield Gb(t.context.suspend()),console.log("suspend audio context")}catch{console.error(`failed to suspend audio from state ${o}`)}console.log(`audio context state change ${o} -> ${t.context.state}`)})),this.onPwmUpdate=function(){var r=(0,ee.Z)(function*(o){t.pendingPwmUpdate=o,t.initialized&&(t.shouldRun()!==t.isRunning()&&t.updateState(!0),t.shouldRun()&&t.applyPwmUpdate())});return function(o){return r.apply(this,arguments)}}(),this.mutex=new Ya,this.initialized=!1,this.muted=!1,this.emulationService.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.emulationService.emulationStateChangeEvent.addHandler(()=>this.updateState()),this.emulationService.powerOffChangeEvent.addHandler(()=>this.updateState()),ya||document.addEventListener("visibilitychange",()=>this.updateState())}isInitialized(){return this.initialized}mute(e){this.muted=e,this.updateState()}isMuted(){return this.muted}shouldRun(){return this.emulationService.isRunning()&&!this.emulationService.isPowerOff()&&!this.muted&&this.gain()>0&&("hidden"!==document.visibilityState||ya||this.runHidden())}updateGain(){this.gainNode&&(this.gainNode.gain.value=this.gain())}start(){var e=this;return(0,ee.Z)(function*(){e.context&&(yield Gb(e.context.resume()),e.updateState(),console.log("audio context initialized"))})()}isRunning(){return"running"===this.context?.state}applyPwmUpdate(){if(!this.context||!this.pendingPwmUpdate)return;const{frequency:e,dutyCycle:t}=this.pendingPwmUpdate,r=this.context.sampleRate;if(this.pendingPwmUpdate=void 0,e<=0||t<=0||e>=r)return void this.disconnectSource();const o=this.context.createBuffer(1,Math.round(r/e),r),i=o.getChannelData(0);for(let a=0;a<i.length;a++)i[a]=a/i.length<t?1:0;const s=this.context.createBufferSource();s.channelCount=1,s.channelInterpretation="speakers",s.loop=!0,s.buffer=o,this.disconnectSource(),s.connect(this.gainNode),s.start(),this.bufferSourceNode=s,this.pendingPwmUpdate=void 0}disconnectSource(){this.bufferSourceNode&&(this.bufferSourceNode.stop(),this.bufferSourceNode.disconnect(),this.bufferSourceNode=void 0)}gain(){return this.getVolume()/2}}class _c extends R6{constructor(e,t,r){super(e),this.kvs=t,this.modalWatcher=r,this.modalWatcher.modalVisibilityChangeEvent.addHandler(()=>this.updateState())}getVolume(){return this.kvs.kvs.volume}runHidden(){return this.kvs.kvs.runHidden}shouldRun(){return!this.modalWatcher.isModalActive()&&super.shouldRun()}}_c.\u0275fac=function(e){return new(e||_c)(he(as),he(ii),he(pc))},_c.\u0275prov=pt({token:_c,factory:_c.\u0275fac,providedIn:"root"});class nu{constructor(e,t){this.emulationService=e,this.ngZone=t,this.onInterval=()=>{this.emulationService.getEmulationSpeed()<1?(this.level<3&&this.level++,3===this.level&&this.ngZone.run(()=>this.slowdownDetected=!0)):(this.level>0&&this.level--,0===this.level&&this.ngZone.run(()=>this.slowdownDetected=!1))},this.onEmulationStateChanged=r=>{this.reset(),r&&void 0===this.intervalHandle&&(this.onInterval(),this.ngZone.runOutsideAngular(()=>this.intervalHandle=window.setInterval(this.onInterval,1e3))),!r&&void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)},this.slowdownDetected=!1,this.level=0,this.onEmulationStateChanged(this.emulationService.isRunning()),this.emulationService.emulationStateChangeEvent.addHandler(this.onEmulationStateChanged)}isSlowdownDetected(){return this.slowdownDetected}reset(){this.slowdownDetected=!1,this.level=0}ngOnDestroy(){this.emulationService.emulationStateChangeEvent.removeHandler(this.onEmulationStateChanged),void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)}}function O6(n,e){if(1&n){const t=Br();ne(0,"ion-item",4),st("click",function(){return Et(t),Ht(Ot().power())}),ne(1,"ion-label"),Ze(2,"Power"),X(),lt(3,"ion-icon",5),X()}if(2&n){const t=Ot();nt("detail",!1)("disabled",!t.emulationService.isRunning())}}function N6(n,e){if(1&n){const t=Br();ne(0,"ion-item",4),st("click",function(){return Et(t),Ht(Ot().hotsync())}),ne(1,"ion-label"),Ze(2,"Hotsync"),X(),lt(3,"ion-icon",6),X()}if(2&n){const t=Ot();nt("detail",!1)("disabled",!t.emulationService.isRunning())}}function L6(n,e){if(1&n){const t=Br();ne(0,"ion-item",4),st("click",function(){return Et(t),Ht(Ot().reset())}),ne(1,"ion-label"),Ze(2,"Reset"),X(),lt(3,"ion-icon",7),X()}if(2&n){const t=Ot();nt("detail",!1)("disabled",!t.emulationService.isRunning())}}function $6(n,e){if(1&n){const t=Br();ne(0,"ion-item",8),st("click",function(){return Et(t),Ht(Ot().insertCard())}),ne(1,"ion-label"),Ze(2),X(),lt(3,"ion-icon",9),X()}if(2&n){const t=Ot();nt("detail",!1),Xe(2),Gi("Insert ",t.hasMemorystick?"stick":"SD card","")}}function B6(n,e){if(1&n){const t=Br();ne(0,"ion-item",8),st("click",function(){return Et(t),Ht(Ot().ejectCard())}),ne(1,"ion-label"),Ze(2),X(),lt(3,"ion-icon",10),X()}if(2&n){const t=Ot();nt("detail",!1),Xe(2),Gi("Eject ",t.hasMemorystick?"stick":"SD card","")}}function V6(n,e){if(1&n){const t=Br();ne(0,"ion-item",8),st("click",function(){return Et(t),Ht(Ot().mute(!1))}),ne(1,"ion-label"),Ze(2,"Enable audio"),X(),lt(3,"ion-icon",11),X()}2&n&&nt("detail",!1)}function U6(n,e){if(1&n){const t=Br();ne(0,"ion-item",8),st("click",function(){return Et(t),Ht(Ot().mute(!0))}),ne(1,"ion-label"),Ze(2,"Disable audio"),X(),lt(3,"ion-icon",12),X()}2&n&&nt("detail",!1)}function j6(n,e){if(1&n){const t=Br();ne(0,"ion-item",4),st("click",function(){return Et(t),Ht(Ot().backup())}),ne(1,"ion-label"),Ze(2,"Save backup"),X(),lt(3,"ion-icon",13),X()}if(2&n){const t=Ot();nt("detail",!1)("disabled",t.backupDisabled)}}function G6(n,e){if(1&n){const t=Br();ne(0,"ion-item",8),st("click",function(){return Et(t),Ht(Ot().rotate())}),ne(1,"ion-label"),Ze(2,"Rotate"),X(),lt(3,"ion-icon",14),X()}2&n&&nt("detail",!1)}function H6(n,e){if(1&n){const t=Br();ne(0,"ion-item",8),st("click",function(){return Et(t),Ht(Ot().editSettings())}),ne(1,"ion-label"),Ze(2,"Settings"),X(),lt(3,"ion-icon",15),X()}2&n&&nt("detail",!1)}function z6(n){switch(n){case Vr.portrait:case void 0:return Vr.landscape90;case Vr.landscape90:return Vr.portrait180;case Vr.portrait180:return Vr.landscape270;case Vr.landscape270:return Vr.portrait;default:throw new Error("cannot happen")}}nu.\u0275fac=function(e){return new(e||nu)(he(as),he(ut))},nu.\u0275prov=pt({token:nu,factory:nu.\u0275fac,providedIn:"root"});class bp{constructor(e,t,r,o,i,s,a,u,f,g,v,D,T,K,me,je,Ye,yt){this.emulationService=e,this.emulationStateService=t,this.backupService=r,this.buttonService=o,this.actionSheetController=i,this.popoverController=s,this.audioService=a,this.kvsService=u,this.modalController=f,this.sessionService=g,this.performanceWatchdogService=v,this.canvasDisplayService=D,this.cloudpilotService=T,this.storageCardService=K,this.alertService=me,this.alertController=je,this.storageService=Ye,this.errorService=yt,this.showHelp=()=>{}}reset(){var e=this;return(0,ee.Z)(function*(){e.popoverController.dismiss(),(yield e.actionSheetController.create({header:"How do you want to reset?",buttons:[{text:"Normal boot",handler:()=>e.emulationService.reset()},{text:"No extensions",handler:()=>e.emulationService.resetNoExtensions()},{text:"Hard reset",handler:()=>e.emulationService.resetHard()},{text:"Cancel",role:"cancel"}]})).present()})()}power(){this.buttonService.engage(6),this.popoverController.dismiss()}hotsync(){this.buttonService.engage(7),this.popoverController.dismiss()}help(){this.showHelp(),this.popoverController.dismiss()}backup(){var e=this;return(0,ee.Z)(function*(){e.popoverController.dismiss(),(yield e.actionSheetController.create({header:"What do you want to backup?",buttons:[{text:"Only RAM (default)",handler:()=>e.backupService.saveBackup(!1)},{text:"Include ROM",handler:()=>e.backupService.saveBackup(!0)},{text:"Cancel",role:"cancel"}]})).present()})()}get isMuted(){return!this.audioService.isInitialized()||this.audioService.isMuted()}get isAudioOff(){return this.kvsService.kvs.volume<=0}mute(e){e?this.audioService.mute(!0):this.audioService.isInitialized()?this.audioService.mute(!1):this.audioService.initialize()}get backupDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get powerDisabled(){const e=this.emulationStateService.getCurrentSession();return!!e&&function gG(n){return[re.i705,re.i710,re.pegNR70,re.pegT650c].includes(n)}(e.device)}get hasActiveSession(){return!!this.emulationStateService.getCurrentSession()}get supportsStorageCard(){const e=this.emulationStateService.getCurrentSession();return!!e&&Ax(e.device)!==fc.none}get hasMemorystick(){const e=this.emulationStateService.getCurrentSession();return!!e&&Ax(e.device)===fc.memorystick}get hasMountedCard(){return void 0!==this.emulationStateService.getCurrentSession()?.mountedCard}editSettings(){var e=this;return(0,ee.Z)(function*(){const t=e.emulationStateService.getCurrentSession();if(!t)return;const r=t.speed,o=t.deviceOrientation,i=yield e.modalController.create({component:vd,backdropDismiss:!1,componentProps:{session:t,availableDevices:[t.device],onSave:(s=(0,ee.Z)(function*(){r!==t.speed&&e.performanceWatchdogService.reset(),o!==t.deviceOrientation&&(e.canvasDisplayService.initialize(void 0,t),e.canvasDisplayService.updateEmulationCanvas()),yield e.sessionService.updateSession(t),i.dismiss()}),function(){return s.apply(this,arguments)}),onCancel:()=>i.dismiss()}});var s;yield e.popoverController.dismiss(),yield i.present()})()}rotate(){var e=this;return(0,ee.Z)(function*(){const t=e.emulationStateService.getCurrentSession();if(!t)return;yield e.storageService.updateSessionPartial(t.id,{deviceOrientation:z6(t.deviceOrientation)});const r=e.emulationStateService.getCurrentSession();yield e.canvasDisplayService.initialize(void 0,r),e.canvasDisplayService.updateEmulationCanvas()})()}insertCard(){var e=this;return(0,ee.Z)(function*(){if(e.popoverController.dismiss(),void 0===e.emulationStateService.getCurrentSession()?.device)return;const r=yield e.cloudpilotService.cloudpilot,o=e.storageCardService.getAllCards().filter(s=>r.deviceSupportsCardSize(s.size)&&!e.storageCardService.mountedInSession(s.id));0!==o.length?yield(yield e.alertController.create({header:"Choose image for insertion",buttons:[{text:"Cancel",role:"cancel"},{text:"Insert",handler:s=>e.storageCardService.insertCard(s)}],inputs:o.map((s,a)=>({label:s.name,type:"radio",value:s.id,checked:0===a})),backdropDismiss:!1})).present():e.alertService.message("No image available",`There is no ${e.hasMemorystick?"memory stick":"SD card"} image available. Please go to the "Storage" tab in order to create new one.`)})()}ejectCard(){var e=this;return(0,ee.Z)(function*(){try{yield e.storageCardService.ejectCurrentCard()}catch(t){e.errorService.fatalBug(t instanceof Error?t.message:"eject failed")}e.popoverController.dismiss()})()}}bp.\u0275fac=function(e){return new(e||bp)(S(as),S(Ss),S(bd),S(Xc),S(up),S(Wc),S(_c),S(ii),S(ws),S(Ja),S(nu),S($l),S(Wi),S(ba),S(eo),S(zc),S(nr),S(ea))},bp.\u0275cmp=Le({type:bp,selectors:[["app-emulation-context-menu"]],inputs:{showHelp:"showHelp"},decls:15,vars:11,consts:[["lines","full","button","",3,"detail","disabled","click",4,"ngIf"],["lines","full","button","",3,"detail","click",4,"ngIf"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"],["lines","full","button","",3,"detail","disabled","click"],["name","power-outline","slot","end"],["name","sync-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","log-in-outline","slot","end"],["name","log-out-outline","slot","end"],["name","volume-high-outline","slot","end"],["name","volume-mute-outline","slot","end"],["name","share-outline","slot","end"],["name","reload-outline","slot","end"],["name","cog-outline","slot","end"]],template:function(e,t){1&e&&(ne(0,"ion-list"),Qt(1,O6,4,2,"ion-item",0),Qt(2,N6,4,2,"ion-item",0),Qt(3,L6,4,2,"ion-item",0),Qt(4,$6,4,2,"ion-item",1),Qt(5,B6,4,2,"ion-item",1),Qt(6,V6,4,1,"ion-item",1),Qt(7,U6,4,1,"ion-item",1),Qt(8,j6,4,2,"ion-item",0),Qt(9,G6,4,1,"ion-item",1),Qt(10,H6,4,1,"ion-item",1),ne(11,"ion-item",2),st("click",function(){return t.help()}),ne(12,"ion-label"),Ze(13,"Help"),X(),lt(14,"ion-icon",3),X()()),2&e&&(Xe(1),nt("ngIf",t.hasActiveSession&&!t.powerDisabled),Xe(1),nt("ngIf",t.hasActiveSession),Xe(1),nt("ngIf",t.hasActiveSession),Xe(1),nt("ngIf",t.supportsStorageCard&&!t.hasMountedCard),Xe(1),nt("ngIf",t.supportsStorageCard&&t.hasMountedCard),Xe(1),nt("ngIf",t.isMuted&&!t.isAudioOff),Xe(1),nt("ngIf",!t.isMuted&&!t.isAudioOff),Xe(1),nt("ngIf",t.hasActiveSession),Xe(1),nt("ngIf",t.hasActiveSession),Xe(1),nt("ngIf",t.hasActiveSession),Xe(1),nt("detail",!1))},dependencies:[fi,hi,oi,os,Za]});class W6{constructor(e,t){this.emulationService=e,this.canvasDisplayService=t,this.handleMouseDown=r=>{if(0!==r.button)return;const o=this.canvasDisplayService.eventToPalmCoordinates(r);if(!o)return;const i=this.determineArea(o);if(2===i){const s=this.canvasDisplayService.determineButton(o);this.interactionMouse={area:i,buttonPrimary:s},this.handleButtonDown(s)}else this.interactionMouse={area:i},this.emulationService.handlePointerMove(...o,1===i)},this.handleMouseMove=r=>{if(!(1&r.buttons&&this.interactionMouse&&2!==this.interactionMouse?.area))return;const o=this.canvasDisplayService.eventToPalmCoordinates(r,!0);o&&this.emulationService.handlePointerMove(...o,1===this.interactionMouse?.area)},this.handeMouseUp=r=>{if(0!==r.button)return;const o=this.interactionMouse;switch(this.interactionMouse=void 0,o?.area){case 2:this.handleButtonUp(o.buttonPrimary);break;case 0:case 1:this.emulationService.handlePointerUp()}},this.handleTouchStart=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.canvasDisplayService.eventToPalmCoordinates(s);if(!a)continue;o=!0;const u=this.determineArea(a);if(2===u){const f=this.canvasDisplayService.determineButton(a);this.interactionsTouch.set(s.identifier,{area:u,buttonPrimary:f}),this.handleButtonDown(f)}else this.interactionsTouch.set(s.identifier,{area:u}),this.emulationService.handlePointerMove(...a,1===u)}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchMove=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);if(!a)continue;o=!0;const u=a.area;switch(u){case 2:{const f=this.canvasDisplayService.eventToPalmCoordinates(s);if(!f||2!==this.determineArea(f)){this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0;break}const g=this.canvasDisplayService.determineButton(f);g===a.buttonPrimary?(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0):g!==a.buttonSecondary&&(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=g,this.handleButtonDown(g));break}case 0:case 1:{const f=this.canvasDisplayService.eventToPalmCoordinates(s,!0);if(!f)continue;this.emulationService.handlePointerMove(...f,1===u);break}default:continue}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchEnd=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);switch(a&&(o=!0),this.interactionsTouch.delete(s.identifier),a?.area){case 2:this.handleButtonUp(a.buttonPrimary),this.handleButtonUp(a.buttonSecondary);break;case 0:case 1:this.emulationService.handlePointerUp()}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleKeyDown=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;if(this.isToggleGameMode(r))return r.preventDefault(),this.gameMode=!this.gameMode,void this.onToggleGameMode();const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonDown(o),void r.preventDefault();const i=this.keyCodeFromEvent(r);void 0!==i&&(this.emulationService.handleKeyDown(i),r.preventDefault())},this.handleKeyUp=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonUp(o),void r.preventDefault();if("Control"===r.key){for(const i of this.activeButtons)this.emulationService.handleButtonUp(i);this.activeButtons.clear(),this.canvasDisplayService.drawButtons([])}},this.keyEventTarget=window,this.interactionsTouch=new Map,this.activeButtons=new Set,this.gameMode=!1,this.enableGamemodeHotkey=!0}bind(e,t=window){this.pointerEventTarget&&this.release(),this.pointerEventTarget=e,this.keyEventTarget=t||window,this.addEventListener(e,"mousedown",this.handleMouseDown),this.addEventListener(window,"mouseup",this.handeMouseUp),this.addEventListener(window,"mousemove",this.handleMouseMove),this.addEventListener(e,"touchstart",this.handleTouchStart),this.addEventListener(e,"touchmove",this.handleTouchMove),this.addEventListener(e,"touchend",this.handleTouchEnd),this.addEventListener(e,"touchcancel",this.handleTouchEnd),this.addEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.addEventListener(this.keyEventTarget,"keyup",this.handleKeyUp)}release(){if(this.pointerEventTarget){this.removeEventListener(this.pointerEventTarget,"mousedown",this.handleMouseDown),this.removeEventListener(window,"mouseup",this.handeMouseUp),this.removeEventListener(window,"mousemove",this.handleMouseMove),this.removeEventListener(this.pointerEventTarget,"touchstart",this.handleTouchStart),this.removeEventListener(this.pointerEventTarget,"touchmove",this.handleTouchMove),this.removeEventListener(this.pointerEventTarget,"touchend",this.handleTouchEnd),this.removeEventListener(this.pointerEventTarget,"touchcancel",this.handleTouchEnd),this.removeEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.removeEventListener(this.keyEventTarget,"keyup",this.handleKeyUp);for(const e of this.activeButtons)this.handleButtonUp(e);this.activeButtons.clear(),this.interactionsTouch.clear(),this.interactionMouse=void 0,this.pointerEventTarget=void 0}}isGameMode(){return this.gameMode}setGameMode(e){this.gameMode=e,this.onToggleGameMode()}setGameModeHotkeyEnabled(e){this.enableGamemodeHotkey=e}isGameModeHotkeyEnabled(){return this.enableGamemodeHotkey}enableKeyboardEvents(){return!0}onToggleGameMode(){}addEventListener(e,t,r,o){e.addEventListener(t,r,o)}removeEventListener(e,t,r,o){e.removeEventListener(t,r,o)}determineArea(e){return this.canvasDisplayService.isButtons(e)?2:this.canvasDisplayService.isSilkscreen(e)?1:0}handleButtonDown(e){this.activeButtons.has(e)||(this.activeButtons.add(e),this.emulationService.handleButtonDown(e),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}handleButtonUp(e){void 0===e||!this.activeButtons.has(e)||(this.activeButtons.delete(e),this.emulationService.handleButtonUp(e),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}isToggleGameMode(e){return this.isGameModeHotkeyEnabled()&&("Shift"===e.key&&e.ctrlKey||"Control"===e.key&&e.shiftKey)}isGameModeActive(e){return!this.gameMode&&e.ctrlKey||this.gameMode&&!e.ctrlKey}buttonFromEvent(e){switch(e.key){case"PageUp":return 4;case"PageDown":return 5}if(this.isGameModeActive(e))switch(e.key){case"w":case"i":case"ArrowUp":return 4;case"s":case"k":case"ArrowDown":return 5;case"a":case"j":case"y":case"z":case"ArrowLeft":return 0;case"q":case"u":case"x":return 1;case"e":case"o":case"c":return 2;case"d":case"l":case"v":case"ArrowRight":return 3}}keyCodeFromEvent(e){if(!this.isGameModeActive(e)){if(1===e.key.length&&e.key.charCodeAt(0)<=255)return e.key.charCodeAt(0);switch(e.key){case"ArrowLeft":return 28;case"ArrowRight":return 29;case"ArrowUp":return 30;case"ArrowDown":return 31;case"Backspace":return 8;case"Tab":return 9;case"Enter":return 10;default:return}}}}class Cd extends W6{constructor(e,t,r,o,i){super(e,t),this.modalWatcher=r,this.ngZone=o,this.app=i}enableKeyboardEvents(){return!this.modalWatcher.isModalActive()}onToggleGameMode(){this.app.tick()}addEventListener(e,t,r,o){this.ngZone.runOutsideAngular(()=>e.addEventListener(t,r,o))}}function Qx(n){return/\.(prc|pdb|pqa)$/i.test(n)}Cd.\u0275fac=function(e){return new(e||Cd)(he(as),he($l),he(pc),he(ut),he(ql))},Cd.\u0275prov=pt({token:Cd,factory:Cd.\u0275fac,providedIn:"root"});class X6{constructor(e,t,r,o){this.cloudpilotService=e,this.alertController=t,this.snapshotService=r,this.files=o,this.filesSuccess=[],this.filesFail=[],this.filesRequireReset=[],this.sizeInstalledSinceLastsnapshot=0,this.skipErrors=!1,this.installedDatabases=new Map}run(){var e=this;return(0,ee.Z)(function*(){for(const t of e.files){let r;try{r=yield t.getContent()}catch(o){console.warn(o),e.filesFail.push(t.name);continue}if(/\.zip/i.test(t.name)&&r.length<33554432)try{yield e.installZip(t)}catch{e.filesFail.push(t.name)}else Qx(t.name)?yield e.installOne(t.name,r):e.filesFail.push(t.name)}return[e.filesSuccess,e.filesRequireReset,e.filesFail]})()}installOne(e,t){var r=this;return(0,ee.Z)(function*(){const i=yield(yield r.cloudpilotService.cloudpilot).installDb(t);switch(i){case 2:r.filesRequireReset.push(e),r.filesSuccess.push(e),r.sizeInstalledSinceLastsnapshot+=t.length;break;case 1:r.filesSuccess.push(e),r.sizeInstalledSinceLastsnapshot+=t.length;break;default:r.filesFail.push(e),yield r.reportError(e,i)}if(2===i||1===i)try{const s=function K6(n){if(n.length<32)throw new Error("not a database");let e;for(e=0;e<32&&0!==n[e];e++);if(e>31)throw new Error("not a database");return new TextDecoder("latin1",{fatal:!1}).decode(n.subarray(0,e))}(t);r.installedDatabases.has(s)&&(yield r.errorDialog("Duplicate item",`${e} overwrites previously installed database ${r.installedDatabases.get(s)}`)),r.installedDatabases.set(s,e)}catch{}r.sizeInstalledSinceLastsnapshot>4194304&&(yield r.snapshotService.triggerSnapshot(),r.sizeInstalledSinceLastsnapshot=0),yield new Promise(s=>setTimeout(s,0))})()}installZip(e){var t=this;return(0,ee.Z)(function*(){yield(yield t.cloudpilotService.cloudpilot).withZipfileWalker(yield e.getContent(),function(){var o=(0,ee.Z)(function*(i){let s=0;for(;0===i.GetState();){const a=i.GetCurrentEntryName().replace(/^.*\//,"");if(!Qx(i.GetCurrentEntryName())){i.Next();continue}const u=i.GetCurrentEntryContent();u?(yield t.installOne(a,u),s++):t.filesFail.push(a),i.Next()}if(0===s)throw new Error("no installable files in archive")});return function(i){return o.apply(this,arguments)}}())})()}reportError(e,t){return this.errorDialog("Item failed to install",`Could not install ${e}: ${function Y6(n){switch(n){case-6:return"database exists on device and could not be overwritten";case-4:return"database file is corrupt";case-3:return"database is open on device";case-5:return"internal PalmOS error";case-2:return"not enough memory on device";default:return"unknown reason"}}(t)}.`)}errorDialog(e,t){return this.skipErrors?Promise.resolve():new Promise(r=>{this.alertController.create({header:e,backdropDismiss:!1,cssClass:"alert-checkbox-no-border installation-error",message:t,buttons:[{text:"Continue",role:"cancel",handler:()=>{this.alertController.dismiss(),r()}}],inputs:[{type:"checkbox",label:"Skip any remaining errors",cssClass:"alert-checkbox",checked:!1,handler:i=>this.skipErrors=!0===i.checked}]}).then(i=>i.present())})}}class wd{constructor(e,t,r,o,i,s){this.cloudpilotService=e,this.emulationService=t,this.loadingController=r,this.snapshotService=o,this.alertService=i,this.alertController=s}installFiles(e){var t=this;return(0,ee.Z)(function*(){const r=yield t.loadingController.create({message:"Installing..."});yield r.present(),yield t.emulationService.pause(),yield t.snapshotService.waitForPendingSnapshot();let o=[],i=[],s=[];try{[o,s,i]=yield new X6(t.cloudpilotService,t.alertController,t.snapshotService,e).run()}finally{r.dismiss(),t.emulationService.resume()}const a=[t.messageSucces(o),t.messageFailed(i),t.messageRequireReset(s)].filter(f=>!!f).join("<br/><br/>");let u;u=0===i.length?"Installation successful":0===o.length?"Installation failed":"Installation errors",t.alertService.message(u,a,s.length>0?{"Reset now":()=>t.emulationService.reset()}:void 0)})()}messageSucces(e){switch(e.length){case 0:return;case 1:return`Installation of ${e[0]} successful.`;default:return`Installation of ${e.length} items successful.`}}messageFailed(e){return e.length>0?`Installation of  ${Ab(e)} failed.`:void 0}messageRequireReset(e){return e.length>0?`${Ab(e)} require a device reset.`:void 0}}wd.\u0275fac=function(e){return new(e||wd)(he(Wi),he(as),he(Fl),he(Qa),he(eo),he(zc))},wd.\u0275prov=pt({token:wd,factory:wd.\u0275fac,providedIn:"root"});class yc{constructor(){this.onDragOver=e=>{e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.currentClient?"copy":"none")},this.onDrop=e=>{e.preventDefault(),this.currentClient&&this.currentClient.handleDragDropEvent(e)},document.addEventListener("drop",this.onDrop),document.addEventListener("dragover",this.onDragOver)}registerClient(e){this.currentClient=e}unregisterClient(e){e===this.currentClient&&(this.currentClient=void 0)}}yc.\u0275fac=function(e){return new(e||yc)},yc.\u0275prov=pt({token:yc,factory:yc.\u0275fac,providedIn:"root"});const Q6=["canvas"];function J6(n,e){if(1&n){const t=Br();ne(0,"ion-button",5),st("click",function(){return Et(t),Ht(Ot().navigation.lock())}),lt(1,"ion-icon",10),X()}}function eH(n,e){if(1&n){const t=Br();ne(0,"ion-button",5),st("click",function(){return Et(t),Ht(Ot().navigation.unlock())}),lt(1,"ion-icon",11),X()}}function tH(n,e){if(1&n){const t=Br();ne(0,"ion-button",5),st("click",function(){return Et(t),Ht(Ot().showGameModeHint())}),lt(1,"ion-icon",12),X()}}function nH(n,e){if(1&n){const t=Br();ne(0,"ion-button",5),st("click",function(){return Et(t),Ht(Ot().showProxyConnectedHint())}),lt(1,"ion-icon",13),X()}}function rH(n,e){if(1&n){const t=Br();ne(0,"ion-button",5),st("click",function(){return Et(t),Ht(Ot().showSlowdowndHint())}),lt(1,"ion-icon",14),X()}}function oH(n,e){if(1&n){const t=Br();ne(0,"div",15),Ze(1," The device was reset forcefully. How do you want to boot? "),ne(2,"ion-button",16),st("click",function(){return Et(t),Ht(Ot().bootAfterForcefulReset())}),Ze(3,"Normal boot"),X(),ne(4,"ion-button",16),st("click",function(){return Et(t),Ht(Ot().bootAfterForcefulResetNoExtensions())}),Ze(5,"No extensions"),X(),ne(6,"ion-button",16),st("click",function(){return Et(t),Ht(Ot().bootAfterForcefulResetHardReset())}),Ze(7,"Hard reset"),X()()}}function iH(n,e){1&n&&(ne(0,"div",15)(1,"div"),Ze(2,"No session selected"),X()())}class Cp{constructor(e,t,r,o,i,s,a,u,f,g,v,D,T,K,me,je,Ye,yt){var Oe=this;this.emulationService=e,this.emulationState=t,this.storageService=r,this.eventHandlingService=o,this.canvasDisplayService=i,this.kvsService=s,this.popoverController=a,this.modalController=u,this.alertService=f,this.fileService=g,this.snapshotService=v,this.installlationService=D,this.proxyService=T,this.navigation=K,this.linkApi=me,this.performanceWatchdogService=je,this.cloudpilotService=Ye,this.dragDropService=yt,this.ionViewDidEnter=()=>this.mutex.runExclusive((0,ee.Z)(function*(){yield Oe.emulationService.bootstrapComplete(),Oe.boostrapComplete=!0;const At=Oe.emulationState.getCurrentSession();At&&!At.wasResetForcefully&&(yield Oe.launchEmulator()),Oe.linkApi.installation.requestEvent.addHandler(Oe.handleLinkApiInstallationRequest),Oe.handleLinkApiInstallationRequest(),Oe.dragDropService.registerClient(Oe)})),this.ionViewWillLeave=()=>this.mutex.runExclusive(()=>{this.dragDropService.unregisterClient(this),this.linkApi.installation.requestEvent.removeHandler(this.handleLinkApiInstallationRequest),this.emulationService.isRunning()&&(this.autoLockUI=!1),this.emulationService.pause(),this.emulationService.newFrameEvent.removeHandler(this.onNewFrame),this.snapshotService.snapshotEvent.removeHandler(this.onSnapshot),this.kvsService.updateEvent.removeHandler(this.onKvsUpdate),this.eventHandlingService.release(),this.navigation.unlock()}),this.onKvsUpdate=()=>{this.kvsService.kvs.showStatistics?this.canvasDisplayService.updateStatistics():this.canvasDisplayService.clearStatistics()},this.onSnapshot=At=>{this.kvsService.kvs.showStatistics&&this.canvasDisplayService.updateStatistics(At,this.emulationService.getStatistics())},this.onNewFrame=At=>{this.canvasDisplayService.updateEmulationCanvas(At)},this.handleLinkApiInstallationRequest=()=>{if(!this.linkApi.installation.hasPendingRequest())return;const At=this.linkApi.installation.receivePendingUrl();At&&(this.installFileDisabled?this.alertService.message("Unable to install","Installation is currently not possible.",{},"Cancel"):this.emulationState.getCurrentSession()&&this.emulationService.isRunning()?this.alertService.message("Installation request",`Do you want to install<br>${At} ?`,{OK:()=>this.fileService.openUrl(At,Zn=>this.installlationService.installFiles([Zn]))},"Cancel"):this.alertService.message("Unable to install",`Please start a session in order to install ${At} .`,{},"Cancel"))},this.boostrapComplete=!1,this.autoLockUI=!0,this.mutex=new Ya}get cssWidth(){return this.canvasDisplayService.width/devicePixelRatio+"px"}get cssHeight(){return this.canvasDisplayService.height/devicePixelRatio+"px"}openContextMenu(e){var t=this;return(0,ee.Z)(function*(){(yield t.popoverController.create({component:bp,event:e,componentProps:{showHelp:()=>t.showHelp()},arrow:!1})).present()})()}handleDragDropEvent(e){this.installFileDisabled||this.fileService.openFromDrop(e,this.installlationService.installFiles.bind(this.installlationService))}installFiles(){this.fileService.openFiles(this.installlationService.installFiles.bind(this.installlationService))}showHelp(){var e=this;return(0,ee.Z)(function*(){yield(yield e.modalController.create({component:va,componentProps:{url:"assets/doc/emulation.md"}})).present()})()}showGameModeHint(){var e=this;return(0,ee.Z)(function*(){yield e.alertService.message("Game mode","\n                The keyboard is in game mode and controls the hardware buttons.\n                Press ctrl-shift in order to exit game mode.\n                <br/><br/>\n                Check the help page for a description of the different keyboard mappings.\n            ",{Help:()=>e.showHelp()})})()}showProxyConnectedHint(){var e=this;return(0,ee.Z)(function*(){yield e.alertService.message("Proxy connected","Network proxy connected.")})()}showSlowdowndHint(){var e=this;return(0,ee.Z)(function*(){yield e.alertService.message("Speed throttled","\n                Your host is too slow to run your virtual device at full speed, and the clock\n                has been throttled in order to compensate. You can avoid this by reducing the speed of your\n                virtual device in the session settings.\n        ")})()}get installFileDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get title(){return this.emulationState.getCurrentSession()?.name||""}bootAfterForcefulReset(){var e=this;return(0,ee.Z)(function*(){yield e.clearForcefulReset(),yield e.launchEmulator()})()}bootAfterForcefulResetNoExtensions(){var e=this;return(0,ee.Z)(function*(){yield e.clearForcefulReset(),(yield e.cloudpilotService.cloudpilot).resetNoExtensions(),yield e.launchEmulator()})()}bootAfterForcefulResetHardReset(){var e=this;return(0,ee.Z)(function*(){yield e.clearForcefulReset(),(yield e.cloudpilotService.cloudpilot).resetHard(),yield e.launchEmulator()})()}cancelIfEmulationActive(e){this.emulationState.getCurrentSession()&&!this.emulationState.getCurrentSession()?.wasResetForcefully&&e.cancelable&&e.preventDefault()}clearForcefulReset(){var e=this;return(0,ee.Z)(function*(){const t=e.emulationState.getCurrentSession();t&&(yield e.storageService.updateSessionPartial(t.id,{wasResetForcefully:!1}))})()}launchEmulator(){var e=this;return(0,ee.Z)(function*(){const t=e.emulationState.getCurrentSession();t&&(yield e.kvsService.mutex.runExclusive(()=>e.kvsService.kvs.autoLockUI&&e.autoLockUI&&e.navigation.lock()),e.canvasDisplayService.initialize(e.canvasRef.nativeElement,t).then(()=>{e.onKvsUpdate(),e.kvsService.updateEvent.addHandler(e.onKvsUpdate)}),e.onNewFrame(e.emulationService.getCanvas()),e.emulationService.newFrameEvent.addHandler(e.onNewFrame),e.snapshotService.snapshotEvent.addHandler(e.onSnapshot),yield e.emulationService.resume(),e.eventHandlingService.bind(e.canvasRef.nativeElement))})()}}function Hb(n,e,t){return()=>{const r=t();r!==e&&(n.markForCheck(),e=r)}}function Jx(n,e){let t=n,r=1;for(;e(t);)t=`${n} (${r++})`;return t}Cp.\u0275fac=function(e){return new(e||Cp)(S(as),S(Ss),S(nr),S(Cd),S($l),S(ii),S(Wc),S(ws),S(eo),S(Bs),S(Qa),S(wd),S(hc),S(tu),S(Xl),S(nu),S(Wi),S(yc))},Cp.\u0275cmp=Le({type:Cp,selectors:[["app-emulation"]],viewQuery:function(e,t){if(1&e&&$u(Q6,5),2&e){let r;Fs(r=Os())&&(t.canvasRef=r.first)}},decls:21,vars:19,consts:[["slot","end"],[3,"disabled","click"],["name","download-outline"],[3,"click",4,"ngIf"],["slot","start"],[3,"click"],["name","ellipsis-vertical-outline"],[1,"container","running-session",3,"touchstart","touchmove"],["canvas",""],["class","container no-session",4,"ngIf"],["name","lock-open-outline"],["name","lock-closed-outline"],["name","game-controller-outline"],["name","swap-vertical-outline"],["name","speedometer-outline"],[1,"container","no-session"],["type","button","color","light",3,"click"]],template:function(e,t){if(1&e&&(ne(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ze(3),X(),ne(4,"ion-buttons",0)(5,"ion-button",1),st("click",function(){return t.installFiles()}),lt(6,"ion-icon",2),X(),Qt(7,J6,2,0,"ion-button",3),Qt(8,eH,2,0,"ion-button",3),X(),ne(9,"ion-buttons",4)(10,"ion-button",5),st("click",function(o){return t.openContextMenu(o)}),lt(11,"ion-icon",6),X(),Qt(12,tH,2,0,"ion-button",3),Qt(13,nH,2,0,"ion-button",3),Qt(14,rH,2,0,"ion-button",3),X()()(),ne(15,"ion-content")(16,"div",7),st("touchstart",function(o){return t.cancelIfEmulationActive(o)})("touchmove",function(o){return t.cancelIfEmulationActive(o)}),lt(17,"canvas",null,8),X(),Qt(19,oH,8,0,"div",9),Qt(20,iH,3,0,"div",9),X()),2&e){let r,o;Xe(3),Rs(t.title),Xe(2),nt("disabled",t.installFileDisabled),Xe(2),nt("ngIf",!t.navigation.isLocked()),Xe(1),nt("ngIf",t.navigation.isLocked()),Xe(4),nt("ngIf",t.eventHandlingService.isGameMode()),Xe(1),nt("ngIf",t.proxyService.isConnected()),Xe(1),nt("ngIf",t.performanceWatchdogService.isSlowdownDetected()),Xe(1),yl("locked",t.navigation.isLocked()),Xe(1),ff("display",!t.emulationState.getCurrentSession()||null!=(r=t.emulationState.getCurrentSession())&&r.wasResetForcefully?"none":void 0),Xe(1),ff("width",t.cssWidth)("height",t.cssHeight)("display",t.emulationState.getCurrentSession()?"block":"none"),Xe(2),nt("ngIf",null!=(o=t.emulationState.getCurrentSession())&&o.wasResetForcefully?"none":void 0),Xe(1),nt("ngIf",!t.emulationState.getCurrentSession()&&t.boostrapComplete)}},dependencies:[fi,es,ts,ns,rs,hi,is,ss],styles:["ion-title[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:3px}.container.no-session[_ngcontent-%COMP%]{text-align:center;padding:1em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:1em;width:100%;max-width:20em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-of-type{margin-top:3em}ion-content.locked[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-bottom:var(--ion-safe-area-bottom, 0)}.container.running-session[_ngcontent-%COMP%]{background:radial-gradient(circle,#ccc 0%,#eee 100%)}@media (prefers-color-scheme: dark){.container.running-session[_ngcontent-%COMP%]{background:none}}canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}"]});class wp{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onDelete=()=>{},this.onReset=()=>{}}}wp.\u0275fac=function(e){return new(e||wp)},wp.\u0275cmp=Le({type:wp,selectors:[["app-session-context-menu"]],inputs:{onEdit:"onEdit",onSave:"onSave",onDelete:"onDelete",onReset:"onReset"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,t){1&e&&(ne(0,"ion-list")(1,"ion-item",0),st("click",function(){return t.onEdit()}),lt(2,"ion-icon",1),Ze(3," Edit "),X(),ne(4,"ion-item",0),st("click",function(){return t.onSave()}),lt(5,"ion-icon",2),Ze(6," Save "),X(),ne(7,"ion-item",0),st("click",function(){return t.onReset()}),lt(8,"ion-icon",3),Ze(9," Reset "),X(),ne(10,"ion-item",4),st("click",function(){return t.onDelete()}),lt(11,"ion-icon",5),Ze(12," Delete "),X()()),2&e&&(Xe(1),nt("detail",!1),Xe(3),nt("detail",!1),Xe(3),nt("detail",!1),Xe(3),nt("detail",!1))},dependencies:[hi,oi,Za]});const aH=["slidingItem"];function lH(n,e){if(1&n&&(ne(0,"span"),Ze(1),X()),2&n){const t=Ot();Xe(1),Gi(", OS ",t.decodeVersion(null==t.session?null:t.session.osVersion),"")}}class Sp{constructor(e){this.popoverController=e,this.selected=!1,this.touched=!1,this.delete=new xn,this.resetSession=new xn,this.edit=new xn,this.save=new xn,this.selectItem=new xn,this.interaction=new xn}get device(){return this.session?Tx(this.session.device):""}onContextmenu(e){var t=this;return(0,ee.Z)(function*(){e.stopPropagation(),e.preventDefault(),t.interaction.emit(),(yield t.popoverController.create({component:wp,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>t.edit.emit(),onSave:()=>t.save.emit(),onDelete:()=>t.delete.emit(),onReset:()=>t.resetSession.emit()},reference:"event"})).present()})()}decodeVersion(e){if(void 0===e)return"";const t=function sH(n){return{major:n>>>24&255,minor:n>>>20&15,fix:n>>>16&15,stage:n>>>12&15,build:4095&n}}(e);return`${t.major}.${t.minor}`}get color(){return this.selected?"primary":this.touched?"light":void 0}}function cH(n,e){1&n&&(ne(0,"div",10),lt(1,"ion-spinner"),X())}function uH(n,e){1&n&&(ne(0,"div",11)(1,"div",12),Ze(2," No sessions. Select the \u201e+\u201c icon in the upper right corner in order to import a ROM file or a session image. "),lt(3,"br")(4,"br"),Ze(5," You can find a collection of compatible ROMs on "),ne(6,"a",13),Ze(7,"PalmDB"),X(),Ze(8,". "),X()())}function dH(n,e){if(1&n){const t=Br();ne(0,"app-session-item",15),st("delete",function(){const i=Et(t).$implicit;return Ht(Ot(2).deleteSession(i))})("selectItem",function(){const i=Et(t).$implicit;return Ht(Ot(2).launchSession(i))})("edit",function(){const i=Et(t).$implicit;return Ht(Ot(2).editSession(i))})("save",function(){const i=Et(t).$implicit;return Ht(Ot(2).saveSession(i))})("resetSession",function(){const i=Et(t).$implicit;return Ht(Ot(2).resetSession(i))})("interaction",function(){const i=Et(t).$implicit;return Ht(Ot(2).lastSessionTouched=i.id)}),X()}if(2&n){const t=e.$implicit,r=Ot(2);nt("session",t)("selected",r.currentSessionId===t.id)("touched",t.id===r.lastSessionTouched)}}function fH(n,e){if(1&n&&(ne(0,"ion-list"),Qt(1,dH,1,3,"app-session-item",14),X()),2&n){const t=Ot();Xe(1),nt("ngForOf",t.sessions)("ngForTrackBy",t.trackSessionBy)}}Sp.\u0275fac=function(e){return new(e||Sp)(S(Wc))},Sp.\u0275cmp=Le({type:Sp,selectors:[["app-session-item"]],viewQuery:function(e,t){if(1&e&&$u(aH,5),2&e){let r;Fs(r=Os())&&(t.slidingItem=r.first)}},inputs:{session:"session",selected:"selected",touched:"touched"},outputs:{delete:"delete",resetSession:"resetSession",edit:"edit",save:"save",selectItem:"selectItem",interaction:"interaction"},decls:19,vars:7,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","refresh-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],[4,"ngIf"]],template:function(e,t){if(1&e){const r=Br();ne(0,"ion-item-sliding",0,1),st("contextmenu",function(i){return t.onContextmenu(i)})("ionDrag",function(){return t.interaction.emit()}),ne(2,"ion-item-options",2)(3,"ion-item-option",3),st("click",function(){return Et(r),Ps(1).close(),Ht(t.edit.emit(t.session))}),lt(4,"ion-icon",4),X(),ne(5,"ion-item-option",5),st("click",function(){return Et(r),Ps(1).close(),Ht(t.save.emit(t.session))}),lt(6,"ion-icon",6),X()(),ne(7,"ion-item-options",7)(8,"ion-item-option",8),st("click",function(){return Et(r),Ps(1).close(),Ht(t.resetSession.emit(t.session))}),lt(9,"ion-icon",9),X(),ne(10,"ion-item-option",10),st("click",function(){return Et(r),Ps(1).close(),Ht(t.delete.emit(t.session))}),lt(11,"ion-icon",11),X()(),ne(12,"ion-item",12),st("click",function(){return t.selectItem.emit()}),ne(13,"ion-label")(14,"h2"),Ze(15),X(),ne(16,"p"),Ze(17),Qt(18,lH,2,1,"span",13),X()()()()}2&e&&(Xe(12),nt("color",t.color),Xe(1),yl("in-item-color",t.selected),Xe(2),Rs(null==t.session?null:t.session.name),Xe(2),hf("",t.device,", ",null==t.session?null:t.session.ram,"MB RAM"),Xe(1),nt("ngIf",null==t.session?null:t.session.osVersion))},dependencies:[fi,hi,oi,Um,jm,Gm,os],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}"],changeDetection:0});class tl{constructor(e,t,r,o,i,s,a,u,f,g,v,D,T){this.sessionService=e,this.fileService=t,this.alertController=r,this.alertService=o,this.emulationService=i,this.emulationState=s,this.storageService=a,this.modalController=u,this.linkApi=f,this.router=g,this.cloudpilotService=v,this.dragDropService=D,this.cd=T,this.handleLinkApiImportRequest=()=>{if(!this.linkApi.import.hasPendingRequest())return;const K=this.linkApi.import.receivePendingUrl();K&&this.alertService.message("Import request",`Do you want to import<br>${K} ?`,{OK:()=>this.fileService.openUrl(K,this.processFile.bind(this))},"Cancel")},this.lastSessionTouched=-1,this.checkSessions=Hb(T,[],()=>this.sessionService.getSessions())}ngDoCheck(){this.checkSessions()}ionViewDidEnter(){this.linkApi.import.requestEvent.addHandler(this.handleLinkApiImportRequest),this.handleLinkApiImportRequest(),this.dragDropService.registerClient(this)}ionViewWillLeave(){this.dragDropService.unregisterClient(this),this.linkApi.import.requestEvent.removeHandler(this.handleLinkApiImportRequest)}get sessions(){return this.sessionService.getSessions().sort((e,t)=>e.name.localeCompare(t.name))}deleteSession(e){var t=this;return(0,ee.Z)(function*(){yield(yield t.alertController.create({header:"Warning",message:`Deleting the session '${e.name}' will remove all associated data. This cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:()=>t.sessionService.deleteSession(e)}],backdropDismiss:!1})).present()})()}editSession(e){var t=this;return(0,ee.Z)(function*(){const r={...e};(yield t.editSettings(e))&&!jx()(e,r)&&(yield t.sessionService.updateSession(e))})()}importSession(){this.fileService.openFile(this.processFile.bind(this))}saveSession(e){return this.fileService.saveSession(e)}trackSessionBy(e,t){return t.id}launchSession(e){var t=this;return(0,ee.Z)(function*(){t.lastSessionTouched=e.id,t.currentSessionOverride=e.id,t.cd.markForCheck();const r=yield t.emulationService.switchSession(e.id);t.currentSessionOverride=void 0,t.cd.markForCheck(),r&&t.router.navigateByUrl("/tab/emulation")})()}resetSession(e){var t=this;return(0,ee.Z)(function*(){const r=e.id===t.emulationState.getCurrentSession()?.id;r&&(yield t.emulationService.stop()),yield t.storageService.deleteStateForSession(e),yield t.storageService.updateSessionPartial(e.id,{wasResetForcefully:!0}),r&&(yield t.emulationService.switchSession(e.id)),yield(yield t.alertController.create({header:"Done",message:`Session ${e.name} has been reset.`,buttons:[{text:"Close",role:"cancel"}],backdropDismiss:!1})).present()})()}get currentSessionId(){return this.currentSessionOverride??this.emulationState.getCurrentSession()?.id}showHelp(){var e=this;return(0,ee.Z)(function*(){yield(yield e.modalController.create({component:va,componentProps:{url:"assets/doc/sessions.md"}})).present()})()}handleDragDropEvent(e){this.fileService.openFromDrop(e,this.handleDropFiles.bind(this))}handleDropFiles(e){if(0!==e.length){if(e.length>1)return void this.alertService.errorMessage("Drop a single ROM or session image in order to create a new session.");this.processFile(e[0])}}processFile(e){var t=this;return(0,ee.Z)(function*(){if(!/\.(img|rom|bin)$/i.test(e.name))return void t.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .img and .rom.");let r;try{r=yield e.getContent()}catch(i){return console.warn(i),void(yield t.alertService.errorMessage(`Unable to open ${e.name}.`))}const o=(yield t.cloudpilotService.cloudpilot).deserializeSessionImage(r);if(o){const i={name:t.disambiguateSessionName(o.metadata?.name??e.name),hotsyncName:o.metadata?.hotsyncName,device:o.deviceId,dontManageHotsyncName:o.metadata?.dontManageHotsyncName,speed:o.metadata?.speed,deviceOrientation:o.metadata?.deviceOrientation};if(yield t.editSettings(i)){const s=yield t.sessionService.addSessionFromImage(o,i.name,i);t.lastSessionTouched=s.id}}else{const i=(yield t.cloudpilotService.cloudpilot).getRomInfo(r);if(!i)return void t.alertService.errorMessage("Not a valid session file or ROM image.");if(0===i.supportedDevices.length)return void t.alertService.errorMessage("No supported device for this ROM.");const s={name:t.disambiguateSessionName(e.name),hotsyncName:"",device:i.supportedDevices[0]};if(yield t.editSettings(s,i.supportedDevices)){const a=yield t.sessionService.addSessionFromRom(r,s.name,s.device,s);t.lastSessionTouched=a.id}}})()}editSettings(e,t=[e.device]){return new Promise(r=>{let o;this.modalController.create({component:vd,backdropDismiss:!1,componentProps:{session:e,availableDevices:t,onSave:()=>{o.dismiss(),r(!0)},onCancel:()=>{o.dismiss(),r(!1)}}}).then(i=>{o=i,o.present()})})}disambiguateSessionName(e){const t=this.sessionService.getSessions();return Jx(e,r=>t.some(o=>o.name===r))}}function pH(n,e){1&n&&(ne(0,"ion-item",8)(1,"ion-label"),Ze(2,"Clipboard integration"),X(),lt(3,"ion-toggle",17),X())}function hH(n,e){if(1&n){const t=Br();ne(0,"ion-item",8)(1,"ion-label",18),Ze(2,"Proxy server"),X(),ne(3,"div",19),lt(4,"ion-input",20),ne(5,"ion-button",21),st("click",function(o){Et(t);const i=Ot();return o.preventDefault(),o.stopPropagation(),Ht(i.testProxyConnection())})("touchstart",function(o){Et(t);const i=Ot();return o.preventDefault(),o.stopPropagation(),Ht(i.testProxyConnection())}),Ze(6," Test "),X()()()}if(2&n){const t=Ot();Xe(5),nt("disabled",!t.proxyServerValid)}}tl.\u0275fac=function(e){return new(e||tl)(S(Ja),S(Bs),S(zc),S(eo),S(as),S(Ss),S(nr),S(ws),S(Xl),S(Wo),S(Wi),S(yc),S(St))},tl.\u0275cmp=Le({type:tl,selectors:[["app-sessions"]],decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],["href","https://palmdb.net/app/palm-roms-complete","target","_blank","rel","external"],[3,"session","selected","touched","delete","selectItem","edit","save","resetSession","interaction",4,"ngFor","ngForOf","ngForTrackBy"],[3,"session","selected","touched","delete","selectItem","edit","save","resetSession","interaction"]],template:function(e,t){1&e&&(ne(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ze(3,"Sessions"),X(),ne(4,"ion-buttons",0)(5,"ion-button",1),st("click",function(){return t.importSession()}),lt(6,"ion-icon",2),X()(),ne(7,"ion-buttons",3)(8,"ion-button",1),st("click",function(){return t.showHelp()}),lt(9,"ion-icon",4),X(),lt(10,"app-pwa-prompt"),X()()(),ne(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),Ze(15,"Sessions"),X()()(),Qt(16,cH,2,0,"div",7),Qt(17,uH,9,0,"div",8),Qt(18,fH,2,2,"ion-list",9),X()),2&e&&(Xe(16),nt("ngIf",t.sessionService.isLoading()),Xe(1),nt("ngIf",!t.sessionService.isLoading()&&0===t.sessions.length),Xe(1),nt("ngIf",!t.sessionService.isLoading()&&t.sessions.length>0))},dependencies:[Oc,fi,es,ts,ns,rs,hi,Za,ip,is,ss,gc,Sp],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"]}),U([mo()],tl.prototype,"deleteSession",null),U([mo()],tl.prototype,"editSession",null),U([mo()],tl.prototype,"saveSession",null),U([mo()],tl.prototype,"launchSession",null),U([mo()],tl.prototype,"resetSession",null);class Ep{constructor(e,t,r,o,i){this.modalController=e,this.kvsService=t,this.clipboardService=r,this.alertService=o,this.proxyService=i,this.onAudioOnStartChange=s=>{this.kvsService.kvs.enableAudioOnFirstInteraction=s,s&&this.alertService.message("Enable audio on start","\n            Audio will automatically turn on after the first interaction with the application\n            (i.e. touch, click or keyboard event). This option will only take effect the next time\n            Coudpilot is restarts.\n        ")},this.connectionTestInProgress=!1}ngOnInit(){this.createFormGroup()}showHelp(){var e=this;return(0,ee.Z)(function*(){yield(yield e.modalController.create({component:va,componentProps:{url:"assets/doc/settings.md"}})).present()})()}ionViewWillEnter(){this.mutexReleasePromise=this.kvsService.mutex.acquire()}ionViewWillLeave(){var e=this;return(0,ee.Z)(function*(){e.formGroup.get("networkRedirection")?.value&&!e.formGroup.get("proxyServer")?.valid&&(e.alertService.message("Invalid proxy server","The proxy server you specified is invalid. Network redirection will be disabled."),e.formGroup.get("networkRedirection").setValue(!1)),e.formGroup.get("networkRedirection")?.value||e.formGroup.get("proxyServer")?.setValue(e.kvsService.kvs.proxyServer),yield e.kvsService.set({volume:e.formGroup.get("volume").value,showStatistics:e.formGroup.get("showStatistics").value,clipboardIntegration:e.formGroup.get("clipboardIntegration")?.value,networkRedirection:e.formGroup.get("networkRedirection")?.value,proxyServer:e.formGroup.get("proxyServer")?.value,runHidden:e.formGroup.get("runHidden")?.value,autoLockUI:e.formGroup.get("autoLockUI")?.value,enableRemoteInstall:e.formGroup.get("enableRemoteInstall")?.value,enableAudioOnFirstInteraction:e.formGroup.get("audioOnStart")?.value}),e.mutexReleasePromise&&(yield e.mutexReleasePromise)()})()}testProxyConnection(){var e=this;return(0,ee.Z)(function*(){if(!e.connectionTestInProgress){e.connectionTestInProgress=!0;try{switch((yield e.proxyService.handshake(e.formGroup.get("proxyServer")?.value,0)).status){case"failed":e.alertService.errorMessage("Unable to connect to proxy");break;case"version_mismatch":e.alertService.proxyVersionMismatchError();break;default:e.alertService.message("Success","Connection to proxy successful.")}}finally{e.connectionTestInProgress=!1}}})()}get showProxyServer(){return this.formGroup.get("networkRedirection")?.value}get proxyServerValid(){const e=this.formGroup.get("proxyServer");return!(!e?.value||!e?.valid)}createFormGroup(){this.formGroup=new um({volume:new pi(this.kvsService.kvs.volume),showStatistics:new pi(this.kvsService.kvs.showStatistics),runHidden:new pi(this.kvsService.kvs.runHidden),clipboardIntegration:new pi(this.kvsService.kvs.clipboardIntegration),networkRedirection:new pi(this.kvsService.kvs.networkRedirection),proxyServer:new pi(this.kvsService.kvs.proxyServer,{validators:[BG]}),autoLockUI:new pi(this.kvsService.kvs.autoLockUI),enableRemoteInstall:new pi(this.kvsService.kvs.enableRemoteInstall),audioOnStart:new pi(this.kvsService.kvs.enableAudioOnFirstInteraction)}),this.formGroup.get("audioOnStart")?.valueChanges.subscribe(this.onAudioOnStartChange)}}Ep.\u0275fac=function(e){return new(e||Ep)(S(ws),S(ii),S(Kc),S(eo),S(hc))},Ep.\u0275cmp=Le({type:Ep,selectors:[["app-settings"]],decls:51,vars:4,consts:[[3,"translucent"],["slot","secondary"],[3,"click"],["name","help-outline"],["collapse","condense"],["size","large"],[1,"settings-container"],[1,"settings-form",3,"formGroup"],["lines","none"],["min","0","max","1","step","0.1","formControlName","volume"],["formControlName","audioOnStart"],["formControlName","runHidden"],["lines","none",4,"ngIf"],["formControlName","networkRedirection"],["formControlName","autoLockUI"],["formControlName","showStatistics"],["formControlName","enableRemoteInstall"],["formControlName","clipboardIntegration"],["position","stacked"],[1,"server-container"],["placeholder","Proxy server host or URL","formControlName","proxyServer"],[3,"disabled","click","touchstart"]],template:function(e,t){1&e&&(ne(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ze(3,"Settings"),X(),ne(4,"ion-buttons",1)(5,"ion-button",2),st("click",function(){return t.showHelp()}),lt(6,"ion-icon",3),X(),lt(7,"app-pwa-prompt"),X()()(),ne(8,"ion-content")(9,"ion-header",4)(10,"ion-toolbar")(11,"ion-title",5),Ze(12,"Settings"),X()()(),ne(13,"div",6)(14,"form",7)(15,"h1"),Ze(16,"Emulation"),X(),ne(17,"ion-item",8)(18,"ion-label"),Ze(19,"Volume"),X(),lt(20,"ion-range",9),X(),ne(21,"ion-item",8)(22,"ion-label"),Ze(23,"Enable audio on start"),X(),lt(24,"ion-toggle",10),X(),ne(25,"ion-item",8)(26,"ion-label"),Ze(27,"Run when hidden"),X(),lt(28,"ion-toggle",11),X(),ne(29,"h1"),Ze(30,"Host integration"),X(),Qt(31,pH,4,0,"ion-item",12),ne(32,"ion-item",8)(33,"ion-label"),Ze(34,"Network redirection"),X(),lt(35,"ion-toggle",13),X(),Qt(36,hH,7,1,"ion-item",12),ne(37,"h1"),Ze(38,"UI"),X(),ne(39,"ion-item",8)(40,"ion-label"),Ze(41,"Auto-lock UI"),X(),lt(42,"ion-toggle",14),X(),ne(43,"ion-item",8)(44,"ion-label"),Ze(45,"Show statistics"),X(),lt(46,"ion-toggle",15),X(),ne(47,"ion-item",8)(48,"ion-label"),Ze(49,"Open from remote sources"),X(),lt(50,"ion-toggle",16),X()()()()),2&e&&(nt("translucent",!0),Xe(14),nt("formGroup",t.formGroup),Xe(17),nt("ngIf",t.clipboardService.isSupported()),Xe(5),nt("ngIf",t.showProxyServer))},dependencies:[fi,kl,Dl,Il,es,ts,ns,rs,hi,Rl,oi,os,lb,is,sp,ss,sd,op,Pl,gc,ga,Ha],styles:[".server-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.server-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex-grow:1}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.settings-form[_ngcontent-%COMP%]{max-width:40em;flex-basis:100%}ion-item[_ngcontent-%COMP%]{--background: none}"]});class ru{transform(e){return void 0!==e?`${Math.round(e/1024/1024)} MB`:""}}function mH(n,e){1&n&&(ne(0,"div",14)(1,"b"),Ze(2,"WARNING:"),X(),Ze(3," This image cannot be used as a memory stick image."),X())}ru.\u0275fac=function(e){return new(e||ru)},ru.\u0275pipe=jn({name:"cardSize",type:ru,pure:!0});class Sd{constructor(e){this.storageCardService=e,this.validateNameUnique=t=>this.storageCardService.getAllCards().some(r=>r.name===t.value&&r.name!==this.card?.name)?{name:"already taken"}:null,this.formGroup=new nc({name:new Cs("",{nonNullable:!0,validators:[Ff.required,this.validateNameUnique]}),size:new Cs({value:"dummy",disabled:!0}),checkAutomatically:new Cs(!0,{nonNullable:!0})}),this.newCard=!1,this.cardSupportLevel=2,this.onCancel=()=>{},this.onSave=()=>{}}ngOnInit(){this.card&&(this.formGroup.controls.name.setValue(this.card.name),this.formGroup.controls.checkAutomatically.setValue(!this.card.dontFsckAutomatically))}save(){!this.formGroup.valid||!this.formGroup.value.name||!this.card||this.onSave({name:this.formGroup.value.name,dontFsckAutomatically:!this.formGroup.value.checkAutomatically})}onEnter(){this.save()}get memoryStickSupported(){return 2===this.cardSupportLevel}}function gH(n,e){if(1&n&&(ne(0,"ion-select-option",13),Ze(1),Ba(2,"cardSize"),X()),2&n){const t=e.$implicit,r=Ot();nt("value",t),Xe(1),Gi("",Va(2,2,r.sizeBytes(t))," ")}}Sd.\u0275fac=function(e){return new(e||Sd)(S(ba))},Sd.\u0275cmp=Le({type:Sd,selectors:[["app-edit-card-dialog"]],inputs:{card:"card",newCard:"newCard",cardSupportLevel:"cardSupportLevel",onCancel:"onCancel",onSave:"onSave"},decls:28,vars:7,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],["value","dummy"],["formControlName","checkAutomatically"],["class","sd-only-warning",4,"ngIf"],[1,"sd-only-warning"]],template:function(e,t){1&e&&(ne(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ze(3),X(),ne(4,"ion-buttons",1)(5,"ion-button",2),st("click",function(){return t.save()}),Ze(6,"Save"),X()(),ne(7,"ion-buttons",3)(8,"ion-button",4),st("click",function(){return t.onCancel()}),Ze(9,"Cancel"),X()()()(),ne(10,"ion-content",5)(11,"form",6),st("keydown.enter",function(){return t.onEnter()}),ne(12,"ion-item",7)(13,"ion-label",8),Ze(14,"Card name"),X(),lt(15,"ion-input",9),X(),ne(16,"ion-item",7)(17,"ion-label",8),Ze(18,"Card size"),X(),ne(19,"ion-select",10)(20,"ion-select-option",11),Ze(21),Ba(22,"cardSize"),X()()(),ne(23,"ion-item",7)(24,"ion-label"),Ze(25,"Check for errors automatically"),X(),lt(26,"ion-toggle",12),X()(),Qt(27,mH,4,0,"div",13),X()),2&e&&(Xe(3),Rs(t.newCard?"New memory card":"Edit memory card"),Xe(2),nt("disabled",t.formGroup.invalid),Xe(6),nt("formGroup",t.formGroup),Xe(10),Gi("",Va(22,5,null==t.card?null:t.card.size)," "),Xe(6),nt("ngIf",!t.memoryStickSupported))},dependencies:[fi,es,ts,ns,rs,Rl,oi,os,Hm,zm,is,sp,ss,sd,op,Pl,kl,Dl,Il,ga,Ha,ru],styles:[".sd-only-warning[_ngcontent-%COMP%]{padding:2em 1em}"]});const _H=[Io.mb4,Io.mb8,Io.mb16,Io.mb32,Io.mb64,Io.mb128];class Dp{constructor(e){this.storageCardService=e,this.validateNameUnique=t=>this.storageCardService.getAllCards().some(r=>r.name===t.value)?{name:"already taken"}:null,this.onCreate=()=>{},this.onCancel=()=>{},this.formGroup=new nc({name:new Cs("",{nonNullable:!0,validators:[Ff.required,this.validateNameUnique]}),size:new Cs(Io.mb32,{nonNullable:!0}),checkAutomatically:new Cs(!0,{nonNullable:!0})})}get sizes(){return _H}sizeBytes(e){return function e6(n){switch(n){case Io.mb4:return 4046848;case Io.mb8:return 8110080;case Io.mb16:return 16220160;case Io.mb32:return 32473088;case Io.mb64:return 64978944;case Io.mb128:return 129990656;default:throw new Error(`bad card size ${n}`)}}(e)}create(){!this.formGroup.valid||void 0===this.formGroup.value.name||void 0===this.formGroup.value.size||this.onCreate(this.formGroup.value.name,this.formGroup.value.size,!this.formGroup.value.checkAutomatically)}onEnter(){this.create()}}Dp.\u0275fac=function(e){return new(e||Dp)(S(ba))},Dp.\u0275cmp=Le({type:Dp,selectors:[["app-new-card-dialog"]],inputs:{onCreate:"onCreate",onCancel:"onCancel"},decls:25,vars:3,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],[3,"value",4,"ngFor","ngForOf"],["formControlName","checkAutomatically"],[3,"value"]],template:function(e,t){1&e&&(ne(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ze(3,"New memory card"),X(),ne(4,"ion-buttons",1)(5,"ion-button",2),st("click",function(){return t.create()}),Ze(6,"Create"),X()(),ne(7,"ion-buttons",3)(8,"ion-button",4),st("click",function(){return t.onCancel()}),Ze(9,"Cancel"),X()()()(),ne(10,"ion-content",5)(11,"form",6),st("keydown.enter",function(){return t.onEnter()}),ne(12,"ion-item",7)(13,"ion-label",8),Ze(14,"Card name"),X(),lt(15,"ion-input",9),X(),ne(16,"ion-item",7)(17,"ion-label",8),Ze(18,"Card size"),X(),ne(19,"ion-select",10),Qt(20,gH,3,4,"ion-select-option",11),X()(),ne(21,"ion-item",7)(22,"ion-label"),Ze(23,"Check for errors automatically"),X(),lt(24,"ion-toggle",12),X()()()),2&e&&(Xe(5),nt("disabled",t.formGroup.invalid),Xe(6),nt("formGroup",t.formGroup),Xe(9),nt("ngForOf",t.sizes))},dependencies:[Oc,es,ts,ns,rs,Rl,oi,os,Hm,zm,is,sp,ss,sd,op,Pl,kl,Dl,Il,ga,Ha,ru]});class Ip{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCheck=()=>{},this.onDelete=()=>{}}}Ip.\u0275fac=function(e){return new(e||Ip)},Ip.\u0275cmp=Le({type:Ip,selectors:[["app-storage-context-menu-card"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCheck:"onCheck",onDelete:"onDelete"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","medkit-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,t){1&e&&(ne(0,"ion-list")(1,"ion-item",0),st("click",function(){return t.onEdit()}),lt(2,"ion-icon",1),Ze(3," Edit "),X(),ne(4,"ion-item",0),st("click",function(){return t.onSave()}),lt(5,"ion-icon",2),Ze(6," Save "),X(),ne(7,"ion-item",0),st("click",function(){return t.onCheck()}),lt(8,"ion-icon",3),Ze(9," Check "),X(),ne(10,"ion-item",4),st("click",function(){return t.onDelete()}),lt(11,"ion-icon",5),Ze(12," Delete "),X()()),2&e&&(Xe(1),nt("detail",!1),Xe(3),nt("detail",!1),Xe(3),nt("detail",!1),Xe(3),nt("detail",!1))},dependencies:[hi,oi,Za]});class kp{constructor(e,t){this.storageCardService=e,this.popoverController=t,this.touched=!1,this.interaction=new xn,this.selectCard=new xn,this.edit=new xn,this.check=new xn,this.delete=new xn,this.save=new xn}onContextmenu(e){var t=this;return(0,ee.Z)(function*(){e.stopPropagation(),e.preventDefault(),t.interaction.emit(),(yield t.popoverController.create({component:Ip,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>t.edit.emit(t.card),onSave:()=>t.save.emit(t.card),onCheck:()=>t.check.emit(),onDelete:()=>t.delete.emit()},reference:"event"})).present()})()}get color(){if(this.touched)return"light"}get status(){if(!this.card)return"";const e=this.storageCardService.mountedInSession(this.card?.id);if(e)return`attached to '${e.name}'`;if(this.card.dontFsckAutomatically)return"not checked automatically";switch(this.card.status){case Fr.dirty:return"needs check";case Fr.clean:return"no errors";case Fr.unformatted:return"no filesystem";case Fr.unfixable:return"uncorrectable errors";default:throw new Error("unreachable")}}}function yH(n,e){1&n&&(ne(0,"div",10),lt(1,"ion-spinner"),X())}function vH(n,e){1&n&&(ne(0,"div",11)(1,"div",12),Ze(2," No memory cards. Select the \u201e+\u201c icon in the upper right corner in order to create a new card. "),X()())}function bH(n,e){if(1&n){const t=Br();ne(0,"app-storage-card",14),st("delete",function(){const i=Et(t).$implicit;return Ht(Ot(2).deleteCard(i))})("selectCard",function(){const i=Et(t).$implicit;return Ht(Ot(2).selectCard(i))})("edit",function(){const i=Et(t).$implicit;return Ht(Ot(2).editCard(i))})("check",function(){const i=Et(t).$implicit;return Ht(Ot(2).checkCard(i))})("interaction",function(){const i=Et(t).$implicit;return Ht(Ot(2).lastCardTouched=i.id)})("save",function(){const i=Et(t).$implicit;return Ht(Ot(2).saveCard(i))}),X()}if(2&n){const t=e.$implicit,r=Ot(2);nt("card",t)("touched",t.id===r.lastCardTouched)}}function CH(n,e){if(1&n&&(ne(0,"ion-list"),Qt(1,bH,1,2,"app-storage-card",13),X()),2&n){const t=Ot();Xe(1),nt("ngForOf",t.cards)("ngForTrackBy",t.trackCardBy)}}kp.\u0275fac=function(e){return new(e||kp)(S(ba),S(Wc))},kp.\u0275cmp=Le({type:kp,selectors:[["app-storage-card"]],inputs:{card:"card",touched:"touched"},outputs:{interaction:"interaction",selectCard:"selectCard",edit:"edit",check:"check",delete:"delete",save:"save"},decls:19,vars:6,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","medkit-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"]],template:function(e,t){if(1&e){const r=Br();ne(0,"ion-item-sliding",0,1),st("contextmenu",function(i){return t.onContextmenu(i)})("ionDrag",function(){return t.interaction.emit(t.card)}),ne(2,"ion-item-options",2)(3,"ion-item-option",3),st("click",function(){return Et(r),Ps(1).close(),Ht(t.edit.emit(t.card))}),lt(4,"ion-icon",4),X(),ne(5,"ion-item-option",5),st("click",function(){return Et(r),Ps(1).close(),Ht(t.save.emit(t.card))}),lt(6,"ion-icon",6),X()(),ne(7,"ion-item-options",7)(8,"ion-item-option",8),st("click",function(){return Et(r),Ps(1).close(),Ht(t.check.emit(t.card))}),lt(9,"ion-icon",9),X(),ne(10,"ion-item-option",10),st("click",function(){return Et(r),Ps(1).close(),Ht(t.delete.emit(t.card))}),lt(11,"ion-icon",11),X()(),ne(12,"ion-item",12),st("click",function(){return t.selectCard.emit(),t.interaction.emit()}),ne(13,"ion-label")(14,"h2"),Ze(15),X(),ne(16,"p"),Ze(17),Ba(18,"cardSize"),X()()()()}2&e&&(Xe(12),nt("color",t.color),Xe(3),Rs(null==t.card?null:t.card.name),Xe(2),hf("",Va(18,4,null==t.card?null:t.card.size),", ",t.status,""))},dependencies:[hi,oi,Um,jm,Gm,os,ru],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}"],changeDetection:0});class Ca{constructor(e,t,r,o,i,s,a,u,f,g){var v=this;this.actionSheetController=e,this.storageCardService=t,this.modalController=r,this.alertController=o,this.cloudpilotService=i,this.alertService=s,this.errorService=a,this.fileService=u,this.loadingController=f,this.handleCardImport=function(){var D=(0,ee.Z)(function*(T){const K=yield v.cloudpilotService.cloudpilot;let me;try{me=yield T.getContent()}catch(yt){return console.warn(yt),void(yield v.alertService.errorMessage(`Unable to open ${T.name}".`))}if(/\.gz$/.test(T.name)){const yt=yield v.loadingController.create({message:"Unpacking..."});yield yt.present();try{me=yield function qG(n){return Ob.apply(this,arguments)}(me)}finally{yield yt.dismiss()}}const je=me?K.getCardSupportLevel(me.length):0;if(void 0===me||0===je)return void v.alertService.errorMessage("This is not a supported card image.");const Ye=yield new Promise(function(){var yt=(0,ee.Z)(function*(Oe){const At=yield v.modalController.create({component:Sd,backdropDismiss:!1,componentProps:{card:{name:v.disambiguateName(T.name.replace(/\.gz$/,"")),size:me.length},cardSupportLevel:je,newCard:!0,onCancel:()=>{At.dismiss(),Oe(void 0)},onSave:gn=>{Oe(gn),At.dismiss()}}});yield At.present()});return function(Oe){return yt.apply(this,arguments)}}());Ye&&(yield v.storageCardService.createCardFromImage(Ye.name,me,!!Ye.dontFsckAutomatically))});return function(T){return D.apply(this,arguments)}}(),this.lastCardTouched=void 0,this.onMountForBrowse=()=>{},this.checkCards=Hb(g,[],()=>this.storageCardService.getAllCards())}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkCards()}get cards(){return this.storageCardService.getAllCards()}handleDragDropEvent(e){this.fileService.openFromDrop(e,this.handleFilesFromDrop.bind(this))}addCardImage(){var e=this;return(0,ee.Z)(function*(){(yield e.actionSheetController.create({header:"What type of image do you want to create?",buttons:[{text:"Empty image",handler:()=>e.createNewCardImage()},{text:"Import an existing image",handler:()=>e.importCardImage()},{text:"Cancel"}]})).present()})()}showHelp(){var e=this;return(0,ee.Z)(function*(){yield(yield e.modalController.create({component:va,componentProps:{url:"assets/doc/cards.md"}})).present()})()}selectCard(e){var t=this;return(0,ee.Z)(function*(){(yield t.storageCardService.browseCard(e))&&t.onMountForBrowse(e)})()}editCard(e){var t=this;return(0,ee.Z)(function*(){const r=yield t.cloudpilotService.cloudpilot,o=yield t.modalController.create({component:Sd,backdropDismiss:!1,componentProps:{card:e,cardSupportLevel:r.getCardSupportLevel(e.size),onCancel:()=>o.dismiss(),onSave:(i=(0,ee.Z)(function*(s){yield t.storageCardService.updateCard(e.id,s),yield o.dismiss()}),function(a){return i.apply(this,arguments)})}});var i;yield o.present()})()}saveCard(e){var t=this;return(0,ee.Z)(function*(){const r=`${rg(e.name.replace(/\.img$/,""))}.img`;yield(yield t.actionSheetController.create({header:"How do you want to save the image?",buttons:[{text:"Save gzip compressed image",handler:()=>t.storageCardService.saveCard(e.id,r,!0)},{text:"Save uncompressed image",handler:()=>t.storageCardService.saveCard(e.id,r,!1)},{text:"Cancel"}]})).present()})()}checkCard(e){return this.storageCardService.checkCard(e)}deleteCard(e){var t=this;return(0,ee.Z)(function*(){var o;yield(yield t.alertController.create({header:"Warning",backdropDismiss:!1,message:`Deleting the card '${e.name}' cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:(o=(0,ee.Z)(function*(){try{yield t.storageCardService.deleteCard(e.id)}catch(i){t.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}}),function(){return o.apply(this,arguments)})}]})).present()})()}trackCardBy(e,t){return t.id}handleFilesFromDrop(e){if(0!==e.length){if(e.length>1)return void this.alertService.errorMessage("Drop a single file system image in order to import it as a new memory card.");this.handleCardImport(e[0])}}importCardImage(){this.fileService.openFile(this.handleCardImport)}createNewCardImage(){var e=this;return(0,ee.Z)(function*(){const t=yield e.modalController.create({component:Dp,backdropDismiss:!1,componentProps:{onCancel:()=>t.dismiss(),onCreate:(r=(0,ee.Z)(function*(o,i,s){yield e.storageCardService.createEmptyCard(o,i,s),yield t.dismiss()}),function(i,s,a){return r.apply(this,arguments)})}});var r;yield t.present()})()}disambiguateName(e){const t=this.storageCardService.getAllCards();return Jx(e,r=>t.some(o=>o.name===r))}}function wH(n,e){1&n&&lt(0,"ion-icon",8)}function SH(n,e){1&n&&lt(0,"ion-icon",9)}function EH(n,e){1&n&&lt(0,"ion-icon",10)}function DH(n,e){if(1&n){const t=Br();ne(0,"ion-item",2),st("click",function(){const i=Et(t).index;return Ht(Ot(2).onSelect(i))}),cf(1,3),Qt(2,wH,1,0,"ion-icon",4),Qt(3,SH,1,0,"ion-icon",5),Qt(4,EH,1,0,"ion-icon",6),uf(),ne(5,"div",7),Ze(6),X()()}if(2&n){const t=e.$implicit,r=e.index,o=Ot(2);nt("detail",!1)("lines",r===o.entries.length-1?"none":"full"),Xe(1),nt("ngSwitch",o.entries.length),Xe(1),nt("ngSwitchCase",r+1),Xe(1),nt("ngSwitchCase",r+2),Xe(3),Rs(t)}}function IH(n,e){if(1&n&&(ne(0,"ion-list"),Qt(1,DH,7,6,"ion-item",1),X()),2&n){const t=Ot();Xe(1),nt("ngForOf",t.entries)}}Ca.\u0275fac=function(e){return new(e||Ca)(S(up),S(ba),S(ws),S(zc),S(Wi),S(eo),S(ea),S(Bs),S(Fl),S(St))},Ca.\u0275cmp=Le({type:Ca,selectors:[["app-subpage-cards"]],inputs:{onMountForBrowse:"onMountForBrowse",selfReference:"selfReference"},decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],[3,"card","touched","delete","selectCard","edit","check","interaction","save",4,"ngFor","ngForOf","ngForTrackBy"],[3,"card","touched","delete","selectCard","edit","check","interaction","save"]],template:function(e,t){1&e&&(ne(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ze(3,"Memory cards"),X(),ne(4,"ion-buttons",0)(5,"ion-button",1),st("click",function(){return t.addCardImage()}),lt(6,"ion-icon",2),X()(),ne(7,"ion-buttons",3)(8,"ion-button",1),st("click",function(){return t.showHelp()}),lt(9,"ion-icon",4),X(),lt(10,"app-pwa-prompt"),X()()(),ne(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),Ze(15,"Memory cards"),X()()(),Qt(16,yH,2,0,"div",7),Qt(17,vH,3,0,"div",8),Qt(18,CH,2,2,"ion-list",9),X()),2&e&&(Xe(16),nt("ngIf",t.storageCardService.isLoading()),Xe(1),nt("ngIf",!t.storageCardService.isLoading()&&0===t.cards.length),Xe(1),nt("ngIf",!t.storageCardService.isLoading()&&t.cards.length>0))},dependencies:[Oc,fi,es,ts,ns,rs,hi,Za,ip,is,ss,gc,kp],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}),U([mo()],Ca.prototype,"addCardImage",null),U([mo()],Ca.prototype,"selectCard",null),U([mo()],Ca.prototype,"editCard",null),U([mo()],Ca.prototype,"saveCard",null),U([mo()],Ca.prototype,"checkCard",null),U([mo()],Ca.prototype,"deleteCard",null);class xp{constructor(){this.onSelect=()=>{}}}xp.\u0275fac=function(e){return new(e||xp)},xp.\u0275cmp=Le({type:xp,selectors:[["app-context-menu-breadcrumb"]],inputs:{entries:"entries"},decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"detail","lines","click"],[3,"ngSwitch"],["name","list-outline","slot","end",4,"ngSwitchCase"],["name","file-tray-outline","slot","end",4,"ngSwitchCase"],["name","folder-outline","slot","end",4,"ngSwitchDefault"],[1,"text-wrapper"],["name","list-outline","slot","end"],["name","file-tray-outline","slot","end"],["name","folder-outline","slot","end"]],template:function(e,t){1&e&&Qt(0,IH,2,1,"ion-list",0),2&e&&nt("ngIf",t.entries)},dependencies:[Oc,fi,Yh,dD,fD,hi,oi,Za],styles:[".text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]});class Mp{constructor(e){this.vfsService=e,this.onStartSelection=()=>{},this.onAddFiles=()=>{},this.onCreateDirectry=()=>{},this.onExtractZipfile=()=>{},this.onPaste=()=>{},this.onHelp=()=>{},this.emptyDirectory=!1}}Mp.\u0275fac=function(e){return new(e||Mp)(S(na))},Mp.\u0275cmp=Le({type:Mp,selectors:[["app-context-menu-directory"]],inputs:{onStartSelection:"onStartSelection",onAddFiles:"onAddFiles",onCreateDirectry:"onCreateDirectry",onExtractZipfile:"onExtractZipfile",onPaste:"onPaste",onHelp:"onHelp",emptyDirectory:"emptyDirectory"},decls:19,vars:8,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","checkmark-circle-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","document-outline","slot","end"],["name","folder-outline","slot","end"],["name","download-outline","slot","end"],["name","clipboard-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(e,t){1&e&&(ne(0,"ion-list")(1,"ion-item",0),st("click",function(){return t.onStartSelection()}),lt(2,"ion-icon",1),Ze(3," Start selection "),X(),ne(4,"ion-item",2),st("click",function(){return t.onAddFiles()}),lt(5,"ion-icon",3),Ze(6," Add files "),X(),ne(7,"ion-item",2),st("click",function(){return t.onCreateDirectry()}),lt(8,"ion-icon",4),Ze(9," Add directory "),X(),ne(10,"ion-item",2),st("click",function(){return t.onExtractZipfile()}),lt(11,"ion-icon",5),Ze(12," Extract zip "),X(),ne(13,"ion-item",0),st("click",function(){return t.onPaste()}),lt(14,"ion-icon",6),Ze(15," Paste "),X(),ne(16,"ion-item",7),st("click",function(){return t.onHelp()}),lt(17,"ion-icon",8),Ze(18," Help "),X()()),2&e&&(Xe(1),nt("detail",!1)("disabled",t.emptyDirectory),Xe(3),nt("detail",!1),Xe(3),nt("detail",!1),Xe(3),nt("detail",!1),Xe(3),nt("detail",!1)("disabled",!t.vfsService.isClipboardPopulated()),Xe(3),nt("detail",!1))},dependencies:[hi,oi,Za]});class ou{constructor(e,t){this.modalController=e,this.vfsService=t,this.validateNameUnique=r=>this.entry&&this.vfsService.readdir(this.vfsService.dirname(this.entry.path)).some(o=>o.name.toLocaleLowerCase()===r.value.toLocaleLowerCase()&&o.name.toLocaleLowerCase()!==this.entry?.name?.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=r=>this.vfsService.isFilenameValid(r.value)?null:{name:"invalid file name"},this.onSave=()=>{},this.formGroup=new nc({name:new Cs("",{nonNullable:!0,validators:[Ff.required,this.validateNameUnique,this.validateNameValid]}),attrReadonly:new Cs(!1,{nonNullable:!0}),attrHidden:new Cs(!1,{nonNullable:!0}),attrSystem:new Cs(!1,{nonNullable:!0})})}ngOnInit(){this.entry&&(this.formGroup.controls.name.setValue(this.entry.name),this.formGroup.controls.attrHidden.setValue(this.entry.attributes.hidden),this.formGroup.controls.attrReadonly.setValue(this.entry.attributes.readonly),this.formGroup.controls.attrSystem.setValue(this.entry.attributes.system))}get subjectName(){return this.entry?.isDirectory?"Directory":"File"}onSaveClick(){var e=this;return(0,ee.Z)(function*(){yield e.save()})()}onCancelClick(){this.modalController.dismiss()}onEnter(){var e=this;return(0,ee.Z)(function*(){yield e.save()})()}save(){var e=this;return(0,ee.Z)(function*(){e.entry&&e.formGroup.valid&&(yield e.vfsService.updateFileEntry(e.entry.path,{name:e.formGroup.controls.name.value??"",attributes:{hidden:!!e.formGroup.controls.attrHidden.value,readonly:!!e.formGroup.controls.attrReadonly.value,system:!!e.formGroup.controls.attrSystem.value}}),e.onSave(),e.modalController.dismiss())})()}}ou.\u0275fac=function(e){return new(e||ou)(S(ws),S(na))},ou.\u0275cmp=Le({type:ou,selectors:[["app-edit-file-dialog"]],inputs:{entry:"entry"},decls:34,vars:5,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["formControlName","name",3,"placeholder"],["name","lock-closed-outline","size","small"],["formControlName","attrReadonly"],["name","eye-off-outline","size","small"],["formControlName","attrHidden"],["name","cog-outline","size","small"],["formControlName","attrSystem"]],template:function(e,t){1&e&&(ne(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ze(3),X(),ne(4,"ion-buttons",1)(5,"ion-button",2),st("click",function(){return t.onSaveClick()}),Ze(6,"Save"),X()(),ne(7,"ion-buttons",3)(8,"ion-button",4),st("click",function(){return t.onCancelClick()}),Ze(9,"Cancel"),X()()()(),ne(10,"ion-content",5)(11,"form",6),st("keydown.enter",function(){return t.onEnter()}),ne(12,"ion-item",7)(13,"ion-label",8),Ze(14),X(),lt(15,"ion-input",9),X(),ne(16,"ion-item",7)(17,"h2"),Ze(18,"Attributes"),X()(),ne(19,"ion-item",7)(20,"ion-label"),lt(21,"ion-icon",10),Ze(22,"Readonly"),X(),lt(23,"ion-checkbox",11),X(),ne(24,"ion-item",7)(25,"ion-label"),lt(26,"ion-icon",12),Ze(27,"Hidden"),X(),lt(28,"ion-checkbox",13),X(),ne(29,"ion-item",7)(30,"ion-label"),lt(31,"ion-icon",14),Ze(32,"System"),X(),lt(33,"ion-checkbox",15),X()()()),2&e&&(Xe(3),Gi("Edit ",t.subjectName.toLowerCase(),""),Xe(2),nt("disabled",t.formGroup.invalid),Xe(6),nt("formGroup",t.formGroup),Xe(3),Gi("",t.subjectName," name"),Xe(1),Eh("placeholder","Enter ",t.subjectName.toLowerCase()," name"))},dependencies:[es,ts,Tk,ns,rs,hi,Rl,oi,os,is,ss,sd,Pl,kl,Dl,Il,ga,Ha],styles:["ion-icon[_ngcontent-%COMP%]{margin-right:1em;position:relative;top:2px}"]}),U([mo()],ou.prototype,"onSaveClick",null),U([mo()],ou.prototype,"onEnter",null);class Tp{constructor(e,t){this.el=e,this.zone=t;const r=e.nativeElement.querySelector("input");r?r.focus():this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}ngOnDestroy(){this.observer?.disconnect()}update(){const e=this.el.nativeElement.querySelector("input");e&&(setTimeout(()=>e.focus(),100),this.observer?.disconnect())}}Tp.\u0275fac=function(e){return new(e||Tp)(S(_t),S(ut))},Tp.\u0275dir=at({type:Tp,selectors:[["","appAutofocus",""]]});class Ap{constructor(e,t){this.vfsService=e,this.modalController=t,this.validateNameUnique=r=>this.parentPath&&this.vfsService.readdir(this.parentPath).some(o=>o.name.toLocaleLowerCase()===r.value.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=r=>this.vfsService.isFilenameValid(r.value)?null:{name:"invalid file name"},this.onCreate=()=>{},this.formGroup=new nc({name:new Cs("",{nonNullable:!0,validators:[Ff.required,this.validateNameUnique,this.validateNameValid]})})}onCreateClick(){this.createDir()}onEnter(){this.createDir()}onCancelClick(){this.modalController.dismiss()}createDir(){this.formGroup.controls.name.valid&&(this.onCreate(this.formGroup.controls.name.value),this.modalController.dismiss())}}function eM(n){let e,t,r=!1;return o=>((!r||o!==e)&&(e=o,r=!0,t=n(o)),t)}Ap.\u0275fac=function(e){return new(e||Ap)(S(na),S(ws))},Ap.\u0275cmp=Le({type:Ap,selectors:[["app-new-directory-dialog"]],inputs:{parentPath:"parentPath",onCreate:"onCreate"},decls:16,vars:2,consts:[["translucent",""],["slot","primary"],["tabindex","-1",3,"disabled","click"],["slot","secondary"],["tabindex","-1",3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter directory name","formControlName","name","appAutofocus","","tabindex","1"]],template:function(e,t){1&e&&(ne(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ze(3,"Create directory"),X(),ne(4,"ion-buttons",1)(5,"ion-button",2),st("click",function(){return t.onCreateClick()}),Ze(6,"Create"),X()(),ne(7,"ion-buttons",3)(8,"ion-button",4),st("click",function(){return t.onCancelClick()}),Ze(9,"Cancel"),X()()()(),ne(10,"ion-content",5)(11,"form",6),st("keydown.enter",function(){return t.onEnter()}),ne(12,"ion-item",7)(13,"ion-label",8),Ze(14,"Directory name"),X(),lt(15,"ion-input",9),X()()()),2&e&&(Xe(5),nt("disabled",t.formGroup.invalid),Xe(6),nt("formGroup",t.formGroup))},dependencies:[es,ts,ns,rs,Rl,oi,os,is,ss,Pl,kl,Dl,Il,ga,Ha,Tp]});class Pp{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCopy=()=>{},this.onCut=()=>{},this.onDelete=()=>{}}}Pp.\u0275fac=function(e){return new(e||Pp)},Pp.\u0275cmp=Le({type:Pp,selectors:[["app-context-menu-file-entry"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCopy:"onCopy",onCut:"onCut",onDelete:"onDelete"},decls:16,vars:5,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","copy-outline","slot","end"],["name","cut-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,t){1&e&&(ne(0,"ion-list")(1,"ion-item",0),st("click",function(){return t.onEdit()}),lt(2,"ion-icon",1),Ze(3," Edit "),X(),ne(4,"ion-item",0),st("click",function(){return t.onSave()}),lt(5,"ion-icon",2),Ze(6," Save "),X(),ne(7,"ion-item",0),st("click",function(){return t.onCopy()}),lt(8,"ion-icon",3),Ze(9," Copy "),X(),ne(10,"ion-item",0),st("click",function(){return t.onCut()}),lt(11,"ion-icon",4),Ze(12," Cut "),X(),ne(13,"ion-item",5),st("click",function(){return t.onDelete()}),lt(14,"ion-icon",6),Ze(15," Delete "),X()()),2&e&&(Xe(1),nt("detail",!1),Xe(3),nt("detail",!1),Xe(3),nt("detail",!1),Xe(3),nt("detail",!1),Xe(3),nt("detail",!1))},dependencies:[hi,oi,Za]});class Ed{transform(e){return void 0===e?"":e<1024?`${e} bytes`:e<1048576?`${(e/1024).toFixed(1)} kB`:`${(e/1024/1024).toFixed(1)} MB`}}Ed.\u0275fac=function(e){return new(e||Ed)},Ed.\u0275pipe=jn({name:"fileSize",type:Ed,pure:!0});const kH=["slidingItem"];function xH(n,e){1&n&&lt(0,"ion-icon",23)}function MH(n,e){1&n&&lt(0,"ion-icon",24)}function TH(n,e){1&n&&lt(0,"ion-icon",25)}function AH(n,e){1&n&&lt(0,"ion-icon",26)}function PH(n,e){1&n&&lt(0,"ion-icon",27)}function RH(n,e){1&n&&lt(0,"ion-icon",28)}function FH(n,e){1&n&&lt(0,"ion-icon",29)}function OH(n,e){1&n&&lt(0,"ion-icon",30)}function NH(n,e){1&n&&lt(0,"ion-icon",31)}function LH(n,e){if(1&n&&(cf(0),Ze(1),Ba(2,"fileSize"),uf()),2&n){const t=Ot();Xe(1),Gi(" - ",Va(2,1,null==t.entry?null:t.entry.size)," ")}}class Rp{constructor(e,t,r){this.actionSheetController=e,this.popoverController=t,this.vfsService=r,this.touched=!1,this.selecting=!1,this.selected=!1,this.interaction=new xn,this.selectEntry=new xn,this.editEntry=new xn,this.copyEntry=new xn,this.cutEntry=new xn,this.deleteEntry=new xn,this.saveEntry=new xn}ngOnChanges(e){e.selecting&&e.selecting.currentValue&&!e.selecting.previousValue&&this.slidingItem?.close()}onContextmenu(e){var t=this;return(0,ee.Z)(function*(){e.stopPropagation(),e.preventDefault(),t.interaction.emit(),(yield t.popoverController.create({component:Pp,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>t.editEntry.emit(t.entry),onSave:()=>t.saveEntry.emit(t.entry),onCopy:()=>t.copyEntry.emit(t.entry),onCut:()=>t.cutEntry.emit(t.entry),onDelete:()=>t.deleteEntry.emit(t.entry)},reference:"event"})).present()})()}get color(){if(!this.selecting&&this.touched||this.selecting&&this.selected)return"light"}get markedForCut(){return!!this.entry&&"cut"===this.vfsService.isEntryInClipboard(this.entry)}get markedForCopy(){return!!this.entry&&"copy"===this.vfsService.isEntryInClipboard(this.entry)}cutOrCopyEntry(){var e=this;return(0,ee.Z)(function*(){const t=e.entry?.isDirectory?"directory":"file";(yield e.actionSheetController.create({header:"Do you want to cut or copy?",buttons:[{text:`Copy ${t}`,handler:()=>e.copyEntry.emit(e.entry)},{text:`Cut ${t}`,handler:()=>e.cutEntry.emit(e.entry)},{text:"Cancel"}]})).present()})()}}function $H(n,e){if(1&n){const t=Br();ne(0,"ion-toolbar")(1,"ion-title",6),st("click",function(o){return Et(t),Ht(Ot().openBreadcrumbMenu(o))}),ne(2,"div",7)(3,"div",8),Ze(4),X(),lt(5,"div",9),X()(),ne(6,"ion-buttons",10),lt(7,"ion-back-button"),X(),ne(8,"ion-buttons",11)(9,"ion-button",12),st("click",function(o){return Et(t),Ht(Ot().openContextMenu(o,"trigger"))}),lt(10,"ion-icon",13),X()()()}if(2&n){const t=Ot();Xe(1),nt("id",t.breadcrumbTriggerId),Xe(3),Rs(t.title)}}function BH(n,e){if(1&n){const t=Br();ne(0,"ion-buttons",15)(1,"ion-button",12),st("click",function(){return Et(t),Ht(Ot(2).onSelectAll())}),Ze(2,"Select all"),X()()}}function VH(n,e){if(1&n){const t=Br();ne(0,"ion-buttons",15)(1,"ion-button",12),st("click",function(){return Et(t),Ht(Ot(2).selection.clear())}),Ze(2,"Clear"),X()()}}function UH(n,e){if(1&n){const t=Br();ne(0,"ion-toolbar")(1,"ion-title"),Ze(2,"Selection"),X(),ne(3,"ion-buttons",11)(4,"ion-button",12),st("click",function(){return Et(t),Ht(Ot().onSelectionDone())}),Ze(5),X()(),Qt(6,BH,3,0,"ion-buttons",14),Qt(7,VH,3,0,"ion-buttons",14),X()}if(2&n){const t=Ot();Xe(5),Rs(0===t.selection.size?"Cancel":"Done"),Xe(1),nt("ngIf",t.selection.size!==(null==t.entries?null:t.entries.length)),Xe(1),nt("ngIf",t.selection.size===(null==t.entries?null:t.entries.length))}}function jH(n,e){if(1&n&&(ne(0,"div",16)(1,"div",17),Ze(2),X()()),2&n){const t=Ot();Xe(2),Gi(" empty ",t.isRoot?"card":"directory"," ")}}function GH(n,e){if(1&n){const t=Br();ne(0,"app-file-entry",18),st("selectEntry",function(){const i=Et(t).$implicit;return Ht(Ot().onSelect(i))})("editEntry",function(){const i=Et(t).$implicit;return Ht(Ot().onEditEntry(i))})("saveEntry",function(){const i=Et(t).$implicit;return Ht(Ot().onSaveEntry(i))})("copyEntry",function(){const i=Et(t).$implicit;return Ht(Ot().onCopyEntry(i))})("cutEntry",function(){const i=Et(t).$implicit;return Ht(Ot().onCutEntry(i))})("deleteEntry",function(){const i=Et(t).$implicit;return Ht(Ot().onDeleteEntry(i))})("interaction",function(){const i=Et(t).$implicit;return Ht(Ot().lastEntryTouched=i.name)}),X()}if(2&n){const t=e.$implicit,r=Ot();nt("entry",t)("selecting","select"===r.mode)("selected",r.selection.has(t.name))("touched",t.name===r.lastEntryTouched)}}function HH(n,e){if(1&n&&(ne(0,"p"),Ze(1),Ba(2,"fileSize"),Ba(3,"fileSize"),X()),2&n){const t=Ot(2);Xe(1),hf(" ",Va(2,2,t.bytesFree)," free, ",Va(3,4,t.bytesTotal)," total ")}}function zH(n,e){if(1&n&&(ne(0,"p"),Ze(1),Ba(2,"fileSize"),X()),2&n){const t=Ot(2);Xe(1),Y_(" ",Va(2,3,t.bytesInFiles)," in ",t.fileCount," ",1===t.fileCount?"file":"files"," ")}}function WH(n,e){if(1&n&&(ne(0,"ion-item",19)(1,"ion-label"),Qt(2,HH,4,6,"p",0),Qt(3,zH,3,5,"p",0),X()()),2&n){const t=Ot();Xe(2),nt("ngIf",t.isRoot),Xe(1),nt("ngIf",t.fileCount>0)}}function ZH(n,e){return n.isDirectory&&!e.isDirectory?-1:!n.isDirectory&&e.isDirectory?1:n.name.localeCompare(e.name)}Rp.\u0275fac=function(e){return new(e||Rp)(S(up),S(Wc),S(na))},Rp.\u0275cmp=Le({type:Rp,selectors:[["app-file-entry"]],viewQuery:function(e,t){if(1&e&&$u(kH,5),2&e){let r;Fs(r=Os())&&(t.slidingItem=r.first)}},inputs:{entry:"entry",touched:"touched",selecting:"selecting",selected:"selected"},outputs:{interaction:"interaction",selectEntry:"selectEntry",editEntry:"editEntry",copyEntry:"copyEntry",cutEntry:"cutEntry",deleteEntry:"deleteEntry",saveEntry:"saveEntry"},features:[$o],decls:28,vars:19,consts:[[3,"disabled","contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","copy-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","detail","click"],["name","folder-outline","slot","start",4,"ngIf"],["name","document-outline","slot","start",4,"ngIf"],["class","attribute-icon","name","lock-closed-outline","size","small","slot","end",4,"ngIf"],["class","attribute-icon","name","eye-off-outline","size","small","slot","end",4,"ngIf"],["class","attribute-icon","name","cog-outline","size","small","slot","end",4,"ngIf"],["class","attribute-icon","name","clipboard-outline","size","small","slot","end",4,"ngIf"],["class","attribute-icon","name","cut-outline","size","small","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",4,"ngIf"],["name","radio-button-on-outline","slot","end",4,"ngIf"],[4,"ngIf"],["name","folder-outline","slot","start"],["name","document-outline","slot","start"],["name","lock-closed-outline","size","small","slot","end",1,"attribute-icon"],["name","eye-off-outline","size","small","slot","end",1,"attribute-icon"],["name","cog-outline","size","small","slot","end",1,"attribute-icon"],["name","clipboard-outline","size","small","slot","end",1,"attribute-icon"],["name","cut-outline","size","small","slot","end",1,"attribute-icon"],["name","radio-button-off-outline","slot","end"],["name","radio-button-on-outline","slot","end"]],template:function(e,t){if(1&e){const r=Br();ne(0,"ion-item-sliding",0,1),st("contextmenu",function(i){return t.onContextmenu(i)})("ionDrag",function(){return t.interaction.emit(t.entry)}),ne(2,"ion-item-options",2)(3,"ion-item-option",3),st("click",function(){return Et(r),Ps(1).close(),Ht(t.editEntry.emit(t.entry))}),lt(4,"ion-icon",4),X(),ne(5,"ion-item-option",5),st("click",function(){return Et(r),Ps(1).close(),Ht(t.saveEntry.emit(t.entry))}),lt(6,"ion-icon",6),X()(),ne(7,"ion-item-options",7)(8,"ion-item-option",8),st("click",function(){return Et(r),Ps(1).close(),Ht(t.cutOrCopyEntry())}),lt(9,"ion-icon",9),X(),ne(10,"ion-item-option",10),st("click",function(){return Et(r),Ps(1).close(),Ht(t.deleteEntry.emit(t.entry))}),lt(11,"ion-icon",11),X()(),ne(12,"ion-item",12),st("click",function(){return t.selectEntry.emit(),t.interaction.emit()}),Qt(13,xH,1,0,"ion-icon",13),Qt(14,MH,1,0,"ion-icon",14),Qt(15,TH,1,0,"ion-icon",15),Qt(16,AH,1,0,"ion-icon",16),Qt(17,PH,1,0,"ion-icon",17),Qt(18,RH,1,0,"ion-icon",18),Qt(19,FH,1,0,"ion-icon",19),Qt(20,OH,1,0,"ion-icon",20),Qt(21,NH,1,0,"ion-icon",21),ne(22,"ion-label")(23,"h2"),Ze(24),X(),ne(25,"p"),Ze(26),Qt(27,LH,3,3,"ng-container",22),X()()()()}2&e&&(nt("disabled",t.selecting),Xe(12),ff("opacity",t.touched?1:.99999),yl("is-directory",null==t.entry?null:t.entry.isDirectory),nt("color",t.color)("detail",(null==t.entry?null:t.entry.isDirectory)&&!t.selecting),Xe(1),nt("ngIf",null==t.entry?null:t.entry.isDirectory),Xe(1),nt("ngIf",!(null!=t.entry&&t.entry.isDirectory)),Xe(1),nt("ngIf",null==t.entry||null==t.entry.attributes?null:t.entry.attributes.readonly),Xe(1),nt("ngIf",null==t.entry||null==t.entry.attributes?null:t.entry.attributes.hidden),Xe(1),nt("ngIf",null==t.entry||null==t.entry.attributes?null:t.entry.attributes.system),Xe(1),nt("ngIf",t.markedForCopy),Xe(1),nt("ngIf",t.markedForCut),Xe(1),nt("ngIf",t.selecting&&!t.selected),Xe(1),nt("ngIf",t.selecting&&t.selected),Xe(3),Rs(null==t.entry?null:t.entry.name),Xe(2),Gi(" ",null==t.entry?null:t.entry.lastModifiedLocalDate," "),Xe(1),nt("ngIf",!(null!=t.entry&&t.entry.isDirectory)))},dependencies:[fi,hi,oi,Um,jm,Gm,os,Ed],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-icon.attribute-icon[_ngcontent-%COMP%]{color:var(--ion-color-step-600);margin-left:.7em}ion-icon.attribute-icon[name=lock-closed-outline][_ngcontent-%COMP%]{position:relative;top:-2px}.ios[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]{color:rgba(var(--ion-text-color-rgb, 0, 0, 0),.4);margin-left:0}ion-icon.attribute-icon[_ngcontent-%COMP%]:last-of-type{margin-right:1.75em}.is-directory[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]:last-of-type{margin-right:.75em}"],changeDetection:0});let qH=0;class Es{constructor(e,t,r,o,i,s,a,u){this.vfsService=e,this.popoverController=t,this.config=r,this.alertService=o,this.actionSheetController=i,this.modalController=s,this.fileService=a,this.cd=u,this.bytesInFilesMemoized=eM(f=>f?.reduce((g,v)=>g+(v.isDirectory?0:v.size),0)??0),this.fileCountMemoized=eM(f=>f?.filter(g=>!g.isDirectory)?.length??0),this.onNavigate=()=>{},this.onNavigateBreadcrumb=()=>{},this.lastEntryTouched=void 0,this.mode="browse",this.selection=new Set,this.breadcrumbTriggerId="breadcrumb-trigger-"+qH++,this.checkEntries=Hb(u,void 0,()=>void 0!==this.path?e.readdir(this.path):void 0)}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkEntries()}handleDragDropEvent(e){this.fileService.openFromDrop(e,t=>this.vfsService.addFiles(t,this.path||""))}get title(){switch(this.path){case"/":return this.card?.name??"";case void 0:return"";default:{const e=this.vfsService.splitPath(this.path);return e[e.length-1]??""}}}get bytesFree(){return this.vfsService.getBytesFree()}get bytesTotal(){return this.vfsService.getBytesTotal()}get bytesInFiles(){return this.bytesInFilesMemoized(this.entries)}get isRoot(){return"/"===this.path}get fileCount(){return this.fileCountMemoized(this.entries)}get entries(){return void 0!==this.path?[...this.vfsService.readdir(this.path)].sort(ZH):[]}trackEntryBy(e,t){return t.name}onSelect(e){"browse"===this.mode?e.isDirectory&&this.onNavigate(e.path):this.selection?.has(e.name)?this.selection.delete(e.name):this.selection.add(e.name)}onEditEntry(e){var t=this;return(0,ee.Z)(function*(){yield(yield t.modalController.create({component:ou,backdropDismiss:!1,componentProps:{entry:e}})).present()})()}onSaveEntry(e){var t=this;return(0,ee.Z)(function*(){t.path&&(e.isDirectory?yield t.vfsService.archiveFiles([e],t.path):yield t.vfsService.saveFile(e))})()}onCopyEntry(e){this.path&&this.vfsService.copyToClipboard(this.path,[e.name],"copy")}onCutEntry(e){this.path&&this.vfsService.copyToClipboard(this.path,[e.name],"cut")}onDeleteEntry(e){var t=this;return(0,ee.Z)(function*(){e.isDirectory?yield t.vfsService.deleteRecursive([e]):yield t.vfsService.unlinkEntry(e)})()}onAddFiles(){this.fileService.openFiles(e=>this.vfsService.addFiles(e,this.path||"/"))}onCreateDirectory(){var e=this;return(0,ee.Z)(function*(){yield(yield e.modalController.create({component:Ap,backdropDismiss:!1,componentProps:{parentPath:e.path,onCreate:r=>e.vfsService.mkdir(`${e.path}/${r}`)}})).present()})()}onExtractZipfile(){this.fileService.openFile(this.extractZipArchive.bind(this))}onPaste(){var e=this;return(0,ee.Z)(function*(){e.path&&(yield e.vfsService.paste(e.path))})()}onHelp(){var e=this;return(0,ee.Z)(function*(){yield(yield e.modalController.create({component:va,componentProps:{url:"assets/doc/card-browser.md"}})).present()})()}onStartSelection(){0!==this.entries?.length&&(this.selection.clear(),this.mode="select",this.cd.markForCheck())}onSelectionDone(){var e=this;return(0,ee.Z)(function*(){if(!e.entries)return;const t=Array.from(e.selection),r=new Map(e.entries.map(a=>[a.name,a])),o=t.every(a=>!r.get(a)?.isDirectory),i=t.every(a=>r.get(a)?.isDirectory);let s=`${e.selection.size} items`;if(o&&(s=1===e.selection.size?"file":`${e.selection.size} files`),i&&(s=1===e.selection.size?"directory":`${e.selection.size} directories`),0!==e.selection.size){const a=yield e.actionSheetController.create({header:"What do you want to do?",buttons:[{text:`Copy ${s}`,handler:e.onCopySelection.bind(e)},{text:`Cut ${s}`,handler:e.onCutSelection.bind(e)},{text:`Save ${s} as zip`,handler:e.onSaveZip.bind(e)},{text:`Delete ${s}`,handler:e.onDeleteSelection.bind(e)},{text:"Cancel"}]});yield a.present(),yield a.onWillDismiss()}e.mode="browse",e.cd.markForCheck()})()}onSelectAll(){this.entries?.forEach(e=>this.selection.add(e.name))}onCopySelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"copy")}onCutSelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"cut")}onSaveZip(){var e=this;return(0,ee.Z)(function*(){const t=e.materializeSelection();!t||!e.path||(yield e.vfsService.archiveFiles(t,e.path))})()}onDeleteSelection(){var e=this;return(0,ee.Z)(function*(){const t=e.materializeSelection();!t||!e.path||(yield e.vfsService.deleteRecursive(t))})()}openBreadcrumbMenu(e){var t=this;return(0,ee.Z)(function*(){if(!t.card||!t.path)return;const r=[..."/"===t.path?[]:[...t.vfsService.splitPath(t.path).reverse().slice(1),t.card.name],"Memory cards"];(yield t.popoverController.create({component:xp,event:e,componentProps:{entries:r,onSelect:i=>t.onNavigateBreadcrumb(r.length-1-i)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===t.config.get("mode")?"center":"start",trigger:t.breadcrumbTriggerId})).present()})()}openContextMenu(e,t){var r=this;return(0,ee.Z)(function*(){(yield r.popoverController.create({component:Mp,componentProps:{emptyDirectory:0===r.entries?.length,onStartSelection:r.onStartSelection.bind(r),onAddFiles:r.onAddFiles.bind(r),onCreateDirectry:r.onCreateDirectory.bind(r),onExtractZipfile:r.onExtractZipfile.bind(r),onPaste:r.onPaste.bind(r),onHelp:r.onHelp.bind(r)},event:e,dismissOnSelect:!0,arrow:!1,reference:t})).present()})()}materializeSelection(){if(!this.path)return;const e=new Map(this.vfsService.readdir(this.path).map(t=>[t.name,t]));return Array.from(this.selection).map(t=>e.get(t)).filter(t=>!!t)}extractZipArchive(e){var t=this;return(0,ee.Z)(function*(){/\.zip$/.test(e.name)?t.vfsService.unpackArchive(yield e.getContent(),t.path||"/"):yield t.alertService.errorMessage("File does not have the correct extension. Only .zip files are supported")})()}}Es.\u0275fac=function(e){return new(e||Es)(S(na),S(Wc),S(db),S(eo),S(up),S(ws),S(Bs),S(St))},Es.\u0275cmp=Le({type:Es,selectors:[["app-subpage-directory"]],inputs:{card:"card",path:"path",selfReference:"selfReference",onNavigate:"onNavigate",onNavigateBreadcrumb:"onNavigateBreadcrumb"},decls:9,vars:6,consts:[[4,"ngIf"],[3,"contextmenu"],[1,"container"],["class","placeholder-wrapper",4,"ngIf"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction",4,"ngFor","ngForOf","ngForTrackBy"],["class","metadata","lines","none",4,"ngIf"],[1,"breadcrumb",3,"id","click"],[1,"breadcrumb-container"],[1,"breadcrumb-current"],[1,"select-arrow"],["slot","start"],["slot","primary"],[3,"click"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["slot","secondary"],[1,"placeholder-wrapper"],[1,"placeholder"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction"],["lines","none",1,"metadata"]],template:function(e,t){1&e&&(ne(0,"ion-header"),Qt(1,$H,11,2,"ion-toolbar",0),Qt(2,UH,8,3,"ion-toolbar",0),X(),ne(3,"ion-content",1),st("contextmenu",function(o){return o.preventDefault(),t.openContextMenu(o,"event")}),ne(4,"div",2),Qt(5,jH,3,1,"div",3),ne(6,"ion-list"),Qt(7,GH,1,4,"app-file-entry",4),Qt(8,WH,4,2,"ion-item",5),X()()()),2&e&&(Xe(1),nt("ngIf","browse"===t.mode),Xe(1),nt("ngIf","select"===t.mode),Xe(3),nt("ngIf",0===(null==t.entries?null:t.entries.length)),Xe(2),nt("ngForOf",t.entries)("ngForTrackBy",t.trackEntryBy),Xe(1),nt("ngIf",t.isRoot||t.fileCount>0))},dependencies:[Oc,fi,Mk,es,ts,ns,rs,hi,oi,os,Za,is,ss,Hk,Rp,Ed],styles:[".breadcrumb[_ngcontent-%COMP%]{cursor:pointer}.breadcrumb-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.ios[_ngcontent-%COMP%]   .breadcrumb-container[_ngcontent-%COMP%]{justify-content:center}.breadcrumb-current[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis}.container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}.placeholder-wrapper[_ngcontent-%COMP%]{flex:1;width:100%;display:flex;align-items:center;justify-content:center}.placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}ion-list[_ngcontent-%COMP%]{background:none;flex:0}.select-arrow[_ngcontent-%COMP%]{border-top:5px solid;border-left:5px solid transparent;border-right:5px solid transparent;display:inline-block;opacity:.33;margin-left:.5em;vertical-align:middle}.md[_ngcontent-%COMP%]   .select-arrow[_ngcontent-%COMP%]{opacity:.55}ion-item.metadata[_ngcontent-%COMP%]{text-align:center}"],changeDetection:0}),U([mo()],Es.prototype,"onSaveEntry",null),U([mo()],Es.prototype,"onDeleteEntry",null),U([mo()],Es.prototype,"onCreateDirectory",null),U([mo()],Es.prototype,"onPaste",null),U([mo()],Es.prototype,"onHelp",null),U([mo()],Es.prototype,"onSelectionDone",null),U([mo()],Es.prototype,"onSaveZip",null),U([mo()],Es.prototype,"onDeleteSelection",null);const YH=["nav"];class Fp{constructor(e,t){this.vfsService=e,this.dragDropService=t,this.navRootProps={onMountForBrowse:r=>this.browseCard(r),selfReference:{}},this.onNavigate=r=>{this.currentlyBrowsingCard&&this.nav?.push(Es,{card:this.currentlyBrowsingCard,path:r,onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})},this.onNavigateBreadcrumb=r=>{this.currentlyBrowsingCard&&this.nav?.popTo(r,{animated:this.animateNav})},this.navRoot=Ca,this.isVisible=!1}ngOnInit(){this.vfsService.onReleaseCard.addHandler(this.onReleaseCard.bind(this))}ionViewDidEnter(){this.isVisible=!0,this.dragDropService.registerClient(this)}ionViewWillLeave(){this.isVisible=!1,this.dragDropService.unregisterClient(this)}handleDragDropEvent(e){var t=this;return(0,ee.Z)(function*(){yield(yield t.nav?.getActive())?.params?.selfReference?.ref?.handleDragDropEvent?.(e)})()}get animateNav(){return!Cj}browseCard(e){this.currentlyBrowsingCard=e,this.nav?.push(Es,{card:e,path:"/",onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})}onReleaseCard(e){e!==this.currentlyBrowsingCard?.id||!this.nav||(this.isVisible||(this.nav.animated=!1),this.nav.popToRoot(void 0,()=>this.nav&&(this.nav.animated=this.animateNav)))}}Fp.\u0275fac=function(e){return new(e||Fp)(S(na),S(yc))},Fp.\u0275cmp=Le({type:Fp,selectors:[["app-storage"]],viewQuery:function(e,t){if(1&e&&$u(YH,5),2&e){let r;Fs(r=Os())&&(t.nav=r.first)}},decls:2,vars:3,consts:[[3,"animated","root","rootParams"],["nav",""]],template:function(e,t){1&e&&lt(0,"ion-nav",0,1),2&e&&nt("animated",t.animateNav)("root",t.navRoot)("rootParams",t.navRootProps)},dependencies:[Ak,zk]});const KH=[{path:"tab",component:tu,children:[{path:"emulation",component:Cp},{path:"sessions",component:tl},{path:"storage",component:Fp},{path:"settings",component:Ep},{path:"about",component:vp},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}]},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}];class Dd{}Dd.\u0275fac=function(e){return new(e||Dd)},Dd.\u0275mod=Wn({type:Dd}),Dd.\u0275inj=Dr({imports:[Vm.forChild(KH),Vm]});class Id{}Id.\u0275fac=function(e){return new(e||Id)},Id.\u0275mod=Wn({type:Id}),Id.\u0275inj=Dr({imports:[oc,Ga,$c,Dd,md,gd,_d,yd,hd]});class iu extends YE{pushState(e,t,r,o){this.replaceState(e,t,r,o)}}iu.\u0275fac=function(){let n;return function(t){return(n||(n=di(iu)))(t||iu)}}(),iu.\u0275prov=pt({token:iu,factory:iu.\u0275fac});const XH=[{path:"install",component:fd,canActivate:[eu]},{path:"import",component:fd,canActivate:[eu]},{path:"",component:tu}];class kd{}kd.\u0275fac=function(e){return new(e||kd)},kd.\u0275mod=Wn({type:kd}),kd.\u0275inj=Dr({providers:[{provide:ja,useClass:iu}],imports:[Vm.forRoot(XH,{preloadingStrategy:UB,useHash:!0}),Id,Vm]});const tM=["touch","click","keydown"];class xd{constructor(e,t){this.kvsService=e,this.audioService=t,this.initialize()}initialize(){var e=this;return(0,ee.Z)(function*(){if(yield e.kvsService.initialize(),!e.kvsService.kvs.enableAudioOnFirstInteraction)return;const t=()=>{tM.forEach(r=>window.removeEventListener(r,t,!0)),e.audioService.initialize()};tM.forEach(r=>window.addEventListener(r,t,!0))})()}}xd.\u0275fac=function(e){return new(e||xd)(he(ii),he(_c))},xd.\u0275prov=pt({token:xd,factory:xd.\u0275fac,providedIn:"root"});class Md{constructor(e,t,r,o,i,s,a){}}Md.\u0275fac=function(e){return new(e||Md)(he(nr),he(as),he(_c),he(Ja),he(ii),he(Jc),he(xd))},Md.\u0275mod=Wn({type:Md,bootstrap:[yp]}),Md.\u0275inj=Dr({providers:[{provide:pk,useClass:class $U{shouldDetach(e){return!1}shouldAttach(e){return!1}store(e,t){}retrieve(e){return null}shouldReuseRoute(e,t){if(e.routeConfig!==t.routeConfig)return!1;const r=e.params,o=t.params,i=Object.keys(r),s=Object.keys(o);if(i.length!==s.length)return!1;for(const a of i)if(o[a]!==r[a])return!1;return!0}}},{provide:Rc,multi:!0,useFactory:n=>n.initialize.bind(n),deps:[ii]}],imports:[$L,oc.forRoot(),kd,f6.register("ngsw-worker.js",{enabled:!0}),yb.forRoot({loader:lv,markedOptions:{provide:dx,useFactory:()=>{const n=new cd;return n.link=(e,t,r)=>`<a href="${e}" target="_blank" rel="external">${r||e}</a>`,{renderer:n,gfm:!0,breaks:!1,pedantic:!1,smartLists:!0,smartypants:!1}}}}),y3]}),window.global=window,function YL(){em=jD("#/install?"),tm=jD("#/import?")}(),function Mj(){return!!localStorage.getItem(Xm)}()&&!GD()||function KL(){return void 0!==em}()?location.replace(`${location.origin}${location.pathname}#/tab/emulation`):location.replace(`${location.origin}${location.pathname}#/tab/sessions`),window.addEventListener("orientationchange",()=>setTimeout(()=>{document.body.style.height=window.innerHeight+"px"},100)),window.addEventListener("scroll",()=>window.scrollTo(0,0)),document.body.addEventListener("contextmenu",n=>n.preventDefault()),LL().bootstrapModule(Md).catch(n=>console.log(n))},3272:$e=>{var R,ze=(R=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(E={}){var te,J,l=typeof E<"u"?E:{};l.ready=new Promise(function(c,m){te=c,J=m});var j,Me,Ne,G=Object.assign({},l),N="./this.program",B=(c,m)=>{throw m},se="object"==typeof window,Y="function"==typeof importScripts,$=("object"==typeof process&&"object"==typeof process.versions&&process,"");(se||Y)&&(Y?$=self.location.href:typeof document<"u"&&document.currentScript&&($=document.currentScript.src),R&&($=R),$=0!==$.indexOf("blob:")?$.substr(0,$.replace(/[?#].*/,"").lastIndexOf("/")+1):"",j=c=>{var m=new XMLHttpRequest;return m.open("GET",c,!1),m.send(null),m.responseText},Y&&(Ne=c=>{var m=new XMLHttpRequest;return m.open("GET",c,!1),m.responseType="arraybuffer",m.send(null),new Uint8Array(m.response)}),Me=(c,m,b)=>{var x=new XMLHttpRequest;x.open("GET",c,!0),x.responseType="arraybuffer",x.onload=()=>{200==x.status||0==x.status&&x.response?m(x.response):b()},x.onerror=b,x.send(null)});var ce,H=l.print||console.log.bind(console),q=l.printErr||console.warn.bind(console);Object.assign(l,G),G=null,l.thisProgram&&(N=l.thisProgram),l.quit&&(B=l.quit),l.wasmBinary&&(ce=l.wasmBinary);var Te=l.noExitRuntime||!0;"object"!=typeof WebAssembly&&kn("no native wasm support detected");var ae,ie,ue,Ke,k,fe,Ct,ot=!1;function _e(c,m){c||kn(m)}function tn(){var c=ae.buffer;l.HEAP8=ue=new Int8Array(c),l.HEAP16=new Int16Array(c),l.HEAP32=k=new Int32Array(c),l.HEAPU8=Ke=new Uint8Array(c),l.HEAPU16=new Uint16Array(c),l.HEAPU32=fe=new Uint32Array(c),l.HEAPF32=new Float32Array(c),l.HEAPF64=Ct=new Float64Array(c)}var Be,gr,Ee=[],He=[],et=[],Je=[],Nt=0,qn=null,In=null;function Or(c){Nt++,l.monitorRunDependencies&&l.monitorRunDependencies(Nt)}function to(c){if(Nt--,l.monitorRunDependencies&&l.monitorRunDependencies(Nt),0==Nt&&(null!==qn&&(clearInterval(qn),qn=null),In)){var m=In;In=null,m()}}function kn(c){l.onAbort&&l.onAbort(c),q(c="Aborted("+c+")"),ot=!0,ie=1,c+=". Build with -sASSERTIONS for more info.";var m=new WebAssembly.RuntimeError(c);throw J(m),m}function wr(c){return c.startsWith("data:application/octet-stream;base64,")}function bo(c){try{if(c==gr&&ce)return new Uint8Array(ce);if(Ne)return Ne(c);throw"both async and sync fetching of the wasm failed"}catch(m){kn(m)}}function ai(c,m,b){return function si(c){return ce||!se&&!Y||"function"!=typeof fetch?Promise.resolve().then(function(){return bo(c)}):fetch(c,{credentials:"same-origin"}).then(function(m){if(!m.ok)throw"failed to load wasm binary file at '"+c+"'";return m.arrayBuffer()}).catch(function(){return bo(c)})}(c).then(function(x){return WebAssembly.instantiate(x,m)}).then(function(x){return x}).then(b,function(x){q("failed to asynchronously prepare wasm: "+x),kn(x)})}wr(gr="cloudpilot_web.wasm")||(gr=function L(c){return l.locateFile?l.locateFile(c,$):$+c}(gr));var tt,Vt,Zi={1465348:c=>{Be.grow(65536);for(let m=0;m<=65535;m++)Be.set(Be.length-65535-1+m,Be.get(fe[(c>>>2)+m]));return Be.length-65535-1}};function ko(c){this.name="ExitStatus",this.message="Program terminated with exit("+c+")",this.status=c}function De(c){for(;c.length>0;)c.shift()(l)}var Re=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function hn(c,m,b){for(var x=m+b,W=m;c[W]&&!(W>=x);)++W;if(W-m>16&&c.buffer&&Re)return Re.decode(c.subarray(m,W));for(var ge="";m<W;){var xe=c[m++];if(128&xe){var qe=63&c[m++];if(192!=(224&xe)){var Rt=63&c[m++];if((xe=224==(240&xe)?(15&xe)<<12|qe<<6|Rt:(7&xe)<<18|qe<<12|Rt<<6|63&c[m++])<65536)ge+=String.fromCharCode(xe);else{var Rn=xe-65536;ge+=String.fromCharCode(55296|Rn>>10,56320|1023&Rn)}}else ge+=String.fromCharCode((31&xe)<<6|qe)}else ge+=String.fromCharCode(xe)}return ge}function fn(c,m){return c?hn(Ke,c,m):""}function Cn(c,m){return m+2097152>>>0<4194305-!!c?(c>>>0)+4294967296*m:NaN}var _n={isAbs:c=>"/"===c.charAt(0),splitPath:c=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(c).slice(1),normalizeArray:(c,m)=>{for(var b=0,x=c.length-1;x>=0;x--){var W=c[x];"."===W?c.splice(x,1):".."===W?(c.splice(x,1),b++):b&&(c.splice(x,1),b--)}if(m)for(;b;b--)c.unshift("..");return c},normalize:c=>{var m=_n.isAbs(c),b="/"===c.substr(-1);return!(c=_n.normalizeArray(c.split("/").filter(x=>!!x),!m).join("/"))&&!m&&(c="."),c&&b&&(c+="/"),(m?"/":"")+c},dirname:c=>{var m=_n.splitPath(c),b=m[0],x=m[1];return b||x?(x&&(x=x.substr(0,x.length-1)),b+x):"."},basename:c=>{if("/"===c)return"/";var m=(c=(c=_n.normalize(c)).replace(/\/$/,"")).lastIndexOf("/");return-1===m?c:c.substr(m+1)},join:function(){var c=Array.prototype.slice.call(arguments);return _n.normalize(c.join("/"))},join2:(c,m)=>_n.normalize(c+"/"+m)};function Tr(c){return(Tr=function Yn(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return c=>crypto.getRandomValues(c);kn("initRandomDevice")}())(c)}var Sr={resolve:function(){for(var c="",m=!1,b=arguments.length-1;b>=-1&&!m;b--){var x=b>=0?arguments[b]:I.cwd();if("string"!=typeof x)throw new TypeError("Arguments to path.resolve must be strings");if(!x)return"";c=x+"/"+c,m=_n.isAbs(x)}return(m?"/":"")+(c=_n.normalizeArray(c.split("/").filter(W=>!!W),!m).join("/"))||"."},relative:(c,m)=>{function b(Rn){for(var En=0;En<Rn.length&&""===Rn[En];En++);for(var cr=Rn.length-1;cr>=0&&""===Rn[cr];cr--);return En>cr?[]:Rn.slice(En,cr-En+1)}c=Sr.resolve(c).substr(1),m=Sr.resolve(m).substr(1);for(var x=b(c.split("/")),W=b(m.split("/")),ge=Math.min(x.length,W.length),xe=ge,qe=0;qe<ge;qe++)if(x[qe]!==W[qe]){xe=qe;break}var Rt=[];for(qe=xe;qe<x.length;qe++)Rt.push("..");return(Rt=Rt.concat(W.slice(xe))).join("/")}};function Kr(c){for(var m=0,b=0;b<c.length;++b){var x=c.charCodeAt(b);x<=127?m++:x<=2047?m+=2:x>=55296&&x<=57343?(m+=4,++b):m+=3}return m}function Qn(c,m,b,x){if(!(x>0))return 0;for(var W=b,ge=b+x-1,xe=0;xe<c.length;++xe){var qe=c.charCodeAt(xe);if(qe>=55296&&qe<=57343&&(qe=65536+((1023&qe)<<10)|1023&c.charCodeAt(++xe)),qe<=127){if(b>=ge)break;m[b++]=qe}else if(qe<=2047){if(b+1>=ge)break;m[b++]=192|qe>>6,m[b++]=128|63&qe}else if(qe<=65535){if(b+2>=ge)break;m[b++]=224|qe>>12,m[b++]=128|qe>>6&63,m[b++]=128|63&qe}else{if(b+3>=ge)break;m[b++]=240|qe>>18,m[b++]=128|qe>>12&63,m[b++]=128|qe>>6&63,m[b++]=128|63&qe}}return m[b]=0,b-W}function fr(c,m,b){var x=b>0?b:Kr(c)+1,W=new Array(x),ge=Qn(c,W,0,W.length);return m&&(W.length=ge),W}var ft={ttys:[],init:function(){},shutdown:function(){},register:function(c,m){ft.ttys[c]={input:[],output:[],ops:m},I.registerDevice(c,ft.stream_ops)},stream_ops:{open:function(c){var m=ft.ttys[c.node.rdev];if(!m)throw new I.ErrnoError(43);c.tty=m,c.seekable=!1},close:function(c){c.tty.ops.fsync(c.tty)},fsync:function(c){c.tty.ops.fsync(c.tty)},read:function(c,m,b,x,W){if(!c.tty||!c.tty.ops.get_char)throw new I.ErrnoError(60);for(var ge=0,xe=0;xe<x;xe++){var qe;try{qe=c.tty.ops.get_char(c.tty)}catch{throw new I.ErrnoError(29)}if(void 0===qe&&0===ge)throw new I.ErrnoError(6);if(null==qe)break;ge++,m[b+xe]=qe}return ge&&(c.node.timestamp=Date.now()),ge},write:function(c,m,b,x,W){if(!c.tty||!c.tty.ops.put_char)throw new I.ErrnoError(60);try{for(var ge=0;ge<x;ge++)c.tty.ops.put_char(c.tty,m[b+ge])}catch{throw new I.ErrnoError(29)}return x&&(c.node.timestamp=Date.now()),ge}},default_tty_ops:{get_char:function(c){if(!c.input.length){var m=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(m=window.prompt("Input: "))&&(m+="\n"):"function"==typeof readline&&null!==(m=readline())&&(m+="\n"),!m)return null;c.input=fr(m,!0)}return c.input.shift()},put_char:function(c,m){null===m||10===m?(H(hn(c.output,0)),c.output=[]):0!=m&&c.output.push(m)},fsync:function(c){c.output&&c.output.length>0&&(H(hn(c.output,0)),c.output=[])}},default_tty1_ops:{put_char:function(c,m){null===m||10===m?(q(hn(c.output,0)),c.output=[]):0!=m&&c.output.push(m)},fsync:function(c){c.output&&c.output.length>0&&(q(hn(c.output,0)),c.output=[])}}};function Er(c){kn()}var h={ops_table:null,mount:function(c){return h.createNode(null,"/",16895,0)},createNode:function(c,m,b,x){if(I.isBlkdev(b)||I.isFIFO(b))throw new I.ErrnoError(63);h.ops_table||(h.ops_table={dir:{node:{getattr:h.node_ops.getattr,setattr:h.node_ops.setattr,lookup:h.node_ops.lookup,mknod:h.node_ops.mknod,rename:h.node_ops.rename,unlink:h.node_ops.unlink,rmdir:h.node_ops.rmdir,readdir:h.node_ops.readdir,symlink:h.node_ops.symlink},stream:{llseek:h.stream_ops.llseek}},file:{node:{getattr:h.node_ops.getattr,setattr:h.node_ops.setattr},stream:{llseek:h.stream_ops.llseek,read:h.stream_ops.read,write:h.stream_ops.write,allocate:h.stream_ops.allocate,mmap:h.stream_ops.mmap,msync:h.stream_ops.msync}},link:{node:{getattr:h.node_ops.getattr,setattr:h.node_ops.setattr,readlink:h.node_ops.readlink},stream:{}},chrdev:{node:{getattr:h.node_ops.getattr,setattr:h.node_ops.setattr},stream:I.chrdev_stream_ops}});var W=I.createNode(c,m,b,x);return I.isDir(W.mode)?(W.node_ops=h.ops_table.dir.node,W.stream_ops=h.ops_table.dir.stream,W.contents={}):I.isFile(W.mode)?(W.node_ops=h.ops_table.file.node,W.stream_ops=h.ops_table.file.stream,W.usedBytes=0,W.contents=null):I.isLink(W.mode)?(W.node_ops=h.ops_table.link.node,W.stream_ops=h.ops_table.link.stream):I.isChrdev(W.mode)&&(W.node_ops=h.ops_table.chrdev.node,W.stream_ops=h.ops_table.chrdev.stream),W.timestamp=Date.now(),c&&(c.contents[m]=W,c.timestamp=W.timestamp),W},getFileDataAsTypedArray:function(c){return c.contents?c.contents.subarray?c.contents.subarray(0,c.usedBytes):new Uint8Array(c.contents):new Uint8Array(0)},expandFileStorage:function(c,m){var b=c.contents?c.contents.length:0;if(!(b>=m)){m=Math.max(m,b*(b<1048576?2:1.125)>>>0),0!=b&&(m=Math.max(m,256));var W=c.contents;c.contents=new Uint8Array(m),c.usedBytes>0&&c.contents.set(W.subarray(0,c.usedBytes),0)}},resizeFileStorage:function(c,m){if(c.usedBytes!=m)if(0==m)c.contents=null,c.usedBytes=0;else{var b=c.contents;c.contents=new Uint8Array(m),b&&c.contents.set(b.subarray(0,Math.min(m,c.usedBytes))),c.usedBytes=m}},node_ops:{getattr:function(c){var m={};return m.dev=I.isChrdev(c.mode)?c.id:1,m.ino=c.id,m.mode=c.mode,m.nlink=1,m.uid=0,m.gid=0,m.rdev=c.rdev,m.size=I.isDir(c.mode)?4096:I.isFile(c.mode)?c.usedBytes:I.isLink(c.mode)?c.link.length:0,m.atime=new Date(c.timestamp),m.mtime=new Date(c.timestamp),m.ctime=new Date(c.timestamp),m.blksize=4096,m.blocks=Math.ceil(m.size/m.blksize),m},setattr:function(c,m){void 0!==m.mode&&(c.mode=m.mode),void 0!==m.timestamp&&(c.timestamp=m.timestamp),void 0!==m.size&&h.resizeFileStorage(c,m.size)},lookup:function(c,m){throw I.genericErrors[44]},mknod:function(c,m,b,x){return h.createNode(c,m,b,x)},rename:function(c,m,b){if(I.isDir(c.mode)){var x;try{x=I.lookupNode(m,b)}catch{}if(x)for(var W in x.contents)throw new I.ErrnoError(55)}delete c.parent.contents[c.name],c.parent.timestamp=Date.now(),c.name=b,m.contents[b]=c,m.timestamp=c.parent.timestamp,c.parent=m},unlink:function(c,m){delete c.contents[m],c.timestamp=Date.now()},rmdir:function(c,m){var b=I.lookupNode(c,m);for(var x in b.contents)throw new I.ErrnoError(55);delete c.contents[m],c.timestamp=Date.now()},readdir:function(c){var m=[".",".."];for(var b in c.contents)c.contents.hasOwnProperty(b)&&m.push(b);return m},symlink:function(c,m,b){var x=h.createNode(c,m,41471,0);return x.link=b,x},readlink:function(c){if(!I.isLink(c.mode))throw new I.ErrnoError(28);return c.link}},stream_ops:{read:function(c,m,b,x,W){var ge=c.node.contents;if(W>=c.node.usedBytes)return 0;var xe=Math.min(c.node.usedBytes-W,x);if(xe>8&&ge.subarray)m.set(ge.subarray(W,W+xe),b);else for(var qe=0;qe<xe;qe++)m[b+qe]=ge[W+qe];return xe},write:function(c,m,b,x,W,ge){if(m.buffer===ue.buffer&&(ge=!1),!x)return 0;var xe=c.node;if(xe.timestamp=Date.now(),m.subarray&&(!xe.contents||xe.contents.subarray)){if(ge)return xe.contents=m.subarray(b,b+x),xe.usedBytes=x,x;if(0===xe.usedBytes&&0===W)return xe.contents=m.slice(b,b+x),xe.usedBytes=x,x;if(W+x<=xe.usedBytes)return xe.contents.set(m.subarray(b,b+x),W),x}if(h.expandFileStorage(xe,W+x),xe.contents.subarray&&m.subarray)xe.contents.set(m.subarray(b,b+x),W);else for(var qe=0;qe<x;qe++)xe.contents[W+qe]=m[b+qe];return xe.usedBytes=Math.max(xe.usedBytes,W+x),x},llseek:function(c,m,b){var x=m;if(1===b?x+=c.position:2===b&&I.isFile(c.node.mode)&&(x+=c.node.usedBytes),x<0)throw new I.ErrnoError(28);return x},allocate:function(c,m,b){h.expandFileStorage(c.node,m+b),c.node.usedBytes=Math.max(c.node.usedBytes,m+b)},mmap:function(c,m,b,x,W){if(!I.isFile(c.node.mode))throw new I.ErrnoError(43);var ge,xe,qe=c.node.contents;if(2&W||qe.buffer!==ue.buffer){if((b>0||b+m<qe.length)&&(qe=qe.subarray?qe.subarray(b,b+m):Array.prototype.slice.call(qe,b,b+m)),xe=!0,!(ge=Er()))throw new I.ErrnoError(48);ue.set(qe,ge)}else xe=!1,ge=qe.byteOffset;return{ptr:ge,allocated:xe}},msync:function(c,m,b,x,W){return h.stream_ops.write(c,m,0,x,b,!1),0}}},I={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(c,m={})=>{if(!(c=Sr.resolve(c)))return{path:"",node:null};if((m=Object.assign({follow_mount:!0,recurse_count:0},m)).recurse_count>8)throw new I.ErrnoError(32);for(var x=c.split("/").filter(cr=>!!cr),W=I.root,ge="/",xe=0;xe<x.length;xe++){var qe=xe===x.length-1;if(qe&&m.parent)break;if(W=I.lookupNode(W,x[xe]),ge=_n.join2(ge,x[xe]),I.isMountpoint(W)&&(!qe||qe&&m.follow_mount)&&(W=W.mounted.root),!qe||m.follow)for(var Rt=0;I.isLink(W.mode);){var Rn=I.readlink(ge);if(ge=Sr.resolve(_n.dirname(ge),Rn),W=I.lookupPath(ge,{recurse_count:m.recurse_count+1}).node,Rt++>40)throw new I.ErrnoError(32)}}return{path:ge,node:W}},getPath:c=>{for(var m;;){if(I.isRoot(c)){var b=c.mount.mountpoint;return m?"/"!==b[b.length-1]?b+"/"+m:b+m:b}m=m?c.name+"/"+m:c.name,c=c.parent}},hashName:(c,m)=>{for(var b=0,x=0;x<m.length;x++)b=(b<<5)-b+m.charCodeAt(x)|0;return(c+b>>>0)%I.nameTable.length},hashAddNode:c=>{var m=I.hashName(c.parent.id,c.name);c.name_next=I.nameTable[m],I.nameTable[m]=c},hashRemoveNode:c=>{var m=I.hashName(c.parent.id,c.name);if(I.nameTable[m]===c)I.nameTable[m]=c.name_next;else for(var b=I.nameTable[m];b;){if(b.name_next===c){b.name_next=c.name_next;break}b=b.name_next}},lookupNode:(c,m)=>{var b=I.mayLookup(c);if(b)throw new I.ErrnoError(b,c);for(var x=I.hashName(c.id,m),W=I.nameTable[x];W;W=W.name_next)if(W.parent.id===c.id&&W.name===m)return W;return I.lookup(c,m)},createNode:(c,m,b,x)=>{var W=new I.FSNode(c,m,b,x);return I.hashAddNode(W),W},destroyNode:c=>{I.hashRemoveNode(c)},isRoot:c=>c===c.parent,isMountpoint:c=>!!c.mounted,isFile:c=>32768==(61440&c),isDir:c=>16384==(61440&c),isLink:c=>40960==(61440&c),isChrdev:c=>8192==(61440&c),isBlkdev:c=>24576==(61440&c),isFIFO:c=>4096==(61440&c),isSocket:c=>49152==(49152&c),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:c=>{var m=I.flagModes[c];if(typeof m>"u")throw new Error("Unknown file open mode: "+c);return m},flagsToPermissionString:c=>{var m=["r","w","rw"][3&c];return 512&c&&(m+="w"),m},nodePermissions:(c,m)=>I.ignorePermissions?0:m.includes("r")&&!(292&c.mode)||m.includes("w")&&!(146&c.mode)||m.includes("x")&&!(73&c.mode)?2:0,mayLookup:c=>I.nodePermissions(c,"x")||(c.node_ops.lookup?0:2),mayCreate:(c,m)=>{try{return I.lookupNode(c,m),20}catch{}return I.nodePermissions(c,"wx")},mayDelete:(c,m,b)=>{var x;try{x=I.lookupNode(c,m)}catch(ge){return ge.errno}var W=I.nodePermissions(c,"wx");if(W)return W;if(b){if(!I.isDir(x.mode))return 54;if(I.isRoot(x)||I.getPath(x)===I.cwd())return 10}else if(I.isDir(x.mode))return 31;return 0},mayOpen:(c,m)=>c?I.isLink(c.mode)?32:I.isDir(c.mode)&&("r"!==I.flagsToPermissionString(m)||512&m)?31:I.nodePermissions(c,I.flagsToPermissionString(m)):44,MAX_OPEN_FDS:4096,nextfd:(c=0,m=I.MAX_OPEN_FDS)=>{for(var b=c;b<=m;b++)if(!I.streams[b])return b;throw new I.ErrnoError(33)},getStream:c=>I.streams[c],createStream:(c,m,b)=>{I.FSStream||(I.FSStream=function(){this.shared={}},I.FSStream.prototype={},Object.defineProperties(I.FSStream.prototype,{object:{get:function(){return this.node},set:function(W){this.node=W}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(W){this.shared.flags=W}},position:{get:function(){return this.shared.position},set:function(W){this.shared.position=W}}})),c=Object.assign(new I.FSStream,c);var x=I.nextfd(m,b);return c.fd=x,I.streams[x]=c,c},closeStream:c=>{I.streams[c]=null},chrdev_stream_ops:{open:c=>{var m=I.getDevice(c.node.rdev);c.stream_ops=m.stream_ops,c.stream_ops.open&&c.stream_ops.open(c)},llseek:()=>{throw new I.ErrnoError(70)}},major:c=>c>>8,minor:c=>255&c,makedev:(c,m)=>c<<8|m,registerDevice:(c,m)=>{I.devices[c]={stream_ops:m}},getDevice:c=>I.devices[c],getMounts:c=>{for(var m=[],b=[c];b.length;){var x=b.pop();m.push(x),b.push.apply(b,x.mounts)}return m},syncfs:(c,m)=>{"function"==typeof c&&(m=c,c=!1),I.syncFSRequests++,I.syncFSRequests>1&&q("warning: "+I.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var b=I.getMounts(I.root.mount),x=0;function W(xe){return I.syncFSRequests--,m(xe)}function ge(xe){if(xe)return ge.errored?void 0:(ge.errored=!0,W(xe));++x>=b.length&&W(null)}b.forEach(xe=>{if(!xe.type.syncfs)return ge(null);xe.type.syncfs(xe,c,ge)})},mount:(c,m,b)=>{var ge,x="/"===b,W=!b;if(x&&I.root)throw new I.ErrnoError(10);if(!x&&!W){var xe=I.lookupPath(b,{follow_mount:!1});if(b=xe.path,I.isMountpoint(ge=xe.node))throw new I.ErrnoError(10);if(!I.isDir(ge.mode))throw new I.ErrnoError(54)}var qe={type:c,opts:m,mountpoint:b,mounts:[]},Rt=c.mount(qe);return Rt.mount=qe,qe.root=Rt,x?I.root=Rt:ge&&(ge.mounted=qe,ge.mount&&ge.mount.mounts.push(qe)),Rt},unmount:c=>{var m=I.lookupPath(c,{follow_mount:!1});if(!I.isMountpoint(m.node))throw new I.ErrnoError(28);var b=m.node,x=b.mounted,W=I.getMounts(x);Object.keys(I.nameTable).forEach(xe=>{for(var qe=I.nameTable[xe];qe;){var Rt=qe.name_next;W.includes(qe.mount)&&I.destroyNode(qe),qe=Rt}}),b.mounted=null;var ge=b.mount.mounts.indexOf(x);b.mount.mounts.splice(ge,1)},lookup:(c,m)=>c.node_ops.lookup(c,m),mknod:(c,m,b)=>{var W=I.lookupPath(c,{parent:!0}).node,ge=_n.basename(c);if(!ge||"."===ge||".."===ge)throw new I.ErrnoError(28);var xe=I.mayCreate(W,ge);if(xe)throw new I.ErrnoError(xe);if(!W.node_ops.mknod)throw new I.ErrnoError(63);return W.node_ops.mknod(W,ge,m,b)},create:(c,m)=>(m=void 0!==m?m:438,m&=4095,I.mknod(c,m|=32768,0)),mkdir:(c,m)=>(m=void 0!==m?m:511,m&=1023,I.mknod(c,m|=16384,0)),mkdirTree:(c,m)=>{for(var b=c.split("/"),x="",W=0;W<b.length;++W)if(b[W]){x+="/"+b[W];try{I.mkdir(x,m)}catch(ge){if(20!=ge.errno)throw ge}}},mkdev:(c,m,b)=>(typeof b>"u"&&(b=m,m=438),I.mknod(c,m|=8192,b)),symlink:(c,m)=>{if(!Sr.resolve(c))throw new I.ErrnoError(44);var x=I.lookupPath(m,{parent:!0}).node;if(!x)throw new I.ErrnoError(44);var W=_n.basename(m),ge=I.mayCreate(x,W);if(ge)throw new I.ErrnoError(ge);if(!x.node_ops.symlink)throw new I.ErrnoError(63);return x.node_ops.symlink(x,W,c)},rename:(c,m)=>{var qe,Rt,b=_n.dirname(c),x=_n.dirname(m),W=_n.basename(c),ge=_n.basename(m);if(qe=I.lookupPath(c,{parent:!0}).node,Rt=I.lookupPath(m,{parent:!0}).node,!qe||!Rt)throw new I.ErrnoError(44);if(qe.mount!==Rt.mount)throw new I.ErrnoError(75);var cr,Rn=I.lookupNode(qe,W),En=Sr.relative(c,x);if("."!==En.charAt(0))throw new I.ErrnoError(28);if("."!==(En=Sr.relative(m,b)).charAt(0))throw new I.ErrnoError(55);try{cr=I.lookupNode(Rt,ge)}catch{}if(Rn!==cr){var zt=I.isDir(Rn.mode),vn=I.mayDelete(qe,W,zt);if(vn)throw new I.ErrnoError(vn);if(vn=cr?I.mayDelete(Rt,ge,zt):I.mayCreate(Rt,ge))throw new I.ErrnoError(vn);if(!qe.node_ops.rename)throw new I.ErrnoError(63);if(I.isMountpoint(Rn)||cr&&I.isMountpoint(cr))throw new I.ErrnoError(10);if(Rt!==qe&&(vn=I.nodePermissions(qe,"w")))throw new I.ErrnoError(vn);I.hashRemoveNode(Rn);try{qe.node_ops.rename(Rn,Rt,ge)}catch(Xn){throw Xn}finally{I.hashAddNode(Rn)}}},rmdir:c=>{var b=I.lookupPath(c,{parent:!0}).node,x=_n.basename(c),W=I.lookupNode(b,x),ge=I.mayDelete(b,x,!0);if(ge)throw new I.ErrnoError(ge);if(!b.node_ops.rmdir)throw new I.ErrnoError(63);if(I.isMountpoint(W))throw new I.ErrnoError(10);b.node_ops.rmdir(b,x),I.destroyNode(W)},readdir:c=>{var b=I.lookupPath(c,{follow:!0}).node;if(!b.node_ops.readdir)throw new I.ErrnoError(54);return b.node_ops.readdir(b)},unlink:c=>{var b=I.lookupPath(c,{parent:!0}).node;if(!b)throw new I.ErrnoError(44);var x=_n.basename(c),W=I.lookupNode(b,x),ge=I.mayDelete(b,x,!1);if(ge)throw new I.ErrnoError(ge);if(!b.node_ops.unlink)throw new I.ErrnoError(63);if(I.isMountpoint(W))throw new I.ErrnoError(10);b.node_ops.unlink(b,x),I.destroyNode(W)},readlink:c=>{var b=I.lookupPath(c).node;if(!b)throw new I.ErrnoError(44);if(!b.node_ops.readlink)throw new I.ErrnoError(28);return Sr.resolve(I.getPath(b.parent),b.node_ops.readlink(b))},stat:(c,m)=>{var x=I.lookupPath(c,{follow:!m}).node;if(!x)throw new I.ErrnoError(44);if(!x.node_ops.getattr)throw new I.ErrnoError(63);return x.node_ops.getattr(x)},lstat:c=>I.stat(c,!0),chmod:(c,m,b)=>{var x;if(!(x="string"==typeof c?I.lookupPath(c,{follow:!b}).node:c).node_ops.setattr)throw new I.ErrnoError(63);x.node_ops.setattr(x,{mode:4095&m|-4096&x.mode,timestamp:Date.now()})},lchmod:(c,m)=>{I.chmod(c,m,!0)},fchmod:(c,m)=>{var b=I.getStream(c);if(!b)throw new I.ErrnoError(8);I.chmod(b.node,m)},chown:(c,m,b,x)=>{var W;if(!(W="string"==typeof c?I.lookupPath(c,{follow:!x}).node:c).node_ops.setattr)throw new I.ErrnoError(63);W.node_ops.setattr(W,{timestamp:Date.now()})},lchown:(c,m,b)=>{I.chown(c,m,b,!0)},fchown:(c,m,b)=>{var x=I.getStream(c);if(!x)throw new I.ErrnoError(8);I.chown(x.node,m,b)},truncate:(c,m)=>{if(m<0)throw new I.ErrnoError(28);var b;if(!(b="string"==typeof c?I.lookupPath(c,{follow:!0}).node:c).node_ops.setattr)throw new I.ErrnoError(63);if(I.isDir(b.mode))throw new I.ErrnoError(31);if(!I.isFile(b.mode))throw new I.ErrnoError(28);var W=I.nodePermissions(b,"w");if(W)throw new I.ErrnoError(W);b.node_ops.setattr(b,{size:m,timestamp:Date.now()})},ftruncate:(c,m)=>{var b=I.getStream(c);if(!b)throw new I.ErrnoError(8);if(!(2097155&b.flags))throw new I.ErrnoError(28);I.truncate(b.node,m)},utime:(c,m,b)=>{var W=I.lookupPath(c,{follow:!0}).node;W.node_ops.setattr(W,{timestamp:Math.max(m,b)})},open:(c,m,b)=>{if(""===c)throw new I.ErrnoError(44);var x;if(b=typeof b>"u"?438:b,b=64&(m="string"==typeof m?I.modeStringToFlags(m):m)?4095&b|32768:0,"object"==typeof c)x=c;else{c=_n.normalize(c);try{x=I.lookupPath(c,{follow:!(131072&m)}).node}catch{}}var ge=!1;if(64&m)if(x){if(128&m)throw new I.ErrnoError(20)}else x=I.mknod(c,b,0),ge=!0;if(!x)throw new I.ErrnoError(44);if(I.isChrdev(x.mode)&&(m&=-513),65536&m&&!I.isDir(x.mode))throw new I.ErrnoError(54);if(!ge){var xe=I.mayOpen(x,m);if(xe)throw new I.ErrnoError(xe)}512&m&&!ge&&I.truncate(x,0),m&=-131713;var qe=I.createStream({node:x,path:I.getPath(x),flags:m,seekable:!0,position:0,stream_ops:x.stream_ops,ungotten:[],error:!1});return qe.stream_ops.open&&qe.stream_ops.open(qe),l.logReadFiles&&!(1&m)&&(I.readFiles||(I.readFiles={}),c in I.readFiles||(I.readFiles[c]=1)),qe},close:c=>{if(I.isClosed(c))throw new I.ErrnoError(8);c.getdents&&(c.getdents=null);try{c.stream_ops.close&&c.stream_ops.close(c)}catch(m){throw m}finally{I.closeStream(c.fd)}c.fd=null},isClosed:c=>null===c.fd,llseek:(c,m,b)=>{if(I.isClosed(c))throw new I.ErrnoError(8);if(!c.seekable||!c.stream_ops.llseek)throw new I.ErrnoError(70);if(0!=b&&1!=b&&2!=b)throw new I.ErrnoError(28);return c.position=c.stream_ops.llseek(c,m,b),c.ungotten=[],c.position},read:(c,m,b,x,W)=>{if(x<0||W<0)throw new I.ErrnoError(28);if(I.isClosed(c))throw new I.ErrnoError(8);if(1==(2097155&c.flags))throw new I.ErrnoError(8);if(I.isDir(c.node.mode))throw new I.ErrnoError(31);if(!c.stream_ops.read)throw new I.ErrnoError(28);var ge=typeof W<"u";if(ge){if(!c.seekable)throw new I.ErrnoError(70)}else W=c.position;var xe=c.stream_ops.read(c,m,b,x,W);return ge||(c.position+=xe),xe},write:(c,m,b,x,W,ge)=>{if(x<0||W<0)throw new I.ErrnoError(28);if(I.isClosed(c))throw new I.ErrnoError(8);if(!(2097155&c.flags))throw new I.ErrnoError(8);if(I.isDir(c.node.mode))throw new I.ErrnoError(31);if(!c.stream_ops.write)throw new I.ErrnoError(28);c.seekable&&1024&c.flags&&I.llseek(c,0,2);var xe=typeof W<"u";if(xe){if(!c.seekable)throw new I.ErrnoError(70)}else W=c.position;var qe=c.stream_ops.write(c,m,b,x,W,ge);return xe||(c.position+=qe),qe},allocate:(c,m,b)=>{if(I.isClosed(c))throw new I.ErrnoError(8);if(m<0||b<=0)throw new I.ErrnoError(28);if(!(2097155&c.flags))throw new I.ErrnoError(8);if(!I.isFile(c.node.mode)&&!I.isDir(c.node.mode))throw new I.ErrnoError(43);if(!c.stream_ops.allocate)throw new I.ErrnoError(138);c.stream_ops.allocate(c,m,b)},mmap:(c,m,b,x,W)=>{if(2&x&&!(2&W)&&2!=(2097155&c.flags))throw new I.ErrnoError(2);if(1==(2097155&c.flags))throw new I.ErrnoError(2);if(!c.stream_ops.mmap)throw new I.ErrnoError(43);return c.stream_ops.mmap(c,m,b,x,W)},msync:(c,m,b,x,W)=>c.stream_ops.msync?c.stream_ops.msync(c,m,b,x,W):0,munmap:c=>0,ioctl:(c,m,b)=>{if(!c.stream_ops.ioctl)throw new I.ErrnoError(59);return c.stream_ops.ioctl(c,m,b)},readFile:(c,m={})=>{if(m.flags=m.flags||0,m.encoding=m.encoding||"binary","utf8"!==m.encoding&&"binary"!==m.encoding)throw new Error('Invalid encoding type "'+m.encoding+'"');var b,x=I.open(c,m.flags),ge=I.stat(c).size,xe=new Uint8Array(ge);return I.read(x,xe,0,ge,0),"utf8"===m.encoding?b=hn(xe,0):"binary"===m.encoding&&(b=xe),I.close(x),b},writeFile:(c,m,b={})=>{b.flags=b.flags||577;var x=I.open(c,b.flags,b.mode);if("string"==typeof m){var W=new Uint8Array(Kr(m)+1),ge=Qn(m,W,0,W.length);I.write(x,W,0,ge,void 0,b.canOwn)}else{if(!ArrayBuffer.isView(m))throw new Error("Unsupported data type");I.write(x,m,0,m.byteLength,void 0,b.canOwn)}I.close(x)},cwd:()=>I.currentPath,chdir:c=>{var m=I.lookupPath(c,{follow:!0});if(null===m.node)throw new I.ErrnoError(44);if(!I.isDir(m.node.mode))throw new I.ErrnoError(54);var b=I.nodePermissions(m.node,"x");if(b)throw new I.ErrnoError(b);I.currentPath=m.path},createDefaultDirectories:()=>{I.mkdir("/tmp"),I.mkdir("/home"),I.mkdir("/home/web_user")},createDefaultDevices:()=>{I.mkdir("/dev"),I.registerDevice(I.makedev(1,3),{read:()=>0,write:(x,W,ge,xe,qe)=>xe}),I.mkdev("/dev/null",I.makedev(1,3)),ft.register(I.makedev(5,0),ft.default_tty_ops),ft.register(I.makedev(6,0),ft.default_tty1_ops),I.mkdev("/dev/tty",I.makedev(5,0)),I.mkdev("/dev/tty1",I.makedev(6,0));var c=new Uint8Array(1024),m=0,b=()=>(0===m&&(m=Tr(c).byteLength),c[--m]);I.createDevice("/dev","random",b),I.createDevice("/dev","urandom",b),I.mkdir("/dev/shm"),I.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{I.mkdir("/proc");var c=I.mkdir("/proc/self");I.mkdir("/proc/self/fd"),I.mount({mount:()=>{var m=I.createNode(c,"fd",16895,73);return m.node_ops={lookup:(b,x)=>{var ge=I.getStream(+x);if(!ge)throw new I.ErrnoError(8);var xe={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>ge.path}};return xe.parent=xe,xe}},m}},{},"/proc/self/fd")},createStandardStreams:()=>{l.stdin?I.createDevice("/dev","stdin",l.stdin):I.symlink("/dev/tty","/dev/stdin"),l.stdout?I.createDevice("/dev","stdout",null,l.stdout):I.symlink("/dev/tty","/dev/stdout"),l.stderr?I.createDevice("/dev","stderr",null,l.stderr):I.symlink("/dev/tty1","/dev/stderr"),I.open("/dev/stdin",0),I.open("/dev/stdout",1),I.open("/dev/stderr",1)},ensureErrnoError:()=>{I.ErrnoError||(I.ErrnoError=function(m,b){this.name="ErrnoError",this.node=b,this.setErrno=function(x){this.errno=x},this.setErrno(m),this.message="FS error"},I.ErrnoError.prototype=new Error,I.ErrnoError.prototype.constructor=I.ErrnoError,[44].forEach(c=>{I.genericErrors[c]=new I.ErrnoError(c),I.genericErrors[c].stack="<generic error, no stack>"}))},staticInit:()=>{I.ensureErrnoError(),I.nameTable=new Array(4096),I.mount(h,{},"/"),I.createDefaultDirectories(),I.createDefaultDevices(),I.createSpecialDirectories(),I.filesystems={MEMFS:h}},init:(c,m,b)=>{I.init.initialized=!0,I.ensureErrnoError(),l.stdin=c||l.stdin,l.stdout=m||l.stdout,l.stderr=b||l.stderr,I.createStandardStreams()},quit:()=>{I.init.initialized=!1;for(var c=0;c<I.streams.length;c++){var m=I.streams[c];m&&I.close(m)}},getMode:(c,m)=>{var b=0;return c&&(b|=365),m&&(b|=146),b},findObject:(c,m)=>{var b=I.analyzePath(c,m);return b.exists?b.object:null},analyzePath:(c,m)=>{try{c=(b=I.lookupPath(c,{follow:!m})).path}catch{}var x={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var b=I.lookupPath(c,{parent:!0});x.parentExists=!0,x.parentPath=b.path,x.parentObject=b.node,x.name=_n.basename(c),b=I.lookupPath(c,{follow:!m}),x.exists=!0,x.path=b.path,x.object=b.node,x.name=b.node.name,x.isRoot="/"===b.path}catch(W){x.error=W.errno}return x},createPath:(c,m,b,x)=>{c="string"==typeof c?c:I.getPath(c);for(var W=m.split("/").reverse();W.length;){var ge=W.pop();if(ge){var xe=_n.join2(c,ge);try{I.mkdir(xe)}catch{}c=xe}}return xe},createFile:(c,m,b,x,W)=>{var ge=_n.join2("string"==typeof c?c:I.getPath(c),m),xe=I.getMode(x,W);return I.create(ge,xe)},createDataFile:(c,m,b,x,W,ge)=>{var xe=m;c&&(c="string"==typeof c?c:I.getPath(c),xe=m?_n.join2(c,m):c);var qe=I.getMode(x,W),Rt=I.create(xe,qe);if(b){if("string"==typeof b){for(var Rn=new Array(b.length),En=0,cr=b.length;En<cr;++En)Rn[En]=b.charCodeAt(En);b=Rn}I.chmod(Rt,146|qe);var zt=I.open(Rt,577);I.write(zt,b,0,b.length,0,ge),I.close(zt),I.chmod(Rt,qe)}return Rt},createDevice:(c,m,b,x)=>{var W=_n.join2("string"==typeof c?c:I.getPath(c),m),ge=I.getMode(!!b,!!x);I.createDevice.major||(I.createDevice.major=64);var xe=I.makedev(I.createDevice.major++,0);return I.registerDevice(xe,{open:qe=>{qe.seekable=!1},close:qe=>{x&&x.buffer&&x.buffer.length&&x(10)},read:(qe,Rt,Rn,En,cr)=>{for(var zt=0,vn=0;vn<En;vn++){var Xn;try{Xn=b()}catch{throw new I.ErrnoError(29)}if(void 0===Xn&&0===zt)throw new I.ErrnoError(6);if(null==Xn)break;zt++,Rt[Rn+vn]=Xn}return zt&&(qe.node.timestamp=Date.now()),zt},write:(qe,Rt,Rn,En,cr)=>{for(var zt=0;zt<En;zt++)try{x(Rt[Rn+zt])}catch{throw new I.ErrnoError(29)}return En&&(qe.node.timestamp=Date.now()),zt}}),I.mkdev(W,ge,xe)},forceLoadFile:c=>{if(c.isDevice||c.isFolder||c.link||c.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!j)throw new Error("Cannot load without read() or XMLHttpRequest.");try{c.contents=fr(j(c.url),!0),c.usedBytes=c.contents.length}catch{throw new I.ErrnoError(29)}},createLazyFile:(c,m,b,x,W)=>{function ge(){this.lengthKnown=!1,this.chunks=[]}if(ge.prototype.get=function(vn){if(!(vn>this.length-1||vn<0)){var Xn=vn%this.chunkSize;return this.getter(vn/this.chunkSize|0)[Xn]}},ge.prototype.setDataGetter=function(vn){this.getter=vn},ge.prototype.cacheLength=function(){var vn=new XMLHttpRequest;if(vn.open("HEAD",b,!1),vn.send(null),!(vn.status>=200&&vn.status<300||304===vn.status))throw new Error("Couldn't load "+b+". Status: "+vn.status);var wo,Xn=Number(vn.getResponseHeader("Content-length")),gs=(wo=vn.getResponseHeader("Accept-Ranges"))&&"bytes"===wo,wi=(wo=vn.getResponseHeader("Content-Encoding"))&&"gzip"===wo,vt=1048576;gs||(vt=Xn);var _o=this;_o.setDataGetter($r=>{var Yi=$r*vt,So=($r+1)*vt-1;if(So=Math.min(So,Xn-1),typeof _o.chunks[$r]>"u"&&(_o.chunks[$r]=(($r,Yi)=>{if($r>Yi)throw new Error("invalid range ("+$r+", "+Yi+") or no bytes requested!");if(Yi>Xn-1)throw new Error("only "+Xn+" bytes available! programmer error!");var So=new XMLHttpRequest;if(So.open("GET",b,!1),Xn!==vt&&So.setRequestHeader("Range","bytes="+$r+"-"+Yi),So.responseType="arraybuffer",So.overrideMimeType&&So.overrideMimeType("text/plain; charset=x-user-defined"),So.send(null),!(So.status>=200&&So.status<300||304===So.status))throw new Error("Couldn't load "+b+". Status: "+So.status);return void 0!==So.response?new Uint8Array(So.response||[]):fr(So.responseText||"",!0)})(Yi,So)),typeof _o.chunks[$r]>"u")throw new Error("doXHR failed!");return _o.chunks[$r]}),(wi||!Xn)&&(vt=Xn=1,Xn=this.getter(0).length,vt=Xn,H("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Xn,this._chunkSize=vt,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!Y)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var xe=new ge;Object.defineProperties(xe,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var qe={isDevice:!1,contents:xe}}else qe={isDevice:!1,url:b};var Rt=I.createFile(c,m,qe,x,W);qe.contents?Rt.contents=qe.contents:qe.url&&(Rt.contents=null,Rt.url=qe.url),Object.defineProperties(Rt,{usedBytes:{get:function(){return this.contents.length}}});var Rn={};function cr(zt,vn,Xn,wo,gs){var wi=zt.node.contents;if(gs>=wi.length)return 0;var vt=Math.min(wi.length-gs,wo);if(wi.slice)for(var rn=0;rn<vt;rn++)vn[Xn+rn]=wi[gs+rn];else for(rn=0;rn<vt;rn++)vn[Xn+rn]=wi.get(gs+rn);return vt}return Object.keys(Rt.stream_ops).forEach(zt=>{var vn=Rt.stream_ops[zt];Rn[zt]=function(){return I.forceLoadFile(Rt),vn.apply(null,arguments)}}),Rn.read=(zt,vn,Xn,wo,gs)=>(I.forceLoadFile(Rt),cr(zt,vn,Xn,wo,gs)),Rn.mmap=(zt,vn,Xn,wo,gs)=>{I.forceLoadFile(Rt);var wi=Er();if(!wi)throw new I.ErrnoError(48);return cr(zt,ue,wi,vn,Xn),{ptr:wi,allocated:!0}},Rt.stream_ops=Rn,Rt},createPreloadedFile:(c,m,b,x,W,ge,xe,qe,Rt,Rn)=>{var En=m?Sr.resolve(_n.join2(c,m)):c;function zt(vn){function Xn(wo){Rn&&Rn(),qe||I.createDataFile(c,m,wo,x,W,Rt),ge&&ge(),to()}Browser.handledByPreloadPlugin(vn,En,Xn,()=>{xe&&xe(),to()})||Xn(vn)}Or(),"string"==typeof b?function mn(c,m,b,x){var W=x?"":"al "+c;Me(c,ge=>{_e(ge,'Loading data file "'+c+'" failed (no arrayBuffer).'),m(new Uint8Array(ge)),W&&to()},ge=>{if(!b)throw'Loading data file "'+c+'" failed.';b()}),W&&Or()}(b,vn=>zt(vn),xe):zt(b)}},no={DEFAULT_POLLMASK:5,calculateAt:function(c,m,b){if(_n.isAbs(m))return m;var x;if(x=-100===c?I.cwd():no.getStreamFromFD(c).path,0==m.length){if(!b)throw new I.ErrnoError(44);return x}return _n.join2(x,m)},doStat:function(c,m,b){try{var x=c(m)}catch(qe){if(qe&&qe.node&&_n.normalize(m)!==_n.normalize(I.getPath(qe.node)))return-54;throw qe}k[b>>2]=x.dev,k[b+8>>2]=x.ino,k[b+12>>2]=x.mode,fe[b+16>>2]=x.nlink,k[b+20>>2]=x.uid,k[b+24>>2]=x.gid,k[b+28>>2]=x.rdev,Vt=[x.size>>>0,(tt=x.size,+Math.abs(tt)>=1?tt>0?(0|Math.min(+Math.floor(tt/4294967296),4294967295))>>>0:~~+Math.ceil((tt-+(~~tt>>>0))/4294967296)>>>0:0)],k[b+40>>2]=Vt[0],k[b+44>>2]=Vt[1],k[b+48>>2]=4096,k[b+52>>2]=x.blocks;var W=x.atime.getTime(),ge=x.mtime.getTime(),xe=x.ctime.getTime();return Vt=[Math.floor(W/1e3)>>>0,(tt=Math.floor(W/1e3),+Math.abs(tt)>=1?tt>0?(0|Math.min(+Math.floor(tt/4294967296),4294967295))>>>0:~~+Math.ceil((tt-+(~~tt>>>0))/4294967296)>>>0:0)],k[b+56>>2]=Vt[0],k[b+60>>2]=Vt[1],fe[b+64>>2]=W%1e3*1e3,Vt=[Math.floor(ge/1e3)>>>0,(tt=Math.floor(ge/1e3),+Math.abs(tt)>=1?tt>0?(0|Math.min(+Math.floor(tt/4294967296),4294967295))>>>0:~~+Math.ceil((tt-+(~~tt>>>0))/4294967296)>>>0:0)],k[b+72>>2]=Vt[0],k[b+76>>2]=Vt[1],fe[b+80>>2]=ge%1e3*1e3,Vt=[Math.floor(xe/1e3)>>>0,(tt=Math.floor(xe/1e3),+Math.abs(tt)>=1?tt>0?(0|Math.min(+Math.floor(tt/4294967296),4294967295))>>>0:~~+Math.ceil((tt-+(~~tt>>>0))/4294967296)>>>0:0)],k[b+88>>2]=Vt[0],k[b+92>>2]=Vt[1],fe[b+96>>2]=xe%1e3*1e3,Vt=[x.ino>>>0,(tt=x.ino,+Math.abs(tt)>=1?tt>0?(0|Math.min(+Math.floor(tt/4294967296),4294967295))>>>0:~~+Math.ceil((tt-+(~~tt>>>0))/4294967296)>>>0:0)],k[b+104>>2]=Vt[0],k[b+108>>2]=Vt[1],0},doMsync:function(c,m,b,x,W){if(!I.isFile(m.node.mode))throw new I.ErrnoError(43);if(2&x)return 0;var ge=Ke.slice(c,c+b);I.msync(m,ge,W,b,x)},varargs:void 0,get:function(){return no.varargs+=4,k[no.varargs-4>>2]},getStr:function(c){return fn(c)},getStreamFromFD:function(c){var m=I.getStream(c);if(!m)throw new I.ErrnoError(8);return m}};function Oo(c){return c%4==0&&(c%100!=0||c%400==0)}var go=[0,31,60,91,121,152,182,213,244,274,305,335],Ai=[0,31,59,90,120,151,181,212,243,273,304,334];function _r(c){return(Oo(c.getFullYear())?go:Ai)[c.getMonth()]+c.getDate()-1}function gi(c){var m=Kr(c)+1,b=al(m);return b&&function Yo(c,m,b){Qn(c,Ke,m,b)}(c,b,m),b}var cs=[];function Is(c){var m=ae.buffer;try{return ae.grow(c-m.byteLength+65535>>>16),tn(),1}catch{}}var ds={};function Kn(){if(!Kn.strings){var m={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:N||"./this.program"};for(var b in ds)void 0===ds[b]?delete m[b]:m[b]=ds[b];var x=[];for(var b in m)x.push(b+"="+m[b]);Kn.strings=x}return Kn.strings}var le=[31,29,31,30,31,30,31,31,30,31,30,31],Ie=[31,28,31,30,31,30,31,31,30,31,30,31];function No(c,m){c<128?m.push(c):m.push(c%128|128,c>>7)}var Li=[];function nl(c){var m=Li[c];return m||(c>=Li.length&&(Li.length=c+1),Li[c]=m=Be.get(c)),m}var To=void 0;var rl=[];function ol(c,m){Be.set(c,m),Li[c]=Be.get(c)}var sl=function(c,m,b,x){c||(c=this),this.parent=c,this.mount=c.mount,this.mounted=null,this.id=I.nextInode++,this.name=m,this.mode=b,this.node_ops={},this.stream_ops={},this.rdev=x};Object.defineProperties(sl.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(c){c?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(c){c?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return I.isDir(this.mode)}},isDevice:{get:function(){return I.isChrdev(this.mode)}}}),I.FSNode=sl,I.staticInit();var lu,Lo={b:function wt(c,m,b,x){kn("Assertion failed: "+fn(c)+", at: "+[m?fn(m):"unknown filename",b,x?fn(x):"unknown function"])},i:function Nr(c){const m=new Error(fn(c));throw m.isAssert=!0,m},k:function mi(c,m,b){try{var x=Cn(m,b);return isNaN(x)?-61:(I.ftruncate(c,x),0)}catch(W){if(typeof I>"u"||"ErrnoError"!==W.name)throw W;return-W.errno}},h:function qo(){return!0},q:function li(c,m){var b=new Date(1e3*function ls(c){return fe[c>>2]+4294967296*k[c+4>>2]}(c));k[m>>2]=b.getSeconds(),k[m+4>>2]=b.getMinutes(),k[m+8>>2]=b.getHours(),k[m+12>>2]=b.getDate(),k[m+16>>2]=b.getMonth(),k[m+20>>2]=b.getFullYear()-1900,k[m+24>>2]=b.getDay();var x=0|_r(b);k[m+28>>2]=x,k[m+36>>2]=-60*b.getTimezoneOffset();var W=new Date(b.getFullYear(),0,1),ge=new Date(b.getFullYear(),6,1).getTimezoneOffset(),xe=W.getTimezoneOffset(),qe=0|(ge!=xe&&b.getTimezoneOffset()==Math.min(xe,ge));k[m+32>>2]=qe},r:function ro(c){var m=new Date(k[c+20>>2]+1900,k[c+16>>2],k[c+12>>2],k[c+8>>2],k[c+4>>2],k[c>>2],0),b=k[c+32>>2],x=m.getTimezoneOffset(),W=new Date(m.getFullYear(),0,1),ge=new Date(m.getFullYear(),6,1).getTimezoneOffset(),xe=W.getTimezoneOffset(),qe=Math.min(xe,ge);if(b<0)k[c+32>>2]=Number(ge!=xe&&qe==x);else if(b>0!=(qe==x)){var Rt=Math.max(xe,ge),Rn=b>0?qe:Rt;m.setTime(m.getTime()+6e4*(Rn-x))}k[c+24>>2]=m.getDay();var En=0|_r(m);return k[c+28>>2]=En,k[c>>2]=m.getSeconds(),k[c+4>>2]=m.getMinutes(),k[c+8>>2]=m.getHours(),k[c+12>>2]=m.getDate(),k[c+16>>2]=m.getMonth(),k[c+20>>2]=m.getYear(),m.getTime()/1e3|0},p:function xo(c,m,b){var x=(new Date).getFullYear(),W=new Date(x,0,1),ge=new Date(x,6,1),xe=W.getTimezoneOffset(),qe=ge.getTimezoneOffset(),Rt=Math.max(xe,qe);function Rn(Xn){var wo=Xn.toTimeString().match(/\(([A-Za-z ]+)\)$/);return wo?wo[1]:"GMT"}fe[c>>2]=60*Rt,k[m>>2]=Number(xe!=qe);var En=Rn(W),cr=Rn(ge),zt=gi(En),vn=gi(cr);qe<xe?(fe[b>>2]=zt,fe[b+4>>2]=vn):(fe[b>>2]=vn,fe[b+4>>2]=zt)},a:function oo(){kn("")},s:function Ko(c,m,b){return function Ri(c,m,b){var x=function Pi(c,m){var b;for(cs.length=0,m>>=2;b=Ke[c++];)m+=105!=b&m,cs.push(105==b?k[m]:Ct[m++>>1]),++m;return cs}(m,b);return Zi[c].apply(null,x)}(c,m,b)},c:function Fi(){return Date.now()},d:function ci(c,m,b){Ke.copyWithin(c,m,m+b)},o:function us(c){var Rt,m=Ke.length,b=2147483648;if((c>>>=0)>b)return!1;for(var W=1;W<=4;W*=2){var ge=m*(1+.2/W);if(ge=Math.min(ge,c+100663296),Is(Math.min(b,(Rt=Math.max(c,ge))+(65536-Rt%65536)%65536)))return!0}return!1},m:function Us(c,m){var b=0;return Kn().forEach(function(x,W){var ge=m+b;fe[c+4*W>>2]=ge,function _i(c,m){for(var b=0;b<c.length;++b)ue[m++>>0]=c.charCodeAt(b);ue[m>>0]=0}(x,ge),b+=x.length+1}),0},n:function fs(c,m){var b=Kn();fe[c>>2]=b.length;var x=0;return b.forEach(function(W){x+=W.length+1}),fe[m>>2]=x,0},e:function rr(c){try{var m=no.getStreamFromFD(c);return I.close(m),0}catch(b){if(typeof I>"u"||"ErrnoError"!==b.name)throw b;return b.errno}},g:function O(c,m,b,x){try{var ge=function P(c,m,b,x){for(var W=0,ge=0;ge<b;ge++){var xe=fe[m>>2],qe=fe[m+4>>2];m+=8;var Rt=I.read(c,ue,xe,qe,x);if(Rt<0)return-1;if(W+=Rt,Rt<qe)break;typeof x<"u"&&(x+=Rt)}return W}(no.getStreamFromFD(c),m,b);return fe[x>>2]=ge,0}catch(xe){if(typeof I>"u"||"ErrnoError"!==xe.name)throw xe;return xe.errno}},j:function pe(c,m,b,x,W){try{var ge=Cn(m,b);if(isNaN(ge))return 61;var xe=no.getStreamFromFD(c);return I.llseek(xe,ge,x),Vt=[xe.position>>>0,(tt=xe.position,+Math.abs(tt)>=1?tt>0?(0|Math.min(+Math.floor(tt/4294967296),4294967295))>>>0:~~+Math.ceil((tt-+(~~tt>>>0))/4294967296)>>>0:0)],k[W>>2]=Vt[0],k[W+4>>2]=Vt[1],xe.getdents&&0===ge&&0===x&&(xe.getdents=null),0}catch(qe){if(typeof I>"u"||"ErrnoError"!==qe.name)throw qe;return qe.errno}},f:function Fe(c,m,b,x){try{var ge=function be(c,m,b,x){for(var W=0,ge=0;ge<b;ge++){var xe=fe[m>>2],qe=fe[m+4>>2];m+=8;var Rt=I.write(c,ue,xe,qe,x);if(Rt<0)return-1;W+=Rt,typeof x<"u"&&(x+=Rt)}return W}(no.getStreamFromFD(c),m,b);return fe[x>>2]=ge,0}catch(xe){if(typeof I>"u"||"ErrnoError"!==xe.name)throw xe;return xe.errno}},l:function Lt(c,m,b,x,W){return function Se(c,m,b,x){var W=k[x+40>>2],ge={tm_sec:k[x>>2],tm_min:k[x+4>>2],tm_hour:k[x+8>>2],tm_mday:k[x+12>>2],tm_mon:k[x+16>>2],tm_year:k[x+20>>2],tm_wday:k[x+24>>2],tm_yday:k[x+28>>2],tm_isdst:k[x+32>>2],tm_gmtoff:k[x+36>>2],tm_zone:W?fn(W):""},xe=fn(b),qe={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Rt in qe)xe=xe.replace(new RegExp(Rt,"g"),qe[Rt]);var Rn=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],En=["January","February","March","April","May","June","July","August","September","October","November","December"];function cr(vt,rn,_o){for(var $r="number"==typeof vt?vt.toString():vt||"";$r.length<rn;)$r=_o[0]+$r;return $r}function zt(vt,rn){return cr(vt,rn,"0")}function vn(vt,rn){function _o(Yi){return Yi<0?-1:Yi>0?1:0}var $r;return 0===($r=_o(vt.getFullYear()-rn.getFullYear()))&&0===($r=_o(vt.getMonth()-rn.getMonth()))&&($r=_o(vt.getDate()-rn.getDate())),$r}function Xn(vt){switch(vt.getDay()){case 0:return new Date(vt.getFullYear()-1,11,29);case 1:return vt;case 2:return new Date(vt.getFullYear(),0,3);case 3:return new Date(vt.getFullYear(),0,2);case 4:return new Date(vt.getFullYear(),0,1);case 5:return new Date(vt.getFullYear()-1,11,31);case 6:return new Date(vt.getFullYear()-1,11,30)}}function wo(vt){var rn=function rt(c,m){for(var b=new Date(c.getTime());m>0;){var x=Oo(b.getFullYear()),W=b.getMonth(),ge=(x?le:Ie)[W];if(!(m>ge-b.getDate()))return b.setDate(b.getDate()+m),b;m-=ge-b.getDate()+1,b.setDate(1),W<11?b.setMonth(W+1):(b.setMonth(0),b.setFullYear(b.getFullYear()+1))}return b}(new Date(vt.tm_year+1900,0,1),vt.tm_yday),_o=new Date(rn.getFullYear(),0,4),$r=new Date(rn.getFullYear()+1,0,4),Yi=Xn(_o),So=Xn($r);return vn(Yi,rn)<=0?vn(So,rn)<=0?rn.getFullYear()+1:rn.getFullYear():rn.getFullYear()-1}var gs={"%a":function(vt){return Rn[vt.tm_wday].substring(0,3)},"%A":function(vt){return Rn[vt.tm_wday]},"%b":function(vt){return En[vt.tm_mon].substring(0,3)},"%B":function(vt){return En[vt.tm_mon]},"%C":function(vt){return zt((vt.tm_year+1900)/100|0,2)},"%d":function(vt){return zt(vt.tm_mday,2)},"%e":function(vt){return cr(vt.tm_mday,2," ")},"%g":function(vt){return wo(vt).toString().substring(2)},"%G":function(vt){return wo(vt)},"%H":function(vt){return zt(vt.tm_hour,2)},"%I":function(vt){var rn=vt.tm_hour;return 0==rn?rn=12:rn>12&&(rn-=12),zt(rn,2)},"%j":function(vt){return zt(vt.tm_mday+function F(c,m){for(var b=0,x=0;x<=m;b+=c[x++]);return b}(Oo(vt.tm_year+1900)?le:Ie,vt.tm_mon-1),3)},"%m":function(vt){return zt(vt.tm_mon+1,2)},"%M":function(vt){return zt(vt.tm_min,2)},"%n":function(){return"\n"},"%p":function(vt){return vt.tm_hour>=0&&vt.tm_hour<12?"AM":"PM"},"%S":function(vt){return zt(vt.tm_sec,2)},"%t":function(){return"\t"},"%u":function(vt){return vt.tm_wday||7},"%U":function(vt){return zt(Math.floor((vt.tm_yday+7-vt.tm_wday)/7),2)},"%V":function(vt){var rn=Math.floor((vt.tm_yday+7-(vt.tm_wday+6)%7)/7);if((vt.tm_wday+371-vt.tm_yday-2)%7<=2&&rn++,rn){if(53==rn){var $r=(vt.tm_wday+371-vt.tm_yday)%7;4!=$r&&(3!=$r||!Oo(vt.tm_year))&&(rn=1)}}else{rn=52;var _o=(vt.tm_wday+7-vt.tm_yday-1)%7;(4==_o||5==_o&&Oo(vt.tm_year%400-1))&&rn++}return zt(rn,2)},"%w":function(vt){return vt.tm_wday},"%W":function(vt){return zt(Math.floor((vt.tm_yday+7-(vt.tm_wday+6)%7)/7),2)},"%y":function(vt){return(vt.tm_year+1900).toString().substring(2)},"%Y":function(vt){return vt.tm_year+1900},"%z":function(vt){var rn=vt.tm_gmtoff,_o=rn>=0;return rn=(rn=Math.abs(rn)/60)/60*100+rn%60,(_o?"+":"-")+String("0000"+rn).slice(-4)},"%Z":function(vt){return vt.tm_zone},"%%":function(){return"%"}};for(var Rt in xe=xe.replace(/%%/g,"\0\0"),gs)xe.includes(Rt)&&(xe=xe.replace(new RegExp(Rt,"g"),gs[Rt](ge)));var wi=fr(xe=xe.replace(/\0\0/g,"%"),!1);return wi.length>m?0:(function it(c,m){ue.set(c,m)}(wi,c),wi.length-1)}(c,m,b,x)}},al=(function Fo(){var c={a:Lo};function m(x,W){var ge=x.exports;return l.asm=ge,ae=l.asm.t,tn(),Be=l.asm.uc,function Jt(c){He.unshift(c)}(l.asm.u),to(),ge}if(Or(),l.instantiateWasm)try{return l.instantiateWasm(c,m)}catch(x){q("Module.instantiateWasm callback failed with error: "+x),J(x)}(function Yr(c,m,b,x){return c||"function"!=typeof WebAssembly.instantiateStreaming||wr(m)||"function"!=typeof fetch?ai(m,b,x):fetch(m,{credentials:"same-origin"}).then(function(W){return WebAssembly.instantiateStreaming(W,b).then(x,function(xe){return q("wasm streaming compile failed: "+xe),q("falling back to ArrayBuffer instantiation"),ai(m,b,x)})})})(ce,gr,c,function b(x){m(x.instance)}).catch(J)}(),l._malloc=function(){return(al=l._malloc=l.asm.v).apply(null,arguments)}),pt=(l._free=function(){return(l._free=l.asm.w).apply(null,arguments)},l._main=function(){return(pt=l._main=l.asm.x).apply(null,arguments)}),ll=l._emscripten_bind_VoidPtr___destroy___0=function(){return(ll=l._emscripten_bind_VoidPtr___destroy___0=l.asm.y).apply(null,arguments)},Dr=l._emscripten_bind_Cloudpilot_Cloudpilot_0=function(){return(Dr=l._emscripten_bind_Cloudpilot_Cloudpilot_0=l.asm.z).apply(null,arguments)},ks=l._emscripten_bind_Cloudpilot_Malloc_1=function(){return(ks=l._emscripten_bind_Cloudpilot_Malloc_1=l.asm.A).apply(null,arguments)},wa=l._emscripten_bind_Cloudpilot_Free_1=function(){return(wa=l._emscripten_bind_Cloudpilot_Free_1=l.asm.B).apply(null,arguments)},oa=l._emscripten_bind_Cloudpilot_Nullptr_0=function(){return(oa=l._emscripten_bind_Cloudpilot_Nullptr_0=l.asm.C).apply(null,arguments)},Sa=l._emscripten_bind_Cloudpilot_InitializeSession_3=function(){return(Sa=l._emscripten_bind_Cloudpilot_InitializeSession_3=l.asm.D).apply(null,arguments)},Ea=l._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=function(){return(Ea=l._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=l.asm.E).apply(null,arguments)},ia=l._emscripten_bind_Cloudpilot_RunEmulation_1=function(){return(ia=l._emscripten_bind_Cloudpilot_RunEmulation_1=l.asm.F).apply(null,arguments)},xs=l._emscripten_bind_Cloudpilot_SetClockFactor_1=function(){return(xs=l._emscripten_bind_Cloudpilot_SetClockFactor_1=l.asm.G).apply(null,arguments)},Gs=l._emscripten_bind_Cloudpilot_CopyFrame_0=function(){return(Gs=l._emscripten_bind_Cloudpilot_CopyFrame_0=l.asm.H).apply(null,arguments)},sa=l._emscripten_bind_Cloudpilot_IsScreenDirty_0=function(){return(sa=l._emscripten_bind_Cloudpilot_IsScreenDirty_0=l.asm.I).apply(null,arguments)},Da=l._emscripten_bind_Cloudpilot_MarkScreenClean_0=function(){return(Da=l._emscripten_bind_Cloudpilot_MarkScreenClean_0=l.asm.J).apply(null,arguments)},sn=l._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=function(){return(sn=l._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=l.asm.K).apply(null,arguments)},Hs=l._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=function(){return(Hs=l._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=l.asm.L).apply(null,arguments)},Ia=l._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=function(){return(Ia=l._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=l.asm.M).apply(null,arguments)},Ao=l._emscripten_bind_Cloudpilot_QueuePenMove_2=function(){return(Ao=l._emscripten_bind_Cloudpilot_QueuePenMove_2=l.asm.N).apply(null,arguments)},aa=l._emscripten_bind_Cloudpilot_QueuePenUp_0=function(){return(aa=l._emscripten_bind_Cloudpilot_QueuePenUp_0=l.asm.O).apply(null,arguments)},cl=l._emscripten_bind_Cloudpilot_QueueButtonDown_1=function(){return(cl=l._emscripten_bind_Cloudpilot_QueueButtonDown_1=l.asm.P).apply(null,arguments)},pr=l._emscripten_bind_Cloudpilot_QueueButtonUp_1=function(){return(pr=l._emscripten_bind_Cloudpilot_QueueButtonUp_1=l.asm.Q).apply(null,arguments)},ul=l._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=function(){return(ul=l._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=l.asm.R).apply(null,arguments)},Hl=l._emscripten_bind_Cloudpilot_IsPowerOff_0=function(){return(Hl=l._emscripten_bind_Cloudpilot_IsPowerOff_0=l.asm.S).apply(null,arguments)},vc=l._emscripten_bind_Cloudpilot_IsUIInitialized_0=function(){return(vc=l._emscripten_bind_Cloudpilot_IsUIInitialized_0=l.asm.T).apply(null,arguments)},zs=l._emscripten_bind_Cloudpilot_GetOSVersion_0=function(){return(zs=l._emscripten_bind_Cloudpilot_GetOSVersion_0=l.asm.U).apply(null,arguments)},ps=l._emscripten_bind_Cloudpilot_IsSetupComplete_0=function(){return(ps=l._emscripten_bind_Cloudpilot_IsSetupComplete_0=l.asm.V).apply(null,arguments)},Ws=l._emscripten_bind_Cloudpilot_Reset_0=function(){return(Ws=l._emscripten_bind_Cloudpilot_Reset_0=l.asm.W).apply(null,arguments)},ka=l._emscripten_bind_Cloudpilot_ResetNoExtensions_0=function(){return(ka=l._emscripten_bind_Cloudpilot_ResetNoExtensions_0=l.asm.X).apply(null,arguments)},xa=l._emscripten_bind_Cloudpilot_ResetHard_0=function(){return(xa=l._emscripten_bind_Cloudpilot_ResetHard_0=l.asm.Y).apply(null,arguments)},co=l._emscripten_bind_Cloudpilot_InstallDb_2=function(){return(co=l._emscripten_bind_Cloudpilot_InstallDb_2=l.asm.Z).apply(null,arguments)},vi=l._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=function(){return(vi=l._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=l.asm._).apply(null,arguments)},io=l._emscripten_bind_Cloudpilot_GetMemoryPtr_0=function(){return(io=l._emscripten_bind_Cloudpilot_GetMemoryPtr_0=l.asm.$).apply(null,arguments)},hs=l._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=function(){return(hs=l._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=l.asm.aa).apply(null,arguments)},dl=l._emscripten_bind_Cloudpilot_GetMemorySize_0=function(){return(dl=l._emscripten_bind_Cloudpilot_GetMemorySize_0=l.asm.ba).apply(null,arguments)},he=l._emscripten_bind_Cloudpilot_ImportMemoryImage_2=function(){return(he=l._emscripten_bind_Cloudpilot_ImportMemoryImage_2=l.asm.ca).apply(null,arguments)},Ma=l._emscripten_bind_Cloudpilot_GetRomPtr_0=function(){return(Ma=l._emscripten_bind_Cloudpilot_GetRomPtr_0=l.asm.da).apply(null,arguments)},An=l._emscripten_bind_Cloudpilot_GetRomSize_0=function(){return(An=l._emscripten_bind_Cloudpilot_GetRomSize_0=l.asm.ea).apply(null,arguments)},Jn=l._emscripten_bind_Cloudpilot_GetSavestatePtr_0=function(){return(Jn=l._emscripten_bind_Cloudpilot_GetSavestatePtr_0=l.asm.fa).apply(null,arguments)},Zs=l._emscripten_bind_Cloudpilot_GetSavestateSize_0=function(){return(Zs=l._emscripten_bind_Cloudpilot_GetSavestateSize_0=l.asm.ga).apply(null,arguments)},Ur=l._emscripten_bind_Cloudpilot_SaveState_0=function(){return(Ur=l._emscripten_bind_Cloudpilot_SaveState_0=l.asm.ha).apply(null,arguments)},uo=l._emscripten_bind_Cloudpilot_LoadState_2=function(){return(uo=l._emscripten_bind_Cloudpilot_LoadState_2=l.asm.ia).apply(null,arguments)},fo=l._emscripten_bind_Cloudpilot_GetHotsyncName_0=function(){return(fo=l._emscripten_bind_Cloudpilot_GetHotsyncName_0=l.asm.ja).apply(null,arguments)},Gr=l._emscripten_bind_Cloudpilot_SetHotsyncName_1=function(){return(Gr=l._emscripten_bind_Cloudpilot_SetHotsyncName_1=l.asm.ka).apply(null,arguments)},ir=l._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=function(){return(ir=l._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=l.asm.la).apply(null,arguments)},$n=l._emscripten_bind_Cloudpilot_StartBackup_0=function(){return($n=l._emscripten_bind_Cloudpilot_StartBackup_0=l.asm.ma).apply(null,arguments)},p=l._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=function(){return(p=l._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=l.asm.na).apply(null,arguments)},y=l._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=function(){return(y=l._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=l.asm.oa).apply(null,arguments)},C=l._emscripten_bind_Cloudpilot_IsSuspended_0=function(){return(C=l._emscripten_bind_Cloudpilot_IsSuspended_0=l.asm.pa).apply(null,arguments)},A=l._emscripten_bind_Cloudpilot_GetSuspendContext_0=function(){return(A=l._emscripten_bind_Cloudpilot_GetSuspendContext_0=l.asm.qa).apply(null,arguments)},V=l._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=function(){return(V=l._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=l.asm.ra).apply(null,arguments)},ye=l._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=function(){return(ye=l._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=l.asm.sa).apply(null,arguments)},ke=l._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=function(){return(ke=l._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=l.asm.ta).apply(null,arguments)},We=l._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=function(){return(We=l._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=l.asm.ua).apply(null,arguments)},It=l._emscripten_bind_Cloudpilot_LaunchAppByName_1=function(){return(It=l._emscripten_bind_Cloudpilot_LaunchAppByName_1=l.asm.va).apply(null,arguments)},ln=l._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=function(){return(ln=l._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=l.asm.wa).apply(null,arguments)},Bn=l._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=function(){return(Bn=l._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=l.asm.xa).apply(null,arguments)},sr=l._emscripten_bind_Cloudpilot_ClearExternalStorage_0=function(){return(sr=l._emscripten_bind_Cloudpilot_ClearExternalStorage_0=l.asm.ya).apply(null,arguments)},Le=l._emscripten_bind_Cloudpilot_AllocateCard_2=function(){return(Le=l._emscripten_bind_Cloudpilot_AllocateCard_2=l.asm.za).apply(null,arguments)},cn=l._emscripten_bind_Cloudpilot_AdoptCard_3=function(){return(cn=l._emscripten_bind_Cloudpilot_AdoptCard_3=l.asm.Aa).apply(null,arguments)},Fn=l._emscripten_bind_Cloudpilot_MountCard_1=function(){return(Fn=l._emscripten_bind_Cloudpilot_MountCard_1=l.asm.Ba).apply(null,arguments)},Hr=l._emscripten_bind_Cloudpilot_RemoveCard_1=function(){return(Hr=l._emscripten_bind_Cloudpilot_RemoveCard_1=l.asm.Ca).apply(null,arguments)},Wn=l._emscripten_bind_Cloudpilot_GetCardData_1=function(){return(Wn=l._emscripten_bind_Cloudpilot_GetCardData_1=l.asm.Da).apply(null,arguments)},so=l._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=function(){return(so=l._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=l.asm.Ea).apply(null,arguments)},gt=l._emscripten_bind_Cloudpilot_GetCardSize_1=function(){return(gt=l._emscripten_bind_Cloudpilot_GetCardSize_1=l.asm.Fa).apply(null,arguments)},at=l._emscripten_bind_Cloudpilot_RemountCards_0=function(){return(at=l._emscripten_bind_Cloudpilot_RemountCards_0=l.asm.Ga).apply(null,arguments)},jn=l._emscripten_bind_Cloudpilot_GetSupportLevel_1=function(){return(jn=l._emscripten_bind_Cloudpilot_GetSupportLevel_1=l.asm.Ha).apply(null,arguments)},Pt=l._emscripten_bind_Cloudpilot_GetMountedKey_0=function(){return(Pt=l._emscripten_bind_Cloudpilot_GetMountedKey_0=l.asm.Ia).apply(null,arguments)},Gn=l._emscripten_bind_Cloudpilot___destroy___0=function(){return(Gn=l._emscripten_bind_Cloudpilot___destroy___0=l.asm.Ja).apply(null,arguments)},pn=l._emscripten_bind_RomInfo_RomInfo_2=function(){return(pn=l._emscripten_bind_RomInfo_RomInfo_2=l.asm.Ka).apply(null,arguments)},la=l._emscripten_bind_RomInfo_IsValid_0=function(){return(la=l._emscripten_bind_RomInfo_IsValid_0=l.asm.La).apply(null,arguments)},ui=l._emscripten_bind_RomInfo_CardVersion_0=function(){return(ui=l._emscripten_bind_RomInfo_CardVersion_0=l.asm.Ma).apply(null,arguments)},ms=l._emscripten_bind_RomInfo_CardName_0=function(){return(ms=l._emscripten_bind_RomInfo_CardName_0=l.asm.Na).apply(null,arguments)},$t=l._emscripten_bind_RomInfo_RomVersion_0=function(){return($t=l._emscripten_bind_RomInfo_RomVersion_0=l.asm.Oa).apply(null,arguments)},Pn=l._emscripten_bind_RomInfo_RomVersionString_0=function(){return(Pn=l._emscripten_bind_RomInfo_RomVersionString_0=l.asm.Pa).apply(null,arguments)},qt=l._emscripten_bind_RomInfo_Supports_1=function(){return(qt=l._emscripten_bind_RomInfo_Supports_1=l.asm.Qa).apply(null,arguments)},kr=l._emscripten_bind_RomInfo___destroy___0=function(){return(kr=l._emscripten_bind_RomInfo___destroy___0=l.asm.Ra).apply(null,arguments)},zr=l._emscripten_bind_Frame_GetLineWidth_0=function(){return(zr=l._emscripten_bind_Frame_GetLineWidth_0=l.asm.Sa).apply(null,arguments)},Hn=l._emscripten_bind_Frame_GetBpp_0=function(){return(Hn=l._emscripten_bind_Frame_GetBpp_0=l.asm.Ta).apply(null,arguments)},jt=l._emscripten_bind_Frame_GetLines_0=function(){return(jt=l._emscripten_bind_Frame_GetLines_0=l.asm.Ua).apply(null,arguments)},On=l._emscripten_bind_Frame_GetMargin_0=function(){return(On=l._emscripten_bind_Frame_GetMargin_0=l.asm.Va).apply(null,arguments)},yr=l._emscripten_bind_Frame_GetBytesPerLine_0=function(){return(yr=l._emscripten_bind_Frame_GetBytesPerLine_0=l.asm.Wa).apply(null,arguments)},Wr=l._emscripten_bind_Frame_GetFirstDirtyLine_0=function(){return(Wr=l._emscripten_bind_Frame_GetFirstDirtyLine_0=l.asm.Xa).apply(null,arguments)},Zt=l._emscripten_bind_Frame_GetLastDirtyLine_0=function(){return(Zt=l._emscripten_bind_Frame_GetLastDirtyLine_0=l.asm.Ya).apply(null,arguments)},hr=l._emscripten_bind_Frame_GetHasChanges_0=function(){return(hr=l._emscripten_bind_Frame_GetHasChanges_0=l.asm.Za).apply(null,arguments)},d=l._emscripten_bind_Frame_GetBuffer_0=function(){return(d=l._emscripten_bind_Frame_GetBuffer_0=l.asm._a).apply(null,arguments)},_=l._emscripten_bind_Frame_GetBufferSize_0=function(){return(_=l._emscripten_bind_Frame_GetBufferSize_0=l.asm.$a).apply(null,arguments)},w=l._emscripten_bind_Frame_GetScaleX_0=function(){return(w=l._emscripten_bind_Frame_GetScaleX_0=l.asm.ab).apply(null,arguments)},M=l._emscripten_bind_Frame_GetScaleY_0=function(){return(M=l._emscripten_bind_Frame_GetScaleY_0=l.asm.bb).apply(null,arguments)},Z=l._emscripten_bind_Frame___destroy___0=function(){return(Z=l._emscripten_bind_Frame___destroy___0=l.asm.cb).apply(null,arguments)},ve=l._emscripten_bind_DbBackup_Init_1=function(){return(ve=l._emscripten_bind_DbBackup_Init_1=l.asm.db).apply(null,arguments)},we=l._emscripten_bind_DbBackup_IsInProgress_0=function(){return(we=l._emscripten_bind_DbBackup_IsInProgress_0=l.asm.eb).apply(null,arguments)},Ge=l._emscripten_bind_DbBackup_IsDone_0=function(){return(Ge=l._emscripten_bind_DbBackup_IsDone_0=l.asm.fb).apply(null,arguments)},kt=l._emscripten_bind_DbBackup_GetCurrentDatabase_0=function(){return(kt=l._emscripten_bind_DbBackup_GetCurrentDatabase_0=l.asm.gb).apply(null,arguments)},Bt=l._emscripten_bind_DbBackup_Save_0=function(){return(Bt=l._emscripten_bind_DbBackup_Save_0=l.asm.hb).apply(null,arguments)},er=l._emscripten_bind_DbBackup_Skip_0=function(){return(er=l._emscripten_bind_DbBackup_Skip_0=l.asm.ib).apply(null,arguments)},dr=l._emscripten_bind_DbBackup_GetArchivePtr_0=function(){return(dr=l._emscripten_bind_DbBackup_GetArchivePtr_0=l.asm.jb).apply(null,arguments)},wn=l._emscripten_bind_DbBackup_GetArchiveSize_0=function(){return(wn=l._emscripten_bind_DbBackup_GetArchiveSize_0=l.asm.kb).apply(null,arguments)},an=l._emscripten_bind_DbBackup___destroy___0=function(){return(an=l._emscripten_bind_DbBackup___destroy___0=l.asm.lb).apply(null,arguments)},Nn=l._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=function(){return(Nn=l._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=l.asm.mb).apply(null,arguments)},Lr=l._emscripten_bind_SuspendContextClipboardCopy_Resume_0=function(){return(Lr=l._emscripten_bind_SuspendContextClipboardCopy_Resume_0=l.asm.nb).apply(null,arguments)},Ar=l._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=function(){return(Ar=l._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=l.asm.ob).apply(null,arguments)},Xo=l._emscripten_bind_SuspendContextClipboardCopy___destroy___0=function(){return(Xo=l._emscripten_bind_SuspendContextClipboardCopy___destroy___0=l.asm.pb).apply(null,arguments)},ct=l._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=function(){return(ct=l._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=l.asm.qb).apply(null,arguments)},Gt=l._emscripten_bind_SuspendContextClipboardPaste_Resume_1=function(){return(Gt=l._emscripten_bind_SuspendContextClipboardPaste_Resume_1=l.asm.rb).apply(null,arguments)},ao=l._emscripten_bind_SuspendContextClipboardPaste___destroy___0=function(){return(ao=l._emscripten_bind_SuspendContextClipboardPaste___destroy___0=l.asm.sb).apply(null,arguments)},vr=l._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=function(){return(vr=l._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=l.asm.tb).apply(null,arguments)},Qo=l._emscripten_bind_SuspendContextNetworkConnect_Resume_1=function(){return(Qo=l._emscripten_bind_SuspendContextNetworkConnect_Resume_1=l.asm.ub).apply(null,arguments)},br=l._emscripten_bind_SuspendContextNetworkConnect___destroy___0=function(){return(br=l._emscripten_bind_SuspendContextNetworkConnect___destroy___0=l.asm.vb).apply(null,arguments)},Op=l._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=function(){return(Op=l._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=l.asm.wb).apply(null,arguments)},dg=l._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=function(){return(dg=l._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=l.asm.xb).apply(null,arguments)},Np=l._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=function(){return(Np=l._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=l.asm.yb).apply(null,arguments)},Lp=l._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=function(){return(Lp=l._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=l.asm.zb).apply(null,arguments)},fg=l._emscripten_bind_SuspendContextNetworkRpc___destroy___0=function(){return(fg=l._emscripten_bind_SuspendContextNetworkRpc___destroy___0=l.asm.Ab).apply(null,arguments)},pg=l._emscripten_bind_SuspendContext_GetKind_0=function(){return(pg=l._emscripten_bind_SuspendContext_GetKind_0=l.asm.Bb).apply(null,arguments)},hg=l._emscripten_bind_SuspendContext_Cancel_0=function(){return(hg=l._emscripten_bind_SuspendContext_Cancel_0=l.asm.Cb).apply(null,arguments)},mg=l._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=function(){return(mg=l._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=l.asm.Db).apply(null,arguments)},gg=l._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=function(){return(gg=l._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=l.asm.Eb).apply(null,arguments)},_g=l._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=function(){return(_g=l._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=l.asm.Fb).apply(null,arguments)},yg=l._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=function(){return(yg=l._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=l.asm.Gb).apply(null,arguments)},vg=l._emscripten_bind_SuspendContext___destroy___0=function(){return(vg=l._emscripten_bind_SuspendContext___destroy___0=l.asm.Hb).apply(null,arguments)},bg=l._emscripten_bind_ZipfileWalker_ZipfileWalker_2=function(){return(bg=l._emscripten_bind_ZipfileWalker_ZipfileWalker_2=l.asm.Ib).apply(null,arguments)},Cg=l._emscripten_bind_ZipfileWalker_GetState_0=function(){return(Cg=l._emscripten_bind_ZipfileWalker_GetState_0=l.asm.Jb).apply(null,arguments)},wg=l._emscripten_bind_ZipfileWalker_Next_0=function(){return(wg=l._emscripten_bind_ZipfileWalker_Next_0=l.asm.Kb).apply(null,arguments)},Sg=l._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=function(){return(Sg=l._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=l.asm.Lb).apply(null,arguments)},Td=l._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=function(){return(Td=l._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=l.asm.Mb).apply(null,arguments)},Ad=l._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=function(){return(Ad=l._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=l.asm.Nb).apply(null,arguments)},Eg=l._emscripten_bind_ZipfileWalker___destroy___0=function(){return(Eg=l._emscripten_bind_ZipfileWalker___destroy___0=l.asm.Ob).apply(null,arguments)},Dg=l._emscripten_bind_SessionImage_SessionImage_0=function(){return(Dg=l._emscripten_bind_SessionImage_SessionImage_0=l.asm.Pb).apply(null,arguments)},Ig=l._emscripten_bind_SessionImage_GetDeviceId_0=function(){return(Ig=l._emscripten_bind_SessionImage_GetDeviceId_0=l.asm.Qb).apply(null,arguments)},Ta=l._emscripten_bind_SessionImage_SetDeviceId_1=function(){return(Ta=l._emscripten_bind_SessionImage_SetDeviceId_1=l.asm.Rb).apply(null,arguments)},$p=l._emscripten_bind_SessionImage_GetRomImage_0=function(){return($p=l._emscripten_bind_SessionImage_GetRomImage_0=l.asm.Sb).apply(null,arguments)},$o=l._emscripten_bind_SessionImage_GetRomImageSize_0=function(){return($o=l._emscripten_bind_SessionImage_GetRomImageSize_0=l.asm.Tb).apply(null,arguments)},Pd=l._emscripten_bind_SessionImage_SetRomImage_2=function(){return(Pd=l._emscripten_bind_SessionImage_SetRomImage_2=l.asm.Ub).apply(null,arguments)},Bp=l._emscripten_bind_SessionImage_GetMemoryImage_0=function(){return(Bp=l._emscripten_bind_SessionImage_GetMemoryImage_0=l.asm.Vb).apply(null,arguments)},Vp=l._emscripten_bind_SessionImage_GetMemoryImageSize_0=function(){return(Vp=l._emscripten_bind_SessionImage_GetMemoryImageSize_0=l.asm.Wb).apply(null,arguments)},Rd=l._emscripten_bind_SessionImage_SetMemoryImage_2=function(){return(Rd=l._emscripten_bind_SessionImage_SetMemoryImage_2=l.asm.Xb).apply(null,arguments)},Fd=l._emscripten_bind_SessionImage_GetMetadata_0=function(){return(Fd=l._emscripten_bind_SessionImage_GetMetadata_0=l.asm.Yb).apply(null,arguments)},Up=l._emscripten_bind_SessionImage_GetMetadataSize_0=function(){return(Up=l._emscripten_bind_SessionImage_GetMetadataSize_0=l.asm.Zb).apply(null,arguments)},su=l._emscripten_bind_SessionImage_SetMetadata_2=function(){return(su=l._emscripten_bind_SessionImage_SetMetadata_2=l.asm._b).apply(null,arguments)},jp=l._emscripten_bind_SessionImage_GetSavestate_0=function(){return(jp=l._emscripten_bind_SessionImage_GetSavestate_0=l.asm.$b).apply(null,arguments)},qi=l._emscripten_bind_SessionImage_GetSavestateSize_0=function(){return(qi=l._emscripten_bind_SessionImage_GetSavestateSize_0=l.asm.ac).apply(null,arguments)},Od=l._emscripten_bind_SessionImage_SetSavestate_2=function(){return(Od=l._emscripten_bind_SessionImage_SetSavestate_2=l.asm.bc).apply(null,arguments)},Nd=l._emscripten_bind_SessionImage_GetVersion_0=function(){return(Nd=l._emscripten_bind_SessionImage_GetVersion_0=l.asm.cc).apply(null,arguments)},Bo=l._emscripten_bind_SessionImage_Serialize_0=function(){return(Bo=l._emscripten_bind_SessionImage_Serialize_0=l.asm.dc).apply(null,arguments)},Gp=l._emscripten_bind_SessionImage_GetSerializedImage_0=function(){return(Gp=l._emscripten_bind_SessionImage_GetSerializedImage_0=l.asm.ec).apply(null,arguments)},bc=l._emscripten_bind_SessionImage_GetSerializedImageSize_0=function(){return(bc=l._emscripten_bind_SessionImage_GetSerializedImageSize_0=l.asm.fc).apply(null,arguments)},$i=l._emscripten_bind_SessionImage_Deserialize_2=function(){return($i=l._emscripten_bind_SessionImage_Deserialize_2=l.asm.gc).apply(null,arguments)},Hp=l._emscripten_bind_SessionImage___destroy___0=function(){return(Hp=l._emscripten_bind_SessionImage___destroy___0=l.asm.hc).apply(null,arguments)},Ld=l._emscripten_bind_SkinLoader_SkinLoader_1=function(){return(Ld=l._emscripten_bind_SkinLoader_SkinLoader_1=l.asm.ic).apply(null,arguments)},fl=l._emscripten_bind_SkinLoader_GetData_0=function(){return(fl=l._emscripten_bind_SkinLoader_GetData_0=l.asm.jc).apply(null,arguments)},Bi=l._emscripten_bind_SkinLoader_GetSize_0=function(){return(Bi=l._emscripten_bind_SkinLoader_GetSize_0=l.asm.kc).apply(null,arguments)},zp=l._emscripten_bind_SkinLoader___destroy___0=function(){return(zp=l._emscripten_bind_SkinLoader___destroy___0=l.asm.lc).apply(null,arguments)},Cc=l._emscripten_bind_GunzipContext_GunzipContext_3=function(){return(Cc=l._emscripten_bind_GunzipContext_GunzipContext_3=l.asm.mc).apply(null,arguments)},Wp=l._emscripten_bind_GunzipContext_GetState_0=function(){return(Wp=l._emscripten_bind_GunzipContext_GetState_0=l.asm.nc).apply(null,arguments)},ca=l._emscripten_bind_GunzipContext_Continue_0=function(){return(ca=l._emscripten_bind_GunzipContext_Continue_0=l.asm.oc).apply(null,arguments)},$d=l._emscripten_bind_GunzipContext_GetUncompressedData_0=function(){return($d=l._emscripten_bind_GunzipContext_GetUncompressedData_0=l.asm.pc).apply(null,arguments)},au=l._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=function(){return(au=l._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=l.asm.qc).apply(null,arguments)},Tn=l._emscripten_bind_GunzipContext_GetUncompressedSize_0=function(){return(Tn=l._emscripten_bind_GunzipContext_GetUncompressedSize_0=l.asm.rc).apply(null,arguments)},Bd=l._emscripten_bind_GunzipContext_GetError_0=function(){return(Bd=l._emscripten_bind_GunzipContext_GetError_0=l.asm.sc).apply(null,arguments)},kg=l._emscripten_bind_GunzipContext___destroy___0=function(){return(kg=l._emscripten_bind_GunzipContext___destroy___0=l.asm.tc).apply(null,arguments)};function Ag(){var c=pt;try{var x=c(0,0);return function nn(c,m){ie=c,function bt(c){ie=c,function Ce(){return Te||!1}()||(l.onExit&&l.onExit(c),ot=!0),B(c,new ko(c))}(c)}(x),x}catch(W){return function Mo(c){if(c instanceof ko||"unwind"==c)return ie;B(1,c)}(W)}}function dt(){function c(){lu||(lu=!0,l.calledRun=!0,!ot&&(function Pe(){!l.noFSInit&&!I.init.initialized&&I.init(),I.ignorePermissions=!1,ft.init(),De(He)}(),function Dt(){De(et)}(),te(l),l.onRuntimeInitialized&&l.onRuntimeInitialized(),ar&&Ag(),function on(){if(l.postRun)for("function"==typeof l.postRun&&(l.postRun=[l.postRun]);l.postRun.length;)c=l.postRun.shift(),Je.unshift(c);var c;De(Je)}()))}Nt>0||(function ht(){if(l.preRun)for("function"==typeof l.preRun&&(l.preRun=[l.preRun]);l.preRun.length;)c=l.preRun.shift(),Ee.unshift(c);var c;De(Ee)}(),Nt>0)||(l.setStatus?(l.setStatus("Running..."),setTimeout(function(){setTimeout(function(){l.setStatus("")},1),c()},1)):c())}if(l.___original_main=function(){return(l.___original_main=l.asm.vc).apply(null,arguments)},l.___start_em_js=1465539,l.___stop_em_js=1465736,l.addFunction=function il(c,m){var b=function Vl(c){return To||(To=new WeakMap,function Bl(c,m){if(To)for(var b=c;b<c+m;b++){var x=nl(b);x&&To.set(x,b)}}(0,Be.length)),To.get(c)||0}(c);if(b)return b;var x=function Ul(){if(rl.length)return rl.pop();try{Be.grow(1)}catch(c){throw c instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":c}return Be.length-1}();try{ol(x,c)}catch(ge){if(!(ge instanceof TypeError))throw ge;ol(x,function Co(c,m){if("function"==typeof WebAssembly.Function)return new WebAssembly.Function(function yi(c){for(var m={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},b={parameters:[],results:"v"==c[0]?[]:[m[c[0]]]},x=1;x<c.length;++x)b.parameters.push(m[c[x]]),"j"===c[x]&&b.parameters.push("i32");return b}(m),c);var b=[1];!function Ni(c,m){var b=c.slice(0,1),x=c.slice(1),W={i:127,p:127,j:126,f:125,d:124};m.push(96),No(x.length,m);for(var ge=0;ge<x.length;++ge)m.push(W[x[ge]]);"v"==b?m.push(0):m.push(1,W[b])}(m,b);var x=[0,97,115,109,1,0,0,0,1];No(b.length,x),x.push.apply(x,b),x.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var W=new WebAssembly.Module(new Uint8Array(x));return new WebAssembly.Instance(W,{e:{f:c}}).exports.f}(c,m))}return To.set(c,x),x},l.UTF8ToString=fn,In=function c(){lu||dt(),lu||(In=c)},l.preInit)for("function"==typeof l.preInit&&(l.preInit=[l.preInit]);l.preInit.length>0;)l.preInit.pop()();var ar=!0;function Et(){}function Ht(c){return(c||Et).__cache__}function yn(c,m){var b=Ht(m),x=b[c];return x||((x=Object.create((m||Et).prototype)).ptr=c,b[c]=x)}l.noInitialRun&&(ar=!1),dt(),(Et.prototype=Object.create(Et.prototype)).constructor=Et,Et.prototype.__class__=Et,Et.__cache__={},l.WrapperObject=Et,l.getCache=Ht,l.wrapPointer=yn,l.castObject=function Zp(c,m){return yn(c.ptr,m)},l.NULL=yn(0),l.destroy=function wc(c){if(!c.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";c.__destroy__(),delete Ht(c.__class__)[c.ptr]},l.compare=function qs(c,m){return c.ptr===m.ptr},l.getPointer=function Vd(c){return c.ptr},l.getClass=function Ud(c){return c.__class__};var Ln={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(Ln.needed){for(var c=0;c<Ln.temps.length;c++)l._free(Ln.temps[c]);Ln.temps.length=0,l._free(Ln.buffer),Ln.buffer=0,Ln.size+=Ln.needed,Ln.needed=0}Ln.buffer||(Ln.size+=128,Ln.buffer=l._malloc(Ln.size),_e(Ln.buffer)),Ln.pos=0},alloc:function(c,m){_e(Ln.buffer);var W,x=c.length*m.BYTES_PER_ELEMENT;return Ln.pos+(x=x+7&-8)>=Ln.size?(_e(x>0),Ln.needed+=x,W=l._malloc(x),Ln.temps.push(W)):(W=Ln.buffer+Ln.pos,Ln.pos+=x),W},copy:function(c,m,b){switch(b>>>=0,m.BYTES_PER_ELEMENT){case 2:b>>>=1;break;case 4:b>>>=2;break;case 8:b>>>=3}for(var W=0;W<c.length;W++)m[b+W]=c[W]}};function Jo(c){if("string"==typeof c){var m=fr(c),b=Ln.alloc(m,ue);return Ln.copy(m,ue,b),b}return c}function xr(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Ue(){this.ptr=Dr(),Ht(Ue)[this.ptr]=this}function Mr(c,m){c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),this.ptr=pn(c,m),Ht(Mr)[this.ptr]=this}function lr(){throw"cannot construct a Frame, no constructor in IDL"}function Ir(){throw"cannot construct a DbBackup, no constructor in IDL"}function Xr(){throw"cannot construct a SuspendContextClipboardCopy, no constructor in IDL"}function Vi(){throw"cannot construct a SuspendContextClipboardPaste, no constructor in IDL"}function bi(){throw"cannot construct a SuspendContextNetworkConnect, no constructor in IDL"}function Vo(){throw"cannot construct a SuspendContextNetworkRpc, no constructor in IDL"}function po(){throw"cannot construct a SuspendContext, no constructor in IDL"}function ho(c,m){c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),this.ptr=bg(c,m),Ht(ho)[this.ptr]=this}function un(){this.ptr=Dg(),Ht(un)[this.ptr]=this}function Ci(c){Ln.prepare(),c=c&&"object"==typeof c?c.ptr:Jo(c),this.ptr=Ld(c),Ht(Ci)[this.ptr]=this}function Qr(c,m,b){c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),b&&"object"==typeof b&&(b=b.ptr),this.ptr=Cc(c,m,b),Ht(Qr)[this.ptr]=this}return(xr.prototype=Object.create(Et.prototype)).constructor=xr,xr.prototype.__class__=xr,xr.__cache__={},l.VoidPtr=xr,xr.prototype.__destroy__=xr.prototype.__destroy__=function(){ll(this.ptr)},(Ue.prototype=Object.create(Et.prototype)).constructor=Ue,Ue.prototype.__class__=Ue,Ue.__cache__={},l.Cloudpilot=Ue,Ue.prototype.Malloc=Ue.prototype.Malloc=function(c){return c&&"object"==typeof c&&(c=c.ptr),yn(ks(this.ptr,c),xr)},Ue.prototype.Free=Ue.prototype.Free=function(c){c&&"object"==typeof c&&(c=c.ptr),wa(this.ptr,c)},Ue.prototype.Nullptr=Ue.prototype.Nullptr=function(){return yn(oa(this.ptr),xr)},Ue.prototype.InitializeSession=Ue.prototype.InitializeSession=function(c,m,b){var x=this.ptr;return Ln.prepare(),c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),b=b&&"object"==typeof b?b.ptr:Jo(b),!!Sa(x,c,m,b)},Ue.prototype.GetCyclesPerSecond=Ue.prototype.GetCyclesPerSecond=function(){return Ea(this.ptr)},Ue.prototype.RunEmulation=Ue.prototype.RunEmulation=function(c){return c&&"object"==typeof c&&(c=c.ptr),ia(this.ptr,c)},Ue.prototype.SetClockFactor=Ue.prototype.SetClockFactor=function(c){c&&"object"==typeof c&&(c=c.ptr),xs(this.ptr,c)},Ue.prototype.CopyFrame=Ue.prototype.CopyFrame=function(){return yn(Gs(this.ptr),lr)},Ue.prototype.IsScreenDirty=Ue.prototype.IsScreenDirty=function(){return!!sa(this.ptr)},Ue.prototype.MarkScreenClean=Ue.prototype.MarkScreenClean=function(){Da(this.ptr)},Ue.prototype.MinMemoryForDevice=Ue.prototype.MinMemoryForDevice=function(c){var m=this.ptr;return Ln.prepare(),c=c&&"object"==typeof c?c.ptr:Jo(c),sn(m,c)},Ue.prototype.FramebufferSizeForDevice=Ue.prototype.FramebufferSizeForDevice=function(c){var m=this.ptr;return Ln.prepare(),c=c&&"object"==typeof c?c.ptr:Jo(c),Hs(m,c)},Ue.prototype.TotalMemoryForDevice=Ue.prototype.TotalMemoryForDevice=function(c){var m=this.ptr;return Ln.prepare(),c=c&&"object"==typeof c?c.ptr:Jo(c),Ia(m,c)},Ue.prototype.QueuePenMove=Ue.prototype.QueuePenMove=function(c,m){c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),Ao(this.ptr,c,m)},Ue.prototype.QueuePenUp=Ue.prototype.QueuePenUp=function(){aa(this.ptr)},Ue.prototype.QueueButtonDown=Ue.prototype.QueueButtonDown=function(c){c&&"object"==typeof c&&(c=c.ptr),cl(this.ptr,c)},Ue.prototype.QueueButtonUp=Ue.prototype.QueueButtonUp=function(c){c&&"object"==typeof c&&(c=c.ptr),pr(this.ptr,c)},Ue.prototype.QueueKeyboardEvent=Ue.prototype.QueueKeyboardEvent=function(c,m){c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),ul(this.ptr,c,m)},Ue.prototype.IsPowerOff=Ue.prototype.IsPowerOff=function(){return!!Hl(this.ptr)},Ue.prototype.IsUIInitialized=Ue.prototype.IsUIInitialized=function(){return!!vc(this.ptr)},Ue.prototype.GetOSVersion=Ue.prototype.GetOSVersion=function(){return zs(this.ptr)},Ue.prototype.IsSetupComplete=Ue.prototype.IsSetupComplete=function(){return!!ps(this.ptr)},Ue.prototype.Reset=Ue.prototype.Reset=function(){Ws(this.ptr)},Ue.prototype.ResetNoExtensions=Ue.prototype.ResetNoExtensions=function(){ka(this.ptr)},Ue.prototype.ResetHard=Ue.prototype.ResetHard=function(){xa(this.ptr)},Ue.prototype.InstallDb=Ue.prototype.InstallDb=function(c,m){return c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),co(this.ptr,c,m)},Ue.prototype.GetPalette2bitMapping=Ue.prototype.GetPalette2bitMapping=function(){return vi(this.ptr)},Ue.prototype.GetMemoryPtr=Ue.prototype.GetMemoryPtr=function(){return yn(io(this.ptr),xr)},Ue.prototype.GetDirtyPagesPtr=Ue.prototype.GetDirtyPagesPtr=function(){return yn(hs(this.ptr),xr)},Ue.prototype.GetMemorySize=Ue.prototype.GetMemorySize=function(){return dl(this.ptr)},Ue.prototype.ImportMemoryImage=Ue.prototype.ImportMemoryImage=function(c,m){return c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),!!he(this.ptr,c,m)},Ue.prototype.GetRomPtr=Ue.prototype.GetRomPtr=function(){return yn(Ma(this.ptr),xr)},Ue.prototype.GetRomSize=Ue.prototype.GetRomSize=function(){return An(this.ptr)},Ue.prototype.GetSavestatePtr=Ue.prototype.GetSavestatePtr=function(){return yn(Jn(this.ptr),xr)},Ue.prototype.GetSavestateSize=Ue.prototype.GetSavestateSize=function(){return Zs(this.ptr)},Ue.prototype.SaveState=Ue.prototype.SaveState=function(){return!!Ur(this.ptr)},Ue.prototype.LoadState=Ue.prototype.LoadState=function(c,m){return c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),!!uo(this.ptr,c,m)},Ue.prototype.GetHotsyncName=Ue.prototype.GetHotsyncName=function(){return fn(fo(this.ptr))},Ue.prototype.SetHotsyncName=Ue.prototype.SetHotsyncName=function(c){var m=this.ptr;Ln.prepare(),c=c&&"object"==typeof c?c.ptr:Jo(c),Gr(m,c)},Ue.prototype.RegisterPwmHandler=Ue.prototype.RegisterPwmHandler=function(c){c&&"object"==typeof c&&(c=c.ptr),ir(this.ptr,c)},Ue.prototype.StartBackup=Ue.prototype.StartBackup=function(){return yn($n(this.ptr),Ir)},Ue.prototype.SetClipboardIntegration=Ue.prototype.SetClipboardIntegration=function(c){c&&"object"==typeof c&&(c=c.ptr),p(this.ptr,c)},Ue.prototype.GetClipboardIntegration=Ue.prototype.GetClipboardIntegration=function(){return!!y(this.ptr)},Ue.prototype.IsSuspended=Ue.prototype.IsSuspended=function(){return!!C(this.ptr)},Ue.prototype.GetSuspendContext=Ue.prototype.GetSuspendContext=function(){return yn(A(this.ptr),po)},Ue.prototype.SetNetworkRedirection=Ue.prototype.SetNetworkRedirection=function(c){c&&"object"==typeof c&&(c=c.ptr),V(this.ptr,c)},Ue.prototype.GetNetworkRedirection=Ue.prototype.GetNetworkRedirection=function(){return!!ye(this.ptr)},Ue.prototype.RegisterProxyDisconnectHandler=Ue.prototype.RegisterProxyDisconnectHandler=function(c){c&&"object"==typeof c&&(c=c.ptr),ke(this.ptr,c)},Ue.prototype.SetHotsyncNameManagement=Ue.prototype.SetHotsyncNameManagement=function(c){c&&"object"==typeof c&&(c=c.ptr),We(this.ptr,c)},Ue.prototype.LaunchAppByName=Ue.prototype.LaunchAppByName=function(c){var m=this.ptr;return Ln.prepare(),c=c&&"object"==typeof c?c.ptr:Jo(c),!!It(m,c)},Ue.prototype.LaunchAppByDbHeader=Ue.prototype.LaunchAppByDbHeader=function(c,m){return c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),!!ln(this.ptr,c,m)},Ue.prototype.DeviceSupportsCardSize=Ue.prototype.DeviceSupportsCardSize=function(c){return c&&"object"==typeof c&&(c=c.ptr),!!Bn(this.ptr,c)},Ue.prototype.ClearExternalStorage=Ue.prototype.ClearExternalStorage=function(){sr(this.ptr)},Ue.prototype.AllocateCard=Ue.prototype.AllocateCard=function(c,m){var b=this.ptr;return Ln.prepare(),c=c&&"object"==typeof c?c.ptr:Jo(c),m&&"object"==typeof m&&(m=m.ptr),!!Le(b,c,m)},Ue.prototype.AdoptCard=Ue.prototype.AdoptCard=function(c,m,b){var x=this.ptr;return Ln.prepare(),c=c&&"object"==typeof c?c.ptr:Jo(c),m&&"object"==typeof m&&(m=m.ptr),b&&"object"==typeof b&&(b=b.ptr),!!cn(x,c,m,b)},Ue.prototype.MountCard=Ue.prototype.MountCard=function(c){var m=this.ptr;return Ln.prepare(),c=c&&"object"==typeof c?c.ptr:Jo(c),!!Fn(m,c)},Ue.prototype.RemoveCard=Ue.prototype.RemoveCard=function(c){var m=this.ptr;return Ln.prepare(),c=c&&"object"==typeof c?c.ptr:Jo(c),!!Hr(m,c)},Ue.prototype.GetCardData=Ue.prototype.GetCardData=function(c){var m=this.ptr;return Ln.prepare(),c=c&&"object"==typeof c?c.ptr:Jo(c),yn(Wn(m,c),xr)},Ue.prototype.GetCardDirtyPages=Ue.prototype.GetCardDirtyPages=function(c){var m=this.ptr;return Ln.prepare(),c=c&&"object"==typeof c?c.ptr:Jo(c),yn(so(m,c),xr)},Ue.prototype.GetCardSize=Ue.prototype.GetCardSize=function(c){var m=this.ptr;return Ln.prepare(),c=c&&"object"==typeof c?c.ptr:Jo(c),gt(m,c)},Ue.prototype.RemountCards=Ue.prototype.RemountCards=function(){at(this.ptr)},Ue.prototype.GetSupportLevel=Ue.prototype.GetSupportLevel=function(c){return c&&"object"==typeof c&&(c=c.ptr),jn(this.ptr,c)},Ue.prototype.GetMountedKey=Ue.prototype.GetMountedKey=function(){return fn(Pt(this.ptr))},Ue.prototype.__destroy__=Ue.prototype.__destroy__=function(){Gn(this.ptr)},(Mr.prototype=Object.create(Et.prototype)).constructor=Mr,Mr.prototype.__class__=Mr,Mr.__cache__={},l.RomInfo=Mr,Mr.prototype.IsValid=Mr.prototype.IsValid=function(){return!!la(this.ptr)},Mr.prototype.CardVersion=Mr.prototype.CardVersion=function(){return ui(this.ptr)},Mr.prototype.CardName=Mr.prototype.CardName=function(){return fn(ms(this.ptr))},Mr.prototype.RomVersion=Mr.prototype.RomVersion=function(){return $t(this.ptr)},Mr.prototype.RomVersionString=Mr.prototype.RomVersionString=function(){return fn(Pn(this.ptr))},Mr.prototype.Supports=Mr.prototype.Supports=function(c){var m=this.ptr;return Ln.prepare(),c=c&&"object"==typeof c?c.ptr:Jo(c),!!qt(m,c)},Mr.prototype.__destroy__=Mr.prototype.__destroy__=function(){kr(this.ptr)},(lr.prototype=Object.create(Et.prototype)).constructor=lr,lr.prototype.__class__=lr,lr.__cache__={},l.Frame=lr,lr.prototype.GetLineWidth=lr.prototype.GetLineWidth=function(){return zr(this.ptr)},lr.prototype.GetBpp=lr.prototype.GetBpp=function(){return Hn(this.ptr)},lr.prototype.GetLines=lr.prototype.GetLines=function(){return jt(this.ptr)},lr.prototype.GetMargin=lr.prototype.GetMargin=function(){return On(this.ptr)},lr.prototype.GetBytesPerLine=lr.prototype.GetBytesPerLine=function(){return yr(this.ptr)},lr.prototype.GetFirstDirtyLine=lr.prototype.GetFirstDirtyLine=function(){return Wr(this.ptr)},lr.prototype.GetLastDirtyLine=lr.prototype.GetLastDirtyLine=function(){return Zt(this.ptr)},lr.prototype.GetHasChanges=lr.prototype.GetHasChanges=function(){return!!hr(this.ptr)},lr.prototype.GetBuffer=lr.prototype.GetBuffer=function(){return yn(d(this.ptr),xr)},lr.prototype.GetBufferSize=lr.prototype.GetBufferSize=function(){return _(this.ptr)},lr.prototype.GetScaleX=lr.prototype.GetScaleX=function(){return w(this.ptr)},lr.prototype.GetScaleY=lr.prototype.GetScaleY=function(){return M(this.ptr)},lr.prototype.__destroy__=lr.prototype.__destroy__=function(){Z(this.ptr)},(Ir.prototype=Object.create(Et.prototype)).constructor=Ir,Ir.prototype.__class__=Ir,Ir.__cache__={},l.DbBackup=Ir,Ir.prototype.Init=Ir.prototype.Init=function(c){return c&&"object"==typeof c&&(c=c.ptr),!!ve(this.ptr,c)},Ir.prototype.IsInProgress=Ir.prototype.IsInProgress=function(){return!!we(this.ptr)},Ir.prototype.IsDone=Ir.prototype.IsDone=function(){return!!Ge(this.ptr)},Ir.prototype.GetCurrentDatabase=Ir.prototype.GetCurrentDatabase=function(){return fn(kt(this.ptr))},Ir.prototype.Save=Ir.prototype.Save=function(){return!!Bt(this.ptr)},Ir.prototype.Skip=Ir.prototype.Skip=function(){er(this.ptr)},Ir.prototype.GetArchivePtr=Ir.prototype.GetArchivePtr=function(){return yn(dr(this.ptr),xr)},Ir.prototype.GetArchiveSize=Ir.prototype.GetArchiveSize=function(){return wn(this.ptr)},Ir.prototype.__destroy__=Ir.prototype.__destroy__=function(){an(this.ptr)},(Xr.prototype=Object.create(Et.prototype)).constructor=Xr,Xr.prototype.__class__=Xr,Xr.__cache__={},l.SuspendContextClipboardCopy=Xr,Xr.prototype.Cancel=Xr.prototype.Cancel=function(){Nn(this.ptr)},Xr.prototype.Resume=Xr.prototype.Resume=function(){Lr(this.ptr)},Xr.prototype.GetClipboardContent=Xr.prototype.GetClipboardContent=function(){return fn(Ar(this.ptr))},Xr.prototype.__destroy__=Xr.prototype.__destroy__=function(){Xo(this.ptr)},(Vi.prototype=Object.create(Et.prototype)).constructor=Vi,Vi.prototype.__class__=Vi,Vi.__cache__={},l.SuspendContextClipboardPaste=Vi,Vi.prototype.Cancel=Vi.prototype.Cancel=function(){ct(this.ptr)},Vi.prototype.Resume=Vi.prototype.Resume=function(c){var m=this.ptr;Ln.prepare(),c=c&&"object"==typeof c?c.ptr:Jo(c),Gt(m,c)},Vi.prototype.__destroy__=Vi.prototype.__destroy__=function(){ao(this.ptr)},(bi.prototype=Object.create(Et.prototype)).constructor=bi,bi.prototype.__class__=bi,bi.__cache__={},l.SuspendContextNetworkConnect=bi,bi.prototype.Cancel=bi.prototype.Cancel=function(){vr(this.ptr)},bi.prototype.Resume=bi.prototype.Resume=function(c){var m=this.ptr;Ln.prepare(),c=c&&"object"==typeof c?c.ptr:Jo(c),Qo(m,c)},bi.prototype.__destroy__=bi.prototype.__destroy__=function(){br(this.ptr)},(Vo.prototype=Object.create(Et.prototype)).constructor=Vo,Vo.prototype.__class__=Vo,Vo.__cache__={},l.SuspendContextNetworkRpc=Vo,Vo.prototype.Cancel=Vo.prototype.Cancel=function(){Op(this.ptr)},Vo.prototype.GetRequestSize=Vo.prototype.GetRequestSize=function(){return dg(this.ptr)},Vo.prototype.GetRequestData=Vo.prototype.GetRequestData=function(){return yn(Np(this.ptr),xr)},Vo.prototype.ReceiveResponse=Vo.prototype.ReceiveResponse=function(c,m){c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),Lp(this.ptr,c,m)},Vo.prototype.__destroy__=Vo.prototype.__destroy__=function(){fg(this.ptr)},(po.prototype=Object.create(Et.prototype)).constructor=po,po.prototype.__class__=po,po.__cache__={},l.SuspendContext=po,po.prototype.GetKind=po.prototype.GetKind=function(){return pg(this.ptr)},po.prototype.Cancel=po.prototype.Cancel=function(){hg(this.ptr)},po.prototype.AsContextClipboardCopy=po.prototype.AsContextClipboardCopy=function(){return yn(mg(this.ptr),Xr)},po.prototype.AsContextClipboardPaste=po.prototype.AsContextClipboardPaste=function(){return yn(gg(this.ptr),Vi)},po.prototype.AsContextNetworkConnect=po.prototype.AsContextNetworkConnect=function(){return yn(_g(this.ptr),bi)},po.prototype.AsContextNetworkRpc=po.prototype.AsContextNetworkRpc=function(){return yn(yg(this.ptr),Vo)},po.prototype.__destroy__=po.prototype.__destroy__=function(){vg(this.ptr)},(ho.prototype=Object.create(Et.prototype)).constructor=ho,ho.prototype.__class__=ho,ho.__cache__={},l.ZipfileWalker=ho,ho.prototype.GetState=ho.prototype.GetState=function(){return Cg(this.ptr)},ho.prototype.Next=ho.prototype.Next=function(){return wg(this.ptr)},ho.prototype.GetCurrentEntrySize=ho.prototype.GetCurrentEntrySize=function(){return Sg(this.ptr)},ho.prototype.GetCurrentEntryName=ho.prototype.GetCurrentEntryName=function(){return fn(Td(this.ptr))},ho.prototype.GetCurrentEntryContent=ho.prototype.GetCurrentEntryContent=function(){return yn(Ad(this.ptr),xr)},ho.prototype.__destroy__=ho.prototype.__destroy__=function(){Eg(this.ptr)},(un.prototype=Object.create(Et.prototype)).constructor=un,un.prototype.__class__=un,un.__cache__={},l.SessionImage=un,un.prototype.GetDeviceId=un.prototype.GetDeviceId=function(){return fn(Ig(this.ptr))},un.prototype.SetDeviceId=un.prototype.SetDeviceId=function(c){var m=this.ptr;return Ln.prepare(),c=c&&"object"==typeof c?c.ptr:Jo(c),yn(Ta(m,c),un)},un.prototype.GetRomImage=un.prototype.GetRomImage=function(){return yn($p(this.ptr),xr)},un.prototype.GetRomImageSize=un.prototype.GetRomImageSize=function(){return $o(this.ptr)},un.prototype.SetRomImage=un.prototype.SetRomImage=function(c,m){return c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),yn(Pd(this.ptr,c,m),un)},un.prototype.GetMemoryImage=un.prototype.GetMemoryImage=function(){return yn(Bp(this.ptr),xr)},un.prototype.GetMemoryImageSize=un.prototype.GetMemoryImageSize=function(){return Vp(this.ptr)},un.prototype.SetMemoryImage=un.prototype.SetMemoryImage=function(c,m){return c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),yn(Rd(this.ptr,c,m),un)},un.prototype.GetMetadata=un.prototype.GetMetadata=function(){return yn(Fd(this.ptr),xr)},un.prototype.GetMetadataSize=un.prototype.GetMetadataSize=function(){return Up(this.ptr)},un.prototype.SetMetadata=un.prototype.SetMetadata=function(c,m){return c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),yn(su(this.ptr,c,m),un)},un.prototype.GetSavestate=un.prototype.GetSavestate=function(){return yn(jp(this.ptr),xr)},un.prototype.GetSavestateSize=un.prototype.GetSavestateSize=function(){return qi(this.ptr)},un.prototype.SetSavestate=un.prototype.SetSavestate=function(c,m){return c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),yn(Od(this.ptr,c,m),un)},un.prototype.GetVersion=un.prototype.GetVersion=function(){return Nd(this.ptr)},un.prototype.Serialize=un.prototype.Serialize=function(){return!!Bo(this.ptr)},un.prototype.GetSerializedImage=un.prototype.GetSerializedImage=function(){return yn(Gp(this.ptr),xr)},un.prototype.GetSerializedImageSize=un.prototype.GetSerializedImageSize=function(){return bc(this.ptr)},un.prototype.Deserialize=un.prototype.Deserialize=function(c,m){return c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),!!$i(this.ptr,c,m)},un.prototype.__destroy__=un.prototype.__destroy__=function(){Hp(this.ptr)},(Ci.prototype=Object.create(Et.prototype)).constructor=Ci,Ci.prototype.__class__=Ci,Ci.__cache__={},l.SkinLoader=Ci,Ci.prototype.GetData=Ci.prototype.GetData=function(){return yn(fl(this.ptr),xr)},Ci.prototype.GetSize=Ci.prototype.GetSize=function(){return Bi(this.ptr)},Ci.prototype.__destroy__=Ci.prototype.__destroy__=function(){zp(this.ptr)},(Qr.prototype=Object.create(Et.prototype)).constructor=Qr,Qr.prototype.__class__=Qr,Qr.__cache__={},l.GunzipContext=Qr,Qr.prototype.GetState=Qr.prototype.GetState=function(){return Wp(this.ptr)},Qr.prototype.Continue=Qr.prototype.Continue=function(){return ca(this.ptr)},Qr.prototype.GetUncompressedData=Qr.prototype.GetUncompressedData=function(){return yn($d(this.ptr),xr)},Qr.prototype.ReleaseUncompressedData=Qr.prototype.ReleaseUncompressedData=function(){return yn(au(this.ptr),xr)},Qr.prototype.GetUncompressedSize=Qr.prototype.GetUncompressedSize=function(){return Tn(this.ptr)},Qr.prototype.GetError=Qr.prototype.GetError=function(){return fn(Bd(this.ptr))},Qr.prototype.__destroy__=Qr.prototype.__destroy__=function(){kg(this.ptr)},E.ready});$e.exports=ze},9084:$e=>{var R,ze=(R=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(E={}){var te,J,l=typeof E<"u"?E:{};l.ready=new Promise(function(p,y){te=p,J=y});var j,Me,Ne,G=Object.assign({},l),N="./this.program",B=(p,y)=>{throw y},se="object"==typeof window,Y="function"==typeof importScripts,$=("object"==typeof process&&"object"==typeof process.versions&&process,"");(se||Y)&&(Y?$=self.location.href:typeof document<"u"&&document.currentScript&&($=document.currentScript.src),R&&($=R),$=0!==$.indexOf("blob:")?$.substr(0,$.replace(/[?#].*/,"").lastIndexOf("/")+1):"",j=p=>{var y=new XMLHttpRequest;return y.open("GET",p,!1),y.send(null),y.responseText},Y&&(Ne=p=>{var y=new XMLHttpRequest;return y.open("GET",p,!1),y.responseType="arraybuffer",y.send(null),new Uint8Array(y.response)}),Me=(p,y,C)=>{var A=new XMLHttpRequest;A.open("GET",p,!0),A.responseType="arraybuffer",A.onload=()=>{200==A.status||0==A.status&&A.response?y(A.response):C()},A.onerror=C,A.send(null)});var ce,H=l.print||console.log.bind(console),q=l.printErr||console.warn.bind(console);Object.assign(l,G),G=null,l.thisProgram&&(N=l.thisProgram),l.quit&&(B=l.quit),l.wasmBinary&&(ce=l.wasmBinary);var Te=l.noExitRuntime||!0;"object"!=typeof WebAssembly&&kn("no native wasm support detected");var ae,ie,ue,Ke,k,fe,Ct,ot=!1;function _e(p,y){p||kn(y)}function tn(){var p=ae.buffer;l.HEAP8=ue=new Int8Array(p),l.HEAP16=new Int16Array(p),l.HEAP32=k=new Int32Array(p),l.HEAPU8=Ke=new Uint8Array(p),l.HEAPU16=new Uint16Array(p),l.HEAPU32=fe=new Uint32Array(p),l.HEAPF32=new Float32Array(p),l.HEAPF64=Ct=new Float64Array(p)}var gr,Ee=[],He=[],et=[],Je=[],Nt=0,qn=null,In=null;function Or(p){Nt++,l.monitorRunDependencies&&l.monitorRunDependencies(Nt)}function to(p){if(Nt--,l.monitorRunDependencies&&l.monitorRunDependencies(Nt),0==Nt&&(null!==qn&&(clearInterval(qn),qn=null),In)){var y=In;In=null,y()}}function kn(p){l.onAbort&&l.onAbort(p),q(p="Aborted("+p+")"),ot=!0,ie=1,p+=". Build with -sASSERTIONS for more info.";var y=new WebAssembly.RuntimeError(p);throw J(y),y}function wr(p){return p.startsWith("data:application/octet-stream;base64,")}function bo(p){try{if(p==gr&&ce)return new Uint8Array(ce);if(Ne)return Ne(p);throw"both async and sync fetching of the wasm failed"}catch(y){kn(y)}}function ai(p,y,C){return function si(p){return ce||!se&&!Y||"function"!=typeof fetch?Promise.resolve().then(function(){return bo(p)}):fetch(p,{credentials:"same-origin"}).then(function(y){if(!y.ok)throw"failed to load wasm binary file at '"+p+"'";return y.arrayBuffer()}).catch(function(){return bo(p)})}(p).then(function(A){return WebAssembly.instantiate(A,y)}).then(function(A){return A}).then(C,function(A){q("failed to asynchronously prepare wasm: "+A),kn(A)})}wr(gr="fstools_web.wasm")||(gr=function L(p){return l.locateFile?l.locateFile(p,$):$+p}(gr));var tt,Vt,Zi={1092542:()=>{throw new Error("terminated")}};function Nr(p){this.name="ExitStatus",this.message="Program terminated with exit("+p+")",this.status=p}function ko(p){for(;p.length>0;)p.shift()(l)}var De=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Re(p,y,C){for(var A=y+C,V=y;p[V]&&!(V>=A);)++V;if(V-y>16&&p.buffer&&De)return De.decode(p.subarray(y,V));for(var ye="";y<V;){var ke=p[y++];if(128&ke){var We=63&p[y++];if(192!=(224&ke)){var It=63&p[y++];if((ke=224==(240&ke)?(15&ke)<<12|We<<6|It:(7&ke)<<18|We<<12|It<<6|63&p[y++])<65536)ye+=String.fromCharCode(ke);else{var ln=ke-65536;ye+=String.fromCharCode(55296|ln>>10,56320|1023&ln)}}else ye+=String.fromCharCode((31&ke)<<6|We)}else ye+=String.fromCharCode(ke)}return ye}function hn(p,y){return p?Re(Ke,p,y):""}var wt={isAbs:p=>"/"===p.charAt(0),splitPath:p=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(p).slice(1),normalizeArray:(p,y)=>{for(var C=0,A=p.length-1;A>=0;A--){var V=p[A];"."===V?p.splice(A,1):".."===V?(p.splice(A,1),C++):C&&(p.splice(A,1),C--)}if(y)for(;C;C--)p.unshift("..");return p},normalize:p=>{var y=wt.isAbs(p),C="/"===p.substr(-1);return!(p=wt.normalizeArray(p.split("/").filter(A=>!!A),!y).join("/"))&&!y&&(p="."),p&&C&&(p+="/"),(y?"/":"")+p},dirname:p=>{var y=wt.splitPath(p),C=y[0],A=y[1];return C||A?(A&&(A=A.substr(0,A.length-1)),C+A):"."},basename:p=>{if("/"===p)return"/";var y=(p=(p=wt.normalize(p)).replace(/\/$/,"")).lastIndexOf("/");return-1===y?p:p.substr(y+1)},join:function(){var p=Array.prototype.slice.call(arguments);return wt.normalize(p.join("/"))},join2:(p,y)=>wt.normalize(p+"/"+y)};function _n(p){return(_n=function Cn(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return p=>crypto.getRandomValues(p);kn("initRandomDevice")}())(p)}var Yn={resolve:function(){for(var p="",y=!1,C=arguments.length-1;C>=-1&&!y;C--){var A=C>=0?arguments[C]:h.cwd();if("string"!=typeof A)throw new TypeError("Arguments to path.resolve must be strings");if(!A)return"";p=A+"/"+p,y=wt.isAbs(A)}return(y?"/":"")+(p=wt.normalizeArray(p.split("/").filter(V=>!!V),!y).join("/"))||"."},relative:(p,y)=>{function C(ln){for(var Bn=0;Bn<ln.length&&""===ln[Bn];Bn++);for(var sr=ln.length-1;sr>=0&&""===ln[sr];sr--);return Bn>sr?[]:ln.slice(Bn,sr-Bn+1)}p=Yn.resolve(p).substr(1),y=Yn.resolve(y).substr(1);for(var A=C(p.split("/")),V=C(y.split("/")),ye=Math.min(A.length,V.length),ke=ye,We=0;We<ye;We++)if(A[We]!==V[We]){ke=We;break}var It=[];for(We=ke;We<A.length;We++)It.push("..");return(It=It.concat(V.slice(ke))).join("/")}};function Tr(p){for(var y=0,C=0;C<p.length;++C){var A=p.charCodeAt(C);A<=127?y++:A<=2047?y+=2:A>=55296&&A<=57343?(y+=4,++C):y+=3}return y}function Sr(p,y,C,A){if(!(A>0))return 0;for(var V=C,ye=C+A-1,ke=0;ke<p.length;++ke){var We=p.charCodeAt(ke);if(We>=55296&&We<=57343&&(We=65536+((1023&We)<<10)|1023&p.charCodeAt(++ke)),We<=127){if(C>=ye)break;y[C++]=We}else if(We<=2047){if(C+1>=ye)break;y[C++]=192|We>>6,y[C++]=128|63&We}else if(We<=65535){if(C+2>=ye)break;y[C++]=224|We>>12,y[C++]=128|We>>6&63,y[C++]=128|63&We}else{if(C+3>=ye)break;y[C++]=240|We>>18,y[C++]=128|We>>12&63,y[C++]=128|We>>6&63,y[C++]=128|63&We}}return y[C]=0,C-V}function Kr(p,y,C){var A=C>0?C:Tr(p)+1,V=new Array(A),ye=Sr(p,V,0,V.length);return y&&(V.length=ye),V}var Qn={ttys:[],init:function(){},shutdown:function(){},register:function(p,y){Qn.ttys[p]={input:[],output:[],ops:y},h.registerDevice(p,Qn.stream_ops)},stream_ops:{open:function(p){var y=Qn.ttys[p.node.rdev];if(!y)throw new h.ErrnoError(43);p.tty=y,p.seekable=!1},close:function(p){p.tty.ops.fsync(p.tty)},fsync:function(p){p.tty.ops.fsync(p.tty)},read:function(p,y,C,A,V){if(!p.tty||!p.tty.ops.get_char)throw new h.ErrnoError(60);for(var ye=0,ke=0;ke<A;ke++){var We;try{We=p.tty.ops.get_char(p.tty)}catch{throw new h.ErrnoError(29)}if(void 0===We&&0===ye)throw new h.ErrnoError(6);if(null==We)break;ye++,y[C+ke]=We}return ye&&(p.node.timestamp=Date.now()),ye},write:function(p,y,C,A,V){if(!p.tty||!p.tty.ops.put_char)throw new h.ErrnoError(60);try{for(var ye=0;ye<A;ye++)p.tty.ops.put_char(p.tty,y[C+ye])}catch{throw new h.ErrnoError(29)}return A&&(p.node.timestamp=Date.now()),ye}},default_tty_ops:{get_char:function(p){if(!p.input.length){var y=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(y=window.prompt("Input: "))&&(y+="\n"):"function"==typeof readline&&null!==(y=readline())&&(y+="\n"),!y)return null;p.input=Kr(y,!0)}return p.input.shift()},put_char:function(p,y){null===y||10===y?(H(Re(p.output,0)),p.output=[]):0!=y&&p.output.push(y)},fsync:function(p){p.output&&p.output.length>0&&(H(Re(p.output,0)),p.output=[])}},default_tty1_ops:{put_char:function(p,y){null===y||10===y?(q(Re(p.output,0)),p.output=[]):0!=y&&p.output.push(y)},fsync:function(p){p.output&&p.output.length>0&&(q(Re(p.output,0)),p.output=[])}}};function fr(p){kn()}var ft={ops_table:null,mount:function(p){return ft.createNode(null,"/",16895,0)},createNode:function(p,y,C,A){if(h.isBlkdev(C)||h.isFIFO(C))throw new h.ErrnoError(63);ft.ops_table||(ft.ops_table={dir:{node:{getattr:ft.node_ops.getattr,setattr:ft.node_ops.setattr,lookup:ft.node_ops.lookup,mknod:ft.node_ops.mknod,rename:ft.node_ops.rename,unlink:ft.node_ops.unlink,rmdir:ft.node_ops.rmdir,readdir:ft.node_ops.readdir,symlink:ft.node_ops.symlink},stream:{llseek:ft.stream_ops.llseek}},file:{node:{getattr:ft.node_ops.getattr,setattr:ft.node_ops.setattr},stream:{llseek:ft.stream_ops.llseek,read:ft.stream_ops.read,write:ft.stream_ops.write,allocate:ft.stream_ops.allocate,mmap:ft.stream_ops.mmap,msync:ft.stream_ops.msync}},link:{node:{getattr:ft.node_ops.getattr,setattr:ft.node_ops.setattr,readlink:ft.node_ops.readlink},stream:{}},chrdev:{node:{getattr:ft.node_ops.getattr,setattr:ft.node_ops.setattr},stream:h.chrdev_stream_ops}});var V=h.createNode(p,y,C,A);return h.isDir(V.mode)?(V.node_ops=ft.ops_table.dir.node,V.stream_ops=ft.ops_table.dir.stream,V.contents={}):h.isFile(V.mode)?(V.node_ops=ft.ops_table.file.node,V.stream_ops=ft.ops_table.file.stream,V.usedBytes=0,V.contents=null):h.isLink(V.mode)?(V.node_ops=ft.ops_table.link.node,V.stream_ops=ft.ops_table.link.stream):h.isChrdev(V.mode)&&(V.node_ops=ft.ops_table.chrdev.node,V.stream_ops=ft.ops_table.chrdev.stream),V.timestamp=Date.now(),p&&(p.contents[y]=V,p.timestamp=V.timestamp),V},getFileDataAsTypedArray:function(p){return p.contents?p.contents.subarray?p.contents.subarray(0,p.usedBytes):new Uint8Array(p.contents):new Uint8Array(0)},expandFileStorage:function(p,y){var C=p.contents?p.contents.length:0;if(!(C>=y)){y=Math.max(y,C*(C<1048576?2:1.125)>>>0),0!=C&&(y=Math.max(y,256));var V=p.contents;p.contents=new Uint8Array(y),p.usedBytes>0&&p.contents.set(V.subarray(0,p.usedBytes),0)}},resizeFileStorage:function(p,y){if(p.usedBytes!=y)if(0==y)p.contents=null,p.usedBytes=0;else{var C=p.contents;p.contents=new Uint8Array(y),C&&p.contents.set(C.subarray(0,Math.min(y,p.usedBytes))),p.usedBytes=y}},node_ops:{getattr:function(p){var y={};return y.dev=h.isChrdev(p.mode)?p.id:1,y.ino=p.id,y.mode=p.mode,y.nlink=1,y.uid=0,y.gid=0,y.rdev=p.rdev,y.size=h.isDir(p.mode)?4096:h.isFile(p.mode)?p.usedBytes:h.isLink(p.mode)?p.link.length:0,y.atime=new Date(p.timestamp),y.mtime=new Date(p.timestamp),y.ctime=new Date(p.timestamp),y.blksize=4096,y.blocks=Math.ceil(y.size/y.blksize),y},setattr:function(p,y){void 0!==y.mode&&(p.mode=y.mode),void 0!==y.timestamp&&(p.timestamp=y.timestamp),void 0!==y.size&&ft.resizeFileStorage(p,y.size)},lookup:function(p,y){throw h.genericErrors[44]},mknod:function(p,y,C,A){return ft.createNode(p,y,C,A)},rename:function(p,y,C){if(h.isDir(p.mode)){var A;try{A=h.lookupNode(y,C)}catch{}if(A)for(var V in A.contents)throw new h.ErrnoError(55)}delete p.parent.contents[p.name],p.parent.timestamp=Date.now(),p.name=C,y.contents[C]=p,y.timestamp=p.parent.timestamp,p.parent=y},unlink:function(p,y){delete p.contents[y],p.timestamp=Date.now()},rmdir:function(p,y){var C=h.lookupNode(p,y);for(var A in C.contents)throw new h.ErrnoError(55);delete p.contents[y],p.timestamp=Date.now()},readdir:function(p){var y=[".",".."];for(var C in p.contents)p.contents.hasOwnProperty(C)&&y.push(C);return y},symlink:function(p,y,C){var A=ft.createNode(p,y,41471,0);return A.link=C,A},readlink:function(p){if(!h.isLink(p.mode))throw new h.ErrnoError(28);return p.link}},stream_ops:{read:function(p,y,C,A,V){var ye=p.node.contents;if(V>=p.node.usedBytes)return 0;var ke=Math.min(p.node.usedBytes-V,A);if(ke>8&&ye.subarray)y.set(ye.subarray(V,V+ke),C);else for(var We=0;We<ke;We++)y[C+We]=ye[V+We];return ke},write:function(p,y,C,A,V,ye){if(y.buffer===ue.buffer&&(ye=!1),!A)return 0;var ke=p.node;if(ke.timestamp=Date.now(),y.subarray&&(!ke.contents||ke.contents.subarray)){if(ye)return ke.contents=y.subarray(C,C+A),ke.usedBytes=A,A;if(0===ke.usedBytes&&0===V)return ke.contents=y.slice(C,C+A),ke.usedBytes=A,A;if(V+A<=ke.usedBytes)return ke.contents.set(y.subarray(C,C+A),V),A}if(ft.expandFileStorage(ke,V+A),ke.contents.subarray&&y.subarray)ke.contents.set(y.subarray(C,C+A),V);else for(var We=0;We<A;We++)ke.contents[V+We]=y[C+We];return ke.usedBytes=Math.max(ke.usedBytes,V+A),A},llseek:function(p,y,C){var A=y;if(1===C?A+=p.position:2===C&&h.isFile(p.node.mode)&&(A+=p.node.usedBytes),A<0)throw new h.ErrnoError(28);return A},allocate:function(p,y,C){ft.expandFileStorage(p.node,y+C),p.node.usedBytes=Math.max(p.node.usedBytes,y+C)},mmap:function(p,y,C,A,V){if(!h.isFile(p.node.mode))throw new h.ErrnoError(43);var ye,ke,We=p.node.contents;if(2&V||We.buffer!==ue.buffer){if((C>0||C+y<We.length)&&(We=We.subarray?We.subarray(C,C+y):Array.prototype.slice.call(We,C,C+y)),ke=!0,!(ye=fr()))throw new h.ErrnoError(48);ue.set(We,ye)}else ke=!1,ye=We.byteOffset;return{ptr:ye,allocated:ke}},msync:function(p,y,C,A,V){return ft.stream_ops.write(p,y,0,A,C,!1),0}}},h={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(p,y={})=>{if(!(p=Yn.resolve(p)))return{path:"",node:null};if((y=Object.assign({follow_mount:!0,recurse_count:0},y)).recurse_count>8)throw new h.ErrnoError(32);for(var A=p.split("/").filter(sr=>!!sr),V=h.root,ye="/",ke=0;ke<A.length;ke++){var We=ke===A.length-1;if(We&&y.parent)break;if(V=h.lookupNode(V,A[ke]),ye=wt.join2(ye,A[ke]),h.isMountpoint(V)&&(!We||We&&y.follow_mount)&&(V=V.mounted.root),!We||y.follow)for(var It=0;h.isLink(V.mode);){var ln=h.readlink(ye);if(ye=Yn.resolve(wt.dirname(ye),ln),V=h.lookupPath(ye,{recurse_count:y.recurse_count+1}).node,It++>40)throw new h.ErrnoError(32)}}return{path:ye,node:V}},getPath:p=>{for(var y;;){if(h.isRoot(p)){var C=p.mount.mountpoint;return y?"/"!==C[C.length-1]?C+"/"+y:C+y:C}y=y?p.name+"/"+y:p.name,p=p.parent}},hashName:(p,y)=>{for(var C=0,A=0;A<y.length;A++)C=(C<<5)-C+y.charCodeAt(A)|0;return(p+C>>>0)%h.nameTable.length},hashAddNode:p=>{var y=h.hashName(p.parent.id,p.name);p.name_next=h.nameTable[y],h.nameTable[y]=p},hashRemoveNode:p=>{var y=h.hashName(p.parent.id,p.name);if(h.nameTable[y]===p)h.nameTable[y]=p.name_next;else for(var C=h.nameTable[y];C;){if(C.name_next===p){C.name_next=p.name_next;break}C=C.name_next}},lookupNode:(p,y)=>{var C=h.mayLookup(p);if(C)throw new h.ErrnoError(C,p);for(var A=h.hashName(p.id,y),V=h.nameTable[A];V;V=V.name_next)if(V.parent.id===p.id&&V.name===y)return V;return h.lookup(p,y)},createNode:(p,y,C,A)=>{var V=new h.FSNode(p,y,C,A);return h.hashAddNode(V),V},destroyNode:p=>{h.hashRemoveNode(p)},isRoot:p=>p===p.parent,isMountpoint:p=>!!p.mounted,isFile:p=>32768==(61440&p),isDir:p=>16384==(61440&p),isLink:p=>40960==(61440&p),isChrdev:p=>8192==(61440&p),isBlkdev:p=>24576==(61440&p),isFIFO:p=>4096==(61440&p),isSocket:p=>49152==(49152&p),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:p=>{var y=h.flagModes[p];if(typeof y>"u")throw new Error("Unknown file open mode: "+p);return y},flagsToPermissionString:p=>{var y=["r","w","rw"][3&p];return 512&p&&(y+="w"),y},nodePermissions:(p,y)=>h.ignorePermissions?0:y.includes("r")&&!(292&p.mode)||y.includes("w")&&!(146&p.mode)||y.includes("x")&&!(73&p.mode)?2:0,mayLookup:p=>h.nodePermissions(p,"x")||(p.node_ops.lookup?0:2),mayCreate:(p,y)=>{try{return h.lookupNode(p,y),20}catch{}return h.nodePermissions(p,"wx")},mayDelete:(p,y,C)=>{var A;try{A=h.lookupNode(p,y)}catch(ye){return ye.errno}var V=h.nodePermissions(p,"wx");if(V)return V;if(C){if(!h.isDir(A.mode))return 54;if(h.isRoot(A)||h.getPath(A)===h.cwd())return 10}else if(h.isDir(A.mode))return 31;return 0},mayOpen:(p,y)=>p?h.isLink(p.mode)?32:h.isDir(p.mode)&&("r"!==h.flagsToPermissionString(y)||512&y)?31:h.nodePermissions(p,h.flagsToPermissionString(y)):44,MAX_OPEN_FDS:4096,nextfd:(p=0,y=h.MAX_OPEN_FDS)=>{for(var C=p;C<=y;C++)if(!h.streams[C])return C;throw new h.ErrnoError(33)},getStream:p=>h.streams[p],createStream:(p,y,C)=>{h.FSStream||(h.FSStream=function(){this.shared={}},h.FSStream.prototype={},Object.defineProperties(h.FSStream.prototype,{object:{get:function(){return this.node},set:function(V){this.node=V}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(V){this.shared.flags=V}},position:{get:function(){return this.shared.position},set:function(V){this.shared.position=V}}})),p=Object.assign(new h.FSStream,p);var A=h.nextfd(y,C);return p.fd=A,h.streams[A]=p,p},closeStream:p=>{h.streams[p]=null},chrdev_stream_ops:{open:p=>{var y=h.getDevice(p.node.rdev);p.stream_ops=y.stream_ops,p.stream_ops.open&&p.stream_ops.open(p)},llseek:()=>{throw new h.ErrnoError(70)}},major:p=>p>>8,minor:p=>255&p,makedev:(p,y)=>p<<8|y,registerDevice:(p,y)=>{h.devices[p]={stream_ops:y}},getDevice:p=>h.devices[p],getMounts:p=>{for(var y=[],C=[p];C.length;){var A=C.pop();y.push(A),C.push.apply(C,A.mounts)}return y},syncfs:(p,y)=>{"function"==typeof p&&(y=p,p=!1),h.syncFSRequests++,h.syncFSRequests>1&&q("warning: "+h.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var C=h.getMounts(h.root.mount),A=0;function V(ke){return h.syncFSRequests--,y(ke)}function ye(ke){if(ke)return ye.errored?void 0:(ye.errored=!0,V(ke));++A>=C.length&&V(null)}C.forEach(ke=>{if(!ke.type.syncfs)return ye(null);ke.type.syncfs(ke,p,ye)})},mount:(p,y,C)=>{var ye,A="/"===C,V=!C;if(A&&h.root)throw new h.ErrnoError(10);if(!A&&!V){var ke=h.lookupPath(C,{follow_mount:!1});if(C=ke.path,h.isMountpoint(ye=ke.node))throw new h.ErrnoError(10);if(!h.isDir(ye.mode))throw new h.ErrnoError(54)}var We={type:p,opts:y,mountpoint:C,mounts:[]},It=p.mount(We);return It.mount=We,We.root=It,A?h.root=It:ye&&(ye.mounted=We,ye.mount&&ye.mount.mounts.push(We)),It},unmount:p=>{var y=h.lookupPath(p,{follow_mount:!1});if(!h.isMountpoint(y.node))throw new h.ErrnoError(28);var C=y.node,A=C.mounted,V=h.getMounts(A);Object.keys(h.nameTable).forEach(ke=>{for(var We=h.nameTable[ke];We;){var It=We.name_next;V.includes(We.mount)&&h.destroyNode(We),We=It}}),C.mounted=null;var ye=C.mount.mounts.indexOf(A);C.mount.mounts.splice(ye,1)},lookup:(p,y)=>p.node_ops.lookup(p,y),mknod:(p,y,C)=>{var V=h.lookupPath(p,{parent:!0}).node,ye=wt.basename(p);if(!ye||"."===ye||".."===ye)throw new h.ErrnoError(28);var ke=h.mayCreate(V,ye);if(ke)throw new h.ErrnoError(ke);if(!V.node_ops.mknod)throw new h.ErrnoError(63);return V.node_ops.mknod(V,ye,y,C)},create:(p,y)=>(y=void 0!==y?y:438,y&=4095,h.mknod(p,y|=32768,0)),mkdir:(p,y)=>(y=void 0!==y?y:511,y&=1023,h.mknod(p,y|=16384,0)),mkdirTree:(p,y)=>{for(var C=p.split("/"),A="",V=0;V<C.length;++V)if(C[V]){A+="/"+C[V];try{h.mkdir(A,y)}catch(ye){if(20!=ye.errno)throw ye}}},mkdev:(p,y,C)=>(typeof C>"u"&&(C=y,y=438),h.mknod(p,y|=8192,C)),symlink:(p,y)=>{if(!Yn.resolve(p))throw new h.ErrnoError(44);var A=h.lookupPath(y,{parent:!0}).node;if(!A)throw new h.ErrnoError(44);var V=wt.basename(y),ye=h.mayCreate(A,V);if(ye)throw new h.ErrnoError(ye);if(!A.node_ops.symlink)throw new h.ErrnoError(63);return A.node_ops.symlink(A,V,p)},rename:(p,y)=>{var We,It,C=wt.dirname(p),A=wt.dirname(y),V=wt.basename(p),ye=wt.basename(y);if(We=h.lookupPath(p,{parent:!0}).node,It=h.lookupPath(y,{parent:!0}).node,!We||!It)throw new h.ErrnoError(44);if(We.mount!==It.mount)throw new h.ErrnoError(75);var sr,ln=h.lookupNode(We,V),Bn=Yn.relative(p,A);if("."!==Bn.charAt(0))throw new h.ErrnoError(28);if("."!==(Bn=Yn.relative(y,C)).charAt(0))throw new h.ErrnoError(55);try{sr=h.lookupNode(It,ye)}catch{}if(ln!==sr){var Le=h.isDir(ln.mode),cn=h.mayDelete(We,V,Le);if(cn)throw new h.ErrnoError(cn);if(cn=sr?h.mayDelete(It,ye,Le):h.mayCreate(It,ye))throw new h.ErrnoError(cn);if(!We.node_ops.rename)throw new h.ErrnoError(63);if(h.isMountpoint(ln)||sr&&h.isMountpoint(sr))throw new h.ErrnoError(10);if(It!==We&&(cn=h.nodePermissions(We,"w")))throw new h.ErrnoError(cn);h.hashRemoveNode(ln);try{We.node_ops.rename(ln,It,ye)}catch(Fn){throw Fn}finally{h.hashAddNode(ln)}}},rmdir:p=>{var C=h.lookupPath(p,{parent:!0}).node,A=wt.basename(p),V=h.lookupNode(C,A),ye=h.mayDelete(C,A,!0);if(ye)throw new h.ErrnoError(ye);if(!C.node_ops.rmdir)throw new h.ErrnoError(63);if(h.isMountpoint(V))throw new h.ErrnoError(10);C.node_ops.rmdir(C,A),h.destroyNode(V)},readdir:p=>{var C=h.lookupPath(p,{follow:!0}).node;if(!C.node_ops.readdir)throw new h.ErrnoError(54);return C.node_ops.readdir(C)},unlink:p=>{var C=h.lookupPath(p,{parent:!0}).node;if(!C)throw new h.ErrnoError(44);var A=wt.basename(p),V=h.lookupNode(C,A),ye=h.mayDelete(C,A,!1);if(ye)throw new h.ErrnoError(ye);if(!C.node_ops.unlink)throw new h.ErrnoError(63);if(h.isMountpoint(V))throw new h.ErrnoError(10);C.node_ops.unlink(C,A),h.destroyNode(V)},readlink:p=>{var C=h.lookupPath(p).node;if(!C)throw new h.ErrnoError(44);if(!C.node_ops.readlink)throw new h.ErrnoError(28);return Yn.resolve(h.getPath(C.parent),C.node_ops.readlink(C))},stat:(p,y)=>{var A=h.lookupPath(p,{follow:!y}).node;if(!A)throw new h.ErrnoError(44);if(!A.node_ops.getattr)throw new h.ErrnoError(63);return A.node_ops.getattr(A)},lstat:p=>h.stat(p,!0),chmod:(p,y,C)=>{var A;if(!(A="string"==typeof p?h.lookupPath(p,{follow:!C}).node:p).node_ops.setattr)throw new h.ErrnoError(63);A.node_ops.setattr(A,{mode:4095&y|-4096&A.mode,timestamp:Date.now()})},lchmod:(p,y)=>{h.chmod(p,y,!0)},fchmod:(p,y)=>{var C=h.getStream(p);if(!C)throw new h.ErrnoError(8);h.chmod(C.node,y)},chown:(p,y,C,A)=>{var V;if(!(V="string"==typeof p?h.lookupPath(p,{follow:!A}).node:p).node_ops.setattr)throw new h.ErrnoError(63);V.node_ops.setattr(V,{timestamp:Date.now()})},lchown:(p,y,C)=>{h.chown(p,y,C,!0)},fchown:(p,y,C)=>{var A=h.getStream(p);if(!A)throw new h.ErrnoError(8);h.chown(A.node,y,C)},truncate:(p,y)=>{if(y<0)throw new h.ErrnoError(28);var C;if(!(C="string"==typeof p?h.lookupPath(p,{follow:!0}).node:p).node_ops.setattr)throw new h.ErrnoError(63);if(h.isDir(C.mode))throw new h.ErrnoError(31);if(!h.isFile(C.mode))throw new h.ErrnoError(28);var V=h.nodePermissions(C,"w");if(V)throw new h.ErrnoError(V);C.node_ops.setattr(C,{size:y,timestamp:Date.now()})},ftruncate:(p,y)=>{var C=h.getStream(p);if(!C)throw new h.ErrnoError(8);if(!(2097155&C.flags))throw new h.ErrnoError(28);h.truncate(C.node,y)},utime:(p,y,C)=>{var V=h.lookupPath(p,{follow:!0}).node;V.node_ops.setattr(V,{timestamp:Math.max(y,C)})},open:(p,y,C)=>{if(""===p)throw new h.ErrnoError(44);var A;if(C=typeof C>"u"?438:C,C=64&(y="string"==typeof y?h.modeStringToFlags(y):y)?4095&C|32768:0,"object"==typeof p)A=p;else{p=wt.normalize(p);try{A=h.lookupPath(p,{follow:!(131072&y)}).node}catch{}}var ye=!1;if(64&y)if(A){if(128&y)throw new h.ErrnoError(20)}else A=h.mknod(p,C,0),ye=!0;if(!A)throw new h.ErrnoError(44);if(h.isChrdev(A.mode)&&(y&=-513),65536&y&&!h.isDir(A.mode))throw new h.ErrnoError(54);if(!ye){var ke=h.mayOpen(A,y);if(ke)throw new h.ErrnoError(ke)}512&y&&!ye&&h.truncate(A,0),y&=-131713;var We=h.createStream({node:A,path:h.getPath(A),flags:y,seekable:!0,position:0,stream_ops:A.stream_ops,ungotten:[],error:!1});return We.stream_ops.open&&We.stream_ops.open(We),l.logReadFiles&&!(1&y)&&(h.readFiles||(h.readFiles={}),p in h.readFiles||(h.readFiles[p]=1)),We},close:p=>{if(h.isClosed(p))throw new h.ErrnoError(8);p.getdents&&(p.getdents=null);try{p.stream_ops.close&&p.stream_ops.close(p)}catch(y){throw y}finally{h.closeStream(p.fd)}p.fd=null},isClosed:p=>null===p.fd,llseek:(p,y,C)=>{if(h.isClosed(p))throw new h.ErrnoError(8);if(!p.seekable||!p.stream_ops.llseek)throw new h.ErrnoError(70);if(0!=C&&1!=C&&2!=C)throw new h.ErrnoError(28);return p.position=p.stream_ops.llseek(p,y,C),p.ungotten=[],p.position},read:(p,y,C,A,V)=>{if(A<0||V<0)throw new h.ErrnoError(28);if(h.isClosed(p))throw new h.ErrnoError(8);if(1==(2097155&p.flags))throw new h.ErrnoError(8);if(h.isDir(p.node.mode))throw new h.ErrnoError(31);if(!p.stream_ops.read)throw new h.ErrnoError(28);var ye=typeof V<"u";if(ye){if(!p.seekable)throw new h.ErrnoError(70)}else V=p.position;var ke=p.stream_ops.read(p,y,C,A,V);return ye||(p.position+=ke),ke},write:(p,y,C,A,V,ye)=>{if(A<0||V<0)throw new h.ErrnoError(28);if(h.isClosed(p))throw new h.ErrnoError(8);if(!(2097155&p.flags))throw new h.ErrnoError(8);if(h.isDir(p.node.mode))throw new h.ErrnoError(31);if(!p.stream_ops.write)throw new h.ErrnoError(28);p.seekable&&1024&p.flags&&h.llseek(p,0,2);var ke=typeof V<"u";if(ke){if(!p.seekable)throw new h.ErrnoError(70)}else V=p.position;var We=p.stream_ops.write(p,y,C,A,V,ye);return ke||(p.position+=We),We},allocate:(p,y,C)=>{if(h.isClosed(p))throw new h.ErrnoError(8);if(y<0||C<=0)throw new h.ErrnoError(28);if(!(2097155&p.flags))throw new h.ErrnoError(8);if(!h.isFile(p.node.mode)&&!h.isDir(p.node.mode))throw new h.ErrnoError(43);if(!p.stream_ops.allocate)throw new h.ErrnoError(138);p.stream_ops.allocate(p,y,C)},mmap:(p,y,C,A,V)=>{if(2&A&&!(2&V)&&2!=(2097155&p.flags))throw new h.ErrnoError(2);if(1==(2097155&p.flags))throw new h.ErrnoError(2);if(!p.stream_ops.mmap)throw new h.ErrnoError(43);return p.stream_ops.mmap(p,y,C,A,V)},msync:(p,y,C,A,V)=>p.stream_ops.msync?p.stream_ops.msync(p,y,C,A,V):0,munmap:p=>0,ioctl:(p,y,C)=>{if(!p.stream_ops.ioctl)throw new h.ErrnoError(59);return p.stream_ops.ioctl(p,y,C)},readFile:(p,y={})=>{if(y.flags=y.flags||0,y.encoding=y.encoding||"binary","utf8"!==y.encoding&&"binary"!==y.encoding)throw new Error('Invalid encoding type "'+y.encoding+'"');var C,A=h.open(p,y.flags),ye=h.stat(p).size,ke=new Uint8Array(ye);return h.read(A,ke,0,ye,0),"utf8"===y.encoding?C=Re(ke,0):"binary"===y.encoding&&(C=ke),h.close(A),C},writeFile:(p,y,C={})=>{C.flags=C.flags||577;var A=h.open(p,C.flags,C.mode);if("string"==typeof y){var V=new Uint8Array(Tr(y)+1),ye=Sr(y,V,0,V.length);h.write(A,V,0,ye,void 0,C.canOwn)}else{if(!ArrayBuffer.isView(y))throw new Error("Unsupported data type");h.write(A,y,0,y.byteLength,void 0,C.canOwn)}h.close(A)},cwd:()=>h.currentPath,chdir:p=>{var y=h.lookupPath(p,{follow:!0});if(null===y.node)throw new h.ErrnoError(44);if(!h.isDir(y.node.mode))throw new h.ErrnoError(54);var C=h.nodePermissions(y.node,"x");if(C)throw new h.ErrnoError(C);h.currentPath=y.path},createDefaultDirectories:()=>{h.mkdir("/tmp"),h.mkdir("/home"),h.mkdir("/home/web_user")},createDefaultDevices:()=>{h.mkdir("/dev"),h.registerDevice(h.makedev(1,3),{read:()=>0,write:(A,V,ye,ke,We)=>ke}),h.mkdev("/dev/null",h.makedev(1,3)),Qn.register(h.makedev(5,0),Qn.default_tty_ops),Qn.register(h.makedev(6,0),Qn.default_tty1_ops),h.mkdev("/dev/tty",h.makedev(5,0)),h.mkdev("/dev/tty1",h.makedev(6,0));var p=new Uint8Array(1024),y=0,C=()=>(0===y&&(y=_n(p).byteLength),p[--y]);h.createDevice("/dev","random",C),h.createDevice("/dev","urandom",C),h.mkdir("/dev/shm"),h.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{h.mkdir("/proc");var p=h.mkdir("/proc/self");h.mkdir("/proc/self/fd"),h.mount({mount:()=>{var y=h.createNode(p,"fd",16895,73);return y.node_ops={lookup:(C,A)=>{var ye=h.getStream(+A);if(!ye)throw new h.ErrnoError(8);var ke={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>ye.path}};return ke.parent=ke,ke}},y}},{},"/proc/self/fd")},createStandardStreams:()=>{l.stdin?h.createDevice("/dev","stdin",l.stdin):h.symlink("/dev/tty","/dev/stdin"),l.stdout?h.createDevice("/dev","stdout",null,l.stdout):h.symlink("/dev/tty","/dev/stdout"),l.stderr?h.createDevice("/dev","stderr",null,l.stderr):h.symlink("/dev/tty1","/dev/stderr"),h.open("/dev/stdin",0),h.open("/dev/stdout",1),h.open("/dev/stderr",1)},ensureErrnoError:()=>{h.ErrnoError||(h.ErrnoError=function(y,C){this.name="ErrnoError",this.node=C,this.setErrno=function(A){this.errno=A},this.setErrno(y),this.message="FS error"},h.ErrnoError.prototype=new Error,h.ErrnoError.prototype.constructor=h.ErrnoError,[44].forEach(p=>{h.genericErrors[p]=new h.ErrnoError(p),h.genericErrors[p].stack="<generic error, no stack>"}))},staticInit:()=>{h.ensureErrnoError(),h.nameTable=new Array(4096),h.mount(ft,{},"/"),h.createDefaultDirectories(),h.createDefaultDevices(),h.createSpecialDirectories(),h.filesystems={MEMFS:ft}},init:(p,y,C)=>{h.init.initialized=!0,h.ensureErrnoError(),l.stdin=p||l.stdin,l.stdout=y||l.stdout,l.stderr=C||l.stderr,h.createStandardStreams()},quit:()=>{h.init.initialized=!1;for(var p=0;p<h.streams.length;p++){var y=h.streams[p];y&&h.close(y)}},getMode:(p,y)=>{var C=0;return p&&(C|=365),y&&(C|=146),C},findObject:(p,y)=>{var C=h.analyzePath(p,y);return C.exists?C.object:null},analyzePath:(p,y)=>{try{p=(C=h.lookupPath(p,{follow:!y})).path}catch{}var A={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var C=h.lookupPath(p,{parent:!0});A.parentExists=!0,A.parentPath=C.path,A.parentObject=C.node,A.name=wt.basename(p),C=h.lookupPath(p,{follow:!y}),A.exists=!0,A.path=C.path,A.object=C.node,A.name=C.node.name,A.isRoot="/"===C.path}catch(V){A.error=V.errno}return A},createPath:(p,y,C,A)=>{p="string"==typeof p?p:h.getPath(p);for(var V=y.split("/").reverse();V.length;){var ye=V.pop();if(ye){var ke=wt.join2(p,ye);try{h.mkdir(ke)}catch{}p=ke}}return ke},createFile:(p,y,C,A,V)=>{var ye=wt.join2("string"==typeof p?p:h.getPath(p),y),ke=h.getMode(A,V);return h.create(ye,ke)},createDataFile:(p,y,C,A,V,ye)=>{var ke=y;p&&(p="string"==typeof p?p:h.getPath(p),ke=y?wt.join2(p,y):p);var We=h.getMode(A,V),It=h.create(ke,We);if(C){if("string"==typeof C){for(var ln=new Array(C.length),Bn=0,sr=C.length;Bn<sr;++Bn)ln[Bn]=C.charCodeAt(Bn);C=ln}h.chmod(It,146|We);var Le=h.open(It,577);h.write(Le,C,0,C.length,0,ye),h.close(Le),h.chmod(It,We)}return It},createDevice:(p,y,C,A)=>{var V=wt.join2("string"==typeof p?p:h.getPath(p),y),ye=h.getMode(!!C,!!A);h.createDevice.major||(h.createDevice.major=64);var ke=h.makedev(h.createDevice.major++,0);return h.registerDevice(ke,{open:We=>{We.seekable=!1},close:We=>{A&&A.buffer&&A.buffer.length&&A(10)},read:(We,It,ln,Bn,sr)=>{for(var Le=0,cn=0;cn<Bn;cn++){var Fn;try{Fn=C()}catch{throw new h.ErrnoError(29)}if(void 0===Fn&&0===Le)throw new h.ErrnoError(6);if(null==Fn)break;Le++,It[ln+cn]=Fn}return Le&&(We.node.timestamp=Date.now()),Le},write:(We,It,ln,Bn,sr)=>{for(var Le=0;Le<Bn;Le++)try{A(It[ln+Le])}catch{throw new h.ErrnoError(29)}return Bn&&(We.node.timestamp=Date.now()),Le}}),h.mkdev(V,ye,ke)},forceLoadFile:p=>{if(p.isDevice||p.isFolder||p.link||p.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!j)throw new Error("Cannot load without read() or XMLHttpRequest.");try{p.contents=Kr(j(p.url),!0),p.usedBytes=p.contents.length}catch{throw new h.ErrnoError(29)}},createLazyFile:(p,y,C,A,V)=>{function ye(){this.lengthKnown=!1,this.chunks=[]}if(ye.prototype.get=function(cn){if(!(cn>this.length-1||cn<0)){var Fn=cn%this.chunkSize;return this.getter(cn/this.chunkSize|0)[Fn]}},ye.prototype.setDataGetter=function(cn){this.getter=cn},ye.prototype.cacheLength=function(){var cn=new XMLHttpRequest;if(cn.open("HEAD",C,!1),cn.send(null),!(cn.status>=200&&cn.status<300||304===cn.status))throw new Error("Couldn't load "+C+". Status: "+cn.status);var Hr,Fn=Number(cn.getResponseHeader("Content-length")),Wn=(Hr=cn.getResponseHeader("Accept-Ranges"))&&"bytes"===Hr,so=(Hr=cn.getResponseHeader("Content-Encoding"))&&"gzip"===Hr,gt=1048576;Wn||(gt=Fn);var jn=this;jn.setDataGetter(Pt=>{var Gn=Pt*gt,pn=(Pt+1)*gt-1;if(pn=Math.min(pn,Fn-1),typeof jn.chunks[Pt]>"u"&&(jn.chunks[Pt]=((Pt,Gn)=>{if(Pt>Gn)throw new Error("invalid range ("+Pt+", "+Gn+") or no bytes requested!");if(Gn>Fn-1)throw new Error("only "+Fn+" bytes available! programmer error!");var pn=new XMLHttpRequest;if(pn.open("GET",C,!1),Fn!==gt&&pn.setRequestHeader("Range","bytes="+Pt+"-"+Gn),pn.responseType="arraybuffer",pn.overrideMimeType&&pn.overrideMimeType("text/plain; charset=x-user-defined"),pn.send(null),!(pn.status>=200&&pn.status<300||304===pn.status))throw new Error("Couldn't load "+C+". Status: "+pn.status);return void 0!==pn.response?new Uint8Array(pn.response||[]):Kr(pn.responseText||"",!0)})(Gn,pn)),typeof jn.chunks[Pt]>"u")throw new Error("doXHR failed!");return jn.chunks[Pt]}),(so||!Fn)&&(gt=Fn=1,Fn=this.getter(0).length,gt=Fn,H("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Fn,this._chunkSize=gt,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!Y)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var ke=new ye;Object.defineProperties(ke,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var We={isDevice:!1,contents:ke}}else We={isDevice:!1,url:C};var It=h.createFile(p,y,We,A,V);We.contents?It.contents=We.contents:We.url&&(It.contents=null,It.url=We.url),Object.defineProperties(It,{usedBytes:{get:function(){return this.contents.length}}});var ln={};function sr(Le,cn,Fn,Hr,Wn){var so=Le.node.contents;if(Wn>=so.length)return 0;var gt=Math.min(so.length-Wn,Hr);if(so.slice)for(var at=0;at<gt;at++)cn[Fn+at]=so[Wn+at];else for(at=0;at<gt;at++)cn[Fn+at]=so.get(Wn+at);return gt}return Object.keys(It.stream_ops).forEach(Le=>{var cn=It.stream_ops[Le];ln[Le]=function(){return h.forceLoadFile(It),cn.apply(null,arguments)}}),ln.read=(Le,cn,Fn,Hr,Wn)=>(h.forceLoadFile(It),sr(Le,cn,Fn,Hr,Wn)),ln.mmap=(Le,cn,Fn,Hr,Wn)=>{h.forceLoadFile(It);var so=fr();if(!so)throw new h.ErrnoError(48);return sr(Le,ue,so,cn,Fn),{ptr:so,allocated:!0}},It.stream_ops=ln,It},createPreloadedFile:(p,y,C,A,V,ye,ke,We,It,ln)=>{var Bn=y?Yn.resolve(wt.join2(p,y)):p;function Le(cn){function Fn(Hr){ln&&ln(),We||h.createDataFile(p,y,Hr,A,V,It),ye&&ye(),to()}Browser.handledByPreloadPlugin(cn,Bn,Fn,()=>{ke&&ke(),to()})||Fn(cn)}Or(),"string"==typeof C?function Er(p,y,C,A){var V=A?"":"al "+p;Me(p,ye=>{_e(ye,'Loading data file "'+p+'" failed (no arrayBuffer).'),y(new Uint8Array(ye)),V&&to()},ye=>{if(!C)throw'Loading data file "'+p+'" failed.';C()}),V&&Or()}(C,cn=>Le(cn),ke):Le(C)}},mn={DEFAULT_POLLMASK:5,calculateAt:function(p,y,C){if(wt.isAbs(y))return y;var A;if(A=-100===p?h.cwd():mn.getStreamFromFD(p).path,0==y.length){if(!C)throw new h.ErrnoError(44);return A}return wt.join2(A,y)},doStat:function(p,y,C){try{var A=p(y)}catch(We){if(We&&We.node&&wt.normalize(y)!==wt.normalize(h.getPath(We.node)))return-54;throw We}k[C>>2]=A.dev,k[C+8>>2]=A.ino,k[C+12>>2]=A.mode,fe[C+16>>2]=A.nlink,k[C+20>>2]=A.uid,k[C+24>>2]=A.gid,k[C+28>>2]=A.rdev,Vt=[A.size>>>0,(tt=A.size,+Math.abs(tt)>=1?tt>0?(0|Math.min(+Math.floor(tt/4294967296),4294967295))>>>0:~~+Math.ceil((tt-+(~~tt>>>0))/4294967296)>>>0:0)],k[C+40>>2]=Vt[0],k[C+44>>2]=Vt[1],k[C+48>>2]=4096,k[C+52>>2]=A.blocks;var V=A.atime.getTime(),ye=A.mtime.getTime(),ke=A.ctime.getTime();return Vt=[Math.floor(V/1e3)>>>0,(tt=Math.floor(V/1e3),+Math.abs(tt)>=1?tt>0?(0|Math.min(+Math.floor(tt/4294967296),4294967295))>>>0:~~+Math.ceil((tt-+(~~tt>>>0))/4294967296)>>>0:0)],k[C+56>>2]=Vt[0],k[C+60>>2]=Vt[1],fe[C+64>>2]=V%1e3*1e3,Vt=[Math.floor(ye/1e3)>>>0,(tt=Math.floor(ye/1e3),+Math.abs(tt)>=1?tt>0?(0|Math.min(+Math.floor(tt/4294967296),4294967295))>>>0:~~+Math.ceil((tt-+(~~tt>>>0))/4294967296)>>>0:0)],k[C+72>>2]=Vt[0],k[C+76>>2]=Vt[1],fe[C+80>>2]=ye%1e3*1e3,Vt=[Math.floor(ke/1e3)>>>0,(tt=Math.floor(ke/1e3),+Math.abs(tt)>=1?tt>0?(0|Math.min(+Math.floor(tt/4294967296),4294967295))>>>0:~~+Math.ceil((tt-+(~~tt>>>0))/4294967296)>>>0:0)],k[C+88>>2]=Vt[0],k[C+92>>2]=Vt[1],fe[C+96>>2]=ke%1e3*1e3,Vt=[A.ino>>>0,(tt=A.ino,+Math.abs(tt)>=1?tt>0?(0|Math.min(+Math.floor(tt/4294967296),4294967295))>>>0:~~+Math.ceil((tt-+(~~tt>>>0))/4294967296)>>>0:0)],k[C+104>>2]=Vt[0],k[C+108>>2]=Vt[1],0},doMsync:function(p,y,C,A,V){if(!h.isFile(y.node.mode))throw new h.ErrnoError(43);if(2&A)return 0;var ye=Ke.slice(p,p+C);h.msync(y,ye,V,C,A)},varargs:void 0,get:function(){return mn.varargs+=4,k[mn.varargs-4>>2]},getStr:function(p){return hn(p)},getStreamFromFD:function(p){var y=h.getStream(p);if(!y)throw new h.ErrnoError(8);return y}};function no(p){return fe[p>>2]+4294967296*k[p+4>>2]}function Zo(p){return p%4==0&&(p%100!=0||p%400==0)}var qo=[0,31,60,91,121,152,182,213,244,274,305,335],ls=[0,31,59,90,120,151,181,212,243,273,304,334];function _r(p){var y=Tr(p)+1,C=nl(y);return C&&function Ai(p,y,C){Sr(p,Ke,y,C)}(p,C,y),C}var Yo=[];function Ko(p){var y=ae.buffer;try{return ae.grow(p-y.byteLength+65535>>>16),tn(),1}catch{}}var lo={};function Oi(){if(!Oi.strings){var y={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:N||"./this.program"};for(var C in lo)void 0===lo[C]?delete y[C]:y[C]=lo[C];var A=[];for(var C in y)A.push(C+"="+y[C]);Oi.strings=A}return Oi.strings}function Kn(p,y){ie=p,function Vs(p){ie=p,function Ce(){return Te||!1}()||(l.onExit&&l.onExit(p),ot=!0),B(p,new Nr(p))}(p)}var _i=Kn,F=[31,29,31,30,31,30,31,31,30,31,30,31],le=[31,28,31,30,31,30,31,31,30,31,30,31];var bt=function(p,y,C,A){p||(p=this),this.parent=p,this.mount=p.mount,this.mounted=null,this.id=h.nextInode++,this.name=y,this.mode=C,this.node_ops={},this.stream_ops={},this.rdev=A};Object.defineProperties(bt.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(p){p?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(p){p?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return h.isDir(this.mode)}},isDevice:{get:function(){return h.isChrdev(this.mode)}}}),h.FSNode=bt,h.staticInit();var ps,No={b:function fn(p,y,C,A){kn("Assertion failed: "+hn(p)+", at: "+[y?hn(y):"unknown filename",C,A?hn(A):"unknown function"])},i:function I(p,y,C,A){mn.varargs=A;try{y=mn.getStr(y),y=mn.calculateAt(p,y);var V=A?mn.get():0;return h.open(y,C,V).fd}catch(ye){if(typeof h>"u"||"ErrnoError"!==ye.name)throw ye;return-ye.errno}},n:function mi(p,y){var C=new Date(1e3*no(p));k[y>>2]=C.getUTCSeconds(),k[y+4>>2]=C.getUTCMinutes(),k[y+8>>2]=C.getUTCHours(),k[y+12>>2]=C.getUTCDate(),k[y+16>>2]=C.getUTCMonth(),k[y+20>>2]=C.getUTCFullYear()-1900,k[y+24>>2]=C.getUTCDay();var A=Date.UTC(C.getUTCFullYear(),0,1,0,0,0,0),V=(C.getTime()-A)/864e5|0;k[y+28>>2]=V},o:function go(p,y){var C=new Date(1e3*no(p));k[y>>2]=C.getSeconds(),k[y+4>>2]=C.getMinutes(),k[y+8>>2]=C.getHours(),k[y+12>>2]=C.getDate(),k[y+16>>2]=C.getMonth(),k[y+20>>2]=C.getFullYear()-1900,k[y+24>>2]=C.getDay();var A=0|function Oo(p){return(Zo(p.getFullYear())?qo:ls)[p.getMonth()]+p.getDate()-1}(C);k[y+28>>2]=A,k[y+36>>2]=-60*C.getTimezoneOffset();var V=new Date(C.getFullYear(),0,1),ye=new Date(C.getFullYear(),6,1).getTimezoneOffset(),ke=V.getTimezoneOffset(),We=0|(ye!=ke&&C.getTimezoneOffset()==Math.min(ke,ye));k[y+32>>2]=We},m:function li(p,y,C){var A=(new Date).getFullYear(),V=new Date(A,0,1),ye=new Date(A,6,1),ke=V.getTimezoneOffset(),We=ye.getTimezoneOffset(),It=Math.max(ke,We);function ln(Fn){var Hr=Fn.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Hr?Hr[1]:"GMT"}fe[p>>2]=60*It,k[y>>2]=Number(ke!=We);var Bn=ln(V),sr=ln(ye),Le=_r(Bn),cn=_r(sr);We<ke?(fe[C>>2]=Le,fe[C+4>>2]=cn):(fe[C>>2]=cn,fe[C+4>>2]=Le)},c:function ro(){kn("")},a:function oo(p,y,C){return function xo(p,y,C){var A=function gi(p,y){var C;for(Yo.length=0,y>>=2;C=Ke[p++];)y+=105!=C&y,Yo.push(105==C?k[y]:Ct[y++>>1]),++y;return Yo}(y,C);return Zi[p].apply(null,A)}(p,y,C)},e:function cs(){return Date.now()},g:function Pi(p,y,C){Ke.copyWithin(p,y,y+C)},l:function Fi(p){var It,y=Ke.length,C=2147483648;if((p>>>=0)>C)return!1;for(var V=1;V<=4;V*=2){var ye=y*(1+.2/V);if(ye=Math.min(ye,p+100663296),Ko(Math.min(C,(It=Math.max(p,ye))+(65536-It%65536)%65536)))return!0}return!1},p:function us(p,y){var C=0;return Oi().forEach(function(A,V){var ye=y+C;fe[p+4*V>>2]=ye,function Is(p,y){for(var C=0;C<p.length;++C)ue[y++>>0]=p.charCodeAt(C);ue[y>>0]=0}(A,ye),C+=A.length+1}),0},q:function ds(p,y){var C=Oi();fe[p>>2]=C.length;var A=0;return C.forEach(function(V){A+=V.length+1}),fe[y>>2]=A,0},r:_i,f:function Us(p){try{var y=mn.getStreamFromFD(p);return h.close(y),0}catch(C){if(typeof h>"u"||"ErrnoError"!==C.name)throw C;return C.errno}},d:function rr(p,y,C,A){try{var ye=function fs(p,y,C,A){for(var V=0,ye=0;ye<C;ye++){var ke=fe[y>>2],We=fe[y+4>>2];y+=8;var It=h.read(p,ue,ke,We,A);if(It<0)return-1;if(V+=It,It<We)break;typeof A<"u"&&(A+=It)}return V}(mn.getStreamFromFD(p),y,C);return fe[A>>2]=ye,0}catch(ke){if(typeof h>"u"||"ErrnoError"!==ke.name)throw ke;return ke.errno}},j:function O(p,y,C,A,V){try{var ye=function P(p,y){return y+2097152>>>0<4194305-!!p?(p>>>0)+4294967296*y:NaN}(y,C);if(isNaN(ye))return 61;var ke=mn.getStreamFromFD(p);return h.llseek(ke,ye,A),Vt=[ke.position>>>0,(tt=ke.position,+Math.abs(tt)>=1?tt>0?(0|Math.min(+Math.floor(tt/4294967296),4294967295))>>>0:~~+Math.ceil((tt-+(~~tt>>>0))/4294967296)>>>0:0)],k[V>>2]=Vt[0],k[V+4>>2]=Vt[1],ke.getdents&&0===ye&&0===A&&(ke.getdents=null),0}catch(We){if(typeof h>"u"||"ErrnoError"!==We.name)throw We;return We.errno}},h:function be(p,y,C,A){try{var ye=function pe(p,y,C,A){for(var V=0,ye=0;ye<C;ye++){var ke=fe[y>>2],We=fe[y+4>>2];y+=8;var It=h.write(p,ue,ke,We,A);if(It<0)return-1;V+=It,typeof A<"u"&&(A+=It)}return V}(mn.getStreamFromFD(p),y,C);return fe[A>>2]=ye,0}catch(ke){if(typeof h>"u"||"ErrnoError"!==ke.name)throw ke;return ke.errno}},k:function Se(p,y,C,A,V){return function it(p,y,C,A){var V=k[A+40>>2],ye={tm_sec:k[A>>2],tm_min:k[A+4>>2],tm_hour:k[A+8>>2],tm_mday:k[A+12>>2],tm_mon:k[A+16>>2],tm_year:k[A+20>>2],tm_wday:k[A+24>>2],tm_yday:k[A+28>>2],tm_isdst:k[A+32>>2],tm_gmtoff:k[A+36>>2],tm_zone:V?hn(V):""},ke=hn(C),We={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var It in We)ke=ke.replace(new RegExp(It,"g"),We[It]);var ln=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Bn=["January","February","March","April","May","June","July","August","September","October","November","December"];function sr(gt,at,jn){for(var Pt="number"==typeof gt?gt.toString():gt||"";Pt.length<at;)Pt=jn[0]+Pt;return Pt}function Le(gt,at){return sr(gt,at,"0")}function cn(gt,at){function jn(Gn){return Gn<0?-1:Gn>0?1:0}var Pt;return 0===(Pt=jn(gt.getFullYear()-at.getFullYear()))&&0===(Pt=jn(gt.getMonth()-at.getMonth()))&&(Pt=jn(gt.getDate()-at.getDate())),Pt}function Fn(gt){switch(gt.getDay()){case 0:return new Date(gt.getFullYear()-1,11,29);case 1:return gt;case 2:return new Date(gt.getFullYear(),0,3);case 3:return new Date(gt.getFullYear(),0,2);case 4:return new Date(gt.getFullYear(),0,1);case 5:return new Date(gt.getFullYear()-1,11,31);case 6:return new Date(gt.getFullYear()-1,11,30)}}function Hr(gt){var at=function Ie(p,y){for(var C=new Date(p.getTime());y>0;){var A=Zo(C.getFullYear()),V=C.getMonth(),ye=(A?F:le)[V];if(!(y>ye-C.getDate()))return C.setDate(C.getDate()+y),C;y-=ye-C.getDate()+1,C.setDate(1),V<11?C.setMonth(V+1):(C.setMonth(0),C.setFullYear(C.getFullYear()+1))}return C}(new Date(gt.tm_year+1900,0,1),gt.tm_yday),jn=new Date(at.getFullYear(),0,4),Pt=new Date(at.getFullYear()+1,0,4),Gn=Fn(jn),pn=Fn(Pt);return cn(Gn,at)<=0?cn(pn,at)<=0?at.getFullYear()+1:at.getFullYear():at.getFullYear()-1}var Wn={"%a":function(gt){return ln[gt.tm_wday].substring(0,3)},"%A":function(gt){return ln[gt.tm_wday]},"%b":function(gt){return Bn[gt.tm_mon].substring(0,3)},"%B":function(gt){return Bn[gt.tm_mon]},"%C":function(gt){return Le((gt.tm_year+1900)/100|0,2)},"%d":function(gt){return Le(gt.tm_mday,2)},"%e":function(gt){return sr(gt.tm_mday,2," ")},"%g":function(gt){return Hr(gt).toString().substring(2)},"%G":function(gt){return Hr(gt)},"%H":function(gt){return Le(gt.tm_hour,2)},"%I":function(gt){var at=gt.tm_hour;return 0==at?at=12:at>12&&(at-=12),Le(at,2)},"%j":function(gt){return Le(gt.tm_mday+function Fe(p,y){for(var C=0,A=0;A<=y;C+=p[A++]);return C}(Zo(gt.tm_year+1900)?F:le,gt.tm_mon-1),3)},"%m":function(gt){return Le(gt.tm_mon+1,2)},"%M":function(gt){return Le(gt.tm_min,2)},"%n":function(){return"\n"},"%p":function(gt){return gt.tm_hour>=0&&gt.tm_hour<12?"AM":"PM"},"%S":function(gt){return Le(gt.tm_sec,2)},"%t":function(){return"\t"},"%u":function(gt){return gt.tm_wday||7},"%U":function(gt){return Le(Math.floor((gt.tm_yday+7-gt.tm_wday)/7),2)},"%V":function(gt){var at=Math.floor((gt.tm_yday+7-(gt.tm_wday+6)%7)/7);if((gt.tm_wday+371-gt.tm_yday-2)%7<=2&&at++,at){if(53==at){var Pt=(gt.tm_wday+371-gt.tm_yday)%7;4!=Pt&&(3!=Pt||!Zo(gt.tm_year))&&(at=1)}}else{at=52;var jn=(gt.tm_wday+7-gt.tm_yday-1)%7;(4==jn||5==jn&&Zo(gt.tm_year%400-1))&&at++}return Le(at,2)},"%w":function(gt){return gt.tm_wday},"%W":function(gt){return Le(Math.floor((gt.tm_yday+7-(gt.tm_wday+6)%7)/7),2)},"%y":function(gt){return(gt.tm_year+1900).toString().substring(2)},"%Y":function(gt){return gt.tm_year+1900},"%z":function(gt){var at=gt.tm_gmtoff,jn=at>=0;return at=(at=Math.abs(at)/60)/60*100+at%60,(jn?"+":"-")+String("0000"+at).slice(-4)},"%Z":function(gt){return gt.tm_zone},"%%":function(){return"%"}};for(var It in ke=ke.replace(/%%/g,"\0\0"),Wn)ke.includes(It)&&(ke=ke.replace(new RegExp(It,"g"),Wn[It](ye)));var so=Kr(ke=ke.replace(/\0\0/g,"%"),!1);return so.length>y?0:(function rt(p,y){ue.set(p,y)}(so,p),so.length-1)}(p,y,C,A)}},nl=(function Fo(){var p={a:No};function y(A,V){var ye=A.exports;return l.asm=ye,ae=l.asm.s,tn(),function Jt(p){He.unshift(p)}(l.asm.t),to(),ye}if(Or(),l.instantiateWasm)try{return l.instantiateWasm(p,y)}catch(A){q("Module.instantiateWasm callback failed with error: "+A),J(A)}(function Yr(p,y,C,A){return p||"function"!=typeof WebAssembly.instantiateStreaming||wr(y)||"function"!=typeof fetch?ai(y,C,A):fetch(y,{credentials:"same-origin"}).then(function(V){return WebAssembly.instantiateStreaming(V,C).then(A,function(ke){return q("wasm streaming compile failed: "+ke),q("falling back to ArrayBuffer instantiation"),ai(y,C,A)})})})(ce,gr,p,function C(A){y(A.instance)}).catch(J)}(),l._free=function(){return(l._free=l.asm.u).apply(null,arguments)},l._malloc=function(){return(nl=l._malloc=l.asm.v).apply(null,arguments)}),Bl=l._emscripten_bind_VoidPtr___destroy___0=function(){return(Bl=l._emscripten_bind_VoidPtr___destroy___0=l.asm.w).apply(null,arguments)},To=l._emscripten_bind_FSTools_FSTools_0=function(){return(To=l._emscripten_bind_FSTools_FSTools_0=l.asm.x).apply(null,arguments)},Vl=l._emscripten_bind_FSTools_Malloc_1=function(){return(Vl=l._emscripten_bind_FSTools_Malloc_1=l.asm.y).apply(null,arguments)},rl=l._emscripten_bind_FSTools_Free_1=function(){return(rl=l._emscripten_bind_FSTools_Free_1=l.asm.z).apply(null,arguments)},Ul=l._emscripten_bind_FSTools_Nullptr_0=function(){return(Ul=l._emscripten_bind_FSTools_Nullptr_0=l.asm.A).apply(null,arguments)},ol=l._emscripten_bind_FSTools___destroy___0=function(){return(ol=l._emscripten_bind_FSTools___destroy___0=l.asm.B).apply(null,arguments)},il=l._emscripten_bind_MkfsContext_MkfsContext_0=function(){return(il=l._emscripten_bind_MkfsContext_MkfsContext_0=l.asm.C).apply(null,arguments)},sl=l._emscripten_bind_MkfsContext_Mkfs_2=function(){return(sl=l._emscripten_bind_MkfsContext_Mkfs_2=l.asm.D).apply(null,arguments)},js=l._emscripten_bind_MkfsContext_GetImage_0=function(){return(js=l._emscripten_bind_MkfsContext_GetImage_0=l.asm.E).apply(null,arguments)},ra=l._emscripten_bind_MkfsContext_GetImageSize_0=function(){return(ra=l._emscripten_bind_MkfsContext_GetImageSize_0=l.asm.F).apply(null,arguments)},Lo=l._emscripten_bind_MkfsContext___destroy___0=function(){return(Lo=l._emscripten_bind_MkfsContext___destroy___0=l.asm.G).apply(null,arguments)},or=l._emscripten_bind_FsckContext_FsckContext_1=function(){return(or=l._emscripten_bind_FsckContext_FsckContext_1=l.asm.H).apply(null,arguments)},jl=l._emscripten_bind_FsckContext_GetImage_0=function(){return(jl=l._emscripten_bind_FsckContext_GetImage_0=l.asm.I).apply(null,arguments)},al=l._emscripten_bind_FsckContext_GetDirtyPages_0=function(){return(al=l._emscripten_bind_FsckContext_GetDirtyPages_0=l.asm.J).apply(null,arguments)},Gl=l._emscripten_bind_FsckContext_GetImageSize_0=function(){return(Gl=l._emscripten_bind_FsckContext_GetImageSize_0=l.asm.K).apply(null,arguments)},pt=l._emscripten_bind_FsckContext_Fsck_0=function(){return(pt=l._emscripten_bind_FsckContext_Fsck_0=l.asm.L).apply(null,arguments)},ll=l._emscripten_bind_FsckContext_GetResult_0=function(){return(ll=l._emscripten_bind_FsckContext_GetResult_0=l.asm.M).apply(null,arguments)},Dr=l._emscripten_bind_FsckContext___destroy___0=function(){return(Dr=l._emscripten_bind_FsckContext___destroy___0=l.asm.N).apply(null,arguments)},ks=l._emscripten_bind_GunzipContext_GunzipContext_3=function(){return(ks=l._emscripten_bind_GunzipContext_GunzipContext_3=l.asm.O).apply(null,arguments)},wa=l._emscripten_bind_GunzipContext_GetState_0=function(){return(wa=l._emscripten_bind_GunzipContext_GetState_0=l.asm.P).apply(null,arguments)},oa=l._emscripten_bind_GunzipContext_Continue_0=function(){return(oa=l._emscripten_bind_GunzipContext_Continue_0=l.asm.Q).apply(null,arguments)},Sa=l._emscripten_bind_GunzipContext_GetUncompressedData_0=function(){return(Sa=l._emscripten_bind_GunzipContext_GetUncompressedData_0=l.asm.R).apply(null,arguments)},Ea=l._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=function(){return(Ea=l._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=l.asm.S).apply(null,arguments)},ia=l._emscripten_bind_GunzipContext_GetUncompressedSize_0=function(){return(ia=l._emscripten_bind_GunzipContext_GetUncompressedSize_0=l.asm.T).apply(null,arguments)},xs=l._emscripten_bind_GunzipContext_GetError_0=function(){return(xs=l._emscripten_bind_GunzipContext_GetError_0=l.asm.U).apply(null,arguments)},Gs=l._emscripten_bind_GunzipContext___destroy___0=function(){return(Gs=l._emscripten_bind_GunzipContext___destroy___0=l.asm.V).apply(null,arguments)},sa=l._emscripten_bind_GzipContext_GzipContext_3=function(){return(sa=l._emscripten_bind_GzipContext_GzipContext_3=l.asm.W).apply(null,arguments)},Da=l._emscripten_bind_GzipContext_SetFilename_1=function(){return(Da=l._emscripten_bind_GzipContext_SetFilename_1=l.asm.X).apply(null,arguments)},sn=l._emscripten_bind_GzipContext_SetMtime_1=function(){return(sn=l._emscripten_bind_GzipContext_SetMtime_1=l.asm.Y).apply(null,arguments)},Hs=l._emscripten_bind_GzipContext_Continue_0=function(){return(Hs=l._emscripten_bind_GzipContext_Continue_0=l.asm.Z).apply(null,arguments)},Ia=l._emscripten_bind_GzipContext_GetState_0=function(){return(Ia=l._emscripten_bind_GzipContext_GetState_0=l.asm._).apply(null,arguments)},Ao=l._emscripten_bind_GzipContext_GetGzipData_0=function(){return(Ao=l._emscripten_bind_GzipContext_GetGzipData_0=l.asm.$).apply(null,arguments)},aa=l._emscripten_bind_GzipContext_GetGzipSize_0=function(){return(aa=l._emscripten_bind_GzipContext_GetGzipSize_0=l.asm.aa).apply(null,arguments)},cl=l._emscripten_bind_GzipContext_GetError_0=function(){return(cl=l._emscripten_bind_GzipContext_GetError_0=l.asm.ba).apply(null,arguments)},pr=l._emscripten_bind_GzipContext___destroy___0=function(){return(pr=l._emscripten_bind_GzipContext___destroy___0=l.asm.ca).apply(null,arguments)},ul=l._main=function(){return(ul=l._main=l.asm.da).apply(null,arguments)};function ka(){function p(){ps||(ps=!0,l.calledRun=!0,!ot&&(function Pe(){!l.noFSInit&&!h.init.initialized&&h.init(),h.ignorePermissions=!1,Qn.init(),ko(He)}(),function Dt(){ko(et)}(),te(l),l.onRuntimeInitialized&&l.onRuntimeInitialized(),xa&&function Ws(){var p=ul;try{var A=p(0,0);return Kn(A),A}catch(V){return function Lt(p){if(p instanceof Nr||"unwind"==p)return ie;B(1,p)}(V)}}(),function on(){if(l.postRun)for("function"==typeof l.postRun&&(l.postRun=[l.postRun]);l.postRun.length;)p=l.postRun.shift(),Je.unshift(p);var p;ko(Je)}()))}Nt>0||(function ht(){if(l.preRun)for("function"==typeof l.preRun&&(l.preRun=[l.preRun]);l.preRun.length;)p=l.preRun.shift(),Ee.unshift(p);var p;ko(Ee)}(),Nt>0)||(l.setStatus?(l.setStatus("Running..."),setTimeout(function(){setTimeout(function(){l.setStatus("")},1),p()},1)):p())}if(l.___original_main=function(){return(l.___original_main=l.asm.fa).apply(null,arguments)},l.___start_em_js=1092444,l.___stop_em_js=1092542,In=function p(){ps||ka(),ps||(In=p)},l.preInit)for("function"==typeof l.preInit&&(l.preInit=[l.preInit]);l.preInit.length>0;)l.preInit.pop()();var xa=!0;function co(){}function vi(p){return(p||co).__cache__}function io(p,y){var C=vi(y),A=C[p];return A||((A=Object.create((y||co).prototype)).ptr=p,C[p]=A)}l.noInitialRun&&(xa=!1),ka(),(co.prototype=Object.create(co.prototype)).constructor=co,co.prototype.__class__=co,co.__cache__={},l.WrapperObject=co,l.getCache=vi,l.wrapPointer=io,l.castObject=function hs(p,y){return io(p.ptr,y)},l.NULL=io(0),l.destroy=function dl(p){if(!p.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";p.__destroy__(),delete vi(p.__class__)[p.ptr]},l.compare=function he(p,y){return p.ptr===y.ptr},l.getPointer=function Ma(p){return p.ptr},l.getClass=function An(p){return p.__class__};var Jn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(Jn.needed){for(var p=0;p<Jn.temps.length;p++)l._free(Jn.temps[p]);Jn.temps.length=0,l._free(Jn.buffer),Jn.buffer=0,Jn.size+=Jn.needed,Jn.needed=0}Jn.buffer||(Jn.size+=128,Jn.buffer=l._malloc(Jn.size),_e(Jn.buffer)),Jn.pos=0},alloc:function(p,y){_e(Jn.buffer);var V,A=p.length*y.BYTES_PER_ELEMENT;return Jn.pos+(A=A+7&-8)>=Jn.size?(_e(A>0),Jn.needed+=A,V=l._malloc(A),Jn.temps.push(V)):(V=Jn.buffer+Jn.pos,Jn.pos+=A),V},copy:function(p,y,C){switch(C>>>=0,y.BYTES_PER_ELEMENT){case 2:C>>>=1;break;case 4:C>>>=2;break;case 8:C>>>=3}for(var V=0;V<p.length;V++)y[C+V]=p[V]}};function Zs(p){if("string"==typeof p){var y=Kr(p),C=Jn.alloc(y,ue);return Jn.copy(y,ue,C),C}return p}function Ur(){throw"cannot construct a VoidPtr, no constructor in IDL"}function uo(){this.ptr=To(),vi(uo)[this.ptr]=this}function fo(){this.ptr=il(),vi(fo)[this.ptr]=this}function Gr(p){p&&"object"==typeof p&&(p=p.ptr),this.ptr=or(p),vi(Gr)[this.ptr]=this}function ir(p,y,C){p&&"object"==typeof p&&(p=p.ptr),y&&"object"==typeof y&&(y=y.ptr),C&&"object"==typeof C&&(C=C.ptr),this.ptr=ks(p,y,C),vi(ir)[this.ptr]=this}function $n(p,y,C){p&&"object"==typeof p&&(p=p.ptr),y&&"object"==typeof y&&(y=y.ptr),C&&"object"==typeof C&&(C=C.ptr),this.ptr=sa(p,y,C),vi($n)[this.ptr]=this}return(Ur.prototype=Object.create(co.prototype)).constructor=Ur,Ur.prototype.__class__=Ur,Ur.__cache__={},l.VoidPtr=Ur,Ur.prototype.__destroy__=Ur.prototype.__destroy__=function(){Bl(this.ptr)},(uo.prototype=Object.create(co.prototype)).constructor=uo,uo.prototype.__class__=uo,uo.__cache__={},l.FSTools=uo,uo.prototype.Malloc=uo.prototype.Malloc=function(p){return p&&"object"==typeof p&&(p=p.ptr),io(Vl(this.ptr,p),Ur)},uo.prototype.Free=uo.prototype.Free=function(p){p&&"object"==typeof p&&(p=p.ptr),rl(this.ptr,p)},uo.prototype.Nullptr=uo.prototype.Nullptr=function(){return io(Ul(this.ptr),Ur)},uo.prototype.__destroy__=uo.prototype.__destroy__=function(){ol(this.ptr)},(fo.prototype=Object.create(co.prototype)).constructor=fo,fo.prototype.__class__=fo,fo.__cache__={},l.MkfsContext=fo,fo.prototype.Mkfs=fo.prototype.Mkfs=function(p,y){var C=this.ptr;return Jn.prepare(),p&&"object"==typeof p&&(p=p.ptr),y=y&&"object"==typeof y?y.ptr:Zs(y),!!sl(C,p,y)},fo.prototype.GetImage=fo.prototype.GetImage=function(){return io(js(this.ptr),Ur)},fo.prototype.GetImageSize=fo.prototype.GetImageSize=function(){return ra(this.ptr)},fo.prototype.__destroy__=fo.prototype.__destroy__=function(){Lo(this.ptr)},(Gr.prototype=Object.create(co.prototype)).constructor=Gr,Gr.prototype.__class__=Gr,Gr.__cache__={},l.FsckContext=Gr,Gr.prototype.GetImage=Gr.prototype.GetImage=function(){return io(jl(this.ptr),Ur)},Gr.prototype.GetDirtyPages=Gr.prototype.GetDirtyPages=function(){return io(al(this.ptr),Ur)},Gr.prototype.GetImageSize=Gr.prototype.GetImageSize=function(){return Gl(this.ptr)},Gr.prototype.Fsck=Gr.prototype.Fsck=function(){return pt(this.ptr)},Gr.prototype.GetResult=Gr.prototype.GetResult=function(){return ll(this.ptr)},Gr.prototype.__destroy__=Gr.prototype.__destroy__=function(){Dr(this.ptr)},(ir.prototype=Object.create(co.prototype)).constructor=ir,ir.prototype.__class__=ir,ir.__cache__={},l.GunzipContext=ir,ir.prototype.GetState=ir.prototype.GetState=function(){return wa(this.ptr)},ir.prototype.Continue=ir.prototype.Continue=function(){return oa(this.ptr)},ir.prototype.GetUncompressedData=ir.prototype.GetUncompressedData=function(){return io(Sa(this.ptr),Ur)},ir.prototype.ReleaseUncompressedData=ir.prototype.ReleaseUncompressedData=function(){return io(Ea(this.ptr),Ur)},ir.prototype.GetUncompressedSize=ir.prototype.GetUncompressedSize=function(){return ia(this.ptr)},ir.prototype.GetError=ir.prototype.GetError=function(){return hn(xs(this.ptr))},ir.prototype.__destroy__=ir.prototype.__destroy__=function(){Gs(this.ptr)},($n.prototype=Object.create(co.prototype)).constructor=$n,$n.prototype.__class__=$n,$n.__cache__={},l.GzipContext=$n,$n.prototype.SetFilename=$n.prototype.SetFilename=function(p){var y=this.ptr;return Jn.prepare(),p=p&&"object"==typeof p?p.ptr:Zs(p),io(Da(y,p),$n)},$n.prototype.SetMtime=$n.prototype.SetMtime=function(p){return p&&"object"==typeof p&&(p=p.ptr),io(sn(this.ptr,p),$n)},$n.prototype.Continue=$n.prototype.Continue=function(){return Hs(this.ptr)},$n.prototype.GetState=$n.prototype.GetState=function(){return Ia(this.ptr)},$n.prototype.GetGzipData=$n.prototype.GetGzipData=function(){return io(Ao(this.ptr),Ur)},$n.prototype.GetGzipSize=$n.prototype.GetGzipSize=function(){return aa(this.ptr)},$n.prototype.GetError=$n.prototype.GetError=function(){return hn(cl(this.ptr))},$n.prototype.__destroy__=$n.prototype.__destroy__=function(){pr(this.ptr)},E.ready});$e.exports=ze},7971:$e=>{var R,ze=(R=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(E={}){var te,J,l=typeof E<"u"?E:{};l.ready=new Promise(function(d,_){te=d,J=_});var j,Me,Ne,G=Object.assign({},l),N="./this.program",B=(d,_)=>{throw _},se="object"==typeof window,Y="function"==typeof importScripts,$=("object"==typeof process&&"object"==typeof process.versions&&process,"");(se||Y)&&(Y?$=self.location.href:typeof document<"u"&&document.currentScript&&($=document.currentScript.src),R&&($=R),$=0!==$.indexOf("blob:")?$.substr(0,$.replace(/[?#].*/,"").lastIndexOf("/")+1):"",j=d=>{var _=new XMLHttpRequest;return _.open("GET",d,!1),_.send(null),_.responseText},Y&&(Ne=d=>{var _=new XMLHttpRequest;return _.open("GET",d,!1),_.responseType="arraybuffer",_.send(null),new Uint8Array(_.response)}),Me=(d,_,w)=>{var M=new XMLHttpRequest;M.open("GET",d,!0),M.responseType="arraybuffer",M.onload=()=>{200==M.status||0==M.status&&M.response?_(M.response):w()},M.onerror=w,M.send(null)});var ce,H=l.print||console.log.bind(console),q=l.printErr||console.warn.bind(console);Object.assign(l,G),G=null,l.thisProgram&&(N=l.thisProgram),l.quit&&(B=l.quit),l.wasmBinary&&(ce=l.wasmBinary);var Te=l.noExitRuntime||!0;"object"!=typeof WebAssembly&&kn("no native wasm support detected");var ae,ie,ue,Ke,k,fe,ot=!1;function _e(d,_){d||kn(_)}function tn(){var d=ae.buffer;l.HEAP8=ue=new Int8Array(d),l.HEAP16=new Int16Array(d),l.HEAP32=k=new Int32Array(d),l.HEAPU8=Ke=new Uint8Array(d),l.HEAPU16=new Uint16Array(d),l.HEAPU32=fe=new Uint32Array(d),l.HEAPF32=new Float32Array(d),l.HEAPF64=new Float64Array(d)}var gr,tt,Vt,Ee=[],He=[],et=[],Je=[],Nt=0,qn=null,In=null;function Or(d){Nt++,l.monitorRunDependencies&&l.monitorRunDependencies(Nt)}function to(d){if(Nt--,l.monitorRunDependencies&&l.monitorRunDependencies(Nt),0==Nt&&(null!==qn&&(clearInterval(qn),qn=null),In)){var _=In;In=null,_()}}function kn(d){l.onAbort&&l.onAbort(d),q(d="Aborted("+d+")"),ot=!0,ie=1,d+=". Build with -sASSERTIONS for more info.";var _=new WebAssembly.RuntimeError(d);throw J(_),_}function wr(d){return d.startsWith("data:application/octet-stream;base64,")}function bo(d){try{if(d==gr&&ce)return new Uint8Array(ce);if(Ne)return Ne(d);throw"both async and sync fetching of the wasm failed"}catch(_){kn(_)}}function ai(d,_,w){return function si(d){return ce||!se&&!Y||"function"!=typeof fetch?Promise.resolve().then(function(){return bo(d)}):fetch(d,{credentials:"same-origin"}).then(function(_){if(!_.ok)throw"failed to load wasm binary file at '"+d+"'";return _.arrayBuffer()}).catch(function(){return bo(d)})}(d).then(function(M){return WebAssembly.instantiate(M,_)}).then(function(M){return M}).then(w,function(M){q("failed to asynchronously prepare wasm: "+M),kn(M)})}function Zi(d){this.name="ExitStatus",this.message="Program terminated with exit("+d+")",this.status=d}function Nr(d){for(;d.length>0;)d.shift()(l)}wr(gr="vfs_web.wasm")||(gr=function L(d){return l.locateFile?l.locateFile(d,$):$+d}(gr));var ko=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function De(d,_,w){for(var M=_+w,Z=_;d[Z]&&!(Z>=M);)++Z;if(Z-_>16&&d.buffer&&ko)return ko.decode(d.subarray(_,Z));for(var ve="";_<Z;){var we=d[_++];if(128&we){var Ge=63&d[_++];if(192!=(224&we)){var kt=63&d[_++];if((we=224==(240&we)?(15&we)<<12|Ge<<6|kt:(7&we)<<18|Ge<<12|kt<<6|63&d[_++])<65536)ve+=String.fromCharCode(we);else{var Bt=we-65536;ve+=String.fromCharCode(55296|Bt>>10,56320|1023&Bt)}}else ve+=String.fromCharCode((31&we)<<6|Ge)}else ve+=String.fromCharCode(we)}return ve}function Re(d,_){return d?De(Ke,d,_):""}function fn(d,_){return _+2097152>>>0<4194305-!!d?(d>>>0)+4294967296*_:NaN}var wt={isAbs:d=>"/"===d.charAt(0),splitPath:d=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(d).slice(1),normalizeArray:(d,_)=>{for(var w=0,M=d.length-1;M>=0;M--){var Z=d[M];"."===Z?d.splice(M,1):".."===Z?(d.splice(M,1),w++):w&&(d.splice(M,1),w--)}if(_)for(;w;w--)d.unshift("..");return d},normalize:d=>{var _=wt.isAbs(d),w="/"===d.substr(-1);return!(d=wt.normalizeArray(d.split("/").filter(M=>!!M),!_).join("/"))&&!_&&(d="."),d&&w&&(d+="/"),(_?"/":"")+d},dirname:d=>{var _=wt.splitPath(d),w=_[0],M=_[1];return w||M?(M&&(M=M.substr(0,M.length-1)),w+M):"."},basename:d=>{if("/"===d)return"/";var _=(d=(d=wt.normalize(d)).replace(/\/$/,"")).lastIndexOf("/");return-1===_?d:d.substr(_+1)},join:function(){var d=Array.prototype.slice.call(arguments);return wt.normalize(d.join("/"))},join2:(d,_)=>wt.normalize(d+"/"+_)};function _n(d){return(_n=function Cn(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return d=>crypto.getRandomValues(d);kn("initRandomDevice")}())(d)}var Yn={resolve:function(){for(var d="",_=!1,w=arguments.length-1;w>=-1&&!_;w--){var M=w>=0?arguments[w]:h.cwd();if("string"!=typeof M)throw new TypeError("Arguments to path.resolve must be strings");if(!M)return"";d=M+"/"+d,_=wt.isAbs(M)}return(_?"/":"")+(d=wt.normalizeArray(d.split("/").filter(Z=>!!Z),!_).join("/"))||"."},relative:(d,_)=>{function w(Bt){for(var er=0;er<Bt.length&&""===Bt[er];er++);for(var dr=Bt.length-1;dr>=0&&""===Bt[dr];dr--);return er>dr?[]:Bt.slice(er,dr-er+1)}d=Yn.resolve(d).substr(1),_=Yn.resolve(_).substr(1);for(var M=w(d.split("/")),Z=w(_.split("/")),ve=Math.min(M.length,Z.length),we=ve,Ge=0;Ge<ve;Ge++)if(M[Ge]!==Z[Ge]){we=Ge;break}var kt=[];for(Ge=we;Ge<M.length;Ge++)kt.push("..");return(kt=kt.concat(Z.slice(we))).join("/")}};function Tr(d){for(var _=0,w=0;w<d.length;++w){var M=d.charCodeAt(w);M<=127?_++:M<=2047?_+=2:M>=55296&&M<=57343?(_+=4,++w):_+=3}return _}function Sr(d,_,w,M){if(!(M>0))return 0;for(var Z=w,ve=w+M-1,we=0;we<d.length;++we){var Ge=d.charCodeAt(we);if(Ge>=55296&&Ge<=57343&&(Ge=65536+((1023&Ge)<<10)|1023&d.charCodeAt(++we)),Ge<=127){if(w>=ve)break;_[w++]=Ge}else if(Ge<=2047){if(w+1>=ve)break;_[w++]=192|Ge>>6,_[w++]=128|63&Ge}else if(Ge<=65535){if(w+2>=ve)break;_[w++]=224|Ge>>12,_[w++]=128|Ge>>6&63,_[w++]=128|63&Ge}else{if(w+3>=ve)break;_[w++]=240|Ge>>18,_[w++]=128|Ge>>12&63,_[w++]=128|Ge>>6&63,_[w++]=128|63&Ge}}return _[w]=0,w-Z}function Kr(d,_,w){var M=w>0?w:Tr(d)+1,Z=new Array(M),ve=Sr(d,Z,0,Z.length);return _&&(Z.length=ve),Z}var Qn={ttys:[],init:function(){},shutdown:function(){},register:function(d,_){Qn.ttys[d]={input:[],output:[],ops:_},h.registerDevice(d,Qn.stream_ops)},stream_ops:{open:function(d){var _=Qn.ttys[d.node.rdev];if(!_)throw new h.ErrnoError(43);d.tty=_,d.seekable=!1},close:function(d){d.tty.ops.fsync(d.tty)},fsync:function(d){d.tty.ops.fsync(d.tty)},read:function(d,_,w,M,Z){if(!d.tty||!d.tty.ops.get_char)throw new h.ErrnoError(60);for(var ve=0,we=0;we<M;we++){var Ge;try{Ge=d.tty.ops.get_char(d.tty)}catch{throw new h.ErrnoError(29)}if(void 0===Ge&&0===ve)throw new h.ErrnoError(6);if(null==Ge)break;ve++,_[w+we]=Ge}return ve&&(d.node.timestamp=Date.now()),ve},write:function(d,_,w,M,Z){if(!d.tty||!d.tty.ops.put_char)throw new h.ErrnoError(60);try{for(var ve=0;ve<M;ve++)d.tty.ops.put_char(d.tty,_[w+ve])}catch{throw new h.ErrnoError(29)}return M&&(d.node.timestamp=Date.now()),ve}},default_tty_ops:{get_char:function(d){if(!d.input.length){var _=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(_=window.prompt("Input: "))&&(_+="\n"):"function"==typeof readline&&null!==(_=readline())&&(_+="\n"),!_)return null;d.input=Kr(_,!0)}return d.input.shift()},put_char:function(d,_){null===_||10===_?(H(De(d.output,0)),d.output=[]):0!=_&&d.output.push(_)},fsync:function(d){d.output&&d.output.length>0&&(H(De(d.output,0)),d.output=[])}},default_tty1_ops:{put_char:function(d,_){null===_||10===_?(q(De(d.output,0)),d.output=[]):0!=_&&d.output.push(_)},fsync:function(d){d.output&&d.output.length>0&&(q(De(d.output,0)),d.output=[])}}};function fr(d){kn()}var ft={ops_table:null,mount:function(d){return ft.createNode(null,"/",16895,0)},createNode:function(d,_,w,M){if(h.isBlkdev(w)||h.isFIFO(w))throw new h.ErrnoError(63);ft.ops_table||(ft.ops_table={dir:{node:{getattr:ft.node_ops.getattr,setattr:ft.node_ops.setattr,lookup:ft.node_ops.lookup,mknod:ft.node_ops.mknod,rename:ft.node_ops.rename,unlink:ft.node_ops.unlink,rmdir:ft.node_ops.rmdir,readdir:ft.node_ops.readdir,symlink:ft.node_ops.symlink},stream:{llseek:ft.stream_ops.llseek}},file:{node:{getattr:ft.node_ops.getattr,setattr:ft.node_ops.setattr},stream:{llseek:ft.stream_ops.llseek,read:ft.stream_ops.read,write:ft.stream_ops.write,allocate:ft.stream_ops.allocate,mmap:ft.stream_ops.mmap,msync:ft.stream_ops.msync}},link:{node:{getattr:ft.node_ops.getattr,setattr:ft.node_ops.setattr,readlink:ft.node_ops.readlink},stream:{}},chrdev:{node:{getattr:ft.node_ops.getattr,setattr:ft.node_ops.setattr},stream:h.chrdev_stream_ops}});var Z=h.createNode(d,_,w,M);return h.isDir(Z.mode)?(Z.node_ops=ft.ops_table.dir.node,Z.stream_ops=ft.ops_table.dir.stream,Z.contents={}):h.isFile(Z.mode)?(Z.node_ops=ft.ops_table.file.node,Z.stream_ops=ft.ops_table.file.stream,Z.usedBytes=0,Z.contents=null):h.isLink(Z.mode)?(Z.node_ops=ft.ops_table.link.node,Z.stream_ops=ft.ops_table.link.stream):h.isChrdev(Z.mode)&&(Z.node_ops=ft.ops_table.chrdev.node,Z.stream_ops=ft.ops_table.chrdev.stream),Z.timestamp=Date.now(),d&&(d.contents[_]=Z,d.timestamp=Z.timestamp),Z},getFileDataAsTypedArray:function(d){return d.contents?d.contents.subarray?d.contents.subarray(0,d.usedBytes):new Uint8Array(d.contents):new Uint8Array(0)},expandFileStorage:function(d,_){var w=d.contents?d.contents.length:0;if(!(w>=_)){_=Math.max(_,w*(w<1048576?2:1.125)>>>0),0!=w&&(_=Math.max(_,256));var Z=d.contents;d.contents=new Uint8Array(_),d.usedBytes>0&&d.contents.set(Z.subarray(0,d.usedBytes),0)}},resizeFileStorage:function(d,_){if(d.usedBytes!=_)if(0==_)d.contents=null,d.usedBytes=0;else{var w=d.contents;d.contents=new Uint8Array(_),w&&d.contents.set(w.subarray(0,Math.min(_,d.usedBytes))),d.usedBytes=_}},node_ops:{getattr:function(d){var _={};return _.dev=h.isChrdev(d.mode)?d.id:1,_.ino=d.id,_.mode=d.mode,_.nlink=1,_.uid=0,_.gid=0,_.rdev=d.rdev,_.size=h.isDir(d.mode)?4096:h.isFile(d.mode)?d.usedBytes:h.isLink(d.mode)?d.link.length:0,_.atime=new Date(d.timestamp),_.mtime=new Date(d.timestamp),_.ctime=new Date(d.timestamp),_.blksize=4096,_.blocks=Math.ceil(_.size/_.blksize),_},setattr:function(d,_){void 0!==_.mode&&(d.mode=_.mode),void 0!==_.timestamp&&(d.timestamp=_.timestamp),void 0!==_.size&&ft.resizeFileStorage(d,_.size)},lookup:function(d,_){throw h.genericErrors[44]},mknod:function(d,_,w,M){return ft.createNode(d,_,w,M)},rename:function(d,_,w){if(h.isDir(d.mode)){var M;try{M=h.lookupNode(_,w)}catch{}if(M)for(var Z in M.contents)throw new h.ErrnoError(55)}delete d.parent.contents[d.name],d.parent.timestamp=Date.now(),d.name=w,_.contents[w]=d,_.timestamp=d.parent.timestamp,d.parent=_},unlink:function(d,_){delete d.contents[_],d.timestamp=Date.now()},rmdir:function(d,_){var w=h.lookupNode(d,_);for(var M in w.contents)throw new h.ErrnoError(55);delete d.contents[_],d.timestamp=Date.now()},readdir:function(d){var _=[".",".."];for(var w in d.contents)d.contents.hasOwnProperty(w)&&_.push(w);return _},symlink:function(d,_,w){var M=ft.createNode(d,_,41471,0);return M.link=w,M},readlink:function(d){if(!h.isLink(d.mode))throw new h.ErrnoError(28);return d.link}},stream_ops:{read:function(d,_,w,M,Z){var ve=d.node.contents;if(Z>=d.node.usedBytes)return 0;var we=Math.min(d.node.usedBytes-Z,M);if(we>8&&ve.subarray)_.set(ve.subarray(Z,Z+we),w);else for(var Ge=0;Ge<we;Ge++)_[w+Ge]=ve[Z+Ge];return we},write:function(d,_,w,M,Z,ve){if(_.buffer===ue.buffer&&(ve=!1),!M)return 0;var we=d.node;if(we.timestamp=Date.now(),_.subarray&&(!we.contents||we.contents.subarray)){if(ve)return we.contents=_.subarray(w,w+M),we.usedBytes=M,M;if(0===we.usedBytes&&0===Z)return we.contents=_.slice(w,w+M),we.usedBytes=M,M;if(Z+M<=we.usedBytes)return we.contents.set(_.subarray(w,w+M),Z),M}if(ft.expandFileStorage(we,Z+M),we.contents.subarray&&_.subarray)we.contents.set(_.subarray(w,w+M),Z);else for(var Ge=0;Ge<M;Ge++)we.contents[Z+Ge]=_[w+Ge];return we.usedBytes=Math.max(we.usedBytes,Z+M),M},llseek:function(d,_,w){var M=_;if(1===w?M+=d.position:2===w&&h.isFile(d.node.mode)&&(M+=d.node.usedBytes),M<0)throw new h.ErrnoError(28);return M},allocate:function(d,_,w){ft.expandFileStorage(d.node,_+w),d.node.usedBytes=Math.max(d.node.usedBytes,_+w)},mmap:function(d,_,w,M,Z){if(!h.isFile(d.node.mode))throw new h.ErrnoError(43);var ve,we,Ge=d.node.contents;if(2&Z||Ge.buffer!==ue.buffer){if((w>0||w+_<Ge.length)&&(Ge=Ge.subarray?Ge.subarray(w,w+_):Array.prototype.slice.call(Ge,w,w+_)),we=!0,!(ve=fr()))throw new h.ErrnoError(48);ue.set(Ge,ve)}else we=!1,ve=Ge.byteOffset;return{ptr:ve,allocated:we}},msync:function(d,_,w,M,Z){return ft.stream_ops.write(d,_,0,M,w,!1),0}}},h={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(d,_={})=>{if(!(d=Yn.resolve(d)))return{path:"",node:null};if((_=Object.assign({follow_mount:!0,recurse_count:0},_)).recurse_count>8)throw new h.ErrnoError(32);for(var M=d.split("/").filter(dr=>!!dr),Z=h.root,ve="/",we=0;we<M.length;we++){var Ge=we===M.length-1;if(Ge&&_.parent)break;if(Z=h.lookupNode(Z,M[we]),ve=wt.join2(ve,M[we]),h.isMountpoint(Z)&&(!Ge||Ge&&_.follow_mount)&&(Z=Z.mounted.root),!Ge||_.follow)for(var kt=0;h.isLink(Z.mode);){var Bt=h.readlink(ve);if(ve=Yn.resolve(wt.dirname(ve),Bt),Z=h.lookupPath(ve,{recurse_count:_.recurse_count+1}).node,kt++>40)throw new h.ErrnoError(32)}}return{path:ve,node:Z}},getPath:d=>{for(var _;;){if(h.isRoot(d)){var w=d.mount.mountpoint;return _?"/"!==w[w.length-1]?w+"/"+_:w+_:w}_=_?d.name+"/"+_:d.name,d=d.parent}},hashName:(d,_)=>{for(var w=0,M=0;M<_.length;M++)w=(w<<5)-w+_.charCodeAt(M)|0;return(d+w>>>0)%h.nameTable.length},hashAddNode:d=>{var _=h.hashName(d.parent.id,d.name);d.name_next=h.nameTable[_],h.nameTable[_]=d},hashRemoveNode:d=>{var _=h.hashName(d.parent.id,d.name);if(h.nameTable[_]===d)h.nameTable[_]=d.name_next;else for(var w=h.nameTable[_];w;){if(w.name_next===d){w.name_next=d.name_next;break}w=w.name_next}},lookupNode:(d,_)=>{var w=h.mayLookup(d);if(w)throw new h.ErrnoError(w,d);for(var M=h.hashName(d.id,_),Z=h.nameTable[M];Z;Z=Z.name_next)if(Z.parent.id===d.id&&Z.name===_)return Z;return h.lookup(d,_)},createNode:(d,_,w,M)=>{var Z=new h.FSNode(d,_,w,M);return h.hashAddNode(Z),Z},destroyNode:d=>{h.hashRemoveNode(d)},isRoot:d=>d===d.parent,isMountpoint:d=>!!d.mounted,isFile:d=>32768==(61440&d),isDir:d=>16384==(61440&d),isLink:d=>40960==(61440&d),isChrdev:d=>8192==(61440&d),isBlkdev:d=>24576==(61440&d),isFIFO:d=>4096==(61440&d),isSocket:d=>49152==(49152&d),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:d=>{var _=h.flagModes[d];if(typeof _>"u")throw new Error("Unknown file open mode: "+d);return _},flagsToPermissionString:d=>{var _=["r","w","rw"][3&d];return 512&d&&(_+="w"),_},nodePermissions:(d,_)=>h.ignorePermissions?0:_.includes("r")&&!(292&d.mode)||_.includes("w")&&!(146&d.mode)||_.includes("x")&&!(73&d.mode)?2:0,mayLookup:d=>h.nodePermissions(d,"x")||(d.node_ops.lookup?0:2),mayCreate:(d,_)=>{try{return h.lookupNode(d,_),20}catch{}return h.nodePermissions(d,"wx")},mayDelete:(d,_,w)=>{var M;try{M=h.lookupNode(d,_)}catch(ve){return ve.errno}var Z=h.nodePermissions(d,"wx");if(Z)return Z;if(w){if(!h.isDir(M.mode))return 54;if(h.isRoot(M)||h.getPath(M)===h.cwd())return 10}else if(h.isDir(M.mode))return 31;return 0},mayOpen:(d,_)=>d?h.isLink(d.mode)?32:h.isDir(d.mode)&&("r"!==h.flagsToPermissionString(_)||512&_)?31:h.nodePermissions(d,h.flagsToPermissionString(_)):44,MAX_OPEN_FDS:4096,nextfd:(d=0,_=h.MAX_OPEN_FDS)=>{for(var w=d;w<=_;w++)if(!h.streams[w])return w;throw new h.ErrnoError(33)},getStream:d=>h.streams[d],createStream:(d,_,w)=>{h.FSStream||(h.FSStream=function(){this.shared={}},h.FSStream.prototype={},Object.defineProperties(h.FSStream.prototype,{object:{get:function(){return this.node},set:function(Z){this.node=Z}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(Z){this.shared.flags=Z}},position:{get:function(){return this.shared.position},set:function(Z){this.shared.position=Z}}})),d=Object.assign(new h.FSStream,d);var M=h.nextfd(_,w);return d.fd=M,h.streams[M]=d,d},closeStream:d=>{h.streams[d]=null},chrdev_stream_ops:{open:d=>{var _=h.getDevice(d.node.rdev);d.stream_ops=_.stream_ops,d.stream_ops.open&&d.stream_ops.open(d)},llseek:()=>{throw new h.ErrnoError(70)}},major:d=>d>>8,minor:d=>255&d,makedev:(d,_)=>d<<8|_,registerDevice:(d,_)=>{h.devices[d]={stream_ops:_}},getDevice:d=>h.devices[d],getMounts:d=>{for(var _=[],w=[d];w.length;){var M=w.pop();_.push(M),w.push.apply(w,M.mounts)}return _},syncfs:(d,_)=>{"function"==typeof d&&(_=d,d=!1),h.syncFSRequests++,h.syncFSRequests>1&&q("warning: "+h.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var w=h.getMounts(h.root.mount),M=0;function Z(we){return h.syncFSRequests--,_(we)}function ve(we){if(we)return ve.errored?void 0:(ve.errored=!0,Z(we));++M>=w.length&&Z(null)}w.forEach(we=>{if(!we.type.syncfs)return ve(null);we.type.syncfs(we,d,ve)})},mount:(d,_,w)=>{var ve,M="/"===w,Z=!w;if(M&&h.root)throw new h.ErrnoError(10);if(!M&&!Z){var we=h.lookupPath(w,{follow_mount:!1});if(w=we.path,h.isMountpoint(ve=we.node))throw new h.ErrnoError(10);if(!h.isDir(ve.mode))throw new h.ErrnoError(54)}var Ge={type:d,opts:_,mountpoint:w,mounts:[]},kt=d.mount(Ge);return kt.mount=Ge,Ge.root=kt,M?h.root=kt:ve&&(ve.mounted=Ge,ve.mount&&ve.mount.mounts.push(Ge)),kt},unmount:d=>{var _=h.lookupPath(d,{follow_mount:!1});if(!h.isMountpoint(_.node))throw new h.ErrnoError(28);var w=_.node,M=w.mounted,Z=h.getMounts(M);Object.keys(h.nameTable).forEach(we=>{for(var Ge=h.nameTable[we];Ge;){var kt=Ge.name_next;Z.includes(Ge.mount)&&h.destroyNode(Ge),Ge=kt}}),w.mounted=null;var ve=w.mount.mounts.indexOf(M);w.mount.mounts.splice(ve,1)},lookup:(d,_)=>d.node_ops.lookup(d,_),mknod:(d,_,w)=>{var Z=h.lookupPath(d,{parent:!0}).node,ve=wt.basename(d);if(!ve||"."===ve||".."===ve)throw new h.ErrnoError(28);var we=h.mayCreate(Z,ve);if(we)throw new h.ErrnoError(we);if(!Z.node_ops.mknod)throw new h.ErrnoError(63);return Z.node_ops.mknod(Z,ve,_,w)},create:(d,_)=>(_=void 0!==_?_:438,_&=4095,h.mknod(d,_|=32768,0)),mkdir:(d,_)=>(_=void 0!==_?_:511,_&=1023,h.mknod(d,_|=16384,0)),mkdirTree:(d,_)=>{for(var w=d.split("/"),M="",Z=0;Z<w.length;++Z)if(w[Z]){M+="/"+w[Z];try{h.mkdir(M,_)}catch(ve){if(20!=ve.errno)throw ve}}},mkdev:(d,_,w)=>(typeof w>"u"&&(w=_,_=438),h.mknod(d,_|=8192,w)),symlink:(d,_)=>{if(!Yn.resolve(d))throw new h.ErrnoError(44);var M=h.lookupPath(_,{parent:!0}).node;if(!M)throw new h.ErrnoError(44);var Z=wt.basename(_),ve=h.mayCreate(M,Z);if(ve)throw new h.ErrnoError(ve);if(!M.node_ops.symlink)throw new h.ErrnoError(63);return M.node_ops.symlink(M,Z,d)},rename:(d,_)=>{var Ge,kt,w=wt.dirname(d),M=wt.dirname(_),Z=wt.basename(d),ve=wt.basename(_);if(Ge=h.lookupPath(d,{parent:!0}).node,kt=h.lookupPath(_,{parent:!0}).node,!Ge||!kt)throw new h.ErrnoError(44);if(Ge.mount!==kt.mount)throw new h.ErrnoError(75);var dr,Bt=h.lookupNode(Ge,Z),er=Yn.relative(d,M);if("."!==er.charAt(0))throw new h.ErrnoError(28);if("."!==(er=Yn.relative(_,w)).charAt(0))throw new h.ErrnoError(55);try{dr=h.lookupNode(kt,ve)}catch{}if(Bt!==dr){var wn=h.isDir(Bt.mode),an=h.mayDelete(Ge,Z,wn);if(an)throw new h.ErrnoError(an);if(an=dr?h.mayDelete(kt,ve,wn):h.mayCreate(kt,ve))throw new h.ErrnoError(an);if(!Ge.node_ops.rename)throw new h.ErrnoError(63);if(h.isMountpoint(Bt)||dr&&h.isMountpoint(dr))throw new h.ErrnoError(10);if(kt!==Ge&&(an=h.nodePermissions(Ge,"w")))throw new h.ErrnoError(an);h.hashRemoveNode(Bt);try{Ge.node_ops.rename(Bt,kt,ve)}catch(Nn){throw Nn}finally{h.hashAddNode(Bt)}}},rmdir:d=>{var w=h.lookupPath(d,{parent:!0}).node,M=wt.basename(d),Z=h.lookupNode(w,M),ve=h.mayDelete(w,M,!0);if(ve)throw new h.ErrnoError(ve);if(!w.node_ops.rmdir)throw new h.ErrnoError(63);if(h.isMountpoint(Z))throw new h.ErrnoError(10);w.node_ops.rmdir(w,M),h.destroyNode(Z)},readdir:d=>{var w=h.lookupPath(d,{follow:!0}).node;if(!w.node_ops.readdir)throw new h.ErrnoError(54);return w.node_ops.readdir(w)},unlink:d=>{var w=h.lookupPath(d,{parent:!0}).node;if(!w)throw new h.ErrnoError(44);var M=wt.basename(d),Z=h.lookupNode(w,M),ve=h.mayDelete(w,M,!1);if(ve)throw new h.ErrnoError(ve);if(!w.node_ops.unlink)throw new h.ErrnoError(63);if(h.isMountpoint(Z))throw new h.ErrnoError(10);w.node_ops.unlink(w,M),h.destroyNode(Z)},readlink:d=>{var w=h.lookupPath(d).node;if(!w)throw new h.ErrnoError(44);if(!w.node_ops.readlink)throw new h.ErrnoError(28);return Yn.resolve(h.getPath(w.parent),w.node_ops.readlink(w))},stat:(d,_)=>{var M=h.lookupPath(d,{follow:!_}).node;if(!M)throw new h.ErrnoError(44);if(!M.node_ops.getattr)throw new h.ErrnoError(63);return M.node_ops.getattr(M)},lstat:d=>h.stat(d,!0),chmod:(d,_,w)=>{var M;if(!(M="string"==typeof d?h.lookupPath(d,{follow:!w}).node:d).node_ops.setattr)throw new h.ErrnoError(63);M.node_ops.setattr(M,{mode:4095&_|-4096&M.mode,timestamp:Date.now()})},lchmod:(d,_)=>{h.chmod(d,_,!0)},fchmod:(d,_)=>{var w=h.getStream(d);if(!w)throw new h.ErrnoError(8);h.chmod(w.node,_)},chown:(d,_,w,M)=>{var Z;if(!(Z="string"==typeof d?h.lookupPath(d,{follow:!M}).node:d).node_ops.setattr)throw new h.ErrnoError(63);Z.node_ops.setattr(Z,{timestamp:Date.now()})},lchown:(d,_,w)=>{h.chown(d,_,w,!0)},fchown:(d,_,w)=>{var M=h.getStream(d);if(!M)throw new h.ErrnoError(8);h.chown(M.node,_,w)},truncate:(d,_)=>{if(_<0)throw new h.ErrnoError(28);var w;if(!(w="string"==typeof d?h.lookupPath(d,{follow:!0}).node:d).node_ops.setattr)throw new h.ErrnoError(63);if(h.isDir(w.mode))throw new h.ErrnoError(31);if(!h.isFile(w.mode))throw new h.ErrnoError(28);var Z=h.nodePermissions(w,"w");if(Z)throw new h.ErrnoError(Z);w.node_ops.setattr(w,{size:_,timestamp:Date.now()})},ftruncate:(d,_)=>{var w=h.getStream(d);if(!w)throw new h.ErrnoError(8);if(!(2097155&w.flags))throw new h.ErrnoError(28);h.truncate(w.node,_)},utime:(d,_,w)=>{var Z=h.lookupPath(d,{follow:!0}).node;Z.node_ops.setattr(Z,{timestamp:Math.max(_,w)})},open:(d,_,w)=>{if(""===d)throw new h.ErrnoError(44);var M;if(w=typeof w>"u"?438:w,w=64&(_="string"==typeof _?h.modeStringToFlags(_):_)?4095&w|32768:0,"object"==typeof d)M=d;else{d=wt.normalize(d);try{M=h.lookupPath(d,{follow:!(131072&_)}).node}catch{}}var ve=!1;if(64&_)if(M){if(128&_)throw new h.ErrnoError(20)}else M=h.mknod(d,w,0),ve=!0;if(!M)throw new h.ErrnoError(44);if(h.isChrdev(M.mode)&&(_&=-513),65536&_&&!h.isDir(M.mode))throw new h.ErrnoError(54);if(!ve){var we=h.mayOpen(M,_);if(we)throw new h.ErrnoError(we)}512&_&&!ve&&h.truncate(M,0),_&=-131713;var Ge=h.createStream({node:M,path:h.getPath(M),flags:_,seekable:!0,position:0,stream_ops:M.stream_ops,ungotten:[],error:!1});return Ge.stream_ops.open&&Ge.stream_ops.open(Ge),l.logReadFiles&&!(1&_)&&(h.readFiles||(h.readFiles={}),d in h.readFiles||(h.readFiles[d]=1)),Ge},close:d=>{if(h.isClosed(d))throw new h.ErrnoError(8);d.getdents&&(d.getdents=null);try{d.stream_ops.close&&d.stream_ops.close(d)}catch(_){throw _}finally{h.closeStream(d.fd)}d.fd=null},isClosed:d=>null===d.fd,llseek:(d,_,w)=>{if(h.isClosed(d))throw new h.ErrnoError(8);if(!d.seekable||!d.stream_ops.llseek)throw new h.ErrnoError(70);if(0!=w&&1!=w&&2!=w)throw new h.ErrnoError(28);return d.position=d.stream_ops.llseek(d,_,w),d.ungotten=[],d.position},read:(d,_,w,M,Z)=>{if(M<0||Z<0)throw new h.ErrnoError(28);if(h.isClosed(d))throw new h.ErrnoError(8);if(1==(2097155&d.flags))throw new h.ErrnoError(8);if(h.isDir(d.node.mode))throw new h.ErrnoError(31);if(!d.stream_ops.read)throw new h.ErrnoError(28);var ve=typeof Z<"u";if(ve){if(!d.seekable)throw new h.ErrnoError(70)}else Z=d.position;var we=d.stream_ops.read(d,_,w,M,Z);return ve||(d.position+=we),we},write:(d,_,w,M,Z,ve)=>{if(M<0||Z<0)throw new h.ErrnoError(28);if(h.isClosed(d))throw new h.ErrnoError(8);if(!(2097155&d.flags))throw new h.ErrnoError(8);if(h.isDir(d.node.mode))throw new h.ErrnoError(31);if(!d.stream_ops.write)throw new h.ErrnoError(28);d.seekable&&1024&d.flags&&h.llseek(d,0,2);var we=typeof Z<"u";if(we){if(!d.seekable)throw new h.ErrnoError(70)}else Z=d.position;var Ge=d.stream_ops.write(d,_,w,M,Z,ve);return we||(d.position+=Ge),Ge},allocate:(d,_,w)=>{if(h.isClosed(d))throw new h.ErrnoError(8);if(_<0||w<=0)throw new h.ErrnoError(28);if(!(2097155&d.flags))throw new h.ErrnoError(8);if(!h.isFile(d.node.mode)&&!h.isDir(d.node.mode))throw new h.ErrnoError(43);if(!d.stream_ops.allocate)throw new h.ErrnoError(138);d.stream_ops.allocate(d,_,w)},mmap:(d,_,w,M,Z)=>{if(2&M&&!(2&Z)&&2!=(2097155&d.flags))throw new h.ErrnoError(2);if(1==(2097155&d.flags))throw new h.ErrnoError(2);if(!d.stream_ops.mmap)throw new h.ErrnoError(43);return d.stream_ops.mmap(d,_,w,M,Z)},msync:(d,_,w,M,Z)=>d.stream_ops.msync?d.stream_ops.msync(d,_,w,M,Z):0,munmap:d=>0,ioctl:(d,_,w)=>{if(!d.stream_ops.ioctl)throw new h.ErrnoError(59);return d.stream_ops.ioctl(d,_,w)},readFile:(d,_={})=>{if(_.flags=_.flags||0,_.encoding=_.encoding||"binary","utf8"!==_.encoding&&"binary"!==_.encoding)throw new Error('Invalid encoding type "'+_.encoding+'"');var w,M=h.open(d,_.flags),ve=h.stat(d).size,we=new Uint8Array(ve);return h.read(M,we,0,ve,0),"utf8"===_.encoding?w=De(we,0):"binary"===_.encoding&&(w=we),h.close(M),w},writeFile:(d,_,w={})=>{w.flags=w.flags||577;var M=h.open(d,w.flags,w.mode);if("string"==typeof _){var Z=new Uint8Array(Tr(_)+1),ve=Sr(_,Z,0,Z.length);h.write(M,Z,0,ve,void 0,w.canOwn)}else{if(!ArrayBuffer.isView(_))throw new Error("Unsupported data type");h.write(M,_,0,_.byteLength,void 0,w.canOwn)}h.close(M)},cwd:()=>h.currentPath,chdir:d=>{var _=h.lookupPath(d,{follow:!0});if(null===_.node)throw new h.ErrnoError(44);if(!h.isDir(_.node.mode))throw new h.ErrnoError(54);var w=h.nodePermissions(_.node,"x");if(w)throw new h.ErrnoError(w);h.currentPath=_.path},createDefaultDirectories:()=>{h.mkdir("/tmp"),h.mkdir("/home"),h.mkdir("/home/web_user")},createDefaultDevices:()=>{h.mkdir("/dev"),h.registerDevice(h.makedev(1,3),{read:()=>0,write:(M,Z,ve,we,Ge)=>we}),h.mkdev("/dev/null",h.makedev(1,3)),Qn.register(h.makedev(5,0),Qn.default_tty_ops),Qn.register(h.makedev(6,0),Qn.default_tty1_ops),h.mkdev("/dev/tty",h.makedev(5,0)),h.mkdev("/dev/tty1",h.makedev(6,0));var d=new Uint8Array(1024),_=0,w=()=>(0===_&&(_=_n(d).byteLength),d[--_]);h.createDevice("/dev","random",w),h.createDevice("/dev","urandom",w),h.mkdir("/dev/shm"),h.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{h.mkdir("/proc");var d=h.mkdir("/proc/self");h.mkdir("/proc/self/fd"),h.mount({mount:()=>{var _=h.createNode(d,"fd",16895,73);return _.node_ops={lookup:(w,M)=>{var ve=h.getStream(+M);if(!ve)throw new h.ErrnoError(8);var we={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>ve.path}};return we.parent=we,we}},_}},{},"/proc/self/fd")},createStandardStreams:()=>{l.stdin?h.createDevice("/dev","stdin",l.stdin):h.symlink("/dev/tty","/dev/stdin"),l.stdout?h.createDevice("/dev","stdout",null,l.stdout):h.symlink("/dev/tty","/dev/stdout"),l.stderr?h.createDevice("/dev","stderr",null,l.stderr):h.symlink("/dev/tty1","/dev/stderr"),h.open("/dev/stdin",0),h.open("/dev/stdout",1),h.open("/dev/stderr",1)},ensureErrnoError:()=>{h.ErrnoError||(h.ErrnoError=function(_,w){this.name="ErrnoError",this.node=w,this.setErrno=function(M){this.errno=M},this.setErrno(_),this.message="FS error"},h.ErrnoError.prototype=new Error,h.ErrnoError.prototype.constructor=h.ErrnoError,[44].forEach(d=>{h.genericErrors[d]=new h.ErrnoError(d),h.genericErrors[d].stack="<generic error, no stack>"}))},staticInit:()=>{h.ensureErrnoError(),h.nameTable=new Array(4096),h.mount(ft,{},"/"),h.createDefaultDirectories(),h.createDefaultDevices(),h.createSpecialDirectories(),h.filesystems={MEMFS:ft}},init:(d,_,w)=>{h.init.initialized=!0,h.ensureErrnoError(),l.stdin=d||l.stdin,l.stdout=_||l.stdout,l.stderr=w||l.stderr,h.createStandardStreams()},quit:()=>{h.init.initialized=!1;for(var d=0;d<h.streams.length;d++){var _=h.streams[d];_&&h.close(_)}},getMode:(d,_)=>{var w=0;return d&&(w|=365),_&&(w|=146),w},findObject:(d,_)=>{var w=h.analyzePath(d,_);return w.exists?w.object:null},analyzePath:(d,_)=>{try{d=(w=h.lookupPath(d,{follow:!_})).path}catch{}var M={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var w=h.lookupPath(d,{parent:!0});M.parentExists=!0,M.parentPath=w.path,M.parentObject=w.node,M.name=wt.basename(d),w=h.lookupPath(d,{follow:!_}),M.exists=!0,M.path=w.path,M.object=w.node,M.name=w.node.name,M.isRoot="/"===w.path}catch(Z){M.error=Z.errno}return M},createPath:(d,_,w,M)=>{d="string"==typeof d?d:h.getPath(d);for(var Z=_.split("/").reverse();Z.length;){var ve=Z.pop();if(ve){var we=wt.join2(d,ve);try{h.mkdir(we)}catch{}d=we}}return we},createFile:(d,_,w,M,Z)=>{var ve=wt.join2("string"==typeof d?d:h.getPath(d),_),we=h.getMode(M,Z);return h.create(ve,we)},createDataFile:(d,_,w,M,Z,ve)=>{var we=_;d&&(d="string"==typeof d?d:h.getPath(d),we=_?wt.join2(d,_):d);var Ge=h.getMode(M,Z),kt=h.create(we,Ge);if(w){if("string"==typeof w){for(var Bt=new Array(w.length),er=0,dr=w.length;er<dr;++er)Bt[er]=w.charCodeAt(er);w=Bt}h.chmod(kt,146|Ge);var wn=h.open(kt,577);h.write(wn,w,0,w.length,0,ve),h.close(wn),h.chmod(kt,Ge)}return kt},createDevice:(d,_,w,M)=>{var Z=wt.join2("string"==typeof d?d:h.getPath(d),_),ve=h.getMode(!!w,!!M);h.createDevice.major||(h.createDevice.major=64);var we=h.makedev(h.createDevice.major++,0);return h.registerDevice(we,{open:Ge=>{Ge.seekable=!1},close:Ge=>{M&&M.buffer&&M.buffer.length&&M(10)},read:(Ge,kt,Bt,er,dr)=>{for(var wn=0,an=0;an<er;an++){var Nn;try{Nn=w()}catch{throw new h.ErrnoError(29)}if(void 0===Nn&&0===wn)throw new h.ErrnoError(6);if(null==Nn)break;wn++,kt[Bt+an]=Nn}return wn&&(Ge.node.timestamp=Date.now()),wn},write:(Ge,kt,Bt,er,dr)=>{for(var wn=0;wn<er;wn++)try{M(kt[Bt+wn])}catch{throw new h.ErrnoError(29)}return er&&(Ge.node.timestamp=Date.now()),wn}}),h.mkdev(Z,ve,we)},forceLoadFile:d=>{if(d.isDevice||d.isFolder||d.link||d.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!j)throw new Error("Cannot load without read() or XMLHttpRequest.");try{d.contents=Kr(j(d.url),!0),d.usedBytes=d.contents.length}catch{throw new h.ErrnoError(29)}},createLazyFile:(d,_,w,M,Z)=>{function ve(){this.lengthKnown=!1,this.chunks=[]}if(ve.prototype.get=function(an){if(!(an>this.length-1||an<0)){var Nn=an%this.chunkSize;return this.getter(an/this.chunkSize|0)[Nn]}},ve.prototype.setDataGetter=function(an){this.getter=an},ve.prototype.cacheLength=function(){var an=new XMLHttpRequest;if(an.open("HEAD",w,!1),an.send(null),!(an.status>=200&&an.status<300||304===an.status))throw new Error("Couldn't load "+w+". Status: "+an.status);var Lr,Nn=Number(an.getResponseHeader("Content-length")),Ar=(Lr=an.getResponseHeader("Accept-Ranges"))&&"bytes"===Lr,Xo=(Lr=an.getResponseHeader("Content-Encoding"))&&"gzip"===Lr,ct=1048576;Ar||(ct=Nn);var ao=this;ao.setDataGetter(vr=>{var Qo=vr*ct,br=(vr+1)*ct-1;if(br=Math.min(br,Nn-1),typeof ao.chunks[vr]>"u"&&(ao.chunks[vr]=((vr,Qo)=>{if(vr>Qo)throw new Error("invalid range ("+vr+", "+Qo+") or no bytes requested!");if(Qo>Nn-1)throw new Error("only "+Nn+" bytes available! programmer error!");var br=new XMLHttpRequest;if(br.open("GET",w,!1),Nn!==ct&&br.setRequestHeader("Range","bytes="+vr+"-"+Qo),br.responseType="arraybuffer",br.overrideMimeType&&br.overrideMimeType("text/plain; charset=x-user-defined"),br.send(null),!(br.status>=200&&br.status<300||304===br.status))throw new Error("Couldn't load "+w+". Status: "+br.status);return void 0!==br.response?new Uint8Array(br.response||[]):Kr(br.responseText||"",!0)})(Qo,br)),typeof ao.chunks[vr]>"u")throw new Error("doXHR failed!");return ao.chunks[vr]}),(Xo||!Nn)&&(ct=Nn=1,Nn=this.getter(0).length,ct=Nn,H("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Nn,this._chunkSize=ct,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!Y)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var we=new ve;Object.defineProperties(we,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var Ge={isDevice:!1,contents:we}}else Ge={isDevice:!1,url:w};var kt=h.createFile(d,_,Ge,M,Z);Ge.contents?kt.contents=Ge.contents:Ge.url&&(kt.contents=null,kt.url=Ge.url),Object.defineProperties(kt,{usedBytes:{get:function(){return this.contents.length}}});var Bt={};function dr(wn,an,Nn,Lr,Ar){var Xo=wn.node.contents;if(Ar>=Xo.length)return 0;var ct=Math.min(Xo.length-Ar,Lr);if(Xo.slice)for(var Gt=0;Gt<ct;Gt++)an[Nn+Gt]=Xo[Ar+Gt];else for(Gt=0;Gt<ct;Gt++)an[Nn+Gt]=Xo.get(Ar+Gt);return ct}return Object.keys(kt.stream_ops).forEach(wn=>{var an=kt.stream_ops[wn];Bt[wn]=function(){return h.forceLoadFile(kt),an.apply(null,arguments)}}),Bt.read=(wn,an,Nn,Lr,Ar)=>(h.forceLoadFile(kt),dr(wn,an,Nn,Lr,Ar)),Bt.mmap=(wn,an,Nn,Lr,Ar)=>{h.forceLoadFile(kt);var Xo=fr();if(!Xo)throw new h.ErrnoError(48);return dr(wn,ue,Xo,an,Nn),{ptr:Xo,allocated:!0}},kt.stream_ops=Bt,kt},createPreloadedFile:(d,_,w,M,Z,ve,we,Ge,kt,Bt)=>{var er=_?Yn.resolve(wt.join2(d,_)):d;function wn(an){function Nn(Lr){Bt&&Bt(),Ge||h.createDataFile(d,_,Lr,M,Z,kt),ve&&ve(),to()}Browser.handledByPreloadPlugin(an,er,Nn,()=>{we&&we(),to()})||Nn(an)}Or(),"string"==typeof w?function Er(d,_,w,M){var Z=M?"":"al "+d;Me(d,ve=>{_e(ve,'Loading data file "'+d+'" failed (no arrayBuffer).'),_(new Uint8Array(ve)),Z&&to()},ve=>{if(!w)throw'Loading data file "'+d+'" failed.';w()}),Z&&Or()}(w,an=>wn(an),we):wn(w)}},mn={DEFAULT_POLLMASK:5,calculateAt:function(d,_,w){if(wt.isAbs(_))return _;var M;if(M=-100===d?h.cwd():mn.getStreamFromFD(d).path,0==_.length){if(!w)throw new h.ErrnoError(44);return M}return wt.join2(M,_)},doStat:function(d,_,w){try{var M=d(_)}catch(Ge){if(Ge&&Ge.node&&wt.normalize(_)!==wt.normalize(h.getPath(Ge.node)))return-54;throw Ge}k[w>>2]=M.dev,k[w+8>>2]=M.ino,k[w+12>>2]=M.mode,fe[w+16>>2]=M.nlink,k[w+20>>2]=M.uid,k[w+24>>2]=M.gid,k[w+28>>2]=M.rdev,Vt=[M.size>>>0,(tt=M.size,+Math.abs(tt)>=1?tt>0?(0|Math.min(+Math.floor(tt/4294967296),4294967295))>>>0:~~+Math.ceil((tt-+(~~tt>>>0))/4294967296)>>>0:0)],k[w+40>>2]=Vt[0],k[w+44>>2]=Vt[1],k[w+48>>2]=4096,k[w+52>>2]=M.blocks;var Z=M.atime.getTime(),ve=M.mtime.getTime(),we=M.ctime.getTime();return Vt=[Math.floor(Z/1e3)>>>0,(tt=Math.floor(Z/1e3),+Math.abs(tt)>=1?tt>0?(0|Math.min(+Math.floor(tt/4294967296),4294967295))>>>0:~~+Math.ceil((tt-+(~~tt>>>0))/4294967296)>>>0:0)],k[w+56>>2]=Vt[0],k[w+60>>2]=Vt[1],fe[w+64>>2]=Z%1e3*1e3,Vt=[Math.floor(ve/1e3)>>>0,(tt=Math.floor(ve/1e3),+Math.abs(tt)>=1?tt>0?(0|Math.min(+Math.floor(tt/4294967296),4294967295))>>>0:~~+Math.ceil((tt-+(~~tt>>>0))/4294967296)>>>0:0)],k[w+72>>2]=Vt[0],k[w+76>>2]=Vt[1],fe[w+80>>2]=ve%1e3*1e3,Vt=[Math.floor(we/1e3)>>>0,(tt=Math.floor(we/1e3),+Math.abs(tt)>=1?tt>0?(0|Math.min(+Math.floor(tt/4294967296),4294967295))>>>0:~~+Math.ceil((tt-+(~~tt>>>0))/4294967296)>>>0:0)],k[w+88>>2]=Vt[0],k[w+92>>2]=Vt[1],fe[w+96>>2]=we%1e3*1e3,Vt=[M.ino>>>0,(tt=M.ino,+Math.abs(tt)>=1?tt>0?(0|Math.min(+Math.floor(tt/4294967296),4294967295))>>>0:~~+Math.ceil((tt-+(~~tt>>>0))/4294967296)>>>0:0)],k[w+104>>2]=Vt[0],k[w+108>>2]=Vt[1],0},doMsync:function(d,_,w,M,Z){if(!h.isFile(_.node.mode))throw new h.ErrnoError(43);if(2&M)return 0;var ve=Ke.slice(d,d+w);h.msync(_,ve,Z,w,M)},varargs:void 0,get:function(){return mn.varargs+=4,k[mn.varargs-4>>2]},getStr:function(d){return Re(d)},getStreamFromFD:function(d){var _=h.getStream(d);if(!_)throw new h.ErrnoError(8);return _}};function qo(d){return d%4==0&&(d%100!=0||d%400==0)}var ls=[0,31,60,91,121,152,182,213,244,274,305,335],Oo=[0,31,59,90,120,151,181,212,243,273,304,334];function go(d){return(qo(d.getFullYear())?ls:Oo)[d.getMonth()]+d.getDate()-1}function ro(d){var _=Tr(d)+1,w=No(_);return w&&function li(d,_,w){Sr(d,Ke,_,w)}(d,w,_),w}function Ri(d){var _=ae.buffer;try{return ae.grow(d-_.byteLength+65535>>>16),tn(),1}catch{}}var Fi={};function ci(){if(!ci.strings){var _={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:N||"./this.program"};for(var w in Fi)void 0===Fi[w]?delete _[w]:_[w]=Fi[w];var M=[];for(var w in _)M.push(w+"="+_[w]);ci.strings=M}return ci.strings}var P=[31,29,31,30,31,30,31,31,30,31,30,31],O=[31,28,31,30,31,30,31,31,30,31,30,31];var it=function(d,_,w,M){d||(d=this),this.parent=d,this.mount=d.mount,this.mounted=null,this.id=h.nextInode++,this.name=_,this.mode=w,this.node_ops={},this.stream_ops={},this.rdev=M};Object.defineProperties(it.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(d){d?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(d){d?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return h.isDir(this.mode)}},isDevice:{get:function(){return h.isChrdev(this.mode)}}}),h.FSNode=it,h.staticInit();var so,bt={a:function hn(d,_,w,M){kn("Assertion failed: "+Re(d)+", at: "+[_?Re(_):"unknown filename",w,M?Re(M):"unknown function"])},l:function I(d,_,w){try{var M=fn(_,w);return isNaN(M)?-61:(h.ftruncate(d,M),0)}catch(Z){if(typeof h>"u"||"ErrnoError"!==Z.name)throw Z;return-Z.errno}},j:function mi(){return!0},d:function Ai(d,_){var w=new Date(1e3*function Zo(d){return fe[d>>2]+4294967296*k[d+4>>2]}(d));k[_>>2]=w.getSeconds(),k[_+4>>2]=w.getMinutes(),k[_+8>>2]=w.getHours(),k[_+12>>2]=w.getDate(),k[_+16>>2]=w.getMonth(),k[_+20>>2]=w.getFullYear()-1900,k[_+24>>2]=w.getDay();var M=0|go(w);k[_+28>>2]=M,k[_+36>>2]=-60*w.getTimezoneOffset();var Z=new Date(w.getFullYear(),0,1),ve=new Date(w.getFullYear(),6,1).getTimezoneOffset(),we=Z.getTimezoneOffset(),Ge=0|(ve!=we&&w.getTimezoneOffset()==Math.min(we,ve));k[_+32>>2]=Ge},e:function _r(d){var _=new Date(k[d+20>>2]+1900,k[d+16>>2],k[d+12>>2],k[d+8>>2],k[d+4>>2],k[d>>2],0),w=k[d+32>>2],M=_.getTimezoneOffset(),Z=new Date(_.getFullYear(),0,1),ve=new Date(_.getFullYear(),6,1).getTimezoneOffset(),we=Z.getTimezoneOffset(),Ge=Math.min(we,ve);if(w<0)k[d+32>>2]=Number(ve!=we&&Ge==M);else if(w>0!=(Ge==M)){var kt=Math.max(we,ve),Bt=w>0?Ge:kt;_.setTime(_.getTime()+6e4*(Bt-M))}k[d+24>>2]=_.getDay();var er=0|go(_);return k[d+28>>2]=er,k[d>>2]=_.getSeconds(),k[d+4>>2]=_.getMinutes(),k[d+8>>2]=_.getHours(),k[d+12>>2]=_.getDate(),k[d+16>>2]=_.getMonth(),k[d+20>>2]=_.getYear(),_.getTime()/1e3|0},q:function Yo(d,_,w){var M=(new Date).getFullYear(),Z=new Date(M,0,1),ve=new Date(M,6,1),we=Z.getTimezoneOffset(),Ge=ve.getTimezoneOffset(),kt=Math.max(we,Ge);function Bt(Nn){var Lr=Nn.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Lr?Lr[1]:"GMT"}fe[d>>2]=60*kt,k[_>>2]=Number(we!=Ge);var er=Bt(Z),dr=Bt(ve),wn=ro(er),an=ro(dr);Ge<we?(fe[w>>2]=wn,fe[w+4>>2]=an):(fe[w>>2]=an,fe[w+4>>2]=wn)},b:function gi(){kn("")},c:function xo(){return Date.now()},f:function cs(d,_,w){Ke.copyWithin(d,_,_+w)},p:function Ko(d){var kt,_=Ke.length,w=2147483648;if((d>>>=0)>w)return!1;for(var Z=1;Z<=4;Z*=2){var ve=_*(1+.2/Z);if(ve=Math.min(ve,d+100663296),Ri(Math.min(w,(kt=Math.max(d,ve))+(65536-kt%65536)%65536)))return!0}return!1},n:function Is(d,_){var w=0;return ci().forEach(function(M,Z){var ve=_+w;fe[d+4*Z>>2]=ve,function Oi(d,_){for(var w=0;w<d.length;++w)ue[_++>>0]=d.charCodeAt(w);ue[_>>0]=0}(M,ve),w+=M.length+1}),0},o:function us(d,_){var w=ci();fe[d>>2]=w.length;var M=0;return w.forEach(function(Z){M+=Z.length+1}),fe[_>>2]=M,0},g:function ds(d){try{var _=mn.getStreamFromFD(d);return h.close(_),0}catch(w){if(typeof h>"u"||"ErrnoError"!==w.name)throw w;return w.errno}},i:function Kn(d,_,w,M){try{var ve=function Vs(d,_,w,M){for(var Z=0,ve=0;ve<w;ve++){var we=fe[_>>2],Ge=fe[_+4>>2];_+=8;var kt=h.read(d,ue,we,Ge,M);if(kt<0)return-1;if(Z+=kt,kt<Ge)break;typeof M<"u"&&(M+=kt)}return Z}(mn.getStreamFromFD(d),_,w);return fe[M>>2]=ve,0}catch(we){if(typeof h>"u"||"ErrnoError"!==we.name)throw we;return we.errno}},k:function _i(d,_,w,M,Z){try{var ve=fn(_,w);if(isNaN(ve))return 61;var we=mn.getStreamFromFD(d);return h.llseek(we,ve,M),Vt=[we.position>>>0,(tt=we.position,+Math.abs(tt)>=1?tt>0?(0|Math.min(+Math.floor(tt/4294967296),4294967295))>>>0:~~+Math.ceil((tt-+(~~tt>>>0))/4294967296)>>>0:0)],k[Z>>2]=Vt[0],k[Z+4>>2]=Vt[1],we.getdents&&0===ve&&0===M&&(we.getdents=null),0}catch(Ge){if(typeof h>"u"||"ErrnoError"!==Ge.name)throw Ge;return Ge.errno}},h:function fs(d,_,w,M){try{var ve=function Us(d,_,w,M){for(var Z=0,ve=0;ve<w;ve++){var we=fe[_>>2],Ge=fe[_+4>>2];_+=8;var kt=h.write(d,ue,we,Ge,M);if(kt<0)return-1;Z+=kt,typeof M<"u"&&(M+=kt)}return Z}(mn.getStreamFromFD(d),_,w);return fe[M>>2]=ve,0}catch(we){if(typeof h>"u"||"ErrnoError"!==we.name)throw we;return we.errno}},m:function F(d,_,w,M,Z){return function Fe(d,_,w,M){var Z=k[M+40>>2],ve={tm_sec:k[M>>2],tm_min:k[M+4>>2],tm_hour:k[M+8>>2],tm_mday:k[M+12>>2],tm_mon:k[M+16>>2],tm_year:k[M+20>>2],tm_wday:k[M+24>>2],tm_yday:k[M+28>>2],tm_isdst:k[M+32>>2],tm_gmtoff:k[M+36>>2],tm_zone:Z?Re(Z):""},we=Re(w),Ge={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var kt in Ge)we=we.replace(new RegExp(kt,"g"),Ge[kt]);var Bt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],er=["January","February","March","April","May","June","July","August","September","October","November","December"];function dr(ct,Gt,ao){for(var vr="number"==typeof ct?ct.toString():ct||"";vr.length<Gt;)vr=ao[0]+vr;return vr}function wn(ct,Gt){return dr(ct,Gt,"0")}function an(ct,Gt){function ao(Qo){return Qo<0?-1:Qo>0?1:0}var vr;return 0===(vr=ao(ct.getFullYear()-Gt.getFullYear()))&&0===(vr=ao(ct.getMonth()-Gt.getMonth()))&&(vr=ao(ct.getDate()-Gt.getDate())),vr}function Nn(ct){switch(ct.getDay()){case 0:return new Date(ct.getFullYear()-1,11,29);case 1:return ct;case 2:return new Date(ct.getFullYear(),0,3);case 3:return new Date(ct.getFullYear(),0,2);case 4:return new Date(ct.getFullYear(),0,1);case 5:return new Date(ct.getFullYear()-1,11,31);case 6:return new Date(ct.getFullYear()-1,11,30)}}function Lr(ct){var Gt=function pe(d,_){for(var w=new Date(d.getTime());_>0;){var M=qo(w.getFullYear()),Z=w.getMonth(),ve=(M?P:O)[Z];if(!(_>ve-w.getDate()))return w.setDate(w.getDate()+_),w;_-=ve-w.getDate()+1,w.setDate(1),Z<11?w.setMonth(Z+1):(w.setMonth(0),w.setFullYear(w.getFullYear()+1))}return w}(new Date(ct.tm_year+1900,0,1),ct.tm_yday),ao=new Date(Gt.getFullYear(),0,4),vr=new Date(Gt.getFullYear()+1,0,4),Qo=Nn(ao),br=Nn(vr);return an(Qo,Gt)<=0?an(br,Gt)<=0?Gt.getFullYear()+1:Gt.getFullYear():Gt.getFullYear()-1}var Ar={"%a":function(ct){return Bt[ct.tm_wday].substring(0,3)},"%A":function(ct){return Bt[ct.tm_wday]},"%b":function(ct){return er[ct.tm_mon].substring(0,3)},"%B":function(ct){return er[ct.tm_mon]},"%C":function(ct){return wn((ct.tm_year+1900)/100|0,2)},"%d":function(ct){return wn(ct.tm_mday,2)},"%e":function(ct){return dr(ct.tm_mday,2," ")},"%g":function(ct){return Lr(ct).toString().substring(2)},"%G":function(ct){return Lr(ct)},"%H":function(ct){return wn(ct.tm_hour,2)},"%I":function(ct){var Gt=ct.tm_hour;return 0==Gt?Gt=12:Gt>12&&(Gt-=12),wn(Gt,2)},"%j":function(ct){return wn(ct.tm_mday+function rr(d,_){for(var w=0,M=0;M<=_;w+=d[M++]);return w}(qo(ct.tm_year+1900)?P:O,ct.tm_mon-1),3)},"%m":function(ct){return wn(ct.tm_mon+1,2)},"%M":function(ct){return wn(ct.tm_min,2)},"%n":function(){return"\n"},"%p":function(ct){return ct.tm_hour>=0&&ct.tm_hour<12?"AM":"PM"},"%S":function(ct){return wn(ct.tm_sec,2)},"%t":function(){return"\t"},"%u":function(ct){return ct.tm_wday||7},"%U":function(ct){return wn(Math.floor((ct.tm_yday+7-ct.tm_wday)/7),2)},"%V":function(ct){var Gt=Math.floor((ct.tm_yday+7-(ct.tm_wday+6)%7)/7);if((ct.tm_wday+371-ct.tm_yday-2)%7<=2&&Gt++,Gt){if(53==Gt){var vr=(ct.tm_wday+371-ct.tm_yday)%7;4!=vr&&(3!=vr||!qo(ct.tm_year))&&(Gt=1)}}else{Gt=52;var ao=(ct.tm_wday+7-ct.tm_yday-1)%7;(4==ao||5==ao&&qo(ct.tm_year%400-1))&&Gt++}return wn(Gt,2)},"%w":function(ct){return ct.tm_wday},"%W":function(ct){return wn(Math.floor((ct.tm_yday+7-(ct.tm_wday+6)%7)/7),2)},"%y":function(ct){return(ct.tm_year+1900).toString().substring(2)},"%Y":function(ct){return ct.tm_year+1900},"%z":function(ct){var Gt=ct.tm_gmtoff,ao=Gt>=0;return Gt=(Gt=Math.abs(Gt)/60)/60*100+Gt%60,(ao?"+":"-")+String("0000"+Gt).slice(-4)},"%Z":function(ct){return ct.tm_zone},"%%":function(){return"%"}};for(var kt in we=we.replace(/%%/g,"\0\0"),Ar)we.includes(kt)&&(we=we.replace(new RegExp(kt,"g"),Ar[kt](ve)));var Xo=Kr(we=we.replace(/\0\0/g,"%"),!1);return Xo.length>_?0:(function be(d,_){ue.set(d,_)}(Xo,d),Xo.length-1)}(d,_,w,M)}},No=(function Fo(){var d={a:bt};function _(M,Z){var ve=M.exports;return l.asm=ve,ae=l.asm.r,tn(),function Jt(d){He.unshift(d)}(l.asm.s),to(),ve}if(Or(),l.instantiateWasm)try{return l.instantiateWasm(d,_)}catch(M){q("Module.instantiateWasm callback failed with error: "+M),J(M)}(function Yr(d,_,w,M){return d||"function"!=typeof WebAssembly.instantiateStreaming||wr(_)||"function"!=typeof fetch?ai(_,w,M):fetch(_,{credentials:"same-origin"}).then(function(Z){return WebAssembly.instantiateStreaming(Z,w).then(M,function(we){return q("wasm streaming compile failed: "+we),q("falling back to ArrayBuffer instantiation"),ai(_,w,M)})})})(ce,gr,d,function w(M){_(M.instance)}).catch(J)}(),l._malloc=function(){return(No=l._malloc=l.asm.t).apply(null,arguments)}),Ni=(l._free=function(){return(l._free=l.asm.u).apply(null,arguments)},l._emscripten_bind_VoidPtr___destroy___0=function(){return(Ni=l._emscripten_bind_VoidPtr___destroy___0=l.asm.v).apply(null,arguments)}),Co=l._emscripten_bind_FileEntry_GetName_0=function(){return(Co=l._emscripten_bind_FileEntry_GetName_0=l.asm.w).apply(null,arguments)},Li=l._emscripten_bind_FileEntry_IsDirectory_0=function(){return(Li=l._emscripten_bind_FileEntry_IsDirectory_0=l.asm.x).apply(null,arguments)},nl=l._emscripten_bind_FileEntry_GetSize_0=function(){return(nl=l._emscripten_bind_FileEntry_GetSize_0=l.asm.y).apply(null,arguments)},Bl=l._emscripten_bind_FileEntry_GetModifiedTS_0=function(){return(Bl=l._emscripten_bind_FileEntry_GetModifiedTS_0=l.asm.z).apply(null,arguments)},To=l._emscripten_bind_FileEntry_GetAttributes_0=function(){return(To=l._emscripten_bind_FileEntry_GetAttributes_0=l.asm.A).apply(null,arguments)},Vl=l._emscripten_bind_FileEntry___destroy___0=function(){return(Vl=l._emscripten_bind_FileEntry___destroy___0=l.asm.B).apply(null,arguments)},rl=l._emscripten_bind_Vfs_Vfs_0=function(){return(rl=l._emscripten_bind_Vfs_Vfs_0=l.asm.C).apply(null,arguments)},Ul=l._emscripten_bind_Vfs_Malloc_1=function(){return(Ul=l._emscripten_bind_Vfs_Malloc_1=l.asm.D).apply(null,arguments)},ol=l._emscripten_bind_Vfs_Free_1=function(){return(ol=l._emscripten_bind_Vfs_Free_1=l.asm.E).apply(null,arguments)},il=l._emscripten_bind_Vfs_Nullptr_0=function(){return(il=l._emscripten_bind_Vfs_Nullptr_0=l.asm.F).apply(null,arguments)},sl=l._emscripten_bind_Vfs_AllocateImage_1=function(){return(sl=l._emscripten_bind_Vfs_AllocateImage_1=l.asm.G).apply(null,arguments)},js=l._emscripten_bind_Vfs_MountImage_1=function(){return(js=l._emscripten_bind_Vfs_MountImage_1=l.asm.H).apply(null,arguments)},ra=l._emscripten_bind_Vfs_UnmountImage_1=function(){return(ra=l._emscripten_bind_Vfs_UnmountImage_1=l.asm.I).apply(null,arguments)},Lo=l._emscripten_bind_Vfs_SwitchSlot_1=function(){return(Lo=l._emscripten_bind_Vfs_SwitchSlot_1=l.asm.J).apply(null,arguments)},or=l._emscripten_bind_Vfs_GetPendingImageSize_0=function(){return(or=l._emscripten_bind_Vfs_GetPendingImageSize_0=l.asm.K).apply(null,arguments)},jl=l._emscripten_bind_Vfs_GetSize_1=function(){return(jl=l._emscripten_bind_Vfs_GetSize_1=l.asm.L).apply(null,arguments)},al=l._emscripten_bind_Vfs_GetPendingImage_0=function(){return(al=l._emscripten_bind_Vfs_GetPendingImage_0=l.asm.M).apply(null,arguments)},Gl=l._emscripten_bind_Vfs_GetImage_1=function(){return(Gl=l._emscripten_bind_Vfs_GetImage_1=l.asm.N).apply(null,arguments)},pt=l._emscripten_bind_Vfs_GetDirtyPages_1=function(){return(pt=l._emscripten_bind_Vfs_GetDirtyPages_1=l.asm.O).apply(null,arguments)},ll=l._emscripten_bind_Vfs_RenameFile_2=function(){return(ll=l._emscripten_bind_Vfs_RenameFile_2=l.asm.P).apply(null,arguments)},Dr=l._emscripten_bind_Vfs_ChmodFile_3=function(){return(Dr=l._emscripten_bind_Vfs_ChmodFile_3=l.asm.Q).apply(null,arguments)},ks=l._emscripten_bind_Vfs_StatFile_1=function(){return(ks=l._emscripten_bind_Vfs_StatFile_1=l.asm.R).apply(null,arguments)},wa=l._emscripten_bind_Vfs_UnlinkFile_1=function(){return(wa=l._emscripten_bind_Vfs_UnlinkFile_1=l.asm.S).apply(null,arguments)},oa=l._emscripten_bind_Vfs_Mkdir_1=function(){return(oa=l._emscripten_bind_Vfs_Mkdir_1=l.asm.T).apply(null,arguments)},Sa=l._emscripten_bind_Vfs_GetEntry_0=function(){return(Sa=l._emscripten_bind_Vfs_GetEntry_0=l.asm.U).apply(null,arguments)},Ea=l._emscripten_bind_Vfs_BytesFree_1=function(){return(Ea=l._emscripten_bind_Vfs_BytesFree_1=l.asm.V).apply(null,arguments)},ia=l._emscripten_bind_Vfs_BytesTotal_1=function(){return(ia=l._emscripten_bind_Vfs_BytesTotal_1=l.asm.W).apply(null,arguments)},xs=l._emscripten_bind_Vfs_ReadFile_1=function(){return(xs=l._emscripten_bind_Vfs_ReadFile_1=l.asm.X).apply(null,arguments)},Gs=l._emscripten_bind_Vfs_GetCurrentFileSize_0=function(){return(Gs=l._emscripten_bind_Vfs_GetCurrentFileSize_0=l.asm.Y).apply(null,arguments)},sa=l._emscripten_bind_Vfs_GetCurrentFileContent_0=function(){return(sa=l._emscripten_bind_Vfs_GetCurrentFileContent_0=l.asm.Z).apply(null,arguments)},Da=l._emscripten_bind_Vfs_ReleaseCurrentFile_0=function(){return(Da=l._emscripten_bind_Vfs_ReleaseCurrentFile_0=l.asm._).apply(null,arguments)},sn=l._emscripten_bind_Vfs_WriteFile_3=function(){return(sn=l._emscripten_bind_Vfs_WriteFile_3=l.asm.$).apply(null,arguments)},Hs=l._emscripten_bind_Vfs___destroy___0=function(){return(Hs=l._emscripten_bind_Vfs___destroy___0=l.asm.aa).apply(null,arguments)},Ia=l._emscripten_bind_ReaddirContext_ReaddirContext_1=function(){return(Ia=l._emscripten_bind_ReaddirContext_ReaddirContext_1=l.asm.ba).apply(null,arguments)},Ao=l._emscripten_bind_ReaddirContext_Next_0=function(){return(Ao=l._emscripten_bind_ReaddirContext_Next_0=l.asm.ca).apply(null,arguments)},aa=l._emscripten_bind_ReaddirContext_GetEntry_0=function(){return(aa=l._emscripten_bind_ReaddirContext_GetEntry_0=l.asm.da).apply(null,arguments)},cl=l._emscripten_bind_ReaddirContext_GetStatus_0=function(){return(cl=l._emscripten_bind_ReaddirContext_GetStatus_0=l.asm.ea).apply(null,arguments)},pr=l._emscripten_bind_ReaddirContext_GetError_0=function(){return(pr=l._emscripten_bind_ReaddirContext_GetError_0=l.asm.fa).apply(null,arguments)},ul=l._emscripten_bind_ReaddirContext_GetErrorDescription_0=function(){return(ul=l._emscripten_bind_ReaddirContext_GetErrorDescription_0=l.asm.ga).apply(null,arguments)},Hl=l._emscripten_bind_ReaddirContext___destroy___0=function(){return(Hl=l._emscripten_bind_ReaddirContext___destroy___0=l.asm.ha).apply(null,arguments)},vc=l._emscripten_bind_CreateZipContext_CreateZipContext_2=function(){return(vc=l._emscripten_bind_CreateZipContext_CreateZipContext_2=l.asm.ia).apply(null,arguments)},zs=l._emscripten_bind_CreateZipContext_AddFile_1=function(){return(zs=l._emscripten_bind_CreateZipContext_AddFile_1=l.asm.ja).apply(null,arguments)},ps=l._emscripten_bind_CreateZipContext_AddDirectory_1=function(){return(ps=l._emscripten_bind_CreateZipContext_AddDirectory_1=l.asm.ka).apply(null,arguments)},Ws=l._emscripten_bind_CreateZipContext_Continue_0=function(){return(Ws=l._emscripten_bind_CreateZipContext_Continue_0=l.asm.la).apply(null,arguments)},ka=l._emscripten_bind_CreateZipContext_GetState_0=function(){return(ka=l._emscripten_bind_CreateZipContext_GetState_0=l.asm.ma).apply(null,arguments)},xa=l._emscripten_bind_CreateZipContext_GetZipContent_0=function(){return(xa=l._emscripten_bind_CreateZipContext_GetZipContent_0=l.asm.na).apply(null,arguments)},co=l._emscripten_bind_CreateZipContext_GetZipSize_0=function(){return(co=l._emscripten_bind_CreateZipContext_GetZipSize_0=l.asm.oa).apply(null,arguments)},vi=l._emscripten_bind_CreateZipContext_GetErrorItem_0=function(){return(vi=l._emscripten_bind_CreateZipContext_GetErrorItem_0=l.asm.pa).apply(null,arguments)},io=l._emscripten_bind_CreateZipContext___destroy___0=function(){return(io=l._emscripten_bind_CreateZipContext___destroy___0=l.asm.qa).apply(null,arguments)},hs=l._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=function(){return(hs=l._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=l.asm.ra).apply(null,arguments)},dl=l._emscripten_bind_DeleteRecursiveContext_AddFile_1=function(){return(dl=l._emscripten_bind_DeleteRecursiveContext_AddFile_1=l.asm.sa).apply(null,arguments)},he=l._emscripten_bind_DeleteRecursiveContext_Continue_0=function(){return(he=l._emscripten_bind_DeleteRecursiveContext_Continue_0=l.asm.ta).apply(null,arguments)},Ma=l._emscripten_bind_DeleteRecursiveContext_GetState_0=function(){return(Ma=l._emscripten_bind_DeleteRecursiveContext_GetState_0=l.asm.ua).apply(null,arguments)},An=l._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=function(){return(An=l._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=l.asm.va).apply(null,arguments)},Jn=l._emscripten_bind_DeleteRecursiveContext___destroy___0=function(){return(Jn=l._emscripten_bind_DeleteRecursiveContext___destroy___0=l.asm.wa).apply(null,arguments)},Zs=l._emscripten_bind_UnzipContext_UnzipContext_4=function(){return(Zs=l._emscripten_bind_UnzipContext_UnzipContext_4=l.asm.xa).apply(null,arguments)},Ur=l._emscripten_bind_UnzipContext_GetState_0=function(){return(Ur=l._emscripten_bind_UnzipContext_GetState_0=l.asm.ya).apply(null,arguments)},uo=l._emscripten_bind_UnzipContext_Continue_0=function(){return(uo=l._emscripten_bind_UnzipContext_Continue_0=l.asm.za).apply(null,arguments)},fo=l._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=function(){return(fo=l._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=l.asm.Aa).apply(null,arguments)},Gr=l._emscripten_bind_UnzipContext_GetCurrentEntry_0=function(){return(Gr=l._emscripten_bind_UnzipContext_GetCurrentEntry_0=l.asm.Ba).apply(null,arguments)},ir=l._emscripten_bind_UnzipContext_GetCollisionPath_0=function(){return(ir=l._emscripten_bind_UnzipContext_GetCollisionPath_0=l.asm.Ca).apply(null,arguments)},$n=l._emscripten_bind_UnzipContext_GetEntriesTotal_0=function(){return($n=l._emscripten_bind_UnzipContext_GetEntriesTotal_0=l.asm.Da).apply(null,arguments)},p=l._emscripten_bind_UnzipContext_GetEntriesSuccess_0=function(){return(p=l._emscripten_bind_UnzipContext_GetEntriesSuccess_0=l.asm.Ea).apply(null,arguments)},y=l._emscripten_bind_UnzipContext___destroy___0=function(){return(y=l._emscripten_bind_UnzipContext___destroy___0=l.asm.Fa).apply(null,arguments)},C=l._emscripten_bind_PasteContext_PasteContext_3=function(){return(C=l._emscripten_bind_PasteContext_PasteContext_3=l.asm.Ga).apply(null,arguments)},A=l._emscripten_bind_PasteContext_AddFile_1=function(){return(A=l._emscripten_bind_PasteContext_AddFile_1=l.asm.Ha).apply(null,arguments)},V=l._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=function(){return(V=l._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=l.asm.Ia).apply(null,arguments)},ye=l._emscripten_bind_PasteContext_GetState_0=function(){return(ye=l._emscripten_bind_PasteContext_GetState_0=l.asm.Ja).apply(null,arguments)},ke=l._emscripten_bind_PasteContext_Continue_0=function(){return(ke=l._emscripten_bind_PasteContext_Continue_0=l.asm.Ka).apply(null,arguments)},We=l._emscripten_bind_PasteContext_ContinueWithOverwrite_0=function(){return(We=l._emscripten_bind_PasteContext_ContinueWithOverwrite_0=l.asm.La).apply(null,arguments)},It=l._emscripten_bind_PasteContext_GetCurrentEntry_0=function(){return(It=l._emscripten_bind_PasteContext_GetCurrentEntry_0=l.asm.Ma).apply(null,arguments)},ln=l._emscripten_bind_PasteContext_GetCollisionPath_0=function(){return(ln=l._emscripten_bind_PasteContext_GetCollisionPath_0=l.asm.Na).apply(null,arguments)},Bn=l._emscripten_bind_PasteContext_GetEntriesSuccess_0=function(){return(Bn=l._emscripten_bind_PasteContext_GetEntriesSuccess_0=l.asm.Oa).apply(null,arguments)},sr=l._emscripten_bind_PasteContext___destroy___0=function(){return(sr=l._emscripten_bind_PasteContext___destroy___0=l.asm.Pa).apply(null,arguments)},Le=l._main=function(){return(Le=l._main=l.asm.Qa).apply(null,arguments)};function gt(){var d=Le;try{var M=d(0,0);return function Ie(d,_){ie=d,function le(d){ie=d,function Ce(){return Te||!1}()||(l.onExit&&l.onExit(d),ot=!0),B(d,new Zi(d))}(d)}(M),M}catch(Z){return function rt(d){if(d instanceof Zi||"unwind"==d)return ie;B(1,d)}(Z)}}function at(){function d(){so||(so=!0,l.calledRun=!0,!ot&&(function Pe(){!l.noFSInit&&!h.init.initialized&&h.init(),h.ignorePermissions=!1,Qn.init(),Nr(He)}(),function Dt(){Nr(et)}(),te(l),l.onRuntimeInitialized&&l.onRuntimeInitialized(),jn&&gt(),function on(){if(l.postRun)for("function"==typeof l.postRun&&(l.postRun=[l.postRun]);l.postRun.length;)d=l.postRun.shift(),Je.unshift(d);var d;Nr(Je)}()))}Nt>0||(function ht(){if(l.preRun)for("function"==typeof l.preRun&&(l.preRun=[l.preRun]);l.preRun.length;)d=l.preRun.shift(),Ee.unshift(d);var d;Nr(Ee)}(),Nt>0)||(l.setStatus?(l.setStatus("Running..."),setTimeout(function(){setTimeout(function(){l.setStatus("")},1),d()},1)):d())}if(l.___original_main=function(){return(l.___original_main=l.asm.Sa).apply(null,arguments)},l.___start_em_js=1067672,l.___stop_em_js=1067770,In=function d(){so||at(),so||(In=d)},l.preInit)for("function"==typeof l.preInit&&(l.preInit=[l.preInit]);l.preInit.length>0;)l.preInit.pop()();var jn=!0;function Pt(){}function Gn(d){return(d||Pt).__cache__}function pn(d,_){var w=Gn(_),M=w[d];return M||((M=Object.create((_||Pt).prototype)).ptr=d,w[d]=M)}l.noInitialRun&&(jn=!1),at(),(Pt.prototype=Object.create(Pt.prototype)).constructor=Pt,Pt.prototype.__class__=Pt,Pt.__cache__={},l.WrapperObject=Pt,l.getCache=Gn,l.wrapPointer=pn,l.castObject=function la(d,_){return pn(d.ptr,_)},l.NULL=pn(0),l.destroy=function ui(d){if(!d.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";d.__destroy__(),delete Gn(d.__class__)[d.ptr]},l.compare=function ms(d,_){return d.ptr===_.ptr},l.getPointer=function $t(d){return d.ptr},l.getClass=function Pn(d){return d.__class__};var qt={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(qt.needed){for(var d=0;d<qt.temps.length;d++)l._free(qt.temps[d]);qt.temps.length=0,l._free(qt.buffer),qt.buffer=0,qt.size+=qt.needed,qt.needed=0}qt.buffer||(qt.size+=128,qt.buffer=l._malloc(qt.size),_e(qt.buffer)),qt.pos=0},alloc:function(d,_){_e(qt.buffer);var Z,M=d.length*_.BYTES_PER_ELEMENT;return qt.pos+(M=M+7&-8)>=qt.size?(_e(M>0),qt.needed+=M,Z=l._malloc(M),qt.temps.push(Z)):(Z=qt.buffer+qt.pos,qt.pos+=M),Z},copy:function(d,_,w){switch(w>>>=0,_.BYTES_PER_ELEMENT){case 2:w>>>=1;break;case 4:w>>>=2;break;case 8:w>>>=3}for(var Z=0;Z<d.length;Z++)_[w+Z]=d[Z]}};function kr(d){if("string"==typeof d){var _=Kr(d),w=qt.alloc(_,ue);return qt.copy(_,ue,w),w}return d}function zr(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Hn(){throw"cannot construct a FileEntry, no constructor in IDL"}function jt(){this.ptr=rl(),Gn(jt)[this.ptr]=this}function On(d){qt.prepare(),d=d&&"object"==typeof d?d.ptr:kr(d),this.ptr=Ia(d),Gn(On)[this.ptr]=this}function yr(d,_){qt.prepare(),d=d&&"object"==typeof d?d.ptr:kr(d),_&&"object"==typeof _&&(_=_.ptr),this.ptr=vc(d,_),Gn(yr)[this.ptr]=this}function Wr(d){d&&"object"==typeof d&&(d=d.ptr),this.ptr=hs(d),Gn(Wr)[this.ptr]=this}function Zt(d,_,w,M){qt.prepare(),d&&"object"==typeof d&&(d=d.ptr),_=_&&"object"==typeof _?_.ptr:kr(_),w&&"object"==typeof w&&(w=w.ptr),M&&"object"==typeof M&&(M=M.ptr),this.ptr=Zs(d,_,w,M),Gn(Zt)[this.ptr]=this}function hr(d,_,w){qt.prepare(),d&&"object"==typeof d&&(d=d.ptr),_=_&&"object"==typeof _?_.ptr:kr(_),w=w&&"object"==typeof w?w.ptr:kr(w),this.ptr=C(d,_,w),Gn(hr)[this.ptr]=this}return(zr.prototype=Object.create(Pt.prototype)).constructor=zr,zr.prototype.__class__=zr,zr.__cache__={},l.VoidPtr=zr,zr.prototype.__destroy__=zr.prototype.__destroy__=function(){Ni(this.ptr)},(Hn.prototype=Object.create(Pt.prototype)).constructor=Hn,Hn.prototype.__class__=Hn,Hn.__cache__={},l.FileEntry=Hn,Hn.prototype.GetName=Hn.prototype.GetName=function(){return Re(Co(this.ptr))},Hn.prototype.IsDirectory=Hn.prototype.IsDirectory=function(){return!!Li(this.ptr)},Hn.prototype.GetSize=Hn.prototype.GetSize=function(){return nl(this.ptr)},Hn.prototype.GetModifiedTS=Hn.prototype.GetModifiedTS=function(){return Bl(this.ptr)},Hn.prototype.GetAttributes=Hn.prototype.GetAttributes=function(){return To(this.ptr)},Hn.prototype.__destroy__=Hn.prototype.__destroy__=function(){Vl(this.ptr)},(jt.prototype=Object.create(Pt.prototype)).constructor=jt,jt.prototype.__class__=jt,jt.__cache__={},l.Vfs=jt,jt.prototype.Malloc=jt.prototype.Malloc=function(d){return d&&"object"==typeof d&&(d=d.ptr),pn(Ul(this.ptr,d),zr)},jt.prototype.Free=jt.prototype.Free=function(d){d&&"object"==typeof d&&(d=d.ptr),ol(this.ptr,d)},jt.prototype.Nullptr=jt.prototype.Nullptr=function(){return pn(il(this.ptr),zr)},jt.prototype.AllocateImage=jt.prototype.AllocateImage=function(d){d&&"object"==typeof d&&(d=d.ptr),sl(this.ptr,d)},jt.prototype.MountImage=jt.prototype.MountImage=function(d){return d&&"object"==typeof d&&(d=d.ptr),!!js(this.ptr,d)},jt.prototype.UnmountImage=jt.prototype.UnmountImage=function(d){d&&"object"==typeof d&&(d=d.ptr),ra(this.ptr,d)},jt.prototype.SwitchSlot=jt.prototype.SwitchSlot=function(d){d&&"object"==typeof d&&(d=d.ptr),Lo(this.ptr,d)},jt.prototype.GetPendingImageSize=jt.prototype.GetPendingImageSize=function(){return or(this.ptr)},jt.prototype.GetSize=jt.prototype.GetSize=function(d){return d&&"object"==typeof d&&(d=d.ptr),jl(this.ptr,d)},jt.prototype.GetPendingImage=jt.prototype.GetPendingImage=function(){return pn(al(this.ptr),zr)},jt.prototype.GetImage=jt.prototype.GetImage=function(d){return d&&"object"==typeof d&&(d=d.ptr),pn(Gl(this.ptr,d),zr)},jt.prototype.GetDirtyPages=jt.prototype.GetDirtyPages=function(d){return d&&"object"==typeof d&&(d=d.ptr),pn(pt(this.ptr,d),zr)},jt.prototype.RenameFile=jt.prototype.RenameFile=function(d,_){var w=this.ptr;return qt.prepare(),d=d&&"object"==typeof d?d.ptr:kr(d),_=_&&"object"==typeof _?_.ptr:kr(_),ll(w,d,_)},jt.prototype.ChmodFile=jt.prototype.ChmodFile=function(d,_,w){var M=this.ptr;return qt.prepare(),d=d&&"object"==typeof d?d.ptr:kr(d),_&&"object"==typeof _&&(_=_.ptr),w&&"object"==typeof w&&(w=w.ptr),Dr(M,d,_,w)},jt.prototype.StatFile=jt.prototype.StatFile=function(d){var _=this.ptr;return qt.prepare(),d=d&&"object"==typeof d?d.ptr:kr(d),ks(_,d)},jt.prototype.UnlinkFile=jt.prototype.UnlinkFile=function(d){var _=this.ptr;return qt.prepare(),d=d&&"object"==typeof d?d.ptr:kr(d),wa(_,d)},jt.prototype.Mkdir=jt.prototype.Mkdir=function(d){var _=this.ptr;return qt.prepare(),d=d&&"object"==typeof d?d.ptr:kr(d),oa(_,d)},jt.prototype.GetEntry=jt.prototype.GetEntry=function(){return pn(Sa(this.ptr),Hn)},jt.prototype.BytesFree=jt.prototype.BytesFree=function(d){return d&&"object"==typeof d&&(d=d.ptr),Ea(this.ptr,d)},jt.prototype.BytesTotal=jt.prototype.BytesTotal=function(d){return d&&"object"==typeof d&&(d=d.ptr),ia(this.ptr,d)},jt.prototype.ReadFile=jt.prototype.ReadFile=function(d){var _=this.ptr;return qt.prepare(),d=d&&"object"==typeof d?d.ptr:kr(d),!!xs(_,d)},jt.prototype.GetCurrentFileSize=jt.prototype.GetCurrentFileSize=function(){return Gs(this.ptr)},jt.prototype.GetCurrentFileContent=jt.prototype.GetCurrentFileContent=function(){return pn(sa(this.ptr),zr)},jt.prototype.ReleaseCurrentFile=jt.prototype.ReleaseCurrentFile=function(){Da(this.ptr)},jt.prototype.WriteFile=jt.prototype.WriteFile=function(d,_,w){var M=this.ptr;return qt.prepare(),d=d&&"object"==typeof d?d.ptr:kr(d),_&&"object"==typeof _&&(_=_.ptr),w&&"object"==typeof w&&(w=w.ptr),sn(M,d,_,w)},jt.prototype.__destroy__=jt.prototype.__destroy__=function(){Hs(this.ptr)},(On.prototype=Object.create(Pt.prototype)).constructor=On,On.prototype.__class__=On,On.__cache__={},l.ReaddirContext=On,On.prototype.Next=On.prototype.Next=function(){return Ao(this.ptr)},On.prototype.GetEntry=On.prototype.GetEntry=function(){return pn(aa(this.ptr),Hn)},On.prototype.GetStatus=On.prototype.GetStatus=function(){return cl(this.ptr)},On.prototype.GetError=On.prototype.GetError=function(){return pr(this.ptr)},On.prototype.GetErrorDescription=On.prototype.GetErrorDescription=function(){return Re(ul(this.ptr))},On.prototype.__destroy__=On.prototype.__destroy__=function(){Hl(this.ptr)},(yr.prototype=Object.create(Pt.prototype)).constructor=yr,yr.prototype.__class__=yr,yr.__cache__={},l.CreateZipContext=yr,yr.prototype.AddFile=yr.prototype.AddFile=function(d){var _=this.ptr;return qt.prepare(),d=d&&"object"==typeof d?d.ptr:kr(d),pn(zs(_,d),yr)},yr.prototype.AddDirectory=yr.prototype.AddDirectory=function(d){var _=this.ptr;return qt.prepare(),d=d&&"object"==typeof d?d.ptr:kr(d),pn(ps(_,d),yr)},yr.prototype.Continue=yr.prototype.Continue=function(){return Ws(this.ptr)},yr.prototype.GetState=yr.prototype.GetState=function(){return ka(this.ptr)},yr.prototype.GetZipContent=yr.prototype.GetZipContent=function(){return pn(xa(this.ptr),zr)},yr.prototype.GetZipSize=yr.prototype.GetZipSize=function(){return co(this.ptr)},yr.prototype.GetErrorItem=yr.prototype.GetErrorItem=function(){return Re(vi(this.ptr))},yr.prototype.__destroy__=yr.prototype.__destroy__=function(){io(this.ptr)},(Wr.prototype=Object.create(Pt.prototype)).constructor=Wr,Wr.prototype.__class__=Wr,Wr.__cache__={},l.DeleteRecursiveContext=Wr,Wr.prototype.AddFile=Wr.prototype.AddFile=function(d){var _=this.ptr;return qt.prepare(),d=d&&"object"==typeof d?d.ptr:kr(d),pn(dl(_,d),Wr)},Wr.prototype.Continue=Wr.prototype.Continue=function(){return he(this.ptr)},Wr.prototype.GetState=Wr.prototype.GetState=function(){return Ma(this.ptr)},Wr.prototype.GetFailingPath=Wr.prototype.GetFailingPath=function(){return Re(An(this.ptr))},Wr.prototype.__destroy__=Wr.prototype.__destroy__=function(){Jn(this.ptr)},(Zt.prototype=Object.create(Pt.prototype)).constructor=Zt,Zt.prototype.__class__=Zt,Zt.__cache__={},l.UnzipContext=Zt,Zt.prototype.GetState=Zt.prototype.GetState=function(){return Ur(this.ptr)},Zt.prototype.Continue=Zt.prototype.Continue=function(){return uo(this.ptr)},Zt.prototype.ContinueWithOverwrite=Zt.prototype.ContinueWithOverwrite=function(){return fo(this.ptr)},Zt.prototype.GetCurrentEntry=Zt.prototype.GetCurrentEntry=function(){return Re(Gr(this.ptr))},Zt.prototype.GetCollisionPath=Zt.prototype.GetCollisionPath=function(){return Re(ir(this.ptr))},Zt.prototype.GetEntriesTotal=Zt.prototype.GetEntriesTotal=function(){return $n(this.ptr)},Zt.prototype.GetEntriesSuccess=Zt.prototype.GetEntriesSuccess=function(){return p(this.ptr)},Zt.prototype.__destroy__=Zt.prototype.__destroy__=function(){y(this.ptr)},(hr.prototype=Object.create(Pt.prototype)).constructor=hr,hr.prototype.__class__=hr,hr.__cache__={},l.PasteContext=hr,hr.prototype.AddFile=hr.prototype.AddFile=function(d){var _=this.ptr;return qt.prepare(),d=d&&"object"==typeof d?d.ptr:kr(d),pn(A(_,d),hr)},hr.prototype.SetDeleteAfterCopy=hr.prototype.SetDeleteAfterCopy=function(d){return d&&"object"==typeof d&&(d=d.ptr),pn(V(this.ptr,d),hr)},hr.prototype.GetState=hr.prototype.GetState=function(){return ye(this.ptr)},hr.prototype.Continue=hr.prototype.Continue=function(){return ke(this.ptr)},hr.prototype.ContinueWithOverwrite=hr.prototype.ContinueWithOverwrite=function(){return We(this.ptr)},hr.prototype.GetCurrentEntry=hr.prototype.GetCurrentEntry=function(){return Re(It(this.ptr))},hr.prototype.GetCollisionPath=hr.prototype.GetCollisionPath=function(){return Re(ln(this.ptr))},hr.prototype.GetEntriesSuccess=hr.prototype.GetEntriesSuccess=function(){return Bn(this.ptr)},hr.prototype.__destroy__=hr.prototype.__destroy__=function(){sr(this.ptr)},E.ready});$e.exports=ze},5933:($e,ze,R)=>{"use strict";R.d(ze,{c:()=>Ne});var E=R(9259),l=R(2286);let te;const G=de=>de.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Q=de=>(void 0===te&&(te=void 0===de.style.animationName&&void 0!==de.style.webkitAnimationName?"-webkit-":""),te),N=(de,H,q)=>{const ce=H.startsWith("animation")?Q(de):"";de.style.setProperty(ce+H,q)},B=(de,H)=>{const q=H.startsWith("animation")?Q(de):"";de.style.removeProperty(q+H)},oe=[],Me=(de=[],H)=>{if(void 0!==H){const q=Array.isArray(H)?H:[H];return[...de,...q]}return de},Ne=de=>{let H,q,ce,Te,ae,ot,Qe,Ee,He,et,Je,ht,Pe,ie=[],_e=[],ue=[],Ke=!1,Ae={},k=[],fe=[],mt={},Ct=0,tn=!1,Be=!1,Ve=!0,z=!1,Ce=!0,Dt=!1;const on=de,Xt=[],Jt=[],U=[],Nt=[],qn=[],In=[],Mi=[],Or=[],to=[],kn=[],Ti="function"==typeof AnimationEffect||void 0!==l.w&&"function"==typeof l.w.AnimationEffect,wr="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Ti,bo=()=>kn,tt=(F,le)=>((le?.oneTimeCallback?Jt:Xt).push({c:F,o:le}),Pe),Zi=()=>{if(wr)kn.forEach(F=>{F.cancel()}),kn.length=0;else{const F=U.slice();(0,E.r)(()=>{F.forEach(le=>{B(le,"animation-name"),B(le,"animation-duration"),B(le,"animation-timing-function"),B(le,"animation-iteration-count"),B(le,"animation-delay"),B(le,"animation-play-state"),B(le,"animation-fill-mode"),B(le,"animation-direction")})})}},Nr=()=>{qn.forEach(F=>{F?.parentNode&&F.parentNode.removeChild(F)}),qn.length=0},Qn=()=>void 0!==ae?ae:Qe?Qe.getFill():"both",fr=()=>void 0!==He?He:void 0!==ot?ot:Qe?Qe.getDirection():"normal",ft=()=>tn?"linear":void 0!==ce?ce:Qe?Qe.getEasing():"linear",Er=()=>Be?0:void 0!==et?et:void 0!==q?q:Qe?Qe.getDuration():0,h=()=>void 0!==Te?Te:Qe?Qe.getIterations():1,mn=()=>void 0!==Je?Je:void 0!==H?H:Qe?Qe.getDelay():0,xo=()=>{0!==Ct&&(Ct--,0===Ct&&((()=>{Kn(),Or.forEach(it=>it()),to.forEach(it=>it());const F=Ve?1:0,le=k,Ie=fe,rt=mt;U.forEach(it=>{const Se=it.classList;le.forEach(Lt=>Se.add(Lt)),Ie.forEach(Lt=>Se.remove(Lt));for(const Lt in rt)rt.hasOwnProperty(Lt)&&N(it,Lt,rt[Lt])}),Xt.forEach(it=>it.c(F,Pe)),Jt.forEach(it=>it.c(F,Pe)),Jt.length=0,Ce=!0,Ve&&(z=!0),Ve=!0})(),Qe&&Qe.animationFinish()))},oo=(F=!0)=>{Nr();const le=(de=>(de.forEach(H=>{for(const q in H)if(H.hasOwnProperty(q)){const ce=H[q];if("easing"===q)H["animation-timing-function"]=ce,delete H[q];else{const Te=G(q);Te!==q&&(H[Te]=ce,delete H[q])}}}),de))(ie);U.forEach(Ie=>{if(le.length>0){const rt=((de=[])=>de.map(H=>{const q=H.offset,ce=[];for(const Te in H)H.hasOwnProperty(Te)&&"offset"!==Te&&ce.push(`${Te}: ${H[Te]};`);return`${100*q}% { ${ce.join(" ")} }`}).join(" "))(le);ht=void 0!==de?de:(de=>{let H=oe.indexOf(de);return H<0&&(H=oe.push(de)-1),`ion-animation-${H}`})(rt);const it=((de,H,q)=>{var ce;const Te=(de=>{const H=void 0!==de.getRootNode?de.getRootNode():de;return H.head||H})(q),ae=Q(q),ot=Te.querySelector("#"+de);if(ot)return ot;const ie=(null!==(ce=q.ownerDocument)&&void 0!==ce?ce:document).createElement("style");return ie.id=de,ie.textContent=`@${ae}keyframes ${de} { ${H} } @${ae}keyframes ${de}-alt { ${H} }`,Te.appendChild(ie),ie})(ht,rt,Ie);qn.push(it),N(Ie,"animation-duration",`${Er()}ms`),N(Ie,"animation-timing-function",ft()),N(Ie,"animation-delay",`${mn()}ms`),N(Ie,"animation-fill-mode",Qn()),N(Ie,"animation-direction",fr());const Se=h()===1/0?"infinite":h().toString();N(Ie,"animation-iteration-count",Se),N(Ie,"animation-play-state","paused"),F&&N(Ie,"animation-name",`${it.id}-alt`),(0,E.r)(()=>{N(Ie,"animation-name",it.id||null)})}})},Pi=(F=!0)=>{(()=>{In.forEach(rt=>rt()),Mi.forEach(rt=>rt());const F=_e,le=ue,Ie=Ae;U.forEach(rt=>{const it=rt.classList;F.forEach(Se=>it.add(Se)),le.forEach(Se=>it.remove(Se));for(const Se in Ie)Ie.hasOwnProperty(Se)&&N(rt,Se,Ie[Se])})})(),ie.length>0&&(wr?(U.forEach(F=>{const le=F.animate(ie,{id:on,delay:mn(),duration:Er(),easing:ft(),iterations:h(),fill:Qn(),direction:fr()});le.pause(),kn.push(le)}),kn.length>0&&(kn[0].onfinish=()=>{xo()})):oo(F)),Ke=!0},Ri=F=>{if(F=Math.min(Math.max(F,0),.9999),wr)kn.forEach(le=>{le.currentTime=le.effect.getComputedTiming().delay+Er()*F,le.pause()});else{const le=`-${Er()*F}ms`;U.forEach(Ie=>{ie.length>0&&(N(Ie,"animation-delay",le),N(Ie,"animation-play-state","paused"))})}},Ko=F=>{kn.forEach(le=>{le.effect.updateTiming({delay:mn(),duration:Er(),easing:ft(),iterations:h(),fill:Qn(),direction:fr()})}),void 0!==F&&Ri(F)},Fi=(F=!0,le)=>{(0,E.r)(()=>{U.forEach(Ie=>{N(Ie,"animation-name",ht||null),N(Ie,"animation-duration",`${Er()}ms`),N(Ie,"animation-timing-function",ft()),N(Ie,"animation-delay",void 0!==le?`-${le*Er()}ms`:`${mn()}ms`),N(Ie,"animation-fill-mode",Qn()||null),N(Ie,"animation-direction",fr()||null);const rt=h()===1/0?"infinite":h().toString();N(Ie,"animation-iteration-count",rt),F&&N(Ie,"animation-name",`${ht}-alt`),(0,E.r)(()=>{N(Ie,"animation-name",ht||null)})})})},lo=(F=!1,le=!0,Ie)=>(F&&Nt.forEach(rt=>{rt.update(F,le,Ie)}),wr?Ko(Ie):Fi(le,Ie),Pe),us=()=>{Ke&&(wr?kn.forEach(F=>{F.pause()}):U.forEach(F=>{N(F,"animation-play-state","paused")}),Dt=!0)},Vs=()=>{Ee=void 0,xo()},Kn=()=>{Ee&&clearTimeout(Ee)},P=F=>new Promise(le=>{F?.sync&&(Be=!0,tt(()=>Be=!1,{oneTimeCallback:!0})),Ke||Pi(),z&&(wr?(Ri(0),Ko()):Fi(),z=!1),Ce&&(Ct=Nt.length+1,Ce=!1),tt(()=>le(),{oneTimeCallback:!0}),Nt.forEach(Ie=>{Ie.play()}),wr?(kn.forEach(F=>{F.play()}),(0===ie.length||0===U.length)&&xo()):(()=>{if(Kn(),(0,E.r)(()=>{U.forEach(F=>{ie.length>0&&N(F,"animation-play-state","running")})}),0===ie.length||0===U.length)xo();else{const F=mn()||0,le=Er()||0,Ie=h()||1;isFinite(Ie)&&(Ee=setTimeout(Vs,F+le*Ie+100)),((de,H)=>{let q;const ce={passive:!0},ae=ot=>{de===ot.target&&(q&&q(),Kn(),(0,E.r)(()=>{U.forEach(F=>{B(F,"animation-duration"),B(F,"animation-delay"),B(F,"animation-play-state")}),(0,E.r)(xo)}))};de&&(de.addEventListener("webkitAnimationEnd",ae,ce),de.addEventListener("animationend",ae,ce),q=()=>{de.removeEventListener("webkitAnimationEnd",ae,ce),de.removeEventListener("animationend",ae,ce)})})(U[0])}})(),Dt=!1}),pe=(F,le)=>{const Ie=ie[0];return void 0===Ie||void 0!==Ie.offset&&0!==Ie.offset?ie=[{offset:0,[F]:le},...ie]:Ie[F]=le,Pe};return Pe={parentAnimation:Qe,elements:U,childAnimations:Nt,id:on,animationFinish:xo,from:pe,to:(F,le)=>{const Ie=ie[ie.length-1];return void 0===Ie||void 0!==Ie.offset&&1!==Ie.offset?ie=[...ie,{offset:1,[F]:le}]:Ie[F]=le,Pe},fromTo:(F,le,Ie)=>pe(F,le).to(F,Ie),parent:F=>(Qe=F,Pe),play:P,pause:()=>(Nt.forEach(F=>{F.pause()}),us(),Pe),stop:()=>{Nt.forEach(F=>{F.stop()}),Ke&&(Zi(),Ke=!1),tn=!1,Be=!1,Ce=!0,He=void 0,et=void 0,Je=void 0,Ct=0,z=!1,Ve=!0,Dt=!1},destroy:F=>(Nt.forEach(le=>{le.destroy(F)}),(F=>{Zi(),F&&Nr()})(F),U.length=0,Nt.length=0,ie.length=0,Xt.length=0,Jt.length=0,Ke=!1,Ce=!0,Pe),keyframes:F=>{const le=ie!==F;return ie=F,le&&(F=>{wr?bo().forEach(le=>{if(le.effect.setKeyframes)le.effect.setKeyframes(F);else{const Ie=new KeyframeEffect(le.effect.target,F,le.effect.getTiming());le.effect=Ie}}):oo()})(ie),Pe},addAnimation:F=>{if(null!=F)if(Array.isArray(F))for(const le of F)le.parent(Pe),Nt.push(le);else F.parent(Pe),Nt.push(F);return Pe},addElement:F=>{if(null!=F)if(1===F.nodeType)U.push(F);else if(F.length>=0)for(let le=0;le<F.length;le++)U.push(F[le]);else console.error("Invalid addElement value");return Pe},update:lo,fill:F=>(ae=F,lo(!0),Pe),direction:F=>(ot=F,lo(!0),Pe),iterations:F=>(Te=F,lo(!0),Pe),duration:F=>(!wr&&0===F&&(F=1),q=F,lo(!0),Pe),easing:F=>(ce=F,lo(!0),Pe),delay:F=>(H=F,lo(!0),Pe),getWebAnimations:bo,getKeyframes:()=>ie,getFill:Qn,getDirection:fr,getDelay:mn,getIterations:h,getEasing:ft,getDuration:Er,afterAddRead:F=>(Or.push(F),Pe),afterAddWrite:F=>(to.push(F),Pe),afterClearStyles:(F=[])=>{for(const le of F)mt[le]="";return Pe},afterStyles:(F={})=>(mt=F,Pe),afterRemoveClass:F=>(fe=Me(fe,F),Pe),afterAddClass:F=>(k=Me(k,F),Pe),beforeAddRead:F=>(In.push(F),Pe),beforeAddWrite:F=>(Mi.push(F),Pe),beforeClearStyles:(F=[])=>{for(const le of F)Ae[le]="";return Pe},beforeStyles:(F={})=>(Ae=F,Pe),beforeRemoveClass:F=>(ue=Me(ue,F),Pe),beforeAddClass:F=>(_e=Me(_e,F),Pe),onFinish:tt,isRunning:()=>0!==Ct&&!Dt,progressStart:(F=!1,le)=>(Nt.forEach(Ie=>{Ie.progressStart(F,le)}),us(),tn=F,Ke||Pi(),lo(!1,!0,le),Pe),progressStep:F=>(Nt.forEach(le=>{le.progressStep(F)}),Ri(F),Pe),progressEnd:(F,le,Ie)=>(tn=!1,Nt.forEach(rt=>{rt.progressEnd(F,le,Ie)}),void 0!==Ie&&(et=Ie),z=!1,Ve=!0,0===F?(He="reverse"===fr()?"normal":"reverse","reverse"===He&&(Ve=!1),wr?(lo(),Ri(1-le)):(Je=(1-le)*Er()*-1,lo(!1,!1))):1===F&&(wr?(lo(),Ri(le)):(Je=le*Er()*-1,lo(!1,!1))),void 0!==F&&(tt(()=>{et=void 0,He=void 0,Je=void 0},{oneTimeCallback:!0}),Qe||P()),Pe)}}},6379:($e,ze,R)=>{"use strict";R.d(ze,{G:()=>G});class l{constructor(N,B,se,Y,oe){this.id=B,this.name=se,this.disableScroll=oe,this.priority=1e6*Y+B,this.ctrl=N}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const N=this.ctrl.capture(this.name,this.id,this.priority);return N&&this.disableScroll&&this.ctrl.disableScroll(this.id),N}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class te{constructor(N,B,se,Y){this.id=B,this.disable=se,this.disableScroll=Y,this.ctrl=N}block(){if(this.ctrl){if(this.disable)for(const N of this.disable)this.ctrl.disableGesture(N,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const N of this.disable)this.ctrl.enableGesture(N,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const J="backdrop-no-scroll",G=new class E{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(N){var B;return new l(this,this.newID(),N.name,null!==(B=N.priority)&&void 0!==B?B:0,!!N.disableScroll)}createBlocker(N={}){return new te(this,this.newID(),N.disable,!!N.disableScroll)}start(N,B,se){return this.canStart(N)?(this.requestedStart.set(B,se),!0):(this.requestedStart.delete(B),!1)}capture(N,B,se){if(!this.start(N,B,se))return!1;const Y=this.requestedStart;let oe=-1e4;if(Y.forEach($=>{oe=Math.max(oe,$)}),oe===se){this.capturedId=B,Y.clear();const $=new CustomEvent("ionGestureCaptured",{detail:{gestureName:N}});return document.dispatchEvent($),!0}return Y.delete(B),!1}release(N){this.requestedStart.delete(N),this.capturedId===N&&(this.capturedId=void 0)}disableGesture(N,B){let se=this.disabledGestures.get(N);void 0===se&&(se=new Set,this.disabledGestures.set(N,se)),se.add(B)}enableGesture(N,B){const se=this.disabledGestures.get(N);void 0!==se&&se.delete(B)}disableScroll(N){this.disabledScroll.add(N),1===this.disabledScroll.size&&document.body.classList.add(J)}enableScroll(N){this.disabledScroll.delete(N),0===this.disabledScroll.size&&document.body.classList.remove(J)}canStart(N){return!(void 0!==this.capturedId||this.isDisabled(N))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(N){const B=this.disabledGestures.get(N);return!!(B&&B.size>0)}newID(){return this.gestureId++,this.gestureId}}},159:($e,ze,R)=>{"use strict";R.r(ze),R.d(ze,{MENU_BACK_BUTTON_PRIORITY:()=>G,OVERLAY_BACK_BUTTON_PRIORITY:()=>J,blockHardwareBackButton:()=>l,startHardwareBackButton:()=>te});var E=R(3918);const l=()=>{document.addEventListener("backbutton",()=>{})},te=()=>{const Q=document;let N=!1;Q.addEventListener("backbutton",()=>{if(N)return;let B=0,se=[];const Y=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(L,j){se.push({priority:L,handler:j,id:B++})}}});Q.dispatchEvent(Y);const oe=function(){var L=(0,E.Z)(function*(j){try{if(j?.handler){const Me=j.handler($);null!=Me&&(yield Me)}}catch(Me){console.error(Me)}});return function(Me){return L.apply(this,arguments)}}(),$=()=>{if(se.length>0){let L={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};se.forEach(j=>{j.priority>=L.priority&&(L=j)}),N=!0,se=se.filter(j=>j.id!==L.id),oe(L).then(()=>N=!1)}};$()})},J=100,G=99},9259:($e,ze,R)=>{"use strict";R.d(ze,{a:()=>N,b:()=>B,c:()=>te,d:()=>j,e:()=>Me,f:()=>L,g:()=>se,h:()=>Te,i:()=>Q,j:()=>J,k:()=>$,l:()=>Ne,m:()=>oe,n:()=>de,o:()=>ce,p:()=>q,q:()=>ae,r:()=>Y,s:()=>ot,t:()=>E,u:()=>H});const E=(ie,_e=0)=>new Promise(ue=>{l(ie,_e,ue)}),l=(ie,_e=0,ue)=>{let Ke,Qe;const Ae={passive:!0},fe=()=>{Ke&&Ke()},mt=Ct=>{(void 0===Ct||ie===Ct.target)&&(fe(),ue(Ct))};return ie&&(ie.addEventListener("webkitTransitionEnd",mt,Ae),ie.addEventListener("transitionend",mt,Ae),Qe=setTimeout(mt,_e+500),Ke=()=>{Qe&&(clearTimeout(Qe),Qe=void 0),ie.removeEventListener("webkitTransitionEnd",mt,Ae),ie.removeEventListener("transitionend",mt,Ae)}),fe},te=(ie,_e)=>{ie.componentOnReady?ie.componentOnReady().then(ue=>_e(ue)):Y(()=>_e(ie))},J=(ie,_e=[])=>{const ue={};return _e.forEach(Ke=>{ie.hasAttribute(Ke)&&(null!==ie.getAttribute(Ke)&&(ue[Ke]=ie.getAttribute(Ke)),ie.removeAttribute(Ke))}),ue},G=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Q=(ie,_e)=>{let ue=G;return _e&&_e.length>0&&(ue=ue.filter(Ke=>!_e.includes(Ke))),J(ie,ue)},N=(ie,_e,ue,Ke)=>{var Qe;if(typeof window<"u"){const k=null===(Qe=window?.Ionic)||void 0===Qe?void 0:Qe.config;if(k){const fe=k.get("_ael");if(fe)return fe(ie,_e,ue,Ke);if(k._ael)return k._ael(ie,_e,ue,Ke)}}return ie.addEventListener(_e,ue,Ke)},B=(ie,_e,ue,Ke)=>{var Qe;if(typeof window<"u"){const k=null===(Qe=window?.Ionic)||void 0===Qe?void 0:Qe.config;if(k){const fe=k.get("_rel");if(fe)return fe(ie,_e,ue,Ke);if(k._rel)return k._rel(ie,_e,ue,Ke)}}return ie.removeEventListener(_e,ue,Ke)},se=(ie,_e=ie)=>ie.shadowRoot||_e,Y=ie=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ie):"function"==typeof requestAnimationFrame?requestAnimationFrame(ie):setTimeout(ie),oe=ie=>!!ie.shadowRoot&&!!ie.attachShadow,$=ie=>{const _e=ie.closest("ion-item");return _e?_e.querySelector("ion-label"):null},L=ie=>{if(ie.focus(),ie.classList.contains("ion-focusable")){const _e=ie.closest("ion-app");_e&&_e.setFocus([ie])}},j=(ie,_e)=>{let ue;const Ke=ie.getAttribute("aria-labelledby"),Qe=ie.id;let Ae=null!==Ke&&""!==Ke.trim()?Ke:_e+"-lbl",k=null!==Ke&&""!==Ke.trim()?document.getElementById(Ke):$(ie);return k?(null===Ke&&(k.id=Ae),ue=k.textContent,k.setAttribute("aria-hidden","true")):""!==Qe.trim()&&(k=document.querySelector(`label[for="${Qe}"]`),k&&(""!==k.id?Ae=k.id:k.id=Ae=`${Qe}-lbl`,ue=k.textContent)),{label:k,labelId:Ae,labelText:ue}},Me=(ie,_e,ue,Ke,Qe)=>{if(ie||oe(_e)){let Ae=_e.querySelector("input.aux-input");Ae||(Ae=_e.ownerDocument.createElement("input"),Ae.type="hidden",Ae.classList.add("aux-input"),_e.appendChild(Ae)),Ae.disabled=Qe,Ae.name=ue,Ae.value=Ke||""}},Ne=(ie,_e,ue)=>Math.max(ie,Math.min(_e,ue)),de=(ie,_e)=>{if(!ie){const ue="ASSERT: "+_e;throw console.error(ue),new Error(ue)}},H=ie=>ie.timeStamp||Date.now(),q=ie=>{if(ie){const _e=ie.changedTouches;if(_e&&_e.length>0){const ue=_e[0];return{x:ue.clientX,y:ue.clientY}}if(void 0!==ie.pageX)return{x:ie.pageX,y:ie.pageY}}return{x:0,y:0}},ce=ie=>{const _e="rtl"===document.dir;switch(ie){case"start":return _e;case"end":return!_e;default:throw new Error(`"${ie}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Te=(ie,_e)=>{const ue=ie._original||ie;return{_original:ie,emit:ae(ue.emit.bind(ue),_e)}},ae=(ie,_e=0)=>{let ue;return(...Ke)=>{clearTimeout(ue),ue=setTimeout(ie,_e,...Ke)}},ot=(ie,_e)=>{if(ie??(ie={}),_e??(_e={}),ie===_e)return!0;const ue=Object.keys(ie);if(ue.length!==Object.keys(_e).length)return!1;for(const Ke of ue)if(!(Ke in _e)||ie[Ke]!==_e[Ke])return!1;return!0}},609:($e,ze,R)=>{"use strict";R.d(ze,{L:()=>J,a:()=>G,b:()=>Q,c:()=>N,d:()=>B,e:()=>_e,g:()=>Qe,l:()=>ot,s:()=>ue,t:()=>oe});var E=R(3918),l=R(1559),te=R(9259);const J="ionViewWillEnter",G="ionViewDidEnter",Q="ionViewWillLeave",N="ionViewDidLeave",B="ionViewWillUnload",oe=Ae=>new Promise((k,fe)=>{(0,l.c)(()=>{$(Ae),L(Ae).then(mt=>{mt.animation&&mt.animation.destroy(),j(Ae),k(mt)},mt=>{j(Ae),fe(mt)})})}),$=Ae=>{const k=Ae.enteringEl,fe=Ae.leavingEl;Ke(k,fe,Ae.direction),Ae.showGoBack?k.classList.add("can-go-back"):k.classList.remove("can-go-back"),ue(k,!1),k.style.setProperty("pointer-events","none"),fe&&(ue(fe,!1),fe.style.setProperty("pointer-events","none"))},L=function(){var Ae=(0,E.Z)(function*(k){const fe=yield Me(k);return fe&&l.B.isBrowser?Ne(fe,k):de(k)});return function(fe){return Ae.apply(this,arguments)}}(),j=Ae=>{const k=Ae.enteringEl,fe=Ae.leavingEl;k.classList.remove("ion-page-invisible"),k.style.removeProperty("pointer-events"),void 0!==fe&&(fe.classList.remove("ion-page-invisible"),fe.style.removeProperty("pointer-events"))},Me=function(){var Ae=(0,E.Z)(function*(k){return k.leavingEl&&k.animated&&0!==k.duration?k.animationBuilder?k.animationBuilder:"ios"===k.mode?(yield Promise.resolve().then(R.bind(R,9078))).iosTransitionAnimation:(yield Promise.resolve().then(R.bind(R,4199))).mdTransitionAnimation:void 0});return function(fe){return Ae.apply(this,arguments)}}(),Ne=function(){var Ae=(0,E.Z)(function*(k,fe){yield H(fe,!0);const mt=k(fe.baseEl,fe);Te(fe.enteringEl,fe.leavingEl);const Ct=yield ce(mt,fe);return fe.progressCallback&&fe.progressCallback(void 0),Ct&&ae(fe.enteringEl,fe.leavingEl),{hasCompleted:Ct,animation:mt}});return function(fe,mt){return Ae.apply(this,arguments)}}(),de=function(){var Ae=(0,E.Z)(function*(k){const fe=k.enteringEl,mt=k.leavingEl;return yield H(k,!1),Te(fe,mt),ae(fe,mt),{hasCompleted:!0}});return function(fe){return Ae.apply(this,arguments)}}(),H=function(){var Ae=(0,E.Z)(function*(k,fe){const Ct=(void 0!==k.deepWait?k.deepWait:fe)?[_e(k.enteringEl),_e(k.leavingEl)]:[ie(k.enteringEl),ie(k.leavingEl)];yield Promise.all(Ct),yield q(k.viewIsReady,k.enteringEl)});return function(fe,mt){return Ae.apply(this,arguments)}}(),q=function(){var Ae=(0,E.Z)(function*(k,fe){k&&(yield k(fe))});return function(fe,mt){return Ae.apply(this,arguments)}}(),ce=(Ae,k)=>{const fe=k.progressCallback,mt=new Promise(Ct=>{Ae.onFinish(tn=>Ct(1===tn))});return fe?(Ae.progressStart(!0),fe(Ae)):Ae.play(),mt},Te=(Ae,k)=>{ot(k,Q),ot(Ae,J)},ae=(Ae,k)=>{ot(Ae,G),ot(k,N)},ot=(Ae,k)=>{if(Ae){const fe=new CustomEvent(k,{bubbles:!1,cancelable:!1});Ae.dispatchEvent(fe)}},ie=Ae=>Ae?new Promise(k=>(0,te.c)(Ae,k)):Promise.resolve(),_e=function(){var Ae=(0,E.Z)(function*(k){const fe=k;if(fe){if(null!=fe.componentOnReady){if(null!=(yield fe.componentOnReady()))return}else if(null!=fe.__registerHost)return void(yield new Promise(Ct=>(0,te.r)(Ct)));yield Promise.all(Array.from(fe.children).map(_e))}});return function(fe){return Ae.apply(this,arguments)}}(),ue=(Ae,k)=>{k?(Ae.setAttribute("aria-hidden","true"),Ae.classList.add("ion-page-hidden")):(Ae.hidden=!1,Ae.removeAttribute("aria-hidden"),Ae.classList.remove("ion-page-hidden"))},Ke=(Ae,k,fe)=>{void 0!==Ae&&(Ae.style.zIndex="back"===fe?"99":"101"),void 0!==k&&(k.style.zIndex="100")},Qe=Ae=>Ae.classList.contains("ion-page")?Ae:Ae.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Ae},7351:($e,ze,R)=>{"use strict";R.d(ze,{m:()=>oe});var E=R(3918),l=R(159),te=R(9259),J=R(5823),G=R(5933);const Q=$=>(0,G.c)().duration($?400:300),N=$=>{let L,j;const Me=$.width+8,Ne=(0,G.c)(),de=(0,G.c)();$.isEndSide?(L=Me+"px",j="0px"):(L=-Me+"px",j="0px"),Ne.addElement($.menuInnerEl).fromTo("transform",`translateX(${L})`,`translateX(${j})`);const q="ios"===(0,J.b)($),ce=q?.2:.25;return de.addElement($.backdropEl).fromTo("opacity",.01,ce),Q(q).addAnimation([Ne,de])},B=$=>{let L,j;const Me=(0,J.b)($),Ne=$.width;$.isEndSide?(L=-Ne+"px",j=Ne+"px"):(L=Ne+"px",j=-Ne+"px");const de=(0,G.c)().addElement($.menuInnerEl).fromTo("transform",`translateX(${j})`,"translateX(0px)"),H=(0,G.c)().addElement($.contentEl).fromTo("transform","translateX(0px)",`translateX(${L})`),q=(0,G.c)().addElement($.backdropEl).fromTo("opacity",.01,.32);return Q("ios"===Me).addAnimation([de,H,q])},se=$=>{const L=(0,J.b)($),j=$.width*($.isEndSide?-1:1)+"px",Me=(0,G.c)().addElement($.contentEl).fromTo("transform","translateX(0px)",`translateX(${j})`);return Q("ios"===L).addAnimation(Me)},oe=(()=>{const $=new Map,L=[],j=function(){var Ee=(0,E.Z)(function*(He){const et=yield Te(He);return!!et&&et.open()});return function(et){return Ee.apply(this,arguments)}}(),Me=function(){var Ee=(0,E.Z)(function*(He){const et=yield void 0!==He?Te(He):ae();return void 0!==et&&et.close()});return function(et){return Ee.apply(this,arguments)}}(),Ne=function(){var Ee=(0,E.Z)(function*(He){const et=yield Te(He);return!!et&&et.toggle()});return function(et){return Ee.apply(this,arguments)}}(),de=function(){var Ee=(0,E.Z)(function*(He,et){const Je=yield Te(et);return Je&&(Je.disabled=!He),Je});return function(et,Je){return Ee.apply(this,arguments)}}(),H=function(){var Ee=(0,E.Z)(function*(He,et){const Je=yield Te(et);return Je&&(Je.swipeGesture=He),Je});return function(et,Je){return Ee.apply(this,arguments)}}(),q=function(){var Ee=(0,E.Z)(function*(He){if(null!=He){const et=yield Te(He);return void 0!==et&&et.isOpen()}return void 0!==(yield ae())});return function(et){return Ee.apply(this,arguments)}}(),ce=function(){var Ee=(0,E.Z)(function*(He){const et=yield Te(He);return!!et&&!et.disabled});return function(et){return Ee.apply(this,arguments)}}(),Te=function(){var Ee=(0,E.Z)(function*(He){return yield Be(),"start"===He||"end"===He?tn(Ve=>Ve.side===He&&!Ve.disabled)||tn(Ve=>Ve.side===He):null!=He?tn(Je=>Je.menuId===He):tn(Je=>!Je.disabled)||(L.length>0?L[0].el:void 0)});return function(et){return Ee.apply(this,arguments)}}(),ae=function(){var Ee=(0,E.Z)(function*(){return yield Be(),fe()});return function(){return Ee.apply(this,arguments)}}(),ot=function(){var Ee=(0,E.Z)(function*(){return yield Be(),mt()});return function(){return Ee.apply(this,arguments)}}(),ie=function(){var Ee=(0,E.Z)(function*(){return yield Be(),Ct()});return function(){return Ee.apply(this,arguments)}}(),_e=(Ee,He)=>{$.set(Ee,He)},Qe=Ee=>{const He=Ee.side;L.filter(et=>et.side===He&&et!==Ee).forEach(et=>et.disabled=!0)},Ae=function(){var Ee=(0,E.Z)(function*(He,et,Je){if(Ct())return!1;if(et){const Ve=yield ae();Ve&&He.el!==Ve&&(yield Ve.setOpen(!1,!1))}return He._setOpen(et,Je)});return function(et,Je,Ve){return Ee.apply(this,arguments)}}(),fe=()=>tn(Ee=>Ee._isOpen),mt=()=>L.map(Ee=>Ee.el),Ct=()=>L.some(Ee=>Ee.isAnimating),tn=Ee=>{const He=L.find(Ee);if(void 0!==He)return He.el},Be=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Ee=>new Promise(He=>(0,te.c)(Ee,He))));return _e("reveal",se),_e("push",B),_e("overlay",N),typeof document<"u"&&document.addEventListener("ionBackButton",Ee=>{const He=fe();He&&Ee.detail.register(l.MENU_BACK_BUTTON_PRIORITY,()=>He.close())}),{registerAnimation:_e,get:Te,getMenus:ot,getOpen:ae,isEnabled:ce,swipeGesture:H,isAnimating:ie,isOpen:q,enable:de,toggle:Ne,close:Me,open:j,_getOpenSync:fe,_createAnimation:(Ee,He)=>{const et=$.get(Ee);if(!et)throw new Error("animation not registered");return et(He)},_register:Ee=>{L.indexOf(Ee)<0&&(Ee.disabled||Qe(Ee),L.push(Ee))},_unregister:Ee=>{const He=L.indexOf(Ee);He>-1&&L.splice(He,1)},_setOpen:Ae,_setActiveMenu:Qe}})()},2286:($e,ze,R)=>{"use strict";R.d(ze,{w:()=>E});const E=typeof window<"u"?window:void 0},8759:($e,ze,R)=>{"use strict";R.r(ze),R.d(ze,{GESTURE_CONTROLLER:()=>E.G,createGesture:()=>se});var E=R(6379);const l=(L,j,Me,Ne)=>{const de=te(L)?{capture:!!Ne.capture,passive:!!Ne.passive}:!!Ne.capture;let H,q;return L.__zone_symbol__addEventListener?(H="__zone_symbol__addEventListener",q="__zone_symbol__removeEventListener"):(H="addEventListener",q="removeEventListener"),L[H](j,Me,de),()=>{L[q](j,Me,de)}},te=L=>{if(void 0===J)try{const j=Object.defineProperty({},"passive",{get:()=>{J=!0}});L.addEventListener("optsTest",()=>{},j)}catch{J=!1}return!!J};let J;const N=L=>L instanceof Document?L:L.ownerDocument,se=L=>{let j=!1,Me=!1,Ne=!0,de=!1;const H=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},L),q=H.canStart,ce=H.onWillStart,Te=H.onStart,ae=H.onEnd,ot=H.notCaptured,ie=H.onMove,_e=H.threshold,ue=H.passive,Ke=H.blurOnStart,Qe={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Ae=((L,j,Me)=>{const Ne=Me*(Math.PI/180),de="x"===L,H=Math.cos(Ne),q=j*j;let ce=0,Te=0,ae=!1,ot=0;return{start(ie,_e){ce=ie,Te=_e,ot=0,ae=!0},detect(ie,_e){if(!ae)return!1;const ue=ie-ce,Ke=_e-Te,Qe=ue*ue+Ke*Ke;if(Qe<q)return!1;const Ae=Math.sqrt(Qe),k=(de?ue:Ke)/Ae;return ot=k>H?1:k<-H?-1:0,ae=!1,!0},isGesture:()=>0!==ot,getDirection:()=>ot}})(H.direction,H.threshold,H.maxAngle),k=E.G.createGesture({name:L.gestureName,priority:L.gesturePriority,disableScroll:L.disableScroll}),Ct=()=>{j&&(de=!1,ie&&ie(Qe))},tn=()=>!!k.capture()&&(j=!0,Ne=!1,Qe.startX=Qe.currentX,Qe.startY=Qe.currentY,Qe.startTime=Qe.currentTime,ce?ce(Qe).then(Ee):Ee(),!0),Ee=()=>{Ke&&(()=>{if(typeof document<"u"){const z=document.activeElement;z?.blur&&z.blur()}})(),Te&&Te(Qe),Ne=!0},He=()=>{j=!1,Me=!1,de=!1,Ne=!0,k.release()},et=z=>{const Ce=j,ht=Ne;if(He(),ht){if(Y(Qe,z),Ce)return void(ae&&ae(Qe));ot&&ot(Qe)}},Je=((L,j,Me,Ne,de)=>{let H,q,ce,Te,ae,ot,ie,_e=0;const ue=Be=>{_e=Date.now()+2e3,j(Be)&&(!q&&Me&&(q=l(L,"touchmove",Me,de)),ce||(ce=l(Be.target,"touchend",Qe,de)),Te||(Te=l(Be.target,"touchcancel",Qe,de)))},Ke=Be=>{_e>Date.now()||j(Be)&&(!ot&&Me&&(ot=l(N(L),"mousemove",Me,de)),ie||(ie=l(N(L),"mouseup",Ae,de)))},Qe=Be=>{k(),Ne&&Ne(Be)},Ae=Be=>{fe(),Ne&&Ne(Be)},k=()=>{q&&q(),ce&&ce(),Te&&Te(),q=ce=Te=void 0},fe=()=>{ot&&ot(),ie&&ie(),ot=ie=void 0},mt=()=>{k(),fe()},Ct=(Be=!0)=>{Be?(H||(H=l(L,"touchstart",ue,de)),ae||(ae=l(L,"mousedown",Ke,de))):(H&&H(),ae&&ae(),H=ae=void 0,mt())};return{enable:Ct,stop:mt,destroy:()=>{Ct(!1),Ne=Me=j=void 0}}})(H.el,z=>{const Ce=$(z);return!(Me||!Ne||(oe(z,Qe),Qe.startX=Qe.currentX,Qe.startY=Qe.currentY,Qe.startTime=Qe.currentTime=Ce,Qe.velocityX=Qe.velocityY=Qe.deltaX=Qe.deltaY=0,Qe.event=z,q&&!1===q(Qe))||(k.release(),!k.start()))&&(Me=!0,0===_e?tn():(Ae.start(Qe.startX,Qe.startY),!0))},z=>{j?!de&&Ne&&(de=!0,Y(Qe,z),requestAnimationFrame(Ct)):(Y(Qe,z),Ae.detect(Qe.currentX,Qe.currentY)&&(!Ae.isGesture()||!tn())&&Ve())},et,{capture:!1,passive:ue}),Ve=()=>{He(),Je.stop(),ot&&ot(Qe)};return{enable(z=!0){z||(j&&et(void 0),He()),Je.enable(z)},destroy(){k.destroy(),Je.destroy()}}},Y=(L,j)=>{if(!j)return;const Me=L.currentX,Ne=L.currentY,de=L.currentTime;oe(j,L);const H=L.currentX,q=L.currentY,Te=(L.currentTime=$(j))-de;if(Te>0&&Te<100){const ot=(q-Ne)/Te;L.velocityX=(H-Me)/Te*.7+.3*L.velocityX,L.velocityY=.7*ot+.3*L.velocityY}L.deltaX=H-L.startX,L.deltaY=q-L.startY,L.event=j},oe=(L,j)=>{let Me=0,Ne=0;if(L){const de=L.changedTouches;if(de&&de.length>0){const H=de[0];Me=H.clientX,Ne=H.clientY}else void 0!==L.pageX&&(Me=L.pageX,Ne=L.pageY)}j.currentX=Me,j.currentY=Ne},$=L=>L.timeStamp||Date.now()},1559:($e,ze,R)=>{"use strict";R.d(ze,{B:()=>rr,H:()=>U,a:()=>Ve,b:()=>Yo,c:()=>fs,e:()=>wt,f:()=>Us,g:()=>z,h:()=>Xt,i:()=>fn,j:()=>fr,k:()=>gi,p:()=>Ne,r:()=>cs,s:()=>j});var E=R(3918);let te,J,G,Q=!1,N=!1,B=!1,se=!1,Y=!1;const oe=typeof window<"u"?window:{},$=oe.document||{head:{}},L={$flags$:0,$resourcesUrl$:"",jmp:P=>P(),raf:P=>requestAnimationFrame(P),ael:(P,O,pe,be)=>P.addEventListener(O,pe,be),rel:(P,O,pe,be)=>P.removeEventListener(O,pe,be),ce:(P,O)=>new CustomEvent(P,O)},j=P=>{Object.assign(L,P)},Ne=P=>Promise.resolve(P),de=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),H=(P,O,pe,be)=>{pe&&pe.map(([Fe,F,le])=>{const Ie=ce(P,Fe),rt=q(O,le),it=Te(Fe);L.ael(Ie,F,rt,it),(O.$rmListeners$=O.$rmListeners$||[]).push(()=>L.rel(Ie,F,rt,it))})},q=(P,O)=>pe=>{try{256&P.$flags$?P.$lazyInstance$[O](pe):(P.$queuedListeners$=P.$queuedListeners$||[]).push([O,pe])}catch(be){Ko(be)}},ce=(P,O)=>4&O?$:8&O?oe:16&O?$.body:P,Te=P=>0!=(2&P),ue="s-id",Ke="sty-id",k="http://www.w3.org/1999/xlink",Ct=new WeakMap,tn=(P,O,pe)=>{let be=ci.get(P);de&&pe?(be=be||new CSSStyleSheet,"string"==typeof be?be=O:be.replaceSync(O)):be=O,ci.set(P,be)},Be=(P,O,pe,be)=>{let Fe=He(O,pe);const F=ci.get(Fe);if(P=11===P.nodeType?P:$,F)if("string"==typeof F){let Ie,le=Ct.get(P=P.head||P);le||Ct.set(P,le=new Set),le.has(Fe)||(P.host&&(Ie=P.querySelector(`[${Ke}="${Fe}"]`))?Ie.innerHTML=F:(Ie=$.createElement("style"),Ie.innerHTML=F,P.insertBefore(Ie,P.querySelector("link"))),le&&le.add(Fe))}else P.adoptedStyleSheets.includes(F)||(P.adoptedStyleSheets=[...P.adoptedStyleSheets,F]);return Fe},He=(P,O)=>"sc-"+(O&&32&P.$flags$?P.$tagName$+"-"+O:P.$tagName$),et=P=>P.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Ve=P=>Oi.push(P),z=P=>oo(P).$modeName$,Ce={},on=P=>"object"==(P=typeof P)||"function"===P,Xt=(P,O,...pe)=>{let be=null,Fe=null,F=null,le=!1,Ie=!1;const rt=[],it=Lt=>{for(let bt=0;bt<Lt.length;bt++)be=Lt[bt],Array.isArray(be)?it(be):null!=be&&"boolean"!=typeof be&&((le="function"!=typeof P&&!on(be))&&(be=String(be)),le&&Ie?rt[rt.length-1].$text$+=be:rt.push(le?Jt(null,be):be),Ie=le)};if(it(pe),O){O.key&&(Fe=O.key),O.name&&(F=O.name);{const Lt=O.className||O.class;Lt&&(O.class="object"!=typeof Lt?Lt:Object.keys(Lt).filter(bt=>Lt[bt]).join(" "))}}if("function"==typeof P)return P(null===O?{}:O,rt,qn);const Se=Jt(P,null);return Se.$attrs$=O,rt.length>0&&(Se.$children$=rt),Se.$key$=Fe,Se.$name$=F,Se},Jt=(P,O)=>({$flags$:0,$tag$:P,$text$:O,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),U={},qn={forEach:(P,O)=>P.map(In).forEach(O),map:(P,O)=>P.map(In).map(O).map(Mi)},In=P=>({vattrs:P.$attrs$,vchildren:P.$children$,vkey:P.$key$,vname:P.$name$,vtag:P.$tag$,vtext:P.$text$}),Mi=P=>{if("function"==typeof P.vtag){const pe=Object.assign({},P.vattrs);return P.vkey&&(pe.key=P.vkey),P.vname&&(pe.name=P.vname),Xt(P.vtag,pe,...P.vchildren||[])}const O=Jt(P.vtag,P.vtext);return O.$attrs$=P.vattrs,O.$children$=P.vchildren,O.$key$=P.vkey,O.$name$=P.vname,O},Or=(P,O,pe,be,Fe,F)=>{if(pe!==be){let le=Ri(P,O),Ie=O.toLowerCase();if("class"===O){const rt=P.classList,it=kn(pe),Se=kn(be);rt.remove(...it.filter(Lt=>Lt&&!Se.includes(Lt))),rt.add(...Se.filter(Lt=>Lt&&!it.includes(Lt)))}else if("style"===O){for(const rt in pe)(!be||null==be[rt])&&(rt.includes("-")?P.style.removeProperty(rt):P.style[rt]="");for(const rt in be)(!pe||be[rt]!==pe[rt])&&(rt.includes("-")?P.style.setProperty(rt,be[rt]):P.style[rt]=be[rt])}else if("key"!==O)if("ref"===O)be&&be(P);else if(le||"o"!==O[0]||"n"!==O[1]){const rt=on(be);if((le||rt&&null!==be)&&!Fe)try{if(P.tagName.includes("-"))P[O]=be;else{const Se=be??"";"list"===O?le=!1:(null==pe||P[O]!=Se)&&(P[O]=Se)}}catch{}let it=!1;Ie!==(Ie=Ie.replace(/^xlink\:?/,""))&&(O=Ie,it=!0),null==be||!1===be?(!1!==be||""===P.getAttribute(O))&&(it?P.removeAttributeNS(k,O):P.removeAttribute(O)):(!le||4&F||Fe)&&!rt&&(be=!0===be?"":be,it?P.setAttributeNS(k,O,be):P.setAttribute(O,be))}else O="-"===O[2]?O.slice(3):Ri(oe,Ie)?Ie.slice(2):Ie[2]+O.slice(3),pe&&L.rel(P,O,pe,!1),be&&L.ael(P,O,be,!1)}},to=/\s/,kn=P=>P?P.split(to):[],Ti=(P,O,pe,be)=>{const Fe=11===O.$elm$.nodeType&&O.$elm$.host?O.$elm$.host:O.$elm$,F=P&&P.$attrs$||Ce,le=O.$attrs$||Ce;for(be in F)be in le||Or(Fe,be,F[be],void 0,pe,O.$flags$);for(be in le)Or(Fe,be,F[be],le[be],pe,O.$flags$)},wr=(P,O,pe,be)=>{const Fe=O.$children$[pe];let le,Ie,rt,F=0;if(Q||(B=!0,"slot"===Fe.$tag$&&(te&&be.classList.add(te+"-s"),Fe.$flags$|=Fe.$children$?2:1)),null!==Fe.$text$)le=Fe.$elm$=$.createTextNode(Fe.$text$);else if(1&Fe.$flags$)le=Fe.$elm$=$.createTextNode("");else{if(se||(se="svg"===Fe.$tag$),le=Fe.$elm$=$.createElementNS(se?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Fe.$flags$?"slot-fb":Fe.$tag$),se&&"foreignObject"===Fe.$tag$&&(se=!1),Ti(null,Fe,se),(P=>null!=P)(te)&&le["s-si"]!==te&&le.classList.add(le["s-si"]=te),Fe.$children$)for(F=0;F<Fe.$children$.length;++F)Ie=wr(P,Fe,F,le),Ie&&le.appendChild(Ie);"svg"===Fe.$tag$?se=!1:"foreignObject"===le.tagName&&(se=!0)}return le["s-hn"]=G,3&Fe.$flags$&&(le["s-sr"]=!0,le["s-cr"]=J,le["s-sn"]=Fe.$name$||"",rt=P&&P.$children$&&P.$children$[pe],rt&&rt.$tag$===Fe.$tag$&&P.$elm$&&gr(P.$elm$,!1)),le},gr=(P,O)=>{L.$flags$|=1;const pe=P.childNodes;for(let be=pe.length-1;be>=0;be--){const Fe=pe[be];Fe["s-hn"]!==G&&Fe["s-ol"]&&(tt(Fe).insertBefore(Fe,Fo(Fe)),Fe["s-ol"].remove(),Fe["s-ol"]=void 0,B=!0),O&&gr(Fe,O)}L.$flags$&=-2},bo=(P,O,pe,be,Fe,F)=>{let Ie,le=P["s-cr"]&&P["s-cr"].parentNode||P;for(le.shadowRoot&&le.tagName===G&&(le=le.shadowRoot);Fe<=F;++Fe)be[Fe]&&(Ie=wr(null,pe,Fe,P),Ie&&(be[Fe].$elm$=Ie,le.insertBefore(Ie,Fo(O))))},si=(P,O,pe,be,Fe)=>{for(;O<=pe;++O)(be=P[O])&&(Fe=be.$elm$,Re(be),N=!0,Fe["s-ol"]?Fe["s-ol"].remove():gr(Fe,!0),Fe.remove())},Yr=(P,O)=>P.$tag$===O.$tag$&&("slot"===P.$tag$?P.$name$===O.$name$:P.$key$===O.$key$),Fo=P=>P&&P["s-ol"]||P,tt=P=>(P["s-ol"]?P["s-ol"]:P).parentNode,Vt=(P,O)=>{const pe=O.$elm$=P.$elm$,be=P.$children$,Fe=O.$children$,F=O.$tag$,le=O.$text$;let Ie;null===le?(se="svg"===F||"foreignObject"!==F&&se,"slot"===F||Ti(P,O,se),null!==be&&null!==Fe?((P,O,pe,be)=>{let Mo,No,Fe=0,F=0,le=0,Ie=0,rt=O.length-1,it=O[0],Se=O[rt],Lt=be.length-1,bt=be[0],nn=be[Lt];for(;Fe<=rt&&F<=Lt;)if(null==it)it=O[++Fe];else if(null==Se)Se=O[--rt];else if(null==bt)bt=be[++F];else if(null==nn)nn=be[--Lt];else if(Yr(it,bt))Vt(it,bt),it=O[++Fe],bt=be[++F];else if(Yr(Se,nn))Vt(Se,nn),Se=O[--rt],nn=be[--Lt];else if(Yr(it,nn))("slot"===it.$tag$||"slot"===nn.$tag$)&&gr(it.$elm$.parentNode,!1),Vt(it,nn),P.insertBefore(it.$elm$,Se.$elm$.nextSibling),it=O[++Fe],nn=be[--Lt];else if(Yr(Se,bt))("slot"===it.$tag$||"slot"===nn.$tag$)&&gr(Se.$elm$.parentNode,!1),Vt(Se,bt),P.insertBefore(Se.$elm$,it.$elm$),Se=O[--rt],bt=be[++F];else{for(le=-1,Ie=Fe;Ie<=rt;++Ie)if(O[Ie]&&null!==O[Ie].$key$&&O[Ie].$key$===bt.$key$){le=Ie;break}le>=0?(No=O[le],No.$tag$!==bt.$tag$?Mo=wr(O&&O[F],pe,le,P):(Vt(No,bt),O[le]=void 0,Mo=No.$elm$),bt=be[++F]):(Mo=wr(O&&O[F],pe,F,P),bt=be[++F]),Mo&&tt(it.$elm$).insertBefore(Mo,Fo(it.$elm$))}Fe>rt?bo(P,null==be[Lt+1]?null:be[Lt+1].$elm$,pe,be,F,Lt):F>Lt&&si(O,Fe,rt)})(pe,be,O,Fe):null!==Fe?(null!==P.$text$&&(pe.textContent=""),bo(pe,null,O,Fe,0,Fe.length-1)):null!==be&&si(be,0,be.length-1),se&&"svg"===F&&(se=!1)):(Ie=pe["s-cr"])?Ie.parentNode.textContent=le:P.$text$!==le&&(pe.data=le)},Zi=P=>{const O=P.childNodes;let pe,be,Fe,F,le,Ie;for(be=0,Fe=O.length;be<Fe;be++)if(pe=O[be],1===pe.nodeType){if(pe["s-sr"])for(le=pe["s-sn"],pe.hidden=!1,F=0;F<Fe;F++)if(Ie=O[F].nodeType,O[F]["s-hn"]!==pe["s-hn"]||""!==le){if(1===Ie&&le===O[F].getAttribute("slot")){pe.hidden=!0;break}}else if(1===Ie||3===Ie&&""!==O[F].textContent.trim()){pe.hidden=!0;break}Zi(pe)}},Nr=[],ko=P=>{let O,pe,be,Fe,F,le,Ie=0;const rt=P.childNodes,it=rt.length;for(;Ie<it;Ie++){if(O=rt[Ie],O["s-sr"]&&(pe=O["s-cr"])&&pe.parentNode)for(be=pe.parentNode.childNodes,Fe=O["s-sn"],le=be.length-1;le>=0;le--)pe=be[le],!pe["s-cn"]&&!pe["s-nr"]&&pe["s-hn"]!==O["s-hn"]&&(De(pe,Fe)?(F=Nr.find(Se=>Se.$nodeToRelocate$===pe),N=!0,pe["s-sn"]=pe["s-sn"]||Fe,F?F.$slotRefNode$=O:Nr.push({$slotRefNode$:O,$nodeToRelocate$:pe}),pe["s-sr"]&&Nr.map(Se=>{De(Se.$nodeToRelocate$,pe["s-sn"])&&(F=Nr.find(Lt=>Lt.$nodeToRelocate$===pe),F&&!Se.$slotRefNode$&&(Se.$slotRefNode$=F.$slotRefNode$))})):Nr.some(Se=>Se.$nodeToRelocate$===pe)||Nr.push({$nodeToRelocate$:pe}));1===O.nodeType&&ko(O)}},De=(P,O)=>1===P.nodeType?null===P.getAttribute("slot")&&""===O||P.getAttribute("slot")===O:P["s-sn"]===O||""===O,Re=P=>{P.$attrs$&&P.$attrs$.ref&&P.$attrs$.ref(null),P.$children$&&P.$children$.map(Re)},fn=P=>oo(P).$hostElement$,wt=(P,O,pe)=>{const be=fn(P);return{emit:Fe=>Cn(be,O,{bubbles:!!(4&pe),composed:!!(2&pe),cancelable:!!(1&pe),detail:Fe})}},Cn=(P,O,pe)=>{const be=L.ce(O,pe);return P.dispatchEvent(be),be},_n=(P,O)=>{O&&!P.$onRenderResolve$&&O["s-p"]&&O["s-p"].push(new Promise(pe=>P.$onRenderResolve$=pe))},Yn=(P,O)=>{if(P.$flags$|=16,!(4&P.$flags$))return _n(P,P.$ancestorComponent$),fs(()=>Tr(P,O));P.$flags$|=512},Tr=(P,O)=>{const be=P.$lazyInstance$;let Fe;return O&&(P.$flags$|=256,P.$queuedListeners$&&(P.$queuedListeners$.map(([F,le])=>Er(be,F,le)),P.$queuedListeners$=null),Fe=Er(be,"componentWillLoad")),Fe=h(Fe,()=>Er(be,"componentWillRender")),h(Fe,()=>Sr(P,be,O))},Sr=function(){var P=(0,E.Z)(function*(O,pe,be){const Fe=O.$hostElement$,le=Fe["s-rc"];be&&(P=>{const O=P.$cmpMeta$,pe=P.$hostElement$,be=O.$flags$,F=Be(pe.shadowRoot?pe.shadowRoot:pe.getRootNode(),O,P.$modeName$);10&be&&(pe["s-sc"]=F,pe.classList.add(F+"-h"),2&be&&pe.classList.add(F+"-s"))})(O);Kr(O,pe),le&&(le.map(rt=>rt()),Fe["s-rc"]=void 0);{const rt=Fe["s-p"],it=()=>Qn(O);0===rt.length?it():(Promise.all(rt).then(it),O.$flags$|=4,rt.length=0)}});return function(pe,be,Fe){return P.apply(this,arguments)}}(),Kr=(P,O,pe)=>{try{O=O.render&&O.render(),P.$flags$&=-17,P.$flags$|=2,((P,O)=>{const pe=P.$hostElement$,be=P.$cmpMeta$,Fe=P.$vnode$||Jt(null,null),F=(P=>P&&P.$tag$===U)(O)?O:Xt(null,null,O);if(G=pe.tagName,be.$attrsToReflect$&&(F.$attrs$=F.$attrs$||{},be.$attrsToReflect$.map(([le,Ie])=>F.$attrs$[Ie]=pe[le])),F.$tag$=null,F.$flags$|=4,P.$vnode$=F,F.$elm$=Fe.$elm$=pe.shadowRoot||pe,te=pe["s-sc"],J=pe["s-cr"],Q=0!=(1&be.$flags$),N=!1,Vt(Fe,F),L.$flags$|=1,B){ko(F.$elm$);let le,Ie,rt,it,Se,Lt,bt=0;for(;bt<Nr.length;bt++)le=Nr[bt],Ie=le.$nodeToRelocate$,Ie["s-ol"]||(rt=$.createTextNode(""),rt["s-nr"]=Ie,Ie.parentNode.insertBefore(Ie["s-ol"]=rt,Ie));for(bt=0;bt<Nr.length;bt++)if(le=Nr[bt],Ie=le.$nodeToRelocate$,le.$slotRefNode$){for(it=le.$slotRefNode$.parentNode,Se=le.$slotRefNode$.nextSibling,rt=Ie["s-ol"];rt=rt.previousSibling;)if(Lt=rt["s-nr"],Lt&&Lt["s-sn"]===Ie["s-sn"]&&it===Lt.parentNode&&(Lt=Lt.nextSibling,!Lt||!Lt["s-nr"])){Se=Lt;break}(!Se&&it!==Ie.parentNode||Ie.nextSibling!==Se)&&Ie!==Se&&(!Ie["s-hn"]&&Ie["s-ol"]&&(Ie["s-hn"]=Ie["s-ol"].parentNode.nodeName),it.insertBefore(Ie,Se))}else 1===Ie.nodeType&&(Ie.hidden=!0)}N&&Zi(F.$elm$),L.$flags$&=-2,Nr.length=0})(P,O)}catch(be){Ko(be,P.$hostElement$)}return null},Qn=P=>{const pe=P.$hostElement$,Fe=P.$lazyInstance$,F=P.$ancestorComponent$;Er(Fe,"componentDidRender"),64&P.$flags$?Er(Fe,"componentDidUpdate"):(P.$flags$|=64,mn(pe),Er(Fe,"componentDidLoad"),P.$onReadyResolve$(pe),F||ft()),P.$onInstanceResolve$(pe),P.$onRenderResolve$&&(P.$onRenderResolve$(),P.$onRenderResolve$=void 0),512&P.$flags$&&_i(()=>Yn(P,!1)),P.$flags$&=-517},fr=P=>{{const O=oo(P),pe=O.$hostElement$.isConnected;return pe&&2==(18&O.$flags$)&&Yn(O,!1),pe}},ft=P=>{mn($.documentElement),_i(()=>Cn(oe,"appload",{detail:{namespace:"ionic"}}))},Er=(P,O,pe)=>{if(P&&P[O])try{return P[O](pe)}catch(be){Ko(be)}},h=(P,O)=>P&&P.then?P.then(O):O(),mn=P=>P.classList.add("hydrated"),no=(P,O,pe,be,Fe,F,le)=>{let Ie,rt,it,Se;if(1===F.nodeType){for(Ie=F.getAttribute("c-id"),Ie&&(rt=Ie.split("."),(rt[0]===le||"0"===rt[0])&&(it={$flags$:0,$hostId$:rt[0],$nodeId$:rt[1],$depth$:rt[2],$index$:rt[3],$tag$:F.tagName.toLowerCase(),$elm$:F,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},O.push(it),F.removeAttribute("c-id"),P.$children$||(P.$children$=[]),P.$children$[it.$index$]=it,P=it,be&&"0"===it.$depth$&&(be[it.$index$]=it.$elm$))),Se=F.childNodes.length-1;Se>=0;Se--)no(P,O,pe,be,Fe,F.childNodes[Se],le);if(F.shadowRoot)for(Se=F.shadowRoot.childNodes.length-1;Se>=0;Se--)no(P,O,pe,be,Fe,F.shadowRoot.childNodes[Se],le)}else if(8===F.nodeType)rt=F.nodeValue.split("."),(rt[1]===le||"0"===rt[1])&&(Ie=rt[0],it={$flags$:0,$hostId$:rt[1],$nodeId$:rt[2],$depth$:rt[3],$index$:rt[4],$elm$:F,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Ie?(it.$elm$=F.nextSibling,it.$elm$&&3===it.$elm$.nodeType&&(it.$text$=it.$elm$.textContent,O.push(it),F.remove(),P.$children$||(P.$children$=[]),P.$children$[it.$index$]=it,be&&"0"===it.$depth$&&(be[it.$index$]=it.$elm$))):it.$hostId$===le&&("s"===Ie?(it.$tag$="slot",F["s-sn"]=rt[5]?it.$name$=rt[5]:"",F["s-sr"]=!0,be&&(it.$elm$=$.createElement(it.$tag$),it.$name$&&it.$elm$.setAttribute("name",it.$name$),F.parentNode.insertBefore(it.$elm$,F),F.remove(),"0"===it.$depth$&&(be[it.$index$]=it.$elm$)),pe.push(it),P.$children$||(P.$children$=[]),P.$children$[it.$index$]=it):"r"===Ie&&(be?F.remove():(Fe["s-cr"]=F,F["s-cn"]=!0))));else if(P&&"style"===P.$tag$){const Lt=Jt(null,F.textContent);Lt.$elm$=F,Lt.$index$="0",P.$children$=[Lt]}},mi=(P,O)=>{if(1===P.nodeType){let pe=0;for(;pe<P.childNodes.length;pe++)mi(P.childNodes[pe],O);if(P.shadowRoot)for(pe=0;pe<P.shadowRoot.childNodes.length;pe++)mi(P.shadowRoot.childNodes[pe],O)}else if(8===P.nodeType){const pe=P.nodeValue.split(".");"o"===pe[0]&&(O.set(pe[1]+"."+pe[2],P),P.nodeValue="",P["s-en"]=pe[3])}},Oo=(P,O,pe)=>{if(O.$members$){P.watchers&&(O.$watchers$=P.watchers);const be=Object.entries(O.$members$),Fe=P.prototype;if(be.map(([F,[le]])=>{31&le||2&pe&&32&le?Object.defineProperty(Fe,F,{get(){return((P,O)=>oo(this).$instanceValues$.get(O))(0,F)},set(Ie){((P,O,pe,be)=>{const Fe=oo(P),F=Fe.$hostElement$,le=Fe.$instanceValues$.get(O),Ie=Fe.$flags$,rt=Fe.$lazyInstance$;pe=((P,O)=>null==P||on(P)?P:4&O?"false"!==P&&(""===P||!!P):2&O?parseFloat(P):1&O?String(P):P)(pe,be.$members$[O][0]);const it=Number.isNaN(le)&&Number.isNaN(pe);if((!(8&Ie)||void 0===le)&&pe!==le&&!it&&(Fe.$instanceValues$.set(O,pe),rt)){if(be.$watchers$&&128&Ie){const Lt=be.$watchers$[O];Lt&&Lt.map(bt=>{try{rt[bt](pe,le,O)}catch(nn){Ko(nn,F)}})}2==(18&Ie)&&Yn(Fe,!1)}})(this,F,Ie,O)},configurable:!0,enumerable:!0}):1&pe&&64&le&&Object.defineProperty(Fe,F,{value(...Ie){const rt=oo(this);return rt.$onInstancePromise$.then(()=>rt.$lazyInstance$[F](...Ie))}})}),1&pe){const F=new Map;Fe.attributeChangedCallback=function(le,Ie,rt){L.jmp(()=>{const it=F.get(le);if(this.hasOwnProperty(it))rt=this[it],delete this[it];else if(Fe.hasOwnProperty(it)&&"number"==typeof this[it]&&this[it]==rt)return;this[it]=(null!==rt||"boolean"!=typeof this[it])&&rt})},P.observedAttributes=be.filter(([le,Ie])=>15&Ie[0]).map(([le,Ie])=>{const rt=Ie[1]||le;return F.set(rt,le),512&Ie[0]&&O.$attrsToReflect$.push([le,rt]),rt})}}return P},go=function(){var P=(0,E.Z)(function*(O,pe,be,Fe,F){if(!(32&pe.$flags$)){{if(pe.$flags$|=32,(F=lo(be)).then){const it=()=>{};F=yield F,it()}F.isProxied||(be.$watchers$=F.watchers,Oo(F,be,2),F.isProxied=!0);const rt=()=>{};pe.$flags$|=8;try{new F(pe)}catch(it){Ko(it)}pe.$flags$&=-9,pe.$flags$|=128,rt(),Ai(pe.$lazyInstance$)}if(F.style){let rt=F.style;"string"!=typeof rt&&(rt=rt[pe.$modeName$=(P=>Oi.map(O=>O(P)).find(O=>!!O))(O)]);const it=He(be,pe.$modeName$);if(!ci.has(it)){const Se=()=>{};tn(it,rt,!!(1&be.$flags$)),Se()}}}const le=pe.$ancestorComponent$,Ie=()=>Yn(pe,!0);le&&le["s-rc"]?le["s-rc"].push(Ie):Ie()});return function(pe,be,Fe,F,le){return P.apply(this,arguments)}}(),Ai=P=>{Er(P,"connectedCallback")},li=P=>{const O=P["s-cr"]=$.createComment("");O["s-cn"]=!0,P.insertBefore(O,P.firstChild)},Yo=(P,O={})=>{const be=[],Fe=O.exclude||[],F=oe.customElements,le=$.head,Ie=le.querySelector("meta[charset]"),rt=$.createElement("style"),it=[],Se=$.querySelectorAll(`[${Ke}]`);let Lt,bt=!0,nn=0;for(Object.assign(L,O),L.$resourcesUrl$=new URL(O.resourcesUrl||"./",$.baseURI).href,L.$flags$|=2;nn<Se.length;nn++)tn(Se[nn].getAttribute(Ke),et(Se[nn].innerHTML),!0);P.map(Mo=>{Mo[1].map(No=>{const yi={$flags$:No[0],$tagName$:No[1],$members$:No[2],$listeners$:No[3]};yi.$members$=No[2],yi.$listeners$=No[3],yi.$attrsToReflect$=[],yi.$watchers$={};const Ni=yi.$tagName$,Co=class extends HTMLElement{constructor(Li){super(Li),Pi(Li=this,yi),1&yi.$flags$&&Li.attachShadow({mode:"open",delegatesFocus:!!(16&yi.$flags$)})}connectedCallback(){Lt&&(clearTimeout(Lt),Lt=null),bt?it.push(this):L.jmp(()=>(P=>{if(!(1&L.$flags$)){const O=oo(P),pe=O.$cmpMeta$,be=()=>{};if(1&O.$flags$)H(P,O,pe.$listeners$),Ai(O.$lazyInstance$);else{let Fe;if(O.$flags$|=1,Fe=P.getAttribute(ue),Fe){if(1&pe.$flags$){const F=Be(P.shadowRoot,pe,P.getAttribute("s-mode"));P.classList.remove(F+"-h",F+"-s")}((P,O,pe,be)=>{const F=P.shadowRoot,le=[],rt=F?[]:null,it=be.$vnode$=Jt(O,null);L.$orgLocNodes$||mi($.body,L.$orgLocNodes$=new Map),P[ue]=pe,P.removeAttribute(ue),no(it,le,[],rt,P,P,pe),le.map(Se=>{const Lt=Se.$hostId$+"."+Se.$nodeId$,bt=L.$orgLocNodes$.get(Lt),nn=Se.$elm$;bt&&""===bt["s-en"]&&bt.parentNode.insertBefore(nn,bt.nextSibling),F||(nn["s-hn"]=O,bt&&(nn["s-ol"]=bt,nn["s-ol"]["s-nr"]=nn)),L.$orgLocNodes$.delete(Lt)}),F&&rt.map(Se=>{Se&&F.appendChild(Se)})})(P,pe.$tagName$,Fe,O)}Fe||12&pe.$flags$&&li(P);{let F=P;for(;F=F.parentNode||F.host;)if(1===F.nodeType&&F.hasAttribute("s-id")&&F["s-p"]||F["s-p"]){_n(O,O.$ancestorComponent$=F);break}}pe.$members$&&Object.entries(pe.$members$).map(([F,[le]])=>{if(31&le&&P.hasOwnProperty(F)){const Ie=P[F];delete P[F],P[F]=Ie}}),_i(()=>go(P,O,pe))}be()}})(this))}disconnectedCallback(){L.jmp(()=>(P=>{if(!(1&L.$flags$)){const O=oo(this),pe=O.$lazyInstance$;O.$rmListeners$&&(O.$rmListeners$.map(be=>be()),O.$rmListeners$=void 0),Er(pe,"disconnectedCallback")}})())}componentOnReady(){return oo(this).$onReadyPromise$}};yi.$lazyBundleId$=Mo[0],!Fe.includes(Ni)&&!F.get(Ni)&&(be.push(Ni),F.define(Ni,Oo(Co,yi,1)))})}),rt.innerHTML=be+"{visibility:hidden}.hydrated{visibility:inherit}",rt.setAttribute("data-styles",""),le.insertBefore(rt,Ie?Ie.nextSibling:le.firstChild),bt=!1,it.length?it.map(Mo=>Mo.connectedCallback()):L.jmp(()=>Lt=setTimeout(ft,30))},gi=P=>{const O=new URL(P,L.$resourcesUrl$);return O.origin!==oe.location.origin?O.href:O.pathname},xo=new WeakMap,oo=P=>xo.get(P),cs=(P,O)=>xo.set(O.$lazyInstance$=P,O),Pi=(P,O)=>{const pe={$flags$:0,$hostElement$:P,$cmpMeta$:O,$instanceValues$:new Map};return pe.$onInstancePromise$=new Promise(be=>pe.$onInstanceResolve$=be),pe.$onReadyPromise$=new Promise(be=>pe.$onReadyResolve$=be),P["s-p"]=[],P["s-rc"]=[],H(P,pe,O.$listeners$),xo.set(P,pe)},Ri=(P,O)=>O in P,Ko=(P,O)=>(0,console.error)(P,O),Fi=new Map,lo=(P,O,pe)=>{const be=P.$tagName$.replace(/-/g,"_"),Fe=P.$lazyBundleId$,F=Fi.get(Fe);return F?F[be]:R(863)(`./${Fe}.entry.js`).then(le=>(Fi.set(Fe,le),le[be]),Ko)},ci=new Map,Oi=[],Is=[],us=[],ds=(P,O)=>pe=>{P.push(pe),Y||(Y=!0,O&&4&L.$flags$?_i(Kn):L.raf(Kn))},Vs=P=>{for(let O=0;O<P.length;O++)try{P[O](performance.now())}catch(pe){Ko(pe)}P.length=0},Kn=()=>{Vs(Is),Vs(us),(Y=Is.length>0)&&L.raf(Kn)},_i=P=>Ne().then(P),Us=ds(Is,!1),fs=ds(us,!0),rr={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},5823:($e,ze,R)=>{"use strict";R.d(ze,{a:()=>oe,b:()=>Ct,c:()=>te,g:()=>Y,i:()=>tn});var E=R(1559);class l{constructor(){this.m=new Map}reset(Ee){this.m=new Map(Object.entries(Ee))}get(Ee,He){const et=this.m.get(Ee);return void 0!==et?et:He}getBoolean(Ee,He=!1){const et=this.m.get(Ee);return void 0===et?He:"string"==typeof et?"true"===et:!!et}getNumber(Ee,He){const et=parseFloat(this.m.get(Ee));return isNaN(et)?void 0!==He?He:NaN:et}set(Ee,He){this.m.set(Ee,He)}}const te=new l,B="ionic:",se="ionic-persist-config",Y=Be=>$(Be),oe=(Be,Ee)=>("string"==typeof Be&&(Ee=Be,Be=void 0),Y(Be).includes(Ee)),$=(Be=window)=>{if(typeof Be>"u")return[];Be.Ionic=Be.Ionic||{};let Ee=Be.Ionic.platforms;return null==Ee&&(Ee=Be.Ionic.platforms=L(Be),Ee.forEach(He=>Be.document.documentElement.classList.add(`plt-${He}`))),Ee},L=Be=>{const Ee=te.get("platform");return Object.keys(fe).filter(He=>{const et=Ee?.[He];return"function"==typeof et?et(Be):fe[He](Be)})},Me=Be=>!!(Ae(Be,/iPad/i)||Ae(Be,/Macintosh/i)&&ae(Be)),H=Be=>Ae(Be,/android|sink/i),ae=Be=>k(Be,"(any-pointer:coarse)"),ie=Be=>_e(Be)||ue(Be),_e=Be=>!!(Be.cordova||Be.phonegap||Be.PhoneGap),ue=Be=>!!Be.Capacitor?.isNative,Ae=(Be,Ee)=>Ee.test(Be.navigator.userAgent),k=(Be,Ee)=>{var He;return null===(He=Be.matchMedia)||void 0===He?void 0:He.call(Be,Ee).matches},fe={ipad:Me,iphone:Be=>Ae(Be,/iPhone/i),ios:Be=>Ae(Be,/iPhone|iPod/i)||Me(Be),android:H,phablet:Be=>{const Ee=Be.innerWidth,He=Be.innerHeight,et=Math.min(Ee,He),Je=Math.max(Ee,He);return et>390&&et<520&&Je>620&&Je<800},tablet:Be=>{const Ee=Be.innerWidth,He=Be.innerHeight,et=Math.min(Ee,He),Je=Math.max(Ee,He);return Me(Be)||(Be=>H(Be)&&!Ae(Be,/mobile/i))(Be)||et>460&&et<820&&Je>780&&Je<1400},cordova:_e,capacitor:ue,electron:Be=>Ae(Be,/electron/i),pwa:Be=>{var Ee;return!!(null!==(Ee=Be.matchMedia)&&void 0!==Ee&&Ee.call(Be,"(display-mode: standalone)").matches||Be.navigator.standalone)},mobile:ae,mobileweb:Be=>ae(Be)&&!ie(Be),desktop:Be=>!ae(Be),hybrid:ie};let mt;const Ct=Be=>Be&&(0,E.g)(Be)||mt,tn=(Be={})=>{if(typeof window>"u")return;const Ee=window.document,He=window,et=He.Ionic=He.Ionic||{},Je={};Be._ael&&(Je.ael=Be._ael),Be._rel&&(Je.rel=Be._rel),Be._ce&&(Je.ce=Be._ce),(0,E.s)(Je);const Ve=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Be=>{try{const Ee=Be.sessionStorage.getItem(se);return null!==Ee?JSON.parse(Ee):{}}catch{return{}}})(He)),{persistConfig:!1}),et.config),(Be=>{const Ee={};return Be.location.search.slice(1).split("&").map(He=>He.split("=")).map(([He,et])=>[decodeURIComponent(He),decodeURIComponent(et)]).filter(([He])=>((Be,Ee)=>Be.substr(0,Ee.length)===Ee)(He,B)).map(([He,et])=>[He.slice(B.length),et]).forEach(([He,et])=>{Ee[He]=et}),Ee})(He)),Be);te.reset(Ve),te.getBoolean("persistConfig")&&((Be,Ee)=>{try{Be.sessionStorage.setItem(se,JSON.stringify(Ee))}catch{return}})(He,Ve),$(He),et.config=te,et.mode=mt=te.get("mode",Ee.documentElement.getAttribute("mode")||(oe(He,"ios")?"ios":"md")),te.set("mode",mt),Ee.documentElement.setAttribute("mode",mt),Ee.documentElement.classList.add(mt),te.getBoolean("_testing")&&te.set("animated",!1);const z=ht=>{var Pe;return null===(Pe=ht.tagName)||void 0===Pe?void 0:Pe.startsWith("ION-")},Ce=ht=>["ios","md"].includes(ht);(0,E.a)(ht=>{for(;ht;){const Pe=ht.mode||ht.getAttribute("mode");if(Pe){if(Ce(Pe))return Pe;z(ht)&&console.warn('Invalid ionic mode: "'+Pe+'", expected: "ios" or "md"')}ht=ht.parentElement}return mt})}},9078:($e,ze,R)=>{"use strict";R.r(ze),R.d(ze,{iosTransitionAnimation:()=>L,shadow:()=>N});var E=R(5933),l=R(609);R(2286),R(1559);const Q=j=>document.querySelector(`${j}.ion-cloned-element`),N=j=>j.shadowRoot||j,B=j=>{const Me="ION-TABS"===j.tagName?j:j.querySelector("ion-tabs"),Ne="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Me){const de=Me.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=de?de.querySelector(Ne):null}return j.querySelector(Ne)},se=(j,Me)=>{const Ne="ION-TABS"===j.tagName?j:j.querySelector("ion-tabs");let de=[];if(null!=Ne){const H=Ne.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=H&&(de=H.querySelectorAll("ion-buttons"))}else de=j.querySelectorAll("ion-buttons");for(const H of de){const q=H.closest("ion-header"),ce=q&&!q.classList.contains("header-collapse-condense-inactive"),Te=H.querySelector("ion-back-button"),ae=H.classList.contains("buttons-collapse");if(null!==Te&&("start"===H.slot||""===H.slot)&&(ae&&ce&&Me||!ae))return Te}return null},oe=(j,Me,Ne,de,H,q)=>{const ce=Me?`calc(100% - ${q.right+4}px)`:q.left-4+"px",Te=Me?"7px":"-7px",ae=Me?"-4px":"4px",ot=Me?"-4px":"4px",ie=Me?"right":"left",_e=Me?"left":"right",Qe=Ne?[{offset:0,opacity:1,transform:`translate3d(${ae}, ${q.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Te}, ${H.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${Te}, ${H.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${ae}, ${q.top-46}px, 0) scale(1)`}],fe=Ne?[{offset:0,opacity:1,transform:`translate3d(${ot}, ${q.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${ot}, ${q.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${ot}, ${q.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${ot}, ${q.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${ot}, ${q.top-46}px, 0) scale(1)`}],mt=(0,E.c)(),Ct=(0,E.c)(),tn=Q("ion-back-button"),Be=N(tn).querySelector(".button-text"),Ee=N(tn).querySelector("ion-icon");tn.text=de.text,tn.mode=de.mode,tn.icon=de.icon,tn.color=de.color,tn.disabled=de.disabled,tn.style.setProperty("display","block"),tn.style.setProperty("position","fixed"),Ct.addElement(Ee),mt.addElement(Be),mt.beforeStyles({"transform-origin":`${ie} center`}).beforeAddWrite(()=>{de.style.setProperty("display","none"),tn.style.setProperty(ie,ce)}).afterAddWrite(()=>{de.style.setProperty("display",""),tn.style.setProperty("display","none"),tn.style.removeProperty(ie)}).keyframes(Qe),Ct.beforeStyles({"transform-origin":`${_e} center`}).keyframes(fe),j.addAnimation([mt,Ct])},$=(j,Me,Ne,de,H,q)=>{const ce=Me?`calc(100% - ${H.right}px)`:`${H.left}px`,Te=Me?"-18px":"18px",ae=Me?"right":"left",_e=Ne?[{offset:0,opacity:0,transform:`translate3d(${Te}, ${q.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${H.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${H.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Te}, ${q.top-4}px, 0) scale(0.5)`}],ue=Q("ion-title"),Ke=(0,E.c)();ue.innerText=de.innerText,ue.size=de.size,ue.color=de.color,Ke.addElement(ue),Ke.beforeStyles({"transform-origin":`${ae} center`,height:"46px",display:"",position:"relative",[ae]:ce}).beforeAddWrite(()=>{de.style.setProperty("display","none")}).afterAddWrite(()=>{de.style.setProperty("display",""),ue.style.setProperty("display","none")}).keyframes(_e),j.addAnimation(Ke)},L=(j,Me)=>{var Ne;try{const de="cubic-bezier(0.32,0.72,0,1)",H="opacity",q="transform",ce="0%",ae="rtl"===j.ownerDocument.dir,ot=ae?"-99.5%":"99.5%",ie=ae?"33%":"-33%",_e=Me.enteringEl,ue=Me.leavingEl,Ke="back"===Me.direction,Qe=_e.querySelector(":scope > ion-content"),Ae=_e.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),k=_e.querySelectorAll(":scope > ion-header > ion-toolbar"),fe=(0,E.c)(),mt=(0,E.c)();if(fe.addElement(_e).duration((null!==(Ne=Me.duration)&&void 0!==Ne?Ne:0)||540).easing(Me.easing||de).fill("both").beforeRemoveClass("ion-page-invisible"),ue&&null!=j){const Ee=(0,E.c)();Ee.addElement(j),fe.addAnimation(Ee)}if(Qe||0!==k.length||0!==Ae.length?(mt.addElement(Qe),mt.addElement(Ae)):mt.addElement(_e.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),fe.addAnimation(mt),Ke?mt.beforeClearStyles([H]).fromTo("transform",`translateX(${ie})`,`translateX(${ce})`).fromTo(H,.8,1):mt.beforeClearStyles([H]).fromTo("transform",`translateX(${ot})`,`translateX(${ce})`),Qe){const Ee=N(Qe).querySelector(".transition-effect");if(Ee){const He=Ee.querySelector(".transition-cover"),et=Ee.querySelector(".transition-shadow"),Je=(0,E.c)(),Ve=(0,E.c)(),z=(0,E.c)();Je.addElement(Ee).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ve.addElement(He).beforeClearStyles([H]).fromTo(H,0,.1),z.addElement(et).beforeClearStyles([H]).fromTo(H,.03,.7),Je.addAnimation([Ve,z]),mt.addAnimation([Je])}}const Ct=_e.querySelector("ion-header.header-collapse-condense"),{forward:tn,backward:Be}=((j,Me,Ne,de,H)=>{const q=se(de,Ne),ce=B(H),Te=B(de),ae=se(H,Ne),ot=null!==q&&null!==ce&&!Ne,ie=null!==Te&&null!==ae&&Ne;if(ot){const _e=ce.getBoundingClientRect(),ue=q.getBoundingClientRect();$(j,Me,Ne,ce,_e,ue),oe(j,Me,Ne,q,_e,ue)}else if(ie){const _e=Te.getBoundingClientRect(),ue=ae.getBoundingClientRect();$(j,Me,Ne,Te,_e,ue),oe(j,Me,Ne,ae,_e,ue)}return{forward:ot,backward:ie}})(fe,ae,Ke,_e,ue);if(k.forEach(Ee=>{const He=(0,E.c)();He.addElement(Ee),fe.addAnimation(He);const et=(0,E.c)();et.addElement(Ee.querySelector("ion-title"));const Je=(0,E.c)(),Ve=Array.from(Ee.querySelectorAll("ion-buttons,[menuToggle]")),z=Ee.closest("ion-header"),Ce=z?.classList.contains("header-collapse-condense-inactive");let ht;ht=Ve.filter(Ke?Jt=>{const U=Jt.classList.contains("buttons-collapse");return U&&!Ce||!U}:Jt=>!Jt.classList.contains("buttons-collapse")),Je.addElement(ht);const Pe=(0,E.c)();Pe.addElement(Ee.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Dt=(0,E.c)();Dt.addElement(N(Ee).querySelector(".toolbar-background"));const on=(0,E.c)(),Xt=Ee.querySelector("ion-back-button");if(Xt&&on.addElement(Xt),He.addAnimation([et,Je,Pe,Dt,on]),Je.fromTo(H,.01,1),Pe.fromTo(H,.01,1),Ke)Ce||et.fromTo("transform",`translateX(${ie})`,`translateX(${ce})`).fromTo(H,.01,1),Pe.fromTo("transform",`translateX(${ie})`,`translateX(${ce})`),on.fromTo(H,.01,1);else if(Ct||et.fromTo("transform",`translateX(${ot})`,`translateX(${ce})`).fromTo(H,.01,1),Pe.fromTo("transform",`translateX(${ot})`,`translateX(${ce})`),Dt.beforeClearStyles([H,"transform"]),z?.translucent?Dt.fromTo("transform",ae?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Dt.fromTo(H,.01,"var(--opacity)"),tn||on.fromTo(H,.01,1),Xt&&!tn){const U=(0,E.c)();U.addElement(N(Xt).querySelector(".button-text")).fromTo("transform",ae?"translateX(-100px)":"translateX(100px)","translateX(0px)"),He.addAnimation(U)}}),ue){const Ee=(0,E.c)(),He=ue.querySelector(":scope > ion-content"),et=ue.querySelectorAll(":scope > ion-header > ion-toolbar"),Je=ue.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(He||0!==et.length||0!==Je.length?(Ee.addElement(He),Ee.addElement(Je)):Ee.addElement(ue.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),fe.addAnimation(Ee),Ke){Ee.beforeClearStyles([H]).fromTo("transform",`translateX(${ce})`,ae?"translateX(-100%)":"translateX(100%)");const Ve=(0,l.g)(ue);fe.afterAddWrite(()=>{"normal"===fe.getDirection()&&Ve.style.setProperty("display","none")})}else Ee.fromTo("transform",`translateX(${ce})`,`translateX(${ie})`).fromTo(H,1,.8);if(He){const Ve=N(He).querySelector(".transition-effect");if(Ve){const z=Ve.querySelector(".transition-cover"),Ce=Ve.querySelector(".transition-shadow"),ht=(0,E.c)(),Pe=(0,E.c)(),Dt=(0,E.c)();ht.addElement(Ve).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Pe.addElement(z).beforeClearStyles([H]).fromTo(H,.1,0),Dt.addElement(Ce).beforeClearStyles([H]).fromTo(H,.7,.03),ht.addAnimation([Pe,Dt]),Ee.addAnimation([ht])}}et.forEach(Ve=>{const z=(0,E.c)();z.addElement(Ve);const Ce=(0,E.c)();Ce.addElement(Ve.querySelector("ion-title"));const ht=(0,E.c)(),Pe=Ve.querySelectorAll("ion-buttons,[menuToggle]"),Dt=Ve.closest("ion-header"),on=Dt?.classList.contains("header-collapse-condense-inactive"),Xt=Array.from(Pe).filter(Mi=>{const Or=Mi.classList.contains("buttons-collapse");return Or&&!on||!Or});ht.addElement(Xt);const Jt=(0,E.c)(),U=Ve.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");U.length>0&&Jt.addElement(U);const Nt=(0,E.c)();Nt.addElement(N(Ve).querySelector(".toolbar-background"));const qn=(0,E.c)(),In=Ve.querySelector("ion-back-button");if(In&&qn.addElement(In),z.addAnimation([Ce,ht,Jt,qn,Nt]),fe.addAnimation(z),qn.fromTo(H,.99,0),ht.fromTo(H,.99,0),Jt.fromTo(H,.99,0),Ke){if(on||Ce.fromTo("transform",`translateX(${ce})`,ae?"translateX(-100%)":"translateX(100%)").fromTo(H,.99,0),Jt.fromTo("transform",`translateX(${ce})`,ae?"translateX(-100%)":"translateX(100%)"),Nt.beforeClearStyles([H,"transform"]),Dt?.translucent?Nt.fromTo("transform","translateX(0px)",ae?"translateX(-100%)":"translateX(100%)"):Nt.fromTo(H,"var(--opacity)",0),In&&!Be){const Or=(0,E.c)();Or.addElement(N(In).querySelector(".button-text")).fromTo("transform",`translateX(${ce})`,`translateX(${(ae?-124:124)+"px"})`),z.addAnimation(Or)}}else on||Ce.fromTo("transform",`translateX(${ce})`,`translateX(${ie})`).fromTo(H,.99,0).afterClearStyles([q,H]),Jt.fromTo("transform",`translateX(${ce})`,`translateX(${ie})`).afterClearStyles([q,H]),qn.afterClearStyles([H]),Ce.afterClearStyles([H]),ht.afterClearStyles([H])})}return fe}catch(de){throw de}}},4199:($e,ze,R)=>{"use strict";R.r(ze),R.d(ze,{mdTransitionAnimation:()=>G});var E=R(5933),l=R(609);R(2286),R(1559);const G=(Q,N)=>{var B,se,Y;const L="back"===N.direction,Me=N.leavingEl,Ne=(0,l.g)(N.enteringEl),de=Ne.querySelector("ion-toolbar"),H=(0,E.c)();if(H.addElement(Ne).fill("both").beforeRemoveClass("ion-page-invisible"),L?H.duration((null!==(B=N.duration)&&void 0!==B?B:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):H.duration((null!==(se=N.duration)&&void 0!==se?se:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),de){const q=(0,E.c)();q.addElement(de),H.addAnimation(q)}if(Me&&L){H.duration((null!==(Y=N.duration)&&void 0!==Y?Y:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const q=(0,E.c)();q.addElement((0,l.g)(Me)).onFinish(ce=>{1===ce&&q.elements.length>0&&q.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),H.addAnimation(q)}return H}},7580:($e,ze,R)=>{"use strict";R.d(ze,{B:()=>He,G:()=>et,a:()=>B,b:()=>se,c:()=>L,d:()=>Ke,e:()=>Me,f:()=>Ae,g:()=>mt,h:()=>Q,i:()=>tn,j:()=>H,k:()=>_e,l:()=>Y,m:()=>oe,s:()=>Ee});var E=R(3918),l=R(5823),te=R(159),J=R(9259);let G=0;const Q=new WeakMap,N=Je=>({create:Ve=>Ne(Je,Ve),dismiss:(Ve,z,Ce)=>ot(document,Ve,z,Je,Ce),getTop:()=>(0,E.Z)(function*(){return _e(document,Je)})()}),B=N("ion-alert"),se=N("ion-action-sheet"),Y=N("ion-loading"),oe=N("ion-modal"),L=N("ion-popover"),Me=Je=>{typeof document<"u"&&ae(document);const Ve=G++;Je.overlayIndex=Ve,Je.hasAttribute("id")||(Je.id=`ion-overlay-${Ve}`)},Ne=(Je,Ve)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Je).then(()=>{const z=document.createElement(Je);return z.classList.add("overlay-hidden"),Object.assign(z,Object.assign(Object.assign({},Ve),{hasController:!0})),k(document).appendChild(z),new Promise(Ce=>(0,J.c)(z,Ce))}):Promise.resolve(),de='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',H=(Je,Ve)=>{let z=Je.querySelector(de);const Ce=z?.shadowRoot;Ce&&(z=Ce.querySelector(de)||z),z?(0,J.f)(z):Ve.focus()},ce=(Je,Ve)=>{const z=Array.from(Je.querySelectorAll(de));let Ce=z.length>0?z[z.length-1]:null;const ht=Ce?.shadowRoot;ht&&(Ce=ht.querySelector(de)||Ce),Ce?Ce.focus():Ve.focus()},ae=Je=>{0===G&&(G=1,Je.addEventListener("focus",Ve=>{((Je,Ve)=>{const z=_e(Ve,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Ce=Je.target;z&&Ce&&!z.classList.contains("ion-disable-focus-trap")&&(z.shadowRoot?(()=>{if(z.contains(Ce))z.lastFocus=Ce;else{const Dt=z.lastFocus;H(z,z),Dt===Ve.activeElement&&ce(z,z),z.lastFocus=Ve.activeElement}})():(()=>{if(z===Ce)z.lastFocus=void 0;else{const Dt=(0,J.g)(z);if(!Dt.contains(Ce))return;const on=Dt.querySelector(".ion-overlay-wrapper");if(!on)return;if(on.contains(Ce))z.lastFocus=Ce;else{const Xt=z.lastFocus;H(on,z),Xt===Ve.activeElement&&ce(on,z),z.lastFocus=Ve.activeElement}}})())})(Ve,Je)},!0),Je.addEventListener("ionBackButton",Ve=>{const z=_e(Je);z?.backdropDismiss&&Ve.detail.register(te.OVERLAY_BACK_BUTTON_PRIORITY,()=>z.dismiss(void 0,He))}),Je.addEventListener("keyup",Ve=>{if("Escape"===Ve.key){const z=_e(Je);z?.backdropDismiss&&z.dismiss(void 0,He)}}))},ot=(Je,Ve,z,Ce,ht)=>{const Pe=_e(Je,Ce,ht);return Pe?Pe.dismiss(Ve,z):Promise.reject("overlay does not exist")},_e=(Je,Ve,z)=>{const Ce=((Je,Ve)=>(void 0===Ve&&(Ve="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Je.querySelectorAll(Ve)).filter(z=>z.overlayIndex>0)))(Je,Ve).filter(ht=>!(Je=>Je.classList.contains("overlay-hidden"))(ht));return void 0===z?Ce[Ce.length-1]:Ce.find(ht=>ht.id===z)},ue=(Je=!1)=>{const z=k(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");z&&(Je?z.setAttribute("aria-hidden","true"):z.removeAttribute("aria-hidden"))},Ke=function(){var Je=(0,E.Z)(function*(Ve,z,Ce,ht,Pe){var Dt,on;if(Ve.presented)return;ue(!0),Ve.presented=!0,Ve.willPresent.emit(),null===(Dt=Ve.willPresentShorthand)||void 0===Dt||Dt.emit();const Xt=(0,l.b)(Ve),Jt=Ve.enterAnimation?Ve.enterAnimation:l.c.get(z,"ios"===Xt?Ce:ht);(yield fe(Ve,Jt,Ve.el,Pe))&&(Ve.didPresent.emit(),null===(on=Ve.didPresentShorthand)||void 0===on||on.emit()),"ION-TOAST"!==Ve.el.tagName&&Qe(Ve.el),Ve.keyboardClose&&(null===document.activeElement||!Ve.el.contains(document.activeElement))&&Ve.el.focus()});return function(z,Ce,ht,Pe,Dt){return Je.apply(this,arguments)}}(),Qe=function(){var Je=(0,E.Z)(function*(Ve){let z=document.activeElement;if(!z)return;const Ce=z?.shadowRoot;Ce&&(z=Ce.querySelector(de)||z),yield Ve.onDidDismiss(),z.focus()});return function(z){return Je.apply(this,arguments)}}(),Ae=function(){var Je=(0,E.Z)(function*(Ve,z,Ce,ht,Pe,Dt,on){var Xt,Jt;if(!Ve.presented)return!1;ue(!1),Ve.presented=!1;try{Ve.el.style.setProperty("pointer-events","none"),Ve.willDismiss.emit({data:z,role:Ce}),null===(Xt=Ve.willDismissShorthand)||void 0===Xt||Xt.emit({data:z,role:Ce});const U=(0,l.b)(Ve),Nt=Ve.leaveAnimation?Ve.leaveAnimation:l.c.get(ht,"ios"===U?Pe:Dt);Ce!==et&&(yield fe(Ve,Nt,Ve.el,on)),Ve.didDismiss.emit({data:z,role:Ce}),null===(Jt=Ve.didDismissShorthand)||void 0===Jt||Jt.emit({data:z,role:Ce}),Q.delete(Ve),Ve.el.classList.add("overlay-hidden"),Ve.el.style.removeProperty("pointer-events")}catch(U){console.error(U)}return Ve.el.remove(),!0});return function(z,Ce,ht,Pe,Dt,on,Xt){return Je.apply(this,arguments)}}(),k=Je=>Je.querySelector("ion-app")||Je.body,fe=function(){var Je=(0,E.Z)(function*(Ve,z,Ce,ht){Ce.classList.remove("overlay-hidden");const Dt=z(Ve.el,ht);(!Ve.animated||!l.c.getBoolean("animated",!0))&&Dt.duration(0),Ve.keyboardClose&&Dt.beforeAddWrite(()=>{const Xt=Ce.ownerDocument.activeElement;Xt?.matches("input,ion-input, ion-textarea")&&Xt.blur()});const on=Q.get(Ve)||[];return Q.set(Ve,[...on,Dt]),yield Dt.play(),!0});return function(z,Ce,ht,Pe){return Je.apply(this,arguments)}}(),mt=(Je,Ve)=>{let z;const Ce=new Promise(ht=>z=ht);return Ct(Je,Ve,ht=>{z(ht.detail)}),Ce},Ct=(Je,Ve,z)=>{const Ce=ht=>{(0,J.b)(Je,Ve,Ce),z(ht)};(0,J.a)(Je,Ve,Ce)},tn=Je=>"cancel"===Je||Je===He,Be=Je=>Je(),Ee=(Je,Ve)=>{if("function"==typeof Je)return l.c.get("_zoneGate",Be)(()=>{try{return Je(Ve)}catch(Ce){throw Ce}})},He="backdrop",et="gesture"},4263:($e,ze,R)=>{"use strict";var E=R(9903),l=R(3855),te=l(E("String.prototype.indexOf"));$e.exports=function(G,Q){var N=E(G,!!Q);return"function"==typeof N&&te(G,".prototype.")>-1?l(N):N}},3855:($e,ze,R)=>{"use strict";var E=R(224),l=R(9903),te=l("%Function.prototype.apply%"),J=l("%Function.prototype.call%"),G=l("%Reflect.apply%",!0)||E.call(J,te),Q=l("%Object.getOwnPropertyDescriptor%",!0),N=l("%Object.defineProperty%",!0),B=l("%Math.max%");if(N)try{N({},"a",{value:1})}catch{N=null}$e.exports=function(oe){var $=G(E,J,arguments);if(Q&&N){var L=Q($,"length");L.configurable&&N($,"length",{value:1+B(0,oe.length-(arguments.length-1))})}return $};var se=function(){return G(E,te,arguments)};N?N($e.exports,"apply",{value:se}):$e.exports.apply=se},5107:$e=>{var ze={utf8:{stringToBytes:function(R){return ze.bin.stringToBytes(unescape(encodeURIComponent(R)))},bytesToString:function(R){return decodeURIComponent(escape(ze.bin.bytesToString(R)))}},bin:{stringToBytes:function(R){for(var E=[],l=0;l<R.length;l++)E.push(255&R.charCodeAt(l));return E},bytesToString:function(R){for(var E=[],l=0;l<R.length;l++)E.push(String.fromCharCode(R[l]));return E.join("")}}};$e.exports=ze},7175:$e=>{var ze,R;ze="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$e.exports=R={rotl:function(E,l){return E<<l|E>>>32-l},rotr:function(E,l){return E<<32-l|E>>>l},endian:function(E){if(E.constructor==Number)return 16711935&R.rotl(E,8)|4278255360&R.rotl(E,24);for(var l=0;l<E.length;l++)E[l]=R.endian(E[l]);return E},randomBytes:function(E){for(var l=[];E>0;E--)l.push(Math.floor(256*Math.random()));return l},bytesToWords:function(E){for(var l=[],te=0,J=0;te<E.length;te++,J+=8)l[J>>>5]|=E[te]<<24-J%32;return l},wordsToBytes:function(E){for(var l=[],te=0;te<32*E.length;te+=8)l.push(E[te>>>5]>>>24-te%32&255);return l},bytesToHex:function(E){for(var l=[],te=0;te<E.length;te++)l.push((E[te]>>>4).toString(16)),l.push((15&E[te]).toString(16));return l.join("")},hexToBytes:function(E){for(var l=[],te=0;te<E.length;te+=2)l.push(parseInt(E.substr(te,2),16));return l},bytesToBase64:function(E){for(var l=[],te=0;te<E.length;te+=3)for(var J=E[te]<<16|E[te+1]<<8|E[te+2],G=0;G<4;G++)l.push(8*te+6*G<=8*E.length?ze.charAt(J>>>6*(3-G)&63):"=");return l.join("")},base64ToBytes:function(E){E=E.replace(/[^A-Z0-9+\/]/gi,"");for(var l=[],te=0,J=0;te<E.length;J=++te%4)0!=J&&l.push((ze.indexOf(E.charAt(te-1))&Math.pow(2,-2*J+8)-1)<<2*J|ze.indexOf(E.charAt(te))>>>6-2*J);return l}}},5541:($e,ze,R)=>{"use strict";var E=R(6189),l=R(4263),te=R(8704),J=R(9903),G=R(2069),Q=R(8432),N=R(5734),B=R(9102),se=R(8266),Y=R(2805),oe=R(4666),$=R(6687),L=R(3163),j=R(2093),Me=R(2086),Ne=R(2107),de=R(5709),H=l("ArrayBuffer.prototype.byteLength",!0)||function(Ce){return Ce.byteLength},q=l("SharedArrayBuffer.prototype.byteLength",!0),ce=l("Date.prototype.getTime"),Te=Object.getPrototypeOf,ae=l("Object.prototype.toString"),ot=J("%Set%",!0),ie=l("Map.prototype.has",!0),_e=l("Map.prototype.get",!0),ue=l("Map.prototype.size",!0),Ke=l("Set.prototype.add",!0),Qe=l("Set.prototype.delete",!0),Ae=l("Set.prototype.has",!0),k=l("Set.prototype.size",!0);function fe(z,Ce,ht,Pe){for(var on,Dt=G(z);(on=Dt.next())&&!on.done;)if(Ee(Ce,on.value,ht,Pe))return Qe(z,on.value),!0;return!1}function mt(z){return typeof z>"u"?null:"object"!=typeof z?"symbol"!=typeof z&&("string"!=typeof z&&"number"!=typeof z||+z==+z):void 0}function Ct(z,Ce,ht,Pe,Dt,on){var Xt=mt(ht);if(null!=Xt)return Xt;var Jt=_e(Ce,Xt),U=E({},Dt,{strict:!1});return!(typeof Jt>"u"&&!ie(Ce,Xt)||!Ee(Pe,Jt,U,on))&&!ie(z,Xt)&&Ee(Pe,Jt,U,on)}function tn(z,Ce,ht){var Pe=mt(ht);return Pe??(Ae(Ce,Pe)&&!Ae(z,Pe))}function Be(z,Ce,ht,Pe,Dt,on){for(var Jt,U,Xt=G(z);(Jt=Xt.next())&&!Jt.done;)if(Ee(ht,U=Jt.value,Dt,on)&&Ee(Pe,_e(Ce,U),Dt,on))return Qe(z,U),!0;return!1}function Ee(z,Ce,ht,Pe){var Dt=ht||{};if(Dt.strict?N(z,Ce):z===Ce)return!0;if(Me(z)!==Me(Ce))return!1;if(!z||!Ce||"object"!=typeof z&&"object"!=typeof Ce)return Dt.strict?N(z,Ce):z==Ce;var Nt,Jt=Pe.has(z),U=Pe.has(Ce);if(Jt&&U){if(Pe.get(z)===Pe.get(Ce))return!0}else Nt={};return Jt||Pe.set(z,Nt),U||Pe.set(Ce,Nt),function Ve(z,Ce,ht,Pe){var Dt,on;if(typeof z!=typeof Ce||null==z||null==Ce||ae(z)!==ae(Ce)||B(z)!==B(Ce))return!1;if(se(z)!==se(Ce))return!1;var U=z instanceof Error,Nt=Ce instanceof Error;if(U!==Nt||(U||Nt)&&(z.name!==Ce.name||z.message!==Ce.message))return!1;var qn=$(z),In=$(Ce);if(qn!==In||(qn||In)&&(z.source!==Ce.source||te(z)!==te(Ce)))return!1;var Mi=oe(z),Or=oe(Ce);if(Mi!==Or||(Mi||Or)&&ce(z)!==ce(Ce)||ht.strict&&Te&&Te(z)!==Te(Ce))return!1;var to=de(z),kn=de(Ce);if((to||kn)&&to!==kn)return!1;var Ti=He(z),wr=He(Ce);if(Ti!==wr)return!1;if(Ti||wr){if(z.length!==Ce.length)return!1;for(Dt=0;Dt<z.length;Dt++)if(z[Dt]!==Ce[Dt])return!1;return!0}var gr=Y(z),bo=Y(Ce);if(gr!==bo)return!1;if(gr||bo)return H(z)===H(Ce)&&"function"==typeof Uint8Array&&Ee(new Uint8Array(z),new Uint8Array(Ce),ht,Pe);var si=L(z),ai=L(Ce);if(si!==ai)return!1;if(si||ai)return q(z)===q(Ce)&&"function"==typeof Uint8Array&&Ee(new Uint8Array(z),new Uint8Array(Ce),ht,Pe);if(typeof z!=typeof Ce)return!1;var Yr=j(z),Fo=j(Ce);if(Yr.length!==Fo.length)return!1;for(Yr.sort(),Fo.sort(),Dt=Yr.length-1;Dt>=0;Dt--)if(Yr[Dt]!=Fo[Dt])return!1;for(Dt=Yr.length-1;Dt>=0;Dt--)if(!Ee(z[on=Yr[Dt]],Ce[on],ht,Pe))return!1;var tt=Ne(z),Vt=Ne(Ce);return tt===Vt&&("Set"===tt||"Set"===Vt?function et(z,Ce,ht,Pe){if(k(z)!==k(Ce))return!1;for(var Xt,Jt,U,Dt=G(z),on=G(Ce);(Xt=Dt.next())&&!Xt.done;)if(Xt.value&&"object"==typeof Xt.value)U||(U=new ot),Ke(U,Xt.value);else if(!Ae(Ce,Xt.value)){if(ht.strict||!tn(z,Ce,Xt.value))return!1;U||(U=new ot),Ke(U,Xt.value)}if(U){for(;(Jt=on.next())&&!Jt.done;)if(Jt.value&&"object"==typeof Jt.value){if(!fe(U,Jt.value,ht.strict,Pe))return!1}else if(!ht.strict&&!Ae(z,Jt.value)&&!fe(U,Jt.value,ht.strict,Pe))return!1;return 0===k(U)}return!0}(z,Ce,ht,Pe):"Map"!==tt||function Je(z,Ce,ht,Pe){if(ue(z)!==ue(Ce))return!1;for(var Xt,Jt,U,Nt,qn,In,Dt=G(z),on=G(Ce);(Xt=Dt.next())&&!Xt.done;)if(qn=Xt.value[1],(Nt=Xt.value[0])&&"object"==typeof Nt)U||(U=new ot),Ke(U,Nt);else if(typeof(In=_e(Ce,Nt))>"u"&&!ie(Ce,Nt)||!Ee(qn,In,ht,Pe)){if(ht.strict||!Ct(z,Ce,Nt,qn,ht,Pe))return!1;U||(U=new ot),Ke(U,Nt)}if(U){for(;(Jt=on.next())&&!Jt.done;)if(In=Jt.value[1],(Nt=Jt.value[0])&&"object"==typeof Nt){if(!Be(U,z,Nt,In,ht,Pe))return!1}else if(!(ht.strict||z.has(Nt)&&Ee(_e(z,Nt),In,ht,Pe)||Be(U,z,Nt,In,E({},ht,{strict:!1}),Pe)))return!1;return 0===k(U)}return!0}(z,Ce,ht,Pe))}(z,Ce,Dt,Pe)}function He(z){return!(!z||"object"!=typeof z||"number"!=typeof z.length||"function"!=typeof z.copy||"function"!=typeof z.slice||z.length>0&&"number"!=typeof z[0]||!(z.constructor&&z.constructor.isBuffer&&z.constructor.isBuffer(z)))}$e.exports=function(Ce,ht,Pe){return Ee(Ce,ht,Pe,Q())}},1790:($e,ze,R)=>{"use strict";var E=R(2093),l="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),te=Object.prototype.toString,J=Array.prototype.concat,G=Object.defineProperty,N=R(9006)(),B=G&&N,se=function(oe,$,L,j){$ in oe&&(!function(oe){return"function"==typeof oe&&"[object Function]"===te.call(oe)}(j)||!j())||(B?G(oe,$,{configurable:!0,enumerable:!1,value:L,writable:!0}):oe[$]=L)},Y=function(oe,$){var L=arguments.length>2?arguments[2]:{},j=E($);l&&(j=J.call(j,Object.getOwnPropertySymbols($)));for(var Me=0;Me<j.length;Me+=1)se(oe,j[Me],$[j[Me]],L[j[Me]])};Y.supportsDescriptors=!!B,$e.exports=Y},9897:function($e,ze){!function(R){"use strict";var $,te=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,J=536870912,G=2*J,N=new WeakMap,se=function($,L){return function(j){var Me=L.get(j),Ne=void 0===Me?j.size:Me<G?Me+1:0;if(!j.has(Ne))return $(j,Ne);if(j.size<J){for(;j.has(Ne);)Ne=Math.floor(Math.random()*G);return $(j,Ne)}if(j.size>te)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;j.has(Ne);)Ne=Math.floor(Math.random()*te);return $(j,Ne)}}(($=N,function(L,j){return $.set(L,j),j}),N),Y=function($){return function(L){var j=$(L);return L.add(j),j}}(se);R.addUniqueNumber=Y,R.generateUniqueNumber=se}(ze)},3037:($e,ze,R)=>{"use strict";var E=R(8642),l=Object.prototype.toString,te=Object.prototype.hasOwnProperty,J=function(se,Y,oe){for(var $=0,L=se.length;$<L;$++)te.call(se,$)&&(null==oe?Y(se[$],$,se):Y.call(oe,se[$],$,se))},G=function(se,Y,oe){for(var $=0,L=se.length;$<L;$++)null==oe?Y(se.charAt($),$,se):Y.call(oe,se.charAt($),$,se)},Q=function(se,Y,oe){for(var $ in se)te.call(se,$)&&(null==oe?Y(se[$],$,se):Y.call(oe,se[$],$,se))};$e.exports=function(se,Y,oe){if(!E(Y))throw new TypeError("iterator must be a function");var $;arguments.length>=3&&($=oe),"[object Array]"===l.call(se)?J(se,Y,$):"string"==typeof se?G(se,Y,$):Q(se,Y,$)}},2199:$e=>{"use strict";var ze="Function.prototype.bind called on incompatible ",R=Array.prototype.slice,E=Object.prototype.toString,l="[object Function]";$e.exports=function(J){var G=this;if("function"!=typeof G||E.call(G)!==l)throw new TypeError(ze+G);for(var N,Q=R.call(arguments,1),B=function(){if(this instanceof N){var L=G.apply(this,Q.concat(R.call(arguments)));return Object(L)===L?L:this}return G.apply(J,Q.concat(R.call(arguments)))},se=Math.max(0,G.length-Q.length),Y=[],oe=0;oe<se;oe++)Y.push("$"+oe);if(N=Function("binder","return function ("+Y.join(",")+"){ return binder.apply(this,arguments); }")(B),G.prototype){var $=function(){};$.prototype=G.prototype,N.prototype=new $,$.prototype=null}return N}},224:($e,ze,R)=>{"use strict";var E=R(2199);$e.exports=Function.prototype.bind||E},3677:$e=>{"use strict";var ze=function(){return"string"==typeof function(){}.name},R=Object.getOwnPropertyDescriptor;if(R)try{R([],"length")}catch{R=null}ze.functionsHaveConfigurableNames=function(){if(!ze()||!R)return!1;var te=R(function(){},"name");return!!te&&!!te.configurable};var E=Function.prototype.bind;ze.boundFunctionsHaveNames=function(){return ze()&&"function"==typeof E&&""!==function(){}.bind().name},$e.exports=ze},9903:($e,ze,R)=>{"use strict";var E,l=SyntaxError,te=Function,J=TypeError,G=function(Qe){try{return te('"use strict"; return ('+Qe+").constructor;")()}catch{}},Q=Object.getOwnPropertyDescriptor;if(Q)try{Q({},"")}catch{Q=null}var N=function(){throw new J},B=Q?function(){try{return N}catch{try{return Q(arguments,"callee").get}catch{return N}}}():N,se=R(524)(),Y=Object.getPrototypeOf||function(Qe){return Qe.__proto__},oe={},$=typeof Uint8Array>"u"?E:Y(Uint8Array),L={"%AggregateError%":typeof AggregateError>"u"?E:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?E:ArrayBuffer,"%ArrayIteratorPrototype%":se?Y([][Symbol.iterator]()):E,"%AsyncFromSyncIteratorPrototype%":E,"%AsyncFunction%":oe,"%AsyncGenerator%":oe,"%AsyncGeneratorFunction%":oe,"%AsyncIteratorPrototype%":oe,"%Atomics%":typeof Atomics>"u"?E:Atomics,"%BigInt%":typeof BigInt>"u"?E:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?E:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?E:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?E:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?E:Float32Array,"%Float64Array%":typeof Float64Array>"u"?E:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?E:FinalizationRegistry,"%Function%":te,"%GeneratorFunction%":oe,"%Int8Array%":typeof Int8Array>"u"?E:Int8Array,"%Int16Array%":typeof Int16Array>"u"?E:Int16Array,"%Int32Array%":typeof Int32Array>"u"?E:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":se?Y(Y([][Symbol.iterator]())):E,"%JSON%":"object"==typeof JSON?JSON:E,"%Map%":typeof Map>"u"?E:Map,"%MapIteratorPrototype%":typeof Map>"u"||!se?E:Y((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?E:Promise,"%Proxy%":typeof Proxy>"u"?E:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?E:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?E:Set,"%SetIteratorPrototype%":typeof Set>"u"||!se?E:Y((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?E:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":se?Y(""[Symbol.iterator]()):E,"%Symbol%":se?Symbol:E,"%SyntaxError%":l,"%ThrowTypeError%":B,"%TypedArray%":$,"%TypeError%":J,"%Uint8Array%":typeof Uint8Array>"u"?E:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?E:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?E:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?E:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?E:WeakMap,"%WeakRef%":typeof WeakRef>"u"?E:WeakRef,"%WeakSet%":typeof WeakSet>"u"?E:WeakSet};try{null.error}catch(Qe){var j=Y(Y(Qe));L["%Error.prototype%"]=j}var Me=function Qe(Ae){var k;if("%AsyncFunction%"===Ae)k=G("async function () {}");else if("%GeneratorFunction%"===Ae)k=G("function* () {}");else if("%AsyncGeneratorFunction%"===Ae)k=G("async function* () {}");else if("%AsyncGenerator%"===Ae){var fe=Qe("%AsyncGeneratorFunction%");fe&&(k=fe.prototype)}else if("%AsyncIteratorPrototype%"===Ae){var mt=Qe("%AsyncGenerator%");mt&&(k=Y(mt.prototype))}return L[Ae]=k,k},Ne={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},de=R(224),H=R(4031),q=de.call(Function.call,Array.prototype.concat),ce=de.call(Function.apply,Array.prototype.splice),Te=de.call(Function.call,String.prototype.replace),ae=de.call(Function.call,String.prototype.slice),ot=de.call(Function.call,RegExp.prototype.exec),ie=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,_e=/\\(\\)?/g,ue=function(Ae){var k=ae(Ae,0,1),fe=ae(Ae,-1);if("%"===k&&"%"!==fe)throw new l("invalid intrinsic syntax, expected closing `%`");if("%"===fe&&"%"!==k)throw new l("invalid intrinsic syntax, expected opening `%`");var mt=[];return Te(Ae,ie,function(Ct,tn,Be,Ee){mt[mt.length]=Be?Te(Ee,_e,"$1"):tn||Ct}),mt},Ke=function(Ae,k){var mt,fe=Ae;if(H(Ne,fe)&&(fe="%"+(mt=Ne[fe])[0]+"%"),H(L,fe)){var Ct=L[fe];if(Ct===oe&&(Ct=Me(fe)),typeof Ct>"u"&&!k)throw new J("intrinsic "+Ae+" exists, but is not available. Please file an issue!");return{alias:mt,name:fe,value:Ct}}throw new l("intrinsic "+Ae+" does not exist!")};$e.exports=function(Ae,k){if("string"!=typeof Ae||0===Ae.length)throw new J("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof k)throw new J('"allowMissing" argument must be a boolean');if(null===ot(/^%?[^%]*%?$/,Ae))throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var fe=ue(Ae),mt=fe.length>0?fe[0]:"",Ct=Ke("%"+mt+"%",k),tn=Ct.name,Be=Ct.value,Ee=!1,He=Ct.alias;He&&(mt=He[0],ce(fe,q([0,1],He)));for(var et=1,Je=!0;et<fe.length;et+=1){var Ve=fe[et],z=ae(Ve,0,1),Ce=ae(Ve,-1);if(('"'===z||"'"===z||"`"===z||'"'===Ce||"'"===Ce||"`"===Ce)&&z!==Ce)throw new l("property names with quotes must have matching quotes");if(("constructor"===Ve||!Je)&&(Ee=!0),H(L,tn="%"+(mt+="."+Ve)+"%"))Be=L[tn];else if(null!=Be){if(!(Ve in Be)){if(!k)throw new J("base intrinsic for "+Ae+" exists, but the property is not available.");return}if(Q&&et+1>=fe.length){var ht=Q(Be,Ve);Be=(Je=!!ht)&&"get"in ht&&!("originalValue"in ht.get)?ht.get:Be[Ve]}else Je=H(Be,Ve),Be=Be[Ve];Je&&!Ee&&(L[tn]=Be)}}return Be}},253:($e,ze,R)=>{"use strict";var l=R(9903)("%Object.getOwnPropertyDescriptor%",!0);if(l)try{l([],"length")}catch{l=null}$e.exports=l},5861:$e=>{"use strict";var ze=typeof BigInt<"u"&&BigInt;$e.exports=function(){return"function"==typeof ze&&"function"==typeof BigInt&&"bigint"==typeof ze(42)&&"bigint"==typeof BigInt(42)}},9006:($e,ze,R)=>{"use strict";var l=R(9903)("%Object.defineProperty%",!0),te=function(){if(l)try{return l({},"a",{value:1}),!0}catch{return!1}return!1};te.hasArrayLengthDefineBug=function(){if(!te())return null;try{return 1!==l([],"length",{value:1}).length}catch{return!0}},$e.exports=te},524:($e,ze,R)=>{"use strict";var E=typeof Symbol<"u"&&Symbol,l=R(6858);$e.exports=function(){return"function"==typeof E&&"function"==typeof Symbol&&"symbol"==typeof E("foo")&&"symbol"==typeof Symbol("bar")&&l()}},6858:$e=>{"use strict";$e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var R={},E=Symbol("test"),l=Object(E);if("string"==typeof E||"[object Symbol]"!==Object.prototype.toString.call(E)||"[object Symbol]"!==Object.prototype.toString.call(l))return!1;for(E in R[E]=42,R)return!1;if("function"==typeof Object.keys&&0!==Object.keys(R).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(R).length)return!1;var J=Object.getOwnPropertySymbols(R);if(1!==J.length||J[0]!==E||!Object.prototype.propertyIsEnumerable.call(R,E))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var G=Object.getOwnPropertyDescriptor(R,E);if(42!==G.value||!0!==G.enumerable)return!1}return!0}},3261:($e,ze,R)=>{"use strict";var E=R(6858);$e.exports=function(){return E()&&!!Symbol.toStringTag}},4031:($e,ze,R)=>{"use strict";var E=R(224);$e.exports=E.call(Function.call,Object.prototype.hasOwnProperty)},5847:($e,ze,R)=>{"use strict";var E=R(9903),l=R(4031),te=R(8432)(),J=E("%TypeError%"),G={assert:function(Q,N){if(!Q||"object"!=typeof Q&&"function"!=typeof Q)throw new J("`O` is not an object");if("string"!=typeof N)throw new J("`slot` must be a string");if(te.assert(Q),!G.has(Q,N))throw new J("`slot` is not present on `O`")},get:function(Q,N){if(!Q||"object"!=typeof Q&&"function"!=typeof Q)throw new J("`O` is not an object");if("string"!=typeof N)throw new J("`slot` must be a string");var B=te.get(Q);return B&&B["$"+N]},has:function(Q,N){if(!Q||"object"!=typeof Q&&"function"!=typeof Q)throw new J("`O` is not an object");if("string"!=typeof N)throw new J("`slot` must be a string");var B=te.get(Q);return!!B&&l(B,"$"+N)},set:function(Q,N,B){if(!Q||"object"!=typeof Q&&"function"!=typeof Q)throw new J("`O` is not an object");if("string"!=typeof N)throw new J("`slot` must be a string");var se=te.get(Q);se||te.set(Q,se={}),se["$"+N]=B}};Object.freeze&&Object.freeze(G),$e.exports=G},9102:($e,ze,R)=>{"use strict";var E=R(3261)(),te=R(4263)("Object.prototype.toString"),J=function(B){return!(E&&B&&"object"==typeof B&&Symbol.toStringTag in B)&&"[object Arguments]"===te(B)},G=function(B){return!!J(B)||null!==B&&"object"==typeof B&&"number"==typeof B.length&&B.length>=0&&"[object Array]"!==te(B)&&"[object Function]"===te(B.callee)},Q=function(){return J(arguments)}();J.isLegacyArguments=G,$e.exports=Q?J:G},2805:($e,ze,R)=>{"use strict";var E=R(3855),l=R(4263),te=R(9903),J=R(7673),G=te("ArrayBuffer",!0),Q=te("Float32Array",!0),N=l("ArrayBuffer.prototype.byteLength",!0),B=G&&!N&&(new G).slice,se=B&&E(B);$e.exports=N||se?function(oe){if(!oe||"object"!=typeof oe)return!1;try{return N?N(oe):se(oe,0),!0}catch{return!1}}:Q?function(oe){try{return new Q(oe).buffer===oe&&!J(oe)}catch{return!1}}:function(oe){return!1}},3:($e,ze,R)=>{"use strict";if(R(5861)()){var l=BigInt.prototype.valueOf;$e.exports=function(G){return!(null===G||typeof G>"u"||"boolean"==typeof G||"string"==typeof G||"number"==typeof G||"symbol"==typeof G||"function"==typeof G)&&("bigint"==typeof G||function(G){try{return l.call(G),!0}catch{}return!1}(G))}}else $e.exports=function(G){return!1}},6180:($e,ze,R)=>{"use strict";var E=R(4263),l=E("Boolean.prototype.toString"),te=E("Object.prototype.toString"),Q=R(3261)();$e.exports=function(B){return"boolean"==typeof B||null!==B&&"object"==typeof B&&(Q&&Symbol.toStringTag in B?function(B){try{return l(B),!0}catch{return!1}}(B):"[object Boolean]"===te(B))}},5057:$e=>{function ze(E){return!!E.constructor&&"function"==typeof E.constructor.isBuffer&&E.constructor.isBuffer(E)}$e.exports=function(E){return null!=E&&(ze(E)||function R(E){return"function"==typeof E.readFloatLE&&"function"==typeof E.slice&&ze(E.slice(0,0))}(E)||!!E._isBuffer)}},8642:$e=>{"use strict";var E,l,ze=Function.prototype.toString,R="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof R&&"function"==typeof Object.defineProperty)try{E=Object.defineProperty({},"length",{get:function(){throw l}}),l={},R(function(){throw 42},null,E)}catch(de){de!==l&&(R=null)}else R=null;var te=/^\s*class\b/,J=function(H){try{var q=ze.call(H);return te.test(q)}catch{return!1}},G=function(H){try{return!J(H)&&(ze.call(H),!0)}catch{return!1}},Q=Object.prototype.toString,L="function"==typeof Symbol&&!!Symbol.toStringTag,j=!(0 in[,]),Me=function(){return!1};if("object"==typeof document){var Ne=document.all;Q.call(Ne)===Q.call(document.all)&&(Me=function(H){if((j||!H)&&(typeof H>"u"||"object"==typeof H))try{var q=Q.call(H);return("[object HTMLAllCollection]"===q||"[object HTML document.all class]"===q||"[object HTMLCollection]"===q||"[object Object]"===q)&&null==H("")}catch{}return!1})}$e.exports=R?function(H){if(Me(H))return!0;if(!H||"function"!=typeof H&&"object"!=typeof H)return!1;try{R(H,null,E)}catch(q){if(q!==l)return!1}return!J(H)&&G(H)}:function(H){if(Me(H))return!0;if(!H||"function"!=typeof H&&"object"!=typeof H)return!1;if(L)return G(H);if(J(H))return!1;var q=Q.call(H);return!("[object Function]"!==q&&"[object GeneratorFunction]"!==q&&!/^\[object HTML/.test(q))&&G(H)}},4666:($e,ze,R)=>{"use strict";var E=Date.prototype.getDay,te=Object.prototype.toString,G=R(3261)();$e.exports=function(N){return"object"==typeof N&&null!==N&&(G?function(N){try{return E.call(N),!0}catch{return!1}}(N):"[object Date]"===te.call(N))}},9898:$e=>{"use strict";var E,ze="function"==typeof Map&&Map.prototype?Map:null,R="function"==typeof Set&&Set.prototype?Set:null;ze||(E=function(G){return!1});var l=ze?Map.prototype.has:null,te=R?Set.prototype.has:null;!E&&!l&&(E=function(G){return!1}),$e.exports=E||function(G){if(!G||"object"!=typeof G)return!1;try{if(l.call(G),te)try{te.call(G)}catch{return!0}return G instanceof ze}catch{}return!1}},1046:($e,ze,R)=>{"use strict";var E=Number.prototype.toString,te=Object.prototype.toString,G=R(3261)();$e.exports=function(N){return"number"==typeof N||"object"==typeof N&&(G?function(N){try{return E.call(N),!0}catch{return!1}}(N):"[object Number]"===te.call(N))}},6687:($e,ze,R)=>{"use strict";var te,J,G,Q,E=R(4263),l=R(3261)();if(l){te=E("Object.prototype.hasOwnProperty"),J=E("RegExp.prototype.exec"),G={};var N=function(){throw G};Q={toString:N,valueOf:N},"symbol"==typeof Symbol.toPrimitive&&(Q[Symbol.toPrimitive]=N)}var B=E("Object.prototype.toString"),se=Object.getOwnPropertyDescriptor;$e.exports=l?function($){if(!$||"object"!=typeof $)return!1;var L=se($,"lastIndex");if(!L||!te(L,"value"))return!1;try{J($,Q)}catch(Me){return Me===G}}:function($){return!(!$||"object"!=typeof $&&"function"!=typeof $)&&"[object RegExp]"===B($)}},3870:$e=>{"use strict";var E,ze="function"==typeof Map&&Map.prototype?Map:null,R="function"==typeof Set&&Set.prototype?Set:null;R||(E=function(G){return!1});var l=ze?Map.prototype.has:null,te=R?Set.prototype.has:null;!E&&!te&&(E=function(G){return!1}),$e.exports=E||function(G){if(!G||"object"!=typeof G)return!1;try{if(te.call(G),l)try{l.call(G)}catch{return!0}return G instanceof R}catch{}return!1}},3163:($e,ze,R)=>{"use strict";var l=R(4263)("SharedArrayBuffer.prototype.byteLength",!0);$e.exports=l?function(J){if(!J||"object"!=typeof J)return!1;try{return l(J),!0}catch{return!1}}:function(J){return!1}},4764:($e,ze,R)=>{"use strict";var E=String.prototype.valueOf,te=Object.prototype.toString,G=R(3261)();$e.exports=function(N){return"string"==typeof N||"object"==typeof N&&(G?function(N){try{return E.call(N),!0}catch{return!1}}(N):"[object String]"===te.call(N))}},6434:($e,ze,R)=>{"use strict";var E=Object.prototype.toString;if(R(524)()){var te=Symbol.prototype.toString,J=/^Symbol\(.*\)$/;$e.exports=function(N){if("symbol"==typeof N)return!0;if("[object Symbol]"!==E.call(N))return!1;try{return function(N){return"symbol"==typeof N.valueOf()&&J.test(te.call(N))}(N)}catch{return!1}}}else $e.exports=function(N){return!1}},7673:($e,ze,R)=>{"use strict";var E=R(3037),l=R(5271),te=R(4263),J=te("Object.prototype.toString"),G=R(3261)(),Q=R(253),N=typeof globalThis>"u"?global:globalThis,B=l(),se=te("Array.prototype.indexOf",!0)||function(Me,Ne){for(var de=0;de<Me.length;de+=1)if(Me[de]===Ne)return de;return-1},Y=te("String.prototype.slice"),oe={},$=Object.getPrototypeOf;G&&Q&&$&&E(B,function(j){var Me=new N[j];if(Symbol.toStringTag in Me){var Ne=$(Me),de=Q(Ne,Symbol.toStringTag);if(!de){var H=$(Ne);de=Q(H,Symbol.toStringTag)}oe[j]=de.get}}),$e.exports=function(Me){if(!Me||"object"!=typeof Me)return!1;if(!G||!(Symbol.toStringTag in Me)){var Ne=Y(J(Me),8,-1);return se(B,Ne)>-1}return!!Q&&function(Me){var Ne=!1;return E(oe,function(de,H){if(!Ne)try{Ne=de.call(Me)===H}catch{}}),Ne}(Me)}},5585:$e=>{"use strict";var E,ze="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,R="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;ze||(E=function(G){return!1});var l=ze?ze.prototype.has:null,te=R?R.prototype.has:null;!E&&!l&&(E=function(G){return!1}),$e.exports=E||function(G){if(!G||"object"!=typeof G)return!1;try{if(l.call(G,l),te)try{te.call(G,te)}catch{return!0}return G instanceof ze}catch{}return!1}},1902:($e,ze,R)=>{"use strict";var E=R(9903),l=R(4263),te=E("%WeakSet%",!0),J=l("WeakSet.prototype.has",!0);if(J){var G=l("WeakMap.prototype.has",!0);$e.exports=function(N){if(!N||"object"!=typeof N)return!1;try{if(J(N,J),G)try{G(N,G)}catch{return!0}return N instanceof te}catch{}return!1}}else $e.exports=function(N){return!1}},8266:$e=>{var ze={}.toString;$e.exports=Array.isArray||function(R){return"[object Array]"==ze.call(R)}},5023:($e,ze,R)=>{var E,l,te,J,G;E=R(7175),l=R(5107).utf8,te=R(5057),J=R(5107).bin,(G=function(Q,N){Q.constructor==String?Q=N&&"binary"===N.encoding?J.stringToBytes(Q):l.stringToBytes(Q):te(Q)?Q=Array.prototype.slice.call(Q,0):!Array.isArray(Q)&&Q.constructor!==Uint8Array&&(Q=Q.toString());for(var B=E.bytesToWords(Q),se=8*Q.length,Y=1732584193,oe=-271733879,$=-1732584194,L=271733878,j=0;j<B.length;j++)B[j]=16711935&(B[j]<<8|B[j]>>>24)|4278255360&(B[j]<<24|B[j]>>>8);B[se>>>5]|=128<<se%32,B[14+(se+64>>>9<<4)]=se;var Me=G._ff,Ne=G._gg,de=G._hh,H=G._ii;for(j=0;j<B.length;j+=16){var q=Y,ce=oe,Te=$,ae=L;Y=Me(Y,oe,$,L,B[j+0],7,-680876936),L=Me(L,Y,oe,$,B[j+1],12,-389564586),$=Me($,L,Y,oe,B[j+2],17,606105819),oe=Me(oe,$,L,Y,B[j+3],22,-1044525330),Y=Me(Y,oe,$,L,B[j+4],7,-176418897),L=Me(L,Y,oe,$,B[j+5],12,1200080426),$=Me($,L,Y,oe,B[j+6],17,-1473231341),oe=Me(oe,$,L,Y,B[j+7],22,-45705983),Y=Me(Y,oe,$,L,B[j+8],7,1770035416),L=Me(L,Y,oe,$,B[j+9],12,-1958414417),$=Me($,L,Y,oe,B[j+10],17,-42063),oe=Me(oe,$,L,Y,B[j+11],22,-1990404162),Y=Me(Y,oe,$,L,B[j+12],7,1804603682),L=Me(L,Y,oe,$,B[j+13],12,-40341101),$=Me($,L,Y,oe,B[j+14],17,-1502002290),Y=Ne(Y,oe=Me(oe,$,L,Y,B[j+15],22,1236535329),$,L,B[j+1],5,-165796510),L=Ne(L,Y,oe,$,B[j+6],9,-1069501632),$=Ne($,L,Y,oe,B[j+11],14,643717713),oe=Ne(oe,$,L,Y,B[j+0],20,-373897302),Y=Ne(Y,oe,$,L,B[j+5],5,-701558691),L=Ne(L,Y,oe,$,B[j+10],9,38016083),$=Ne($,L,Y,oe,B[j+15],14,-660478335),oe=Ne(oe,$,L,Y,B[j+4],20,-405537848),Y=Ne(Y,oe,$,L,B[j+9],5,568446438),L=Ne(L,Y,oe,$,B[j+14],9,-1019803690),$=Ne($,L,Y,oe,B[j+3],14,-187363961),oe=Ne(oe,$,L,Y,B[j+8],20,1163531501),Y=Ne(Y,oe,$,L,B[j+13],5,-1444681467),L=Ne(L,Y,oe,$,B[j+2],9,-51403784),$=Ne($,L,Y,oe,B[j+7],14,1735328473),Y=de(Y,oe=Ne(oe,$,L,Y,B[j+12],20,-1926607734),$,L,B[j+5],4,-378558),L=de(L,Y,oe,$,B[j+8],11,-2022574463),$=de($,L,Y,oe,B[j+11],16,1839030562),oe=de(oe,$,L,Y,B[j+14],23,-35309556),Y=de(Y,oe,$,L,B[j+1],4,-1530992060),L=de(L,Y,oe,$,B[j+4],11,1272893353),$=de($,L,Y,oe,B[j+7],16,-155497632),oe=de(oe,$,L,Y,B[j+10],23,-1094730640),Y=de(Y,oe,$,L,B[j+13],4,681279174),L=de(L,Y,oe,$,B[j+0],11,-358537222),$=de($,L,Y,oe,B[j+3],16,-722521979),oe=de(oe,$,L,Y,B[j+6],23,76029189),Y=de(Y,oe,$,L,B[j+9],4,-640364487),L=de(L,Y,oe,$,B[j+12],11,-421815835),$=de($,L,Y,oe,B[j+15],16,530742520),Y=H(Y,oe=de(oe,$,L,Y,B[j+2],23,-995338651),$,L,B[j+0],6,-198630844),L=H(L,Y,oe,$,B[j+7],10,1126891415),$=H($,L,Y,oe,B[j+14],15,-1416354905),oe=H(oe,$,L,Y,B[j+5],21,-57434055),Y=H(Y,oe,$,L,B[j+12],6,1700485571),L=H(L,Y,oe,$,B[j+3],10,-1894986606),$=H($,L,Y,oe,B[j+10],15,-1051523),oe=H(oe,$,L,Y,B[j+1],21,-2054922799),Y=H(Y,oe,$,L,B[j+8],6,1873313359),L=H(L,Y,oe,$,B[j+15],10,-30611744),$=H($,L,Y,oe,B[j+6],15,-1560198380),oe=H(oe,$,L,Y,B[j+13],21,1309151649),Y=H(Y,oe,$,L,B[j+4],6,-145523070),L=H(L,Y,oe,$,B[j+11],10,-1120210379),$=H($,L,Y,oe,B[j+2],15,718787259),oe=H(oe,$,L,Y,B[j+9],21,-343485551),Y=Y+q>>>0,oe=oe+ce>>>0,$=$+Te>>>0,L=L+ae>>>0}return E.endian([Y,oe,$,L])})._ff=function(Q,N,B,se,Y,oe,$){var L=Q+(N&B|~N&se)+(Y>>>0)+$;return(L<<oe|L>>>32-oe)+N},G._gg=function(Q,N,B,se,Y,oe,$){var L=Q+(N&se|B&~se)+(Y>>>0)+$;return(L<<oe|L>>>32-oe)+N},G._hh=function(Q,N,B,se,Y,oe,$){var L=Q+(N^B^se)+(Y>>>0)+$;return(L<<oe|L>>>32-oe)+N},G._ii=function(Q,N,B,se,Y,oe,$){var L=Q+(B^(N|~se))+(Y>>>0)+$;return(L<<oe|L>>>32-oe)+N},G._blocksize=16,G._digestsize=16,$e.exports=function(Q,N){if(null==Q)throw new Error("Illegal argument "+Q);var B=E.wordsToBytes(G(Q,N));return N&&N.asBytes?B:N&&N.asString?J.bytesToString(B):E.bytesToHex(B)}},9052:($e,ze)=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});var R=[];R[0]=function(){return function(){}},R[1]=function(J,G){return typeof G>"u"?J:function(N){J(N,G)}};var te=function(){function J(){this.hasHandlers=!1,this._handlers=[],this._contexts=[],this._createDispatcher()}return J.prototype.addHandler=function(G,Q){return this.isHandlerAttached(G,Q)||(this._handlers.push(G),this._contexts.push(Q),this._createDispatcher(),this._updateHasHandlers()),this},J.prototype.removeHandler=function(G,Q){var N=this._getHandlerIndex(G,Q);return typeof N<"u"&&(this._handlers.splice(N,1),this._contexts.splice(N,1),this._createDispatcher(),this._updateHasHandlers()),this},J.prototype.isHandlerAttached=function(G,Q){return typeof this._getHandlerIndex(G,Q)<"u"},J.prototype._updateHasHandlers=function(){this.hasHandlers=!!this._handlers.length},J.prototype._getHandlerIndex=function(G,Q){var B,N=this._handlers.length;for(B=0;B<N&&(this._handlers[B]!==G||this._contexts[B]!==Q);B++);return B<N?B:void 0},J.prototype._createDispatcher=function(){this.dispatch=function E(J){return R[J]||(R[J]=function l(J){for(var G="return function dispatcher"+J+"(payload) {\n",Q=[],N=[],B=0;B<J;B++)Q.push("cb"+B),N.push("ctx"+B),G+="    cb"+B+"(payload, ctx"+B+");\n";return G+="};",new(Function.bind.apply(Function,[void 0].concat(Q.concat(N),[G])))}(J)),R[J]}(this._handlers.length).apply(this,this._handlers.concat(this._contexts))},J}();ze.default=te},1158:($e,ze,R)=>{"use strict";var l=R(9052);ze.j=l.default},8597:($e,ze,R)=>{var E="function"==typeof Map&&Map.prototype,l=Object.getOwnPropertyDescriptor&&E?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,te=E&&l&&"function"==typeof l.get?l.get:null,J=E&&Map.prototype.forEach,G="function"==typeof Set&&Set.prototype,Q=Object.getOwnPropertyDescriptor&&G?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,N=G&&Q&&"function"==typeof Q.get?Q.get:null,B=G&&Set.prototype.forEach,Y="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,$="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,j="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,Me=Boolean.prototype.valueOf,Ne=Object.prototype.toString,de=Function.prototype.toString,H=String.prototype.match,q=String.prototype.slice,ce=String.prototype.replace,Te=String.prototype.toUpperCase,ae=String.prototype.toLowerCase,ot=RegExp.prototype.test,ie=Array.prototype.concat,_e=Array.prototype.join,ue=Array.prototype.slice,Ke=Math.floor,Qe="function"==typeof BigInt?BigInt.prototype.valueOf:null,Ae=Object.getOwnPropertySymbols,k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,fe="function"==typeof Symbol&&"object"==typeof Symbol.iterator,mt="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,Ct=Object.prototype.propertyIsEnumerable,tn=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(De){return De.__proto__}:null);function Be(De,Re){if(De===1/0||De===-1/0||De!=De||De&&De>-1e3&&De<1e3||ot.call(/e/,Re))return Re;var hn=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof De){var fn=De<0?-Ke(-De):Ke(De);if(fn!==De){var wt=String(fn),Cn=q.call(Re,wt.length+1);return ce.call(wt,hn,"$&_")+"."+ce.call(ce.call(Cn,/([0-9]{3})/g,"$&_"),/_$/,"")}}return ce.call(Re,hn,"$&_")}var Ee=R(4654),He=Ee.custom,et=Jt(He)?He:null;function Je(De,Re,hn){var fn="double"===(hn.quoteStyle||Re)?'"':"'";return fn+De+fn}function Ve(De){return ce.call(String(De),/"/g,"&quot;")}function z(De){return!("[object Array]"!==In(De)||mt&&"object"==typeof De&&mt in De)}function ht(De){return!("[object RegExp]"!==In(De)||mt&&"object"==typeof De&&mt in De)}function Jt(De){if(fe)return De&&"object"==typeof De&&De instanceof Symbol;if("symbol"==typeof De)return!0;if(!De||"object"!=typeof De||!k)return!1;try{return k.call(De),!0}catch{}return!1}$e.exports=function De(Re,hn,fn,wt){var Cn=hn||{};if(qn(Cn,"quoteStyle")&&"single"!==Cn.quoteStyle&&"double"!==Cn.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(qn(Cn,"maxStringLength")&&("number"==typeof Cn.maxStringLength?Cn.maxStringLength<0&&Cn.maxStringLength!==1/0:null!==Cn.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var _n=!qn(Cn,"customInspect")||Cn.customInspect;if("boolean"!=typeof _n&&"symbol"!==_n)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(qn(Cn,"indent")&&null!==Cn.indent&&"\t"!==Cn.indent&&!(parseInt(Cn.indent,10)===Cn.indent&&Cn.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(qn(Cn,"numericSeparator")&&"boolean"!=typeof Cn.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Yn=Cn.numericSeparator;if(typeof Re>"u")return"undefined";if(null===Re)return"null";if("boolean"==typeof Re)return Re?"true":"false";if("string"==typeof Re)return si(Re,Cn);if("number"==typeof Re){if(0===Re)return 1/0/Re>0?"0":"-0";var Tr=String(Re);return Yn?Be(Re,Tr):Tr}if("bigint"==typeof Re){var Sr=String(Re)+"n";return Yn?Be(Re,Sr):Sr}var Kr=typeof Cn.depth>"u"?5:Cn.depth;if(typeof fn>"u"&&(fn=0),fn>=Kr&&Kr>0&&"object"==typeof Re)return z(Re)?"[Array]":"[Object]";var Qn=function Zi(De,Re){var hn;if("\t"===De.indent)hn="\t";else{if(!("number"==typeof De.indent&&De.indent>0))return null;hn=_e.call(Array(De.indent+1)," ")}return{base:hn,prev:_e.call(Array(Re+1),hn)}}(Cn,fn);if(typeof wt>"u")wt=[];else if(Or(wt,Re)>=0)return"[Circular]";function fr(Yo,gi,xo){if(gi&&(wt=ue.call(wt)).push(gi),xo){var oo={depth:Cn.depth};return qn(Cn,"quoteStyle")&&(oo.quoteStyle=Cn.quoteStyle),De(Yo,oo,fn+1,wt)}return De(Yo,Cn,fn+1,wt)}if("function"==typeof Re&&!ht(Re)){var ft=function Mi(De){if(De.name)return De.name;var Re=H.call(de.call(De),/^function\s*([\w$]+)/);return Re?Re[1]:null}(Re),Er=ko(Re,fr);return"[Function"+(ft?": "+ft:" (anonymous)")+"]"+(Er.length>0?" { "+_e.call(Er,", ")+" }":"")}if(Jt(Re)){var h=fe?ce.call(String(Re),/^(Symbol\(.*\))_[^)]*$/,"$1"):k.call(Re);return"object"!=typeof Re||fe?h:Yr(h)}if(function bo(De){return!(!De||"object"!=typeof De)&&(typeof HTMLElement<"u"&&De instanceof HTMLElement||"string"==typeof De.nodeName&&"function"==typeof De.getAttribute)}(Re)){for(var mn="<"+ae.call(String(Re.nodeName)),I=Re.attributes||[],no=0;no<I.length;no++)mn+=" "+I[no].name+"="+Je(Ve(I[no].value),"double",Cn);return mn+=">",Re.childNodes&&Re.childNodes.length&&(mn+="..."),mn+"</"+ae.call(String(Re.nodeName))+">"}if(z(Re)){if(0===Re.length)return"[]";var mi=ko(Re,fr);return Qn&&!function Vt(De){for(var Re=0;Re<De.length;Re++)if(Or(De[Re],"\n")>=0)return!1;return!0}(mi)?"["+Nr(mi,Qn)+"]":"[ "+_e.call(mi,", ")+" ]"}if(function Pe(De){return!("[object Error]"!==In(De)||mt&&"object"==typeof De&&mt in De)}(Re)){var Zo=ko(Re,fr);return"cause"in Error.prototype||!("cause"in Re)||Ct.call(Re,"cause")?0===Zo.length?"["+String(Re)+"]":"{ ["+String(Re)+"] "+_e.call(Zo,", ")+" }":"{ ["+String(Re)+"] "+_e.call(ie.call("[cause]: "+fr(Re.cause),Zo),", ")+" }"}if("object"==typeof Re&&_n){if(et&&"function"==typeof Re[et]&&Ee)return Ee(Re,{depth:Kr-fn});if("symbol"!==_n&&"function"==typeof Re.inspect)return Re.inspect()}if(function to(De){if(!te||!De||"object"!=typeof De)return!1;try{te.call(De);try{N.call(De)}catch{return!0}return De instanceof Map}catch{}return!1}(Re)){var qo=[];return J&&J.call(Re,function(Yo,gi){qo.push(fr(gi,Re,!0)+" => "+fr(Yo,Re))}),tt("Map",te.call(Re),qo,Qn)}if(function wr(De){if(!N||!De||"object"!=typeof De)return!1;try{N.call(De);try{te.call(De)}catch{return!0}return De instanceof Set}catch{}return!1}(Re)){var ls=[];return B&&B.call(Re,function(Yo){ls.push(fr(Yo,Re))}),tt("Set",N.call(Re),ls,Qn)}if(function kn(De){if(!Y||!De||"object"!=typeof De)return!1;try{Y.call(De,Y);try{$.call(De,$)}catch{return!0}return De instanceof WeakMap}catch{}return!1}(Re))return Fo("WeakMap");if(function gr(De){if(!$||!De||"object"!=typeof De)return!1;try{$.call(De,$);try{Y.call(De,Y)}catch{return!0}return De instanceof WeakSet}catch{}return!1}(Re))return Fo("WeakSet");if(function Ti(De){if(!j||!De||"object"!=typeof De)return!1;try{return j.call(De),!0}catch{}return!1}(Re))return Fo("WeakRef");if(function on(De){return!("[object Number]"!==In(De)||mt&&"object"==typeof De&&mt in De)}(Re))return Yr(fr(Number(Re)));if(function U(De){if(!De||"object"!=typeof De||!Qe)return!1;try{return Qe.call(De),!0}catch{}return!1}(Re))return Yr(fr(Qe.call(Re)));if(function Xt(De){return!("[object Boolean]"!==In(De)||mt&&"object"==typeof De&&mt in De)}(Re))return Yr(Me.call(Re));if(function Dt(De){return!("[object String]"!==In(De)||mt&&"object"==typeof De&&mt in De)}(Re))return Yr(fr(String(Re)));if(!function Ce(De){return!("[object Date]"!==In(De)||mt&&"object"==typeof De&&mt in De)}(Re)&&!ht(Re)){var Oo=ko(Re,fr),go=tn?tn(Re)===Object.prototype:Re instanceof Object||Re.constructor===Object,Ai=Re instanceof Object?"":"null prototype",_r=!go&&mt&&Object(Re)===Re&&mt in Re?q.call(In(Re),8,-1):Ai?"Object":"",ro=(go||"function"!=typeof Re.constructor?"":Re.constructor.name?Re.constructor.name+" ":"")+(_r||Ai?"["+_e.call(ie.call([],_r||[],Ai||[]),": ")+"] ":"");return 0===Oo.length?ro+"{}":Qn?ro+"{"+Nr(Oo,Qn)+"}":ro+"{ "+_e.call(Oo,", ")+" }"}return String(Re)};var Nt=Object.prototype.hasOwnProperty||function(De){return De in this};function qn(De,Re){return Nt.call(De,Re)}function In(De){return Ne.call(De)}function Or(De,Re){if(De.indexOf)return De.indexOf(Re);for(var hn=0,fn=De.length;hn<fn;hn++)if(De[hn]===Re)return hn;return-1}function si(De,Re){if(De.length>Re.maxStringLength){var hn=De.length-Re.maxStringLength,fn="... "+hn+" more character"+(hn>1?"s":"");return si(q.call(De,0,Re.maxStringLength),Re)+fn}return Je(ce.call(ce.call(De,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,ai),"single",Re)}function ai(De){var Re=De.charCodeAt(0),hn={8:"b",9:"t",10:"n",12:"f",13:"r"}[Re];return hn?"\\"+hn:"\\x"+(Re<16?"0":"")+Te.call(Re.toString(16))}function Yr(De){return"Object("+De+")"}function Fo(De){return De+" { ? }"}function tt(De,Re,hn,fn){return De+" ("+Re+") {"+(fn?Nr(hn,fn):_e.call(hn,", "))+"}"}function Nr(De,Re){if(0===De.length)return"";var hn="\n"+Re.prev+Re.base;return hn+_e.call(De,","+hn)+"\n"+Re.prev}function ko(De,Re){var hn=z(De),fn=[];if(hn){fn.length=De.length;for(var wt=0;wt<De.length;wt++)fn[wt]=qn(De,wt)?Re(De[wt],De):""}var _n,Cn="function"==typeof Ae?Ae(De):[];if(fe){_n={};for(var Yn=0;Yn<Cn.length;Yn++)_n["$"+Cn[Yn]]=Cn[Yn]}for(var Tr in De)qn(De,Tr)&&(hn&&String(Number(Tr))===Tr&&Tr<De.length||fe&&_n["$"+Tr]instanceof Symbol||(ot.call(/[^\w$]/,Tr)?fn.push(Re(Tr,De)+": "+Re(De[Tr],De)):fn.push(Tr+": "+Re(De[Tr],De))));if("function"==typeof Ae)for(var Sr=0;Sr<Cn.length;Sr++)Ct.call(De,Cn[Sr])&&fn.push("["+Re(Cn[Sr])+"]: "+Re(De[Cn[Sr]],De));return fn}},6872:$e=>{"use strict";var ze=function(R){return R!=R};$e.exports=function(E,l){return 0===E&&0===l?1/E==1/l:!!(E===l||ze(E)&&ze(l))}},5734:($e,ze,R)=>{"use strict";var E=R(1790),l=R(3855),te=R(6872),J=R(3306),G=R(7715),Q=l(J(),Object);E(Q,{getPolyfill:J,implementation:te,shim:G}),$e.exports=Q},3306:($e,ze,R)=>{"use strict";var E=R(6872);$e.exports=function(){return"function"==typeof Object.is?Object.is:E}},7715:($e,ze,R)=>{"use strict";var E=R(3306),l=R(1790);$e.exports=function(){var J=E();return l(Object,{is:J},{is:function(){return Object.is!==J}}),J}},7010:($e,ze,R)=>{"use strict";var E;if(!Object.keys){var l=Object.prototype.hasOwnProperty,te=Object.prototype.toString,J=R(5185),G=Object.prototype.propertyIsEnumerable,Q=!G.call({toString:null},"toString"),N=G.call(function(){},"prototype"),B=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],se=function(L){var j=L.constructor;return j&&j.prototype===L},Y={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},oe=function(){if(typeof window>"u")return!1;for(var L in window)try{if(!Y["$"+L]&&l.call(window,L)&&null!==window[L]&&"object"==typeof window[L])try{se(window[L])}catch{return!0}}catch{return!0}return!1}();E=function(j){var Me=null!==j&&"object"==typeof j,Ne="[object Function]"===te.call(j),de=J(j),H=Me&&"[object String]"===te.call(j),q=[];if(!Me&&!Ne&&!de)throw new TypeError("Object.keys called on a non-object");var ce=N&&Ne;if(H&&j.length>0&&!l.call(j,0))for(var Te=0;Te<j.length;++Te)q.push(String(Te));if(de&&j.length>0)for(var ae=0;ae<j.length;++ae)q.push(String(ae));else for(var ot in j)(!ce||"prototype"!==ot)&&l.call(j,ot)&&q.push(String(ot));if(Q)for(var ie=function(L){if(typeof window>"u"||!oe)return se(L);try{return se(L)}catch{return!1}}(j),_e=0;_e<B.length;++_e)(!ie||"constructor"!==B[_e])&&l.call(j,B[_e])&&q.push(B[_e]);return q}}$e.exports=E},2093:($e,ze,R)=>{"use strict";var E=Array.prototype.slice,l=R(5185),te=Object.keys,J=te?function(N){return te(N)}:R(7010),G=Object.keys;J.shim=function(){if(Object.keys){var N=function(){var B=Object.keys(arguments);return B&&B.length===arguments.length}(1,2);N||(Object.keys=function(se){return l(se)?G(E.call(se)):G(se)})}else Object.keys=J;return Object.keys||J},$e.exports=J},5185:$e=>{"use strict";var ze=Object.prototype.toString;$e.exports=function(E){var l=ze.call(E),te="[object Arguments]"===l;return te||(te="[object Array]"!==l&&null!==E&&"object"==typeof E&&"number"==typeof E.length&&E.length>=0&&"[object Function]"===ze.call(E.callee)),te}},2461:($e,ze,R)=>{"use strict";var E=R(2093),l=R(6858)(),te=R(4263),J=Object,G=te("Array.prototype.push"),Q=te("Object.prototype.propertyIsEnumerable"),N=l?Object.getOwnPropertySymbols:null;$e.exports=function(se,Y){if(null==se)throw new TypeError("target must be an object");var oe=J(se);if(1===arguments.length)return oe;for(var $=1;$<arguments.length;++$){var L=J(arguments[$]),j=E(L),Me=l&&(Object.getOwnPropertySymbols||N);if(Me)for(var Ne=Me(L),de=0;de<Ne.length;++de){var H=Ne[de];Q(L,H)&&G(j,H)}for(var q=0;q<j.length;++q){var ce=j[q];if(Q(L,ce)){var Te=L[ce];oe[ce]=Te}}}return oe}},6189:($e,ze,R)=>{"use strict";var E=R(1790),l=R(3855),te=R(2461),J=R(6255),G=R(152),Q=l.apply(J()),N=function(se,Y){return Q(Object,arguments)};E(N,{getPolyfill:J,implementation:te,shim:G}),$e.exports=N},6255:($e,ze,R)=>{"use strict";var E=R(2461);$e.exports=function(){return!Object.assign||function(){if(!Object.assign)return!1;for(var J="abcdefghijklmnopqrst",G=J.split(""),Q={},N=0;N<G.length;++N)Q[G[N]]=G[N];var B=Object.assign({},Q),se="";for(var Y in B)se+=Y;return J!==se}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var J=Object.preventExtensions({1:2});try{Object.assign(J,"xy")}catch{return"y"===J[1]}return!1}()?E:Object.assign}},152:($e,ze,R)=>{"use strict";var E=R(1790),l=R(6255);$e.exports=function(){var J=l();return E(Object,{assign:J},{assign:function(){return Object.assign!==J}}),J}},151:($e,ze)=>{"use strict";var R=Object.prototype.hasOwnProperty;function l(Q){try{return decodeURIComponent(Q.replace(/\+/g," "))}catch{return null}}function te(Q){try{return encodeURIComponent(Q)}catch{return null}}ze.stringify=function G(Q,N){N=N||"";var se,Y,B=[];for(Y in"string"!=typeof N&&(N="?"),Q)if(R.call(Q,Y)){if(!(se=Q[Y])&&(null==se||isNaN(se))&&(se=""),Y=te(Y),se=te(se),null===Y||null===se)continue;B.push(Y+"="+se)}return B.length?N+B.join("&"):""},ze.parse=function J(Q){for(var se,N=/([^=?#&]+)=?([^&]*)/g,B={};se=N.exec(Q);){var Y=l(se[1]),oe=l(se[2]);null===Y||null===oe||Y in B||(B[Y]=oe)}return B}},4040:($e,ze,R)=>{"use strict";var E=R(3677).functionsHaveConfigurableNames(),l=Object,te=TypeError;$e.exports=function(){if(null!=this&&this!==l(this))throw new te("RegExp.prototype.flags getter called on non-object");var G="";return this.hasIndices&&(G+="d"),this.global&&(G+="g"),this.ignoreCase&&(G+="i"),this.multiline&&(G+="m"),this.dotAll&&(G+="s"),this.unicode&&(G+="u"),this.sticky&&(G+="y"),G},E&&Object.defineProperty&&Object.defineProperty($e.exports,"name",{value:"get flags"})},8704:($e,ze,R)=>{"use strict";var E=R(1790),l=R(3855),te=R(4040),J=R(9783),G=R(9369),Q=l(J());E(Q,{getPolyfill:J,implementation:te,shim:G}),$e.exports=Q},9783:($e,ze,R)=>{"use strict";var E=R(4040),l=R(1790).supportsDescriptors,te=Object.getOwnPropertyDescriptor;$e.exports=function(){if(l&&"gim"===/a/gim.flags){var G=te(RegExp.prototype,"flags");if(G&&"function"==typeof G.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var Q="",N={};if(Object.defineProperty(N,"hasIndices",{get:function(){Q+="d"}}),Object.defineProperty(N,"sticky",{get:function(){Q+="y"}}),"dy"===Q)return G.get}}return E}},9369:($e,ze,R)=>{"use strict";var E=R(1790).supportsDescriptors,l=R(9783),te=Object.getOwnPropertyDescriptor,J=Object.defineProperty,G=TypeError,Q=Object.getPrototypeOf,N=/a/;$e.exports=function(){if(!E||!Q)throw new G("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var se=l(),Y=Q(N),oe=te(Y,"flags");return(!oe||oe.get!==se)&&J(Y,"flags",{configurable:!0,enumerable:!1,get:se}),se}},47:$e=>{"use strict";$e.exports=function(R,E){if(E=E.split(":")[0],!(R=+R))return!1;switch(E){case"http":case"ws":return 80!==R;case"https":case"wss":return 443!==R;case"ftp":return 21!==R;case"gopher":return 70!==R;case"file":return!1}return 0!==R}},8432:($e,ze,R)=>{"use strict";var E=R(9903),l=R(4263),te=R(8597),J=E("%TypeError%"),G=E("%WeakMap%",!0),Q=E("%Map%",!0),N=l("WeakMap.prototype.get",!0),B=l("WeakMap.prototype.set",!0),se=l("WeakMap.prototype.has",!0),Y=l("Map.prototype.get",!0),oe=l("Map.prototype.set",!0),$=l("Map.prototype.has",!0),L=function(de,H){for(var ce,q=de;null!==(ce=q.next);q=ce)if(ce.key===H)return q.next=ce.next,ce.next=de.next,de.next=ce,ce};$e.exports=function(){var H,q,ce,Te={assert:function(ae){if(!Te.has(ae))throw new J("Side channel does not contain "+te(ae))},get:function(ae){if(G&&ae&&("object"==typeof ae||"function"==typeof ae)){if(H)return N(H,ae)}else if(Q){if(q)return Y(q,ae)}else if(ce)return function(de,H){var q=L(de,H);return q&&q.value}(ce,ae)},has:function(ae){if(G&&ae&&("object"==typeof ae||"function"==typeof ae)){if(H)return se(H,ae)}else if(Q){if(q)return $(q,ae)}else if(ce)return function(de,H){return!!L(de,H)}(ce,ae);return!1},set:function(ae,ot){G&&ae&&("object"==typeof ae||"function"==typeof ae)?(H||(H=new G),B(H,ae,ot)):Q?(q||(q=new Q),oe(q,ae,ot)):(ce||(ce={key:{},next:null}),function(de,H,q){var ce=L(de,H);ce?ce.value=q:de.next={key:H,next:de.next,value:q}}(ce,ae,ot))}};return Te}},8519:($e,ze,R)=>{"use strict";var E=R(5847),l=SyntaxError,te="object"==typeof StopIteration?StopIteration:null;$e.exports=function(G){if(!te)throw new l("this environment lacks StopIteration");E.set(G,"[[Done]]",!1);var Q={next:function(){var B=E.get(this,"[[Iterator]]"),se=E.get(B,"[[Done]]");try{return{done:se,value:se?void 0:B.next()}}catch(Y){if(E.set(B,"[[Done]]",!0),Y!==te)throw Y;return{done:!0,value:void 0}}}};return E.set(Q,"[[Iterator]]",G),Q}},9233:($e,ze,R)=>{"use strict";var E=R(47),l=R(151),te=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,J=/[\n\r\t]/g,G=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,Q=/:\d+$/,N=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,B=/^[a-zA-Z]:/;function se(q){return(q||"").toString().replace(te,"")}var Y=[["#","hash"],["?","query"],function(ce,Te){return L(Te.protocol)?ce.replace(/\\/g,"/"):ce},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],oe={hash:1,query:1};function $(q){var ce;ce=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ie,ae={},ot=typeof(q=q||ce.location||{});if("blob:"===q.protocol)ae=new Ne(unescape(q.pathname),{});else if("string"===ot)for(ie in ae=new Ne(q,{}),oe)delete ae[ie];else if("object"===ot){for(ie in q)ie in oe||(ae[ie]=q[ie]);void 0===ae.slashes&&(ae.slashes=G.test(q.href))}return ae}function L(q){return"file:"===q||"ftp:"===q||"http:"===q||"https:"===q||"ws:"===q||"wss:"===q}function j(q,ce){q=(q=se(q)).replace(J,""),ce=ce||{};var ue,Te=N.exec(q),ae=Te[1]?Te[1].toLowerCase():"",ot=!!Te[2],ie=!!Te[3],_e=0;return ot?ie?(ue=Te[2]+Te[3]+Te[4],_e=Te[2].length+Te[3].length):(ue=Te[2]+Te[4],_e=Te[2].length):ie?(ue=Te[3]+Te[4],_e=Te[3].length):ue=Te[4],"file:"===ae?_e>=2&&(ue=ue.slice(2)):L(ae)?ue=Te[4]:ae?ot&&(ue=ue.slice(2)):_e>=2&&L(ce.protocol)&&(ue=Te[4]),{protocol:ae,slashes:ot||L(ae),slashesCount:_e,rest:ue}}function Ne(q,ce,Te){if(q=(q=se(q)).replace(J,""),!(this instanceof Ne))return new Ne(q,ce,Te);var ae,ot,ie,_e,ue,Ke,Qe=Y.slice(),Ae=typeof ce,k=this,fe=0;for("object"!==Ae&&"string"!==Ae&&(Te=ce,ce=null),Te&&"function"!=typeof Te&&(Te=l.parse),ae=!(ot=j(q||"",ce=$(ce))).protocol&&!ot.slashes,k.slashes=ot.slashes||ae&&ce.slashes,k.protocol=ot.protocol||ce.protocol||"",q=ot.rest,("file:"===ot.protocol&&(2!==ot.slashesCount||B.test(q))||!ot.slashes&&(ot.protocol||ot.slashesCount<2||!L(k.protocol)))&&(Qe[3]=[/(.*)/,"pathname"]);fe<Qe.length;fe++)"function"!=typeof(_e=Qe[fe])?(Ke=_e[1],(ie=_e[0])!=ie?k[Ke]=q:"string"==typeof ie?~(ue="@"===ie?q.lastIndexOf(ie):q.indexOf(ie))&&("number"==typeof _e[2]?(k[Ke]=q.slice(0,ue),q=q.slice(ue+_e[2])):(k[Ke]=q.slice(ue),q=q.slice(0,ue))):(ue=ie.exec(q))&&(k[Ke]=ue[1],q=q.slice(0,ue.index)),k[Ke]=k[Ke]||ae&&_e[3]&&ce[Ke]||"",_e[4]&&(k[Ke]=k[Ke].toLowerCase())):q=_e(q,k);Te&&(k.query=Te(k.query)),ae&&ce.slashes&&"/"!==k.pathname.charAt(0)&&(""!==k.pathname||""!==ce.pathname)&&(k.pathname=function Me(q,ce){if(""===q)return ce;for(var Te=(ce||"/").split("/").slice(0,-1).concat(q.split("/")),ae=Te.length,ot=Te[ae-1],ie=!1,_e=0;ae--;)"."===Te[ae]?Te.splice(ae,1):".."===Te[ae]?(Te.splice(ae,1),_e++):_e&&(0===ae&&(ie=!0),Te.splice(ae,1),_e--);return ie&&Te.unshift(""),("."===ot||".."===ot)&&Te.push(""),Te.join("/")}(k.pathname,ce.pathname)),"/"!==k.pathname.charAt(0)&&L(k.protocol)&&(k.pathname="/"+k.pathname),E(k.port,k.protocol)||(k.host=k.hostname,k.port=""),k.username=k.password="",k.auth&&(~(ue=k.auth.indexOf(":"))?(k.username=k.auth.slice(0,ue),k.username=encodeURIComponent(decodeURIComponent(k.username)),k.password=k.auth.slice(ue+1),k.password=encodeURIComponent(decodeURIComponent(k.password))):k.username=encodeURIComponent(decodeURIComponent(k.auth)),k.auth=k.password?k.username+":"+k.password:k.username),k.origin="file:"!==k.protocol&&L(k.protocol)&&k.host?k.protocol+"//"+k.host:"null",k.href=k.toString()}Ne.prototype={set:function de(q,ce,Te){var ae=this;switch(q){case"query":"string"==typeof ce&&ce.length&&(ce=(Te||l.parse)(ce)),ae[q]=ce;break;case"port":ae[q]=ce,E(ce,ae.protocol)?ce&&(ae.host=ae.hostname+":"+ce):(ae.host=ae.hostname,ae[q]="");break;case"hostname":ae[q]=ce,ae.port&&(ce+=":"+ae.port),ae.host=ce;break;case"host":ae[q]=ce,Q.test(ce)?(ce=ce.split(":"),ae.port=ce.pop(),ae.hostname=ce.join(":")):(ae.hostname=ce,ae.port="");break;case"protocol":ae.protocol=ce.toLowerCase(),ae.slashes=!Te;break;case"pathname":case"hash":if(ce){var ot="pathname"===q?"/":"#";ae[q]=ce.charAt(0)!==ot?ot+ce:ce}else ae[q]=ce;break;case"username":case"password":ae[q]=encodeURIComponent(ce);break;case"auth":var ie=ce.indexOf(":");~ie?(ae.username=ce.slice(0,ie),ae.username=encodeURIComponent(decodeURIComponent(ae.username)),ae.password=ce.slice(ie+1),ae.password=encodeURIComponent(decodeURIComponent(ae.password))):ae.username=encodeURIComponent(decodeURIComponent(ce))}for(var _e=0;_e<Y.length;_e++){var ue=Y[_e];ue[4]&&(ae[ue[1]]=ae[ue[1]].toLowerCase())}return ae.auth=ae.password?ae.username+":"+ae.password:ae.username,ae.origin="file:"!==ae.protocol&&L(ae.protocol)&&ae.host?ae.protocol+"//"+ae.host:"null",ae.href=ae.toString(),ae},toString:function H(q){(!q||"function"!=typeof q)&&(q=l.stringify);var ce,Te=this,ae=Te.host,ot=Te.protocol;ot&&":"!==ot.charAt(ot.length-1)&&(ot+=":");var ie=ot+(Te.protocol&&Te.slashes||L(Te.protocol)?"//":"");return Te.username?(ie+=Te.username,Te.password&&(ie+=":"+Te.password),ie+="@"):Te.password?(ie+=":"+Te.password,ie+="@"):"file:"!==Te.protocol&&L(Te.protocol)&&!ae&&"/"!==Te.pathname&&(ie+="@"),(":"===ae[ae.length-1]||Q.test(Te.hostname)&&!Te.port)&&(ae+=":"),ie+=ae+Te.pathname,(ce="object"==typeof Te.query?q(Te.query):Te.query)&&(ie+="?"!==ce.charAt(0)?"?"+ce:ce),Te.hash&&(ie+=Te.hash),ie}},Ne.extractProtocol=j,Ne.location=$,Ne.trimLeft=se,Ne.qs=l,$e.exports=Ne},2086:($e,ze,R)=>{"use strict";var E=R(4764),l=R(1046),te=R(6180),J=R(6434),G=R(3);$e.exports=function(N){return null==N||"object"!=typeof N&&"function"!=typeof N?null:E(N)?"String":l(N)?"Number":te(N)?"Boolean":J(N)?"Symbol":G(N)?"BigInt":void 0}},5709:($e,ze,R)=>{"use strict";var E=R(3037),l=R(5271),te=R(4263),J=R(253),G=te("Object.prototype.toString"),Q=R(3261)(),N=typeof globalThis>"u"?global:globalThis,B=l(),se=te("String.prototype.slice"),Y={},oe=Object.getPrototypeOf;Q&&J&&oe&&E(B,function(j){if("function"==typeof N[j]){var Me=new N[j];if(Symbol.toStringTag in Me){var Ne=oe(Me),de=J(Ne,Symbol.toStringTag);if(!de){var H=oe(Ne);de=J(H,Symbol.toStringTag)}Y[j]=de.get}}});var L=R(7673);$e.exports=function(Me){return!!L(Me)&&(Q&&Symbol.toStringTag in Me?function(Me){var Ne=!1;return E(Y,function(de,H){if(!Ne)try{var q=de.call(Me);q===H&&(Ne=q)}catch{}}),Ne}(Me):se(G(Me),8,-1))}},863:($e,ze,R)=>{var E={"./ion-accordion_2.entry.js":[79,8592,79],"./ion-action-sheet.entry.js":[5593,8592,5593],"./ion-alert.entry.js":[3225,8592,3225],"./ion-app_8.entry.js":[4812,8592,4017],"./ion-avatar_3.entry.js":[6655,6655],"./ion-back-button.entry.js":[4856,8592,4856],"./ion-backdrop.entry.js":[3059,3059],"./ion-breadcrumb_2.entry.js":[8648,8592,8648],"./ion-button_2.entry.js":[8308,8308],"./ion-card_5.entry.js":[4690,4690],"./ion-checkbox.entry.js":[4090,4090],"./ion-chip.entry.js":[6214,6214],"./ion-col_3.entry.js":[9447,9447],"./ion-datetime-button.entry.js":[7950,5523,7950],"./ion-datetime_3.entry.js":[9689,5523,8592,9689],"./ion-fab_3.entry.js":[8840,8592,8840],"./ion-img.entry.js":[749,749],"./ion-infinite-scroll_2.entry.js":[9667,8592,9544],"./ion-input.entry.js":[3288,8592,3288],"./ion-item-option_3.entry.js":[5473,8592,6108],"./ion-item_8.entry.js":[3634,8592,3634],"./ion-loading.entry.js":[2855,8592,2855],"./ion-menu_3.entry.js":[495,8592,495],"./ion-modal.entry.js":[8737,8592,8737],"./ion-nav_2.entry.js":[9632,8592,9632],"./ion-picker-column-internal.entry.js":[4446,8592,4446],"./ion-picker-internal.entry.js":[2275,2275],"./ion-popover.entry.js":[8050,8592,8050],"./ion-progress-bar.entry.js":[8994,8994],"./ion-radio_2.entry.js":[3592,3592],"./ion-range.entry.js":[5454,8592,5454],"./ion-refresher_2.entry.js":[290,8592,4210],"./ion-reorder_2.entry.js":[2666,8592,8718],"./ion-ripple-effect.entry.js":[4816,4816],"./ion-route_4.entry.js":[5534,5534],"./ion-searchbar.entry.js":[4902,8592,4902],"./ion-segment_2.entry.js":[1938,8592,1938],"./ion-select_3.entry.js":[8179,8179],"./ion-slide_2.entry.js":[668,668],"./ion-spinner.entry.js":[1624,8592,1624],"./ion-split-pane.entry.js":[9989,9989],"./ion-tab-bar_2.entry.js":[8902,8592,8902],"./ion-tab_2.entry.js":[199,8592,199],"./ion-text.entry.js":[8395,8395],"./ion-textarea.entry.js":[6357,6357],"./ion-toast.entry.js":[8268,8592,8268],"./ion-toggle.entry.js":[5269,8592,5269],"./ion-virtual-scroll.entry.js":[2875,2875]};function l(te){if(!R.o(E,te))return Promise.resolve().then(()=>{var Q=new Error("Cannot find module '"+te+"'");throw Q.code="MODULE_NOT_FOUND",Q});var J=E[te],G=J[0];return Promise.all(J.slice(1).map(R.e)).then(()=>R(G))}l.keys=()=>Object.keys(E),l.id=863,$e.exports=l},4654:()=>{},5271:$e=>{"use strict";var ze=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],R=typeof globalThis>"u"?global:globalThis;$e.exports=function(){for(var l=[],te=0;te<ze.length;te++)"function"==typeof R[ze[te]]&&(l[l.length]=ze[te]);return l}},2069:($e,ze,R)=>{"use strict";var E=R(9102),l=R(8519);if(R(524)()||R(6858)()){var te=Symbol.iterator;$e.exports=function(ue){return null!=ue&&typeof ue[te]<"u"?ue[te]():E(ue)?Array.prototype[te].call(ue):void 0}}else{var J=R(8266),G=R(4764),Q=R(9903),N=Q("%Map%",!0),B=Q("%Set%",!0),se=R(4263),Y=se("Array.prototype.push"),oe=se("String.prototype.charCodeAt"),$=se("String.prototype.slice"),j=function(ue){var Ke=0;return{next:function(){var k,Ae=Ke>=ue.length;return Ae||(k=ue[Ke],Ke+=1),{done:Ae,value:k}}}},Me=function(ue,Ke){if(J(ue)||E(ue))return j(ue);if(G(ue)){var Qe=0;return{next:function(){var k=function(ue,Ke){if(Ke+1>=ue.length)return Ke+1;var Ae=oe(ue,Ke);if(Ae<55296||Ae>56319)return Ke+1;var k=oe(ue,Ke+1);return k<56320||k>57343?Ke+1:Ke+2}(ue,Qe),fe=$(ue,Qe,k);return Qe=k,{done:k>ue.length,value:fe}}}}return Ke&&typeof ue["_es6-shim iterator_"]<"u"?ue["_es6-shim iterator_"]():void 0};if(N||B){var Ne=R(9898),de=R(3870),H=se("Map.prototype.forEach",!0),q=se("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var ce=se("Map.prototype.iterator",!0),Te=se("Set.prototype.iterator",!0);var ae=se("Map.prototype.@@iterator",!0)||se("Map.prototype._es6-shim iterator_",!0),ot=se("Set.prototype.@@iterator",!0)||se("Set.prototype._es6-shim iterator_",!0);$e.exports=function(ue){return function(ue){if(Ne(ue)){if(ce)return l(ce(ue));if(ae)return ae(ue);if(H){var Ke=[];return H(ue,function(Ae,k){Y(Ke,[k,Ae])}),j(Ke)}}if(de(ue)){if(Te)return l(Te(ue));if(ot)return ot(ue);if(q){var Qe=[];return q(ue,function(Ae){Y(Qe,Ae)}),j(Qe)}}}(ue)||Me(ue)}}else $e.exports=function(ue){if(null!=ue)return Me(ue,!0)}}},2107:($e,ze,R)=>{"use strict";var E=R(9898),l=R(3870),te=R(5585),J=R(1902);$e.exports=function(Q){if(Q&&"object"==typeof Q){if(E(Q))return"Map";if(l(Q))return"Set";if(te(Q))return"WeakMap";if(J(Q))return"WeakSet"}return!1}},3918:($e,ze,R)=>{"use strict";function E(te,J,G,Q,N,B,se){try{var Y=te[B](se),oe=Y.value}catch($){return void G($)}Y.done?J(oe):Promise.resolve(oe).then(Q,N)}function l(te){return function(){var J=this,G=arguments;return new Promise(function(Q,N){var B=te.apply(J,G);function se(oe){E(B,Q,N,se,Y,"next",oe)}function Y(oe){E(B,Q,N,se,Y,"throw",oe)}se(void 0)})}}R.d(ze,{Z:()=>l})}},$e=>{$e($e.s=919)}]);
//# sourceMappingURL=main.d6fcbcce8062ef2c.js.map