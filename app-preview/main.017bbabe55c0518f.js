(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{1498:(Fe,je,R)=>{"use strict";function k(t){return"function"==typeof t}function d(t){const e=t(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const ne=d(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function ee(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class W{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const i of e)i.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(k(r))try{r()}catch(i){n=i instanceof ne?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{G(i)}catch(s){n=n??[],s instanceof ne?n=[...n,...s.errors]:n.push(s)}}if(n)throw new ne(n)}}add(n){var e;if(n&&n!==this)if(this.closed)G(n);else{if(n instanceof W){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&ee(e,n)}remove(n){const{_finalizers:e}=this;e&&ee(e,n),n instanceof W&&n._removeParent(this)}}W.EMPTY=(()=>{const t=new W;return t.closed=!0,t})();const Y=W.EMPTY;function j(t){return t instanceof W||t&&"closed"in t&&k(t.remove)&&k(t.add)&&k(t.unsubscribe)}function G(t){k(t)?t():t.unsubscribe()}const ye={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},q={setTimeout(t,n,...e){const{delegate:r}=q;return r?.setTimeout?r.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){const{delegate:n}=q;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function te(t){q.setTimeout(()=>{const{onUnhandledError:n}=ye;if(!n)throw t;n(t)})}function $(){}const O=X("C",void 0,void 0);function X(t,n,e){return{kind:t,value:n,error:e}}let ve=null;function ge(t){if(ye.useDeprecatedSynchronousErrorHandling){const n=!ve;if(n&&(ve={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:r}=ve;if(ve=null,e)throw r}}else t()}class ce extends W{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,j(n)&&n.add(this)):this.destination=Oe}static create(n,e,r){return new he(n,e,r)}next(n){this.isStopped?Ve(function xe(t){return X("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?Ve(function V(t){return X("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Ve(O,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ae=Function.prototype.bind;function ue(t,n){return Ae.call(t,n)}class Ge{constructor(n){this.partialObserver=n}next(n){const{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(r){be(r)}}error(n){const{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(r){be(r)}else be(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){be(e)}}}class he extends ce{constructor(n,e,r){let o;if(super(),k(n)||!n)o={next:n??void 0,error:e??void 0,complete:r??void 0};else{let i;this&&ye.useDeprecatedNextContext?(i=Object.create(n),i.unsubscribe=()=>this.unsubscribe(),o={next:n.next&&ue(n.next,i),error:n.error&&ue(n.error,i),complete:n.complete&&ue(n.complete,i)}):o=n}this.destination=new Ge(o)}}function be(t){ye.useDeprecatedSynchronousErrorHandling?function oe(t){ye.useDeprecatedSynchronousErrorHandling&&ve&&(ve.errorThrown=!0,ve.error=t)}(t):te(t)}function Ve(t,n){const{onStoppedNotification:e}=ye;e&&q.setTimeout(()=>e(t,n))}const Oe={closed:!0,next:$,error:function Me(t){throw t},complete:$},ke="function"==typeof Symbol&&Symbol.observable||"@@observable";function K(t){return t}let at=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,o){const i=function L(t){return t&&t instanceof ce||function He(t){return t&&k(t.next)&&k(t.error)&&k(t.complete)}(t)&&j(t)}(e)?e:new he(e,r,o);return ge(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=It(r))((o,i)=>{const s=new he({next:a=>{try{e(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[ke](){return this}pipe(...e){return function ze(t){return 0===t.length?K:1===t.length?t[0]:function(e){return t.reduce((r,o)=>o(r),e)}}(e)(this)}toPromise(e){return new(e=It(e))((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return t.create=n=>new t(n),t})();function It(t){var n;return null!==(n=t??ye.Promise)&&void 0!==n?n:Promise}const B=d(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let z=(()=>{class t extends at{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new pe(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new B}next(e){ge(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){ge(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){ge(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:o,observers:i}=this;return r||o?Y:(this.currentObservers=null,i.push(e),new W(()=>{this.currentObservers=null,ee(i,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:o,isStopped:i}=this;r?e.error(o):i&&e.complete()}asObservable(){const e=new at;return e.source=this,e}}return t.create=(n,e)=>new pe(n,e),t})();class pe extends z{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,n)}error(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==r?r:Y}}function Te(t){return k(t?.lift)}function Re(t){return n=>{if(Te(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function et(t,n,e,r,o){return new Ke(t,n,e,r,o)}class Ke extends ce{constructor(n,e,r,o,i,s){super(n),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(c){n.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function Je(t,n){return Re((e,r)=>{let o=0;e.subscribe(et(r,i=>{r.next(t.call(n,i,o++))}))})}function se(t,n,e,r){var s,o=arguments.length,i=o<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,n,e,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(i=(o<3?s(i):o>3?s(n,e,i):s(n,e))||i);return o>3&&i&&Object.defineProperty(n,e,i),i}function Zn(t,n,e,r){return new(e||(e=Promise))(function(i,s){function a(y){try{f(r.next(y))}catch(v){s(v)}}function c(y){try{f(r.throw(y))}catch(v){s(v)}}function f(y){y.done?i(y.value):function o(i){return i instanceof e?i:new e(function(s){s(i)})}(y.value).then(a,c)}f((r=r.apply(t,n||[])).next())})}function ar(t){return this instanceof ar?(this.v=t,this):new ar(t)}function Qn(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=e.apply(t,n||[]),i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(D){r[D]&&(o[D]=function(x){return new Promise(function(Q,Ie){i.push([D,x,Q,Ie])>1||a(D,x)})})}function a(D,x){try{!function c(D){D.value instanceof ar?Promise.resolve(D.value.v).then(f,y):v(i[0][2],D)}(r[D](x))}catch(Q){v(i[0][3],Q)}}function f(D){a("next",D)}function y(D){a("throw",D)}function v(D,x){D(x),i.shift(),i.length&&a(i[0][0],i[0][1])}}function $r(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function Hn(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(i){e[i]=t[i]&&function(s){return new Promise(function(a,c){!function o(i,s,a,c){Promise.resolve(c).then(function(f){i({value:f,done:a})},s)}(a,c,(s=t[i](s)).done,s.value)})}}}const pn=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function bn(t){return k(t?.then)}function Ft(t){return k(t[ke])}function cn(t){return Symbol.asyncIterator&&k(t?.[Symbol.asyncIterator])}function er(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Yn=function Jt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function lr(t){return k(t?.[Yn])}function Vt(t){return Qn(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:r,done:o}=yield ar(e.read());if(o)return yield ar(void 0);yield yield ar(r)}}finally{e.releaseLock()}})}function tr(t){return k(t?.getReader)}function S(t){if(t instanceof at)return t;if(null!=t){if(Ft(t))return function kt(t){return new at(n=>{const e=t[ke]();if(k(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(pn(t))return function hr(t){return new at(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(bn(t))return function M(t){return new at(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,te)})}(t);if(cn(t))return so(t);if(lr(t))return function Pr(t){return new at(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(tr(t))return function ao(t){return so(Vt(t))}(t)}throw er(t)}function so(t){return new at(n=>{(function Po(t,n){var e,r,o,i;return Zn(this,void 0,void 0,function*(){try{for(e=$r(t);!(r=yield e.next()).done;)if(n.next(r.value),n.closed)return}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=e.return)&&(yield i.call(e))}finally{if(o)throw o.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function _r(t,n,e,r=0,o=!1){const i=n.schedule(function(){e(),o?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!o)return i}function zt(t,n,e=1/0){return k(n)?zt((r,o)=>Je((i,s)=>n(r,i,o,s))(S(t(r,o))),e):("number"==typeof n&&(e=n),Re((r,o)=>function Mo(t,n,e,r,o,i,s,a){const c=[];let f=0,y=0,v=!1;const D=()=>{v&&!c.length&&!f&&n.complete()},x=Ie=>f<r?Q(Ie):c.push(Ie),Q=Ie=>{i&&n.next(Ie),f++;let We=!1;S(e(Ie,y++)).subscribe(et(n,Be=>{o?.(Be),i?x(Be):n.next(Be)},()=>{We=!0},void 0,()=>{if(We)try{for(f--;c.length&&f<r;){const Be=c.shift();s?_r(n,s,()=>Q(Be)):Q(Be)}D()}catch(Be){n.error(Be)}}))};return t.subscribe(et(n,x,()=>{v=!0,D()})),()=>{a?.()}}(r,o,t,e)))}function eo(t=1/0){return zt(K,t)}const nr=new at(t=>t.complete());function Wo(t){return t&&k(t.schedule)}function Xt(t){return t[t.length-1]}function yo(t){return k(Xt(t))?t.pop():void 0}function I(t){return Wo(Xt(t))?t.pop():void 0}function Br(t,n=0){return Re((e,r)=>{e.subscribe(et(r,o=>_r(r,t,()=>r.next(o),n),()=>_r(r,t,()=>r.complete(),n),o=>_r(r,t,()=>r.error(o),n)))})}function ai(t,n=0){return Re((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),n))})}function Qi(t,n){if(!t)throw new Error("Iterable cannot be null");return new at(e=>{_r(e,n,()=>{const r=t[Symbol.asyncIterator]();_r(e,n,()=>{r.next().then(o=>{o.done?e.complete():e.next(o.value)})},0,!0)})})}function Gn(t,n){return n?function Pi(t,n){if(null!=t){if(Ft(t))return function li(t,n){return S(t).pipe(ai(n),Br(n))}(t,n);if(pn(t))return function ko(t,n){return new at(e=>{let r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}(t,n);if(bn(t))return function Ro(t,n){return S(t).pipe(ai(n),Br(n))}(t,n);if(cn(t))return Qi(t,n);if(lr(t))return function Vr(t,n){return new at(e=>{let r;return _r(e,n,()=>{r=t[Yn](),_r(e,n,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){return void e.error(s)}i?e.complete():e.next(o)},0,!0)}),()=>k(r?.return)&&r.return()})}(t,n);if(tr(t))return function qo(t,n){return Qi(Vt(t),n)}(t,n)}throw er(t)}(t,n):S(t)}function Zo(...t){const n=I(t),e=function qr(t,n){return"number"==typeof Xt(t)?t.pop():n}(t,1/0),r=t;return r.length?1===r.length?S(r[0]):eo(e)(Gn(r,n)):nr}function _i(t={}){const{connector:n=(()=>new z),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=t;return i=>{let s,a,c,f=0,y=!1,v=!1;const D=()=>{a?.unsubscribe(),a=void 0},x=()=>{D(),s=c=void 0,y=v=!1},Q=()=>{const Ie=s;x(),Ie?.unsubscribe()};return Re((Ie,We)=>{f++,!v&&!y&&D();const Be=c=c??n();We.add(()=>{f--,0===f&&!v&&!y&&(a=Yo(Q,o))}),Be.subscribe(We),!s&&f>0&&(s=new he({next:st=>Be.next(st),error:st=>{v=!0,D(),a=Yo(x,e,st),Be.error(st)},complete:()=>{y=!0,D(),a=Yo(x,r),Be.complete()}}),S(Ie).subscribe(s))})(i)}}function Yo(t,n,...e){if(!0===n)return void t();if(!1===n)return;const r=new he({next:()=>{r.unsubscribe(),t()}});return n(...e).subscribe(r)}function Rn(t){for(let n in t)if(t[n]===Rn)return n;throw Error("Could not find renamed property on target object.")}function Ko(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function Nn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Nn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function wi(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Ji=Rn({__forward_ref__:Rn});function T(t){return t.__forward_ref__=T,t.toString=function(){return Nn(this())},t}function N(t){return le(t)?t():t}function le(t){return"function"==typeof t&&t.hasOwnProperty(Ji)&&t.__forward_ref__===T}class P extends Error{constructor(n,e){super(function Z(t,n){return`NG0${Math.abs(t)}${n?": "+n.trim():""}`}(n,e)),this.code=n}}function J(t){return"string"==typeof t?t:null==t?"":String(t)}function Wt(t,n){throw new P(-201,!1)}function Fr(t,n){null==t&&function Fn(t,n,e,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${e} ${r} ${n} <=Actual]`))}(n,t,null,"!=")}function ft(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Kn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Is(t){return Ra(t,ts)||Ra(t,Zr)}function Ra(t,n){return t.hasOwnProperty(n)?t[n]:null}function es(t){return t&&(t.hasOwnProperty(ns)||t.hasOwnProperty(kr))?t[ns]:null}const ts=Rn({\u0275prov:Rn}),ns=Rn({\u0275inj:Rn}),Zr=Rn({ngInjectableDef:Rn}),kr=Rn({ngInjectorDef:Rn});var Nt=(()=>((Nt=Nt||{})[Nt.Default=0]="Default",Nt[Nt.Host=1]="Host",Nt[Nt.Self=2]="Self",Nt[Nt.SkipSelf=4]="SkipSelf",Nt[Nt.Optional=8]="Optional",Nt))();let Fo;function Oo(t){const n=Fo;return Fo=t,n}function Xs(t,n,e){const r=Is(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&Nt.Optional?null:void 0!==n?n:void Wt(Nn(t))}function An(t){return{toString:t}.toString()}var Dn=(()=>((Dn=Dn||{})[Dn.OnPush=0]="OnPush",Dn[Dn.Default=1]="Default",Dn))(),en=(()=>{return(t=en||(en={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",en;var t})();const h=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),p={},m=[],w=Rn({\u0275cmp:Rn}),E=Rn({\u0275dir:Rn}),F=Rn({\u0275pipe:Rn}),U=Rn({\u0275mod:Rn}),ie=Rn({\u0275fac:Rn}),Ze=Rn({__NG_ELEMENT_ID__:Rn});let yt=0;function de(t){return An(()=>{const e=!0===t.standalone,r={},o={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Dn.OnPush,directiveDefs:null,pipeDefs:null,standalone:e,dependencies:e&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||m,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||en.Emulated,id:"c"+yt++,styles:t.styles||m,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.dependencies,s=t.features;return o.inputs=Mt(t.inputs,r),o.outputs=Mt(t.outputs),s&&s.forEach(a=>a(o)),o.directiveDefs=i?()=>("function"==typeof i?i():i).map(dt).filter(_t):null,o.pipeDefs=i?()=>("function"==typeof i?i():i).map(cr).filter(_t):null,o})}function dt(t){return Yt(t)||Ut(t)}function _t(t){return null!==t}const sn={};function jt(t){return An(()=>{const n={type:t.type,bootstrap:t.bootstrap||m,declarations:t.declarations||m,imports:t.imports||m,exports:t.exports||m,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(sn[t.id]=t.type),n})}function Mt(t,n){if(null==t)return p;const e={};for(const r in t)if(t.hasOwnProperty(r)){let o=t[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),e[o]=r,n&&(n[o]=i)}return e}const Ee=de;function lt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Yt(t){return t[w]||null}function Ut(t){return t[E]||null}function cr(t){return t[F]||null}function jn(t,n){const e=t[U]||null;if(!e&&!0===n)throw new Error(`Type ${Nn(t)} does not have '\u0275mod' property.`);return e}function No(t){return Array.isArray(t)&&"object"==typeof t[1]}function Si(t){return Array.isArray(t)&&!0===t[1]}function Jl(t){return 0!=(8&t.flags)}function gl(t){return 2==(2&t.flags)}function yl(t){return 1==(1&t.flags)}function Ei(t){return null!==t.template}function Kd(t){return 0!=(256&t[2])}function Ps(t,n){return t.hasOwnProperty(ie)?t[ie]:null}class Jd{constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function bo(){return du}function du(t){return t.type.prototype.ngOnChanges&&(t.setInput=tf),ef}function ef(){const t=pu(this),n=t?.current;if(n){const e=t.previous;if(e===p)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function tf(t,n,e,r){const o=pu(t)||function nf(t,n){return t[fu]=n}(t,{previous:p,current:null}),i=o.current||(o.current={}),s=o.previous,a=this.declaredInputs[e],c=s[a];i[a]=new Jd(c&&c.currentValue,n,s===p),t[r]=n}bo.ngInherit=!0;const fu="__ngSimpleChanges__";function pu(t){return t[fu]||null}function Hr(t){for(;Array.isArray(t);)t=t[0];return t}function vl(t,n){return Hr(n[t])}function di(t,n){return Hr(n[t.index])}function oc(t,n){return t.data[n]}function na(t,n){return t[n]}function Jo(t,n){const e=n[t];return No(e)?e:e[0]}function hu(t){return 4==(4&t[2])}function ic(t){return 64==(64&t[2])}function ds(t,n){return null==n?null:t[n]}function mu(t){t[18]=0}function sc(t,n){t[5]+=n;let e=t,r=t[3];for(;null!==r&&(1===n&&1===e[5]||-1===n&&0===e[5]);)r[5]+=n,e=r,r=r[3]}const gn={lFrame:De(null),bindingsEnabled:!0};function qh(){return gn.bindingsEnabled}function it(){return gn.lFrame.lView}function Ln(){return gn.lFrame.tView}function dn(t){return gn.lFrame.contextLView=t,t[8]}function Ot(t){return gn.lFrame.contextLView=null,t}function br(){let t=zn();for(;null!==t&&64===t.type;)t=t.parent;return t}function zn(){return gn.lFrame.currentTNode}function rs(t,n){const e=gn.lFrame;e.currentTNode=t,e.isParent=n}function yu(){return gn.lFrame.isParent}function vu(){gn.lFrame.isParent=!1}function Xn(){return gn.lFrame.bindingIndex++}function Dr(t){const n=gn.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function co(t,n){const e=gn.lFrame;e.bindingIndex=e.bindingRootIndex=t,Nr(n)}function Nr(t){gn.lFrame.currentDirectiveIndex=t}function l(){return gn.lFrame.currentQueryIndex}function g(t){gn.lFrame.currentQueryIndex=t}function b(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function A(t,n,e){if(e&Nt.SkipSelf){let o=n,i=t;for(;!(o=o.parent,null!==o||e&Nt.Host||(o=b(i),null===o||(i=i[15],10&o.type))););if(null===o)return!1;n=o,t=i}const r=gn.lFrame=we();return r.currentTNode=n,r.lView=t,!0}function H(t){const n=we(),e=t[1];gn.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function we(){const t=gn.lFrame,n=null===t?null:t.child;return null===n?De(t):n}function De(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Ne(){const t=gn.lFrame;return gn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const vt=Ne;function Qt(){const t=Ne();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Pt(){return gn.lFrame.selectedIndex}function $t(t){gn.lFrame.selectedIndex=t}function Kt(){const t=gn.lFrame;return oc(t.tView,t.selectedIndex)}function ur(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){const i=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:f,ngOnDestroy:y}=i;s&&(t.contentHooks||(t.contentHooks=[])).push(-e,s),a&&((t.contentHooks||(t.contentHooks=[])).push(e,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(e,a)),c&&(t.viewHooks||(t.viewHooks=[])).push(-e,c),f&&((t.viewHooks||(t.viewHooks=[])).push(e,f),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(e,f)),null!=y&&(t.destroyHooks||(t.destroyHooks=[])).push(e,y)}}function ti(t,n,e){R_(t,n,3,e)}function Lr(t,n,e,r){(3&t[2])===e&&R_(t,n,e,r)}function Zh(t,n){let e=t[2];(3&e)===n&&(e&=2047,e+=1,t[2]=e)}function R_(t,n,e,r){const i=r??-1,s=n.length-1;let a=0;for(let c=void 0!==r?65535&t[18]:0;c<s;c++)if("number"==typeof n[c+1]){if(a=n[c],null!=r&&a>=r)break}else n[c]<0&&(t[18]+=65536),(a<i||-1==i)&&(KM(t,e,n,c),t[18]=(4294901760&t[18])+c+2),c++}function KM(t,n,e,r){const o=e[r]<0,i=e[r+1],a=t[o?-e[r]:e[r]];if(o){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{i.call(a)}finally{}}}else try{i.call(a)}finally{}}class _u{constructor(n,e,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function pf(t,n,e){let r=0;for(;r<e.length;){const o=e[r];if("number"==typeof o){if(0!==o)break;r++;const i=e[r++],s=e[r++],a=e[r++];t.setAttribute(n,s,a,i)}else{const i=o,s=e[++r];O_(i)?t.setProperty(n,i,s):t.setAttribute(n,i,s),r++}}return r}function F_(t){return 3===t||4===t||6===t}function O_(t){return 64===t.charCodeAt(0)}function hf(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){const o=n[r];"number"==typeof o?e=o:0===e||N_(t,e,o,null,-1===e||2===e?n[++r]:null)}}return t}function N_(t,n,e,r,o){let i=0,s=t.length;if(-1===n)s=-1;else for(;i<t.length;){const a=t[i++];if("number"==typeof a){if(a===n){s=-1;break}if(a>n){s=i-1;break}}}for(;i<t.length;){const a=t[i];if("number"==typeof a)break;if(a===e){if(null===r)return void(null!==o&&(t[i+1]=o));if(r===t[i+1])return void(t[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==s&&(t.splice(s,0,n),i=s+1),t.splice(i++,0,e),null!==r&&t.splice(i++,0,r),null!==o&&t.splice(i++,0,o)}function L_(t){return-1!==t}function lc(t){return 32767&t}function cc(t,n){let e=function tk(t){return t>>16}(t),r=n;for(;e>0;)r=r[15],e--;return r}let Kh=!0;function mf(t){const n=Kh;return Kh=t,n}let nk=0;const Rs={};function bu(t,n){const e=Qh(t,n);if(-1!==e)return e;const r=n[1];r.firstCreatePass&&(t.injectorIndex=n.length,Xh(r.data,t),Xh(n,null),Xh(r.blueprint,null));const o=gf(t,n),i=t.injectorIndex;if(L_(o)){const s=lc(o),a=cc(o,n),c=a[1].data;for(let f=0;f<8;f++)n[i+f]=a[s+f]|c[s+f]}return n[i+8]=o,i}function Xh(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Qh(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function gf(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,r=null,o=n;for(;null!==o;){if(r=W_(o),null===r)return-1;if(e++,o=o[15],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return-1}function yf(t,n,e){!function rk(t,n,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(Ze)&&(r=e[Ze]),null==r&&(r=e[Ze]=nk++);const o=255&r;n.data[t+(o>>5)]|=1<<o}(t,n,e)}function V_(t,n,e){if(e&Nt.Optional)return t;Wt()}function H_(t,n,e,r){if(e&Nt.Optional&&void 0===r&&(r=null),0==(e&(Nt.Self|Nt.Host))){const o=t[9],i=Oo(void 0);try{return o?o.get(n,r,e&Nt.Optional):Xs(n,r,e&Nt.Optional)}finally{Oo(i)}}return V_(r,0,e)}function j_(t,n,e,r=Nt.Default,o){if(null!==t){if(1024&n[2]){const s=function lk(t,n,e,r,o){let i=t,s=n;for(;null!==i&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=U_(i,s,e,r|Nt.Self,Rs);if(a!==Rs)return a;let c=i.parent;if(!c){const f=s[21];if(f){const y=f.get(e,Rs,r);if(y!==Rs)return y}c=W_(s),s=s[15]}i=c}return o}(t,n,e,r,Rs);if(s!==Rs)return s}const i=U_(t,n,e,r,Rs);if(i!==Rs)return i}return H_(n,e,r,o)}function U_(t,n,e,r,o){const i=function sk(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Ze)?t[Ze]:void 0;return"number"==typeof n?n>=0?255&n:ak:n}(e);if("function"==typeof i){if(!A(n,t,r))return r&Nt.Host?V_(o,0,r):H_(n,e,r,o);try{const s=i(r);if(null!=s||r&Nt.Optional)return s;Wt()}finally{vt()}}else if("number"==typeof i){let s=null,a=Qh(t,n),c=-1,f=r&Nt.Host?n[16][6]:null;for((-1===a||r&Nt.SkipSelf)&&(c=-1===a?gf(t,n):n[a+8],-1!==c&&z_(r,!1)?(s=n[1],a=lc(c),n=cc(c,n)):a=-1);-1!==a;){const y=n[1];if(G_(i,a,y.data)){const v=ik(a,n,e,s,r,f);if(v!==Rs)return v}c=n[a+8],-1!==c&&z_(r,n[1].data[a+8]===f)&&G_(i,a,n)?(s=y,a=lc(c),n=cc(c,n)):a=-1}}return o}function ik(t,n,e,r,o,i){const s=n[1],a=s.data[t+8],y=vf(a,s,e,null==r?gl(a)&&Kh:r!=s&&0!=(3&a.type),o&Nt.Host&&i===a);return null!==y?Cu(n,s,y,a):Rs}function vf(t,n,e,r,o){const i=t.providerIndexes,s=n.data,a=1048575&i,c=t.directiveStart,y=i>>20,D=o?a+y:t.directiveEnd;for(let x=r?a:a+y;x<D;x++){const Q=s[x];if(x<c&&e===Q||x>=c&&Q.type===e)return x}if(o){const x=s[c];if(x&&Ei(x)&&x.type===e)return c}return null}function Cu(t,n,e,r){let o=t[e];const i=n.data;if(function XM(t){return t instanceof _u}(o)){const s=o;s.resolving&&function qe(t,n){const e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new P(-200,`Circular dependency in DI detected for ${t}${e}`)}(function Pe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():J(t)}(i[e]));const a=mf(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?Oo(s.injectImpl):null;A(t,r,Nt.Default);try{o=t[e]=s.factory(void 0,i,t,r),n.firstCreatePass&&e>=r.directiveStart&&function uo(t,n,e){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=n.type.prototype;if(r){const s=du(n);(e.preOrderHooks||(e.preOrderHooks=[])).push(t,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,s)}o&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-t,o),i&&((e.preOrderHooks||(e.preOrderHooks=[])).push(t,i),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,i))}(e,i[e],n)}finally{null!==c&&Oo(c),mf(a),s.resolving=!1,vt()}}return o}function G_(t,n,e){return!!(e[n+(t>>5)]&1<<t)}function z_(t,n){return!(t&Nt.Self||t&Nt.Host&&n)}class uc{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return j_(this._tNode,this._lView,n,r,e)}}function ak(){return new uc(br(),it())}function Vo(t){return An(()=>{const n=t.prototype.constructor,e=n[ie]||Jh(n),r=Object.prototype;let o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==r;){const i=o[ie]||Jh(o);if(i&&i!==e)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Jh(t){return le(t)?()=>{const n=Jh(N(t));return n&&n()}:Ps(t)}function W_(t){const n=t[1],e=n.type;return 2===e?n.declTNode:1===e?t[6]:null}function wl(t){return function ok(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const e=t.attrs;if(e){const r=e.length;let o=0;for(;o<r;){const i=e[o];if(F_(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<r&&"string"==typeof e[o];)o++;else{if(i===n)return e[o+1];o+=2}}}return null}(br(),t)}const fc="__parameters__";function hc(t,n,e){return An(()=>{const r=function em(t){return function(...e){if(t){const r=t(...e);for(const o in r)this[o]=r[o]}}}(n);function o(...i){if(this instanceof o)return r.apply(this,i),this;const s=new o(...i);return a.annotation=s,a;function a(c,f,y){const v=c.hasOwnProperty(fc)?c[fc]:Object.defineProperty(c,fc,{value:[]})[fc];for(;v.length<=y;)v.push(null);return(v[y]=v[y]||[]).push(s),c}}return e&&(o.prototype=Object.create(e.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}class an{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ft({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const uk=new an("AnalyzeForEntryComponents");function Fi(t,n){void 0===n&&(n=t);for(let e=0;e<t.length;e++){let r=t[e];Array.isArray(r)?(n===t&&(n=t.slice(0,e)),Fi(r,n)):n!==t&&n.push(r)}return n}function ra(t,n){t.forEach(e=>Array.isArray(e)?ra(e,n):n(e))}function Z_(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function _f(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Du(t,n){const e=[];for(let r=0;r<t;r++)e.push(n);return e}function Oi(t,n,e){let r=mc(t,n);return r>=0?t[1|r]=e:(r=~r,function pk(t,n,e,r){let o=t.length;if(o==n)t.push(e,r);else if(1===o)t.push(r,t[0]),t[0]=e;else{for(o--,t.push(t[o-1],t[o]);o>n;)t[o]=t[o-2],o--;t[n]=e,t[n+1]=r}}(t,r,n,e)),r}function nm(t,n){const e=mc(t,n);if(e>=0)return t[1|e]}function mc(t,n){return function X_(t,n,e){let r=0,o=t.length>>e;for(;o!==r;){const i=r+(o-r>>1),s=t[i<<e];if(n===s)return i<<e;s>n?o=i:r=i+1}return~(o<<e)}(t,n,1)}const Iu={},om="__NG_DI_FLAG__",bf="ngTempTokenPath",bk=/\n/gm,Q_="__source";let Mu;function Cf(t){const n=Mu;return Mu=t,n}function Sk(t,n=Nt.Default){if(void 0===Mu)throw new P(-203,!1);return null===Mu?Xs(t,void 0,n):Mu.get(t,n&Nt.Optional?null:void 0,n)}function me(t,n=Nt.Default){return(function Fa(){return Fo}()||Sk)(N(t),n)}function bl(t,n=Nt.Default){return me(t,n)}function im(t){const n=[];for(let e=0;e<t.length;e++){const r=N(t[e]);if(Array.isArray(r)){if(0===r.length)throw new P(900,!1);let o,i=Nt.Default;for(let s=0;s<r.length;s++){const a=r[s],c=Ek(a);"number"==typeof c?-1===c?o=a.token:i|=c:o=a}n.push(me(o,i))}else n.push(me(r))}return n}function ku(t,n){return t[om]=n,t.prototype[om]=n,t}function Ek(t){return t[om]}const Ba=ku(hc("Optional"),8),Tu=ku(hc("SkipSelf"),4);let am,Df;function yc(t){var n;return(null===(n=function lm(){if(void 0===Df&&(Df=null,h.trustedTypes))try{Df=h.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Df}())||void 0===n?void 0:n.createHTML(t))||t}class Cl{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Bk extends Cl{getTypeName(){return"HTML"}}class Vk extends Cl{getTypeName(){return"Style"}}class Hk extends Cl{getTypeName(){return"Script"}}class jk extends Cl{getTypeName(){return"URL"}}class Uk extends Cl{getTypeName(){return"ResourceURL"}}function Ni(t){return t instanceof Cl?t.changingThisBreaksApplicationSecurity:t}function Fs(t,n){const e=function Gk(t){return t instanceof Cl&&t.getTypeName()||null}(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===n}class Kk{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const e=(new window.DOMParser).parseFromString(yc(n),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch{return null}}}class Xk{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const r=this.inertDocument.createElement("body");e.appendChild(r)}}getInertBodyElement(n){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=yc(n),e;const r=this.inertDocument.createElement("body");return r.innerHTML=yc(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(n){const e=n.attributes;for(let o=e.length-1;0<o;o--){const s=e.item(o).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&n.removeAttribute(s)}let r=n.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const Jk=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,eT=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Pu(t){return(t=String(t)).match(Jk)||t.match(eT)?t:"unsafe:"+t}function p0(t){return(t=String(t)).split(",").map(n=>Pu(n.trim())).join(", ")}function Os(t){const n={};for(const e of t.split(","))n[e]=!0;return n}function Ru(...t){const n={};for(const e of t)for(const r in e)e.hasOwnProperty(r)&&(n[r]=!0);return n}const h0=Os("area,br,col,hr,img,wbr"),m0=Os("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),g0=Os("rp,rt"),um=Ru(h0,Ru(m0,Os("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ru(g0,Os("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ru(g0,m0)),dm=Os("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),fm=Os("srcset"),y0=Ru(dm,fm,Os("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Os("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),tT=Os("script,style,template");class nT{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=this.checkClobberedElement(e,e.nextSibling);if(o){e=o;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(n){const e=n.nodeName.toLowerCase();if(!um.hasOwnProperty(e))return this.sanitizedSomething=!0,!tT.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=n.attributes;for(let o=0;o<r.length;o++){const i=r.item(o),s=i.name,a=s.toLowerCase();if(!y0.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=i.value;dm[a]&&(c=Pu(c)),fm[a]&&(c=p0(c)),this.buf.push(" ",s,'="',v0(c),'"')}return this.buf.push(">"),!0}endElement(n){const e=n.nodeName.toLowerCase();um.hasOwnProperty(e)&&!h0.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(v0(n))}checkClobberedElement(n,e){if(e&&(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return e}}const rT=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,oT=/([^\#-~ |!])/g;function v0(t){return t.replace(/&/g,"&amp;").replace(rT,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(oT,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Mf;function _0(t,n){let e=null;try{Mf=Mf||function f0(t){const n=new Xk(t);return function Qk(){try{return!!(new window.DOMParser).parseFromString(yc(""),"text/html")}catch{return!1}}()?new Kk(n):n}(t);let r=n?String(n):"";e=Mf.getInertBodyElement(r);let o=5,i=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=e.innerHTML,e=Mf.getInertBodyElement(r)}while(r!==i);return yc((new nT).sanitizeChildren(pm(e)||e))}finally{if(e){const r=pm(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function pm(t){return"content"in t&&function iT(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Cr=(()=>((Cr=Cr||{})[Cr.NONE=0]="NONE",Cr[Cr.HTML=1]="HTML",Cr[Cr.STYLE=2]="STYLE",Cr[Cr.SCRIPT=3]="SCRIPT",Cr[Cr.URL=4]="URL",Cr[Cr.RESOURCE_URL=5]="RESOURCE_URL",Cr))();function gm(t){return t.ngOriginalError}class vc{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&gm(n);for(;e&&gm(e);)e=gm(e);return e||null}}const ym=new Map;let bT=0;const _m="__ngContext__";function ni(t,n){No(n)?(t[_m]=n[20],function ST(t){ym.set(t[20],t)}(n)):t[_m]=n}function Ou(t){const n=t[_m];return"number"==typeof n?function C0(t){return ym.get(t)||null}(n):n||null}function wm(t){const n=Ou(t);return n?No(n)?n:n.lView:null}const PT=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(h))();function oa(t){return t instanceof Function?t():t}var Ii=(()=>((Ii=Ii||{})[Ii.Important=1]="Important",Ii[Ii.DashCase=2]="DashCase",Ii))();function Cm(t,n){return undefined(t,n)}function Nu(t){const n=t[3];return Si(n)?n[3]:n}function Sm(t){return x0(t[13])}function Em(t){return x0(t[4])}function x0(t){for(;null!==t&&!Si(t);)t=t[4];return t}function wc(t,n,e,r,o){if(null!=r){let i,s=!1;Si(r)?i=r:No(r)&&(s=!0,r=r[0]);const a=Hr(r);0===t&&null!==e?null==o?N0(n,e,a):Sl(n,e,a,o||null,!0):1===t&&null!==e?Sl(n,e,a,o||null,!0):2===t?function U0(t,n,e){const r=kf(t,n);r&&function YT(t,n,e,r){t.removeChild(n,e,r)}(t,r,n,e)}(n,a,s):3===t&&n.destroyNode(a),null!=i&&function QT(t,n,e,r,o){const i=e[7];i!==Hr(e)&&wc(n,t,r,i,o);for(let a=10;a<e.length;a++){const c=e[a];Lu(c[1],c,t,n,r,i)}}(n,t,i,e,o)}}function Im(t,n,e){return t.createElement(n,e)}function P0(t,n){const e=t[9],r=e.indexOf(n),o=n[3];512&n[2]&&(n[2]&=-513,sc(o,-1)),e.splice(r,1)}function Mm(t,n){if(t.length<=10)return;const e=10+n,r=t[e];if(r){const o=r[17];null!==o&&o!==t&&P0(o,r),n>0&&(t[e-1][4]=r[4]);const i=_f(t,10+n);!function HT(t,n){Lu(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(r[1],r);const s=i[19];null!==s&&s.detachView(i[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function R0(t,n){if(!(128&n[2])){const e=n[11];e.destroyNode&&Lu(t,n,e,3,null,null),function GT(t){let n=t[13];if(!n)return km(t[1],t);for(;n;){let e=null;if(No(n))e=n[13];else{const r=n[10];r&&(e=r)}if(!e){for(;n&&!n[4]&&n!==t;)No(n)&&km(n[1],n),n=n[3];null===n&&(n=t),No(n)&&km(n[1],n),e=n&&n[4]}n=e}}(n)}}function km(t,n){if(!(128&n[2])){n[2]&=-65,n[2]|=128,function ZT(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let r=0;r<e.length;r+=2){const o=n[e[r]];if(!(o instanceof _u)){const i=e[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],c=i[s+1];try{c.call(a)}finally{}}else try{i.call(o)}finally{}}}}(t,n),function qT(t,n){const e=t.cleanup,r=n[7];let o=-1;if(null!==e)for(let i=0;i<e.length-1;i+=2)if("string"==typeof e[i]){const s=e[i+1],a="function"==typeof s?s(n):Hr(n[s]),c=r[o=e[i+2]],f=e[i+3];"boolean"==typeof f?a.removeEventListener(e[i],c,f):f>=0?r[o=f]():r[o=-f].unsubscribe(),i+=2}else{const s=r[o=e[i+1]];e[i].call(s)}if(null!==r){for(let i=o+1;i<r.length;i++)r[i]();n[7]=null}}(t,n),1===n[1].type&&n[11].destroy();const e=n[17];if(null!==e&&Si(n[3])){e!==n[3]&&P0(e,n);const r=n[19];null!==r&&r.detachView(t)}!function ET(t){ym.delete(t[20])}(n)}}function F0(t,n,e){return function O0(t,n,e){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return e[0];if(2&r.flags){const o=t.data[r.directiveStart].encapsulation;if(o===en.None||o===en.Emulated)return null}return di(r,e)}(t,n.parent,e)}function Sl(t,n,e,r,o){t.insertBefore(n,e,r,o)}function N0(t,n,e){t.appendChild(n,e)}function L0(t,n,e,r,o){null!==r?Sl(t,n,e,r,o):N0(t,n,e)}function kf(t,n){return t.parentNode(n)}function $0(t,n,e){return V0(t,n,e)}let V0=function B0(t,n,e){return 40&t.type?di(t,e):null};function Tf(t,n,e,r){const o=F0(t,r,n),i=n[11],a=$0(r.parent||n[6],r,n);if(null!=o)if(Array.isArray(e))for(let c=0;c<e.length;c++)L0(i,o,e[c],a,!1);else L0(i,o,e,a,!1)}function xf(t,n){if(null!==n){const e=n.type;if(3&e)return di(n,t);if(4&e)return xm(-1,t[n.index]);if(8&e){const r=n.child;if(null!==r)return xf(t,r);{const o=t[n.index];return Si(o)?xm(-1,o):Hr(o)}}if(32&e)return Cm(n,t)()||Hr(t[n.index]);{const r=j0(t,n);return null!==r?Array.isArray(r)?r[0]:xf(Nu(t[16]),r):xf(t,n.next)}}return null}function j0(t,n){return null!==n?t[16][6].projection[n.projection]:null}function xm(t,n){const e=10+t+1;if(e<n.length){const r=n[e],o=r[1].firstChild;if(null!==o)return xf(r,o)}return n[7]}function Am(t,n,e,r,o,i,s){for(;null!=e;){const a=r[e.index],c=e.type;if(s&&0===n&&(a&&ni(Hr(a),r),e.flags|=4),64!=(64&e.flags))if(8&c)Am(t,n,e.child,r,o,i,!1),wc(n,t,o,a,i);else if(32&c){const f=Cm(e,r);let y;for(;y=f();)wc(n,t,o,y,i);wc(n,t,o,a,i)}else 16&c?G0(t,n,r,e,o,i):wc(n,t,o,a,i);e=s?e.projectionNext:e.next}}function Lu(t,n,e,r,o,i){Am(e,r,t.firstChild,n,o,i,!1)}function G0(t,n,e,r,o,i){const s=e[16],c=s[6].projection[r.projection];if(Array.isArray(c))for(let f=0;f<c.length;f++)wc(n,t,o,c[f],i);else Am(t,n,c,s[3],o,i,!0)}function z0(t,n,e){t.setAttribute(n,"style",e)}function Pm(t,n,e){""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function W0(t,n,e){let r=t.length;for(;;){const o=t.indexOf(n,e);if(-1===o)return o;if(0===o||t.charCodeAt(o-1)<=32){const i=n.length;if(o+i===r||t.charCodeAt(o+i)<=32)return o}e=o+1}}const q0="ng-template";function ex(t,n,e){let r=0;for(;r<t.length;){let o=t[r++];if(e&&"class"===o){if(o=t[r],-1!==W0(o.toLowerCase(),n,0))return!0}else if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===n)return!0;return!1}}return!1}function Z0(t){return 4===t.type&&t.value!==q0}function tx(t,n,e){return n===(4!==t.type||e?t.value:q0)}function nx(t,n,e){let r=4;const o=t.attrs||[],i=function ix(t){for(let n=0;n<t.length;n++)if(F_(t[n]))return n;return t.length}(o);let s=!1;for(let a=0;a<n.length;a++){const c=n[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!tx(t,c,e)||""===c&&1===n.length){if(fs(r))return!1;s=!0}}else{const f=8&r?c:n[++a];if(8&r&&null!==t.attrs){if(!ex(t.attrs,f,e)){if(fs(r))return!1;s=!0}continue}const v=rx(8&r?"class":c,o,Z0(t),e);if(-1===v){if(fs(r))return!1;s=!0;continue}if(""!==f){let D;D=v>i?"":o[v+1].toLowerCase();const x=8&r?D:null;if(x&&-1!==W0(x,f,0)||2&r&&f!==D){if(fs(r))return!1;s=!0}}}}else{if(!s&&!fs(r)&&!fs(c))return!1;if(s&&fs(c))continue;s=!1,r=c|1&r}}return fs(r)||s}function fs(t){return 0==(1&t)}function rx(t,n,e,r){if(null===n)return-1;let o=0;if(r||!e){let i=!1;for(;o<n.length;){const s=n[o];if(s===t)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=n[++o];for(;"string"==typeof a;)a=n[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function sx(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const r=t[e];if("number"==typeof r)return-1;if(r===n)return e;e++}return-1}(n,t)}function Y0(t,n,e=!1){for(let r=0;r<n.length;r++)if(nx(t,n[r],e))return!0;return!1}function ax(t,n){e:for(let e=0;e<n.length;e++){const r=n[e];if(t.length===r.length){for(let o=0;o<t.length;o++)if(t[o]!==r[o])continue e;return!0}}return!1}function K0(t,n){return t?":not("+n.trim()+")":n}function lx(t){let n=t[0],e=1,r=2,o="",i=!1;for(;e<t.length;){let s=t[e];if("string"==typeof s)if(2&r){const a=t[++e];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""!==o&&!fs(s)&&(n+=K0(i,o),o=""),r=s,i=i||!fs(r);e++}return""!==o&&(n+=K0(i,o)),n}const En={};function mt(t){X0(Ln(),it(),Pt()+t,!1)}function X0(t,n,e,r){if(!r)if(3==(3&n[2])){const i=t.preOrderCheckHooks;null!==i&&ti(n,i,e)}else{const i=t.preOrderHooks;null!==i&&Lr(n,i,0,e)}$t(e)}const Rm=new an("ENVIRONMENT_INITIALIZER"),tw=new an("INJECTOR_DEF_TYPES");function gx(...t){return{\u0275providers:nw(0,t)}}function nw(t,...n){const e=[],r=new Set;let o;return ra(n,i=>{const s=i;Fm(s,e,[],r)&&(o||(o=[]),o.push(s))}),void 0!==o&&rw(o,e),e}function rw(t,n){for(let e=0;e<t.length;e++){const{providers:o}=t[e];ra(o,i=>{n.push(i)})}}function Fm(t,n,e,r){if(!(t=N(t)))return!1;let o=null,i=es(t);const s=!i&&Yt(t);if(i||s){if(s&&!s.standalone)return!1;o=t}else{const c=t.ngModule;if(i=es(c),!i)return!1;o=c}const a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const f of c)Fm(f,n,e,r)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let f;r.add(o);try{ra(i.imports,y=>{Fm(y,n,e,r)&&(f||(f=[]),f.push(y))})}finally{}void 0!==f&&rw(f,n)}if(!a){const f=Ps(o)||(()=>new o);n.push({provide:o,useFactory:f,deps:m},{provide:tw,useValue:o,multi:!0},{provide:Rm,useValue:()=>me(o),multi:!0})}const c=i.providers;null==c||a||ra(c,y=>{n.push(y)})}}return o!==t&&void 0!==t.providers}const yx=Rn({provide:String,useValue:Rn});function Om(t){return null!==t&&"object"==typeof t&&yx in t}function El(t){return"function"==typeof t}const Nm=new an("INJECTOR",-1);class sw{get(n,e=Iu){if(e===Iu){const r=new Error(`NullInjectorError: No provider for ${Nn(n)}!`);throw r.name="NullInjectorError",r}return e}}const Lm=new an("Set Injector scope."),Af={},_x={};let $m;function Bm(){return void 0===$m&&($m=new sw),$m}class Dl{}class aw extends Dl{constructor(n,e,r,o){super(),this.parent=e,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Hm(n,s=>this.processProvider(s)),this.records.set(Nm,bc(void 0,this)),o.has("environment")&&this.records.set(Dl,bc(void 0,this));const i=this.records.get(Lm);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(tw.multi,m,Nt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();for(const n of this._onDestroyHooks)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(n){this._onDestroyHooks.push(n)}get(n,e=Iu,r=Nt.Default){this.assertNotDestroyed();const o=Cf(this),i=Oo(void 0);try{if(!(r&Nt.SkipSelf)){let a=this.records.get(n);if(void 0===a){const c=function Ex(t){return"function"==typeof t||"object"==typeof t&&t instanceof an}(n)&&Is(n);a=c&&this.injectableDefInScope(c)?bc(Vm(n),Af):null,this.records.set(n,a)}if(null!=a)return this.hydrate(n,a)}return(r&Nt.Self?Bm():this.parent).get(n,e=r&Nt.Optional&&e===Iu?null:e)}catch(s){if("NullInjectorError"===s.name){if((s[bf]=s[bf]||[]).unshift(Nn(n)),o)throw s;return function Dk(t,n,e,r){const o=t[bf];throw n[Q_]&&o.unshift(n[Q_]),t.message=function Ik(t,n,e,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let o=Nn(n);if(Array.isArray(n))o=n.map(Nn).join(" -> ");else if("object"==typeof n){let i=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):Nn(a)))}o=`{${i.join(", ")}}`}return`${e}${r?"("+r+")":""}[${o}]: ${t.replace(bk,"\n  ")}`}("\n"+t.message,o,e,r),t.ngTokenPath=o,t[bf]=null,t}(s,n,"R3InjectorError",this.source)}throw s}finally{Oo(i),Cf(o)}}resolveInjectorInitializers(){const n=Cf(this),e=Oo(void 0);try{const r=this.get(Rm.multi,m,Nt.Self);for(const o of r)o()}finally{Cf(n),Oo(e)}}toString(){const n=[],e=this.records;for(const r of e.keys())n.push(Nn(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new P(205,!1)}processProvider(n){let e=El(n=N(n))?n:N(n&&n.provide);const r=function bx(t){return Om(t)?bc(void 0,t.useValue):bc(lw(t),Af)}(n);if(El(n)||!0!==n.multi)this.records.get(e);else{let o=this.records.get(e);o||(o=bc(void 0,Af,!0),o.factory=()=>im(o.multi),this.records.set(e,o)),e=n,o.multi.push(n)}this.records.set(e,r)}hydrate(n,e){return e.value===Af&&(e.value=_x,e.value=e.factory()),"object"==typeof e.value&&e.value&&function Sx(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(n){if(!n.providedIn)return!1;const e=N(n.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function Vm(t){const n=Is(t),e=null!==n?n.factory:Ps(t);if(null!==e)return e;if(t instanceof an)throw new P(204,!1);if(t instanceof Function)return function wx(t){const n=t.length;if(n>0)throw Du(n,"?"),new P(204,!1);const e=function Kl(t){const n=t&&(t[ts]||t[Zr]);if(n){const e=function Ms(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),n}return null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new P(204,!1)}function lw(t,n,e){let r;if(El(t)){const o=N(t);return Ps(o)||Vm(o)}if(Om(t))r=()=>N(t.useValue);else if(function iw(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...im(t.deps||[]));else if(function ow(t){return!(!t||!t.useExisting)}(t))r=()=>me(N(t.useExisting));else{const o=N(t&&(t.useClass||t.provide));if(!function Cx(t){return!!t.deps}(t))return Ps(o)||Vm(o);r=()=>new o(...im(t.deps))}return r}function bc(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function Dx(t){return!!t.\u0275providers}function Hm(t,n){for(const e of t)Array.isArray(e)?Hm(e,n):Dx(e)?Hm(e.\u0275providers,n):n(e)}function cw(t,n=null,e=null,r){const o=uw(t,n,e,r);return o.resolveInjectorInitializers(),o}function uw(t,n=null,e=null,r,o=new Set){const i=[e||m,gx(t)];return r=r||("object"==typeof t?void 0:Nn(t)),new aw(i,n||Bm(),r||null,o)}let gr=(()=>{class t{static create(e,r){if(Array.isArray(e))return cw({name:""},r,e,"");{var o;const i=null!==(o=e.name)&&void 0!==o?o:"";return cw({name:i},e.parent,e.providers,i)}}}return t.THROW_IF_NOT_FOUND=Iu,t.NULL=new sw,t.\u0275prov=ft({token:t,providedIn:"any",factory:()=>me(Nm)}),t.__NG_ELEMENT_ID__=-1,t})();function C(t,n=Nt.Default){const e=it();return null===e?me(t,n):j_(br(),e,N(t),n)}function Wm(){throw new Error("invalid")}function Rf(t,n){return t<<17|n<<2}function ps(t){return t>>17&32767}function Km(t){return 2|t}function ia(t){return(131068&t)>>2}function Xm(t,n){return-131069&t|n<<2}function Qm(t){return 1|t}function xw(t,n){const e=t.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const o=e[r],i=e[r+1];if(-1!==i){const s=t.data[i];g(o),s.contentQueries(2,n[i],i)}}}function Nf(t,n,e,r,o,i,s,a,c,f,y){const v=n.blueprint.slice();return v[0]=o,v[2]=76|r,(null!==y||t&&1024&t[2])&&(v[2]|=1024),mu(v),v[3]=v[15]=t,v[8]=e,v[10]=s||t&&t[10],v[11]=a||t&&t[11],v[12]=c||t&&t[12]||null,v[9]=f||t&&t[9]||null,v[6]=i,v[20]=function CT(){return bT++}(),v[21]=y,v[16]=2==n.type?t[16]:v,v}function Sc(t,n,e,r,o){let i=t.data[n];if(null===i)i=function ag(t,n,e,r,o){const i=zn(),s=yu(),c=t.data[n]=function oA(t,n,e,r,o,i){return{type:e,index:r,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,e,n,r,o);return null===t.firstChild&&(t.firstChild=c),null!==i&&(s?null==i.child&&null!==c.parent&&(i.child=c):null===i.next&&(i.next=c)),c}(t,n,e,r,o),function ei(){return gn.lFrame.inI18n}()&&(i.flags|=64);else if(64&i.type){i.type=e,i.value=r,i.attrs=o;const s=function _l(){const t=gn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return rs(i,!0),i}function Ec(t,n,e,r){if(0===e)return-1;const o=n.length;for(let i=0;i<e;i++)n.push(r),t.blueprint.push(r),t.data.push(null);return o}function Lf(t,n,e){H(n);try{const r=t.viewQuery;null!==r&&gg(1,r,e);const o=t.template;null!==o&&Aw(t,n,o,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&xw(t,n),t.staticViewQueries&&gg(2,t.viewQuery,e);const i=t.components;null!==i&&function eA(t,n){for(let e=0;e<n.length;e++)CA(t,n[e])}(n,i)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[2]&=-5,Qt()}}function $u(t,n,e,r){const o=n[2];if(128!=(128&o)){H(n);try{mu(n),function $n(t){return gn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&Aw(t,n,e,2,r);const s=3==(3&o);if(s){const f=t.preOrderCheckHooks;null!==f&&ti(n,f,null)}else{const f=t.preOrderHooks;null!==f&&Lr(n,f,0,null),Zh(n,0)}if(function wA(t){for(let n=Sm(t);null!==n;n=Em(n)){if(!n[2])continue;const e=n[9];for(let r=0;r<e.length;r++){const o=e[r],i=o[3];0==(512&o[2])&&sc(i,1),o[2]|=512}}}(n),function _A(t){for(let n=Sm(t);null!==n;n=Em(n))for(let e=10;e<n.length;e++){const r=n[e],o=r[1];ic(r)&&$u(o,r,o.template,r[8])}}(n),null!==t.contentQueries&&xw(t,n),s){const f=t.contentCheckHooks;null!==f&&ti(n,f)}else{const f=t.contentHooks;null!==f&&Lr(n,f,1),Zh(n,1)}!function Qx(t,n){const e=t.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const o=e[r];if(o<0)$t(~o);else{const i=o,s=e[++r],a=e[++r];co(s,i),a(2,n[i])}}}finally{$t(-1)}}(t,n);const a=t.components;null!==a&&function Jx(t,n){for(let e=0;e<n.length;e++)bA(t,n[e])}(n,a);const c=t.viewQuery;if(null!==c&&gg(2,c,r),s){const f=t.viewCheckHooks;null!==f&&ti(n,f)}else{const f=t.viewHooks;null!==f&&Lr(n,f,2),Zh(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[2]&=-41,512&n[2]&&(n[2]&=-513,sc(n[3],-1))}finally{Qt()}}}function tA(t,n,e,r){const o=n[10],s=hu(n);try{!s&&o.begin&&o.begin(),s&&Lf(t,n,r),$u(t,n,e,r)}finally{!s&&o.end&&o.end()}}function Aw(t,n,e,r,o){const i=Pt(),s=2&r;try{$t(-1),s&&n.length>22&&X0(t,n,22,!1),e(r,o)}finally{$t(i)}}function Pw(t,n,e){if(Jl(n)){const o=n.directiveEnd;for(let i=n.directiveStart;i<o;i++){const s=t.data[i];s.contentQueries&&s.contentQueries(1,e[i],i)}}}function lg(t,n,e){!qh()||(function dA(t,n,e,r){const o=e.directiveStart,i=e.directiveEnd;t.firstCreatePass||bu(e,n),ni(r,n);const s=e.initialInputs;for(let a=o;a<i;a++){const c=t.data[a],f=Ei(c);f&&gA(n,e,c);const y=Cu(n,t,a,e);ni(y,n),null!==s&&yA(0,a-o,y,c,0,s),f&&(Jo(e.index,n)[8]=y)}}(t,n,e,di(e,n)),128==(128&e.flags)&&function fA(t,n,e){const r=e.directiveStart,o=e.directiveEnd,i=e.index,s=function Or(){return gn.lFrame.currentDirectiveIndex}();try{$t(i);for(let a=r;a<o;a++){const c=t.data[a],f=n[a];Nr(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&Lw(c,f)}}finally{$t(-1),Nr(s)}}(t,n,e))}function cg(t,n,e=di){const r=n.localNames;if(null!==r){let o=n.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],a=-1===s?e(n,t):t[s];t[o++]=a}}}function Rw(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=ug(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function ug(t,n,e,r,o,i,s,a,c,f){const y=22+r,v=y+o,D=function nA(t,n){const e=[];for(let r=0;r<n;r++)e.push(r<t?null:En);return e}(y,v),x="function"==typeof f?f():f;return D[1]={type:t,blueprint:D,template:e,queries:null,viewQuery:a,declTNode:n,data:D.slice().fill(null,y),bindingStartIndex:y,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:x,incompleteFirstPass:!1}}function Fw(t,n,e,r){const o=Gw(n);null===e?o.push(r):(o.push(e),t.firstCreatePass&&zw(t).push(r,o.length-1))}function Ow(t,n,e){for(let r in t)if(t.hasOwnProperty(r)){const o=t[r];(e=null===e?{}:e).hasOwnProperty(r)?e[r].push(n,o):e[r]=[n,o]}return e}function dg(t,n,e,r){let o=!1;if(qh()){const i=function pA(t,n,e){const r=t.directiveRegistry;let o=null;if(r)for(let i=0;i<r.length;i++){const s=r[i];Y0(e,s.selectors,!1)&&(o||(o=[]),yf(bu(e,n),t,s.type),Ei(s)?($w(t,e),o.unshift(s)):o.push(s))}return o}(t,n,e),s=null===r?null:{"":-1};if(null!==i){o=!0,Bw(e,t.data.length,i.length);for(let y=0;y<i.length;y++){const v=i[y];v.providersResolver&&v.providersResolver(v)}let a=!1,c=!1,f=Ec(t,n,i.length,null);for(let y=0;y<i.length;y++){const v=i[y];e.mergedAttrs=hf(e.mergedAttrs,v.hostAttrs),Vw(t,e,n,f,v),mA(f,v,s),null!==v.contentQueries&&(e.flags|=8),(null!==v.hostBindings||null!==v.hostAttrs||0!==v.hostVars)&&(e.flags|=128);const D=v.type.prototype;!a&&(D.ngOnChanges||D.ngOnInit||D.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(e.index),a=!0),!c&&(D.ngOnChanges||D.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e.index),c=!0),f++}!function iA(t,n){const r=n.directiveEnd,o=t.data,i=n.attrs,s=[];let a=null,c=null;for(let f=n.directiveStart;f<r;f++){const y=o[f],v=y.inputs,D=null===i||Z0(n)?null:vA(v,i);s.push(D),a=Ow(v,f,a),c=Ow(y.outputs,f,c)}null!==a&&(a.hasOwnProperty("class")&&(n.flags|=16),a.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=s,n.inputs=a,n.outputs=c}(t,e)}s&&function hA(t,n,e){if(n){const r=t.localNames=[];for(let o=0;o<n.length;o+=2){const i=e[n[o+1]];if(null==i)throw new P(-301,!1);r.push(n[o],i)}}}(e,r,s)}return e.mergedAttrs=hf(e.mergedAttrs,e.attrs),o}function Nw(t,n,e,r,o,i){const s=i.hostBindings;if(s){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const c=~n.index;(function uA(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(a)!=c&&a.push(c),a.push(r,o,s)}}function Lw(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function $w(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function mA(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;Ei(n)&&(e[""]=t)}}function Bw(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function Vw(t,n,e,r,o){t.data[r]=o;const i=o.factory||(o.factory=Ps(o.type)),s=new _u(i,Ei(o),C);t.blueprint[r]=s,e[r]=s,Nw(t,n,0,r,Ec(t,e,o.hostVars,En),o)}function gA(t,n,e){const r=di(n,t),o=Rw(e),i=t[10],s=$f(t,Nf(t,o,null,e.onPush?32:16,r,n,i,i.createRenderer(r,e),null,null,null));t[n.index]=s}function Ns(t,n,e,r,o,i){const s=di(t,n);!function fg(t,n,e,r,o,i,s){if(null==i)t.removeAttribute(n,o,e);else{const a=null==s?J(i):s(i,r||"",o);t.setAttribute(n,o,a,e)}}(n[11],s,i,t.value,e,r,o)}function yA(t,n,e,r,o,i){const s=i[n];if(null!==s){const a=r.setInput;for(let c=0;c<s.length;){const f=s[c++],y=s[c++],v=s[c++];null!==a?r.setInput(e,v,f,y):e[y]=v}}}function vA(t,n){let e=null,r=0;for(;r<n.length;){const o=n[r];if(0!==o)if(5!==o){if("number"==typeof o)break;t.hasOwnProperty(o)&&(null===e&&(e=[]),e.push(o,t[o],n[r+1])),r+=2}else r+=2;else r+=4}return e}function Hw(t,n,e,r){return new Array(t,!0,!1,n,null,0,r,e,null,null)}function bA(t,n){const e=Jo(n,t);if(ic(e)){const r=e[1];48&e[2]?$u(r,e,r.template,e[8]):e[5]>0&&pg(e)}}function pg(t){for(let r=Sm(t);null!==r;r=Em(r))for(let o=10;o<r.length;o++){const i=r[o];if(512&i[2]){const s=i[1];$u(s,i,s.template,i[8])}else i[5]>0&&pg(i)}const e=t[1].components;if(null!==e)for(let r=0;r<e.length;r++){const o=Jo(e[r],t);ic(o)&&o[5]>0&&pg(o)}}function CA(t,n){const e=Jo(n,t),r=e[1];(function SA(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])})(r,e),Lf(r,e,e[8])}function $f(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function hg(t){for(;t;){t[2]|=32;const n=Nu(t);if(Kd(t)&&!n)return t;t=n}return null}function Uw(t){!function jw(t){for(let n=0;n<t.components.length;n++){const e=t.components[n],r=wm(e);if(null!==r){const o=r[1];tA(o,r,o.template,e)}}}(t[8])}function gg(t,n,e){g(0),n(t,e)}const DA=(()=>Promise.resolve(null))();function Gw(t){return t[7]||(t[7]=[])}function zw(t){return t.cleanup||(t.cleanup=[])}function qw(t,n){const e=t[9],r=e?e.get(vc,null):null;r&&r.handleError(n)}function Zw(t,n,e,r,o){for(let i=0;i<e.length;){const s=e[i++],a=e[i++],c=n[s],f=t.data[s];null!==f.setInput?f.setInput(c,o,r,a):c[a]=o}}function sa(t,n,e){const r=vl(n,t);!function A0(t,n,e){t.setValue(n,e)}(t[11],r,e)}function Bf(t,n,e){let r=e?t.styles:null,o=e?t.classes:null,i=0;if(null!==n)for(let s=0;s<n.length;s++){const a=n[s];"number"==typeof a?i=a:1==i?o=wi(o,a):2==i&&(r=wi(r,a+": "+n[++s]+";"))}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=o:t.classesWithoutHost=o}function TA(){const t=br();ur(it()[1],t)}function qn(t){let n=function Yw(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const r=[t];for(;n;){let o;if(Ei(t))o=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new P(903,!1);o=n.\u0275dir}if(o){if(e){r.push(o);const s=t;s.inputs=yg(t.inputs),s.declaredInputs=yg(t.declaredInputs),s.outputs=yg(t.outputs);const a=o.hostBindings;a&&RA(t,a);const c=o.viewQuery,f=o.contentQueries;if(c&&AA(t,c),f&&PA(t,f),Ko(t.inputs,o.inputs),Ko(t.declaredInputs,o.declaredInputs),Ko(t.outputs,o.outputs),Ei(o)&&o.data.animation){const y=t.data;y.animation=(y.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(t),a===qn&&(e=!1)}}n=Object.getPrototypeOf(n)}!function xA(t){let n=0,e=null;for(let r=t.length-1;r>=0;r--){const o=t[r];o.hostVars=n+=o.hostVars,o.hostAttrs=hf(o.hostAttrs,e=hf(e,o.hostAttrs))}}(r)}function yg(t){return t===p?{}:t===m?[]:t}function AA(t,n){const e=t.viewQuery;t.viewQuery=e?(r,o)=>{n(r,o),e(r,o)}:n}function PA(t,n){const e=t.contentQueries;t.contentQueries=e?(r,o,i)=>{n(r,o,i),e(r,o,i)}:n}function RA(t,n){const e=t.hostBindings;t.hostBindings=e?(r,o)=>{n(r,o),e(r,o)}:n}let Vf=null;function Il(){if(!Vf){const t=h.Symbol;if(t&&t.iterator)Vf=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<n.length;++e){const r=n[e];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Vf=r)}}}return Vf}function Bu(t){return!!function vg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Il()in t)}function ri(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function $s(t,n,e,r){const o=it();return ri(o,Xn(),n)&&(Ln(),Ns(Kt(),o,t,n,e,r)),$s}function Mc(t,n,e,r,o,i){const a=function Ml(t,n,e,r){const o=ri(t,n,e);return ri(t,n+1,r)||o}(t,function Jn(){return gn.lFrame.bindingIndex}(),e,o);return Dr(2),a?n+J(e)+r+J(o)+i:En}function wn(t,n,e,r,o,i,s,a){const c=it(),f=Ln(),y=t+22,v=f.firstCreatePass?function jA(t,n,e,r,o,i,s,a,c){const f=n.consts,y=Sc(n,t,4,s||null,ds(f,a));dg(n,e,y,ds(f,c)),ur(n,y);const v=y.tViews=ug(2,y,r,o,i,n.directiveRegistry,n.pipeRegistry,null,n.schemas,f);return null!==n.queries&&(n.queries.template(n,y),v.queries=n.queries.embeddedTView(y)),y}(y,f,c,n,e,r,o,i,s):f.data[y];rs(v,!1);const D=c[11].createComment("");Tf(f,c,D,v),ni(D,c),$f(c,c[y]=Hw(D,c,D,v)),yl(v)&&lg(f,c,v),null!=s&&cg(c,v,a)}function $i(t){return na(function Mn(){return gn.lFrame.contextLView}(),22+t)}function gt(t,n,e){const r=it();return ri(r,Xn(),n)&&function Li(t,n,e,r,o,i,s,a){const c=di(n,e);let y,f=n.inputs;!a&&null!=f&&(y=f[r])?(Zw(t,e,y,r,o),gl(n)&&function aA(t,n){const e=Jo(n,t);16&e[2]||(e[2]|=32)}(e,n.index)):3&n.type&&(r=function sA(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),o=null!=s?s(o,n.value||"",r):o,i.setProperty(c,r,o))}(Ln(),Kt(),r,t,n,r[11],e,!1),gt}function _g(t,n,e,r,o){const s=o?"class":"style";Zw(t,e,n.inputs[s],s,r)}function _e(t,n,e,r){const o=it(),i=Ln(),s=22+t,a=o[11],c=o[s]=Im(a,n,function nn(){return gn.lFrame.currentNamespace}()),f=i.firstCreatePass?function GA(t,n,e,r,o,i,s){const a=n.consts,f=Sc(n,t,2,o,ds(a,i));return dg(n,e,f,ds(a,s)),null!==f.attrs&&Bf(f,f.attrs,!1),null!==f.mergedAttrs&&Bf(f,f.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,f),f}(s,i,o,0,n,e,r):i.data[s];rs(f,!0);const y=f.mergedAttrs;null!==y&&pf(a,c,y);const v=f.classes;null!==v&&Pm(a,c,v);const D=f.styles;return null!==D&&z0(a,c,D),64!=(64&f.flags)&&Tf(i,o,c,f),0===function df(){return gn.lFrame.elementDepthCount}()&&ni(c,o),function ff(){gn.lFrame.elementDepthCount++}(),yl(f)&&(lg(i,o,f),Pw(i,f,o)),null!==r&&cg(o,f),_e}function fe(){let t=br();yu()?vu():(t=t.parent,rs(t,!1));const n=t;!function Wh(){gn.lFrame.elementDepthCount--}();const e=Ln();return e.firstCreatePass&&(ur(e,t),Jl(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function JM(t){return 0!=(16&t.flags)}(n)&&_g(e,n,it(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function ek(t){return 0!=(32&t.flags)}(n)&&_g(e,n,it(),n.stylesWithoutHost,!1),fe}function wt(t,n,e,r){return _e(t,n,e,r),fe(),wt}function jf(t,n,e){const r=it(),o=Ln(),i=t+22,s=o.firstCreatePass?function zA(t,n,e,r,o){const i=n.consts,s=ds(i,r),a=Sc(n,t,8,"ng-container",s);return null!==s&&Bf(a,s,!0),dg(n,e,a,ds(i,o)),null!==n.queries&&n.queries.elementStart(n,a),a}(i,o,r,n,e):o.data[i];rs(s,!0);const a=r[i]=r[11].createComment("");return Tf(o,r,a,s),ni(a,r),yl(s)&&(lg(o,r,s),Pw(o,s,r)),null!=e&&cg(r,s),jf}function Uf(){let t=br();const n=Ln();return yu()?vu():(t=t.parent,rs(t,!1)),n.firstCreatePass&&(ur(n,t),Jl(t)&&n.queries.elementEnd(t)),Uf}function xr(){return it()}function Hu(t){return!!t&&"function"==typeof t.then}function ib(t){return!!t&&"function"==typeof t.subscribe}const wg=ib;function ct(t,n,e,r){const o=it(),i=Ln(),s=br();return function ab(t,n,e,r,o,i,s,a){const c=yl(r),y=t.firstCreatePass&&zw(t),v=n[8],D=Gw(n);let x=!0;if(3&r.type||a){const We=di(r,n),Be=a?a(We):We,st=D.length,Ye=a?qt=>a(Hr(qt[r.index])):r.index;let ot=null;if(!a&&c&&(ot=function WA(t,n,e,r){const o=t.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===e&&o[i+1]===r){const a=n[7],c=o[i+2];return a.length>c?a[c]:null}"string"==typeof s&&(i+=2)}return null}(t,n,o,r.index)),null!==ot)(ot.__ngLastListenerFn__||ot).__ngNextListenerFn__=i,ot.__ngLastListenerFn__=i,x=!1;else{i=cb(r,n,v,i,!1);const qt=e.listen(Be,o,i);D.push(i,qt),y&&y.push(o,Ye,st,st+1)}}else i=cb(r,n,v,i,!1);const Q=r.outputs;let Ie;if(x&&null!==Q&&(Ie=Q[o])){const We=Ie.length;if(We)for(let Be=0;Be<We;Be+=2){const ln=n[Ie[Be]][Ie[Be+1]].subscribe(i),Io=D.length;D.push(i,ln),y&&y.push(o,r.index,Io,-(Io+1))}}}(i,o,o[11],s,t,n,0,r),ct}function lb(t,n,e,r){try{return!1!==e(r)}catch(o){return qw(t,o),!1}}function cb(t,n,e,r,o){return function i(s){if(s===Function)return r;hg(2&t.flags?Jo(t.index,n):n);let c=lb(n,0,r,s),f=i.__ngNextListenerFn__;for(;f;)c=lb(n,0,f,s)&&c,f=f.__ngNextListenerFn__;return o&&!1===c&&(s.preventDefault(),s.returnValue=!1),c}}function rn(t=1){return function kn(t){return(gn.lFrame.contextLView=function Bn(t,n){for(;t>0;)n=n[15],t--;return n}(t,gn.lFrame.contextLView))[8]}(t)}function qA(t,n){let e=null;const r=function ox(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(0==(1&e))return n[e+1]}return null}(t);for(let o=0;o<n.length;o++){const i=n[o];if("*"!==i){if(null===r?Y0(t,i,!0):ax(r,i))return o}else e=o}return e}function Et(t){const n=it()[16][6];if(!n.projection){const r=n.projection=Du(t?t.length:1,null),o=r.slice();let i=n.child;for(;null!==i;){const s=t?qA(i,t):0;null!==s&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i),i=i.next}}}function St(t,n=0,e){const r=it(),o=Ln(),i=Sc(o,22+t,16,null,e||null);null===i.projection&&(i.projection=n),vu(),64!=(64&i.flags)&&function XT(t,n,e){G0(n[11],0,n,e,F0(t,e,n),$0(e.parent||n[6],e,n))}(o,r,i)}function _b(t,n,e,r,o){const i=t[e+1],s=null===n;let a=r?ps(i):ia(i),c=!1;for(;0!==a&&(!1===c||s);){const y=t[a+1];KA(t[a],n)&&(c=!0,t[a+1]=r?Qm(y):Km(y)),a=r?ps(y):ia(y)}c&&(t[e+1]=r?Km(i):Qm(i))}function KA(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&mc(t,n)>=0}function ju(t,n,e){return hs(t,n,e,!1),ju}function ja(t,n){return hs(t,n,null,!0),ja}function hs(t,n,e,r){const o=it(),i=Ln(),s=Dr(2);i.firstUpdatePass&&function Mb(t,n,e,r){const o=t.data;if(null===o[e+1]){const i=o[Pt()],s=function Ib(t,n){return n>=t.expandoStartIndex}(t,e);(function Ab(t,n){return 0!=(t.flags&(n?16:32))})(i,r)&&null===n&&!s&&(n=!1),n=function iP(t,n,e,r){const o=function tn(t){const n=gn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let i=r?n.residualClasses:n.residualStyles;if(null===o)0===(r?n.classBindings:n.styleBindings)&&(e=Uu(e=Cg(null,t,n,e,r),n.attrs,r),i=null);else{const s=n.directiveStylingLast;if(-1===s||t[s]!==o)if(e=Cg(o,t,n,e,r),null===i){let c=function sP(t,n,e){const r=e?n.classBindings:n.styleBindings;if(0!==ia(r))return t[ps(r)]}(t,n,r);void 0!==c&&Array.isArray(c)&&(c=Cg(null,t,n,c[1],r),c=Uu(c,n.attrs,r),function aP(t,n,e,r){t[ps(e?n.classBindings:n.styleBindings)]=r}(t,n,r,c))}else i=function lP(t,n,e){let r;const o=n.directiveEnd;for(let i=1+n.directiveStylingLast;i<o;i++)r=Uu(r,t[i].hostAttrs,e);return Uu(r,n.attrs,e)}(t,n,r)}return void 0!==i&&(r?n.residualClasses=i:n.residualStyles=i),e}(o,i,n,r),function ZA(t,n,e,r,o,i){let s=i?n.classBindings:n.styleBindings,a=ps(s),c=ia(s);t[r]=e;let y,f=!1;if(Array.isArray(e)){const v=e;y=v[1],(null===y||mc(v,y)>0)&&(f=!0)}else y=e;if(o)if(0!==c){const D=ps(t[a+1]);t[r+1]=Rf(D,a),0!==D&&(t[D+1]=Xm(t[D+1],r)),t[a+1]=function jx(t,n){return 131071&t|n<<17}(t[a+1],r)}else t[r+1]=Rf(a,0),0!==a&&(t[a+1]=Xm(t[a+1],r)),a=r;else t[r+1]=Rf(c,0),0===a?a=r:t[c+1]=Xm(t[c+1],r),c=r;f&&(t[r+1]=Km(t[r+1])),_b(t,y,r,!0),_b(t,y,r,!1),function YA(t,n,e,r,o){const i=o?t.residualClasses:t.residualStyles;null!=i&&"string"==typeof n&&mc(i,n)>=0&&(e[r+1]=Qm(e[r+1]))}(n,y,t,r,i),s=Rf(a,c),i?n.classBindings=s:n.styleBindings=s}(o,i,n,e,s,r)}}(i,t,s,r),n!==En&&ri(o,s,n)&&function Tb(t,n,e,r,o,i,s,a){if(!(3&n.type))return;const c=t.data,f=c[a+1];zf(function Cw(t){return 1==(1&t)}(f)?xb(c,n,e,o,ia(f),s):void 0)||(zf(i)||function bw(t){return 2==(2&t)}(f)&&(i=xb(c,null,e,o,a,s)),function JT(t,n,e,r,o){if(n)o?t.addClass(e,r):t.removeClass(e,r);else{let i=-1===r.indexOf("-")?void 0:Ii.DashCase;null==o?t.removeStyle(e,r,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Ii.Important),t.setStyle(e,r,o,i))}}(r,s,vl(Pt(),e),o,i))}(i,i.data[Pt()],o,o[11],t,o[s+1]=function dP(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Nn(Ni(t)))),t}(n,e),r,s)}function Cg(t,n,e,r,o){let i=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(i=n[a],r=Uu(r,i.hostAttrs,o),i!==t);)a++;return null!==t&&(e.directiveStylingLast=a),r}function Uu(t,n,e){const r=e?1:2;let o=-1;if(null!==n)for(let i=0;i<n.length;i++){const s=n[i];"number"==typeof s?o=s:o===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Oi(t,s,!!e||n[++i]))}return void 0===t?null:t}function xb(t,n,e,r,o,i){const s=null===n;let a;for(;o>0;){const c=t[o],f=Array.isArray(c),y=f?c[1]:c,v=null===y;let D=e[o+1];D===En&&(D=v?m:void 0);let x=v?nm(D,r):y===r?D:void 0;if(f&&!zf(x)&&(x=nm(c,r)),zf(x)&&(a=x,s))return a;const Q=t[o+1];o=s?ps(Q):ia(Q)}if(null!==n){let c=i?n.residualClasses:n.residualStyles;null!=c&&(a=nm(c,r))}return a}function zf(t){return void 0!==t}function tt(t,n=""){const e=it(),r=Ln(),o=t+22,i=r.firstCreatePass?Sc(r,o,1,n,null):r.data[o],s=e[o]=function Dm(t,n){return t.createText(n)}(e[11],n);Tf(r,e,s,i),rs(i,!1)}function gs(t){return Mi("",t,""),gs}function Mi(t,n,e){const r=it(),o=function Ic(t,n,e,r){return ri(t,Xn(),e)?n+J(e)+r:En}(r,t,n,e);return o!==En&&sa(r,Pt(),o),Mi}function Wf(t,n,e,r,o){const i=it(),s=Mc(i,t,n,e,r,o);return s!==En&&sa(i,Pt(),s),Wf}const Nc="en-US";let Qb=Nc;function Dg(t,n,e,r,o){if(t=N(t),Array.isArray(t))for(let i=0;i<t.length;i++)Dg(t[i],n,e,r,o);else{const i=Ln(),s=it();let a=El(t)?t:N(t.provide),c=lw(t);const f=br(),y=1048575&f.providerIndexes,v=f.directiveStart,D=f.providerIndexes>>20;if(El(t)||!t.multi){const x=new _u(c,o,C),Q=Mg(a,n,o?y:y+D,v);-1===Q?(yf(bu(f,s),i,a),Ig(i,t,n.length),n.push(a),f.directiveStart++,f.directiveEnd++,o&&(f.providerIndexes+=1048576),e.push(x),s.push(x)):(e[Q]=x,s[Q]=x)}else{const x=Mg(a,n,y+D,v),Q=Mg(a,n,y,y+D),Ie=x>=0&&e[x],We=Q>=0&&e[Q];if(o&&!We||!o&&!Ie){yf(bu(f,s),i,a);const Be=function TR(t,n,e,r,o){const i=new _u(t,e,C);return i.multi=[],i.index=n,i.componentProviders=0,SC(i,o,r&&!e),i}(o?kR:MR,e.length,o,r,c);!o&&We&&(e[Q].providerFactory=Be),Ig(i,t,n.length,0),n.push(a),f.directiveStart++,f.directiveEnd++,o&&(f.providerIndexes+=1048576),e.push(Be),s.push(Be)}else Ig(i,t,x>-1?x:Q,SC(e[o?Q:x],c,!o&&r));!o&&r&&We&&e[Q].componentProviders++}}}function Ig(t,n,e,r){const o=El(n),i=function vx(t){return!!t.useClass}(n);if(o||i){const c=(i?N(n.useClass):n).prototype.ngOnDestroy;if(c){const f=t.destroyHooks||(t.destroyHooks=[]);if(!o&&n.multi){const y=f.indexOf(e);-1===y?f.push(e,[r,c]):f[y+1].push(r,c)}else f.push(e,c)}}}function SC(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function Mg(t,n,e,r){for(let o=e;o<r;o++)if(n[o]===t)return o;return-1}function MR(t,n,e,r){return kg(this.multi,[])}function kR(t,n,e,r){const o=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Cu(e,e[1],this.providerFactory.index,r);i=a.slice(0,s),kg(o,i);for(let c=s;c<a.length;c++)i.push(a[c])}else i=[],kg(o,i);return i}function kg(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function pr(t,n=[]){return e=>{e.providersResolver=(r,o)=>function IR(t,n,e){const r=Ln();if(r.firstCreatePass){const o=Ei(t);Dg(e,r.data,r.blueprint,o,!0),Dg(n,r.data,r.blueprint,o,!1)}}(r,o?o(t):t,n)}}class AR{resolveComponentFactory(n){throw function xR(t){const n=Error(`No component factory found for ${Nn(t)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=t,n}(n)}}let aa=(()=>{class t{}return t.NULL=new AR,t})();class Ua{}class DC{}class IC{}function RR(){return $c(br(),it())}function $c(t,n){return new ut(di(t,n))}let ut=(()=>{class t{constructor(e){this.nativeElement=e}}return t.__NG_ELEMENT_ID__=RR,t})();function FR(t){return t instanceof ut?t.nativeElement:t}class MC{}let la=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function OR(){const t=it(),e=Jo(br().index,t);return(No(e)?e:t)[11]}(),t})(),NR=(()=>{class t{}return t.\u0275prov=ft({token:t,providedIn:"root",factory:()=>null}),t})();class Zu{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const LR=new Zu("14.0.6"),Tg={};function Xf(t,n,e,r,o=!1){for(;null!==e;){const i=n[e.index];if(null!==i&&r.push(Hr(i)),Si(i))for(let a=10;a<i.length;a++){const c=i[a],f=c[1].firstChild;null!==f&&Xf(c[1],c,f,r)}const s=e.type;if(8&s)Xf(t,n,e.child,r);else if(32&s){const a=Cm(e,n);let c;for(;c=a();)r.push(c)}else if(16&s){const a=j0(n,e);if(Array.isArray(a))r.push(...a);else{const c=Nu(n[16]);Xf(c[1],c,a,r,!0)}}e=o?e.projectionNext:e.next}return r}class Yu{constructor(n,e){this._lView=n,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,e=n[1];return Xf(e,n,e.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(Si(n)){const e=n[8],r=e?e.indexOf(this):-1;r>-1&&(Mm(n,r),_f(e,r))}this._attachedToViewContainer=!1}R0(this._lView[1],this._lView)}onDestroy(n){Fw(this._lView[1],this._lView,null,n)}markForCheck(){hg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function mg(t,n,e){const r=n[10];r.begin&&r.begin();try{$u(t,n,t.template,e)}catch(o){throw qw(n,o),o}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new P(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function UT(t,n){Lu(t,n,n[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new P(902,!1);this._appRef=n}}class $R extends Yu{constructor(n){super(n),this._view=n}detectChanges(){Uw(this._view)}checkNoChanges(){}get context(){return null}}class xg extends aa{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=Yt(n);return new Ag(e,this.ngModule)}}function kC(t){const n=[];for(let e in t)t.hasOwnProperty(e)&&n.push({propName:t[e],templateName:e});return n}class VR{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,r){const o=this.injector.get(n,Tg,r);return o!==Tg||e===Tg?o:this.parentInjector.get(n,e,r)}}class Ag extends IC{constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function cx(t){return t.map(lx).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return kC(this.componentDef.inputs)}get outputs(){return kC(this.componentDef.outputs)}create(n,e,r,o){var i;let s=(o=o||this.ngModule)instanceof Dl?o:null===(i=o)||void 0===i?void 0:i.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new VR(n,s):n,c=a.get(MC,null);if(null===c)throw new P(407,!1);const f=a.get(NR,null),y=c.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",D=r?function rA(t,n,e){return t.selectRootElement(n,e===en.ShadowDom)}(y,r,this.componentDef.encapsulation):Im(c.createRenderer(null,this.componentDef),v,function BR(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(v)),x=this.componentDef.onPush?288:272,Q=function kA(t,n){return{components:[],scheduler:t||PT,clean:DA,playerHandler:n||null,flags:0}}(),Ie=ug(0,null,null,1,0,null,null,null,null,null),We=Nf(null,Ie,Q,x,null,null,c,y,f,a,null);let Be,st;H(We);try{const Ye=function IA(t,n,e,r,o,i){const s=e[1];e[22]=t;const c=Sc(s,22,2,"#host",null),f=c.mergedAttrs=n.hostAttrs;null!==f&&(Bf(c,f,!0),null!==t&&(pf(o,t,f),null!==c.classes&&Pm(o,t,c.classes),null!==c.styles&&z0(o,t,c.styles)));const y=r.createRenderer(t,n),v=Nf(e,Rw(n),null,n.onPush?32:16,e[22],c,r,y,i||null,null,null);return s.firstCreatePass&&(yf(bu(c,e),s,n.type),$w(s,c),Bw(c,e.length,1)),$f(e,v),e[22]=v}(D,this.componentDef,We,c,y);if(D)if(r)pf(y,D,["ng-version",LR.full]);else{const{attrs:ot,classes:qt}=function ux(t){const n=[],e=[];let r=1,o=2;for(;r<t.length;){let i=t[r];if("string"==typeof i)2===o?""!==i&&n.push(i,t[++r]):8===o&&e.push(i);else{if(!fs(o))break;o=i}r++}return{attrs:n,classes:e}}(this.componentDef.selectors[0]);ot&&pf(y,D,ot),qt&&qt.length>0&&Pm(y,D,qt.join(" "))}if(st=oc(Ie,22),void 0!==e){const ot=st.projection=[];for(let qt=0;qt<this.ngContentSelectors.length;qt++){const ln=e[qt];ot.push(null!=ln?Array.from(ln):null)}}Be=function MA(t,n,e,r,o){const i=e[1],s=function cA(t,n,e){const r=br();t.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),Vw(t,r,n,Ec(t,n,1,null),e));const o=Cu(n,t,r.directiveStart,r);ni(o,n);const i=di(r,n);return i&&ni(i,n),o}(i,e,n);if(r.components.push(s),t[8]=s,null!==o)for(const c of o)c(s,n);if(n.contentQueries){const c=br();n.contentQueries(1,s,c.directiveStart)}const a=br();return!i.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||($t(a.index),Nw(e[1],a,0,a.directiveStart,a.directiveEnd,n),Lw(n,s)),s}(Ye,this.componentDef,We,Q,[TA]),Lf(Ie,We,null)}finally{Qt()}return new jR(this.componentType,Be,$c(st,We),We,st)}}class jR extends class PR{}{constructor(n,e,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new $R(o),this.componentType=n}get injector(){return new uc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class TC extends Ua{constructor(n,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new xg(this);const r=jn(n);this._bootstrapComponents=oa(r.bootstrap),this._r3Injector=uw(n,e,[{provide:Ua,useValue:this},{provide:aa,useValue:this.componentFactoryResolver}],Nn(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this.get(n)}get(n,e=gr.THROW_IF_NOT_FOUND,r=Nt.Default){return n===gr||n===Ua||n===Nm?this:this._r3Injector.get(n,e,r)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Pg extends DC{constructor(n){super(),this.moduleType=n}create(n){return new TC(this.moduleType,n)}}class GR extends Ua{constructor(n,e,r){super(),this.componentFactoryResolver=new xg(this),this.instance=null;const o=new aw([...n,{provide:Ua,useValue:this},{provide:aa,useValue:this.componentFactoryResolver}],e||Bm(),r,new Set(["environment"]));this.injector=o,o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function Qf(t,n=null,e=null){return new GR(t,n,e).injector}function NC(t,n,e,r,o,i){const s=n+e;return ri(t,s,o)?function Ls(t,n,e){return t[n]=e}(t,s+1,i?r.call(i,o):r(o)):function Ku(t,n){const e=t[n];return e===En?void 0:e}(t,s+1)}function Tl(t,n){const e=Ln();let r;const o=t+22;e.firstCreatePass?(r=function d2(t,n){if(n)for(let e=n.length-1;e>=0;e--){const r=n[e];if(t===r.name)return r}}(n,e.pipeRegistry),e.data[o]=r,r.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(o,r.onDestroy)):r=e.data[o];const i=r.factory||(r.factory=Ps(r.type)),s=Oo(C);try{const a=mf(!1),c=i();return mf(a),function UA(t,n,e,r){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=r}(e,it(),o,c),c}finally{Oo(s)}}function xl(t,n,e){const r=t+22,o=it(),i=na(o,r);return function Xu(t,n){return t[1].data[n].pure}(o,r)?NC(o,function $e(){const t=gn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}(),n,i.transform,e,i):i.transform(e)}function Fg(t){return n=>{setTimeout(t,void 0,n)}}const yn=class g2 extends z{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,e,r){let o=n,i=e||(()=>null),s=r;if(n&&"object"==typeof n){var a,c,f;const v=n;o=null===(a=v.next)||void 0===a?void 0:a.bind(v),i=null===(c=v.error)||void 0===c?void 0:c.bind(v),s=null===(f=v.complete)||void 0===f?void 0:f.bind(v)}this.__isAsync&&(i=Fg(i),o&&(o=Fg(o)),s&&(s=Fg(s)));const y=super.subscribe({next:o,error:i,complete:s});return n instanceof W&&n.add(y),y}};function y2(){return this._results[Il()]()}class Og{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Il(),r=Og.prototype;r[e]||(r[e]=y2)}get changes(){return this._changes||(this._changes=new yn)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){const r=this;r.dirty=!1;const o=Fi(n);(this._changesDetected=!function dk(t,n,e){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++){let o=t[r],i=n[r];if(e&&(o=e(o),i=e(i)),i!==o)return!1}return!0}(r._results,o,e))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ki=(()=>{class t{}return t.__NG_ELEMENT_ID__=w2,t})();const v2=ki,_2=class extends v2{constructor(n,e,r){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=r}createEmbeddedView(n,e){const r=this._declarationTContainer.tViews,o=Nf(this._declarationLView,r,n,16,null,r.declTNode,null,null,null,null,e||null);o[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(o[19]=s.createEmbeddedView(r)),Lf(r,o,n),new Yu(o)}};function w2(){return Jf(br(),it())}function Jf(t,n){return 4&t.type?new _2(n,t,$c(t,n)):null}let oi=(()=>{class t{}return t.__NG_ELEMENT_ID__=b2,t})();function b2(){return UC(br(),it())}const C2=oi,HC=class extends C2{constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return $c(this._hostTNode,this._hostLView)}get injector(){return new uc(this._hostTNode,this._hostLView)}get parentInjector(){const n=gf(this._hostTNode,this._hostLView);if(L_(n)){const e=cc(n,this._hostLView),r=lc(n);return new uc(e[1].data[r+8],e)}return new uc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=jC(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,e,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const s=n.createEmbeddedView(e||{},i);return this.insert(s,o),s}createComponent(n,e,r,o,i){const s=n&&!function Eu(t){return"function"==typeof t}(n);let a;if(s)a=e;else{const v=e||{};a=v.index,r=v.injector,o=v.projectableNodes,i=v.environmentInjector||v.ngModuleRef}const c=s?n:new Ag(Yt(n)),f=r||this.parentInjector;if(!i&&null==c.ngModule){const D=(s?f:this.parentInjector).get(Dl,null);D&&(i=D)}const y=c.create(f,o,void 0,i);return this.insert(y.hostView,a),y}insert(n,e){const r=n._lView,o=r[1];if(function uf(t){return Si(t[3])}(r)){const y=this.indexOf(n);if(-1!==y)this.detach(y);else{const v=r[3],D=new HC(v,v[6],v[3]);D.detach(D.indexOf(n))}}const i=this._adjustIndex(e),s=this._lContainer;!function zT(t,n,e,r){const o=10+r,i=e.length;r>0&&(e[o-1][4]=n),r<i-10?(n[4]=e[o],Z_(e,10+r,n)):(e.push(n),n[4]=null),n[3]=e;const s=n[17];null!==s&&e!==s&&function WT(t,n){const e=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===e?t[9]=[n]:e.push(n)}(s,n);const a=n[19];null!==a&&a.insertView(t),n[2]|=64}(o,r,s,i);const a=xm(i,s),c=r[11],f=kf(c,s[7]);return null!==f&&function jT(t,n,e,r,o,i){r[0]=o,r[6]=n,Lu(t,r,e,1,o,i)}(o,s[6],c,r,f,a),n.attachToViewContainerRef(),Z_(Ng(s),i,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=jC(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),r=Mm(this._lContainer,e);r&&(_f(Ng(this._lContainer),e),R0(r[1],r))}detach(n){const e=this._adjustIndex(n,-1),r=Mm(this._lContainer,e);return r&&null!=_f(Ng(this._lContainer),e)?new Yu(r):null}_adjustIndex(n,e=0){return n??this.length+e}};function jC(t){return t[8]}function Ng(t){return t[8]||(t[8]=[])}function UC(t,n){let e;const r=n[t.index];if(Si(r))e=r;else{let o;if(8&t.type)o=Hr(r);else{const i=n[11];o=i.createComment("");const s=di(t,n);Sl(i,kf(i,s),o,function KT(t,n){return t.nextSibling(n)}(i,s),!1)}n[t.index]=e=Hw(r,n,o,t),$f(n,e)}return new HC(e,t,n)}class Lg{constructor(n){this.queryList=n,this.matches=null}clone(){return new Lg(this.queryList)}setDirty(){this.queryList.setDirty()}}class $g{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const r=null!==n.contentQueries?n.contentQueries[0]:e.length,o=[];for(let i=0;i<r;i++){const s=e.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new $g(o)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==ZC(n,e).matches&&this.queries[e].setDirty()}}class GC{constructor(n,e,r=null){this.predicate=n,this.flags=e,this.read=r}}class Bg{constructor(n=[]){this.queries=n}elementStart(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let r=0;r<this.length;r++){const o=null!==e?e.length:0,i=this.getByIndex(r).embeddedTView(n,o);i&&(i.indexInDeclarationView=r,null!==e?e.push(i):e=[i])}return null!==e?new Bg(e):null}template(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Vg{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new Vg(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const i=r[o];this.matchTNodeWithReadOption(n,e,D2(e,i)),this.matchTNodeWithReadOption(n,e,vf(e,n,i,!1,!1))}else r===ki?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,vf(e,n,r,!1,!1))}matchTNodeWithReadOption(n,e,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===ut||o===oi||o===ki&&4&e.type)this.addMatch(e.index,-2);else{const i=vf(e,n,o,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,r)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function D2(t,n){const e=t.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===n)return e[r+1];return null}function M2(t,n,e,r){return-1===e?function I2(t,n){return 11&t.type?$c(t,n):4&t.type?Jf(t,n):null}(n,t):-2===e?function k2(t,n,e){return e===ut?$c(n,t):e===ki?Jf(n,t):e===oi?UC(n,t):void 0}(t,n,r):Cu(t,t[1],e,n)}function zC(t,n,e,r){const o=n[19].queries[r];if(null===o.matches){const i=t.data,s=e.matches,a=[];for(let c=0;c<s.length;c+=2){const f=s[c];a.push(f<0?null:M2(n,i[f],s[c+1],e.metadata.read))}o.matches=a}return o.matches}function Hg(t,n,e,r){const o=t.queries.getByIndex(e),i=o.matches;if(null!==i){const s=zC(t,n,o,e);for(let a=0;a<i.length;a+=2){const c=i[a];if(c>0)r.push(s[a/2]);else{const f=i[a+1],y=n[-c];for(let v=10;v<y.length;v++){const D=y[v];D[17]===D[3]&&Hg(D[1],D,f,r)}if(null!==y[9]){const v=y[9];for(let D=0;D<v.length;D++){const x=v[D];Hg(x[1],x,f,r)}}}}}return r}function Bi(t){const n=it(),e=Ln(),r=l();g(r+1);const o=ZC(e,r);if(t.dirty&&hu(n)===(2==(2&o.metadata.flags))){if(null===o.matches)t.reset([]);else{const i=o.crossesNgTemplate?Hg(e,n,r,[]):zC(e,n,o,r);t.reset(i,FR),t.notifyOnChanges()}return!0}return!1}function Qu(t,n,e){const r=Ln();r.firstCreatePass&&(qC(r,new GC(t,n,e),-1),2==(2&n)&&(r.staticViewQueries=!0)),WC(r,it(),n)}function Vi(){return function T2(t,n){return t[19].queries[n].queryList}(it(),l())}function WC(t,n,e){const r=new Og(4==(4&e));Fw(t,n,r,r.destroy),null===n[19]&&(n[19]=new $g),n[19].queries.push(new Lg(r))}function qC(t,n,e){null===t.queries&&(t.queries=new Bg),t.queries.track(new Vg(n,e))}function ZC(t,n){return t.queries.getByIndex(n)}function tp(...t){}const Al=new an("Application Initializer");let np=(()=>{class t{constructor(e){this.appInits=e,this.resolve=tp,this.reject=tp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o})}runInitializers(){if(this.initialized)return;const e=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let o=0;o<this.appInits.length;o++){const i=this.appInits[o]();if(Hu(i))e.push(i);else if(wg(i)){const s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});e.push(s)}}Promise.all(e).then(()=>{r()}).catch(o=>{this.reject(o)}),0===e.length&&r(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(me(Al,8))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ed=new an("AppId",{providedIn:"root",factory:function pS(){return`${Wg()}${Wg()}${Wg()}`}});function Wg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const hS=new an("Platform Initializer"),jc=new an("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),mS=new an("appBootstrapListener");let X2=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const ua=new an("LocaleId",{providedIn:"root",factory:()=>bl(ua,Nt.Optional|Nt.SkipSelf)||function Q2(){return typeof $localize<"u"&&$localize.locale||Nc}()});class eF{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let qg=(()=>{class t{compileModuleSync(e){return new Pg(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),i=oa(jn(e).declarations).reduce((s,a)=>{const c=Yt(a);return c&&s.push(new Ag(c)),s},[]);return new eF(r,i)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const rF=(()=>Promise.resolve(0))();function Zg(t){typeof Zone>"u"?rF.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class rt{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yn(!1),this.onMicrotaskEmpty=new yn(!1),this.onStable=new yn(!1),this.onError=new yn(!1),typeof Zone>"u")throw new P(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&e,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function oF(){let t=h.requestAnimationFrame,n=h.cancelAnimationFrame;if(typeof Zone<"u"&&t&&n){const e=t[Zone.__symbol__("OriginalDelegate")];e&&(t=e);const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function aF(t){const n=()=>{!function sF(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(h,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Kg(t),t.isCheckStableRunning=!0,Yg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Kg(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,o,i,s,a)=>{try{return vS(t),e.invokeTask(o,i,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||t.shouldCoalesceRunChangeDetection)&&n(),_S(t)}},onInvoke:(e,r,o,i,s,a,c)=>{try{return vS(t),e.invoke(o,i,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&n(),_S(t)}},onHasTask:(e,r,o,i)=>{e.hasTask(o,i),r===o&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Kg(t),Yg(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,r,o,i)=>(e.handleError(o,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!rt.isInAngularZone())throw new P(909,!1)}static assertNotInAngularZone(){if(rt.isInAngularZone())throw new P(909,!1)}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,n,iF,tp,tp);try{return i.runTask(s,e,r)}finally{i.cancelTask(s)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}}const iF={};function Yg(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Kg(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function vS(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function _S(t){t._nesting--,Yg(t)}class lF{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yn,this.onMicrotaskEmpty=new yn,this.onStable=new yn,this.onError=new yn}run(n,e,r){return n.apply(e,r)}runGuarded(n,e,r){return n.apply(e,r)}runOutsideAngular(n){return n()}runTask(n,e,r,o){return n.apply(e,r)}}const wS=new an(""),rp=new an("");let Jg,Xg=(()=>{class t{constructor(e,r,o){this._ngZone=e,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Jg||(function cF(t){Jg=t}(o),o.addToWindow(r)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{rt.assertNotInAngularZone(),Zg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Zg(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==i),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:o})}whenStable(e,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,r,o){return[]}}return t.\u0275fac=function(e){return new(e||t)(me(rt),me(Qg),me(rp))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),Qg=(()=>{class t{constructor(){this._applications=new Map}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){var o,i;return null!==(o=null===(i=Jg)||void 0===i?void 0:i.findTestabilityInTree(this,e,r))&&void 0!==o?o:null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),Ga=null;const bS=new an("AllowMultipleToken"),ey=new an("PlatformDestroyListeners");class CS{constructor(n,e){this.name=n,this.token=e}}function ES(t,n,e=[]){const r=`Platform: ${n}`,o=new an(r);return(i=[])=>{let s=ty();if(!s||s.injector.get(bS,!1)){const a=[...e,...i,{provide:o,useValue:!0}];t?t(a):function fF(t){if(Ga&&!Ga.get(bS,!1))throw new P(400,!1);Ga=t;const n=t.get(IS);(function SS(t){const n=t.get(hS,null);n&&n.forEach(e=>e())})(t)}(function DS(t=[],n){return gr.create({name:n,providers:[{provide:Lm,useValue:"platform"},{provide:ey,useValue:new Set([()=>Ga=null])},...t]})}(a,r))}return function hF(t){const n=ty();if(!n)throw new P(401,!1);return n}()}}function ty(){var t,n;return null!==(t=null===(n=Ga)||void 0===n?void 0:n.get(IS))&&void 0!==t?t:null}let IS=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const o=function mF(t,n){let e;return e="noop"===t?new lF:("zone.js"===t?void 0:t)||new rt(n),e}(r?.ngZone,function MS(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),i=[{provide:rt,useValue:o}];return o.run(()=>{const s=gr.create({providers:i,parent:this.injector,name:e.moduleType.name}),a=e.create(s),c=a.injector.get(vc,null);if(!c)throw new P(402,!1);return o.runOutsideAngular(()=>{const f=o.onError.subscribe({next:y=>{c.handleError(y)}});a.onDestroy(()=>{op(this._modules,a),f.unsubscribe()})}),function kS(t,n,e){try{const r=e();return Hu(r)?r.catch(o=>{throw n.runOutsideAngular(()=>t.handleError(o)),o}):r}catch(r){throw n.runOutsideAngular(()=>t.handleError(r)),r}}(c,o,()=>{const f=a.injector.get(np);return f.runInitializers(),f.donePromise.then(()=>(function Jb(t){Fr(t,"Expected localeId to be defined"),"string"==typeof t&&(Qb=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(ua,Nc)||Nc),this._moduleDoBootstrap(a),a))})})}bootstrapModule(e,r=[]){const o=TS({},r);return function uF(t,n,e){const r=new Pg(e);return Promise.resolve(r)}(0,0,e).then(i=>this.bootstrapModuleFactory(i,o))}_moduleDoBootstrap(e){const r=e.injector.get(za);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new P(403,!1);e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new P(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const e=this._injector.get(ey,null);e&&(e.forEach(r=>r()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(me(gr))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function TS(t,n){return Array.isArray(n)?n.reduce(TS,t):{...t,...n}}let za=(()=>{class t{constructor(e,r,o){this._zone=e,this._injector=r,this._exceptionHandler=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const i=new at(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new at(a=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{rt.assertNotInAngularZone(),Zg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const f=this._zone.onUnstable.subscribe(()=>{rt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{c.unsubscribe(),f.unsubscribe()}});this.isStable=Zo(i,s.pipe(_i()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,r){const o=e instanceof IC;if(!this._injector.get(np).done)throw!o&&function Vc(t){const n=Yt(t)||Ut(t)||cr(t);return null!==n&&n.standalone}(e),new P(405,false);let s;s=o?e:this._injector.get(aa).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function dF(t){return t.isBoundToModule}(s)?void 0:this._injector.get(Ua),f=s.create(gr.NULL,[],r||s.selector,a),y=f.location.nativeElement,v=f.injector.get(wS,null);return v?.registerApplication(y),f.onDestroy(()=>{this.detachView(f.hostView),op(this.components,f),v?.unregisterApplication(y)}),this._loadComponent(f),f}tick(){if(this._runningTick)throw new P(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;op(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(mS,[]).concat(this._bootstrapListeners).forEach(o=>o(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>op(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new P(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(e){return new(e||t)(me(rt),me(gr),me(vc))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function op(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}let AS=!0,bt=(()=>{class t{}return t.__NG_ELEMENT_ID__=vF,t})();function vF(t){return function _F(t,n,e){if(gl(t)&&!e){const r=Jo(t.index,n);return new Yu(r,r)}return 47&t.type?new Yu(n[16],n):null}(br(),it(),16==(16&t))}class NS{constructor(){}supports(n){return Bu(n)}create(n){return new DF(n)}}const EF=(t,n)=>n;class DF{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||EF}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,o=0,i=null;for(;e||r;){const s=!r||e&&e.currentIndex<$S(r,o,i)?e:r,a=$S(s,o,i),c=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(e=e._next,null==s.previousIndex)o++;else{i||(i=[]);const f=a-o,y=c-o;if(f!=y){for(let D=0;D<f;D++){const x=D<i.length?i[D]:i[D]=0,Q=x+D;y<=Q&&Q<f&&(i[D]=x+1)}i[s.previousIndex]=y-f}}a!==c&&n(s,a,c)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!Bu(n))throw new P(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let o,i,s,e=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)i=n[a],s=this._trackByFn(a,i),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,i,s,a)),Object.is(e.item,i)||this._addIdentityChange(e,i)):(e=this._mismatch(e,i,s,a),r=!0),e=e._next}else o=0,function $A(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[Il()]();let r;for(;!(r=e.next()).done;)n(r.value)}}(n,a=>{s=this._trackByFn(o,a),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,a,s,o)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,o),r=!0),e=e._next,o++}),this.length=o;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,o){let i;return null===n?i=this._itTail:(i=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,i,o)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,i,o)):n=this._addAfter(new IF(e,r),i,o),n}_verifyReinsertion(n,e,r,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?n=this._reinsertAfter(i,n._prev,o):n.currentIndex!=o&&(n.currentIndex=o,this._addToMoves(n,o)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const o=n._prevRemoved,i=n._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){const o=null===e?this._itHead:e._next;return n._next=o,n._prev=e,null===o?this._itTail=n:o._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new LS),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,r=n._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new LS),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class IF{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class MF{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const e=n._prevDup,r=n._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class LS{constructor(){this.map=new Map}put(n){const e=n.trackById;let r=this.map.get(e);r||(r=new MF,this.map.set(e,r)),r.add(n)}get(n,e){const o=this.map.get(n);return o?o.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $S(t,n,e){const r=t.previousIndex;if(null===r)return r;let o=0;return e&&r<e.length&&(o=e[r]),r+n+o}function VS(){return new td([new NS])}let td=(()=>{class t{constructor(e){this.factories=e}static create(e,r){if(null!=r){const o=r.factories.slice();e=e.concat(o)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||VS()),deps:[[t,new Tu,new Ba]]}}find(e){const r=this.factories.find(o=>o.supports(e));if(null!=r)return r;throw new P(901,!1)}}return t.\u0275prov=ft({token:t,providedIn:"root",factory:VS}),t})();const PF=ES(null,"core",[]);let RF=(()=>{class t{constructor(e){}}return t.\u0275fac=function(e){return new(e||t)(me(za))},t.\u0275mod=jt({type:t}),t.\u0275inj=Kn({}),t})(),ap=null;function Hs(){return ap}const Eo=new an("DocumentToken");let lp=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:function(){return function LF(){return me(jS)}()},providedIn:"platform"}),t})();const $F=new an("Location Initialized");let jS=(()=>{class t extends lp{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Hs().getBaseHref(this._doc)}onPopState(e){const r=Hs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=Hs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,o){US()?this._history.pushState(e,r,o):this.location.hash=o}replaceState(e,r,o){US()?this._history.replaceState(e,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(me(Eo))},t.\u0275prov=ft({token:t,factory:function(){return function BF(){return new jS(me(Eo))}()},providedIn:"platform"}),t})();function US(){return!!window.history.pushState}function sy(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function GS(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function pa(t){return t&&"?"!==t[0]?"?"+t:t}let js=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:function(){return function VF(){const t=me(Eo).location;return new WS(me(lp),t&&t.origin||"")}()},providedIn:"root"}),t})();const zS=new an("appBaseHref");let WS=(()=>{class t extends js{constructor(e,r){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return sy(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+pa(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${r}${o}`:r}pushState(e,r,o,i){const s=this.prepareExternalUrl(o+pa(i));this._platformLocation.pushState(e,r,s)}replaceState(e,r,o,i){const s=this.prepareExternalUrl(o+pa(i));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){var r,o;null===(r=(o=this._platformLocation).historyGo)||void 0===r||r.call(o,e)}}return t.\u0275fac=function(e){return new(e||t)(me(lp),me(zS,8))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),qS=(()=>{class t extends js{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=sy(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,o,i){let s=this.prepareExternalUrl(o+pa(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,r,s)}replaceState(e,r,o,i){let s=this.prepareExternalUrl(o+pa(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){var r,o;null===(r=(o=this._platformLocation).historyGo)||void 0===r||r.call(o,e)}}return t.\u0275fac=function(e){return new(e||t)(me(lp),me(zS,8))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),rd=(()=>{class t{constructor(e){this._subject=new yn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._baseHref=GS(ZS(r)),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){var e;null===(e=this._urlChangeSubscription)||void 0===e||e.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+pa(r))}normalize(e){return t.stripTrailingSlash(function jF(t,n){return t&&n.startsWith(t)?n.substring(t.length):n}(this._baseHref,ZS(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",o=null){this._locationStrategy.pushState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+pa(r)),o)}replaceState(e,r="",o=null){this._locationStrategy.replaceState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+pa(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){var r,o;null===(r=(o=this._locationStrategy).historyGo)||void 0===r||r.call(o,e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);var o;this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(null===(o=this._urlChangeSubscription)||void 0===o||o.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(o=>o(e,r))}subscribe(e,r,o){return this._subject.subscribe({next:e,error:r,complete:o})}}return t.normalizeQueryParams=pa,t.joinWithSlash=sy,t.stripTrailingSlash=GS,t.\u0275fac=function(e){return new(e||t)(me(js))},t.\u0275prov=ft({token:t,factory:function(){return function HF(){return new rd(me(js))}()},providedIn:"root"}),t})();function ZS(t){return t.replace(/\/index.html$/,"")}function rE(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const r=e.indexOf("="),[o,i]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(o.trim()===n)return decodeURIComponent(i)}return null}class MO{constructor(n,e,r,o){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Uc=(()=>{class t{constructor(e,r,o){this._viewContainer=e,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((o,i,s)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new MO(o.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===i?void 0:i);else if(null!==i){const a=r.get(i);r.move(a,s),sE(a,o)}});for(let o=0,i=r.length;o<i;o++){const a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{sE(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(e,r){return!0}}return t.\u0275fac=function(e){return new(e||t)(C(oi),C(ki),C(td))},t.\u0275dir=Ee({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();function sE(t,n){t.context.$implicit=n.item}let Ho=(()=>{class t{constructor(e,r){this._viewContainer=e,this._context=new TO,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){aE("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){aE("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return t.\u0275fac=function(e){return new(e||t)(C(oi),C(ki))},t.\u0275dir=Ee({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class TO{constructor(){this.$implicit=null,this.ngIf=null}}function aE(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Nn(n)}'.`)}class FO{createSubscription(n,e){return n.subscribe({next:e,error:r=>{throw r}})}dispose(n){n.unsubscribe()}}class OO{createSubscription(n,e){return n.then(e,r=>{throw r})}dispose(n){}}const NO=new OO,LO=new FO;let cE=(()=>{class t{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if(Hu(e))return NO;if(ib(e))return LO;throw function _s(t,n){return new P(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(C(bt,16))},t.\u0275pipe=lt({name:"async",type:t,pure:!1}),t})(),Us=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Kn({}),t})();const dE="browser";function ma(t){return t===dE}let rN=(()=>{class t{}return t.\u0275prov=ft({token:t,providedIn:"root",factory:()=>new oN(me(Eo),window)}),t})();class oN{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function iN(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(n)||i.querySelector(`[name="${n}"]`);if(s)return s}o=r.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}}scrollToElement(n){const e=n.getBoundingClientRect(),r=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=fE(this.window.history)||fE(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function fE(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class pE{}class by extends class sN extends class NF{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function OF(t){ap||(ap=t)}(new by)}onAndCancel(n,e,r){return n.addEventListener(e,r,!1),()=>{n.removeEventListener(e,r,!1)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function aN(){return sd=sd||document.querySelector("base"),sd?sd.getAttribute("href"):null}();return null==e?null:function lN(t){vp=vp||document.createElement("a"),vp.setAttribute("href",t);const n=vp.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){sd=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return rE(document.cookie,n)}}let vp,sd=null;const hE=new an("TRANSITION_ID"),uN=[{provide:Al,useFactory:function cN(t,n,e){return()=>{e.get(np).donePromise.then(()=>{const r=Hs(),o=n.querySelectorAll(`style[ng-transition="${t}"]`);for(let i=0;i<o.length;i++)r.remove(o[i])})}},deps:[hE,Eo,gr],multi:!0}];let fN=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const _p=new an("EventManagerPlugins");let wp=(()=>{class t{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(o=>o.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,o){return this._findPluginFor(r).addEventListener(e,r,o)}addGlobalEventListener(e,r,o){return this._findPluginFor(r).addGlobalEventListener(e,r,o)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const o=this._plugins;for(let i=0;i<o.length;i++){const s=o[i];if(s.supports(e))return this._eventNameToPlugin.set(e,s),s}throw new Error(`No event manager plugin found for event ${e}`)}}return t.\u0275fac=function(e){return new(e||t)(me(_p),me(rt))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();class mE{constructor(n){this._doc=n}addGlobalEventListener(n,e,r){const o=Hs().getGlobalEventTarget(this._doc,n);if(!o)throw new Error(`Unsupported event target ${o} for event ${e}`);return this.addEventListener(o,e,r)}}let gE=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),ad=(()=>{class t extends gE{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,o){e.forEach(i=>{const s=this._doc.createElement("style");s.textContent=i,o.push(r.appendChild(s))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(yE),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(e,o,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(yE))}}return t.\u0275fac=function(e){return new(e||t)(me(Eo))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();function yE(t){Hs().remove(t)}const Cy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Sy=/%COMP%/g;function bp(t,n,e){for(let r=0;r<n.length;r++){let o=n[r];Array.isArray(o)?bp(t,o,e):(o=o.replace(Sy,t),e.push(o))}return e}function wE(t){return n=>{if("__ngUnwrap__"===n)return t;!1===t(n)&&(n.preventDefault(),n.returnValue=!1)}}let Ey=(()=>{class t{constructor(e,r,o){this.eventManager=e,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Dy(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case en.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new vN(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(e),o}case 1:case en.ShadowDom:return new _N(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const o=bp(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(me(wp),me(ad),me(ed))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();class Dy{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?document.createElementNS(Cy[e]||e,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,e){(CE(n)?n.content:n).appendChild(e)}insertBefore(n,e,r){n&&(CE(n)?n.content:n).insertBefore(e,r)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let r="string"==typeof n?document.querySelector(n):n;if(!r)throw new Error(`The selector "${n}" did not match any elements`);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,o){if(o){e=o+":"+e;const i=Cy[o];i?n.setAttributeNS(i,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){const o=Cy[r];o?n.removeAttributeNS(o,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,o){o&(Ii.DashCase|Ii.Important)?n.style.setProperty(e,r,o&Ii.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&Ii.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){n[e]=r}setValue(n,e){n.nodeValue=e}listen(n,e,r){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,e,wE(r)):this.eventManager.addEventListener(n,e,wE(r))}}function CE(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class vN extends Dy{constructor(n,e,r,o){super(n),this.component=r;const i=bp(o+"-"+r.id,r.styles,[]);e.addStyles(i),this.contentAttr=function mN(t){return"_ngcontent-%COMP%".replace(Sy,t)}(o+"-"+r.id),this.hostAttr=function gN(t){return"_nghost-%COMP%".replace(Sy,t)}(o+"-"+r.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,e){const r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}}class _N extends Dy{constructor(n,e,r,o){super(n),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=bp(o.id,o.styles,[]);for(let s=0;s<i.length;s++){const a=document.createElement("style");a.textContent=i[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let wN=(()=>{class t extends mE{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,o){return e.addEventListener(r,o,!1),()=>this.removeEventListener(e,r,o)}removeEventListener(e,r,o){return e.removeEventListener(r,o)}}return t.\u0275fac=function(e){return new(e||t)(me(Eo))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const SE=["alt","control","meta","shift"],CN={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},EE={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},SN={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let EN=(()=>{class t extends mE{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,r,o){const i=t.parseEventName(r),s=t.eventCallback(i.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Hs().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const r=e.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const i=t._normalizeKey(r.pop());let s="";if(SE.forEach(c=>{const f=r.indexOf(c);f>-1&&(r.splice(f,1),s+=c+".")}),s+=i,0!=r.length||0===i.length)return null;const a={};return a.domEventName=o,a.fullKey=s,a}static getEventFullKey(e){let r="",o=function DN(t){let n=t.key;if(null==n){if(n=t.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===t.location&&EE.hasOwnProperty(n)&&(n=EE[n]))}return CN[n]||n}(e);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),SE.forEach(i=>{i!=o&&SN[i](e)&&(r+=i+".")}),r+=o,r}static eventCallback(e,r,o){return i=>{t.getEventFullKey(i)===e&&o.runGuarded(()=>r(i))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return t.\u0275fac=function(e){return new(e||t)(me(Eo))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const DE=[{provide:jc,useValue:dE},{provide:hS,useValue:function IN(){by.makeCurrent()},multi:!0},{provide:Eo,useFactory:function kN(){return function Nk(t){am=t}(document),document},deps:[]}],TN=ES(PF,"browser",DE),IE=new an(""),ME=[{provide:rp,useClass:class dN{addToWindow(n){h.getAngularTestability=(r,o=!0)=>{const i=n.findTestabilityInTree(r,o);if(null==i)throw new Error("Could not find testability for element.");return i},h.getAllAngularTestabilities=()=>n.getAllTestabilities(),h.getAllAngularRootElements=()=>n.getAllRootElements(),h.frameworkStabilizers||(h.frameworkStabilizers=[]),h.frameworkStabilizers.push(r=>{const o=h.getAllAngularTestabilities();let i=o.length,s=!1;const a=function(c){s=s||c,i--,0==i&&r(s)};o.forEach(function(c){c.whenStable(a)})})}findTestabilityInTree(n,e,r){return null==e?null:n.getTestability(e)??(r?Hs().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:wS,useClass:Xg,deps:[rt,Qg,rp]},{provide:Xg,useClass:Xg,deps:[rt,Qg,rp]}],kE=[{provide:Lm,useValue:"root"},{provide:vc,useFactory:function MN(){return new vc},deps:[]},{provide:_p,useClass:wN,multi:!0,deps:[Eo,rt,jc]},{provide:_p,useClass:EN,multi:!0,deps:[Eo]},{provide:Ey,useClass:Ey,deps:[wp,ad,ed]},{provide:MC,useExisting:Ey},{provide:gE,useExisting:ad},{provide:ad,useClass:ad,deps:[Eo]},{provide:wp,useClass:wp,deps:[_p,rt]},{provide:pE,useClass:fN,deps:[]},[]];let xN=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:ed,useValue:e.appId},{provide:hE,useExisting:ed},uN]}}}return t.\u0275fac=function(e){return new(e||t)(me(IE,12))},t.\u0275mod=jt({type:t}),t.\u0275inj=Kn({providers:[...kE,...ME],imports:[Us,RF]}),t})(),TE=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return t.\u0275fac=function(e){return new(e||t)(me(Eo))},t.\u0275prov=ft({token:t,factory:function(e){let r=null;return r=e?new e:function PN(){return new TE(me(Eo))}(),r},providedIn:"root"}),t})();typeof window<"u"&&window;let ky=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:function(e){let r=null;return r=e?new(e||t):me(PE),r},providedIn:"root"}),t})(),PE=(()=>{class t extends ky{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case Cr.NONE:return r;case Cr.HTML:return Fs(r,"HTML")?Ni(r):_0(this._doc,String(r)).toString();case Cr.STYLE:return Fs(r,"Style")?Ni(r):r;case Cr.SCRIPT:if(Fs(r,"Script"))return Ni(r);throw new Error("unsafe value used in a script context");case Cr.URL:return Fs(r,"URL")?Ni(r):Pu(String(r));case Cr.RESOURCE_URL:if(Fs(r,"ResourceURL"))return Ni(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function zk(t){return new Bk(t)}(e)}bypassSecurityTrustStyle(e){return function Wk(t){return new Vk(t)}(e)}bypassSecurityTrustScript(e){return function qk(t){return new Hk(t)}(e)}bypassSecurityTrustUrl(e){return function Zk(t){return new jk(t)}(e)}bypassSecurityTrustResourceUrl(e){return function Yk(t){return new Uk(t)}(e)}}return t.\u0275fac=function(e){return new(e||t)(me(Eo))},t.\u0275prov=ft({token:t,factory:function(e){let r=null;return r=e?new e:function VN(t){return new PE(t.get(Eo))}(me(gr)),r},providedIn:"root"}),t})();var To=R(1158),HN=R(9233),Gc=R.n(HN);let Cp,Sp;function RE(t){if(!window.location.hash.startsWith(t))return;const n=window.location.hash.split("?")[1];if(!n)return;const e=n.split("&").map(r=>r.split("="));for(const[r,o]of e)if("url"===r&&o)try{return decodeURIComponent(o)}catch{continue}}function FE(){return void 0!==Sp}class OE{constructor(){this.requestEvent=new To.j}dispatchRequest(n){if(n){try{n=new(Gc())(n).toString()}catch{return void console.error(`invalid URL: ${n}`)}this.url=n,this.requestEvent.dispatch()}}hasPendingRequest(){return void 0!==this.url}receivePendingUrl(){const n=this.url;return this.url=void 0,n}}let Ty=(()=>{class t{constructor(){this.installation=new OE,this.import=new OE,Cp&&this.installation.dispatchRequest(Cp),Sp&&this.import.dispatchRequest(Sp)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function vn(...t){return Gn(t,I(t))}function zc(t,n){return k(n)?zt(t,n,1):zt(t,1)}function jo(t,n){return Re((e,r)=>{let o=0;e.subscribe(et(r,i=>t.call(n,i,o++)&&r.next(i)))})}class NE{}class LE{}class ga{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const o=e.slice(0,r),i=o.toLowerCase(),s=e.slice(r+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(e=>{let r=n[e];const o=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(e,o))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof ga?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new ga;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof ga?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,e);const o=("a"===n.op?this.headers.get(e):void 0)||[];o.push(...r),this.headers.set(e,o);break;case"d":const i=n.value;if(i){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class GN{encodeKey(n){return $E(n)}encodeValue(n){return $E(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const WN=/%(\d[a-f0-9])/gi,qN={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function $E(t){return encodeURIComponent(t).replace(WN,(n,e)=>{var r;return null!==(r=qN[e])&&void 0!==r?r:n})}function Ep(t){return`${t}`}class qa{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new GN,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function zN(t,n){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[n.decodeKey(o),""]:[n.decodeKey(o.slice(0,i)),n.decodeValue(o.slice(i+1))],c=e.get(s)||[];c.push(a),e.set(s,c)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const r=n.fromObject[e],o=Array.isArray(r)?r.map(Ep):[Ep(r)];this.map.set(e,o)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(r=>{const o=n[r];Array.isArray(o)?o.forEach(i=>{e.push({param:r,value:i,op:"a"})}):e.push({param:r,value:o,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new qa({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(Ep(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const o=r.indexOf(Ep(n.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class ZN{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function BE(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function VE(t){return typeof Blob<"u"&&t instanceof Blob}function HE(t){return typeof FormData<"u"&&t instanceof FormData}class ld{constructor(n,e,r,o){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function YN(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,i=o):i=r,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new ga),this.context||(this.context=new ZN),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new qa,this.urlWithParams=e}serializeBody(){return null===this.body?null:BE(this.body)||VE(this.body)||HE(this.body)||function KN(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof qa?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||HE(this.body)?null:VE(this.body)?this.body.type||null:BE(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof qa?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){var e;const r=n.method||this.method,o=n.url||this.url,i=n.responseType||this.responseType,s=void 0!==n.body?n.body:this.body,a=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,c=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let f=n.headers||this.headers,y=n.params||this.params;const v=null!==(e=n.context)&&void 0!==e?e:this.context;return void 0!==n.setHeaders&&(f=Object.keys(n.setHeaders).reduce((D,x)=>D.set(x,n.setHeaders[x]),f)),n.setParams&&(y=Object.keys(n.setParams).reduce((D,x)=>D.set(x,n.setParams[x]),y)),new ld(r,o,s,{params:y,headers:f,context:v,reportProgress:c,responseType:i,withCredentials:a})}}var ho=(()=>((ho=ho||{})[ho.Sent=0]="Sent",ho[ho.UploadProgress=1]="UploadProgress",ho[ho.ResponseHeader=2]="ResponseHeader",ho[ho.DownloadProgress=3]="DownloadProgress",ho[ho.Response=4]="Response",ho[ho.User=5]="User",ho))();class xy{constructor(n,e=200,r="OK"){this.headers=n.headers||new ga,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class Ay extends xy{constructor(n={}){super(n),this.type=ho.ResponseHeader}clone(n={}){return new Ay({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Dp extends xy{constructor(n={}){super(n),this.type=ho.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new Dp({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class jE extends xy{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function Py(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Ry=(()=>{class t{constructor(e){this.handler=e}request(e,r,o={}){let i;if(e instanceof ld)i=e;else{let c,f;c=o.headers instanceof ga?o.headers:new ga(o.headers),o.params&&(f=o.params instanceof qa?o.params:new qa({fromObject:o.params})),i=new ld(e,r,void 0!==o.body?o.body:null,{headers:c,context:o.context,params:f,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const s=vn(i).pipe(zc(c=>this.handler.handle(c)));if(e instanceof ld||"events"===o.observe)return s;const a=s.pipe(jo(c=>c instanceof Dp));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(Je(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(Je(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(Je(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(Je(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new qa).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,o={}){return this.request("PATCH",e,Py(o,r))}post(e,r,o={}){return this.request("POST",e,Py(o,r))}put(e,r,o={}){return this.request("PUT",e,Py(o,r))}}return t.\u0275fac=function(e){return new(e||t)(me(NE))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();class UE{constructor(n,e){this.next=n,this.interceptor=e}handle(n){return this.interceptor.intercept(n,this.next)}}const GE=new an("HTTP_INTERCEPTORS");let XN=(()=>{class t{intercept(e,r){return r.handle(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const QN=/^\)\]\}',?\n/;let zE=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new at(r=>{const o=this.xhrFactory.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((x,Q)=>o.setRequestHeader(x,Q.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const x=e.detectContentTypeHeader();null!==x&&o.setRequestHeader("Content-Type",x)}if(e.responseType){const x=e.responseType.toLowerCase();o.responseType="json"!==x?x:"text"}const i=e.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const x=o.statusText||"OK",Q=new ga(o.getAllResponseHeaders()),Ie=function JN(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(o)||e.url;return s=new Ay({headers:Q,status:o.status,statusText:x,url:Ie}),s},c=()=>{let{headers:x,status:Q,statusText:Ie,url:We}=a(),Be=null;204!==Q&&(Be=typeof o.response>"u"?o.responseText:o.response),0===Q&&(Q=Be?200:0);let st=Q>=200&&Q<300;if("json"===e.responseType&&"string"==typeof Be){const Ye=Be;Be=Be.replace(QN,"");try{Be=""!==Be?JSON.parse(Be):null}catch(ot){Be=Ye,st&&(st=!1,Be={error:ot,text:Be})}}st?(r.next(new Dp({body:Be,headers:x,status:Q,statusText:Ie,url:We||void 0})),r.complete()):r.error(new jE({error:Be,headers:x,status:Q,statusText:Ie,url:We||void 0}))},f=x=>{const{url:Q}=a(),Ie=new jE({error:x,status:o.status||0,statusText:o.statusText||"Unknown Error",url:Q||void 0});r.error(Ie)};let y=!1;const v=x=>{y||(r.next(a()),y=!0);let Q={type:ho.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(Q.total=x.total),"text"===e.responseType&&!!o.responseText&&(Q.partialText=o.responseText),r.next(Q)},D=x=>{let Q={type:ho.UploadProgress,loaded:x.loaded};x.lengthComputable&&(Q.total=x.total),r.next(Q)};return o.addEventListener("load",c),o.addEventListener("error",f),o.addEventListener("timeout",f),o.addEventListener("abort",f),e.reportProgress&&(o.addEventListener("progress",v),null!==i&&o.upload&&o.upload.addEventListener("progress",D)),o.send(i),r.next({type:ho.Sent}),()=>{o.removeEventListener("error",f),o.removeEventListener("abort",f),o.removeEventListener("load",c),o.removeEventListener("timeout",f),e.reportProgress&&(o.removeEventListener("progress",v),null!==i&&o.upload&&o.upload.removeEventListener("progress",D)),o.readyState!==o.DONE&&o.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(me(pE))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const Fy=new an("XSRF_COOKIE_NAME"),Oy=new an("XSRF_HEADER_NAME");class WE{}let eL=(()=>{class t{constructor(e,r,o){this.doc=e,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=rE(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(me(Eo),me(jc),me(Fy))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),Ny=(()=>{class t{constructor(e,r){this.tokenService=e,this.headerName=r}intercept(e,r){const o=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||o.startsWith("http://")||o.startsWith("https://"))return r.handle(e);const i=this.tokenService.getToken();return null!==i&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,i)})),r.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(me(WE),me(Oy))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),tL=(()=>{class t{constructor(e,r){this.backend=e,this.injector=r,this.chain=null}handle(e){if(null===this.chain){const r=this.injector.get(GE,[]);this.chain=r.reduceRight((o,i)=>new UE(o,i),this.backend)}return this.chain.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(me(LE),me(gr))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),nL=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:Ny,useClass:XN}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:Fy,useValue:e.cookieName}:[],e.headerName?{provide:Oy,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Kn({providers:[Ny,{provide:GE,useExisting:Ny,multi:!0},{provide:WE,useClass:eL},{provide:Fy,useValue:"XSRF-TOKEN"},{provide:Oy,useValue:"X-XSRF-TOKEN"}]}),t})(),rL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Kn({providers:[Ry,{provide:NE,useClass:tL},zE,{provide:LE,useExisting:zE}],imports:[nL.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),t})();const{isArray:oL}=Array,{getPrototypeOf:iL,prototype:sL,keys:aL}=Object;function qE(t){if(1===t.length){const n=t[0];if(oL(n))return{args:n,keys:null};if(function lL(t){return t&&"object"==typeof t&&iL(t)===sL}(n)){const e=aL(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:t,keys:null}}const{isArray:cL}=Array;function Ly(t){return Je(n=>function uL(t,n){return cL(n)?t(...n):t(n)}(t,n))}function ZE(t,n){return t.reduce((e,r,o)=>(e[r]=n[o],e),{})}let YE=(()=>{class t{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return t.\u0275fac=function(e){return new(e||t)(C(la),C(ut))},t.\u0275dir=Ee({type:t}),t})(),Rl=(()=>{class t extends YE{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Vo(t)))(r||t)}}(),t.\u0275dir=Ee({type:t,features:[qn]}),t})();const mi=new an("NgValueAccessor"),pL={provide:mi,useExisting:T(()=>$y),multi:!0},mL=new an("CompositionEventMode");let $y=(()=>{class t extends YE{constructor(e,r,o){super(e,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function hL(){const t=Hs()?Hs().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return t.\u0275fac=function(e){return new(e||t)(C(la),C(ut),C(mL,8))},t.\u0275dir=Ee({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&ct("input",function(i){return r._handleInput(i.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(i){return r._compositionEnd(i.target.value)})},features:[pr([pL]),qn]}),t})();function Za(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function XE(t){return null!=t&&"number"==typeof t.length}const ii=new an("NgValidators"),Ya=new an("NgAsyncValidators"),yL=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class By{static min(n){return function QE(t){return n=>{if(Za(n.value)||Za(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}(n)}static max(n){return function JE(t){return n=>{if(Za(n.value)||Za(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}(n)}static required(n){return function eD(t){return Za(t.value)?{required:!0}:null}(n)}static requiredTrue(n){return function tD(t){return!0===t.value?null:{required:!0}}(n)}static email(n){return function nD(t){return Za(t.value)||yL.test(t.value)?null:{email:!0}}(n)}static minLength(n){return function rD(t){return n=>Za(n.value)||!XE(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static maxLength(n){return oD(n)}static pattern(n){return function iD(t){if(!t)return Ip;let n,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),r=>{if(Za(r.value))return null;const o=r.value;return n.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}(n)}static nullValidator(n){return null}static compose(n){return dD(n)}static composeAsync(n){return fD(n)}}function oD(t){return n=>XE(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}function Ip(t){return null}function sD(t){return null!=t}function aD(t){return Hu(t)?Gn(t):t}function lD(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function cD(t,n){return n.map(e=>e(t))}function uD(t){return t.map(n=>function vL(t){return!t.validate}(n)?n:e=>n.validate(e))}function dD(t){if(!t)return null;const n=t.filter(sD);return 0==n.length?null:function(e){return lD(cD(e,n))}}function Vy(t){return null!=t?dD(uD(t)):null}function fD(t){if(!t)return null;const n=t.filter(sD);return 0==n.length?null:function(e){return function dL(...t){const n=yo(t),{args:e,keys:r}=qE(t),o=new at(i=>{const{length:s}=e;if(!s)return void i.complete();const a=new Array(s);let c=s,f=s;for(let y=0;y<s;y++){let v=!1;S(e[y]).subscribe(et(i,D=>{v||(v=!0,f--),a[y]=D},()=>c--,void 0,()=>{(!c||!v)&&(f||i.next(r?ZE(r,a):a),i.complete())}))}});return n?o.pipe(Ly(n)):o}(cD(e,n).map(aD)).pipe(Je(lD))}}function Hy(t){return null!=t?fD(uD(t)):null}function pD(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function hD(t){return t._rawValidators}function mD(t){return t._rawAsyncValidators}function jy(t){return t?Array.isArray(t)?t:[t]:[]}function Mp(t,n){return Array.isArray(t)?t.includes(n):t===n}function gD(t,n){const e=jy(n);return jy(t).forEach(o=>{Mp(e,o)||e.push(o)}),e}function yD(t,n){return jy(n).filter(e=>!Mp(t,e))}class vD{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Vy(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Hy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class gi extends vD{get formDirective(){return null}get path(){return null}}class ya extends vD{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class _D{constructor(n){this._cd=n}get isTouched(){var n,e;return!(null===(n=this._cd)||void 0===n||null===(e=n.control)||void 0===e||!e.touched)}get isUntouched(){var n,e;return!(null===(n=this._cd)||void 0===n||null===(e=n.control)||void 0===e||!e.untouched)}get isPristine(){var n,e;return!(null===(n=this._cd)||void 0===n||null===(e=n.control)||void 0===e||!e.pristine)}get isDirty(){var n,e;return!(null===(n=this._cd)||void 0===n||null===(e=n.control)||void 0===e||!e.dirty)}get isValid(){var n,e;return!(null===(n=this._cd)||void 0===n||null===(e=n.control)||void 0===e||!e.valid)}get isInvalid(){var n,e;return!(null===(n=this._cd)||void 0===n||null===(e=n.control)||void 0===e||!e.invalid)}get isPending(){var n,e;return!(null===(n=this._cd)||void 0===n||null===(e=n.control)||void 0===e||!e.pending)}get isSubmitted(){var n;return!(null===(n=this._cd)||void 0===n||!n.submitted)}}let Fl=(()=>{class t extends _D{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(C(ya,2))},t.\u0275dir=Ee({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&ja("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[qn]}),t})(),Ol=(()=>{class t extends _D{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(C(gi,10))},t.\u0275dir=Ee({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&ja("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[qn]}),t})();const cd="VALID",Tp="INVALID",Wc="PENDING",ud="DISABLED";function Wy(t){return(xp(t)?t.validators:t)||null}function bD(t){return Array.isArray(t)?Vy(t):t||null}function qy(t,n){return(xp(n)?n.asyncValidators:t)||null}function CD(t){return Array.isArray(t)?Hy(t):t||null}function xp(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class DD{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=e,this._composedValidatorFn=bD(this._rawValidators),this._composedAsyncValidatorFn=CD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===cd}get invalid(){return this.status===Tp}get pending(){return this.status==Wc}get disabled(){return this.status===ud}get enabled(){return this.status!==ud}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=bD(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=CD(n)}addValidators(n){this.setValidators(gD(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(gD(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(yD(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(yD(n,this._rawAsyncValidators))}hasValidator(n){return Mp(this._rawValidators,n)}hasAsyncValidator(n){return Mp(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Wc,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=ud,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=cd,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===cd||this.status===Wc)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ud:cd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Wc,this._hasOwnPendingAsyncValidator=!0;const e=aD(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,o)=>r&&r._find(o),this)}getError(n,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new yn,this.statusChanges=new yn}_calculateStatus(){return this._allControlsDisabled()?ud:this.errors?Tp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Wc)?Wc:this._anyControlsHaveStatus(Tp)?Tp:cd}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){xp(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}}class qc extends DD{constructor(n,e,r){super(Wy(e),qy(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,r={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){(function ED(t,n,e){t._forEachChild((r,o)=>{if(void 0===e[o])throw new P(1002,"")})})(this,0,n),Object.keys(n).forEach(r=>{(function SD(t,n,e){const r=t.controls;if(!(n?Object.keys(r):r).length)throw new P(1e3,"");if(!r[e])throw new P(1001,"")})(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(r=>{const o=this.controls[r];o&&o.patchValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((r,o)=>{r.reset(n[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,r)=>(n[r]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&n(r,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&n(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,o)=>((r.enabled||this.disabled)&&(e[o]=r.value),e))}_reduceChildren(n,e){let r=n;return this._forEachChild((o,i)=>{r=e(r,o,i)}),r}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}const Ap=qc;function dd(t,n){var e,r;Zy(t,n),n.valueAccessor.writeValue(t.value),t.disabled&&(null===(e=(r=n.valueAccessor).setDisabledState)||void 0===e||e.call(r,!0)),function ML(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&ID(t,n)})}(t,n),function TL(t,n){const e=(r,o)=>{n.valueAccessor.writeValue(r),o&&n.viewToModelUpdate(r)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function kL(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&ID(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function IL(t,n){if(n.valueAccessor.setDisabledState){const e=r=>{n.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function Rp(t,n,e=!0){const r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),Op(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Fp(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function Zy(t,n){const e=hD(t);null!==n.validator?t.setValidators(pD(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const r=mD(t);null!==n.asyncValidator?t.setAsyncValidators(pD(r,n.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const o=()=>t.updateValueAndValidity();Fp(n._rawValidators,o),Fp(n._rawAsyncValidators,o)}function Op(t,n){let e=!1;if(null!==t){if(null!==n.validator){const o=hD(t);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==n.validator);i.length!==o.length&&(e=!0,t.setValidators(i))}}if(null!==n.asyncValidator){const o=mD(t);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==n.asyncValidator);i.length!==o.length&&(e=!0,t.setAsyncValidators(i))}}}const r=()=>{};return Fp(n._rawValidators,r),Fp(n._rawAsyncValidators,r),e}function ID(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function xD(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function AD(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const va=class extends DD{constructor(n=null,e,r){super(Wy(e),qy(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xp(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=AD(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){xD(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){xD(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){AD(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},xo=va;let Nl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ee({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),LD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Kn({}),t})();const Qy=new an("NgModelWithFormControlWarning"),UL={provide:gi,useExisting:T(()=>_a)};let _a=(()=>{class t extends gi{constructor(e,r){super(),this.validators=e,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new yn,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Op(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return dd(r,e),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){Rp(e.control||null,e,!1),function RL(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,function TD(t,n){t._syncPendingControls(),n.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,o=this.form.get(e.path);r!==o&&(Rp(r||null,e),(t=>t instanceof va)(o)&&(dd(o,e),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);(function MD(t,n){Zy(t,n)})(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function xL(t,n){return Op(t,n)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Zy(this.form,this),this._oldForm&&Op(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(C(ii,10),C(Ya,10))},t.\u0275dir=Ee({type:t,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&ct("submit",function(i){return r.onSubmit(i)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[pr([UL]),qn,bo]}),t})();const WL={provide:ya,useExisting:T(()=>Ka)};let Ka=(()=>{class t extends ya{constructor(e,r,o,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new yn,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function Ky(t,n){if(!n)return null;let e,r,o;return Array.isArray(n),n.forEach(i=>{i.constructor===$y?e=i:function PL(t){return Object.getPrototypeOf(t.constructor)===Rl}(i)?r=i:o=i}),o||r||e||null}(0,i)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function Yy(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function Pp(t,n){return[...n.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(e){return new(e||t)(C(gi,13),C(ii,10),C(Ya,10),C(mi,10),C(Qy,8))},t.\u0275dir=Ee({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[pr([WL]),qn,bo]}),t})();let Ll=(()=>{class t{constructor(){this._validator=Ip}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Ip,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ee({type:t,features:[bo]}),t})();const i3={provide:ii,useExisting:T(()=>ov),multi:!0};let ov=(()=>{class t extends Ll{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function GD(t){return"number"==typeof t?t:parseInt(t,10)}(e),this.createValidator=e=>oD(e)}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Vo(t)))(r||t)}}(),t.\u0275dir=Ee({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&$s("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[pr([i3]),qn]}),t})(),QD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Kn({imports:[LD]}),t})(),$l=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Kn({imports:[QD]}),t})(),Np=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Qy,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Kn({imports:[QD]}),t})();const l3=["addListener","removeListener"],c3=["addEventListener","removeEventListener"],u3=["on","off"];function pd(t,n,e,r){if(k(e)&&(r=e,e=void 0),r)return pd(t,n,e).pipe(Ly(r));const[o,i]=function p3(t){return k(t.addEventListener)&&k(t.removeEventListener)}(t)?c3.map(s=>a=>t[s](n,a,e)):function d3(t){return k(t.addListener)&&k(t.removeListener)}(t)?l3.map(JD(t,n)):function f3(t){return k(t.on)&&k(t.off)}(t)?u3.map(JD(t,n)):[];if(!o&&pn(t))return zt(s=>pd(s,n,e))(S(t));if(!o)throw new TypeError("Invalid event target");return new at(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return o(a),()=>i(a)})}function JD(t,n){return e=>r=>t[e](n,r)}class Hi extends z{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:r}=this;if(n)throw e;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function e1(...t){const n=I(t),e=yo(t),{args:r,keys:o}=qE(t);if(0===r.length)return Gn([],n);const i=new at(function h3(t,n,e=K){return r=>{t1(n,()=>{const{length:o}=t,i=new Array(o);let s=o,a=o;for(let c=0;c<o;c++)t1(n,()=>{const f=Gn(t[c],n);let y=!1;f.subscribe(et(r,v=>{i[c]=v,y||(y=!0,a--),a||r.next(e(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,n,o?s=>ZE(o,s):K));return e?i.pipe(Ly(e)):i}function t1(t,n,e){t?_r(e,t,n):n()}function Zc(t,n){const e=k(t)?t:()=>t,r=o=>o.error(e());return new at(n?o=>n.schedule(r,0,o):r)}const hd=d(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function md(...t){return function m3(){return eo(1)}()(Gn(t,I(t)))}function Lp(t){return new at(n=>{S(t()).subscribe(n)})}function iv(){return Re((t,n)=>{let e=null;t._refCount++;const r=et(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const o=t._connection,i=e;e=null,o&&(!i||o===i)&&o.unsubscribe(),n.unsubscribe()});t.subscribe(r),r.closed||(e=t.connect())})}class sv extends at{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Te(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new W;const e=this.getSubject();n.add(this.source.subscribe(et(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=W.EMPTY)}return n}refCount(){return iv()(this)}}function xi(t,n){return Re((e,r)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&r.complete();e.subscribe(et(r,c=>{o?.unsubscribe();let f=0;const y=i++;S(t(c,y)).subscribe(o=et(r,v=>r.next(n?n(c,v,y,f++):v),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function ji(t){return t<=0?()=>nr:Re((n,e)=>{let r=0;n.subscribe(et(e,o=>{++r<=t&&(e.next(o),t<=r&&e.complete())}))})}function n1(...t){const n=I(t);return Re((e,r)=>{(n?md(t,e,n):md(t,e)).subscribe(r)})}function g3(t,n,e,r,o){return(i,s)=>{let a=e,c=n,f=0;i.subscribe(et(s,y=>{const v=f++;c=a?t(c,y,v):(a=!0,y),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}function r1(t,n){return Re(g3(t,n,arguments.length>=2,!0))}function Xa(t){return Re((n,e)=>{let i,r=null,o=!1;r=n.subscribe(et(e,void 0,void 0,s=>{i=S(t(s,Xa(t)(n))),r?(r.unsubscribe(),r=null,i.subscribe(e)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(e))})}function av(t){return t<=0?()=>nr:Re((n,e)=>{let r=[];n.subscribe(et(e,o=>{r.push(o),t<r.length&&r.shift()},()=>{for(const o of r)e.next(o);e.complete()},void 0,()=>{r=null}))})}function o1(t=y3){return Re((n,e)=>{let r=!1;n.subscribe(et(e,o=>{r=!0,e.next(o)},()=>r?e.complete():e.error(t())))})}function y3(){return new hd}function lv(t){return Re((n,e)=>{let r=!1;n.subscribe(et(e,o=>{r=!0,e.next(o)},()=>{r||e.next(t),e.complete()}))})}function Qa(t,n){const e=arguments.length>=2;return r=>r.pipe(t?jo((o,i)=>t(o,i,r)):K,ji(1),e?lv(n):o1(()=>new hd))}function Uo(t,n,e){const r=k(t)||n||e?{next:t,error:n,complete:e}:t;return r?Re((o,i)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;o.subscribe(et(i,c=>{var f;null===(f=r.next)||void 0===f||f.call(r,c),i.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),i.complete()},c=>{var f;a=!1,null===(f=r.error)||void 0===f||f.call(r,c),i.error(c)},()=>{var c,f;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(f=r.finalize)||void 0===f||f.call(r)}))}):K}function cv(t){return Je(()=>t)}function uv(t){return Re((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}class wa{constructor(n,e){this.id=n,this.url=e}}class $p extends wa{constructor(n,e,r="imperative",o=null){super(n,e),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bl extends wa{constructor(n,e,r){super(n,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Bp extends wa{constructor(n,e,r){super(n,e),this.reason=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class i1 extends wa{constructor(n,e,r){super(n,e),this.error=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _3 extends wa{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class w3 extends wa{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class b3 extends wa{constructor(n,e,r,o,i){super(n,e),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class C3 extends wa{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class S3 extends wa{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class E3{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class D3{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class I3{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class M3{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class k3{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class T3{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class s1{constructor(n,e,r){this.routerEvent=n,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Pn="primary";class A3{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Yc(t){return new A3(t)}const dv="Redirecting to ",a1="ngNavigationCancelingError";function fv(t){const n=Error("NavigationCancelingError: "+(t||""));return n[a1]=!0,n}function R3(t,n,e){const r=e.path.split("/");if(r.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||r.length<t.length))return null;const o={};for(let i=0;i<r.length;i++){const s=r[i],a=t[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:o}}function Gs(t,n){const e=t?Object.keys(t):void 0,r=n?Object.keys(n):void 0;if(!e||!r||e.length!=r.length)return!1;let o;for(let i=0;i<e.length;i++)if(o=e[i],!l1(t[o],n[o]))return!1;return!0}function l1(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),r=[...n].sort();return e.every((o,i)=>r[i]===o)}return t===n}function c1(t){return Array.prototype.concat.apply([],t)}function u1(t){return t.length>0?t[t.length-1]:null}function Go(t,n){for(const e in t)t.hasOwnProperty(e)&&n(t[e],e)}function Ja(t){return wg(t)?t:Hu(t)?Gn(Promise.resolve(t)):vn(t)}const N3={exact:function p1(t,n,e){if(!Hl(t.segments,n.segments)||!Vp(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!t.children[r]||!p1(t.children[r],n.children[r],e))return!1;return!0},subset:h1},d1={exact:function L3(t,n){return Gs(t,n)},subset:function $3(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>l1(t[e],n[e]))},ignored:()=>!0};function f1(t,n,e){return N3[e.paths](t.root,n.root,e.matrixParams)&&d1[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function h1(t,n,e){return m1(t,n,n.segments,e)}function m1(t,n,e,r){if(t.segments.length>e.length){const o=t.segments.slice(0,e.length);return!(!Hl(o,e)||n.hasChildren()||!Vp(o,e,r))}if(t.segments.length===e.length){if(!Hl(t.segments,e)||!Vp(t.segments,e,r))return!1;for(const o in n.children)if(!t.children[o]||!h1(t.children[o],n.children[o],r))return!1;return!0}{const o=e.slice(0,t.segments.length),i=e.slice(t.segments.length);return!!(Hl(t.segments,o)&&Vp(t.segments,o,r)&&t.children[Pn])&&m1(t.children[Pn],n,i,r)}}function Vp(t,n,e){return n.every((r,o)=>d1[e](t[o].parameters,r.parameters))}class Vl{constructor(n,e,r){this.root=n,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yc(this.queryParams)),this._queryParamMap}toString(){return H3.serialize(this)}}class Un{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Go(e,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Hp(this)}}class gd{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Yc(this.parameters)),this._parameterMap}toString(){return _1(this)}}function Hl(t,n){return t.length===n.length&&t.every((e,r)=>e.path===n[r].path)}class hv{}class g1{parse(n){const e=new K3(n);return new Vl(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${yd(n.root,!0)}`,r=function G3(t){const n=Object.keys(t).map(e=>{const r=t[e];return Array.isArray(r)?r.map(o=>`${jp(e)}=${jp(o)}`).join("&"):`${jp(e)}=${jp(r)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${r}${"string"==typeof n.fragment?`#${function j3(t){return encodeURI(t)}(n.fragment)}`:""}`}}const H3=new g1;function Hp(t){return t.segments.map(n=>_1(n)).join("/")}function yd(t,n){if(!t.hasChildren())return Hp(t);if(n){const e=t.children[Pn]?yd(t.children[Pn],!1):"",r=[];return Go(t.children,(o,i)=>{i!==Pn&&r.push(`${i}:${yd(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function V3(t,n){let e=[];return Go(t.children,(r,o)=>{o===Pn&&(e=e.concat(n(r,o)))}),Go(t.children,(r,o)=>{o!==Pn&&(e=e.concat(n(r,o)))}),e}(t,(r,o)=>o===Pn?[yd(t.children[Pn],!1)]:[`${o}:${yd(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Pn]?`${Hp(t)}/${e[0]}`:`${Hp(t)}/(${e.join("//")})`}}function y1(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jp(t){return y1(t).replace(/%3B/gi,";")}function mv(t){return y1(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Up(t){return decodeURIComponent(t)}function v1(t){return Up(t.replace(/\+/g,"%20"))}function _1(t){return`${mv(t.path)}${function U3(t){return Object.keys(t).map(n=>`;${mv(n)}=${mv(t[n])}`).join("")}(t.parameters)}`}const z3=/^[^\/()?;=#]+/;function Gp(t){const n=t.match(z3);return n?n[0]:""}const W3=/^[^=?&#]+/,Z3=/^[^&#]+/;class K3{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Un([],{}):new Un([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(r[Pn]=new Un(n,e)),r}parseSegment(){const n=Gp(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new P(4009,!1);return this.capture(n),new gd(Up(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=Gp(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const o=Gp(this.remaining);o&&(r=o,this.capture(r))}n[Up(e)]=Up(r)}parseQueryParam(n){const e=function q3(t){const n=t.match(W3);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const s=function Y3(t){const n=t.match(Z3);return n?n[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const o=v1(e),i=v1(r);if(n.hasOwnProperty(o)){let s=n[o];Array.isArray(s)||(s=[s],n[o]=s),s.push(i)}else n[o]=i}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Gp(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new P(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):n&&(i=Pn);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s[Pn]:new Un([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new P(4011,!1)}}class w1{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=gv(n,this._root);return e?e.children.map(r=>r.value):[]}firstChild(n){const e=gv(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=yv(n,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return yv(n,this._root).map(e=>e.value)}}function gv(t,n){if(t===n.value)return n;for(const e of n.children){const r=gv(t,e);if(r)return r}return null}function yv(t,n){if(t===n.value)return[n];for(const e of n.children){const r=yv(t,e);if(r.length)return r.unshift(n),r}return[]}class ba{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function Kc(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class b1 extends w1{constructor(n,e){super(n),this.snapshot=e,vv(this,n)}toString(){return this.snapshot.toString()}}function C1(t,n){const e=function X3(t,n){const s=new zp([],{},{},"",{},Pn,n,null,t.root,-1,{});return new E1("",new ba(s,[]))}(t,n),r=new Hi([new gd("",{})]),o=new Hi({}),i=new Hi({}),s=new Hi({}),a=new Hi(""),c=new Ca(r,o,s,a,i,Pn,n,e.root);return c.snapshot=e.root,new b1(new ba(c,[]),e)}class Ca{constructor(n,e,r,o,i,s,a,c){this.url=n,this.params=e,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this._futureSnapshot=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Je(n=>Yc(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Je(n=>Yc(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function S1(t,n="emptyOnly"){const e=t.pathFromRoot;let r=0;if("always"!==n)for(r=e.length-1;r>=1;){const o=e[r],i=e[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(i.component)break;r--}}return function Q3(t){return t.reduce((n,e)=>{var r;return{params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.resolve,...null===(r=e.routeConfig)||void 0===r?void 0:r.data,...e._resolvedData}}},{params:{},data:{},resolve:{}})}(e.slice(r))}class zp{constructor(n,e,r,o,i,s,a,c,f,y,v,D){this.url=n,this.params=e,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._urlSegment=f,this._lastPathIndex=y,this._correctedLastPathIndex=D??y,this._resolve=v}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Yc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class E1 extends w1{constructor(n,e){super(e),this.url=n,vv(this,e)}toString(){return D1(this._root)}}function vv(t,n){n.value._routerState=t,n.children.forEach(e=>vv(t,e))}function D1(t){const n=t.children.length>0?` { ${t.children.map(D1).join(", ")} } `:"";return`${t.value}${n}`}function _v(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Gs(n.queryParams,e.queryParams)||t.queryParams.next(e.queryParams),n.fragment!==e.fragment&&t.fragment.next(e.fragment),Gs(n.params,e.params)||t.params.next(e.params),function F3(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!Gs(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.url.next(e.url),Gs(n.data,e.data)||t.data.next(e.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function wv(t,n){const e=Gs(t.params,n.params)&&function B3(t,n){return Hl(t,n)&&t.every((e,r)=>Gs(e.parameters,n[r].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||wv(t.parent,n.parent))}function vd(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=n.value;const o=function e$(t,n,e){return n.children.map(r=>{for(const o of e.children)if(t.shouldReuseRoute(r.value,o.value.snapshot))return vd(t,r,o);return vd(t,r)})}(t,n,e);return new ba(r,o)}{if(t.shouldAttach(n.value)){const i=t.retrieve(n.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>vd(t,a)),s}}const r=function t$(t){return new Ca(new Hi(t.url),new Hi(t.params),new Hi(t.queryParams),new Hi(t.fragment),new Hi(t.data),t.outlet,t.component,t)}(n.value),o=n.children.map(i=>vd(t,i));return new ba(r,o)}}function Wp(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function _d(t){return"object"==typeof t&&null!=t&&t.outlets}function Cv(t,n,e,r,o){let i={};if(r&&Go(r,(a,c)=>{i[c]=Array.isArray(a)?a.map(f=>`${f}`):`${a}`}),t===n)return new Vl(e,i,o);const s=I1(t,n,e);return new Vl(s,i,o)}function I1(t,n,e){const r={};return Go(t.children,(o,i)=>{r[i]=o===n?e:I1(o,n,e)}),new Un(t.segments,r)}class M1{constructor(n,e,r){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=r,n&&r.length>0&&Wp(r[0]))throw new P(4003,false);const o=r.find(_d);if(o&&o!==u1(r))throw new P(4004,false)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Sv{constructor(n,e,r){this.segmentGroup=n,this.processChildren=e,this.index=r}}function k1(t,n,e){if(t||(t=new Un([],{})),0===t.segments.length&&t.hasChildren())return qp(t,n,e);const r=function a$(t,n,e){let r=0,o=n;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(r>=e.length)return i;const s=t.segments[o],a=e[r];if(_d(a))break;const c=`${a}`,f=r<e.length-1?e[r+1]:null;if(o>0&&void 0===c)break;if(c&&f&&"object"==typeof f&&void 0===f.outlets){if(!x1(c,f,s))return i;r+=2}else{if(!x1(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(t,n,e),o=e.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const i=new Un(t.segments.slice(0,r.pathIndex),{});return i.children[Pn]=new Un(t.segments.slice(r.pathIndex),t.children),qp(i,0,o)}return r.match&&0===o.length?new Un(t.segments,{}):r.match&&!t.hasChildren()?Ev(t,n,e):r.match?qp(t,0,o):Ev(t,n,e)}function qp(t,n,e){if(0===e.length)return new Un(t.segments,{});{const r=function s$(t){return _d(t[0])?t[0].outlets:{[Pn]:t}}(e),o={};return Go(r,(i,s)=>{"string"==typeof i&&(i=[i]),null!==i&&(o[s]=k1(t.children[s],n,i))}),Go(t.children,(i,s)=>{void 0===r[s]&&(o[s]=i)}),new Un(t.segments,o)}}function Ev(t,n,e){const r=t.segments.slice(0,n);let o=0;for(;o<e.length;){const i=e[o];if(_d(i)){const c=l$(i.outlets);return new Un(r,c)}if(0===o&&Wp(e[0])){r.push(new gd(t.segments[n].path,T1(e[0]))),o++;continue}const s=_d(i)?i.outlets[Pn]:`${i}`,a=o<e.length-1?e[o+1]:null;s&&a&&Wp(a)?(r.push(new gd(s,T1(a))),o+=2):(r.push(new gd(s,{})),o++)}return new Un(r,{})}function l$(t){const n={};return Go(t,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(n[r]=Ev(new Un([],{}),0,e))}),n}function T1(t){const n={};return Go(t,(e,r)=>n[r]=`${e}`),n}function x1(t,n,e){return t==e.path&&Gs(n,e.parameters)}class c${constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new jl,this.attachRef=null}}class jl{constructor(){this.contexts=new Map}onChildOutletCreated(n,e){const r=this.getOrCreateContext(n);r.outlet=e,this.contexts.set(n,r)}onChildOutletDestroyed(n){const e=this.getContext(n);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let e=this.getContext(n);return e||(e=new c$,this.contexts.set(n,e)),e}getContext(n){return this.contexts.get(n)||null}}const Zp=!1;let A1=(()=>{class t{constructor(e,r,o,i,s){this.parentContexts=e,this.location=r,this.changeDetector=i,this.environmentInjector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new yn,this.deactivateEvents=new yn,this.attachEvents=new yn,this.detachEvents=new yn,this.name=o||Pn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){var e;(null===(e=this.parentContexts.getContext(this.name))||void 0===e?void 0:e.outlet)===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new P(4012,Zp);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new P(4012,Zp);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new P(4012,Zp);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new P(4013,Zp);this._activatedRoute=e;const o=this.location,s=e._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new u$(e,a,o.injector);if(r&&function d$(t){return!!t.resolveComponentFactory}(r)){const f=r.resolveComponentFactory(s);this.activated=o.createComponent(f,o.length,c)}else this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(C(jl),C(oi),wl("name"),C(bt),C(Dl))},t.\u0275dir=Ee({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class u${constructor(n,e,r){this.route=n,this.childContexts=e,this.parent=r}get(n,e){return n===Ca?this.route:n===jl?this.childContexts:this.parent.get(n,e)}}let P1=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=de({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&wt(0,"router-outlet")},dependencies:[A1],encapsulation:2}),t})();function R1(t,n){var e;return t.providers&&!t._injector&&(t._injector=Qf(t.providers,n,`Route: ${t.path}`)),null!==(e=t._injector)&&void 0!==e?e:n}function Iv(t){const n=t.children&&t.children.map(Iv),e=n?{...t,children:n}:{...t};return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==Pn&&(e.component=P1),e}function as(t){return t.outlet||Pn}function F1(t,n){const e=t.filter(r=>as(r)===n);return e.push(...t.filter(r=>as(r)!==n)),e}function O1(t){var n;if(!t)return null;if(null!==(n=t.routeConfig)&&void 0!==n&&n._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const r=e.routeConfig;if(null!=r&&r._loadedInjector)return r._loadedInjector;if(null!=r&&r._injector)return r._injector}return null}class g${constructor(n,e,r,o){this.routeReuseStrategy=n,this.futureState=e,this.currState=r,this.forwardEvent=o}activate(n){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,n),_v(this.futureState.root),this.activateChildRoutes(e,r,n)}deactivateChildRoutes(n,e,r){const o=Kc(e);n.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Go(o,(i,s)=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(n,e,r){const o=n.value,i=e?e.value:null;if(o===i)if(o.component){const s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,r);else i&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const r=e.getContext(n.value.outlet),o=r&&n.value.component?r.children:e,i=Kc(n);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){const r=e.getContext(n.value.outlet),o=r&&n.value.component?r.children:e,i=Kc(n);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(n,e,r){const o=Kc(e);n.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new T3(i.value.snapshot))}),n.children.length&&this.forwardEvent(new M3(n.value.snapshot))}activateRoutes(n,e,r){const o=n.value,i=e?e.value:null;if(_v(o),o===i)if(o.component){const a=r.getOrCreateContext(o.outlet);this.activateChildRoutes(n,e,a.children)}else this.activateChildRoutes(n,e,r);else if(o.component){const a=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const c=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),a.children.onOutletReAttached(c.contexts),a.attachRef=c.componentRef,a.route=c.route.value,a.outlet&&a.outlet.attach(c.componentRef,c.route.value),_v(c.route.value),this.activateChildRoutes(n,null,a.children)}else{var s;const c=O1(o.snapshot),f=null!==(s=c?.get(aa))&&void 0!==s?s:null;a.attachRef=null,a.route=o,a.resolver=f,a.injector=c,a.outlet&&a.outlet.activateWith(o,a.injector),this.activateChildRoutes(n,null,a.children)}}else this.activateChildRoutes(n,null,r)}}function Yp(t){return"function"==typeof t}function Ul(t){return t instanceof Vl}const wd=Symbol("INITIAL_VALUE");function bd(){return xi(t=>e1(t.map(n=>n.pipe(ji(1),n1(wd)))).pipe(r1((n,e)=>{let r=!1;return e.reduce((o,i,s)=>o!==wd?o:(i===wd&&(r=!0),r||!1!==i&&s!==e.length-1&&!Ul(i)?o:i),n)},wd),jo(n=>n!==wd),Je(n=>Ul(n)?n:!0===n),ji(1)))}const N1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Kp(t,n,e){var r;if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?{...N1}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(n.matcher||R3)(e,t,n);if(!i)return{...N1};const s={};Go(i.posParams,(c,f)=>{s[f]=c.path});const a=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:a,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Xp(t,n,e,r,o="corrected"){if(e.length>0&&function E$(t,n,e){return e.some(r=>Qp(t,n,r)&&as(r)!==Pn)}(t,e,r)){const s=new Un(n,function S$(t,n,e,r){const o={};o[Pn]=r,r._sourceSegment=t,r._segmentIndexShift=n.length;for(const i of e)if(""===i.path&&as(i)!==Pn){const s=new Un([],{});s._sourceSegment=t,s._segmentIndexShift=n.length,o[as(i)]=s}return o}(t,n,r,new Un(e,t.children)));return s._sourceSegment=t,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function D$(t,n,e){return e.some(r=>Qp(t,n,r))}(t,e,r)){const s=new Un(t.segments,function C$(t,n,e,r,o,i){const s={};for(const a of r)if(Qp(t,e,a)&&!o[as(a)]){const c=new Un([],{});c._sourceSegment=t,c._segmentIndexShift="legacy"===i?t.segments.length:n.length,s[as(a)]=c}return{...o,...s}}(t,n,e,r,t.children,o));return s._sourceSegment=t,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:e}}const i=new Un(t.segments,t.children);return i._sourceSegment=t,i._segmentIndexShift=n.length,{segmentGroup:i,slicedSegments:e}}function Qp(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}function L1(t,n,e,r){return!!(as(t)===r||r!==Pn&&Qp(n,e,t))&&("**"===t.path||Kp(n,t,e).matched)}function $1(t,n,e){return 0===n.length&&!t.children[e]}const Jp=!1;class eh{constructor(n){this.segmentGroup=n||null}}class B1{constructor(n){this.urlTree=n}}function Cd(t){return Zc(new eh(t))}function V1(t){return Zc(new B1(t))}class T${constructor(n,e,r,o,i){this.injector=n,this.configLoader=e,this.urlSerializer=r,this.urlTree=o,this.config=i,this.allowRedirects=!0}apply(){const n=Xp(this.urlTree.root,[],[],this.config).segmentGroup,e=new Un(n.segments,n.children);return this.expandSegmentGroup(this.injector,this.config,e,Pn).pipe(Je(i=>this.createUrlTree(Mv(i),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Xa(i=>{if(i instanceof B1)return this.allowRedirects=!1,this.match(i.urlTree);throw i instanceof eh?this.noMatchError(i):i}))}match(n){return this.expandSegmentGroup(this.injector,this.config,n.root,Pn).pipe(Je(o=>this.createUrlTree(Mv(o),n.queryParams,n.fragment))).pipe(Xa(o=>{throw o instanceof eh?this.noMatchError(o):o}))}noMatchError(n){return new P(4002,Jp)}createUrlTree(n,e,r){const o=n.segments.length>0?new Un([],{[Pn]:n}):n;return new Vl(o,e,r)}expandSegmentGroup(n,e,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(n,e,r).pipe(Je(i=>new Un([],i))):this.expandSegment(n,r,e,r.segments,o,!0)}expandChildren(n,e,r){const o=[];for(const i of Object.keys(r.children))"primary"===i?o.unshift(i):o.push(i);return Gn(o).pipe(zc(i=>{const s=r.children[i],a=F1(e,i);return this.expandSegmentGroup(n,a,s,i).pipe(Je(c=>({segment:c,outlet:i})))}),r1((i,s)=>(i[s.outlet]=s.segment,i),{}),function v3(t,n){const e=arguments.length>=2;return r=>r.pipe(t?jo((o,i)=>t(o,i,r)):K,av(1),e?lv(n):o1(()=>new hd))}())}expandSegment(n,e,r,o,i,s){return Gn(r).pipe(zc(a=>this.expandSegmentAgainstRoute(n,e,r,a,o,i,s).pipe(Xa(f=>{if(f instanceof eh)return vn(null);throw f}))),Qa(a=>!!a),Xa((a,c)=>{if(a instanceof hd||"EmptyError"===a.name)return $1(e,o,i)?vn(new Un([],{})):Cd(e);throw a}))}expandSegmentAgainstRoute(n,e,r,o,i,s,a){return L1(o,e,i,s)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(n,e,o,i,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,e,r,o,i,s):Cd(e):Cd(e)}expandSegmentAgainstRouteUsingRedirect(n,e,r,o,i,s){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,o,s):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,o,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,r,o){const i=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?V1(i):this.lineralizeSegments(r,i).pipe(zt(s=>{const a=new Un(s,{});return this.expandSegment(n,a,e,s,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,o,i,s){const{matched:a,consumedSegments:c,remainingSegments:f,positionalParamSegments:y}=Kp(e,o,i);if(!a)return Cd(e);const v=this.applyRedirectCommands(c,o.redirectTo,y);return o.redirectTo.startsWith("/")?V1(v):this.lineralizeSegments(o,v).pipe(zt(D=>this.expandSegment(n,e,r,D.concat(f),s,!1)))}matchSegmentAgainstRoute(n,e,r,o,i){if("**"===r.path)return n=R1(r,n),r.loadChildren?(r._loadedRoutes?vn({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(n,r)).pipe(Je(v=>(r._loadedRoutes=v.routes,r._loadedInjector=v.injector,new Un(o,{})))):vn(new Un(o,{}));const{matched:s,consumedSegments:a,remainingSegments:c}=Kp(e,r,o);return s?(n=R1(r,n),this.getChildConfig(n,r,o).pipe(zt(y=>{var v;const D=null!==(v=y.injector)&&void 0!==v?v:n,x=y.routes,{segmentGroup:Q,slicedSegments:Ie}=Xp(e,a,c,x),We=new Un(Q.segments,Q.children);if(0===Ie.length&&We.hasChildren())return this.expandChildren(D,x,We).pipe(Je(ot=>new Un(a,ot)));if(0===x.length&&0===Ie.length)return vn(new Un(a,{}));const Be=as(r)===i;return this.expandSegment(D,We,x,Ie,Be?Pn:i,!0).pipe(Je(Ye=>new Un(a.concat(Ye.segments),Ye.children)))}))):Cd(e)}getChildConfig(n,e,r){return e.children?vn({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?vn({routes:e._loadedRoutes,injector:e._loadedInjector}):this.runCanLoadGuards(n,e,r).pipe(zt(o=>o?this.configLoader.loadChildren(n,e).pipe(Uo(i=>{e._loadedRoutes=i.routes,e._loadedInjector=i.injector})):function M$(t){return Zc(fv(Jp))}())):vn({routes:[],injector:n})}runCanLoadGuards(n,e,r){const o=e.canLoad;return o&&0!==o.length?vn(o.map(s=>{const a=n.get(s);return Ja(function v$(t){return t&&Yp(t.canLoad)}(a)?a.canLoad(e,r):a(e,r))})).pipe(bd(),Uo(s=>{if(!Ul(s))return;const a=fv(dv+this.urlSerializer.serialize(s));throw a.url=s,a}),Je(s=>!0===s)):vn(!0)}lineralizeSegments(n,e){let r=[],o=e.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return vn(r);if(o.numberOfChildren>1||!o.children[Pn])return Zc(new P(4e3,Jp));o=o.children[Pn]}}applyRedirectCommands(n,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),n,r)}applyRedirectCreatreUrlTree(n,e,r,o){const i=this.createSegmentGroup(n,e.root,r,o);return new Vl(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const r={};return Go(n,(o,i)=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=e[a]}else r[i]=o}),r}createSegmentGroup(n,e,r,o){const i=this.createSegments(n,e.segments,r,o);let s={};return Go(e.children,(a,c)=>{s[c]=this.createSegmentGroup(n,a,r,o)}),new Un(i,s)}createSegments(n,e,r,o){return e.map(i=>i.path.startsWith(":")?this.findPosParam(n,i,o):this.findOrReturn(i,r))}findPosParam(n,e,r){const o=r[e.path.substring(1)];if(!o)throw new P(4001,Jp);return o}findOrReturn(n,e){let r=0;for(const o of e){if(o.path===n.path)return e.splice(r),o;r++}return n}}function Mv(t){const n={};for(const r of Object.keys(t.children)){const i=Mv(t.children[r]);(i.segments.length>0||i.hasChildren())&&(n[r]=i)}return function x$(t){if(1===t.numberOfChildren&&t.children[Pn]){const n=t.children[Pn];return new Un(t.segments.concat(n.segments),n.children)}return t}(new Un(t.segments,n))}class H1{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class th{constructor(n,e){this.component=n,this.route=e}}function P$(t,n,e){const r=t._root;return Sd(r,n?n._root:null,e,[r.value])}function nh(t,n,e){return(O1(n)??e).get(t)}function Sd(t,n,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=Kc(n);return t.children.forEach(s=>{(function F$(t,n,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=t.value,s=n?n.value:null,a=e?e.getContext(t.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const c=function O$(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!Hl(t.url,n.url);case"pathParamsOrQueryParamsChange":return!Hl(t.url,n.url)||!Gs(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wv(t,n)||!Gs(t.queryParams,n.queryParams);default:return!wv(t,n)}}(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new H1(r)):(i.data=s.data,i._resolvedData=s._resolvedData),Sd(t,n,i.component?a?a.children:null:e,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new th(a.outlet.component,s))}else s&&Ed(n,a,o),o.canActivateChecks.push(new H1(r)),Sd(t,null,i.component?a?a.children:null:e,r,o)})(s,i[s.value.outlet],e,r.concat([s.value]),o),delete i[s.value.outlet]}),Go(i,(s,a)=>Ed(s,e.getContext(a),o)),o}function Ed(t,n,e){const r=Kc(t),o=t.value;Go(r,(i,s)=>{Ed(i,o.component?n?n.children.getContext(s):null:n,e)}),e.canDeactivateChecks.push(new th(o.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,o))}class G${}function j1(t){return new at(n=>n.error(t))}class W${constructor(n,e,r,o,i,s){this.rootComponentType=n,this.config=e,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const n=Xp(this.urlTree.root,[],[],this.config.filter(s=>void 0===s.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,n,Pn);if(null===e)return null;const r=new zp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Pn,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new ba(r,e),i=new E1(this.url,o);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(n){const e=n.value,r=S1(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),n.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(n,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(n,e):this.processSegment(n,e,e.segments,r)}processChildren(n,e){const r=[];for(const i of Object.keys(e.children)){const s=e.children[i],a=F1(n,i),c=this.processSegmentGroup(a,s,i);if(null===c)return null;r.push(...c)}const o=U1(r);return function q$(t){t.sort((n,e)=>n.value.outlet===Pn?-1:e.value.outlet===Pn?1:n.value.outlet.localeCompare(e.value.outlet))}(o),o}processSegment(n,e,r,o){for(const i of n){const s=this.processSegmentAgainstRoute(i,e,r,o);if(null!==s)return s}return $1(e,r,o)?[]:null}processSegmentAgainstRoute(n,e,r,o){if(n.redirectTo||!L1(n,e,r,o))return null;let i,s=[],a=[];if("**"===n.path){var c,f;const Be=r.length>0?u1(r).parameters:{},st=z1(e)+r.length;i=new zp(r,Be,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,q1(n),as(n),null!==(c=null!==(f=n.component)&&void 0!==f?f:n._loadedComponent)&&void 0!==c?c:null,n,G1(e),st,Z1(n),st)}else{var y,v;const Be=Kp(e,n,r);if(!Be.matched)return null;s=Be.consumedSegments,a=Be.remainingSegments;const st=z1(e)+s.length;i=new zp(s,Be.parameters,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,q1(n),as(n),null!==(y=null!==(v=n.component)&&void 0!==v?v:n._loadedComponent)&&void 0!==y?y:null,n,G1(e),st,Z1(n),st)}const D=function Z$(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(n),{segmentGroup:x,slicedSegments:Q}=Xp(e,s,a,D.filter(Be=>void 0===Be.redirectTo),this.relativeLinkResolution);if(0===Q.length&&x.hasChildren()){const Be=this.processChildren(D,x);return null===Be?null:[new ba(i,Be)]}if(0===D.length&&0===Q.length)return[new ba(i,[])];const Ie=as(n)===o,We=this.processSegment(D,x,Q,Ie?Pn:o);return null===We?null:[new ba(i,We)]}}function Y$(t){const n=t.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function U1(t){const n=[],e=new Set;for(const r of t){if(!Y$(r)){n.push(r);continue}const o=n.find(i=>r.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...r.children),e.add(o)):n.push(r)}for(const r of e){const o=U1(r.children);n.push(new ba(r.value,o))}return n.filter(r=>!e.has(r))}function G1(t){let n=t;for(;n._sourceSegment;)n=n._sourceSegment;return n}function z1(t){var n;let e=t,r=null!==(n=e._segmentIndexShift)&&void 0!==n?n:0;for(;e._sourceSegment;){var o;e=e._sourceSegment,r+=null!==(o=e._segmentIndexShift)&&void 0!==o?o:0}return r-1}function q1(t){return t.data||{}}function Z1(t){return t.resolve||{}}const Tv=Symbol("RouteTitle");function Y1(t){return"string"==typeof t.title||null===t.title}function xv(t){return xi(n=>{const e=t(n);return e?Gn(e).pipe(Je(()=>n)):vn(n)})}class K1{}class r4 extends class n4{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}{}const Av=new an("ROUTES");let Pv=(()=>{class t{constructor(e,r){this.injector=e,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return vn(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=Ja(e.loadComponent()).pipe(Uo(i=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=i}),uv(()=>{this.componentLoaders.delete(e)})),o=new sv(r,()=>new z).pipe(iv());return this.componentLoaders.set(e,o),o}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return vn({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const i=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Je(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let c,f,y=!1;Array.isArray(a)?f=a:(c=a.create(e).injector,f=c1(c.get(Av,[],Nt.Self|Nt.Optional)));return{routes:f.map(Iv),injector:c}}),uv(()=>{this.childrenLoaders.delete(r)})),s=new sv(i,()=>new z).pipe(iv());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(e){return Ja(e()).pipe(zt(r=>r instanceof DC||Array.isArray(r)?vn(r):Gn(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(e){return new(e||t)(me(gr),me(qg))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();class i4{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,e){return n}}function s4(t){throw t}function a4(t,n,e){return n.parse("/")}const l4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},c4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ur=(()=>{class t{constructor(e,r,o,i,s,a,c){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=o,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new z,this.errorHandler=s4,this.malformedUriErrorHandler=a4,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>vn(void 0),this.urlHandlingStrategy=new i4,this.routeReuseStrategy=new r4,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=s.get(Pv),this.configLoader.onLoadEndListener=D=>this.triggerEvent(new D3(D)),this.configLoader.onLoadStartListener=D=>this.triggerEvent(new E3(D)),this.ngModule=s.get(Ua),this.console=s.get(X2);const v=s.get(rt);this.isNgZoneEnabled=v instanceof rt&&rt.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=function O3(){return new Vl(new Un([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=C1(this.currentUrlTree,this.rootComponentType),this.transitions=new Hi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(jo(o=>0!==o.id),Je(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),xi(o=>{let i=!1,s=!1;return vn(o).pipe(Uo(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),xi(a=>{const c=this.browserUrlTree.toString(),f=!this.navigated||a.extractedUrl.toString()!==c||c!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||f)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return J1(a.source)&&(this.browserUrlTree=a.extractedUrl),vn(a).pipe(xi(v=>{const D=this.transitions.getValue();return r.next(new $p(v.id,this.serializeUrl(v.extractedUrl),v.source,v.restoredState)),D!==this.transitions.getValue()?nr:Promise.resolve(v)}),function A$(t,n,e,r){return xi(o=>function k$(t,n,e,r,o){return new T$(t,n,e,r,o).apply()}(t,n,e,o.extractedUrl,r).pipe(Je(i=>({...o,urlAfterRedirects:i}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Uo(v=>{this.currentNavigation={...this.currentNavigation,finalUrl:v.urlAfterRedirects}}),function K$(t,n,e,r,o){return zt(i=>function z$(t,n,e,r,o="emptyOnly",i="legacy"){try{const s=new W$(t,n,e,r,o,i).recognize();return null===s?j1(new G$):vn(s)}catch(s){return j1(s)}}(t,n,i.urlAfterRedirects,e(i.urlAfterRedirects),r,o).pipe(Je(s=>({...i,targetSnapshot:s}))))}(this.rootComponentType,this.config,v=>this.serializeUrl(v),this.paramsInheritanceStrategy,this.relativeLinkResolution),Uo(v=>{if("eager"===this.urlUpdateStrategy){if(!v.extras.skipLocationChange){const x=this.urlHandlingStrategy.merge(v.urlAfterRedirects,v.rawUrl);this.setBrowserUrl(x,v)}this.browserUrlTree=v.urlAfterRedirects}const D=new _3(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);r.next(D)}));if(f&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:D,extractedUrl:x,source:Q,restoredState:Ie,extras:We}=a,Be=new $p(D,this.serializeUrl(x),Q,Ie);r.next(Be);const st=C1(x,this.rootComponentType).snapshot;return vn({...a,targetSnapshot:st,urlAfterRedirects:x,extras:{...We,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),nr}),Uo(a=>{const c=new w3(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(c)}),Je(a=>({...a,guards:P$(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function N$(t,n){return zt(e=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=e;return 0===s.length&&0===i.length?vn({...e,guardsResult:!0}):function L$(t,n,e,r){return Gn(t).pipe(zt(o=>function U$(t,n,e,r,o){const i=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return i&&0!==i.length?vn(i.map(a=>{const c=nh(a,n,o);return Ja(function b$(t){return t&&Yp(t.canDeactivate)}(c)?c.canDeactivate(t,n,e,r):c(t,n,e,r)).pipe(Qa())})).pipe(bd()):vn(!0)}(o.component,o.route,e,n,r)),Qa(o=>!0!==o,!0))}(s,r,o,t).pipe(zt(a=>a&&function y$(t){return"boolean"==typeof t}(a)?function $$(t,n,e,r){return Gn(n).pipe(zc(o=>md(function V$(t,n){return null!==t&&n&&n(new I3(t)),vn(!0)}(o.route.parent,r),function B$(t,n){return null!==t&&n&&n(new k3(t)),vn(!0)}(o.route,r),function j$(t,n,e){const r=n[n.length-1],i=n.slice(0,n.length-1).reverse().map(s=>function R$(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(s)).filter(s=>null!==s).map(s=>Lp(()=>vn(s.guards.map(c=>{const f=nh(c,s.node,e);return Ja(function w$(t){return t&&Yp(t.canActivateChild)}(f)?f.canActivateChild(r,t):f(r,t)).pipe(Qa())})).pipe(bd())));return vn(i).pipe(bd())}(t,o.path,e),function H$(t,n,e){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return vn(!0);const o=r.map(i=>Lp(()=>{const s=nh(i,n,e);return Ja(function _$(t){return t&&Yp(t.canActivate)}(s)?s.canActivate(n,t):s(n,t)).pipe(Qa())}));return vn(o).pipe(bd())}(t,o.route,e))),Qa(o=>!0!==o,!0))}(r,i,t,n):vn(a)),Je(a=>({...e,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Uo(a=>{if(Ul(a.guardsResult)){const f=fv(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw f.url=a.guardsResult,f}const c=new b3(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(c)}),jo(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),xv(a=>{if(a.guards.canActivateChecks.length)return vn(a).pipe(Uo(c=>{const f=new C3(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(f)}),xi(c=>{let f=!1;return vn(c).pipe(function X$(t,n){return zt(e=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=e;if(!o.length)return vn(e);let i=0;return Gn(o).pipe(zc(s=>function Q$(t,n,e,r){const o=t.routeConfig,i=t._resolve;return void 0!==o?.title&&!Y1(o)&&(i[Tv]=o.title),function J$(t,n,e,r){const o=function e4(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===o.length)return vn({});const i={};return Gn(o).pipe(zt(s=>function t4(t,n,e,r){const o=nh(t,n,r);return Ja(o.resolve?o.resolve(n,e):o(n,e))}(t[s],n,e,r).pipe(Qa(),Uo(a=>{i[s]=a}))),av(1),cv(i),Xa(s=>s instanceof hd?nr:Zc(s)))}(i,t,n,r).pipe(Je(s=>(t._resolvedData=s,t.data=S1(t,e).resolve,o&&Y1(o)&&(t.data[Tv]=o.title),null)))}(s.route,r,t,n)),Uo(()=>i++),av(1),zt(s=>i===o.length?vn(e):nr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Uo({next:()=>f=!0,complete:()=>{f||(this.restoreHistory(c),this.cancelNavigationTransition(c,"At least one route resolver didn't emit any value."))}}))}),Uo(c=>{const f=new S3(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(f)}))}),xv(a=>{const c=f=>{var y;const v=[];null!==(y=f.routeConfig)&&void 0!==y&&y.loadComponent&&!f.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(f.routeConfig).pipe(Uo(D=>{f.component=D}),Je(()=>{})));for(const D of f.children)v.push(...c(D));return v};return e1(c(a.targetSnapshot.root)).pipe(lv(),ji(1))}),xv(()=>this.afterPreactivation()),Je(a=>{const c=function J3(t,n,e){const r=vd(t,n._root,e?e._root:void 0);return new b1(r,n)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return{...a,targetRouterState:c}}),Uo(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,n,e)=>Je(r=>(new g$(n,r.targetRouterState,r.currentRouterState,e).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Uo({next(){i=!0},complete(){i=!0}}),uv(()=>{var a;i||s||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===o.id&&(this.currentNavigation=null)}),Xa(a=>{if(s=!0,function P3(t){return t&&t[a1]}(a)){const c=Ul(a.url);c||(this.navigated=!0,this.restoreHistory(o,!0));const f=new Bp(o.id,this.serializeUrl(o.extractedUrl),a.message);if(r.next(f),c){const y=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),v={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||J1(o.source)};this.scheduleNavigation(y,"imperative",null,v,{resolve:o.resolve,reject:o.reject,promise:o.promise})}else o.resolve(!1)}else{this.restoreHistory(o,!0);const c=new i1(o.id,this.serializeUrl(o.extractedUrl),a);r.next(c);try{o.resolve(this.errorHandler(a))}catch(f){o.reject(f)}}return nr}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var o;const i={replaceUrl:!0},s=null!==(o=e.state)&&void 0!==o&&o.navigationId?e.state:null;if(s){const c={...s};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(i.state=c)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(Iv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,f=o||this.routerState.root,y=c?this.currentUrlTree.fragment:s;let v=null;switch(a){case"merge":v={...this.currentUrlTree.queryParams,...i};break;case"preserve":v=this.currentUrlTree.queryParams;break;default:v=i||null}return null!==v&&(v=this.removeEmptyProps(v)),function n$(t,n,e,r,o){var i;if(0===e.length)return Cv(n.root,n.root,n.root,r,o);const s=function r$(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new M1(!0,0,t);let n=0,e=!1;const r=t.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return Go(i.outlets,(c,f)=>{a[f]="string"==typeof c?c.split("/"):c}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?e=!0:".."===a?n++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new M1(e,n,r)}(e);if(s.toRoot())return Cv(n.root,n.root,new Un([],{}),r,o);const c=function a(y){var v;const D=function o$(t,n,e,r){return t.isAbsolute?new Sv(n.root,!0,0):-1===r?new Sv(e,e===n.root,0):function i$(t,n,e){let r=t,o=n,i=e;for(;i>o;){if(i-=o,r=r.parent,!r)throw new P(4005,!1);o=r.segments.length}return new Sv(r,!1,o-i)}(e,r+(Wp(t.commands[0])?0:1),t.numberOfDoubleDots)}(s,n,null===(v=t.snapshot)||void 0===v?void 0:v._urlSegment,y),x=D.processChildren?qp(D.segmentGroup,D.index,s.commands):k1(D.segmentGroup,D.index,s.commands);return Cv(n.root,D.segmentGroup,x,r,o)}(null===(i=t.snapshot)||void 0===i?void 0:i._lastPathIndex);return c}(f,this.currentUrlTree,e,v,y??null)}navigateByUrl(e,r={skipLocationChange:!1}){const o=Ul(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function u4(t){for(let n=0;n<t.length;n++){if(null==t[n])throw new P(4008,!1)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return r}isActive(e,r){let o;if(o=!0===r?{...l4}:!1===r?{...c4}:r,Ul(e))return f1(this.currentUrlTree,e,o);const i=this.parseUrl(e);return f1(this.currentUrlTree,i,o)}removeEmptyProps(e){return Object.keys(e).reduce((r,o)=>{const i=e[o];return null!=i&&(r[o]=i),r},{})}processNavigations(){this.navigations.subscribe(e=>{var r;this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Bl(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,null===(r=this.titleStrategy)||void 0===r||r.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,f;s?(a=s.resolve,c=s.reject,f=s.promise):f=new Promise((Q,Ie)=>{a=Q,c=Ie});const y=++this.navigationId;let v;if("computed"===this.canceledNavigationResolution)if(0===this.currentPageId&&(o=this.location.getState()),o&&o.\u0275routerPageId)v=o.\u0275routerPageId;else if(i.replaceUrl||i.skipLocationChange){var D;v=null!==(D=this.browserPageId)&&void 0!==D?D:0}else{var x;v=(null!==(x=this.browserPageId)&&void 0!==x?x:0)+1}else v=0;return this.setTransition({id:y,targetPageId:v,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:i,resolve:a,reject:c,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(Q=>Promise.reject(Q))}setBrowserUrl(e,r){const o=this.urlSerializer.serialize(e),i={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",i):this.location.go(o,"",i)}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){var o,i;const s=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===s?this.currentUrlTree===(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r){const o=new Bp(e.id,this.serializeUrl(e.extractedUrl),r);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return t.\u0275fac=function(e){Wm()},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();function J1(t){return"imperative"!==t}class eI{buildTitle(n){let e,r=n.root;for(;void 0!==r;){var o;e=null!==(o=this.getResolvedTitleForRoute(r))&&void 0!==o?o:e,r=r.children.find(i=>i.outlet===Pn)}return e}getResolvedTitleForRoute(n){return n.data[Tv]}}let p4=(()=>{class t extends eI{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(e){return new(e||t)(me(TE))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class tI{}let h4=(()=>{class t{preload(e,r){return r().pipe(Xa(()=>vn(null)))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),nI=(()=>{class t{constructor(e,r,o,i,s){this.router=e,this.injector=o,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(jo(e=>e instanceof Bl),zc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const o=[];for(const c of r){var i,s;c.providers&&!c._injector&&(c._injector=Qf(c.providers,e,`Route: ${c.path}`));const f=null!==(i=c._injector)&&void 0!==i?i:e,y=null!==(s=c._loadedInjector)&&void 0!==s?s:f;if(c.loadChildren&&!c._loadedRoutes||c.loadComponent&&!c._loadedComponent)o.push(this.preloadConfig(f,c));else if(c.children||c._loadedRoutes){var a;o.push(this.processRoutes(y,null!==(a=c.children)&&void 0!==a?a:c._loadedRoutes))}}return Gn(o).pipe(eo())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):vn(null);const i=o.pipe(zt(s=>{var a;return null===s?vn(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(null!==(a=s.injector)&&void 0!==a?a:e,s.routes))}));return r.loadComponent&&!r._loadedComponent?Gn([i,this.loader.loadComponent(r)]).pipe(eo()):i})}}return t.\u0275fac=function(e){return new(e||t)(me(Ur),me(qg),me(Dl),me(tI),me(Pv))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const rI=new an("");let m4=(()=>{class t{constructor(e,r,o={}){this.router=e,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof $p?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Bl&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof s1&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new s1(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){Wm()},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const Fv=new an("ROUTER_CONFIGURATION",{providedIn:"root",factory:()=>({})}),oI=new an("ROUTER_FORROOT_GUARD"),iI=new an(""),g4=[rd,{provide:hv,useClass:g1},{provide:Ur,useFactory:function C4(t,n,e,r,o,i,s={},a,c,f,y){const v=new Ur(null,t,n,e,r,o,c1(i));return f&&(v.urlHandlingStrategy=f),y&&(v.routeReuseStrategy=y),v.titleStrategy=c??a,function S4(t,n){t.errorHandler&&(n.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(n.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(n.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(n.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(n.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(n.canceledNavigationResolution=t.canceledNavigationResolution)}(s,v),v},deps:[hv,jl,rd,gr,qg,Av,Fv,p4,[eI,new Ba],[class o4{},new Ba],[K1,new Ba]]},jl,{provide:Ca,useFactory:function E4(t){return t.routerState.root},deps:[Ur]},Pv];function y4(){return new CS("Router",Ur)}let rh=(()=>{class t{constructor(e,r){}static forRoot(e,r){return{ngModule:t,providers:[g4,[],sI(e),{provide:oI,useFactory:b4,deps:[[Ur,new Ba,new Tu]]},{provide:Fv,useValue:r||{}},null!=r&&r.useHash?{provide:js,useClass:qS}:{provide:js,useClass:WS},{provide:rI,useFactory:()=>{const t=bl(Ur),n=bl(rN),e=bl(Fv);return e.scrollOffset&&n.setOffset(e.scrollOffset),new m4(t,n,e)}},null!=r&&r.preloadingStrategy?A4(r.preloadingStrategy):[],{provide:CS,multi:!0,useFactory:y4},null!=r&&r.initialNavigation?I4(r):[],[{provide:aI,useFactory:D4},{provide:mS,multi:!0,useExisting:aI}]]}}static forChild(e){return{ngModule:t,providers:[sI(e)]}}}return t.\u0275fac=function(e){return new(e||t)(me(oI,8),me(Ur,8))},t.\u0275mod=jt({type:t}),t.\u0275inj=Kn({}),t})();function b4(t){return"guarded"}function sI(t){return[{provide:uk,multi:!0,useValue:t},{provide:Av,multi:!0,useValue:t}]}function D4(){const t=bl(gr);return n=>{var e,r;const o=t.get(za);if(n!==o.components[0])return;const i=t.get(Ur),s=t.get(lI);null===t.get(Ov,null,Nt.Optional)&&i.initialNavigation(),null===(e=t.get(iI,null,Nt.Optional))||void 0===e||e.setUpPreloading(),null===(r=t.get(rI,null,Nt.Optional))||void 0===r||r.init(),i.resetRootComponentType(o.componentTypes[0]),s.next(),s.complete()}}const aI=new an("");function I4(t){return["disabled"===t.initialNavigation?[{provide:Al,multi:!0,useFactory:()=>{const t=bl(Ur);return()=>{t.setUpLocationChangeListener()}}},{provide:Ov,useValue:"disabled"}]:[],"enabledBlocking"===t.initialNavigation?[{provide:Ov,useValue:"enabledBlocking"},{provide:Al,multi:!0,deps:[gr],useFactory:t=>{const n=t.get($F,Promise.resolve(null));let e=!1;return()=>n.then(()=>new Promise(o=>{const i=t.get(Ur),s=t.get(lI);(function r(o){const i=t.get(Ur);i.events.pipe(jo(s=>s instanceof Bl||s instanceof Bp||s instanceof i1),Je(s=>{if(s instanceof Bl)return!0;const a=i.navigationId!==s.id,c=s instanceof Bp&&-1!==s.reason.indexOf(dv);return!(!a&&!c)&&null}),jo(s=>null!==s),ji(1)).subscribe(()=>{o()})})(()=>{o(!0),e=!0}),i.afterPreactivation=()=>(o(!0),e||s.closed?vn(void 0):s),i.initialNavigation()}))}}]:[]]}const lI=new an("",{factory:()=>new z}),Ov=new an("");function A4(t){return[nI,{provide:iI,useExisting:nI},{provide:tI,useExisting:t}]}R(5794),R(932),R(2172);var Nv=R(537),Xc=R(9158),Id=R(4736),Md=(R(9506),R(9703)),cI=(R(607),R(9479));function dI(t,n=K){return t=t??R4,Re((e,r)=>{let o,i=!0;e.subscribe(et(r,s=>{const a=n(s);(i||!t(o,a))&&(i=!1,o=a,r.next(s))}))})}function R4(t,n){return t===n}const O4=Nv.i,Tt=["*"],$4=["outlet"],B4=[[["","slot","top"]],"*"],V4=["[slot=top]","*"],fI=t=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(t):"function"==typeof requestAnimationFrame?requestAnimationFrame(t):setTimeout(t),pI=t=>!!t.resolveComponentFactory;let kd=(()=>{class t{constructor(e,r){this.injector=e,this.el=r,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(e){this.el.nativeElement.value=this.lastValue=e??"",Qc(this.el)}handleChangeEvent(e,r){e===this.el.nativeElement&&(r!==this.lastValue&&(this.lastValue=r,this.onChange(r)),Qc(this.el))}_handleBlurEvent(e){e===this.el.nativeElement&&(this.onTouched(),Qc(this.el))}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.el.nativeElement.disabled=e}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let e;try{e=this.injector.get(ya)}catch{}if(!e)return;e.statusChanges&&(this.statusChanges=e.statusChanges.subscribe(()=>Qc(this.el)));const r=e.control;r&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(i=>{if(typeof r[i]<"u"){const s=r[i].bind(r);r[i]=(...a)=>{s(...a),Qc(this.el)}}})}}return t.\u0275fac=function(e){return new(e||t)(C(gr),C(ut))},t.\u0275dir=Ee({type:t,hostBindings:function(e,r){1&e&&ct("ionBlur",function(i){return r._handleBlurEvent(i.target)})}}),t})();const Qc=t=>{fI(()=>{const n=t.nativeElement,e=null!=n.value&&n.value.toString().length>0,r=U4(n);Lv(n,r);const o=n.closest("ion-item");o&&Lv(o,e?[...r,"item-has-value"]:r)})},U4=t=>{const n=t.classList,e=[];for(let r=0;r<n.length;r++){const o=n.item(r);null!==o&&G4(o,"ng-")&&e.push(`ion-${o.substring(3)}`)}return e},Lv=(t,n)=>{const e=t.classList;e.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),e.add(...n)},G4=(t,n)=>t.substring(0,n.length)===n;let Td=(()=>{class t extends kd{constructor(e,r){super(e,r)}writeValue(e){this.el.nativeElement.checked=this.lastValue=e??!1,Qc(this.el)}_handleIonChange(e){this.handleChangeEvent(e,e.checked)}}return t.\u0275fac=function(e){return new(e||t)(C(gr),C(ut))},t.\u0275dir=Ee({type:t,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(e,r){1&e&&ct("ionChange",function(i){return r._handleIonChange(i.target)})},features:[pr([{provide:mi,useExisting:t,multi:!0}]),qn]}),t})(),xd=(()=>{class t extends kd{constructor(e,r){super(e,r)}_handleChangeEvent(e){this.handleChangeEvent(e,e.value)}}return t.\u0275fac=function(e){return new(e||t)(C(gr),C(ut))},t.\u0275dir=Ee({type:t,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(e,r){1&e&&ct("ionChange",function(i){return r._handleChangeEvent(i.target)})},features:[pr([{provide:mi,useExisting:t,multi:!0}]),qn]}),t})(),Gl=(()=>{class t extends kd{constructor(e,r){super(e,r)}_handleInputEvent(e){this.handleChangeEvent(e,e.value)}}return t.\u0275fac=function(e){return new(e||t)(C(gr),C(ut))},t.\u0275dir=Ee({type:t,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(e,r){1&e&&ct("ionChange",function(i){return r._handleInputEvent(i.target)})},features:[pr([{provide:mi,useExisting:t,multi:!0}]),qn]}),t})();const q4=(t,n)=>{const e=t.prototype;n.forEach(r=>{Object.defineProperty(e,r,{get(){return this.el[r]},set(o){this.z.runOutsideAngular(()=>this.el[r]=o)}})})},Z4=(t,n)=>{const e=t.prototype;n.forEach(r=>{e[r]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,o))}})},ir=(t,n,e)=>{e.forEach(r=>t[r]=pd(n,r))};function Dt(t){return function(e){const{defineCustomElementFn:r,inputs:o,methods:i}=t;return void 0!==r&&r(),o&&q4(e,o),i&&Z4(e,i),e}}let hI=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(rt))},t.\u0275cmp=de({type:t,selectors:[["ion-app"]],ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=se([Dt({defineCustomElementFn:void 0})],t),t})(),mI=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(rt))},t.\u0275cmp=de({type:t,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=se([Dt({defineCustomElementFn:void 0,inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],t),t})(),Ui=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,ir(this,this.el,["ionFocus","ionBlur"])}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(rt))},t.\u0275cmp=de({type:t,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=se([Dt({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],t),t})(),Gi=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(rt))},t.\u0275cmp=de({type:t,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=se([Dt({defineCustomElementFn:void 0,inputs:["collapse"]})],t),t})(),zi=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,ir(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(rt))},t.\u0275cmp=de({type:t,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=se([Dt({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],t),t})(),Wi=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(rt))},t.\u0275cmp=de({type:t,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=se([Dt({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],t),t})(),ls=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(rt))},t.\u0275cmp=de({type:t,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=se([Dt({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],t),t})(),zl=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,ir(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(rt))},t.\u0275cmp=de({type:t,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=se([Dt({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],t),t})(),qi=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(rt))},t.\u0275cmp=de({type:t,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=se([Dt({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],t),t})(),oh=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(rt))},t.\u0275cmp=de({type:t,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=se([Dt({defineCustomElementFn:void 0,inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],t),t})(),ih=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,ir(this,this.el,["ionSwipe"])}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(rt))},t.\u0275cmp=de({type:t,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=se([Dt({defineCustomElementFn:void 0,inputs:["side"]})],t),t})(),sh=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,ir(this,this.el,["ionDrag"])}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(rt))},t.\u0275cmp=de({type:t,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=se([Dt({defineCustomElementFn:void 0,inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],t),t})(),cs=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(rt))},t.\u0275cmp=de({type:t,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=se([Dt({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],t),t})(),Wl=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(rt))},t.\u0275cmp=de({type:t,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=se([Dt({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],t),t})(),gI=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,ir(this,this.el,["ionNavWillChange","ionNavDidChange"])}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(rt))},t.\u0275cmp=de({type:t,selectors:[["ion-nav"]],inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=se([Dt({defineCustomElementFn:void 0,inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],t),t})(),$v=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,ir(this,this.el,["ionChange","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(rt))},t.\u0275cmp=de({type:t,selectors:[["ion-range"]],inputs:{color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=se([Dt({defineCustomElementFn:void 0,inputs:["color","debounce","disabled","dualKnobs","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],t),t})(),ah=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,ir(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(rt))},t.\u0275cmp=de({type:t,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=se([Dt({defineCustomElementFn:void 0,inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],t),t})(),lh=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(rt))},t.\u0275cmp=de({type:t,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=se([Dt({defineCustomElementFn:void 0,inputs:["disabled","value"]})],t),t})(),Ad=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(rt))},t.\u0275cmp=de({type:t,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=se([Dt({defineCustomElementFn:void 0,inputs:["color","duration","name","paused"]})],t),t})(),Bv=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(rt))},t.\u0275cmp=de({type:t,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=se([Dt({defineCustomElementFn:void 0,inputs:["color","mode","selectedTab","translucent"]})],t),t})(),yI=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(rt))},t.\u0275cmp=de({type:t,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=se([Dt({defineCustomElementFn:void 0,inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],t),t})(),Zi=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(rt))},t.\u0275cmp=de({type:t,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=se([Dt({defineCustomElementFn:void 0,inputs:["color","size"]})],t),t})(),Pd=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,ir(this,this.el,["ionChange","ionFocus","ionBlur"])}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(rt))},t.\u0275cmp=de({type:t,selectors:[["ion-toggle"]],inputs:{checked:"checked",color:"color",disabled:"disabled",mode:"mode",name:"name",value:"value"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=se([Dt({defineCustomElementFn:void 0,inputs:["checked","color","disabled","mode","name","value"]})],t),t})(),Yi=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(bt),C(ut),C(rt))},t.\u0275cmp=de({type:t,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Tt,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2,changeDetection:0}),t=se([Dt({defineCustomElementFn:void 0,inputs:["color","mode"]})],t),t})();class vI{constructor(n={}){this.data=n}get(n){return this.data[n]}}let ch=(()=>{class t{constructor(e,r){this.zone=e,this.appRef=r}create(e,r,o){return new WB(e,r,o,this.appRef,this.zone)}}return t.\u0275fac=function(e){return new(e||t)(me(rt),me(za))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();class WB{constructor(n,e,r,o,i){this.resolverOrInjector=n,this.injector=e,this.location=r,this.appRef=o,this.zone=i,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(n,e,r,o){return this.zone.run(()=>new Promise(i=>{i(qB(this.zone,this.resolverOrInjector,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,n,e,r,o))}))}removeViewFromDom(n,e){return this.zone.run(()=>new Promise(r=>{const o=this.elRefMap.get(e);if(o){o.destroy(),this.elRefMap.delete(e);const i=this.elEventsMap.get(e);i&&(i(),this.elEventsMap.delete(e))}r()}))}}const qB=(t,n,e,r,o,i,s,a,c,f,y)=>{let v;const D=gr.create({providers:YB(f),parent:e});if(n&&pI(n)){const We=n.resolveComponentFactory(c);v=r?r.createComponent(We,r.length,D):We.create(D)}else{if(!r)return null;v=r.createComponent(c,{index:r.indexOf,injector:D,environmentInjector:n})}const x=v.instance,Q=v.location.nativeElement;if(f&&Object.assign(x,f),y)for(const We of y)Q.classList.add(We);const Ie=_I(t,x,Q);return a.appendChild(Q),r||o.attachView(v.hostView),v.changeDetectorRef.reattach(),i.set(Q,v),s.set(Q,Ie),Q},ZB=[Id.L,Id.a,Id.b,Id.c,Id.d],_I=(t,n,e)=>t.run(()=>{const r=ZB.filter(o=>"function"==typeof n[o]).map(o=>{const i=s=>n[o](s.detail);return e.addEventListener(o,i),()=>e.removeEventListener(o,i)});return()=>r.forEach(o=>o())}),wI=new an("NavParamsToken"),YB=t=>[{provide:wI,useValue:t},{provide:vI,useFactory:KB,deps:[wI]}],KB=t=>new vI(t),bI=(t,n)=>((t=t.filter(e=>e.stackId!==n.stackId)).push(n),t),Vv=(t,n)=>{const e=t.createUrlTree(["."],{relativeTo:n});return t.serializeUrl(e)},tV=(t,n)=>{if(!t)return;const e=CI(n);for(let r=0;r<e.length;r++){if(r>=t.length)return e[r];if(e[r]!==t[r])return}},CI=t=>t.split("/").map(n=>n.trim()).filter(n=>""!==n),SI=t=>{t&&(t.ref.destroy(),t.unlistenEvents())};class nV{constructor(n,e,r,o,i,s){this.containerEl=e,this.router=r,this.navCtrl=o,this.zone=i,this.location=s,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==n?CI(n):void 0}createView(n,e){var r;const o=Vv(this.router,e),i=null===(r=n?.location)||void 0===r?void 0:r.nativeElement,s=_I(this.zone,n.instance,i);return{id:this.nextId++,stackId:tV(this.tabsPrefix,o),unlistenEvents:s,element:i,ref:n,url:o}}getExistingView(n){const e=Vv(this.router,n),r=this.views.find(o=>o.url===e);return r&&r.ref.changeDetectorRef.reattach(),r}setActive(n){var e,r;const o=this.navCtrl.consumeTransition();let{direction:i,animation:s,animationBuilder:a}=o;const c=this.activeView,f=((t,n)=>!n||t.stackId!==n.stackId)(n,c);f&&(i="back",s=void 0);const y=this.views.slice();let v;const D=this.router;D.getCurrentNavigation?v=D.getCurrentNavigation():!(null===(e=D.navigations)||void 0===e)&&e.value&&(v=D.navigations.value),null!==(r=v?.extras)&&void 0!==r&&r.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const x=this.views.includes(n),Q=this.insertView(n,i);x||n.ref.changeDetectorRef.detectChanges();const Ie=n.animationBuilder;return void 0===a&&"back"===i&&!f&&void 0!==Ie&&(a=Ie),c&&(c.animationBuilder=a),this.zone.runOutsideAngular(()=>this.wait(()=>(c&&c.ref.changeDetectorRef.detach(),n.ref.changeDetectorRef.reattach(),this.transition(n,c,s,this.canGoBack(1),!1,a).then(()=>rV(n,Q,y,this.location,this.zone)).then(()=>({enteringView:n,direction:i,animation:s,tabSwitch:f})))))}canGoBack(n,e=this.getActiveStackId()){return this.getStack(e).length>n}pop(n,e=this.getActiveStackId()){return this.zone.run(()=>{var r,o;const i=this.getStack(e);if(i.length<=n)return Promise.resolve(!1);const s=i[i.length-n-1];let a=s.url;const c=s.savedData;if(c){const y=c.get("primary");null!==(o=null===(r=y?.route)||void 0===r?void 0:r._routerState)&&void 0!==o&&o.snapshot.url&&(a=y.route._routerState.snapshot.url)}const{animationBuilder:f}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(a,Object.assign(Object.assign({},s.savedExtras),{animation:f})).then(()=>!0)})}startBackTransition(){const n=this.activeView;if(n){const e=this.getStack(n.stackId),r=e[e.length-2],o=r.animationBuilder;return this.wait(()=>this.transition(r,n,"back",this.canGoBack(2),!0,o))}return Promise.resolve()}endBackTransition(n){n?(this.skipTransition=!0,this.pop(1)):this.activeView&&EI(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(n){const e=this.getStack(n);return e.length>0?e[e.length-1]:void 0}getRootUrl(n){const e=this.getStack(n);return e.length>0?e[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(SI),this.activeView=void 0,this.views=[]}getStack(n){return this.views.filter(e=>e.stackId===n)}insertView(n,e){return this.activeView=n,this.views=((t,n,e)=>"root"===e?bI(t,n):"forward"===e?((t,n)=>(t.indexOf(n)>=0?t=t.filter(r=>r.stackId!==n.stackId||r.id<=n.id):t.push(n),t))(t,n):((t,n)=>t.indexOf(n)>=0?t.filter(r=>r.stackId!==n.stackId||r.id<=n.id):bI(t,n))(t,n))(this.views,n,e),this.views.slice()}transition(n,e,r,o,i,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(e===n)return Promise.resolve(!1);const a=n?n.element:void 0,c=e?e.element:void 0,f=this.containerEl;return a&&a!==c&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),a.parentElement!==f&&f.appendChild(a),f.commit)?f.commit(a,c,{deepWait:!0,duration:void 0===r?0:void 0,direction:r,showGoBack:o,progressAnimation:i,animationBuilder:s}):Promise.resolve(!1)}wait(n){return Zn(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const e=this.runningTask=n();return e.finally(()=>this.runningTask=void 0),e})}}const rV=(t,n,e,r,o)=>"function"==typeof requestAnimationFrame?new Promise(i=>{requestAnimationFrame(()=>{EI(t,n,e,r,o),i()})}):Promise.resolve(),EI=(t,n,e,r,o)=>{o.run(()=>e.filter(i=>!n.includes(i)).forEach(SI)),n.forEach(i=>{const a=r.path().split("?")[0].split("#")[0];if(i!==t&&i.url!==a){const c=i.element;c.setAttribute("aria-hidden","true"),c.classList.add("ion-page-hidden"),i.ref.changeDetectorRef.detach()}})};let DI=(()=>{class t{get(e,r){const o=Hv();return o?o.get(e,r):null}getBoolean(e,r){const o=Hv();return!!o&&o.getBoolean(e,r)}getNumber(e,r){const o=Hv();return o?o.getNumber(e,r):0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const II=new an("USERCONFIG"),Hv=()=>{if(typeof window<"u"){const t=window.Ionic;if(t?.config)return t.config}return null};let oV=(()=>{class t{constructor(e,r){this.doc=e,this.backButton=new z,this.keyboardDidShow=new z,this.keyboardDidHide=new z,this.pause=new z,this.resume=new z,this.resize=new z,r.run(()=>{var o;let i;this.win=e.defaultView,this.backButton.subscribeWithPriority=function(s,a){return this.subscribe(c=>c.register(s,f=>r.run(()=>a(f))))},Jc(this.pause,e,"pause"),Jc(this.resume,e,"resume"),Jc(this.backButton,e,"ionBackButton"),Jc(this.resize,this.win,"resize"),Jc(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Jc(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(s=>{i=s}),null!==(o=this.win)&&void 0!==o&&o.cordova?e.addEventListener("deviceready",()=>{i("cordova")},{once:!0}):i("dom")})}is(e){return(0,Nv.a)(this.win,e)}platforms(){return(0,Nv.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(e){return iV(this.win.location.href,e)}isLandscape(){return!this.isPortrait()}isPortrait(){var e,r;return null===(r=(e=this.win).matchMedia)||void 0===r?void 0:r.call(e,"(orientation: portrait)").matches}testUserAgent(e){const r=this.win.navigator;return!!(r?.userAgent&&r.userAgent.indexOf(e)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return t.\u0275fac=function(e){return new(e||t)(me(Eo),me(rt))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const iV=(t,n)=>{n=n.replace(/[[\]\\]/g,"\\$&");const r=new RegExp("[\\?&]"+n+"=([^&#]*)").exec(t);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null},Jc=(t,n,e)=>{n&&n.addEventListener(e,r=>{t.next(r?.detail)})};let Rd=(()=>{class t{constructor(e,r,o,i){this.location=r,this.serializer=o,this.router=i,this.direction=MI,this.animated=kI,this.guessDirection="forward",this.lastNavId=-1,i&&i.events.subscribe(s=>{if(s instanceof $p){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=a<this.lastNavId?"back":"forward",this.guessAnimation=s.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?s.id:a}}),e.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(e,r={}){return this.setDirection("forward",r.animated,r.animationDirection,r.animation),this.navigate(e,r)}navigateBack(e,r={}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.navigate(e,r)}navigateRoot(e,r={}){return this.setDirection("root",r.animated,r.animationDirection,r.animation),this.navigate(e,r)}back(e={animated:!0,animationDirection:"back"}){return this.setDirection("back",e.animated,e.animationDirection,e.animation),this.location.back()}pop(){return Zn(this,void 0,void 0,function*(){let e=this.topOutlet;for(;e&&!(yield e.pop());)e=e.parentOutlet})}setDirection(e,r,o,i){this.direction=e,this.animated=sV(e,r,o),this.animationBuilder=i}setTopOutlet(e){this.topOutlet=e}consumeTransition(){let r,e="root";const o=this.animationBuilder;return"auto"===this.direction?(e=this.guessDirection,r=this.guessAnimation):(r=this.animated,e=this.direction),this.direction=MI,this.animated=kI,this.animationBuilder=void 0,{direction:e,animation:r,animationBuilder:o}}navigate(e,r){if(Array.isArray(e))return this.router.navigate(e,r);{const o=this.serializer.parse(e.toString());return void 0!==r.queryParams&&(o.queryParams=Object.assign({},r.queryParams)),void 0!==r.fragment&&(o.fragment=r.fragment),this.router.navigateByUrl(o,r)}}}return t.\u0275fac=function(e){return new(e||t)(me(oV),me(rd),me(hv),me(Ur,8))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const sV=(t,n,e)=>{if(!1!==n){if(void 0!==e)return e;if("forward"===t||"back"===t)return t;if("root"===t&&!0===n)return"forward"}},MI="auto",kI=void 0;class jv{}let Fd=(()=>{class t{constructor(e,r,o,i,s,a,c,f,y,v,D,x,Q,Ie){this.parentContexts=e,this.location=r,this.config=s,this.navCtrl=a,this.environmentInjector=c,this.componentFactoryResolver=f,this.parentOutlet=Ie,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new Hi(null),this.stackEvents=new yn,this.activateEvents=new yn,this.deactivateEvents=new yn,this.nativeEl=v.nativeElement,this.name=o||Pn,this.tabsPrefix="true"===i?Vv(D,Q):void 0,this.stackCtrl=new nV(this.tabsPrefix,this.nativeEl,D,a,x,y),e.onChildOutletCreated(this.name,this)}set animation(e){this.nativeEl.animation=e}set animated(e){this.nativeEl.animated=e}set swipeGesture(e){this._swipeGesture=e,this.nativeEl.swipeHandler=e?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:r=>this.stackCtrl.endBackTransition(r)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const e=this.getContext();e?.route&&this.activateWith(e.route,e.resolver||null)}new Promise(e=>(0,Xc.c)(this.nativeEl,e)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(e,r){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const r=this.getContext();this.activatedView.savedData=new Map(r.children.contexts);const o=this.activatedView.savedData.get("primary");if(o&&r.route&&(o.route=Object.assign({},r.route)),this.activatedView.savedExtras={},r.route){const i=r.route.snapshot;this.activatedView.savedExtras.queryParams=i.queryParams,this.activatedView.savedExtras.fragment=i.fragment}}const e=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;let o,i=this.stackCtrl.getExistingView(e);if(i){o=this.activated=i.ref;const s=i.savedData;s&&(this.getContext().children.contexts=s),this.updateActivatedRouteProxy(o.instance,e)}else{const s=e._futureSnapshot,a=s.routeConfig.component;if(null==a&&s.component)return void console.warn("[Ionic Warning]: Standalone components are not currently supported with ion-router-outlet. You can track this feature request at https://github.com/ionic-team/ionic-framework/issues/25404");const c=this.parentContexts.getOrCreateContext(this.name).children,f=new Hi(null),y=this.createActivatedRouteProxy(f,e),v=new aV(y,c,this.location.injector);if((r=r||this.componentFactoryResolver)&&pI(r)){const D=r.resolveComponentFactory(a);o=this.activated=this.location.createComponent(D,this.location.length,v)}else o=this.activated=this.location.createComponent(a,{index:this.location.length,injector:v,environmentInjector:r??this.environmentInjector});f.next(o.instance),i=this.stackCtrl.createView(this.activated,e),this.proxyMap.set(o.instance,y),this.currentActivatedRoute$.next({component:o.instance,activatedRoute:e})}this.activatedView=i,this.stackCtrl.setActive(i).then(s=>{this.navCtrl.setTopOutlet(this),this.activateEvents.emit(o.instance),this.stackEvents.emit(s)})}canGoBack(e=1,r){return this.stackCtrl.canGoBack(e,r)}pop(e=1,r){return this.stackCtrl.pop(e,r)}getLastUrl(e){const r=this.stackCtrl.getLastUrl(e);return r?r.url:void 0}getLastRouteView(e){return this.stackCtrl.getLastUrl(e)}getRootView(e){return this.stackCtrl.getRootUrl(e)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(e,r){const o=new Ca;return o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,o._paramMap=this.proxyObservable(e,"paramMap"),o._queryParamMap=this.proxyObservable(e,"queryParamMap"),o.url=this.proxyObservable(e,"url"),o.params=this.proxyObservable(e,"params"),o.queryParams=this.proxyObservable(e,"queryParams"),o.fragment=this.proxyObservable(e,"fragment"),o.data=this.proxyObservable(e,"data"),o}proxyObservable(e,r){return e.pipe(jo(o=>!!o),xi(o=>this.currentActivatedRoute$.pipe(jo(i=>null!==i&&i.component===o),xi(i=>i&&i.activatedRoute[r]),dI())))}updateActivatedRouteProxy(e,r){const o=this.proxyMap.get(e);if(!o)throw new Error("Could not find activated route proxy for view");o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,this.currentActivatedRoute$.next({component:e,activatedRoute:r})}}return t.\u0275fac=function(e){return new(e||t)(C(jl),C(oi),wl("name"),wl("tabs"),C(DI),C(Rd),C(jv,8),C(aa,8),C(rd),C(ut),C(Ur),C(rt),C(Ca),C(t,12))},t.\u0275dir=Ee({type:t,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class aV{constructor(n,e,r){this.route=n,this.childContexts=e,this.parent=r}get(n,e){return n===Ca?this.route:n===jl?this.childContexts:this.parent.get(n,e)}}let TI=(()=>{class t{constructor(e){this.navCtrl=e,this.ionTabsWillChange=new yn,this.ionTabsDidChange=new yn}onPageSelected(e){const r=e.enteringView.stackId;e.tabSwitch&&void 0!==r&&(this.ionTabsWillChange.emit({tab:r}),this.tabBar&&(this.tabBar.selectedTab=r),this.ionTabsDidChange.emit({tab:r}))}select(e){const r="string"==typeof e,o=r?e:e.detail.tab,i=this.outlet.getActiveStackId()===o,s=`${this.outlet.tabsPrefix}/${o}`;if(r||e.stopPropagation(),i){const a=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(a)?.url===s)return;const f=this.outlet.getRootView(o);return this.navCtrl.navigateRoot(s,Object.assign(Object.assign({},f&&s===f.url&&f.savedExtras),{animated:!0,animationDirection:"back"}))}{const a=this.outlet.getLastRouteView(o),f=a?.savedExtras;return this.navCtrl.navigateRoot(a?.url||s,Object.assign(Object.assign({},f),{animated:!0,animationDirection:"back"}))}}getSelected(){return this.outlet.getActiveStackId()}}return t.\u0275fac=function(e){return new(e||t)(C(Rd))},t.\u0275cmp=de({type:t,selectors:[["ion-tabs"]],contentQueries:function(e,r,o){if(1&e&&function ca(t,n,e,r){const o=Ln();if(o.firstCreatePass){const i=br();qC(o,new GC(n,e,r),i.index),function x2(t,n){const e=t.contentQueries||(t.contentQueries=[]);n!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,n)}(o,t),2==(2&e)&&(o.staticContentQueries=!0)}WC(o,it(),e)}(o,Bv,5),2&e){let i;Bi(i=Vi())&&(r.tabBar=i.first)}},viewQuery:function(e,r){if(1&e&&Qu($4,5,Fd),2&e){let o;Bi(o=Vi())&&(r.outlet=o.first)}},hostBindings:function(e,r){1&e&&ct("ionTabButtonClick",function(i){return r.select(i)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:V4,decls:5,vars:0,consts:[[1,"tabs-inner"],["tabs","true",3,"stackEvents"],["outlet",""]],template:function(e,r){1&e&&(Et(B4),St(0),_e(1,"div",0)(2,"ion-router-outlet",1,2),ct("stackEvents",function(i){return r.onPageSelected(i)}),fe()(),St(4,1))},dependencies:[Fd],styles:["[_nghost-%COMP%] {\n        display: flex;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n\n        flex-direction: column;\n\n        width: 100%;\n        height: 100%;\n\n        contain: layout size style;\n        z-index: $z-index-page-container;\n      }\n      .tabs-inner[_ngcontent-%COMP%] {\n        position: relative;\n\n        flex: 1;\n\n        contain: layout size style;\n      }"]}),t})(),xI=(()=>{class t{constructor(e,r,o){this.routerOutlet=e,this.navCtrl=r,this.config=o}onClick(e){var r;const o=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(r=this.routerOutlet)&&void 0!==r&&r.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),e.preventDefault()):null!=o&&(this.navCtrl.navigateBack(o,{animation:this.routerAnimation}),e.preventDefault())}}return t.\u0275fac=function(e){return new(e||t)(C(Fd,8),C(Rd),C(DI))},t.\u0275dir=Ee({type:t,selectors:[["ion-back-button"]],hostBindings:function(e,r){1&e&&ct("click",function(i){return r.onClick(i)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),t})(),AI=(()=>{let t=class{constructor(e,r,o,i,s){this.el=e.nativeElement,e.nativeElement.delegate=i.create(r,o,s),ir(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return t.\u0275fac=function(e){return new(e||t)(C(ut),C(aa),C(gr),C(ch),C(oi))},t.\u0275dir=Ee({type:t,selectors:[["ion-nav"]]}),t=se([Dt({inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],t),t})();class Od{constructor(n){this.ctrl=n}create(n){return this.ctrl.create(n||{})}dismiss(n,e,r){return this.ctrl.dismiss(n,e,r)}getTop(){return this.ctrl.getTop()}}let Uv=(()=>{class t extends Od{constructor(){super(Md.b)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),eu=(()=>{class t extends Od{constructor(){super(Md.a)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),el=(()=>{class t extends Od{constructor(){super(Md.l)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ws=(()=>{class t extends Od{constructor(e,r,o,i){super(Md.m),this.angularDelegate=e,this.resolver=r,this.injector=o,this.environmentInjector=i}create(e){var r;return super.create(Object.assign(Object.assign({},e),{delegate:this.angularDelegate.create(null!==(r=this.resolver)&&void 0!==r?r:this.environmentInjector,this.injector)}))}}return t.\u0275fac=function(e){return new(e||t)(me(ch),me(aa),me(gr),me(jv,8))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),Nd=(()=>{class t extends Od{constructor(e,r,o,i){super(Md.c),this.angularDelegate=e,this.resolver=r,this.injector=o,this.environmentInjector=i}create(e){var r;return super.create(Object.assign(Object.assign({},e),{delegate:this.angularDelegate.create(null!==(r=this.resolver)&&void 0!==r?r:this.environmentInjector,this.injector)}))}}return t.\u0275fac=function(e){return new(e||t)(me(ch),me(aa),me(gr),me(jv,8))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();class hV{shouldDetach(n){return!1}shouldAttach(n){return!1}store(n,e){}retrieve(n){return null}shouldReuseRoute(n,e){if(n.routeConfig!==e.routeConfig)return!1;const r=n.params,o=e.params,i=Object.keys(r),s=Object.keys(o);if(i.length!==s.length)return!1;for(const a of i)if(o[a]!==r[a])return!1;return!0}}const mV=(t,n,e)=>()=>{if(n.defaultView&&typeof window<"u"){(t=>{const n=window,e=n.Ionic;e&&e.config&&"Object"!==e.config.constructor.name||(n.Ionic=n.Ionic||{},n.Ionic.config=Object.assign(Object.assign({},n.Ionic.config),t))})(Object.assign(Object.assign({},t),{_zoneGate:i=>e.run(i)}));const o="__zone_symbol__addEventListener"in n.body?"__zone_symbol__addEventListener":"addEventListener";return function F4(){var t=[];if(typeof window<"u"){var n=window;(!n.customElements||n.Element&&(!n.Element.prototype.closest||!n.Element.prototype.matches||!n.Element.prototype.remove||!n.Element.prototype.getRootNode))&&t.push(R.e(6748).then(R.t.bind(R,3314,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||n.NodeList&&!n.NodeList.prototype.forEach||!n.fetch||!function(){try{var r=new URL("b","http://a");return r.pathname="c%20d","http://a/c%20d"===r.href&&r.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&t.push(R.e(2214).then(R.t.bind(R,7320,23)))}return Promise.all(t)}().then(()=>((t,n)=>typeof window>"u"?Promise.resolve():(0,cI.p)().then(()=>(O4(),(0,cI.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[4,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"activated":[32]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal"]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),n))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:fI,jmp:i=>e.runOutsideAngular(i),ael(i,s,a,c){i[o](s,a,c)},rel(i,s,a,c){i.removeEventListener(s,a,c)}}))}};let tl=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[{provide:II,useValue:e},{provide:Al,useFactory:mV,multi:!0,deps:[II,Eo,rt]}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Kn({providers:[ch,ws,Nd],imports:[[Us]]}),t})();class gV extends W{constructor(n,e){super()}schedule(n,e=0){return this}}const uh={setInterval(t,n,...e){const{delegate:r}=uh;return r?.setInterval?r.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){const{delegate:n}=uh;return(n?.clearInterval||clearInterval)(t)},delegate:void 0},Gv={now:()=>(Gv.delegate||Date).now(),delegate:void 0};class Ld{constructor(n,e=Ld.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,r){return new this.schedulerActionCtor(this,n).schedule(r,e)}}Ld.now=Gv.now;const OI=new class vV extends Ld{constructor(n,e=Ld.now){super(n,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,r){for(;n=e.shift();)n.unsubscribe();throw r}}}(class yV extends gV{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){if(this.closed)return this;this.state=n;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(o,this.id,e),this}requestAsyncId(n,e,r=0){return uh.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;uh.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let o,r=!1;try{this.work(n)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,ee(r,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}}),_V=OI;function NI(t=0,n,e=_V){let r=-1;return null!=n&&(Wo(n)?e=n:r=n),new at(o=>{let i=function wV(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;i<0&&(i=0);let s=0;return e.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}class bV extends z{constructor(n=1/0,e=1/0,r=Gv){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){const{isStopped:e,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;e||(r.push(n),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(n),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!n.closed;s+=r?1:2)n.next(i[s]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){const{_bufferSize:n,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*n;if(n<1/0&&i<r.length&&r.splice(0,r.length-i),!o){const s=e.now();let a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}}let tu={baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const DV=/[&<>"']/,IV=/[&<>"']/g,MV=/[<>"']|&(?!#?\w+;)/,kV=/[<>"']|&(?!#?\w+;)/g,TV={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},$I=t=>TV[t];function Ao(t,n){if(n){if(DV.test(t))return t.replace(IV,$I)}else if(MV.test(t))return t.replace(kV,$I);return t}const xV=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function BI(t){return t.replace(xV,(n,e)=>"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):"")}const AV=/(^|[^\[])\^/g;function Sr(t,n){t="string"==typeof t?t:t.source,n=n||"";const e={replace:(r,o)=>(o=(o=o.source||o).replace(AV,"$1"),t=t.replace(r,o),e),getRegex:()=>new RegExp(t,n)};return e}const PV=/[^\w:]/g,RV=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function VI(t,n,e){if(t){let r;try{r=decodeURIComponent(BI(e)).replace(PV,"").toLowerCase()}catch{return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}n&&!RV.test(e)&&(e=function LV(t,n){dh[" "+t]||(dh[" "+t]=FV.test(t)?t+"/":ph(t,"/",!0));const e=-1===(t=dh[" "+t]).indexOf(":");return"//"===n.substring(0,2)?e?n:t.replace(OV,"$1")+n:"/"===n.charAt(0)?e?n:t.replace(NV,"$1")+n:t+n}(n,e));try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}const dh={},FV=/^[^:]+:\/*[^/]*$/,OV=/^([^:]+:)[\s\S]*$/,NV=/^([^:]+:\/*[^/]*)[\s\S]*$/,fh={exec:function(){}};function bs(t){let e,r,n=1;for(;n<arguments.length;n++)for(r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}function HI(t,n){const r=t.replace(/\|/g,(i,s,a)=>{let c=!1,f=s;for(;--f>=0&&"\\"===a[f];)c=!c;return c?"|":" |"}).split(/ \|/);let o=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>n)r.splice(n);else for(;r.length<n;)r.push("");for(;o<r.length;o++)r[o]=r[o].trim().replace(/\\\|/g,"|");return r}function ph(t,n,e){const r=t.length;if(0===r)return"";let o=0;for(;o<r;){const i=t.charAt(r-o-1);if(i!==n||e){if(i===n||!e)break;o++}else o++}return t.slice(0,r-o)}function jI(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function UI(t,n){if(n<1)return"";let e="";for(;n>1;)1&n&&(e+=t),n>>=1,t+=t;return e+t}function GI(t,n,e,r){const o=n.href,i=n.title?Ao(n.title):null,s=t[1].replace(/\\([\[\]])/g,"$1");if("!"!==t[0].charAt(0)){r.state.inLink=!0;const a={type:"link",raw:e,href:o,title:i,text:s,tokens:r.inlineTokens(s,[])};return r.state.inLink=!1,a}return{type:"image",raw:e,href:o,title:i,text:Ao(s)}}class zv{constructor(n){this.options=n||tu}space(n){const e=this.rules.block.newline.exec(n);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(n){const e=this.rules.block.code.exec(n);if(e){const r=e[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?r:ph(r,"\n")}}}fences(n){const e=this.rules.block.fences.exec(n);if(e){const r=e[0],o=function BV(t,n){const e=t.match(/^(\s+)(?:```)/);if(null===e)return n;const r=e[1];return n.split("\n").map(o=>{const i=o.match(/^\s+/);if(null===i)return o;const[s]=i;return s.length>=r.length?o.slice(r.length):o}).join("\n")}(r,e[3]||"");return{type:"code",raw:r,lang:e[2]?e[2].trim():e[2],text:o}}}heading(n){const e=this.rules.block.heading.exec(n);if(e){let r=e[2].trim();if(/#$/.test(r)){const i=ph(r,"#");(this.options.pedantic||!i||/ $/.test(i))&&(r=i.trim())}const o={type:"heading",raw:e[0],depth:e[1].length,text:r,tokens:[]};return this.lexer.inline(o.text,o.tokens),o}}hr(n){const e=this.rules.block.hr.exec(n);if(e)return{type:"hr",raw:e[0]}}blockquote(n){const e=this.rules.block.blockquote.exec(n);if(e){const r=e[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:e[0],tokens:this.lexer.blockTokens(r,[]),text:r}}}list(n){let e=this.rules.block.list.exec(n);if(e){let r,o,i,s,a,c,f,y,v,D,x,Q,Ie=e[1].trim();const We=Ie.length>1,Be={type:"list",raw:"",ordered:We,start:We?+Ie.slice(0,-1):"",loose:!1,items:[]};Ie=We?`\\d{1,9}\\${Ie.slice(-1)}`:`\\${Ie}`,this.options.pedantic&&(Ie=We?Ie:"[*+-]");const st=new RegExp(`^( {0,3}${Ie})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;n&&(Q=!1,(e=st.exec(n))&&!this.rules.block.hr.test(n));){if(r=e[0],n=n.substring(r.length),y=e[2].split("\n",1)[0],v=n.split("\n",1)[0],this.options.pedantic?(s=2,x=y.trimLeft()):(s=e[2].search(/[^ ]/),s=s>4?1:s,x=y.slice(s),s+=e[1].length),c=!1,!y&&/^ *$/.test(v)&&(r+=v+"\n",n=n.substring(v.length+1),Q=!0),!Q){const ot=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))`),qt=new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),ln=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),Io=new RegExp(`^ {0,${Math.min(3,s-1)}}#`);for(;n&&(D=n.split("\n",1)[0],y=D,this.options.pedantic&&(y=y.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(ln.test(y)||Io.test(y)||ot.test(y)||qt.test(n)));){if(y.search(/[^ ]/)>=s||!y.trim())x+="\n"+y.slice(s);else{if(c)break;x+="\n"+y}!c&&!y.trim()&&(c=!0),r+=D+"\n",n=n.substring(D.length+1)}}Be.loose||(f?Be.loose=!0:/\n *\n *$/.test(r)&&(f=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(x),o&&(i="[ ] "!==o[0],x=x.replace(/^\[[ xX]\] +/,""))),Be.items.push({type:"list_item",raw:r,task:!!o,checked:i,loose:!1,text:x}),Be.raw+=r}Be.items[Be.items.length-1].raw=r.trimRight(),Be.items[Be.items.length-1].text=x.trimRight(),Be.raw=Be.raw.trimRight();const Ye=Be.items.length;for(a=0;a<Ye;a++){this.lexer.state.top=!1,Be.items[a].tokens=this.lexer.blockTokens(Be.items[a].text,[]);const ot=Be.items[a].tokens.filter(ln=>"space"===ln.type),qt=ot.every(ln=>{const Io=ln.raw.split("");let Xi=0;for(const Yl of Io)if("\n"===Yl&&(Xi+=1),Xi>1)return!0;return!1});!Be.loose&&ot.length&&qt&&(Be.loose=!0,Be.items[a].loose=!0)}return Be}}html(n){const e=this.rules.block.html.exec(n);if(e){const r={type:"html",raw:e[0],pre:!this.options.sanitizer&&("pre"===e[1]||"script"===e[1]||"style"===e[1]),text:e[0]};return this.options.sanitize&&(r.type="paragraph",r.text=this.options.sanitizer?this.options.sanitizer(e[0]):Ao(e[0]),r.tokens=[],this.lexer.inline(r.text,r.tokens)),r}}def(n){const e=this.rules.block.def.exec(n);if(e)return e[3]&&(e[3]=e[3].substring(1,e[3].length-1)),{type:"def",tag:e[1].toLowerCase().replace(/\s+/g," "),raw:e[0],href:e[2],title:e[3]}}table(n){const e=this.rules.block.table.exec(n);if(e){const r={type:"table",header:HI(e[1]).map(o=>({text:o})),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:e[3]&&e[3].trim()?e[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(r.header.length===r.align.length){r.raw=e[0];let i,s,a,c,o=r.align.length;for(i=0;i<o;i++)r.align[i]=/^ *-+: *$/.test(r.align[i])?"right":/^ *:-+: *$/.test(r.align[i])?"center":/^ *:-+ *$/.test(r.align[i])?"left":null;for(o=r.rows.length,i=0;i<o;i++)r.rows[i]=HI(r.rows[i],r.header.length).map(f=>({text:f}));for(o=r.header.length,s=0;s<o;s++)r.header[s].tokens=[],this.lexer.inline(r.header[s].text,r.header[s].tokens);for(o=r.rows.length,s=0;s<o;s++)for(c=r.rows[s],a=0;a<c.length;a++)c[a].tokens=[],this.lexer.inline(c[a].text,c[a].tokens);return r}}}lheading(n){const e=this.rules.block.lheading.exec(n);if(e){const r={type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1],tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}paragraph(n){const e=this.rules.block.paragraph.exec(n);if(e){const r={type:"paragraph",raw:e[0],text:"\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1],tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}text(n){const e=this.rules.block.text.exec(n);if(e){const r={type:"text",raw:e[0],text:e[0],tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}escape(n){const e=this.rules.inline.escape.exec(n);if(e)return{type:"escape",raw:e[0],text:Ao(e[1])}}tag(n){const e=this.rules.inline.tag.exec(n);if(e)return!this.lexer.state.inLink&&/^<a /i.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):Ao(e[0]):e[0]}}link(n){const e=this.rules.inline.link.exec(n);if(e){const r=e[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const s=ph(r.slice(0,-1),"\\");if((r.length-s.length)%2==0)return}else{const s=function $V(t,n){if(-1===t.indexOf(n[1]))return-1;const e=t.length;let r=0,o=0;for(;o<e;o++)if("\\"===t[o])o++;else if(t[o]===n[0])r++;else if(t[o]===n[1]&&(r--,r<0))return o;return-1}(e[2],"()");if(s>-1){const c=(0===e[0].indexOf("!")?5:4)+e[1].length+s;e[2]=e[2].substring(0,s),e[0]=e[0].substring(0,c).trim(),e[3]=""}}let o=e[2],i="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);s&&(o=s[1],i=s[3])}else i=e[3]?e[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(r)?o.slice(1):o.slice(1,-1)),GI(e,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},e[0],this.lexer)}}reflink(n,e){let r;if((r=this.rules.inline.reflink.exec(n))||(r=this.rules.inline.nolink.exec(n))){let o=(r[2]||r[1]).replace(/\s+/g," ");if(o=e[o.toLowerCase()],!o||!o.href){const i=r[0].charAt(0);return{type:"text",raw:i,text:i}}return GI(r,o,r[0],this.lexer)}}emStrong(n,e,r=""){let o=this.rules.inline.emStrong.lDelim.exec(n);if(!o||o[3]&&r.match(/[\p{L}\p{N}]/u))return;const i=o[1]||o[2]||"";if(!i||i&&(""===r||this.rules.inline.punctuation.exec(r))){const s=o[0].length-1;let a,c,f=s,y=0;const v="*"===o[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(v.lastIndex=0,e=e.slice(-1*n.length+s);null!=(o=v.exec(e));){if(a=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!a)continue;if(c=a.length,o[3]||o[4]){f+=c;continue}if((o[5]||o[6])&&s%3&&!((s+c)%3)){y+=c;continue}if(f-=c,f>0)continue;if(c=Math.min(c,c+f+y),Math.min(s,c)%2){const x=n.slice(1,s+o.index+c);return{type:"em",raw:n.slice(0,s+o.index+c+1),text:x,tokens:this.lexer.inlineTokens(x,[])}}const D=n.slice(2,s+o.index+c-1);return{type:"strong",raw:n.slice(0,s+o.index+c+1),text:D,tokens:this.lexer.inlineTokens(D,[])}}}}codespan(n){const e=this.rules.inline.code.exec(n);if(e){let r=e[2].replace(/\n/g," ");const o=/[^ ]/.test(r),i=/^ /.test(r)&&/ $/.test(r);return o&&i&&(r=r.substring(1,r.length-1)),r=Ao(r,!0),{type:"codespan",raw:e[0],text:r}}}br(n){const e=this.rules.inline.br.exec(n);if(e)return{type:"br",raw:e[0]}}del(n){const e=this.rules.inline.del.exec(n);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2],[])}}autolink(n,e){const r=this.rules.inline.autolink.exec(n);if(r){let o,i;return"@"===r[2]?(o=Ao(this.options.mangle?e(r[1]):r[1]),i="mailto:"+o):(o=Ao(r[1]),i=o),{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}url(n,e){let r;if(r=this.rules.inline.url.exec(n)){let o,i;if("@"===r[2])o=Ao(this.options.mangle?e(r[0]):r[0]),i="mailto:"+o;else{let s;do{s=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(s!==r[0]);o=Ao(r[0]),i="www."===r[1]?"http://"+o:o}return{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(n,e){const r=this.rules.inline.text.exec(n);if(r){let o;return o=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):Ao(r[0]):r[0]:Ao(this.options.smartypants?e(r[0]):r[0]),{type:"text",raw:r[0],text:o}}}}const un={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:fh,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};un.def=Sr(un.def).replace("label",un._label).replace("title",un._title).getRegex(),un.bullet=/(?:[*+-]|\d{1,9}[.)])/,un.listItemStart=Sr(/^( *)(bull) */).replace("bull",un.bullet).getRegex(),un.list=Sr(un.list).replace(/bull/g,un.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+un.def.source+")").getRegex(),un._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",un._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,un.html=Sr(un.html,"i").replace("comment",un._comment).replace("tag",un._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),un.paragraph=Sr(un._paragraph).replace("hr",un.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",un._tag).getRegex(),un.blockquote=Sr(un.blockquote).replace("paragraph",un.paragraph).getRegex(),un.normal=bs({},un),un.gfm=bs({},un.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),un.gfm.table=Sr(un.gfm.table).replace("hr",un.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",un._tag).getRegex(),un.gfm.paragraph=Sr(un._paragraph).replace("hr",un.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",un.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",un._tag).getRegex(),un.pedantic=bs({},un.normal,{html:Sr("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",un._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:fh,paragraph:Sr(un.normal._paragraph).replace("hr",un.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",un.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const Ht={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:fh,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:fh,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function VV(t){return t.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function zI(t){let e,r,n="";const o=t.length;for(e=0;e<o;e++)r=t.charCodeAt(e),Math.random()>.5&&(r="x"+r.toString(16)),n+="&#"+r+";";return n}Ht._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Ht.punctuation=Sr(Ht.punctuation).replace(/punctuation/g,Ht._punctuation).getRegex(),Ht.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Ht.escapedEmSt=/\\\*|\\_/g,Ht._comment=Sr(un._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Ht.emStrong.lDelim=Sr(Ht.emStrong.lDelim).replace(/punct/g,Ht._punctuation).getRegex(),Ht.emStrong.rDelimAst=Sr(Ht.emStrong.rDelimAst,"g").replace(/punct/g,Ht._punctuation).getRegex(),Ht.emStrong.rDelimUnd=Sr(Ht.emStrong.rDelimUnd,"g").replace(/punct/g,Ht._punctuation).getRegex(),Ht._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Ht._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Ht._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Ht.autolink=Sr(Ht.autolink).replace("scheme",Ht._scheme).replace("email",Ht._email).getRegex(),Ht._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Ht.tag=Sr(Ht.tag).replace("comment",Ht._comment).replace("attribute",Ht._attribute).getRegex(),Ht._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Ht._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Ht._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Ht.link=Sr(Ht.link).replace("label",Ht._label).replace("href",Ht._href).replace("title",Ht._title).getRegex(),Ht.reflink=Sr(Ht.reflink).replace("label",Ht._label).replace("ref",un._label).getRegex(),Ht.nolink=Sr(Ht.nolink).replace("ref",un._label).getRegex(),Ht.reflinkSearch=Sr(Ht.reflinkSearch,"g").replace("reflink",Ht.reflink).replace("nolink",Ht.nolink).getRegex(),Ht.normal=bs({},Ht),Ht.pedantic=bs({},Ht.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Sr(/^!?\[(label)\]\((.*?)\)/).replace("label",Ht._label).getRegex(),reflink:Sr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ht._label).getRegex()}),Ht.gfm=bs({},Ht.normal,{escape:Sr(Ht.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Ht.gfm.url=Sr(Ht.gfm.url,"i").replace("email",Ht.gfm._extended_email).getRegex(),Ht.breaks=bs({},Ht.gfm,{br:Sr(Ht.br).replace("{2,}","*").getRegex(),text:Sr(Ht.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class Ea{constructor(n){this.tokens=[],this.tokens.links=Object.create(null),this.options=n||tu,this.options.tokenizer=this.options.tokenizer||new zv,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const e={block:un.normal,inline:Ht.normal};this.options.pedantic?(e.block=un.pedantic,e.inline=Ht.pedantic):this.options.gfm&&(e.block=un.gfm,e.inline=this.options.breaks?Ht.breaks:Ht.gfm),this.tokenizer.rules=e}static get rules(){return{block:un,inline:Ht}}static lex(n,e){return new Ea(e).lex(n)}static lexInline(n,e){return new Ea(e).inlineTokens(n)}lex(n){let e;for(n=n.replace(/\r\n|\r/g,"\n"),this.blockTokens(n,this.tokens);e=this.inlineQueue.shift();)this.inlineTokens(e.src,e.tokens);return this.tokens}blockTokens(n,e=[]){let r,o,i,s;for(n=this.options.pedantic?n.replace(/\t/g,"    ").replace(/^ +$/gm,""):n.replace(/^( *)(\t+)/gm,(a,c,f)=>c+"    ".repeat(f.length));n;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(r=a.call({lexer:this},n,e))&&(n=n.substring(r.raw.length),e.push(r),!0)))){if(r=this.tokenizer.space(n)){n=n.substring(r.raw.length),1===r.raw.length&&e.length>0?e[e.length-1].raw+="\n":e.push(r);continue}if(r=this.tokenizer.code(n)){n=n.substring(r.raw.length),o=e[e.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?e.push(r):(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(r=this.tokenizer.fences(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.heading(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.hr(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.blockquote(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.list(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.html(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.def(n)){n=n.substring(r.raw.length),o=e[e.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title}):(o.raw+="\n"+r.raw,o.text+="\n"+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(r=this.tokenizer.table(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.lheading(n)){n=n.substring(r.raw.length),e.push(r);continue}if(i=n,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const c=n.slice(1);let f;this.options.extensions.startBlock.forEach(function(y){f=y.call({lexer:this},c),"number"==typeof f&&f>=0&&(a=Math.min(a,f))}),a<1/0&&a>=0&&(i=n.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){o=e[e.length-1],s&&"paragraph"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):e.push(r),s=i.length!==n.length,n=n.substring(r.raw.length);continue}if(r=this.tokenizer.text(n)){n=n.substring(r.raw.length),o=e[e.length-1],o&&"text"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):e.push(r);continue}if(n){const a="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,e}inline(n,e){this.inlineQueue.push({src:n,tokens:e})}inlineTokens(n,e=[]){let r,o,i,a,c,f,s=n;if(this.tokens.links){const y=Object.keys(this.tokens.links);if(y.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(s));)y.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+UI("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,a.index)+"["+UI("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.escapedEmSt.exec(s));)s=s.slice(0,a.index)+"++"+s.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;n;)if(c||(f=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(y=>!!(r=y.call({lexer:this},n,e))&&(n=n.substring(r.raw.length),e.push(r),!0)))){if(r=this.tokenizer.escape(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.tag(n)){n=n.substring(r.raw.length),o=e[e.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):e.push(r);continue}if(r=this.tokenizer.link(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.reflink(n,this.tokens.links)){n=n.substring(r.raw.length),o=e[e.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):e.push(r);continue}if(r=this.tokenizer.emStrong(n,s,f)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.codespan(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.br(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.del(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.autolink(n,zI)){n=n.substring(r.raw.length),e.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(n,zI))){n=n.substring(r.raw.length),e.push(r);continue}if(i=n,this.options.extensions&&this.options.extensions.startInline){let y=1/0;const v=n.slice(1);let D;this.options.extensions.startInline.forEach(function(x){D=x.call({lexer:this},v),"number"==typeof D&&D>=0&&(y=Math.min(y,D))}),y<1/0&&y>=0&&(i=n.substring(0,y+1))}if(r=this.tokenizer.inlineText(i,VV)){n=n.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(f=r.raw.slice(-1)),c=!0,o=e[e.length-1],o&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):e.push(r);continue}if(n){const y="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(y);break}throw new Error(y)}}return e}}class nu{constructor(n){this.options=n||tu}code(n,e,r){const o=(e||"").match(/\S*/)[0];if(this.options.highlight){const i=this.options.highlight(n,o);null!=i&&i!==n&&(r=!0,n=i)}return n=n.replace(/\n$/,"")+"\n",o?'<pre><code class="'+this.options.langPrefix+Ao(o,!0)+'">'+(r?n:Ao(n,!0))+"</code></pre>\n":"<pre><code>"+(r?n:Ao(n,!0))+"</code></pre>\n"}blockquote(n){return`<blockquote>\n${n}</blockquote>\n`}html(n){return n}heading(n,e,r,o){return this.options.headerIds?`<h${e} id="${this.options.headerPrefix+o.slug(r)}">${n}</h${e}>\n`:`<h${e}>${n}</h${e}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(n,e,r){const o=e?"ol":"ul";return"<"+o+(e&&1!==r?' start="'+r+'"':"")+">\n"+n+"</"+o+">\n"}listitem(n){return`<li>${n}</li>\n`}checkbox(n){return"<input "+(n?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(n){return`<p>${n}</p>\n`}table(n,e){return e&&(e=`<tbody>${e}</tbody>`),"<table>\n<thead>\n"+n+"</thead>\n"+e+"</table>\n"}tablerow(n){return`<tr>\n${n}</tr>\n`}tablecell(n,e){const r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+n+`</${r}>\n`}strong(n){return`<strong>${n}</strong>`}em(n){return`<em>${n}</em>`}codespan(n){return`<code>${n}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(n){return`<del>${n}</del>`}link(n,e,r){if(null===(n=VI(this.options.sanitize,this.options.baseUrl,n)))return r;let o='<a href="'+Ao(n)+'"';return e&&(o+=' title="'+e+'"'),o+=">"+r+"</a>",o}image(n,e,r){if(null===(n=VI(this.options.sanitize,this.options.baseUrl,n)))return r;let o=`<img src="${n}" alt="${r}"`;return e&&(o+=` title="${e}"`),o+=this.options.xhtml?"/>":">",o}text(n){return n}}class WI{strong(n){return n}em(n){return n}codespan(n){return n}del(n){return n}html(n){return n}text(n){return n}link(n,e,r){return""+r}image(n,e,r){return""+r}br(){return""}}class qI{constructor(){this.seen={}}serialize(n){return n.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(n,e){let r=n,o=0;if(this.seen.hasOwnProperty(r)){o=this.seen[n];do{o++,r=n+"-"+o}while(this.seen.hasOwnProperty(r))}return e||(this.seen[n]=o,this.seen[r]=0),r}slug(n,e={}){const r=this.serialize(n);return this.getNextSafeSlug(r,e.dryrun)}}class Da{constructor(n){this.options=n||tu,this.options.renderer=this.options.renderer||new nu,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new WI,this.slugger=new qI}static parse(n,e){return new Da(e).parse(n)}static parseInline(n,e){return new Da(e).parseInline(n)}parse(n,e=!0){let o,i,s,a,c,f,y,v,D,x,Q,Ie,We,Be,st,Ye,ot,qt,ln,r="";const Io=n.length;for(o=0;o<Io;o++)if(x=n[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[x.type]&&(ln=this.options.extensions.renderers[x.type].call({parser:this},x),!1!==ln||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(x.type)))r+=ln||"";else switch(x.type){case"space":continue;case"hr":r+=this.renderer.hr();continue;case"heading":r+=this.renderer.heading(this.parseInline(x.tokens),x.depth,BI(this.parseInline(x.tokens,this.textRenderer)),this.slugger);continue;case"code":r+=this.renderer.code(x.text,x.lang,x.escaped);continue;case"table":for(v="",y="",a=x.header.length,i=0;i<a;i++)y+=this.renderer.tablecell(this.parseInline(x.header[i].tokens),{header:!0,align:x.align[i]});for(v+=this.renderer.tablerow(y),D="",a=x.rows.length,i=0;i<a;i++){for(f=x.rows[i],y="",c=f.length,s=0;s<c;s++)y+=this.renderer.tablecell(this.parseInline(f[s].tokens),{header:!1,align:x.align[s]});D+=this.renderer.tablerow(y)}r+=this.renderer.table(v,D);continue;case"blockquote":D=this.parse(x.tokens),r+=this.renderer.blockquote(D);continue;case"list":for(Q=x.ordered,Ie=x.start,We=x.loose,a=x.items.length,D="",i=0;i<a;i++)st=x.items[i],Ye=st.checked,ot=st.task,Be="",st.task&&(qt=this.renderer.checkbox(Ye),We?st.tokens.length>0&&"paragraph"===st.tokens[0].type?(st.tokens[0].text=qt+" "+st.tokens[0].text,st.tokens[0].tokens&&st.tokens[0].tokens.length>0&&"text"===st.tokens[0].tokens[0].type&&(st.tokens[0].tokens[0].text=qt+" "+st.tokens[0].tokens[0].text)):st.tokens.unshift({type:"text",text:qt}):Be+=qt),Be+=this.parse(st.tokens,We),D+=this.renderer.listitem(Be,ot,Ye);r+=this.renderer.list(D,Q,Ie);continue;case"html":r+=this.renderer.html(x.text);continue;case"paragraph":r+=this.renderer.paragraph(this.parseInline(x.tokens));continue;case"text":for(D=x.tokens?this.parseInline(x.tokens):x.text;o+1<Io&&"text"===n[o+1].type;)x=n[++o],D+="\n"+(x.tokens?this.parseInline(x.tokens):x.text);r+=e?this.renderer.paragraph(D):D;continue;default:{const Xi='Token with "'+x.type+'" type was not found.';if(this.options.silent)return void console.error(Xi);throw new Error(Xi)}}return r}parseInline(n,e){e=e||this.renderer;let o,i,s,r="";const a=n.length;for(o=0;o<a;o++)if(i=n[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]&&(s=this.options.extensions.renderers[i.type].call({parser:this},i),!1!==s||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)))r+=s||"";else switch(i.type){case"escape":case"text":r+=e.text(i.text);break;case"html":r+=e.html(i.text);break;case"link":r+=e.link(i.href,i.title,this.parseInline(i.tokens,e));break;case"image":r+=e.image(i.href,i.title,i.text);break;case"strong":r+=e.strong(this.parseInline(i.tokens,e));break;case"em":r+=e.em(this.parseInline(i.tokens,e));break;case"codespan":r+=e.codespan(i.text);break;case"br":r+=e.br();break;case"del":r+=e.del(this.parseInline(i.tokens,e));break;default:{const c='Token with "'+i.type+'" type was not found.';if(this.options.silent)return void console.error(c);throw new Error(c)}}return r}}function _n(t,n,e){if(typeof t>"u"||null===t)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if("function"==typeof n&&(e=n,n=null),jI(n=bs({},_n.defaults,n||{})),e){const r=n.highlight;let o;try{o=Ea.lex(t,n)}catch(a){return e(a)}const i=function(a){let c;if(!a)try{n.walkTokens&&_n.walkTokens(o,n.walkTokens),c=Da.parse(o,n)}catch(f){a=f}return n.highlight=r,a?e(a):e(null,c)};if(!r||r.length<3||(delete n.highlight,!o.length))return i();let s=0;return _n.walkTokens(o,function(a){"code"===a.type&&(s++,setTimeout(()=>{r(a.text,a.lang,function(c,f){if(c)return i(c);null!=f&&f!==a.text&&(a.text=f,a.escaped=!0),s--,0===s&&i()})},0))}),void(0===s&&i())}try{const r=Ea.lex(t,n);return n.walkTokens&&_n.walkTokens(r,n.walkTokens),Da.parse(r,n)}catch(r){if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",n.silent)return"<p>An error occurred:</p><pre>"+Ao(r.message+"",!0)+"</pre>";throw r}}_n.options=_n.setOptions=function(t){return bs(_n.defaults,t),function EV(t){tu=t}(_n.defaults),_n},_n.getDefaults=function LI(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},_n.defaults=tu,_n.use=function(...t){const n=bs({},...t),e=_n.defaults.extensions||{renderers:{},childTokens:{}};let r;t.forEach(o=>{if(o.extensions&&(r=!0,o.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if(i.renderer){const s=e.renderers?e.renderers[i.name]:null;e.renderers[i.name]=s?function(...a){let c=i.renderer.apply(this,a);return!1===c&&(c=s.apply(this,a)),c}:i.renderer}if(i.tokenizer){if(!i.level||"block"!==i.level&&"inline"!==i.level)throw new Error("extension level must be 'block' or 'inline'");e[i.level]?e[i.level].unshift(i.tokenizer):e[i.level]=[i.tokenizer],i.start&&("block"===i.level?e.startBlock?e.startBlock.push(i.start):e.startBlock=[i.start]:"inline"===i.level&&(e.startInline?e.startInline.push(i.start):e.startInline=[i.start]))}i.childTokens&&(e.childTokens[i.name]=i.childTokens)})),o.renderer){const i=_n.defaults.renderer||new nu;for(const s in o.renderer){const a=i[s];i[s]=(...c)=>{let f=o.renderer[s].apply(i,c);return!1===f&&(f=a.apply(i,c)),f}}n.renderer=i}if(o.tokenizer){const i=_n.defaults.tokenizer||new zv;for(const s in o.tokenizer){const a=i[s];i[s]=(...c)=>{let f=o.tokenizer[s].apply(i,c);return!1===f&&(f=a.apply(i,c)),f}}n.tokenizer=i}if(o.walkTokens){const i=_n.defaults.walkTokens;n.walkTokens=function(s){o.walkTokens.call(this,s),i&&i.call(this,s)}}r&&(n.extensions=e),_n.setOptions(n)})},_n.walkTokens=function(t,n){for(const e of t)switch(n.call(_n,e),e.type){case"table":for(const r of e.header)_n.walkTokens(r.tokens,n);for(const r of e.rows)for(const o of r)_n.walkTokens(o.tokens,n);break;case"list":_n.walkTokens(e.items,n);break;default:_n.defaults.extensions&&_n.defaults.extensions.childTokens&&_n.defaults.extensions.childTokens[e.type]?_n.defaults.extensions.childTokens[e.type].forEach(function(r){_n.walkTokens(e[r],n)}):e.tokens&&_n.walkTokens(e.tokens,n)}},_n.parseInline=function(t,n){if(typeof t>"u"||null===t)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");jI(n=bs({},_n.defaults,n||{}));try{const e=Ea.lexInline(t,n);return n.walkTokens&&_n.walkTokens(e,n.walkTokens),Da.parseInline(e,n)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",n.silent)return"<p>An error occurred:</p><pre>"+Ao(e.message+"",!0)+"</pre>";throw e}},_n.Parser=Da,_n.parser=Da.parse,_n.Renderer=nu,_n.TextRenderer=WI,_n.Lexer=Ea,_n.lexer=Ea.lex,_n.Tokenizer=zv,_n.Slugger=qI,_n.parse=_n;const HV=["*"];let Wv=(()=>{class t{constructor(){this._buttonClick$=new z,this.copied$=this._buttonClick$.pipe(xi(()=>Zo(vn(!0),NI(3e3).pipe(cv(!1)))),dI(),function CV(t,n,e){let r,o=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:n=1/0,refCount:o=!1,scheduler:e}=t):r=t??1/0,_i({connector:()=>new bV(r,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(1)),this.copiedText$=this.copied$.pipe(n1(!1),Je(e=>e?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=de({type:t,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(e,r){1&e&&(_e(0,"button",0),ct("click",function(){return r.onCopyToClipboardClick()}),Tl(1,"async"),tt(2),Tl(3,"async"),fe()),2&e&&(ja("copied",xl(1,3,r.copied$)),mt(2),gs(xl(3,5,r.copiedText$)))},dependencies:[cE],encapsulation:2,changeDetection:0}),t})();class GV{}var $d=(()=>{return(t=$d||($d={})).CommandLine="command-line",t.LineHighlight="line-highlight",t.LineNumbers="line-numbers",$d;var t})();class ZI{}const YI=new an("SECURITY_CONTEXT");let qv=(()=>{class t{constructor(e,r,o,i,s,a){this.platform=e,this.securityContext=r,this.http=o,this.clipboardOptions=i,this.sanitizer=a,this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this.DEFAULT_MARKED_OPTIONS={renderer:new nu},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this._reload$=new z,this.reload$=this._reload$.asObservable(),this.options=s}get options(){return this._options}set options(e){this._options={...this.DEFAULT_MARKED_OPTIONS,...e}}get renderer(){return this.options.renderer}set renderer(e){this.options.renderer=e}parse(e,r=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:o,inline:i,emoji:s,mermaid:a,markedOptions:c=this.options}=r;a&&(this.renderer=this.extendRenderer(c.renderer||new nu));const f=this.trimIndentation(e),y=o?this.decodeHtml(f):f,v=s?this.parseEmoji(y):y,D=this.parseMarked(v,c,i);return this.sanitizer.sanitize(this.securityContext,D)||""}render(e,r=this.DEFAULT_RENDER_OPTIONS,o){const{clipboard:i,clipboardOptions:s,katex:a,katexOptions:c,mermaid:f,mermaidOptions:y}=r;i&&this.renderClipboard(e,o,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...s}),a&&this.renderKatex(e,{...this.DEFAULT_KATEX_OPTIONS,...c}),f&&this.renderMermaid(e,{...this.DEFAULT_MERMAID_OPTIONS,...y}),this.highlight(e)}reload(){this._reload$.next()}getSource(e){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(e,{responseType:"text"}).pipe(Je(r=>this.handleExtension(e,r)))}highlight(e){if(!ma(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;e||(e=document);const r=e.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(r,o=>o.classList.add("language-none")),Prism.highlightAllUnder(e)}decodeHtml(e){if(!ma(this.platform))return e;const r=document.createElement("textarea");return r.innerHTML=e,r.value}extendRenderer(e){const r=e;if(!0===r.\u0275NgxMarkdownRendererExtended)return e;const o=e.code;return e.code=function(i,s,a){return"mermaid"===s?`<div class="mermaid">${i}</div>`:o.call(this,i,s,a)},r.\u0275NgxMarkdownRendererExtended=!0,e}handleExtension(e,r){const o=e.lastIndexOf("://"),i=o>-1?e.substring(o+4):e,s=i.lastIndexOf("/"),a=s>-1?i.substring(s+1).split("?")[0]:"",c=a.lastIndexOf("."),f=c>-1?a.substring(c+1):"";return f&&"md"!==f?"```"+f+"\n"+r+"\n```":r}parseMarked(e,r,o=!1){return ma(this.platform)?o?_n.parseInline(e,r):_n.parse(e,r):e}parseEmoji(e){if(!ma(this.platform))return e;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(e)}renderKatex(e,r){if(ma(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(e,r)}}renderClipboard(e,r,o){if(!ma(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!r)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:i,buttonTemplate:s}=o,a=e.querySelectorAll("pre");for(let c=0;c<a.length;c++){const f=a.item(c),y=document.createElement("div");y.style.position="relative",f.parentNode.insertBefore(y,f),y.appendChild(f);const v=document.createElement("div");let D,x;v.style.position="absolute",v.style.top=".5em",v.style.right=".5em",v.style.opacity="0",v.style.transition="opacity 250ms ease-out",y.insertAdjacentElement("beforeend",v),f.onmouseover=()=>v.style.opacity="1",f.onmouseout=()=>v.style.opacity="0",D=i?r.createComponent(i).hostView:s?r.createEmbeddedView(s):r.createComponent(Wv).hostView,D.rootNodes.forEach(Q=>{Q.onmouseover=()=>v.style.opacity="1",v.appendChild(Q),x=new ClipboardJS(Q,{text:()=>f.innerText})}),D.onDestroy(()=>x.destroy())}}renderMermaid(e,r=this.DEFAULT_MERMAID_OPTIONS){if(!ma(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.init>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const o=e.querySelectorAll(".mermaid");0!==o.length&&(mermaid.initialize(r),mermaid.init(o))}trimIndentation(e){if(!e)return"";let r;return e.split("\n").map(o=>{let i=r;return o.length>0&&(i=isNaN(i)?o.search(/\S|$/):Math.min(o.search(/\S|$/),i)),isNaN(r)&&(r=i),i?o.substring(i):o}).join("\n")}}return t.\u0275fac=function(e){return new(e||t)(me(jc),me(YI),me(Ry,8),me(GV,8),me(ZI,8),me(ky))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),Zv=(()=>{class t{constructor(e,r,o){this.element=e,this.markdownService=r,this.viewContainerRef=o,this.error=new yn,this.load=new yn,this.ready=new yn,this._commandLine=!1,this._clipboard=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new z}get inline(){return this._inline}set inline(e){this._inline=this.coerceBooleanProperty(e)}get clipboard(){return this._clipboard}set clipboard(e){this._clipboard=this.coerceBooleanProperty(e)}get emoji(){return this._emoji}set emoji(e){this._emoji=this.coerceBooleanProperty(e)}get katex(){return this._katex}set katex(e){this._katex=this.coerceBooleanProperty(e)}get mermaid(){return this._mermaid}set mermaid(e){this._mermaid=this.coerceBooleanProperty(e)}get lineHighlight(){return this._lineHighlight}set lineHighlight(e){this._lineHighlight=this.coerceBooleanProperty(e)}get lineNumbers(){return this._lineNumbers}set lineNumbers(e){this._lineNumbers=this.coerceBooleanProperty(e)}get commandLine(){return this._commandLine}set commandLine(e){this._commandLine=this.coerceBooleanProperty(e)}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(function SV(t){return Re((n,e)=>{S(t).subscribe(et(e,()=>e.complete(),$)),!e.closed&&n.subscribe(e)})}(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(e,r=!1){const i={clipboard:this.clipboard,clipboardOptions:{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate},katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},s=this.markdownService.parse(e,{decodeHtml:r,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid});this.element.nativeElement.innerHTML=s,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,i,this.viewContainerRef),this.ready.emit()}coerceBooleanProperty(e){return null!=e&&"false"!=`${String(e)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:e=>{this.render(e),this.load.emit(e)},error:e=>this.error.emit(e)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,$d.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,$d.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(e,r){const o=e.querySelectorAll("pre");for(let i=0;i<o.length;i++){const s=r instanceof Array?r:[r];o.item(i).classList.add(...s)}}setPluginOptions(e,r){const o=e.querySelectorAll("pre");for(let i=0;i<o.length;i++)Object.keys(r).forEach(s=>{const a=r[s];if(a){const c=this.toLispCase(s);o.item(i).setAttribute(c,a.toString())}})}toLispCase(e){const r=e.match(/([A-Z])/g);if(!r)return e;let o=e.toString();for(let i=0,s=r.length;i<s;i++)o=o.replace(new RegExp(r[i]),"-"+r[i].toLowerCase());return"-"===o.slice(0,1)&&(o=o.slice(1)),o}}return t.\u0275fac=function(e){return new(e||t)(C(ut),C(qv),C(oi))},t.\u0275cmp=de({type:t,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[bo],ngContentSelectors:HV,decls:1,vars:0,template:function(e,r){1&e&&(Et(),St(0))},encapsulation:2}),t})(),Yv=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[qv,e&&e.loader||[],e&&e.clipboardOptions||[],e&&e.markedOptions||[],{provide:YI,useValue:e&&null!=e.sanitize?e.sanitize:Cr.HTML}]}}static forChild(){return{ngModule:t}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Kn({imports:[Us]}),t})();var KI;!function(t){let n;var o;let e,r;(o=n=t.SecurityLevel||(t.SecurityLevel={})).Strict="strict",o.Loose="loose",o.Antiscript="antiscript",o.Sandbox="sandbox",function(o){o.Base="base",o.Forest="forest",o.Dark="dark",o.Default="default",o.Neutral="neutral"}(e=t.Theme||(t.Theme={})),function(o){o[o.Debug=1]="Debug",o[o.Info=2]="Info",o[o.Warn=3]="Warn",o[o.Error=4]="Error",o[o.Fatal=5]="Fatal"}(r=t.LogLevel||(t.LogLevel={}))}(KI||(KI={}));var Ce=R(3918);window;const XI=!navigator.userAgent.match(/(crios)|(fxios)/i),zs=!!navigator.platform.match(/iPhone|iPad|iPod/)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,QI=!!navigator.userAgent.match(/android/i);var nl=(()=>{return(t=nl||(nl={})).web="web",t.pwa="pwa",t.twa="twa",nl;var t})();new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked");const eH=new Error("request for lock canceled");var JI=function(t,n,e,r){return new(e||(e=Promise))(function(i,s){function a(y){try{f(r.next(y))}catch(v){s(v)}}function c(y){try{f(r.throw(y))}catch(v){s(v)}}function f(y){y.done?i(y.value):function o(i){return i instanceof e?i:new e(function(s){s(i)})}(y.value).then(a,c)}f((r=r.apply(t,n||[])).next())})};class tH{constructor(n,e=eH){if(this._maxConcurrency=n,this._cancelError=e,this._queue=[],this._waiters=[],n<=0)throw new Error("semaphore must be initialized to a positive value");this._value=n}acquire(){const n=this.isLocked(),e=new Promise((r,o)=>this._queue.push({resolve:r,reject:o}));return n||this._dispatch(),e}runExclusive(n){return JI(this,void 0,void 0,function*(){const[e,r]=yield this.acquire();try{return yield n(e)}finally{r()}})}waitForUnlock(){return JI(this,void 0,void 0,function*(){return this.isLocked()?new Promise(e=>this._waiters.push({resolve:e})):Promise.resolve()})}isLocked(){return this._value<=0}release(){if(this._maxConcurrency>1)throw new Error("this method is unavailable on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){const n=this._currentReleaser;this._currentReleaser=void 0,n()}}cancel(){this._queue.forEach(n=>n.reject(this._cancelError)),this._queue=[]}_dispatch(){const n=this._queue.shift();if(!n)return;let e=!1;this._currentReleaser=()=>{e||(e=!0,this._value++,this._resolveWaiters(),this._dispatch())},n.resolve([this._value--,this._currentReleaser])}_resolveWaiters(){this._waiters.forEach(n=>n.resolve()),this._waiters=[]}}class Ws{constructor(n){this._semaphore=new tH(1,n)}acquire(){return function(t,n,e,r){return new(e||(e=Promise))(function(i,s){function a(y){try{f(r.next(y))}catch(v){s(v)}}function c(y){try{f(r.throw(y))}catch(v){s(v)}}function f(y){y.done?i(y.value):function o(i){return i instanceof e?i:new e(function(s){s(i)})}(y.value).then(a,c)}f((r=r.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){const[,n]=yield this._semaphore.acquire();return n})}runExclusive(n){return this._semaphore.runExclusive(()=>n())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const hh="cloudpilot-session-preview";function tM(){localStorage.removeItem(hh)}let Ia=(()=>{class t{constructor(){}getCurrentSession(){return this.currentSession}setCurrentSession(e){this.currentSession=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),si=(()=>{class t{constructor(e,r){this.alertController=e,this.emulationState=r,this.emergencySaveEvent=new To.j}errorMessage(e){var r=this;return(0,Ce.Z)(function*(){yield(yield r.alertController.create({header:"Error",backdropDismiss:!1,message:e,buttons:[{text:"Close",role:"cancel"}]})).present()})()}message(e,r,o={},i="Close"){var s=this;return(0,Ce.Z)(function*(){const a=yield s.alertController.create({header:e,message:r,backdropDismiss:!1,buttons:[...Object.keys(o).map(c=>({text:c,handler:()=>{o[c](),a.dismiss()}})),{text:i,role:"cancel"}]});yield a.present(),yield a.onDidDismiss()})()}updateAvailable(){var e=this;return(0,Ce.Z)(function*(){yield(yield e.alertController.create({header:"Update available",message:"An update is available. Please close CloudpilotEmu and reload in order to update.",backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()},{text:"Close",role:"cancel"}]})).present()})()}fatalError(e,r=!0){var o=this;return(0,Ce.Z)(function*(){const i=!!o.emulationState.getCurrentSession();yield(yield o.alertController.create({header:"Error",message:`\n                ${e}\n                <br/><br/>\n                Please close or reload this window.\n                ${i&&r?" You may save an image of your current session before reloading.":""}\n            `,backdropDismiss:!1,buttons:[...i&&r?[{text:"Save image",handler:()=>(o.emergencySaveEvent.dispatch(),!1)}]:[],{text:"Reload",handler:()=>window.location.reload()}],cssClass:"fatal-error"})).present()})()}errorInNativeCode(e){var r=this;return(0,Ce.Z)(function*(){yield(yield r.alertController.create({header:"Error",message:`\n                You encountered a bug in CloudpilotEmu:\n                <br/><br/>\n                ${e}.\n                <br/><br/>\n                Please close or reload this window.\n            `,backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()}]})).present()})()}proxyVersionMismatchError(){return this.errorMessage("\n            Server version does not match CloudpilotEmu. Please make sure that you are using the latest\n            versions of CloudpilotEmu and of the server.\n        ")}cardHasNoValidFileSystem(){return this.message("No filesystem","This card does not contain a valid filesystem.",{},"Continue")}cardHasUncorrectableErrors(){return this.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors.",{},"Continue")}cardIsClean(){return this.message("Card clean","No filesystem errors were found.",{},"Continue")}}return t.\u0275fac=function(e){return new(e||t)(me(eu),me(Ia))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ql=(()=>{class t{constructor(e,r){this.alertService=e,this.ngZone=r,this.fatalPageLockLost=()=>this.fatalWithMessage("CloudpilotEmu was opened in another tab or window.",!1),this.fatalIDBDead=()=>this.fatalWithMessage("IndexedDB access failed. This is most likely a browser bug.",!1),this.fatalVersionMismatch=()=>this.fatalWithMessage("\n        Database was written by a newer version of CloudpilotEmu. Please wait for a few seconds before reloading\n        while the latest version downloads in the background.\n    ",!1),this.fatalBug=o=>this.fatalWithMessage(`You encountered a bug in CloudpilotEmu:<br/><br/>${o}.`),this.fatalInNativeCode=o=>this.fatalWithMessage(o.message,!0,!1),this.fatalWithMessage=(o,i=!0,s=!0)=>this.ngZone.run(()=>{this.fatalErrorTriggered||(this.fatalErrorTriggered=!0,i&&tM(),this.fatalErrorEvent.dispatch(),this.alertService.fatalError(o,s))}),this.fatalErrorEvent=new To.j,this.fatalErrorTriggered=!1}hasFatalError(){return this.fatalErrorTriggered}}return t.\u0275fac=function(e){return new(e||t)(me(si),me(rt))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Gr=(()=>{return(t=Gr||(Gr={})).cloudpilot="cloudpilot",t.fstools="fstools",t.vfs="vfs",t.none="none",Gr;var t})();let ru=(()=>{class t{constructor(e){this.errorService=e,this.ownershipMmap=new Map}getOwner(e){return this.ownershipMmap.get(e)??Gr.none}claim(e,r){this.assertOwnership(e,Gr.none),this.ownershipMmap.set(e,r)}release(e,r){this.assertOwnership(e,r),this.ownershipMmap.delete(e)}assertOwnership(e,r){if(this.getOwner(e)===r)return;const o=`Card is already claimed for ${this.getOwner(e)}.`;throw this.errorService.fatalBug(o),new Error(o)}transferOwnership(e,r,o){this.assertOwnership(e,r),this.ownershipMmap.set(e,o)}}return t.\u0275fac=function(e){return new(e||t)(me(ql))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ol="session",ou="rom",il="memory",Ma="state",mh="kvs",sl="memory-meta",qs="storage",Ki="storage-card",Bd="lock";class iu extends Error{constructor(n){super(n)}}function Wn(t){return new Promise((n,e)=>{!function lH(t){return!!t.abort}(t)?t.onsuccess=()=>n(t.result):t.oncomplete=()=>n(void 0),t.onerror=()=>e(new iu(t.error?.message))})}function rM(t){let n=255&t[0];n|=n<<8,n|=n<<16;for(let e=1;e<256;e++)if(t[e]!==n)return t;return 255&t[0]}function cH(t){const n=t[0];for(let e=1;e<2048;e++)if(t[e]!==n)return t;return n}const gh="session",Xv="memory",dH="memory-meta",fH="storage",iM="storage-meta",sM="storage-card",hH="storageId";function Qv(){return(Qv=(0,Ce.Z)(function*(t,n){function e(i){switch(i){case"PalmIIIc":case"PalmM505":case"PalmM515":return 81920;case"PalmI710":case"PalmM130":return 262144;default:return 0}}if(!n)throw new Error("no version change transaction!");const o=n.objectStore(gh).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const c=a.value,f={...c,totalMemory:1024*c.ram*1024+e(c.device)};a.update(f),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function Jv(){return(Jv=(0,Ce.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");const e=n.objectStore("kvs"),r=yield new Promise((o,i)=>{const s=e.get("proxyCredentials");s.onsuccess=()=>o(s.result),s.onerror=()=>i(new Error(s.error?.message))});r&&(e.put(r,"credentials"),e.delete("proxyCredentials"))})).apply(this,arguments)}function e_(){return(e_=(0,Ce.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");const e=t.createObjectStore(dH,{keyPath:"sessionId"});t.createObjectStore(fH),t.createObjectStore(iM,{keyPath:"id",autoIncrement:!0});const o=n.objectStore(gh).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const c=a.value;void 0!==c.totalMemory&&(e.put({sessionId:c.id,totalSize:c.totalMemory}),delete c.totalMemory,a.update(c)),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function t_(){return(t_=(0,Ce.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");n.objectStore(iM).name=sM})).apply(this,arguments)}function n_(){return(n_=(0,Ce.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");n.objectStore(sM).createIndex(hH,"storageId")})).apply(this,arguments)}function r_(){return(r_=(0,Ce.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");t.createObjectStore("lock")})).apply(this,arguments)}var SH=R(5023),EH=R.n(SH);const aM={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let yh;const DH=new Uint8Array(16);function IH(){if(!yh&&(yh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!yh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return yh(DH)}const zo=[];for(let t=0;t<256;++t)zo.push((t+256).toString(16).slice(1));const o_=function MH(t,n,e){if(aM.randomUUID&&!n&&!t)return aM.randomUUID();const r=(t=t||{}).random||(t.rng||IH)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,n){e=e||0;for(let o=0;o<16;++o)n[e+o]=r[o];return n}return function lM(t,n=0){return(zo[t[n+0]]+zo[t[n+1]]+zo[t[n+2]]+zo[t[n+3]]+"-"+zo[t[n+4]]+zo[t[n+5]]+"-"+zo[t[n+6]]+zo[t[n+7]]+"-"+zo[t[n+8]]+zo[t[n+9]]+"-"+zo[t[n+10]]+zo[t[n+11]]+zo[t[n+12]]+zo[t[n+13]]+zo[t[n+14]]+zo[t[n+15]]).toLowerCase()}(r)},i_=new Error("page lock lost"),cM=new Error("version mismatch"),uM=o_();function Xr(){return(t,n,e)=>{const r=e.value;return e.value=(0,Ce.Z)(function*(){const o=this.errorService;try{return yield r.apply(this,arguments)}catch(i){throw i instanceof iu?o.fatalIDBDead():i===cM?o.fatalVersionMismatch():i===i_?o.fatalPageLockLost():o.fatalBug(i?.message),i}}),e}}class On{constructor(n,e,r){this.ngZone=n,this.errorService=e,this.storageCardContext=r,this.saveMemory=(o,i,s)=>this.ngZone.runOutsideAngular(()=>{const a=o.objectStore(il),c=o.objectStore(sl),f=new Uint32Array(256),y=new Uint8Array(f.buffer);a.delete(IDBKeyRange.bound([i,0],[i+1,0],!1,!0)),c.put({sessionId:i,totalSize:s.length});const D=s.length>>>10;for(let x=0;x<D;x++){y.set(s.subarray(1024*x,1024*(x+1)));const Q=rM(f);if("number"==typeof Q)a.put(Q,[i,x]);else{const Ie=new Uint32Array(256);Ie.set(Q),a.put(Ie,[i,x])}}}),this.loadMemory=(o,i)=>this.ngZone.runOutsideAngular((0,Ce.Z)(function*(){const s=o.objectStore(sl),a=yield Wn(s.get(i));if(a)return new Promise(function(){var c=(0,Ce.Z)(function*(f,y){const v=o.objectStore(il),D=new Uint32Array(a.totalSize>>>2),x=v.openCursor(IDBKeyRange.bound([i,0],[i+1,0],!1,!0));x.onsuccess=()=>{const Q=x.result;if(!Q)return f(new Uint8Array(D.buffer));const Ie=Q.value,[,We]=Q.key;"number"==typeof Ie?D.subarray(256*We,256*(We+1)).fill(Ie|Ie<<8|Ie<<16|Ie<<24):D.subarray(256*We,256*(We+1)).set(1024===Ie.length?new Uint32Array(Ie.buffer):Ie),Q.continue()},x.onerror=()=>y(new iu(x.error?.message))});return function(f,y){return c.apply(this,arguments)}}())})),this.sessionChangeEvent=new To.j,this.storageCardChangeEvent=new To.j,this.sessionUpdateMutex=new Ws,this.db=this.requestPersistentStorage().then(()=>n.runOutsideAngular(()=>this.setupDb()))}getDb(){return this.db}addSession(n,e,r,o){var i=this;return(0,Ce.Z)(function*(){const s=EH()(e),a=yield i.newTransaction(ol,ou,Ma,il,sl),c=a.objectStore(ol),f=a.objectStore(ou);(yield Wn(f.get(s)))||f.put(e,s);const{id:v,...D}=n,x=yield Wn(c.add({...D,rom:s})),Q=yield Wn(c.get(x));return r&&i.saveMemory(a,Q.id,r),o&&i.saveState(a,Q.id,o),yield Wn(a),Q})()}getAllSessions(){var n=this;return(0,Ce.Z)(function*(){const[e]=yield n.prepareObjectStore(ol);return yield Wn(e.getAll())})()}getSession(n){var e=this;return(0,Ce.Z)(function*(){const[r]=yield e.prepareObjectStore(ol);return yield Wn(r.get(n))})()}deleteSession(n){var e=this;return(0,Ce.Z)(function*(){const r=yield e.newTransaction(ol,ou,Ma,il,sl),o=r.objectStore(ol),i=r.objectStore(ou);(n=yield Wn(o.get(n.id)))&&(o.delete(n.id),0===(yield Wn(o.index("rom").getAll(n.rom))).length&&i.delete(n.rom),e.deleteMemory(r,n.id),e.deleteState(r,n.id),yield Wn(r),e.sessionChangeEvent.dispatch([n.id,void 0]))})()}updateSessionPartial(n,e){var r=this;return this.sessionUpdateMutex.runExclusive((0,Ce.Z)(function*(){const{id:o,rom:i,ram:s,device:a,...c}=e,[f,y]=yield r.prepareObjectStore(ol),v=yield Wn(f.get(n));if(!v)throw new Error(`no session with id ${n}`);const D={...v,...c};f.put(D),yield Wn(y),r.sessionChangeEvent.dispatch([v.id,D])}))}updateSession(n){var e=this;return this.sessionUpdateMutex.runExclusive((0,Ce.Z)(function*(){const[r,o]=yield e.prepareObjectStore(ol),i=yield Wn(r.get(n.id));if(!i)throw new Error(`no session with id ${n.id}`);if(i.rom!==n.rom)throw new Error("attempt to change ROM reference");if(i.ram!==n.ram)throw new Error("attempt to change RAM size");if(i.device!==n.device)throw new Error("attempt to change device type");r.put(n),yield Wn(o),e.sessionChangeEvent.dispatch([n.id,n])}))}loadSession(n){var e=this;return(0,Ce.Z)(function*(){const r=yield e.newTransaction(ou,Ma,il,sl),o=r.objectStore(ou);return[yield Wn(o.get(n.rom)),yield e.loadMemory(r,n.id),yield e.loadState(r,n.id)]})()}deleteStateForSession(n){var e=this;return(0,Ce.Z)(function*(){const[r,o]=yield e.prepareObjectStore(Ma);r.delete(n.id),yield Wn(o)})()}addEmptyStorageCard(n){var e=this;return(0,Ce.Z)(function*(){const[r]=yield e.prepareObjectStore(Ki),o=yield Wn(r.add(n)),i=yield Wn(r.get(o));return e.storageCardChangeEvent.dispatch(i.id),i})()}importStorageCard(n,e){var r=this;return(0,Ce.Z)(function*(){return r.ngZone.runOutsideAngular((0,Ce.Z)(function*(){const o=yield r.newTransaction(Ki,qs),i=o.objectStore(Ki),s=o.objectStore(qs),a=yield Wn(i.add(n)),c=(n.size>>>13)+(e.length%8192==0?0:1),f=new Uint32Array(2048);for(let v=0;v<c;v++){const D=e.subarray(2048*v,2048*(v+1));v===c-1&&f.set(D);const x=cH(v===c-1?f:D);0!==x&&s.put("number"==typeof x?x:x?.slice(),[a,v])}const y=yield Wn(i.get(a));return yield Wn(o),r.storageCardChangeEvent.dispatch(y.id),y}))})()}getAllStorageCards(){var n=this;return(0,Ce.Z)(function*(){const[e]=yield n.prepareObjectStore(Ki);return Wn(e.getAll())})()}getCard(n){var e=this;return(0,Ce.Z)(function*(){const[r]=yield e.prepareObjectStore(Ki);return Wn(r.get(n))})()}updateStorageCardPartial(n,e){var r=this;return(0,Ce.Z)(function*(){const{storageId:o,size:i,id:s,...a}=e,[c,f]=yield r.prepareObjectStore(Ki),y=yield Wn(c.get(n));if(!y)throw new Error(`no card with id ${n}`);const v={...y,...a};c.put(v),yield Wn(f),r.storageCardChangeEvent.dispatch(n)})()}deleteStorageCard(n){var e=this;return(0,Ce.Z)(function*(){const r=yield e.newTransaction(Ki,qs);e.storageCardContext.assertOwnership(n,Gr.none);const o=r.objectStore(Ki),i=r.objectStore(qs);o.delete(n),i.delete(IDBKeyRange.bound([n,0],[n+1,0],!1,!0)),yield Wn(r),e.storageCardChangeEvent.dispatch(n)})()}loadCardData(n,e,r){var o=this;return this.ngZone.runOutsideAngular((0,Ce.Z)(function*(){const i=yield o.newTransaction(Ki,qs);o.storageCardContext.assertOwnership(n,r);const s=i.objectStore(qs);yield new Promise(function(){var a=(0,Ce.Z)(function*(c,f){const y=s.openCursor(IDBKeyRange.bound([n,0],[n+1,0],!1,!0));y.onsuccess=()=>{const v=y.result;if(!v)return c();let D=v.value;const[,x]=v.key;"number"==typeof D?e.subarray(2048*x,2048*(x+1)).fill(D):(2048*(x+1)>e.length&&(D=D.subarray(0,2048-2048*(x+1)+e.length)),e.subarray(2048*x,2048*(x+1)).set(D)),v.continue()},y.onerror=()=>f(new iu(y.error?.message))});return function(c,f){return a.apply(this,arguments)}}())}))}updateCardData(n,e,r,o){var i=this;return this.ngZone.runOutsideAngular((0,Ce.Z)(function*(){const s=yield i.newTransaction(Ki,qs);i.storageCardContext.assertOwnership(n,o);const a=s.objectStore(Ki),c=s.objectStore(qs),f=yield Wn(a.get(n));if(!f)throw new Error(`no card with ID ${n}`);if(e.length!==f.size>>>2)throw new Error("data size mismatch");const y=(f.size>>>13)+(f.size%8192>0?1:0);if((y>>>3)+(y%8>0?1:0)!==r.length)throw new Error("dirty pages size mismatch");let v=0;for(let D=0;D<r.length;D++)for(let x=1;x<256&&!(v>=y);x<<=1)r[D]&x&&c.put(e.subarray(2048*v,2048*(v+1)).slice(),[f.id,v]),v++;yield Wn(s)}))}kvsGet(n){var e=this;return(0,Ce.Z)(function*(){const[r]=yield e.prepareObjectStore(mh);return Wn(r.get(n))})()}kvsSet(n){var e=this;return(0,Ce.Z)(function*(){const[r,o]=yield e.prepareObjectStore(mh);for(const i of Object.keys(n))r.put(n[i],i);yield Wn(o)})()}kvsLoad(){var n=this;return(0,Ce.Z)(function*(){const[e]=yield n.prepareObjectStore(mh);return new Promise((r,o)=>{const i={},s=e.openCursor();s.onsuccess=()=>{const a=s.result;if(!a)return r(i);i[a.key]=a.value,a.continue()},s.onerror=()=>o(new iu(s.error?.message))})})()}kvsDelete(n){var e=this;return(0,Ce.Z)(function*(){const[r,o]=yield e.prepareObjectStore(mh);r.delete(n),yield Wn(o)})()}acquireLock(n){var e=this;return(0,Ce.Z)(function*(){if(e.errorService.hasFatalError())throw new Error("fatal error detected --- refusing DB access");if((yield Wn(n.objectStore(Bd).get(0)))!==uM)throw n.abort(),n.db.close(),i_})()}newTransaction(...n){var e=this;return(0,Ce.Z)(function*(){const r=(yield e.db).transaction([Bd,...n],"readwrite");return yield e.acquireLock(r),r})()}prepareObjectStore(n){var e=this;return(0,Ce.Z)(function*(){const r=yield e.newTransaction(n);return[r.objectStore(n),r]})()}saveState(n,e,r){const o=n.objectStore(Ma);r?o.put(r,e):o.delete(e)}deleteState(n,e){n.objectStore(Ma).delete(e)}loadState(n,e){return Wn(n.objectStore(Ma).get(e))}deleteMemory(n,e){const r=n.objectStore(il),o=n.objectStore(sl);r.delete(IDBKeyRange.bound([e,0],[e+1,0],!1,!0)),o.delete(e)}initializeLock(n){return(0,Ce.Z)(function*(){const e=n.transaction(Bd,"readwrite");yield Wn(e.objectStore(Bd).put(uM,0))})()}setupDb(){var n=this;return(0,Ce.Z)(function*(){const e=setTimeout(()=>zs&&window.location.reload(),500);try{if(indexedDB.databases){const o=(yield indexedDB.databases()).find(i=>"cloudpilot-preview"===i.name);if(clearTimeout(e),o&&void 0!==o.version&&o.version>9)throw cM}const r=yield new Promise((o,i)=>{const s=indexedDB.open("cloudpilot-preview",9);s.onerror=()=>{i(new iu("failed to open DB"))},s.onsuccess=()=>{o(s.result)},s.onupgradeneeded=function(){var a=(0,Ce.Z)(function*(c){clearTimeout(e),c.oldVersion<1&&function mH(t){t.createObjectStore(gh,{keyPath:"id",autoIncrement:!0}).createIndex("rom","rom"),t.createObjectStore("state")}(s.result),c.oldVersion<2&&function gH(t,n){if(!n)throw new Error("no version change transaction!");t.objectStoreNames.contains("rom")&&t.deleteObjectStore("rom"),t.objectStoreNames.contains(Xv)&&t.deleteObjectStore(Xv),n.objectStore(gh).clear(),t.createObjectStore("rom"),t.createObjectStore(Xv),t.createObjectStore("kvs")}(s.result,s.transaction),c.oldVersion<4&&(yield function yH(t,n){return Qv.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<5&&(yield function vH(t,n){return Jv.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<6&&(yield function _H(t,n){return e_.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<7&&(yield function wH(t,n){return t_.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<8&&(yield function bH(t,n){return n_.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<9&&(yield function CH(t,n){return r_.apply(this,arguments)}(s.result,s.transaction))});return function(c){return a.apply(this,arguments)}}()});return yield n.initializeLock(r),r}finally{clearTimeout(e)}})()}requestPersistentStorage(){return(0,Ce.Z)(function*(){(!navigator.storage?.persist||!navigator.storage?.persisted)&&console.log("storage manager not supported; unable to request persistent storage");try{(yield navigator.storage.persisted())||(yield navigator.storage.persist())?console.log("persistent storage enabled"):console.log("request for persistent storage denied by browser")}catch(n){console.warn(n),console.log("failed to request persistent storage")}})()}}On.\u0275fac=function(n){return new(n||On)(me(rt),me(ql),me(ru))},On.\u0275prov=ft({token:On,factory:On.\u0275fac,providedIn:"root"}),se([Xr()],On.prototype,"addSession",null),se([Xr()],On.prototype,"getAllSessions",null),se([Xr()],On.prototype,"getSession",null),se([Xr()],On.prototype,"deleteSession",null),se([Xr()],On.prototype,"updateSessionPartial",null),se([Xr()],On.prototype,"updateSession",null),se([Xr()],On.prototype,"loadSession",null),se([Xr()],On.prototype,"deleteStateForSession",null),se([Xr()],On.prototype,"addEmptyStorageCard",null),se([Xr()],On.prototype,"importStorageCard",null),se([Xr()],On.prototype,"getAllStorageCards",null),se([Xr()],On.prototype,"getCard",null),se([Xr()],On.prototype,"updateStorageCardPartial",null),se([Xr()],On.prototype,"deleteStorageCard",null),se([Xr()],On.prototype,"loadCardData",null),se([Xr()],On.prototype,"kvsGet",null),se([Xr()],On.prototype,"kvsSet",null),se([Xr()],On.prototype,"kvsDelete",null),se([Xr()],On.prototype,"newTransaction",null),se([Xr()],On.prototype,"prepareObjectStore",null),se([Xr()],On.prototype,"initializeLock",null),se([Xr()],On.prototype,"setupDb",null);const dM={volume:.5,showStatistics:!1,clipboardIntegration:!1,networkRedirection:!1,proxyServer:"",credentials:{},runHidden:!1,autoLockUI:!1,enableRemoteInstall:!1,enableAudioOnFirstInteraction:!1};let Ai=(()=>{class t{constructor(e){var r=this;this.storageService=e,this.set=o=>this.storageMutex.runExclusive((0,Ce.Z)(function*(){yield r.storageService.kvsSet(o);for(const i of Object.keys(o))r.rawKvs[i]=o[i];r.updateEvent.dispatch()})),this.updateEvent=new To.j,this.mutex=new Ws,this.storageMutex=new Ws,this.initializationPromise=this.startInitialiation()}initialize(){var e=this;return(0,Ce.Z)(function*(){return e.initializationPromise})()}get kvs(){return this.kvsProxy}startInitialiation(){var e=this;return(0,Ce.Z)(function*(){const r=e;try{const o={...dM,...yield e.storageService.kvsLoad()};e.rawKvs=o,e.kvsProxy=new Proxy(o,{set:(i,s,a)=>(i[s]=a,r.storageMutex.runExclusive(()=>r.storageService.kvsSet({[s]:a})),r.updateEvent.dispatch(),!0),deleteProperty:(i,s)=>(delete i[s],r.storageMutex.runExclusive(()=>r.storageService.kvsDelete(s)),r.updateEvent.dispatch(),!0)})}catch(o){console.error("failed to load KVS"),console.error(o),e.kvsProxy={...dM}}})()}}return t.\u0275fac=function(e){return new(e||t)(me(On))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),fM=(()=>{class t{constructor(e,r){var o=this;this.kvsService=e,this.alertService=r,this.serviceWorkerKeepalive=(0,Ce.Z)(function*(){if(navigator.serviceWorker)try{const i=yield navigator.serviceWorker.getRegistration();i?.active?.postMessage&&i.active.postMessage({})}catch{}setTimeout(o.serviceWorkerKeepalive,9e5)}),this.installationMode=this.determineInstallationMode(),this.serviceWorkerKeepalive()}promptForInstall(){return(zs||QI)&&this.installationMode===nl.web}getInstallationMode(){return this.installationMode}install(){this.alertService.message("Install app",this.getInstallMessage())}invite(){!this.promptForInstall()||this.kvsService.kvs.didShowInvitation||(this.kvsService.kvs.didShowInvitation=!0,window.hasOwnProperty("onbeforeinstallprompt")||this.alertService.message("App available",this.getInviteMessage()))}getInstallMessage(){return zs&&XI?'\n    Tap the "Share" icon on the bottom of the screen (the little box with the arrow)\n    and select "Add to Home Screen" in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':zs?'\n    Open CloudpilotEmu in Safari, tap the "Share" icon on the bottom of the screen\n    (the little box with the arrow) and select "Add to Home Screen" in order to install\n    CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Open your browser\'s menu and tap "Add to Home screen" or "Install App"\n    in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}getInviteMessage(){return zs&&XI?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by tapping the "Share" icon\n    at the bottom of the screen (the little box with the arrow) and selecting\n    "Add to Home Screen".\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':zs?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by opening it in Safari,\n    tapping the "Share" icon at the bottom of the screen (the little box with the arrow)\n    and selecting "Add to Home Screen"\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Howdy! It seems that you are using CloudpilotEmu on an Android device. You can\n    install CloudpilotEmu as an app by opening your browser\'s menu\n    and tapping "Add to Home screen".\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}determineInstallationMode(){return window.navigator.standalone?nl.pwa:document.referrer.startsWith("android-app://")?nl.twa:window.matchMedia("(display-mode: standalone)").matches?nl.pwa:nl.web}}return t.\u0275fac=function(e){return new(e||t)(me(Ai),me(si))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function OH(t,n){1&t&&(_e(0,"div",6),wt(1,"ion-spinner"),fe())}let Vd=(()=>{class t{constructor(e){this.modalController=e,this.title="Help",this.loading=!0}}return t.\u0275fac=function(e){return new(e||t)(C(ws))},t.\u0275cmp=de({type:t,selectors:[["app-help"]],inputs:{url:"url",title:"title"},decls:10,vars:3,consts:[["translucent",""],["slot","primary"],[3,"click"],["fullscreen",""],["class","loader",4,"ngIf"],[3,"src","load"],[1,"loader"]],template:function(e,r){1&e&&(_e(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),tt(3),fe(),_e(4,"ion-buttons",1)(5,"ion-button",2),ct("click",function(){return r.modalController.dismiss()}),tt(6,"Close"),fe()()()(),_e(7,"ion-content",3),wn(8,OH,2,0,"div",4),_e(9,"markdown",5),ct("load",function(){return r.loading=!1}),fe()()),2&e&&(mt(3),gs(r.title),mt(5),gt("ngIf",r.loading),mt(1),gt("src",r.url))},dependencies:[Ho,Zv,Ui,Gi,zi,Wi,Ad,Yi,Zi],styles:["markdown[_ngcontent-%COMP%]{display:block;padding-left:1em;padding-right:1em}.loader[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}"]}),t})();const Zl="1.7.9-790a448 (preview)";var vh=R(9897);let Hd=null;const _h=(t=t=>{const n=new Map([[0,()=>{}]]),e=new Map([[0,()=>{}]]),r=new Map,o=new Worker(t);return o.addEventListener("message",({data:f})=>{if((t=>void 0!==t.method&&"call"===t.method)(f)){const{params:{timerId:y,timerType:v}}=f;if("interval"===v){const D=n.get(y);if("number"==typeof D){const x=r.get(D);if(void 0===x||x.timerId!==y||x.timerType!==v)throw new Error("The timer is in an undefined state.")}else{if(!(typeof D<"u"))throw new Error("The timer is in an undefined state.");D()}}else if("timeout"===v){const D=e.get(y);if("number"==typeof D){const x=r.get(D);if(void 0===x||x.timerId!==y||x.timerType!==v)throw new Error("The timer is in an undefined state.")}else{if(!(typeof D<"u"))throw new Error("The timer is in an undefined state.");D(),e.delete(y)}}}else{if(!(t=>null===t.error&&"number"==typeof t.id)(f)){const{error:{message:y}}=f;throw new Error(y)}{const{id:y}=f,v=r.get(y);if(void 0===v)throw new Error("The timer is in an undefined state.");const{timerId:D,timerType:x}=v;r.delete(y),"interval"===x?n.delete(D):e.delete(D)}}}),{clearInterval:f=>{const y=(0,vh.generateUniqueNumber)(r);r.set(y,{timerId:f,timerType:"interval"}),n.set(f,y),o.postMessage({id:y,method:"clear",params:{timerId:f,timerType:"interval"}})},clearTimeout:f=>{const y=(0,vh.generateUniqueNumber)(r);r.set(y,{timerId:f,timerType:"timeout"}),e.set(f,y),o.postMessage({id:y,method:"clear",params:{timerId:f,timerType:"timeout"}})},setInterval:(f,y)=>{const v=(0,vh.generateUniqueNumber)(n);return n.set(v,()=>{f(),"function"==typeof n.get(v)&&o.postMessage({id:null,method:"set",params:{delay:y,now:performance.now(),timerId:v,timerType:"interval"}})}),o.postMessage({id:null,method:"set",params:{delay:y,now:performance.now(),timerId:v,timerType:"interval"}}),v},setTimeout:(f,y)=>{const v=(0,vh.generateUniqueNumber)(e);return e.set(v,f),o.postMessage({id:null,method:"set",params:{delay:y,now:performance.now(),timerId:v,timerType:"timeout"}}),v}}},()=>{if(null!==Hd)return Hd;const e=new Blob(['(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error(\'The given type "\'.concat(i,\'" is not supported\'));(e=>{const r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error(\'The given method "\'.concat(s.method,\'" is not supported\'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error(\'The given type "\'.concat(d,\'" is not supported\'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();'],{type:"application/javascript; charset=utf-8"}),r=URL.createObjectURL(e);return Hd=t(r),Hd.setTimeout(()=>URL.revokeObjectURL(r),0),Hd});var t,al=(()=>(function(t){t[t.animationFrame=0]="animationFrame",t[t.timeout=1]="timeout"}(al||(al={})),al))();class hM{constructor(n){this.callback=n}schedule(){void 0===this.handle&&(this.handle=requestAnimationFrame(n=>{this.handle=void 0,this.callback(n)}))}cancel(){void 0!==this.handle&&(cancelAnimationFrame(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return al.animationFrame}}class jH{constructor(n,e=60){this.callback=n,this.fps=e}schedule(){if(void 0!==this.handle)return;const n=performance.now(),e=1e3*Math.ceil(n/1e3*this.fps)/this.fps;this.handle=((t,n)=>_h().setTimeout(t,n))(()=>{this.handle=void 0,this.callback(performance.now())},Math.max(e-n,0))}cancel(){void 0!==this.handle&&((t=>{_h().clearTimeout(t)})(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return al.timeout}}const UH=[135,135,105],GH=[0,0,0],ll=new Array(16).fill(0).map((t,n)=>GH.map((e,r)=>Math.floor((n*e+(15-n)*UH[r])/15))).map(([t,n,e])=>4278190080|e<<16|n<<8|t),s_=ll.map(t=>"#"+(16777215&t).toString(16).padStart(6,"0").match(/(..?)/g)?.reverse().join(""));var ae=(()=>(function(t){t.palmPilot="PalmPilot",t.pilot="Pilot",t.iii="PalmIII",t.palmVx="PalmVx",t.palmV="PalmV",t.palmVII="PalmVII",t.palmVIIEZ="PalmVIIEZ",t.palmVIIx="PalmVIIx",t.iiic="PalmIIIc",t.iiix="PalmIIIx",t.iiixe="PalmIIIxe",t.iiie="PalmIIIe",t.m500="PalmM500",t.m505="PalmM505",t.m515="PalmM515",t.m100="PalmM100",t.m105="PalmM105",t.m125="PalmM125",t.m130="PalmM130",t.i705="Palmi705",t.i710="PalmI710",t.handera330="HandEra330",t.pegS300="PEG-S300",t.pegS320="PEG-S320",t.pegS500c="PEG-S500C",t.pegT400="PEG-T400",t.pegN600c="PEG-N600C/N610C",t.pegT600c="PEG-T600",t.pegN700c="PEG-N700C/N710C",t.pegT650c="YSX1230",t.pegNR70="NR70"}(ae||(ae={})),ae))(),cl=(()=>(function(t){t.sdcard="sdcard",t.memorystick="memorystick",t.none="none"}(cl||(cl={})),cl))();function jd(t){switch(t){case ae.i710:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case ae.handera330:return{screenSize:2,width:240,height:320,silkscreenHeight:0};case ae.pegS300:case ae.pegS320:case ae.pegS500c:return{screenSize:0,width:160,height:160,silkscreenHeight:76};case ae.pegT600c:case ae.pegT400:case ae.pegT650c:return{screenSize:1,width:320,height:320,silkscreenHeight:140,silkscreenOvershoot:10};case ae.pegN600c:case ae.pegN700c:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case ae.pegNR70:return{screenSize:3,width:320,height:480,silkscreenHeight:0};default:return{screenSize:0,width:160,height:160,silkscreenHeight:60}}}function a_(t){switch(t){case ae.pilot:case ae.palmPilot:case ae.iii:case ae.palmV:case ae.palmVx:case ae.iiix:case ae.iiixe:case ae.iiie:case ae.m100:case ae.m105:case ae.m125:case ae.m500:case ae.palmVII:case ae.palmVIIEZ:case ae.palmVIIx:case ae.i705:case ae.handera330:case ae.pegS300:case ae.pegS320:case ae.pegT400:return!1;default:return!0}}function mM(t){switch(t){case ae.pilot:return"Pilot";case ae.palmPilot:return"Palm Pilot";case ae.iii:return"Palm III";case ae.m500:return"Palm m500";case ae.m505:return"Palm m505";case ae.m515:return"Palm m515";case ae.palmVx:return"Palm Vx";case ae.iiix:return"Palm IIIx";case ae.iiixe:return"Palm IIIxe";case ae.iiie:return"Palm IIIe";case ae.palmV:return"Palm V";case ae.palmVII:return"Palm VII";case ae.palmVIIEZ:return"Palm VII EZ";case ae.palmVIIx:return"Palm VIIx";case ae.iiic:return"Palm IIIc";case ae.m100:return"Palm m100";case ae.m105:return"Palm m105";case ae.m125:return"Palm m125";case ae.m130:return"Palm m130";case ae.i705:return"Palm i705";case ae.i710:return"Tungsten W";case ae.handera330:return"Handera 330";case ae.pegS300:return"Sony PEG-S300";case ae.pegS320:return"Sony PEG-S320";case ae.pegT400:return"Sony PEG-T400 series";case ae.pegN600c:return"Sony PEG-N600C series";case ae.pegT600c:return"Sony PEG-T600C series";case ae.pegN700c:return"Sony PEG-N700C series";case ae.pegT650c:return"Sony PEG-T650C series";case ae.pegNR70:return"Sony PEG-NR70 series";case ae.pegS500c:return"Sony PEG-S500C series";default:throw new Error("bad device ID")}}function gM(t){switch(t){case ae.m500:case ae.m505:case ae.m515:case ae.m125:case ae.m130:case ae.i705:case ae.i710:case ae.handera330:return cl.sdcard;case ae.pegS300:case ae.pegS500c:case ae.pegS320:case ae.pegT400:case ae.pegN600c:case ae.pegT600c:case ae.pegN700c:case ae.pegT650c:case ae.pegNR70:return cl.memorystick;default:return cl.none}}class yM{constructor(n,e){this.queue=new Array(n).fill(0),this.reset(e)}reset(n=0){this.next=1,this.size=1,this.queue[0]=n}push(n){return this.queue[this.next]=n,this.next=(this.next+1)%this.queue.length,this.size<this.queue.length&&this.size++,this}calculateAverage(){let n=0;for(let e=0;e<this.size;e++)n+=this.queue[e];return n/this.size}}class qH{constructor(n){this.start=0,this.size=0,this.buffer=new Array(n)}push(n){return this.size<this.buffer.length?this.buffer[(this.start+this.size++)%this.buffer.length]=n:(this.start=(this.start+1)%this.buffer.length,this.buffer[(this.start+this.size-1)%this.buffer.length]=n),this}pop(){if(0===this.size)return;const n=this.buffer[this.start];return this.start=(this.start+1)%this.buffer.length,this.size--,n}peekLast(){if(0!==this.size)return this.buffer[(this.start+this.size-1)%this.buffer.length]}replaceLast(n){return this.size>0&&(this.buffer[(this.start+this.size-1)%this.buffer.length]=n),this}count(){return this.size}flush(){return this.start=0,this.size=0,this}}const rj=new Error("transaction timeout"),_M=new Error("session does not match emulation");let Ud=(()=>{class t{constructor(e,r,o,i,s){var a=this;this.storageService=e,this.emulationState=r,this.errorService=o,this.storageCardContext=i,this.ngZone=s,this.triggerSnapshot=()=>this.ngZone.runOutsideAngular(()=>this.sessionId<0||this.cloudpilot.isSuspended()?Promise.resolve():this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():(this.snapshotInProgress=!0,this.pendingSnapshotPromise=(0,Ce.Z)(function*(){try{yield a.triggerSnapshotUnguarded()}finally{a.snapshotInProgress=!1}})(),this.pendingSnapshotPromise)),this.snapshotEvent=new To.j,this.sessionId=-1,this.consecutiveErrorCount=0,this.snapshotInProgress=!1,this.pendingSnapshotPromise=Promise.resolve(void 0),this.cardPagePool=[]}initialize(e,r){var o=this;return(0,Ce.Z)(function*(){o.errorService.hasFatalError()||(o.sessionId=e.id,o.dirtyPages=void 0,o.pages=void 0,o.state=void 0,o.db=yield o.storageService.getDb(),o.cloudpilot=r,o.resetCard())})()}resetCard(){this.cardPagePool=[],this.cardDirtyPages=void 0}waitForPendingSnapshot(){return this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():Promise.resolve()}triggerSnapshotUnguarded(){var e=this;return(0,Ce.Z)(function*(){for(;;)try{return yield e.triggerSnapshotOnce(),void(e.consecutiveErrorCount=0)}catch(r){if(console.error("snapshot error",r),r===_M)throw e.errorService.fatalBug("attempting to snapshot a session that is not currently running"),r;if(r===i_)throw e.errorService.fatalPageLockLost(),r;if(++e.consecutiveErrorCount>3)throw e.errorService.fatalIDBDead(),r}})()}triggerSnapshotOnce(){var e=this;return(0,Ce.Z)(function*(){const r=e.db.transaction([il,sl,Ma,qs,Ki,Bd],"readwrite",{durability:"relaxed"});if(yield e.storageService.acquireLock(r),e.cloudpilot.isSuspended())return;if(e.emulationState.getCurrentSession()?.id!==e.sessionId)throw _M;let o;const i=e.cloudpilot.getMountedKey();i&&(o=yield Wn(r.objectStore(Ki).index("storageId").get(i)));const s=yield new Promise((a,c)=>{let f=!1;const y=performance.now();let v=0,D=0,x=0;const Q=setTimeout(()=>{f=!0;try{r.abort()}catch{}c(rj)},6e3);r.oncomplete=()=>{clearTimeout(Q),e.dirtyPages?.fill(0),e.cardDirtyPages?.fill(0),a({timestamp:Date.now(),pages:x,timeBlocking:D-v,timeTotal:performance.now()-y})},r.onerror=()=>{clearTimeout(Q),c(new Error(r.error?.message))};try{v=performance.now(),x=e.saveDirtyMemory(r),o&&(x+=e.saveDirtyStorage(o,r)),e.saveSession(r),D=performance.now()}catch(Ie){throw f||(clearTimeout(Q),r.abort()),Ie}});e.snapshotEvent.dispatch(s)})()}saveDirtyMemory(e){let r=0;const o=e.objectStore(il),i=e.objectStore(sl),s=this.cloudpilot.getDirtyPages(),a=this.cloudpilot.getMemory32();let c=0;if(!this.dirtyPages||!this.pages){const y=a.length>>>8;this.dirtyPages=new Uint8Array(s.length),this.pages=new Array(y);for(let v=0;v<y;v++)this.pages[v]=new Uint32Array(256)}i.put({sessionId:this.sessionId,totalSize:a.length<<2});for(let y=0;y<s.length;y++)if(this.dirtyPages[y]|=s[y],s[y]=0,0!==this.dirtyPages[y])for(let v=1;v<256&&!(r>=this.pages.length);v<<=1){if(this.dirtyPages[y]&v){const D=rM(a.subarray(256*r,256*(r+1)));"number"==typeof D?o.put(D,[this.sessionId,r]):(this.pages[r].set(D),o.put(this.pages[r],[this.sessionId,r])),c++}r++}else r+=8;return c}saveDirtyStorage(e,r){const o=this.cloudpilot.getCardDirtyPages(e.storageId),i=this.cloudpilot.getCardData(e.storageId);if(!i)return console.log(`seems ${e.name} was unmounted`),0;if(this.storageCardContext.assertOwnership(e.id,Gr.cloudpilot),!o)throw new Error(`failed to retrieve dirty pages for card ${e.name}`);if(i.length!==e.size>>>2)throw new Error("card size mismatch");if(this.cardDirtyPages||(this.cardDirtyPages=new Uint8Array(o.length)),this.cardDirtyPages.length!==o.length)throw new Error("card size has changed without notification");let s=0,a=0,c=0;const f=r.objectStore(qs),y=(i.length>>11)+(i.length%2048>0?1:0);for(let v=0;v<o.length;v++)if(this.cardDirtyPages[v]|=o[v],o[v]=0,0!==this.cardDirtyPages[v])for(let D=1;D<256&&!(s>=y);D<<=1){if(this.cardDirtyPages[v]&D){a>=this.cardPagePool.length&&this.cardPagePool.push(new Uint32Array(2048));const x=this.cardPagePool[a++];x.set(i.subarray(2048*s,2048*(s+1))),f.put(x,[e.id,s]),c++}s++}else s+=8;return 8*c}saveSession(e){const r=e.objectStore(Ma);if(this.cloudpilot.saveState()){const o=this.cloudpilot.getSavestate();this.state||(this.state=new Uint8Array(o.length)),this.state.set(o),r.put(this.state,this.sessionId)}else console.log("save state failed"),r.delete(this.sessionId)}}return t.\u0275fac=function(e){return new(e||t)(me(On),me(Ia),me(ql),me(ru),me(rt))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function oj(t,n){1&t&&(_e(0,"p",11),tt(1," ERROR: URL must be served via HTTPS. "),fe())}function ij(t){if(!t.value)return{url:"URL empty"};let n;try{n=new(Gc())(t.value)}catch{return{url:"URL invalid"}}return"https:"===location.protocol&&"https:"!==n.protocol?{url:"mixed content"}:null}let sj=(()=>{class t{constructor(){this.onContinue=()=>{},this.onCancel=()=>{}}ngOnInit(){this.createFormGroup()}formKeyDown(e){"Enter"===e.key&&this.continue()}continue(){this.onContinue(new(Gc())(this.formGroup.get("url")?.value).toString())}get isMixedContent(){const e=this.formGroup.get("url")?.value;if(!e)return!1;try{const r=new(Gc())(e);return"https:"===location.protocol&&"https:"!==r.protocol}catch{}return!1}createFormGroup(){this.formGroup=new Ap({url:new xo("",ij)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=de({type:t,selectors:[["app-remote-url-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel"},decls:21,vars:3,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter URL","formControlName","url"],["class","error",4,"ngIf"],[1,"error"]],template:function(e,r){1&e&&(_e(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),tt(3,"Enter download URL"),fe(),_e(4,"ion-buttons",1)(5,"ion-button",2),ct("click",function(){return r.continue()}),tt(6,"OK"),fe()(),_e(7,"ion-buttons",3)(8,"ion-button",4),ct("click",function(){return r.onCancel()}),tt(9,"Cancel"),fe()()()(),_e(10,"ion-content",5)(11,"form",6),ct("keydown",function(i){return r.formKeyDown(i)}),_e(12,"p"),tt(13," Please enter the URL from which to download: "),fe(),_e(14,"ion-item",7)(15,"ion-label",8),tt(16,"URL"),fe(),wt(17,"ion-input",9),fe(),wn(18,oj,2,0,"p",10),_e(19,"p"),tt(20," Note that the remote server needs to support the CORS protocol. "),fe()()()),2&e&&(mt(5),gt("disabled",r.formGroup.invalid),mt(6),gt("formGroup",r.formGroup),mt(7),gt("ngIf",r.isMixedContent))},dependencies:[Ho,Ui,Gi,zi,Wi,zl,qi,cs,Yi,Zi,Gl,Nl,Fl,Ol,_a,Ka],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}.error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]}),t})();function l_(t){const n=new Date;return`${t}_${n.getFullYear()}${(n.getMonth()+1).toString().padStart(2,"0")}${n.getDate().toString().padStart(2,"0")}-${n.getHours().toString().padStart(2,"0")}${n.getMinutes().toString().padStart(2,"0")}${n.getSeconds().toString().padStart(2,"0")}`}function wM(t){return`${l_(t.name)}.bin`}function bM(t,n){return`backup_${l_(t.name)}${n?"_with_rom":""}.zip`}function c_(t,n=3){return 0===t.length?"":1===t.length?t[0]:`${t.slice(0,t.length>n?n:t.length-1).join(", ")} and ${t.length>n?t.length-n+" more files":t[t.length-1]}`}function CM(t){const{name:n,hotsyncName:e,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}=t;return{name:n,hotsyncName:e,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}}let aj=(()=>{class t{constructor(e){this.kvs=e,this.onContinue=()=>{},this.onCancel=()=>{},this.origin=""}ngOnInit(){this.createFormGroup()}formKeyDown(e){"Enter"===e.key&&this.saveAndContinue()}saveAndContinue(){this.kvs.kvs.credentials={...this.kvs.kvs.credentials,[this.origin]:{username:this.formGroup.get("username")?.value??"",password:this.formGroup.get("password")?.value??""}},this.onContinue()}createFormGroup(){const e=this.kvs.kvs.credentials[this.origin];this.formGroup=new Ap({username:new xo(e?.username??""),password:new xo(e?.password??"")})}}return t.\u0275fac=function(e){return new(e||t)(C(Ai))},t.\u0275cmp=de({type:t,selectors:[["app-credentials-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel",origin:"origin"},decls:22,vars:1,consts:[["translucent",""],["slot","primary"],[3,"click"],["slot","secondary"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter username","formControlName","username"],["placeholder","Enter password","formControlName","password","type","password"]],template:function(e,r){1&e&&(_e(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),tt(3,"Authenticate"),fe(),_e(4,"ion-buttons",1)(5,"ion-button",2),ct("click",function(){return r.saveAndContinue()}),tt(6,"OK"),fe()(),_e(7,"ion-buttons",3)(8,"ion-button",2),ct("click",function(){return r.onCancel()}),tt(9,"Cancel"),fe()()()(),_e(10,"ion-content",4)(11,"form",5),ct("keydown",function(i){return r.formKeyDown(i)}),_e(12,"p"),tt(13," The server requires authentication. "),fe(),_e(14,"ion-item",6)(15,"ion-label",7),tt(16,"Username"),fe(),wt(17,"ion-input",8),fe(),_e(18,"ion-item",6)(19,"ion-label",7),tt(20,"Password"),fe(),wt(21,"ion-input",9),fe()()()),2&e&&(mt(11),gt("formGroup",r.formGroup))},dependencies:[Ui,Gi,zi,Wi,zl,qi,cs,Yi,Zi,Gl,Nl,Fl,Ol,_a,Ka],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}"]}),t})(),SM=(()=>{class t{constructor(e,r,o){this.loadingController=e,this.kvsService=r,this.modalController=o}fetch(e,r){var o=this;return(0,Ce.Z)(function*(){let i=r?.loaderDelay;const s=void 0===r?.timeout?5e3:r?.timeout,a=new(Gc())("string"==typeof e?e:e.url);let c,f,y=!1;for(;;)try{void 0!==i&&i>=0&&!c&&(c=yield o.loadingController.create({message:"Loading..."}),f=window.setTimeout(()=>c.present(),i));const v=o.kvsService.kvs.credentials[a.origin],D=new AbortController,x=window.setTimeout(()=>D.abort(),s),Q=yield fetch(e,{...o.requestInit(r),signal:D.signal,headers:{...r?.headers||{},...y&&v?{Authorization:"Basic "+btoa(`${v.username}:${v.password}`)}:{}}});if(clearTimeout(x),401===Q.status){if(!y&&v){y=!0;continue}if(c&&(c.dismiss(),clearTimeout(f),i=0,c=void 0),y=!0,yield o.authenticate(a.origin))continue}return Q}finally{c&&(yield c.dismiss()),clearTimeout(f)}})()}requestInit(e){if(!e)return;const{timeout:r,loaderDelay:o,...i}=e;return i}authenticate(e){var r=this;return(0,Ce.Z)(function*(){const o=yield new Promise(i=>r.modalController.create({component:aj,backdropDismiss:!1,componentProps:{origin:e,onContinue:()=>i(!0),onCancel:()=>i(!1)}}).then(s=>s.present()));return r.modalController.dismiss(),o})()}}return t.\u0275fac=function(e){return new(e||t)(me(el),me(Ai),me(ws))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var cj=R(3272),uj=R.n(cj);const EM=[ae.palmPilot,ae.pilot,ae.iii,ae.palmVx,ae.palmV,ae.palmVII,ae.palmVIIEZ,ae.palmVIIx,ae.iiixe,ae.iiix,ae.iiie,ae.m500,ae.m505,ae.m515,ae.iiic,ae.m100,ae.m105,ae.m125,ae.m130,ae.i705,ae.i710,ae.handera330,ae.pegS300,ae.pegS320,ae.pegS500c,ae.pegT400,ae.pegN600c,ae.pegT600c,ae.pegN700c,ae.pegT650c,ae.pegNR70];function Gt(){return(t,n,e)=>{const r=e.value;return e.value=function(o,i){return this.guard(()=>r.call(this,o,i))},e}}class Bt{constructor(n){this.module=n,this.fatalErrorEvent=new To.j,this.pwmUpdateEvent=new To.j,this.proxyDisconnectEvent=new To.j,this.amIdead=!1,this.cloudpilot=new n.Cloudpilot,this.cloudpilot.RegisterPwmHandler(n.addFunction((e,r)=>this.pwmUpdateEvent.dispatch({frequency:e,dutyCycle:r}),"vdd")),this.cloudpilot.RegisterProxyDisconnectHandler(n.addFunction(e=>this.proxyDisconnectEvent.dispatch(n.UTF8ToString(e)),"vi"))}static create(n){return(0,Ce.Z)(function*(){return new Bt(yield uj()({print:e=>console.log(e),printErr:e=>console.error(e),...void 0!==n?{locateFile:()=>n}:{}}))})()}destroy(){this.module.destroy(this.cloudpilot)}hasFatalError(){return this.amIdead}getRomInfo(n){const e=this.copyIn(n),r=new this.module.RomInfo(e,n.length);let o;return r.IsValid()&&(o={cardVersion:r.CardVersion(),cardName:r.CardName(),romVersion:r.RomVersion(),romVersionString:r.RomVersionString(),supportedDevices:EM.filter(r.Supports.bind(r))}),this.cloudpilot.Free(e),this.module.destroy(r),o}initializeSession(n,e){const r=this.copyIn(n),o=this.cloudpilot.InitializeSession(r,n.length,e);return this.cloudpilot.Free(r),o}cyclesPerSecond(){return this.cloudpilot.GetCyclesPerSecond()}runEmulation(n){return this.cloudpilot.RunEmulation(n)}getFrame(){const n=this.cloudpilot.CopyFrame(),e=this.module.getPointer(n.GetBuffer());return{bpp:n.GetBpp(),bytesPerLine:n.GetBytesPerLine(),lines:n.GetLines(),lineWidth:n.GetLineWidth(),margin:n.GetMargin(),firstDirtyLine:n.GetFirstDirtyLine(),lastDirtyLine:n.GetLastDirtyLine(),hasChanges:n.GetHasChanges(),scaleX:n.GetScaleX(),scaleY:n.GetScaleY(),buffer:this.module.HEAPU8.subarray(e,e+n.GetBufferSize())}}isScreenDirty(){return this.cloudpilot.IsScreenDirty()}markScreenClean(){this.cloudpilot.MarkScreenClean()}minRamForDevice(n){return 1024*this.cloudpilot.MinMemoryForDevice(n)}framebufferSizeForDevice(n){return 1024*this.cloudpilot.FramebufferSizeForDevice(n)}totalMemorySizeForDevice(n){return 1024*this.cloudpilot.TotalMemoryForDevice(n)}queuePenMove(n,e){this.cloudpilot.QueuePenMove(n,e)}queuePenUp(){this.cloudpilot.QueuePenUp()}queueButtonDown(n){this.cloudpilot.QueueButtonDown(n)}queueButtonUp(n){this.cloudpilot.QueueButtonUp(n)}queueKeyboardEvent(n,e){this.cloudpilot.QueueKeyboardEvent(n,e)}isPowerOff(){return!!this.cloudpilot.IsPowerOff()}isUiInitialized(){return!!this.cloudpilot.IsUIInitialized()}isSetupComplete(){return!!this.cloudpilot.IsSetupComplete()}getOSVersion(){return this.cloudpilot.GetOSVersion()}reset(){this.cloudpilot.Reset()}resetNoExtensions(){this.cloudpilot.ResetNoExtensions()}resetHard(){this.cloudpilot.ResetHard()}installDb(n){const e=this.copyIn(n),r=this.cloudpilot.InstallDb(e,n.length);return this.cloudpilot.Free(e),r}getPalette2bitMapping(){return this.cloudpilot.GetPalette2bitMapping()}getMemory(){const n=this.module.getPointer(this.cloudpilot.GetMemoryPtr());return this.module.HEAPU8.subarray(n,n+this.cloudpilot.GetMemorySize())}getMemory32(){let n=this.module.getPointer(this.cloudpilot.GetMemoryPtr());if(3&n)throw new Error("unaligned pointer");return n>>>=2,this.module.HEAPU32.subarray(n,n+(this.cloudpilot.GetMemorySize()>>>2))}getDirtyPages(){const n=this.module.getPointer(this.cloudpilot.GetDirtyPagesPtr()),e=this.cloudpilot.GetMemorySize();return this.module.HEAPU8.subarray(n,n+((e>>>13)+(e%8192==0?0:1)))}loadMemory(n){const e=this.getMemory32();if((()=>{if(n.length!==e.length||n.length<256)return!1;for(let o=256;o>0;o--){if(n[n.length-o]!==e[e.length-o])return!1;if(4294967295===e[e.length-o])break}return!0})())return e.set(n),!0;{const o=this.copyIn32(n),i=this.cloudpilot.ImportMemoryImage(o,n.length<<2);return this.cloudpilot.Free(o),i}}getRomImage(){const n=this.module.getPointer(this.cloudpilot.GetRomPtr());return this.module.HEAPU8.subarray(n,n+this.cloudpilot.GetRomSize())}getSavestate(){const n=this.module.getPointer(this.cloudpilot.GetSavestatePtr());return this.module.HEAPU8.subarray(n,n+this.cloudpilot.GetSavestateSize())}saveState(){return!!this.cloudpilot.SaveState()}loadState(n){const e=this.copyIn(n),r=this.cloudpilot.LoadState(e,n.length);return this.cloudpilot.Free(e),r}getHotsyncName(){return this.cloudpilot.GetHotsyncName()}setClockFactor(n){this.cloudpilot.SetClockFactor(n)}setHotsyncName(n){this.cloudpilot.SetHotsyncName(n)}backup(n){var e=this;return(0,Ce.Z)(function*(){const r=e.guard(()=>e.cloudpilot.StartBackup());try{return yield n(e.wrap(r))}finally{e.module.destroy(r)}})()}getArchive(n){const e=n.GetArchiveSize();return this.copyOut(n.GetArchivePtr(),e)}setClipboardIntegration(n){this.cloudpilot.SetClipboardIntegration(n)}getClipboardIntegration(){return this.cloudpilot.GetClipboardIntegration()}isSuspended(){return this.cloudpilot.IsSuspended()}getSuspendKind(){return this.cloudpilot.GetSuspendContext().GetKind()}cancelSuspend(){this.cloudpilot.GetSuspendContext().Cancel()}getSuspendContextClipboardCopy(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardCopy())}getSuspendContextClipboardPaste(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardPaste())}setNetworkRedirection(n){this.cloudpilot.SetNetworkRedirection(n)}getNetworkRedirection(){return this.cloudpilot.GetNetworkRedirection()}getSuspendContextNetworkConnect(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkConnect())}getSuspendContextNetworkRpc(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkRpc())}copyBuffer(n){return this.copyIn(n)}freeBuffer(n){this.cloudpilot.Free(n)}setHotsyncNameManagement(n){this.cloudpilot.SetHotsyncNameManagement(n)}resolveBuffer(n,e){const r=this.module.getPointer(n);return this.module.HEAPU8.subarray(r,r+e)}withZipfileWalker(n,e){var r=this;return(0,Ce.Z)(function*(){const o=r.guard(()=>{const i=r.copyIn(n),s=new r.module.ZipfileWalker(n.length,i);return r.cloudpilot.Free(i),s});try{return yield e(r.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>r.copyOut(o.GetCurrentEntryContent(),o.GetCurrentEntrySize())},o)))}finally{r.module.destroy(o)}})()}withZipfileWalkerSync(n,e){const r=this.guard(()=>{const o=this.copyIn(n),i=new this.module.ZipfileWalker(n.length,o);return this.cloudpilot.Free(o),i});try{return e(this.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>this.copyOut(r.GetCurrentEntryContent(),r.GetCurrentEntrySize())},r)))}finally{this.module.destroy(r)}}serializeSessionImage(n){const e=new this.module.SessionImage,r=this.cloudpilot.Nullptr(),o=this.copyIn(n.rom),i=n.memory?this.copyIn(n.memory):r,s=void 0!==n.savestate?this.copyIn(n.savestate):r;let a=r,c=0;if(void 0!==n.metadata){const y=(new TextEncoder).encode(JSON.stringify(n.metadata));c=y.length,a=this.copyIn(y)}e.SetRomImage(o,n.rom.length),e.SetMemoryImage(i,n.memory?.length||0),e.SetDeviceId(n.deviceId),e.SetSavestate(s,n.savestate?.length||0),e.SetMetadata(a,c);const f=e.Serialize()?this.copyOut(e.GetSerializedImage(),e.GetSerializedImageSize()):void 0;return this.module.destroy(e),[o,i,s,a].forEach(y=>this.cloudpilot.Free(y)),f}deserializeSessionImage(n){const e=new this.module.SessionImage,r=this.copyIn(n),o=(()=>{if(!e.Deserialize(r,n.length))return;const i=this.copyOut(e.GetRomImage(),e.GetRomImageSize()),s=this.copyOut(e.GetMemoryImage(),e.GetMemoryImageSize()),a=this.copyOut(e.GetSavestate(),e.GetSavestateSize()),c=e.GetDeviceId();if(!EM.includes(c))return void console.warn(`unsupported device ${c}`);let f;const y=this.copyOut(e.GetMetadata(),e.GetMetadataSize());if(y)try{f=JSON.parse((new TextDecoder).decode(y))}catch(v){console.warn("invalid metadata",v)}return{deviceId:c,rom:i,memory:s,savestate:a,metadata:f,version:e.GetVersion()}})();return this.module.destroy(e),this.cloudpilot.Free(r),o}launchAppByName(n){return this.cloudpilot.LaunchAppByName(n)}launchAppByDbHeader(n){if(n.length<32)return!1;const e=this.copyIn(n.subarray(0,32)),r=this.cloudpilot.LaunchAppByDbHeader(e,32);return this.cloudpilot.Free(e),r}deviceSupportsCardSize(n){return this.cloudpilot.DeviceSupportsCardSize(n)}clearExternalStorage(){this.cloudpilot.ClearExternalStorage()}allocateCard(n,e){return this.cloudpilot.AllocateCard(n,e>>>9)}getCardData(n){const e=this.module.getPointer(this.cloudpilot.GetCardData(n));if(0!==e)return this.module.HEAPU32.subarray(e>>>2,e+this.cloudpilot.GetCardSize(n)>>2)}getCardDirtyPages(n){const e=this.module.getPointer(this.cloudpilot.GetCardDirtyPages(n));if(0===e)return;const r=this.cloudpilot.GetCardSize(n),o=(r>>>13)+(r%8192>0?1:0);return this.module.HEAPU8.subarray(e,e+((o>>>3)+(o%8>0?1:0)))}getMountedKey(){return this.cloudpilot.GetMountedKey()}mountCard(n){return this.cloudpilot.MountCard(n)}removeCard(n){return this.cloudpilot.RemoveCard(n)}remountCards(){this.cloudpilot.RemountCards()}getCardSupportLevel(n){return this.cloudpilot.GetSupportLevel(n)}copyIn(n){const e=this.cloudpilot.Malloc(n.length),r=this.module.getPointer(e);return this.module.HEAP8.subarray(r,r+n.length).set(n),e}copyIn32(n){const e=this.cloudpilot.Malloc(n.length<<2),r=this.module.getPointer(e);return this.module.HEAP32.subarray(r>>>2,(r>>>2)+n.length).set(n),e}copyOut(n,e){const r=this.module.getPointer(n);return r>0&&e>0?this.module.HEAPU8.subarray(r,r+e).slice():void 0}wrap(n){return new Proxy(n,{get:(e,r)=>{const o=e[r];return"function"!=typeof o?o:(...i)=>this.guard(()=>o.apply(e,i))}})}guard(n){if(this.amIdead)throw new Error("cloudpilot instance is dead");try{return n()}catch(e){throw this.amIdead=!0,this.cloudpilot=void 0,this.fatalErrorEvent.dispatch(e instanceof Error?e:new Error("unknown error")),e}}}se([Gt()],Bt.prototype,"getRomInfo",null),se([Gt()],Bt.prototype,"initializeSession",null),se([Gt()],Bt.prototype,"cyclesPerSecond",null),se([Gt()],Bt.prototype,"runEmulation",null),se([Gt()],Bt.prototype,"getFrame",null),se([Gt()],Bt.prototype,"isScreenDirty",null),se([Gt()],Bt.prototype,"markScreenClean",null),se([Gt()],Bt.prototype,"minRamForDevice",null),se([Gt()],Bt.prototype,"framebufferSizeForDevice",null),se([Gt()],Bt.prototype,"totalMemorySizeForDevice",null),se([Gt()],Bt.prototype,"queuePenMove",null),se([Gt()],Bt.prototype,"queuePenUp",null),se([Gt()],Bt.prototype,"queueButtonDown",null),se([Gt()],Bt.prototype,"queueButtonUp",null),se([Gt()],Bt.prototype,"queueKeyboardEvent",null),se([Gt()],Bt.prototype,"isPowerOff",null),se([Gt()],Bt.prototype,"isUiInitialized",null),se([Gt()],Bt.prototype,"isSetupComplete",null),se([Gt()],Bt.prototype,"getOSVersion",null),se([Gt()],Bt.prototype,"reset",null),se([Gt()],Bt.prototype,"resetNoExtensions",null),se([Gt()],Bt.prototype,"resetHard",null),se([Gt()],Bt.prototype,"installDb",null),se([Gt()],Bt.prototype,"getPalette2bitMapping",null),se([Gt()],Bt.prototype,"getMemory",null),se([Gt()],Bt.prototype,"getMemory32",null),se([Gt()],Bt.prototype,"getDirtyPages",null),se([Gt()],Bt.prototype,"loadMemory",null),se([Gt()],Bt.prototype,"getRomImage",null),se([Gt()],Bt.prototype,"getSavestate",null),se([Gt()],Bt.prototype,"saveState",null),se([Gt()],Bt.prototype,"loadState",null),se([Gt()],Bt.prototype,"getHotsyncName",null),se([Gt()],Bt.prototype,"setClockFactor",null),se([Gt()],Bt.prototype,"setHotsyncName",null),se([Gt()],Bt.prototype,"setClipboardIntegration",null),se([Gt()],Bt.prototype,"getClipboardIntegration",null),se([Gt()],Bt.prototype,"isSuspended",null),se([Gt()],Bt.prototype,"getSuspendKind",null),se([Gt()],Bt.prototype,"cancelSuspend",null),se([Gt()],Bt.prototype,"getSuspendContextClipboardCopy",null),se([Gt()],Bt.prototype,"getSuspendContextClipboardPaste",null),se([Gt()],Bt.prototype,"setNetworkRedirection",null),se([Gt()],Bt.prototype,"getNetworkRedirection",null),se([Gt()],Bt.prototype,"getSuspendContextNetworkConnect",null),se([Gt()],Bt.prototype,"getSuspendContextNetworkRpc",null),se([Gt()],Bt.prototype,"copyBuffer",null),se([Gt()],Bt.prototype,"freeBuffer",null),se([Gt()],Bt.prototype,"setHotsyncNameManagement",null),se([Gt()],Bt.prototype,"resolveBuffer",null),se([Gt()],Bt.prototype,"serializeSessionImage",null),se([Gt()],Bt.prototype,"deserializeSessionImage",null),se([Gt()],Bt.prototype,"launchAppByName",null),se([Gt()],Bt.prototype,"launchAppByDbHeader",null),se([Gt()],Bt.prototype,"deviceSupportsCardSize",null),se([Gt()],Bt.prototype,"clearExternalStorage",null),se([Gt()],Bt.prototype,"allocateCard",null),se([Gt()],Bt.prototype,"getCardData",null),se([Gt()],Bt.prototype,"getCardDirtyPages",null),se([Gt()],Bt.prototype,"getMountedKey",null),se([Gt()],Bt.prototype,"mountCard",null),se([Gt()],Bt.prototype,"removeCard",null),se([Gt()],Bt.prototype,"remountCards",null),se([Gt()],Bt.prototype,"getCardSupportLevel",null);let Zs=(()=>{class t{constructor(){this.cloudpilot=Bt.create()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),su=(()=>{class t{constructor(e,r,o,i,s,a,c,f){this.storageService=e,this.loadingController=r,this.actionSheetController=o,this.kvsService=i,this.modalController=s,this.alertService=a,this.fetchService=c,this.cloudpilotService=f}openFile(e){this.openFilesImpl(!1,r=>{r.length>0&&e(r[0])})}openFiles(e){this.openFilesImpl(!0,e)}saveSession(e){var r=this;return(0,Ce.Z)(function*(){const o=yield r.loadingController.create({message:"Exporting..."});yield o.present();try{const[i,s,a]=yield r.storageService.loadSession(e);if(!i)throw new Error(`invalid ROM ${e.rom}`);const c={deviceId:e.device,metadata:CM(e),rom:i,memory:s,savestate:a},f=(yield r.cloudpilotService.cloudpilot).serializeSessionImage(c);f?r.saveFile(wM(e),f):(yield o.dismiss(),r.alertService.errorMessage("Failed to save session."))}finally{o.dismiss()}})()}emergencySaveSession(e,r){var o=this;return(0,Ce.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."});i.style.zIndex="10000000",yield i.present();try{const s=r.getRomImage().slice(),a=r.getMemory().slice(),c=r.saveState()?r.getSavestate().slice():void 0;if(r.framebufferSizeForDevice(e.device)<0)throw new Error(`invalid device ID ${e.device}`);const y={deviceId:e.device,metadata:CM(e),rom:s,memory:a,savestate:c},v=(yield o.cloudpilotService.cloudpilot).serializeSessionImage(y);v&&o.saveFile(wM(e),v)}finally{i.dismiss()}})()}saveFile(e,r){const o=new Blob([r],{type:"application/octet-stream"}),i=URL.createObjectURL(o),s=document.createElement("a");s.href=i,s.download=e,s.click()}openUrl(e,r){var o=this;return(0,Ce.Z)(function*(){let i;try{i=new(Gc())(e)}catch{return void(yield o.alertService.errorMessage(`Invalid URL: ${e}`))}try{const s=yield o.fetchService.fetch(e);if(!s.ok)throw new Error("request failed");return void r({name:i.pathname.replace(/.*\//,""),content:new Uint8Array(yield s.arrayBuffer())})}catch{yield o.alertService.errorMessage(`Download from ${e} failed.`)}})()}openFilesImpl(e,r){var o=this;return(0,Ce.Z)(function*(){o.kvsService.kvs.enableRemoteInstall?(yield o.actionSheetController.create({header:"What source do you want to open?",buttons:[{text:"Local files",handler:()=>o.openFilesLocal(e,r)},{text:"File on remote server",handler:()=>o.queryAndOpenFileRemote(r)}]})).present():o.openFilesLocal(e,r)})()}queryAndOpenFileRemote(e){var r=this;return(0,Ce.Z)(function*(){let o;try{o=yield new Promise((i,s)=>r.modalController.create({component:sj,backdropDismiss:!1,componentProps:{onContinue:i,onCancel:s}}).then(a=>a.present()))}catch{return}finally{r.modalController.dismiss()}yield r.openUrl(o,i=>e([i]))})()}openFilesLocal(e,r){this.input&&document.body.removeChild(this.input),this.input=document.createElement("input"),this.input.style.display="none",this.input.multiple=e,this.input.type="file",this.input.addEventListener("change",function(){var o=(0,Ce.Z)(function*(i){const s=i.target;if(!s?.files?.length)return[];const a=[];for(let c=0;c<s.files?.length;c++){const f=s.files.item(c);if(!f)continue;const y=new Promise((v,D)=>{const x=new FileReader;x.onload=()=>v({content:new Uint8Array(x.result),name:f.name}),x.onerror=()=>D(x.error),x.readAsArrayBuffer(f)});a.push(y)}r(yield Promise.all(a))});return function(i){return o.apply(this,arguments)}}()),document.body.appendChild(this.input),this.input.click()}}return t.\u0275fac=function(e){return new(e||t)(me(On),me(el),me(Uv),me(Ai),me(ws),me(si),me(SM),me(Zs))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),u_=(()=>{class t{constructor(e){this.zone=e,this.modalVisibilityChangeEvent=new To.j,this.modalActive=!1,this.update(),this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}isModalActive(){return this.modalActive}update(){const e=document.querySelectorAll("ion-alert, ion-modal").length>0;e!==this.modalActive&&this.zone.run(()=>{this.modalActive=e,this.modalVisibilityChangeEvent.dispatch(e)})}}return t.\u0275fac=function(e){return new(e||t)(me(rt))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const wh=new Error("permission denied");let DM=(()=>{class t{constructor(e,r){this.alertController=e,this.alertService=r,this.clipboardContent="",this.lastClipboardReadAt=performance.now()}isSupported(){return!!navigator.clipboard?.readText&&!!navigator.clipboard?.writeText}handleSuspend(e){if(e.isSuspended())switch(e.getSuspendKind()){case 1:this.handleCopy(e);break;case 2:this.handlePaste(e)}}handleCopy(e){var r=this;return(0,Ce.Z)(function*(){const o=e.getSuspendContextClipboardCopy(),i=o.GetClipboardContent();try{return yield r.tryCopyDirect(i),void o.Resume()}catch(s){if(s===wh)return o.Cancel(),r.msgPermissionDenied()}try{yield r.tryCopyWithInteraction(i),o.Resume()}catch{yield r.msgCopyFailed(),o.Cancel()}})()}tryCopyDirect(e){var r=this;return(0,Ce.Z)(function*(){try{yield navigator.clipboard.writeText(e)}catch(o){throw(yield r.isPermissionDenied("clipboard-write"))?wh:o}})()}tryCopyWithInteraction(e){var r=this;return new Promise(function(){var o=(0,Ce.Z)(function*(i,s){try{const a=yield r.alertController.create({header:"Confirm Copy",message:"Please confirm that you want to copy to the host clipboard",backdropDismiss:!1,buttons:[{text:"Copy",handler:(c=(0,Ce.Z)(function*(){a.dismiss();try{yield navigator.clipboard.writeText(e),i(!0)}catch(f){s(f)}}),function(){return c.apply(this,arguments)})},{text:"Cancel",handler:()=>{a.dismiss(),i(!1)}}]});a.present()}catch(a){s(a)}var c});return function(i,s){return o.apply(this,arguments)}}())}handlePaste(e){var r=this;return(0,Ce.Z)(function*(){const o=yield r.tryPaste();e.getSuspendContextClipboardPaste().Resume(o??""),void 0!==o&&(r.clipboardContent=o,r.lastClipboardReadAt=performance.now())})()}tryPaste(){var e=this;return(0,Ce.Z)(function*(){if(performance.now()-e.lastClipboardReadAt<3e3)return e.clipboardContent;try{return yield e.tryPasteDirect()}catch(r){if(r===wh)return void(yield e.msgPermissionDenied())}try{return yield e.tryPasteWithInteraction()}catch{return void(yield e.msgPasteFailed())}})()}tryPasteDirect(){var e=this;return(0,Ce.Z)(function*(){try{return yield navigator.clipboard.readText()}catch(r){throw(yield e.isPermissionDenied("clipboard-read"))?wh:r}})()}tryPasteWithInteraction(){var e=this;return new Promise(function(){var r=(0,Ce.Z)(function*(o,i){try{const s=yield e.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard",backdropDismiss:!1,buttons:[{text:"Paste",handler:(a=(0,Ce.Z)(function*(){s.dismiss();try{o(yield navigator.clipboard.readText())}catch(c){i(c)}}),function(){return a.apply(this,arguments)})},{text:"Cancel",handler:()=>{s.dismiss(),o(void 0)}}]});s.present()}catch(s){i(s)}var a});return function(o,i){return r.apply(this,arguments)}}())}handlePasteSafari(e){var r=this;return(0,Ce.Z)(function*(){const o=yield r.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard.",backdropDismiss:!1,buttons:[{text:"Paste",handler:(i=(0,Ce.Z)(function*(){try{r.clipboardContent=yield navigator.clipboard.readText(),r.lastClipboardReadAt=performance.now(),o.dismiss(),e.Resume(r.clipboardContent)}catch{o.dismiss(),yield r.alertService.errorMessage("Paste from host clipboard failed."),e.Resume("")}}),function(){return i.apply(this,arguments)})},{text:"Cancel",handler:()=>{o.dismiss(),e.Resume("")}}]});var i;yield o.present()})()}isPermissionDenied(e){return(0,Ce.Z)(function*(){if(navigator.permissions)try{return"denied"===(yield navigator.permissions.query({name:e}))?.state}catch{return!1}return!1})()}msgPermissionDenied(){return this.alertService.errorMessage(`\n        CloudpilotEmu has no permission to access the clipboard. Please check your browser's settings\n        and grant the necessary permission to ${location.origin} .\n    `)}msgCopyFailed(){return this.alertService.errorMessage("Failed to copy to the host clipboard.")}msgPasteFailed(){return this.alertService.errorMessage("Failed to paste from the host clipboard.")}}return t.\u0275fac=function(e){return new(e||t)(me(eu),me(si))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const fj="https:"===window.location.protocol?8667:8666,pj=/^[\da-z\-\.]+$/i,hj=/^[\da-z\-\.]+:\d+$/i;function d_(t){if(!t)return;const n=window.location.protocol;if(t.match(pj))return`${n}//${t}:${fj}`;if(t.match(hj))return`${n}//${t}`;try{const e=new URL(t);if("https:"===e.protocol||"http:"===e.protocol)return e.toString().replace(/\/+$/,"")}catch{}}function mj(t){return void 0!==d_(t.value)?null:{proxyAddress:"invalid"}}let f_=(()=>{class t{constructor(e,r,o,i){var s=this;this.kvsService=e,this.alertService=r,this.ngZone=o,this.fetchService=i,this.handleConnect=()=>this.mutex.runExclusive((0,Ce.Z)(function*(){s.socket&&s.disconnect(s.socket);const a=d_(s.kvsService.kvs.proxyServer);if(!a)return yield s.alertService.errorMessage(`Invalid proxy address: ${s.kvsService.kvs.proxyServer}`),void s.cloudpilot.getSuspendContextNetworkConnect().Cancel();const c=yield s.handshake(void 0,500);switch(c.status){case"failed":return void s.onSocketError(void 0);case"version_mismatch":return yield s.alertService.proxyVersionMismatchError(),void s.cancelSuspend();case"success":break;default:throw new Error("unreachable")}s.socket=new WebSocket(`${a.replace(/^http/,"ws")}/network-proxy/connect?token=${encodeURIComponent(c.token)}`),s.socket.binaryType="arraybuffer",s.bindListeners(s.socket),s.ngZone.run(()=>s.connectTimeoutHandle=setTimeout(s.onSocketError,5e3))})),this.onSocketOpen=()=>{if(this.cancelConnectTimeout(),!this.cloudpilot.isSuspended()||4!==this.cloudpilot.getSuspendKind())return console.error("ERROR: socket connected, but emulation is not waiting for connect"),void this.disconnect(this.socket);this.sessionId=o_(),this.cloudpilot.getSuspendContextNetworkConnect().Resume(this.sessionId),this.resumeEvent.dispatch()},this.onSocketMessage=a=>{if(!this.cloudpilot.isSuspended()||3!==this.cloudpilot.getSuspendKind())return void console.error("ERROR: socket received message, but emulation is not waiting for rpc");if(!(a.data instanceof ArrayBuffer))return console.error("ERROR: socket received a text frame"),this.disconnect(this.socket),this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),void this.cancelSuspend();const c=this.cloudpilot.copyBuffer(new Uint8Array(a.data));this.cloudpilot.getSuspendContextNetworkRpc().ReceiveResponse(c,a.data.byteLength),this.cloudpilot.freeBuffer(c),this.resumeEvent.dispatch()},this.onSocketError=a=>{this.cancelConnectTimeout(),this.cloudpilot.isSuspended()&&4===this.cloudpilot.getSuspendKind()?this.alertService.errorMessage("Failed to connect to proxy."):this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(this.socket),this.cancelSuspend(),console.error("ERROR: socket error",a)},this.onSocketClose=()=>{this.cancelConnectTimeout(),this.alertService.errorMessage("Connection to proxy closed unexpectedly"),this.unbindListeners(this.socket),this.cancelSuspend(),this.sessionId="",this.socket=void 0},this.onProxyDisconnect=a=>{a!==this.sessionId||!this.socket||this.ngZone.run(()=>this.disconnect(this.socket))},this.resumeEvent=new To.j,this.mutex=new Ws,this.sessionId=""}initialize(e){this.cloudpilot=e,e.proxyDisconnectEvent.addHandler(this.onProxyDisconnect)}reset(){this.socket&&this.disconnect(this.socket)}handleSuspend(){if(this.cloudpilot&&this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:this.handleConnect();break;case 3:this.handleRpc()}}isConnected(){return!!this.socket}handshake(e=this.kvsService.kvs.proxyServer,r=-1){var o=this;return(0,Ce.Z)(function*(){const i=d_(e);if(!i)return{status:"failed"};try{const s=yield o.fetchService.fetch(`${i}/network-proxy/handshake`,{method:"POST",loaderDelay:r});if(!s.ok)return{status:"failed"};const a=yield s.json();return a.version<3||a.compatVersion>3?{status:"version_mismatch"}:{status:"success",token:a.token}}catch{return{status:"failed"}}})()}handleRpc(){const e=this.cloudpilot.getSuspendContextNetworkRpc();this.socket?this.socket.send(this.cloudpilot.resolveBuffer(e.GetRequestData(),e.GetRequestSize())):e.Cancel()}disconnect(e){e&&(this.unbindListeners(e),e.close()),this.sessionId="",this.socket=void 0}bindListeners(e){this.ngZone.run(()=>{e.addEventListener("open",this.onSocketOpen),e.addEventListener("error",this.onSocketError),e.addEventListener("close",this.onSocketClose)}),this.ngZone.runOutsideAngular(()=>e.addEventListener("message",this.onSocketMessage))}unbindListeners(e){!e||(e.removeEventListener("message",this.onSocketMessage),e.removeEventListener("open",this.onSocketOpen),e.removeEventListener("error",this.onSocketError),e.removeEventListener("close",this.onSocketClose))}cancelSuspend(){if(this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:case 3:this.cloudpilot.cancelSuspend()}}cancelConnectTimeout(){void 0!==this.connectTimeoutHandle&&clearTimeout(this.connectTimeoutHandle),this.connectTimeoutHandle=void 0}}return t.\u0275fac=function(e){return new(e||t)(me(Ai),me(si),me(rt),me(SM))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),MM=(()=>{class t{constructor(){this.buttons=new Map}reset(e){this.cloudpilot=e,this.buttons.clear(),[6,7].forEach(r=>e.queueButtonUp(r))}engage(e){!this.cloudpilot||(this.buttons.has(e)?this.buttons.get(e).timer=0:(this.buttons.set(e,{button:e,timer:0}),this.cloudpilot?.queueButtonDown(e)))}tick(e){if(this.cloudpilot)for(const[r,o]of this.buttons)o.timer+=1e3*e,o.timer>250&&(this.cloudpilot.queueButtonUp(r),this.buttons.delete(r))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),kM=(()=>{class t{constructor(){this.hasRenderedPromise=new Promise(e=>this.hasRenderedResolve=e)}notifyHasRendered(){this.hasRenderedResolve()}hasRendered(){return this.hasRenderedPromise}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var _j=R(9084),TM=R.n(_j);function p_(){return p_=(0,Ce.Z)(function*(t){const n=yield h_.create();if(n.mkfs(t))return n.getImage()}),p_.apply(this,arguments)}const xM="fstools_web.wasm",AM=WebAssembly.compileStreaming?WebAssembly.compileStreaming(fetch(xM)):fetch(xM).then(t=>t.arrayBuffer()).then(t=>WebAssembly.compile(t));class h_{constructor(n){this.module=n,this.nativeContext=new n.MkfsContext}static create(){return(0,Ce.Z)(function*(){return new h_(yield TM()({print:n=>console.log(n),printErr:n=>console.error(n),instantiateWasm:(n=(0,Ce.Z)(function*(e,r){return r(yield WebAssembly.instantiate(yield AM,e))}),function(r,o){return n.apply(this,arguments)})}));var n})()}mkfs(n){return this.nativeContext.Mkfs(n,"card")}getImage(){const n=this.nativeContext.GetImageSize(),e=this.module.getPointer(this.nativeContext.GetImage());if(0!==n&&0!==e)return this.module.HEAPU32.subarray(e>>>2,e+n>>>2)}}class bh{constructor(n,e){this.module=n,this.result=0,this.nativeContext=new n.FsckContext(e>>>9)}static create(n){return(0,Ce.Z)(function*(){const e=yield TM()({print:r=>console.log(r),printErr:r=>console.error(r),instantiateWasm:(r=(0,Ce.Z)(function*(o,i){return i(yield WebAssembly.instantiate(yield AM,o))}),function(i,s){return r.apply(this,arguments)})});var r;return new bh(e,n)})()}getImageData(){const n=this.nativeContext.GetImageSize(),e=this.module.getPointer(this.nativeContext.GetImage());return this.module.HEAPU32.subarray(e>>>2,e+n>>2)}getDirtyPages(){const n=this.module.getPointer(this.nativeContext.GetDirtyPages()),e=this.nativeContext.GetImageSize(),r=(e>>>13)+(e%8192>0?1:0);return this.module.HEAPU8.subarray(n,n+((r>>>3)+(r%8>0?1:0)))}fsck(){if(0!==this.result)return this.result;try{return this.result=this.nativeContext.Fsck(),this.result}catch(n){return console.warn("fsck failed",n),this.result=4,this.result}}getResult(){return this.result}}var yr=(()=>(function(t){t.dirty="dirty",t.clean="clean",t.unformatted="unformatted",t.unfixable="unfixable"}(yr||(yr={})),yr))(),dr=(()=>(function(t){t.portrait="portrait",t.landscape90="landscape90",t.landscape270="landscape270",t.portrait180="portrait180"}(dr||(dr={})),dr))();let Gd=(()=>{class t{constructor(e,r,o){this.cloudpilotService=e,this.storageService=r,this.loadingController=o,this.sessions=[],this.loading=!0,this.updateMutex=new Ws,this.updateSessionsFromStorage().then(()=>this.loading=!1),this.storageService.sessionChangeEvent.addHandler(this.updateSessionsFromStorage.bind(this))}isLoading(){return this.loading}addSessionFromImage(e,r,o={}){var i=this;return(0,Ce.Z)(function*(){const s={hotsyncName:e.metadata?.hotsyncName,dontManageHotsyncName:!1,speed:1,deviceOrientation:dr.portrait,...o,id:-1,name:r,device:e.deviceId,ram:(yield i.cloudpilotService.cloudpilot).minRamForDevice(e.deviceId)/1024/1024,rom:"",osVersion:e?.metadata?.osVersion},a=yield i.loadingController.create({message:"Importing..."});yield a.present();const c=yield i.storageService.addSession(s,e.rom,e.memory,e.savestate);return yield i.updateSessionsFromStorage(),yield a.dismiss(),c})()}addSessionFromRom(e,r,o,i={}){var s=this;return(0,Ce.Z)(function*(){const a={hotsyncName:"",dontManageHotsyncName:!1,speed:1,deviceOrientation:dr.portrait,...i,id:-1,name:r,device:o,ram:(yield s.cloudpilotService.cloudpilot).minRamForDevice(o)/1024/1024,rom:""},c=yield s.loadingController.create({message:"Importing..."});yield c.present();const f=yield s.storageService.addSession(a,e);return yield s.updateSessionsFromStorage(),yield c.dismiss(),f})()}getSessions(){return this.sessions}deleteSession(e){var r=this;return(0,Ce.Z)(function*(){yield r.storageService.deleteSession(e)})()}updateSession(e){var r=this;return(0,Ce.Z)(function*(){yield r.storageService.updateSession(e)})()}updateSessionsFromStorage(){var e=this;return(0,Ce.Z)(function*(){e.sessions=yield e.updateMutex.runExclusive((0,Ce.Z)(function*(){return(yield e.storageService.getAllSessions()).sort((r,o)=>r.name.localeCompare(o.name))}))})()}}return t.\u0275fac=function(e){return new(e||t)(me(Zs),me(On),me(el))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var bj=R(7971),Cj=R.n(bj);class m_{constructor(n){this.module=n,this.vfsNative=new n.Vfs}static create(){return(0,Ce.Z)(function*(){return new m_(yield Cj()({print:n=>console.log(n),printErr:n=>console.error(n)}))})()}AllocateImage(n){this.vfsNative.AllocateImage(n>>>9)}MountImage(n){return this.vfsNative.MountImage(n)}UnmountImage(n){this.vfsNative.UnmountImage(n)}GetPendingImage(){const n=this.module.getPointer(this.vfsNative.GetPendingImage()),e=this.vfsNative.GetPendingImageSize();if(0!==n&&0!==e)return this.module.HEAPU32.subarray(n>>>2,n+e>>>2)}GetImageInSlot(n){const e=this.module.getPointer(this.vfsNative.GetImage(n)),r=this.vfsNative.GetSize(n);if(0!==e&&0!==r)return this.module.HEAPU32.subarray(e>>>2,e+r>>>2)}Readdir(n){const e=new this.module.ReaddirContext(n);try{const r=[];for(;0===e.GetStatus();){const o=e.GetEntryName(),i=e.GetEntryModifiedTS();r.push({path:`${n.replace(/\/*$/,"")}/${o}`,name:o,size:e.GetEntrySize(),lastModifiedTS:i,lastModifiedLocalDate:new Date(1e3*i).toLocaleDateString(),isDirectory:e.IsEntryDirectory()}),e.Next()}if(2===e.GetStatus()){console.warn(`readdir failed: ${e.GetErrorDescription()}`);const o=e.GetError();return{error:0===o?2:o,reason:e.GetErrorDescription()}}return{error:0,entries:r}}finally{this.module.destroy(e)}}}let g_=(()=>{class t{constructor(e,r){this.storageService=e,this.storageCardContext=r,this.onReleaseCard=new To.j,this.vfs=m_.create(),this.directoryCache=new Map}normalizePath(e){return e.replace(/\/*$/,"")}splitPath(e){return this.normalizePath(e).split("/")}mountCardUnchecked(e,r,o){var i=this;return(0,Ce.Z)(function*(){const s=yield i.storageService.getCard(e);if(!s)throw new Error(`no card with id ${e}`);if(i.storageCardContext.claim(e,Gr.vfs),i.directoryCache.clear(),i.mountedCard?.id===e)return!0;i.mountedCard&&(yield i.releaseCard(i.mountedCard.id));const a=yield i.vfs;a.AllocateImage(s.size);const c=a.GetPendingImage();if(!c)throw new Error("failed to allocate image");return o?c.set(o):yield i.storageService.loadCardData(e,c,Gr.vfs),!!a.MountImage(0)&&(i.mountedCard=s,!0)})()}releaseCard(e=this.mountedCard?.id){var r=this;return(0,Ce.Z)(function*(){void 0===e||e!==r.mountedCard?.id||((yield r.vfs).UnmountImage(0),r.mountedCard=void 0,r.storageCardContext.release(e,Gr.vfs),r.onReleaseCard.dispatch(e))})()}readdir(e){var r=this;return(0,Ce.Z)(function*(){const o=r.normalizePath(e);if(!r.directoryCache.has(o)){const i=(yield r.vfs).Readdir(e);0===i.error&&r.directoryCache.set(o,i.entries)}return r.directoryCache.get(o)})()}currentCard(){return this.mountedCard}}return t.\u0275fac=function(e){return new(e||t)(me(On),me(ru))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Qr=(()=>(function(t){t[t.mb4=0]="mb4",t[t.mb8=1]="mb8",t[t.mb16=2]="mb16",t[t.mb32=3]="mb32",t[t.mb64=4]="mb64",t[t.mb128=5]="mb128"}(Qr||(Qr={})),Qr))();function PM(){return o_().replace(/-/g,"")}let au=(()=>{class t{constructor(e,r,o,i,s,a,c,f,y,v,D){this.sessionService=e,this.storageService=r,this.emulationStateService=o,this.cloudpilotService=i,this.loadingController=s,this.snapshotService=a,this.alertService=c,this.errorService=f,this.fileService=y,this.vfsService=v,this.storageCardContext=D,this.loading=!0,this.cards=[],this.updateMutex=new Ws,this.updateCardsFromDB().then(()=>this.loading=!1),r.storageCardChangeEvent.addHandler(()=>this.updateCardsFromDB())}getAllCards(){return this.cards}createEmptyCard(e,r,o){var i=this;return(0,Ce.Z)(function*(){const s=yield i.loadingController.create({message:"Formatting..."});try{yield s.present();const a=yield function wj(t){return p_.apply(this,arguments)}(function Sj(t){switch(t){case Qr.mb4:return 4;case Qr.mb8:return 8;case Qr.mb16:return 16;case Qr.mb32:return 32;case Qr.mb64:return 64;case Qr.mb128:return 128;default:throw new Error(`bad card size ${t}`)}}(r));if(!a)throw new Error("failed to create image");const c={storageId:PM(),name:e,size:4*a.length,status:yr.clean,dontFsckAutomatically:o};return yield i.storageService.importStorageCard(c,a)}finally{s.dismiss()}})()}createCardFromFile(e,r,o){var i=this;return(0,Ce.Z)(function*(){const s={storageId:PM(),name:e,size:r.content.length,status:yr.clean,dontFsckAutomatically:o},a=new Uint32Array(r.content.buffer,r.content.byteOffset,r.content.byteLength>>>2),c=yield i.loadingController.create({message:"Importing..."});try{if(o)yield c.present(),yield i.storageService.importStorageCard(s,a);else{const[f,y]=yield i.fsckNewCard(a,s);yield c.present(),yield i.storageService.importStorageCard(y,f)}}finally{c.dismiss()}})()}onEmulatorStop(){const e=this.emulationStateService.getCurrentSession()?.mountedCard;void 0!==e&&this.storageCardContext.release(e,Gr.cloudpilot)}loadCardInEmulator(e,r){var o=this;return(0,Ce.Z)(function*(){const i=yield o.storageService.getCard(e);if(!i)throw new Error(`no card with id ${e}`);yield o.vfsService.releaseCard(e);const s=yield o.cloudpilotService.cloudpilot;if(s.getMountedKey())throw new Error("attempt to mount a card while another card is mounted");if(!s.allocateCard(i.storageId,i.size))throw new Error("failed to allocate card");const a=s.getCardData(i.storageId);if(!a)throw new Error("failed to access card data");return o.storageCardContext.claim(e,Gr.cloudpilot),r?a.set(r):yield o.storageService.loadCardData(i.id,a,Gr.cloudpilot),i})()}ejectCurrentCard(){var e=this;return(0,Ce.Z)(function*(){const r=e.emulationStateService.getCurrentSession();if(!r)throw new Error("no running session");const o=r?.mountedCard;if(void 0===o)throw new Error("no mounted card");const i=yield e.storageService.getCard(o);if(!i)throw new Error(`no card with id ${o}`);yield e.storageService.updateStorageCardPartial(o,{status:yr.dirty}),yield e.snapshotService.waitForPendingSnapshot(),yield e.snapshotService.triggerSnapshot(),yield e.storageService.updateSessionPartial(r.id,{mountedCard:void 0}),(yield e.cloudpilotService.cloudpilot).removeCard(i.storageId),e.snapshotService.resetCard(),e.storageCardContext.release(o,Gr.cloudpilot)})()}checkCard(e){var r=this;return(0,Ce.Z)(function*(){const o=r.mountedInSession(e.id);if(o){let s=!1;if(yield r.alertService.message("Card is attached",`This card needs to be ejected from session '${o.name}' before it can be checked.`,{"Eject now":()=>s=!0},"Cancel"),!s)return;yield r.ejectCard(e.id)}const i=yield r.executeFsckAndUpdateCard(e.id);switch(i.getResult()){case 1:return void r.alertService.cardIsClean();case 3:return void r.alertService.cardHasNoValidFileSystem();case 4:r.alertService.cardHasUncorrectableErrors();break;case 2:{let s=!1;return yield r.alertService.message("Filesystem errors",`The filesystem on this card contains errors${e.dontFsckAutomatically?"":"  that need to be fixed before it can be used"}. Do you want to fix them now?`,{"Fix now":()=>s=!0},"Cancel"),void(s?yield r.applyFsckResult(e.id,i):r.storageCardContext.release(e.id,Gr.fstools))}}})()}insertCard(e){return this.checkAndClaimCard(e,"insert")}browseCard(e){var r=this;return(0,Ce.Z)(function*(){const o=r.mountedInSession(e.id);if(o){let i=!1;if(yield r.alertService.message("Card is attached",`This card needs to be ejected from session '${o.name}' before it can be browsed.`,{"Eject now":()=>i=!0},"Cancel"),!i)return!1;yield r.ejectCard(e.id)}return r.checkAndClaimCard(e.id,"vfs")})()}updateCard(e,r){var o=this;return(0,Ce.Z)(function*(){const i=yield o.storageService.getCard(e);if(!i)throw new Error(`no card with id ${e}`);return!r.dontFsckAutomatically&&i.dontFsckAutomatically&&(r.status=yr.dirty),o.storageService.updateStorageCardPartial(e,r)})()}deleteCard(e){var r=this;return(0,Ce.Z)(function*(){yield r.vfsService.releaseCard(e),yield r.ejectCard(e),yield r.storageService.deleteStorageCard(e)})()}saveCard(e,r){var o=this;return(0,Ce.Z)(function*(){const i=yield o.getCard(e);if(!i)throw new Error(`no card with id ${e}`);const s=yield o.loadingController.create({message:"Exporting..."});let a;try{yield s.present();const c=o.mountedInSession(e);c&&c.id===o.emulationStateService.getCurrentSession()?.id&&(yield o.snapshotService.waitForPendingSnapshot(),yield o.snapshotService.triggerSnapshot(),a=(yield o.cloudpilotService.cloudpilot).getCardData(i.storageId)),a||(a=new Uint32Array(i.size>>>2),yield o.storageService.loadCardData(i.id,a,o.storageCardContext.getOwner(e)))}finally{s.dismiss()}o.fileService.saveFile(r,new Uint8Array(a.buffer,a.byteOffset,a.length<<2))})()}getCard(e){var r=this;return(0,Ce.Z)(function*(){return r.storageService.getCard(e)})()}mountedInSession(e){return this.sessionService.getSessions().find(r=>r.mountedCard===e)}isLoading(){return this.loading}updateCardsFromDB(){var e=this;return(0,Ce.Z)(function*(){e.cards=yield e.updateMutex.runExclusive((0,Ce.Z)(function*(){return(yield e.storageService.getAllStorageCards()).sort((r,o)=>r.name.localeCompare(o.name))}))})()}cardIsMounted(e){var r=this;return(0,Ce.Z)(function*(){return(yield r.storageService.getAllSessions()).some(i=>i.mountedCard===e)})()}checkAndClaimCard(e,r){var o=this;return(0,Ce.Z)(function*(){if(yield o.cardIsMounted(e))throw new Error("card already mounted");let i=yield o.getCard(e);if(!i)throw new Error(`no card with id ${e}`);let s,a=!0,c=!1;if(!i.dontFsckAutomatically){if(i.status===yr.dirty){if(s=yield o.executeFsckAndUpdateCard(e),2===s.getResult()){if(a=!1,yield o.alertService.message("Filesystem errors",`The filesystem on this card contains errors that have to fixed before it can be ${"insert"===r?"inserted":"browsed"}. Do you want to fix them now?`,{"Fix now":()=>a=!0},"Cancel"),!a)return o.storageCardContext.release(e,Gr.fstools),!1;yield o.applyFsckResult(i.id,s)}if(i=yield o.getCard(e),!i)throw new Error(`no card with id ${e}`)}switch(i.status){case yr.clean:break;case yr.unformatted:if("vfs"===r)return yield o.alertService.message("Card unformatted","This card is unformatted and cannot be browsed. Insert it into a device and format it."),!1;case yr.dirty:return yield o.alertService.message("Card requires check",`This card needs to be checked before it can be ${"insert"===r?"inserted":"browsed"}.`),!1;case yr.unfixable:if(a=!1,c=!0,yield o.alertService.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors. "+("insert"===r?"Writing could cause further damage. Do you want to insert it nevertheless?":"The card will be mounted read-only in order to prevent further damage."),{"Insert card":()=>a=!0},"Cancel"),!a)return!1;break;default:throw new Error("unreachable: bad card status")}}try{"insert"===r?(yield o.vfsService.releaseCard(e),yield o.mountCardInEmulator(e,s?.getImageData())):(yield o.mountCardForBrowsing(e,c,s?.getImageData()))||(yield o.alertService.message("Failed to mount card","The card could not be mounted for browsing."))}catch(f){return o.errorService.fatalBug(f instanceof Error?f.message:"mount failed"),!1}return!0})()}executeFsckAndUpdateCard(e){var r=this;return(0,Ce.Z)(function*(){const o=yield r.loadingController.create({message:"Checking card..."});try{if(yield o.present(),yield r.cardIsMounted(e))throw new Error("attempt to fsck a mounted card");const i=yield r.storageService.getCard(e);if(!i)throw new Error(`no card with id ${e}`);yield r.vfsService.releaseCard(e),r.storageCardContext.claim(e,Gr.fstools);const s=yield bh.create(i.size);switch(yield r.storageService.loadCardData(i.id,s.getImageData(),Gr.fstools),s.fsck()){case 1:yield r.storageService.updateStorageCardPartial(e,{status:yr.clean}),r.storageCardContext.release(e,Gr.fstools);break;case 3:yield r.storageService.updateStorageCardPartial(e,{status:yr.unformatted}),r.storageCardContext.release(e,Gr.fstools);break;case 2:yield r.storageService.updateStorageCardPartial(e,{status:yr.dirty});break;case 4:yield r.storageService.updateStorageCardPartial(e,{status:yr.unfixable}),r.storageCardContext.release(e,Gr.fstools);break;default:throw new Error("unrachable: invalid fsck result")}return s}finally{o.dismiss()}})()}applyFsckResult(e,r){var o=this;return(0,Ce.Z)(function*(){if(2!==r.getResult())return;const i=yield o.loadingController.create({message:"Fixing errors..."});try{yield i.present(),yield o.storageService.updateCardData(e,r.getImageData(),r.getDirtyPages(),Gr.fstools),yield o.storageService.updateStorageCardPartial(e,{status:yr.clean}),o.storageCardContext.release(e,Gr.fstools)}finally{i.dismiss()}})()}fsckNewCard(e,r){var o=this;return(0,Ce.Z)(function*(){const i=yield o.loadingController.create({message:"Checking card..."});let s,a;try{yield i.present(),s=yield bh.create(r.size),s.getImageData().set(e),a=s.fsck()}finally{i.dismiss()}switch(a){case 1:return[e,{...r,status:yr.clean}];case 2:{let c=!1;return yield o.alertService.message("Filesystem errors","The filesystem on this card contains errors that must be fixed before the card can be used. Do you want to fix them now?",{"Fix now":()=>c=!0},"Skip"),c?[s.getImageData(),{...r,status:yr.clean}]:[e,{...r,status:yr.dirty}]}case 3:return yield o.alertService.cardHasNoValidFileSystem(),[e,{...r,status:yr.unformatted}];case 4:return yield o.alertService.cardHasUncorrectableErrors(),[e,{...r,status:yr.unfixable}];default:throw new Error("unreachable: bad fsck result")}})()}ejectCard(e){var r=this;return(0,Ce.Z)(function*(){const o=r.mountedInSession(e),i=yield r.storageService.getCard(e);!o||!i||(o.id===r.emulationStateService.getCurrentSession()?.id?yield r.ejectCurrentCard():(yield r.storageService.updateSessionPartial(o.id,{mountedCard:void 0}),yield r.storageService.updateStorageCardPartial(e,{status:yr.dirty})))})()}mountCardInEmulator(e,r){var o=this;return(0,Ce.Z)(function*(){if(yield o.cardIsMounted(e))throw new Error("card already mounted");const i=yield o.loadingController.create({message:"Inserting..."});try{yield i.present(),yield o.vfsService.releaseCard(e);const s=o.emulationStateService.getCurrentSession();if(!s)throw new Error("no current session");if(void 0!==s.mountedCard)throw new Error("session already has a mounted card");const a=yield o.loadCardInEmulator(e,r),c=yield o.cloudpilotService.cloudpilot;if(yield o.storageService.updateStorageCardPartial(e,{status:yr.dirty}),yield o.storageService.updateSessionPartial(s.id,{mountedCard:e}),!c.mountCard(a.storageId))throw c.removeCard(a.storageId),new Error("failed to mount card");return a}finally{i.dismiss()}})()}mountCardForBrowsing(e,r,o){var i=this;return(0,Ce.Z)(function*(){if(i.vfsService.currentCard()?.id===e)return!0;const s=yield i.loadingController.create({message:"Mounting..."});try{return yield s.present(),yield i.vfsService.mountCardUnchecked(e,r,o)}finally{s.dismiss()}})()}}return t.\u0275fac=function(e){return new(e||t)(me(Gd),me(On),me(Ia),me(Zs),me(el),me(Ud),me(si),me(ql),me(su),me(g_),me(ru))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ys=(()=>{class t extends class ej{constructor(){this.onPwmUpdate=n=>{this.pendingPwmUpdates.count()>0&&this.pendingPwmUpdates.peekLast().frequency<0?this.pendingPwmUpdates.replaceLast(n):this.pendingPwmUpdates.push(n)},this.advanceEmulation=n=>{if(this.isDirty=!1,!this.cloudpilotInstance||this.hasFatalError()||n<this.clockEmulator)return;const e=this.cloudpilotInstance.isSuspended();let r=!1;this.cloudpilotInstance.setClockFactor(this.emulationSpeed*this.getConfiguredSpeed()),n-this.clockEmulator>1e3/30&&(this.clockEmulator=n-1e3/30);const o=(n-this.clockEmulator)/1e3*this.cloudpilotInstance.cyclesPerSecond(),i=performance.now();let s=0;for(;s<o;)if(s+=this.cloudpilotInstance.runEmulation(Math.ceil(o-s)),this.cloudpilotInstance.isSuspended()){r=!0;break}const a=s/this.cloudpilotInstance.cyclesPerSecond()*1e3,c=performance.now()-i;if(this.clockEmulator+=Math.max(a,c),this.speedAverage.push(a/(c>0?c:a/1e3)*this.emulationSpeed),this.updateEmulationSpeed(this.speedAverage.calculateAverage()),r&&!e)return void this.handleSuspend();const f=this.cloudpilotInstance.isPowerOff(),y=this.cloudpilotInstance.isUiInitialized();if(f!==this.powerOff||y!==this.uiInitialized){const v=this.powerOff;this.powerOff=f,this.uiInitialized=y,v!==this.powerOff&&this.powerOffChangeEvent.dispatch(this.powerOff),this.isDirty=!0}y&&!f&&this.manageHotsyncName()&&this.checkAndUpdateHotsyncName(),this.onAfterAdvanceEmulation(n,s)},this.newFrameEvent=new To.j,this.pwmUpdateEvent=new To.j,this.emulationStateChangeEvent=new To.j,this.powerOffChangeEvent=new To.j,this.deviceId=ae.m515,this.clockEmulator=0,this.scheduler=new hM(n=>this.onSchedule(n)),this.canvas=document.createElement("canvas"),this.canvasTmp=document.createElement("canvas"),this.lastPenUpdate=0,this.penDown=!1,this.running=!1,this.powerOff=!1,this.uiInitialized=!1,this.pendingPwmUpdates=new qH(10),this.lastPwmUpdateEvent=0,this.emulationSpeed=1,this.speedAverage=new yM(20),this.timePerFrameAverage=new yM(60),this.timestampLastFrame=0,this.frameCounter=0,this.isDirty=!1}handlePointerMove(n,e,r){if(!this.handleInput())return;const o=performance.now();this.penDown=!0,!(o-this.lastPenUpdate<25)&&this.cloudpilotInstance&&(r&&(n=this.transformSilkscreenX(n)),this.cloudpilotInstance.queuePenMove(Math.floor(n),Math.floor(e)),this.lastPenUpdate=o)}handlePointerUp(){!this.handleInput()||(this.cloudpilotInstance&&this.penDown&&this.cloudpilotInstance.queuePenUp(),this.lastPenUpdate=0,this.penDown=!1)}handleButtonDown(n){!this.handleInput()||this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonDown(n)}handleButtonUp(n){!this.handleInput()||this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonUp(n)}handleKeyDown(n,e=!1){!this.handleInput()||this.cloudpilotInstance&&this.cloudpilotInstance.queueKeyboardEvent(n,e)}reset(){this.cloudpilotInstance&&this.cloudpilotInstance.reset()}resetNoExtensions(){this.cloudpilotInstance&&this.cloudpilotInstance.resetNoExtensions()}resetHard(){this.cloudpilotInstance&&this.cloudpilotInstance.resetHard()}isRunning(){return this.running}isPowerOff(){return this.powerOff}isUiInitialized(){return this.uiInitialized}getCanvas(){return this.canvas}getStatistics(){return{hostSpeed:this.speedAverage.calculateAverage(),emulationSpeed:this.emulationSpeed,averageFps:this.calculateFPS()}}getEmulationSpeed(){return this.emulationSpeed}isSuspended(){return!!this.cloudpilotInstance&&this.cloudpilotInstance.isSuspended()}onAfterAdvanceEmulation(n,e){}handleSuspend(){}callScheduler(){this.scheduler.schedule()}handleInput(){return!0}openSession(n,e,r,o,i){let s=!1;return!!n.initializeSession(e,r)&&(o&&(o.length%4!=0?console.warn("memory size is not a multiple of 4; ignoring image"):(s=n.loadMemory(new Uint32Array(o.buffer,o.byteOffset,o.length>>>2)),s||console.warn("failed to load memory"))),s&&i&&n.loadState(i),n.remountCards(),this.cloudpilotInstance&&this.cloudpilotInstance.pwmUpdateEvent.removeHandler(this.onPwmUpdate),n.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.cloudpilotInstance=n,this.deviceId=r,this.resetCanvas(),this.pendingPwmUpdates.flush(),this.lastPwmUpdateEvent=0,this.deviceHotsyncName=void 0,this.emulationSpeed=1,this.frameCounter=0,this.speedAverage.reset(1),this.powerOff=n.isPowerOff(),this.uiInitialized=n.isUiInitialized(),this.frameCounter=0,!0)}resetCanvas(){const n=jd(this.deviceId);this.canvas.width=this.canvasTmp.width=n.width,this.canvas.height=this.canvasTmp.height=n.height;const e=this.canvas.getContext("2d");if(!e)throw new Error("get a new browser");this.context=e;const r=this.canvasTmp.getContext("2d");if(!r)throw new Error("get a new browser");this.contextTmp=r,this.clearCanvas(),this.imageData=void 0}doResume(){!this.cloudpilotInstance||(this.clockEmulator=performance.now(),this.schedule(),this.setRunning(!0),this.resetFPS())}doPause(){this.stopLoop()}doStop(){this.stopLoop()}stopLoop(){!this.running||(this.scheduler.cancel(),void 0!==this.advanceEmulationHandle&&(window.clearTimeout(this.advanceEmulationHandle),this.advanceEmulationHandle=void 0),this.setRunning(!1))}resetFPS(){this.timePerFrameAverage.reset(),this.timestampLastFrame=performance.now()}calculateFPS(){const n=this.timePerFrameAverage.calculateAverage();return n&&1e3/n}transformSilkscreenX(n){const e=jd(this.deviceId);return void 0===e.silkscreenOvershoot?n:(n-e.width/2)/(e.width/(e.width+2*e.silkscreenOvershoot))+e.width/2}setRunning(n){n!==this.running&&(this.running=n,this.emulationStateChangeEvent.dispatch(n))}updateEmulationSpeed(n){if(n>=1&&this.emulationSpeed>=1)return;const e=Math.min(Math.max(Math.floor(10*n)/10,.1),1);this.emulationSpeed=e<=this.emulationSpeed||n-e>=.05?e:this.emulationSpeed}performScreenUpdate(){this.cloudpilotInstance?.isScreenDirty()&&(this.updateScreen(),this.cloudpilotInstance.markScreenClean(),this.frameCounter++)}onSchedule(n){this.hasFatalError()||(this.skipEmulationUpdate()||(this.performScreenUpdate(),this.pendingPwmUpdates.count()>0&&n-this.lastPwmUpdateEvent>10&&(this.pwmUpdateEvent.dispatch(this.pendingPwmUpdates.pop()),this.lastPwmUpdateEvent=n),void 0===this.advanceEmulationHandle&&(this.advanceEmulationHandle=window.setTimeout(()=>{this.advanceEmulationHandle=void 0,this.advanceEmulation(n)},0)),this.timePerFrameAverage.push(Math.max(0,n-this.timestampLastFrame)),this.timestampLastFrame=n),this.schedule())}schedule(){this.scheduler.cancel(),this.getConfiguredSchdedulerKind()!==this.scheduler.getKind()&&(this.scheduler=this.getConfiguredSchdedulerKind()===al.animationFrame?new hM(n=>this.onSchedule(n)):new jH(n=>this.onSchedule(n))),this.callScheduler()}checkAndUpdateHotsyncName(){if(!this.cloudpilotInstance)return;void 0===this.deviceHotsyncName&&(this.deviceHotsyncName=this.cloudpilotInstance.getHotsyncName());const n=this.getConfiguredHotsyncName();void 0===n?this.updateConfiguredHotsyncName(this.deviceHotsyncName):n!==this.deviceHotsyncName&&n.length<=40&&this.cloudpilotInstance.isSetupComplete()&&(this.cloudpilotInstance.setHotsyncName(n),this.deviceHotsyncName=n)}clearCanvas(){const n=this.deviceId,e=jd(n);this.context.beginPath(),this.context.rect(0,0,e.width,e.height),this.context.fillStyle=a_(n)?"white":s_[0],this.context.fill()}updateScreen(){if(!this.cloudpilotInstance)return;const n=this.cloudpilotInstance.getFrame();if(this.cloudpilotInstance.isPowerOff())return this.clearCanvas(),void this.newFrameEvent.dispatch(this.canvas);if(!n.hasChanges)return;if(n.lines*n.scaleY===this.canvas.height&&n.lineWidth*n.scaleX===this.canvas.width){(!this.imageData||this.imageData.width!==n.lineWidth||this.imageData.height!==n.lines)&&(this.imageData=new ImageData(n.lineWidth,n.lines));const r=new Uint32Array(this.imageData.data.buffer);switch(n.bpp){case 1:{const o=ll[15],i=ll[0];let s=0;for(let a=n.firstDirtyLine;a<=n.lastDirtyLine;a++){const c=a*n.bytesPerLine;for(let f=n.margin;f<n.lineWidth+n.margin;f++)r[s++]=n.buffer[c+(f>>>3)]&128>>>(7&f)?o:i}break}case 2:{const o=this.cloudpilotInstance.getPalette2bitMapping(),i=[ll[15&o],ll[o>>>4&15],ll[o>>>8&15],ll[o>>>12&15]];let s=0;for(let a=n.firstDirtyLine;a<=n.lastDirtyLine;a++){const c=a*n.bytesPerLine;for(let f=n.margin;f<n.lineWidth+n.margin;f++)r[s++]=i[n.buffer[c+(f>>>2)]>>6-2*(3&f)&3]}break}case 4:{let o=0;for(let i=n.firstDirtyLine;i<=n.lastDirtyLine;i++){const s=i*n.bytesPerLine;for(let a=n.margin;a<n.lineWidth+n.margin;a++)r[o++]=ll[n.buffer[s+(a>>>1)]>>>4-4*(1&a)&15]}break}case 24:{const o=new Uint32Array(n.buffer.buffer,n.buffer.byteOffset,n.buffer.byteLength>>>2);if(0===n.margin)r.subarray(0,n.lineWidth*(n.lastDirtyLine-n.firstDirtyLine+1)).set(o.subarray(n.firstDirtyLine*n.lineWidth,n.lineWidth*(n.lastDirtyLine+1)));else{let i=0;for(let s=n.firstDirtyLine;s<=n.lastDirtyLine;s++){let a=s*(n.bytesPerLine>>>2)+n.margin;for(let c=0;c<n.lineWidth;c++)r[i++]=o[a++]}}}}}if(!this.imageData)return;const e=1!==n.scaleX||1!==n.scaleY;(e?this.contextTmp:this.context).putImageData(this.imageData,0,n.firstDirtyLine,0,0,n.lineWidth,n.lastDirtyLine-n.firstDirtyLine+1),e&&(this.context.imageSmoothingEnabled=!1,this.context.drawImage(this.canvasTmp,0,n.firstDirtyLine,n.lineWidth,n.lastDirtyLine-n.firstDirtyLine+1,0,n.firstDirtyLine*n.scaleY,n.lineWidth*n.scaleX,(n.lastDirtyLine-n.firstDirtyLine+1)*n.scaleY)),this.newFrameEvent.dispatch(this.canvas)}}{constructor(e,r,o,i,s,a,c,f,y,v,D,x,Q,Ie,We,Be,st,Ye){var ot;super(),ot=this,this.storageService=e,this.ngZone=r,this.loadingController=o,this.emulationState=i,this.snapshotService=s,this.errorService=a,this.fileService=c,this.alertService=f,this.modalWatcher=y,this.clipboardService=v,this.kvsService=D,this.proxyService=x,this.buttonService=Q,this.bootstrapService=Ie,this.cloudpilotService=We,this.storageCardService=Be,this.storageCardContext=st,this.app=Ye,this.switchSession=ln=>this.mutex.runExclusive((0,Ce.Z)(function*(){if(ln===ot.emulationState.getCurrentSession()?.id)return;yield ot.stopUnchecked(),yield ot.bootstrapService.hasRendered();const Io=yield ot.loadingController.create({message:"Loading..."});yield Io.present();try{const Xi=yield ot.storageService.getSession(ln);if(ot.emulationState.setCurrentSession(Xi),!Xi)throw new Error(`invalid session ${ln}`);const Yl=yield ot.cloudpilotService.cloudpilot;yield ot.restoreSession(Xi,Yl),function sH(t){localStorage.setItem(hh,t+"")}(ln)}finally{yield Io.dismiss()}})),this.resume=()=>this.mutex.runExclusive((0,Ce.Z)(function*(){!ot.emulationState.getCurrentSession()||ot.running||ot.errorService.hasFatalError()||!ot.cloudpilotInstance||(yield ot.kvsService.mutex.runExclusive(()=>ot.updateFeatures()),ot.doResume(),ot.lastSnapshotAt=performance.now())})),this.pause=()=>this.mutex.runExclusive((0,Ce.Z)(function*(){ot.doPause(),!ot.errorService.hasFatalError()&&ot.emulationState.getCurrentSession()&&(yield ot.snapshotService.waitForPendingSnapshot(),yield ot.snapshotService.triggerSnapshot())})),this.stop=()=>this.mutex.runExclusive(()=>this.stopUnchecked()),this.onSessionChange=([ln,Io])=>this.mutex.runExclusive((0,Ce.Z)(function*(){ln===ot.emulationState.getCurrentSession()?.id&&(ot.emulationState.setCurrentSession(Io),ot.emulationState.getCurrentSession()||(tM(),ot.stopLoop()))})),this.onEmergencySave=()=>this.mutex.runExclusive((0,Ce.Z)(function*(){const ln=ot.emulationState.getCurrentSession();ln&&ot.fileService.emergencySaveSession(ln,yield ot.cloudpilotService.cloudpilot)})),this.mutex=new Ws,this.lastSnapshotAt=0,e.sessionChangeEvent.addHandler(this.onSessionChange),a.fatalErrorEvent.addHandler(this.pause),this.alertService.emergencySaveEvent.addHandler(this.onEmergencySave),this.cloudpilotService.cloudpilot.then(ln=>{ln.fatalErrorEvent.addHandler(this.errorService.fatalInNativeCode),this.proxyService.initialize(ln),this.proxyService.resumeEvent.addHandler(()=>this.running&&this.advanceEmulation(performance.now()))});const qt=function iH(){const t=localStorage.getItem(hh);return t?parseInt(t,10):void 0}();this.bootstrapCompletePromise=Promise.resolve(),void 0!==qt&&!FE()&&(this.bootstrapCompletePromise=this.recoverStoredSession(qt))}bootstrapComplete(){return this.bootstrapCompletePromise}getConfiguredSpeed(){return this.emulationState.getCurrentSession()?.speed||1}manageHotsyncName(){return!this.emulationState.getCurrentSession()?.dontManageHotsyncName}getConfiguredHotsyncName(){return this.emulationState.getCurrentSession()?.hotsyncName}updateConfiguredHotsyncName(e){const r=this.emulationState.getCurrentSession();!r||this.storageService.updateSessionPartial(r.id,{hotsyncName:e})}getConfiguredSchdedulerKind(){return this.kvsService.kvs.runHidden?al.timeout:al.animationFrame}hasFatalError(){return this.errorService.hasFatalError()}skipEmulationUpdate(){return this.modalWatcher.isModalActive()&&0!==this.frameCounter}onAfterAdvanceEmulation(e,r){if(!this.cloudpilotInstance)return;const o=this.emulationState.getCurrentSession();this.uiInitialized&&o&&void 0===o.osVersion&&this.storageService.updateSessionPartial(o.id,{osVersion:this.cloudpilotInstance.getOSVersion()}),this.buttonService.tick(r/this.cloudpilotInstance.cyclesPerSecond()),e-this.lastSnapshotAt>1e3&&this.isUiInitialized()&&!this.cloudpilotInstance.isSuspended()&&(this.snapshotService.triggerSnapshot(),this.lastSnapshotAt=e),this.isDirty&&this.app.tick()}handleSuspend(){!this.cloudpilotInstance||(this.clipboardService.handleSuspend(this.cloudpilotInstance),this.proxyService.handleSuspend())}callScheduler(){this.ngZone.runOutsideAngular(()=>this.scheduler.schedule())}stopUnchecked(){var e=this;return(0,Ce.Z)(function*(){!e.emulationState.getCurrentSession()||(e.doStop(),yield e.snapshotService.waitForPendingSnapshot(),e.storageCardService.onEmulatorStop(),e.emulationState.setCurrentSession(void 0))})()}updateFeatures(){if(!this.cloudpilotInstance)return;const e=this.kvsService.kvs.clipboardIntegration&&this.clipboardService.isSupported();this.cloudpilotInstance.getClipboardIntegration()!==e&&this.cloudpilotInstance.setClipboardIntegration(e),this.cloudpilotInstance.getNetworkRedirection()!==this.kvsService.kvs.networkRedirection&&(this.cloudpilotInstance.setNetworkRedirection(this.kvsService.kvs.networkRedirection),this.proxyService.reset()),this.cloudpilotInstance.setHotsyncNameManagement(!this.emulationState.getCurrentSession()?.dontManageHotsyncName)}recoverStoredSession(e){var r=this;return(0,Ce.Z)(function*(){try{yield r.switchSession(e)}catch{zs&&r.alertService.message("Possible iOS bug","It seems that you hit an iOS bug that ocassionally\ncauses the database to come up empty when the app starts. If this happens to you, please force close\nthe app in the app switcher and reopen it; your data will be back on the second attempt.\n<br/><br/>\nSorry for the inconvenience.")}})()}restoreSession(e,r){var o=this;return(0,Ce.Z)(function*(){const[i,s,a]=yield o.storageService.loadSession(e);if(!i)throw new Error(`invalid ROM ${e.rom}`);if(r.clearExternalStorage(),void 0!==e.mountedCard&&(yield o.storageCardService.loadCardInEmulator(e.mountedCard)),!o.openSession(r,i,e.device,s,a))throw new Error("failed to open session");o.proxyService.reset(),o.buttonService.reset(r),yield o.snapshotService.initialize(e,yield o.cloudpilotService.cloudpilot)})()}}return t.\u0275fac=function(e){return new(e||t)(me(On),me(rt),me(el),me(Ia),me(Ud),me(ql),me(su),me(si),me(u_),me(DM),me(Ai),me(f_),me(MM),me(kM),me(Zs),me(au),me(ru),me(za))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ul=new at($),Mj={connector:()=>new z};function RM(t,n=Mj){const{connector:e}=n;return Re((r,o)=>{const i=e();S(t(function Ij(t){return new at(n=>t.subscribe(n))}(i))).subscribe(o),o.add(r.subscribe(i))})}function FM(t,n){return n?e=>md(n.pipe(ji(1),function xj(){return Re((t,n)=>{t.subscribe(et(n,$))})}()),e.pipe(FM(t))):zt((e,r)=>t(e,r).pipe(ji(1),cv(e)))}const zd="Service workers are disabled or not supported by this browser";class Ch{constructor(n){if(this.serviceWorker=n,n){const r=pd(n,"controllerchange").pipe(Je(()=>n.controller)),i=md(Lp(()=>vn(n.controller)),r);this.worker=i.pipe(jo(y=>!!y)),this.registration=this.worker.pipe(xi(()=>n.getRegistration()));const f=pd(n,"message").pipe(Je(y=>y.data)).pipe(jo(y=>y&&y.type)).pipe(function Tj(t){return t?n=>RM(t)(n):n=>function kj(t,n){const e=k(t)?t:()=>t;return k(n)?RM(n,{connector:e}):r=>new sv(r,e)}(new z)(n)}());f.connect(),this.events=f}else this.worker=this.events=this.registration=function Pj(t){return Lp(()=>Zc(new Error(t)))}(zd)}postMessage(n,e){return this.worker.pipe(ji(1),Uo(r=>{r.postMessage({action:n,...e})})).toPromise().then(()=>{})}postMessageWithOperation(n,e,r){const o=this.waitForOperationCompleted(r),i=this.postMessage(n,e);return Promise.all([i,o]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(n){let e;return e="string"==typeof n?r=>r.type===n:r=>n.includes(r.type),this.events.pipe(jo(e))}nextEventOfType(n){return this.eventsOfType(n).pipe(ji(1))}waitForOperationCompleted(n){return this.eventsOfType("OPERATION_COMPLETED").pipe(jo(e=>e.nonce===n),ji(1),Je(e=>{if(void 0!==e.result)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Rj=(()=>{class t{constructor(e){if(this.sw=e,this.subscriptionChanges=new z,!e.isEnabled)return this.messages=ul,this.notificationClicks=ul,void(this.subscription=ul);this.messages=this.sw.eventsOfType("PUSH").pipe(Je(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Je(o=>o.data)),this.pushManager=this.sw.registration.pipe(Je(o=>o.pushManager));const r=this.pushManager.pipe(xi(o=>o.getSubscription()));this.subscription=Zo(r,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(e){if(!this.sw.isEnabled)return Promise.reject(new Error(zd));const r={userVisibleOnly:!0};let o=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),i=new Uint8Array(new ArrayBuffer(o.length));for(let s=0;s<o.length;s++)i[s]=o.charCodeAt(s);return r.applicationServerKey=i,this.pushManager.pipe(xi(s=>s.subscribe(r)),ji(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(ji(1),xi(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(zd))}decodeBase64(e){return atob(e)}}return t.\u0275fac=function(e){return new(e||t)(me(Ch))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),y_=(()=>{class t{constructor(e){if(this.sw=e,!e.isEnabled)return this.versionUpdates=ul,this.available=ul,this.activated=ul,void(this.unrecoverable=ul);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(jo(r=>"VERSION_READY"===r.type),Je(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(zd));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(zd));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}}return t.\u0275fac=function(e){return new(e||t)(me(Ch))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();class v_{}const OM=new an("NGSW_REGISTER_SCRIPT");function Fj(t,n,e,r){return()=>{if(!ma(r)||!("serviceWorker"in navigator)||!1===e.enabled)return;let i;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof e.registrationStrategy)i=e.registrationStrategy();else{const[a,...c]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":i=vn(null);break;case"registerWithDelay":i=NM(+c[0]||0);break;case"registerWhenStable":i=c[0]?Zo(LM(t),NM(+c[0])):LM(t);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}t.get(rt).runOutsideAngular(()=>i.pipe(ji(1)).subscribe(()=>navigator.serviceWorker.register(n,{scope:e.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function NM(t){return vn(null).pipe(function Aj(t,n=OI){const e=NI(t,n);return FM(()=>e)}(t))}function LM(t){return t.get(za).isStable.pipe(jo(e=>e))}function Oj(t,n){return new Ch(ma(n)&&!1!==t.enabled?navigator.serviceWorker:void 0)}let Nj=(()=>{class t{static register(e,r={}){return{ngModule:t,providers:[{provide:OM,useValue:e},{provide:v_,useValue:r},{provide:Ch,useFactory:Oj,deps:[v_,jc]},{provide:Al,useFactory:Fj,deps:[gr,OM,v_,jc],multi:!0}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Kn({providers:[Rj,y_]}),t})(),$M=(()=>{class t{constructor(e,r,o,i,s){var a=this;this.kvsService=e,this.emulationService=r,this.alertService=o,this.modalController=i,this.updates=s,this.checkForUpgrade=()=>this.mutex.runExclusive((0,Ce.Z)(function*(){const c=a.kvsService.kvs.version;void 0!==c?c!==Zl&&(yield a.kvsService.set({version:Zl,previousVersion:c,latestVersion:Zl}),yield a.emulationService.bootstrapComplete(),a.alertService.message("Update complete",`CloudpilotEmu was updated to version ${Zl}.`,{Changes:()=>a.showChangelog()})):a.kvsService.kvs.version=Zl})),this.mutex=new Ws,this.mutex.runExclusive(this.checkForDowngrade.bind(this))}start(){this.checkForUpgrade(),this.startUpdateCheck(),this.registerForUpdates()}startUpdateCheck(){this.scheduleUpdateCheck()}registerForUpdates(){var e=this;this.updates.available.subscribe((0,Ce.Z)(function*(){yield e.emulationService.bootstrapComplete(),e.alertService.updateAvailable()}))}checkForDowngrade(){var e=this;return(0,Ce.Z)(function*(){if(yield e.kvsService.initialize(),e.kvsService.kvs.previousVersion===Zl){const r=yield window.navigator.serviceWorker.getRegistration();console.log("downgrade detected"),r&&(yield r.unregister())&&(yield e.kvsService.set({previousVersion:void 0}),console.log("worker derigstered, reloading..."),window.location.reload())}})()}showChangelog(){var e=this;return(0,Ce.Z)(function*(){yield(yield e.modalController.create({component:Vd,componentProps:{url:"assets/doc/CHANGELOG.md",title:"Changelog"}})).present()})()}scheduleUpdateCheck(){setTimeout(()=>{this.updates.checkForUpdate(),this.scheduleUpdateCheck()},9e5)}}return t.\u0275fac=function(e){return new(e||t)(me(Ai),me(Ys),me(si),me(ws),me(y_))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),$j=(()=>{class t{constructor(e,r,o){this.pwaService=e,this.updateService=r,this.bootstrapService=o}ngAfterViewInit(){this.bootstrapService.notifyHasRendered(),this.pwaService.invite(),this.updateService.start()}}return t.\u0275fac=function(e){return new(e||t)(C(fM),C($M),C(kM))},t.\u0275cmp=de({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(e,r){1&e&&(_e(0,"ion-app"),wt(1,"ion-router-outlet"),fe())},dependencies:[hI,Fd]}),t})(),BM=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=de({type:t,selectors:[["app-dummy"]],decls:2,vars:0,template:function(e,r){1&e&&(_e(0,"div"),tt(1,"Dummy"),fe())},encapsulation:2}),t})(),VM=(()=>{class t{constructor(e,r){this.linkApi=e,this.router=r}canActivate(e){return e.url[0]?.path?.startsWith("install")?(this.linkApi.installation.dispatchRequest(e.queryParams.url),this.router.navigateByUrl("/tab/emulation"),!1):!e.url[0]?.path?.startsWith("import")||(this.linkApi.import.dispatchRequest(e.queryParams.url),this.router.navigateByUrl("/tab/sessions"),!1)}}return t.\u0275fac=function(e){return new(e||t)(me(Ty),me(Ur))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const __=ae.m515,Bj=s_[2],Vj=s_[0],lu="rgba(0,0,0,0.2)";function HM(t){const n=jd(t),e=(0===n.screenSize?3:2)*devicePixelRatio,r={frameDevice:1,frameCanvas:e},o=c=>({frameDevice:c,frameCanvas:c*e}),i=c=>({frameDevice:c,frameCanvas:r.frameCanvas+c*e}),s=o(n.silkscreenHeight>0?1:0),a=o(function Gj(t){switch(t){case 3:case 1:return 60;case 2:return 45;default:return 30}}(n.screenSize));return{scale:e,borderWidth:r,height:o(2*r.frameDevice+n.height+s.frameDevice+n.silkscreenHeight+a.frameDevice),width:o(2*r.frameDevice+n.width),screenHeight:o(n.height),screenWidth:o(n.width),screenLeft:i(0),screenTop:i(0),screenBottom:i(n.height),separatorHeight:s,silkscreenHeight:o(n.silkscreenHeight),silkscreenTop:i(n.height+s.frameDevice),silkscreenBottom:i(n.height+s.frameDevice+n.silkscreenHeight),softSilkscreenHeight:o(n.silkscreenHeight>0?0:n.height-n.width),buttonHeight:a,buttonWidth:a,buttonTop:i(n.height+s.frameDevice+n.silkscreenHeight),buttonBottom:i(n.height+s.frameDevice+n.silkscreenHeight+a.frameDevice)}}const Yj=["SILKSCREEN_V","SILKSCREEN_M500","SILKSCREEN_M515","SILKSCREEN_IIIC","SILKSCREEN_M100","SILKSCREEN_M130","SILKSCREEN_TUNGSTEN_W","SILKSCREEN_PILOT","SILKSCREEN_I705","SILKSCREEN_PEG_S300","SILKSCREEN_PEG_S500","SILKSCREEN_PEG_T415","SILKSCREEN_PEG_N610","SILKSCREEN_PEG_T600","HARD_BUTTONS_PALM_V","HARD_BUTTONS_M515","HARD_BUTTONS_M500","HARD_BUTTONS_IIIC","HARD_BUTTONS_IIIX","HARD_BUTTONS_IIIE","HARD_BUTTONS_M100","HARD_BUTTONS_M125","HARD_BUTTONS_M130","HARD_BUTTONS_TUNGSTEN_W","HARD_BUTTONS_PILOT","HARD_BUTTONS_I705","HARD_BUTTONS_HANDERA330","HARD_BUTTONS_PEG_S300","HARD_BUTTONS_PEG_S500","HARD_BUTTONS_PEG_S320","HARD_BUTTONS_PEG_T415","HARD_BUTTONS_PEG_N610","HARD_BUTTONS_PEG_N700","HARD_BUTTONS_PEG_NR70"];function Kj(t){const e=o=>function Wj(t){let n,e;const r=document.createElement("canvas");return function(){var o=(0,Ce.Z)(function*(i,s){if(n===i&&e===s)return r;r.width=i,r.height=s;const a=r.getContext("2d");if(!a)throw new Error("get a new browser");return a.drawImage(yield t(),0,0,r.width,r.height),n=i,e=s,r});return function(i,s){return o.apply(this,arguments)}}()}(function n(o){let i;return(0,Ce.Z)(function*(){if(!i){const s=(yield t)[o];i=function qj(t){return()=>new Promise((n,e)=>{const r=new Image;r.onload=()=>n(r),r.onerror=()=>e(),r.src=t})}((t=>`data:image/svg+xml;base64,${btoa(t)}`)(s))()}return i})}(o)),r={};for(const o of Yj)r[o]=e(o);return r}let Sh=(()=>{class t extends class zj{constructor(n){this.skin=n,this.layout=HM(__),this.onResize=new To.j}get width(){switch(this.getOrientation()){case dr.portrait:case dr.portrait180:case void 0:return this.layout.width.frameCanvas;default:return this.layout.height.frameCanvas}}get height(){switch(this.getOrientation()){case dr.portrait:case dr.portrait180:case void 0:return this.layout.height.frameCanvas;default:return this.layout.width.frameCanvas}}updateEmulationCanvas(n){this.drawEmulationCanvas(n),this.onAfterUpdateCanvas()}eventToPalmCoordinates(n,e=!1){if(!this.ctx)return;const r=this.ctx.canvas.getBoundingClientRect();let o,i,s,a;r.width/r.height>this.width/this.height?(a=r.height,s=this.width/this.height*r.height,i=r.top,o=r.left+(r.width-s)/2):(s=r.width,a=this.height/this.width*r.width,o=r.left,i=r.top+(r.height-a)/2);let c=(n.clientX-o)/s*this.width/this.layout.scale,f=(n.clientY-i)/a*this.height/this.layout.scale;switch(this.getOrientation()){case dr.landscape90:{const v=f;f=this.layout.height.frameDevice-c,c=v;break}case dr.landscape270:{const v=f;f=c,c=this.layout.width.frameDevice-v;break}case dr.portrait180:c=this.layout.width.frameDevice-c,f=this.layout.height.frameDevice-f}c-=this.layout.borderWidth.frameDevice,f-=this.layout.borderWidth.frameDevice,f>=this.layout.screenHeight.frameDevice&&(f<=this.layout.screenHeight.frameDevice+this.layout.separatorHeight.frameDevice?f=this.layout.screenHeight.frameDevice:f-=this.layout.separatorHeight.frameDevice);const y=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice;if(e)c<0&&(c=0),c>=this.layout.screenWidth.frameDevice&&(c=this.layout.screenWidth.frameDevice-1),f<0&&(f=0),f>=y&&(f=y-1);else if(c<0||c>=this.layout.screenWidth.frameDevice||f<0||f>=y)return;return[c,f]}isSilkscreen(n){const[,e]=n;return!this.isButtons(n)&&e>=this.layout.screenHeight.frameDevice}isButtons([,n]){return n>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice}determineButton([n,e]){return n>=this.layout.screenWidth.frameDevice-this.layout.buttonWidth.frameDevice?3:n>=this.layout.screenWidth.frameDevice-2*this.layout.buttonWidth.frameDevice?2:n>=2*this.layout.buttonWidth.frameDevice?e>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice/2?5:4:n>=this.layout.buttonWidth.frameDevice?1:0}initWithCanvas(n=this.ctx?.canvas){var e=this;return(0,Ce.Z)(function*(){if(!n)return;e.layout=HM(e.getDeviceId()),e.onResize.dispatch(),n.width=e.width,n.height=e.height;const r=n.getContext("2d");if(!r)throw new Error("canvas not supported - get a new browser");e.ctx=r,e.setupTransformation(),e.fillCanvasRect(0,0,e.layout.width.frameCanvas,e.layout.height.frameCanvas,e.frameColor()),e.fillRect(0,0,e.layout.screenWidth.frameDevice,e.layout.screenHeight.frameDevice+e.layout.silkscreenHeight.frameDevice+e.layout.separatorHeight.frameDevice+e.layout.buttonHeight.frameDevice,e.backgroundColor()),e.drawEmulationCanvas(),yield Promise.all([e.drawSilkscreen(),e.drawButtons()])})()}drawButtons(n=[]){var e=this;return(0,Ce.Z)(function*(){!e.ctx||(e.setupTransformation(),e.ctx.imageSmoothingEnabled=!0,e.ctx.imageSmoothingQuality="high",e.ctx.drawImage(yield e.buttonsImage()(e.layout.screenWidth.frameCanvas,e.layout.buttonHeight.frameCanvas),e.layout.screenLeft.frameCanvas,e.layout.buttonTop.frameCanvas,e.layout.screenWidth.frameCanvas,e.layout.buttonHeight.frameCanvas),n.includes(0)&&e.fillRect(0,e.layout.buttonTop.frameDevice,e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice,lu),n.includes(1)&&e.fillRect(e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice,e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice,lu),n.includes(2)&&e.fillRect(e.layout.screenWidth.frameDevice-2*e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice,e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice,lu),n.includes(3)&&e.fillRect(e.layout.screenWidth.frameDevice-e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice,e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice,lu),n.includes(4)&&e.fillRect(2*e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice,e.layout.screenWidth.frameDevice-4*e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice/2,lu),n.includes(5)&&e.fillRect(2*e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice+e.layout.buttonHeight.frameDevice/2,e.layout.screenWidth.frameDevice-4*e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice/2,lu))})()}onAfterUpdateCanvas(){}setupTransformation(){if(this.ctx)switch(this.ctx?.resetTransform(),this.getOrientation()){case dr.portrait:case void 0:break;case dr.landscape90:this.ctx.translate(this.layout.height.frameCanvas,0),this.ctx.rotate(Math.PI/2);break;case dr.landscape270:this.ctx.translate(0,this.layout.width.frameCanvas),this.ctx.rotate(3*Math.PI/2);break;case dr.portrait180:this.ctx.translate(this.layout.width.frameCanvas,this.layout.height.frameCanvas),this.ctx.rotate(Math.PI)}}drawSilkscreen(){var n=this;return(0,Ce.Z)(function*(){0===n.layout.silkscreenHeight.frameCanvas||!n.ctx||(n.setupTransformation(),n.fillRect(n.layout.screenLeft.frameDevice,n.layout.silkscreenTop.frameDevice,n.layout.screenWidth.frameDevice,n.layout.silkscreenHeight.frameDevice,Bj),n.ctx.imageSmoothingEnabled=!0,n.ctx.imageSmoothingQuality="high",n.ctx.drawImage(yield n.silkscreenImage()(n.layout.screenWidth.frameCanvas,n.layout.silkscreenHeight.frameCanvas),n.layout.borderWidth.frameCanvas,n.layout.silkscreenTop.frameCanvas,n.layout.screenWidth.frameCanvas,n.layout.silkscreenHeight.frameCanvas))})()}drawEmulationCanvas(n=this.lastEmulationCanvas){!n||!this.ctx||(this.lastEmulationCanvas=n,this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(n,this.layout.screenLeft.frameCanvas,this.layout.screenTop.frameCanvas,this.layout.screenWidth.frameCanvas,this.layout.screenHeight.frameCanvas))}fillRect(n,e,r,o,i){!this.ctx||(this.ctx.beginPath(),this.ctx.rect(this.layout.borderWidth.frameCanvas+this.layout.scale*n,this.layout.borderWidth.frameCanvas+this.layout.scale*e,this.layout.scale*r,this.layout.scale*o),this.ctx.fillStyle=i,this.ctx.fill())}fillCanvasRect(n,e,r,o,i){!this.ctx||(this.ctx.beginPath(),this.ctx.rect(n,e,r,o),this.ctx.fillStyle=i,this.ctx.fill())}silkscreenImage(){switch(this.getDeviceId()){case ae.pegT600c:case ae.pegT650c:return this.skin.SILKSCREEN_PEG_T600;case ae.pegN700c:case ae.pegN600c:return this.skin.SILKSCREEN_PEG_N610;case ae.pegS320:case ae.pegS300:return this.skin.SILKSCREEN_PEG_S300;case ae.pegS500c:return this.skin.SILKSCREEN_PEG_S500;case ae.pegT400:return this.skin.SILKSCREEN_PEG_T415;case ae.palmPilot:case ae.pilot:case ae.iii:case ae.palmVII:return this.skin.SILKSCREEN_PILOT;case ae.m500:return this.skin.SILKSCREEN_M500;case ae.m505:case ae.m515:return this.skin.SILKSCREEN_M515;case ae.iiic:return this.skin.SILKSCREEN_IIIC;case ae.m100:case ae.m105:case ae.m125:return this.skin.SILKSCREEN_M100;case ae.m130:return this.skin.SILKSCREEN_M130;case ae.i710:return this.skin.SILKSCREEN_TUNGSTEN_W;case ae.i705:return this.skin.SILKSCREEN_I705;default:return this.skin.SILKSCREEN_V}}buttonsImage(){switch(this.getDeviceId()){case ae.pegNR70:return this.skin.HARD_BUTTONS_PEG_NR70;case ae.pegN700c:return this.skin.HARD_BUTTONS_PEG_N700;case ae.pegN600c:return this.skin.HARD_BUTTONS_PEG_N610;case ae.pegS300:return this.skin.HARD_BUTTONS_PEG_S300;case ae.pegS500c:return this.skin.HARD_BUTTONS_PEG_S500;case ae.pegS320:return this.skin.HARD_BUTTONS_PEG_S320;case ae.pegT400:case ae.pegT600c:case ae.pegT650c:return this.skin.HARD_BUTTONS_PEG_T415;case ae.pilot:case ae.palmPilot:return this.skin.HARD_BUTTONS_PILOT;case ae.m500:return this.skin.HARD_BUTTONS_M500;case ae.m505:case ae.m515:return this.skin.HARD_BUTTONS_M515;case ae.iiic:return this.skin.HARD_BUTTONS_IIIC;case ae.m100:case ae.m105:return this.skin.HARD_BUTTONS_M100;case ae.m125:return this.skin.HARD_BUTTONS_M125;case ae.m130:return this.skin.HARD_BUTTONS_M130;case ae.i710:return this.skin.HARD_BUTTONS_TUNGSTEN_W;case ae.iii:case ae.iiix:case ae.iiixe:case ae.palmVII:case ae.palmVIIEZ:case ae.palmVIIx:return this.skin.HARD_BUTTONS_IIIX;case ae.iiie:return this.skin.HARD_BUTTONS_IIIE;case ae.i705:return this.skin.HARD_BUTTONS_I705;case ae.handera330:return this.skin.HARD_BUTTONS_HANDERA330;default:return this.skin.HARD_BUTTONS_PALM_V}}backgroundColor(){return a_(this.getDeviceId())?"white":Vj}frameColor(){return a_(this.getDeviceId())?"white":"#ccc"}}{constructor(){super(Kj(R.e(4907).then(R.bind(R,4907)))),this.statisticsVisible=!1}initialize(e,r=this.session){var o=this;return(0,Ce.Z)(function*(){o.session=r,yield o.initWithCanvas(e)})()}clearStatistics(){var e=this;return(0,Ce.Z)(function*(){e.statisticsVisible=!1,e.layout.silkscreenHeight.frameCanvas>0?yield e.drawSilkscreen():yield e.drawEmulationCanvas()})()}updateStatistics(e,r){var o=this;return(0,Ce.Z)(function*(){yield o.clearStatistics(),o.drawStatistics(e,r),o.lastEmulationStatistics=r,o.lastSnapshotStatistics=e,o.statisticsVisible=!0})()}getDeviceId(){return this.session?.device??__}getOrientation(){return this.session?.deviceOrientation??dr.portrait}onAfterUpdateCanvas(){this.statisticsVisible&&0===this.layout.silkscreenHeight.frameCanvas&&this.drawStatistics(this.lastSnapshotStatistics,this.lastEmulationStatistics)}drawStatistics(e,r){if(!this.ctx)return;this.setupTransformation();const o=this.layout.silkscreenHeight.frameDevice>0?this.layout.silkscreenHeight:this.layout.softSilkscreenHeight,i=this.layout.silkscreenHeight.frameCanvas>0?this.layout.silkscreenTop:{frameCanvas:this.layout.screenBottom.frameCanvas-o.frameCanvas,frameDevice:this.layout.screenBottom.frameDevice-o.frameDevice};this.ctx.beginPath(),this.fillRect(this.layout.screenLeft.frameDevice,i.frameDevice,this.layout.screenWidth.frameDevice,o.frameDevice,"rgba(255,255,255,0.6)");const a=function Xj(t){switch(t){case 1:case 3:return 2;case 2:return 1.5;default:return 1}}(jd(this.session?.device??__).screenSize);this.ctx.font=6*this.layout.scale*a+"px monospace",this.ctx.fillStyle="black",[...e||r?[]:["collecting statistics..."],...e?[`last snapshot          : ${new Date(e.timestamp).toLocaleTimeString()}`,`snapshot pages         : ${e.pages}`,`snapshot time total    : ${e.timeTotal.toFixed(2)} msec`,`snapshot time blocking : ${e.timeBlocking.toFixed(2)} msec`]:[],...r?[`host speed             : ${r.hostSpeed.toFixed(2)}x`,`emulation speed        : ${r.emulationSpeed.toFixed(2)}x`,`average FPS            : ${r.averageFps.toFixed(2)}`]:[]].forEach((c,f)=>this.ctx.fillText(c,this.layout.screenLeft.frameCanvas+a*this.layout.scale,i.frameCanvas+a*this.layout.scale*(8+6*f)))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),w_=(()=>{class t{constructor(e,r,o){this.router=e,this.canvasDisplayService=r,this.emulationStateService=o,this.updateUseSmallUI=()=>{const i=!!document.querySelector("html.md"),s=i?56:44;this.useSmallUI=this.canvasArea(window.innerHeight-s-(i?57:51)-6,window.innerWidth-6)<this.canvasArea(window.innerHeight-s-25-6,window.innerWidth-6)},this.useSmallUI=!1,this.isLockedFlag=!1,window.addEventListener("resize",this.updateUseSmallUI),window.addEventListener("orientationchange",this.updateUseSmallUI),r.onResize.addHandler(()=>this.updateUseSmallUI()),this.updateUseSmallUI()}get smallUI(){return"/tab/emulation"===this.router.url&&this.useSmallUI&&void 0!==this.emulationStateService.getCurrentSession()}lock(){this.isLockedFlag=!0}unlock(){this.isLockedFlag=!1}isLocked(){return this.isLockedFlag}canvasArea(e,r){let o,i;return e=Math.min(e,this.canvasDisplayService.height/devicePixelRatio),(r=Math.min(r,this.canvasDisplayService.width/devicePixelRatio))/e>this.canvasDisplayService.width/this.canvasDisplayService.height?(i=e,o=e/this.canvasDisplayService.height*this.canvasDisplayService.width):(o=r,i=r/this.canvasDisplayService.width*this.canvasDisplayService.height),o*i}}return t.\u0275fac=function(e){return new(e||t)(C(Ur),C(Sh),C(Ia))},t.\u0275cmp=de({type:t,selectors:[["app-tabs"]],decls:23,vars:4,consts:[[1,"overflow-wrapper"],["slot","bottom"],["tab","emulation"],["name","phone-portrait-outline"],["tab","sessions"],["name","albums-outline"],["tab","storage"],["name","folder-outline"],["tab","settings"],["name","cog-outline"],["tab","about"],["name","help-outline"]],template:function(e,r){1&e&&(_e(0,"ion-tabs")(1,"div",0)(2,"ion-tab-bar",1)(3,"ion-tab-button",2),wt(4,"ion-icon",3),_e(5,"ion-label"),tt(6,"Emulator"),fe()(),_e(7,"ion-tab-button",4),wt(8,"ion-icon",5),_e(9,"ion-label"),tt(10,"Sessions"),fe()(),_e(11,"ion-tab-button",6),wt(12,"ion-icon",7),_e(13,"ion-label"),tt(14,"Cards"),fe()(),_e(15,"ion-tab-button",8),wt(16,"ion-icon",9),_e(17,"ion-label"),tt(18,"Settings"),fe()(),_e(19,"ion-tab-button",10),wt(20,"ion-icon",11),_e(21,"ion-label"),tt(22,"About"),fe()()()()()),2&e&&(mt(2),ja("small-ui",r.smallUI)("disabled",r.isLocked()))},dependencies:[ls,cs,Bv,yI,TI],styles:["ion-tab-bar[_ngcontent-%COMP%]{min-width:280px}ion-tab-bar.small-ui[_ngcontent-%COMP%]{height:25px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:21px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon.md[_ngcontent-%COMP%]{margin-top:3px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:none}ion-tab-bar.disabled[_ngcontent-%COMP%]{display:none}.overflow-wrapper[_ngcontent-%COMP%]{overflow-x:auto}ion-icon[_ngcontent-%COMP%]{font-size:25px}"]}),t})(),Wd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Kn({imports:[Us,Yv.forChild(),tl,$l,Np]}),t})(),Qj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Kn({imports:[Us,$l,tl,Wd,Yv.forChild()]}),t})(),Jj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Kn({imports:[Us,$l,tl,Wd]}),t})(),e6=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Kn({imports:[Us,$l,tl,Np,Wd]}),t})(),t6=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Kn({imports:[Us,$l,tl,Wd,Np]}),t})(),n6=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Kn({imports:[Us,tl,$l,Np,Wd]}),t})();function r6(t,n){if(1&t){const e=xr();_e(0,"ion-button",1),ct("click",function(){return dn(e),Ot(rn().onClick())}),wt(1,"ion-icon",2),fe()}if(2&t){const e=rn();mt(1),gt("name",e.iconName)}}let Eh=(()=>{class t{constructor(e){this.pwaService=e}onClick(){this.pwaService.install()}get iconName(){return zs?"logo-apple-appstore":QI?"logo-google-playstore":"apps-outline"}get show(){return this.pwaService.promptForInstall()}}return t.\u0275fac=function(e){return new(e||t)(C(fM))},t.\u0275cmp=de({type:t,selectors:[["app-pwa-prompt"]],decls:1,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"],[3,"name"]],template:function(e,r){1&e&&wn(0,r6,2,1,"ion-button",0),2&e&&gt("ngIf",r.show)},dependencies:[Ho,Ui,ls]}),t})();function o6(t,n){1&t&&(_e(0,"div",11),wt(1,"ion-spinner"),fe())}function i6(t,n){1&t&&(_e(0,"div"),tt(1,"app cached for offline use"),fe())}let s6=(()=>{class t{constructor(e,r){this.modalController=e,this.updates=r,this.loading=!0}get version(){return Zl}showChangelog(){var e=this;return(0,Ce.Z)(function*(){yield(yield e.modalController.create({component:Vd,componentProps:{url:"assets/doc/CHANGELOG.md",title:"Changelog"}})).present()})()}get serviceWorkerAvailable(){return this.updates.isEnabled}}return t.\u0275fac=function(e){return new(e||t)(C(ws),C(y_))},t.\u0275cmp=de({type:t,selectors:[["app-about"]],decls:21,vars:4,consts:[[3,"translucent"],["slot","secondary"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],[1,"markdown-container"],["src","assets/doc/about.md",3,"load"],[1,"version"],["href","javascript:",3,"click"],[4,"ngIf"],["src","assets/logo.svg",1,"logo"],[1,"loader"]],template:function(e,r){1&e&&(_e(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),tt(3,"About"),fe(),_e(4,"ion-buttons",1),wt(5,"app-pwa-prompt"),fe()()(),_e(6,"ion-content")(7,"ion-header",2)(8,"ion-toolbar")(9,"ion-title",3),tt(10,"About"),fe()()(),wn(11,o6,2,0,"div",4),_e(12,"div",5)(13,"markdown",6),ct("load",function(){return r.loading=!1}),fe()(),_e(14,"div",7),tt(15),wt(16,"br"),_e(17,"a",8),ct("click",function(){return r.showChangelog()}),tt(18,"Changelog"),fe(),wn(19,i6,2,0,"div",9),fe(),wt(20,"img",10),fe()),2&e&&(gt("translucent",!0),mt(11),gt("ngIf",r.loading),mt(4),Mi(" CloudpilotEmu version ",r.version," "),mt(4),gt("ngIf",r.serviceWorkerAvailable))},dependencies:[Ho,Gi,zi,Wi,Ad,Yi,Zi,Eh,Zv],styles:[".version[_ngcontent-%COMP%]{width:100%;bottom:1em;text-align:center;font-size:.75em;margin-top:3em;margin-bottom:1em}.markdown-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:center}markdown[_ngcontent-%COMP%]{display:block;margin-left:.5em;margin-right:.5em;max-width:40em}.loader[_ngcontent-%COMP%]{width:100%;height:10em;display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{width:10em;height:10em;margin:1em auto;display:block}@media (prefers-color-scheme: dark){.logo[_ngcontent-%COMP%]{filter:invert(100%)}}"]}),t})();function a6(t,n){if(1&t&&(_e(0,"ion-select-option",17),tt(1),fe()),2&t){const e=n.$implicit;gt("value",e[0]),mt(1),Mi("",e[1]," ")}}function l6(t,n){if(1&t&&(_e(0,"ion-select-option",17),tt(1),fe()),2&t){const e=n.$implicit;gt("value",e[0]),mt(1),Mi("",e[1]," ")}}function c6(t,n){if(1&t&&(_e(0,"ion-item",7)(1,"ion-label",8),tt(2,"Hotsync name"),fe(),wt(3,"ion-input",18),fe()),2&t){const e=rn();mt(3),gt("placeholder",e.placeholder)}}let jM=(()=>{class t{constructor(e,r){this.sessionService=e,this.alertService=r,this.validateNameUnique=o=>o.value!==this.session.name&&this.sessionService.getSessions().some(i=>i.name===o.value)?{name:"already taken"}:null,this.onSave=()=>{},this.onCancel=()=>{},this.orientations=[[dr.portrait,"Portrait"],[dr.landscape90,"Landscape 90\xb0"],[dr.landscape270,"Landscape 270\xb0"],[dr.portrait180,"Upside down"]]}get formControlName(){return this.formGroup.get("name")}get formControlHotsyncName(){return this.formGroup.get("hotsyncName")}get formControlDevice(){return this.formGroup.get("device")}get formControlManageHotsyncName(){return this.formGroup.get("manageHotsyncName")}get formControlSpeed(){return this.formGroup.get("speed")}get formControlOrientation(){return this.formGroup.get("orientation")}get showHotsyncNameInput(){return this.formControlManageHotsyncName.value}get placeholder(){return this.formControlHotsyncName.value?this.formControlName.value:void 0!==this.session.hotsyncName||this.session.dontManageHotsyncName?"Enter hotsync name":"use setting from device"}get deviceList(){return this.availableDevices.map(e=>[e,mM(e)])}ngOnInit(){this.createFormGroup()}save(){this.formGroup.invalid||(this.session.name=this.formControlName.value,this.formControlManageHotsyncName.value?this.session.dontManageHotsyncName?(this.session.dontManageHotsyncName=!1,this.session.hotsyncName=this.formControlHotsyncName.value||"",this.alertService.message("Reset required","Please reset the virtual device in order to make sure that the hotsync name is synced properly again.")):this.session.hotsyncName=this.formControlHotsyncName.value||(void 0===this.session.hotsyncName?void 0:""):this.session.dontManageHotsyncName=!0,this.session.device=this.formControlDevice.value,this.session.speed=this.speedValue,this.session.deviceOrientation=this.formControlOrientation.value,this.onSave())}onEnter(){this.save()}get speedValue(){const e=this.formControlSpeed.value||0;return e>=0?1+e:1/(1-e)}get speedLabel(){return"Clock: "+(0===this.formControlSpeed.value?"default":`${Math.round(this.speedValue*function zH(t){switch(t){case ae.palmPilot:case ae.pilot:case ae.iii:case ae.palmVII:case ae.palmVx:case ae.palmV:case ae.palmVIIEZ:case ae.palmVIIx:case ae.iiic:case ae.iiix:case ae.iiixe:case ae.iiie:case ae.m100:case ae.m105:case ae.pegS300:case ae.pegS500c:return 16;case ae.m500:case ae.m505:case ae.m515:case ae.m125:case ae.m130:case ae.i705:case ae.i710:case ae.handera330:case ae.pegS320:case ae.pegT400:case ae.pegN600c:case ae.pegT600c:case ae.pegN700c:return 33;case ae.pegT650c:case ae.pegNR70:return 66}}(this.formControlDevice.value))}MHz`)}createFormGroup(){this.formGroup=new Ap({name:new xo(this.session.name,{validators:[By.required,this.validateNameUnique]}),manageHotsyncName:new xo(!this.session.dontManageHotsyncName),hotsyncName:new xo(this.session.hotsyncName||""),device:new xo({value:this.session.device,disabled:1===this.availableDevices.length}),speed:new xo((this.session.speed||1)>=1?(this.session.speed||1)-1:1-1/this.session.speed),orientation:new xo(this.session.deviceOrientation||dr.portrait)})}}return t.\u0275fac=function(e){return new(e||t)(C(Gd),C(si))},t.\u0275cmp=de({type:t,selectors:[["app-session-settings"]],inputs:{onSave:"onSave",onCancel:"onCancel",session:"session",availableDevices:"availableDevices"},decls:41,vars:6,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter session name","formControlName","name"],["formControlName","device"],[3,"value",4,"ngFor","ngForOf"],["formControlName","orientation"],[1,"label-speed"],["min","-4","max","4","step","0.25","snaps","true","ticks","false","formControlName","speed"],["formControlName","manageHotsyncName"],["lines","none",4,"ngIf"],[3,"value"],["formControlName","hotsyncName","maxlength","40",3,"placeholder"]],template:function(e,r){1&e&&(_e(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),tt(3,"Session settings"),fe(),_e(4,"ion-buttons",1)(5,"ion-button",2),ct("click",function(){return r.save()}),tt(6,"Save"),fe()(),_e(7,"ion-buttons",3)(8,"ion-button",4),ct("click",function(){return r.onCancel()}),tt(9,"Cancel"),fe()()()(),_e(10,"ion-content",5)(11,"form",6),ct("keydown.enter",function(){return r.onEnter()}),_e(12,"h1"),tt(13,"Session"),fe(),_e(14,"ion-item",7)(15,"ion-label",8),tt(16,"Session name"),fe(),wt(17,"ion-input",9),fe(),_e(18,"h1"),tt(19,"Device"),fe(),_e(20,"ion-item",7)(21,"ion-label",8),tt(22,"Device type"),fe(),_e(23,"ion-select",10),wn(24,a6,2,2,"ion-select-option",11),fe()(),_e(25,"ion-item",7)(26,"ion-label",8),tt(27,"Orientation"),fe(),_e(28,"ion-select",12),wn(29,l6,2,2,"ion-select-option",11),fe()(),_e(30,"ion-item",7)(31,"ion-label",13),tt(32),fe(),wt(33,"ion-range",14),fe(),_e(34,"h1"),tt(35,"Hotsync"),fe(),_e(36,"ion-item",7)(37,"ion-label"),tt(38,"Manage hotsync name"),fe(),wt(39,"ion-toggle",15),fe(),wn(40,c6,4,1,"ion-item",16),fe()()),2&e&&(mt(5),gt("disabled",r.formGroup.invalid),mt(6),gt("formGroup",r.formGroup),mt(13),gt("ngForOf",r.deviceList),mt(5),gt("ngForOf",r.orientations),mt(3),gs(r.speedLabel),mt(8),gt("ngIf",r.showHotsyncNameInput))},dependencies:[Uc,Ho,Ui,Gi,zi,Wi,zl,qi,cs,$v,ah,lh,Pd,Yi,Zi,Td,xd,Gl,Nl,Fl,Ol,ov,_a,Ka],styles:["ion-item[_ngcontent-%COMP%]{--highlight-color-valid: var(--highlight-color-focused);--background: none}.label-speed[_ngcontent-%COMP%]{min-width:7.5rem}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}"]}),t})(),u6=(()=>{class t{constructor(e,r,o,i,s,a,c){this.emulationService=e,this.loadingController=r,this.snapshotService=o,this.fileService=i,this.emulationStateService=s,this.alertService=a,this.cloudpilotService=c}saveBackup(e){var r=this;return(0,Ce.Z)(function*(){const o=r.emulationStateService.getCurrentSession();if(!o)return;const i=yield r.loadingController.create({message:"Backing up..."});yield i.present();let a,s=[];yield r.emulationService.pause(),yield r.snapshotService.waitForPendingSnapshot();try{const c=yield r.cloudpilotService.cloudpilot;yield c.backup(function(){var f=(0,Ce.Z)(function*(y){for(y.Init(e);y.IsInProgress();){const v=y.GetCurrentDatabase();y.Save()||s.push(v),yield new Promise(D=>setTimeout(D,0))}a=c.getArchive(y)});return function(y){return f.apply(this,arguments)}}())}finally{yield i.dismiss(),yield r.emulationService.resume()}a?s.length>0?yield r.alertService.message("Backup complete",`\n                    ${c_(s)} failed  to backup.\n                    <br/><br/>\n                    Open databases cannot be backuped. Please run backup from the launcher\n                    in order to backup all databases.\n                `,{"Save Backup":()=>r.fileService.saveFile(bM(o,e),a)},"Cancel"):r.fileService.saveFile(bM(o,e),a):yield r.alertService.errorMessage("Backup failed.")})()}}return t.\u0275fac=function(e){return new(e||t)(me(Ys),me(el),me(Ud),me(su),me(Ia),me(si),me(Zs))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const d6=window.AudioContext||window.webkitAudioContext;function b_(t,n=100){return new Promise((e,r)=>{setTimeout(()=>r(new Error("timeout")),n),t.then(e,r)})}let C_=(()=>{class t extends class f6{constructor(n){var e=this;this.emulationService=n,this.initialize=()=>this.mutex.runExclusive((0,Ce.Z)(function*(){if(!e.initialized){try{e.context=new d6}catch(r){return console.error(r),void console.error("web audio not available")}try{e.context.destination.channelCount=1}catch{console.warn("audio driver: failed to set channel count")}try{yield e.start()}catch(r){return console.error(r),void console.error("failed to initialize audio context")}e.context.addEventListener("statechange",()=>{"interrupted"===e.context?.state&&e.updateState()}),e.gainNode=e.context.createGain(),e.gainNode.channelCount=1,e.gainNode.channelInterpretation="speakers",e.gainNode.gain.value=e.gain(),e.gainNode.connect(e.context.destination),e.applyPwmUpdate(),e.initialized=!0}})),this.updateState=(r=!1)=>this.mutex.runExclusive((0,Ce.Z)(function*(){if(!e.context||e.isRunning()===e.shouldRun())return;!r&&!e.isRunning()&&e.shouldRun()&&e.applyPwmUpdate();const o=e.context.state;if(e.shouldRun())try{e.updateGain(),yield b_(e.context.resume()),console.log("resume audio context")}catch{console.error(`failed to resume audio from state ${o}`)}else try{yield b_(e.context.suspend()),console.log("suspend audio context")}catch{console.error(`failed to suspend audio from state ${o}`)}console.log(`audio context state change ${o} -> ${e.context.state}`)})),this.onPwmUpdate=function(){var r=(0,Ce.Z)(function*(o){e.pendingPwmUpdate=o,e.initialized&&(e.shouldRun()!==e.isRunning()&&e.updateState(!0),e.shouldRun()&&e.applyPwmUpdate())});return function(o){return r.apply(this,arguments)}}(),this.mutex=new Ws,this.initialized=!1,this.muted=!1,this.emulationService.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.emulationService.emulationStateChangeEvent.addHandler(()=>this.updateState()),this.emulationService.powerOffChangeEvent.addHandler(()=>this.updateState()),zs||document.addEventListener("visibilitychange",()=>this.updateState())}isInitialized(){return this.initialized}mute(n){this.muted=n,this.updateState()}isMuted(){return this.muted}shouldRun(){return this.emulationService.isRunning()&&!this.emulationService.isPowerOff()&&!this.muted&&this.gain()>0&&("hidden"!==document.visibilityState||zs||this.runHidden())}updateGain(){this.gainNode&&(this.gainNode.gain.value=this.gain())}start(){var n=this;return(0,Ce.Z)(function*(){!n.context||(yield b_(n.context.resume()),n.updateState(),console.log("audio context initialized"))})()}isRunning(){return"running"===this.context?.state}applyPwmUpdate(){if(!this.context||!this.pendingPwmUpdate)return;const{frequency:n,dutyCycle:e}=this.pendingPwmUpdate,r=this.context.sampleRate;if(this.pendingPwmUpdate=void 0,n<=0||e<=0||n>=r)return void this.disconnectSource();const o=this.context.createBuffer(1,Math.round(r/n),r),i=o.getChannelData(0);for(let a=0;a<i.length;a++)i[a]=a/i.length<e?1:0;const s=this.context.createBufferSource();s.channelCount=1,s.channelInterpretation="speakers",s.loop=!0,s.buffer=o,this.disconnectSource(),s.connect(this.gainNode),s.start(),this.bufferSourceNode=s,this.pendingPwmUpdate=void 0}disconnectSource(){this.bufferSourceNode&&(this.bufferSourceNode.stop(),this.bufferSourceNode.disconnect(),this.bufferSourceNode=void 0)}gain(){return this.getVolume()/2}}{constructor(e,r,o){super(e),this.kvs=r,this.modalWatcher=o,this.modalWatcher.modalVisibilityChangeEvent.addHandler(()=>this.updateState())}getVolume(){return this.kvs.kvs.volume}runHidden(){return this.kvs.kvs.runHidden}shouldRun(){return!this.modalWatcher.isModalActive()&&super.shouldRun()}}return t.\u0275fac=function(e){return new(e||t)(me(Ys),me(Ai),me(u_))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),GM=(()=>{class t{constructor(e,r){this.emulationService=e,this.ngZone=r,this.onInterval=()=>{this.emulationService.getEmulationSpeed()<1?(this.level<3&&this.level++,3===this.level&&this.ngZone.run(()=>this.slowdownDetected=!0)):(this.level>0&&this.level--,0===this.level&&this.ngZone.run(()=>this.slowdownDetected=!1))},this.onEmulationStateChanged=o=>{this.reset(),o&&void 0===this.intervalHandle&&(this.onInterval(),this.ngZone.runOutsideAngular(()=>this.intervalHandle=window.setInterval(this.onInterval,1e3))),!o&&void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)},this.slowdownDetected=!1,this.level=0,this.onEmulationStateChanged(this.emulationService.isRunning()),this.emulationService.emulationStateChangeEvent.addHandler(this.onEmulationStateChanged)}isSlowdownDetected(){return this.slowdownDetected}reset(){this.slowdownDetected=!1,this.level=0}ngOnDestroy(){this.emulationService.emulationStateChangeEvent.removeHandler(this.onEmulationStateChanged),void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)}}return t.\u0275fac=function(e){return new(e||t)(me(Ys),me(rt))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function h6(t,n){if(1&t){const e=xr();_e(0,"ion-item",4),ct("click",function(){return dn(e),Ot(rn().power())}),_e(1,"ion-label"),tt(2,"Power"),fe(),wt(3,"ion-icon",5),fe()}if(2&t){const e=rn();gt("detail",!1)("disabled",!e.emulationService.isRunning())}}function m6(t,n){if(1&t){const e=xr();_e(0,"ion-item",4),ct("click",function(){return dn(e),Ot(rn().hotsync())}),_e(1,"ion-label"),tt(2,"Hotsync"),fe(),wt(3,"ion-icon",6),fe()}if(2&t){const e=rn();gt("detail",!1)("disabled",!e.emulationService.isRunning())}}function g6(t,n){if(1&t){const e=xr();_e(0,"ion-item",4),ct("click",function(){return dn(e),Ot(rn().reset())}),_e(1,"ion-label"),tt(2,"Reset"),fe(),wt(3,"ion-icon",7),fe()}if(2&t){const e=rn();gt("detail",!1)("disabled",!e.emulationService.isRunning())}}function y6(t,n){if(1&t){const e=xr();_e(0,"ion-item",2),ct("click",function(){return dn(e),Ot(rn().insertCard())}),_e(1,"ion-label"),tt(2),fe(),wt(3,"ion-icon",8),fe()}if(2&t){const e=rn();gt("detail",!1),mt(2),Mi("Insert ",e.hasMemorystick?"stick":"SD card","")}}function v6(t,n){if(1&t){const e=xr();_e(0,"ion-item",2),ct("click",function(){return dn(e),Ot(rn().ejectCard())}),_e(1,"ion-label"),tt(2),fe(),wt(3,"ion-icon",9),fe()}if(2&t){const e=rn();gt("detail",!1),mt(2),Mi("Eject ",e.hasMemorystick?"stick":"SD card","")}}function _6(t,n){if(1&t){const e=xr();_e(0,"ion-item",2),ct("click",function(){return dn(e),Ot(rn().mute(!1))}),_e(1,"ion-label"),tt(2,"Enable audio"),fe(),wt(3,"ion-icon",10),fe()}2&t&&gt("detail",!1)}function w6(t,n){if(1&t){const e=xr();_e(0,"ion-item",2),ct("click",function(){return dn(e),Ot(rn().mute(!0))}),_e(1,"ion-label"),tt(2,"Disable audio"),fe(),wt(3,"ion-icon",11),fe()}2&t&&gt("detail",!1)}function b6(t,n){if(1&t){const e=xr();_e(0,"ion-item",4),ct("click",function(){return dn(e),Ot(rn().backup())}),_e(1,"ion-label"),tt(2,"Save backup"),fe(),wt(3,"ion-icon",12),fe()}if(2&t){const e=rn();gt("detail",!1)("disabled",e.backupDisabled)}}function C6(t,n){if(1&t){const e=xr();_e(0,"ion-item",2),ct("click",function(){return dn(e),Ot(rn().rotate())}),_e(1,"ion-label"),tt(2,"Rotate"),fe(),wt(3,"ion-icon",13),fe()}2&t&&gt("detail",!1)}function S6(t,n){if(1&t){const e=xr();_e(0,"ion-item",2),ct("click",function(){return dn(e),Ot(rn().editSettings())}),_e(1,"ion-label"),tt(2,"Settings"),fe(),wt(3,"ion-icon",14),fe()}2&t&&gt("detail",!1)}function E6(t){switch(t){case dr.portrait:case void 0:return dr.landscape90;case dr.landscape90:return dr.portrait180;case dr.portrait180:return dr.landscape270;case dr.landscape270:return dr.portrait;default:throw new Error("cannot happen")}}let D6=(()=>{class t{constructor(e,r,o,i,s,a,c,f,y,v,D,x,Q,Ie,We,Be,st,Ye,ot){this.emulationService=e,this.emulationStateService=r,this.backupService=o,this.buttonService=i,this.actionSheetController=s,this.popoverController=a,this.audioService=c,this.kvsService=f,this.modalController=y,this.sessionService=v,this.performanceWatchdogService=D,this.canvasDisplayService=x,this.cloudpilotService=Q,this.storageCardService=Ie,this.alertService=We,this.alertController=Be,this.storageService=st,this.loadingController=Ye,this.errorService=ot,this.showHelp=()=>{}}reset(){var e=this;return(0,Ce.Z)(function*(){e.popoverController.dismiss(),(yield e.actionSheetController.create({header:"How do you want to reset?",buttons:[{text:"Normal boot",handler:()=>e.emulationService.reset()},{text:"No extensions",handler:()=>e.emulationService.resetNoExtensions()},{text:"Hard reset",handler:()=>e.emulationService.resetHard()},{text:"Cancel",role:"cancel"}]})).present()})()}power(){this.buttonService.engage(6),this.popoverController.dismiss()}hotsync(){this.buttonService.engage(7),this.popoverController.dismiss()}help(){this.showHelp(),this.popoverController.dismiss()}backup(){var e=this;return(0,Ce.Z)(function*(){e.popoverController.dismiss(),(yield e.actionSheetController.create({header:"What do you want to backup?",buttons:[{text:"Only RAM (default)",handler:()=>e.backupService.saveBackup(!1)},{text:"Include ROM",handler:()=>e.backupService.saveBackup(!0)},{text:"Cancel",role:"cancel"}]})).present()})()}get isMuted(){return!this.audioService.isInitialized()||this.audioService.isMuted()}get isAudioOff(){return this.kvsService.kvs.volume<=0}mute(e){e?this.audioService.mute(!0):this.audioService.isInitialized()?this.audioService.mute(!1):this.audioService.initialize()}get backupDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get powerDisabled(){const e=this.emulationStateService.getCurrentSession();return!!e&&function WH(t){return[ae.i705,ae.i710,ae.pegNR70,ae.pegT650c].includes(t)}(e.device)}get hasActiveSession(){return!!this.emulationStateService.getCurrentSession()}get supportsStorageCard(){const e=this.emulationStateService.getCurrentSession();return!!e&&gM(e.device)!==cl.none}get hasMemorystick(){const e=this.emulationStateService.getCurrentSession();return!!e&&gM(e.device)===cl.memorystick}get hasMountedCard(){return void 0!==this.emulationStateService.getCurrentSession()?.mountedCard}editSettings(){var e=this;return(0,Ce.Z)(function*(){const r=e.emulationStateService.getCurrentSession();if(!r)return;const o=r.speed,i=r.deviceOrientation,s=yield e.modalController.create({component:jM,backdropDismiss:!1,componentProps:{session:r,availableDevices:[r.device],onSave:(a=(0,Ce.Z)(function*(){o!==r.speed&&e.performanceWatchdogService.reset(),i!==r.deviceOrientation&&(e.canvasDisplayService.initialize(void 0,r),e.canvasDisplayService.updateEmulationCanvas()),yield e.sessionService.updateSession(r),s.dismiss()}),function(){return a.apply(this,arguments)}),onCancel:()=>s.dismiss()}});var a;yield e.popoverController.dismiss(),yield s.present()})()}rotate(){var e=this;return(0,Ce.Z)(function*(){const r=e.emulationStateService.getCurrentSession();if(!r)return;yield e.storageService.updateSessionPartial(r.id,{deviceOrientation:E6(r.deviceOrientation)});const o=e.emulationStateService.getCurrentSession();yield e.canvasDisplayService.initialize(void 0,o),e.canvasDisplayService.updateEmulationCanvas()})()}insertCard(){var e=this;return(0,Ce.Z)(function*(){if(e.popoverController.dismiss(),void 0===e.emulationStateService.getCurrentSession()?.device)return;const o=yield e.cloudpilotService.cloudpilot,i=e.storageCardService.getAllCards().filter(a=>o.deviceSupportsCardSize(a.size)&&!e.storageCardService.mountedInSession(a.id));0!==i.length?yield(yield e.alertController.create({header:"Choose image for insertion",buttons:[{text:"Cancel",role:"cancel"},{text:"Insert",handler:a=>e.storageCardService.insertCard(a)}],inputs:i.map((a,c)=>({label:a.name,type:"radio",value:a.id,checked:0===c})),backdropDismiss:!1})).present():e.alertService.message("No image available",`There is no ${e.hasMemorystick?"memory stick":"SD card"} image available. Please go to the "Storage" tab in order to create new one.`)})()}ejectCard(){var e=this;return(0,Ce.Z)(function*(){try{yield e.storageCardService.ejectCurrentCard()}catch(r){e.errorService.fatalBug(r instanceof Error?r.message:"eject failed")}e.popoverController.dismiss()})()}}return t.\u0275fac=function(e){return new(e||t)(C(Ys),C(Ia),C(u6),C(MM),C(Uv),C(Nd),C(C_),C(Ai),C(ws),C(Gd),C(GM),C(Sh),C(Zs),C(au),C(si),C(eu),C(On),C(el),C(ql))},t.\u0275cmp=de({type:t,selectors:[["app-emulation-context-menu"]],inputs:{showHelp:"showHelp"},decls:15,vars:11,consts:[["button","",3,"detail","disabled","click",4,"ngIf"],["button","",3,"detail","click",4,"ngIf"],["button","",3,"detail","click"],["name","help-outline","slot","end"],["button","",3,"detail","disabled","click"],["name","power-outline","slot","end"],["name","sync-outline","slot","end"],["name","refresh-outline","slot","end"],["name","log-in-outline","slot","end"],["name","log-out-outline","slot","end"],["name","volume-high-outline"],["name","volume-mute-outline"],["name","share-outline","slot","end"],["name","reload-outline","slot","end"],["name","cog-outline","slot","end"]],template:function(e,r){1&e&&(_e(0,"ion-list"),wn(1,h6,4,2,"ion-item",0),wn(2,m6,4,2,"ion-item",0),wn(3,g6,4,2,"ion-item",0),wn(4,y6,4,2,"ion-item",1),wn(5,v6,4,2,"ion-item",1),wn(6,_6,4,1,"ion-item",1),wn(7,w6,4,1,"ion-item",1),wn(8,b6,4,2,"ion-item",0),wn(9,C6,4,1,"ion-item",1),wn(10,S6,4,1,"ion-item",1),_e(11,"ion-item",2),ct("click",function(){return r.help()}),_e(12,"ion-label"),tt(13,"Help"),fe(),wt(14,"ion-icon",3),fe()()),2&e&&(mt(1),gt("ngIf",r.hasActiveSession&&!r.powerDisabled),mt(1),gt("ngIf",r.hasActiveSession),mt(1),gt("ngIf",r.hasActiveSession),mt(1),gt("ngIf",r.supportsStorageCard&&!r.hasMountedCard),mt(1),gt("ngIf",r.supportsStorageCard&&r.hasMountedCard),mt(1),gt("ngIf",r.isMuted&&!r.isAudioOff),mt(1),gt("ngIf",!r.isMuted&&!r.isAudioOff),mt(1),gt("ngIf",r.hasActiveSession),mt(1),gt("ngIf",r.hasActiveSession),mt(1),gt("ngIf",r.hasActiveSession),mt(1),gt("detail",!1))},dependencies:[Ho,ls,qi,cs,Wl]}),t})(),M6=(()=>{class t extends class I6{constructor(n,e){this.emulationService=n,this.canvasDisplayService=e,this.handleMouseDown=r=>{if(0!==r.button)return;const o=this.canvasDisplayService.eventToPalmCoordinates(r);if(!o)return;const i=this.determineArea(o);if(2===i){const s=this.canvasDisplayService.determineButton(o);this.interactionMouse={area:i,buttonPrimary:s},this.handleButtonDown(s)}else this.interactionMouse={area:i},this.emulationService.handlePointerMove(...o,1===i)},this.handleMouseMove=r=>{if(!(1&r.buttons&&this.interactionMouse&&2!==this.interactionMouse?.area))return;const o=this.canvasDisplayService.eventToPalmCoordinates(r,!0);!o||this.emulationService.handlePointerMove(...o,1===this.interactionMouse?.area)},this.handeMouseUp=r=>{if(0!==r.button)return;const o=this.interactionMouse;switch(this.interactionMouse=void 0,o?.area){case 2:this.handleButtonUp(o.buttonPrimary);break;case 0:case 1:this.emulationService.handlePointerUp()}},this.handleTouchStart=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.canvasDisplayService.eventToPalmCoordinates(s);if(!a)continue;o=!0;const c=this.determineArea(a);if(2===c){const f=this.canvasDisplayService.determineButton(a);this.interactionsTouch.set(s.identifier,{area:c,buttonPrimary:f}),this.handleButtonDown(f)}else this.interactionsTouch.set(s.identifier,{area:c}),this.emulationService.handlePointerMove(...a,1===c)}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchMove=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);if(!a)continue;o=!0;const c=a.area;switch(c){case 2:{const f=this.canvasDisplayService.eventToPalmCoordinates(s);if(!f||2!==this.determineArea(f)){this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0;break}const y=this.canvasDisplayService.determineButton(f);y===a.buttonPrimary?(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0):y!==a.buttonSecondary&&(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=y,this.handleButtonDown(y));break}case 0:case 1:{const f=this.canvasDisplayService.eventToPalmCoordinates(s,!0);if(!f)continue;this.emulationService.handlePointerMove(...f,1===c);break}default:continue}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchEnd=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);switch(a&&(o=!0),this.interactionsTouch.delete(s.identifier),a?.area){case 2:this.handleButtonUp(a.buttonPrimary),this.handleButtonUp(a.buttonSecondary);break;case 0:case 1:this.emulationService.handlePointerUp()}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleKeyDown=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;if(this.isToggleGameMode(r))return r.preventDefault(),this.gameMode=!this.gameMode,void this.onToggleGameMode();const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonDown(o),void r.preventDefault();const i=this.keyCodeFromEvent(r);void 0!==i&&(this.emulationService.handleKeyDown(i),r.preventDefault())},this.handleKeyUp=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonUp(o),void r.preventDefault();if("Control"===r.key){for(const i of this.activeButtons)this.emulationService.handleButtonUp(i);this.activeButtons.clear(),this.canvasDisplayService.drawButtons([])}},this.keyEventTarget=window,this.interactionsTouch=new Map,this.activeButtons=new Set,this.gameMode=!1,this.enableGamemodeHotkey=!0}bind(n,e=window){this.pointerEventTarget&&this.release(),this.pointerEventTarget=n,this.keyEventTarget=e||window,this.addEventListener(n,"mousedown",this.handleMouseDown),this.addEventListener(window,"mouseup",this.handeMouseUp),this.addEventListener(window,"mousemove",this.handleMouseMove),this.addEventListener(n,"touchstart",this.handleTouchStart),this.addEventListener(n,"touchmove",this.handleTouchMove),this.addEventListener(n,"touchend",this.handleTouchEnd),this.addEventListener(n,"touchcancel",this.handleTouchEnd),this.addEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.addEventListener(this.keyEventTarget,"keyup",this.handleKeyUp)}release(){if(this.pointerEventTarget){this.removeEventListener(this.pointerEventTarget,"mousedown",this.handleMouseDown),this.removeEventListener(window,"mouseup",this.handeMouseUp),this.removeEventListener(window,"mousemove",this.handleMouseMove),this.removeEventListener(this.pointerEventTarget,"touchstart",this.handleTouchStart),this.removeEventListener(this.pointerEventTarget,"touchmove",this.handleTouchMove),this.removeEventListener(this.pointerEventTarget,"touchend",this.handleTouchEnd),this.removeEventListener(this.pointerEventTarget,"touchcancel",this.handleTouchEnd),this.removeEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.removeEventListener(this.keyEventTarget,"keyup",this.handleKeyUp);for(const n of this.activeButtons)this.handleButtonUp(n);this.activeButtons.clear(),this.interactionsTouch.clear(),this.interactionMouse=void 0,this.pointerEventTarget=void 0}}isGameMode(){return this.gameMode}setGameMode(n){this.gameMode=n,this.onToggleGameMode()}setGameModeHotkeyEnabled(n){this.enableGamemodeHotkey=n}isGameModeHotkeyEnabled(){return this.enableGamemodeHotkey}enableKeyboardEvents(){return!0}onToggleGameMode(){}addEventListener(n,e,r,o){n.addEventListener(e,r,o)}removeEventListener(n,e,r,o){n.removeEventListener(e,r,o)}determineArea(n){return this.canvasDisplayService.isButtons(n)?2:this.canvasDisplayService.isSilkscreen(n)?1:0}handleButtonDown(n){this.activeButtons.has(n)||(this.activeButtons.add(n),this.emulationService.handleButtonDown(n),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}handleButtonUp(n){void 0===n||!this.activeButtons.has(n)||(this.activeButtons.delete(n),this.emulationService.handleButtonUp(n),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}isToggleGameMode(n){return this.isGameModeHotkeyEnabled()&&("Shift"===n.key&&n.ctrlKey||"Control"===n.key&&n.shiftKey)}isGameModeActive(n){return!this.gameMode&&n.ctrlKey||this.gameMode&&!n.ctrlKey}buttonFromEvent(n){switch(n.key){case"PageUp":return 4;case"PageDown":return 5}if(this.isGameModeActive(n))switch(n.key){case"w":case"i":case"ArrowUp":return 4;case"s":case"k":case"ArrowDown":return 5;case"a":case"j":case"y":case"z":case"ArrowLeft":return 0;case"q":case"u":case"x":return 1;case"e":case"o":case"c":return 2;case"d":case"l":case"v":case"ArrowRight":return 3}}keyCodeFromEvent(n){if(!this.isGameModeActive(n)){if(1===n.key.length&&n.key.charCodeAt(0)<=255)return n.key.charCodeAt(0);switch(n.key){case"ArrowLeft":return 28;case"ArrowRight":return 29;case"ArrowUp":return 30;case"ArrowDown":return 31;case"Backspace":return 8;case"Tab":return 9;case"Enter":return 10;default:return}}}}{constructor(e,r,o,i,s){super(e,r),this.modalWatcher=o,this.ngZone=i,this.app=s}enableKeyboardEvents(){return!this.modalWatcher.isModalActive()}onToggleGameMode(){this.app.tick()}addEventListener(e,r,o,i){this.ngZone.runOutsideAngular(()=>e.addEventListener(r,o,i))}}return t.\u0275fac=function(e){return new(e||t)(me(Ys),me(Sh),me(u_),me(rt),me(za))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function zM(t){return/\.(prc|pdb|pqa)$/i.test(t)}class P6{constructor(n,e,r,o){this.cloudpilotService=n,this.alertController=e,this.snapshotService=r,this.files=o,this.filesSuccess=[],this.filesFail=[],this.filesRequireReset=[],this.sizeInstalledSinceLastsnapshot=0,this.skipErrors=!1,this.errors=0,this.installedDatabases=new Map}run(){var n=this;return(0,Ce.Z)(function*(){for(const e of n.files)if(/\.zip/i.test(e.name)&&e.content.length<33554432)try{yield n.installZip(e)}catch{n.filesFail.push(e.name)}else zM(e.name)?yield n.installOne(e.name,e.content):n.filesFail.push(e.name);return[n.filesSuccess,n.filesRequireReset,n.filesFail]})()}installOne(n,e){var r=this;return(0,Ce.Z)(function*(){const i=yield(yield r.cloudpilotService.cloudpilot).installDb(e);switch(i){case 2:r.filesRequireReset.push(n),r.filesSuccess.push(n),r.sizeInstalledSinceLastsnapshot+=e.length;break;case 1:r.filesSuccess.push(n),r.sizeInstalledSinceLastsnapshot+=e.length;break;default:r.filesFail.push(n),yield r.reportError(n,i)}if(2===i||1===i)try{const s=function A6(t){if(t.length<32)throw new Error("not a database");let n;for(n=0;n<32&&0!==t[n];n++);if(n>31)throw new Error("not a database");return new TextDecoder("latin1",{fatal:!1}).decode(t.subarray(0,n))}(e);r.installedDatabases.has(s)&&(yield r.errorDialog("Duplicate item",`${n} overwrites previously installed database ${r.installedDatabases.get(s)}`)),r.installedDatabases.set(s,n)}catch{}r.sizeInstalledSinceLastsnapshot>4194304&&(yield r.snapshotService.triggerSnapshot(),r.sizeInstalledSinceLastsnapshot=0),yield new Promise(s=>setTimeout(s,0))})()}installZip(n){var e=this;return(0,Ce.Z)(function*(){yield(yield e.cloudpilotService.cloudpilot).withZipfileWalker(n.content,function(){var o=(0,Ce.Z)(function*(i){let s=0;for(;0===i.GetState();){const a=i.GetCurrentEntryName().replace(/^.*\//,"");if(!zM(i.GetCurrentEntryName())){i.Next();continue}const c=i.GetCurrentEntryContent();c?(yield e.installOne(a,c),s++):e.filesFail.push(a),i.Next()}if(0===s)throw new Error("no installable files in archive")});return function(i){return o.apply(this,arguments)}}())})()}reportError(n,e){return this.errorDialog("Item failed to install",`Could not install ${n}: ${function x6(t){switch(t){case-6:return"database exists on device and could not be overwritten";case-4:return"database file is corrupt";case-3:return"database is open on device";case-5:return"internal PalmOS error";case-2:return"not enough memory on device";default:return"unknown reason"}}(e)}.`)}errorDialog(n,e){return this.skipErrors?Promise.resolve():new Promise(r=>{this.alertController.create({header:n,backdropDismiss:!1,cssClass:"alert-checkbox-no-border installation-error",message:e,buttons:[{text:"Continue",role:"cancel",handler:()=>{this.alertController.dismiss(),r()}}],inputs:++this.errors>=3?[{type:"checkbox",label:"Skip any remaining errors",checked:!1,handler:i=>this.skipErrors=!0===i.checked}]:[]}).then(i=>i.present())})}}let R6=(()=>{class t{constructor(e,r,o,i,s,a){this.cloudpilotService=e,this.emulationService=r,this.loadingController=o,this.snapshotService=i,this.alertService=s,this.alertController=a}installFiles(e){var r=this;return(0,Ce.Z)(function*(){const o=yield r.loadingController.create({message:"Installing..."});yield o.present(),yield r.emulationService.pause(),yield r.snapshotService.waitForPendingSnapshot();let i=[],s=[],a=[];try{[i,a,s]=yield new P6(r.cloudpilotService,r.alertController,r.snapshotService,e).run()}finally{o.dismiss(),r.emulationService.resume()}const c=[r.messageSucces(i),r.messageFailed(s),r.messageRequireReset(a)].filter(y=>!!y).join("<br/><br/>");let f;f=0===s.length?"Installation successful":0===i.length?"Installation failed":"Installation errors",r.alertService.message(f,c,a.length>0?{"Reset now":()=>r.emulationService.reset()}:void 0)})()}messageSucces(e){switch(e.length){case 0:return;case 1:return`Installation of ${e[0]} successful.`;default:return`Installation of ${e.length} items successful.`}}messageFailed(e){return e.length>0?`Installation of  ${c_(e)} failed.`:void 0}messageRequireReset(e){return e.length>0?`${c_(e)} require a device reset.`:void 0}}return t.\u0275fac=function(e){return new(e||t)(me(Zs),me(Ys),me(el),me(Ud),me(si),me(eu))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const F6=["canvas"];function O6(t,n){if(1&t){const e=xr();_e(0,"ion-button",5),ct("click",function(){return dn(e),Ot(rn().navigation.lock())}),wt(1,"ion-icon",10),fe()}}function N6(t,n){if(1&t){const e=xr();_e(0,"ion-button",5),ct("click",function(){return dn(e),Ot(rn().navigation.unlock())}),wt(1,"ion-icon",11),fe()}}function L6(t,n){if(1&t){const e=xr();_e(0,"ion-button",5),ct("click",function(){return dn(e),Ot(rn().showGameModeHint())}),wt(1,"ion-icon",12),fe()}}function $6(t,n){if(1&t){const e=xr();_e(0,"ion-button",5),ct("click",function(){return dn(e),Ot(rn().showProxyConnectedHint())}),wt(1,"ion-icon",13),fe()}}function B6(t,n){if(1&t){const e=xr();_e(0,"ion-button",5),ct("click",function(){return dn(e),Ot(rn().showSlowdowndHint())}),wt(1,"ion-icon",14),fe()}}function V6(t,n){if(1&t){const e=xr();_e(0,"div",15),tt(1," The device was reset forcefully. How do you want to boot? "),_e(2,"ion-button",16),ct("click",function(){return dn(e),Ot(rn().bootAfterForcefulReset())}),tt(3,"Normal boot"),fe(),_e(4,"ion-button",16),ct("click",function(){return dn(e),Ot(rn().bootAfterForcefulResetNoExtensions())}),tt(5,"No extensions"),fe(),_e(6,"ion-button",16),ct("click",function(){return dn(e),Ot(rn().bootAfterForcefulResetHardReset())}),tt(7,"Hard reset"),fe()()}}function H6(t,n){1&t&&(_e(0,"div",15)(1,"div"),tt(2,"No session selected"),fe()())}let j6=(()=>{class t{constructor(e,r,o,i,s,a,c,f,y,v,D,x,Q,Ie,We,Be,st){var Ye=this;this.emulationService=e,this.emulationState=r,this.storageService=o,this.eventHandlingService=i,this.canvasDisplayService=s,this.kvsService=a,this.popoverController=c,this.modalController=f,this.alertService=y,this.fileService=v,this.snapshotService=D,this.installlationService=x,this.proxyService=Q,this.navigation=Ie,this.linkApi=We,this.performanceWatchdogService=Be,this.cloudpilotService=st,this.ionViewDidEnter=()=>this.mutex.runExclusive((0,Ce.Z)(function*(){yield Ye.emulationService.bootstrapComplete(),Ye.boostrapComplete=!0;const ot=Ye.emulationState.getCurrentSession();ot&&!ot.wasResetForcefully&&(yield Ye.launchEmulator()),Ye.linkApi.installation.requestEvent.addHandler(Ye.handleLinkApiInstallationRequest),Ye.handleLinkApiInstallationRequest()})),this.ionViewWillLeave=()=>this.mutex.runExclusive(()=>{this.linkApi.installation.requestEvent.removeHandler(this.handleLinkApiInstallationRequest),this.emulationService.isRunning()&&(this.autoLockUI=!1),this.emulationService.pause(),this.emulationService.newFrameEvent.removeHandler(this.onNewFrame),this.snapshotService.snapshotEvent.removeHandler(this.onSnapshot),this.kvsService.updateEvent.removeHandler(this.onKvsUpdate),this.eventHandlingService.release(),this.navigation.unlock()}),this.onKvsUpdate=()=>{this.kvsService.kvs.showStatistics?this.canvasDisplayService.updateStatistics():this.canvasDisplayService.clearStatistics()},this.onSnapshot=ot=>{this.kvsService.kvs.showStatistics&&this.canvasDisplayService.updateStatistics(ot,this.emulationService.getStatistics())},this.onNewFrame=ot=>{this.canvasDisplayService.updateEmulationCanvas(ot)},this.handleLinkApiInstallationRequest=()=>{if(!this.linkApi.installation.hasPendingRequest())return;const ot=this.linkApi.installation.receivePendingUrl();ot&&(this.installFileDisabled?this.alertService.message("Unable to install","Installation is currently not possible.",{},"Cancel"):this.emulationState.getCurrentSession()&&this.emulationService.isRunning()?this.alertService.message("Installation request",`Do you want to install<br>${ot} ?`,{OK:()=>this.fileService.openUrl(ot,ln=>this.installlationService.installFiles([ln]))},"Cancel"):this.alertService.message("Unable to install",`Please start a session in order to install ${ot} .`,{},"Cancel"))},this.boostrapComplete=!1,this.autoLockUI=!0,this.mutex=new Ws}get cssWidth(){return this.canvasDisplayService.width/devicePixelRatio+"px"}get cssHeight(){return this.canvasDisplayService.height/devicePixelRatio+"px"}openContextMenu(e){var r=this;return(0,Ce.Z)(function*(){(yield r.popoverController.create({component:D6,event:e,backdropDismiss:!0,showBackdrop:!1,componentProps:{showHelp:()=>r.showHelp()}})).present()})()}installFiles(){this.fileService.openFiles(this.installlationService.installFiles.bind(this.installlationService))}showHelp(){var e=this;return(0,Ce.Z)(function*(){yield(yield e.modalController.create({component:Vd,componentProps:{url:"assets/doc/emulation.md"}})).present()})()}showGameModeHint(){var e=this;return(0,Ce.Z)(function*(){yield e.alertService.message("Game mode","\n                The keyboard is in game mode and controls the hardware buttons.\n                Press ctrl-shift in order to exit game mode.\n                <br/><br/>\n                Check the help page for a description of the different keyboard mappings.\n            ",{Help:()=>e.showHelp()})})()}showProxyConnectedHint(){var e=this;return(0,Ce.Z)(function*(){yield e.alertService.message("Proxy connected","Network proxy connected.")})()}showSlowdowndHint(){var e=this;return(0,Ce.Z)(function*(){yield e.alertService.message("Speed throttled","\n                Your host is too slow to run your virtual device at full speed, and the clock\n                has been throttled in order to compensate. You can avoid this by reducing the speed of your\n                virtual device in the session settings.\n        ")})()}get installFileDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get title(){return this.emulationState.getCurrentSession()?.name||""}bootAfterForcefulReset(){var e=this;return(0,Ce.Z)(function*(){yield e.clearForcefulReset(),yield e.launchEmulator()})()}bootAfterForcefulResetNoExtensions(){var e=this;return(0,Ce.Z)(function*(){yield e.clearForcefulReset(),(yield e.cloudpilotService.cloudpilot).resetNoExtensions(),yield e.launchEmulator()})()}bootAfterForcefulResetHardReset(){var e=this;return(0,Ce.Z)(function*(){yield e.clearForcefulReset(),(yield e.cloudpilotService.cloudpilot).resetHard(),yield e.launchEmulator()})()}cancelIfEmulationActive(e){this.emulationState.getCurrentSession()&&!this.emulationState.getCurrentSession()?.wasResetForcefully&&e.cancelable&&e.preventDefault()}clearForcefulReset(){var e=this;return(0,Ce.Z)(function*(){const r=e.emulationState.getCurrentSession();!r||(yield e.storageService.updateSessionPartial(r.id,{wasResetForcefully:!1}))})()}launchEmulator(){var e=this;return(0,Ce.Z)(function*(){const r=e.emulationState.getCurrentSession();!r||(yield e.kvsService.mutex.runExclusive(()=>e.kvsService.kvs.autoLockUI&&e.autoLockUI&&e.navigation.lock()),e.canvasDisplayService.initialize(e.canvasRef.nativeElement,r).then(()=>{e.onKvsUpdate(),e.kvsService.updateEvent.addHandler(e.onKvsUpdate)}),e.onNewFrame(e.emulationService.getCanvas()),e.emulationService.newFrameEvent.addHandler(e.onNewFrame),e.snapshotService.snapshotEvent.addHandler(e.onSnapshot),yield e.emulationService.resume(),e.eventHandlingService.bind(e.canvasRef.nativeElement))})()}}return t.\u0275fac=function(e){return new(e||t)(C(Ys),C(Ia),C(On),C(M6),C(Sh),C(Ai),C(Nd),C(ws),C(si),C(su),C(Ud),C(R6),C(f_),C(w_),C(Ty),C(GM),C(Zs))},t.\u0275cmp=de({type:t,selectors:[["app-emulation"]],viewQuery:function(e,r){if(1&e&&Qu(F6,5),2&e){let o;Bi(o=Vi())&&(r.canvasRef=o.first)}},decls:21,vars:19,consts:[["slot","end"],[3,"disabled","click"],["name","download-outline"],[3,"click",4,"ngIf"],["slot","start"],[3,"click"],["name","ellipsis-vertical-outline"],[1,"container","running-session",3,"touchstart","touchmove"],["canvas",""],["class","container no-session",4,"ngIf"],["name","lock-open-outline"],["name","lock-closed-outline"],["name","game-controller-outline"],["name","swap-vertical-outline"],["name","speedometer-outline"],[1,"container","no-session"],["type","button","color","light",3,"click"]],template:function(e,r){if(1&e&&(_e(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),tt(3),fe(),_e(4,"ion-buttons",0)(5,"ion-button",1),ct("click",function(){return r.installFiles()}),wt(6,"ion-icon",2),fe(),wn(7,O6,2,0,"ion-button",3),wn(8,N6,2,0,"ion-button",3),fe(),_e(9,"ion-buttons",4)(10,"ion-button",5),ct("click",function(i){return r.openContextMenu(i)}),wt(11,"ion-icon",6),fe(),wn(12,L6,2,0,"ion-button",3),wn(13,$6,2,0,"ion-button",3),wn(14,B6,2,0,"ion-button",3),fe()()(),_e(15,"ion-content")(16,"div",7),ct("touchstart",function(i){return r.cancelIfEmulationActive(i)})("touchmove",function(i){return r.cancelIfEmulationActive(i)}),wt(17,"canvas",null,8),fe(),wn(19,V6,8,0,"div",9),wn(20,H6,3,0,"div",9),fe()),2&e){let o,i;mt(3),gs(r.title),mt(2),gt("disabled",r.installFileDisabled),mt(2),gt("ngIf",!r.navigation.isLocked()),mt(1),gt("ngIf",r.navigation.isLocked()),mt(4),gt("ngIf",r.eventHandlingService.isGameMode()),mt(1),gt("ngIf",r.proxyService.isConnected()),mt(1),gt("ngIf",r.performanceWatchdogService.isSlowdownDetected()),mt(1),ja("locked",r.navigation.isLocked()),mt(1),ju("display",!r.emulationState.getCurrentSession()||null!=(o=r.emulationState.getCurrentSession())&&o.wasResetForcefully?"none":void 0),mt(1),ju("width",r.cssWidth)("height",r.cssHeight)("display",r.emulationState.getCurrentSession()?"block":"none"),mt(2),gt("ngIf",null!=(i=r.emulationState.getCurrentSession())&&i.wasResetForcefully?"none":void 0),mt(1),gt("ngIf",!r.emulationState.getCurrentSession()&&r.boostrapComplete)}},dependencies:[Ho,Ui,Gi,zi,Wi,ls,Yi,Zi],styles:["ion-title[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:3px}.container.no-session[_ngcontent-%COMP%]{text-align:center;padding:1em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:1em;width:100%;max-width:20em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-of-type{margin-top:3em}ion-content.locked[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-bottom:0;padding-bottom:var(--ion-safe-area-bottom, 0)}.container.running-session[_ngcontent-%COMP%]{background:radial-gradient(circle,#ccc 0%,#eee 100%)}@media (prefers-color-scheme: dark){.container.running-session[_ngcontent-%COMP%]{background:none}}canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%;-o-object-fit:contain;object-fit:contain}"]}),t})();function Cs(){return(t,n,e)=>{const r=e.value;let o=!1;return e.value=(0,Ce.Z)(function*(){if(!o){o=!0;try{return yield r.apply(this,arguments)}finally{o=!1}}}),e}}var U6=R(5541),G6=R.n(U6);function WM(t,n){let e=t,r=1;for(;n(e);)e=`${t} (${r++})`;return e}let z6=(()=>{class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onDelete=()=>{},this.onReset=()=>{}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=de({type:t,selectors:[["app-session-context-menu"]],inputs:{onEdit:"onEdit",onSave:"onSave",onDelete:"onDelete",onReset:"onReset"},decls:9,vars:4,consts:[["button","",3,"detail","click"]],template:function(e,r){1&e&&(_e(0,"ion-list")(1,"ion-item",0),ct("click",function(){return r.onEdit()}),tt(2," Edit "),fe(),_e(3,"ion-item",0),ct("click",function(){return r.onSave()}),tt(4," Save "),fe(),_e(5,"ion-item",0),ct("click",function(){return r.onReset()}),tt(6," Reset "),fe(),_e(7,"ion-item",0),ct("click",function(){return r.onDelete()}),tt(8," Delete "),fe()()),2&e&&(mt(1),gt("detail",!1),mt(2),gt("detail",!1),mt(2),gt("detail",!1),mt(2),gt("detail",!1))},dependencies:[qi,Wl]}),t})();const q6=["slidingItem"];function Z6(t,n){if(1&t&&(_e(0,"span"),tt(1),fe()),2&t){const e=rn();mt(1),Mi(", OS ",e.decodeVersion(null==e.session?null:e.session.osVersion),"")}}let Y6=(()=>{class t{constructor(e){this.popoverController=e,this.selected=!1,this.touched=!1,this.delete=new yn,this.resetSession=new yn,this.edit=new yn,this.save=new yn,this.selectItem=new yn,this.interaction=new yn}get device(){return this.session?mM(this.session.device):""}onContextmenu(e){var r=this;return(0,Ce.Z)(function*(){e.stopPropagation(),e.preventDefault(),r.interaction.emit();const o=yield r.popoverController.create({component:z6,event:e,backdropDismiss:!0,showBackdrop:!1,componentProps:{onEdit:()=>{o.dismiss(),r.edit.emit()},onSave:()=>{o.dismiss(),r.save.emit()},onDelete:()=>{o.dismiss(),r.delete.emit()},onReset:()=>{o.dismiss(),r.resetSession.emit()}}});o.present()})()}decodeVersion(e){if(void 0===e)return"";const r=function W6(t){return{major:t>>>24&255,minor:t>>>20&15,fix:t>>>16&15,stage:t>>>12&15,build:4095&t}}(e);return`${r.major}.${r.minor}`}get color(){return this.selected?"primary":this.touched?"light":void 0}}return t.\u0275fac=function(e){return new(e||t)(C(Nd))},t.\u0275cmp=de({type:t,selectors:[["app-session-item"]],viewQuery:function(e,r){if(1&e&&Qu(q6,5),2&e){let o;Bi(o=Vi())&&(r.slidingItem=o.first)}},inputs:{session:"session",selected:"selected",touched:"touched"},outputs:{delete:"delete",resetSession:"resetSession",edit:"edit",save:"save",selectItem:"selectItem",interaction:"interaction"},decls:19,vars:7,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","refresh-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],[4,"ngIf"]],template:function(e,r){if(1&e){const o=xr();_e(0,"ion-item-sliding",0,1),ct("contextmenu",function(s){return r.onContextmenu(s)})("ionDrag",function(){return r.interaction.emit()}),_e(2,"ion-item-options",2)(3,"ion-item-option",3),ct("click",function(){return dn(o),$i(1).close(),Ot(r.edit.emit(r.session))}),wt(4,"ion-icon",4),fe(),_e(5,"ion-item-option",5),ct("click",function(){return dn(o),$i(1).close(),Ot(r.save.emit(r.session))}),wt(6,"ion-icon",6),fe()(),_e(7,"ion-item-options",7)(8,"ion-item-option",8),ct("click",function(){return dn(o),$i(1).close(),Ot(r.resetSession.emit(r.session))}),wt(9,"ion-icon",9),fe(),_e(10,"ion-item-option",10),ct("click",function(){return dn(o),$i(1).close(),Ot(r.delete.emit(r.session))}),wt(11,"ion-icon",11),fe()(),_e(12,"ion-item",12),ct("click",function(){return r.selectItem.emit()}),_e(13,"ion-label")(14,"h2"),tt(15),fe(),_e(16,"p"),tt(17),wn(18,Z6,2,1,"span",13),fe()()()()}2&e&&(mt(12),gt("color",r.color),mt(1),ja("in-item-color",r.selected),mt(2),gs(null==r.session?null:r.session.name),mt(2),Wf("",r.device,", ",null==r.session?null:r.session.ram,"MB RAM"),mt(1),gt("ngIf",null==r.session?null:r.session.osVersion))},dependencies:[Ho,ls,qi,oh,ih,sh,cs],styles:["ion-item[_ngcontent-%COMP%]{background-color:#fff;background-color:var(--ion-background-color, white)}"]}),t})();function K6(t,n){1&t&&(_e(0,"div",10),wt(1,"ion-spinner"),fe())}function X6(t,n){1&t&&(_e(0,"div",11)(1,"div",12),tt(2," No sessions. Select the \u201e+\u201c icon in the upper right corner in order to import a ROM file or a session image. "),wt(3,"br")(4,"br"),tt(5," You can find a collection of compatible ROMs on "),_e(6,"a",13),tt(7,"PalmDB"),fe(),tt(8,". "),fe()())}function Q6(t,n){if(1&t){const e=xr();_e(0,"app-session-item",15),ct("delete",function(){const i=dn(e).$implicit;return Ot(rn(2).deleteSession(i))})("selectItem",function(){const i=dn(e).$implicit;return Ot(rn(2).launchSession(i))})("edit",function(){const i=dn(e).$implicit;return Ot(rn(2).editSession(i))})("save",function(){const i=dn(e).$implicit;return Ot(rn(2).saveSession(i))})("resetSession",function(){const i=dn(e).$implicit;return Ot(rn(2).resetSession(i))})("interaction",function(){const i=dn(e).$implicit;return Ot(rn(2).lastSessionTouched=i.id)}),fe()}if(2&t){const e=n.$implicit,r=rn(2);gt("session",e)("selected",r.currentSessionId===e.id)("touched",e.id===r.lastSessionTouched)}}function J6(t,n){if(1&t&&(_e(0,"ion-list"),wn(1,Q6,1,3,"app-session-item",14),fe()),2&t){const e=rn();mt(1),gt("ngForOf",e.sessions)("ngForTrackBy",e.trackSessionBy)}}class Ks{constructor(n,e,r,o,i,s,a,c,f,y,v){this.sessionService=n,this.fileService=e,this.alertController=r,this.alertService=o,this.emulationService=i,this.emulationState=s,this.storageService=a,this.modalController=c,this.linkApi=f,this.router=y,this.cloudpilotService=v,this.handleLinkApiImportRequest=()=>{if(!this.linkApi.import.hasPendingRequest())return;const D=this.linkApi.import.receivePendingUrl();!D||this.alertService.message("Import request",`Do you want to import<br>${D} ?`,{OK:()=>this.fileService.openUrl(D,this.processFile.bind(this))},"Cancel")},this.lastSessionTouched=-1}ionViewDidEnter(){this.linkApi.import.requestEvent.addHandler(this.handleLinkApiImportRequest),this.handleLinkApiImportRequest()}ionViewWillLeave(){this.linkApi.import.requestEvent.removeHandler(this.handleLinkApiImportRequest)}get sessions(){return this.sessionService.getSessions().sort((n,e)=>n.name.localeCompare(e.name))}deleteSession(n){var e=this;return(0,Ce.Z)(function*(){yield(yield e.alertController.create({header:"Warning",message:`Deleting the session '${n.name}' will remove all associated data. This cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:()=>e.sessionService.deleteSession(n)}],backdropDismiss:!1})).present()})()}editSession(n){var e=this;return(0,Ce.Z)(function*(){const r={...n};(yield e.editSettings(n))&&!G6()(n,r)&&(yield e.sessionService.updateSession(n))})()}importSession(){this.fileService.openFile(this.processFile.bind(this))}saveSession(n){return this.fileService.saveSession(n)}trackSessionBy(n,e){return e.id}launchSession(n){var e=this;return(0,Ce.Z)(function*(){e.lastSessionTouched=n.id,e.currentSessionOverride=n.id,yield e.emulationService.switchSession(n.id),e.currentSessionOverride=void 0,e.router.navigateByUrl("/tab/emulation")})()}resetSession(n){var e=this;return(0,Ce.Z)(function*(){const r=n.id===e.emulationState.getCurrentSession()?.id;r&&(yield e.emulationService.stop()),yield e.storageService.deleteStateForSession(n),yield e.storageService.updateSessionPartial(n.id,{wasResetForcefully:!0}),r&&(yield e.emulationService.switchSession(n.id)),yield(yield e.alertController.create({header:"Done",message:`Session ${n.name} has been reset.`,buttons:[{text:"Close",role:"cancel"}],backdropDismiss:!1})).present()})()}get currentSessionId(){return this.currentSessionOverride??this.emulationState.getCurrentSession()?.id}showHelp(){var n=this;return(0,Ce.Z)(function*(){yield(yield n.modalController.create({component:Vd,componentProps:{url:"assets/doc/sessions.md"}})).present()})()}processFile(n){var e=this;return(0,Ce.Z)(function*(){if(!/\.(img|rom|bin)$/i.test(n.name))return void e.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .img and .rom.");const r=(yield e.cloudpilotService.cloudpilot).deserializeSessionImage(n.content);if(r){const o={name:e.disambiguateSessionName(r.metadata?.name??n.name),hotsyncName:r.metadata?.hotsyncName,device:r.deviceId,dontManageHotsyncName:r.metadata?.dontManageHotsyncName,speed:r.metadata?.speed,deviceOrientation:r.metadata?.deviceOrientation};if(yield e.editSettings(o)){const i=yield e.sessionService.addSessionFromImage(r,o.name,o);e.lastSessionTouched=i.id}}else{const o=(yield e.cloudpilotService.cloudpilot).getRomInfo(n.content);if(!o)return void e.alertService.errorMessage("Not a valid session file or ROM image.");if(0===o.supportedDevices.length)return void e.alertService.errorMessage("No supported device for this ROM.");const i={name:e.disambiguateSessionName(n.name),hotsyncName:"",device:o.supportedDevices[0]};if(yield e.editSettings(i,o.supportedDevices)){const s=yield e.sessionService.addSessionFromRom(n.content,i.name,i.device,i);e.lastSessionTouched=s.id}}})()}editSettings(n,e=[n.device]){return new Promise(r=>{let o;this.modalController.create({component:jM,backdropDismiss:!1,componentProps:{session:n,availableDevices:e,onSave:()=>{o.dismiss(),r(!0)},onCancel:()=>{o.dismiss(),r(!1)}}}).then(i=>{o=i,o.present()})})}disambiguateSessionName(n){const e=this.sessionService.getSessions();return WM(n,r=>e.some(o=>o.name===r))}}function eU(t,n){1&t&&(_e(0,"ion-item",8)(1,"ion-label"),tt(2,"Clipboard integration"),fe(),wt(3,"ion-toggle",17),fe())}function tU(t,n){if(1&t){const e=xr();_e(0,"ion-item",8)(1,"ion-label",18),tt(2,"Proxy server"),fe(),_e(3,"div",19),wt(4,"ion-input",20),_e(5,"ion-button",21),ct("click",function(o){dn(e);const i=rn();return o.preventDefault(),o.stopPropagation(),Ot(i.testProxyConnection())})("touchstart",function(o){dn(e);const i=rn();return o.preventDefault(),o.stopPropagation(),Ot(i.testProxyConnection())}),tt(6," Test "),fe()()()}if(2&t){const e=rn();mt(5),gt("disabled",!e.proxyServerValid)}}Ks.\u0275fac=function(n){return new(n||Ks)(C(Gd),C(su),C(eu),C(si),C(Ys),C(Ia),C(On),C(ws),C(Ty),C(Ur),C(Zs))},Ks.\u0275cmp=de({type:Ks,selectors:[["app-sessions"]],decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],["href","https://palmdb.net/app/palm-roms-complete","target","_blank","rel","external"],[3,"session","selected","touched","delete","selectItem","edit","save","resetSession","interaction",4,"ngFor","ngForOf","ngForTrackBy"],[3,"session","selected","touched","delete","selectItem","edit","save","resetSession","interaction"]],template:function(n,e){1&n&&(_e(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),tt(3,"Sessions"),fe(),_e(4,"ion-buttons",0)(5,"ion-button",1),ct("click",function(){return e.importSession()}),wt(6,"ion-icon",2),fe()(),_e(7,"ion-buttons",3)(8,"ion-button",1),ct("click",function(){return e.showHelp()}),wt(9,"ion-icon",4),fe(),wt(10,"app-pwa-prompt"),fe()()(),_e(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),tt(15,"Sessions"),fe()()(),wn(16,K6,2,0,"div",7),wn(17,X6,9,0,"div",8),wn(18,J6,2,2,"ion-list",9),fe()),2&n&&(mt(16),gt("ngIf",e.sessionService.isLoading()),mt(1),gt("ngIf",!e.sessionService.isLoading()&&0===e.sessions.length),mt(1),gt("ngIf",!e.sessionService.isLoading()&&e.sessions.length>0))},dependencies:[Uc,Ho,Ui,Gi,zi,Wi,ls,Wl,Ad,Yi,Zi,Eh,Y6],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"]}),se([Cs()],Ks.prototype,"deleteSession",null),se([Cs()],Ks.prototype,"editSession",null),se([Cs()],Ks.prototype,"saveSession",null),se([Cs()],Ks.prototype,"launchSession",null),se([Cs()],Ks.prototype,"resetSession",null);let nU=(()=>{class t{constructor(e,r,o,i,s){this.modalController=e,this.kvsService=r,this.clipboardService=o,this.alertService=i,this.proxyService=s,this.onAudioOnStartChange=a=>{this.kvsService.kvs.enableAudioOnFirstInteraction=a,a&&this.alertService.message("Enable audio on start","\n            Audio will automatically turn on after the first interaction with the application\n            (i.e. touch, click or keyboard event). This option will only take effect the next time\n            Coudpilot is restarts.\n        ")},this.connectionTestInProgress=!1}ngOnInit(){this.createFormGroup()}showHelp(){var e=this;return(0,Ce.Z)(function*(){yield(yield e.modalController.create({component:Vd,componentProps:{url:"assets/doc/settings.md"}})).present()})()}ionViewWillEnter(){this.mutexReleasePromise=this.kvsService.mutex.acquire()}ionViewWillLeave(){var e=this;return(0,Ce.Z)(function*(){e.formGroup.get("networkRedirection")?.value&&!e.formGroup.get("proxyServer")?.valid&&(e.alertService.message("Invalid proxy server","The proxy server you specified is invalid. Network redirection will be disabled."),e.formGroup.get("networkRedirection").setValue(!1)),e.formGroup.get("networkRedirection")?.value||e.formGroup.get("proxyServer")?.setValue(e.kvsService.kvs.proxyServer),yield e.kvsService.set({volume:e.formGroup.get("volume").value,showStatistics:e.formGroup.get("showStatistics").value,clipboardIntegration:e.formGroup.get("clipboardIntegration")?.value,networkRedirection:e.formGroup.get("networkRedirection")?.value,proxyServer:e.formGroup.get("proxyServer")?.value,runHidden:e.formGroup.get("runHidden")?.value,autoLockUI:e.formGroup.get("autoLockUI")?.value,enableRemoteInstall:e.formGroup.get("enableRemoteInstall")?.value,enableAudioOnFirstInteraction:e.formGroup.get("audioOnStart")?.value}),e.mutexReleasePromise&&(yield e.mutexReleasePromise)()})()}testProxyConnection(){var e=this;return(0,Ce.Z)(function*(){if(!e.connectionTestInProgress){e.connectionTestInProgress=!0;try{switch((yield e.proxyService.handshake(e.formGroup.get("proxyServer")?.value,0)).status){case"failed":e.alertService.errorMessage("Unable to connect to proxy");break;case"version_mismatch":e.alertService.proxyVersionMismatchError();break;default:e.alertService.message("Success","Connection to proxy successful.")}}finally{e.connectionTestInProgress=!1}}})()}get showProxyServer(){return this.formGroup.get("networkRedirection")?.value}get proxyServerValid(){const e=this.formGroup.get("proxyServer");return!(!e?.value||!e?.valid)}createFormGroup(){this.formGroup=new Ap({volume:new xo(this.kvsService.kvs.volume),showStatistics:new xo(this.kvsService.kvs.showStatistics),runHidden:new xo(this.kvsService.kvs.runHidden),clipboardIntegration:new xo(this.kvsService.kvs.clipboardIntegration),networkRedirection:new xo(this.kvsService.kvs.networkRedirection),proxyServer:new xo(this.kvsService.kvs.proxyServer,{validators:[mj]}),autoLockUI:new xo(this.kvsService.kvs.autoLockUI),enableRemoteInstall:new xo(this.kvsService.kvs.enableRemoteInstall),audioOnStart:new xo(this.kvsService.kvs.enableAudioOnFirstInteraction)}),this.formGroup.get("audioOnStart")?.valueChanges.subscribe(this.onAudioOnStartChange)}}return t.\u0275fac=function(e){return new(e||t)(C(ws),C(Ai),C(DM),C(si),C(f_))},t.\u0275cmp=de({type:t,selectors:[["app-settings"]],decls:51,vars:4,consts:[[3,"translucent"],["slot","secondary"],[3,"click"],["name","help-outline"],["collapse","condense"],["size","large"],[1,"settings-container"],[1,"settings-form",3,"formGroup"],["lines","none"],["min","0","max","1","step","0.1","formControlName","volume"],["formControlName","audioOnStart"],["formControlName","runHidden"],["lines","none",4,"ngIf"],["formControlName","networkRedirection"],["formControlName","autoLockUI"],["formControlName","showStatistics"],["formControlName","enableRemoteInstall"],["formControlName","clipboardIntegration"],["position","stacked"],[1,"server-container"],["placeholder","Proxy server host or URL","formControlName","proxyServer"],[3,"disabled","click","touchstart"]],template:function(e,r){1&e&&(_e(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),tt(3,"Settings"),fe(),_e(4,"ion-buttons",1)(5,"ion-button",2),ct("click",function(){return r.showHelp()}),wt(6,"ion-icon",3),fe(),wt(7,"app-pwa-prompt"),fe()()(),_e(8,"ion-content")(9,"ion-header",4)(10,"ion-toolbar")(11,"ion-title",5),tt(12,"Settings"),fe()()(),_e(13,"div",6)(14,"form",7)(15,"h1"),tt(16,"Emulation"),fe(),_e(17,"ion-item",8)(18,"ion-label"),tt(19,"Volume"),fe(),wt(20,"ion-range",9),fe(),_e(21,"ion-item",8)(22,"ion-label"),tt(23,"Enable audio on start"),fe(),wt(24,"ion-toggle",10),fe(),_e(25,"ion-item",8)(26,"ion-label"),tt(27,"Run when hidden"),fe(),wt(28,"ion-toggle",11),fe(),_e(29,"h1"),tt(30,"Host integration"),fe(),wn(31,eU,4,0,"ion-item",12),_e(32,"ion-item",8)(33,"ion-label"),tt(34,"Network redirection"),fe(),wt(35,"ion-toggle",13),fe(),wn(36,tU,7,1,"ion-item",12),_e(37,"h1"),tt(38,"UI"),fe(),_e(39,"ion-item",8)(40,"ion-label"),tt(41,"Auto-lock UI"),fe(),wt(42,"ion-toggle",14),fe(),_e(43,"ion-item",8)(44,"ion-label"),tt(45,"Show statistics"),fe(),wt(46,"ion-toggle",15),fe(),_e(47,"ion-item",8)(48,"ion-label"),tt(49,"Open from remote sources"),fe(),wt(50,"ion-toggle",16),fe()()()()),2&e&&(gt("translucent",!0),mt(14),gt("formGroup",r.formGroup),mt(17),gt("ngIf",r.clipboardService.isSupported()),mt(5),gt("ngIf",r.showProxyServer))},dependencies:[Ho,Nl,Fl,Ol,Ui,Gi,zi,Wi,ls,zl,qi,cs,$v,Pd,Yi,Zi,Td,xd,Gl,Eh,_a,Ka],styles:[".server-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.server-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex-grow:1}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.settings-form[_ngcontent-%COMP%]{max-width:40em;flex-basis:100%}ion-item[_ngcontent-%COMP%]{--background: none}"]}),t})(),S_=(()=>{class t{transform(e){return void 0!==e?`${Math.round(e/1024/1024)} MB`:""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=lt({name:"cardSize",type:t,pure:!0}),t})();function rU(t,n){1&t&&(_e(0,"div",14)(1,"b"),tt(2,"WARNING:"),fe(),tt(3," This image cannot be used as a memory stick image."),fe())}let qM=(()=>{class t{constructor(e){this.storageCardService=e,this.onCancel=()=>{},this.onSave=()=>{},this.validateNameUnique=r=>this.storageCardService.getAllCards().some(o=>o.name===r.value&&o.name!==this.card?.name)?{name:"already taken"}:null,this.formGroup=new qc({name:new va("",{nonNullable:!0,validators:[By.required,this.validateNameUnique]}),size:new va({value:"dummy",disabled:!0}),checkAutomatically:new va(!0,{nonNullable:!0})}),this.newCard=!1,this.cardSupportLevel=2}ngOnInit(){!this.card||(this.formGroup.get("name")?.setValue(this.card.name),this.formGroup.get("checkAutomatically")?.setValue(!this.card.dontFsckAutomatically))}save(){!this.formGroup.valid||!this.formGroup.value.name||!this.card||this.onSave({name:this.formGroup.value.name,dontFsckAutomatically:!this.formGroup.value.checkAutomatically})}onEnter(){this.save()}get memoryStickSupported(){return 2===this.cardSupportLevel}}return t.\u0275fac=function(e){return new(e||t)(C(au))},t.\u0275cmp=de({type:t,selectors:[["app-edit-card-dialog"]],inputs:{onCancel:"onCancel",onSave:"onSave",card:"card",newCard:"newCard",cardSupportLevel:"cardSupportLevel"},decls:28,vars:7,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],["value","dummy"],["formControlName","checkAutomatically"],["class","sd-only-warning",4,"ngIf"],[1,"sd-only-warning"]],template:function(e,r){1&e&&(_e(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),tt(3),fe(),_e(4,"ion-buttons",1)(5,"ion-button",2),ct("click",function(){return r.save()}),tt(6,"Save"),fe()(),_e(7,"ion-buttons",3)(8,"ion-button",4),ct("click",function(){return r.onCancel()}),tt(9,"Cancel"),fe()()()(),_e(10,"ion-content",5)(11,"form",6),ct("keydown.enter",function(){return r.onEnter()}),_e(12,"ion-item",7)(13,"ion-label",8),tt(14,"Card name"),fe(),wt(15,"ion-input",9),fe(),_e(16,"ion-item",7)(17,"ion-label",8),tt(18,"Card size"),fe(),_e(19,"ion-select",10)(20,"ion-select-option",11),tt(21),Tl(22,"cardSize"),fe()()(),_e(23,"ion-item",7)(24,"ion-label"),tt(25,"Check for errors automatically"),fe(),wt(26,"ion-toggle",12),fe()(),wn(27,rU,4,0,"div",13),fe()),2&e&&(mt(3),gs(r.newCard?"New memory card":"Edit memory card"),mt(2),gt("disabled",r.formGroup.invalid),mt(6),gt("formGroup",r.formGroup),mt(10),Mi("",xl(22,5,null==r.card?null:r.card.size)," "),mt(6),gt("ngIf",!r.memoryStickSupported))},dependencies:[Ho,Ui,Gi,zi,Wi,zl,qi,cs,ah,lh,Pd,Yi,Zi,Td,xd,Gl,Nl,Fl,Ol,_a,Ka,S_],styles:[".sd-only-warning[_ngcontent-%COMP%]{padding:2em 1em}"]}),t})();function oU(t,n){if(1&t&&(_e(0,"ion-select-option",13),tt(1),Tl(2,"cardSize"),fe()),2&t){const e=n.$implicit,r=rn();gt("value",e),mt(1),Mi("",xl(2,2,r.sizeBytes(e))," ")}}const iU=[Qr.mb4,Qr.mb8,Qr.mb16,Qr.mb32,Qr.mb64,Qr.mb128];let sU=(()=>{class t{constructor(e){this.storageCardService=e,this.validateNameUnique=r=>this.storageCardService.getAllCards().some(o=>o.name===r.value)?{name:"already taken"}:null,this.onCreate=()=>{},this.onCancel=()=>{},this.formGroup=new qc({name:new va("",{nonNullable:!0,validators:[By.required,this.validateNameUnique]}),size:new va(Qr.mb32,{nonNullable:!0}),checkAutomatically:new va(!0,{nonNullable:!0})})}get sizes(){return iU}sizeBytes(e){return function Ej(t){switch(t){case Qr.mb4:return 4046848;case Qr.mb8:return 8110080;case Qr.mb16:return 16220160;case Qr.mb32:return 32473088;case Qr.mb64:return 64978944;case Qr.mb128:return 129990656;default:throw new Error(`bad card size ${t}`)}}(e)}create(){!this.formGroup.valid||void 0===this.formGroup.value.name||void 0===this.formGroup.value.size||this.onCreate(this.formGroup.value.name,this.formGroup.value.size,!this.formGroup.value.checkAutomatically)}onEnter(){this.create()}}return t.\u0275fac=function(e){return new(e||t)(C(au))},t.\u0275cmp=de({type:t,selectors:[["app-new-card-dialog"]],inputs:{onCreate:"onCreate",onCancel:"onCancel"},decls:25,vars:3,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],[3,"value",4,"ngFor","ngForOf"],["formControlName","checkAutomatically"],[3,"value"]],template:function(e,r){1&e&&(_e(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),tt(3,"New memory card"),fe(),_e(4,"ion-buttons",1)(5,"ion-button",2),ct("click",function(){return r.create()}),tt(6,"Create"),fe()(),_e(7,"ion-buttons",3)(8,"ion-button",4),ct("click",function(){return r.onCancel()}),tt(9,"Cancel"),fe()()()(),_e(10,"ion-content",5)(11,"form",6),ct("keydown.enter",function(){return r.onEnter()}),_e(12,"ion-item",7)(13,"ion-label",8),tt(14,"Card name"),fe(),wt(15,"ion-input",9),fe(),_e(16,"ion-item",7)(17,"ion-label",8),tt(18,"Card size"),fe(),_e(19,"ion-select",10),wn(20,oU,3,4,"ion-select-option",11),fe()(),_e(21,"ion-item",7)(22,"ion-label"),tt(23,"Check for errors automatically"),fe(),wt(24,"ion-toggle",12),fe()()()),2&e&&(mt(5),gt("disabled",r.formGroup.invalid),mt(6),gt("formGroup",r.formGroup),mt(9),gt("ngForOf",r.sizes))},dependencies:[Uc,Ui,Gi,zi,Wi,zl,qi,cs,ah,lh,Pd,Yi,Zi,Td,xd,Gl,Nl,Fl,Ol,_a,Ka,S_]}),t})(),aU=(()=>{class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCheck=()=>{},this.onDelete=()=>{}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=de({type:t,selectors:[["app-storage-context-menu-card"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCheck:"onCheck",onDelete:"onDelete"},decls:9,vars:4,consts:[["button","",3,"detail","click"]],template:function(e,r){1&e&&(_e(0,"ion-list")(1,"ion-item",0),ct("click",function(){return r.onEdit()}),tt(2," Edit "),fe(),_e(3,"ion-item",0),ct("click",function(){return r.onSave()}),tt(4," Save "),fe(),_e(5,"ion-item",0),ct("click",function(){return r.onCheck()}),tt(6," Check "),fe(),_e(7,"ion-item",0),ct("click",function(){return r.onDelete()}),tt(8," Delete "),fe()()),2&e&&(mt(1),gt("detail",!1),mt(2),gt("detail",!1),mt(2),gt("detail",!1),mt(2),gt("detail",!1))},dependencies:[qi,Wl]}),t})(),lU=(()=>{class t{constructor(e,r){this.storageCardService=e,this.popoverController=r,this.touched=!1,this.interaction=new yn,this.selectCard=new yn,this.edit=new yn,this.check=new yn,this.delete=new yn,this.save=new yn}onContextmenu(e){var r=this;return(0,Ce.Z)(function*(){e.stopPropagation(),e.preventDefault(),r.interaction.emit();const o=yield r.popoverController.create({component:aU,event:e,backdropDismiss:!0,showBackdrop:!1,componentProps:{onEdit:()=>{o.dismiss(),r.edit.emit(r.card)},onSave:()=>{o.dismiss(),r.save.emit(r.card)},onCheck:()=>{o.dismiss(),r.check.emit()},onDelete:()=>{o.dismiss(),r.delete.emit()}}});o.present()})()}get color(){if(this.touched)return"light"}get status(){if(!this.card)return"";const e=this.storageCardService.mountedInSession(this.card?.id);if(e)return`attached to '${e.name}'`;if(this.card.dontFsckAutomatically)return"not checked automatically";switch(this.card.status){case yr.dirty:return"needs check";case yr.clean:return"no errors";case yr.unformatted:return"no filesystem";case yr.unfixable:return"uncorrectable errors";default:throw new Error("unreachable")}}}return t.\u0275fac=function(e){return new(e||t)(C(au),C(Nd))},t.\u0275cmp=de({type:t,selectors:[["app-storage-card"]],inputs:{card:"card",touched:"touched"},outputs:{interaction:"interaction",selectCard:"selectCard",edit:"edit",check:"check",delete:"delete",save:"save"},decls:19,vars:6,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","medkit-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"]],template:function(e,r){if(1&e){const o=xr();_e(0,"ion-item-sliding",0,1),ct("contextmenu",function(s){return r.onContextmenu(s)})("ionDrag",function(){return r.interaction.emit(r.card)}),_e(2,"ion-item-options",2)(3,"ion-item-option",3),ct("click",function(){return dn(o),$i(1).close(),Ot(r.edit.emit(r.card))}),wt(4,"ion-icon",4),fe(),_e(5,"ion-item-option",5),ct("click",function(){return dn(o),$i(1).close(),Ot(r.save.emit(r.card))}),wt(6,"ion-icon",6),fe()(),_e(7,"ion-item-options",7)(8,"ion-item-option",8),ct("click",function(){return dn(o),$i(1).close(),Ot(r.check.emit(r.card))}),wt(9,"ion-icon",9),fe(),_e(10,"ion-item-option",10),ct("click",function(){return dn(o),$i(1).close(),Ot(r.delete.emit(r.card))}),wt(11,"ion-icon",11),fe()(),_e(12,"ion-item",12),ct("click",function(){return r.selectCard.emit(),r.interaction.emit()}),_e(13,"ion-label")(14,"h2"),tt(15),fe(),_e(16,"p"),tt(17),Tl(18,"cardSize"),fe()()()()}2&e&&(mt(12),gt("color",r.color),mt(3),gs(null==r.card?null:r.card.name),mt(2),Wf("",xl(18,4,null==r.card?null:r.card.size),", ",r.status,""))},dependencies:[ls,qi,oh,ih,sh,cs,S_],styles:["ion-item[_ngcontent-%COMP%]{background-color:#fff;background-color:var(--ion-background-color, white)}"]}),t})();function cU(t,n){1&t&&(_e(0,"div",10),wt(1,"ion-spinner"),fe())}function uU(t,n){1&t&&(_e(0,"div",11)(1,"div",12),tt(2," No memory cards. Select the \u201e+\u201c icon in the upper right corner in order to create a new card. "),fe()())}function dU(t,n){if(1&t){const e=xr();_e(0,"app-storage-card",14),ct("delete",function(){const i=dn(e).$implicit;return Ot(rn(2).deleteCard(i))})("selectCard",function(){const i=dn(e).$implicit;return Ot(rn(2).selectCard(i))})("edit",function(){const i=dn(e).$implicit;return Ot(rn(2).editCard(i))})("check",function(){const i=dn(e).$implicit;return Ot(rn(2).checkCard(i))})("interaction",function(){const i=dn(e).$implicit;return Ot(rn(2).lastCardTouched=i.id)})("save",function(){const i=dn(e).$implicit;return Ot(rn(2).saveCard(i))}),fe()}if(2&t){const e=n.$implicit,r=rn(2);gt("card",e)("touched",e.id===r.lastCardTouched)}}function fU(t,n){if(1&t&&(_e(0,"ion-list"),wn(1,dU,1,2,"app-storage-card",13),fe()),2&t){const e=rn();mt(1),gt("ngForOf",e.cards)("ngForTrackBy",e.trackCardBy)}}class Ss{constructor(n,e,r,o,i,s,a,c,f){var y=this;this.actionSheetController=n,this.storageCardService=e,this.modalController=r,this.alertController=o,this.cloudpilotService=i,this.alertService=s,this.errorService=a,this.fileService=c,this.storaceCarcContext=f,this.handleCardImport=function(){var v=(0,Ce.Z)(function*(D){const Q=(yield y.cloudpilotService.cloudpilot).getCardSupportLevel(D.content.length);if(0===Q)return void y.alertService.errorMessage("This is not a supported card image.");const Ie=yield new Promise(function(){var We=(0,Ce.Z)(function*(Be){const st=yield y.modalController.create({component:qM,backdropDismiss:!1,componentProps:{card:{name:y.disambiguateName(D.name),size:D.content.length},cardSupportLevel:Q,newCard:!0,onCancel:()=>{st.dismiss(),Be(void 0)},onSave:Ye=>{Be(Ye),st.dismiss()}}});yield st.present()});return function(Be){return We.apply(this,arguments)}}());Ie&&(yield y.storageCardService.createCardFromFile(Ie.name,D,!!Ie.dontFsckAutomatically))});return function(D){return v.apply(this,arguments)}}(),this.lastCardTouched=void 0,this.onMountForBrowse=()=>{}}get cards(){return this.storageCardService.getAllCards()}addCardImage(){var n=this;return(0,Ce.Z)(function*(){(yield n.actionSheetController.create({header:"What type of image do you want to create?",buttons:[{text:"Empty image",handler:()=>n.createNewCardImage()},{text:"Import an existing image",handler:()=>n.importCardImage()}]})).present()})()}showHelp(){}selectCard(n){var e=this;return(0,Ce.Z)(function*(){(yield e.storageCardService.browseCard(n))&&e.onMountForBrowse(n)})()}editCard(n){var e=this;return(0,Ce.Z)(function*(){const r=yield e.cloudpilotService.cloudpilot,o=yield e.modalController.create({component:qM,backdropDismiss:!1,componentProps:{card:n,cardSupportLevel:r.getCardSupportLevel(n.size),onCancel:()=>o.dismiss(),onSave:(i=(0,Ce.Z)(function*(s){yield e.storageCardService.updateCard(n.id,s),yield o.dismiss()}),function(a){return i.apply(this,arguments)})}});var i;yield o.present()})()}saveCard(n){return this.storageCardService.saveCard(n.id,`${l_(n.name.replace(/\.img$/,""))}.img`)}checkCard(n){return this.storageCardService.checkCard(n)}deleteCard(n){var e=this;return(0,Ce.Z)(function*(){var o;yield(yield e.alertController.create({header:"Warning",backdropDismiss:!1,message:`Deleting the card '${n.name}' cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:(o=(0,Ce.Z)(function*(){try{yield e.storageCardService.deleteCard(n.id)}catch(i){e.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}}),function(){return o.apply(this,arguments)})}]})).present()})()}trackCardBy(n,e){return e.id}importCardImage(){this.fileService.openFile(this.handleCardImport)}createNewCardImage(){var n=this;return(0,Ce.Z)(function*(){const e=yield n.modalController.create({component:sU,backdropDismiss:!1,componentProps:{onCancel:()=>e.dismiss(),onCreate:(r=(0,Ce.Z)(function*(o,i,s){yield n.storageCardService.createEmptyCard(o,i,s),yield e.dismiss()}),function(i,s,a){return r.apply(this,arguments)})}});var r;yield e.present()})()}disambiguateName(n){const e=this.storageCardService.getAllCards();return WM(n,r=>e.some(o=>o.name===r))}}Ss.\u0275fac=function(n){return new(n||Ss)(C(Uv),C(au),C(ws),C(eu),C(Zs),C(si),C(ql),C(su),C(ru))},Ss.\u0275cmp=de({type:Ss,selectors:[["app-subpage-cards"]],inputs:{onMountForBrowse:"onMountForBrowse"},decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],[3,"card","touched","delete","selectCard","edit","check","interaction","save",4,"ngFor","ngForOf","ngForTrackBy"],[3,"card","touched","delete","selectCard","edit","check","interaction","save"]],template:function(n,e){1&n&&(_e(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),tt(3,"Memory cards"),fe(),_e(4,"ion-buttons",0)(5,"ion-button",1),ct("click",function(){return e.addCardImage()}),wt(6,"ion-icon",2),fe()(),_e(7,"ion-buttons",3)(8,"ion-button",1),ct("click",function(){return e.showHelp()}),wt(9,"ion-icon",4),fe(),wt(10,"app-pwa-prompt"),fe()()(),_e(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),tt(15,"Memory cards"),fe()()(),wn(16,cU,2,0,"div",7),wn(17,uU,3,0,"div",8),wn(18,fU,2,2,"ion-list",9),fe()),2&n&&(mt(16),gt("ngIf",e.storageCardService.isLoading()),mt(1),gt("ngIf",!e.storageCardService.isLoading()&&0===e.cards.length),mt(1),gt("ngIf",!e.storageCardService.isLoading()&&e.cards.length>0))},dependencies:[Uc,Ho,Ui,Gi,zi,Wi,ls,Wl,Ad,Yi,Zi,Eh,lU],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"]}),se([Cs()],Ss.prototype,"addCardImage",null),se([Cs()],Ss.prototype,"selectCard",null),se([Cs()],Ss.prototype,"editCard",null),se([Cs()],Ss.prototype,"saveCard",null),se([Cs()],Ss.prototype,"checkCard",null),se([Cs()],Ss.prototype,"deleteCard",null);let pU=(()=>{class t{transform(e){return void 0===e?"":e<1024?`${e} bytes`:e<1048576?`${(e/1024).toFixed(1)} kB`:`${(e/1024/1024).toFixed(1)} MB`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=lt({name:"fileSize",type:t,pure:!0}),t})();function hU(t,n){1&t&&wt(0,"ion-icon",16)}function mU(t,n){1&t&&wt(0,"ion-icon",17)}function gU(t,n){if(1&t&&(jf(0),tt(1),Tl(2,"fileSize"),Uf()),2&t){const e=rn();mt(1),Mi(" - ",xl(2,1,null==e.entry?null:e.entry.size)," ")}}let yU=(()=>{class t{constructor(){this.touched=!1,this.interaction=new yn,this.selectEntry=new yn,this.edit=new yn,this.copyEntry=new yn,this.delete=new yn,this.save=new yn}onContextmenu(e){var r=this;return(0,Ce.Z)(function*(){e.stopPropagation(),e.preventDefault(),r.interaction.emit()})()}get color(){if(this.touched)return"light"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=de({type:t,selectors:[["app-file-entry"]],inputs:{entry:"entry",touched:"touched"},outputs:{interaction:"interaction",selectEntry:"selectEntry",edit:"edit",copyEntry:"copyEntry",delete:"delete",save:"save"},decls:21,vars:9,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","copy-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","detail","click"],["name","folder-outline","slot","start",4,"ngIf"],["name","document-outline","slot","start",4,"ngIf"],[4,"ngIf"],["name","folder-outline","slot","start"],["name","document-outline","slot","start"]],template:function(e,r){if(1&e){const o=xr();_e(0,"ion-item-sliding",0,1),ct("contextmenu",function(s){return r.onContextmenu(s)})("ionDrag",function(){return r.interaction.emit(r.entry)}),_e(2,"ion-item-options",2)(3,"ion-item-option",3),ct("click",function(){return dn(o),$i(1).close(),Ot(r.edit.emit(r.entry))}),wt(4,"ion-icon",4),fe(),_e(5,"ion-item-option",5),ct("click",function(){return dn(o),$i(1).close(),Ot(r.save.emit(r.entry))}),wt(6,"ion-icon",6),fe()(),_e(7,"ion-item-options",7)(8,"ion-item-option",8),ct("click",function(){return dn(o),$i(1).close(),Ot(r.copyEntry.emit(r.entry))}),wt(9,"ion-icon",9),fe(),_e(10,"ion-item-option",10),ct("click",function(){return dn(o),$i(1).close(),Ot(r.delete.emit(r.entry))}),wt(11,"ion-icon",11),fe()(),_e(12,"ion-item",12),ct("click",function(){return r.selectEntry.emit(),r.interaction.emit()}),wn(13,hU,1,0,"ion-icon",13),wn(14,mU,1,0,"ion-icon",14),_e(15,"ion-label")(16,"h2"),tt(17),fe(),_e(18,"p"),tt(19),wn(20,gU,3,3,"ng-container",15),fe()()()()}2&e&&(mt(12),ju("opacity",r.touched?1:.99999),gt("color",r.color)("detail",null==r.entry?null:r.entry.isDirectory),mt(1),gt("ngIf",null==r.entry?null:r.entry.isDirectory),mt(1),gt("ngIf",!(null!=r.entry&&r.entry.isDirectory)),mt(3),gs(null==r.entry?null:r.entry.name),mt(2),Mi(" ",null==r.entry?null:r.entry.lastModifiedLocalDate," "),mt(1),gt("ngIf",!(null!=r.entry&&r.entry.isDirectory)))},dependencies:[Ho,ls,qi,oh,ih,sh,cs,pU],styles:["ion-item[_ngcontent-%COMP%]{background-color:#fff;background-color:var(--ion-background-color, white)}"]}),t})();function vU(t,n){if(1&t&&(_e(0,"div",6)(1,"div",7),tt(2),fe()()),2&t){const e=rn();mt(2),Mi(" empty ","/"===e.path?"card":"directory"," ")}}function _U(t,n){if(1&t){const e=xr();_e(0,"app-file-entry",9),ct("selectEntry",function(){const i=dn(e).$implicit;return Ot(rn(2).onSelect(i))})("interaction",function(){const i=dn(e).$implicit;return Ot(rn(2).lastEntryTouched=i.name)}),fe()}if(2&t){const e=n.$implicit,r=rn(2);gt("entry",e)("touched",e.name===r.lastEntryTouched)}}function wU(t,n){if(1&t&&(_e(0,"ion-list"),wn(1,_U,1,2,"app-file-entry",8),fe()),2&t){const e=rn();mt(1),gt("ngForOf",e.entries)("ngForTrackBy",e.trackEntryBy)}}function bU(t,n){return t.isDirectory&&!n.isDirectory?-1:!t.isDirectory&&n.isDirectory?1:t.name.localeCompare(n.name)}let ZM=(()=>{class t{constructor(e){this.vfsService=e,this.onNavigate=()=>{},this.lastEntryTouched=void 0}showHelp(){}get title(){switch(this.path){case"/":return this.card?.name??"";case void 0:return"";default:{const e=this.vfsService.splitPath(this.path);return e[e.length-1]??""}}}ngOnInit(){this.updateEntries()}trackEntryBy(e,r){return r.name}onSelect(e){e.isDirectory&&this.onNavigate(e.path)}updateEntries(){void 0!==this.path?this.vfsService.readdir(this.path).then(e=>this.entries=e?[...e].sort(bU):[]):this.entries=[]}}return t.\u0275fac=function(e){return new(e||t)(C(g_))},t.\u0275cmp=de({type:t,selectors:[["app-subpage-directory"]],inputs:{card:"card",path:"path",onNavigate:"onNavigate"},decls:12,vars:3,consts:[["slot","start"],["slot","primary"],[3,"click"],["name","help-outline"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"placeholder-container"],[1,"placeholder"],[3,"entry","touched","selectEntry","interaction",4,"ngFor","ngForOf","ngForTrackBy"],[3,"entry","touched","selectEntry","interaction"]],template:function(e,r){1&e&&(_e(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),tt(3),fe(),_e(4,"ion-buttons",0),wt(5,"ion-back-button"),fe(),_e(6,"ion-buttons",1)(7,"ion-button",2),ct("click",function(){return r.showHelp()}),wt(8,"ion-icon",3),fe()()()(),_e(9,"ion-content"),wn(10,vU,3,1,"div",4),wn(11,wU,2,2,"ion-list",5),fe()),2&e&&(mt(3),gs(r.title),mt(7),gt("ngIf",void 0!==r.entries&&0===r.entries.length),mt(1),gt("ngIf",void 0!==r.entries))},dependencies:[Uc,Ho,mI,Ui,Gi,zi,Wi,ls,Wl,Yi,Zi,xI,yU],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"]}),t})();const CU=["nav"],SU=[{path:"tab",component:w_,children:[{path:"emulation",component:j6},{path:"sessions",component:Ks},{path:"storage",component:(()=>{class t{constructor(e){this.vfsService=e,this.navRootProps={onMountForBrowse:r=>this.browseCard(r)},this.onNavigate=r=>{!this.currentlyBrowsingCard||this.nav?.push(ZM,{card:this.currentlyBrowsingCard,path:r,onNavigate:this.onNavigate})},this.navRoot=Ss,this.isVisible=!1}ngOnInit(){this.vfsService.onReleaseCard.addHandler(this.onReleaseCard.bind(this))}ionViewDidEnter(){this.isVisible=!0}ionViewWillLeave(){this.isVisible=!1}browseCard(e){this.currentlyBrowsingCard=e,this.nav?.push(ZM,{card:e,path:"/",onNavigate:this.onNavigate})}onReleaseCard(e){e!==this.currentlyBrowsingCard?.id||!this.nav||(this.isVisible||(this.nav.animated=!1),this.nav.popToRoot(void 0,()=>this.nav&&(this.nav.animated=!0)))}}return t.\u0275fac=function(e){return new(e||t)(C(g_))},t.\u0275cmp=de({type:t,selectors:[["app-storage"]],viewQuery:function(e,r){if(1&e&&Qu(CU,5),2&e){let o;Bi(o=Vi())&&(r.nav=o.first)}},decls:2,vars:3,consts:[[3,"animated","root","rootParams"],["nav",""]],template:function(e,r){1&e&&wt(0,"ion-nav",0,1),2&e&&gt("animated",!0)("root",r.navRoot)("rootParams",r.navRootProps)},dependencies:[gI,AI]}),t})()},{path:"settings",component:nU},{path:"about",component:s6},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}]},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}];let EU=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Kn({imports:[rh.forChild(SU),rh]}),t})(),DU=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Kn({imports:[tl,Us,$l,EU,Jj,e6,t6,n6,Qj]}),t})(),IU=(()=>{class t extends qS{pushState(e,r,o,i){this.replaceState(e,r,o,i)}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Vo(t)))(r||t)}}(),t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const MU=[{path:"install",component:BM,canActivate:[VM]},{path:"import",component:BM,canActivate:[VM]},{path:"",component:w_}];let kU=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Kn({providers:[{provide:js,useClass:IU}],imports:[rh.forRoot(MU,{preloadingStrategy:h4,useHash:!0}),DU,rh]}),t})();const YM=["touch","click","keydown"];let TU=(()=>{class t{constructor(e,r){this.kvsService=e,this.audioService=r,this.initialize()}initialize(){var e=this;return(0,Ce.Z)(function*(){if(yield e.kvsService.initialize(),!e.kvsService.kvs.enableAudioOnFirstInteraction)return;const r=()=>{YM.forEach(o=>window.removeEventListener(o,r,!0)),e.audioService.initialize()};YM.forEach(o=>window.addEventListener(o,r,!0))})()}}return t.\u0275fac=function(e){return new(e||t)(me(Ai),me(C_))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const xU=()=>{const t=new nu;return t.link=(n,e,r)=>`<a href="${n}" target="_blank" rel="external">${r||n}</a>`,{renderer:t,gfm:!0,breaks:!1,pedantic:!1,smartLists:!0,smartypants:!1}};let AU=(()=>{class t{constructor(e,r,o,i,s,a,c){}}return t.\u0275fac=function(e){return new(e||t)(me(On),me(Ys),me(C_),me(Gd),me(Ai),me($M),me(TU))},t.\u0275mod=jt({type:t,bootstrap:[$j]}),t.\u0275inj=Kn({providers:[{provide:K1,useClass:hV},{provide:Al,multi:!0,useFactory:n=>n.initialize.bind(n),deps:[Ai]}],imports:[xN,tl.forRoot(),kU,Nj.register("ngsw-worker.js",{enabled:true}),Yv.forRoot({loader:Ry,markedOptions:{provide:ZI,useFactory:xU}}),rL]}),t})();window.global=window,function jN(){Cp=RE("#/install?"),Sp=RE("#/import?")}(),function oH(){return!!localStorage.getItem(hh)}()&&!FE()||function UN(){return void 0!==Cp}()?location.replace(`${location.origin}${location.pathname}#/tab/emulation`):location.replace(`${location.origin}${location.pathname}#/tab/sessions`),function yF(){AS=!1}(),window.addEventListener("orientationchange",()=>setTimeout(()=>{document.body.style.height=window.innerHeight+"px"},100)),window.addEventListener("scroll",()=>window.scrollTo(0,0)),TN().bootstrapModule(AU).catch(t=>console.log(t))},3272:Fe=>{var R,je=(R=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(k){var ne,ee,d=typeof(k=k||{})<"u"?k:{};d.ready=new Promise(function(l,g){ne=l,ee=g});var V,xe,X,W=Object.assign({},d),Y=[],j="./this.program",G=(l,g)=>{throw g},ye="object"==typeof window,q="function"==typeof importScripts,$=("object"==typeof process&&"object"==typeof process.versions&&process,"");(ye||q)&&(q?$=self.location.href:typeof document<"u"&&document.currentScript&&($=document.currentScript.src),R&&($=R),$=0!==$.indexOf("blob:")?$.substr(0,$.replace(/[?#].*/,"").lastIndexOf("/")+1):"",V=l=>{var g=new XMLHttpRequest;return g.open("GET",l,!1),g.send(null),g.responseText},q&&(X=l=>{var g=new XMLHttpRequest;return g.open("GET",l,!1),g.responseType="arraybuffer",g.send(null),new Uint8Array(g.response)}),xe=(l,g,b)=>{var A=new XMLHttpRequest;A.open("GET",l,!0),A.responseType="arraybuffer",A.onload=()=>{200==A.status||0==A.status&&A.response?g(A.response):b()},A.onerror=b,A.send(null)});var ce,ge=d.print||console.log.bind(console),oe=d.printErr||console.warn.bind(console);Object.assign(d,W),W=null,d.arguments&&(Y=d.arguments),d.thisProgram&&(j=d.thisProgram),d.quit&&(G=d.quit),d.wasmBinary&&(ce=d.wasmBinary);var Ae=d.noExitRuntime||!0;"object"!=typeof WebAssembly&&Qn("no native wasm support detected");var ue,he,Ge=!1;function be(l,g){l||Qn(g)}var Ue,ze,at,L,B,pe,Me=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Ve(l,g,b){for(var A=g+b,H=g;l[H]&&!(H>=A);)++H;if(H-g>16&&l.buffer&&Me)return Me.decode(l.subarray(g,H));for(var we="";g<H;){var De=l[g++];if(128&De){var Ne=63&l[g++];if(192!=(224&De)){var vt=63&l[g++];if((De=224==(240&De)?(15&De)<<12|Ne<<6|vt:(7&De)<<18|Ne<<12|vt<<6|63&l[g++])<65536)we+=String.fromCharCode(De);else{var Qt=De-65536;we+=String.fromCharCode(55296|Qt>>10,56320|1023&Qt)}}else we+=String.fromCharCode((31&De)<<6|Ne)}else we+=String.fromCharCode(De)}return we}function Oe(l,g){return l?Ve(at,l,g):""}function ke(l,g,b,A){if(!(A>0))return 0;for(var H=b,we=b+A-1,De=0;De<l.length;++De){var Ne=l.charCodeAt(De);if(Ne>=55296&&Ne<=57343&&(Ne=65536+((1023&Ne)<<10)|1023&l.charCodeAt(++De)),Ne<=127){if(b>=we)break;g[b++]=Ne}else if(Ne<=2047){if(b+1>=we)break;g[b++]=192|Ne>>6,g[b++]=128|63&Ne}else if(Ne<=65535){if(b+2>=we)break;g[b++]=224|Ne>>12,g[b++]=128|Ne>>6&63,g[b++]=128|63&Ne}else{if(b+3>=we)break;g[b++]=240|Ne>>18,g[b++]=128|Ne>>12&63,g[b++]=128|Ne>>6&63,g[b++]=128|63&Ne}}return g[b]=0,b-H}function K(l){for(var g=0,b=0;b<l.length;++b){var A=l.charCodeAt(b);A<=127?g++:A<=2047?g+=2:A>=55296&&A<=57343?(g+=4,++b):g+=3}return g}function Te(l){Ue=l,d.HEAP8=ze=new Int8Array(l),d.HEAP16=new Int16Array(l),d.HEAP32=L=new Int32Array(l),d.HEAPU8=at=new Uint8Array(l),d.HEAPU16=new Uint16Array(l),d.HEAPU32=B=new Uint32Array(l),d.HEAPF32=new Float32Array(l),d.HEAPF64=pe=new Float64Array(l)}var et,Sn,Ke=[],Je=[],At=[],Lt=[],Hn=0,sr=null,vr=null;function mo(l){Hn++,d.monitorRunDependencies&&d.monitorRunDependencies(Hn)}function ar(l){if(Hn--,d.monitorRunDependencies&&d.monitorRunDependencies(Hn),0==Hn&&(null!==sr&&(clearInterval(sr),sr=null),vr)){var g=vr;vr=null,g()}}function Qn(l){d.onAbort&&d.onAbort(l),oe(l="Aborted("+l+")"),Ge=!0,he=1,l+=". Build with -sASSERTIONS for more info.";var g=new WebAssembly.RuntimeError(l);throw ee(g),g}function $r(l){return l.startsWith("data:application/octet-stream;base64,")}function Wr(l){try{if(l==Sn&&ce)return new Uint8Array(ce);if(X)return X(l);throw"both async and sync fetching of the wasm failed"}catch(g){Qn(g)}}$r(Sn="cloudpilot_web.wasm")||(Sn=function O(l){return d.locateFile?d.locateFile(l,$):$+l}(Sn));var Qe,re,Le={242196:l=>{et.grow(65536);for(let g=0;g<=65535;g++)et.set(et.length-65535-1+g,et.get(B[(l>>>2)+g]));return et.length-65535-1}};function bn(l){this.name="ExitStatus",this.message="Program terminated with exit("+l+")",this.status=l}function Ft(l){for(;l.length>0;)l.shift()(d)}function er(l,g){return g+2097152>>>0<4194305-!!l?(l>>>0)+4294967296*g:NaN}var Jt={isAbs:l=>"/"===l.charAt(0),splitPath:l=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(l).slice(1),normalizeArray:(l,g)=>{for(var b=0,A=l.length-1;A>=0;A--){var H=l[A];"."===H?l.splice(A,1):".."===H?(l.splice(A,1),b++):b&&(l.splice(A,1),b--)}if(g)for(;b;b--)l.unshift("..");return l},normalize:l=>{var g=Jt.isAbs(l),b="/"===l.substr(-1);return!(l=Jt.normalizeArray(l.split("/").filter(A=>!!A),!g).join("/"))&&!g&&(l="."),l&&b&&(l+="/"),(g?"/":"")+l},dirname:l=>{var g=Jt.splitPath(l),b=g[0],A=g[1];return b||A?(A&&(A=A.substr(0,A.length-1)),b+A):"."},basename:l=>{if("/"===l)return"/";var g=(l=(l=Jt.normalize(l)).replace(/\/$/,"")).lastIndexOf("/");return-1===g?l:l.substr(g+1)},join:function(){var l=Array.prototype.slice.call(arguments);return Jt.normalize(l.join("/"))},join2:(l,g)=>Jt.normalize(l+"/"+g)},lr={resolve:function(){for(var l="",g=!1,b=arguments.length-1;b>=-1&&!g;b--){var A=b>=0?arguments[b]:M.cwd();if("string"!=typeof A)throw new TypeError("Arguments to path.resolve must be strings");if(!A)return"";l=A+"/"+l,g=Jt.isAbs(A)}return(g?"/":"")+(l=Jt.normalizeArray(l.split("/").filter(H=>!!H),!g).join("/"))||"."},relative:(l,g)=>{function b(Qt){for(var kn=0;kn<Qt.length&&""===Qt[kn];kn++);for(var Bn=Qt.length-1;Bn>=0&&""===Qt[Bn];Bn--);return kn>Bn?[]:Qt.slice(kn,Bn-kn+1)}l=lr.resolve(l).substr(1),g=lr.resolve(g).substr(1);for(var A=b(l.split("/")),H=b(g.split("/")),we=Math.min(A.length,H.length),De=we,Ne=0;Ne<we;Ne++)if(A[Ne]!==H[Ne]){De=Ne;break}var vt=[];for(Ne=De;Ne<A.length;Ne++)vt.push("..");return(vt=vt.concat(H.slice(De))).join("/")}};function Vt(l,g,b){var A=b>0?b:K(l)+1,H=new Array(A),we=ke(l,H,0,H.length);return g&&(H.length=we),H}var tr={ttys:[],init:function(){},shutdown:function(){},register:function(l,g){tr.ttys[l]={input:[],output:[],ops:g},M.registerDevice(l,tr.stream_ops)},stream_ops:{open:function(l){var g=tr.ttys[l.node.rdev];if(!g)throw new M.ErrnoError(43);l.tty=g,l.seekable=!1},close:function(l){l.tty.ops.fsync(l.tty)},fsync:function(l){l.tty.ops.fsync(l.tty)},read:function(l,g,b,A,H){if(!l.tty||!l.tty.ops.get_char)throw new M.ErrnoError(60);for(var we=0,De=0;De<A;De++){var Ne;try{Ne=l.tty.ops.get_char(l.tty)}catch{throw new M.ErrnoError(29)}if(void 0===Ne&&0===we)throw new M.ErrnoError(6);if(null==Ne)break;we++,g[b+De]=Ne}return we&&(l.node.timestamp=Date.now()),we},write:function(l,g,b,A,H){if(!l.tty||!l.tty.ops.put_char)throw new M.ErrnoError(60);try{for(var we=0;we<A;we++)l.tty.ops.put_char(l.tty,g[b+we])}catch{throw new M.ErrnoError(29)}return A&&(l.node.timestamp=Date.now()),we}},default_tty_ops:{get_char:function(l){if(!l.input.length){var g=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(g=window.prompt("Input: "))&&(g+="\n"):"function"==typeof readline&&null!==(g=readline())&&(g+="\n"),!g)return null;l.input=Vt(g,!0)}return l.input.shift()},put_char:function(l,g){null===g||10===g?(ge(Ve(l.output,0)),l.output=[]):0!=g&&l.output.push(g)},fsync:function(l){l.output&&l.output.length>0&&(ge(Ve(l.output,0)),l.output=[])}},default_tty1_ops:{put_char:function(l,g){null===g||10===g?(oe(Ve(l.output,0)),l.output=[]):0!=g&&l.output.push(g)},fsync:function(l){l.output&&l.output.length>0&&(oe(Ve(l.output,0)),l.output=[])}}};function S(l){Qn()}var kt={ops_table:null,mount:function(l){return kt.createNode(null,"/",16895,0)},createNode:function(l,g,b,A){if(M.isBlkdev(b)||M.isFIFO(b))throw new M.ErrnoError(63);kt.ops_table||(kt.ops_table={dir:{node:{getattr:kt.node_ops.getattr,setattr:kt.node_ops.setattr,lookup:kt.node_ops.lookup,mknod:kt.node_ops.mknod,rename:kt.node_ops.rename,unlink:kt.node_ops.unlink,rmdir:kt.node_ops.rmdir,readdir:kt.node_ops.readdir,symlink:kt.node_ops.symlink},stream:{llseek:kt.stream_ops.llseek}},file:{node:{getattr:kt.node_ops.getattr,setattr:kt.node_ops.setattr},stream:{llseek:kt.stream_ops.llseek,read:kt.stream_ops.read,write:kt.stream_ops.write,allocate:kt.stream_ops.allocate,mmap:kt.stream_ops.mmap,msync:kt.stream_ops.msync}},link:{node:{getattr:kt.node_ops.getattr,setattr:kt.node_ops.setattr,readlink:kt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:kt.node_ops.getattr,setattr:kt.node_ops.setattr},stream:M.chrdev_stream_ops}});var H=M.createNode(l,g,b,A);return M.isDir(H.mode)?(H.node_ops=kt.ops_table.dir.node,H.stream_ops=kt.ops_table.dir.stream,H.contents={}):M.isFile(H.mode)?(H.node_ops=kt.ops_table.file.node,H.stream_ops=kt.ops_table.file.stream,H.usedBytes=0,H.contents=null):M.isLink(H.mode)?(H.node_ops=kt.ops_table.link.node,H.stream_ops=kt.ops_table.link.stream):M.isChrdev(H.mode)&&(H.node_ops=kt.ops_table.chrdev.node,H.stream_ops=kt.ops_table.chrdev.stream),H.timestamp=Date.now(),l&&(l.contents[g]=H,l.timestamp=H.timestamp),H},getFileDataAsTypedArray:function(l){return l.contents?l.contents.subarray?l.contents.subarray(0,l.usedBytes):new Uint8Array(l.contents):new Uint8Array(0)},expandFileStorage:function(l,g){var b=l.contents?l.contents.length:0;if(!(b>=g)){g=Math.max(g,b*(b<1048576?2:1.125)>>>0),0!=b&&(g=Math.max(g,256));var H=l.contents;l.contents=new Uint8Array(g),l.usedBytes>0&&l.contents.set(H.subarray(0,l.usedBytes),0)}},resizeFileStorage:function(l,g){if(l.usedBytes!=g)if(0==g)l.contents=null,l.usedBytes=0;else{var b=l.contents;l.contents=new Uint8Array(g),b&&l.contents.set(b.subarray(0,Math.min(g,l.usedBytes))),l.usedBytes=g}},node_ops:{getattr:function(l){var g={};return g.dev=M.isChrdev(l.mode)?l.id:1,g.ino=l.id,g.mode=l.mode,g.nlink=1,g.uid=0,g.gid=0,g.rdev=l.rdev,g.size=M.isDir(l.mode)?4096:M.isFile(l.mode)?l.usedBytes:M.isLink(l.mode)?l.link.length:0,g.atime=new Date(l.timestamp),g.mtime=new Date(l.timestamp),g.ctime=new Date(l.timestamp),g.blksize=4096,g.blocks=Math.ceil(g.size/g.blksize),g},setattr:function(l,g){void 0!==g.mode&&(l.mode=g.mode),void 0!==g.timestamp&&(l.timestamp=g.timestamp),void 0!==g.size&&kt.resizeFileStorage(l,g.size)},lookup:function(l,g){throw M.genericErrors[44]},mknod:function(l,g,b,A){return kt.createNode(l,g,b,A)},rename:function(l,g,b){if(M.isDir(l.mode)){var A;try{A=M.lookupNode(g,b)}catch{}if(A)for(var H in A.contents)throw new M.ErrnoError(55)}delete l.parent.contents[l.name],l.parent.timestamp=Date.now(),l.name=b,g.contents[b]=l,g.timestamp=l.parent.timestamp,l.parent=g},unlink:function(l,g){delete l.contents[g],l.timestamp=Date.now()},rmdir:function(l,g){var b=M.lookupNode(l,g);for(var A in b.contents)throw new M.ErrnoError(55);delete l.contents[g],l.timestamp=Date.now()},readdir:function(l){var g=[".",".."];for(var b in l.contents)!l.contents.hasOwnProperty(b)||g.push(b);return g},symlink:function(l,g,b){var A=kt.createNode(l,g,41471,0);return A.link=b,A},readlink:function(l){if(!M.isLink(l.mode))throw new M.ErrnoError(28);return l.link}},stream_ops:{read:function(l,g,b,A,H){var we=l.node.contents;if(H>=l.node.usedBytes)return 0;var De=Math.min(l.node.usedBytes-H,A);if(De>8&&we.subarray)g.set(we.subarray(H,H+De),b);else for(var Ne=0;Ne<De;Ne++)g[b+Ne]=we[H+Ne];return De},write:function(l,g,b,A,H,we){if(g.buffer===ze.buffer&&(we=!1),!A)return 0;var De=l.node;if(De.timestamp=Date.now(),g.subarray&&(!De.contents||De.contents.subarray)){if(we)return De.contents=g.subarray(b,b+A),De.usedBytes=A,A;if(0===De.usedBytes&&0===H)return De.contents=g.slice(b,b+A),De.usedBytes=A,A;if(H+A<=De.usedBytes)return De.contents.set(g.subarray(b,b+A),H),A}if(kt.expandFileStorage(De,H+A),De.contents.subarray&&g.subarray)De.contents.set(g.subarray(b,b+A),H);else for(var Ne=0;Ne<A;Ne++)De.contents[H+Ne]=g[b+Ne];return De.usedBytes=Math.max(De.usedBytes,H+A),A},llseek:function(l,g,b){var A=g;if(1===b?A+=l.position:2===b&&M.isFile(l.node.mode)&&(A+=l.node.usedBytes),A<0)throw new M.ErrnoError(28);return A},allocate:function(l,g,b){kt.expandFileStorage(l.node,g+b),l.node.usedBytes=Math.max(l.node.usedBytes,g+b)},mmap:function(l,g,b,A,H){if(!M.isFile(l.node.mode))throw new M.ErrnoError(43);var we,De,Ne=l.node.contents;if(2&H||Ne.buffer!==Ue){if((b>0||b+g<Ne.length)&&(Ne=Ne.subarray?Ne.subarray(b,b+g):Array.prototype.slice.call(Ne,b,b+g)),De=!0,!(we=S()))throw new M.ErrnoError(48);ze.set(Ne,we)}else De=!1,we=Ne.byteOffset;return{ptr:we,allocated:De}},msync:function(l,g,b,A,H){return kt.stream_ops.write(l,g,0,A,b,!1),0}}},M={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(l,g={})=>{if(!(l=lr.resolve(l)))return{path:"",node:null};if((g=Object.assign({follow_mount:!0,recurse_count:0},g)).recurse_count>8)throw new M.ErrnoError(32);for(var A=l.split("/").filter(Bn=>!!Bn),H=M.root,we="/",De=0;De<A.length;De++){var Ne=De===A.length-1;if(Ne&&g.parent)break;if(H=M.lookupNode(H,A[De]),we=Jt.join2(we,A[De]),M.isMountpoint(H)&&(!Ne||Ne&&g.follow_mount)&&(H=H.mounted.root),!Ne||g.follow)for(var vt=0;M.isLink(H.mode);){var Qt=M.readlink(we);if(we=lr.resolve(Jt.dirname(we),Qt),H=M.lookupPath(we,{recurse_count:g.recurse_count+1}).node,vt++>40)throw new M.ErrnoError(32)}}return{path:we,node:H}},getPath:l=>{for(var g;;){if(M.isRoot(l)){var b=l.mount.mountpoint;return g?"/"!==b[b.length-1]?b+"/"+g:b+g:b}g=g?l.name+"/"+g:l.name,l=l.parent}},hashName:(l,g)=>{for(var b=0,A=0;A<g.length;A++)b=(b<<5)-b+g.charCodeAt(A)|0;return(l+b>>>0)%M.nameTable.length},hashAddNode:l=>{var g=M.hashName(l.parent.id,l.name);l.name_next=M.nameTable[g],M.nameTable[g]=l},hashRemoveNode:l=>{var g=M.hashName(l.parent.id,l.name);if(M.nameTable[g]===l)M.nameTable[g]=l.name_next;else for(var b=M.nameTable[g];b;){if(b.name_next===l){b.name_next=l.name_next;break}b=b.name_next}},lookupNode:(l,g)=>{var b=M.mayLookup(l);if(b)throw new M.ErrnoError(b,l);for(var A=M.hashName(l.id,g),H=M.nameTable[A];H;H=H.name_next)if(H.parent.id===l.id&&H.name===g)return H;return M.lookup(l,g)},createNode:(l,g,b,A)=>{var H=new M.FSNode(l,g,b,A);return M.hashAddNode(H),H},destroyNode:l=>{M.hashRemoveNode(l)},isRoot:l=>l===l.parent,isMountpoint:l=>!!l.mounted,isFile:l=>32768==(61440&l),isDir:l=>16384==(61440&l),isLink:l=>40960==(61440&l),isChrdev:l=>8192==(61440&l),isBlkdev:l=>24576==(61440&l),isFIFO:l=>4096==(61440&l),isSocket:l=>49152==(49152&l),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:l=>{var g=M.flagModes[l];if(typeof g>"u")throw new Error("Unknown file open mode: "+l);return g},flagsToPermissionString:l=>{var g=["r","w","rw"][3&l];return 512&l&&(g+="w"),g},nodePermissions:(l,g)=>M.ignorePermissions?0:g.includes("r")&&!(292&l.mode)||g.includes("w")&&!(146&l.mode)||g.includes("x")&&!(73&l.mode)?2:0,mayLookup:l=>M.nodePermissions(l,"x")||(l.node_ops.lookup?0:2),mayCreate:(l,g)=>{try{return M.lookupNode(l,g),20}catch{}return M.nodePermissions(l,"wx")},mayDelete:(l,g,b)=>{var A;try{A=M.lookupNode(l,g)}catch(we){return we.errno}var H=M.nodePermissions(l,"wx");if(H)return H;if(b){if(!M.isDir(A.mode))return 54;if(M.isRoot(A)||M.getPath(A)===M.cwd())return 10}else if(M.isDir(A.mode))return 31;return 0},mayOpen:(l,g)=>l?M.isLink(l.mode)?32:M.isDir(l.mode)&&("r"!==M.flagsToPermissionString(g)||512&g)?31:M.nodePermissions(l,M.flagsToPermissionString(g)):44,MAX_OPEN_FDS:4096,nextfd:(l=0,g=M.MAX_OPEN_FDS)=>{for(var b=l;b<=g;b++)if(!M.streams[b])return b;throw new M.ErrnoError(33)},getStream:l=>M.streams[l],createStream:(l,g,b)=>{M.FSStream||(M.FSStream=function(){this.shared={}},M.FSStream.prototype={},Object.defineProperties(M.FSStream.prototype,{object:{get:function(){return this.node},set:function(H){this.node=H}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(H){this.shared.flags=H}},position:{get:function(){return this.shared.position},set:function(H){this.shared.position=H}}})),l=Object.assign(new M.FSStream,l);var A=M.nextfd(g,b);return l.fd=A,M.streams[A]=l,l},closeStream:l=>{M.streams[l]=null},chrdev_stream_ops:{open:l=>{var g=M.getDevice(l.node.rdev);l.stream_ops=g.stream_ops,l.stream_ops.open&&l.stream_ops.open(l)},llseek:()=>{throw new M.ErrnoError(70)}},major:l=>l>>8,minor:l=>255&l,makedev:(l,g)=>l<<8|g,registerDevice:(l,g)=>{M.devices[l]={stream_ops:g}},getDevice:l=>M.devices[l],getMounts:l=>{for(var g=[],b=[l];b.length;){var A=b.pop();g.push(A),b.push.apply(b,A.mounts)}return g},syncfs:(l,g)=>{"function"==typeof l&&(g=l,l=!1),M.syncFSRequests++,M.syncFSRequests>1&&oe("warning: "+M.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var b=M.getMounts(M.root.mount),A=0;function H(De){return M.syncFSRequests--,g(De)}function we(De){if(De)return we.errored?void 0:(we.errored=!0,H(De));++A>=b.length&&H(null)}b.forEach(De=>{if(!De.type.syncfs)return we(null);De.type.syncfs(De,l,we)})},mount:(l,g,b)=>{var we,A="/"===b,H=!b;if(A&&M.root)throw new M.ErrnoError(10);if(!A&&!H){var De=M.lookupPath(b,{follow_mount:!1});if(b=De.path,M.isMountpoint(we=De.node))throw new M.ErrnoError(10);if(!M.isDir(we.mode))throw new M.ErrnoError(54)}var Ne={type:l,opts:g,mountpoint:b,mounts:[]},vt=l.mount(Ne);return vt.mount=Ne,Ne.root=vt,A?M.root=vt:we&&(we.mounted=Ne,we.mount&&we.mount.mounts.push(Ne)),vt},unmount:l=>{var g=M.lookupPath(l,{follow_mount:!1});if(!M.isMountpoint(g.node))throw new M.ErrnoError(28);var b=g.node,A=b.mounted,H=M.getMounts(A);Object.keys(M.nameTable).forEach(De=>{for(var Ne=M.nameTable[De];Ne;){var vt=Ne.name_next;H.includes(Ne.mount)&&M.destroyNode(Ne),Ne=vt}}),b.mounted=null;var we=b.mount.mounts.indexOf(A);b.mount.mounts.splice(we,1)},lookup:(l,g)=>l.node_ops.lookup(l,g),mknod:(l,g,b)=>{var H=M.lookupPath(l,{parent:!0}).node,we=Jt.basename(l);if(!we||"."===we||".."===we)throw new M.ErrnoError(28);var De=M.mayCreate(H,we);if(De)throw new M.ErrnoError(De);if(!H.node_ops.mknod)throw new M.ErrnoError(63);return H.node_ops.mknod(H,we,g,b)},create:(l,g)=>(g=void 0!==g?g:438,g&=4095,M.mknod(l,g|=32768,0)),mkdir:(l,g)=>(g=void 0!==g?g:511,g&=1023,M.mknod(l,g|=16384,0)),mkdirTree:(l,g)=>{for(var b=l.split("/"),A="",H=0;H<b.length;++H)if(b[H]){A+="/"+b[H];try{M.mkdir(A,g)}catch(we){if(20!=we.errno)throw we}}},mkdev:(l,g,b)=>(typeof b>"u"&&(b=g,g=438),M.mknod(l,g|=8192,b)),symlink:(l,g)=>{if(!lr.resolve(l))throw new M.ErrnoError(44);var A=M.lookupPath(g,{parent:!0}).node;if(!A)throw new M.ErrnoError(44);var H=Jt.basename(g),we=M.mayCreate(A,H);if(we)throw new M.ErrnoError(we);if(!A.node_ops.symlink)throw new M.ErrnoError(63);return A.node_ops.symlink(A,H,l)},rename:(l,g)=>{var Ne,vt,b=Jt.dirname(l),A=Jt.dirname(g),H=Jt.basename(l),we=Jt.basename(g);if(Ne=M.lookupPath(l,{parent:!0}).node,vt=M.lookupPath(g,{parent:!0}).node,!Ne||!vt)throw new M.ErrnoError(44);if(Ne.mount!==vt.mount)throw new M.ErrnoError(75);var Bn,Qt=M.lookupNode(Ne,H),kn=lr.relative(l,A);if("."!==kn.charAt(0))throw new M.ErrnoError(28);if("."!==(kn=lr.relative(g,b)).charAt(0))throw new M.ErrnoError(55);try{Bn=M.lookupNode(vt,we)}catch{}if(Qt!==Bn){var Pt=M.isDir(Qt.mode),$t=M.mayDelete(Ne,H,Pt);if($t)throw new M.ErrnoError($t);if($t=Bn?M.mayDelete(vt,we,Pt):M.mayCreate(vt,we))throw new M.ErrnoError($t);if(!Ne.node_ops.rename)throw new M.ErrnoError(63);if(M.isMountpoint(Qt)||Bn&&M.isMountpoint(Bn))throw new M.ErrnoError(10);if(vt!==Ne&&($t=M.nodePermissions(Ne,"w")))throw new M.ErrnoError($t);M.hashRemoveNode(Qt);try{Ne.node_ops.rename(Qt,vt,we)}catch(Kt){throw Kt}finally{M.hashAddNode(Qt)}}},rmdir:l=>{var b=M.lookupPath(l,{parent:!0}).node,A=Jt.basename(l),H=M.lookupNode(b,A),we=M.mayDelete(b,A,!0);if(we)throw new M.ErrnoError(we);if(!b.node_ops.rmdir)throw new M.ErrnoError(63);if(M.isMountpoint(H))throw new M.ErrnoError(10);b.node_ops.rmdir(b,A),M.destroyNode(H)},readdir:l=>{var b=M.lookupPath(l,{follow:!0}).node;if(!b.node_ops.readdir)throw new M.ErrnoError(54);return b.node_ops.readdir(b)},unlink:l=>{var b=M.lookupPath(l,{parent:!0}).node;if(!b)throw new M.ErrnoError(44);var A=Jt.basename(l),H=M.lookupNode(b,A),we=M.mayDelete(b,A,!1);if(we)throw new M.ErrnoError(we);if(!b.node_ops.unlink)throw new M.ErrnoError(63);if(M.isMountpoint(H))throw new M.ErrnoError(10);b.node_ops.unlink(b,A),M.destroyNode(H)},readlink:l=>{var b=M.lookupPath(l).node;if(!b)throw new M.ErrnoError(44);if(!b.node_ops.readlink)throw new M.ErrnoError(28);return lr.resolve(M.getPath(b.parent),b.node_ops.readlink(b))},stat:(l,g)=>{var A=M.lookupPath(l,{follow:!g}).node;if(!A)throw new M.ErrnoError(44);if(!A.node_ops.getattr)throw new M.ErrnoError(63);return A.node_ops.getattr(A)},lstat:l=>M.stat(l,!0),chmod:(l,g,b)=>{var A;if(!(A="string"==typeof l?M.lookupPath(l,{follow:!b}).node:l).node_ops.setattr)throw new M.ErrnoError(63);A.node_ops.setattr(A,{mode:4095&g|-4096&A.mode,timestamp:Date.now()})},lchmod:(l,g)=>{M.chmod(l,g,!0)},fchmod:(l,g)=>{var b=M.getStream(l);if(!b)throw new M.ErrnoError(8);M.chmod(b.node,g)},chown:(l,g,b,A)=>{var H;if(!(H="string"==typeof l?M.lookupPath(l,{follow:!A}).node:l).node_ops.setattr)throw new M.ErrnoError(63);H.node_ops.setattr(H,{timestamp:Date.now()})},lchown:(l,g,b)=>{M.chown(l,g,b,!0)},fchown:(l,g,b)=>{var A=M.getStream(l);if(!A)throw new M.ErrnoError(8);M.chown(A.node,g,b)},truncate:(l,g)=>{if(g<0)throw new M.ErrnoError(28);var b;if(!(b="string"==typeof l?M.lookupPath(l,{follow:!0}).node:l).node_ops.setattr)throw new M.ErrnoError(63);if(M.isDir(b.mode))throw new M.ErrnoError(31);if(!M.isFile(b.mode))throw new M.ErrnoError(28);var H=M.nodePermissions(b,"w");if(H)throw new M.ErrnoError(H);b.node_ops.setattr(b,{size:g,timestamp:Date.now()})},ftruncate:(l,g)=>{var b=M.getStream(l);if(!b)throw new M.ErrnoError(8);if(0==(2097155&b.flags))throw new M.ErrnoError(28);M.truncate(b.node,g)},utime:(l,g,b)=>{var H=M.lookupPath(l,{follow:!0}).node;H.node_ops.setattr(H,{timestamp:Math.max(g,b)})},open:(l,g,b)=>{if(""===l)throw new M.ErrnoError(44);var A;if(b=typeof b>"u"?438:b,b=64&(g="string"==typeof g?M.modeStringToFlags(g):g)?4095&b|32768:0,"object"==typeof l)A=l;else{l=Jt.normalize(l);try{A=M.lookupPath(l,{follow:!(131072&g)}).node}catch{}}var we=!1;if(64&g)if(A){if(128&g)throw new M.ErrnoError(20)}else A=M.mknod(l,b,0),we=!0;if(!A)throw new M.ErrnoError(44);if(M.isChrdev(A.mode)&&(g&=-513),65536&g&&!M.isDir(A.mode))throw new M.ErrnoError(54);if(!we){var De=M.mayOpen(A,g);if(De)throw new M.ErrnoError(De)}512&g&&!we&&M.truncate(A,0),g&=-131713;var Ne=M.createStream({node:A,path:M.getPath(A),flags:g,seekable:!0,position:0,stream_ops:A.stream_ops,ungotten:[],error:!1});return Ne.stream_ops.open&&Ne.stream_ops.open(Ne),d.logReadFiles&&!(1&g)&&(M.readFiles||(M.readFiles={}),l in M.readFiles||(M.readFiles[l]=1)),Ne},close:l=>{if(M.isClosed(l))throw new M.ErrnoError(8);l.getdents&&(l.getdents=null);try{l.stream_ops.close&&l.stream_ops.close(l)}catch(g){throw g}finally{M.closeStream(l.fd)}l.fd=null},isClosed:l=>null===l.fd,llseek:(l,g,b)=>{if(M.isClosed(l))throw new M.ErrnoError(8);if(!l.seekable||!l.stream_ops.llseek)throw new M.ErrnoError(70);if(0!=b&&1!=b&&2!=b)throw new M.ErrnoError(28);return l.position=l.stream_ops.llseek(l,g,b),l.ungotten=[],l.position},read:(l,g,b,A,H)=>{if(A<0||H<0)throw new M.ErrnoError(28);if(M.isClosed(l))throw new M.ErrnoError(8);if(1==(2097155&l.flags))throw new M.ErrnoError(8);if(M.isDir(l.node.mode))throw new M.ErrnoError(31);if(!l.stream_ops.read)throw new M.ErrnoError(28);var we=typeof H<"u";if(we){if(!l.seekable)throw new M.ErrnoError(70)}else H=l.position;var De=l.stream_ops.read(l,g,b,A,H);return we||(l.position+=De),De},write:(l,g,b,A,H,we)=>{if(A<0||H<0)throw new M.ErrnoError(28);if(M.isClosed(l))throw new M.ErrnoError(8);if(0==(2097155&l.flags))throw new M.ErrnoError(8);if(M.isDir(l.node.mode))throw new M.ErrnoError(31);if(!l.stream_ops.write)throw new M.ErrnoError(28);l.seekable&&1024&l.flags&&M.llseek(l,0,2);var De=typeof H<"u";if(De){if(!l.seekable)throw new M.ErrnoError(70)}else H=l.position;var Ne=l.stream_ops.write(l,g,b,A,H,we);return De||(l.position+=Ne),Ne},allocate:(l,g,b)=>{if(M.isClosed(l))throw new M.ErrnoError(8);if(g<0||b<=0)throw new M.ErrnoError(28);if(0==(2097155&l.flags))throw new M.ErrnoError(8);if(!M.isFile(l.node.mode)&&!M.isDir(l.node.mode))throw new M.ErrnoError(43);if(!l.stream_ops.allocate)throw new M.ErrnoError(138);l.stream_ops.allocate(l,g,b)},mmap:(l,g,b,A,H)=>{if(0!=(2&A)&&0==(2&H)&&2!=(2097155&l.flags))throw new M.ErrnoError(2);if(1==(2097155&l.flags))throw new M.ErrnoError(2);if(!l.stream_ops.mmap)throw new M.ErrnoError(43);return l.stream_ops.mmap(l,g,b,A,H)},msync:(l,g,b,A,H)=>l.stream_ops.msync?l.stream_ops.msync(l,g,b,A,H):0,munmap:l=>0,ioctl:(l,g,b)=>{if(!l.stream_ops.ioctl)throw new M.ErrnoError(59);return l.stream_ops.ioctl(l,g,b)},readFile:(l,g={})=>{if(g.flags=g.flags||0,g.encoding=g.encoding||"binary","utf8"!==g.encoding&&"binary"!==g.encoding)throw new Error('Invalid encoding type "'+g.encoding+'"');var b,A=M.open(l,g.flags),we=M.stat(l).size,De=new Uint8Array(we);return M.read(A,De,0,we,0),"utf8"===g.encoding?b=Ve(De,0):"binary"===g.encoding&&(b=De),M.close(A),b},writeFile:(l,g,b={})=>{b.flags=b.flags||577;var A=M.open(l,b.flags,b.mode);if("string"==typeof g){var H=new Uint8Array(K(g)+1),we=ke(g,H,0,H.length);M.write(A,H,0,we,void 0,b.canOwn)}else{if(!ArrayBuffer.isView(g))throw new Error("Unsupported data type");M.write(A,g,0,g.byteLength,void 0,b.canOwn)}M.close(A)},cwd:()=>M.currentPath,chdir:l=>{var g=M.lookupPath(l,{follow:!0});if(null===g.node)throw new M.ErrnoError(44);if(!M.isDir(g.node.mode))throw new M.ErrnoError(54);var b=M.nodePermissions(g.node,"x");if(b)throw new M.ErrnoError(b);M.currentPath=g.path},createDefaultDirectories:()=>{M.mkdir("/tmp"),M.mkdir("/home"),M.mkdir("/home/web_user")},createDefaultDevices:()=>{M.mkdir("/dev"),M.registerDevice(M.makedev(1,3),{read:()=>0,write:(g,b,A,H,we)=>H}),M.mkdev("/dev/null",M.makedev(1,3)),tr.register(M.makedev(5,0),tr.default_tty_ops),tr.register(M.makedev(6,0),tr.default_tty1_ops),M.mkdev("/dev/tty",M.makedev(5,0)),M.mkdev("/dev/tty1",M.makedev(6,0));var l=function Yn(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var l=new Uint8Array(1);return()=>(crypto.getRandomValues(l),l[0])}return()=>Qn("randomDevice")}();M.createDevice("/dev","random",l),M.createDevice("/dev","urandom",l),M.mkdir("/dev/shm"),M.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{M.mkdir("/proc");var l=M.mkdir("/proc/self");M.mkdir("/proc/self/fd"),M.mount({mount:()=>{var g=M.createNode(l,"fd",16895,73);return g.node_ops={lookup:(b,A)=>{var we=M.getStream(+A);if(!we)throw new M.ErrnoError(8);var De={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>we.path}};return De.parent=De,De}},g}},{},"/proc/self/fd")},createStandardStreams:()=>{d.stdin?M.createDevice("/dev","stdin",d.stdin):M.symlink("/dev/tty","/dev/stdin"),d.stdout?M.createDevice("/dev","stdout",null,d.stdout):M.symlink("/dev/tty","/dev/stdout"),d.stderr?M.createDevice("/dev","stderr",null,d.stderr):M.symlink("/dev/tty1","/dev/stderr"),M.open("/dev/stdin",0),M.open("/dev/stdout",1),M.open("/dev/stderr",1)},ensureErrnoError:()=>{M.ErrnoError||(M.ErrnoError=function(g,b){this.node=b,this.setErrno=function(A){this.errno=A},this.setErrno(g),this.message="FS error"},M.ErrnoError.prototype=new Error,M.ErrnoError.prototype.constructor=M.ErrnoError,[44].forEach(l=>{M.genericErrors[l]=new M.ErrnoError(l),M.genericErrors[l].stack="<generic error, no stack>"}))},staticInit:()=>{M.ensureErrnoError(),M.nameTable=new Array(4096),M.mount(kt,{},"/"),M.createDefaultDirectories(),M.createDefaultDevices(),M.createSpecialDirectories(),M.filesystems={MEMFS:kt}},init:(l,g,b)=>{M.init.initialized=!0,M.ensureErrnoError(),d.stdin=l||d.stdin,d.stdout=g||d.stdout,d.stderr=b||d.stderr,M.createStandardStreams()},quit:()=>{M.init.initialized=!1;for(var l=0;l<M.streams.length;l++){var g=M.streams[l];!g||M.close(g)}},getMode:(l,g)=>{var b=0;return l&&(b|=365),g&&(b|=146),b},findObject:(l,g)=>{var b=M.analyzePath(l,g);return b.exists?b.object:null},analyzePath:(l,g)=>{try{l=(b=M.lookupPath(l,{follow:!g})).path}catch{}var A={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var b=M.lookupPath(l,{parent:!0});A.parentExists=!0,A.parentPath=b.path,A.parentObject=b.node,A.name=Jt.basename(l),b=M.lookupPath(l,{follow:!g}),A.exists=!0,A.path=b.path,A.object=b.node,A.name=b.node.name,A.isRoot="/"===b.path}catch(H){A.error=H.errno}return A},createPath:(l,g,b,A)=>{l="string"==typeof l?l:M.getPath(l);for(var H=g.split("/").reverse();H.length;){var we=H.pop();if(we){var De=Jt.join2(l,we);try{M.mkdir(De)}catch{}l=De}}return De},createFile:(l,g,b,A,H)=>{var we=Jt.join2("string"==typeof l?l:M.getPath(l),g),De=M.getMode(A,H);return M.create(we,De)},createDataFile:(l,g,b,A,H,we)=>{var De=g;l&&(l="string"==typeof l?l:M.getPath(l),De=g?Jt.join2(l,g):l);var Ne=M.getMode(A,H),vt=M.create(De,Ne);if(b){if("string"==typeof b){for(var Qt=new Array(b.length),kn=0,Bn=b.length;kn<Bn;++kn)Qt[kn]=b.charCodeAt(kn);b=Qt}M.chmod(vt,146|Ne);var Pt=M.open(vt,577);M.write(Pt,b,0,b.length,0,we),M.close(Pt),M.chmod(vt,Ne)}return vt},createDevice:(l,g,b,A)=>{var H=Jt.join2("string"==typeof l?l:M.getPath(l),g),we=M.getMode(!!b,!!A);M.createDevice.major||(M.createDevice.major=64);var De=M.makedev(M.createDevice.major++,0);return M.registerDevice(De,{open:Ne=>{Ne.seekable=!1},close:Ne=>{A&&A.buffer&&A.buffer.length&&A(10)},read:(Ne,vt,Qt,kn,Bn)=>{for(var Pt=0,$t=0;$t<kn;$t++){var Kt;try{Kt=b()}catch{throw new M.ErrnoError(29)}if(void 0===Kt&&0===Pt)throw new M.ErrnoError(6);if(null==Kt)break;Pt++,vt[Qt+$t]=Kt}return Pt&&(Ne.node.timestamp=Date.now()),Pt},write:(Ne,vt,Qt,kn,Bn)=>{for(var Pt=0;Pt<kn;Pt++)try{A(vt[Qt+Pt])}catch{throw new M.ErrnoError(29)}return kn&&(Ne.node.timestamp=Date.now()),Pt}}),M.mkdev(H,we,De)},forceLoadFile:l=>{if(l.isDevice||l.isFolder||l.link||l.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!V)throw new Error("Cannot load without read() or XMLHttpRequest.");try{l.contents=Vt(V(l.url),!0),l.usedBytes=l.contents.length}catch{throw new M.ErrnoError(29)}},createLazyFile:(l,g,b,A,H)=>{function we(){this.lengthKnown=!1,this.chunks=[]}if(we.prototype.get=function($t){if(!($t>this.length-1||$t<0)){var Kt=$t%this.chunkSize;return this.getter($t/this.chunkSize|0)[Kt]}},we.prototype.setDataGetter=function($t){this.getter=$t},we.prototype.cacheLength=function(){var $t=new XMLHttpRequest;if($t.open("HEAD",b,!1),$t.send(null),!($t.status>=200&&$t.status<300||304===$t.status))throw new Error("Couldn't load "+b+". Status: "+$t.status);var Yr,Kt=Number($t.getResponseHeader("Content-length")),Di=(Yr=$t.getResponseHeader("Accept-Ranges"))&&"bytes"===Yr,Bo=(Yr=$t.getResponseHeader("Content-Encoding"))&&"gzip"===Yr,ht=1048576;Di||(ht=Kt);var uo=this;uo.setDataGetter(ur=>{var ti=ur*ht,Lr=(ur+1)*ht-1;if(Lr=Math.min(Lr,Kt-1),typeof uo.chunks[ur]>"u"&&(uo.chunks[ur]=((ur,ti)=>{if(ur>ti)throw new Error("invalid range ("+ur+", "+ti+") or no bytes requested!");if(ti>Kt-1)throw new Error("only "+Kt+" bytes available! programmer error!");var Lr=new XMLHttpRequest;if(Lr.open("GET",b,!1),Kt!==ht&&Lr.setRequestHeader("Range","bytes="+ur+"-"+ti),Lr.responseType="arraybuffer",Lr.overrideMimeType&&Lr.overrideMimeType("text/plain; charset=x-user-defined"),Lr.send(null),!(Lr.status>=200&&Lr.status<300||304===Lr.status))throw new Error("Couldn't load "+b+". Status: "+Lr.status);return void 0!==Lr.response?new Uint8Array(Lr.response||[]):Vt(Lr.responseText||"",!0)})(ti,Lr)),typeof uo.chunks[ur]>"u")throw new Error("doXHR failed!");return uo.chunks[ur]}),(Bo||!Kt)&&(ht=Kt=1,Kt=this.getter(0).length,ht=Kt,ge("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Kt,this._chunkSize=ht,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!q)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var De=new we;Object.defineProperties(De,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var Ne={isDevice:!1,contents:De}}else Ne={isDevice:!1,url:b};var vt=M.createFile(l,g,Ne,A,H);Ne.contents?vt.contents=Ne.contents:Ne.url&&(vt.contents=null,vt.url=Ne.url),Object.defineProperties(vt,{usedBytes:{get:function(){return this.contents.length}}});var Qt={};function Bn(Pt,$t,Kt,Yr,Di){var Bo=Pt.node.contents;if(Di>=Bo.length)return 0;var ht=Math.min(Bo.length-Di,Yr);if(Bo.slice)for(var nn=0;nn<ht;nn++)$t[Kt+nn]=Bo[Di+nn];else for(nn=0;nn<ht;nn++)$t[Kt+nn]=Bo.get(Di+nn);return ht}return Object.keys(vt.stream_ops).forEach(Pt=>{var $t=vt.stream_ops[Pt];Qt[Pt]=function(){return M.forceLoadFile(vt),$t.apply(null,arguments)}}),Qt.read=(Pt,$t,Kt,Yr,Di)=>(M.forceLoadFile(vt),Bn(Pt,$t,Kt,Yr,Di)),Qt.mmap=(Pt,$t,Kt,Yr,Di)=>{M.forceLoadFile(vt);var Bo=S();if(!Bo)throw new M.ErrnoError(48);return Bn(Pt,ze,Bo,$t,Kt),{ptr:Bo,allocated:!0}},vt.stream_ops=Qt,vt},createPreloadedFile:(l,g,b,A,H,we,De,Ne,vt,Qt)=>{var kn=g?lr.resolve(Jt.join2(l,g)):l;function Pt($t){function Kt(Yr){Qt&&Qt(),Ne||M.createDataFile(l,g,Yr,A,H,vt),we&&we(),ar()}Browser.handledByPreloadPlugin($t,kn,Kt,()=>{De&&De(),ar()})||Kt($t)}mo(),"string"==typeof b?function hr(l,g,b,A){var H=A?"":"al "+l;xe(l,we=>{be(we,'Loading data file "'+l+'" failed (no arrayBuffer).'),g(new Uint8Array(we)),H&&ar()},we=>{if(!b)throw'Loading data file "'+l+'" failed.';b()}),H&&mo()}(b,$t=>Pt($t),De):Pt(b)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(l,g,b)=>{g=g||(()=>{}),b=b||(()=>{});var A=M.indexedDB();try{var H=A.open(M.DB_NAME(),M.DB_VERSION)}catch(we){return b(we)}H.onupgradeneeded=()=>{ge("creating db"),H.result.createObjectStore(M.DB_STORE_NAME)},H.onsuccess=()=>{var De=H.result.transaction([M.DB_STORE_NAME],"readwrite"),Ne=De.objectStore(M.DB_STORE_NAME),vt=0,Qt=0,kn=l.length;function Bn(){0==Qt?g():b()}l.forEach(Pt=>{var $t=Ne.put(M.analyzePath(Pt).object.contents,Pt);$t.onsuccess=()=>{++vt+Qt==kn&&Bn()},$t.onerror=()=>{Qt++,vt+Qt==kn&&Bn()}}),De.onerror=b},H.onerror=b},loadFilesFromDB:(l,g,b)=>{g=g||(()=>{}),b=b||(()=>{});var A=M.indexedDB();try{var H=A.open(M.DB_NAME(),M.DB_VERSION)}catch(we){return b(we)}H.onupgradeneeded=b,H.onsuccess=()=>{var we=H.result;try{var De=we.transaction([M.DB_STORE_NAME],"readonly")}catch(Pt){return void b(Pt)}var Ne=De.objectStore(M.DB_STORE_NAME),vt=0,Qt=0,kn=l.length;function Bn(){0==Qt?g():b()}l.forEach(Pt=>{var $t=Ne.get(Pt);$t.onsuccess=()=>{M.analyzePath(Pt).exists&&M.unlink(Pt),M.createDataFile(Jt.dirname(Pt),Jt.basename(Pt),$t.result,!0,!0,!0),++vt+Qt==kn&&Bn()},$t.onerror=()=>{Qt++,vt+Qt==kn&&Bn()}}),De.onerror=b},H.onerror=b}},Pr={DEFAULT_POLLMASK:5,calculateAt:function(l,g,b){if(Jt.isAbs(g))return g;var A;if(A=-100===l?M.cwd():Pr.getStreamFromFD(l).path,0==g.length){if(!b)throw new M.ErrnoError(44);return A}return Jt.join2(A,g)},doStat:function(l,g,b){try{var A=l(g)}catch(H){if(H&&H.node&&Jt.normalize(g)!==Jt.normalize(M.getPath(H.node)))return-54;throw H}return L[b>>2]=A.dev,L[b+8>>2]=A.ino,L[b+12>>2]=A.mode,B[b+16>>2]=A.nlink,L[b+20>>2]=A.uid,L[b+24>>2]=A.gid,L[b+28>>2]=A.rdev,re=[A.size>>>0,(Qe=A.size,+Math.abs(Qe)>=1?Qe>0?(0|Math.min(+Math.floor(Qe/4294967296),4294967295))>>>0:~~+Math.ceil((Qe-+(~~Qe>>>0))/4294967296)>>>0:0)],L[b+40>>2]=re[0],L[b+44>>2]=re[1],L[b+48>>2]=4096,L[b+52>>2]=A.blocks,re=[Math.floor(A.atime.getTime()/1e3)>>>0,(Qe=Math.floor(A.atime.getTime()/1e3),+Math.abs(Qe)>=1?Qe>0?(0|Math.min(+Math.floor(Qe/4294967296),4294967295))>>>0:~~+Math.ceil((Qe-+(~~Qe>>>0))/4294967296)>>>0:0)],L[b+56>>2]=re[0],L[b+60>>2]=re[1],B[b+64>>2]=0,re=[Math.floor(A.mtime.getTime()/1e3)>>>0,(Qe=Math.floor(A.mtime.getTime()/1e3),+Math.abs(Qe)>=1?Qe>0?(0|Math.min(+Math.floor(Qe/4294967296),4294967295))>>>0:~~+Math.ceil((Qe-+(~~Qe>>>0))/4294967296)>>>0:0)],L[b+72>>2]=re[0],L[b+76>>2]=re[1],B[b+80>>2]=0,re=[Math.floor(A.ctime.getTime()/1e3)>>>0,(Qe=Math.floor(A.ctime.getTime()/1e3),+Math.abs(Qe)>=1?Qe>0?(0|Math.min(+Math.floor(Qe/4294967296),4294967295))>>>0:~~+Math.ceil((Qe-+(~~Qe>>>0))/4294967296)>>>0:0)],L[b+88>>2]=re[0],L[b+92>>2]=re[1],B[b+96>>2]=0,re=[A.ino>>>0,(Qe=A.ino,+Math.abs(Qe)>=1?Qe>0?(0|Math.min(+Math.floor(Qe/4294967296),4294967295))>>>0:~~+Math.ceil((Qe-+(~~Qe>>>0))/4294967296)>>>0:0)],L[b+104>>2]=re[0],L[b+108>>2]=re[1],0},doMsync:function(l,g,b,A,H){if(!M.isFile(g.node.mode))throw new M.ErrnoError(43);if(2&A)return 0;var we=at.slice(l,l+b);M.msync(g,we,H,b,A)},varargs:void 0,get:function(){return Pr.varargs+=4,L[Pr.varargs-4>>2]},getStr:function(l){return Oe(l)},getStreamFromFD:function(l){var g=M.getStream(l);if(!g)throw new M.ErrnoError(8);return g}};function Mo(l){return l%4==0&&(l%100!=0||l%400==0)}var zt=[0,31,60,91,121,152,182,213,244,274,305,335],eo=[0,31,59,90,120,151,181,212,243,273,304,334];function nr(l){return(Mo(l.getFullYear())?zt:eo)[l.getMonth()]+l.getDate()-1}function Wo(l){var g=K(l)+1,b=ft(g);return b&&ke(l,ze,b,g),b}var I=[];function Vr(l){try{return ue.grow(l-Ue.byteLength+65535>>>16),Te(ue.buffer),1}catch{}}var qo={};function Gn(){if(!Gn.strings){var g={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:j||"./this.program"};for(var b in qo)void 0===qo[b]?delete g[b]:g[b]=qo[b];var A=[];for(var b in g)A.push(b+"="+g[b]);Gn.strings=A}return Gn.strings}var le=[31,29,31,30,31,30,31,31,30,31,30,31],Se=[31,28,31,30,31,30,31,31,30,31,30,31];function Wt(l,g){l<128?g.push(l):g.push(l%128|128,l>>7)}var Rr=[];function mr(l){var g=Rr[l];return g||(l>=Rr.length&&(Rr.length=l+1),Rr[l]=g=et.get(l)),g}var Xo=void 0,bi=[];function Es(l,g){et.set(l,g),Rr[l]=et.get(l)}var Ds=function(l,g,b,A){l||(l=this),this.parent=l,this.mount=l.mount,this.mounted=null,this.id=M.nextInode++,this.name=g,this.mode=b,this.node_ops={},this.stream_ops={},this.rdev=A};Object.defineProperties(Ds.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(l){l?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(l){l?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return M.isDir(this.mode)}},isDevice:{get:function(){return M.isChrdev(this.mode)}}}),M.FSNode=Ds,M.staticInit();var ac,Fn={b:function cn(l,g,b,A){Qn("Assertion failed: "+Oe(l)+", at: "+[g?Oe(g):"unknown filename",b,A?Oe(A):"unknown function"])},i:function pn(l){const g=new Error(Oe(l));throw g.isAssert=!0,g},l:function so(l,g,b){try{var A=er(g,b);return isNaN(A)?-61:(M.ftruncate(l,A),0)}catch(H){if(typeof M>"u"||!(H instanceof M.ErrnoError))throw H;return-H.errno}},e:function Po(){return!0},f:function to(l,g){var b=new Date(1e3*function _r(l){return B[l>>2]+4294967296*L[l+4>>2]}(l));L[g>>2]=b.getSeconds(),L[g+4>>2]=b.getMinutes(),L[g+8>>2]=b.getHours(),L[g+12>>2]=b.getDate(),L[g+16>>2]=b.getMonth(),L[g+20>>2]=b.getFullYear()-1900,L[g+24>>2]=b.getDay();var A=0|nr(b);L[g+28>>2]=A,L[g+36>>2]=-60*b.getTimezoneOffset();var H=new Date(b.getFullYear(),0,1),we=new Date(b.getFullYear(),6,1).getTimezoneOffset(),De=H.getTimezoneOffset(),Ne=0|(we!=De&&b.getTimezoneOffset()==Math.min(De,we));L[g+32>>2]=Ne},g:function no(l){var g=new Date(L[l+20>>2]+1900,L[l+16>>2],L[l+12>>2],L[l+8>>2],L[l+4>>2],L[l>>2],0),b=L[l+32>>2],A=g.getTimezoneOffset(),H=new Date(g.getFullYear(),0,1),we=new Date(g.getFullYear(),6,1).getTimezoneOffset(),De=H.getTimezoneOffset(),Ne=Math.min(De,we);if(b<0)L[l+32>>2]=Number(we!=De&&Ne==A);else if(b>0!=(Ne==A)){var vt=Math.max(De,we),Qt=b>0?Ne:vt;g.setTime(g.getTime()+6e4*(Qt-A))}L[l+24>>2]=g.getDay();var kn=0|nr(g);return L[l+28>>2]=kn,L[l>>2]=g.getSeconds(),L[l+4>>2]=g.getMinutes(),L[l+8>>2]=g.getHours(),L[l+12>>2]=g.getDate(),L[l+16>>2]=g.getMonth(),L[l+20>>2]=g.getYear(),g.getTime()/1e3|0},h:function Xt(l,g,b){var A=(new Date).getFullYear(),H=new Date(A,0,1),we=new Date(A,6,1),De=H.getTimezoneOffset(),Ne=we.getTimezoneOffset(),vt=Math.max(De,Ne);function Qt(Kt){var Yr=Kt.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Yr?Yr[1]:"GMT"}B[l>>2]=60*vt,L[g>>2]=Number(De!=Ne);var kn=Qt(H),Bn=Qt(we),Pt=Wo(kn),$t=Wo(Bn);Ne<De?(B[b>>2]=Pt,B[b+4>>2]=$t):(B[b>>2]=$t,B[b+4>>2]=Pt)},a:function yo(){Qn("")},j:function Br(l,g,b){var A=function qr(l,g){var b;for(I.length=0,g>>=2;b=at[l++];)g+=105!=b&g,I.push(105==b?L[g]:pe[g++>>1]),++g;return I}(g,b);return Le[l].apply(null,A)},c:function ai(){return Date.now()},q:function Ro(l,g,b){at.copyWithin(l,g,g+b)},p:function Qi(l){var vt,g=at.length,b=2147483648;if((l>>>=0)>b)return!1;for(var H=1;H<=4;H*=2){var we=g*(1+.2/H);if(we=Math.min(we,l+100663296),Vr(Math.min(b,(vt=Math.max(l,we))+(65536-vt%65536)%65536)))return!0}return!1},n:function _i(l,g){var b=0;return Gn().forEach(function(A,H){var we=g+b;B[l+4*H>>2]=we,function Zo(l,g,b){for(var A=0;A<l.length;++A)ze[g++>>0]=l.charCodeAt(A);b||(ze[g>>0]=0)}(A,we),b+=A.length+1}),0},o:function Yo(l,g){var b=Gn();B[l>>2]=b.length;var A=0;return b.forEach(function(H){A+=H.length+1}),B[g>>2]=A,0},r:function Rn(l){try{var g=Pr.getStreamFromFD(l);return M.close(g),0}catch(b){if(typeof M>"u"||!(b instanceof M.ErrnoError))throw b;return b.errno}},d:function Nn(l,g,b,A){try{var we=function Ko(l,g,b,A){for(var H=0,we=0;we<b;we++){var De=B[g>>2],Ne=B[g+4>>2];g+=8;var vt=M.read(l,ze,De,Ne,A);if(vt<0)return-1;if(H+=vt,vt<Ne)break}return H}(Pr.getStreamFromFD(l),g,b);return B[A>>2]=we,0}catch(De){if(typeof M>"u"||!(De instanceof M.ErrnoError))throw De;return De.errno}},k:function wi(l,g,b,A,H){try{var we=er(g,b);if(isNaN(we))return 61;var De=Pr.getStreamFromFD(l);return M.llseek(De,we,A),re=[De.position>>>0,(Qe=De.position,+Math.abs(Qe)>=1?Qe>0?(0|Math.min(+Math.floor(Qe/4294967296),4294967295))>>>0:~~+Math.ceil((Qe-+(~~Qe>>>0))/4294967296)>>>0:0)],L[H>>2]=re[0],L[H+4>>2]=re[1],De.getdents&&0===we&&0===A&&(De.getdents=null),0}catch(Ne){if(typeof M>"u"||!(Ne instanceof M.ErrnoError))throw Ne;return Ne.errno}},s:function T(l,g,b,A){try{var we=function Ji(l,g,b,A){for(var H=0,we=0;we<b;we++){var De=B[g>>2],Ne=B[g+4>>2];g+=8;var vt=M.write(l,ze,De,Ne,A);if(vt<0)return-1;H+=vt}return H}(Pr.getStreamFromFD(l),g,b);return B[A>>2]=we,0}catch(De){if(typeof M>"u"||!(De instanceof M.ErrnoError))throw De;return De.errno}},m:function Pe(l,g,b,A,H){return function J(l,g,b,A){var H=L[A+40>>2],we={tm_sec:L[A>>2],tm_min:L[A+4>>2],tm_hour:L[A+8>>2],tm_mday:L[A+12>>2],tm_mon:L[A+16>>2],tm_year:L[A+20>>2],tm_wday:L[A+24>>2],tm_yday:L[A+28>>2],tm_isdst:L[A+32>>2],tm_gmtoff:L[A+36>>2],tm_zone:H?Oe(H):""},De=Oe(b),Ne={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var vt in Ne)De=De.replace(new RegExp(vt,"g"),Ne[vt]);var Qt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],kn=["January","February","March","April","May","June","July","August","September","October","November","December"];function Bn(ht,nn,uo){for(var ur="number"==typeof ht?ht.toString():ht||"";ur.length<nn;)ur=uo[0]+ur;return ur}function Pt(ht,nn){return Bn(ht,nn,"0")}function $t(ht,nn){function uo(ti){return ti<0?-1:ti>0?1:0}var ur;return 0===(ur=uo(ht.getFullYear()-nn.getFullYear()))&&0===(ur=uo(ht.getMonth()-nn.getMonth()))&&(ur=uo(ht.getDate()-nn.getDate())),ur}function Kt(ht){switch(ht.getDay()){case 0:return new Date(ht.getFullYear()-1,11,29);case 1:return ht;case 2:return new Date(ht.getFullYear(),0,3);case 3:return new Date(ht.getFullYear(),0,2);case 4:return new Date(ht.getFullYear(),0,1);case 5:return new Date(ht.getFullYear()-1,11,31);case 6:return new Date(ht.getFullYear()-1,11,30)}}function Yr(ht){var nn=function P(l,g){for(var b=new Date(l.getTime());g>0;){var A=Mo(b.getFullYear()),H=b.getMonth(),we=(A?le:Se)[H];if(!(g>we-b.getDate()))return b.setDate(b.getDate()+g),b;g-=we-b.getDate()+1,b.setDate(1),H<11?b.setMonth(H+1):(b.setMonth(0),b.setFullYear(b.getFullYear()+1))}return b}(new Date(ht.tm_year+1900,0,1),ht.tm_yday),uo=new Date(nn.getFullYear(),0,4),ur=new Date(nn.getFullYear()+1,0,4),ti=Kt(uo),Lr=Kt(ur);return $t(ti,nn)<=0?$t(Lr,nn)<=0?nn.getFullYear()+1:nn.getFullYear():nn.getFullYear()-1}var Di={"%a":function(ht){return Qt[ht.tm_wday].substring(0,3)},"%A":function(ht){return Qt[ht.tm_wday]},"%b":function(ht){return kn[ht.tm_mon].substring(0,3)},"%B":function(ht){return kn[ht.tm_mon]},"%C":function(ht){return Pt((ht.tm_year+1900)/100|0,2)},"%d":function(ht){return Pt(ht.tm_mday,2)},"%e":function(ht){return Bn(ht.tm_mday,2," ")},"%g":function(ht){return Yr(ht).toString().substring(2)},"%G":function(ht){return Yr(ht)},"%H":function(ht){return Pt(ht.tm_hour,2)},"%I":function(ht){var nn=ht.tm_hour;return 0==nn?nn=12:nn>12&&(nn-=12),Pt(nn,2)},"%j":function(ht){return Pt(ht.tm_mday+function N(l,g){for(var b=0,A=0;A<=g;b+=l[A++]);return b}(Mo(ht.tm_year+1900)?le:Se,ht.tm_mon-1),3)},"%m":function(ht){return Pt(ht.tm_mon+1,2)},"%M":function(ht){return Pt(ht.tm_min,2)},"%n":function(){return"\n"},"%p":function(ht){return ht.tm_hour>=0&&ht.tm_hour<12?"AM":"PM"},"%S":function(ht){return Pt(ht.tm_sec,2)},"%t":function(){return"\t"},"%u":function(ht){return ht.tm_wday||7},"%U":function(ht){return Pt(Math.floor((ht.tm_yday+7-ht.tm_wday)/7),2)},"%V":function(ht){var nn=Math.floor((ht.tm_yday+7-(ht.tm_wday+6)%7)/7);if((ht.tm_wday+371-ht.tm_yday-2)%7<=2&&nn++,nn){if(53==nn){var ur=(ht.tm_wday+371-ht.tm_yday)%7;4!=ur&&(3!=ur||!Mo(ht.tm_year))&&(nn=1)}}else{nn=52;var uo=(ht.tm_wday+7-ht.tm_yday-1)%7;(4==uo||5==uo&&Mo(ht.tm_year%400-1))&&nn++}return Pt(nn,2)},"%w":function(ht){return ht.tm_wday},"%W":function(ht){return Pt(Math.floor((ht.tm_yday+7-(ht.tm_wday+6)%7)/7),2)},"%y":function(ht){return(ht.tm_year+1900).toString().substring(2)},"%Y":function(ht){return ht.tm_year+1900},"%z":function(ht){var nn=ht.tm_gmtoff,uo=nn>=0;return nn=(nn=Math.abs(nn)/60)/60*100+nn%60,(uo?"+":"-")+String("0000"+nn).slice(-4)},"%Z":function(ht){return ht.tm_zone},"%%":function(){return"%"}};for(var vt in De=De.replace(/%%/g,"\0\0"),Di)De.includes(vt)&&(De=De.replace(new RegExp(vt,"g"),Di[vt](we)));var Bo=Vt(De=De.replace(/\0\0/g,"%"),!1);return Bo.length>g?0:(function Z(l,g){ze.set(l,g)}(Bo,l),Bo.length-1)}(l,g,b,A)}},ft=(function Ar(){var l={a:Fn};function g(De,Ne){d.asm=De.exports,Te((ue=d.asm.t).buffer),et=d.asm.hc,function Jr(l){Je.unshift(l)}(d.asm.u),ar()}function b(De){g(De.instance)}function A(De){return function vi(){return ce||!ye&&!q||"function"!=typeof fetch?Promise.resolve().then(function(){return Wr(Sn)}):fetch(Sn,{credentials:"same-origin"}).then(function(l){if(!l.ok)throw"failed to load wasm binary file at '"+Sn+"'";return l.arrayBuffer()}).catch(function(){return Wr(Sn)})}().then(function(Ne){return WebAssembly.instantiate(Ne,l)}).then(function(Ne){return Ne}).then(De,function(Ne){oe("failed to asynchronously prepare wasm: "+Ne),Qn(Ne)})}if(mo(),d.instantiateWasm)try{return d.instantiateWasm(l,g)}catch(De){oe("Module.instantiateWasm callback failed with error: "+De),ee(De)}(function H(){return ce||"function"!=typeof WebAssembly.instantiateStreaming||$r(Sn)||"function"!=typeof fetch?A(b):fetch(Sn,{credentials:"same-origin"}).then(function(De){return WebAssembly.instantiateStreaming(De,l).then(b,function(vt){return oe("wasm streaming compile failed: "+vt),oe("falling back to ArrayBuffer instantiation"),A(b)})})})().catch(ee)}(),d.___wasm_call_ctors=function(){return(d.___wasm_call_ctors=d.asm.u).apply(null,arguments)},d._free=function(){return(d._free=d.asm.v).apply(null,arguments)},d._malloc=function(){return(ft=d._malloc=d.asm.w).apply(null,arguments)}),Kn=(d._main=function(){return(d._main=d.asm.x).apply(null,arguments)},d._emscripten_bind_VoidPtr___destroy___0=function(){return(Kn=d._emscripten_bind_VoidPtr___destroy___0=d.asm.y).apply(null,arguments)}),Is=d._emscripten_bind_Cloudpilot_Cloudpilot_0=function(){return(Is=d._emscripten_bind_Cloudpilot_Cloudpilot_0=d.asm.z).apply(null,arguments)},Ra=d._emscripten_bind_Cloudpilot_Malloc_1=function(){return(Ra=d._emscripten_bind_Cloudpilot_Malloc_1=d.asm.A).apply(null,arguments)},Kl=d._emscripten_bind_Cloudpilot_Free_1=function(){return(Kl=d._emscripten_bind_Cloudpilot_Free_1=d.asm.B).apply(null,arguments)},Ms=d._emscripten_bind_Cloudpilot_Nullptr_0=function(){return(Ms=d._emscripten_bind_Cloudpilot_Nullptr_0=d.asm.C).apply(null,arguments)},es=d._emscripten_bind_Cloudpilot_InitializeSession_3=function(){return(es=d._emscripten_bind_Cloudpilot_InitializeSession_3=d.asm.D).apply(null,arguments)},ts=d._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=function(){return(ts=d._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=d.asm.E).apply(null,arguments)},ns=d._emscripten_bind_Cloudpilot_RunEmulation_1=function(){return(ns=d._emscripten_bind_Cloudpilot_RunEmulation_1=d.asm.F).apply(null,arguments)},Zr=d._emscripten_bind_Cloudpilot_SetClockFactor_1=function(){return(Zr=d._emscripten_bind_Cloudpilot_SetClockFactor_1=d.asm.G).apply(null,arguments)},kr=d._emscripten_bind_Cloudpilot_CopyFrame_0=function(){return(kr=d._emscripten_bind_Cloudpilot_CopyFrame_0=d.asm.H).apply(null,arguments)},Nt=d._emscripten_bind_Cloudpilot_IsScreenDirty_0=function(){return(Nt=d._emscripten_bind_Cloudpilot_IsScreenDirty_0=d.asm.I).apply(null,arguments)},Fo=d._emscripten_bind_Cloudpilot_MarkScreenClean_0=function(){return(Fo=d._emscripten_bind_Cloudpilot_MarkScreenClean_0=d.asm.J).apply(null,arguments)},Fa=d._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=function(){return(Fa=d._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=d.asm.K).apply(null,arguments)},Oo=d._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=function(){return(Oo=d._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=d.asm.L).apply(null,arguments)},Xs=d._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=function(){return(Xs=d._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=d.asm.M).apply(null,arguments)},fl=d._emscripten_bind_Cloudpilot_QueuePenMove_2=function(){return(fl=d._emscripten_bind_Cloudpilot_QueuePenMove_2=d.asm.N).apply(null,arguments)},An=d._emscripten_bind_Cloudpilot_QueuePenUp_0=function(){return(An=d._emscripten_bind_Cloudpilot_QueuePenUp_0=d.asm.O).apply(null,arguments)},Dn=d._emscripten_bind_Cloudpilot_QueueButtonDown_1=function(){return(Dn=d._emscripten_bind_Cloudpilot_QueueButtonDown_1=d.asm.P).apply(null,arguments)},vo=d._emscripten_bind_Cloudpilot_QueueButtonUp_1=function(){return(vo=d._emscripten_bind_Cloudpilot_QueueButtonUp_1=d.asm.Q).apply(null,arguments)},hn=d._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=function(){return(hn=d._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=d.asm.R).apply(null,arguments)},en=d._emscripten_bind_Cloudpilot_IsPowerOff_0=function(){return(en=d._emscripten_bind_Cloudpilot_IsPowerOff_0=d.asm.S).apply(null,arguments)},h=d._emscripten_bind_Cloudpilot_IsUIInitialized_0=function(){return(h=d._emscripten_bind_Cloudpilot_IsUIInitialized_0=d.asm.T).apply(null,arguments)},_=d._emscripten_bind_Cloudpilot_GetOSVersion_0=function(){return(_=d._emscripten_bind_Cloudpilot_GetOSVersion_0=d.asm.U).apply(null,arguments)},u=d._emscripten_bind_Cloudpilot_IsSetupComplete_0=function(){return(u=d._emscripten_bind_Cloudpilot_IsSetupComplete_0=d.asm.V).apply(null,arguments)},p=d._emscripten_bind_Cloudpilot_Reset_0=function(){return(p=d._emscripten_bind_Cloudpilot_Reset_0=d.asm.W).apply(null,arguments)},m=d._emscripten_bind_Cloudpilot_ResetNoExtensions_0=function(){return(m=d._emscripten_bind_Cloudpilot_ResetNoExtensions_0=d.asm.X).apply(null,arguments)},w=d._emscripten_bind_Cloudpilot_ResetHard_0=function(){return(w=d._emscripten_bind_Cloudpilot_ResetHard_0=d.asm.Y).apply(null,arguments)},E=d._emscripten_bind_Cloudpilot_InstallDb_2=function(){return(E=d._emscripten_bind_Cloudpilot_InstallDb_2=d.asm.Z).apply(null,arguments)},F=d._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=function(){return(F=d._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=d.asm._).apply(null,arguments)},U=d._emscripten_bind_Cloudpilot_GetMemoryPtr_0=function(){return(U=d._emscripten_bind_Cloudpilot_GetMemoryPtr_0=d.asm.$).apply(null,arguments)},ie=d._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=function(){return(ie=d._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=d.asm.aa).apply(null,arguments)},Ze=d._emscripten_bind_Cloudpilot_GetMemorySize_0=function(){return(Ze=d._emscripten_bind_Cloudpilot_GetMemorySize_0=d.asm.ba).apply(null,arguments)},yt=d._emscripten_bind_Cloudpilot_ImportMemoryImage_2=function(){return(yt=d._emscripten_bind_Cloudpilot_ImportMemoryImage_2=d.asm.ca).apply(null,arguments)},de=d._emscripten_bind_Cloudpilot_GetRomPtr_0=function(){return(de=d._emscripten_bind_Cloudpilot_GetRomPtr_0=d.asm.da).apply(null,arguments)},pt=d._emscripten_bind_Cloudpilot_GetRomSize_0=function(){return(pt=d._emscripten_bind_Cloudpilot_GetRomSize_0=d.asm.ea).apply(null,arguments)},dt=d._emscripten_bind_Cloudpilot_GetSavestatePtr_0=function(){return(dt=d._emscripten_bind_Cloudpilot_GetSavestatePtr_0=d.asm.fa).apply(null,arguments)},_t=d._emscripten_bind_Cloudpilot_GetSavestateSize_0=function(){return(_t=d._emscripten_bind_Cloudpilot_GetSavestateSize_0=d.asm.ga).apply(null,arguments)},sn=d._emscripten_bind_Cloudpilot_SaveState_0=function(){return(sn=d._emscripten_bind_Cloudpilot_SaveState_0=d.asm.ha).apply(null,arguments)},jt=d._emscripten_bind_Cloudpilot_LoadState_2=function(){return(jt=d._emscripten_bind_Cloudpilot_LoadState_2=d.asm.ia).apply(null,arguments)},nt=d._emscripten_bind_Cloudpilot_GetHotsyncName_0=function(){return(nt=d._emscripten_bind_Cloudpilot_GetHotsyncName_0=d.asm.ja).apply(null,arguments)},Mt=d._emscripten_bind_Cloudpilot_SetHotsyncName_1=function(){return(Mt=d._emscripten_bind_Cloudpilot_SetHotsyncName_1=d.asm.ka).apply(null,arguments)},Ee=d._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=function(){return(Ee=d._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=d.asm.la).apply(null,arguments)},lt=d._emscripten_bind_Cloudpilot_StartBackup_0=function(){return(lt=d._emscripten_bind_Cloudpilot_StartBackup_0=d.asm.ma).apply(null,arguments)},Yt=d._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=function(){return(Yt=d._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=d.asm.na).apply(null,arguments)},Ut=d._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=function(){return(Ut=d._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=d.asm.oa).apply(null,arguments)},cr=d._emscripten_bind_Cloudpilot_IsSuspended_0=function(){return(cr=d._emscripten_bind_Cloudpilot_IsSuspended_0=d.asm.pa).apply(null,arguments)},jn=d._emscripten_bind_Cloudpilot_GetSuspendContext_0=function(){return(jn=d._emscripten_bind_Cloudpilot_GetSuspendContext_0=d.asm.qa).apply(null,arguments)},ci=d._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=function(){return(ci=d._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=d.asm.ra).apply(null,arguments)},xt=d._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=function(){return(xt=d._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=d.asm.sa).apply(null,arguments)},Cn=d._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=function(){return(Cn=d._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=d.asm.ta).apply(null,arguments)},wr=d._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=function(){return(wr=d._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=d.asm.ua).apply(null,arguments)},Qo=d._emscripten_bind_Cloudpilot_LaunchAppByName_1=function(){return(Qo=d._emscripten_bind_Cloudpilot_LaunchAppByName_1=d.asm.va).apply(null,arguments)},ks=d._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=function(){return(ks=d._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=d.asm.wa).apply(null,arguments)},ro=d._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=function(){return(ro=d._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=d.asm.xa).apply(null,arguments)},Ts=d._emscripten_bind_Cloudpilot_ClearExternalStorage_0=function(){return(Ts=d._emscripten_bind_Cloudpilot_ClearExternalStorage_0=d.asm.ya).apply(null,arguments)},Tr=d._emscripten_bind_Cloudpilot_AllocateCard_2=function(){return(Tr=d._emscripten_bind_Cloudpilot_AllocateCard_2=d.asm.za).apply(null,arguments)},Oa=d._emscripten_bind_Cloudpilot_MountCard_1=function(){return(Oa=d._emscripten_bind_Cloudpilot_MountCard_1=d.asm.Aa).apply(null,arguments)},Qs=d._emscripten_bind_Cloudpilot_RemoveCard_1=function(){return(Qs=d._emscripten_bind_Cloudpilot_RemoveCard_1=d.asm.Ba).apply(null,arguments)},In=d._emscripten_bind_Cloudpilot_GetCardData_1=function(){return(In=d._emscripten_bind_Cloudpilot_GetCardData_1=d.asm.Ca).apply(null,arguments)},pl=d._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=function(){return(pl=d._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=d.asm.Da).apply(null,arguments)},Js=d._emscripten_bind_Cloudpilot_GetCardSize_1=function(){return(Js=d._emscripten_bind_Cloudpilot_GetCardSize_1=d.asm.Ea).apply(null,arguments)},Xl=d._emscripten_bind_Cloudpilot_RemountCards_0=function(){return(Xl=d._emscripten_bind_Cloudpilot_RemountCards_0=d.asm.Fa).apply(null,arguments)},xs=d._emscripten_bind_Cloudpilot_GetSupportLevel_1=function(){return(xs=d._emscripten_bind_Cloudpilot_GetSupportLevel_1=d.asm.Ga).apply(null,arguments)},_o=d._emscripten_bind_Cloudpilot_GetMountedKey_0=function(){return(_o=d._emscripten_bind_Cloudpilot_GetMountedKey_0=d.asm.Ha).apply(null,arguments)},Na=d._emscripten_bind_Cloudpilot___destroy___0=function(){return(Na=d._emscripten_bind_Cloudpilot___destroy___0=d.asm.Ia).apply(null,arguments)},ea=d._emscripten_bind_RomInfo_RomInfo_2=function(){return(ea=d._emscripten_bind_RomInfo_RomInfo_2=d.asm.Ja).apply(null,arguments)},Ci=d._emscripten_bind_RomInfo_IsValid_0=function(){return(Ci=d._emscripten_bind_RomInfo_IsValid_0=d.asm.Ka).apply(null,arguments)},ta=d._emscripten_bind_RomInfo_CardVersion_0=function(){return(ta=d._emscripten_bind_RomInfo_CardVersion_0=d.asm.La).apply(null,arguments)},cu=d._emscripten_bind_RomInfo_CardName_0=function(){return(cu=d._emscripten_bind_RomInfo_CardName_0=d.asm.Ma).apply(null,arguments)},fr=d._emscripten_bind_RomInfo_RomVersion_0=function(){return(fr=d._emscripten_bind_RomInfo_RomVersion_0=d.asm.Na).apply(null,arguments)},qd=d._emscripten_bind_RomInfo_RomVersionString_0=function(){return(qd=d._emscripten_bind_RomInfo_RomVersionString_0=d.asm.Oa).apply(null,arguments)},Zd=d._emscripten_bind_RomInfo_Supports_1=function(){return(Zd=d._emscripten_bind_RomInfo_Supports_1=d.asm.Pa).apply(null,arguments)},hl=d._emscripten_bind_RomInfo___destroy___0=function(){return(hl=d._emscripten_bind_RomInfo___destroy___0=d.asm.Qa).apply(null,arguments)},Ql=d._emscripten_bind_Frame_GetLineWidth_0=function(){return(Ql=d._emscripten_bind_Frame_GetLineWidth_0=d.asm.Ra).apply(null,arguments)},La=d._emscripten_bind_Frame_GetBpp_0=function(){return(La=d._emscripten_bind_Frame_GetBpp_0=d.asm.Sa).apply(null,arguments)},ml=d._emscripten_bind_Frame_GetLines_0=function(){return(ml=d._emscripten_bind_Frame_GetLines_0=d.asm.Ta).apply(null,arguments)},As=d._emscripten_bind_Frame_GetMargin_0=function(){return(As=d._emscripten_bind_Frame_GetMargin_0=d.asm.Ua).apply(null,arguments)},wo=d._emscripten_bind_Frame_GetBytesPerLine_0=function(){return(wo=d._emscripten_bind_Frame_GetBytesPerLine_0=d.asm.Va).apply(null,arguments)},Yd=d._emscripten_bind_Frame_GetFirstDirtyLine_0=function(){return(Yd=d._emscripten_bind_Frame_GetFirstDirtyLine_0=d.asm.Wa).apply(null,arguments)},No=d._emscripten_bind_Frame_GetLastDirtyLine_0=function(){return(No=d._emscripten_bind_Frame_GetLastDirtyLine_0=d.asm.Xa).apply(null,arguments)},Si=d._emscripten_bind_Frame_GetHasChanges_0=function(){return(Si=d._emscripten_bind_Frame_GetHasChanges_0=d.asm.Ya).apply(null,arguments)},Jl=d._emscripten_bind_Frame_GetBuffer_0=function(){return(Jl=d._emscripten_bind_Frame_GetBuffer_0=d.asm.Za).apply(null,arguments)},gl=d._emscripten_bind_Frame_GetBufferSize_0=function(){return(gl=d._emscripten_bind_Frame_GetBufferSize_0=d.asm._a).apply(null,arguments)},yl=d._emscripten_bind_Frame_GetScaleX_0=function(){return(yl=d._emscripten_bind_Frame_GetScaleX_0=d.asm.$a).apply(null,arguments)},Ei=d._emscripten_bind_Frame_GetScaleY_0=function(){return(Ei=d._emscripten_bind_Frame_GetScaleY_0=d.asm.ab).apply(null,arguments)},Kd=d._emscripten_bind_Frame___destroy___0=function(){return(Kd=d._emscripten_bind_Frame___destroy___0=d.asm.bb).apply(null,arguments)},Dh=d._emscripten_bind_DbBackup_Init_1=function(){return(Dh=d._emscripten_bind_DbBackup_Init_1=d.asm.cb).apply(null,arguments)},Xd=d._emscripten_bind_DbBackup_IsInProgress_0=function(){return(Xd=d._emscripten_bind_DbBackup_IsInProgress_0=d.asm.db).apply(null,arguments)},Qd=d._emscripten_bind_DbBackup_IsDone_0=function(){return(Qd=d._emscripten_bind_DbBackup_IsDone_0=d.asm.eb).apply(null,arguments)},Ih=d._emscripten_bind_DbBackup_GetCurrentDatabase_0=function(){return(Ih=d._emscripten_bind_DbBackup_GetCurrentDatabase_0=d.asm.fb).apply(null,arguments)},Mh=d._emscripten_bind_DbBackup_Save_0=function(){return(Mh=d._emscripten_bind_DbBackup_Save_0=d.asm.gb).apply(null,arguments)},kh=d._emscripten_bind_DbBackup_Skip_0=function(){return(kh=d._emscripten_bind_DbBackup_Skip_0=d.asm.hb).apply(null,arguments)},Th=d._emscripten_bind_DbBackup_GetArchivePtr_0=function(){return(Th=d._emscripten_bind_DbBackup_GetArchivePtr_0=d.asm.ib).apply(null,arguments)},xh=d._emscripten_bind_DbBackup_GetArchiveSize_0=function(){return(xh=d._emscripten_bind_DbBackup_GetArchiveSize_0=d.asm.jb).apply(null,arguments)},Ah=d._emscripten_bind_DbBackup___destroy___0=function(){return(Ah=d._emscripten_bind_DbBackup___destroy___0=d.asm.kb).apply(null,arguments)},Ph=d._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=function(){return(Ph=d._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=d.asm.lb).apply(null,arguments)},Rh=d._emscripten_bind_SuspendContextClipboardCopy_Resume_0=function(){return(Rh=d._emscripten_bind_SuspendContextClipboardCopy_Resume_0=d.asm.mb).apply(null,arguments)},Fh=d._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=function(){return(Fh=d._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=d.asm.nb).apply(null,arguments)},Oh=d._emscripten_bind_SuspendContextClipboardCopy___destroy___0=function(){return(Oh=d._emscripten_bind_SuspendContextClipboardCopy___destroy___0=d.asm.ob).apply(null,arguments)},Nh=d._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=function(){return(Nh=d._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=d.asm.pb).apply(null,arguments)},Lh=d._emscripten_bind_SuspendContextClipboardPaste_Resume_1=function(){return(Lh=d._emscripten_bind_SuspendContextClipboardPaste_Resume_1=d.asm.qb).apply(null,arguments)},$h=d._emscripten_bind_SuspendContextClipboardPaste___destroy___0=function(){return($h=d._emscripten_bind_SuspendContextClipboardPaste___destroy___0=d.asm.rb).apply(null,arguments)},Bh=d._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=function(){return(Bh=d._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=d.asm.sb).apply(null,arguments)},uu=d._emscripten_bind_SuspendContextNetworkConnect_Resume_1=function(){return(uu=d._emscripten_bind_SuspendContextNetworkConnect_Resume_1=d.asm.tb).apply(null,arguments)},ec=d._emscripten_bind_SuspendContextNetworkConnect___destroy___0=function(){return(ec=d._emscripten_bind_SuspendContextNetworkConnect___destroy___0=d.asm.ub).apply(null,arguments)},Vh=d._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=function(){return(Vh=d._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=d.asm.vb).apply(null,arguments)},Hh=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=function(){return(Hh=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=d.asm.wb).apply(null,arguments)},jh=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=function(){return(jh=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=d.asm.xb).apply(null,arguments)},Ps=d._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=function(){return(Ps=d._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=d.asm.yb).apply(null,arguments)},Jd=d._emscripten_bind_SuspendContextNetworkRpc___destroy___0=function(){return(Jd=d._emscripten_bind_SuspendContextNetworkRpc___destroy___0=d.asm.zb).apply(null,arguments)},bo=d._emscripten_bind_SuspendContext_GetKind_0=function(){return(bo=d._emscripten_bind_SuspendContext_GetKind_0=d.asm.Ab).apply(null,arguments)},du=d._emscripten_bind_SuspendContext_Cancel_0=function(){return(du=d._emscripten_bind_SuspendContext_Cancel_0=d.asm.Bb).apply(null,arguments)},ef=d._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=function(){return(ef=d._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=d.asm.Cb).apply(null,arguments)},tf=d._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=function(){return(tf=d._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=d.asm.Db).apply(null,arguments)},fu=d._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=function(){return(fu=d._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=d.asm.Eb).apply(null,arguments)},pu=d._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=function(){return(pu=d._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=d.asm.Fb).apply(null,arguments)},nf=d._emscripten_bind_SuspendContext___destroy___0=function(){return(nf=d._emscripten_bind_SuspendContext___destroy___0=d.asm.Gb).apply(null,arguments)},tc=d._emscripten_bind_ZipfileWalker_ZipfileWalker_2=function(){return(tc=d._emscripten_bind_ZipfileWalker_ZipfileWalker_2=d.asm.Hb).apply(null,arguments)},rf=d._emscripten_bind_ZipfileWalker_GetState_0=function(){return(rf=d._emscripten_bind_ZipfileWalker_GetState_0=d.asm.Ib).apply(null,arguments)},ui=d._emscripten_bind_ZipfileWalker_Next_0=function(){return(ui=d._emscripten_bind_ZipfileWalker_Next_0=d.asm.Jb).apply(null,arguments)},nc=d._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=function(){return(nc=d._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=d.asm.Kb).apply(null,arguments)},sf=d._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=function(){return(sf=d._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=d.asm.Lb).apply(null,arguments)},rc=d._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=function(){return(rc=d._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=d.asm.Mb).apply(null,arguments)},af=d._emscripten_bind_ZipfileWalker___destroy___0=function(){return(af=d._emscripten_bind_ZipfileWalker___destroy___0=d.asm.Nb).apply(null,arguments)},Uh=d._emscripten_bind_SessionImage_SessionImage_0=function(){return(Uh=d._emscripten_bind_SessionImage_SessionImage_0=d.asm.Ob).apply(null,arguments)},Hr=d._emscripten_bind_SessionImage_GetDeviceId_0=function(){return(Hr=d._emscripten_bind_SessionImage_GetDeviceId_0=d.asm.Pb).apply(null,arguments)},lf=d._emscripten_bind_SessionImage_SetDeviceId_1=function(){return(lf=d._emscripten_bind_SessionImage_SetDeviceId_1=d.asm.Qb).apply(null,arguments)},Gh=d._emscripten_bind_SessionImage_GetRomImage_0=function(){return(Gh=d._emscripten_bind_SessionImage_GetRomImage_0=d.asm.Rb).apply(null,arguments)},vl=d._emscripten_bind_SessionImage_GetRomImageSize_0=function(){return(vl=d._emscripten_bind_SessionImage_GetRomImageSize_0=d.asm.Sb).apply(null,arguments)},di=d._emscripten_bind_SessionImage_SetRomImage_2=function(){return(di=d._emscripten_bind_SessionImage_SetRomImage_2=d.asm.Tb).apply(null,arguments)},cf=d._emscripten_bind_SessionImage_GetMemoryImage_0=function(){return(cf=d._emscripten_bind_SessionImage_GetMemoryImage_0=d.asm.Ub).apply(null,arguments)},oc=d._emscripten_bind_SessionImage_GetMemoryImageSize_0=function(){return(oc=d._emscripten_bind_SessionImage_GetMemoryImageSize_0=d.asm.Vb).apply(null,arguments)},na=d._emscripten_bind_SessionImage_SetMemoryImage_2=function(){return(na=d._emscripten_bind_SessionImage_SetMemoryImage_2=d.asm.Wb).apply(null,arguments)},Jo=d._emscripten_bind_SessionImage_GetMetadata_0=function(){return(Jo=d._emscripten_bind_SessionImage_GetMetadata_0=d.asm.Xb).apply(null,arguments)},hu=d._emscripten_bind_SessionImage_GetMetadataSize_0=function(){return(hu=d._emscripten_bind_SessionImage_GetMetadataSize_0=d.asm.Yb).apply(null,arguments)},ic=d._emscripten_bind_SessionImage_SetMetadata_2=function(){return(ic=d._emscripten_bind_SessionImage_SetMetadata_2=d.asm.Zb).apply(null,arguments)},uf=d._emscripten_bind_SessionImage_GetSavestate_0=function(){return(uf=d._emscripten_bind_SessionImage_GetSavestate_0=d.asm._b).apply(null,arguments)},ds=d._emscripten_bind_SessionImage_GetSavestateSize_0=function(){return(ds=d._emscripten_bind_SessionImage_GetSavestateSize_0=d.asm.$b).apply(null,arguments)},mu=d._emscripten_bind_SessionImage_SetSavestate_2=function(){return(mu=d._emscripten_bind_SessionImage_SetSavestate_2=d.asm.ac).apply(null,arguments)},sc=d._emscripten_bind_SessionImage_GetVersion_0=function(){return(sc=d._emscripten_bind_SessionImage_GetVersion_0=d.asm.bc).apply(null,arguments)},gn=d._emscripten_bind_SessionImage_Serialize_0=function(){return(gn=d._emscripten_bind_SessionImage_Serialize_0=d.asm.cc).apply(null,arguments)},gu=d._emscripten_bind_SessionImage_GetSerializedImage_0=function(){return(gu=d._emscripten_bind_SessionImage_GetSerializedImage_0=d.asm.dc).apply(null,arguments)},zh=d._emscripten_bind_SessionImage_GetSerializedImageSize_0=function(){return(zh=d._emscripten_bind_SessionImage_GetSerializedImageSize_0=d.asm.ec).apply(null,arguments)},df=d._emscripten_bind_SessionImage_Deserialize_2=function(){return(df=d._emscripten_bind_SessionImage_Deserialize_2=d.asm.fc).apply(null,arguments)},ff=d._emscripten_bind_SessionImage___destroy___0=function(){return(ff=d._emscripten_bind_SessionImage___destroy___0=d.asm.gc).apply(null,arguments)};function it(l){var g=d._main;try{var H=g(0,0);return function Xe(l,g){he=l,function qe(l){he=l,function on(){return Ae}()||(d.onExit&&d.onExit(l),Ge=!0),G(l,new bn(l))}(l)}(H),H}catch(we){return function Ct(l){if(l instanceof bn||"unwind"==l)return he;G(1,l)}(we)}}function Ln(l){function g(){ac||(ac=!0,d.calledRun=!0,!Ge&&(function zr(){!d.noFSInit&&!M.init.initialized&&M.init(),M.ignorePermissions=!1,tr.init(),Ft(Je)}(),function Er(){Ft(At)}(),ne(d),d.onRuntimeInitialized&&d.onRuntimeInitialized(),dn&&it(),function Zn(){if(d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)l=d.postRun.shift(),Lt.unshift(l);var l;Ft(Lt)}()))}l=l||Y,Hn>0||(function se(){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)l=d.preRun.shift(),Ke.unshift(l);var l;Ft(Ke)}(),Hn>0)||(d.setStatus?(d.setStatus("Running..."),setTimeout(function(){setTimeout(function(){d.setStatus("")},1),g()},1)):g())}if(d.___original_main=function(){return(d.___original_main=d.asm.ic).apply(null,arguments)},d.___start_em_js=242387,d.___stop_em_js=242584,d.UTF8ToString=Oe,d.addFunction=function Ta(l,g){if(Xo||(Xo=new WeakMap,function Ri(l,g){if(Xo)for(var b=l;b<l+g;b++){var A=mr(b);A&&Xo.set(A,b)}}(0,et.length)),Xo.has(l))return Xo.get(l);var b=function ka(){if(bi.length)return bi.pop();try{et.grow(1)}catch(l){throw l instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":l}return et.length-1}();try{Es(b,l)}catch(H){if(!(H instanceof TypeError))throw H;Es(b,function lo(l,g){if("function"==typeof WebAssembly.Function)return new WebAssembly.Function(function Zt(l){for(var g={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},b={parameters:[],results:"v"==l[0]?[]:[g[l[0]]]},A=1;A<l.length;++A)b.parameters.push(g[l[A]]),"j"===l[A]&&b.parameters.push("i32");return b}(g),l);var b=[1];!function rr(l,g){var b=l.slice(0,1),A=l.slice(1),H={i:127,p:127,j:126,f:125,d:124};g.push(96),Wt(A.length,g);for(var we=0;we<A.length;++we)g.push(H[A[we]]);"v"==b?g.push(0):g.push(1,H[b])}(g,b);var A=[0,97,115,109,1,0,0,0,1];Wt(b.length,A),A.push.apply(A,b),A.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var H=new WebAssembly.Module(new Uint8Array(A));return new WebAssembly.Instance(H,{e:{f:l}}).exports.f}(l,g))}return Xo.set(l,b),b},vr=function l(){ac||Ln(),ac||(vr=l)},d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();var dn=!0;function Ot(){}function br(l){return(l||Ot).__cache__}function zn(l,g){var b=br(g),A=b[l];return A||((A=Object.create((g||Ot).prototype)).ptr=l,b[l]=A)}d.noInitialRun&&(dn=!1),Ln(),(Ot.prototype=Object.create(Ot.prototype)).constructor=Ot,Ot.prototype.__class__=Ot,Ot.__cache__={},d.WrapperObject=Ot,d.getCache=br,d.wrapPointer=zn,d.castObject=function _l(l,g){return zn(l.ptr,g)},d.NULL=zn(0),d.destroy=function rs(l){if(!l.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";l.__destroy__(),delete br(l.__class__)[l.ptr]},d.compare=function yu(l,g){return l.ptr===g.ptr},d.getPointer=function vu(l){return l.ptr},d.getClass=function P_(l){return l.__class__};var Mn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(Mn.needed){for(var l=0;l<Mn.temps.length;l++)d._free(Mn.temps[l]);Mn.temps.length=0,d._free(Mn.buffer),Mn.buffer=0,Mn.size+=Mn.needed,Mn.needed=0}Mn.buffer||(Mn.size+=128,Mn.buffer=d._malloc(Mn.size),be(Mn.buffer)),Mn.pos=0},alloc:function(l,g){be(Mn.buffer);var H,A=l.length*g.BYTES_PER_ELEMENT;return Mn.pos+(A=A+7&-8)>=Mn.size?(be(A>0),Mn.needed+=A,H=d._malloc(A),Mn.temps.push(H)):(H=Mn.buffer+Mn.pos,Mn.pos+=A),H},copy:function(l,g,b){switch(b>>>=0,g.BYTES_PER_ELEMENT){case 2:b>>>=1;break;case 4:b>>>=2;break;case 8:b>>>=3}for(var H=0;H<l.length;H++)g[b+H]=l[H]}};function Lo(l){if("string"==typeof l){var g=Vt(l),b=Mn.alloc(g,ze);return Mn.copy(g,ze,b),b}return l}function or(){throw"cannot construct a VoidPtr, no constructor in IDL"}function $e(){this.ptr=Is(),br($e)[this.ptr]=this}function Jn(l,g){l&&"object"==typeof l&&(l=l.ptr),g&&"object"==typeof g&&(g=g.ptr),this.ptr=ea(l,g),br(Jn)[this.ptr]=this}function $n(){throw"cannot construct a Frame, no constructor in IDL"}function Xn(){throw"cannot construct a DbBackup, no constructor in IDL"}function Dr(){throw"cannot construct a SuspendContextClipboardCopy, no constructor in IDL"}function ei(){throw"cannot construct a SuspendContextClipboardPaste, no constructor in IDL"}function $o(){throw"cannot construct a SuspendContextNetworkConnect, no constructor in IDL"}function co(){throw"cannot construct a SuspendContextNetworkRpc, no constructor in IDL"}function Or(){throw"cannot construct a SuspendContext, no constructor in IDL"}function Nr(l,g){l&&"object"==typeof l&&(l=l.ptr),g&&"object"==typeof g&&(g=g.ptr),this.ptr=tc(l,g),br(Nr)[this.ptr]=this}function tn(){this.ptr=Uh(),br(tn)[this.ptr]=this}return(or.prototype=Object.create(Ot.prototype)).constructor=or,or.prototype.__class__=or,or.__cache__={},d.VoidPtr=or,or.prototype.__destroy__=or.prototype.__destroy__=function(){Kn(this.ptr)},($e.prototype=Object.create(Ot.prototype)).constructor=$e,$e.prototype.__class__=$e,$e.__cache__={},d.Cloudpilot=$e,$e.prototype.Malloc=$e.prototype.Malloc=function(l){return l&&"object"==typeof l&&(l=l.ptr),zn(Ra(this.ptr,l),or)},$e.prototype.Free=$e.prototype.Free=function(l){l&&"object"==typeof l&&(l=l.ptr),Kl(this.ptr,l)},$e.prototype.Nullptr=$e.prototype.Nullptr=function(){return zn(Ms(this.ptr),or)},$e.prototype.InitializeSession=$e.prototype.InitializeSession=function(l,g,b){var A=this.ptr;return Mn.prepare(),l&&"object"==typeof l&&(l=l.ptr),g&&"object"==typeof g&&(g=g.ptr),b=b&&"object"==typeof b?b.ptr:Lo(b),!!es(A,l,g,b)},$e.prototype.GetCyclesPerSecond=$e.prototype.GetCyclesPerSecond=function(){return ts(this.ptr)},$e.prototype.RunEmulation=$e.prototype.RunEmulation=function(l){return l&&"object"==typeof l&&(l=l.ptr),ns(this.ptr,l)},$e.prototype.SetClockFactor=$e.prototype.SetClockFactor=function(l){l&&"object"==typeof l&&(l=l.ptr),Zr(this.ptr,l)},$e.prototype.CopyFrame=$e.prototype.CopyFrame=function(){return zn(kr(this.ptr),$n)},$e.prototype.IsScreenDirty=$e.prototype.IsScreenDirty=function(){return!!Nt(this.ptr)},$e.prototype.MarkScreenClean=$e.prototype.MarkScreenClean=function(){Fo(this.ptr)},$e.prototype.MinMemoryForDevice=$e.prototype.MinMemoryForDevice=function(l){var g=this.ptr;return Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Lo(l),Fa(g,l)},$e.prototype.FramebufferSizeForDevice=$e.prototype.FramebufferSizeForDevice=function(l){var g=this.ptr;return Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Lo(l),Oo(g,l)},$e.prototype.TotalMemoryForDevice=$e.prototype.TotalMemoryForDevice=function(l){var g=this.ptr;return Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Lo(l),Xs(g,l)},$e.prototype.QueuePenMove=$e.prototype.QueuePenMove=function(l,g){l&&"object"==typeof l&&(l=l.ptr),g&&"object"==typeof g&&(g=g.ptr),fl(this.ptr,l,g)},$e.prototype.QueuePenUp=$e.prototype.QueuePenUp=function(){An(this.ptr)},$e.prototype.QueueButtonDown=$e.prototype.QueueButtonDown=function(l){l&&"object"==typeof l&&(l=l.ptr),Dn(this.ptr,l)},$e.prototype.QueueButtonUp=$e.prototype.QueueButtonUp=function(l){l&&"object"==typeof l&&(l=l.ptr),vo(this.ptr,l)},$e.prototype.QueueKeyboardEvent=$e.prototype.QueueKeyboardEvent=function(l,g){l&&"object"==typeof l&&(l=l.ptr),g&&"object"==typeof g&&(g=g.ptr),hn(this.ptr,l,g)},$e.prototype.IsPowerOff=$e.prototype.IsPowerOff=function(){return!!en(this.ptr)},$e.prototype.IsUIInitialized=$e.prototype.IsUIInitialized=function(){return!!h(this.ptr)},$e.prototype.GetOSVersion=$e.prototype.GetOSVersion=function(){return _(this.ptr)},$e.prototype.IsSetupComplete=$e.prototype.IsSetupComplete=function(){return!!u(this.ptr)},$e.prototype.Reset=$e.prototype.Reset=function(){p(this.ptr)},$e.prototype.ResetNoExtensions=$e.prototype.ResetNoExtensions=function(){m(this.ptr)},$e.prototype.ResetHard=$e.prototype.ResetHard=function(){w(this.ptr)},$e.prototype.InstallDb=$e.prototype.InstallDb=function(l,g){return l&&"object"==typeof l&&(l=l.ptr),g&&"object"==typeof g&&(g=g.ptr),E(this.ptr,l,g)},$e.prototype.GetPalette2bitMapping=$e.prototype.GetPalette2bitMapping=function(){return F(this.ptr)},$e.prototype.GetMemoryPtr=$e.prototype.GetMemoryPtr=function(){return zn(U(this.ptr),or)},$e.prototype.GetDirtyPagesPtr=$e.prototype.GetDirtyPagesPtr=function(){return zn(ie(this.ptr),or)},$e.prototype.GetMemorySize=$e.prototype.GetMemorySize=function(){return Ze(this.ptr)},$e.prototype.ImportMemoryImage=$e.prototype.ImportMemoryImage=function(l,g){return l&&"object"==typeof l&&(l=l.ptr),g&&"object"==typeof g&&(g=g.ptr),!!yt(this.ptr,l,g)},$e.prototype.GetRomPtr=$e.prototype.GetRomPtr=function(){return zn(de(this.ptr),or)},$e.prototype.GetRomSize=$e.prototype.GetRomSize=function(){return pt(this.ptr)},$e.prototype.GetSavestatePtr=$e.prototype.GetSavestatePtr=function(){return zn(dt(this.ptr),or)},$e.prototype.GetSavestateSize=$e.prototype.GetSavestateSize=function(){return _t(this.ptr)},$e.prototype.SaveState=$e.prototype.SaveState=function(){return!!sn(this.ptr)},$e.prototype.LoadState=$e.prototype.LoadState=function(l,g){return l&&"object"==typeof l&&(l=l.ptr),g&&"object"==typeof g&&(g=g.ptr),!!jt(this.ptr,l,g)},$e.prototype.GetHotsyncName=$e.prototype.GetHotsyncName=function(){return Oe(nt(this.ptr))},$e.prototype.SetHotsyncName=$e.prototype.SetHotsyncName=function(l){var g=this.ptr;Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Lo(l),Mt(g,l)},$e.prototype.RegisterPwmHandler=$e.prototype.RegisterPwmHandler=function(l){l&&"object"==typeof l&&(l=l.ptr),Ee(this.ptr,l)},$e.prototype.StartBackup=$e.prototype.StartBackup=function(){return zn(lt(this.ptr),Xn)},$e.prototype.SetClipboardIntegration=$e.prototype.SetClipboardIntegration=function(l){l&&"object"==typeof l&&(l=l.ptr),Yt(this.ptr,l)},$e.prototype.GetClipboardIntegration=$e.prototype.GetClipboardIntegration=function(){return!!Ut(this.ptr)},$e.prototype.IsSuspended=$e.prototype.IsSuspended=function(){return!!cr(this.ptr)},$e.prototype.GetSuspendContext=$e.prototype.GetSuspendContext=function(){return zn(jn(this.ptr),Or)},$e.prototype.SetNetworkRedirection=$e.prototype.SetNetworkRedirection=function(l){l&&"object"==typeof l&&(l=l.ptr),ci(this.ptr,l)},$e.prototype.GetNetworkRedirection=$e.prototype.GetNetworkRedirection=function(){return!!xt(this.ptr)},$e.prototype.RegisterProxyDisconnectHandler=$e.prototype.RegisterProxyDisconnectHandler=function(l){l&&"object"==typeof l&&(l=l.ptr),Cn(this.ptr,l)},$e.prototype.SetHotsyncNameManagement=$e.prototype.SetHotsyncNameManagement=function(l){l&&"object"==typeof l&&(l=l.ptr),wr(this.ptr,l)},$e.prototype.LaunchAppByName=$e.prototype.LaunchAppByName=function(l){var g=this.ptr;return Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Lo(l),!!Qo(g,l)},$e.prototype.LaunchAppByDbHeader=$e.prototype.LaunchAppByDbHeader=function(l,g){return l&&"object"==typeof l&&(l=l.ptr),g&&"object"==typeof g&&(g=g.ptr),!!ks(this.ptr,l,g)},$e.prototype.DeviceSupportsCardSize=$e.prototype.DeviceSupportsCardSize=function(l){return l&&"object"==typeof l&&(l=l.ptr),!!ro(this.ptr,l)},$e.prototype.ClearExternalStorage=$e.prototype.ClearExternalStorage=function(){Ts(this.ptr)},$e.prototype.AllocateCard=$e.prototype.AllocateCard=function(l,g){var b=this.ptr;return Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Lo(l),g&&"object"==typeof g&&(g=g.ptr),!!Tr(b,l,g)},$e.prototype.MountCard=$e.prototype.MountCard=function(l){var g=this.ptr;return Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Lo(l),!!Oa(g,l)},$e.prototype.RemoveCard=$e.prototype.RemoveCard=function(l){var g=this.ptr;return Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Lo(l),!!Qs(g,l)},$e.prototype.GetCardData=$e.prototype.GetCardData=function(l){var g=this.ptr;return Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Lo(l),zn(In(g,l),or)},$e.prototype.GetCardDirtyPages=$e.prototype.GetCardDirtyPages=function(l){var g=this.ptr;return Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Lo(l),zn(pl(g,l),or)},$e.prototype.GetCardSize=$e.prototype.GetCardSize=function(l){var g=this.ptr;return Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Lo(l),Js(g,l)},$e.prototype.RemountCards=$e.prototype.RemountCards=function(){Xl(this.ptr)},$e.prototype.GetSupportLevel=$e.prototype.GetSupportLevel=function(l){return l&&"object"==typeof l&&(l=l.ptr),xs(this.ptr,l)},$e.prototype.GetMountedKey=$e.prototype.GetMountedKey=function(){return Oe(_o(this.ptr))},$e.prototype.__destroy__=$e.prototype.__destroy__=function(){Na(this.ptr)},(Jn.prototype=Object.create(Ot.prototype)).constructor=Jn,Jn.prototype.__class__=Jn,Jn.__cache__={},d.RomInfo=Jn,Jn.prototype.IsValid=Jn.prototype.IsValid=function(){return!!Ci(this.ptr)},Jn.prototype.CardVersion=Jn.prototype.CardVersion=function(){return ta(this.ptr)},Jn.prototype.CardName=Jn.prototype.CardName=function(){return Oe(cu(this.ptr))},Jn.prototype.RomVersion=Jn.prototype.RomVersion=function(){return fr(this.ptr)},Jn.prototype.RomVersionString=Jn.prototype.RomVersionString=function(){return Oe(qd(this.ptr))},Jn.prototype.Supports=Jn.prototype.Supports=function(l){var g=this.ptr;return Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Lo(l),!!Zd(g,l)},Jn.prototype.__destroy__=Jn.prototype.__destroy__=function(){hl(this.ptr)},($n.prototype=Object.create(Ot.prototype)).constructor=$n,$n.prototype.__class__=$n,$n.__cache__={},d.Frame=$n,$n.prototype.GetLineWidth=$n.prototype.GetLineWidth=function(){return Ql(this.ptr)},$n.prototype.GetBpp=$n.prototype.GetBpp=function(){return La(this.ptr)},$n.prototype.GetLines=$n.prototype.GetLines=function(){return ml(this.ptr)},$n.prototype.GetMargin=$n.prototype.GetMargin=function(){return As(this.ptr)},$n.prototype.GetBytesPerLine=$n.prototype.GetBytesPerLine=function(){return wo(this.ptr)},$n.prototype.GetFirstDirtyLine=$n.prototype.GetFirstDirtyLine=function(){return Yd(this.ptr)},$n.prototype.GetLastDirtyLine=$n.prototype.GetLastDirtyLine=function(){return No(this.ptr)},$n.prototype.GetHasChanges=$n.prototype.GetHasChanges=function(){return!!Si(this.ptr)},$n.prototype.GetBuffer=$n.prototype.GetBuffer=function(){return zn(Jl(this.ptr),or)},$n.prototype.GetBufferSize=$n.prototype.GetBufferSize=function(){return gl(this.ptr)},$n.prototype.GetScaleX=$n.prototype.GetScaleX=function(){return yl(this.ptr)},$n.prototype.GetScaleY=$n.prototype.GetScaleY=function(){return Ei(this.ptr)},$n.prototype.__destroy__=$n.prototype.__destroy__=function(){Kd(this.ptr)},(Xn.prototype=Object.create(Ot.prototype)).constructor=Xn,Xn.prototype.__class__=Xn,Xn.__cache__={},d.DbBackup=Xn,Xn.prototype.Init=Xn.prototype.Init=function(l){return l&&"object"==typeof l&&(l=l.ptr),!!Dh(this.ptr,l)},Xn.prototype.IsInProgress=Xn.prototype.IsInProgress=function(){return!!Xd(this.ptr)},Xn.prototype.IsDone=Xn.prototype.IsDone=function(){return!!Qd(this.ptr)},Xn.prototype.GetCurrentDatabase=Xn.prototype.GetCurrentDatabase=function(){return Oe(Ih(this.ptr))},Xn.prototype.Save=Xn.prototype.Save=function(){return!!Mh(this.ptr)},Xn.prototype.Skip=Xn.prototype.Skip=function(){kh(this.ptr)},Xn.prototype.GetArchivePtr=Xn.prototype.GetArchivePtr=function(){return zn(Th(this.ptr),or)},Xn.prototype.GetArchiveSize=Xn.prototype.GetArchiveSize=function(){return xh(this.ptr)},Xn.prototype.__destroy__=Xn.prototype.__destroy__=function(){Ah(this.ptr)},(Dr.prototype=Object.create(Ot.prototype)).constructor=Dr,Dr.prototype.__class__=Dr,Dr.__cache__={},d.SuspendContextClipboardCopy=Dr,Dr.prototype.Cancel=Dr.prototype.Cancel=function(){Ph(this.ptr)},Dr.prototype.Resume=Dr.prototype.Resume=function(){Rh(this.ptr)},Dr.prototype.GetClipboardContent=Dr.prototype.GetClipboardContent=function(){return Oe(Fh(this.ptr))},Dr.prototype.__destroy__=Dr.prototype.__destroy__=function(){Oh(this.ptr)},(ei.prototype=Object.create(Ot.prototype)).constructor=ei,ei.prototype.__class__=ei,ei.__cache__={},d.SuspendContextClipboardPaste=ei,ei.prototype.Cancel=ei.prototype.Cancel=function(){Nh(this.ptr)},ei.prototype.Resume=ei.prototype.Resume=function(l){var g=this.ptr;Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Lo(l),Lh(g,l)},ei.prototype.__destroy__=ei.prototype.__destroy__=function(){$h(this.ptr)},($o.prototype=Object.create(Ot.prototype)).constructor=$o,$o.prototype.__class__=$o,$o.__cache__={},d.SuspendContextNetworkConnect=$o,$o.prototype.Cancel=$o.prototype.Cancel=function(){Bh(this.ptr)},$o.prototype.Resume=$o.prototype.Resume=function(l){var g=this.ptr;Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Lo(l),uu(g,l)},$o.prototype.__destroy__=$o.prototype.__destroy__=function(){ec(this.ptr)},(co.prototype=Object.create(Ot.prototype)).constructor=co,co.prototype.__class__=co,co.__cache__={},d.SuspendContextNetworkRpc=co,co.prototype.Cancel=co.prototype.Cancel=function(){Vh(this.ptr)},co.prototype.GetRequestSize=co.prototype.GetRequestSize=function(){return Hh(this.ptr)},co.prototype.GetRequestData=co.prototype.GetRequestData=function(){return zn(jh(this.ptr),or)},co.prototype.ReceiveResponse=co.prototype.ReceiveResponse=function(l,g){l&&"object"==typeof l&&(l=l.ptr),g&&"object"==typeof g&&(g=g.ptr),Ps(this.ptr,l,g)},co.prototype.__destroy__=co.prototype.__destroy__=function(){Jd(this.ptr)},(Or.prototype=Object.create(Ot.prototype)).constructor=Or,Or.prototype.__class__=Or,Or.__cache__={},d.SuspendContext=Or,Or.prototype.GetKind=Or.prototype.GetKind=function(){return bo(this.ptr)},Or.prototype.Cancel=Or.prototype.Cancel=function(){du(this.ptr)},Or.prototype.AsContextClipboardCopy=Or.prototype.AsContextClipboardCopy=function(){return zn(ef(this.ptr),Dr)},Or.prototype.AsContextClipboardPaste=Or.prototype.AsContextClipboardPaste=function(){return zn(tf(this.ptr),ei)},Or.prototype.AsContextNetworkConnect=Or.prototype.AsContextNetworkConnect=function(){return zn(fu(this.ptr),$o)},Or.prototype.AsContextNetworkRpc=Or.prototype.AsContextNetworkRpc=function(){return zn(pu(this.ptr),co)},Or.prototype.__destroy__=Or.prototype.__destroy__=function(){nf(this.ptr)},(Nr.prototype=Object.create(Ot.prototype)).constructor=Nr,Nr.prototype.__class__=Nr,Nr.__cache__={},d.ZipfileWalker=Nr,Nr.prototype.GetState=Nr.prototype.GetState=function(){return rf(this.ptr)},Nr.prototype.Next=Nr.prototype.Next=function(){return ui(this.ptr)},Nr.prototype.GetCurrentEntrySize=Nr.prototype.GetCurrentEntrySize=function(){return nc(this.ptr)},Nr.prototype.GetCurrentEntryName=Nr.prototype.GetCurrentEntryName=function(){return Oe(sf(this.ptr))},Nr.prototype.GetCurrentEntryContent=Nr.prototype.GetCurrentEntryContent=function(){return zn(rc(this.ptr),or)},Nr.prototype.__destroy__=Nr.prototype.__destroy__=function(){af(this.ptr)},(tn.prototype=Object.create(Ot.prototype)).constructor=tn,tn.prototype.__class__=tn,tn.__cache__={},d.SessionImage=tn,tn.prototype.GetDeviceId=tn.prototype.GetDeviceId=function(){return Oe(Hr(this.ptr))},tn.prototype.SetDeviceId=tn.prototype.SetDeviceId=function(l){var g=this.ptr;return Mn.prepare(),l=l&&"object"==typeof l?l.ptr:Lo(l),zn(lf(g,l),tn)},tn.prototype.GetRomImage=tn.prototype.GetRomImage=function(){return zn(Gh(this.ptr),or)},tn.prototype.GetRomImageSize=tn.prototype.GetRomImageSize=function(){return vl(this.ptr)},tn.prototype.SetRomImage=tn.prototype.SetRomImage=function(l,g){return l&&"object"==typeof l&&(l=l.ptr),g&&"object"==typeof g&&(g=g.ptr),zn(di(this.ptr,l,g),tn)},tn.prototype.GetMemoryImage=tn.prototype.GetMemoryImage=function(){return zn(cf(this.ptr),or)},tn.prototype.GetMemoryImageSize=tn.prototype.GetMemoryImageSize=function(){return oc(this.ptr)},tn.prototype.SetMemoryImage=tn.prototype.SetMemoryImage=function(l,g){return l&&"object"==typeof l&&(l=l.ptr),g&&"object"==typeof g&&(g=g.ptr),zn(na(this.ptr,l,g),tn)},tn.prototype.GetMetadata=tn.prototype.GetMetadata=function(){return zn(Jo(this.ptr),or)},tn.prototype.GetMetadataSize=tn.prototype.GetMetadataSize=function(){return hu(this.ptr)},tn.prototype.SetMetadata=tn.prototype.SetMetadata=function(l,g){return l&&"object"==typeof l&&(l=l.ptr),g&&"object"==typeof g&&(g=g.ptr),zn(ic(this.ptr,l,g),tn)},tn.prototype.GetSavestate=tn.prototype.GetSavestate=function(){return zn(uf(this.ptr),or)},tn.prototype.GetSavestateSize=tn.prototype.GetSavestateSize=function(){return ds(this.ptr)},tn.prototype.SetSavestate=tn.prototype.SetSavestate=function(l,g){return l&&"object"==typeof l&&(l=l.ptr),g&&"object"==typeof g&&(g=g.ptr),zn(mu(this.ptr,l,g),tn)},tn.prototype.GetVersion=tn.prototype.GetVersion=function(){return sc(this.ptr)},tn.prototype.Serialize=tn.prototype.Serialize=function(){return!!gn(this.ptr)},tn.prototype.GetSerializedImage=tn.prototype.GetSerializedImage=function(){return zn(gu(this.ptr),or)},tn.prototype.GetSerializedImageSize=tn.prototype.GetSerializedImageSize=function(){return zh(this.ptr)},tn.prototype.Deserialize=tn.prototype.Deserialize=function(l,g){return l&&"object"==typeof l&&(l=l.ptr),g&&"object"==typeof g&&(g=g.ptr),!!df(this.ptr,l,g)},tn.prototype.__destroy__=tn.prototype.__destroy__=function(){ff(this.ptr)},k.ready});Fe.exports=je},9084:Fe=>{var R,je=(R=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(k){var ne,ee,d=typeof(k=k||{})<"u"?k:{};d.ready=new Promise(function(u,p){ne=u,ee=p});var V,xe,X,W=Object.assign({},d),Y=[],j="./this.program",G=(u,p)=>{throw p},ye="object"==typeof window,q="function"==typeof importScripts,$=("object"==typeof process&&"object"==typeof process.versions&&process,"");(ye||q)&&(q?$=self.location.href:typeof document<"u"&&document.currentScript&&($=document.currentScript.src),R&&($=R),$=0!==$.indexOf("blob:")?$.substr(0,$.replace(/[?#].*/,"").lastIndexOf("/")+1):"",V=u=>{var p=new XMLHttpRequest;return p.open("GET",u,!1),p.send(null),p.responseText},q&&(X=u=>{var p=new XMLHttpRequest;return p.open("GET",u,!1),p.responseType="arraybuffer",p.send(null),new Uint8Array(p.response)}),xe=(u,p,m)=>{var w=new XMLHttpRequest;w.open("GET",u,!0),w.responseType="arraybuffer",w.onload=()=>{200==w.status||0==w.status&&w.response?p(w.response):m()},w.onerror=m,w.send(null)});var ce,ge=d.print||console.log.bind(console),oe=d.printErr||console.warn.bind(console);Object.assign(d,W),W=null,d.arguments&&(Y=d.arguments),d.thisProgram&&(j=d.thisProgram),d.quit&&(G=d.quit),d.wasmBinary&&(ce=d.wasmBinary);var Ae=d.noExitRuntime||!0;"object"!=typeof WebAssembly&&Qn("no native wasm support detected");var ue,he,Ge=!1;function be(u,p){u||Qn(p)}var Ue,ze,at,L,B,pe,Me=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Ve(u,p,m){for(var w=p+m,E=p;u[E]&&!(E>=w);)++E;if(E-p>16&&u.buffer&&Me)return Me.decode(u.subarray(p,E));for(var F="";p<E;){var U=u[p++];if(128&U){var ie=63&u[p++];if(192!=(224&U)){var Ze=63&u[p++];if((U=224==(240&U)?(15&U)<<12|ie<<6|Ze:(7&U)<<18|ie<<12|Ze<<6|63&u[p++])<65536)F+=String.fromCharCode(U);else{var yt=U-65536;F+=String.fromCharCode(55296|yt>>10,56320|1023&yt)}}else F+=String.fromCharCode((31&U)<<6|ie)}else F+=String.fromCharCode(U)}return F}function Oe(u,p){return u?Ve(at,u,p):""}function ke(u,p,m,w){if(!(w>0))return 0;for(var E=m,F=m+w-1,U=0;U<u.length;++U){var ie=u.charCodeAt(U);if(ie>=55296&&ie<=57343&&(ie=65536+((1023&ie)<<10)|1023&u.charCodeAt(++U)),ie<=127){if(m>=F)break;p[m++]=ie}else if(ie<=2047){if(m+1>=F)break;p[m++]=192|ie>>6,p[m++]=128|63&ie}else if(ie<=65535){if(m+2>=F)break;p[m++]=224|ie>>12,p[m++]=128|ie>>6&63,p[m++]=128|63&ie}else{if(m+3>=F)break;p[m++]=240|ie>>18,p[m++]=128|ie>>12&63,p[m++]=128|ie>>6&63,p[m++]=128|63&ie}}return p[m]=0,m-E}function K(u){for(var p=0,m=0;m<u.length;++m){var w=u.charCodeAt(m);w<=127?p++:w<=2047?p+=2:w>=55296&&w<=57343?(p+=4,++m):p+=3}return p}function Te(u){Ue=u,d.HEAP8=ze=new Int8Array(u),d.HEAP16=new Int16Array(u),d.HEAP32=L=new Int32Array(u),d.HEAPU8=at=new Uint8Array(u),d.HEAPU16=new Uint16Array(u),d.HEAPU32=B=new Uint32Array(u),d.HEAPF32=new Float32Array(u),d.HEAPF64=pe=new Float64Array(u)}var Sn,Ke=[],Je=[],At=[],Lt=[],Hn=0,sr=null,vr=null;function mo(u){Hn++,d.monitorRunDependencies&&d.monitorRunDependencies(Hn)}function ar(u){if(Hn--,d.monitorRunDependencies&&d.monitorRunDependencies(Hn),0==Hn&&(null!==sr&&(clearInterval(sr),sr=null),vr)){var p=vr;vr=null,p()}}function Qn(u){d.onAbort&&d.onAbort(u),oe(u="Aborted("+u+")"),Ge=!0,he=1,u+=". Build with -sASSERTIONS for more info.";var p=new WebAssembly.RuntimeError(u);throw ee(p),p}function $r(u){return u.startsWith("data:application/octet-stream;base64,")}function Wr(u){try{if(u==Sn&&ce)return new Uint8Array(ce);if(X)return X(u);throw"both async and sync fetching of the wasm failed"}catch(p){Qn(p)}}$r(Sn="fstools_web.wasm")||(Sn=function O(u){return d.locateFile?d.locateFile(u,$):$+u}(Sn));var Qe,re,Le={40302:()=>{throw new Error("terminated")}};function pn(u){this.name="ExitStatus",this.message="Program terminated with exit("+u+")",this.status=u}function bn(u){for(;u.length>0;)u.shift()(d)}var Ft={isAbs:u=>"/"===u.charAt(0),splitPath:u=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(u).slice(1),normalizeArray:(u,p)=>{for(var m=0,w=u.length-1;w>=0;w--){var E=u[w];"."===E?u.splice(w,1):".."===E?(u.splice(w,1),m++):m&&(u.splice(w,1),m--)}if(p)for(;m;m--)u.unshift("..");return u},normalize:u=>{var p=Ft.isAbs(u),m="/"===u.substr(-1);return!(u=Ft.normalizeArray(u.split("/").filter(w=>!!w),!p).join("/"))&&!p&&(u="."),u&&m&&(u+="/"),(p?"/":"")+u},dirname:u=>{var p=Ft.splitPath(u),m=p[0],w=p[1];return m||w?(w&&(w=w.substr(0,w.length-1)),m+w):"."},basename:u=>{if("/"===u)return"/";var p=(u=(u=Ft.normalize(u)).replace(/\/$/,"")).lastIndexOf("/");return-1===p?u:u.substr(p+1)},join:function(){var u=Array.prototype.slice.call(arguments);return Ft.normalize(u.join("/"))},join2:(u,p)=>Ft.normalize(u+"/"+p)},er={resolve:function(){for(var u="",p=!1,m=arguments.length-1;m>=-1&&!p;m--){var w=m>=0?arguments[m]:S.cwd();if("string"!=typeof w)throw new TypeError("Arguments to path.resolve must be strings");if(!w)return"";u=w+"/"+u,p=Ft.isAbs(w)}return(p?"/":"")+(u=Ft.normalizeArray(u.split("/").filter(E=>!!E),!p).join("/"))||"."},relative:(u,p)=>{function m(yt){for(var de=0;de<yt.length&&""===yt[de];de++);for(var pt=yt.length-1;pt>=0&&""===yt[pt];pt--);return de>pt?[]:yt.slice(de,pt-de+1)}u=er.resolve(u).substr(1),p=er.resolve(p).substr(1);for(var w=m(u.split("/")),E=m(p.split("/")),F=Math.min(w.length,E.length),U=F,ie=0;ie<F;ie++)if(w[ie]!==E[ie]){U=ie;break}var Ze=[];for(ie=U;ie<w.length;ie++)Ze.push("..");return(Ze=Ze.concat(E.slice(U))).join("/")}};function Jt(u,p,m){var w=m>0?m:K(u)+1,E=new Array(w),F=ke(u,E,0,E.length);return p&&(E.length=F),E}var Yn={ttys:[],init:function(){},shutdown:function(){},register:function(u,p){Yn.ttys[u]={input:[],output:[],ops:p},S.registerDevice(u,Yn.stream_ops)},stream_ops:{open:function(u){var p=Yn.ttys[u.node.rdev];if(!p)throw new S.ErrnoError(43);u.tty=p,u.seekable=!1},close:function(u){u.tty.ops.fsync(u.tty)},fsync:function(u){u.tty.ops.fsync(u.tty)},read:function(u,p,m,w,E){if(!u.tty||!u.tty.ops.get_char)throw new S.ErrnoError(60);for(var F=0,U=0;U<w;U++){var ie;try{ie=u.tty.ops.get_char(u.tty)}catch{throw new S.ErrnoError(29)}if(void 0===ie&&0===F)throw new S.ErrnoError(6);if(null==ie)break;F++,p[m+U]=ie}return F&&(u.node.timestamp=Date.now()),F},write:function(u,p,m,w,E){if(!u.tty||!u.tty.ops.put_char)throw new S.ErrnoError(60);try{for(var F=0;F<w;F++)u.tty.ops.put_char(u.tty,p[m+F])}catch{throw new S.ErrnoError(29)}return w&&(u.node.timestamp=Date.now()),F}},default_tty_ops:{get_char:function(u){if(!u.input.length){var p=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(p=window.prompt("Input: "))&&(p+="\n"):"function"==typeof readline&&null!==(p=readline())&&(p+="\n"),!p)return null;u.input=Jt(p,!0)}return u.input.shift()},put_char:function(u,p){null===p||10===p?(ge(Ve(u.output,0)),u.output=[]):0!=p&&u.output.push(p)},fsync:function(u){u.output&&u.output.length>0&&(ge(Ve(u.output,0)),u.output=[])}},default_tty1_ops:{put_char:function(u,p){null===p||10===p?(oe(Ve(u.output,0)),u.output=[]):0!=p&&u.output.push(p)},fsync:function(u){u.output&&u.output.length>0&&(oe(Ve(u.output,0)),u.output=[])}}};function lr(u){Qn()}var Vt={ops_table:null,mount:function(u){return Vt.createNode(null,"/",16895,0)},createNode:function(u,p,m,w){if(S.isBlkdev(m)||S.isFIFO(m))throw new S.ErrnoError(63);Vt.ops_table||(Vt.ops_table={dir:{node:{getattr:Vt.node_ops.getattr,setattr:Vt.node_ops.setattr,lookup:Vt.node_ops.lookup,mknod:Vt.node_ops.mknod,rename:Vt.node_ops.rename,unlink:Vt.node_ops.unlink,rmdir:Vt.node_ops.rmdir,readdir:Vt.node_ops.readdir,symlink:Vt.node_ops.symlink},stream:{llseek:Vt.stream_ops.llseek}},file:{node:{getattr:Vt.node_ops.getattr,setattr:Vt.node_ops.setattr},stream:{llseek:Vt.stream_ops.llseek,read:Vt.stream_ops.read,write:Vt.stream_ops.write,allocate:Vt.stream_ops.allocate,mmap:Vt.stream_ops.mmap,msync:Vt.stream_ops.msync}},link:{node:{getattr:Vt.node_ops.getattr,setattr:Vt.node_ops.setattr,readlink:Vt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Vt.node_ops.getattr,setattr:Vt.node_ops.setattr},stream:S.chrdev_stream_ops}});var E=S.createNode(u,p,m,w);return S.isDir(E.mode)?(E.node_ops=Vt.ops_table.dir.node,E.stream_ops=Vt.ops_table.dir.stream,E.contents={}):S.isFile(E.mode)?(E.node_ops=Vt.ops_table.file.node,E.stream_ops=Vt.ops_table.file.stream,E.usedBytes=0,E.contents=null):S.isLink(E.mode)?(E.node_ops=Vt.ops_table.link.node,E.stream_ops=Vt.ops_table.link.stream):S.isChrdev(E.mode)&&(E.node_ops=Vt.ops_table.chrdev.node,E.stream_ops=Vt.ops_table.chrdev.stream),E.timestamp=Date.now(),u&&(u.contents[p]=E,u.timestamp=E.timestamp),E},getFileDataAsTypedArray:function(u){return u.contents?u.contents.subarray?u.contents.subarray(0,u.usedBytes):new Uint8Array(u.contents):new Uint8Array(0)},expandFileStorage:function(u,p){var m=u.contents?u.contents.length:0;if(!(m>=p)){p=Math.max(p,m*(m<1048576?2:1.125)>>>0),0!=m&&(p=Math.max(p,256));var E=u.contents;u.contents=new Uint8Array(p),u.usedBytes>0&&u.contents.set(E.subarray(0,u.usedBytes),0)}},resizeFileStorage:function(u,p){if(u.usedBytes!=p)if(0==p)u.contents=null,u.usedBytes=0;else{var m=u.contents;u.contents=new Uint8Array(p),m&&u.contents.set(m.subarray(0,Math.min(p,u.usedBytes))),u.usedBytes=p}},node_ops:{getattr:function(u){var p={};return p.dev=S.isChrdev(u.mode)?u.id:1,p.ino=u.id,p.mode=u.mode,p.nlink=1,p.uid=0,p.gid=0,p.rdev=u.rdev,p.size=S.isDir(u.mode)?4096:S.isFile(u.mode)?u.usedBytes:S.isLink(u.mode)?u.link.length:0,p.atime=new Date(u.timestamp),p.mtime=new Date(u.timestamp),p.ctime=new Date(u.timestamp),p.blksize=4096,p.blocks=Math.ceil(p.size/p.blksize),p},setattr:function(u,p){void 0!==p.mode&&(u.mode=p.mode),void 0!==p.timestamp&&(u.timestamp=p.timestamp),void 0!==p.size&&Vt.resizeFileStorage(u,p.size)},lookup:function(u,p){throw S.genericErrors[44]},mknod:function(u,p,m,w){return Vt.createNode(u,p,m,w)},rename:function(u,p,m){if(S.isDir(u.mode)){var w;try{w=S.lookupNode(p,m)}catch{}if(w)for(var E in w.contents)throw new S.ErrnoError(55)}delete u.parent.contents[u.name],u.parent.timestamp=Date.now(),u.name=m,p.contents[m]=u,p.timestamp=u.parent.timestamp,u.parent=p},unlink:function(u,p){delete u.contents[p],u.timestamp=Date.now()},rmdir:function(u,p){var m=S.lookupNode(u,p);for(var w in m.contents)throw new S.ErrnoError(55);delete u.contents[p],u.timestamp=Date.now()},readdir:function(u){var p=[".",".."];for(var m in u.contents)!u.contents.hasOwnProperty(m)||p.push(m);return p},symlink:function(u,p,m){var w=Vt.createNode(u,p,41471,0);return w.link=m,w},readlink:function(u){if(!S.isLink(u.mode))throw new S.ErrnoError(28);return u.link}},stream_ops:{read:function(u,p,m,w,E){var F=u.node.contents;if(E>=u.node.usedBytes)return 0;var U=Math.min(u.node.usedBytes-E,w);if(U>8&&F.subarray)p.set(F.subarray(E,E+U),m);else for(var ie=0;ie<U;ie++)p[m+ie]=F[E+ie];return U},write:function(u,p,m,w,E,F){if(p.buffer===ze.buffer&&(F=!1),!w)return 0;var U=u.node;if(U.timestamp=Date.now(),p.subarray&&(!U.contents||U.contents.subarray)){if(F)return U.contents=p.subarray(m,m+w),U.usedBytes=w,w;if(0===U.usedBytes&&0===E)return U.contents=p.slice(m,m+w),U.usedBytes=w,w;if(E+w<=U.usedBytes)return U.contents.set(p.subarray(m,m+w),E),w}if(Vt.expandFileStorage(U,E+w),U.contents.subarray&&p.subarray)U.contents.set(p.subarray(m,m+w),E);else for(var ie=0;ie<w;ie++)U.contents[E+ie]=p[m+ie];return U.usedBytes=Math.max(U.usedBytes,E+w),w},llseek:function(u,p,m){var w=p;if(1===m?w+=u.position:2===m&&S.isFile(u.node.mode)&&(w+=u.node.usedBytes),w<0)throw new S.ErrnoError(28);return w},allocate:function(u,p,m){Vt.expandFileStorage(u.node,p+m),u.node.usedBytes=Math.max(u.node.usedBytes,p+m)},mmap:function(u,p,m,w,E){if(!S.isFile(u.node.mode))throw new S.ErrnoError(43);var F,U,ie=u.node.contents;if(2&E||ie.buffer!==Ue){if((m>0||m+p<ie.length)&&(ie=ie.subarray?ie.subarray(m,m+p):Array.prototype.slice.call(ie,m,m+p)),U=!0,!(F=lr()))throw new S.ErrnoError(48);ze.set(ie,F)}else U=!1,F=ie.byteOffset;return{ptr:F,allocated:U}},msync:function(u,p,m,w,E){return Vt.stream_ops.write(u,p,0,w,m,!1),0}}},S={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(u,p={})=>{if(!(u=er.resolve(u)))return{path:"",node:null};if((p=Object.assign({follow_mount:!0,recurse_count:0},p)).recurse_count>8)throw new S.ErrnoError(32);for(var w=u.split("/").filter(pt=>!!pt),E=S.root,F="/",U=0;U<w.length;U++){var ie=U===w.length-1;if(ie&&p.parent)break;if(E=S.lookupNode(E,w[U]),F=Ft.join2(F,w[U]),S.isMountpoint(E)&&(!ie||ie&&p.follow_mount)&&(E=E.mounted.root),!ie||p.follow)for(var Ze=0;S.isLink(E.mode);){var yt=S.readlink(F);if(F=er.resolve(Ft.dirname(F),yt),E=S.lookupPath(F,{recurse_count:p.recurse_count+1}).node,Ze++>40)throw new S.ErrnoError(32)}}return{path:F,node:E}},getPath:u=>{for(var p;;){if(S.isRoot(u)){var m=u.mount.mountpoint;return p?"/"!==m[m.length-1]?m+"/"+p:m+p:m}p=p?u.name+"/"+p:u.name,u=u.parent}},hashName:(u,p)=>{for(var m=0,w=0;w<p.length;w++)m=(m<<5)-m+p.charCodeAt(w)|0;return(u+m>>>0)%S.nameTable.length},hashAddNode:u=>{var p=S.hashName(u.parent.id,u.name);u.name_next=S.nameTable[p],S.nameTable[p]=u},hashRemoveNode:u=>{var p=S.hashName(u.parent.id,u.name);if(S.nameTable[p]===u)S.nameTable[p]=u.name_next;else for(var m=S.nameTable[p];m;){if(m.name_next===u){m.name_next=u.name_next;break}m=m.name_next}},lookupNode:(u,p)=>{var m=S.mayLookup(u);if(m)throw new S.ErrnoError(m,u);for(var w=S.hashName(u.id,p),E=S.nameTable[w];E;E=E.name_next)if(E.parent.id===u.id&&E.name===p)return E;return S.lookup(u,p)},createNode:(u,p,m,w)=>{var E=new S.FSNode(u,p,m,w);return S.hashAddNode(E),E},destroyNode:u=>{S.hashRemoveNode(u)},isRoot:u=>u===u.parent,isMountpoint:u=>!!u.mounted,isFile:u=>32768==(61440&u),isDir:u=>16384==(61440&u),isLink:u=>40960==(61440&u),isChrdev:u=>8192==(61440&u),isBlkdev:u=>24576==(61440&u),isFIFO:u=>4096==(61440&u),isSocket:u=>49152==(49152&u),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:u=>{var p=S.flagModes[u];if(typeof p>"u")throw new Error("Unknown file open mode: "+u);return p},flagsToPermissionString:u=>{var p=["r","w","rw"][3&u];return 512&u&&(p+="w"),p},nodePermissions:(u,p)=>S.ignorePermissions?0:p.includes("r")&&!(292&u.mode)||p.includes("w")&&!(146&u.mode)||p.includes("x")&&!(73&u.mode)?2:0,mayLookup:u=>S.nodePermissions(u,"x")||(u.node_ops.lookup?0:2),mayCreate:(u,p)=>{try{return S.lookupNode(u,p),20}catch{}return S.nodePermissions(u,"wx")},mayDelete:(u,p,m)=>{var w;try{w=S.lookupNode(u,p)}catch(F){return F.errno}var E=S.nodePermissions(u,"wx");if(E)return E;if(m){if(!S.isDir(w.mode))return 54;if(S.isRoot(w)||S.getPath(w)===S.cwd())return 10}else if(S.isDir(w.mode))return 31;return 0},mayOpen:(u,p)=>u?S.isLink(u.mode)?32:S.isDir(u.mode)&&("r"!==S.flagsToPermissionString(p)||512&p)?31:S.nodePermissions(u,S.flagsToPermissionString(p)):44,MAX_OPEN_FDS:4096,nextfd:(u=0,p=S.MAX_OPEN_FDS)=>{for(var m=u;m<=p;m++)if(!S.streams[m])return m;throw new S.ErrnoError(33)},getStream:u=>S.streams[u],createStream:(u,p,m)=>{S.FSStream||(S.FSStream=function(){this.shared={}},S.FSStream.prototype={},Object.defineProperties(S.FSStream.prototype,{object:{get:function(){return this.node},set:function(E){this.node=E}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(E){this.shared.flags=E}},position:{get:function(){return this.shared.position},set:function(E){this.shared.position=E}}})),u=Object.assign(new S.FSStream,u);var w=S.nextfd(p,m);return u.fd=w,S.streams[w]=u,u},closeStream:u=>{S.streams[u]=null},chrdev_stream_ops:{open:u=>{var p=S.getDevice(u.node.rdev);u.stream_ops=p.stream_ops,u.stream_ops.open&&u.stream_ops.open(u)},llseek:()=>{throw new S.ErrnoError(70)}},major:u=>u>>8,minor:u=>255&u,makedev:(u,p)=>u<<8|p,registerDevice:(u,p)=>{S.devices[u]={stream_ops:p}},getDevice:u=>S.devices[u],getMounts:u=>{for(var p=[],m=[u];m.length;){var w=m.pop();p.push(w),m.push.apply(m,w.mounts)}return p},syncfs:(u,p)=>{"function"==typeof u&&(p=u,u=!1),S.syncFSRequests++,S.syncFSRequests>1&&oe("warning: "+S.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var m=S.getMounts(S.root.mount),w=0;function E(U){return S.syncFSRequests--,p(U)}function F(U){if(U)return F.errored?void 0:(F.errored=!0,E(U));++w>=m.length&&E(null)}m.forEach(U=>{if(!U.type.syncfs)return F(null);U.type.syncfs(U,u,F)})},mount:(u,p,m)=>{var F,w="/"===m,E=!m;if(w&&S.root)throw new S.ErrnoError(10);if(!w&&!E){var U=S.lookupPath(m,{follow_mount:!1});if(m=U.path,S.isMountpoint(F=U.node))throw new S.ErrnoError(10);if(!S.isDir(F.mode))throw new S.ErrnoError(54)}var ie={type:u,opts:p,mountpoint:m,mounts:[]},Ze=u.mount(ie);return Ze.mount=ie,ie.root=Ze,w?S.root=Ze:F&&(F.mounted=ie,F.mount&&F.mount.mounts.push(ie)),Ze},unmount:u=>{var p=S.lookupPath(u,{follow_mount:!1});if(!S.isMountpoint(p.node))throw new S.ErrnoError(28);var m=p.node,w=m.mounted,E=S.getMounts(w);Object.keys(S.nameTable).forEach(U=>{for(var ie=S.nameTable[U];ie;){var Ze=ie.name_next;E.includes(ie.mount)&&S.destroyNode(ie),ie=Ze}}),m.mounted=null;var F=m.mount.mounts.indexOf(w);m.mount.mounts.splice(F,1)},lookup:(u,p)=>u.node_ops.lookup(u,p),mknod:(u,p,m)=>{var E=S.lookupPath(u,{parent:!0}).node,F=Ft.basename(u);if(!F||"."===F||".."===F)throw new S.ErrnoError(28);var U=S.mayCreate(E,F);if(U)throw new S.ErrnoError(U);if(!E.node_ops.mknod)throw new S.ErrnoError(63);return E.node_ops.mknod(E,F,p,m)},create:(u,p)=>(p=void 0!==p?p:438,p&=4095,S.mknod(u,p|=32768,0)),mkdir:(u,p)=>(p=void 0!==p?p:511,p&=1023,S.mknod(u,p|=16384,0)),mkdirTree:(u,p)=>{for(var m=u.split("/"),w="",E=0;E<m.length;++E)if(m[E]){w+="/"+m[E];try{S.mkdir(w,p)}catch(F){if(20!=F.errno)throw F}}},mkdev:(u,p,m)=>(typeof m>"u"&&(m=p,p=438),S.mknod(u,p|=8192,m)),symlink:(u,p)=>{if(!er.resolve(u))throw new S.ErrnoError(44);var w=S.lookupPath(p,{parent:!0}).node;if(!w)throw new S.ErrnoError(44);var E=Ft.basename(p),F=S.mayCreate(w,E);if(F)throw new S.ErrnoError(F);if(!w.node_ops.symlink)throw new S.ErrnoError(63);return w.node_ops.symlink(w,E,u)},rename:(u,p)=>{var ie,Ze,m=Ft.dirname(u),w=Ft.dirname(p),E=Ft.basename(u),F=Ft.basename(p);if(ie=S.lookupPath(u,{parent:!0}).node,Ze=S.lookupPath(p,{parent:!0}).node,!ie||!Ze)throw new S.ErrnoError(44);if(ie.mount!==Ze.mount)throw new S.ErrnoError(75);var pt,yt=S.lookupNode(ie,E),de=er.relative(u,w);if("."!==de.charAt(0))throw new S.ErrnoError(28);if("."!==(de=er.relative(p,m)).charAt(0))throw new S.ErrnoError(55);try{pt=S.lookupNode(Ze,F)}catch{}if(yt!==pt){var dt=S.isDir(yt.mode),_t=S.mayDelete(ie,E,dt);if(_t)throw new S.ErrnoError(_t);if(_t=pt?S.mayDelete(Ze,F,dt):S.mayCreate(Ze,F))throw new S.ErrnoError(_t);if(!ie.node_ops.rename)throw new S.ErrnoError(63);if(S.isMountpoint(yt)||pt&&S.isMountpoint(pt))throw new S.ErrnoError(10);if(Ze!==ie&&(_t=S.nodePermissions(ie,"w")))throw new S.ErrnoError(_t);S.hashRemoveNode(yt);try{ie.node_ops.rename(yt,Ze,F)}catch(sn){throw sn}finally{S.hashAddNode(yt)}}},rmdir:u=>{var m=S.lookupPath(u,{parent:!0}).node,w=Ft.basename(u),E=S.lookupNode(m,w),F=S.mayDelete(m,w,!0);if(F)throw new S.ErrnoError(F);if(!m.node_ops.rmdir)throw new S.ErrnoError(63);if(S.isMountpoint(E))throw new S.ErrnoError(10);m.node_ops.rmdir(m,w),S.destroyNode(E)},readdir:u=>{var m=S.lookupPath(u,{follow:!0}).node;if(!m.node_ops.readdir)throw new S.ErrnoError(54);return m.node_ops.readdir(m)},unlink:u=>{var m=S.lookupPath(u,{parent:!0}).node;if(!m)throw new S.ErrnoError(44);var w=Ft.basename(u),E=S.lookupNode(m,w),F=S.mayDelete(m,w,!1);if(F)throw new S.ErrnoError(F);if(!m.node_ops.unlink)throw new S.ErrnoError(63);if(S.isMountpoint(E))throw new S.ErrnoError(10);m.node_ops.unlink(m,w),S.destroyNode(E)},readlink:u=>{var m=S.lookupPath(u).node;if(!m)throw new S.ErrnoError(44);if(!m.node_ops.readlink)throw new S.ErrnoError(28);return er.resolve(S.getPath(m.parent),m.node_ops.readlink(m))},stat:(u,p)=>{var w=S.lookupPath(u,{follow:!p}).node;if(!w)throw new S.ErrnoError(44);if(!w.node_ops.getattr)throw new S.ErrnoError(63);return w.node_ops.getattr(w)},lstat:u=>S.stat(u,!0),chmod:(u,p,m)=>{var w;if(!(w="string"==typeof u?S.lookupPath(u,{follow:!m}).node:u).node_ops.setattr)throw new S.ErrnoError(63);w.node_ops.setattr(w,{mode:4095&p|-4096&w.mode,timestamp:Date.now()})},lchmod:(u,p)=>{S.chmod(u,p,!0)},fchmod:(u,p)=>{var m=S.getStream(u);if(!m)throw new S.ErrnoError(8);S.chmod(m.node,p)},chown:(u,p,m,w)=>{var E;if(!(E="string"==typeof u?S.lookupPath(u,{follow:!w}).node:u).node_ops.setattr)throw new S.ErrnoError(63);E.node_ops.setattr(E,{timestamp:Date.now()})},lchown:(u,p,m)=>{S.chown(u,p,m,!0)},fchown:(u,p,m)=>{var w=S.getStream(u);if(!w)throw new S.ErrnoError(8);S.chown(w.node,p,m)},truncate:(u,p)=>{if(p<0)throw new S.ErrnoError(28);var m;if(!(m="string"==typeof u?S.lookupPath(u,{follow:!0}).node:u).node_ops.setattr)throw new S.ErrnoError(63);if(S.isDir(m.mode))throw new S.ErrnoError(31);if(!S.isFile(m.mode))throw new S.ErrnoError(28);var E=S.nodePermissions(m,"w");if(E)throw new S.ErrnoError(E);m.node_ops.setattr(m,{size:p,timestamp:Date.now()})},ftruncate:(u,p)=>{var m=S.getStream(u);if(!m)throw new S.ErrnoError(8);if(0==(2097155&m.flags))throw new S.ErrnoError(28);S.truncate(m.node,p)},utime:(u,p,m)=>{var E=S.lookupPath(u,{follow:!0}).node;E.node_ops.setattr(E,{timestamp:Math.max(p,m)})},open:(u,p,m)=>{if(""===u)throw new S.ErrnoError(44);var w;if(m=typeof m>"u"?438:m,m=64&(p="string"==typeof p?S.modeStringToFlags(p):p)?4095&m|32768:0,"object"==typeof u)w=u;else{u=Ft.normalize(u);try{w=S.lookupPath(u,{follow:!(131072&p)}).node}catch{}}var F=!1;if(64&p)if(w){if(128&p)throw new S.ErrnoError(20)}else w=S.mknod(u,m,0),F=!0;if(!w)throw new S.ErrnoError(44);if(S.isChrdev(w.mode)&&(p&=-513),65536&p&&!S.isDir(w.mode))throw new S.ErrnoError(54);if(!F){var U=S.mayOpen(w,p);if(U)throw new S.ErrnoError(U)}512&p&&!F&&S.truncate(w,0),p&=-131713;var ie=S.createStream({node:w,path:S.getPath(w),flags:p,seekable:!0,position:0,stream_ops:w.stream_ops,ungotten:[],error:!1});return ie.stream_ops.open&&ie.stream_ops.open(ie),d.logReadFiles&&!(1&p)&&(S.readFiles||(S.readFiles={}),u in S.readFiles||(S.readFiles[u]=1)),ie},close:u=>{if(S.isClosed(u))throw new S.ErrnoError(8);u.getdents&&(u.getdents=null);try{u.stream_ops.close&&u.stream_ops.close(u)}catch(p){throw p}finally{S.closeStream(u.fd)}u.fd=null},isClosed:u=>null===u.fd,llseek:(u,p,m)=>{if(S.isClosed(u))throw new S.ErrnoError(8);if(!u.seekable||!u.stream_ops.llseek)throw new S.ErrnoError(70);if(0!=m&&1!=m&&2!=m)throw new S.ErrnoError(28);return u.position=u.stream_ops.llseek(u,p,m),u.ungotten=[],u.position},read:(u,p,m,w,E)=>{if(w<0||E<0)throw new S.ErrnoError(28);if(S.isClosed(u))throw new S.ErrnoError(8);if(1==(2097155&u.flags))throw new S.ErrnoError(8);if(S.isDir(u.node.mode))throw new S.ErrnoError(31);if(!u.stream_ops.read)throw new S.ErrnoError(28);var F=typeof E<"u";if(F){if(!u.seekable)throw new S.ErrnoError(70)}else E=u.position;var U=u.stream_ops.read(u,p,m,w,E);return F||(u.position+=U),U},write:(u,p,m,w,E,F)=>{if(w<0||E<0)throw new S.ErrnoError(28);if(S.isClosed(u))throw new S.ErrnoError(8);if(0==(2097155&u.flags))throw new S.ErrnoError(8);if(S.isDir(u.node.mode))throw new S.ErrnoError(31);if(!u.stream_ops.write)throw new S.ErrnoError(28);u.seekable&&1024&u.flags&&S.llseek(u,0,2);var U=typeof E<"u";if(U){if(!u.seekable)throw new S.ErrnoError(70)}else E=u.position;var ie=u.stream_ops.write(u,p,m,w,E,F);return U||(u.position+=ie),ie},allocate:(u,p,m)=>{if(S.isClosed(u))throw new S.ErrnoError(8);if(p<0||m<=0)throw new S.ErrnoError(28);if(0==(2097155&u.flags))throw new S.ErrnoError(8);if(!S.isFile(u.node.mode)&&!S.isDir(u.node.mode))throw new S.ErrnoError(43);if(!u.stream_ops.allocate)throw new S.ErrnoError(138);u.stream_ops.allocate(u,p,m)},mmap:(u,p,m,w,E)=>{if(0!=(2&w)&&0==(2&E)&&2!=(2097155&u.flags))throw new S.ErrnoError(2);if(1==(2097155&u.flags))throw new S.ErrnoError(2);if(!u.stream_ops.mmap)throw new S.ErrnoError(43);return u.stream_ops.mmap(u,p,m,w,E)},msync:(u,p,m,w,E)=>u.stream_ops.msync?u.stream_ops.msync(u,p,m,w,E):0,munmap:u=>0,ioctl:(u,p,m)=>{if(!u.stream_ops.ioctl)throw new S.ErrnoError(59);return u.stream_ops.ioctl(u,p,m)},readFile:(u,p={})=>{if(p.flags=p.flags||0,p.encoding=p.encoding||"binary","utf8"!==p.encoding&&"binary"!==p.encoding)throw new Error('Invalid encoding type "'+p.encoding+'"');var m,w=S.open(u,p.flags),F=S.stat(u).size,U=new Uint8Array(F);return S.read(w,U,0,F,0),"utf8"===p.encoding?m=Ve(U,0):"binary"===p.encoding&&(m=U),S.close(w),m},writeFile:(u,p,m={})=>{m.flags=m.flags||577;var w=S.open(u,m.flags,m.mode);if("string"==typeof p){var E=new Uint8Array(K(p)+1),F=ke(p,E,0,E.length);S.write(w,E,0,F,void 0,m.canOwn)}else{if(!ArrayBuffer.isView(p))throw new Error("Unsupported data type");S.write(w,p,0,p.byteLength,void 0,m.canOwn)}S.close(w)},cwd:()=>S.currentPath,chdir:u=>{var p=S.lookupPath(u,{follow:!0});if(null===p.node)throw new S.ErrnoError(44);if(!S.isDir(p.node.mode))throw new S.ErrnoError(54);var m=S.nodePermissions(p.node,"x");if(m)throw new S.ErrnoError(m);S.currentPath=p.path},createDefaultDirectories:()=>{S.mkdir("/tmp"),S.mkdir("/home"),S.mkdir("/home/web_user")},createDefaultDevices:()=>{S.mkdir("/dev"),S.registerDevice(S.makedev(1,3),{read:()=>0,write:(p,m,w,E,F)=>E}),S.mkdev("/dev/null",S.makedev(1,3)),Yn.register(S.makedev(5,0),Yn.default_tty_ops),Yn.register(S.makedev(6,0),Yn.default_tty1_ops),S.mkdev("/dev/tty",S.makedev(5,0)),S.mkdev("/dev/tty1",S.makedev(6,0));var u=function cn(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var u=new Uint8Array(1);return()=>(crypto.getRandomValues(u),u[0])}return()=>Qn("randomDevice")}();S.createDevice("/dev","random",u),S.createDevice("/dev","urandom",u),S.mkdir("/dev/shm"),S.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{S.mkdir("/proc");var u=S.mkdir("/proc/self");S.mkdir("/proc/self/fd"),S.mount({mount:()=>{var p=S.createNode(u,"fd",16895,73);return p.node_ops={lookup:(m,w)=>{var F=S.getStream(+w);if(!F)throw new S.ErrnoError(8);var U={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>F.path}};return U.parent=U,U}},p}},{},"/proc/self/fd")},createStandardStreams:()=>{d.stdin?S.createDevice("/dev","stdin",d.stdin):S.symlink("/dev/tty","/dev/stdin"),d.stdout?S.createDevice("/dev","stdout",null,d.stdout):S.symlink("/dev/tty","/dev/stdout"),d.stderr?S.createDevice("/dev","stderr",null,d.stderr):S.symlink("/dev/tty1","/dev/stderr"),S.open("/dev/stdin",0),S.open("/dev/stdout",1),S.open("/dev/stderr",1)},ensureErrnoError:()=>{S.ErrnoError||(S.ErrnoError=function(p,m){this.node=m,this.setErrno=function(w){this.errno=w},this.setErrno(p),this.message="FS error"},S.ErrnoError.prototype=new Error,S.ErrnoError.prototype.constructor=S.ErrnoError,[44].forEach(u=>{S.genericErrors[u]=new S.ErrnoError(u),S.genericErrors[u].stack="<generic error, no stack>"}))},staticInit:()=>{S.ensureErrnoError(),S.nameTable=new Array(4096),S.mount(Vt,{},"/"),S.createDefaultDirectories(),S.createDefaultDevices(),S.createSpecialDirectories(),S.filesystems={MEMFS:Vt}},init:(u,p,m)=>{S.init.initialized=!0,S.ensureErrnoError(),d.stdin=u||d.stdin,d.stdout=p||d.stdout,d.stderr=m||d.stderr,S.createStandardStreams()},quit:()=>{S.init.initialized=!1;for(var u=0;u<S.streams.length;u++){var p=S.streams[u];!p||S.close(p)}},getMode:(u,p)=>{var m=0;return u&&(m|=365),p&&(m|=146),m},findObject:(u,p)=>{var m=S.analyzePath(u,p);return m.exists?m.object:null},analyzePath:(u,p)=>{try{u=(m=S.lookupPath(u,{follow:!p})).path}catch{}var w={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var m=S.lookupPath(u,{parent:!0});w.parentExists=!0,w.parentPath=m.path,w.parentObject=m.node,w.name=Ft.basename(u),m=S.lookupPath(u,{follow:!p}),w.exists=!0,w.path=m.path,w.object=m.node,w.name=m.node.name,w.isRoot="/"===m.path}catch(E){w.error=E.errno}return w},createPath:(u,p,m,w)=>{u="string"==typeof u?u:S.getPath(u);for(var E=p.split("/").reverse();E.length;){var F=E.pop();if(F){var U=Ft.join2(u,F);try{S.mkdir(U)}catch{}u=U}}return U},createFile:(u,p,m,w,E)=>{var F=Ft.join2("string"==typeof u?u:S.getPath(u),p),U=S.getMode(w,E);return S.create(F,U)},createDataFile:(u,p,m,w,E,F)=>{var U=p;u&&(u="string"==typeof u?u:S.getPath(u),U=p?Ft.join2(u,p):u);var ie=S.getMode(w,E),Ze=S.create(U,ie);if(m){if("string"==typeof m){for(var yt=new Array(m.length),de=0,pt=m.length;de<pt;++de)yt[de]=m.charCodeAt(de);m=yt}S.chmod(Ze,146|ie);var dt=S.open(Ze,577);S.write(dt,m,0,m.length,0,F),S.close(dt),S.chmod(Ze,ie)}return Ze},createDevice:(u,p,m,w)=>{var E=Ft.join2("string"==typeof u?u:S.getPath(u),p),F=S.getMode(!!m,!!w);S.createDevice.major||(S.createDevice.major=64);var U=S.makedev(S.createDevice.major++,0);return S.registerDevice(U,{open:ie=>{ie.seekable=!1},close:ie=>{w&&w.buffer&&w.buffer.length&&w(10)},read:(ie,Ze,yt,de,pt)=>{for(var dt=0,_t=0;_t<de;_t++){var sn;try{sn=m()}catch{throw new S.ErrnoError(29)}if(void 0===sn&&0===dt)throw new S.ErrnoError(6);if(null==sn)break;dt++,Ze[yt+_t]=sn}return dt&&(ie.node.timestamp=Date.now()),dt},write:(ie,Ze,yt,de,pt)=>{for(var dt=0;dt<de;dt++)try{w(Ze[yt+dt])}catch{throw new S.ErrnoError(29)}return de&&(ie.node.timestamp=Date.now()),dt}}),S.mkdev(E,F,U)},forceLoadFile:u=>{if(u.isDevice||u.isFolder||u.link||u.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!V)throw new Error("Cannot load without read() or XMLHttpRequest.");try{u.contents=Jt(V(u.url),!0),u.usedBytes=u.contents.length}catch{throw new S.ErrnoError(29)}},createLazyFile:(u,p,m,w,E)=>{function F(){this.lengthKnown=!1,this.chunks=[]}if(F.prototype.get=function(_t){if(!(_t>this.length-1||_t<0)){var sn=_t%this.chunkSize;return this.getter(_t/this.chunkSize|0)[sn]}},F.prototype.setDataGetter=function(_t){this.getter=_t},F.prototype.cacheLength=function(){var _t=new XMLHttpRequest;if(_t.open("HEAD",m,!1),_t.send(null),!(_t.status>=200&&_t.status<300||304===_t.status))throw new Error("Couldn't load "+m+". Status: "+_t.status);var jt,sn=Number(_t.getResponseHeader("Content-length")),nt=(jt=_t.getResponseHeader("Accept-Ranges"))&&"bytes"===jt,Mt=(jt=_t.getResponseHeader("Content-Encoding"))&&"gzip"===jt,Ee=1048576;nt||(Ee=sn);var Yt=this;Yt.setDataGetter(Ut=>{var cr=Ut*Ee,jn=(Ut+1)*Ee-1;if(jn=Math.min(jn,sn-1),typeof Yt.chunks[Ut]>"u"&&(Yt.chunks[Ut]=((Ut,cr)=>{if(Ut>cr)throw new Error("invalid range ("+Ut+", "+cr+") or no bytes requested!");if(cr>sn-1)throw new Error("only "+sn+" bytes available! programmer error!");var jn=new XMLHttpRequest;if(jn.open("GET",m,!1),sn!==Ee&&jn.setRequestHeader("Range","bytes="+Ut+"-"+cr),jn.responseType="arraybuffer",jn.overrideMimeType&&jn.overrideMimeType("text/plain; charset=x-user-defined"),jn.send(null),!(jn.status>=200&&jn.status<300||304===jn.status))throw new Error("Couldn't load "+m+". Status: "+jn.status);return void 0!==jn.response?new Uint8Array(jn.response||[]):Jt(jn.responseText||"",!0)})(cr,jn)),typeof Yt.chunks[Ut]>"u")throw new Error("doXHR failed!");return Yt.chunks[Ut]}),(Mt||!sn)&&(Ee=sn=1,sn=this.getter(0).length,Ee=sn,ge("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=sn,this._chunkSize=Ee,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!q)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var U=new F;Object.defineProperties(U,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var ie={isDevice:!1,contents:U}}else ie={isDevice:!1,url:m};var Ze=S.createFile(u,p,ie,w,E);ie.contents?Ze.contents=ie.contents:ie.url&&(Ze.contents=null,Ze.url=ie.url),Object.defineProperties(Ze,{usedBytes:{get:function(){return this.contents.length}}});var yt={};function pt(dt,_t,sn,jt,nt){var Mt=dt.node.contents;if(nt>=Mt.length)return 0;var Ee=Math.min(Mt.length-nt,jt);if(Mt.slice)for(var lt=0;lt<Ee;lt++)_t[sn+lt]=Mt[nt+lt];else for(lt=0;lt<Ee;lt++)_t[sn+lt]=Mt.get(nt+lt);return Ee}return Object.keys(Ze.stream_ops).forEach(dt=>{var _t=Ze.stream_ops[dt];yt[dt]=function(){return S.forceLoadFile(Ze),_t.apply(null,arguments)}}),yt.read=(dt,_t,sn,jt,nt)=>(S.forceLoadFile(Ze),pt(dt,_t,sn,jt,nt)),yt.mmap=(dt,_t,sn,jt,nt)=>{S.forceLoadFile(Ze);var Mt=lr();if(!Mt)throw new S.ErrnoError(48);return pt(dt,ze,Mt,_t,sn),{ptr:Mt,allocated:!0}},Ze.stream_ops=yt,Ze},createPreloadedFile:(u,p,m,w,E,F,U,ie,Ze,yt)=>{var de=p?er.resolve(Ft.join2(u,p)):u;function dt(_t){function sn(jt){yt&&yt(),ie||S.createDataFile(u,p,jt,w,E,Ze),F&&F(),ar()}Browser.handledByPreloadPlugin(_t,de,sn,()=>{U&&U(),ar()})||sn(_t)}mo(),"string"==typeof m?function tr(u,p,m,w){var E=w?"":"al "+u;xe(u,F=>{be(F,'Loading data file "'+u+'" failed (no arrayBuffer).'),p(new Uint8Array(F)),E&&ar()},F=>{if(!m)throw'Loading data file "'+u+'" failed.';m()}),E&&mo()}(m,_t=>dt(_t),U):dt(m)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(u,p,m)=>{p=p||(()=>{}),m=m||(()=>{});var w=S.indexedDB();try{var E=w.open(S.DB_NAME(),S.DB_VERSION)}catch(F){return m(F)}E.onupgradeneeded=()=>{ge("creating db"),E.result.createObjectStore(S.DB_STORE_NAME)},E.onsuccess=()=>{var U=E.result.transaction([S.DB_STORE_NAME],"readwrite"),ie=U.objectStore(S.DB_STORE_NAME),Ze=0,yt=0,de=u.length;function pt(){0==yt?p():m()}u.forEach(dt=>{var _t=ie.put(S.analyzePath(dt).object.contents,dt);_t.onsuccess=()=>{++Ze+yt==de&&pt()},_t.onerror=()=>{yt++,Ze+yt==de&&pt()}}),U.onerror=m},E.onerror=m},loadFilesFromDB:(u,p,m)=>{p=p||(()=>{}),m=m||(()=>{});var w=S.indexedDB();try{var E=w.open(S.DB_NAME(),S.DB_VERSION)}catch(F){return m(F)}E.onupgradeneeded=m,E.onsuccess=()=>{var F=E.result;try{var U=F.transaction([S.DB_STORE_NAME],"readonly")}catch(dt){return void m(dt)}var ie=U.objectStore(S.DB_STORE_NAME),Ze=0,yt=0,de=u.length;function pt(){0==yt?p():m()}u.forEach(dt=>{var _t=ie.get(dt);_t.onsuccess=()=>{S.analyzePath(dt).exists&&S.unlink(dt),S.createDataFile(Ft.dirname(dt),Ft.basename(dt),_t.result,!0,!0,!0),++Ze+yt==de&&pt()},_t.onerror=()=>{yt++,Ze+yt==de&&pt()}}),U.onerror=m},E.onerror=m}},kt={DEFAULT_POLLMASK:5,calculateAt:function(u,p,m){if(Ft.isAbs(p))return p;var w;if(w=-100===u?S.cwd():kt.getStreamFromFD(u).path,0==p.length){if(!m)throw new S.ErrnoError(44);return w}return Ft.join2(w,p)},doStat:function(u,p,m){try{var w=u(p)}catch(E){if(E&&E.node&&Ft.normalize(p)!==Ft.normalize(S.getPath(E.node)))return-54;throw E}return L[m>>2]=w.dev,L[m+8>>2]=w.ino,L[m+12>>2]=w.mode,B[m+16>>2]=w.nlink,L[m+20>>2]=w.uid,L[m+24>>2]=w.gid,L[m+28>>2]=w.rdev,re=[w.size>>>0,(Qe=w.size,+Math.abs(Qe)>=1?Qe>0?(0|Math.min(+Math.floor(Qe/4294967296),4294967295))>>>0:~~+Math.ceil((Qe-+(~~Qe>>>0))/4294967296)>>>0:0)],L[m+40>>2]=re[0],L[m+44>>2]=re[1],L[m+48>>2]=4096,L[m+52>>2]=w.blocks,re=[Math.floor(w.atime.getTime()/1e3)>>>0,(Qe=Math.floor(w.atime.getTime()/1e3),+Math.abs(Qe)>=1?Qe>0?(0|Math.min(+Math.floor(Qe/4294967296),4294967295))>>>0:~~+Math.ceil((Qe-+(~~Qe>>>0))/4294967296)>>>0:0)],L[m+56>>2]=re[0],L[m+60>>2]=re[1],B[m+64>>2]=0,re=[Math.floor(w.mtime.getTime()/1e3)>>>0,(Qe=Math.floor(w.mtime.getTime()/1e3),+Math.abs(Qe)>=1?Qe>0?(0|Math.min(+Math.floor(Qe/4294967296),4294967295))>>>0:~~+Math.ceil((Qe-+(~~Qe>>>0))/4294967296)>>>0:0)],L[m+72>>2]=re[0],L[m+76>>2]=re[1],B[m+80>>2]=0,re=[Math.floor(w.ctime.getTime()/1e3)>>>0,(Qe=Math.floor(w.ctime.getTime()/1e3),+Math.abs(Qe)>=1?Qe>0?(0|Math.min(+Math.floor(Qe/4294967296),4294967295))>>>0:~~+Math.ceil((Qe-+(~~Qe>>>0))/4294967296)>>>0:0)],L[m+88>>2]=re[0],L[m+92>>2]=re[1],B[m+96>>2]=0,re=[w.ino>>>0,(Qe=w.ino,+Math.abs(Qe)>=1?Qe>0?(0|Math.min(+Math.floor(Qe/4294967296),4294967295))>>>0:~~+Math.ceil((Qe-+(~~Qe>>>0))/4294967296)>>>0:0)],L[m+104>>2]=re[0],L[m+108>>2]=re[1],0},doMsync:function(u,p,m,w,E){if(!S.isFile(p.node.mode))throw new S.ErrnoError(43);if(2&w)return 0;var F=at.slice(u,u+m);S.msync(p,F,E,m,w)},varargs:void 0,get:function(){return kt.varargs+=4,L[kt.varargs-4>>2]},getStr:function(u){return Oe(u)},getStreamFromFD:function(u){var p=S.getStream(u);if(!p)throw new S.ErrnoError(8);return p}};function M(u){return B[u>>2]+4294967296*L[u+4>>2]}function so(u){return u%4==0&&(u%100!=0||u%400==0)}var ao=[0,31,60,91,121,152,182,213,244,274,305,335],Po=[0,31,59,90,120,151,181,212,243,273,304,334];function zt(u){var p=K(u)+1,m=lo(p);return m&&ke(u,ze,m,p),m}var to=[];function qr(u){try{return ue.grow(u-Ue.byteLength+65535>>>16),Te(ue.buffer),1}catch{}}var ai={};function Ro(){if(!Ro.strings){var p={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:j||"./this.program"};for(var m in ai)void 0===ai[m]?delete p[m]:p[m]=ai[m];var w=[];for(var m in p)w.push(m+"="+p[m]);Ro.strings=w}return Ro.strings}function Pi(u,p){he=u,function qo(u){he=u,function on(){return Ae}()||(d.onExit&&d.onExit(u),Ge=!0),G(u,new pn(u))}(u)}var Gn=Pi,T=[31,29,31,30,31,30,31,31,30,31,30,31],N=[31,28,31,30,31,30,31,31,30,31,30,31];var Pe=function(u,p,m,w){u||(u=this),this.parent=u,this.mount=u.mount,this.mounted=null,this.id=S.nextInode++,this.name=p,this.mode=m,this.node_ops={},this.stream_ops={},this.rdev=w};Object.defineProperties(Pe.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(u){u?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(u){u?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return S.isDir(this.mode)}},isDevice:{get:function(){return S.isChrdev(this.mode)}}}),S.FSNode=Pe,S.staticInit();var es,Ct={o:function hr(u,p,m,w){kt.varargs=w;try{p=kt.getStr(p),p=kt.calculateAt(u,p);var E=w?kt.get():0;return S.open(p,m,E).fd}catch(F){if(typeof S>"u"||!(F instanceof S.ErrnoError))throw F;return-F.errno}},h:function Pr(u,p){var m=new Date(1e3*M(u));L[p>>2]=m.getUTCSeconds(),L[p+4>>2]=m.getUTCMinutes(),L[p+8>>2]=m.getUTCHours(),L[p+12>>2]=m.getUTCDate(),L[p+16>>2]=m.getUTCMonth(),L[p+20>>2]=m.getUTCFullYear()-1900,L[p+24>>2]=m.getUTCDay();var w=Date.UTC(m.getUTCFullYear(),0,1,0,0,0,0),E=(m.getTime()-w)/864e5|0;L[p+28>>2]=E},i:function Mo(u,p){var m=new Date(1e3*M(u));L[p>>2]=m.getSeconds(),L[p+4>>2]=m.getMinutes(),L[p+8>>2]=m.getHours(),L[p+12>>2]=m.getDate(),L[p+16>>2]=m.getMonth(),L[p+20>>2]=m.getFullYear()-1900,L[p+24>>2]=m.getDay();var w=0|function _r(u){return(so(u.getFullYear())?ao:Po)[u.getMonth()]+u.getDate()-1}(m);L[p+28>>2]=w,L[p+36>>2]=-60*m.getTimezoneOffset();var E=new Date(m.getFullYear(),0,1),F=new Date(m.getFullYear(),6,1).getTimezoneOffset(),U=E.getTimezoneOffset(),ie=0|(F!=U&&m.getTimezoneOffset()==Math.min(U,F));L[p+32>>2]=ie},j:function eo(u,p,m){var w=(new Date).getFullYear(),E=new Date(w,0,1),F=new Date(w,6,1),U=E.getTimezoneOffset(),ie=F.getTimezoneOffset(),Ze=Math.max(U,ie);function yt(sn){var jt=sn.toTimeString().match(/\(([A-Za-z ]+)\)$/);return jt?jt[1]:"GMT"}B[u>>2]=60*Ze,L[p>>2]=Number(U!=ie);var de=yt(E),pt=yt(F),dt=zt(de),_t=zt(pt);ie<U?(B[m>>2]=dt,B[m+4>>2]=_t):(B[m>>2]=_t,B[m+4>>2]=dt)},b:function nr(){Qn("")},a:function Wo(u,p,m){var w=function no(u,p){var m;for(to.length=0,p>>=2;m=at[u++];)p+=105!=m&p,to.push(105==m?L[p]:pe[p++>>1]),++p;return to}(p,m);return Le[u].apply(null,w)},c:function Xt(){return Date.now()},g:function yo(u,p,m){at.copyWithin(u,p,p+m)},m:function Br(u){var Ze,p=at.length,m=2147483648;if((u>>>=0)>m)return!1;for(var E=1;E<=4;E*=2){var F=p*(1+.2/E);if(F=Math.min(F,u+100663296),qr(Math.min(m,(Ze=Math.max(u,F))+(65536-Ze%65536)%65536)))return!0}return!1},p:function Vr(u,p){var m=0;return Ro().forEach(function(w,E){var F=p+m;B[u+4*E>>2]=F,function ko(u,p,m){for(var w=0;w<u.length;++w)ze[p++>>0]=u.charCodeAt(w);m||(ze[p>>0]=0)}(w,F),m+=w.length+1}),0},f:function Qi(u,p){var m=Ro();B[u>>2]=m.length;var w=0;return m.forEach(function(E){w+=E.length+1}),B[p>>2]=w,0},q:Gn,d:function Zo(u){try{var p=kt.getStreamFromFD(u);return S.close(p),0}catch(m){if(typeof S>"u"||!(m instanceof S.ErrnoError))throw m;return m.errno}},e:function Yo(u,p,m,w){try{var F=function _i(u,p,m,w){for(var E=0,F=0;F<m;F++){var U=B[p>>2],ie=B[p+4>>2];p+=8;var Ze=S.read(u,ze,U,ie,w);if(Ze<0)return-1;if(E+=Ze,Ze<ie)break}return E}(kt.getStreamFromFD(u),p,m);return B[w>>2]=F,0}catch(U){if(typeof S>"u"||!(U instanceof S.ErrnoError))throw U;return U.errno}},k:function Ko(u,p,m,w,E){try{var F=function Rn(u,p){return p+2097152>>>0<4194305-!!u?(u>>>0)+4294967296*p:NaN}(p,m);if(isNaN(F))return 61;var U=kt.getStreamFromFD(u);return S.llseek(U,F,w),re=[U.position>>>0,(Qe=U.position,+Math.abs(Qe)>=1?Qe>0?(0|Math.min(+Math.floor(Qe/4294967296),4294967295))>>>0:~~+Math.ceil((Qe-+(~~Qe>>>0))/4294967296)>>>0:0)],L[E>>2]=re[0],L[E+4>>2]=re[1],U.getdents&&0===F&&0===w&&(U.getdents=null),0}catch(ie){if(typeof S>"u"||!(ie instanceof S.ErrnoError))throw ie;return ie.errno}},n:function wi(u,p,m,w){try{var F=function Nn(u,p,m,w){for(var E=0,F=0;F<m;F++){var U=B[p>>2],ie=B[p+4>>2];p+=8;var Ze=S.write(u,ze,U,ie,w);if(Ze<0)return-1;E+=Ze}return E}(kt.getStreamFromFD(u),p,m);return B[w>>2]=F,0}catch(U){if(typeof S>"u"||!(U instanceof S.ErrnoError))throw U;return U.errno}},l:function Z(u,p,m,w,E){return function P(u,p,m,w){var E=L[w+40>>2],F={tm_sec:L[w>>2],tm_min:L[w+4>>2],tm_hour:L[w+8>>2],tm_mday:L[w+12>>2],tm_mon:L[w+16>>2],tm_year:L[w+20>>2],tm_wday:L[w+24>>2],tm_yday:L[w+28>>2],tm_isdst:L[w+32>>2],tm_gmtoff:L[w+36>>2],tm_zone:E?Oe(E):""},U=Oe(m),ie={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Ze in ie)U=U.replace(new RegExp(Ze,"g"),ie[Ze]);var yt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],de=["January","February","March","April","May","June","July","August","September","October","November","December"];function pt(Ee,lt,Yt){for(var Ut="number"==typeof Ee?Ee.toString():Ee||"";Ut.length<lt;)Ut=Yt[0]+Ut;return Ut}function dt(Ee,lt){return pt(Ee,lt,"0")}function _t(Ee,lt){function Yt(cr){return cr<0?-1:cr>0?1:0}var Ut;return 0===(Ut=Yt(Ee.getFullYear()-lt.getFullYear()))&&0===(Ut=Yt(Ee.getMonth()-lt.getMonth()))&&(Ut=Yt(Ee.getDate()-lt.getDate())),Ut}function sn(Ee){switch(Ee.getDay()){case 0:return new Date(Ee.getFullYear()-1,11,29);case 1:return Ee;case 2:return new Date(Ee.getFullYear(),0,3);case 3:return new Date(Ee.getFullYear(),0,2);case 4:return new Date(Ee.getFullYear(),0,1);case 5:return new Date(Ee.getFullYear()-1,11,31);case 6:return new Date(Ee.getFullYear()-1,11,30)}}function jt(Ee){var lt=function le(u,p){for(var m=new Date(u.getTime());p>0;){var w=so(m.getFullYear()),E=m.getMonth(),F=(w?T:N)[E];if(!(p>F-m.getDate()))return m.setDate(m.getDate()+p),m;p-=F-m.getDate()+1,m.setDate(1),E<11?m.setMonth(E+1):(m.setMonth(0),m.setFullYear(m.getFullYear()+1))}return m}(new Date(Ee.tm_year+1900,0,1),Ee.tm_yday),Yt=new Date(lt.getFullYear(),0,4),Ut=new Date(lt.getFullYear()+1,0,4),cr=sn(Yt),jn=sn(Ut);return _t(cr,lt)<=0?_t(jn,lt)<=0?lt.getFullYear()+1:lt.getFullYear():lt.getFullYear()-1}var nt={"%a":function(Ee){return yt[Ee.tm_wday].substring(0,3)},"%A":function(Ee){return yt[Ee.tm_wday]},"%b":function(Ee){return de[Ee.tm_mon].substring(0,3)},"%B":function(Ee){return de[Ee.tm_mon]},"%C":function(Ee){return dt((Ee.tm_year+1900)/100|0,2)},"%d":function(Ee){return dt(Ee.tm_mday,2)},"%e":function(Ee){return pt(Ee.tm_mday,2," ")},"%g":function(Ee){return jt(Ee).toString().substring(2)},"%G":function(Ee){return jt(Ee)},"%H":function(Ee){return dt(Ee.tm_hour,2)},"%I":function(Ee){var lt=Ee.tm_hour;return 0==lt?lt=12:lt>12&&(lt-=12),dt(lt,2)},"%j":function(Ee){return dt(Ee.tm_mday+function Ji(u,p){for(var m=0,w=0;w<=p;m+=u[w++]);return m}(so(Ee.tm_year+1900)?T:N,Ee.tm_mon-1),3)},"%m":function(Ee){return dt(Ee.tm_mon+1,2)},"%M":function(Ee){return dt(Ee.tm_min,2)},"%n":function(){return"\n"},"%p":function(Ee){return Ee.tm_hour>=0&&Ee.tm_hour<12?"AM":"PM"},"%S":function(Ee){return dt(Ee.tm_sec,2)},"%t":function(){return"\t"},"%u":function(Ee){return Ee.tm_wday||7},"%U":function(Ee){return dt(Math.floor((Ee.tm_yday+7-Ee.tm_wday)/7),2)},"%V":function(Ee){var lt=Math.floor((Ee.tm_yday+7-(Ee.tm_wday+6)%7)/7);if((Ee.tm_wday+371-Ee.tm_yday-2)%7<=2&&lt++,lt){if(53==lt){var Ut=(Ee.tm_wday+371-Ee.tm_yday)%7;4!=Ut&&(3!=Ut||!so(Ee.tm_year))&&(lt=1)}}else{lt=52;var Yt=(Ee.tm_wday+7-Ee.tm_yday-1)%7;(4==Yt||5==Yt&&so(Ee.tm_year%400-1))&&lt++}return dt(lt,2)},"%w":function(Ee){return Ee.tm_wday},"%W":function(Ee){return dt(Math.floor((Ee.tm_yday+7-(Ee.tm_wday+6)%7)/7),2)},"%y":function(Ee){return(Ee.tm_year+1900).toString().substring(2)},"%Y":function(Ee){return Ee.tm_year+1900},"%z":function(Ee){var lt=Ee.tm_gmtoff,Yt=lt>=0;return lt=(lt=Math.abs(lt)/60)/60*100+lt%60,(Yt?"+":"-")+String("0000"+lt).slice(-4)},"%Z":function(Ee){return Ee.tm_zone},"%%":function(){return"%"}};for(var Ze in U=U.replace(/%%/g,"\0\0"),nt)U.includes(Ze)&&(U=U.replace(new RegExp(Ze,"g"),nt[Ze](F)));var Mt=Jt(U=U.replace(/\0\0/g,"%"),!1);return Mt.length>p?0:(function Se(u,p){ze.set(u,p)}(Mt,u),Mt.length-1)}(u,p,m,w)}},lo=(function Ar(){var u={a:Ct};function p(U,ie){d.asm=U.exports,Te((ue=d.asm.r).buffer),function Jr(u){Je.unshift(u)}(d.asm.s),ar()}function m(U){p(U.instance)}function w(U){return function vi(){return ce||!ye&&!q||"function"!=typeof fetch?Promise.resolve().then(function(){return Wr(Sn)}):fetch(Sn,{credentials:"same-origin"}).then(function(u){if(!u.ok)throw"failed to load wasm binary file at '"+Sn+"'";return u.arrayBuffer()}).catch(function(){return Wr(Sn)})}().then(function(ie){return WebAssembly.instantiate(ie,u)}).then(function(ie){return ie}).then(U,function(ie){oe("failed to asynchronously prepare wasm: "+ie),Qn(ie)})}if(mo(),d.instantiateWasm)try{return d.instantiateWasm(u,p)}catch(U){oe("Module.instantiateWasm callback failed with error: "+U),ee(U)}(function E(){return ce||"function"!=typeof WebAssembly.instantiateStreaming||$r(Sn)||"function"!=typeof fetch?w(m):fetch(Sn,{credentials:"same-origin"}).then(function(U){return WebAssembly.instantiateStreaming(U,u).then(m,function(Ze){return oe("wasm streaming compile failed: "+Ze),oe("falling back to ArrayBuffer instantiation"),w(m)})})})().catch(ee)}(),d.___wasm_call_ctors=function(){return(d.___wasm_call_ctors=d.asm.s).apply(null,arguments)},d._free=function(){return(d._free=d.asm.t).apply(null,arguments)},d._malloc=function(){return(lo=d._malloc=d.asm.u).apply(null,arguments)}),Rr=d._emscripten_bind_VoidPtr___destroy___0=function(){return(Rr=d._emscripten_bind_VoidPtr___destroy___0=d.asm.v).apply(null,arguments)},mr=d._emscripten_bind_FSTools_FSTools_0=function(){return(mr=d._emscripten_bind_FSTools_FSTools_0=d.asm.w).apply(null,arguments)},Ri=d._emscripten_bind_FSTools_Malloc_1=function(){return(Ri=d._emscripten_bind_FSTools_Malloc_1=d.asm.x).apply(null,arguments)},Xo=d._emscripten_bind_FSTools_Free_1=function(){return(Xo=d._emscripten_bind_FSTools_Free_1=d.asm.y).apply(null,arguments)},bi=d._emscripten_bind_FSTools_Nullptr_0=function(){return(bi=d._emscripten_bind_FSTools_Nullptr_0=d.asm.z).apply(null,arguments)},ka=d._emscripten_bind_FSTools___destroy___0=function(){return(ka=d._emscripten_bind_FSTools___destroy___0=d.asm.A).apply(null,arguments)},Es=d._emscripten_bind_MkfsContext_MkfsContext_0=function(){return(Es=d._emscripten_bind_MkfsContext_MkfsContext_0=d.asm.B).apply(null,arguments)},Ta=d._emscripten_bind_MkfsContext_Mkfs_2=function(){return(Ta=d._emscripten_bind_MkfsContext_Mkfs_2=d.asm.C).apply(null,arguments)},Ds=d._emscripten_bind_MkfsContext_GetImage_0=function(){return(Ds=d._emscripten_bind_MkfsContext_GetImage_0=d.asm.D).apply(null,arguments)},us=d._emscripten_bind_MkfsContext_GetImageSize_0=function(){return(us=d._emscripten_bind_MkfsContext_GetImageSize_0=d.asm.E).apply(null,arguments)},Fr=d._emscripten_bind_MkfsContext___destroy___0=function(){return(Fr=d._emscripten_bind_MkfsContext___destroy___0=d.asm.F).apply(null,arguments)},Fn=d._emscripten_bind_FsckContext_FsckContext_1=function(){return(Fn=d._emscripten_bind_FsckContext_FsckContext_1=d.asm.G).apply(null,arguments)},dl=d._emscripten_bind_FsckContext_GetImage_0=function(){return(dl=d._emscripten_bind_FsckContext_GetImage_0=d.asm.H).apply(null,arguments)},xa=d._emscripten_bind_FsckContext_GetDirtyPages_0=function(){return(xa=d._emscripten_bind_FsckContext_GetDirtyPages_0=d.asm.I).apply(null,arguments)},Aa=d._emscripten_bind_FsckContext_GetImageSize_0=function(){return(Aa=d._emscripten_bind_FsckContext_GetImageSize_0=d.asm.J).apply(null,arguments)},ft=d._emscripten_bind_FsckContext_Fsck_0=function(){return(ft=d._emscripten_bind_FsckContext_Fsck_0=d.asm.K).apply(null,arguments)},Pa=d._emscripten_bind_FsckContext_GetResult_0=function(){return(Pa=d._emscripten_bind_FsckContext_GetResult_0=d.asm.L).apply(null,arguments)},Kn=d._emscripten_bind_FsckContext___destroy___0=function(){return(Kn=d._emscripten_bind_FsckContext___destroy___0=d.asm.M).apply(null,arguments)};function ns(u){function p(){es||(es=!0,d.calledRun=!0,!Ge&&(function zr(){!d.noFSInit&&!S.init.initialized&&S.init(),S.ignorePermissions=!1,Yn.init(),bn(Je)}(),function Er(){bn(At)}(),ne(d),d.onRuntimeInitialized&&d.onRuntimeInitialized(),Zr&&function ts(u){var p=d._main;try{var E=p(0,0);return Pi(E),E}catch(F){return function J(u){if(u instanceof pn||"unwind"==u)return he;G(1,u)}(F)}}(),function Zn(){if(d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)u=d.postRun.shift(),Lt.unshift(u);var u;bn(Lt)}()))}u=u||Y,Hn>0||(function se(){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)u=d.preRun.shift(),Ke.unshift(u);var u;bn(Ke)}(),Hn>0)||(d.setStatus?(d.setStatus("Running..."),setTimeout(function(){setTimeout(function(){d.setStatus("")},1),p()},1)):p())}if(d._main=function(){return(d._main=d.asm.N).apply(null,arguments)},d.___original_main=function(){return(d.___original_main=d.asm.P).apply(null,arguments)},d.___start_em_js=40204,d.___stop_em_js=40302,vr=function u(){es||ns(),es||(vr=u)},d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();var Zr=!0;function kr(){}function Nt(u){return(u||kr).__cache__}function Fo(u,p){var m=Nt(p),w=m[u];return w||((w=Object.create((p||kr).prototype)).ptr=u,m[u]=w)}d.noInitialRun&&(Zr=!1),ns(),(kr.prototype=Object.create(kr.prototype)).constructor=kr,kr.prototype.__class__=kr,kr.__cache__={},d.WrapperObject=kr,d.getCache=Nt,d.wrapPointer=Fo,d.castObject=function Fa(u,p){return Fo(u.ptr,p)},d.NULL=Fo(0),d.destroy=function Oo(u){if(!u.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";u.__destroy__(),delete Nt(u.__class__)[u.ptr]},d.compare=function Xs(u,p){return u.ptr===p.ptr},d.getPointer=function fl(u){return u.ptr},d.getClass=function An(u){return u.__class__};var Dn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(Dn.needed){for(var u=0;u<Dn.temps.length;u++)d._free(Dn.temps[u]);Dn.temps.length=0,d._free(Dn.buffer),Dn.buffer=0,Dn.size+=Dn.needed,Dn.needed=0}Dn.buffer||(Dn.size+=128,Dn.buffer=d._malloc(Dn.size),be(Dn.buffer)),Dn.pos=0},alloc:function(u,p){be(Dn.buffer);var E,w=u.length*p.BYTES_PER_ELEMENT;return Dn.pos+(w=w+7&-8)>=Dn.size?(be(w>0),Dn.needed+=w,E=d._malloc(w),Dn.temps.push(E)):(E=Dn.buffer+Dn.pos,Dn.pos+=w),E},copy:function(u,p,m){switch(m>>>=0,p.BYTES_PER_ELEMENT){case 2:m>>>=1;break;case 4:m>>>=2;break;case 8:m>>>=3}for(var E=0;E<u.length;E++)p[m+E]=u[E]}};function hn(){throw"cannot construct a VoidPtr, no constructor in IDL"}function en(){this.ptr=mr(),Nt(en)[this.ptr]=this}function h(){this.ptr=Es(),Nt(h)[this.ptr]=this}function _(u){u&&"object"==typeof u&&(u=u.ptr),this.ptr=Fn(u),Nt(_)[this.ptr]=this}return(hn.prototype=Object.create(kr.prototype)).constructor=hn,hn.prototype.__class__=hn,hn.__cache__={},d.VoidPtr=hn,hn.prototype.__destroy__=hn.prototype.__destroy__=function(){Rr(this.ptr)},(en.prototype=Object.create(kr.prototype)).constructor=en,en.prototype.__class__=en,en.__cache__={},d.FSTools=en,en.prototype.Malloc=en.prototype.Malloc=function(u){return u&&"object"==typeof u&&(u=u.ptr),Fo(Ri(this.ptr,u),hn)},en.prototype.Free=en.prototype.Free=function(u){u&&"object"==typeof u&&(u=u.ptr),Xo(this.ptr,u)},en.prototype.Nullptr=en.prototype.Nullptr=function(){return Fo(bi(this.ptr),hn)},en.prototype.__destroy__=en.prototype.__destroy__=function(){ka(this.ptr)},(h.prototype=Object.create(kr.prototype)).constructor=h,h.prototype.__class__=h,h.__cache__={},d.MkfsContext=h,h.prototype.Mkfs=h.prototype.Mkfs=function(u,p){var m=this.ptr;return Dn.prepare(),u&&"object"==typeof u&&(u=u.ptr),p=p&&"object"==typeof p?p.ptr:function vo(u){if("string"==typeof u){var p=Jt(u),m=Dn.alloc(p,ze);return Dn.copy(p,ze,m),m}return u}(p),!!Ta(m,u,p)},h.prototype.GetImage=h.prototype.GetImage=function(){return Fo(Ds(this.ptr),hn)},h.prototype.GetImageSize=h.prototype.GetImageSize=function(){return us(this.ptr)},h.prototype.__destroy__=h.prototype.__destroy__=function(){Fr(this.ptr)},(_.prototype=Object.create(kr.prototype)).constructor=_,_.prototype.__class__=_,_.__cache__={},d.FsckContext=_,_.prototype.GetImage=_.prototype.GetImage=function(){return Fo(dl(this.ptr),hn)},_.prototype.GetDirtyPages=_.prototype.GetDirtyPages=function(){return Fo(xa(this.ptr),hn)},_.prototype.GetImageSize=_.prototype.GetImageSize=function(){return Aa(this.ptr)},_.prototype.Fsck=_.prototype.Fsck=function(){return ft(this.ptr)},_.prototype.GetResult=_.prototype.GetResult=function(){return Pa(this.ptr)},_.prototype.__destroy__=_.prototype.__destroy__=function(){Kn(this.ptr)},k.ready});Fe.exports=je},7971:Fe=>{var R,je=(R=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(k){var ne,ee,d=typeof(k=k||{})<"u"?k:{};d.ready=new Promise(function(h,_){ne=h,ee=_});var V,xe,X,W=Object.assign({},d),Y=[],j="./this.program",G=(h,_)=>{throw _},ye="object"==typeof window,q="function"==typeof importScripts,$=("object"==typeof process&&"object"==typeof process.versions&&process,"");(ye||q)&&(q?$=self.location.href:typeof document<"u"&&document.currentScript&&($=document.currentScript.src),R&&($=R),$=0!==$.indexOf("blob:")?$.substr(0,$.replace(/[?#].*/,"").lastIndexOf("/")+1):"",V=h=>{var _=new XMLHttpRequest;return _.open("GET",h,!1),_.send(null),_.responseText},q&&(X=h=>{var _=new XMLHttpRequest;return _.open("GET",h,!1),_.responseType="arraybuffer",_.send(null),new Uint8Array(_.response)}),xe=(h,_,u)=>{var p=new XMLHttpRequest;p.open("GET",h,!0),p.responseType="arraybuffer",p.onload=()=>{200==p.status||0==p.status&&p.response?_(p.response):u()},p.onerror=u,p.send(null)});var ce,ge=d.print||console.log.bind(console),oe=d.printErr||console.warn.bind(console);Object.assign(d,W),W=null,d.arguments&&(Y=d.arguments),d.thisProgram&&(j=d.thisProgram),d.quit&&(G=d.quit),d.wasmBinary&&(ce=d.wasmBinary);var Ae=d.noExitRuntime||!0;"object"!=typeof WebAssembly&&Qn("no native wasm support detected");var ue,he,Ge=!1;function be(h,_){h||Qn(_)}var Ue,ze,at,L,B,Me=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Ve(h,_,u){for(var p=_+u,m=_;h[m]&&!(m>=p);)++m;if(m-_>16&&h.buffer&&Me)return Me.decode(h.subarray(_,m));for(var w="";_<m;){var E=h[_++];if(128&E){var F=63&h[_++];if(192!=(224&E)){var U=63&h[_++];if((E=224==(240&E)?(15&E)<<12|F<<6|U:(7&E)<<18|F<<12|U<<6|63&h[_++])<65536)w+=String.fromCharCode(E);else{var ie=E-65536;w+=String.fromCharCode(55296|ie>>10,56320|1023&ie)}}else w+=String.fromCharCode((31&E)<<6|F)}else w+=String.fromCharCode(E)}return w}function Oe(h,_){return h?Ve(at,h,_):""}function ke(h,_,u,p){if(!(p>0))return 0;for(var m=u,w=u+p-1,E=0;E<h.length;++E){var F=h.charCodeAt(E);if(F>=55296&&F<=57343&&(F=65536+((1023&F)<<10)|1023&h.charCodeAt(++E)),F<=127){if(u>=w)break;_[u++]=F}else if(F<=2047){if(u+1>=w)break;_[u++]=192|F>>6,_[u++]=128|63&F}else if(F<=65535){if(u+2>=w)break;_[u++]=224|F>>12,_[u++]=128|F>>6&63,_[u++]=128|63&F}else{if(u+3>=w)break;_[u++]=240|F>>18,_[u++]=128|F>>12&63,_[u++]=128|F>>6&63,_[u++]=128|63&F}}return _[u]=0,u-m}function K(h){for(var _=0,u=0;u<h.length;++u){var p=h.charCodeAt(u);p<=127?_++:p<=2047?_+=2:p>=55296&&p<=57343?(_+=4,++u):_+=3}return _}function Te(h){Ue=h,d.HEAP8=ze=new Int8Array(h),d.HEAP16=new Int16Array(h),d.HEAP32=L=new Int32Array(h),d.HEAPU8=at=new Uint8Array(h),d.HEAPU16=new Uint16Array(h),d.HEAPU32=B=new Uint32Array(h),d.HEAPF32=new Float32Array(h),d.HEAPF64=new Float64Array(h)}var Sn,Qe,re,Ke=[],Je=[],At=[],Lt=[],Hn=0,sr=null,vr=null;function mo(h){Hn++,d.monitorRunDependencies&&d.monitorRunDependencies(Hn)}function ar(h){if(Hn--,d.monitorRunDependencies&&d.monitorRunDependencies(Hn),0==Hn&&(null!==sr&&(clearInterval(sr),sr=null),vr)){var _=vr;vr=null,_()}}function Qn(h){d.onAbort&&d.onAbort(h),oe(h="Aborted("+h+")"),Ge=!0,he=1,h+=". Build with -sASSERTIONS for more info.";var _=new WebAssembly.RuntimeError(h);throw ee(_),_}function $r(h){return h.startsWith("data:application/octet-stream;base64,")}function Wr(h){try{if(h==Sn&&ce)return new Uint8Array(ce);if(X)return X(h);throw"both async and sync fetching of the wasm failed"}catch(_){Qn(_)}}function Le(h){this.name="ExitStatus",this.message="Program terminated with exit("+h+")",this.status=h}function pn(h){for(;h.length>0;)h.shift()(d)}function Ft(h){return h%4==0&&(h%100!=0||h%400==0)}$r(Sn="vfs_web.wasm")||(Sn=function O(h){return d.locateFile?d.locateFile(h,$):$+h}(Sn));var cn=[0,31,60,91,121,152,182,213,244,274,305,335],er=[0,31,59,90,120,151,181,212,243,273,304,334];function Jt(h){return(Ft(h.getFullYear())?cn:er)[h.getMonth()]+h.getDate()-1}function Vt(h){var _=K(h)+1,u=Pe(_);return u&&ke(h,ze,u,_),u}function Pr(h){try{return ue.grow(h-Ue.byteLength+65535>>>16),Te(ue.buffer),1}catch{}}var ao={};function _r(){if(!_r.strings){var _={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:j||"./this.program"};for(var u in ao)void 0===ao[u]?delete _[u]:_[u]=ao[u];var p=[];for(var u in _)p.push(u+"="+_[u]);_r.strings=p}return _r.strings}var zt={isAbs:h=>"/"===h.charAt(0),splitPath:h=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(h).slice(1),normalizeArray:(h,_)=>{for(var u=0,p=h.length-1;p>=0;p--){var m=h[p];"."===m?h.splice(p,1):".."===m?(h.splice(p,1),u++):u&&(h.splice(p,1),u--)}if(_)for(;u;u--)h.unshift("..");return h},normalize:h=>{var _=zt.isAbs(h),u="/"===h.substr(-1);return!(h=zt.normalizeArray(h.split("/").filter(p=>!!p),!_).join("/"))&&!_&&(h="."),h&&u&&(h+="/"),(_?"/":"")+h},dirname:h=>{var _=zt.splitPath(h),u=_[0],p=_[1];return u||p?(p&&(p=p.substr(0,p.length-1)),u+p):"."},basename:h=>{if("/"===h)return"/";var _=(h=(h=zt.normalize(h)).replace(/\/$/,"")).lastIndexOf("/");return-1===_?h:h.substr(_+1)},join:function(){var h=Array.prototype.slice.call(arguments);return zt.normalize(h.join("/"))},join2:(h,_)=>zt.normalize(h+"/"+_)},nr={resolve:function(){for(var h="",_=!1,u=arguments.length-1;u>=-1&&!_;u--){var p=u>=0?arguments[u]:I.cwd();if("string"!=typeof p)throw new TypeError("Arguments to path.resolve must be strings");if(!p)return"";h=p+"/"+h,_=zt.isAbs(p)}return(_?"/":"")+(h=zt.normalizeArray(h.split("/").filter(m=>!!m),!_).join("/"))||"."},relative:(h,_)=>{function u(ie){for(var Ze=0;Ze<ie.length&&""===ie[Ze];Ze++);for(var yt=ie.length-1;yt>=0&&""===ie[yt];yt--);return Ze>yt?[]:ie.slice(Ze,yt-Ze+1)}h=nr.resolve(h).substr(1),_=nr.resolve(_).substr(1);for(var p=u(h.split("/")),m=u(_.split("/")),w=Math.min(p.length,m.length),E=w,F=0;F<w;F++)if(p[F]!==m[F]){E=F;break}var U=[];for(F=E;F<p.length;F++)U.push("..");return(U=U.concat(m.slice(E))).join("/")}};function to(h,_,u){var p=u>0?u:K(h)+1,m=new Array(p),w=ke(h,m,0,m.length);return _&&(m.length=w),m}var no={ttys:[],init:function(){},shutdown:function(){},register:function(h,_){no.ttys[h]={input:[],output:[],ops:_},I.registerDevice(h,no.stream_ops)},stream_ops:{open:function(h){var _=no.ttys[h.node.rdev];if(!_)throw new I.ErrnoError(43);h.tty=_,h.seekable=!1},close:function(h){h.tty.ops.fsync(h.tty)},fsync:function(h){h.tty.ops.fsync(h.tty)},read:function(h,_,u,p,m){if(!h.tty||!h.tty.ops.get_char)throw new I.ErrnoError(60);for(var w=0,E=0;E<p;E++){var F;try{F=h.tty.ops.get_char(h.tty)}catch{throw new I.ErrnoError(29)}if(void 0===F&&0===w)throw new I.ErrnoError(6);if(null==F)break;w++,_[u+E]=F}return w&&(h.node.timestamp=Date.now()),w},write:function(h,_,u,p,m){if(!h.tty||!h.tty.ops.put_char)throw new I.ErrnoError(60);try{for(var w=0;w<p;w++)h.tty.ops.put_char(h.tty,_[u+w])}catch{throw new I.ErrnoError(29)}return p&&(h.node.timestamp=Date.now()),w}},default_tty_ops:{get_char:function(h){if(!h.input.length){var _=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(_=window.prompt("Input: "))&&(_+="\n"):"function"==typeof readline&&null!==(_=readline())&&(_+="\n"),!_)return null;h.input=to(_,!0)}return h.input.shift()},put_char:function(h,_){null===_||10===_?(ge(Ve(h.output,0)),h.output=[]):0!=_&&h.output.push(_)},fsync:function(h){h.output&&h.output.length>0&&(ge(Ve(h.output,0)),h.output=[])}},default_tty1_ops:{put_char:function(h,_){null===_||10===_?(oe(Ve(h.output,0)),h.output=[]):0!=_&&h.output.push(_)},fsync:function(h){h.output&&h.output.length>0&&(oe(Ve(h.output,0)),h.output=[])}}};function Wo(h){Qn()}var Xt={ops_table:null,mount:function(h){return Xt.createNode(null,"/",16895,0)},createNode:function(h,_,u,p){if(I.isBlkdev(u)||I.isFIFO(u))throw new I.ErrnoError(63);Xt.ops_table||(Xt.ops_table={dir:{node:{getattr:Xt.node_ops.getattr,setattr:Xt.node_ops.setattr,lookup:Xt.node_ops.lookup,mknod:Xt.node_ops.mknod,rename:Xt.node_ops.rename,unlink:Xt.node_ops.unlink,rmdir:Xt.node_ops.rmdir,readdir:Xt.node_ops.readdir,symlink:Xt.node_ops.symlink},stream:{llseek:Xt.stream_ops.llseek}},file:{node:{getattr:Xt.node_ops.getattr,setattr:Xt.node_ops.setattr},stream:{llseek:Xt.stream_ops.llseek,read:Xt.stream_ops.read,write:Xt.stream_ops.write,allocate:Xt.stream_ops.allocate,mmap:Xt.stream_ops.mmap,msync:Xt.stream_ops.msync}},link:{node:{getattr:Xt.node_ops.getattr,setattr:Xt.node_ops.setattr,readlink:Xt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Xt.node_ops.getattr,setattr:Xt.node_ops.setattr},stream:I.chrdev_stream_ops}});var m=I.createNode(h,_,u,p);return I.isDir(m.mode)?(m.node_ops=Xt.ops_table.dir.node,m.stream_ops=Xt.ops_table.dir.stream,m.contents={}):I.isFile(m.mode)?(m.node_ops=Xt.ops_table.file.node,m.stream_ops=Xt.ops_table.file.stream,m.usedBytes=0,m.contents=null):I.isLink(m.mode)?(m.node_ops=Xt.ops_table.link.node,m.stream_ops=Xt.ops_table.link.stream):I.isChrdev(m.mode)&&(m.node_ops=Xt.ops_table.chrdev.node,m.stream_ops=Xt.ops_table.chrdev.stream),m.timestamp=Date.now(),h&&(h.contents[_]=m,h.timestamp=m.timestamp),m},getFileDataAsTypedArray:function(h){return h.contents?h.contents.subarray?h.contents.subarray(0,h.usedBytes):new Uint8Array(h.contents):new Uint8Array(0)},expandFileStorage:function(h,_){var u=h.contents?h.contents.length:0;if(!(u>=_)){_=Math.max(_,u*(u<1048576?2:1.125)>>>0),0!=u&&(_=Math.max(_,256));var m=h.contents;h.contents=new Uint8Array(_),h.usedBytes>0&&h.contents.set(m.subarray(0,h.usedBytes),0)}},resizeFileStorage:function(h,_){if(h.usedBytes!=_)if(0==_)h.contents=null,h.usedBytes=0;else{var u=h.contents;h.contents=new Uint8Array(_),u&&h.contents.set(u.subarray(0,Math.min(_,h.usedBytes))),h.usedBytes=_}},node_ops:{getattr:function(h){var _={};return _.dev=I.isChrdev(h.mode)?h.id:1,_.ino=h.id,_.mode=h.mode,_.nlink=1,_.uid=0,_.gid=0,_.rdev=h.rdev,_.size=I.isDir(h.mode)?4096:I.isFile(h.mode)?h.usedBytes:I.isLink(h.mode)?h.link.length:0,_.atime=new Date(h.timestamp),_.mtime=new Date(h.timestamp),_.ctime=new Date(h.timestamp),_.blksize=4096,_.blocks=Math.ceil(_.size/_.blksize),_},setattr:function(h,_){void 0!==_.mode&&(h.mode=_.mode),void 0!==_.timestamp&&(h.timestamp=_.timestamp),void 0!==_.size&&Xt.resizeFileStorage(h,_.size)},lookup:function(h,_){throw I.genericErrors[44]},mknod:function(h,_,u,p){return Xt.createNode(h,_,u,p)},rename:function(h,_,u){if(I.isDir(h.mode)){var p;try{p=I.lookupNode(_,u)}catch{}if(p)for(var m in p.contents)throw new I.ErrnoError(55)}delete h.parent.contents[h.name],h.parent.timestamp=Date.now(),h.name=u,_.contents[u]=h,_.timestamp=h.parent.timestamp,h.parent=_},unlink:function(h,_){delete h.contents[_],h.timestamp=Date.now()},rmdir:function(h,_){var u=I.lookupNode(h,_);for(var p in u.contents)throw new I.ErrnoError(55);delete h.contents[_],h.timestamp=Date.now()},readdir:function(h){var _=[".",".."];for(var u in h.contents)!h.contents.hasOwnProperty(u)||_.push(u);return _},symlink:function(h,_,u){var p=Xt.createNode(h,_,41471,0);return p.link=u,p},readlink:function(h){if(!I.isLink(h.mode))throw new I.ErrnoError(28);return h.link}},stream_ops:{read:function(h,_,u,p,m){var w=h.node.contents;if(m>=h.node.usedBytes)return 0;var E=Math.min(h.node.usedBytes-m,p);if(E>8&&w.subarray)_.set(w.subarray(m,m+E),u);else for(var F=0;F<E;F++)_[u+F]=w[m+F];return E},write:function(h,_,u,p,m,w){if(_.buffer===ze.buffer&&(w=!1),!p)return 0;var E=h.node;if(E.timestamp=Date.now(),_.subarray&&(!E.contents||E.contents.subarray)){if(w)return E.contents=_.subarray(u,u+p),E.usedBytes=p,p;if(0===E.usedBytes&&0===m)return E.contents=_.slice(u,u+p),E.usedBytes=p,p;if(m+p<=E.usedBytes)return E.contents.set(_.subarray(u,u+p),m),p}if(Xt.expandFileStorage(E,m+p),E.contents.subarray&&_.subarray)E.contents.set(_.subarray(u,u+p),m);else for(var F=0;F<p;F++)E.contents[m+F]=_[u+F];return E.usedBytes=Math.max(E.usedBytes,m+p),p},llseek:function(h,_,u){var p=_;if(1===u?p+=h.position:2===u&&I.isFile(h.node.mode)&&(p+=h.node.usedBytes),p<0)throw new I.ErrnoError(28);return p},allocate:function(h,_,u){Xt.expandFileStorage(h.node,_+u),h.node.usedBytes=Math.max(h.node.usedBytes,_+u)},mmap:function(h,_,u,p,m){if(!I.isFile(h.node.mode))throw new I.ErrnoError(43);var w,E,F=h.node.contents;if(2&m||F.buffer!==Ue){if((u>0||u+_<F.length)&&(F=F.subarray?F.subarray(u,u+_):Array.prototype.slice.call(F,u,u+_)),E=!0,!(w=Wo()))throw new I.ErrnoError(48);ze.set(F,w)}else E=!1,w=F.byteOffset;return{ptr:w,allocated:E}},msync:function(h,_,u,p,m){return Xt.stream_ops.write(h,_,0,p,u,!1),0}}},I={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(h,_={})=>{if(!(h=nr.resolve(h)))return{path:"",node:null};if((_=Object.assign({follow_mount:!0,recurse_count:0},_)).recurse_count>8)throw new I.ErrnoError(32);for(var p=h.split("/").filter(yt=>!!yt),m=I.root,w="/",E=0;E<p.length;E++){var F=E===p.length-1;if(F&&_.parent)break;if(m=I.lookupNode(m,p[E]),w=zt.join2(w,p[E]),I.isMountpoint(m)&&(!F||F&&_.follow_mount)&&(m=m.mounted.root),!F||_.follow)for(var U=0;I.isLink(m.mode);){var ie=I.readlink(w);if(w=nr.resolve(zt.dirname(w),ie),m=I.lookupPath(w,{recurse_count:_.recurse_count+1}).node,U++>40)throw new I.ErrnoError(32)}}return{path:w,node:m}},getPath:h=>{for(var _;;){if(I.isRoot(h)){var u=h.mount.mountpoint;return _?"/"!==u[u.length-1]?u+"/"+_:u+_:u}_=_?h.name+"/"+_:h.name,h=h.parent}},hashName:(h,_)=>{for(var u=0,p=0;p<_.length;p++)u=(u<<5)-u+_.charCodeAt(p)|0;return(h+u>>>0)%I.nameTable.length},hashAddNode:h=>{var _=I.hashName(h.parent.id,h.name);h.name_next=I.nameTable[_],I.nameTable[_]=h},hashRemoveNode:h=>{var _=I.hashName(h.parent.id,h.name);if(I.nameTable[_]===h)I.nameTable[_]=h.name_next;else for(var u=I.nameTable[_];u;){if(u.name_next===h){u.name_next=h.name_next;break}u=u.name_next}},lookupNode:(h,_)=>{var u=I.mayLookup(h);if(u)throw new I.ErrnoError(u,h);for(var p=I.hashName(h.id,_),m=I.nameTable[p];m;m=m.name_next)if(m.parent.id===h.id&&m.name===_)return m;return I.lookup(h,_)},createNode:(h,_,u,p)=>{var m=new I.FSNode(h,_,u,p);return I.hashAddNode(m),m},destroyNode:h=>{I.hashRemoveNode(h)},isRoot:h=>h===h.parent,isMountpoint:h=>!!h.mounted,isFile:h=>32768==(61440&h),isDir:h=>16384==(61440&h),isLink:h=>40960==(61440&h),isChrdev:h=>8192==(61440&h),isBlkdev:h=>24576==(61440&h),isFIFO:h=>4096==(61440&h),isSocket:h=>49152==(49152&h),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:h=>{var _=I.flagModes[h];if(typeof _>"u")throw new Error("Unknown file open mode: "+h);return _},flagsToPermissionString:h=>{var _=["r","w","rw"][3&h];return 512&h&&(_+="w"),_},nodePermissions:(h,_)=>I.ignorePermissions?0:_.includes("r")&&!(292&h.mode)||_.includes("w")&&!(146&h.mode)||_.includes("x")&&!(73&h.mode)?2:0,mayLookup:h=>I.nodePermissions(h,"x")||(h.node_ops.lookup?0:2),mayCreate:(h,_)=>{try{return I.lookupNode(h,_),20}catch{}return I.nodePermissions(h,"wx")},mayDelete:(h,_,u)=>{var p;try{p=I.lookupNode(h,_)}catch(w){return w.errno}var m=I.nodePermissions(h,"wx");if(m)return m;if(u){if(!I.isDir(p.mode))return 54;if(I.isRoot(p)||I.getPath(p)===I.cwd())return 10}else if(I.isDir(p.mode))return 31;return 0},mayOpen:(h,_)=>h?I.isLink(h.mode)?32:I.isDir(h.mode)&&("r"!==I.flagsToPermissionString(_)||512&_)?31:I.nodePermissions(h,I.flagsToPermissionString(_)):44,MAX_OPEN_FDS:4096,nextfd:(h=0,_=I.MAX_OPEN_FDS)=>{for(var u=h;u<=_;u++)if(!I.streams[u])return u;throw new I.ErrnoError(33)},getStream:h=>I.streams[h],createStream:(h,_,u)=>{I.FSStream||(I.FSStream=function(){this.shared={}},I.FSStream.prototype={},Object.defineProperties(I.FSStream.prototype,{object:{get:function(){return this.node},set:function(m){this.node=m}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(m){this.shared.flags=m}},position:{get:function(){return this.shared.position},set:function(m){this.shared.position=m}}})),h=Object.assign(new I.FSStream,h);var p=I.nextfd(_,u);return h.fd=p,I.streams[p]=h,h},closeStream:h=>{I.streams[h]=null},chrdev_stream_ops:{open:h=>{var _=I.getDevice(h.node.rdev);h.stream_ops=_.stream_ops,h.stream_ops.open&&h.stream_ops.open(h)},llseek:()=>{throw new I.ErrnoError(70)}},major:h=>h>>8,minor:h=>255&h,makedev:(h,_)=>h<<8|_,registerDevice:(h,_)=>{I.devices[h]={stream_ops:_}},getDevice:h=>I.devices[h],getMounts:h=>{for(var _=[],u=[h];u.length;){var p=u.pop();_.push(p),u.push.apply(u,p.mounts)}return _},syncfs:(h,_)=>{"function"==typeof h&&(_=h,h=!1),I.syncFSRequests++,I.syncFSRequests>1&&oe("warning: "+I.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var u=I.getMounts(I.root.mount),p=0;function m(E){return I.syncFSRequests--,_(E)}function w(E){if(E)return w.errored?void 0:(w.errored=!0,m(E));++p>=u.length&&m(null)}u.forEach(E=>{if(!E.type.syncfs)return w(null);E.type.syncfs(E,h,w)})},mount:(h,_,u)=>{var w,p="/"===u,m=!u;if(p&&I.root)throw new I.ErrnoError(10);if(!p&&!m){var E=I.lookupPath(u,{follow_mount:!1});if(u=E.path,I.isMountpoint(w=E.node))throw new I.ErrnoError(10);if(!I.isDir(w.mode))throw new I.ErrnoError(54)}var F={type:h,opts:_,mountpoint:u,mounts:[]},U=h.mount(F);return U.mount=F,F.root=U,p?I.root=U:w&&(w.mounted=F,w.mount&&w.mount.mounts.push(F)),U},unmount:h=>{var _=I.lookupPath(h,{follow_mount:!1});if(!I.isMountpoint(_.node))throw new I.ErrnoError(28);var u=_.node,p=u.mounted,m=I.getMounts(p);Object.keys(I.nameTable).forEach(E=>{for(var F=I.nameTable[E];F;){var U=F.name_next;m.includes(F.mount)&&I.destroyNode(F),F=U}}),u.mounted=null;var w=u.mount.mounts.indexOf(p);u.mount.mounts.splice(w,1)},lookup:(h,_)=>h.node_ops.lookup(h,_),mknod:(h,_,u)=>{var m=I.lookupPath(h,{parent:!0}).node,w=zt.basename(h);if(!w||"."===w||".."===w)throw new I.ErrnoError(28);var E=I.mayCreate(m,w);if(E)throw new I.ErrnoError(E);if(!m.node_ops.mknod)throw new I.ErrnoError(63);return m.node_ops.mknod(m,w,_,u)},create:(h,_)=>(_=void 0!==_?_:438,_&=4095,I.mknod(h,_|=32768,0)),mkdir:(h,_)=>(_=void 0!==_?_:511,_&=1023,I.mknod(h,_|=16384,0)),mkdirTree:(h,_)=>{for(var u=h.split("/"),p="",m=0;m<u.length;++m)if(u[m]){p+="/"+u[m];try{I.mkdir(p,_)}catch(w){if(20!=w.errno)throw w}}},mkdev:(h,_,u)=>(typeof u>"u"&&(u=_,_=438),I.mknod(h,_|=8192,u)),symlink:(h,_)=>{if(!nr.resolve(h))throw new I.ErrnoError(44);var p=I.lookupPath(_,{parent:!0}).node;if(!p)throw new I.ErrnoError(44);var m=zt.basename(_),w=I.mayCreate(p,m);if(w)throw new I.ErrnoError(w);if(!p.node_ops.symlink)throw new I.ErrnoError(63);return p.node_ops.symlink(p,m,h)},rename:(h,_)=>{var F,U,u=zt.dirname(h),p=zt.dirname(_),m=zt.basename(h),w=zt.basename(_);if(F=I.lookupPath(h,{parent:!0}).node,U=I.lookupPath(_,{parent:!0}).node,!F||!U)throw new I.ErrnoError(44);if(F.mount!==U.mount)throw new I.ErrnoError(75);var yt,ie=I.lookupNode(F,m),Ze=nr.relative(h,p);if("."!==Ze.charAt(0))throw new I.ErrnoError(28);if("."!==(Ze=nr.relative(_,u)).charAt(0))throw new I.ErrnoError(55);try{yt=I.lookupNode(U,w)}catch{}if(ie!==yt){var de=I.isDir(ie.mode),pt=I.mayDelete(F,m,de);if(pt)throw new I.ErrnoError(pt);if(pt=yt?I.mayDelete(U,w,de):I.mayCreate(U,w))throw new I.ErrnoError(pt);if(!F.node_ops.rename)throw new I.ErrnoError(63);if(I.isMountpoint(ie)||yt&&I.isMountpoint(yt))throw new I.ErrnoError(10);if(U!==F&&(pt=I.nodePermissions(F,"w")))throw new I.ErrnoError(pt);I.hashRemoveNode(ie);try{F.node_ops.rename(ie,U,w)}catch(dt){throw dt}finally{I.hashAddNode(ie)}}},rmdir:h=>{var u=I.lookupPath(h,{parent:!0}).node,p=zt.basename(h),m=I.lookupNode(u,p),w=I.mayDelete(u,p,!0);if(w)throw new I.ErrnoError(w);if(!u.node_ops.rmdir)throw new I.ErrnoError(63);if(I.isMountpoint(m))throw new I.ErrnoError(10);u.node_ops.rmdir(u,p),I.destroyNode(m)},readdir:h=>{var u=I.lookupPath(h,{follow:!0}).node;if(!u.node_ops.readdir)throw new I.ErrnoError(54);return u.node_ops.readdir(u)},unlink:h=>{var u=I.lookupPath(h,{parent:!0}).node;if(!u)throw new I.ErrnoError(44);var p=zt.basename(h),m=I.lookupNode(u,p),w=I.mayDelete(u,p,!1);if(w)throw new I.ErrnoError(w);if(!u.node_ops.unlink)throw new I.ErrnoError(63);if(I.isMountpoint(m))throw new I.ErrnoError(10);u.node_ops.unlink(u,p),I.destroyNode(m)},readlink:h=>{var u=I.lookupPath(h).node;if(!u)throw new I.ErrnoError(44);if(!u.node_ops.readlink)throw new I.ErrnoError(28);return nr.resolve(I.getPath(u.parent),u.node_ops.readlink(u))},stat:(h,_)=>{var p=I.lookupPath(h,{follow:!_}).node;if(!p)throw new I.ErrnoError(44);if(!p.node_ops.getattr)throw new I.ErrnoError(63);return p.node_ops.getattr(p)},lstat:h=>I.stat(h,!0),chmod:(h,_,u)=>{var p;if(!(p="string"==typeof h?I.lookupPath(h,{follow:!u}).node:h).node_ops.setattr)throw new I.ErrnoError(63);p.node_ops.setattr(p,{mode:4095&_|-4096&p.mode,timestamp:Date.now()})},lchmod:(h,_)=>{I.chmod(h,_,!0)},fchmod:(h,_)=>{var u=I.getStream(h);if(!u)throw new I.ErrnoError(8);I.chmod(u.node,_)},chown:(h,_,u,p)=>{var m;if(!(m="string"==typeof h?I.lookupPath(h,{follow:!p}).node:h).node_ops.setattr)throw new I.ErrnoError(63);m.node_ops.setattr(m,{timestamp:Date.now()})},lchown:(h,_,u)=>{I.chown(h,_,u,!0)},fchown:(h,_,u)=>{var p=I.getStream(h);if(!p)throw new I.ErrnoError(8);I.chown(p.node,_,u)},truncate:(h,_)=>{if(_<0)throw new I.ErrnoError(28);var u;if(!(u="string"==typeof h?I.lookupPath(h,{follow:!0}).node:h).node_ops.setattr)throw new I.ErrnoError(63);if(I.isDir(u.mode))throw new I.ErrnoError(31);if(!I.isFile(u.mode))throw new I.ErrnoError(28);var m=I.nodePermissions(u,"w");if(m)throw new I.ErrnoError(m);u.node_ops.setattr(u,{size:_,timestamp:Date.now()})},ftruncate:(h,_)=>{var u=I.getStream(h);if(!u)throw new I.ErrnoError(8);if(0==(2097155&u.flags))throw new I.ErrnoError(28);I.truncate(u.node,_)},utime:(h,_,u)=>{var m=I.lookupPath(h,{follow:!0}).node;m.node_ops.setattr(m,{timestamp:Math.max(_,u)})},open:(h,_,u)=>{if(""===h)throw new I.ErrnoError(44);var p;if(u=typeof u>"u"?438:u,u=64&(_="string"==typeof _?I.modeStringToFlags(_):_)?4095&u|32768:0,"object"==typeof h)p=h;else{h=zt.normalize(h);try{p=I.lookupPath(h,{follow:!(131072&_)}).node}catch{}}var w=!1;if(64&_)if(p){if(128&_)throw new I.ErrnoError(20)}else p=I.mknod(h,u,0),w=!0;if(!p)throw new I.ErrnoError(44);if(I.isChrdev(p.mode)&&(_&=-513),65536&_&&!I.isDir(p.mode))throw new I.ErrnoError(54);if(!w){var E=I.mayOpen(p,_);if(E)throw new I.ErrnoError(E)}512&_&&!w&&I.truncate(p,0),_&=-131713;var F=I.createStream({node:p,path:I.getPath(p),flags:_,seekable:!0,position:0,stream_ops:p.stream_ops,ungotten:[],error:!1});return F.stream_ops.open&&F.stream_ops.open(F),d.logReadFiles&&!(1&_)&&(I.readFiles||(I.readFiles={}),h in I.readFiles||(I.readFiles[h]=1)),F},close:h=>{if(I.isClosed(h))throw new I.ErrnoError(8);h.getdents&&(h.getdents=null);try{h.stream_ops.close&&h.stream_ops.close(h)}catch(_){throw _}finally{I.closeStream(h.fd)}h.fd=null},isClosed:h=>null===h.fd,llseek:(h,_,u)=>{if(I.isClosed(h))throw new I.ErrnoError(8);if(!h.seekable||!h.stream_ops.llseek)throw new I.ErrnoError(70);if(0!=u&&1!=u&&2!=u)throw new I.ErrnoError(28);return h.position=h.stream_ops.llseek(h,_,u),h.ungotten=[],h.position},read:(h,_,u,p,m)=>{if(p<0||m<0)throw new I.ErrnoError(28);if(I.isClosed(h))throw new I.ErrnoError(8);if(1==(2097155&h.flags))throw new I.ErrnoError(8);if(I.isDir(h.node.mode))throw new I.ErrnoError(31);if(!h.stream_ops.read)throw new I.ErrnoError(28);var w=typeof m<"u";if(w){if(!h.seekable)throw new I.ErrnoError(70)}else m=h.position;var E=h.stream_ops.read(h,_,u,p,m);return w||(h.position+=E),E},write:(h,_,u,p,m,w)=>{if(p<0||m<0)throw new I.ErrnoError(28);if(I.isClosed(h))throw new I.ErrnoError(8);if(0==(2097155&h.flags))throw new I.ErrnoError(8);if(I.isDir(h.node.mode))throw new I.ErrnoError(31);if(!h.stream_ops.write)throw new I.ErrnoError(28);h.seekable&&1024&h.flags&&I.llseek(h,0,2);var E=typeof m<"u";if(E){if(!h.seekable)throw new I.ErrnoError(70)}else m=h.position;var F=h.stream_ops.write(h,_,u,p,m,w);return E||(h.position+=F),F},allocate:(h,_,u)=>{if(I.isClosed(h))throw new I.ErrnoError(8);if(_<0||u<=0)throw new I.ErrnoError(28);if(0==(2097155&h.flags))throw new I.ErrnoError(8);if(!I.isFile(h.node.mode)&&!I.isDir(h.node.mode))throw new I.ErrnoError(43);if(!h.stream_ops.allocate)throw new I.ErrnoError(138);h.stream_ops.allocate(h,_,u)},mmap:(h,_,u,p,m)=>{if(0!=(2&p)&&0==(2&m)&&2!=(2097155&h.flags))throw new I.ErrnoError(2);if(1==(2097155&h.flags))throw new I.ErrnoError(2);if(!h.stream_ops.mmap)throw new I.ErrnoError(43);return h.stream_ops.mmap(h,_,u,p,m)},msync:(h,_,u,p,m)=>h.stream_ops.msync?h.stream_ops.msync(h,_,u,p,m):0,munmap:h=>0,ioctl:(h,_,u)=>{if(!h.stream_ops.ioctl)throw new I.ErrnoError(59);return h.stream_ops.ioctl(h,_,u)},readFile:(h,_={})=>{if(_.flags=_.flags||0,_.encoding=_.encoding||"binary","utf8"!==_.encoding&&"binary"!==_.encoding)throw new Error('Invalid encoding type "'+_.encoding+'"');var u,p=I.open(h,_.flags),w=I.stat(h).size,E=new Uint8Array(w);return I.read(p,E,0,w,0),"utf8"===_.encoding?u=Ve(E,0):"binary"===_.encoding&&(u=E),I.close(p),u},writeFile:(h,_,u={})=>{u.flags=u.flags||577;var p=I.open(h,u.flags,u.mode);if("string"==typeof _){var m=new Uint8Array(K(_)+1),w=ke(_,m,0,m.length);I.write(p,m,0,w,void 0,u.canOwn)}else{if(!ArrayBuffer.isView(_))throw new Error("Unsupported data type");I.write(p,_,0,_.byteLength,void 0,u.canOwn)}I.close(p)},cwd:()=>I.currentPath,chdir:h=>{var _=I.lookupPath(h,{follow:!0});if(null===_.node)throw new I.ErrnoError(44);if(!I.isDir(_.node.mode))throw new I.ErrnoError(54);var u=I.nodePermissions(_.node,"x");if(u)throw new I.ErrnoError(u);I.currentPath=_.path},createDefaultDirectories:()=>{I.mkdir("/tmp"),I.mkdir("/home"),I.mkdir("/home/web_user")},createDefaultDevices:()=>{I.mkdir("/dev"),I.registerDevice(I.makedev(1,3),{read:()=>0,write:(_,u,p,m,w)=>m}),I.mkdev("/dev/null",I.makedev(1,3)),no.register(I.makedev(5,0),no.default_tty_ops),no.register(I.makedev(6,0),no.default_tty1_ops),I.mkdev("/dev/tty",I.makedev(5,0)),I.mkdev("/dev/tty1",I.makedev(6,0));var h=function eo(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var h=new Uint8Array(1);return()=>(crypto.getRandomValues(h),h[0])}return()=>Qn("randomDevice")}();I.createDevice("/dev","random",h),I.createDevice("/dev","urandom",h),I.mkdir("/dev/shm"),I.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{I.mkdir("/proc");var h=I.mkdir("/proc/self");I.mkdir("/proc/self/fd"),I.mount({mount:()=>{var _=I.createNode(h,"fd",16895,73);return _.node_ops={lookup:(u,p)=>{var w=I.getStream(+p);if(!w)throw new I.ErrnoError(8);var E={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>w.path}};return E.parent=E,E}},_}},{},"/proc/self/fd")},createStandardStreams:()=>{d.stdin?I.createDevice("/dev","stdin",d.stdin):I.symlink("/dev/tty","/dev/stdin"),d.stdout?I.createDevice("/dev","stdout",null,d.stdout):I.symlink("/dev/tty","/dev/stdout"),d.stderr?I.createDevice("/dev","stderr",null,d.stderr):I.symlink("/dev/tty1","/dev/stderr"),I.open("/dev/stdin",0),I.open("/dev/stdout",1),I.open("/dev/stderr",1)},ensureErrnoError:()=>{I.ErrnoError||(I.ErrnoError=function(_,u){this.node=u,this.setErrno=function(p){this.errno=p},this.setErrno(_),this.message="FS error"},I.ErrnoError.prototype=new Error,I.ErrnoError.prototype.constructor=I.ErrnoError,[44].forEach(h=>{I.genericErrors[h]=new I.ErrnoError(h),I.genericErrors[h].stack="<generic error, no stack>"}))},staticInit:()=>{I.ensureErrnoError(),I.nameTable=new Array(4096),I.mount(Xt,{},"/"),I.createDefaultDirectories(),I.createDefaultDevices(),I.createSpecialDirectories(),I.filesystems={MEMFS:Xt}},init:(h,_,u)=>{I.init.initialized=!0,I.ensureErrnoError(),d.stdin=h||d.stdin,d.stdout=_||d.stdout,d.stderr=u||d.stderr,I.createStandardStreams()},quit:()=>{I.init.initialized=!1;for(var h=0;h<I.streams.length;h++){var _=I.streams[h];!_||I.close(_)}},getMode:(h,_)=>{var u=0;return h&&(u|=365),_&&(u|=146),u},findObject:(h,_)=>{var u=I.analyzePath(h,_);return u.exists?u.object:null},analyzePath:(h,_)=>{try{h=(u=I.lookupPath(h,{follow:!_})).path}catch{}var p={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var u=I.lookupPath(h,{parent:!0});p.parentExists=!0,p.parentPath=u.path,p.parentObject=u.node,p.name=zt.basename(h),u=I.lookupPath(h,{follow:!_}),p.exists=!0,p.path=u.path,p.object=u.node,p.name=u.node.name,p.isRoot="/"===u.path}catch(m){p.error=m.errno}return p},createPath:(h,_,u,p)=>{h="string"==typeof h?h:I.getPath(h);for(var m=_.split("/").reverse();m.length;){var w=m.pop();if(w){var E=zt.join2(h,w);try{I.mkdir(E)}catch{}h=E}}return E},createFile:(h,_,u,p,m)=>{var w=zt.join2("string"==typeof h?h:I.getPath(h),_),E=I.getMode(p,m);return I.create(w,E)},createDataFile:(h,_,u,p,m,w)=>{var E=_;h&&(h="string"==typeof h?h:I.getPath(h),E=_?zt.join2(h,_):h);var F=I.getMode(p,m),U=I.create(E,F);if(u){if("string"==typeof u){for(var ie=new Array(u.length),Ze=0,yt=u.length;Ze<yt;++Ze)ie[Ze]=u.charCodeAt(Ze);u=ie}I.chmod(U,146|F);var de=I.open(U,577);I.write(de,u,0,u.length,0,w),I.close(de),I.chmod(U,F)}return U},createDevice:(h,_,u,p)=>{var m=zt.join2("string"==typeof h?h:I.getPath(h),_),w=I.getMode(!!u,!!p);I.createDevice.major||(I.createDevice.major=64);var E=I.makedev(I.createDevice.major++,0);return I.registerDevice(E,{open:F=>{F.seekable=!1},close:F=>{p&&p.buffer&&p.buffer.length&&p(10)},read:(F,U,ie,Ze,yt)=>{for(var de=0,pt=0;pt<Ze;pt++){var dt;try{dt=u()}catch{throw new I.ErrnoError(29)}if(void 0===dt&&0===de)throw new I.ErrnoError(6);if(null==dt)break;de++,U[ie+pt]=dt}return de&&(F.node.timestamp=Date.now()),de},write:(F,U,ie,Ze,yt)=>{for(var de=0;de<Ze;de++)try{p(U[ie+de])}catch{throw new I.ErrnoError(29)}return Ze&&(F.node.timestamp=Date.now()),de}}),I.mkdev(m,w,E)},forceLoadFile:h=>{if(h.isDevice||h.isFolder||h.link||h.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!V)throw new Error("Cannot load without read() or XMLHttpRequest.");try{h.contents=to(V(h.url),!0),h.usedBytes=h.contents.length}catch{throw new I.ErrnoError(29)}},createLazyFile:(h,_,u,p,m)=>{function w(){this.lengthKnown=!1,this.chunks=[]}if(w.prototype.get=function(pt){if(!(pt>this.length-1||pt<0)){var dt=pt%this.chunkSize;return this.getter(pt/this.chunkSize|0)[dt]}},w.prototype.setDataGetter=function(pt){this.getter=pt},w.prototype.cacheLength=function(){var pt=new XMLHttpRequest;if(pt.open("HEAD",u,!1),pt.send(null),!(pt.status>=200&&pt.status<300||304===pt.status))throw new Error("Couldn't load "+u+". Status: "+pt.status);var _t,dt=Number(pt.getResponseHeader("Content-length")),sn=(_t=pt.getResponseHeader("Accept-Ranges"))&&"bytes"===_t,jt=(_t=pt.getResponseHeader("Content-Encoding"))&&"gzip"===_t,nt=1048576;sn||(nt=dt);var Ee=this;Ee.setDataGetter(lt=>{var Yt=lt*nt,Ut=(lt+1)*nt-1;if(Ut=Math.min(Ut,dt-1),typeof Ee.chunks[lt]>"u"&&(Ee.chunks[lt]=((lt,Yt)=>{if(lt>Yt)throw new Error("invalid range ("+lt+", "+Yt+") or no bytes requested!");if(Yt>dt-1)throw new Error("only "+dt+" bytes available! programmer error!");var Ut=new XMLHttpRequest;if(Ut.open("GET",u,!1),dt!==nt&&Ut.setRequestHeader("Range","bytes="+lt+"-"+Yt),Ut.responseType="arraybuffer",Ut.overrideMimeType&&Ut.overrideMimeType("text/plain; charset=x-user-defined"),Ut.send(null),!(Ut.status>=200&&Ut.status<300||304===Ut.status))throw new Error("Couldn't load "+u+". Status: "+Ut.status);return void 0!==Ut.response?new Uint8Array(Ut.response||[]):to(Ut.responseText||"",!0)})(Yt,Ut)),typeof Ee.chunks[lt]>"u")throw new Error("doXHR failed!");return Ee.chunks[lt]}),(jt||!dt)&&(nt=dt=1,dt=this.getter(0).length,nt=dt,ge("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=dt,this._chunkSize=nt,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!q)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var E=new w;Object.defineProperties(E,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var F={isDevice:!1,contents:E}}else F={isDevice:!1,url:u};var U=I.createFile(h,_,F,p,m);F.contents?U.contents=F.contents:F.url&&(U.contents=null,U.url=F.url),Object.defineProperties(U,{usedBytes:{get:function(){return this.contents.length}}});var ie={};function yt(de,pt,dt,_t,sn){var jt=de.node.contents;if(sn>=jt.length)return 0;var nt=Math.min(jt.length-sn,_t);if(jt.slice)for(var Mt=0;Mt<nt;Mt++)pt[dt+Mt]=jt[sn+Mt];else for(Mt=0;Mt<nt;Mt++)pt[dt+Mt]=jt.get(sn+Mt);return nt}return Object.keys(U.stream_ops).forEach(de=>{var pt=U.stream_ops[de];ie[de]=function(){return I.forceLoadFile(U),pt.apply(null,arguments)}}),ie.read=(de,pt,dt,_t,sn)=>(I.forceLoadFile(U),yt(de,pt,dt,_t,sn)),ie.mmap=(de,pt,dt,_t,sn)=>{I.forceLoadFile(U);var jt=Wo();if(!jt)throw new I.ErrnoError(48);return yt(de,ze,jt,pt,dt),{ptr:jt,allocated:!0}},U.stream_ops=ie,U},createPreloadedFile:(h,_,u,p,m,w,E,F,U,ie)=>{var Ze=_?nr.resolve(zt.join2(h,_)):h;function de(pt){function dt(_t){ie&&ie(),F||I.createDataFile(h,_,_t,p,m,U),w&&w(),ar()}Browser.handledByPreloadPlugin(pt,Ze,dt,()=>{E&&E(),ar()})||dt(pt)}mo(),"string"==typeof u?function yo(h,_,u,p){var m=p?"":"al "+h;xe(h,w=>{be(w,'Loading data file "'+h+'" failed (no arrayBuffer).'),_(new Uint8Array(w)),m&&ar()},w=>{if(!u)throw'Loading data file "'+h+'" failed.';u()}),m&&mo()}(u,pt=>de(pt),E):de(u)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(h,_,u)=>{_=_||(()=>{}),u=u||(()=>{});var p=I.indexedDB();try{var m=p.open(I.DB_NAME(),I.DB_VERSION)}catch(w){return u(w)}m.onupgradeneeded=()=>{ge("creating db"),m.result.createObjectStore(I.DB_STORE_NAME)},m.onsuccess=()=>{var E=m.result.transaction([I.DB_STORE_NAME],"readwrite"),F=E.objectStore(I.DB_STORE_NAME),U=0,ie=0,Ze=h.length;function yt(){0==ie?_():u()}h.forEach(de=>{var pt=F.put(I.analyzePath(de).object.contents,de);pt.onsuccess=()=>{++U+ie==Ze&&yt()},pt.onerror=()=>{ie++,U+ie==Ze&&yt()}}),E.onerror=u},m.onerror=u},loadFilesFromDB:(h,_,u)=>{_=_||(()=>{}),u=u||(()=>{});var p=I.indexedDB();try{var m=p.open(I.DB_NAME(),I.DB_VERSION)}catch(w){return u(w)}m.onupgradeneeded=u,m.onsuccess=()=>{var w=m.result;try{var E=w.transaction([I.DB_STORE_NAME],"readonly")}catch(de){return void u(de)}var F=E.objectStore(I.DB_STORE_NAME),U=0,ie=0,Ze=h.length;function yt(){0==ie?_():u()}h.forEach(de=>{var pt=F.get(de);pt.onsuccess=()=>{I.analyzePath(de).exists&&I.unlink(de),I.createDataFile(zt.dirname(de),zt.basename(de),pt.result,!0,!0,!0),++U+ie==Ze&&yt()},pt.onerror=()=>{ie++,U+ie==Ze&&yt()}}),E.onerror=u},m.onerror=u}},qr={DEFAULT_POLLMASK:5,calculateAt:function(h,_,u){if(zt.isAbs(_))return _;var p;if(p=-100===h?I.cwd():qr.getStreamFromFD(h).path,0==_.length){if(!u)throw new I.ErrnoError(44);return p}return zt.join2(p,_)},doStat:function(h,_,u){try{var p=h(_)}catch(m){if(m&&m.node&&zt.normalize(_)!==zt.normalize(I.getPath(m.node)))return-54;throw m}return L[u>>2]=p.dev,L[u+8>>2]=p.ino,L[u+12>>2]=p.mode,B[u+16>>2]=p.nlink,L[u+20>>2]=p.uid,L[u+24>>2]=p.gid,L[u+28>>2]=p.rdev,re=[p.size>>>0,(Qe=p.size,+Math.abs(Qe)>=1?Qe>0?(0|Math.min(+Math.floor(Qe/4294967296),4294967295))>>>0:~~+Math.ceil((Qe-+(~~Qe>>>0))/4294967296)>>>0:0)],L[u+40>>2]=re[0],L[u+44>>2]=re[1],L[u+48>>2]=4096,L[u+52>>2]=p.blocks,re=[Math.floor(p.atime.getTime()/1e3)>>>0,(Qe=Math.floor(p.atime.getTime()/1e3),+Math.abs(Qe)>=1?Qe>0?(0|Math.min(+Math.floor(Qe/4294967296),4294967295))>>>0:~~+Math.ceil((Qe-+(~~Qe>>>0))/4294967296)>>>0:0)],L[u+56>>2]=re[0],L[u+60>>2]=re[1],B[u+64>>2]=0,re=[Math.floor(p.mtime.getTime()/1e3)>>>0,(Qe=Math.floor(p.mtime.getTime()/1e3),+Math.abs(Qe)>=1?Qe>0?(0|Math.min(+Math.floor(Qe/4294967296),4294967295))>>>0:~~+Math.ceil((Qe-+(~~Qe>>>0))/4294967296)>>>0:0)],L[u+72>>2]=re[0],L[u+76>>2]=re[1],B[u+80>>2]=0,re=[Math.floor(p.ctime.getTime()/1e3)>>>0,(Qe=Math.floor(p.ctime.getTime()/1e3),+Math.abs(Qe)>=1?Qe>0?(0|Math.min(+Math.floor(Qe/4294967296),4294967295))>>>0:~~+Math.ceil((Qe-+(~~Qe>>>0))/4294967296)>>>0:0)],L[u+88>>2]=re[0],L[u+92>>2]=re[1],B[u+96>>2]=0,re=[p.ino>>>0,(Qe=p.ino,+Math.abs(Qe)>=1?Qe>0?(0|Math.min(+Math.floor(Qe/4294967296),4294967295))>>>0:~~+Math.ceil((Qe-+(~~Qe>>>0))/4294967296)>>>0:0)],L[u+104>>2]=re[0],L[u+108>>2]=re[1],0},doMsync:function(h,_,u,p,m){if(!I.isFile(_.node.mode))throw new I.ErrnoError(43);if(2&p)return 0;var w=at.slice(h,h+u);I.msync(_,w,m,u,p)},varargs:void 0,get:function(){return qr.varargs+=4,L[qr.varargs-4>>2]},getStr:function(h){return Oe(h)},getStreamFromFD:function(h){var _=I.getStream(h);if(!_)throw new I.ErrnoError(8);return _}},Zo=[31,29,31,30,31,30,31,31,30,31,30,31],_i=[31,28,31,30,31,30,31,31,30,31,30,31];var N=function(h,_,u,p){h||(h=this),this.parent=h,this.mount=h.mount,this.mounted=null,this.id=I.nextInode++,this.name=_,this.mode=u,this.node_ops={},this.stream_ops={},this.rdev=p};Object.defineProperties(N.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(h){h?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(h){h?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return I.isDir(this.mode)}},isDevice:{get:function(){return I.isChrdev(this.mode)}}}),I.FSNode=N,I.staticInit();var Ms,P={h:function Yn(h,_){var u=new Date(1e3*function bn(h){return B[h>>2]+4294967296*L[h+4>>2]}(h));L[_>>2]=u.getSeconds(),L[_+4>>2]=u.getMinutes(),L[_+8>>2]=u.getHours(),L[_+12>>2]=u.getDate(),L[_+16>>2]=u.getMonth(),L[_+20>>2]=u.getFullYear()-1900,L[_+24>>2]=u.getDay();var p=0|Jt(u);L[_+28>>2]=p,L[_+36>>2]=-60*u.getTimezoneOffset();var m=new Date(u.getFullYear(),0,1),w=new Date(u.getFullYear(),6,1).getTimezoneOffset(),E=m.getTimezoneOffset(),F=0|(w!=E&&u.getTimezoneOffset()==Math.min(E,w));L[_+32>>2]=F},i:function lr(h){var _=new Date(L[h+20>>2]+1900,L[h+16>>2],L[h+12>>2],L[h+8>>2],L[h+4>>2],L[h>>2],0),u=L[h+32>>2],p=_.getTimezoneOffset(),m=new Date(_.getFullYear(),0,1),w=new Date(_.getFullYear(),6,1).getTimezoneOffset(),E=m.getTimezoneOffset(),F=Math.min(E,w);if(u<0)L[h+32>>2]=Number(w!=E&&F==p);else if(u>0!=(F==p)){var U=Math.max(E,w),ie=u>0?F:U;_.setTime(_.getTime()+6e4*(ie-p))}L[h+24>>2]=_.getDay();var Ze=0|Jt(_);return L[h+28>>2]=Ze,L[h>>2]=_.getSeconds(),L[h+4>>2]=_.getMinutes(),L[h+8>>2]=_.getHours(),L[h+12>>2]=_.getDate(),L[h+16>>2]=_.getMonth(),L[h+20>>2]=_.getYear(),_.getTime()/1e3|0},n:function tr(h,_,u){var p=(new Date).getFullYear(),m=new Date(p,0,1),w=new Date(p,6,1),E=m.getTimezoneOffset(),F=w.getTimezoneOffset(),U=Math.max(E,F);function ie(dt){var _t=dt.toTimeString().match(/\(([A-Za-z ]+)\)$/);return _t?_t[1]:"GMT"}B[h>>2]=60*U,L[_>>2]=Number(E!=F);var Ze=ie(m),yt=ie(w),de=Vt(Ze),pt=Vt(yt);F<E?(B[u>>2]=de,B[u+4>>2]=pt):(B[u>>2]=pt,B[u+4>>2]=de)},a:function S(){Qn("")},g:function kt(){return Date.now()},f:function hr(h,_,u){at.copyWithin(h,_,_+u)},e:function so(h){var U,_=at.length,u=2147483648;if((h>>>=0)>u)return!1;for(var m=1;m<=4;m*=2){var w=_*(1+.2/m);if(w=Math.min(w,h+100663296),Pr(Math.min(u,(U=Math.max(h,w))+(65536-U%65536)%65536)))return!0}return!1},l:function Br(h,_){var u=0;return _r().forEach(function(p,m){var w=_+u;B[h+4*m>>2]=w,function Mo(h,_,u){for(var p=0;p<h.length;++p)ze[_++>>0]=h.charCodeAt(p);u||(ze[_>>0]=0)}(p,w),u+=p.length+1}),0},m:function ai(h,_){var u=_r();B[h>>2]=u.length;var p=0;return u.forEach(function(m){p+=m.length+1}),B[_>>2]=p,0},b:function li(h){try{var _=qr.getStreamFromFD(h);return I.close(_),0}catch(u){if(typeof I>"u"||!(u instanceof I.ErrnoError))throw u;return u.errno}},d:function ko(h,_,u,p){try{var w=function Ro(h,_,u,p){for(var m=0,w=0;w<u;w++){var E=B[_>>2],F=B[_+4>>2];_+=8;var U=I.read(h,ze,E,F,p);if(U<0)return-1;if(m+=U,U<F)break}return m}(qr.getStreamFromFD(h),_,u);return B[p>>2]=w,0}catch(E){if(typeof I>"u"||!(E instanceof I.ErrnoError))throw E;return E.errno}},j:function Qi(h,_,u,p,m){try{var w=function Vr(h,_){return _+2097152>>>0<4194305-!!h?(h>>>0)+4294967296*_:NaN}(_,u);if(isNaN(w))return 61;var E=qr.getStreamFromFD(h);return I.llseek(E,w,p),re=[E.position>>>0,(Qe=E.position,+Math.abs(Qe)>=1?Qe>0?(0|Math.min(+Math.floor(Qe/4294967296),4294967295))>>>0:~~+Math.ceil((Qe-+(~~Qe>>>0))/4294967296)>>>0:0)],L[m>>2]=re[0],L[m+4>>2]=re[1],E.getdents&&0===w&&0===p&&(E.getdents=null),0}catch(F){if(typeof I>"u"||!(F instanceof I.ErrnoError))throw F;return F.errno}},c:function Pi(h,_,u,p){try{var w=function qo(h,_,u,p){for(var m=0,w=0;w<u;w++){var E=B[_>>2],F=B[_+4>>2];_+=8;var U=I.write(h,ze,E,F,p);if(U<0)return-1;m+=U}return m}(qr.getStreamFromFD(h),_,u);return B[p>>2]=w,0}catch(E){if(typeof I>"u"||!(E instanceof I.ErrnoError))throw E;return E.errno}},k:function Nn(h,_,u,p,m){return function Ko(h,_,u,p){var m=L[p+40>>2],w={tm_sec:L[p>>2],tm_min:L[p+4>>2],tm_hour:L[p+8>>2],tm_mday:L[p+12>>2],tm_mon:L[p+16>>2],tm_year:L[p+20>>2],tm_wday:L[p+24>>2],tm_yday:L[p+28>>2],tm_isdst:L[p+32>>2],tm_gmtoff:L[p+36>>2],tm_zone:m?Oe(m):""},E=Oe(u),F={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var U in F)E=E.replace(new RegExp(U,"g"),F[U]);var ie=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Ze=["January","February","March","April","May","June","July","August","September","October","November","December"];function yt(nt,Mt,Ee){for(var lt="number"==typeof nt?nt.toString():nt||"";lt.length<Mt;)lt=Ee[0]+lt;return lt}function de(nt,Mt){return yt(nt,Mt,"0")}function pt(nt,Mt){function Ee(Yt){return Yt<0?-1:Yt>0?1:0}var lt;return 0===(lt=Ee(nt.getFullYear()-Mt.getFullYear()))&&0===(lt=Ee(nt.getMonth()-Mt.getMonth()))&&(lt=Ee(nt.getDate()-Mt.getDate())),lt}function dt(nt){switch(nt.getDay()){case 0:return new Date(nt.getFullYear()-1,11,29);case 1:return nt;case 2:return new Date(nt.getFullYear(),0,3);case 3:return new Date(nt.getFullYear(),0,2);case 4:return new Date(nt.getFullYear(),0,1);case 5:return new Date(nt.getFullYear()-1,11,31);case 6:return new Date(nt.getFullYear()-1,11,30)}}function _t(nt){var Mt=function Yo(h,_){for(var u=new Date(h.getTime());_>0;){var p=Ft(u.getFullYear()),m=u.getMonth(),w=(p?Zo:_i)[m];if(!(_>w-u.getDate()))return u.setDate(u.getDate()+_),u;_-=w-u.getDate()+1,u.setDate(1),m<11?u.setMonth(m+1):(u.setMonth(0),u.setFullYear(u.getFullYear()+1))}return u}(new Date(nt.tm_year+1900,0,1),nt.tm_yday),Ee=new Date(Mt.getFullYear(),0,4),lt=new Date(Mt.getFullYear()+1,0,4),Yt=dt(Ee),Ut=dt(lt);return pt(Yt,Mt)<=0?pt(Ut,Mt)<=0?Mt.getFullYear()+1:Mt.getFullYear():Mt.getFullYear()-1}var sn={"%a":function(nt){return ie[nt.tm_wday].substring(0,3)},"%A":function(nt){return ie[nt.tm_wday]},"%b":function(nt){return Ze[nt.tm_mon].substring(0,3)},"%B":function(nt){return Ze[nt.tm_mon]},"%C":function(nt){return de((nt.tm_year+1900)/100|0,2)},"%d":function(nt){return de(nt.tm_mday,2)},"%e":function(nt){return yt(nt.tm_mday,2," ")},"%g":function(nt){return _t(nt).toString().substring(2)},"%G":function(nt){return _t(nt)},"%H":function(nt){return de(nt.tm_hour,2)},"%I":function(nt){var Mt=nt.tm_hour;return 0==Mt?Mt=12:Mt>12&&(Mt-=12),de(Mt,2)},"%j":function(nt){return de(nt.tm_mday+function Gn(h,_){for(var u=0,p=0;p<=_;u+=h[p++]);return u}(Ft(nt.tm_year+1900)?Zo:_i,nt.tm_mon-1),3)},"%m":function(nt){return de(nt.tm_mon+1,2)},"%M":function(nt){return de(nt.tm_min,2)},"%n":function(){return"\n"},"%p":function(nt){return nt.tm_hour>=0&&nt.tm_hour<12?"AM":"PM"},"%S":function(nt){return de(nt.tm_sec,2)},"%t":function(){return"\t"},"%u":function(nt){return nt.tm_wday||7},"%U":function(nt){return de(Math.floor((nt.tm_yday+7-nt.tm_wday)/7),2)},"%V":function(nt){var Mt=Math.floor((nt.tm_yday+7-(nt.tm_wday+6)%7)/7);if((nt.tm_wday+371-nt.tm_yday-2)%7<=2&&Mt++,Mt){if(53==Mt){var lt=(nt.tm_wday+371-nt.tm_yday)%7;4!=lt&&(3!=lt||!Ft(nt.tm_year))&&(Mt=1)}}else{Mt=52;var Ee=(nt.tm_wday+7-nt.tm_yday-1)%7;(4==Ee||5==Ee&&Ft(nt.tm_year%400-1))&&Mt++}return de(Mt,2)},"%w":function(nt){return nt.tm_wday},"%W":function(nt){return de(Math.floor((nt.tm_yday+7-(nt.tm_wday+6)%7)/7),2)},"%y":function(nt){return(nt.tm_year+1900).toString().substring(2)},"%Y":function(nt){return nt.tm_year+1900},"%z":function(nt){var Mt=nt.tm_gmtoff,Ee=Mt>=0;return Mt=(Mt=Math.abs(Mt)/60)/60*100+Mt%60,(Ee?"+":"-")+String("0000"+Mt).slice(-4)},"%Z":function(nt){return nt.tm_zone},"%%":function(){return"%"}};for(var U in E=E.replace(/%%/g,"\0\0"),sn)E.includes(U)&&(E=E.replace(new RegExp(U,"g"),sn[U](w)));var jt=to(E=E.replace(/\0\0/g,"%"),!1);return jt.length>_?0:(function Rn(h,_){ze.set(h,_)}(jt,h),jt.length-1)}(h,_,u,p)}},Pe=(function Ar(){var h={a:P};function _(E,F){d.asm=E.exports,Te((ue=d.asm.o).buffer),function Jr(h){Je.unshift(h)}(d.asm.p),ar()}function u(E){_(E.instance)}function p(E){return function vi(){return ce||!ye&&!q||"function"!=typeof fetch?Promise.resolve().then(function(){return Wr(Sn)}):fetch(Sn,{credentials:"same-origin"}).then(function(h){if(!h.ok)throw"failed to load wasm binary file at '"+Sn+"'";return h.arrayBuffer()}).catch(function(){return Wr(Sn)})}().then(function(F){return WebAssembly.instantiate(F,h)}).then(function(F){return F}).then(E,function(F){oe("failed to asynchronously prepare wasm: "+F),Qn(F)})}if(mo(),d.instantiateWasm)try{return d.instantiateWasm(h,_)}catch(E){oe("Module.instantiateWasm callback failed with error: "+E),ee(E)}(function m(){return ce||"function"!=typeof WebAssembly.instantiateStreaming||$r(Sn)||"function"!=typeof fetch?p(u):fetch(Sn,{credentials:"same-origin"}).then(function(E){return WebAssembly.instantiateStreaming(E,h).then(u,function(U){return oe("wasm streaming compile failed: "+U),oe("falling back to ArrayBuffer instantiation"),p(u)})})})().catch(ee)}(),d.___wasm_call_ctors=function(){return(d.___wasm_call_ctors=d.asm.p).apply(null,arguments)},d._malloc=function(){return(Pe=d._malloc=d.asm.q).apply(null,arguments)}),Xe=(d._free=function(){return(d._free=d.asm.r).apply(null,arguments)},d._emscripten_bind_VoidPtr___destroy___0=function(){return(Xe=d._emscripten_bind_VoidPtr___destroy___0=d.asm.s).apply(null,arguments)}),Ct=d._emscripten_bind_Vfs_Vfs_0=function(){return(Ct=d._emscripten_bind_Vfs_Vfs_0=d.asm.t).apply(null,arguments)},Wt=d._emscripten_bind_Vfs_Malloc_1=function(){return(Wt=d._emscripten_bind_Vfs_Malloc_1=d.asm.u).apply(null,arguments)},Zt=d._emscripten_bind_Vfs_Free_1=function(){return(Zt=d._emscripten_bind_Vfs_Free_1=d.asm.v).apply(null,arguments)},rr=d._emscripten_bind_Vfs_Nullptr_0=function(){return(rr=d._emscripten_bind_Vfs_Nullptr_0=d.asm.w).apply(null,arguments)},lo=d._emscripten_bind_Vfs_AllocateImage_1=function(){return(lo=d._emscripten_bind_Vfs_AllocateImage_1=d.asm.x).apply(null,arguments)},Rr=d._emscripten_bind_Vfs_MountImage_1=function(){return(Rr=d._emscripten_bind_Vfs_MountImage_1=d.asm.y).apply(null,arguments)},mr=d._emscripten_bind_Vfs_UnmountImage_1=function(){return(mr=d._emscripten_bind_Vfs_UnmountImage_1=d.asm.z).apply(null,arguments)},Ri=d._emscripten_bind_Vfs_GetPendingImageSize_0=function(){return(Ri=d._emscripten_bind_Vfs_GetPendingImageSize_0=d.asm.A).apply(null,arguments)},Xo=d._emscripten_bind_Vfs_GetSize_1=function(){return(Xo=d._emscripten_bind_Vfs_GetSize_1=d.asm.B).apply(null,arguments)},bi=d._emscripten_bind_Vfs_GetPendingImage_0=function(){return(bi=d._emscripten_bind_Vfs_GetPendingImage_0=d.asm.C).apply(null,arguments)},ka=d._emscripten_bind_Vfs_GetImage_1=function(){return(ka=d._emscripten_bind_Vfs_GetImage_1=d.asm.D).apply(null,arguments)},Es=d._emscripten_bind_Vfs___destroy___0=function(){return(Es=d._emscripten_bind_Vfs___destroy___0=d.asm.E).apply(null,arguments)},Ta=d._emscripten_bind_ReaddirContext_ReaddirContext_1=function(){return(Ta=d._emscripten_bind_ReaddirContext_ReaddirContext_1=d.asm.F).apply(null,arguments)},Ds=d._emscripten_bind_ReaddirContext_Next_0=function(){return(Ds=d._emscripten_bind_ReaddirContext_Next_0=d.asm.G).apply(null,arguments)},us=d._emscripten_bind_ReaddirContext_GetEntryName_0=function(){return(us=d._emscripten_bind_ReaddirContext_GetEntryName_0=d.asm.H).apply(null,arguments)},Fr=d._emscripten_bind_ReaddirContext_IsEntryDirectory_0=function(){return(Fr=d._emscripten_bind_ReaddirContext_IsEntryDirectory_0=d.asm.I).apply(null,arguments)},Fn=d._emscripten_bind_ReaddirContext_GetEntrySize_0=function(){return(Fn=d._emscripten_bind_ReaddirContext_GetEntrySize_0=d.asm.J).apply(null,arguments)},dl=d._emscripten_bind_ReaddirContext_GetEntryModifiedTS_0=function(){return(dl=d._emscripten_bind_ReaddirContext_GetEntryModifiedTS_0=d.asm.K).apply(null,arguments)},xa=d._emscripten_bind_ReaddirContext_GetStatus_0=function(){return(xa=d._emscripten_bind_ReaddirContext_GetStatus_0=d.asm.L).apply(null,arguments)},Aa=d._emscripten_bind_ReaddirContext_GetError_0=function(){return(Aa=d._emscripten_bind_ReaddirContext_GetError_0=d.asm.M).apply(null,arguments)},ft=d._emscripten_bind_ReaddirContext_GetErrorDescription_0=function(){return(ft=d._emscripten_bind_ReaddirContext_GetErrorDescription_0=d.asm.N).apply(null,arguments)},Pa=d._emscripten_bind_ReaddirContext___destroy___0=function(){return(Pa=d._emscripten_bind_ReaddirContext___destroy___0=d.asm.O).apply(null,arguments)};function es(h){var _=d._main;try{var m=_(0,0);return function Ji(h,_){he=h,function wi(h){he=h,function on(){return Ae}()||(d.onExit&&d.onExit(h),Ge=!0),G(h,new Le(h))}(h)}(m),m}catch(w){return function T(h){if(h instanceof Le||"unwind"==h)return he;G(1,h)}(w)}}function ts(h){function _(){Ms||(Ms=!0,d.calledRun=!0,!Ge&&(function zr(){!d.noFSInit&&!I.init.initialized&&I.init(),I.ignorePermissions=!1,no.init(),pn(Je)}(),function Er(){pn(At)}(),ne(d),d.onRuntimeInitialized&&d.onRuntimeInitialized(),ns&&es(),function Zn(){if(d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)h=d.postRun.shift(),Lt.unshift(h);var h;pn(Lt)}()))}h=h||Y,Hn>0||(function se(){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)h=d.preRun.shift(),Ke.unshift(h);var h;pn(Ke)}(),Hn>0)||(d.setStatus?(d.setStatus("Running..."),setTimeout(function(){setTimeout(function(){d.setStatus("")},1),_()},1)):_())}if(d._main=function(){return(d._main=d.asm.P).apply(null,arguments)},d.___original_main=function(){return(d.___original_main=d.asm.R).apply(null,arguments)},d.___start_em_js=16104,d.___stop_em_js=16202,vr=function h(){Ms||ts(),Ms||(vr=h)},d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();var ns=!0;function Zr(){}function kr(h){return(h||Zr).__cache__}function Nt(h,_){var u=kr(_),p=u[h];return p||((p=Object.create((_||Zr).prototype)).ptr=h,u[h]=p)}d.noInitialRun&&(ns=!1),ts(),(Zr.prototype=Object.create(Zr.prototype)).constructor=Zr,Zr.prototype.__class__=Zr,Zr.__cache__={},d.WrapperObject=Zr,d.getCache=kr,d.wrapPointer=Nt,d.castObject=function Fo(h,_){return Nt(h.ptr,_)},d.NULL=Nt(0),d.destroy=function Fa(h){if(!h.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";h.__destroy__(),delete kr(h.__class__)[h.ptr]},d.compare=function Oo(h,_){return h.ptr===_.ptr},d.getPointer=function Xs(h){return h.ptr},d.getClass=function fl(h){return h.__class__};var An={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(An.needed){for(var h=0;h<An.temps.length;h++)d._free(An.temps[h]);An.temps.length=0,d._free(An.buffer),An.buffer=0,An.size+=An.needed,An.needed=0}An.buffer||(An.size+=128,An.buffer=d._malloc(An.size),be(An.buffer)),An.pos=0},alloc:function(h,_){be(An.buffer);var m,p=h.length*_.BYTES_PER_ELEMENT;return An.pos+(p=p+7&-8)>=An.size?(be(p>0),An.needed+=p,m=d._malloc(p),An.temps.push(m)):(m=An.buffer+An.pos,An.pos+=p),m},copy:function(h,_,u){switch(u>>>=0,_.BYTES_PER_ELEMENT){case 2:u>>>=1;break;case 4:u>>>=2;break;case 8:u>>>=3}for(var m=0;m<h.length;m++)_[u+m]=h[m]}};function vo(){throw"cannot construct a VoidPtr, no constructor in IDL"}function hn(){this.ptr=Ct(),kr(hn)[this.ptr]=this}function en(h){An.prepare(),h=h&&"object"==typeof h?h.ptr:function Dn(h){if("string"==typeof h){var _=to(h),u=An.alloc(_,ze);return An.copy(_,ze,u),u}return h}(h),this.ptr=Ta(h),kr(en)[this.ptr]=this}return(vo.prototype=Object.create(Zr.prototype)).constructor=vo,vo.prototype.__class__=vo,vo.__cache__={},d.VoidPtr=vo,vo.prototype.__destroy__=vo.prototype.__destroy__=function(){Xe(this.ptr)},(hn.prototype=Object.create(Zr.prototype)).constructor=hn,hn.prototype.__class__=hn,hn.__cache__={},d.Vfs=hn,hn.prototype.Malloc=hn.prototype.Malloc=function(h){return h&&"object"==typeof h&&(h=h.ptr),Nt(Wt(this.ptr,h),vo)},hn.prototype.Free=hn.prototype.Free=function(h){h&&"object"==typeof h&&(h=h.ptr),Zt(this.ptr,h)},hn.prototype.Nullptr=hn.prototype.Nullptr=function(){return Nt(rr(this.ptr),vo)},hn.prototype.AllocateImage=hn.prototype.AllocateImage=function(h){h&&"object"==typeof h&&(h=h.ptr),lo(this.ptr,h)},hn.prototype.MountImage=hn.prototype.MountImage=function(h){return h&&"object"==typeof h&&(h=h.ptr),!!Rr(this.ptr,h)},hn.prototype.UnmountImage=hn.prototype.UnmountImage=function(h){h&&"object"==typeof h&&(h=h.ptr),mr(this.ptr,h)},hn.prototype.GetPendingImageSize=hn.prototype.GetPendingImageSize=function(){return Ri(this.ptr)},hn.prototype.GetSize=hn.prototype.GetSize=function(h){return h&&"object"==typeof h&&(h=h.ptr),Xo(this.ptr,h)},hn.prototype.GetPendingImage=hn.prototype.GetPendingImage=function(){return Nt(bi(this.ptr),vo)},hn.prototype.GetImage=hn.prototype.GetImage=function(h){return h&&"object"==typeof h&&(h=h.ptr),Nt(ka(this.ptr,h),vo)},hn.prototype.__destroy__=hn.prototype.__destroy__=function(){Es(this.ptr)},(en.prototype=Object.create(Zr.prototype)).constructor=en,en.prototype.__class__=en,en.__cache__={},d.ReaddirContext=en,en.prototype.Next=en.prototype.Next=function(){return Ds(this.ptr)},en.prototype.GetEntryName=en.prototype.GetEntryName=function(){return Oe(us(this.ptr))},en.prototype.IsEntryDirectory=en.prototype.IsEntryDirectory=function(){return!!Fr(this.ptr)},en.prototype.GetEntrySize=en.prototype.GetEntrySize=function(){return Fn(this.ptr)},en.prototype.GetEntryModifiedTS=en.prototype.GetEntryModifiedTS=function(){return dl(this.ptr)},en.prototype.GetStatus=en.prototype.GetStatus=function(){return xa(this.ptr)},en.prototype.GetError=en.prototype.GetError=function(){return Aa(this.ptr)},en.prototype.GetErrorDescription=en.prototype.GetErrorDescription=function(){return Oe(ft(this.ptr))},en.prototype.__destroy__=en.prototype.__destroy__=function(){Pa(this.ptr)},k.ready});Fe.exports=je},2597:(Fe,je,R)=>{"use strict";R.d(je,{c:()=>xe});var k=R(9158);let d;const ee=X=>X.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),W=X=>{if(void 0===d){const ge=void 0!==X.style.webkitAnimationName;d=void 0===X.style.animationName&&ge?"-webkit-":""}return d},Y=(X,ve,ge)=>{const oe=ve.startsWith("animation")?W(X):"";X.style.setProperty(oe+ve,ge)},j=(X,ve)=>{const ge=ve.startsWith("animation")?W(X):"";X.style.removeProperty(ge+ve)},q=[],V=(X=[],ve)=>{if(void 0!==ve){const ge=Array.isArray(ve)?ve:[ve];return[...X,...ge]}return X},xe=X=>{let ve,ge,oe,ce,Ae,ue,Ve,He,L,B,z,et,Ke,Ge=[],he=[],be=[],Me=!1,Oe={},ke=[],K=[],Ue={},ze=0,at=!1,It=!1,pe=!0,Te=!1,Re=!0,Je=!1;const At=X,Lt=[],Tn=[],on=[],se=[],zr=[],Er=[],Zn=[],io=[],Jr=[],Mr=[],Hn="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,sr="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Hn,yi=()=>Mr,$r=(P,Z)=>((Z?.oneTimeCallback?Tn:Lt).push({c:P,o:Z}),Ke),Wr=()=>{if(sr)Mr.forEach(P=>{P.cancel()}),Mr.length=0;else{const P=on.slice();(0,k.r)(()=>{P.forEach(Z=>{j(Z,"animation-name"),j(Z,"animation-duration"),j(Z,"animation-timing-function"),j(Z,"animation-iteration-count"),j(Z,"animation-delay"),j(Z,"animation-play-state"),j(Z,"animation-fill-mode"),j(Z,"animation-direction")})})}},vi=()=>{zr.forEach(P=>{P?.parentNode&&P.parentNode.removeChild(P)}),zr.length=0},Vt=()=>void 0!==Ae?Ae:Ve?Ve.getFill():"both",tr=()=>void 0!==L?L:void 0!==ue?ue:Ve?Ve.getDirection():"normal",S=()=>at?"linear":void 0!==oe?oe:Ve?Ve.getEasing():"linear",kt=()=>It?0:void 0!==B?B:void 0!==ge?ge:Ve?Ve.getDuration():0,hr=()=>void 0!==ce?ce:Ve?Ve.getIterations():1,M=()=>void 0!==z?z:void 0!==ve?ve:Ve?Ve.getDelay():0,I=()=>{0!==ze&&(ze--,0===ze&&((()=>{Yo(),io.forEach(qe=>qe()),Jr.forEach(qe=>qe());const P=pe?1:0,Z=ke,J=K,Pe=Ue;on.forEach(qe=>{const Xe=qe.classList;Z.forEach(Ct=>Xe.add(Ct)),J.forEach(Ct=>Xe.remove(Ct));for(const Ct in Pe)Pe.hasOwnProperty(Ct)&&Y(qe,Ct,Pe[Ct])}),Lt.forEach(qe=>qe.c(P,Ke)),Tn.forEach(qe=>qe.c(P,Ke)),Tn.length=0,Re=!0,pe&&(Te=!0),pe=!0})(),Ve&&Ve.animationFinish()))},qr=(P=!0)=>{vi();const Z=(X=>(X.forEach(ve=>{for(const ge in ve)if(ve.hasOwnProperty(ge)){const oe=ve[ge];if("easing"===ge)ve["animation-timing-function"]=oe,delete ve[ge];else{const ce=ee(ge);ce!==ge&&(ve[ce]=oe,delete ve[ge])}}}),X))(Ge);on.forEach(J=>{if(Z.length>0){const Pe=((X=[])=>X.map(ve=>{const ge=ve.offset,oe=[];for(const ce in ve)ve.hasOwnProperty(ce)&&"offset"!==ce&&oe.push(`${ce}: ${ve[ce]};`);return`${100*ge}% { ${oe.join(" ")} }`}).join(" "))(Z);et=void 0!==X?X:(X=>{let ve=q.indexOf(X);return ve<0&&(ve=q.push(X)-1),`ion-animation-${ve}`})(Pe);const qe=((X,ve,ge)=>{const oe=(X=>{const ve=X.getRootNode();return ve.head||ve})(ge),ce=W(ge),Ae=oe.querySelector("#"+X);if(Ae)return Ae;const ue=(ge.ownerDocument||document).createElement("style");return ue.id=X,ue.textContent=`@${ce}keyframes ${X} { ${ve} } @${ce}keyframes ${X}-alt { ${ve} }`,oe.appendChild(ue),ue})(et,Pe,J);zr.push(qe),Y(J,"animation-duration",`${kt()}ms`),Y(J,"animation-timing-function",S()),Y(J,"animation-delay",`${M()}ms`),Y(J,"animation-fill-mode",Vt()),Y(J,"animation-direction",tr());const Xe=hr()===1/0?"infinite":hr().toString();Y(J,"animation-iteration-count",Xe),Y(J,"animation-play-state","paused"),P&&Y(J,"animation-name",`${qe.id}-alt`),(0,k.r)(()=>{Y(J,"animation-name",qe.id||null)})}})},ai=(P=!0)=>{(()=>{Er.forEach(Pe=>Pe()),Zn.forEach(Pe=>Pe());const P=he,Z=be,J=Oe;on.forEach(Pe=>{const qe=Pe.classList;P.forEach(Xe=>qe.add(Xe)),Z.forEach(Xe=>qe.remove(Xe));for(const Xe in J)J.hasOwnProperty(Xe)&&Y(Pe,Xe,J[Xe])})})(),Ge.length>0&&(sr?(on.forEach(P=>{const Z=P.animate(Ge,{id:At,delay:M(),duration:kt(),easing:S(),iterations:hr(),fill:Vt(),direction:tr()});Z.pause(),Mr.push(Z)}),Mr.length>0&&(Mr[0].onfinish=()=>{I()})):qr(P)),Me=!0},li=P=>{if(P=Math.min(Math.max(P,0),.9999),sr)Mr.forEach(Z=>{Z.currentTime=Z.effect.getComputedTiming().delay+kt()*P,Z.pause()});else{const Z=`-${kt()*P}ms`;on.forEach(J=>{Ge.length>0&&(Y(J,"animation-delay",Z),Y(J,"animation-play-state","paused"))})}},Ro=P=>{Mr.forEach(Z=>{Z.effect.updateTiming({delay:M(),duration:kt(),easing:S(),iterations:hr(),fill:Vt(),direction:tr()})}),void 0!==P&&li(P)},ko=(P=!0,Z)=>{(0,k.r)(()=>{on.forEach(J=>{Y(J,"animation-name",et||null),Y(J,"animation-duration",`${kt()}ms`),Y(J,"animation-timing-function",S()),Y(J,"animation-delay",void 0!==Z?`-${Z*kt()}ms`:`${M()}ms`),Y(J,"animation-fill-mode",Vt()||null),Y(J,"animation-direction",tr()||null);const Pe=hr()===1/0?"infinite":hr().toString();Y(J,"animation-iteration-count",Pe),P&&Y(J,"animation-name",`${et}-alt`),(0,k.r)(()=>{Y(J,"animation-name",et||null)})})})},Vr=(P=!1,Z=!0,J)=>(P&&se.forEach(Pe=>{Pe.update(P,Z,J)}),sr?Ro(J):ko(Z,J),Ke),Gn=()=>{Me&&(sr?Mr.forEach(P=>{P.pause()}):on.forEach(P=>{Y(P,"animation-play-state","paused")}),Je=!0)},_i=()=>{He=void 0,I()},Yo=()=>{He&&clearTimeout(He)},Ji=P=>new Promise(Z=>{P?.sync&&(It=!0,$r(()=>It=!1,{oneTimeCallback:!0})),Me||ai(),Te&&(sr?(li(0),Ro()):ko(),Te=!1),Re&&(ze=se.length+1,Re=!1),$r(()=>Z(),{oneTimeCallback:!0}),se.forEach(J=>{J.play()}),sr?(Mr.forEach(P=>{P.play()}),(0===Ge.length||0===on.length)&&I()):(()=>{if(Yo(),(0,k.r)(()=>{on.forEach(P=>{Ge.length>0&&Y(P,"animation-play-state","running")})}),0===Ge.length||0===on.length)I();else{const P=M()||0,Z=kt()||0,J=hr()||1;isFinite(J)&&(He=setTimeout(_i,P+Z*J+100)),((X,ve)=>{let ge;const oe={passive:!0},Ae=ue=>{X===ue.target&&(ge&&ge(),Yo(),(0,k.r)(()=>{on.forEach(P=>{j(P,"animation-duration"),j(P,"animation-delay"),j(P,"animation-play-state")}),(0,k.r)(I)}))};X&&(X.addEventListener("webkitAnimationEnd",Ae,oe),X.addEventListener("animationend",Ae,oe),ge=()=>{X.removeEventListener("webkitAnimationEnd",Ae,oe),X.removeEventListener("animationend",Ae,oe)})})(on[0])}})(),Je=!1}),N=(P,Z)=>{const J=Ge[0];return void 0===J||void 0!==J.offset&&0!==J.offset?Ge=[{offset:0,[P]:Z},...Ge]:J[P]=Z,Ke};return Ke={parentAnimation:Ve,elements:on,childAnimations:se,id:At,animationFinish:I,from:N,to:(P,Z)=>{const J=Ge[Ge.length-1];return void 0===J||void 0!==J.offset&&1!==J.offset?Ge=[...Ge,{offset:1,[P]:Z}]:J[P]=Z,Ke},fromTo:(P,Z,J)=>N(P,Z).to(P,J),parent:P=>(Ve=P,Ke),play:Ji,pause:()=>(se.forEach(P=>{P.pause()}),Gn(),Ke),stop:()=>{se.forEach(P=>{P.stop()}),Me&&(Wr(),Me=!1),at=!1,It=!1,Re=!0,L=void 0,B=void 0,z=void 0,ze=0,Te=!1,pe=!0,Je=!1},destroy:P=>(se.forEach(Z=>{Z.destroy(P)}),(P=>{Wr(),P&&vi()})(P),on.length=0,se.length=0,Ge.length=0,Lt.length=0,Tn.length=0,Me=!1,Re=!0,Ke),keyframes:P=>{const Z=Ge!==P;return Ge=P,Z&&(P=>{sr?yi().forEach(Z=>{if(Z.effect.setKeyframes)Z.effect.setKeyframes(P);else{const J=new KeyframeEffect(Z.effect.target,P,Z.effect.getTiming());Z.effect=J}}):qr()})(Ge),Ke},addAnimation:P=>{if(null!=P)if(Array.isArray(P))for(const Z of P)Z.parent(Ke),se.push(Z);else P.parent(Ke),se.push(P);return Ke},addElement:P=>{if(null!=P)if(1===P.nodeType)on.push(P);else if(P.length>=0)for(let Z=0;Z<P.length;Z++)on.push(P[Z]);else console.error("Invalid addElement value");return Ke},update:Vr,fill:P=>(Ae=P,Vr(!0),Ke),direction:P=>(ue=P,Vr(!0),Ke),iterations:P=>(ce=P,Vr(!0),Ke),duration:P=>(!sr&&0===P&&(P=1),ge=P,Vr(!0),Ke),easing:P=>(oe=P,Vr(!0),Ke),delay:P=>(ve=P,Vr(!0),Ke),getWebAnimations:yi,getKeyframes:()=>Ge,getFill:Vt,getDirection:tr,getDelay:M,getIterations:hr,getEasing:S,getDuration:kt,afterAddRead:P=>(io.push(P),Ke),afterAddWrite:P=>(Jr.push(P),Ke),afterClearStyles:(P=[])=>{for(const Z of P)Ue[Z]="";return Ke},afterStyles:(P={})=>(Ue=P,Ke),afterRemoveClass:P=>(K=V(K,P),Ke),afterAddClass:P=>(ke=V(ke,P),Ke),beforeAddRead:P=>(Er.push(P),Ke),beforeAddWrite:P=>(Zn.push(P),Ke),beforeClearStyles:(P=[])=>{for(const Z of P)Oe[Z]="";return Ke},beforeStyles:(P={})=>(Oe=P,Ke),beforeRemoveClass:P=>(be=V(be,P),Ke),beforeAddClass:P=>(he=V(he,P),Ke),onFinish:$r,isRunning:()=>0!==ze&&!Je,progressStart:(P=!1,Z)=>(se.forEach(J=>{J.progressStart(P,Z)}),Gn(),at=P,Me||ai(),Vr(!1,!0,Z),Ke),progressStep:P=>(se.forEach(Z=>{Z.progressStep(P)}),li(P),Ke),progressEnd:(P,Z,J)=>(at=!1,se.forEach(Pe=>{Pe.progressEnd(P,Z,J)}),void 0!==J&&(B=J),Te=!1,pe=!0,0===P?(L="reverse"===tr()?"normal":"reverse","reverse"===L&&(pe=!1),sr?(Vr(),li(1-Z)):(z=(1-Z)*kt()*-1,Vr(!1,!1))):1===P&&(sr?(Vr(),li(Z)):(z=Z*kt()*-1,Vr(!1,!1))),void 0!==P&&($r(()=>{B=void 0,L=void 0,z=void 0},{oneTimeCallback:!0}),Ve||Ji()),Ke)}}},607:(Fe,je,R)=>{"use strict";R.d(je,{G:()=>W});class d{constructor(j,G,ye,q,te){this.id=G,this.name=ye,this.disableScroll=te,this.priority=1e6*q+G,this.ctrl=j}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const j=this.ctrl.capture(this.name,this.id,this.priority);return j&&this.disableScroll&&this.ctrl.disableScroll(this.id),j}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class ne{constructor(j,G,ye,q){this.id=G,this.disable=ye,this.disableScroll=q,this.ctrl=j}block(){if(this.ctrl){if(this.disable)for(const j of this.disable)this.ctrl.disableGesture(j,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const j of this.disable)this.ctrl.enableGesture(j,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const ee="backdrop-no-scroll",W=new class k{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(j){return new d(this,this.newID(),j.name,j.priority||0,!!j.disableScroll)}createBlocker(j={}){return new ne(this,this.newID(),j.disable,!!j.disableScroll)}start(j,G,ye){return this.canStart(j)?(this.requestedStart.set(G,ye),!0):(this.requestedStart.delete(G),!1)}capture(j,G,ye){if(!this.start(j,G,ye))return!1;const q=this.requestedStart;let te=-1e4;if(q.forEach($=>{te=Math.max(te,$)}),te===ye){this.capturedId=G,q.clear();const $=new CustomEvent("ionGestureCaptured",{detail:{gestureName:j}});return document.dispatchEvent($),!0}return q.delete(G),!1}release(j){this.requestedStart.delete(j),this.capturedId===j&&(this.capturedId=void 0)}disableGesture(j,G){let ye=this.disabledGestures.get(j);void 0===ye&&(ye=new Set,this.disabledGestures.set(j,ye)),ye.add(G)}enableGesture(j,G){const ye=this.disabledGestures.get(j);void 0!==ye&&ye.delete(G)}disableScroll(j){this.disabledScroll.add(j),1===this.disabledScroll.size&&document.body.classList.add(ee)}enableScroll(j){this.disabledScroll.delete(j),0===this.disabledScroll.size&&document.body.classList.remove(ee)}canStart(j){return!(void 0!==this.capturedId||this.isDisabled(j))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(j){const G=this.disabledGestures.get(j);return!!(G&&G.size>0)}newID(){return this.gestureId++,this.gestureId}}},159:(Fe,je,R)=>{"use strict";R.r(je),R.d(je,{MENU_BACK_BUTTON_PRIORITY:()=>W,OVERLAY_BACK_BUTTON_PRIORITY:()=>ee,blockHardwareBackButton:()=>d,startHardwareBackButton:()=>ne});var k=R(3918);const d=()=>{document.addEventListener("backbutton",()=>{})},ne=()=>{const Y=document;let j=!1;Y.addEventListener("backbutton",()=>{if(j)return;let G=0,ye=[];const q=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(O,V){ye.push({priority:O,handler:V,id:G++})}}});Y.dispatchEvent(q);const te=function(){var O=(0,k.Z)(function*(V){try{if(V?.handler){const xe=V.handler($);null!=xe&&(yield xe)}}catch(xe){console.error(xe)}});return function(xe){return O.apply(this,arguments)}}(),$=()=>{if(ye.length>0){let O={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};ye.forEach(V=>{V.priority>=O.priority&&(O=V)}),j=!0,ye=ye.filter(V=>V.id!==O.id),te(O).then(()=>j=!1)}};$()})},ee=100,W=99},9158:(Fe,je,R)=>{"use strict";R.d(je,{a:()=>j,b:()=>G,c:()=>ne,d:()=>V,e:()=>xe,f:()=>O,g:()=>ye,h:()=>Ae,i:()=>Y,j:()=>ee,k:()=>$,l:()=>X,m:()=>te,n:()=>ve,o:()=>ce,p:()=>oe,q:()=>ue,r:()=>q,s:()=>Ge,t:()=>k,u:()=>ge});const k=(he,be=0)=>new Promise(Me=>{d(he,be,Me)}),d=(he,be=0,Me)=>{let Ve,Oe;const ke={passive:!0},Ue=()=>{Ve&&Ve()},ze=at=>{(void 0===at||he===at.target)&&(Ue(),Me(at))};return he&&(he.addEventListener("webkitTransitionEnd",ze,ke),he.addEventListener("transitionend",ze,ke),Oe=setTimeout(ze,be+500),Ve=()=>{Oe&&(clearTimeout(Oe),Oe=void 0),he.removeEventListener("webkitTransitionEnd",ze,ke),he.removeEventListener("transitionend",ze,ke)}),Ue},ne=(he,be)=>{he.componentOnReady?he.componentOnReady().then(Me=>be(Me)):q(()=>be(he))},ee=(he,be=[])=>{const Me={};return be.forEach(Ve=>{he.hasAttribute(Ve)&&(null!==he.getAttribute(Ve)&&(Me[Ve]=he.getAttribute(Ve)),he.removeAttribute(Ve))}),Me},W=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Y=he=>ee(he,W),j=(he,be,Me,Ve)=>{var Oe;if(typeof window<"u"){const K=null===(Oe=window?.Ionic)||void 0===Oe?void 0:Oe.config;if(K){const Ue=K.get("_ael");if(Ue)return Ue(he,be,Me,Ve);if(K._ael)return K._ael(he,be,Me,Ve)}}return he.addEventListener(be,Me,Ve)},G=(he,be,Me,Ve)=>{var Oe;if(typeof window<"u"){const K=null===(Oe=window?.Ionic)||void 0===Oe?void 0:Oe.config;if(K){const Ue=K.get("_rel");if(Ue)return Ue(he,be,Me,Ve);if(K._rel)return K._rel(he,be,Me,Ve)}}return he.removeEventListener(be,Me,Ve)},ye=(he,be=he)=>he.shadowRoot||be,q=he=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(he):"function"==typeof requestAnimationFrame?requestAnimationFrame(he):setTimeout(he),te=he=>!!he.shadowRoot&&!!he.attachShadow,$=he=>{const be=he.closest("ion-item");return be?be.querySelector("ion-label"):null},O=he=>{if(he.focus(),he.classList.contains("ion-focusable")){const be=he.closest("ion-app");be&&be.setFocus([he])}},V=(he,be)=>{let Me;const Ve=he.getAttribute("aria-labelledby"),Oe=he.id;let ke=null!==Ve&&""!==Ve.trim()?Ve:be+"-lbl",K=null!==Ve&&""!==Ve.trim()?document.getElementById(Ve):$(he);return K?(null===Ve&&(K.id=ke),Me=K.textContent,K.setAttribute("aria-hidden","true")):""!==Oe.trim()&&(K=document.querySelector(`label[for="${Oe}"]`),K&&(""!==K.id?ke=K.id:K.id=ke=`${Oe}-lbl`,Me=K.textContent)),{label:K,labelId:ke,labelText:Me}},xe=(he,be,Me,Ve,Oe)=>{if(he||te(be)){let ke=be.querySelector("input.aux-input");ke||(ke=be.ownerDocument.createElement("input"),ke.type="hidden",ke.classList.add("aux-input"),be.appendChild(ke)),ke.disabled=Oe,ke.name=Me,ke.value=Ve||""}},X=(he,be,Me)=>Math.max(he,Math.min(be,Me)),ve=(he,be)=>{if(!he){const Me="ASSERT: "+be;throw console.error(Me),new Error(Me)}},ge=he=>he.timeStamp||Date.now(),oe=he=>{if(he){const be=he.changedTouches;if(be&&be.length>0){const Me=be[0];return{x:Me.clientX,y:Me.clientY}}if(void 0!==he.pageX)return{x:he.pageX,y:he.pageY}}return{x:0,y:0}},ce=he=>{const be="rtl"===document.dir;switch(he){case"start":return be;case"end":return!be;default:throw new Error(`"${he}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Ae=(he,be)=>{const Me=he._original||he;return{_original:he,emit:ue(Me.emit.bind(Me),be)}},ue=(he,be=0)=>{let Me;return(...Ve)=>{clearTimeout(Me),Me=setTimeout(he,be,...Ve)}},Ge=(he,be)=>{if(he??(he={}),be??(be={}),he===be)return!0;const Me=Object.keys(he);if(Me.length!==Object.keys(be).length)return!1;for(const Ve of Me)if(!(Ve in be)||he[Ve]!==be[Ve])return!1;return!0}},2172:(Fe,je,R)=>{"use strict";R.r(je),R.d(je,{GESTURE_CONTROLLER:()=>k.G,createGesture:()=>ye});var k=R(607);const d=(O,V,xe,X)=>{const ve=ne(O)?{capture:!!X.capture,passive:!!X.passive}:!!X.capture;let ge,oe;return O.__zone_symbol__addEventListener?(ge="__zone_symbol__addEventListener",oe="__zone_symbol__removeEventListener"):(ge="addEventListener",oe="removeEventListener"),O[ge](V,xe,ve),()=>{O[oe](V,xe,ve)}},ne=O=>{if(void 0===ee)try{const V=Object.defineProperty({},"passive",{get:()=>{ee=!0}});O.addEventListener("optsTest",()=>{},V)}catch{ee=!1}return!!ee};let ee;const j=O=>O instanceof Document?O:O.ownerDocument,ye=O=>{let V=!1,xe=!1,X=!0,ve=!1;const ge=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},O),oe=ge.canStart,ce=ge.onWillStart,Ae=ge.onStart,ue=ge.onEnd,Ge=ge.notCaptured,he=ge.onMove,be=ge.threshold,Me=ge.passive,Ve=ge.blurOnStart,Oe={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},ke=((O,V,xe)=>{const X=xe*(Math.PI/180),ve="x"===O,ge=Math.cos(X),oe=V*V;let ce=0,Ae=0,ue=!1,Ge=0;return{start(he,be){ce=he,Ae=be,Ge=0,ue=!0},detect(he,be){if(!ue)return!1;const Me=he-ce,Ve=be-Ae,Oe=Me*Me+Ve*Ve;if(Oe<oe)return!1;const ke=Math.sqrt(Oe),K=(ve?Me:Ve)/ke;return Ge=K>ge?1:K<-ge?-1:0,ue=!1,!0},isGesture:()=>0!==Ge,getDirection:()=>Ge}})(ge.direction,ge.threshold,ge.maxAngle),K=k.G.createGesture({name:O.gestureName,priority:O.gesturePriority,disableScroll:O.disableScroll}),at=()=>{!V||(ve=!1,he&&he(Oe))},It=()=>!(K&&!K.capture()||(V=!0,X=!1,Oe.startX=Oe.currentX,Oe.startY=Oe.currentY,Oe.startTime=Oe.currentTime,ce?ce(Oe).then(L):L(),0)),L=()=>{Ve&&(()=>{if(typeof document<"u"){const Re=document.activeElement;Re?.blur&&Re.blur()}})(),Ae&&Ae(Oe),X=!0},B=()=>{V=!1,xe=!1,ve=!1,X=!0,K.release()},z=Re=>{const et=V,Ke=X;if(B(),Ke){if(q(Oe,Re),et)return void(ue&&ue(Oe));Ge&&Ge(Oe)}},pe=((O,V,xe,X,ve)=>{let ge,oe,ce,Ae,ue,Ge,he,be=0;const Me=He=>{be=Date.now()+2e3,V(He)&&(!oe&&xe&&(oe=d(O,"touchmove",xe,ve)),ce||(ce=d(He.target,"touchend",Oe,ve)),Ae||(Ae=d(He.target,"touchcancel",Oe,ve)))},Ve=He=>{be>Date.now()||!V(He)||(!Ge&&xe&&(Ge=d(j(O),"mousemove",xe,ve)),he||(he=d(j(O),"mouseup",ke,ve)))},Oe=He=>{K(),X&&X(He)},ke=He=>{Ue(),X&&X(He)},K=()=>{oe&&oe(),ce&&ce(),Ae&&Ae(),oe=ce=Ae=void 0},Ue=()=>{Ge&&Ge(),he&&he(),Ge=he=void 0},ze=()=>{K(),Ue()},at=(He=!0)=>{He?(ge||(ge=d(O,"touchstart",Me,ve)),ue||(ue=d(O,"mousedown",Ve,ve))):(ge&&ge(),ue&&ue(),ge=ue=void 0,ze())};return{enable:at,stop:ze,destroy:()=>{at(!1),X=xe=V=void 0}}})(ge.el,Re=>{const et=$(Re);return!(xe||!X||(te(Re,Oe),Oe.startX=Oe.currentX,Oe.startY=Oe.currentY,Oe.startTime=Oe.currentTime=et,Oe.velocityX=Oe.velocityY=Oe.deltaX=Oe.deltaY=0,Oe.event=Re,oe&&!1===oe(Oe))||(K.release(),!K.start()))&&(xe=!0,0===be?It():(ke.start(Oe.startX,Oe.startY),!0))},Re=>{V?!ve&&X&&(ve=!0,q(Oe,Re),requestAnimationFrame(at)):(q(Oe,Re),ke.detect(Oe.currentX,Oe.currentY)&&(!ke.isGesture()||!It())&&Te())},z,{capture:!1,passive:Me}),Te=()=>{B(),pe.stop(),Ge&&Ge(Oe)};return{enable(Re=!0){Re||(V&&z(void 0),B()),pe.enable(Re)},destroy(){K.destroy(),pe.destroy()}}},q=(O,V)=>{if(!V)return;const xe=O.currentX,X=O.currentY,ve=O.currentTime;te(V,O);const ge=O.currentX,oe=O.currentY,Ae=(O.currentTime=$(V))-ve;if(Ae>0&&Ae<100){const Ge=(oe-X)/Ae;O.velocityX=(ge-xe)/Ae*.7+.3*O.velocityX,O.velocityY=.7*Ge+.3*O.velocityY}O.deltaX=ge-O.startX,O.deltaY=oe-O.startY,O.event=V},te=(O,V)=>{let xe=0,X=0;if(O){const ve=O.changedTouches;if(ve&&ve.length>0){const ge=ve[0];xe=ge.clientX,X=ge.clientY}else void 0!==O.pageX&&(xe=O.pageX,X=O.pageY)}V.currentX=xe,V.currentY=X},$=O=>O.timeStamp||Date.now()},4736:(Fe,je,R)=>{"use strict";R.d(je,{L:()=>ee,a:()=>W,b:()=>Y,c:()=>j,d:()=>G,e:()=>be,g:()=>Oe,l:()=>Ge,s:()=>Me,t:()=>te});var k=R(3918),d=R(9479),ne=R(9158);const ee="ionViewWillEnter",W="ionViewDidEnter",Y="ionViewWillLeave",j="ionViewDidLeave",G="ionViewWillUnload",te=ke=>new Promise((K,Ue)=>{(0,d.c)(()=>{$(ke),O(ke).then(ze=>{ze.animation&&ze.animation.destroy(),V(ke),K(ze)},ze=>{V(ke),Ue(ze)})})}),$=ke=>{const K=ke.enteringEl,Ue=ke.leavingEl;Ve(K,Ue,ke.direction),ke.showGoBack?K.classList.add("can-go-back"):K.classList.remove("can-go-back"),Me(K,!1),K.style.setProperty("pointer-events","none"),Ue&&(Me(Ue,!1),Ue.style.setProperty("pointer-events","none"))},O=function(){var ke=(0,k.Z)(function*(K){const Ue=yield xe(K);return Ue&&d.B.isBrowser?X(Ue,K):ve(K)});return function(Ue){return ke.apply(this,arguments)}}(),V=ke=>{const K=ke.enteringEl,Ue=ke.leavingEl;K.classList.remove("ion-page-invisible"),K.style.removeProperty("pointer-events"),void 0!==Ue&&(Ue.classList.remove("ion-page-invisible"),Ue.style.removeProperty("pointer-events"))},xe=function(){var ke=(0,k.Z)(function*(K){return K.leavingEl&&K.animated&&0!==K.duration?K.animationBuilder?K.animationBuilder:"ios"===K.mode?(yield Promise.resolve().then(R.bind(R,5794))).iosTransitionAnimation:(yield Promise.resolve().then(R.bind(R,932))).mdTransitionAnimation:void 0});return function(Ue){return ke.apply(this,arguments)}}(),X=function(){var ke=(0,k.Z)(function*(K,Ue){yield ge(Ue,!0);const ze=K(Ue.baseEl,Ue);Ae(Ue.enteringEl,Ue.leavingEl);const at=yield ce(ze,Ue);return Ue.progressCallback&&Ue.progressCallback(void 0),at&&ue(Ue.enteringEl,Ue.leavingEl),{hasCompleted:at,animation:ze}});return function(Ue,ze){return ke.apply(this,arguments)}}(),ve=function(){var ke=(0,k.Z)(function*(K){const Ue=K.enteringEl,ze=K.leavingEl;return yield ge(K,!1),Ae(Ue,ze),ue(Ue,ze),{hasCompleted:!0}});return function(Ue){return ke.apply(this,arguments)}}(),ge=function(){var ke=(0,k.Z)(function*(K,Ue){const at=(void 0!==K.deepWait?K.deepWait:Ue)?[be(K.enteringEl),be(K.leavingEl)]:[he(K.enteringEl),he(K.leavingEl)];yield Promise.all(at),yield oe(K.viewIsReady,K.enteringEl)});return function(Ue,ze){return ke.apply(this,arguments)}}(),oe=function(){var ke=(0,k.Z)(function*(K,Ue){K&&(yield K(Ue))});return function(Ue,ze){return ke.apply(this,arguments)}}(),ce=(ke,K)=>{const Ue=K.progressCallback,ze=new Promise(at=>{ke.onFinish(It=>at(1===It))});return Ue?(ke.progressStart(!0),Ue(ke)):ke.play(),ze},Ae=(ke,K)=>{Ge(K,Y),Ge(ke,ee)},ue=(ke,K)=>{Ge(ke,W),Ge(K,j)},Ge=(ke,K)=>{if(ke){const Ue=new CustomEvent(K,{bubbles:!1,cancelable:!1});ke.dispatchEvent(Ue)}},he=ke=>ke?new Promise(K=>(0,ne.c)(ke,K)):Promise.resolve(),be=function(){var ke=(0,k.Z)(function*(K){const Ue=K;if(Ue){if(null!=Ue.componentOnReady){if(null!=(yield Ue.componentOnReady()))return}else if(null!=Ue.__registerHost)return void(yield new Promise(at=>(0,ne.r)(at)));yield Promise.all(Array.from(Ue.children).map(be))}});return function(Ue){return ke.apply(this,arguments)}}(),Me=(ke,K)=>{K?(ke.setAttribute("aria-hidden","true"),ke.classList.add("ion-page-hidden")):(ke.hidden=!1,ke.removeAttribute("aria-hidden"),ke.classList.remove("ion-page-hidden"))},Ve=(ke,K,Ue)=>{void 0!==ke&&(ke.style.zIndex="back"===Ue?"99":"101"),void 0!==K&&(K.style.zIndex="100")},Oe=ke=>ke.classList.contains("ion-page")?ke:ke.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||ke},9479:(Fe,je,R)=>{"use strict";R.d(je,{B:()=>Ji,H:()=>se,a:()=>Te,b:()=>yo,c:()=>wi,e:()=>Ft,f:()=>Nn,g:()=>Re,h:()=>Tn,i:()=>bn,j:()=>S,k:()=>I,p:()=>X,r:()=>ai,s:()=>V});var k=R(3918);let ne,ee,W,Y=!1,j=!1,G=!1,ye=!1,q=!1;const te=typeof window<"u"?window:{},$=te.document||{head:{}},O={$flags$:0,$resourcesUrl$:"",jmp:T=>T(),raf:T=>requestAnimationFrame(T),ael:(T,N,le,Se)=>T.addEventListener(N,le,Se),rel:(T,N,le,Se)=>T.removeEventListener(N,le,Se),ce:(T,N)=>new CustomEvent(T,N)},V=T=>{Object.assign(O,T)},X=T=>Promise.resolve(T),ve=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch{}return!1})(),ge=(T,N,le,Se)=>{le&&le.map(([P,Z,J])=>{const Pe=ce(T,P),qe=oe(N,J),Xe=Ae(P);O.ael(Pe,Z,qe,Xe),(N.$rmListeners$=N.$rmListeners$||[]).push(()=>O.rel(Pe,Z,qe,Xe))})},oe=(T,N)=>le=>{try{256&T.$flags$?T.$lazyInstance$[N](le):(T.$queuedListeners$=T.$queuedListeners$||[]).push([N,le])}catch(Se){ko(Se)}},ce=(T,N)=>4&N?$:8&N?te:16&N?$.body:T,Ae=T=>0!=(2&T),Me="s-id",Ve="sty-id",K="http://www.w3.org/1999/xlink",at=new WeakMap,It=(T,N,le)=>{let Se=qo.get(T);ve&&le?(Se=Se||new CSSStyleSheet,Se.replace(N)):Se=N,qo.set(T,Se)},He=(T,N,le,Se)=>{let P=B(N,le);const Z=qo.get(P);if(T=11===T.nodeType?T:$,Z)if("string"==typeof Z){let Pe,J=at.get(T=T.head||T);J||at.set(T,J=new Set),J.has(P)||(T.host&&(Pe=T.querySelector(`[${Ve}="${P}"]`))?Pe.innerHTML=Z:(Pe=$.createElement("style"),Pe.innerHTML=Z,T.insertBefore(Pe,T.querySelector("link"))),J&&J.add(P))}else T.adoptedStyleSheets.includes(Z)||(T.adoptedStyleSheets=[...T.adoptedStyleSheets,Z]);return P},B=(T,N)=>"sc-"+(N&&32&T.$flags$?T.$tagName$+"-"+N:T.$tagName$),z=T=>T.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Te=T=>Pi.push(T),Re=T=>Br(T).$modeName$,et={},Lt=T=>"object"==(T=typeof T)||"function"===T,Tn=(T,N,...le)=>{let Se=null,P=null,Z=null,J=!1,Pe=!1;const qe=[],Xe=Wt=>{for(let Zt=0;Zt<Wt.length;Zt++)Se=Wt[Zt],Array.isArray(Se)?Xe(Se):null!=Se&&"boolean"!=typeof Se&&((J="function"!=typeof T&&!Lt(Se))&&(Se=String(Se)),J&&Pe?qe[qe.length-1].$text$+=Se:qe.push(J?on(null,Se):Se),Pe=J)};if(Xe(le),N){N.key&&(P=N.key),N.name&&(Z=N.name);{const Wt=N.className||N.class;Wt&&(N.class="object"!=typeof Wt?Wt:Object.keys(Wt).filter(Zt=>Wt[Zt]).join(" "))}}if("function"==typeof T)return T(null===N?{}:N,qe,Er);const Ct=on(T,null);return Ct.$attrs$=N,qe.length>0&&(Ct.$children$=qe),Ct.$key$=P,Ct.$name$=Z,Ct},on=(T,N)=>({$flags$:0,$tag$:T,$text$:N,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),se={},Er={forEach:(T,N)=>T.map(Zn).forEach(N),map:(T,N)=>T.map(Zn).map(N).map(io)},Zn=T=>({vattrs:T.$attrs$,vchildren:T.$children$,vkey:T.$key$,vname:T.$name$,vtag:T.$tag$,vtext:T.$text$}),io=T=>{if("function"==typeof T.vtag){const le=Object.assign({},T.vattrs);return T.vkey&&(le.key=T.vkey),T.vname&&(le.name=T.vname),Tn(T.vtag,le,...T.vchildren||[])}const N=on(T.vtag,T.vtext);return N.$attrs$=T.vattrs,N.$children$=T.vchildren,N.$key$=T.vkey,N.$name$=T.vname,N},Jr=(T,N,le,Se,P,Z)=>{if(le!==Se){let J=Ro(T,N),Pe=N.toLowerCase();if("class"===N){const qe=T.classList,Xe=Hn(le),Ct=Hn(Se);qe.remove(...Xe.filter(Wt=>Wt&&!Ct.includes(Wt))),qe.add(...Ct.filter(Wt=>Wt&&!Xe.includes(Wt)))}else if("style"===N){for(const qe in le)(!Se||null==Se[qe])&&(qe.includes("-")?T.style.removeProperty(qe):T.style[qe]="");for(const qe in Se)(!le||Se[qe]!==le[qe])&&(qe.includes("-")?T.style.setProperty(qe,Se[qe]):T.style[qe]=Se[qe])}else if("key"!==N)if("ref"===N)Se&&Se(T);else if(J||"o"!==N[0]||"n"!==N[1]){const qe=Lt(Se);if((J||qe&&null!==Se)&&!P)try{if(T.tagName.includes("-"))T[N]=Se;else{const Ct=Se??"";"list"===N?J=!1:(null==le||T[N]!=Ct)&&(T[N]=Ct)}}catch{}let Xe=!1;Pe!==(Pe=Pe.replace(/^xlink\:?/,""))&&(N=Pe,Xe=!0),null==Se||!1===Se?(!1!==Se||""===T.getAttribute(N))&&(Xe?T.removeAttributeNS(K,N):T.removeAttribute(N)):(!J||4&Z||P)&&!qe&&(Se=!0===Se?"":Se,Xe?T.setAttributeNS(K,N,Se):T.setAttribute(N,Se))}else N="-"===N[2]?N.slice(3):Ro(te,Pe)?Pe.slice(2):Pe[2]+N.slice(3),le&&O.rel(T,N,le,!1),Se&&O.ael(T,N,Se,!1)}},Mr=/\s/,Hn=T=>T?T.split(Mr):[],sr=(T,N,le,Se)=>{const P=11===N.$elm$.nodeType&&N.$elm$.host?N.$elm$.host:N.$elm$,Z=T&&T.$attrs$||et,J=N.$attrs$||et;for(Se in Z)Se in J||Jr(P,Se,Z[Se],void 0,le,N.$flags$);for(Se in J)Jr(P,Se,Z[Se],J[Se],le,N.$flags$)},vr=(T,N,le,Se)=>{const P=N.$children$[le];let J,Pe,qe,Z=0;if(Y||(G=!0,"slot"===P.$tag$&&(ne&&Se.classList.add(ne+"-s"),P.$flags$|=P.$children$?2:1)),null!==P.$text$)J=P.$elm$=$.createTextNode(P.$text$);else if(1&P.$flags$)J=P.$elm$=$.createTextNode("");else{if(ye||(ye="svg"===P.$tag$),J=P.$elm$=$.createElementNS(ye?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&P.$flags$?"slot-fb":P.$tag$),ye&&"foreignObject"===P.$tag$&&(ye=!1),sr(null,P,ye),(T=>null!=T)(ne)&&J["s-si"]!==ne&&J.classList.add(J["s-si"]=ne),P.$children$)for(Z=0;Z<P.$children$.length;++Z)Pe=vr(T,P,Z,J),Pe&&J.appendChild(Pe);"svg"===P.$tag$?ye=!1:"foreignObject"===J.tagName&&(ye=!0)}return J["s-hn"]=W,3&P.$flags$&&(J["s-sr"]=!0,J["s-cr"]=ee,J["s-sn"]=P.$name$||"",qe=T&&T.$children$&&T.$children$[le],qe&&qe.$tag$===P.$tag$&&T.$elm$&&yi(T.$elm$,!1)),J},yi=(T,N)=>{O.$flags$|=1;const le=T.childNodes;for(let Se=le.length-1;Se>=0;Se--){const P=le[Se];P["s-hn"]!==W&&P["s-ol"]&&(Sn(P).insertBefore(P,$r(P)),P["s-ol"].remove(),P["s-ol"]=void 0,G=!0),N&&yi(P,N)}O.$flags$&=-2},mo=(T,N,le,Se,P,Z)=>{let Pe,J=T["s-cr"]&&T["s-cr"].parentNode||T;for(J.shadowRoot&&J.tagName===W&&(J=J.shadowRoot);P<=Z;++P)Se[P]&&(Pe=vr(null,le,P,T),Pe&&(Se[P].$elm$=Pe,J.insertBefore(Pe,$r(N))))},ar=(T,N,le,Se,P)=>{for(;N<=le;++N)(Se=T[N])&&(P=Se.$elm$,Le(Se),j=!0,P["s-ol"]?P["s-ol"].remove():yi(P,!0),P.remove())},go=(T,N)=>T.$tag$===N.$tag$&&("slot"===T.$tag$?T.$name$===N.$name$:T.$key$===N.$key$),$r=T=>T&&T["s-ol"]||T,Sn=T=>(T["s-ol"]?T["s-ol"]:T).parentNode,Wr=(T,N)=>{const le=N.$elm$=T.$elm$,Se=T.$children$,P=N.$children$,Z=N.$tag$,J=N.$text$;let Pe;null===J?(ye="svg"===Z||"foreignObject"!==Z&&ye,"slot"===Z||sr(T,N,ye),null!==Se&&null!==P?((T,N,le,Se)=>{let lo,Rr,P=0,Z=0,J=0,Pe=0,qe=N.length-1,Xe=N[0],Ct=N[qe],Wt=Se.length-1,Zt=Se[0],rr=Se[Wt];for(;P<=qe&&Z<=Wt;)if(null==Xe)Xe=N[++P];else if(null==Ct)Ct=N[--qe];else if(null==Zt)Zt=Se[++Z];else if(null==rr)rr=Se[--Wt];else if(go(Xe,Zt))Wr(Xe,Zt),Xe=N[++P],Zt=Se[++Z];else if(go(Ct,rr))Wr(Ct,rr),Ct=N[--qe],rr=Se[--Wt];else if(go(Xe,rr))("slot"===Xe.$tag$||"slot"===rr.$tag$)&&yi(Xe.$elm$.parentNode,!1),Wr(Xe,rr),T.insertBefore(Xe.$elm$,Ct.$elm$.nextSibling),Xe=N[++P],rr=Se[--Wt];else if(go(Ct,Zt))("slot"===Xe.$tag$||"slot"===rr.$tag$)&&yi(Ct.$elm$.parentNode,!1),Wr(Ct,Zt),T.insertBefore(Ct.$elm$,Xe.$elm$),Ct=N[--qe],Zt=Se[++Z];else{for(J=-1,Pe=P;Pe<=qe;++Pe)if(N[Pe]&&null!==N[Pe].$key$&&N[Pe].$key$===Zt.$key$){J=Pe;break}J>=0?(Rr=N[J],Rr.$tag$!==Zt.$tag$?lo=vr(N&&N[Z],le,J,T):(Wr(Rr,Zt),N[J]=void 0,lo=Rr.$elm$),Zt=Se[++Z]):(lo=vr(N&&N[Z],le,Z,T),Zt=Se[++Z]),lo&&Sn(Xe.$elm$).insertBefore(lo,$r(Xe.$elm$))}P>qe?mo(T,null==Se[Wt+1]?null:Se[Wt+1].$elm$,le,Se,Z,Wt):Z>Wt&&ar(N,P,qe)})(le,Se,N,P):null!==P?(null!==T.$text$&&(le.textContent=""),mo(le,null,N,P,0,P.length-1)):null!==Se&&ar(Se,0,Se.length-1),ye&&"svg"===Z&&(ye=!1)):(Pe=le["s-cr"])?Pe.parentNode.textContent=J:T.$text$!==J&&(le.data=J)},vi=T=>{const N=T.childNodes;let le,Se,P,Z,J,Pe;for(Se=0,P=N.length;Se<P;Se++)if(le=N[Se],1===le.nodeType){if(le["s-sr"])for(J=le["s-sn"],le.hidden=!1,Z=0;Z<P;Z++)if(Pe=N[Z].nodeType,N[Z]["s-hn"]!==le["s-hn"]||""!==J){if(1===Pe&&J===N[Z].getAttribute("slot")){le.hidden=!0;break}}else if(1===Pe||3===Pe&&""!==N[Z].textContent.trim()){le.hidden=!0;break}vi(le)}},Ar=[],Qe=T=>{let N,le,Se,P,Z,J,Pe=0;const qe=T.childNodes,Xe=qe.length;for(;Pe<Xe;Pe++){if(N=qe[Pe],N["s-sr"]&&(le=N["s-cr"])&&le.parentNode)for(Se=le.parentNode.childNodes,P=N["s-sn"],J=Se.length-1;J>=0;J--)le=Se[J],!le["s-cn"]&&!le["s-nr"]&&le["s-hn"]!==N["s-hn"]&&(re(le,P)?(Z=Ar.find(Ct=>Ct.$nodeToRelocate$===le),j=!0,le["s-sn"]=le["s-sn"]||P,Z?Z.$slotRefNode$=N:Ar.push({$slotRefNode$:N,$nodeToRelocate$:le}),le["s-sr"]&&Ar.map(Ct=>{re(Ct.$nodeToRelocate$,le["s-sn"])&&(Z=Ar.find(Wt=>Wt.$nodeToRelocate$===le),Z&&!Ct.$slotRefNode$&&(Ct.$slotRefNode$=Z.$slotRefNode$))})):Ar.some(Ct=>Ct.$nodeToRelocate$===le)||Ar.push({$nodeToRelocate$:le}));1===N.nodeType&&Qe(N)}},re=(T,N)=>1===T.nodeType?null===T.getAttribute("slot")&&""===N||T.getAttribute("slot")===N:T["s-sn"]===N||""===N,Le=T=>{T.$attrs$&&T.$attrs$.ref&&T.$attrs$.ref(null),T.$children$&&T.$children$.map(Le)},bn=T=>Br(T).$hostElement$,Ft=(T,N,le)=>{const Se=bn(T);return{emit:P=>cn(Se,N,{bubbles:!!(4&le),composed:!!(2&le),cancelable:!!(1&le),detail:P})}},cn=(T,N,le)=>{const Se=O.ce(N,le);return T.dispatchEvent(Se),Se},er=(T,N)=>{N&&!T.$onRenderResolve$&&N["s-p"]&&N["s-p"].push(new Promise(le=>T.$onRenderResolve$=le))},Jt=(T,N)=>{if(T.$flags$|=16,!(4&T.$flags$))return er(T,T.$ancestorComponent$),wi(()=>Yn(T,N));T.$flags$|=512},Yn=(T,N)=>{const Se=T.$lazyInstance$;let P;return N&&(T.$flags$|=256,T.$queuedListeners$&&(T.$queuedListeners$.map(([Z,J])=>hr(Se,Z,J)),T.$queuedListeners$=null),P=hr(Se,"componentWillLoad")),P=M(P,()=>hr(Se,"componentWillRender")),M(P,()=>lr(T,Se,N))},lr=function(){var T=(0,k.Z)(function*(N,le,Se){const P=N.$hostElement$,J=P["s-rc"];Se&&(T=>{const N=T.$cmpMeta$,le=T.$hostElement$,Se=N.$flags$,Z=He(le.shadowRoot?le.shadowRoot:le.getRootNode(),N,T.$modeName$);10&Se&&(le["s-sc"]=Z,le.classList.add(Z+"-h"),2&Se&&le.classList.add(Z+"-s"))})(N);Vt(N,le),J&&(J.map(qe=>qe()),P["s-rc"]=void 0);{const qe=P["s-p"],Xe=()=>tr(N);0===qe.length?Xe():(Promise.all(qe).then(Xe),N.$flags$|=4,qe.length=0)}});return function(le,Se,P){return T.apply(this,arguments)}}(),Vt=(T,N,le)=>{try{N=N.render&&N.render(),T.$flags$&=-17,T.$flags$|=2,((T,N)=>{const le=T.$hostElement$,Se=T.$cmpMeta$,P=T.$vnode$||on(null,null),Z=(T=>T&&T.$tag$===se)(N)?N:Tn(null,null,N);if(W=le.tagName,Se.$attrsToReflect$&&(Z.$attrs$=Z.$attrs$||{},Se.$attrsToReflect$.map(([J,Pe])=>Z.$attrs$[Pe]=le[J])),Z.$tag$=null,Z.$flags$|=4,T.$vnode$=Z,Z.$elm$=P.$elm$=le.shadowRoot||le,ne=le["s-sc"],ee=le["s-cr"],Y=0!=(1&Se.$flags$),j=!1,Wr(P,Z),O.$flags$|=1,G){Qe(Z.$elm$);let J,Pe,qe,Xe,Ct,Wt,Zt=0;for(;Zt<Ar.length;Zt++)J=Ar[Zt],Pe=J.$nodeToRelocate$,Pe["s-ol"]||(qe=$.createTextNode(""),qe["s-nr"]=Pe,Pe.parentNode.insertBefore(Pe["s-ol"]=qe,Pe));for(Zt=0;Zt<Ar.length;Zt++)if(J=Ar[Zt],Pe=J.$nodeToRelocate$,J.$slotRefNode$){for(Xe=J.$slotRefNode$.parentNode,Ct=J.$slotRefNode$.nextSibling,qe=Pe["s-ol"];qe=qe.previousSibling;)if(Wt=qe["s-nr"],Wt&&Wt["s-sn"]===Pe["s-sn"]&&Xe===Wt.parentNode&&(Wt=Wt.nextSibling,!Wt||!Wt["s-nr"])){Ct=Wt;break}(!Ct&&Xe!==Pe.parentNode||Pe.nextSibling!==Ct)&&Pe!==Ct&&(!Pe["s-hn"]&&Pe["s-ol"]&&(Pe["s-hn"]=Pe["s-ol"].parentNode.nodeName),Xe.insertBefore(Pe,Ct))}else 1===Pe.nodeType&&(Pe.hidden=!0)}j&&vi(Z.$elm$),O.$flags$&=-2,Ar.length=0})(T,N)}catch(Se){ko(Se,T.$hostElement$)}return null},tr=T=>{const le=T.$hostElement$,P=T.$lazyInstance$,Z=T.$ancestorComponent$;hr(P,"componentDidRender"),64&T.$flags$?hr(P,"componentDidUpdate"):(T.$flags$|=64,Pr(le),hr(P,"componentDidLoad"),T.$onReadyResolve$(le),Z||kt()),T.$onInstanceResolve$(le),T.$onRenderResolve$&&(T.$onRenderResolve$(),T.$onRenderResolve$=void 0),512&T.$flags$&&Ko(()=>Jt(T,!1)),T.$flags$&=-517},S=T=>{{const N=Br(T),le=N.$hostElement$.isConnected;return le&&2==(18&N.$flags$)&&Jt(N,!1),le}},kt=T=>{Pr($.documentElement),Ko(()=>cn(te,"appload",{detail:{namespace:"ionic"}}))},hr=(T,N,le)=>{if(T&&T[N])try{return T[N](le)}catch(Se){ko(Se)}},M=(T,N)=>T&&T.then?T.then(N):N(),Pr=T=>T.classList.add("hydrated"),ao=(T,N,le,Se,P,Z,J)=>{let Pe,qe,Xe,Ct;if(1===Z.nodeType){for(Pe=Z.getAttribute("c-id"),Pe&&(qe=Pe.split("."),(qe[0]===J||"0"===qe[0])&&(Xe={$flags$:0,$hostId$:qe[0],$nodeId$:qe[1],$depth$:qe[2],$index$:qe[3],$tag$:Z.tagName.toLowerCase(),$elm$:Z,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},N.push(Xe),Z.removeAttribute("c-id"),T.$children$||(T.$children$=[]),T.$children$[Xe.$index$]=Xe,T=Xe,Se&&"0"===Xe.$depth$&&(Se[Xe.$index$]=Xe.$elm$))),Ct=Z.childNodes.length-1;Ct>=0;Ct--)ao(T,N,le,Se,P,Z.childNodes[Ct],J);if(Z.shadowRoot)for(Ct=Z.shadowRoot.childNodes.length-1;Ct>=0;Ct--)ao(T,N,le,Se,P,Z.shadowRoot.childNodes[Ct],J)}else if(8===Z.nodeType)qe=Z.nodeValue.split("."),(qe[1]===J||"0"===qe[1])&&(Pe=qe[0],Xe={$flags$:0,$hostId$:qe[1],$nodeId$:qe[2],$depth$:qe[3],$index$:qe[4],$elm$:Z,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Pe?(Xe.$elm$=Z.nextSibling,Xe.$elm$&&3===Xe.$elm$.nodeType&&(Xe.$text$=Xe.$elm$.textContent,N.push(Xe),Z.remove(),T.$children$||(T.$children$=[]),T.$children$[Xe.$index$]=Xe,Se&&"0"===Xe.$depth$&&(Se[Xe.$index$]=Xe.$elm$))):Xe.$hostId$===J&&("s"===Pe?(Xe.$tag$="slot",Z["s-sn"]=qe[5]?Xe.$name$=qe[5]:"",Z["s-sr"]=!0,Se&&(Xe.$elm$=$.createElement(Xe.$tag$),Xe.$name$&&Xe.$elm$.setAttribute("name",Xe.$name$),Z.parentNode.insertBefore(Xe.$elm$,Z),Z.remove(),"0"===Xe.$depth$&&(Se[Xe.$index$]=Xe.$elm$)),le.push(Xe),T.$children$||(T.$children$=[]),T.$children$[Xe.$index$]=Xe):"r"===Pe&&(Se?Z.remove():(P["s-cr"]=Z,Z["s-cn"]=!0))));else if(T&&"style"===T.$tag$){const Wt=on(null,Z.textContent);Wt.$elm$=Z,Wt.$index$="0",T.$children$=[Wt]}},Po=(T,N)=>{if(1===T.nodeType){let le=0;for(;le<T.childNodes.length;le++)Po(T.childNodes[le],N);if(T.shadowRoot)for(le=0;le<T.shadowRoot.childNodes.length;le++)Po(T.shadowRoot.childNodes[le],N)}else if(8===T.nodeType){const le=T.nodeValue.split(".");"o"===le[0]&&(N.set(le[1]+"."+le[2],T),T.nodeValue="",T["s-en"]=le[3])}},eo=(T,N,le)=>{if(N.$members$){T.watchers&&(N.$watchers$=T.watchers);const Se=Object.entries(N.$members$),P=T.prototype;if(Se.map(([Z,[J]])=>{31&J||2&le&&32&J?Object.defineProperty(P,Z,{get(){return((T,N)=>Br(this).$instanceValues$.get(N))(0,Z)},set(Pe){((T,N,le,Se)=>{const P=Br(T),Z=P.$hostElement$,J=P.$instanceValues$.get(N),Pe=P.$flags$,qe=P.$lazyInstance$;le=((T,N)=>null==T||Lt(T)?T:4&N?"false"!==T&&(""===T||!!T):2&N?parseFloat(T):1&N?String(T):T)(le,Se.$members$[N][0]);const Xe=Number.isNaN(J)&&Number.isNaN(le);if((!(8&Pe)||void 0===J)&&le!==J&&!Xe&&(P.$instanceValues$.set(N,le),qe)){if(Se.$watchers$&&128&Pe){const Wt=Se.$watchers$[N];Wt&&Wt.map(Zt=>{try{qe[Zt](le,J,N)}catch(rr){ko(rr,Z)}})}2==(18&Pe)&&Jt(P,!1)}})(this,Z,Pe,N)},configurable:!0,enumerable:!0}):1&le&&64&J&&Object.defineProperty(P,Z,{value(...Pe){const qe=Br(this);return qe.$onInstancePromise$.then(()=>qe.$lazyInstance$[Z](...Pe))}})}),1&le){const Z=new Map;P.attributeChangedCallback=function(J,Pe,qe){O.jmp(()=>{const Xe=Z.get(J);if(this.hasOwnProperty(Xe))qe=this[Xe],delete this[Xe];else if(P.hasOwnProperty(Xe)&&"number"==typeof this[Xe]&&this[Xe]==qe)return;this[Xe]=(null!==qe||"boolean"!=typeof this[Xe])&&qe})},T.observedAttributes=Se.filter(([J,Pe])=>15&Pe[0]).map(([J,Pe])=>{const qe=Pe[1]||J;return Z.set(qe,J),512&Pe[0]&&N.$attrsToReflect$.push([J,qe]),qe})}}return T},nr=function(){var T=(0,k.Z)(function*(N,le,Se,P,Z){if(0==(32&le.$flags$)){{if(le.$flags$|=32,(Z=Qi(Se)).then){const Xe=()=>{};Z=yield Z,Xe()}Z.isProxied||(Se.$watchers$=Z.watchers,eo(Z,Se,2),Z.isProxied=!0);const qe=()=>{};le.$flags$|=8;try{new Z(le)}catch(Xe){ko(Xe)}le.$flags$&=-9,le.$flags$|=128,qe(),to(le.$lazyInstance$)}if(Z.style){let qe=Z.style;"string"!=typeof qe&&(qe=qe[le.$modeName$=(T=>Pi.map(N=>N(T)).find(N=>!!N))(N)]);const Xe=B(Se,le.$modeName$);if(!qo.has(Xe)){const Ct=()=>{};It(Xe,qe,!!(1&Se.$flags$)),Ct()}}}const J=le.$ancestorComponent$,Pe=()=>Jt(le,!0);J&&J["s-rc"]?J["s-rc"].push(Pe):Pe()});return function(le,Se,P,Z,J){return T.apply(this,arguments)}}(),to=T=>{hr(T,"connectedCallback")},Wo=T=>{const N=T["s-cr"]=$.createComment("");N["s-cn"]=!0,T.insertBefore(N,T.firstChild)},yo=(T,N={})=>{const Se=[],P=N.exclude||[],Z=te.customElements,J=$.head,Pe=J.querySelector("meta[charset]"),qe=$.createElement("style"),Xe=[],Ct=$.querySelectorAll(`[${Ve}]`);let Wt,Zt=!0,rr=0;for(Object.assign(O,N),O.$resourcesUrl$=new URL(N.resourcesUrl||"./",$.baseURI).href,O.$flags$|=2;rr<Ct.length;rr++)It(Ct[rr].getAttribute(Ve),z(Ct[rr].innerHTML),!0);T.map(lo=>{lo[1].map(Rr=>{const mr={$flags$:Rr[0],$tagName$:Rr[1],$members$:Rr[2],$listeners$:Rr[3]};mr.$members$=Rr[2],mr.$listeners$=Rr[3],mr.$attrsToReflect$=[],mr.$watchers$={};const Ri=mr.$tagName$,Xo=class extends HTMLElement{constructor(bi){super(bi),li(bi=this,mr),1&mr.$flags$&&bi.attachShadow({mode:"open",delegatesFocus:!!(16&mr.$flags$)})}connectedCallback(){Wt&&(clearTimeout(Wt),Wt=null),Zt?Xe.push(this):O.jmp(()=>(T=>{if(0==(1&O.$flags$)){const N=Br(T),le=N.$cmpMeta$,Se=()=>{};if(1&N.$flags$)ge(T,N,le.$listeners$),to(N.$lazyInstance$);else{let P;if(N.$flags$|=1,P=T.getAttribute(Me),P){if(1&le.$flags$){const Z=He(T.shadowRoot,le,T.getAttribute("s-mode"));T.classList.remove(Z+"-h",Z+"-s")}((T,N,le,Se)=>{const Z=T.shadowRoot,J=[],qe=Z?[]:null,Xe=Se.$vnode$=on(N,null);O.$orgLocNodes$||Po($.body,O.$orgLocNodes$=new Map),T[Me]=le,T.removeAttribute(Me),ao(Xe,J,[],qe,T,T,le),J.map(Ct=>{const Wt=Ct.$hostId$+"."+Ct.$nodeId$,Zt=O.$orgLocNodes$.get(Wt),rr=Ct.$elm$;Zt&&""===Zt["s-en"]&&Zt.parentNode.insertBefore(rr,Zt.nextSibling),Z||(rr["s-hn"]=N,Zt&&(rr["s-ol"]=Zt,rr["s-ol"]["s-nr"]=rr)),O.$orgLocNodes$.delete(Wt)}),Z&&qe.map(Ct=>{Ct&&Z.appendChild(Ct)})})(T,le.$tagName$,P,N)}P||12&le.$flags$&&Wo(T);{let Z=T;for(;Z=Z.parentNode||Z.host;)if(1===Z.nodeType&&Z.hasAttribute("s-id")&&Z["s-p"]||Z["s-p"]){er(N,N.$ancestorComponent$=Z);break}}le.$members$&&Object.entries(le.$members$).map(([Z,[J]])=>{if(31&J&&T.hasOwnProperty(Z)){const Pe=T[Z];delete T[Z],T[Z]=Pe}}),Ko(()=>nr(T,N,le))}Se()}})(this))}disconnectedCallback(){O.jmp(()=>(T=>{if(0==(1&O.$flags$)){const N=Br(this),le=N.$lazyInstance$;N.$rmListeners$&&(N.$rmListeners$.map(Se=>Se()),N.$rmListeners$=void 0),hr(le,"disconnectedCallback")}})())}componentOnReady(){return Br(this).$onReadyPromise$}};mr.$lazyBundleId$=lo[0],!P.includes(Ri)&&!Z.get(Ri)&&(Se.push(Ri),Z.define(Ri,eo(Xo,mr,1)))})}),qe.innerHTML=Se+"{visibility:hidden}.hydrated{visibility:inherit}",qe.setAttribute("data-styles",""),J.insertBefore(qe,Pe?Pe.nextSibling:J.firstChild),Zt=!1,Xe.length?Xe.map(lo=>lo.connectedCallback()):O.jmp(()=>Wt=setTimeout(kt,30))},I=T=>{const N=new URL(T,O.$resourcesUrl$);return N.origin!==te.location.origin?N.href:N.pathname},qr=new WeakMap,Br=T=>qr.get(T),ai=(T,N)=>qr.set(N.$lazyInstance$=T,N),li=(T,N)=>{const le={$flags$:0,$hostElement$:T,$cmpMeta$:N,$instanceValues$:new Map};return le.$onInstancePromise$=new Promise(Se=>le.$onInstanceResolve$=Se),le.$onReadyPromise$=new Promise(Se=>le.$onReadyResolve$=Se),T["s-p"]=[],T["s-rc"]=[],ge(T,le,N.$listeners$),qr.set(T,le)},Ro=(T,N)=>N in T,ko=(T,N)=>(0,console.error)(T,N),Vr=new Map,Qi=(T,N,le)=>{const Se=T.$tagName$.replace(/-/g,"_"),P=T.$lazyBundleId$,Z=Vr.get(P);return Z?Z[Se]:R(863)(`./${P}.entry.js`).then(J=>(Vr.set(P,J),J[Se]),ko)},qo=new Map,Pi=[],Gn=[],Zo=[],_i=(T,N)=>le=>{T.push(le),q||(q=!0,N&&4&O.$flags$?Ko(Rn):O.raf(Rn))},Yo=T=>{for(let N=0;N<T.length;N++)try{T[N](performance.now())}catch(le){ko(le)}T.length=0},Rn=()=>{Yo(Gn),Yo(Zo),(q=Gn.length>0)&&O.raf(Rn)},Ko=T=>X().then(T),Nn=_i(Gn,!1),wi=_i(Zo,!0),Ji={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},9506:(Fe,je,R)=>{"use strict";R.d(je,{m:()=>te});var k=R(3918),d=R(159),ne=R(9158),ee=R(537),W=R(2597);const Y=$=>(0,W.c)().duration($?400:300),j=$=>{let O,V;const xe=$.width+8,X=(0,W.c)(),ve=(0,W.c)();$.isEndSide?(O=xe+"px",V="0px"):(O=-xe+"px",V="0px"),X.addElement($.menuInnerEl).fromTo("transform",`translateX(${O})`,`translateX(${V})`);const oe="ios"===(0,ee.b)($),ce=oe?.2:.25;return ve.addElement($.backdropEl).fromTo("opacity",.01,ce),Y(oe).addAnimation([X,ve])},G=$=>{let O,V;const xe=(0,ee.b)($),X=$.width;$.isEndSide?(O=-X+"px",V=X+"px"):(O=X+"px",V=-X+"px");const ve=(0,W.c)().addElement($.menuInnerEl).fromTo("transform",`translateX(${V})`,"translateX(0px)"),ge=(0,W.c)().addElement($.contentEl).fromTo("transform","translateX(0px)",`translateX(${O})`),oe=(0,W.c)().addElement($.backdropEl).fromTo("opacity",.01,.32);return Y("ios"===xe).addAnimation([ve,ge,oe])},ye=$=>{const O=(0,ee.b)($),V=$.width*($.isEndSide?-1:1)+"px",xe=(0,W.c)().addElement($.contentEl).fromTo("transform","translateX(0px)",`translateX(${V})`);return Y("ios"===O).addAnimation(xe)},te=(()=>{const $=new Map,O=[],V=function(){var L=(0,k.Z)(function*(B){const z=yield Ae(B);return!!z&&z.open()});return function(z){return L.apply(this,arguments)}}(),xe=function(){var L=(0,k.Z)(function*(B){const z=yield void 0!==B?Ae(B):ue();return void 0!==z&&z.close()});return function(z){return L.apply(this,arguments)}}(),X=function(){var L=(0,k.Z)(function*(B){const z=yield Ae(B);return!!z&&z.toggle()});return function(z){return L.apply(this,arguments)}}(),ve=function(){var L=(0,k.Z)(function*(B,z){const pe=yield Ae(z);return pe&&(pe.disabled=!B),pe});return function(z,pe){return L.apply(this,arguments)}}(),ge=function(){var L=(0,k.Z)(function*(B,z){const pe=yield Ae(z);return pe&&(pe.swipeGesture=B),pe});return function(z,pe){return L.apply(this,arguments)}}(),oe=function(){var L=(0,k.Z)(function*(B){if(null!=B){const z=yield Ae(B);return void 0!==z&&z.isOpen()}return void 0!==(yield ue())});return function(z){return L.apply(this,arguments)}}(),ce=function(){var L=(0,k.Z)(function*(B){const z=yield Ae(B);return!!z&&!z.disabled});return function(z){return L.apply(this,arguments)}}(),Ae=function(){var L=(0,k.Z)(function*(B){return yield He(),"start"===B||"end"===B?It(Te=>Te.side===B&&!Te.disabled)||It(Te=>Te.side===B):null!=B?It(pe=>pe.menuId===B):It(pe=>!pe.disabled)||(O.length>0?O[0].el:void 0)});return function(z){return L.apply(this,arguments)}}(),ue=function(){var L=(0,k.Z)(function*(){return yield He(),Ue()});return function(){return L.apply(this,arguments)}}(),Ge=function(){var L=(0,k.Z)(function*(){return yield He(),ze()});return function(){return L.apply(this,arguments)}}(),he=function(){var L=(0,k.Z)(function*(){return yield He(),at()});return function(){return L.apply(this,arguments)}}(),be=(L,B)=>{$.set(L,B)},Oe=L=>{const B=L.side;O.filter(z=>z.side===B&&z!==L).forEach(z=>z.disabled=!0)},ke=function(){var L=(0,k.Z)(function*(B,z,pe){if(at())return!1;if(z){const Te=yield ue();Te&&B.el!==Te&&(yield Te.setOpen(!1,!1))}return B._setOpen(z,pe)});return function(z,pe,Te){return L.apply(this,arguments)}}(),Ue=()=>It(L=>L._isOpen),ze=()=>O.map(L=>L.el),at=()=>O.some(L=>L.isAnimating),It=L=>{const B=O.find(L);if(void 0!==B)return B.el},He=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(L=>new Promise(B=>(0,ne.c)(L,B))));return be("reveal",ye),be("push",G),be("overlay",j),typeof document<"u"&&document.addEventListener("ionBackButton",L=>{const B=Ue();B&&L.detail.register(d.MENU_BACK_BUTTON_PRIORITY,()=>B.close())}),{registerAnimation:be,get:Ae,getMenus:Ge,getOpen:ue,isEnabled:ce,swipeGesture:ge,isAnimating:he,isOpen:oe,enable:ve,toggle:X,close:xe,open:V,_getOpenSync:Ue,_createAnimation:(L,B)=>{const z=$.get(L);if(!z)throw new Error("animation not registered");return z(B)},_register:L=>{O.indexOf(L)<0&&(L.disabled||Oe(L),O.push(L))},_unregister:L=>{const B=O.indexOf(L);B>-1&&O.splice(B,1)},_setOpen:ke,_setActiveMenu:Oe}})()},537:(Fe,je,R)=>{"use strict";R.d(je,{a:()=>te,b:()=>at,c:()=>ne,g:()=>q,i:()=>It});var k=R(9479);class d{constructor(){this.m=new Map}reset(L){this.m=new Map(Object.entries(L))}get(L,B){const z=this.m.get(L);return void 0!==z?z:B}getBoolean(L,B=!1){const z=this.m.get(L);return void 0===z?B:"string"==typeof z?"true"===z:!!z}getNumber(L,B){const z=parseFloat(this.m.get(L));return isNaN(z)?void 0!==B?B:NaN:z}set(L,B){this.m.set(L,B)}}const ne=new d,G="ionic:",ye="ionic-persist-config",q=He=>$(He),te=(He,L)=>("string"==typeof He&&(L=He,He=void 0),q(He).includes(L)),$=(He=window)=>{if(typeof He>"u")return[];He.Ionic=He.Ionic||{};let L=He.Ionic.platforms;return null==L&&(L=He.Ionic.platforms=O(He),L.forEach(B=>He.document.documentElement.classList.add(`plt-${B}`))),L},O=He=>{const L=ne.get("platform");return Object.keys(Ue).filter(B=>{const z=L?.[B];return"function"==typeof z?z(He):Ue[B](He)})},xe=He=>!!(ke(He,/iPad/i)||ke(He,/Macintosh/i)&&ue(He)),ge=He=>ke(He,/android|sink/i),ue=He=>K(He,"(any-pointer:coarse)"),he=He=>be(He)||Me(He),be=He=>!!(He.cordova||He.phonegap||He.PhoneGap),Me=He=>!!He.Capacitor?.isNative,ke=(He,L)=>L.test(He.navigator.userAgent),K=(He,L)=>{var B;return null===(B=He.matchMedia)||void 0===B?void 0:B.call(He,L).matches},Ue={ipad:xe,iphone:He=>ke(He,/iPhone/i),ios:He=>ke(He,/iPhone|iPod/i)||xe(He),android:ge,phablet:He=>{const L=He.innerWidth,B=He.innerHeight,z=Math.min(L,B),pe=Math.max(L,B);return z>390&&z<520&&pe>620&&pe<800},tablet:He=>{const L=He.innerWidth,B=He.innerHeight,z=Math.min(L,B),pe=Math.max(L,B);return xe(He)||(He=>ge(He)&&!ke(He,/mobile/i))(He)||z>460&&z<820&&pe>780&&pe<1400},cordova:be,capacitor:Me,electron:He=>ke(He,/electron/i),pwa:He=>{var L;return!(!(null===(L=He.matchMedia)||void 0===L?void 0:L.call(He,"(display-mode: standalone)").matches)&&!He.navigator.standalone)},mobile:ue,mobileweb:He=>ue(He)&&!he(He),desktop:He=>!ue(He),hybrid:he};let ze;const at=He=>He&&(0,k.g)(He)||ze,It=(He={})=>{if(typeof window>"u")return;const L=window.document,B=window,z=B.Ionic=B.Ionic||{},pe={};He._ael&&(pe.ael=He._ael),He._rel&&(pe.rel=He._rel),He._ce&&(pe.ce=He._ce),(0,k.s)(pe);const Te=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(He=>{try{const L=He.sessionStorage.getItem(ye);return null!==L?JSON.parse(L):{}}catch{return{}}})(B)),{persistConfig:!1}),z.config),(He=>{const L={};return He.location.search.slice(1).split("&").map(B=>B.split("=")).map(([B,z])=>[decodeURIComponent(B),decodeURIComponent(z)]).filter(([B])=>((He,L)=>He.substr(0,L.length)===L)(B,G)).map(([B,z])=>[B.slice(G.length),z]).forEach(([B,z])=>{L[B]=z}),L})(B)),He);ne.reset(Te),ne.getBoolean("persistConfig")&&((He,L)=>{try{He.sessionStorage.setItem(ye,JSON.stringify(L))}catch{return}})(B,Te),$(B),z.config=ne,z.mode=ze=ne.get("mode",L.documentElement.getAttribute("mode")||(te(B,"ios")?"ios":"md")),ne.set("mode",ze),L.documentElement.setAttribute("mode",ze),L.documentElement.classList.add(ze),ne.getBoolean("_testing")&&ne.set("animated",!1);const Re=Ke=>{var Je;return null===(Je=Ke.tagName)||void 0===Je?void 0:Je.startsWith("ION-")},et=Ke=>["ios","md"].includes(Ke);(0,k.a)(Ke=>{for(;Ke;){const Je=Ke.mode||Ke.getAttribute("mode");if(Je){if(et(Je))return Je;Re(Ke)&&console.warn('Invalid ionic mode: "'+Je+'", expected: "ios" or "md"')}Ke=Ke.parentElement}return ze})}},5794:(Fe,je,R)=>{"use strict";R.r(je),R.d(je,{iosTransitionAnimation:()=>$,shadow:()=>Y});var k=R(2597),d=R(4736);R(9479);const W=O=>document.querySelector(`${O}.ion-cloned-element`),Y=O=>O.shadowRoot||O,j=O=>{const V="ION-TABS"===O.tagName?O:O.querySelector("ion-tabs"),xe="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=V){const X=V.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=X?X.querySelector(xe):null}return O.querySelector(xe)},G=(O,V)=>{const xe="ION-TABS"===O.tagName?O:O.querySelector("ion-tabs");let X=[];if(null!=xe){const ve=xe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=ve&&(X=ve.querySelectorAll("ion-buttons"))}else X=O.querySelectorAll("ion-buttons");for(const ve of X){const ge=ve.closest("ion-header"),oe=ge&&!ge.classList.contains("header-collapse-condense-inactive"),ce=ve.querySelector("ion-back-button"),Ae=ve.classList.contains("buttons-collapse"),ue="start"===ve.slot||""===ve.slot;if(null!==ce&&ue&&(Ae&&oe&&V||!Ae))return ce}return null},q=(O,V,xe,X,ve,ge)=>{const oe=V?`calc(100% - ${ge.right+4}px)`:ge.left-4+"px",ce=V?"7px":"-7px",Ae=V?"-4px":"4px",ue=V?"-4px":"4px",Ge=V?"right":"left",he=V?"left":"right",Ve=xe?[{offset:0,opacity:1,transform:`translate3d(${Ae}, ${ge.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${ce}, ${ve.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${ce}, ${ve.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${Ae}, ${ge.top-46}px, 0) scale(1)`}],K=xe?[{offset:0,opacity:1,transform:`translate3d(${ue}, ${ge.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${ue}, ${ge.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${ue}, ${ge.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${ue}, ${ge.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${ue}, ${ge.top-46}px, 0) scale(1)`}],Ue=(0,k.c)(),ze=(0,k.c)(),at=W("ion-back-button"),It=Y(at).querySelector(".button-text"),He=Y(at).querySelector("ion-icon");at.text=X.text,at.mode=X.mode,at.icon=X.icon,at.color=X.color,at.disabled=X.disabled,at.style.setProperty("display","block"),at.style.setProperty("position","fixed"),ze.addElement(He),Ue.addElement(It),Ue.beforeStyles({"transform-origin":`${Ge} center`}).beforeAddWrite(()=>{X.style.setProperty("display","none"),at.style.setProperty(Ge,oe)}).afterAddWrite(()=>{X.style.setProperty("display",""),at.style.setProperty("display","none"),at.style.removeProperty(Ge)}).keyframes(Ve),ze.beforeStyles({"transform-origin":`${he} center`}).keyframes(K),O.addAnimation([Ue,ze])},te=(O,V,xe,X,ve,ge)=>{const oe=V?`calc(100% - ${ve.right}px)`:`${ve.left}px`,ce=V?"-18px":"18px",Ae=V?"right":"left",he=xe?[{offset:0,opacity:0,transform:`translate3d(${ce}, ${ge.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${ve.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${ve.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${ce}, ${ge.top-4}px, 0) scale(0.5)`}],be=W("ion-title"),Me=(0,k.c)();be.innerText=X.innerText,be.size=X.size,be.color=X.color,Me.addElement(be),Me.beforeStyles({"transform-origin":`${Ae} center`,height:"46px",display:"",position:"relative",[Ae]:oe}).beforeAddWrite(()=>{X.style.setProperty("display","none")}).afterAddWrite(()=>{X.style.setProperty("display",""),be.style.setProperty("display","none")}).keyframes(he),O.addAnimation(Me)},$=(O,V)=>{try{const xe="cubic-bezier(0.32,0.72,0,1)",X="opacity",ve="transform",ge="0%",ce="rtl"===O.ownerDocument.dir,Ae=ce?"-99.5%":"99.5%",ue=ce?"33%":"-33%",Ge=V.enteringEl,he=V.leavingEl,be="back"===V.direction,Me=Ge.querySelector(":scope > ion-content"),Ve=Ge.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Oe=Ge.querySelectorAll(":scope > ion-header > ion-toolbar"),ke=(0,k.c)(),K=(0,k.c)();if(ke.addElement(Ge).duration(V.duration||540).easing(V.easing||xe).fill("both").beforeRemoveClass("ion-page-invisible"),he&&O){const It=(0,k.c)();It.addElement(O),ke.addAnimation(It)}if(Me||0!==Oe.length||0!==Ve.length?(K.addElement(Me),K.addElement(Ve)):K.addElement(Ge.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ke.addAnimation(K),be?K.beforeClearStyles([X]).fromTo("transform",`translateX(${ue})`,`translateX(${ge})`).fromTo(X,.8,1):K.beforeClearStyles([X]).fromTo("transform",`translateX(${Ae})`,`translateX(${ge})`),Me){const It=Y(Me).querySelector(".transition-effect");if(It){const He=It.querySelector(".transition-cover"),L=It.querySelector(".transition-shadow"),B=(0,k.c)(),z=(0,k.c)(),pe=(0,k.c)();B.addElement(It).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),z.addElement(He).beforeClearStyles([X]).fromTo(X,0,.1),pe.addElement(L).beforeClearStyles([X]).fromTo(X,.03,.7),B.addAnimation([z,pe]),K.addAnimation([B])}}const Ue=Ge.querySelector("ion-header.header-collapse-condense"),{forward:ze,backward:at}=((O,V,xe,X,ve)=>{const ge=G(X,xe),oe=j(ve),ce=j(X),Ae=G(ve,xe),ue=null!==ge&&null!==oe&&!xe,Ge=null!==ce&&null!==Ae&&xe;if(ue){const he=oe.getBoundingClientRect(),be=ge.getBoundingClientRect();te(O,V,xe,oe,he,be),q(O,V,xe,ge,he,be)}else if(Ge){const he=ce.getBoundingClientRect(),be=Ae.getBoundingClientRect();te(O,V,xe,ce,he,be),q(O,V,xe,Ae,he,be)}return{forward:ue,backward:Ge}})(ke,ce,be,Ge,he);if(Oe.forEach(It=>{const He=(0,k.c)();He.addElement(It),ke.addAnimation(He);const L=(0,k.c)();L.addElement(It.querySelector("ion-title"));const B=(0,k.c)(),z=Array.from(It.querySelectorAll("ion-buttons,[menuToggle]")),pe=It.closest("ion-header"),Te=pe?.classList.contains("header-collapse-condense-inactive");let Re;Re=z.filter(be?Lt=>{const Tn=Lt.classList.contains("buttons-collapse");return Tn&&!Te||!Tn}:Lt=>!Lt.classList.contains("buttons-collapse")),B.addElement(Re);const et=(0,k.c)();et.addElement(It.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Ke=(0,k.c)();Ke.addElement(Y(It).querySelector(".toolbar-background"));const Je=(0,k.c)(),At=It.querySelector("ion-back-button");if(At&&Je.addElement(At),He.addAnimation([L,B,et,Ke,Je]),B.fromTo(X,.01,1),et.fromTo(X,.01,1),be)Te||L.fromTo("transform",`translateX(${ue})`,`translateX(${ge})`).fromTo(X,.01,1),et.fromTo("transform",`translateX(${ue})`,`translateX(${ge})`),Je.fromTo(X,.01,1);else if(Ue||L.fromTo("transform",`translateX(${Ae})`,`translateX(${ge})`).fromTo(X,.01,1),et.fromTo("transform",`translateX(${Ae})`,`translateX(${ge})`),Ke.beforeClearStyles([X,"transform"]),pe?.translucent?Ke.fromTo("transform",ce?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Ke.fromTo(X,.01,"var(--opacity)"),ze||Je.fromTo(X,.01,1),At&&!ze){const Tn=(0,k.c)();Tn.addElement(Y(At).querySelector(".button-text")).fromTo("transform",ce?"translateX(-100px)":"translateX(100px)","translateX(0px)"),He.addAnimation(Tn)}}),he){const It=(0,k.c)(),He=he.querySelector(":scope > ion-content"),L=he.querySelectorAll(":scope > ion-header > ion-toolbar"),B=he.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(He||0!==L.length||0!==B.length?(It.addElement(He),It.addElement(B)):It.addElement(he.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ke.addAnimation(It),be){It.beforeClearStyles([X]).fromTo("transform",`translateX(${ge})`,ce?"translateX(-100%)":"translateX(100%)");const z=(0,d.g)(he);ke.afterAddWrite(()=>{"normal"===ke.getDirection()&&z.style.setProperty("display","none")})}else It.fromTo("transform",`translateX(${ge})`,`translateX(${ue})`).fromTo(X,1,.8);if(He){const z=Y(He).querySelector(".transition-effect");if(z){const pe=z.querySelector(".transition-cover"),Te=z.querySelector(".transition-shadow"),Re=(0,k.c)(),et=(0,k.c)(),Ke=(0,k.c)();Re.addElement(z).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),et.addElement(pe).beforeClearStyles([X]).fromTo(X,.1,0),Ke.addElement(Te).beforeClearStyles([X]).fromTo(X,.7,.03),Re.addAnimation([et,Ke]),It.addAnimation([Re])}}L.forEach(z=>{const pe=(0,k.c)();pe.addElement(z);const Te=(0,k.c)();Te.addElement(z.querySelector("ion-title"));const Re=(0,k.c)(),et=z.querySelectorAll("ion-buttons,[menuToggle]"),Ke=z.closest("ion-header"),Je=Ke?.classList.contains("header-collapse-condense-inactive"),At=Array.from(et).filter(Er=>{const Zn=Er.classList.contains("buttons-collapse");return Zn&&!Je||!Zn});Re.addElement(At);const Lt=(0,k.c)(),Tn=z.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Tn.length>0&&Lt.addElement(Tn);const on=(0,k.c)();on.addElement(Y(z).querySelector(".toolbar-background"));const se=(0,k.c)(),zr=z.querySelector("ion-back-button");if(zr&&se.addElement(zr),pe.addAnimation([Te,Re,Lt,se,on]),ke.addAnimation(pe),se.fromTo(X,.99,0),Re.fromTo(X,.99,0),Lt.fromTo(X,.99,0),be){if(Je||Te.fromTo("transform",`translateX(${ge})`,ce?"translateX(-100%)":"translateX(100%)").fromTo(X,.99,0),Lt.fromTo("transform",`translateX(${ge})`,ce?"translateX(-100%)":"translateX(100%)"),on.beforeClearStyles([X,"transform"]),Ke?.translucent?on.fromTo("transform","translateX(0px)",ce?"translateX(-100%)":"translateX(100%)"):on.fromTo(X,"var(--opacity)",0),zr&&!at){const Zn=(0,k.c)();Zn.addElement(Y(zr).querySelector(".button-text")).fromTo("transform",`translateX(${ge})`,`translateX(${(ce?-124:124)+"px"})`),pe.addAnimation(Zn)}}else Je||Te.fromTo("transform",`translateX(${ge})`,`translateX(${ue})`).fromTo(X,.99,0).afterClearStyles([ve,X]),Lt.fromTo("transform",`translateX(${ge})`,`translateX(${ue})`).afterClearStyles([ve,X]),se.afterClearStyles([X]),Te.afterClearStyles([X]),Re.afterClearStyles([X])})}return ke}catch(xe){throw xe}}},932:(Fe,je,R)=>{"use strict";R.r(je),R.d(je,{mdTransitionAnimation:()=>ee});var k=R(2597),d=R(4736);R(9479);const ee=(W,Y)=>{const ye="back"===Y.direction,te=Y.leavingEl,$=(0,d.g)(Y.enteringEl),O=$.querySelector("ion-toolbar"),V=(0,k.c)();if(V.addElement($).fill("both").beforeRemoveClass("ion-page-invisible"),ye?V.duration(Y.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):V.duration(Y.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),O){const xe=(0,k.c)();xe.addElement(O),V.addAnimation(xe)}if(te&&ye){V.duration(Y.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const xe=(0,k.c)();xe.addElement((0,d.g)(te)).onFinish(X=>{1===X&&xe.elements.length>0&&xe.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),V.addAnimation(xe)}return V}},9703:(Fe,je,R)=>{"use strict";R.d(je,{B:()=>B,a:()=>G,b:()=>ye,c:()=>O,d:()=>Ve,e:()=>xe,f:()=>ke,g:()=>ze,h:()=>Y,i:()=>It,j:()=>ge,k:()=>be,l:()=>q,m:()=>te,s:()=>L});var k=R(3918),d=R(537),ne=R(159),ee=R(9158);let W=0;const Y=new WeakMap,j=z=>({create:pe=>X(z,pe),dismiss:(pe,Te,Re)=>Ge(document,pe,Te,z,Re),getTop:()=>(0,k.Z)(function*(){return be(document,z)})()}),G=j("ion-alert"),ye=j("ion-action-sheet"),q=j("ion-loading"),te=j("ion-modal"),O=j("ion-popover"),xe=z=>{typeof document<"u"&&ue(document);const pe=W++;z.overlayIndex=pe,z.hasAttribute("id")||(z.id=`ion-overlay-${pe}`)},X=(z,pe)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(z).then(()=>{const Te=document.createElement(z);return Te.classList.add("overlay-hidden"),Object.assign(Te,Object.assign(Object.assign({},pe),{hasController:!0})),K(document).appendChild(Te),new Promise(Re=>(0,ee.c)(Te,Re))}):Promise.resolve(),ve='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',ge=(z,pe)=>{let Te=z.querySelector(ve);const Re=Te?.shadowRoot;Re&&(Te=Re.querySelector(ve)||Te),Te?(0,ee.f)(Te):pe.focus()},ce=(z,pe)=>{const Te=Array.from(z.querySelectorAll(ve));let Re=Te.length>0?Te[Te.length-1]:null;const et=Re?.shadowRoot;et&&(Re=et.querySelector(ve)||Re),Re?Re.focus():pe.focus()},ue=z=>{0===W&&(W=1,z.addEventListener("focus",pe=>{((z,pe)=>{const Te=be(pe,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Re=z.target;Te&&Re&&!Te.classList.contains("ion-disable-focus-trap")&&(Te.shadowRoot?(()=>{if(Te.contains(Re))Te.lastFocus=Re;else{const Je=Te.lastFocus;ge(Te,Te),Je===pe.activeElement&&ce(Te,Te),Te.lastFocus=pe.activeElement}})():(()=>{if(Te===Re)Te.lastFocus=void 0;else{const Je=(0,ee.g)(Te);if(!Je.contains(Re))return;const At=Je.querySelector(".ion-overlay-wrapper");if(!At)return;if(At.contains(Re))Te.lastFocus=Re;else{const Lt=Te.lastFocus;ge(At,Te),Lt===pe.activeElement&&ce(At,Te),Te.lastFocus=pe.activeElement}}})())})(pe,z)},!0),z.addEventListener("ionBackButton",pe=>{const Te=be(z);Te?.backdropDismiss&&pe.detail.register(ne.OVERLAY_BACK_BUTTON_PRIORITY,()=>Te.dismiss(void 0,B))}),z.addEventListener("keyup",pe=>{if("Escape"===pe.key){const Te=be(z);Te?.backdropDismiss&&Te.dismiss(void 0,B)}}))},Ge=(z,pe,Te,Re,et)=>{const Ke=be(z,Re,et);return Ke?Ke.dismiss(pe,Te):Promise.reject("overlay does not exist")},be=(z,pe,Te)=>{const Re=((z,pe)=>(void 0===pe&&(pe="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(z.querySelectorAll(pe)).filter(Te=>Te.overlayIndex>0)))(z,pe).filter(et=>!(z=>z.classList.contains("overlay-hidden"))(et));return void 0===Te?Re[Re.length-1]:Re.find(et=>et.id===Te)},Me=(z=!1)=>{const Te=K(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");!Te||(z?Te.setAttribute("aria-hidden","true"):Te.removeAttribute("aria-hidden"))},Ve=function(){var z=(0,k.Z)(function*(pe,Te,Re,et,Ke){var Je,At;if(pe.presented)return;Me(!0),pe.presented=!0,pe.willPresent.emit(),null===(Je=pe.willPresentShorthand)||void 0===Je||Je.emit();const Lt=(0,d.b)(pe),Tn=pe.enterAnimation?pe.enterAnimation:d.c.get(Te,"ios"===Lt?Re:et);(yield Ue(pe,Tn,pe.el,Ke))&&(pe.didPresent.emit(),null===(At=pe.didPresentShorthand)||void 0===At||At.emit()),"ION-TOAST"!==pe.el.tagName&&Oe(pe.el),pe.keyboardClose&&(null===document.activeElement||!pe.el.contains(document.activeElement))&&pe.el.focus()});return function(Te,Re,et,Ke,Je){return z.apply(this,arguments)}}(),Oe=function(){var z=(0,k.Z)(function*(pe){let Te=document.activeElement;if(!Te)return;const Re=Te?.shadowRoot;Re&&(Te=Re.querySelector(ve)||Te),yield pe.onDidDismiss(),Te.focus()});return function(Te){return z.apply(this,arguments)}}(),ke=function(){var z=(0,k.Z)(function*(pe,Te,Re,et,Ke,Je,At){var Lt,Tn;if(!pe.presented)return!1;Me(!1),pe.presented=!1;try{pe.el.style.setProperty("pointer-events","none"),pe.willDismiss.emit({data:Te,role:Re}),null===(Lt=pe.willDismissShorthand)||void 0===Lt||Lt.emit({data:Te,role:Re});const on=(0,d.b)(pe),se=pe.leaveAnimation?pe.leaveAnimation:d.c.get(et,"ios"===on?Ke:Je);"gesture"!==Re&&(yield Ue(pe,se,pe.el,At)),pe.didDismiss.emit({data:Te,role:Re}),null===(Tn=pe.didDismissShorthand)||void 0===Tn||Tn.emit({data:Te,role:Re}),Y.delete(pe),pe.el.classList.add("overlay-hidden"),pe.el.style.removeProperty("pointer-events")}catch(on){console.error(on)}return pe.el.remove(),!0});return function(Te,Re,et,Ke,Je,At,Lt){return z.apply(this,arguments)}}(),K=z=>z.querySelector("ion-app")||z.body,Ue=function(){var z=(0,k.Z)(function*(pe,Te,Re,et){Re.classList.remove("overlay-hidden");const Je=Te(pe.el,et);(!pe.animated||!d.c.getBoolean("animated",!0))&&Je.duration(0),pe.keyboardClose&&Je.beforeAddWrite(()=>{const Lt=Re.ownerDocument.activeElement;Lt?.matches("input,ion-input, ion-textarea")&&Lt.blur()});const At=Y.get(pe)||[];return Y.set(pe,[...At,Je]),yield Je.play(),!0});return function(Te,Re,et,Ke){return z.apply(this,arguments)}}(),ze=(z,pe)=>{let Te;const Re=new Promise(et=>Te=et);return at(z,pe,et=>{Te(et.detail)}),Re},at=(z,pe,Te)=>{const Re=et=>{(0,ee.b)(z,pe,Re),Te(et)};(0,ee.a)(z,pe,Re)},It=z=>"cancel"===z||z===B,He=z=>z(),L=(z,pe)=>{if("function"==typeof z)return d.c.get("_zoneGate",He)(()=>{try{return z(pe)}catch(Re){throw Re}})},B="backdrop"},4263:(Fe,je,R)=>{"use strict";var k=R(9903),d=R(3855),ne=d(k("String.prototype.indexOf"));Fe.exports=function(W,Y){var j=k(W,!!Y);return"function"==typeof j&&ne(W,".prototype.")>-1?d(j):j}},3855:(Fe,je,R)=>{"use strict";var k=R(224),d=R(9903),ne=d("%Function.prototype.apply%"),ee=d("%Function.prototype.call%"),W=d("%Reflect.apply%",!0)||k.call(ee,ne),Y=d("%Object.getOwnPropertyDescriptor%",!0),j=d("%Object.defineProperty%",!0),G=d("%Math.max%");if(j)try{j({},"a",{value:1})}catch{j=null}Fe.exports=function(te){var $=W(k,ee,arguments);if(Y&&j){var O=Y($,"length");O.configurable&&j($,"length",{value:1+G(0,te.length-(arguments.length-1))})}return $};var ye=function(){return W(k,ne,arguments)};j?j(Fe.exports,"apply",{value:ye}):Fe.exports.apply=ye},5107:Fe=>{var je={utf8:{stringToBytes:function(R){return je.bin.stringToBytes(unescape(encodeURIComponent(R)))},bytesToString:function(R){return decodeURIComponent(escape(je.bin.bytesToString(R)))}},bin:{stringToBytes:function(R){for(var k=[],d=0;d<R.length;d++)k.push(255&R.charCodeAt(d));return k},bytesToString:function(R){for(var k=[],d=0;d<R.length;d++)k.push(String.fromCharCode(R[d]));return k.join("")}}};Fe.exports=je},7175:Fe=>{var je,R;je="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Fe.exports=R={rotl:function(k,d){return k<<d|k>>>32-d},rotr:function(k,d){return k<<32-d|k>>>d},endian:function(k){if(k.constructor==Number)return 16711935&R.rotl(k,8)|4278255360&R.rotl(k,24);for(var d=0;d<k.length;d++)k[d]=R.endian(k[d]);return k},randomBytes:function(k){for(var d=[];k>0;k--)d.push(Math.floor(256*Math.random()));return d},bytesToWords:function(k){for(var d=[],ne=0,ee=0;ne<k.length;ne++,ee+=8)d[ee>>>5]|=k[ne]<<24-ee%32;return d},wordsToBytes:function(k){for(var d=[],ne=0;ne<32*k.length;ne+=8)d.push(k[ne>>>5]>>>24-ne%32&255);return d},bytesToHex:function(k){for(var d=[],ne=0;ne<k.length;ne++)d.push((k[ne]>>>4).toString(16)),d.push((15&k[ne]).toString(16));return d.join("")},hexToBytes:function(k){for(var d=[],ne=0;ne<k.length;ne+=2)d.push(parseInt(k.substr(ne,2),16));return d},bytesToBase64:function(k){for(var d=[],ne=0;ne<k.length;ne+=3)for(var ee=k[ne]<<16|k[ne+1]<<8|k[ne+2],W=0;W<4;W++)d.push(8*ne+6*W<=8*k.length?je.charAt(ee>>>6*(3-W)&63):"=");return d.join("")},base64ToBytes:function(k){k=k.replace(/[^A-Z0-9+\/]/gi,"");for(var d=[],ne=0,ee=0;ne<k.length;ee=++ne%4)0!=ee&&d.push((je.indexOf(k.charAt(ne-1))&Math.pow(2,-2*ee+8)-1)<<2*ee|je.indexOf(k.charAt(ne))>>>6-2*ee);return d}}},5541:(Fe,je,R)=>{"use strict";var k=R(2093),d=R(9102),ne=R(5734),ee=R(6687),W=R(8704),Y=R(8266),j=R(4666),G=R(2086),ye=R(9903),q=R(4263),te=R(2107),$=R(2069),O=R(8432),V=R(5709),xe=R(6189),X=q("Date.prototype.getTime"),ve=Object.getPrototypeOf,ge=q("Object.prototype.toString"),oe=ye("%Set%",!0),ce=q("Map.prototype.has",!0),Ae=q("Map.prototype.get",!0),ue=q("Map.prototype.size",!0),Ge=q("Set.prototype.add",!0),he=q("Set.prototype.delete",!0),be=q("Set.prototype.has",!0),Me=q("Set.prototype.size",!0);function Ve(B,z,pe,Te){for(var et,Re=$(B);(et=Re.next())&&!et.done;)if(ze(z,et.value,pe,Te))return he(B,et.value),!0;return!1}function Oe(B){return typeof B>"u"?null:"object"!=typeof B?"symbol"!=typeof B&&("string"!=typeof B&&"number"!=typeof B||+B==+B):void 0}function ke(B,z,pe,Te,Re,et){var Ke=Oe(pe);if(null!=Ke)return Ke;var Je=Ae(z,Ke),At=xe({},Re,{strict:!1});return!(typeof Je>"u"&&!ce(z,Ke)||!ze(Te,Je,At,et))&&!ce(B,Ke)&&ze(Te,Je,At,et)}function K(B,z,pe){var Te=Oe(pe);return Te??(be(z,Te)&&!be(B,Te))}function Ue(B,z,pe,Te,Re,et){for(var Je,At,Ke=$(B);(Je=Ke.next())&&!Je.done;)if(ze(pe,At=Je.value,Re,et)&&ze(Te,Ae(z,At),Re,et))return he(B,At),!0;return!1}function ze(B,z,pe,Te){var Re=pe||{};if(Re.strict?ne(B,z):B===z)return!0;if(G(B)!==G(z))return!1;if(!B||!z||"object"!=typeof B&&"object"!=typeof z)return Re.strict?ne(B,z):B==z;var Lt,Je=Te.has(B),At=Te.has(z);if(Je&&At){if(Te.get(B)===Te.get(z))return!0}else Lt={};return Je||Te.set(B,Lt),At||Te.set(z,Lt),function L(B,z,pe,Te){var Re,et;if(typeof B!=typeof z||null==B||null==z||ge(B)!==ge(z)||d(B)!==d(z))return!1;if(Y(B)!==Y(z))return!1;var At=B instanceof Error,Lt=z instanceof Error;if(At!==Lt||(At||Lt)&&(B.name!==z.name||B.message!==z.message))return!1;var Tn=ee(B),on=ee(z);if(Tn!==on||(Tn||on)&&(B.source!==z.source||W(B)!==W(z)))return!1;var se=j(B),zr=j(z);if(se!==zr||(se||zr)&&X(B)!==X(z)||pe.strict&&ve&&ve(B)!==ve(z)||V(B)!==V(z))return!1;var Er=at(B),Zn=at(z);if(Er!==Zn)return!1;if(Er||Zn){if(B.length!==z.length)return!1;for(Re=0;Re<B.length;Re++)if(B[Re]!==z[Re])return!1;return!0}if(typeof B!=typeof z)return!1;var io=k(B),Jr=k(z);if(io.length!==Jr.length)return!1;for(io.sort(),Jr.sort(),Re=io.length-1;Re>=0;Re--)if(io[Re]!=Jr[Re])return!1;for(Re=io.length-1;Re>=0;Re--)if(!ze(B[et=io[Re]],z[et],pe,Te))return!1;var Mr=te(B),Hn=te(z);return Mr===Hn&&("Set"===Mr||"Set"===Hn?function It(B,z,pe,Te){if(Me(B)!==Me(z))return!1;for(var Ke,Je,At,Re=$(B),et=$(z);(Ke=Re.next())&&!Ke.done;)if(Ke.value&&"object"==typeof Ke.value)At||(At=new oe),Ge(At,Ke.value);else if(!be(z,Ke.value)){if(pe.strict||!K(B,z,Ke.value))return!1;At||(At=new oe),Ge(At,Ke.value)}if(At){for(;(Je=et.next())&&!Je.done;)if(Je.value&&"object"==typeof Je.value){if(!Ve(At,Je.value,pe.strict,Te))return!1}else if(!pe.strict&&!be(B,Je.value)&&!Ve(At,Je.value,pe.strict,Te))return!1;return 0===Me(At)}return!0}(B,z,pe,Te):"Map"!==Mr||function He(B,z,pe,Te){if(ue(B)!==ue(z))return!1;for(var Ke,Je,At,Lt,Tn,on,Re=$(B),et=$(z);(Ke=Re.next())&&!Ke.done;)if(Tn=Ke.value[1],(Lt=Ke.value[0])&&"object"==typeof Lt)At||(At=new oe),Ge(At,Lt);else if(typeof(on=Ae(z,Lt))>"u"&&!ce(z,Lt)||!ze(Tn,on,pe,Te)){if(pe.strict||!ke(B,z,Lt,Tn,pe,Te))return!1;At||(At=new oe),Ge(At,Lt)}if(At){for(;(Je=et.next())&&!Je.done;)if(on=Je.value[1],(Lt=Je.value[0])&&"object"==typeof Lt){if(!Ue(At,B,Lt,on,pe,Te))return!1}else if(!(pe.strict||B.has(Lt)&&ze(Ae(B,Lt),on,pe,Te)||Ue(At,B,Lt,on,xe({},pe,{strict:!1}),Te)))return!1;return 0===Me(At)}return!0}(B,z,pe,Te))}(B,z,Re,Te)}function at(B){return!(!B||"object"!=typeof B||"number"!=typeof B.length||"function"!=typeof B.copy||"function"!=typeof B.slice||B.length>0&&"number"!=typeof B[0]||!(B.constructor&&B.constructor.isBuffer&&B.constructor.isBuffer(B)))}Fe.exports=function(z,pe,Te){return ze(z,pe,Te,O())}},1790:(Fe,je,R)=>{"use strict";var k=R(2093),d="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),ne=Object.prototype.toString,ee=Array.prototype.concat,W=Object.defineProperty,j=R(9006)(),G=W&&j,ye=function(te,$,O,V){$ in te&&(!function(te){return"function"==typeof te&&"[object Function]"===ne.call(te)}(V)||!V())||(G?W(te,$,{configurable:!0,enumerable:!1,value:O,writable:!0}):te[$]=O)},q=function(te,$){var O=arguments.length>2?arguments[2]:{},V=k($);d&&(V=ee.call(V,Object.getOwnPropertySymbols($)));for(var xe=0;xe<V.length;xe+=1)ye(te,V[xe],$[V[xe]],O[V[xe]])};q.supportsDescriptors=!!G,Fe.exports=q},9897:function(Fe,je){!function(R){"use strict";var $,ne=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,ee=536870912,W=2*ee,j=new WeakMap,ye=function($,O){return function(V){var xe=O.get(V),X=void 0===xe?V.size:xe<W?xe+1:0;if(!V.has(X))return $(V,X);if(V.size<ee){for(;V.has(X);)X=Math.floor(Math.random()*W);return $(V,X)}if(V.size>ne)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;V.has(X);)X=Math.floor(Math.random()*ne);return $(V,X)}}(($=j,function(O,V){return $.set(O,V),V}),j),q=function($){return function(O){var V=$(O);return O.add(V),V}}(ye);R.addUniqueNumber=q,R.generateUniqueNumber=ye,Object.defineProperty(R,"__esModule",{value:!0})}(je)},3037:(Fe,je,R)=>{"use strict";var k=R(8642),d=Object.prototype.toString,ne=Object.prototype.hasOwnProperty,ee=function(ye,q,te){for(var $=0,O=ye.length;$<O;$++)ne.call(ye,$)&&(null==te?q(ye[$],$,ye):q.call(te,ye[$],$,ye))},W=function(ye,q,te){for(var $=0,O=ye.length;$<O;$++)null==te?q(ye.charAt($),$,ye):q.call(te,ye.charAt($),$,ye)},Y=function(ye,q,te){for(var $ in ye)ne.call(ye,$)&&(null==te?q(ye[$],$,ye):q.call(te,ye[$],$,ye))};Fe.exports=function(ye,q,te){if(!k(q))throw new TypeError("iterator must be a function");var $;arguments.length>=3&&($=te),"[object Array]"===d.call(ye)?ee(ye,q,$):"string"==typeof ye?W(ye,q,$):Y(ye,q,$)}},2199:Fe=>{"use strict";var je="Function.prototype.bind called on incompatible ",R=Array.prototype.slice,k=Object.prototype.toString,d="[object Function]";Fe.exports=function(ee){var W=this;if("function"!=typeof W||k.call(W)!==d)throw new TypeError(je+W);for(var j,Y=R.call(arguments,1),G=function(){if(this instanceof j){var O=W.apply(this,Y.concat(R.call(arguments)));return Object(O)===O?O:this}return W.apply(ee,Y.concat(R.call(arguments)))},ye=Math.max(0,W.length-Y.length),q=[],te=0;te<ye;te++)q.push("$"+te);if(j=Function("binder","return function ("+q.join(",")+"){ return binder.apply(this,arguments); }")(G),W.prototype){var $=function(){};$.prototype=W.prototype,j.prototype=new $,$.prototype=null}return j}},224:(Fe,je,R)=>{"use strict";var k=R(2199);Fe.exports=Function.prototype.bind||k},3677:Fe=>{"use strict";var je=function(){return"string"==typeof function(){}.name},R=Object.getOwnPropertyDescriptor;if(R)try{R([],"length")}catch{R=null}je.functionsHaveConfigurableNames=function(){if(!je()||!R)return!1;var ne=R(function(){},"name");return!!ne&&!!ne.configurable};var k=Function.prototype.bind;je.boundFunctionsHaveNames=function(){return je()&&"function"==typeof k&&""!==function(){}.bind().name},Fe.exports=je},9903:(Fe,je,R)=>{"use strict";var k,d=SyntaxError,ne=Function,ee=TypeError,W=function(Ve){try{return ne('"use strict"; return ('+Ve+").constructor;")()}catch{}},Y=Object.getOwnPropertyDescriptor;if(Y)try{Y({},"")}catch{Y=null}var j=function(){throw new ee},G=Y?function(){try{return j}catch{try{return Y(arguments,"callee").get}catch{return j}}}():j,ye=R(524)(),q=Object.getPrototypeOf||function(Ve){return Ve.__proto__},te={},$=typeof Uint8Array>"u"?k:q(Uint8Array),O={"%AggregateError%":typeof AggregateError>"u"?k:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?k:ArrayBuffer,"%ArrayIteratorPrototype%":ye?q([][Symbol.iterator]()):k,"%AsyncFromSyncIteratorPrototype%":k,"%AsyncFunction%":te,"%AsyncGenerator%":te,"%AsyncGeneratorFunction%":te,"%AsyncIteratorPrototype%":te,"%Atomics%":typeof Atomics>"u"?k:Atomics,"%BigInt%":typeof BigInt>"u"?k:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?k:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?k:Float32Array,"%Float64Array%":typeof Float64Array>"u"?k:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?k:FinalizationRegistry,"%Function%":ne,"%GeneratorFunction%":te,"%Int8Array%":typeof Int8Array>"u"?k:Int8Array,"%Int16Array%":typeof Int16Array>"u"?k:Int16Array,"%Int32Array%":typeof Int32Array>"u"?k:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ye?q(q([][Symbol.iterator]())):k,"%JSON%":"object"==typeof JSON?JSON:k,"%Map%":typeof Map>"u"?k:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ye?k:q((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?k:Promise,"%Proxy%":typeof Proxy>"u"?k:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?k:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?k:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ye?k:q((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?k:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ye?q(""[Symbol.iterator]()):k,"%Symbol%":ye?Symbol:k,"%SyntaxError%":d,"%ThrowTypeError%":G,"%TypedArray%":$,"%TypeError%":ee,"%Uint8Array%":typeof Uint8Array>"u"?k:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?k:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?k:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?k:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?k:WeakMap,"%WeakRef%":typeof WeakRef>"u"?k:WeakRef,"%WeakSet%":typeof WeakSet>"u"?k:WeakSet},V=function Ve(Oe){var ke;if("%AsyncFunction%"===Oe)ke=W("async function () {}");else if("%GeneratorFunction%"===Oe)ke=W("function* () {}");else if("%AsyncGeneratorFunction%"===Oe)ke=W("async function* () {}");else if("%AsyncGenerator%"===Oe){var K=Ve("%AsyncGeneratorFunction%");K&&(ke=K.prototype)}else if("%AsyncIteratorPrototype%"===Oe){var Ue=Ve("%AsyncGenerator%");Ue&&(ke=q(Ue.prototype))}return O[Oe]=ke,ke},xe={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},X=R(224),ve=R(4031),ge=X.call(Function.call,Array.prototype.concat),oe=X.call(Function.apply,Array.prototype.splice),ce=X.call(Function.call,String.prototype.replace),Ae=X.call(Function.call,String.prototype.slice),ue=X.call(Function.call,RegExp.prototype.exec),Ge=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,he=/\\(\\)?/g,be=function(Oe){var ke=Ae(Oe,0,1),K=Ae(Oe,-1);if("%"===ke&&"%"!==K)throw new d("invalid intrinsic syntax, expected closing `%`");if("%"===K&&"%"!==ke)throw new d("invalid intrinsic syntax, expected opening `%`");var Ue=[];return ce(Oe,Ge,function(ze,at,It,He){Ue[Ue.length]=It?ce(He,he,"$1"):at||ze}),Ue},Me=function(Oe,ke){var Ue,K=Oe;if(ve(xe,K)&&(K="%"+(Ue=xe[K])[0]+"%"),ve(O,K)){var ze=O[K];if(ze===te&&(ze=V(K)),typeof ze>"u"&&!ke)throw new ee("intrinsic "+Oe+" exists, but is not available. Please file an issue!");return{alias:Ue,name:K,value:ze}}throw new d("intrinsic "+Oe+" does not exist!")};Fe.exports=function(Oe,ke){if("string"!=typeof Oe||0===Oe.length)throw new ee("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof ke)throw new ee('"allowMissing" argument must be a boolean');if(null===ue(/^%?[^%]*%?$/g,Oe))throw new d("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var K=be(Oe),Ue=K.length>0?K[0]:"",ze=Me("%"+Ue+"%",ke),at=ze.name,It=ze.value,He=!1,L=ze.alias;L&&(Ue=L[0],oe(K,ge([0,1],L)));for(var B=1,z=!0;B<K.length;B+=1){var pe=K[B],Te=Ae(pe,0,1),Re=Ae(pe,-1);if(('"'===Te||"'"===Te||"`"===Te||'"'===Re||"'"===Re||"`"===Re)&&Te!==Re)throw new d("property names with quotes must have matching quotes");if(("constructor"===pe||!z)&&(He=!0),ve(O,at="%"+(Ue+="."+pe)+"%"))It=O[at];else if(null!=It){if(!(pe in It)){if(!ke)throw new ee("base intrinsic for "+Oe+" exists, but the property is not available.");return}if(Y&&B+1>=K.length){var et=Y(It,pe);It=(z=!!et)&&"get"in et&&!("originalValue"in et.get)?et.get:It[pe]}else z=ve(It,pe),It=It[pe];z&&!He&&(O[at]=It)}}return It}},5861:Fe=>{"use strict";var je=typeof BigInt<"u"&&BigInt;Fe.exports=function(){return"function"==typeof je&&"function"==typeof BigInt&&"bigint"==typeof je(42)&&"bigint"==typeof BigInt(42)}},9006:(Fe,je,R)=>{"use strict";var d=R(9903)("%Object.defineProperty%",!0),ne=function(){if(d)try{return d({},"a",{value:1}),!0}catch{return!1}return!1};ne.hasArrayLengthDefineBug=function(){if(!ne())return null;try{return 1!==d([],"length",{value:1}).length}catch{return!0}},Fe.exports=ne},524:(Fe,je,R)=>{"use strict";var k=typeof Symbol<"u"&&Symbol,d=R(6858);Fe.exports=function(){return"function"==typeof k&&"function"==typeof Symbol&&"symbol"==typeof k("foo")&&"symbol"==typeof Symbol("bar")&&d()}},6858:Fe=>{"use strict";Fe.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var R={},k=Symbol("test"),d=Object(k);if("string"==typeof k||"[object Symbol]"!==Object.prototype.toString.call(k)||"[object Symbol]"!==Object.prototype.toString.call(d))return!1;for(k in R[k]=42,R)return!1;if("function"==typeof Object.keys&&0!==Object.keys(R).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(R).length)return!1;var ee=Object.getOwnPropertySymbols(R);if(1!==ee.length||ee[0]!==k||!Object.prototype.propertyIsEnumerable.call(R,k))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var W=Object.getOwnPropertyDescriptor(R,k);if(42!==W.value||!0!==W.enumerable)return!1}return!0}},3261:(Fe,je,R)=>{"use strict";var k=R(6858);Fe.exports=function(){return k()&&!!Symbol.toStringTag}},4031:(Fe,je,R)=>{"use strict";var k=R(224);Fe.exports=k.call(Function.call,Object.prototype.hasOwnProperty)},9102:(Fe,je,R)=>{"use strict";var k=R(3261)(),ne=R(4263)("Object.prototype.toString"),ee=function(G){return!(k&&G&&"object"==typeof G&&Symbol.toStringTag in G)&&"[object Arguments]"===ne(G)},W=function(G){return!!ee(G)||null!==G&&"object"==typeof G&&"number"==typeof G.length&&G.length>=0&&"[object Array]"!==ne(G)&&"[object Function]"===ne(G.callee)},Y=function(){return ee(arguments)}();ee.isLegacyArguments=W,Fe.exports=Y?ee:W},3:(Fe,je,R)=>{"use strict";if(R(5861)()){var d=BigInt.prototype.valueOf;Fe.exports=function(W){return!(null===W||typeof W>"u"||"boolean"==typeof W||"string"==typeof W||"number"==typeof W||"symbol"==typeof W||"function"==typeof W)&&("bigint"==typeof W||function(W){try{return d.call(W),!0}catch{}return!1}(W))}}else Fe.exports=function(W){return!1}},6180:(Fe,je,R)=>{"use strict";var k=R(4263),d=k("Boolean.prototype.toString"),ne=k("Object.prototype.toString"),Y=R(3261)();Fe.exports=function(G){return"boolean"==typeof G||null!==G&&"object"==typeof G&&(Y&&Symbol.toStringTag in G?function(G){try{return d(G),!0}catch{return!1}}(G):"[object Boolean]"===ne(G))}},5057:Fe=>{function je(k){return!!k.constructor&&"function"==typeof k.constructor.isBuffer&&k.constructor.isBuffer(k)}Fe.exports=function(k){return null!=k&&(je(k)||function R(k){return"function"==typeof k.readFloatLE&&"function"==typeof k.slice&&je(k.slice(0,0))}(k)||!!k._isBuffer)}},8642:Fe=>{"use strict";var k,d,je=Function.prototype.toString,R="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof R&&"function"==typeof Object.defineProperty)try{k=Object.defineProperty({},"length",{get:function(){throw d}}),d={},R(function(){throw 42},null,k)}catch(te){te!==d&&(R=null)}else R=null;var ne=/^\s*class\b/,ee=function($){try{var O=je.call($);return ne.test(O)}catch{return!1}},Y=Object.prototype.toString,ye="function"==typeof Symbol&&!!Symbol.toStringTag,q="object"==typeof document&&typeof document.all>"u"&&void 0!==document.all?document.all:{};Fe.exports=R?function($){if($===q)return!0;if(!$||"function"!=typeof $&&"object"!=typeof $)return!1;if("function"==typeof $&&!$.prototype)return!0;try{R($,null,k)}catch(O){if(O!==d)return!1}return!ee($)}:function($){if($===q)return!0;if(!$||"function"!=typeof $&&"object"!=typeof $)return!1;if("function"==typeof $&&!$.prototype)return!0;if(ye)return function($){try{return!ee($)&&(je.call($),!0)}catch{return!1}}($);if(ee($))return!1;var O=Y.call($);return"[object Function]"===O||"[object GeneratorFunction]"===O}},4666:(Fe,je,R)=>{"use strict";var k=Date.prototype.getDay,ne=Object.prototype.toString,W=R(3261)();Fe.exports=function(j){return"object"==typeof j&&null!==j&&(W?function(j){try{return k.call(j),!0}catch{return!1}}(j):"[object Date]"===ne.call(j))}},9898:Fe=>{"use strict";var k,je="function"==typeof Map&&Map.prototype?Map:null,R="function"==typeof Set&&Set.prototype?Set:null;je||(k=function(W){return!1});var d=je?Map.prototype.has:null,ne=R?Set.prototype.has:null;!k&&!d&&(k=function(W){return!1}),Fe.exports=k||function(W){if(!W||"object"!=typeof W)return!1;try{if(d.call(W),ne)try{ne.call(W)}catch{return!0}return W instanceof je}catch{}return!1}},1046:(Fe,je,R)=>{"use strict";var k=Number.prototype.toString,ne=Object.prototype.toString,W=R(3261)();Fe.exports=function(j){return"number"==typeof j||"object"==typeof j&&(W?function(j){try{return k.call(j),!0}catch{return!1}}(j):"[object Number]"===ne.call(j))}},6687:(Fe,je,R)=>{"use strict";var ne,ee,W,Y,k=R(4263),d=R(3261)();if(d){ne=k("Object.prototype.hasOwnProperty"),ee=k("RegExp.prototype.exec"),W={};var j=function(){throw W};Y={toString:j,valueOf:j},"symbol"==typeof Symbol.toPrimitive&&(Y[Symbol.toPrimitive]=j)}var G=k("Object.prototype.toString"),ye=Object.getOwnPropertyDescriptor;Fe.exports=d?function($){if(!$||"object"!=typeof $)return!1;var O=ye($,"lastIndex");if(!O||!ne(O,"value"))return!1;try{ee($,Y)}catch(xe){return xe===W}}:function($){return!(!$||"object"!=typeof $&&"function"!=typeof $)&&"[object RegExp]"===G($)}},3870:Fe=>{"use strict";var k,je="function"==typeof Map&&Map.prototype?Map:null,R="function"==typeof Set&&Set.prototype?Set:null;R||(k=function(W){return!1});var d=je?Map.prototype.has:null,ne=R?Set.prototype.has:null;!k&&!ne&&(k=function(W){return!1}),Fe.exports=k||function(W){if(!W||"object"!=typeof W)return!1;try{if(ne.call(W),d)try{d.call(W)}catch{return!0}return W instanceof R}catch{}return!1}},4764:(Fe,je,R)=>{"use strict";var k=String.prototype.valueOf,ne=Object.prototype.toString,W=R(3261)();Fe.exports=function(j){return"string"==typeof j||"object"==typeof j&&(W?function(j){try{return k.call(j),!0}catch{return!1}}(j):"[object String]"===ne.call(j))}},6434:(Fe,je,R)=>{"use strict";var k=Object.prototype.toString;if(R(524)()){var ne=Symbol.prototype.toString,ee=/^Symbol\(.*\)$/;Fe.exports=function(j){if("symbol"==typeof j)return!0;if("[object Symbol]"!==k.call(j))return!1;try{return function(j){return"symbol"==typeof j.valueOf()&&ee.test(ne.call(j))}(j)}catch{return!1}}}else Fe.exports=function(j){return!1}},7673:(Fe,je,R)=>{"use strict";var k=R(3037),d=R(5271),ne=R(4263),ee=ne("Object.prototype.toString"),W=R(3261)(),Y=typeof globalThis>"u"?global:globalThis,j=d(),G=ne("Array.prototype.indexOf",!0)||function(xe,X){for(var ve=0;ve<xe.length;ve+=1)if(xe[ve]===X)return ve;return-1},ye=ne("String.prototype.slice"),q={},te=R(2292),$=Object.getPrototypeOf;W&&te&&$&&k(j,function(V){var xe=new Y[V];if(Symbol.toStringTag in xe){var X=$(xe),ve=te(X,Symbol.toStringTag);if(!ve){var ge=$(X);ve=te(ge,Symbol.toStringTag)}q[V]=ve.get}}),Fe.exports=function(xe){if(!xe||"object"!=typeof xe)return!1;if(!W||!(Symbol.toStringTag in xe)){var X=ye(ee(xe),8,-1);return G(j,X)>-1}return!!te&&function(xe){var X=!1;return k(q,function(ve,ge){if(!X)try{X=ve.call(xe)===ge}catch{}}),X}(xe)}},5585:Fe=>{"use strict";var k,je="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,R="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;je||(k=function(W){return!1});var d=je?je.prototype.has:null,ne=R?R.prototype.has:null;!k&&!d&&(k=function(W){return!1}),Fe.exports=k||function(W){if(!W||"object"!=typeof W)return!1;try{if(d.call(W,d),ne)try{ne.call(W,ne)}catch{return!0}return W instanceof je}catch{}return!1}},1902:(Fe,je,R)=>{"use strict";var k=R(9903),d=R(4263),ne=k("%WeakSet%",!0),ee=d("WeakSet.prototype.has",!0);if(ee){var W=d("WeakMap.prototype.has",!0);Fe.exports=function(j){if(!j||"object"!=typeof j)return!1;try{if(ee(j,ee),W)try{W(j,W)}catch{return!0}return j instanceof ne}catch{}return!1}}else Fe.exports=function(j){return!1}},8266:Fe=>{var je={}.toString;Fe.exports=Array.isArray||function(R){return"[object Array]"==je.call(R)}},5023:(Fe,je,R)=>{var k,d,ne,ee,W;k=R(7175),d=R(5107).utf8,ne=R(5057),ee=R(5107).bin,(W=function(Y,j){Y.constructor==String?Y=j&&"binary"===j.encoding?ee.stringToBytes(Y):d.stringToBytes(Y):ne(Y)?Y=Array.prototype.slice.call(Y,0):!Array.isArray(Y)&&Y.constructor!==Uint8Array&&(Y=Y.toString());for(var G=k.bytesToWords(Y),ye=8*Y.length,q=1732584193,te=-271733879,$=-1732584194,O=271733878,V=0;V<G.length;V++)G[V]=16711935&(G[V]<<8|G[V]>>>24)|4278255360&(G[V]<<24|G[V]>>>8);G[ye>>>5]|=128<<ye%32,G[14+(ye+64>>>9<<4)]=ye;var xe=W._ff,X=W._gg,ve=W._hh,ge=W._ii;for(V=0;V<G.length;V+=16){var oe=q,ce=te,Ae=$,ue=O;q=xe(q,te,$,O,G[V+0],7,-680876936),O=xe(O,q,te,$,G[V+1],12,-389564586),$=xe($,O,q,te,G[V+2],17,606105819),te=xe(te,$,O,q,G[V+3],22,-1044525330),q=xe(q,te,$,O,G[V+4],7,-176418897),O=xe(O,q,te,$,G[V+5],12,1200080426),$=xe($,O,q,te,G[V+6],17,-1473231341),te=xe(te,$,O,q,G[V+7],22,-45705983),q=xe(q,te,$,O,G[V+8],7,1770035416),O=xe(O,q,te,$,G[V+9],12,-1958414417),$=xe($,O,q,te,G[V+10],17,-42063),te=xe(te,$,O,q,G[V+11],22,-1990404162),q=xe(q,te,$,O,G[V+12],7,1804603682),O=xe(O,q,te,$,G[V+13],12,-40341101),$=xe($,O,q,te,G[V+14],17,-1502002290),q=X(q,te=xe(te,$,O,q,G[V+15],22,1236535329),$,O,G[V+1],5,-165796510),O=X(O,q,te,$,G[V+6],9,-1069501632),$=X($,O,q,te,G[V+11],14,643717713),te=X(te,$,O,q,G[V+0],20,-373897302),q=X(q,te,$,O,G[V+5],5,-701558691),O=X(O,q,te,$,G[V+10],9,38016083),$=X($,O,q,te,G[V+15],14,-660478335),te=X(te,$,O,q,G[V+4],20,-405537848),q=X(q,te,$,O,G[V+9],5,568446438),O=X(O,q,te,$,G[V+14],9,-1019803690),$=X($,O,q,te,G[V+3],14,-187363961),te=X(te,$,O,q,G[V+8],20,1163531501),q=X(q,te,$,O,G[V+13],5,-1444681467),O=X(O,q,te,$,G[V+2],9,-51403784),$=X($,O,q,te,G[V+7],14,1735328473),q=ve(q,te=X(te,$,O,q,G[V+12],20,-1926607734),$,O,G[V+5],4,-378558),O=ve(O,q,te,$,G[V+8],11,-2022574463),$=ve($,O,q,te,G[V+11],16,1839030562),te=ve(te,$,O,q,G[V+14],23,-35309556),q=ve(q,te,$,O,G[V+1],4,-1530992060),O=ve(O,q,te,$,G[V+4],11,1272893353),$=ve($,O,q,te,G[V+7],16,-155497632),te=ve(te,$,O,q,G[V+10],23,-1094730640),q=ve(q,te,$,O,G[V+13],4,681279174),O=ve(O,q,te,$,G[V+0],11,-358537222),$=ve($,O,q,te,G[V+3],16,-722521979),te=ve(te,$,O,q,G[V+6],23,76029189),q=ve(q,te,$,O,G[V+9],4,-640364487),O=ve(O,q,te,$,G[V+12],11,-421815835),$=ve($,O,q,te,G[V+15],16,530742520),q=ge(q,te=ve(te,$,O,q,G[V+2],23,-995338651),$,O,G[V+0],6,-198630844),O=ge(O,q,te,$,G[V+7],10,1126891415),$=ge($,O,q,te,G[V+14],15,-1416354905),te=ge(te,$,O,q,G[V+5],21,-57434055),q=ge(q,te,$,O,G[V+12],6,1700485571),O=ge(O,q,te,$,G[V+3],10,-1894986606),$=ge($,O,q,te,G[V+10],15,-1051523),te=ge(te,$,O,q,G[V+1],21,-2054922799),q=ge(q,te,$,O,G[V+8],6,1873313359),O=ge(O,q,te,$,G[V+15],10,-30611744),$=ge($,O,q,te,G[V+6],15,-1560198380),te=ge(te,$,O,q,G[V+13],21,1309151649),q=ge(q,te,$,O,G[V+4],6,-145523070),O=ge(O,q,te,$,G[V+11],10,-1120210379),$=ge($,O,q,te,G[V+2],15,718787259),te=ge(te,$,O,q,G[V+9],21,-343485551),q=q+oe>>>0,te=te+ce>>>0,$=$+Ae>>>0,O=O+ue>>>0}return k.endian([q,te,$,O])})._ff=function(Y,j,G,ye,q,te,$){var O=Y+(j&G|~j&ye)+(q>>>0)+$;return(O<<te|O>>>32-te)+j},W._gg=function(Y,j,G,ye,q,te,$){var O=Y+(j&ye|G&~ye)+(q>>>0)+$;return(O<<te|O>>>32-te)+j},W._hh=function(Y,j,G,ye,q,te,$){var O=Y+(j^G^ye)+(q>>>0)+$;return(O<<te|O>>>32-te)+j},W._ii=function(Y,j,G,ye,q,te,$){var O=Y+(G^(j|~ye))+(q>>>0)+$;return(O<<te|O>>>32-te)+j},W._blocksize=16,W._digestsize=16,Fe.exports=function(Y,j){if(null==Y)throw new Error("Illegal argument "+Y);var G=k.wordsToBytes(W(Y,j));return j&&j.asBytes?G:j&&j.asString?ee.bytesToString(G):k.bytesToHex(G)}},9052:(Fe,je)=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});var R=[];R[0]=function(){return function(){}},R[1]=function(ee,W){return typeof W>"u"?ee:function(j){ee(j,W)}};var ne=function(){function ee(){this.hasHandlers=!1,this._handlers=[],this._contexts=[],this._createDispatcher()}return ee.prototype.addHandler=function(W,Y){return this.isHandlerAttached(W,Y)||(this._handlers.push(W),this._contexts.push(Y),this._createDispatcher(),this._updateHasHandlers()),this},ee.prototype.removeHandler=function(W,Y){var j=this._getHandlerIndex(W,Y);return typeof j<"u"&&(this._handlers.splice(j,1),this._contexts.splice(j,1),this._createDispatcher(),this._updateHasHandlers()),this},ee.prototype.isHandlerAttached=function(W,Y){return typeof this._getHandlerIndex(W,Y)<"u"},ee.prototype._updateHasHandlers=function(){this.hasHandlers=!!this._handlers.length},ee.prototype._getHandlerIndex=function(W,Y){var G,j=this._handlers.length;for(G=0;G<j&&(this._handlers[G]!==W||this._contexts[G]!==Y);G++);return G<j?G:void 0},ee.prototype._createDispatcher=function(){this.dispatch=function k(ee){return R[ee]||(R[ee]=function d(ee){for(var W="return function dispatcher"+ee+"(payload) {\n",Y=[],j=[],G=0;G<ee;G++)Y.push("cb"+G),j.push("ctx"+G),W+="    cb"+G+"(payload, ctx"+G+");\n";return W+="};",new(Function.bind.apply(Function,[void 0].concat(Y.concat(j),[W])))}(ee)),R[ee]}(this._handlers.length).apply(this,this._handlers.concat(this._contexts))},ee}();je.default=ne},1158:(Fe,je,R)=>{"use strict";var d=R(9052);je.j=d.default},8597:(Fe,je,R)=>{var k="function"==typeof Map&&Map.prototype,d=Object.getOwnPropertyDescriptor&&k?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ne=k&&d&&"function"==typeof d.get?d.get:null,ee=k&&Map.prototype.forEach,W="function"==typeof Set&&Set.prototype,Y=Object.getOwnPropertyDescriptor&&W?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,j=W&&Y&&"function"==typeof Y.get?Y.get:null,G=W&&Set.prototype.forEach,q="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,$="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,V="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,xe=Boolean.prototype.valueOf,X=Object.prototype.toString,ve=Function.prototype.toString,ge=String.prototype.match,oe=String.prototype.slice,ce=String.prototype.replace,Ae=String.prototype.toUpperCase,ue=String.prototype.toLowerCase,Ge=RegExp.prototype.test,he=Array.prototype.concat,be=Array.prototype.join,Me=Array.prototype.slice,Ve=Math.floor,Oe="function"==typeof BigInt?BigInt.prototype.valueOf:null,ke=Object.getOwnPropertySymbols,K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,Ue="function"==typeof Symbol&&"object"==typeof Symbol.iterator,ze="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,at=Object.prototype.propertyIsEnumerable,It=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(re){return re.__proto__}:null);function He(re,Le){if(re===1/0||re===-1/0||re!=re||re&&re>-1e3&&re<1e3||Ge.call(/e/,Le))return Le;var pn=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof re){var bn=re<0?-Ve(-re):Ve(re);if(bn!==re){var Ft=String(bn),cn=oe.call(Le,Ft.length+1);return ce.call(Ft,pn,"$&_")+"."+ce.call(ce.call(cn,/([0-9]{3})/g,"$&_"),/_$/,"")}}return ce.call(Le,pn,"$&_")}var L=R(4654),B=L.custom,z=on(B)?B:null;function pe(re,Le,pn){var bn="double"===(pn.quoteStyle||Le)?'"':"'";return bn+re+bn}function Te(re){return ce.call(String(re),/"/g,"&quot;")}function Re(re){return!("[object Array]"!==Zn(re)||ze&&"object"==typeof re&&ze in re)}function Ke(re){return!("[object RegExp]"!==Zn(re)||ze&&"object"==typeof re&&ze in re)}function on(re){if(Ue)return re&&"object"==typeof re&&re instanceof Symbol;if("symbol"==typeof re)return!0;if(!re||"object"!=typeof re||!K)return!1;try{return K.call(re),!0}catch{}return!1}Fe.exports=function re(Le,pn,bn,Ft){var cn=pn||{};if(Er(cn,"quoteStyle")&&"single"!==cn.quoteStyle&&"double"!==cn.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Er(cn,"maxStringLength")&&("number"==typeof cn.maxStringLength?cn.maxStringLength<0&&cn.maxStringLength!==1/0:null!==cn.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var er=!Er(cn,"customInspect")||cn.customInspect;if("boolean"!=typeof er&&"symbol"!==er)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Er(cn,"indent")&&null!==cn.indent&&"\t"!==cn.indent&&!(parseInt(cn.indent,10)===cn.indent&&cn.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Er(cn,"numericSeparator")&&"boolean"!=typeof cn.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Jt=cn.numericSeparator;if(typeof Le>"u")return"undefined";if(null===Le)return"null";if("boolean"==typeof Le)return Le?"true":"false";if("string"==typeof Le)return ar(Le,cn);if("number"==typeof Le){if(0===Le)return 1/0/Le>0?"0":"-0";var Yn=String(Le);return Jt?He(Le,Yn):Yn}if("bigint"==typeof Le){var lr=String(Le)+"n";return Jt?He(Le,lr):lr}var Vt=typeof cn.depth>"u"?5:cn.depth;if(typeof bn>"u"&&(bn=0),bn>=Vt&&Vt>0&&"object"==typeof Le)return Re(Le)?"[Array]":"[Object]";var tr=function vi(re,Le){var pn;if("\t"===re.indent)pn="\t";else{if(!("number"==typeof re.indent&&re.indent>0))return null;pn=be.call(Array(re.indent+1)," ")}return{base:pn,prev:be.call(Array(Le+1),pn)}}(cn,bn);if(typeof Ft>"u")Ft=[];else if(Jr(Ft,Le)>=0)return"[Circular]";function S(yo,I,qr){if(I&&(Ft=Me.call(Ft)).push(I),qr){var Br={depth:cn.depth};return Er(cn,"quoteStyle")&&(Br.quoteStyle=cn.quoteStyle),re(yo,Br,bn+1,Ft)}return re(yo,cn,bn+1,Ft)}if("function"==typeof Le&&!Ke(Le)){var kt=function io(re){if(re.name)return re.name;var Le=ge.call(ve.call(re),/^function\s*([\w$]+)/);return Le?Le[1]:null}(Le),hr=Qe(Le,S);return"[Function"+(kt?": "+kt:" (anonymous)")+"]"+(hr.length>0?" { "+be.call(hr,", ")+" }":"")}if(on(Le)){var M=Ue?ce.call(String(Le),/^(Symbol\(.*\))_[^)]*$/,"$1"):K.call(Le);return"object"!=typeof Le||Ue?M:go(M)}if(function mo(re){return!(!re||"object"!=typeof re)&&(typeof HTMLElement<"u"&&re instanceof HTMLElement||"string"==typeof re.nodeName&&"function"==typeof re.getAttribute)}(Le)){for(var Pr="<"+ue.call(String(Le.nodeName)),so=Le.attributes||[],ao=0;ao<so.length;ao++)Pr+=" "+so[ao].name+"="+pe(Te(so[ao].value),"double",cn);return Pr+=">",Le.childNodes&&Le.childNodes.length&&(Pr+="..."),Pr+"</"+ue.call(String(Le.nodeName))+">"}if(Re(Le)){if(0===Le.length)return"[]";var Po=Qe(Le,S);return tr&&!function Wr(re){for(var Le=0;Le<re.length;Le++)if(Jr(re[Le],"\n")>=0)return!1;return!0}(Po)?"["+Ar(Po,tr)+"]":"[ "+be.call(Po,", ")+" ]"}if(function Je(re){return!("[object Error]"!==Zn(re)||ze&&"object"==typeof re&&ze in re)}(Le)){var _r=Qe(Le,S);return"cause"in Error.prototype||!("cause"in Le)||at.call(Le,"cause")?0===_r.length?"["+String(Le)+"]":"{ ["+String(Le)+"] "+be.call(_r,", ")+" }":"{ ["+String(Le)+"] "+be.call(he.call("[cause]: "+S(Le.cause),_r),", ")+" }"}if("object"==typeof Le&&er){if(z&&"function"==typeof Le[z]&&L)return L(Le,{depth:Vt-bn});if("symbol"!==er&&"function"==typeof Le.inspect)return Le.inspect()}if(function Mr(re){if(!ne||!re||"object"!=typeof re)return!1;try{ne.call(re);try{j.call(re)}catch{return!0}return re instanceof Map}catch{}return!1}(Le)){var Mo=[];return ee.call(Le,function(yo,I){Mo.push(S(I,Le,!0)+" => "+S(yo,Le))}),Sn("Map",ne.call(Le),Mo,tr)}if(function vr(re){if(!j||!re||"object"!=typeof re)return!1;try{j.call(re);try{ne.call(re)}catch{return!0}return re instanceof Set}catch{}return!1}(Le)){var zt=[];return G.call(Le,function(yo){zt.push(S(yo,Le))}),Sn("Set",j.call(Le),zt,tr)}if(function Hn(re){if(!q||!re||"object"!=typeof re)return!1;try{q.call(re,q);try{$.call(re,$)}catch{return!0}return re instanceof WeakMap}catch{}return!1}(Le))return $r("WeakMap");if(function yi(re){if(!$||!re||"object"!=typeof re)return!1;try{$.call(re,$);try{q.call(re,q)}catch{return!0}return re instanceof WeakSet}catch{}return!1}(Le))return $r("WeakSet");if(function sr(re){if(!V||!re||"object"!=typeof re)return!1;try{return V.call(re),!0}catch{}return!1}(Le))return $r("WeakRef");if(function Lt(re){return!("[object Number]"!==Zn(re)||ze&&"object"==typeof re&&ze in re)}(Le))return go(S(Number(Le)));if(function se(re){if(!re||"object"!=typeof re||!Oe)return!1;try{return Oe.call(re),!0}catch{}return!1}(Le))return go(S(Oe.call(Le)));if(function Tn(re){return!("[object Boolean]"!==Zn(re)||ze&&"object"==typeof re&&ze in re)}(Le))return go(xe.call(Le));if(function At(re){return!("[object String]"!==Zn(re)||ze&&"object"==typeof re&&ze in re)}(Le))return go(S(String(Le)));if(!function et(re){return!("[object Date]"!==Zn(re)||ze&&"object"==typeof re&&ze in re)}(Le)&&!Ke(Le)){var eo=Qe(Le,S),nr=It?It(Le)===Object.prototype:Le instanceof Object||Le.constructor===Object,to=Le instanceof Object?"":"null prototype",no=!nr&&ze&&Object(Le)===Le&&ze in Le?oe.call(Zn(Le),8,-1):to?"Object":"",Xt=(nr||"function"!=typeof Le.constructor?"":Le.constructor.name?Le.constructor.name+" ":"")+(no||to?"["+be.call(he.call([],no||[],to||[]),": ")+"] ":"");return 0===eo.length?Xt+"{}":tr?Xt+"{"+Ar(eo,tr)+"}":Xt+"{ "+be.call(eo,", ")+" }"}return String(Le)};var zr=Object.prototype.hasOwnProperty||function(re){return re in this};function Er(re,Le){return zr.call(re,Le)}function Zn(re){return X.call(re)}function Jr(re,Le){if(re.indexOf)return re.indexOf(Le);for(var pn=0,bn=re.length;pn<bn;pn++)if(re[pn]===Le)return pn;return-1}function ar(re,Le){if(re.length>Le.maxStringLength){var pn=re.length-Le.maxStringLength,bn="... "+pn+" more character"+(pn>1?"s":"");return ar(oe.call(re,0,Le.maxStringLength),Le)+bn}return pe(ce.call(ce.call(re,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Qn),"single",Le)}function Qn(re){var Le=re.charCodeAt(0),pn={8:"b",9:"t",10:"n",12:"f",13:"r"}[Le];return pn?"\\"+pn:"\\x"+(Le<16?"0":"")+Ae.call(Le.toString(16))}function go(re){return"Object("+re+")"}function $r(re){return re+" { ? }"}function Sn(re,Le,pn,bn){return re+" ("+Le+") {"+(bn?Ar(pn,bn):be.call(pn,", "))+"}"}function Ar(re,Le){if(0===re.length)return"";var pn="\n"+Le.prev+Le.base;return pn+be.call(re,","+pn)+"\n"+Le.prev}function Qe(re,Le){var pn=Re(re),bn=[];if(pn){bn.length=re.length;for(var Ft=0;Ft<re.length;Ft++)bn[Ft]=Er(re,Ft)?Le(re[Ft],re):""}var er,cn="function"==typeof ke?ke(re):[];if(Ue){er={};for(var Jt=0;Jt<cn.length;Jt++)er["$"+cn[Jt]]=cn[Jt]}for(var Yn in re)!Er(re,Yn)||pn&&String(Number(Yn))===Yn&&Yn<re.length||Ue&&er["$"+Yn]instanceof Symbol||(Ge.call(/[^\w$]/,Yn)?bn.push(Le(Yn,re)+": "+Le(re[Yn],re)):bn.push(Yn+": "+Le(re[Yn],re)));if("function"==typeof ke)for(var lr=0;lr<cn.length;lr++)at.call(re,cn[lr])&&bn.push("["+Le(cn[lr])+"]: "+Le(re[cn[lr]],re));return bn}},6872:Fe=>{"use strict";var je=function(R){return R!=R};Fe.exports=function(k,d){return 0===k&&0===d?1/k==1/d:!!(k===d||je(k)&&je(d))}},5734:(Fe,je,R)=>{"use strict";var k=R(1790),d=R(3855),ne=R(6872),ee=R(3306),W=R(7715),Y=d(ee(),Object);k(Y,{getPolyfill:ee,implementation:ne,shim:W}),Fe.exports=Y},3306:(Fe,je,R)=>{"use strict";var k=R(6872);Fe.exports=function(){return"function"==typeof Object.is?Object.is:k}},7715:(Fe,je,R)=>{"use strict";var k=R(3306),d=R(1790);Fe.exports=function(){var ee=k();return d(Object,{is:ee},{is:function(){return Object.is!==ee}}),ee}},7010:(Fe,je,R)=>{"use strict";var k;if(!Object.keys){var d=Object.prototype.hasOwnProperty,ne=Object.prototype.toString,ee=R(5185),W=Object.prototype.propertyIsEnumerable,Y=!W.call({toString:null},"toString"),j=W.call(function(){},"prototype"),G=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],ye=function(O){var V=O.constructor;return V&&V.prototype===O},q={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},te=function(){if(typeof window>"u")return!1;for(var O in window)try{if(!q["$"+O]&&d.call(window,O)&&null!==window[O]&&"object"==typeof window[O])try{ye(window[O])}catch{return!0}}catch{return!0}return!1}();k=function(V){var xe=null!==V&&"object"==typeof V,X="[object Function]"===ne.call(V),ve=ee(V),ge=xe&&"[object String]"===ne.call(V),oe=[];if(!xe&&!X&&!ve)throw new TypeError("Object.keys called on a non-object");var ce=j&&X;if(ge&&V.length>0&&!d.call(V,0))for(var Ae=0;Ae<V.length;++Ae)oe.push(String(Ae));if(ve&&V.length>0)for(var ue=0;ue<V.length;++ue)oe.push(String(ue));else for(var Ge in V)(!ce||"prototype"!==Ge)&&d.call(V,Ge)&&oe.push(String(Ge));if(Y)for(var he=function(O){if(typeof window>"u"||!te)return ye(O);try{return ye(O)}catch{return!1}}(V),be=0;be<G.length;++be)(!he||"constructor"!==G[be])&&d.call(V,G[be])&&oe.push(G[be]);return oe}}Fe.exports=k},2093:(Fe,je,R)=>{"use strict";var k=Array.prototype.slice,d=R(5185),ne=Object.keys,ee=ne?function(j){return ne(j)}:R(7010),W=Object.keys;ee.shim=function(){if(Object.keys){var j=function(){var G=Object.keys(arguments);return G&&G.length===arguments.length}(1,2);j||(Object.keys=function(ye){return d(ye)?W(k.call(ye)):W(ye)})}else Object.keys=ee;return Object.keys||ee},Fe.exports=ee},5185:Fe=>{"use strict";var je=Object.prototype.toString;Fe.exports=function(k){var d=je.call(k),ne="[object Arguments]"===d;return ne||(ne="[object Array]"!==d&&null!==k&&"object"==typeof k&&"number"==typeof k.length&&k.length>=0&&"[object Function]"===je.call(k.callee)),ne}},2461:(Fe,je,R)=>{"use strict";var k=R(2093),d=function(ye){return typeof ye<"u"&&null!==ye},ne=R(6858)(),ee=R(4263),W=Object,Y=ee("Array.prototype.push"),j=ee("Object.prototype.propertyIsEnumerable"),G=ne?Object.getOwnPropertySymbols:null;Fe.exports=function(q,te){if(!d(q))throw new TypeError("target must be an object");var O,V,xe,X,ve,ge,oe,$=W(q);for(O=1;O<arguments.length;++O){V=W(arguments[O]),X=k(V);var ce=ne&&(Object.getOwnPropertySymbols||G);if(ce)for(ve=ce(V),xe=0;xe<ve.length;++xe)j(V,oe=ve[xe])&&Y(X,oe);for(xe=0;xe<X.length;++xe)ge=V[oe=X[xe]],j(V,oe)&&($[oe]=ge)}return $}},6189:(Fe,je,R)=>{"use strict";var k=R(1790),d=R(3855),ne=R(2461),ee=R(6255),W=R(152),Y=d.apply(ee()),j=function(ye,q){return Y(Object,arguments)};k(j,{getPolyfill:ee,implementation:ne,shim:W}),Fe.exports=j},6255:(Fe,je,R)=>{"use strict";var k=R(2461);Fe.exports=function(){return!Object.assign||function(){if(!Object.assign)return!1;for(var ee="abcdefghijklmnopqrst",W=ee.split(""),Y={},j=0;j<W.length;++j)Y[W[j]]=W[j];var G=Object.assign({},Y),ye="";for(var q in G)ye+=q;return ee!==ye}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var ee=Object.preventExtensions({1:2});try{Object.assign(ee,"xy")}catch{return"y"===ee[1]}return!1}()?k:Object.assign}},152:(Fe,je,R)=>{"use strict";var k=R(1790),d=R(6255);Fe.exports=function(){var ee=d();return k(Object,{assign:ee},{assign:function(){return Object.assign!==ee}}),ee}},151:(Fe,je)=>{"use strict";var R=Object.prototype.hasOwnProperty;function d(Y){try{return decodeURIComponent(Y.replace(/\+/g," "))}catch{return null}}function ne(Y){try{return encodeURIComponent(Y)}catch{return null}}je.stringify=function W(Y,j){j=j||"";var ye,q,G=[];for(q in"string"!=typeof j&&(j="?"),Y)if(R.call(Y,q)){if(!(ye=Y[q])&&(null==ye||isNaN(ye))&&(ye=""),q=ne(q),ye=ne(ye),null===q||null===ye)continue;G.push(q+"="+ye)}return G.length?j+G.join("&"):""},je.parse=function ee(Y){for(var ye,j=/([^=?#&]+)=?([^&]*)/g,G={};ye=j.exec(Y);){var q=d(ye[1]),te=d(ye[2]);null===q||null===te||q in G||(G[q]=te)}return G}},4040:(Fe,je,R)=>{"use strict";var k=R(3677).functionsHaveConfigurableNames(),d=Object,ne=TypeError;Fe.exports=function(){if(null!=this&&this!==d(this))throw new ne("RegExp.prototype.flags getter called on non-object");var W="";return this.hasIndices&&(W+="d"),this.global&&(W+="g"),this.ignoreCase&&(W+="i"),this.multiline&&(W+="m"),this.dotAll&&(W+="s"),this.unicode&&(W+="u"),this.sticky&&(W+="y"),W},k&&Object.defineProperty&&Object.defineProperty(Fe.exports,"name",{value:"get flags"})},8704:(Fe,je,R)=>{"use strict";var k=R(1790),d=R(3855),ne=R(4040),ee=R(9783),W=R(9369),Y=d(ee());k(Y,{getPolyfill:ee,implementation:ne,shim:W}),Fe.exports=Y},9783:(Fe,je,R)=>{"use strict";var k=R(4040),d=R(1790).supportsDescriptors,ne=Object.getOwnPropertyDescriptor;Fe.exports=function(){if(d&&"gim"===/a/gim.flags){var W=ne(RegExp.prototype,"flags");if(W&&"function"==typeof W.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var Y="",j={};if(Object.defineProperty(j,"hasIndices",{get:function(){Y+="d"}}),Object.defineProperty(j,"sticky",{get:function(){Y+="y"}}),"dy"===Y)return W.get}}return k}},9369:(Fe,je,R)=>{"use strict";var k=R(1790).supportsDescriptors,d=R(9783),ne=Object.getOwnPropertyDescriptor,ee=Object.defineProperty,W=TypeError,Y=Object.getPrototypeOf,j=/a/;Fe.exports=function(){if(!k||!Y)throw new W("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var ye=d(),q=Y(j),te=ne(q,"flags");return(!te||te.get!==ye)&&ee(q,"flags",{configurable:!0,enumerable:!1,get:ye}),ye}},47:Fe=>{"use strict";Fe.exports=function(R,k){if(k=k.split(":")[0],!(R=+R))return!1;switch(k){case"http":case"ws":return 80!==R;case"https":case"wss":return 443!==R;case"ftp":return 21!==R;case"gopher":return 70!==R;case"file":return!1}return 0!==R}},8432:(Fe,je,R)=>{"use strict";var k=R(9903),d=R(4263),ne=R(8597),ee=k("%TypeError%"),W=k("%WeakMap%",!0),Y=k("%Map%",!0),j=d("WeakMap.prototype.get",!0),G=d("WeakMap.prototype.set",!0),ye=d("WeakMap.prototype.has",!0),q=d("Map.prototype.get",!0),te=d("Map.prototype.set",!0),$=d("Map.prototype.has",!0),O=function(ve,ge){for(var ce,oe=ve;null!==(ce=oe.next);oe=ce)if(ce.key===ge)return oe.next=ce.next,ce.next=ve.next,ve.next=ce,ce};Fe.exports=function(){var ge,oe,ce,Ae={assert:function(ue){if(!Ae.has(ue))throw new ee("Side channel does not contain "+ne(ue))},get:function(ue){if(W&&ue&&("object"==typeof ue||"function"==typeof ue)){if(ge)return j(ge,ue)}else if(Y){if(oe)return q(oe,ue)}else if(ce)return function(ve,ge){var oe=O(ve,ge);return oe&&oe.value}(ce,ue)},has:function(ue){if(W&&ue&&("object"==typeof ue||"function"==typeof ue)){if(ge)return ye(ge,ue)}else if(Y){if(oe)return $(oe,ue)}else if(ce)return function(ve,ge){return!!O(ve,ge)}(ce,ue);return!1},set:function(ue,Ge){W&&ue&&("object"==typeof ue||"function"==typeof ue)?(ge||(ge=new W),G(ge,ue,Ge)):Y?(oe||(oe=new Y),te(oe,ue,Ge)):(ce||(ce={key:{},next:null}),function(ve,ge,oe){var ce=O(ve,ge);ce?ce.value=oe:ve.next={key:ge,next:ve.next,value:oe}}(ce,ue,Ge))}};return Ae}},9233:(Fe,je,R)=>{"use strict";var k=R(47),d=R(151),ne=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,ee=/[\n\r\t]/g,W=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,Y=/:\d+$/,j=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,G=/^[a-zA-Z]:/;function ye(oe){return(oe||"").toString().replace(ne,"")}var q=[["#","hash"],["?","query"],function(ce,Ae){return O(Ae.protocol)?ce.replace(/\\/g,"/"):ce},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],te={hash:1,query:1};function $(oe){var ce;ce=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var he,ue={},Ge=typeof(oe=oe||ce.location||{});if("blob:"===oe.protocol)ue=new X(unescape(oe.pathname),{});else if("string"===Ge)for(he in ue=new X(oe,{}),te)delete ue[he];else if("object"===Ge){for(he in oe)he in te||(ue[he]=oe[he]);void 0===ue.slashes&&(ue.slashes=W.test(oe.href))}return ue}function O(oe){return"file:"===oe||"ftp:"===oe||"http:"===oe||"https:"===oe||"ws:"===oe||"wss:"===oe}function V(oe,ce){oe=(oe=ye(oe)).replace(ee,""),ce=ce||{};var Me,Ae=j.exec(oe),ue=Ae[1]?Ae[1].toLowerCase():"",Ge=!!Ae[2],he=!!Ae[3],be=0;return Ge?he?(Me=Ae[2]+Ae[3]+Ae[4],be=Ae[2].length+Ae[3].length):(Me=Ae[2]+Ae[4],be=Ae[2].length):he?(Me=Ae[3]+Ae[4],be=Ae[3].length):Me=Ae[4],"file:"===ue?be>=2&&(Me=Me.slice(2)):O(ue)?Me=Ae[4]:ue?Ge&&(Me=Me.slice(2)):be>=2&&O(ce.protocol)&&(Me=Ae[4]),{protocol:ue,slashes:Ge||O(ue),slashesCount:be,rest:Me}}function X(oe,ce,Ae){if(oe=(oe=ye(oe)).replace(ee,""),!(this instanceof X))return new X(oe,ce,Ae);var ue,Ge,he,be,Me,Ve,Oe=q.slice(),ke=typeof ce,K=this,Ue=0;for("object"!==ke&&"string"!==ke&&(Ae=ce,ce=null),Ae&&"function"!=typeof Ae&&(Ae=d.parse),ue=!(Ge=V(oe||"",ce=$(ce))).protocol&&!Ge.slashes,K.slashes=Ge.slashes||ue&&ce.slashes,K.protocol=Ge.protocol||ce.protocol||"",oe=Ge.rest,("file:"===Ge.protocol&&(2!==Ge.slashesCount||G.test(oe))||!Ge.slashes&&(Ge.protocol||Ge.slashesCount<2||!O(K.protocol)))&&(Oe[3]=[/(.*)/,"pathname"]);Ue<Oe.length;Ue++)"function"!=typeof(be=Oe[Ue])?(Ve=be[1],(he=be[0])!=he?K[Ve]=oe:"string"==typeof he?~(Me="@"===he?oe.lastIndexOf(he):oe.indexOf(he))&&("number"==typeof be[2]?(K[Ve]=oe.slice(0,Me),oe=oe.slice(Me+be[2])):(K[Ve]=oe.slice(Me),oe=oe.slice(0,Me))):(Me=he.exec(oe))&&(K[Ve]=Me[1],oe=oe.slice(0,Me.index)),K[Ve]=K[Ve]||ue&&be[3]&&ce[Ve]||"",be[4]&&(K[Ve]=K[Ve].toLowerCase())):oe=be(oe,K);Ae&&(K.query=Ae(K.query)),ue&&ce.slashes&&"/"!==K.pathname.charAt(0)&&(""!==K.pathname||""!==ce.pathname)&&(K.pathname=function xe(oe,ce){if(""===oe)return ce;for(var Ae=(ce||"/").split("/").slice(0,-1).concat(oe.split("/")),ue=Ae.length,Ge=Ae[ue-1],he=!1,be=0;ue--;)"."===Ae[ue]?Ae.splice(ue,1):".."===Ae[ue]?(Ae.splice(ue,1),be++):be&&(0===ue&&(he=!0),Ae.splice(ue,1),be--);return he&&Ae.unshift(""),("."===Ge||".."===Ge)&&Ae.push(""),Ae.join("/")}(K.pathname,ce.pathname)),"/"!==K.pathname.charAt(0)&&O(K.protocol)&&(K.pathname="/"+K.pathname),k(K.port,K.protocol)||(K.host=K.hostname,K.port=""),K.username=K.password="",K.auth&&(~(Me=K.auth.indexOf(":"))?(K.username=K.auth.slice(0,Me),K.username=encodeURIComponent(decodeURIComponent(K.username)),K.password=K.auth.slice(Me+1),K.password=encodeURIComponent(decodeURIComponent(K.password))):K.username=encodeURIComponent(decodeURIComponent(K.auth)),K.auth=K.password?K.username+":"+K.password:K.username),K.origin="file:"!==K.protocol&&O(K.protocol)&&K.host?K.protocol+"//"+K.host:"null",K.href=K.toString()}X.prototype={set:function ve(oe,ce,Ae){var ue=this;switch(oe){case"query":"string"==typeof ce&&ce.length&&(ce=(Ae||d.parse)(ce)),ue[oe]=ce;break;case"port":ue[oe]=ce,k(ce,ue.protocol)?ce&&(ue.host=ue.hostname+":"+ce):(ue.host=ue.hostname,ue[oe]="");break;case"hostname":ue[oe]=ce,ue.port&&(ce+=":"+ue.port),ue.host=ce;break;case"host":ue[oe]=ce,Y.test(ce)?(ce=ce.split(":"),ue.port=ce.pop(),ue.hostname=ce.join(":")):(ue.hostname=ce,ue.port="");break;case"protocol":ue.protocol=ce.toLowerCase(),ue.slashes=!Ae;break;case"pathname":case"hash":if(ce){var Ge="pathname"===oe?"/":"#";ue[oe]=ce.charAt(0)!==Ge?Ge+ce:ce}else ue[oe]=ce;break;case"username":case"password":ue[oe]=encodeURIComponent(ce);break;case"auth":var he=ce.indexOf(":");~he?(ue.username=ce.slice(0,he),ue.username=encodeURIComponent(decodeURIComponent(ue.username)),ue.password=ce.slice(he+1),ue.password=encodeURIComponent(decodeURIComponent(ue.password))):ue.username=encodeURIComponent(decodeURIComponent(ce))}for(var be=0;be<q.length;be++){var Me=q[be];Me[4]&&(ue[Me[1]]=ue[Me[1]].toLowerCase())}return ue.auth=ue.password?ue.username+":"+ue.password:ue.username,ue.origin="file:"!==ue.protocol&&O(ue.protocol)&&ue.host?ue.protocol+"//"+ue.host:"null",ue.href=ue.toString(),ue},toString:function ge(oe){(!oe||"function"!=typeof oe)&&(oe=d.stringify);var ce,Ae=this,ue=Ae.host,Ge=Ae.protocol;Ge&&":"!==Ge.charAt(Ge.length-1)&&(Ge+=":");var he=Ge+(Ae.protocol&&Ae.slashes||O(Ae.protocol)?"//":"");return Ae.username?(he+=Ae.username,Ae.password&&(he+=":"+Ae.password),he+="@"):Ae.password?(he+=":"+Ae.password,he+="@"):"file:"!==Ae.protocol&&O(Ae.protocol)&&!ue&&"/"!==Ae.pathname&&(he+="@"),(":"===ue[ue.length-1]||Y.test(Ae.hostname)&&!Ae.port)&&(ue+=":"),he+=ue+Ae.pathname,(ce="object"==typeof Ae.query?oe(Ae.query):Ae.query)&&(he+="?"!==ce.charAt(0)?"?"+ce:ce),Ae.hash&&(he+=Ae.hash),he}},X.extractProtocol=V,X.location=$,X.trimLeft=ye,X.qs=d,Fe.exports=X},2086:(Fe,je,R)=>{"use strict";var k=R(4764),d=R(1046),ne=R(6180),ee=R(6434),W=R(3);Fe.exports=function(j){return null==j||"object"!=typeof j&&"function"!=typeof j?null:k(j)?"String":d(j)?"Number":ne(j)?"Boolean":ee(j)?"Symbol":W(j)?"BigInt":void 0}},5709:(Fe,je,R)=>{"use strict";var k=R(3037),d=R(5271),ne=R(4263),ee=ne("Object.prototype.toString"),W=R(3261)(),Y=typeof globalThis>"u"?global:globalThis,j=d(),G=ne("String.prototype.slice"),ye={},q=R(2292),te=Object.getPrototypeOf;W&&q&&te&&k(j,function(V){if("function"==typeof Y[V]){var xe=new Y[V];if(Symbol.toStringTag in xe){var X=te(xe),ve=q(X,Symbol.toStringTag);if(!ve){var ge=te(X);ve=q(ge,Symbol.toStringTag)}ye[V]=ve.get}}});var O=R(7673);Fe.exports=function(xe){return!!O(xe)&&(W&&Symbol.toStringTag in xe?function(xe){var X=!1;return k(ye,function(ve,ge){if(!X)try{var oe=ve.call(xe);oe===ge&&(X=oe)}catch{}}),X}(xe):G(ee(xe),8,-1))}},863:(Fe,je,R)=>{var k={"./ion-accordion_2.entry.js":[79,8592,79],"./ion-action-sheet.entry.js":[5593,8592,5593],"./ion-alert.entry.js":[3225,8592,3225],"./ion-app_8.entry.js":[4812,8592,4812],"./ion-avatar_3.entry.js":[6655,8592,6655],"./ion-back-button.entry.js":[4856,8592,4856],"./ion-backdrop.entry.js":[3059,3059],"./ion-breadcrumb_2.entry.js":[8648,8592,8648],"./ion-button_2.entry.js":[8308,8592,8308],"./ion-card_5.entry.js":[4690,8592,4690],"./ion-checkbox.entry.js":[4090,8592,4090],"./ion-chip.entry.js":[6214,8592,6214],"./ion-col_3.entry.js":[9447,9447],"./ion-datetime_3.entry.js":[9689,8592,9689],"./ion-fab_3.entry.js":[8840,8592,8840],"./ion-img.entry.js":[749,749],"./ion-infinite-scroll_2.entry.js":[9667,8592,9667],"./ion-input.entry.js":[3288,8592,3288],"./ion-item-option_3.entry.js":[5473,8592,5473],"./ion-item_8.entry.js":[3634,8592,3634],"./ion-loading.entry.js":[2855,8592,2855],"./ion-menu_3.entry.js":[495,8592,495],"./ion-modal.entry.js":[8737,8592,8737],"./ion-nav_2.entry.js":[9632,8592,9632],"./ion-picker-column-internal.entry.js":[4446,8592,4446],"./ion-picker-internal.entry.js":[2275,2275],"./ion-popover.entry.js":[8050,8592,8050],"./ion-progress-bar.entry.js":[8994,8592,8994],"./ion-radio_2.entry.js":[3592,8592,3592],"./ion-range.entry.js":[5454,8592,5454],"./ion-refresher_2.entry.js":[290,8592,290],"./ion-reorder_2.entry.js":[2666,8592,2666],"./ion-ripple-effect.entry.js":[4816,4816],"./ion-route_4.entry.js":[5534,8592,5534],"./ion-searchbar.entry.js":[4902,8592,4902],"./ion-segment_2.entry.js":[1938,8592,1938],"./ion-select_3.entry.js":[8179,8592,8179],"./ion-slide_2.entry.js":[668,668],"./ion-spinner.entry.js":[1624,8592,1624],"./ion-split-pane.entry.js":[9989,9989],"./ion-tab-bar_2.entry.js":[8902,8592,8902],"./ion-tab_2.entry.js":[199,8592,199],"./ion-text.entry.js":[8395,8592,8395],"./ion-textarea.entry.js":[6357,8592,6357],"./ion-toast.entry.js":[8268,8592,8268],"./ion-toggle.entry.js":[5269,8592,5269],"./ion-virtual-scroll.entry.js":[2875,2875]};function d(ne){if(!R.o(k,ne))return Promise.resolve().then(()=>{var Y=new Error("Cannot find module '"+ne+"'");throw Y.code="MODULE_NOT_FOUND",Y});var ee=k[ne],W=ee[0];return Promise.all(ee.slice(1).map(R.e)).then(()=>R(W))}d.keys=()=>Object.keys(k),d.id=863,Fe.exports=d},4654:()=>{},5271:Fe=>{"use strict";var je=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],R=typeof globalThis>"u"?global:globalThis;Fe.exports=function(){for(var d=[],ne=0;ne<je.length;ne++)"function"==typeof R[je[ne]]&&(d[d.length]=je[ne]);return d}},2292:(Fe,je,R)=>{"use strict";var d=R(9903)("%Object.getOwnPropertyDescriptor%",!0);if(d)try{d([],"length")}catch{d=null}Fe.exports=d},2069:(Fe,je,R)=>{"use strict";var k=R(9102);if(R(524)()||R(6858)()){var d=Symbol.iterator;Fe.exports=function(Me){return null!=Me&&typeof Me[d]<"u"?Me[d]():k(Me)?Array.prototype[d].call(Me):void 0}}else{var ne=R(8266),ee=R(4764),W=R(9903),Y=W("%Map%",!0),j=W("%Set%",!0),G=R(4263),ye=G("Array.prototype.push"),q=G("String.prototype.charCodeAt"),te=G("String.prototype.slice"),O=function(Me){var Ve=0;return{next:function(){var K,ke=Ve>=Me.length;return ke||(K=Me[Ve],Ve+=1),{done:ke,value:K}}}},V=function(Me,Ve){if(ne(Me)||k(Me))return O(Me);if(ee(Me)){var Oe=0;return{next:function(){var K=function(Me,Ve){if(Ve+1>=Me.length)return Ve+1;var ke=q(Me,Ve);if(ke<55296||ke>56319)return Ve+1;var K=q(Me,Ve+1);return K<56320||K>57343?Ve+1:Ve+2}(Me,Oe),Ue=te(Me,Oe,K);return Oe=K,{done:K>Me.length,value:Ue}}}}return Ve&&typeof Me["_es6-shim iterator_"]<"u"?Me["_es6-shim iterator_"]():void 0};if(Y||j){var xe=R(9898),X=R(3870),ve=G("Map.prototype.forEach",!0),ge=G("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var oe=G("Map.prototype.iterator",!0),ce=G("Set.prototype.iterator",!0),Ae=function(be){var Me=!1;return{next:function(){try{return{done:Me,value:Me?void 0:be.next()}}catch{return Me=!0,{done:!0,value:void 0}}}}};var ue=G("Map.prototype.@@iterator",!0)||G("Map.prototype._es6-shim iterator_",!0),Ge=G("Set.prototype.@@iterator",!0)||G("Set.prototype._es6-shim iterator_",!0);Fe.exports=function(Me){return function(Me){if(xe(Me)){if(oe)return Ae(oe(Me));if(ue)return ue(Me);if(ve){var Ve=[];return ve(Me,function(ke,K){ye(Ve,[K,ke])}),O(Ve)}}if(X(Me)){if(ce)return Ae(ce(Me));if(Ge)return Ge(Me);if(ge){var Oe=[];return ge(Me,function(ke){ye(Oe,ke)}),O(Oe)}}}(Me)||V(Me)}}else Fe.exports=function(Me){if(null!=Me)return V(Me,!0)}}},2107:(Fe,je,R)=>{"use strict";var k=R(9898),d=R(3870),ne=R(5585),ee=R(1902);Fe.exports=function(Y){if(Y&&"object"==typeof Y){if(k(Y))return"Map";if(d(Y))return"Set";if(ne(Y))return"WeakMap";if(ee(Y))return"WeakSet"}return!1}},3918:(Fe,je,R)=>{"use strict";function k(ne,ee,W,Y,j,G,ye){try{var q=ne[G](ye),te=q.value}catch($){return void W($)}q.done?ee(te):Promise.resolve(te).then(Y,j)}function d(ne){return function(){var ee=this,W=arguments;return new Promise(function(Y,j){var G=ne.apply(ee,W);function ye(te){k(G,Y,j,ye,q,"next",te)}function q(te){k(G,Y,j,ye,q,"throw",te)}ye(void 0)})}}R.d(je,{Z:()=>d})}},Fe=>{Fe(Fe.s=1498)}]);
//# sourceMappingURL=main.017bbabe55c0518f.js.map